module(mirth.data.alias)

import(prelude)
import(mirth.data.token)
import(mirth.data.name)
import(mirth.data.def)

table(Alias)
field(alias-head, Alias, Token)
field(alias-name, Alias, Name)
field(alias-target, Alias, Name)

def(alias-new!, Token Name Name -- Alias,
    Alias.alloc!
    tuck alias-target !
    dup2 DEF_ALIAS swap name-def !
    tuck alias-name !
    tuck alias-head !)
