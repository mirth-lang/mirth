module(mirth/data/buffer)
import(mirth/data/common)
import(mirth/data/name)

###########
# Buffers #
###########

buffer-alloc! : Name Size -- Buffer +Buffers
buffer-alloc! = (
    dup heap-alloc!
    Buffer.alloc!
    tuck buffer-base!
    tuck buffer-size!
    tuck dup2 buffer-name!
    swap name-buffer!
)
