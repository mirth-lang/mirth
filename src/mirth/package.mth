module(mirth.package)

import(std.prelude)
import(std.path)
import(mirth.name)

table(Package)
field(Package~name, Package, Name)
def(Package.name, Package -- Name, ~name @)

var(Package.std-var, Package)
def(Package.std, Package,
    Package.std-var memoize(
        Package.alloc!
        "std" >Name over ~name !
    ))

def(Package=, Package Package -- Bool, both(.id) =)
