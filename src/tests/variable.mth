module(tests.variable)
import(prelude)
import(platform.posix)

var(myvar, Int)
def(main, --,
    myvar @ int-trace-ln!
    10 myvar !
    myvar @ int-trace-ln!
    20 myvar !
    myvar @ int-trace-ln!
    myvar @ int-trace-ln!
    30 myvar !
    myvar @ int-trace-ln!)

target-c99("test-variable.c", main)
# mirth-test # perr # 0
# mirth-test # perr # 10
# mirth-test # perr # 20
# mirth-test # perr # 20
# mirth-test # perr # 30
