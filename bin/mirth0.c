#define MIRTH_DEBUG 0
/* MIRTH HEADER */
#line 3 "src/mirth.h"

#if defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__)
#define MIRTH_WINDOWS 1
#elif defined(__linux__)
#define MIRTH_LINUX 1
#elif defined(__APPLE__)
#define MIRTH_MACOS 1
#else
#error "Platform not supported."
#endif

#if defined(__x86_64__) || defined(_M_X64)
#define MIRTH_AMD64
#elif defined(i386) || defined(__i386__) || defined(__i386) || defined(_M_IX86)
#define MIRTH_I386
#elif defined(__aarch64__) || defined(_M_ARM64)
#define MIRTH_ARM64
#else
#error "Architecture not supported."
#endif

#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>
#include <float.h>

extern void* malloc(size_t);
extern void* calloc(size_t, size_t);
extern void* realloc(void*, size_t);
extern void* memset(void*, int, size_t);
extern void* memcpy(void*, const void*, size_t);
extern void* memmove(void*, const void*, size_t);
extern int memcmp(const void*, const void*, size_t);
extern int strcmp(const char*, const char*);
extern size_t strlen(const char*);
extern void free(void*);
extern int read(int, void*, size_t);
extern int write(int, const char*, size_t);
extern int close(int);
extern int open(const char*, int, ...);
extern void exit(int);
extern int sprintf (char * s, const char * format, ...);
extern float strtof(const char* str, char** endptr);
extern double strtod(const char* str, char** endptr);

typedef struct INT { int64_t val; } INT;
typedef uint64_t TAG;
typedef uint64_t PTUP;


typedef uint32_t REFS;
typedef uint64_t USIZE;
typedef void (*FNPTR)(void);

typedef union DATA {
    USIZE usize;
    uint64_t u64;
    uint32_t u32;
    uint16_t u16;
    uint8_t u8;
    int64_t i64;
    int32_t i32;
    int16_t i16;
    int8_t i8;
    float f32;
    double f64;
    void* ptr;
    FNPTR fnptr;
    REFS* refs;
    INT iint;
    struct STR* str;
    PTUP tup;
    struct ARR* arr;
} DATA;

typedef struct VAL {
    DATA data;
    TAG tag;
} VAL;

typedef union ARR_DATA {
    VAL         vals   [1];
    USIZE       usizes [2];
    uint64_t    u64s   [2];
    uint32_t    u32s   [4];
    uint16_t    u16s   [8];
    uint8_t     u8s    [16];
    int64_t     i64s   [2];
    int32_t     i32s   [4];
    int16_t     i16s   [8];
    int8_t      i8s    [16];
    float       f32s   [4];
    double      f64s   [2];
    void*       ptrs   [2];
    FNPTR       fnptrs [2];
    INT         iints  [2];
    struct STR* strs   [2];
    PTUP        tups   [2];
    struct ARR* arrs   [2];
} ARR_DATA;

typedef struct ARR ARR;

typedef struct TYPE {
    const char* name;
    uint64_t flags;
    USIZE stride;
    void (*free)(VAL v);
    void (*trace_)(VAL v, int fd);
    void (*run)(VAL v);
    VAL (*peek_)(ARR* a, USIZE i);
    void (*poke_)(ARR* a, USIZE i, VAL v);
    void (*poke_many_)(ARR* a, USIZE lo, USIZE hi, VAL v);
} TYPE;

#define REFS_FLAG 0x0001
#define PTRMK(e,p,t) (((uint64_t)(e) << 48) | (uint64_t)(p) | (uint64_t)(t))
#define PTRPTR(p) ((void*)(uintptr_t)((uint64_t)(p) & 0xFFFFFFFFFFFC))
#define PTRTAG(p) ((uint64_t)(p) & 0x3)
#define PTRISPTR(p) (PTRPTR(p) && (PTRTAG(p) == 0))
#define PTREXTRA(p) ((uint64_t)(p) >> 48)

static void default_free   (VAL v);
static void default_trace_ (VAL v, int fd);
static void default_run    (VAL v);

#define MKTYPE_FLAT(mtype,mname,mpfx,mstride,...) \
    static void mpfx##_trace_ (VAL v, int fd); \
    static VAL  mpfx##_peek_  (ARR* a, USIZE i); \
    static void mpfx##_poke_  (ARR* a, USIZE i, VAL v); \
    static void mpfx##_poke_many_ (ARR* a, USIZE lo, USIZE hi, VAL v); \
    static TYPE mtype = { .name=mname, .trace_=mpfx##_trace_, .stride=mstride, .peek_=mpfx##_peek_, .poke_=mpfx##_poke_, .poke_many_=mpfx##_poke_many_, __VA_ARGS__ }

#define MKTYPE_REFS(mtype,mname,mpfx,mstride,...) \
    static void mpfx##_free (VAL v); \
    MKTYPE_FLAT(mtype,mname,mpfx,mstride, .free=mpfx##_free, .flags=REFS_FLAG, __VA_ARGS__)

MKTYPE_FLAT(TYPE_BOOL,"Bool",bool,0,);
MKTYPE_REFS(TYPE_INT,"Int",int,8,);
MKTYPE_REFS(TYPE_NAT,"Nat",nat,8,);
MKTYPE_FLAT(TYPE_I64,"I64",i64,8,);
MKTYPE_FLAT(TYPE_I32,"I32",i32,4,);
MKTYPE_FLAT(TYPE_I16,"I16",i16,2,);
MKTYPE_FLAT(TYPE_I8,"I8",i8,1,);
MKTYPE_FLAT(TYPE_U64,"U64",u64,8,);
MKTYPE_FLAT(TYPE_U32,"U32",u32,4,);
MKTYPE_FLAT(TYPE_U16,"U16",u16,2,);
MKTYPE_FLAT(TYPE_U8,"U8",u8,1,);
MKTYPE_FLAT(TYPE_F64,"F64",f64,8,);
MKTYPE_FLAT(TYPE_F32,"F32",f32,4,);
MKTYPE_FLAT(TYPE_PTR,"Ptr",ptr,sizeof(void*),);
static void fnptr_run (VAL v);
MKTYPE_FLAT(TYPE_FNPTR,"FnPtr",fnptr,sizeof(FNPTR),.run=fnptr_run,);
MKTYPE_REFS(TYPE_STR,"Str",str,sizeof(void*),);
static void tup_run (VAL v);
MKTYPE_REFS(TYPE_TUP,"Tup",tup,sizeof(void*),.run=tup_run,);
MKTYPE_REFS(TYPE_ARR,"Array",arr,sizeof(void*),);

#define TAG_BOOL  ((TAG)&TYPE_BOOL)
#define TAG_I64   ((TAG)&TYPE_I64)
#define TAG_I32   ((TAG)&TYPE_I32)
#define TAG_I16   ((TAG)&TYPE_I16)
#define TAG_I8    ((TAG)&TYPE_I8)
#define TAG_U64   ((TAG)&TYPE_U64)
#define TAG_U32   ((TAG)&TYPE_U32)
#define TAG_U16   ((TAG)&TYPE_U16)
#define TAG_U8    ((TAG)&TYPE_U8)
#define TAG_F64   ((TAG)&TYPE_F64)
#define TAG_F32   ((TAG)&TYPE_F32)
#define TAG_PTR   ((TAG)&TYPE_PTR)
#define TAG_FNPTR ((TAG)&TYPE_FNPTR)
#define TAG_INT   (REFS_FLAG | (TAG)&TYPE_INT)
#define TAG_NAT   (REFS_FLAG | (TAG)&TYPE_NAT)
#define TAG_STR   (REFS_FLAG | (TAG)&TYPE_STR)
#define TAG_TUP   (REFS_FLAG | (TAG)&TYPE_TUP)
#define TAG_ARR   (REFS_FLAG | (TAG)&TYPE_ARR)

#define VALEQ(v1,v2) (((v1).tag == (v2).tag) && ((v1).data.u64 == (v2).data.u64))

#define VTYPE(v) ((const TYPE*)(PTRPTR((v).tag)))
#define VREFS(v) (*(REFS*)PTRPTR((v).data.u64))
#define HAS_REFS(v) (TAG_HAS_REFS((v).tag) && PTRISPTR((v).data.u64))
#define TAG_HAS_REFS(t) (((t) & REFS_FLAG))

#define VINT(v)   ((v).data.iint)
#define VNAT(v)   ((v).data.iint)
#define VI64(v)   ((v).data.i64)
#define VI32(v)   ((v).data.i32)
#define VI16(v)   ((v).data.i16)
#define VI8(v)    ((v).data.i8)
#define VU64(v)   ((v).data.u64)
#define VU32(v)   ((v).data.u32)
#define VU16(v)   ((v).data.u16)
#define VU8(v)    ((v).data.u8)
#define VBOOL(v)  ((_Bool)((v).data.u64))
#define VF32(v)   ((v).data.f32)
#define VF64(v)   ((v).data.f64)
#define VPTR(v)   ((v).data.ptr)
#define VFNPTR(v) ((v).data.fnptr)

#define IS_VAL(v)   (1)
#define IS_INT(v)   ((v).tag == TAG_INT)
#define IS_NAT(v)   ((v).tag == TAG_NAT)
#define IS_I64(v)   ((v).tag == TAG_I64)
#define IS_I32(v)   ((v).tag == TAG_I32)
#define IS_I16(v)   ((v).tag == TAG_I16)
#define IS_I8(v)    ((v).tag == TAG_I8)
#define IS_U64(v)   ((v).tag == TAG_U64)
#define IS_U32(v)   ((v).tag == TAG_U32)
#define IS_U16(v)   ((v).tag == TAG_U16)
#define IS_U8(v)    ((v).tag == TAG_U8)
#define IS_BOOL(v)  ((v).tag == TAG_BOOL)
#define IS_F32(v)   ((v).tag == TAG_F32)
#define IS_F64(v)   ((v).tag == TAG_F64)
#define IS_PTR(v)   ((v).tag == TAG_PTR)
#define IS_FNPTR(v) ((v).tag == TAG_FNPTR)
#define IS_STR(v)   ((v).tag == TAG_STR)
#define IS_ARR(v)   ((v).tag == TAG_ARR)
#define IS_TUP(v)   ((v).tag == TAG_TUP)
#define IS_NIL(v)   (IS_TUP(v) && (VTUPLEN(v) == 0))

#define MKVAL(x)   (x)
#define MKBOOL(x)  ((VAL){.tag=TAG_BOOL, .data={.u64=(x)}})
#define MKI64(x)   ((VAL){.tag=TAG_I64, .data={.i64=(x)}})
#define MKI32(x)   ((VAL){.tag=TAG_I32, .data={.i64=(x)}})
#define MKI16(x)   ((VAL){.tag=TAG_I16, .data={.i64=(x)}})
#define MKI8(x)    ((VAL){.tag=TAG_I8, .data={.i64=(x)}})
#define MKU64(x)   ((VAL){.tag=TAG_U64, .data={.u64=(x)}})
#define MKU32(x)   ((VAL){.tag=TAG_U32, .data={.u64=(x)}})
#define MKU16(x)   ((VAL){.tag=TAG_U16, .data={.u64=(x)}})
#define MKU8(x)    ((VAL){.tag=TAG_U8, .data={.u64=(x)}})
#define MKF32(x)   ((VAL){.tag=TAG_F32, .data={.f32=(x)}})
#define MKF64(x)   ((VAL){.tag=TAG_F64, .data={.f64=(x)}})
#define MKPTR(x)   ((VAL){.tag=TAG_PTR, .data={.ptr=(x)}})
#define MKFNPTR(x) ((VAL){.tag=TAG_FNPTR, .data={.fnptr=(x)}})

#define VSTR(v)    (((v).data.str))
#define MKSTR(x)   ((VAL){.tag=TAG_STR, .data={.str=(x)}})

#define VTUP(v)    (((v).data.tup))
#define VTUPLEN(v) (tup_len_(VTUP(v)))
#define MKTUP(x)   ((VAL){.tag=TAG_TUP, .data={.tup=(x)}})
#define MKNIL      ((VAL){.tag=TAG_TUP, .data={.tup=NULL}})

#define VARR(v)   ((v).data.arr)
#define MKARR(x)  ((VAL){.tag=TAG_ARR, .data={.arr=(x)}})

#define INT63_MIN (-0x4000000000000000LL)
#define INT63_MAX ( 0x3FFFFFFFFFFFFFFFLL)

#define IS_I63(x) ((x).val & 1)
#define WRAP_I63(x) ((INT){ .val = 1+2*(int64_t)(x) })
#define GET_I63(x) ((((x).val)-1)/2)

#define IS_BIG(x) (!IS_I63(x))
#define WRAP_BIG(x) ((INT){ .val = (intptr_t)(x) })
#define GET_BIG(x) ((struct BIG*)(intptr_t)((x).val))

#define MKINT(x) ((VAL){.tag=TAG_INT, .data={.iint=(x)}})
#define MKNAT(x) ((VAL){.tag=TAG_NAT, .data={.iint=(x)}})

#define IS_INT_I63(x) (IS_INT(x) && IS_I63((x).data.iint))
#define MKINT_I63(x) (MKINT(WRAP_I63(x)))
#define VINT_I63(x) (GET_I63((x).data.iint))

#define IS_INT_BIG(x) (IS_INT(x) && IS_BIG((x).data.iint))
#define MKINT_BIG(x) (MKINT(WRAP_BIG(x)))
#define VINT_BIG(x) (GET_BIG((x).data.iint))

#define TUP_LEN_MAX 0x3FFF

#define STRLIT(v,x,n) \
    do { \
        static STR* mval = 0; \
        if (!mval) mval = str_make(x,n); \
        incref(MKSTR(mval)); \
        v = mval; \
    } while(0)

typedef uint16_t TUPLEN;
typedef struct TUP {
    REFS refs;
    TUPLEN cap;
    TUPLEN size;
    VAL cells[];
} TUP;

typedef struct STR {
    REFS refs;
    USIZE cap;
    USIZE size;
    char data[];
} STR;

struct ARR {
    REFS refs;
    USIZE cap; // in number of elements
    USIZE size; // in number of elements
    USIZE stride; // in bytes, can be zero.
    TAG tag; // never zero
    ARR_DATA data;
};

#define ANY
#define BIG_S(z) { REFS refs; USIZE cap; USIZE size; uint32_t radix[z]; }
typedef struct BIG BIG_S(ANY) BIG;

#define STACK_MAX 0x80000
static USIZE stack_counter = STACK_MAX;
static VAL stack [STACK_MAX] = {0};
static USIZE rstack_counter = STACK_MAX;
static VAL rstack [STACK_MAX] = {0};

static int global_argc;
static char** global_argv;

static void push_value(VAL v);
static void trace_stack(void);

static void trace_rstack(void);

#if MIRTH_DEBUG
    typedef struct LOC {
        const char* word;
        const char* path;
        USIZE line, col;
        const char* atom;
    } LOC;
    static USIZE fstack_counter = 0;
    static LOC fstack [STACK_MAX] = {
        {
            .word="<word>",
            .path="<path>",
            .line=0, .col=0,
            .atom="<atom>"
        },
    };

    #define WORD_ENTER(_w,_p,_l,_c) \
        do { \
            fstack[fstack_counter].word = (_w); \
            fstack[fstack_counter].path = (_p); \
            fstack[fstack_counter].line = (_l); \
            fstack[fstack_counter].col = (_c); \
            fstack[fstack_counter].atom = ""; \
            fstack_counter++; \
        } while(0)

    #define WORD_ATOM(_l,_c,_n) \
        do { \
            if (fstack_counter > 0) { \
                fstack[fstack_counter-1].line = (_l); \
                fstack[fstack_counter-1].col = (_c); \
                fstack[fstack_counter-1].atom = (_n); \
            } \
        } while(0)

    #define WORD_EXIT \
        do { \
            if (fstack_counter == 0) { \
                TRACE("mismatched WORD_EXIT\n"); \
                exit(1); \
            } \
            fstack_counter--; \
        } while(0)
#endif

#define TRACE(x) write(2,x,strlen(x))
#define _STR(x) #x
#define STR(x) _STR(x)

#define EXPECT(test,msg) \
    do { \
        if (!(test)) { \
            TRACE(msg "\n"); \
            trace_stack(); \
            trace_rstack(); \
            exit(1); \
        } \
    } while(0)

#define EXPECT1(test,msg,v1) \
    do { \
        if (!(test)) { \
            TRACE(msg "\n"); \
            push_value(v1); \
            trace_stack(); \
            trace_rstack(); \
            exit(1); \
        } \
    } while(0)

#define EXPECT2(test,msg,v1,v2) \
    do { \
        if (!(test)) { \
            TRACE(msg "\n"); \
            push_value(v1); \
            push_value(v2); \
            trace_stack(); \
            trace_rstack(); \
            exit(1); \
        } \
    } while(0)

#define ASSERT(test) \
    EXPECT(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")")
#define ASSERT1(test,v) \
    EXPECT1(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")", v)
#define ASSERT2(test,v1,v2) \
    EXPECT2(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")", v1, v2)

#define incref(v) do { if (HAS_REFS(v)) VREFS(v)++; } while(0)
#define decref(v) do { if (HAS_REFS(v)) if (!--VREFS(v)) free_value(v); } while(0)
static void free_value(VAL v) {
    ASSERT(VTYPE(v));
    ASSERT1(VTYPE(v)->free,v);
    ASSERT1(HAS_REFS(v),v);
    ASSERT1(VREFS(v) == 0,v);
    VTYPE(v)->free(v);
}

static void str_free (VAL v) {
    STR* str = VSTR(v);
    free(str);
}

static void tup_free (VAL v) {
    PTUP ptup = VTUP(v);
    if (PTRISPTR(ptup)) {
        TUP* tup = PTRPTR(ptup);
        for (TUPLEN i = 0; i < tup->size; i++) {
            decref(tup->cells[i]);
        }
        free(tup);
    }
}

static void tup_decref_outer(PTUP ptup) {
    if (PTRISPTR(ptup)) {
        TUP* tup = PTRPTR(ptup);
        if (tup->refs == 1) {
            free(tup);
        } else {
            for (size_t i = 0; i < tup->size; i++) {
                incref(tup->cells[i]);
            }
            if (!--tup->refs) tup_free(MKTUP(ptup));
        }
    }
}

static TUPLEN tup_len_ (PTUP ptup) {
    if (PTRISPTR(ptup)) {
        TUP* tup = PTRPTR(ptup);
        return tup->size;
    } else {
        return 0;
    }
}

static VAL val_peek_(ARR* arr, USIZE i);
static void val_poke_(ARR* arr, USIZE i, VAL v);
static void val_poke_many_(ARR* arr, USIZE lo, USIZE hi, VAL v);

static void arr_free (VAL v) {
    ARR* arr = VARR(v);
    if (arr) {
        if (TAG_HAS_REFS(arr->tag)) {
            for (USIZE i = 0; i < arr->size; i++) {
                VAL v = val_peek_(arr,i);
                decref(v);
            }
        }
        free(arr);
    }
}

static uint64_t value_u64 (VAL v) { ASSERT1(IS_U64(v),v); return VU64(v); }
static uint32_t value_u32 (VAL v) { ASSERT1(IS_U32(v),v); return VU32(v); }
static uint16_t value_u16 (VAL v) { ASSERT1(IS_U16(v),v); return VU16(v); }
static uint8_t  value_u8  (VAL v) { ASSERT1(IS_U8(v) ,v); return VU8(v) ; }

static INT value_int (VAL v) { ASSERT1(IS_INT(v),v); return VINT(v); }
static INT value_nat (VAL v) { ASSERT1(IS_NAT(v),v); return VNAT(v); }
static int64_t value_i64 (VAL v) { ASSERT1(IS_I64(v),v); return VI64(v); }
static int32_t value_i32 (VAL v) { ASSERT1(IS_I32(v),v); return VI32(v); }
static int16_t value_i16 (VAL v) { ASSERT1(IS_I16(v),v); return VI16(v); }
static int8_t  value_i8  (VAL v) { ASSERT1(IS_I8(v) ,v); return VI8(v) ; }
static bool value_bool (VAL v) { ASSERT1(IS_BOOL(v),v); return VBOOL(v); }

static double value_f64 (VAL v) { ASSERT1(IS_F64(v), v); return VF64(v); }
static float value_f32 (VAL v) { ASSERT1(IS_F32(v), v); return VF32(v); }

static void* value_ptr (VAL v) { ASSERT1(IS_PTR(v),v); return VPTR(v); }
static FNPTR value_fnptr (VAL v) { ASSERT1(IS_FNPTR(v),v); return VFNPTR(v); }
static STR* value_str (VAL v) { ASSERT1(IS_STR(v),v); return VSTR(v); }
static ARR* value_arr (VAL v) { ASSERT1(IS_ARR(v),v); return VARR(v); }
static PTUP value_tup (VAL v) { ASSERT1(IS_TUP(v),v); return VTUP(v); }

static void push_value (VAL x) { ASSERT(stack_counter > 0); stack[--stack_counter] = x; }
static void push_resource (VAL x) { ASSERT(rstack_counter > 0); rstack[--rstack_counter] = x; }
static VAL pop_value (void) { ASSERT(stack_counter < STACK_MAX); return stack[stack_counter++]; }
static VAL pop_resource (void) { ASSERT(rstack_counter < STACK_MAX); return rstack[rstack_counter++]; }

// Create a plain TUP with at least min(cap_hint, TUP_LEN_MAX) capacity.
static TUP* tup_new (TUPLEN cap_hint) {
    if (cap_hint < 3) cap_hint = 3;
    if (cap_hint > TUP_LEN_MAX) cap_hint = TUP_LEN_MAX;
    TUP *new_tup = calloc(1, sizeof(TUP) + sizeof(VAL)*(USIZE)cap_hint);
    ASSERT(new_tup);
    new_tup->refs = 1;
    new_tup->cap = cap_hint;
    return new_tup;
}

static VAL tup_replace (VAL vtup, TUPLEN i, VAL v) {
    ASSERT(IS_TUP(vtup));
    TUPLEN n = VTUPLEN(vtup);
    ASSERT(i < n);
    PTUP ptup = VTUP(vtup);
    ASSERT(PTRISPTR(ptup));
    TUP* tup = PTRPTR(ptup);
    if (tup->refs > 1) {
        TUP* newtup = tup_new(n);
        newtup->size = n;
        memcpy(newtup->cells, tup->cells, n*sizeof(VAL));
        for (TUPLEN j=0; j<n; j++) incref(newtup->cells[j]);
        decref(vtup);
        tup = newtup;
        ptup = PTRMK(PTREXTRA(ptup),tup,0);
        vtup = MKTUP(ptup);
    }
    VAL u = tup->cells[i];
    tup->cells[i] = v;
    decref(u);
    return vtup;
}

typedef struct STACK {
    size_t cap;
    size_t len;
    VAL* val;
} STACK;

static VAL lpop(STACK* stk) {
    ASSERT(stk->len > 0);
    return stk->val[--stk->len];
}
static void lpush(STACK* stk, VAL val) {
    if (stk->len >= stk->cap) {
        stk->cap = stk->cap * 2 + 4;
        VAL* newval = realloc(stk->val, stk->cap * sizeof(VAL));
        ASSERT(newval);
        stk->val = newval;
    }
    stk->val[stk->len++] = val;
}

static STR* str_alloc (USIZE cap) {
    ASSERT(cap <= SIZE_MAX - sizeof(STR) - 4);
    STR* str = calloc(1, (size_t)(cap + sizeof(STR) + 4));
    EXPECT(str, "failed to allocate string");
    str->refs = 1;
    str->cap = cap;
    return str;
}

static STR* str_make (const char* data, USIZE size) {
    ASSERT(data);
    ASSERT(size <= SIZE_MAX - sizeof(STR) - 4);
    STR* str = str_alloc(size);
    str->size = size;
    memcpy(str->data, data, (size_t)size);
    return str;
}
#define mkstr(x,n) MKSTR(str_make((x), (n)))

static STR* str_pushn (STR* s, const char* p, USIZE n2) {
    if (n2 == 0) return s;
    ASSERT(s && p);
    ASSERT(n2 <= SIZE_MAX);
    USIZE m = s->cap;
    USIZE n1 = s->size;
    ASSERT(n1 <= SIZE_MAX-n2);
    ASSERT(4 <= SIZE_MAX-n1-n2);
    if ((s->refs == 1) && (n1 + n2 + 4 <= m)) {
        memcpy(s->data + n1, p, (size_t)n2);
        s->size += n2;
        ASSERT(s->size + 4 <= s->cap);
        return s;
    } else {
        USIZE m2 = n1 + n2 + 4;
        if ((s->refs == 1) && (m <= SIZE_MAX-m) && (m2 < m*2)) m2 = m*2;
        STR* str = str_alloc(m2);
        str->size = n1+n2;
        memcpy(str->data, s->data, (size_t)n1);
        memcpy(str->data+n1, p, (size_t)n2);
        decref(MKSTR(s));
        return str;
    }
}

static STR* str_cat (STR* s1, STR* s2) {
    EXPECT(s1 && s2, "invalid strings in prim-str-cat");
    STR* out = str_pushn(s1, s2->data, s2->size);
    decref(MKSTR(s2));
    return out;
}

static USIZE get_data_tag(VAL v) {
    if (IS_TUP(v)) {
        return PTREXTRA(VTUP(v));
    } else {
        return VU64(v);
    }
}

static int str_cmp(STR* s1, STR* s2) {
    ASSERT(s1 && s2);
    USIZE n1 = s1->size;
    USIZE n2 = s2->size;
    USIZE n = (n1 < n2 ? n1 : n2);
    ASSERT(n < SIZE_MAX);
    int r = memcmp(s1->data, s2->data, (size_t)n);
    decref(MKSTR(s1));
    decref(MKSTR(s2));
    if (r) return r;
    if (n1 < n2) return -1;
    if (n1 > n2) return 1;
    return 0;
}

static STR* str_drop (STR* in, size_t num_bytes) {
    ASSERT(in);
    if (num_bytes > in->size) {
        num_bytes = in->size;
    }
    size_t remaining = in->size - num_bytes;
    char* slice = in->data + num_bytes;

    if (in->refs == 1) {
        if (remaining > 0) memmove(in->data, slice, remaining);
        memset(in->data + remaining, 0, in->cap - remaining);
        in->size = remaining;
        return in;
    } else {
        STR* out = str_make(slice, remaining);
        decref(MKSTR(in));
        return out;
    }
}

static float str_to_f32 (STR* in, STR** out) {
    ASSERT(in); ASSERT(out);
    ASSERT(in->data[in->size] == 0);
    char *endptr = NULL;
    float val = strtof(in->data, &endptr);
    ASSERT(endptr);
    ASSERT(endptr >= in->data);
    size_t consumed = endptr - in->data;
    *out = str_drop(in, consumed);
    return val;
}

static double str_to_f64 (STR* in, STR** out) {
    ASSERT(in); ASSERT(out);
    ASSERT(in->data[in->size] == 0);
    char *endptr = NULL;
    double val = strtod(in->data, &endptr);
    ASSERT(endptr);
    ASSERT(endptr >= in->data);
    size_t consumed = endptr - in->data;
    *out = str_drop(in, consumed);
    return val;
}

static void tup_run(VAL v) {
    ASSERT(VTUPLEN(v)>0);
    PTUP p = VTUP(v);
    ASSERT(PTRISPTR(p));
    TUP* t = PTRPTR(p);
    VAL h = t->cells[0];
    ASSERT(IS_FNPTR(h));
    push_value(v);
    VFNPTR(h)();
}

static void fnptr_run(VAL v) {
    VFNPTR(v)();
}

static void run_value(VAL v) {
    ASSERT(VTYPE(v));
    ASSERT1(VTYPE(v)->run, v);
    VTYPE(v)->run(v);
}

static void int_free(VAL x) {
    if (IS_INT_BIG(x)) {
        free(VINT_BIG(x));
    }
}

static void nat_free(VAL x) {
    VAL v = MKINT(VNAT(x));
    int_free(v);
}


BIG* big_alloc(size_t cap) {
    ASSERT(cap >= 2);
    BIG* out = calloc(1, sizeof(*out) + cap*sizeof(*out->radix) + 4);
    EXPECT(out, "Ran out of memory.");
    out->refs = 1;
    out->cap = cap;
    out->size = 0;
    return out;
}

#define SIGN_BIT(x) ((x) & 0x80000000)
#define NEXT_RADIX(x) (SIGN_BIT(x) ? (uint32_t)0xFFFFFFFF : (uint32_t)0)
#define SIGN_RADIX(a) (NEXT_RADIX((a)->radix[(a)->size-1]))

#define LO_RADIX(x) ((uint32_t)(x))
#define HI_RADIX(x) ((uint32_t)(((uint64_t)(x)) >> 32))

static void big_incref (BIG* a) { a->refs++; }
static void big_decref (BIG* a) { if (!--a->refs) free(a); }

// expand (or clone) to make room for n radixes, returns unique a
static BIG* big_reserve (BIG* a, size_t n) {
    ASSERT(a);
    if ((a->refs == 1) && (a->cap >= n))
        return a;
    if (n < a->cap*2) n = a->cap*2;
    if (a->refs == 1) {
        BIG* b = realloc(a, sizeof(*b) + n*sizeof(*b->radix) + 4);
        EXPECT(b, "Ran out of memory.");
        b->cap = n;
        return b;
    } else {
        BIG* b = big_alloc(n);
        b->size = a->size;
        memcpy(b->radix, a->radix, a->size*sizeof(a->radix[0]));
        big_decref(a);
        return b;
    }
}

#define FITS_I63(x) ((INT63_MIN <= (int64_t)(x)) && ((int64_t)(x) <= INT63_MAX))

static INT i64_to_int(int64_t x) {
    if (FITS_I63(x)) {
        return WRAP_I63(x);
    } else {
        BIG* big = big_alloc(3);
        big->size = 2;
        uint64_t y = (uint64_t)x;
        big->radix[0] = LO_RADIX(y);
        big->radix[1] = HI_RADIX(y);
        return WRAP_BIG(big);
    }
}

static INT u64_to_int(uint64_t x) {
    if (x <= (uint64_t)INT64_MAX) {
        return i64_to_int((int64_t)x);
    } else {
        BIG* big = big_alloc(4);
        big->size = 3;
        big->radix[0] = LO_RADIX(x);
        big->radix[1] = HI_RADIX(x);
        big->radix[2] = 0;
        return WRAP_BIG(big);
    }
}

static INT big_normalize (BIG* a) {
    ASSERT(a); ASSERT(a->refs == 1); ASSERT(a->size >= 1);
    while ((a->size > 2) && (NEXT_RADIX(a->radix[a->size-2]) == a->radix[a->size-1]))
        a->size--;
    if (a->size == 2) {
        uint64_t u = (uint64_t)(a->radix[0]) | ((uint64_t)(a->radix[1]) << 32);
        int64_t i = (int64_t)u;
        if (FITS_I63(i)) {
            free(a);
            return WRAP_I63(i);
        }
    }
    if (a->size == 1) {
        int64_t i = a->radix[0];
        free(a);
        return WRAP_I63(i);
    }
    return WRAP_BIG(a);
}

static INT big_i63_add (BIG* a, int64_t b) {
    ASSERT(a); ASSERT(a->size >= 2);
    if (b == 0) return WRAP_BIG(a);
    a = big_reserve(a, a->size+1);

    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);

    uint32_t b0 = LO_RADIX(b);
    uint32_t b1 = HI_RADIX(b);
    uint32_t bn = NEXT_RADIX(b1);

    uint64_t r0 = (uint64_t)(a->radix[0]) + (uint64_t)(b0);
    uint64_t r1 = (uint64_t)(a->radix[1]) + (uint64_t)(b1) + (uint64_t)HI_RADIX(r0);

    a->radix[0] = LO_RADIX(r0);
    a->radix[1] = LO_RADIX(r1);
    uint32_t c = HI_RADIX(r1);
    for (size_t i = 2; i < a->size; i++) {
        uint64_t r = (uint64_t)(a->radix[i]) + (uint64_t)bn + (uint64_t)c;
        a->radix[i] = LO_RADIX(r);
        c = HI_RADIX(r);
    }
    a->radix[a->size++] = an + bn + c;
    return big_normalize(a);
}

static INT big_big_add (BIG* a, BIG* b) {
    ASSERT(a); ASSERT(b);
    if (b->size > a->size) { BIG*t=a; a=b; b=t; }
    a = big_reserve(a, a->size+1);
    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);
    uint32_t bn = NEXT_RADIX(b->radix[b->size-1]);
    uint32_t c = 0;
    size_t i=0;
    for (; i < b->size; i++) {
        uint64_t r = (uint64_t)a->radix[i] + (uint64_t)b->radix[i] + (uint64_t)c;
        a->radix[i] = LO_RADIX(r);
        c = HI_RADIX(r);
    }
    for (; i < a->size; i++) {
        uint64_t r = (uint64_t)a->radix[i] + (uint64_t)bn + (uint64_t)c;
        a->radix[i] = LO_RADIX(r);
        c = HI_RADIX(r);
    }
    a->radix[a->size++] = an + bn + c;
    big_decref(b);
    return big_normalize(a);
}

static INT int_add(INT a, INT b) {
    if (IS_I63(a)) {
        if (IS_I63(b)) {
            return i64_to_int(GET_I63(a) + GET_I63(b));
        } else {
            return big_i63_add(GET_BIG(b), GET_I63(a));
        }
    } else {
        if (IS_I63(b)) {
            return big_i63_add(GET_BIG(a), GET_I63(b));
        } else {
            return big_big_add(GET_BIG(a), GET_BIG(b));
        }
    }
}

static INT big_negate(BIG* a) {
    ASSERT(a);
    a = big_reserve(a, a->size+1);
    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);
    uint32_t c = 1;
    for (size_t i=0; i < a->size; i++) {
        uint64_t r = (uint64_t)(~(uint32_t)(a->radix[i])) + (uint64_t)c;
        a->radix[i] = LO_RADIX(r);
        c = HI_RADIX(r);
    }
    a->radix[a->size++] = ~an + c;
    return big_normalize(a);
}

static INT int_negate(INT a) {
    if (IS_I63(a)) {
        return i64_to_int(-GET_I63(a));
    } else {
        return big_negate(GET_BIG(a));
    }
}

static INT int_sub(INT a, INT b) {
    if (IS_I63(a) && IS_I63(b)) {
        return i64_to_int(GET_I63(a) - GET_I63(b));
    } else {
        return int_add(a, int_negate(b));
    }
}

static uint64_t int_to_u64(INT a) {
    if (IS_I63(a)) {
        return (uint64_t)GET_I63(a);
    } else {
        BIG* b = GET_BIG(a);
        ASSERT(b && b->size >= 2);
        uint64_t r = (uint64_t)(b->radix[0]) | ((uint64_t)(b->radix[1]) << 32);
        big_decref(b);
        return r;
    }
}
static int64_t int_to_i64(INT a) { return (int64_t)int_to_u64(a); }

static INT i63_i63_mul (int64_t a, int64_t b) {
    if ((b == 0) ||
        ((b > 0) && (INT63_MIN/b <= a) && (a <= INT63_MAX/b)) ||
        ((b < 0) && (INT63_MAX/b <= a) && (a <= INT63_MIN/b)))
    {
        return WRAP_I63(a * b);
    }

    bool negate = (a < 0) ^ (b < 0);
    if (a < 0) a = -a;
    if (b < 0) b = -b;

    uint64_t a0 = LO_RADIX(a);
    uint64_t a1 = HI_RADIX(a);
    uint64_t b0 = LO_RADIX(b);
    uint64_t b1 = HI_RADIX(b);

    uint64_t r0 = a0 * b0;
    uint64_t r1 = a1 * b0 + a0 * b1 + HI_RADIX(r0);
    uint64_t r2 = a1 * b1 + HI_RADIX(r1);
    uint64_t r3 = HI_RADIX(r2);

    BIG* c = big_alloc(5);
    c->size = 4;
    c->radix[0] = LO_RADIX(r0);
    c->radix[1] = LO_RADIX(r1);
    c->radix[2] = LO_RADIX(r2);
    c->radix[3] = LO_RADIX(r3);
    INT x = big_normalize(c);
    return negate ? int_negate(x) : x;
}

static void big_u32_mul_shift_accum_(BIG* accum, BIG* a, uint32_t x, size_t shift) {
    if (x == 0) return;
    uint32_t mul_carry = 0;
    uint32_t add_carry = 0;
    uint32_t an = SIGN_RADIX(a);
    for (size_t i=0; i + shift < accum->size; i++) {
        uint32_t ar = (i < a->size) ? a->radix[i] : an;
        uint64_t mul_result = (uint64_t)ar * (uint64_t)x + (uint64_t)mul_carry;
        uint64_t add_result = (uint64_t)accum->radix[i+shift] + (uint64_t)LO_RADIX(mul_result) + (uint64_t)add_carry;
        accum->radix[i+shift] = LO_RADIX(add_result);
        mul_carry = HI_RADIX(mul_result);
        add_carry = HI_RADIX(add_result);
    }
}

static void big_negate_shift_accum_(BIG* accum, BIG* a, size_t shift) {
    uint32_t carry = 1;
    uint32_t an = SIGN_RADIX(a);
    for (size_t i = 0; i+shift < accum->size; i++) {
        uint32_t ar = (i < a->size) ? a->radix[i] : an;
        uint64_t result = (uint64_t)accum->radix[i+shift] + (uint64_t)(~ar) + (uint64_t)carry;
        accum->radix[i+shift] = LO_RADIX(result);
        carry = HI_RADIX(result);
    }
}

static INT big_i63_mul (BIG* a, int64_t b) {
    if (b == 0) { big_decref(a); return WRAP_I63(0); }
    if (b == 1) { return WRAP_BIG(a); }
    if (b == -1) { return big_negate(a); }
    BIG* accum = big_alloc(a->size + 3);
    accum->size = a->size + 2;
    big_u32_mul_shift_accum_(accum, a, LO_RADIX(b), 0);
    big_u32_mul_shift_accum_(accum, a, HI_RADIX(b), 1);
    uint32_t bn = NEXT_RADIX(HI_RADIX(b));
    if (b < 0) { big_negate_shift_accum_(accum, a, 2); }
    big_decref(a);
    return big_normalize(accum);
}

static INT big_big_mul (BIG* a, BIG* b) {

    if (a->size > b->size) { BIG*t=a; a=b; b=t; }
    BIG* accum = big_alloc(a->size + b->size + 1);
    accum->size = a->size + b->size;
    for (size_t i = 0; i < b->size; i++) {
        big_u32_mul_shift_accum_(accum, a, b->radix[i], i);
    }
    if (SIGN_RADIX(b)) {
        big_negate_shift_accum_(accum, a, b->size);
    }
    big_decref(a);
    big_decref(b);
    return big_normalize(accum);
}

static INT int_mul(INT a, INT b) {
    if (IS_I63(a)) {
        if (IS_I63(b)) {
            return i63_i63_mul(GET_I63(a),GET_I63(b));
        } else {
            return big_i63_mul(GET_BIG(b),GET_I63(a));
        }
    } else {
        if (IS_I63(b)) {
            return big_i63_mul(GET_BIG(a),GET_I63(b));
        } else {
            return big_big_mul(GET_BIG(a),GET_BIG(b));
        }
    }
}

static void int_incref(INT a) { if (IS_BIG(a)) big_incref(GET_BIG(a)); }
static void int_decref(INT a) { if (IS_BIG(a)) big_decref(GET_BIG(a)); }
static bool int_is_zero_(INT a) { return a.val == WRAP_I63(0).val; }
static bool int_is_negative_(INT a) {
    return IS_I63(a) ? (GET_I63(a) < 0) : (SIGN_RADIX(GET_BIG(a)) != 0);
}

static int64_t i64_div(int64_t, int64_t);
static int64_t i64_mod(int64_t, int64_t);

static void big_u32_shift_udivmod(BIG* a, uint32_t bhead, size_t bshift, INT* q, INT* r) {
    ASSERT(bhead >= 1); ASSERT(a && (a->size > bshift));
    BIG* accum = big_alloc(a->size - bshift + 2); // quatient in accum
    accum->size = a->size - bshift;
    a = big_reserve(a, a->size); // remainder in a
    uint64_t ar = 0;
    for (size_t i = a->size - bshift; i --> 0;) {
        ar = (ar << 32) | (uint64_t)a->radix[i + bshift];
        a->radix[i+bshift] = 0;
        uint64_t rq = ar / (uint64_t)bhead;
        ar = ar % (uint64_t)bhead;
        accum->radix[i] = rq;
    }
    a->radix[bshift] = ar;
    *r = big_normalize(a);
    *q = big_normalize(accum);
}

static void big_u64_add_at_accum_(BIG* accum, uint64_t b, size_t shift) {
    for(size_t i = shift; b && (i < accum->size); i++) {
        uint32_t ar = accum->radix[i];
        uint32_t br = LO_RADIX(b);
        accum->radix[i] = ar + br;
        b = HI_RADIX(b);
        if (ar > UINT32_MAX - br)
            b++;
    }
}

static void big_succ_at_accum_(BIG* a, size_t i) {
    while (i < a->size) {
        if (++a->radix[i]) break;
        i++;
    }
}

static void big_pred_at_accum_(BIG* a, size_t i) {
    while (i < a->size) {
        if (a->radix[i]--) break;
        i++;
    }
}

static void big_pos_u32_mul_sub_shift_accum_(BIG* a, INT b, uint32_t scale, size_t shift) {
    size_t bsize;
    uint32_t *bradix;
    uint32_t bradix_temp[2] = {0};
    if (IS_I63(b)) {
        int64_t ib = GET_I63(b);
        ASSERT(ib >= 0);
        bsize = 2;
        bradix = bradix_temp;
        bradix_temp[0] = LO_RADIX(ib);
        bradix_temp[1] = HI_RADIX(ib);
    } else {
        BIG* bb = GET_BIG(b);
        bsize = bb->size;
        bradix = bb->radix;
    }

    uint64_t borrow = 0;
    size_t i = 0;
    for (; i < bsize; i++) {
        ASSERT(i+shift < a->size);
        uint64_t br = (uint64_t)scale * (uint64_t)bradix[i];
        ASSERT(borrow <= UINT64_MAX - br);
        br += borrow;
        uint64_t ahi = (i+shift+1 < a->size) ? a->radix[i+shift+1] : 0;
        uint64_t alo = a->radix[i+shift];
        uint64_t ar = (ahi << 32) | alo;
        borrow = (ar < br) ? (uint64_t)0x100000000 : (uint64_t)0;
        ar -= br;
        a->radix[i+shift] = LO_RADIX(ar);
        if (i+shift+1 < a->size) {
            a->radix[i+shift+1] = HI_RADIX(ar);
        }
    }
    if (borrow) {
        big_pred_at_accum_(a, i+shift+1);
    }
}

static uint32_t big_get_u32_ (BIG* a, size_t i) {
    if (i >= a->size) {
        return SIGN_RADIX(a);
    } else {
        return a->radix[i];
    }
}
static uint64_t big_get_u64_ (BIG* a, size_t i) {
    uint64_t hi = (uint64_t)big_get_u32_(a,i+1);
    uint64_t lo = (uint64_t)big_get_u32_(a,i);
    return (hi << 32) | lo;
}

static int big_pos_ucmp_(BIG* a, INT b) {
    size_t bsize;
    uint32_t *bradix;
    uint32_t bradix_temp[2] = {0};
    if (IS_I63(b)) {
        int64_t ib = GET_I63(b);
        ASSERT(ib >= 0);
        bsize = 2;
        bradix = bradix_temp;
        bradix_temp[0] = LO_RADIX(ib);
        bradix_temp[1] = HI_RADIX(ib);
    } else {
        BIG* bb = GET_BIG(b);
        bsize = bb->size;
        bradix = bb->radix;
    }
    for(size_t i = a->size; i --> bsize;) {
        if (a->radix[i]) return -1;
    }
    for(size_t i = bsize; i --> a->size;) {
        if (bradix[i]) return 1;
    }
    for (size_t i = ((bsize < a->size) ? bsize : a->size); i --> 0;) {
        uint32_t ar = a->radix[i];
        uint32_t br = bradix[i];
        if (ar != br) {
            return (ar > br) - (ar < br);
        }
    }
    return 0;
}

static void big_pos_imperfect_udivmod(BIG* a, INT b, uint32_t bhead, size_t bshift, INT* q, INT* r) {
    ASSERT(bhead >= 1);
    ASSERT(a && (a->size > bshift));
    BIG* accum = big_alloc(a->size - bshift + 2); // quotient in accum
    accum->size = a->size - bshift;
    a = big_reserve(a, a->size); // remainder in a;
    for (size_t i = a->size - bshift; i --> 0;) {
        while (1) {
            uint64_t ar = big_get_u64_(a, i+bshift);
            uint64_t n = ar / (1 + (uint64_t)bhead);
            if (!n) break;
            big_u64_add_at_accum_(accum,n,i);
            big_pos_u32_mul_sub_shift_accum_(a,b,n,i);
        }
    }
    if (big_pos_ucmp_(a,b) >= 0) {
        big_pos_u32_mul_sub_shift_accum_(a,b,1,0);
        big_succ_at_accum_(accum,0);
        ASSERT(big_pos_ucmp_(a,b) < 0);
    }
    int_decref(b);
    *r = big_normalize(a);
    *q = big_normalize(accum);
}

static void big_pos_udivmod(BIG* a, INT b, INT *q, INT *r) {
    size_t bshift;
    uint32_t bhead;
    bool bperfect = true;
    if (IS_BIG(b)) {
        BIG* bb = GET_BIG(b);
        bshift = bb->size-1;
        bhead = bb->radix[bshift];
        if (bhead == 0) {
            ASSERT(bshift > 0);
            bshift--;
            bhead = bb->radix[bshift];
        }
        for (size_t i = 0; i < bshift; i++) {
            if (bb->radix[i]) { bperfect=false; break; }
        }
    } else {
        int64_t ib = GET_I63(b);
        ASSERT(ib > 1);
        uint64_t ub = (uint64_t)ib;
        if (ub <= (uint64_t)UINT32_MAX) {
            bshift = 0;
            bhead = ub;
            bperfect = true;
        } else {
            bshift = 1;
            bhead = HI_RADIX(ub);
            bperfect = LO_RADIX(ub) == 0;
        }
    }
    if (bshift >= a->size) {
        *q = WRAP_I63(0);
        *r = WRAP_BIG(a);
        int_decref(b);
    } else if (bperfect) {
        int_decref(b);
        big_u32_shift_udivmod(a, bhead, bshift, q, r);
    } else {
        big_pos_imperfect_udivmod(a, b, bhead, bshift, q, r);
    }
}

static INT int_divmod(INT a, INT b, INT *r) {
    EXPECT(!int_is_zero_(b), "Division by zero.");
    if (int_is_zero_(a)) { int_decref(b); *r = a; return a; }
    if (GET_I63(b) == 1) { *r = WRAP_I63(0); return a; }
    if (GET_I63(b) == -1) { *r = WRAP_I63(0); return int_negate(a); }
    if (IS_I63(a) || (GET_BIG(a)->size == 2)) {
        if (IS_I63(b) || GET_BIG(b)->size == 2) {
            int64_t ia = int_to_i64(a);
            int64_t ib = int_to_i64(b);
            ASSERT((ib != 0) && (ib != -1));
            int64_t iq = ia / ib;
            int64_t ir = ia % ib;
            if (ir && ((ia < 0) ^ (ib < 0))) {
                iq -= 1;
                ir += ib;
            }
            *r = i64_to_int(ir);
            return i64_to_int(iq);
        } else {
            BIG* bb = GET_BIG(b);
            bool an = int_is_negative_(a);
            bool bn = SIGN_RADIX(bb) != 0;
            if (an ^ bn) {
                *r = int_add(a, b);
                return WRAP_I63(-1);
            } else {
                big_decref(bb);
                *r = a;
                return WRAP_I63(0);
            }
        }
    } else {
        bool an = int_is_negative_(a);
        bool bn = int_is_negative_(b);
        INT ma = an ? int_negate(a) : a;
        INT mb = bn ? int_negate(b) : b;
        ASSERT(IS_BIG(ma));
        INT mq, mr;
        int_incref(mb);
        big_pos_udivmod(GET_BIG(ma),mb,&mq,&mr);
        if (an ^ bn) {
            if (int_is_zero_(mr)) {
                int_decref(mb);
                mq = int_negate(mq);
            } else {
                mr = int_sub(mb, mr);
                mq = int_negate(int_add(mq, WRAP_I63(1)));
            }
        } else {
            int_decref(mb);
        }
        if (bn) mr = int_negate(mr);
        *r = mr;
        return mq;
    }
}

static double int_to_f64(INT a) {
    if (IS_I63(a)) {
        return (double)GET_I63(a);
    } else {
        BIG* b = GET_BIG(a);
        ASSERT(b && b->size);
        bool negative = SIGN_BIT(b->radix[b->size-1]);
        double r = 0.0;
        for (size_t i = b->size; i --> 0;) {
            uint32_t br = b->radix[i];
            if (negative) br = ~br;
            r *= (double)0x100000000;
            r += (double)br;
        }
        if (negative) r = -(r + 1.0);
        big_decref(b);
        return r;
    }
}

static float int_to_f32(INT a) { return (float)int_to_f64(a); }

static bool big_negative_(BIG* a) {
    ASSERT(a && (a->size > 0));
    return SIGN_BIT(a->radix[a->size-1]);
}

static int big_cmp_(BIG* a, BIG* b) {
    ASSERT(a); ASSERT(b);
    bool an = big_negative_(a);
    bool bn = big_negative_(b);
    if (an && !bn) return -1;
    if (!an && bn) return  1;
    if (a->size != b->size) {
        int i = (a->size < b->size) ? -1 : +1;
        return an ? -i : i;
    }
    for (size_t i = a->size; i --> 0;) {
        int64_t ar = a->radix[i];
        int64_t br = b->radix[i];
        if (ar != br) {
            return (ar < br) ? -1 : +1;
            // negative doesn't matter here, since they are both either negative or positive.
            // think of comparing these as if adding a large constant to make them both non negative.
        }
    }
    return 0;
}

static int int_cmp(INT a, INT b) {
    if (IS_I63(a)) {
        if (IS_I63(b)) {
            int64_t ia = GET_I63(a);
            int64_t ib = GET_I63(b);
            if (ia < ib) return -1;
            if (ia > ib) return +1;
            return 0;
        } else {
            bool n = big_negative_(GET_BIG(b));
            big_decref(GET_BIG(b));
            return n ? 1 : -1;
        }
    } else {
        if (IS_I63(b)) {
            bool n = big_negative_(GET_BIG(a));
            big_decref(GET_BIG(a));
            return n ? -1 : 1;
        } else {
            int i = big_cmp_(GET_BIG(a), GET_BIG(b));
            big_decref(GET_BIG(a));
            big_decref(GET_BIG(b));
            return i;
        }
    }
}

static bool int_eq(INT a, INT b) { return int_cmp(a,b) == 0; }
static bool int_lt(INT a, INT b) { return int_cmp(a,b) <  0; }
static bool int_le(INT a, INT b) { return int_cmp(a,b) <= 0; }
static bool int_gt(INT a, INT b) { return int_cmp(a,b) >  0; }
static bool int_ge(INT a, INT b) { return int_cmp(a,b) >= 0; }
static bool int_ne(INT a, INT b) { return int_cmp(a,b) != 0; }


static STR* i64_to_str(int64_t);
static STR* u64_to_str(uint64_t);
static STR* int_to_str(INT a) {
    if (IS_I63(a) || (GET_BIG(a)->size == 2)) {
        return i64_to_str(int_to_i64(a));
    } else if ((GET_BIG(a)->size == 3) && (GET_BIG(a)->radix[2] == 0)) {
        return u64_to_str(int_to_u64(a));
    } else {
        STR *s = str_alloc(GET_BIG(a)->size * 10);
        if (SIGN_RADIX(GET_BIG(a))) {
            a = int_negate(a);
            ASSERT(IS_BIG(a));
            s = str_pushn(s, "-", 1);
        }
        s = str_pushn(s,"0x",2);
        BIG* b = GET_BIG(a);
        size_t i = b->radix[b->size-1] ? b->size : b->size-1;
        while (i --> 0) {
            uint32_t r = b->radix[i];
            char c[10] = "00000000_";
            int j = 8;
            while (j --> 0) {
                uint32_t h = r & 0xF;
                c[j] = (h > 9) ? h + 'A' - 10 : h + '0';
                r = r >> 4;
            }
            s = str_pushn(s,c,8+(i>0));
        }
        big_decref(b);
        return s;
    }
}

static int64_t i64_add (int64_t a, int64_t b) {
    EXPECT(((b >= 0) && (a <= INT64_MAX - b))
        || ((b <  0) && (a >= INT64_MIN - b)),
        "overflow during integer addition");
    return a + b;
}

static int64_t i64_sub (int64_t a, int64_t b) {
    EXPECT(((b >= 0) && (a >= INT64_MIN + b))
        || ((b <  0) && (a <= INT64_MAX + b)),
        "overflow during integer subtraction");
    return a - b;
}

static int64_t i64_mul (int64_t a, int64_t b) {
    EXPECT((a == 0) || (b == 0) ||
        ((a > 0) && (b > 0) && (a <= INT64_MAX/b)) ||
        ((a > 0) && (b < 0) && (b >= INT64_MIN/a)) ||
        ((a < 0) && (b > 0) && (a >= INT64_MIN/b)) ||
        ((a < 0) && (b < 0) && (a >= INT64_MAX/b)),
        "overflow during integer multiplication"
    );
    return a * b;
}

static int64_t i64_div (int64_t a, int64_t b) {
    EXPECT(b != 0, "divide by zero");
    EXPECT(!((b == -1) && (a == INT64_MIN)), "overflow during integer division");
    int64_t r = a % b;
    int64_t q = a / b;
    if (((a < 0) ^ (b < 0)) && r) q--;
    return q;
}

static int64_t i64_mod (int64_t a, int64_t b) {
    EXPECT(b != 0, "divide by zero");
    EXPECT(!((b == -1) && (a == INT64_MIN)), "overflow during integer division");
    int64_t r = a % b;
    int64_t q = a / b;
    if (((a < 0) ^ (b < 0)) && r) r += b;
    return r;
}

static uint64_t u64_div (uint64_t a, uint64_t b) {
    EXPECT(b != 0, "divide by zero");
    return a / b;
}

static uint64_t u64_mod (uint64_t a, uint64_t b) {
    EXPECT(b != 0, "divide by zero");
    return a % b;
}

static uint64_t u64_shl (uint64_t a, uint64_t b) {
    if (b >= 64) return 0;
    return (a << b);
}

static uint64_t u64_shr (uint64_t a, uint64_t b) {
    if (b >= 64) return 0;
    return (a >> b);
}

static STR* f32_to_str (float d) {
    char result[DBL_DIG+32] = {0};
    int len = sprintf(result, "%.*g", DBL_DIG, d);
    return str_make(result, len);
}

static STR* f64_to_str (double d) {
    char result[DBL_DIG+32] = {0};
    int len = sprintf(result, "%.*g", DBL_DIG, d);
    return str_make(result, len);
}

void u64_repr(uint64_t x, char* c, size_t m, char** out_ptr, size_t *out_size) {
    ASSERT(m >= 4);
    memset(c, 0, m);
    char* p = c+(m-1);
    size_t n = 0;
    do {
        *--p = '0' + (x % 10);
        x /= 10;
        n++;
    } while (x && (p > c));
    *out_ptr = p;
    *out_size = n;
}

void i64_repr(int64_t y, char* c, size_t m, char** out_ptr, size_t *out_size) {
    ASSERT(m >= 5);
    c[0] = 0;
    char* p;
    size_t n;
    uint64_t x;
    if (y < 0) {
        if (y == INT64_MIN) {
            x = 1+(uint64_t)INT64_MAX;
        } else {
            x = (uint64_t)-y;
        }
    } else {
        x = (uint64_t)y;
    }
    u64_repr(x,c+1,m-1,&p,&n);
    if (y<0) { *--p = '-'; n++; }
    *out_ptr = p;
    *out_size = n;
}

void i64_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI64(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void i32_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI32(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void i16_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI16(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void  i8_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI8(v),  c, sizeof(c), &p, &n); write(fd, p, n); }
void u64_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU64(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void u32_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU32(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void u16_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU16(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void  u8_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU8(v),  c, sizeof(c), &p, &n); write(fd, p, n); }

void bool_trace_(VAL v, int fd) { if (VBOOL(v)) { write(fd, "True", 4); } else { write(fd, "False", 5); } }

static void int_trace_(VAL v, int fd) {
    ASSERT(IS_INT(v));
    INT x = VINT(v);
    incref(v);
    STR* s = int_to_str(x);
    write(fd, s->data, s->size);
    decref(MKSTR(s));
}

static void nat_trace_(VAL v, int fd) {
    ASSERT(IS_NAT(v));
    VAL v2 = MKINT(VNAT(v));
    int_trace_(v2,fd);
}

void f32_trace_(VAL v, int fd) { (void)v; write(fd, "<F32>", 5); }
void f64_trace_(VAL v, int fd) { (void)v; write(fd, "<F64>", 5); }
void ptr_trace_(VAL v, int fd) { (void)v; write(fd, "<Ptr>", 5); }
void fnptr_trace_(VAL v, int fd) { (void)v; write(fd, "<FnPtr>", 7); }

static STR* u64_to_str (uint64_t x) {
    bool cache = (x <= 255);
    static STR* scache[256] = {0};
    if (cache && scache[x]) {
        STR* s = scache[x];
        incref(MKSTR(s));
        return s;
    } else {
        char c[32];
        char* p; size_t n;
        u64_repr(x,c,sizeof(c),&p,&n);
        STR* s = str_make(p,n);
        if (cache) {
            scache[x] = s;
            incref(MKSTR(s));
        }
        return s;
    }
}

static STR* i64_to_str (int64_t x) {
    bool cache = (-128 <= x) && (x < 128);
    static STR* scache[256] = {0};
    if (cache && scache[x+128]) {
        STR* s = scache[x+128];
        incref(MKSTR(s));
        return s;
    } else {
        char c[32];
        char* p; size_t n;
        i64_repr(x,c,sizeof(c),&p,&n);
        STR* s = str_make(p,n);
        if (cache) {
            scache[x+128] = s;
            incref(MKSTR(s));
        }
        return s;
    }
}

void str_trace_(VAL v, int fd) {
    STR* str = VSTR(v);
    ASSERT(str->size <= SIZE_MAX);
    write(fd, "\"", 1);
    USIZE i0 = 0;
    char xb[4]={'\\','x'};
    USIZE i;
    for (i = 0; i < str->size; i++) {
        const char* c = NULL; size_t n=0;
        uint8_t v=str->data[i];
        switch(v) {
            case '\n': c="\\n"; n=2; break;
            case '\r': c="\\r"; n=2; break;
            case '\t': c="\\t"; n=2; break;
            case '\\': c="\\\\"; n=2; break;
            case '\"': c="\\\""; n=2; break;
            default:
                if (!((' ' <= v) && (v < 0x7F))) {
                    xb[2] = '0' + (v&15) + ('A'-'9'-1)*((v&15) > 9);
                    xb[3] = '0' + (v/16) + ('A'-'9'-1)*((v/16) > 9);
                    c=xb; n=4;
                }
        }
        if ((n > 0) && (i0 < i)) {
            write(fd, str->data+i0, (size_t)(i-i0));
            i0=i+1;
        }
        write(fd, c, n);
    }
    if (i0 < i) write(fd, str->data+i0, (size_t)(i-i0));
    write(fd, "\"", 1);
}

static void value_trace_(VAL v, int fd) {
    if (VTYPE(v) && VTYPE(v)->trace_) {
        VTYPE(v)->trace_(v,fd);
    } else if (VTYPE(v)) {
        const char* name = VTYPE(v)->name;
        write(fd, "<", 1);
        write(fd, name, strlen(name));
        write(fd, ">", 1);
    } else {
        write(fd, "<NULL>", 6);
    }
}

static void tup_trace_(VAL v, int fd) {
    TUPLEN len = VTUPLEN(v);
    PTUP ptup = VTUP(v);
    if (PTREXTRA(ptup)) {
        write(fd,"#",1);
        u64_trace_(MKU64(PTREXTRA(ptup)),fd);
    }
    if (len == 0) {
        write(fd, "[]", 2);
    } else {
        ASSERT(PTRISPTR(ptup));
        TUP* tup = PTRPTR(ptup);
        write(fd, "[ ", 2);
        for(TUPLEN i = 0; i < len; i++) {
            if (i > 0) write(fd, " ", 1);
            value_trace_(tup->cells[i], fd);
        }
        write(fd, " ]", 2);
    }
}

static VAL val_peek_(ARR*, USIZE);
static void arr_trace_(VAL v, int fd) {
    ARR* arr = VARR(v);
    if (!arr) {
        write(fd, "{}", 2);
    } else {
        USIZE n = arr->size;
        if (n > 16) n = 16;
        write(fd, "{ ", 2);
        for (size_t i = 0; i < arr->size; i++) {
            if (i > 0) write(fd, " ", 1);
            value_trace_(val_peek_(arr,i), fd);
        }
        write(fd, " }", 2);
    }
}

static void trace_stack (void) {
    TRACE("??");
    for (long i = STACK_MAX-1; i >= (long)stack_counter; i--) {
        TRACE(" ");
        value_trace_(stack[i], 2);
    }
    TRACE("\n");
}

static void trace_rstack (void) {
    #if MIRTH_DEBUG
        TRACE("call stack:\n");
        for (USIZE i = fstack_counter; i --> 1;) {
            TRACE("    ");
            if (fstack[i-1].atom && *fstack[i-1].atom && strcmp(fstack[i-1].atom, fstack[i].word)) {
                TRACE(fstack[i-1].atom);
                TRACE(" -> ");
            }
            TRACE(fstack[i].word);
            TRACE(" at ");
            TRACE(fstack[i-1].path);
            TRACE(":");
            i64_trace_(MKI64(fstack[i-1].line), 2);
            TRACE(":");
            i64_trace_(MKI64(fstack[i-1].col), 2);
            TRACE("\n");
        }
    #endif
}

static void do_panic(STR* m) {
    if (m) {
        size_t n = (m->size < SIZE_MAX) ? (size_t)(m->size) : SIZE_MAX;
        write(2, m->data, n);
        TRACE("\n");
    } else {
        TRACE("panic!\n");
    }
    trace_stack();
    trace_rstack();
    exit(1);
}

#if defined(MIRTH_WINDOWS)
#define RUNNING_OS 1
#elif defined(MIRTH_LINUX)
#define RUNNING_OS 2
#elif defined(MIRTH_MACOS)
#define RUNNING_OS 3
#else
#define RUNNING_OS 0
#endif

#if defined(MIRTH_I386)
#define RUNNING_ARCH 1
#elif defined(MIRTH_AMD64)
#define RUNNING_ARCH 2
#elif defined(MIRTH_ARM64)
#define RUNNING_ARCH 3
#else
#define RUNNING_ARCH 0
#endif

static void* ptr_alloc (uint64_t n) {
    EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), "invalid size in prim-ptr-alloc");
    void* p = malloc((size_t)n);
    EXPECT(p, "failed to allocate in prim-ptr-alloc");
    return p;
}

static void* ptr_realloc (void* p, uint64_t n) {
    EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), "invalid size in prim-ptr-realloc");
    void* p2 = realloc(p, (size_t)n);
    EXPECT(p2, "failed to reallocate in prim-ptr-realloc");
    return p2;
}

static void ptr_copy (void* src, uint64_t len, void* dst) {
    if (len > 0) {
        EXPECT(len <= SIZE_MAX, "invalid size in prim-ptr-copy");
        EXPECT(src && dst, "invalid pointer in prim-ptr-copy");
        memcpy(dst, src, (size_t)len);
    }
}

static void ptr_fill (uint8_t val, uint64_t len, void* dst) {
    if (len > 0) {
        EXPECT(len <= SIZE_MAX, "invalid size in prim-ptr-fill");
        EXPECT(dst, "invalid pointer in prim-ptr-fill");
        memset(dst, (int)val, (size_t)len);
    }
}

static void* str_base (STR* s) {
    EXPECT(s && (s->refs > 1), "invalid string for prim-str-base");
    s->refs--;
    return s->data;
}

static uint64_t str_size (STR* s) {
    EXPECT(s, "invalid string for prim-str-size");
    uint64_t n = s->size;
    decref(MKSTR(s));
    return n;
}

static VAL mut_get (void* mut) {
    EXPECT(mut, "invalid pointer in prim-mut-get");
    VAL v = *(VAL*)mut;
    EXPECT(v.tag, "tried to read uninitialized value");
    incref(v);
    return v;
}

static void mut_set (VAL newval, void* mut) {
    EXPECT(mut, "invalid pointer in prim-mut-set");
    VAL oldval = *(VAL*)mut;
    *(VAL*)mut = newval;
    if (oldval.tag) {
        decref(oldval);
    }
}

static bool mut_is_set (void* mut) {
    EXPECT(mut, "invalid pointer in prim-mut-is-set");
    VAL val = *(VAL*)mut;
    return (val.tag != 0);
}

typedef struct FIELD { size_t num_blocks; VAL** blocks; } FIELD;

static VAL* field_mut(FIELD* field, uint64_t index) {
    ASSERT(field);
    size_t block_size = 1024;
    size_t block_i = index / block_size;
    size_t block_j = index % block_size;
    if (block_i >= field->num_blocks) {
        ASSERT(field->num_blocks <= SIZE_MAX - 4 - block_i);
        size_t new_num_blocks = field->num_blocks + block_i + 4;
        VAL** new_blocks = realloc(field->blocks, sizeof(VAL*) * new_num_blocks);
        ASSERT(new_blocks);
        memset(new_blocks + field->num_blocks, 0, sizeof(VAL*) * (new_num_blocks - field->num_blocks));
        field->blocks = new_blocks;
        field->num_blocks = new_num_blocks;
    }
    if(!field->blocks[block_i]) {
        field->blocks[block_i] = calloc(block_size, sizeof(VAL));
        ASSERT(field->blocks[block_i]);
    }
    return field->blocks[block_i] + block_j;
}

static VAL bool_peek_(ARR* arr, USIZE i) {
    uint32_t u32 = arr->data.u32s[i/32];
    bool b = (u32 >> (i&31)) & 1;
    return MKBOOL(b);
}

static void bool_poke_(ARR* arr, USIZE i, VAL v) {
    USIZE hi = i/32;
    USIZE lo = i&31;
    uint32_t u32 = arr->data.u32s[hi];
    uint32_t flag = 1 << lo;
    uint32_t mask = ~flag;
    uint32_t b = (bool)VBOOL(v);
    uint32_t bflag = b << lo;
    arr->data.u32s[hi] = (u32 & mask) | bflag;
}

static void bool_poke_many_(ARR* arr, USIZE lo, USIZE hi, VAL v) {
    if (hi <= lo) return;
    uint32_t all = ~(uint32_t)0;
    uint32_t lomask = all << (lo % 32);
    uint32_t himask = ~(all << (hi % 32));
    uint32_t f = VBOOL(v) ? all : 0;
    USIZE i = lo/32;
    USIZE j = hi/32;
    if (i == j) {
        uint32_t bimask = (lomask & himask);
        arr->data.u32s[i] &= ~bimask;
        arr->data.u32s[i] |= (f & bimask);
    } else {
        arr->data.u32s[i] &= ~lomask;
        arr->data.u32s[i] |= (f & lomask);
        i++;
        while (i < j) {
            arr->data.u32s[i] = f;
            i++;
        }
        arr->data.u32s[j] &= ~himask;
        arr->data.u32s[j] |= (f & himask);
    }
}

#define gen_peek_poke(pfx,mkmacro,vmacro,fld) \
    static VAL pfx##_peek_(ARR* arr, USIZE i) { \
        return mkmacro(arr->data.fld[i]); \
    } \
    static void pfx##_poke_(ARR* arr, USIZE i, VAL v) { \
        arr->data.fld[i] = vmacro(v); \
    } \
    static void pfx##_poke_many_(ARR* arr, USIZE lo, USIZE hi, VAL v) { \
        while (lo < hi) { \
            arr->data.fld[lo++] = vmacro(v); \
        } \
    }
gen_peek_poke(int,MKINT,VINT,iints)
gen_peek_poke(nat,MKNAT,VNAT,iints)
gen_peek_poke(i64,MKI64,VI64,i64s)
gen_peek_poke(i32,MKI32,VI32,i32s)
gen_peek_poke(i16,MKI16,VI16,i16s)
gen_peek_poke(i8,MKI8,VI8,i8s)
gen_peek_poke(u64,MKU64,VU64,u64s)
gen_peek_poke(u32,MKU32,VU32,u32s)
gen_peek_poke(u16,MKU16,VU16,u16s)
gen_peek_poke(u8,MKU8,VU8,u8s)
gen_peek_poke(f64,MKF64,VF64,f64s)
gen_peek_poke(f32,MKF32,VF32,f32s)
gen_peek_poke(ptr,MKPTR,VPTR,ptrs)
gen_peek_poke(fnptr,MKFNPTR,VFNPTR,fnptrs)
gen_peek_poke(str,MKSTR,VSTR,strs)
gen_peek_poke(tup,MKTUP,VTUP,tups)
gen_peek_poke(arr,MKARR,VARR,arrs)

static VAL val_peek_(ARR* arr, USIZE i) {
    ASSERT(arr);
    ASSERT(i < arr->size);
    const TYPE* ty = PTRPTR(arr->tag);
    ASSERT(ty && ty->peek_);
    return ty->peek_(arr, i);
}

static void val_poke_(ARR* arr, USIZE i, VAL v) {
    ASSERT(arr);
    ASSERT(arr->refs == 1);
    ASSERT(arr->tag == v.tag);
    ASSERT(i < arr->size);
    const TYPE* ty = PTRPTR(arr->tag);
    ASSERT(ty && ty->poke_);
    ty->poke_(arr, i, v);
}

static void val_poke_many_(ARR* arr, USIZE lo, USIZE hi, VAL v) {
    ASSERT(arr);
    ASSERT(arr->refs == 1);
    ASSERT(arr->tag == v.tag);
    ASSERT(lo <= hi);
    ASSERT(hi <= arr->size);
    const TYPE* ty = PTRPTR(arr->tag);
    ASSERT(ty && ty->poke_many_);
    ty->poke_many_(arr, lo, hi, v);
}

static ARR* arr_new_of(TAG tag, USIZE cap) {
    if (cap < 4) cap = 4;
    const TYPE* ty = PTRPTR(tag);
    ASSERT(ty);
    USIZE stride = ty->stride;
    ASSERT(stride || (tag == TAG_BOOL));
    USIZE nbytes = stride ? stride * cap : cap/8 + 4;
    ARR* arr = calloc(1, sizeof(ARR) + nbytes);
    ASSERT(arr);
    arr->refs = 1;
    arr->stride = stride;
    arr->size = 0;
    arr->cap = cap;
    arr->tag = tag;
    return arr;
}

static ARR* arr_new(VAL v, USIZE n) {
    ARR* arr = arr_new_of(v.tag, n);
    arr->size = n;
    val_poke_many_(arr,0,n,v);
    if (HAS_REFS(v)) {
        VREFS(v) = VREFS(v) + n - 1;
        if (!VREFS(v)) free_value(v);
    }
    return arr;
}

// Copy array over into a fresh array with minimum capacity.
// No-op if array has a unique reference and enough capacity.
static ARR* arr_reserve(ARR* arr, TAG tag, size_t need_cap) {
    if (!arr) { return arr_new_of(tag, need_cap); }
    if ((arr->refs == 1) && (arr->cap >= need_cap)) return arr;
    ASSERT(arr->tag == tag);
    USIZE size = arr->size;
    USIZE stride = arr->stride;
    if (need_cap < size) need_cap = arr->size;
    USIZE cap = need_cap*2 + 4;
    ARR* arr2 = arr_new_of(tag, cap);
    USIZE mbytes = stride ? (size * stride) : (size/8 + 4);
    arr2->size = size;
    memcpy(arr2->data.u8s, arr->data.u8s, mbytes);
    if (TAG_HAS_REFS(tag)) {
        for (USIZE i = 0; i < size; i++) {
            VAL u = val_peek_(arr2,i);
            incref(u);
        }
    }
    decref(MKARR(arr));
    return arr2;
}

static ARR* arr_thaw(ARR* arr) {
    if (arr) {
        return arr_reserve(arr, arr->tag, arr->size);
    } else {
        return NULL;
    }
}

static ARR* arr_expand(ARR* arr, USIZE n, VAL v) {
    if (!arr) return arr_new(v,n);
    if (arr->size >= n) { decref(v); return arr; }
    ASSERT(arr->tag == v.tag);
    arr = arr_reserve(arr, v.tag, n);
    USIZE m = arr->size;
    arr->size = n;
    val_poke_many_(arr,m,n,v);
    if (HAS_REFS(v)) {
        VREFS(v) += n - m - 1;
    }
    return arr;
}

static void* arr_base(ARR* arr) {
    ASSERT(arr && (arr->size > 0));
    ASSERT(!TAG_HAS_REFS(arr->tag));
    void* base = arr->data.u8s;
    decref(MKARR(arr));
    return base;
}

static USIZE arr_len(ARR* arr) {
    if (!arr) return 0;
    USIZE n = arr->size;
    decref(MKARR(arr));
    return n;
}

static VAL arr_get(ARR* arr, USIZE i) {
    ASSERT(arr);
    ASSERT(i < arr->size);
    VAL v = val_peek_(arr,i);
    incref(v);
    decref(MKARR(arr));
    return v;
}

static ARR* arr_set(ARR* arr, USIZE i, VAL v) {
    ASSERT(arr);
    ASSERT(i < arr->size);
    ASSERT(arr->tag == v.tag);
    arr = arr_thaw(arr);
    if (TAG_HAS_REFS(v.tag)) {
        VAL u = val_peek_(arr,i);
        val_poke_(arr,i,v);
        decref(u);
    } else {
        val_poke_(arr,i,v);
    }
    return arr;
}

static ARR* arr_push(ARR* arr, VAL v) {
    if (!arr) { return arr_new(v,1); }
    ASSERT(arr->tag == v.tag);
    USIZE n = arr->size;
    arr = arr_reserve(arr, arr->tag, n+1);
    arr->size++;
    val_poke_(arr,n,v);
    return arr;
}

static ARR* arr_pop(ARR* arr, VAL* vout) {
    ASSERT(arr);
    ASSERT(arr->size > 0);
    arr = arr_thaw(arr);
    USIZE n = arr->size;
    *vout = val_peek_(arr, n-1);
    arr->size = n-1;
    return arr;
}

static ARR* arr_cat(ARR* arr, ARR* arr2) {
    if (!arr  || (arr->size == 0)) { decref(MKARR(arr)); return arr2; }
    if (!arr2 || (arr2->size == 0)) { decref(MKARR(arr2)); return arr; }
    ASSERT(arr && arr2);
    ASSERT(arr->tag == arr2->tag);
    ASSERT(arr->stride == arr2->stride);
    USIZE n1 = arr->size;
    USIZE n2 = arr2->size;
    arr = arr_reserve(arr, arr->tag, n1 + n2);
    ASSERT(arr && (arr->cap >= n1 + n2));
    arr->size += n2;
    if (arr->stride > 0) {
        memcpy(arr->data.u8s + n1*arr->stride, arr2->data.u8s, n2*arr->stride);
        if (TAG_HAS_REFS(arr->tag)) {
            for (USIZE i = 0; i < n2; i++) {
                incref(val_peek_(arr2,i));
            }
        }
    } else {
        ASSERT(arr->tag == TAG_BOOL);
        if (n1 % 8 == 0) {
            memcpy(arr->data.u8s + n1/8, arr2->data.u8s, n2/8 + 1);
        } else {
            USIZE hi = n1 / 32;
            USIZE lo = n1 % 32;
            arr->data.u32s[hi] &= (((uint32_t)(1)) << lo) - 1;
            arr->data.u32s[hi] |= arr2->data.u32s[0] << lo;
            for (USIZE i = 0; i < (n2+lo)/32; i++) {
                arr->data.u32s[hi+i+1]
                    = (arr2->data.u32s[i] >> (32 - lo))
                    | (arr2->data.u32s[i+1] << lo);
            }
        }
    }
    decref(MKARR(arr2));
    return arr;
}

static ARR* arr_slice(ARR* arr, USIZE from, USIZE len) {
    ASSERT(arr);
    ASSERT(len <= arr->size);
    ASSERT(from <= arr->size - len);
    arr = arr_thaw(arr);
    if (from > 0) {
        if (arr->stride) {
            if (TAG_HAS_REFS(arr->tag)) {
                for (USIZE i = 0; i < from; i++) {
                    decref(val_peek_(arr, i));
                }
                for (USIZE i = from+len; i < arr->size; i++) {
                    decref(val_peek_(arr, i));
                }
            }
            memmove(arr->data.u8s, arr->data.u8s + from*arr->stride, arr->stride*len);
        } else {
            ASSERT(arr->tag == TAG_BOOL);
            if (from % 8 == 0) {
                memmove(arr->data.u8s, arr->data.u8s + from/8, len/8 + 1);
            } else {
                USIZE i0 = from / 32;
                USIZE sh = from % 32;
                for (USIZE i = 0; i < (len+31)/32; i++) {
                    arr->data.u32s[i]
                        = (arr->data.u32s[i0 + i] >> sh)
                        | (arr->data.u32s[i0 + i + 1] << (32 - sh));
                }
            }
        }
    }
    arr->size = len;
    return arr;
}

static STR* arr_to_str (ARR* arr) {
    if (!arr) { return str_make("",0); }
    ASSERT(arr->tag == TAG_U8);
    STR* str = str_make((char*)arr->data.u8s, arr->size);
    decref(MKARR(arr));
    return str;
}

static ARR* str_to_arr (STR* str) {
    ASSERT(str);
    ARR* arr = arr_new(MKU8(0), str->size+4);
    arr->size = str->size;
    arr->stride = 1;
    memcpy(arr->data.u8s, str->data, str->size);
    decref(MKSTR(str));
    return arr;
}

/* GENERATED C99 */

static STACK lbl_packageZ_searchZ_paths = {0};
static STACK lbl_inputZ_file = {0};
static STACK lbl_packages = {0};
static STACK lbl_entryZ_point = {0};
static STACK lbl_outputZ_file = {0};
static STACK lbl_outputZ_path = {0};
static STACK lbl_emitZ_debugZ_info = {0};
static STACK lbl_ptr = {0};
static STACK lbl_offset = {0};
static STACK lbl_sizze = {0};
static STACK lbl_tail = {0};
static STACK lbl_head = {0};
static STACK lbl_rprefix = {0};
static STACK lbl_suffix = {0};
static STACK lbl_found = {0};
static STACK lbl_reversed = {0};
static STACK lbl_hi = {0};
static STACK lbl_lo = {0};
static STACK lbl_escapeZ_hex = {0};
static STACK lbl_i = {0};
static STACK lbl_stack = {0};
static STACK lbl_result = {0};
static STACK lbl_ZPlusarray = {0};
static STACK lbl_base = {0};
static STACK lbl_numZ_digits = {0};
static STACK lbl_int = {0};
static STACK lbl_nat = {0};
static STACK lbl_i64 = {0};
static STACK lbl_u64 = {0};
static STACK lbl_u32 = {0};
static STACK lbl_f32 = {0};
static STACK lbl_f64 = {0};
static STACK lbl_path = {0};
static STACK lbl_mode = {0};
static STACK lbl_flags = {0};
static STACK lbl_str = {0};
static STACK lbl_name = {0};
static STACK lbl_flagZ_type = {0};
static STACK lbl_argZ_doc = {0};
static STACK lbl_doc = {0};
static STACK lbl_group = {0};
static STACK lbl_options = {0};
static STACK lbl_parser = {0};
static STACK lbl_argsZ_doc = {0};
static STACK lbl_colZ_offset = {0};
static STACK lbl_argumentZ_parser = {0};
static STACK lbl_state = {0};
static STACK lbl_docZ_length = {0};
static STACK lbl_oo = {0};
static STACK lbl_ZPlusfd = {0};
static STACK lbl_owned = {0};
static STACK lbl_ZPlusfile = {0};
static STACK lbl_ZPlusbuffer = {0};
static STACK lbl_length = {0};
static STACK lbl_argv = {0};
static STACK lbl_programZ_name = {0};
static STACK lbl_argvZ_info = {0};
static STACK lbl_parsingZAsk = {0};
static STACK lbl_option = {0};
static STACK lbl_optionZ_option = {0};
static STACK lbl_arg = {0};
static STACK lbl_arguments = {0};
static STACK lbl_positionalZ_index = {0};
static STACK lbl_longestZ_argZ_length = {0};
static STACK lbl_error = {0};
static STACK lbl_std = {0};
static STACK lbl_prim = {0};
static STACK lbl_cchar = {0};
static STACK lbl_mkZ_cchar = {0};
static STACK lbl_cichar = {0};
static STACK lbl_mkZ_cichar = {0};
static STACK lbl_cshort = {0};
static STACK lbl_mkZ_cshort = {0};
static STACK lbl_cint = {0};
static STACK lbl_mkZ_cint = {0};
static STACK lbl_clong = {0};
static STACK lbl_mkZ_clong = {0};
static STACK lbl_clonglong = {0};
static STACK lbl_mkZ_clonglong = {0};
static STACK lbl_cisizze = {0};
static STACK lbl_mkZ_cisizze = {0};
static STACK lbl_cintptr = {0};
static STACK lbl_mkZ_cintptr = {0};
static STACK lbl_cuchar = {0};
static STACK lbl_mkZ_cuchar = {0};
static STACK lbl_cushort = {0};
static STACK lbl_mkZ_cushort = {0};
static STACK lbl_cuint = {0};
static STACK lbl_mkZ_cuint = {0};
static STACK lbl_culong = {0};
static STACK lbl_mkZ_culong = {0};
static STACK lbl_culonglong = {0};
static STACK lbl_mkZ_culonglong = {0};
static STACK lbl_cusizze = {0};
static STACK lbl_mkZ_cusizze = {0};
static STACK lbl_cuintptr = {0};
static STACK lbl_mkZ_cuintptr = {0};
static STACK lbl_cptr = {0};
static STACK lbl_mkZ_cptr = {0};
static STACK lbl_cconst = {0};
static STACK lbl_mkZ_cconst = {0};
static STACK lbl_crestrict = {0};
static STACK lbl_mkZ_crestrict = {0};
static STACK lbl_cvolatile = {0};
static STACK lbl_mkZ_cvolatile = {0};
static STACK lbl_cvoid = {0};
static STACK lbl_mkZ_cvoid = {0};
static STACK lbl_numZ_errors = {0};
static STACK lbl_numZ_warnings = {0};
static STACK lbl_mainZ_homeZ_index = {0};
static STACK lbl_preferZ_inlineZ_defs = {0};
static STACK lbl_builtinZAsk = {0};
static STACK lbl_mirthZ_baseZ_path = {0};
static STACK lbl_ZPlusdiagnostics = {0};
static STACK lbl_ZPluspropstack = {0};
static STACK lbl_errorZ_token = {0};
static STACK lbl_definingZ_namespace = {0};
static STACK lbl_lexicalZ_state = {0};
static STACK lbl_ZPlusnamehashmap = {0};
static STACK lbl_severity = {0};
static STACK lbl_message = {0};
static STACK lbl_location = {0};
static STACK lbl_module = {0};
static STACK lbl_row = {0};
static STACK lbl_col = {0};
static STACK lbl_prop = {0};
static STACK lbl_label = {0};
static STACK lbl_self = {0};
static STACK lbl_arity = {0};
static STACK lbl_namespace = {0};
static STACK lbl_hasZ_paren = {0};
static STACK lbl_target = {0};
static STACK lbl_nameZDivdname = {0};
static STACK lbl_alias = {0};
static STACK lbl_token = {0};
static STACK lbl_sort = {0};
static STACK lbl_reportZ_ambiguousZ_asZ_warning = {0};
static STACK lbl_ignoreZ_lastZ_name = {0};
static STACK lbl_value = {0};
static STACK lbl_start = {0};
static STACK lbl_end = {0};
static STACK lbl_anchor = {0};
static STACK lbl_dst = {0};
static STACK lbl_src = {0};
static STACK lbl_a = {0};
static STACK lbl_b = {0};
static STACK lbl_x = {0};
static STACK lbl_c = {0};
static STACK lbl_d = {0};
static STACK lbl_e = {0};
static STACK lbl_args = {0};
static STACK lbl_data = {0};
static STACK lbl_field = {0};
static STACK lbl_params = {0};
static STACK lbl_qname = {0};
static STACK lbl_type = {0};
static STACK lbl_cod = {0};
static STACK lbl_dom = {0};
static STACK lbl_kind = {0};
static STACK lbl_labels = {0};
static STACK lbl_values = {0};
static STACK lbl_resources = {0};
static STACK lbl_tycons = {0};
static STACK lbl_count = {0};
static STACK lbl_parts = {0};
static STACK lbl_baseZAsk = {0};
static STACK lbl_counts = {0};
static STACK lbl_got = {0};
static STACK lbl_typeZDivresource = {0};
static STACK lbl_tag = {0};
static STACK lbl_arrowtype = {0};
static STACK lbl_var = {0};
static STACK lbl_key = {0};
static STACK lbl_subst = {0};
static STACK lbl_pairs = {0};
static STACK lbl_ZPlusa = {0};
static STACK lbl_arrow = {0};
static STACK lbl_home = {0};
static STACK lbl_ctx = {0};
static STACK lbl_input = {0};
static STACK lbl_ctype = {0};
static STACK lbl_tags = {0};
static STACK lbl_inputs = {0};
static STACK lbl_underlying = {0};
static STACK lbl_tagname = {0};
static STACK lbl_dataname = {0};
static STACK lbl_header = {0};
static STACK lbl_decls = {0};
static STACK lbl_valueZAsk = {0};
static STACK lbl_sigZAsk = {0};
static STACK lbl_allowZ_implicitZ_typeZ_vars = {0};
static STACK lbl_allowZ_typeZ_holes = {0};
static STACK lbl_body = {0};
static STACK lbl_dat = {0};
static STACK lbl_word = {0};
static STACK lbl_untag = {0};
static STACK lbl_lbl = {0};
static STACK lbl_lblz_get = {0};
static STACK lbl_lblz_set = {0};
static STACK lbl_lblz_lens = {0};
static STACK lbl_lblty = {0};
static STACK lbl_datty = {0};
static STACK lbl_sx = {0};
static STACK lbl_sy = {0};
static STACK lbl_default = {0};
static STACK lbl_f = {0};
static STACK lbl_autoZ_runZAsk = {0};
static STACK lbl_owner = {0};
static STACK lbl_numZ_buffer = {0};
static STACK lbl_va = {0};
static STACK lbl_fields = {0};
static STACK lbl_table = {0};
static STACK lbl_valueZ_type = {0};
static STACK lbl_indexZ_type = {0};
static STACK lbl_sizzearg = {0};
static STACK lbl_buffer = {0};
static STACK lbl_param = {0};
static STACK lbl_candidates = {0};
static STACK lbl_rejected = {0};
static STACK lbl_namespaces = {0};
static STACK lbl_separator = {0};
static STACK lbl_accum = {0};
static STACK lbl_ys = {0};
static STACK lbl_y = {0};
static STACK lbl_xs = {0};
static STACK lbl_op = {0};
static STACK lbl_typedZ_args = {0};
static STACK lbl_domZ_counts = {0};
static STACK lbl_codZ_counts = {0};
static STACK lbl_codipZ_counts = {0};
static STACK lbl_codip = {0};
static STACK lbl_dip = {0};
static STACK lbl_rcodip = {0};
static STACK lbl_rdip = {0};
static STACK lbl_totalZ_codip = {0};
static STACK lbl_totalZ_rcodip = {0};
static STACK lbl_outerZ_ctx = {0};
static STACK lbl_cases = {0};
static STACK lbl_deferredZ_drops = {0};
static STACK lbl_ZPlusab = {0};
static STACK lbl_tycon = {0};
static STACK lbl_tokenZ_start = {0};
static STACK lbl_tokenZ_end = {0};
static STACK lbl_atoms = {0};
static STACK lbl_ZPluspat = {0};
static STACK lbl_innerZ_ctx = {0};
static STACK lbl_saved = {0};
static STACK lbl_mid = {0};
static STACK lbl_pattern = {0};
static STACK lbl_tok = {0};
static STACK lbl_package = {0};
static STACK lbl_imports = {0};
static STACK lbl_ZPlusmirth = {0};
static STACK lbl_contents = {0};
static STACK lbl_code = {0};
static STACK lbl_symbol = {0};
static STACK lbl_sig = {0};
static STACK lbl_external = {0};
static STACK lbl_headZAsk = {0};
static STACK lbl_lexerZ_module = {0};
static STACK lbl_source = {0};
static STACK lbl_lexerZ_source = {0};
static STACK lbl_lexerZ_offset = {0};
static STACK lbl_lexerZ_row = {0};
static STACK lbl_lexerZ_col = {0};
static STACK lbl_lexerZ_doc = {0};
static STACK lbl_lexerZ_stack = {0};
static STACK lbl_lexerZ_firstZ_token = {0};
static STACK lbl_lexerZ_lastZ_token = {0};
static STACK lbl_action = {0};
static STACK lbl_macro = {0};
static STACK lbl_checklist = {0};
static STACK lbl_w = {0};
static STACK lbl_wordZTick = {0};
static STACK lbl_spword = {0};
static STACK lbl_spkey = {0};
static STACK lbl_spmap = {0};
static STACK lbl_depth = {0};
static STACK lbl_freshZ_counter = {0};
static STACK lbl_putZ_enabled = {0};
static STACK lbl_ZPlusneeds = {0};
static STACK lbl_ZPlusoutput = {0};
static STACK lbl_pfx = {0};
static STACK lbl_sfx = {0};
static STACK lbl_valueZ_repr = {0};
static STACK lbl_valueZ_name = {0};
static STACK lbl_resourceZ_repr = {0};
static STACK lbl_resourceZ_name = {0};
static STACK lbl_tuplen = {0};
static STACK lbl_ZPlustup = {0};
static STACK lbl_tup = {0};
static STACK lbl_ptup = {0};
static STACK lbl_fieldty = {0};
static STACK lbl_tagrepr = {0};
static STACK lbl_fieldrepr = {0};
static STACK lbl_ZPlusdatavar = {0};
static STACK lbl_datavar = {0};
static STACK lbl_fieldval = {0};
static STACK lbl_dataval = {0};
static STACK lbl_ext = {0};
static STACK lbl_cty = {0};
static STACK lbl_outty = {0};
static STACK lbl_domZ_parts = {0};
static STACK lbl_argZ_index = {0};
static STACK lbl_expr = {0};
static STACK lbl_codZ_parts = {0};
static STACK lbl_argZ_name = {0};
static STACK lbl_argZ_repr = {0};
static STACK lbl_argZ_mode = {0};
static STACK lbl_argZ_source = {0};
static STACK lbl_mustZ_flush = {0};
static STACK lbl_cname = {0};
static STACK lbl_inZ_params = {0};
static STACK lbl_outZ_paramsZ_2 = {0};
static STACK lbl_returnZ_param = {0};
static STACK lbl_outZ_paramsZ_1 = {0};
static STACK lbl_doesntZ_return = {0};
static STACK lbl_api = {0};
static STACK lbl_poppedZ_inputs = {0};
static STACK lbl_reservedZ_outputsZ_1 = {0};
static STACK lbl_reservedZ_outputsZ_2 = {0};
static STACK lbl_sep = {0};
static STACK lbl_reservedZ_return = {0};
static STACK lbl_reachable = {0};
static STACK lbl_env = {0};
static STACK lbl_codZ_base = {0};
static STACK lbl_domZ_base = {0};
static STACK lbl_rad = {0};
static STACK lbl_ZPlusstr = {0};
static STACK lbl_avoidZ_hexdigit = {0};
static STACK lbl_c99Z_repr = {0};
static STACK lbl_ZPlusc99 = {0};
static STACK lbl_ZPlusstack = {0};
static STACK lbl_ZPlusx = {0};
static STACK lbl_branchZ_splitZ_target = {0};
static STACK lbl_reachableZ_in = {0};
static STACK lbl_reachableZ_out = {0};
static STACK lbl_varZ_var = {0};
static STACK lbl_ZPlusb = {0};
static STACK lbl_ZPlusdipped = {0};
static STACK lbl_ZPluscond = {0};
static STACK lbl_ZPlusknot = {0};
static STACK lbl_msg = {0};
static STACK lbl_val = {0};
static STACK lbl_ZPlusdebug = {0};
static STACK lbl_v = {0};
static STACK lbl_ZPlusdst = {0};
static STACK lbl_ZPluslen = {0};
static STACK lbl_ZPlussrc = {0};
static STACK lbl_ZPlusval = {0};
static STACK lbl_outZ_type = {0};
static STACK lbl_argsZ_swapped = {0};
static STACK lbl_arg2Z_type = {0};
static STACK lbl_arg1Z_type = {0};
static STACK lbl_arg1 = {0};
static STACK lbl_arg2 = {0};
static STACK lbl_argZ_type = {0};
static STACK lbl_ZPlusclosure = {0};
static STACK lbl_ZPlusscrutinee = {0};
static STACK lbl_indexrepr = {0};
static STACK lbl_ZPlusindex = {0};
static STACK lbl_ZPlusset = {0};
static STACK lbl_z_codip = {0};
static STACK lbl_z_dip = {0};
static STACK lbl_ZPlusz_rcodip = {0};
static FIELD mfld_mirth_label_Label_name = {0};
static FIELD mfld_mirth_var_Var_name = {0};
static FIELD mfld_mirth_var_Var_type = {0};
static FIELD mfld_mirth_var_Var_autoZ_runZAsk = {0};
static FIELD mfld_mirth_external_External_doc = {0};
static FIELD mfld_mirth_external_External_name = {0};
static FIELD mfld_mirth_external_External_arity = {0};
static FIELD mfld_mirth_external_External_symbol = {0};
static FIELD mfld_mirth_external_External_head = {0};
static FIELD mfld_mirth_external_External_sig = {0};
static FIELD mfld_mirth_external_External_ZTildeqname = {0};
static FIELD mfld_mirth_external_External_ZTildectxZ_type = {0};
static FIELD mfld_mirth_external_External_ZTildectype = {0};
static FIELD mfld_mirth_external_ExternalBlock_doc = {0};
static FIELD mfld_mirth_external_ExternalBlock_token = {0};
static FIELD mfld_mirth_external_ExternalBlock_parts = {0};
static FIELD mfld_mirth_word_Word_doc = {0};
static FIELD mfld_mirth_word_Word_name = {0};
static FIELD mfld_mirth_word_Word_arity = {0};
static FIELD mfld_mirth_word_Word_head = {0};
static FIELD mfld_mirth_word_Word_body = {0};
static FIELD mfld_mirth_word_Word_sigZAsk = {0};
static FIELD mfld_mirth_word_Word_preferZ_inlineZAsk = {0};
static FIELD mfld_mirth_word_Word_inferringZ_typeZAsk = {0};
static FIELD mfld_mirth_word_Word_wordZ_homeZ_index = {0};
static FIELD mfld_mirth_word_Word_cname = {0};
static FIELD mfld_mirth_word_Word_ZTildeqname = {0};
static FIELD mfld_mirth_word_Word_ZTildectxZ_type = {0};
static FIELD mfld_mirth_word_Word_ZTildeparams = {0};
static FIELD mfld_mirth_word_Word_ZTildearrow = {0};
static FIELD mfld_mirth_typedef_TypeDef_doc = {0};
static FIELD mfld_mirth_typedef_TypeDef_headZAsk = {0};
static FIELD mfld_mirth_typedef_TypeDef_name = {0};
static FIELD mfld_mirth_typedef_TypeDef_ZTildeqname = {0};
static FIELD mfld_mirth_typedef_TypeDef_ZTildetarget = {0};
static FIELD mfld_mirth_typedef_TypeDef_ZTildeparams = {0};
static FIELD mfld_mirth_package_Package_name = {0};
static FIELD mfld_mirth_package_Package_path = {0};
static FIELD mfld_mirth_macro_Macro_headZAsk = {0};
static FIELD mfld_mirth_macro_Macro_name = {0};
static FIELD mfld_mirth_macro_Macro_arity = {0};
static FIELD mfld_mirth_macro_Macro_action = {0};
static FIELD mfld_mirth_macro_Macro_ZTildeqname = {0};
static FIELD mfld_mirth_buffer_Buffer_doc = {0};
static FIELD mfld_mirth_buffer_Buffer_head = {0};
static FIELD mfld_mirth_buffer_Buffer_sizze = {0};
static FIELD mfld_mirth_buffer_Buffer_name = {0};
static FIELD mfld_mirth_buffer_Buffer_ZTildeqname = {0};
static FIELD mfld_mirth_table_Table_doc = {0};
static FIELD mfld_mirth_table_Table_head = {0};
static FIELD mfld_mirth_table_Table_name = {0};
static FIELD mfld_mirth_table_Table_numZ_buffer = {0};
static FIELD mfld_mirth_table_Table_inlineZ_fields = {0};
static FIELD mfld_mirth_table_Table_ZTildeqname = {0};
static FIELD mfld_mirth_table_Table_ZTildeowner = {0};
static FIELD mfld_mirth_table_Table_ZTildeallocZ_word = {0};
static FIELD mfld_mirth_table_Field_doc = {0};
static FIELD mfld_mirth_table_Field_head = {0};
static FIELD mfld_mirth_table_Field_default = {0};
static FIELD mfld_mirth_table_Field_name = {0};
static FIELD mfld_mirth_table_Field_ZTildeqname = {0};
static FIELD mfld_mirth_table_Field_ZTildeowner = {0};
static FIELD mfld_mirth_table_Field_ZTildeindexZ_type = {0};
static FIELD mfld_mirth_table_Field_ZTildevalueZ_type = {0};
static FIELD mfld_mirth_data_Data_doc = {0};
static FIELD mfld_mirth_data_Data_headZAsk = {0};
static FIELD mfld_mirth_data_Data_name = {0};
static FIELD mfld_mirth_data_Data_arity = {0};
static FIELD mfld_mirth_data_Data_tags = {0};
static FIELD mfld_mirth_data_Data_lastZ_tagZ_value = {0};
static FIELD mfld_mirth_data_Data_ZTildeqname = {0};
static FIELD mfld_mirth_data_Data_ZTildeparams = {0};
static FIELD mfld_mirth_data_Data_ZTildectypeZAsk = {0};
static FIELD mfld_mirth_data_Data_isZ_resourceZAsk = {0};
static FIELD mfld_mirth_data_Data_unitZAsk = {0};
static FIELD mfld_mirth_data_Data_isZ_enumZAsk = {0};
static FIELD mfld_mirth_data_Data_isZ_transparentZAsk = {0};
static FIELD mfld_mirth_data_Data_semiZ_transparentZAsk = {0};
static FIELD mfld_mirth_data_Tag_doc = {0};
static FIELD mfld_mirth_data_Tag_data = {0};
static FIELD mfld_mirth_data_Tag_name = {0};
static FIELD mfld_mirth_data_Tag_value = {0};
static FIELD mfld_mirth_data_Tag_sigZAsk = {0};
static FIELD mfld_mirth_data_Tag_ZTildectxZ_type = {0};
static FIELD mfld_mirth_data_Tag_labelZ_inputs = {0};
static FIELD mfld_mirth_data_Tag_numZ_labelZ_inputs = {0};
static FIELD mfld_mirth_data_Tag_numZ_typeZ_inputs = {0};
static FIELD mfld_mirth_data_Tag_numZ_resourceZ_inputs = {0};
static FIELD mfld_mirth_data_Tag_inputs = {0};
static FIELD mfld_mirth_data_Tag_fields = {0};
static FIELD mfld_mirth_data_Tag_untagZAsk = {0};
static FIELD mfld_mirth_data_Tag_outputZ_type = {0};
static FIELD mfld_mirth_arrow_Block_ctx = {0};
static FIELD mfld_mirth_arrow_Block_token = {0};
static FIELD mfld_mirth_arrow_Block_home = {0};
static FIELD mfld_mirth_arrow_Block_dom = {0};
static FIELD mfld_mirth_arrow_Block_cod = {0};
static FIELD mfld_mirth_arrow_Block_homeZ_index = {0};
static FIELD mfld_mirth_arrow_Block_cname = {0};
static FIELD mfld_mirth_arrow_Block_freeZ_vars = {0};
static FIELD mfld_mirth_arrow_Block_ZTildearrow = {0};
static FIELD mfld_mirth_type_MetaVar_kind = {0};
static FIELD mfld_mirth_type_MetaVar_typeZAsk = {0};
static FIELD mfld_mirth_prim_Prim_ZTildectxZ_type = {0};
static FIELD mfld_mirth_token_Token_value = {0};
static FIELD mfld_mirth_token_Token_module = {0};
static FIELD mfld_mirth_token_Token_row = {0};
static FIELD mfld_mirth_token_Token_col = {0};
static FIELD mfld_mirth_token_Token_doc = {0};
static FIELD mfld_mirth_alias_Alias_doc = {0};
static FIELD mfld_mirth_alias_Alias_head = {0};
static FIELD mfld_mirth_alias_Alias_name = {0};
static FIELD mfld_mirth_alias_Alias_arity = {0};
static FIELD mfld_mirth_alias_Alias_ZTildeqname = {0};
static FIELD mfld_mirth_alias_Alias_ZTildetarget = {0};
static FIELD mfld_mirth_name_Name_str = {0};
static FIELD mfld_mirth_name_Name_defs = {0};
static FIELD mfld_mirth_name_Name_label = {0};
static FIELD mfld_mirth_name_Name_mangled = {0};
static FIELD mfld_mirth_module_Module_doc = {0};
static FIELD mfld_mirth_module_Module_package = {0};
static FIELD mfld_mirth_module_Module_name = {0};
static FIELD mfld_mirth_module_Module_path = {0};
static FIELD mfld_mirth_module_Module_start = {0};
static FIELD mfld_mirth_module_Module_head = {0};
static FIELD mfld_mirth_module_Module_end = {0};
static FIELD mfld_mirth_module_Module_imports = {0};
static FIELD mfld_mirth_word_Word_ZTildespZ_checked = {0};
static FIELD mfld_mirth_arrow_Block_ZTildespZ_checked = {0};
static FIELD mfld_mirth_word_Word_ZTildespZ_synthed = {0};
static FIELD mfld_mirth_data_Tag_ZTildewordZ_cname = {0};
static FIELD mfld_mirth_data_Tag_ZTildepatZ_cname = {0};
static FIELD mfld_mirth_buffer_Buffer_ZTildecname = {0};
static FIELD mfld_mirth_table_Field_ZTildecname = {0};
static FIELD mfld_mirth_external_External_ZTildecname = {0};
static FIELD mfld_mirth_prim_Prim_ZTildecname = {0};
static FIELD mfld_mirth_external_External_ZTildec99Z_api = {0};
static FIELD mfld_mirth_data_Tag_ZTildevalueZ_show = {0};
static FIELD mfld_mirth_data_Data_c99Z_repr = {0};
static FIELD mfld_mirth_data_Tag_ZTildewordZ_c99Z_api = {0};
static FIELD mfld_mirth_data_Tag_ZTildepatZ_c99Z_api = {0};
static FIELD mfld_mirth_word_Word_ZTildec99Z_api = {0};
static PTUP mtw_std_either_Either_2_Left (VAL in_a_1) {
	PTUP r3 = PTRMK(0LL /* Left */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_a_1;
	return r3;
}
static VAL mtp_std_either_Either_2_Left (PTUP in_Either_1) {
	VAL v3 = ((TUP*)PTRPTR(in_Either_1))->cells[0];
	tup_decref_outer(in_Either_1);
	return v3;
}
static PTUP mtw_std_either_Either_2_Right (VAL in_b_1) {
	PTUP r3 = PTRMK(1LL /* Right */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_b_1;
	return r3;
}
static VAL mtp_std_either_Either_2_Right (PTUP in_Either_1) {
	VAL v3 = ((TUP*)PTRPTR(in_Either_1))->cells[0];
	tup_decref_outer(in_Either_1);
	return v3;
}
static void mtw_std_either_ZPlusEither_2_ZPlusLeft (VAL in_ZPlusa_1, PTUP *out_ZPlusEither_2) {
	PTUP r3 = PTRMK(0LL /* +Left */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_ZPlusa_1;
	*out_ZPlusEither_2 = r3;
}
static void mtp_std_either_ZPlusEither_2_ZPlusLeft (PTUP in_ZPlusEither_1, VAL *out_ZPlusa_2) {
	VAL r3 = ((TUP*)PTRPTR(in_ZPlusEither_1))->cells[0];
	tup_decref_outer(in_ZPlusEither_1);
	*out_ZPlusa_2 = r3;
}
static void mtw_std_either_ZPlusEither_2_ZPlusRight (VAL in_ZPlusb_1, PTUP *out_ZPlusEither_2) {
	PTUP r3 = PTRMK(1LL /* +Right */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_ZPlusb_1;
	*out_ZPlusEither_2 = r3;
}
static void mtp_std_either_ZPlusEither_2_ZPlusRight (PTUP in_ZPlusEither_1, VAL *out_ZPlusb_2) {
	VAL r3 = ((TUP*)PTRPTR(in_ZPlusEither_1))->cells[0];
	tup_decref_outer(in_ZPlusEither_1);
	*out_ZPlusb_2 = r3;
}
static PTUP mtw_std_list_List_1_Cons (VAL in_t_1, PTUP in_List_2) {
	PTUP r4 = PTRMK(1LL /* Cons */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_List_2);
	((TUP*)PTRPTR(r4))->cells[0] = in_t_1;
	return r4;
}
static VAL mtp_std_list_List_1_Cons (PTUP in_List_1, PTUP *out_List_3) {
	VAL v4 = ((TUP*)PTRPTR(in_List_1))->cells[0];
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_List_1))->cells[1]);
	tup_decref_outer(in_List_1);
	*out_List_3 = v5;
	return v4;
}
static PTUP mtw_std_list_Nest_1_Nest (VAL in_t_1, PTUP in_List_2) {
	PTUP r4 = PTRMK(0LL /* Nest */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_List_2);
	((TUP*)PTRPTR(r4))->cells[0] = in_t_1;
	return r4;
}
static void mtp_std_list_Nest_1_Nest (PTUP in_Nest_1, VAL *out_t_2, PTUP *out_List_3) {
	VAL v4 = ((TUP*)PTRPTR(in_Nest_1))->cells[0];
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Nest_1))->cells[1]);
	tup_decref_outer(in_Nest_1);
	*out_List_3 = v5;
	*out_t_2 = v4;
}
static PTUP mtw_std_maybe_Maybe_1_Some (VAL in_t_1) {
	PTUP r3 = PTRMK(1LL /* Some */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_t_1;
	return r3;
}
static VAL mtp_std_maybe_Maybe_1_Some (PTUP in_Maybe_1) {
	VAL v3 = ((TUP*)PTRPTR(in_Maybe_1))->cells[0];
	tup_decref_outer(in_Maybe_1);
	return v3;
}
static void mtw_std_maybe_ZPlusMaybe_1_ZPlusSome (VAL in_ZPlust_1, PTUP *out_ZPlusMaybe_2) {
	PTUP r3 = PTRMK(1LL /* +Some */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_ZPlust_1;
	*out_ZPlusMaybe_2 = r3;
}
static void mtp_std_maybe_ZPlusMaybe_1_ZPlusSome (PTUP in_ZPlusMaybe_1, VAL *out_ZPlust_2) {
	VAL r3 = ((TUP*)PTRPTR(in_ZPlusMaybe_1))->cells[0];
	tup_decref_outer(in_ZPlusMaybe_1);
	*out_ZPlust_2 = r3;
}
static PTUP mtw_std_result_Result_2_Err (VAL in_e_1) {
	PTUP r3 = PTRMK(0LL /* Err */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_e_1;
	return r3;
}
static VAL mtp_std_result_Result_2_Err (PTUP in_Result_1) {
	VAL v3 = ((TUP*)PTRPTR(in_Result_1))->cells[0];
	tup_decref_outer(in_Result_1);
	return v3;
}
static PTUP mtw_std_result_Result_2_Ok (VAL in_t_1) {
	PTUP r3 = PTRMK(1LL /* Ok */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_t_1;
	return r3;
}
static VAL mtp_std_result_Result_2_Ok (PTUP in_Result_1) {
	VAL v3 = ((TUP*)PTRPTR(in_Result_1))->cells[0];
	tup_decref_outer(in_Result_1);
	return v3;
}
static void mtw_std_result_ZPlusResult_2_ZPlusErr (VAL in_e_1, PTUP *out_ZPlusResult_2) {
	PTUP r3 = PTRMK(0LL /* +Err */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_e_1;
	*out_ZPlusResult_2 = r3;
}
static VAL mtp_std_result_ZPlusResult_2_ZPlusErr (PTUP in_ZPlusResult_1) {
	VAL v3 = ((TUP*)PTRPTR(in_ZPlusResult_1))->cells[0];
	tup_decref_outer(in_ZPlusResult_1);
	return v3;
}
static void mtw_std_result_ZPlusResult_2_ZPlusOk (VAL in_ZPlust_1, PTUP *out_ZPlusResult_2) {
	PTUP r3 = PTRMK(1LL /* +Ok */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_ZPlust_1;
	*out_ZPlusResult_2 = r3;
}
static void mtp_std_result_ZPlusResult_2_ZPlusOk (PTUP in_ZPlusResult_1, VAL *out_ZPlust_2) {
	VAL r3 = ((TUP*)PTRPTR(in_ZPlusResult_1))->cells[0];
	tup_decref_outer(in_ZPlusResult_1);
	*out_ZPlust_2 = r3;
}
static PTUP mtp_std_terminal_Sgr_FGColor (PTUP in_Sgr_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Sgr_1))->cells[0]);
	tup_decref_outer(in_Sgr_1);
	return v3;
}
static PTUP mtp_std_terminal_Sgr_BGColor (PTUP in_Sgr_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Sgr_1))->cells[0]);
	tup_decref_outer(in_Sgr_1);
	return v3;
}
static INT mtp_std_terminal_SGRColor_Numbered (PTUP in_SGRColor_1) {
	INT v3 = value_int(((TUP*)PTRPTR(in_SGRColor_1))->cells[0]);
	tup_decref_outer(in_SGRColor_1);
	return v3;
}
static INT mtp_std_terminal_SGRColor_RGB (PTUP in_SGRColor_1, INT *out_Int_3, INT *out_Int_4) {
	INT v5 = value_int(((TUP*)PTRPTR(in_SGRColor_1))->cells[0]);
	INT v6 = value_int(((TUP*)PTRPTR(in_SGRColor_1))->cells[1]);
	INT v7 = value_int(((TUP*)PTRPTR(in_SGRColor_1))->cells[2]);
	tup_decref_outer(in_SGRColor_1);
	*out_Int_4 = v7;
	*out_Int_3 = v6;
	return v5;
}
static void mtw_std_input_ZPlusInputOpenState_ZPlusInputOpenState (INT in_Sizze_1, INT in_Offset_2, PTUP in_ZPlusFile_3, ARR* in_ZPlusBuffer_4, PTUP *out_ZPlusInputOpenState_5) {
	PTUP r6 = PTRMK(0LL /* +InputOpenState */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKARR(in_ZPlusBuffer_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKTUP(in_ZPlusFile_3);
	((TUP*)PTRPTR(r6))->cells[1] = MKINT(in_Offset_2);
	((TUP*)PTRPTR(r6))->cells[0] = MKINT(in_Sizze_1);
	*out_ZPlusInputOpenState_5 = r6;
}
static void mtp_std_input_ZPlusInputOpenState_ZPlusInputOpenState (PTUP in_ZPlusInputOpenState_1, INT *out_Sizze_2, INT *out_Offset_3, PTUP *out_ZPlusFile_4, ARR* *out_ZPlusBuffer_5) {
	INT v6 = value_int(((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[0]);
	INT v7 = value_int(((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[1]);
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[2]);
	ARR* r9 = value_arr(((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[3]);
	tup_decref_outer(in_ZPlusInputOpenState_1);
	*out_ZPlusBuffer_5 = r9;
	*out_ZPlusFile_4 = r8;
	*out_Offset_3 = v7;
	*out_Sizze_2 = v6;
}
static void mtw_std_input_ZPlusInput_Open (PTUP in_ZPlusInputOpenState_1, PTUP *out_ZPlusInput_2) {
	PTUP r3 = PTRMK(0LL /* Open */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_ZPlusInputOpenState_1);
	*out_ZPlusInput_2 = r3;
}
static void mtp_std_input_ZPlusInput_Open (PTUP in_ZPlusInput_1, PTUP *out_ZPlusInputOpenState_2) {
	PTUP r3 = VTUP(((TUP*)PTRPTR(in_ZPlusInput_1))->cells[0]);
	tup_decref_outer(in_ZPlusInput_1);
	*out_ZPlusInputOpenState_2 = r3;
}
static void mtw_std_input_ZPlusInput_Done (PTUP in_ZPlusFile_1, PTUP *out_ZPlusInput_2) {
	PTUP r3 = PTRMK(1LL /* Done */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_ZPlusFile_1);
	*out_ZPlusInput_2 = r3;
}
static void mtp_std_input_ZPlusInput_Done (PTUP in_ZPlusInput_1, PTUP *out_ZPlusFile_2) {
	PTUP r3 = VTUP(((TUP*)PTRPTR(in_ZPlusInput_1))->cells[0]);
	tup_decref_outer(in_ZPlusInput_1);
	*out_ZPlusFile_2 = r3;
}
static void mtw_std_output_ZPlusOutput_ZPlusOutput (INT in_Sizze_1, PTUP in_ZPlusFile_2, ARR* in_ZPlusBuffer_3, PTUP *out_ZPlusOutput_4) {
	PTUP r5 = PTRMK(0LL /* +Output */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKARR(in_ZPlusBuffer_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKTUP(in_ZPlusFile_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKINT(in_Sizze_1);
	*out_ZPlusOutput_4 = r5;
}
static void mtp_std_output_ZPlusOutput_ZPlusOutput (PTUP in_ZPlusOutput_1, INT *out_Sizze_2, PTUP *out_ZPlusFile_3, ARR* *out_ZPlusBuffer_4) {
	INT v5 = value_int(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[0]);
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[1]);
	ARR* r7 = value_arr(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[2]);
	tup_decref_outer(in_ZPlusOutput_1);
	*out_ZPlusBuffer_4 = r7;
	*out_ZPlusFile_3 = r6;
	*out_Sizze_2 = v5;
}
static PTUP mtw_std_file_IOError_OpenFailed (STR* in_Path_1, int64_t in_Errno_2) {
	PTUP r4 = PTRMK(0LL /* OpenFailed */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKI64(in_Errno_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKSTR(in_Path_1);
	return r4;
}
static STR* mtp_std_file_IOError_OpenFailed (PTUP in_IOError_1, int64_t *out_Errno_3) {
	STR* v4 = value_str(((TUP*)PTRPTR(in_IOError_1))->cells[0]);
	int64_t v5 = value_i64(((TUP*)PTRPTR(in_IOError_1))->cells[1]);
	tup_decref_outer(in_IOError_1);
	*out_Errno_3 = v5;
	return v4;
}
static PTUP mtw_std_file_IOError_CreateFailed (STR* in_Path_1, int64_t in_Errno_2) {
	PTUP r4 = PTRMK(1LL /* CreateFailed */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKI64(in_Errno_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKSTR(in_Path_1);
	return r4;
}
static STR* mtp_std_file_IOError_CreateFailed (PTUP in_IOError_1, int64_t *out_Errno_3) {
	STR* v4 = value_str(((TUP*)PTRPTR(in_IOError_1))->cells[0]);
	int64_t v5 = value_i64(((TUP*)PTRPTR(in_IOError_1))->cells[1]);
	tup_decref_outer(in_IOError_1);
	*out_Errno_3 = v5;
	return v4;
}
static PTUP mtw_std_file_IOError_CreateUnsupported (STR* in_Path_1) {
	PTUP r3 = PTRMK(2LL /* CreateUnsupported */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Path_1);
	return r3;
}
static STR* mtp_std_file_IOError_CreateUnsupported (PTUP in_IOError_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_IOError_1))->cells[0]);
	tup_decref_outer(in_IOError_1);
	return v3;
}
static PTUP mtw_std_file_IOError_CloseFailed (int64_t in_Errno_1) {
	PTUP r3 = PTRMK(3LL /* CloseFailed */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_Errno_1);
	return r3;
}
static int64_t mtp_std_file_IOError_CloseFailed (PTUP in_IOError_1) {
	int64_t v3 = value_i64(((TUP*)PTRPTR(in_IOError_1))->cells[0]);
	tup_decref_outer(in_IOError_1);
	return v3;
}
static PTUP mtw_std_file_IOError_ReadFailed (int64_t in_Errno_1) {
	PTUP r3 = PTRMK(4LL /* ReadFailed */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_Errno_1);
	return r3;
}
static int64_t mtp_std_file_IOError_ReadFailed (PTUP in_IOError_1) {
	int64_t v3 = value_i64(((TUP*)PTRPTR(in_IOError_1))->cells[0]);
	tup_decref_outer(in_IOError_1);
	return v3;
}
static PTUP mtw_std_file_IOError_WriteFailed (INT in_Sizze_1, int64_t in_Errno_2) {
	PTUP r4 = PTRMK(5LL /* WriteFailed */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKI64(in_Errno_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKINT(in_Sizze_1);
	return r4;
}
static INT mtp_std_file_IOError_WriteFailed (PTUP in_IOError_1, int64_t *out_Errno_3) {
	INT v4 = value_int(((TUP*)PTRPTR(in_IOError_1))->cells[0]);
	int64_t v5 = value_i64(((TUP*)PTRPTR(in_IOError_1))->cells[1]);
	tup_decref_outer(in_IOError_1);
	*out_Errno_3 = v5;
	return v4;
}
static void mtw_std_file_ZPlusFile_ZPlusFile (int64_t in_ZPlusFileDescriptor_1, bool in_Bool_2, PTUP *out_ZPlusFile_3) {
	PTUP r4 = PTRMK(0LL /* +File */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKBOOL(in_Bool_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKI64(in_ZPlusFileDescriptor_1);
	*out_ZPlusFile_3 = r4;
}
static void mtp_std_file_ZPlusFile_ZPlusFile (PTUP in_ZPlusFile_1, int64_t *out_ZPlusFileDescriptor_2, bool *out_Bool_3) {
	int64_t r4 = value_i64(((TUP*)PTRPTR(in_ZPlusFile_1))->cells[0]);
	bool v5 = value_bool(((TUP*)PTRPTR(in_ZPlusFile_1))->cells[1]);
	tup_decref_outer(in_ZPlusFile_1);
	*out_Bool_3 = v5;
	*out_ZPlusFileDescriptor_2 = r4;
}
static PTUP mtw_argZ_parser_state_ArgvInfo_ArgvInfo (PTUP in_List_1, STR* in_Str_2) {
	PTUP r4 = PTRMK(0LL /* ArgvInfo */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKSTR(in_Str_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_List_1);
	return r4;
}
static PTUP mtw_argZ_parser_state_CurrentArg_CurrentArg (bool in_Bool_1, PTUP in_Maybe_2, PTUP in_Maybe_3) {
	PTUP r5 = PTRMK(0LL /* CurrentArg */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKTUP(in_Maybe_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKTUP(in_Maybe_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKBOOL(in_Bool_1);
	return r5;
}
static PTUP mtw_argZ_parser_state_State_1_State (VAL in_a_1, PTUP in_ArgvInfo_2, PTUP in_CurrentArg_3, INT in_Int_4, INT in_Int_5, PTUP in_Maybe_6) {
	PTUP r8 = PTRMK(0LL /* State */,tup_new(6),0);
	((TUP*)PTRPTR(r8))->size = 6;
	((TUP*)PTRPTR(r8))->cells[5] = MKTUP(in_Maybe_6);
	((TUP*)PTRPTR(r8))->cells[4] = MKINT(in_Int_5);
	((TUP*)PTRPTR(r8))->cells[3] = MKINT(in_Int_4);
	((TUP*)PTRPTR(r8))->cells[2] = MKTUP(in_CurrentArg_3);
	((TUP*)PTRPTR(r8))->cells[1] = MKTUP(in_ArgvInfo_2);
	((TUP*)PTRPTR(r8))->cells[0] = in_a_1;
	return r8;
}
static PTUP mtw_argZ_parser_types_ArgumentParser_1_ArgumentParser (PTUP in_List_1, VAL in__2, PTUP in_Maybe_3, STR* in_Str_4) {
	PTUP r6 = PTRMK(0LL /* ArgumentParser */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKSTR(in_Str_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKTUP(in_Maybe_3);
	((TUP*)PTRPTR(r6))->cells[1] = in__2;
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(in_List_1);
	return r6;
}
static void mtw_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser (PTUP in_ArgumentParser_1, PTUP in_State_2, PTUP *out_ZPlusArgumentParser_3) {
	PTUP r4 = PTRMK(0LL /* +ArgumentParser */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_State_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_ArgumentParser_1);
	*out_ZPlusArgumentParser_3 = r4;
}
static void mtp_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser (PTUP in_ZPlusArgumentParser_1, PTUP *out_ArgumentParser_2, PTUP *out_State_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
	tup_decref_outer(in_ZPlusArgumentParser_1);
	*out_State_3 = v5;
	*out_ArgumentParser_2 = v4;
}
static PTUP mtw_argZ_parser_types_ArgpOptionType_Short (int64_t in_Byte_1) {
	PTUP r3 = PTRMK(0LL /* Short */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_Byte_1);
	return r3;
}
static int64_t mtp_argZ_parser_types_ArgpOptionType_Short (PTUP in_ArgpOptionType_1) {
	int64_t v3 = VI64(((TUP*)PTRPTR(in_ArgpOptionType_1))->cells[0]);
	tup_decref_outer(in_ArgpOptionType_1);
	return v3;
}
static PTUP mtw_argZ_parser_types_ArgpOptionType_LongOnly (STR* in_Str_1) {
	PTUP r3 = PTRMK(1LL /* LongOnly */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_argZ_parser_types_ArgpOptionType_LongOnly (PTUP in_ArgpOptionType_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_ArgpOptionType_1))->cells[0]);
	tup_decref_outer(in_ArgpOptionType_1);
	return v3;
}
static PTUP mtw_argZ_parser_types_ArgpOption_ArgpOption (PTUP in_Maybe_1, PTUP in_ArgpOptionType_2, PTUP in_Maybe_3, PTUP in_Maybe_4, PTUP in_Maybe_5) {
	PTUP r7 = PTRMK(0LL /* ArgpOption */,tup_new(5),0);
	((TUP*)PTRPTR(r7))->size = 5;
	((TUP*)PTRPTR(r7))->cells[4] = MKTUP(in_Maybe_5);
	((TUP*)PTRPTR(r7))->cells[3] = MKTUP(in_Maybe_4);
	((TUP*)PTRPTR(r7))->cells[2] = MKTUP(in_Maybe_3);
	((TUP*)PTRPTR(r7))->cells[1] = MKTUP(in_ArgpOptionType_2);
	((TUP*)PTRPTR(r7))->cells[0] = MKTUP(in_Maybe_1);
	return r7;
}
static PTUP mtw_argZ_parser_types_ArgumentParsingError_MissingArg (STR* in_Str_1) {
	PTUP r3 = PTRMK(1LL /* MissingArg */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_argZ_parser_types_ArgumentParsingError_MissingArg (PTUP in_ArgumentParsingError_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_ArgumentParsingError_1))->cells[0]);
	tup_decref_outer(in_ArgumentParsingError_1);
	return v3;
}
static PTUP mtw_mirth_options_Options_Options (STR* in_Path_1, PTUP in_Maybe_2, PTUP in_Maybe_3, PTUP in_List_4, PTUP in_List_5, bool in_Bool_6) {
	PTUP r8 = PTRMK(0LL /* Options */,tup_new(6),0);
	((TUP*)PTRPTR(r8))->size = 6;
	((TUP*)PTRPTR(r8))->cells[5] = MKBOOL(in_Bool_6);
	((TUP*)PTRPTR(r8))->cells[4] = MKTUP(in_List_5);
	((TUP*)PTRPTR(r8))->cells[3] = MKTUP(in_List_4);
	((TUP*)PTRPTR(r8))->cells[2] = MKTUP(in_Maybe_3);
	((TUP*)PTRPTR(r8))->cells[1] = MKTUP(in_Maybe_2);
	((TUP*)PTRPTR(r8))->cells[0] = MKSTR(in_Path_1);
	return r8;
}
static void mtp_mirth_options_Options_Options (PTUP in_Options_1, STR* *out_Path_2, PTUP *out_Maybe_3, PTUP *out_Maybe_4, PTUP *out_List_5, PTUP *out_List_6, bool *out_Bool_7) {
	STR* v8 = value_str(((TUP*)PTRPTR(in_Options_1))->cells[0]);
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_Options_1))->cells[1]);
	PTUP v10 = VTUP(((TUP*)PTRPTR(in_Options_1))->cells[2]);
	PTUP v11 = VTUP(((TUP*)PTRPTR(in_Options_1))->cells[3]);
	PTUP v12 = VTUP(((TUP*)PTRPTR(in_Options_1))->cells[4]);
	bool v13 = value_bool(((TUP*)PTRPTR(in_Options_1))->cells[5]);
	tup_decref_outer(in_Options_1);
	*out_Bool_7 = v13;
	*out_List_6 = v12;
	*out_List_5 = v11;
	*out_Maybe_4 = v10;
	*out_Maybe_3 = v9;
	*out_Path_2 = v8;
}
static PTUP mtw_std_map_KeyValuePair_2_KeyValuePair (VAL in_k_1, VAL in_v_2) {
	PTUP r4 = PTRMK(0LL /* KeyValuePair */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = in_v_2;
	((TUP*)PTRPTR(r4))->cells[0] = in_k_1;
	return r4;
}
static void mtp_std_map_KeyValuePair_2_KeyValuePair (PTUP in_KeyValuePair_1, VAL *out_k_2, VAL *out_v_3) {
	VAL v4 = ((TUP*)PTRPTR(in_KeyValuePair_1))->cells[0];
	VAL v5 = ((TUP*)PTRPTR(in_KeyValuePair_1))->cells[1];
	tup_decref_outer(in_KeyValuePair_1);
	*out_v_3 = v5;
	*out_k_2 = v4;
}
static PTUP mtw_mirth_external_ExternalBlockPart_EBPCode (STR* in_Str_1) {
	PTUP r3 = PTRMK(0LL /* EBPCode */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_external_ExternalBlockPart_EBPCode (PTUP in_ExternalBlockPart_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_ExternalBlockPart_1))->cells[0]);
	tup_decref_outer(in_ExternalBlockPart_1);
	return v3;
}
static PTUP mtw_mirth_external_ExternalBlockPart_EBPDef (uint64_t in_External_1) {
	PTUP r3 = PTRMK(1LL /* EBPDef */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_External_1);
	return r3;
}
static uint64_t mtp_mirth_external_ExternalBlockPart_EBPDef (PTUP in_ExternalBlockPart_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_ExternalBlockPart_1))->cells[0]);
	tup_decref_outer(in_ExternalBlockPart_1);
	return v3;
}
static PTUP mtw_mirth_external_ExternalDeclPart_EDPCode (uint64_t in_Token_1, STR* in_Str_2) {
	PTUP r4 = PTRMK(0LL /* EDPCode */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKSTR(in_Str_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKU64(in_Token_1);
	return r4;
}
static void mtp_mirth_external_ExternalDeclPart_EDPCode (PTUP in_ExternalDeclPart_1, uint64_t *out_Token_2, STR* *out_Str_3) {
	uint64_t v4 = value_u64(((TUP*)PTRPTR(in_ExternalDeclPart_1))->cells[0]);
	STR* v5 = value_str(((TUP*)PTRPTR(in_ExternalDeclPart_1))->cells[1]);
	tup_decref_outer(in_ExternalDeclPart_1);
	*out_Str_3 = v5;
	*out_Token_2 = v4;
}
static PTUP mtw_mirth_external_ExternalDeclPart_EDPDef (PTUP in_Maybe_1, uint64_t in_Token_2, PTUP in_Maybe_3, uint64_t in_Token_4) {
	PTUP r6 = PTRMK(1LL /* EDPDef */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKU64(in_Token_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKTUP(in_Maybe_3);
	((TUP*)PTRPTR(r6))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(in_Maybe_1);
	return r6;
}
static void mtp_mirth_external_ExternalDeclPart_EDPDef (PTUP in_ExternalDeclPart_1, PTUP *out_Maybe_2, uint64_t *out_Token_3, PTUP *out_Maybe_4, uint64_t *out_Token_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ExternalDeclPart_1))->cells[0]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ExternalDeclPart_1))->cells[1]);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ExternalDeclPart_1))->cells[2]);
	uint64_t v9 = value_u64(((TUP*)PTRPTR(in_ExternalDeclPart_1))->cells[3]);
	tup_decref_outer(in_ExternalDeclPart_1);
	*out_Token_5 = v9;
	*out_Maybe_4 = v8;
	*out_Token_3 = v7;
	*out_Maybe_2 = v6;
}
static PTUP mtw_mirth_word_Param_Param (uint64_t in_Var_1, PTUP in_Maybe_2) {
	PTUP r4 = PTRMK(0LL /* Param */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_Maybe_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKU64(in_Var_1);
	return r4;
}
static PTUP mtw_mirth_match_Match_Match (PTUP in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, PTUP in_Ctx_4, PTUP in_StackType_5, PTUP in_StackType_6, PTUP in_List_7) {
	PTUP r9 = PTRMK(0LL /* Match */,tup_new(7),0);
	((TUP*)PTRPTR(r9))->size = 7;
	((TUP*)PTRPTR(r9))->cells[6] = MKTUP(in_List_7);
	((TUP*)PTRPTR(r9))->cells[5] = MKTUP(in_StackType_6);
	((TUP*)PTRPTR(r9))->cells[4] = MKTUP(in_StackType_5);
	((TUP*)PTRPTR(r9))->cells[3] = MKTUP(in_Ctx_4);
	((TUP*)PTRPTR(r9))->cells[2] = MKU64(in_Token_3);
	((TUP*)PTRPTR(r9))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r9))->cells[0] = MKTUP(in_Home_1);
	return r9;
}
static void mtp_mirth_match_Match_Match (PTUP in_Match_1, PTUP *out_Home_2, uint64_t *out_Token_3, uint64_t *out_Token_4, PTUP *out_Ctx_5, PTUP *out_StackType_6, PTUP *out_StackType_7, PTUP *out_List_8) {
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_Match_1))->cells[0]);
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_Match_1))->cells[1]);
	uint64_t v11 = value_u64(((TUP*)PTRPTR(in_Match_1))->cells[2]);
	PTUP v12 = VTUP(((TUP*)PTRPTR(in_Match_1))->cells[3]);
	PTUP v13 = VTUP(((TUP*)PTRPTR(in_Match_1))->cells[4]);
	PTUP v14 = VTUP(((TUP*)PTRPTR(in_Match_1))->cells[5]);
	PTUP v15 = VTUP(((TUP*)PTRPTR(in_Match_1))->cells[6]);
	tup_decref_outer(in_Match_1);
	*out_List_8 = v15;
	*out_StackType_7 = v14;
	*out_StackType_6 = v13;
	*out_Ctx_5 = v12;
	*out_Token_4 = v11;
	*out_Token_3 = v10;
	*out_Home_2 = v9;
}
static void mtw_mirth_match_ZPlusMatch_ZPlusMatch (PTUP in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, PTUP in_Ctx_4, PTUP in_StackType_5, PTUP in_StackType_6, PTUP in_List_7, PTUP *out_ZPlusMatch_8) {
	PTUP r9 = PTRMK(0LL /* +Match */,tup_new(7),0);
	((TUP*)PTRPTR(r9))->size = 7;
	((TUP*)PTRPTR(r9))->cells[6] = MKTUP(in_List_7);
	((TUP*)PTRPTR(r9))->cells[5] = MKTUP(in_StackType_6);
	((TUP*)PTRPTR(r9))->cells[4] = MKTUP(in_StackType_5);
	((TUP*)PTRPTR(r9))->cells[3] = MKTUP(in_Ctx_4);
	((TUP*)PTRPTR(r9))->cells[2] = MKU64(in_Token_3);
	((TUP*)PTRPTR(r9))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r9))->cells[0] = MKTUP(in_Home_1);
	*out_ZPlusMatch_8 = r9;
}
static void mtp_mirth_match_ZPlusMatch_ZPlusMatch (PTUP in_ZPlusMatch_1, PTUP *out_Home_2, uint64_t *out_Token_3, uint64_t *out_Token_4, PTUP *out_Ctx_5, PTUP *out_StackType_6, PTUP *out_StackType_7, PTUP *out_List_8) {
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_ZPlusMatch_1))->cells[0]);
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_ZPlusMatch_1))->cells[1]);
	uint64_t v11 = value_u64(((TUP*)PTRPTR(in_ZPlusMatch_1))->cells[2]);
	PTUP v12 = VTUP(((TUP*)PTRPTR(in_ZPlusMatch_1))->cells[3]);
	PTUP v13 = VTUP(((TUP*)PTRPTR(in_ZPlusMatch_1))->cells[4]);
	PTUP v14 = VTUP(((TUP*)PTRPTR(in_ZPlusMatch_1))->cells[5]);
	PTUP v15 = VTUP(((TUP*)PTRPTR(in_ZPlusMatch_1))->cells[6]);
	tup_decref_outer(in_ZPlusMatch_1);
	*out_List_8 = v15;
	*out_StackType_7 = v14;
	*out_StackType_6 = v13;
	*out_Ctx_5 = v12;
	*out_Token_4 = v11;
	*out_Token_3 = v10;
	*out_Home_2 = v9;
}
static PTUP mtw_mirth_match_Case_Case (PTUP in_Pattern_1, PTUP in_Arrow_2) {
	PTUP r4 = PTRMK(0LL /* Case */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_Arrow_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Pattern_1);
	return r4;
}
static PTUP mtw_mirth_match_Pattern_Pattern (PTUP in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, PTUP in_Ctx_4, PTUP in_Ctx_5, PTUP in_List_6, PTUP in_StackType_7, PTUP in_StackType_8, PTUP in_List_9) {
	PTUP r11 = PTRMK(0LL /* Pattern */,tup_new(9),0);
	((TUP*)PTRPTR(r11))->size = 9;
	((TUP*)PTRPTR(r11))->cells[8] = MKTUP(in_List_9);
	((TUP*)PTRPTR(r11))->cells[7] = MKTUP(in_StackType_8);
	((TUP*)PTRPTR(r11))->cells[6] = MKTUP(in_StackType_7);
	((TUP*)PTRPTR(r11))->cells[5] = MKTUP(in_List_6);
	((TUP*)PTRPTR(r11))->cells[4] = MKTUP(in_Ctx_5);
	((TUP*)PTRPTR(r11))->cells[3] = MKTUP(in_Ctx_4);
	((TUP*)PTRPTR(r11))->cells[2] = MKU64(in_Token_3);
	((TUP*)PTRPTR(r11))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r11))->cells[0] = MKTUP(in_Home_1);
	return r11;
}
static PTUP mtw_mirth_match_PatternAtom_PatternAtom (uint64_t in_Token_1, PTUP in_Ctx_2, PTUP in_List_3, PTUP in_StackType_4, PTUP in_StackType_5, PTUP in_Subst_6, PTUP in_PatternOp_7) {
	PTUP r9 = PTRMK(0LL /* PatternAtom */,tup_new(7),0);
	((TUP*)PTRPTR(r9))->size = 7;
	((TUP*)PTRPTR(r9))->cells[6] = MKTUP(in_PatternOp_7);
	((TUP*)PTRPTR(r9))->cells[5] = MKTUP(in_Subst_6);
	((TUP*)PTRPTR(r9))->cells[4] = MKTUP(in_StackType_5);
	((TUP*)PTRPTR(r9))->cells[3] = MKTUP(in_StackType_4);
	((TUP*)PTRPTR(r9))->cells[2] = MKTUP(in_List_3);
	((TUP*)PTRPTR(r9))->cells[1] = MKTUP(in_Ctx_2);
	((TUP*)PTRPTR(r9))->cells[0] = MKU64(in_Token_1);
	return r9;
}
static PTUP mtw_mirth_match_PatternOp_Tag (uint64_t in_Tag_1) {
	PTUP r3 = PTRMK(1LL /* Tag */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Tag_1);
	return r3;
}
static uint64_t mtp_mirth_match_PatternOp_Tag (PTUP in_PatternOp_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PatternOp_1))->cells[0]);
	tup_decref_outer(in_PatternOp_1);
	return v3;
}
static void mtw_mirth_lexer_ZPlusLexer_ZPlusLexer (uint64_t in_Module_1, INT in_Row_2, INT in_Col_3, PTUP in_Maybe_4, PTUP in_List_5, uint64_t in_Token_6, uint64_t in_Token_7, STR* in_Str_8, INT in_Offset_9, PTUP *out_ZPlusLexer_10) {
	PTUP r11 = PTRMK(0LL /* +Lexer */,tup_new(9),0);
	((TUP*)PTRPTR(r11))->size = 9;
	((TUP*)PTRPTR(r11))->cells[8] = MKINT(in_Offset_9);
	((TUP*)PTRPTR(r11))->cells[7] = MKSTR(in_Str_8);
	((TUP*)PTRPTR(r11))->cells[6] = MKU64(in_Token_7);
	((TUP*)PTRPTR(r11))->cells[5] = MKU64(in_Token_6);
	((TUP*)PTRPTR(r11))->cells[4] = MKTUP(in_List_5);
	((TUP*)PTRPTR(r11))->cells[3] = MKTUP(in_Maybe_4);
	((TUP*)PTRPTR(r11))->cells[2] = MKINT(in_Col_3);
	((TUP*)PTRPTR(r11))->cells[1] = MKINT(in_Row_2);
	((TUP*)PTRPTR(r11))->cells[0] = MKU64(in_Module_1);
	*out_ZPlusLexer_10 = r11;
}
static void mtp_mirth_lexer_ZPlusLexer_ZPlusLexer (PTUP in_ZPlusLexer_1, uint64_t *out_Module_2, INT *out_Row_3, INT *out_Col_4, PTUP *out_Maybe_5, PTUP *out_List_6, uint64_t *out_Token_7, uint64_t *out_Token_8, STR* *out_Str_9, INT *out_Offset_10) {
	uint64_t v11 = value_u64(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[0]);
	INT v12 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[1]);
	INT v13 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[2]);
	PTUP v14 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[3]);
	PTUP v15 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4]);
	uint64_t v16 = value_u64(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[5]);
	uint64_t v17 = value_u64(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[6]);
	STR* v18 = value_str(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[7]);
	INT v19 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[8]);
	tup_decref_outer(in_ZPlusLexer_1);
	*out_Offset_10 = v19;
	*out_Str_9 = v18;
	*out_Token_8 = v17;
	*out_Token_7 = v16;
	*out_List_6 = v15;
	*out_Maybe_5 = v14;
	*out_Col_4 = v13;
	*out_Row_3 = v12;
	*out_Module_2 = v11;
}
static PTUP mtw_mirth_macro_MacroAction_Decl (VAL in__1) {
	PTUP r3 = PTRMK(0LL /* Decl */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in__1;
	return r3;
}
static VAL mtp_mirth_macro_MacroAction_Decl (PTUP in_MacroAction_1) {
	VAL v3 = ((TUP*)PTRPTR(in_MacroAction_1))->cells[0];
	tup_decref_outer(in_MacroAction_1);
	return v3;
}
static PTUP mtw_mirth_macro_MacroAction_Arrow (VAL in__1) {
	PTUP r3 = PTRMK(1LL /* Arrow */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in__1;
	return r3;
}
static VAL mtp_mirth_macro_MacroAction_Arrow (PTUP in_MacroAction_1) {
	VAL v3 = ((TUP*)PTRPTR(in_MacroAction_1))->cells[0];
	tup_decref_outer(in_MacroAction_1);
	return v3;
}
static void mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab (PTUP in_Ctx_1, uint64_t in_Token_2, bool in_Bool_3, bool in_Bool_4, PTUP *out_ZPlusTypeElab_5) {
	PTUP r6 = PTRMK(0LL /* +TypeElab */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKBOOL(in_Bool_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKBOOL(in_Bool_3);
	((TUP*)PTRPTR(r6))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(in_Ctx_1);
	*out_ZPlusTypeElab_5 = r6;
}
static void mtp_mirth_elab_ZPlusTypeElab_ZPlusTypeElab (PTUP in_ZPlusTypeElab_1, PTUP *out_Ctx_2, uint64_t *out_Token_3, bool *out_Bool_4, bool *out_Bool_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusTypeElab_1))->cells[0]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_1))->cells[1]);
	bool v8 = value_bool(((TUP*)PTRPTR(in_ZPlusTypeElab_1))->cells[2]);
	bool v9 = value_bool(((TUP*)PTRPTR(in_ZPlusTypeElab_1))->cells[3]);
	tup_decref_outer(in_ZPlusTypeElab_1);
	*out_Bool_5 = v9;
	*out_Bool_4 = v8;
	*out_Token_3 = v7;
	*out_Ctx_2 = v6;
}
static PTUP mtw_mirth_elab_RejectedDef_WrongSort (PTUP in_Def_1) {
	PTUP r3 = PTRMK(0LL /* WrongSort */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Def_1);
	return r3;
}
static PTUP mtp_mirth_elab_RejectedDef_WrongSort (PTUP in_RejectedDef_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[0]);
	tup_decref_outer(in_RejectedDef_1);
	return v3;
}
static PTUP mtw_mirth_elab_RejectedDef_WrongArity (PTUP in_Def_1) {
	PTUP r3 = PTRMK(1LL /* WrongArity */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Def_1);
	return r3;
}
static PTUP mtp_mirth_elab_RejectedDef_WrongArity (PTUP in_RejectedDef_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[0]);
	tup_decref_outer(in_RejectedDef_1);
	return v3;
}
static PTUP mtp_mirth_elab_RejectedDef_NotVisible (PTUP in_RejectedDef_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[0]);
	tup_decref_outer(in_RejectedDef_1);
	return v3;
}
static PTUP mtw_mirth_elab_RejectedDef_NotImported (PTUP in_Def_1) {
	PTUP r3 = PTRMK(3LL /* NotImported */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Def_1);
	return r3;
}
static PTUP mtp_mirth_elab_RejectedDef_NotImported (PTUP in_RejectedDef_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[0]);
	tup_decref_outer(in_RejectedDef_1);
	return v3;
}
static PTUP mtw_mirth_elab_RejectedDef_WrongQualifier (PTUP in_Def_1) {
	PTUP r3 = PTRMK(4LL /* WrongQualifier */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Def_1);
	return r3;
}
static PTUP mtp_mirth_elab_RejectedDef_WrongQualifier (PTUP in_RejectedDef_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[0]);
	tup_decref_outer(in_RejectedDef_1);
	return v3;
}
static PTUP mtw_mirth_elab_RejectedDef_WrongConstructor (PTUP in_Def_1) {
	PTUP r3 = PTRMK(5LL /* WrongConstructor */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Def_1);
	return r3;
}
static PTUP mtp_mirth_elab_RejectedDef_WrongConstructor (PTUP in_RejectedDef_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[0]);
	tup_decref_outer(in_RejectedDef_1);
	return v3;
}
static PTUP mtw_mirth_elab_RejectedDef_MethodNotAvailable (PTUP in_Def_1) {
	PTUP r3 = PTRMK(6LL /* MethodNotAvailable */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Def_1);
	return r3;
}
static PTUP mtp_mirth_elab_RejectedDef_MethodNotAvailable (PTUP in_RejectedDef_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[0]);
	tup_decref_outer(in_RejectedDef_1);
	return v3;
}
static PTUP mtw_mirth_elab_RejectedDef_MethodWrongType (PTUP in_Def_1, PTUP in_List_2) {
	PTUP r4 = PTRMK(7LL /* MethodWrongType */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_List_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Def_1);
	return r4;
}
static PTUP mtp_mirth_elab_RejectedDef_MethodWrongType (PTUP in_RejectedDef_1, PTUP *out_List_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_RejectedDef_1))->cells[1]);
	tup_decref_outer(in_RejectedDef_1);
	*out_List_3 = v5;
	return v4;
}
static void mtw_mirth_elab_ZPlusResolveDef_ZPlusResolveDef (STR* in_Str_1, uint64_t in_Token_2, PTUP in_Either_3, PTUP in_List_4, PTUP in_List_5, bool in_Bool_6, bool in_Bool_7, PTUP *out_ZPlusResolveDef_8) {
	PTUP r9 = PTRMK(0LL /* +ResolveDef */,tup_new(7),0);
	((TUP*)PTRPTR(r9))->size = 7;
	((TUP*)PTRPTR(r9))->cells[6] = MKBOOL(in_Bool_7);
	((TUP*)PTRPTR(r9))->cells[5] = MKBOOL(in_Bool_6);
	((TUP*)PTRPTR(r9))->cells[4] = MKTUP(in_List_5);
	((TUP*)PTRPTR(r9))->cells[3] = MKTUP(in_List_4);
	((TUP*)PTRPTR(r9))->cells[2] = MKTUP(in_Either_3);
	((TUP*)PTRPTR(r9))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r9))->cells[0] = MKSTR(in_Str_1);
	*out_ZPlusResolveDef_8 = r9;
}
static void mtp_mirth_elab_ZPlusResolveDef_ZPlusResolveDef (PTUP in_ZPlusResolveDef_1, STR* *out_Str_2, uint64_t *out_Token_3, PTUP *out_Either_4, PTUP *out_List_5, PTUP *out_List_6, bool *out_Bool_7, bool *out_Bool_8) {
	STR* v9 = value_str(((TUP*)PTRPTR(in_ZPlusResolveDef_1))->cells[0]);
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_ZPlusResolveDef_1))->cells[1]);
	PTUP v11 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_1))->cells[2]);
	PTUP v12 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_1))->cells[3]);
	PTUP v13 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_1))->cells[4]);
	bool v14 = value_bool(((TUP*)PTRPTR(in_ZPlusResolveDef_1))->cells[5]);
	bool v15 = value_bool(((TUP*)PTRPTR(in_ZPlusResolveDef_1))->cells[6]);
	tup_decref_outer(in_ZPlusResolveDef_1);
	*out_Bool_8 = v15;
	*out_Bool_7 = v14;
	*out_List_6 = v13;
	*out_List_5 = v12;
	*out_Either_4 = v11;
	*out_Token_3 = v10;
	*out_Str_2 = v9;
}
static PTUP mtw_mirth_elab_OpSig_Push (PTUP in_Type_1) {
	PTUP r3 = PTRMK(1LL /* Push */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Type_1);
	return r3;
}
static PTUP mtp_mirth_elab_OpSig_Push (PTUP in_OpSig_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_OpSig_1))->cells[0]);
	tup_decref_outer(in_OpSig_1);
	return v3;
}
static PTUP mtw_mirth_elab_OpSig_Apply (PTUP in_ArrowType_1) {
	PTUP r3 = PTRMK(2LL /* Apply */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_ArrowType_1);
	return r3;
}
static PTUP mtp_mirth_elab_OpSig_Apply (PTUP in_OpSig_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_OpSig_1))->cells[0]);
	tup_decref_outer(in_OpSig_1);
	return v3;
}
static PTUP mtw_mirth_elab_ModuleHeader_ModuleHeader (PTUP in_Maybe_1, uint64_t in_Package_2, uint64_t in_Name_3, uint64_t in_Token_4, PTUP in_List_5) {
	PTUP r7 = PTRMK(0LL /* ModuleHeader */,tup_new(5),0);
	((TUP*)PTRPTR(r7))->size = 5;
	((TUP*)PTRPTR(r7))->cells[4] = MKTUP(in_List_5);
	((TUP*)PTRPTR(r7))->cells[3] = MKU64(in_Token_4);
	((TUP*)PTRPTR(r7))->cells[2] = MKU64(in_Name_3);
	((TUP*)PTRPTR(r7))->cells[1] = MKU64(in_Package_2);
	((TUP*)PTRPTR(r7))->cells[0] = MKTUP(in_Maybe_1);
	return r7;
}
static void mtp_mirth_elab_ModuleHeader_ModuleHeader (PTUP in_ModuleHeader_1, PTUP *out_Maybe_2, uint64_t *out_Package_3, uint64_t *out_Name_4, uint64_t *out_Token_5, PTUP *out_List_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ModuleHeader_1))->cells[0]);
	uint64_t v8 = value_u64(((TUP*)PTRPTR(in_ModuleHeader_1))->cells[1]);
	uint64_t v9 = value_u64(((TUP*)PTRPTR(in_ModuleHeader_1))->cells[2]);
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_ModuleHeader_1))->cells[3]);
	PTUP v11 = VTUP(((TUP*)PTRPTR(in_ModuleHeader_1))->cells[4]);
	tup_decref_outer(in_ModuleHeader_1);
	*out_List_6 = v11;
	*out_Token_5 = v10;
	*out_Name_4 = v9;
	*out_Package_3 = v8;
	*out_Maybe_2 = v7;
}
static PTUP mtw_mirth_elab_SyntaxDef_SyntaxDef (PTUP in_Maybe_1, uint64_t in_Token_2, PTUP in_Maybe_3, uint64_t in_Token_4) {
	PTUP r6 = PTRMK(0LL /* SyntaxDef */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKU64(in_Token_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKTUP(in_Maybe_3);
	((TUP*)PTRPTR(r6))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(in_Maybe_1);
	return r6;
}
static void mtp_mirth_elab_SyntaxDef_SyntaxDef (PTUP in_SyntaxDef_1, PTUP *out_Maybe_2, uint64_t *out_Token_3, PTUP *out_Maybe_4, uint64_t *out_Token_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_SyntaxDef_1))->cells[0]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_SyntaxDef_1))->cells[1]);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_SyntaxDef_1))->cells[2]);
	uint64_t v9 = value_u64(((TUP*)PTRPTR(in_SyntaxDef_1))->cells[3]);
	tup_decref_outer(in_SyntaxDef_1);
	*out_Token_5 = v9;
	*out_Maybe_4 = v8;
	*out_Token_3 = v7;
	*out_Maybe_2 = v6;
}
static PTUP mtw_mirth_table_StateOwner_Resource (PTUP in_Ctx_1, PTUP in_Resource_2) {
	PTUP r4 = PTRMK(2LL /* Resource */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_Resource_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Ctx_1);
	return r4;
}
static PTUP mtp_mirth_table_StateOwner_Resource (PTUP in_StateOwner_1, PTUP *out_Resource_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_StateOwner_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_StateOwner_1))->cells[1]);
	tup_decref_outer(in_StateOwner_1);
	*out_Resource_3 = v5;
	return v4;
}
static PTUP mtw_mirth_table_InlineFieldSyntax_InlineFieldSyntax (PTUP in_Maybe_1, uint64_t in_Token_2, uint64_t in_Name_3, uint64_t in_Token_4, PTUP in_Maybe_5) {
	PTUP r7 = PTRMK(0LL /* InlineFieldSyntax */,tup_new(5),0);
	((TUP*)PTRPTR(r7))->size = 5;
	((TUP*)PTRPTR(r7))->cells[4] = MKTUP(in_Maybe_5);
	((TUP*)PTRPTR(r7))->cells[3] = MKU64(in_Token_4);
	((TUP*)PTRPTR(r7))->cells[2] = MKU64(in_Name_3);
	((TUP*)PTRPTR(r7))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r7))->cells[0] = MKTUP(in_Maybe_1);
	return r7;
}
static void mtp_mirth_table_InlineFieldSyntax_InlineFieldSyntax (PTUP in_InlineFieldSyntax_1, PTUP *out_Maybe_2, uint64_t *out_Token_3, uint64_t *out_Name_4, uint64_t *out_Token_5, PTUP *out_Maybe_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_InlineFieldSyntax_1))->cells[0]);
	uint64_t v8 = value_u64(((TUP*)PTRPTR(in_InlineFieldSyntax_1))->cells[1]);
	uint64_t v9 = value_u64(((TUP*)PTRPTR(in_InlineFieldSyntax_1))->cells[2]);
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_InlineFieldSyntax_1))->cells[3]);
	PTUP v11 = VTUP(((TUP*)PTRPTR(in_InlineFieldSyntax_1))->cells[4]);
	tup_decref_outer(in_InlineFieldSyntax_1);
	*out_Maybe_6 = v11;
	*out_Token_5 = v10;
	*out_Name_4 = v9;
	*out_Token_3 = v8;
	*out_Maybe_2 = v7;
}
static PTUP mtw_mirth_tycon_Tycon_Data (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(0LL /* Data */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_tycon_Tycon_Data (PTUP in_Tycon_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Tycon_1))->cells[0]);
	tup_decref_outer(in_Tycon_1);
	return v3;
}
static PTUP mtw_mirth_tycon_Tycon_Table (uint64_t in_Table_1) {
	PTUP r3 = PTRMK(1LL /* Table */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Table_1);
	return r3;
}
static uint64_t mtp_mirth_tycon_Tycon_Table (PTUP in_Tycon_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Tycon_1))->cells[0]);
	tup_decref_outer(in_Tycon_1);
	return v3;
}
static PTUP mtw_mirth_tycon_Tycon_Prim (int64_t in_PrimType_1) {
	PTUP r3 = PTRMK(2LL /* Prim */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_PrimType_1);
	return r3;
}
static int64_t mtp_mirth_tycon_Tycon_Prim (PTUP in_Tycon_1) {
	int64_t v3 = VI64(((TUP*)PTRPTR(in_Tycon_1))->cells[0]);
	tup_decref_outer(in_Tycon_1);
	return v3;
}
static PTUP mtw_mirth_data_SemiTransparentData_SemiTransparentData (uint64_t in_Tag_1, PTUP in_StackTypePart_2) {
	PTUP r4 = PTRMK(0LL /* SemiTransparentData */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_StackTypePart_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKU64(in_Tag_1);
	return r4;
}
static void mtp_mirth_data_SemiTransparentData_SemiTransparentData (PTUP in_SemiTransparentData_1, uint64_t *out_Tag_2, PTUP *out_StackTypePart_3) {
	uint64_t v4 = value_u64(((TUP*)PTRPTR(in_SemiTransparentData_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_SemiTransparentData_1))->cells[1]);
	tup_decref_outer(in_SemiTransparentData_1);
	*out_StackTypePart_3 = v5;
	*out_Tag_2 = v4;
}
static PTUP mtw_mirth_data_DataPartial_DataPartial (uint64_t in_Data_1, uint64_t in_Label_2) {
	PTUP r4 = PTRMK(0LL /* DataPartial */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKU64(in_Label_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKU64(in_Data_1);
	return r4;
}
static void mtp_mirth_data_DataPartial_DataPartial (PTUP in_DataPartial_1, uint64_t *out_Data_2, uint64_t *out_Label_3) {
	uint64_t v4 = value_u64(((TUP*)PTRPTR(in_DataPartial_1))->cells[0]);
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_DataPartial_1))->cells[1]);
	tup_decref_outer(in_DataPartial_1);
	*out_Label_3 = v5;
	*out_Data_2 = v4;
}
static PTUP mtw_mirth_data_TagField_TagField (uint64_t in_Tag_1, uint64_t in_Label_2, PTUP in_Either_3) {
	PTUP r5 = PTRMK(0LL /* TagField */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKTUP(in_Either_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKU64(in_Label_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKU64(in_Tag_1);
	return r5;
}
static void mtp_mirth_data_TagField_TagField (PTUP in_TagField_1, uint64_t *out_Tag_2, uint64_t *out_Label_3, PTUP *out_Either_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_TagField_1))->cells[0]);
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_TagField_1))->cells[1]);
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_TagField_1))->cells[2]);
	tup_decref_outer(in_TagField_1);
	*out_Either_4 = v7;
	*out_Label_3 = v6;
	*out_Tag_2 = v5;
}
static PTUP mtw_mirth_data_SyntaxData_SyntaxData (PTUP in_Maybe_1, uint64_t in_SyntaxDataHeader_2, PTUP in_List_3, PTUP in_Maybe_4) {
	PTUP r6 = PTRMK(0LL /* SyntaxData */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKTUP(in_Maybe_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKTUP(in_List_3);
	((TUP*)PTRPTR(r6))->cells[1] = MKU64(in_SyntaxDataHeader_2);
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(in_Maybe_1);
	return r6;
}
static void mtp_mirth_data_SyntaxData_SyntaxData (PTUP in_SyntaxData_1, PTUP *out_Maybe_2, uint64_t *out_SyntaxDataHeader_3, PTUP *out_List_4, PTUP *out_Maybe_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_SyntaxData_1))->cells[0]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_SyntaxData_1))->cells[1]);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_SyntaxData_1))->cells[2]);
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_SyntaxData_1))->cells[3]);
	tup_decref_outer(in_SyntaxData_1);
	*out_Maybe_5 = v9;
	*out_List_4 = v8;
	*out_SyntaxDataHeader_3 = v7;
	*out_Maybe_2 = v6;
}
static PTUP mtw_mirth_data_SyntaxDataTag_SyntaxDataTag (PTUP in_Maybe_1, uint64_t in_Token_2, PTUP in_Maybe_3, uint64_t in_Name_4, PTUP in_Maybe_5) {
	PTUP r7 = PTRMK(0LL /* SyntaxDataTag */,tup_new(5),0);
	((TUP*)PTRPTR(r7))->size = 5;
	((TUP*)PTRPTR(r7))->cells[4] = MKTUP(in_Maybe_5);
	((TUP*)PTRPTR(r7))->cells[3] = MKU64(in_Name_4);
	((TUP*)PTRPTR(r7))->cells[2] = MKTUP(in_Maybe_3);
	((TUP*)PTRPTR(r7))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r7))->cells[0] = MKTUP(in_Maybe_1);
	return r7;
}
static void mtp_mirth_data_SyntaxDataTag_SyntaxDataTag (PTUP in_SyntaxDataTag_1, PTUP *out_Maybe_2, uint64_t *out_Token_3, PTUP *out_Maybe_4, uint64_t *out_Name_5, PTUP *out_Maybe_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_SyntaxDataTag_1))->cells[0]);
	uint64_t v8 = value_u64(((TUP*)PTRPTR(in_SyntaxDataTag_1))->cells[1]);
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_SyntaxDataTag_1))->cells[2]);
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_SyntaxDataTag_1))->cells[3]);
	PTUP v11 = VTUP(((TUP*)PTRPTR(in_SyntaxDataTag_1))->cells[4]);
	tup_decref_outer(in_SyntaxDataTag_1);
	*out_Maybe_6 = v11;
	*out_Name_5 = v10;
	*out_Maybe_4 = v9;
	*out_Token_3 = v8;
	*out_Maybe_2 = v7;
}
static PTUP mtw_mirth_arrow_Arrow_Arrow (PTUP in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, PTUP in_Ctx_4, PTUP in_StackType_5, PTUP in_StackType_6, PTUP in_List_7) {
	PTUP r9 = PTRMK(0LL /* Arrow */,tup_new(7),0);
	((TUP*)PTRPTR(r9))->size = 7;
	((TUP*)PTRPTR(r9))->cells[6] = MKTUP(in_List_7);
	((TUP*)PTRPTR(r9))->cells[5] = MKTUP(in_StackType_6);
	((TUP*)PTRPTR(r9))->cells[4] = MKTUP(in_StackType_5);
	((TUP*)PTRPTR(r9))->cells[3] = MKTUP(in_Ctx_4);
	((TUP*)PTRPTR(r9))->cells[2] = MKU64(in_Token_3);
	((TUP*)PTRPTR(r9))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r9))->cells[0] = MKTUP(in_Home_1);
	return r9;
}
static PTUP mtw_mirth_arrow_Atom_Atom (PTUP in_Home_1, uint64_t in_Token_2, PTUP in_Ctx_3, PTUP in_Op_4, PTUP in_List_5, PTUP in_StackType_6, PTUP in_StackType_7, PTUP in_Subst_8) {
	PTUP r10 = PTRMK(0LL /* Atom */,tup_new(8),0);
	((TUP*)PTRPTR(r10))->size = 8;
	((TUP*)PTRPTR(r10))->cells[7] = MKTUP(in_Subst_8);
	((TUP*)PTRPTR(r10))->cells[6] = MKTUP(in_StackType_7);
	((TUP*)PTRPTR(r10))->cells[5] = MKTUP(in_StackType_6);
	((TUP*)PTRPTR(r10))->cells[4] = MKTUP(in_List_5);
	((TUP*)PTRPTR(r10))->cells[3] = MKTUP(in_Op_4);
	((TUP*)PTRPTR(r10))->cells[2] = MKTUP(in_Ctx_3);
	((TUP*)PTRPTR(r10))->cells[1] = MKU64(in_Token_2);
	((TUP*)PTRPTR(r10))->cells[0] = MKTUP(in_Home_1);
	return r10;
}
static PTUP mtw_mirth_arrow_PushValue_Str (STR* in_Str_1) {
	PTUP r3 = PTRMK(0LL /* Str */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_arrow_PushValue_Str (PTUP in_PushValue_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_Int (INT in_Int_1) {
	PTUP r3 = PTRMK(1LL /* Int */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKINT(in_Int_1);
	return r3;
}
static INT mtp_mirth_arrow_PushValue_Int (PTUP in_PushValue_1) {
	INT v3 = value_int(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_Nat (INT in_Nat_1) {
	PTUP r3 = PTRMK(2LL /* Nat */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKNAT(in_Nat_1);
	return r3;
}
static INT mtp_mirth_arrow_PushValue_Nat (PTUP in_PushValue_1) {
	INT v3 = value_nat(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_U8 (uint8_t in_U8_1) {
	PTUP r3 = PTRMK(3LL /* U8 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU8(in_U8_1);
	return r3;
}
static uint8_t mtp_mirth_arrow_PushValue_U8 (PTUP in_PushValue_1) {
	uint8_t v3 = value_u8(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_U16 (uint16_t in_U16_1) {
	PTUP r3 = PTRMK(4LL /* U16 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU16(in_U16_1);
	return r3;
}
static uint16_t mtp_mirth_arrow_PushValue_U16 (PTUP in_PushValue_1) {
	uint16_t v3 = value_u16(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_U32 (uint32_t in_U32_1) {
	PTUP r3 = PTRMK(5LL /* U32 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU32(in_U32_1);
	return r3;
}
static uint32_t mtp_mirth_arrow_PushValue_U32 (PTUP in_PushValue_1) {
	uint32_t v3 = value_u32(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_U64 (uint64_t in_U64_1) {
	PTUP r3 = PTRMK(6LL /* U64 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_U64_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_PushValue_U64 (PTUP in_PushValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_I8 (int8_t in_I8_1) {
	PTUP r3 = PTRMK(7LL /* I8 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI8(in_I8_1);
	return r3;
}
static int8_t mtp_mirth_arrow_PushValue_I8 (PTUP in_PushValue_1) {
	int8_t v3 = value_i8(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_I16 (int16_t in_I16_1) {
	PTUP r3 = PTRMK(8LL /* I16 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI16(in_I16_1);
	return r3;
}
static int16_t mtp_mirth_arrow_PushValue_I16 (PTUP in_PushValue_1) {
	int16_t v3 = value_i16(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_I32 (int32_t in_I32_1) {
	PTUP r3 = PTRMK(9LL /* I32 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI32(in_I32_1);
	return r3;
}
static int32_t mtp_mirth_arrow_PushValue_I32 (PTUP in_PushValue_1) {
	int32_t v3 = value_i32(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_I64 (int64_t in_I64_1) {
	PTUP r3 = PTRMK(10LL /* I64 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_I64_1);
	return r3;
}
static int64_t mtp_mirth_arrow_PushValue_I64 (PTUP in_PushValue_1) {
	int64_t v3 = value_i64(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_F32 (float in_F32_1) {
	PTUP r3 = PTRMK(11LL /* F32 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKF32(in_F32_1);
	return r3;
}
static float mtp_mirth_arrow_PushValue_F32 (PTUP in_PushValue_1) {
	float v3 = value_f32(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_PushValue_F64 (double in_F64_1) {
	PTUP r3 = PTRMK(12LL /* F64 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKF64(in_F64_1);
	return r3;
}
static double mtp_mirth_arrow_PushValue_F64 (PTUP in_PushValue_1) {
	double v3 = value_f64(((TUP*)PTRPTR(in_PushValue_1))->cells[0]);
	tup_decref_outer(in_PushValue_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Prim (int64_t in_Prim_1) {
	PTUP r3 = PTRMK(0LL /* Prim */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_Prim_1);
	return r3;
}
static int64_t mtp_mirth_arrow_Op_Prim (PTUP in_Op_1) {
	int64_t v3 = VI64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Word (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(1LL /* Word */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_Word (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_External (uint64_t in_External_1) {
	PTUP r3 = PTRMK(2LL /* External */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_External_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_External (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Buffer (uint64_t in_Buffer_1) {
	PTUP r3 = PTRMK(3LL /* Buffer */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Buffer_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_Buffer (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Field (uint64_t in_Field_1) {
	PTUP r3 = PTRMK(4LL /* Field */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Field_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_Field (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Push (PTUP in_PushValue_1) {
	PTUP r3 = PTRMK(5LL /* Push */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_PushValue_1);
	return r3;
}
static PTUP mtp_mirth_arrow_Op_Push (PTUP in_Op_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Tag (uint64_t in_Tag_1) {
	PTUP r3 = PTRMK(6LL /* Tag */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Tag_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_Tag (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Match (PTUP in_Match_1) {
	PTUP r3 = PTRMK(7LL /* Match */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Match_1);
	return r3;
}
static PTUP mtp_mirth_arrow_Op_Match (PTUP in_Op_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Lambda (PTUP in_Lambda_1) {
	PTUP r3 = PTRMK(8LL /* Lambda */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Lambda_1);
	return r3;
}
static PTUP mtp_mirth_arrow_Op_Lambda (PTUP in_Op_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_Var (uint64_t in_Var_1) {
	PTUP r3 = PTRMK(9LL /* Var */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Var_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_Var (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_BlockPush (uint64_t in_Block_1) {
	PTUP r3 = PTRMK(10LL /* BlockPush */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Block_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_BlockPush (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static uint64_t mtp_mirth_arrow_Op_BlockRun (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_LabelPush (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(12LL /* LabelPush */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_LabelPush (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_LabelPop (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(13LL /* LabelPop */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_LabelPop (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_LabelPushR (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(14LL /* LabelPushR */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_LabelPushR (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_LabelPopR (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(15LL /* LabelPopR */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_LabelPopR (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_DataGetEnumValue (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(16LL /* DataGetEnumValue */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_DataGetEnumValue (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_DataFromEnumValue (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(17LL /* DataFromEnumValue */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_DataFromEnumValue (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_DataGetLabel (PTUP in_TagField_1) {
	PTUP r3 = PTRMK(18LL /* DataGetLabel */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_TagField_1);
	return r3;
}
static PTUP mtp_mirth_arrow_Op_DataGetLabel (PTUP in_Op_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_DataSetLabel (PTUP in_TagField_1) {
	PTUP r3 = PTRMK(19LL /* DataSetLabel */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_TagField_1);
	return r3;
}
static PTUP mtp_mirth_arrow_Op_DataSetLabel (PTUP in_Op_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_TableToIndex (uint64_t in_Table_1) {
	PTUP r3 = PTRMK(20LL /* TableToIndex */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Table_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_TableToIndex (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Op_TableFromIndex (uint64_t in_Table_1) {
	PTUP r3 = PTRMK(21LL /* TableFromIndex */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Table_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Op_TableFromIndex (PTUP in_Op_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Op_1))->cells[0]);
	tup_decref_outer(in_Op_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Home_Main (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(0LL /* Main */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Home_Main (PTUP in_Home_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Home_1))->cells[0]);
	tup_decref_outer(in_Home_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Home_Word (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(1LL /* Word */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_arrow_Home_Word (PTUP in_Home_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Home_1))->cells[0]);
	tup_decref_outer(in_Home_1);
	return v3;
}
static PTUP mtw_mirth_arrow_Lambda_Lambda (uint64_t in_Token_1, PTUP in_Ctx_2, PTUP in_StackType_3, PTUP in_List_4, PTUP in_Arrow_5) {
	PTUP r7 = PTRMK(0LL /* Lambda */,tup_new(5),0);
	((TUP*)PTRPTR(r7))->size = 5;
	((TUP*)PTRPTR(r7))->cells[4] = MKTUP(in_Arrow_5);
	((TUP*)PTRPTR(r7))->cells[3] = MKTUP(in_List_4);
	((TUP*)PTRPTR(r7))->cells[2] = MKTUP(in_StackType_3);
	((TUP*)PTRPTR(r7))->cells[1] = MKTUP(in_Ctx_2);
	((TUP*)PTRPTR(r7))->cells[0] = MKU64(in_Token_1);
	return r7;
}
static PTUP mtw_mirth_type_Type_Prim (int64_t in_PrimType_1) {
	PTUP r3 = PTRMK(2LL /* Prim */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_PrimType_1);
	return r3;
}
static int64_t mtp_mirth_type_Type_Prim (PTUP in_Type_1) {
	int64_t v3 = VI64(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_Meta (uint64_t in_MetaVar_1) {
	PTUP r3 = PTRMK(3LL /* Meta */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_MetaVar_1);
	return r3;
}
static uint64_t mtp_mirth_type_Type_Meta (PTUP in_Type_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_Hole (uint64_t in_Name_1) {
	PTUP r3 = PTRMK(4LL /* Hole */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Name_1);
	return r3;
}
static uint64_t mtp_mirth_type_Type_Hole (PTUP in_Type_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_Var (uint64_t in_Var_1) {
	PTUP r3 = PTRMK(5LL /* Var */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Var_1);
	return r3;
}
static uint64_t mtp_mirth_type_Type_Var (PTUP in_Type_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_Table (uint64_t in_Table_1) {
	PTUP r3 = PTRMK(6LL /* Table */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Table_1);
	return r3;
}
static uint64_t mtp_mirth_type_Type_Table (PTUP in_Type_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_Data (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(7LL /* Data */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_type_Type_Data (PTUP in_Type_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_DataPartial (PTUP in_DataPartial_1) {
	PTUP r3 = PTRMK(8LL /* DataPartial */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_DataPartial_1);
	return r3;
}
static PTUP mtp_mirth_type_Type_DataPartial (PTUP in_Type_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_Stack (PTUP in_StackType_1) {
	PTUP r3 = PTRMK(9LL /* Stack */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_StackType_1);
	return r3;
}
static PTUP mtp_mirth_type_Type_Stack (PTUP in_Type_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_Arrow (PTUP in_ArrowType_1) {
	PTUP r3 = PTRMK(10LL /* Arrow */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_ArrowType_1);
	return r3;
}
static PTUP mtp_mirth_type_Type_Arrow (PTUP in_Type_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_App (PTUP in_Type_1, PTUP in_Type_2) {
	PTUP r4 = PTRMK(11LL /* App */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_Type_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Type_1);
	return r4;
}
static PTUP mtp_mirth_type_Type_App (PTUP in_Type_1, PTUP *out_Type_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Type_1))->cells[1]);
	tup_decref_outer(in_Type_1);
	*out_Type_3 = v5;
	return v4;
}
static PTUP mtw_mirth_type_Type_Mut (PTUP in_Type_1) {
	PTUP r3 = PTRMK(12LL /* Mut */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Type_1);
	return r3;
}
static PTUP mtp_mirth_type_Type_Mut (PTUP in_Type_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Type_Value (PTUP in_Value_1) {
	PTUP r3 = PTRMK(13LL /* Value */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Value_1);
	return r3;
}
static PTUP mtp_mirth_type_Type_Value (PTUP in_Type_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Type_1))->cells[0]);
	tup_decref_outer(in_Type_1);
	return v3;
}
static PTUP mtw_mirth_type_Value_Int (INT in_Int_1) {
	PTUP r3 = PTRMK(0LL /* Int */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKINT(in_Int_1);
	return r3;
}
static INT mtp_mirth_type_Value_Int (PTUP in_Value_1) {
	INT v3 = value_int(((TUP*)PTRPTR(in_Value_1))->cells[0]);
	tup_decref_outer(in_Value_1);
	return v3;
}
static PTUP mtw_mirth_type_Value_F64 (double in_F64_1) {
	PTUP r3 = PTRMK(1LL /* F64 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKF64(in_F64_1);
	return r3;
}
static double mtp_mirth_type_Value_F64 (PTUP in_Value_1) {
	double v3 = value_f64(((TUP*)PTRPTR(in_Value_1))->cells[0]);
	tup_decref_outer(in_Value_1);
	return v3;
}
static PTUP mtw_mirth_type_Value_Str (STR* in_Str_1) {
	PTUP r3 = PTRMK(2LL /* Str */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_type_Value_Str (PTUP in_Value_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_Value_1))->cells[0]);
	tup_decref_outer(in_Value_1);
	return v3;
}
static PTUP mtw_mirth_type_Value_Block (uint64_t in_Block_1) {
	PTUP r3 = PTRMK(3LL /* Block */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Block_1);
	return r3;
}
static uint64_t mtp_mirth_type_Value_Block (PTUP in_Value_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Value_1))->cells[0]);
	tup_decref_outer(in_Value_1);
	return v3;
}
static PTUP mtw_mirth_type_StackType_Var (uint64_t in_Var_1) {
	PTUP r3 = PTRMK(3LL /* Var */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Var_1);
	return r3;
}
static uint64_t mtp_mirth_type_StackType_Var (PTUP in_StackType_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_StackType_1))->cells[0]);
	tup_decref_outer(in_StackType_1);
	return v3;
}
static PTUP mtw_mirth_type_StackType_Meta (uint64_t in_MetaVar_1) {
	PTUP r3 = PTRMK(4LL /* Meta */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_MetaVar_1);
	return r3;
}
static uint64_t mtp_mirth_type_StackType_Meta (PTUP in_StackType_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_StackType_1))->cells[0]);
	tup_decref_outer(in_StackType_1);
	return v3;
}
static PTUP mtw_mirth_type_StackType_Cons (PTUP in_StackType_1, PTUP in_Type_2) {
	PTUP r4 = PTRMK(5LL /* Cons */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_Type_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_StackType_1);
	return r4;
}
static PTUP mtp_mirth_type_StackType_Cons (PTUP in_StackType_1, PTUP *out_Type_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_StackType_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_StackType_1))->cells[1]);
	tup_decref_outer(in_StackType_1);
	*out_Type_3 = v5;
	return v4;
}
static PTUP mtw_mirth_type_StackType_ConsLabel (PTUP in_StackType_1, PTUP in_Type_2, uint64_t in_Label_3) {
	PTUP r5 = PTRMK(6LL /* ConsLabel */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKU64(in_Label_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKTUP(in_Type_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKTUP(in_StackType_1);
	return r5;
}
static PTUP mtp_mirth_type_StackType_ConsLabel (PTUP in_StackType_1, PTUP *out_Type_3, uint64_t *out_Label_4) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_StackType_1))->cells[0]);
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_StackType_1))->cells[1]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_StackType_1))->cells[2]);
	tup_decref_outer(in_StackType_1);
	*out_Label_4 = v7;
	*out_Type_3 = v6;
	return v5;
}
static PTUP mtw_mirth_type_StackType_With (PTUP in_StackType_1, PTUP in_Resource_2) {
	PTUP r4 = PTRMK(7LL /* With */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_Resource_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_StackType_1);
	return r4;
}
static PTUP mtp_mirth_type_StackType_With (PTUP in_StackType_1, PTUP *out_Resource_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_StackType_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_StackType_1))->cells[1]);
	tup_decref_outer(in_StackType_1);
	*out_Resource_3 = v5;
	return v4;
}
static PTUP mtw_mirth_type_StackType_WithLabel (PTUP in_StackType_1, PTUP in_Resource_2, uint64_t in_Label_3) {
	PTUP r5 = PTRMK(8LL /* WithLabel */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKU64(in_Label_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKTUP(in_Resource_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKTUP(in_StackType_1);
	return r5;
}
static PTUP mtp_mirth_type_StackType_WithLabel (PTUP in_StackType_1, PTUP *out_Resource_3, uint64_t *out_Label_4) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_StackType_1))->cells[0]);
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_StackType_1))->cells[1]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_StackType_1))->cells[2]);
	tup_decref_outer(in_StackType_1);
	*out_Label_4 = v7;
	*out_Resource_3 = v6;
	return v5;
}
static PTUP mtw_mirth_type_StackTypeCounts_StackTypeCounts (INT in_Nat_1, INT in_Nat_2, PTUP in_Map_3) {
	PTUP r5 = PTRMK(0LL /* StackTypeCounts */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKTUP(in_Map_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKNAT(in_Nat_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKNAT(in_Nat_1);
	return r5;
}
static PTUP mtw_mirth_type_StackTypeBase_Var (uint64_t in_Var_1) {
	PTUP r3 = PTRMK(3LL /* Var */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Var_1);
	return r3;
}
static uint64_t mtp_mirth_type_StackTypeBase_Var (PTUP in_StackTypeBase_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_StackTypeBase_1))->cells[0]);
	tup_decref_outer(in_StackTypeBase_1);
	return v3;
}
static PTUP mtw_mirth_type_StackTypeBase_Meta (uint64_t in_MetaVar_1) {
	PTUP r3 = PTRMK(4LL /* Meta */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_MetaVar_1);
	return r3;
}
static uint64_t mtp_mirth_type_StackTypeBase_Meta (PTUP in_StackTypeBase_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_StackTypeBase_1))->cells[0]);
	tup_decref_outer(in_StackTypeBase_1);
	return v3;
}
static PTUP mtw_mirth_type_StackTypePart_Cons (PTUP in_Type_1) {
	PTUP r3 = PTRMK(0LL /* Cons */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Type_1);
	return r3;
}
static PTUP mtp_mirth_type_StackTypePart_Cons (PTUP in_StackTypePart_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_StackTypePart_1))->cells[0]);
	tup_decref_outer(in_StackTypePart_1);
	return v3;
}
static PTUP mtw_mirth_type_StackTypePart_ConsLabel (PTUP in_Type_1, uint64_t in_Label_2) {
	PTUP r4 = PTRMK(1LL /* ConsLabel */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKU64(in_Label_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Type_1);
	return r4;
}
static PTUP mtp_mirth_type_StackTypePart_ConsLabel (PTUP in_StackTypePart_1, uint64_t *out_Label_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_StackTypePart_1))->cells[0]);
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_StackTypePart_1))->cells[1]);
	tup_decref_outer(in_StackTypePart_1);
	*out_Label_3 = v5;
	return v4;
}
static PTUP mtw_mirth_type_StackTypePart_With (PTUP in_Resource_1) {
	PTUP r3 = PTRMK(2LL /* With */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Resource_1);
	return r3;
}
static PTUP mtp_mirth_type_StackTypePart_With (PTUP in_StackTypePart_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_StackTypePart_1))->cells[0]);
	tup_decref_outer(in_StackTypePart_1);
	return v3;
}
static PTUP mtw_mirth_type_StackTypePart_WithLabel (PTUP in_Resource_1, uint64_t in_Label_2) {
	PTUP r4 = PTRMK(3LL /* WithLabel */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKU64(in_Label_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Resource_1);
	return r4;
}
static PTUP mtp_mirth_type_StackTypePart_WithLabel (PTUP in_StackTypePart_1, uint64_t *out_Label_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_StackTypePart_1))->cells[0]);
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_StackTypePart_1))->cells[1]);
	tup_decref_outer(in_StackTypePart_1);
	*out_Label_3 = v5;
	return v4;
}
static PTUP mtw_mirth_type_ArrowType_ArrowType (PTUP in_StackType_1, PTUP in_StackType_2) {
	PTUP r4 = PTRMK(0LL /* ArrowType */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_StackType_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_StackType_1);
	return r4;
}
static void mtp_mirth_type_ArrowType_ArrowType (PTUP in_ArrowType_1, PTUP *out_StackType_2, PTUP *out_StackType_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ArrowType_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ArrowType_1))->cells[1]);
	tup_decref_outer(in_ArrowType_1);
	*out_StackType_3 = v5;
	*out_StackType_2 = v4;
}
static PTUP mtw_mirth_type_CType_UInt (STR* in_Str_1) {
	PTUP r3 = PTRMK(0LL /* UInt */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_type_CType_UInt (PTUP in_CType_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_CType_1))->cells[0]);
	tup_decref_outer(in_CType_1);
	return v3;
}
static PTUP mtw_mirth_type_CType_Int (STR* in_Str_1) {
	PTUP r3 = PTRMK(1LL /* Int */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_type_CType_Int (PTUP in_CType_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_CType_1))->cells[0]);
	tup_decref_outer(in_CType_1);
	return v3;
}
static PTUP mtw_mirth_type_CType_F32 (STR* in_Str_1) {
	PTUP r3 = PTRMK(2LL /* F32 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_type_CType_F32 (PTUP in_CType_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_CType_1))->cells[0]);
	tup_decref_outer(in_CType_1);
	return v3;
}
static PTUP mtw_mirth_type_CType_F64 (STR* in_Str_1) {
	PTUP r3 = PTRMK(3LL /* F64 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_type_CType_F64 (PTUP in_CType_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_CType_1))->cells[0]);
	tup_decref_outer(in_CType_1);
	return v3;
}
static PTUP mtw_mirth_type_CType_Ptr (STR* in_Str_1) {
	PTUP r3 = PTRMK(4LL /* Ptr */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_type_CType_Ptr (PTUP in_CType_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_CType_1))->cells[0]);
	tup_decref_outer(in_CType_1);
	return v3;
}
static PTUP mtw_mirth_type_CType_FnPtr (STR* in_Str_1) {
	PTUP r3 = PTRMK(5LL /* FnPtr */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_type_CType_FnPtr (PTUP in_CType_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_CType_1))->cells[0]);
	tup_decref_outer(in_CType_1);
	return v3;
}
static PTUP mtw_mirth_type_CType_Void (STR* in_Str_1) {
	PTUP r3 = PTRMK(6LL /* Void */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_type_CType_Void (PTUP in_CType_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_CType_1))->cells[0]);
	tup_decref_outer(in_CType_1);
	return v3;
}
static PTUP mtw_mirth_type_CTypeStackPart_Cons (PTUP in_CType_1) {
	PTUP r3 = PTRMK(0LL /* Cons */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_CType_1);
	return r3;
}
static PTUP mtp_mirth_type_CTypeStackPart_Cons (PTUP in_CTypeStackPart_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_CTypeStackPart_1))->cells[0]);
	tup_decref_outer(in_CTypeStackPart_1);
	return v3;
}
static PTUP mtw_mirth_type_CTypeStackPart_ConsLabel (PTUP in_CType_1, uint64_t in_Label_2) {
	PTUP r4 = PTRMK(1LL /* ConsLabel */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKU64(in_Label_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_CType_1);
	return r4;
}
static PTUP mtp_mirth_type_CTypeStackPart_ConsLabel (PTUP in_CTypeStackPart_1, uint64_t *out_Label_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_CTypeStackPart_1))->cells[0]);
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_CTypeStackPart_1))->cells[1]);
	tup_decref_outer(in_CTypeStackPart_1);
	*out_Label_3 = v5;
	return v4;
}
static PTUP mtw_mirth_type_CTypeStackPart_With (PTUP in_CType_1) {
	PTUP r3 = PTRMK(2LL /* With */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_CType_1);
	return r3;
}
static PTUP mtp_mirth_type_CTypeStackPart_With (PTUP in_CTypeStackPart_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_CTypeStackPart_1))->cells[0]);
	tup_decref_outer(in_CTypeStackPart_1);
	return v3;
}
static PTUP mtw_mirth_type_CTypeStackPart_WithLabel (PTUP in_CType_1, uint64_t in_Label_2) {
	PTUP r4 = PTRMK(3LL /* WithLabel */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKU64(in_Label_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_CType_1);
	return r4;
}
static PTUP mtp_mirth_type_CTypeStackPart_WithLabel (PTUP in_CTypeStackPart_1, uint64_t *out_Label_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_CTypeStackPart_1))->cells[0]);
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_CTypeStackPart_1))->cells[1]);
	tup_decref_outer(in_CTypeStackPart_1);
	*out_Label_3 = v5;
	return v4;
}
static PTUP mtw_mirth_type_CTypeStack_CTypeStack (PTUP in_Maybe_1, PTUP in_List_2) {
	PTUP r4 = PTRMK(0LL /* CTypeStack */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_List_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Maybe_1);
	return r4;
}
static PTUP mtw_mirth_type_CTypeArrow_CTypeArrow (PTUP in_CTypeStack_1, PTUP in_CTypeStack_2) {
	PTUP r4 = PTRMK(0LL /* CTypeArrow */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_CTypeStack_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_CTypeStack_1);
	return r4;
}
static PTUP mtw_mirth_token_TokenValue_LParen (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(6LL /* LParen */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LParen (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_RParen (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(7LL /* RParen */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_RParen (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LSquare (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(8LL /* LSquare */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LSquare (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_RSquare (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(9LL /* RSquare */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_RSquare (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LCurly (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(10LL /* LCurly */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LCurly (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_RCurly (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(11LL /* RCurly */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_RCurly (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LColon (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(12LL /* LColon */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LColon (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_RColon (uint64_t in_Token_1) {
	PTUP r3 = PTRMK(13LL /* RColon */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Token_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_RColon (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_Int (INT in_Int_1) {
	PTUP r3 = PTRMK(14LL /* Int */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKINT(in_Int_1);
	return r3;
}
static INT mtp_mirth_token_TokenValue_Int (PTUP in_TokenValue_1) {
	INT v3 = value_int(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_Nat (INT in_Nat_1) {
	PTUP r3 = PTRMK(15LL /* Nat */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKNAT(in_Nat_1);
	return r3;
}
static INT mtp_mirth_token_TokenValue_Nat (PTUP in_TokenValue_1) {
	INT v3 = value_nat(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_U8 (uint8_t in_U8_1) {
	PTUP r3 = PTRMK(16LL /* U8 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU8(in_U8_1);
	return r3;
}
static uint8_t mtp_mirth_token_TokenValue_U8 (PTUP in_TokenValue_1) {
	uint8_t v3 = value_u8(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_U16 (uint16_t in_U16_1) {
	PTUP r3 = PTRMK(17LL /* U16 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU16(in_U16_1);
	return r3;
}
static uint16_t mtp_mirth_token_TokenValue_U16 (PTUP in_TokenValue_1) {
	uint16_t v3 = value_u16(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_U32 (uint32_t in_U32_1) {
	PTUP r3 = PTRMK(18LL /* U32 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU32(in_U32_1);
	return r3;
}
static uint32_t mtp_mirth_token_TokenValue_U32 (PTUP in_TokenValue_1) {
	uint32_t v3 = value_u32(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_U64 (uint64_t in_U64_1) {
	PTUP r3 = PTRMK(19LL /* U64 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_U64_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_U64 (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_I8 (int8_t in_I8_1) {
	PTUP r3 = PTRMK(20LL /* I8 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI8(in_I8_1);
	return r3;
}
static int8_t mtp_mirth_token_TokenValue_I8 (PTUP in_TokenValue_1) {
	int8_t v3 = value_i8(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_I16 (int16_t in_I16_1) {
	PTUP r3 = PTRMK(21LL /* I16 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI16(in_I16_1);
	return r3;
}
static int16_t mtp_mirth_token_TokenValue_I16 (PTUP in_TokenValue_1) {
	int16_t v3 = value_i16(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_I32 (int32_t in_I32_1) {
	PTUP r3 = PTRMK(22LL /* I32 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI32(in_I32_1);
	return r3;
}
static int32_t mtp_mirth_token_TokenValue_I32 (PTUP in_TokenValue_1) {
	int32_t v3 = value_i32(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_I64 (int64_t in_I64_1) {
	PTUP r3 = PTRMK(23LL /* I64 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_I64_1);
	return r3;
}
static int64_t mtp_mirth_token_TokenValue_I64 (PTUP in_TokenValue_1) {
	int64_t v3 = value_i64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_F64 (double in_F64_1) {
	PTUP r3 = PTRMK(24LL /* F64 */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKF64(in_F64_1);
	return r3;
}
static double mtp_mirth_token_TokenValue_F64 (PTUP in_TokenValue_1) {
	double v3 = value_f64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static float mtp_mirth_token_TokenValue_F32 (PTUP in_TokenValue_1) {
	float v3 = value_f32(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_Str (STR* in_Str_1) {
	PTUP r3 = PTRMK(26LL /* Str */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKSTR(in_Str_1);
	return r3;
}
static STR* mtp_mirth_token_TokenValue_Str (PTUP in_TokenValue_1) {
	STR* v3 = value_str(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_Name (uint64_t in_Name_1) {
	PTUP r3 = PTRMK(27LL /* Name */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Name_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_Name (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_DName (PTUP in_DName_1) {
	PTUP r3 = PTRMK(28LL /* DName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_DName_1);
	return r3;
}
static PTUP mtp_mirth_token_TokenValue_DName (PTUP in_TokenValue_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LabelPop (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(29LL /* LabelPop */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LabelPop (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LabelPush (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(30LL /* LabelPush */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LabelPush (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LabelPopR (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(31LL /* LabelPopR */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LabelPopR (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LabelPushR (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(32LL /* LabelPushR */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LabelPushR (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LabelGet (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(33LL /* LabelGet */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LabelGet (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LabelSet (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(34LL /* LabelSet */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LabelSet (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_token_TokenValue_LabelLam (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(35LL /* LabelLam */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_token_TokenValue_LabelLam (PTUP in_TokenValue_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_TokenValue_1))->cells[0]);
	tup_decref_outer(in_TokenValue_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Alias (uint64_t in_Alias_1) {
	PTUP r3 = PTRMK(0LL /* Alias */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Alias_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Alias (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Module (uint64_t in_Module_1) {
	PTUP r3 = PTRMK(1LL /* Module */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Module_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Module (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Package (uint64_t in_Package_1) {
	PTUP r3 = PTRMK(2LL /* Package */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Package_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Package (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Data (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(3LL /* Data */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Data (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Table (uint64_t in_Table_1) {
	PTUP r3 = PTRMK(4LL /* Table */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Table_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Table (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Type (uint64_t in_TypeDef_1) {
	PTUP r3 = PTRMK(5LL /* Type */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_TypeDef_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Type (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Tag (uint64_t in_Tag_1) {
	PTUP r3 = PTRMK(6LL /* Tag */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Tag_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Tag (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Prim (int64_t in_Prim_1) {
	PTUP r3 = PTRMK(7LL /* Prim */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKI64(in_Prim_1);
	return r3;
}
static int64_t mtp_mirth_def_Def_Prim (PTUP in_Def_1) {
	int64_t v3 = VI64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Word (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(8LL /* Word */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Word (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Buffer (uint64_t in_Buffer_1) {
	PTUP r3 = PTRMK(9LL /* Buffer */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Buffer_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Buffer (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_External (uint64_t in_External_1) {
	PTUP r3 = PTRMK(10LL /* External */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_External_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_External (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Field (uint64_t in_Field_1) {
	PTUP r3 = PTRMK(11LL /* Field */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Field_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Field (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_def_Def_Macro (uint64_t in_Macro_1) {
	PTUP r3 = PTRMK(12LL /* Macro */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Macro_1);
	return r3;
}
static uint64_t mtp_mirth_def_Def_Macro (PTUP in_Def_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Def_1))->cells[0]);
	tup_decref_outer(in_Def_1);
	return v3;
}
static PTUP mtw_mirth_name_Namespace_Package (uint64_t in_Package_1) {
	PTUP r3 = PTRMK(1LL /* Package */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Package_1);
	return r3;
}
static uint64_t mtp_mirth_name_Namespace_Package (PTUP in_Namespace_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Namespace_1))->cells[0]);
	tup_decref_outer(in_Namespace_1);
	return v3;
}
static PTUP mtw_mirth_name_Namespace_Module (uint64_t in_Module_1) {
	PTUP r3 = PTRMK(2LL /* Module */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Module_1);
	return r3;
}
static uint64_t mtp_mirth_name_Namespace_Module (PTUP in_Namespace_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Namespace_1))->cells[0]);
	tup_decref_outer(in_Namespace_1);
	return v3;
}
static PTUP mtw_mirth_name_Namespace_Tycon (PTUP in_Tycon_1) {
	PTUP r3 = PTRMK(3LL /* Tycon */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_Tycon_1);
	return r3;
}
static PTUP mtp_mirth_name_Namespace_Tycon (PTUP in_Namespace_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Namespace_1))->cells[0]);
	tup_decref_outer(in_Namespace_1);
	return v3;
}
static PTUP mtw_mirth_name_Namespace_Word (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(4LL /* Word */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_name_Namespace_Word (PTUP in_Namespace_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Namespace_1))->cells[0]);
	tup_decref_outer(in_Namespace_1);
	return v3;
}
static PTUP mtw_mirth_name_QName_QName (PTUP in_Namespace_1, uint64_t in_Name_2, INT in_Int_3) {
	PTUP r5 = PTRMK(0LL /* QName */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKINT(in_Int_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKU64(in_Name_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKTUP(in_Namespace_1);
	return r5;
}
static void mtp_mirth_name_QName_QName (PTUP in_QName_1, PTUP *out_Namespace_2, uint64_t *out_Name_3, INT *out_Int_4) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_QName_1))->cells[0]);
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_QName_1))->cells[1]);
	INT v7 = value_int(((TUP*)PTRPTR(in_QName_1))->cells[2]);
	tup_decref_outer(in_QName_1);
	*out_Int_4 = v7;
	*out_Name_3 = v6;
	*out_Namespace_2 = v5;
}
static PTUP mtw_mirth_name_DName_DName (PTUP in_Maybe_1, PTUP in_Nest_2) {
	PTUP r4 = PTRMK(0LL /* DName */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_Nest_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Maybe_1);
	return r4;
}
static PTUP mtp_mirth_name_DName_DName (PTUP in_DName_1, PTUP *out_Nest_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_DName_1))->cells[0]);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_DName_1))->cells[1]);
	tup_decref_outer(in_DName_1);
	*out_Nest_3 = v5;
	return v4;
}
static PTUP mtw_mirth_location_Location_Location (uint64_t in_Module_1, INT in_Row_2, INT in_Col_3) {
	PTUP r5 = PTRMK(0LL /* Location */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKINT(in_Col_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKINT(in_Row_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKU64(in_Module_1);
	return r5;
}
static void mtp_mirth_location_Location_Location (PTUP in_Location_1, uint64_t *out_Module_2, INT *out_Row_3, INT *out_Col_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_Location_1))->cells[0]);
	INT v6 = value_int(((TUP*)PTRPTR(in_Location_1))->cells[1]);
	INT v7 = value_int(((TUP*)PTRPTR(in_Location_1))->cells[2]);
	tup_decref_outer(in_Location_1);
	*out_Col_4 = v7;
	*out_Row_3 = v6;
	*out_Module_2 = v5;
}
static PTUP mtw_mirth_mirth_Builtin_Builtin (uint64_t in_Package_1, uint64_t in_Module_2, uint64_t in_Data_3, uint64_t in_Tag_4, uint64_t in_Data_5, uint64_t in_Tag_6, uint64_t in_Data_7, uint64_t in_Tag_8, uint64_t in_Data_9, uint64_t in_Tag_10, uint64_t in_Data_11, uint64_t in_Tag_12, uint64_t in_Data_13, uint64_t in_Tag_14, uint64_t in_Data_15, uint64_t in_Tag_16, uint64_t in_Data_17, uint64_t in_Tag_18, uint64_t in_Data_19, uint64_t in_Tag_20, uint64_t in_Data_21, uint64_t in_Tag_22, uint64_t in_Data_23, uint64_t in_Tag_24, uint64_t in_Data_25, uint64_t in_Tag_26, uint64_t in_Data_27, uint64_t in_Tag_28, uint64_t in_Data_29, uint64_t in_Tag_30, uint64_t in_Data_31, uint64_t in_Tag_32, uint64_t in_Data_33, uint64_t in_Tag_34, uint64_t in_Data_35, uint64_t in_Tag_36, uint64_t in_Data_37, uint64_t in_Tag_38, uint64_t in_Data_39, uint64_t in_Tag_40, uint64_t in_Data_41, uint64_t in_Tag_42) {
	PTUP r44 = PTRMK(0LL /* Builtin */,tup_new(42),0);
	((TUP*)PTRPTR(r44))->size = 42;
	((TUP*)PTRPTR(r44))->cells[41] = MKU64(in_Tag_42);
	((TUP*)PTRPTR(r44))->cells[40] = MKU64(in_Data_41);
	((TUP*)PTRPTR(r44))->cells[39] = MKU64(in_Tag_40);
	((TUP*)PTRPTR(r44))->cells[38] = MKU64(in_Data_39);
	((TUP*)PTRPTR(r44))->cells[37] = MKU64(in_Tag_38);
	((TUP*)PTRPTR(r44))->cells[36] = MKU64(in_Data_37);
	((TUP*)PTRPTR(r44))->cells[35] = MKU64(in_Tag_36);
	((TUP*)PTRPTR(r44))->cells[34] = MKU64(in_Data_35);
	((TUP*)PTRPTR(r44))->cells[33] = MKU64(in_Tag_34);
	((TUP*)PTRPTR(r44))->cells[32] = MKU64(in_Data_33);
	((TUP*)PTRPTR(r44))->cells[31] = MKU64(in_Tag_32);
	((TUP*)PTRPTR(r44))->cells[30] = MKU64(in_Data_31);
	((TUP*)PTRPTR(r44))->cells[29] = MKU64(in_Tag_30);
	((TUP*)PTRPTR(r44))->cells[28] = MKU64(in_Data_29);
	((TUP*)PTRPTR(r44))->cells[27] = MKU64(in_Tag_28);
	((TUP*)PTRPTR(r44))->cells[26] = MKU64(in_Data_27);
	((TUP*)PTRPTR(r44))->cells[25] = MKU64(in_Tag_26);
	((TUP*)PTRPTR(r44))->cells[24] = MKU64(in_Data_25);
	((TUP*)PTRPTR(r44))->cells[23] = MKU64(in_Tag_24);
	((TUP*)PTRPTR(r44))->cells[22] = MKU64(in_Data_23);
	((TUP*)PTRPTR(r44))->cells[21] = MKU64(in_Tag_22);
	((TUP*)PTRPTR(r44))->cells[20] = MKU64(in_Data_21);
	((TUP*)PTRPTR(r44))->cells[19] = MKU64(in_Tag_20);
	((TUP*)PTRPTR(r44))->cells[18] = MKU64(in_Data_19);
	((TUP*)PTRPTR(r44))->cells[17] = MKU64(in_Tag_18);
	((TUP*)PTRPTR(r44))->cells[16] = MKU64(in_Data_17);
	((TUP*)PTRPTR(r44))->cells[15] = MKU64(in_Tag_16);
	((TUP*)PTRPTR(r44))->cells[14] = MKU64(in_Data_15);
	((TUP*)PTRPTR(r44))->cells[13] = MKU64(in_Tag_14);
	((TUP*)PTRPTR(r44))->cells[12] = MKU64(in_Data_13);
	((TUP*)PTRPTR(r44))->cells[11] = MKU64(in_Tag_12);
	((TUP*)PTRPTR(r44))->cells[10] = MKU64(in_Data_11);
	((TUP*)PTRPTR(r44))->cells[9] = MKU64(in_Tag_10);
	((TUP*)PTRPTR(r44))->cells[8] = MKU64(in_Data_9);
	((TUP*)PTRPTR(r44))->cells[7] = MKU64(in_Tag_8);
	((TUP*)PTRPTR(r44))->cells[6] = MKU64(in_Data_7);
	((TUP*)PTRPTR(r44))->cells[5] = MKU64(in_Tag_6);
	((TUP*)PTRPTR(r44))->cells[4] = MKU64(in_Data_5);
	((TUP*)PTRPTR(r44))->cells[3] = MKU64(in_Tag_4);
	((TUP*)PTRPTR(r44))->cells[2] = MKU64(in_Data_3);
	((TUP*)PTRPTR(r44))->cells[1] = MKU64(in_Module_2);
	((TUP*)PTRPTR(r44))->cells[0] = MKU64(in_Package_1);
	return r44;
}
static PTUP mtw_mirth_mirth_LexicalState_LexicalState (PTUP in_Maybe_1, PTUP in_Maybe_2) {
	PTUP r4 = PTRMK(0LL /* LexicalState */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_Maybe_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_Maybe_1);
	return r4;
}
static void mtw_mirth_mirth_ZPlusMirth_ZPlusMirth (INT in_Nat_1, INT in_Nat_2, PTUP in_Maybe_3, PTUP in_Maybe_4, PTUP in_List_5, bool in_Bool_6, PTUP in_LexicalState_7, INT in_Int_8, PTUP in_ZPlusLister_9, PTUP in_ZPlusLister_10, ARR* in_ZPlusNameHashMap_11, PTUP *out_ZPlusMirth_12) {
	PTUP r13 = PTRMK(0LL /* +Mirth */,tup_new(11),0);
	((TUP*)PTRPTR(r13))->size = 11;
	((TUP*)PTRPTR(r13))->cells[10] = MKARR(in_ZPlusNameHashMap_11);
	((TUP*)PTRPTR(r13))->cells[9] = MKTUP(in_ZPlusLister_10);
	((TUP*)PTRPTR(r13))->cells[8] = MKTUP(in_ZPlusLister_9);
	((TUP*)PTRPTR(r13))->cells[7] = MKINT(in_Int_8);
	((TUP*)PTRPTR(r13))->cells[6] = MKTUP(in_LexicalState_7);
	((TUP*)PTRPTR(r13))->cells[5] = MKBOOL(in_Bool_6);
	((TUP*)PTRPTR(r13))->cells[4] = MKTUP(in_List_5);
	((TUP*)PTRPTR(r13))->cells[3] = MKTUP(in_Maybe_4);
	((TUP*)PTRPTR(r13))->cells[2] = MKTUP(in_Maybe_3);
	((TUP*)PTRPTR(r13))->cells[1] = MKNAT(in_Nat_2);
	((TUP*)PTRPTR(r13))->cells[0] = MKNAT(in_Nat_1);
	*out_ZPlusMirth_12 = r13;
}
static void mtp_mirth_mirth_ZPlusMirth_ZPlusMirth (PTUP in_ZPlusMirth_1, INT *out_Nat_2, INT *out_Nat_3, PTUP *out_Maybe_4, PTUP *out_Maybe_5, PTUP *out_List_6, bool *out_Bool_7, PTUP *out_LexicalState_8, INT *out_Int_9, PTUP *out_ZPlusLister_10, PTUP *out_ZPlusLister_11, ARR* *out_ZPlusNameHashMap_12) {
	INT v13 = value_nat(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[0]);
	INT v14 = value_nat(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[1]);
	PTUP v15 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[2]);
	PTUP v16 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[3]);
	PTUP v17 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[4]);
	bool v18 = value_bool(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[5]);
	PTUP v19 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	INT v20 = value_int(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[7]);
	PTUP r21 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[8]);
	PTUP r22 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[9]);
	ARR* r23 = value_arr(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[10]);
	tup_decref_outer(in_ZPlusMirth_1);
	*out_ZPlusNameHashMap_12 = r23;
	*out_ZPlusLister_11 = r22;
	*out_ZPlusLister_10 = r21;
	*out_Int_9 = v20;
	*out_LexicalState_8 = v19;
	*out_Bool_7 = v18;
	*out_List_6 = v17;
	*out_Maybe_5 = v16;
	*out_Maybe_4 = v15;
	*out_Nat_3 = v14;
	*out_Nat_2 = v13;
}
static PTUP mtw_mirth_mirth_Diagnostic_Diagnostic (int64_t in_Severity_1, PTUP in_Location_2, STR* in_Str_3) {
	PTUP r5 = PTRMK(0LL /* Diagnostic */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKSTR(in_Str_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKTUP(in_Location_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKI64(in_Severity_1);
	return r5;
}
static void mtp_mirth_mirth_Diagnostic_Diagnostic (PTUP in_Diagnostic_1, int64_t *out_Severity_2, PTUP *out_Location_3, STR* *out_Str_4) {
	int64_t v5 = VI64(((TUP*)PTRPTR(in_Diagnostic_1))->cells[0]);
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Diagnostic_1))->cells[1]);
	STR* v7 = value_str(((TUP*)PTRPTR(in_Diagnostic_1))->cells[2]);
	tup_decref_outer(in_Diagnostic_1);
	*out_Str_4 = v7;
	*out_Location_3 = v6;
	*out_Severity_2 = v5;
}
static PTUP mtw_mirth_mirth_Prop_1_Prop (PTUP in_PropLabel_1, PTUP in_PropState_2) {
	PTUP r4 = PTRMK(0LL /* Prop */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_PropState_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_PropLabel_1);
	return r4;
}
static PTUP mtw_mirth_mirth_PropState_1_Ready (VAL in_b_1) {
	PTUP r3 = PTRMK(0LL /* Ready */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = in_b_1;
	return r3;
}
static VAL mtp_mirth_mirth_PropState_1_Ready (PTUP in_PropState_1) {
	VAL v3 = ((TUP*)PTRPTR(in_PropState_1))->cells[0];
	tup_decref_outer(in_PropState_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropState_1_Delay (PTUP in_LexicalState_1, VAL in_a_2, VAL in__3) {
	PTUP r5 = PTRMK(1LL /* Delay */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = in__3;
	((TUP*)PTRPTR(r5))->cells[1] = in_a_2;
	((TUP*)PTRPTR(r5))->cells[0] = MKTUP(in_LexicalState_1);
	return r5;
}
static PTUP mtp_mirth_mirth_PropState_1_Delay (PTUP in_PropState_1, VAL *out_a_3, VAL *out__4) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_PropState_1))->cells[0]);
	VAL v6 = ((TUP*)PTRPTR(in_PropState_1))->cells[1];
	VAL v7 = ((TUP*)PTRPTR(in_PropState_1))->cells[2];
	tup_decref_outer(in_PropState_1);
	*out__4 = v7;
	*out_a_3 = v6;
	return v5;
}
static PTUP mtw_mirth_mirth_PropLabel_DataQName (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(1LL /* DataQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_DataQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_DataParams (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(2LL /* DataParams */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_DataParams (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_DataCType (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(3LL /* DataCType */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_DataCType (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_TagType (uint64_t in_Tag_1) {
	PTUP r3 = PTRMK(4LL /* TagType */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Tag_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_TagType (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_TableQName (uint64_t in_Table_1) {
	PTUP r3 = PTRMK(5LL /* TableQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Table_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_TableQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_TypeDefQName (uint64_t in_TypeDef_1) {
	PTUP r3 = PTRMK(6LL /* TypeDefQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_TypeDef_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_TypeDefQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_TypeDefParams (uint64_t in_TypeDef_1) {
	PTUP r3 = PTRMK(7LL /* TypeDefParams */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_TypeDef_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_TypeDefParams (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_TypeDefTarget (uint64_t in_TypeDef_1) {
	PTUP r3 = PTRMK(8LL /* TypeDefTarget */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_TypeDef_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_TypeDefTarget (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_WordQName (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(9LL /* WordQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_WordQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_WordType (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(10LL /* WordType */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_WordType (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_WordParams (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(11LL /* WordParams */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_WordParams (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_WordArrow (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(12LL /* WordArrow */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_WordArrow (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_BlockArrow (uint64_t in_Block_1) {
	PTUP r3 = PTRMK(13LL /* BlockArrow */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Block_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_BlockArrow (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_AliasQName (uint64_t in_Alias_1) {
	PTUP r3 = PTRMK(14LL /* AliasQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Alias_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_AliasQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_AliasTarget (uint64_t in_Alias_1) {
	PTUP r3 = PTRMK(15LL /* AliasTarget */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Alias_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_AliasTarget (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_ExternalQName (uint64_t in_External_1) {
	PTUP r3 = PTRMK(16LL /* ExternalQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_External_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_ExternalQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_ExternalType (uint64_t in_External_1) {
	PTUP r3 = PTRMK(17LL /* ExternalType */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_External_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_ExternalType (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_ExternalCType (uint64_t in_External_1) {
	PTUP r3 = PTRMK(18LL /* ExternalCType */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_External_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_ExternalCType (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_BufferQName (uint64_t in_Buffer_1) {
	PTUP r3 = PTRMK(19LL /* BufferQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Buffer_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_BufferQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_TableOwner (uint64_t in_Table_1) {
	PTUP r3 = PTRMK(20LL /* TableOwner */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Table_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_TableOwner (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_FieldOwner (uint64_t in_Field_1) {
	PTUP r3 = PTRMK(21LL /* FieldOwner */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Field_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_FieldOwner (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_FieldQName (uint64_t in_Field_1) {
	PTUP r3 = PTRMK(22LL /* FieldQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Field_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_FieldQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_FieldValueType (uint64_t in_Field_1) {
	PTUP r3 = PTRMK(23LL /* FieldValueType */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Field_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_FieldValueType (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_FieldIndexType (uint64_t in_Field_1) {
	PTUP r3 = PTRMK(24LL /* FieldIndexType */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Field_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_FieldIndexType (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_mirth_PropLabel_MacroQName (uint64_t in_Macro_1) {
	PTUP r3 = PTRMK(25LL /* MacroQName */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Macro_1);
	return r3;
}
static uint64_t mtp_mirth_mirth_PropLabel_MacroQName (PTUP in_PropLabel_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_PropLabel_1))->cells[0]);
	tup_decref_outer(in_PropLabel_1);
	return v3;
}
static PTUP mtw_mirth_specializzer_SPCheckItem_Word (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(0LL /* Word */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_specializzer_SPCheckItem_Word (PTUP in_SPCheckItem_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_SPCheckItem_1))->cells[0]);
	tup_decref_outer(in_SPCheckItem_1);
	return v3;
}
static PTUP mtw_mirth_specializzer_SPCheckItem_Block (uint64_t in_Block_1) {
	PTUP r3 = PTRMK(1LL /* Block */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Block_1);
	return r3;
}
static uint64_t mtp_mirth_specializzer_SPCheckItem_Block (PTUP in_SPCheckItem_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_SPCheckItem_1))->cells[0]);
	tup_decref_outer(in_SPCheckItem_1);
	return v3;
}
static void mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth (PTUP in_SPKey_1, uint64_t in_Word_2, PTUP in_Map_3, PTUP in_ZPlusAB_4, PTUP *out_ZPlusSPSynth_5) {
	PTUP r6 = PTRMK(0LL /* +SPSynth */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKTUP(in_ZPlusAB_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKTUP(in_Map_3);
	((TUP*)PTRPTR(r6))->cells[1] = MKU64(in_Word_2);
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(in_SPKey_1);
	*out_ZPlusSPSynth_5 = r6;
}
static void mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth (PTUP in_ZPlusSPSynth_1, PTUP *out_SPKey_2, uint64_t *out_Word_3, PTUP *out_Map_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusSPSynth_1))->cells[0]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusSPSynth_1))->cells[1]);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ZPlusSPSynth_1))->cells[2]);
	PTUP r9 = VTUP(((TUP*)PTRPTR(in_ZPlusSPSynth_1))->cells[3]);
	tup_decref_outer(in_ZPlusSPSynth_1);
	*out_ZPlusAB_5 = r9;
	*out_Map_4 = v8;
	*out_Word_3 = v7;
	*out_SPKey_2 = v6;
}
static PTUP mtw_mirth_need_Need_Word (uint64_t in_Word_1) {
	PTUP r3 = PTRMK(0LL /* Word */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Word_1);
	return r3;
}
static uint64_t mtp_mirth_need_Need_Word (PTUP in_Need_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Need_1))->cells[0]);
	tup_decref_outer(in_Need_1);
	return v3;
}
static PTUP mtw_mirth_need_Need_Block (uint64_t in_Block_1) {
	PTUP r3 = PTRMK(1LL /* Block */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Block_1);
	return r3;
}
static uint64_t mtp_mirth_need_Need_Block (PTUP in_Need_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Need_1))->cells[0]);
	tup_decref_outer(in_Need_1);
	return v3;
}
static PTUP mtw_mirth_need_Need_TagWord (uint64_t in_Tag_1) {
	PTUP r3 = PTRMK(2LL /* TagWord */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Tag_1);
	return r3;
}
static uint64_t mtp_mirth_need_Need_TagWord (PTUP in_Need_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Need_1))->cells[0]);
	tup_decref_outer(in_Need_1);
	return v3;
}
static PTUP mtw_mirth_need_Need_TagPattern (uint64_t in_Tag_1) {
	PTUP r3 = PTRMK(3LL /* TagPattern */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Tag_1);
	return r3;
}
static uint64_t mtp_mirth_need_Need_TagPattern (PTUP in_Need_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Need_1))->cells[0]);
	tup_decref_outer(in_Need_1);
	return v3;
}
static PTUP mtw_mirth_need_Need_Label (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(4LL /* Label */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_need_Need_Label (PTUP in_Need_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_Need_1))->cells[0]);
	tup_decref_outer(in_Need_1);
	return v3;
}
static void mtw_mirth_need_ZPlusNeeds_ZPlusNeeds (PTUP in_List_1, ARR* in_ZPlusSet_2, PTUP *out_ZPlusNeeds_3) {
	PTUP r4 = PTRMK(0LL /* +Needs */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKARR(in_ZPlusSet_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_List_1);
	*out_ZPlusNeeds_3 = r4;
}
static void mtp_mirth_need_ZPlusNeeds_ZPlusNeeds (PTUP in_ZPlusNeeds_1, PTUP *out_List_2, ARR* *out_ZPlusSet_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusNeeds_1))->cells[0]);
	ARR* r5 = value_arr(((TUP*)PTRPTR(in_ZPlusNeeds_1))->cells[1]);
	tup_decref_outer(in_ZPlusNeeds_1);
	*out_ZPlusSet_3 = r5;
	*out_List_2 = v4;
}
static PTUP mtw_mirth_c99_C99z_Options_C99z_Options (STR* in_Path_1, bool in_Bool_2) {
	PTUP r4 = PTRMK(0LL /* C99_Options */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKBOOL(in_Bool_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKSTR(in_Path_1);
	return r4;
}
static void mtw_mirth_c99_ZPlusC99_ZPlusC99 (PTUP in_C99z_Options_1, INT in_Nat_2, INT in_Nat_3, bool in_Bool_4, PTUP in_ZPlusNeeds_5, PTUP in_ZPlusOutput_6, PTUP *out_ZPlusC99_7) {
	PTUP r8 = PTRMK(0LL /* +C99 */,tup_new(6),0);
	((TUP*)PTRPTR(r8))->size = 6;
	((TUP*)PTRPTR(r8))->cells[5] = MKTUP(in_ZPlusOutput_6);
	((TUP*)PTRPTR(r8))->cells[4] = MKTUP(in_ZPlusNeeds_5);
	((TUP*)PTRPTR(r8))->cells[3] = MKBOOL(in_Bool_4);
	((TUP*)PTRPTR(r8))->cells[2] = MKNAT(in_Nat_3);
	((TUP*)PTRPTR(r8))->cells[1] = MKNAT(in_Nat_2);
	((TUP*)PTRPTR(r8))->cells[0] = MKTUP(in_C99z_Options_1);
	*out_ZPlusC99_7 = r8;
}
static void mtp_mirth_c99_ZPlusC99_ZPlusC99 (PTUP in_ZPlusC99_1, PTUP *out_C99z_Options_2, INT *out_Nat_3, INT *out_Nat_4, bool *out_Bool_5, PTUP *out_ZPlusNeeds_6, PTUP *out_ZPlusOutput_7) {
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99_1))->cells[0]);
	INT v9 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_1))->cells[1]);
	INT v10 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_1))->cells[2]);
	bool v11 = value_bool(((TUP*)PTRPTR(in_ZPlusC99_1))->cells[3]);
	PTUP r12 = VTUP(((TUP*)PTRPTR(in_ZPlusC99_1))->cells[4]);
	PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99_1))->cells[5]);
	tup_decref_outer(in_ZPlusC99_1);
	*out_ZPlusOutput_7 = r13;
	*out_ZPlusNeeds_6 = r12;
	*out_Bool_5 = v11;
	*out_Nat_4 = v10;
	*out_Nat_3 = v9;
	*out_C99z_Options_2 = v8;
}
static PTUP mtw_mirth_c99_C99APIArgSource_ValueLabel (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(1LL /* ValueLabel */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_c99_C99APIArgSource_ValueLabel (PTUP in_C99APIArgSource_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_C99APIArgSource_1))->cells[0]);
	tup_decref_outer(in_C99APIArgSource_1);
	return v3;
}
static PTUP mtw_mirth_c99_C99APIArgSource_ResourceLabel (uint64_t in_Label_1) {
	PTUP r3 = PTRMK(3LL /* ResourceLabel */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Label_1);
	return r3;
}
static uint64_t mtp_mirth_c99_C99APIArgSource_ResourceLabel (PTUP in_C99APIArgSource_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_C99APIArgSource_1))->cells[0]);
	tup_decref_outer(in_C99APIArgSource_1);
	return v3;
}
static PTUP mtw_mirth_c99_C99APIArg_C99APIArg (int64_t in_C99APIArgMode_1, PTUP in_C99APIArgSource_2, PTUP in_C99ReprType_3, STR* in_Str_4) {
	PTUP r6 = PTRMK(0LL /* C99APIArg */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKSTR(in_Str_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKTUP(in_C99ReprType_3);
	((TUP*)PTRPTR(r6))->cells[1] = MKTUP(in_C99APIArgSource_2);
	((TUP*)PTRPTR(r6))->cells[0] = MKI64(in_C99APIArgMode_1);
	return r6;
}
static void mtp_mirth_c99_C99APIArg_C99APIArg (PTUP in_C99APIArg_1, int64_t *out_C99APIArgMode_2, PTUP *out_C99APIArgSource_3, PTUP *out_C99ReprType_4, STR* *out_Str_5) {
	int64_t v6 = VI64(((TUP*)PTRPTR(in_C99APIArg_1))->cells[0]);
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_C99APIArg_1))->cells[1]);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_C99APIArg_1))->cells[2]);
	STR* v9 = value_str(((TUP*)PTRPTR(in_C99APIArg_1))->cells[3]);
	tup_decref_outer(in_C99APIArg_1);
	*out_Str_5 = v9;
	*out_C99ReprType_4 = v8;
	*out_C99APIArgSource_3 = v7;
	*out_C99APIArgMode_2 = v6;
}
static PTUP mtw_mirth_c99_C99API_C99API (STR* in_Str_1, PTUP in_ArrowType_2, PTUP in_List_3, PTUP in_List_4, PTUP in_Maybe_5, PTUP in_List_6, bool in_Bool_7, bool in_Bool_8) {
	PTUP r10 = PTRMK(0LL /* C99API */,tup_new(8),0);
	((TUP*)PTRPTR(r10))->size = 8;
	((TUP*)PTRPTR(r10))->cells[7] = MKBOOL(in_Bool_8);
	((TUP*)PTRPTR(r10))->cells[6] = MKBOOL(in_Bool_7);
	((TUP*)PTRPTR(r10))->cells[5] = MKTUP(in_List_6);
	((TUP*)PTRPTR(r10))->cells[4] = MKTUP(in_Maybe_5);
	((TUP*)PTRPTR(r10))->cells[3] = MKTUP(in_List_4);
	((TUP*)PTRPTR(r10))->cells[2] = MKTUP(in_List_3);
	((TUP*)PTRPTR(r10))->cells[1] = MKTUP(in_ArrowType_2);
	((TUP*)PTRPTR(r10))->cells[0] = MKSTR(in_Str_1);
	return r10;
}
static PTUP mtw_mirth_c99_C99DataRepr_Unit (uint64_t in_C99DataUnitRepr_1) {
	PTUP r3 = PTRMK(0LL /* Unit */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_C99DataUnitRepr_1);
	return r3;
}
static uint64_t mtp_mirth_c99_C99DataRepr_Unit (PTUP in_C99DataRepr_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_C99DataRepr_1))->cells[0]);
	tup_decref_outer(in_C99DataRepr_1);
	return v3;
}
static PTUP mtw_mirth_c99_C99DataRepr_Enum (uint64_t in_C99DataEnumRepr_1) {
	PTUP r3 = PTRMK(1LL /* Enum */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_C99DataEnumRepr_1);
	return r3;
}
static uint64_t mtp_mirth_c99_C99DataRepr_Enum (PTUP in_C99DataRepr_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_C99DataRepr_1))->cells[0]);
	tup_decref_outer(in_C99DataRepr_1);
	return v3;
}
static PTUP mtw_mirth_c99_C99DataRepr_Field (PTUP in_C99DataFieldRepr_1) {
	PTUP r3 = PTRMK(2LL /* Field */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKTUP(in_C99DataFieldRepr_1);
	return r3;
}
static PTUP mtp_mirth_c99_C99DataRepr_Field (PTUP in_C99DataRepr_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_C99DataRepr_1))->cells[0]);
	tup_decref_outer(in_C99DataRepr_1);
	return v3;
}
static PTUP mtw_mirth_c99_C99DataRepr_Struct (uint64_t in_C99DataStructRepr_1) {
	PTUP r3 = PTRMK(3LL /* Struct */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_C99DataStructRepr_1);
	return r3;
}
static uint64_t mtp_mirth_c99_C99DataRepr_Struct (PTUP in_C99DataRepr_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_C99DataRepr_1))->cells[0]);
	tup_decref_outer(in_C99DataRepr_1);
	return v3;
}
static PTUP mtw_mirth_c99_C99DataRepr_Sum (uint64_t in_C99DataSumRepr_1) {
	PTUP r3 = PTRMK(4LL /* Sum */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_C99DataSumRepr_1);
	return r3;
}
static uint64_t mtp_mirth_c99_C99DataRepr_Sum (PTUP in_C99DataRepr_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_C99DataRepr_1))->cells[0]);
	tup_decref_outer(in_C99DataRepr_1);
	return v3;
}
static PTUP mtw_mirth_c99_C99DataFieldRepr_C99DataFieldRepr (uint64_t in_Tag_1, PTUP in_StackTypePart_2, PTUP in_C99ReprType_3) {
	PTUP r5 = PTRMK(0LL /* C99DataFieldRepr */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKTUP(in_C99ReprType_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKTUP(in_StackTypePart_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKU64(in_Tag_1);
	return r5;
}
static PTUP mtw_mirth_c99_C99ReprType_Table (uint64_t in_Table_1) {
	PTUP r3 = PTRMK(20LL /* Table */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Table_1);
	return r3;
}
static uint64_t mtp_mirth_c99_C99ReprType_Table (PTUP in_C99ReprType_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_C99ReprType_1))->cells[0]);
	tup_decref_outer(in_C99ReprType_1);
	return v3;
}
static PTUP mtw_mirth_c99_C99ReprType_Data (uint64_t in_Data_1) {
	PTUP r3 = PTRMK(21LL /* Data */,tup_new(1),0);
	((TUP*)PTRPTR(r3))->size = 1;
	((TUP*)PTRPTR(r3))->cells[0] = MKU64(in_Data_1);
	return r3;
}
static uint64_t mtp_mirth_c99_C99ReprType_Data (PTUP in_C99ReprType_1) {
	uint64_t v3 = value_u64(((TUP*)PTRPTR(in_C99ReprType_1))->cells[0]);
	tup_decref_outer(in_C99ReprType_1);
	return v3;
}
static void mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value (PTUP in_C99ReprType_1, STR* in_Str_2, PTUP *out_ZPlusC99Value_3) {
	PTUP r4 = PTRMK(0LL /* +C99Value */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKSTR(in_Str_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_C99ReprType_1);
	*out_ZPlusC99Value_3 = r4;
}
static void mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value (PTUP in_ZPlusC99Value_1, PTUP *out_C99ReprType_2, STR* *out_Str_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Value_1))->cells[0]);
	STR* v5 = value_str(((TUP*)PTRPTR(in_ZPlusC99Value_1))->cells[1]);
	tup_decref_outer(in_ZPlusC99Value_1);
	*out_Str_3 = v5;
	*out_C99ReprType_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource (PTUP in_C99ReprType_1, STR* in_Str_2, PTUP *out_ZPlusC99Resource_3) {
	PTUP r4 = PTRMK(0LL /* +C99Resource */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKSTR(in_Str_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_C99ReprType_1);
	*out_ZPlusC99Resource_3 = r4;
}
static void mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource (PTUP in_ZPlusC99Resource_1, PTUP *out_C99ReprType_2, STR* *out_Str_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Resource_1))->cells[0]);
	STR* v5 = value_str(((TUP*)PTRPTR(in_ZPlusC99Resource_1))->cells[1]);
	tup_decref_outer(in_ZPlusC99Resource_1);
	*out_Str_3 = v5;
	*out_C99ReprType_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusCons (PTUP in_ZPlusC99Stack_1, PTUP in_ZPlusC99Value_2, PTUP *out_ZPlusC99Stack_3) {
	PTUP r4 = PTRMK(1LL /* +Cons */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_ZPlusC99Value_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_ZPlusC99Stack_1);
	*out_ZPlusC99Stack_3 = r4;
}
static void mtp_mirth_c99_ZPlusC99Stack_ZPlusCons (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusC99Stack_2, PTUP *out_ZPlusC99Value_3) {
	PTUP r4 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[0]);
	PTUP r5 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[1]);
	tup_decref_outer(in_ZPlusC99Stack_1);
	*out_ZPlusC99Value_3 = r5;
	*out_ZPlusC99Stack_2 = r4;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusWith (PTUP in_ZPlusC99Stack_1, PTUP in_ZPlusC99Resource_2, PTUP *out_ZPlusC99Stack_3) {
	PTUP r4 = PTRMK(2LL /* +With */,tup_new(2),0);
	((TUP*)PTRPTR(r4))->size = 2;
	((TUP*)PTRPTR(r4))->cells[1] = MKTUP(in_ZPlusC99Resource_2);
	((TUP*)PTRPTR(r4))->cells[0] = MKTUP(in_ZPlusC99Stack_1);
	*out_ZPlusC99Stack_3 = r4;
}
static void mtp_mirth_c99_ZPlusC99Stack_ZPlusWith (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusC99Stack_2, PTUP *out_ZPlusC99Resource_3) {
	PTUP r4 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[0]);
	PTUP r5 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[1]);
	tup_decref_outer(in_ZPlusC99Stack_1);
	*out_ZPlusC99Resource_3 = r5;
	*out_ZPlusC99Stack_2 = r4;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel (PTUP in_ZPlusC99Stack_1, PTUP in_ZPlusC99Value_2, uint64_t in_Label_3, PTUP *out_ZPlusC99Stack_4) {
	PTUP r5 = PTRMK(3LL /* +ConsLabel */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKU64(in_Label_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKTUP(in_ZPlusC99Value_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKTUP(in_ZPlusC99Stack_1);
	*out_ZPlusC99Stack_4 = r5;
}
static uint64_t mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusC99Stack_2, PTUP *out_ZPlusC99Value_3) {
	PTUP r5 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[0]);
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[1]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[2]);
	tup_decref_outer(in_ZPlusC99Stack_1);
	*out_ZPlusC99Value_3 = r6;
	*out_ZPlusC99Stack_2 = r5;
	return v7;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel (PTUP in_ZPlusC99Stack_1, PTUP in_ZPlusC99Resource_2, uint64_t in_Label_3, PTUP *out_ZPlusC99Stack_4) {
	PTUP r5 = PTRMK(4LL /* +WithLabel */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKU64(in_Label_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKTUP(in_ZPlusC99Resource_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKTUP(in_ZPlusC99Stack_1);
	*out_ZPlusC99Stack_4 = r5;
}
static uint64_t mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusC99Stack_2, PTUP *out_ZPlusC99Resource_3) {
	PTUP r5 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[0]);
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[1]);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusC99Stack_1))->cells[2]);
	tup_decref_outer(in_ZPlusC99Stack_1);
	*out_ZPlusC99Resource_3 = r6;
	*out_ZPlusC99Stack_2 = r5;
	return v7;
}
static void mtw_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit (PTUP in_ZPlusC99_1, PTUP in_ZPlusC99Stack_2, PTUP in_List_3, PTUP in_List_4, bool in_Bool_5, bool in_Bool_6, PTUP *out_ZPlusC99BranchSplit_7) {
	PTUP r8 = PTRMK(0LL /* +C99BranchSplit */,tup_new(6),0);
	((TUP*)PTRPTR(r8))->size = 6;
	((TUP*)PTRPTR(r8))->cells[5] = MKBOOL(in_Bool_6);
	((TUP*)PTRPTR(r8))->cells[4] = MKBOOL(in_Bool_5);
	((TUP*)PTRPTR(r8))->cells[3] = MKTUP(in_List_4);
	((TUP*)PTRPTR(r8))->cells[2] = MKTUP(in_List_3);
	((TUP*)PTRPTR(r8))->cells[1] = MKTUP(in_ZPlusC99Stack_2);
	((TUP*)PTRPTR(r8))->cells[0] = MKTUP(in_ZPlusC99_1);
	*out_ZPlusC99BranchSplit_7 = r8;
}
static void mtp_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit (PTUP in_ZPlusC99BranchSplit_1, PTUP *out_ZPlusC99_2, PTUP *out_ZPlusC99Stack_3, PTUP *out_List_4, PTUP *out_List_5, bool *out_Bool_6, bool *out_Bool_7) {
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_1))->cells[0]);
	PTUP r9 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_1))->cells[1]);
	PTUP v10 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_1))->cells[2]);
	PTUP v11 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_1))->cells[3]);
	bool v12 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_1))->cells[4]);
	bool v13 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_1))->cells[5]);
	tup_decref_outer(in_ZPlusC99BranchSplit_1);
	*out_Bool_7 = v13;
	*out_Bool_6 = v12;
	*out_List_5 = v11;
	*out_List_4 = v10;
	*out_ZPlusC99Stack_3 = r9;
	*out_ZPlusC99_2 = r8;
}
static PTUP mtw_mirth_c99_C99Var_C99Var (uint64_t in_Var_1, STR* in_Str_2, PTUP in_C99ReprType_3) {
	PTUP r5 = PTRMK(0LL /* C99Var */,tup_new(3),0);
	((TUP*)PTRPTR(r5))->size = 3;
	((TUP*)PTRPTR(r5))->cells[2] = MKTUP(in_C99ReprType_3);
	((TUP*)PTRPTR(r5))->cells[1] = MKSTR(in_Str_2);
	((TUP*)PTRPTR(r5))->cells[0] = MKU64(in_Var_1);
	return r5;
}
static void mtp_mirth_c99_C99Var_C99Var (PTUP in_C99Var_1, uint64_t *out_Var_2, STR* *out_Str_3, PTUP *out_C99ReprType_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_C99Var_1))->cells[0]);
	STR* v6 = value_str(((TUP*)PTRPTR(in_C99Var_1))->cells[1]);
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_C99Var_1))->cells[2]);
	tup_decref_outer(in_C99Var_1);
	*out_C99ReprType_4 = v7;
	*out_Str_3 = v6;
	*out_Var_2 = v5;
}
static void mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch (PTUP in_ZPlusC99_1, PTUP in_ZPlusC99Stack_2, PTUP in_List_3, bool in_Bool_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP r6 = PTRMK(0LL /* +C99Branch */,tup_new(4),0);
	((TUP*)PTRPTR(r6))->size = 4;
	((TUP*)PTRPTR(r6))->cells[3] = MKBOOL(in_Bool_4);
	((TUP*)PTRPTR(r6))->cells[2] = MKTUP(in_List_3);
	((TUP*)PTRPTR(r6))->cells[1] = MKTUP(in_ZPlusC99Stack_2);
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(in_ZPlusC99_1);
	*out_ZPlusC99Branch_5 = r6;
}
static void mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch (PTUP in_ZPlusC99Branch_1, PTUP *out_ZPlusC99_2, PTUP *out_ZPlusC99Stack_3, PTUP *out_List_4, bool *out_Bool_5) {
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_1))->cells[0]);
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_1))->cells[1]);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_1))->cells[2]);
	bool v9 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_1))->cells[3]);
	tup_decref_outer(in_ZPlusC99Branch_1);
	*out_Bool_5 = v9;
	*out_List_4 = v8;
	*out_ZPlusC99Stack_3 = r7;
	*out_ZPlusC99_2 = r6;
}
static char mbuf_mirth_label_Label_NumBuffer[8] = {0};
static char mbuf_mirth_var_Var_NumBuffer[8] = {0};
static char mbuf_mirth_external_External_NumBuffer[8] = {0};
static char mbuf_mirth_external_ExternalBlock_NumBuffer[8] = {0};
static char mbuf_mirth_word_Word_NumBuffer[8] = {0};
static char mbuf_mirth_typedef_TypeDef_NumBuffer[8] = {0};
static char mbuf_mirth_package_Package_NumBuffer[8] = {0};
static char mbuf_mirth_macro_Macro_NumBuffer[8] = {0};
static char mbuf_mirth_buffer_Buffer_NumBuffer[8] = {0};
static char mbuf_mirth_table_Table_NumBuffer[8] = {0};
static char mbuf_mirth_table_Field_NumBuffer[8] = {0};
static char mbuf_mirth_data_Data_NumBuffer[8] = {0};
static char mbuf_mirth_data_Tag_NumBuffer[8] = {0};
static char mbuf_mirth_arrow_Block_NumBuffer[8] = {0};
static char mbuf_mirth_type_MetaVar_NumBuffer[8] = {0};
static char mbuf_mirth_token_Token_NumBuffer[8] = {0};
static char mbuf_mirth_alias_Alias_NumBuffer[8] = {0};
static char mbuf_mirth_name_Name_NumBuffer[8] = {0};
static char mbuf_mirth_module_Module_NumBuffer[8] = {0};
size_t strlen (const char *);
static uint64_t mext_std_ctypes_CStr_numZ_bytesZ_raw (void* in_CStr_1) {
	const char * X1 = (const char *)(in_CStr_1);
	size_t Y = strlen(X1);
	return ((uint64_t)(Y));
}
char* strerror(int);
static const char* posix_strerror(int e) { return strerror(e); }
const char * posix_strerror (int);
static void* mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang (int64_t in_CInt_1) {
	int X2 = (int)(in_CInt_1);
	const char * Y = posix_strerror(X2);
	return ((void*)(Y));
}
void exit (int);
static void mext_std_prim_ZPlusWorld_rawZ_posixZ_exitZBang (int64_t in_CInt_1) {
	int X1 = (int)(in_CInt_1);
	exit(X1);
}
static int posix_open (const char* path, int flags, int mode) { return open(path, flags, mode); }
int posix_open (const char *, int, int);
static int64_t mext_std_prim_ZPlusWorld_rawZ_posixZ_openZBang (void* in_CStr_1, int64_t in_CInt_2, int64_t in_CInt_3) {
	int mode = (int)(in_CInt_3);
	int flags = (int)(in_CInt_2);
	const char * path = (const char *)(in_CStr_1);
	int Y = posix_open(path, flags, mode);
	return ((int64_t)(Y));
}
int close (int);
static int64_t mext_std_prim_ZPlusWorld_rawZ_posixZ_closeZBang (int64_t in_ZPlusFileDescriptor_1) {
	int ZPlusfd = (int)(in_ZPlusFileDescriptor_1);
	int Y = close(ZPlusfd);
	return ((int64_t)(Y));
}
int read (int, void*, size_t);
static int64_t mext_std_prelude_ZPlusUnsafe_rawZ_posixZ_readZBang (int64_t in_ZPlusFileDescriptor_1, void* in_Ptr_2, uint64_t in_CUSizze_3, int64_t *out_ZPlusFileDescriptor_4) {
	size_t sizze = (size_t)(in_CUSizze_3);
	void* ptr = (void*)(in_Ptr_2);
	int ZPlusfd = (int)(in_ZPlusFileDescriptor_1);
	int Y = read(ZPlusfd, ptr, sizze);
	*out_ZPlusFileDescriptor_4 = ((int64_t)(ZPlusfd));
	return ((int64_t)(Y));
}
int write (int, const char *, size_t);
static int64_t mext_std_prelude_ZPlusUnsafe_rawZ_posixZ_writeZBang (int64_t in_ZPlusFileDescriptor_1, void* in_CStr_2, uint64_t in_CUSizze_3, int64_t *out_ZPlusFileDescriptor_4) {
	size_t sizze = (size_t)(in_CUSizze_3);
	const char * ptr = (const char *)(in_CStr_2);
	int ZPlusfd = (int)(in_ZPlusFileDescriptor_1);
	int Y = write(ZPlusfd, ptr, sizze);
	*out_ZPlusFileDescriptor_4 = ((int64_t)(ZPlusfd));
	return ((int64_t)(Y));
}
#include <errno.h>
static int posix_errno (void) { return errno; }
int posix_errno (void);
static int64_t mext_std_prelude_ZPlusUnsafe_posixZ_errnoZBang (void) {
	int Y = posix_errno();
	return ((int64_t)(Y));
}
int stat (const char *, void*);
static int64_t mext_std_world_posixZ_stat (void* in_CStr_1, void* in_Ptr_2) {
	void* X3 = (void*)(in_Ptr_2);
	const char * X2 = (const char *)(in_CStr_1);
	int Y = stat(X2, X3);
	return ((int64_t)(Y));
}
static STR* mw_std_byte_Byte_toZ_strZ_unsafe (int64_t in_Byte_1);
static PTUP mw_std_byte_Byte_toZ_asciiZ_str (int64_t in_Byte_1);
static bool mw_std_byte_Byte_isZ_stringZ_end (int64_t in_Byte_1);
static int64_t mw_std_byte_Byte_toZ_upper (int64_t in_Byte_1);
static int64_t mw_std_byte_Byte_OneHexDigit (uint8_t in_U8_1);
static int64_t mw_std_byte_Byte_toZ_hexdigits (int64_t in_Byte_1, int64_t *out_Byte_3);
static bool mw_std_byte_Byte_isZ_nameZ_byte (int64_t in_Byte_1);
static void mw_std_byte_Byte_zzencodeZThen (STR* in_ZPlusStr_1, int64_t in_Byte_2, STR* *out_ZPlusStr_3);
static void mw_std_byte_Byte_intZThen (STR* in_ZPlusStr_1, int64_t in_Byte_2, STR* *out_ZPlusStr_3);
static ARR* mw_std_prim_Array_1_New (VAL in_a_1, INT in_Nat_2);
static void mw_std_prim_Array_1_thaw (ARR* in_Array_1, ARR* *out_ZPlusArray_2);
static INT mw_std_prim_Array_1_len (ARR* in_Array_1);
static VAL mw_std_prim_Array_1_get (INT in_Nat_1, ARR* in_Array_2);
static ARR* mw_std_prim_Array_1_set (VAL in_a_1, INT in_Nat_2, ARR* in_Array_3);
static ARR* mw_std_prim_Array_1_expand (VAL in_a_1, INT in_Nat_2, ARR* in_Array_3);
static ARR* mw_std_prim_Array_1_slice (INT in_Nat_1, INT in_Nat_2, ARR* in_Array_3);
static ARR* mw_std_prim_Array_1_prefix (INT in_Nat_1, ARR* in_Array_2);
static void mw_std_array_ZPlusArray_1_New (VAL in_a_1, INT in_Nat_2, ARR* *out_ZPlusArray_3);
static ARR* mw_std_array_ZPlusArray_1_freezze (ARR* in_ZPlusArray_1);
static void mw_std_array_ZPlusArray_1_rdrop (ARR* in_ZPlusArray_1);
static INT mw_std_array_ZPlusArray_1_lenZAt (ARR* in_ZPlusArray_1, ARR* *out_ZPlusArray_2);
static VAL mw_std_array_ZPlusArray_1_valueZAt (ARR* in_ZPlusArray_1, INT in_Nat_2, ARR* *out_ZPlusArray_3);
static void mw_std_array_ZPlusArray_1_valueZBang (ARR* in_ZPlusArray_1, VAL in_a_2, INT in_Nat_3, ARR* *out_ZPlusArray_4);
static void mw_std_array_ZPlusArray_1_truncateZBang (ARR* in_ZPlusArray_1, INT in_Nat_2, ARR* *out_ZPlusArray_3);
static void mw_std_array_ZPlusArray_1_expandZBang (ARR* in_ZPlusArray_1, VAL in_a_2, INT in_Nat_3, ARR* *out_ZPlusArray_4);
static void mw_std_array_ZPlusArray_1_resizzeZBang (ARR* in_ZPlusArray_1, VAL in_a_2, INT in_Nat_3, ARR* *out_ZPlusArray_4);
static void* mw_std_array_ZPlusArray_1_base (ARR* in_ZPlusArray_1, ARR* *out_ZPlusArray_2);
static void mw_std_buffer_ZPlusBuffer_New (INT in_Sizze_1, ARR* *out_ZPlusBuffer_2);
static void mw_std_buffer_ZPlusBuffer_rdrop (ARR* in_ZPlusBuffer_1);
static INT mw_std_buffer_ZPlusBuffer_sizze (ARR* in_ZPlusBuffer_1, ARR* *out_ZPlusBuffer_2);
static void* mw_std_buffer_ZPlusBuffer_base (ARR* in_ZPlusBuffer_1, ARR* *out_ZPlusBuffer_2);
static void mw_std_buffer_ZPlusBuffer_resizzeZBang (ARR* in_ZPlusBuffer_1, INT in_Sizze_2, ARR* *out_ZPlusBuffer_3);
static void mw_std_buffer_ZPlusBuffer_expandZBang (ARR* in_ZPlusBuffer_1, INT in_Sizze_2, ARR* *out_ZPlusBuffer_3);
static INT mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang (ARR* in_ZPlusBuffer_1, INT in_Offset_2, INT in_Sizze_3, ARR* *out_ZPlusBuffer_4);
static uint8_t mw_std_buffer_ZPlusBuffer_u8ZAt (ARR* in_ZPlusBuffer_1, INT in_Offset_2, ARR* *out_ZPlusBuffer_3);
static void mw_std_buffer_ZPlusBuffer_u8ZBang (ARR* in_ZPlusBuffer_1, uint8_t in_U8_2, INT in_Offset_3, ARR* *out_ZPlusBuffer_4);
static void mw_std_buffer_ZPlusBuffer_byteZBang (ARR* in_ZPlusBuffer_1, int64_t in_Byte_2, INT in_Offset_3, ARR* *out_ZPlusBuffer_4);
static STR* mw_std_buffer_ZPlusBuffer_strZAt (ARR* in_ZPlusBuffer_1, INT in_Offset_2, INT in_Sizze_3, ARR* *out_ZPlusBuffer_4);
static void mw_std_buffer_ZPlusBuffer_strZBang (ARR* in_ZPlusBuffer_1, STR* in_Str_2, INT in_Offset_3, ARR* *out_ZPlusBuffer_4);
static void mw_std_prim_Ptr_ZBangStr (STR* in_Str_1, void* in_Ptr_2);
static int64_t mw_std_prim_Str_lastZ_byte (STR* in_Str_1);
static int64_t mw_std_str_ZPlusStr_lastZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_byteZAt (INT in_Offset_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_4);
static bool mw_std_str_offsetZ_inZ_bounds (INT in_Offset_1, INT in_Sizze_2);
static int64_t mw_std_prim_Str_byteZAt (INT in_Offset_1, STR* in_Str_2);
static void mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_str_ZPlusStr_pushZ_strZBang (STR* in_Str_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static STR* mw_std_prim_Str_dropZ_bytes (INT in_Sizze_1, STR* in_Str_2);
static STR* mw_std_prim_Str_fromZ_bytesZ_unsafe (PTUP in_List_1);
static INT mw_std_str_clampZ_sliceZ_offsetZ_sizze (INT in_Offset_1, INT in_Sizze_2, INT in_Sizze_3, INT *out_Sizze_5);
static STR* mw_std_prim_Str_slice (INT in_Offset_1, INT in_Sizze_2, STR* in_Str_3);
static STR* mw_std_prim_Str_dropZ_slice (INT in_Offset_1, STR* in_Str_2);
static STR* mw_std_prim_Str_takeZ_slice (INT in_Sizze_1, STR* in_Str_2);
static STR* mw_std_str_ZPlusStr_slice (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Sizze_3, STR* *out_ZPlusStr_4);
static STR* mw_std_str_ZPlusStr_offsetZ_slice (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Offset_3, STR* *out_ZPlusStr_4);
static STR* mw_std_str_ZPlusStr_takeZ_slice (STR* in_ZPlusStr_1, INT in_Sizze_2, STR* *out_ZPlusStr_3);
static STR* mw_std_str_ZPlusStr_dropZ_slice (STR* in_ZPlusStr_1, INT in_Offset_2, STR* *out_ZPlusStr_3);
static PTUP mw_std_str_ZPlusStr_splitZ_byte (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_4);
static PTUP mw_std_prim_Str_splitZ_byte (int64_t in_Byte_1, STR* in_Str_2);
static void mw_std_str_ZPlusStr_pushZ_reprZ_byteZBang (STR* in_ZPlusStr_1, bool in_Bool_2, int64_t in_Byte_3, bool *out_Bool_4, STR* *out_ZPlusStr_5);
static void mw_std_prim_Str_reprZThen (STR* in_Str_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_prim_Str_zzencodeZThen (STR* in_ZPlusStr_1, STR* in_Str_2, STR* *out_ZPlusStr_3);
static STR* mw_std_prim_Str_zzencode (STR* in_Str_1);
static PTUP mw_std_prim_Str_ZToF64ZAsk (STR* in_Str_1);
static int64_t mw_std_str_ZPlusStr_firstZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static int64_t mw_std_str_ZPlusStr_secondZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static int64_t mw_std_str_ZPlusStr_thirdZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_str_ZPlusStr_firstZ_twoZ_bytes (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_str_ZPlusStr_dropZ_firstZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_str_ZPlusStr_dropZ_lastZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static PTUP mw_std_either_Either_2_leftZAsk (PTUP in_Either_1);
static PTUP mw_std_either_Either_2_rightZAsk (PTUP in_Either_1);
static bool mw_std_list_List_1_emptyZAsk (PTUP in_List_1);
static PTUP mw_std_list_List_1_singleZAsk (PTUP in_List_1);
static PTUP mw_std_list_List_1_pairZAsk (PTUP in_List_1);
static PTUP mw_std_list_List_1_ZToNestZAsk (PTUP in_List_1);
static INT mw_std_list_List_1_len (PTUP in_List_1);
static PTUP mw_std_list_List_1_cons (VAL in_t_1, PTUP in_List_2);
static PTUP mw_std_list_List_1_consZPlus (VAL in_t_1, PTUP in_List_2);
static PTUP mw_std_list_List_1_uncons (PTUP in_List_1, PTUP *out_List_3);
static PTUP mw_std_list_List_1_Snoc (PTUP in_List_1, VAL in_t_2);
static PTUP mw_std_list_List_1_unsnoc (PTUP in_List_1, PTUP *out_Maybe_3);
static PTUP mw_std_list_List_1_cat (PTUP in_List_1, PTUP in_List_2);
static PTUP mw_std_list_List_1_head (PTUP in_List_1);
static PTUP mw_std_list_List_1_tail (PTUP in_List_1);
static PTUP mw_std_list_List_1_first (PTUP in_List_1);
static PTUP mw_std_list_List_1_last (PTUP in_List_1);
static PTUP mw_std_list_List_1_dropZ_slice (INT in_Nat_1, PTUP in_List_2);
static PTUP mw_std_list_List_1_reverse (PTUP in_List_1);
static PTUP mw_std_list_Nest_1_N1 (VAL in_t_1);
static PTUP mw_std_list_Nest_1_Cons (VAL in_t_1, PTUP in_List_2);
static VAL mw_std_list_Nest_1_ZDivCons (PTUP in_Nest_1, PTUP *out_List_3);
static PTUP mw_std_list_Nest_1_singleZAsk (PTUP in_Nest_1);
static PTUP mw_std_list_Nest_1_pairZAsk (PTUP in_Nest_1);
static PTUP mw_std_list_Nest_1_ZToList (PTUP in_Nest_1);
static PTUP mw_std_list_Nest_1_cons (VAL in_t_1, PTUP in_Nest_2);
static VAL mw_std_list_Nest_1_uncons (PTUP in_Nest_1, PTUP *out_List_3);
static PTUP mw_std_list_Nest_1_unsnoc (PTUP in_Nest_1, VAL *out_t_3);
static VAL mw_std_list_Nest_1_first (PTUP in_Nest_1);
static VAL mw_std_list_Nest_1_last (PTUP in_Nest_1);
static PTUP mw_std_list_Nest_1_reverse (PTUP in_Nest_1);
static PTUP mw_std_prim_Int_range (INT in_Int_1, INT in_Int_2);
static void mw_std_list_ZPlusLister_1_ZPlusNil (PTUP *out_ZPlusLister_1);
static void mw_std_list_ZPlusLister_1_rdrop (PTUP in_ZPlusLister_1);
static PTUP mw_std_list_ZPlusLister_1_doneZBang (PTUP in_ZPlusLister_1);
static void mw_std_list_List_1_buildZBang (PTUP in_List_1, PTUP *out_ZPlusLister_2);
static void mw_std_list_ZPlusLister_1_pushZBang (VAL in_t_1, PTUP in_ZPlusLister_2, PTUP *out_ZPlusLister_3);
static void mw_std_list_ZPlusLister_1_pushZPlusZBang (VAL in_t_1, PTUP in_ZPlusLister_2, PTUP *out_ZPlusNester_3);
static PTUP mw_std_list_ZPlusLister_1_popZBang (PTUP in_ZPlusLister_1, PTUP *out_ZPlusLister_3);
static PTUP mw_std_list_ZPlusLister_1_popZ_allZBang (PTUP in_ZPlusLister_1, PTUP *out_ZPlusLister_3);
static PTUP mw_std_list_ZPlusNester_1_doneZBang (PTUP in_ZPlusNester_1);
static PTUP mw_std_maybe_Maybe_1_ZToList (PTUP in_Maybe_1);
static PTUP mw_std_maybe_Maybe_1_zzip (PTUP in_Maybe_1, PTUP in_Maybe_2);
static INT mw_std_number_Base_Hex (void);
static INT mw_std_number_Base_lastZ_digit (INT in_Nat_1, INT in_Base_2, int64_t *out_Byte_4);
static void mw_std_number_Base_digitsZThen (STR* in_ZPlusStr_1, INT in_Nat_2, INT in_Base_3, STR* *out_ZPlusStr_4);
static int64_t mw_std_prim_I64_ZToOS (int64_t in_I64_1);
static int64_t mw_std_prim_Int_ZToOS (INT in_Int_1);
static bool mw_std_prelude_OS_isZ_windowsZAsk (int64_t in_OS_1);
static VAL mw_std_prelude_OS_pathZ_separator (int64_t in_OS_1);
static bool mw_std_prelude_OS_byteZ_isZ_pathZ_separatorZAsk (int64_t in_Byte_1, int64_t in_OS_2);
static int64_t mw_std_prim_I64_ZToArch (int64_t in_I64_1);
static int64_t mw_std_prim_Int_ZToArch (INT in_Int_1);
static PTUP mw_std_prelude_ZAtZAsk (void* in_Mutt_1);
static void mw_std_prelude_impossibleZBang (void);
static STR* mw_std_path_Path_joinZ_with (STR* in_Path_1, STR* in_Str_2, STR* in_Path_3);
static STR* mw_std_path_Path_join (STR* in_Path_1, STR* in_Path_2);
static STR* mw_std_path_Path_splitZ_last (STR* in_Path_1, PTUP *out_Maybe_3);
static void mw_std_path_Path_pathZThen (STR* in_Path_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static PTUP mw_std_result_Result_2_okZAsk (PTUP in_Result_1);
static int64_t mw_std_posix_OpenFlags_U64ZTo (uint64_t in_U64_1);
static int64_t mw_std_posix_OpenFlags_None (void);
static void mw_std_terminal_Sgr_emitZThen (PTUP in_Sgr_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_terminal_SGRColor_emitZThen (PTUP in_SGRColor_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_str_ZPlusStr_csiZThen (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static INT mw_std_input_INPUTz_BUFFERz_SIZZE (void);
static void mw_std_input_ZPlusInputOpenState_endZBang (PTUP in_ZPlusInputOpenState_1, PTUP *out_ZPlusFile_2);
static void mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang (PTUP in_ZPlusInputOpenState_1, PTUP *out_ZPlusInput_2);
static void mw_std_input_ZPlusInput_startZBang (PTUP in_ZPlusFile_1, PTUP *out_ZPlusInput_2);
static void mw_std_input_ZPlusInput_endZBang (PTUP in_ZPlusInput_1, PTUP *out_ZPlusFile_2);
static PTUP mw_std_input_ZPlusInput_readZ_chunkZBang (PTUP in_ZPlusInput_1, PTUP *out_ZPlusInput_3);
static STR* mw_std_input_ZPlusInput_readZ_fileZBang (PTUP in_ZPlusInput_1, PTUP *out_ZPlusInput_3);
static INT mw_std_output_OUTPUTz_BUFFERz_SIZZE (void);
static void mw_std_output_ZPlusOutput_startZBang (PTUP in_ZPlusFile_1, PTUP *out_ZPlusOutput_2);
static void mw_std_output_ZPlusOutput_endZBang (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusFile_2);
static void mw_std_output_ZPlusOutput_flushZBang (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_2);
static INT mw_std_output_ZPlusOutput_offset (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_2);
static INT mw_std_output_ZPlusOutput_capacityZ_total (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_3);
static INT mw_std_output_ZPlusOutput_capacityZ_remaining (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_3);
static bool mw_std_output_ZPlusOutput_fullZAsk (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_put (STR* in_Str_1, PTUP in_ZPlusOutput_2, PTUP *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_putZ_byte (int64_t in_Byte_1, PTUP in_ZPlusOutput_2, PTUP *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_line (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_2);
static void mw_std_file_IOError_messageZThen (STR* in_ZPlusStr_1, PTUP in_IOError_2, STR* *out_ZPlusStr_3);
static STR* mw_std_file_IOError_message (PTUP in_IOError_1);
static PTUP mw_std_file_ZPlusFile_closeZ_fileZBang (PTUP in_ZPlusFile_1);
static STR* mw_std_file_ZPlusFile_readZ_fileZBang (PTUP in_ZPlusFile_1, PTUP *out_ZPlusFile_3);
static PTUP mw_std_file_ZPlusFile_readZ_bytesZBang (PTUP in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, PTUP *out_ZPlusFile_4);
static void mw_std_prim_ZPlusWorld_openZ_fileZBang (STR* in_Path_1, PTUP *out_ZPlusResult_2);
static void mw_std_prim_ZPlusWorld_createZ_fileZBang (STR* in_Path_1, PTUP *out_ZPlusResult_2);
static void mw_std_prim_ZPlusWorld_stderrZ_file (PTUP *out_ZPlusFile_1);
static PTUP mw_std_prim_ZPlusWorld_createZ_fileZ_flags (void);
static PTUP mw_std_file_ZPlusFile_writeZ_bytesZBang (PTUP in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, PTUP *out_ZPlusFile_4);
static PTUP mw_std_prim_ZPlusWorld_readZ_pathZBang (STR* in_Path_1);
static void mw_std_prim_ZPlusWorld_traceZ_ (STR* in_Str_1);
static void mw_std_prim_ZPlusWorld_trace (STR* in_Str_1);
static bool mw_std_prim_ZPlusWorld_isZ_directoryZAsk (STR* in_Path_1);
static uint16_t mw_std_world_Sz_IFMT (void);
static uint16_t mw_std_world_Sz_IFDIR (void);
static bool mw_std_world_Sz_ISDIR (uint16_t in_U16_1);
static uint16_t mw_std_world_stz_modeZAt (void* in_Ptr_1);
static PTUP mw_argZ_parser_state_State_1_init (VAL in_a_1);
static PTUP mw_argZ_parser_state_State_1_argv (PTUP in_State_1);
static STR* mw_argZ_parser_state_State_1_programZ_name (PTUP in_State_1);
static bool mw_argZ_parser_state_State_1_parsingZAsk (PTUP in_State_1);
static PTUP mw_argZ_parser_state_State_1_parsingZAskZBang (bool in_Bool_1, PTUP in_State_2);
static PTUP mw_argZ_parser_state_State_1_optionZ_option (PTUP in_State_1);
static PTUP mw_argZ_parser_state_State_1_optionZ_optionZBang (PTUP in_Maybe_1, PTUP in_State_2);
static void mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop (PTUP in_ZPlusArgumentParser_1);
static VAL mw_argZ_parser_types_ZPlusArgumentParser_1_parser (PTUP in_ZPlusArgumentParser_1, PTUP *out_ZPlusArgumentParser_2);
static bool mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk (PTUP in_ArgpOptionType_1);
static void mw_argZ_parser_types_ArgumentParsingError_emitZThen (PTUP in_ArgumentParsingError_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static STR* mw_argZ_parser_types_ZPlusArgumentParser_1_usage (PTUP in_ZPlusArgumentParser_1, PTUP *out_ZPlusArgumentParser_2);
static void mw_argZ_parser_types_ArgpOption_usageZThen (PTUP in_ZPlusArgumentParser_1, STR* in_ZPlusStr_2, PTUP in_ArgpOption_3, PTUP *out_ZPlusArgumentParser_4, STR* *out_ZPlusStr_5);
static PTUP mw_argZ_parser_parse_checkZ_shortZ_flag (PTUP in_ZPlusArgumentParser_1, PTUP in_ArgpOption_2, STR* in_Str_3, PTUP *out_ZPlusArgumentParser_4, bool *out_Bool_6);
static PTUP mw_argZ_parser_parse_checkZ_longZ_flag (PTUP in_ZPlusArgumentParser_1, PTUP in_ArgpOption_2, STR* in_Str_3, PTUP *out_ZPlusArgumentParser_4, bool *out_Bool_6);
static PTUP mw_argZ_parser_parse_parseZ_flags (PTUP in_ZPlusArgumentParser_1, STR* in_Str_2, PTUP *out_ZPlusArgumentParser_3);
static PTUP mw_argZ_parser_parse_doZ_positionalZ_option (PTUP in_ZPlusArgumentParser_1, STR* in_Str_2, PTUP *out_ZPlusArgumentParser_3);
static PTUP mw_argZ_parser_parse_parseZ_args (VAL in_a_1, PTUP in_ArgumentParser_2);
static STR* mw_argZ_parser_parse_readZ_fromZ_argv (INT in_Int_1);
static PTUP mw_argZ_parser_parse_argvZ_toZ_str (void);
static PTUP mw_mirth_options_Options_Default (void);
static PTUP mw_mirth_options_parseZ_packageZ_def (STR* in_Str_1);
static PTUP mw_mirth_options_compilerZ_parseZ_args (PTUP in_ZPlusArgumentParser_1, PTUP in_Options_2, PTUP in_Maybe_3, PTUP in_ArgpOptionType_4, PTUP *out_ZPlusArgumentParser_5);
static PTUP mw_mirth_options_parseZ_optionsZBang (void);
static uint64_t mw_mirth_label_Label_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_label_Label_MakeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_label_Label_name (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_label_Label_ZToStr (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_label_Label_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static uint64_t mw_mirth_label_Label_Label (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_label_Label_isZ_resourceZ_labelZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3);
static VAL mw_std_map_KeyValuePair_2_pair (PTUP in_KeyValuePair_1, VAL *out_v_3);
static PTUP mw_std_map_Map_2_Nil (void);
static INT mw_std_map_Map_2_len (PTUP in_Map_1);
static PTUP mw_std_map_Map_2_insert (PTUP in_KeyValuePair_1, PTUP in_Map_2);
static uint64_t mw_mirth_var_Var_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_var_Var_MakeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP in_Type_3, PTUP in_Maybe_4, PTUP *out_ZPlusMirth_5);
static uint64_t mw_mirth_var_Var_name (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_var_Var_type (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_var_Var_autoZ_runZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_var_Var_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_var_Var_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static bool mw_mirth_var_Var_isZ_stackZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_var_Var_isZ_physicalZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_var_Var_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_var_Var_NewAutoRunZBang (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_var_Var_NewInCtx (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_Type_3, STR* in_Str_4, PTUP *out_ZPlusMirth_5, uint64_t *out_Var_7);
static PTUP mw_std_list_List_1_ZToCtx (PTUP in_List_1);
static PTUP mw_mirth_var_Ctx_ZToList (PTUP in_Ctx_1);
static PTUP mw_mirth_var_Ctx_L0 (void);
static PTUP mw_mirth_var_Ctx_new (PTUP in_Ctx_1, uint64_t in_Var_2);
static PTUP mw_mirth_var_Ctx_lookup (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP in_Ctx_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_var_Ctx_freshZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Name_5);
static PTUP mw_mirth_var_Ctx_freshZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Ctx_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Var_6);
static PTUP mw_mirth_var_Var_unifyZBang (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_var_Var_kind (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_var_Var_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6);
static PTUP mw_mirth_var_Var_sortZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_ZToSortZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_PrimType_ZToSortZAsk (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_External_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_external_External_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Name_3, INT in_Int_4, STR* in_Str_5, uint64_t in_Token_6, uint64_t in_Token_7, PTUP *out_ZPlusMirth_8);
static uint64_t mw_mirth_external_External_name (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_external_External_arity (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_external_External_symbol (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_External_head (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_External_sig (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_external_External_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_external_External_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_external_External_ctxZ_type (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static PTUP mw_mirth_external_External_type (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_external_External_ctype (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_ExternalBlock_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_external_ExternalBlock_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5);
static PTUP mw_mirth_external_ExternalBlock_parts (PTUP in_ZPlusMirth_1, uint64_t in_ExternalBlock_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_parseZ_externalZ_decl (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5, PTUP *out_Maybe_6);
static uint64_t mw_mirth_external_parseZ_externalZ_declZ_part (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_ExternalDeclPart_5);
static uint64_t mw_mirth_external_parseZ_externalZ_declZ_word (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, PTUP *out_ExternalDeclPart_6);
static uint64_t mw_mirth_external_elabZ_externalZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_external_elabZ_externalZ_blockZ_partZBang (PTUP in_ZPlusMirth_1, PTUP in_ExternalDeclPart_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_elabZ_externalZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, PTUP in_Maybe_4, uint64_t in_Token_5, PTUP *out_ZPlusMirth_6);
static PTUP mw_mirth_external_elabZ_externalZ_ctype (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_word_Word_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Name_3, INT in_Nat_4, uint64_t in_Token_5, uint64_t in_Token_6, PTUP in_Maybe_7, PTUP *out_ZPlusMirth_8);
static PTUP mw_mirth_word_Word_doc (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_name (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_word_Word_arity (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_head (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_body (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_word_Word_sigZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_word_Word_preferZ_inlineZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_word_Word_preferZ_inlineZAskZBang (PTUP in_ZPlusMirth_1, bool in_Bool_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_word_Word_inferringZ_typeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_word_Word_inferringZ_typeZAskZBang (PTUP in_ZPlusMirth_1, bool in_Bool_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_word_Word_wordZ_homeZ_index (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_word_Word_wordZ_homeZ_indexZBang (PTUP in_ZPlusMirth_1, INT in_Int_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4);
static STR* mw_mirth_word_Word_cname (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_word_Word_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_word_Word_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_word_Word_namespaceZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_word_Word_params (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_word_Word_arrow (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_NewZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, uint64_t in_Token_4, uint64_t in_Name_5, INT in_Nat_6, PTUP in_Maybe_7, PTUP *out_ZPlusMirth_8);
static PTUP mw_mirth_word_Word_ctxZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static PTUP mw_mirth_word_Word_type (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_word_Word_makeZ_inlineZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_word_Word_incrementZ_wordZ_homeZ_indexZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_typedef_TypeDef_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_typedef_TypeDef_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP in_Maybe_3, uint64_t in_Name_4, PTUP *out_ZPlusMirth_5);
static PTUP mw_mirth_typedef_TypeDef_headZAsk (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_typedef_TypeDef_name (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_typedef_TypeDef_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_typedef_TypeDef_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_typedef_TypeDef_namespace (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_typedef_TypeDef_target (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_typedef_TypeDef_params (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_typedef_TypeDef_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP in_Maybe_3, uint64_t in_Name_4, PTUP in_PropState_5, PTUP *out_ZPlusMirth_6);
static void mw_mirth_mirth_ZPlusMirth_defZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP in_Type_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5);
static uint64_t mw_mirth_typedef_parseZ_defZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, PTUP *out_List_6, uint64_t *out_Token_7, PTUP *out_Maybe_8);
static uint64_t mw_mirth_typedef_elabZ_defZ_typeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_package_Package_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_package_Package_MakeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_package_Package_name (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_package_Package_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Package_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_package_Package_path (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_package_Package_pathZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Package_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_package_Package_qname (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_package_Package_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Package_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static uint64_t mw_mirth_package_Package_Std (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_package_Package_pathZ_orZ_search (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_package_Package_tryZ_pathZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Package_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_package_Package_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_package_Package_NewZ_OrZ_PathZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_package_Package_FindZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_package_Package_FindZ_OrZ_NewZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_initZ_packagesZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_match_Match_thaw (PTUP in_Match_1, PTUP *out_ZPlusMatch_2);
static bool mw_mirth_match_Match_isZ_exhaustiveZAsk (PTUP in_ZPlusMirth_1, PTUP in_Match_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_match_Match_hasZ_defaultZ_caseZAsk (PTUP in_ZPlusMirth_1, PTUP in_Match_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_match_Match_scrutineeZ_dataZAsk (PTUP in_ZPlusMirth_1, PTUP in_Match_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_match_Match_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Match_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_match_ZPlusMatch_freezze (PTUP in_ZPlusMatch_1);
static void mw_mirth_match_ZPlusMatch_addZ_case (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusMatch_5);
static bool mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusMatch_5);
static bool mw_mirth_match_Case_coversZAsk (PTUP in_ZPlusMirth_1, PTUP in_Case_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_match_Case_isZ_defaultZ_caseZAsk (PTUP in_ZPlusMirth_1, PTUP in_Case_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_match_Case_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Case_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_match_Pattern_thaw (PTUP in_Pattern_1, PTUP *out_ZPlusPattern_2);
static PTUP mw_mirth_match_Pattern_dom (PTUP in_Pattern_1);
static PTUP mw_mirth_match_Pattern_singleZ_tagZAsk (PTUP in_Pattern_1);
static bool mw_mirth_match_Pattern_isZ_defaultZAsk (PTUP in_Pattern_1);
static bool mw_mirth_match_Pattern_coversZAsk (PTUP in_ZPlusMirth_1, PTUP in_Pattern_2, PTUP in_Pattern_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_match_ZPlusPattern_freezze (PTUP in_ZPlusPattern_1);
static void mw_mirth_match_ZPlusPattern_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, PTUP in_PatternOp_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusPattern_5);
static void mw_mirth_match_ZPlusPattern_underscoreZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusPattern_4);
static void mw_mirth_match_ZPlusPattern_tagZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusPattern_5);
static PTUP mw_mirth_match_PatternOp_ZDivTag (PTUP in_PatternOp_1);
static bool mw_mirth_match_PatternOp_ZDivUnderscore (PTUP in_PatternOp_1);
static void mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang (PTUP in_ZPlusLexer_1, uint64_t in_Token_2, PTUP *out_ZPlusLexer_3);
static PTUP mw_mirth_lexer_ZPlusLexer_stackZ_popZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_stackZ_drop (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static PTUP mw_mirth_lexer_ZPlusLexer_stackZ_peek (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_StartZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusLexer_5);
static uint64_t mw_mirth_lexer_ZPlusLexer_stopZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_lexer_ZPlusLexer_lexerZ_location (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_lexerZ_warningZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusLexer_5);
static void mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang (STR* in_Str_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusLexer_3);
static bool mw_mirth_lexer_ZPlusLexer_doneZAsk (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static int64_t mw_mirth_lexer_ZPlusLexer_peek (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_moveZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_newlineZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static uint64_t mw_mirth_lexer_ZPlusLexer_makeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP in_TokenValue_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusLexer_5);
static void mw_mirth_lexer_ZPlusLexer_emitZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP in_TokenValue_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusLexer_5);
static void mw_mirth_lexer_ZPlusLexer_nextZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_lcolonZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_lparenZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_lcurlyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_lsquareZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_rparenZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_rcurlyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_rsquareZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_stringZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_byteZBang (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, int64_t in_Byte_4, PTUP *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, PTUP *out_ZPlusLexer_7);
static void mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_escapeZ_byteZBang (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, int64_t in_Byte_4, PTUP *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, PTUP *out_ZPlusLexer_7);
static void mw_mirth_lexer_ZPlusLexer_skipZ_commentZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_skipZ_docZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static bool mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2);
static PTUP mw_mirth_lexer_ZPlusLexer_nameZ_token (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_popZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_popZ_rZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_rZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_getZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_setZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_lamZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static PTUP mw_mirth_lexer_ZPlusLexer_dnameZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6);
static bool mw_mirth_lexer_ZPlusLexer_isZ_docZ_startZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static bool mw_mirth_lexer_ZPlusLexer_isZ_floatZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static uint64_t mw_mirth_lexer_ZPlusLexer_floatZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, uint64_t in_Token_4, PTUP *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, PTUP *out_ZPlusLexer_7, PTUP *out_Maybe_9);
static PTUP mw_mirth_lexer_ZPlusLexer_intZ_tokenZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static PTUP mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, INT in_Offset_3, STR* *out_ZPlusStr_4, PTUP *out_ZPlusLexer_5);
static bool mw_mirth_lexer_ZPlusLexer_isZ_decZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static bool mw_mirth_lexer_ZPlusLexer_isZ_hexZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static bool mw_mirth_lexer_ZPlusLexer_isZ_octZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static INT mw_mirth_lexer_ZPlusLexer_intZ_sign (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4, INT *out_Int_6, INT *out_Offset_7);
static INT mw_mirth_lexer_ZPlusLexer_byteZ_signZ_valueZ_index (int64_t in_Byte_1, INT *out_Int_3, INT *out_Offset_4);
static PTUP mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, INT in_Int_3, INT in_Int_4, INT in_Offset_5, STR* *out_ZPlusStr_6, PTUP *out_ZPlusLexer_7);
static PTUP mw_mirth_lexer_ZPlusLexer_decZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static PTUP mw_mirth_lexer_ZPlusLexer_hexZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static PTUP mw_mirth_lexer_ZPlusLexer_octZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4);
static INT mw_mirth_lexer_ZPlusLexer_hexdigitZ_value (int64_t in_Byte_1);
static PTUP mw_mirth_lexer_IntSuffix_convert (INT in_Int_1, int64_t in_IntSuffix_2);
static uint64_t mw_mirth_mirth_ZPlusMirth_runZ_lexerZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_macro_Macro_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_macro_Macro_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Name_3, INT in_Int_4, PTUP in_MacroAction_5, PTUP *out_ZPlusMirth_6);
static PTUP mw_mirth_macro_Macro_headZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_macro_Macro_name (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_macro_Macro_arity (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_macro_Macro_action (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_macro_Macro_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_macro_Macro_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_macro_Macro_Prim (PTUP in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, PTUP in_MacroAction_4, PTUP *out_ZPlusMirth_5);
static PTUP mw_mirth_macro_MacroAction_declZAsk (PTUP in_MacroAction_1);
static PTUP mw_mirth_macro_MacroAction_arrowZAsk (PTUP in_MacroAction_1);
static bool mw_mirth_macro_MacroAction_callableZAsk (PTUP in_MacroAction_1);
static uint64_t mw_mirth_mirth_ZPlusMirth_moduleZ_statementZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_mirth_ZPlusMirth_importZ_statementZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang (STR* in_Str_1, INT in_Int_2, VAL in__3, PTUP in_ZPlusMirth_4, PTUP *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang (STR* in_Str_1, INT in_Int_2, VAL in__3, PTUP in_ZPlusMirth_4, PTUP *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_initZ_macrosZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static VAL mw_mirth_version_mirthZ_revision (void);
static void mw_mirth_elab_ZPlusTypeElab_rdrop (PTUP in_ZPlusTypeElab_1);
static void mw_mirth_elab_ZPlusTypeElab_StartZBang (uint64_t in_Token_1, PTUP *out_ZPlusTypeElab_2);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_baseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusTypeElab_6);
static PTUP mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Either_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5, PTUP *out_List_7);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Either_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Either_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Type_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusTypeElab_6, PTUP *out_Subst_8);
static void mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_appZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Type_3, uint64_t in_Token_4, PTUP in_Subst_5, PTUP in_List_6, PTUP *out_ZPlusMirth_7, PTUP *out_ZPlusTypeElab_8, PTUP *out_Type_9, uint64_t *out_Token_10, PTUP *out_Subst_11, PTUP *out_List_12);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4);
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4);
static void mw_mirth_elab_ZPlusResolveDef_rdrop (PTUP in_ZPlusResolveDef_1);
static void mw_mirth_elab_ZPlusResolveDef_BeginZBang (STR* in_Str_1, uint64_t in_Token_2, PTUP in_Either_3, bool in_Bool_4, bool in_Bool_5, PTUP in_ZPlusMirth_6, PTUP *out_ZPlusMirth_7, PTUP *out_ZPlusResolveDef_8);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_arity (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusResolveDef_4);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusResolveDef_4);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_roots (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusResolveDef_5);
static PTUP mw_mirth_elab_ZPlusResolveDef_endZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_QName_punningZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_def_Def_punningZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Tycon_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_name_QName_climbZ_upZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_name_QName_climbZ_upZ_dnameZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP in_DName_3, PTUP in_QName_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusResolveDef_6);
static PTUP mw_mirth_elab_elabZ_typeZ_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, uint64_t in_Token_4, PTUP *out_ZPlusMirth_5, uint64_t *out_Token_7);
static PTUP mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_ZPlusAB_abZ_tokenZAt (PTUP in_ZPlusAB_1, PTUP *out_ZPlusAB_2);
static void mw_mirth_elab_ZPlusAB_abZ_tokenZBang (PTUP in_ZPlusAB_1, uint64_t in_Token_2, PTUP *out_ZPlusAB_3);
static PTUP mw_mirth_elab_ZPlusAB_abZ_typeZAt (PTUP in_ZPlusAB_1, PTUP *out_ZPlusAB_2);
static void mw_mirth_elab_ZPlusAB_abZ_typeZBang (PTUP in_ZPlusAB_1, PTUP in_StackType_2, PTUP *out_ZPlusAB_3);
static PTUP mw_mirth_elab_ZPlusAB_abZ_ctxZAt (PTUP in_ZPlusAB_1, PTUP *out_ZPlusAB_2);
static PTUP mw_mirth_elab_ZPlusAB_abZ_homeZAt (PTUP in_ZPlusAB_1, PTUP *out_ZPlusAB_2);
static bool mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static bool mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZ_aux (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static bool mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconZ_toZ_topZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Tycon_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP in_Op_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_prepareZ_forZ_codippingZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_prepareZ_forZ_unificationZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_argZ_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Type_3, uint64_t in_Arg_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_PushValue_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_bufferZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Buffer_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_fieldZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Field_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_primZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, int64_t in_Prim_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, uint64_t in_Word_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_externalZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_External_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5, PTUP *out_List_6);
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_getZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_setZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_lamZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6, PTUP *out_List_7);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static uint64_t mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static PTUP mw_mirth_elab_ZPlusAB_elabZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static PTUP mw_mirth_elab_ZPlusAB_elabZ_wordZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5, uint64_t *out_Word_7);
static void mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_dnameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_DName_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static bool mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_resolveZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Either_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_failedZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_notZ_callableZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_macroZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Macro_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_primZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, int64_t in_Prim_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_assertZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_parseZ_ldipZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4, PTUP *out_Maybe_5, uint64_t *out_Token_6);
static PTUP mw_mirth_mirth_ZPlusMirth_parseZ_labelZ_names (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusAB_elabZ_ldipZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_ldropZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_abZ_rmethodZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, uint64_t in_Name_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP in_Def_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_matchZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, uint64_t in_Token_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static bool mw_mirth_elab_arityZ_compatibleZAsk (INT in_Int_1, INT in_Int_2);
static PTUP mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5, uint64_t *out_Token_6, PTUP *out_Home_7, uint64_t *out_Word_8);
static PTUP mw_mirth_elab_finalizzeZ_wordZ_arrow (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_elab_guessZ_initialZ_ctxZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Word_4, PTUP *out_ArrowType_6);
static PTUP mw_mirth_arrow_PushValue_type (PTUP in_ZPlusMirth_1, PTUP in_PushValue_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_opZ_freshZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP *out_ZPlusMirth_3, PTUP *out_OpSig_5);
static PTUP mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_tableZ_toZ_indexZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_tableZ_fromZ_indexZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_blockZ_sigZBang (uint64_t in_Block_1);
static PTUP mw_mirth_elab_elabZ_matchZ_sigZBang (PTUP in_Match_1);
static PTUP mw_mirth_elab_elabZ_lambdaZ_sigZBang (PTUP in_Lambda_1);
static PTUP mw_mirth_elab_elabZ_varZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_labelZ_popZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_arrowZ_homZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_StackType_3, PTUP in_StackType_4, uint64_t in_Token_5, PTUP in_Home_6, PTUP *out_ZPlusMirth_7);
static void mw_mirth_elab_elabZ_matchZ_casesZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusMatch_4);
static void mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusMatch_4);
static void mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusMatch_4);
static uint64_t mw_mirth_elab_elabZ_matchZ_caseZBang (uint64_t in_Token_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusMatch_3, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusMatch_6);
static void mw_mirth_elab_elabZ_patternZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusPattern_5);
static void mw_mirth_elab_elabZ_patternZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusPattern_5);
static PTUP mw_mirth_elab_elabZ_expandZ_tensorZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6, uint64_t *out_Token_7);
static uint64_t mw_mirth_elab_elabZ_lambdaZ_paramZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5);
static void mw_mirth_elab_elabZ_atomZ_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_matchZ_exhaustiveZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusMatch_4);
static uint64_t mw_mirth_elab_elabZ_moduleZBang (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_moduleZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_parseZ_moduleZ_headerZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_ModuleHeader_5);
static uint64_t mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Name_5);
static uint64_t mw_mirth_elab_elabZ_moduleZ_headerZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_elab_checkZ_moduleZ_path (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_declsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_declZ_orZ_declZ_blockZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_declZ_blockZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_skipZ_declZ_blockZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_declZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_loadZ_module (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Module_6);
static uint64_t mw_mirth_elab_parseZ_moduleZ_import (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_ModuleImport_5);
static void mw_mirth_elab_processZ_moduleZ_importZBang (PTUP in_ZPlusMirth_1, uint64_t in_ModuleImport_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_expectZ_tokenZ_arrow (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_defZ_missingZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_inlineZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_patchZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_maxZ_mirthZ_revisionZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_minZ_mirthZ_revisionZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_parseZ_def (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_SyntaxDef_5);
static uint64_t mw_mirth_elab_elabZ_defZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP in_Op_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_defZ_paramsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_defZ_bodyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static PTUP mw_mirth_elab_elabZ_entryZ_point (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_embedZ_strZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_elab_typecheckZ_everythingZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_elab_resolveZ_defZ_namespace (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Either_3, bool in_Bool_4, PTUP *out_ZPlusMirth_5);
static PTUP mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_DName_3, INT in_Int_4, PTUP *out_ZPlusMirth_5);
static bool mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_token_Token_isZ_defaultZ_paramZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_defZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_definingZ_namespaceZ_orZ_error (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_elab_elabZ_defZ_qnameZ_undefined (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_elab_elabZ_defZ_head (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_4, uint64_t *out_Name_5, INT *out_Nat_6, PTUP *out_PropState_7);
static uint64_t mw_mirth_buffer_Buffer_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_buffer_Buffer_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, INT in_Sizze_4, uint64_t in_Name_5, PTUP *out_ZPlusMirth_6);
static uint64_t mw_mirth_buffer_Buffer_head (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_buffer_Buffer_sizze (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_buffer_Buffer_name (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_buffer_Buffer_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_buffer_Buffer_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_buffer_parseZ_buffer (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, PTUP *out_Maybe_6, INT *out_Sizze_7);
static uint64_t mw_mirth_buffer_elabZ_bufferZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_StateOwner_ctx (PTUP in_ZPlusMirth_1, PTUP in_StateOwner_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_StateOwner_push (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_StateOwner_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_mirth_ZPlusMirth_parseZ_owner (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5);
static PTUP mw_mirth_mirth_ZPlusMirth_resolveZ_owner (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_table_Table_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, uint64_t in_Buffer_5, PTUP *out_ZPlusMirth_6);
static uint64_t mw_mirth_table_Table_head (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_name (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_numZ_buffer (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Table_inlineZ_fields (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_table_Table_inlineZ_fieldsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_table_Table_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Table_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Table_owner (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_allocZ_word (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Table_unifyZBang (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_table_Table_ZToType (uint64_t in_Table_1);
static PTUP mw_mirth_table_Table_ZToTycon (uint64_t in_Table_1);
static PTUP mw_mirth_table_Table_ZToNamespace (uint64_t in_Table_1);
static void mw_mirth_table_Table_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_table_Table_constructorZ_fields (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Field_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_table_Field_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, PTUP in_Maybe_4, uint64_t in_Name_5, PTUP *out_ZPlusMirth_6);
static uint64_t mw_mirth_table_Field_head (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_default (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Field_name (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_namespace (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_owner (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_indexZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_valueZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_basis (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_dom (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_cod (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_Field_type (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_table_Field_isZ_rawZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_table_tableZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, STR* in_Str_3, INT in_Int_4, PTUP *out_ZPlusMirth_5);
static uint64_t mw_mirth_table_tableZ_newZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, PTUP in_PropState_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7);
static uint64_t mw_mirth_table_parseZ_tableZ_decl (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5, uint64_t *out_Token_6, PTUP *out_Maybe_7, PTUP *out_List_8, PTUP *out_Maybe_9);
static uint64_t mw_mirth_table_elabZ_tableZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_parseZ_inlineZ_fieldZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_InlineFieldSyntax_5);
static void mw_mirth_table_elabZ_inlineZ_fieldZBang (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP in_InlineFieldSyntax_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Table_5);
static uint64_t mw_mirth_table_parseZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5, PTUP *out_Maybe_6, uint64_t *out_Token_7, uint64_t *out_Token_8, uint64_t *out_Token_9, PTUP *out_Maybe_10);
static uint64_t mw_mirth_table_elabZ_fieldZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_table_prepareZ_fieldZ_defsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Field_4);
static PTUP mw_mirth_tycon_Tycon_ZToNamespace (PTUP in_Tycon_1);
static PTUP mw_mirth_tycon_Tycon_tableZAsk (PTUP in_Tycon_1);
static uint64_t mw_mirth_tycon_Tycon_name (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_tycon_Tycon_qnameZ_hard (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_tycon_Tycon_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Tycon_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static bool mw_mirth_tycon_Tycon_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP in_Tycon_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_tycon_Tycon_fullZ_typeZ_fresh (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_tycon_Tycon_canZ_ownZ_stateZAsk (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_data_Data_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_data_Data_docZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Data_headZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Data_headZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_data_Data_name (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Data_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_data_Data_arity (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Data_arityZBang (PTUP in_ZPlusMirth_1, INT in_Int_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Data_tags (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Data_tagsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_data_Data_lastZ_tagZ_value (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Data_lastZ_tagZ_valueZBang (PTUP in_ZPlusMirth_1, INT in_Int_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_data_Data_isZ_resourceZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_unitZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_data_Data_isZ_enumZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_semiZ_transparentZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_params (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_ctypeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_data_Data_isZ_unitZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Data_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_data_Data_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static INT mw_mirth_data_Data_numZ_tags (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Data_addZ_tagZBang (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_singleZ_tagZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_data_Data_isZ_valueZ_typeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_appliedZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_fullZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_data_Data_canZ_ownZ_stateZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_unifyZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Data_ctype1ZAsk (PTUP in_ZPlusMirth_1, PTUP in_CType_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Data_ZToTycon (uint64_t in_Data_1);
static PTUP mw_mirth_data_Data_ZToNamespace (uint64_t in_Data_1);
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_List_3, uint64_t in_Data_4, PTUP in_List_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7);
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, PTUP in_List_4, uint64_t in_Tag_5, PTUP *out_ZPlusMirth_6);
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Data_3, STR* in_Str_4, uint64_t in_Tag_5, STR* in_Str_6, PTUP *out_ZPlusMirth_7);
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Data_3, STR* in_Str_4, uint64_t in_Tag_5, STR* in_Str_6, PTUP *out_ZPlusMirth_7);
static void mw_mirth_mirth_ZPlusMirth_initZ_dataZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_mirth_ZPlusMirth_dataZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Name_3, INT in_Int_4, PTUP *out_ZPlusMirth_5);
static PTUP mw_mirth_mirth_ZPlusMirth_dataZ_wordZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, STR* in_Str_3, INT in_Nat_4, PTUP *out_ZPlusMirth_5);
static uint64_t mw_mirth_data_Tag_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_data_Tag_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Data_3, uint64_t in_Name_4, INT in_Int_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7);
static void mw_mirth_data_Tag_docZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_data_Tag_data (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_dataZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_data_Tag_name (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_data_Tag_value (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_valueZBang (PTUP in_ZPlusMirth_1, INT in_Int_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Tag_sigZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_sigZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Tag_labelZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_labelZ_inputsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_data_Tag_numZ_labelZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_typeZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_numZ_typeZ_inputsZBang (PTUP in_ZPlusMirth_1, INT in_Nat_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_data_Tag_numZ_resourceZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_numZ_resourceZ_inputsZBang (PTUP in_ZPlusMirth_1, INT in_Nat_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Tag_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_inputsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_data_Tag_untagZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Tag_outputZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_arity (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Tag_qname (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Tag_ctxZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static PTUP mw_mirth_data_Tag_ctx (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Tag_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_data_Tag_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_totalZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Tag_semiZ_transparentZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_data_Tag_outputsZ_resourceZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_data_Tag_preferZ_inlineZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_data_DataPartial_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_DataPartial_2, PTUP in_DataPartial_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_DataPartial_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_DataPartial_2, PTUP in_DataPartial_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_data_DataPartial_isZ_semiZ_transparentZAsk (PTUP in_ZPlusMirth_1, PTUP in_DataPartial_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_data_parseZ_data (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_SyntaxData_5);
static uint64_t mw_mirth_data_parseZ_dataZ_header (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_SyntaxDataHeader_5);
static uint64_t mw_mirth_data_parseZ_dataZ_tags (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5);
static bool mw_mirth_data_dataZ_tagsZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_data_parseZ_dataZ_tag (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_SyntaxDataTag_5);
static uint64_t mw_mirth_data_parseZ_struct (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_SyntaxData_5);
static uint64_t mw_mirth_data_parseZ_dataZ_declsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5);
static uint64_t mw_mirth_data_parseZ_structZ_tag (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_SyntaxDataHeader_3, PTUP *out_ZPlusMirth_4, uint64_t *out_SyntaxDataHeader_6, PTUP *out_SyntaxDataTag_7);
static uint64_t mw_mirth_data_elabZ_dataZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_data_elabZ_structZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_4);
static void mw_mirth_data_elabZ_dataZ_auxZBang (PTUP in_ZPlusMirth_1, PTUP in_SyntaxData_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_data_elabZ_dataZ_headerZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_SyntaxDataHeader_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_elabZ_dataZ_paramsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_data_elabZ_dataZ_tagZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP in_SyntaxDataTag_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_data_elabZ_dataZ_declsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_data_dataZ_wordZ_newZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, STR* in_Str_3, INT in_Nat_4, PTUP in_Maybe_5, PTUP *out_ZPlusMirth_6);
static void mw_mirth_data_elabZ_dataZ_doneZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Tag_projectZ_inputZ_label (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_Tag_projectZ_tagZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_data_dataZ_getZ_labelZ_type (PTUP in_ZPlusMirth_1, PTUP in_TagField_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_dataZ_setZ_labelZ_type (PTUP in_ZPlusMirth_1, PTUP in_TagField_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_data_createZ_projectorsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Arrow_ctxZ_type (PTUP in_Arrow_1, PTUP *out_ArrowType_3);
static PTUP mw_mirth_arrow_Arrow_type (PTUP in_Arrow_1);
static PTUP mw_mirth_arrow_Arrow_toZ_runZ_var (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Arrow_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Atom_toZ_runZ_var (PTUP in_ZPlusMirth_1, PTUP in_Atom_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Atom_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Atom_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Arg_freeZ_vars (PTUP in_ZPlusMirth_1, uint64_t in_Arg_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_arrow_PushValue_ZEqual (PTUP in_PushValue_1, PTUP in_PushValue_2);
static PTUP mw_mirth_arrow_Op_toZ_runZ_var (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Op_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_arrow_Home_incrementZ_indexZBang (PTUP in_ZPlusMirth_1, PTUP in_Home_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Lambda_cod (PTUP in_Lambda_1);
static PTUP mw_mirth_arrow_Lambda_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Lambda_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_arrow_Block_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_arrow_Block_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, uint64_t in_Token_3, PTUP in_Home_4, PTUP in_StackType_5, PTUP in_StackType_6, PTUP *out_ZPlusMirth_7);
static PTUP mw_mirth_arrow_Block_ctx (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_arrow_Block_token (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Block_home (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Block_dom (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Block_cod (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_arrow_Block_homeZ_index (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_arrow_Block_cname (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Block_freeZ_vars (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_arrow_Block_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Block_type (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Block_arrow (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_arrow_Block_typecheckZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Block_inferZ_typeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_Block_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_arrow_Block_toZ_runZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_arrow_blockZ_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Type_NewInCtx (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6);
static PTUP mw_mirth_type_Type_FreshZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_type_Type_TYPE (void);
static PTUP mw_mirth_type_Type_STACK (void);
static PTUP mw_mirth_type_Type_RESOURCE (void);
static PTUP mw_mirth_type_Type_Bool (void);
static PTUP mw_mirth_type_Type_Int (void);
static PTUP mw_mirth_type_Type_Nat (void);
static PTUP mw_mirth_type_Type_U8 (void);
static PTUP mw_mirth_type_Type_U16 (void);
static PTUP mw_mirth_type_Type_U32 (void);
static PTUP mw_mirth_type_Type_U64 (void);
static PTUP mw_mirth_type_Type_I8 (void);
static PTUP mw_mirth_type_Type_I16 (void);
static PTUP mw_mirth_type_Type_I32 (void);
static PTUP mw_mirth_type_Type_I64 (void);
static PTUP mw_mirth_type_Type_F32 (void);
static PTUP mw_mirth_type_Type_F64 (void);
static PTUP mw_mirth_type_Type_Ptr (void);
static PTUP mw_mirth_type_Type_Str (void);
static PTUP mw_mirth_type_Type_World (void);
static PTUP mw_mirth_type_Type_Debug (void);
static PTUP mw_mirth_type_Type_Array (PTUP in_Type_1);
static PTUP mw_mirth_type_Type_Unit (void);
static PTUP mw_mirth_type_Type_tyconZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_Type_errorZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_arrowZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_primZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_Type_unitZ_stackZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_Type_metaZEqual (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_Type_isZ_physicalZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_expand (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_unifyZ_failedZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Type_unifyZ_simpleZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Type_unifyZ_auxZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Type_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Type_unifyZ_blockZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Type_unify2ZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP in_Type_4, PTUP in_Type_5, PTUP *out_ZPlusMirth_6, PTUP *out_Type_8);
static bool mw_mirth_type_Type_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_Type_hasZ_meta2ZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Type_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5);
static bool mw_mirth_type_Type_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_Type_hasZ_var2ZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Type_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5);
static void mw_mirth_type_Type_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_type_Type_appZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_splitZ_args (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5);
static void mw_mirth_type_Type_appZ_typeZThenZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Type_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5, STR* *out_ZPlusStr_6);
static PTUP mw_mirth_type_Type_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6);
static PTUP mw_mirth_type_Type_freshen2 (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Type_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5, PTUP *out_Type_7, PTUP *out_Type_8);
static PTUP mw_mirth_type_Type_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6);
static PTUP mw_mirth_type_Type_exceptZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5);
static PTUP mw_mirth_type_Type_ctype (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_ctypeZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_ctype1ZAsk (PTUP in_ZPlusMirth_1, PTUP in_CType_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Value_tyconZAsk (PTUP in_Value_1);
static PTUP mw_mirth_type_Value_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Value_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Value_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Value_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_Value_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_Value_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_Value_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Value_type (PTUP in_ZPlusMirth_1, PTUP in_Value_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Value_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6);
static bool mw_mirth_type_PrimType_isZ_resourceZAsk (int64_t in_PrimType_1);
static bool mw_mirth_type_PrimType_isZ_physicalZAsk (int64_t in_PrimType_1);
static PTUP mw_mirth_type_PrimType_tyconZ_qname (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_type_PrimType_ZToInt (int64_t in_PrimType_1);
static bool mw_mirth_type_PrimType_ZEqual (int64_t in_PrimType_1, int64_t in_PrimType_2);
static PTUP mw_mirth_type_PrimType_unifyZBang (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, int64_t in_PrimType_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_type_PrimType_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, int64_t in_PrimType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_type_PrimType_ctypeZAsk (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_PrimType_canZ_ownZ_stateZAsk (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZ_aliasZBang (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, STR* in_Str_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_initZ_typesZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_type_TZPlus (PTUP in_StackType_1, PTUP in_Resource_2);
static PTUP mw_mirth_type_TZMul (PTUP in_StackType_1, PTUP in_Type_2);
static PTUP mw_mirth_type_TZMulZPlus (PTUP in_StackType_1, PTUP in_Either_2);
static PTUP mw_mirth_type_TZ_ZTo (PTUP in_StackType_1, PTUP in_StackType_2);
static PTUP mw_mirth_type_T0 (void);
static PTUP mw_mirth_type_T1 (PTUP in_Type_1);
static PTUP mw_mirth_type_T2 (PTUP in_Type_1, PTUP in_Type_2);
static PTUP mw_mirth_type_T3 (PTUP in_Type_1, PTUP in_Type_2, PTUP in_Type_3);
static PTUP mw_mirth_type_T4 (PTUP in_Type_1, PTUP in_Type_2, PTUP in_Type_3, PTUP in_Type_4);
static PTUP mw_mirth_type_T5 (PTUP in_Type_1, PTUP in_Type_2, PTUP in_Type_3, PTUP in_Type_4, PTUP in_Type_5);
static PTUP mw_mirth_type_Kind_TYPE (void);
static PTUP mw_mirth_type_Kind_STACK (void);
static PTUP mw_mirth_type_Kind_RESOURCE (void);
static PTUP mw_mirth_type_Kind_ZToType (PTUP in_Kind_1);
static PTUP mw_mirth_type_Type_ZToKind (PTUP in_Type_1);
static uint64_t mw_mirth_type_MetaVar_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_type_MetaVar_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Kind_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_MetaVar_kind (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_MetaVar_typeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_type_MetaVar_typeZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_type_MetaVar_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Kind_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_MetaVar_unitZ_stackZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_MetaVar_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_MetaVar_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_type_MetaVar_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_type_MetaVar_expand (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_MetaVar_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_MetaVar_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_MetaVar_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6);
static PTUP mw_mirth_type_MetaVar_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6);
static PTUP mw_mirth_type_typeZ_holeZ_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Resource_NewInCtx (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_Resource_6);
static PTUP mw_mirth_type_Resource_FreshZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_type_Resource_World (void);
static PTUP mw_mirth_type_Resource_Debug (void);
static PTUP mw_mirth_type_Resource_ZToType (PTUP in_Resource_1);
static PTUP mw_mirth_type_Type_ZToResource (PTUP in_Type_1);
static bool mw_mirth_type_Resource_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_Resource_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Resource_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Resource_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_type_Resource_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_type_Resource_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_Resource_6);
static PTUP mw_mirth_type_Resource_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_Resource_6);
static PTUP mw_mirth_type_Resource_tyconZAsk (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_Resource_canZ_ownZ_stateZAsk (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Resource_exceptZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP in_Resource_4, PTUP *out_ZPlusMirth_5);
static PTUP mw_mirth_type_Resource_ctype (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Resource_ctypeZAsk (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_NewInCtx (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_StackType_6);
static PTUP mw_mirth_type_StackType_FreshZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_type_Type_ZToStackType (PTUP in_Type_1);
static PTUP mw_mirth_type_StackType_ZToType (PTUP in_StackType_1);
static PTUP mw_mirth_type_StackType_expand (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_unitZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_labelZ_names (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_split4 (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5, PTUP *out_List_6, PTUP *out_List_7);
static PTUP mw_mirth_type_StackType_base (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_labelZ_topZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackType_topZ_typeZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_topZ_tyconZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_topZ_resourceZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_topZ_resourceZ_tycons (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_topZ_namespaces (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_StackType_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackType_unifyZ_failedZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackType_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackType_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackType_forceZ_consZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_forceZ_withZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_type_StackType_domZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_type_StackType_codZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_type_StackType_stackZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_type_StackType_semifreshen (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_StackType_6);
static PTUP mw_mirth_type_StackType_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_StackType_6);
static PTUP mw_mirth_type_StackType_freshenZ_aux (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_Subst_3, PTUP in_StackType_4, PTUP *out_ZPlusMirth_5, PTUP *out_Subst_7, PTUP *out_StackType_8);
static PTUP mw_mirth_type_StackType_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_StackType_6);
static PTUP mw_mirth_type_StackType_linearZ_baseZ_metaZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_linearZ_baseZ_varZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_splitZ_parts (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5);
static PTUP mw_mirth_type_StackType_parts (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_ctype (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_countZ_parts (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackTypeCounts_Nil (void);
static PTUP mw_mirth_type_StackTypeCounts_addZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackTypeCounts_addZ_resourceZBang (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackTypeCounts_addZ_labelZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_type_StackTypeCounts_label (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_StackTypeCounts_difference (PTUP in_ZPlusMirth_1, PTUP in_StackTypeCounts_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_StackTypeBase_unitZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackTypeBase_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_StackTypeBase_baseZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_StackTypeBase_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_type_StackTypeBase_ctypeZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackTypeBase_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_StackTypeBase_isZ_fixedZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackTypeBase_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackTypePart_cons (PTUP in_StackType_1, PTUP in_StackTypePart_2);
static PTUP mw_mirth_type_StackTypePart_typeZDivresource (PTUP in_StackTypePart_1);
static PTUP mw_mirth_type_StackTypePart_label (PTUP in_StackTypePart_1);
static PTUP mw_mirth_type_StackTypePart_ctype (PTUP in_ZPlusMirth_1, PTUP in_StackTypePart_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_ArrowType_FreshZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_type_ArrowType_invert (PTUP in_ArrowType_1);
static PTUP mw_mirth_type_ArrowType_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_ArrowType_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_ArrowType_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_ArrowType_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_type_ArrowType_sigZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_type_ArrowType_semifreshenZ_sig (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_ArrowType_semifreshenZ_aux (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_ArrowType_freshenZ_sig (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6);
static PTUP mw_mirth_type_ArrowType_freshenZ_sigZ_aux (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6);
static PTUP mw_mirth_type_ArrowType_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6);
static PTUP mw_mirth_type_ArrowType_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6);
static PTUP mw_mirth_type_ArrowType_rigidifyZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6);
static PTUP mw_mirth_type_ArrowType_ctype (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Subst_Nil (void);
static PTUP mw_mirth_type_Subst_cons (PTUP in_Type_1, uint64_t in_Var_2, PTUP in_Subst_3);
static PTUP mw_mirth_type_Subst_lookupZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Subst_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_type_Subst_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Subst_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Subst_getZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Subst_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Type_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5);
static PTUP mw_mirth_type_Value_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5);
static PTUP mw_mirth_type_StackType_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5);
static PTUP mw_mirth_type_ArrowType_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5);
static PTUP mw_mirth_type_Resource_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5);
static STR* mw_mirth_type_CType_cname (PTUP in_CType_1);
static PTUP mw_mirth_type_CType_qualify (STR* in_Str_1, PTUP in_CType_2);
static PTUP mw_mirth_type_CType_const (PTUP in_CType_1);
static PTUP mw_mirth_type_CType_restrict (PTUP in_CType_1);
static PTUP mw_mirth_type_CType_volatile (PTUP in_CType_1);
static PTUP mw_mirth_type_CType_ptr (PTUP in_CType_1);
static bool mw_mirth_type_CType_phantomZAsk (PTUP in_CType_1);
static PTUP mw_mirth_type_CTypeStackPart_ctype (PTUP in_CTypeStackPart_1);
static PTUP mw_mirth_type_CTypeStackPart_labelZAsk (PTUP in_CTypeStackPart_1);
static int64_t mw_mirth_prim_Prim_Min (void);
static int64_t mw_mirth_prim_Prim_Max (void);
static INT mw_mirth_prim_Prim_ZToInt (int64_t in_Prim_1);
static bool mw_mirth_prim_Prim_ZEqual (int64_t in_Prim_1, int64_t in_Prim_2);
static uint64_t mw_mirth_prim_Prim_name (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_prim_Prim_qname (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_prim_Prim_namespace (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_prim_Prim_registerZBang (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_prim_Prim_arity (int64_t in_Prim_1);
static STR* mw_mirth_prim_Prim_str (int64_t in_Prim_1);
static STR* mw_mirth_prim_Prim_strZ_arity (int64_t in_Prim_1, INT *out_Int_3);
static PTUP mw_mirth_prim_Prim_ctxZ_type (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static PTUP mw_mirth_prim_Prim_type (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_prim_Prim_computeZ_ctxZ_type (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static void mw_mirth_mirth_ZPlusMirth_initZ_primsZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static bool mw_mirth_token_TokenValue_noneZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_commaZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_lparenZ_openZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_lsquareZ_openZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_lcurlyZ_openZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_lcolonZ_openZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_lparenZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_rparenZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_lsquareZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_rsquareZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_lcurlyZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_rcurlyZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_lcolonZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_intZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_strZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_nameZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_dnameZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_nameZDivdnameZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_lastZ_nameZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_argZ_endZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_leftZ_enclosureZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_rightZ_enclosureZAsk (PTUP in_TokenValue_1);
static bool mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk (PTUP in_TokenValue_1);
static PTUP mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_sigZ_dashesZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_vdashZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_arrowZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_patZ_underscoreZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_moduleZ_headerZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_moduleZ_importZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_nameZDivdnameZ_lastZ_name (PTUP in_Either_1);
static PTUP mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk (PTUP in_Either_1);
static uint64_t mw_mirth_token_Token_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_token_Token_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, uint64_t in_Module_3, INT in_Row_4, INT in_Col_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7);
static uint64_t mw_mirth_token_Token_fromZ_index (PTUP in_ZPlusMirth_1, uint64_t in_U64_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_succ (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_pred (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_value (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_token_Token_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_token_Token_module (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_token_Token_moduleZBang (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_token_Token_row (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_token_Token_rowZBang (PTUP in_ZPlusMirth_1, INT in_Row_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4);
static INT mw_mirth_token_Token_col (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_token_Token_colZBang (PTUP in_ZPlusMirth_1, INT in_Col_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_token_Token_doc (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_noneZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_commaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_lcolonZ_openZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_lparenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_rparenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_lsquareZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_rsquareZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_lcurlyZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_rcurlyZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_lcolonZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_intZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_strZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_dnameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_nameZDivdnameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_lastZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_argZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_leftZ_enclosureZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_rightZ_enclosureZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_sigZ_typeZ_conZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_sigZ_typeZ_holeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_sigZ_typeZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_sigZ_paramZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_sigZ_stackZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_sigZ_resourceZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_sigZ_resourceZ_conZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_sigZ_dashesZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_vdashZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_arrowZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_patZ_underscoreZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_moduleZ_headerZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_moduleZ_importZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_canZ_takeZ_argsZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_allocZ_noneZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_token_Token_location (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_token_Token_locationZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_token_Token_next (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_prev (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_nextZ_argZ_end (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_argsZ_start (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_sigZ_labelZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_patternZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_token_Token_argsZ_0 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_argsZ_1 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_argsZ_2 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5);
static uint64_t mw_mirth_token_Token_argsZ_3 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6);
static uint64_t mw_mirth_token_Token_argsZ_4 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, uint64_t *out_Token_7);
static INT mw_mirth_token_Token_numZ_args (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_args (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_argsZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_argsZPlus (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_moduleZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_runZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_toZ_runZ_end (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_runZ_tokens (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_token_Token_runZ_length (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_runZ_arrowZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_sigZ_stackZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_sigZ_nextZ_stackZ_end (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_sigZ_hasZ_vdashZ_orZ_dashesZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_token_Token_patZ_tokens (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_cloneZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_alias_Alias_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_alias_Alias_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, INT in_Int_5, PTUP *out_ZPlusMirth_6);
static uint64_t mw_mirth_alias_Alias_head (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_alias_Alias_name (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_alias_Alias_arity (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_alias_Alias_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_alias_Alias_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_alias_Alias_namespace (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_alias_Alias_target (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_alias_Alias_registerZBang (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_alias_parseZ_alias (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, PTUP *out_Either_7, PTUP *out_Maybe_8);
static uint64_t mw_mirth_alias_elabZ_aliasZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_def_Def_packageZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_moduleZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_aliasZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_dataZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_tableZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_typedefZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_tagZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_primZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_wordZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_bufferZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_externalZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_fieldZAsk (PTUP in_Def_1);
static PTUP mw_mirth_def_Def_macroZAsk (PTUP in_Def_1);
static bool mw_mirth_def_Def_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_def_Def_typecheckZBang (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_def_Def_callableZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_def_Def_definesZ_aZ_typeZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_def_Def_sameZ_resolvedZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_def_Def_resolve (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_def_Def_name (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static INT mw_mirth_def_Def_arity (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_def_Def_qnameZ_soft (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_def_Def_qnameZ_hard (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_def_Def_asZ_namespaceZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_def_Def_asZ_defZ_namespaceZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_def_Def_register (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_def_Def_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static uint64_t mw_mirth_name_Name_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_name_Name_MakeZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_name_Name_fromZ_index (PTUP in_ZPlusMirth_1, uint64_t in_U64_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_name_Name_str (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_name_Name_defs (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_name_Name_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_name_Name_label (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_name_Name_mangled (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_name_Name_ZToStr (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_name_Name_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_Name_mangledZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static uint64_t mw_mirth_name_Name_Name (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_name_ZPlusNameHashMap_New (ARR* *out_ZPlusNameHashMap_1);
static void mw_mirth_name_ZPlusNameHashMap_rdrop (ARR* in_ZPlusNameHashMap_1);
static INT mw_mirth_name_ZPlusNameHashMap_hashmapZ_index (ARR* in_ZPlusNameHashMap_1, uint64_t in_Hash_2, ARR* *out_ZPlusNameHashMap_3);
static uint64_t mw_mirth_name_ZPlusNameHashMap_nameZ_indexZAt (ARR* in_ZPlusNameHashMap_1, uint64_t in_Hash_2, ARR* *out_ZPlusNameHashMap_3);
static void mw_mirth_name_ZPlusNameHashMap_nameZ_indexZBang (ARR* in_ZPlusNameHashMap_1, uint64_t in_U64_2, uint64_t in_Hash_3, ARR* *out_ZPlusNameHashMap_4);
static uint64_t mw_mirth_name_Hash_next (uint64_t in_Hash_1);
static PTUP mw_mirth_name_Hash_nameZAt (PTUP in_ZPlusMirth_1, uint64_t in_Hash_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_name_Hash_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Hash_3, PTUP *out_ZPlusMirth_4);
static STR* mw_mirth_name_Hash_keepZ_goingZAsk (PTUP in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Hash_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Hash_6, bool *out_Bool_7);
static uint64_t mw_mirth_name_Hash_Digest (STR* in_Str_1);
static int64_t mw_mirth_name_Name_head (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static int64_t mw_mirth_name_Name_tailZ_head (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_canZ_beZ_relativeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_typeZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_typeZ_con (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_isZ_typeZ_hole (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_isZ_underscore (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_stackZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_resourceZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_resourceZ_con (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_rawZ_fieldZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_fieldZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_constructor (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_Namespace_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_Namespace_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_name_Namespace_qname (PTUP in_ZPlusMirth_1, PTUP in_Namespace_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_name_Namespace_moduleZAsk (PTUP in_ZPlusMirth_1, PTUP in_Namespace_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_name_Namespace_Prim (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_name_Namespace_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_Namespace_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_Namespace_mangledZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_name_QName_Mk (PTUP in_Namespace_1, uint64_t in_Name_2, INT in_Int_3);
static bool mw_mirth_name_QName_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_name_QName_defZ_hardZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_QName_definedZ_hardZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_name_QName_defZ_softZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_QName_definedZ_softZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_name_QName_undefinedZ_softZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_name_QName_Prim (PTUP in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_name_QName_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_QName_nameZDivarityZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_QName_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static STR* mw_mirth_name_QName_mangled (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_name_QName_mangledZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static STR* mw_mirth_name_QName_toZ_moduleZ_path (PTUP in_QName_1, PTUP in_ZPlusMirth_2, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_name_DName_rootZAsk (PTUP in_DName_1);
static PTUP mw_mirth_name_DName_parts (PTUP in_DName_1);
static uint64_t mw_mirth_name_DName_lastZ_name (PTUP in_DName_1);
static PTUP mw_mirth_name_DName_penultimateZ_nameZAsk (PTUP in_DName_1);
static bool mw_mirth_name_DName_isZ_relativeZAsk (PTUP in_DName_1);
static uint64_t mw_mirth_module_Module_Nil (void);
static uint64_t mw_mirth_module_Module_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_module_Module_docZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_module_Module_package (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_module_Module_packageZBang (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_module_Module_name (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_module_Module_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static STR* mw_mirth_module_Module_path (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_module_Module_pathZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_module_Module_start (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_module_Module_startZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_mirth_module_Module_head (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_module_Module_headZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_module_Module_endZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_module_Module_imports (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_module_Module_importsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_module_Module_qname (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_module_Module_Prim (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static uint64_t mw_mirth_module_Module_NewZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_module_Module_sourceZ_path (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_module_Module_visible (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_initZ_modulesZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static INT mw_mirth_location_Row_ZToInt (INT in_Row_1);
static void mw_mirth_location_Row_intZThen (STR* in_ZPlusStr_1, INT in_Row_2, STR* *out_ZPlusStr_3);
static INT mw_mirth_location_Row_natZPlus (INT in_Nat_1, INT in_Row_2);
static INT mw_mirth_location_Col_ZToInt (INT in_Col_1);
static void mw_mirth_location_Col_intZThen (STR* in_ZPlusStr_1, INT in_Col_2, STR* *out_ZPlusStr_3);
static INT mw_mirth_location_Col_natZPlus (INT in_Nat_1, INT in_Col_2);
static void mw_mirth_location_Location_emitZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Location_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_mirth_Builtin_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_InitZBang (PTUP *out_ZPlusMirth_1);
static void mw_mirth_mirth_ZPlusMirth_builtinZBang (PTUP in_ZPlusMirth_1, PTUP in_Builtin_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_mirth_ZPlusMirth_builtin (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_quitZBang (PTUP in_ZPlusMirth_1);
static PTUP mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3, int64_t in_Severity_4, PTUP *out_ZPlusMirth_5);
static INT mw_mirth_mirth_ZPlusMirth_incrementZ_mainZ_homeZ_indexZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3);
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3);
static void mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_mirth_ZPlusMirth_errorZ_location (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_infoZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_errorZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2);
static void mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang (PTUP in_IOError_1, PTUP in_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang (PTUP in_ZPlusMirth_1);
static void mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static PTUP mw_mirth_mirth_ZPlusMirth_popZ_diagnosticsZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2);
static void mw_mirth_mirth_Diagnostic_diagnosticZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Diagnostic_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static STR* mw_mirth_mirth_Severity_ZToStr (int64_t in_Severity_1);
static PTUP mw_mirth_mirth_Prop_1_readyZAsk (PTUP in_Prop_1);
static PTUP mw_mirth_mirth_Prop_1_compute (PTUP in_ZPlusMirth_1, PTUP in_Prop_2, PTUP *out_ZPlusMirth_3, PTUP *out_Prop_5);
static PTUP mw_mirth_mirth_Prop_1_tryZ_forceZBang (PTUP in_ZPlusMirth_1, void* in_MutProp_2, PTUP *out_ZPlusMirth_3);
static VAL mw_mirth_mirth_Prop_1_forceZBang (PTUP in_ZPlusMirth_1, void* in_MutProp_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_mirth_PropState_1_readyZAsk (PTUP in_PropState_1);
static PTUP mw_mirth_mirth_PropState_1_compute (PTUP in_ZPlusMirth_1, PTUP in_PropState_2, PTUP *out_ZPlusMirth_3, PTUP *out_PropState_5);
static void mw_mirth_mirth_PropLabel_traceZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_mirth_PropLabel_prop (PTUP in_ZPlusMirth_1, VAL in_b_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_mirth_PropLabel_prop2 (PTUP in_ZPlusMirth_1, VAL in_b1_2, VAL in_b2_3, PTUP in_PropLabel_4, PTUP *out_ZPlusMirth_5);
static void mw_mirth_token_Token_locationZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static PTUP mw_mirth_specializzer_runZ_specializzerZBang (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_specializzer_ZPlusSPCheck_InitZBang (PTUP *out_ZPlusSPCheck_1);
static void mw_mirth_specializzer_ZPlusSPCheck_quitZBang (PTUP in_ZPlusSPCheck_1);
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_transitiveZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusSPCheck_4);
static void mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_SPCheckItem_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Atom_3, int64_t in_Prim_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusSPCheck_6);
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Atom_3, uint64_t in_Word_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusSPCheck_6);
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Match_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Lambda_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_itemZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_SPCheckItem_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static bool mw_mirth_specializzer_ZPlusSPCheck_checkedZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_SPCheckItem_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static bool mw_mirth_arrow_Arg_similar (PTUP in_ZPlusMirth_1, uint64_t in_Arg_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_arrow_Block_similar (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_arrow_Arrow_similar (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_arrow_Atom_similar (PTUP in_ZPlusMirth_1, PTUP in_Atom_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_arrow_Op_similar (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP in_Op_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_data_TagField_similar (PTUP in_ZPlusMirth_1, PTUP in_TagField_2, PTUP in_TagField_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_specializzer_SPKey_similar (PTUP in_ZPlusMirth_1, PTUP in_SPKey_2, PTUP in_SPKey_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_word_Word_spZ_synthed (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3);
static uint64_t mw_mirth_specializzer_specializzeZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_SPKey_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static uint64_t mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_List_3, PTUP in_Op_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusSPSynth_6);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static uint64_t mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_Match_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_Lambda_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_synthZ_specializzedZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_SPKey_3, uint64_t in_Word_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static INT mw_std_set_SETz_INITIALz_SIZZE (void);
static void mw_std_set_ZPlusSet_Empty (ARR* *out_ZPlusSet_1);
static void mw_std_set_ZPlusSet_rdrop (ARR* in_ZPlusSet_1);
static INT mw_std_set_ZPlusSet_offsetZ_mask (INT in_Nat_1, ARR* in_ZPlusSet_2, uint8_t *out_U8_4, ARR* *out_ZPlusSet_5);
static bool mw_std_set_ZPlusSet_memberZAsk (INT in_Nat_1, ARR* in_ZPlusSet_2, ARR* *out_ZPlusSet_4);
static void mw_std_set_ZPlusSet_insertZBang (INT in_Nat_1, ARR* in_ZPlusSet_2, ARR* *out_ZPlusSet_3);
static INT mw_mirth_need_Need_ZToNat (PTUP in_ZPlusMirth_1, PTUP in_Need_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_need_ZPlusNeeds_New (PTUP *out_ZPlusNeeds_1);
static void mw_mirth_need_ZPlusNeeds_rdrop (PTUP in_ZPlusNeeds_1);
static bool mw_mirth_need_Need_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Need_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static bool mw_mirth_word_Word_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static bool mw_mirth_arrow_Block_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static bool mw_mirth_data_Tag_wordZ_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static bool mw_mirth_data_Tag_patZ_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static bool mw_mirth_label_Label_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_needZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Need_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_needZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_needZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_needZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusNeeds_4);
static void mw_mirth_need_ZPlusNeeds_runZ_needZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Need_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, PTUP in_Op_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusNeeds_6);
static void mw_mirth_need_ZPlusNeeds_runZ_primZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, int64_t in_Prim_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusNeeds_6);
static void mw_mirth_need_ZPlusNeeds_runZ_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Match_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_caseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Lambda_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_patternZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Pattern_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_patatomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_PatternAtom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5);
static void mw_mirth_c99_ZPlusC99_put (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_ZPlusC99_putZ_byte (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, int64_t in_Byte_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_ZPlusC99_line (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_runZ_outputZ_c99ZBang (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP in_C99z_Options_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_c99_c99Z_startZBang (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP in_C99z_Options_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_6);
static void mw_mirth_c99_c99Z_endZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static INT mw_mirth_c99_ZPlusC99_freshZ_natZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static STR* mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static STR* mw_mirth_c99_ZPlusC99_freshZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static STR* mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static STR* mw_mirth_data_Tag_wordZ_cname (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_data_Tag_patZ_cname (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_buffer_Buffer_cname (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_table_Field_cname (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_external_External_cname (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_c99Z_headerZ_str (void);
static void mw_mirth_c99_c99Z_headerZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_buffersZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_bufferZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Buffer_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_bufferZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Buffer_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_tagZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_tagZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static STR* mw_mirth_c99_popZ_stackZ_partZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackTypePart_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_popZ_stackZ_partZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackTypePart_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99ValueZDivResource_6);
static void mw_mirth_c99_c99Z_tagZ_bodyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_C99ReprType_cast (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_c99_pushZ_stackZ_partZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP in_StackTypePart_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_pushZ_stackZ_partZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99ValueZDivResource_3, PTUP in_StackTypePart_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99_tagZ_valueZ_put (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_checkZ_tagZ_valueZBang (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_c99_c99Z_packZ_tagZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99ValueZDivResource_6);
static void mw_mirth_c99_c99Z_packZ_tupleZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Maybe_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Resource_7);
static void mw_mirth_c99_c99Z_unpackZ_tagZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP in_ZPlusC99ValueZDivResource_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_unpackZ_tupleZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP in_Maybe_4, PTUP in_List_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7);
static INT mw_mirth_c99_c99Z_tagZ_labelZ_index (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6);
static void mw_mirth_c99_c99Z_tagZ_getZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_TagField_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_tagZ_setZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_TagField_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_tableZ_toZ_indexZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_tableZ_fromZ_indexZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_externalZ_blocksZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_externalZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_ExternalBlock_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static STR* mw_mirth_external_External_cnameZ_type (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static PTUP mw_mirth_external_External_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_External_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_externalZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, uint64_t in_External_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_externalZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_External_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static STR* mw_mirth_type_CTypeStackPart_c99Z_argZ_name (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, INT in_Nat_3, PTUP in_CTypeStackPart_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6, INT *out_Nat_7);
static void mw_mirth_c99_ZPlusC99_indent (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static VAL mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix (int64_t in_C99APIArgMode_1);
static bool mw_mirth_c99_C99APIArg_isZ_physicalZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99APIArg_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99APIArg_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_C99APIArg_popZ_consumeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static PTUP mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_nameZ_argZ_prefix (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_typeZ_argZ_prefix (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_freshZ_argZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, int64_t in_C99APIArgMode_3, PTUP in_C99ReprType_4, PTUP in_Type_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99_7, int64_t *out_C99APIArgMode_8, PTUP *out_C99ReprType_9);
static PTUP mw_mirth_c99_consZ_freshZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, int64_t in_C99APIArgMode_3, PTUP in_List_4, PTUP in_Type_5, PTUP in_C99APIArgSource_6, PTUP *out_ZPlusMirth_7, PTUP *out_ZPlusC99_8, int64_t *out_C99APIArgMode_9);
static PTUP mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, int64_t in_C99APIArgMode_3, PTUP in_StackType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6, int64_t *out_C99APIArgMode_7, bool *out_Bool_8);
static PTUP mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_StackType_3, int64_t in_C99APIArgMode_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6, bool *out_Bool_7);
static PTUP mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP in_ArrowType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6);
static PTUP mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static PTUP mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP in_C99APIArg_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_smartZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP in_C99API_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_ZPlusC99_smartZ_sigZ_put (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_C99API_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_smartZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_C99API_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_apiZ_enterZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_C99API_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_apiZ_exitZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99API_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_codipZ_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Stack_6);
static void mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZ_toZ_stackZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Stack_3, PTUP in_StackTypePart_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Stack_7);
static void mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Stack_2, PTUP in_ZPlusC99Stack_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Stack_5);
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Stack_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static bool mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_c99_c99Z_atomZ_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, PTUP in_Op_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_pushZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_PushValue_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_getZ_enumZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, uint64_t in_Word_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static STR* mw_mirth_data_Tag_valueZ_show (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_c99_c99Z_tagZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, uint64_t in_Tag_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_reverseZ_tagZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_labelZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_labelZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_pushZ_valueZ_labelZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_ZPlusC99Value_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_pushZ_valueZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_ZPlusC99Value_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_ZPlusC99Resource_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_pushZ_resourceZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_ZPlusC99Resource_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_popZ_valueZ_labelZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Value_7);
static void mw_mirth_c99_popZ_resourceZ_labelZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Resource_7);
static void mw_mirth_c99_c99Z_labelZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_labelZ_pushZ_rZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_labelZ_popZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_labelZ_popZ_rZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static INT mw_std_prim_Int_I63Min (void);
static INT mw_std_prim_Int_I63Max (void);
static bool mw_std_prim_Int_inZ_i63Z_rangeZAsk (INT in_Int_1);
static PTUP mw_std_prim_Int_c99Z_radixes (INT in_Int_1);
static void mw_mirth_c99_c99Z_intZDivnatZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Int_3, PTUP in_C99ReprType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_intZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Int_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_natZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Nat_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_strZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99_putZ_cstrZ_long (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_ZPlusC99_putZ_cstr (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_stringZ_byteZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, bool in_Bool_3, int64_t in_Byte_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6, bool *out_Bool_7);
static bool mw_mirth_c99_C99DataRepr_needZ_refcountingZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99DataRepr_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_C99DataRepr_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, PTUP in_C99DataRepr_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_C99DataRepr_vZ_macroZ_prefixZ_suffix (PTUP in_ZPlusMirth_1, PTUP in_C99DataRepr_2, PTUP *out_ZPlusMirth_3, STR* *out_Str_5);
static STR* mw_mirth_c99_C99DataRepr_mkZ_macro (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99DataRepr_3, PTUP *out_ZPlusMirth_4);
static STR* mw_mirth_c99_C99DataRepr_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99DataRepr_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_c99_C99DataUnitRepr_needsZ_refcountingZAsk (uint64_t in_C99DataUnitRepr_1);
static VAL mw_mirth_c99_C99DataUnitRepr_underlyingZ_c99Z_type (uint64_t in_C99DataUnitRepr_1);
static VAL mw_mirth_c99_C99DataUnitRepr_vZ_macroZ_prefixZ_suffix (uint64_t in_C99DataUnitRepr_1, VAL *out__3);
static void mw_mirth_c99_C99DataUnitRepr_mkZ_macro (uint64_t in_C99DataUnitRepr_1);
static STR* mw_mirth_c99_C99DataUnitRepr_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, uint64_t in_C99DataUnitRepr_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_c99_C99DataEnumRepr_needsZ_refcountingZAsk (uint64_t in_C99DataEnumRepr_1);
static VAL mw_mirth_c99_C99DataEnumRepr_underlyingZ_c99Z_type (uint64_t in_C99DataEnumRepr_1);
static VAL mw_mirth_c99_C99DataEnumRepr_vZ_macroZ_prefixZ_suffix (uint64_t in_C99DataEnumRepr_1, VAL *out__3);
static STR* mw_mirth_c99_C99DataEnumRepr_mkZ_macro (STR* in_Str_1, uint64_t in_C99DataEnumRepr_2);
static void mw_mirth_c99_C99DataEnumRepr_getZ_dataZ_tag (uint64_t in_C99DataEnumRepr_1);
static bool mw_mirth_c99_C99DataFieldRepr_needsZ_refcountingZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99DataFieldRepr_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_C99DataFieldRepr_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, PTUP in_C99DataFieldRepr_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_C99DataFieldRepr_vZ_macroZ_prefixZ_suffix (PTUP in_ZPlusMirth_1, PTUP in_C99DataFieldRepr_2, PTUP *out_ZPlusMirth_3, STR* *out_Str_5);
static STR* mw_mirth_c99_C99DataFieldRepr_mkZ_macro (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99DataFieldRepr_3, PTUP *out_ZPlusMirth_4);
static STR* mw_mirth_c99_C99DataFieldRepr_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_C99DataFieldRepr_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_c99_C99DataStructRepr_needsZ_refcountingZAsk (uint64_t in_C99DataStructRepr_1);
static STR* mw_mirth_c99_C99DataStructRepr_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, uint64_t in_C99DataStructRepr_2, PTUP *out_ZPlusMirth_3);
static VAL mw_mirth_c99_C99DataStructRepr_vZ_macroZ_prefixZ_suffix (uint64_t in_C99DataStructRepr_1, VAL *out__3);
static STR* mw_mirth_c99_C99DataStructRepr_mkZ_macro (STR* in_Str_1, uint64_t in_C99DataStructRepr_2);
static STR* mw_mirth_c99_C99DataStructRepr_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, uint64_t in_C99DataStructRepr_3, PTUP *out_ZPlusMirth_4);
static bool mw_mirth_c99_C99DataSumRepr_needsZ_refcountingZAsk (uint64_t in_C99DataSumRepr_1);
static STR* mw_mirth_c99_C99DataSumRepr_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, uint64_t in_C99DataSumRepr_2, PTUP *out_ZPlusMirth_3);
static VAL mw_mirth_c99_C99DataSumRepr_vZ_macroZ_prefixZ_suffix (uint64_t in_C99DataSumRepr_1, VAL *out__3);
static STR* mw_mirth_c99_C99DataSumRepr_mkZ_macro (STR* in_Str_1, uint64_t in_C99DataSumRepr_2);
static STR* mw_mirth_c99_C99DataSumRepr_getZ_dataZ_tag (STR* in_Str_1, uint64_t in_C99DataSumRepr_2);
static PTUP mw_mirth_type_StackTypePart_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_StackTypePart_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_data_Data_c99Z_repr (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_c99_C99ReprType_ZEqual (PTUP in_C99ReprType_1, PTUP in_C99ReprType_2);
static bool mw_mirth_c99_C99ReprType_isZ_unitZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_c99_C99ReprType_isZ_physicalZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3);
static bool mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk (PTUP in_C99ReprType_1);
static STR* mw_mirth_c99_C99ReprType_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4);
static STR* mw_mirth_c99_C99ReprType_dummyZ_value (PTUP in_C99ReprType_1);
static STR* mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3, STR* *out_Str_5);
static STR* mw_mirth_c99_C99ReprType_mkZ_macro (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_type_Resource_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_Type_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_StackType_tupleZ_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_type_PrimType_c99Z_repr (int64_t in_PrimType_1);
static void mw_mirth_c99_ZPlusC99Value_rdup (PTUP in_ZPlusC99Value_1, PTUP *out_ZPlusC99Value_2, PTUP *out_ZPlusC99Value_3);
static void mw_mirth_c99_ZPlusC99Value_rdrop (PTUP in_ZPlusC99Value_1);
static void mw_mirth_c99_C99ReprType_newZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6);
static void mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_ZPlusC99Value_consume (PTUP in_ZPlusC99Value_1);
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_TUP (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_data (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_as (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_c99_ZPlusC99Value_keepZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6, PTUP *out_ZPlusC99Value_7);
static STR* mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Value_4);
static void mw_mirth_c99_ZPlusC99Resource_rdup (PTUP in_ZPlusC99Resource_1, PTUP *out_ZPlusC99Resource_2, PTUP *out_ZPlusC99Resource_3);
static void mw_mirth_c99_ZPlusC99Resource_rdrop (PTUP in_ZPlusC99Resource_1);
static void mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang (PTUP in_ZPlusC99Value_1, PTUP *out_ZPlusC99Resource_2);
static void mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang (PTUP in_ZPlusC99Resource_1, PTUP *out_ZPlusC99Value_2);
static void mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Resource_6, PTUP *out_ZPlusC99Value_7);
static STR* mw_mirth_c99_ZPlusC99Resource_consume (PTUP in_ZPlusC99Resource_1);
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_as (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4);
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_TUP (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, PTUP *out_ZPlusMirth_3);
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_data (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Resource_6);
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Resource_4);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft (PTUP in_ZPlusC99Value_1, PTUP *out_ZPlusC99ValueZDivResource_2);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight (PTUP in_ZPlusC99Resource_1, PTUP *out_ZPlusC99ValueZDivResource_2);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdup (PTUP in_ZPlusC99ValueZDivResource_1, PTUP *out_ZPlusC99ValueZDivResource_2, PTUP *out_ZPlusC99ValueZDivResource_3);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop (PTUP in_ZPlusC99ValueZDivResource_1);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99ValueZDivResource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99ValueZDivResource_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99ValueZDivResource_5);
static STR* mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_data (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP in_ZPlusC99ValueZDivResource_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_valueZBang (PTUP in_ZPlusC99ValueZDivResource_1, PTUP *out_ZPlusC99Value_2);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang (PTUP in_ZPlusC99ValueZDivResource_1, PTUP *out_ZPlusC99Resource_2);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_valueZDivresourceZ_reprZBang (PTUP in_C99ReprType_1, PTUP in_ZPlusC99ValueZDivResource_2, PTUP *out_ZPlusC99ValueZDivResource_3);
static void mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99ValueZDivResource_6);
static void mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Branch_4);
static void mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_ZPlusC99Stack_3, bool in_Bool_4, PTUP in_List_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7);
static void mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Stack_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusMaybe_2, PTUP *out_ZPlusC99Stack_3);
static void mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusMaybe_2, PTUP *out_ZPlusC99Stack_3);
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Stack_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Stack_5, PTUP *out_ZPlusMaybe_7);
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Stack_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Stack_5, PTUP *out_ZPlusMaybe_7);
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Stack_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Stack_rdup (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusC99Stack_2, PTUP *out_ZPlusC99Stack_3);
static void mw_mirth_c99_ZPlusC99Stack_rdrop (PTUP in_ZPlusC99Stack_1);
static void mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_ZPlusC99Branch_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99BranchSplit_5);
static void mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Branch_4);
static PTUP mw_mirth_c99_ZPlusC99Branch_varZ_lookup (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Branch_varZ_getZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP in_ZPlusC99Value_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static uint64_t mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Branch_4, PTUP *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99_startZ_branchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, bool in_Bool_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4, bool *out_Bool_5, PTUP *out_List_6);
static void mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Branch_4);
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Value_7);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Resource_6);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Resource_7);
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Value_convertZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Value_5);
static void mw_mirth_c99_ZPlusC99Resource_convertZ_resourceZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Resource_5);
static PTUP mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static PTUP mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static PTUP mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_7);
static PTUP mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Resource_7);
static PTUP mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_StackType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Value_8);
static PTUP mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_StackType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Resource_8);
static void mw_mirth_c99_c99Z_primZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, int64_t in_Prim_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_tupZ_packZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Nat_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_tupZ_unpackZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Nat_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Value_runZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_binopZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP in_C99ReprType_4, STR* in_Str_5, PTUP in_C99ReprType_6, STR* in_Str_7, bool in_Bool_8, PTUP in_Maybe_9, PTUP *out_ZPlusMirth_10, PTUP *out_ZPlusC99Branch_11);
static void mw_mirth_c99_c99Z_unopZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP in_C99ReprType_4, STR* in_Str_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7, PTUP *out_ZPlusC99Branch_8);
static void mw_mirth_c99_c99Z_argsZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_argZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_argZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_blockZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_packZ_closureZ_varsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusMaybe_6);
static void mw_mirth_c99_c99Z_blockZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_varZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_varZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_popZ_valuesZ_toZ_envZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_dropZ_envZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_dropZ_envZ_varsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Lambda_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Match_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_singleZ_caseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_caseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP in_Case_3, PTUP in_ZPlusC99ValueZDivResource_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99BranchSplit_6);
static STR* mw_mirth_data_Tag_wordZ_cnameZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static STR* mw_mirth_data_Tag_patZ_cnameZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static STR* mw_mirth_word_Word_cnameZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5);
static PTUP mw_mirth_data_Tag_wordZ_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static PTUP mw_mirth_data_Tag_patZ_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static PTUP mw_mirth_word_Word_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_wordZ_sigsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_wordZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_blockZ_sigsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_blockZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_blockZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_blockZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_blockZ_sigZ_put (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_blockZ_enterZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_ZPlusC99_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_blockZ_exitZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_ZPlusC99Branch_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_exposeZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_wordZ_enterZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_wordZ_exitZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_wordZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_wordZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_fieldZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_fieldZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Field_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_fieldZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Field_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_mainZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_main_main (void);
static void mw_mirth_main_compileZBang (PTUP in_ZPlusMirth_1, PTUP in_Options_2, PTUP *out_ZPlusMirth_3);
static int64_t mw_std_prelude_unsafe_1_sp1 (void);
static PTUP mw_std_prelude_unsafe_1_sp2 (PTUP in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, PTUP *out_ZPlusFile_4);
static STR* mw_std_prelude_unsafe_1_sp3 (void* in_Ptr_1, INT in_Sizze_2);
static void* mw_std_prelude_unsafe_1_sp5 (INT in_Offset_1, void* in_Ptr_2);
static PTUP mw_std_list_List_1_for_1_sp5 (PTUP in_List_1, PTUP in_List_2);
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4);
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1 (STR* in_Str_1, uint64_t in_Label_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99Branch_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static int64_t mw_std_prelude_unsafe_1_sp9 (void* in_Ptr_1);
static STR* mw_std_prim_Str_Str_1_sp8 (STR* in_Str_1);
static STR* mw_std_prim_Str_Str_1_sp12 (STR* in_Str_1);
static STR* mw_std_prim_Str_Str_1_sp22 (STR* in_Str_1);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp2 (PTUP in_Maybe_1);
static void mw_std_maybe_Maybe_1_locationZAskZThen_sp1 (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_std_maybe_Maybe_1_for_1_sp2 (PTUP in_ZPlusLister_1, PTUP in_Maybe_2, PTUP *out_ZPlusLister_3);
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp2 (uint64_t in_Label_1, uint64_t in_Tag_2, STR* in_Str_3, PTUP in_C99ReprType_4, PTUP in_ZPlusMirth_5, PTUP in_ZPlusC99_6, STR* *out_Str_7, uint64_t *out_Tag_8, uint64_t *out_Label_9, PTUP *out_ZPlusMirth_10, PTUP *out_ZPlusC99_11);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusfor_2_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99ValueZDivResource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_C99ReprType_pushZ_resourceZ_expressionZBang_1_sp2 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp4 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3);
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp9 (uint64_t in_Label_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusC99Branch_3, uint64_t *out_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp4 (uint64_t in_Label_1, PTUP in_C99ReprType_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99_4, uint64_t *out_Label_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99_7);
static PTUP mw_std_maybe_Maybe_1_map_1_sp4 (PTUP in_Resource_1, PTUP in_Maybe_2, PTUP *out_Maybe_4);
static PTUP mw_std_maybe_Maybe_1_map_1_sp5 (PTUP in_Type_1, PTUP in_Maybe_2, PTUP *out_Maybe_4);
static PTUP mw_std_list_List_1_filter_1_sp3 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_5);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99BranchSplit_4);
static void mw_std_list_List_1_for_1_sp18 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23 (PTUP in_ZPlusMirth_1, bool in_Bool_2, PTUP in_ZPlusC99_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99BranchSplit_4);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99BranchSplit_4);
static void mw_std_list_List_1_reverseZ_for_1_sp5 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static PTUP mw_std_list_List_1_map_1_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static PTUP mw_std_maybe_Maybe_1_filter_1_sp3 (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_5, PTUP *out_Maybe_6);
static PTUP mw_std_maybe_Maybe_1_filter_1_sp4 (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_5, PTUP *out_Maybe_6);
static void mw_mirth_c99_C99ReprType_resourceZ_expressionZBang_1_sp4 (STR* in_Str_1, PTUP in_C99ReprType_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99Branch_4, PTUP in_C99ReprType_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7, PTUP *out_ZPlusC99Resource_8);
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp5 (STR* in_Str_1, PTUP in_C99ReprType_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6);
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp6 (STR* in_Str_1, PTUP in_C99ReprType_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99Branch_4, PTUP in_C99ReprType_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7, PTUP *out_ZPlusC99Value_8);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp8 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99BranchSplit_4);
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp25 (STR* in_Str_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusC99Branch_3, STR* *out_Str_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6);
static void mw_mirth_c99_C99ReprType_pushZ_valueZ_expressionZBang_1_sp9 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static PTUP mw_std_list_List_1_List_1_sp12 (INT in_Nat_1);
static void mw_mirth_c99_ZPlusC99Branch_c99Z_lineZ_if_1_sp24 (STR* in_Str_1, STR* in_Str_2, PTUP in_ZPlusMirth_3, bool in_Bool_4, PTUP in_ZPlusC99Branch_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7);
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp21 (PTUP in_ZPlusC99Value_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusC99Branch_3, PTUP in_C99ReprType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Value_7);
static PTUP mw_std_list_List_1_unions_sp1 (PTUP in_List_1);
static PTUP mw_std_maybe_Maybe_1_unwrap_1_sp13 (PTUP in_Maybe_1);
static PTUP mw_std_list_List_1_union_sp1 (PTUP in_List_1, PTUP in_List_2);
static PTUP mw_std_list_List_1_difference_sp1 (PTUP in_List_1, PTUP in_List_2);
static PTUP mw_mirth_c99_ZPlusC99_c99Z_line_1_sp96 (PTUP in_C99API_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusC99_3, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6);
static void mw_std_list_List_1_reverseZ_for_1_sp7 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5);
static PTUP mw_std_list_List_1_filter_1_sp6 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_5);
static uint8_t mw_std_prelude_unsafe_1_sp12 (INT in_Sizze_1, void* in_Ptr_2);
static void mw_std_maybe_Maybe_1_if_2_sp5 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, PTUP in_Maybe_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusNeeds_6);
static void mw_std_list_List_1_for_1_sp53 (PTUP in_ZPlusLister_1, PTUP in_List_2, PTUP *out_ZPlusLister_3);
static PTUP mw_std_maybe_Maybe_1_filter_1_sp5 (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_5, PTUP *out_Maybe_6);
static PTUP mw_std_maybe_Maybe_1_filter_1_sp6 (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_5, PTUP *out_Maybe_6);
static PTUP mw_std_maybe_Maybe_1_ifZAsk_2_sp55 (PTUP in_Maybe_1);
static void mw_std_list_List_1_for_1_sp59 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_std_map_Map_2_forZ_pairs_1_sp1 (INT in_Nat_1, uint64_t in_Label_2, INT in_Nat_3, uint64_t in_Label_4, PTUP in_ZPlusAB_5, PTUP in_StackTypeCounts_6, PTUP in_ZPlusMirth_7, PTUP in_Map_8, INT *out_Nat_9, uint64_t *out_Label_10, INT *out_Nat_11, uint64_t *out_Label_12, PTUP *out_ZPlusAB_13, PTUP *out_StackTypeCounts_14, PTUP *out_ZPlusMirth_15);
static void mw_mirth_elab_ZPlusAB_abZ_rdipZ_nZBang_1_sp1 (PTUP in_Home_1, uint64_t in_Token_2, PTUP in_Ctx_3, PTUP in_Op_4, PTUP in_List_5, PTUP in_Subst_6, PTUP in_StackType_7, PTUP in_List_8, PTUP in_StackType_9, VAL in_z_x1_10, VAL in_z_x2_11, VAL in_z_x3_12, VAL in_z_x4_13, VAL in_z_x5_14, VAL in_z_x6_15, VAL in_z_x7_16, VAL in_z_x8_17, INT in_Nat_18, PTUP in_ZPlusMirth_19, PTUP in_ZPlusAB_20, INT in_Nat_21, PTUP *out_StackType_22, PTUP *out_StackType_23, VAL *out_z_x1_24, INT *out_Nat_25, VAL *out_z_x2_26, VAL *out_z_x3_27, VAL *out_z_x4_28, VAL *out_z_x5_29, VAL *out_z_x6_30, VAL *out_z_x7_31, VAL *out_z_x8_32, PTUP *out_ZPlusMirth_33, PTUP *out_ZPlusAB_34);
static void mw_std_map_Map_2_reverseZ_forZ_pairs_1_sp1 (uint64_t in_Label_1, uint64_t in_Label_2, PTUP in_StackTypeCounts_3, PTUP in_ZPlusMirth_4, PTUP in_ZPlusAB_5, PTUP in_Map_6, uint64_t *out_Label_7, uint64_t *out_Label_8, PTUP *out_StackTypeCounts_9, PTUP *out_ZPlusMirth_10, PTUP *out_ZPlusAB_11);
static PTUP mw_std_maybe_Maybe_1_map_1_sp10 (PTUP in_Maybe_1);
static void mw_mirth_elab_ZPlusAB_abZ_dipZ_nZBang_1_sp1 (PTUP in_Home_1, uint64_t in_Token_2, PTUP in_Ctx_3, PTUP in_Op_4, PTUP in_List_5, PTUP in_Subst_6, PTUP in_StackType_7, PTUP in_List_8, PTUP in_StackType_9, VAL in_z_x1_10, VAL in_z_x2_11, VAL in_z_x3_12, VAL in_z_x4_13, VAL in_z_x5_14, VAL in_z_x6_15, VAL in_z_x7_16, VAL in_z_x8_17, VAL in_z_x9_18, PTUP in_ZPlusMirth_19, PTUP in_ZPlusAB_20, INT in_Nat_21, PTUP *out_StackType_22, PTUP *out_StackType_23, VAL *out_z_x1_24, VAL *out_z_x2_25, VAL *out_z_x3_26, VAL *out_z_x4_27, VAL *out_z_x5_28, VAL *out_z_x6_29, VAL *out_z_x7_30, VAL *out_z_x8_31, VAL *out_z_x9_32, PTUP *out_ZPlusMirth_33, PTUP *out_ZPlusAB_34);
static PTUP mw_std_maybe_Maybe_1_ifZAsk_2_sp58 (VAL in_z_x1_1, PTUP in_Map_2, PTUP in_Maybe_3);
static void mw_std_list_List_1_for_1_sp64 (PTUP in_List_1, PTUP in_List_2, PTUP *out_List_3);
static void mw_std_maybe_Maybe_1_ifZAsk_2_sp62 (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_std_list_List_1_for_1_sp66 (PTUP in_Type_1, PTUP in_List_2);
static PTUP mw_std_map_Map_2_lookup_sp3 (uint64_t in_Var_1, PTUP in_Map_2);
static PTUP mw_mirth_elab_abZ_buildZ_homZBang_1_sp6 (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_SPKey_3, uint64_t in_Word_4, PTUP in_Map_5, PTUP in_Ctx_6, PTUP in_ArrowType_7, uint64_t in_Token_8, PTUP in_Home_9, PTUP *out_SPKey_10, uint64_t *out_Word_11, PTUP *out_Map_12, PTUP *out_ZPlusMirth_13);
static PTUP mw_std_list_List_1_reverseZ_for_1_sp10 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Ctx_3, PTUP in_StackType_4, PTUP in_List_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusAB_7, PTUP *out_StackType_9);
static bool mw_std_maybe_Maybe_1_ifZAsk_2_sp69 (PTUP in_ZPlusLister_1, PTUP in_Maybe_2, PTUP *out_ZPlusLister_3);
static PTUP mw_std_maybe_Maybe_1_bind_1_sp6 (PTUP in_Maybe_1);
static bool mw_std_list_List_1_ZEqual_sp1 (PTUP in_ZPlusMirth_1, PTUP in_List_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4);
static void mw_std_list_List_1_for_1_sp73 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5);
static uint64_t mw_std_maybe_Maybe_1_unwrap_1_sp23 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_6);
static STR* mw_std_maybe_Maybe_1_map_1_sp11 (STR* in_Str_1, PTUP in_Maybe_2, PTUP *out_Maybe_4);
static PTUP mw_std_maybe_Maybe_1_map_1_sp12 (PTUP in_Maybe_1);
static STR* mw_std_prelude_unsafe_1_sp16 (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_prelude_unsafe_1_sp17 (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_prelude_unsafe_1_sp19 (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Offset_3, STR* *out_ZPlusStr_4);
static PTUP mw_std_list_List_1_unique_sp1 (PTUP in_List_1);
static void mw_mirth_elab_ZPlusAB_abZ_ldipZBang_1_sp1 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Token_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6);
static uint64_t mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp6 (uint64_t in_Token_1, PTUP in_List_2, PTUP in_ZPlusMirth_3, PTUP in_ArrowType_4, PTUP in_ZPlusAB_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusAB_7);
static PTUP mw_std_list_List_1_for_1_sp84 (PTUP in_StackType_1, PTUP in_List_2);
static uint64_t mw_std_either_Either_2_left_1_sp1 (PTUP in_Either_1);
static PTUP mw_std_maybe_Maybe_1_ifZAsk_2_sp96 (PTUP in_Maybe_1);
static STR* mw_std_list_List_1_for_1_sp88 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, STR* in_ZPlusStr_3, STR* in_Str_4, PTUP in_List_5, PTUP *out_ZPlusMirth_6, VAL *out_z_x1_7, STR* *out_ZPlusStr_8);
static void mw_std_list_List_1_for_2_sp3 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, STR* in_ZPlusStr_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, VAL *out_z_x1_6, STR* *out_ZPlusStr_7);
static bool mw_std_list_List_1_member_sp6 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_Namespace_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, VAL *out_z_x1_6);
static uint64_t mw_std_maybe_Maybe_1_elseZAsk_1_sp6 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_6);
static uint64_t mw_std_maybe_Maybe_1_else_1_sp3 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp41 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_std_maybe_Maybe_1_bind_1_sp13 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3);
static STR* mw_std_prim_Str_Str_1_sp81 (STR* in_Str_1, STR* in_Str_2);
static STR* mw_std_prim_Str_Str_1_sp82 (STR* in_Str_1, STR* in_Str_2);
static PTUP mw_std_list_List_1_map_1_sp17 (PTUP in_List_1);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp48 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_5);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp49 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3);
static bool mw_std_maybe_Maybe_1_has_1_sp14 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_mirth_PropLabel_prop_1_sp15 (PTUP in_List_1, PTUP in_ZPlusMirth_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_std_maybe_Maybe_1_else_1_sp6 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4);
static uint64_t mw_std_maybe_Maybe_1_else_1_sp7 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_std_maybe_Maybe_1_filter_1_sp20 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3);
static PTUP mw_mirth_mirth_PropLabel_prop_1_sp16 (uint64_t in_Token_1, PTUP in_ZPlusMirth_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4);
static PTUP mw_mirth_mirth_PropLabel_prop2_1_sp7 (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, uint64_t in_Word_3, PTUP in_PropLabel_4, PTUP *out_ZPlusMirth_5);
static PTUP mw_mirth_mirth_PropLabel_prop2_1_sp8 (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Word_3, PTUP in_PropLabel_4, PTUP *out_ZPlusMirth_5);
static void mw_std_maybe_Maybe_1_ifZAsk_2_sp135 (uint64_t in_Field_1, PTUP in_ZPlusAB_2, PTUP in_ZPlusMirth_3, PTUP in_Maybe_4, uint64_t *out_Field_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusAB_7);
static PTUP mw_mirth_mirth_PropLabel_prop2_1_sp12 (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, uint64_t in_Word_3, PTUP in_PropLabel_4, PTUP *out_ZPlusMirth_5);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp58 (PTUP in_Maybe_1);
static void mw_mirth_elab_ZPlusAB_abZ_whileZBang_2_sp1 (uint64_t in_Var_1, uint64_t in_Table_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusAB_4, uint64_t *out_Table_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusAB_7);
static PTUP mw_mirth_mirth_PropLabel_prop_1_sp30 (uint64_t in_Table_1, PTUP in_ZPlusMirth_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4);
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp2 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static uint64_t mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp16 (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP in_ZPlusAB_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp4 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4);
static void mw_std_list_List_1_for_1_sp120 (PTUP in_ZPlusAB_1, PTUP in_ZPlusMirth_2, PTUP in_List_3, PTUP *out_ZPlusAB_4, PTUP *out_ZPlusMirth_5);
static void mw_std_maybe_Maybe_1_else_1_sp13 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Token_5);
static void mw_std_maybe_Maybe_1_else_1_sp14 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Token_5);
static VAL mw_std_maybe_Maybe_1_elseZAsk_1_sp8 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Token_5);
static PTUP mw_std_list_List_1_filterZ_some_1_sp6 (PTUP in_List_1);
static void mw_std_maybe_Maybe_1_else_1_sp17 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Token_5);
static STR* mw_std_prelude_unsafe_1_sp22 (INT in_Sizze_1, STR* in_Str_2);
static STR* mw_std_prelude_unsafe_1_sp23 (INT in_Int_1);
static void mb_mirth_options_parseZ_optionsZBang_0 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_0 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_1 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_2 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_3 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_4 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_5 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_6 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_7 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_8 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_9 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_10 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_11 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_12 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_13 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_14 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_15 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_16 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_17 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_18 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_19 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_20 (void);
static void mb_mirth_elab_elabZ_defZ_head_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp1_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp2_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp3_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp4_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp5_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp6_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp7_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp8_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp9_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp10_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp11_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp12_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp13_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp14_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp15_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp16_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp17_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp18_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp19_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp20_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp21_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp22_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp23_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp24_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp25_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp26_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp27_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp28_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp29_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp30_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp31_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp32_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp33_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp34_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp35_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp36_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp37_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp38_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp39_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp40_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp41_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp42_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp43_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp44_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp45_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp46_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp47_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp48_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp49_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp50_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp51_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp52_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp53_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp54_0 (void);
int main (int argc, char** argv) {
	global_argc = argc;
	global_argv = argv;
	mw_mirth_main_main();
	push_resource(MKI64(0));
	return 0;
}
static STR* mw_std_byte_Byte_toZ_strZ_unsafe (int64_t in_Byte_1) {
	PTUP v3 = PTRMK(0LL /* Nil */,0,0);
	PTUP v4 = mw_std_list_List_1_cons(MKI64(in_Byte_1), v3);
	STR* v5 = mw_std_prim_Str_fromZ_bytesZ_unsafe(v4);
	return v5;
}
static PTUP mw_std_byte_Byte_toZ_asciiZ_str (int64_t in_Byte_1) {
	int64_t v3 = 0LL /* BNUL */;
	int64_t v4 = 127LL /* BDEL */;
	int64_t v5 = v3;
	INT v6 = i64_to_int(v5);
	uint64_t v7 = int_to_u64(v6);
	uint8_t v8 = (uint8_t)(v7);
	int64_t v9 = in_Byte_1;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	uint64_t v13 = (uint64_t)(v12);
	uint32_t v14 = (uint32_t)(v13);
	uint64_t v15 = (uint64_t)(value_u8(MKU8(v8)));
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint64_t v18 = (uint64_t)(v14);
	bool v19 = (value_u64(MKU64(v17)) <= v18);
	bool branch_Bool_20;
	if (value_bool(MKBOOL(v19))) {
		int64_t v21 = VI64(MKI64(in_Byte_1));
		INT v22 = i64_to_int(v21);
		uint64_t v23 = int_to_u64(v22);
		uint8_t v24 = (uint8_t)(v23);
		int64_t v25 = VI64(MKI64(v4));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(value_u8(MKU8(v24)));
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (value_u64(MKU64(v33)) <= v34);
		branch_Bool_20 = v35;
	} else {
		decref(MKI64(VI64(MKI64(v4))));
		decref(MKI64(VI64(MKI64(in_Byte_1))));
		bool v36 = false;
		branch_Bool_20 = v36;
	}
	PTUP branch_Maybe_37;
	if (branch_Bool_20) {
		STR* v38 = mw_std_byte_Byte_toZ_strZ_unsafe(in_Byte_1);
		PTUP v39 = mtw_std_maybe_Maybe_1_Some(MKSTR(v38));
		branch_Maybe_37 = v39;
	} else {
		PTUP v40 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_37 = v40;
	}
	return branch_Maybe_37;
}
static bool mw_std_byte_Byte_isZ_stringZ_end (int64_t in_Byte_1) {
	bool branch_Bool_3;
	switch (in_Byte_1) {
		case 34LL: { // BQUOTE
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		case 10LL: { // BLF
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 0LL: { // BNUL
			bool v6 = true;
			branch_Bool_3 = v6;
		} break;
		default: {
			bool v7 = false;
			branch_Bool_3 = v7;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_std_byte_Byte_toZ_upper (int64_t in_Byte_1) {
	int64_t v3 = 97LL /* B'a' */;
	int64_t v4 = 122LL /* B'z' */;
	int64_t v5 = v3;
	INT v6 = i64_to_int(v5);
	uint64_t v7 = int_to_u64(v6);
	uint8_t v8 = (uint8_t)(v7);
	int64_t v9 = in_Byte_1;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	uint64_t v13 = (uint64_t)(v12);
	uint32_t v14 = (uint32_t)(v13);
	uint64_t v15 = (uint64_t)(value_u8(MKU8(v8)));
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint64_t v18 = (uint64_t)(v14);
	bool v19 = (value_u64(MKU64(v17)) <= v18);
	bool branch_Bool_20;
	if (value_bool(MKBOOL(v19))) {
		int64_t v21 = VI64(MKI64(in_Byte_1));
		INT v22 = i64_to_int(v21);
		uint64_t v23 = int_to_u64(v22);
		uint8_t v24 = (uint8_t)(v23);
		int64_t v25 = VI64(MKI64(v4));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(value_u8(MKU8(v24)));
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (value_u64(MKU64(v33)) <= v34);
		branch_Bool_20 = v35;
	} else {
		decref(MKI64(VI64(MKI64(v4))));
		decref(MKI64(VI64(MKI64(in_Byte_1))));
		bool v36 = false;
		branch_Bool_20 = v36;
	}
	int64_t branch_Byte_37;
	if (branch_Bool_20) {
		int64_t v38 = in_Byte_1;
		INT v39 = i64_to_int(v38);
		uint64_t v40 = int_to_u64(v39);
		uint8_t v41 = (uint8_t)(v40);
		uint8_t v42 = 32;
		uint64_t v43 = (uint64_t)(v41);
		uint64_t v44 = (uint64_t)(v42);
		uint64_t v45 = (value_u64(MKU64(v43)) - v44);
		uint8_t v46 = (uint8_t)(v45);
		uint64_t v47 = (uint64_t)(v46);
		INT v48 = u64_to_int(v47);
		int64_t v49 = int_to_i64(v48);
		branch_Byte_37 = v49;
	} else {
		branch_Byte_37 = in_Byte_1;
	}
	return branch_Byte_37;
}
static int64_t mw_std_byte_Byte_OneHexDigit (uint8_t in_U8_1) {
	uint8_t v3 = 9;
	uint64_t v4 = (uint64_t)(in_U8_1);
	uint32_t v5 = (uint32_t)(v4);
	uint64_t v6 = (uint64_t)(v3);
	uint32_t v7 = (uint32_t)(v6);
	uint64_t v8 = (uint64_t)(v7);
	uint64_t v9 = (uint64_t)(v5);
	bool v10 = (value_u64(MKU64(v8)) < v9);
	uint8_t branch_U8_11;
	uint8_t branch_U8_12;
	if (v10) {
		uint8_t v13 = 55;
		branch_U8_12 = v13;
		branch_U8_11 = in_U8_1;
	} else {
		uint8_t v14 = 48;
		branch_U8_12 = v14;
		branch_U8_11 = in_U8_1;
	}
	uint64_t v15 = (uint64_t)(branch_U8_11);
	uint64_t v16 = (uint64_t)(branch_U8_12);
	uint64_t v17 = (value_u64(MKU64(v15)) + v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	INT v20 = u64_to_int(v19);
	int64_t v21 = int_to_i64(v20);
	return v21;
}
static int64_t mw_std_byte_Byte_toZ_hexdigits (int64_t in_Byte_1, int64_t *out_Byte_3) {
	int64_t v4 = in_Byte_1;
	INT v5 = i64_to_int(v4);
	uint64_t v6 = int_to_u64(v5);
	uint8_t v7 = (uint8_t)(v6);
	uint8_t v8 = 4;
	uint64_t v9 = (uint64_t)(v7);
	uint64_t v10 = (uint64_t)(v8);
	uint64_t v11 = u64_shr(value_u64(MKU64(v9)), v10);
	uint8_t v12 = (uint8_t)(v11);
	int64_t v13 = mw_std_byte_Byte_OneHexDigit(v12);
	uint8_t v14 = 15;
	uint64_t v15 = (uint64_t)(v7);
	uint64_t v16 = (uint64_t)(v14);
	uint64_t v17 = (value_u64(MKU64(v15)) & v16);
	uint8_t v18 = (uint8_t)(v17);
	int64_t v19 = mw_std_byte_Byte_OneHexDigit(v18);
	*out_Byte_3 = v19;
	return v13;
}
static bool mw_std_byte_Byte_isZ_nameZ_byte (int64_t in_Byte_1) {
	bool branch_Bool_3;
	switch (in_Byte_1) {
		case 40LL: { // BLPAREN
			bool v4 = false;
			branch_Bool_3 = v4;
		} break;
		case 41LL: { // BRPAREN
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
		case 91LL: { // BLSQUARE
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
		case 93LL: { // BRSQUARE
			bool v7 = false;
			branch_Bool_3 = v7;
		} break;
		case 123LL: { // BLCURLY
			bool v8 = false;
			branch_Bool_3 = v8;
		} break;
		case 125LL: { // BRCURLY
			bool v9 = false;
			branch_Bool_3 = v9;
		} break;
		case 44LL: { // BCOMMA
			bool v10 = false;
			branch_Bool_3 = v10;
		} break;
		case 34LL: { // BQUOTE
			bool v11 = false;
			branch_Bool_3 = v11;
		} break;
		case 58LL: { // BCOLON
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
		case 127LL: { // BDEL
			bool v13 = false;
			branch_Bool_3 = v13;
		} break;
		default: {
			int64_t v14 = 32LL /* BSPACE */;
			int64_t v15 = v14;
			INT v16 = i64_to_int(v15);
			uint64_t v17 = int_to_u64(v16);
			uint8_t v18 = (uint8_t)(v17);
			int64_t v19 = in_Byte_1;
			INT v20 = i64_to_int(v19);
			uint64_t v21 = int_to_u64(v20);
			uint8_t v22 = (uint8_t)(v21);
			uint64_t v23 = (uint64_t)(v22);
			uint32_t v24 = (uint32_t)(v23);
			uint64_t v25 = (uint64_t)(value_u8(MKU8(v18)));
			uint32_t v26 = (uint32_t)(v25);
			uint64_t v27 = (uint64_t)(v26);
			uint64_t v28 = (uint64_t)(v24);
			bool v29 = (value_u64(MKU64(v27)) < v28);
			branch_Bool_3 = v29;
		} break;
	}
	return branch_Bool_3;
}
static void mw_std_byte_Byte_zzencodeZThen (STR* in_ZPlusStr_1, int64_t in_Byte_2, STR* *out_ZPlusStr_3) {
	STR* branch_ZPlusStr_4;
	switch (in_Byte_2) {
		case 38LL: { // B'&'
			STR* v5;
			STRLIT(v5, "ZAmp", 4);
			STR* v6;
			mw_std_str_ZPlusStr_pushZ_strZBang(v5, in_ZPlusStr_1, &v6);
			branch_ZPlusStr_4 = v6;
		} break;
		case 63LL: { // B'?'
			STR* v7;
			STRLIT(v7, "ZAsk", 4);
			STR* v8;
			mw_std_str_ZPlusStr_pushZ_strZBang(v7, in_ZPlusStr_1, &v8);
			branch_ZPlusStr_4 = v8;
		} break;
		case 64LL: { // B'@'
			STR* v9;
			STRLIT(v9, "ZAt", 3);
			STR* v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(v9, in_ZPlusStr_1, &v10);
			branch_ZPlusStr_4 = v10;
		} break;
		case 92LL: { // B'\'
			STR* v11;
			STRLIT(v11, "ZBSlash", 7);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v11, in_ZPlusStr_1, &v12);
			branch_ZPlusStr_4 = v12;
		} break;
		case 33LL: { // B'!'
			STR* v13;
			STRLIT(v13, "ZBang", 5);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, in_ZPlusStr_1, &v14);
			branch_ZPlusStr_4 = v14;
		} break;
		case 94LL: { // B'^'
			STR* v15;
			STRLIT(v15, "ZCaret", 6);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, in_ZPlusStr_1, &v16);
			branch_ZPlusStr_4 = v16;
		} break;
		case 58LL: { // BCOLON
			STR* v17;
			STRLIT(v17, "ZColon", 6);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, in_ZPlusStr_1, &v18);
			branch_ZPlusStr_4 = v18;
		} break;
		case 44LL: { // BCOMMA
			STR* v19;
			STRLIT(v19, "ZComma", 6);
			STR* v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(v19, in_ZPlusStr_1, &v20);
			branch_ZPlusStr_4 = v20;
		} break;
		case 47LL: { // B'/'
			STR* v21;
			STRLIT(v21, "ZDiv", 4);
			STR* v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(v21, in_ZPlusStr_1, &v22);
			branch_ZPlusStr_4 = v22;
		} break;
		case 36LL: { // B'$'
			STR* v23;
			STRLIT(v23, "ZDollar", 7);
			STR* v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(v23, in_ZPlusStr_1, &v24);
			branch_ZPlusStr_4 = v24;
		} break;
		case 46LL: { // BDOT
			STR* v25;
			STRLIT(v25, "ZDot", 4);
			STR* v26;
			mw_std_str_ZPlusStr_pushZ_strZBang(v25, in_ZPlusStr_1, &v26);
			branch_ZPlusStr_4 = v26;
		} break;
		case 61LL: { // B'='
			STR* v27;
			STRLIT(v27, "ZEqual", 6);
			STR* v28;
			mw_std_str_ZPlusStr_pushZ_strZBang(v27, in_ZPlusStr_1, &v28);
			branch_ZPlusStr_4 = v28;
		} break;
		case 35LL: { // BHASH
			STR* v29;
			STRLIT(v29, "ZHash", 5);
			STR* v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, in_ZPlusStr_1, &v30);
			branch_ZPlusStr_4 = v30;
		} break;
		case 123LL: { // BLCURLY
			STR* v31;
			STRLIT(v31, "ZLCurly", 7);
			STR* v32;
			mw_std_str_ZPlusStr_pushZ_strZBang(v31, in_ZPlusStr_1, &v32);
			branch_ZPlusStr_4 = v32;
		} break;
		case 40LL: { // BLPAREN
			STR* v33;
			STRLIT(v33, "ZLParen", 7);
			STR* v34;
			mw_std_str_ZPlusStr_pushZ_strZBang(v33, in_ZPlusStr_1, &v34);
			branch_ZPlusStr_4 = v34;
		} break;
		case 91LL: { // BLSQUARE
			STR* v35;
			STRLIT(v35, "ZLSquare", 8);
			STR* v36;
			mw_std_str_ZPlusStr_pushZ_strZBang(v35, in_ZPlusStr_1, &v36);
			branch_ZPlusStr_4 = v36;
		} break;
		case 60LL: { // B'<'
			STR* v37;
			STRLIT(v37, "ZLess", 5);
			STR* v38;
			mw_std_str_ZPlusStr_pushZ_strZBang(v37, in_ZPlusStr_1, &v38);
			branch_ZPlusStr_4 = v38;
		} break;
		case 37LL: { // B'%'
			STR* v39;
			STRLIT(v39, "ZMod", 4);
			STR* v40;
			mw_std_str_ZPlusStr_pushZ_strZBang(v39, in_ZPlusStr_1, &v40);
			branch_ZPlusStr_4 = v40;
		} break;
		case 42LL: { // B'*'
			STR* v41;
			STRLIT(v41, "ZMul", 4);
			STR* v42;
			mw_std_str_ZPlusStr_pushZ_strZBang(v41, in_ZPlusStr_1, &v42);
			branch_ZPlusStr_4 = v42;
		} break;
		case 124LL: { // B'|'
			STR* v43;
			STRLIT(v43, "ZPipe", 5);
			STR* v44;
			mw_std_str_ZPlusStr_pushZ_strZBang(v43, in_ZPlusStr_1, &v44);
			branch_ZPlusStr_4 = v44;
		} break;
		case 43LL: { // B'+'
			STR* v45;
			STRLIT(v45, "ZPlus", 5);
			STR* v46;
			mw_std_str_ZPlusStr_pushZ_strZBang(v45, in_ZPlusStr_1, &v46);
			branch_ZPlusStr_4 = v46;
		} break;
		case 34LL: { // BQUOTE
			STR* v47;
			STRLIT(v47, "ZQuote", 6);
			STR* v48;
			mw_std_str_ZPlusStr_pushZ_strZBang(v47, in_ZPlusStr_1, &v48);
			branch_ZPlusStr_4 = v48;
		} break;
		case 125LL: { // BRCURLY
			STR* v49;
			STRLIT(v49, "ZRCurly", 7);
			STR* v50;
			mw_std_str_ZPlusStr_pushZ_strZBang(v49, in_ZPlusStr_1, &v50);
			branch_ZPlusStr_4 = v50;
		} break;
		case 41LL: { // BRPAREN
			STR* v51;
			STRLIT(v51, "ZRParen", 7);
			STR* v52;
			mw_std_str_ZPlusStr_pushZ_strZBang(v51, in_ZPlusStr_1, &v52);
			branch_ZPlusStr_4 = v52;
		} break;
		case 93LL: { // BRSQUARE
			STR* v53;
			STRLIT(v53, "ZRSquare", 8);
			STR* v54;
			mw_std_str_ZPlusStr_pushZ_strZBang(v53, in_ZPlusStr_1, &v54);
			branch_ZPlusStr_4 = v54;
		} break;
		case 59LL: { // B';'
			STR* v55;
			STRLIT(v55, "ZThen", 5);
			STR* v56;
			mw_std_str_ZPlusStr_pushZ_strZBang(v55, in_ZPlusStr_1, &v56);
			branch_ZPlusStr_4 = v56;
		} break;
		case 39LL: { // BTICK
			STR* v57;
			STRLIT(v57, "ZTick", 5);
			STR* v58;
			mw_std_str_ZPlusStr_pushZ_strZBang(v57, in_ZPlusStr_1, &v58);
			branch_ZPlusStr_4 = v58;
		} break;
		case 126LL: { // B'~'
			STR* v59;
			STRLIT(v59, "ZTilde", 6);
			STR* v60;
			mw_std_str_ZPlusStr_pushZ_strZBang(v59, in_ZPlusStr_1, &v60);
			branch_ZPlusStr_4 = v60;
		} break;
		case 62LL: { // B'>'
			STR* v61;
			STRLIT(v61, "ZTo", 3);
			STR* v62;
			mw_std_str_ZPlusStr_pushZ_strZBang(v61, in_ZPlusStr_1, &v62);
			branch_ZPlusStr_4 = v62;
		} break;
		case 90LL: { // B'Z'
			STR* v63;
			STRLIT(v63, "ZZ", 2);
			STR* v64;
			mw_std_str_ZPlusStr_pushZ_strZBang(v63, in_ZPlusStr_1, &v64);
			branch_ZPlusStr_4 = v64;
		} break;
		case 45LL: { // B'-'
			STR* v65;
			STRLIT(v65, "Z_", 2);
			STR* v66;
			mw_std_str_ZPlusStr_pushZ_strZBang(v65, in_ZPlusStr_1, &v66);
			branch_ZPlusStr_4 = v66;
		} break;
		case 122LL: { // B'z'
			STR* v67;
			STRLIT(v67, "zz", 2);
			STR* v68;
			mw_std_str_ZPlusStr_pushZ_strZBang(v67, in_ZPlusStr_1, &v68);
			branch_ZPlusStr_4 = v68;
		} break;
		case 95LL: { // B'_'
			STR* v69;
			STRLIT(v69, "z_", 2);
			STR* v70;
			mw_std_str_ZPlusStr_pushZ_strZBang(v69, in_ZPlusStr_1, &v70);
			branch_ZPlusStr_4 = v70;
		} break;
		default: {
			int64_t v71 = 48LL /* B'0' */;
			int64_t v72 = 57LL /* B'9' */;
			int64_t v73 = v71;
			INT v74 = i64_to_int(v73);
			uint64_t v75 = int_to_u64(v74);
			uint8_t v76 = (uint8_t)(v75);
			int64_t v77 = in_Byte_2;
			INT v78 = i64_to_int(v77);
			uint64_t v79 = int_to_u64(v78);
			uint8_t v80 = (uint8_t)(v79);
			uint64_t v81 = (uint64_t)(v80);
			uint32_t v82 = (uint32_t)(v81);
			uint64_t v83 = (uint64_t)(value_u8(MKU8(v76)));
			uint32_t v84 = (uint32_t)(v83);
			uint64_t v85 = (uint64_t)(v84);
			uint64_t v86 = (uint64_t)(v82);
			bool v87 = (value_u64(MKU64(v85)) <= v86);
			bool branch_Bool_88;
			if (value_bool(MKBOOL(v87))) {
				int64_t v89 = VI64(MKI64(in_Byte_2));
				INT v90 = i64_to_int(v89);
				uint64_t v91 = int_to_u64(v90);
				uint8_t v92 = (uint8_t)(v91);
				int64_t v93 = VI64(MKI64(v72));
				INT v94 = i64_to_int(v93);
				uint64_t v95 = int_to_u64(v94);
				uint8_t v96 = (uint8_t)(v95);
				uint64_t v97 = (uint64_t)(v96);
				uint32_t v98 = (uint32_t)(v97);
				uint64_t v99 = (uint64_t)(value_u8(MKU8(v92)));
				uint32_t v100 = (uint32_t)(v99);
				uint64_t v101 = (uint64_t)(v100);
				uint64_t v102 = (uint64_t)(v98);
				bool v103 = (value_u64(MKU64(v101)) <= v102);
				branch_Bool_88 = v103;
			} else {
				decref(MKI64(VI64(MKI64(v72))));
				decref(MKI64(VI64(MKI64(in_Byte_2))));
				bool v104 = false;
				branch_Bool_88 = v104;
			}
			bool branch_Bool_105;
			if (branch_Bool_88) {
				bool v106 = true;
				branch_Bool_105 = v106;
			} else {
				int64_t v107 = 65LL /* B'A' */;
				int64_t v108 = 90LL /* B'Z' */;
				int64_t v109 = v107;
				INT v110 = i64_to_int(v109);
				uint64_t v111 = int_to_u64(v110);
				uint8_t v112 = (uint8_t)(v111);
				int64_t v113 = in_Byte_2;
				INT v114 = i64_to_int(v113);
				uint64_t v115 = int_to_u64(v114);
				uint8_t v116 = (uint8_t)(v115);
				uint64_t v117 = (uint64_t)(v116);
				uint32_t v118 = (uint32_t)(v117);
				uint64_t v119 = (uint64_t)(value_u8(MKU8(v112)));
				uint32_t v120 = (uint32_t)(v119);
				uint64_t v121 = (uint64_t)(v120);
				uint64_t v122 = (uint64_t)(v118);
				bool v123 = (value_u64(MKU64(v121)) <= v122);
				bool branch_Bool_124;
				if (value_bool(MKBOOL(v123))) {
					int64_t v125 = VI64(MKI64(in_Byte_2));
					INT v126 = i64_to_int(v125);
					uint64_t v127 = int_to_u64(v126);
					uint8_t v128 = (uint8_t)(v127);
					int64_t v129 = VI64(MKI64(v108));
					INT v130 = i64_to_int(v129);
					uint64_t v131 = int_to_u64(v130);
					uint8_t v132 = (uint8_t)(v131);
					uint64_t v133 = (uint64_t)(v132);
					uint32_t v134 = (uint32_t)(v133);
					uint64_t v135 = (uint64_t)(value_u8(MKU8(v128)));
					uint32_t v136 = (uint32_t)(v135);
					uint64_t v137 = (uint64_t)(v136);
					uint64_t v138 = (uint64_t)(v134);
					bool v139 = (value_u64(MKU64(v137)) <= v138);
					branch_Bool_124 = v139;
				} else {
					decref(MKI64(VI64(MKI64(v108))));
					decref(MKI64(VI64(MKI64(in_Byte_2))));
					bool v140 = false;
					branch_Bool_124 = v140;
				}
				bool branch_Bool_141;
				if (branch_Bool_124) {
					bool v142 = true;
					branch_Bool_141 = v142;
				} else {
					int64_t v143 = 97LL /* B'a' */;
					int64_t v144 = 122LL /* B'z' */;
					int64_t v145 = v143;
					INT v146 = i64_to_int(v145);
					uint64_t v147 = int_to_u64(v146);
					uint8_t v148 = (uint8_t)(v147);
					int64_t v149 = in_Byte_2;
					INT v150 = i64_to_int(v149);
					uint64_t v151 = int_to_u64(v150);
					uint8_t v152 = (uint8_t)(v151);
					uint64_t v153 = (uint64_t)(v152);
					uint32_t v154 = (uint32_t)(v153);
					uint64_t v155 = (uint64_t)(value_u8(MKU8(v148)));
					uint32_t v156 = (uint32_t)(v155);
					uint64_t v157 = (uint64_t)(v156);
					uint64_t v158 = (uint64_t)(v154);
					bool v159 = (value_u64(MKU64(v157)) <= v158);
					bool branch_Bool_160;
					if (value_bool(MKBOOL(v159))) {
						int64_t v161 = VI64(MKI64(in_Byte_2));
						INT v162 = i64_to_int(v161);
						uint64_t v163 = int_to_u64(v162);
						uint8_t v164 = (uint8_t)(v163);
						int64_t v165 = VI64(MKI64(v144));
						INT v166 = i64_to_int(v165);
						uint64_t v167 = int_to_u64(v166);
						uint8_t v168 = (uint8_t)(v167);
						uint64_t v169 = (uint64_t)(v168);
						uint32_t v170 = (uint32_t)(v169);
						uint64_t v171 = (uint64_t)(value_u8(MKU8(v164)));
						uint32_t v172 = (uint32_t)(v171);
						uint64_t v173 = (uint64_t)(v172);
						uint64_t v174 = (uint64_t)(v170);
						bool v175 = (value_u64(MKU64(v173)) <= v174);
						branch_Bool_160 = v175;
					} else {
						decref(MKI64(VI64(MKI64(v144))));
						decref(MKI64(VI64(MKI64(in_Byte_2))));
						bool v176 = false;
						branch_Bool_160 = v176;
					}
					branch_Bool_141 = branch_Bool_160;
				}
				branch_Bool_105 = branch_Bool_141;
			}
			STR* branch_ZPlusStr_177;
			if (branch_Bool_105) {
				STR* v178;
				mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(in_Byte_2, in_ZPlusStr_1, &v178);
				branch_ZPlusStr_177 = v178;
			} else {
				STR* v179;
				STRLIT(v179, "Z", 1);
				STR* v180;
				mw_std_str_ZPlusStr_pushZ_strZBang(v179, in_ZPlusStr_1, &v180);
				STR* v181;
				mw_std_byte_Byte_intZThen(v180, in_Byte_2, &v181);
				STR* v182;
				STRLIT(v182, "U", 1);
				STR* v183;
				mw_std_str_ZPlusStr_pushZ_strZBang(v182, v181, &v183);
				branch_ZPlusStr_177 = v183;
			}
			branch_ZPlusStr_4 = branch_ZPlusStr_177;
		} break;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static void mw_std_byte_Byte_intZThen (STR* in_ZPlusStr_1, int64_t in_Byte_2, STR* *out_ZPlusStr_3) {
	int64_t v4 = in_Byte_2;
	INT v5 = i64_to_int(v4);
	STR* v6 = int_to_str(v5);
	STR* v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(v6, in_ZPlusStr_1, &v7);
	*out_ZPlusStr_3 = v7;
}
static ARR* mw_std_prim_Array_1_New (VAL in_a_1, INT in_Nat_2) {
	INT v4 = in_Nat_2;
	INT v5 = WRAP_I63(0LL);
	INT v6 = WRAP_I63(-1LL);
	uint64_t v7 = int_to_u64(v6);
	INT v8 = u64_to_int(v7);
	incref(MKINT(v4));
	incref(MKINT(v5));
	bool v9 = int_lt(value_int(MKINT(v4)), value_int(MKINT(v5)));
	INT branch_Int_10;
	if (v9) {
		decref(MKINT(value_int(MKINT(v4))));
		branch_Int_10 = value_int(MKINT(value_int(MKINT(v5))));
	} else {
		decref(MKINT(value_int(MKINT(v5))));
		branch_Int_10 = value_int(MKINT(v4));
	}
	incref(MKINT(branch_Int_10));
	incref(MKINT(v8));
	bool v11 = int_lt(value_int(MKINT(v8)), value_int(MKINT(branch_Int_10)));
	INT branch_Int_12;
	if (v11) {
		decref(MKINT(value_int(MKINT(branch_Int_10))));
		branch_Int_12 = value_int(MKINT(value_int(MKINT(v8))));
	} else {
		decref(MKINT(value_int(MKINT(v8))));
		branch_Int_12 = value_int(MKINT(branch_Int_10));
	}
	uint64_t v13 = int_to_u64(branch_Int_12);
	ARR* v14 = arr_new(in_a_1, v13);
	return v14;
}
static void mw_std_prim_Array_1_thaw (ARR* in_Array_1, ARR* *out_ZPlusArray_2) {
	ARR* v3 = arr_thaw(in_Array_1);
	*out_ZPlusArray_2 = v3;
}
static INT mw_std_prim_Array_1_len (ARR* in_Array_1) {
	uint64_t v3 = arr_len(in_Array_1);
	INT v4 = u64_to_int(v3);
	INT v5 = v4;
	return v5;
}
static VAL mw_std_prim_Array_1_get (INT in_Nat_1, ARR* in_Array_2) {
	INT v4 = in_Nat_1;
	INT v5 = WRAP_I63(0LL);
	INT v6 = WRAP_I63(-1LL);
	uint64_t v7 = int_to_u64(v6);
	INT v8 = u64_to_int(v7);
	incref(MKINT(v4));
	incref(MKINT(v5));
	bool v9 = int_lt(value_int(MKINT(v4)), value_int(MKINT(v5)));
	INT branch_Int_10;
	if (v9) {
		decref(MKINT(value_int(MKINT(v4))));
		branch_Int_10 = value_int(MKINT(value_int(MKINT(v5))));
	} else {
		decref(MKINT(value_int(MKINT(v5))));
		branch_Int_10 = value_int(MKINT(v4));
	}
	incref(MKINT(branch_Int_10));
	incref(MKINT(v8));
	bool v11 = int_lt(value_int(MKINT(v8)), value_int(MKINT(branch_Int_10)));
	INT branch_Int_12;
	if (v11) {
		decref(MKINT(value_int(MKINT(branch_Int_10))));
		branch_Int_12 = value_int(MKINT(value_int(MKINT(v8))));
	} else {
		decref(MKINT(value_int(MKINT(v8))));
		branch_Int_12 = value_int(MKINT(branch_Int_10));
	}
	uint64_t v13 = int_to_u64(branch_Int_12);
	VAL v14 = arr_get(in_Array_2, v13);
	return v14;
}
static ARR* mw_std_prim_Array_1_set (VAL in_a_1, INT in_Nat_2, ARR* in_Array_3) {
	INT v5 = in_Nat_2;
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(-1LL);
	uint64_t v8 = int_to_u64(v7);
	INT v9 = u64_to_int(v8);
	incref(MKINT(v5));
	incref(MKINT(v6));
	bool v10 = int_lt(value_int(MKINT(v5)), value_int(MKINT(v6)));
	INT branch_Int_11;
	if (v10) {
		decref(MKINT(value_int(MKINT(v5))));
		branch_Int_11 = value_int(MKINT(value_int(MKINT(v6))));
	} else {
		decref(MKINT(value_int(MKINT(v6))));
		branch_Int_11 = value_int(MKINT(v5));
	}
	incref(MKINT(branch_Int_11));
	incref(MKINT(v9));
	bool v12 = int_lt(value_int(MKINT(v9)), value_int(MKINT(branch_Int_11)));
	INT branch_Int_13;
	if (v12) {
		decref(MKINT(value_int(MKINT(branch_Int_11))));
		branch_Int_13 = value_int(MKINT(value_int(MKINT(v9))));
	} else {
		decref(MKINT(value_int(MKINT(v9))));
		branch_Int_13 = value_int(MKINT(branch_Int_11));
	}
	uint64_t v14 = int_to_u64(branch_Int_13);
	ARR* v15 = arr_set(value_arr(MKARR(in_Array_3)), value_u64(MKU64(v14)), in_a_1);
	return v15;
}
static ARR* mw_std_prim_Array_1_expand (VAL in_a_1, INT in_Nat_2, ARR* in_Array_3) {
	INT v5 = in_Nat_2;
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(-1LL);
	uint64_t v8 = int_to_u64(v7);
	INT v9 = u64_to_int(v8);
	incref(MKINT(v5));
	incref(MKINT(v6));
	bool v10 = int_lt(value_int(MKINT(v5)), value_int(MKINT(v6)));
	INT branch_Int_11;
	if (v10) {
		decref(MKINT(value_int(MKINT(v5))));
		branch_Int_11 = value_int(MKINT(value_int(MKINT(v6))));
	} else {
		decref(MKINT(value_int(MKINT(v6))));
		branch_Int_11 = value_int(MKINT(v5));
	}
	incref(MKINT(branch_Int_11));
	incref(MKINT(v9));
	bool v12 = int_lt(value_int(MKINT(v9)), value_int(MKINT(branch_Int_11)));
	INT branch_Int_13;
	if (v12) {
		decref(MKINT(value_int(MKINT(branch_Int_11))));
		branch_Int_13 = value_int(MKINT(value_int(MKINT(v9))));
	} else {
		decref(MKINT(value_int(MKINT(v9))));
		branch_Int_13 = value_int(MKINT(branch_Int_11));
	}
	uint64_t v14 = int_to_u64(branch_Int_13);
	ARR* v15 = arr_expand(value_arr(MKARR(in_Array_3)), value_u64(MKU64(v14)), in_a_1);
	return v15;
}
static ARR* mw_std_prim_Array_1_slice (INT in_Nat_1, INT in_Nat_2, ARR* in_Array_3) {
	incref(MKARR(in_Array_3));
	INT v5 = mw_std_prim_Array_1_len(value_arr(MKARR(in_Array_3)));
	INT v6 = in_Nat_1;
	INT v7 = v5;
	incref(MKINT(v6));
	incref(MKINT(v7));
	bool v8 = int_lt(value_int(MKINT(v7)), value_int(MKINT(v6)));
	INT branch_Int_9;
	if (v8) {
		decref(MKINT(value_int(MKINT(v6))));
		branch_Int_9 = value_int(MKINT(value_int(MKINT(v7))));
	} else {
		decref(MKINT(value_int(MKINT(v7))));
		branch_Int_9 = value_int(MKINT(v6));
	}
	INT v10 = branch_Int_9;
	incref(MKARR(value_arr(MKARR(in_Array_3))));
	INT v11 = mw_std_prim_Array_1_len(value_arr(MKARR(in_Array_3)));
	INT v12 = value_nat(MKNAT(in_Nat_2));
	INT v13 = v11;
	incref(MKINT(v12));
	incref(MKINT(v13));
	bool v14 = int_lt(value_int(MKINT(v13)), value_int(MKINT(v12)));
	INT branch_Int_15;
	if (v14) {
		decref(MKINT(value_int(MKINT(v12))));
		branch_Int_15 = value_int(MKINT(value_int(MKINT(v13))));
	} else {
		decref(MKINT(value_int(MKINT(v13))));
		branch_Int_15 = value_int(MKINT(v12));
	}
	INT v16 = branch_Int_15;
	incref(MKNAT(v10));
	INT v17 = value_nat(MKNAT(v16));
	INT v18 = value_nat(MKNAT(v10));
	INT v19 = int_sub(v17, v18);
	INT v20 = WRAP_I63(0LL);
	INT v21 = WRAP_I63(-1LL);
	uint64_t v22 = int_to_u64(v21);
	INT v23 = u64_to_int(v22);
	incref(MKINT(v19));
	incref(MKINT(v20));
	bool v24 = int_lt(value_int(MKINT(v19)), value_int(MKINT(v20)));
	INT branch_Int_25;
	if (v24) {
		decref(MKINT(value_int(MKINT(v19))));
		branch_Int_25 = value_int(MKINT(value_int(MKINT(v20))));
	} else {
		decref(MKINT(value_int(MKINT(v20))));
		branch_Int_25 = value_int(MKINT(v19));
	}
	incref(MKINT(branch_Int_25));
	incref(MKINT(v23));
	bool v26 = int_lt(value_int(MKINT(v23)), value_int(MKINT(branch_Int_25)));
	INT branch_Int_27;
	if (v26) {
		decref(MKINT(value_int(MKINT(branch_Int_25))));
		branch_Int_27 = value_int(MKINT(value_int(MKINT(v23))));
	} else {
		decref(MKINT(value_int(MKINT(v23))));
		branch_Int_27 = value_int(MKINT(branch_Int_25));
	}
	uint64_t v28 = int_to_u64(branch_Int_27);
	INT v29 = value_nat(MKNAT(v10));
	INT v30 = WRAP_I63(0LL);
	INT v31 = WRAP_I63(-1LL);
	uint64_t v32 = int_to_u64(v31);
	INT v33 = u64_to_int(v32);
	incref(MKINT(v29));
	incref(MKINT(v30));
	bool v34 = int_lt(value_int(MKINT(v29)), value_int(MKINT(v30)));
	INT branch_Int_35;
	if (v34) {
		decref(MKINT(value_int(MKINT(v29))));
		branch_Int_35 = value_int(MKINT(value_int(MKINT(v30))));
	} else {
		decref(MKINT(value_int(MKINT(v30))));
		branch_Int_35 = value_int(MKINT(v29));
	}
	incref(MKINT(branch_Int_35));
	incref(MKINT(v33));
	bool v36 = int_lt(value_int(MKINT(v33)), value_int(MKINT(branch_Int_35)));
	INT branch_Int_37;
	if (v36) {
		decref(MKINT(value_int(MKINT(branch_Int_35))));
		branch_Int_37 = value_int(MKINT(value_int(MKINT(v33))));
	} else {
		decref(MKINT(value_int(MKINT(v33))));
		branch_Int_37 = value_int(MKINT(branch_Int_35));
	}
	uint64_t v38 = int_to_u64(branch_Int_37);
	ARR* v39 = arr_slice(value_arr(MKARR(value_arr(MKARR(in_Array_3)))), value_u64(MKU64(v38)), value_u64(MKU64(v28)));
	return v39;
}
static ARR* mw_std_prim_Array_1_prefix (INT in_Nat_1, ARR* in_Array_2) {
	INT v4 = WRAP_I63(0LL);
	ARR* v5 = mw_std_prim_Array_1_slice(v4, value_nat(MKNAT(in_Nat_1)), value_arr(MKARR(in_Array_2)));
	return v5;
}
static void mw_std_array_ZPlusArray_1_New (VAL in_a_1, INT in_Nat_2, ARR* *out_ZPlusArray_3) {
	ARR* v4 = mw_std_prim_Array_1_New(in_a_1, in_Nat_2);
	*out_ZPlusArray_3 = v4;
}
static ARR* mw_std_array_ZPlusArray_1_freezze (ARR* in_ZPlusArray_1) {
	return in_ZPlusArray_1;
}
static void mw_std_array_ZPlusArray_1_rdrop (ARR* in_ZPlusArray_1) {
	ARR* v2 = mw_std_array_ZPlusArray_1_freezze(in_ZPlusArray_1);
	decref(MKARR(v2));
}
static INT mw_std_array_ZPlusArray_1_lenZAt (ARR* in_ZPlusArray_1, ARR* *out_ZPlusArray_2) {
	ARR* v4 = mw_std_array_ZPlusArray_1_freezze(in_ZPlusArray_1);
	incref(MKARR(v4));
	INT v5 = mw_std_prim_Array_1_len(v4);
	ARR* v6;
	mw_std_prim_Array_1_thaw(v4, &v6);
	*out_ZPlusArray_2 = v6;
	return v5;
}
static VAL mw_std_array_ZPlusArray_1_valueZAt (ARR* in_ZPlusArray_1, INT in_Nat_2, ARR* *out_ZPlusArray_3) {
	ARR* v5 = mw_std_array_ZPlusArray_1_freezze(in_ZPlusArray_1);
	incref(MKARR(v5));
	VAL v6 = mw_std_prim_Array_1_get(in_Nat_2, v5);
	ARR* v7;
	mw_std_prim_Array_1_thaw(v5, &v7);
	*out_ZPlusArray_3 = v7;
	return v6;
}
static void mw_std_array_ZPlusArray_1_valueZBang (ARR* in_ZPlusArray_1, VAL in_a_2, INT in_Nat_3, ARR* *out_ZPlusArray_4) {
	ARR* v5 = mw_std_array_ZPlusArray_1_freezze(in_ZPlusArray_1);
	ARR* v6 = mw_std_prim_Array_1_set(in_a_2, in_Nat_3, v5);
	ARR* v7;
	mw_std_prim_Array_1_thaw(v6, &v7);
	*out_ZPlusArray_4 = v7;
}
static void mw_std_array_ZPlusArray_1_truncateZBang (ARR* in_ZPlusArray_1, INT in_Nat_2, ARR* *out_ZPlusArray_3) {
	ARR* v4 = mw_std_array_ZPlusArray_1_freezze(in_ZPlusArray_1);
	ARR* v5 = mw_std_prim_Array_1_prefix(in_Nat_2, v4);
	ARR* v6;
	mw_std_prim_Array_1_thaw(v5, &v6);
	*out_ZPlusArray_3 = v6;
}
static void mw_std_array_ZPlusArray_1_expandZBang (ARR* in_ZPlusArray_1, VAL in_a_2, INT in_Nat_3, ARR* *out_ZPlusArray_4) {
	ARR* v5 = mw_std_array_ZPlusArray_1_freezze(in_ZPlusArray_1);
	ARR* v6 = mw_std_prim_Array_1_expand(in_a_2, in_Nat_3, v5);
	ARR* v7;
	mw_std_prim_Array_1_thaw(v6, &v7);
	*out_ZPlusArray_4 = v7;
}
static void mw_std_array_ZPlusArray_1_resizzeZBang (ARR* in_ZPlusArray_1, VAL in_a_2, INT in_Nat_3, ARR* *out_ZPlusArray_4) {
	incref(MKNAT(in_Nat_3));
	ARR* v5;
	INT v6 = mw_std_array_ZPlusArray_1_lenZAt(in_ZPlusArray_1, &v5);
	INT v7 = v6;
	INT v8 = in_Nat_3;
	bool v9 = int_lt(v8, v7);
	ARR* branch_ZPlusArray_10;
	if (v9) {
		decref(in_a_2);
		ARR* v11;
		mw_std_array_ZPlusArray_1_truncateZBang(v5, value_nat(MKNAT(in_Nat_3)), &v11);
		branch_ZPlusArray_10 = v11;
	} else {
		ARR* v12;
		mw_std_array_ZPlusArray_1_expandZBang(v5, in_a_2, in_Nat_3, &v12);
		branch_ZPlusArray_10 = v12;
	}
	*out_ZPlusArray_4 = branch_ZPlusArray_10;
}
static void* mw_std_array_ZPlusArray_1_base (ARR* in_ZPlusArray_1, ARR* *out_ZPlusArray_2) {
	ARR* v6 = mw_std_array_ZPlusArray_1_freezze(in_ZPlusArray_1);
	incref(MKARR(v6));
	void* v7 = arr_base(v6);
	ARR* v8;
	mw_std_prim_Array_1_thaw(v6, &v8);
	*out_ZPlusArray_2 = v8;
	return v7;
}
static void mw_std_buffer_ZPlusBuffer_New (INT in_Sizze_1, ARR* *out_ZPlusBuffer_2) {
	uint8_t v3 = 0;
	incref(MKINT(in_Sizze_1));
	INT v4 = WRAP_I63(0LL);
	INT v5 = v4;
	bool v6 = int_le(v5, in_Sizze_1);
	INT branch_Nat_7;
	if (v6) {
		INT v8 = in_Sizze_1;
		branch_Nat_7 = v8;
	} else {
		decref(MKINT(in_Sizze_1));
		INT v9 = WRAP_I63(0LL);
		branch_Nat_7 = v9;
	}
	ARR* v10;
	mw_std_array_ZPlusArray_1_New(MKU8(v3), branch_Nat_7, &v10);
	*out_ZPlusBuffer_2 = v10;
}
static void mw_std_buffer_ZPlusBuffer_rdrop (ARR* in_ZPlusBuffer_1) {
	mw_std_array_ZPlusArray_1_rdrop(in_ZPlusBuffer_1);
}
static INT mw_std_buffer_ZPlusBuffer_sizze (ARR* in_ZPlusBuffer_1, ARR* *out_ZPlusBuffer_2) {
	ARR* v4;
	INT v5 = mw_std_array_ZPlusArray_1_lenZAt(in_ZPlusBuffer_1, &v4);
	INT v6 = v5;
	*out_ZPlusBuffer_2 = v4;
	return v6;
}
static void* mw_std_buffer_ZPlusBuffer_base (ARR* in_ZPlusBuffer_1, ARR* *out_ZPlusBuffer_2) {
	ARR* v4;
	void* v5 = mw_std_array_ZPlusArray_1_base(in_ZPlusBuffer_1, &v4);
	*out_ZPlusBuffer_2 = v4;
	return v5;
}
static void mw_std_buffer_ZPlusBuffer_resizzeZBang (ARR* in_ZPlusBuffer_1, INT in_Sizze_2, ARR* *out_ZPlusBuffer_3) {
	uint8_t v4 = 0;
	incref(MKINT(in_Sizze_2));
	INT v5 = WRAP_I63(0LL);
	INT v6 = v5;
	bool v7 = int_le(v6, in_Sizze_2);
	INT branch_Nat_8;
	if (v7) {
		INT v9 = in_Sizze_2;
		branch_Nat_8 = v9;
	} else {
		decref(MKINT(in_Sizze_2));
		INT v10 = WRAP_I63(0LL);
		branch_Nat_8 = v10;
	}
	ARR* v11;
	mw_std_array_ZPlusArray_1_resizzeZBang(in_ZPlusBuffer_1, MKU8(v4), branch_Nat_8, &v11);
	*out_ZPlusBuffer_3 = v11;
}
static void mw_std_buffer_ZPlusBuffer_expandZBang (ARR* in_ZPlusBuffer_1, INT in_Sizze_2, ARR* *out_ZPlusBuffer_3) {
	incref(MKINT(in_Sizze_2));
	ARR* v4;
	INT v5 = mw_std_buffer_ZPlusBuffer_sizze(in_ZPlusBuffer_1, &v4);
	bool v6 = int_lt(value_int(MKINT(v5)), in_Sizze_2);
	ARR* branch_ZPlusBuffer_7;
	if (v6) {
		ARR* v8;
		INT v9 = mw_std_buffer_ZPlusBuffer_sizze(v4, &v8);
		INT v10 = WRAP_I63(2LL);
		INT v11 = int_mul(v9, v10);
		incref(MKINT(in_Sizze_2));
		incref(MKINT(v11));
		bool v12 = int_lt(value_int(MKINT(value_int(MKINT(in_Sizze_2)))), value_int(MKINT(v11)));
		INT branch_Sizze_13;
		if (v12) {
			decref(MKINT(value_int(MKINT(in_Sizze_2))));
			branch_Sizze_13 = value_int(MKINT(value_int(MKINT(v11))));
		} else {
			decref(MKINT(value_int(MKINT(v11))));
			branch_Sizze_13 = value_int(MKINT(in_Sizze_2));
		}
		ARR* v14;
		mw_std_buffer_ZPlusBuffer_resizzeZBang(v8, branch_Sizze_13, &v14);
		branch_ZPlusBuffer_7 = v14;
	} else {
		decref(MKINT(in_Sizze_2));
		branch_ZPlusBuffer_7 = v4;
	}
	*out_ZPlusBuffer_3 = branch_ZPlusBuffer_7;
}
static INT mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang (ARR* in_ZPlusBuffer_1, INT in_Offset_2, INT in_Sizze_3, ARR* *out_ZPlusBuffer_4) {
	incref(MKINT(in_Offset_2));
	INT v6 = int_add(value_int(MKINT(value_int(MKINT(in_Sizze_3)))), value_int(MKINT(in_Offset_2)));
	ARR* v7;
	mw_std_buffer_ZPlusBuffer_expandZBang(in_ZPlusBuffer_1, v6, &v7);
	*out_ZPlusBuffer_4 = v7;
	return value_int(MKINT(in_Offset_2));
}
static uint8_t mw_std_buffer_ZPlusBuffer_u8ZAt (ARR* in_ZPlusBuffer_1, INT in_Offset_2, ARR* *out_ZPlusBuffer_3) {
	INT v5 = WRAP_I63(1LL);
	ARR* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_ZPlusBuffer_1, in_Offset_2, v5, &v6);
	ARR* v8;
	void* v9 = mw_std_buffer_ZPlusBuffer_base(v6, &v8);
	void* v10 = mw_std_prelude_unsafe_1_sp5(v7, v9);
	uint8_t v11 = *(uint8_t*)v10;
	*out_ZPlusBuffer_3 = v8;
	return v11;
}
static void mw_std_buffer_ZPlusBuffer_u8ZBang (ARR* in_ZPlusBuffer_1, uint8_t in_U8_2, INT in_Offset_3, ARR* *out_ZPlusBuffer_4) {
	INT v5 = WRAP_I63(1LL);
	ARR* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_ZPlusBuffer_1, in_Offset_3, v5, &v6);
	ARR* v8;
	void* v9 = mw_std_buffer_ZPlusBuffer_base(v6, &v8);
	void* v10 = mw_std_prelude_unsafe_1_sp5(v7, v9);
	*(uint8_t*)v10 = in_U8_2;
	*out_ZPlusBuffer_4 = v8;
}
static void mw_std_buffer_ZPlusBuffer_byteZBang (ARR* in_ZPlusBuffer_1, int64_t in_Byte_2, INT in_Offset_3, ARR* *out_ZPlusBuffer_4) {
	int64_t v5 = in_Byte_2;
	INT v6 = i64_to_int(v5);
	uint64_t v7 = int_to_u64(v6);
	uint8_t v8 = (uint8_t)(v7);
	ARR* v9;
	mw_std_buffer_ZPlusBuffer_u8ZBang(in_ZPlusBuffer_1, v8, in_Offset_3, &v9);
	*out_ZPlusBuffer_4 = v9;
}
static STR* mw_std_buffer_ZPlusBuffer_strZAt (ARR* in_ZPlusBuffer_1, INT in_Offset_2, INT in_Sizze_3, ARR* *out_ZPlusBuffer_4) {
	incref(MKINT(in_Sizze_3));
	ARR* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_ZPlusBuffer_1, value_int(MKINT(in_Offset_2)), value_int(MKINT(in_Sizze_3)), &v6);
	ARR* v8;
	void* v9 = mw_std_buffer_ZPlusBuffer_base(v6, &v8);
	void* v10 = mw_std_prelude_unsafe_1_sp5(v7, v9);
	STR* v11 = mw_std_prelude_unsafe_1_sp3(v10, value_int(MKINT(in_Sizze_3)));
	*out_ZPlusBuffer_4 = v8;
	return v11;
}
static void mw_std_buffer_ZPlusBuffer_strZBang (ARR* in_ZPlusBuffer_1, STR* in_Str_2, INT in_Offset_3, ARR* *out_ZPlusBuffer_4) {
	incref(MKSTR(in_Str_2));
	uint64_t v5 = str_size(value_str(MKSTR(in_Str_2)));
	INT v6 = u64_to_int(v5);
	ARR* v7;
	INT v8 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_ZPlusBuffer_1, value_int(MKINT(in_Offset_3)), v6, &v7);
	ARR* v9;
	void* v10 = mw_std_buffer_ZPlusBuffer_base(v7, &v9);
	void* v11 = mw_std_prelude_unsafe_1_sp5(v8, v10);
	mw_std_prim_Ptr_ZBangStr(value_str(MKSTR(in_Str_2)), v11);
	*out_ZPlusBuffer_4 = v9;
}
static void mw_std_prim_Ptr_ZBangStr (STR* in_Str_1, void* in_Ptr_2) {
	incref(MKSTR(in_Str_1));
	incref(MKSTR(in_Str_1));
	void* v5 = str_base(in_Str_1);
	uint64_t v6 = str_size(in_Str_1);
	INT v7 = u64_to_int(v6);
	uint64_t v8 = int_to_u64(value_int(MKINT(v7)));
	ptr_copy(value_ptr(MKPTR(v5)), v8, value_ptr(MKPTR(in_Ptr_2)));
	decref(MKSTR(in_Str_1));
}
static int64_t mw_std_prim_Str_lastZ_byte (STR* in_Str_1) {
	incref(MKSTR(in_Str_1));
	uint64_t v3 = str_size(in_Str_1);
	INT v4 = u64_to_int(v3);
	INT v5 = WRAP_I63(1LL);
	INT v6 = v5;
	INT v7 = int_sub(v4, v6);
	int64_t v8 = mw_std_prim_Str_byteZAt(v7, in_Str_1);
	return v8;
}
static int64_t mw_std_str_ZPlusStr_lastZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_3) {
	incref(MKSTR(in_ZPlusStr_1));
	int64_t v4 = mw_std_prim_Str_lastZ_byte(in_ZPlusStr_1);
	*out_ZPlusStr_3 = in_ZPlusStr_1;
	return v4;
}
static int64_t mw_std_str_ZPlusStr_byteZAt (INT in_Offset_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_4) {
	incref(MKSTR(in_ZPlusStr_2));
	int64_t v5 = mw_std_prim_Str_byteZAt(in_Offset_1, in_ZPlusStr_2);
	*out_ZPlusStr_4 = in_ZPlusStr_2;
	return v5;
}
static bool mw_std_str_offsetZ_inZ_bounds (INT in_Offset_1, INT in_Sizze_2) {
	INT v4 = WRAP_I63(0LL);
	incref(MKINT(in_Offset_1));
	bool v5 = int_le(value_int(MKINT(v4)), in_Offset_1);
	bool branch_Bool_6;
	if (value_bool(MKBOOL(v5))) {
		bool v7 = int_le(value_int(MKINT(value_int(MKINT(in_Offset_1)))), value_int(MKINT(in_Sizze_2)));
		branch_Bool_6 = v7;
	} else {
		decref(MKINT(value_int(MKINT(in_Sizze_2))));
		decref(MKINT(value_int(MKINT(in_Offset_1))));
		bool v8 = false;
		branch_Bool_6 = v8;
	}
	return branch_Bool_6;
}
static int64_t mw_std_prim_Str_byteZAt (INT in_Offset_1, STR* in_Str_2) {
	incref(MKSTR(in_Str_2));
	incref(MKSTR(in_Str_2));
	void* v4 = str_base(in_Str_2);
	uint64_t v5 = str_size(in_Str_2);
	INT v6 = u64_to_int(v5);
	incref(MKINT(in_Offset_1));
	bool v7 = mw_std_str_offsetZ_inZ_bounds(value_int(MKINT(in_Offset_1)), v6);
	int64_t branch_Byte_8;
	if (v7) {
		int64_t v9 = int_to_i64(value_int(MKINT(in_Offset_1)));
		void* v10 = (void*)(v9 + (char*)value_ptr(MKPTR(v4)));
		uint8_t v11 = *(uint8_t*)v10;
		uint64_t v12 = (uint64_t)(v11);
		INT v13 = u64_to_int(v12);
		int64_t v14 = int_to_i64(v13);
		branch_Byte_8 = v14;
	} else {
		decref(MKPTR(value_ptr(MKPTR(v4))));
		decref(MKINT(value_int(MKINT(in_Offset_1))));
		int64_t v15 = 0LL /* BNUL */;
		branch_Byte_8 = v15;
	}
	decref(MKSTR(in_Str_2));
	return branch_Byte_8;
}
static void mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4 = mw_std_byte_Byte_toZ_strZ_unsafe(in_Byte_1);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, in_ZPlusStr_2, &v5);
	*out_ZPlusStr_3 = v5;
}
static void mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	PTUP v4 = mw_std_byte_Byte_toZ_asciiZ_str(in_Byte_1);
	STR* branch_ZPlusStr_5;
	switch (PTREXTRA(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			STR* v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v6), in_ZPlusStr_2, &v7);
			branch_ZPlusStr_5 = v7;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_5 = in_ZPlusStr_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_5;
}
static void mw_std_str_ZPlusStr_pushZ_strZBang (STR* in_Str_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4 = str_cat(in_ZPlusStr_2, in_Str_1);
	*out_ZPlusStr_3 = v4;
}
static STR* mw_std_prim_Str_dropZ_bytes (INT in_Sizze_1, STR* in_Str_2) {
	incref(MKSTR(in_Str_2));
	incref(MKSTR(in_Str_2));
	void* v6 = str_base(in_Str_2);
	uint64_t v7 = str_size(in_Str_2);
	INT v8 = u64_to_int(v7);
	incref(MKINT(in_Sizze_1));
	INT v9 = int_sub(value_int(MKINT(v8)), value_int(MKINT(in_Sizze_1)));
	incref(MKINT(v9));
	INT v10 = WRAP_I63(0LL);
	INT v11 = v10;
	bool v12 = int_le(v11, v9);
	STR* branch_Str_13;
	if (v12) {
		int64_t v14 = int_to_i64(value_int(MKINT(in_Sizze_1)));
		void* v15 = (void*)(v14 + (char*)value_ptr(MKPTR(v6)));
		uint64_t v16 = int_to_u64(v9);
		STR* v17 = str_make(v15, v16);
		branch_Str_13 = v17;
	} else {
		decref(MKINT(v9));
		decref(MKPTR(value_ptr(MKPTR(v6))));
		decref(MKINT(value_int(MKINT(in_Sizze_1))));
		STR* v18;
		STRLIT(v18, "", 0);
		branch_Str_13 = value_str(MKSTR(v18));
	}
	decref(MKSTR(in_Str_2));
	return branch_Str_13;
}
static STR* mw_std_prim_Str_fromZ_bytesZ_unsafe (PTUP in_List_1) {
	incref(MKTUP(in_List_1));
	INT v3 = mw_std_list_List_1_len(in_List_1);
	INT v4 = v3;
	ARR* v5;
	mw_std_buffer_ZPlusBuffer_New(v4, &v5);
	INT v6 = WRAP_I63(0LL);
	bool v7 = true;
	ARR* r8 = v5;
	INT v9 = v6;
	PTUP v10 = in_List_1;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		ARR* r13 = r8;
		INT v14 = v9;
		PTUP v15 = v10;
		bool v16 = v11;
		ARR* branch_ZPlusBuffer_17;
		INT branch_Offset_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				int64_t v23 = VI64(v22);
				INT v24 = i64_to_int(v23);
				uint64_t v25 = int_to_u64(v24);
				uint8_t v26 = (uint8_t)(v25);
				incref(MKINT(v14));
				ARR* v27;
				mw_std_buffer_ZPlusBuffer_u8ZBang(r13, value_u8(MKU8(v26)), value_int(MKINT(v14)), &v27);
				INT v28 = WRAP_I63(1LL);
				INT v29 = v28;
				INT v30 = int_add(value_int(MKINT(v14)), v29);
				bool v31 = true;
				branch_Bool_20 = v31;
				branch_List_19 = v21;
				branch_Offset_18 = v30;
				branch_ZPlusBuffer_17 = v27;
			} break;
			case 0LL: { // Nil
				PTUP v32 = PTRMK(0LL /* Nil */,0,0);
				bool v33 = false;
				branch_Bool_20 = v33;
				branch_List_19 = v32;
				branch_Offset_18 = v14;
				branch_ZPlusBuffer_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_Offset_18;
		r8 = branch_ZPlusBuffer_17;
	}
	decref(MKTUP(v10));
	decref(MKINT(v9));
	ARR* v34;
	void* v35 = mw_std_buffer_ZPlusBuffer_base(r8, &v34);
	ARR* v36;
	INT v37 = mw_std_buffer_ZPlusBuffer_sizze(v34, &v36);
	STR* v38 = mw_std_prelude_unsafe_1_sp3(v35, v37);
	mw_std_buffer_ZPlusBuffer_rdrop(v36);
	return v38;
}
static INT mw_std_str_clampZ_sliceZ_offsetZ_sizze (INT in_Offset_1, INT in_Sizze_2, INT in_Sizze_3, INT *out_Sizze_5) {
	incref(MKINT(in_Sizze_3));
	INT v6 = WRAP_I63(0LL);
	incref(MKINT(v6));
	incref(MKINT(in_Offset_1));
	INT v7 = int_add(value_int(MKINT(in_Sizze_2)), value_int(MKINT(in_Offset_1)));
	incref(MKINT(v7));
	incref(MKINT(v6));
	bool v8 = int_lt(value_int(MKINT(value_int(MKINT(v7)))), value_int(MKINT(v6)));
	INT branch_Offset_9;
	if (v8) {
		decref(MKINT(value_int(MKINT(v7))));
		branch_Offset_9 = value_int(MKINT(value_int(MKINT(v6))));
	} else {
		decref(MKINT(value_int(MKINT(v6))));
		branch_Offset_9 = value_int(MKINT(v7));
	}
	incref(MKINT(branch_Offset_9));
	incref(MKINT(in_Sizze_3));
	bool v10 = int_lt(value_int(MKINT(value_int(MKINT(in_Sizze_3)))), value_int(MKINT(branch_Offset_9)));
	INT branch_Offset_11;
	if (v10) {
		decref(MKINT(value_int(MKINT(branch_Offset_9))));
		branch_Offset_11 = value_int(MKINT(value_int(MKINT(in_Sizze_3))));
	} else {
		decref(MKINT(value_int(MKINT(in_Sizze_3))));
		branch_Offset_11 = value_int(MKINT(branch_Offset_9));
	}
	incref(MKINT(value_int(MKINT(in_Offset_1))));
	incref(MKINT(v6));
	bool v12 = int_lt(value_int(MKINT(value_int(MKINT(value_int(MKINT(in_Offset_1)))))), value_int(MKINT(v6)));
	INT branch_Offset_13;
	if (v12) {
		decref(MKINT(value_int(MKINT(value_int(MKINT(in_Offset_1))))));
		branch_Offset_13 = value_int(MKINT(value_int(MKINT(v6))));
	} else {
		decref(MKINT(value_int(MKINT(v6))));
		branch_Offset_13 = value_int(MKINT(value_int(MKINT(in_Offset_1))));
	}
	incref(MKINT(branch_Offset_13));
	incref(MKINT(in_Sizze_3));
	bool v14 = int_lt(value_int(MKINT(value_int(MKINT(in_Sizze_3)))), value_int(MKINT(branch_Offset_13)));
	INT branch_Offset_15;
	if (v14) {
		decref(MKINT(value_int(MKINT(branch_Offset_13))));
		branch_Offset_15 = value_int(MKINT(value_int(MKINT(in_Sizze_3))));
	} else {
		decref(MKINT(value_int(MKINT(in_Sizze_3))));
		branch_Offset_15 = value_int(MKINT(branch_Offset_13));
	}
	incref(MKINT(branch_Offset_15));
	INT v16 = int_sub(value_int(MKINT(value_int(MKINT(branch_Offset_11)))), value_int(MKINT(branch_Offset_15)));
	INT v17 = WRAP_I63(0LL);
	incref(MKINT(v16));
	incref(MKINT(v17));
	bool v18 = int_lt(value_int(MKINT(value_int(MKINT(v16)))), value_int(MKINT(v17)));
	INT branch_Sizze_19;
	if (v18) {
		decref(MKINT(value_int(MKINT(v16))));
		branch_Sizze_19 = value_int(MKINT(value_int(MKINT(v17))));
	} else {
		decref(MKINT(value_int(MKINT(v17))));
		branch_Sizze_19 = value_int(MKINT(v16));
	}
	*out_Sizze_5 = branch_Sizze_19;
	return value_int(MKINT(branch_Offset_15));
}
static STR* mw_std_prim_Str_slice (INT in_Offset_1, INT in_Sizze_2, STR* in_Str_3) {
	incref(MKSTR(in_Str_3));
	incref(MKSTR(in_Str_3));
	void* v7 = str_base(in_Str_3);
	uint64_t v8 = str_size(in_Str_3);
	INT v9 = u64_to_int(v8);
	INT v10;
	INT v11 = mw_std_str_clampZ_sliceZ_offsetZ_sizze(in_Offset_1, in_Sizze_2, v9, &v10);
	int64_t v12 = int_to_i64(v11);
	void* v13 = (void*)(v12 + (char*)v7);
	uint64_t v14 = int_to_u64(v10);
	STR* v15 = str_make(v13, v14);
	decref(MKSTR(in_Str_3));
	return v15;
}
static STR* mw_std_prim_Str_dropZ_slice (INT in_Offset_1, STR* in_Str_2) {
	STR* v6;
	STR* v7 = mw_std_str_ZPlusStr_dropZ_slice(in_Str_2, in_Offset_1, &v6);
	decref(MKSTR(v6));
	return v7;
}
static STR* mw_std_prim_Str_takeZ_slice (INT in_Sizze_1, STR* in_Str_2) {
	STR* v6;
	STR* v7 = mw_std_str_ZPlusStr_takeZ_slice(in_Str_2, in_Sizze_1, &v6);
	decref(MKSTR(v6));
	return v7;
}
static STR* mw_std_str_ZPlusStr_slice (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Sizze_3, STR* *out_ZPlusStr_4) {
	incref(MKSTR(in_ZPlusStr_1));
	STR* v8 = mw_std_prim_Str_slice(in_Offset_2, in_Sizze_3, in_ZPlusStr_1);
	*out_ZPlusStr_4 = in_ZPlusStr_1;
	return v8;
}
static STR* mw_std_str_ZPlusStr_offsetZ_slice (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Offset_3, STR* *out_ZPlusStr_4) {
	incref(MKINT(in_Offset_2));
	INT v8 = int_sub(value_int(MKINT(value_int(MKINT(in_Offset_3)))), value_int(MKINT(in_Offset_2)));
	STR* v9;
	STR* v10 = mw_std_str_ZPlusStr_slice(in_ZPlusStr_1, value_int(MKINT(in_Offset_2)), v8, &v9);
	*out_ZPlusStr_4 = v9;
	return v10;
}
static STR* mw_std_str_ZPlusStr_takeZ_slice (STR* in_ZPlusStr_1, INT in_Sizze_2, STR* *out_ZPlusStr_3) {
	INT v7 = WRAP_I63(0LL);
	STR* v8;
	STR* v9 = mw_std_str_ZPlusStr_slice(in_ZPlusStr_1, v7, in_Sizze_2, &v8);
	*out_ZPlusStr_3 = v8;
	return v9;
}
static STR* mw_std_str_ZPlusStr_dropZ_slice (STR* in_ZPlusStr_1, INT in_Offset_2, STR* *out_ZPlusStr_3) {
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(in_Offset_2));
	incref(MKINT(v7));
	bool v8 = int_lt(value_int(MKINT(value_int(MKINT(in_Offset_2)))), value_int(MKINT(v7)));
	INT branch_Offset_9;
	if (v8) {
		decref(MKINT(value_int(MKINT(in_Offset_2))));
		branch_Offset_9 = value_int(MKINT(value_int(MKINT(v7))));
	} else {
		decref(MKINT(value_int(MKINT(v7))));
		branch_Offset_9 = value_int(MKINT(in_Offset_2));
	}
	incref(MKSTR(in_ZPlusStr_1));
	uint64_t v10 = str_size(in_ZPlusStr_1);
	INT v11 = u64_to_int(v10);
	STR* v12;
	STR* v13 = mw_std_str_ZPlusStr_slice(in_ZPlusStr_1, branch_Offset_9, v11, &v12);
	*out_ZPlusStr_3 = v12;
	return v13;
}
static PTUP mw_std_str_ZPlusStr_splitZ_byte (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_4) {
	PTUP v5 = PTRMK(0LL /* Nil */,0,0);
	PTUP v6;
	mw_std_list_List_1_buildZBang(v5, &v6);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	incref(MKINT(v7));
	incref(MKSTR(in_ZPlusStr_2));
	uint64_t v8 = str_size(in_ZPlusStr_2);
	INT v9 = u64_to_int(v8);
	bool v10 = int_lt(value_int(MKINT(v7)), v9);
	int64_t v11 = in_Byte_1;
	INT v12 = v7;
	INT v13 = v7;
	STR* r14 = in_ZPlusStr_2;
	PTUP r15 = v6;
	bool v16 = v10;
	while (v16) {
		int64_t v17 = v11;
		INT v18 = v12;
		INT v19 = v13;
		STR* r20 = r14;
		PTUP r21 = r15;
		incref(MKINT(v19));
		STR* v22;
		int64_t v23 = mw_std_str_ZPlusStr_byteZAt(value_int(MKINT(v19)), r20, &v22);
		incref(MKI64(v17));
		int64_t v24 = VI64(MKI64(v23));
		INT v25 = i64_to_int(v24);
		uint64_t v26 = int_to_u64(v25);
		uint8_t v27 = (uint8_t)(v26);
		int64_t v28 = VI64(MKI64(v17));
		INT v29 = i64_to_int(v28);
		uint64_t v30 = int_to_u64(v29);
		uint8_t v31 = (uint8_t)(v30);
		uint64_t v32 = (uint64_t)(v31);
		uint32_t v33 = (uint32_t)(v32);
		uint64_t v34 = (uint64_t)(value_u8(MKU8(v27)));
		uint32_t v35 = (uint32_t)(v34);
		uint64_t v36 = (uint64_t)(v35);
		uint64_t v37 = (uint64_t)(v33);
		bool v38 = (value_u64(MKU64(v36)) == v37);
		int64_t branch_Byte_39;
		STR* branch_ZPlusStr_40;
		PTUP branch_ZPlusLister_41;
		INT branch_Offset_42;
		INT branch_Offset_43;
		if (value_bool(MKBOOL(v38))) {
			incref(MKINT(value_int(MKINT(v19))));
			STR* v44;
			STR* v45 = mw_std_prelude_unsafe_1_sp19(v22, value_int(MKINT(value_int(MKINT(v18)))), value_int(MKINT(value_int(MKINT(v19)))), &v44);
			PTUP v46;
			mw_std_list_ZPlusLister_1_pushZBang(MKSTR(v45), VTUP(MKTUP(r21)), &v46);
			INT v47 = WRAP_I63(1LL);
			INT v48 = v47;
			INT v49 = int_add(value_int(MKINT(value_int(MKINT(v19)))), v48);
			incref(MKINT(v49));
			branch_Offset_43 = v49;
			branch_Offset_42 = v49;
			branch_ZPlusLister_41 = v46;
			branch_ZPlusStr_40 = v44;
			branch_Byte_39 = VI64(MKI64(v17));
		} else {
			INT v50 = WRAP_I63(1LL);
			INT v51 = v50;
			INT v52 = int_add(value_int(MKINT(v19)), v51);
			branch_Offset_43 = v52;
			branch_Offset_42 = value_int(MKINT(v18));
			branch_ZPlusLister_41 = VTUP(MKTUP(r21));
			branch_ZPlusStr_40 = v22;
			branch_Byte_39 = VI64(MKI64(v17));
		}
		incref(MKINT(branch_Offset_43));
		incref(MKSTR(branch_ZPlusStr_40));
		uint64_t v53 = str_size(branch_ZPlusStr_40);
		INT v54 = u64_to_int(v53);
		bool v55 = int_lt(value_int(MKINT(branch_Offset_43)), v54);
		v16 = v55;
		r15 = branch_ZPlusLister_41;
		r14 = branch_ZPlusStr_40;
		v13 = branch_Offset_43;
		v12 = branch_Offset_42;
		v11 = branch_Byte_39;
	}
	STR* v56;
	STR* v57 = mw_std_prelude_unsafe_1_sp19(r14, v12, v13, &v56);
	PTUP v58;
	mw_std_list_ZPlusLister_1_pushZPlusZBang(MKSTR(v57), r15, &v58);
	PTUP v59 = mw_std_list_ZPlusNester_1_doneZBang(v58);
	decref(MKI64(v11));
	*out_ZPlusStr_4 = v56;
	return VTUP(MKTUP(v59));
}
static PTUP mw_std_prim_Str_splitZ_byte (int64_t in_Byte_1, STR* in_Str_2) {
	STR* v4;
	PTUP v5 = mw_std_str_ZPlusStr_splitZ_byte(in_Byte_1, in_Str_2, &v4);
	decref(MKSTR(v4));
	return v5;
}
static void mw_std_str_ZPlusStr_pushZ_reprZ_byteZBang (STR* in_ZPlusStr_1, bool in_Bool_2, int64_t in_Byte_3, bool *out_Bool_4, STR* *out_ZPlusStr_5) {
	bool branch_Bool_6;
	STR* branch_ZPlusStr_7;
	switch (in_Byte_3) {
		case 34LL: { // BQUOTE
			STR* v8;
			STRLIT(v8, "\\\"", 2);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_1, &v9);
			bool v10 = false;
			branch_ZPlusStr_7 = v9;
			branch_Bool_6 = v10;
		} break;
		case 92LL: { // B'\'
			STR* v11;
			STRLIT(v11, "\\\\", 2);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v11, in_ZPlusStr_1, &v12);
			bool v13 = false;
			branch_ZPlusStr_7 = v12;
			branch_Bool_6 = v13;
		} break;
		case 10LL: { // BLF
			STR* v14;
			STRLIT(v14, "\n", 1);
			STR* v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(v14, in_ZPlusStr_1, &v15);
			bool v16 = false;
			branch_ZPlusStr_7 = v15;
			branch_Bool_6 = v16;
		} break;
		case 13LL: { // BCR
			STR* v17;
			STRLIT(v17, "\r", 1);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, in_ZPlusStr_1, &v18);
			bool v19 = false;
			branch_ZPlusStr_7 = v18;
			branch_Bool_6 = v19;
		} break;
		case 9LL: { // BHT
			STR* v20;
			STRLIT(v20, "\t", 1);
			STR* v21;
			mw_std_str_ZPlusStr_pushZ_strZBang(v20, in_ZPlusStr_1, &v21);
			bool v22 = false;
			branch_ZPlusStr_7 = v21;
			branch_Bool_6 = v22;
		} break;
		default: {
			int64_t v23 = 32LL /* BSPACE */;
			int64_t v24 = 126LL /* B'~' */;
			int64_t v25 = v23;
			INT v26 = i64_to_int(v25);
			uint64_t v27 = int_to_u64(v26);
			uint8_t v28 = (uint8_t)(v27);
			int64_t v29 = in_Byte_3;
			INT v30 = i64_to_int(v29);
			uint64_t v31 = int_to_u64(v30);
			uint8_t v32 = (uint8_t)(v31);
			uint64_t v33 = (uint64_t)(v32);
			uint32_t v34 = (uint32_t)(v33);
			uint64_t v35 = (uint64_t)(value_u8(MKU8(v28)));
			uint32_t v36 = (uint32_t)(v35);
			uint64_t v37 = (uint64_t)(v36);
			uint64_t v38 = (uint64_t)(v34);
			bool v39 = (value_u64(MKU64(v37)) <= v38);
			bool branch_Bool_40;
			if (value_bool(MKBOOL(v39))) {
				int64_t v41 = VI64(MKI64(in_Byte_3));
				INT v42 = i64_to_int(v41);
				uint64_t v43 = int_to_u64(v42);
				uint8_t v44 = (uint8_t)(v43);
				int64_t v45 = VI64(MKI64(v24));
				INT v46 = i64_to_int(v45);
				uint64_t v47 = int_to_u64(v46);
				uint8_t v48 = (uint8_t)(v47);
				uint64_t v49 = (uint64_t)(v48);
				uint32_t v50 = (uint32_t)(v49);
				uint64_t v51 = (uint64_t)(value_u8(MKU8(v44)));
				uint32_t v52 = (uint32_t)(v51);
				uint64_t v53 = (uint64_t)(v52);
				uint64_t v54 = (uint64_t)(v50);
				bool v55 = (value_u64(MKU64(v53)) <= v54);
				branch_Bool_40 = v55;
			} else {
				decref(MKI64(VI64(MKI64(v24))));
				decref(MKI64(VI64(MKI64(in_Byte_3))));
				bool v56 = false;
				branch_Bool_40 = v56;
			}
			int64_t branch_Byte_57;
			bool branch_Bool_58;
			bool branch_Bool_59;
			if (branch_Bool_40) {
				int64_t branch_Byte_60;
				bool branch_Bool_61;
				if (in_Bool_2) {
					int64_t v62 = 48LL /* B'0' */;
					int64_t v63 = 57LL /* B'9' */;
					int64_t v64 = v62;
					INT v65 = i64_to_int(v64);
					uint64_t v66 = int_to_u64(v65);
					uint8_t v67 = (uint8_t)(v66);
					int64_t v68 = in_Byte_3;
					INT v69 = i64_to_int(v68);
					uint64_t v70 = int_to_u64(v69);
					uint8_t v71 = (uint8_t)(v70);
					uint64_t v72 = (uint64_t)(v71);
					uint32_t v73 = (uint32_t)(v72);
					uint64_t v74 = (uint64_t)(value_u8(MKU8(v67)));
					uint32_t v75 = (uint32_t)(v74);
					uint64_t v76 = (uint64_t)(v75);
					uint64_t v77 = (uint64_t)(v73);
					bool v78 = (value_u64(MKU64(v76)) <= v77);
					bool branch_Bool_79;
					if (value_bool(MKBOOL(v78))) {
						int64_t v80 = VI64(MKI64(in_Byte_3));
						INT v81 = i64_to_int(v80);
						uint64_t v82 = int_to_u64(v81);
						uint8_t v83 = (uint8_t)(v82);
						int64_t v84 = VI64(MKI64(v63));
						INT v85 = i64_to_int(v84);
						uint64_t v86 = int_to_u64(v85);
						uint8_t v87 = (uint8_t)(v86);
						uint64_t v88 = (uint64_t)(v87);
						uint32_t v89 = (uint32_t)(v88);
						uint64_t v90 = (uint64_t)(value_u8(MKU8(v83)));
						uint32_t v91 = (uint32_t)(v90);
						uint64_t v92 = (uint64_t)(v91);
						uint64_t v93 = (uint64_t)(v89);
						bool v94 = (value_u64(MKU64(v92)) <= v93);
						branch_Bool_79 = v94;
					} else {
						decref(MKI64(VI64(MKI64(v63))));
						decref(MKI64(VI64(MKI64(in_Byte_3))));
						bool v95 = false;
						branch_Bool_79 = v95;
					}
					bool branch_Bool_96;
					if (branch_Bool_79) {
						bool v97 = true;
						branch_Bool_96 = v97;
					} else {
						int64_t v98 = 65LL /* B'A' */;
						int64_t v99 = 70LL /* B'F' */;
						int64_t v100 = v98;
						INT v101 = i64_to_int(v100);
						uint64_t v102 = int_to_u64(v101);
						uint8_t v103 = (uint8_t)(v102);
						int64_t v104 = in_Byte_3;
						INT v105 = i64_to_int(v104);
						uint64_t v106 = int_to_u64(v105);
						uint8_t v107 = (uint8_t)(v106);
						uint64_t v108 = (uint64_t)(v107);
						uint32_t v109 = (uint32_t)(v108);
						uint64_t v110 = (uint64_t)(value_u8(MKU8(v103)));
						uint32_t v111 = (uint32_t)(v110);
						uint64_t v112 = (uint64_t)(v111);
						uint64_t v113 = (uint64_t)(v109);
						bool v114 = (value_u64(MKU64(v112)) <= v113);
						bool branch_Bool_115;
						if (value_bool(MKBOOL(v114))) {
							int64_t v116 = VI64(MKI64(in_Byte_3));
							INT v117 = i64_to_int(v116);
							uint64_t v118 = int_to_u64(v117);
							uint8_t v119 = (uint8_t)(v118);
							int64_t v120 = VI64(MKI64(v99));
							INT v121 = i64_to_int(v120);
							uint64_t v122 = int_to_u64(v121);
							uint8_t v123 = (uint8_t)(v122);
							uint64_t v124 = (uint64_t)(v123);
							uint32_t v125 = (uint32_t)(v124);
							uint64_t v126 = (uint64_t)(value_u8(MKU8(v119)));
							uint32_t v127 = (uint32_t)(v126);
							uint64_t v128 = (uint64_t)(v127);
							uint64_t v129 = (uint64_t)(v125);
							bool v130 = (value_u64(MKU64(v128)) <= v129);
							branch_Bool_115 = v130;
						} else {
							decref(MKI64(VI64(MKI64(v99))));
							decref(MKI64(VI64(MKI64(in_Byte_3))));
							bool v131 = false;
							branch_Bool_115 = v131;
						}
						bool branch_Bool_132;
						if (branch_Bool_115) {
							bool v133 = true;
							branch_Bool_132 = v133;
						} else {
							int64_t v134 = 97LL /* B'a' */;
							int64_t v135 = 102LL /* B'f' */;
							int64_t v136 = v134;
							INT v137 = i64_to_int(v136);
							uint64_t v138 = int_to_u64(v137);
							uint8_t v139 = (uint8_t)(v138);
							int64_t v140 = in_Byte_3;
							INT v141 = i64_to_int(v140);
							uint64_t v142 = int_to_u64(v141);
							uint8_t v143 = (uint8_t)(v142);
							uint64_t v144 = (uint64_t)(v143);
							uint32_t v145 = (uint32_t)(v144);
							uint64_t v146 = (uint64_t)(value_u8(MKU8(v139)));
							uint32_t v147 = (uint32_t)(v146);
							uint64_t v148 = (uint64_t)(v147);
							uint64_t v149 = (uint64_t)(v145);
							bool v150 = (value_u64(MKU64(v148)) <= v149);
							bool branch_Bool_151;
							if (value_bool(MKBOOL(v150))) {
								int64_t v152 = VI64(MKI64(in_Byte_3));
								INT v153 = i64_to_int(v152);
								uint64_t v154 = int_to_u64(v153);
								uint8_t v155 = (uint8_t)(v154);
								int64_t v156 = VI64(MKI64(v135));
								INT v157 = i64_to_int(v156);
								uint64_t v158 = int_to_u64(v157);
								uint8_t v159 = (uint8_t)(v158);
								uint64_t v160 = (uint64_t)(v159);
								uint32_t v161 = (uint32_t)(v160);
								uint64_t v162 = (uint64_t)(value_u8(MKU8(v155)));
								uint32_t v163 = (uint32_t)(v162);
								uint64_t v164 = (uint64_t)(v163);
								uint64_t v165 = (uint64_t)(v161);
								bool v166 = (value_u64(MKU64(v164)) <= v165);
								branch_Bool_151 = v166;
							} else {
								decref(MKI64(VI64(MKI64(v135))));
								decref(MKI64(VI64(MKI64(in_Byte_3))));
								bool v167 = false;
								branch_Bool_151 = v167;
							}
							branch_Bool_132 = branch_Bool_151;
						}
						branch_Bool_96 = branch_Bool_132;
					}
					branch_Bool_61 = branch_Bool_96;
					branch_Byte_60 = in_Byte_3;
				} else {
					bool v168 = false;
					branch_Bool_61 = v168;
					branch_Byte_60 = in_Byte_3;
				}
				bool v169 = !branch_Bool_61;
				branch_Bool_59 = v169;
				branch_Bool_58 = in_Bool_2;
				branch_Byte_57 = branch_Byte_60;
			} else {
				bool v170 = false;
				branch_Bool_59 = v170;
				branch_Bool_58 = in_Bool_2;
				branch_Byte_57 = in_Byte_3;
			}
			STR* branch_ZPlusStr_171;
			bool branch_Bool_172;
			if (branch_Bool_59) {
				STR* v173;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(branch_Byte_57, in_ZPlusStr_1, &v173);
				bool v174 = false;
				branch_Bool_172 = v174;
				branch_ZPlusStr_171 = v173;
			} else {
				STR* v175;
				STRLIT(v175, "\\x", 2);
				STR* v176;
				mw_std_str_ZPlusStr_pushZ_strZBang(v175, in_ZPlusStr_1, &v176);
				int64_t v177;
				int64_t v178 = mw_std_byte_Byte_toZ_hexdigits(branch_Byte_57, &v177);
				STR* v179;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v178, v176, &v179);
				STR* v180;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v177, v179, &v180);
				bool v181 = true;
				branch_Bool_172 = v181;
				branch_ZPlusStr_171 = v180;
			}
			branch_ZPlusStr_7 = branch_ZPlusStr_171;
			branch_Bool_6 = branch_Bool_172;
		} break;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_Bool_4 = branch_Bool_6;
}
static void mw_std_prim_Str_reprZThen (STR* in_Str_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4;
	STRLIT(v4, "\"", 1);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, in_ZPlusStr_2, &v5);
	bool v6 = false;
	incref(MKSTR(in_Str_1));
	incref(MKSTR(in_Str_1));
	void* v7 = str_base(in_Str_1);
	uint64_t v8 = str_size(in_Str_1);
	INT v9 = u64_to_int(v8);
	incref(MKINT(v9));
	INT v10 = WRAP_I63(0LL);
	INT v11 = v10;
	bool v12 = int_le(v11, v9);
	INT branch_Nat_13;
	if (v12) {
		INT v14 = v9;
		branch_Nat_13 = v14;
	} else {
		decref(MKINT(v9));
		INT v15 = WRAP_I63(0LL);
		branch_Nat_13 = v15;
	}
	incref(MKNAT(branch_Nat_13));
	INT v16 = WRAP_I63(0LL);
	INT v17 = branch_Nat_13;
	INT v18 = v16;
	bool v19 = int_lt(v18, v17);
	STR* r20 = v5;
	bool v21 = v6;
	void* v22 = v7;
	INT v23 = branch_Nat_13;
	bool v24 = v19;
	while (v24) {
		STR* r25 = r20;
		bool v26 = v21;
		void* v27 = v22;
		INT v28 = v23;
		int64_t v29 = mw_std_prelude_unsafe_1_sp9(v27);
		bool v30;
		STR* v31;
		mw_std_str_ZPlusStr_pushZ_reprZ_byteZBang(r25, v26, v29, &v30, &v31);
		INT v32 = WRAP_I63(1LL);
		void* v33 = mw_std_prelude_unsafe_1_sp5(v32, v27);
		INT v34 = WRAP_I63(1LL);
		INT v35 = v28;
		INT v36 = v34;
		INT v37 = int_sub(v35, v36);
		incref(MKINT(v37));
		INT v38 = WRAP_I63(0LL);
		INT v39 = v38;
		bool v40 = int_le(v39, v37);
		INT branch_Nat_41;
		if (v40) {
			INT v42 = v37;
			branch_Nat_41 = v42;
		} else {
			decref(MKINT(v37));
			INT v43 = WRAP_I63(0LL);
			branch_Nat_41 = v43;
		}
		incref(MKNAT(branch_Nat_41));
		INT v44 = WRAP_I63(0LL);
		INT v45 = branch_Nat_41;
		INT v46 = v44;
		bool v47 = int_lt(v46, v45);
		v24 = v47;
		v23 = branch_Nat_41;
		v22 = v33;
		v21 = v30;
		r20 = v31;
	}
	decref(MKNAT(v23));
	decref(MKSTR(in_Str_1));
	STR* v48;
	STRLIT(v48, "\"", 1);
	STR* v49;
	mw_std_str_ZPlusStr_pushZ_strZBang(v48, r20, &v49);
	*out_ZPlusStr_3 = v49;
}
static void mw_std_prim_Str_zzencodeZThen (STR* in_ZPlusStr_1, STR* in_Str_2, STR* *out_ZPlusStr_3) {
	incref(MKSTR(in_Str_2));
	incref(MKSTR(in_Str_2));
	void* v4 = str_base(in_Str_2);
	uint64_t v5 = str_size(in_Str_2);
	INT v6 = u64_to_int(v5);
	incref(MKINT(v6));
	INT v7 = WRAP_I63(0LL);
	INT v8 = v7;
	bool v9 = int_le(v8, v6);
	INT branch_Nat_10;
	if (v9) {
		INT v11 = v6;
		branch_Nat_10 = v11;
	} else {
		decref(MKINT(v6));
		INT v12 = WRAP_I63(0LL);
		branch_Nat_10 = v12;
	}
	incref(MKNAT(branch_Nat_10));
	INT v13 = WRAP_I63(0LL);
	INT v14 = branch_Nat_10;
	INT v15 = v13;
	bool v16 = int_lt(v15, v14);
	STR* r17 = in_ZPlusStr_1;
	void* v18 = v4;
	INT v19 = branch_Nat_10;
	bool v20 = v16;
	while (v20) {
		STR* r21 = r17;
		void* v22 = v18;
		INT v23 = v19;
		int64_t v24 = mw_std_prelude_unsafe_1_sp9(v22);
		STR* v25;
		mw_std_byte_Byte_zzencodeZThen(r21, v24, &v25);
		INT v26 = WRAP_I63(1LL);
		void* v27 = mw_std_prelude_unsafe_1_sp5(v26, v22);
		INT v28 = WRAP_I63(1LL);
		INT v29 = v23;
		INT v30 = v28;
		INT v31 = int_sub(v29, v30);
		incref(MKINT(v31));
		INT v32 = WRAP_I63(0LL);
		INT v33 = v32;
		bool v34 = int_le(v33, v31);
		INT branch_Nat_35;
		if (v34) {
			INT v36 = v31;
			branch_Nat_35 = v36;
		} else {
			decref(MKINT(v31));
			INT v37 = WRAP_I63(0LL);
			branch_Nat_35 = v37;
		}
		incref(MKNAT(branch_Nat_35));
		INT v38 = WRAP_I63(0LL);
		INT v39 = branch_Nat_35;
		INT v40 = v38;
		bool v41 = int_lt(v40, v39);
		v20 = v41;
		v19 = branch_Nat_35;
		v18 = v27;
		r17 = v25;
	}
	decref(MKNAT(v19));
	decref(MKSTR(in_Str_2));
	*out_ZPlusStr_3 = r17;
}
static STR* mw_std_prim_Str_zzencode (STR* in_Str_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	STR* v4;
	mw_std_prim_Str_zzencodeZThen(v3, in_Str_1, &v4);
	return v4;
}
static PTUP mw_std_prim_Str_ZToF64ZAsk (STR* in_Str_1) {
	incref(MKSTR(in_Str_1));
	uint64_t v3 = str_size(in_Str_1);
	INT v4 = u64_to_int(v3);
	INT v5 = WRAP_I63(0LL);
	INT v6 = v5;
	bool v7 = int_eq(v4, v6);
	PTUP branch_Maybe_8;
	if (v7) {
		decref(MKSTR(in_Str_1));
		PTUP v9 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_8 = v9;
	} else {
		STR* v10;
		double v11 = str_to_f64(in_Str_1, &v10);
		uint64_t v12 = str_size(v10);
		INT v13 = u64_to_int(v12);
		INT v14 = WRAP_I63(0LL);
		INT v15 = v14;
		bool v16 = int_eq(v13, v15);
		PTUP branch_Maybe_17;
		if (v16) {
			PTUP v18 = mtw_std_maybe_Maybe_1_Some(MKF64(v11));
			branch_Maybe_17 = v18;
		} else {
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_17 = v19;
		}
		branch_Maybe_8 = branch_Maybe_17;
	}
	return branch_Maybe_8;
}
static int64_t mw_std_str_ZPlusStr_firstZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v4 = WRAP_I63(0LL);
	STR* v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_2 = v5;
	return v6;
}
static int64_t mw_std_str_ZPlusStr_secondZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v4 = WRAP_I63(1LL);
	STR* v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_2 = v5;
	return v6;
}
static int64_t mw_std_str_ZPlusStr_thirdZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v4 = WRAP_I63(2LL);
	STR* v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_2 = v5;
	return v6;
}
static STR* mw_std_str_ZPlusStr_firstZ_twoZ_bytes (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v6 = WRAP_I63(2LL);
	STR* v7;
	STR* v8 = mw_std_str_ZPlusStr_takeZ_slice(in_ZPlusStr_1, v6, &v7);
	*out_ZPlusStr_2 = v7;
	return v8;
}
static STR* mw_std_str_ZPlusStr_dropZ_firstZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v6 = WRAP_I63(1LL);
	STR* v7;
	STR* v8 = mw_std_str_ZPlusStr_dropZ_slice(in_ZPlusStr_1, v6, &v7);
	*out_ZPlusStr_2 = v7;
	return v8;
}
static STR* mw_std_str_ZPlusStr_dropZ_lastZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	incref(MKSTR(in_ZPlusStr_1));
	uint64_t v6 = str_size(in_ZPlusStr_1);
	INT v7 = u64_to_int(v6);
	INT v8 = WRAP_I63(1LL);
	INT v9 = v8;
	INT v10 = int_sub(v7, v9);
	STR* v11;
	STR* v12 = mw_std_str_ZPlusStr_takeZ_slice(in_ZPlusStr_1, v10, &v11);
	*out_ZPlusStr_2 = v11;
	return v12;
}
static PTUP mw_std_either_Either_2_leftZAsk (PTUP in_Either_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			decref(v6);
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static PTUP mw_std_either_Either_2_rightZAsk (PTUP in_Either_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			decref(v4);
			PTUP v5 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			PTUP v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static bool mw_std_list_List_1_emptyZAsk (PTUP in_List_1) {
	int64_t v3 = PTREXTRA(in_List_1);
	decref(MKTUP(in_List_1));
	INT v4 = WRAP_I63(0LL);
	INT v5 = v4;
	INT v6 = i64_to_int(v3);
	bool v7 = int_eq(v6, v5);
	return v7;
}
static PTUP mw_std_list_List_1_singleZAsk (PTUP in_List_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_List_1)) {
		case 0LL: { // Nil
			PTUP v4 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // Cons
			PTUP v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			bool v7 = mw_std_list_List_1_emptyZAsk(v5);
			PTUP branch_Maybe_8;
			if (v7) {
				PTUP v9 = mtw_std_maybe_Maybe_1_Some(v6);
				branch_Maybe_8 = v9;
			} else {
				decref(v6);
				PTUP v10 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_8 = v10;
			}
			branch_Maybe_3 = branch_Maybe_8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static PTUP mw_std_list_List_1_pairZAsk (PTUP in_List_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_List_1)) {
		case 0LL: { // Nil
			PTUP v4 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // Cons
			PTUP v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			PTUP branch_Maybe_7;
			switch (PTREXTRA(v5)) {
				case 0LL: { // Nil
					decref(v6);
					PTUP v8 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_7 = v8;
				} break;
				case 1LL: { // Cons
					PTUP v9;
					VAL v10 = mtp_std_list_List_1_Cons(v5, &v9);
					PTUP branch_Maybe_11;
					switch (PTREXTRA(v9)) {
						case 0LL: { // Nil
							PTUP r12 = PTRMK(0,tup_new(2),0);
							((TUP*)PTRPTR(r12))->size = 2;
							((TUP*)PTRPTR(r12))->cells[1] = v10;
							((TUP*)PTRPTR(r12))->cells[0] = v6;
							PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(r12));
							branch_Maybe_11 = v13;
						} break;
						default: {
							decref(MKTUP(v9));
							decref(v10);
							decref(v6);
							PTUP v14 = PTRMK(0LL /* None */,0,0);
							branch_Maybe_11 = v14;
						} break;
					}
					branch_Maybe_7 = branch_Maybe_11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_3 = branch_Maybe_7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static PTUP mw_std_list_List_1_ZToNestZAsk (PTUP in_List_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_List_1)) {
		case 1LL: { // Cons
			PTUP v4;
			VAL v5 = mtp_std_list_List_1_Cons(in_List_1, &v4);
			PTUP v6 = mtw_std_list_Nest_1_Nest(v5, v4);
			PTUP v7 = mtw_std_maybe_Maybe_1_Some(MKTUP(v6));
			branch_Maybe_3 = v7;
		} break;
		case 0LL: { // Nil
			PTUP v8 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static INT mw_std_list_List_1_len (PTUP in_List_1) {
	INT v3 = WRAP_I63(0LL);
	bool v4 = true;
	INT v5 = v3;
	PTUP v6 = in_List_1;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		INT v9 = v5;
		PTUP v10 = v6;
		bool v11 = v7;
		INT branch_Nat_12;
		PTUP branch_List_13;
		bool branch_Bool_14;
		switch (PTREXTRA(v10)) {
			case 1LL: { // Cons
				PTUP v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				decref(v16);
				INT v17 = WRAP_I63(1LL);
				INT v18 = v9;
				INT v19 = v17;
				INT v20 = int_add(v18, v19);
				INT v21 = v20;
				bool v22 = true;
				branch_Bool_14 = v22;
				branch_List_13 = v15;
				branch_Nat_12 = v21;
			} break;
			case 0LL: { // Nil
				PTUP v23 = PTRMK(0LL /* Nil */,0,0);
				bool v24 = false;
				branch_Bool_14 = v24;
				branch_List_13 = v23;
				branch_Nat_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_Nat_12;
	}
	decref(MKTUP(v6));
	return v5;
}
static PTUP mw_std_list_List_1_cons (VAL in_t_1, PTUP in_List_2) {
	PTUP v4 = mtw_std_list_List_1_Cons(in_t_1, in_List_2);
	return v4;
}
static PTUP mw_std_list_List_1_consZPlus (VAL in_t_1, PTUP in_List_2) {
	PTUP v4 = mw_std_list_Nest_1_Cons(in_t_1, in_List_2);
	return v4;
}
static PTUP mw_std_list_List_1_uncons (PTUP in_List_1, PTUP *out_List_3) {
	PTUP branch_Maybe_4;
	PTUP branch_List_5;
	switch (PTREXTRA(in_List_1)) {
		case 0LL: { // Nil
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			PTUP v7 = PTRMK(0LL /* Nil */,0,0);
			branch_List_5 = v7;
			branch_Maybe_4 = v6;
		} break;
		case 1LL: { // Cons
			PTUP v8;
			VAL v9 = mtp_std_list_List_1_Cons(in_List_1, &v8);
			PTUP v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_List_5 = v8;
			branch_Maybe_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_3 = branch_List_5;
	return branch_Maybe_4;
}
static PTUP mw_std_list_List_1_Snoc (PTUP in_List_1, VAL in_t_2) {
	PTUP v4 = mw_std_list_List_1_reverse(in_List_1);
	PTUP v5 = mw_std_list_List_1_cons(in_t_2, v4);
	PTUP v6 = mw_std_list_List_1_reverse(v5);
	return v6;
}
static PTUP mw_std_list_List_1_unsnoc (PTUP in_List_1, PTUP *out_Maybe_3) {
	PTUP v4 = mw_std_list_List_1_reverse(in_List_1);
	PTUP v5;
	PTUP v6 = mw_std_list_List_1_uncons(v4, &v5);
	PTUP v7 = mw_std_list_List_1_reverse(v5);
	*out_Maybe_3 = v6;
	return v7;
}
static PTUP mw_std_list_List_1_cat (PTUP in_List_1, PTUP in_List_2) {
	PTUP branch_List_4;
	switch (PTREXTRA(in_List_2)) {
		case 0LL: { // Nil
			branch_List_4 = in_List_1;
		} break;
		default: {
			PTUP v5 = mw_std_list_List_1_reverse(in_List_1);
			PTUP v6 = mw_std_list_List_1_for_1_sp5(in_List_2, v5);
			branch_List_4 = v6;
		} break;
	}
	return branch_List_4;
}
static PTUP mw_std_list_List_1_head (PTUP in_List_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_List_1)) {
		case 0LL: { // Nil
			PTUP v4 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // Cons
			PTUP v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			decref(MKTUP(v5));
			PTUP v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static PTUP mw_std_list_List_1_tail (PTUP in_List_1) {
	PTUP branch_List_3;
	switch (PTREXTRA(in_List_1)) {
		case 0LL: { // Nil
			PTUP v4 = PTRMK(0LL /* Nil */,0,0);
			branch_List_3 = v4;
		} break;
		case 1LL: { // Cons
			PTUP v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			decref(v6);
			branch_List_3 = VTUP(MKTUP(v5));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_3;
}
static PTUP mw_std_list_List_1_first (PTUP in_List_1) {
	PTUP v3 = mw_std_list_List_1_ZToNestZAsk(in_List_1);
	PTUP branch_Maybe_4;
	switch (PTREXTRA(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = ((TUP*)PTRPTR(VTUP(v5)))->cells[0];
			incref(v6);
			decref(MKTUP(VTUP(v5)));
			PTUP v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_4 = v7;
		} break;
		case 0LL: { // None
			PTUP v8 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static PTUP mw_std_list_List_1_last (PTUP in_List_1) {
	PTUP v3 = mw_std_list_List_1_ZToNestZAsk(in_List_1);
	PTUP branch_Maybe_4;
	switch (PTREXTRA(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_std_list_Nest_1_last(VTUP(v5));
			PTUP v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_4 = v7;
		} break;
		case 0LL: { // None
			PTUP v8 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static PTUP mw_std_list_List_1_dropZ_slice (INT in_Nat_1, PTUP in_List_2) {
	incref(MKNAT(in_Nat_1));
	INT v4 = WRAP_I63(0LL);
	INT v5 = in_Nat_1;
	INT v6 = v4;
	bool v7 = int_lt(v6, v5);
	PTUP v8 = in_List_2;
	INT v9 = in_Nat_1;
	bool v10 = v7;
	while (v10) {
		PTUP v11 = v8;
		INT v12 = v9;
		PTUP v13 = mw_std_list_List_1_tail(v11);
		INT v14 = WRAP_I63(1LL);
		INT v15 = v12;
		INT v16 = v14;
		INT v17 = int_sub(v15, v16);
		incref(MKINT(v17));
		INT v18 = WRAP_I63(0LL);
		INT v19 = v18;
		bool v20 = int_le(v19, v17);
		INT branch_Nat_21;
		if (v20) {
			INT v22 = v17;
			branch_Nat_21 = v22;
		} else {
			decref(MKINT(v17));
			INT v23 = WRAP_I63(0LL);
			branch_Nat_21 = v23;
		}
		incref(MKNAT(branch_Nat_21));
		INT v24 = WRAP_I63(0LL);
		INT v25 = branch_Nat_21;
		INT v26 = v24;
		bool v27 = int_lt(v26, v25);
		v10 = v27;
		v9 = branch_Nat_21;
		v8 = v13;
	}
	decref(MKNAT(v9));
	return v8;
}
static PTUP mw_std_list_List_1_reverse (PTUP in_List_1) {
	PTUP v3 = PTRMK(0LL /* Nil */,0,0);
	PTUP v4 = mw_std_list_List_1_for_1_sp5(v3, in_List_1);
	return v4;
}
static PTUP mw_std_list_Nest_1_N1 (VAL in_t_1) {
	PTUP v3 = PTRMK(0LL /* Nil */,0,0);
	PTUP v4 = mtw_std_list_Nest_1_Nest(in_t_1, v3);
	return v4;
}
static PTUP mw_std_list_Nest_1_Cons (VAL in_t_1, PTUP in_List_2) {
	PTUP v4 = mtw_std_list_Nest_1_Nest(in_t_1, in_List_2);
	return v4;
}
static VAL mw_std_list_Nest_1_ZDivCons (PTUP in_Nest_1, PTUP *out_List_3) {
	VAL v4;
	PTUP v5;
	mtp_std_list_Nest_1_Nest(in_Nest_1, &v4, &v5);
	*out_List_3 = v5;
	return v4;
}
static PTUP mw_std_list_Nest_1_singleZAsk (PTUP in_Nest_1) {
	VAL v3;
	PTUP v4;
	mtp_std_list_Nest_1_Nest(in_Nest_1, &v3, &v4);
	bool v5 = mw_std_list_List_1_emptyZAsk(v4);
	PTUP branch_Maybe_6;
	if (v5) {
		PTUP v7 = mtw_std_maybe_Maybe_1_Some(v3);
		branch_Maybe_6 = v7;
	} else {
		decref(v3);
		PTUP v8 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_6 = v8;
	}
	return branch_Maybe_6;
}
static PTUP mw_std_list_Nest_1_pairZAsk (PTUP in_Nest_1) {
	PTUP v3;
	VAL v4 = mw_std_list_Nest_1_uncons(in_Nest_1, &v3);
	PTUP v5 = mw_std_list_List_1_singleZAsk(v3);
	PTUP branch_Maybe_6;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP r8 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r8))->size = 2;
			((TUP*)PTRPTR(r8))->cells[1] = v7;
			((TUP*)PTRPTR(r8))->cells[0] = v4;
			PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKTUP(r8));
			branch_Maybe_6 = v9;
		} break;
		case 0LL: { // None
			decref(v4);
			PTUP v10 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_6;
}
static PTUP mw_std_list_Nest_1_ZToList (PTUP in_Nest_1) {
	PTUP v3;
	VAL v4 = mw_std_list_Nest_1_ZDivCons(in_Nest_1, &v3);
	PTUP v5 = mw_std_list_List_1_cons(v4, v3);
	return v5;
}
static PTUP mw_std_list_Nest_1_cons (VAL in_t_1, PTUP in_Nest_2) {
	PTUP v4 = mw_std_list_Nest_1_ZToList(in_Nest_2);
	PTUP v5 = mtw_std_list_Nest_1_Nest(in_t_1, v4);
	return v5;
}
static VAL mw_std_list_Nest_1_uncons (PTUP in_Nest_1, PTUP *out_List_3) {
	VAL v4;
	PTUP v5;
	mtp_std_list_Nest_1_Nest(in_Nest_1, &v4, &v5);
	*out_List_3 = v5;
	return v4;
}
static PTUP mw_std_list_Nest_1_unsnoc (PTUP in_Nest_1, VAL *out_t_3) {
	PTUP v4 = mw_std_list_Nest_1_reverse(in_Nest_1);
	PTUP v5;
	VAL v6 = mw_std_list_Nest_1_uncons(v4, &v5);
	PTUP v7 = mw_std_list_List_1_reverse(v5);
	*out_t_3 = v6;
	return v7;
}
static VAL mw_std_list_Nest_1_first (PTUP in_Nest_1) {
	VAL v3 = ((TUP*)PTRPTR(in_Nest_1))->cells[0];
	incref(v3);
	decref(MKTUP(in_Nest_1));
	return v3;
}
static VAL mw_std_list_Nest_1_last (PTUP in_Nest_1) {
	PTUP v3;
	VAL v4 = mw_std_list_Nest_1_uncons(in_Nest_1, &v3);
	bool v5 = true;
	VAL v6 = v4;
	PTUP v7 = v3;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		VAL v10 = v6;
		PTUP v11 = v7;
		bool v12 = v8;
		VAL branch_z_x1_13;
		PTUP branch_List_14;
		bool branch_Bool_15;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Cons
				PTUP v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				decref(v10);
				bool v18 = true;
				branch_Bool_15 = v18;
				branch_List_14 = v16;
				branch_z_x1_13 = v17;
			} break;
			case 0LL: { // Nil
				PTUP v19 = PTRMK(0LL /* Nil */,0,0);
				bool v20 = false;
				branch_Bool_15 = v20;
				branch_List_14 = v19;
				branch_z_x1_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_z_x1_13;
	}
	decref(MKTUP(v7));
	return v6;
}
static PTUP mw_std_list_Nest_1_reverse (PTUP in_Nest_1) {
	VAL v3;
	PTUP v4;
	mtp_std_list_Nest_1_Nest(in_Nest_1, &v3, &v4);
	PTUP v5 = mw_std_list_Nest_1_N1(v3);
	bool v6 = true;
	PTUP v7 = v5;
	PTUP v8 = v4;
	bool v9 = v6;
	bool v10 = v6;
	while (v10) {
		PTUP v11 = v7;
		PTUP v12 = v8;
		bool v13 = v9;
		PTUP branch_Nest_14;
		PTUP branch_List_15;
		bool branch_Bool_16;
		switch (PTREXTRA(v12)) {
			case 1LL: { // Cons
				PTUP v17;
				VAL v18 = mtp_std_list_List_1_Cons(v12, &v17);
				PTUP v19 = mw_std_list_Nest_1_cons(v18, v11);
				bool v20 = true;
				branch_Bool_16 = v20;
				branch_List_15 = v17;
				branch_Nest_14 = v19;
			} break;
			case 0LL: { // Nil
				PTUP v21 = PTRMK(0LL /* Nil */,0,0);
				bool v22 = false;
				branch_Bool_16 = v22;
				branch_List_15 = v21;
				branch_Nest_14 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_16;
		v9 = branch_Bool_16;
		v8 = branch_List_15;
		v7 = branch_Nest_14;
	}
	decref(MKTUP(v8));
	return v7;
}
static PTUP mw_std_prim_Int_range (INT in_Int_1, INT in_Int_2) {
	PTUP v4 = PTRMK(0LL /* Nil */,0,0);
	PTUP v5;
	mw_std_list_List_1_buildZBang(v4, &v5);
	incref(MKINT(in_Int_1));
	incref(MKINT(in_Int_2));
	bool v6 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(in_Int_2)));
	INT v7 = value_int(MKINT(in_Int_1));
	INT v8 = value_int(MKINT(in_Int_2));
	PTUP r9 = v5;
	bool v10 = v6;
	while (v10) {
		INT v11 = v7;
		INT v12 = v8;
		PTUP r13 = r9;
		incref(MKINT(v11));
		INT v14 = WRAP_I63(1LL);
		INT v15 = v14;
		INT v16 = int_add(value_int(MKINT(v11)), v15);
		PTUP v17;
		mw_std_list_ZPlusLister_1_pushZBang(MKINT(value_int(MKINT(v11))), r13, &v17);
		incref(MKINT(v16));
		incref(MKINT(value_int(MKINT(v12))));
		bool v18 = int_le(value_int(MKINT(v16)), value_int(MKINT(value_int(MKINT(v12)))));
		v10 = v18;
		r9 = v17;
		v8 = value_int(MKINT(value_int(MKINT(v12))));
		v7 = value_int(MKINT(v16));
	}
	PTUP v19 = mw_std_list_ZPlusLister_1_doneZBang(r9);
	decref(MKINT(v8));
	decref(MKINT(v7));
	return v19;
}
static void mw_std_list_ZPlusLister_1_ZPlusNil (PTUP *out_ZPlusLister_1) {
	PTUP v2 = PTRMK(0LL /* Nil */,0,0);
	*out_ZPlusLister_1 = v2;
}
static void mw_std_list_ZPlusLister_1_rdrop (PTUP in_ZPlusLister_1) {
	decref(MKTUP(in_ZPlusLister_1));
}
static PTUP mw_std_list_ZPlusLister_1_doneZBang (PTUP in_ZPlusLister_1) {
	PTUP v3 = mw_std_list_List_1_reverse(in_ZPlusLister_1);
	return v3;
}
static void mw_std_list_List_1_buildZBang (PTUP in_List_1, PTUP *out_ZPlusLister_2) {
	PTUP v3 = mw_std_list_List_1_reverse(in_List_1);
	*out_ZPlusLister_2 = v3;
}
static void mw_std_list_ZPlusLister_1_pushZBang (VAL in_t_1, PTUP in_ZPlusLister_2, PTUP *out_ZPlusLister_3) {
	incref(MKTUP(in_ZPlusLister_2));
	PTUP v4 = mw_std_list_List_1_cons(in_t_1, in_ZPlusLister_2);
	decref(MKTUP(in_ZPlusLister_2));
	*out_ZPlusLister_3 = v4;
}
static void mw_std_list_ZPlusLister_1_pushZPlusZBang (VAL in_t_1, PTUP in_ZPlusLister_2, PTUP *out_ZPlusNester_3) {
	PTUP v4 = mw_std_list_List_1_consZPlus(in_t_1, in_ZPlusLister_2);
	*out_ZPlusNester_3 = v4;
}
static PTUP mw_std_list_ZPlusLister_1_popZBang (PTUP in_ZPlusLister_1, PTUP *out_ZPlusLister_3) {
	incref(MKTUP(in_ZPlusLister_1));
	PTUP v4;
	PTUP v5 = mw_std_list_List_1_uncons(in_ZPlusLister_1, &v4);
	decref(MKTUP(in_ZPlusLister_1));
	*out_ZPlusLister_3 = v4;
	return v5;
}
static PTUP mw_std_list_ZPlusLister_1_popZ_allZBang (PTUP in_ZPlusLister_1, PTUP *out_ZPlusLister_3) {
	incref(MKTUP(in_ZPlusLister_1));
	PTUP v4 = PTRMK(0LL /* Nil */,0,0);
	decref(MKTUP(in_ZPlusLister_1));
	PTUP v5 = mw_std_list_List_1_reverse(in_ZPlusLister_1);
	*out_ZPlusLister_3 = v4;
	return v5;
}
static PTUP mw_std_list_ZPlusNester_1_doneZBang (PTUP in_ZPlusNester_1) {
	PTUP v3 = mw_std_list_Nest_1_reverse(in_ZPlusNester_1);
	return v3;
}
static PTUP mw_std_maybe_Maybe_1_ZToList (PTUP in_Maybe_1) {
	PTUP branch_List_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 0LL: { // None
			PTUP v4 = PTRMK(0LL /* Nil */,0,0);
			branch_List_3 = v4;
		} break;
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			PTUP v6 = PTRMK(0LL /* Nil */,0,0);
			PTUP v7 = mw_std_list_List_1_cons(v5, v6);
			branch_List_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_3;
}
static PTUP mw_std_maybe_Maybe_1_zzip (PTUP in_Maybe_1, PTUP in_Maybe_2) {
	PTUP branch_Maybe_4;
	switch (PTREXTRA(in_Maybe_2)) {
		case 0LL: { // None
			decref(MKTUP(in_Maybe_1));
			PTUP v5 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_4 = v5;
		} break;
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			PTUP branch_Maybe_7;
			switch (PTREXTRA(in_Maybe_1)) {
				case 0LL: { // None
					decref(v6);
					PTUP v8 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_7 = v8;
				} break;
				case 1LL: { // Some
					VAL v9 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
					PTUP r10 = PTRMK(0,tup_new(2),0);
					((TUP*)PTRPTR(r10))->size = 2;
					((TUP*)PTRPTR(r10))->cells[1] = v6;
					((TUP*)PTRPTR(r10))->cells[0] = v9;
					PTUP v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(r10));
					branch_Maybe_7 = v11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_4 = branch_Maybe_7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static INT mw_std_number_Base_Hex (void) {
	INT v2 = WRAP_I63(16LL);
	return v2;
}
static INT mw_std_number_Base_lastZ_digit (INT in_Nat_1, INT in_Base_2, int64_t *out_Byte_4) {
	INT v5 = in_Nat_1;
	INT v6 = in_Base_2;
	INT v7;
	INT v8 = int_divmod(v5, v6, &v7);
	INT v9 = v7;
	INT v10 = v8;
	INT v11 = v9;
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	uint8_t v14 = 10;
	uint64_t v15 = (uint64_t)(v14);
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v13);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint64_t v20 = (uint64_t)(v16);
	bool v21 = (value_u64(MKU64(v19)) < v20);
	INT branch_Nat_22;
	uint8_t branch_U8_23;
	uint8_t branch_U8_24;
	if (v21) {
		uint8_t v25 = 48;
		branch_U8_24 = v25;
		branch_U8_23 = v13;
		branch_Nat_22 = v10;
	} else {
		uint8_t v26 = 55;
		branch_U8_24 = v26;
		branch_U8_23 = v13;
		branch_Nat_22 = v10;
	}
	uint64_t v27 = (uint64_t)(branch_U8_23);
	uint64_t v28 = (uint64_t)(branch_U8_24);
	uint64_t v29 = (value_u64(MKU64(v27)) + v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	INT v32 = u64_to_int(v31);
	int64_t v33 = int_to_i64(v32);
	*out_Byte_4 = v33;
	return branch_Nat_22;
}
static void mw_std_number_Base_digitsZThen (STR* in_ZPlusStr_1, INT in_Nat_2, INT in_Base_3, STR* *out_ZPlusStr_4) {
	INT v5 = WRAP_I63(0LL);
	INT v6 = WRAP_I63(0LL);
	bool v7 = true;
	INT v8 = v5;
	INT v9 = v6;
	INT v10 = in_Nat_2;
	INT v11 = in_Base_3;
	bool v12 = v7;
	bool v13 = v7;
	while (v13) {
		INT v14 = v8;
		INT v15 = v9;
		INT v16 = v10;
		INT v17 = v11;
		bool v18 = v12;
		incref(MKNAT(v17));
		INT v19 = v16;
		INT v20 = v17;
		INT v21;
		INT v22 = int_divmod(v19, v20, &v21);
		INT v23 = v21;
		INT v24 = v22;
		incref(MKNAT(v17));
		INT v25 = v15;
		INT v26 = v17;
		INT v27 = int_mul(v25, v26);
		INT v28 = v27;
		INT v29 = v23;
		INT v30 = v28;
		INT v31 = int_add(v29, v30);
		INT v32 = v31;
		INT v33 = WRAP_I63(1LL);
		INT v34 = v14;
		INT v35 = v33;
		INT v36 = int_add(v34, v35);
		INT v37 = v36;
		incref(MKNAT(v24));
		INT v38 = WRAP_I63(0LL);
		INT v39 = v24;
		INT v40 = v38;
		bool v41 = int_lt(v40, v39);
		v13 = v41;
		v12 = v41;
		v11 = v17;
		v10 = v24;
		v9 = v32;
		v8 = v37;
	}
	decref(MKNAT(v10));
	incref(MKNAT(v8));
	incref(MKNAT(v8));
	INT v42 = WRAP_I63(0LL);
	INT v43 = v8;
	INT v44 = v42;
	bool v45 = int_lt(v44, v43);
	STR* r46 = in_ZPlusStr_1;
	INT v47 = v11;
	INT v48 = v9;
	INT v49 = v8;
	bool v50 = v45;
	while (v50) {
		STR* r51 = r46;
		INT v52 = v47;
		INT v53 = v48;
		INT v54 = v49;
		incref(MKNAT(v52));
		int64_t v55;
		INT v56 = mw_std_number_Base_lastZ_digit(v53, v52, &v55);
		STR* v57;
		mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v55, r51, &v57);
		INT v58 = WRAP_I63(1LL);
		INT v59 = v54;
		INT v60 = v58;
		INT v61 = int_sub(v59, v60);
		incref(MKINT(v61));
		INT v62 = WRAP_I63(0LL);
		INT v63 = v62;
		bool v64 = int_le(v63, v61);
		INT branch_Nat_65;
		if (v64) {
			INT v66 = v61;
			branch_Nat_65 = v66;
		} else {
			decref(MKINT(v61));
			INT v67 = WRAP_I63(0LL);
			branch_Nat_65 = v67;
		}
		incref(MKNAT(branch_Nat_65));
		INT v68 = WRAP_I63(0LL);
		INT v69 = branch_Nat_65;
		INT v70 = v68;
		bool v71 = int_lt(v70, v69);
		v50 = v71;
		v49 = branch_Nat_65;
		v48 = v56;
		v47 = v52;
		r46 = v57;
	}
	decref(MKNAT(v49));
	decref(MKNAT(v48));
	decref(MKNAT(v8));
	decref(MKNAT(v47));
	*out_ZPlusStr_4 = r46;
}
static int64_t mw_std_prim_I64_ZToOS (int64_t in_I64_1) {
	INT v3 = i64_to_int(in_I64_1);
	int64_t v4 = mw_std_prim_Int_ZToOS(v3);
	return v4;
}
static int64_t mw_std_prim_Int_ZToOS (INT in_Int_1) {
	incref(MKINT(in_Int_1));
	INT v3 = WRAP_I63(0LL);
	int64_t v4 = int_to_i64(v3);
	INT v5 = WRAP_I63(3LL);
	int64_t v6 = int_to_i64(v5);
	int64_t v7 = v4;
	INT v8 = i64_to_int(v7);
	int64_t v9 = v6;
	INT v10 = i64_to_int(v9);
	incref(MKINT(in_Int_1));
	bool v11 = int_le(value_int(MKINT(v8)), in_Int_1);
	bool branch_Bool_12;
	if (value_bool(MKBOOL(v11))) {
		bool v13 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v10)));
		branch_Bool_12 = v13;
	} else {
		decref(MKINT(value_int(MKINT(v10))));
		decref(MKINT(value_int(MKINT(in_Int_1))));
		bool v14 = false;
		branch_Bool_12 = v14;
	}
	int64_t branch_OS_15;
	if (branch_Bool_12) {
		int64_t v16 = int_to_i64(in_Int_1);
		branch_OS_15 = v16;
	} else {
		decref(MKINT(in_Int_1));
		int64_t v17 = 0LL /* Unknown */;
		branch_OS_15 = v17;
	}
	return branch_OS_15;
}
static bool mw_std_prelude_OS_isZ_windowsZAsk (int64_t in_OS_1) {
	int64_t v3 = 1LL /* Windows */;
	int64_t v4 = in_OS_1;
	INT v5 = i64_to_int(v4);
	int64_t v6 = v3;
	INT v7 = i64_to_int(v6);
	bool v8 = int_eq(value_int(MKINT(v5)), v7);
	return v8;
}
static VAL mw_std_prelude_OS_pathZ_separator (int64_t in_OS_1) {
	bool v3 = mw_std_prelude_OS_isZ_windowsZAsk(in_OS_1);
	VAL branch__4;
	if (v3) {
		STR* v5;
		STRLIT(v5, "\\", 1);
		branch__4 = MKSTR(v5);
	} else {
		STR* v6;
		STRLIT(v6, "/", 1);
		branch__4 = MKSTR(v6);
	}
	return branch__4;
}
static bool mw_std_prelude_OS_byteZ_isZ_pathZ_separatorZAsk (int64_t in_Byte_1, int64_t in_OS_2) {
	bool branch_Bool_4;
	switch (in_OS_2) {
		case 1LL: { // Windows
			int64_t v5 = 47LL /* B'/' */;
			int64_t v6 = in_Byte_1;
			INT v7 = i64_to_int(v6);
			uint64_t v8 = int_to_u64(v7);
			uint8_t v9 = (uint8_t)(v8);
			int64_t v10 = v5;
			INT v11 = i64_to_int(v10);
			uint64_t v12 = int_to_u64(v11);
			uint8_t v13 = (uint8_t)(v12);
			uint64_t v14 = (uint64_t)(v13);
			uint32_t v15 = (uint32_t)(v14);
			uint64_t v16 = (uint64_t)(value_u8(MKU8(v9)));
			uint32_t v17 = (uint32_t)(v16);
			uint64_t v18 = (uint64_t)(v17);
			uint64_t v19 = (uint64_t)(v15);
			bool v20 = (value_u64(MKU64(v18)) == v19);
			bool branch_Bool_21;
			if (v20) {
				bool v22 = true;
				branch_Bool_21 = v22;
			} else {
				int64_t v23 = 92LL /* B'\' */;
				int64_t v24 = in_Byte_1;
				INT v25 = i64_to_int(v24);
				uint64_t v26 = int_to_u64(v25);
				uint8_t v27 = (uint8_t)(v26);
				int64_t v28 = v23;
				INT v29 = i64_to_int(v28);
				uint64_t v30 = int_to_u64(v29);
				uint8_t v31 = (uint8_t)(v30);
				uint64_t v32 = (uint64_t)(v31);
				uint32_t v33 = (uint32_t)(v32);
				uint64_t v34 = (uint64_t)(value_u8(MKU8(v27)));
				uint32_t v35 = (uint32_t)(v34);
				uint64_t v36 = (uint64_t)(v35);
				uint64_t v37 = (uint64_t)(v33);
				bool v38 = (value_u64(MKU64(v36)) == v37);
				branch_Bool_21 = v38;
			}
			branch_Bool_4 = branch_Bool_21;
		} break;
		case 2LL: { // Linux
			int64_t v39 = 47LL /* B'/' */;
			int64_t v40 = in_Byte_1;
			INT v41 = i64_to_int(v40);
			uint64_t v42 = int_to_u64(v41);
			uint8_t v43 = (uint8_t)(v42);
			int64_t v44 = v39;
			INT v45 = i64_to_int(v44);
			uint64_t v46 = int_to_u64(v45);
			uint8_t v47 = (uint8_t)(v46);
			uint64_t v48 = (uint64_t)(v47);
			uint32_t v49 = (uint32_t)(v48);
			uint64_t v50 = (uint64_t)(value_u8(MKU8(v43)));
			uint32_t v51 = (uint32_t)(v50);
			uint64_t v52 = (uint64_t)(v51);
			uint64_t v53 = (uint64_t)(v49);
			bool v54 = (value_u64(MKU64(v52)) == v53);
			branch_Bool_4 = v54;
		} break;
		case 3LL: { // Mac
			int64_t v55 = 47LL /* B'/' */;
			int64_t v56 = in_Byte_1;
			INT v57 = i64_to_int(v56);
			uint64_t v58 = int_to_u64(v57);
			uint8_t v59 = (uint8_t)(v58);
			int64_t v60 = v55;
			INT v61 = i64_to_int(v60);
			uint64_t v62 = int_to_u64(v61);
			uint8_t v63 = (uint8_t)(v62);
			uint64_t v64 = (uint64_t)(v63);
			uint32_t v65 = (uint32_t)(v64);
			uint64_t v66 = (uint64_t)(value_u8(MKU8(v59)));
			uint32_t v67 = (uint32_t)(v66);
			uint64_t v68 = (uint64_t)(v67);
			uint64_t v69 = (uint64_t)(v65);
			bool v70 = (value_u64(MKU64(v68)) == v69);
			branch_Bool_4 = v70;
		} break;
		case 0LL: { // Unknown
			int64_t v71 = 47LL /* B'/' */;
			int64_t v72 = in_Byte_1;
			INT v73 = i64_to_int(v72);
			uint64_t v74 = int_to_u64(v73);
			uint8_t v75 = (uint8_t)(v74);
			int64_t v76 = v71;
			INT v77 = i64_to_int(v76);
			uint64_t v78 = int_to_u64(v77);
			uint8_t v79 = (uint8_t)(v78);
			uint64_t v80 = (uint64_t)(v79);
			uint32_t v81 = (uint32_t)(v80);
			uint64_t v82 = (uint64_t)(value_u8(MKU8(v75)));
			uint32_t v83 = (uint32_t)(v82);
			uint64_t v84 = (uint64_t)(v83);
			uint64_t v85 = (uint64_t)(v81);
			bool v86 = (value_u64(MKU64(v84)) == v85);
			branch_Bool_4 = v86;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_std_prim_I64_ZToArch (int64_t in_I64_1) {
	INT v3 = i64_to_int(in_I64_1);
	int64_t v4 = mw_std_prim_Int_ZToArch(v3);
	return v4;
}
static int64_t mw_std_prim_Int_ZToArch (INT in_Int_1) {
	incref(MKINT(in_Int_1));
	int64_t v3 = 0LL;
	int64_t v4 = 3LL;
	int64_t v5 = v3;
	INT v6 = i64_to_int(v5);
	int64_t v7 = v4;
	INT v8 = i64_to_int(v7);
	incref(MKINT(in_Int_1));
	bool v9 = int_le(value_int(MKINT(v6)), in_Int_1);
	bool branch_Bool_10;
	if (value_bool(MKBOOL(v9))) {
		bool v11 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v8)));
		branch_Bool_10 = v11;
	} else {
		decref(MKINT(value_int(MKINT(v8))));
		decref(MKINT(value_int(MKINT(in_Int_1))));
		bool v12 = false;
		branch_Bool_10 = v12;
	}
	int64_t branch_Arch_13;
	if (branch_Bool_10) {
		int64_t v14 = int_to_i64(in_Int_1);
		branch_Arch_13 = v14;
	} else {
		decref(MKINT(in_Int_1));
		int64_t v15 = 0LL /* Unknown */;
		branch_Arch_13 = v15;
	}
	return branch_Arch_13;
}
static PTUP mw_std_prelude_ZAtZAsk (void* in_Mutt_1) {
	bool v3 = mut_is_set(in_Mutt_1);
	PTUP branch_Maybe_4;
	if (v3) {
		VAL v5 = mut_get(in_Mutt_1);
		PTUP v6 = mtw_std_maybe_Maybe_1_Some(v5);
		branch_Maybe_4 = v6;
	} else {
		PTUP v7 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_4 = v7;
	}
	return branch_Maybe_4;
}
static void mw_std_prelude_impossibleZBang (void) {
	STR* v1;
	STRLIT(v1, "Impossible! The impossible has occured!", 39);
	do_panic(v1);
}
static STR* mw_std_path_Path_joinZ_with (STR* in_Path_1, STR* in_Str_2, STR* in_Path_3) {
	STR* v5 = str_cat(in_Path_1, in_Str_2);
	STR* v6 = str_cat(v5, in_Path_3);
	return v6;
}
static STR* mw_std_path_Path_join (STR* in_Path_1, STR* in_Path_2) {
	int64_t v6 = RUNNING_OS;
	int64_t v7 = mw_std_prim_I64_ZToOS(v6);
	VAL v8 = mw_std_prelude_OS_pathZ_separator(v7);
	STR* v9 = mw_std_path_Path_joinZ_with(in_Path_1, value_str(v8), in_Path_2);
	return v9;
}
static STR* mw_std_path_Path_splitZ_last (STR* in_Path_1, PTUP *out_Maybe_3) {
	incref(MKSTR(in_Path_1));
	uint64_t v6 = str_size(in_Path_1);
	INT v7 = u64_to_int(v6);
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	incref(MKTUP(v8));
	int64_t v9 = PTREXTRA(v8);
	decref(MKTUP(v8));
	INT v10 = WRAP_I63(0LL);
	INT v11 = v10;
	INT v12 = i64_to_int(v9);
	bool v13 = int_eq(v12, v11);
	INT branch_Offset_14;
	VAL branch_z_x1_15;
	bool branch_Bool_16;
	if (v13) {
		incref(MKINT(v7));
		INT v17 = WRAP_I63(0LL);
		INT v18 = v17;
		bool v19 = int_lt(v18, value_int(MKINT(v7)));
		branch_Bool_16 = v19;
		branch_z_x1_15 = MKTUP(v8);
		branch_Offset_14 = value_int(MKINT(v7));
	} else {
		bool v20 = false;
		branch_Bool_16 = v20;
		branch_z_x1_15 = MKTUP(v8);
		branch_Offset_14 = v7;
	}
	STR* r21 = in_Path_1;
	INT v22 = branch_Offset_14;
	PTUP v23 = VTUP(branch_z_x1_15);
	bool v24 = branch_Bool_16;
	while (v24) {
		STR* r25 = r21;
		INT v26 = v22;
		PTUP v27 = v23;
		decref(MKTUP(v27));
		INT v28 = WRAP_I63(1LL);
		INT v29 = v28;
		INT v30 = int_sub(v26, v29);
		incref(MKINT(v30));
		STR* v31;
		int64_t v32 = mw_std_str_ZPlusStr_byteZAt(v30, r25, &v31);
		int64_t v33 = RUNNING_OS;
		int64_t v34 = mw_std_prim_I64_ZToOS(v33);
		bool v35 = mw_std_prelude_OS_byteZ_isZ_pathZ_separatorZAsk(v32, v34);
		STR* branch_ZPlusStr_36;
		INT branch_Offset_37;
		PTUP branch_Maybe_38;
		if (v35) {
			incref(MKINT(v30));
			PTUP v39 = mtw_std_maybe_Maybe_1_Some(MKINT(v30));
			branch_Maybe_38 = v39;
			branch_Offset_37 = v30;
			branch_ZPlusStr_36 = v31;
		} else {
			PTUP v40 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_38 = v40;
			branch_Offset_37 = v30;
			branch_ZPlusStr_36 = v31;
		}
		incref(MKTUP(branch_Maybe_38));
		int64_t v41 = PTREXTRA(branch_Maybe_38);
		decref(MKTUP(branch_Maybe_38));
		INT v42 = WRAP_I63(0LL);
		INT v43 = v42;
		INT v44 = i64_to_int(v41);
		bool v45 = int_eq(v44, v43);
		INT branch_Offset_46;
		VAL branch_z_x1_47;
		bool branch_Bool_48;
		if (v45) {
			incref(MKINT(branch_Offset_37));
			INT v49 = WRAP_I63(0LL);
			INT v50 = v49;
			bool v51 = int_lt(v50, value_int(MKINT(branch_Offset_37)));
			branch_Bool_48 = v51;
			branch_z_x1_47 = MKTUP(branch_Maybe_38);
			branch_Offset_46 = value_int(MKINT(branch_Offset_37));
		} else {
			bool v52 = false;
			branch_Bool_48 = v52;
			branch_z_x1_47 = MKTUP(branch_Maybe_38);
			branch_Offset_46 = branch_Offset_37;
		}
		v24 = branch_Bool_48;
		v23 = VTUP(branch_z_x1_47);
		v22 = branch_Offset_46;
		r21 = branch_ZPlusStr_36;
	}
	decref(MKINT(v22));
	PTUP v53;
	STR* v54 = mw_std_maybe_Maybe_1_map_1_sp11(r21, VTUP(MKTUP(v23)), &v53);
	*out_Maybe_3 = v53;
	return v54;
}
static void mw_std_path_Path_pathZThen (STR* in_Path_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Path_1, in_ZPlusStr_2, &v4);
	*out_ZPlusStr_3 = v4;
}
static PTUP mw_std_result_Result_2_okZAsk (PTUP in_Result_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Result_1)) {
		case 0LL: { // Err
			VAL v4 = mtp_std_result_Result_2_Err(in_Result_1);
			decref(v4);
			PTUP v5 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Ok
			VAL v6 = mtp_std_result_Result_2_Ok(in_Result_1);
			PTUP v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static int64_t mw_std_posix_OpenFlags_U64ZTo (uint64_t in_U64_1) {
	INT v3 = u64_to_int(in_U64_1);
	int64_t v4 = int_to_i64(v3);
	return v4;
}
static int64_t mw_std_posix_OpenFlags_None (void) {
	uint64_t v2 = 0ULL;
	int64_t v3 = mw_std_posix_OpenFlags_U64ZTo(v2);
	return v3;
}
static void mw_std_terminal_Sgr_emitZThen (PTUP in_Sgr_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4;
	mw_std_str_ZPlusStr_csiZThen(in_ZPlusStr_2, &v4);
	incref(MKTUP(in_Sgr_1));
	int64_t v5 = PTREXTRA(in_Sgr_1);
	decref(MKTUP(in_Sgr_1));
	INT v6 = i64_to_int(v5);
	STR* v7 = int_to_str(v6);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v4, &v8);
	STR* branch_ZPlusStr_9;
	switch (PTREXTRA(in_Sgr_1)) {
		case 38LL: { // FGColor
			PTUP v10 = mtp_std_terminal_Sgr_FGColor(in_Sgr_1);
			STR* v11;
			mw_std_terminal_SGRColor_emitZThen(v10, v8, &v11);
			branch_ZPlusStr_9 = v11;
		} break;
		case 48LL: { // BGColor
			PTUP v12 = mtp_std_terminal_Sgr_BGColor(in_Sgr_1);
			STR* v13;
			mw_std_terminal_SGRColor_emitZThen(v12, v8, &v13);
			branch_ZPlusStr_9 = v13;
		} break;
		default: {
			decref(MKTUP(in_Sgr_1));
			branch_ZPlusStr_9 = v8;
		} break;
	}
	STR* v14;
	STRLIT(v14, "m", 1);
	STR* v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(v14, branch_ZPlusStr_9, &v15);
	*out_ZPlusStr_3 = v15;
}
static void mw_std_terminal_SGRColor_emitZThen (PTUP in_SGRColor_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* branch_ZPlusStr_4;
	switch (PTREXTRA(in_SGRColor_1)) {
		case 0LL: { // Numbered
			INT v5 = mtp_std_terminal_SGRColor_Numbered(in_SGRColor_1);
			STR* v6;
			STRLIT(v6, ";5;", 3);
			STR* v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(v6, in_ZPlusStr_2, &v7);
			STR* v8 = int_to_str(v5);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, v7, &v9);
			branch_ZPlusStr_4 = v9;
		} break;
		case 1LL: { // RGB
			INT v10;
			INT v11;
			INT v12 = mtp_std_terminal_SGRColor_RGB(in_SGRColor_1, &v10, &v11);
			STR* v13;
			STRLIT(v13, ";2;", 3);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, in_ZPlusStr_2, &v14);
			STR* v15 = int_to_str(v11);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
			STR* v17;
			STRLIT(v17, ";", 1);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, v16, &v18);
			STR* v19 = int_to_str(v10);
			STR* v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(v19, v18, &v20);
			STR* v21;
			STRLIT(v21, ";", 1);
			STR* v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v22);
			STR* v23 = int_to_str(v12);
			STR* v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(v23, v22, &v24);
			branch_ZPlusStr_4 = v24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static void mw_std_str_ZPlusStr_csiZThen (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	int64_t v3 = 27LL /* BESC */;
	STR* v4;
	mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v3, in_ZPlusStr_1, &v4);
	int64_t v5 = 91LL /* BLSQUARE */;
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v5, v4, &v6);
	*out_ZPlusStr_2 = v6;
}
static INT mw_std_input_INPUTz_BUFFERz_SIZZE (void) {
	INT v2 = WRAP_I63(8192LL);
	return v2;
}
static void mw_std_input_ZPlusInputOpenState_endZBang (PTUP in_ZPlusInputOpenState_1, PTUP *out_ZPlusFile_2) {
	INT v3;
	INT v4;
	PTUP v5;
	ARR* v6;
	mtp_std_input_ZPlusInputOpenState_ZPlusInputOpenState(in_ZPlusInputOpenState_1, &v3, &v4, &v5, &v6);
	decref(MKINT(v3));
	decref(MKINT(v4));
	mw_std_buffer_ZPlusBuffer_rdrop(v6);
	*out_ZPlusFile_2 = v5;
}
static void mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang (PTUP in_ZPlusInputOpenState_1, PTUP *out_ZPlusInput_2) {
	ARR* r3 = value_arr(((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[3]);
	ARR* v4;
	void* v5 = mw_std_buffer_ZPlusBuffer_base(r3, &v4);
	ARR* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_sizze(v4, &v6);
	((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[3] = MKARR(v6);
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[2]);
	PTUP v9;
	PTUP v10 = mw_std_file_ZPlusFile_readZ_bytesZBang(r8, v5, v7, &v9);
	((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[2] = MKTUP(v9);
	PTUP v11 = mw_std_result_Result_2_okZAsk(v10);
	PTUP branch_Maybe_12;
	switch (PTREXTRA(v11)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v11);
			incref(MKINT(value_int(v13)));
			INT v14 = WRAP_I63(0LL);
			INT v15 = v14;
			bool v16 = int_lt(v15, value_int(v13));
			PTUP branch_Maybe_17;
			if (v16) {
				PTUP v18 = mtw_std_maybe_Maybe_1_Some(MKINT(value_int(v13)));
				branch_Maybe_17 = v18;
			} else {
				decref(MKINT(value_int(v13)));
				PTUP v19 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_17 = v19;
			}
			branch_Maybe_12 = branch_Maybe_17;
		} break;
		case 0LL: { // None
			PTUP v20 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_12 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusInput_21;
	switch (PTREXTRA(branch_Maybe_12)) {
		case 1LL: { // Some
			VAL v22 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_12);
			INT v23 = value_int(((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[0]);
			decref(MKINT(v23));
			((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[0] = MKINT(value_int(v22));
			INT v24 = WRAP_I63(0LL);
			INT v25 = value_int(((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[1]);
			decref(MKINT(v25));
			((TUP*)PTRPTR(in_ZPlusInputOpenState_1))->cells[1] = MKINT(v24);
			PTUP v26;
			mtw_std_input_ZPlusInput_Open(in_ZPlusInputOpenState_1, &v26);
			branch_ZPlusInput_21 = v26;
		} break;
		case 0LL: { // None
			PTUP v27;
			mw_std_input_ZPlusInputOpenState_endZBang(in_ZPlusInputOpenState_1, &v27);
			PTUP v28;
			mtw_std_input_ZPlusInput_Done(v27, &v28);
			branch_ZPlusInput_21 = v28;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusInput_2 = branch_ZPlusInput_21;
}
static void mw_std_input_ZPlusInput_startZBang (PTUP in_ZPlusFile_1, PTUP *out_ZPlusInput_2) {
	INT v3 = mw_std_input_INPUTz_BUFFERz_SIZZE();
	ARR* v4;
	mw_std_buffer_ZPlusBuffer_New(v3, &v4);
	INT v5 = WRAP_I63(0LL);
	INT v6 = WRAP_I63(0LL);
	PTUP v7;
	mtw_std_input_ZPlusInputOpenState_ZPlusInputOpenState(v5, v6, in_ZPlusFile_1, v4, &v7);
	PTUP v8;
	mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang(v7, &v8);
	*out_ZPlusInput_2 = v8;
}
static void mw_std_input_ZPlusInput_endZBang (PTUP in_ZPlusInput_1, PTUP *out_ZPlusFile_2) {
	PTUP branch_ZPlusFile_3;
	switch (PTREXTRA(in_ZPlusInput_1)) {
		case 0LL: { // Open
			PTUP v4;
			mtp_std_input_ZPlusInput_Open(in_ZPlusInput_1, &v4);
			PTUP v5;
			mw_std_input_ZPlusInputOpenState_endZBang(v4, &v5);
			branch_ZPlusFile_3 = v5;
		} break;
		case 1LL: { // Done
			PTUP v6;
			mtp_std_input_ZPlusInput_Done(in_ZPlusInput_1, &v6);
			branch_ZPlusFile_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusFile_2 = branch_ZPlusFile_3;
}
static PTUP mw_std_input_ZPlusInput_readZ_chunkZBang (PTUP in_ZPlusInput_1, PTUP *out_ZPlusInput_3) {
	PTUP branch_Maybe_4;
	PTUP branch_ZPlusInput_5;
	switch (PTREXTRA(in_ZPlusInput_1)) {
		case 0LL: { // Open
			PTUP v6;
			mtp_std_input_ZPlusInput_Open(in_ZPlusInput_1, &v6);
			INT v7 = value_int(((TUP*)PTRPTR(v6))->cells[1]);
			incref(MKINT(v7));
			INT v8 = value_int(((TUP*)PTRPTR(v6))->cells[0]);
			incref(MKINT(v8));
			ARR* r9 = value_arr(((TUP*)PTRPTR(v6))->cells[3]);
			ARR* v10;
			STR* v11 = mw_std_buffer_ZPlusBuffer_strZAt(r9, v7, v8, &v10);
			((TUP*)PTRPTR(v6))->cells[3] = MKARR(v10);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
			PTUP v13;
			mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang(v6, &v13);
			branch_ZPlusInput_5 = v13;
			branch_Maybe_4 = v12;
		} break;
		case 1LL: { // Done
			PTUP v14;
			mtp_std_input_ZPlusInput_Done(in_ZPlusInput_1, &v14);
			PTUP v15 = PTRMK(0LL /* None */,0,0);
			PTUP v16;
			mtw_std_input_ZPlusInput_Done(v14, &v16);
			branch_ZPlusInput_5 = v16;
			branch_Maybe_4 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusInput_3 = branch_ZPlusInput_5;
	return branch_Maybe_4;
}
static STR* mw_std_input_ZPlusInput_readZ_fileZBang (PTUP in_ZPlusInput_1, PTUP *out_ZPlusInput_3) {
	STR* v4;
	STRLIT(v4, "", 0);
	bool v5 = true;
	STR* v6 = v4;
	PTUP r7 = in_ZPlusInput_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		STR* v10 = v6;
		PTUP r11 = r7;
		bool v12 = v8;
		PTUP v13;
		PTUP v14 = mw_std_input_ZPlusInput_readZ_chunkZBang(r11, &v13);
		STR* branch_Str_15;
		bool branch_Bool_16;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Some
				VAL v17 = mtp_std_maybe_Maybe_1_Some(v14);
				STR* v18 = str_cat(v10, value_str(v17));
				bool v19 = true;
				branch_Bool_16 = v19;
				branch_Str_15 = v18;
			} break;
			case 0LL: { // None
				bool v20 = false;
				branch_Bool_16 = v20;
				branch_Str_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_16;
		v8 = branch_Bool_16;
		r7 = v13;
		v6 = branch_Str_15;
	}
	*out_ZPlusInput_3 = r7;
	return v6;
}
static INT mw_std_output_OUTPUTz_BUFFERz_SIZZE (void) {
	INT v2 = WRAP_I63(4096LL);
	return v2;
}
static void mw_std_output_ZPlusOutput_startZBang (PTUP in_ZPlusFile_1, PTUP *out_ZPlusOutput_2) {
	INT v3 = WRAP_I63(0LL);
	INT v4 = mw_std_output_OUTPUTz_BUFFERz_SIZZE();
	ARR* v5;
	mw_std_buffer_ZPlusBuffer_New(v4, &v5);
	PTUP v6;
	mtw_std_output_ZPlusOutput_ZPlusOutput(v3, in_ZPlusFile_1, v5, &v6);
	*out_ZPlusOutput_2 = v6;
}
static void mw_std_output_ZPlusOutput_endZBang (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusFile_2) {
	PTUP v3;
	mw_std_output_ZPlusOutput_flushZBang(in_ZPlusOutput_1, &v3);
	INT v4;
	PTUP v5;
	ARR* v6;
	mtp_std_output_ZPlusOutput_ZPlusOutput(v3, &v4, &v5, &v6);
	decref(MKINT(v4));
	mw_std_buffer_ZPlusBuffer_rdrop(v6);
	*out_ZPlusFile_2 = v5;
}
static void mw_std_output_ZPlusOutput_flushZBang (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_2) {
	ARR* r3 = value_arr(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[2]);
	ARR* v4;
	void* v5 = mw_std_buffer_ZPlusBuffer_base(r3, &v4);
	((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[2] = MKARR(v4);
	INT v6 = value_int(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[0]);
	incref(MKINT(v6));
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[1]);
	PTUP v8;
	PTUP v9 = mw_std_prelude_unsafe_1_sp2(r7, v5, v6, &v8);
	((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[1] = MKTUP(v8);
	decref(MKTUP(v9));
	INT v10 = WRAP_I63(0LL);
	INT v11 = value_int(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[0]);
	decref(MKINT(v11));
	((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[0] = MKINT(v10);
	*out_ZPlusOutput_2 = in_ZPlusOutput_1;
}
static INT mw_std_output_ZPlusOutput_offset (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_2) {
	INT v4 = value_int(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[0]);
	incref(MKINT(v4));
	*out_ZPlusOutput_2 = in_ZPlusOutput_1;
	return v4;
}
static INT mw_std_output_ZPlusOutput_capacityZ_total (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_3) {
	ARR* r4 = value_arr(((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[2]);
	ARR* v5;
	INT v6 = mw_std_buffer_ZPlusBuffer_sizze(r4, &v5);
	((TUP*)PTRPTR(in_ZPlusOutput_1))->cells[2] = MKARR(v5);
	*out_ZPlusOutput_3 = in_ZPlusOutput_1;
	return v6;
}
static INT mw_std_output_ZPlusOutput_capacityZ_remaining (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_3) {
	PTUP v4;
	INT v5 = mw_std_output_ZPlusOutput_capacityZ_total(in_ZPlusOutput_1, &v4);
	INT v6 = value_int(((TUP*)PTRPTR(v4))->cells[0]);
	incref(MKINT(v6));
	INT v7 = int_sub(value_int(MKINT(v5)), v6);
	*out_ZPlusOutput_3 = v4;
	return v7;
}
static bool mw_std_output_ZPlusOutput_fullZAsk (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_3) {
	PTUP v4;
	INT v5 = mw_std_output_ZPlusOutput_capacityZ_remaining(in_ZPlusOutput_1, &v4);
	INT v6 = WRAP_I63(0LL);
	INT v7 = v6;
	bool v8 = int_eq(v5, v7);
	*out_ZPlusOutput_3 = v4;
	return v8;
}
static void mw_std_output_ZPlusOutput_put (STR* in_Str_1, PTUP in_ZPlusOutput_2, PTUP *out_ZPlusOutput_3) {
	incref(MKSTR(in_Str_1));
	uint64_t v4 = str_size(in_Str_1);
	INT v5 = u64_to_int(v4);
	PTUP v6;
	INT v7 = mw_std_output_ZPlusOutput_capacityZ_remaining(in_ZPlusOutput_2, &v6);
	bool v8 = int_lt(value_int(MKINT(v7)), v5);
	PTUP branch_ZPlusOutput_9;
	if (v8) {
		PTUP v10;
		mw_std_output_ZPlusOutput_flushZBang(v6, &v10);
		incref(MKSTR(in_Str_1));
		uint64_t v11 = str_size(in_Str_1);
		INT v12 = u64_to_int(v11);
		PTUP v13;
		INT v14 = mw_std_output_ZPlusOutput_capacityZ_total(v10, &v13);
		bool v15 = int_le(value_int(MKINT(v14)), v12);
		PTUP branch_ZPlusOutput_16;
		if (v15) {
			incref(MKSTR(in_Str_1));
			incref(MKSTR(in_Str_1));
			void* v17 = str_base(in_Str_1);
			uint64_t v18 = str_size(in_Str_1);
			INT v19 = u64_to_int(v18);
			PTUP r20 = VTUP(((TUP*)PTRPTR(v13))->cells[1]);
			PTUP v21;
			PTUP v22 = mw_std_prelude_unsafe_1_sp2(r20, v17, v19, &v21);
			((TUP*)PTRPTR(v13))->cells[1] = MKTUP(v21);
			decref(MKTUP(v22));
			decref(MKSTR(in_Str_1));
			branch_ZPlusOutput_16 = v13;
		} else {
			PTUP v23;
			mw_std_output_ZPlusOutput_put(in_Str_1, v13, &v23);
			branch_ZPlusOutput_16 = v23;
		}
		branch_ZPlusOutput_9 = branch_ZPlusOutput_16;
	} else {
		incref(MKSTR(in_Str_1));
		PTUP v24;
		INT v25 = mw_std_output_ZPlusOutput_offset(v6, &v24);
		ARR* r26 = value_arr(((TUP*)PTRPTR(v24))->cells[2]);
		ARR* v27;
		mw_std_buffer_ZPlusBuffer_strZBang(r26, in_Str_1, v25, &v27);
		((TUP*)PTRPTR(v24))->cells[2] = MKARR(v27);
		uint64_t v28 = str_size(in_Str_1);
		INT v29 = u64_to_int(v28);
		INT v30 = value_int(((TUP*)PTRPTR(v24))->cells[0]);
		incref(MKINT(v30));
		INT v31 = int_add(value_int(MKINT(v29)), v30);
		INT v32 = value_int(((TUP*)PTRPTR(v24))->cells[0]);
		decref(MKINT(v32));
		((TUP*)PTRPTR(v24))->cells[0] = MKINT(v31);
		branch_ZPlusOutput_9 = v24;
	}
	*out_ZPlusOutput_3 = branch_ZPlusOutput_9;
}
static void mw_std_output_ZPlusOutput_putZ_byte (int64_t in_Byte_1, PTUP in_ZPlusOutput_2, PTUP *out_ZPlusOutput_3) {
	PTUP v4;
	bool v5 = mw_std_output_ZPlusOutput_fullZAsk(in_ZPlusOutput_2, &v4);
	PTUP branch_ZPlusOutput_6;
	if (v5) {
		PTUP v7;
		mw_std_output_ZPlusOutput_flushZBang(v4, &v7);
		branch_ZPlusOutput_6 = v7;
	} else {
		branch_ZPlusOutput_6 = v4;
	}
	PTUP v8;
	INT v9 = mw_std_output_ZPlusOutput_offset(branch_ZPlusOutput_6, &v8);
	ARR* r10 = value_arr(((TUP*)PTRPTR(v8))->cells[2]);
	ARR* v11;
	mw_std_buffer_ZPlusBuffer_byteZBang(r10, in_Byte_1, v9, &v11);
	((TUP*)PTRPTR(v8))->cells[2] = MKARR(v11);
	INT v12 = value_int(((TUP*)PTRPTR(v8))->cells[0]);
	incref(MKINT(v12));
	INT v13 = WRAP_I63(1LL);
	INT v14 = v13;
	INT v15 = int_add(v12, v14);
	INT v16 = value_int(((TUP*)PTRPTR(v8))->cells[0]);
	decref(MKINT(v16));
	((TUP*)PTRPTR(v8))->cells[0] = MKINT(v15);
	*out_ZPlusOutput_3 = v8;
}
static void mw_std_output_ZPlusOutput_line (PTUP in_ZPlusOutput_1, PTUP *out_ZPlusOutput_2) {
	int64_t v3 = 10LL /* BLF */;
	PTUP v4;
	mw_std_output_ZPlusOutput_putZ_byte(v3, in_ZPlusOutput_1, &v4);
	*out_ZPlusOutput_2 = v4;
}
static void mw_std_file_IOError_messageZThen (STR* in_ZPlusStr_1, PTUP in_IOError_2, STR* *out_ZPlusStr_3) {
	STR* branch_ZPlusStr_6;
	switch (PTREXTRA(in_IOError_2)) {
		case 0LL: { // OpenFailed
			int64_t v7;
			STR* v8 = mtp_std_file_IOError_OpenFailed(in_IOError_2, &v7);
			STR* v9;
			STRLIT(v9, "Failed to open ", 15);
			STR* v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(v9, in_ZPlusStr_1, &v10);
			STR* v11;
			mw_std_path_Path_pathZThen(v8, v10, &v11);
			STR* v12;
			STRLIT(v12, ": ", 2);
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			void* v14 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v7);
			uint64_t v15 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v14);
			INT v16 = u64_to_int(v15);
			uint64_t v17 = int_to_u64(v16);
			STR* v18 = str_make(v14, v17);
			STR* v19;
			mw_std_str_ZPlusStr_pushZ_strZBang(v18, v13, &v19);
			branch_ZPlusStr_6 = v19;
		} break;
		case 1LL: { // CreateFailed
			int64_t v20;
			STR* v21 = mtp_std_file_IOError_CreateFailed(in_IOError_2, &v20);
			STR* v22;
			STRLIT(v22, "Failed to create ", 17);
			STR* v23;
			mw_std_str_ZPlusStr_pushZ_strZBang(v22, in_ZPlusStr_1, &v23);
			STR* v24;
			mw_std_path_Path_pathZThen(v21, v23, &v24);
			STR* v25;
			STRLIT(v25, ": ", 2);
			STR* v26;
			mw_std_str_ZPlusStr_pushZ_strZBang(v25, v24, &v26);
			void* v27 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v20);
			uint64_t v28 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v27);
			INT v29 = u64_to_int(v28);
			uint64_t v30 = int_to_u64(v29);
			STR* v31 = str_make(v27, v30);
			STR* v32;
			mw_std_str_ZPlusStr_pushZ_strZBang(v31, v26, &v32);
			branch_ZPlusStr_6 = v32;
		} break;
		case 2LL: { // CreateUnsupported
			STR* v33 = mtp_std_file_IOError_CreateUnsupported(in_IOError_2);
			STR* v34;
			STRLIT(v34, "Failed to create ", 17);
			STR* v35;
			mw_std_str_ZPlusStr_pushZ_strZBang(v34, in_ZPlusStr_1, &v35);
			STR* v36;
			mw_std_path_Path_pathZThen(v33, v35, &v36);
			STR* v37;
			STRLIT(v37, ": Unsupported platform", 22);
			STR* v38;
			mw_std_str_ZPlusStr_pushZ_strZBang(v37, v36, &v38);
			branch_ZPlusStr_6 = v38;
		} break;
		case 3LL: { // CloseFailed
			int64_t v39 = mtp_std_file_IOError_CloseFailed(in_IOError_2);
			STR* v40;
			STRLIT(v40, "Close file failed: ", 19);
			STR* v41;
			mw_std_str_ZPlusStr_pushZ_strZBang(v40, in_ZPlusStr_1, &v41);
			void* v42 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v39);
			uint64_t v43 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v42);
			INT v44 = u64_to_int(v43);
			uint64_t v45 = int_to_u64(v44);
			STR* v46 = str_make(v42, v45);
			STR* v47;
			mw_std_str_ZPlusStr_pushZ_strZBang(v46, v41, &v47);
			branch_ZPlusStr_6 = v47;
		} break;
		case 4LL: { // ReadFailed
			int64_t v48 = mtp_std_file_IOError_ReadFailed(in_IOError_2);
			STR* v49;
			STRLIT(v49, "Failed to read from file: ", 26);
			STR* v50;
			mw_std_str_ZPlusStr_pushZ_strZBang(v49, in_ZPlusStr_1, &v50);
			void* v51 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v48);
			uint64_t v52 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v51);
			INT v53 = u64_to_int(v52);
			uint64_t v54 = int_to_u64(v53);
			STR* v55 = str_make(v51, v54);
			STR* v56;
			mw_std_str_ZPlusStr_pushZ_strZBang(v55, v50, &v56);
			branch_ZPlusStr_6 = v56;
		} break;
		case 5LL: { // WriteFailed
			int64_t v57;
			INT v58 = mtp_std_file_IOError_WriteFailed(in_IOError_2, &v57);
			STR* v59;
			STRLIT(v59, "Failed to write to file: ", 25);
			STR* v60;
			mw_std_str_ZPlusStr_pushZ_strZBang(v59, in_ZPlusStr_1, &v60);
			void* v61 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v57);
			uint64_t v62 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v61);
			INT v63 = u64_to_int(v62);
			uint64_t v64 = int_to_u64(v63);
			STR* v65 = str_make(v61, v64);
			STR* v66;
			mw_std_str_ZPlusStr_pushZ_strZBang(v65, v60, &v66);
			decref(MKINT(v58));
			branch_ZPlusStr_6 = v66;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_6;
}
static STR* mw_std_file_IOError_message (PTUP in_IOError_1) {
	STR* v5;
	STRLIT(v5, "", 0);
	STR* v6;
	mw_std_file_IOError_messageZThen(v5, in_IOError_1, &v6);
	return v6;
}
static PTUP mw_std_file_ZPlusFile_closeZ_fileZBang (PTUP in_ZPlusFile_1) {
	int64_t v5;
	bool v6;
	mtp_std_file_ZPlusFile_ZPlusFile(in_ZPlusFile_1, &v5, &v6);
	PTUP branch_Maybe_7;
	if (v6) {
		int64_t v8 = mext_std_prim_ZPlusWorld_rawZ_posixZ_closeZBang(v5);
		INT v9 = WRAP_I63(0LL);
		INT v10 = v9;
		INT v11 = i64_to_int(v8);
		bool v12 = int_lt(v11, v10);
		PTUP branch_Maybe_13;
		if (v12) {
			int64_t v14 = mw_std_prelude_unsafe_1_sp1();
			PTUP v15 = mtw_std_file_IOError_CloseFailed(v14);
			PTUP v16 = mtw_std_maybe_Maybe_1_Some(MKTUP(v15));
			branch_Maybe_13 = v16;
		} else {
			PTUP v17 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_13 = v17;
		}
		branch_Maybe_7 = branch_Maybe_13;
	} else {
		PTUP v18 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_7 = v18;
	}
	return branch_Maybe_7;
}
static STR* mw_std_file_ZPlusFile_readZ_fileZBang (PTUP in_ZPlusFile_1, PTUP *out_ZPlusFile_3) {
	PTUP v4;
	mw_std_input_ZPlusInput_startZBang(in_ZPlusFile_1, &v4);
	PTUP v5;
	STR* v6 = mw_std_input_ZPlusInput_readZ_fileZBang(v4, &v5);
	PTUP v7;
	mw_std_input_ZPlusInput_endZBang(v5, &v7);
	*out_ZPlusFile_3 = v7;
	return v6;
}
static PTUP mw_std_file_ZPlusFile_readZ_bytesZBang (PTUP in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, PTUP *out_ZPlusFile_4) {
	int64_t r8 = value_i64(((TUP*)PTRPTR(in_ZPlusFile_1))->cells[0]);
	uint64_t v9 = int_to_u64(in_Sizze_3);
	int64_t v10;
	int64_t v11 = mext_std_prelude_ZPlusUnsafe_rawZ_posixZ_readZBang(r8, in_Ptr_2, v9, &v10);
	INT v12 = i64_to_int(v11);
	incref(MKINT(v12));
	INT v13 = WRAP_I63(0LL);
	INT v14 = v13;
	bool v15 = int_le(v14, v12);
	int64_t branch_ZPlusFileDescriptor_16;
	PTUP branch_Result_17;
	if (v15) {
		PTUP v18 = mtw_std_result_Result_2_Ok(MKINT(v12));
		branch_Result_17 = v18;
		branch_ZPlusFileDescriptor_16 = v10;
	} else {
		decref(MKINT(v12));
		int64_t v19 = mext_std_prelude_ZPlusUnsafe_posixZ_errnoZBang();
		PTUP v20 = mtw_std_result_Result_2_Err(MKI64(v19));
		branch_Result_17 = v20;
		branch_ZPlusFileDescriptor_16 = v10;
	}
	((TUP*)PTRPTR(in_ZPlusFile_1))->cells[0] = MKI64(branch_ZPlusFileDescriptor_16);
	PTUP branch_Result_21;
	switch (PTREXTRA(branch_Result_17)) {
		case 1LL: { // Ok
			VAL v22 = mtp_std_result_Result_2_Ok(branch_Result_17);
			PTUP v23 = mtw_std_result_Result_2_Ok(v22);
			branch_Result_21 = v23;
		} break;
		case 0LL: { // Err
			VAL v24 = mtp_std_result_Result_2_Err(branch_Result_17);
			PTUP v25 = mtw_std_file_IOError_ReadFailed(value_i64(v24));
			PTUP v26 = mtw_std_result_Result_2_Err(MKTUP(v25));
			branch_Result_21 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusFile_4 = in_ZPlusFile_1;
	return branch_Result_21;
}
static void mw_std_prim_ZPlusWorld_openZ_fileZBang (STR* in_Path_1, PTUP *out_ZPlusResult_2) {
	incref(MKSTR(in_Path_1));
	int64_t v5 = mw_std_posix_OpenFlags_None();
	INT v6 = WRAP_I63(0LL);
	int64_t v7 = int_to_i64(v6);
	incref(MKSTR(in_Path_1));
	incref(MKSTR(in_Path_1));
	void* v8 = str_base(in_Path_1);
	uint64_t v9 = str_size(in_Path_1);
	INT v10 = u64_to_int(v9);
	incref(MKPTR(v8));
	uint8_t v11 = mw_std_prelude_unsafe_1_sp12(value_int(MKINT(v10)), value_ptr(MKPTR(v8)));
	INT v12 = WRAP_I63(0LL);
	INT v13 = v12;
	uint64_t v14 = (uint64_t)(v11);
	INT v15 = u64_to_int(v14);
	bool v16 = int_eq(v15, v13);
	if (v16) {
	} else {
		STR* v17;
		STRLIT(v17, "tried to use Str as CStr, but Str is not zero terminated", 56);
		do_panic(v17);
	}
	int64_t v18 = mext_std_prim_ZPlusWorld_rawZ_posixZ_openZBang(value_ptr(MKPTR(v8)), v5, v7);
	INT v19 = WRAP_I63(0LL);
	INT v20 = v19;
	INT v21 = i64_to_int(v18);
	bool v22 = int_lt(v21, v20);
	PTUP branch_ZPlusMaybe_23;
	if (v22) {
		PTUP r24 = PTRMK(0LL /* +None */,0,0);
		branch_ZPlusMaybe_23 = r24;
	} else {
		PTUP v25;
		mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKI64(v18), &v25);
		branch_ZPlusMaybe_23 = v25;
	}
	decref(MKSTR(in_Path_1));
	PTUP branch_ZPlusResult_26;
	switch (PTREXTRA(branch_ZPlusMaybe_23)) {
		case 1LL: { // +Some
			VAL v27;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(branch_ZPlusMaybe_23, &v27);
			decref(MKSTR(in_Path_1));
			bool v28 = true;
			PTUP v29;
			mtw_std_file_ZPlusFile_ZPlusFile(value_i64(v27), v28, &v29);
			PTUP v30;
			mtw_std_result_ZPlusResult_2_ZPlusOk(MKTUP(v29), &v30);
			branch_ZPlusResult_26 = v30;
		} break;
		case 0LL: { // +None
			int64_t v31 = mw_std_prelude_unsafe_1_sp1();
			PTUP v32 = mtw_std_file_IOError_OpenFailed(in_Path_1, v31);
			PTUP v33;
			mtw_std_result_ZPlusResult_2_ZPlusErr(MKTUP(v32), &v33);
			branch_ZPlusResult_26 = v33;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusResult_2 = branch_ZPlusResult_26;
}
static void mw_std_prim_ZPlusWorld_createZ_fileZBang (STR* in_Path_1, PTUP *out_ZPlusResult_2) {
	PTUP v5 = mw_std_prim_ZPlusWorld_createZ_fileZ_flags();
	PTUP branch_ZPlusResult_6;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(MKSTR(in_Path_1));
			INT v8 = WRAP_I63(438LL);
			int64_t v9 = int_to_i64(v8);
			incref(MKSTR(in_Path_1));
			incref(MKSTR(in_Path_1));
			void* v10 = str_base(in_Path_1);
			uint64_t v11 = str_size(in_Path_1);
			INT v12 = u64_to_int(v11);
			incref(MKPTR(v10));
			uint8_t v13 = mw_std_prelude_unsafe_1_sp12(value_int(MKINT(v12)), value_ptr(MKPTR(v10)));
			INT v14 = WRAP_I63(0LL);
			INT v15 = v14;
			uint64_t v16 = (uint64_t)(v13);
			INT v17 = u64_to_int(v16);
			bool v18 = int_eq(v17, v15);
			if (v18) {
			} else {
				STR* v19;
				STRLIT(v19, "tried to use Str as CStr, but Str is not zero terminated", 56);
				do_panic(v19);
			}
			int64_t v20 = mext_std_prim_ZPlusWorld_rawZ_posixZ_openZBang(value_ptr(MKPTR(v10)), value_i64(v7), v9);
			INT v21 = WRAP_I63(0LL);
			INT v22 = v21;
			INT v23 = i64_to_int(v20);
			bool v24 = int_lt(v23, v22);
			PTUP branch_ZPlusMaybe_25;
			if (v24) {
				PTUP r26 = PTRMK(0LL /* +None */,0,0);
				branch_ZPlusMaybe_25 = r26;
			} else {
				PTUP v27;
				mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKI64(v20), &v27);
				branch_ZPlusMaybe_25 = v27;
			}
			decref(MKSTR(in_Path_1));
			PTUP branch_ZPlusResult_28;
			switch (PTREXTRA(branch_ZPlusMaybe_25)) {
				case 1LL: { // +Some
					VAL v29;
					mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(branch_ZPlusMaybe_25, &v29);
					decref(MKSTR(in_Path_1));
					bool v30 = true;
					PTUP v31;
					mtw_std_file_ZPlusFile_ZPlusFile(value_i64(v29), v30, &v31);
					PTUP v32;
					mtw_std_result_ZPlusResult_2_ZPlusOk(MKTUP(v31), &v32);
					branch_ZPlusResult_28 = v32;
				} break;
				case 0LL: { // +None
					int64_t v33 = mw_std_prelude_unsafe_1_sp1();
					PTUP v34 = mtw_std_file_IOError_CreateFailed(in_Path_1, v33);
					PTUP v35;
					mtw_std_result_ZPlusResult_2_ZPlusErr(MKTUP(v34), &v35);
					branch_ZPlusResult_28 = v35;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusResult_6 = branch_ZPlusResult_28;
		} break;
		case 0LL: { // None
			PTUP v36 = mtw_std_file_IOError_CreateUnsupported(in_Path_1);
			PTUP v37;
			mtw_std_result_ZPlusResult_2_ZPlusErr(MKTUP(v36), &v37);
			branch_ZPlusResult_6 = v37;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusResult_2 = branch_ZPlusResult_6;
}
static void mw_std_prim_ZPlusWorld_stderrZ_file (PTUP *out_ZPlusFile_1) {
	int64_t v4 = 2LL;
	bool v5 = false;
	PTUP v6;
	mtw_std_file_ZPlusFile_ZPlusFile(v4, v5, &v6);
	*out_ZPlusFile_1 = v6;
}
static PTUP mw_std_prim_ZPlusWorld_createZ_fileZ_flags (void) {
	int64_t v4 = RUNNING_OS;
	int64_t v5 = mw_std_prim_I64_ZToOS(v4);
	PTUP branch_Maybe_6;
	switch (v5) {
		case 3LL: { // Mac
			INT v7 = WRAP_I63(1537LL);
			int64_t v8 = int_to_i64(v7);
			PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKI64(v8));
			branch_Maybe_6 = v9;
		} break;
		case 2LL: { // Linux
			INT v10 = WRAP_I63(577LL);
			int64_t v11 = int_to_i64(v10);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKI64(v11));
			branch_Maybe_6 = v12;
		} break;
		case 1LL: { // Windows
			INT v13 = WRAP_I63(769LL);
			int64_t v14 = int_to_i64(v13);
			PTUP v15 = mtw_std_maybe_Maybe_1_Some(MKI64(v14));
			branch_Maybe_6 = v15;
		} break;
		case 0LL: { // Unknown
			PTUP v16 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_6;
}
static PTUP mw_std_file_ZPlusFile_writeZ_bytesZBang (PTUP in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, PTUP *out_ZPlusFile_4) {
	INT v8 = WRAP_I63(0LL);
	PTUP v9 = mtw_std_result_Result_2_Ok(MKINT(v8));
	incref(MKINT(in_Sizze_3));
	INT v10 = WRAP_I63(0LL);
	INT v11 = v10;
	bool v12 = int_lt(v11, in_Sizze_3);
	PTUP r13 = in_ZPlusFile_1;
	void* v14 = in_Ptr_2;
	PTUP v15 = v9;
	INT v16 = in_Sizze_3;
	bool v17 = v12;
	while (v17) {
		PTUP r18 = r13;
		void* v19 = v14;
		PTUP v20 = v15;
		INT v21 = v16;
		PTUP branch_ZPlusFile_22;
		void* branch_Ptr_23;
		PTUP branch_Result_24;
		INT branch_Sizze_25;
		switch (PTREXTRA(v20)) {
			case 0LL: { // Err
				VAL v26 = mtp_std_result_Result_2_Err(v20);
				PTUP v27 = mtw_std_result_Result_2_Err(v26);
				INT v28 = WRAP_I63(0LL);
				decref(MKINT(v21));
				branch_Sizze_25 = v28;
				branch_Result_24 = v27;
				branch_Ptr_23 = v19;
				branch_ZPlusFile_22 = r18;
			} break;
			case 1LL: { // Ok
				VAL v29 = mtp_std_result_Result_2_Ok(v20);
				int64_t r30 = value_i64(((TUP*)PTRPTR(r18))->cells[0]);
				incref(MKINT(v21));
				uint64_t v31 = int_to_u64(v21);
				int64_t v32;
				int64_t v33 = mext_std_prelude_ZPlusUnsafe_rawZ_posixZ_writeZBang(r30, v19, v31, &v32);
				INT v34 = i64_to_int(v33);
				incref(MKINT(v34));
				INT v35 = WRAP_I63(0LL);
				INT v36 = v35;
				bool v37 = int_le(v36, v34);
				int64_t branch_ZPlusFileDescriptor_38;
				PTUP branch_Result_39;
				if (v37) {
					PTUP v40 = mtw_std_result_Result_2_Ok(MKINT(v34));
					branch_Result_39 = v40;
					branch_ZPlusFileDescriptor_38 = v32;
				} else {
					decref(MKINT(v34));
					int64_t v41 = mext_std_prelude_ZPlusUnsafe_posixZ_errnoZBang();
					PTUP v42 = mtw_std_result_Result_2_Err(MKI64(v41));
					branch_Result_39 = v42;
					branch_ZPlusFileDescriptor_38 = v32;
				}
				((TUP*)PTRPTR(r18))->cells[0] = MKI64(branch_ZPlusFileDescriptor_38);
				PTUP branch_ZPlusFile_43;
				void* branch_Ptr_44;
				INT branch_Sizze_45;
				PTUP branch_Result_46;
				switch (PTREXTRA(branch_Result_39)) {
					case 1LL: { // Ok
						VAL v47 = mtp_std_result_Result_2_Ok(branch_Result_39);
						incref(MKINT(value_int(v47)));
						INT v48 = int_add(value_int(MKINT(value_int(v47))), value_int(v47));
						incref(MKINT(v48));
						int64_t v49 = int_to_i64(v48);
						void* v50 = (void*)(v49 + (char*)v19);
						INT v51 = int_sub(value_int(MKINT(v21)), v48);
						PTUP v52 = mtw_std_result_Result_2_Ok(v29);
						branch_Result_46 = v52;
						branch_Sizze_45 = v51;
						branch_Ptr_44 = v50;
						branch_ZPlusFile_43 = r18;
					} break;
					case 0LL: { // Err
						VAL v53 = mtp_std_result_Result_2_Err(branch_Result_39);
						PTUP v54 = mtw_std_file_IOError_WriteFailed(value_int(v29), value_i64(v53));
						PTUP v55 = mtw_std_result_Result_2_Err(MKTUP(v54));
						INT v56 = WRAP_I63(0LL);
						decref(MKINT(v21));
						branch_Result_46 = v55;
						branch_Sizze_45 = v56;
						branch_Ptr_44 = v19;
						branch_ZPlusFile_43 = r18;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Sizze_25 = branch_Sizze_45;
				branch_Result_24 = branch_Result_46;
				branch_Ptr_23 = branch_Ptr_44;
				branch_ZPlusFile_22 = branch_ZPlusFile_43;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKINT(branch_Sizze_25));
		INT v57 = WRAP_I63(0LL);
		INT v58 = v57;
		bool v59 = int_lt(v58, branch_Sizze_25);
		v17 = v59;
		v16 = branch_Sizze_25;
		v15 = branch_Result_24;
		v14 = branch_Ptr_23;
		r13 = branch_ZPlusFile_22;
	}
	decref(MKINT(v16));
	*out_ZPlusFile_4 = r13;
	return v15;
}
static PTUP mw_std_prim_ZPlusWorld_readZ_pathZBang (STR* in_Path_1) {
	PTUP v5;
	mw_std_prim_ZPlusWorld_openZ_fileZBang(in_Path_1, &v5);
	PTUP branch_Result_6;
	switch (PTREXTRA(v5)) {
		case 1LL: { // +Ok
			VAL v7;
			mtp_std_result_ZPlusResult_2_ZPlusOk(v5, &v7);
			PTUP v8;
			STR* v9 = mw_std_file_ZPlusFile_readZ_fileZBang(VTUP(v7), &v8);
			PTUP v10 = mw_std_file_ZPlusFile_closeZ_fileZBang(v8);
			PTUP branch_Result_11;
			switch (PTREXTRA(v10)) {
				case 1LL: { // Some
					VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
					decref(MKSTR(v9));
					PTUP v13 = mtw_std_result_Result_2_Err(v12);
					branch_Result_11 = v13;
				} break;
				case 0LL: { // None
					PTUP v14 = mtw_std_result_Result_2_Ok(MKSTR(v9));
					branch_Result_11 = v14;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Result_6 = branch_Result_11;
		} break;
		case 0LL: { // +Err
			VAL v15 = mtp_std_result_ZPlusResult_2_ZPlusErr(v5);
			PTUP v16 = mtw_std_result_Result_2_Err(v15);
			branch_Result_6 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Result_6;
}
static void mw_std_prim_ZPlusWorld_traceZ_ (STR* in_Str_1) {
	PTUP v4;
	mw_std_prim_ZPlusWorld_stderrZ_file(&v4);
	incref(MKSTR(in_Str_1));
	incref(MKSTR(in_Str_1));
	void* v5 = str_base(in_Str_1);
	uint64_t v6 = str_size(in_Str_1);
	INT v7 = u64_to_int(v6);
	PTUP v8;
	PTUP v9 = mw_std_prelude_unsafe_1_sp2(v4, v5, v7, &v8);
	decref(MKSTR(in_Str_1));
	decref(MKTUP(v9));
	PTUP v10 = mw_std_file_ZPlusFile_closeZ_fileZBang(v8);
	decref(MKTUP(v10));
}
static void mw_std_prim_ZPlusWorld_trace (STR* in_Str_1) {
	STR* v4;
	STRLIT(v4, "\n", 1);
	STR* v5 = str_cat(in_Str_1, v4);
	mw_std_prim_ZPlusWorld_traceZ_(v5);
}
static bool mw_std_prim_ZPlusWorld_isZ_directoryZAsk (STR* in_Path_1) {
	INT v5 = WRAP_I63(256LL);
	ARR* v6;
	mw_std_buffer_ZPlusBuffer_New(v5, &v6);
	incref(MKSTR(in_Path_1));
	incref(MKSTR(in_Path_1));
	void* v7 = str_base(in_Path_1);
	uint64_t v8 = str_size(in_Path_1);
	INT v9 = u64_to_int(v8);
	incref(MKPTR(v7));
	uint8_t v10 = mw_std_prelude_unsafe_1_sp12(value_int(MKINT(v9)), value_ptr(MKPTR(v7)));
	INT v11 = WRAP_I63(0LL);
	INT v12 = v11;
	uint64_t v13 = (uint64_t)(v10);
	INT v14 = u64_to_int(v13);
	bool v15 = int_eq(v14, v12);
	if (v15) {
	} else {
		STR* v16;
		STRLIT(v16, "tried to use Str as CStr, but Str is not zero terminated", 56);
		do_panic(v16);
	}
	ARR* v17;
	void* v18 = mw_std_buffer_ZPlusBuffer_base(v6, &v17);
	int64_t v19 = mext_std_world_posixZ_stat(value_ptr(MKPTR(v7)), v18);
	INT v20 = i64_to_int(v19);
	INT v21 = WRAP_I63(0LL);
	INT v22 = v21;
	bool v23 = int_eq(v20, v22);
	ARR* branch_ZPlusBuffer_24;
	bool branch_Bool_25;
	if (v23) {
		ARR* v26;
		void* v27 = mw_std_buffer_ZPlusBuffer_base(v17, &v26);
		uint16_t v28 = mw_std_world_stz_modeZAt(v27);
		bool v29 = mw_std_world_Sz_ISDIR(v28);
		branch_Bool_25 = v29;
		branch_ZPlusBuffer_24 = value_arr(MKARR(v26));
	} else {
		bool v30 = false;
		branch_Bool_25 = v30;
		branch_ZPlusBuffer_24 = v17;
	}
	decref(MKSTR(in_Path_1));
	mw_std_buffer_ZPlusBuffer_rdrop(branch_ZPlusBuffer_24);
	return branch_Bool_25;
}
static uint16_t mw_std_world_Sz_IFMT (void) {
	uint16_t v2 = 61440;
	return v2;
}
static uint16_t mw_std_world_Sz_IFDIR (void) {
	uint16_t v2 = 16384;
	return v2;
}
static bool mw_std_world_Sz_ISDIR (uint16_t in_U16_1) {
	uint16_t v3 = mw_std_world_Sz_IFMT();
	uint64_t v4 = (uint64_t)(in_U16_1);
	uint64_t v5 = (uint64_t)(v3);
	uint64_t v6 = (value_u64(MKU64(v4)) & v5);
	uint16_t v7 = (uint16_t)(v6);
	uint16_t v8 = mw_std_world_Sz_IFDIR();
	uint64_t v9 = (uint64_t)(v8);
	uint32_t v10 = (uint32_t)(v9);
	uint64_t v11 = (uint64_t)(v7);
	uint32_t v12 = (uint32_t)(v11);
	uint64_t v13 = (uint64_t)(v12);
	uint64_t v14 = (uint64_t)(v10);
	bool v15 = (value_u64(MKU64(v13)) == v14);
	return v15;
}
static uint16_t mw_std_world_stz_modeZAt (void* in_Ptr_1) {
	int64_t v7 = RUNNING_OS;
	int64_t v8 = mw_std_prim_I64_ZToOS(v7);
	void* branch_Ptr_9;
	INT branch_Sizze_10;
	switch (v8) {
		case 2LL: { // Linux
			INT v11 = WRAP_I63(24LL);
			branch_Sizze_10 = v11;
			branch_Ptr_9 = in_Ptr_1;
		} break;
		case 1LL: { // Windows
			INT v12 = WRAP_I63(6LL);
			branch_Sizze_10 = v12;
			branch_Ptr_9 = in_Ptr_1;
		} break;
		case 3LL: { // Mac
			int64_t v13 = RUNNING_ARCH;
			int64_t v14 = mw_std_prim_I64_ZToArch(v13);
			int64_t v15 = 3LL /* ARM64 */;
			int64_t v16 = v14;
			INT v17 = i64_to_int(v16);
			int64_t v18 = v15;
			INT v19 = i64_to_int(v18);
			bool v20 = int_eq(value_int(MKINT(v17)), v19);
			void* branch_Ptr_21;
			INT branch_Sizze_22;
			if (v20) {
				INT v23 = WRAP_I63(4LL);
				branch_Sizze_22 = v23;
				branch_Ptr_21 = in_Ptr_1;
			} else {
				INT v24 = WRAP_I63(8LL);
				branch_Sizze_22 = v24;
				branch_Ptr_21 = in_Ptr_1;
			}
			branch_Sizze_10 = branch_Sizze_22;
			branch_Ptr_9 = branch_Ptr_21;
		} break;
		default: {
			INT v25 = WRAP_I63(8LL);
			branch_Sizze_10 = v25;
			branch_Ptr_9 = in_Ptr_1;
		} break;
	}
	int64_t v26 = int_to_i64(branch_Sizze_10);
	void* v27 = (void*)(v26 + (char*)branch_Ptr_9);
	uint16_t v28 = *(uint16_t*)v27;
	return v28;
}
static PTUP mw_argZ_parser_state_State_1_init (VAL in_a_1) {
	PTUP v3 = mw_argZ_parser_parse_argvZ_toZ_str();
	INT v4 = WRAP_I63(0LL);
	STR* v5 = mw_std_prelude_unsafe_1_sp23(v4);
	PTUP v6 = mtw_argZ_parser_state_ArgvInfo_ArgvInfo(v3, v5);
	bool v7 = false;
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	PTUP v9 = PTRMK(0LL /* None */,0,0);
	PTUP v10 = mtw_argZ_parser_state_CurrentArg_CurrentArg(v7, v8, v9);
	INT v11 = WRAP_I63(0LL);
	INT v12 = WRAP_I63(0LL);
	PTUP v13 = PTRMK(0LL /* None */,0,0);
	PTUP v14 = mtw_argZ_parser_state_State_1_State(in_a_1, v6, v10, v11, v12, v13);
	return v14;
}
static PTUP mw_argZ_parser_state_State_1_argv (PTUP in_State_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_State_1))->cells[1]);
	incref(MKTUP(v3));
	decref(MKTUP(in_State_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(v3))->cells[0]);
	incref(MKTUP(v4));
	decref(MKTUP(v3));
	return v4;
}
static STR* mw_argZ_parser_state_State_1_programZ_name (PTUP in_State_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_State_1))->cells[1]);
	incref(MKTUP(v3));
	decref(MKTUP(in_State_1));
	STR* v4 = value_str(((TUP*)PTRPTR(v3))->cells[1]);
	incref(MKSTR(v4));
	decref(MKTUP(v3));
	return v4;
}
static bool mw_argZ_parser_state_State_1_parsingZAsk (PTUP in_State_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_State_1))->cells[2]);
	incref(MKTUP(v3));
	decref(MKTUP(in_State_1));
	bool v4 = value_bool(((TUP*)PTRPTR(v3))->cells[0]);
	decref(MKTUP(v3));
	return v4;
}
static PTUP mw_argZ_parser_state_State_1_parsingZAskZBang (bool in_Bool_1, PTUP in_State_2) {
	incref(MKTUP(in_State_2));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_State_2))->cells[2]);
	incref(MKTUP(v4));
	decref(MKTUP(in_State_2));
	VAL v5 = tup_replace(MKTUP(v4), 0, MKBOOL(in_Bool_1));
	VAL v6 = tup_replace(MKTUP(in_State_2), 2, MKTUP(VTUP(v5)));
	return VTUP(v6);
}
static PTUP mw_argZ_parser_state_State_1_optionZ_option (PTUP in_State_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_State_1))->cells[2]);
	incref(MKTUP(v3));
	decref(MKTUP(in_State_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(v3))->cells[2]);
	incref(MKTUP(v4));
	decref(MKTUP(v3));
	return v4;
}
static PTUP mw_argZ_parser_state_State_1_optionZ_optionZBang (PTUP in_Maybe_1, PTUP in_State_2) {
	incref(MKTUP(in_State_2));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_State_2))->cells[2]);
	incref(MKTUP(v4));
	decref(MKTUP(in_State_2));
	VAL v5 = tup_replace(MKTUP(v4), 2, MKTUP(in_Maybe_1));
	VAL v6 = tup_replace(MKTUP(in_State_2), 2, MKTUP(VTUP(v5)));
	return VTUP(v6);
}
static void mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop (PTUP in_ZPlusArgumentParser_1) {
	PTUP v2;
	PTUP v3;
	mtp_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser(in_ZPlusArgumentParser_1, &v2, &v3);
	decref(MKTUP(v2));
	decref(MKTUP(v3));
}
static VAL mw_argZ_parser_types_ZPlusArgumentParser_1_parser (PTUP in_ZPlusArgumentParser_1, PTUP *out_ZPlusArgumentParser_2) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[0]);
	incref(MKTUP(v4));
	VAL v5 = ((TUP*)PTRPTR(v4))->cells[1];
	incref(v5);
	decref(MKTUP(v4));
	*out_ZPlusArgumentParser_2 = in_ZPlusArgumentParser_1;
	return v5;
}
static bool mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk (PTUP in_ArgpOptionType_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_ArgpOptionType_1)) {
		case 0LL: { // Short
			int64_t v4 = mtp_argZ_parser_types_ArgpOptionType_Short(in_ArgpOptionType_1);
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_ArgpOptionType_1));
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
	}
	return branch_Bool_3;
}
static void mw_argZ_parser_types_ArgumentParsingError_emitZThen (PTUP in_ArgumentParsingError_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* branch_ZPlusStr_4;
	switch (PTREXTRA(in_ArgumentParsingError_1)) {
		case 1LL: { // MissingArg
			STR* v5 = mtp_argZ_parser_types_ArgumentParsingError_MissingArg(in_ArgumentParsingError_1);
			PTUP v6 = PTRMK(31LL /* FGRed */,0,0);
			STR* v7;
			mw_std_terminal_Sgr_emitZThen(v6, in_ZPlusStr_2, &v7);
			STR* v8;
			STRLIT(v8, "Missing argument: ", 18);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, v7, &v9);
			PTUP v10 = PTRMK(0LL /* Reset */,0,0);
			STR* v11;
			mw_std_terminal_Sgr_emitZThen(v10, v9, &v11);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v5, v11, &v12);
			branch_ZPlusStr_4 = v12;
		} break;
		case 0LL: { // MissingArgValue
			STR* v13;
			STRLIT(v13, "Missing associated value for flag option", 40);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, in_ZPlusStr_2, &v14);
			branch_ZPlusStr_4 = v14;
		} break;
		case 2LL: { // TooManyArgs
			STR* v15;
			STRLIT(v15, "Too many positional arguments passed", 36);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, in_ZPlusStr_2, &v16);
			branch_ZPlusStr_4 = v16;
		} break;
		case 3LL: { // TooFewArgs
			STR* v17;
			STRLIT(v17, "Too few positional arguments passed", 35);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, in_ZPlusStr_2, &v18);
			branch_ZPlusStr_4 = v18;
		} break;
		case 4LL: { // UnknownArg
			STR* v19;
			STRLIT(v19, "Got an unknown option", 21);
			STR* v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(v19, in_ZPlusStr_2, &v20);
			branch_ZPlusStr_4 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static STR* mw_argZ_parser_types_ZPlusArgumentParser_1_usage (PTUP in_ZPlusArgumentParser_1, PTUP *out_ZPlusArgumentParser_2) {
	STR* v4;
	STRLIT(v4, "", 0);
	PTUP v5 = PTRMK(1LL /* Bold */,0,0);
	STR* v6;
	mw_std_terminal_Sgr_emitZThen(v5, v4, &v6);
	STR* v7;
	STRLIT(v7, "Usage: ", 7);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	PTUP v9 = PTRMK(0LL /* Reset */,0,0);
	STR* v10;
	mw_std_terminal_Sgr_emitZThen(v9, v8, &v10);
	STR* v11;
	STRLIT(v11, "  ", 2);
	STR* v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
	PTUP v13 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
	incref(MKTUP(v13));
	STR* v14 = mw_argZ_parser_state_State_1_programZ_name(v13);
	STR* v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(v14, v12, &v15);
	STR* v16;
	STRLIT(v16, " [options] ", 11);
	STR* v17;
	mw_std_str_ZPlusStr_pushZ_strZBang(v16, v15, &v17);
	PTUP v18 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[0]);
	incref(MKTUP(v18));
	PTUP v19 = VTUP(((TUP*)PTRPTR(v18))->cells[2]);
	incref(MKTUP(v19));
	decref(MKTUP(v18));
	STR* branch_ZPlusStr_20;
	VAL branch_z_x1_21;
	switch (PTREXTRA(v19)) {
		case 1LL: { // Some
			VAL v22 = mtp_std_maybe_Maybe_1_Some(v19);
			STR* v23;
			mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v22), v17, &v23);
			branch_z_x1_21 = MKTUP(in_ZPlusArgumentParser_1);
			branch_ZPlusStr_20 = v23;
		} break;
		case 0LL: { // None
			branch_z_x1_21 = MKTUP(in_ZPlusArgumentParser_1);
			branch_ZPlusStr_20 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v24;
	STRLIT(v24, "\n\n", 2);
	STR* v25;
	mw_std_str_ZPlusStr_pushZ_strZBang(v24, branch_ZPlusStr_20, &v25);
	PTUP v26 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x1_21)))->cells[0]);
	incref(MKTUP(v26));
	PTUP v27 = VTUP(((TUP*)PTRPTR(v26))->cells[0]);
	incref(MKTUP(v27));
	decref(MKTUP(v26));
	bool v28 = true;
	STR* r29 = v25;
	PTUP r30 = VTUP(branch_z_x1_21);
	PTUP v31 = v27;
	bool v32 = v28;
	bool v33 = v28;
	while (v33) {
		STR* r34 = r29;
		PTUP r35 = r30;
		PTUP v36 = v31;
		bool v37 = v32;
		STR* branch_ZPlusStr_38;
		PTUP branch_ZPlusArgumentParser_39;
		PTUP branch_List_40;
		bool branch_Bool_41;
		switch (PTREXTRA(v36)) {
			case 1LL: { // Cons
				PTUP v42;
				VAL v43 = mtp_std_list_List_1_Cons(v36, &v42);
				PTUP v44;
				STR* v45;
				mw_argZ_parser_types_ArgpOption_usageZThen(r35, r34, VTUP(v43), &v44, &v45);
				bool v46 = true;
				branch_Bool_41 = v46;
				branch_List_40 = v42;
				branch_ZPlusArgumentParser_39 = v44;
				branch_ZPlusStr_38 = v45;
			} break;
			case 0LL: { // Nil
				PTUP v47 = PTRMK(0LL /* Nil */,0,0);
				bool v48 = false;
				branch_Bool_41 = v48;
				branch_List_40 = v47;
				branch_ZPlusArgumentParser_39 = r35;
				branch_ZPlusStr_38 = r34;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v33 = branch_Bool_41;
		v32 = branch_Bool_41;
		v31 = branch_List_40;
		r30 = branch_ZPlusArgumentParser_39;
		r29 = branch_ZPlusStr_38;
	}
	decref(MKTUP(v31));
	STR* v49;
	STRLIT(v49, "\n", 1);
	STR* v50;
	mw_std_str_ZPlusStr_pushZ_strZBang(v49, r29, &v50);
	*out_ZPlusArgumentParser_2 = r30;
	return v50;
}
static void mw_argZ_parser_types_ArgpOption_usageZThen (PTUP in_ZPlusArgumentParser_1, STR* in_ZPlusStr_2, PTUP in_ArgpOption_3, PTUP *out_ZPlusArgumentParser_4, STR* *out_ZPlusStr_5) {
	STR* v6;
	STRLIT(v6, "  ", 2);
	STR* v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(v6, in_ZPlusStr_2, &v7);
	INT v8 = WRAP_I63(0LL);
	incref(MKTUP(in_ArgpOption_3));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_ArgpOption_3))->cells[1]);
	incref(MKTUP(v9));
	decref(MKTUP(in_ArgpOption_3));
	PTUP branch_ZPlusArgumentParser_10;
	STR* branch_ZPlusStr_11;
	INT branch_Int_12;
	PTUP branch_ArgpOption_13;
	switch (PTREXTRA(v9)) {
		case 0LL: { // Short
			int64_t v14 = mtp_argZ_parser_types_ArgpOptionType_Short(v9);
			int64_t v15 = 33LL /* B'!' */;
			int64_t v16 = 126LL /* B'~' */;
			int64_t v17 = v15;
			INT v18 = i64_to_int(v17);
			uint64_t v19 = int_to_u64(v18);
			uint8_t v20 = (uint8_t)(v19);
			int64_t v21 = v14;
			INT v22 = i64_to_int(v21);
			uint64_t v23 = int_to_u64(v22);
			uint8_t v24 = (uint8_t)(v23);
			uint64_t v25 = (uint64_t)(v24);
			uint32_t v26 = (uint32_t)(v25);
			uint64_t v27 = (uint64_t)(value_u8(MKU8(v20)));
			uint32_t v28 = (uint32_t)(v27);
			uint64_t v29 = (uint64_t)(v28);
			uint64_t v30 = (uint64_t)(v26);
			bool v31 = (value_u64(MKU64(v29)) <= v30);
			bool branch_Bool_32;
			if (value_bool(MKBOOL(v31))) {
				int64_t v33 = VI64(MKI64(v14));
				INT v34 = i64_to_int(v33);
				uint64_t v35 = int_to_u64(v34);
				uint8_t v36 = (uint8_t)(v35);
				int64_t v37 = VI64(MKI64(v16));
				INT v38 = i64_to_int(v37);
				uint64_t v39 = int_to_u64(v38);
				uint8_t v40 = (uint8_t)(v39);
				uint64_t v41 = (uint64_t)(v40);
				uint32_t v42 = (uint32_t)(v41);
				uint64_t v43 = (uint64_t)(value_u8(MKU8(v36)));
				uint32_t v44 = (uint32_t)(v43);
				uint64_t v45 = (uint64_t)(v44);
				uint64_t v46 = (uint64_t)(v42);
				bool v47 = (value_u64(MKU64(v45)) <= v46);
				branch_Bool_32 = v47;
			} else {
				decref(MKI64(VI64(MKI64(v16))));
				decref(MKI64(VI64(MKI64(v14))));
				bool v48 = false;
				branch_Bool_32 = v48;
			}
			INT branch_Int_49;
			int64_t branch_Byte_50;
			STR* branch_ZPlusStr_51;
			if (branch_Bool_32) {
				INT v52 = WRAP_I63(2LL);
				INT v53 = int_add(v8, v52);
				STR* v54;
				STRLIT(v54, "-", 1);
				STR* v55;
				mw_std_str_ZPlusStr_pushZ_strZBang(v54, v7, &v55);
				STR* v56;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v14, v55, &v56);
				branch_ZPlusStr_51 = v56;
				branch_Byte_50 = v14;
				branch_Int_49 = v53;
			} else {
				branch_ZPlusStr_51 = v7;
				branch_Byte_50 = v14;
				branch_Int_49 = v8;
			}
			branch_ArgpOption_13 = in_ArgpOption_3;
			branch_Int_12 = branch_Int_49;
			branch_ZPlusStr_11 = branch_ZPlusStr_51;
			branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			decref(MKTUP(v9));
			branch_ArgpOption_13 = in_ArgpOption_3;
			branch_Int_12 = v8;
			branch_ZPlusStr_11 = v7;
			branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
		} break;
	}
	incref(MKTUP(branch_ArgpOption_13));
	PTUP v57 = VTUP(((TUP*)PTRPTR(branch_ArgpOption_13))->cells[1]);
	incref(MKTUP(v57));
	decref(MKTUP(branch_ArgpOption_13));
	bool v58 = mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk(v57);
	PTUP branch_ArgpOption_59;
	bool branch_Bool_60;
	if (v58) {
		incref(MKTUP(branch_ArgpOption_13));
		PTUP v61 = VTUP(((TUP*)PTRPTR(branch_ArgpOption_13))->cells[0]);
		incref(MKTUP(v61));
		decref(MKTUP(branch_ArgpOption_13));
		int64_t v62 = PTREXTRA(v61);
		decref(MKTUP(v61));
		INT v63 = WRAP_I63(0LL);
		INT v64 = v63;
		INT v65 = i64_to_int(v62);
		bool v66 = int_eq(v65, v64);
		bool v67 = !v66;
		branch_Bool_60 = v67;
		branch_ArgpOption_59 = branch_ArgpOption_13;
	} else {
		bool v68 = false;
		branch_Bool_60 = v68;
		branch_ArgpOption_59 = branch_ArgpOption_13;
	}
	STR* branch_ZPlusStr_69;
	INT branch_Int_70;
	if (branch_Bool_60) {
		STR* v71;
		STRLIT(v71, ", ", 2);
		STR* v72;
		mw_std_str_ZPlusStr_pushZ_strZBang(v71, branch_ZPlusStr_11, &v72);
		INT v73 = WRAP_I63(2LL);
		INT v74 = int_add(branch_Int_12, v73);
		branch_Int_70 = v74;
		branch_ZPlusStr_69 = v72;
	} else {
		branch_Int_70 = branch_Int_12;
		branch_ZPlusStr_69 = branch_ZPlusStr_11;
	}
	incref(MKTUP(branch_ArgpOption_59));
	PTUP v75 = VTUP(((TUP*)PTRPTR(branch_ArgpOption_59))->cells[0]);
	incref(MKTUP(v75));
	decref(MKTUP(branch_ArgpOption_59));
	INT branch_Int_76;
	STR* branch_ZPlusStr_77;
	PTUP branch_ArgpOption_78;
	switch (PTREXTRA(v75)) {
		case 1LL: { // Some
			VAL v79 = mtp_std_maybe_Maybe_1_Some(v75);
			incref(MKSTR(value_str(v79)));
			uint64_t v80 = str_size(value_str(v79));
			INT v81 = u64_to_int(v80);
			INT v82 = WRAP_I63(2LL);
			INT v83 = int_add(branch_Int_70, v82);
			INT v84 = int_add(v81, v83);
			STR* v85;
			STRLIT(v85, "--", 2);
			STR* v86;
			mw_std_str_ZPlusStr_pushZ_strZBang(v85, branch_ZPlusStr_69, &v86);
			STR* v87;
			mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v79), v86, &v87);
			incref(MKTUP(branch_ArgpOption_59));
			PTUP v88 = VTUP(((TUP*)PTRPTR(branch_ArgpOption_59))->cells[2]);
			incref(MKTUP(v88));
			decref(MKTUP(branch_ArgpOption_59));
			INT branch_Int_89;
			STR* branch_ZPlusStr_90;
			switch (PTREXTRA(v88)) {
				case 1LL: { // Some
					VAL v91 = mtp_std_maybe_Maybe_1_Some(v88);
					incref(MKSTR(value_str(v91)));
					uint64_t v92 = str_size(value_str(v91));
					INT v93 = u64_to_int(v92);
					INT v94 = WRAP_I63(1LL);
					INT v95 = int_add(v84, v94);
					INT v96 = int_add(v93, v95);
					STR* v97;
					STRLIT(v97, " ", 1);
					STR* v98;
					mw_std_str_ZPlusStr_pushZ_strZBang(v97, v87, &v98);
					STR* v99;
					mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v91), v98, &v99);
					branch_ZPlusStr_90 = v99;
					branch_Int_89 = v96;
				} break;
				case 0LL: { // None
					branch_ZPlusStr_90 = v87;
					branch_Int_89 = v84;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ArgpOption_78 = branch_ArgpOption_59;
			branch_ZPlusStr_77 = branch_ZPlusStr_90;
			branch_Int_76 = branch_Int_89;
		} break;
		case 0LL: { // None
			branch_ArgpOption_78 = branch_ArgpOption_59;
			branch_ZPlusStr_77 = branch_ZPlusStr_69;
			branch_Int_76 = branch_Int_70;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKTUP(branch_ArgpOption_78));
	PTUP v100 = VTUP(((TUP*)PTRPTR(branch_ArgpOption_78))->cells[3]);
	incref(MKTUP(v100));
	decref(MKTUP(branch_ArgpOption_78));
	INT branch_Int_101;
	PTUP branch_ZPlusArgumentParser_102;
	STR* branch_ZPlusStr_103;
	switch (PTREXTRA(v100)) {
		case 1LL: { // Some
			VAL v104 = mtp_std_maybe_Maybe_1_Some(v100);
			incref(MKINT(branch_Int_76));
			PTUP v105 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_10))->cells[1]);
			incref(MKTUP(v105));
			INT v106 = value_int(((TUP*)PTRPTR(v105))->cells[4]);
			incref(MKINT(v106));
			decref(MKTUP(v105));
			incref(MKINT(branch_Int_76));
			incref(MKINT(v106));
			bool v107 = int_lt(value_int(MKINT(branch_Int_76)), value_int(MKINT(v106)));
			STR* branch_Str_108;
			INT branch_Int_109;
			STR* branch_ZPlusStr_110;
			PTUP branch_ZPlusArgumentParser_111;
			if (v107) {
				INT v112 = int_sub(value_int(MKINT(v106)), value_int(MKINT(branch_Int_76)));
				INT v113 = WRAP_I63(0LL);
				PTUP v114 = mw_std_prim_Int_range(value_int(MKINT(v113)), v112);
				bool v115 = true;
				STR* r116 = branch_ZPlusStr_77;
				VAL r117 = MKTUP(branch_ZPlusArgumentParser_10);
				PTUP v118 = v114;
				bool v119 = v115;
				bool v120 = v115;
				while (v120) {
					STR* r121 = r116;
					VAL r122 = r117;
					PTUP v123 = v118;
					bool v124 = v119;
					STR* branch_ZPlusStr_125;
					VAL branch_z_x1_126;
					PTUP branch_List_127;
					bool branch_Bool_128;
					switch (PTREXTRA(v123)) {
						case 1LL: { // Cons
							PTUP v129;
							VAL v130 = mtp_std_list_List_1_Cons(v123, &v129);
							decref(v130);
							STR* v131;
							STRLIT(v131, " ", 1);
							STR* v132;
							mw_std_str_ZPlusStr_pushZ_strZBang(v131, r121, &v132);
							bool v133 = true;
							branch_Bool_128 = v133;
							branch_List_127 = v129;
							branch_z_x1_126 = r122;
							branch_ZPlusStr_125 = v132;
						} break;
						case 0LL: { // Nil
							PTUP v134 = PTRMK(0LL /* Nil */,0,0);
							bool v135 = false;
							branch_Bool_128 = v135;
							branch_List_127 = v134;
							branch_z_x1_126 = r122;
							branch_ZPlusStr_125 = r121;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v120 = branch_Bool_128;
					v119 = branch_Bool_128;
					v118 = branch_List_127;
					r117 = branch_z_x1_126;
					r116 = branch_ZPlusStr_125;
				}
				decref(MKTUP(v118));
				branch_ZPlusArgumentParser_111 = VTUP(r117);
				branch_ZPlusStr_110 = r116;
				branch_Int_109 = branch_Int_76;
				branch_Str_108 = value_str(v104);
			} else {
				decref(MKINT(value_int(MKINT(v106))));
				decref(MKINT(value_int(MKINT(branch_Int_76))));
				branch_ZPlusArgumentParser_111 = branch_ZPlusArgumentParser_10;
				branch_ZPlusStr_110 = branch_ZPlusStr_77;
				branch_Int_109 = branch_Int_76;
				branch_Str_108 = value_str(v104);
			}
			STR* v136;
			STRLIT(v136, "    ", 4);
			STR* v137;
			mw_std_str_ZPlusStr_pushZ_strZBang(v136, branch_ZPlusStr_110, &v137);
			STR* v138;
			mw_std_str_ZPlusStr_pushZ_strZBang(branch_Str_108, v137, &v138);
			branch_ZPlusStr_103 = v138;
			branch_ZPlusArgumentParser_102 = branch_ZPlusArgumentParser_111;
			branch_Int_101 = branch_Int_109;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_103 = branch_ZPlusStr_77;
			branch_ZPlusArgumentParser_102 = branch_ZPlusArgumentParser_10;
			branch_Int_101 = branch_Int_76;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v139;
	STRLIT(v139, "\n", 1);
	STR* v140;
	mw_std_str_ZPlusStr_pushZ_strZBang(v139, branch_ZPlusStr_103, &v140);
	decref(MKTUP(branch_ArgpOption_78));
	decref(MKINT(branch_Int_101));
	*out_ZPlusStr_5 = v140;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_102;
}
static PTUP mw_argZ_parser_parse_checkZ_shortZ_flag (PTUP in_ZPlusArgumentParser_1, PTUP in_ArgpOption_2, STR* in_Str_3, PTUP *out_ZPlusArgumentParser_4, bool *out_Bool_6) {
	incref(MKTUP(in_ArgpOption_2));
	PTUP v7 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(in_ArgpOption_2))))->cells[1]);
	incref(MKTUP(v7));
	decref(MKTUP(VTUP(MKTUP(in_ArgpOption_2))));
	PTUP branch_ZPlusArgumentParser_8;
	PTUP branch_ArgpOption_9;
	bool branch_Bool_10;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Short
			int64_t v11 = mtp_argZ_parser_types_ArgpOptionType_Short(v7);
			INT v12 = WRAP_I63(0LL);
			int64_t v13 = mw_std_prim_Str_byteZAt(value_int(MKINT(v12)), value_str(MKSTR(in_Str_3)));
			int64_t v14 = VI64(MKI64(v11));
			INT v15 = i64_to_int(v14);
			uint64_t v16 = int_to_u64(v15);
			uint8_t v17 = (uint8_t)(v16);
			int64_t v18 = v13;
			INT v19 = i64_to_int(v18);
			uint64_t v20 = int_to_u64(v19);
			uint8_t v21 = (uint8_t)(v20);
			uint64_t v22 = (uint64_t)(v21);
			uint32_t v23 = (uint32_t)(v22);
			uint64_t v24 = (uint64_t)(value_u8(MKU8(v17)));
			uint32_t v25 = (uint32_t)(v24);
			uint64_t v26 = (uint64_t)(v25);
			uint64_t v27 = (uint64_t)(v23);
			bool v28 = (value_u64(MKU64(v26)) == v27);
			branch_Bool_10 = v28;
			branch_ArgpOption_9 = VTUP(MKTUP(in_ArgpOption_2));
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			decref(MKTUP(v7));
			decref(MKSTR(value_str(MKSTR(in_Str_3))));
			bool v29 = false;
			branch_Bool_10 = v29;
			branch_ArgpOption_9 = VTUP(MKTUP(in_ArgpOption_2));
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
	}
	*out_Bool_6 = branch_Bool_10;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_8;
	return branch_ArgpOption_9;
}
static PTUP mw_argZ_parser_parse_checkZ_longZ_flag (PTUP in_ZPlusArgumentParser_1, PTUP in_ArgpOption_2, STR* in_Str_3, PTUP *out_ZPlusArgumentParser_4, bool *out_Bool_6) {
	incref(MKTUP(in_ArgpOption_2));
	PTUP v7 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(in_ArgpOption_2))))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(VTUP(MKTUP(in_ArgpOption_2))));
	PTUP branch_ZPlusArgumentParser_8;
	PTUP branch_ArgpOption_9;
	bool branch_Bool_10;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			bool v12 = (str_cmp(value_str(MKSTR(in_Str_3)), value_str(v11)) == 0);
			branch_Bool_10 = v12;
			branch_ArgpOption_9 = VTUP(MKTUP(in_ArgpOption_2));
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		case 0LL: { // None
			decref(MKSTR(value_str(MKSTR(in_Str_3))));
			bool v13 = false;
			branch_Bool_10 = v13;
			branch_ArgpOption_9 = VTUP(MKTUP(in_ArgpOption_2));
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Bool_6 = branch_Bool_10;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_8;
	return branch_ArgpOption_9;
}
static PTUP mw_argZ_parser_parse_parseZ_flags (PTUP in_ZPlusArgumentParser_1, STR* in_Str_2, PTUP *out_ZPlusArgumentParser_3) {
	incref(MKSTR(in_Str_2));
	uint64_t v5 = str_size(in_Str_2);
	INT v6 = u64_to_int(v5);
	INT v7 = WRAP_I63(2LL);
	bool v8 = int_le(value_int(MKINT(v7)), v6);
	STR* branch_Str_9;
	bool branch_Bool_10;
	if (v8) {
		INT v11 = WRAP_I63(1LL);
		incref(MKSTR(in_Str_2));
		int64_t v12 = mw_std_prim_Str_byteZAt(value_int(MKINT(v11)), value_str(MKSTR(in_Str_2)));
		int64_t v13 = 45LL /* B'-' */;
		int64_t v14 = v12;
		INT v15 = i64_to_int(v14);
		uint64_t v16 = int_to_u64(v15);
		uint8_t v17 = (uint8_t)(v16);
		int64_t v18 = v13;
		INT v19 = i64_to_int(v18);
		uint64_t v20 = int_to_u64(v19);
		uint8_t v21 = (uint8_t)(v20);
		uint64_t v22 = (uint64_t)(v21);
		uint32_t v23 = (uint32_t)(v22);
		uint64_t v24 = (uint64_t)(value_u8(MKU8(v17)));
		uint32_t v25 = (uint32_t)(v24);
		uint64_t v26 = (uint64_t)(v25);
		uint64_t v27 = (uint64_t)(v23);
		bool v28 = (value_u64(MKU64(v26)) == v27);
		branch_Bool_10 = v28;
		branch_Str_9 = value_str(MKSTR(in_Str_2));
	} else {
		bool v29 = false;
		branch_Bool_10 = v29;
		branch_Str_9 = in_Str_2;
	}
	STR* branch_Str_30;
	PTUP branch_ZPlusArgumentParser_31;
	PTUP branch_Maybe_32;
	if (branch_Bool_10) {
		INT v33 = WRAP_I63(2LL);
		incref(MKSTR(branch_Str_9));
		STR* v34 = mw_std_prelude_unsafe_1_sp22(value_int(MKINT(v33)), value_str(MKSTR(branch_Str_9)));
		PTUP v35 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[0]);
		incref(MKTUP(v35));
		PTUP v36 = VTUP(((TUP*)PTRPTR(v35))->cells[0]);
		incref(MKTUP(v36));
		decref(MKTUP(v35));
		PTUP v37 = PTRMK(0LL /* None */,0,0);
		bool v38 = true;
		PTUP r39 = in_ZPlusArgumentParser_1;
		STR* v40 = v34;
		PTUP v41 = v37;
		PTUP v42 = v36;
		bool v43 = v38;
		bool v44 = v38;
		while (v44) {
			PTUP r45 = r39;
			STR* v46 = v40;
			PTUP v47 = v41;
			PTUP v48 = v42;
			bool v49 = v43;
			PTUP v50;
			PTUP v51 = mw_std_list_List_1_uncons(v48, &v50);
			STR* branch_Str_52;
			PTUP branch_ZPlusArgumentParser_53;
			PTUP branch_Maybe_54;
			PTUP branch_List_55;
			bool branch_Bool_56;
			switch (PTREXTRA(v51)) {
				case 1LL: { // Some
					VAL v57 = mtp_std_maybe_Maybe_1_Some(v51);
					incref(MKTUP(VTUP(v57)));
					incref(MKSTR(v46));
					PTUP v58;
					bool v59;
					PTUP v60 = mw_argZ_parser_parse_checkZ_longZ_flag(r45, VTUP(MKTUP(VTUP(v57))), value_str(MKSTR(v46)), &v58, &v59);
					decref(MKTUP(v60));
					STR* branch_Str_61;
					PTUP branch_ZPlusArgumentParser_62;
					PTUP branch_Maybe_63;
					if (value_bool(MKBOOL(v59))) {
						PTUP v64 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v57)));
						branch_Maybe_63 = v64;
						branch_ZPlusArgumentParser_62 = v58;
						branch_Str_61 = value_str(MKSTR(v46));
					} else {
						decref(MKTUP(VTUP(v57)));
						PTUP v65 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_63 = v65;
						branch_ZPlusArgumentParser_62 = v58;
						branch_Str_61 = value_str(MKSTR(v46));
					}
					STR* branch_Str_66;
					PTUP branch_ZPlusArgumentParser_67;
					PTUP branch_Maybe_68;
					PTUP branch_List_69;
					switch (PTREXTRA(branch_Maybe_63)) {
						case 0LL: { // None
							branch_List_69 = VTUP(MKTUP(v50));
							branch_Maybe_68 = VTUP(MKTUP(v47));
							branch_ZPlusArgumentParser_67 = branch_ZPlusArgumentParser_62;
							branch_Str_66 = branch_Str_61;
						} break;
						default: {
							decref(MKTUP(VTUP(MKTUP(v50))));
							decref(MKTUP(VTUP(MKTUP(v47))));
							PTUP v70 = PTRMK(0LL /* Nil */,0,0);
							branch_List_69 = v70;
							branch_Maybe_68 = branch_Maybe_63;
							branch_ZPlusArgumentParser_67 = branch_ZPlusArgumentParser_62;
							branch_Str_66 = branch_Str_61;
						} break;
					}
					bool v71 = true;
					branch_Bool_56 = v71;
					branch_List_55 = branch_List_69;
					branch_Maybe_54 = branch_Maybe_68;
					branch_ZPlusArgumentParser_53 = branch_ZPlusArgumentParser_67;
					branch_Str_52 = branch_Str_66;
				} break;
				case 0LL: { // None
					bool v72 = false;
					branch_Bool_56 = v72;
					branch_List_55 = v50;
					branch_Maybe_54 = v47;
					branch_ZPlusArgumentParser_53 = r45;
					branch_Str_52 = v46;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v44 = branch_Bool_56;
			v43 = branch_Bool_56;
			v42 = branch_List_55;
			v41 = branch_Maybe_54;
			v40 = branch_Str_52;
			r39 = branch_ZPlusArgumentParser_53;
		}
		decref(MKTUP(v42));
		decref(MKSTR(v40));
		PTUP branch_ZPlusArgumentParser_73;
		PTUP branch_Maybe_74;
		switch (PTREXTRA(v41)) {
			case 1LL: { // Some
				VAL v75 = mtp_std_maybe_Maybe_1_Some(v41);
				incref(MKTUP(VTUP(v75)));
				PTUP v76 = VTUP(((TUP*)PTRPTR(VTUP(v75)))->cells[2]);
				incref(MKTUP(v76));
				decref(MKTUP(VTUP(v75)));
				PTUP branch_ZPlusArgumentParser_77;
				switch (PTREXTRA(v76)) {
					case 1LL: { // Some
						VAL v78 = mtp_std_maybe_Maybe_1_Some(v76);
						bool v79 = true;
						PTUP v80 = VTUP(((TUP*)PTRPTR(r39))->cells[1]);
						incref(MKTUP(v80));
						PTUP v81 = mw_argZ_parser_state_State_1_parsingZAskZBang(v79, v80);
						PTUP v82 = VTUP(((TUP*)PTRPTR(r39))->cells[1]);
						decref(MKTUP(v82));
						((TUP*)PTRPTR(r39))->cells[1] = MKTUP(v81);
						decref(MKSTR(value_str(v78)));
						PTUP v83 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v75)));
						PTUP v84 = VTUP(((TUP*)PTRPTR(r39))->cells[1]);
						incref(MKTUP(v84));
						PTUP v85 = mw_argZ_parser_state_State_1_optionZ_optionZBang(v83, v84);
						PTUP v86 = VTUP(((TUP*)PTRPTR(r39))->cells[1]);
						decref(MKTUP(v86));
						((TUP*)PTRPTR(r39))->cells[1] = MKTUP(v85);
						branch_ZPlusArgumentParser_77 = r39;
					} break;
					case 0LL: { // None
						PTUP v87 = VTUP(((TUP*)PTRPTR(VTUP(v75)))->cells[1]);
						incref(MKTUP(v87));
						decref(MKTUP(VTUP(v75)));
						PTUP v88 = VTUP(((TUP*)PTRPTR(r39))->cells[1]);
						incref(MKTUP(v88));
						VAL v89 = ((TUP*)PTRPTR(v88))->cells[0];
						incref(v89);
						decref(MKTUP(v88));
						PTUP v90 = PTRMK(0LL /* None */,0,0);
						PTUP v91;
						VAL v92 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(r39, &v91);
						push_value(v89);
						push_value(MKTUP(v90));
						push_value(MKTUP(v87));
						push_resource(MKTUP(v91));
						run_value(v92);
						PTUP r93 = VTUP(pop_resource());
						PTUP v94 = VTUP(((TUP*)PTRPTR(r93))->cells[1]);
						incref(MKTUP(v94));
						VAL v95 = pop_value();
						VAL v96 = tup_replace(MKTUP(v94), 0, v95);
						PTUP v97 = VTUP(((TUP*)PTRPTR(r93))->cells[1]);
						decref(MKTUP(v97));
						((TUP*)PTRPTR(r93))->cells[1] = MKTUP(VTUP(v96));
						branch_ZPlusArgumentParser_77 = r93;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v98 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_74 = v98;
				branch_ZPlusArgumentParser_73 = branch_ZPlusArgumentParser_77;
			} break;
			case 0LL: { // None
				PTUP v99 = PTRMK(4LL /* UnknownArg */,0,0);
				PTUP v100 = mtw_std_maybe_Maybe_1_Some(MKTUP(v99));
				branch_Maybe_74 = v100;
				branch_ZPlusArgumentParser_73 = r39;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Maybe_32 = branch_Maybe_74;
		branch_ZPlusArgumentParser_31 = branch_ZPlusArgumentParser_73;
		branch_Str_30 = value_str(MKSTR(branch_Str_9));
	} else {
		INT v101 = WRAP_I63(1LL);
		incref(MKSTR(branch_Str_9));
		STR* v102 = mw_std_prelude_unsafe_1_sp22(value_int(MKINT(v101)), value_str(MKSTR(branch_Str_9)));
		PTUP v103 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[0]);
		incref(MKTUP(v103));
		PTUP v104 = VTUP(((TUP*)PTRPTR(v103))->cells[0]);
		incref(MKTUP(v104));
		decref(MKTUP(v103));
		PTUP v105 = PTRMK(0LL /* None */,0,0);
		bool v106 = true;
		PTUP r107 = in_ZPlusArgumentParser_1;
		STR* v108 = v102;
		PTUP v109 = v105;
		PTUP v110 = v104;
		bool v111 = v106;
		bool v112 = v106;
		while (v112) {
			PTUP r113 = r107;
			STR* v114 = v108;
			PTUP v115 = v109;
			PTUP v116 = v110;
			bool v117 = v111;
			PTUP v118;
			PTUP v119 = mw_std_list_List_1_uncons(v116, &v118);
			STR* branch_Str_120;
			PTUP branch_ZPlusArgumentParser_121;
			PTUP branch_Maybe_122;
			PTUP branch_List_123;
			bool branch_Bool_124;
			switch (PTREXTRA(v119)) {
				case 1LL: { // Some
					VAL v125 = mtp_std_maybe_Maybe_1_Some(v119);
					incref(MKTUP(VTUP(v125)));
					incref(MKSTR(v114));
					PTUP v126;
					bool v127;
					PTUP v128 = mw_argZ_parser_parse_checkZ_shortZ_flag(r113, VTUP(MKTUP(VTUP(v125))), value_str(MKSTR(v114)), &v126, &v127);
					decref(MKTUP(v128));
					STR* branch_Str_129;
					PTUP branch_ZPlusArgumentParser_130;
					PTUP branch_Maybe_131;
					if (value_bool(MKBOOL(v127))) {
						PTUP v132 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v125)));
						branch_Maybe_131 = v132;
						branch_ZPlusArgumentParser_130 = v126;
						branch_Str_129 = value_str(MKSTR(v114));
					} else {
						decref(MKTUP(VTUP(v125)));
						PTUP v133 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_131 = v133;
						branch_ZPlusArgumentParser_130 = v126;
						branch_Str_129 = value_str(MKSTR(v114));
					}
					STR* branch_Str_134;
					PTUP branch_ZPlusArgumentParser_135;
					PTUP branch_Maybe_136;
					PTUP branch_List_137;
					switch (PTREXTRA(branch_Maybe_131)) {
						case 0LL: { // None
							branch_List_137 = VTUP(MKTUP(v118));
							branch_Maybe_136 = VTUP(MKTUP(v115));
							branch_ZPlusArgumentParser_135 = branch_ZPlusArgumentParser_130;
							branch_Str_134 = branch_Str_129;
						} break;
						default: {
							decref(MKTUP(VTUP(MKTUP(v118))));
							decref(MKTUP(VTUP(MKTUP(v115))));
							PTUP v138 = PTRMK(0LL /* Nil */,0,0);
							branch_List_137 = v138;
							branch_Maybe_136 = branch_Maybe_131;
							branch_ZPlusArgumentParser_135 = branch_ZPlusArgumentParser_130;
							branch_Str_134 = branch_Str_129;
						} break;
					}
					bool v139 = true;
					branch_Bool_124 = v139;
					branch_List_123 = branch_List_137;
					branch_Maybe_122 = branch_Maybe_136;
					branch_ZPlusArgumentParser_121 = branch_ZPlusArgumentParser_135;
					branch_Str_120 = branch_Str_134;
				} break;
				case 0LL: { // None
					bool v140 = false;
					branch_Bool_124 = v140;
					branch_List_123 = v118;
					branch_Maybe_122 = v115;
					branch_ZPlusArgumentParser_121 = r113;
					branch_Str_120 = v114;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v112 = branch_Bool_124;
			v111 = branch_Bool_124;
			v110 = branch_List_123;
			v109 = branch_Maybe_122;
			v108 = branch_Str_120;
			r107 = branch_ZPlusArgumentParser_121;
		}
		decref(MKTUP(v110));
		decref(MKSTR(v108));
		PTUP branch_ZPlusArgumentParser_141;
		PTUP branch_Maybe_142;
		switch (PTREXTRA(v109)) {
			case 1LL: { // Some
				VAL v143 = mtp_std_maybe_Maybe_1_Some(v109);
				incref(MKTUP(VTUP(v143)));
				PTUP v144 = VTUP(((TUP*)PTRPTR(VTUP(v143)))->cells[2]);
				incref(MKTUP(v144));
				decref(MKTUP(VTUP(v143)));
				PTUP branch_ZPlusArgumentParser_145;
				switch (PTREXTRA(v144)) {
					case 1LL: { // Some
						VAL v146 = mtp_std_maybe_Maybe_1_Some(v144);
						bool v147 = true;
						PTUP v148 = VTUP(((TUP*)PTRPTR(r107))->cells[1]);
						incref(MKTUP(v148));
						PTUP v149 = mw_argZ_parser_state_State_1_parsingZAskZBang(v147, v148);
						PTUP v150 = VTUP(((TUP*)PTRPTR(r107))->cells[1]);
						decref(MKTUP(v150));
						((TUP*)PTRPTR(r107))->cells[1] = MKTUP(v149);
						decref(MKSTR(value_str(v146)));
						PTUP v151 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v143)));
						PTUP v152 = VTUP(((TUP*)PTRPTR(r107))->cells[1]);
						incref(MKTUP(v152));
						PTUP v153 = mw_argZ_parser_state_State_1_optionZ_optionZBang(v151, v152);
						PTUP v154 = VTUP(((TUP*)PTRPTR(r107))->cells[1]);
						decref(MKTUP(v154));
						((TUP*)PTRPTR(r107))->cells[1] = MKTUP(v153);
						branch_ZPlusArgumentParser_145 = r107;
					} break;
					case 0LL: { // None
						PTUP v155 = VTUP(((TUP*)PTRPTR(VTUP(v143)))->cells[1]);
						incref(MKTUP(v155));
						decref(MKTUP(VTUP(v143)));
						PTUP v156 = VTUP(((TUP*)PTRPTR(r107))->cells[1]);
						incref(MKTUP(v156));
						VAL v157 = ((TUP*)PTRPTR(v156))->cells[0];
						incref(v157);
						decref(MKTUP(v156));
						PTUP v158 = PTRMK(0LL /* None */,0,0);
						PTUP v159;
						VAL v160 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(r107, &v159);
						push_value(v157);
						push_value(MKTUP(v158));
						push_value(MKTUP(v155));
						push_resource(MKTUP(v159));
						run_value(v160);
						PTUP r161 = VTUP(pop_resource());
						PTUP v162 = VTUP(((TUP*)PTRPTR(r161))->cells[1]);
						incref(MKTUP(v162));
						VAL v163 = pop_value();
						VAL v164 = tup_replace(MKTUP(v162), 0, v163);
						PTUP v165 = VTUP(((TUP*)PTRPTR(r161))->cells[1]);
						decref(MKTUP(v165));
						((TUP*)PTRPTR(r161))->cells[1] = MKTUP(VTUP(v164));
						branch_ZPlusArgumentParser_145 = r161;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v166 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_142 = v166;
				branch_ZPlusArgumentParser_141 = branch_ZPlusArgumentParser_145;
			} break;
			case 0LL: { // None
				PTUP v167 = PTRMK(4LL /* UnknownArg */,0,0);
				PTUP v168 = mtw_std_maybe_Maybe_1_Some(MKTUP(v167));
				branch_Maybe_142 = v168;
				branch_ZPlusArgumentParser_141 = r107;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Maybe_32 = branch_Maybe_142;
		branch_ZPlusArgumentParser_31 = branch_ZPlusArgumentParser_141;
		branch_Str_30 = value_str(MKSTR(branch_Str_9));
	}
	decref(MKSTR(branch_Str_30));
	*out_ZPlusArgumentParser_3 = branch_ZPlusArgumentParser_31;
	return branch_Maybe_32;
}
static PTUP mw_argZ_parser_parse_doZ_positionalZ_option (PTUP in_ZPlusArgumentParser_1, STR* in_Str_2, PTUP *out_ZPlusArgumentParser_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
	incref(MKTUP(v5));
	VAL v6 = ((TUP*)PTRPTR(v5))->cells[0];
	incref(v6);
	decref(MKTUP(v5));
	PTUP v7 = mtw_std_maybe_Maybe_1_Some(MKSTR(in_Str_2));
	PTUP v8 = PTRMK(2LL /* Positional */,0,0);
	PTUP v9;
	VAL v10 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(in_ZPlusArgumentParser_1, &v9);
	push_value(v6);
	push_value(MKTUP(v7));
	push_value(MKTUP(v8));
	push_resource(MKTUP(v9));
	run_value(v10);
	PTUP r11 = VTUP(pop_resource());
	PTUP v12 = VTUP(((TUP*)PTRPTR(r11))->cells[1]);
	incref(MKTUP(v12));
	VAL v13 = pop_value();
	VAL v14 = tup_replace(MKTUP(v12), 0, v13);
	PTUP v15 = VTUP(((TUP*)PTRPTR(r11))->cells[1]);
	decref(MKTUP(v15));
	((TUP*)PTRPTR(r11))->cells[1] = MKTUP(VTUP(v14));
	PTUP v16 = PTRMK(0LL /* None */,0,0);
	PTUP v17 = VTUP(((TUP*)PTRPTR(r11))->cells[1]);
	incref(MKTUP(v17));
	INT v18 = value_int(((TUP*)PTRPTR(v17))->cells[3]);
	incref(MKINT(v18));
	decref(MKTUP(v17));
	INT v19 = WRAP_I63(1LL);
	INT v20 = v19;
	INT v21 = int_add(v18, v20);
	PTUP v22 = VTUP(((TUP*)PTRPTR(r11))->cells[1]);
	incref(MKTUP(v22));
	VAL v23 = tup_replace(MKTUP(v22), 3, MKINT(v21));
	PTUP v24 = VTUP(((TUP*)PTRPTR(r11))->cells[1]);
	decref(MKTUP(v24));
	((TUP*)PTRPTR(r11))->cells[1] = MKTUP(VTUP(v23));
	*out_ZPlusArgumentParser_3 = r11;
	return v16;
}
static PTUP mw_argZ_parser_parse_parseZ_args (VAL in_a_1, PTUP in_ArgumentParser_2) {
	PTUP v4 = mw_argZ_parser_state_State_1_init(in_a_1);
	PTUP v5;
	mtw_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser(in_ArgumentParser_2, v4, &v5);
	PTUP v6 = VTUP(((TUP*)PTRPTR(v5))->cells[0]);
	incref(MKTUP(v6));
	PTUP v7 = VTUP(((TUP*)PTRPTR(v6))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(v6));
	bool v8 = true;
	PTUP r9 = v5;
	PTUP v10 = v7;
	bool v11 = v8;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP v14 = v10;
		bool v15 = v11;
		PTUP branch_ZPlusArgumentParser_16;
		PTUP branch_List_17;
		bool branch_Bool_18;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v19;
				VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
				INT v21 = WRAP_I63(0LL);
				incref(MKTUP(VTUP(v20)));
				PTUP v22 = VTUP(((TUP*)PTRPTR(VTUP(v20)))->cells[1]);
				incref(MKTUP(v22));
				decref(MKTUP(VTUP(v20)));
				PTUP branch_ZPlusArgumentParser_23;
				PTUP branch_ArgpOption_24;
				INT branch_Int_25;
				switch (PTREXTRA(v22)) {
					case 0LL: { // Short
						int64_t v26 = mtp_argZ_parser_types_ArgpOptionType_Short(v22);
						INT v27 = WRAP_I63(2LL);
						INT v28 = int_add(v21, v27);
						branch_Int_25 = v28;
						branch_ArgpOption_24 = VTUP(v20);
						branch_ZPlusArgumentParser_23 = r13;
					} break;
					default: {
						decref(MKTUP(v22));
						branch_Int_25 = v21;
						branch_ArgpOption_24 = VTUP(v20);
						branch_ZPlusArgumentParser_23 = r13;
					} break;
				}
				incref(MKTUP(branch_ArgpOption_24));
				PTUP v29 = VTUP(((TUP*)PTRPTR(branch_ArgpOption_24))->cells[0]);
				incref(MKTUP(v29));
				decref(MKTUP(branch_ArgpOption_24));
				INT branch_Int_30;
				switch (PTREXTRA(v29)) {
					case 1LL: { // Some
						VAL v31 = mtp_std_maybe_Maybe_1_Some(v29);
						uint64_t v32 = str_size(value_str(v31));
						INT v33 = u64_to_int(v32);
						INT v34 = WRAP_I63(3LL);
						INT v35 = int_add(branch_Int_25, v34);
						INT v36 = int_add(v33, v35);
						branch_Int_30 = v36;
					} break;
					case 0LL: { // None
						branch_Int_30 = branch_Int_25;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v37 = VTUP(((TUP*)PTRPTR(branch_ArgpOption_24))->cells[2]);
				incref(MKTUP(v37));
				decref(MKTUP(branch_ArgpOption_24));
				INT branch_Int_38;
				switch (PTREXTRA(v37)) {
					case 1LL: { // Some
						VAL v39 = mtp_std_maybe_Maybe_1_Some(v37);
						uint64_t v40 = str_size(value_str(v39));
						INT v41 = u64_to_int(v40);
						INT v42 = WRAP_I63(1LL);
						INT v43 = int_add(branch_Int_30, v42);
						INT v44 = int_add(v41, v43);
						branch_Int_38 = v44;
					} break;
					case 0LL: { // None
						branch_Int_38 = branch_Int_30;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				incref(MKINT(branch_Int_38));
				PTUP v45 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_23))->cells[1]);
				incref(MKTUP(v45));
				INT v46 = value_int(((TUP*)PTRPTR(v45))->cells[4]);
				incref(MKINT(v46));
				decref(MKTUP(v45));
				bool v47 = int_lt(v46, branch_Int_38);
				PTUP branch_ZPlusArgumentParser_48;
				if (v47) {
					PTUP v49 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_23))->cells[1]);
					incref(MKTUP(v49));
					VAL v50 = tup_replace(MKTUP(v49), 4, MKINT(branch_Int_38));
					PTUP v51 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_23))->cells[1]);
					decref(MKTUP(v51));
					((TUP*)PTRPTR(branch_ZPlusArgumentParser_23))->cells[1] = MKTUP(VTUP(v50));
					branch_ZPlusArgumentParser_48 = branch_ZPlusArgumentParser_23;
				} else {
					decref(MKINT(branch_Int_38));
					branch_ZPlusArgumentParser_48 = branch_ZPlusArgumentParser_23;
				}
				bool v52 = true;
				branch_Bool_18 = v52;
				branch_List_17 = v19;
				branch_ZPlusArgumentParser_16 = branch_ZPlusArgumentParser_48;
			} break;
			case 0LL: { // Nil
				PTUP v53 = PTRMK(0LL /* Nil */,0,0);
				bool v54 = false;
				branch_Bool_18 = v54;
				branch_List_17 = v53;
				branch_ZPlusArgumentParser_16 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_18;
		v11 = branch_Bool_18;
		v10 = branch_List_17;
		r9 = branch_ZPlusArgumentParser_16;
	}
	decref(MKTUP(v10));
	PTUP v55 = VTUP(((TUP*)PTRPTR(r9))->cells[1]);
	incref(MKTUP(v55));
	PTUP v56 = mw_argZ_parser_state_State_1_argv(v55);
	bool v57 = true;
	PTUP r58 = r9;
	PTUP v59 = v56;
	bool v60 = v57;
	bool v61 = v57;
	while (v61) {
		PTUP r62 = r58;
		PTUP v63 = v59;
		bool v64 = v60;
		PTUP branch_ZPlusArgumentParser_65;
		PTUP branch_List_66;
		bool branch_Bool_67;
		switch (PTREXTRA(v63)) {
			case 1LL: { // Cons
				PTUP v68;
				VAL v69 = mtp_std_list_List_1_Cons(v63, &v68);
				incref(MKSTR(value_str(v69)));
				uint64_t v70 = str_size(value_str(v69));
				INT v71 = u64_to_int(v70);
				INT v72 = WRAP_I63(1LL);
				bool v73 = int_lt(value_int(MKINT(v72)), v71);
				PTUP branch_ZPlusArgumentParser_74;
				PTUP branch_Maybe_75;
				if (v73) {
					INT v76 = WRAP_I63(0LL);
					incref(MKSTR(value_str(v69)));
					int64_t v77 = mw_std_prim_Str_byteZAt(value_int(MKINT(v76)), value_str(MKSTR(value_str(v69))));
					int64_t v78 = 45LL /* B'-' */;
					int64_t v79 = v77;
					INT v80 = i64_to_int(v79);
					uint64_t v81 = int_to_u64(v80);
					uint8_t v82 = (uint8_t)(v81);
					int64_t v83 = v78;
					INT v84 = i64_to_int(v83);
					uint64_t v85 = int_to_u64(v84);
					uint8_t v86 = (uint8_t)(v85);
					uint64_t v87 = (uint64_t)(v86);
					uint32_t v88 = (uint32_t)(v87);
					uint64_t v89 = (uint64_t)(value_u8(MKU8(v82)));
					uint32_t v90 = (uint32_t)(v89);
					uint64_t v91 = (uint64_t)(v90);
					uint64_t v92 = (uint64_t)(v88);
					bool v93 = (value_u64(MKU64(v91)) == v92);
					PTUP branch_ZPlusArgumentParser_94;
					PTUP branch_Maybe_95;
					if (v93) {
						PTUP v96 = VTUP(((TUP*)PTRPTR(r62))->cells[1]);
						incref(MKTUP(v96));
						bool v97 = mw_argZ_parser_state_State_1_parsingZAsk(v96);
						PTUP branch_ZPlusArgumentParser_98;
						PTUP branch_Maybe_99;
						if (v97) {
							decref(MKSTR(value_str(MKSTR(value_str(v69)))));
							PTUP v100 = VTUP(((TUP*)PTRPTR(r62))->cells[1]);
							incref(MKTUP(v100));
							PTUP v101 = mw_argZ_parser_state_State_1_optionZ_option(v100);
							PTUP branch_ZPlusArgumentParser_102;
							PTUP branch_Maybe_103;
							switch (PTREXTRA(v101)) {
								case 1LL: { // Some
									VAL v104 = mtp_std_maybe_Maybe_1_Some(v101);
									PTUP v105 = VTUP(((TUP*)PTRPTR(VTUP(v104)))->cells[2]);
									incref(MKTUP(v105));
									decref(MKTUP(VTUP(v104)));
									PTUP branch_ZPlusArgumentParser_106;
									PTUP branch_Maybe_107;
									switch (PTREXTRA(v105)) {
										case 1LL: { // Some
											VAL v108 = mtp_std_maybe_Maybe_1_Some(v105);
											decref(MKSTR(value_str(v108)));
											PTUP v109 = PTRMK(0LL /* MissingArgValue */,0,0);
											PTUP v110 = mtw_std_maybe_Maybe_1_Some(MKTUP(v109));
											branch_Maybe_107 = v110;
											branch_ZPlusArgumentParser_106 = r62;
										} break;
										case 0LL: { // None
											bool v111 = false;
											PTUP v112 = VTUP(((TUP*)PTRPTR(r62))->cells[1]);
											incref(MKTUP(v112));
											PTUP v113 = mw_argZ_parser_state_State_1_parsingZAskZBang(v111, v112);
											PTUP v114 = VTUP(((TUP*)PTRPTR(r62))->cells[1]);
											decref(MKTUP(v114));
											((TUP*)PTRPTR(r62))->cells[1] = MKTUP(v113);
											PTUP v115 = PTRMK(0LL /* None */,0,0);
											branch_Maybe_107 = v115;
											branch_ZPlusArgumentParser_106 = r62;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_Maybe_103 = branch_Maybe_107;
									branch_ZPlusArgumentParser_102 = branch_ZPlusArgumentParser_106;
								} break;
								case 0LL: { // None
									PTUP v116 = PTRMK(0LL /* MissingArgValue */,0,0);
									PTUP v117 = mtw_std_maybe_Maybe_1_Some(MKTUP(v116));
									branch_Maybe_103 = v117;
									branch_ZPlusArgumentParser_102 = r62;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							branch_Maybe_99 = branch_Maybe_103;
							branch_ZPlusArgumentParser_98 = branch_ZPlusArgumentParser_102;
						} else {
							PTUP v118;
							PTUP v119 = mw_argZ_parser_parse_parseZ_flags(r62, value_str(MKSTR(value_str(v69))), &v118);
							branch_Maybe_99 = v119;
							branch_ZPlusArgumentParser_98 = v118;
						}
						branch_Maybe_95 = branch_Maybe_99;
						branch_ZPlusArgumentParser_94 = branch_ZPlusArgumentParser_98;
					} else {
						PTUP v120 = VTUP(((TUP*)PTRPTR(r62))->cells[1]);
						incref(MKTUP(v120));
						bool v121 = mw_argZ_parser_state_State_1_parsingZAsk(v120);
						PTUP branch_Maybe_122;
						PTUP branch_ZPlusArgumentParser_123;
						if (v121) {
							PTUP v124 = VTUP(((TUP*)PTRPTR(r62))->cells[1]);
							incref(MKTUP(v124));
							PTUP v125 = mw_argZ_parser_state_State_1_optionZ_option(v124);
							PTUP branch_ZPlusArgumentParser_126;
							PTUP branch_Maybe_127;
							switch (PTREXTRA(v125)) {
								case 1LL: { // Some
									VAL v128 = mtp_std_maybe_Maybe_1_Some(v125);
									incref(MKTUP(VTUP(v128)));
									PTUP v129 = VTUP(((TUP*)PTRPTR(VTUP(v128)))->cells[2]);
									incref(MKTUP(v129));
									decref(MKTUP(VTUP(v128)));
									PTUP branch_ZPlusArgumentParser_130;
									PTUP branch_Maybe_131;
									switch (PTREXTRA(v129)) {
										case 1LL: { // Some
											VAL v132 = mtp_std_maybe_Maybe_1_Some(v129);
											decref(MKSTR(value_str(v132)));
											PTUP v133 = VTUP(((TUP*)PTRPTR(r62))->cells[1]);
											incref(MKTUP(v133));
											VAL v134 = ((TUP*)PTRPTR(v133))->cells[0];
											incref(v134);
											decref(MKTUP(v133));
											PTUP v135 = mtw_std_maybe_Maybe_1_Some(MKSTR(value_str(MKSTR(value_str(v69)))));
											PTUP v136 = VTUP(((TUP*)PTRPTR(VTUP(v128)))->cells[1]);
											incref(MKTUP(v136));
											decref(MKTUP(VTUP(v128)));
											PTUP v137;
											VAL v138 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(r62, &v137);
											push_value(v134);
											push_value(MKTUP(v135));
											push_value(MKTUP(v136));
											push_resource(MKTUP(v137));
											run_value(v138);
											PTUP r139 = VTUP(pop_resource());
											VAL v140 = pop_value();
											PTUP v141 = VTUP(((TUP*)PTRPTR(r139))->cells[1]);
											incref(MKTUP(v141));
											VAL v142 = tup_replace(MKTUP(v141), 0, v140);
											PTUP v143 = VTUP(((TUP*)PTRPTR(r139))->cells[1]);
											decref(MKTUP(v143));
											((TUP*)PTRPTR(r139))->cells[1] = MKTUP(VTUP(v142));
											PTUP v144 = PTRMK(0LL /* None */,0,0);
											branch_Maybe_131 = v144;
											branch_ZPlusArgumentParser_130 = r139;
										} break;
										case 0LL: { // None
											decref(MKTUP(VTUP(v128)));
											decref(MKSTR(value_str(MKSTR(value_str(v69)))));
											PTUP v145 = PTRMK(4LL /* UnknownArg */,0,0);
											PTUP v146 = mtw_std_maybe_Maybe_1_Some(MKTUP(v145));
											branch_Maybe_131 = v146;
											branch_ZPlusArgumentParser_130 = r62;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_Maybe_127 = branch_Maybe_131;
									branch_ZPlusArgumentParser_126 = branch_ZPlusArgumentParser_130;
								} break;
								case 0LL: { // None
									decref(MKSTR(value_str(MKSTR(value_str(v69)))));
									PTUP v147 = PTRMK(4LL /* UnknownArg */,0,0);
									PTUP v148 = mtw_std_maybe_Maybe_1_Some(MKTUP(v147));
									branch_Maybe_127 = v148;
									branch_ZPlusArgumentParser_126 = r62;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							bool v149 = false;
							PTUP v150 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_126))->cells[1]);
							incref(MKTUP(v150));
							PTUP v151 = mw_argZ_parser_state_State_1_parsingZAskZBang(v149, v150);
							PTUP v152 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_126))->cells[1]);
							decref(MKTUP(v152));
							((TUP*)PTRPTR(branch_ZPlusArgumentParser_126))->cells[1] = MKTUP(v151);
							branch_ZPlusArgumentParser_123 = branch_ZPlusArgumentParser_126;
							branch_Maybe_122 = branch_Maybe_127;
						} else {
							PTUP v153;
							PTUP v154 = mw_argZ_parser_parse_doZ_positionalZ_option(r62, value_str(MKSTR(value_str(v69))), &v153);
							branch_ZPlusArgumentParser_123 = v153;
							branch_Maybe_122 = v154;
						}
						branch_Maybe_95 = branch_Maybe_122;
						branch_ZPlusArgumentParser_94 = branch_ZPlusArgumentParser_123;
					}
					branch_Maybe_75 = branch_Maybe_95;
					branch_ZPlusArgumentParser_74 = branch_ZPlusArgumentParser_94;
				} else {
					decref(MKSTR(value_str(v69)));
					PTUP v155 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_75 = v155;
					branch_ZPlusArgumentParser_74 = r62;
				}
				PTUP branch_ZPlusArgumentParser_156;
				switch (PTREXTRA(branch_Maybe_75)) {
					case 1LL: { // Some
						VAL v157 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_75);
						PTUP v158 = mtw_std_maybe_Maybe_1_Some(v157);
						PTUP v159 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_74))->cells[1]);
						incref(MKTUP(v159));
						VAL v160 = tup_replace(MKTUP(v159), 5, MKTUP(v158));
						PTUP v161 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_74))->cells[1]);
						decref(MKTUP(v161));
						((TUP*)PTRPTR(branch_ZPlusArgumentParser_74))->cells[1] = MKTUP(VTUP(v160));
						branch_ZPlusArgumentParser_156 = branch_ZPlusArgumentParser_74;
					} break;
					case 0LL: { // None
						branch_ZPlusArgumentParser_156 = branch_ZPlusArgumentParser_74;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v162 = true;
				branch_Bool_67 = v162;
				branch_List_66 = v68;
				branch_ZPlusArgumentParser_65 = branch_ZPlusArgumentParser_156;
			} break;
			case 0LL: { // Nil
				PTUP v163 = PTRMK(0LL /* Nil */,0,0);
				bool v164 = false;
				branch_Bool_67 = v164;
				branch_List_66 = v163;
				branch_ZPlusArgumentParser_65 = r62;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v61 = branch_Bool_67;
		v60 = branch_Bool_67;
		v59 = branch_List_66;
		r58 = branch_ZPlusArgumentParser_65;
	}
	decref(MKTUP(v59));
	PTUP v165 = VTUP(((TUP*)PTRPTR(r58))->cells[1]);
	incref(MKTUP(v165));
	bool v166 = mw_argZ_parser_state_State_1_parsingZAsk(v165);
	PTUP branch_ZPlusArgumentParser_167;
	if (v166) {
		PTUP v168 = PTRMK(0LL /* MissingArgValue */,0,0);
		PTUP v169 = mtw_std_maybe_Maybe_1_Some(MKTUP(v168));
		PTUP v170 = VTUP(((TUP*)PTRPTR(r58))->cells[1]);
		incref(MKTUP(v170));
		VAL v171 = tup_replace(MKTUP(v170), 5, MKTUP(v169));
		PTUP v172 = VTUP(((TUP*)PTRPTR(r58))->cells[1]);
		decref(MKTUP(v172));
		((TUP*)PTRPTR(r58))->cells[1] = MKTUP(VTUP(v171));
		branch_ZPlusArgumentParser_167 = r58;
	} else {
		branch_ZPlusArgumentParser_167 = r58;
	}
	PTUP v173 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_167))->cells[1]);
	incref(MKTUP(v173));
	VAL v174 = ((TUP*)PTRPTR(v173))->cells[0];
	incref(v174);
	decref(MKTUP(v173));
	PTUP v175 = PTRMK(0LL /* None */,0,0);
	PTUP v176 = PTRMK(3LL /* End */,0,0);
	PTUP v177;
	VAL v178 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(branch_ZPlusArgumentParser_167, &v177);
	push_value(v174);
	push_value(MKTUP(v175));
	push_value(MKTUP(v176));
	push_resource(MKTUP(v177));
	run_value(v178);
	PTUP r179 = VTUP(pop_resource());
	VAL v180 = pop_value();
	PTUP v181 = VTUP(((TUP*)PTRPTR(r179))->cells[1]);
	incref(MKTUP(v181));
	VAL v182 = tup_replace(MKTUP(v181), 0, v180);
	PTUP v183 = VTUP(((TUP*)PTRPTR(r179))->cells[1]);
	decref(MKTUP(v183));
	((TUP*)PTRPTR(r179))->cells[1] = MKTUP(VTUP(v182));
	PTUP v184 = VTUP(((TUP*)PTRPTR(r179))->cells[1]);
	incref(MKTUP(v184));
	VAL v185 = ((TUP*)PTRPTR(v184))->cells[0];
	incref(v185);
	decref(MKTUP(v184));
	PTUP v186 = VTUP(((TUP*)PTRPTR(r179))->cells[1]);
	incref(MKTUP(v186));
	PTUP v187 = VTUP(((TUP*)PTRPTR(v186))->cells[5]);
	incref(MKTUP(v187));
	decref(MKTUP(v186));
	PTUP branch_ZPlusArgumentParser_188;
	PTUP branch_Result_189;
	switch (PTREXTRA(v187)) {
		case 1LL: { // Some
			VAL v190 = mtp_std_maybe_Maybe_1_Some(v187);
			PTUP v191;
			STR* v192 = mw_argZ_parser_types_ZPlusArgumentParser_1_usage(r179, &v191);
			PTUP r193 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r193))->size = 2;
			((TUP*)PTRPTR(r193))->cells[1] = MKSTR(v192);
			((TUP*)PTRPTR(r193))->cells[0] = v190;
			PTUP v194 = mtw_std_result_Result_2_Err(MKTUP(r193));
			decref(v185);
			branch_Result_189 = VTUP(MKTUP(v194));
			branch_ZPlusArgumentParser_188 = v191;
		} break;
		case 0LL: { // None
			PTUP v195 = mtw_std_result_Result_2_Ok(v185);
			branch_Result_189 = v195;
			branch_ZPlusArgumentParser_188 = r179;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop(branch_ZPlusArgumentParser_188);
	return branch_Result_189;
}
static STR* mw_argZ_parser_parse_readZ_fromZ_argv (INT in_Int_1) {
	incref(MKINT(in_Int_1));
	INT v5 = WRAP_I63(0LL);
	INT v6 = v5;
	bool v7 = int_le(v6, in_Int_1);
	STR* branch_Str_8;
	if (v7) {
		uint64_t v9 = sizeof(void*);
		INT v10 = u64_to_int(v9);
		INT v11 = int_mul(in_Int_1, v10);
		void* v12 = global_argv;
		int64_t v13 = int_to_i64(v11);
		void* v14 = (void*)(v13 + (char*)v12);
		void* v15 = *(void**)v14;
		uint64_t v16 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v15);
		INT v17 = u64_to_int(v16);
		uint64_t v18 = int_to_u64(v17);
		STR* v19 = str_make(v15, v18);
		branch_Str_8 = v19;
	} else {
		decref(MKINT(in_Int_1));
		STR* v20;
		STRLIT(v20, "", 0);
		branch_Str_8 = v20;
	}
	return branch_Str_8;
}
static PTUP mw_argZ_parser_parse_argvZ_toZ_str (void) {
	INT v2 = WRAP_I63(1LL);
	uint64_t v3 = global_argc;
	INT v4 = u64_to_int(v3);
	INT v5 = WRAP_I63(1LL);
	INT v6 = v5;
	INT v7 = int_sub(v4, v6);
	PTUP v8 = mw_std_prim_Int_range(v2, v7);
	PTUP v9 = PTRMK(0LL /* Nil */,0,0);
	PTUP v10;
	mw_std_list_List_1_buildZBang(v9, &v10);
	bool v11 = true;
	PTUP r12 = v10;
	PTUP v13 = v8;
	bool v14 = v11;
	bool v15 = v11;
	while (v15) {
		PTUP r16 = r12;
		PTUP v17 = v13;
		bool v18 = v14;
		PTUP branch_ZPlusLister_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v17)) {
			case 1LL: { // Cons
				PTUP v22;
				VAL v23 = mtp_std_list_List_1_Cons(v17, &v22);
				STR* v24 = mw_std_prelude_unsafe_1_sp23(value_int(v23));
				PTUP v25;
				mw_std_list_ZPlusLister_1_pushZBang(MKSTR(v24), r16, &v25);
				bool v26 = true;
				branch_Bool_21 = v26;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = v25;
			} break;
			case 0LL: { // Nil
				PTUP v27 = PTRMK(0LL /* Nil */,0,0);
				bool v28 = false;
				branch_Bool_21 = v28;
				branch_List_20 = v27;
				branch_ZPlusLister_19 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_21;
		v14 = branch_Bool_21;
		v13 = branch_List_20;
		r12 = branch_ZPlusLister_19;
	}
	decref(MKTUP(v13));
	PTUP v29 = mw_std_list_ZPlusLister_1_doneZBang(r12);
	return v29;
}
static PTUP mw_mirth_options_Options_Default (void) {
	bool v2 = false;
	STR* v3;
	STRLIT(v3, "mirth.mth", 9);
	PTUP v4 = PTRMK(0LL /* None */,0,0);
	STR* v5;
	STRLIT(v5, "main", 4);
	PTUP v6 = mtw_std_maybe_Maybe_1_Some(MKSTR(v5));
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9 = mtw_mirth_options_Options_Options(v3, v4, v6, v7, v8, v2);
	return v9;
}
static PTUP mw_mirth_options_parseZ_packageZ_def (STR* in_Str_1) {
	int64_t v3 = 58LL /* BCOLON */;
	incref(MKSTR(in_Str_1));
	PTUP v4 = mw_std_prim_Str_splitZ_byte(v3, in_Str_1);
	PTUP v5 = mw_std_list_Nest_1_pairZAsk(v4);
	STR* branch_Str_6;
	VAL branch_z_x1_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_z_x1_7 = v8;
			branch_Str_6 = in_Str_1;
		} break;
		case 0LL: { // None
			STR* v9;
			STRLIT(v9, "Invalid package path: ", 22);
			incref(MKSTR(in_Str_1));
			STR* v10 = str_cat(v9, in_Str_1);
			do_panic(v10);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v13 = ((TUP*)PTRPTR(value_tup(branch_z_x1_7)))->cells[0];
	VAL v14 = ((TUP*)PTRPTR(value_tup(branch_z_x1_7)))->cells[1];
	tup_decref_outer(value_tup(branch_z_x1_7));
	PTUP r15 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r15))->size = 2;
	((TUP*)PTRPTR(r15))->cells[1] = MKSTR(value_str(v14));
	((TUP*)PTRPTR(r15))->cells[0] = v13;
	decref(MKSTR(branch_Str_6));
	return r15;
}
static PTUP mw_mirth_options_compilerZ_parseZ_args (PTUP in_ZPlusArgumentParser_1, PTUP in_Options_2, PTUP in_Maybe_3, PTUP in_ArgpOptionType_4, PTUP *out_ZPlusArgumentParser_5) {
	PTUP branch_ZPlusArgumentParser_7;
	PTUP branch_Options_8;
	switch (PTREXTRA(in_ArgpOptionType_4)) {
		case 0LL: { // Short
			int64_t v9 = mtp_argZ_parser_types_ArgpOptionType_Short(in_ArgpOptionType_4);
			PTUP branch_ZPlusArgumentParser_10;
			PTUP branch_Options_11;
			switch (v9) {
				case 111LL: { // B'o'
					PTUP branch_Maybe_12;
					switch (PTREXTRA(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v13 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							PTUP v14 = mtw_std_maybe_Maybe_1_Some(MKSTR(value_str(v13)));
							branch_Maybe_12 = v14;
						} break;
						case 0LL: { // None
							PTUP v15 = PTRMK(0LL /* None */,0,0);
							branch_Maybe_12 = v15;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					VAL v16 = tup_replace(MKTUP(in_Options_2), 1, MKTUP(branch_Maybe_12));
					branch_Options_11 = VTUP(v16);
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 101LL: { // B'e'
					VAL v17 = tup_replace(MKTUP(in_Options_2), 2, MKTUP(in_Maybe_3));
					branch_Options_11 = VTUP(v17);
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 99LL: { // B'c'
					decref(MKTUP(in_Maybe_3));
					PTUP v18 = PTRMK(0LL /* None */,0,0);
					VAL v19 = tup_replace(MKTUP(VTUP(MKTUP(in_Options_2))), 2, MKTUP(v18));
					branch_Options_11 = VTUP(v19);
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 112LL: { // B'p'
					PTUP branch_Options_20;
					switch (PTREXTRA(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v21 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							PTUP v22 = mw_mirth_options_parseZ_packageZ_def(value_str(v21));
							incref(MKTUP(in_Options_2));
							PTUP v23 = VTUP(((TUP*)PTRPTR(in_Options_2))->cells[3]);
							incref(MKTUP(v23));
							decref(MKTUP(in_Options_2));
							PTUP v24 = mtw_std_list_List_1_Cons(MKTUP(v22), v23);
							VAL v25 = tup_replace(MKTUP(in_Options_2), 3, MKTUP(v24));
							branch_Options_20 = VTUP(v25);
						} break;
						case 0LL: { // None
							branch_Options_20 = in_Options_2;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Options_11 = branch_Options_20;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 80LL: { // B'P'
					PTUP branch_Options_26;
					switch (PTREXTRA(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v27 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							incref(MKTUP(in_Options_2));
							PTUP v28 = VTUP(((TUP*)PTRPTR(in_Options_2))->cells[4]);
							incref(MKTUP(v28));
							decref(MKTUP(in_Options_2));
							PTUP v29 = mtw_std_list_List_1_Cons(MKSTR(value_str(v27)), v28);
							VAL v30 = tup_replace(MKTUP(in_Options_2), 4, MKTUP(v29));
							branch_Options_26 = VTUP(v30);
						} break;
						case 0LL: { // None
							branch_Options_26 = in_Options_2;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Options_11 = branch_Options_26;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				default: {
					decref(MKTUP(in_Maybe_3));
					PTUP v31 = PTRMK(4LL /* UnknownArg */,0,0);
					PTUP v32 = mtw_std_maybe_Maybe_1_Some(MKTUP(v31));
					PTUP v33 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
					incref(MKTUP(v33));
					VAL v34 = tup_replace(MKTUP(v33), 5, MKTUP(v32));
					PTUP v35 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
					decref(MKTUP(v35));
					((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1] = MKTUP(VTUP(v34));
					branch_Options_11 = in_Options_2;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
			}
			branch_Options_8 = branch_Options_11;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_10;
		} break;
		case 2LL: { // Positional
			PTUP v36 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
			incref(MKTUP(v36));
			INT v37 = value_int(((TUP*)PTRPTR(v36))->cells[3]);
			incref(MKINT(v37));
			decref(MKTUP(v36));
			INT v38 = WRAP_I63(0LL);
			INT v39 = v38;
			bool v40 = int_eq(v37, v39);
			PTUP branch_ZPlusArgumentParser_41;
			PTUP branch_Options_42;
			if (v40) {
				PTUP branch_Options_43;
				switch (PTREXTRA(in_Maybe_3)) {
					case 1LL: { // Some
						VAL v44 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
						VAL v45 = tup_replace(MKTUP(in_Options_2), 0, MKSTR(value_str(v44)));
						branch_Options_43 = VTUP(v45);
					} break;
					case 0LL: { // None
						branch_Options_43 = in_Options_2;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Options_42 = branch_Options_43;
				branch_ZPlusArgumentParser_41 = in_ZPlusArgumentParser_1;
			} else {
				decref(MKTUP(in_Maybe_3));
				PTUP v46 = PTRMK(2LL /* TooManyArgs */,0,0);
				PTUP v47 = mtw_std_maybe_Maybe_1_Some(MKTUP(v46));
				PTUP v48 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
				incref(MKTUP(v48));
				VAL v49 = tup_replace(MKTUP(v48), 5, MKTUP(v47));
				PTUP v50 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
				decref(MKTUP(v50));
				((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1] = MKTUP(VTUP(v49));
				branch_Options_42 = in_Options_2;
				branch_ZPlusArgumentParser_41 = in_ZPlusArgumentParser_1;
			}
			branch_Options_8 = branch_Options_42;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_41;
		} break;
		case 1LL: { // LongOnly
			STR* v51 = mtp_argZ_parser_types_ArgpOptionType_LongOnly(in_ArgpOptionType_4);
			incref(MKSTR(v51));
			STR* v52;
			STRLIT(v52, "debug", 5);
			bool v53 = (str_cmp(v51, v52) == 0);
			PTUP branch_ZPlusArgumentParser_54;
			PTUP branch_Options_55;
			if (v53) {
				decref(MKSTR(v51));
				decref(MKTUP(in_Maybe_3));
				bool v56 = true;
				VAL v57 = tup_replace(MKTUP(in_Options_2), 5, MKBOOL(v56));
				branch_Options_55 = VTUP(v57);
				branch_ZPlusArgumentParser_54 = in_ZPlusArgumentParser_1;
			} else {
				decref(MKSTR(v51));
				decref(MKTUP(in_Maybe_3));
				PTUP v58 = PTRMK(4LL /* UnknownArg */,0,0);
				PTUP v59 = mtw_std_maybe_Maybe_1_Some(MKTUP(v58));
				PTUP v60 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
				incref(MKTUP(v60));
				VAL v61 = tup_replace(MKTUP(v60), 5, MKTUP(v59));
				PTUP v62 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
				decref(MKTUP(v62));
				((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1] = MKTUP(VTUP(v61));
				branch_Options_55 = in_Options_2;
				branch_ZPlusArgumentParser_54 = in_ZPlusArgumentParser_1;
			}
			branch_Options_8 = branch_Options_55;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_54;
		} break;
		case 3LL: { // End
			PTUP v63 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
			incref(MKTUP(v63));
			INT v64 = value_int(((TUP*)PTRPTR(v63))->cells[3]);
			incref(MKINT(v64));
			decref(MKTUP(v63));
			INT v65 = WRAP_I63(1LL);
			bool v66 = int_lt(v64, v65);
			PTUP branch_ZPlusArgumentParser_67;
			if (v66) {
				PTUP v68 = PTRMK(3LL /* TooFewArgs */,0,0);
				PTUP v69 = mtw_std_maybe_Maybe_1_Some(MKTUP(v68));
				PTUP v70 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
				incref(MKTUP(v70));
				VAL v71 = tup_replace(MKTUP(v70), 5, MKTUP(v69));
				PTUP v72 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
				decref(MKTUP(v72));
				((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1] = MKTUP(VTUP(v71));
				branch_ZPlusArgumentParser_67 = in_ZPlusArgumentParser_1;
			} else {
				branch_ZPlusArgumentParser_67 = in_ZPlusArgumentParser_1;
			}
			PTUP v73 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_67))->cells[1]);
			incref(MKTUP(v73));
			VAL v74 = ((TUP*)PTRPTR(v73))->cells[0];
			incref(v74);
			decref(MKTUP(v73));
			PTUP v75 = VTUP(((TUP*)PTRPTR(VTUP(v74)))->cells[1]);
			incref(MKTUP(v75));
			decref(MKTUP(VTUP(v74)));
			int64_t v76 = PTREXTRA(v75);
			decref(MKTUP(v75));
			INT v77 = WRAP_I63(0LL);
			INT v78 = v77;
			INT v79 = i64_to_int(v76);
			bool v80 = int_eq(v79, v78);
			bool v81 = !v80;
			PTUP branch_ZPlusArgumentParser_82;
			if (v81) {
				branch_ZPlusArgumentParser_82 = branch_ZPlusArgumentParser_67;
			} else {
				PTUP v83 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_67))->cells[1]);
				incref(MKTUP(v83));
				VAL v84 = ((TUP*)PTRPTR(v83))->cells[0];
				incref(v84);
				decref(MKTUP(v83));
				PTUP v85 = VTUP(((TUP*)PTRPTR(VTUP(v84)))->cells[2]);
				incref(MKTUP(v85));
				decref(MKTUP(VTUP(v84)));
				int64_t v86 = PTREXTRA(v85);
				decref(MKTUP(v85));
				INT v87 = WRAP_I63(0LL);
				INT v88 = v87;
				INT v89 = i64_to_int(v86);
				bool v90 = int_eq(v89, v88);
				bool v91 = !v90;
				PTUP branch_ZPlusArgumentParser_92;
				if (v91) {
					STR* v93;
					STRLIT(v93, "output-file", 11);
					PTUP v94 = mtw_argZ_parser_types_ArgumentParsingError_MissingArg(v93);
					PTUP v95 = mtw_std_maybe_Maybe_1_Some(MKTUP(v94));
					PTUP v96 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_67))->cells[1]);
					incref(MKTUP(v96));
					VAL v97 = tup_replace(MKTUP(v96), 5, MKTUP(v95));
					PTUP v98 = VTUP(((TUP*)PTRPTR(branch_ZPlusArgumentParser_67))->cells[1]);
					decref(MKTUP(v98));
					((TUP*)PTRPTR(branch_ZPlusArgumentParser_67))->cells[1] = MKTUP(VTUP(v97));
					branch_ZPlusArgumentParser_92 = branch_ZPlusArgumentParser_67;
				} else {
					branch_ZPlusArgumentParser_92 = branch_ZPlusArgumentParser_67;
				}
				branch_ZPlusArgumentParser_82 = branch_ZPlusArgumentParser_92;
			}
			decref(MKTUP(in_Maybe_3));
			branch_Options_8 = in_Options_2;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_82;
		} break;
		default: {
			decref(MKTUP(in_ArgpOptionType_4));
			decref(MKTUP(in_Maybe_3));
			PTUP v99 = PTRMK(4LL /* UnknownArg */,0,0);
			PTUP v100 = mtw_std_maybe_Maybe_1_Some(MKTUP(v99));
			PTUP v101 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
			incref(MKTUP(v101));
			VAL v102 = tup_replace(MKTUP(v101), 5, MKTUP(v100));
			PTUP v103 = VTUP(((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1]);
			decref(MKTUP(v103));
			((TUP*)PTRPTR(in_ZPlusArgumentParser_1))->cells[1] = MKTUP(VTUP(v102));
			branch_Options_8 = in_Options_2;
			branch_ZPlusArgumentParser_7 = in_ZPlusArgumentParser_1;
		} break;
	}
	*out_ZPlusArgumentParser_5 = branch_ZPlusArgumentParser_7;
	return branch_Options_8;
}
static PTUP mw_mirth_options_parseZ_optionsZBang (void) {
	PTUP v4 = mw_mirth_options_Options_Default();
	PTUP v5 = PTRMK(0LL /* Nil */,0,0);
	PTUP v6;
	mw_std_list_List_1_buildZBang(v5, &v6);
	STR* v7;
	STRLIT(v7, "output-file", 11);
	PTUP v8 = mtw_std_maybe_Maybe_1_Some(MKSTR(v7));
	int64_t v9 = 111LL /* B'o' */;
	PTUP v10 = mtw_argZ_parser_types_ArgpOptionType_Short(v9);
	STR* v11;
	STRLIT(v11, "OUTPUT_FILE", 11);
	PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
	STR* v13;
	STRLIT(v13, "Test argument", 13);
	PTUP v14 = mtw_std_maybe_Maybe_1_Some(MKSTR(v13));
	PTUP v15 = PTRMK(0LL /* None */,0,0);
	PTUP v16 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v8, v10, v12, v14, v15);
	PTUP v17;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v16), v6, &v17);
	STR* v18;
	STRLIT(v18, "compile-only", 12);
	PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKSTR(v18));
	int64_t v20 = 99LL /* B'c' */;
	PTUP v21 = mtw_argZ_parser_types_ArgpOptionType_Short(v20);
	PTUP v22 = PTRMK(0LL /* None */,0,0);
	STR* v23;
	STRLIT(v23, "Compile code without running codegen step", 41);
	PTUP v24 = mtw_std_maybe_Maybe_1_Some(MKSTR(v23));
	PTUP v25 = PTRMK(0LL /* None */,0,0);
	PTUP v26 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v19, v21, v22, v24, v25);
	PTUP v27;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v26), v17, &v27);
	STR* v28;
	STRLIT(v28, "entry-point", 11);
	PTUP v29 = mtw_std_maybe_Maybe_1_Some(MKSTR(v28));
	int64_t v30 = 101LL /* B'e' */;
	PTUP v31 = mtw_argZ_parser_types_ArgpOptionType_Short(v30);
	STR* v32;
	STRLIT(v32, "ENTRY_POINT", 11);
	PTUP v33 = mtw_std_maybe_Maybe_1_Some(MKSTR(v32));
	STR* v34;
	STRLIT(v34, "Custom entry point word for compilation", 39);
	PTUP v35 = mtw_std_maybe_Maybe_1_Some(MKSTR(v34));
	PTUP v36 = PTRMK(0LL /* None */,0,0);
	PTUP v37 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v29, v31, v33, v35, v36);
	PTUP v38;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v37), v27, &v38);
	STR* v39;
	STRLIT(v39, "package", 7);
	PTUP v40 = mtw_std_maybe_Maybe_1_Some(MKSTR(v39));
	int64_t v41 = 112LL /* B'p' */;
	PTUP v42 = mtw_argZ_parser_types_ArgpOptionType_Short(v41);
	STR* v43;
	STRLIT(v43, "(PACKAGE:PATH)*", 15);
	PTUP v44 = mtw_std_maybe_Maybe_1_Some(MKSTR(v43));
	STR* v45;
	STRLIT(v45, "Package locations", 17);
	PTUP v46 = mtw_std_maybe_Maybe_1_Some(MKSTR(v45));
	PTUP v47 = PTRMK(0LL /* None */,0,0);
	PTUP v48 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v40, v42, v44, v46, v47);
	PTUP v49;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v48), v38, &v49);
	STR* v50;
	STRLIT(v50, "package-search-path", 19);
	PTUP v51 = mtw_std_maybe_Maybe_1_Some(MKSTR(v50));
	int64_t v52 = 80LL /* B'P' */;
	PTUP v53 = mtw_argZ_parser_types_ArgpOptionType_Short(v52);
	STR* v54;
	STRLIT(v54, "SEARCH_PATH*", 12);
	PTUP v55 = mtw_std_maybe_Maybe_1_Some(MKSTR(v54));
	STR* v56;
	STRLIT(v56, "Package search paths", 20);
	PTUP v57 = mtw_std_maybe_Maybe_1_Some(MKSTR(v56));
	PTUP v58 = PTRMK(0LL /* None */,0,0);
	PTUP v59 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v51, v53, v55, v57, v58);
	PTUP v60;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v59), v49, &v60);
	STR* v61;
	STRLIT(v61, "debug", 5);
	PTUP v62 = mtw_std_maybe_Maybe_1_Some(MKSTR(v61));
	STR* v63;
	STRLIT(v63, "debug", 5);
	PTUP v64 = mtw_argZ_parser_types_ArgpOptionType_LongOnly(v63);
	PTUP v65 = PTRMK(0LL /* None */,0,0);
	STR* v66;
	STRLIT(v66, "Emit debugging information during codegen", 41);
	PTUP v67 = mtw_std_maybe_Maybe_1_Some(MKSTR(v66));
	PTUP v68 = PTRMK(0LL /* None */,0,0);
	PTUP v69 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v62, v64, v65, v67, v68);
	PTUP v70;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v69), v60, &v70);
	PTUP v71 = mw_std_list_ZPlusLister_1_doneZBang(v70);
	FNPTR v72 = &mb_mirth_options_parseZ_optionsZBang_0;
	STR* v73;
	STRLIT(v73, "input-file", 10);
	PTUP v74 = mtw_std_maybe_Maybe_1_Some(MKSTR(v73));
	STR* v75;
	STRLIT(v75, "Mirth Compiler", 14);
	PTUP v76 = mtw_argZ_parser_types_ArgumentParser_1_ArgumentParser(v71, MKFNPTR(v72), v74, v75);
	PTUP v77 = mw_argZ_parser_parse_parseZ_args(MKTUP(v4), v76);
	return v77;
}
static uint64_t mw_mirth_label_Label_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_label_Label_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_label_Label_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_label_Label_MakeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_label_Label_AllocZBang(in_ZPlusMirth_1, &v5);
	void* v7 = field_mut(&mfld_mirth_label_Label_name, v6);
	mut_set(MKU64(in_Name_2), v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static uint64_t mw_mirth_label_Label_name (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_label_Label_name, in_Label_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static STR* mw_mirth_label_Label_ZToStr (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_label_Label_name(in_ZPlusMirth_1, in_Label_2, &v5);
	PTUP v7;
	STR* v8 = mw_mirth_name_Name_ZToStr(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static void mw_mirth_label_Label_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	uint64_t v7 = mw_mirth_label_Label_name(in_ZPlusMirth_1, in_Label_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static uint64_t mw_mirth_label_Label_Label (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_name_Name_label(in_ZPlusMirth_1, in_Name_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_label_Label_isZ_resourceZ_labelZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_label_Label_name(in_ZPlusMirth_1, in_Label_2, &v5);
	PTUP v7;
	int64_t v8 = mw_mirth_name_Name_head(v5, v6, &v7);
	int64_t v9 = 43LL /* B'+' */;
	int64_t v10 = v8;
	INT v11 = i64_to_int(v10);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	int64_t v14 = v9;
	INT v15 = i64_to_int(v14);
	uint64_t v16 = int_to_u64(v15);
	uint8_t v17 = (uint8_t)(v16);
	uint64_t v18 = (uint64_t)(v17);
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(value_u8(MKU8(v13)));
	uint32_t v21 = (uint32_t)(v20);
	uint64_t v22 = (uint64_t)(v21);
	uint64_t v23 = (uint64_t)(v19);
	bool v24 = (value_u64(MKU64(v22)) == v23);
	*out_ZPlusMirth_3 = v7;
	return v24;
}
static VAL mw_std_map_KeyValuePair_2_pair (PTUP in_KeyValuePair_1, VAL *out_v_3) {
	VAL v4;
	VAL v5;
	mtp_std_map_KeyValuePair_2_KeyValuePair(in_KeyValuePair_1, &v4, &v5);
	*out_v_3 = v5;
	return v4;
}
static PTUP mw_std_map_Map_2_Nil (void) {
	PTUP v2 = PTRMK(0LL /* Nil */,0,0);
	return v2;
}
static INT mw_std_map_Map_2_len (PTUP in_Map_1) {
	INT v3 = mw_std_list_List_1_len(in_Map_1);
	return v3;
}
static PTUP mw_std_map_Map_2_insert (PTUP in_KeyValuePair_1, PTUP in_Map_2) {
	incref(MKTUP(in_Map_2));
	PTUP v4 = mw_std_list_List_1_cons(MKTUP(in_KeyValuePair_1), in_Map_2);
	decref(MKTUP(in_Map_2));
	return v4;
}
static uint64_t mw_mirth_var_Var_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_var_Var_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_var_Var_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_var_Var_MakeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP in_Type_3, PTUP in_Maybe_4, PTUP *out_ZPlusMirth_5) {
	PTUP v7;
	uint64_t v8 = mw_mirth_var_Var_AllocZBang(in_ZPlusMirth_1, &v7);
	void* v9 = field_mut(&mfld_mirth_var_Var_name, v8);
	mut_set(MKU64(in_Name_2), v9);
	void* v10 = field_mut(&mfld_mirth_var_Var_type, v8);
	mut_set(MKTUP(in_Type_3), v10);
	void* v11 = field_mut(&mfld_mirth_var_Var_autoZ_runZAsk, v8);
	mut_set(MKTUP(in_Maybe_4), v11);
	*out_ZPlusMirth_5 = v7;
	return v8;
}
static uint64_t mw_mirth_var_Var_name (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_var_Var_name, in_Var_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_var_Var_type (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_var_Var_type, in_Var_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static PTUP mw_mirth_var_Var_autoZ_runZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_var_Var_autoZ_runZAsk, in_Var_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static void mw_mirth_var_Var_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	uint64_t v7 = mw_mirth_var_Var_name(in_ZPlusMirth_1, in_Var_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_var_Var_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	STR* v7;
	mw_mirth_var_Var_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, in_Var_3, &v6, &v7);
	*out_ZPlusStr_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static bool mw_mirth_var_Var_isZ_stackZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_var_Var_type(in_ZPlusMirth_1, in_Var_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_Type_primZAsk(v5, v6, &v7);
	bool branch_Bool_9;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v8);
			int64_t v11 = 2LL /* STACK */;
			bool v12 = mw_mirth_type_PrimType_ZEqual(VI64(v10), v11);
			branch_Bool_9 = v12;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_9 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = v7;
	return branch_Bool_9;
}
static bool mw_mirth_var_Var_isZ_physicalZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_var_Var_type(in_ZPlusMirth_1, in_Var_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_type_Type_isZ_physicalZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static uint64_t mw_mirth_var_Var_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = PTRMK(0LL /* None */,0,0);
	PTUP v7;
	uint64_t v8 = mw_mirth_var_Var_MakeZBang(in_ZPlusMirth_1, in_Name_3, in_Type_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static uint64_t mw_mirth_var_Var_NewAutoRunZBang (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_ArrowType_2));
	PTUP v6 = mtw_mirth_type_Type_Arrow(in_ArrowType_2);
	PTUP v7 = mtw_std_maybe_Maybe_1_Some(MKTUP(in_ArrowType_2));
	PTUP v8;
	uint64_t v9 = mw_mirth_var_Var_MakeZBang(in_ZPlusMirth_1, in_Name_3, v6, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static PTUP mw_mirth_var_Var_NewInCtx (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_Type_3, STR* in_Str_4, PTUP *out_ZPlusMirth_5, uint64_t *out_Var_7) {
	PTUP v8;
	uint64_t v9 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, in_Str_4, &v8);
	PTUP v10;
	uint64_t v11 = mw_mirth_var_Var_NewZBang(v8, in_Type_3, v9, &v10);
	PTUP v12 = mw_mirth_var_Ctx_new(in_Ctx_2, v11);
	*out_Var_7 = v11;
	*out_ZPlusMirth_5 = v10;
	return v12;
}
static PTUP mw_std_list_List_1_ZToCtx (PTUP in_List_1) {
	return in_List_1;
}
static PTUP mw_mirth_var_Ctx_ZToList (PTUP in_Ctx_1) {
	return in_Ctx_1;
}
static PTUP mw_mirth_var_Ctx_L0 (void) {
	PTUP v2 = PTRMK(0LL /* Nil */,0,0);
	return v2;
}
static PTUP mw_mirth_var_Ctx_new (PTUP in_Ctx_1, uint64_t in_Var_2) {
	PTUP v4 = mw_mirth_var_Ctx_ZToList(in_Ctx_1);
	PTUP v5 = mw_std_list_List_1_Snoc(v4, MKU64(in_Var_2));
	PTUP v6 = mw_std_list_List_1_ZToCtx(v5);
	return v6;
}
static PTUP mw_mirth_var_Ctx_lookup (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP in_Ctx_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mw_mirth_var_Ctx_ZToList(in_Ctx_3);
	PTUP v7 = mw_std_list_List_1_reverse(v6);
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	bool v9 = true;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = in_Name_2;
	PTUP v12 = v8;
	PTUP v13 = v7;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		PTUP r16 = r10;
		uint64_t v17 = v11;
		PTUP v18 = v12;
		PTUP v19 = v13;
		bool v20 = v14;
		PTUP v21;
		PTUP v22 = mw_std_list_List_1_uncons(v19, &v21);
		PTUP branch_ZPlusMirth_23;
		uint64_t branch_Name_24;
		PTUP branch_Maybe_25;
		PTUP branch_List_26;
		bool branch_Bool_27;
		switch (PTREXTRA(v22)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v22);
				incref(MKU64(v17));
				PTUP v29;
				uint64_t v30 = mw_mirth_var_Var_name(r16, value_u64(MKU64(value_u64(v28))), &v29);
				bool v31 = (v30 == value_u64(MKU64(v17)));
				PTUP branch_ZPlusMirth_32;
				uint64_t branch_Name_33;
				PTUP branch_Maybe_34;
				if (v31) {
					PTUP v35 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v28)));
					branch_Maybe_34 = v35;
					branch_Name_33 = value_u64(MKU64(v17));
					branch_ZPlusMirth_32 = v29;
				} else {
					PTUP v36 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_34 = v36;
					branch_Name_33 = value_u64(MKU64(v17));
					branch_ZPlusMirth_32 = v29;
				}
				PTUP branch_ZPlusMirth_37;
				uint64_t branch_Name_38;
				PTUP branch_Maybe_39;
				PTUP branch_List_40;
				switch (PTREXTRA(branch_Maybe_34)) {
					case 0LL: { // None
						branch_List_40 = VTUP(MKTUP(v21));
						branch_Maybe_39 = VTUP(MKTUP(v18));
						branch_Name_38 = branch_Name_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v21))));
						decref(MKTUP(VTUP(MKTUP(v18))));
						PTUP v41 = PTRMK(0LL /* Nil */,0,0);
						branch_List_40 = v41;
						branch_Maybe_39 = branch_Maybe_34;
						branch_Name_38 = branch_Name_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
				}
				bool v42 = true;
				branch_Bool_27 = v42;
				branch_List_26 = branch_List_40;
				branch_Maybe_25 = branch_Maybe_39;
				branch_Name_24 = branch_Name_38;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_37;
			} break;
			case 0LL: { // None
				bool v43 = false;
				branch_Bool_27 = v43;
				branch_List_26 = v21;
				branch_Maybe_25 = v18;
				branch_Name_24 = v17;
				branch_ZPlusMirth_23 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_27;
		v14 = branch_Bool_27;
		v13 = branch_List_26;
		v12 = branch_Maybe_25;
		v11 = branch_Name_24;
		r10 = branch_ZPlusMirth_23;
	}
	decref(MKTUP(v13));
	decref(MKU64(v11));
	*out_ZPlusMirth_4 = r10;
	return VTUP(MKTUP(v12));
}
static PTUP mw_mirth_var_Ctx_freshZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Name_5) {
	INT v6 = WRAP_I63(1LL);
	STR* v7;
	STRLIT(v7, "_x1", 3);
	PTUP v8;
	uint64_t v9 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v7, &v8);
	bool v10 = true;
	PTUP r11 = v8;
	PTUP v12 = in_Ctx_2;
	INT v13 = v6;
	uint64_t v14 = v9;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		PTUP r17 = r11;
		PTUP v18 = v12;
		INT v19 = v13;
		uint64_t v20 = v14;
		bool v21 = v15;
		incref(MKTUP(v18));
		PTUP v22;
		PTUP v23 = mw_mirth_var_Ctx_lookup(r17, value_u64(MKU64(v20)), VTUP(MKTUP(v18)), &v22);
		INT branch_Int_24;
		PTUP branch_ZPlusMirth_25;
		uint64_t branch_Name_26;
		bool branch_Bool_27;
		switch (PTREXTRA(v23)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v23);
				decref(v28);
				decref(MKU64(value_u64(MKU64(v20))));
				INT v29 = WRAP_I63(1LL);
				INT v30 = v29;
				INT v31 = int_add(value_int(MKINT(v19)), v30);
				incref(MKINT(v31));
				STR* v32;
				STRLIT(v32, "", 0);
				STR* v33;
				STRLIT(v33, "_x", 2);
				STR* v34;
				mw_std_str_ZPlusStr_pushZ_strZBang(v33, v32, &v34);
				STR* v35 = int_to_str(v31);
				STR* v36;
				mw_std_str_ZPlusStr_pushZ_strZBang(v35, v34, &v36);
				PTUP v37;
				uint64_t v38 = mw_mirth_name_Name_Name(v22, v36, &v37);
				bool v39 = true;
				branch_Bool_27 = v39;
				branch_Name_26 = v38;
				branch_ZPlusMirth_25 = v37;
				branch_Int_24 = v31;
			} break;
			case 0LL: { // None
				bool v40 = false;
				branch_Bool_27 = v40;
				branch_Name_26 = value_u64(MKU64(v20));
				branch_ZPlusMirth_25 = v22;
				branch_Int_24 = value_int(MKINT(v19));
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_27;
		v15 = branch_Bool_27;
		v14 = branch_Name_26;
		v13 = branch_Int_24;
		v12 = VTUP(MKTUP(v18));
		r11 = branch_ZPlusMirth_25;
	}
	decref(MKINT(v13));
	*out_Name_5 = value_u64(MKU64(v14));
	*out_ZPlusMirth_3 = r11;
	return v12;
}
static PTUP mw_mirth_var_Ctx_freshZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Ctx_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Var_6) {
	PTUP v7;
	uint64_t v8;
	PTUP v9 = mw_mirth_var_Ctx_freshZ_nameZBang(in_ZPlusMirth_1, in_Ctx_3, &v7, &v8);
	PTUP v10;
	uint64_t v11 = mw_mirth_var_Var_NewZBang(v7, in_Type_2, v8, &v10);
	PTUP v12 = mw_mirth_var_Ctx_new(v9, v11);
	*out_Var_6 = v11;
	*out_ZPlusMirth_4 = v10;
	return v12;
}
static PTUP mw_mirth_var_Var_unifyZBang (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4) {
	incref(MKU64(in_Var_2));
	incref(MKU64(in_Var_3));
	bool v6 = (value_u64(MKU64(in_Var_3)) == value_u64(MKU64(in_Var_2)));
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Type_8;
	if (v6) {
		PTUP v9 = mtw_mirth_type_Type_Var(value_u64(MKU64(in_Var_2)));
		branch_Type_8 = v9;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10 = mtw_mirth_type_Type_Var(value_u64(MKU64(in_Var_2)));
		PTUP v11 = mtw_mirth_type_Type_Var(value_u64(MKU64(in_Var_3)));
		PTUP v12;
		PTUP v13 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v10, v11, &v12);
		branch_Type_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static PTUP mw_mirth_var_Var_kind (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_var_Var_type(in_ZPlusMirth_1, in_Var_2, &v5);
	PTUP v7 = mw_mirth_type_Type_ZToKind(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_var_Var_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6) {
	incref(MKU64(in_Var_3));
	incref(MKTUP(in_Subst_2));
	PTUP v7;
	bool v8 = mw_mirth_type_Subst_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_Var_3)), VTUP(MKTUP(in_Subst_2)), &v7);
	PTUP branch_Subst_9;
	PTUP branch_ZPlusMirth_10;
	PTUP branch_Type_11;
	if (v8) {
		incref(MKTUP(VTUP(MKTUP(in_Subst_2))));
		PTUP v12;
		PTUP v13 = mw_mirth_type_Subst_getZ_var(v7, value_u64(MKU64(value_u64(MKU64(in_Var_3)))), VTUP(MKTUP(VTUP(MKTUP(in_Subst_2)))), &v12);
		branch_Type_11 = v13;
		branch_ZPlusMirth_10 = v12;
		branch_Subst_9 = VTUP(MKTUP(VTUP(MKTUP(in_Subst_2))));
	} else {
		incref(MKU64(value_u64(MKU64(in_Var_3))));
		PTUP v14;
		PTUP v15 = mw_mirth_var_Var_kind(v7, value_u64(MKU64(value_u64(MKU64(in_Var_3)))), &v14);
		PTUP v16;
		uint64_t v17 = mw_mirth_type_MetaVar_NewZBang(v14, v15, &v16);
		PTUP v18 = mtw_mirth_type_Type_Meta(v17);
		incref(MKTUP(v18));
		PTUP v19 = mw_mirth_type_Subst_cons(VTUP(MKTUP(v18)), value_u64(MKU64(value_u64(MKU64(value_u64(MKU64(in_Var_3)))))), VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(in_Subst_2)))))));
		branch_Type_11 = v18;
		branch_ZPlusMirth_10 = v16;
		branch_Subst_9 = v19;
	}
	*out_Type_6 = branch_Type_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Subst_9;
}
static PTUP mw_mirth_var_Var_sortZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_var_Var_type(in_ZPlusMirth_1, in_Var_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_Type_ZToSortZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_type_Type_ZToSortZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			PTUP v8;
			PTUP v9 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v7, &v8);
			PTUP branch_ZPlusMirth_10;
			PTUP branch_Maybe_11;
			switch (PTREXTRA(v9)) {
				case 0LL: { // None
					PTUP v12 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_11 = v12;
					branch_ZPlusMirth_10 = v8;
				} break;
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
					PTUP v14;
					PTUP v15 = mw_mirth_type_Type_expand(v8, VTUP(v13), &v14);
					incref(MKTUP(v15));
					PTUP v16 = mtw_std_maybe_Maybe_1_Some(MKTUP(v15));
					PTUP v17;
					mw_mirth_type_MetaVar_typeZAskZBang(v14, v16, value_u64(MKU64(v7)), &v17);
					PTUP v18;
					PTUP v19 = mw_mirth_type_Type_ZToSortZAsk(v17, VTUP(MKTUP(v15)), &v18);
					branch_Maybe_11 = v19;
					branch_ZPlusMirth_10 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_11;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_10;
		} break;
		case 2LL: { // Prim
			int64_t v20 = mtp_mirth_type_Type_Prim(in_Type_2);
			PTUP v21;
			PTUP v22 = mw_mirth_type_PrimType_ZToSortZAsk(in_ZPlusMirth_1, v20, &v21);
			branch_Maybe_6 = v22;
			branch_ZPlusMirth_5 = v21;
		} break;
		default: {
			decref(MKTUP(in_Type_2));
			PTUP v23 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_type_PrimType_ZToSortZAsk (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (in_PrimType_2) {
		case 1LL: { // TYPE
			int64_t v7 = 0LL /* Type */;
			PTUP v8 = mtw_std_maybe_Maybe_1_Some(MKI64(v7));
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // STACK
			int64_t v9 = 2LL /* Stack */;
			PTUP v10 = mtw_std_maybe_Maybe_1_Some(MKI64(v9));
			branch_Maybe_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // RESOURCE
			int64_t v11 = 1LL /* Resource */;
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKI64(v11));
			branch_Maybe_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			PTUP v13 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static uint64_t mw_mirth_external_External_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_external_External_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_external_External_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_external_External_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Name_3, INT in_Int_4, STR* in_Str_5, uint64_t in_Token_6, uint64_t in_Token_7, PTUP *out_ZPlusMirth_8) {
	PTUP v10;
	uint64_t v11 = mw_mirth_external_External_AllocZBang(in_ZPlusMirth_1, &v10);
	void* v12 = field_mut(&mfld_mirth_external_External_doc, v11);
	mut_set(MKTUP(in_Maybe_2), v12);
	void* v13 = field_mut(&mfld_mirth_external_External_name, v11);
	mut_set(MKU64(in_Name_3), v13);
	void* v14 = field_mut(&mfld_mirth_external_External_arity, v11);
	mut_set(MKINT(in_Int_4), v14);
	void* v15 = field_mut(&mfld_mirth_external_External_symbol, v11);
	mut_set(MKSTR(in_Str_5), v15);
	void* v16 = field_mut(&mfld_mirth_external_External_head, v11);
	mut_set(MKU64(in_Token_6), v16);
	void* v17 = field_mut(&mfld_mirth_external_External_sig, v11);
	mut_set(MKU64(in_Token_7), v17);
	*out_ZPlusMirth_8 = v10;
	return v11;
}
static uint64_t mw_mirth_external_External_name (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_name, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_external_External_arity (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_arity, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static STR* mw_mirth_external_External_symbol (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_symbol, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_str(v6);
}
static uint64_t mw_mirth_external_External_head (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_head, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_external_External_sig (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_sig, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_external_External_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildeqname, in_External_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static PTUP mw_mirth_external_External_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildeqname, in_External_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_external_External_ctxZ_type (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	void* v6 = field_mut(&mfld_mirth_external_External_ZTildectxZ_type, in_External_2);
	PTUP v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = ((TUP*)PTRPTR(value_tup(v8)))->cells[0];
	VAL v10 = ((TUP*)PTRPTR(value_tup(v8)))->cells[1];
	tup_decref_outer(value_tup(v8));
	*out_ArrowType_5 = VTUP(v10);
	*out_ZPlusMirth_3 = v7;
	return VTUP(v9);
}
static PTUP mw_mirth_external_External_type (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7 = mw_mirth_external_External_ctxZ_type(in_ZPlusMirth_1, in_External_2, &v5, &v6);
	decref(MKTUP(v7));
	*out_ZPlusMirth_3 = v5;
	return VTUP(MKTUP(v6));
}
static PTUP mw_mirth_external_External_ctype (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildectype, in_External_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static uint64_t mw_mirth_external_ExternalBlock_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_external_ExternalBlock_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_external_ExternalBlock_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_external_ExternalBlock_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5) {
	PTUP v7;
	uint64_t v8 = mw_mirth_external_ExternalBlock_AllocZBang(in_ZPlusMirth_1, &v7);
	void* v9 = field_mut(&mfld_mirth_external_ExternalBlock_doc, v8);
	mut_set(MKTUP(in_Maybe_2), v9);
	void* v10 = field_mut(&mfld_mirth_external_ExternalBlock_token, v8);
	mut_set(MKU64(in_Token_3), v10);
	void* v11 = field_mut(&mfld_mirth_external_ExternalBlock_parts, v8);
	mut_set(MKTUP(in_List_4), v11);
	*out_ZPlusMirth_5 = v7;
	return v8;
}
static PTUP mw_mirth_external_ExternalBlock_parts (PTUP in_ZPlusMirth_1, uint64_t in_ExternalBlock_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_ExternalBlock_parts, in_ExternalBlock_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static uint64_t mw_mirth_external_parseZ_externalZ_decl (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5, PTUP *out_Maybe_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_token_Token_succ(v7, in_Token_2, &v9);
	PTUP v11;
	INT v12 = mw_mirth_token_Token_numZ_args(v9, v10, &v11);
	INT v13 = WRAP_I63(0LL);
	INT v14 = v12;
	INT v15 = v13;
	bool v16 = int_lt(v15, v14);
	PTUP branch_ZPlusMirth_17;
	uint64_t branch_Token_18;
	bool branch_Bool_19;
	if (v16) {
		bool v20 = true;
		branch_Bool_19 = v20;
		branch_Token_18 = v10;
		branch_ZPlusMirth_17 = v11;
	} else {
		PTUP v21;
		PTUP v22 = mw_mirth_token_Token_lcurlyZAsk(v11, v10, &v21);
		int64_t v23 = PTREXTRA(v22);
		decref(MKTUP(v22));
		INT v24 = WRAP_I63(0LL);
		INT v25 = v24;
		INT v26 = i64_to_int(v23);
		bool v27 = int_eq(v26, v25);
		bool v28 = !v27;
		branch_Bool_19 = v28;
		branch_Token_18 = v10;
		branch_ZPlusMirth_17 = v21;
	}
	PTUP branch_Maybe_29;
	uint64_t branch_Token_30;
	PTUP branch_ZPlusMirth_31;
	PTUP branch_List_32;
	if (branch_Bool_19) {
		PTUP v33 = PTRMK(0LL /* Nil */,0,0);
		PTUP v34;
		mw_std_list_List_1_buildZBang(v33, &v34);
		PTUP v35;
		uint64_t v36 = mw_mirth_token_Token_succ(branch_ZPlusMirth_17, branch_Token_18, &v35);
		PTUP v37;
		bool v38 = mw_mirth_token_Token_argsZ_endZAsk(v35, v36, &v37);
		bool v39 = !v38;
		PTUP r40 = v34;
		uint64_t v41 = v36;
		PTUP r42 = v37;
		bool v43 = v39;
		while (v43) {
			PTUP r44 = r40;
			uint64_t v45 = v41;
			PTUP r46 = r42;
			PTUP v47;
			PTUP v48;
			uint64_t v49 = mw_mirth_external_parseZ_externalZ_declZ_part(r46, v45, &v47, &v48);
			PTUP v50;
			mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v48), r44, &v50);
			PTUP v51;
			bool v52 = mw_mirth_token_Token_argsZ_endZAsk(v47, v49, &v51);
			bool v53 = !v52;
			v43 = v53;
			r42 = v51;
			v41 = v49;
			r40 = v50;
		}
		PTUP v54;
		uint64_t v55 = mw_mirth_token_Token_succ(r42, v41, &v54);
		PTUP v56 = mw_std_list_ZPlusLister_1_doneZBang(r40);
		branch_List_32 = v56;
		branch_ZPlusMirth_31 = v54;
		branch_Token_30 = v55;
		branch_Maybe_29 = v8;
	} else {
		PTUP v57;
		PTUP v58;
		uint64_t v59 = mw_mirth_external_parseZ_externalZ_declZ_word(branch_ZPlusMirth_17, branch_Token_18, v8, &v57, &v58);
		PTUP v60 = PTRMK(0LL /* Nil */,0,0);
		PTUP v61 = mw_std_list_List_1_cons(MKTUP(v58), v60);
		PTUP v62 = PTRMK(0LL /* None */,0,0);
		branch_List_32 = v61;
		branch_ZPlusMirth_31 = v57;
		branch_Token_30 = v59;
		branch_Maybe_29 = v62;
	}
	*out_Maybe_6 = branch_Maybe_29;
	*out_List_5 = branch_List_32;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_31;
	return branch_Token_30;
}
static uint64_t mw_mirth_external_parseZ_externalZ_declZ_part (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_ExternalDeclPart_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_strZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	PTUP branch_ExternalDeclPart_10;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			PTUP v12;
			uint64_t v13 = mw_mirth_token_Token_succ(v6, in_Token_2, &v12);
			PTUP v14 = mtw_mirth_external_ExternalDeclPart_EDPCode(in_Token_2, value_str(v11));
			branch_ExternalDeclPart_10 = v14;
			branch_Token_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 0LL: { // None
			PTUP v15;
			PTUP v16 = mw_mirth_token_Token_doc(v6, in_Token_2, &v15);
			PTUP v17;
			PTUP v18;
			uint64_t v19 = mw_mirth_external_parseZ_externalZ_declZ_word(v15, in_Token_2, v16, &v17, &v18);
			branch_ExternalDeclPart_10 = v18;
			branch_Token_9 = v19;
			branch_ZPlusMirth_8 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v20;
	bool v21 = mw_mirth_token_Token_commaZAsk(branch_ZPlusMirth_8, branch_Token_9, &v20);
	PTUP branch_ZPlusMirth_22;
	uint64_t branch_Token_23;
	if (v21) {
		PTUP v24;
		uint64_t v25 = mw_mirth_token_Token_succ(v20, branch_Token_9, &v24);
		branch_Token_23 = v25;
		branch_ZPlusMirth_22 = v24;
	} else {
		branch_Token_23 = branch_Token_9;
		branch_ZPlusMirth_22 = v20;
	}
	*out_ExternalDeclPart_5 = branch_ExternalDeclPart_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_22;
	return branch_Token_23;
}
static uint64_t mw_mirth_external_parseZ_externalZ_declZ_word (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, PTUP *out_ExternalDeclPart_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_nameZDivdnameZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	int64_t v9 = PTREXTRA(v8);
	decref(MKTUP(v8));
	INT v10 = WRAP_I63(0LL);
	INT v11 = v10;
	INT v12 = i64_to_int(v9);
	bool v13 = int_eq(v12, v11);
	bool v14 = !v13;
	PTUP branch_ZPlusMirth_15;
	uint64_t branch_Token_16;
	if (v14) {
		branch_Token_16 = in_Token_2;
		branch_ZPlusMirth_15 = v7;
	} else {
		STR* v17;
		STRLIT(v17, "expected external word name", 27);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v7, in_Token_2, v17);
	}
	PTUP v20;
	uint64_t v21 = mw_mirth_token_Token_succ(branch_ZPlusMirth_15, branch_Token_16, &v20);
	PTUP v22;
	bool v23 = mw_mirth_token_Token_arrowZAsk(v20, v21, &v22);
	PTUP branch_Maybe_24;
	uint64_t branch_Token_25;
	PTUP branch_Maybe_26;
	PTUP branch_ZPlusMirth_27;
	uint64_t branch_Token_28;
	if (v23) {
		PTUP v29;
		uint64_t v30 = mw_mirth_token_Token_succ(v22, v21, &v29);
		PTUP v31;
		PTUP v32 = mw_mirth_token_Token_nameZAsk(v29, v30, &v31);
		int64_t v33 = PTREXTRA(v32);
		decref(MKTUP(v32));
		INT v34 = WRAP_I63(0LL);
		INT v35 = v34;
		INT v36 = i64_to_int(v33);
		bool v37 = int_eq(v36, v35);
		bool v38 = !v37;
		PTUP branch_ZPlusMirth_39;
		uint64_t branch_Token_40;
		if (v38) {
			branch_Token_40 = v30;
			branch_ZPlusMirth_39 = v31;
		} else {
			STR* v41;
			STRLIT(v41, "expected external symbol name", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v31, v30, v41);
		}
		PTUP v44 = mtw_std_maybe_Maybe_1_Some(MKU64(branch_Token_40));
		PTUP v45;
		uint64_t v46 = mw_mirth_token_Token_succ(branch_ZPlusMirth_39, branch_Token_40, &v45);
		branch_Token_28 = v46;
		branch_ZPlusMirth_27 = v45;
		branch_Maybe_26 = v44;
		branch_Token_25 = in_Token_2;
		branch_Maybe_24 = in_Maybe_3;
	} else {
		PTUP v47 = PTRMK(0LL /* None */,0,0);
		branch_Token_28 = v21;
		branch_ZPlusMirth_27 = v22;
		branch_Maybe_26 = v47;
		branch_Token_25 = in_Token_2;
		branch_Maybe_24 = in_Maybe_3;
	}
	PTUP v48;
	PTUP v49 = mw_mirth_token_Token_lsquareZAsk(branch_ZPlusMirth_27, branch_Token_28, &v48);
	int64_t v50 = PTREXTRA(v49);
	decref(MKTUP(v49));
	INT v51 = WRAP_I63(0LL);
	INT v52 = v51;
	INT v53 = i64_to_int(v50);
	bool v54 = int_eq(v53, v52);
	bool v55 = !v54;
	uint64_t branch_Token_56;
	PTUP branch_ZPlusMirth_57;
	uint64_t branch_Token_58;
	if (v55) {
		PTUP v59;
		uint64_t v60 = mw_mirth_token_Token_argsZ_1(v48, branch_Token_28, &v59);
		PTUP v61;
		uint64_t v62 = mw_mirth_token_Token_next(v59, branch_Token_28, &v61);
		branch_Token_58 = v62;
		branch_ZPlusMirth_57 = v61;
		branch_Token_56 = v60;
	} else {
		PTUP v63;
		bool v64 = mw_mirth_token_Token_commaZAsk(v48, branch_Token_28, &v63);
		PTUP branch_ZPlusMirth_65;
		uint64_t branch_Token_66;
		if (v64) {
			branch_Token_66 = branch_Token_28;
			branch_ZPlusMirth_65 = v63;
		} else {
			STR* v67;
			STRLIT(v67, "expected type signature", 23);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v63, branch_Token_28, v67);
		}
		PTUP v70;
		uint64_t v71 = mw_mirth_token_Token_succ(branch_ZPlusMirth_65, branch_Token_66, &v70);
		PTUP v72;
		bool v73 = mw_mirth_token_Token_argZ_endZAsk(v70, v71, &v72);
		PTUP branch_ZPlusMirth_74;
		uint64_t branch_Token_75;
		if (v73) {
			STR* v76;
			STRLIT(v76, "expected type signature", 23);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v72, v71, v76);
		} else {
			branch_Token_75 = v71;
			branch_ZPlusMirth_74 = v72;
		}
		PTUP v79;
		uint64_t v80 = mw_mirth_token_Token_nextZ_argZ_end(branch_ZPlusMirth_74, branch_Token_75, &v79);
		branch_Token_58 = v80;
		branch_ZPlusMirth_57 = v79;
		branch_Token_56 = branch_Token_75;
	}
	PTUP v81 = mtw_mirth_external_ExternalDeclPart_EDPDef(branch_Maybe_24, branch_Token_25, branch_Maybe_26, branch_Token_56);
	*out_ExternalDeclPart_6 = v81;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_57;
	return branch_Token_58;
}
static uint64_t mw_mirth_external_elabZ_externalZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7;
	uint64_t v8 = mw_mirth_external_parseZ_externalZ_decl(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7);
	PTUP v9 = PTRMK(0LL /* Nil */,0,0);
	PTUP v10;
	mw_std_list_List_1_buildZBang(v9, &v10);
	bool v11 = true;
	PTUP r12 = v5;
	PTUP r13 = v10;
	PTUP v14 = v6;
	bool v15 = v11;
	bool v16 = v11;
	while (v16) {
		PTUP r17 = r12;
		PTUP r18 = r13;
		PTUP v19 = v14;
		bool v20 = v15;
		PTUP branch_ZPlusMirth_21;
		PTUP branch_ZPlusLister_22;
		PTUP branch_List_23;
		bool branch_Bool_24;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Cons
				PTUP v25;
				VAL v26 = mtp_std_list_List_1_Cons(v19, &v25);
				PTUP v27;
				PTUP v28 = mw_mirth_external_elabZ_externalZ_blockZ_partZBang(r17, VTUP(v26), &v27);
				PTUP v29;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v28), r18, &v29);
				bool v30 = true;
				branch_Bool_24 = v30;
				branch_List_23 = v25;
				branch_ZPlusLister_22 = v29;
				branch_ZPlusMirth_21 = v27;
			} break;
			case 0LL: { // Nil
				PTUP v31 = PTRMK(0LL /* Nil */,0,0);
				bool v32 = false;
				branch_Bool_24 = v32;
				branch_List_23 = v31;
				branch_ZPlusLister_22 = r18;
				branch_ZPlusMirth_21 = r17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_24;
		v15 = branch_Bool_24;
		v14 = branch_List_23;
		r13 = branch_ZPlusLister_22;
		r12 = branch_ZPlusMirth_21;
	}
	decref(MKTUP(v14));
	PTUP v33 = mw_std_list_ZPlusLister_1_doneZBang(r13);
	PTUP v34;
	uint64_t v35 = mw_mirth_external_ExternalBlock_MakeZBang(r12, v7, in_Token_2, v33, &v34);
	*out_ZPlusMirth_3 = v34;
	return v8;
}
static PTUP mw_mirth_external_elabZ_externalZ_blockZ_partZBang (PTUP in_ZPlusMirth_1, PTUP in_ExternalDeclPart_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_ExternalBlockPart_6;
	switch (PTREXTRA(in_ExternalDeclPart_2)) {
		case 0LL: { // EDPCode
			uint64_t v7;
			STR* v8;
			mtp_mirth_external_ExternalDeclPart_EDPCode(in_ExternalDeclPart_2, &v7, &v8);
			PTUP v9 = mtw_mirth_external_ExternalBlockPart_EBPCode(v8);
			branch_ExternalBlockPart_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // EDPDef
			PTUP v10;
			uint64_t v11;
			PTUP v12;
			uint64_t v13;
			mtp_mirth_external_ExternalDeclPart_EDPDef(in_ExternalDeclPart_2, &v10, &v11, &v12, &v13);
			PTUP v14;
			uint64_t v15 = mw_mirth_external_elabZ_externalZ_defZBang(in_ZPlusMirth_1, v10, v11, v12, v13, &v14);
			PTUP v16 = mtw_mirth_external_ExternalBlockPart_EBPDef(v15);
			branch_ExternalBlockPart_6 = v16;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_ExternalBlockPart_6;
}
static uint64_t mw_mirth_external_elabZ_externalZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, PTUP in_Maybe_4, uint64_t in_Token_5, PTUP *out_ZPlusMirth_6) {
	PTUP v8;
	uint64_t v9;
	uint64_t v10;
	INT v11;
	PTUP v12;
	mw_mirth_elab_elabZ_defZ_head(in_ZPlusMirth_1, in_Token_3, &v8, &v9, &v10, &v11, &v12);
	PTUP branch_ZPlusMirth_13;
	PTUP branch_Maybe_14;
	switch (PTREXTRA(in_Maybe_4)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(in_Maybe_4);
			PTUP v16;
			PTUP v17 = mw_mirth_token_Token_nameZAsk(v8, value_u64(v15), &v16);
			branch_Maybe_14 = v17;
			branch_ZPlusMirth_13 = v16;
		} break;
		case 0LL: { // None
			PTUP v18 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_14 = v18;
			branch_ZPlusMirth_13 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_z_x1_19;
	VAL branch_z_x1_20;
	switch (PTREXTRA(branch_Maybe_14)) {
		case 1LL: { // Some
			VAL v21 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_14);
			branch_z_x1_20 = v21;
			branch_z_x1_19 = MKU64(v10);
		} break;
		case 0LL: { // None
			incref(MKU64(v10));
			branch_z_x1_20 = MKU64(v10);
			branch_z_x1_19 = MKU64(v10);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v22;
	STR* v23 = mw_mirth_name_Name_ZToStr(branch_ZPlusMirth_13, value_u64(branch_z_x1_20), &v22);
	INT v24 = v11;
	PTUP v25;
	uint64_t v26 = mw_mirth_external_External_MakeZBang(v22, in_Maybe_2, value_u64(branch_z_x1_19), v24, v23, v9, in_Token_5, &v25);
	PTUP v27 = mtw_mirth_mirth_PropLabel_ExternalQName(v26);
	PTUP v28 = mtw_mirth_mirth_Prop_1_Prop(v27, v12);
	void* v29 = field_mut(&mfld_mirth_external_External_ZTildeqname, v26);
	mut_set(MKTUP(v28), v29);
	PTUP v30 = mtw_mirth_mirth_PropLabel_ExternalType(v26);
	PTUP v31 = VTUP(((TUP*)PTRPTR(v25))->cells[6]);
	incref(MKTUP(v31));
	FNPTR v32 = &mb_mirth_mirth_PropLabel_prop_1_sp47_0;
	PTUP v33 = mtw_mirth_mirth_PropState_1_Delay(v31, MKU64(v26), MKFNPTR(v32));
	PTUP v34 = mtw_mirth_mirth_Prop_1_Prop(v30, v33);
	void* v35 = field_mut(&mfld_mirth_external_External_ZTildectxZ_type, v26);
	mut_set(MKTUP(v34), v35);
	PTUP v36 = mtw_mirth_mirth_PropLabel_ExternalCType(v26);
	PTUP v37 = VTUP(((TUP*)PTRPTR(v25))->cells[6]);
	incref(MKTUP(v37));
	FNPTR v38 = &mb_mirth_mirth_PropLabel_prop_1_sp48_0;
	PTUP v39 = mtw_mirth_mirth_PropState_1_Delay(v37, MKU64(v26), MKFNPTR(v38));
	PTUP v40 = mtw_mirth_mirth_Prop_1_Prop(v36, v39);
	void* v41 = field_mut(&mfld_mirth_external_External_ZTildectype, v26);
	mut_set(MKTUP(v40), v41);
	PTUP v42 = mtw_mirth_def_Def_External(v26);
	PTUP v43;
	mw_mirth_def_Def_register(v25, v42, &v43);
	*out_ZPlusMirth_6 = v43;
	return v26;
}
static PTUP mw_mirth_external_elabZ_externalZ_ctype (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_external_External_head(in_ZPlusMirth_1, in_External_2, &v5);
	PTUP v7 = VTUP(((TUP*)PTRPTR(v5))->cells[6]);
	incref(MKTUP(v7));
	incref(MKTUP(v7));
	PTUP v8 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
	incref(MKTUP(v8));
	decref(MKTUP(v7));
	PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKU64(v6));
	VAL v10 = tup_replace(MKTUP(v7), 0, MKTUP(v9));
	PTUP v11 = VTUP(((TUP*)PTRPTR(v5))->cells[6]);
	decref(MKTUP(v11));
	((TUP*)PTRPTR(v5))->cells[6] = MKTUP(VTUP(v10));
	PTUP v12;
	PTUP v13 = mw_mirth_external_External_type(v5, in_External_2, &v12);
	PTUP v14;
	PTUP v15 = mw_mirth_type_ArrowType_ctype(v12, v13, &v14);
	incref(MKTUP(v15));
	PTUP v16 = VTUP(((TUP*)PTRPTR(v15))->cells[1]);
	incref(MKTUP(v16));
	decref(MKTUP(v15));
	PTUP v17 = VTUP(((TUP*)PTRPTR(v16))->cells[1]);
	incref(MKTUP(v17));
	decref(MKTUP(v16));
	PTUP v18 = PTRMK(0LL /* Nil */,0,0);
	PTUP v19;
	mw_std_list_List_1_buildZBang(v18, &v19);
	bool v20 = true;
	PTUP r21 = v19;
	PTUP v22 = v17;
	bool v23 = v20;
	bool v24 = v20;
	while (v24) {
		PTUP r25 = r21;
		PTUP v26 = v22;
		bool v27 = v23;
		PTUP branch_ZPlusLister_28;
		PTUP branch_List_29;
		bool branch_Bool_30;
		switch (PTREXTRA(v26)) {
			case 1LL: { // Cons
				PTUP v31;
				VAL v32 = mtp_std_list_List_1_Cons(v26, &v31);
				incref(MKTUP(VTUP(v32)));
				incref(MKTUP(VTUP(v32)));
				PTUP v33 = mw_mirth_type_CTypeStackPart_labelZAsk(VTUP(v32));
				int64_t v34 = PTREXTRA(v33);
				decref(MKTUP(v33));
				INT v35 = WRAP_I63(0LL);
				INT v36 = v35;
				INT v37 = i64_to_int(v34);
				bool v38 = int_eq(v37, v36);
				bool branch_Bool_39;
				if (v38) {
					PTUP v40 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v32));
					bool v41 = mw_mirth_type_CType_phantomZAsk(v40);
					bool v42 = !v41;
					branch_Bool_39 = v42;
				} else {
					decref(MKTUP(VTUP(v32)));
					bool v43 = false;
					branch_Bool_39 = v43;
				}
				PTUP branch_ZPlusLister_44;
				if (branch_Bool_39) {
					PTUP v45;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(VTUP(v32)), r25, &v45);
					branch_ZPlusLister_44 = v45;
				} else {
					decref(MKTUP(VTUP(v32)));
					branch_ZPlusLister_44 = r25;
				}
				bool v46 = true;
				branch_Bool_30 = v46;
				branch_List_29 = v31;
				branch_ZPlusLister_28 = branch_ZPlusLister_44;
			} break;
			case 0LL: { // Nil
				PTUP v47 = PTRMK(0LL /* Nil */,0,0);
				bool v48 = false;
				branch_Bool_30 = v48;
				branch_List_29 = v47;
				branch_ZPlusLister_28 = r25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_30;
		v23 = branch_Bool_30;
		v22 = branch_List_29;
		r21 = branch_ZPlusLister_28;
	}
	decref(MKTUP(v22));
	PTUP v49 = mw_std_list_ZPlusLister_1_doneZBang(r21);
	INT v50 = mw_std_list_List_1_len(v49);
	INT v51 = WRAP_I63(1LL);
	INT v52 = v50;
	INT v53 = v51;
	bool v54 = int_lt(v53, v52);
	PTUP branch_ZPlusMirth_55;
	if (v54) {
		STR* v56;
		STRLIT(v56, "External has too many outputs.", 30);
		PTUP v57;
		mw_mirth_mirth_ZPlusMirth_errorZBang(v14, v56, &v57);
		branch_ZPlusMirth_55 = v57;
	} else {
		branch_ZPlusMirth_55 = v14;
	}
	incref(MKTUP(v15));
	PTUP v58 = VTUP(((TUP*)PTRPTR(v15))->cells[0]);
	incref(MKTUP(v58));
	decref(MKTUP(v15));
	PTUP v59 = VTUP(((TUP*)PTRPTR(v58))->cells[1]);
	incref(MKTUP(v59));
	decref(MKTUP(v58));
	PTUP v60 = mw_std_list_List_1_filterZ_some_1_sp6(v59);
	incref(MKTUP(v15));
	PTUP v61 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(v15))))->cells[1]);
	incref(MKTUP(v61));
	decref(MKTUP(VTUP(MKTUP(v15))));
	PTUP v62 = VTUP(((TUP*)PTRPTR(v61))->cells[1]);
	incref(MKTUP(v62));
	decref(MKTUP(v61));
	PTUP v63 = mw_std_list_List_1_filterZ_some_1_sp6(v62);
	PTUP v64 = PTRMK(0LL /* Nil */,0,0);
	PTUP v65;
	mw_std_list_List_1_buildZBang(v64, &v65);
	bool v66 = true;
	PTUP v67 = VTUP(MKTUP(v60));
	PTUP r68 = v65;
	PTUP v69 = v63;
	bool v70 = v66;
	bool v71 = v66;
	while (v71) {
		PTUP v72 = v67;
		PTUP r73 = r68;
		PTUP v74 = v69;
		bool v75 = v70;
		PTUP branch_List_76;
		PTUP branch_ZPlusLister_77;
		PTUP branch_List_78;
		bool branch_Bool_79;
		switch (PTREXTRA(v74)) {
			case 1LL: { // Cons
				PTUP v80;
				VAL v81 = mtp_std_list_List_1_Cons(v74, &v80);
				incref(MKTUP(v72));
				PTUP v82 = PTRMK(0LL /* None */,0,0);
				bool v83 = true;
				uint64_t v84 = value_u64(MKU64(value_u64(v81)));
				PTUP v85 = v82;
				PTUP v86 = VTUP(MKTUP(v72));
				bool v87 = v83;
				bool v88 = v83;
				while (v88) {
					uint64_t v89 = v84;
					PTUP v90 = v85;
					PTUP v91 = v86;
					bool v92 = v87;
					PTUP v93;
					PTUP v94 = mw_std_list_List_1_uncons(v91, &v93);
					uint64_t branch_Label_95;
					PTUP branch_Maybe_96;
					PTUP branch_List_97;
					bool branch_Bool_98;
					switch (PTREXTRA(v94)) {
						case 1LL: { // Some
							VAL v99 = mtp_std_maybe_Maybe_1_Some(v94);
							incref(MKU64(v89));
							bool v100 = (value_u64(MKU64(value_u64(v99))) == value_u64(MKU64(v89)));
							uint64_t branch_Label_101;
							PTUP branch_Maybe_102;
							if (v100) {
								PTUP v103 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v99)));
								branch_Maybe_102 = v103;
								branch_Label_101 = value_u64(MKU64(v89));
							} else {
								PTUP v104 = PTRMK(0LL /* None */,0,0);
								branch_Maybe_102 = v104;
								branch_Label_101 = value_u64(MKU64(v89));
							}
							uint64_t branch_Label_105;
							PTUP branch_Maybe_106;
							PTUP branch_List_107;
							switch (PTREXTRA(branch_Maybe_102)) {
								case 0LL: { // None
									branch_List_107 = VTUP(MKTUP(v93));
									branch_Maybe_106 = VTUP(MKTUP(v90));
									branch_Label_105 = branch_Label_101;
								} break;
								default: {
									decref(MKTUP(VTUP(MKTUP(v93))));
									decref(MKTUP(VTUP(MKTUP(v90))));
									PTUP v108 = PTRMK(0LL /* Nil */,0,0);
									branch_List_107 = v108;
									branch_Maybe_106 = branch_Maybe_102;
									branch_Label_105 = branch_Label_101;
								} break;
							}
							bool v109 = true;
							branch_Bool_98 = v109;
							branch_List_97 = branch_List_107;
							branch_Maybe_96 = branch_Maybe_106;
							branch_Label_95 = branch_Label_105;
						} break;
						case 0LL: { // None
							bool v110 = false;
							branch_Bool_98 = v110;
							branch_List_97 = v93;
							branch_Maybe_96 = v90;
							branch_Label_95 = v89;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v88 = branch_Bool_98;
					v87 = branch_Bool_98;
					v86 = branch_List_97;
					v85 = branch_Maybe_96;
					v84 = branch_Label_95;
				}
				decref(MKTUP(v86));
				decref(MKU64(v84));
				int64_t v111 = PTREXTRA(VTUP(MKTUP(v85)));
				decref(MKTUP(VTUP(MKTUP(v85))));
				INT v112 = WRAP_I63(0LL);
				INT v113 = v112;
				INT v114 = i64_to_int(v111);
				bool v115 = int_eq(v114, v113);
				bool v116 = !v115;
				bool v117 = !v116;
				PTUP branch_List_118;
				PTUP branch_ZPlusLister_119;
				if (v117) {
					PTUP v120;
					mw_std_list_ZPlusLister_1_pushZBang(MKU64(value_u64(v81)), r73, &v120);
					branch_ZPlusLister_119 = v120;
					branch_List_118 = VTUP(MKTUP(v72));
				} else {
					branch_ZPlusLister_119 = r73;
					branch_List_118 = VTUP(MKTUP(v72));
				}
				bool v121 = true;
				branch_Bool_79 = v121;
				branch_List_78 = v80;
				branch_ZPlusLister_77 = branch_ZPlusLister_119;
				branch_List_76 = branch_List_118;
			} break;
			case 0LL: { // Nil
				PTUP v122 = PTRMK(0LL /* Nil */,0,0);
				bool v123 = false;
				branch_Bool_79 = v123;
				branch_List_78 = v122;
				branch_ZPlusLister_77 = r73;
				branch_List_76 = v72;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v71 = branch_Bool_79;
		v70 = branch_Bool_79;
		v69 = branch_List_78;
		r68 = branch_ZPlusLister_77;
		v67 = branch_List_76;
	}
	decref(MKTUP(v69));
	PTUP v124 = mw_std_list_ZPlusLister_1_doneZBang(r68);
	decref(MKTUP(v67));
	bool v125 = true;
	PTUP r126 = branch_ZPlusMirth_55;
	PTUP v127 = VTUP(MKTUP(v124));
	bool v128 = v125;
	bool v129 = v125;
	while (v129) {
		PTUP r130 = r126;
		PTUP v131 = v127;
		bool v132 = v128;
		PTUP branch_ZPlusMirth_133;
		PTUP branch_List_134;
		bool branch_Bool_135;
		switch (PTREXTRA(v131)) {
			case 1LL: { // Cons
				PTUP v136;
				VAL v137 = mtp_std_list_List_1_Cons(v131, &v136);
				STR* v138;
				STRLIT(v138, "", 0);
				STR* v139;
				STRLIT(v139, "Output label ", 13);
				STR* v140;
				mw_std_str_ZPlusStr_pushZ_strZBang(v139, v138, &v140);
				PTUP v141;
				STR* v142;
				mw_mirth_label_Label_nameZThen(r130, v140, value_u64(v137), &v141, &v142);
				STR* v143;
				STRLIT(v143, " not present in input.", 22);
				STR* v144;
				mw_std_str_ZPlusStr_pushZ_strZBang(v143, v142, &v144);
				PTUP v145;
				mw_mirth_mirth_ZPlusMirth_errorZBang(v141, v144, &v145);
				bool v146 = true;
				branch_Bool_135 = v146;
				branch_List_134 = v136;
				branch_ZPlusMirth_133 = v145;
			} break;
			case 0LL: { // Nil
				PTUP v147 = PTRMK(0LL /* Nil */,0,0);
				bool v148 = false;
				branch_Bool_135 = v148;
				branch_List_134 = v147;
				branch_ZPlusMirth_133 = r130;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v129 = branch_Bool_135;
		v128 = branch_Bool_135;
		v127 = branch_List_134;
		r126 = branch_ZPlusMirth_133;
	}
	decref(MKTUP(v127));
	PTUP v149 = VTUP(((TUP*)PTRPTR(r126))->cells[6]);
	incref(MKTUP(v149));
	VAL v150 = tup_replace(MKTUP(v149), 0, MKTUP(v8));
	PTUP v151 = VTUP(((TUP*)PTRPTR(r126))->cells[6]);
	decref(MKTUP(v151));
	((TUP*)PTRPTR(r126))->cells[6] = MKTUP(VTUP(v150));
	*out_ZPlusMirth_3 = r126;
	return VTUP(MKTUP(v15));
}
static uint64_t mw_mirth_word_Word_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_word_Word_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_word_Word_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_word_Word_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Name_3, INT in_Nat_4, uint64_t in_Token_5, uint64_t in_Token_6, PTUP in_Maybe_7, PTUP *out_ZPlusMirth_8) {
	PTUP v10;
	uint64_t v11 = mw_mirth_word_Word_AllocZBang(in_ZPlusMirth_1, &v10);
	void* v12 = field_mut(&mfld_mirth_word_Word_doc, v11);
	mut_set(MKTUP(in_Maybe_2), v12);
	void* v13 = field_mut(&mfld_mirth_word_Word_name, v11);
	mut_set(MKU64(in_Name_3), v13);
	void* v14 = field_mut(&mfld_mirth_word_Word_arity, v11);
	mut_set(MKNAT(in_Nat_4), v14);
	void* v15 = field_mut(&mfld_mirth_word_Word_head, v11);
	mut_set(MKU64(in_Token_5), v15);
	void* v16 = field_mut(&mfld_mirth_word_Word_body, v11);
	mut_set(MKU64(in_Token_6), v16);
	void* v17 = field_mut(&mfld_mirth_word_Word_sigZAsk, v11);
	mut_set(MKTUP(in_Maybe_7), v17);
	*out_ZPlusMirth_8 = v10;
	return v11;
}
static PTUP mw_mirth_word_Word_doc (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_doc, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static uint64_t mw_mirth_word_Word_name (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_name, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_word_Word_arity (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_arity, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_nat(v6);
}
static uint64_t mw_mirth_word_Word_head (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_head, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_word_Word_body (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_body, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_word_Word_sigZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_sigZAsk, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static bool mw_mirth_word_Word_preferZ_inlineZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_preferZ_inlineZAsk, in_Word_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Bool_8 = value_bool(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		bool v10 = false;
		mut_set(MKBOOL(v10), v5);
		branch_Bool_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static void mw_mirth_word_Word_preferZ_inlineZAskZBang (PTUP in_ZPlusMirth_1, bool in_Bool_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_word_Word_preferZ_inlineZAsk, in_Word_3);
	mut_set(MKBOOL(in_Bool_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static bool mw_mirth_word_Word_inferringZ_typeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_inferringZ_typeZAsk, in_Word_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Bool_8 = value_bool(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		bool v10 = false;
		mut_set(MKBOOL(v10), v5);
		branch_Bool_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static void mw_mirth_word_Word_inferringZ_typeZAskZBang (PTUP in_ZPlusMirth_1, bool in_Bool_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_word_Word_inferringZ_typeZAsk, in_Word_3);
	mut_set(MKBOOL(in_Bool_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static INT mw_mirth_word_Word_wordZ_homeZ_index (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_wordZ_homeZ_index, in_Word_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	INT branch_Int_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Int_8 = value_int(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		INT v10 = WRAP_I63(0LL);
		incref(MKINT(v10));
		mut_set(MKINT(v10), v5);
		branch_Int_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Int_8;
}
static void mw_mirth_word_Word_wordZ_homeZ_indexZBang (PTUP in_ZPlusMirth_1, INT in_Int_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_word_Word_wordZ_homeZ_index, in_Word_3);
	mut_set(MKINT(in_Int_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static STR* mw_mirth_word_Word_cname (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_cname, in_Word_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	STR* branch_Str_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Str_8 = value_str(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, in_Word_2, &v10);
		PTUP v12;
		STR* v13 = mw_mirth_name_QName_mangled(v10, v11, &v12);
		STR* v14;
		STRLIT(v14, "", 0);
		STR* v15;
		STRLIT(v15, "mw_", 3);
		STR* v16;
		mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
		STR* v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(v13, v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_8 = v17;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_8;
}
static PTUP mw_mirth_word_Word_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildeqname, in_Word_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static PTUP mw_mirth_word_Word_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildeqname, in_Word_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_word_Word_namespaceZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, in_Word_2, &v5);
	PTUP v7 = VTUP(((TUP*)PTRPTR(v6))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(v6));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_word_Word_params (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildeparams, in_Word_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	if (v6) {
		PTUP v9;
		VAL v10 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v9);
		branch_List_8 = VTUP(v10);
		branch_ZPlusMirth_7 = v9;
	} else {
		PTUP v11 = PTRMK(0LL /* Nil */,0,0);
		branch_List_8 = v11;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static PTUP mw_mirth_word_Word_arrow (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildearrow, in_Word_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static uint64_t mw_mirth_word_Word_NewZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, uint64_t in_Token_4, uint64_t in_Name_5, INT in_Nat_6, PTUP in_Maybe_7, PTUP *out_ZPlusMirth_8) {
	PTUP v10;
	uint64_t v11 = mw_mirth_word_Word_MakeZBang(in_ZPlusMirth_1, in_Maybe_7, in_Name_5, in_Nat_6, in_Token_2, in_Token_4, in_Maybe_3, &v10);
	PTUP v12 = mtw_mirth_def_Def_Word(v11);
	PTUP v13;
	mw_mirth_def_Def_register(v10, v12, &v13);
	*out_ZPlusMirth_8 = v13;
	return v11;
}
static PTUP mw_mirth_word_Word_ctxZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	void* v6 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, in_Word_2);
	PTUP v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = ((TUP*)PTRPTR(value_tup(v8)))->cells[0];
	VAL v10 = ((TUP*)PTRPTR(value_tup(v8)))->cells[1];
	tup_decref_outer(value_tup(v8));
	*out_ArrowType_5 = VTUP(v10);
	*out_ZPlusMirth_3 = v7;
	return VTUP(v9);
}
static PTUP mw_mirth_word_Word_type (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7 = mw_mirth_word_Word_ctxZ_type(in_ZPlusMirth_1, in_Word_2, &v5, &v6);
	decref(MKTUP(v7));
	*out_ZPlusMirth_3 = v5;
	return VTUP(MKTUP(v6));
}
static void mw_mirth_word_Word_makeZ_inlineZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	bool v4 = true;
	PTUP v5;
	mw_mirth_word_Word_preferZ_inlineZAskZBang(in_ZPlusMirth_1, v4, in_Word_2, &v5);
	*out_ZPlusMirth_3 = v5;
}
static INT mw_mirth_word_Word_incrementZ_wordZ_homeZ_indexZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	INT v6 = mw_mirth_word_Word_wordZ_homeZ_index(in_ZPlusMirth_1, in_Word_2, &v5);
	incref(MKINT(v6));
	INT v7 = WRAP_I63(1LL);
	INT v8 = v7;
	INT v9 = int_add(v6, v8);
	PTUP v10;
	mw_mirth_word_Word_wordZ_homeZ_indexZBang(v5, v9, in_Word_2, &v10);
	*out_ZPlusMirth_3 = v10;
	return v6;
}
static uint64_t mw_mirth_typedef_TypeDef_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_typedef_TypeDef_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_typedef_TypeDef_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_typedef_TypeDef_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP in_Maybe_3, uint64_t in_Name_4, PTUP *out_ZPlusMirth_5) {
	PTUP v7;
	uint64_t v8 = mw_mirth_typedef_TypeDef_AllocZBang(in_ZPlusMirth_1, &v7);
	void* v9 = field_mut(&mfld_mirth_typedef_TypeDef_doc, v8);
	mut_set(MKTUP(in_Maybe_2), v9);
	void* v10 = field_mut(&mfld_mirth_typedef_TypeDef_headZAsk, v8);
	mut_set(MKTUP(in_Maybe_3), v10);
	void* v11 = field_mut(&mfld_mirth_typedef_TypeDef_name, v8);
	mut_set(MKU64(in_Name_4), v11);
	*out_ZPlusMirth_5 = v7;
	return v8;
}
static PTUP mw_mirth_typedef_TypeDef_headZAsk (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_headZAsk, in_TypeDef_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static uint64_t mw_mirth_typedef_TypeDef_name (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_name, in_TypeDef_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_typedef_TypeDef_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeqname, in_TypeDef_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static PTUP mw_mirth_typedef_TypeDef_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeqname, in_TypeDef_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_typedef_TypeDef_namespace (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_typedef_TypeDef_qnameZ_hard(in_ZPlusMirth_1, in_TypeDef_2, &v5);
	PTUP v7 = VTUP(((TUP*)PTRPTR(v6))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(v6));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_typedef_TypeDef_target (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildetarget, in_TypeDef_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_typedef_TypeDef_params (PTUP in_ZPlusMirth_1, uint64_t in_TypeDef_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeparams, in_TypeDef_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static uint64_t mw_mirth_typedef_TypeDef_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP in_Maybe_3, uint64_t in_Name_4, PTUP in_PropState_5, PTUP *out_ZPlusMirth_6) {
	PTUP v8;
	uint64_t v9 = mw_mirth_typedef_TypeDef_MakeZBang(in_ZPlusMirth_1, in_Maybe_2, in_Maybe_3, in_Name_4, &v8);
	PTUP v10 = mtw_mirth_mirth_PropLabel_TypeDefQName(v9);
	PTUP v11 = mtw_mirth_mirth_Prop_1_Prop(v10, in_PropState_5);
	incref(MKU64(v9));
	void* v12 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeqname, value_u64(MKU64(v9)));
	mut_set(MKTUP(v11), v12);
	PTUP v13 = mtw_mirth_def_Def_Type(value_u64(MKU64(v9)));
	PTUP v14;
	mw_mirth_def_Def_register(v8, v13, &v14);
	*out_ZPlusMirth_6 = v14;
	return value_u64(MKU64(v9));
}
static void mw_mirth_mirth_ZPlusMirth_defZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP in_Type_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5) {
	PTUP v6 = PTRMK(0LL /* None */,0,0);
	PTUP v7 = PTRMK(0LL /* None */,0,0);
	incref(MKTUP(in_QName_2));
	uint64_t v8 = value_u64(((TUP*)PTRPTR(in_QName_2))->cells[1]);
	decref(MKTUP(in_QName_2));
	PTUP v9 = mtw_mirth_mirth_PropState_1_Ready(MKTUP(in_QName_2));
	PTUP v10;
	uint64_t v11 = mw_mirth_typedef_TypeDef_NewZBang(in_ZPlusMirth_1, v7, v6, v8, v9, &v10);
	PTUP v12 = mtw_mirth_mirth_PropLabel_TypeDefTarget(v11);
	PTUP v13;
	PTUP v14 = mw_mirth_mirth_PropLabel_prop(v10, MKTUP(in_Type_3), v12, &v13);
	void* v15 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildetarget, v11);
	mut_set(MKTUP(v14), v15);
	PTUP v16 = mtw_mirth_mirth_PropLabel_TypeDefParams(v11);
	PTUP v17;
	PTUP v18 = mw_mirth_mirth_PropLabel_prop(v13, MKTUP(in_List_4), v16, &v17);
	void* v19 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeparams, v11);
	mut_set(MKTUP(v18), v19);
	*out_ZPlusMirth_5 = v17;
}
static uint64_t mw_mirth_typedef_parseZ_defZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, PTUP *out_List_6, uint64_t *out_Token_7, PTUP *out_Maybe_8) {
	PTUP v9;
	PTUP v10 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v9);
	PTUP v11;
	INT v12 = mw_mirth_token_Token_numZ_args(v9, in_Token_2, &v11);
	INT v13 = WRAP_I63(0LL);
	INT v14 = v12;
	INT v15 = v13;
	bool v16 = int_lt(v15, v14);
	PTUP branch_Maybe_17;
	uint64_t branch_Token_18;
	PTUP branch_List_19;
	uint64_t branch_Token_20;
	uint64_t branch_Token_21;
	PTUP branch_ZPlusMirth_22;
	if (v16) {
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_next(v11, in_Token_2, &v23);
		PTUP v25;
		uint64_t v26;
		uint64_t v27 = mw_mirth_token_Token_argsZ_2(v23, in_Token_2, &v25, &v26);
		PTUP v28;
		PTUP v29 = mw_mirth_token_Token_args(v25, v27, &v28);
		PTUP v30;
		PTUP v31 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v28, v27, &v30);
		PTUP v32;
		uint64_t v33;
		mw_std_maybe_Maybe_1_else_1_sp17(v30, v27, v31, &v32, &v33);
		PTUP v34;
		uint64_t v35 = mw_mirth_token_Token_next(v32, v33, &v34);
		PTUP v36;
		bool v37 = mw_mirth_token_Token_argZ_endZAsk(v34, v35, &v36);
		PTUP branch_ZPlusMirth_38;
		uint64_t branch_Token_39;
		if (v37) {
			branch_Token_39 = v33;
			branch_ZPlusMirth_38 = v36;
		} else {
			PTUP v40;
			uint64_t v41 = mw_mirth_token_Token_next(v36, v33, &v40);
			STR* v42;
			STRLIT(v42, "expected comma", 14);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v40, v41, v42);
		}
		PTUP v44;
		uint64_t v45 = mw_mirth_token_Token_next(branch_ZPlusMirth_38, v26, &v44);
		PTUP v46;
		bool v47 = mw_mirth_token_Token_argZ_endZAsk(v44, v45, &v46);
		PTUP branch_ZPlusMirth_48;
		uint64_t branch_Token_49;
		if (v47) {
			branch_Token_49 = v26;
			branch_ZPlusMirth_48 = v46;
		} else {
			PTUP v50;
			uint64_t v51 = mw_mirth_token_Token_next(v46, v26, &v50);
			STR* v52;
			STRLIT(v52, "expected end of args", 20);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v50, v51, v52);
		}
		branch_ZPlusMirth_22 = branch_ZPlusMirth_48;
		branch_Token_21 = branch_Token_49;
		branch_Token_20 = branch_Token_39;
		branch_List_19 = v29;
		branch_Token_18 = v24;
		branch_Maybe_17 = v10;
	} else {
		PTUP v54;
		uint64_t v55 = mw_mirth_token_Token_succ(v11, in_Token_2, &v54);
		PTUP v56;
		uint64_t v57 = mw_mirth_token_Token_next(v54, v55, &v56);
		PTUP v58;
		uint64_t v59 = mw_mirth_token_Token_next(v56, v57, &v58);
		PTUP v60;
		PTUP v61 = mw_mirth_token_Token_args(v58, v55, &v60);
		PTUP v62;
		PTUP v63 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v60, v55, &v62);
		PTUP v64;
		uint64_t v65;
		mw_std_maybe_Maybe_1_else_1_sp17(v62, v55, v63, &v64, &v65);
		branch_ZPlusMirth_22 = v64;
		branch_Token_21 = v57;
		branch_Token_20 = v65;
		branch_List_19 = v61;
		branch_Token_18 = v59;
		branch_Maybe_17 = v10;
	}
	*out_Maybe_8 = branch_Maybe_17;
	*out_Token_7 = branch_Token_21;
	*out_List_6 = branch_List_19;
	*out_Token_5 = branch_Token_20;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_22;
	return branch_Token_18;
}
static uint64_t mw_mirth_typedef_elabZ_defZ_typeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6;
	PTUP v7;
	uint64_t v8;
	PTUP v9;
	uint64_t v10 = mw_mirth_typedef_parseZ_defZ_type(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8, &v9);
	PTUP v11;
	uint64_t v12;
	uint64_t v13;
	INT v14;
	PTUP v15;
	mw_mirth_elab_elabZ_defZ_head(v5, v6, &v11, &v12, &v13, &v14, &v15);
	PTUP v16 = mtw_std_maybe_Maybe_1_Some(MKU64(v12));
	decref(MKNAT(v14));
	PTUP v17;
	uint64_t v18 = mw_mirth_typedef_TypeDef_NewZBang(v11, v9, v16, v13, v15, &v17);
	PTUP v19 = mtw_mirth_mirth_PropLabel_TypeDefParams(v18);
	PTUP v20;
	PTUP v21 = mw_mirth_mirth_PropLabel_prop_1_sp15(v7, v17, v19, &v20);
	void* v22 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeparams, v18);
	mut_set(MKTUP(v21), v22);
	PTUP v23 = mtw_mirth_mirth_PropLabel_TypeDefTarget(v18);
	PTUP r24 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r24))->size = 2;
	((TUP*)PTRPTR(r24))->cells[1] = MKU64(v8);
	((TUP*)PTRPTR(r24))->cells[0] = MKU64(v18);
	PTUP v25 = VTUP(((TUP*)PTRPTR(v20))->cells[6]);
	incref(MKTUP(v25));
	FNPTR v26 = &mb_mirth_mirth_PropLabel_prop_1_sp49_0;
	PTUP v27 = mtw_mirth_mirth_PropState_1_Delay(v25, MKTUP(r24), MKFNPTR(v26));
	PTUP v28 = mtw_mirth_mirth_Prop_1_Prop(v23, v27);
	void* v29 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildetarget, v18);
	mut_set(MKTUP(v28), v29);
	*out_ZPlusMirth_3 = v20;
	return v10;
}
static uint64_t mw_mirth_package_Package_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_package_Package_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_package_Package_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_package_Package_MakeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	uint64_t v7 = mw_mirth_package_Package_AllocZBang(in_ZPlusMirth_1, &v6);
	void* v8 = field_mut(&mfld_mirth_package_Package_name, v7);
	mut_set(MKU64(in_Name_2), v8);
	void* v9 = field_mut(&mfld_mirth_package_Package_path, v7);
	mut_set(MKTUP(in_Maybe_3), v9);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static uint64_t mw_mirth_package_Package_name (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_package_Package_name, in_Package_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_package_Package_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Package_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_package_Package_name, in_Package_3);
	mut_set(MKU64(in_Name_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_package_Package_path (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_package_Package_path, in_Package_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static void mw_mirth_package_Package_pathZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Package_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_package_Package_path, in_Package_3);
	mut_set(MKTUP(in_Maybe_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_package_Package_qname (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = PTRMK(0LL /* Root */,0,0);
	PTUP v6;
	uint64_t v7 = mw_mirth_package_Package_name(in_ZPlusMirth_1, in_Package_2, &v6);
	INT v8 = WRAP_I63(0LL);
	PTUP v9 = mw_mirth_name_QName_Mk(v5, v7, v8);
	*out_ZPlusMirth_3 = v6;
	return v9;
}
static void mw_mirth_package_Package_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Package_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	uint64_t v7 = mw_mirth_package_Package_name(in_ZPlusMirth_1, in_Package_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static uint64_t mw_mirth_package_Package_Std (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4;
	PTUP v5 = mw_mirth_mirth_ZPlusMirth_builtin(in_ZPlusMirth_1, &v4);
	uint64_t v6 = value_u64(((TUP*)PTRPTR(v5))->cells[0]);
	decref(MKTUP(v5));
	*out_ZPlusMirth_2 = v4;
	return v6;
}
static PTUP mw_mirth_package_Package_pathZ_orZ_search (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	PTUP v8 = mw_mirth_package_Package_path(in_ZPlusMirth_1, in_Package_2, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_Maybe_10;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			decref(MKU64(in_Package_2));
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(v11);
			branch_Maybe_10 = v12;
			branch_ZPlusMirth_9 = v7;
		} break;
		case 0LL: { // None
			PTUP v13 = VTUP(((TUP*)PTRPTR(v7))->cells[4]);
			incref(MKTUP(v13));
			PTUP v14 = PTRMK(0LL /* Nil */,0,0);
			PTUP v15;
			mw_std_list_List_1_buildZBang(v14, &v15);
			bool v16 = true;
			PTUP r17 = v7;
			uint64_t v18 = in_Package_2;
			PTUP r19 = v15;
			PTUP v20 = v13;
			bool v21 = v16;
			bool v22 = v16;
			while (v22) {
				PTUP r23 = r17;
				uint64_t v24 = v18;
				PTUP r25 = r19;
				PTUP v26 = v20;
				bool v27 = v21;
				uint64_t branch_Package_28;
				PTUP branch_ZPlusMirth_29;
				PTUP branch_ZPlusLister_30;
				PTUP branch_List_31;
				bool branch_Bool_32;
				switch (PTREXTRA(v26)) {
					case 1LL: { // Cons
						PTUP v33;
						VAL v34 = mtp_std_list_List_1_Cons(v26, &v33);
						incref(MKU64(v24));
						PTUP v35;
						uint64_t v36 = mw_mirth_package_Package_name(r23, value_u64(MKU64(v24)), &v35);
						PTUP v37;
						STR* v38 = mw_mirth_name_Name_ZToStr(v35, v36, &v37);
						STR* v39 = mw_std_path_Path_join(value_str(MKSTR(value_str(v34))), v38);
						PTUP v40;
						mw_std_list_ZPlusLister_1_pushZBang(MKSTR(v39), r25, &v40);
						bool v41 = true;
						branch_Bool_32 = v41;
						branch_List_31 = v33;
						branch_ZPlusLister_30 = v40;
						branch_ZPlusMirth_29 = v37;
						branch_Package_28 = value_u64(MKU64(v24));
					} break;
					case 0LL: { // Nil
						PTUP v42 = PTRMK(0LL /* Nil */,0,0);
						bool v43 = false;
						branch_Bool_32 = v43;
						branch_List_31 = v42;
						branch_ZPlusLister_30 = r25;
						branch_ZPlusMirth_29 = r23;
						branch_Package_28 = v24;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v22 = branch_Bool_32;
				v21 = branch_Bool_32;
				v20 = branch_List_31;
				r19 = branch_ZPlusLister_30;
				v18 = branch_Package_28;
				r17 = branch_ZPlusMirth_29;
			}
			decref(MKTUP(v20));
			PTUP v44 = mw_std_list_ZPlusLister_1_doneZBang(r19);
			PTUP v45 = PTRMK(0LL /* None */,0,0);
			bool v46 = true;
			VAL r47 = MKTUP(r17);
			PTUP v48 = v45;
			PTUP v49 = v44;
			bool v50 = v46;
			bool v51 = v46;
			while (v51) {
				VAL r52 = r47;
				PTUP v53 = v48;
				PTUP v54 = v49;
				bool v55 = v50;
				PTUP v56;
				PTUP v57 = mw_std_list_List_1_uncons(v54, &v56);
				VAL branch_z_x1_58;
				PTUP branch_Maybe_59;
				PTUP branch_List_60;
				bool branch_Bool_61;
				switch (PTREXTRA(v57)) {
					case 1LL: { // Some
						VAL v62 = mtp_std_maybe_Maybe_1_Some(v57);
						incref(MKSTR(value_str(v62)));
						bool v63 = mw_std_prim_ZPlusWorld_isZ_directoryZAsk(value_str(v62));
						VAL branch_z_x1_64;
						PTUP branch_Maybe_65;
						if (v63) {
							PTUP v66 = mtw_std_maybe_Maybe_1_Some(MKSTR(value_str(v62)));
							branch_Maybe_65 = v66;
							branch_z_x1_64 = r52;
						} else {
							decref(MKSTR(value_str(v62)));
							PTUP v67 = PTRMK(0LL /* None */,0,0);
							branch_Maybe_65 = v67;
							branch_z_x1_64 = r52;
						}
						VAL branch_z_x1_68;
						PTUP branch_Maybe_69;
						PTUP branch_List_70;
						switch (PTREXTRA(branch_Maybe_65)) {
							case 0LL: { // None
								branch_List_70 = VTUP(MKTUP(v56));
								branch_Maybe_69 = VTUP(MKTUP(v53));
								branch_z_x1_68 = branch_z_x1_64;
							} break;
							default: {
								decref(MKTUP(VTUP(MKTUP(v56))));
								decref(MKTUP(VTUP(MKTUP(v53))));
								PTUP v71 = PTRMK(0LL /* Nil */,0,0);
								branch_List_70 = v71;
								branch_Maybe_69 = branch_Maybe_65;
								branch_z_x1_68 = branch_z_x1_64;
							} break;
						}
						bool v72 = true;
						branch_Bool_61 = v72;
						branch_List_60 = branch_List_70;
						branch_Maybe_59 = branch_Maybe_69;
						branch_z_x1_58 = branch_z_x1_68;
					} break;
					case 0LL: { // None
						bool v73 = false;
						branch_Bool_61 = v73;
						branch_List_60 = v56;
						branch_Maybe_59 = v53;
						branch_z_x1_58 = r52;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v51 = branch_Bool_61;
				v50 = branch_Bool_61;
				v49 = branch_List_60;
				v48 = branch_Maybe_59;
				r47 = branch_z_x1_58;
			}
			decref(MKTUP(v49));
			incref(MKTUP(v48));
			PTUP v74;
			mw_mirth_package_Package_pathZBang(VTUP(r47), VTUP(MKTUP(v48)), value_u64(MKU64(v18)), &v74);
			branch_Maybe_10 = VTUP(MKTUP(v48));
			branch_ZPlusMirth_9 = v74;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Maybe_10;
}
static void mw_mirth_package_Package_tryZ_pathZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Package_3, PTUP *out_ZPlusMirth_4) {
	incref(MKU64(in_Package_3));
	PTUP v5;
	PTUP v6 = mw_mirth_package_Package_path(in_ZPlusMirth_1, value_u64(MKU64(in_Package_3)), &v5);
	PTUP branch_ZPlusMirth_7;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(MKSTR(in_Path_2));
			incref(v8);
			bool v9 = (str_cmp(value_str(MKSTR(value_str(MKSTR(in_Path_2)))), value_str(v8)) == 0);
			PTUP branch_ZPlusMirth_10;
			if (v9) {
				decref(MKSTR(value_str(v8)));
				decref(MKSTR(value_str(MKSTR(in_Path_2))));
				decref(MKU64(value_u64(MKU64(in_Package_3))));
				branch_ZPlusMirth_10 = v5;
			} else {
				STR* v11;
				STRLIT(v11, "", 0);
				STR* v12;
				STRLIT(v12, "Tried to set different path for the same package ", 49);
				STR* v13;
				mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
				STR* v14;
				STRLIT(v14, "(package = ", 11);
				STR* v15;
				mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
				PTUP v16;
				STR* v17;
				mw_mirth_package_Package_nameZThen(v5, v15, value_u64(MKU64(value_u64(MKU64(in_Package_3)))), &v16, &v17);
				STR* v18;
				STRLIT(v18, ", path 1 = ", 11);
				STR* v19;
				mw_std_str_ZPlusStr_pushZ_strZBang(v18, v17, &v19);
				STR* v20;
				mw_std_prim_Str_reprZThen(value_str(MKSTR(value_str(MKSTR(in_Path_2)))), v19, &v20);
				STR* v21;
				STRLIT(v21, ", path 2 = ", 11);
				STR* v22;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v22);
				STR* v23;
				mw_std_prim_Str_reprZThen(value_str(MKSTR(value_str(v8))), v22, &v23);
				STR* v24;
				STRLIT(v24, ").", 2);
				STR* v25;
				mw_std_str_ZPlusStr_pushZ_strZBang(v24, v23, &v25);
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v16, v25);
			}
			branch_ZPlusMirth_7 = branch_ZPlusMirth_10;
		} break;
		case 0LL: { // None
			PTUP v27 = mtw_std_maybe_Maybe_1_Some(MKSTR(in_Path_2));
			PTUP v28;
			mw_mirth_package_Package_pathZBang(v5, v27, value_u64(MKU64(in_Package_3)), &v28);
			branch_ZPlusMirth_7 = v28;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static uint64_t mw_mirth_package_Package_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	uint64_t v7 = mw_mirth_package_Package_MakeZBang(in_ZPlusMirth_1, in_Name_3, in_Maybe_2, &v6);
	PTUP v8 = mtw_mirth_def_Def_Package(v7);
	PTUP v9;
	mw_mirth_def_Def_register(v6, v8, &v9);
	*out_ZPlusMirth_4 = v9;
	return v7;
}
static uint64_t mw_mirth_package_Package_NewZ_OrZ_PathZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_package_Package_FindZAsk(in_ZPlusMirth_1, in_Name_3, &v6);
	uint64_t branch_Package_8;
	PTUP branch_ZPlusMirth_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKU64(in_Name_3));
			incref(v10);
			PTUP v11;
			mw_mirth_package_Package_tryZ_pathZBang(v6, value_str(MKSTR(in_Path_2)), value_u64(v10), &v11);
			branch_ZPlusMirth_9 = v11;
			branch_Package_8 = value_u64(v10);
		} break;
		case 0LL: { // None
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(in_Path_2));
			PTUP v13;
			uint64_t v14 = mw_mirth_package_Package_NewZBang(v6, v12, in_Name_3, &v13);
			branch_ZPlusMirth_9 = v13;
			branch_Package_8 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Package_8;
}
static PTUP mw_mirth_package_Package_FindZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = PTRMK(0LL /* Root */,0,0);
	INT v6 = WRAP_I63(0LL);
	PTUP v7 = mw_mirth_name_QName_Mk(v5, in_Name_2, v6);
	PTUP v8;
	PTUP v9 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, v7, &v8);
	PTUP branch_Maybe_10;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v9);
			PTUP v12 = mw_mirth_def_Def_packageZAsk(VTUP(v11));
			branch_Maybe_10 = v12;
		} break;
		case 0LL: { // None
			PTUP v13 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_10 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = v8;
	return branch_Maybe_10;
}
static uint64_t mw_mirth_package_Package_FindZ_OrZ_NewZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_package_Package_FindZAsk(in_ZPlusMirth_1, in_Name_2, &v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Name_8;
	uint64_t branch_Package_9;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_Package_9 = value_u64(v10);
			branch_Name_8 = in_Name_2;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			PTUP v11 = PTRMK(0LL /* None */,0,0);
			PTUP v12;
			uint64_t v13 = mw_mirth_package_Package_NewZBang(v5, v11, in_Name_2, &v12);
			branch_Package_9 = v13;
			branch_Name_8 = in_Name_2;
			branch_ZPlusMirth_7 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Name_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_u64(MKU64(branch_Package_9));
}
static void mw_mirth_mirth_ZPlusMirth_initZ_packagesZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v3;
	PTUP v4 = mw_mirth_mirth_ZPlusMirth_builtin(in_ZPlusMirth_1, &v3);
	uint64_t v5 = value_u64(((TUP*)PTRPTR(v4))->cells[0]);
	decref(MKTUP(v4));
	STR* v6;
	STRLIT(v6, "std", 3);
	PTUP v7;
	uint64_t v8 = mw_mirth_name_Name_Name(v3, v6, &v7);
	incref(MKU64(v5));
	PTUP v9;
	mw_mirth_package_Package_nameZBang(v7, value_u64(MKU64(v8)), value_u64(MKU64(v5)), &v9);
	PTUP v10 = PTRMK(0LL /* None */,0,0);
	incref(MKU64(v5));
	PTUP v11;
	mw_mirth_package_Package_pathZBang(v9, VTUP(MKTUP(v10)), value_u64(MKU64(v5)), &v11);
	PTUP v12 = mtw_mirth_def_Def_Package(value_u64(MKU64(v5)));
	PTUP v13;
	mw_mirth_def_Def_register(v11, v12, &v13);
	*out_ZPlusMirth_2 = v13;
}
static void mw_mirth_match_Match_thaw (PTUP in_Match_1, PTUP *out_ZPlusMatch_2) {
	PTUP v3;
	uint64_t v4;
	uint64_t v5;
	PTUP v6;
	PTUP v7;
	PTUP v8;
	PTUP v9;
	mtp_mirth_match_Match_Match(in_Match_1, &v3, &v4, &v5, &v6, &v7, &v8, &v9);
	PTUP v10;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v3, v4, v5, v6, v7, v8, v9, &v10);
	*out_ZPlusMatch_2 = v10;
}
static bool mw_mirth_match_Match_isZ_exhaustiveZAsk (PTUP in_ZPlusMirth_1, PTUP in_Match_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_Match_2));
	PTUP v5;
	bool v6 = mw_mirth_match_Match_hasZ_defaultZ_caseZAsk(in_ZPlusMirth_1, in_Match_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Match_8;
	bool branch_Bool_9;
	if (v6) {
		bool v10 = true;
		branch_Bool_9 = v10;
		branch_Match_8 = in_Match_2;
		branch_ZPlusMirth_7 = v5;
	} else {
		incref(MKTUP(in_Match_2));
		PTUP v11;
		PTUP v12 = mw_mirth_match_Match_scrutineeZ_dataZAsk(v5, in_Match_2, &v11);
		PTUP branch_ZPlusMirth_13;
		PTUP branch_Match_14;
		bool branch_Bool_15;
		switch (PTREXTRA(v12)) {
			case 1LL: { // Some
				VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
				PTUP v17;
				INT v18 = mw_mirth_data_Data_numZ_tags(v11, value_u64(v16), &v17);
				incref(MKTUP(in_Match_2));
				PTUP v19 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(in_Match_2))))->cells[6]);
				incref(MKTUP(v19));
				decref(MKTUP(VTUP(MKTUP(in_Match_2))));
				INT v20 = mw_std_list_List_1_len(v19);
				INT v21 = v20;
				INT v22 = value_nat(MKNAT(v18));
				bool v23 = int_eq(v22, v21);
				branch_Bool_15 = v23;
				branch_Match_14 = VTUP(MKTUP(in_Match_2));
				branch_ZPlusMirth_13 = v17;
			} break;
			case 0LL: { // None
				incref(MKTUP(in_Match_2));
				PTUP v24 = VTUP(((TUP*)PTRPTR(in_Match_2))->cells[6]);
				incref(MKTUP(v24));
				decref(MKTUP(in_Match_2));
				INT v25 = mw_std_list_List_1_len(v24);
				INT v26 = WRAP_I63(0LL);
				INT v27 = v25;
				INT v28 = v26;
				bool v29 = int_lt(v28, v27);
				branch_Bool_15 = v29;
				branch_Match_14 = in_Match_2;
				branch_ZPlusMirth_13 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Bool_9 = branch_Bool_15;
		branch_Match_8 = branch_Match_14;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_13;
	}
	decref(MKTUP(branch_Match_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_bool(MKBOOL(branch_Bool_9));
}
static bool mw_mirth_match_Match_hasZ_defaultZ_caseZAsk (PTUP in_ZPlusMirth_1, PTUP in_Match_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Match_2))->cells[6]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Match_2));
	PTUP v6 = PTRMK(0LL /* None */,0,0);
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP v9 = v6;
	PTUP v10 = v5;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP v14 = v9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP v17;
		PTUP v18 = mw_std_list_List_1_uncons(v15, &v17);
		PTUP branch_ZPlusMirth_19;
		PTUP branch_Maybe_20;
		PTUP branch_List_21;
		bool branch_Bool_22;
		switch (PTREXTRA(v18)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v18);
				incref(MKTUP(VTUP(v23)));
				PTUP v24;
				bool v25 = mw_mirth_match_Case_isZ_defaultZ_caseZAsk(r13, VTUP(v23), &v24);
				PTUP branch_ZPlusMirth_26;
				PTUP branch_Maybe_27;
				if (v25) {
					PTUP v28 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v23)));
					branch_Maybe_27 = v28;
					branch_ZPlusMirth_26 = v24;
				} else {
					decref(MKTUP(VTUP(v23)));
					PTUP v29 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_27 = v29;
					branch_ZPlusMirth_26 = v24;
				}
				PTUP branch_ZPlusMirth_30;
				PTUP branch_Maybe_31;
				PTUP branch_List_32;
				switch (PTREXTRA(branch_Maybe_27)) {
					case 0LL: { // None
						branch_List_32 = VTUP(MKTUP(v17));
						branch_Maybe_31 = VTUP(MKTUP(v14));
						branch_ZPlusMirth_30 = branch_ZPlusMirth_26;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v17))));
						decref(MKTUP(VTUP(MKTUP(v14))));
						PTUP v33 = PTRMK(0LL /* Nil */,0,0);
						branch_List_32 = v33;
						branch_Maybe_31 = branch_Maybe_27;
						branch_ZPlusMirth_30 = branch_ZPlusMirth_26;
					} break;
				}
				bool v34 = true;
				branch_Bool_22 = v34;
				branch_List_21 = branch_List_32;
				branch_Maybe_20 = branch_Maybe_31;
				branch_ZPlusMirth_19 = branch_ZPlusMirth_30;
			} break;
			case 0LL: { // None
				bool v35 = false;
				branch_Bool_22 = v35;
				branch_List_21 = v17;
				branch_Maybe_20 = v14;
				branch_ZPlusMirth_19 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_22;
		v11 = branch_Bool_22;
		v10 = branch_List_21;
		v9 = branch_Maybe_20;
		r8 = branch_ZPlusMirth_19;
	}
	decref(MKTUP(v10));
	int64_t v36 = PTREXTRA(v9);
	decref(MKTUP(v9));
	INT v37 = WRAP_I63(0LL);
	INT v38 = v37;
	INT v39 = i64_to_int(v36);
	bool v40 = int_eq(v39, v38);
	bool v41 = !v40;
	*out_ZPlusMirth_3 = r8;
	return v41;
}
static PTUP mw_mirth_match_Match_scrutineeZ_dataZAsk (PTUP in_ZPlusMirth_1, PTUP in_Match_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Match_2))->cells[6]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Match_2));
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	PTUP r9 = in_ZPlusMirth_1;
	PTUP r10 = v7;
	PTUP v11 = v5;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP r15 = r10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP branch_ZPlusMirth_18;
		PTUP branch_ZPlusLister_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Cons
				PTUP v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				incref(MKTUP(VTUP(v23)));
				PTUP v24;
				bool v25 = mw_mirth_match_Case_isZ_defaultZ_caseZAsk(r14, VTUP(v23), &v24);
				bool v26 = !v25;
				PTUP branch_ZPlusMirth_27;
				PTUP branch_ZPlusLister_28;
				if (v26) {
					PTUP v29;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(VTUP(v23)), r15, &v29);
					branch_ZPlusLister_28 = v29;
					branch_ZPlusMirth_27 = v24;
				} else {
					decref(MKTUP(VTUP(v23)));
					branch_ZPlusLister_28 = r15;
					branch_ZPlusMirth_27 = v24;
				}
				bool v30 = true;
				branch_Bool_21 = v30;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = branch_ZPlusLister_28;
				branch_ZPlusMirth_18 = branch_ZPlusMirth_27;
			} break;
			case 0LL: { // Nil
				PTUP v31 = PTRMK(0LL /* Nil */,0,0);
				bool v32 = false;
				branch_Bool_21 = v32;
				branch_List_20 = v31;
				branch_ZPlusLister_19 = r15;
				branch_ZPlusMirth_18 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		r10 = branch_ZPlusLister_19;
		r9 = branch_ZPlusMirth_18;
	}
	decref(MKTUP(v11));
	PTUP v33 = mw_std_list_ZPlusLister_1_doneZBang(r10);
	incref(MKTUP(v33));
	PTUP v34 = mw_std_list_List_1_first(v33);
	PTUP branch_Maybe_35;
	switch (PTREXTRA(v34)) {
		case 1LL: { // Some
			VAL v36 = mtp_std_maybe_Maybe_1_Some(v34);
			PTUP v37 = VTUP(((TUP*)PTRPTR(VTUP(v36)))->cells[0]);
			incref(MKTUP(v37));
			decref(MKTUP(VTUP(v36)));
			PTUP v38 = mw_mirth_match_Pattern_singleZ_tagZAsk(v37);
			branch_Maybe_35 = v38;
		} break;
		case 0LL: { // None
			PTUP v39 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_35 = v39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_40;
	PTUP branch_Maybe_41;
	switch (PTREXTRA(branch_Maybe_35)) {
		case 1LL: { // Some
			VAL v42 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_35);
			PTUP v43;
			uint64_t v44 = mw_mirth_data_Tag_data(r9, value_u64(v42), &v43);
			PTUP v45 = mtw_std_maybe_Maybe_1_Some(MKU64(v44));
			branch_Maybe_41 = v45;
			branch_ZPlusMirth_40 = v43;
		} break;
		case 0LL: { // None
			PTUP v46 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_41 = v46;
			branch_ZPlusMirth_40 = r9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_47;
	PTUP branch_Maybe_48;
	switch (PTREXTRA(branch_Maybe_41)) {
		case 1LL: { // Some
			VAL v49 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_41);
			PTUP v50 = PTRMK(0LL /* None */,0,0);
			bool v51 = true;
			PTUP r52 = branch_ZPlusMirth_40;
			uint64_t v53 = value_u64(v49);
			PTUP v54 = v50;
			PTUP v55 = v33;
			bool v56 = v51;
			bool v57 = v51;
			while (v57) {
				PTUP r58 = r52;
				uint64_t v59 = v53;
				PTUP v60 = v54;
				PTUP v61 = v55;
				bool v62 = v56;
				PTUP v63;
				PTUP v64 = mw_std_list_List_1_uncons(v61, &v63);
				uint64_t branch_Data_65;
				PTUP branch_ZPlusMirth_66;
				PTUP branch_Maybe_67;
				PTUP branch_List_68;
				bool branch_Bool_69;
				switch (PTREXTRA(v64)) {
					case 1LL: { // Some
						VAL v70 = mtp_std_maybe_Maybe_1_Some(v64);
						incref(MKTUP(VTUP(v70)));
						PTUP v71 = VTUP(((TUP*)PTRPTR(VTUP(v70)))->cells[0]);
						incref(MKTUP(v71));
						decref(MKTUP(VTUP(v70)));
						PTUP v72 = mw_mirth_match_Pattern_singleZ_tagZAsk(v71);
						uint64_t branch_Data_73;
						PTUP branch_ZPlusMirth_74;
						bool branch_Bool_75;
						switch (PTREXTRA(v72)) {
							case 1LL: { // Some
								VAL v76 = mtp_std_maybe_Maybe_1_Some(v72);
								PTUP v77;
								uint64_t v78 = mw_mirth_data_Tag_data(r58, value_u64(v76), &v77);
								bool v79 = (v78 == v59);
								branch_Bool_75 = v79;
								branch_ZPlusMirth_74 = v77;
								branch_Data_73 = v59;
							} break;
							case 0LL: { // None
								bool v80 = false;
								branch_Bool_75 = v80;
								branch_ZPlusMirth_74 = r58;
								branch_Data_73 = v59;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						bool v81 = !branch_Bool_75;
						uint64_t branch_Data_82;
						PTUP branch_ZPlusMirth_83;
						PTUP branch_Maybe_84;
						if (v81) {
							PTUP v85 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v70)));
							branch_Maybe_84 = v85;
							branch_ZPlusMirth_83 = branch_ZPlusMirth_74;
							branch_Data_82 = branch_Data_73;
						} else {
							decref(MKTUP(VTUP(v70)));
							PTUP v86 = PTRMK(0LL /* None */,0,0);
							branch_Maybe_84 = v86;
							branch_ZPlusMirth_83 = branch_ZPlusMirth_74;
							branch_Data_82 = branch_Data_73;
						}
						uint64_t branch_Data_87;
						PTUP branch_ZPlusMirth_88;
						PTUP branch_Maybe_89;
						PTUP branch_List_90;
						switch (PTREXTRA(branch_Maybe_84)) {
							case 0LL: { // None
								branch_List_90 = VTUP(MKTUP(v63));
								branch_Maybe_89 = VTUP(MKTUP(v60));
								branch_ZPlusMirth_88 = branch_ZPlusMirth_83;
								branch_Data_87 = branch_Data_82;
							} break;
							default: {
								decref(MKTUP(VTUP(MKTUP(v63))));
								decref(MKTUP(VTUP(MKTUP(v60))));
								PTUP v91 = PTRMK(0LL /* Nil */,0,0);
								branch_List_90 = v91;
								branch_Maybe_89 = branch_Maybe_84;
								branch_ZPlusMirth_88 = branch_ZPlusMirth_83;
								branch_Data_87 = branch_Data_82;
							} break;
						}
						bool v92 = true;
						branch_Bool_69 = v92;
						branch_List_68 = branch_List_90;
						branch_Maybe_67 = branch_Maybe_89;
						branch_ZPlusMirth_66 = branch_ZPlusMirth_88;
						branch_Data_65 = branch_Data_87;
					} break;
					case 0LL: { // None
						bool v93 = false;
						branch_Bool_69 = v93;
						branch_List_68 = v63;
						branch_Maybe_67 = v60;
						branch_ZPlusMirth_66 = r58;
						branch_Data_65 = v59;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v57 = branch_Bool_69;
				v56 = branch_Bool_69;
				v55 = branch_List_68;
				v54 = branch_Maybe_67;
				v53 = branch_Data_65;
				r52 = branch_ZPlusMirth_66;
			}
			decref(MKTUP(v55));
			int64_t v94 = PTREXTRA(v54);
			decref(MKTUP(v54));
			INT v95 = WRAP_I63(0LL);
			INT v96 = v95;
			INT v97 = i64_to_int(v94);
			bool v98 = int_eq(v97, v96);
			PTUP branch_ZPlusMirth_99;
			PTUP branch_Maybe_100;
			if (v98) {
				PTUP v101 = mtw_std_maybe_Maybe_1_Some(MKU64(v53));
				branch_Maybe_100 = v101;
				branch_ZPlusMirth_99 = r52;
			} else {
				PTUP v102 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_100 = v102;
				branch_ZPlusMirth_99 = r52;
			}
			branch_Maybe_48 = branch_Maybe_100;
			branch_ZPlusMirth_47 = branch_ZPlusMirth_99;
		} break;
		case 0LL: { // None
			decref(MKTUP(v33));
			PTUP v103 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_48 = v103;
			branch_ZPlusMirth_47 = branch_ZPlusMirth_40;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_47;
	return branch_Maybe_48;
}
static PTUP mw_mirth_match_Match_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Match_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Match_2))->cells[6]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Match_2));
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	PTUP r9 = in_ZPlusMirth_1;
	PTUP r10 = v7;
	PTUP v11 = v5;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP r15 = r10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP branch_ZPlusMirth_18;
		PTUP branch_ZPlusLister_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Cons
				PTUP v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				PTUP v24;
				PTUP v25 = mw_mirth_match_Case_freeZ_vars(r14, VTUP(v23), &v24);
				PTUP v26;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v25), r15, &v26);
				bool v27 = true;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				PTUP v28 = PTRMK(0LL /* Nil */,0,0);
				bool v29 = false;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusLister_19 = r15;
				branch_ZPlusMirth_18 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		r10 = branch_ZPlusLister_19;
		r9 = branch_ZPlusMirth_18;
	}
	decref(MKTUP(v11));
	PTUP v30 = mw_std_list_ZPlusLister_1_doneZBang(r10);
	PTUP v31 = mw_std_list_List_1_unions_sp1(v30);
	*out_ZPlusMirth_3 = r9;
	return v31;
}
static PTUP mw_mirth_match_ZPlusMatch_freezze (PTUP in_ZPlusMatch_1) {
	PTUP v3;
	uint64_t v4;
	uint64_t v5;
	PTUP v6;
	PTUP v7;
	PTUP v8;
	PTUP v9;
	mtp_mirth_match_ZPlusMatch_ZPlusMatch(in_ZPlusMatch_1, &v3, &v4, &v5, &v6, &v7, &v8, &v9);
	PTUP v10 = mtw_mirth_match_Match_Match(v3, v4, v5, v6, v7, v8, v9);
	return v10;
}
static void mw_mirth_match_ZPlusMatch_addZ_case (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusMatch_5) {
	incref(MKTUP(in_Case_3));
	PTUP v6;
	PTUP v7;
	bool v8 = mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk(in_ZPlusMirth_1, in_ZPlusMatch_2, in_Case_3, &v6, &v7);
	PTUP branch_ZPlusMatch_9;
	PTUP branch_ZPlusMirth_10;
	if (v8) {
		PTUP v11 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
		incref(MKTUP(v11));
		decref(MKTUP(in_Case_3));
		uint64_t v12 = value_u64(((TUP*)PTRPTR(v11))->cells[1]);
		decref(MKTUP(v11));
		STR* v13;
		STRLIT(v13, "Case is unreachable.", 20);
		PTUP v14;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, v12, value_str(MKSTR(v13)), &v14);
		branch_ZPlusMirth_10 = v14;
		branch_ZPlusMatch_9 = v7;
	} else {
		PTUP v15 = VTUP(((TUP*)PTRPTR(v7))->cells[6]);
		incref(MKTUP(v15));
		PTUP v16 = mw_std_list_List_1_Snoc(v15, MKTUP(in_Case_3));
		PTUP v17 = VTUP(((TUP*)PTRPTR(v7))->cells[6]);
		decref(MKTUP(v17));
		((TUP*)PTRPTR(v7))->cells[6] = MKTUP(v16);
		branch_ZPlusMirth_10 = v6;
		branch_ZPlusMatch_9 = v7;
	}
	*out_ZPlusMatch_5 = branch_ZPlusMatch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static bool mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusMatch_5) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusMatch_2))->cells[6]);
	incref(MKTUP(v7));
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	bool v9 = true;
	PTUP r10 = in_ZPlusMirth_1;
	VAL r11 = MKTUP(in_ZPlusMatch_2);
	PTUP v12 = in_Case_3;
	PTUP v13 = v8;
	PTUP v14 = v7;
	bool v15 = v9;
	bool v16 = v9;
	while (v16) {
		PTUP r17 = r10;
		VAL r18 = r11;
		PTUP v19 = v12;
		PTUP v20 = v13;
		PTUP v21 = v14;
		bool v22 = v15;
		PTUP v23;
		PTUP v24 = mw_std_list_List_1_uncons(v21, &v23);
		PTUP branch_ZPlusMirth_25;
		VAL branch_z_x1_26;
		PTUP branch_Case_27;
		PTUP branch_Maybe_28;
		PTUP branch_List_29;
		bool branch_Bool_30;
		switch (PTREXTRA(v24)) {
			case 1LL: { // Some
				VAL v31 = mtp_std_maybe_Maybe_1_Some(v24);
				incref(MKTUP(VTUP(v31)));
				incref(MKTUP(v19));
				PTUP v32;
				bool v33 = mw_mirth_match_Case_coversZAsk(r17, VTUP(MKTUP(v19)), VTUP(MKTUP(VTUP(v31))), &v32);
				PTUP branch_ZPlusMirth_34;
				VAL branch_z_x1_35;
				PTUP branch_Case_36;
				PTUP branch_Maybe_37;
				if (v33) {
					PTUP v38 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v31)));
					branch_Maybe_37 = v38;
					branch_Case_36 = VTUP(MKTUP(v19));
					branch_z_x1_35 = r18;
					branch_ZPlusMirth_34 = v32;
				} else {
					decref(MKTUP(VTUP(v31)));
					PTUP v39 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_37 = v39;
					branch_Case_36 = VTUP(MKTUP(v19));
					branch_z_x1_35 = r18;
					branch_ZPlusMirth_34 = v32;
				}
				PTUP branch_ZPlusMirth_40;
				VAL branch_z_x1_41;
				PTUP branch_Case_42;
				PTUP branch_Maybe_43;
				PTUP branch_List_44;
				switch (PTREXTRA(branch_Maybe_37)) {
					case 0LL: { // None
						branch_List_44 = VTUP(MKTUP(v23));
						branch_Maybe_43 = VTUP(MKTUP(v20));
						branch_Case_42 = branch_Case_36;
						branch_z_x1_41 = branch_z_x1_35;
						branch_ZPlusMirth_40 = branch_ZPlusMirth_34;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v23))));
						decref(MKTUP(VTUP(MKTUP(v20))));
						PTUP v45 = PTRMK(0LL /* Nil */,0,0);
						branch_List_44 = v45;
						branch_Maybe_43 = branch_Maybe_37;
						branch_Case_42 = branch_Case_36;
						branch_z_x1_41 = branch_z_x1_35;
						branch_ZPlusMirth_40 = branch_ZPlusMirth_34;
					} break;
				}
				bool v46 = true;
				branch_Bool_30 = v46;
				branch_List_29 = branch_List_44;
				branch_Maybe_28 = branch_Maybe_43;
				branch_Case_27 = branch_Case_42;
				branch_z_x1_26 = branch_z_x1_41;
				branch_ZPlusMirth_25 = branch_ZPlusMirth_40;
			} break;
			case 0LL: { // None
				bool v47 = false;
				branch_Bool_30 = v47;
				branch_List_29 = v23;
				branch_Maybe_28 = v20;
				branch_Case_27 = v19;
				branch_z_x1_26 = r18;
				branch_ZPlusMirth_25 = r17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_30;
		v15 = branch_Bool_30;
		v14 = branch_List_29;
		v13 = branch_Maybe_28;
		v12 = branch_Case_27;
		r11 = branch_z_x1_26;
		r10 = branch_ZPlusMirth_25;
	}
	decref(MKTUP(v14));
	decref(MKTUP(v12));
	int64_t v48 = PTREXTRA(VTUP(MKTUP(v13)));
	decref(MKTUP(VTUP(MKTUP(v13))));
	INT v49 = WRAP_I63(0LL);
	INT v50 = v49;
	INT v51 = i64_to_int(v48);
	bool v52 = int_eq(v51, v50);
	bool v53 = !v52;
	*out_ZPlusMatch_5 = VTUP(r11);
	*out_ZPlusMirth_4 = r10;
	return v53;
}
static bool mw_mirth_match_Case_coversZAsk (PTUP in_ZPlusMirth_1, PTUP in_Case_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Case_2))->cells[0]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Case_2));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Case_3));
	PTUP v8;
	bool v9 = mw_mirth_match_Pattern_coversZAsk(in_ZPlusMirth_1, VTUP(MKTUP(v6)), v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static bool mw_mirth_match_Case_isZ_defaultZ_caseZAsk (PTUP in_ZPlusMirth_1, PTUP in_Case_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Case_2))->cells[0]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Case_2));
	bool v6 = mw_mirth_match_Pattern_isZ_defaultZAsk(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static PTUP mw_mirth_match_Case_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Case_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Case_2))->cells[1]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Case_2));
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Arrow_freeZ_vars(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static void mw_mirth_match_Pattern_thaw (PTUP in_Pattern_1, PTUP *out_ZPlusPattern_2) {
	*out_ZPlusPattern_2 = in_Pattern_1;
}
static PTUP mw_mirth_match_Pattern_dom (PTUP in_Pattern_1) {
	incref(MKTUP(in_Pattern_1));
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Pattern_1))->cells[6]);
	incref(MKTUP(v3));
	decref(MKTUP(in_Pattern_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_Pattern_1))->cells[5]);
	incref(MKTUP(v4));
	decref(MKTUP(in_Pattern_1));
	bool v5 = true;
	PTUP v6 = v3;
	PTUP v7 = v4;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP v10 = v6;
		PTUP v11 = v7;
		bool v12 = v8;
		PTUP branch_StackType_13;
		PTUP branch_List_14;
		bool branch_Bool_15;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Cons
				PTUP v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				PTUP v18 = mtw_mirth_type_StackType_Cons(v10, VTUP(v17));
				bool v19 = true;
				branch_Bool_15 = v19;
				branch_List_14 = v16;
				branch_StackType_13 = v18;
			} break;
			case 0LL: { // Nil
				PTUP v20 = PTRMK(0LL /* Nil */,0,0);
				bool v21 = false;
				branch_Bool_15 = v21;
				branch_List_14 = v20;
				branch_StackType_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_StackType_13;
	}
	decref(MKTUP(v7));
	return v6;
}
static PTUP mw_mirth_match_Pattern_singleZ_tagZAsk (PTUP in_Pattern_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Pattern_1))->cells[8]);
	incref(MKTUP(v3));
	decref(MKTUP(in_Pattern_1));
	PTUP v4 = mw_std_list_List_1_singleZAsk(v3);
	PTUP branch_Maybe_5;
	switch (PTREXTRA(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			PTUP v7 = VTUP(((TUP*)PTRPTR(VTUP(v6)))->cells[6]);
			incref(MKTUP(v7));
			decref(MKTUP(VTUP(v6)));
			PTUP v8 = mw_mirth_match_PatternOp_ZDivTag(v7);
			branch_Maybe_5 = v8;
		} break;
		case 0LL: { // None
			PTUP v9 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_5 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_5;
}
static bool mw_mirth_match_Pattern_isZ_defaultZAsk (PTUP in_Pattern_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Pattern_1))->cells[8]);
	incref(MKTUP(v3));
	decref(MKTUP(in_Pattern_1));
	PTUP v4 = PTRMK(0LL /* None */,0,0);
	bool v5 = true;
	PTUP v6 = v4;
	PTUP v7 = v3;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP v10 = v6;
		PTUP v11 = v7;
		bool v12 = v8;
		PTUP v13;
		PTUP v14 = mw_std_list_List_1_uncons(v11, &v13);
		PTUP branch_Maybe_15;
		PTUP branch_List_16;
		bool branch_Bool_17;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				incref(MKTUP(VTUP(v18)));
				PTUP v19 = VTUP(((TUP*)PTRPTR(VTUP(v18)))->cells[6]);
				incref(MKTUP(v19));
				decref(MKTUP(VTUP(v18)));
				bool v20 = mw_mirth_match_PatternOp_ZDivUnderscore(v19);
				bool v21 = !v20;
				PTUP branch_Maybe_22;
				if (v21) {
					PTUP v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v18)));
					branch_Maybe_22 = v23;
				} else {
					decref(MKTUP(VTUP(v18)));
					PTUP v24 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_22 = v24;
				}
				PTUP branch_Maybe_25;
				PTUP branch_List_26;
				switch (PTREXTRA(branch_Maybe_22)) {
					case 0LL: { // None
						branch_List_26 = VTUP(MKTUP(v13));
						branch_Maybe_25 = VTUP(MKTUP(v10));
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v13))));
						decref(MKTUP(VTUP(MKTUP(v10))));
						PTUP v27 = PTRMK(0LL /* Nil */,0,0);
						branch_List_26 = v27;
						branch_Maybe_25 = branch_Maybe_22;
					} break;
				}
				bool v28 = true;
				branch_Bool_17 = v28;
				branch_List_16 = branch_List_26;
				branch_Maybe_15 = branch_Maybe_25;
			} break;
			case 0LL: { // None
				bool v29 = false;
				branch_Bool_17 = v29;
				branch_List_16 = v13;
				branch_Maybe_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_17;
		v8 = branch_Bool_17;
		v7 = branch_List_16;
		v6 = branch_Maybe_15;
	}
	decref(MKTUP(v7));
	int64_t v30 = PTREXTRA(v6);
	decref(MKTUP(v6));
	INT v31 = WRAP_I63(0LL);
	INT v32 = v31;
	INT v33 = i64_to_int(v30);
	bool v34 = int_eq(v33, v32);
	return v34;
}
static bool mw_mirth_match_Pattern_coversZAsk (PTUP in_ZPlusMirth_1, PTUP in_Pattern_2, PTUP in_Pattern_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Pattern_2))->cells[8]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Pattern_2));
	PTUP v7 = mw_std_list_List_1_singleZAsk(v6);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_Pattern_3))->cells[8]);
	incref(MKTUP(v8));
	decref(MKTUP(in_Pattern_3));
	PTUP v9 = mw_std_list_List_1_singleZAsk(v8);
	PTUP v10 = mw_std_maybe_Maybe_1_zzip(VTUP(MKTUP(v7)), v9);
	PTUP branch_ZPlusMirth_11;
	bool branch_Bool_12;
	switch (PTREXTRA(v10)) {
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_12 = v13;
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			VAL v15 = ((TUP*)PTRPTR(value_tup(v14)))->cells[0];
			VAL v16 = ((TUP*)PTRPTR(value_tup(v14)))->cells[1];
			tup_decref_outer(value_tup(v14));
			PTUP v17 = VTUP(((TUP*)PTRPTR(VTUP(v16)))->cells[6]);
			incref(MKTUP(v17));
			decref(MKTUP(VTUP(v16)));
			PTUP branch_ZPlusMirth_18;
			bool branch_Bool_19;
			switch (PTREXTRA(v17)) {
				case 0LL: { // Underscore
					decref(MKTUP(VTUP(v15)));
					bool v20 = true;
					branch_Bool_19 = v20;
					branch_ZPlusMirth_18 = in_ZPlusMirth_1;
				} break;
				case 1LL: { // Tag
					uint64_t v21 = mtp_mirth_match_PatternOp_Tag(v17);
					PTUP v22 = VTUP(((TUP*)PTRPTR(VTUP(v15)))->cells[6]);
					incref(MKTUP(v22));
					decref(MKTUP(VTUP(v15)));
					PTUP branch_ZPlusMirth_23;
					bool branch_Bool_24;
					switch (PTREXTRA(v22)) {
						case 0LL: { // Underscore
							bool v25 = false;
							branch_Bool_24 = v25;
							branch_ZPlusMirth_23 = in_ZPlusMirth_1;
						} break;
						case 1LL: { // Tag
							uint64_t v26 = mtp_mirth_match_PatternOp_Tag(v22);
							bool v27 = (v26 == v21);
							branch_Bool_24 = v27;
							branch_ZPlusMirth_23 = in_ZPlusMirth_1;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_19 = branch_Bool_24;
					branch_ZPlusMirth_18 = branch_ZPlusMirth_23;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_12 = branch_Bool_19;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_Bool_12;
}
static PTUP mw_mirth_match_ZPlusPattern_freezze (PTUP in_ZPlusPattern_1) {
	return in_ZPlusPattern_1;
}
static void mw_mirth_match_ZPlusPattern_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, PTUP in_PatternOp_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusPattern_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusPattern_7;
	switch (PTREXTRA(in_PatternOp_3)) {
		case 0LL: { // Underscore
			PTUP v8;
			PTUP v9;
			mw_mirth_match_ZPlusPattern_underscoreZBang(in_ZPlusMirth_1, in_ZPlusPattern_2, &v8, &v9);
			branch_ZPlusPattern_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // Tag
			uint64_t v10 = mtp_mirth_match_PatternOp_Tag(in_PatternOp_3);
			PTUP v11;
			PTUP v12;
			mw_mirth_match_ZPlusPattern_tagZBang(in_ZPlusMirth_1, in_ZPlusPattern_2, v10, &v11, &v12);
			branch_ZPlusPattern_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusPattern_5 = branch_ZPlusPattern_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_match_ZPlusPattern_underscoreZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusPattern_4) {
	incref(MKTUP(in_ZPlusPattern_2));
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusPattern_2))->cells[1]);
	decref(MKTUP(in_ZPlusPattern_2));
	incref(MKTUP(in_ZPlusPattern_2));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusPattern_2))->cells[4]);
	incref(MKTUP(v6));
	decref(MKTUP(in_ZPlusPattern_2));
	incref(MKTUP(in_ZPlusPattern_2));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusPattern_2))->cells[6]);
	incref(MKTUP(v7));
	decref(MKTUP(in_ZPlusPattern_2));
	PTUP v8 = mw_mirth_type_Subst_Nil();
	PTUP v9 = PTRMK(0LL /* Underscore */,0,0);
	incref(MKTUP(in_ZPlusPattern_2));
	PTUP v10 = VTUP(((TUP*)PTRPTR(in_ZPlusPattern_2))->cells[6]);
	incref(MKTUP(v10));
	decref(MKTUP(in_ZPlusPattern_2));
	PTUP v11;
	PTUP v12 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, v10, &v11);
	uint64_t branch_Token_13;
	PTUP branch_Ctx_14;
	PTUP branch_StackType_15;
	PTUP branch_Subst_16;
	PTUP branch_PatternOp_17;
	PTUP branch_ZPlusPattern_18;
	PTUP branch_ZPlusMirth_19;
	PTUP branch_StackType_20;
	PTUP branch_Type_21;
	switch (PTREXTRA(v12)) {
		case 0LL: { // None
			incref(MKTUP(in_ZPlusPattern_2));
			uint64_t v22 = value_u64(((TUP*)PTRPTR(in_ZPlusPattern_2))->cells[1]);
			decref(MKTUP(in_ZPlusPattern_2));
			STR* v23;
			STRLIT(v23, "pattern expects something on stack", 34);
			PTUP v24;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v11, v22, value_str(MKSTR(v23)), &v24);
			PTUP v25 = PTRMK(0LL /* Error */,0,0);
			PTUP v26 = PTRMK(0LL /* Error */,0,0);
			branch_Type_21 = v26;
			branch_StackType_20 = v25;
			branch_ZPlusMirth_19 = v24;
			branch_ZPlusPattern_18 = in_ZPlusPattern_2;
			branch_PatternOp_17 = v9;
			branch_Subst_16 = v8;
			branch_StackType_15 = v7;
			branch_Ctx_14 = v6;
			branch_Token_13 = v5;
		} break;
		case 1LL: { // Some
			VAL v27 = mtp_std_maybe_Maybe_1_Some(v12);
			VAL v28 = ((TUP*)PTRPTR(value_tup(v27)))->cells[0];
			VAL v29 = ((TUP*)PTRPTR(value_tup(v27)))->cells[1];
			tup_decref_outer(value_tup(v27));
			branch_Type_21 = VTUP(v29);
			branch_StackType_20 = VTUP(v28);
			branch_ZPlusMirth_19 = v11;
			branch_ZPlusPattern_18 = in_ZPlusPattern_2;
			branch_PatternOp_17 = v9;
			branch_Subst_16 = v8;
			branch_StackType_15 = v7;
			branch_Ctx_14 = v6;
			branch_Token_13 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKTUP(branch_Type_21));
	incref(MKTUP(branch_ZPlusPattern_18));
	incref(MKTUP(branch_ZPlusPattern_18));
	PTUP v30 = VTUP(((TUP*)PTRPTR(branch_ZPlusPattern_18))->cells[5]);
	incref(MKTUP(v30));
	decref(MKTUP(branch_ZPlusPattern_18));
	PTUP v31 = mw_std_list_List_1_cons(MKTUP(branch_Type_21), v30);
	VAL v32 = tup_replace(MKTUP(branch_ZPlusPattern_18), 5, MKTUP(v31));
	decref(MKTUP(branch_ZPlusPattern_18));
	PTUP v33 = PTRMK(0LL /* Nil */,0,0);
	PTUP v34 = mw_std_list_List_1_cons(MKTUP(branch_Type_21), v33);
	incref(MKTUP(branch_StackType_20));
	incref(MKTUP(VTUP(v32)));
	VAL v35 = tup_replace(MKTUP(VTUP(v32)), 6, MKTUP(branch_StackType_20));
	decref(MKTUP(VTUP(v32)));
	PTUP v36 = mtw_mirth_match_PatternAtom_PatternAtom(branch_Token_13, branch_Ctx_14, v34, branch_StackType_20, branch_StackType_15, branch_Subst_16, branch_PatternOp_17);
	incref(MKTUP(VTUP(v35)));
	incref(MKTUP(VTUP(v35)));
	PTUP v37 = VTUP(((TUP*)PTRPTR(VTUP(v35)))->cells[8]);
	incref(MKTUP(v37));
	decref(MKTUP(VTUP(v35)));
	PTUP v38 = mw_std_list_List_1_cons(MKTUP(v36), v37);
	VAL v39 = tup_replace(MKTUP(VTUP(v35)), 8, MKTUP(v38));
	decref(MKTUP(VTUP(v35)));
	*out_ZPlusPattern_4 = VTUP(v39);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_19;
}
static void mw_mirth_match_ZPlusPattern_tagZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusPattern_5) {
	PTUP v6 = mtw_mirth_match_PatternOp_Tag(in_Tag_3);
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(in_ZPlusPattern_2));
	uint64_t v8 = value_u64(((TUP*)PTRPTR(in_ZPlusPattern_2))->cells[1]);
	decref(MKTUP(in_ZPlusPattern_2));
	incref(MKTUP(in_ZPlusPattern_2));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_ZPlusPattern_2))->cells[4]);
	incref(MKTUP(v9));
	decref(MKTUP(in_ZPlusPattern_2));
	PTUP v10 = mw_mirth_type_Subst_Nil();
	PTUP v11;
	PTUP v12 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_3, &v11);
	PTUP v13;
	PTUP v14;
	PTUP v15 = mw_mirth_type_ArrowType_freshenZ_sig(v11, v10, v12, &v13, &v14);
	PTUP v16;
	PTUP v17;
	mtp_mirth_type_ArrowType_ArrowType(v14, &v16, &v17);
	incref(MKTUP(in_ZPlusPattern_2));
	PTUP v18 = VTUP(((TUP*)PTRPTR(in_ZPlusPattern_2))->cells[6]);
	incref(MKTUP(v18));
	decref(MKTUP(in_ZPlusPattern_2));
	PTUP v19;
	PTUP v20 = mw_mirth_type_StackType_unifyZBang(v13, v18, v17, &v19);
	incref(MKTUP(v16));
	incref(MKTUP(in_ZPlusPattern_2));
	VAL v21 = tup_replace(MKTUP(in_ZPlusPattern_2), 6, MKTUP(v16));
	decref(MKTUP(in_ZPlusPattern_2));
	PTUP v22 = mtw_mirth_match_PatternAtom_PatternAtom(v8, v9, v7, v16, v20, v15, v6);
	incref(MKTUP(VTUP(v21)));
	incref(MKTUP(VTUP(v21)));
	PTUP v23 = VTUP(((TUP*)PTRPTR(VTUP(v21)))->cells[8]);
	incref(MKTUP(v23));
	decref(MKTUP(VTUP(v21)));
	PTUP v24 = mw_std_list_List_1_cons(MKTUP(v22), v23);
	VAL v25 = tup_replace(MKTUP(VTUP(v21)), 8, MKTUP(v24));
	decref(MKTUP(VTUP(v21)));
	*out_ZPlusPattern_5 = VTUP(v25);
	*out_ZPlusMirth_4 = v19;
}
static PTUP mw_mirth_match_PatternOp_ZDivTag (PTUP in_PatternOp_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_PatternOp_1)) {
		case 1LL: { // Tag
			uint64_t v4 = mtp_mirth_match_PatternOp_Tag(in_PatternOp_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_PatternOp_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static bool mw_mirth_match_PatternOp_ZDivUnderscore (PTUP in_PatternOp_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_PatternOp_1)) {
		case 0LL: { // Underscore
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(MKTUP(in_PatternOp_1));
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static void mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang (PTUP in_ZPlusLexer_1, uint64_t in_Token_2, PTUP *out_ZPlusLexer_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4]);
	incref(MKTUP(v4));
	PTUP v5 = mw_std_list_List_1_cons(MKU64(in_Token_2), v4);
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4]);
	decref(MKTUP(v6));
	((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4] = MKTUP(v5);
	*out_ZPlusLexer_3 = in_ZPlusLexer_1;
}
static PTUP mw_mirth_lexer_ZPlusLexer_stackZ_popZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4]);
	incref(MKTUP(v4));
	PTUP v5;
	PTUP v6 = mw_std_list_List_1_uncons(v4, &v5);
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4]);
	decref(MKTUP(v7));
	((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4] = MKTUP(v5);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v6;
}
static void mw_mirth_lexer_ZPlusLexer_stackZ_drop (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4]);
	incref(MKTUP(v3));
	PTUP v4 = mw_std_list_List_1_tail(v3);
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4]);
	decref(MKTUP(v5));
	((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4] = MKTUP(v4);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
}
static PTUP mw_mirth_lexer_ZPlusLexer_stackZ_peek (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[4]);
	incref(MKTUP(v4));
	PTUP v5 = mw_std_list_List_1_head(v4);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v5;
}
static void mw_mirth_lexer_ZPlusLexer_StartZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusLexer_5) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(1LL);
	INT v8 = WRAP_I63(1LL);
	PTUP v9 = PTRMK(0LL /* None */,0,0);
	PTUP v10 = PTRMK(0LL /* Nil */,0,0);
	PTUP v11;
	uint64_t v12 = mw_mirth_token_Token_allocZ_noneZBang(in_ZPlusMirth_1, &v11);
	PTUP v13;
	mtw_mirth_lexer_ZPlusLexer_ZPlusLexer(in_Module_3, v7, v8, v9, v10, v12, v12, in_Str_2, v6, &v13);
	*out_ZPlusLexer_5 = v13;
	*out_ZPlusMirth_4 = v11;
}
static uint64_t mw_mirth_lexer_ZPlusLexer_stopZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = PTRMK(0LL /* None */,0,0);
	PTUP v6;
	PTUP v7;
	mw_mirth_lexer_ZPlusLexer_emitZBang(in_ZPlusMirth_1, in_ZPlusLexer_2, v5, &v6, &v7);
	uint64_t v8;
	INT v9;
	INT v10;
	PTUP v11;
	PTUP v12;
	uint64_t v13;
	uint64_t v14;
	STR* v15;
	INT v16;
	mtp_mirth_lexer_ZPlusLexer_ZPlusLexer(v7, &v8, &v9, &v10, &v11, &v12, &v13, &v14, &v15, &v16);
	PTUP v17;
	PTUP v18 = mw_std_list_List_1_uncons(v12, &v17);
	decref(MKTUP(v17));
	PTUP branch_ZPlusMirth_19;
	switch (PTREXTRA(v18)) {
		case 1LL: { // Some
			VAL v20 = mtp_std_maybe_Maybe_1_Some(v18);
			STR* v21;
			STRLIT(v21, "Mismatched token.", 17);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v6, value_u64(v20), v21);
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_19 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v23;
	uint64_t v24 = mw_mirth_token_Token_allocZ_noneZBang(branch_ZPlusMirth_19, &v23);
	incref(MKU64(v8));
	PTUP v25;
	mw_mirth_module_Module_endZBang(v23, value_u64(MKU64(v24)), value_u64(MKU64(v8)), &v25);
	PTUP v26;
	uint64_t v27 = mw_mirth_token_Token_succ(v25, v13, &v26);
	incref(MKU64(v8));
	PTUP v28;
	mw_mirth_module_Module_startZBang(v26, value_u64(MKU64(v27)), value_u64(MKU64(v8)), &v28);
	decref(MKINT(v9));
	decref(MKINT(v10));
	decref(MKTUP(v11));
	decref(MKSTR(v15));
	decref(MKINT(v16));
	*out_ZPlusMirth_3 = v28;
	return value_u64(MKU64(v8));
}
static PTUP mw_mirth_lexer_ZPlusLexer_lexerZ_location (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	uint64_t v4 = value_u64(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[0]);
	INT v5 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[1]);
	incref(MKINT(v5));
	INT v6 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[2]);
	incref(MKINT(v6));
	PTUP v7 = mtw_mirth_location_Location_Location(v4, v5, v6);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v7;
}
static void mw_mirth_lexer_ZPlusLexer_lexerZ_warningZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusLexer_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_lexer_ZPlusLexer_lexerZ_location(in_ZPlusLexer_2, &v6);
	PTUP v8;
	mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang(in_ZPlusMirth_1, v7, in_Str_3, &v8);
	*out_ZPlusLexer_5 = v6;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang (STR* in_Str_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusLexer_3) {
	PTUP v4;
	PTUP v5 = mw_mirth_lexer_ZPlusLexer_lexerZ_location(in_ZPlusLexer_3, &v4);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(in_ZPlusMirth_2, v5, in_Str_1);
}
static bool mw_mirth_lexer_ZPlusLexer_doneZAsk (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	STR* v4 = value_str(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[7]);
	incref(MKSTR(v4));
	uint64_t v5 = str_size(v4);
	INT v6 = u64_to_int(v5);
	INT v7 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[8]);
	incref(MKINT(v7));
	bool v8 = int_le(v6, v7);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v8;
}
static int64_t mw_mirth_lexer_ZPlusLexer_peek (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	INT v4 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[8]);
	incref(MKINT(v4));
	STR* v5 = value_str(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[7]);
	incref(MKSTR(v5));
	int64_t v6 = mw_std_prim_Str_byteZAt(v4, v5);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v6;
}
static void mw_mirth_lexer_ZPlusLexer_moveZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	INT v3 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[8]);
	incref(MKINT(v3));
	INT v4 = WRAP_I63(1LL);
	INT v5 = v4;
	INT v6 = int_add(v3, v5);
	INT v7 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[8]);
	decref(MKINT(v7));
	((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[8] = MKINT(v6);
	INT v8 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[2]);
	incref(MKINT(v8));
	INT v9 = WRAP_I63(1LL);
	INT v10 = mw_mirth_location_Col_natZPlus(v9, v8);
	INT v11 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[2]);
	decref(MKINT(v11));
	((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[2] = MKINT(v10);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
}
static void mw_mirth_lexer_ZPlusLexer_newlineZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	INT v3 = WRAP_I63(0LL);
	INT v4 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[2]);
	decref(MKINT(v4));
	((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[2] = MKINT(v3);
	INT v5 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[1]);
	incref(MKINT(v5));
	INT v6 = WRAP_I63(1LL);
	INT v7 = mw_mirth_location_Row_natZPlus(v6, v5);
	INT v8 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[1]);
	decref(MKINT(v8));
	((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[1] = MKINT(v7);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
}
static uint64_t mw_mirth_lexer_ZPlusLexer_makeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP in_TokenValue_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusLexer_5) {
	INT v7 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[1]);
	incref(MKINT(v7));
	INT v8 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[2]);
	incref(MKINT(v8));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[3]);
	incref(MKTUP(v9));
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[0]);
	PTUP v11;
	uint64_t v12 = mw_mirth_token_Token_MakeZBang(in_ZPlusMirth_1, in_TokenValue_3, v10, v7, v8, v9, &v11);
	PTUP v13 = PTRMK(0LL /* None */,0,0);
	PTUP v14 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[3]);
	decref(MKTUP(v14));
	((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[3] = MKTUP(v13);
	((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[6] = MKU64(v12);
	*out_ZPlusLexer_5 = in_ZPlusLexer_2;
	*out_ZPlusMirth_4 = v11;
	return v12;
}
static void mw_mirth_lexer_ZPlusLexer_emitZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP in_TokenValue_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusLexer_5) {
	PTUP v6;
	PTUP v7;
	uint64_t v8 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusMirth_1, in_ZPlusLexer_2, in_TokenValue_3, &v6, &v7);
	*out_ZPlusLexer_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_nextZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5;
	int64_t v6 = mw_mirth_lexer_ZPlusLexer_peek(in_ZPlusLexer_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusLexer_8;
	switch (v6) {
		case 10LL: { // BLF
			PTUP v9;
			mw_mirth_lexer_ZPlusLexer_newlineZBang(v5, &v9);
			PTUP v10;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v9, &v10);
			branch_ZPlusLexer_8 = v10;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 32LL: { // BSPACE
			PTUP v11;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v5, &v11);
			branch_ZPlusLexer_8 = v11;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // BHT
			PTUP v12;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v5, &v12);
			branch_ZPlusLexer_8 = v12;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // BVT
			PTUP v13;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v5, &v13);
			branch_ZPlusLexer_8 = v13;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // BCR
			PTUP v14;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v5, &v14);
			branch_ZPlusLexer_8 = v14;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 35LL: { // BHASH
			PTUP v15;
			mw_mirth_lexer_ZPlusLexer_skipZ_commentZBang(v5, &v15);
			branch_ZPlusLexer_8 = v15;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 44LL: { // BCOMMA
			PTUP v16;
			PTUP v17;
			mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(in_ZPlusMirth_1, v5, &v16, &v17);
			PTUP v18 = PTRMK(1LL /* Comma */,0,0);
			PTUP v19;
			PTUP v20;
			mw_mirth_lexer_ZPlusLexer_emitZBang(v16, v17, v18, &v19, &v20);
			PTUP v21;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v20, &v21);
			branch_ZPlusLexer_8 = v21;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 41LL: { // BRPAREN
			PTUP v22;
			PTUP v23;
			mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(in_ZPlusMirth_1, v5, &v22, &v23);
			PTUP v24;
			PTUP v25;
			mw_mirth_lexer_ZPlusLexer_emitZ_rparenZBang(v22, v23, &v24, &v25);
			PTUP v26;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v25, &v26);
			branch_ZPlusLexer_8 = v26;
			branch_ZPlusMirth_7 = v24;
		} break;
		case 93LL: { // BRSQUARE
			PTUP v27;
			PTUP v28;
			mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(in_ZPlusMirth_1, v5, &v27, &v28);
			PTUP v29;
			PTUP v30;
			mw_mirth_lexer_ZPlusLexer_emitZ_rsquareZBang(v27, v28, &v29, &v30);
			PTUP v31;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v30, &v31);
			branch_ZPlusLexer_8 = v31;
			branch_ZPlusMirth_7 = v29;
		} break;
		case 125LL: { // BRCURLY
			PTUP v32;
			PTUP v33;
			mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(in_ZPlusMirth_1, v5, &v32, &v33);
			PTUP v34;
			PTUP v35;
			mw_mirth_lexer_ZPlusLexer_emitZ_rcurlyZBang(v32, v33, &v34, &v35);
			PTUP v36;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v35, &v36);
			branch_ZPlusLexer_8 = v36;
			branch_ZPlusMirth_7 = v34;
		} break;
		case 58LL: { // BCOLON
			PTUP v37;
			PTUP v38;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_argsZBang(in_ZPlusMirth_1, v5, &v37, &v38);
			PTUP v39;
			PTUP v40;
			mw_mirth_lexer_ZPlusLexer_emitZ_lcolonZBang(v37, v38, &v39, &v40);
			PTUP v41;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v40, &v41);
			branch_ZPlusLexer_8 = v41;
			branch_ZPlusMirth_7 = v39;
		} break;
		case 40LL: { // BLPAREN
			PTUP v42;
			PTUP v43;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_argsZBang(in_ZPlusMirth_1, v5, &v42, &v43);
			PTUP v44;
			PTUP v45;
			mw_mirth_lexer_ZPlusLexer_emitZ_lparenZBang(v42, v43, &v44, &v45);
			PTUP v46;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v45, &v46);
			branch_ZPlusLexer_8 = v46;
			branch_ZPlusMirth_7 = v44;
		} break;
		case 91LL: { // BLSQUARE
			PTUP v47;
			PTUP v48;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang(in_ZPlusMirth_1, v5, &v47, &v48);
			PTUP v49;
			PTUP v50;
			mw_mirth_lexer_ZPlusLexer_emitZ_lsquareZBang(v47, v48, &v49, &v50);
			PTUP v51;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v50, &v51);
			branch_ZPlusLexer_8 = v51;
			branch_ZPlusMirth_7 = v49;
		} break;
		case 123LL: { // BLCURLY
			PTUP v52;
			PTUP v53;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang(in_ZPlusMirth_1, v5, &v52, &v53);
			PTUP v54;
			PTUP v55;
			mw_mirth_lexer_ZPlusLexer_emitZ_lcurlyZBang(v52, v53, &v54, &v55);
			PTUP v56;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v55, &v56);
			branch_ZPlusLexer_8 = v56;
			branch_ZPlusMirth_7 = v54;
		} break;
		case 34LL: { // BQUOTE
			PTUP v57;
			PTUP v58;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang(in_ZPlusMirth_1, v5, &v57, &v58);
			PTUP v59;
			PTUP v60;
			mw_mirth_lexer_ZPlusLexer_emitZ_stringZBang(v57, v58, &v59, &v60);
			PTUP v61;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v60, &v61);
			branch_ZPlusLexer_8 = v61;
			branch_ZPlusMirth_7 = v59;
		} break;
		case 0LL: { // BNUL
			branch_ZPlusLexer_8 = v5;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			bool v62 = mw_std_byte_Byte_isZ_nameZ_byte(v6);
			PTUP branch_ZPlusMirth_63;
			PTUP branch_ZPlusLexer_64;
			if (v62) {
				PTUP v65;
				PTUP v66;
				mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang(in_ZPlusMirth_1, v5, &v65, &v66);
				PTUP v67;
				PTUP v68;
				mw_mirth_lexer_ZPlusLexer_emitZ_nameZBang(v65, v66, &v67, &v68);
				branch_ZPlusLexer_64 = v68;
				branch_ZPlusMirth_63 = v67;
			} else {
				STR* v69;
				STRLIT(v69, "Unrecognized byte.", 18);
				mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v69, in_ZPlusMirth_1, v5);
			}
			branch_ZPlusLexer_8 = branch_ZPlusLexer_64;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_63;
		} break;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static void mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	bool v5 = true;
	PTUP r6 = in_ZPlusMirth_1;
	PTUP r7 = in_ZPlusLexer_2;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP r10 = r6;
		PTUP r11 = r7;
		bool v12 = v8;
		PTUP v13;
		PTUP v14 = mw_mirth_lexer_ZPlusLexer_stackZ_peek(r11, &v13);
		PTUP branch_ZPlusMirth_15;
		VAL branch_z_x1_16;
		PTUP branch_Maybe_17;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				PTUP v19;
				bool v20 = mw_mirth_token_Token_lcolonZ_openZAsk(r10, value_u64(v18), &v19);
				PTUP branch_ZPlusMirth_21;
				VAL branch_z_x1_22;
				PTUP branch_Maybe_23;
				if (v20) {
					PTUP v24 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v18)));
					branch_Maybe_23 = v24;
					branch_z_x1_22 = MKTUP(v13);
					branch_ZPlusMirth_21 = v19;
				} else {
					PTUP v25 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_23 = v25;
					branch_z_x1_22 = MKTUP(v13);
					branch_ZPlusMirth_21 = v19;
				}
				branch_Maybe_17 = branch_Maybe_23;
				branch_z_x1_16 = branch_z_x1_22;
				branch_ZPlusMirth_15 = branch_ZPlusMirth_21;
			} break;
			case 0LL: { // None
				PTUP v26 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_17 = v26;
				branch_z_x1_16 = MKTUP(v13);
				branch_ZPlusMirth_15 = r10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		PTUP branch_ZPlusMirth_27;
		PTUP branch_ZPlusLexer_28;
		bool branch_Bool_29;
		switch (PTREXTRA(branch_Maybe_17)) {
			case 1LL: { // Some
				VAL v30 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_17);
				PTUP v31;
				mw_mirth_lexer_ZPlusLexer_stackZ_drop(VTUP(branch_z_x1_16), &v31);
				PTUP v32 = mtw_mirth_token_TokenValue_RColon(value_u64(v30));
				PTUP v33;
				PTUP v34;
				uint64_t v35 = mw_mirth_lexer_ZPlusLexer_makeZBang(branch_ZPlusMirth_15, v31, v32, &v33, &v34);
				PTUP v36 = mtw_mirth_token_TokenValue_LColon(v35);
				PTUP v37;
				mw_mirth_token_Token_valueZBang(v33, v36, value_u64(v30), &v37);
				bool v38 = true;
				branch_Bool_29 = v38;
				branch_ZPlusLexer_28 = v34;
				branch_ZPlusMirth_27 = v37;
			} break;
			case 0LL: { // None
				bool v39 = false;
				branch_Bool_29 = v39;
				branch_ZPlusLexer_28 = VTUP(branch_z_x1_16);
				branch_ZPlusMirth_27 = branch_ZPlusMirth_15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_29;
		v8 = branch_Bool_29;
		r7 = branch_ZPlusLexer_28;
		r6 = branch_ZPlusMirth_27;
	}
	*out_ZPlusLexer_4 = r7;
	*out_ZPlusMirth_3 = r6;
}
static void mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[6]);
	PTUP v6;
	bool v7 = mw_mirth_token_Token_lcolonZ_openZAsk(in_ZPlusMirth_1, v5, &v6);
	PTUP branch_ZPlusLexer_8;
	PTUP branch_ZPlusMirth_9;
	if (v7) {
		branch_ZPlusMirth_9 = v6;
		branch_ZPlusLexer_8 = in_ZPlusLexer_2;
	} else {
		PTUP v10;
		PTUP v11;
		mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(v6, in_ZPlusLexer_2, &v10, &v11);
		branch_ZPlusMirth_9 = v10;
		branch_ZPlusLexer_8 = v11;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
}
static void mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[6]);
	PTUP v6;
	bool v7 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(in_ZPlusMirth_1, v5, &v6);
	PTUP branch_ZPlusLexer_8;
	PTUP branch_ZPlusMirth_9;
	if (v7) {
		branch_ZPlusMirth_9 = v6;
		branch_ZPlusLexer_8 = in_ZPlusLexer_2;
	} else {
		PTUP v10;
		PTUP v11;
		mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(v6, in_ZPlusLexer_2, &v10, &v11);
		branch_ZPlusMirth_9 = v10;
		branch_ZPlusLexer_8 = v11;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_lcolonZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5 = PTRMK(5LL /* LColonOpen */,0,0);
	PTUP v6;
	PTUP v7;
	uint64_t v8 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusMirth_1, in_ZPlusLexer_2, v5, &v6, &v7);
	PTUP v9;
	mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang(v7, v8, &v9);
	*out_ZPlusLexer_4 = v9;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_lparenZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5 = PTRMK(2LL /* LParenOpen */,0,0);
	PTUP v6;
	PTUP v7;
	uint64_t v8 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusMirth_1, in_ZPlusLexer_2, v5, &v6, &v7);
	PTUP v9;
	mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang(v7, v8, &v9);
	*out_ZPlusLexer_4 = v9;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_lcurlyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5 = PTRMK(4LL /* LCurlyOpen */,0,0);
	PTUP v6;
	PTUP v7;
	uint64_t v8 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusMirth_1, in_ZPlusLexer_2, v5, &v6, &v7);
	PTUP v9;
	mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang(v7, v8, &v9);
	*out_ZPlusLexer_4 = v9;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_lsquareZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5 = PTRMK(3LL /* LSquareOpen */,0,0);
	PTUP v6;
	PTUP v7;
	uint64_t v8 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusMirth_1, in_ZPlusLexer_2, v5, &v6, &v7);
	PTUP v9;
	mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang(v7, v8, &v9);
	*out_ZPlusLexer_4 = v9;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_rparenZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_lexer_ZPlusLexer_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	PTUP branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v11;
			PTUP v12 = mw_mirth_token_Token_value(in_ZPlusMirth_1, value_u64(v10), &v11);
			bool v13 = mw_mirth_token_TokenValue_lparenZ_openZAsk(v12);
			PTUP branch_ZPlusMirth_14;
			VAL branch_z_x1_15;
			PTUP branch_Maybe_16;
			if (v13) {
				PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v10)));
				branch_Maybe_16 = v17;
				branch_z_x1_15 = MKTUP(v5);
				branch_ZPlusMirth_14 = v11;
			} else {
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_16 = v18;
				branch_z_x1_15 = MKTUP(v5);
				branch_ZPlusMirth_14 = v11;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_z_x1_8 = branch_z_x1_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		case 0LL: { // None
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v19;
			branch_z_x1_8 = MKTUP(v5);
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_20;
	PTUP branch_ZPlusLexer_21;
	VAL branch_z_x1_22;
	switch (PTREXTRA(branch_Maybe_9)) {
		case 1LL: { // Some
			VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_9);
			branch_z_x1_22 = v23;
			branch_ZPlusLexer_21 = VTUP(branch_z_x1_8);
			branch_ZPlusMirth_20 = branch_ZPlusMirth_7;
		} break;
		case 0LL: { // None
			STR* v24;
			STRLIT(v24, "Mismatched right parenthesis.", 29);
			mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v24, branch_ZPlusMirth_7, VTUP(branch_z_x1_8));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v28 = mtw_mirth_token_TokenValue_RParen(value_u64(branch_z_x1_22));
	PTUP v29;
	PTUP v30;
	uint64_t v31 = mw_mirth_lexer_ZPlusLexer_makeZBang(branch_ZPlusMirth_20, branch_ZPlusLexer_21, v28, &v29, &v30);
	PTUP v32 = mtw_mirth_token_TokenValue_LParen(v31);
	PTUP v33;
	mw_mirth_token_Token_valueZBang(v29, v32, value_u64(branch_z_x1_22), &v33);
	*out_ZPlusLexer_4 = v30;
	*out_ZPlusMirth_3 = v33;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_rcurlyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_lexer_ZPlusLexer_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	PTUP branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v11;
			PTUP v12 = mw_mirth_token_Token_value(in_ZPlusMirth_1, value_u64(v10), &v11);
			bool v13 = mw_mirth_token_TokenValue_lcurlyZ_openZAsk(v12);
			PTUP branch_ZPlusMirth_14;
			VAL branch_z_x1_15;
			PTUP branch_Maybe_16;
			if (v13) {
				PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v10)));
				branch_Maybe_16 = v17;
				branch_z_x1_15 = MKTUP(v5);
				branch_ZPlusMirth_14 = v11;
			} else {
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_16 = v18;
				branch_z_x1_15 = MKTUP(v5);
				branch_ZPlusMirth_14 = v11;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_z_x1_8 = branch_z_x1_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		case 0LL: { // None
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v19;
			branch_z_x1_8 = MKTUP(v5);
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_20;
	PTUP branch_ZPlusLexer_21;
	VAL branch_z_x1_22;
	switch (PTREXTRA(branch_Maybe_9)) {
		case 1LL: { // Some
			VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_9);
			branch_z_x1_22 = v23;
			branch_ZPlusLexer_21 = VTUP(branch_z_x1_8);
			branch_ZPlusMirth_20 = branch_ZPlusMirth_7;
		} break;
		case 0LL: { // None
			STR* v24;
			STRLIT(v24, "Mismatched right curly brace.", 29);
			mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v24, branch_ZPlusMirth_7, VTUP(branch_z_x1_8));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v28 = mtw_mirth_token_TokenValue_RCurly(value_u64(branch_z_x1_22));
	PTUP v29;
	PTUP v30;
	uint64_t v31 = mw_mirth_lexer_ZPlusLexer_makeZBang(branch_ZPlusMirth_20, branch_ZPlusLexer_21, v28, &v29, &v30);
	PTUP v32 = mtw_mirth_token_TokenValue_LCurly(v31);
	PTUP v33;
	mw_mirth_token_Token_valueZBang(v29, v32, value_u64(branch_z_x1_22), &v33);
	*out_ZPlusLexer_4 = v30;
	*out_ZPlusMirth_3 = v33;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_rsquareZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_lexer_ZPlusLexer_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	PTUP branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v11;
			PTUP v12 = mw_mirth_token_Token_value(in_ZPlusMirth_1, value_u64(v10), &v11);
			bool v13 = mw_mirth_token_TokenValue_lsquareZ_openZAsk(v12);
			PTUP branch_ZPlusMirth_14;
			VAL branch_z_x1_15;
			PTUP branch_Maybe_16;
			if (v13) {
				PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v10)));
				branch_Maybe_16 = v17;
				branch_z_x1_15 = MKTUP(v5);
				branch_ZPlusMirth_14 = v11;
			} else {
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_16 = v18;
				branch_z_x1_15 = MKTUP(v5);
				branch_ZPlusMirth_14 = v11;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_z_x1_8 = branch_z_x1_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		case 0LL: { // None
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v19;
			branch_z_x1_8 = MKTUP(v5);
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_20;
	PTUP branch_ZPlusLexer_21;
	VAL branch_z_x1_22;
	switch (PTREXTRA(branch_Maybe_9)) {
		case 1LL: { // Some
			VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_9);
			branch_z_x1_22 = v23;
			branch_ZPlusLexer_21 = VTUP(branch_z_x1_8);
			branch_ZPlusMirth_20 = branch_ZPlusMirth_7;
		} break;
		case 0LL: { // None
			STR* v24;
			STRLIT(v24, "Mismatched right square bracket.", 32);
			mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v24, branch_ZPlusMirth_7, VTUP(branch_z_x1_8));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v28 = mtw_mirth_token_TokenValue_RSquare(value_u64(branch_z_x1_22));
	PTUP v29;
	PTUP v30;
	uint64_t v31 = mw_mirth_lexer_ZPlusLexer_makeZBang(branch_ZPlusMirth_20, branch_ZPlusLexer_21, v28, &v29, &v30);
	PTUP v32 = mtw_mirth_token_TokenValue_LSquare(v31);
	PTUP v33;
	mw_mirth_token_Token_valueZBang(v29, v32, value_u64(branch_z_x1_22), &v33);
	*out_ZPlusLexer_4 = v30;
	*out_ZPlusMirth_3 = v33;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[0]);
	INT v6 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[1]);
	incref(MKINT(v6));
	INT v7 = value_int(((TUP*)PTRPTR(in_ZPlusLexer_2))->cells[2]);
	incref(MKINT(v7));
	STR* v8;
	STRLIT(v8, "", 0);
	PTUP v9;
	int64_t v10 = mw_mirth_lexer_ZPlusLexer_peek(in_ZPlusLexer_2, &v9);
	bool v11 = mw_std_byte_Byte_isZ_nameZ_byte(v10);
	PTUP r12 = in_ZPlusMirth_1;
	uint64_t v13 = v5;
	INT v14 = v6;
	INT v15 = v7;
	STR* r16 = v8;
	PTUP r17 = v9;
	int64_t v18 = v10;
	bool v19 = v11;
	while (v19) {
		PTUP r20 = r12;
		uint64_t v21 = v13;
		INT v22 = v14;
		INT v23 = v15;
		STR* r24 = r16;
		PTUP r25 = r17;
		int64_t v26 = v18;
		STR* v27;
		mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v26, r24, &v27);
		PTUP v28;
		mw_mirth_lexer_ZPlusLexer_moveZBang(r25, &v28);
		PTUP v29;
		int64_t v30 = mw_mirth_lexer_ZPlusLexer_peek(v28, &v29);
		bool v31 = mw_std_byte_Byte_isZ_nameZ_byte(v30);
		v19 = v31;
		v18 = v30;
		r17 = v29;
		r16 = v27;
		v15 = v23;
		v14 = v22;
		v13 = v21;
		r12 = r20;
	}
	STR* v32;
	PTUP v33;
	bool v34 = mw_mirth_lexer_ZPlusLexer_isZ_docZ_startZAsk(r16, r17, &v32, &v33);
	PTUP branch_ZPlusMirth_35;
	STR* branch_ZPlusStr_36;
	PTUP branch_ZPlusLexer_37;
	if (v34) {
		decref(MKINT(v15));
		decref(MKINT(v14));
		decref(MKU64(v13));
		PTUP v38;
		mw_mirth_lexer_ZPlusLexer_skipZ_docZBang(v33, &v38);
		branch_ZPlusLexer_37 = v38;
		branch_ZPlusStr_36 = v32;
		branch_ZPlusMirth_35 = r12;
	} else {
		PTUP v39 = VTUP(((TUP*)PTRPTR(v33))->cells[3]);
		incref(MKTUP(v39));
		PTUP v40 = PTRMK(0LL /* None */,0,0);
		PTUP v41;
		uint64_t v42 = mw_mirth_token_Token_MakeZBang(r12, v40, v13, v14, v15, v39, &v41);
		PTUP v43 = PTRMK(0LL /* None */,0,0);
		PTUP v44 = VTUP(((TUP*)PTRPTR(v33))->cells[3]);
		decref(MKTUP(v44));
		((TUP*)PTRPTR(v33))->cells[3] = MKTUP(v43);
		PTUP v45;
		STR* v46;
		PTUP v47;
		PTUP v48;
		uint64_t v49 = mw_mirth_lexer_ZPlusLexer_floatZ_tokenZAsk(v41, v32, v33, v42, &v45, &v46, &v47, &v48);
		PTUP v50 = mw_std_maybe_Maybe_1_map_1_sp12(v48);
		STR* branch_ZPlusStr_51;
		PTUP branch_ZPlusLexer_52;
		PTUP branch_Maybe_53;
		switch (PTREXTRA(v50)) {
			case 0LL: { // None
				STR* v54;
				PTUP v55;
				PTUP v56 = mw_mirth_lexer_ZPlusLexer_intZ_tokenZAsk(v46, v47, &v54, &v55);
				branch_Maybe_53 = v56;
				branch_ZPlusLexer_52 = v55;
				branch_ZPlusStr_51 = v54;
			} break;
			default: {
				branch_Maybe_53 = v50;
				branch_ZPlusLexer_52 = v47;
				branch_ZPlusStr_51 = v46;
			} break;
		}
		PTUP branch_ZPlusMirth_57;
		STR* branch_ZPlusStr_58;
		PTUP branch_ZPlusLexer_59;
		PTUP branch_Maybe_60;
		switch (PTREXTRA(branch_Maybe_53)) {
			case 0LL: { // None
				PTUP v61;
				STR* v62;
				PTUP v63;
				PTUP v64 = mw_mirth_lexer_ZPlusLexer_dnameZ_tokenZAsk(v45, branch_ZPlusStr_51, branch_ZPlusLexer_52, &v61, &v62, &v63);
				PTUP v65 = mw_std_maybe_Maybe_1_map_1_sp12(v64);
				branch_Maybe_60 = v65;
				branch_ZPlusLexer_59 = v63;
				branch_ZPlusStr_58 = v62;
				branch_ZPlusMirth_57 = v61;
			} break;
			default: {
				branch_Maybe_60 = branch_Maybe_53;
				branch_ZPlusLexer_59 = branch_ZPlusLexer_52;
				branch_ZPlusStr_58 = branch_ZPlusStr_51;
				branch_ZPlusMirth_57 = v45;
			} break;
		}
		PTUP branch_ZPlusMirth_66;
		STR* branch_ZPlusStr_67;
		PTUP branch_ZPlusLexer_68;
		PTUP branch_Maybe_69;
		switch (PTREXTRA(branch_Maybe_60)) {
			case 0LL: { // None
				PTUP v70;
				STR* v71;
				PTUP v72;
				PTUP v73 = mw_mirth_lexer_ZPlusLexer_labelZ_tokenZAsk(branch_ZPlusMirth_57, branch_ZPlusStr_58, branch_ZPlusLexer_59, &v70, &v71, &v72);
				PTUP v74 = mw_std_maybe_Maybe_1_map_1_sp12(v73);
				branch_Maybe_69 = v74;
				branch_ZPlusLexer_68 = v72;
				branch_ZPlusStr_67 = v71;
				branch_ZPlusMirth_66 = v70;
			} break;
			default: {
				branch_Maybe_69 = branch_Maybe_60;
				branch_ZPlusLexer_68 = branch_ZPlusLexer_59;
				branch_ZPlusStr_67 = branch_ZPlusStr_58;
				branch_ZPlusMirth_66 = branch_ZPlusMirth_57;
			} break;
		}
		PTUP branch_ZPlusMirth_75;
		STR* branch_ZPlusStr_76;
		PTUP branch_ZPlusLexer_77;
		PTUP branch_Result_78;
		switch (PTREXTRA(branch_Maybe_69)) {
			case 1LL: { // Some
				VAL v79 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_69);
				branch_Result_78 = VTUP(v79);
				branch_ZPlusLexer_77 = branch_ZPlusLexer_68;
				branch_ZPlusStr_76 = branch_ZPlusStr_67;
				branch_ZPlusMirth_75 = branch_ZPlusMirth_66;
			} break;
			case 0LL: { // None
				PTUP v80;
				STR* v81;
				PTUP v82;
				PTUP v83 = mw_mirth_lexer_ZPlusLexer_nameZ_token(branch_ZPlusMirth_66, branch_ZPlusStr_67, branch_ZPlusLexer_68, &v80, &v81, &v82);
				PTUP v84 = mtw_std_result_Result_2_Ok(MKTUP(v83));
				branch_Result_78 = v84;
				branch_ZPlusLexer_77 = v82;
				branch_ZPlusStr_76 = v81;
				branch_ZPlusMirth_75 = v80;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		uint64_t branch_Token_85;
		PTUP branch_ZPlusMirth_86;
		VAL branch_z_x1_87;
		VAL branch_z_x2_88;
		VAL branch_z_x3_89;
		switch (PTREXTRA(branch_Result_78)) {
			case 1LL: { // Ok
				VAL v90 = mtp_std_result_Result_2_Ok(branch_Result_78);
				branch_z_x3_89 = v90;
				branch_z_x2_88 = MKTUP(branch_ZPlusLexer_77);
				branch_z_x1_87 = MKSTR(branch_ZPlusStr_76);
				branch_ZPlusMirth_86 = branch_ZPlusMirth_75;
				branch_Token_85 = v49;
			} break;
			case 0LL: { // Err
				VAL v91 = mtp_std_result_Result_2_Err(branch_Result_78);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_75, v49, value_str(v91));
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKU64(branch_Token_85));
		PTUP v95;
		mw_mirth_token_Token_valueZBang(branch_ZPlusMirth_86, VTUP(branch_z_x3_89), value_u64(MKU64(branch_Token_85)), &v95);
		((TUP*)PTRPTR(VTUP(branch_z_x2_88)))->cells[6] = MKU64(value_u64(MKU64(branch_Token_85)));
		branch_ZPlusLexer_37 = VTUP(branch_z_x2_88);
		branch_ZPlusStr_36 = value_str(branch_z_x1_87);
		branch_ZPlusMirth_35 = v95;
	}
	decref(MKSTR(branch_ZPlusStr_36));
	*out_ZPlusLexer_4 = branch_ZPlusLexer_37;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_35;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_stringZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusLexer_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusLexer_4) {
	PTUP v5 = PTRMK(0LL /* None */,0,0);
	PTUP v6;
	PTUP v7;
	uint64_t v8 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusMirth_1, in_ZPlusLexer_2, v5, &v6, &v7);
	PTUP v9;
	mw_mirth_lexer_ZPlusLexer_moveZBang(v7, &v9);
	STR* v10;
	STRLIT(v10, "", 0);
	PTUP v11;
	int64_t v12 = mw_mirth_lexer_ZPlusLexer_peek(v9, &v11);
	bool v13 = mw_std_byte_Byte_isZ_stringZ_end(v12);
	bool v14 = !v13;
	PTUP r15 = v6;
	STR* r16 = v10;
	PTUP r17 = v11;
	int64_t v18 = v12;
	bool v19 = v14;
	while (v19) {
		PTUP r20 = r15;
		STR* r21 = r16;
		PTUP r22 = r17;
		int64_t v23 = v18;
		PTUP v24;
		STR* v25;
		PTUP v26;
		mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_byteZBang(r20, r21, r22, v23, &v24, &v25, &v26);
		PTUP v27;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v26, &v27);
		PTUP v28;
		int64_t v29 = mw_mirth_lexer_ZPlusLexer_peek(v27, &v28);
		bool v30 = mw_std_byte_Byte_isZ_stringZ_end(v29);
		bool v31 = !v30;
		v19 = v31;
		v18 = v29;
		r17 = v28;
		r16 = v25;
		r15 = v24;
	}
	int64_t v32 = 34LL /* BQUOTE */;
	int64_t v33 = v18;
	INT v34 = i64_to_int(v33);
	uint64_t v35 = int_to_u64(v34);
	uint8_t v36 = (uint8_t)(v35);
	int64_t v37 = v32;
	INT v38 = i64_to_int(v37);
	uint64_t v39 = int_to_u64(v38);
	uint8_t v40 = (uint8_t)(v39);
	uint64_t v41 = (uint64_t)(v40);
	uint32_t v42 = (uint32_t)(v41);
	uint64_t v43 = (uint64_t)(value_u8(MKU8(v36)));
	uint32_t v44 = (uint32_t)(v43);
	uint64_t v45 = (uint64_t)(v44);
	uint64_t v46 = (uint64_t)(v42);
	bool v47 = (value_u64(MKU64(v45)) == v46);
	PTUP branch_ZPlusMirth_48;
	VAL branch_z_x1_49;
	PTUP branch_ZPlusLexer_50;
	if (v47) {
		branch_ZPlusLexer_50 = r17;
		branch_z_x1_49 = MKSTR(r16);
		branch_ZPlusMirth_48 = r15;
	} else {
		STR* v51;
		STRLIT(v51, "String literal is missing end quote (\").", 40);
		mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v51, r15, r17);
	}
	PTUP v54 = mtw_mirth_token_TokenValue_Str(value_str(branch_z_x1_49));
	incref(MKU64(v8));
	PTUP v55;
	mw_mirth_token_Token_valueZBang(branch_ZPlusMirth_48, VTUP(MKTUP(v54)), value_u64(MKU64(v8)), &v55);
	*out_ZPlusLexer_4 = branch_ZPlusLexer_50;
	*out_ZPlusMirth_3 = v55;
}
static void mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_byteZBang (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, int64_t in_Byte_4, PTUP *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, PTUP *out_ZPlusLexer_7) {
	PTUP branch_ZPlusMirth_8;
	STR* branch_ZPlusStr_9;
	PTUP branch_ZPlusLexer_10;
	switch (in_Byte_4) {
		case 92LL: { // B'\'
			PTUP v11;
			mw_mirth_lexer_ZPlusLexer_moveZBang(in_ZPlusLexer_3, &v11);
			PTUP v12;
			int64_t v13 = mw_mirth_lexer_ZPlusLexer_peek(v11, &v12);
			PTUP v14;
			STR* v15;
			PTUP v16;
			mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_escapeZ_byteZBang(in_ZPlusMirth_1, in_ZPlusStr_2, v12, v13, &v14, &v15, &v16);
			branch_ZPlusLexer_10 = v16;
			branch_ZPlusStr_9 = v15;
			branch_ZPlusMirth_8 = v14;
		} break;
		default: {
			STR* v17;
			mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(in_Byte_4, in_ZPlusStr_2, &v17);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v17;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusLexer_7 = branch_ZPlusLexer_10;
	*out_ZPlusStr_6 = branch_ZPlusStr_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_escapeZ_byteZBang (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, int64_t in_Byte_4, PTUP *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, PTUP *out_ZPlusLexer_7) {
	PTUP branch_ZPlusMirth_8;
	STR* branch_ZPlusStr_9;
	PTUP branch_ZPlusLexer_10;
	switch (in_Byte_4) {
		case 10LL: { // BLF
			PTUP v11;
			mw_mirth_lexer_ZPlusLexer_newlineZBang(in_ZPlusLexer_3, &v11);
			branch_ZPlusLexer_10 = v11;
			branch_ZPlusStr_9 = in_ZPlusStr_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 110LL: { // B'n'
			int64_t v12 = 10LL /* BLF */;
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v12, in_ZPlusStr_2, &v13);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v13;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 114LL: { // B'r'
			int64_t v14 = 13LL /* BCR */;
			STR* v15;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v14, in_ZPlusStr_2, &v15);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v15;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 116LL: { // B't'
			int64_t v16 = 9LL /* BHT */;
			STR* v17;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v16, in_ZPlusStr_2, &v17);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v17;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 92LL: { // B'\'
			int64_t v18 = 92LL /* B'\' */;
			STR* v19;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v18, in_ZPlusStr_2, &v19);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 34LL: { // BQUOTE
			int64_t v20 = 34LL /* BQUOTE */;
			STR* v21;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v20, in_ZPlusStr_2, &v21);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v21;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			STR* v22;
			mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(in_Byte_4, in_ZPlusStr_2, &v22);
			STR* v23;
			STRLIT(v23, "Unknown character escape sequence.", 34);
			PTUP v24;
			PTUP v25;
			mw_mirth_lexer_ZPlusLexer_lexerZ_warningZBang(in_ZPlusMirth_1, in_ZPlusLexer_3, value_str(MKSTR(v23)), &v24, &v25);
			branch_ZPlusLexer_10 = v25;
			branch_ZPlusStr_9 = v22;
			branch_ZPlusMirth_8 = v24;
		} break;
	}
	*out_ZPlusLexer_7 = branch_ZPlusLexer_10;
	*out_ZPlusStr_6 = branch_ZPlusStr_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_lexer_ZPlusLexer_skipZ_commentZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	PTUP v3;
	bool v4 = mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk(in_ZPlusLexer_1, &v3);
	bool v5 = !v4;
	PTUP r6 = v3;
	bool v7 = v5;
	while (v7) {
		PTUP r8 = r6;
		PTUP v9;
		mw_mirth_lexer_ZPlusLexer_moveZBang(r8, &v9);
		PTUP v10;
		bool v11 = mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk(v9, &v10);
		bool v12 = !v11;
		v7 = v12;
		r6 = v10;
	}
	PTUP v13;
	int64_t v14 = mw_mirth_lexer_ZPlusLexer_peek(r6, &v13);
	int64_t v15 = 10LL /* BLF */;
	int64_t v16 = v14;
	INT v17 = i64_to_int(v16);
	uint64_t v18 = int_to_u64(v17);
	uint8_t v19 = (uint8_t)(v18);
	int64_t v20 = v15;
	INT v21 = i64_to_int(v20);
	uint64_t v22 = int_to_u64(v21);
	uint8_t v23 = (uint8_t)(v22);
	uint64_t v24 = (uint64_t)(v23);
	uint32_t v25 = (uint32_t)(v24);
	uint64_t v26 = (uint64_t)(value_u8(MKU8(v19)));
	uint32_t v27 = (uint32_t)(v26);
	uint64_t v28 = (uint64_t)(v27);
	uint64_t v29 = (uint64_t)(v25);
	bool v30 = (value_u64(MKU64(v28)) == v29);
	PTUP branch_ZPlusLexer_31;
	if (v30) {
		PTUP v32;
		mw_mirth_lexer_ZPlusLexer_newlineZBang(v13, &v32);
		PTUP v33;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v32, &v33);
		branch_ZPlusLexer_31 = v33;
	} else {
		branch_ZPlusLexer_31 = v13;
	}
	*out_ZPlusLexer_2 = branch_ZPlusLexer_31;
}
static void mw_mirth_lexer_ZPlusLexer_skipZ_docZBang (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_ZPlusLexer_1))->cells[3]);
	incref(MKTUP(v3));
	STR* branch_Str_4;
	switch (PTREXTRA(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			branch_Str_4 = value_str(v5);
		} break;
		case 0LL: { // None
			STR* v6;
			STRLIT(v6, "", 0);
			branch_Str_4 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v7;
	bool v8 = mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk(in_ZPlusLexer_1, &v7);
	bool v9 = !v8;
	PTUP r10 = v7;
	STR* r11 = branch_Str_4;
	bool v12 = v9;
	while (v12) {
		PTUP r13 = r10;
		STR* r14 = r11;
		PTUP v15;
		int64_t v16 = mw_mirth_lexer_ZPlusLexer_peek(r13, &v15);
		STR* v17;
		mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v16, r14, &v17);
		PTUP v18;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v15, &v18);
		PTUP v19;
		bool v20 = mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk(v18, &v19);
		bool v21 = !v20;
		v12 = v21;
		r11 = v17;
		r10 = v19;
	}
	PTUP v22;
	int64_t v23 = mw_mirth_lexer_ZPlusLexer_peek(r10, &v22);
	int64_t v24 = 10LL /* BLF */;
	int64_t v25 = v23;
	INT v26 = i64_to_int(v25);
	uint64_t v27 = int_to_u64(v26);
	uint8_t v28 = (uint8_t)(v27);
	int64_t v29 = v24;
	INT v30 = i64_to_int(v29);
	uint64_t v31 = int_to_u64(v30);
	uint8_t v32 = (uint8_t)(v31);
	uint64_t v33 = (uint64_t)(v32);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(value_u8(MKU8(v28)));
	uint32_t v36 = (uint32_t)(v35);
	uint64_t v37 = (uint64_t)(v36);
	uint64_t v38 = (uint64_t)(v34);
	bool v39 = (value_u64(MKU64(v37)) == v38);
	STR* branch_ZPlusStr_40;
	PTUP branch_ZPlusLexer_41;
	if (v39) {
		PTUP v42;
		mw_mirth_lexer_ZPlusLexer_newlineZBang(v22, &v42);
		PTUP v43;
		int64_t v44 = mw_mirth_lexer_ZPlusLexer_peek(v42, &v43);
		STR* v45;
		mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v44, r11, &v45);
		PTUP v46;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v43, &v46);
		branch_ZPlusLexer_41 = v46;
		branch_ZPlusStr_40 = v45;
	} else {
		branch_ZPlusLexer_41 = v22;
		branch_ZPlusStr_40 = r11;
	}
	PTUP v47 = mtw_std_maybe_Maybe_1_Some(MKSTR(branch_ZPlusStr_40));
	PTUP v48 = VTUP(((TUP*)PTRPTR(branch_ZPlusLexer_41))->cells[3]);
	decref(MKTUP(v48));
	((TUP*)PTRPTR(branch_ZPlusLexer_41))->cells[3] = MKTUP(v47);
	*out_ZPlusLexer_2 = branch_ZPlusLexer_41;
}
static bool mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk (PTUP in_ZPlusLexer_1, PTUP *out_ZPlusLexer_2) {
	PTUP v4;
	bool v5 = mw_mirth_lexer_ZPlusLexer_doneZAsk(in_ZPlusLexer_1, &v4);
	PTUP branch_ZPlusLexer_6;
	bool branch_Bool_7;
	if (v5) {
		bool v8 = true;
		branch_Bool_7 = v8;
		branch_ZPlusLexer_6 = v4;
	} else {
		PTUP v9;
		int64_t v10 = mw_mirth_lexer_ZPlusLexer_peek(v4, &v9);
		int64_t v11 = 10LL /* BLF */;
		int64_t v12 = v10;
		INT v13 = i64_to_int(v12);
		uint64_t v14 = int_to_u64(v13);
		uint8_t v15 = (uint8_t)(v14);
		int64_t v16 = v11;
		INT v17 = i64_to_int(v16);
		uint64_t v18 = int_to_u64(v17);
		uint8_t v19 = (uint8_t)(v18);
		uint64_t v20 = (uint64_t)(v19);
		uint32_t v21 = (uint32_t)(v20);
		uint64_t v22 = (uint64_t)(value_u8(MKU8(v15)));
		uint32_t v23 = (uint32_t)(v22);
		uint64_t v24 = (uint64_t)(v23);
		uint64_t v25 = (uint64_t)(v21);
		bool v26 = (value_u64(MKU64(v24)) == v25);
		branch_Bool_7 = v26;
		branch_ZPlusLexer_6 = v9;
	}
	*out_ZPlusLexer_2 = branch_ZPlusLexer_6;
	return branch_Bool_7;
}
static PTUP mw_mirth_lexer_ZPlusLexer_nameZ_token (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	incref(MKSTR(in_ZPlusStr_2));
	PTUP v8;
	uint64_t v9 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, in_ZPlusStr_2, &v8);
	PTUP v10 = mtw_mirth_token_TokenValue_Name(v9);
	*out_ZPlusLexer_6 = in_ZPlusLexer_3;
	*out_ZPlusStr_5 = in_ZPlusStr_2;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	PTUP v8;
	STR* v9;
	PTUP v10;
	PTUP v11 = mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_tokenZAsk(in_ZPlusMirth_1, in_ZPlusStr_2, in_ZPlusLexer_3, &v8, &v9, &v10);
	PTUP branch_ZPlusMirth_12;
	STR* branch_ZPlusStr_13;
	PTUP branch_ZPlusLexer_14;
	PTUP branch_Maybe_15;
	switch (PTREXTRA(v11)) {
		case 0LL: { // None
			PTUP v16;
			STR* v17;
			PTUP v18;
			PTUP v19 = mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_rZ_tokenZAsk(v8, v9, v10, &v16, &v17, &v18);
			branch_Maybe_15 = v19;
			branch_ZPlusLexer_14 = v18;
			branch_ZPlusStr_13 = v17;
			branch_ZPlusMirth_12 = v16;
		} break;
		default: {
			branch_Maybe_15 = v11;
			branch_ZPlusLexer_14 = v10;
			branch_ZPlusStr_13 = v9;
			branch_ZPlusMirth_12 = v8;
		} break;
	}
	PTUP branch_ZPlusMirth_20;
	STR* branch_ZPlusStr_21;
	PTUP branch_ZPlusLexer_22;
	PTUP branch_Maybe_23;
	switch (PTREXTRA(branch_Maybe_15)) {
		case 0LL: { // None
			PTUP v24;
			STR* v25;
			PTUP v26;
			PTUP v27 = mw_mirth_lexer_ZPlusLexer_labelZ_popZ_tokenZAsk(branch_ZPlusMirth_12, branch_ZPlusStr_13, branch_ZPlusLexer_14, &v24, &v25, &v26);
			branch_Maybe_23 = v27;
			branch_ZPlusLexer_22 = v26;
			branch_ZPlusStr_21 = v25;
			branch_ZPlusMirth_20 = v24;
		} break;
		default: {
			branch_Maybe_23 = branch_Maybe_15;
			branch_ZPlusLexer_22 = branch_ZPlusLexer_14;
			branch_ZPlusStr_21 = branch_ZPlusStr_13;
			branch_ZPlusMirth_20 = branch_ZPlusMirth_12;
		} break;
	}
	PTUP branch_ZPlusMirth_28;
	STR* branch_ZPlusStr_29;
	PTUP branch_ZPlusLexer_30;
	PTUP branch_Maybe_31;
	switch (PTREXTRA(branch_Maybe_23)) {
		case 0LL: { // None
			PTUP v32;
			STR* v33;
			PTUP v34;
			PTUP v35 = mw_mirth_lexer_ZPlusLexer_labelZ_popZ_rZ_tokenZAsk(branch_ZPlusMirth_20, branch_ZPlusStr_21, branch_ZPlusLexer_22, &v32, &v33, &v34);
			branch_Maybe_31 = v35;
			branch_ZPlusLexer_30 = v34;
			branch_ZPlusStr_29 = v33;
			branch_ZPlusMirth_28 = v32;
		} break;
		default: {
			branch_Maybe_31 = branch_Maybe_23;
			branch_ZPlusLexer_30 = branch_ZPlusLexer_22;
			branch_ZPlusStr_29 = branch_ZPlusStr_21;
			branch_ZPlusMirth_28 = branch_ZPlusMirth_20;
		} break;
	}
	PTUP branch_ZPlusMirth_36;
	STR* branch_ZPlusStr_37;
	PTUP branch_ZPlusLexer_38;
	PTUP branch_Maybe_39;
	switch (PTREXTRA(branch_Maybe_31)) {
		case 0LL: { // None
			PTUP v40;
			STR* v41;
			PTUP v42;
			PTUP v43 = mw_mirth_lexer_ZPlusLexer_labelZ_getZ_tokenZAsk(branch_ZPlusMirth_28, branch_ZPlusStr_29, branch_ZPlusLexer_30, &v40, &v41, &v42);
			branch_Maybe_39 = v43;
			branch_ZPlusLexer_38 = v42;
			branch_ZPlusStr_37 = v41;
			branch_ZPlusMirth_36 = v40;
		} break;
		default: {
			branch_Maybe_39 = branch_Maybe_31;
			branch_ZPlusLexer_38 = branch_ZPlusLexer_30;
			branch_ZPlusStr_37 = branch_ZPlusStr_29;
			branch_ZPlusMirth_36 = branch_ZPlusMirth_28;
		} break;
	}
	PTUP branch_ZPlusMirth_44;
	STR* branch_ZPlusStr_45;
	PTUP branch_ZPlusLexer_46;
	PTUP branch_Maybe_47;
	switch (PTREXTRA(branch_Maybe_39)) {
		case 0LL: { // None
			PTUP v48;
			STR* v49;
			PTUP v50;
			PTUP v51 = mw_mirth_lexer_ZPlusLexer_labelZ_setZ_tokenZAsk(branch_ZPlusMirth_36, branch_ZPlusStr_37, branch_ZPlusLexer_38, &v48, &v49, &v50);
			branch_Maybe_47 = v51;
			branch_ZPlusLexer_46 = v50;
			branch_ZPlusStr_45 = v49;
			branch_ZPlusMirth_44 = v48;
		} break;
		default: {
			branch_Maybe_47 = branch_Maybe_39;
			branch_ZPlusLexer_46 = branch_ZPlusLexer_38;
			branch_ZPlusStr_45 = branch_ZPlusStr_37;
			branch_ZPlusMirth_44 = branch_ZPlusMirth_36;
		} break;
	}
	PTUP branch_ZPlusMirth_52;
	STR* branch_ZPlusStr_53;
	PTUP branch_ZPlusLexer_54;
	PTUP branch_Maybe_55;
	switch (PTREXTRA(branch_Maybe_47)) {
		case 0LL: { // None
			PTUP v56;
			STR* v57;
			PTUP v58;
			PTUP v59 = mw_mirth_lexer_ZPlusLexer_labelZ_lamZ_tokenZAsk(branch_ZPlusMirth_44, branch_ZPlusStr_45, branch_ZPlusLexer_46, &v56, &v57, &v58);
			branch_Maybe_55 = v59;
			branch_ZPlusLexer_54 = v58;
			branch_ZPlusStr_53 = v57;
			branch_ZPlusMirth_52 = v56;
		} break;
		default: {
			branch_Maybe_55 = branch_Maybe_47;
			branch_ZPlusLexer_54 = branch_ZPlusLexer_46;
			branch_ZPlusStr_53 = branch_ZPlusStr_45;
			branch_ZPlusMirth_52 = branch_ZPlusMirth_44;
		} break;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_54;
	*out_ZPlusStr_5 = branch_ZPlusStr_53;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_52;
	return branch_Maybe_55;
}
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_popZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 97LL /* B'a' */;
	int64_t v11 = 122LL /* B'z' */;
	int64_t v12 = v10;
	INT v13 = i64_to_int(v12);
	uint64_t v14 = int_to_u64(v13);
	uint8_t v15 = (uint8_t)(v14);
	int64_t v16 = v9;
	INT v17 = i64_to_int(v16);
	uint64_t v18 = int_to_u64(v17);
	uint8_t v19 = (uint8_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint32_t v21 = (uint32_t)(v20);
	uint64_t v22 = (uint64_t)(value_u8(MKU8(v15)));
	uint32_t v23 = (uint32_t)(v22);
	uint64_t v24 = (uint64_t)(v23);
	uint64_t v25 = (uint64_t)(v21);
	bool v26 = (value_u64(MKU64(v24)) <= v25);
	bool branch_Bool_27;
	if (value_bool(MKBOOL(v26))) {
		int64_t v28 = VI64(MKI64(v9));
		INT v29 = i64_to_int(v28);
		uint64_t v30 = int_to_u64(v29);
		uint8_t v31 = (uint8_t)(v30);
		int64_t v32 = VI64(MKI64(v11));
		INT v33 = i64_to_int(v32);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		uint64_t v36 = (uint64_t)(v35);
		uint32_t v37 = (uint32_t)(v36);
		uint64_t v38 = (uint64_t)(value_u8(MKU8(v31)));
		uint32_t v39 = (uint32_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint64_t v41 = (uint64_t)(v37);
		bool v42 = (value_u64(MKU64(v40)) <= v41);
		branch_Bool_27 = v42;
	} else {
		decref(MKI64(VI64(MKI64(v11))));
		decref(MKI64(VI64(MKI64(v9))));
		bool v43 = false;
		branch_Bool_27 = v43;
	}
	STR* branch_ZPlusStr_44;
	bool branch_Bool_45;
	if (branch_Bool_27) {
		STR* v46;
		int64_t v47 = mw_std_str_ZPlusStr_lastZ_byte(v8, &v46);
		int64_t v48 = 62LL /* B'>' */;
		int64_t v49 = v47;
		INT v50 = i64_to_int(v49);
		uint64_t v51 = int_to_u64(v50);
		uint8_t v52 = (uint8_t)(v51);
		int64_t v53 = v48;
		INT v54 = i64_to_int(v53);
		uint64_t v55 = int_to_u64(v54);
		uint8_t v56 = (uint8_t)(v55);
		uint64_t v57 = (uint64_t)(v56);
		uint32_t v58 = (uint32_t)(v57);
		uint64_t v59 = (uint64_t)(value_u8(MKU8(v52)));
		uint32_t v60 = (uint32_t)(v59);
		uint64_t v61 = (uint64_t)(v60);
		uint64_t v62 = (uint64_t)(v58);
		bool v63 = (value_u64(MKU64(v61)) == v62);
		branch_Bool_45 = v63;
		branch_ZPlusStr_44 = v46;
	} else {
		bool v64 = false;
		branch_Bool_45 = v64;
		branch_ZPlusStr_44 = v8;
	}
	PTUP branch_ZPlusLexer_65;
	STR* branch_ZPlusStr_66;
	PTUP branch_ZPlusMirth_67;
	PTUP branch_Maybe_68;
	if (branch_Bool_45) {
		STR* v69;
		STR* v70 = mw_std_prelude_unsafe_1_sp17(branch_ZPlusStr_44, &v69);
		PTUP v71;
		uint64_t v72 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v70, &v71);
		PTUP v73;
		uint64_t v74 = mw_mirth_label_Label_Label(v71, v72, &v73);
		PTUP v75 = mtw_mirth_token_TokenValue_LabelPop(v74);
		PTUP v76 = mtw_std_maybe_Maybe_1_Some(MKTUP(v75));
		branch_Maybe_68 = v76;
		branch_ZPlusMirth_67 = v73;
		branch_ZPlusStr_66 = v69;
		branch_ZPlusLexer_65 = in_ZPlusLexer_3;
	} else {
		PTUP v77 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_68 = v77;
		branch_ZPlusMirth_67 = in_ZPlusMirth_1;
		branch_ZPlusStr_66 = branch_ZPlusStr_44;
		branch_ZPlusLexer_65 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_65;
	*out_ZPlusStr_5 = branch_ZPlusStr_66;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_67;
	return branch_Maybe_68;
}
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_popZ_rZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 43LL /* B'+' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	STR* branch_ZPlusStr_26;
	bool branch_Bool_27;
	if (v25) {
		STR* v28;
		int64_t v29 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v28);
		int64_t v30 = 97LL /* B'a' */;
		int64_t v31 = 122LL /* B'z' */;
		int64_t v32 = v30;
		INT v33 = i64_to_int(v32);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		int64_t v36 = v29;
		INT v37 = i64_to_int(v36);
		uint64_t v38 = int_to_u64(v37);
		uint8_t v39 = (uint8_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint32_t v41 = (uint32_t)(v40);
		uint64_t v42 = (uint64_t)(value_u8(MKU8(v35)));
		uint32_t v43 = (uint32_t)(v42);
		uint64_t v44 = (uint64_t)(v43);
		uint64_t v45 = (uint64_t)(v41);
		bool v46 = (value_u64(MKU64(v44)) <= v45);
		bool branch_Bool_47;
		if (value_bool(MKBOOL(v46))) {
			int64_t v48 = VI64(MKI64(v29));
			INT v49 = i64_to_int(v48);
			uint64_t v50 = int_to_u64(v49);
			uint8_t v51 = (uint8_t)(v50);
			int64_t v52 = VI64(MKI64(v31));
			INT v53 = i64_to_int(v52);
			uint64_t v54 = int_to_u64(v53);
			uint8_t v55 = (uint8_t)(v54);
			uint64_t v56 = (uint64_t)(v55);
			uint32_t v57 = (uint32_t)(v56);
			uint64_t v58 = (uint64_t)(value_u8(MKU8(v51)));
			uint32_t v59 = (uint32_t)(v58);
			uint64_t v60 = (uint64_t)(v59);
			uint64_t v61 = (uint64_t)(v57);
			bool v62 = (value_u64(MKU64(v60)) <= v61);
			branch_Bool_47 = v62;
		} else {
			decref(MKI64(VI64(MKI64(v31))));
			decref(MKI64(VI64(MKI64(v29))));
			bool v63 = false;
			branch_Bool_47 = v63;
		}
		STR* branch_ZPlusStr_64;
		bool branch_Bool_65;
		if (branch_Bool_47) {
			STR* v66;
			int64_t v67 = mw_std_str_ZPlusStr_lastZ_byte(v28, &v66);
			int64_t v68 = 62LL /* B'>' */;
			int64_t v69 = v67;
			INT v70 = i64_to_int(v69);
			uint64_t v71 = int_to_u64(v70);
			uint8_t v72 = (uint8_t)(v71);
			int64_t v73 = v68;
			INT v74 = i64_to_int(v73);
			uint64_t v75 = int_to_u64(v74);
			uint8_t v76 = (uint8_t)(v75);
			uint64_t v77 = (uint64_t)(v76);
			uint32_t v78 = (uint32_t)(v77);
			uint64_t v79 = (uint64_t)(value_u8(MKU8(v72)));
			uint32_t v80 = (uint32_t)(v79);
			uint64_t v81 = (uint64_t)(v80);
			uint64_t v82 = (uint64_t)(v78);
			bool v83 = (value_u64(MKU64(v81)) == v82);
			branch_Bool_65 = v83;
			branch_ZPlusStr_64 = v66;
		} else {
			bool v84 = false;
			branch_Bool_65 = v84;
			branch_ZPlusStr_64 = v28;
		}
		branch_Bool_27 = branch_Bool_65;
		branch_ZPlusStr_26 = branch_ZPlusStr_64;
	} else {
		bool v85 = false;
		branch_Bool_27 = v85;
		branch_ZPlusStr_26 = v8;
	}
	PTUP branch_ZPlusLexer_86;
	STR* branch_ZPlusStr_87;
	PTUP branch_ZPlusMirth_88;
	PTUP branch_Maybe_89;
	if (branch_Bool_27) {
		STR* v90;
		STR* v91 = mw_std_prelude_unsafe_1_sp17(branch_ZPlusStr_26, &v90);
		PTUP v92;
		uint64_t v93 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v91, &v92);
		PTUP v94;
		uint64_t v95 = mw_mirth_label_Label_Label(v92, v93, &v94);
		PTUP v96 = mtw_mirth_token_TokenValue_LabelPopR(v95);
		PTUP v97 = mtw_std_maybe_Maybe_1_Some(MKTUP(v96));
		branch_Maybe_89 = v97;
		branch_ZPlusMirth_88 = v94;
		branch_ZPlusStr_87 = v90;
		branch_ZPlusLexer_86 = in_ZPlusLexer_3;
	} else {
		PTUP v98 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_89 = v98;
		branch_ZPlusMirth_88 = in_ZPlusMirth_1;
		branch_ZPlusStr_87 = branch_ZPlusStr_26;
		branch_ZPlusLexer_86 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_86;
	*out_ZPlusStr_5 = branch_ZPlusStr_87;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_88;
	return branch_Maybe_89;
}
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 62LL /* B'>' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	STR* branch_ZPlusStr_26;
	bool branch_Bool_27;
	if (v25) {
		STR* v28;
		int64_t v29 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v28);
		int64_t v30 = 97LL /* B'a' */;
		int64_t v31 = 122LL /* B'z' */;
		int64_t v32 = v30;
		INT v33 = i64_to_int(v32);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		int64_t v36 = v29;
		INT v37 = i64_to_int(v36);
		uint64_t v38 = int_to_u64(v37);
		uint8_t v39 = (uint8_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint32_t v41 = (uint32_t)(v40);
		uint64_t v42 = (uint64_t)(value_u8(MKU8(v35)));
		uint32_t v43 = (uint32_t)(v42);
		uint64_t v44 = (uint64_t)(v43);
		uint64_t v45 = (uint64_t)(v41);
		bool v46 = (value_u64(MKU64(v44)) <= v45);
		bool branch_Bool_47;
		if (value_bool(MKBOOL(v46))) {
			int64_t v48 = VI64(MKI64(v29));
			INT v49 = i64_to_int(v48);
			uint64_t v50 = int_to_u64(v49);
			uint8_t v51 = (uint8_t)(v50);
			int64_t v52 = VI64(MKI64(v31));
			INT v53 = i64_to_int(v52);
			uint64_t v54 = int_to_u64(v53);
			uint8_t v55 = (uint8_t)(v54);
			uint64_t v56 = (uint64_t)(v55);
			uint32_t v57 = (uint32_t)(v56);
			uint64_t v58 = (uint64_t)(value_u8(MKU8(v51)));
			uint32_t v59 = (uint32_t)(v58);
			uint64_t v60 = (uint64_t)(v59);
			uint64_t v61 = (uint64_t)(v57);
			bool v62 = (value_u64(MKU64(v60)) <= v61);
			branch_Bool_47 = v62;
		} else {
			decref(MKI64(VI64(MKI64(v31))));
			decref(MKI64(VI64(MKI64(v29))));
			bool v63 = false;
			branch_Bool_47 = v63;
		}
		branch_Bool_27 = branch_Bool_47;
		branch_ZPlusStr_26 = v28;
	} else {
		bool v64 = false;
		branch_Bool_27 = v64;
		branch_ZPlusStr_26 = v8;
	}
	PTUP branch_ZPlusLexer_65;
	STR* branch_ZPlusStr_66;
	PTUP branch_ZPlusMirth_67;
	PTUP branch_Maybe_68;
	if (branch_Bool_27) {
		STR* v69;
		STR* v70 = mw_std_prelude_unsafe_1_sp16(branch_ZPlusStr_26, &v69);
		PTUP v71;
		uint64_t v72 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v70, &v71);
		PTUP v73;
		uint64_t v74 = mw_mirth_label_Label_Label(v71, v72, &v73);
		PTUP v75 = mtw_mirth_token_TokenValue_LabelPush(v74);
		PTUP v76 = mtw_std_maybe_Maybe_1_Some(MKTUP(v75));
		branch_Maybe_68 = v76;
		branch_ZPlusMirth_67 = v73;
		branch_ZPlusStr_66 = v69;
		branch_ZPlusLexer_65 = in_ZPlusLexer_3;
	} else {
		PTUP v77 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_68 = v77;
		branch_ZPlusMirth_67 = in_ZPlusMirth_1;
		branch_ZPlusStr_66 = branch_ZPlusStr_26;
		branch_ZPlusLexer_65 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_65;
	*out_ZPlusStr_5 = branch_ZPlusStr_66;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_67;
	return branch_Maybe_68;
}
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_rZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	STR* v8;
	STR* v9 = mw_std_str_ZPlusStr_firstZ_twoZ_bytes(in_ZPlusStr_2, &v8);
	STR* v10;
	STRLIT(v10, ">+", 2);
	bool v11 = (str_cmp(v9, v10) == 0);
	STR* branch_ZPlusStr_12;
	bool branch_Bool_13;
	if (v11) {
		STR* v14;
		int64_t v15 = mw_std_str_ZPlusStr_thirdZ_byte(v8, &v14);
		int64_t v16 = 97LL /* B'a' */;
		int64_t v17 = 122LL /* B'z' */;
		int64_t v18 = v16;
		INT v19 = i64_to_int(v18);
		uint64_t v20 = int_to_u64(v19);
		uint8_t v21 = (uint8_t)(v20);
		int64_t v22 = v15;
		INT v23 = i64_to_int(v22);
		uint64_t v24 = int_to_u64(v23);
		uint8_t v25 = (uint8_t)(v24);
		uint64_t v26 = (uint64_t)(v25);
		uint32_t v27 = (uint32_t)(v26);
		uint64_t v28 = (uint64_t)(value_u8(MKU8(v21)));
		uint32_t v29 = (uint32_t)(v28);
		uint64_t v30 = (uint64_t)(v29);
		uint64_t v31 = (uint64_t)(v27);
		bool v32 = (value_u64(MKU64(v30)) <= v31);
		bool branch_Bool_33;
		if (value_bool(MKBOOL(v32))) {
			int64_t v34 = VI64(MKI64(v15));
			INT v35 = i64_to_int(v34);
			uint64_t v36 = int_to_u64(v35);
			uint8_t v37 = (uint8_t)(v36);
			int64_t v38 = VI64(MKI64(v17));
			INT v39 = i64_to_int(v38);
			uint64_t v40 = int_to_u64(v39);
			uint8_t v41 = (uint8_t)(v40);
			uint64_t v42 = (uint64_t)(v41);
			uint32_t v43 = (uint32_t)(v42);
			uint64_t v44 = (uint64_t)(value_u8(MKU8(v37)));
			uint32_t v45 = (uint32_t)(v44);
			uint64_t v46 = (uint64_t)(v45);
			uint64_t v47 = (uint64_t)(v43);
			bool v48 = (value_u64(MKU64(v46)) <= v47);
			branch_Bool_33 = v48;
		} else {
			decref(MKI64(VI64(MKI64(v17))));
			decref(MKI64(VI64(MKI64(v15))));
			bool v49 = false;
			branch_Bool_33 = v49;
		}
		branch_Bool_13 = branch_Bool_33;
		branch_ZPlusStr_12 = v14;
	} else {
		bool v50 = false;
		branch_Bool_13 = v50;
		branch_ZPlusStr_12 = v8;
	}
	PTUP branch_ZPlusLexer_51;
	STR* branch_ZPlusStr_52;
	PTUP branch_ZPlusMirth_53;
	PTUP branch_Maybe_54;
	if (branch_Bool_13) {
		STR* v55;
		STR* v56 = mw_std_prelude_unsafe_1_sp16(branch_ZPlusStr_12, &v55);
		PTUP v57;
		uint64_t v58 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v56, &v57);
		PTUP v59;
		uint64_t v60 = mw_mirth_label_Label_Label(v57, v58, &v59);
		PTUP v61 = mtw_mirth_token_TokenValue_LabelPushR(v60);
		PTUP v62 = mtw_std_maybe_Maybe_1_Some(MKTUP(v61));
		branch_Maybe_54 = v62;
		branch_ZPlusMirth_53 = v59;
		branch_ZPlusStr_52 = v55;
		branch_ZPlusLexer_51 = VTUP(MKTUP(in_ZPlusLexer_3));
	} else {
		PTUP v63 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_54 = v63;
		branch_ZPlusMirth_53 = in_ZPlusMirth_1;
		branch_ZPlusStr_52 = branch_ZPlusStr_12;
		branch_ZPlusLexer_51 = VTUP(MKTUP(in_ZPlusLexer_3));
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_51;
	*out_ZPlusStr_5 = branch_ZPlusStr_52;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_53;
	return branch_Maybe_54;
}
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_getZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 64LL /* B'@' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	STR* branch_ZPlusStr_26;
	bool branch_Bool_27;
	if (v25) {
		STR* v28;
		int64_t v29 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v28);
		int64_t v30 = 97LL /* B'a' */;
		int64_t v31 = 122LL /* B'z' */;
		int64_t v32 = v30;
		INT v33 = i64_to_int(v32);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		int64_t v36 = v29;
		INT v37 = i64_to_int(v36);
		uint64_t v38 = int_to_u64(v37);
		uint8_t v39 = (uint8_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint32_t v41 = (uint32_t)(v40);
		uint64_t v42 = (uint64_t)(value_u8(MKU8(v35)));
		uint32_t v43 = (uint32_t)(v42);
		uint64_t v44 = (uint64_t)(v43);
		uint64_t v45 = (uint64_t)(v41);
		bool v46 = (value_u64(MKU64(v44)) <= v45);
		bool branch_Bool_47;
		if (value_bool(MKBOOL(v46))) {
			int64_t v48 = VI64(MKI64(v29));
			INT v49 = i64_to_int(v48);
			uint64_t v50 = int_to_u64(v49);
			uint8_t v51 = (uint8_t)(v50);
			int64_t v52 = VI64(MKI64(v31));
			INT v53 = i64_to_int(v52);
			uint64_t v54 = int_to_u64(v53);
			uint8_t v55 = (uint8_t)(v54);
			uint64_t v56 = (uint64_t)(v55);
			uint32_t v57 = (uint32_t)(v56);
			uint64_t v58 = (uint64_t)(value_u8(MKU8(v51)));
			uint32_t v59 = (uint32_t)(v58);
			uint64_t v60 = (uint64_t)(v59);
			uint64_t v61 = (uint64_t)(v57);
			bool v62 = (value_u64(MKU64(v60)) <= v61);
			branch_Bool_47 = v62;
		} else {
			decref(MKI64(VI64(MKI64(v31))));
			decref(MKI64(VI64(MKI64(v29))));
			bool v63 = false;
			branch_Bool_47 = v63;
		}
		STR* branch_ZPlusStr_64;
		bool branch_Bool_65;
		if (branch_Bool_47) {
			bool v66 = true;
			branch_Bool_65 = v66;
			branch_ZPlusStr_64 = v28;
		} else {
			STR* v67;
			int64_t v68 = mw_std_str_ZPlusStr_secondZ_byte(v28, &v67);
			int64_t v69 = 43LL /* B'+' */;
			int64_t v70 = v68;
			INT v71 = i64_to_int(v70);
			uint64_t v72 = int_to_u64(v71);
			uint8_t v73 = (uint8_t)(v72);
			int64_t v74 = v69;
			INT v75 = i64_to_int(v74);
			uint64_t v76 = int_to_u64(v75);
			uint8_t v77 = (uint8_t)(v76);
			uint64_t v78 = (uint64_t)(v77);
			uint32_t v79 = (uint32_t)(v78);
			uint64_t v80 = (uint64_t)(value_u8(MKU8(v73)));
			uint32_t v81 = (uint32_t)(v80);
			uint64_t v82 = (uint64_t)(v81);
			uint64_t v83 = (uint64_t)(v79);
			bool v84 = (value_u64(MKU64(v82)) == v83);
			STR* branch_ZPlusStr_85;
			bool branch_Bool_86;
			if (v84) {
				STR* v87;
				int64_t v88 = mw_std_str_ZPlusStr_thirdZ_byte(v67, &v87);
				int64_t v89 = 97LL /* B'a' */;
				int64_t v90 = 122LL /* B'z' */;
				int64_t v91 = v89;
				INT v92 = i64_to_int(v91);
				uint64_t v93 = int_to_u64(v92);
				uint8_t v94 = (uint8_t)(v93);
				int64_t v95 = v88;
				INT v96 = i64_to_int(v95);
				uint64_t v97 = int_to_u64(v96);
				uint8_t v98 = (uint8_t)(v97);
				uint64_t v99 = (uint64_t)(v98);
				uint32_t v100 = (uint32_t)(v99);
				uint64_t v101 = (uint64_t)(value_u8(MKU8(v94)));
				uint32_t v102 = (uint32_t)(v101);
				uint64_t v103 = (uint64_t)(v102);
				uint64_t v104 = (uint64_t)(v100);
				bool v105 = (value_u64(MKU64(v103)) <= v104);
				bool branch_Bool_106;
				if (value_bool(MKBOOL(v105))) {
					int64_t v107 = VI64(MKI64(v88));
					INT v108 = i64_to_int(v107);
					uint64_t v109 = int_to_u64(v108);
					uint8_t v110 = (uint8_t)(v109);
					int64_t v111 = VI64(MKI64(v90));
					INT v112 = i64_to_int(v111);
					uint64_t v113 = int_to_u64(v112);
					uint8_t v114 = (uint8_t)(v113);
					uint64_t v115 = (uint64_t)(v114);
					uint32_t v116 = (uint32_t)(v115);
					uint64_t v117 = (uint64_t)(value_u8(MKU8(v110)));
					uint32_t v118 = (uint32_t)(v117);
					uint64_t v119 = (uint64_t)(v118);
					uint64_t v120 = (uint64_t)(v116);
					bool v121 = (value_u64(MKU64(v119)) <= v120);
					branch_Bool_106 = v121;
				} else {
					decref(MKI64(VI64(MKI64(v90))));
					decref(MKI64(VI64(MKI64(v88))));
					bool v122 = false;
					branch_Bool_106 = v122;
				}
				branch_Bool_86 = branch_Bool_106;
				branch_ZPlusStr_85 = v87;
			} else {
				bool v123 = false;
				branch_Bool_86 = v123;
				branch_ZPlusStr_85 = v67;
			}
			branch_Bool_65 = branch_Bool_86;
			branch_ZPlusStr_64 = branch_ZPlusStr_85;
		}
		branch_Bool_27 = branch_Bool_65;
		branch_ZPlusStr_26 = branch_ZPlusStr_64;
	} else {
		bool v124 = false;
		branch_Bool_27 = v124;
		branch_ZPlusStr_26 = v8;
	}
	PTUP branch_ZPlusLexer_125;
	STR* branch_ZPlusStr_126;
	PTUP branch_ZPlusMirth_127;
	PTUP branch_Maybe_128;
	if (branch_Bool_27) {
		STR* v129;
		STR* v130 = mw_std_prelude_unsafe_1_sp16(branch_ZPlusStr_26, &v129);
		PTUP v131;
		uint64_t v132 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v130, &v131);
		PTUP v133;
		uint64_t v134 = mw_mirth_label_Label_Label(v131, v132, &v133);
		PTUP v135 = mtw_mirth_token_TokenValue_LabelGet(v134);
		PTUP v136 = mtw_std_maybe_Maybe_1_Some(MKTUP(v135));
		branch_Maybe_128 = v136;
		branch_ZPlusMirth_127 = v133;
		branch_ZPlusStr_126 = v129;
		branch_ZPlusLexer_125 = in_ZPlusLexer_3;
	} else {
		PTUP v137 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_128 = v137;
		branch_ZPlusMirth_127 = in_ZPlusMirth_1;
		branch_ZPlusStr_126 = branch_ZPlusStr_26;
		branch_ZPlusLexer_125 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_125;
	*out_ZPlusStr_5 = branch_ZPlusStr_126;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_127;
	return branch_Maybe_128;
}
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_setZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 33LL /* B'!' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	STR* branch_ZPlusStr_26;
	bool branch_Bool_27;
	if (v25) {
		STR* v28;
		int64_t v29 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v28);
		int64_t v30 = 97LL /* B'a' */;
		int64_t v31 = 122LL /* B'z' */;
		int64_t v32 = v30;
		INT v33 = i64_to_int(v32);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		int64_t v36 = v29;
		INT v37 = i64_to_int(v36);
		uint64_t v38 = int_to_u64(v37);
		uint8_t v39 = (uint8_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint32_t v41 = (uint32_t)(v40);
		uint64_t v42 = (uint64_t)(value_u8(MKU8(v35)));
		uint32_t v43 = (uint32_t)(v42);
		uint64_t v44 = (uint64_t)(v43);
		uint64_t v45 = (uint64_t)(v41);
		bool v46 = (value_u64(MKU64(v44)) <= v45);
		bool branch_Bool_47;
		if (value_bool(MKBOOL(v46))) {
			int64_t v48 = VI64(MKI64(v29));
			INT v49 = i64_to_int(v48);
			uint64_t v50 = int_to_u64(v49);
			uint8_t v51 = (uint8_t)(v50);
			int64_t v52 = VI64(MKI64(v31));
			INT v53 = i64_to_int(v52);
			uint64_t v54 = int_to_u64(v53);
			uint8_t v55 = (uint8_t)(v54);
			uint64_t v56 = (uint64_t)(v55);
			uint32_t v57 = (uint32_t)(v56);
			uint64_t v58 = (uint64_t)(value_u8(MKU8(v51)));
			uint32_t v59 = (uint32_t)(v58);
			uint64_t v60 = (uint64_t)(v59);
			uint64_t v61 = (uint64_t)(v57);
			bool v62 = (value_u64(MKU64(v60)) <= v61);
			branch_Bool_47 = v62;
		} else {
			decref(MKI64(VI64(MKI64(v31))));
			decref(MKI64(VI64(MKI64(v29))));
			bool v63 = false;
			branch_Bool_47 = v63;
		}
		STR* branch_ZPlusStr_64;
		bool branch_Bool_65;
		if (branch_Bool_47) {
			bool v66 = true;
			branch_Bool_65 = v66;
			branch_ZPlusStr_64 = v28;
		} else {
			STR* v67;
			int64_t v68 = mw_std_str_ZPlusStr_secondZ_byte(v28, &v67);
			int64_t v69 = 43LL /* B'+' */;
			int64_t v70 = v68;
			INT v71 = i64_to_int(v70);
			uint64_t v72 = int_to_u64(v71);
			uint8_t v73 = (uint8_t)(v72);
			int64_t v74 = v69;
			INT v75 = i64_to_int(v74);
			uint64_t v76 = int_to_u64(v75);
			uint8_t v77 = (uint8_t)(v76);
			uint64_t v78 = (uint64_t)(v77);
			uint32_t v79 = (uint32_t)(v78);
			uint64_t v80 = (uint64_t)(value_u8(MKU8(v73)));
			uint32_t v81 = (uint32_t)(v80);
			uint64_t v82 = (uint64_t)(v81);
			uint64_t v83 = (uint64_t)(v79);
			bool v84 = (value_u64(MKU64(v82)) == v83);
			STR* branch_ZPlusStr_85;
			bool branch_Bool_86;
			if (v84) {
				STR* v87;
				int64_t v88 = mw_std_str_ZPlusStr_thirdZ_byte(v67, &v87);
				int64_t v89 = 97LL /* B'a' */;
				int64_t v90 = 122LL /* B'z' */;
				int64_t v91 = v89;
				INT v92 = i64_to_int(v91);
				uint64_t v93 = int_to_u64(v92);
				uint8_t v94 = (uint8_t)(v93);
				int64_t v95 = v88;
				INT v96 = i64_to_int(v95);
				uint64_t v97 = int_to_u64(v96);
				uint8_t v98 = (uint8_t)(v97);
				uint64_t v99 = (uint64_t)(v98);
				uint32_t v100 = (uint32_t)(v99);
				uint64_t v101 = (uint64_t)(value_u8(MKU8(v94)));
				uint32_t v102 = (uint32_t)(v101);
				uint64_t v103 = (uint64_t)(v102);
				uint64_t v104 = (uint64_t)(v100);
				bool v105 = (value_u64(MKU64(v103)) <= v104);
				bool branch_Bool_106;
				if (value_bool(MKBOOL(v105))) {
					int64_t v107 = VI64(MKI64(v88));
					INT v108 = i64_to_int(v107);
					uint64_t v109 = int_to_u64(v108);
					uint8_t v110 = (uint8_t)(v109);
					int64_t v111 = VI64(MKI64(v90));
					INT v112 = i64_to_int(v111);
					uint64_t v113 = int_to_u64(v112);
					uint8_t v114 = (uint8_t)(v113);
					uint64_t v115 = (uint64_t)(v114);
					uint32_t v116 = (uint32_t)(v115);
					uint64_t v117 = (uint64_t)(value_u8(MKU8(v110)));
					uint32_t v118 = (uint32_t)(v117);
					uint64_t v119 = (uint64_t)(v118);
					uint64_t v120 = (uint64_t)(v116);
					bool v121 = (value_u64(MKU64(v119)) <= v120);
					branch_Bool_106 = v121;
				} else {
					decref(MKI64(VI64(MKI64(v90))));
					decref(MKI64(VI64(MKI64(v88))));
					bool v122 = false;
					branch_Bool_106 = v122;
				}
				branch_Bool_86 = branch_Bool_106;
				branch_ZPlusStr_85 = v87;
			} else {
				bool v123 = false;
				branch_Bool_86 = v123;
				branch_ZPlusStr_85 = v67;
			}
			branch_Bool_65 = branch_Bool_86;
			branch_ZPlusStr_64 = branch_ZPlusStr_85;
		}
		branch_Bool_27 = branch_Bool_65;
		branch_ZPlusStr_26 = branch_ZPlusStr_64;
	} else {
		bool v124 = false;
		branch_Bool_27 = v124;
		branch_ZPlusStr_26 = v8;
	}
	PTUP branch_ZPlusLexer_125;
	STR* branch_ZPlusStr_126;
	PTUP branch_ZPlusMirth_127;
	PTUP branch_Maybe_128;
	if (branch_Bool_27) {
		STR* v129;
		STR* v130 = mw_std_prelude_unsafe_1_sp16(branch_ZPlusStr_26, &v129);
		PTUP v131;
		uint64_t v132 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v130, &v131);
		PTUP v133;
		uint64_t v134 = mw_mirth_label_Label_Label(v131, v132, &v133);
		PTUP v135 = mtw_mirth_token_TokenValue_LabelSet(v134);
		PTUP v136 = mtw_std_maybe_Maybe_1_Some(MKTUP(v135));
		branch_Maybe_128 = v136;
		branch_ZPlusMirth_127 = v133;
		branch_ZPlusStr_126 = v129;
		branch_ZPlusLexer_125 = in_ZPlusLexer_3;
	} else {
		PTUP v137 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_128 = v137;
		branch_ZPlusMirth_127 = in_ZPlusMirth_1;
		branch_ZPlusStr_126 = branch_ZPlusStr_26;
		branch_ZPlusLexer_125 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_125;
	*out_ZPlusStr_5 = branch_ZPlusStr_126;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_127;
	return branch_Maybe_128;
}
static PTUP mw_mirth_lexer_ZPlusLexer_labelZ_lamZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 92LL /* B'\' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	STR* branch_ZPlusStr_26;
	bool branch_Bool_27;
	if (v25) {
		STR* v28;
		int64_t v29 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v28);
		int64_t v30 = 97LL /* B'a' */;
		int64_t v31 = 122LL /* B'z' */;
		int64_t v32 = v30;
		INT v33 = i64_to_int(v32);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		int64_t v36 = v29;
		INT v37 = i64_to_int(v36);
		uint64_t v38 = int_to_u64(v37);
		uint8_t v39 = (uint8_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint32_t v41 = (uint32_t)(v40);
		uint64_t v42 = (uint64_t)(value_u8(MKU8(v35)));
		uint32_t v43 = (uint32_t)(v42);
		uint64_t v44 = (uint64_t)(v43);
		uint64_t v45 = (uint64_t)(v41);
		bool v46 = (value_u64(MKU64(v44)) <= v45);
		bool branch_Bool_47;
		if (value_bool(MKBOOL(v46))) {
			int64_t v48 = VI64(MKI64(v29));
			INT v49 = i64_to_int(v48);
			uint64_t v50 = int_to_u64(v49);
			uint8_t v51 = (uint8_t)(v50);
			int64_t v52 = VI64(MKI64(v31));
			INT v53 = i64_to_int(v52);
			uint64_t v54 = int_to_u64(v53);
			uint8_t v55 = (uint8_t)(v54);
			uint64_t v56 = (uint64_t)(v55);
			uint32_t v57 = (uint32_t)(v56);
			uint64_t v58 = (uint64_t)(value_u8(MKU8(v51)));
			uint32_t v59 = (uint32_t)(v58);
			uint64_t v60 = (uint64_t)(v59);
			uint64_t v61 = (uint64_t)(v57);
			bool v62 = (value_u64(MKU64(v60)) <= v61);
			branch_Bool_47 = v62;
		} else {
			decref(MKI64(VI64(MKI64(v31))));
			decref(MKI64(VI64(MKI64(v29))));
			bool v63 = false;
			branch_Bool_47 = v63;
		}
		branch_Bool_27 = branch_Bool_47;
		branch_ZPlusStr_26 = v28;
	} else {
		bool v64 = false;
		branch_Bool_27 = v64;
		branch_ZPlusStr_26 = v8;
	}
	PTUP branch_ZPlusLexer_65;
	STR* branch_ZPlusStr_66;
	PTUP branch_ZPlusMirth_67;
	PTUP branch_Maybe_68;
	if (branch_Bool_27) {
		STR* v69;
		STR* v70 = mw_std_prelude_unsafe_1_sp16(branch_ZPlusStr_26, &v69);
		PTUP v71;
		uint64_t v72 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v70, &v71);
		PTUP v73;
		uint64_t v74 = mw_mirth_label_Label_Label(v71, v72, &v73);
		PTUP v75 = mtw_mirth_token_TokenValue_LabelLam(v74);
		PTUP v76 = mtw_std_maybe_Maybe_1_Some(MKTUP(v75));
		branch_Maybe_68 = v76;
		branch_ZPlusMirth_67 = v73;
		branch_ZPlusStr_66 = v69;
		branch_ZPlusLexer_65 = in_ZPlusLexer_3;
	} else {
		PTUP v77 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_68 = v77;
		branch_ZPlusMirth_67 = in_ZPlusMirth_1;
		branch_ZPlusStr_66 = branch_ZPlusStr_26;
		branch_ZPlusLexer_65 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_65;
	*out_ZPlusStr_5 = branch_ZPlusStr_66;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_67;
	return branch_Maybe_68;
}
static PTUP mw_mirth_lexer_ZPlusLexer_dnameZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, PTUP *out_ZPlusLexer_6) {
	int64_t v8 = 46LL /* BDOT */;
	STR* v9;
	PTUP v10 = mw_std_str_ZPlusStr_splitZ_byte(v8, in_ZPlusStr_2, &v9);
	PTUP v11;
	VAL v12 = mw_std_list_Nest_1_uncons(v10, &v11);
	PTUP v13 = mw_std_list_List_1_ZToNestZAsk(v11);
	PTUP branch_ZPlusMirth_14;
	PTUP branch_ZPlusLexer_15;
	STR* branch_ZPlusStr_16;
	PTUP branch_Maybe_17;
	switch (PTREXTRA(v13)) {
		case 0LL: { // None
			decref(MKSTR(value_str(v12)));
			PTUP v18 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_17 = v18;
			branch_ZPlusStr_16 = v9;
			branch_ZPlusLexer_15 = in_ZPlusLexer_3;
			branch_ZPlusMirth_14 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v19 = mtp_std_maybe_Maybe_1_Some(v13);
			incref(MKSTR(value_str(v12)));
			uint64_t v20 = str_size(value_str(v12));
			INT v21 = u64_to_int(v20);
			INT v22 = WRAP_I63(0LL);
			INT v23 = v22;
			bool v24 = int_eq(v21, v23);
			PTUP branch_ZPlusMirth_25;
			PTUP branch_ZPlusLexer_26;
			STR* branch_ZPlusStr_27;
			PTUP branch_Maybe_28;
			if (v24) {
				decref(MKSTR(value_str(v12)));
				PTUP v29 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_28 = v29;
				branch_ZPlusStr_27 = v9;
				branch_ZPlusLexer_26 = in_ZPlusLexer_3;
				branch_ZPlusMirth_25 = in_ZPlusMirth_1;
			} else {
				PTUP v30;
				uint64_t v31 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, value_str(v12), &v30);
				PTUP v32 = mtw_std_maybe_Maybe_1_Some(MKU64(v31));
				branch_Maybe_28 = v32;
				branch_ZPlusStr_27 = v9;
				branch_ZPlusLexer_26 = in_ZPlusLexer_3;
				branch_ZPlusMirth_25 = v30;
			}
			PTUP v33;
			VAL v34 = mw_std_list_Nest_1_uncons(VTUP(v19), &v33);
			PTUP v35;
			uint64_t v36 = mw_mirth_name_Name_Name(branch_ZPlusMirth_25, value_str(v34), &v35);
			PTUP v37 = PTRMK(0LL /* Nil */,0,0);
			PTUP v38;
			mw_std_list_List_1_buildZBang(v37, &v38);
			bool v39 = true;
			PTUP r40 = v35;
			VAL r41 = MKTUP(branch_ZPlusLexer_26);
			VAL r42 = MKSTR(branch_ZPlusStr_27);
			PTUP r43 = v38;
			PTUP v44 = v33;
			bool v45 = v39;
			bool v46 = v39;
			while (v46) {
				PTUP r47 = r40;
				VAL r48 = r41;
				VAL r49 = r42;
				PTUP r50 = r43;
				PTUP v51 = v44;
				bool v52 = v45;
				PTUP branch_ZPlusMirth_53;
				VAL branch_z_x1_54;
				VAL branch_z_x2_55;
				PTUP branch_ZPlusLister_56;
				PTUP branch_List_57;
				bool branch_Bool_58;
				switch (PTREXTRA(v51)) {
					case 1LL: { // Cons
						PTUP v59;
						VAL v60 = mtp_std_list_List_1_Cons(v51, &v59);
						PTUP v61;
						uint64_t v62 = mw_mirth_name_Name_Name(r47, value_str(v60), &v61);
						PTUP v63;
						mw_std_list_ZPlusLister_1_pushZBang(MKU64(v62), r50, &v63);
						bool v64 = true;
						branch_Bool_58 = v64;
						branch_List_57 = v59;
						branch_ZPlusLister_56 = v63;
						branch_z_x2_55 = r49;
						branch_z_x1_54 = r48;
						branch_ZPlusMirth_53 = v61;
					} break;
					case 0LL: { // Nil
						PTUP v65 = PTRMK(0LL /* Nil */,0,0);
						bool v66 = false;
						branch_Bool_58 = v66;
						branch_List_57 = v65;
						branch_ZPlusLister_56 = r50;
						branch_z_x2_55 = r49;
						branch_z_x1_54 = r48;
						branch_ZPlusMirth_53 = r47;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v46 = branch_Bool_58;
				v45 = branch_Bool_58;
				v44 = branch_List_57;
				r43 = branch_ZPlusLister_56;
				r42 = branch_z_x2_55;
				r41 = branch_z_x1_54;
				r40 = branch_ZPlusMirth_53;
			}
			decref(MKTUP(v44));
			PTUP v67 = mw_std_list_ZPlusLister_1_doneZBang(r43);
			PTUP v68 = mw_std_list_List_1_consZPlus(MKU64(value_u64(MKU64(v36))), v67);
			PTUP v69 = mtw_mirth_name_DName_DName(branch_Maybe_28, v68);
			PTUP v70 = mtw_mirth_token_TokenValue_DName(v69);
			PTUP v71 = mtw_std_maybe_Maybe_1_Some(MKTUP(v70));
			branch_Maybe_17 = v71;
			branch_ZPlusStr_16 = value_str(r42);
			branch_ZPlusLexer_15 = VTUP(r41);
			branch_ZPlusMirth_14 = r40;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_15;
	*out_ZPlusStr_5 = branch_ZPlusStr_16;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_14;
	return branch_Maybe_17;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_docZ_startZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	incref(MKSTR(in_ZPlusStr_1));
	STR* v6;
	STRLIT(v6, "|||", 3);
	bool v7 = (str_cmp(in_ZPlusStr_1, v6) == 0);
	*out_ZPlusLexer_4 = in_ZPlusLexer_2;
	*out_ZPlusStr_3 = in_ZPlusStr_1;
	return v7;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_floatZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_byteZAt(v7, in_ZPlusStr_1, &v8);
	int64_t v10 = 45LL /* B'-' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	int64_t v26 = 43LL /* B'+' */;
	int64_t v27 = v9;
	INT v28 = i64_to_int(v27);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	int64_t v31 = v26;
	INT v32 = i64_to_int(v31);
	uint64_t v33 = int_to_u64(v32);
	uint8_t v34 = (uint8_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint32_t v36 = (uint32_t)(v35);
	uint64_t v37 = (uint64_t)(value_u8(MKU8(v30)));
	uint32_t v38 = (uint32_t)(v37);
	uint64_t v39 = (uint64_t)(v38);
	uint64_t v40 = (uint64_t)(v36);
	bool v41 = (value_u64(MKU64(v39)) == v40);
	bool v42 = (value_bool(MKBOOL(v25)) || v41);
	INT branch_Sizze_43;
	PTUP branch_ZPlusLexer_44;
	STR* branch_ZPlusStr_45;
	INT branch_Offset_46;
	if (v42) {
		INT v47 = WRAP_I63(1LL);
		INT v48 = v47;
		INT v49 = int_add(v7, v48);
		branch_Offset_46 = v49;
		branch_ZPlusStr_45 = v8;
		branch_ZPlusLexer_44 = in_ZPlusLexer_2;
		branch_Sizze_43 = v6;
	} else {
		branch_Offset_46 = v7;
		branch_ZPlusStr_45 = v8;
		branch_ZPlusLexer_44 = in_ZPlusLexer_2;
		branch_Sizze_43 = v6;
	}
	incref(MKINT(branch_Offset_46));
	STR* v50;
	int64_t v51 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_46, branch_ZPlusStr_45, &v50);
	int64_t v52 = 48LL /* B'0' */;
	int64_t v53 = 57LL /* B'9' */;
	int64_t v54 = v52;
	INT v55 = i64_to_int(v54);
	uint64_t v56 = int_to_u64(v55);
	uint8_t v57 = (uint8_t)(v56);
	int64_t v58 = v51;
	INT v59 = i64_to_int(v58);
	uint64_t v60 = int_to_u64(v59);
	uint8_t v61 = (uint8_t)(v60);
	uint64_t v62 = (uint64_t)(v61);
	uint32_t v63 = (uint32_t)(v62);
	uint64_t v64 = (uint64_t)(value_u8(MKU8(v57)));
	uint32_t v65 = (uint32_t)(v64);
	uint64_t v66 = (uint64_t)(v65);
	uint64_t v67 = (uint64_t)(v63);
	bool v68 = (value_u64(MKU64(v66)) <= v67);
	bool branch_Bool_69;
	if (value_bool(MKBOOL(v68))) {
		int64_t v70 = VI64(MKI64(v51));
		INT v71 = i64_to_int(v70);
		uint64_t v72 = int_to_u64(v71);
		uint8_t v73 = (uint8_t)(v72);
		int64_t v74 = VI64(MKI64(v53));
		INT v75 = i64_to_int(v74);
		uint64_t v76 = int_to_u64(v75);
		uint8_t v77 = (uint8_t)(v76);
		uint64_t v78 = (uint64_t)(v77);
		uint32_t v79 = (uint32_t)(v78);
		uint64_t v80 = (uint64_t)(value_u8(MKU8(v73)));
		uint32_t v81 = (uint32_t)(v80);
		uint64_t v82 = (uint64_t)(v81);
		uint64_t v83 = (uint64_t)(v79);
		bool v84 = (value_u64(MKU64(v82)) <= v83);
		branch_Bool_69 = v84;
	} else {
		decref(MKI64(VI64(MKI64(v53))));
		decref(MKI64(VI64(MKI64(v51))));
		bool v85 = false;
		branch_Bool_69 = v85;
	}
	INT v86 = branch_Sizze_43;
	PTUP r87 = branch_ZPlusLexer_44;
	INT v88 = branch_Offset_46;
	STR* r89 = v50;
	bool v90 = branch_Bool_69;
	while (v90) {
		INT v91 = v86;
		PTUP r92 = r87;
		INT v93 = v88;
		STR* r94 = r89;
		INT v95 = WRAP_I63(1LL);
		INT v96 = v95;
		INT v97 = int_add(v91, v96);
		INT v98 = WRAP_I63(1LL);
		INT v99 = v98;
		INT v100 = int_add(v93, v99);
		incref(MKINT(v100));
		STR* v101;
		int64_t v102 = mw_std_str_ZPlusStr_byteZAt(v100, r94, &v101);
		int64_t v103 = 48LL /* B'0' */;
		int64_t v104 = 57LL /* B'9' */;
		int64_t v105 = v103;
		INT v106 = i64_to_int(v105);
		uint64_t v107 = int_to_u64(v106);
		uint8_t v108 = (uint8_t)(v107);
		int64_t v109 = v102;
		INT v110 = i64_to_int(v109);
		uint64_t v111 = int_to_u64(v110);
		uint8_t v112 = (uint8_t)(v111);
		uint64_t v113 = (uint64_t)(v112);
		uint32_t v114 = (uint32_t)(v113);
		uint64_t v115 = (uint64_t)(value_u8(MKU8(v108)));
		uint32_t v116 = (uint32_t)(v115);
		uint64_t v117 = (uint64_t)(v116);
		uint64_t v118 = (uint64_t)(v114);
		bool v119 = (value_u64(MKU64(v117)) <= v118);
		bool branch_Bool_120;
		if (value_bool(MKBOOL(v119))) {
			int64_t v121 = VI64(MKI64(v102));
			INT v122 = i64_to_int(v121);
			uint64_t v123 = int_to_u64(v122);
			uint8_t v124 = (uint8_t)(v123);
			int64_t v125 = VI64(MKI64(v104));
			INT v126 = i64_to_int(v125);
			uint64_t v127 = int_to_u64(v126);
			uint8_t v128 = (uint8_t)(v127);
			uint64_t v129 = (uint64_t)(v128);
			uint32_t v130 = (uint32_t)(v129);
			uint64_t v131 = (uint64_t)(value_u8(MKU8(v124)));
			uint32_t v132 = (uint32_t)(v131);
			uint64_t v133 = (uint64_t)(v132);
			uint64_t v134 = (uint64_t)(v130);
			bool v135 = (value_u64(MKU64(v133)) <= v134);
			branch_Bool_120 = v135;
		} else {
			decref(MKI64(VI64(MKI64(v104))));
			decref(MKI64(VI64(MKI64(v102))));
			bool v136 = false;
			branch_Bool_120 = v136;
		}
		v90 = branch_Bool_120;
		r89 = v101;
		v88 = v100;
		r87 = r92;
		v86 = v97;
	}
	incref(MKINT(v88));
	STR* v137;
	int64_t v138 = mw_std_str_ZPlusStr_byteZAt(v88, r89, &v137);
	int64_t v139 = 46LL /* BDOT */;
	int64_t v140 = v138;
	INT v141 = i64_to_int(v140);
	uint64_t v142 = int_to_u64(v141);
	uint8_t v143 = (uint8_t)(v142);
	int64_t v144 = v139;
	INT v145 = i64_to_int(v144);
	uint64_t v146 = int_to_u64(v145);
	uint8_t v147 = (uint8_t)(v146);
	uint64_t v148 = (uint64_t)(v147);
	uint32_t v149 = (uint32_t)(v148);
	uint64_t v150 = (uint64_t)(value_u8(MKU8(v143)));
	uint32_t v151 = (uint32_t)(v150);
	uint64_t v152 = (uint64_t)(v151);
	uint64_t v153 = (uint64_t)(v149);
	bool v154 = (value_u64(MKU64(v152)) == v153);
	PTUP branch_ZPlusLexer_155;
	STR* branch_ZPlusStr_156;
	bool branch_Bool_157;
	if (v154) {
		INT v158 = WRAP_I63(1LL);
		INT v159 = v158;
		INT v160 = int_add(v86, v159);
		INT v161 = WRAP_I63(1LL);
		INT v162 = v161;
		INT v163 = int_add(v88, v162);
		incref(MKINT(v163));
		STR* v164;
		int64_t v165 = mw_std_str_ZPlusStr_byteZAt(v163, v137, &v164);
		int64_t v166 = 48LL /* B'0' */;
		int64_t v167 = 57LL /* B'9' */;
		int64_t v168 = v166;
		INT v169 = i64_to_int(v168);
		uint64_t v170 = int_to_u64(v169);
		uint8_t v171 = (uint8_t)(v170);
		int64_t v172 = v165;
		INT v173 = i64_to_int(v172);
		uint64_t v174 = int_to_u64(v173);
		uint8_t v175 = (uint8_t)(v174);
		uint64_t v176 = (uint64_t)(v175);
		uint32_t v177 = (uint32_t)(v176);
		uint64_t v178 = (uint64_t)(value_u8(MKU8(v171)));
		uint32_t v179 = (uint32_t)(v178);
		uint64_t v180 = (uint64_t)(v179);
		uint64_t v181 = (uint64_t)(v177);
		bool v182 = (value_u64(MKU64(v180)) <= v181);
		bool branch_Bool_183;
		if (value_bool(MKBOOL(v182))) {
			int64_t v184 = VI64(MKI64(v165));
			INT v185 = i64_to_int(v184);
			uint64_t v186 = int_to_u64(v185);
			uint8_t v187 = (uint8_t)(v186);
			int64_t v188 = VI64(MKI64(v167));
			INT v189 = i64_to_int(v188);
			uint64_t v190 = int_to_u64(v189);
			uint8_t v191 = (uint8_t)(v190);
			uint64_t v192 = (uint64_t)(v191);
			uint32_t v193 = (uint32_t)(v192);
			uint64_t v194 = (uint64_t)(value_u8(MKU8(v187)));
			uint32_t v195 = (uint32_t)(v194);
			uint64_t v196 = (uint64_t)(v195);
			uint64_t v197 = (uint64_t)(v193);
			bool v198 = (value_u64(MKU64(v196)) <= v197);
			branch_Bool_183 = v198;
		} else {
			decref(MKI64(VI64(MKI64(v167))));
			decref(MKI64(VI64(MKI64(v165))));
			bool v199 = false;
			branch_Bool_183 = v199;
		}
		PTUP r200 = r87;
		INT v201 = v160;
		INT v202 = v163;
		STR* r203 = v164;
		bool v204 = branch_Bool_183;
		while (v204) {
			PTUP r205 = r200;
			INT v206 = v201;
			INT v207 = v202;
			STR* r208 = r203;
			INT v209 = WRAP_I63(1LL);
			INT v210 = v209;
			INT v211 = int_add(v206, v210);
			INT v212 = WRAP_I63(1LL);
			INT v213 = v212;
			INT v214 = int_add(v207, v213);
			incref(MKINT(v214));
			STR* v215;
			int64_t v216 = mw_std_str_ZPlusStr_byteZAt(v214, r208, &v215);
			int64_t v217 = 48LL /* B'0' */;
			int64_t v218 = 57LL /* B'9' */;
			int64_t v219 = v217;
			INT v220 = i64_to_int(v219);
			uint64_t v221 = int_to_u64(v220);
			uint8_t v222 = (uint8_t)(v221);
			int64_t v223 = v216;
			INT v224 = i64_to_int(v223);
			uint64_t v225 = int_to_u64(v224);
			uint8_t v226 = (uint8_t)(v225);
			uint64_t v227 = (uint64_t)(v226);
			uint32_t v228 = (uint32_t)(v227);
			uint64_t v229 = (uint64_t)(value_u8(MKU8(v222)));
			uint32_t v230 = (uint32_t)(v229);
			uint64_t v231 = (uint64_t)(v230);
			uint64_t v232 = (uint64_t)(v228);
			bool v233 = (value_u64(MKU64(v231)) <= v232);
			bool branch_Bool_234;
			if (value_bool(MKBOOL(v233))) {
				int64_t v235 = VI64(MKI64(v216));
				INT v236 = i64_to_int(v235);
				uint64_t v237 = int_to_u64(v236);
				uint8_t v238 = (uint8_t)(v237);
				int64_t v239 = VI64(MKI64(v218));
				INT v240 = i64_to_int(v239);
				uint64_t v241 = int_to_u64(v240);
				uint8_t v242 = (uint8_t)(v241);
				uint64_t v243 = (uint64_t)(v242);
				uint32_t v244 = (uint32_t)(v243);
				uint64_t v245 = (uint64_t)(value_u8(MKU8(v238)));
				uint32_t v246 = (uint32_t)(v245);
				uint64_t v247 = (uint64_t)(v246);
				uint64_t v248 = (uint64_t)(v244);
				bool v249 = (value_u64(MKU64(v247)) <= v248);
				branch_Bool_234 = v249;
			} else {
				decref(MKI64(VI64(MKI64(v218))));
				decref(MKI64(VI64(MKI64(v216))));
				bool v250 = false;
				branch_Bool_234 = v250;
			}
			v204 = branch_Bool_234;
			r203 = v215;
			v202 = v214;
			v201 = v211;
			r200 = r205;
		}
		INT v251 = WRAP_I63(3LL);
		bool v252 = int_le(value_int(MKINT(v251)), v201);
		incref(MKSTR(r203));
		uint64_t v253 = str_size(r203);
		INT v254 = u64_to_int(v253);
		bool v255 = int_eq(v202, v254);
		bool v256 = (v252 && v255);
		branch_Bool_157 = v256;
		branch_ZPlusStr_156 = r203;
		branch_ZPlusLexer_155 = r200;
	} else {
		decref(MKINT(v88));
		decref(MKINT(v86));
		bool v257 = false;
		branch_Bool_157 = v257;
		branch_ZPlusStr_156 = v137;
		branch_ZPlusLexer_155 = r87;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_155;
	*out_ZPlusStr_3 = branch_ZPlusStr_156;
	return branch_Bool_157;
}
static uint64_t mw_mirth_lexer_ZPlusLexer_floatZ_tokenZAsk (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ZPlusLexer_3, uint64_t in_Token_4, PTUP *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, PTUP *out_ZPlusLexer_7, PTUP *out_Maybe_9) {
	STR* v10;
	PTUP v11;
	bool v12 = mw_mirth_lexer_ZPlusLexer_isZ_floatZAsk(in_ZPlusStr_2, in_ZPlusLexer_3, &v10, &v11);
	uint64_t branch_Token_13;
	PTUP branch_ZPlusMirth_14;
	STR* branch_ZPlusStr_15;
	VAL branch_z_x1_16;
	PTUP branch_Maybe_17;
	if (v12) {
		incref(MKSTR(v10));
		PTUP v18 = mw_std_prim_Str_ZToF64ZAsk(v10);
		uint64_t branch_Token_19;
		PTUP branch_ZPlusMirth_20;
		VAL branch_z_x1_21;
		VAL branch_z_x2_22;
		VAL branch_z_x3_23;
		switch (PTREXTRA(v18)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v18);
				branch_z_x3_23 = v24;
				branch_z_x2_22 = MKSTR(v10);
				branch_z_x1_21 = MKTUP(v11);
				branch_ZPlusMirth_20 = in_ZPlusMirth_1;
				branch_Token_19 = in_Token_4;
			} break;
			case 0LL: { // None
				STR* v25;
				STRLIT(v25, "[lexer] bug: failed to parse float literal", 42);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_4, v25);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		PTUP v29 = mtw_mirth_token_TokenValue_F64(value_f64(branch_z_x3_23));
		PTUP v30 = mtw_std_maybe_Maybe_1_Some(MKTUP(v29));
		branch_Maybe_17 = v30;
		branch_z_x1_16 = branch_z_x1_21;
		branch_ZPlusStr_15 = value_str(branch_z_x2_22);
		branch_ZPlusMirth_14 = branch_ZPlusMirth_20;
		branch_Token_13 = branch_Token_19;
	} else {
		PTUP v31 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_17 = v31;
		branch_z_x1_16 = MKTUP(v11);
		branch_ZPlusStr_15 = v10;
		branch_ZPlusMirth_14 = in_ZPlusMirth_1;
		branch_Token_13 = in_Token_4;
	}
	*out_Maybe_9 = branch_Maybe_17;
	*out_ZPlusLexer_7 = VTUP(branch_z_x1_16);
	*out_ZPlusStr_6 = branch_ZPlusStr_15;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_14;
	return branch_Token_13;
}
static PTUP mw_mirth_lexer_ZPlusLexer_intZ_tokenZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	PTUP v6 = PTRMK(0LL /* None */,0,0);
	STR* branch_ZPlusStr_7;
	PTUP branch_ZPlusLexer_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v6)) {
		case 0LL: { // None
			STR* v10;
			PTUP v11;
			bool v12 = mw_mirth_lexer_ZPlusLexer_isZ_decZ_intZAsk(in_ZPlusStr_1, in_ZPlusLexer_2, &v10, &v11);
			STR* branch_ZPlusStr_13;
			PTUP branch_ZPlusLexer_14;
			PTUP branch_Maybe_15;
			if (v12) {
				STR* v16;
				PTUP v17;
				PTUP v18 = mw_mirth_lexer_ZPlusLexer_decZ_intZAsk(v10, v11, &v16, &v17);
				PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18));
				branch_Maybe_15 = v19;
				branch_ZPlusLexer_14 = v17;
				branch_ZPlusStr_13 = v16;
			} else {
				PTUP v20 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_15 = v20;
				branch_ZPlusLexer_14 = v11;
				branch_ZPlusStr_13 = v10;
			}
			branch_Maybe_9 = branch_Maybe_15;
			branch_ZPlusLexer_8 = branch_ZPlusLexer_14;
			branch_ZPlusStr_7 = branch_ZPlusStr_13;
		} break;
		default: {
			branch_Maybe_9 = v6;
			branch_ZPlusLexer_8 = in_ZPlusLexer_2;
			branch_ZPlusStr_7 = in_ZPlusStr_1;
		} break;
	}
	STR* branch_ZPlusStr_21;
	PTUP branch_ZPlusLexer_22;
	PTUP branch_Maybe_23;
	switch (PTREXTRA(branch_Maybe_9)) {
		case 0LL: { // None
			STR* v24;
			PTUP v25;
			bool v26 = mw_mirth_lexer_ZPlusLexer_isZ_hexZ_intZAsk(branch_ZPlusStr_7, branch_ZPlusLexer_8, &v24, &v25);
			STR* branch_ZPlusStr_27;
			PTUP branch_ZPlusLexer_28;
			PTUP branch_Maybe_29;
			if (v26) {
				STR* v30;
				PTUP v31;
				PTUP v32 = mw_mirth_lexer_ZPlusLexer_hexZ_intZAsk(v24, v25, &v30, &v31);
				PTUP v33 = mtw_std_maybe_Maybe_1_Some(MKTUP(v32));
				branch_Maybe_29 = v33;
				branch_ZPlusLexer_28 = v31;
				branch_ZPlusStr_27 = v30;
			} else {
				PTUP v34 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_29 = v34;
				branch_ZPlusLexer_28 = v25;
				branch_ZPlusStr_27 = v24;
			}
			branch_Maybe_23 = branch_Maybe_29;
			branch_ZPlusLexer_22 = branch_ZPlusLexer_28;
			branch_ZPlusStr_21 = branch_ZPlusStr_27;
		} break;
		default: {
			branch_Maybe_23 = branch_Maybe_9;
			branch_ZPlusLexer_22 = branch_ZPlusLexer_8;
			branch_ZPlusStr_21 = branch_ZPlusStr_7;
		} break;
	}
	STR* branch_ZPlusStr_35;
	PTUP branch_ZPlusLexer_36;
	PTUP branch_Maybe_37;
	switch (PTREXTRA(branch_Maybe_23)) {
		case 0LL: { // None
			STR* v38;
			PTUP v39;
			bool v40 = mw_mirth_lexer_ZPlusLexer_isZ_octZ_intZAsk(branch_ZPlusStr_21, branch_ZPlusLexer_22, &v38, &v39);
			STR* branch_ZPlusStr_41;
			PTUP branch_ZPlusLexer_42;
			PTUP branch_Maybe_43;
			if (v40) {
				STR* v44;
				PTUP v45;
				PTUP v46 = mw_mirth_lexer_ZPlusLexer_octZ_intZAsk(v38, v39, &v44, &v45);
				PTUP v47 = mtw_std_maybe_Maybe_1_Some(MKTUP(v46));
				branch_Maybe_43 = v47;
				branch_ZPlusLexer_42 = v45;
				branch_ZPlusStr_41 = v44;
			} else {
				PTUP v48 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_43 = v48;
				branch_ZPlusLexer_42 = v39;
				branch_ZPlusStr_41 = v38;
			}
			branch_Maybe_37 = branch_Maybe_43;
			branch_ZPlusLexer_36 = branch_ZPlusLexer_42;
			branch_ZPlusStr_35 = branch_ZPlusStr_41;
		} break;
		default: {
			branch_Maybe_37 = branch_Maybe_23;
			branch_ZPlusLexer_36 = branch_ZPlusLexer_22;
			branch_ZPlusStr_35 = branch_ZPlusStr_21;
		} break;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_36;
	*out_ZPlusStr_3 = branch_ZPlusStr_35;
	return branch_Maybe_37;
}
static PTUP mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, INT in_Offset_3, STR* *out_ZPlusStr_4, PTUP *out_ZPlusLexer_5) {
	STR* v7;
	STR* v8 = mw_std_str_ZPlusStr_dropZ_slice(in_ZPlusStr_1, in_Offset_3, &v7);
	PTUP v9 = PTRMK(0LL /* None */,0,0);
	STR* branch_Str_10;
	PTUP branch_Maybe_11;
	switch (PTREXTRA(v9)) {
		case 0LL: { // None
			incref(MKSTR(v8));
			STR* v12;
			STRLIT(v12, "", 0);
			bool v13 = (str_cmp(v8, v12) == 0);
			PTUP branch_Maybe_14;
			if (v13) {
				int64_t v15 = 0LL /* Int */;
				PTUP v16 = mtw_std_maybe_Maybe_1_Some(MKI64(v15));
				branch_Maybe_14 = v16;
			} else {
				PTUP v17 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_14 = v17;
			}
			branch_Maybe_11 = branch_Maybe_14;
			branch_Str_10 = v8;
		} break;
		default: {
			branch_Maybe_11 = v9;
			branch_Str_10 = v8;
		} break;
	}
	STR* branch_Str_18;
	PTUP branch_Maybe_19;
	switch (PTREXTRA(branch_Maybe_11)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_10));
			STR* v20;
			STRLIT(v20, "u", 1);
			bool v21 = (str_cmp(branch_Str_10, v20) == 0);
			PTUP branch_Maybe_22;
			if (v21) {
				int64_t v23 = 1LL /* Nat */;
				PTUP v24 = mtw_std_maybe_Maybe_1_Some(MKI64(v23));
				branch_Maybe_22 = v24;
			} else {
				PTUP v25 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_22 = v25;
			}
			branch_Maybe_19 = branch_Maybe_22;
			branch_Str_18 = branch_Str_10;
		} break;
		default: {
			branch_Maybe_19 = branch_Maybe_11;
			branch_Str_18 = branch_Str_10;
		} break;
	}
	STR* branch_Str_26;
	PTUP branch_Maybe_27;
	switch (PTREXTRA(branch_Maybe_19)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_18));
			STR* v28;
			STRLIT(v28, "u8", 2);
			bool v29 = (str_cmp(branch_Str_18, v28) == 0);
			PTUP branch_Maybe_30;
			if (v29) {
				int64_t v31 = 2LL /* U8 */;
				PTUP v32 = mtw_std_maybe_Maybe_1_Some(MKI64(v31));
				branch_Maybe_30 = v32;
			} else {
				PTUP v33 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_30 = v33;
			}
			branch_Maybe_27 = branch_Maybe_30;
			branch_Str_26 = branch_Str_18;
		} break;
		default: {
			branch_Maybe_27 = branch_Maybe_19;
			branch_Str_26 = branch_Str_18;
		} break;
	}
	STR* branch_Str_34;
	PTUP branch_Maybe_35;
	switch (PTREXTRA(branch_Maybe_27)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_26));
			STR* v36;
			STRLIT(v36, "u16", 3);
			bool v37 = (str_cmp(branch_Str_26, v36) == 0);
			PTUP branch_Maybe_38;
			if (v37) {
				int64_t v39 = 3LL /* U16 */;
				PTUP v40 = mtw_std_maybe_Maybe_1_Some(MKI64(v39));
				branch_Maybe_38 = v40;
			} else {
				PTUP v41 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_38 = v41;
			}
			branch_Maybe_35 = branch_Maybe_38;
			branch_Str_34 = branch_Str_26;
		} break;
		default: {
			branch_Maybe_35 = branch_Maybe_27;
			branch_Str_34 = branch_Str_26;
		} break;
	}
	STR* branch_Str_42;
	PTUP branch_Maybe_43;
	switch (PTREXTRA(branch_Maybe_35)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_34));
			STR* v44;
			STRLIT(v44, "u32", 3);
			bool v45 = (str_cmp(branch_Str_34, v44) == 0);
			PTUP branch_Maybe_46;
			if (v45) {
				int64_t v47 = 4LL /* U32 */;
				PTUP v48 = mtw_std_maybe_Maybe_1_Some(MKI64(v47));
				branch_Maybe_46 = v48;
			} else {
				PTUP v49 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_46 = v49;
			}
			branch_Maybe_43 = branch_Maybe_46;
			branch_Str_42 = branch_Str_34;
		} break;
		default: {
			branch_Maybe_43 = branch_Maybe_35;
			branch_Str_42 = branch_Str_34;
		} break;
	}
	STR* branch_Str_50;
	PTUP branch_Maybe_51;
	switch (PTREXTRA(branch_Maybe_43)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_42));
			STR* v52;
			STRLIT(v52, "u64", 3);
			bool v53 = (str_cmp(branch_Str_42, v52) == 0);
			PTUP branch_Maybe_54;
			if (v53) {
				int64_t v55 = 5LL /* U64 */;
				PTUP v56 = mtw_std_maybe_Maybe_1_Some(MKI64(v55));
				branch_Maybe_54 = v56;
			} else {
				PTUP v57 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_54 = v57;
			}
			branch_Maybe_51 = branch_Maybe_54;
			branch_Str_50 = branch_Str_42;
		} break;
		default: {
			branch_Maybe_51 = branch_Maybe_43;
			branch_Str_50 = branch_Str_42;
		} break;
	}
	STR* branch_Str_58;
	PTUP branch_Maybe_59;
	switch (PTREXTRA(branch_Maybe_51)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_50));
			STR* v60;
			STRLIT(v60, "i8", 2);
			bool v61 = (str_cmp(branch_Str_50, v60) == 0);
			PTUP branch_Maybe_62;
			if (v61) {
				int64_t v63 = 6LL /* I8 */;
				PTUP v64 = mtw_std_maybe_Maybe_1_Some(MKI64(v63));
				branch_Maybe_62 = v64;
			} else {
				PTUP v65 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_62 = v65;
			}
			branch_Maybe_59 = branch_Maybe_62;
			branch_Str_58 = branch_Str_50;
		} break;
		default: {
			branch_Maybe_59 = branch_Maybe_51;
			branch_Str_58 = branch_Str_50;
		} break;
	}
	STR* branch_Str_66;
	PTUP branch_Maybe_67;
	switch (PTREXTRA(branch_Maybe_59)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_58));
			STR* v68;
			STRLIT(v68, "i16", 3);
			bool v69 = (str_cmp(branch_Str_58, v68) == 0);
			PTUP branch_Maybe_70;
			if (v69) {
				int64_t v71 = 7LL /* I16 */;
				PTUP v72 = mtw_std_maybe_Maybe_1_Some(MKI64(v71));
				branch_Maybe_70 = v72;
			} else {
				PTUP v73 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_70 = v73;
			}
			branch_Maybe_67 = branch_Maybe_70;
			branch_Str_66 = branch_Str_58;
		} break;
		default: {
			branch_Maybe_67 = branch_Maybe_59;
			branch_Str_66 = branch_Str_58;
		} break;
	}
	STR* branch_Str_74;
	PTUP branch_Maybe_75;
	switch (PTREXTRA(branch_Maybe_67)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_66));
			STR* v76;
			STRLIT(v76, "i32", 3);
			bool v77 = (str_cmp(branch_Str_66, v76) == 0);
			PTUP branch_Maybe_78;
			if (v77) {
				int64_t v79 = 8LL /* I32 */;
				PTUP v80 = mtw_std_maybe_Maybe_1_Some(MKI64(v79));
				branch_Maybe_78 = v80;
			} else {
				PTUP v81 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_78 = v81;
			}
			branch_Maybe_75 = branch_Maybe_78;
			branch_Str_74 = branch_Str_66;
		} break;
		default: {
			branch_Maybe_75 = branch_Maybe_67;
			branch_Str_74 = branch_Str_66;
		} break;
	}
	STR* branch_Str_82;
	PTUP branch_Maybe_83;
	switch (PTREXTRA(branch_Maybe_75)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_74));
			STR* v84;
			STRLIT(v84, "i64", 3);
			bool v85 = (str_cmp(branch_Str_74, v84) == 0);
			PTUP branch_Maybe_86;
			if (v85) {
				int64_t v87 = 9LL /* I64 */;
				PTUP v88 = mtw_std_maybe_Maybe_1_Some(MKI64(v87));
				branch_Maybe_86 = v88;
			} else {
				PTUP v89 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_86 = v89;
			}
			branch_Maybe_83 = branch_Maybe_86;
			branch_Str_82 = branch_Str_74;
		} break;
		default: {
			branch_Maybe_83 = branch_Maybe_75;
			branch_Str_82 = branch_Str_74;
		} break;
	}
	decref(MKSTR(branch_Str_82));
	*out_ZPlusLexer_5 = VTUP(MKTUP(in_ZPlusLexer_2));
	*out_ZPlusStr_4 = v7;
	return branch_Maybe_83;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_decZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_byteZAt(v7, in_ZPlusStr_1, &v8);
	int64_t v10 = 45LL /* B'-' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	int64_t v26 = 43LL /* B'+' */;
	int64_t v27 = v9;
	INT v28 = i64_to_int(v27);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	int64_t v31 = v26;
	INT v32 = i64_to_int(v31);
	uint64_t v33 = int_to_u64(v32);
	uint8_t v34 = (uint8_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint32_t v36 = (uint32_t)(v35);
	uint64_t v37 = (uint64_t)(value_u8(MKU8(v30)));
	uint32_t v38 = (uint32_t)(v37);
	uint64_t v39 = (uint64_t)(v38);
	uint64_t v40 = (uint64_t)(v36);
	bool v41 = (value_u64(MKU64(v39)) == v40);
	bool v42 = (value_bool(MKBOOL(v25)) || v41);
	INT branch_Sizze_43;
	PTUP branch_ZPlusLexer_44;
	STR* branch_ZPlusStr_45;
	INT branch_Offset_46;
	if (v42) {
		INT v47 = WRAP_I63(1LL);
		INT v48 = v47;
		INT v49 = int_add(v7, v48);
		branch_Offset_46 = v49;
		branch_ZPlusStr_45 = v8;
		branch_ZPlusLexer_44 = in_ZPlusLexer_2;
		branch_Sizze_43 = v6;
	} else {
		branch_Offset_46 = v7;
		branch_ZPlusStr_45 = v8;
		branch_ZPlusLexer_44 = in_ZPlusLexer_2;
		branch_Sizze_43 = v6;
	}
	incref(MKINT(branch_Sizze_43));
	INT v50 = WRAP_I63(0LL);
	INT v51 = v50;
	bool v52 = int_lt(v51, value_int(MKINT(branch_Sizze_43)));
	INT branch_Offset_53;
	bool branch_Bool_54;
	STR* branch_ZPlusStr_55;
	VAL branch_z_x1_56;
	if (v52) {
		incref(MKINT(value_int(MKINT(branch_Offset_46))));
		STR* v57;
		int64_t v58 = mw_std_str_ZPlusStr_byteZAt(value_int(MKINT(branch_Offset_46)), branch_ZPlusStr_45, &v57);
		int64_t v59 = 95LL /* B'_' */;
		int64_t v60 = v58;
		INT v61 = i64_to_int(v60);
		uint64_t v62 = int_to_u64(v61);
		uint8_t v63 = (uint8_t)(v62);
		int64_t v64 = v59;
		INT v65 = i64_to_int(v64);
		uint64_t v66 = int_to_u64(v65);
		uint8_t v67 = (uint8_t)(v66);
		uint64_t v68 = (uint64_t)(v67);
		uint32_t v69 = (uint32_t)(v68);
		uint64_t v70 = (uint64_t)(value_u8(MKU8(v63)));
		uint32_t v71 = (uint32_t)(v70);
		uint64_t v72 = (uint64_t)(v71);
		uint64_t v73 = (uint64_t)(v69);
		bool v74 = (value_u64(MKU64(v72)) == v73);
		branch_z_x1_56 = MKTUP(branch_ZPlusLexer_44);
		branch_ZPlusStr_55 = v57;
		branch_Bool_54 = v74;
		branch_Offset_53 = value_int(MKINT(branch_Offset_46));
	} else {
		bool v75 = false;
		branch_z_x1_56 = MKTUP(branch_ZPlusLexer_44);
		branch_ZPlusStr_55 = branch_ZPlusStr_45;
		branch_Bool_54 = v75;
		branch_Offset_53 = value_int(MKINT(branch_Offset_46));
	}
	INT branch_Offset_76;
	bool branch_Bool_77;
	STR* branch_ZPlusStr_78;
	VAL branch_z_x1_79;
	if (branch_Bool_54) {
		incref(MKINT(branch_Offset_53));
		INT v80 = WRAP_I63(1LL);
		INT v81 = v80;
		INT v82 = int_add(branch_Offset_53, v81);
		STR* v83;
		int64_t v84 = mw_std_str_ZPlusStr_byteZAt(v82, branch_ZPlusStr_55, &v83);
		int64_t v85 = 48LL /* B'0' */;
		int64_t v86 = 57LL /* B'9' */;
		int64_t v87 = v85;
		INT v88 = i64_to_int(v87);
		uint64_t v89 = int_to_u64(v88);
		uint8_t v90 = (uint8_t)(v89);
		int64_t v91 = v84;
		INT v92 = i64_to_int(v91);
		uint64_t v93 = int_to_u64(v92);
		uint8_t v94 = (uint8_t)(v93);
		uint64_t v95 = (uint64_t)(v94);
		uint32_t v96 = (uint32_t)(v95);
		uint64_t v97 = (uint64_t)(value_u8(MKU8(v90)));
		uint32_t v98 = (uint32_t)(v97);
		uint64_t v99 = (uint64_t)(v98);
		uint64_t v100 = (uint64_t)(v96);
		bool v101 = (value_u64(MKU64(v99)) <= v100);
		bool branch_Bool_102;
		if (value_bool(MKBOOL(v101))) {
			int64_t v103 = VI64(MKI64(v84));
			INT v104 = i64_to_int(v103);
			uint64_t v105 = int_to_u64(v104);
			uint8_t v106 = (uint8_t)(v105);
			int64_t v107 = VI64(MKI64(v86));
			INT v108 = i64_to_int(v107);
			uint64_t v109 = int_to_u64(v108);
			uint8_t v110 = (uint8_t)(v109);
			uint64_t v111 = (uint64_t)(v110);
			uint32_t v112 = (uint32_t)(v111);
			uint64_t v113 = (uint64_t)(value_u8(MKU8(v106)));
			uint32_t v114 = (uint32_t)(v113);
			uint64_t v115 = (uint64_t)(v114);
			uint64_t v116 = (uint64_t)(v112);
			bool v117 = (value_u64(MKU64(v115)) <= v116);
			branch_Bool_102 = v117;
		} else {
			decref(MKI64(VI64(MKI64(v86))));
			decref(MKI64(VI64(MKI64(v84))));
			bool v118 = false;
			branch_Bool_102 = v118;
		}
		branch_z_x1_79 = branch_z_x1_56;
		branch_ZPlusStr_78 = v83;
		branch_Bool_77 = branch_Bool_102;
		branch_Offset_76 = branch_Offset_53;
	} else {
		bool v119 = false;
		branch_z_x1_79 = branch_z_x1_56;
		branch_ZPlusStr_78 = branch_ZPlusStr_55;
		branch_Bool_77 = v119;
		branch_Offset_76 = branch_Offset_53;
	}
	INT branch_Sizze_120;
	STR* branch_ZPlusStr_121;
	VAL branch_z_x1_122;
	INT branch_Offset_123;
	bool branch_Bool_124;
	if (branch_Bool_77) {
		INT v125 = WRAP_I63(1LL);
		INT v126 = v125;
		INT v127 = int_add(branch_Offset_76, v126);
		bool v128 = true;
		branch_Bool_124 = v128;
		branch_Offset_123 = v127;
		branch_z_x1_122 = branch_z_x1_79;
		branch_ZPlusStr_121 = branch_ZPlusStr_78;
		branch_Sizze_120 = value_int(MKINT(branch_Sizze_43));
	} else {
		incref(MKINT(branch_Offset_76));
		STR* v129;
		int64_t v130 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_76, branch_ZPlusStr_78, &v129);
		int64_t v131 = 48LL /* B'0' */;
		int64_t v132 = 57LL /* B'9' */;
		int64_t v133 = v131;
		INT v134 = i64_to_int(v133);
		uint64_t v135 = int_to_u64(v134);
		uint8_t v136 = (uint8_t)(v135);
		int64_t v137 = v130;
		INT v138 = i64_to_int(v137);
		uint64_t v139 = int_to_u64(v138);
		uint8_t v140 = (uint8_t)(v139);
		uint64_t v141 = (uint64_t)(v140);
		uint32_t v142 = (uint32_t)(v141);
		uint64_t v143 = (uint64_t)(value_u8(MKU8(v136)));
		uint32_t v144 = (uint32_t)(v143);
		uint64_t v145 = (uint64_t)(v144);
		uint64_t v146 = (uint64_t)(v142);
		bool v147 = (value_u64(MKU64(v145)) <= v146);
		bool branch_Bool_148;
		if (value_bool(MKBOOL(v147))) {
			int64_t v149 = VI64(MKI64(v130));
			INT v150 = i64_to_int(v149);
			uint64_t v151 = int_to_u64(v150);
			uint8_t v152 = (uint8_t)(v151);
			int64_t v153 = VI64(MKI64(v132));
			INT v154 = i64_to_int(v153);
			uint64_t v155 = int_to_u64(v154);
			uint8_t v156 = (uint8_t)(v155);
			uint64_t v157 = (uint64_t)(v156);
			uint32_t v158 = (uint32_t)(v157);
			uint64_t v159 = (uint64_t)(value_u8(MKU8(v152)));
			uint32_t v160 = (uint32_t)(v159);
			uint64_t v161 = (uint64_t)(v160);
			uint64_t v162 = (uint64_t)(v158);
			bool v163 = (value_u64(MKU64(v161)) <= v162);
			branch_Bool_148 = v163;
		} else {
			decref(MKI64(VI64(MKI64(v132))));
			decref(MKI64(VI64(MKI64(v130))));
			bool v164 = false;
			branch_Bool_148 = v164;
		}
		branch_Bool_124 = branch_Bool_148;
		branch_Offset_123 = branch_Offset_76;
		branch_z_x1_122 = branch_z_x1_79;
		branch_ZPlusStr_121 = v129;
		branch_Sizze_120 = value_int(MKINT(branch_Sizze_43));
	}
	INT v165 = branch_Sizze_120;
	INT v166 = branch_Offset_123;
	PTUP r167 = VTUP(branch_z_x1_122);
	STR* r168 = branch_ZPlusStr_121;
	bool v169 = branch_Bool_124;
	while (v169) {
		INT v170 = v165;
		INT v171 = v166;
		PTUP r172 = r167;
		STR* r173 = r168;
		INT v174 = WRAP_I63(1LL);
		INT v175 = v174;
		INT v176 = int_add(v170, v175);
		INT v177 = WRAP_I63(1LL);
		INT v178 = v177;
		INT v179 = int_add(v171, v178);
		incref(MKINT(v176));
		INT v180 = WRAP_I63(0LL);
		INT v181 = v180;
		bool v182 = int_lt(v181, value_int(MKINT(v176)));
		INT branch_Offset_183;
		bool branch_Bool_184;
		STR* branch_ZPlusStr_185;
		VAL branch_z_x1_186;
		if (v182) {
			incref(MKINT(value_int(MKINT(v179))));
			STR* v187;
			int64_t v188 = mw_std_str_ZPlusStr_byteZAt(value_int(MKINT(v179)), r173, &v187);
			int64_t v189 = 95LL /* B'_' */;
			int64_t v190 = v188;
			INT v191 = i64_to_int(v190);
			uint64_t v192 = int_to_u64(v191);
			uint8_t v193 = (uint8_t)(v192);
			int64_t v194 = v189;
			INT v195 = i64_to_int(v194);
			uint64_t v196 = int_to_u64(v195);
			uint8_t v197 = (uint8_t)(v196);
			uint64_t v198 = (uint64_t)(v197);
			uint32_t v199 = (uint32_t)(v198);
			uint64_t v200 = (uint64_t)(value_u8(MKU8(v193)));
			uint32_t v201 = (uint32_t)(v200);
			uint64_t v202 = (uint64_t)(v201);
			uint64_t v203 = (uint64_t)(v199);
			bool v204 = (value_u64(MKU64(v202)) == v203);
			branch_z_x1_186 = MKTUP(r172);
			branch_ZPlusStr_185 = v187;
			branch_Bool_184 = v204;
			branch_Offset_183 = value_int(MKINT(v179));
		} else {
			bool v205 = false;
			branch_z_x1_186 = MKTUP(r172);
			branch_ZPlusStr_185 = r173;
			branch_Bool_184 = v205;
			branch_Offset_183 = value_int(MKINT(v179));
		}
		INT branch_Offset_206;
		bool branch_Bool_207;
		STR* branch_ZPlusStr_208;
		VAL branch_z_x1_209;
		if (branch_Bool_184) {
			incref(MKINT(branch_Offset_183));
			INT v210 = WRAP_I63(1LL);
			INT v211 = v210;
			INT v212 = int_add(branch_Offset_183, v211);
			STR* v213;
			int64_t v214 = mw_std_str_ZPlusStr_byteZAt(v212, branch_ZPlusStr_185, &v213);
			int64_t v215 = 48LL /* B'0' */;
			int64_t v216 = 57LL /* B'9' */;
			int64_t v217 = v215;
			INT v218 = i64_to_int(v217);
			uint64_t v219 = int_to_u64(v218);
			uint8_t v220 = (uint8_t)(v219);
			int64_t v221 = v214;
			INT v222 = i64_to_int(v221);
			uint64_t v223 = int_to_u64(v222);
			uint8_t v224 = (uint8_t)(v223);
			uint64_t v225 = (uint64_t)(v224);
			uint32_t v226 = (uint32_t)(v225);
			uint64_t v227 = (uint64_t)(value_u8(MKU8(v220)));
			uint32_t v228 = (uint32_t)(v227);
			uint64_t v229 = (uint64_t)(v228);
			uint64_t v230 = (uint64_t)(v226);
			bool v231 = (value_u64(MKU64(v229)) <= v230);
			bool branch_Bool_232;
			if (value_bool(MKBOOL(v231))) {
				int64_t v233 = VI64(MKI64(v214));
				INT v234 = i64_to_int(v233);
				uint64_t v235 = int_to_u64(v234);
				uint8_t v236 = (uint8_t)(v235);
				int64_t v237 = VI64(MKI64(v216));
				INT v238 = i64_to_int(v237);
				uint64_t v239 = int_to_u64(v238);
				uint8_t v240 = (uint8_t)(v239);
				uint64_t v241 = (uint64_t)(v240);
				uint32_t v242 = (uint32_t)(v241);
				uint64_t v243 = (uint64_t)(value_u8(MKU8(v236)));
				uint32_t v244 = (uint32_t)(v243);
				uint64_t v245 = (uint64_t)(v244);
				uint64_t v246 = (uint64_t)(v242);
				bool v247 = (value_u64(MKU64(v245)) <= v246);
				branch_Bool_232 = v247;
			} else {
				decref(MKI64(VI64(MKI64(v216))));
				decref(MKI64(VI64(MKI64(v214))));
				bool v248 = false;
				branch_Bool_232 = v248;
			}
			branch_z_x1_209 = branch_z_x1_186;
			branch_ZPlusStr_208 = v213;
			branch_Bool_207 = branch_Bool_232;
			branch_Offset_206 = branch_Offset_183;
		} else {
			bool v249 = false;
			branch_z_x1_209 = branch_z_x1_186;
			branch_ZPlusStr_208 = branch_ZPlusStr_185;
			branch_Bool_207 = v249;
			branch_Offset_206 = branch_Offset_183;
		}
		INT branch_Sizze_250;
		STR* branch_ZPlusStr_251;
		VAL branch_z_x1_252;
		INT branch_Offset_253;
		bool branch_Bool_254;
		if (branch_Bool_207) {
			INT v255 = WRAP_I63(1LL);
			INT v256 = v255;
			INT v257 = int_add(branch_Offset_206, v256);
			bool v258 = true;
			branch_Bool_254 = v258;
			branch_Offset_253 = v257;
			branch_z_x1_252 = branch_z_x1_209;
			branch_ZPlusStr_251 = branch_ZPlusStr_208;
			branch_Sizze_250 = value_int(MKINT(v176));
		} else {
			incref(MKINT(branch_Offset_206));
			STR* v259;
			int64_t v260 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_206, branch_ZPlusStr_208, &v259);
			int64_t v261 = 48LL /* B'0' */;
			int64_t v262 = 57LL /* B'9' */;
			int64_t v263 = v261;
			INT v264 = i64_to_int(v263);
			uint64_t v265 = int_to_u64(v264);
			uint8_t v266 = (uint8_t)(v265);
			int64_t v267 = v260;
			INT v268 = i64_to_int(v267);
			uint64_t v269 = int_to_u64(v268);
			uint8_t v270 = (uint8_t)(v269);
			uint64_t v271 = (uint64_t)(v270);
			uint32_t v272 = (uint32_t)(v271);
			uint64_t v273 = (uint64_t)(value_u8(MKU8(v266)));
			uint32_t v274 = (uint32_t)(v273);
			uint64_t v275 = (uint64_t)(v274);
			uint64_t v276 = (uint64_t)(v272);
			bool v277 = (value_u64(MKU64(v275)) <= v276);
			bool branch_Bool_278;
			if (value_bool(MKBOOL(v277))) {
				int64_t v279 = VI64(MKI64(v260));
				INT v280 = i64_to_int(v279);
				uint64_t v281 = int_to_u64(v280);
				uint8_t v282 = (uint8_t)(v281);
				int64_t v283 = VI64(MKI64(v262));
				INT v284 = i64_to_int(v283);
				uint64_t v285 = int_to_u64(v284);
				uint8_t v286 = (uint8_t)(v285);
				uint64_t v287 = (uint64_t)(v286);
				uint32_t v288 = (uint32_t)(v287);
				uint64_t v289 = (uint64_t)(value_u8(MKU8(v282)));
				uint32_t v290 = (uint32_t)(v289);
				uint64_t v291 = (uint64_t)(v290);
				uint64_t v292 = (uint64_t)(v288);
				bool v293 = (value_u64(MKU64(v291)) <= v292);
				branch_Bool_278 = v293;
			} else {
				decref(MKI64(VI64(MKI64(v262))));
				decref(MKI64(VI64(MKI64(v260))));
				bool v294 = false;
				branch_Bool_278 = v294;
			}
			branch_Bool_254 = branch_Bool_278;
			branch_Offset_253 = branch_Offset_206;
			branch_z_x1_252 = branch_z_x1_209;
			branch_ZPlusStr_251 = v259;
			branch_Sizze_250 = value_int(MKINT(v176));
		}
		v169 = branch_Bool_254;
		r168 = branch_ZPlusStr_251;
		r167 = VTUP(branch_z_x1_252);
		v166 = branch_Offset_253;
		v165 = branch_Sizze_250;
	}
	INT v295 = WRAP_I63(0LL);
	INT v296 = v295;
	bool v297 = int_lt(v296, v165);
	INT branch_Offset_298;
	bool branch_Bool_299;
	PTUP branch_ZPlusLexer_300;
	STR* branch_ZPlusStr_301;
	if (v297) {
		incref(MKINT(v166));
		STR* v302;
		PTUP v303;
		PTUP v304 = mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk(r168, r167, v166, &v302, &v303);
		int64_t v305 = PTREXTRA(v304);
		decref(MKTUP(v304));
		INT v306 = WRAP_I63(0LL);
		INT v307 = v306;
		INT v308 = i64_to_int(v305);
		bool v309 = int_eq(v308, v307);
		bool v310 = !v309;
		branch_ZPlusStr_301 = v302;
		branch_ZPlusLexer_300 = v303;
		branch_Bool_299 = v310;
		branch_Offset_298 = v166;
	} else {
		bool v311 = false;
		branch_ZPlusStr_301 = r168;
		branch_ZPlusLexer_300 = r167;
		branch_Bool_299 = v311;
		branch_Offset_298 = v166;
	}
	decref(MKINT(branch_Offset_298));
	*out_ZPlusLexer_4 = branch_ZPlusLexer_300;
	*out_ZPlusStr_3 = branch_ZPlusStr_301;
	return value_bool(MKBOOL(branch_Bool_299));
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_hexZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_byteZAt(v7, in_ZPlusStr_1, &v8);
	int64_t v10 = 45LL /* B'-' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	int64_t v26 = 43LL /* B'+' */;
	int64_t v27 = v9;
	INT v28 = i64_to_int(v27);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	int64_t v31 = v26;
	INT v32 = i64_to_int(v31);
	uint64_t v33 = int_to_u64(v32);
	uint8_t v34 = (uint8_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint32_t v36 = (uint32_t)(v35);
	uint64_t v37 = (uint64_t)(value_u8(MKU8(v30)));
	uint32_t v38 = (uint32_t)(v37);
	uint64_t v39 = (uint64_t)(v38);
	uint64_t v40 = (uint64_t)(v36);
	bool v41 = (value_u64(MKU64(v39)) == v40);
	bool v42 = (value_bool(MKBOOL(v25)) || v41);
	INT branch_Sizze_43;
	PTUP branch_ZPlusLexer_44;
	STR* branch_ZPlusStr_45;
	INT branch_Offset_46;
	if (v42) {
		INT v47 = WRAP_I63(1LL);
		INT v48 = v47;
		INT v49 = int_add(v7, v48);
		branch_Offset_46 = v49;
		branch_ZPlusStr_45 = v8;
		branch_ZPlusLexer_44 = in_ZPlusLexer_2;
		branch_Sizze_43 = v6;
	} else {
		branch_Offset_46 = v7;
		branch_ZPlusStr_45 = v8;
		branch_ZPlusLexer_44 = in_ZPlusLexer_2;
		branch_Sizze_43 = v6;
	}
	incref(MKINT(branch_Offset_46));
	STR* v50;
	int64_t v51 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_46, branch_ZPlusStr_45, &v50);
	int64_t v52 = 48LL /* B'0' */;
	int64_t v53 = v51;
	INT v54 = i64_to_int(v53);
	uint64_t v55 = int_to_u64(v54);
	uint8_t v56 = (uint8_t)(v55);
	int64_t v57 = v52;
	INT v58 = i64_to_int(v57);
	uint64_t v59 = int_to_u64(v58);
	uint8_t v60 = (uint8_t)(v59);
	uint64_t v61 = (uint64_t)(v60);
	uint32_t v62 = (uint32_t)(v61);
	uint64_t v63 = (uint64_t)(value_u8(MKU8(v56)));
	uint32_t v64 = (uint32_t)(v63);
	uint64_t v65 = (uint64_t)(v64);
	uint64_t v66 = (uint64_t)(v62);
	bool v67 = (value_u64(MKU64(v65)) == v66);
	PTUP branch_ZPlusLexer_68;
	STR* branch_ZPlusStr_69;
	bool branch_Bool_70;
	if (v67) {
		INT v71 = WRAP_I63(1LL);
		INT v72 = v71;
		INT v73 = int_add(branch_Offset_46, v72);
		incref(MKINT(v73));
		STR* v74;
		int64_t v75 = mw_std_str_ZPlusStr_byteZAt(v73, v50, &v74);
		int64_t v76 = 120LL /* B'x' */;
		int64_t v77 = v75;
		INT v78 = i64_to_int(v77);
		uint64_t v79 = int_to_u64(v78);
		uint8_t v80 = (uint8_t)(v79);
		int64_t v81 = v76;
		INT v82 = i64_to_int(v81);
		uint64_t v83 = int_to_u64(v82);
		uint8_t v84 = (uint8_t)(v83);
		uint64_t v85 = (uint64_t)(v84);
		uint32_t v86 = (uint32_t)(v85);
		uint64_t v87 = (uint64_t)(value_u8(MKU8(v80)));
		uint32_t v88 = (uint32_t)(v87);
		uint64_t v89 = (uint64_t)(v88);
		uint64_t v90 = (uint64_t)(v86);
		bool v91 = (value_u64(MKU64(v89)) == v90);
		PTUP branch_ZPlusLexer_92;
		STR* branch_ZPlusStr_93;
		bool branch_Bool_94;
		if (v91) {
			INT v95 = WRAP_I63(1LL);
			INT v96 = v95;
			INT v97 = int_add(v73, v96);
			incref(MKINT(branch_Sizze_43));
			INT v98 = WRAP_I63(0LL);
			INT v99 = v98;
			bool v100 = int_lt(v99, value_int(MKINT(branch_Sizze_43)));
			INT branch_Offset_101;
			bool branch_Bool_102;
			STR* branch_ZPlusStr_103;
			VAL branch_z_x1_104;
			if (v100) {
				incref(MKINT(value_int(MKINT(v97))));
				STR* v105;
				int64_t v106 = mw_std_str_ZPlusStr_byteZAt(value_int(MKINT(v97)), v74, &v105);
				int64_t v107 = 95LL /* B'_' */;
				int64_t v108 = v106;
				INT v109 = i64_to_int(v108);
				uint64_t v110 = int_to_u64(v109);
				uint8_t v111 = (uint8_t)(v110);
				int64_t v112 = v107;
				INT v113 = i64_to_int(v112);
				uint64_t v114 = int_to_u64(v113);
				uint8_t v115 = (uint8_t)(v114);
				uint64_t v116 = (uint64_t)(v115);
				uint32_t v117 = (uint32_t)(v116);
				uint64_t v118 = (uint64_t)(value_u8(MKU8(v111)));
				uint32_t v119 = (uint32_t)(v118);
				uint64_t v120 = (uint64_t)(v119);
				uint64_t v121 = (uint64_t)(v117);
				bool v122 = (value_u64(MKU64(v120)) == v121);
				branch_z_x1_104 = MKTUP(branch_ZPlusLexer_44);
				branch_ZPlusStr_103 = v105;
				branch_Bool_102 = v122;
				branch_Offset_101 = value_int(MKINT(v97));
			} else {
				bool v123 = false;
				branch_z_x1_104 = MKTUP(branch_ZPlusLexer_44);
				branch_ZPlusStr_103 = v74;
				branch_Bool_102 = v123;
				branch_Offset_101 = value_int(MKINT(v97));
			}
			INT branch_Offset_124;
			bool branch_Bool_125;
			STR* branch_ZPlusStr_126;
			VAL branch_z_x1_127;
			if (branch_Bool_102) {
				incref(MKINT(branch_Offset_101));
				INT v128 = WRAP_I63(1LL);
				INT v129 = v128;
				INT v130 = int_add(branch_Offset_101, v129);
				STR* v131;
				int64_t v132 = mw_std_str_ZPlusStr_byteZAt(v130, branch_ZPlusStr_103, &v131);
				int64_t v133 = 48LL /* B'0' */;
				int64_t v134 = 57LL /* B'9' */;
				int64_t v135 = v133;
				INT v136 = i64_to_int(v135);
				uint64_t v137 = int_to_u64(v136);
				uint8_t v138 = (uint8_t)(v137);
				int64_t v139 = v132;
				INT v140 = i64_to_int(v139);
				uint64_t v141 = int_to_u64(v140);
				uint8_t v142 = (uint8_t)(v141);
				uint64_t v143 = (uint64_t)(v142);
				uint32_t v144 = (uint32_t)(v143);
				uint64_t v145 = (uint64_t)(value_u8(MKU8(v138)));
				uint32_t v146 = (uint32_t)(v145);
				uint64_t v147 = (uint64_t)(v146);
				uint64_t v148 = (uint64_t)(v144);
				bool v149 = (value_u64(MKU64(v147)) <= v148);
				bool branch_Bool_150;
				if (value_bool(MKBOOL(v149))) {
					int64_t v151 = VI64(MKI64(v132));
					INT v152 = i64_to_int(v151);
					uint64_t v153 = int_to_u64(v152);
					uint8_t v154 = (uint8_t)(v153);
					int64_t v155 = VI64(MKI64(v134));
					INT v156 = i64_to_int(v155);
					uint64_t v157 = int_to_u64(v156);
					uint8_t v158 = (uint8_t)(v157);
					uint64_t v159 = (uint64_t)(v158);
					uint32_t v160 = (uint32_t)(v159);
					uint64_t v161 = (uint64_t)(value_u8(MKU8(v154)));
					uint32_t v162 = (uint32_t)(v161);
					uint64_t v163 = (uint64_t)(v162);
					uint64_t v164 = (uint64_t)(v160);
					bool v165 = (value_u64(MKU64(v163)) <= v164);
					branch_Bool_150 = v165;
				} else {
					decref(MKI64(VI64(MKI64(v134))));
					decref(MKI64(VI64(MKI64(v132))));
					bool v166 = false;
					branch_Bool_150 = v166;
				}
				bool branch_Bool_167;
				if (branch_Bool_150) {
					bool v168 = true;
					branch_Bool_167 = v168;
				} else {
					int64_t v169 = 65LL /* B'A' */;
					int64_t v170 = 70LL /* B'F' */;
					int64_t v171 = v169;
					INT v172 = i64_to_int(v171);
					uint64_t v173 = int_to_u64(v172);
					uint8_t v174 = (uint8_t)(v173);
					int64_t v175 = v132;
					INT v176 = i64_to_int(v175);
					uint64_t v177 = int_to_u64(v176);
					uint8_t v178 = (uint8_t)(v177);
					uint64_t v179 = (uint64_t)(v178);
					uint32_t v180 = (uint32_t)(v179);
					uint64_t v181 = (uint64_t)(value_u8(MKU8(v174)));
					uint32_t v182 = (uint32_t)(v181);
					uint64_t v183 = (uint64_t)(v182);
					uint64_t v184 = (uint64_t)(v180);
					bool v185 = (value_u64(MKU64(v183)) <= v184);
					bool branch_Bool_186;
					if (value_bool(MKBOOL(v185))) {
						int64_t v187 = VI64(MKI64(v132));
						INT v188 = i64_to_int(v187);
						uint64_t v189 = int_to_u64(v188);
						uint8_t v190 = (uint8_t)(v189);
						int64_t v191 = VI64(MKI64(v170));
						INT v192 = i64_to_int(v191);
						uint64_t v193 = int_to_u64(v192);
						uint8_t v194 = (uint8_t)(v193);
						uint64_t v195 = (uint64_t)(v194);
						uint32_t v196 = (uint32_t)(v195);
						uint64_t v197 = (uint64_t)(value_u8(MKU8(v190)));
						uint32_t v198 = (uint32_t)(v197);
						uint64_t v199 = (uint64_t)(v198);
						uint64_t v200 = (uint64_t)(v196);
						bool v201 = (value_u64(MKU64(v199)) <= v200);
						branch_Bool_186 = v201;
					} else {
						decref(MKI64(VI64(MKI64(v170))));
						decref(MKI64(VI64(MKI64(v132))));
						bool v202 = false;
						branch_Bool_186 = v202;
					}
					bool branch_Bool_203;
					if (branch_Bool_186) {
						bool v204 = true;
						branch_Bool_203 = v204;
					} else {
						int64_t v205 = 97LL /* B'a' */;
						int64_t v206 = 102LL /* B'f' */;
						int64_t v207 = v205;
						INT v208 = i64_to_int(v207);
						uint64_t v209 = int_to_u64(v208);
						uint8_t v210 = (uint8_t)(v209);
						int64_t v211 = v132;
						INT v212 = i64_to_int(v211);
						uint64_t v213 = int_to_u64(v212);
						uint8_t v214 = (uint8_t)(v213);
						uint64_t v215 = (uint64_t)(v214);
						uint32_t v216 = (uint32_t)(v215);
						uint64_t v217 = (uint64_t)(value_u8(MKU8(v210)));
						uint32_t v218 = (uint32_t)(v217);
						uint64_t v219 = (uint64_t)(v218);
						uint64_t v220 = (uint64_t)(v216);
						bool v221 = (value_u64(MKU64(v219)) <= v220);
						bool branch_Bool_222;
						if (value_bool(MKBOOL(v221))) {
							int64_t v223 = VI64(MKI64(v132));
							INT v224 = i64_to_int(v223);
							uint64_t v225 = int_to_u64(v224);
							uint8_t v226 = (uint8_t)(v225);
							int64_t v227 = VI64(MKI64(v206));
							INT v228 = i64_to_int(v227);
							uint64_t v229 = int_to_u64(v228);
							uint8_t v230 = (uint8_t)(v229);
							uint64_t v231 = (uint64_t)(v230);
							uint32_t v232 = (uint32_t)(v231);
							uint64_t v233 = (uint64_t)(value_u8(MKU8(v226)));
							uint32_t v234 = (uint32_t)(v233);
							uint64_t v235 = (uint64_t)(v234);
							uint64_t v236 = (uint64_t)(v232);
							bool v237 = (value_u64(MKU64(v235)) <= v236);
							branch_Bool_222 = v237;
						} else {
							decref(MKI64(VI64(MKI64(v206))));
							decref(MKI64(VI64(MKI64(v132))));
							bool v238 = false;
							branch_Bool_222 = v238;
						}
						branch_Bool_203 = branch_Bool_222;
					}
					branch_Bool_167 = branch_Bool_203;
				}
				branch_z_x1_127 = branch_z_x1_104;
				branch_ZPlusStr_126 = v131;
				branch_Bool_125 = branch_Bool_167;
				branch_Offset_124 = branch_Offset_101;
			} else {
				bool v239 = false;
				branch_z_x1_127 = branch_z_x1_104;
				branch_ZPlusStr_126 = branch_ZPlusStr_103;
				branch_Bool_125 = v239;
				branch_Offset_124 = branch_Offset_101;
			}
			INT branch_Sizze_240;
			STR* branch_ZPlusStr_241;
			VAL branch_z_x1_242;
			INT branch_Offset_243;
			bool branch_Bool_244;
			if (branch_Bool_125) {
				INT v245 = WRAP_I63(1LL);
				INT v246 = v245;
				INT v247 = int_add(branch_Offset_124, v246);
				bool v248 = true;
				branch_Bool_244 = v248;
				branch_Offset_243 = v247;
				branch_z_x1_242 = branch_z_x1_127;
				branch_ZPlusStr_241 = branch_ZPlusStr_126;
				branch_Sizze_240 = value_int(MKINT(branch_Sizze_43));
			} else {
				incref(MKINT(branch_Offset_124));
				STR* v249;
				int64_t v250 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_124, branch_ZPlusStr_126, &v249);
				int64_t v251 = 48LL /* B'0' */;
				int64_t v252 = 57LL /* B'9' */;
				int64_t v253 = v251;
				INT v254 = i64_to_int(v253);
				uint64_t v255 = int_to_u64(v254);
				uint8_t v256 = (uint8_t)(v255);
				int64_t v257 = v250;
				INT v258 = i64_to_int(v257);
				uint64_t v259 = int_to_u64(v258);
				uint8_t v260 = (uint8_t)(v259);
				uint64_t v261 = (uint64_t)(v260);
				uint32_t v262 = (uint32_t)(v261);
				uint64_t v263 = (uint64_t)(value_u8(MKU8(v256)));
				uint32_t v264 = (uint32_t)(v263);
				uint64_t v265 = (uint64_t)(v264);
				uint64_t v266 = (uint64_t)(v262);
				bool v267 = (value_u64(MKU64(v265)) <= v266);
				bool branch_Bool_268;
				if (value_bool(MKBOOL(v267))) {
					int64_t v269 = VI64(MKI64(v250));
					INT v270 = i64_to_int(v269);
					uint64_t v271 = int_to_u64(v270);
					uint8_t v272 = (uint8_t)(v271);
					int64_t v273 = VI64(MKI64(v252));
					INT v274 = i64_to_int(v273);
					uint64_t v275 = int_to_u64(v274);
					uint8_t v276 = (uint8_t)(v275);
					uint64_t v277 = (uint64_t)(v276);
					uint32_t v278 = (uint32_t)(v277);
					uint64_t v279 = (uint64_t)(value_u8(MKU8(v272)));
					uint32_t v280 = (uint32_t)(v279);
					uint64_t v281 = (uint64_t)(v280);
					uint64_t v282 = (uint64_t)(v278);
					bool v283 = (value_u64(MKU64(v281)) <= v282);
					branch_Bool_268 = v283;
				} else {
					decref(MKI64(VI64(MKI64(v252))));
					decref(MKI64(VI64(MKI64(v250))));
					bool v284 = false;
					branch_Bool_268 = v284;
				}
				bool branch_Bool_285;
				if (branch_Bool_268) {
					bool v286 = true;
					branch_Bool_285 = v286;
				} else {
					int64_t v287 = 65LL /* B'A' */;
					int64_t v288 = 70LL /* B'F' */;
					int64_t v289 = v287;
					INT v290 = i64_to_int(v289);
					uint64_t v291 = int_to_u64(v290);
					uint8_t v292 = (uint8_t)(v291);
					int64_t v293 = v250;
					INT v294 = i64_to_int(v293);
					uint64_t v295 = int_to_u64(v294);
					uint8_t v296 = (uint8_t)(v295);
					uint64_t v297 = (uint64_t)(v296);
					uint32_t v298 = (uint32_t)(v297);
					uint64_t v299 = (uint64_t)(value_u8(MKU8(v292)));
					uint32_t v300 = (uint32_t)(v299);
					uint64_t v301 = (uint64_t)(v300);
					uint64_t v302 = (uint64_t)(v298);
					bool v303 = (value_u64(MKU64(v301)) <= v302);
					bool branch_Bool_304;
					if (value_bool(MKBOOL(v303))) {
						int64_t v305 = VI64(MKI64(v250));
						INT v306 = i64_to_int(v305);
						uint64_t v307 = int_to_u64(v306);
						uint8_t v308 = (uint8_t)(v307);
						int64_t v309 = VI64(MKI64(v288));
						INT v310 = i64_to_int(v309);
						uint64_t v311 = int_to_u64(v310);
						uint8_t v312 = (uint8_t)(v311);
						uint64_t v313 = (uint64_t)(v312);
						uint32_t v314 = (uint32_t)(v313);
						uint64_t v315 = (uint64_t)(value_u8(MKU8(v308)));
						uint32_t v316 = (uint32_t)(v315);
						uint64_t v317 = (uint64_t)(v316);
						uint64_t v318 = (uint64_t)(v314);
						bool v319 = (value_u64(MKU64(v317)) <= v318);
						branch_Bool_304 = v319;
					} else {
						decref(MKI64(VI64(MKI64(v288))));
						decref(MKI64(VI64(MKI64(v250))));
						bool v320 = false;
						branch_Bool_304 = v320;
					}
					bool branch_Bool_321;
					if (branch_Bool_304) {
						bool v322 = true;
						branch_Bool_321 = v322;
					} else {
						int64_t v323 = 97LL /* B'a' */;
						int64_t v324 = 102LL /* B'f' */;
						int64_t v325 = v323;
						INT v326 = i64_to_int(v325);
						uint64_t v327 = int_to_u64(v326);
						uint8_t v328 = (uint8_t)(v327);
						int64_t v329 = v250;
						INT v330 = i64_to_int(v329);
						uint64_t v331 = int_to_u64(v330);
						uint8_t v332 = (uint8_t)(v331);
						uint64_t v333 = (uint64_t)(v332);
						uint32_t v334 = (uint32_t)(v333);
						uint64_t v335 = (uint64_t)(value_u8(MKU8(v328)));
						uint32_t v336 = (uint32_t)(v335);
						uint64_t v337 = (uint64_t)(v336);
						uint64_t v338 = (uint64_t)(v334);
						bool v339 = (value_u64(MKU64(v337)) <= v338);
						bool branch_Bool_340;
						if (value_bool(MKBOOL(v339))) {
							int64_t v341 = VI64(MKI64(v250));
							INT v342 = i64_to_int(v341);
							uint64_t v343 = int_to_u64(v342);
							uint8_t v344 = (uint8_t)(v343);
							int64_t v345 = VI64(MKI64(v324));
							INT v346 = i64_to_int(v345);
							uint64_t v347 = int_to_u64(v346);
							uint8_t v348 = (uint8_t)(v347);
							uint64_t v349 = (uint64_t)(v348);
							uint32_t v350 = (uint32_t)(v349);
							uint64_t v351 = (uint64_t)(value_u8(MKU8(v344)));
							uint32_t v352 = (uint32_t)(v351);
							uint64_t v353 = (uint64_t)(v352);
							uint64_t v354 = (uint64_t)(v350);
							bool v355 = (value_u64(MKU64(v353)) <= v354);
							branch_Bool_340 = v355;
						} else {
							decref(MKI64(VI64(MKI64(v324))));
							decref(MKI64(VI64(MKI64(v250))));
							bool v356 = false;
							branch_Bool_340 = v356;
						}
						branch_Bool_321 = branch_Bool_340;
					}
					branch_Bool_285 = branch_Bool_321;
				}
				branch_Bool_244 = branch_Bool_285;
				branch_Offset_243 = branch_Offset_124;
				branch_z_x1_242 = branch_z_x1_127;
				branch_ZPlusStr_241 = v249;
				branch_Sizze_240 = value_int(MKINT(branch_Sizze_43));
			}
			INT v357 = branch_Sizze_240;
			INT v358 = branch_Offset_243;
			PTUP r359 = VTUP(branch_z_x1_242);
			STR* r360 = branch_ZPlusStr_241;
			bool v361 = branch_Bool_244;
			while (v361) {
				INT v362 = v357;
				INT v363 = v358;
				PTUP r364 = r359;
				STR* r365 = r360;
				INT v366 = WRAP_I63(1LL);
				INT v367 = v366;
				INT v368 = int_add(v362, v367);
				INT v369 = WRAP_I63(1LL);
				INT v370 = v369;
				INT v371 = int_add(v363, v370);
				incref(MKINT(v368));
				INT v372 = WRAP_I63(0LL);
				INT v373 = v372;
				bool v374 = int_lt(v373, value_int(MKINT(v368)));
				INT branch_Offset_375;
				bool branch_Bool_376;
				STR* branch_ZPlusStr_377;
				VAL branch_z_x1_378;
				if (v374) {
					incref(MKINT(value_int(MKINT(v371))));
					STR* v379;
					int64_t v380 = mw_std_str_ZPlusStr_byteZAt(value_int(MKINT(v371)), r365, &v379);
					int64_t v381 = 95LL /* B'_' */;
					int64_t v382 = v380;
					INT v383 = i64_to_int(v382);
					uint64_t v384 = int_to_u64(v383);
					uint8_t v385 = (uint8_t)(v384);
					int64_t v386 = v381;
					INT v387 = i64_to_int(v386);
					uint64_t v388 = int_to_u64(v387);
					uint8_t v389 = (uint8_t)(v388);
					uint64_t v390 = (uint64_t)(v389);
					uint32_t v391 = (uint32_t)(v390);
					uint64_t v392 = (uint64_t)(value_u8(MKU8(v385)));
					uint32_t v393 = (uint32_t)(v392);
					uint64_t v394 = (uint64_t)(v393);
					uint64_t v395 = (uint64_t)(v391);
					bool v396 = (value_u64(MKU64(v394)) == v395);
					branch_z_x1_378 = MKTUP(r364);
					branch_ZPlusStr_377 = v379;
					branch_Bool_376 = v396;
					branch_Offset_375 = value_int(MKINT(v371));
				} else {
					bool v397 = false;
					branch_z_x1_378 = MKTUP(r364);
					branch_ZPlusStr_377 = r365;
					branch_Bool_376 = v397;
					branch_Offset_375 = value_int(MKINT(v371));
				}
				INT branch_Offset_398;
				bool branch_Bool_399;
				STR* branch_ZPlusStr_400;
				VAL branch_z_x1_401;
				if (branch_Bool_376) {
					incref(MKINT(branch_Offset_375));
					INT v402 = WRAP_I63(1LL);
					INT v403 = v402;
					INT v404 = int_add(branch_Offset_375, v403);
					STR* v405;
					int64_t v406 = mw_std_str_ZPlusStr_byteZAt(v404, branch_ZPlusStr_377, &v405);
					int64_t v407 = 48LL /* B'0' */;
					int64_t v408 = 57LL /* B'9' */;
					int64_t v409 = v407;
					INT v410 = i64_to_int(v409);
					uint64_t v411 = int_to_u64(v410);
					uint8_t v412 = (uint8_t)(v411);
					int64_t v413 = v406;
					INT v414 = i64_to_int(v413);
					uint64_t v415 = int_to_u64(v414);
					uint8_t v416 = (uint8_t)(v415);
					uint64_t v417 = (uint64_t)(v416);
					uint32_t v418 = (uint32_t)(v417);
					uint64_t v419 = (uint64_t)(value_u8(MKU8(v412)));
					uint32_t v420 = (uint32_t)(v419);
					uint64_t v421 = (uint64_t)(v420);
					uint64_t v422 = (uint64_t)(v418);
					bool v423 = (value_u64(MKU64(v421)) <= v422);
					bool branch_Bool_424;
					if (value_bool(MKBOOL(v423))) {
						int64_t v425 = VI64(MKI64(v406));
						INT v426 = i64_to_int(v425);
						uint64_t v427 = int_to_u64(v426);
						uint8_t v428 = (uint8_t)(v427);
						int64_t v429 = VI64(MKI64(v408));
						INT v430 = i64_to_int(v429);
						uint64_t v431 = int_to_u64(v430);
						uint8_t v432 = (uint8_t)(v431);
						uint64_t v433 = (uint64_t)(v432);
						uint32_t v434 = (uint32_t)(v433);
						uint64_t v435 = (uint64_t)(value_u8(MKU8(v428)));
						uint32_t v436 = (uint32_t)(v435);
						uint64_t v437 = (uint64_t)(v436);
						uint64_t v438 = (uint64_t)(v434);
						bool v439 = (value_u64(MKU64(v437)) <= v438);
						branch_Bool_424 = v439;
					} else {
						decref(MKI64(VI64(MKI64(v408))));
						decref(MKI64(VI64(MKI64(v406))));
						bool v440 = false;
						branch_Bool_424 = v440;
					}
					bool branch_Bool_441;
					if (branch_Bool_424) {
						bool v442 = true;
						branch_Bool_441 = v442;
					} else {
						int64_t v443 = 65LL /* B'A' */;
						int64_t v444 = 70LL /* B'F' */;
						int64_t v445 = v443;
						INT v446 = i64_to_int(v445);
						uint64_t v447 = int_to_u64(v446);
						uint8_t v448 = (uint8_t)(v447);
						int64_t v449 = v406;
						INT v450 = i64_to_int(v449);
						uint64_t v451 = int_to_u64(v450);
						uint8_t v452 = (uint8_t)(v451);
						uint64_t v453 = (uint64_t)(v452);
						uint32_t v454 = (uint32_t)(v453);
						uint64_t v455 = (uint64_t)(value_u8(MKU8(v448)));
						uint32_t v456 = (uint32_t)(v455);
						uint64_t v457 = (uint64_t)(v456);
						uint64_t v458 = (uint64_t)(v454);
						bool v459 = (value_u64(MKU64(v457)) <= v458);
						bool branch_Bool_460;
						if (value_bool(MKBOOL(v459))) {
							int64_t v461 = VI64(MKI64(v406));
							INT v462 = i64_to_int(v461);
							uint64_t v463 = int_to_u64(v462);
							uint8_t v464 = (uint8_t)(v463);
							int64_t v465 = VI64(MKI64(v444));
							INT v466 = i64_to_int(v465);
							uint64_t v467 = int_to_u64(v466);
							uint8_t v468 = (uint8_t)(v467);
							uint64_t v469 = (uint64_t)(v468);
							uint32_t v470 = (uint32_t)(v469);
							uint64_t v471 = (uint64_t)(value_u8(MKU8(v464)));
							uint32_t v472 = (uint32_t)(v471);
							uint64_t v473 = (uint64_t)(v472);
							uint64_t v474 = (uint64_t)(v470);
							bool v475 = (value_u64(MKU64(v473)) <= v474);
							branch_Bool_460 = v475;
						} else {
							decref(MKI64(VI64(MKI64(v444))));
							decref(MKI64(VI64(MKI64(v406))));
							bool v476 = false;
							branch_Bool_460 = v476;
						}
						bool branch_Bool_477;
						if (branch_Bool_460) {
							bool v478 = true;
							branch_Bool_477 = v478;
						} else {
							int64_t v479 = 97LL /* B'a' */;
							int64_t v480 = 102LL /* B'f' */;
							int64_t v481 = v479;
							INT v482 = i64_to_int(v481);
							uint64_t v483 = int_to_u64(v482);
							uint8_t v484 = (uint8_t)(v483);
							int64_t v485 = v406;
							INT v486 = i64_to_int(v485);
							uint64_t v487 = int_to_u64(v486);
							uint8_t v488 = (uint8_t)(v487);
							uint64_t v489 = (uint64_t)(v488);
							uint32_t v490 = (uint32_t)(v489);
							uint64_t v491 = (uint64_t)(value_u8(MKU8(v484)));
							uint32_t v492 = (uint32_t)(v491);
							uint64_t v493 = (uint64_t)(v492);
							uint64_t v494 = (uint64_t)(v490);
							bool v495 = (value_u64(MKU64(v493)) <= v494);
							bool branch_Bool_496;
							if (value_bool(MKBOOL(v495))) {
								int64_t v497 = VI64(MKI64(v406));
								INT v498 = i64_to_int(v497);
								uint64_t v499 = int_to_u64(v498);
								uint8_t v500 = (uint8_t)(v499);
								int64_t v501 = VI64(MKI64(v480));
								INT v502 = i64_to_int(v501);
								uint64_t v503 = int_to_u64(v502);
								uint8_t v504 = (uint8_t)(v503);
								uint64_t v505 = (uint64_t)(v504);
								uint32_t v506 = (uint32_t)(v505);
								uint64_t v507 = (uint64_t)(value_u8(MKU8(v500)));
								uint32_t v508 = (uint32_t)(v507);
								uint64_t v509 = (uint64_t)(v508);
								uint64_t v510 = (uint64_t)(v506);
								bool v511 = (value_u64(MKU64(v509)) <= v510);
								branch_Bool_496 = v511;
							} else {
								decref(MKI64(VI64(MKI64(v480))));
								decref(MKI64(VI64(MKI64(v406))));
								bool v512 = false;
								branch_Bool_496 = v512;
							}
							branch_Bool_477 = branch_Bool_496;
						}
						branch_Bool_441 = branch_Bool_477;
					}
					branch_z_x1_401 = branch_z_x1_378;
					branch_ZPlusStr_400 = v405;
					branch_Bool_399 = branch_Bool_441;
					branch_Offset_398 = branch_Offset_375;
				} else {
					bool v513 = false;
					branch_z_x1_401 = branch_z_x1_378;
					branch_ZPlusStr_400 = branch_ZPlusStr_377;
					branch_Bool_399 = v513;
					branch_Offset_398 = branch_Offset_375;
				}
				INT branch_Sizze_514;
				STR* branch_ZPlusStr_515;
				VAL branch_z_x1_516;
				INT branch_Offset_517;
				bool branch_Bool_518;
				if (branch_Bool_399) {
					INT v519 = WRAP_I63(1LL);
					INT v520 = v519;
					INT v521 = int_add(branch_Offset_398, v520);
					bool v522 = true;
					branch_Bool_518 = v522;
					branch_Offset_517 = v521;
					branch_z_x1_516 = branch_z_x1_401;
					branch_ZPlusStr_515 = branch_ZPlusStr_400;
					branch_Sizze_514 = value_int(MKINT(v368));
				} else {
					incref(MKINT(branch_Offset_398));
					STR* v523;
					int64_t v524 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_398, branch_ZPlusStr_400, &v523);
					int64_t v525 = 48LL /* B'0' */;
					int64_t v526 = 57LL /* B'9' */;
					int64_t v527 = v525;
					INT v528 = i64_to_int(v527);
					uint64_t v529 = int_to_u64(v528);
					uint8_t v530 = (uint8_t)(v529);
					int64_t v531 = v524;
					INT v532 = i64_to_int(v531);
					uint64_t v533 = int_to_u64(v532);
					uint8_t v534 = (uint8_t)(v533);
					uint64_t v535 = (uint64_t)(v534);
					uint32_t v536 = (uint32_t)(v535);
					uint64_t v537 = (uint64_t)(value_u8(MKU8(v530)));
					uint32_t v538 = (uint32_t)(v537);
					uint64_t v539 = (uint64_t)(v538);
					uint64_t v540 = (uint64_t)(v536);
					bool v541 = (value_u64(MKU64(v539)) <= v540);
					bool branch_Bool_542;
					if (value_bool(MKBOOL(v541))) {
						int64_t v543 = VI64(MKI64(v524));
						INT v544 = i64_to_int(v543);
						uint64_t v545 = int_to_u64(v544);
						uint8_t v546 = (uint8_t)(v545);
						int64_t v547 = VI64(MKI64(v526));
						INT v548 = i64_to_int(v547);
						uint64_t v549 = int_to_u64(v548);
						uint8_t v550 = (uint8_t)(v549);
						uint64_t v551 = (uint64_t)(v550);
						uint32_t v552 = (uint32_t)(v551);
						uint64_t v553 = (uint64_t)(value_u8(MKU8(v546)));
						uint32_t v554 = (uint32_t)(v553);
						uint64_t v555 = (uint64_t)(v554);
						uint64_t v556 = (uint64_t)(v552);
						bool v557 = (value_u64(MKU64(v555)) <= v556);
						branch_Bool_542 = v557;
					} else {
						decref(MKI64(VI64(MKI64(v526))));
						decref(MKI64(VI64(MKI64(v524))));
						bool v558 = false;
						branch_Bool_542 = v558;
					}
					bool branch_Bool_559;
					if (branch_Bool_542) {
						bool v560 = true;
						branch_Bool_559 = v560;
					} else {
						int64_t v561 = 65LL /* B'A' */;
						int64_t v562 = 70LL /* B'F' */;
						int64_t v563 = v561;
						INT v564 = i64_to_int(v563);
						uint64_t v565 = int_to_u64(v564);
						uint8_t v566 = (uint8_t)(v565);
						int64_t v567 = v524;
						INT v568 = i64_to_int(v567);
						uint64_t v569 = int_to_u64(v568);
						uint8_t v570 = (uint8_t)(v569);
						uint64_t v571 = (uint64_t)(v570);
						uint32_t v572 = (uint32_t)(v571);
						uint64_t v573 = (uint64_t)(value_u8(MKU8(v566)));
						uint32_t v574 = (uint32_t)(v573);
						uint64_t v575 = (uint64_t)(v574);
						uint64_t v576 = (uint64_t)(v572);
						bool v577 = (value_u64(MKU64(v575)) <= v576);
						bool branch_Bool_578;
						if (value_bool(MKBOOL(v577))) {
							int64_t v579 = VI64(MKI64(v524));
							INT v580 = i64_to_int(v579);
							uint64_t v581 = int_to_u64(v580);
							uint8_t v582 = (uint8_t)(v581);
							int64_t v583 = VI64(MKI64(v562));
							INT v584 = i64_to_int(v583);
							uint64_t v585 = int_to_u64(v584);
							uint8_t v586 = (uint8_t)(v585);
							uint64_t v587 = (uint64_t)(v586);
							uint32_t v588 = (uint32_t)(v587);
							uint64_t v589 = (uint64_t)(value_u8(MKU8(v582)));
							uint32_t v590 = (uint32_t)(v589);
							uint64_t v591 = (uint64_t)(v590);
							uint64_t v592 = (uint64_t)(v588);
							bool v593 = (value_u64(MKU64(v591)) <= v592);
							branch_Bool_578 = v593;
						} else {
							decref(MKI64(VI64(MKI64(v562))));
							decref(MKI64(VI64(MKI64(v524))));
							bool v594 = false;
							branch_Bool_578 = v594;
						}
						bool branch_Bool_595;
						if (branch_Bool_578) {
							bool v596 = true;
							branch_Bool_595 = v596;
						} else {
							int64_t v597 = 97LL /* B'a' */;
							int64_t v598 = 102LL /* B'f' */;
							int64_t v599 = v597;
							INT v600 = i64_to_int(v599);
							uint64_t v601 = int_to_u64(v600);
							uint8_t v602 = (uint8_t)(v601);
							int64_t v603 = v524;
							INT v604 = i64_to_int(v603);
							uint64_t v605 = int_to_u64(v604);
							uint8_t v606 = (uint8_t)(v605);
							uint64_t v607 = (uint64_t)(v606);
							uint32_t v608 = (uint32_t)(v607);
							uint64_t v609 = (uint64_t)(value_u8(MKU8(v602)));
							uint32_t v610 = (uint32_t)(v609);
							uint64_t v611 = (uint64_t)(v610);
							uint64_t v612 = (uint64_t)(v608);
							bool v613 = (value_u64(MKU64(v611)) <= v612);
							bool branch_Bool_614;
							if (value_bool(MKBOOL(v613))) {
								int64_t v615 = VI64(MKI64(v524));
								INT v616 = i64_to_int(v615);
								uint64_t v617 = int_to_u64(v616);
								uint8_t v618 = (uint8_t)(v617);
								int64_t v619 = VI64(MKI64(v598));
								INT v620 = i64_to_int(v619);
								uint64_t v621 = int_to_u64(v620);
								uint8_t v622 = (uint8_t)(v621);
								uint64_t v623 = (uint64_t)(v622);
								uint32_t v624 = (uint32_t)(v623);
								uint64_t v625 = (uint64_t)(value_u8(MKU8(v618)));
								uint32_t v626 = (uint32_t)(v625);
								uint64_t v627 = (uint64_t)(v626);
								uint64_t v628 = (uint64_t)(v624);
								bool v629 = (value_u64(MKU64(v627)) <= v628);
								branch_Bool_614 = v629;
							} else {
								decref(MKI64(VI64(MKI64(v598))));
								decref(MKI64(VI64(MKI64(v524))));
								bool v630 = false;
								branch_Bool_614 = v630;
							}
							branch_Bool_595 = branch_Bool_614;
						}
						branch_Bool_559 = branch_Bool_595;
					}
					branch_Bool_518 = branch_Bool_559;
					branch_Offset_517 = branch_Offset_398;
					branch_z_x1_516 = branch_z_x1_401;
					branch_ZPlusStr_515 = v523;
					branch_Sizze_514 = value_int(MKINT(v368));
				}
				v361 = branch_Bool_518;
				r360 = branch_ZPlusStr_515;
				r359 = VTUP(branch_z_x1_516);
				v358 = branch_Offset_517;
				v357 = branch_Sizze_514;
			}
			INT v631 = WRAP_I63(0LL);
			INT v632 = v631;
			bool v633 = int_lt(v632, v357);
			INT branch_Offset_634;
			bool branch_Bool_635;
			PTUP branch_ZPlusLexer_636;
			STR* branch_ZPlusStr_637;
			if (v633) {
				incref(MKINT(v358));
				STR* v638;
				PTUP v639;
				PTUP v640 = mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk(r360, r359, v358, &v638, &v639);
				int64_t v641 = PTREXTRA(v640);
				decref(MKTUP(v640));
				INT v642 = WRAP_I63(0LL);
				INT v643 = v642;
				INT v644 = i64_to_int(v641);
				bool v645 = int_eq(v644, v643);
				bool v646 = !v645;
				branch_ZPlusStr_637 = v638;
				branch_ZPlusLexer_636 = v639;
				branch_Bool_635 = v646;
				branch_Offset_634 = v358;
			} else {
				bool v647 = false;
				branch_ZPlusStr_637 = r360;
				branch_ZPlusLexer_636 = r359;
				branch_Bool_635 = v647;
				branch_Offset_634 = v358;
			}
			decref(MKINT(branch_Offset_634));
			branch_Bool_94 = value_bool(MKBOOL(branch_Bool_635));
			branch_ZPlusStr_93 = branch_ZPlusStr_637;
			branch_ZPlusLexer_92 = branch_ZPlusLexer_636;
		} else {
			decref(MKINT(v73));
			decref(MKINT(branch_Sizze_43));
			bool v648 = false;
			branch_Bool_94 = v648;
			branch_ZPlusStr_93 = v74;
			branch_ZPlusLexer_92 = branch_ZPlusLexer_44;
		}
		branch_Bool_70 = branch_Bool_94;
		branch_ZPlusStr_69 = branch_ZPlusStr_93;
		branch_ZPlusLexer_68 = branch_ZPlusLexer_92;
	} else {
		decref(MKINT(branch_Offset_46));
		decref(MKINT(branch_Sizze_43));
		bool v649 = false;
		branch_Bool_70 = v649;
		branch_ZPlusStr_69 = v50;
		branch_ZPlusLexer_68 = branch_ZPlusLexer_44;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_68;
	*out_ZPlusStr_3 = branch_ZPlusStr_69;
	return branch_Bool_70;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_octZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_byteZAt(v7, in_ZPlusStr_1, &v8);
	int64_t v10 = 45LL /* B'-' */;
	int64_t v11 = v9;
	INT v12 = i64_to_int(v11);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	int64_t v15 = v10;
	INT v16 = i64_to_int(v15);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(value_u8(MKU8(v14)));
	uint32_t v22 = (uint32_t)(v21);
	uint64_t v23 = (uint64_t)(v22);
	uint64_t v24 = (uint64_t)(v20);
	bool v25 = (value_u64(MKU64(v23)) == v24);
	int64_t v26 = 43LL /* B'+' */;
	int64_t v27 = v9;
	INT v28 = i64_to_int(v27);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	int64_t v31 = v26;
	INT v32 = i64_to_int(v31);
	uint64_t v33 = int_to_u64(v32);
	uint8_t v34 = (uint8_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint32_t v36 = (uint32_t)(v35);
	uint64_t v37 = (uint64_t)(value_u8(MKU8(v30)));
	uint32_t v38 = (uint32_t)(v37);
	uint64_t v39 = (uint64_t)(v38);
	uint64_t v40 = (uint64_t)(v36);
	bool v41 = (value_u64(MKU64(v39)) == v40);
	bool v42 = (value_bool(MKBOOL(v25)) || v41);
	INT branch_Sizze_43;
	PTUP branch_ZPlusLexer_44;
	STR* branch_ZPlusStr_45;
	INT branch_Offset_46;
	if (v42) {
		INT v47 = WRAP_I63(1LL);
		INT v48 = v47;
		INT v49 = int_add(v7, v48);
		branch_Offset_46 = v49;
		branch_ZPlusStr_45 = v8;
		branch_ZPlusLexer_44 = in_ZPlusLexer_2;
		branch_Sizze_43 = v6;
	} else {
		branch_Offset_46 = v7;
		branch_ZPlusStr_45 = v8;
		branch_ZPlusLexer_44 = in_ZPlusLexer_2;
		branch_Sizze_43 = v6;
	}
	incref(MKINT(branch_Offset_46));
	STR* v50;
	int64_t v51 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_46, branch_ZPlusStr_45, &v50);
	int64_t v52 = 48LL /* B'0' */;
	int64_t v53 = v51;
	INT v54 = i64_to_int(v53);
	uint64_t v55 = int_to_u64(v54);
	uint8_t v56 = (uint8_t)(v55);
	int64_t v57 = v52;
	INT v58 = i64_to_int(v57);
	uint64_t v59 = int_to_u64(v58);
	uint8_t v60 = (uint8_t)(v59);
	uint64_t v61 = (uint64_t)(v60);
	uint32_t v62 = (uint32_t)(v61);
	uint64_t v63 = (uint64_t)(value_u8(MKU8(v56)));
	uint32_t v64 = (uint32_t)(v63);
	uint64_t v65 = (uint64_t)(v64);
	uint64_t v66 = (uint64_t)(v62);
	bool v67 = (value_u64(MKU64(v65)) == v66);
	PTUP branch_ZPlusLexer_68;
	STR* branch_ZPlusStr_69;
	bool branch_Bool_70;
	if (v67) {
		INT v71 = WRAP_I63(1LL);
		INT v72 = v71;
		INT v73 = int_add(branch_Offset_46, v72);
		incref(MKINT(v73));
		STR* v74;
		int64_t v75 = mw_std_str_ZPlusStr_byteZAt(v73, v50, &v74);
		int64_t v76 = 111LL /* B'o' */;
		int64_t v77 = v75;
		INT v78 = i64_to_int(v77);
		uint64_t v79 = int_to_u64(v78);
		uint8_t v80 = (uint8_t)(v79);
		int64_t v81 = v76;
		INT v82 = i64_to_int(v81);
		uint64_t v83 = int_to_u64(v82);
		uint8_t v84 = (uint8_t)(v83);
		uint64_t v85 = (uint64_t)(v84);
		uint32_t v86 = (uint32_t)(v85);
		uint64_t v87 = (uint64_t)(value_u8(MKU8(v80)));
		uint32_t v88 = (uint32_t)(v87);
		uint64_t v89 = (uint64_t)(v88);
		uint64_t v90 = (uint64_t)(v86);
		bool v91 = (value_u64(MKU64(v89)) == v90);
		PTUP branch_ZPlusLexer_92;
		STR* branch_ZPlusStr_93;
		bool branch_Bool_94;
		if (v91) {
			INT v95 = WRAP_I63(1LL);
			INT v96 = v95;
			INT v97 = int_add(v73, v96);
			incref(MKINT(branch_Sizze_43));
			INT v98 = WRAP_I63(0LL);
			INT v99 = v98;
			bool v100 = int_lt(v99, value_int(MKINT(branch_Sizze_43)));
			INT branch_Offset_101;
			bool branch_Bool_102;
			STR* branch_ZPlusStr_103;
			VAL branch_z_x1_104;
			if (v100) {
				incref(MKINT(value_int(MKINT(v97))));
				STR* v105;
				int64_t v106 = mw_std_str_ZPlusStr_byteZAt(value_int(MKINT(v97)), v74, &v105);
				int64_t v107 = 95LL /* B'_' */;
				int64_t v108 = v106;
				INT v109 = i64_to_int(v108);
				uint64_t v110 = int_to_u64(v109);
				uint8_t v111 = (uint8_t)(v110);
				int64_t v112 = v107;
				INT v113 = i64_to_int(v112);
				uint64_t v114 = int_to_u64(v113);
				uint8_t v115 = (uint8_t)(v114);
				uint64_t v116 = (uint64_t)(v115);
				uint32_t v117 = (uint32_t)(v116);
				uint64_t v118 = (uint64_t)(value_u8(MKU8(v111)));
				uint32_t v119 = (uint32_t)(v118);
				uint64_t v120 = (uint64_t)(v119);
				uint64_t v121 = (uint64_t)(v117);
				bool v122 = (value_u64(MKU64(v120)) == v121);
				branch_z_x1_104 = MKTUP(branch_ZPlusLexer_44);
				branch_ZPlusStr_103 = v105;
				branch_Bool_102 = v122;
				branch_Offset_101 = value_int(MKINT(v97));
			} else {
				bool v123 = false;
				branch_z_x1_104 = MKTUP(branch_ZPlusLexer_44);
				branch_ZPlusStr_103 = v74;
				branch_Bool_102 = v123;
				branch_Offset_101 = value_int(MKINT(v97));
			}
			INT branch_Offset_124;
			bool branch_Bool_125;
			STR* branch_ZPlusStr_126;
			VAL branch_z_x1_127;
			if (branch_Bool_102) {
				incref(MKINT(branch_Offset_101));
				INT v128 = WRAP_I63(1LL);
				INT v129 = v128;
				INT v130 = int_add(branch_Offset_101, v129);
				STR* v131;
				int64_t v132 = mw_std_str_ZPlusStr_byteZAt(v130, branch_ZPlusStr_103, &v131);
				int64_t v133 = 48LL /* B'0' */;
				int64_t v134 = 55LL /* B'7' */;
				int64_t v135 = v133;
				INT v136 = i64_to_int(v135);
				uint64_t v137 = int_to_u64(v136);
				uint8_t v138 = (uint8_t)(v137);
				int64_t v139 = v132;
				INT v140 = i64_to_int(v139);
				uint64_t v141 = int_to_u64(v140);
				uint8_t v142 = (uint8_t)(v141);
				uint64_t v143 = (uint64_t)(v142);
				uint32_t v144 = (uint32_t)(v143);
				uint64_t v145 = (uint64_t)(value_u8(MKU8(v138)));
				uint32_t v146 = (uint32_t)(v145);
				uint64_t v147 = (uint64_t)(v146);
				uint64_t v148 = (uint64_t)(v144);
				bool v149 = (value_u64(MKU64(v147)) <= v148);
				bool branch_Bool_150;
				if (value_bool(MKBOOL(v149))) {
					int64_t v151 = VI64(MKI64(v132));
					INT v152 = i64_to_int(v151);
					uint64_t v153 = int_to_u64(v152);
					uint8_t v154 = (uint8_t)(v153);
					int64_t v155 = VI64(MKI64(v134));
					INT v156 = i64_to_int(v155);
					uint64_t v157 = int_to_u64(v156);
					uint8_t v158 = (uint8_t)(v157);
					uint64_t v159 = (uint64_t)(v158);
					uint32_t v160 = (uint32_t)(v159);
					uint64_t v161 = (uint64_t)(value_u8(MKU8(v154)));
					uint32_t v162 = (uint32_t)(v161);
					uint64_t v163 = (uint64_t)(v162);
					uint64_t v164 = (uint64_t)(v160);
					bool v165 = (value_u64(MKU64(v163)) <= v164);
					branch_Bool_150 = v165;
				} else {
					decref(MKI64(VI64(MKI64(v134))));
					decref(MKI64(VI64(MKI64(v132))));
					bool v166 = false;
					branch_Bool_150 = v166;
				}
				branch_z_x1_127 = branch_z_x1_104;
				branch_ZPlusStr_126 = v131;
				branch_Bool_125 = branch_Bool_150;
				branch_Offset_124 = branch_Offset_101;
			} else {
				bool v167 = false;
				branch_z_x1_127 = branch_z_x1_104;
				branch_ZPlusStr_126 = branch_ZPlusStr_103;
				branch_Bool_125 = v167;
				branch_Offset_124 = branch_Offset_101;
			}
			STR* branch_ZPlusStr_168;
			VAL branch_z_x1_169;
			INT branch_Sizze_170;
			INT branch_Offset_171;
			bool branch_Bool_172;
			if (branch_Bool_125) {
				INT v173 = WRAP_I63(1LL);
				INT v174 = v173;
				INT v175 = int_add(branch_Offset_124, v174);
				bool v176 = true;
				branch_Bool_172 = v176;
				branch_Offset_171 = v175;
				branch_Sizze_170 = value_int(MKINT(branch_Sizze_43));
				branch_z_x1_169 = branch_z_x1_127;
				branch_ZPlusStr_168 = branch_ZPlusStr_126;
			} else {
				incref(MKINT(branch_Offset_124));
				STR* v177;
				int64_t v178 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_124, branch_ZPlusStr_126, &v177);
				int64_t v179 = 48LL /* B'0' */;
				int64_t v180 = 55LL /* B'7' */;
				int64_t v181 = v179;
				INT v182 = i64_to_int(v181);
				uint64_t v183 = int_to_u64(v182);
				uint8_t v184 = (uint8_t)(v183);
				int64_t v185 = v178;
				INT v186 = i64_to_int(v185);
				uint64_t v187 = int_to_u64(v186);
				uint8_t v188 = (uint8_t)(v187);
				uint64_t v189 = (uint64_t)(v188);
				uint32_t v190 = (uint32_t)(v189);
				uint64_t v191 = (uint64_t)(value_u8(MKU8(v184)));
				uint32_t v192 = (uint32_t)(v191);
				uint64_t v193 = (uint64_t)(v192);
				uint64_t v194 = (uint64_t)(v190);
				bool v195 = (value_u64(MKU64(v193)) <= v194);
				bool branch_Bool_196;
				if (value_bool(MKBOOL(v195))) {
					int64_t v197 = VI64(MKI64(v178));
					INT v198 = i64_to_int(v197);
					uint64_t v199 = int_to_u64(v198);
					uint8_t v200 = (uint8_t)(v199);
					int64_t v201 = VI64(MKI64(v180));
					INT v202 = i64_to_int(v201);
					uint64_t v203 = int_to_u64(v202);
					uint8_t v204 = (uint8_t)(v203);
					uint64_t v205 = (uint64_t)(v204);
					uint32_t v206 = (uint32_t)(v205);
					uint64_t v207 = (uint64_t)(value_u8(MKU8(v200)));
					uint32_t v208 = (uint32_t)(v207);
					uint64_t v209 = (uint64_t)(v208);
					uint64_t v210 = (uint64_t)(v206);
					bool v211 = (value_u64(MKU64(v209)) <= v210);
					branch_Bool_196 = v211;
				} else {
					decref(MKI64(VI64(MKI64(v180))));
					decref(MKI64(VI64(MKI64(v178))));
					bool v212 = false;
					branch_Bool_196 = v212;
				}
				branch_Bool_172 = branch_Bool_196;
				branch_Offset_171 = branch_Offset_124;
				branch_Sizze_170 = value_int(MKINT(branch_Sizze_43));
				branch_z_x1_169 = branch_z_x1_127;
				branch_ZPlusStr_168 = v177;
			}
			INT v213 = branch_Sizze_170;
			INT v214 = branch_Offset_171;
			PTUP r215 = VTUP(branch_z_x1_169);
			STR* r216 = branch_ZPlusStr_168;
			bool v217 = branch_Bool_172;
			while (v217) {
				INT v218 = v213;
				INT v219 = v214;
				PTUP r220 = r215;
				STR* r221 = r216;
				INT v222 = WRAP_I63(1LL);
				INT v223 = v222;
				INT v224 = int_add(v218, v223);
				INT v225 = WRAP_I63(1LL);
				INT v226 = v225;
				INT v227 = int_add(v219, v226);
				incref(MKINT(v224));
				INT v228 = WRAP_I63(0LL);
				INT v229 = v228;
				bool v230 = int_lt(v229, value_int(MKINT(v224)));
				INT branch_Offset_231;
				bool branch_Bool_232;
				STR* branch_ZPlusStr_233;
				VAL branch_z_x1_234;
				if (v230) {
					incref(MKINT(value_int(MKINT(v227))));
					STR* v235;
					int64_t v236 = mw_std_str_ZPlusStr_byteZAt(value_int(MKINT(v227)), r221, &v235);
					int64_t v237 = 95LL /* B'_' */;
					int64_t v238 = v236;
					INT v239 = i64_to_int(v238);
					uint64_t v240 = int_to_u64(v239);
					uint8_t v241 = (uint8_t)(v240);
					int64_t v242 = v237;
					INT v243 = i64_to_int(v242);
					uint64_t v244 = int_to_u64(v243);
					uint8_t v245 = (uint8_t)(v244);
					uint64_t v246 = (uint64_t)(v245);
					uint32_t v247 = (uint32_t)(v246);
					uint64_t v248 = (uint64_t)(value_u8(MKU8(v241)));
					uint32_t v249 = (uint32_t)(v248);
					uint64_t v250 = (uint64_t)(v249);
					uint64_t v251 = (uint64_t)(v247);
					bool v252 = (value_u64(MKU64(v250)) == v251);
					branch_z_x1_234 = MKTUP(r220);
					branch_ZPlusStr_233 = v235;
					branch_Bool_232 = v252;
					branch_Offset_231 = value_int(MKINT(v227));
				} else {
					bool v253 = false;
					branch_z_x1_234 = MKTUP(r220);
					branch_ZPlusStr_233 = r221;
					branch_Bool_232 = v253;
					branch_Offset_231 = value_int(MKINT(v227));
				}
				INT branch_Offset_254;
				bool branch_Bool_255;
				STR* branch_ZPlusStr_256;
				VAL branch_z_x1_257;
				if (branch_Bool_232) {
					incref(MKINT(branch_Offset_231));
					INT v258 = WRAP_I63(1LL);
					INT v259 = v258;
					INT v260 = int_add(branch_Offset_231, v259);
					STR* v261;
					int64_t v262 = mw_std_str_ZPlusStr_byteZAt(v260, branch_ZPlusStr_233, &v261);
					int64_t v263 = 48LL /* B'0' */;
					int64_t v264 = 55LL /* B'7' */;
					int64_t v265 = v263;
					INT v266 = i64_to_int(v265);
					uint64_t v267 = int_to_u64(v266);
					uint8_t v268 = (uint8_t)(v267);
					int64_t v269 = v262;
					INT v270 = i64_to_int(v269);
					uint64_t v271 = int_to_u64(v270);
					uint8_t v272 = (uint8_t)(v271);
					uint64_t v273 = (uint64_t)(v272);
					uint32_t v274 = (uint32_t)(v273);
					uint64_t v275 = (uint64_t)(value_u8(MKU8(v268)));
					uint32_t v276 = (uint32_t)(v275);
					uint64_t v277 = (uint64_t)(v276);
					uint64_t v278 = (uint64_t)(v274);
					bool v279 = (value_u64(MKU64(v277)) <= v278);
					bool branch_Bool_280;
					if (value_bool(MKBOOL(v279))) {
						int64_t v281 = VI64(MKI64(v262));
						INT v282 = i64_to_int(v281);
						uint64_t v283 = int_to_u64(v282);
						uint8_t v284 = (uint8_t)(v283);
						int64_t v285 = VI64(MKI64(v264));
						INT v286 = i64_to_int(v285);
						uint64_t v287 = int_to_u64(v286);
						uint8_t v288 = (uint8_t)(v287);
						uint64_t v289 = (uint64_t)(v288);
						uint32_t v290 = (uint32_t)(v289);
						uint64_t v291 = (uint64_t)(value_u8(MKU8(v284)));
						uint32_t v292 = (uint32_t)(v291);
						uint64_t v293 = (uint64_t)(v292);
						uint64_t v294 = (uint64_t)(v290);
						bool v295 = (value_u64(MKU64(v293)) <= v294);
						branch_Bool_280 = v295;
					} else {
						decref(MKI64(VI64(MKI64(v264))));
						decref(MKI64(VI64(MKI64(v262))));
						bool v296 = false;
						branch_Bool_280 = v296;
					}
					branch_z_x1_257 = branch_z_x1_234;
					branch_ZPlusStr_256 = v261;
					branch_Bool_255 = branch_Bool_280;
					branch_Offset_254 = branch_Offset_231;
				} else {
					bool v297 = false;
					branch_z_x1_257 = branch_z_x1_234;
					branch_ZPlusStr_256 = branch_ZPlusStr_233;
					branch_Bool_255 = v297;
					branch_Offset_254 = branch_Offset_231;
				}
				STR* branch_ZPlusStr_298;
				VAL branch_z_x1_299;
				INT branch_Sizze_300;
				INT branch_Offset_301;
				bool branch_Bool_302;
				if (branch_Bool_255) {
					INT v303 = WRAP_I63(1LL);
					INT v304 = v303;
					INT v305 = int_add(branch_Offset_254, v304);
					bool v306 = true;
					branch_Bool_302 = v306;
					branch_Offset_301 = v305;
					branch_Sizze_300 = value_int(MKINT(v224));
					branch_z_x1_299 = branch_z_x1_257;
					branch_ZPlusStr_298 = branch_ZPlusStr_256;
				} else {
					incref(MKINT(branch_Offset_254));
					STR* v307;
					int64_t v308 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_254, branch_ZPlusStr_256, &v307);
					int64_t v309 = 48LL /* B'0' */;
					int64_t v310 = 55LL /* B'7' */;
					int64_t v311 = v309;
					INT v312 = i64_to_int(v311);
					uint64_t v313 = int_to_u64(v312);
					uint8_t v314 = (uint8_t)(v313);
					int64_t v315 = v308;
					INT v316 = i64_to_int(v315);
					uint64_t v317 = int_to_u64(v316);
					uint8_t v318 = (uint8_t)(v317);
					uint64_t v319 = (uint64_t)(v318);
					uint32_t v320 = (uint32_t)(v319);
					uint64_t v321 = (uint64_t)(value_u8(MKU8(v314)));
					uint32_t v322 = (uint32_t)(v321);
					uint64_t v323 = (uint64_t)(v322);
					uint64_t v324 = (uint64_t)(v320);
					bool v325 = (value_u64(MKU64(v323)) <= v324);
					bool branch_Bool_326;
					if (value_bool(MKBOOL(v325))) {
						int64_t v327 = VI64(MKI64(v308));
						INT v328 = i64_to_int(v327);
						uint64_t v329 = int_to_u64(v328);
						uint8_t v330 = (uint8_t)(v329);
						int64_t v331 = VI64(MKI64(v310));
						INT v332 = i64_to_int(v331);
						uint64_t v333 = int_to_u64(v332);
						uint8_t v334 = (uint8_t)(v333);
						uint64_t v335 = (uint64_t)(v334);
						uint32_t v336 = (uint32_t)(v335);
						uint64_t v337 = (uint64_t)(value_u8(MKU8(v330)));
						uint32_t v338 = (uint32_t)(v337);
						uint64_t v339 = (uint64_t)(v338);
						uint64_t v340 = (uint64_t)(v336);
						bool v341 = (value_u64(MKU64(v339)) <= v340);
						branch_Bool_326 = v341;
					} else {
						decref(MKI64(VI64(MKI64(v310))));
						decref(MKI64(VI64(MKI64(v308))));
						bool v342 = false;
						branch_Bool_326 = v342;
					}
					branch_Bool_302 = branch_Bool_326;
					branch_Offset_301 = branch_Offset_254;
					branch_Sizze_300 = value_int(MKINT(v224));
					branch_z_x1_299 = branch_z_x1_257;
					branch_ZPlusStr_298 = v307;
				}
				v217 = branch_Bool_302;
				r216 = branch_ZPlusStr_298;
				r215 = VTUP(branch_z_x1_299);
				v214 = branch_Offset_301;
				v213 = branch_Sizze_300;
			}
			INT v343 = WRAP_I63(0LL);
			INT v344 = v343;
			bool v345 = int_lt(v344, v213);
			INT branch_Offset_346;
			bool branch_Bool_347;
			PTUP branch_ZPlusLexer_348;
			STR* branch_ZPlusStr_349;
			if (v345) {
				incref(MKINT(v214));
				STR* v350;
				PTUP v351;
				PTUP v352 = mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk(r216, r215, v214, &v350, &v351);
				int64_t v353 = PTREXTRA(v352);
				decref(MKTUP(v352));
				INT v354 = WRAP_I63(0LL);
				INT v355 = v354;
				INT v356 = i64_to_int(v353);
				bool v357 = int_eq(v356, v355);
				bool v358 = !v357;
				branch_ZPlusStr_349 = v350;
				branch_ZPlusLexer_348 = v351;
				branch_Bool_347 = v358;
				branch_Offset_346 = v214;
			} else {
				bool v359 = false;
				branch_ZPlusStr_349 = r216;
				branch_ZPlusLexer_348 = r215;
				branch_Bool_347 = v359;
				branch_Offset_346 = v214;
			}
			decref(MKINT(branch_Offset_346));
			branch_Bool_94 = value_bool(MKBOOL(branch_Bool_347));
			branch_ZPlusStr_93 = branch_ZPlusStr_349;
			branch_ZPlusLexer_92 = branch_ZPlusLexer_348;
		} else {
			decref(MKINT(v73));
			decref(MKINT(branch_Sizze_43));
			bool v360 = false;
			branch_Bool_94 = v360;
			branch_ZPlusStr_93 = v74;
			branch_ZPlusLexer_92 = branch_ZPlusLexer_44;
		}
		branch_Bool_70 = branch_Bool_94;
		branch_ZPlusStr_69 = branch_ZPlusStr_93;
		branch_ZPlusLexer_68 = branch_ZPlusLexer_92;
	} else {
		decref(MKINT(branch_Offset_46));
		decref(MKINT(branch_Sizze_43));
		bool v361 = false;
		branch_Bool_70 = v361;
		branch_ZPlusStr_69 = v50;
		branch_ZPlusLexer_68 = branch_ZPlusLexer_44;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_68;
	*out_ZPlusStr_3 = branch_ZPlusStr_69;
	return branch_Bool_70;
}
static INT mw_mirth_lexer_ZPlusLexer_intZ_sign (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4, INT *out_Int_6, INT *out_Offset_7) {
	INT v8 = WRAP_I63(0LL);
	STR* v9;
	int64_t v10 = mw_std_str_ZPlusStr_byteZAt(v8, in_ZPlusStr_1, &v9);
	INT v11;
	INT v12;
	INT v13 = mw_mirth_lexer_ZPlusLexer_byteZ_signZ_valueZ_index(v10, &v11, &v12);
	*out_Offset_7 = v12;
	*out_Int_6 = v11;
	*out_ZPlusLexer_4 = in_ZPlusLexer_2;
	*out_ZPlusStr_3 = v9;
	return v13;
}
static INT mw_mirth_lexer_ZPlusLexer_byteZ_signZ_valueZ_index (int64_t in_Byte_1, INT *out_Int_3, INT *out_Offset_4) {
	INT branch_Int_5;
	INT branch_Int_6;
	INT branch_Offset_7;
	switch (in_Byte_1) {
		case 45LL: { // B'-'
			INT v8 = WRAP_I63(-1LL);
			INT v9 = WRAP_I63(0LL);
			INT v10 = WRAP_I63(1LL);
			branch_Offset_7 = v10;
			branch_Int_6 = v9;
			branch_Int_5 = v8;
		} break;
		case 43LL: { // B'+'
			INT v11 = WRAP_I63(1LL);
			INT v12 = WRAP_I63(0LL);
			INT v13 = WRAP_I63(1LL);
			branch_Offset_7 = v13;
			branch_Int_6 = v12;
			branch_Int_5 = v11;
		} break;
		default: {
			INT v14 = WRAP_I63(1LL);
			INT v15 = WRAP_I63(0LL);
			INT v16 = WRAP_I63(0LL);
			branch_Offset_7 = v16;
			branch_Int_6 = v15;
			branch_Int_5 = v14;
		} break;
	}
	*out_Offset_4 = branch_Offset_7;
	*out_Int_3 = branch_Int_6;
	return branch_Int_5;
}
static PTUP mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, INT in_Int_3, INT in_Int_4, INT in_Offset_5, STR* *out_ZPlusStr_6, PTUP *out_ZPlusLexer_7) {
	INT v9 = int_mul(in_Int_3, in_Int_4);
	STR* v10;
	PTUP v11;
	PTUP v12 = mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk(in_ZPlusStr_1, in_ZPlusLexer_2, in_Offset_5, &v10, &v11);
	PTUP branch_Result_13;
	switch (PTREXTRA(v12)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v12);
			PTUP v15 = mw_mirth_lexer_IntSuffix_convert(v9, VI64(v14));
			branch_Result_13 = v15;
		} break;
		case 0LL: { // None
			decref(MKINT(v9));
			STR* v16;
			STRLIT(v16, "Invalid integer token.", 22);
			PTUP v17 = mtw_std_result_Result_2_Err(MKSTR(v16));
			branch_Result_13 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLexer_7 = v11;
	*out_ZPlusStr_6 = v10;
	return branch_Result_13;
}
static PTUP mw_mirth_lexer_ZPlusLexer_decZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	STR* v6;
	PTUP v7;
	INT v8;
	INT v9;
	INT v10 = mw_mirth_lexer_ZPlusLexer_intZ_sign(in_ZPlusStr_1, in_ZPlusLexer_2, &v6, &v7, &v8, &v9);
	incref(MKINT(v9));
	STR* v11;
	int64_t v12 = mw_std_str_ZPlusStr_byteZAt(v9, v6, &v11);
	int64_t v13 = 95LL /* B'_' */;
	int64_t v14 = v12;
	INT v15 = i64_to_int(v14);
	uint64_t v16 = int_to_u64(v15);
	uint8_t v17 = (uint8_t)(v16);
	int64_t v18 = v13;
	INT v19 = i64_to_int(v18);
	uint64_t v20 = int_to_u64(v19);
	uint8_t v21 = (uint8_t)(v20);
	uint64_t v22 = (uint64_t)(v21);
	uint32_t v23 = (uint32_t)(v22);
	uint64_t v24 = (uint64_t)(value_u8(MKU8(v17)));
	uint32_t v25 = (uint32_t)(v24);
	uint64_t v26 = (uint64_t)(v25);
	uint64_t v27 = (uint64_t)(v23);
	bool v28 = (value_u64(MKU64(v26)) == v27);
	INT branch_Offset_29;
	if (v28) {
		INT v30 = WRAP_I63(1LL);
		INT v31 = v30;
		INT v32 = int_add(v9, v31);
		branch_Offset_29 = v32;
	} else {
		branch_Offset_29 = v9;
	}
	incref(MKINT(branch_Offset_29));
	STR* v33;
	int64_t v34 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_29, v11, &v33);
	int64_t v35 = 48LL /* B'0' */;
	int64_t v36 = 57LL /* B'9' */;
	int64_t v37 = v35;
	INT v38 = i64_to_int(v37);
	uint64_t v39 = int_to_u64(v38);
	uint8_t v40 = (uint8_t)(v39);
	int64_t v41 = v34;
	INT v42 = i64_to_int(v41);
	uint64_t v43 = int_to_u64(v42);
	uint8_t v44 = (uint8_t)(v43);
	uint64_t v45 = (uint64_t)(v44);
	uint32_t v46 = (uint32_t)(v45);
	uint64_t v47 = (uint64_t)(value_u8(MKU8(v40)));
	uint32_t v48 = (uint32_t)(v47);
	uint64_t v49 = (uint64_t)(v48);
	uint64_t v50 = (uint64_t)(v46);
	bool v51 = (value_u64(MKU64(v49)) <= v50);
	bool branch_Bool_52;
	if (value_bool(MKBOOL(v51))) {
		int64_t v53 = VI64(MKI64(v34));
		INT v54 = i64_to_int(v53);
		uint64_t v55 = int_to_u64(v54);
		uint8_t v56 = (uint8_t)(v55);
		int64_t v57 = VI64(MKI64(v36));
		INT v58 = i64_to_int(v57);
		uint64_t v59 = int_to_u64(v58);
		uint8_t v60 = (uint8_t)(v59);
		uint64_t v61 = (uint64_t)(v60);
		uint32_t v62 = (uint32_t)(v61);
		uint64_t v63 = (uint64_t)(value_u8(MKU8(v56)));
		uint32_t v64 = (uint32_t)(v63);
		uint64_t v65 = (uint64_t)(v64);
		uint64_t v66 = (uint64_t)(v62);
		bool v67 = (value_u64(MKU64(v65)) <= v66);
		branch_Bool_52 = v67;
	} else {
		decref(MKI64(VI64(MKI64(v36))));
		decref(MKI64(VI64(MKI64(v34))));
		bool v68 = false;
		branch_Bool_52 = v68;
	}
	INT v69 = v10;
	INT v70 = v8;
	INT v71 = branch_Offset_29;
	STR* r72 = v33;
	PTUP r73 = v7;
	bool v74 = branch_Bool_52;
	while (v74) {
		INT v75 = v69;
		INT v76 = v70;
		INT v77 = v71;
		STR* r78 = r72;
		PTUP r79 = r73;
		incref(MKINT(v77));
		STR* v80;
		int64_t v81 = mw_std_str_ZPlusStr_byteZAt(v77, r78, &v80);
		int64_t v82 = v81;
		INT v83 = i64_to_int(v82);
		INT v84 = WRAP_I63(10LL);
		INT v85 = int_mul(v76, v84);
		INT v86 = WRAP_I63(48LL);
		INT v87 = int_sub(v83, v86);
		INT v88 = int_add(v85, v87);
		INT v89 = WRAP_I63(1LL);
		INT v90 = v89;
		INT v91 = int_add(v77, v90);
		incref(MKINT(v91));
		STR* v92;
		int64_t v93 = mw_std_str_ZPlusStr_byteZAt(v91, v80, &v92);
		int64_t v94 = 95LL /* B'_' */;
		int64_t v95 = v93;
		INT v96 = i64_to_int(v95);
		uint64_t v97 = int_to_u64(v96);
		uint8_t v98 = (uint8_t)(v97);
		int64_t v99 = v94;
		INT v100 = i64_to_int(v99);
		uint64_t v101 = int_to_u64(v100);
		uint8_t v102 = (uint8_t)(v101);
		uint64_t v103 = (uint64_t)(v102);
		uint32_t v104 = (uint32_t)(v103);
		uint64_t v105 = (uint64_t)(value_u8(MKU8(v98)));
		uint32_t v106 = (uint32_t)(v105);
		uint64_t v107 = (uint64_t)(v106);
		uint64_t v108 = (uint64_t)(v104);
		bool v109 = (value_u64(MKU64(v107)) == v108);
		INT branch_Offset_110;
		if (v109) {
			INT v111 = WRAP_I63(1LL);
			INT v112 = v111;
			INT v113 = int_add(v91, v112);
			branch_Offset_110 = v113;
		} else {
			branch_Offset_110 = v91;
		}
		incref(MKINT(branch_Offset_110));
		STR* v114;
		int64_t v115 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_110, v92, &v114);
		int64_t v116 = 48LL /* B'0' */;
		int64_t v117 = 57LL /* B'9' */;
		int64_t v118 = v116;
		INT v119 = i64_to_int(v118);
		uint64_t v120 = int_to_u64(v119);
		uint8_t v121 = (uint8_t)(v120);
		int64_t v122 = v115;
		INT v123 = i64_to_int(v122);
		uint64_t v124 = int_to_u64(v123);
		uint8_t v125 = (uint8_t)(v124);
		uint64_t v126 = (uint64_t)(v125);
		uint32_t v127 = (uint32_t)(v126);
		uint64_t v128 = (uint64_t)(value_u8(MKU8(v121)));
		uint32_t v129 = (uint32_t)(v128);
		uint64_t v130 = (uint64_t)(v129);
		uint64_t v131 = (uint64_t)(v127);
		bool v132 = (value_u64(MKU64(v130)) <= v131);
		bool branch_Bool_133;
		if (value_bool(MKBOOL(v132))) {
			int64_t v134 = VI64(MKI64(v115));
			INT v135 = i64_to_int(v134);
			uint64_t v136 = int_to_u64(v135);
			uint8_t v137 = (uint8_t)(v136);
			int64_t v138 = VI64(MKI64(v117));
			INT v139 = i64_to_int(v138);
			uint64_t v140 = int_to_u64(v139);
			uint8_t v141 = (uint8_t)(v140);
			uint64_t v142 = (uint64_t)(v141);
			uint32_t v143 = (uint32_t)(v142);
			uint64_t v144 = (uint64_t)(value_u8(MKU8(v137)));
			uint32_t v145 = (uint32_t)(v144);
			uint64_t v146 = (uint64_t)(v145);
			uint64_t v147 = (uint64_t)(v143);
			bool v148 = (value_u64(MKU64(v146)) <= v147);
			branch_Bool_133 = v148;
		} else {
			decref(MKI64(VI64(MKI64(v117))));
			decref(MKI64(VI64(MKI64(v115))));
			bool v149 = false;
			branch_Bool_133 = v149;
		}
		v74 = branch_Bool_133;
		r73 = VTUP(MKTUP(r79));
		r72 = v114;
		v71 = branch_Offset_110;
		v70 = v88;
		v69 = v75;
	}
	STR* v150;
	PTUP v151;
	PTUP v152 = mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal(r72, r73, v69, v70, v71, &v150, &v151);
	*out_ZPlusLexer_4 = v151;
	*out_ZPlusStr_3 = v150;
	return v152;
}
static PTUP mw_mirth_lexer_ZPlusLexer_hexZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	STR* v6;
	PTUP v7;
	INT v8;
	INT v9;
	INT v10 = mw_mirth_lexer_ZPlusLexer_intZ_sign(in_ZPlusStr_1, in_ZPlusLexer_2, &v6, &v7, &v8, &v9);
	INT v11 = WRAP_I63(2LL);
	INT v12 = int_add(v9, v11);
	incref(MKINT(v12));
	STR* v13;
	int64_t v14 = mw_std_str_ZPlusStr_byteZAt(v12, v6, &v13);
	int64_t v15 = 95LL /* B'_' */;
	int64_t v16 = v14;
	INT v17 = i64_to_int(v16);
	uint64_t v18 = int_to_u64(v17);
	uint8_t v19 = (uint8_t)(v18);
	int64_t v20 = v15;
	INT v21 = i64_to_int(v20);
	uint64_t v22 = int_to_u64(v21);
	uint8_t v23 = (uint8_t)(v22);
	uint64_t v24 = (uint64_t)(v23);
	uint32_t v25 = (uint32_t)(v24);
	uint64_t v26 = (uint64_t)(value_u8(MKU8(v19)));
	uint32_t v27 = (uint32_t)(v26);
	uint64_t v28 = (uint64_t)(v27);
	uint64_t v29 = (uint64_t)(v25);
	bool v30 = (value_u64(MKU64(v28)) == v29);
	INT branch_Offset_31;
	if (v30) {
		INT v32 = WRAP_I63(1LL);
		INT v33 = v32;
		INT v34 = int_add(v12, v33);
		branch_Offset_31 = v34;
	} else {
		branch_Offset_31 = v12;
	}
	incref(MKINT(branch_Offset_31));
	STR* v35;
	int64_t v36 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_31, v13, &v35);
	int64_t v37 = 48LL /* B'0' */;
	int64_t v38 = 57LL /* B'9' */;
	int64_t v39 = v37;
	INT v40 = i64_to_int(v39);
	uint64_t v41 = int_to_u64(v40);
	uint8_t v42 = (uint8_t)(v41);
	int64_t v43 = v36;
	INT v44 = i64_to_int(v43);
	uint64_t v45 = int_to_u64(v44);
	uint8_t v46 = (uint8_t)(v45);
	uint64_t v47 = (uint64_t)(v46);
	uint32_t v48 = (uint32_t)(v47);
	uint64_t v49 = (uint64_t)(value_u8(MKU8(v42)));
	uint32_t v50 = (uint32_t)(v49);
	uint64_t v51 = (uint64_t)(v50);
	uint64_t v52 = (uint64_t)(v48);
	bool v53 = (value_u64(MKU64(v51)) <= v52);
	bool branch_Bool_54;
	if (value_bool(MKBOOL(v53))) {
		int64_t v55 = VI64(MKI64(v36));
		INT v56 = i64_to_int(v55);
		uint64_t v57 = int_to_u64(v56);
		uint8_t v58 = (uint8_t)(v57);
		int64_t v59 = VI64(MKI64(v38));
		INT v60 = i64_to_int(v59);
		uint64_t v61 = int_to_u64(v60);
		uint8_t v62 = (uint8_t)(v61);
		uint64_t v63 = (uint64_t)(v62);
		uint32_t v64 = (uint32_t)(v63);
		uint64_t v65 = (uint64_t)(value_u8(MKU8(v58)));
		uint32_t v66 = (uint32_t)(v65);
		uint64_t v67 = (uint64_t)(v66);
		uint64_t v68 = (uint64_t)(v64);
		bool v69 = (value_u64(MKU64(v67)) <= v68);
		branch_Bool_54 = v69;
	} else {
		decref(MKI64(VI64(MKI64(v38))));
		decref(MKI64(VI64(MKI64(v36))));
		bool v70 = false;
		branch_Bool_54 = v70;
	}
	bool branch_Bool_71;
	if (branch_Bool_54) {
		bool v72 = true;
		branch_Bool_71 = v72;
	} else {
		int64_t v73 = 65LL /* B'A' */;
		int64_t v74 = 70LL /* B'F' */;
		int64_t v75 = v73;
		INT v76 = i64_to_int(v75);
		uint64_t v77 = int_to_u64(v76);
		uint8_t v78 = (uint8_t)(v77);
		int64_t v79 = v36;
		INT v80 = i64_to_int(v79);
		uint64_t v81 = int_to_u64(v80);
		uint8_t v82 = (uint8_t)(v81);
		uint64_t v83 = (uint64_t)(v82);
		uint32_t v84 = (uint32_t)(v83);
		uint64_t v85 = (uint64_t)(value_u8(MKU8(v78)));
		uint32_t v86 = (uint32_t)(v85);
		uint64_t v87 = (uint64_t)(v86);
		uint64_t v88 = (uint64_t)(v84);
		bool v89 = (value_u64(MKU64(v87)) <= v88);
		bool branch_Bool_90;
		if (value_bool(MKBOOL(v89))) {
			int64_t v91 = VI64(MKI64(v36));
			INT v92 = i64_to_int(v91);
			uint64_t v93 = int_to_u64(v92);
			uint8_t v94 = (uint8_t)(v93);
			int64_t v95 = VI64(MKI64(v74));
			INT v96 = i64_to_int(v95);
			uint64_t v97 = int_to_u64(v96);
			uint8_t v98 = (uint8_t)(v97);
			uint64_t v99 = (uint64_t)(v98);
			uint32_t v100 = (uint32_t)(v99);
			uint64_t v101 = (uint64_t)(value_u8(MKU8(v94)));
			uint32_t v102 = (uint32_t)(v101);
			uint64_t v103 = (uint64_t)(v102);
			uint64_t v104 = (uint64_t)(v100);
			bool v105 = (value_u64(MKU64(v103)) <= v104);
			branch_Bool_90 = v105;
		} else {
			decref(MKI64(VI64(MKI64(v74))));
			decref(MKI64(VI64(MKI64(v36))));
			bool v106 = false;
			branch_Bool_90 = v106;
		}
		bool branch_Bool_107;
		if (branch_Bool_90) {
			bool v108 = true;
			branch_Bool_107 = v108;
		} else {
			int64_t v109 = 97LL /* B'a' */;
			int64_t v110 = 102LL /* B'f' */;
			int64_t v111 = v109;
			INT v112 = i64_to_int(v111);
			uint64_t v113 = int_to_u64(v112);
			uint8_t v114 = (uint8_t)(v113);
			int64_t v115 = v36;
			INT v116 = i64_to_int(v115);
			uint64_t v117 = int_to_u64(v116);
			uint8_t v118 = (uint8_t)(v117);
			uint64_t v119 = (uint64_t)(v118);
			uint32_t v120 = (uint32_t)(v119);
			uint64_t v121 = (uint64_t)(value_u8(MKU8(v114)));
			uint32_t v122 = (uint32_t)(v121);
			uint64_t v123 = (uint64_t)(v122);
			uint64_t v124 = (uint64_t)(v120);
			bool v125 = (value_u64(MKU64(v123)) <= v124);
			bool branch_Bool_126;
			if (value_bool(MKBOOL(v125))) {
				int64_t v127 = VI64(MKI64(v36));
				INT v128 = i64_to_int(v127);
				uint64_t v129 = int_to_u64(v128);
				uint8_t v130 = (uint8_t)(v129);
				int64_t v131 = VI64(MKI64(v110));
				INT v132 = i64_to_int(v131);
				uint64_t v133 = int_to_u64(v132);
				uint8_t v134 = (uint8_t)(v133);
				uint64_t v135 = (uint64_t)(v134);
				uint32_t v136 = (uint32_t)(v135);
				uint64_t v137 = (uint64_t)(value_u8(MKU8(v130)));
				uint32_t v138 = (uint32_t)(v137);
				uint64_t v139 = (uint64_t)(v138);
				uint64_t v140 = (uint64_t)(v136);
				bool v141 = (value_u64(MKU64(v139)) <= v140);
				branch_Bool_126 = v141;
			} else {
				decref(MKI64(VI64(MKI64(v110))));
				decref(MKI64(VI64(MKI64(v36))));
				bool v142 = false;
				branch_Bool_126 = v142;
			}
			branch_Bool_107 = branch_Bool_126;
		}
		branch_Bool_71 = branch_Bool_107;
	}
	INT v143 = v10;
	INT v144 = v8;
	INT v145 = branch_Offset_31;
	STR* r146 = v35;
	PTUP r147 = v7;
	bool v148 = branch_Bool_71;
	while (v148) {
		INT v149 = v143;
		INT v150 = v144;
		INT v151 = v145;
		STR* r152 = r146;
		PTUP r153 = r147;
		incref(MKINT(v151));
		STR* v154;
		int64_t v155 = mw_std_str_ZPlusStr_byteZAt(v151, r152, &v154);
		INT v156 = WRAP_I63(16LL);
		INT v157 = int_mul(v150, v156);
		INT v158 = mw_mirth_lexer_ZPlusLexer_hexdigitZ_value(v155);
		INT v159 = int_add(v157, v158);
		INT v160 = WRAP_I63(1LL);
		INT v161 = v160;
		INT v162 = int_add(v151, v161);
		incref(MKINT(v162));
		STR* v163;
		int64_t v164 = mw_std_str_ZPlusStr_byteZAt(v162, v154, &v163);
		int64_t v165 = 95LL /* B'_' */;
		int64_t v166 = v164;
		INT v167 = i64_to_int(v166);
		uint64_t v168 = int_to_u64(v167);
		uint8_t v169 = (uint8_t)(v168);
		int64_t v170 = v165;
		INT v171 = i64_to_int(v170);
		uint64_t v172 = int_to_u64(v171);
		uint8_t v173 = (uint8_t)(v172);
		uint64_t v174 = (uint64_t)(v173);
		uint32_t v175 = (uint32_t)(v174);
		uint64_t v176 = (uint64_t)(value_u8(MKU8(v169)));
		uint32_t v177 = (uint32_t)(v176);
		uint64_t v178 = (uint64_t)(v177);
		uint64_t v179 = (uint64_t)(v175);
		bool v180 = (value_u64(MKU64(v178)) == v179);
		INT branch_Offset_181;
		if (v180) {
			INT v182 = WRAP_I63(1LL);
			INT v183 = v182;
			INT v184 = int_add(v162, v183);
			branch_Offset_181 = v184;
		} else {
			branch_Offset_181 = v162;
		}
		incref(MKINT(branch_Offset_181));
		STR* v185;
		int64_t v186 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_181, v163, &v185);
		int64_t v187 = 48LL /* B'0' */;
		int64_t v188 = 57LL /* B'9' */;
		int64_t v189 = v187;
		INT v190 = i64_to_int(v189);
		uint64_t v191 = int_to_u64(v190);
		uint8_t v192 = (uint8_t)(v191);
		int64_t v193 = v186;
		INT v194 = i64_to_int(v193);
		uint64_t v195 = int_to_u64(v194);
		uint8_t v196 = (uint8_t)(v195);
		uint64_t v197 = (uint64_t)(v196);
		uint32_t v198 = (uint32_t)(v197);
		uint64_t v199 = (uint64_t)(value_u8(MKU8(v192)));
		uint32_t v200 = (uint32_t)(v199);
		uint64_t v201 = (uint64_t)(v200);
		uint64_t v202 = (uint64_t)(v198);
		bool v203 = (value_u64(MKU64(v201)) <= v202);
		bool branch_Bool_204;
		if (value_bool(MKBOOL(v203))) {
			int64_t v205 = VI64(MKI64(v186));
			INT v206 = i64_to_int(v205);
			uint64_t v207 = int_to_u64(v206);
			uint8_t v208 = (uint8_t)(v207);
			int64_t v209 = VI64(MKI64(v188));
			INT v210 = i64_to_int(v209);
			uint64_t v211 = int_to_u64(v210);
			uint8_t v212 = (uint8_t)(v211);
			uint64_t v213 = (uint64_t)(v212);
			uint32_t v214 = (uint32_t)(v213);
			uint64_t v215 = (uint64_t)(value_u8(MKU8(v208)));
			uint32_t v216 = (uint32_t)(v215);
			uint64_t v217 = (uint64_t)(v216);
			uint64_t v218 = (uint64_t)(v214);
			bool v219 = (value_u64(MKU64(v217)) <= v218);
			branch_Bool_204 = v219;
		} else {
			decref(MKI64(VI64(MKI64(v188))));
			decref(MKI64(VI64(MKI64(v186))));
			bool v220 = false;
			branch_Bool_204 = v220;
		}
		bool branch_Bool_221;
		if (branch_Bool_204) {
			bool v222 = true;
			branch_Bool_221 = v222;
		} else {
			int64_t v223 = 65LL /* B'A' */;
			int64_t v224 = 70LL /* B'F' */;
			int64_t v225 = v223;
			INT v226 = i64_to_int(v225);
			uint64_t v227 = int_to_u64(v226);
			uint8_t v228 = (uint8_t)(v227);
			int64_t v229 = v186;
			INT v230 = i64_to_int(v229);
			uint64_t v231 = int_to_u64(v230);
			uint8_t v232 = (uint8_t)(v231);
			uint64_t v233 = (uint64_t)(v232);
			uint32_t v234 = (uint32_t)(v233);
			uint64_t v235 = (uint64_t)(value_u8(MKU8(v228)));
			uint32_t v236 = (uint32_t)(v235);
			uint64_t v237 = (uint64_t)(v236);
			uint64_t v238 = (uint64_t)(v234);
			bool v239 = (value_u64(MKU64(v237)) <= v238);
			bool branch_Bool_240;
			if (value_bool(MKBOOL(v239))) {
				int64_t v241 = VI64(MKI64(v186));
				INT v242 = i64_to_int(v241);
				uint64_t v243 = int_to_u64(v242);
				uint8_t v244 = (uint8_t)(v243);
				int64_t v245 = VI64(MKI64(v224));
				INT v246 = i64_to_int(v245);
				uint64_t v247 = int_to_u64(v246);
				uint8_t v248 = (uint8_t)(v247);
				uint64_t v249 = (uint64_t)(v248);
				uint32_t v250 = (uint32_t)(v249);
				uint64_t v251 = (uint64_t)(value_u8(MKU8(v244)));
				uint32_t v252 = (uint32_t)(v251);
				uint64_t v253 = (uint64_t)(v252);
				uint64_t v254 = (uint64_t)(v250);
				bool v255 = (value_u64(MKU64(v253)) <= v254);
				branch_Bool_240 = v255;
			} else {
				decref(MKI64(VI64(MKI64(v224))));
				decref(MKI64(VI64(MKI64(v186))));
				bool v256 = false;
				branch_Bool_240 = v256;
			}
			bool branch_Bool_257;
			if (branch_Bool_240) {
				bool v258 = true;
				branch_Bool_257 = v258;
			} else {
				int64_t v259 = 97LL /* B'a' */;
				int64_t v260 = 102LL /* B'f' */;
				int64_t v261 = v259;
				INT v262 = i64_to_int(v261);
				uint64_t v263 = int_to_u64(v262);
				uint8_t v264 = (uint8_t)(v263);
				int64_t v265 = v186;
				INT v266 = i64_to_int(v265);
				uint64_t v267 = int_to_u64(v266);
				uint8_t v268 = (uint8_t)(v267);
				uint64_t v269 = (uint64_t)(v268);
				uint32_t v270 = (uint32_t)(v269);
				uint64_t v271 = (uint64_t)(value_u8(MKU8(v264)));
				uint32_t v272 = (uint32_t)(v271);
				uint64_t v273 = (uint64_t)(v272);
				uint64_t v274 = (uint64_t)(v270);
				bool v275 = (value_u64(MKU64(v273)) <= v274);
				bool branch_Bool_276;
				if (value_bool(MKBOOL(v275))) {
					int64_t v277 = VI64(MKI64(v186));
					INT v278 = i64_to_int(v277);
					uint64_t v279 = int_to_u64(v278);
					uint8_t v280 = (uint8_t)(v279);
					int64_t v281 = VI64(MKI64(v260));
					INT v282 = i64_to_int(v281);
					uint64_t v283 = int_to_u64(v282);
					uint8_t v284 = (uint8_t)(v283);
					uint64_t v285 = (uint64_t)(v284);
					uint32_t v286 = (uint32_t)(v285);
					uint64_t v287 = (uint64_t)(value_u8(MKU8(v280)));
					uint32_t v288 = (uint32_t)(v287);
					uint64_t v289 = (uint64_t)(v288);
					uint64_t v290 = (uint64_t)(v286);
					bool v291 = (value_u64(MKU64(v289)) <= v290);
					branch_Bool_276 = v291;
				} else {
					decref(MKI64(VI64(MKI64(v260))));
					decref(MKI64(VI64(MKI64(v186))));
					bool v292 = false;
					branch_Bool_276 = v292;
				}
				branch_Bool_257 = branch_Bool_276;
			}
			branch_Bool_221 = branch_Bool_257;
		}
		v148 = branch_Bool_221;
		r147 = VTUP(MKTUP(r153));
		r146 = v185;
		v145 = branch_Offset_181;
		v144 = v159;
		v143 = v149;
	}
	STR* v293;
	PTUP v294;
	PTUP v295 = mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal(r146, r147, v143, v144, v145, &v293, &v294);
	*out_ZPlusLexer_4 = v294;
	*out_ZPlusStr_3 = v293;
	return v295;
}
static PTUP mw_mirth_lexer_ZPlusLexer_octZ_intZAsk (STR* in_ZPlusStr_1, PTUP in_ZPlusLexer_2, STR* *out_ZPlusStr_3, PTUP *out_ZPlusLexer_4) {
	STR* v6;
	PTUP v7;
	INT v8;
	INT v9;
	INT v10 = mw_mirth_lexer_ZPlusLexer_intZ_sign(in_ZPlusStr_1, in_ZPlusLexer_2, &v6, &v7, &v8, &v9);
	INT v11 = WRAP_I63(2LL);
	INT v12 = int_add(v9, v11);
	incref(MKINT(v12));
	STR* v13;
	int64_t v14 = mw_std_str_ZPlusStr_byteZAt(v12, v6, &v13);
	int64_t v15 = 95LL /* B'_' */;
	int64_t v16 = v14;
	INT v17 = i64_to_int(v16);
	uint64_t v18 = int_to_u64(v17);
	uint8_t v19 = (uint8_t)(v18);
	int64_t v20 = v15;
	INT v21 = i64_to_int(v20);
	uint64_t v22 = int_to_u64(v21);
	uint8_t v23 = (uint8_t)(v22);
	uint64_t v24 = (uint64_t)(v23);
	uint32_t v25 = (uint32_t)(v24);
	uint64_t v26 = (uint64_t)(value_u8(MKU8(v19)));
	uint32_t v27 = (uint32_t)(v26);
	uint64_t v28 = (uint64_t)(v27);
	uint64_t v29 = (uint64_t)(v25);
	bool v30 = (value_u64(MKU64(v28)) == v29);
	INT branch_Offset_31;
	if (v30) {
		INT v32 = WRAP_I63(1LL);
		INT v33 = v32;
		INT v34 = int_add(v12, v33);
		branch_Offset_31 = v34;
	} else {
		branch_Offset_31 = v12;
	}
	incref(MKINT(branch_Offset_31));
	STR* v35;
	int64_t v36 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_31, v13, &v35);
	int64_t v37 = 48LL /* B'0' */;
	int64_t v38 = 55LL /* B'7' */;
	int64_t v39 = v37;
	INT v40 = i64_to_int(v39);
	uint64_t v41 = int_to_u64(v40);
	uint8_t v42 = (uint8_t)(v41);
	int64_t v43 = v36;
	INT v44 = i64_to_int(v43);
	uint64_t v45 = int_to_u64(v44);
	uint8_t v46 = (uint8_t)(v45);
	uint64_t v47 = (uint64_t)(v46);
	uint32_t v48 = (uint32_t)(v47);
	uint64_t v49 = (uint64_t)(value_u8(MKU8(v42)));
	uint32_t v50 = (uint32_t)(v49);
	uint64_t v51 = (uint64_t)(v50);
	uint64_t v52 = (uint64_t)(v48);
	bool v53 = (value_u64(MKU64(v51)) <= v52);
	bool branch_Bool_54;
	if (value_bool(MKBOOL(v53))) {
		int64_t v55 = VI64(MKI64(v36));
		INT v56 = i64_to_int(v55);
		uint64_t v57 = int_to_u64(v56);
		uint8_t v58 = (uint8_t)(v57);
		int64_t v59 = VI64(MKI64(v38));
		INT v60 = i64_to_int(v59);
		uint64_t v61 = int_to_u64(v60);
		uint8_t v62 = (uint8_t)(v61);
		uint64_t v63 = (uint64_t)(v62);
		uint32_t v64 = (uint32_t)(v63);
		uint64_t v65 = (uint64_t)(value_u8(MKU8(v58)));
		uint32_t v66 = (uint32_t)(v65);
		uint64_t v67 = (uint64_t)(v66);
		uint64_t v68 = (uint64_t)(v64);
		bool v69 = (value_u64(MKU64(v67)) <= v68);
		branch_Bool_54 = v69;
	} else {
		decref(MKI64(VI64(MKI64(v38))));
		decref(MKI64(VI64(MKI64(v36))));
		bool v70 = false;
		branch_Bool_54 = v70;
	}
	INT v71 = v10;
	INT v72 = v8;
	INT v73 = branch_Offset_31;
	STR* r74 = v35;
	PTUP r75 = v7;
	bool v76 = branch_Bool_54;
	while (v76) {
		INT v77 = v71;
		INT v78 = v72;
		INT v79 = v73;
		STR* r80 = r74;
		PTUP r81 = r75;
		incref(MKINT(v79));
		STR* v82;
		int64_t v83 = mw_std_str_ZPlusStr_byteZAt(v79, r80, &v82);
		int64_t v84 = v83;
		INT v85 = i64_to_int(v84);
		INT v86 = WRAP_I63(8LL);
		INT v87 = int_mul(v78, v86);
		INT v88 = WRAP_I63(48LL);
		INT v89 = int_sub(v85, v88);
		INT v90 = int_add(v87, v89);
		INT v91 = WRAP_I63(1LL);
		INT v92 = v91;
		INT v93 = int_add(v79, v92);
		incref(MKINT(v93));
		STR* v94;
		int64_t v95 = mw_std_str_ZPlusStr_byteZAt(v93, v82, &v94);
		int64_t v96 = 95LL /* B'_' */;
		int64_t v97 = v95;
		INT v98 = i64_to_int(v97);
		uint64_t v99 = int_to_u64(v98);
		uint8_t v100 = (uint8_t)(v99);
		int64_t v101 = v96;
		INT v102 = i64_to_int(v101);
		uint64_t v103 = int_to_u64(v102);
		uint8_t v104 = (uint8_t)(v103);
		uint64_t v105 = (uint64_t)(v104);
		uint32_t v106 = (uint32_t)(v105);
		uint64_t v107 = (uint64_t)(value_u8(MKU8(v100)));
		uint32_t v108 = (uint32_t)(v107);
		uint64_t v109 = (uint64_t)(v108);
		uint64_t v110 = (uint64_t)(v106);
		bool v111 = (value_u64(MKU64(v109)) == v110);
		INT branch_Offset_112;
		if (v111) {
			INT v113 = WRAP_I63(1LL);
			INT v114 = v113;
			INT v115 = int_add(v93, v114);
			branch_Offset_112 = v115;
		} else {
			branch_Offset_112 = v93;
		}
		incref(MKINT(branch_Offset_112));
		STR* v116;
		int64_t v117 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_112, v94, &v116);
		int64_t v118 = 48LL /* B'0' */;
		int64_t v119 = 55LL /* B'7' */;
		int64_t v120 = v118;
		INT v121 = i64_to_int(v120);
		uint64_t v122 = int_to_u64(v121);
		uint8_t v123 = (uint8_t)(v122);
		int64_t v124 = v117;
		INT v125 = i64_to_int(v124);
		uint64_t v126 = int_to_u64(v125);
		uint8_t v127 = (uint8_t)(v126);
		uint64_t v128 = (uint64_t)(v127);
		uint32_t v129 = (uint32_t)(v128);
		uint64_t v130 = (uint64_t)(value_u8(MKU8(v123)));
		uint32_t v131 = (uint32_t)(v130);
		uint64_t v132 = (uint64_t)(v131);
		uint64_t v133 = (uint64_t)(v129);
		bool v134 = (value_u64(MKU64(v132)) <= v133);
		bool branch_Bool_135;
		if (value_bool(MKBOOL(v134))) {
			int64_t v136 = VI64(MKI64(v117));
			INT v137 = i64_to_int(v136);
			uint64_t v138 = int_to_u64(v137);
			uint8_t v139 = (uint8_t)(v138);
			int64_t v140 = VI64(MKI64(v119));
			INT v141 = i64_to_int(v140);
			uint64_t v142 = int_to_u64(v141);
			uint8_t v143 = (uint8_t)(v142);
			uint64_t v144 = (uint64_t)(v143);
			uint32_t v145 = (uint32_t)(v144);
			uint64_t v146 = (uint64_t)(value_u8(MKU8(v139)));
			uint32_t v147 = (uint32_t)(v146);
			uint64_t v148 = (uint64_t)(v147);
			uint64_t v149 = (uint64_t)(v145);
			bool v150 = (value_u64(MKU64(v148)) <= v149);
			branch_Bool_135 = v150;
		} else {
			decref(MKI64(VI64(MKI64(v119))));
			decref(MKI64(VI64(MKI64(v117))));
			bool v151 = false;
			branch_Bool_135 = v151;
		}
		v76 = branch_Bool_135;
		r75 = VTUP(MKTUP(r81));
		r74 = v116;
		v73 = branch_Offset_112;
		v72 = v90;
		v71 = v77;
	}
	STR* v152;
	PTUP v153;
	PTUP v154 = mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal(r74, r75, v71, v72, v73, &v152, &v153);
	*out_ZPlusLexer_4 = v153;
	*out_ZPlusStr_3 = v152;
	return v154;
}
static INT mw_mirth_lexer_ZPlusLexer_hexdigitZ_value (int64_t in_Byte_1) {
	int64_t v3 = 48LL /* B'0' */;
	int64_t v4 = 57LL /* B'9' */;
	int64_t v5 = v3;
	INT v6 = i64_to_int(v5);
	uint64_t v7 = int_to_u64(v6);
	uint8_t v8 = (uint8_t)(v7);
	int64_t v9 = in_Byte_1;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	uint64_t v13 = (uint64_t)(v12);
	uint32_t v14 = (uint32_t)(v13);
	uint64_t v15 = (uint64_t)(value_u8(MKU8(v8)));
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint64_t v18 = (uint64_t)(v14);
	bool v19 = (value_u64(MKU64(v17)) <= v18);
	bool branch_Bool_20;
	if (value_bool(MKBOOL(v19))) {
		int64_t v21 = VI64(MKI64(in_Byte_1));
		INT v22 = i64_to_int(v21);
		uint64_t v23 = int_to_u64(v22);
		uint8_t v24 = (uint8_t)(v23);
		int64_t v25 = VI64(MKI64(v4));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(value_u8(MKU8(v24)));
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (value_u64(MKU64(v33)) <= v34);
		branch_Bool_20 = v35;
	} else {
		decref(MKI64(VI64(MKI64(v4))));
		decref(MKI64(VI64(MKI64(in_Byte_1))));
		bool v36 = false;
		branch_Bool_20 = v36;
	}
	INT branch_Int_37;
	if (branch_Bool_20) {
		int64_t v38 = in_Byte_1;
		INT v39 = i64_to_int(v38);
		INT v40 = WRAP_I63(48LL);
		INT v41 = int_sub(v39, v40);
		branch_Int_37 = v41;
	} else {
		int64_t v42 = mw_std_byte_Byte_toZ_upper(in_Byte_1);
		int64_t v43 = v42;
		INT v44 = i64_to_int(v43);
		INT v45 = WRAP_I63(55LL);
		INT v46 = int_sub(v44, v45);
		branch_Int_37 = v46;
	}
	return branch_Int_37;
}
static PTUP mw_mirth_lexer_IntSuffix_convert (INT in_Int_1, int64_t in_IntSuffix_2) {
	PTUP branch_Result_4;
	switch (in_IntSuffix_2) {
		case 0LL: { // Int
			PTUP v5 = mtw_mirth_token_TokenValue_Int(in_Int_1);
			PTUP v6 = mtw_std_result_Result_2_Ok(MKTUP(v5));
			branch_Result_4 = v6;
		} break;
		case 1LL: { // Nat
			incref(MKINT(in_Int_1));
			INT v7 = WRAP_I63(0LL);
			INT v8 = v7;
			bool v9 = int_le(v8, in_Int_1);
			PTUP branch_Result_10;
			if (v9) {
				INT v11 = in_Int_1;
				PTUP v12 = mtw_mirth_token_TokenValue_Nat(v11);
				PTUP v13 = mtw_std_result_Result_2_Ok(MKTUP(v12));
				branch_Result_10 = v13;
			} else {
				STR* v14;
				STRLIT(v14, "", 0);
				STR* v15 = int_to_str(in_Int_1);
				STR* v16;
				mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
				STR* v17;
				STRLIT(v17, " is outside of Nat range.", 25);
				STR* v18;
				mw_std_str_ZPlusStr_pushZ_strZBang(v17, v16, &v18);
				PTUP v19 = mtw_std_result_Result_2_Err(MKSTR(v18));
				branch_Result_10 = v19;
			}
			branch_Result_4 = branch_Result_10;
		} break;
		case 2LL: { // U8
			incref(MKINT(in_Int_1));
			INT v20 = WRAP_I63(0LL);
			INT v21 = WRAP_I63(255LL);
			incref(MKINT(in_Int_1));
			bool v22 = int_le(v20, in_Int_1);
			bool branch_Bool_23;
			if (value_bool(MKBOOL(v22))) {
				bool v24 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v21)));
				branch_Bool_23 = v24;
			} else {
				decref(MKINT(value_int(MKINT(v21))));
				decref(MKINT(value_int(MKINT(in_Int_1))));
				bool v25 = false;
				branch_Bool_23 = v25;
			}
			PTUP branch_Result_26;
			if (branch_Bool_23) {
				uint64_t v27 = int_to_u64(in_Int_1);
				uint8_t v28 = (uint8_t)(v27);
				PTUP v29 = mtw_mirth_token_TokenValue_U8(v28);
				PTUP v30 = mtw_std_result_Result_2_Ok(MKTUP(v29));
				branch_Result_26 = v30;
			} else {
				STR* v31;
				STRLIT(v31, "", 0);
				STR* v32 = int_to_str(in_Int_1);
				STR* v33;
				mw_std_str_ZPlusStr_pushZ_strZBang(v32, v31, &v33);
				STR* v34;
				STRLIT(v34, " is outside of U8 range.", 24);
				STR* v35;
				mw_std_str_ZPlusStr_pushZ_strZBang(v34, v33, &v35);
				PTUP v36 = mtw_std_result_Result_2_Err(MKSTR(v35));
				branch_Result_26 = v36;
			}
			branch_Result_4 = branch_Result_26;
		} break;
		case 3LL: { // U16
			incref(MKINT(in_Int_1));
			INT v37 = WRAP_I63(0LL);
			INT v38 = WRAP_I63(65535LL);
			incref(MKINT(in_Int_1));
			bool v39 = int_le(v37, in_Int_1);
			bool branch_Bool_40;
			if (value_bool(MKBOOL(v39))) {
				bool v41 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v38)));
				branch_Bool_40 = v41;
			} else {
				decref(MKINT(value_int(MKINT(v38))));
				decref(MKINT(value_int(MKINT(in_Int_1))));
				bool v42 = false;
				branch_Bool_40 = v42;
			}
			PTUP branch_Result_43;
			if (branch_Bool_40) {
				uint64_t v44 = int_to_u64(in_Int_1);
				uint16_t v45 = (uint16_t)(v44);
				PTUP v46 = mtw_mirth_token_TokenValue_U16(v45);
				PTUP v47 = mtw_std_result_Result_2_Ok(MKTUP(v46));
				branch_Result_43 = v47;
			} else {
				STR* v48;
				STRLIT(v48, "", 0);
				STR* v49 = int_to_str(in_Int_1);
				STR* v50;
				mw_std_str_ZPlusStr_pushZ_strZBang(v49, v48, &v50);
				STR* v51;
				STRLIT(v51, " is outside of U16 range.", 25);
				STR* v52;
				mw_std_str_ZPlusStr_pushZ_strZBang(v51, v50, &v52);
				PTUP v53 = mtw_std_result_Result_2_Err(MKSTR(v52));
				branch_Result_43 = v53;
			}
			branch_Result_4 = branch_Result_43;
		} break;
		case 4LL: { // U32
			incref(MKINT(in_Int_1));
			INT v54 = WRAP_I63(0LL);
			uint32_t v55 = 4294967295;
			uint64_t v56 = (uint64_t)(v55);
			INT v57 = u64_to_int(v56);
			incref(MKINT(in_Int_1));
			bool v58 = int_le(v54, in_Int_1);
			bool branch_Bool_59;
			if (value_bool(MKBOOL(v58))) {
				bool v60 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v57)));
				branch_Bool_59 = v60;
			} else {
				decref(MKINT(value_int(MKINT(v57))));
				decref(MKINT(value_int(MKINT(in_Int_1))));
				bool v61 = false;
				branch_Bool_59 = v61;
			}
			PTUP branch_Result_62;
			if (branch_Bool_59) {
				uint64_t v63 = int_to_u64(in_Int_1);
				uint32_t v64 = (uint32_t)(v63);
				PTUP v65 = mtw_mirth_token_TokenValue_U32(v64);
				PTUP v66 = mtw_std_result_Result_2_Ok(MKTUP(v65));
				branch_Result_62 = v66;
			} else {
				STR* v67;
				STRLIT(v67, "", 0);
				STR* v68 = int_to_str(in_Int_1);
				STR* v69;
				mw_std_str_ZPlusStr_pushZ_strZBang(v68, v67, &v69);
				STR* v70;
				STRLIT(v70, " is outside of U32 range.", 25);
				STR* v71;
				mw_std_str_ZPlusStr_pushZ_strZBang(v70, v69, &v71);
				PTUP v72 = mtw_std_result_Result_2_Err(MKSTR(v71));
				branch_Result_62 = v72;
			}
			branch_Result_4 = branch_Result_62;
		} break;
		case 5LL: { // U64
			incref(MKINT(in_Int_1));
			INT v73 = WRAP_I63(0LL);
			INT v74 = WRAP_I63(-1LL);
			uint64_t v75 = int_to_u64(v74);
			INT v76 = u64_to_int(v75);
			incref(MKINT(in_Int_1));
			bool v77 = int_le(v73, in_Int_1);
			bool branch_Bool_78;
			if (value_bool(MKBOOL(v77))) {
				bool v79 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v76)));
				branch_Bool_78 = v79;
			} else {
				decref(MKINT(value_int(MKINT(v76))));
				decref(MKINT(value_int(MKINT(in_Int_1))));
				bool v80 = false;
				branch_Bool_78 = v80;
			}
			PTUP branch_Result_81;
			if (branch_Bool_78) {
				uint64_t v82 = int_to_u64(in_Int_1);
				PTUP v83 = mtw_mirth_token_TokenValue_U64(v82);
				PTUP v84 = mtw_std_result_Result_2_Ok(MKTUP(v83));
				branch_Result_81 = v84;
			} else {
				STR* v85;
				STRLIT(v85, "", 0);
				STR* v86 = int_to_str(in_Int_1);
				STR* v87;
				mw_std_str_ZPlusStr_pushZ_strZBang(v86, v85, &v87);
				STR* v88;
				STRLIT(v88, " is outside of U64 range.", 25);
				STR* v89;
				mw_std_str_ZPlusStr_pushZ_strZBang(v88, v87, &v89);
				PTUP v90 = mtw_std_result_Result_2_Err(MKSTR(v89));
				branch_Result_81 = v90;
			}
			branch_Result_4 = branch_Result_81;
		} break;
		case 6LL: { // I8
			incref(MKINT(in_Int_1));
			int8_t v91 = -128;
			int8_t v92 = 127;
			int64_t v93 = (int64_t)(v91);
			INT v94 = i64_to_int(v93);
			int64_t v95 = (int64_t)(v92);
			INT v96 = i64_to_int(v95);
			incref(MKINT(in_Int_1));
			bool v97 = int_le(value_int(MKINT(v94)), in_Int_1);
			bool branch_Bool_98;
			if (value_bool(MKBOOL(v97))) {
				bool v99 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v96)));
				branch_Bool_98 = v99;
			} else {
				decref(MKINT(value_int(MKINT(v96))));
				decref(MKINT(value_int(MKINT(in_Int_1))));
				bool v100 = false;
				branch_Bool_98 = v100;
			}
			PTUP branch_Result_101;
			if (branch_Bool_98) {
				int64_t v102 = int_to_i64(in_Int_1);
				int8_t v103 = (int8_t)(v102);
				PTUP v104 = mtw_mirth_token_TokenValue_I8(v103);
				PTUP v105 = mtw_std_result_Result_2_Ok(MKTUP(v104));
				branch_Result_101 = v105;
			} else {
				STR* v106;
				STRLIT(v106, "", 0);
				STR* v107 = int_to_str(in_Int_1);
				STR* v108;
				mw_std_str_ZPlusStr_pushZ_strZBang(v107, v106, &v108);
				STR* v109;
				STRLIT(v109, " is outside of I8 range.", 24);
				STR* v110;
				mw_std_str_ZPlusStr_pushZ_strZBang(v109, v108, &v110);
				PTUP v111 = mtw_std_result_Result_2_Err(MKSTR(v110));
				branch_Result_101 = v111;
			}
			branch_Result_4 = branch_Result_101;
		} break;
		case 7LL: { // I16
			incref(MKINT(in_Int_1));
			int16_t v112 = -32768;
			int16_t v113 = 32767;
			int64_t v114 = (int64_t)(v112);
			INT v115 = i64_to_int(v114);
			int64_t v116 = (int64_t)(v113);
			INT v117 = i64_to_int(v116);
			incref(MKINT(in_Int_1));
			bool v118 = int_le(value_int(MKINT(v115)), in_Int_1);
			bool branch_Bool_119;
			if (value_bool(MKBOOL(v118))) {
				bool v120 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v117)));
				branch_Bool_119 = v120;
			} else {
				decref(MKINT(value_int(MKINT(v117))));
				decref(MKINT(value_int(MKINT(in_Int_1))));
				bool v121 = false;
				branch_Bool_119 = v121;
			}
			PTUP branch_Result_122;
			if (branch_Bool_119) {
				int64_t v123 = int_to_i64(in_Int_1);
				int16_t v124 = (int16_t)(v123);
				PTUP v125 = mtw_mirth_token_TokenValue_I16(v124);
				PTUP v126 = mtw_std_result_Result_2_Ok(MKTUP(v125));
				branch_Result_122 = v126;
			} else {
				STR* v127;
				STRLIT(v127, "", 0);
				STR* v128 = int_to_str(in_Int_1);
				STR* v129;
				mw_std_str_ZPlusStr_pushZ_strZBang(v128, v127, &v129);
				STR* v130;
				STRLIT(v130, " is outside of I16 range.", 25);
				STR* v131;
				mw_std_str_ZPlusStr_pushZ_strZBang(v130, v129, &v131);
				PTUP v132 = mtw_std_result_Result_2_Err(MKSTR(v131));
				branch_Result_122 = v132;
			}
			branch_Result_4 = branch_Result_122;
		} break;
		case 8LL: { // I32
			incref(MKINT(in_Int_1));
			int32_t v133 = INT32_MIN;
			int32_t v134 = 2147483647;
			int64_t v135 = (int64_t)(v133);
			INT v136 = i64_to_int(v135);
			int64_t v137 = (int64_t)(v134);
			INT v138 = i64_to_int(v137);
			incref(MKINT(in_Int_1));
			bool v139 = int_le(value_int(MKINT(v136)), in_Int_1);
			bool branch_Bool_140;
			if (value_bool(MKBOOL(v139))) {
				bool v141 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v138)));
				branch_Bool_140 = v141;
			} else {
				decref(MKINT(value_int(MKINT(v138))));
				decref(MKINT(value_int(MKINT(in_Int_1))));
				bool v142 = false;
				branch_Bool_140 = v142;
			}
			PTUP branch_Result_143;
			if (branch_Bool_140) {
				int64_t v144 = int_to_i64(in_Int_1);
				int32_t v145 = (int32_t)(v144);
				PTUP v146 = mtw_mirth_token_TokenValue_I32(v145);
				PTUP v147 = mtw_std_result_Result_2_Ok(MKTUP(v146));
				branch_Result_143 = v147;
			} else {
				STR* v148;
				STRLIT(v148, "", 0);
				STR* v149 = int_to_str(in_Int_1);
				STR* v150;
				mw_std_str_ZPlusStr_pushZ_strZBang(v149, v148, &v150);
				STR* v151;
				STRLIT(v151, " is outside of I32 range.", 25);
				STR* v152;
				mw_std_str_ZPlusStr_pushZ_strZBang(v151, v150, &v152);
				PTUP v153 = mtw_std_result_Result_2_Err(MKSTR(v152));
				branch_Result_143 = v153;
			}
			branch_Result_4 = branch_Result_143;
		} break;
		case 9LL: { // I64
			incref(MKINT(in_Int_1));
			int64_t v154 = INT64_MIN;
			int64_t v155 = 9223372036854775807LL;
			INT v156 = i64_to_int(v154);
			INT v157 = i64_to_int(v155);
			incref(MKINT(in_Int_1));
			bool v158 = int_le(value_int(MKINT(v156)), in_Int_1);
			bool branch_Bool_159;
			if (value_bool(MKBOOL(v158))) {
				bool v160 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v157)));
				branch_Bool_159 = v160;
			} else {
				decref(MKINT(value_int(MKINT(v157))));
				decref(MKINT(value_int(MKINT(in_Int_1))));
				bool v161 = false;
				branch_Bool_159 = v161;
			}
			PTUP branch_Result_162;
			if (branch_Bool_159) {
				int64_t v163 = int_to_i64(in_Int_1);
				PTUP v164 = mtw_mirth_token_TokenValue_I64(v163);
				PTUP v165 = mtw_std_result_Result_2_Ok(MKTUP(v164));
				branch_Result_162 = v165;
			} else {
				STR* v166;
				STRLIT(v166, "", 0);
				STR* v167 = int_to_str(in_Int_1);
				STR* v168;
				mw_std_str_ZPlusStr_pushZ_strZBang(v167, v166, &v168);
				STR* v169;
				STRLIT(v169, " is outside of I64 range.", 25);
				STR* v170;
				mw_std_str_ZPlusStr_pushZ_strZBang(v169, v168, &v170);
				PTUP v171 = mtw_std_result_Result_2_Err(MKSTR(v170));
				branch_Result_162 = v171;
			}
			branch_Result_4 = branch_Result_162;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Result_4;
}
static uint64_t mw_mirth_mirth_ZPlusMirth_runZ_lexerZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	uint64_t v8 = mw_mirth_module_Module_NewZBang(in_ZPlusMirth_1, in_Path_2, &v7);
	PTUP v9;
	STR* v10 = mw_mirth_module_Module_sourceZ_path(v7, v8, &v9);
	PTUP v11 = mw_std_prim_ZPlusWorld_readZ_pathZBang(v10);
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Module_13;
	switch (PTREXTRA(v11)) {
		case 1LL: { // Ok
			VAL v14 = mtp_std_result_Result_2_Ok(v11);
			PTUP v15;
			PTUP v16;
			mw_mirth_lexer_ZPlusLexer_StartZBang(v9, value_str(v14), v8, &v15, &v16);
			PTUP v17;
			bool v18 = mw_mirth_lexer_ZPlusLexer_doneZAsk(v16, &v17);
			bool v19 = !v18;
			PTUP r20 = v15;
			PTUP r21 = v17;
			bool v22 = v19;
			while (v22) {
				PTUP r23 = r20;
				PTUP r24 = r21;
				PTUP v25;
				PTUP v26;
				mw_mirth_lexer_ZPlusLexer_nextZBang(r23, r24, &v25, &v26);
				PTUP v27;
				bool v28 = mw_mirth_lexer_ZPlusLexer_doneZAsk(v26, &v27);
				bool v29 = !v28;
				v22 = v29;
				r21 = v27;
				r20 = v25;
			}
			PTUP v30;
			uint64_t v31 = mw_mirth_lexer_ZPlusLexer_stopZBang(r20, r21, &v30);
			branch_Module_13 = v31;
			branch_ZPlusMirth_12 = v30;
		} break;
		case 0LL: { // Err
			VAL v32 = mtp_std_result_Result_2_Err(v11);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(VTUP(v32), v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return branch_Module_13;
}
static uint64_t mw_mirth_macro_Macro_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_macro_Macro_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_macro_Macro_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_macro_Macro_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Name_3, INT in_Int_4, PTUP in_MacroAction_5, PTUP *out_ZPlusMirth_6) {
	PTUP v8;
	uint64_t v9 = mw_mirth_macro_Macro_AllocZBang(in_ZPlusMirth_1, &v8);
	void* v10 = field_mut(&mfld_mirth_macro_Macro_headZAsk, v9);
	mut_set(MKTUP(in_Maybe_2), v10);
	void* v11 = field_mut(&mfld_mirth_macro_Macro_name, v9);
	mut_set(MKU64(in_Name_3), v11);
	void* v12 = field_mut(&mfld_mirth_macro_Macro_arity, v9);
	mut_set(MKINT(in_Int_4), v12);
	void* v13 = field_mut(&mfld_mirth_macro_Macro_action, v9);
	mut_set(MKTUP(in_MacroAction_5), v13);
	*out_ZPlusMirth_6 = v8;
	return v9;
}
static PTUP mw_mirth_macro_Macro_headZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_headZAsk, in_Macro_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static uint64_t mw_mirth_macro_Macro_name (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_name, in_Macro_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_macro_Macro_arity (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_arity, in_Macro_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static PTUP mw_mirth_macro_Macro_action (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_action, in_Macro_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static PTUP mw_mirth_macro_Macro_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_ZTildeqname, in_Macro_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_macro_Macro_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Macro_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_ZTildeqname, in_Macro_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_macro_Macro_Prim (PTUP in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, PTUP in_MacroAction_4, PTUP *out_ZPlusMirth_5) {
	PTUP v7;
	uint64_t v8 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, in_Str_2, &v7);
	PTUP v9 = PTRMK(0LL /* None */,0,0);
	PTUP v10;
	uint64_t v11 = mw_mirth_macro_Macro_MakeZBang(v7, v9, v8, in_Int_3, in_MacroAction_4, &v10);
	PTUP v12;
	uint64_t v13 = mw_mirth_macro_Macro_name(v10, v11, &v12);
	PTUP v14;
	STR* v15 = mw_mirth_name_Name_ZToStr(v12, v13, &v14);
	PTUP v16;
	INT v17 = mw_mirth_macro_Macro_arity(v14, v11, &v16);
	PTUP v18;
	PTUP v19 = mw_mirth_name_QName_Prim(v16, v15, v17, &v18);
	PTUP v20 = mtw_mirth_mirth_PropLabel_MacroQName(v11);
	PTUP v21;
	PTUP v22 = mw_mirth_mirth_PropLabel_prop(v18, MKTUP(v19), v20, &v21);
	void* v23 = field_mut(&mfld_mirth_macro_Macro_ZTildeqname, v11);
	mut_set(MKTUP(v22), v23);
	*out_ZPlusMirth_5 = v21;
	return v11;
}
static PTUP mw_mirth_macro_MacroAction_declZAsk (PTUP in_MacroAction_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_MacroAction_1)) {
		case 0LL: { // Decl
			VAL v4 = mtp_mirth_macro_MacroAction_Decl(in_MacroAction_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_MacroAction_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_macro_MacroAction_arrowZAsk (PTUP in_MacroAction_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_MacroAction_1)) {
		case 1LL: { // Arrow
			VAL v4 = mtp_mirth_macro_MacroAction_Arrow(in_MacroAction_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_MacroAction_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static bool mw_mirth_macro_MacroAction_callableZAsk (PTUP in_MacroAction_1) {
	PTUP v3 = mw_mirth_macro_MacroAction_arrowZAsk(in_MacroAction_1);
	int64_t v4 = PTREXTRA(v3);
	decref(MKTUP(v3));
	INT v5 = WRAP_I63(0LL);
	INT v6 = v5;
	INT v7 = i64_to_int(v4);
	bool v8 = int_eq(v7, v6);
	bool v9 = !v8;
	return v9;
}
static uint64_t mw_mirth_mirth_ZPlusMirth_moduleZ_statementZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	STR* v5;
	STRLIT(v5, "'module' statement outside of module header.", 44);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v5);
	return 0; /* unreachable */
}
static uint64_t mw_mirth_mirth_ZPlusMirth_importZ_statementZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	STR* v5;
	STRLIT(v5, "'import' statement outside of module header.", 44);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v5);
	return 0; /* unreachable */
}
static void mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang (STR* in_Str_1, INT in_Int_2, VAL in__3, PTUP in_ZPlusMirth_4, PTUP *out_ZPlusMirth_5) {
	PTUP v6 = mtw_mirth_macro_MacroAction_Decl(in__3);
	PTUP v7;
	uint64_t v8 = mw_mirth_macro_Macro_Prim(in_ZPlusMirth_4, in_Str_1, in_Int_2, v6, &v7);
	PTUP v9 = mtw_mirth_def_Def_Macro(v8);
	PTUP v10;
	mw_mirth_def_Def_register(v7, v9, &v10);
	*out_ZPlusMirth_5 = v10;
}
static void mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang (STR* in_Str_1, INT in_Int_2, VAL in__3, PTUP in_ZPlusMirth_4, PTUP *out_ZPlusMirth_5) {
	PTUP v6 = mtw_mirth_macro_MacroAction_Arrow(in__3);
	PTUP v7;
	uint64_t v8 = mw_mirth_macro_Macro_Prim(in_ZPlusMirth_4, in_Str_1, in_Int_2, v6, &v7);
	PTUP v9 = mtw_mirth_def_Def_Macro(v8);
	PTUP v10;
	mw_mirth_def_Def_register(v7, v9, &v10);
	*out_ZPlusMirth_5 = v10;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_macrosZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	STR* v3;
	STRLIT(v3, "module", 6);
	INT v4 = WRAP_I63(-1LL);
	FNPTR v5 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_0;
	PTUP v6;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v3, v4, MKFNPTR(v5), in_ZPlusMirth_1, &v6);
	STR* v7;
	STRLIT(v7, "import", 6);
	INT v8 = WRAP_I63(-1LL);
	FNPTR v9 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_1;
	PTUP v10;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v7, v8, MKFNPTR(v9), v6, &v10);
	STR* v11;
	STRLIT(v11, "patch", 5);
	INT v12 = WRAP_I63(-1LL);
	FNPTR v13 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_2;
	PTUP v14;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v11, v12, MKFNPTR(v13), v10, &v14);
	STR* v15;
	STRLIT(v15, "alias", 5);
	INT v16 = WRAP_I63(-1LL);
	FNPTR v17 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_3;
	PTUP v18;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v15, v16, MKFNPTR(v17), v14, &v18);
	STR* v19;
	STRLIT(v19, "inline", 6);
	INT v20 = WRAP_I63(-1LL);
	FNPTR v21 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_4;
	PTUP v22;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v19, v20, MKFNPTR(v21), v18, &v22);
	STR* v23;
	STRLIT(v23, "def", 3);
	INT v24 = WRAP_I63(-1LL);
	FNPTR v25 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_5;
	PTUP v26;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v23, v24, MKFNPTR(v25), v22, &v26);
	STR* v27;
	STRLIT(v27, "def-missing", 11);
	INT v28 = WRAP_I63(-1LL);
	FNPTR v29 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_6;
	PTUP v30;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v27, v28, MKFNPTR(v29), v26, &v30);
	STR* v31;
	STRLIT(v31, "def-type", 8);
	INT v32 = WRAP_I63(-1LL);
	FNPTR v33 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_7;
	PTUP v34;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v31, v32, MKFNPTR(v33), v30, &v34);
	STR* v35;
	STRLIT(v35, "external", 8);
	INT v36 = WRAP_I63(-1LL);
	FNPTR v37 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_8;
	PTUP v38;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v35, v36, MKFNPTR(v37), v34, &v38);
	STR* v39;
	STRLIT(v39, "buffer", 6);
	INT v40 = WRAP_I63(-1LL);
	FNPTR v41 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_9;
	PTUP v42;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v39, v40, MKFNPTR(v41), v38, &v42);
	STR* v43;
	STRLIT(v43, "table", 5);
	INT v44 = WRAP_I63(-1LL);
	FNPTR v45 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_10;
	PTUP v46;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v43, v44, MKFNPTR(v45), v42, &v46);
	STR* v47;
	STRLIT(v47, "field", 5);
	INT v48 = WRAP_I63(-1LL);
	FNPTR v49 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_11;
	PTUP v50;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v47, v48, MKFNPTR(v49), v46, &v50);
	STR* v51;
	STRLIT(v51, "data", 4);
	INT v52 = WRAP_I63(-1LL);
	FNPTR v53 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_12;
	PTUP v54;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v51, v52, MKFNPTR(v53), v50, &v54);
	STR* v55;
	STRLIT(v55, "struct", 6);
	INT v56 = WRAP_I63(-1LL);
	FNPTR v57 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_13;
	PTUP v58;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v55, v56, MKFNPTR(v57), v54, &v58);
	STR* v59;
	STRLIT(v59, "embed-str", 9);
	INT v60 = WRAP_I63(-1LL);
	FNPTR v61 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_14;
	PTUP v62;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v59, v60, MKFNPTR(v61), v58, &v62);
	STR* v63;
	STRLIT(v63, "max-mirth-revision", 18);
	INT v64 = WRAP_I63(-1LL);
	FNPTR v65 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_15;
	PTUP v66;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v63, v64, MKFNPTR(v65), v62, &v66);
	STR* v67;
	STRLIT(v67, "min-mirth-revision", 18);
	INT v68 = WRAP_I63(-1LL);
	FNPTR v69 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_16;
	PTUP v70;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v67, v68, MKFNPTR(v69), v66, &v70);
	STR* v71;
	STRLIT(v71, "match", 5);
	INT v72 = WRAP_I63(-1LL);
	FNPTR v73 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_17;
	PTUP v74;
	mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang(v71, v72, MKFNPTR(v73), v70, &v74);
	STR* v75;
	STRLIT(v75, "\\", 1);
	INT v76 = WRAP_I63(-1LL);
	FNPTR v77 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_18;
	PTUP v78;
	mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang(v75, v76, MKFNPTR(v77), v74, &v78);
	STR* v79;
	STRLIT(v79, "ldip", 4);
	INT v80 = WRAP_I63(-1LL);
	FNPTR v81 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_19;
	PTUP v82;
	mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang(v79, v80, MKFNPTR(v81), v78, &v82);
	STR* v83;
	STRLIT(v83, "ldrop", 5);
	INT v84 = WRAP_I63(-1LL);
	FNPTR v85 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_20;
	PTUP v86;
	mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang(v83, v84, MKFNPTR(v85), v82, &v86);
	*out_ZPlusMirth_2 = v86;
}
static VAL mw_mirth_version_mirthZ_revision (void) {
	INT v2 = WRAP_I63(20250413001LL);
	return MKINT(v2);
}
static void mw_mirth_elab_ZPlusTypeElab_rdrop (PTUP in_ZPlusTypeElab_1) {
	PTUP v2;
	uint64_t v3;
	bool v4;
	bool v5;
	mtp_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(in_ZPlusTypeElab_1, &v2, &v3, &v4, &v5);
	decref(MKU64(v3));
	decref(MKTUP(v2));
}
static void mw_mirth_elab_ZPlusTypeElab_StartZBang (uint64_t in_Token_1, PTUP *out_ZPlusTypeElab_2) {
	PTUP v3 = mw_mirth_var_Ctx_L0();
	bool v4 = false;
	bool v5 = true;
	PTUP v6;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v3, in_Token_1, v4, v5, &v6);
	*out_ZPlusTypeElab_2 = v6;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v8;
	bool v9 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, v7, &v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusTypeElab_11;
	if (v9) {
		uint64_t v12 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		STR* v13;
		STRLIT(v13, "expected type signature", 23);
		PTUP v14;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v8, v12, v13, &v14);
		branch_ZPlusTypeElab_11 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_10 = v14;
	} else {
		branch_ZPlusTypeElab_11 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_10 = v8;
	}
	incref(MKTUP(in_StackType_3));
	PTUP v15;
	PTUP v16;
	PTUP v17 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang(branch_ZPlusMirth_10, branch_ZPlusTypeElab_11, in_StackType_3, &v15, &v16);
	incref(MKTUP(in_StackType_3));
	PTUP v18;
	PTUP v19;
	PTUP v20 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v15, v16, in_StackType_3, &v18, &v19);
	uint64_t v21 = value_u64(((TUP*)PTRPTR(v19))->cells[1]);
	PTUP v22;
	bool v23 = mw_mirth_token_Token_vdashZAsk(v18, v21, &v22);
	PTUP branch_List_24;
	PTUP branch_StackType_25;
	PTUP branch_ZPlusMirth_26;
	PTUP branch_ZPlusTypeElab_27;
	PTUP branch_StackType_28;
	if (v23) {
		decref(MKTUP(in_StackType_3));
		uint64_t v29 = value_u64(((TUP*)PTRPTR(v19))->cells[1]);
		PTUP v30;
		uint64_t v31 = mw_mirth_token_Token_succ(v22, v29, &v30);
		((TUP*)PTRPTR(v19))->cells[1] = MKU64(v31);
		incref(MKTUP(v20));
		PTUP v32;
		PTUP v33;
		PTUP v34 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang(v30, v19, v20, &v32, &v33);
		PTUP v35 = mw_std_list_List_1_cat(v17, v34);
		incref(MKTUP(v20));
		PTUP v36;
		PTUP v37;
		PTUP v38 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v32, v33, v20, &v36, &v37);
		branch_StackType_28 = v38;
		branch_ZPlusTypeElab_27 = v37;
		branch_ZPlusMirth_26 = v36;
		branch_StackType_25 = v20;
		branch_List_24 = v35;
	} else {
		branch_StackType_28 = v20;
		branch_ZPlusTypeElab_27 = v19;
		branch_ZPlusMirth_26 = v22;
		branch_StackType_25 = in_StackType_3;
		branch_List_24 = v17;
	}
	uint64_t v39 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_27))->cells[1]);
	PTUP v40;
	bool v41 = mw_mirth_token_Token_sigZ_dashesZAsk(branch_ZPlusMirth_26, v39, &v40);
	PTUP branch_List_42;
	PTUP branch_StackType_43;
	PTUP branch_StackType_44;
	PTUP branch_ZPlusMirth_45;
	PTUP branch_ZPlusTypeElab_46;
	PTUP branch_StackType_47;
	if (v41) {
		uint64_t v48 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_27))->cells[1]);
		PTUP v49;
		uint64_t v50 = mw_mirth_token_Token_succ(v40, v48, &v49);
		((TUP*)PTRPTR(branch_ZPlusTypeElab_27))->cells[1] = MKU64(v50);
		incref(MKTUP(branch_StackType_25));
		PTUP v51;
		PTUP v52;
		PTUP v53 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v49, branch_ZPlusTypeElab_27, branch_StackType_25, &v51, &v52);
		branch_StackType_47 = v53;
		branch_ZPlusTypeElab_46 = v52;
		branch_ZPlusMirth_45 = v51;
		branch_StackType_44 = branch_StackType_25;
		branch_StackType_43 = branch_StackType_28;
		branch_List_42 = branch_List_24;
	} else {
		incref(MKTUP(branch_StackType_25));
		branch_StackType_47 = branch_StackType_28;
		branch_ZPlusTypeElab_46 = branch_ZPlusTypeElab_27;
		branch_ZPlusMirth_45 = v40;
		branch_StackType_44 = branch_StackType_25;
		branch_StackType_43 = branch_StackType_25;
		branch_List_42 = branch_List_24;
	}
	uint64_t v54 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_46))->cells[1]);
	PTUP v55;
	bool v56 = mw_mirth_token_Token_runZ_endZAsk(branch_ZPlusMirth_45, v54, &v55);
	PTUP branch_ZPlusMirth_57;
	PTUP branch_ZPlusTypeElab_58;
	if (v56) {
		branch_ZPlusTypeElab_58 = branch_ZPlusTypeElab_46;
		branch_ZPlusMirth_57 = v55;
	} else {
		uint64_t v59 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_46))->cells[1]);
		STR* v60;
		STRLIT(v60, "expected right paren or comma", 29);
		PTUP v61;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v55, v59, v60, &v61);
		branch_ZPlusTypeElab_58 = branch_ZPlusTypeElab_46;
		branch_ZPlusMirth_57 = v61;
	}
	PTUP v62 = mw_std_list_List_1_for_1_sp84(branch_StackType_43, branch_List_42);
	PTUP v63 = mw_mirth_type_TZ_ZTo(v62, branch_StackType_47);
	decref(MKTUP(branch_StackType_44));
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_58;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_57;
	return v63;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_lparenZAsk(in_ZPlusMirth_1, v7, &v8);
	int64_t v10 = PTREXTRA(v9);
	decref(MKTUP(v9));
	INT v11 = WRAP_I63(0LL);
	INT v12 = v11;
	INT v13 = i64_to_int(v10);
	bool v14 = int_eq(v13, v12);
	bool v15 = !v14;
	PTUP branch_StackType_16;
	PTUP branch_ZPlusMirth_17;
	PTUP branch_ZPlusTypeElab_18;
	PTUP branch_List_19;
	if (v15) {
		uint64_t v20 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		PTUP v21;
		uint64_t v22 = mw_mirth_token_Token_next(v8, v20, &v21);
		uint64_t v23 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		PTUP v24;
		PTUP v25 = mw_mirth_token_Token_args(v21, v23, &v24);
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		PTUP v27;
		mw_std_list_List_1_buildZBang(v26, &v27);
		bool v28 = true;
		PTUP r29 = v24;
		PTUP v30 = in_StackType_3;
		PTUP r31 = in_ZPlusTypeElab_2;
		PTUP r32 = v27;
		PTUP v33 = v25;
		bool v34 = v28;
		bool v35 = v28;
		while (v35) {
			PTUP r36 = r29;
			PTUP v37 = v30;
			PTUP r38 = r31;
			PTUP r39 = r32;
			PTUP v40 = v33;
			bool v41 = v34;
			PTUP branch_StackType_42;
			PTUP branch_ZPlusMirth_43;
			PTUP branch_ZPlusTypeElab_44;
			PTUP branch_ZPlusLister_45;
			PTUP branch_List_46;
			bool branch_Bool_47;
			switch (PTREXTRA(v40)) {
				case 1LL: { // Cons
					PTUP v48;
					VAL v49 = mtp_std_list_List_1_Cons(v40, &v48);
					((TUP*)PTRPTR(r38))->cells[1] = MKU64(value_u64(v49));
					incref(MKTUP(v37));
					PTUP v50;
					PTUP v51;
					PTUP v52 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(r36, r38, v37, &v50, &v51);
					PTUP v53 = mtw_mirth_type_Type_Arrow(v52);
					PTUP v54;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v53), r39, &v54);
					bool v55 = true;
					branch_Bool_47 = v55;
					branch_List_46 = v48;
					branch_ZPlusLister_45 = v54;
					branch_ZPlusTypeElab_44 = v51;
					branch_ZPlusMirth_43 = v50;
					branch_StackType_42 = v37;
				} break;
				case 0LL: { // Nil
					PTUP v56 = PTRMK(0LL /* Nil */,0,0);
					bool v57 = false;
					branch_Bool_47 = v57;
					branch_List_46 = v56;
					branch_ZPlusLister_45 = r39;
					branch_ZPlusTypeElab_44 = r38;
					branch_ZPlusMirth_43 = r36;
					branch_StackType_42 = v37;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v35 = branch_Bool_47;
			v34 = branch_Bool_47;
			v33 = branch_List_46;
			r32 = branch_ZPlusLister_45;
			r31 = branch_ZPlusTypeElab_44;
			v30 = branch_StackType_42;
			r29 = branch_ZPlusMirth_43;
		}
		decref(MKTUP(v33));
		PTUP v58 = mw_std_list_ZPlusLister_1_doneZBang(r32);
		((TUP*)PTRPTR(r31))->cells[1] = MKU64(v22);
		branch_List_19 = v58;
		branch_ZPlusTypeElab_18 = r31;
		branch_ZPlusMirth_17 = r29;
		branch_StackType_16 = v30;
	} else {
		PTUP v59 = PTRMK(0LL /* Nil */,0,0);
		branch_List_19 = v59;
		branch_ZPlusTypeElab_18 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_17 = v8;
		branch_StackType_16 = in_StackType_3;
	}
	decref(MKTUP(branch_StackType_16));
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_18;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_17;
	return branch_List_19;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	PTUP v7;
	PTUP v8;
	PTUP v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_baseZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_StackType_3, &v7, &v8);
	PTUP v10;
	PTUP v11;
	PTUP v12 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang(v7, v8, v9, &v10, &v11);
	*out_ZPlusTypeElab_5 = v11;
	*out_ZPlusMirth_4 = v10;
	return v12;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_baseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_sigZ_stackZ_varZAsk(in_ZPlusMirth_1, v7, &v8);
	PTUP branch_StackType_10;
	PTUP branch_ZPlusMirth_11;
	PTUP branch_ZPlusTypeElab_12;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			PTUP v14;
			PTUP v15;
			PTUP v16 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang(v8, in_ZPlusTypeElab_2, value_u64(v13), &v14, &v15);
			PTUP v17;
			PTUP v18;
			PTUP v19 = mw_mirth_type_StackType_splitZ_parts(v14, in_StackType_3, &v17, &v18);
			PTUP v20;
			bool v21 = mw_mirth_type_StackTypeBase_unitZAsk(v17, v19, &v20);
			PTUP branch_ZPlusMirth_22;
			PTUP branch_ZPlusTypeElab_23;
			if (v21) {
				branch_ZPlusTypeElab_23 = v15;
				branch_ZPlusMirth_22 = v20;
			} else {
				uint64_t v24 = value_u64(((TUP*)PTRPTR(v15))->cells[1]);
				STR* v25;
				STRLIT(v25, "Duplicate stack base, context already provided a stack base.", 60);
				PTUP v26;
				mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v20, v24, v25, &v26);
				branch_ZPlusTypeElab_23 = v15;
				branch_ZPlusMirth_22 = v26;
			}
			bool v27 = true;
			PTUP v28 = v16;
			PTUP v29 = v18;
			bool v30 = v27;
			bool v31 = v27;
			while (v31) {
				PTUP v32 = v28;
				PTUP v33 = v29;
				bool v34 = v30;
				PTUP branch_StackType_35;
				PTUP branch_List_36;
				bool branch_Bool_37;
				switch (PTREXTRA(v33)) {
					case 1LL: { // Cons
						PTUP v38;
						VAL v39 = mtp_std_list_List_1_Cons(v33, &v38);
						PTUP v40 = mw_mirth_type_StackTypePart_cons(v32, VTUP(v39));
						bool v41 = true;
						branch_Bool_37 = v41;
						branch_List_36 = v38;
						branch_StackType_35 = v40;
					} break;
					case 0LL: { // Nil
						PTUP v42 = PTRMK(0LL /* Nil */,0,0);
						bool v43 = false;
						branch_Bool_37 = v43;
						branch_List_36 = v42;
						branch_StackType_35 = v32;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v31 = branch_Bool_37;
				v30 = branch_Bool_37;
				v29 = branch_List_36;
				v28 = branch_StackType_35;
			}
			decref(MKTUP(v29));
			branch_ZPlusTypeElab_12 = branch_ZPlusTypeElab_23;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_22;
			branch_StackType_10 = v28;
		} break;
		case 0LL: { // None
			branch_ZPlusTypeElab_12 = in_ZPlusTypeElab_2;
			branch_ZPlusMirth_11 = v8;
			branch_StackType_10 = in_StackType_3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_StackType_10;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v8;
	bool v9 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(in_ZPlusMirth_1, v7, &v8);
	bool v10 = !v9;
	PTUP v11 = in_StackType_3;
	PTUP r12 = v8;
	PTUP r13 = in_ZPlusTypeElab_2;
	bool v14 = v10;
	while (v14) {
		PTUP v15 = v11;
		PTUP r16 = r12;
		PTUP r17 = r13;
		PTUP v18;
		PTUP v19;
		PTUP v20 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(r16, r17, &v18, &v19);
		PTUP v21 = mw_mirth_type_StackTypePart_cons(v15, v20);
		uint64_t v22 = value_u64(((TUP*)PTRPTR(v19))->cells[1]);
		PTUP v23;
		bool v24 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v18, v22, &v23);
		bool v25 = !v24;
		v14 = v25;
		r13 = v19;
		r12 = v23;
		v11 = v21;
	}
	*out_ZPlusTypeElab_5 = r13;
	*out_ZPlusMirth_4 = r12;
	return v11;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v7;
	PTUP v8;
	PTUP v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v7, &v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusTypeElab_11;
	PTUP branch_Type_12;
	switch (PTREXTRA(v9)) {
		case 0LL: { // Cons
			PTUP v13 = mtp_mirth_type_StackTypePart_Cons(v9);
			decref(MKU64(v6));
			branch_Type_12 = VTUP(MKTUP(v13));
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v7;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v14;
			PTUP v15 = mtp_mirth_type_StackTypePart_ConsLabel(v9, &v14);
			decref(MKU64(v14));
			decref(MKTUP(v15));
			STR* v16;
			STRLIT(v16, "Expected type, not label.", 25);
			PTUP v17;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v16, &v17);
			PTUP v18 = PTRMK(0LL /* Error */,0,0);
			branch_Type_12 = v18;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v17;
		} break;
		case 2LL: { // With
			PTUP v19 = mtp_mirth_type_StackTypePart_With(v9);
			decref(MKTUP(v19));
			STR* v20;
			STRLIT(v20, "Expected type, not resource.", 28);
			PTUP v21;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v20, &v21);
			PTUP v22 = PTRMK(0LL /* Error */,0,0);
			branch_Type_12 = v22;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v21;
		} break;
		case 3LL: { // WithLabel
			uint64_t v23;
			PTUP v24 = mtp_mirth_type_StackTypePart_WithLabel(v9, &v23);
			decref(MKU64(v23));
			decref(MKTUP(v24));
			STR* v25;
			STRLIT(v25, "Expected type, not labelled resource.", 37);
			PTUP v26;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v25, &v26);
			PTUP v27 = PTRMK(0LL /* Error */,0,0);
			branch_Type_12 = v27;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_11;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_Type_12;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4) {
	PTUP v6;
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_atomZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v6, &v7);
	uint64_t v9 = value_u64(((TUP*)PTRPTR(v7))->cells[1]);
	PTUP v10;
	bool v11 = mw_mirth_token_Token_argZ_endZAsk(v6, v9, &v10);
	PTUP branch_ZPlusMirth_12;
	PTUP branch_ZPlusTypeElab_13;
	if (v11) {
		branch_ZPlusTypeElab_13 = v7;
		branch_ZPlusMirth_12 = v10;
	} else {
		uint64_t v14 = value_u64(((TUP*)PTRPTR(v7))->cells[1]);
		STR* v15;
		STRLIT(v15, "Unexpected token after type.", 28);
		PTUP v16;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v10, v14, v15, &v16);
		branch_ZPlusTypeElab_13 = v7;
		branch_ZPlusMirth_12 = v16;
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_13;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return v8;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v7;
	PTUP v8;
	PTUP v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v7, &v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusTypeElab_11;
	PTUP branch_Resource_12;
	switch (PTREXTRA(v9)) {
		case 0LL: { // Cons
			PTUP v13 = mtp_mirth_type_StackTypePart_Cons(v9);
			decref(MKTUP(v13));
			STR* v14;
			STRLIT(v14, "Expected resource, not type.", 28);
			PTUP v15;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v14, &v15);
			PTUP v16 = PTRMK(0LL /* Error */,0,0);
			branch_Resource_12 = v16;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v15;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v17;
			PTUP v18 = mtp_mirth_type_StackTypePart_ConsLabel(v9, &v17);
			decref(MKU64(v17));
			decref(MKTUP(v18));
			STR* v19;
			STRLIT(v19, "Expected resource, not label.", 29);
			PTUP v20;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v19, &v20);
			PTUP v21 = PTRMK(0LL /* Error */,0,0);
			branch_Resource_12 = v21;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v20;
		} break;
		case 2LL: { // With
			PTUP v22 = mtp_mirth_type_StackTypePart_With(v9);
			decref(MKU64(v6));
			branch_Resource_12 = VTUP(MKTUP(v22));
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v7;
		} break;
		case 3LL: { // WithLabel
			uint64_t v23;
			PTUP v24 = mtp_mirth_type_StackTypePart_WithLabel(v9, &v23);
			decref(MKU64(v23));
			decref(MKTUP(v24));
			STR* v25;
			STRLIT(v25, "Expected resource, not label.", 29);
			PTUP v26;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v25, &v26);
			PTUP v27 = PTRMK(0LL /* Error */,0,0);
			branch_Resource_12 = v27;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v28 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_11))->cells[1]);
	PTUP v29;
	bool v30 = mw_mirth_token_Token_argZ_endZAsk(branch_ZPlusMirth_10, v28, &v29);
	PTUP branch_ZPlusMirth_31;
	PTUP branch_ZPlusTypeElab_32;
	if (v30) {
		branch_ZPlusTypeElab_32 = branch_ZPlusTypeElab_11;
		branch_ZPlusMirth_31 = v29;
	} else {
		uint64_t v33 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_11))->cells[1]);
		STR* v34;
		STRLIT(v34, "Unexpected token after resource.", 32);
		PTUP v35;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v29, v33, v34, &v35);
		branch_ZPlusTypeElab_32 = branch_ZPlusTypeElab_11;
		branch_ZPlusMirth_31 = v35;
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_32;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_31;
	return branch_Resource_12;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_sigZ_labelZAsk(in_ZPlusMirth_1, v6, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusTypeElab_10;
	PTUP branch_StackTypePart_11;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v8);
			PTUP v13;
			PTUP v14;
			PTUP v15 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang(v7, in_ZPlusTypeElab_2, value_u64(v12), &v13, &v14);
			branch_StackTypePart_11 = v15;
			branch_ZPlusTypeElab_10 = v14;
			branch_ZPlusMirth_9 = v13;
		} break;
		case 0LL: { // None
			uint64_t v16 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
			PTUP v17;
			PTUP v18 = mw_mirth_token_Token_sigZ_typeZ_varZAsk(v7, v16, &v17);
			PTUP branch_ZPlusMirth_19;
			PTUP branch_ZPlusTypeElab_20;
			PTUP branch_StackTypePart_21;
			switch (PTREXTRA(v18)) {
				case 1LL: { // Some
					VAL v22 = mtp_std_maybe_Maybe_1_Some(v18);
					PTUP v23;
					PTUP v24;
					PTUP v25 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang(v17, in_ZPlusTypeElab_2, value_u64(v22), &v23, &v24);
					PTUP v26 = mtw_mirth_type_StackTypePart_Cons(v25);
					branch_StackTypePart_21 = v26;
					branch_ZPlusTypeElab_20 = v24;
					branch_ZPlusMirth_19 = v23;
				} break;
				case 0LL: { // None
					uint64_t v27 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
					PTUP v28;
					PTUP v29 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v17, v27, &v28);
					PTUP branch_ZPlusMirth_30;
					PTUP branch_ZPlusTypeElab_31;
					PTUP branch_StackTypePart_32;
					switch (PTREXTRA(v29)) {
						case 1LL: { // Some
							VAL v33 = mtp_std_maybe_Maybe_1_Some(v29);
							PTUP v34;
							PTUP v35;
							PTUP v36 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang(v28, in_ZPlusTypeElab_2, VTUP(v33), &v34, &v35);
							PTUP v37 = mtw_mirth_type_StackTypePart_Cons(v36);
							branch_StackTypePart_32 = v37;
							branch_ZPlusTypeElab_31 = v35;
							branch_ZPlusMirth_30 = v34;
						} break;
						case 0LL: { // None
							uint64_t v38 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
							PTUP v39;
							PTUP v40 = mw_mirth_token_Token_sigZ_resourceZ_varZAsk(v28, v38, &v39);
							PTUP branch_ZPlusMirth_41;
							PTUP branch_ZPlusTypeElab_42;
							PTUP branch_StackTypePart_43;
							switch (PTREXTRA(v40)) {
								case 1LL: { // Some
									VAL v44 = mtp_std_maybe_Maybe_1_Some(v40);
									PTUP v45;
									PTUP v46;
									PTUP v47 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang(v39, in_ZPlusTypeElab_2, value_u64(v44), &v45, &v46);
									PTUP v48 = mtw_mirth_type_StackTypePart_With(v47);
									branch_StackTypePart_43 = v48;
									branch_ZPlusTypeElab_42 = v46;
									branch_ZPlusMirth_41 = v45;
								} break;
								case 0LL: { // None
									uint64_t v49 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
									PTUP v50;
									PTUP v51 = mw_mirth_token_Token_sigZ_resourceZ_conZAsk(v39, v49, &v50);
									PTUP branch_ZPlusMirth_52;
									PTUP branch_ZPlusTypeElab_53;
									PTUP branch_StackTypePart_54;
									switch (PTREXTRA(v51)) {
										case 1LL: { // Some
											VAL v55 = mtp_std_maybe_Maybe_1_Some(v51);
											PTUP v56;
											PTUP v57;
											PTUP v58 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang(v50, in_ZPlusTypeElab_2, VTUP(v55), &v56, &v57);
											PTUP v59 = mtw_mirth_type_StackTypePart_With(v58);
											branch_StackTypePart_54 = v59;
											branch_ZPlusTypeElab_53 = v57;
											branch_ZPlusMirth_52 = v56;
										} break;
										case 0LL: { // None
											uint64_t v60 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
											PTUP v61;
											bool v62 = mw_mirth_token_Token_patZ_underscoreZAsk(v50, v60, &v61);
											PTUP branch_ZPlusMirth_63;
											PTUP branch_ZPlusTypeElab_64;
											PTUP branch_StackTypePart_65;
											if (v62) {
												PTUP v66;
												PTUP v67;
												PTUP v68 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang(v61, in_ZPlusTypeElab_2, &v66, &v67);
												PTUP v69 = mtw_mirth_type_StackTypePart_Cons(v68);
												branch_StackTypePart_65 = v69;
												branch_ZPlusTypeElab_64 = v67;
												branch_ZPlusMirth_63 = v66;
											} else {
												uint64_t v70 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
												PTUP v71;
												PTUP v72 = mw_mirth_token_Token_sigZ_typeZ_holeZAsk(v61, v70, &v71);
												PTUP branch_ZPlusMirth_73;
												PTUP branch_ZPlusTypeElab_74;
												PTUP branch_StackTypePart_75;
												switch (PTREXTRA(v72)) {
													case 1LL: { // Some
														VAL v76 = mtp_std_maybe_Maybe_1_Some(v72);
														PTUP v77;
														PTUP v78;
														PTUP v79 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang(v71, in_ZPlusTypeElab_2, value_u64(v76), &v77, &v78);
														PTUP v80 = mtw_mirth_type_StackTypePart_Cons(v79);
														branch_StackTypePart_75 = v80;
														branch_ZPlusTypeElab_74 = v78;
														branch_ZPlusMirth_73 = v77;
													} break;
													case 0LL: { // None
														uint64_t v81 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
														PTUP v82;
														PTUP v83 = mw_mirth_token_Token_lsquareZAsk(v71, v81, &v82);
														int64_t v84 = PTREXTRA(v83);
														decref(MKTUP(v83));
														INT v85 = WRAP_I63(0LL);
														INT v86 = v85;
														INT v87 = i64_to_int(v84);
														bool v88 = int_eq(v87, v86);
														bool v89 = !v88;
														PTUP branch_ZPlusMirth_90;
														PTUP branch_ZPlusTypeElab_91;
														PTUP branch_StackTypePart_92;
														if (v89) {
															PTUP v93;
															PTUP v94;
															PTUP v95 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang(v82, in_ZPlusTypeElab_2, &v93, &v94);
															PTUP v96 = mtw_mirth_type_StackTypePart_Cons(v95);
															branch_StackTypePart_92 = v96;
															branch_ZPlusTypeElab_91 = v94;
															branch_ZPlusMirth_90 = v93;
														} else {
															uint64_t v97 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
															STR* v98;
															STRLIT(v98, "Expected type, got unknown token.", 33);
															PTUP v99;
															mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v82, v97, v98, &v99);
															uint64_t v100 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
															PTUP v101;
															uint64_t v102 = mw_mirth_token_Token_next(v99, v100, &v101);
															((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1] = MKU64(v102);
															PTUP v103 = PTRMK(0LL /* Error */,0,0);
															PTUP v104 = mtw_mirth_type_StackTypePart_Cons(v103);
															branch_StackTypePart_92 = v104;
															branch_ZPlusTypeElab_91 = in_ZPlusTypeElab_2;
															branch_ZPlusMirth_90 = v101;
														}
														branch_StackTypePart_75 = branch_StackTypePart_92;
														branch_ZPlusTypeElab_74 = branch_ZPlusTypeElab_91;
														branch_ZPlusMirth_73 = branch_ZPlusMirth_90;
													} break;
													default: {
														do_panic(str_make("unexpected fallthrough in match\n", 32));
													}
												}
												branch_StackTypePart_65 = branch_StackTypePart_75;
												branch_ZPlusTypeElab_64 = branch_ZPlusTypeElab_74;
												branch_ZPlusMirth_63 = branch_ZPlusMirth_73;
											}
											branch_StackTypePart_54 = branch_StackTypePart_65;
											branch_ZPlusTypeElab_53 = branch_ZPlusTypeElab_64;
											branch_ZPlusMirth_52 = branch_ZPlusMirth_63;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_StackTypePart_43 = branch_StackTypePart_54;
									branch_ZPlusTypeElab_42 = branch_ZPlusTypeElab_53;
									branch_ZPlusMirth_41 = branch_ZPlusMirth_52;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							branch_StackTypePart_32 = branch_StackTypePart_43;
							branch_ZPlusTypeElab_31 = branch_ZPlusTypeElab_42;
							branch_ZPlusMirth_30 = branch_ZPlusMirth_41;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackTypePart_21 = branch_StackTypePart_32;
					branch_ZPlusTypeElab_20 = branch_ZPlusTypeElab_31;
					branch_ZPlusMirth_19 = branch_ZPlusMirth_30;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_StackTypePart_11 = branch_StackTypePart_21;
			branch_ZPlusTypeElab_10 = branch_ZPlusTypeElab_20;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_StackTypePart_11;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v8;
	uint64_t v9 = mw_mirth_token_Token_next(in_ZPlusMirth_1, v7, &v8);
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v11;
	uint64_t v12 = mw_mirth_token_Token_argsZ_1(v8, v10, &v11);
	((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1] = MKU64(v12);
	PTUP v13;
	bool v14 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v11, in_Label_3, &v13);
	PTUP branch_ZPlusMirth_15;
	PTUP branch_ZPlusTypeElab_16;
	PTUP branch_StackTypePart_17;
	if (v14) {
		PTUP v18;
		PTUP v19;
		PTUP v20 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang(v13, in_ZPlusTypeElab_2, &v18, &v19);
		PTUP v21 = mtw_mirth_type_StackTypePart_WithLabel(v20, in_Label_3);
		branch_StackTypePart_17 = v21;
		branch_ZPlusTypeElab_16 = v19;
		branch_ZPlusMirth_15 = v18;
	} else {
		PTUP v22;
		PTUP v23;
		PTUP v24 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(v13, in_ZPlusTypeElab_2, &v22, &v23);
		PTUP v25 = mtw_mirth_type_StackTypePart_ConsLabel(v24, in_Label_3);
		branch_StackTypePart_17 = v25;
		branch_ZPlusTypeElab_16 = v23;
		branch_ZPlusMirth_15 = v22;
	}
	((TUP*)PTRPTR(branch_ZPlusTypeElab_16))->cells[1] = MKU64(v9);
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_16;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_15;
	return branch_StackTypePart_17;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	PTUP v7 = mw_mirth_type_Type_STACK();
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	PTUP branch_StackType_11;
	switch (PTREXTRA(v10)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
			PTUP v13 = mtw_mirth_type_StackType_Var(value_u64(v12));
			branch_StackType_11 = v13;
		} break;
		case 0LL: { // None
			PTUP v14 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_11 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return branch_StackType_11;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	PTUP v7 = mw_mirth_type_Type_TYPE();
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	PTUP v11 = mw_std_maybe_Maybe_1_ifZAsk_2_sp96(v10);
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v11;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	PTUP v7 = mw_mirth_type_Type_RESOURCE();
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	PTUP v11 = mw_std_maybe_Maybe_1_ifZAsk_2_sp96(v10);
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v11;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusTypeElab_6) {
	uint64_t v8 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v9;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, v8, &v9);
	incref(MKU64(in_Name_3));
	PTUP v10 = VTUP(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[0]);
	incref(MKTUP(v10));
	PTUP v11;
	PTUP v12 = mw_mirth_var_Ctx_lookup(v9, value_u64(MKU64(in_Name_3)), v10, &v11);
	PTUP branch_ZPlusMirth_13;
	PTUP branch_ZPlusTypeElab_14;
	PTUP branch_Maybe_15;
	switch (PTREXTRA(v12)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
			decref(MKU64(value_u64(MKU64(in_Name_3))));
			PTUP v17;
			PTUP v18 = mw_mirth_var_Var_type(v11, value_u64(v16), &v17);
			PTUP v19;
			PTUP v20 = mw_mirth_type_Type_unifyZBang(v17, VTUP(MKTUP(VTUP(MKTUP(in_Type_4)))), v18, &v19);
			decref(MKTUP(v20));
			PTUP v21 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v16)));
			branch_Maybe_15 = v21;
			branch_ZPlusTypeElab_14 = VTUP(MKTUP(in_ZPlusTypeElab_2));
			branch_ZPlusMirth_13 = v19;
		} break;
		case 0LL: { // None
			bool v22 = value_bool(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[3]);
			PTUP branch_ZPlusMirth_23;
			PTUP branch_ZPlusTypeElab_24;
			PTUP branch_Maybe_25;
			if (v22) {
				PTUP v26 = VTUP(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[0]);
				incref(MKTUP(v26));
				PTUP v27;
				uint64_t v28 = mw_mirth_var_Var_NewZBang(v11, VTUP(MKTUP(in_Type_4)), value_u64(MKU64(in_Name_3)), &v27);
				incref(MKU64(v28));
				PTUP v29 = mw_mirth_var_Ctx_new(VTUP(MKTUP(v26)), value_u64(MKU64(v28)));
				PTUP v30 = VTUP(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[0]);
				decref(MKTUP(v30));
				((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[0] = MKTUP(v29);
				PTUP v31 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(MKU64(v28))));
				branch_Maybe_25 = v31;
				branch_ZPlusTypeElab_24 = in_ZPlusTypeElab_2;
				branch_ZPlusMirth_23 = v27;
			} else {
				STR* v32;
				STRLIT(v32, "Implicit type variable not allowed here.", 40);
				PTUP v33;
				mw_mirth_mirth_ZPlusMirth_errorZBang(v11, v32, &v33);
				decref(MKTUP(VTUP(MKTUP(in_Type_4))));
				decref(MKU64(value_u64(MKU64(in_Name_3))));
				PTUP v34 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_25 = v34;
				branch_ZPlusTypeElab_24 = in_ZPlusTypeElab_2;
				branch_ZPlusMirth_23 = v33;
			}
			branch_Maybe_15 = branch_Maybe_25;
			branch_ZPlusTypeElab_14 = branch_ZPlusTypeElab_24;
			branch_ZPlusMirth_13 = branch_ZPlusMirth_23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v35 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_14))->cells[1]);
	PTUP v36;
	mw_mirth_token_Token_argsZ_0(branch_ZPlusMirth_13, v35, &v36);
	uint64_t v37 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_14))->cells[1]);
	PTUP v38;
	uint64_t v39 = mw_mirth_token_Token_succ(v36, v37, &v38);
	((TUP*)PTRPTR(branch_ZPlusTypeElab_14))->cells[1] = MKU64(v39);
	*out_ZPlusTypeElab_6 = branch_ZPlusTypeElab_14;
	*out_ZPlusMirth_5 = v38;
	return branch_Maybe_15;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Either_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5, PTUP *out_List_7) {
	bool v8 = false;
	bool v9 = false;
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	STR* v11;
	STRLIT(v11, "type", 4);
	PTUP v12;
	PTUP v13;
	mw_mirth_elab_ZPlusResolveDef_BeginZBang(v11, v10, in_Either_3, v9, v8, in_ZPlusMirth_1, &v12, &v13);
	PTUP v14 = VTUP(((TUP*)PTRPTR(v13))->cells[3]);
	incref(MKTUP(v14));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = PTRMK(0LL /* Nil */,0,0);
	bool v17 = true;
	PTUP r18 = v12;
	VAL r19 = MKTUP(v13);
	PTUP v20 = VTUP(MKTUP(v15));
	PTUP v21 = VTUP(MKTUP(v16));
	PTUP v22 = VTUP(MKTUP(v14));
	bool v23 = v17;
	bool v24 = v17;
	while (v24) {
		PTUP r25 = r18;
		VAL r26 = r19;
		PTUP v27 = v20;
		PTUP v28 = v21;
		PTUP v29 = v22;
		bool v30 = v23;
		PTUP branch_ZPlusMirth_31;
		VAL branch_z_x1_32;
		PTUP branch_List_33;
		PTUP branch_List_34;
		PTUP branch_List_35;
		bool branch_Bool_36;
		switch (PTREXTRA(v29)) {
			case 1LL: { // Cons
				PTUP v37;
				VAL v38 = mtp_std_list_List_1_Cons(v29, &v37);
				incref(MKTUP(VTUP(v38)));
				PTUP v39;
				bool v40 = mw_mirth_def_Def_definesZ_aZ_typeZAsk(r25, VTUP(v38), &v39);
				PTUP branch_ZPlusMirth_41;
				VAL branch_z_x1_42;
				PTUP branch_Either_43;
				if (v40) {
					PTUP v44 = mtw_std_either_Either_2_Right(MKTUP(VTUP(v38)));
					branch_Either_43 = v44;
					branch_z_x1_42 = r26;
					branch_ZPlusMirth_41 = v39;
				} else {
					PTUP v45 = mtw_mirth_elab_RejectedDef_WrongSort(VTUP(v38));
					PTUP v46 = mtw_std_either_Either_2_Left(MKTUP(v45));
					branch_Either_43 = v46;
					branch_z_x1_42 = r26;
					branch_ZPlusMirth_41 = v39;
				}
				PTUP branch_ZPlusMirth_47;
				VAL branch_z_x1_48;
				PTUP branch_List_49;
				PTUP branch_List_50;
				switch (PTREXTRA(branch_Either_43)) {
					case 0LL: { // Left
						VAL v51 = mtp_std_either_Either_2_Left(branch_Either_43);
						PTUP v52 = mw_std_list_List_1_cons(MKTUP(VTUP(v51)), VTUP(MKTUP(v27)));
						branch_List_50 = VTUP(MKTUP(v28));
						branch_List_49 = v52;
						branch_z_x1_48 = branch_z_x1_42;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_41;
					} break;
					case 1LL: { // Right
						VAL v53 = mtp_std_either_Either_2_Right(branch_Either_43);
						PTUP v54 = mw_std_list_List_1_cons(MKTUP(VTUP(v53)), VTUP(MKTUP(v28)));
						branch_List_50 = v54;
						branch_List_49 = VTUP(MKTUP(v27));
						branch_z_x1_48 = branch_z_x1_42;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_41;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v55 = true;
				branch_Bool_36 = v55;
				branch_List_35 = v37;
				branch_List_34 = branch_List_50;
				branch_List_33 = branch_List_49;
				branch_z_x1_32 = branch_z_x1_48;
				branch_ZPlusMirth_31 = branch_ZPlusMirth_47;
			} break;
			case 0LL: { // Nil
				PTUP v56 = PTRMK(0LL /* Nil */,0,0);
				bool v57 = false;
				branch_Bool_36 = v57;
				branch_List_35 = v56;
				branch_List_34 = v28;
				branch_List_33 = v27;
				branch_z_x1_32 = r26;
				branch_ZPlusMirth_31 = r25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_36;
		v23 = branch_Bool_36;
		v22 = branch_List_35;
		v21 = branch_List_34;
		v20 = branch_List_33;
		r19 = branch_z_x1_32;
		r18 = branch_ZPlusMirth_31;
	}
	decref(MKTUP(v22));
	PTUP v58 = mw_std_list_List_1_reverse(v20);
	PTUP v59 = mw_std_list_List_1_reverse(v21);
	PTUP v60 = VTUP(((TUP*)PTRPTR(VTUP(r19)))->cells[4]);
	incref(MKTUP(v60));
	PTUP v61 = mw_std_list_List_1_cat(v58, v60);
	PTUP v62 = VTUP(((TUP*)PTRPTR(VTUP(r19)))->cells[4]);
	decref(MKTUP(v62));
	((TUP*)PTRPTR(VTUP(r19)))->cells[4] = MKTUP(v61);
	PTUP v63 = VTUP(((TUP*)PTRPTR(VTUP(r19)))->cells[3]);
	decref(MKTUP(v63));
	((TUP*)PTRPTR(VTUP(r19)))->cells[3] = MKTUP(v59);
	PTUP v64;
	PTUP v65;
	mw_mirth_elab_ZPlusResolveDef_filterZ_arity(r18, VTUP(r19), &v64, &v65);
	PTUP v66;
	PTUP v67;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v64, v65, &v66, &v67);
	PTUP v68 = PTRMK(0LL /* Nil */,0,0);
	PTUP v69;
	PTUP v70;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v66, v67, v68, &v69, &v70);
	PTUP v71;
	PTUP v72 = mw_mirth_elab_ZPlusResolveDef_endZBang(v69, v70, &v71);
	PTUP branch_ZPlusTypeElab_73;
	PTUP branch_Type_74;
	PTUP branch_ZPlusMirth_75;
	PTUP branch_List_76;
	switch (PTREXTRA(v72)) {
		case 1LL: { // Some
			VAL v77 = mtp_std_maybe_Maybe_1_Some(v72);
			PTUP branch_ZPlusTypeElab_78;
			PTUP branch_Type_79;
			PTUP branch_ZPlusMirth_80;
			PTUP branch_List_81;
			switch (PTREXTRA(VTUP(v77))) {
				case 3LL: { // Data
					uint64_t v82 = mtp_mirth_def_Def_Data(VTUP(v77));
					PTUP v83;
					PTUP v84 = mw_mirth_data_Data_appliedZ_type(v71, v82, &v83);
					PTUP v85;
					PTUP v86 = mw_mirth_data_Data_params(v83, v82, &v85);
					branch_List_81 = v86;
					branch_ZPlusMirth_80 = v85;
					branch_Type_79 = v84;
					branch_ZPlusTypeElab_78 = VTUP(MKTUP(in_ZPlusTypeElab_2));
				} break;
				case 4LL: { // Table
					uint64_t v87 = mtp_mirth_def_Def_Table(VTUP(v77));
					PTUP v88 = mtw_mirth_type_Type_Table(v87);
					PTUP v89 = PTRMK(0LL /* Nil */,0,0);
					branch_List_81 = v89;
					branch_ZPlusMirth_80 = v71;
					branch_Type_79 = v88;
					branch_ZPlusTypeElab_78 = in_ZPlusTypeElab_2;
				} break;
				case 5LL: { // Type
					uint64_t v90 = mtp_mirth_def_Def_Type(VTUP(v77));
					PTUP v91;
					PTUP v92 = mw_mirth_typedef_TypeDef_target(v71, v90, &v91);
					PTUP v93;
					PTUP v94 = mw_mirth_typedef_TypeDef_params(v91, v90, &v93);
					branch_List_81 = v94;
					branch_ZPlusMirth_80 = v93;
					branch_Type_79 = v92;
					branch_ZPlusTypeElab_78 = in_ZPlusTypeElab_2;
				} break;
				default: {
					decref(MKTUP(VTUP(v77)));
					uint64_t v95 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
					STR* v96;
					STRLIT(v96, "compiler bug: resolve-type-con-name! doesn't understand type", 60);
					PTUP v97;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v71, v95, v96, &v97);
					PTUP v98 = PTRMK(0LL /* Error */,0,0);
					PTUP v99 = PTRMK(0LL /* Nil */,0,0);
					branch_List_81 = v99;
					branch_ZPlusMirth_80 = v97;
					branch_Type_79 = v98;
					branch_ZPlusTypeElab_78 = in_ZPlusTypeElab_2;
				} break;
			}
			branch_List_76 = branch_List_81;
			branch_ZPlusMirth_75 = branch_ZPlusMirth_80;
			branch_Type_74 = branch_Type_79;
			branch_ZPlusTypeElab_73 = branch_ZPlusTypeElab_78;
		} break;
		case 0LL: { // None
			PTUP v100 = PTRMK(0LL /* Error */,0,0);
			PTUP v101 = PTRMK(0LL /* Nil */,0,0);
			branch_List_76 = v101;
			branch_ZPlusMirth_75 = v71;
			branch_Type_74 = v100;
			branch_ZPlusTypeElab_73 = in_ZPlusTypeElab_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_7 = branch_List_76;
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_73;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_75;
	return branch_Type_74;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Either_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	incref(MKTUP(in_Either_3));
	PTUP v7 = mw_std_either_Either_2_leftZAsk(in_Either_3);
	PTUP branch_ZPlusMirth_8;
	bool branch_Bool_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			PTUP v11;
			STR* v12 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v10), &v11);
			STR* v13;
			STRLIT(v13, "Mut", 3);
			bool v14 = (str_cmp(v12, v13) == 0);
			branch_Bool_9 = v14;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			bool v15 = false;
			branch_Bool_9 = v15;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_16;
	PTUP branch_Type_17;
	PTUP branch_ZPlusTypeElab_18;
	if (branch_Bool_9) {
		decref(MKTUP(in_Either_3));
		uint64_t v19 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		PTUP v20;
		uint64_t v21 = mw_mirth_token_Token_next(branch_ZPlusMirth_8, v19, &v20);
		uint64_t v22 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_argsZ_1(v20, v22, &v23);
		((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1] = MKU64(v24);
		PTUP v25;
		PTUP v26;
		PTUP v27 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(v23, in_ZPlusTypeElab_2, &v25, &v26);
		PTUP v28 = mtw_mirth_type_Type_Mut(v27);
		((TUP*)PTRPTR(v26))->cells[1] = MKU64(v21);
		branch_ZPlusTypeElab_18 = v26;
		branch_Type_17 = v28;
		branch_ZPlusMirth_16 = v25;
	} else {
		PTUP v29;
		PTUP v30;
		PTUP v31;
		PTUP v32 = mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang(branch_ZPlusMirth_8, in_ZPlusTypeElab_2, in_Either_3, &v29, &v30, &v31);
		PTUP v33;
		PTUP v34;
		PTUP v35;
		PTUP v36 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang(v29, v30, v32, v31, &v33, &v34, &v35);
		PTUP v37;
		PTUP v38;
		PTUP v39 = mw_mirth_type_Type_applyZ_subst(v33, v35, v36, &v37, &v38);
		decref(MKTUP(v38));
		uint64_t v40 = value_u64(((TUP*)PTRPTR(v34))->cells[1]);
		PTUP v41;
		uint64_t v42 = mw_mirth_token_Token_next(v37, v40, &v41);
		((TUP*)PTRPTR(v34))->cells[1] = MKU64(v42);
		branch_ZPlusTypeElab_18 = v34;
		branch_Type_17 = v39;
		branch_ZPlusMirth_16 = v41;
	}
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_18;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_16;
	return branch_Type_17;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Either_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	PTUP v7;
	PTUP v8;
	PTUP v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Either_3, &v7, &v8);
	*out_ZPlusTypeElab_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return v9;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Type_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusTypeElab_6, PTUP *out_Subst_8) {
	PTUP v9 = mw_mirth_type_Subst_Nil();
	uint64_t v10 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v11;
	PTUP v12 = mw_mirth_token_Token_args(in_ZPlusMirth_1, v10, &v11);
	bool v13 = true;
	PTUP v14 = in_Type_3;
	uint64_t v15 = v10;
	PTUP v16 = v9;
	PTUP v17 = in_List_4;
	PTUP r18 = in_ZPlusTypeElab_2;
	PTUP r19 = v11;
	PTUP v20 = v12;
	bool v21 = v13;
	bool v22 = v13;
	while (v22) {
		PTUP v23 = v14;
		uint64_t v24 = v15;
		PTUP v25 = v16;
		PTUP v26 = v17;
		PTUP r27 = r18;
		PTUP r28 = r19;
		PTUP v29 = v20;
		bool v30 = v21;
		PTUP branch_Type_31;
		uint64_t branch_Token_32;
		PTUP branch_Subst_33;
		PTUP branch_List_34;
		PTUP branch_ZPlusTypeElab_35;
		PTUP branch_ZPlusMirth_36;
		PTUP branch_List_37;
		bool branch_Bool_38;
		switch (PTREXTRA(v29)) {
			case 1LL: { // Cons
				PTUP v39;
				VAL v40 = mtp_std_list_List_1_Cons(v29, &v39);
				uint64_t v41 = value_u64(((TUP*)PTRPTR(r27))->cells[1]);
				((TUP*)PTRPTR(r27))->cells[1] = MKU64(value_u64(v40));
				PTUP v42;
				PTUP v43;
				PTUP v44;
				uint64_t v45;
				PTUP v46;
				PTUP v47;
				mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_appZBang(r28, r27, v23, v24, v25, v26, &v42, &v43, &v44, &v45, &v46, &v47);
				((TUP*)PTRPTR(v43))->cells[1] = MKU64(v41);
				bool v48 = true;
				branch_Bool_38 = v48;
				branch_List_37 = v39;
				branch_ZPlusMirth_36 = v42;
				branch_ZPlusTypeElab_35 = v43;
				branch_List_34 = v47;
				branch_Subst_33 = v46;
				branch_Token_32 = v45;
				branch_Type_31 = v44;
			} break;
			case 0LL: { // Nil
				PTUP v49 = PTRMK(0LL /* Nil */,0,0);
				bool v50 = false;
				branch_Bool_38 = v50;
				branch_List_37 = v49;
				branch_ZPlusMirth_36 = r28;
				branch_ZPlusTypeElab_35 = r27;
				branch_List_34 = v26;
				branch_Subst_33 = v25;
				branch_Token_32 = v24;
				branch_Type_31 = v23;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v22 = branch_Bool_38;
		v21 = branch_Bool_38;
		v20 = branch_List_37;
		r19 = branch_ZPlusMirth_36;
		r18 = branch_ZPlusTypeElab_35;
		v17 = branch_List_34;
		v16 = branch_Subst_33;
		v15 = branch_Token_32;
		v14 = branch_Type_31;
	}
	decref(MKTUP(v20));
	decref(MKTUP(v17));
	*out_Subst_8 = v16;
	*out_ZPlusTypeElab_6 = r18;
	*out_ZPlusMirth_5 = r19;
	return v14;
}
static void mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_appZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP in_Type_3, uint64_t in_Token_4, PTUP in_Subst_5, PTUP in_List_6, PTUP *out_ZPlusMirth_7, PTUP *out_ZPlusTypeElab_8, PTUP *out_Type_9, uint64_t *out_Token_10, PTUP *out_Subst_11, PTUP *out_List_12) {
	PTUP v13;
	PTUP v14 = mw_std_list_List_1_uncons(in_List_6, &v13);
	uint64_t branch_Token_15;
	PTUP branch_List_16;
	PTUP branch_Type_17;
	PTUP branch_ZPlusMirth_18;
	PTUP branch_ZPlusTypeElab_19;
	PTUP branch_Subst_20;
	switch (PTREXTRA(v14)) {
		case 1LL: { // Some
			VAL v21 = mtp_std_maybe_Maybe_1_Some(v14);
			PTUP v22;
			PTUP v23 = mw_mirth_var_Var_sortZAsk(in_ZPlusMirth_1, value_u64(v21), &v22);
			PTUP branch_List_24;
			PTUP branch_Type_25;
			PTUP branch_ZPlusMirth_26;
			PTUP branch_ZPlusTypeElab_27;
			uint64_t branch_Var_28;
			PTUP branch_Subst_29;
			switch (PTREXTRA(v23)) {
				case 1LL: { // Some
					VAL v30 = mtp_std_maybe_Maybe_1_Some(v23);
					PTUP branch_List_31;
					PTUP branch_Type_32;
					PTUP branch_Subst_33;
					uint64_t branch_Var_34;
					PTUP branch_ZPlusMirth_35;
					PTUP branch_ZPlusTypeElab_36;
					PTUP branch_Type_37;
					switch (VI64(v30)) {
						case 1LL: { // Resource
							PTUP v38;
							PTUP v39;
							PTUP v40 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang(v22, in_ZPlusTypeElab_2, &v38, &v39);
							PTUP v41 = mw_mirth_type_Resource_ZToType(v40);
							branch_Type_37 = v41;
							branch_ZPlusTypeElab_36 = v39;
							branch_ZPlusMirth_35 = v38;
							branch_Var_34 = value_u64(v21);
							branch_Subst_33 = in_Subst_5;
							branch_Type_32 = in_Type_3;
							branch_List_31 = v13;
						} break;
						case 2LL: { // Stack
							PTUP v42 = mw_mirth_type_T0();
							PTUP v43;
							PTUP v44;
							PTUP v45 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v22, in_ZPlusTypeElab_2, v42, &v43, &v44);
							PTUP v46 = mw_mirth_type_StackType_ZToType(v45);
							branch_Type_37 = v46;
							branch_ZPlusTypeElab_36 = v44;
							branch_ZPlusMirth_35 = v43;
							branch_Var_34 = value_u64(v21);
							branch_Subst_33 = in_Subst_5;
							branch_Type_32 = in_Type_3;
							branch_List_31 = v13;
						} break;
						case 0LL: { // Type
							PTUP v47;
							PTUP v48;
							PTUP v49 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(v22, in_ZPlusTypeElab_2, &v47, &v48);
							branch_Type_37 = v49;
							branch_ZPlusTypeElab_36 = v48;
							branch_ZPlusMirth_35 = v47;
							branch_Var_34 = value_u64(v21);
							branch_Subst_33 = in_Subst_5;
							branch_Type_32 = in_Type_3;
							branch_List_31 = v13;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					PTUP v50 = mw_mirth_type_Subst_cons(branch_Type_37, branch_Var_34, branch_Subst_33);
					branch_Subst_29 = v50;
					branch_Var_28 = branch_Var_34;
					branch_ZPlusTypeElab_27 = branch_ZPlusTypeElab_36;
					branch_ZPlusMirth_26 = branch_ZPlusMirth_35;
					branch_Type_25 = branch_Type_32;
					branch_List_24 = branch_List_31;
				} break;
				case 0LL: { // None
					uint64_t v51 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
					STR* v52;
					STRLIT(v52, "Parameter has unknown sort.", 27);
					PTUP v53;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v22, v51, v52, &v53);
					PTUP v54 = PTRMK(0LL /* Error */,0,0);
					decref(MKTUP(in_Type_3));
					PTUP v55 = mw_mirth_type_Subst_Nil();
					decref(MKTUP(in_Subst_5));
					PTUP v56 = PTRMK(0LL /* Nil */,0,0);
					decref(MKTUP(v13));
					branch_Subst_29 = v55;
					branch_Var_28 = value_u64(v21);
					branch_ZPlusTypeElab_27 = in_ZPlusTypeElab_2;
					branch_ZPlusMirth_26 = v53;
					branch_Type_25 = v54;
					branch_List_24 = v56;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Subst_20 = branch_Subst_29;
			branch_ZPlusTypeElab_19 = branch_ZPlusTypeElab_27;
			branch_ZPlusMirth_18 = branch_ZPlusMirth_26;
			branch_Type_17 = branch_Type_25;
			branch_List_16 = branch_List_24;
			branch_Token_15 = in_Token_4;
		} break;
		case 0LL: { // None
			incref(MKTUP(in_Type_3));
			PTUP v57;
			bool v58 = mw_mirth_type_Type_errorZAsk(in_ZPlusMirth_1, in_Type_3, &v57);
			PTUP branch_ZPlusMirth_59;
			uint64_t branch_Token_60;
			if (v58) {
				branch_Token_60 = in_Token_4;
				branch_ZPlusMirth_59 = v57;
			} else {
				STR* v61;
				STRLIT(v61, "Too many arguments to type.", 27);
				PTUP v62;
				mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v57, in_Token_4, v61, &v62);
				branch_Token_60 = in_Token_4;
				branch_ZPlusMirth_59 = v62;
			}
			PTUP v63 = PTRMK(0LL /* Error */,0,0);
			decref(MKTUP(in_Type_3));
			PTUP v64 = mw_mirth_type_Subst_Nil();
			decref(MKTUP(in_Subst_5));
			PTUP v65 = PTRMK(0LL /* Nil */,0,0);
			decref(MKTUP(v13));
			branch_Subst_20 = v64;
			branch_ZPlusTypeElab_19 = in_ZPlusTypeElab_2;
			branch_ZPlusMirth_18 = branch_ZPlusMirth_59;
			branch_Type_17 = v63;
			branch_List_16 = v65;
			branch_Token_15 = branch_Token_60;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_12 = branch_List_16;
	*out_Subst_11 = branch_Subst_20;
	*out_Token_10 = branch_Token_15;
	*out_Type_9 = branch_Type_17;
	*out_ZPlusTypeElab_8 = branch_ZPlusTypeElab_19;
	*out_ZPlusMirth_7 = branch_ZPlusMirth_18;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusTypeElab_5) {
	bool v7 = value_bool(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[2]);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusTypeElab_9;
	PTUP branch_Type_10;
	if (v7) {
		uint64_t v11 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		PTUP v12;
		mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, v11, &v12);
		PTUP v13 = mtw_mirth_type_Type_Hole(in_Name_3);
		branch_Type_10 = v13;
		branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_8 = v12;
	} else {
		uint64_t v14 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		STR* v15;
		STRLIT(v15, "type holes are not allowed here", 31);
		PTUP v16;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusMirth_1, v14, v15, &v16);
		PTUP v17 = PTRMK(0LL /* Error */,0,0);
		branch_Type_10 = v17;
		branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_8 = v16;
	}
	uint64_t v18 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_9))->cells[1]);
	PTUP v19;
	uint64_t v20 = mw_mirth_token_Token_next(branch_ZPlusMirth_8, v18, &v19);
	((TUP*)PTRPTR(branch_ZPlusTypeElab_9))->cells[1] = MKU64(v20);
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_9;
	*out_ZPlusMirth_4 = v19;
	return branch_Type_10;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4) {
	bool v6 = value_bool(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[2]);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusTypeElab_8;
	PTUP branch_Type_9;
	if (v6) {
		uint64_t v10 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		PTUP v11;
		mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, v10, &v11);
		PTUP v12 = PTRMK(1LL /* Ignore */,0,0);
		branch_Type_9 = v12;
		branch_ZPlusTypeElab_8 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_7 = v11;
	} else {
		uint64_t v13 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
		STR* v14;
		STRLIT(v14, "underscore is not allowed here", 30);
		PTUP v15;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusMirth_1, v13, v14, &v15);
		PTUP v16 = PTRMK(0LL /* Error */,0,0);
		branch_Type_9 = v16;
		branch_ZPlusTypeElab_8 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_7 = v15;
	}
	uint64_t v17 = value_u64(((TUP*)PTRPTR(branch_ZPlusTypeElab_8))->cells[1]);
	PTUP v18;
	uint64_t v19 = mw_mirth_token_Token_next(branch_ZPlusMirth_7, v17, &v18);
	((TUP*)PTRPTR(branch_ZPlusTypeElab_8))->cells[1] = MKU64(v19);
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_8;
	*out_ZPlusMirth_3 = v18;
	return branch_Type_9;
}
static PTUP mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusTypeElab_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v7;
	uint64_t v8 = mw_mirth_token_Token_next(in_ZPlusMirth_1, v6, &v7);
	uint64_t v9 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v10;
	uint64_t v11 = mw_mirth_token_Token_argsZ_1(v7, v9, &v10);
	((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1] = MKU64(v11);
	uint64_t v12 = value_u64(((TUP*)PTRPTR(in_ZPlusTypeElab_2))->cells[1]);
	PTUP v13;
	bool v14 = mw_mirth_token_Token_sigZ_hasZ_vdashZ_orZ_dashesZAsk(v10, v12, &v13);
	PTUP branch_ZPlusMirth_15;
	PTUP branch_ZPlusTypeElab_16;
	PTUP branch_Type_17;
	if (v14) {
		PTUP v18 = mw_mirth_type_T0();
		PTUP v19;
		PTUP v20;
		PTUP v21 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v13, in_ZPlusTypeElab_2, v18, &v19, &v20);
		PTUP v22 = mtw_mirth_type_Type_Arrow(v21);
		branch_Type_17 = v22;
		branch_ZPlusTypeElab_16 = v20;
		branch_ZPlusMirth_15 = v19;
	} else {
		PTUP v23 = mw_mirth_type_T0();
		PTUP v24;
		PTUP v25;
		PTUP v26 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v13, in_ZPlusTypeElab_2, v23, &v24, &v25);
		PTUP v27 = mw_mirth_type_StackType_ZToType(v26);
		branch_Type_17 = v27;
		branch_ZPlusTypeElab_16 = v25;
		branch_ZPlusMirth_15 = v24;
	}
	((TUP*)PTRPTR(branch_ZPlusTypeElab_16))->cells[1] = MKU64(v8);
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_16;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_15;
	return branch_Type_17;
}
static void mw_mirth_elab_ZPlusResolveDef_rdrop (PTUP in_ZPlusResolveDef_1) {
	STR* v2;
	uint64_t v3;
	PTUP v4;
	PTUP v5;
	PTUP v6;
	bool v7;
	bool v8;
	mtp_mirth_elab_ZPlusResolveDef_ZPlusResolveDef(in_ZPlusResolveDef_1, &v2, &v3, &v4, &v5, &v6, &v7, &v8);
	decref(MKTUP(v4));
	decref(MKU64(v3));
	decref(MKSTR(v2));
	decref(MKTUP(v6));
	decref(MKTUP(v5));
}
static void mw_mirth_elab_ZPlusResolveDef_BeginZBang (STR* in_Str_1, uint64_t in_Token_2, PTUP in_Either_3, bool in_Bool_4, bool in_Bool_5, PTUP in_ZPlusMirth_6, PTUP *out_ZPlusMirth_7, PTUP *out_ZPlusResolveDef_8) {
	STR* branch_Str_9;
	uint64_t branch_Token_10;
	bool branch_Bool_11;
	PTUP branch_ZPlusMirth_12;
	bool branch_Bool_13;
	PTUP branch_Either_14;
	uint64_t branch_Name_15;
	if (in_Bool_4) {
		incref(MKTUP(in_Either_3));
		PTUP v16 = mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk(in_Either_3);
		PTUP branch_ZPlusMirth_17;
		uint64_t branch_Token_18;
		VAL branch_z_x1_19;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Some
				VAL v20 = mtp_std_maybe_Maybe_1_Some(v16);
				branch_z_x1_19 = v20;
				branch_Token_18 = in_Token_2;
				branch_ZPlusMirth_17 = in_ZPlusMirth_6;
			} break;
			case 0LL: { // None
				STR* v21;
				STRLIT(v21, "Expected a namespace.", 21);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_6, in_Token_2, v21);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Name_15 = value_u64(branch_z_x1_19);
		branch_Either_14 = in_Either_3;
		branch_Bool_13 = in_Bool_4;
		branch_ZPlusMirth_12 = branch_ZPlusMirth_17;
		branch_Bool_11 = in_Bool_5;
		branch_Token_10 = branch_Token_18;
		branch_Str_9 = in_Str_1;
	} else {
		incref(MKTUP(in_Either_3));
		uint64_t v24 = mw_mirth_token_nameZDivdnameZ_lastZ_name(in_Either_3);
		branch_Name_15 = v24;
		branch_Either_14 = in_Either_3;
		branch_Bool_13 = in_Bool_4;
		branch_ZPlusMirth_12 = in_ZPlusMirth_6;
		branch_Bool_11 = in_Bool_5;
		branch_Token_10 = in_Token_2;
		branch_Str_9 = in_Str_1;
	}
	PTUP v25;
	PTUP v26 = mw_mirth_name_Name_defs(branch_ZPlusMirth_12, branch_Name_15, &v25);
	PTUP v27 = PTRMK(0LL /* Nil */,0,0);
	PTUP v28;
	mtw_mirth_elab_ZPlusResolveDef_ZPlusResolveDef(branch_Str_9, branch_Token_10, branch_Either_14, v26, v27, branch_Bool_13, branch_Bool_11, &v28);
	*out_ZPlusResolveDef_8 = v28;
	*out_ZPlusMirth_7 = v25;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_arity (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusResolveDef_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[1]);
	PTUP v6;
	INT v7 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, v5, &v6);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[3]);
	incref(MKTUP(v8));
	PTUP v9 = PTRMK(0LL /* Nil */,0,0);
	PTUP v10 = PTRMK(0LL /* Nil */,0,0);
	bool v11 = true;
	PTUP r12 = v6;
	VAL r13 = MKTUP(in_ZPlusResolveDef_2);
	INT v14 = v7;
	PTUP v15 = VTUP(MKTUP(v9));
	PTUP v16 = VTUP(MKTUP(v10));
	PTUP v17 = VTUP(MKTUP(v8));
	bool v18 = v11;
	bool v19 = v11;
	while (v19) {
		PTUP r20 = r12;
		VAL r21 = r13;
		INT v22 = v14;
		PTUP v23 = v15;
		PTUP v24 = v16;
		PTUP v25 = v17;
		bool v26 = v18;
		INT branch_Nat_27;
		PTUP branch_ZPlusMirth_28;
		VAL branch_z_x1_29;
		PTUP branch_List_30;
		PTUP branch_List_31;
		PTUP branch_List_32;
		bool branch_Bool_33;
		switch (PTREXTRA(v25)) {
			case 1LL: { // Cons
				PTUP v34;
				VAL v35 = mtp_std_list_List_1_Cons(v25, &v34);
				incref(MKNAT(v22));
				incref(MKTUP(VTUP(v35)));
				PTUP v36;
				PTUP v37 = mw_mirth_def_Def_qnameZ_hard(r20, VTUP(MKTUP(VTUP(v35))), &v36);
				INT v38 = value_int(((TUP*)PTRPTR(v37))->cells[2]);
				incref(MKINT(v38));
				decref(MKTUP(v37));
				INT v39 = value_nat(MKNAT(v22));
				bool v40 = mw_mirth_elab_arityZ_compatibleZAsk(v39, v38);
				INT branch_Nat_41;
				PTUP branch_ZPlusMirth_42;
				VAL branch_z_x1_43;
				PTUP branch_Either_44;
				if (v40) {
					PTUP v45 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(VTUP(v35)))));
					branch_Either_44 = v45;
					branch_z_x1_43 = r21;
					branch_ZPlusMirth_42 = v36;
					branch_Nat_41 = value_nat(MKNAT(v22));
				} else {
					PTUP v46 = mtw_mirth_elab_RejectedDef_WrongArity(VTUP(MKTUP(VTUP(v35))));
					PTUP v47 = mtw_std_either_Either_2_Left(MKTUP(v46));
					branch_Either_44 = v47;
					branch_z_x1_43 = r21;
					branch_ZPlusMirth_42 = v36;
					branch_Nat_41 = value_nat(MKNAT(v22));
				}
				INT branch_Nat_48;
				PTUP branch_ZPlusMirth_49;
				VAL branch_z_x1_50;
				PTUP branch_List_51;
				PTUP branch_List_52;
				switch (PTREXTRA(branch_Either_44)) {
					case 0LL: { // Left
						VAL v53 = mtp_std_either_Either_2_Left(branch_Either_44);
						PTUP v54 = mw_std_list_List_1_cons(MKTUP(VTUP(v53)), VTUP(MKTUP(v23)));
						branch_List_52 = VTUP(MKTUP(v24));
						branch_List_51 = v54;
						branch_z_x1_50 = branch_z_x1_43;
						branch_ZPlusMirth_49 = branch_ZPlusMirth_42;
						branch_Nat_48 = branch_Nat_41;
					} break;
					case 1LL: { // Right
						VAL v55 = mtp_std_either_Either_2_Right(branch_Either_44);
						PTUP v56 = mw_std_list_List_1_cons(MKTUP(VTUP(v55)), VTUP(MKTUP(v24)));
						branch_List_52 = v56;
						branch_List_51 = VTUP(MKTUP(v23));
						branch_z_x1_50 = branch_z_x1_43;
						branch_ZPlusMirth_49 = branch_ZPlusMirth_42;
						branch_Nat_48 = branch_Nat_41;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v57 = true;
				branch_Bool_33 = v57;
				branch_List_32 = v34;
				branch_List_31 = branch_List_52;
				branch_List_30 = branch_List_51;
				branch_z_x1_29 = branch_z_x1_50;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_49;
				branch_Nat_27 = branch_Nat_48;
			} break;
			case 0LL: { // Nil
				PTUP v58 = PTRMK(0LL /* Nil */,0,0);
				bool v59 = false;
				branch_Bool_33 = v59;
				branch_List_32 = v58;
				branch_List_31 = v24;
				branch_List_30 = v23;
				branch_z_x1_29 = r21;
				branch_ZPlusMirth_28 = r20;
				branch_Nat_27 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_33;
		v18 = branch_Bool_33;
		v17 = branch_List_32;
		v16 = branch_List_31;
		v15 = branch_List_30;
		v14 = branch_Nat_27;
		r13 = branch_z_x1_29;
		r12 = branch_ZPlusMirth_28;
	}
	decref(MKTUP(v17));
	PTUP v60 = mw_std_list_List_1_reverse(v15);
	PTUP v61 = mw_std_list_List_1_reverse(v16);
	PTUP v62 = VTUP(((TUP*)PTRPTR(VTUP(r13)))->cells[4]);
	incref(MKTUP(v62));
	PTUP v63 = mw_std_list_List_1_cat(v60, v62);
	PTUP v64 = VTUP(((TUP*)PTRPTR(VTUP(r13)))->cells[4]);
	decref(MKTUP(v64));
	((TUP*)PTRPTR(VTUP(r13)))->cells[4] = MKTUP(v63);
	PTUP v65 = VTUP(((TUP*)PTRPTR(VTUP(r13)))->cells[3]);
	decref(MKTUP(v65));
	((TUP*)PTRPTR(VTUP(r13)))->cells[3] = MKTUP(v61);
	decref(MKNAT(v14));
	*out_ZPlusResolveDef_4 = VTUP(r13);
	*out_ZPlusMirth_3 = r12;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusResolveDef_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[1]);
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_dnameZAsk(in_ZPlusMirth_1, v5, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusResolveDef_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			PTUP v11 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[3]);
			incref(MKTUP(v11));
			PTUP v12 = PTRMK(0LL /* Nil */,0,0);
			PTUP v13 = PTRMK(0LL /* Nil */,0,0);
			bool v14 = true;
			PTUP r15 = v6;
			PTUP r16 = in_ZPlusResolveDef_2;
			PTUP v17 = VTUP(v10);
			PTUP v18 = VTUP(MKTUP(v12));
			PTUP v19 = VTUP(MKTUP(v13));
			PTUP v20 = VTUP(MKTUP(v11));
			bool v21 = v14;
			bool v22 = v14;
			while (v22) {
				PTUP r23 = r15;
				PTUP r24 = r16;
				PTUP v25 = v17;
				PTUP v26 = v18;
				PTUP v27 = v19;
				PTUP v28 = v20;
				bool v29 = v21;
				PTUP branch_DName_30;
				PTUP branch_ZPlusMirth_31;
				PTUP branch_ZPlusResolveDef_32;
				PTUP branch_List_33;
				PTUP branch_List_34;
				PTUP branch_List_35;
				bool branch_Bool_36;
				switch (PTREXTRA(v28)) {
					case 1LL: { // Cons
						PTUP v37;
						VAL v38 = mtp_std_list_List_1_Cons(v28, &v37);
						incref(MKTUP(v25));
						incref(MKTUP(VTUP(v38)));
						PTUP v39;
						PTUP v40 = mw_mirth_def_Def_qnameZ_hard(r23, VTUP(MKTUP(VTUP(v38))), &v39);
						PTUP v41;
						PTUP v42;
						PTUP v43 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v39, r24, VTUP(MKTUP(v25)), v40, &v41, &v42);
						bool v44 = mw_std_list_List_1_emptyZAsk(v43);
						bool v45 = !v44;
						PTUP branch_DName_46;
						PTUP branch_ZPlusMirth_47;
						PTUP branch_ZPlusResolveDef_48;
						PTUP branch_Either_49;
						if (v45) {
							PTUP v50 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(VTUP(v38)))));
							branch_Either_49 = v50;
							branch_ZPlusResolveDef_48 = v42;
							branch_ZPlusMirth_47 = v41;
							branch_DName_46 = VTUP(MKTUP(v25));
						} else {
							PTUP v51 = mtw_mirth_elab_RejectedDef_WrongQualifier(VTUP(MKTUP(VTUP(v38))));
							PTUP v52 = mtw_std_either_Either_2_Left(MKTUP(v51));
							branch_Either_49 = v52;
							branch_ZPlusResolveDef_48 = v42;
							branch_ZPlusMirth_47 = v41;
							branch_DName_46 = VTUP(MKTUP(v25));
						}
						PTUP branch_DName_53;
						PTUP branch_ZPlusMirth_54;
						PTUP branch_ZPlusResolveDef_55;
						PTUP branch_List_56;
						PTUP branch_List_57;
						switch (PTREXTRA(branch_Either_49)) {
							case 0LL: { // Left
								VAL v58 = mtp_std_either_Either_2_Left(branch_Either_49);
								PTUP v59 = mw_std_list_List_1_cons(MKTUP(VTUP(v58)), VTUP(MKTUP(v26)));
								branch_List_57 = VTUP(MKTUP(v27));
								branch_List_56 = v59;
								branch_ZPlusResolveDef_55 = branch_ZPlusResolveDef_48;
								branch_ZPlusMirth_54 = branch_ZPlusMirth_47;
								branch_DName_53 = branch_DName_46;
							} break;
							case 1LL: { // Right
								VAL v60 = mtp_std_either_Either_2_Right(branch_Either_49);
								PTUP v61 = mw_std_list_List_1_cons(MKTUP(VTUP(v60)), VTUP(MKTUP(v27)));
								branch_List_57 = v61;
								branch_List_56 = VTUP(MKTUP(v26));
								branch_ZPlusResolveDef_55 = branch_ZPlusResolveDef_48;
								branch_ZPlusMirth_54 = branch_ZPlusMirth_47;
								branch_DName_53 = branch_DName_46;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						bool v62 = true;
						branch_Bool_36 = v62;
						branch_List_35 = v37;
						branch_List_34 = branch_List_57;
						branch_List_33 = branch_List_56;
						branch_ZPlusResolveDef_32 = branch_ZPlusResolveDef_55;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_54;
						branch_DName_30 = branch_DName_53;
					} break;
					case 0LL: { // Nil
						PTUP v63 = PTRMK(0LL /* Nil */,0,0);
						bool v64 = false;
						branch_Bool_36 = v64;
						branch_List_35 = v63;
						branch_List_34 = v27;
						branch_List_33 = v26;
						branch_ZPlusResolveDef_32 = r24;
						branch_ZPlusMirth_31 = r23;
						branch_DName_30 = v25;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v22 = branch_Bool_36;
				v21 = branch_Bool_36;
				v20 = branch_List_35;
				v19 = branch_List_34;
				v18 = branch_List_33;
				v17 = branch_DName_30;
				r16 = branch_ZPlusResolveDef_32;
				r15 = branch_ZPlusMirth_31;
			}
			decref(MKTUP(v20));
			PTUP v65 = mw_std_list_List_1_reverse(v18);
			PTUP v66 = mw_std_list_List_1_reverse(v19);
			PTUP v67 = VTUP(((TUP*)PTRPTR(r16))->cells[4]);
			incref(MKTUP(v67));
			PTUP v68 = mw_std_list_List_1_cat(v65, v67);
			PTUP v69 = VTUP(((TUP*)PTRPTR(r16))->cells[4]);
			decref(MKTUP(v69));
			((TUP*)PTRPTR(r16))->cells[4] = MKTUP(v68);
			PTUP v70 = VTUP(((TUP*)PTRPTR(r16))->cells[3]);
			decref(MKTUP(v70));
			((TUP*)PTRPTR(r16))->cells[3] = MKTUP(v66);
			decref(MKTUP(v17));
			branch_ZPlusResolveDef_9 = r16;
			branch_ZPlusMirth_8 = r15;
		} break;
		case 0LL: { // None
			branch_ZPlusResolveDef_9 = in_ZPlusResolveDef_2;
			branch_ZPlusMirth_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusResolveDef_4 = branch_ZPlusResolveDef_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_roots (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusResolveDef_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[2]);
	incref(MKTUP(v6));
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	PTUP branch_ZPlusResolveDef_9;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Left
			VAL v10 = mtp_std_either_Either_2_Left(v6);
			PTUP v11 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[3]);
			incref(MKTUP(v11));
			PTUP v12 = PTRMK(0LL /* Nil */,0,0);
			PTUP v13 = PTRMK(0LL /* Nil */,0,0);
			bool v14 = true;
			uint64_t v15 = value_u64(v10);
			PTUP v16 = in_List_3;
			PTUP r17 = in_ZPlusMirth_1;
			PTUP r18 = in_ZPlusResolveDef_2;
			PTUP v19 = VTUP(MKTUP(v12));
			PTUP v20 = VTUP(MKTUP(v13));
			PTUP v21 = VTUP(MKTUP(v11));
			bool v22 = v14;
			bool v23 = v14;
			while (v23) {
				uint64_t v24 = v15;
				PTUP v25 = v16;
				PTUP r26 = r17;
				PTUP r27 = r18;
				PTUP v28 = v19;
				PTUP v29 = v20;
				PTUP v30 = v21;
				bool v31 = v22;
				uint64_t branch_Name_32;
				PTUP branch_ZPlusMirth_33;
				PTUP branch_ZPlusResolveDef_34;
				PTUP branch_List_35;
				PTUP branch_List_36;
				PTUP branch_List_37;
				PTUP branch_List_38;
				bool branch_Bool_39;
				switch (PTREXTRA(v30)) {
					case 1LL: { // Cons
						PTUP v40;
						VAL v41 = mtp_std_list_List_1_Cons(v30, &v40);
						incref(MKTUP(VTUP(v41)));
						PTUP v42;
						PTUP v43 = mw_mirth_def_Def_qnameZ_hard(r26, VTUP(v41), &v42);
						PTUP v44 = VTUP(((TUP*)PTRPTR(v43))->cells[0]);
						incref(MKTUP(v44));
						decref(MKTUP(v43));
						incref(MKTUP(v25));
						PTUP v45;
						VAL v46;
						bool v47 = mw_std_list_List_1_member_sp6(v42, MKTUP(r27), v44, v25, &v45, &v46);
						PTUP branch_ZPlusMirth_48;
						PTUP branch_Def_49;
						PTUP branch_ZPlusResolveDef_50;
						bool branch_Bool_51;
						if (v47) {
							bool v52 = true;
							branch_Bool_51 = v52;
							branch_ZPlusResolveDef_50 = VTUP(v46);
							branch_Def_49 = VTUP(v41);
							branch_ZPlusMirth_48 = v45;
						} else {
							uint64_t v53 = value_u64(((TUP*)PTRPTR(VTUP(v46)))->cells[1]);
							incref(MKTUP(VTUP(v41)));
							PTUP v54;
							bool v55 = mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk(v45, value_u64(MKU64(v53)), VTUP(MKTUP(VTUP(v41))), &v54);
							branch_Bool_51 = v55;
							branch_ZPlusResolveDef_50 = VTUP(v46);
							branch_Def_49 = VTUP(MKTUP(VTUP(v41)));
							branch_ZPlusMirth_48 = v54;
						}
						uint64_t branch_Name_56;
						PTUP branch_ZPlusMirth_57;
						PTUP branch_ZPlusResolveDef_58;
						PTUP branch_List_59;
						PTUP branch_Either_60;
						if (branch_Bool_51) {
							PTUP v61 = mtw_std_either_Either_2_Right(MKTUP(branch_Def_49));
							branch_Either_60 = v61;
							branch_List_59 = v25;
							branch_ZPlusResolveDef_58 = branch_ZPlusResolveDef_50;
							branch_ZPlusMirth_57 = branch_ZPlusMirth_48;
							branch_Name_56 = v24;
						} else {
							incref(MKTUP(branch_Def_49));
							PTUP v62;
							PTUP v63 = mw_mirth_def_Def_qnameZ_hard(branch_ZPlusMirth_48, branch_Def_49, &v62);
							PTUP v64 = VTUP(((TUP*)PTRPTR(v63))->cells[0]);
							incref(MKTUP(v64));
							decref(MKTUP(v63));
							uint64_t branch_Name_65;
							PTUP branch_ZPlusMirth_66;
							PTUP branch_ZPlusResolveDef_67;
							PTUP branch_List_68;
							PTUP branch_RejectedDef_69;
							switch (PTREXTRA(v64)) {
								case 3LL: { // Tycon
									PTUP v70 = mtp_mirth_name_Namespace_Tycon(v64);
									decref(MKTUP(v70));
									PTUP v71;
									bool v72 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(v62, v24, &v71);
									uint64_t branch_Name_73;
									PTUP branch_ZPlusMirth_74;
									PTUP branch_ZPlusResolveDef_75;
									PTUP branch_List_76;
									PTUP branch_RejectedDef_77;
									if (v72) {
										incref(MKTUP(v25));
										bool v78 = mw_std_list_List_1_emptyZAsk(v25);
										uint64_t branch_Name_79;
										PTUP branch_ZPlusMirth_80;
										PTUP branch_ZPlusResolveDef_81;
										PTUP branch_List_82;
										PTUP branch_RejectedDef_83;
										if (v78) {
											PTUP v84 = mtw_mirth_elab_RejectedDef_MethodNotAvailable(branch_Def_49);
											branch_RejectedDef_83 = v84;
											branch_List_82 = v25;
											branch_ZPlusResolveDef_81 = branch_ZPlusResolveDef_50;
											branch_ZPlusMirth_80 = v71;
											branch_Name_79 = v24;
										} else {
											incref(MKTUP(v25));
											PTUP v85 = mtw_mirth_elab_RejectedDef_MethodWrongType(branch_Def_49, v25);
											branch_RejectedDef_83 = v85;
											branch_List_82 = v25;
											branch_ZPlusResolveDef_81 = branch_ZPlusResolveDef_50;
											branch_ZPlusMirth_80 = v71;
											branch_Name_79 = v24;
										}
										branch_RejectedDef_77 = branch_RejectedDef_83;
										branch_List_76 = branch_List_82;
										branch_ZPlusResolveDef_75 = branch_ZPlusResolveDef_81;
										branch_ZPlusMirth_74 = branch_ZPlusMirth_80;
										branch_Name_73 = branch_Name_79;
									} else {
										PTUP v86 = mtw_mirth_elab_RejectedDef_NotImported(branch_Def_49);
										branch_RejectedDef_77 = v86;
										branch_List_76 = v25;
										branch_ZPlusResolveDef_75 = branch_ZPlusResolveDef_50;
										branch_ZPlusMirth_74 = v71;
										branch_Name_73 = v24;
									}
									branch_RejectedDef_69 = branch_RejectedDef_77;
									branch_List_68 = branch_List_76;
									branch_ZPlusResolveDef_67 = branch_ZPlusResolveDef_75;
									branch_ZPlusMirth_66 = branch_ZPlusMirth_74;
									branch_Name_65 = branch_Name_73;
								} break;
								default: {
									decref(MKTUP(v64));
									PTUP v87 = mtw_mirth_elab_RejectedDef_NotImported(branch_Def_49);
									branch_RejectedDef_69 = v87;
									branch_List_68 = v25;
									branch_ZPlusResolveDef_67 = branch_ZPlusResolveDef_50;
									branch_ZPlusMirth_66 = v62;
									branch_Name_65 = v24;
								} break;
							}
							PTUP v88 = mtw_std_either_Either_2_Left(MKTUP(branch_RejectedDef_69));
							branch_Either_60 = v88;
							branch_List_59 = branch_List_68;
							branch_ZPlusResolveDef_58 = branch_ZPlusResolveDef_67;
							branch_ZPlusMirth_57 = branch_ZPlusMirth_66;
							branch_Name_56 = branch_Name_65;
						}
						uint64_t branch_Name_89;
						PTUP branch_ZPlusMirth_90;
						PTUP branch_ZPlusResolveDef_91;
						PTUP branch_List_92;
						PTUP branch_List_93;
						PTUP branch_List_94;
						switch (PTREXTRA(branch_Either_60)) {
							case 0LL: { // Left
								VAL v95 = mtp_std_either_Either_2_Left(branch_Either_60);
								PTUP v96 = mw_std_list_List_1_cons(MKTUP(VTUP(v95)), VTUP(MKTUP(v28)));
								branch_List_94 = VTUP(MKTUP(v29));
								branch_List_93 = v96;
								branch_List_92 = branch_List_59;
								branch_ZPlusResolveDef_91 = branch_ZPlusResolveDef_58;
								branch_ZPlusMirth_90 = branch_ZPlusMirth_57;
								branch_Name_89 = branch_Name_56;
							} break;
							case 1LL: { // Right
								VAL v97 = mtp_std_either_Either_2_Right(branch_Either_60);
								PTUP v98 = mw_std_list_List_1_cons(MKTUP(VTUP(v97)), VTUP(MKTUP(v29)));
								branch_List_94 = v98;
								branch_List_93 = VTUP(MKTUP(v28));
								branch_List_92 = branch_List_59;
								branch_ZPlusResolveDef_91 = branch_ZPlusResolveDef_58;
								branch_ZPlusMirth_90 = branch_ZPlusMirth_57;
								branch_Name_89 = branch_Name_56;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						bool v99 = true;
						branch_Bool_39 = v99;
						branch_List_38 = v40;
						branch_List_37 = branch_List_94;
						branch_List_36 = branch_List_93;
						branch_List_35 = branch_List_92;
						branch_ZPlusResolveDef_34 = branch_ZPlusResolveDef_91;
						branch_ZPlusMirth_33 = branch_ZPlusMirth_90;
						branch_Name_32 = branch_Name_89;
					} break;
					case 0LL: { // Nil
						PTUP v100 = PTRMK(0LL /* Nil */,0,0);
						bool v101 = false;
						branch_Bool_39 = v101;
						branch_List_38 = v100;
						branch_List_37 = v29;
						branch_List_36 = v28;
						branch_List_35 = v25;
						branch_ZPlusResolveDef_34 = r27;
						branch_ZPlusMirth_33 = r26;
						branch_Name_32 = v24;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v23 = branch_Bool_39;
				v22 = branch_Bool_39;
				v21 = branch_List_38;
				v20 = branch_List_37;
				v19 = branch_List_36;
				r18 = branch_ZPlusResolveDef_34;
				r17 = branch_ZPlusMirth_33;
				v16 = branch_List_35;
				v15 = branch_Name_32;
			}
			decref(MKTUP(v21));
			PTUP v102 = mw_std_list_List_1_reverse(v19);
			PTUP v103 = mw_std_list_List_1_reverse(v20);
			PTUP v104 = VTUP(((TUP*)PTRPTR(r18))->cells[4]);
			incref(MKTUP(v104));
			PTUP v105 = mw_std_list_List_1_cat(v102, v104);
			PTUP v106 = VTUP(((TUP*)PTRPTR(r18))->cells[4]);
			decref(MKTUP(v106));
			((TUP*)PTRPTR(r18))->cells[4] = MKTUP(v105);
			PTUP v107 = VTUP(((TUP*)PTRPTR(r18))->cells[3]);
			decref(MKTUP(v107));
			((TUP*)PTRPTR(r18))->cells[3] = MKTUP(v103);
			branch_ZPlusResolveDef_9 = r18;
			branch_List_8 = v16;
			branch_ZPlusMirth_7 = r17;
		} break;
		case 1LL: { // Right
			VAL v108 = mtp_std_either_Either_2_Right(v6);
			incref(MKTUP(VTUP(v108)));
			bool v109 = mw_mirth_name_DName_isZ_relativeZAsk(VTUP(v108));
			PTUP branch_ZPlusResolveDef_110;
			bool branch_Bool_111;
			if (v109) {
				bool v112 = value_bool(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[5]);
				bool v113 = !v112;
				branch_Bool_111 = v113;
				branch_ZPlusResolveDef_110 = in_ZPlusResolveDef_2;
			} else {
				bool v114 = false;
				branch_Bool_111 = v114;
				branch_ZPlusResolveDef_110 = in_ZPlusResolveDef_2;
			}
			PTUP branch_ZPlusMirth_115;
			PTUP branch_List_116;
			PTUP branch_DName_117;
			PTUP branch_ZPlusResolveDef_118;
			if (branch_Bool_111) {
				PTUP v119 = VTUP(((TUP*)PTRPTR(branch_ZPlusResolveDef_110))->cells[3]);
				incref(MKTUP(v119));
				PTUP v120 = PTRMK(0LL /* Nil */,0,0);
				PTUP v121 = PTRMK(0LL /* Nil */,0,0);
				bool v122 = true;
				PTUP v123 = in_List_3;
				PTUP r124 = in_ZPlusMirth_1;
				PTUP r125 = branch_ZPlusResolveDef_110;
				PTUP v126 = VTUP(v108);
				PTUP v127 = VTUP(MKTUP(v120));
				PTUP v128 = VTUP(MKTUP(v121));
				PTUP v129 = VTUP(MKTUP(v119));
				bool v130 = v122;
				bool v131 = v122;
				while (v131) {
					PTUP v132 = v123;
					PTUP r133 = r124;
					PTUP r134 = r125;
					PTUP v135 = v126;
					PTUP v136 = v127;
					PTUP v137 = v128;
					PTUP v138 = v129;
					bool v139 = v130;
					PTUP branch_List_140;
					PTUP branch_DName_141;
					PTUP branch_ZPlusMirth_142;
					PTUP branch_ZPlusResolveDef_143;
					PTUP branch_List_144;
					PTUP branch_List_145;
					PTUP branch_List_146;
					bool branch_Bool_147;
					switch (PTREXTRA(v138)) {
						case 1LL: { // Cons
							PTUP v148;
							VAL v149 = mtp_std_list_List_1_Cons(v138, &v148);
							incref(MKTUP(v135));
							incref(MKTUP(VTUP(v149)));
							PTUP v150;
							PTUP v151 = mw_mirth_def_Def_qnameZ_hard(r133, VTUP(MKTUP(VTUP(v149))), &v150);
							PTUP v152;
							PTUP v153;
							PTUP v154 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v150, r134, VTUP(MKTUP(v135)), v151, &v152, &v153);
							PTUP v155 = PTRMK(0LL /* None */,0,0);
							bool v156 = true;
							PTUP r157 = v152;
							VAL r158 = MKTUP(v153);
							PTUP v159 = v132;
							PTUP v160 = v155;
							PTUP v161 = v154;
							bool v162 = v156;
							bool v163 = v156;
							while (v163) {
								PTUP r164 = r157;
								VAL r165 = r158;
								PTUP v166 = v159;
								PTUP v167 = v160;
								PTUP v168 = v161;
								bool v169 = v162;
								PTUP v170;
								PTUP v171 = mw_std_list_List_1_uncons(v168, &v170);
								PTUP branch_ZPlusMirth_172;
								VAL branch_z_x1_173;
								PTUP branch_List_174;
								PTUP branch_Maybe_175;
								PTUP branch_List_176;
								bool branch_Bool_177;
								switch (PTREXTRA(v171)) {
									case 1LL: { // Some
										VAL v178 = mtp_std_maybe_Maybe_1_Some(v171);
										incref(MKTUP(VTUP(v178)));
										incref(MKTUP(v166));
										PTUP v179;
										VAL v180;
										bool v181 = mw_std_list_List_1_member_sp6(r164, r165, VTUP(v178), v166, &v179, &v180);
										PTUP branch_ZPlusMirth_182;
										VAL branch_z_x1_183;
										PTUP branch_List_184;
										PTUP branch_Maybe_185;
										if (v181) {
											PTUP v186 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v178)));
											branch_Maybe_185 = v186;
											branch_List_184 = v166;
											branch_z_x1_183 = v180;
											branch_ZPlusMirth_182 = v179;
										} else {
											decref(MKTUP(VTUP(v178)));
											PTUP v187 = PTRMK(0LL /* None */,0,0);
											branch_Maybe_185 = v187;
											branch_List_184 = v166;
											branch_z_x1_183 = v180;
											branch_ZPlusMirth_182 = v179;
										}
										PTUP branch_ZPlusMirth_188;
										VAL branch_z_x1_189;
										PTUP branch_List_190;
										PTUP branch_Maybe_191;
										PTUP branch_List_192;
										switch (PTREXTRA(branch_Maybe_185)) {
											case 0LL: { // None
												branch_List_192 = VTUP(MKTUP(v170));
												branch_Maybe_191 = VTUP(MKTUP(v167));
												branch_List_190 = branch_List_184;
												branch_z_x1_189 = branch_z_x1_183;
												branch_ZPlusMirth_188 = branch_ZPlusMirth_182;
											} break;
											default: {
												decref(MKTUP(VTUP(MKTUP(v170))));
												decref(MKTUP(VTUP(MKTUP(v167))));
												PTUP v193 = PTRMK(0LL /* Nil */,0,0);
												branch_List_192 = v193;
												branch_Maybe_191 = branch_Maybe_185;
												branch_List_190 = branch_List_184;
												branch_z_x1_189 = branch_z_x1_183;
												branch_ZPlusMirth_188 = branch_ZPlusMirth_182;
											} break;
										}
										bool v194 = true;
										branch_Bool_177 = v194;
										branch_List_176 = branch_List_192;
										branch_Maybe_175 = branch_Maybe_191;
										branch_List_174 = branch_List_190;
										branch_z_x1_173 = branch_z_x1_189;
										branch_ZPlusMirth_172 = branch_ZPlusMirth_188;
									} break;
									case 0LL: { // None
										bool v195 = false;
										branch_Bool_177 = v195;
										branch_List_176 = v170;
										branch_Maybe_175 = v167;
										branch_List_174 = v166;
										branch_z_x1_173 = r165;
										branch_ZPlusMirth_172 = r164;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								v163 = branch_Bool_177;
								v162 = branch_Bool_177;
								v161 = branch_List_176;
								v160 = branch_Maybe_175;
								v159 = branch_List_174;
								r158 = branch_z_x1_173;
								r157 = branch_ZPlusMirth_172;
							}
							decref(MKTUP(v161));
							int64_t v196 = PTREXTRA(v160);
							decref(MKTUP(v160));
							INT v197 = WRAP_I63(0LL);
							INT v198 = v197;
							INT v199 = i64_to_int(v196);
							bool v200 = int_eq(v199, v198);
							bool v201 = !v200;
							PTUP branch_List_202;
							PTUP branch_DName_203;
							PTUP branch_ZPlusMirth_204;
							PTUP branch_ZPlusResolveDef_205;
							PTUP branch_Either_206;
							if (v201) {
								PTUP v207 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(VTUP(v149)))));
								branch_Either_206 = v207;
								branch_ZPlusResolveDef_205 = VTUP(r158);
								branch_ZPlusMirth_204 = r157;
								branch_DName_203 = VTUP(MKTUP(v135));
								branch_List_202 = v159;
							} else {
								incref(MKTUP(v159));
								bool v208 = mw_std_list_List_1_emptyZAsk(v159);
								PTUP branch_DName_209;
								PTUP branch_ZPlusMirth_210;
								PTUP branch_ZPlusResolveDef_211;
								PTUP branch_List_212;
								PTUP branch_RejectedDef_213;
								if (v208) {
									PTUP v214 = mtw_mirth_elab_RejectedDef_MethodNotAvailable(VTUP(MKTUP(VTUP(v149))));
									branch_RejectedDef_213 = v214;
									branch_List_212 = v159;
									branch_ZPlusResolveDef_211 = VTUP(r158);
									branch_ZPlusMirth_210 = r157;
									branch_DName_209 = VTUP(MKTUP(v135));
								} else {
									incref(MKTUP(v159));
									PTUP v215 = mtw_mirth_elab_RejectedDef_MethodWrongType(VTUP(MKTUP(VTUP(v149))), v159);
									branch_RejectedDef_213 = v215;
									branch_List_212 = v159;
									branch_ZPlusResolveDef_211 = VTUP(r158);
									branch_ZPlusMirth_210 = r157;
									branch_DName_209 = VTUP(MKTUP(v135));
								}
								PTUP v216 = mtw_std_either_Either_2_Left(MKTUP(branch_RejectedDef_213));
								branch_Either_206 = v216;
								branch_ZPlusResolveDef_205 = branch_ZPlusResolveDef_211;
								branch_ZPlusMirth_204 = branch_ZPlusMirth_210;
								branch_DName_203 = branch_DName_209;
								branch_List_202 = branch_List_212;
							}
							PTUP branch_List_217;
							PTUP branch_DName_218;
							PTUP branch_ZPlusMirth_219;
							PTUP branch_ZPlusResolveDef_220;
							PTUP branch_List_221;
							PTUP branch_List_222;
							switch (PTREXTRA(branch_Either_206)) {
								case 0LL: { // Left
									VAL v223 = mtp_std_either_Either_2_Left(branch_Either_206);
									PTUP v224 = mw_std_list_List_1_cons(MKTUP(VTUP(v223)), VTUP(MKTUP(v136)));
									branch_List_222 = VTUP(MKTUP(v137));
									branch_List_221 = v224;
									branch_ZPlusResolveDef_220 = branch_ZPlusResolveDef_205;
									branch_ZPlusMirth_219 = branch_ZPlusMirth_204;
									branch_DName_218 = branch_DName_203;
									branch_List_217 = branch_List_202;
								} break;
								case 1LL: { // Right
									VAL v225 = mtp_std_either_Either_2_Right(branch_Either_206);
									PTUP v226 = mw_std_list_List_1_cons(MKTUP(VTUP(v225)), VTUP(MKTUP(v137)));
									branch_List_222 = v226;
									branch_List_221 = VTUP(MKTUP(v136));
									branch_ZPlusResolveDef_220 = branch_ZPlusResolveDef_205;
									branch_ZPlusMirth_219 = branch_ZPlusMirth_204;
									branch_DName_218 = branch_DName_203;
									branch_List_217 = branch_List_202;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							bool v227 = true;
							branch_Bool_147 = v227;
							branch_List_146 = v148;
							branch_List_145 = branch_List_222;
							branch_List_144 = branch_List_221;
							branch_ZPlusResolveDef_143 = branch_ZPlusResolveDef_220;
							branch_ZPlusMirth_142 = branch_ZPlusMirth_219;
							branch_DName_141 = branch_DName_218;
							branch_List_140 = branch_List_217;
						} break;
						case 0LL: { // Nil
							PTUP v228 = PTRMK(0LL /* Nil */,0,0);
							bool v229 = false;
							branch_Bool_147 = v229;
							branch_List_146 = v228;
							branch_List_145 = v137;
							branch_List_144 = v136;
							branch_ZPlusResolveDef_143 = r134;
							branch_ZPlusMirth_142 = r133;
							branch_DName_141 = v135;
							branch_List_140 = v132;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v131 = branch_Bool_147;
					v130 = branch_Bool_147;
					v129 = branch_List_146;
					v128 = branch_List_145;
					v127 = branch_List_144;
					v126 = branch_DName_141;
					r125 = branch_ZPlusResolveDef_143;
					r124 = branch_ZPlusMirth_142;
					v123 = branch_List_140;
				}
				decref(MKTUP(v129));
				PTUP v230 = mw_std_list_List_1_reverse(v127);
				PTUP v231 = mw_std_list_List_1_reverse(v128);
				PTUP v232 = VTUP(((TUP*)PTRPTR(r125))->cells[4]);
				incref(MKTUP(v232));
				PTUP v233 = mw_std_list_List_1_cat(v230, v232);
				PTUP v234 = VTUP(((TUP*)PTRPTR(r125))->cells[4]);
				decref(MKTUP(v234));
				((TUP*)PTRPTR(r125))->cells[4] = MKTUP(v233);
				PTUP v235 = VTUP(((TUP*)PTRPTR(r125))->cells[3]);
				decref(MKTUP(v235));
				((TUP*)PTRPTR(r125))->cells[3] = MKTUP(v231);
				branch_ZPlusResolveDef_118 = r125;
				branch_DName_117 = v126;
				branch_List_116 = v123;
				branch_ZPlusMirth_115 = r124;
			} else {
				PTUP v236 = VTUP(((TUP*)PTRPTR(branch_ZPlusResolveDef_110))->cells[3]);
				incref(MKTUP(v236));
				PTUP v237 = PTRMK(0LL /* Nil */,0,0);
				PTUP v238 = PTRMK(0LL /* Nil */,0,0);
				bool v239 = true;
				PTUP r240 = in_ZPlusMirth_1;
				PTUP r241 = branch_ZPlusResolveDef_110;
				PTUP v242 = VTUP(v108);
				PTUP v243 = VTUP(MKTUP(v237));
				PTUP v244 = VTUP(MKTUP(v238));
				PTUP v245 = VTUP(MKTUP(v236));
				bool v246 = v239;
				bool v247 = v239;
				while (v247) {
					PTUP r248 = r240;
					PTUP r249 = r241;
					PTUP v250 = v242;
					PTUP v251 = v243;
					PTUP v252 = v244;
					PTUP v253 = v245;
					bool v254 = v246;
					PTUP branch_DName_255;
					PTUP branch_ZPlusMirth_256;
					PTUP branch_ZPlusResolveDef_257;
					PTUP branch_List_258;
					PTUP branch_List_259;
					PTUP branch_List_260;
					bool branch_Bool_261;
					switch (PTREXTRA(v253)) {
						case 1LL: { // Cons
							PTUP v262;
							VAL v263 = mtp_std_list_List_1_Cons(v253, &v262);
							incref(MKTUP(v250));
							incref(MKTUP(VTUP(v263)));
							PTUP v264;
							PTUP v265 = mw_mirth_def_Def_qnameZ_hard(r248, VTUP(MKTUP(VTUP(v263))), &v264);
							PTUP v266;
							PTUP v267;
							PTUP v268 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v264, r249, VTUP(MKTUP(v250)), v265, &v266, &v267);
							PTUP v269 = PTRMK(0LL /* None */,0,0);
							bool v270 = true;
							PTUP r271 = v266;
							PTUP r272 = v267;
							PTUP v273 = v269;
							PTUP v274 = v268;
							bool v275 = v270;
							bool v276 = v270;
							while (v276) {
								PTUP r277 = r271;
								PTUP r278 = r272;
								PTUP v279 = v273;
								PTUP v280 = v274;
								bool v281 = v275;
								PTUP v282;
								PTUP v283 = mw_std_list_List_1_uncons(v280, &v282);
								PTUP branch_ZPlusMirth_284;
								PTUP branch_ZPlusResolveDef_285;
								PTUP branch_Maybe_286;
								PTUP branch_List_287;
								bool branch_Bool_288;
								switch (PTREXTRA(v283)) {
									case 1LL: { // Some
										VAL v289 = mtp_std_maybe_Maybe_1_Some(v283);
										incref(MKTUP(VTUP(v289)));
										uint64_t v290 = value_u64(((TUP*)PTRPTR(r278))->cells[1]);
										PTUP v291;
										bool v292 = mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk(r277, v290, VTUP(v289), &v291);
										PTUP branch_ZPlusMirth_293;
										PTUP branch_ZPlusResolveDef_294;
										PTUP branch_Maybe_295;
										if (v292) {
											PTUP v296 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v289)));
											branch_Maybe_295 = v296;
											branch_ZPlusResolveDef_294 = r278;
											branch_ZPlusMirth_293 = v291;
										} else {
											decref(MKTUP(VTUP(v289)));
											PTUP v297 = PTRMK(0LL /* None */,0,0);
											branch_Maybe_295 = v297;
											branch_ZPlusResolveDef_294 = r278;
											branch_ZPlusMirth_293 = v291;
										}
										PTUP branch_ZPlusMirth_298;
										PTUP branch_ZPlusResolveDef_299;
										PTUP branch_Maybe_300;
										PTUP branch_List_301;
										switch (PTREXTRA(branch_Maybe_295)) {
											case 0LL: { // None
												branch_List_301 = VTUP(MKTUP(v282));
												branch_Maybe_300 = VTUP(MKTUP(v279));
												branch_ZPlusResolveDef_299 = branch_ZPlusResolveDef_294;
												branch_ZPlusMirth_298 = branch_ZPlusMirth_293;
											} break;
											default: {
												decref(MKTUP(VTUP(MKTUP(v282))));
												decref(MKTUP(VTUP(MKTUP(v279))));
												PTUP v302 = PTRMK(0LL /* Nil */,0,0);
												branch_List_301 = v302;
												branch_Maybe_300 = branch_Maybe_295;
												branch_ZPlusResolveDef_299 = branch_ZPlusResolveDef_294;
												branch_ZPlusMirth_298 = branch_ZPlusMirth_293;
											} break;
										}
										bool v303 = true;
										branch_Bool_288 = v303;
										branch_List_287 = branch_List_301;
										branch_Maybe_286 = branch_Maybe_300;
										branch_ZPlusResolveDef_285 = branch_ZPlusResolveDef_299;
										branch_ZPlusMirth_284 = branch_ZPlusMirth_298;
									} break;
									case 0LL: { // None
										bool v304 = false;
										branch_Bool_288 = v304;
										branch_List_287 = v282;
										branch_Maybe_286 = v279;
										branch_ZPlusResolveDef_285 = r278;
										branch_ZPlusMirth_284 = r277;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								v276 = branch_Bool_288;
								v275 = branch_Bool_288;
								v274 = branch_List_287;
								v273 = branch_Maybe_286;
								r272 = branch_ZPlusResolveDef_285;
								r271 = branch_ZPlusMirth_284;
							}
							decref(MKTUP(v274));
							int64_t v305 = PTREXTRA(v273);
							decref(MKTUP(v273));
							INT v306 = WRAP_I63(0LL);
							INT v307 = v306;
							INT v308 = i64_to_int(v305);
							bool v309 = int_eq(v308, v307);
							bool v310 = !v309;
							PTUP branch_DName_311;
							PTUP branch_ZPlusMirth_312;
							PTUP branch_ZPlusResolveDef_313;
							PTUP branch_Either_314;
							if (v310) {
								PTUP v315 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(VTUP(v263)))));
								branch_Either_314 = v315;
								branch_ZPlusResolveDef_313 = r272;
								branch_ZPlusMirth_312 = r271;
								branch_DName_311 = VTUP(MKTUP(v250));
							} else {
								PTUP v316 = mtw_mirth_elab_RejectedDef_NotImported(VTUP(MKTUP(VTUP(v263))));
								PTUP v317 = mtw_std_either_Either_2_Left(MKTUP(v316));
								branch_Either_314 = v317;
								branch_ZPlusResolveDef_313 = r272;
								branch_ZPlusMirth_312 = r271;
								branch_DName_311 = VTUP(MKTUP(v250));
							}
							PTUP branch_DName_318;
							PTUP branch_ZPlusMirth_319;
							PTUP branch_ZPlusResolveDef_320;
							PTUP branch_List_321;
							PTUP branch_List_322;
							switch (PTREXTRA(branch_Either_314)) {
								case 0LL: { // Left
									VAL v323 = mtp_std_either_Either_2_Left(branch_Either_314);
									PTUP v324 = mw_std_list_List_1_cons(MKTUP(VTUP(v323)), VTUP(MKTUP(v251)));
									branch_List_322 = VTUP(MKTUP(v252));
									branch_List_321 = v324;
									branch_ZPlusResolveDef_320 = branch_ZPlusResolveDef_313;
									branch_ZPlusMirth_319 = branch_ZPlusMirth_312;
									branch_DName_318 = branch_DName_311;
								} break;
								case 1LL: { // Right
									VAL v325 = mtp_std_either_Either_2_Right(branch_Either_314);
									PTUP v326 = mw_std_list_List_1_cons(MKTUP(VTUP(v325)), VTUP(MKTUP(v252)));
									branch_List_322 = v326;
									branch_List_321 = VTUP(MKTUP(v251));
									branch_ZPlusResolveDef_320 = branch_ZPlusResolveDef_313;
									branch_ZPlusMirth_319 = branch_ZPlusMirth_312;
									branch_DName_318 = branch_DName_311;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							bool v327 = true;
							branch_Bool_261 = v327;
							branch_List_260 = v262;
							branch_List_259 = branch_List_322;
							branch_List_258 = branch_List_321;
							branch_ZPlusResolveDef_257 = branch_ZPlusResolveDef_320;
							branch_ZPlusMirth_256 = branch_ZPlusMirth_319;
							branch_DName_255 = branch_DName_318;
						} break;
						case 0LL: { // Nil
							PTUP v328 = PTRMK(0LL /* Nil */,0,0);
							bool v329 = false;
							branch_Bool_261 = v329;
							branch_List_260 = v328;
							branch_List_259 = v252;
							branch_List_258 = v251;
							branch_ZPlusResolveDef_257 = r249;
							branch_ZPlusMirth_256 = r248;
							branch_DName_255 = v250;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v247 = branch_Bool_261;
					v246 = branch_Bool_261;
					v245 = branch_List_260;
					v244 = branch_List_259;
					v243 = branch_List_258;
					v242 = branch_DName_255;
					r241 = branch_ZPlusResolveDef_257;
					r240 = branch_ZPlusMirth_256;
				}
				decref(MKTUP(v245));
				PTUP v330 = mw_std_list_List_1_reverse(v243);
				PTUP v331 = mw_std_list_List_1_reverse(v244);
				PTUP v332 = VTUP(((TUP*)PTRPTR(r241))->cells[4]);
				incref(MKTUP(v332));
				PTUP v333 = mw_std_list_List_1_cat(v330, v332);
				PTUP v334 = VTUP(((TUP*)PTRPTR(r241))->cells[4]);
				decref(MKTUP(v334));
				((TUP*)PTRPTR(r241))->cells[4] = MKTUP(v333);
				PTUP v335 = VTUP(((TUP*)PTRPTR(r241))->cells[3]);
				decref(MKTUP(v335));
				((TUP*)PTRPTR(r241))->cells[3] = MKTUP(v331);
				branch_ZPlusResolveDef_118 = r241;
				branch_DName_117 = v242;
				branch_List_116 = in_List_3;
				branch_ZPlusMirth_115 = r240;
			}
			decref(MKTUP(branch_DName_117));
			branch_ZPlusResolveDef_9 = branch_ZPlusResolveDef_118;
			branch_List_8 = branch_List_116;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_115;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKTUP(branch_List_8));
	*out_ZPlusResolveDef_5 = branch_ZPlusResolveDef_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static PTUP mw_mirth_elab_ZPlusResolveDef_endZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[3]);
	incref(MKTUP(v5));
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Maybe_7;
	switch (PTREXTRA(v5)) {
		case 0LL: { // Nil
			PTUP v8;
			mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown(in_ZPlusMirth_1, in_ZPlusResolveDef_2, &v8);
			PTUP v9 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // Cons
			PTUP v10;
			VAL v11 = mtp_std_list_List_1_Cons(v5, &v10);
			PTUP branch_ZPlusMirth_12;
			PTUP branch_Maybe_13;
			switch (PTREXTRA(v10)) {
				case 0LL: { // Nil
					mw_mirth_elab_ZPlusResolveDef_rdrop(in_ZPlusResolveDef_2);
					PTUP v14 = mtw_std_maybe_Maybe_1_Some(v11);
					branch_Maybe_13 = v14;
					branch_ZPlusMirth_12 = in_ZPlusMirth_1;
				} break;
				default: {
					PTUP v15 = PTRMK(0LL /* Nil */,0,0);
					PTUP v16;
					mw_std_list_List_1_buildZBang(v15, &v16);
					bool v17 = true;
					PTUP r18 = in_ZPlusMirth_1;
					VAL r19 = MKTUP(in_ZPlusResolveDef_2);
					PTUP v20 = VTUP(v11);
					PTUP r21 = v16;
					PTUP v22 = v10;
					bool v23 = v17;
					bool v24 = v17;
					while (v24) {
						PTUP r25 = r18;
						VAL r26 = r19;
						PTUP v27 = v20;
						PTUP r28 = r21;
						PTUP v29 = v22;
						bool v30 = v23;
						PTUP branch_Def_31;
						PTUP branch_ZPlusMirth_32;
						VAL branch_z_x1_33;
						PTUP branch_ZPlusLister_34;
						PTUP branch_List_35;
						bool branch_Bool_36;
						switch (PTREXTRA(v29)) {
							case 1LL: { // Cons
								PTUP v37;
								VAL v38 = mtp_std_list_List_1_Cons(v29, &v37);
								incref(MKTUP(VTUP(v38)));
								incref(MKTUP(v27));
								PTUP v39;
								bool v40 = mw_mirth_def_Def_sameZ_resolvedZAsk(r25, VTUP(MKTUP(VTUP(v38))), VTUP(MKTUP(v27)), &v39);
								bool v41 = !v40;
								PTUP branch_Def_42;
								PTUP branch_ZPlusMirth_43;
								VAL branch_z_x1_44;
								PTUP branch_ZPlusLister_45;
								if (v41) {
									PTUP v46;
									mw_std_list_ZPlusLister_1_pushZBang(MKTUP(VTUP(v38)), r28, &v46);
									branch_ZPlusLister_45 = v46;
									branch_z_x1_44 = r26;
									branch_ZPlusMirth_43 = v39;
									branch_Def_42 = VTUP(MKTUP(v27));
								} else {
									decref(MKTUP(VTUP(v38)));
									branch_ZPlusLister_45 = r28;
									branch_z_x1_44 = r26;
									branch_ZPlusMirth_43 = v39;
									branch_Def_42 = VTUP(MKTUP(v27));
								}
								bool v47 = true;
								branch_Bool_36 = v47;
								branch_List_35 = v37;
								branch_ZPlusLister_34 = branch_ZPlusLister_45;
								branch_z_x1_33 = branch_z_x1_44;
								branch_ZPlusMirth_32 = branch_ZPlusMirth_43;
								branch_Def_31 = branch_Def_42;
							} break;
							case 0LL: { // Nil
								PTUP v48 = PTRMK(0LL /* Nil */,0,0);
								bool v49 = false;
								branch_Bool_36 = v49;
								branch_List_35 = v48;
								branch_ZPlusLister_34 = r28;
								branch_z_x1_33 = r26;
								branch_ZPlusMirth_32 = r25;
								branch_Def_31 = v27;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v24 = branch_Bool_36;
						v23 = branch_Bool_36;
						v22 = branch_List_35;
						r21 = branch_ZPlusLister_34;
						v20 = branch_Def_31;
						r19 = branch_z_x1_33;
						r18 = branch_ZPlusMirth_32;
					}
					decref(MKTUP(v22));
					PTUP v50 = mw_std_list_ZPlusLister_1_doneZBang(r21);
					PTUP branch_ZPlusMirth_51;
					PTUP branch_Maybe_52;
					switch (PTREXTRA(v50)) {
						case 0LL: { // Nil
							mw_mirth_elab_ZPlusResolveDef_rdrop(VTUP(r19));
							PTUP v53 = mtw_std_maybe_Maybe_1_Some(MKTUP(v20));
							branch_Maybe_52 = v53;
							branch_ZPlusMirth_51 = r18;
						} break;
						default: {
							decref(MKTUP(v50));
							decref(MKTUP(v20));
							PTUP v54;
							mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous(r18, VTUP(r19), &v54);
							PTUP v55 = PTRMK(0LL /* None */,0,0);
							branch_Maybe_52 = v55;
							branch_ZPlusMirth_51 = v54;
						} break;
					}
					branch_Maybe_13 = branch_Maybe_52;
					branch_ZPlusMirth_12 = branch_ZPlusMirth_51;
				} break;
			}
			branch_Maybe_7 = branch_Maybe_13;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3) {
	bool v4 = value_bool(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[6]);
	PTUP branch_ZPlusMirth_5;
	PTUP branch_ZPlusResolveDef_6;
	if (v4) {
		uint64_t v7 = value_u64(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[1]);
		STR* v8;
		STRLIT(v8, "", 0);
		STR* v9;
		STRLIT(v9, "Can't resolve ", 14);
		STR* v10;
		mw_std_str_ZPlusStr_pushZ_strZBang(v9, v8, &v10);
		STR* v11 = value_str(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[0]);
		incref(MKSTR(v11));
		STR* v12;
		mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
		STR* v13;
		STRLIT(v13, " due to previous errors. Candidates are:", 40);
		STR* v14;
		mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
		STR* v15;
		STRLIT(v15, " ", 1);
		PTUP v16 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[3]);
		incref(MKTUP(v16));
		PTUP v17;
		VAL v18;
		STR* v19;
		STR* v20 = mw_std_list_List_1_for_1_sp88(in_ZPlusMirth_1, MKTUP(in_ZPlusResolveDef_2), v14, v15, v16, &v17, &v18, &v19);
		decref(MKSTR(v20));
		PTUP v21;
		mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(v17, v7, v19, &v21);
		branch_ZPlusResolveDef_6 = VTUP(v18);
		branch_ZPlusMirth_5 = v21;
	} else {
		uint64_t v22 = value_u64(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[1]);
		STR* v23;
		STRLIT(v23, "", 0);
		STR* v24;
		STRLIT(v24, "Ambiguous ", 10);
		STR* v25;
		mw_std_str_ZPlusStr_pushZ_strZBang(v24, v23, &v25);
		STR* v26 = value_str(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[0]);
		incref(MKSTR(v26));
		STR* v27;
		mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
		STR* v28;
		STRLIT(v28, ". Can't decide between:", 23);
		STR* v29;
		mw_std_str_ZPlusStr_pushZ_strZBang(v28, v27, &v29);
		STR* v30;
		STRLIT(v30, " ", 1);
		PTUP v31 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[3]);
		incref(MKTUP(v31));
		PTUP v32;
		VAL v33;
		STR* v34;
		STR* v35 = mw_std_list_List_1_for_1_sp88(in_ZPlusMirth_1, MKTUP(in_ZPlusResolveDef_2), v29, v30, v31, &v32, &v33, &v34);
		decref(MKSTR(v35));
		PTUP v36;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v32, v22, v34, &v36);
		branch_ZPlusResolveDef_6 = VTUP(v33);
		branch_ZPlusMirth_5 = v36;
	}
	mw_mirth_elab_ZPlusResolveDef_rdrop(branch_ZPlusResolveDef_6);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
}
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP *out_ZPlusMirth_3) {
	uint64_t v4 = value_u64(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[1]);
	STR* v5;
	STRLIT(v5, "", 0);
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[4]);
	incref(MKTUP(v6));
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusResolveDef_8;
	STR* branch_ZPlusStr_9;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Nil
			STR* v10;
			STRLIT(v10, "Unknown ", 8);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(v10, v5, &v11);
			STR* v12 = value_str(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[0]);
			incref(MKSTR(v12));
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			STR* v14;
			STRLIT(v14, " name, possibly a misspelling.", 30);
			STR* v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
			branch_ZPlusStr_9 = v15;
			branch_ZPlusResolveDef_8 = in_ZPlusResolveDef_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Cons
			PTUP v16;
			VAL v17 = mtp_std_list_List_1_Cons(v6, &v16);
			PTUP branch_ZPlusMirth_18;
			PTUP branch_ZPlusResolveDef_19;
			STR* branch_ZPlusStr_20;
			switch (PTREXTRA(v16)) {
				case 0LL: { // Nil
					PTUP branch_ZPlusMirth_21;
					PTUP branch_ZPlusResolveDef_22;
					STR* branch_ZPlusStr_23;
					switch (PTREXTRA(VTUP(v17))) {
						case 0LL: { // WrongSort
							PTUP v24 = mtp_mirth_elab_RejectedDef_WrongSort(VTUP(v17));
							STR* v25;
							STRLIT(v25, "Expected a ", 11);
							STR* v26;
							mw_std_str_ZPlusStr_pushZ_strZBang(v25, v5, &v26);
							STR* v27 = value_str(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[0]);
							incref(MKSTR(v27));
							STR* v28;
							mw_std_str_ZPlusStr_pushZ_strZBang(v27, v26, &v28);
							STR* v29;
							STRLIT(v29, ", but ", 6);
							STR* v30;
							mw_std_str_ZPlusStr_pushZ_strZBang(v29, v28, &v30);
							PTUP v31;
							STR* v32;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v30, v24, &v31, &v32);
							STR* v33;
							STRLIT(v33, " is not a ", 10);
							STR* v34;
							mw_std_str_ZPlusStr_pushZ_strZBang(v33, v32, &v34);
							STR* v35 = value_str(((TUP*)PTRPTR(VTUP(MKTUP(in_ZPlusResolveDef_2))))->cells[0]);
							incref(MKSTR(v35));
							STR* v36;
							mw_std_str_ZPlusStr_pushZ_strZBang(v35, v34, &v36);
							STR* v37;
							STRLIT(v37, ".", 1);
							STR* v38;
							mw_std_str_ZPlusStr_pushZ_strZBang(v37, v36, &v38);
							branch_ZPlusStr_23 = v38;
							branch_ZPlusResolveDef_22 = VTUP(MKTUP(in_ZPlusResolveDef_2));
							branch_ZPlusMirth_21 = v31;
						} break;
						case 2LL: { // NotVisible
							PTUP v39 = mtp_mirth_elab_RejectedDef_NotVisible(VTUP(v17));
							STR* v40;
							STRLIT(v40, "Not visible in current scope: ", 30);
							STR* v41;
							mw_std_str_ZPlusStr_pushZ_strZBang(v40, v5, &v41);
							PTUP v42;
							STR* v43;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v41, v39, &v42, &v43);
							branch_ZPlusStr_23 = v43;
							branch_ZPlusResolveDef_22 = VTUP(MKTUP(in_ZPlusResolveDef_2));
							branch_ZPlusMirth_21 = v42;
						} break;
						case 3LL: { // NotImported
							PTUP v44 = mtp_mirth_elab_RejectedDef_NotImported(VTUP(v17));
							STR* v45;
							STRLIT(v45, "Not imported in current scope: ", 31);
							STR* v46;
							mw_std_str_ZPlusStr_pushZ_strZBang(v45, v5, &v46);
							PTUP v47;
							STR* v48;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v46, v44, &v47, &v48);
							branch_ZPlusStr_23 = v48;
							branch_ZPlusResolveDef_22 = VTUP(MKTUP(in_ZPlusResolveDef_2));
							branch_ZPlusMirth_21 = v47;
						} break;
						case 1LL: { // WrongArity
							PTUP v49 = mtp_mirth_elab_RejectedDef_WrongArity(VTUP(v17));
							PTUP v50;
							PTUP v51 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v49, &v50);
							incref(MKTUP(v51));
							PTUP v52;
							STR* v53;
							mw_mirth_name_QName_qnameZThen(v50, value_str(MKSTR(v5)), v51, &v52, &v53);
							STR* v54;
							STRLIT(v54, " expects ", 9);
							STR* v55;
							mw_std_str_ZPlusStr_pushZ_strZBang(v54, v53, &v55);
							INT v56 = value_int(((TUP*)PTRPTR(v51))->cells[2]);
							incref(MKINT(v56));
							decref(MKTUP(v51));
							STR* v57 = int_to_str(v56);
							STR* v58;
							mw_std_str_ZPlusStr_pushZ_strZBang(v57, v55, &v58);
							STR* v59;
							STRLIT(v59, " arguments, but got ", 20);
							STR* v60;
							mw_std_str_ZPlusStr_pushZ_strZBang(v59, v58, &v60);
							uint64_t v61 = value_u64(((TUP*)PTRPTR(VTUP(MKTUP(in_ZPlusResolveDef_2))))->cells[1]);
							PTUP v62;
							INT v63 = mw_mirth_token_Token_numZ_args(v52, v61, &v62);
							INT v64 = v63;
							STR* v65 = int_to_str(v64);
							STR* v66;
							mw_std_str_ZPlusStr_pushZ_strZBang(v65, value_str(MKSTR(v60)), &v66);
							STR* v67;
							STRLIT(v67, ".", 1);
							STR* v68;
							mw_std_str_ZPlusStr_pushZ_strZBang(v67, v66, &v68);
							branch_ZPlusStr_23 = v68;
							branch_ZPlusResolveDef_22 = VTUP(MKTUP(VTUP(MKTUP(in_ZPlusResolveDef_2))));
							branch_ZPlusMirth_21 = v62;
						} break;
						case 4LL: { // WrongQualifier
							PTUP v69 = mtp_mirth_elab_RejectedDef_WrongQualifier(VTUP(v17));
							STR* v70;
							STRLIT(v70, "Qualified name not found. Perhaps you meant: ", 45);
							STR* v71;
							mw_std_str_ZPlusStr_pushZ_strZBang(v70, v5, &v71);
							PTUP v72;
							STR* v73;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v71, v69, &v72, &v73);
							branch_ZPlusStr_23 = v73;
							branch_ZPlusResolveDef_22 = VTUP(MKTUP(in_ZPlusResolveDef_2));
							branch_ZPlusMirth_21 = v72;
						} break;
						case 5LL: { // WrongConstructor
							PTUP v74 = mtp_mirth_elab_RejectedDef_WrongConstructor(VTUP(v17));
							STR* v75;
							STRLIT(v75, "Constructor is for a different type: ", 37);
							STR* v76;
							mw_std_str_ZPlusStr_pushZ_strZBang(v75, v5, &v76);
							PTUP v77;
							STR* v78;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v76, v74, &v77, &v78);
							branch_ZPlusStr_23 = v78;
							branch_ZPlusResolveDef_22 = VTUP(MKTUP(in_ZPlusResolveDef_2));
							branch_ZPlusMirth_21 = v77;
						} break;
						case 7LL: { // MethodWrongType
							PTUP v79;
							PTUP v80 = mtp_mirth_elab_RejectedDef_MethodWrongType(VTUP(v17), &v79);
							STR* v81;
							STRLIT(v81, "Method ", 7);
							STR* v82;
							mw_std_str_ZPlusStr_pushZ_strZBang(v81, v5, &v82);
							PTUP v83;
							STR* v84;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v82, v80, &v83, &v84);
							STR* v85;
							STRLIT(v85, " does not match [", 17);
							STR* v86;
							mw_std_str_ZPlusStr_pushZ_strZBang(v85, v84, &v86);
							PTUP v87;
							VAL v88;
							STR* v89;
							mw_std_list_List_1_for_2_sp3(v83, MKTUP(in_ZPlusResolveDef_2), v86, v79, &v87, &v88, &v89);
							STR* v90;
							STRLIT(v90, "]", 1);
							STR* v91;
							mw_std_str_ZPlusStr_pushZ_strZBang(v90, v89, &v91);
							branch_ZPlusStr_23 = v91;
							branch_ZPlusResolveDef_22 = VTUP(v88);
							branch_ZPlusMirth_21 = v87;
						} break;
						case 6LL: { // MethodNotAvailable
							PTUP v92 = mtp_mirth_elab_RejectedDef_MethodNotAvailable(VTUP(v17));
							STR* v93;
							STRLIT(v93, "Method is not available for current stack: ", 43);
							STR* v94;
							mw_std_str_ZPlusStr_pushZ_strZBang(v93, v5, &v94);
							PTUP v95;
							STR* v96;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v94, v92, &v95, &v96);
							branch_ZPlusStr_23 = v96;
							branch_ZPlusResolveDef_22 = VTUP(MKTUP(in_ZPlusResolveDef_2));
							branch_ZPlusMirth_21 = v95;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusStr_20 = branch_ZPlusStr_23;
					branch_ZPlusResolveDef_19 = branch_ZPlusResolveDef_22;
					branch_ZPlusMirth_18 = branch_ZPlusMirth_21;
				} break;
				default: {
					PTUP v97 = mw_std_list_List_1_cons(v17, v16);
					STR* v98;
					STRLIT(v98, "Multiple definitions for name, but none are suitable:", 53);
					STR* v99;
					mw_std_str_ZPlusStr_pushZ_strZBang(v98, v5, &v99);
					PTUP v100 = PTRMK(0LL /* Nil */,0,0);
					incref(MKTUP(v97));
					PTUP v101 = PTRMK(0LL /* Nil */,0,0);
					PTUP v102;
					mw_std_list_List_1_buildZBang(v101, &v102);
					bool v103 = true;
					PTUP v104 = v100;
					PTUP r105 = v102;
					PTUP v106 = v97;
					bool v107 = v103;
					bool v108 = v103;
					while (v108) {
						PTUP v109 = v104;
						PTUP r110 = r105;
						PTUP v111 = v106;
						bool v112 = v107;
						PTUP branch_List_113;
						PTUP branch_ZPlusLister_114;
						PTUP branch_List_115;
						bool branch_Bool_116;
						switch (PTREXTRA(v111)) {
							case 1LL: { // Cons
								PTUP v117;
								VAL v118 = mtp_std_list_List_1_Cons(v111, &v117);
								PTUP branch_List_119;
								PTUP branch_Maybe_120;
								switch (PTREXTRA(VTUP(v118))) {
									case 7LL: { // MethodWrongType
										PTUP v121;
										PTUP v122 = mtp_mirth_elab_RejectedDef_MethodWrongType(VTUP(v118), &v121);
										decref(MKTUP(v109));
										PTUP v123 = mtw_std_maybe_Maybe_1_Some(MKTUP(v122));
										branch_Maybe_120 = v123;
										branch_List_119 = v121;
									} break;
									default: {
										decref(MKTUP(VTUP(v118)));
										PTUP v124 = PTRMK(0LL /* None */,0,0);
										branch_Maybe_120 = v124;
										branch_List_119 = v109;
									} break;
								}
								PTUP v125;
								mw_std_maybe_Maybe_1_for_1_sp2(r110, branch_Maybe_120, &v125);
								bool v126 = true;
								branch_Bool_116 = v126;
								branch_List_115 = v117;
								branch_ZPlusLister_114 = v125;
								branch_List_113 = branch_List_119;
							} break;
							case 0LL: { // Nil
								PTUP v127 = PTRMK(0LL /* Nil */,0,0);
								bool v128 = false;
								branch_Bool_116 = v128;
								branch_List_115 = v127;
								branch_ZPlusLister_114 = r110;
								branch_List_113 = v109;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v108 = branch_Bool_116;
						v107 = branch_Bool_116;
						v106 = branch_List_115;
						r105 = branch_ZPlusLister_114;
						v104 = branch_List_113;
					}
					decref(MKTUP(v106));
					PTUP v129 = mw_std_list_ZPlusLister_1_doneZBang(r105);
					STR* v130;
					STRLIT(v130, " ", 1);
					PTUP v131 = mw_std_list_List_1_ZToNestZAsk(v129);
					PTUP branch_ZPlusMirth_132;
					PTUP branch_ZPlusResolveDef_133;
					PTUP branch_List_134;
					STR* branch_ZPlusStr_135;
					STR* branch_Str_136;
					switch (PTREXTRA(v131)) {
						case 1LL: { // Some
							VAL v137 = mtp_std_maybe_Maybe_1_Some(v131);
							STR* v138;
							mw_std_str_ZPlusStr_pushZ_strZBang(v130, v99, &v138);
							STR* v139;
							STRLIT(v139, "Method ", 7);
							STR* v140;
							mw_std_str_ZPlusStr_pushZ_strZBang(v139, v138, &v140);
							PTUP v141 = VTUP(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[2]);
							incref(MKTUP(v141));
							uint64_t v142 = mw_std_either_Either_2_left_1_sp1(v141);
							PTUP v143;
							STR* v144;
							mw_mirth_name_Name_nameZThen(in_ZPlusMirth_1, v140, v142, &v143, &v144);
							STR* v145;
							STRLIT(v145, " is for different type \xE2\x80\x93\xC2\xA0\x65xpected one of", 43);
							STR* v146;
							mw_std_str_ZPlusStr_pushZ_strZBang(v145, v144, &v146);
							PTUP v147;
							VAL v148 = mw_std_list_Nest_1_uncons(VTUP(v137), &v147);
							STR* v149;
							STRLIT(v149, " ", 1);
							STR* v150;
							mw_std_str_ZPlusStr_pushZ_strZBang(v149, v146, &v150);
							PTUP v151;
							PTUP v152 = mw_mirth_def_Def_qnameZ_hard(v143, VTUP(v148), &v151);
							PTUP v153 = VTUP(((TUP*)PTRPTR(v152))->cells[0]);
							incref(MKTUP(v153));
							decref(MKTUP(v152));
							PTUP v154;
							STR* v155;
							mw_mirth_name_Namespace_qnameZThen(v151, v150, v153, &v154, &v155);
							bool v156 = true;
							PTUP r157 = v154;
							VAL r158 = MKTUP(in_ZPlusResolveDef_2);
							STR* r159 = v155;
							PTUP v160 = v147;
							bool v161 = v156;
							bool v162 = v156;
							while (v162) {
								PTUP r163 = r157;
								VAL r164 = r158;
								STR* r165 = r159;
								PTUP v166 = v160;
								bool v167 = v161;
								PTUP branch_ZPlusMirth_168;
								VAL branch_z_x1_169;
								STR* branch_ZPlusStr_170;
								PTUP branch_List_171;
								bool branch_Bool_172;
								switch (PTREXTRA(v166)) {
									case 1LL: { // Cons
										PTUP v173;
										VAL v174 = mtp_std_list_List_1_Cons(v166, &v173);
										STR* v175;
										STRLIT(v175, " ", 1);
										STR* v176;
										mw_std_str_ZPlusStr_pushZ_strZBang(v175, r165, &v176);
										PTUP v177;
										PTUP v178 = mw_mirth_def_Def_qnameZ_hard(r163, VTUP(v174), &v177);
										PTUP v179 = VTUP(((TUP*)PTRPTR(v178))->cells[0]);
										incref(MKTUP(v179));
										decref(MKTUP(v178));
										PTUP v180;
										STR* v181;
										mw_mirth_name_Namespace_qnameZThen(v177, v176, v179, &v180, &v181);
										bool v182 = true;
										branch_Bool_172 = v182;
										branch_List_171 = v173;
										branch_ZPlusStr_170 = v181;
										branch_z_x1_169 = r164;
										branch_ZPlusMirth_168 = v180;
									} break;
									case 0LL: { // Nil
										PTUP v183 = PTRMK(0LL /* Nil */,0,0);
										bool v184 = false;
										branch_Bool_172 = v184;
										branch_List_171 = v183;
										branch_ZPlusStr_170 = r165;
										branch_z_x1_169 = r164;
										branch_ZPlusMirth_168 = r163;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								v162 = branch_Bool_172;
								v161 = branch_Bool_172;
								v160 = branch_List_171;
								r159 = branch_ZPlusStr_170;
								r158 = branch_z_x1_169;
								r157 = branch_ZPlusMirth_168;
							}
							decref(MKTUP(v160));
							STR* v185;
							STRLIT(v185, " but got [", 10);
							STR* v186;
							mw_std_str_ZPlusStr_pushZ_strZBang(v185, r159, &v186);
							incref(MKTUP(v104));
							PTUP v187;
							VAL v188;
							STR* v189;
							mw_std_list_List_1_for_2_sp3(r157, r158, v186, v104, &v187, &v188, &v189);
							STR* v190;
							STRLIT(v190, "]", 1);
							STR* v191;
							mw_std_str_ZPlusStr_pushZ_strZBang(v190, v189, &v191);
							STR* v192;
							STRLIT(v192, ", ", 2);
							branch_Str_136 = v192;
							branch_ZPlusStr_135 = v191;
							branch_List_134 = v104;
							branch_ZPlusResolveDef_133 = VTUP(v188);
							branch_ZPlusMirth_132 = v187;
						} break;
						case 0LL: { // None
							branch_Str_136 = v130;
							branch_ZPlusStr_135 = v99;
							branch_List_134 = v104;
							branch_ZPlusResolveDef_133 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_132 = in_ZPlusMirth_1;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					decref(MKTUP(branch_List_134));
					PTUP v193 = PTRMK(0LL /* Nil */,0,0);
					PTUP v194;
					mw_std_list_List_1_buildZBang(v193, &v194);
					bool v195 = true;
					PTUP r196 = v194;
					PTUP v197 = v97;
					bool v198 = v195;
					bool v199 = v195;
					while (v199) {
						PTUP r200 = r196;
						PTUP v201 = v197;
						bool v202 = v198;
						PTUP branch_ZPlusLister_203;
						PTUP branch_List_204;
						bool branch_Bool_205;
						switch (PTREXTRA(v201)) {
							case 1LL: { // Cons
								PTUP v206;
								VAL v207 = mtp_std_list_List_1_Cons(v201, &v206);
								PTUP branch_Maybe_208;
								switch (PTREXTRA(VTUP(v207))) {
									case 7LL: { // MethodWrongType
										PTUP v209;
										PTUP v210 = mtp_mirth_elab_RejectedDef_MethodWrongType(VTUP(v207), &v209);
										decref(MKTUP(v209));
										decref(MKTUP(v210));
										PTUP v211 = PTRMK(0LL /* None */,0,0);
										branch_Maybe_208 = v211;
									} break;
									default: {
										PTUP v212 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v207)));
										branch_Maybe_208 = v212;
									} break;
								}
								PTUP v213;
								mw_std_maybe_Maybe_1_for_1_sp2(r200, branch_Maybe_208, &v213);
								bool v214 = true;
								branch_Bool_205 = v214;
								branch_List_204 = v206;
								branch_ZPlusLister_203 = v213;
							} break;
							case 0LL: { // Nil
								PTUP v215 = PTRMK(0LL /* Nil */,0,0);
								bool v216 = false;
								branch_Bool_205 = v216;
								branch_List_204 = v215;
								branch_ZPlusLister_203 = r200;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v199 = branch_Bool_205;
						v198 = branch_Bool_205;
						v197 = branch_List_204;
						r196 = branch_ZPlusLister_203;
					}
					decref(MKTUP(v197));
					PTUP v217 = mw_std_list_ZPlusLister_1_doneZBang(r196);
					bool v218 = true;
					PTUP r219 = branch_ZPlusMirth_132;
					PTUP r220 = branch_ZPlusResolveDef_133;
					STR* r221 = branch_ZPlusStr_135;
					STR* v222 = branch_Str_136;
					PTUP v223 = v217;
					bool v224 = v218;
					bool v225 = v218;
					while (v225) {
						PTUP r226 = r219;
						PTUP r227 = r220;
						STR* r228 = r221;
						STR* v229 = v222;
						PTUP v230 = v223;
						bool v231 = v224;
						PTUP branch_ZPlusMirth_232;
						PTUP branch_ZPlusResolveDef_233;
						STR* branch_ZPlusStr_234;
						STR* branch_Str_235;
						PTUP branch_List_236;
						bool branch_Bool_237;
						switch (PTREXTRA(v230)) {
							case 1LL: { // Cons
								PTUP v238;
								VAL v239 = mtp_std_list_List_1_Cons(v230, &v238);
								STR* v240;
								mw_std_str_ZPlusStr_pushZ_strZBang(v229, r228, &v240);
								PTUP branch_ZPlusMirth_241;
								PTUP branch_ZPlusResolveDef_242;
								STR* branch_ZPlusStr_243;
								switch (PTREXTRA(VTUP(v239))) {
									case 0LL: { // WrongSort
										PTUP v244 = mtp_mirth_elab_RejectedDef_WrongSort(VTUP(v239));
										PTUP v245;
										STR* v246;
										mw_mirth_def_Def_qnameZThen(r226, v240, v244, &v245, &v246);
										STR* v247;
										STRLIT(v247, " is not a ", 10);
										STR* v248;
										mw_std_str_ZPlusStr_pushZ_strZBang(v247, v246, &v248);
										STR* v249 = value_str(((TUP*)PTRPTR(VTUP(MKTUP(r227))))->cells[0]);
										incref(MKSTR(v249));
										STR* v250;
										mw_std_str_ZPlusStr_pushZ_strZBang(v249, v248, &v250);
										branch_ZPlusStr_243 = v250;
										branch_ZPlusResolveDef_242 = VTUP(MKTUP(r227));
										branch_ZPlusMirth_241 = v245;
									} break;
									case 2LL: { // NotVisible
										PTUP v251 = mtp_mirth_elab_RejectedDef_NotVisible(VTUP(v239));
										PTUP v252;
										STR* v253;
										mw_mirth_def_Def_qnameZThen(r226, v240, v251, &v252, &v253);
										STR* v254;
										STRLIT(v254, " is not visible in current scope", 32);
										STR* v255;
										mw_std_str_ZPlusStr_pushZ_strZBang(v254, v253, &v255);
										branch_ZPlusStr_243 = v255;
										branch_ZPlusResolveDef_242 = VTUP(MKTUP(r227));
										branch_ZPlusMirth_241 = v252;
									} break;
									case 3LL: { // NotImported
										PTUP v256 = mtp_mirth_elab_RejectedDef_NotImported(VTUP(v239));
										PTUP v257;
										STR* v258;
										mw_mirth_def_Def_qnameZThen(r226, v240, v256, &v257, &v258);
										STR* v259;
										STRLIT(v259, " is not imported in current scope", 33);
										STR* v260;
										mw_std_str_ZPlusStr_pushZ_strZBang(v259, v258, &v260);
										branch_ZPlusStr_243 = v260;
										branch_ZPlusResolveDef_242 = VTUP(MKTUP(r227));
										branch_ZPlusMirth_241 = v257;
									} break;
									case 1LL: { // WrongArity
										PTUP v261 = mtp_mirth_elab_RejectedDef_WrongArity(VTUP(v239));
										PTUP v262;
										PTUP v263 = mw_mirth_def_Def_qnameZ_hard(r226, v261, &v262);
										incref(MKTUP(v263));
										PTUP v264;
										STR* v265;
										mw_mirth_name_QName_qnameZThen(v262, value_str(MKSTR(v240)), v263, &v264, &v265);
										STR* v266;
										STRLIT(v266, " expects ", 9);
										STR* v267;
										mw_std_str_ZPlusStr_pushZ_strZBang(v266, v265, &v267);
										INT v268 = value_int(((TUP*)PTRPTR(v263))->cells[2]);
										incref(MKINT(v268));
										decref(MKTUP(v263));
										STR* v269 = int_to_str(v268);
										STR* v270;
										mw_std_str_ZPlusStr_pushZ_strZBang(v269, v267, &v270);
										STR* v271;
										STRLIT(v271, " arguments", 10);
										STR* v272;
										mw_std_str_ZPlusStr_pushZ_strZBang(v271, v270, &v272);
										branch_ZPlusStr_243 = v272;
										branch_ZPlusResolveDef_242 = VTUP(MKTUP(r227));
										branch_ZPlusMirth_241 = v264;
									} break;
									case 4LL: { // WrongQualifier
										PTUP v273 = mtp_mirth_elab_RejectedDef_WrongQualifier(VTUP(v239));
										PTUP v274;
										STR* v275;
										mw_mirth_def_Def_qnameZThen(r226, v240, v273, &v274, &v275);
										STR* v276;
										STRLIT(v276, " doesn't match the given qualified name", 39);
										STR* v277;
										mw_std_str_ZPlusStr_pushZ_strZBang(v276, v275, &v277);
										branch_ZPlusStr_243 = v277;
										branch_ZPlusResolveDef_242 = VTUP(MKTUP(r227));
										branch_ZPlusMirth_241 = v274;
									} break;
									case 5LL: { // WrongConstructor
										PTUP v278 = mtp_mirth_elab_RejectedDef_WrongConstructor(VTUP(v239));
										PTUP v279;
										STR* v280;
										mw_mirth_def_Def_qnameZThen(r226, v240, v278, &v279, &v280);
										STR* v281;
										STRLIT(v281, " is constructor for a different type", 36);
										STR* v282;
										mw_std_str_ZPlusStr_pushZ_strZBang(v281, v280, &v282);
										branch_ZPlusStr_243 = v282;
										branch_ZPlusResolveDef_242 = VTUP(MKTUP(r227));
										branch_ZPlusMirth_241 = v279;
									} break;
									case 7LL: { // MethodWrongType
										PTUP v283;
										PTUP v284 = mtp_mirth_elab_RejectedDef_MethodWrongType(VTUP(v239), &v283);
										mw_std_prelude_impossibleZBang();
									} break;
									case 6LL: { // MethodNotAvailable
										PTUP v285 = mtp_mirth_elab_RejectedDef_MethodNotAvailable(VTUP(v239));
										PTUP v286;
										STR* v287;
										mw_mirth_def_Def_qnameZThen(r226, v240, v285, &v286, &v287);
										STR* v288;
										STRLIT(v288, " is not avaliable for current stack", 35);
										STR* v289;
										mw_std_str_ZPlusStr_pushZ_strZBang(v288, v287, &v289);
										branch_ZPlusStr_243 = v289;
										branch_ZPlusResolveDef_242 = VTUP(MKTUP(r227));
										branch_ZPlusMirth_241 = v286;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								STR* v290;
								STRLIT(v290, ", ", 2);
								bool v291 = true;
								branch_Bool_237 = v291;
								branch_List_236 = v238;
								branch_Str_235 = v290;
								branch_ZPlusStr_234 = branch_ZPlusStr_243;
								branch_ZPlusResolveDef_233 = branch_ZPlusResolveDef_242;
								branch_ZPlusMirth_232 = branch_ZPlusMirth_241;
							} break;
							case 0LL: { // Nil
								PTUP v292 = PTRMK(0LL /* Nil */,0,0);
								bool v293 = false;
								branch_Bool_237 = v293;
								branch_List_236 = v292;
								branch_Str_235 = v229;
								branch_ZPlusStr_234 = r228;
								branch_ZPlusResolveDef_233 = r227;
								branch_ZPlusMirth_232 = r226;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v225 = branch_Bool_237;
						v224 = branch_Bool_237;
						v223 = branch_List_236;
						v222 = branch_Str_235;
						r221 = branch_ZPlusStr_234;
						r220 = branch_ZPlusResolveDef_233;
						r219 = branch_ZPlusMirth_232;
					}
					decref(MKTUP(v223));
					decref(MKSTR(v222));
					branch_ZPlusStr_20 = r221;
					branch_ZPlusResolveDef_19 = r220;
					branch_ZPlusMirth_18 = r219;
				} break;
			}
			branch_ZPlusStr_9 = branch_ZPlusStr_20;
			branch_ZPlusResolveDef_8 = branch_ZPlusResolveDef_19;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v294;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(branch_ZPlusMirth_7, v4, branch_ZPlusStr_9, &v294);
	mw_mirth_elab_ZPlusResolveDef_rdrop(branch_ZPlusResolveDef_8);
	*out_ZPlusMirth_3 = v294;
}
static bool mw_mirth_name_QName_punningZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_QName_2));
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_QName_2))->cells[0]);
	incref(MKTUP(v5));
	decref(MKTUP(in_QName_2));
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(v5)) {
		case 3LL: { // Tycon
			PTUP v8 = mtp_mirth_name_Namespace_Tycon(v5);
			PTUP v9;
			uint64_t v10 = mw_mirth_tycon_Tycon_name(in_ZPlusMirth_1, v8, &v9);
			uint64_t v11 = value_u64(((TUP*)PTRPTR(in_QName_2))->cells[1]);
			decref(MKTUP(in_QName_2));
			bool v12 = (v11 == v10);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		default: {
			decref(MKTUP(v5));
			decref(MKTUP(in_QName_2));
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_def_Def_punningZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_name_QName_punningZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_Def_3));
	PTUP v6;
	PTUP v7 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_3, &v6);
	PTUP v8 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
	incref(MKTUP(v8));
	decref(MKTUP(v7));
	PTUP branch_ZPlusMirth_9;
	bool branch_Bool_10;
	switch (PTREXTRA(v8)) {
		case 0LL: { // Root
			decref(MKTUP(in_Def_3));
			decref(MKU64(in_Token_2));
			bool v11 = true;
			branch_Bool_10 = v11;
			branch_ZPlusMirth_9 = v6;
		} break;
		case 1LL: { // Package
			uint64_t v12 = mtp_mirth_name_Namespace_Package(v8);
			decref(MKU64(v12));
			decref(MKTUP(in_Def_3));
			decref(MKU64(in_Token_2));
			bool v13 = true;
			branch_Bool_10 = v13;
			branch_ZPlusMirth_9 = v6;
		} break;
		case 2LL: { // Module
			uint64_t v14 = mtp_mirth_name_Namespace_Module(v8);
			decref(MKTUP(in_Def_3));
			PTUP v15;
			bool v16 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(v6, in_Token_2, value_u64(MKU64(v14)), &v15);
			branch_Bool_10 = v16;
			branch_ZPlusMirth_9 = v15;
		} break;
		case 3LL: { // Tycon
			PTUP v17 = mtp_mirth_name_Namespace_Tycon(v8);
			PTUP v18;
			bool v19 = mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk(v6, in_Token_2, v17, &v18);
			PTUP branch_ZPlusMirth_20;
			bool branch_Bool_21;
			if (v19) {
				PTUP v22;
				bool v23 = mw_mirth_def_Def_punningZAsk(v18, in_Def_3, &v22);
				branch_Bool_21 = v23;
				branch_ZPlusMirth_20 = v22;
			} else {
				decref(MKTUP(in_Def_3));
				bool v24 = false;
				branch_Bool_21 = v24;
				branch_ZPlusMirth_20 = v18;
			}
			branch_Bool_10 = branch_Bool_21;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_20;
		} break;
		case 4LL: { // Word
			uint64_t v25 = mtp_mirth_name_Namespace_Word(v8);
			decref(MKU64(v25));
			decref(MKTUP(in_Def_3));
			decref(MKU64(in_Token_2));
			bool v26 = false;
			branch_Bool_10 = v26;
			branch_ZPlusMirth_9 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static bool mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Tycon_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Tycon_3)) {
		case 0LL: { // Data
			uint64_t v8 = mtp_mirth_tycon_Tycon_Data(in_Tycon_3);
			PTUP v9;
			PTUP v10 = mw_mirth_data_Data_headZAsk(in_ZPlusMirth_1, v8, &v9);
			PTUP branch_ZPlusMirth_11;
			bool branch_Bool_12;
			switch (PTREXTRA(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					PTUP v14;
					uint64_t v15 = mw_mirth_token_Token_module(v9, value_u64(v13), &v14);
					PTUP v16;
					bool v17 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(v14, in_Token_2, v15, &v16);
					branch_Bool_12 = v17;
					branch_ZPlusMirth_11 = v16;
				} break;
				case 0LL: { // None
					bool v18 = true;
					branch_Bool_12 = v18;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 1LL: { // Table
			uint64_t v19 = mtp_mirth_tycon_Tycon_Table(in_Tycon_3);
			PTUP v20;
			uint64_t v21 = mw_mirth_table_Table_head(in_ZPlusMirth_1, v19, &v20);
			PTUP v22;
			uint64_t v23 = mw_mirth_token_Token_module(v20, v21, &v22);
			PTUP v24;
			bool v25 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(v22, in_Token_2, v23, &v24);
			branch_Bool_7 = v25;
			branch_ZPlusMirth_6 = v24;
		} break;
		case 2LL: { // Prim
			int64_t v26 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_3);
			decref(MKI64(v26));
			decref(MKU64(in_Token_2));
			bool v27 = true;
			branch_Bool_7 = v27;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Namespace_3)) {
		case 0LL: { // Root
			bool v8 = true;
			branch_Bool_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v9 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			decref(MKU64(v9));
			decref(MKU64(in_Token_2));
			bool v10 = true;
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Module
			uint64_t v11 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			PTUP v12;
			bool v13 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(in_ZPlusMirth_1, in_Token_2, v11, &v12);
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 3LL: { // Tycon
			PTUP v14 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			PTUP v15;
			PTUP v16 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v14, &v15);
			PTUP v17 = VTUP(((TUP*)PTRPTR(v16))->cells[0]);
			incref(MKTUP(v17));
			decref(MKTUP(v16));
			PTUP v18;
			bool v19 = mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk(v15, in_Token_2, v17, &v18);
			branch_Bool_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 4LL: { // Word
			uint64_t v20 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			decref(MKU64(v20));
			decref(MKU64(in_Token_2));
			bool v21 = false;
			branch_Bool_7 = v21;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static PTUP mw_mirth_name_QName_climbZ_upZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_QName_3));
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_QName_3))->cells[1]);
	decref(MKTUP(in_QName_3));
	bool v7 = (in_Name_2 == v6);
	PTUP branch_ZPlusMirth_8;
	uint64_t branch_Name_9;
	PTUP branch_QName_10;
	PTUP branch_List_11;
	if (v7) {
		incref(MKTUP(in_QName_3));
		PTUP v12 = VTUP(((TUP*)PTRPTR(in_QName_3))->cells[0]);
		incref(MKTUP(v12));
		decref(MKTUP(in_QName_3));
		PTUP v13 = PTRMK(0LL /* Nil */,0,0);
		PTUP v14 = mw_std_list_List_1_cons(MKTUP(v12), v13);
		branch_List_11 = v14;
		branch_QName_10 = in_QName_3;
		branch_Name_9 = in_Name_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		PTUP v15 = PTRMK(0LL /* Nil */,0,0);
		branch_List_11 = v15;
		branch_QName_10 = in_QName_3;
		branch_Name_9 = in_Name_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	PTUP v16;
	PTUP v17 = mw_mirth_name_Name_defs(branch_ZPlusMirth_8, branch_Name_9, &v16);
	bool v18 = true;
	PTUP v19 = branch_List_11;
	PTUP v20 = branch_QName_10;
	PTUP r21 = v16;
	PTUP v22 = v17;
	bool v23 = v18;
	bool v24 = v18;
	while (v24) {
		PTUP v25 = v19;
		PTUP v26 = v20;
		PTUP r27 = r21;
		PTUP v28 = v22;
		bool v29 = v23;
		PTUP branch_QName_30;
		PTUP branch_ZPlusMirth_31;
		PTUP branch_List_32;
		PTUP branch_List_33;
		bool branch_Bool_34;
		switch (PTREXTRA(v28)) {
			case 1LL: { // Cons
				PTUP v35;
				VAL v36 = mtp_std_list_List_1_Cons(v28, &v35);
				PTUP branch_QName_37;
				PTUP branch_ZPlusMirth_38;
				PTUP branch_List_39;
				switch (PTREXTRA(VTUP(v36))) {
					case 0LL: { // Alias
						uint64_t v40 = mtp_mirth_def_Def_Alias(VTUP(v36));
						void* v41 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v40);
						PTUP v42;
						PTUP v43 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(r27, v41, &v42);
						PTUP branch_QName_44;
						PTUP branch_ZPlusMirth_45;
						bool branch_Bool_46;
						switch (PTREXTRA(v43)) {
							case 1LL: { // Some
								VAL v47 = mtp_std_maybe_Maybe_1_Some(v43);
								PTUP v48;
								PTUP v49 = mw_mirth_def_Def_qnameZ_hard(v42, VTUP(v47), &v48);
								incref(MKTUP(v26));
								PTUP v50;
								bool v51 = mw_mirth_name_QName_ZEqual(v48, v49, v26, &v50);
								branch_Bool_46 = v51;
								branch_ZPlusMirth_45 = v50;
								branch_QName_44 = v26;
							} break;
							case 0LL: { // None
								bool v52 = false;
								branch_Bool_46 = v52;
								branch_ZPlusMirth_45 = v42;
								branch_QName_44 = v26;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						PTUP branch_QName_53;
						PTUP branch_ZPlusMirth_54;
						PTUP branch_List_55;
						if (branch_Bool_46) {
							PTUP v56;
							PTUP v57 = mw_mirth_alias_Alias_namespace(branch_ZPlusMirth_45, v40, &v56);
							PTUP v58 = mw_std_list_List_1_cons(MKTUP(v57), v25);
							branch_List_55 = v58;
							branch_ZPlusMirth_54 = v56;
							branch_QName_53 = branch_QName_44;
						} else {
							branch_List_55 = v25;
							branch_ZPlusMirth_54 = branch_ZPlusMirth_45;
							branch_QName_53 = branch_QName_44;
						}
						branch_List_39 = branch_List_55;
						branch_ZPlusMirth_38 = branch_ZPlusMirth_54;
						branch_QName_37 = branch_QName_53;
					} break;
					case 5LL: { // Type
						uint64_t v59 = mtp_mirth_def_Def_Type(VTUP(v36));
						PTUP v60;
						PTUP v61 = mw_mirth_typedef_TypeDef_target(r27, v59, &v60);
						PTUP v62;
						PTUP v63 = mw_mirth_type_Type_tyconZAsk(v60, v61, &v62);
						PTUP branch_QName_64;
						PTUP branch_ZPlusMirth_65;
						bool branch_Bool_66;
						switch (PTREXTRA(v63)) {
							case 1LL: { // Some
								VAL v67 = mtp_std_maybe_Maybe_1_Some(v63);
								PTUP v68;
								PTUP v69 = mw_mirth_tycon_Tycon_qnameZ_hard(v62, VTUP(v67), &v68);
								incref(MKTUP(v26));
								PTUP v70;
								bool v71 = mw_mirth_name_QName_ZEqual(v68, v69, v26, &v70);
								branch_Bool_66 = v71;
								branch_ZPlusMirth_65 = v70;
								branch_QName_64 = v26;
							} break;
							case 0LL: { // None
								bool v72 = false;
								branch_Bool_66 = v72;
								branch_ZPlusMirth_65 = v62;
								branch_QName_64 = v26;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						PTUP branch_QName_73;
						PTUP branch_ZPlusMirth_74;
						PTUP branch_List_75;
						if (branch_Bool_66) {
							PTUP v76;
							PTUP v77 = mw_mirth_typedef_TypeDef_namespace(branch_ZPlusMirth_65, v59, &v76);
							PTUP v78 = mw_std_list_List_1_cons(MKTUP(v77), v25);
							branch_List_75 = v78;
							branch_ZPlusMirth_74 = v76;
							branch_QName_73 = branch_QName_64;
						} else {
							branch_List_75 = v25;
							branch_ZPlusMirth_74 = branch_ZPlusMirth_65;
							branch_QName_73 = branch_QName_64;
						}
						branch_List_39 = branch_List_75;
						branch_ZPlusMirth_38 = branch_ZPlusMirth_74;
						branch_QName_37 = branch_QName_73;
					} break;
					default: {
						decref(MKTUP(VTUP(v36)));
						branch_List_39 = v25;
						branch_ZPlusMirth_38 = r27;
						branch_QName_37 = v26;
					} break;
				}
				bool v79 = true;
				branch_Bool_34 = v79;
				branch_List_33 = v35;
				branch_List_32 = branch_List_39;
				branch_ZPlusMirth_31 = branch_ZPlusMirth_38;
				branch_QName_30 = branch_QName_37;
			} break;
			case 0LL: { // Nil
				PTUP v80 = PTRMK(0LL /* Nil */,0,0);
				bool v81 = false;
				branch_Bool_34 = v81;
				branch_List_33 = v80;
				branch_List_32 = v25;
				branch_ZPlusMirth_31 = r27;
				branch_QName_30 = v26;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_34;
		v23 = branch_Bool_34;
		v22 = branch_List_33;
		r21 = branch_ZPlusMirth_31;
		v20 = branch_QName_30;
		v19 = branch_List_32;
	}
	decref(MKTUP(v22));
	decref(MKTUP(v20));
	*out_ZPlusMirth_4 = r21;
	return v19;
}
static PTUP mw_mirth_name_QName_climbZ_upZ_dnameZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusResolveDef_2, PTUP in_DName_3, PTUP in_QName_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusResolveDef_6) {
	incref(MKTUP(in_DName_3));
	PTUP v8 = mw_mirth_name_DName_rootZAsk(in_DName_3);
	PTUP v9 = mw_std_maybe_Maybe_1_ZToList(v8);
	PTUP v10 = mw_mirth_name_DName_parts(in_DName_3);
	VAL v11;
	PTUP v12 = mw_std_list_Nest_1_unsnoc(v10, &v11);
	PTUP v13 = mw_std_list_List_1_cat(v9, v12);
	bool v14 = value_bool(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[5]);
	PTUP branch_ZPlusMirth_15;
	PTUP branch_ZPlusResolveDef_16;
	PTUP branch_List_17;
	VAL branch_z_x1_18;
	if (v14) {
		decref(MKU64(value_u64(v11)));
		PTUP v19;
		PTUP v20 = mw_std_list_List_1_unsnoc(v13, &v19);
		PTUP branch_ZPlusMirth_21;
		PTUP branch_ZPlusResolveDef_22;
		VAL branch_z_x1_23;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				branch_z_x1_23 = v24;
				branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
				branch_ZPlusMirth_21 = in_ZPlusMirth_1;
			} break;
			case 0LL: { // None
				uint64_t v25 = value_u64(((TUP*)PTRPTR(in_ZPlusResolveDef_2))->cells[1]);
				STR* v26;
				STRLIT(v26, "Error, expected a namespace in QName.climb-up-dname?", 52);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v25, v26);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_z_x1_18 = branch_z_x1_23;
		branch_List_17 = v20;
		branch_ZPlusResolveDef_16 = branch_ZPlusResolveDef_22;
		branch_ZPlusMirth_15 = branch_ZPlusMirth_21;
	} else {
		branch_z_x1_18 = MKU64(value_u64(v11));
		branch_List_17 = v13;
		branch_ZPlusResolveDef_16 = in_ZPlusResolveDef_2;
		branch_ZPlusMirth_15 = in_ZPlusMirth_1;
	}
	PTUP v29;
	PTUP v30 = mw_mirth_name_QName_climbZ_upZ_nameZAsk(branch_ZPlusMirth_15, value_u64(branch_z_x1_18), in_QName_4, &v29);
	PTUP v31 = mw_std_list_List_1_reverse(branch_List_17);
	bool v32 = true;
	PTUP r33 = v29;
	VAL r34 = MKTUP(branch_ZPlusResolveDef_16);
	PTUP v35 = v30;
	PTUP v36 = v31;
	bool v37 = v32;
	bool v38 = v32;
	while (v38) {
		PTUP r39 = r33;
		VAL r40 = r34;
		PTUP v41 = v35;
		PTUP v42 = v36;
		bool v43 = v37;
		PTUP branch_ZPlusMirth_44;
		VAL branch_z_x1_45;
		PTUP branch_List_46;
		PTUP branch_List_47;
		bool branch_Bool_48;
		switch (PTREXTRA(v42)) {
			case 1LL: { // Cons
				PTUP v49;
				VAL v50 = mtp_std_list_List_1_Cons(v42, &v49);
				PTUP v51 = PTRMK(0LL /* Nil */,0,0);
				PTUP v52;
				mw_std_list_List_1_buildZBang(v51, &v52);
				bool v53 = true;
				uint64_t v54 = value_u64(v50);
				PTUP r55 = r39;
				VAL r56 = r40;
				PTUP r57 = v52;
				PTUP v58 = v41;
				bool v59 = v53;
				bool v60 = v53;
				while (v60) {
					uint64_t v61 = v54;
					PTUP r62 = r55;
					VAL r63 = r56;
					PTUP r64 = r57;
					PTUP v65 = v58;
					bool v66 = v59;
					uint64_t branch_Name_67;
					PTUP branch_ZPlusMirth_68;
					VAL branch_z_x1_69;
					PTUP branch_ZPlusLister_70;
					PTUP branch_List_71;
					bool branch_Bool_72;
					switch (PTREXTRA(v65)) {
						case 1LL: { // Cons
							PTUP v73;
							VAL v74 = mtp_std_list_List_1_Cons(v65, &v73);
							PTUP v75;
							PTUP v76 = mw_mirth_name_Namespace_qname(r62, VTUP(v74), &v75);
							uint64_t branch_Name_77;
							PTUP branch_ZPlusMirth_78;
							PTUP branch_List_79;
							VAL branch_z_x1_80;
							switch (PTREXTRA(v76)) {
								case 1LL: { // Some
									VAL v81 = mtp_std_maybe_Maybe_1_Some(v76);
									PTUP v82;
									PTUP v83 = mw_mirth_name_QName_climbZ_upZ_nameZAsk(v75, v61, VTUP(v81), &v82);
									branch_z_x1_80 = r63;
									branch_List_79 = v83;
									branch_ZPlusMirth_78 = v82;
									branch_Name_77 = v61;
								} break;
								case 0LL: { // None
									PTUP v84 = PTRMK(0LL /* Nil */,0,0);
									branch_z_x1_80 = r63;
									branch_List_79 = v84;
									branch_ZPlusMirth_78 = v75;
									branch_Name_77 = v61;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							PTUP v85;
							mw_std_list_List_1_for_1_sp53(r64, branch_List_79, &v85);
							bool v86 = true;
							branch_Bool_72 = v86;
							branch_List_71 = v73;
							branch_ZPlusLister_70 = v85;
							branch_z_x1_69 = branch_z_x1_80;
							branch_ZPlusMirth_68 = branch_ZPlusMirth_78;
							branch_Name_67 = branch_Name_77;
						} break;
						case 0LL: { // Nil
							PTUP v87 = PTRMK(0LL /* Nil */,0,0);
							bool v88 = false;
							branch_Bool_72 = v88;
							branch_List_71 = v87;
							branch_ZPlusLister_70 = r64;
							branch_z_x1_69 = r63;
							branch_ZPlusMirth_68 = r62;
							branch_Name_67 = v61;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v60 = branch_Bool_72;
					v59 = branch_Bool_72;
					v58 = branch_List_71;
					r57 = branch_ZPlusLister_70;
					r56 = branch_z_x1_69;
					r55 = branch_ZPlusMirth_68;
					v54 = branch_Name_67;
				}
				decref(MKTUP(v58));
				PTUP v89 = mw_std_list_ZPlusLister_1_doneZBang(r57);
				decref(MKU64(v54));
				bool v90 = true;
				branch_Bool_48 = v90;
				branch_List_47 = v49;
				branch_List_46 = VTUP(MKTUP(v89));
				branch_z_x1_45 = r56;
				branch_ZPlusMirth_44 = r55;
			} break;
			case 0LL: { // Nil
				PTUP v91 = PTRMK(0LL /* Nil */,0,0);
				bool v92 = false;
				branch_Bool_48 = v92;
				branch_List_47 = v91;
				branch_List_46 = v41;
				branch_z_x1_45 = r40;
				branch_ZPlusMirth_44 = r39;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v38 = branch_Bool_48;
		v37 = branch_Bool_48;
		v36 = branch_List_47;
		v35 = branch_List_46;
		r34 = branch_z_x1_45;
		r33 = branch_ZPlusMirth_44;
	}
	decref(MKTUP(v36));
	*out_ZPlusResolveDef_6 = VTUP(r34);
	*out_ZPlusMirth_5 = r33;
	return v35;
}
static PTUP mw_mirth_elab_elabZ_typeZ_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, uint64_t in_Token_4, PTUP *out_ZPlusMirth_5, uint64_t *out_Token_7) {
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	incref(MKTUP(v8));
	incref(MKTUP(v8));
	PTUP v9 = VTUP(((TUP*)PTRPTR(v8))->cells[0]);
	incref(MKTUP(v9));
	decref(MKTUP(v8));
	PTUP v10 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_4));
	VAL v11 = tup_replace(MKTUP(v8), 0, MKTUP(v10));
	PTUP v12 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	decref(MKTUP(v12));
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6] = MKTUP(VTUP(v11));
	PTUP v13;
	PTUP v14 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, in_Type_3, &v13);
	PTUP v15 = VTUP(((TUP*)PTRPTR(v13))->cells[6]);
	incref(MKTUP(v15));
	VAL v16 = tup_replace(MKTUP(v15), 0, MKTUP(v9));
	PTUP v17 = VTUP(((TUP*)PTRPTR(v13))->cells[6]);
	decref(MKTUP(v17));
	((TUP*)PTRPTR(v13))->cells[6] = MKTUP(VTUP(v16));
	*out_Token_7 = value_u64(MKU64(in_Token_4));
	*out_ZPlusMirth_5 = v13;
	return v14;
}
static PTUP mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4) {
	bool v6 = false;
	bool v7 = false;
	PTUP v8;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(in_Ctx_2, in_Token_3, v6, v7, &v8);
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_atomZBang(in_ZPlusMirth_1, v8, &v9, &v10);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v10);
	*out_ZPlusMirth_4 = v9;
	return v11;
}
static uint64_t mw_mirth_elab_ZPlusAB_abZ_tokenZAt (PTUP in_ZPlusAB_1, PTUP *out_ZPlusAB_2) {
	incref(MKTUP(in_ZPlusAB_1));
	uint64_t v4 = value_u64(((TUP*)PTRPTR(in_ZPlusAB_1))->cells[2]);
	decref(MKTUP(in_ZPlusAB_1));
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static void mw_mirth_elab_ZPlusAB_abZ_tokenZBang (PTUP in_ZPlusAB_1, uint64_t in_Token_2, PTUP *out_ZPlusAB_3) {
	incref(MKTUP(in_ZPlusAB_1));
	VAL v4 = tup_replace(MKTUP(in_ZPlusAB_1), 2, MKU64(in_Token_2));
	decref(MKTUP(in_ZPlusAB_1));
	*out_ZPlusAB_3 = VTUP(v4);
}
static PTUP mw_mirth_elab_ZPlusAB_abZ_typeZAt (PTUP in_ZPlusAB_1, PTUP *out_ZPlusAB_2) {
	incref(MKTUP(in_ZPlusAB_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusAB_1))->cells[5]);
	incref(MKTUP(v4));
	decref(MKTUP(in_ZPlusAB_1));
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static void mw_mirth_elab_ZPlusAB_abZ_typeZBang (PTUP in_ZPlusAB_1, PTUP in_StackType_2, PTUP *out_ZPlusAB_3) {
	incref(MKTUP(in_ZPlusAB_1));
	VAL v4 = tup_replace(MKTUP(in_ZPlusAB_1), 5, MKTUP(in_StackType_2));
	decref(MKTUP(in_ZPlusAB_1));
	*out_ZPlusAB_3 = VTUP(v4);
}
static PTUP mw_mirth_elab_ZPlusAB_abZ_ctxZAt (PTUP in_ZPlusAB_1, PTUP *out_ZPlusAB_2) {
	incref(MKTUP(in_ZPlusAB_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusAB_1))->cells[3]);
	incref(MKTUP(v4));
	decref(MKTUP(in_ZPlusAB_1));
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static PTUP mw_mirth_elab_ZPlusAB_abZ_homeZAt (PTUP in_ZPlusAB_1, PTUP *out_ZPlusAB_2) {
	incref(MKTUP(in_ZPlusAB_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusAB_1))->cells[0]);
	incref(MKTUP(v4));
	decref(MKTUP(in_ZPlusAB_1));
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static bool mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	incref(MKTUP(in_List_3));
	bool v7 = mw_std_list_List_1_emptyZAsk(in_List_3);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusAB_9;
	bool branch_Bool_10;
	if (v7) {
		decref(MKTUP(in_List_3));
		bool v11 = false;
		branch_Bool_10 = v11;
		branch_ZPlusAB_9 = in_ZPlusAB_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		PTUP v12;
		PTUP v13 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v12);
		PTUP v14;
		PTUP v15 = mw_mirth_type_StackType_topZ_resourceZ_tycons(in_ZPlusMirth_1, v13, &v14);
		PTUP v16 = mw_std_list_List_1_reverse(v15);
		PTUP v17 = mw_std_list_List_1_reverse(in_List_3);
		PTUP v18;
		PTUP v19;
		bool v20 = mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZ_aux(v14, v12, VTUP(MKTUP(v16)), v17, &v18, &v19);
		branch_Bool_10 = v20;
		branch_ZPlusAB_9 = v19;
		branch_ZPlusMirth_8 = v18;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Bool_10;
}
static bool mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZ_aux (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusAB_9;
	bool branch_Bool_10;
	switch (PTREXTRA(in_List_4)) {
		case 0LL: { // Nil
			decref(MKTUP(in_List_3));
			bool v11 = false;
			branch_Bool_10 = v11;
			branch_ZPlusAB_9 = in_ZPlusAB_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Cons
			PTUP v12;
			VAL v13 = mtp_std_list_List_1_Cons(in_List_4, &v12);
			PTUP branch_ZPlusMirth_14;
			PTUP branch_ZPlusAB_15;
			bool branch_Bool_16;
			switch (PTREXTRA(in_List_3)) {
				case 0LL: { // Nil
					decref(MKTUP(VTUP(v13)));
					decref(MKTUP(v12));
					bool v17 = false;
					branch_Bool_16 = v17;
					branch_ZPlusAB_15 = in_ZPlusAB_2;
					branch_ZPlusMirth_14 = in_ZPlusMirth_1;
				} break;
				case 1LL: { // Cons
					PTUP v18;
					VAL v19 = mtp_std_list_List_1_Cons(in_List_3, &v18);
					incref(MKTUP(VTUP(v13)));
					PTUP v20;
					bool v21 = mw_mirth_tycon_Tycon_ZEqual(in_ZPlusMirth_1, VTUP(v19), VTUP(v13), &v20);
					PTUP branch_ZPlusMirth_22;
					PTUP branch_ZPlusAB_23;
					bool branch_Bool_24;
					if (v21) {
						decref(MKTUP(VTUP(v13)));
						PTUP v25;
						PTUP v26;
						bool v27 = mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZ_aux(v20, in_ZPlusAB_2, v18, v12, &v25, &v26);
						branch_Bool_24 = v27;
						branch_ZPlusAB_23 = v26;
						branch_ZPlusMirth_22 = v25;
					} else {
						decref(MKTUP(v12));
						PTUP v28 = PTRMK(0LL /* None */,0,0);
						bool v29 = true;
						PTUP r30 = v20;
						PTUP v31 = VTUP(v13);
						PTUP v32 = v28;
						PTUP v33 = v18;
						bool v34 = v29;
						bool v35 = v29;
						while (v35) {
							PTUP r36 = r30;
							PTUP v37 = v31;
							PTUP v38 = v32;
							PTUP v39 = v33;
							bool v40 = v34;
							PTUP v41;
							PTUP v42 = mw_std_list_List_1_uncons(v39, &v41);
							PTUP branch_ZPlusMirth_43;
							PTUP branch_Tycon_44;
							PTUP branch_Maybe_45;
							PTUP branch_List_46;
							bool branch_Bool_47;
							switch (PTREXTRA(v42)) {
								case 1LL: { // Some
									VAL v48 = mtp_std_maybe_Maybe_1_Some(v42);
									incref(MKTUP(VTUP(v48)));
									incref(MKTUP(v37));
									PTUP v49;
									bool v50 = mw_mirth_tycon_Tycon_ZEqual(r36, VTUP(MKTUP(v37)), VTUP(MKTUP(VTUP(v48))), &v49);
									PTUP branch_ZPlusMirth_51;
									PTUP branch_Tycon_52;
									PTUP branch_Maybe_53;
									if (v50) {
										PTUP v54 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v48)));
										branch_Maybe_53 = v54;
										branch_Tycon_52 = VTUP(MKTUP(v37));
										branch_ZPlusMirth_51 = v49;
									} else {
										decref(MKTUP(VTUP(v48)));
										PTUP v55 = PTRMK(0LL /* None */,0,0);
										branch_Maybe_53 = v55;
										branch_Tycon_52 = VTUP(MKTUP(v37));
										branch_ZPlusMirth_51 = v49;
									}
									PTUP branch_ZPlusMirth_56;
									PTUP branch_Tycon_57;
									PTUP branch_Maybe_58;
									PTUP branch_List_59;
									switch (PTREXTRA(branch_Maybe_53)) {
										case 0LL: { // None
											branch_List_59 = VTUP(MKTUP(v41));
											branch_Maybe_58 = VTUP(MKTUP(v38));
											branch_Tycon_57 = branch_Tycon_52;
											branch_ZPlusMirth_56 = branch_ZPlusMirth_51;
										} break;
										default: {
											decref(MKTUP(VTUP(MKTUP(v41))));
											decref(MKTUP(VTUP(MKTUP(v38))));
											PTUP v60 = PTRMK(0LL /* Nil */,0,0);
											branch_List_59 = v60;
											branch_Maybe_58 = branch_Maybe_53;
											branch_Tycon_57 = branch_Tycon_52;
											branch_ZPlusMirth_56 = branch_ZPlusMirth_51;
										} break;
									}
									bool v61 = true;
									branch_Bool_47 = v61;
									branch_List_46 = branch_List_59;
									branch_Maybe_45 = branch_Maybe_58;
									branch_Tycon_44 = branch_Tycon_57;
									branch_ZPlusMirth_43 = branch_ZPlusMirth_56;
								} break;
								case 0LL: { // None
									bool v62 = false;
									branch_Bool_47 = v62;
									branch_List_46 = v41;
									branch_Maybe_45 = v38;
									branch_Tycon_44 = v37;
									branch_ZPlusMirth_43 = r36;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							v35 = branch_Bool_47;
							v34 = branch_Bool_47;
							v33 = branch_List_46;
							v32 = branch_Maybe_45;
							v31 = branch_Tycon_44;
							r30 = branch_ZPlusMirth_43;
						}
						decref(MKTUP(v33));
						decref(MKTUP(v31));
						int64_t v63 = PTREXTRA(VTUP(MKTUP(v32)));
						decref(MKTUP(VTUP(MKTUP(v32))));
						INT v64 = WRAP_I63(0LL);
						INT v65 = v64;
						INT v66 = i64_to_int(v63);
						bool v67 = int_eq(v66, v65);
						bool v68 = !v67;
						branch_Bool_24 = v68;
						branch_ZPlusAB_23 = in_ZPlusAB_2;
						branch_ZPlusMirth_22 = r30;
					}
					branch_Bool_16 = branch_Bool_24;
					branch_ZPlusAB_15 = branch_ZPlusAB_23;
					branch_ZPlusMirth_14 = branch_ZPlusMirth_22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_10 = branch_Bool_16;
			branch_ZPlusAB_9 = branch_ZPlusAB_15;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Bool_10;
}
static void mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	incref(MKTUP(in_List_3));
	PTUP v6;
	PTUP v7;
	bool v8 = mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZAsk(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, &v6, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusAB_10;
	if (v8) {
		PTUP v11;
		PTUP v12 = mw_std_list_List_1_unsnoc(in_List_3, &v11);
		VAL branch_z_x1_13;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Some
				VAL v14 = mtp_std_maybe_Maybe_1_Some(v11);
				branch_z_x1_13 = v14;
			} break;
			case 0LL: { // None
				STR* v15;
				STRLIT(v15, "logic error: expected resource for sliding", 42);
				do_panic(v15);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		PTUP v17;
		PTUP v18;
		bool v19 = mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconZ_toZ_topZBang(v6, v7, VTUP(branch_z_x1_13), &v17, &v18);
		PTUP branch_ZPlusMirth_20;
		PTUP branch_ZPlusAB_21;
		if (v19) {
			PTUP v22;
			PTUP v23 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v18, &v22);
			PTUP v24;
			PTUP v25 = mw_mirth_type_StackType_forceZ_withZAskZBang(v17, v23, &v24);
			PTUP v26 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v25);
			PTUP v27;
			PTUP v28 = mw_mirth_type_StackType_FreshZBang(v24, &v27);
			PTUP v29 = mw_mirth_type_TZ_ZTo(v26, v28);
			PTUP v30;
			PTUP v31 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v22, &v30);
			PTUP v32;
			uint64_t v33 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v30, &v32);
			PTUP v34;
			PTUP v35 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v32, &v34);
			PTUP v36;
			PTUP v37;
			mtp_mirth_type_ArrowType_ArrowType(v29, &v36, &v37);
			incref(MKTUP(v36));
			PTUP v38 = PTRMK(0LL /* Nil */,0,0);
			PTUP v39 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v35)), value_u64(MKU64(v33)), value_u64(MKU64(v33)), v31, v36, v36, v38);
			PTUP v40;
			PTUP v41;
			mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang(v27, v39, v12, &v40, &v41);
			PTUP v42;
			PTUP v43;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v40, v41, v37, &v42, &v43);
			PTUP v44;
			uint64_t v45 = mw_mirth_arrow_Block_NewZBang(v42, v43, &v44);
			PTUP v46 = PTRMK(0LL /* Nil */,0,0);
			PTUP v47 = mw_std_list_List_1_cons(MKU64(v45), v46);
			int64_t v48 = 6LL /* RDip */;
			PTUP v49;
			PTUP v50;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v44, v34, v47, v48, &v49, &v50);
			branch_ZPlusAB_21 = v50;
			branch_ZPlusMirth_20 = v49;
		} else {
			decref(MKTUP(v12));
			branch_ZPlusAB_21 = v18;
			branch_ZPlusMirth_20 = v17;
		}
		branch_ZPlusAB_10 = branch_ZPlusAB_21;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_20;
	} else {
		decref(MKTUP(in_List_3));
		branch_ZPlusAB_10 = v7;
		branch_ZPlusMirth_9 = v6;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static bool mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconZ_toZ_topZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Tycon_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk(in_ZPlusMirth_1, v8, &v9);
	PTUP branch_ZPlusAB_11;
	PTUP branch_ZPlusMirth_12;
	bool branch_Bool_13;
	switch (PTREXTRA(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			incref(MKTUP(in_Tycon_3));
			PTUP v15;
			bool v16 = mw_mirth_tycon_Tycon_ZEqual(v9, VTUP(v14), VTUP(MKTUP(in_Tycon_3)), &v15);
			PTUP branch_ZPlusAB_17;
			PTUP branch_ZPlusMirth_18;
			bool branch_Bool_19;
			if (v16) {
				decref(MKTUP(VTUP(MKTUP(in_Tycon_3))));
				bool v20 = true;
				branch_Bool_19 = v20;
				branch_ZPlusMirth_18 = v15;
				branch_ZPlusAB_17 = v7;
			} else {
				PTUP v21;
				PTUP v22 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v7, &v21);
				PTUP v23;
				PTUP v24 = mw_mirth_type_StackType_forceZ_withZAskZBang(v15, v22, &v23);
				PTUP v25 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v24);
				PTUP v26;
				PTUP v27 = mw_mirth_type_StackType_FreshZBang(v23, &v26);
				PTUP v28 = mw_mirth_type_TZ_ZTo(v25, v27);
				PTUP v29;
				PTUP v30 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v21, &v29);
				PTUP v31;
				uint64_t v32 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v29, &v31);
				PTUP v33;
				PTUP v34 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v31, &v33);
				PTUP v35;
				PTUP v36;
				mtp_mirth_type_ArrowType_ArrowType(v28, &v35, &v36);
				incref(MKTUP(v35));
				PTUP v37 = PTRMK(0LL /* Nil */,0,0);
				PTUP v38 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v34)), value_u64(MKU64(v32)), value_u64(MKU64(v32)), v30, v35, v35, v37);
				PTUP v39;
				PTUP v40;
				bool v41 = mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconZ_toZ_topZBang(v26, v38, VTUP(MKTUP(in_Tycon_3)), &v39, &v40);
				PTUP v42;
				PTUP v43;
				mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v39, v40, v36, &v42, &v43);
				PTUP v44;
				uint64_t v45 = mw_mirth_arrow_Block_NewZBang(v42, v43, &v44);
				PTUP v46 = PTRMK(0LL /* Nil */,0,0);
				PTUP v47 = mw_std_list_List_1_cons(MKU64(v45), v46);
				int64_t v48 = 6LL /* RDip */;
				PTUP v49;
				PTUP v50;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v44, v33, v47, v48, &v49, &v50);
				PTUP branch_ZPlusMirth_51;
				PTUP branch_ZPlusAB_52;
				bool branch_Bool_53;
				if (v41) {
					PTUP v54 = PTRMK(0LL /* Nil */,0,0);
					int64_t v55 = 4LL /* RSwap */;
					PTUP v56;
					PTUP v57;
					mw_mirth_elab_ZPlusAB_abZ_primZBang(v49, v50, v54, v55, &v56, &v57);
					bool v58 = true;
					branch_Bool_53 = v58;
					branch_ZPlusAB_52 = v57;
					branch_ZPlusMirth_51 = v56;
				} else {
					bool v59 = false;
					branch_Bool_53 = v59;
					branch_ZPlusAB_52 = v50;
					branch_ZPlusMirth_51 = v49;
				}
				branch_Bool_19 = branch_Bool_53;
				branch_ZPlusMirth_18 = branch_ZPlusMirth_51;
				branch_ZPlusAB_17 = branch_ZPlusAB_52;
			}
			branch_Bool_13 = branch_Bool_19;
			branch_ZPlusMirth_12 = branch_ZPlusMirth_18;
			branch_ZPlusAB_11 = branch_ZPlusAB_17;
		} break;
		case 0LL: { // None
			decref(MKTUP(in_Tycon_3));
			bool v60 = false;
			branch_Bool_13 = v60;
			branch_ZPlusMirth_12 = v9;
			branch_ZPlusAB_11 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
	return branch_Bool_13;
}
static void mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	uint64_t v7 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v6);
	PTUP v8;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, v7, &v8);
	incref(MKTUP(in_StackType_3));
	PTUP v9;
	PTUP v10;
	mw_mirth_elab_ZPlusAB_abZ_prepareZ_forZ_unificationZBang(v8, v6, in_StackType_3, &v9, &v10);
	PTUP v11;
	PTUP v12 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v10, &v11);
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_unifyZBang(v9, v12, in_StackType_3, &v13);
	PTUP v15;
	mw_mirth_elab_ZPlusAB_abZ_typeZBang(v11, v14, &v15);
	*out_ZPlusAB_5 = v15;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_elab_ZPlusAB_abZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	incref(MKTUP(in_Atom_3));
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_Atom_3))->cells[1]);
	decref(MKTUP(in_Atom_3));
	PTUP v7;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(in_ZPlusAB_2, v6, &v7);
	incref(MKTUP(in_Atom_3));
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[6]);
	incref(MKTUP(v8));
	decref(MKTUP(in_Atom_3));
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_typeZBang(v7, v8, &v9);
	incref(MKTUP(v9));
	incref(MKTUP(v9));
	PTUP v10 = VTUP(((TUP*)PTRPTR(v9))->cells[6]);
	incref(MKTUP(v10));
	decref(MKTUP(v9));
	PTUP v11 = mw_std_list_List_1_Snoc(v10, MKTUP(in_Atom_3));
	VAL v12 = tup_replace(MKTUP(v9), 6, MKTUP(v11));
	decref(MKTUP(v9));
	*out_ZPlusAB_5 = VTUP(v12);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_elab_ZPlusAB_abZ_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP in_Op_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v9);
	PTUP v11;
	PTUP v12 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v9, &v11);
	incref(MKTUP(in_Op_4));
	PTUP v13;
	PTUP v14;
	PTUP v15 = mw_mirth_elab_elabZ_opZ_freshZ_sigZBang(in_ZPlusMirth_1, in_Op_4, &v13, &v14);
	PTUP branch_ZPlusMirth_16;
	PTUP branch_ZPlusAB_17;
	switch (PTREXTRA(v14)) {
		case 0LL: { // Id
			PTUP v18;
			PTUP v19 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v11, &v18);
			incref(MKTUP(v19));
			PTUP v20 = mtw_mirth_arrow_Atom_Atom(v12, v10, v8, in_Op_4, in_List_3, v19, v19, v15);
			PTUP v21;
			PTUP v22;
			mw_mirth_elab_ZPlusAB_abZ_atomZBang(v13, v18, v20, &v21, &v22);
			branch_ZPlusAB_17 = v22;
			branch_ZPlusMirth_16 = v21;
		} break;
		case 1LL: { // Push
			PTUP v23 = mtp_mirth_elab_OpSig_Push(v14);
			PTUP v24;
			PTUP v25 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v11, &v24);
			incref(MKTUP(v25));
			PTUP v26 = mtw_mirth_type_StackType_Cons(v25, v23);
			PTUP v27 = mtw_mirth_arrow_Atom_Atom(v12, v10, v8, in_Op_4, in_List_3, v25, v26, v15);
			PTUP v28;
			PTUP v29;
			mw_mirth_elab_ZPlusAB_abZ_atomZBang(v13, v24, v27, &v28, &v29);
			branch_ZPlusAB_17 = v29;
			branch_ZPlusMirth_16 = v28;
		} break;
		case 2LL: { // Apply
			PTUP v30 = mtp_mirth_elab_OpSig_Apply(v14);
			PTUP v31;
			PTUP v32;
			mtp_mirth_type_ArrowType_ArrowType(v30, &v31, &v32);
			incref(MKTUP(in_List_3));
			PTUP v33 = mw_std_list_List_1_reverse(in_List_3);
			PTUP v34 = PTRMK(0LL /* Nil */,0,0);
			PTUP v35;
			mw_std_list_List_1_buildZBang(v34, &v35);
			bool v36 = true;
			PTUP r37 = v13;
			PTUP r38 = v11;
			PTUP v39 = v31;
			PTUP r40 = v35;
			PTUP v41 = v33;
			bool v42 = v36;
			bool v43 = v36;
			while (v43) {
				PTUP r44 = r37;
				PTUP r45 = r38;
				PTUP v46 = v39;
				PTUP r47 = r40;
				PTUP v48 = v41;
				bool v49 = v42;
				PTUP branch_StackType_50;
				PTUP branch_ZPlusMirth_51;
				PTUP branch_ZPlusAB_52;
				PTUP branch_ZPlusLister_53;
				PTUP branch_List_54;
				bool branch_Bool_55;
				switch (PTREXTRA(v48)) {
					case 1LL: { // Cons
						PTUP v56;
						VAL v57 = mtp_std_list_List_1_Cons(v48, &v56);
						PTUP v58;
						PTUP v59 = mw_mirth_type_StackType_forceZ_consZAskZBang(r44, v46, &v58);
						PTUP branch_ZPlusAB_60;
						PTUP branch_ZPlusMirth_61;
						VAL branch_z_x1_62;
						switch (PTREXTRA(v59)) {
							case 1LL: { // Some
								VAL v63 = mtp_std_maybe_Maybe_1_Some(v59);
								branch_z_x1_62 = v63;
								branch_ZPlusMirth_61 = v58;
								branch_ZPlusAB_60 = r45;
							} break;
							case 0LL: { // None
								PTUP v64;
								uint64_t v65 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(r45, &v64);
								STR* v66;
								STRLIT(v66, "Expected arg type in type signature.", 36);
								mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v58, v66);
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						VAL v68 = ((TUP*)PTRPTR(value_tup(branch_z_x1_62)))->cells[0];
						VAL v69 = ((TUP*)PTRPTR(value_tup(branch_z_x1_62)))->cells[1];
						tup_decref_outer(value_tup(branch_z_x1_62));
						PTUP r70 = PTRMK(0,tup_new(2),0);
						((TUP*)PTRPTR(r70))->size = 2;
						((TUP*)PTRPTR(r70))->cells[1] = v57;
						((TUP*)PTRPTR(r70))->cells[0] = v69;
						PTUP v71;
						mw_std_list_ZPlusLister_1_pushZBang(MKTUP(r70), r47, &v71);
						bool v72 = true;
						branch_Bool_55 = v72;
						branch_List_54 = v56;
						branch_ZPlusLister_53 = v71;
						branch_ZPlusAB_52 = branch_ZPlusAB_60;
						branch_ZPlusMirth_51 = branch_ZPlusMirth_61;
						branch_StackType_50 = VTUP(v68);
					} break;
					case 0LL: { // Nil
						PTUP v73 = PTRMK(0LL /* Nil */,0,0);
						bool v74 = false;
						branch_Bool_55 = v74;
						branch_List_54 = v73;
						branch_ZPlusLister_53 = r47;
						branch_ZPlusAB_52 = r45;
						branch_ZPlusMirth_51 = r44;
						branch_StackType_50 = v46;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v43 = branch_Bool_55;
				v42 = branch_Bool_55;
				v41 = branch_List_54;
				r40 = branch_ZPlusLister_53;
				v39 = branch_StackType_50;
				r38 = branch_ZPlusAB_52;
				r37 = branch_ZPlusMirth_51;
			}
			decref(MKTUP(v41));
			PTUP v75 = mw_std_list_ZPlusLister_1_doneZBang(r40);
			PTUP v76 = mw_std_list_List_1_reverse(v75);
			incref(MKTUP(v39));
			PTUP v77;
			PTUP v78 = mw_mirth_type_StackType_base(r37, v39, &v77);
			PTUP v79;
			bool v80 = mw_mirth_type_StackTypeBase_isZ_fixedZAsk(v77, v78, &v79);
			PTUP branch_StackType_81;
			PTUP branch_StackType_82;
			PTUP branch_ZPlusMirth_83;
			PTUP branch_ZPlusAB_84;
			if (v80) {
				incref(MKTUP(v39));
				PTUP v85;
				PTUP v86;
				mw_mirth_elab_ZPlusAB_abZ_prepareZ_forZ_codippingZBang(v79, r38, v39, &v85, &v86);
				incref(MKTUP(v39));
				PTUP v87;
				PTUP v88 = mw_mirth_type_StackType_countZ_parts(v85, v39, &v87);
				incref(MKTUP(v32));
				PTUP v89;
				PTUP v90 = mw_mirth_type_StackType_countZ_parts(v87, v32, &v89);
				PTUP v91;
				PTUP v92 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v86, &v91);
				PTUP v93;
				PTUP v94 = mw_mirth_type_StackType_countZ_parts(v89, v92, &v93);
				incref(MKTUP(v88));
				PTUP v95;
				PTUP v96 = mw_mirth_type_StackTypeCounts_difference(v93, v94, v88, &v95);
				STR* v97;
				STRLIT(v97, "_codip", 6);
				PTUP v98;
				uint64_t v99 = mw_mirth_name_Name_Name(v95, v97, &v98);
				PTUP v100;
				uint64_t v101 = mw_mirth_label_Label_Label(v98, v99, &v100);
				STR* v102;
				STRLIT(v102, "_dip", 4);
				PTUP v103;
				uint64_t v104 = mw_mirth_name_Name_Name(v100, v102, &v103);
				PTUP v105;
				uint64_t v106 = mw_mirth_label_Label_Label(v103, v104, &v105);
				STR* v107;
				STRLIT(v107, "+_rcodip", 8);
				PTUP v108;
				uint64_t v109 = mw_mirth_name_Name_Name(v105, v107, &v108);
				PTUP v110;
				uint64_t v111 = mw_mirth_label_Label_Label(v108, v109, &v110);
				STR* v112;
				STRLIT(v112, "+_rdip", 6);
				PTUP v113;
				uint64_t v114 = mw_mirth_name_Name_Name(v110, v112, &v113);
				PTUP v115;
				uint64_t v116 = mw_mirth_label_Label_Label(v113, v114, &v115);
				INT v117 = WRAP_I63(0LL);
				INT v118 = WRAP_I63(0LL);
				incref(MKTUP(v96));
				INT v119 = value_nat(((TUP*)PTRPTR(v96))->cells[0]);
				incref(MKNAT(v119));
				decref(MKTUP(v96));
				INT v120 = WRAP_I63(0LL);
				INT v121 = v119;
				INT v122 = v120;
				bool v123 = int_lt(v122, v121);
				uint64_t branch_Label_124;
				PTUP branch_ZPlusAB_125;
				PTUP branch_ZPlusMirth_126;
				uint64_t branch_Label_127;
				PTUP branch_StackTypeCounts_128;
				INT branch_Nat_129;
				PTUP branch_StackTypeCounts_130;
				if (v123) {
					incref(MKTUP(v88));
					INT v131 = value_nat(((TUP*)PTRPTR(v88))->cells[0]);
					incref(MKNAT(v131));
					decref(MKTUP(v88));
					incref(MKNAT(v131));
					INT v132 = WRAP_I63(0LL);
					INT v133 = v131;
					INT v134 = v132;
					bool v135 = int_lt(v134, v133);
					PTUP r136 = v91;
					PTUP r137 = v115;
					uint64_t v138 = v106;
					INT v139 = v131;
					bool v140 = v135;
					while (v140) {
						PTUP r141 = r136;
						PTUP r142 = r137;
						uint64_t v143 = v138;
						INT v144 = v139;
						PTUP v145;
						PTUP v146;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(r142, r141, v143, &v145, &v146);
						INT v147 = WRAP_I63(1LL);
						INT v148 = v144;
						INT v149 = v147;
						INT v150 = int_sub(v148, v149);
						incref(MKINT(v150));
						INT v151 = WRAP_I63(0LL);
						INT v152 = v151;
						bool v153 = int_le(v152, v150);
						INT branch_Nat_154;
						if (v153) {
							INT v155 = v150;
							branch_Nat_154 = v155;
						} else {
							decref(MKINT(v150));
							INT v156 = WRAP_I63(0LL);
							branch_Nat_154 = v156;
						}
						incref(MKNAT(branch_Nat_154));
						INT v157 = WRAP_I63(0LL);
						INT v158 = branch_Nat_154;
						INT v159 = v157;
						bool v160 = int_lt(v159, v158);
						v140 = v160;
						v139 = branch_Nat_154;
						v138 = v143;
						r137 = v145;
						r136 = v146;
					}
					decref(MKNAT(v139));
					incref(MKTUP(v96));
					INT v161 = value_nat(((TUP*)PTRPTR(v96))->cells[0]);
					incref(MKNAT(v161));
					decref(MKTUP(v96));
					incref(MKNAT(v161));
					INT v162 = WRAP_I63(0LL);
					INT v163 = v161;
					INT v164 = v162;
					bool v165 = int_lt(v164, v163);
					PTUP r166 = r136;
					PTUP r167 = r137;
					uint64_t v168 = v101;
					INT v169 = v161;
					bool v170 = v165;
					while (v170) {
						PTUP r171 = r166;
						PTUP r172 = r167;
						uint64_t v173 = v168;
						INT v174 = v169;
						PTUP v175;
						PTUP v176;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(r172, r171, v173, &v175, &v176);
						INT v177 = WRAP_I63(1LL);
						INT v178 = v174;
						INT v179 = v177;
						INT v180 = int_sub(v178, v179);
						incref(MKINT(v180));
						INT v181 = WRAP_I63(0LL);
						INT v182 = v181;
						bool v183 = int_le(v182, v180);
						INT branch_Nat_184;
						if (v183) {
							INT v185 = v180;
							branch_Nat_184 = v185;
						} else {
							decref(MKINT(v180));
							INT v186 = WRAP_I63(0LL);
							branch_Nat_184 = v186;
						}
						incref(MKNAT(branch_Nat_184));
						INT v187 = WRAP_I63(0LL);
						INT v188 = branch_Nat_184;
						INT v189 = v187;
						bool v190 = int_lt(v189, v188);
						v170 = v190;
						v169 = branch_Nat_184;
						v168 = v173;
						r167 = v175;
						r166 = v176;
					}
					decref(MKNAT(v169));
					incref(MKTUP(v96));
					INT v191 = value_nat(((TUP*)PTRPTR(v96))->cells[0]);
					incref(MKNAT(v191));
					decref(MKTUP(v96));
					INT v192 = v191;
					INT v193 = v117;
					INT v194 = int_add(v192, v193);
					INT v195 = v194;
					incref(MKTUP(v88));
					INT v196 = value_nat(((TUP*)PTRPTR(v88))->cells[0]);
					incref(MKNAT(v196));
					decref(MKTUP(v88));
					incref(MKNAT(v196));
					INT v197 = WRAP_I63(0LL);
					INT v198 = v196;
					INT v199 = v197;
					bool v200 = int_lt(v199, v198);
					PTUP r201 = r166;
					PTUP r202 = r167;
					uint64_t v203 = v138;
					INT v204 = v196;
					bool v205 = v200;
					while (v205) {
						PTUP r206 = r201;
						PTUP r207 = r202;
						uint64_t v208 = v203;
						INT v209 = v204;
						PTUP v210;
						PTUP v211;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r207, r206, v208, &v210, &v211);
						INT v212 = WRAP_I63(1LL);
						INT v213 = v209;
						INT v214 = v212;
						INT v215 = int_sub(v213, v214);
						incref(MKINT(v215));
						INT v216 = WRAP_I63(0LL);
						INT v217 = v216;
						bool v218 = int_le(v217, v215);
						INT branch_Nat_219;
						if (v218) {
							INT v220 = v215;
							branch_Nat_219 = v220;
						} else {
							decref(MKINT(v215));
							INT v221 = WRAP_I63(0LL);
							branch_Nat_219 = v221;
						}
						incref(MKNAT(branch_Nat_219));
						INT v222 = WRAP_I63(0LL);
						INT v223 = branch_Nat_219;
						INT v224 = v222;
						bool v225 = int_lt(v224, v223);
						v205 = v225;
						v204 = branch_Nat_219;
						v203 = v208;
						r202 = v210;
						r201 = v211;
					}
					decref(MKNAT(v204));
					branch_StackTypeCounts_130 = v88;
					branch_Nat_129 = v195;
					branch_StackTypeCounts_128 = v96;
					branch_Label_127 = v203;
					branch_ZPlusMirth_126 = r202;
					branch_ZPlusAB_125 = r201;
					branch_Label_124 = v168;
				} else {
					branch_StackTypeCounts_130 = v88;
					branch_Nat_129 = v117;
					branch_StackTypeCounts_128 = v96;
					branch_Label_127 = v106;
					branch_ZPlusMirth_126 = v115;
					branch_ZPlusAB_125 = v91;
					branch_Label_124 = v101;
				}
				incref(MKTUP(branch_StackTypeCounts_128));
				INT v226 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_128))->cells[1]);
				incref(MKNAT(v226));
				decref(MKTUP(branch_StackTypeCounts_128));
				INT v227 = WRAP_I63(0LL);
				INT v228 = v226;
				INT v229 = v227;
				bool v230 = int_lt(v229, v228);
				uint64_t branch_Label_231;
				PTUP branch_ZPlusAB_232;
				PTUP branch_ZPlusMirth_233;
				uint64_t branch_Label_234;
				PTUP branch_StackTypeCounts_235;
				INT branch_Nat_236;
				PTUP branch_StackTypeCounts_237;
				if (v230) {
					incref(MKTUP(branch_StackTypeCounts_130));
					INT v238 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_130))->cells[1]);
					incref(MKNAT(v238));
					decref(MKTUP(branch_StackTypeCounts_130));
					incref(MKNAT(v238));
					INT v239 = WRAP_I63(0LL);
					INT v240 = v238;
					INT v241 = v239;
					bool v242 = int_lt(v241, v240);
					PTUP r243 = branch_ZPlusAB_125;
					PTUP r244 = branch_ZPlusMirth_126;
					uint64_t v245 = v116;
					INT v246 = v238;
					bool v247 = v242;
					while (v247) {
						PTUP r248 = r243;
						PTUP r249 = r244;
						uint64_t v250 = v245;
						INT v251 = v246;
						PTUP v252;
						PTUP v253;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(r249, r248, v250, &v252, &v253);
						INT v254 = WRAP_I63(1LL);
						INT v255 = v251;
						INT v256 = v254;
						INT v257 = int_sub(v255, v256);
						incref(MKINT(v257));
						INT v258 = WRAP_I63(0LL);
						INT v259 = v258;
						bool v260 = int_le(v259, v257);
						INT branch_Nat_261;
						if (v260) {
							INT v262 = v257;
							branch_Nat_261 = v262;
						} else {
							decref(MKINT(v257));
							INT v263 = WRAP_I63(0LL);
							branch_Nat_261 = v263;
						}
						incref(MKNAT(branch_Nat_261));
						INT v264 = WRAP_I63(0LL);
						INT v265 = branch_Nat_261;
						INT v266 = v264;
						bool v267 = int_lt(v266, v265);
						v247 = v267;
						v246 = branch_Nat_261;
						v245 = v250;
						r244 = v252;
						r243 = v253;
					}
					decref(MKNAT(v246));
					incref(MKTUP(branch_StackTypeCounts_128));
					INT v268 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_128))->cells[1]);
					incref(MKNAT(v268));
					decref(MKTUP(branch_StackTypeCounts_128));
					incref(MKNAT(v268));
					INT v269 = WRAP_I63(0LL);
					INT v270 = v268;
					INT v271 = v269;
					bool v272 = int_lt(v271, v270);
					PTUP r273 = r243;
					PTUP r274 = r244;
					uint64_t v275 = v111;
					INT v276 = v268;
					bool v277 = v272;
					while (v277) {
						PTUP r278 = r273;
						PTUP r279 = r274;
						uint64_t v280 = v275;
						INT v281 = v276;
						PTUP v282;
						PTUP v283;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(r279, r278, v280, &v282, &v283);
						INT v284 = WRAP_I63(1LL);
						INT v285 = v281;
						INT v286 = v284;
						INT v287 = int_sub(v285, v286);
						incref(MKINT(v287));
						INT v288 = WRAP_I63(0LL);
						INT v289 = v288;
						bool v290 = int_le(v289, v287);
						INT branch_Nat_291;
						if (v290) {
							INT v292 = v287;
							branch_Nat_291 = v292;
						} else {
							decref(MKINT(v287));
							INT v293 = WRAP_I63(0LL);
							branch_Nat_291 = v293;
						}
						incref(MKNAT(branch_Nat_291));
						INT v294 = WRAP_I63(0LL);
						INT v295 = branch_Nat_291;
						INT v296 = v294;
						bool v297 = int_lt(v296, v295);
						v277 = v297;
						v276 = branch_Nat_291;
						v275 = v280;
						r274 = v282;
						r273 = v283;
					}
					decref(MKNAT(v276));
					incref(MKTUP(branch_StackTypeCounts_128));
					INT v298 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_128))->cells[1]);
					incref(MKNAT(v298));
					decref(MKTUP(branch_StackTypeCounts_128));
					INT v299 = v298;
					INT v300 = v118;
					INT v301 = int_add(v299, v300);
					INT v302 = v301;
					incref(MKTUP(branch_StackTypeCounts_130));
					INT v303 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_130))->cells[1]);
					incref(MKNAT(v303));
					decref(MKTUP(branch_StackTypeCounts_130));
					incref(MKNAT(v303));
					INT v304 = WRAP_I63(0LL);
					INT v305 = v303;
					INT v306 = v304;
					bool v307 = int_lt(v306, v305);
					PTUP r308 = r273;
					PTUP r309 = r274;
					uint64_t v310 = v245;
					INT v311 = v303;
					bool v312 = v307;
					while (v312) {
						PTUP r313 = r308;
						PTUP r314 = r309;
						uint64_t v315 = v310;
						INT v316 = v311;
						PTUP v317;
						PTUP v318;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(r314, r313, v315, &v317, &v318);
						INT v319 = WRAP_I63(1LL);
						INT v320 = v316;
						INT v321 = v319;
						INT v322 = int_sub(v320, v321);
						incref(MKINT(v322));
						INT v323 = WRAP_I63(0LL);
						INT v324 = v323;
						bool v325 = int_le(v324, v322);
						INT branch_Nat_326;
						if (v325) {
							INT v327 = v322;
							branch_Nat_326 = v327;
						} else {
							decref(MKINT(v322));
							INT v328 = WRAP_I63(0LL);
							branch_Nat_326 = v328;
						}
						incref(MKNAT(branch_Nat_326));
						INT v329 = WRAP_I63(0LL);
						INT v330 = branch_Nat_326;
						INT v331 = v329;
						bool v332 = int_lt(v331, v330);
						v312 = v332;
						v311 = branch_Nat_326;
						v310 = v315;
						r309 = v317;
						r308 = v318;
					}
					decref(MKNAT(v311));
					branch_StackTypeCounts_237 = branch_StackTypeCounts_130;
					branch_Nat_236 = v302;
					branch_StackTypeCounts_235 = branch_StackTypeCounts_128;
					branch_Label_234 = v310;
					branch_ZPlusMirth_233 = r309;
					branch_ZPlusAB_232 = r308;
					branch_Label_231 = v275;
				} else {
					branch_StackTypeCounts_237 = branch_StackTypeCounts_130;
					branch_Nat_236 = v118;
					branch_StackTypeCounts_235 = branch_StackTypeCounts_128;
					branch_Label_234 = v116;
					branch_ZPlusMirth_233 = branch_ZPlusMirth_126;
					branch_ZPlusAB_232 = branch_ZPlusAB_125;
					branch_Label_231 = v111;
				}
				incref(MKTUP(branch_StackTypeCounts_235));
				PTUP v333 = VTUP(((TUP*)PTRPTR(branch_StackTypeCounts_235))->cells[2]);
				incref(MKTUP(v333));
				decref(MKTUP(branch_StackTypeCounts_235));
				INT v334;
				uint64_t v335;
				INT v336;
				uint64_t v337;
				PTUP v338;
				PTUP v339;
				PTUP v340;
				mw_std_map_Map_2_forZ_pairs_1_sp1(branch_Nat_129, branch_Label_124, branch_Nat_236, branch_Label_231, branch_ZPlusAB_232, branch_StackTypeCounts_237, branch_ZPlusMirth_233, v333, &v334, &v335, &v336, &v337, &v338, &v339, &v340);
				incref(MKNAT(v334));
				incref(MKNAT(v334));
				INT v341 = WRAP_I63(0LL);
				INT v342 = v334;
				INT v343 = v341;
				bool v344 = int_lt(v343, v342);
				PTUP r345 = v338;
				PTUP r346 = v340;
				uint64_t v347 = v335;
				INT v348 = v334;
				bool v349 = v344;
				while (v349) {
					PTUP r350 = r345;
					PTUP r351 = r346;
					uint64_t v352 = v347;
					INT v353 = v348;
					PTUP v354;
					PTUP v355;
					mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r351, r350, v352, &v354, &v355);
					INT v356 = WRAP_I63(1LL);
					INT v357 = v353;
					INT v358 = v356;
					INT v359 = int_sub(v357, v358);
					incref(MKINT(v359));
					INT v360 = WRAP_I63(0LL);
					INT v361 = v360;
					bool v362 = int_le(v361, v359);
					INT branch_Nat_363;
					if (v362) {
						INT v364 = v359;
						branch_Nat_363 = v364;
					} else {
						decref(MKINT(v359));
						INT v365 = WRAP_I63(0LL);
						branch_Nat_363 = v365;
					}
					incref(MKNAT(branch_Nat_363));
					INT v366 = WRAP_I63(0LL);
					INT v367 = branch_Nat_363;
					INT v368 = v366;
					bool v369 = int_lt(v368, v367);
					v349 = v369;
					v348 = branch_Nat_363;
					v347 = v352;
					r346 = v354;
					r345 = v355;
				}
				decref(MKNAT(v348));
				incref(MKNAT(v336));
				incref(MKNAT(v336));
				INT v370 = WRAP_I63(0LL);
				INT v371 = v336;
				INT v372 = v370;
				bool v373 = int_lt(v372, v371);
				PTUP r374 = r345;
				PTUP r375 = r346;
				uint64_t v376 = v337;
				INT v377 = v336;
				bool v378 = v373;
				while (v378) {
					PTUP r379 = r374;
					PTUP r380 = r375;
					uint64_t v381 = v376;
					INT v382 = v377;
					PTUP v383;
					PTUP v384;
					mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(r380, r379, v381, &v383, &v384);
					INT v385 = WRAP_I63(1LL);
					INT v386 = v382;
					INT v387 = v385;
					INT v388 = int_sub(v386, v387);
					incref(MKINT(v388));
					INT v389 = WRAP_I63(0LL);
					INT v390 = v389;
					bool v391 = int_le(v390, v388);
					INT branch_Nat_392;
					if (v391) {
						INT v393 = v388;
						branch_Nat_392 = v393;
					} else {
						decref(MKINT(v388));
						INT v394 = WRAP_I63(0LL);
						branch_Nat_392 = v394;
					}
					incref(MKNAT(branch_Nat_392));
					INT v395 = WRAP_I63(0LL);
					INT v396 = branch_Nat_392;
					INT v397 = v395;
					bool v398 = int_lt(v397, v396);
					v378 = v398;
					v377 = branch_Nat_392;
					v376 = v381;
					r375 = v383;
					r374 = v384;
				}
				decref(MKNAT(v377));
				incref(MKNAT(v336));
				PTUP v399;
				PTUP v400;
				VAL v401;
				INT v402;
				VAL v403;
				VAL v404;
				VAL v405;
				VAL v406;
				VAL v407;
				VAL v408;
				VAL v409;
				PTUP v410;
				PTUP v411;
				mw_mirth_elab_ZPlusAB_abZ_rdipZ_nZBang_1_sp1(v12, v10, v8, in_Op_4, in_List_3, v15, v32, v76, v39, MKNAT(v336), MKU64(branch_Label_234), MKU64(v376), MKU64(branch_Label_127), MKU64(v347), MKTUP(branch_StackTypeCounts_235), MKTUP(v90), MKTUP(v339), v334, r375, r374, v336, &v399, &v400, &v401, &v402, &v403, &v404, &v405, &v406, &v407, &v408, &v409, &v410, &v411);
				incref(MKNAT(value_nat(v401)));
				incref(MKNAT(value_nat(v401)));
				INT v412 = WRAP_I63(0LL);
				INT v413 = value_nat(v401);
				INT v414 = v412;
				bool v415 = int_lt(v414, v413);
				PTUP r416 = v410;
				PTUP r417 = v411;
				uint64_t v418 = value_u64(v404);
				INT v419 = value_nat(v401);
				bool v420 = v415;
				while (v420) {
					PTUP r421 = r416;
					PTUP r422 = r417;
					uint64_t v423 = v418;
					INT v424 = v419;
					PTUP v425;
					PTUP v426;
					mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(r421, r422, v423, &v425, &v426);
					INT v427 = WRAP_I63(1LL);
					INT v428 = v424;
					INT v429 = v427;
					INT v430 = int_sub(v428, v429);
					incref(MKINT(v430));
					INT v431 = WRAP_I63(0LL);
					INT v432 = v431;
					bool v433 = int_le(v432, v430);
					INT branch_Nat_434;
					if (v433) {
						INT v435 = v430;
						branch_Nat_434 = v435;
					} else {
						decref(MKINT(v430));
						INT v436 = WRAP_I63(0LL);
						branch_Nat_434 = v436;
					}
					incref(MKNAT(branch_Nat_434));
					INT v437 = WRAP_I63(0LL);
					INT v438 = branch_Nat_434;
					INT v439 = v437;
					bool v440 = int_lt(v439, v438);
					v420 = v440;
					v419 = branch_Nat_434;
					v418 = v423;
					r417 = v426;
					r416 = v425;
				}
				decref(MKNAT(v419));
				incref(MKNAT(v402));
				incref(MKNAT(v402));
				INT v441 = WRAP_I63(0LL);
				INT v442 = v402;
				INT v443 = v441;
				bool v444 = int_lt(v443, v442);
				PTUP r445 = r416;
				PTUP r446 = r417;
				uint64_t v447 = value_u64(v406);
				INT v448 = v402;
				bool v449 = v444;
				while (v449) {
					PTUP r450 = r445;
					PTUP r451 = r446;
					uint64_t v452 = v447;
					INT v453 = v448;
					PTUP v454;
					PTUP v455;
					mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(r450, r451, v452, &v454, &v455);
					INT v456 = WRAP_I63(1LL);
					INT v457 = v453;
					INT v458 = v456;
					INT v459 = int_sub(v457, v458);
					incref(MKINT(v459));
					INT v460 = WRAP_I63(0LL);
					INT v461 = v460;
					bool v462 = int_le(v461, v459);
					INT branch_Nat_463;
					if (v462) {
						INT v464 = v459;
						branch_Nat_463 = v464;
					} else {
						decref(MKINT(v459));
						INT v465 = WRAP_I63(0LL);
						branch_Nat_463 = v465;
					}
					incref(MKNAT(branch_Nat_463));
					INT v466 = WRAP_I63(0LL);
					INT v467 = branch_Nat_463;
					INT v468 = v466;
					bool v469 = int_lt(v468, v467);
					v449 = v469;
					v448 = branch_Nat_463;
					v447 = v452;
					r446 = v455;
					r445 = v454;
				}
				decref(MKNAT(v448));
				incref(MKTUP(VTUP(v407)));
				PTUP v470 = VTUP(((TUP*)PTRPTR(VTUP(v407)))->cells[2]);
				incref(MKTUP(v470));
				decref(MKTUP(VTUP(v407)));
				uint64_t v471;
				uint64_t v472;
				PTUP v473;
				PTUP v474;
				PTUP v475;
				mw_std_map_Map_2_reverseZ_forZ_pairs_1_sp1(v447, v418, VTUP(v408), r445, r446, v470, &v471, &v472, &v473, &v474, &v475);
				incref(MKTUP(VTUP(v407)));
				INT v476 = value_nat(((TUP*)PTRPTR(VTUP(v407)))->cells[1]);
				incref(MKNAT(v476));
				decref(MKTUP(VTUP(v407)));
				INT v477 = WRAP_I63(0LL);
				INT v478 = v476;
				INT v479 = v477;
				bool v480 = int_lt(v479, v478);
				uint64_t branch_Label_481;
				PTUP branch_ZPlusMirth_482;
				PTUP branch_ZPlusAB_483;
				uint64_t branch_Label_484;
				PTUP branch_StackTypeCounts_485;
				PTUP branch_StackTypeCounts_486;
				if (v480) {
					incref(MKTUP(v473));
					INT v487 = value_nat(((TUP*)PTRPTR(v473))->cells[1]);
					incref(MKNAT(v487));
					decref(MKTUP(v473));
					incref(MKNAT(v487));
					INT v488 = WRAP_I63(0LL);
					INT v489 = v487;
					INT v490 = v488;
					bool v491 = int_lt(v490, v489);
					PTUP r492 = v474;
					PTUP r493 = v475;
					uint64_t v494 = value_u64(v403);
					INT v495 = v487;
					bool v496 = v491;
					while (v496) {
						PTUP r497 = r492;
						PTUP r498 = r493;
						uint64_t v499 = v494;
						INT v500 = v495;
						PTUP v501;
						PTUP v502;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(r497, r498, v499, &v501, &v502);
						INT v503 = WRAP_I63(1LL);
						INT v504 = v500;
						INT v505 = v503;
						INT v506 = int_sub(v504, v505);
						incref(MKINT(v506));
						INT v507 = WRAP_I63(0LL);
						INT v508 = v507;
						bool v509 = int_le(v508, v506);
						INT branch_Nat_510;
						if (v509) {
							INT v511 = v506;
							branch_Nat_510 = v511;
						} else {
							decref(MKINT(v506));
							INT v512 = WRAP_I63(0LL);
							branch_Nat_510 = v512;
						}
						incref(MKNAT(branch_Nat_510));
						INT v513 = WRAP_I63(0LL);
						INT v514 = branch_Nat_510;
						INT v515 = v513;
						bool v516 = int_lt(v515, v514);
						v496 = v516;
						v495 = branch_Nat_510;
						v494 = v499;
						r493 = v502;
						r492 = v501;
					}
					decref(MKNAT(v495));
					incref(MKTUP(VTUP(v407)));
					INT v517 = value_nat(((TUP*)PTRPTR(VTUP(v407)))->cells[1]);
					incref(MKNAT(v517));
					decref(MKTUP(VTUP(v407)));
					incref(MKNAT(v517));
					INT v518 = WRAP_I63(0LL);
					INT v519 = v517;
					INT v520 = v518;
					bool v521 = int_lt(v520, v519);
					PTUP r522 = r492;
					PTUP r523 = r493;
					uint64_t v524 = v472;
					INT v525 = v517;
					bool v526 = v521;
					while (v526) {
						PTUP r527 = r522;
						PTUP r528 = r523;
						uint64_t v529 = v524;
						INT v530 = v525;
						PTUP v531;
						PTUP v532;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(r527, r528, v529, &v531, &v532);
						INT v533 = WRAP_I63(1LL);
						INT v534 = v530;
						INT v535 = v533;
						INT v536 = int_sub(v534, v535);
						incref(MKINT(v536));
						INT v537 = WRAP_I63(0LL);
						INT v538 = v537;
						bool v539 = int_le(v538, v536);
						INT branch_Nat_540;
						if (v539) {
							INT v541 = v536;
							branch_Nat_540 = v541;
						} else {
							decref(MKINT(v536));
							INT v542 = WRAP_I63(0LL);
							branch_Nat_540 = v542;
						}
						incref(MKNAT(branch_Nat_540));
						INT v543 = WRAP_I63(0LL);
						INT v544 = branch_Nat_540;
						INT v545 = v543;
						bool v546 = int_lt(v545, v544);
						v526 = v546;
						v525 = branch_Nat_540;
						v524 = v529;
						r523 = v532;
						r522 = v531;
					}
					decref(MKNAT(v525));
					incref(MKTUP(v473));
					INT v547 = value_nat(((TUP*)PTRPTR(v473))->cells[1]);
					incref(MKNAT(v547));
					decref(MKTUP(v473));
					incref(MKNAT(v547));
					INT v548 = WRAP_I63(0LL);
					INT v549 = v547;
					INT v550 = v548;
					bool v551 = int_lt(v550, v549);
					PTUP r552 = r522;
					PTUP r553 = r523;
					uint64_t v554 = v494;
					INT v555 = v547;
					bool v556 = v551;
					while (v556) {
						PTUP r557 = r552;
						PTUP r558 = r553;
						uint64_t v559 = v554;
						INT v560 = v555;
						PTUP v561;
						PTUP v562;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(r557, r558, v559, &v561, &v562);
						INT v563 = WRAP_I63(1LL);
						INT v564 = v560;
						INT v565 = v563;
						INT v566 = int_sub(v564, v565);
						incref(MKINT(v566));
						INT v567 = WRAP_I63(0LL);
						INT v568 = v567;
						bool v569 = int_le(v568, v566);
						INT branch_Nat_570;
						if (v569) {
							INT v571 = v566;
							branch_Nat_570 = v571;
						} else {
							decref(MKINT(v566));
							INT v572 = WRAP_I63(0LL);
							branch_Nat_570 = v572;
						}
						incref(MKNAT(branch_Nat_570));
						INT v573 = WRAP_I63(0LL);
						INT v574 = branch_Nat_570;
						INT v575 = v573;
						bool v576 = int_lt(v575, v574);
						v556 = v576;
						v555 = branch_Nat_570;
						v554 = v559;
						r553 = v562;
						r552 = v561;
					}
					decref(MKNAT(v555));
					branch_StackTypeCounts_486 = v473;
					branch_StackTypeCounts_485 = VTUP(v407);
					branch_Label_484 = v554;
					branch_ZPlusAB_483 = r553;
					branch_ZPlusMirth_482 = r552;
					branch_Label_481 = v524;
				} else {
					branch_StackTypeCounts_486 = v473;
					branch_StackTypeCounts_485 = VTUP(v407);
					branch_Label_484 = value_u64(v403);
					branch_ZPlusAB_483 = v475;
					branch_ZPlusMirth_482 = v474;
					branch_Label_481 = v472;
				}
				incref(MKTUP(branch_StackTypeCounts_485));
				INT v577 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_485))->cells[0]);
				incref(MKNAT(v577));
				decref(MKTUP(branch_StackTypeCounts_485));
				INT v578 = WRAP_I63(0LL);
				INT v579 = v577;
				INT v580 = v578;
				bool v581 = int_lt(v580, v579);
				uint64_t branch_Label_582;
				PTUP branch_ZPlusMirth_583;
				PTUP branch_ZPlusAB_584;
				uint64_t branch_Label_585;
				PTUP branch_StackTypeCounts_586;
				PTUP branch_StackTypeCounts_587;
				if (v581) {
					incref(MKTUP(branch_StackTypeCounts_486));
					INT v588 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_486))->cells[0]);
					incref(MKNAT(v588));
					decref(MKTUP(branch_StackTypeCounts_486));
					incref(MKNAT(v588));
					INT v589 = WRAP_I63(0LL);
					INT v590 = v588;
					INT v591 = v589;
					bool v592 = int_lt(v591, v590);
					PTUP r593 = branch_ZPlusMirth_482;
					PTUP r594 = branch_ZPlusAB_483;
					uint64_t v595 = value_u64(v405);
					INT v596 = v588;
					bool v597 = v592;
					while (v597) {
						PTUP r598 = r593;
						PTUP r599 = r594;
						uint64_t v600 = v595;
						INT v601 = v596;
						PTUP v602;
						PTUP v603;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(r598, r599, v600, &v602, &v603);
						INT v604 = WRAP_I63(1LL);
						INT v605 = v601;
						INT v606 = v604;
						INT v607 = int_sub(v605, v606);
						incref(MKINT(v607));
						INT v608 = WRAP_I63(0LL);
						INT v609 = v608;
						bool v610 = int_le(v609, v607);
						INT branch_Nat_611;
						if (v610) {
							INT v612 = v607;
							branch_Nat_611 = v612;
						} else {
							decref(MKINT(v607));
							INT v613 = WRAP_I63(0LL);
							branch_Nat_611 = v613;
						}
						incref(MKNAT(branch_Nat_611));
						INT v614 = WRAP_I63(0LL);
						INT v615 = branch_Nat_611;
						INT v616 = v614;
						bool v617 = int_lt(v616, v615);
						v597 = v617;
						v596 = branch_Nat_611;
						v595 = v600;
						r594 = v603;
						r593 = v602;
					}
					decref(MKNAT(v596));
					incref(MKTUP(branch_StackTypeCounts_485));
					INT v618 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_485))->cells[0]);
					incref(MKNAT(v618));
					decref(MKTUP(branch_StackTypeCounts_485));
					incref(MKNAT(v618));
					INT v619 = WRAP_I63(0LL);
					INT v620 = v618;
					INT v621 = v619;
					bool v622 = int_lt(v621, v620);
					PTUP r623 = r593;
					PTUP r624 = r594;
					uint64_t v625 = v471;
					INT v626 = v618;
					bool v627 = v622;
					while (v627) {
						PTUP r628 = r623;
						PTUP r629 = r624;
						uint64_t v630 = v625;
						INT v631 = v626;
						PTUP v632;
						PTUP v633;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r628, r629, v630, &v632, &v633);
						INT v634 = WRAP_I63(1LL);
						INT v635 = v631;
						INT v636 = v634;
						INT v637 = int_sub(v635, v636);
						incref(MKINT(v637));
						INT v638 = WRAP_I63(0LL);
						INT v639 = v638;
						bool v640 = int_le(v639, v637);
						INT branch_Nat_641;
						if (v640) {
							INT v642 = v637;
							branch_Nat_641 = v642;
						} else {
							decref(MKINT(v637));
							INT v643 = WRAP_I63(0LL);
							branch_Nat_641 = v643;
						}
						incref(MKNAT(branch_Nat_641));
						INT v644 = WRAP_I63(0LL);
						INT v645 = branch_Nat_641;
						INT v646 = v644;
						bool v647 = int_lt(v646, v645);
						v627 = v647;
						v626 = branch_Nat_641;
						v625 = v630;
						r624 = v633;
						r623 = v632;
					}
					decref(MKNAT(v626));
					incref(MKTUP(branch_StackTypeCounts_486));
					INT v648 = value_nat(((TUP*)PTRPTR(branch_StackTypeCounts_486))->cells[0]);
					incref(MKNAT(v648));
					decref(MKTUP(branch_StackTypeCounts_486));
					incref(MKNAT(v648));
					INT v649 = WRAP_I63(0LL);
					INT v650 = v648;
					INT v651 = v649;
					bool v652 = int_lt(v651, v650);
					PTUP r653 = r623;
					PTUP r654 = r624;
					uint64_t v655 = v595;
					INT v656 = v648;
					bool v657 = v652;
					while (v657) {
						PTUP r658 = r653;
						PTUP r659 = r654;
						uint64_t v660 = v655;
						INT v661 = v656;
						PTUP v662;
						PTUP v663;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r658, r659, v660, &v662, &v663);
						INT v664 = WRAP_I63(1LL);
						INT v665 = v661;
						INT v666 = v664;
						INT v667 = int_sub(v665, v666);
						incref(MKINT(v667));
						INT v668 = WRAP_I63(0LL);
						INT v669 = v668;
						bool v670 = int_le(v669, v667);
						INT branch_Nat_671;
						if (v670) {
							INT v672 = v667;
							branch_Nat_671 = v672;
						} else {
							decref(MKINT(v667));
							INT v673 = WRAP_I63(0LL);
							branch_Nat_671 = v673;
						}
						incref(MKNAT(branch_Nat_671));
						INT v674 = WRAP_I63(0LL);
						INT v675 = branch_Nat_671;
						INT v676 = v674;
						bool v677 = int_lt(v676, v675);
						v657 = v677;
						v656 = branch_Nat_671;
						v655 = v660;
						r654 = v663;
						r653 = v662;
					}
					decref(MKNAT(v656));
					branch_StackTypeCounts_587 = branch_StackTypeCounts_486;
					branch_StackTypeCounts_586 = branch_StackTypeCounts_485;
					branch_Label_585 = v655;
					branch_ZPlusAB_584 = r654;
					branch_ZPlusMirth_583 = r653;
					branch_Label_582 = v625;
				} else {
					branch_StackTypeCounts_587 = branch_StackTypeCounts_486;
					branch_StackTypeCounts_586 = branch_StackTypeCounts_485;
					branch_Label_585 = value_u64(v405);
					branch_ZPlusAB_584 = branch_ZPlusAB_483;
					branch_ZPlusMirth_583 = branch_ZPlusMirth_482;
					branch_Label_582 = v471;
				}
				decref(MKNAT(value_nat(v401)));
				decref(MKNAT(v402));
				decref(MKTUP(branch_StackTypeCounts_586));
				decref(MKTUP(branch_StackTypeCounts_587));
				decref(MKTUP(VTUP(v409)));
				branch_ZPlusAB_84 = branch_ZPlusAB_584;
				branch_ZPlusMirth_83 = branch_ZPlusMirth_583;
				branch_StackType_82 = v400;
				branch_StackType_81 = v399;
			} else {
				incref(MKTUP(v39));
				PTUP v678;
				PTUP v679;
				mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v79, r38, v39, &v678, &v679);
				PTUP v680;
				PTUP v681;
				mw_std_list_List_1_for_1_sp59(v678, v679, v76, &v680, &v681);
				incref(MKTUP(v39));
				incref(MKTUP(v32));
				PTUP v682 = mtw_mirth_arrow_Atom_Atom(v12, v10, v8, in_Op_4, in_List_3, v39, v32, v15);
				PTUP v683;
				PTUP v684;
				mw_mirth_elab_ZPlusAB_abZ_atomZBang(v680, v681, v682, &v683, &v684);
				branch_ZPlusAB_84 = v684;
				branch_ZPlusMirth_83 = v683;
				branch_StackType_82 = v32;
				branch_StackType_81 = v39;
			}
			decref(MKTUP(branch_StackType_82));
			decref(MKTUP(branch_StackType_81));
			branch_ZPlusAB_17 = branch_ZPlusAB_84;
			branch_ZPlusMirth_16 = branch_ZPlusMirth_83;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_17;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_16;
}
static void mw_mirth_elab_ZPlusAB_abZ_prepareZ_forZ_codippingZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_topZ_resourceZ_tycons(in_ZPlusMirth_1, in_StackType_3, &v6);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang(v6, in_ZPlusAB_2, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_prepareZ_forZ_unificationZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_topZ_resourceZ_tycons(in_ZPlusMirth_1, in_StackType_3, &v6);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang(v6, in_ZPlusAB_2, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_argZ_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Type_3, uint64_t in_Arg_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_Type_unifyZ_blockZBang(in_ZPlusMirth_1, in_Arg_4, in_Type_3, &v7);
	decref(MKTUP(v8));
	*out_ZPlusAB_6 = in_ZPlusAB_2;
	*out_ZPlusMirth_5 = v7;
}
static void mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_PushValue_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_Push(in_PushValue_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_bufferZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Buffer_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_Buffer(in_Buffer_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_fieldZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Field_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_Field(in_Field_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_Var(in_Var_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_primZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, int64_t in_Prim_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP v7 = mtw_mirth_arrow_Op_Prim(in_Prim_4);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v7, &v8, &v9);
	*out_ZPlusAB_6 = v9;
	*out_ZPlusMirth_5 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, uint64_t in_Word_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP v7 = mtw_mirth_arrow_Op_Word(in_Word_4);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v7, &v8, &v9);
	*out_ZPlusAB_6 = v9;
	*out_ZPlusMirth_5 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_externalZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_External_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_External(in_External_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_LabelPush(in_Label_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_LabelPop(in_Label_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_LabelPushR(in_Label_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_mirth_arrow_Op_LabelPopR(in_Label_3);
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5 = PTRMK(0LL /* Nil */,0,0);
	PTUP v6;
	uint64_t v7 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v6);
	PTUP v8;
	bool v9 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, v7, &v8);
	bool v10 = !v9;
	PTUP v11 = v5;
	PTUP r12 = v8;
	PTUP r13 = v6;
	bool v14 = v10;
	while (v14) {
		PTUP v15 = v11;
		PTUP r16 = r12;
		PTUP r17 = r13;
		PTUP v18;
		PTUP v19;
		PTUP v20;
		mw_mirth_elab_ZPlusAB_elabZ_atomZBang(r16, r17, v15, &v18, &v19, &v20);
		PTUP v21;
		uint64_t v22 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v21);
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_next(v18, v22, &v23);
		PTUP v25;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v21, v24, &v25);
		PTUP v26;
		uint64_t v27 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v25, &v26);
		PTUP v28;
		bool v29 = mw_mirth_token_Token_runZ_endZAsk(v23, v27, &v28);
		bool v30 = !v29;
		v14 = v30;
		r13 = v26;
		r12 = v28;
		v11 = v20;
	}
	bool v31 = true;
	PTUP r32 = r12;
	PTUP r33 = r13;
	PTUP v34 = v11;
	bool v35 = v31;
	bool v36 = v31;
	while (v36) {
		PTUP r37 = r32;
		PTUP r38 = r33;
		PTUP v39 = v34;
		bool v40 = v35;
		PTUP branch_ZPlusMirth_41;
		PTUP branch_ZPlusAB_42;
		PTUP branch_List_43;
		bool branch_Bool_44;
		switch (PTREXTRA(v39)) {
			case 1LL: { // Cons
				PTUP v45;
				VAL v46 = mtp_std_list_List_1_Cons(v39, &v45);
				PTUP v47;
				PTUP v48;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r37, r38, value_u64(v46), &v47, &v48);
				PTUP v49 = PTRMK(0LL /* Nil */,0,0);
				int64_t v50 = 2LL /* Drop */;
				PTUP v51;
				PTUP v52;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v47, v48, v49, v50, &v51, &v52);
				bool v53 = true;
				branch_Bool_44 = v53;
				branch_List_43 = v45;
				branch_ZPlusAB_42 = v52;
				branch_ZPlusMirth_41 = v51;
			} break;
			case 0LL: { // Nil
				PTUP v54 = PTRMK(0LL /* Nil */,0,0);
				bool v55 = false;
				branch_Bool_44 = v55;
				branch_List_43 = v54;
				branch_ZPlusAB_42 = r38;
				branch_ZPlusMirth_41 = r37;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v36 = branch_Bool_44;
		v35 = branch_Bool_44;
		v34 = branch_List_43;
		r33 = branch_ZPlusAB_42;
		r32 = branch_ZPlusMirth_41;
	}
	decref(MKTUP(v34));
	*out_ZPlusAB_4 = r33;
	*out_ZPlusMirth_3 = r32;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5, PTUP *out_List_6) {
	PTUP v7;
	uint64_t v8 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_token_Token_value(in_ZPlusMirth_1, v8, &v9);
	PTUP branch_List_11;
	PTUP branch_ZPlusMirth_12;
	PTUP branch_ZPlusAB_13;
	switch (PTREXTRA(v10)) {
		case 27LL: { // Name
			uint64_t v14 = mtp_mirth_token_TokenValue_Name(v10);
			PTUP v15;
			PTUP v16;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_nameZBang(v9, v7, v14, &v15, &v16);
			branch_ZPlusAB_13 = v16;
			branch_ZPlusMirth_12 = v15;
			branch_List_11 = in_List_3;
		} break;
		case 28LL: { // DName
			PTUP v17 = mtp_mirth_token_TokenValue_DName(v10);
			PTUP v18;
			PTUP v19;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_dnameZBang(v9, v7, v17, &v18, &v19);
			branch_ZPlusAB_13 = v19;
			branch_ZPlusMirth_12 = v18;
			branch_List_11 = in_List_3;
		} break;
		case 26LL: { // Str
			STR* v20 = mtp_mirth_token_TokenValue_Str(v10);
			PTUP v21 = mtw_mirth_arrow_PushValue_Str(v20);
			PTUP v22;
			PTUP v23;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v21, &v22, &v23);
			branch_ZPlusAB_13 = v23;
			branch_ZPlusMirth_12 = v22;
			branch_List_11 = in_List_3;
		} break;
		case 14LL: { // Int
			INT v24 = mtp_mirth_token_TokenValue_Int(v10);
			PTUP v25 = mtw_mirth_arrow_PushValue_Int(v24);
			PTUP v26;
			PTUP v27;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v25, &v26, &v27);
			branch_ZPlusAB_13 = v27;
			branch_ZPlusMirth_12 = v26;
			branch_List_11 = in_List_3;
		} break;
		case 15LL: { // Nat
			INT v28 = mtp_mirth_token_TokenValue_Nat(v10);
			PTUP v29 = mtw_mirth_arrow_PushValue_Nat(v28);
			PTUP v30;
			PTUP v31;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v29, &v30, &v31);
			branch_ZPlusAB_13 = v31;
			branch_ZPlusMirth_12 = v30;
			branch_List_11 = in_List_3;
		} break;
		case 16LL: { // U8
			uint8_t v32 = mtp_mirth_token_TokenValue_U8(v10);
			PTUP v33 = mtw_mirth_arrow_PushValue_U8(v32);
			PTUP v34;
			PTUP v35;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v33, &v34, &v35);
			branch_ZPlusAB_13 = v35;
			branch_ZPlusMirth_12 = v34;
			branch_List_11 = in_List_3;
		} break;
		case 17LL: { // U16
			uint16_t v36 = mtp_mirth_token_TokenValue_U16(v10);
			PTUP v37 = mtw_mirth_arrow_PushValue_U16(v36);
			PTUP v38;
			PTUP v39;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v37, &v38, &v39);
			branch_ZPlusAB_13 = v39;
			branch_ZPlusMirth_12 = v38;
			branch_List_11 = in_List_3;
		} break;
		case 18LL: { // U32
			uint32_t v40 = mtp_mirth_token_TokenValue_U32(v10);
			PTUP v41 = mtw_mirth_arrow_PushValue_U32(v40);
			PTUP v42;
			PTUP v43;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v41, &v42, &v43);
			branch_ZPlusAB_13 = v43;
			branch_ZPlusMirth_12 = v42;
			branch_List_11 = in_List_3;
		} break;
		case 19LL: { // U64
			uint64_t v44 = mtp_mirth_token_TokenValue_U64(v10);
			PTUP v45 = mtw_mirth_arrow_PushValue_U64(v44);
			PTUP v46;
			PTUP v47;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v45, &v46, &v47);
			branch_ZPlusAB_13 = v47;
			branch_ZPlusMirth_12 = v46;
			branch_List_11 = in_List_3;
		} break;
		case 20LL: { // I8
			int8_t v48 = mtp_mirth_token_TokenValue_I8(v10);
			PTUP v49 = mtw_mirth_arrow_PushValue_I8(v48);
			PTUP v50;
			PTUP v51;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v49, &v50, &v51);
			branch_ZPlusAB_13 = v51;
			branch_ZPlusMirth_12 = v50;
			branch_List_11 = in_List_3;
		} break;
		case 21LL: { // I16
			int16_t v52 = mtp_mirth_token_TokenValue_I16(v10);
			PTUP v53 = mtw_mirth_arrow_PushValue_I16(v52);
			PTUP v54;
			PTUP v55;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v53, &v54, &v55);
			branch_ZPlusAB_13 = v55;
			branch_ZPlusMirth_12 = v54;
			branch_List_11 = in_List_3;
		} break;
		case 22LL: { // I32
			int32_t v56 = mtp_mirth_token_TokenValue_I32(v10);
			PTUP v57 = mtw_mirth_arrow_PushValue_I32(v56);
			PTUP v58;
			PTUP v59;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v57, &v58, &v59);
			branch_ZPlusAB_13 = v59;
			branch_ZPlusMirth_12 = v58;
			branch_List_11 = in_List_3;
		} break;
		case 23LL: { // I64
			int64_t v60 = mtp_mirth_token_TokenValue_I64(v10);
			PTUP v61 = mtw_mirth_arrow_PushValue_I64(v60);
			PTUP v62;
			PTUP v63;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v61, &v62, &v63);
			branch_ZPlusAB_13 = v63;
			branch_ZPlusMirth_12 = v62;
			branch_List_11 = in_List_3;
		} break;
		case 25LL: { // F32
			float v64 = mtp_mirth_token_TokenValue_F32(v10);
			PTUP v65 = mtw_mirth_arrow_PushValue_F32(v64);
			PTUP v66;
			PTUP v67;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v65, &v66, &v67);
			branch_ZPlusAB_13 = v67;
			branch_ZPlusMirth_12 = v66;
			branch_List_11 = in_List_3;
		} break;
		case 24LL: { // F64
			double v68 = mtp_mirth_token_TokenValue_F64(v10);
			PTUP v69 = mtw_mirth_arrow_PushValue_F64(v68);
			PTUP v70;
			PTUP v71;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v9, v7, v69, &v70, &v71);
			branch_ZPlusAB_13 = v71;
			branch_ZPlusMirth_12 = v70;
			branch_List_11 = in_List_3;
		} break;
		case 8LL: { // LSquare
			uint64_t v72 = mtp_mirth_token_TokenValue_LSquare(v10);
			PTUP v73;
			PTUP v74;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_blockZBang(v9, v7, &v73, &v74);
			branch_ZPlusAB_13 = v74;
			branch_ZPlusMirth_12 = v73;
			branch_List_11 = in_List_3;
		} break;
		case 10LL: { // LCurly
			uint64_t v75 = mtp_mirth_token_TokenValue_LCurly(v10);
			PTUP v76;
			PTUP v77;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_assertZBang(v9, v7, &v76, &v77);
			branch_ZPlusAB_13 = v77;
			branch_ZPlusMirth_12 = v76;
			branch_List_11 = in_List_3;
		} break;
		case 30LL: { // LabelPush
			uint64_t v78 = mtp_mirth_token_TokenValue_LabelPush(v10);
			PTUP v79;
			uint64_t v80 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v79);
			PTUP v81;
			mw_mirth_token_Token_argsZ_0(v9, v80, &v81);
			PTUP v82;
			PTUP v83;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v81, v79, v78, &v82, &v83);
			branch_ZPlusAB_13 = v83;
			branch_ZPlusMirth_12 = v82;
			branch_List_11 = in_List_3;
		} break;
		case 29LL: { // LabelPop
			uint64_t v84 = mtp_mirth_token_TokenValue_LabelPop(v10);
			PTUP v85;
			uint64_t v86 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v85);
			PTUP v87;
			mw_mirth_token_Token_argsZ_0(v9, v86, &v87);
			PTUP v88;
			PTUP v89;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v87, v85, v84, &v88, &v89);
			branch_ZPlusAB_13 = v89;
			branch_ZPlusMirth_12 = v88;
			branch_List_11 = in_List_3;
		} break;
		case 32LL: { // LabelPushR
			uint64_t v90 = mtp_mirth_token_TokenValue_LabelPushR(v10);
			PTUP v91;
			uint64_t v92 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v91);
			PTUP v93;
			mw_mirth_token_Token_argsZ_0(v9, v92, &v93);
			PTUP v94;
			PTUP v95;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v93, v91, v90, &v94, &v95);
			branch_ZPlusAB_13 = v95;
			branch_ZPlusMirth_12 = v94;
			branch_List_11 = in_List_3;
		} break;
		case 31LL: { // LabelPopR
			uint64_t v96 = mtp_mirth_token_TokenValue_LabelPopR(v10);
			PTUP v97;
			uint64_t v98 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v97);
			PTUP v99;
			mw_mirth_token_Token_argsZ_0(v9, v98, &v99);
			PTUP v100;
			PTUP v101;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v99, v97, v96, &v100, &v101);
			branch_ZPlusAB_13 = v101;
			branch_ZPlusMirth_12 = v100;
			branch_List_11 = in_List_3;
		} break;
		case 33LL: { // LabelGet
			uint64_t v102 = mtp_mirth_token_TokenValue_LabelGet(v10);
			PTUP v103;
			PTUP v104;
			mw_mirth_elab_ZPlusAB_elabZ_labelZ_getZBang(v9, v7, v102, &v103, &v104);
			branch_ZPlusAB_13 = v104;
			branch_ZPlusMirth_12 = v103;
			branch_List_11 = in_List_3;
		} break;
		case 34LL: { // LabelSet
			uint64_t v105 = mtp_mirth_token_TokenValue_LabelSet(v10);
			PTUP v106;
			PTUP v107;
			mw_mirth_elab_ZPlusAB_elabZ_labelZ_setZBang(v9, v7, v105, &v106, &v107);
			branch_ZPlusAB_13 = v107;
			branch_ZPlusMirth_12 = v106;
			branch_List_11 = in_List_3;
		} break;
		case 35LL: { // LabelLam
			uint64_t v108 = mtp_mirth_token_TokenValue_LabelLam(v10);
			PTUP v109;
			PTUP v110;
			PTUP v111;
			mw_mirth_elab_ZPlusAB_elabZ_labelZ_lamZBang(v9, v7, in_List_3, v108, &v109, &v110, &v111);
			branch_ZPlusAB_13 = v110;
			branch_ZPlusMirth_12 = v109;
			branch_List_11 = v111;
		} break;
		default: {
			PTUP v112;
			uint64_t v113 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v112);
			STR* v114;
			STRLIT(v114, "Unexpected token in elab-atom!", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v9, v113, v114);
		} break;
	}
	*out_List_6 = branch_List_11;
	*out_ZPlusAB_5 = branch_ZPlusAB_13;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
}
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_getZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	bool v7 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_ZPlusMirth_1, in_Label_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusAB_9;
	if (v7) {
		PTUP v10;
		PTUP v11;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v6, in_ZPlusAB_2, in_Label_3, &v10, &v11);
		PTUP v12;
		uint64_t v13 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v11, &v12);
		PTUP v14;
		uint64_t v15 = mw_mirth_token_Token_argsZ_1(v10, v13, &v14);
		PTUP v16;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v12, v15, &v16);
		PTUP v17;
		PTUP v18;
		mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v14, v16, &v17, &v18);
		PTUP v19;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v18, v13, &v19);
		PTUP v20;
		PTUP v21;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v17, v19, in_Label_3, &v20, &v21);
		branch_ZPlusAB_9 = v21;
		branch_ZPlusMirth_8 = v20;
	} else {
		PTUP v22;
		PTUP v23;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v6, in_ZPlusAB_2, in_Label_3, &v22, &v23);
		PTUP v24;
		uint64_t v25 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v23, &v24);
		PTUP v26;
		INT v27 = mw_mirth_token_Token_numZ_args(v22, v25, &v26);
		INT v28 = WRAP_I63(0LL);
		INT v29 = v28;
		INT v30 = v27;
		bool v31 = int_eq(v30, v29);
		uint64_t branch_Label_32;
		PTUP branch_ZPlusMirth_33;
		PTUP branch_ZPlusAB_34;
		if (v31) {
			PTUP v35 = PTRMK(0LL /* Nil */,0,0);
			int64_t v36 = 1LL /* Dup */;
			PTUP v37;
			PTUP v38;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v26, v24, v35, v36, &v37, &v38);
			branch_ZPlusAB_34 = v38;
			branch_ZPlusMirth_33 = v37;
			branch_Label_32 = in_Label_3;
		} else {
			PTUP v39;
			uint64_t v40 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v24, &v39);
			PTUP v41;
			uint64_t v42 = mw_mirth_token_Token_argsZ_1(v26, v40, &v41);
			PTUP v43;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v39, v42, &v43);
			PTUP v44;
			PTUP v45;
			mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v41, v43, &v44, &v45);
			PTUP v46;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v45, v40, &v46);
			branch_ZPlusAB_34 = v46;
			branch_ZPlusMirth_33 = v44;
			branch_Label_32 = in_Label_3;
		}
		PTUP v47;
		PTUP v48;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(branch_ZPlusMirth_33, branch_ZPlusAB_34, branch_Label_32, &v47, &v48);
		branch_ZPlusAB_9 = v48;
		branch_ZPlusMirth_8 = v47;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_setZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	bool v7 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_ZPlusMirth_1, in_Label_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusAB_9;
	if (v7) {
		PTUP v10;
		PTUP v11;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v6, in_ZPlusAB_2, in_Label_3, &v10, &v11);
		PTUP v12;
		uint64_t v13 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v11, &v12);
		PTUP v14;
		uint64_t v15 = mw_mirth_token_Token_argsZ_1(v10, v13, &v14);
		PTUP v16;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v12, v15, &v16);
		PTUP v17;
		PTUP v18;
		mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v14, v16, &v17, &v18);
		PTUP v19;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v18, v13, &v19);
		PTUP v20;
		PTUP v21;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v17, v19, in_Label_3, &v20, &v21);
		branch_ZPlusAB_9 = v21;
		branch_ZPlusMirth_8 = v20;
	} else {
		PTUP v22;
		uint64_t v23 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v22);
		PTUP v24;
		INT v25 = mw_mirth_token_Token_numZ_args(v6, v23, &v24);
		INT v26 = WRAP_I63(0LL);
		INT v27 = v26;
		INT v28 = v25;
		bool v29 = int_eq(v28, v27);
		PTUP branch_ZPlusMirth_30;
		PTUP branch_ZPlusAB_31;
		if (v29) {
			PTUP v32;
			PTUP v33;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v24, v22, in_Label_3, &v32, &v33);
			PTUP v34 = PTRMK(0LL /* Nil */,0,0);
			int64_t v35 = 2LL /* Drop */;
			PTUP v36;
			PTUP v37;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v32, v33, v34, v35, &v36, &v37);
			PTUP v38;
			PTUP v39;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v36, v37, in_Label_3, &v38, &v39);
			branch_ZPlusAB_31 = v39;
			branch_ZPlusMirth_30 = v38;
		} else {
			PTUP v40;
			PTUP v41;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v24, v22, in_Label_3, &v40, &v41);
			PTUP v42;
			uint64_t v43 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v41, &v42);
			PTUP v44;
			uint64_t v45 = mw_mirth_token_Token_argsZ_1(v40, v43, &v44);
			PTUP v46;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v42, v45, &v46);
			PTUP v47;
			PTUP v48;
			mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v44, v46, &v47, &v48);
			PTUP v49;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v48, v43, &v49);
			PTUP v50;
			PTUP v51;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v47, v49, in_Label_3, &v50, &v51);
			branch_ZPlusAB_31 = v51;
			branch_ZPlusMirth_30 = v50;
		}
		branch_ZPlusAB_9 = branch_ZPlusAB_31;
		branch_ZPlusMirth_8 = branch_ZPlusMirth_30;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_lamZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6, PTUP *out_List_7) {
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_Label_4, &v8, &v9);
	PTUP v10 = mw_std_list_List_1_cons(MKU64(in_Label_4), in_List_3);
	*out_List_7 = v10;
	*out_ZPlusAB_6 = v9;
	*out_ZPlusMirth_5 = v8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	PTUP v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(in_ZPlusMirth_1, v6, &v7);
	PTUP v9;
	PTUP v10;
	uint64_t v11 = mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang(v7, v5, v8, &v9, &v10);
	PTUP v12 = mtw_mirth_arrow_Op_BlockPush(v11);
	PTUP v13 = PTRMK(0LL /* Nil */,0,0);
	PTUP v14;
	PTUP v15;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v9, v10, v13, v12, &v14, &v15);
	*out_ZPlusAB_4 = v15;
	*out_ZPlusMirth_3 = v14;
}
static uint64_t mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v7, &v9);
	PTUP v11;
	PTUP v12 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v11);
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_FreshZBang(v11, &v13);
	PTUP v15;
	uint64_t v16 = mw_mirth_arrow_Block_MakeZBang(v13, v8, in_Token_3, v10, v12, v14, &v15);
	PTUP v17 = mtw_mirth_mirth_PropLabel_BlockArrow(v16);
	PTUP v18 = VTUP(((TUP*)PTRPTR(v15))->cells[6]);
	incref(MKTUP(v18));
	FNPTR v19 = &mb_mirth_mirth_PropLabel_prop_1_sp3_0;
	PTUP v20 = mtw_mirth_mirth_PropState_1_Delay(v18, MKU64(v16), MKFNPTR(v19));
	PTUP v21 = mtw_mirth_mirth_Prop_1_Prop(v17, v20);
	incref(MKU64(v16));
	void* v22 = field_mut(&mfld_mirth_arrow_Block_ZTildearrow, value_u64(MKU64(v16)));
	mut_set(MKTUP(v21), v22);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v15;
	return value_u64(MKU64(v16));
}
static PTUP mw_mirth_elab_ZPlusAB_elabZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v6;
	uint64_t v7 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_args(in_ZPlusMirth_1, v7, &v8);
	PTUP v10 = PTRMK(0LL /* Nil */,0,0);
	PTUP v11;
	mw_std_list_List_1_buildZBang(v10, &v11);
	bool v12 = true;
	PTUP r13 = v8;
	PTUP r14 = v6;
	PTUP r15 = v11;
	PTUP v16 = v9;
	bool v17 = v12;
	bool v18 = v12;
	while (v18) {
		PTUP r19 = r13;
		PTUP r20 = r14;
		PTUP r21 = r15;
		PTUP v22 = v16;
		bool v23 = v17;
		PTUP branch_ZPlusMirth_24;
		PTUP branch_ZPlusAB_25;
		PTUP branch_ZPlusLister_26;
		PTUP branch_List_27;
		bool branch_Bool_28;
		switch (PTREXTRA(v22)) {
			case 1LL: { // Cons
				PTUP v29;
				VAL v30 = mtp_std_list_List_1_Cons(v22, &v29);
				PTUP v31;
				PTUP v32;
				uint64_t v33 = mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang(r19, r20, value_u64(v30), &v31, &v32);
				PTUP v34;
				mw_std_list_ZPlusLister_1_pushZBang(MKU64(v33), r21, &v34);
				bool v35 = true;
				branch_Bool_28 = v35;
				branch_List_27 = v29;
				branch_ZPlusLister_26 = v34;
				branch_ZPlusAB_25 = v32;
				branch_ZPlusMirth_24 = v31;
			} break;
			case 0LL: { // Nil
				PTUP v36 = PTRMK(0LL /* Nil */,0,0);
				bool v37 = false;
				branch_Bool_28 = v37;
				branch_List_27 = v36;
				branch_ZPlusLister_26 = r21;
				branch_ZPlusAB_25 = r20;
				branch_ZPlusMirth_24 = r19;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_28;
		v17 = branch_Bool_28;
		v16 = branch_List_27;
		r15 = branch_ZPlusLister_26;
		r14 = branch_ZPlusAB_25;
		r13 = branch_ZPlusMirth_24;
	}
	decref(MKTUP(v16));
	PTUP v38 = mw_std_list_ZPlusLister_1_doneZBang(r15);
	*out_ZPlusAB_4 = r14;
	*out_ZPlusMirth_3 = r13;
	return v38;
}
static PTUP mw_mirth_elab_ZPlusAB_elabZ_wordZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5, uint64_t *out_Word_7) {
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_elab_ZPlusAB_elabZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v8, &v9);
	incref(MKTUP(v10));
	INT v11 = mw_std_list_List_1_len(VTUP(MKTUP(v10)));
	incref(MKU64(in_Word_3));
	PTUP v12;
	INT v13 = mw_mirth_word_Word_arity(v8, value_u64(MKU64(in_Word_3)), &v12);
	INT v14 = v13;
	INT v15 = value_nat(MKNAT(v11));
	bool v16 = int_lt(v15, v14);
	PTUP branch_ZPlusMirth_17;
	PTUP branch_ZPlusAB_18;
	PTUP branch_List_19;
	uint64_t branch_Word_20;
	if (v16) {
		incref(MKTUP(VTUP(MKTUP(v10))));
		INT v21 = mw_std_list_List_1_len(VTUP(MKTUP(VTUP(MKTUP(v10)))));
		incref(MKU64(value_u64(MKU64(in_Word_3))));
		PTUP v22;
		PTUP v23 = mw_mirth_word_Word_params(v12, value_u64(MKU64(value_u64(MKU64(in_Word_3)))), &v22);
		PTUP v24 = mw_std_list_List_1_dropZ_slice(value_nat(MKNAT(v21)), v23);
		PTUP v25 = PTRMK(0LL /* Nil */,0,0);
		PTUP v26;
		mw_std_list_List_1_buildZBang(v25, &v26);
		bool v27 = true;
		PTUP r28 = v22;
		PTUP r29 = v9;
		PTUP r30 = v26;
		PTUP v31 = v24;
		bool v32 = v27;
		bool v33 = v27;
		while (v33) {
			PTUP r34 = r28;
			PTUP r35 = r29;
			PTUP r36 = r30;
			PTUP v37 = v31;
			bool v38 = v32;
			PTUP branch_ZPlusMirth_39;
			PTUP branch_ZPlusAB_40;
			PTUP branch_ZPlusLister_41;
			PTUP branch_List_42;
			bool branch_Bool_43;
			switch (PTREXTRA(v37)) {
				case 1LL: { // Cons
					PTUP v44;
					VAL v45 = mtp_std_list_List_1_Cons(v37, &v44);
					PTUP v46 = VTUP(((TUP*)PTRPTR(VTUP(v45)))->cells[1]);
					incref(MKTUP(v46));
					decref(MKTUP(VTUP(v45)));
					PTUP branch_ZPlusMirth_47;
					PTUP branch_ZPlusAB_48;
					uint64_t branch_Arg_49;
					switch (PTREXTRA(v46)) {
						case 1LL: { // Some
							VAL v50 = mtp_std_maybe_Maybe_1_Some(v46);
							PTUP v51;
							uint64_t v52 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(r35, &v51);
							PTUP v53;
							PTUP v54 = mw_mirth_token_Token_location(r34, v52, &v53);
							PTUP v55;
							uint64_t v56 = mw_mirth_token_Token_cloneZ_runZBang(v53, v54, value_u64(v50), &v55);
							PTUP v57;
							PTUP v58;
							uint64_t v59 = mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang(v55, v51, v56, &v57, &v58);
							branch_Arg_49 = v59;
							branch_ZPlusAB_48 = v58;
							branch_ZPlusMirth_47 = v57;
						} break;
						case 0LL: { // None
							PTUP v60;
							uint64_t v61 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(r35, &v60);
							STR* v62;
							STRLIT(v62, "word parameter is missing, has no default implementation", 56);
							mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(r34, v61, v62);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					PTUP v65;
					mw_std_list_ZPlusLister_1_pushZBang(MKU64(branch_Arg_49), r36, &v65);
					bool v66 = true;
					branch_Bool_43 = v66;
					branch_List_42 = v44;
					branch_ZPlusLister_41 = v65;
					branch_ZPlusAB_40 = branch_ZPlusAB_48;
					branch_ZPlusMirth_39 = branch_ZPlusMirth_47;
				} break;
				case 0LL: { // Nil
					PTUP v67 = PTRMK(0LL /* Nil */,0,0);
					bool v68 = false;
					branch_Bool_43 = v68;
					branch_List_42 = v67;
					branch_ZPlusLister_41 = r36;
					branch_ZPlusAB_40 = r35;
					branch_ZPlusMirth_39 = r34;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v33 = branch_Bool_43;
			v32 = branch_Bool_43;
			v31 = branch_List_42;
			r30 = branch_ZPlusLister_41;
			r29 = branch_ZPlusAB_40;
			r28 = branch_ZPlusMirth_39;
		}
		decref(MKTUP(v31));
		PTUP v69 = mw_std_list_ZPlusLister_1_doneZBang(r30);
		PTUP v70 = mw_std_list_List_1_cat(VTUP(MKTUP(VTUP(MKTUP(v10)))), v69);
		branch_Word_20 = value_u64(MKU64(value_u64(MKU64(in_Word_3))));
		branch_List_19 = v70;
		branch_ZPlusAB_18 = r29;
		branch_ZPlusMirth_17 = r28;
	} else {
		branch_Word_20 = value_u64(MKU64(in_Word_3));
		branch_List_19 = VTUP(MKTUP(v10));
		branch_ZPlusAB_18 = v9;
		branch_ZPlusMirth_17 = v12;
	}
	*out_Word_7 = branch_Word_20;
	*out_ZPlusAB_5 = branch_ZPlusAB_18;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_17;
	return branch_List_19;
}
static void mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	PTUP v7;
	mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, v6, &v7);
	*out_ZPlusAB_4 = v5;
	*out_ZPlusMirth_3 = v7;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_var_Ctx_lookup(in_ZPlusMirth_1, in_Name_3, v7, &v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusAB_11;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v9);
			decref(MKU64(in_Name_3));
			PTUP v13;
			PTUP v14;
			mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang(v8, v6, &v13, &v14);
			PTUP v15;
			PTUP v16;
			mw_mirth_elab_ZPlusAB_abZ_varZBang(v13, v14, value_u64(v12), &v15, &v16);
			branch_ZPlusAB_11 = v16;
			branch_ZPlusMirth_10 = v15;
		} break;
		case 0LL: { // None
			PTUP v17 = mtw_std_either_Either_2_Left(MKU64(in_Name_3));
			PTUP v18;
			PTUP v19;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_resolveZ_defZBang(v8, v6, v17, &v18, &v19);
			branch_ZPlusAB_11 = v19;
			branch_ZPlusMirth_10 = v18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_dnameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_DName_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6 = mtw_std_either_Either_2_Right(MKTUP(in_DName_3));
	PTUP v7;
	PTUP v8;
	mw_mirth_elab_ZPlusAB_elabZ_atomZ_resolveZ_defZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static bool mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (PTREXTRA(v6)) {
		case 27LL: { // Name
			uint64_t v9 = mtp_mirth_token_TokenValue_Name(v6);
			PTUP v10;
			bool v11 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(v5, v9, &v10);
			branch_Bool_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 28LL: { // DName
			PTUP v12 = mtp_mirth_token_TokenValue_DName(v6);
			bool v13 = mw_mirth_name_DName_isZ_relativeZAsk(v12);
			branch_Bool_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(MKTUP(v6));
			bool v14 = false;
			branch_Bool_8 = v14;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_resolveZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Either_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v6);
	PTUP v8;
	bool v9 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(in_ZPlusMirth_1, v7, &v8);
	bool v10 = !v9;
	PTUP v11;
	uint64_t v12 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v6, &v11);
	STR* v13;
	STRLIT(v13, "word", 4);
	bool v14 = false;
	PTUP v15;
	PTUP v16;
	mw_mirth_elab_ZPlusResolveDef_BeginZBang(v13, v12, in_Either_3, v14, v10, v8, &v15, &v16);
	PTUP v17 = VTUP(((TUP*)PTRPTR(v16))->cells[3]);
	incref(MKTUP(v17));
	PTUP v18 = PTRMK(0LL /* Nil */,0,0);
	PTUP v19 = PTRMK(0LL /* Nil */,0,0);
	bool v20 = true;
	PTUP r21 = v15;
	VAL r22 = MKTUP(v16);
	PTUP v23 = VTUP(MKTUP(v18));
	PTUP v24 = VTUP(MKTUP(v19));
	PTUP v25 = VTUP(MKTUP(v17));
	bool v26 = v20;
	bool v27 = v20;
	while (v27) {
		PTUP r28 = r21;
		VAL r29 = r22;
		PTUP v30 = v23;
		PTUP v31 = v24;
		PTUP v32 = v25;
		bool v33 = v26;
		PTUP branch_ZPlusMirth_34;
		VAL branch_z_x1_35;
		PTUP branch_List_36;
		PTUP branch_List_37;
		PTUP branch_List_38;
		bool branch_Bool_39;
		switch (PTREXTRA(v32)) {
			case 1LL: { // Cons
				PTUP v40;
				VAL v41 = mtp_std_list_List_1_Cons(v32, &v40);
				incref(MKTUP(VTUP(v41)));
				PTUP v42;
				bool v43 = mw_mirth_def_Def_callableZAsk(r28, VTUP(v41), &v42);
				PTUP branch_ZPlusMirth_44;
				VAL branch_z_x1_45;
				PTUP branch_Either_46;
				if (v43) {
					PTUP v47 = mtw_std_either_Either_2_Right(MKTUP(VTUP(v41)));
					branch_Either_46 = v47;
					branch_z_x1_45 = r29;
					branch_ZPlusMirth_44 = v42;
				} else {
					PTUP v48 = mtw_mirth_elab_RejectedDef_WrongSort(VTUP(v41));
					PTUP v49 = mtw_std_either_Either_2_Left(MKTUP(v48));
					branch_Either_46 = v49;
					branch_z_x1_45 = r29;
					branch_ZPlusMirth_44 = v42;
				}
				PTUP branch_ZPlusMirth_50;
				VAL branch_z_x1_51;
				PTUP branch_List_52;
				PTUP branch_List_53;
				switch (PTREXTRA(branch_Either_46)) {
					case 0LL: { // Left
						VAL v54 = mtp_std_either_Either_2_Left(branch_Either_46);
						PTUP v55 = mw_std_list_List_1_cons(MKTUP(VTUP(v54)), VTUP(MKTUP(v30)));
						branch_List_53 = VTUP(MKTUP(v31));
						branch_List_52 = v55;
						branch_z_x1_51 = branch_z_x1_45;
						branch_ZPlusMirth_50 = branch_ZPlusMirth_44;
					} break;
					case 1LL: { // Right
						VAL v56 = mtp_std_either_Either_2_Right(branch_Either_46);
						PTUP v57 = mw_std_list_List_1_cons(MKTUP(VTUP(v56)), VTUP(MKTUP(v31)));
						branch_List_53 = v57;
						branch_List_52 = VTUP(MKTUP(v30));
						branch_z_x1_51 = branch_z_x1_45;
						branch_ZPlusMirth_50 = branch_ZPlusMirth_44;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v58 = true;
				branch_Bool_39 = v58;
				branch_List_38 = v40;
				branch_List_37 = branch_List_53;
				branch_List_36 = branch_List_52;
				branch_z_x1_35 = branch_z_x1_51;
				branch_ZPlusMirth_34 = branch_ZPlusMirth_50;
			} break;
			case 0LL: { // Nil
				PTUP v59 = PTRMK(0LL /* Nil */,0,0);
				bool v60 = false;
				branch_Bool_39 = v60;
				branch_List_38 = v59;
				branch_List_37 = v31;
				branch_List_36 = v30;
				branch_z_x1_35 = r29;
				branch_ZPlusMirth_34 = r28;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v27 = branch_Bool_39;
		v26 = branch_Bool_39;
		v25 = branch_List_38;
		v24 = branch_List_37;
		v23 = branch_List_36;
		r22 = branch_z_x1_35;
		r21 = branch_ZPlusMirth_34;
	}
	decref(MKTUP(v25));
	PTUP v61 = mw_std_list_List_1_reverse(v23);
	PTUP v62 = mw_std_list_List_1_reverse(v24);
	PTUP v63 = VTUP(((TUP*)PTRPTR(VTUP(r22)))->cells[4]);
	incref(MKTUP(v63));
	PTUP v64 = mw_std_list_List_1_cat(v61, v63);
	PTUP v65 = VTUP(((TUP*)PTRPTR(VTUP(r22)))->cells[4]);
	decref(MKTUP(v65));
	((TUP*)PTRPTR(VTUP(r22)))->cells[4] = MKTUP(v64);
	PTUP v66 = VTUP(((TUP*)PTRPTR(VTUP(r22)))->cells[3]);
	decref(MKTUP(v66));
	((TUP*)PTRPTR(VTUP(r22)))->cells[3] = MKTUP(v62);
	PTUP v67;
	PTUP v68;
	mw_mirth_elab_ZPlusResolveDef_filterZ_arity(r21, VTUP(r22), &v67, &v68);
	PTUP v69;
	PTUP v70;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v67, v68, &v69, &v70);
	uint64_t v71 = value_u64(((TUP*)PTRPTR(v70))->cells[1]);
	PTUP v72;
	bool v73 = mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk(v69, v71, &v72);
	PTUP branch_ZPlusAB_74;
	PTUP branch_ZPlusMirth_75;
	PTUP branch_ZPlusResolveDef_76;
	if (v73) {
		PTUP v77;
		PTUP v78 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v11, &v77);
		PTUP v79;
		bool v80 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v72, v78, &v79);
		PTUP branch_ZPlusAB_81;
		PTUP branch_ZPlusMirth_82;
		PTUP branch_ZPlusResolveDef_83;
		if (v80) {
			PTUP v84;
			PTUP v85 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v77, &v84);
			PTUP v86;
			PTUP v87 = mw_mirth_type_StackType_topZ_namespaces(v79, v85, &v86);
			PTUP v88;
			PTUP v89;
			mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v86, v70, v87, &v88, &v89);
			branch_ZPlusResolveDef_83 = v89;
			branch_ZPlusMirth_82 = v88;
			branch_ZPlusAB_81 = v84;
		} else {
			branch_ZPlusResolveDef_83 = v70;
			branch_ZPlusMirth_82 = v79;
			branch_ZPlusAB_81 = v77;
		}
		branch_ZPlusResolveDef_76 = branch_ZPlusResolveDef_83;
		branch_ZPlusMirth_75 = branch_ZPlusMirth_82;
		branch_ZPlusAB_74 = branch_ZPlusAB_81;
	} else {
		PTUP v90 = PTRMK(0LL /* Nil */,0,0);
		PTUP v91;
		PTUP v92;
		mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v72, v70, v90, &v91, &v92);
		branch_ZPlusResolveDef_76 = v92;
		branch_ZPlusMirth_75 = v91;
		branch_ZPlusAB_74 = v11;
	}
	PTUP v93;
	PTUP v94 = mw_mirth_elab_ZPlusResolveDef_endZBang(branch_ZPlusMirth_75, branch_ZPlusResolveDef_76, &v93);
	PTUP branch_ZPlusMirth_95;
	PTUP branch_ZPlusAB_96;
	switch (PTREXTRA(v94)) {
		case 0LL: { // None
			PTUP v97;
			PTUP v98;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_failedZBang(v93, branch_ZPlusAB_74, &v97, &v98);
			branch_ZPlusAB_96 = v98;
			branch_ZPlusMirth_95 = v97;
		} break;
		case 1LL: { // Some
			VAL v99 = mtp_std_maybe_Maybe_1_Some(v94);
			PTUP v100;
			PTUP v101;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_defZBang(v93, branch_ZPlusAB_74, VTUP(v99), &v100, &v101);
			branch_ZPlusAB_96 = v101;
			branch_ZPlusMirth_95 = v100;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_96;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_95;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_failedZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5 = PTRMK(0LL /* Error */,0,0);
	PTUP v6;
	mw_mirth_elab_ZPlusAB_abZ_typeZBang(in_ZPlusAB_2, v5, &v6);
	*out_ZPlusAB_4 = v6;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusAB_7;
	switch (PTREXTRA(in_Def_3)) {
		case 0LL: { // Alias
			uint64_t v8 = mtp_mirth_def_Def_Alias(in_Def_3);
			PTUP v9;
			PTUP v10 = mw_mirth_alias_Alias_target(in_ZPlusMirth_1, v8, &v9);
			PTUP v11;
			PTUP v12;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_defZBang(v9, in_ZPlusAB_2, v10, &v11, &v12);
			branch_ZPlusAB_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 9LL: { // Buffer
			uint64_t v13 = mtp_mirth_def_Def_Buffer(in_Def_3);
			PTUP v14;
			PTUP v15;
			mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v14, &v15);
			PTUP v16;
			PTUP v17;
			mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v14, v15, v13, &v16, &v17);
			branch_ZPlusAB_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 10LL: { // External
			uint64_t v18 = mtp_mirth_def_Def_External(in_Def_3);
			PTUP v19;
			PTUP v20;
			mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v19, &v20);
			PTUP v21;
			PTUP v22;
			mw_mirth_elab_ZPlusAB_abZ_externalZBang(v19, v20, v18, &v21, &v22);
			branch_ZPlusAB_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		case 11LL: { // Field
			uint64_t v23 = mtp_mirth_def_Def_Field(in_Def_3);
			PTUP v24;
			PTUP v25;
			mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v24, &v25);
			PTUP v26;
			PTUP v27;
			mw_mirth_elab_ZPlusAB_abZ_fieldZBang(v24, v25, v23, &v26, &v27);
			branch_ZPlusAB_7 = v27;
			branch_ZPlusMirth_6 = v26;
		} break;
		case 8LL: { // Word
			uint64_t v28 = mtp_mirth_def_Def_Word(in_Def_3);
			PTUP v29;
			PTUP v30;
			uint64_t v31;
			PTUP v32 = mw_mirth_elab_ZPlusAB_elabZ_wordZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v28, &v29, &v30, &v31);
			PTUP v33;
			PTUP v34;
			mw_mirth_elab_ZPlusAB_abZ_wordZBang(v29, v30, v32, v31, &v33, &v34);
			branch_ZPlusAB_7 = v34;
			branch_ZPlusMirth_6 = v33;
		} break;
		case 6LL: { // Tag
			uint64_t v35 = mtp_mirth_def_Def_Tag(in_Def_3);
			PTUP v36;
			PTUP v37;
			PTUP v38 = mw_mirth_elab_ZPlusAB_elabZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v36, &v37);
			PTUP v39 = mtw_mirth_arrow_Op_Tag(v35);
			PTUP v40;
			PTUP v41;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(v36, v37, v38, v39, &v40, &v41);
			branch_ZPlusAB_7 = v41;
			branch_ZPlusMirth_6 = v40;
		} break;
		case 7LL: { // Prim
			int64_t v42 = mtp_mirth_def_Def_Prim(in_Def_3);
			PTUP v43;
			PTUP v44;
			mw_mirth_elab_ZPlusAB_elabZ_primZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v42, &v43, &v44);
			branch_ZPlusAB_7 = v44;
			branch_ZPlusMirth_6 = v43;
		} break;
		case 12LL: { // Macro
			uint64_t v45 = mtp_mirth_def_Def_Macro(in_Def_3);
			PTUP v46;
			PTUP v47;
			mw_mirth_elab_ZPlusAB_elabZ_macroZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v45, &v46, &v47);
			branch_ZPlusAB_7 = v47;
			branch_ZPlusMirth_6 = v46;
		} break;
		default: {
			PTUP v48;
			PTUP v49 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_3, &v48);
			PTUP v50;
			PTUP v51;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_notZ_callableZBang(v48, in_ZPlusAB_2, v49, &v50, &v51);
			branch_ZPlusAB_7 = v51;
			branch_ZPlusMirth_6 = v50;
		} break;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_notZ_callableZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v6);
	PTUP v8;
	bool v9 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(in_ZPlusMirth_1, v7, &v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusAB_11;
	if (v9) {
		PTUP v12;
		uint64_t v13 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v6, &v12);
		STR* v14;
		STRLIT(v14, "", 0);
		STR* v15;
		STRLIT(v15, "Not callable: ", 14);
		STR* v16;
		mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
		PTUP v17;
		STR* v18;
		mw_mirth_name_QName_qnameZThen(v8, v16, in_QName_3, &v17, &v18);
		PTUP v19;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v17, v13, v18, &v19);
		branch_ZPlusAB_11 = v12;
		branch_ZPlusMirth_10 = v19;
	} else {
		decref(MKTUP(in_QName_3));
		branch_ZPlusAB_11 = v6;
		branch_ZPlusMirth_10 = v8;
	}
	PTUP v20;
	PTUP v21;
	mw_mirth_elab_ZPlusAB_elabZ_atomZ_failedZBang(branch_ZPlusMirth_10, branch_ZPlusAB_11, &v20, &v21);
	*out_ZPlusAB_5 = v21;
	*out_ZPlusMirth_4 = v20;
}
static void mw_mirth_elab_ZPlusAB_elabZ_macroZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Macro_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_macro_Macro_action(in_ZPlusMirth_1, in_Macro_3, &v6);
	PTUP v8 = mw_mirth_macro_MacroAction_arrowZAsk(v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusAB_10;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			push_resource(MKTUP(v6));
			push_resource(MKTUP(in_ZPlusAB_2));
			run_value(v11);
			PTUP r12 = VTUP(pop_resource());
			branch_ZPlusAB_10 = r12;
			PTUP r13 = VTUP(pop_resource());
			branch_ZPlusMirth_9 = r13;
		} break;
		case 0LL: { // None
			PTUP v14;
			uint64_t v15 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v14);
			STR* v16;
			STRLIT(v16, "macro cannot be invoked here", 28);
			PTUP v17;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, v15, v16, &v17);
			PTUP v18 = PTRMK(0LL /* Error */,0,0);
			PTUP v19;
			mw_mirth_elab_ZPlusAB_abZ_typeZBang(v14, v18, &v19);
			branch_ZPlusAB_10 = v19;
			branch_ZPlusMirth_9 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_elab_ZPlusAB_elabZ_primZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, int64_t in_Prim_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusAB_elabZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v6, &v7);
	PTUP v9;
	PTUP v10;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v6, v7, v8, in_Prim_3, &v9, &v10);
	*out_ZPlusAB_5 = v10;
	*out_ZPlusMirth_4 = v9;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_assertZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	PTUP v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(in_ZPlusMirth_1, v6, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v5, &v9);
	bool v11 = true;
	bool v12 = false;
	PTUP v13;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v10, v8, v11, v12, &v13);
	PTUP v14 = mw_mirth_type_T0();
	PTUP v15;
	PTUP v16;
	PTUP v17 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v7, v13, v14, &v15, &v16);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v16);
	PTUP v18;
	uint64_t v19 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(VTUP(MKTUP(v9)), &v18);
	PTUP v20;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(v15, v19, &v20);
	PTUP v21;
	PTUP v22 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v18, &v21);
	PTUP v23;
	PTUP v24 = mw_mirth_type_StackType_unifyZBang(v20, v22, v17, &v23);
	decref(MKTUP(v24));
	*out_ZPlusAB_4 = v21;
	*out_ZPlusMirth_3 = v23;
}
static void mw_mirth_elab_ZPlusAB_elabZ_parseZ_ldipZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4, PTUP *out_Maybe_5, uint64_t *out_Token_6) {
	PTUP v7;
	uint64_t v8 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_token_Token_next(in_ZPlusMirth_1, v8, &v9);
	PTUP v11;
	PTUP v12 = mw_mirth_token_Token_lcurlyZAsk(v9, v10, &v11);
	int64_t v13 = PTREXTRA(v12);
	decref(MKTUP(v12));
	INT v14 = WRAP_I63(0LL);
	INT v15 = v14;
	INT v16 = i64_to_int(v13);
	bool v17 = int_eq(v16, v15);
	bool v18 = !v17;
	PTUP branch_Maybe_19;
	uint64_t branch_Token_20;
	PTUP branch_ZPlusMirth_21;
	PTUP branch_ZPlusAB_22;
	if (v18) {
		PTUP v23;
		uint64_t v24 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v23);
		PTUP v25;
		INT v26 = mw_mirth_token_Token_numZ_args(v11, v24, &v25);
		INT v27 = WRAP_I63(0LL);
		INT v28 = v27;
		INT v29 = v26;
		bool v30 = int_eq(v29, v28);
		PTUP branch_ZPlusMirth_31;
		PTUP branch_ZPlusAB_32;
		PTUP branch_Maybe_33;
		if (v30) {
			PTUP v34 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_33 = v34;
			branch_ZPlusAB_32 = v23;
			branch_ZPlusMirth_31 = v25;
		} else {
			PTUP v35;
			uint64_t v36 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v23, &v35);
			PTUP v37;
			uint64_t v38 = mw_mirth_token_Token_argsZ_1(v25, v36, &v37);
			PTUP v39 = mtw_std_maybe_Maybe_1_Some(MKU64(v38));
			branch_Maybe_33 = v39;
			branch_ZPlusAB_32 = v35;
			branch_ZPlusMirth_31 = v37;
		}
		PTUP v40;
		uint64_t v41 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(branch_ZPlusAB_32, &v40);
		PTUP v42;
		uint64_t v43 = mw_mirth_token_Token_next(branch_ZPlusMirth_31, v41, &v42);
		PTUP v44;
		uint64_t v45 = mw_mirth_token_Token_succ(v42, v43, &v44);
		PTUP v46;
		uint64_t v47 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v40, &v46);
		PTUP v48;
		uint64_t v49 = mw_mirth_token_Token_next(v44, v47, &v48);
		PTUP v50;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v46, v49, &v50);
		branch_ZPlusAB_22 = v50;
		branch_ZPlusMirth_21 = v48;
		branch_Token_20 = v45;
		branch_Maybe_19 = branch_Maybe_33;
	} else {
		PTUP v51;
		uint64_t v52 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v51);
		PTUP v53;
		INT v54 = mw_mirth_token_Token_numZ_args(v11, v52, &v53);
		incref(MKNAT(v54));
		INT v55 = WRAP_I63(0LL);
		INT v56 = v55;
		INT v57 = v54;
		bool v58 = int_eq(v57, v56);
		PTUP branch_Maybe_59;
		PTUP branch_ZPlusMirth_60;
		uint64_t branch_Token_61;
		PTUP branch_ZPlusAB_62;
		if (v58) {
			PTUP v63;
			uint64_t v64 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v51, &v63);
			STR* v65;
			STRLIT(v65, "Missing ldip body: ldip { ... }", 31);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v53, v64, v65);
		} else {
			INT v69 = WRAP_I63(1LL);
			INT v70 = v54;
			bool v71 = int_eq(v70, v69);
			PTUP branch_Maybe_72;
			PTUP branch_ZPlusMirth_73;
			PTUP branch_ZPlusAB_74;
			uint64_t branch_Token_75;
			if (v71) {
				PTUP v76 = PTRMK(0LL /* None */,0,0);
				PTUP v77;
				uint64_t v78 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v51, &v77);
				PTUP v79;
				uint64_t v80 = mw_mirth_token_Token_argsZ_1(v53, v78, &v79);
				branch_Token_75 = v80;
				branch_ZPlusAB_74 = v77;
				branch_ZPlusMirth_73 = v79;
				branch_Maybe_72 = v76;
			} else {
				PTUP v81;
				uint64_t v82 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v51, &v81);
				PTUP v83;
				uint64_t v84;
				uint64_t v85 = mw_mirth_token_Token_argsZ_2(v53, v82, &v83, &v84);
				PTUP v86 = mtw_std_maybe_Maybe_1_Some(MKU64(v85));
				branch_Token_75 = v84;
				branch_ZPlusAB_74 = v81;
				branch_ZPlusMirth_73 = v83;
				branch_Maybe_72 = v86;
			}
			branch_ZPlusAB_62 = branch_ZPlusAB_74;
			branch_Token_61 = branch_Token_75;
			branch_ZPlusMirth_60 = branch_ZPlusMirth_73;
			branch_Maybe_59 = branch_Maybe_72;
		}
		branch_ZPlusAB_22 = branch_ZPlusAB_62;
		branch_ZPlusMirth_21 = branch_ZPlusMirth_60;
		branch_Token_20 = branch_Token_61;
		branch_Maybe_19 = branch_Maybe_59;
	}
	PTUP branch_ZPlusMirth_87;
	VAL branch_z_x1_88;
	PTUP branch_Maybe_89;
	switch (PTREXTRA(branch_Maybe_19)) {
		case 1LL: { // Some
			VAL v90 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_19);
			PTUP v91;
			PTUP v92 = mw_mirth_mirth_ZPlusMirth_parseZ_labelZ_names(branch_ZPlusMirth_21, value_u64(v90), &v91);
			PTUP v93 = mtw_std_maybe_Maybe_1_Some(MKTUP(v92));
			branch_Maybe_89 = v93;
			branch_z_x1_88 = MKTUP(branch_ZPlusAB_22);
			branch_ZPlusMirth_87 = v91;
		} break;
		case 0LL: { // None
			PTUP v94 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_89 = v94;
			branch_z_x1_88 = MKTUP(branch_ZPlusAB_22);
			branch_ZPlusMirth_87 = branch_ZPlusMirth_21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Token_6 = branch_Token_20;
	*out_Maybe_5 = branch_Maybe_89;
	*out_ZPlusAB_4 = VTUP(branch_z_x1_88);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_87;
}
static PTUP mw_mirth_mirth_ZPlusMirth_parseZ_labelZ_names (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_runZ_tokens(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	PTUP r10 = v5;
	PTUP r11 = v8;
	PTUP v12 = v6;
	bool v13 = v9;
	bool v14 = v9;
	while (v14) {
		PTUP r15 = r10;
		PTUP r16 = r11;
		PTUP v17 = v12;
		bool v18 = v13;
		PTUP branch_ZPlusMirth_19;
		PTUP branch_ZPlusLister_20;
		PTUP branch_List_21;
		bool branch_Bool_22;
		switch (PTREXTRA(v17)) {
			case 1LL: { // Cons
				PTUP v23;
				VAL v24 = mtp_std_list_List_1_Cons(v17, &v23);
				PTUP v25;
				mw_mirth_token_Token_argsZ_0(r15, value_u64(v24), &v25);
				PTUP v26;
				PTUP v27 = mw_mirth_token_Token_nameZAsk(v25, value_u64(v24), &v26);
				PTUP branch_ZPlusMirth_28;
				uint64_t branch_Token_29;
				VAL branch_z_x1_30;
				switch (PTREXTRA(v27)) {
					case 1LL: { // Some
						VAL v31 = mtp_std_maybe_Maybe_1_Some(v27);
						branch_z_x1_30 = v31;
						branch_Token_29 = value_u64(v24);
						branch_ZPlusMirth_28 = v26;
					} break;
					case 0LL: { // None
						STR* v32;
						STRLIT(v32, "Expected label name.", 20);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v26, value_u64(v24), v32);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v36;
				bool v37 = mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk(branch_ZPlusMirth_28, value_u64(branch_z_x1_30), &v36);
				uint64_t branch_Token_38;
				PTUP branch_ZPlusMirth_39;
				uint64_t branch_Name_40;
				if (v37) {
					branch_Name_40 = value_u64(branch_z_x1_30);
					branch_ZPlusMirth_39 = v36;
					branch_Token_38 = branch_Token_29;
				} else {
					STR* v41;
					STRLIT(v41, "", 0);
					STR* v42;
					STRLIT(v42, "Invalid label name: ", 20);
					STR* v43;
					mw_std_str_ZPlusStr_pushZ_strZBang(v42, v41, &v43);
					PTUP v44;
					STR* v45;
					mw_mirth_name_Name_nameZThen(v36, v43, value_u64(branch_z_x1_30), &v44, &v45);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v44, branch_Token_29, v45);
				}
				PTUP v49;
				uint64_t v50 = mw_mirth_label_Label_Label(branch_ZPlusMirth_39, branch_Name_40, &v49);
				decref(MKU64(branch_Token_38));
				PTUP v51;
				mw_std_list_ZPlusLister_1_pushZBang(MKU64(value_u64(MKU64(v50))), r16, &v51);
				bool v52 = true;
				branch_Bool_22 = v52;
				branch_List_21 = v23;
				branch_ZPlusLister_20 = v51;
				branch_ZPlusMirth_19 = v49;
			} break;
			case 0LL: { // Nil
				PTUP v53 = PTRMK(0LL /* Nil */,0,0);
				bool v54 = false;
				branch_Bool_22 = v54;
				branch_List_21 = v53;
				branch_ZPlusLister_20 = r16;
				branch_ZPlusMirth_19 = r15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_22;
		v13 = branch_Bool_22;
		v12 = branch_List_21;
		r11 = branch_ZPlusLister_20;
		r10 = branch_ZPlusMirth_19;
	}
	decref(MKTUP(v12));
	PTUP v55 = mw_std_list_ZPlusLister_1_doneZBang(r11);
	*out_ZPlusMirth_3 = r10;
	return v55;
}
static void mw_mirth_elab_ZPlusAB_elabZ_ldipZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	PTUP v6;
	PTUP v7;
	uint64_t v8;
	mw_mirth_elab_ZPlusAB_elabZ_parseZ_ldipZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v5, &v6, &v7, &v8);
	PTUP v9;
	uint64_t v10 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v6, &v9);
	PTUP branch_ZPlusMirth_11;
	PTUP branch_ZPlusAB_12;
	PTUP branch_List_13;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_List_13 = VTUP(v14);
			branch_ZPlusAB_12 = v9;
			branch_ZPlusMirth_11 = v5;
		} break;
		case 0LL: { // None
			PTUP v15;
			PTUP v16 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v9, &v15);
			PTUP v17;
			PTUP v18 = mw_mirth_type_StackType_labelZ_names(v5, v16, &v17);
			PTUP v19 = mw_std_list_List_1_unique_sp1(v18);
			branch_List_13 = v19;
			branch_ZPlusAB_12 = v15;
			branch_ZPlusMirth_11 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v20;
	PTUP v21;
	mw_mirth_elab_ZPlusAB_abZ_ldipZBang_1_sp1(branch_ZPlusMirth_11, branch_ZPlusAB_12, v8, branch_List_13, &v20, &v21);
	PTUP v22;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v21, v10, &v22);
	*out_ZPlusAB_4 = v22;
	*out_ZPlusMirth_3 = v20;
}
static void mw_mirth_elab_ZPlusAB_elabZ_ldropZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	PTUP v7;
	INT v8 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, v6, &v7);
	INT v9 = WRAP_I63(0LL);
	INT v10 = v8;
	INT v11 = v9;
	bool v12 = int_lt(v11, v10);
	PTUP branch_ZPlusAB_13;
	PTUP branch_ZPlusMirth_14;
	PTUP branch_List_15;
	if (v12) {
		PTUP v16;
		uint64_t v17 = mw_mirth_token_Token_argsZ_1(v7, v6, &v16);
		PTUP v18;
		PTUP v19 = mw_mirth_mirth_ZPlusMirth_parseZ_labelZ_names(v16, v17, &v18);
		branch_List_15 = v19;
		branch_ZPlusMirth_14 = v18;
		branch_ZPlusAB_13 = v5;
	} else {
		PTUP v20;
		mw_mirth_token_Token_argsZ_0(v7, v6, &v20);
		PTUP v21;
		PTUP v22 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v5, &v21);
		PTUP v23;
		PTUP v24 = mw_mirth_type_StackType_labelZ_names(v20, v22, &v23);
		PTUP v25 = mw_std_list_List_1_unique_sp1(v24);
		branch_List_15 = v25;
		branch_ZPlusMirth_14 = v23;
		branch_ZPlusAB_13 = v21;
	}
	bool v26 = true;
	PTUP r27 = branch_ZPlusAB_13;
	PTUP r28 = branch_ZPlusMirth_14;
	PTUP v29 = branch_List_15;
	bool v30 = v26;
	bool v31 = v26;
	while (v31) {
		PTUP r32 = r27;
		PTUP r33 = r28;
		PTUP v34 = v29;
		bool v35 = v30;
		PTUP branch_ZPlusAB_36;
		PTUP branch_ZPlusMirth_37;
		PTUP branch_List_38;
		bool branch_Bool_39;
		switch (PTREXTRA(v34)) {
			case 1LL: { // Cons
				PTUP v40;
				VAL v41 = mtp_std_list_List_1_Cons(v34, &v40);
				PTUP v42;
				bool v43 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(r33, value_u64(v41), &v42);
				PTUP branch_ZPlusMirth_44;
				PTUP branch_ZPlusAB_45;
				if (v43) {
					PTUP v46;
					PTUP v47;
					mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v42, r32, value_u64(v41), &v46, &v47);
					PTUP v48 = PTRMK(0LL /* Nil */,0,0);
					STR* v49;
					STRLIT(v49, "rdrop", 5);
					PTUP v50;
					uint64_t v51 = mw_mirth_name_Name_Name(v46, v49, &v50);
					PTUP v52;
					PTUP v53;
					mw_mirth_elab_ZPlusAB_abZ_rmethodZBang(v50, v47, v48, v51, &v52, &v53);
					branch_ZPlusAB_45 = v53;
					branch_ZPlusMirth_44 = v52;
				} else {
					PTUP v54;
					PTUP v55;
					mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v42, r32, value_u64(v41), &v54, &v55);
					PTUP v56 = PTRMK(0LL /* Nil */,0,0);
					int64_t v57 = 2LL /* Drop */;
					PTUP v58;
					PTUP v59;
					mw_mirth_elab_ZPlusAB_abZ_primZBang(v54, v55, v56, v57, &v58, &v59);
					branch_ZPlusAB_45 = v59;
					branch_ZPlusMirth_44 = v58;
				}
				bool v60 = true;
				branch_Bool_39 = v60;
				branch_List_38 = v40;
				branch_ZPlusMirth_37 = branch_ZPlusMirth_44;
				branch_ZPlusAB_36 = branch_ZPlusAB_45;
			} break;
			case 0LL: { // Nil
				PTUP v61 = PTRMK(0LL /* Nil */,0,0);
				bool v62 = false;
				branch_Bool_39 = v62;
				branch_List_38 = v61;
				branch_ZPlusMirth_37 = r33;
				branch_ZPlusAB_36 = r32;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v31 = branch_Bool_39;
		v30 = branch_Bool_39;
		v29 = branch_List_38;
		r28 = branch_ZPlusMirth_37;
		r27 = branch_ZPlusAB_36;
	}
	decref(MKTUP(v29));
	*out_ZPlusAB_4 = r27;
	*out_ZPlusMirth_3 = r28;
}
static void mw_mirth_elab_ZPlusAB_abZ_rmethodZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, uint64_t in_Name_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk(in_ZPlusMirth_1, v8, &v9);
	uint64_t branch_Name_11;
	PTUP branch_ZPlusMirth_12;
	PTUP branch_ZPlusAB_13;
	switch (PTREXTRA(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			incref(MKTUP(VTUP(v14)));
			PTUP v15 = mw_mirth_tycon_Tycon_ZToNamespace(VTUP(v14));
			incref(MKTUP(in_List_3));
			INT v16 = mw_std_list_List_1_len(in_List_3);
			INT v17 = v16;
			PTUP v18 = mtw_mirth_name_QName_QName(v15, in_Name_4, v17);
			PTUP v19;
			PTUP v20 = mw_mirth_name_QName_defZ_hardZAsk(v9, v18, &v19);
			uint64_t branch_Name_21;
			PTUP branch_Tycon_22;
			PTUP branch_ZPlusMirth_23;
			PTUP branch_ZPlusAB_24;
			switch (PTREXTRA(v20)) {
				case 1LL: { // Some
					VAL v25 = mtp_std_maybe_Maybe_1_Some(v20);
					PTUP v26;
					PTUP v27;
					mw_mirth_elab_ZPlusAB_abZ_defZBang(v19, v7, in_List_3, VTUP(v25), &v26, &v27);
					branch_ZPlusAB_24 = v27;
					branch_ZPlusMirth_23 = v26;
					branch_Tycon_22 = VTUP(v14);
					branch_Name_21 = in_Name_4;
				} break;
				case 0LL: { // None
					STR* v28;
					STRLIT(v28, "", 0);
					STR* v29;
					STRLIT(v29, "Resource ", 9);
					STR* v30;
					mw_std_str_ZPlusStr_pushZ_strZBang(v29, v28, &v30);
					incref(MKTUP(VTUP(v14)));
					PTUP v31;
					STR* v32;
					mw_mirth_tycon_Tycon_qnameZThen(v19, v30, VTUP(v14), &v31, &v32);
					STR* v33;
					STRLIT(v33, " doesn't implement ", 19);
					STR* v34;
					mw_std_str_ZPlusStr_pushZ_strZBang(v33, v32, &v34);
					PTUP v35;
					STR* v36;
					mw_mirth_name_Name_nameZThen(v31, v34, in_Name_4, &v35, &v36);
					STR* v37;
					STRLIT(v37, "/", 1);
					STR* v38;
					mw_std_str_ZPlusStr_pushZ_strZBang(v37, v36, &v38);
					INT v39 = mw_std_list_List_1_len(in_List_3);
					INT v40 = v39;
					STR* v41 = int_to_str(v40);
					STR* v42;
					mw_std_str_ZPlusStr_pushZ_strZBang(v41, v38, &v42);
					PTUP v43;
					PTUP v44;
					mw_mirth_elab_ZPlusAB_abZ_errorZBang(v35, VTUP(MKTUP(v7)), v42, &v43, &v44);
					branch_ZPlusAB_24 = v44;
					branch_ZPlusMirth_23 = v43;
					branch_Tycon_22 = VTUP(v14);
					branch_Name_21 = in_Name_4;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(MKTUP(branch_Tycon_22));
			branch_ZPlusAB_13 = branch_ZPlusAB_24;
			branch_ZPlusMirth_12 = branch_ZPlusMirth_23;
			branch_Name_11 = branch_Name_21;
		} break;
		case 0LL: { // None
			STR* v45;
			STRLIT(v45, "", 0);
			STR* v46;
			STRLIT(v46, "Can't invoke ", 13);
			STR* v47;
			mw_std_str_ZPlusStr_pushZ_strZBang(v46, v45, &v47);
			PTUP v48;
			STR* v49;
			mw_mirth_name_Name_nameZThen(v9, v47, in_Name_4, &v48, &v49);
			STR* v50;
			STRLIT(v50, "/", 1);
			STR* v51;
			mw_std_str_ZPlusStr_pushZ_strZBang(v50, v49, &v51);
			INT v52 = mw_std_list_List_1_len(in_List_3);
			INT v53 = v52;
			STR* v54 = int_to_str(v53);
			STR* v55;
			mw_std_str_ZPlusStr_pushZ_strZBang(v54, v51, &v55);
			STR* v56;
			STRLIT(v56, " on unknown or generic resource.", 32);
			STR* v57;
			mw_std_str_ZPlusStr_pushZ_strZBang(v56, v55, &v57);
			PTUP v58;
			PTUP v59;
			mw_mirth_elab_ZPlusAB_abZ_errorZBang(v48, VTUP(MKTUP(v7)), v57, &v58, &v59);
			branch_ZPlusAB_13 = v59;
			branch_ZPlusMirth_12 = v58;
			branch_Name_11 = in_Name_4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_12;
}
static void mw_mirth_elab_ZPlusAB_abZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP in_Def_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusAB_8;
	switch (PTREXTRA(in_Def_4)) {
		case 0LL: { // Alias
			uint64_t v9 = mtp_mirth_def_Def_Alias(in_Def_4);
			PTUP v10;
			PTUP v11 = mw_mirth_alias_Alias_target(in_ZPlusMirth_1, v9, &v10);
			PTUP v12;
			PTUP v13;
			mw_mirth_elab_ZPlusAB_abZ_defZBang(v10, in_ZPlusAB_2, in_List_3, v11, &v12, &v13);
			branch_ZPlusAB_8 = v13;
			branch_ZPlusMirth_7 = v12;
		} break;
		case 8LL: { // Word
			uint64_t v14 = mtp_mirth_def_Def_Word(in_Def_4);
			PTUP v15 = mtw_mirth_arrow_Op_Word(v14);
			PTUP v16;
			PTUP v17;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v15, &v16, &v17);
			branch_ZPlusAB_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 7LL: { // Prim
			int64_t v18 = mtp_mirth_def_Def_Prim(in_Def_4);
			PTUP v19 = mtw_mirth_arrow_Op_Prim(v18);
			PTUP v20;
			PTUP v21;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v19, &v20, &v21);
			branch_ZPlusAB_8 = v21;
			branch_ZPlusMirth_7 = v20;
		} break;
		case 10LL: { // External
			uint64_t v22 = mtp_mirth_def_Def_External(in_Def_4);
			PTUP v23 = mtw_mirth_arrow_Op_External(v22);
			PTUP v24;
			PTUP v25;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v23, &v24, &v25);
			branch_ZPlusAB_8 = v25;
			branch_ZPlusMirth_7 = v24;
		} break;
		case 11LL: { // Field
			uint64_t v26 = mtp_mirth_def_Def_Field(in_Def_4);
			PTUP v27 = mtw_mirth_arrow_Op_Field(v26);
			PTUP v28;
			PTUP v29;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v27, &v28, &v29);
			branch_ZPlusAB_8 = v29;
			branch_ZPlusMirth_7 = v28;
		} break;
		case 6LL: { // Tag
			uint64_t v30 = mtp_mirth_def_Def_Tag(in_Def_4);
			PTUP v31 = mtw_mirth_arrow_Op_Tag(v30);
			PTUP v32;
			PTUP v33;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v31, &v32, &v33);
			branch_ZPlusAB_8 = v33;
			branch_ZPlusMirth_7 = v32;
		} break;
		case 9LL: { // Buffer
			uint64_t v34 = mtp_mirth_def_Def_Buffer(in_Def_4);
			PTUP v35 = mtw_mirth_arrow_Op_Buffer(v34);
			PTUP v36;
			PTUP v37;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v35, &v36, &v37);
			branch_ZPlusAB_8 = v37;
			branch_ZPlusMirth_7 = v36;
		} break;
		default: {
			decref(MKTUP(in_Def_4));
			decref(MKTUP(in_List_3));
			STR* v38;
			STRLIT(v38, "", 0);
			STR* v39;
			STRLIT(v39, "Unexpected definition in ab-def!", 32);
			STR* v40;
			mw_std_str_ZPlusStr_pushZ_strZBang(v39, v38, &v40);
			PTUP v41;
			PTUP v42;
			mw_mirth_elab_ZPlusAB_abZ_errorZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v40, &v41, &v42);
			branch_ZPlusAB_8 = v42;
			branch_ZPlusMirth_7 = v41;
		} break;
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_elab_ZPlusAB_abZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v6;
	uint64_t v7 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v6);
	PTUP v8;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusMirth_1, v7, in_Str_3, &v8);
	PTUP v9 = PTRMK(0LL /* Error */,0,0);
	PTUP v10;
	PTUP v11;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v8, v6, v9, &v10, &v11);
	PTUP v12 = PTRMK(0LL /* Error */,0,0);
	PTUP v13;
	mw_mirth_elab_ZPlusAB_abZ_typeZBang(v11, v12, &v13);
	*out_ZPlusAB_5 = v13;
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	PTUP v7;
	uint64_t v8 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_token_Token_succ(v5, v8, &v9);
	PTUP v11;
	PTUP v12 = mw_mirth_token_Token_lcurlyZAsk(v9, v10, &v11);
	int64_t v13 = PTREXTRA(v12);
	decref(MKTUP(v12));
	INT v14 = WRAP_I63(0LL);
	INT v15 = v14;
	INT v16 = i64_to_int(v13);
	bool v17 = int_eq(v16, v15);
	bool v18 = !v17;
	uint64_t branch_Token_19;
	PTUP branch_ZPlusMirth_20;
	PTUP branch_ZPlusAB_21;
	if (v18) {
		PTUP v22;
		uint64_t v23 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v22);
		PTUP v24;
		uint64_t v25 = mw_mirth_token_Token_succ(v11, v23, &v24);
		PTUP v26;
		uint64_t v27 = mw_mirth_token_Token_succ(v24, v25, &v26);
		PTUP v28;
		uint64_t v29 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v22, &v28);
		PTUP v30;
		uint64_t v31 = mw_mirth_token_Token_succ(v26, v29, &v30);
		PTUP v32;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v28, v31, &v32);
		branch_ZPlusAB_21 = v32;
		branch_ZPlusMirth_20 = v30;
		branch_Token_19 = v27;
	} else {
		PTUP v33;
		uint64_t v34 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v33);
		PTUP v35;
		PTUP v36 = mw_mirth_token_Token_argsZPlus(v11, v34, &v35);
		VAL v37 = mw_std_list_Nest_1_first(v36);
		branch_ZPlusAB_21 = v33;
		branch_ZPlusMirth_20 = v35;
		branch_Token_19 = value_u64(v37);
	}
	PTUP v38;
	PTUP v39;
	mw_mirth_elab_ZPlusAB_elabZ_matchZ_atZBang(branch_ZPlusMirth_20, branch_ZPlusAB_21, v6, branch_Token_19, &v38, &v39);
	*out_ZPlusAB_4 = v39;
	*out_ZPlusMirth_3 = v38;
}
static void mw_mirth_elab_ZPlusAB_elabZ_matchZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, uint64_t in_Token_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v7, &v9);
	PTUP v11;
	uint64_t v12 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v9, &v11);
	PTUP v13;
	PTUP v14 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v11, &v13);
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v14, v12, in_Token_4, v8, v10, in_StackType_3, v15, &v16);
	PTUP v17;
	PTUP v18;
	mw_mirth_elab_elabZ_matchZ_casesZBang(in_ZPlusMirth_1, v16, &v17, &v18);
	PTUP v19;
	PTUP v20;
	mw_mirth_elab_elabZ_matchZ_exhaustiveZBang(v17, v18, &v19, &v20);
	PTUP v21 = mw_mirth_match_ZPlusMatch_freezze(v20);
	PTUP v22 = mtw_mirth_arrow_Op_Match(v21);
	PTUP v23 = PTRMK(0LL /* Nil */,0,0);
	PTUP v24;
	PTUP v25;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v19, v13, v23, v22, &v24, &v25);
	*out_ZPlusAB_6 = v25;
	*out_ZPlusMirth_5 = v24;
}
static bool mw_mirth_elab_arityZ_compatibleZAsk (INT in_Int_1, INT in_Int_2) {
	incref(MKINT(in_Int_2));
	INT v4 = WRAP_I63(-1LL);
	bool v5 = int_eq(in_Int_2, v4);
	bool v6 = int_eq(in_Int_1, in_Int_2);
	bool v7 = (v6 || v5);
	return v7;
}
static PTUP mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5, uint64_t *out_Token_6, PTUP *out_Home_7, uint64_t *out_Word_8) {
	void* v9 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, in_Word_2);
	PTUP v10;
	PTUP v11 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v9, &v10);
	uint64_t branch_Word_12;
	PTUP branch_ZPlusMirth_13;
	PTUP branch_Ctx_14;
	PTUP branch_ArrowType_15;
	switch (PTREXTRA(v11)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v11);
			VAL v17 = ((TUP*)PTRPTR(value_tup(v16)))->cells[0];
			VAL v18 = ((TUP*)PTRPTR(value_tup(v16)))->cells[1];
			tup_decref_outer(value_tup(v16));
			branch_ArrowType_15 = VTUP(v18);
			branch_Ctx_14 = VTUP(v17);
			branch_ZPlusMirth_13 = v10;
			branch_Word_12 = in_Word_2;
		} break;
		case 0LL: { // None
			PTUP v19;
			uint64_t v20;
			PTUP v21;
			PTUP v22 = mw_mirth_elab_guessZ_initialZ_ctxZ_type(v10, in_Word_2, &v19, &v20, &v21);
			branch_ArrowType_15 = v21;
			branch_Ctx_14 = v22;
			branch_ZPlusMirth_13 = v19;
			branch_Word_12 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v23;
	uint64_t v24 = mw_mirth_word_Word_body(branch_ZPlusMirth_13, branch_Word_12, &v23);
	PTUP v25 = mtw_mirth_arrow_Home_Word(branch_Word_12);
	*out_Word_8 = branch_Word_12;
	*out_Home_7 = v25;
	*out_Token_6 = v24;
	*out_ArrowType_5 = branch_ArrowType_15;
	*out_ZPlusMirth_3 = v23;
	return branch_Ctx_14;
}
static PTUP mw_mirth_elab_finalizzeZ_wordZ_arrow (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	bool v7 = mw_mirth_word_Word_inferringZ_typeZAsk(in_ZPlusMirth_1, in_Word_3, &v6);
	uint64_t branch_Word_8;
	PTUP branch_ZPlusMirth_9;
	PTUP branch_Arrow_10;
	if (v7) {
		incref(MKTUP(in_Arrow_2));
		PTUP v11;
		PTUP v12 = mw_mirth_arrow_Arrow_ctxZ_type(in_Arrow_2, &v11);
		PTUP v13;
		PTUP v14;
		PTUP v15 = mw_mirth_type_ArrowType_rigidifyZ_sigZBang(v6, v12, v11, &v13, &v14);
		incref(MKTUP(v15));
		incref(MKTUP(v14));
		PTUP r16 = PTRMK(0,tup_new(2),0);
		((TUP*)PTRPTR(r16))->size = 2;
		((TUP*)PTRPTR(r16))->cells[1] = MKTUP(v14);
		((TUP*)PTRPTR(r16))->cells[0] = MKTUP(v15);
		PTUP v17 = mtw_mirth_mirth_PropLabel_WordType(in_Word_3);
		PTUP v18;
		PTUP v19 = mw_mirth_mirth_PropLabel_prop(v13, MKTUP(r16), v17, &v18);
		void* v20 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, in_Word_3);
		mut_set(MKTUP(v19), v20);
		bool v21 = false;
		PTUP v22;
		mw_mirth_word_Word_inferringZ_typeZAskZBang(v18, v21, in_Word_3, &v22);
		PTUP v23;
		PTUP v24;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v14)), &v23, &v24);
		VAL v25 = tup_replace(MKTUP(in_Arrow_2), 5, MKTUP(v24));
		VAL v26 = tup_replace(MKTUP(VTUP(v25)), 4, MKTUP(v23));
		VAL v27 = tup_replace(MKTUP(VTUP(v26)), 3, MKTUP(VTUP(MKTUP(v15))));
		branch_Arrow_10 = VTUP(v27);
		branch_ZPlusMirth_9 = v22;
		branch_Word_8 = in_Word_3;
	} else {
		branch_Arrow_10 = in_Arrow_2;
		branch_ZPlusMirth_9 = v6;
		branch_Word_8 = in_Word_3;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Arrow_10;
}
static PTUP mw_mirth_elab_guessZ_initialZ_ctxZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Word_4, PTUP *out_ArrowType_6) {
	PTUP v7 = mw_mirth_var_Ctx_L0();
	PTUP v8;
	PTUP v9 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v8);
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_FreshZBang(v8, &v10);
	PTUP v12;
	PTUP v13 = mw_mirth_word_Word_namespaceZ_hard(v10, in_Word_2, &v12);
	PTUP branch_Ctx_14;
	PTUP branch_StackType_15;
	uint64_t branch_Word_16;
	PTUP branch_ZPlusMirth_17;
	PTUP branch_StackType_18;
	switch (PTREXTRA(v13)) {
		case 3LL: { // Tycon
			PTUP v19 = mtp_mirth_name_Namespace_Tycon(v13);
			PTUP v20;
			PTUP v21 = mw_mirth_tycon_Tycon_fullZ_typeZ_fresh(v12, v19, &v20);
			PTUP v22;
			uint64_t v23 = mw_mirth_word_Word_name(v20, in_Word_2, &v22);
			PTUP v24;
			bool v25 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(v22, v23, &v24);
			PTUP branch_Ctx_26;
			PTUP branch_StackType_27;
			uint64_t branch_Word_28;
			PTUP branch_ZPlusMirth_29;
			PTUP branch_StackType_30;
			if (v25) {
				PTUP v31 = mw_mirth_type_TZMulZPlus(v9, v21);
				branch_StackType_30 = v31;
				branch_ZPlusMirth_29 = v24;
				branch_Word_28 = in_Word_2;
				branch_StackType_27 = v11;
				branch_Ctx_26 = v7;
			} else {
				PTUP v32 = mw_mirth_type_TZMulZPlus(v11, v21);
				branch_StackType_30 = v9;
				branch_ZPlusMirth_29 = v24;
				branch_Word_28 = in_Word_2;
				branch_StackType_27 = v32;
				branch_Ctx_26 = v7;
			}
			branch_StackType_18 = branch_StackType_30;
			branch_ZPlusMirth_17 = branch_ZPlusMirth_29;
			branch_Word_16 = branch_Word_28;
			branch_StackType_15 = branch_StackType_27;
			branch_Ctx_14 = branch_Ctx_26;
		} break;
		case 2LL: { // Module
			uint64_t v33 = mtp_mirth_name_Namespace_Module(v13);
			PTUP v34;
			uint64_t v35 = mw_mirth_word_Word_name(v12, in_Word_2, &v34);
			PTUP v36;
			STR* v37 = mw_mirth_name_Name_ZToStr(v34, v35, &v36);
			STR* v38;
			STRLIT(v38, "main", 4);
			bool v39 = (str_cmp(v37, v38) == 0);
			PTUP branch_StackType_40;
			PTUP branch_StackType_41;
			if (v39) {
				PTUP v42 = mw_mirth_type_T0();
				PTUP v43 = mw_mirth_type_Resource_World();
				PTUP v44 = mw_mirth_type_TZPlus(v42, v43);
				decref(MKTUP(v9));
				PTUP v45 = mw_mirth_type_T0();
				PTUP v46 = mw_mirth_type_Resource_World();
				PTUP v47 = mw_mirth_type_TZPlus(v45, v46);
				decref(MKTUP(v11));
				branch_StackType_41 = v47;
				branch_StackType_40 = v44;
			} else {
				branch_StackType_41 = v11;
				branch_StackType_40 = v9;
			}
			branch_StackType_18 = branch_StackType_40;
			branch_ZPlusMirth_17 = v36;
			branch_Word_16 = in_Word_2;
			branch_StackType_15 = branch_StackType_41;
			branch_Ctx_14 = v7;
		} break;
		default: {
			decref(MKTUP(v13));
			branch_StackType_18 = v9;
			branch_ZPlusMirth_17 = v12;
			branch_Word_16 = in_Word_2;
			branch_StackType_15 = v11;
			branch_Ctx_14 = v7;
		} break;
	}
	PTUP v48;
	INT v49 = mw_mirth_word_Word_arity(branch_ZPlusMirth_17, branch_Word_16, &v48);
	incref(MKNAT(v49));
	INT v50 = WRAP_I63(0LL);
	INT v51 = v49;
	INT v52 = v50;
	bool v53 = int_lt(v52, v51);
	PTUP r54 = v48;
	PTUP v55 = branch_StackType_18;
	INT v56 = v49;
	bool v57 = v53;
	while (v57) {
		PTUP r58 = r54;
		PTUP v59 = v55;
		INT v60 = v56;
		PTUP v61;
		PTUP v62 = mw_mirth_type_ArrowType_FreshZBang(r58, &v61);
		PTUP v63 = mtw_mirth_type_Type_Arrow(v62);
		PTUP v64 = mw_mirth_type_TZMul(v59, v63);
		INT v65 = WRAP_I63(1LL);
		INT v66 = v60;
		INT v67 = v65;
		INT v68 = int_sub(v66, v67);
		incref(MKINT(v68));
		INT v69 = WRAP_I63(0LL);
		INT v70 = v69;
		bool v71 = int_le(v70, v68);
		INT branch_Nat_72;
		if (v71) {
			INT v73 = v68;
			branch_Nat_72 = v73;
		} else {
			decref(MKINT(v68));
			INT v74 = WRAP_I63(0LL);
			branch_Nat_72 = v74;
		}
		incref(MKNAT(branch_Nat_72));
		INT v75 = WRAP_I63(0LL);
		INT v76 = branch_Nat_72;
		INT v77 = v75;
		bool v78 = int_lt(v77, v76);
		v57 = v78;
		v56 = branch_Nat_72;
		v55 = v64;
		r54 = v61;
	}
	decref(MKNAT(v56));
	PTUP v79 = mw_mirth_type_TZ_ZTo(v55, branch_StackType_15);
	incref(MKTUP(branch_Ctx_14));
	incref(MKTUP(v79));
	PTUP r80 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r80))->size = 2;
	((TUP*)PTRPTR(r80))->cells[1] = MKTUP(v79);
	((TUP*)PTRPTR(r80))->cells[0] = MKTUP(branch_Ctx_14);
	PTUP v81 = mtw_mirth_mirth_PropLabel_WordType(branch_Word_16);
	PTUP v82;
	PTUP v83 = mw_mirth_mirth_PropLabel_prop(r54, MKTUP(r80), v81, &v82);
	void* v84 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, branch_Word_16);
	mut_set(MKTUP(v83), v84);
	bool v85 = true;
	PTUP v86;
	mw_mirth_word_Word_inferringZ_typeZAskZBang(v82, v85, branch_Word_16, &v86);
	*out_ArrowType_6 = VTUP(MKTUP(v79));
	*out_Word_4 = branch_Word_16;
	*out_ZPlusMirth_3 = v86;
	return VTUP(MKTUP(branch_Ctx_14));
}
static PTUP mw_mirth_arrow_PushValue_type (PTUP in_ZPlusMirth_1, PTUP in_PushValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Type_6;
	switch (PTREXTRA(in_PushValue_2)) {
		case 0LL: { // Str
			STR* v7 = mtp_mirth_arrow_PushValue_Str(in_PushValue_2);
			PTUP v8 = mtw_mirth_type_Value_Str(v7);
			PTUP v9 = mtw_mirth_type_Type_Value(v8);
			branch_Type_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Int
			INT v10 = mtp_mirth_arrow_PushValue_Int(in_PushValue_2);
			PTUP v11 = mtw_mirth_type_Value_Int(v10);
			PTUP v12 = mtw_mirth_type_Type_Value(v11);
			branch_Type_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Nat
			INT v13 = mtp_mirth_arrow_PushValue_Nat(in_PushValue_2);
			decref(MKNAT(v13));
			PTUP v14 = mw_mirth_type_Type_Nat();
			branch_Type_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // U8
			uint8_t v15 = mtp_mirth_arrow_PushValue_U8(in_PushValue_2);
			PTUP v16 = mw_mirth_type_Type_U8();
			branch_Type_6 = v16;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // U16
			uint16_t v17 = mtp_mirth_arrow_PushValue_U16(in_PushValue_2);
			PTUP v18 = mw_mirth_type_Type_U16();
			branch_Type_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // U32
			uint32_t v19 = mtp_mirth_arrow_PushValue_U32(in_PushValue_2);
			PTUP v20 = mw_mirth_type_Type_U32();
			branch_Type_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // U64
			uint64_t v21 = mtp_mirth_arrow_PushValue_U64(in_PushValue_2);
			PTUP v22 = mw_mirth_type_Type_U64();
			branch_Type_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // I8
			int8_t v23 = mtp_mirth_arrow_PushValue_I8(in_PushValue_2);
			PTUP v24 = mw_mirth_type_Type_I8();
			branch_Type_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // I16
			int16_t v25 = mtp_mirth_arrow_PushValue_I16(in_PushValue_2);
			PTUP v26 = mw_mirth_type_Type_I16();
			branch_Type_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // I32
			int32_t v27 = mtp_mirth_arrow_PushValue_I32(in_PushValue_2);
			PTUP v28 = mw_mirth_type_Type_I32();
			branch_Type_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // I64
			int64_t v29 = mtp_mirth_arrow_PushValue_I64(in_PushValue_2);
			PTUP v30 = mw_mirth_type_Type_I64();
			branch_Type_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // F32
			float v31 = mtp_mirth_arrow_PushValue_F32(in_PushValue_2);
			PTUP v32 = mw_mirth_type_Type_F32();
			branch_Type_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // F64
			double v33 = mtp_mirth_arrow_PushValue_F64(in_PushValue_2);
			PTUP v34 = mtw_mirth_type_Value_F64(v33);
			PTUP v35 = mtw_mirth_type_Type_Value(v34);
			branch_Type_6 = v35;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Type_6;
}
static PTUP mw_mirth_elab_elabZ_opZ_freshZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP *out_ZPlusMirth_3, PTUP *out_OpSig_5) {
	PTUP v6 = mw_mirth_type_Subst_Nil();
	PTUP branch_Subst_7;
	PTUP branch_ZPlusMirth_8;
	PTUP branch_OpSig_9;
	switch (PTREXTRA(in_Op_2)) {
		case 5LL: { // Push
			PTUP v10 = mtp_mirth_arrow_Op_Push(in_Op_2);
			PTUP v11;
			PTUP v12 = mw_mirth_arrow_PushValue_type(in_ZPlusMirth_1, v10, &v11);
			PTUP v13 = mtw_mirth_elab_OpSig_Push(v12);
			branch_OpSig_9 = v13;
			branch_ZPlusMirth_8 = v11;
			branch_Subst_7 = v6;
		} break;
		case 3LL: { // Buffer
			uint64_t v14 = mtp_mirth_arrow_Op_Buffer(in_Op_2);
			PTUP v15 = mw_mirth_type_Type_Ptr();
			PTUP v16 = mtw_mirth_elab_OpSig_Push(v15);
			branch_OpSig_9 = v16;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Subst_7 = v6;
		} break;
		case 6LL: { // Tag
			uint64_t v17 = mtp_mirth_arrow_Op_Tag(in_Op_2);
			PTUP v18;
			PTUP v19 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, v17, &v18);
			PTUP v20;
			PTUP v21;
			PTUP v22 = mw_mirth_type_ArrowType_freshenZ_sig(v18, v6, v19, &v20, &v21);
			PTUP v23 = mtw_mirth_elab_OpSig_Apply(v21);
			branch_OpSig_9 = v23;
			branch_ZPlusMirth_8 = v20;
			branch_Subst_7 = v22;
		} break;
		case 1LL: { // Word
			uint64_t v24 = mtp_mirth_arrow_Op_Word(in_Op_2);
			PTUP v25;
			bool v26 = mw_mirth_word_Word_inferringZ_typeZAsk(in_ZPlusMirth_1, v24, &v25);
			PTUP branch_Subst_27;
			PTUP branch_ZPlusMirth_28;
			PTUP branch_ArrowType_29;
			if (v26) {
				PTUP v30;
				PTUP v31 = mw_mirth_word_Word_type(v25, v24, &v30);
				branch_ArrowType_29 = v31;
				branch_ZPlusMirth_28 = v30;
				branch_Subst_27 = v6;
			} else {
				PTUP v32;
				PTUP v33 = mw_mirth_word_Word_type(v25, v24, &v32);
				PTUP v34;
				PTUP v35;
				PTUP v36 = mw_mirth_type_ArrowType_freshenZ_sig(v32, v6, v33, &v34, &v35);
				branch_ArrowType_29 = v35;
				branch_ZPlusMirth_28 = v34;
				branch_Subst_27 = v36;
			}
			PTUP v37 = mtw_mirth_elab_OpSig_Apply(branch_ArrowType_29);
			branch_OpSig_9 = v37;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_28;
			branch_Subst_7 = branch_Subst_27;
		} break;
		case 0LL: { // Prim
			int64_t v38 = mtp_mirth_arrow_Op_Prim(in_Op_2);
			PTUP v39;
			PTUP v40 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v38, &v39);
			PTUP v41;
			PTUP v42;
			PTUP v43 = mw_mirth_type_ArrowType_freshenZ_sig(v39, v6, v40, &v41, &v42);
			PTUP v44 = mtw_mirth_elab_OpSig_Apply(v42);
			branch_OpSig_9 = v44;
			branch_ZPlusMirth_8 = v41;
			branch_Subst_7 = v43;
		} break;
		case 2LL: { // External
			uint64_t v45 = mtp_mirth_arrow_Op_External(in_Op_2);
			PTUP v46;
			PTUP v47 = mw_mirth_external_External_type(in_ZPlusMirth_1, v45, &v46);
			PTUP v48;
			PTUP v49;
			PTUP v50 = mw_mirth_type_ArrowType_freshenZ_sig(v46, v6, v47, &v48, &v49);
			PTUP v51 = mtw_mirth_elab_OpSig_Apply(v49);
			branch_OpSig_9 = v51;
			branch_ZPlusMirth_8 = v48;
			branch_Subst_7 = v50;
		} break;
		case 4LL: { // Field
			uint64_t v52 = mtp_mirth_arrow_Op_Field(in_Op_2);
			PTUP v53;
			PTUP v54 = mw_mirth_table_Field_type(in_ZPlusMirth_1, v52, &v53);
			PTUP v55;
			PTUP v56;
			PTUP v57 = mw_mirth_type_ArrowType_freshenZ_sig(v53, v6, v54, &v55, &v56);
			PTUP v58 = mtw_mirth_elab_OpSig_Apply(v56);
			branch_OpSig_9 = v58;
			branch_ZPlusMirth_8 = v55;
			branch_Subst_7 = v57;
		} break;
		case 10LL: { // BlockPush
			uint64_t v59 = mtp_mirth_arrow_Op_BlockPush(in_Op_2);
			PTUP v60 = mw_mirth_elab_elabZ_blockZ_sigZBang(v59);
			branch_OpSig_9 = v60;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Subst_7 = v6;
		} break;
		case 11LL: { // BlockRun
			uint64_t v61 = mtp_mirth_arrow_Op_BlockRun(in_Op_2);
			PTUP v62;
			PTUP v63 = mw_mirth_arrow_Block_type(in_ZPlusMirth_1, v61, &v62);
			PTUP v64;
			PTUP v65 = mw_mirth_type_ArrowType_semifreshenZ_sig(v62, v63, &v64);
			PTUP v66 = mtw_mirth_elab_OpSig_Apply(v65);
			branch_OpSig_9 = v66;
			branch_ZPlusMirth_8 = v64;
			branch_Subst_7 = v6;
		} break;
		case 9LL: { // Var
			uint64_t v67 = mtp_mirth_arrow_Op_Var(in_Op_2);
			PTUP v68;
			PTUP v69 = mw_mirth_elab_elabZ_varZ_sigZBang(in_ZPlusMirth_1, v67, &v68);
			branch_OpSig_9 = v69;
			branch_ZPlusMirth_8 = v68;
			branch_Subst_7 = v6;
		} break;
		case 7LL: { // Match
			PTUP v70 = mtp_mirth_arrow_Op_Match(in_Op_2);
			PTUP v71 = mw_mirth_elab_elabZ_matchZ_sigZBang(v70);
			branch_OpSig_9 = v71;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Subst_7 = v6;
		} break;
		case 8LL: { // Lambda
			PTUP v72 = mtp_mirth_arrow_Op_Lambda(in_Op_2);
			PTUP v73 = mw_mirth_elab_elabZ_lambdaZ_sigZBang(v72);
			branch_OpSig_9 = v73;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Subst_7 = v6;
		} break;
		case 12LL: { // LabelPush
			uint64_t v74 = mtp_mirth_arrow_Op_LabelPush(in_Op_2);
			PTUP v75;
			PTUP v76 = mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang(in_ZPlusMirth_1, v74, &v75);
			branch_OpSig_9 = v76;
			branch_ZPlusMirth_8 = v75;
			branch_Subst_7 = v6;
		} break;
		case 13LL: { // LabelPop
			uint64_t v77 = mtp_mirth_arrow_Op_LabelPop(in_Op_2);
			PTUP v78;
			PTUP v79 = mw_mirth_elab_elabZ_labelZ_popZ_sigZBang(in_ZPlusMirth_1, v77, &v78);
			branch_OpSig_9 = v79;
			branch_ZPlusMirth_8 = v78;
			branch_Subst_7 = v6;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v80 = mtp_mirth_arrow_Op_LabelPushR(in_Op_2);
			PTUP v81;
			PTUP v82 = mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang(in_ZPlusMirth_1, v80, &v81);
			branch_OpSig_9 = v82;
			branch_ZPlusMirth_8 = v81;
			branch_Subst_7 = v6;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v83 = mtp_mirth_arrow_Op_LabelPopR(in_Op_2);
			PTUP v84;
			PTUP v85 = mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang(in_ZPlusMirth_1, v83, &v84);
			branch_OpSig_9 = v85;
			branch_ZPlusMirth_8 = v84;
			branch_Subst_7 = v6;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v86 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_2);
			PTUP v87;
			PTUP v88 = mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type(in_ZPlusMirth_1, v86, &v87);
			PTUP v89;
			PTUP v90;
			PTUP v91 = mw_mirth_type_ArrowType_freshenZ_sig(v87, v6, v88, &v89, &v90);
			PTUP v92 = mtw_mirth_elab_OpSig_Apply(v90);
			branch_OpSig_9 = v92;
			branch_ZPlusMirth_8 = v89;
			branch_Subst_7 = v91;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v93 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_2);
			PTUP v94;
			PTUP v95 = mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type(in_ZPlusMirth_1, v93, &v94);
			PTUP v96;
			PTUP v97;
			PTUP v98 = mw_mirth_type_ArrowType_freshenZ_sig(v94, v6, v95, &v96, &v97);
			PTUP v99 = mtw_mirth_elab_OpSig_Apply(v97);
			branch_OpSig_9 = v99;
			branch_ZPlusMirth_8 = v96;
			branch_Subst_7 = v98;
		} break;
		case 18LL: { // DataGetLabel
			PTUP v100 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_2);
			PTUP v101;
			PTUP v102 = mw_mirth_data_dataZ_getZ_labelZ_type(in_ZPlusMirth_1, v100, &v101);
			PTUP v103;
			PTUP v104;
			PTUP v105 = mw_mirth_type_ArrowType_freshenZ_sig(v101, v6, v102, &v103, &v104);
			PTUP v106 = mtw_mirth_elab_OpSig_Apply(v104);
			branch_OpSig_9 = v106;
			branch_ZPlusMirth_8 = v103;
			branch_Subst_7 = v105;
		} break;
		case 19LL: { // DataSetLabel
			PTUP v107 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_2);
			PTUP v108;
			PTUP v109 = mw_mirth_data_dataZ_setZ_labelZ_type(in_ZPlusMirth_1, v107, &v108);
			PTUP v110;
			PTUP v111;
			PTUP v112 = mw_mirth_type_ArrowType_freshenZ_sig(v108, v6, v109, &v110, &v111);
			PTUP v113 = mtw_mirth_elab_OpSig_Apply(v111);
			branch_OpSig_9 = v113;
			branch_ZPlusMirth_8 = v110;
			branch_Subst_7 = v112;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v114 = mtp_mirth_arrow_Op_TableToIndex(in_Op_2);
			PTUP v115;
			PTUP v116 = mw_mirth_elab_tableZ_toZ_indexZ_type(in_ZPlusMirth_1, v114, &v115);
			PTUP v117;
			PTUP v118;
			PTUP v119 = mw_mirth_type_ArrowType_freshenZ_sig(v115, v6, v116, &v117, &v118);
			PTUP v120 = mtw_mirth_elab_OpSig_Apply(v118);
			branch_OpSig_9 = v120;
			branch_ZPlusMirth_8 = v117;
			branch_Subst_7 = v119;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v121 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_2);
			PTUP v122;
			PTUP v123 = mw_mirth_elab_tableZ_fromZ_indexZ_type(in_ZPlusMirth_1, v121, &v122);
			PTUP v124;
			PTUP v125;
			PTUP v126 = mw_mirth_type_ArrowType_freshenZ_sig(v122, v6, v123, &v124, &v125);
			PTUP v127 = mtw_mirth_elab_OpSig_Apply(v125);
			branch_OpSig_9 = v127;
			branch_ZPlusMirth_8 = v124;
			branch_Subst_7 = v126;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_OpSig_5 = branch_OpSig_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_Subst_7;
}
static PTUP mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, in_Data_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ArrowType_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Left
			VAL v9 = mtp_std_either_Either_2_Left(v6);
			PTUP v10 = mw_mirth_type_T1(VTUP(v9));
			PTUP v11 = mw_mirth_type_Type_I64();
			PTUP v12 = mw_mirth_type_T1(v11);
			PTUP v13 = mw_mirth_type_TZ_ZTo(v10, v12);
			branch_ArrowType_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Right
			VAL v14 = mtp_std_either_Either_2_Right(v6);
			PTUP v15 = mw_mirth_type_T0();
			incref(v14);
			PTUP v16 = mw_mirth_type_TZPlus(VTUP(MKTUP(v15)), VTUP(v14));
			PTUP v17 = mw_mirth_type_Type_I64();
			PTUP v18 = mw_mirth_type_T1(v17);
			PTUP v19 = mw_mirth_type_TZPlus(VTUP(MKTUP(v18)), VTUP(v14));
			PTUP v20 = mw_mirth_type_TZ_ZTo(VTUP(MKTUP(v16)), v19);
			branch_ArrowType_8 = v20;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_ArrowType_8;
}
static PTUP mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_type_Type_I64();
	PTUP v6 = mw_mirth_type_T1(v5);
	PTUP v7 = mw_mirth_type_T0();
	PTUP v8;
	PTUP v9 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, value_u64(MKU64(in_Data_2)), &v8);
	PTUP v10 = mw_mirth_type_TZMulZPlus(VTUP(MKTUP(v7)), v9);
	PTUP v11 = mw_mirth_type_TZ_ZTo(VTUP(MKTUP(v6)), v10);
	*out_ZPlusMirth_3 = v8;
	return v11;
}
static PTUP mw_mirth_elab_tableZ_toZ_indexZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mtw_mirth_type_Type_Table(in_Table_2);
	PTUP v6 = mw_mirth_type_T1(v5);
	PTUP v7 = mw_mirth_type_Type_U64();
	PTUP v8 = mw_mirth_type_T1(v7);
	PTUP v9 = mw_mirth_type_TZ_ZTo(v6, v8);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v9;
}
static PTUP mw_mirth_elab_tableZ_fromZ_indexZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mtw_mirth_type_Type_Table(in_Table_2);
	PTUP v6 = mw_mirth_type_T1(v5);
	PTUP v7 = mw_mirth_type_Type_U64();
	PTUP v8 = mw_mirth_type_T1(v7);
	PTUP v9 = mw_mirth_type_TZ_ZTo(v8, v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v9;
}
static PTUP mw_mirth_elab_elabZ_blockZ_sigZBang (uint64_t in_Block_1) {
	PTUP v3 = mtw_mirth_type_Value_Block(in_Block_1);
	PTUP v4 = mtw_mirth_type_Type_Value(v3);
	PTUP v5 = mtw_mirth_elab_OpSig_Push(v4);
	return v5;
}
static PTUP mw_mirth_elab_elabZ_matchZ_sigZBang (PTUP in_Match_1) {
	incref(MKTUP(in_Match_1));
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Match_1))->cells[4]);
	incref(MKTUP(v3));
	decref(MKTUP(in_Match_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_Match_1))->cells[5]);
	incref(MKTUP(v4));
	decref(MKTUP(in_Match_1));
	PTUP v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	PTUP v6 = mtw_mirth_elab_OpSig_Apply(v5);
	return v6;
}
static PTUP mw_mirth_elab_elabZ_lambdaZ_sigZBang (PTUP in_Lambda_1) {
	incref(MKTUP(in_Lambda_1));
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Lambda_1))->cells[2]);
	incref(MKTUP(v3));
	decref(MKTUP(in_Lambda_1));
	PTUP v4 = mw_mirth_arrow_Lambda_cod(in_Lambda_1);
	PTUP v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	PTUP v6 = mtw_mirth_elab_OpSig_Apply(v5);
	return v6;
}
static PTUP mw_mirth_elab_elabZ_varZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_var_Var_autoZ_runZAsk(in_ZPlusMirth_1, in_Var_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_OpSig_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			decref(MKU64(in_Var_2));
			PTUP v10;
			PTUP v11 = mw_mirth_type_ArrowType_semifreshenZ_sig(v5, VTUP(v9), &v10);
			PTUP v12 = mtw_mirth_elab_OpSig_Apply(v11);
			branch_OpSig_8 = v12;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			PTUP v13;
			PTUP v14 = mw_mirth_var_Var_type(v5, in_Var_2, &v13);
			PTUP v15 = mtw_mirth_elab_OpSig_Push(v14);
			branch_OpSig_8 = v15;
			branch_ZPlusMirth_7 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_OpSig_8;
}
static PTUP mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_Type_FreshZBang(v5, &v7);
	incref(MKTUP(v6));
	incref(MKTUP(v8));
	PTUP v9 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(v6)), VTUP(MKTUP(v8)), in_Label_2);
	PTUP v10 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(v6)), VTUP(MKTUP(v8)));
	PTUP v11 = mw_mirth_type_TZ_ZTo(v10, v9);
	PTUP v12 = mtw_mirth_elab_OpSig_Apply(v11);
	*out_ZPlusMirth_3 = v7;
	return v12;
}
static PTUP mw_mirth_elab_elabZ_labelZ_popZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_Type_FreshZBang(v5, &v7);
	incref(MKTUP(v6));
	incref(MKTUP(v8));
	PTUP v9 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(v6)), VTUP(MKTUP(v8)), in_Label_2);
	PTUP v10 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(v6)), VTUP(MKTUP(v8)));
	PTUP v11 = mw_mirth_type_TZ_ZTo(v9, v10);
	PTUP v12 = mtw_mirth_elab_OpSig_Apply(v11);
	*out_ZPlusMirth_3 = v7;
	return v12;
}
static PTUP mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_Resource_FreshZBang(v5, &v7);
	incref(MKTUP(v6));
	incref(MKTUP(v8));
	PTUP v9 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(v6)), VTUP(MKTUP(v8)), in_Label_2);
	PTUP v10 = mtw_mirth_type_StackType_With(VTUP(MKTUP(v6)), VTUP(MKTUP(v8)));
	PTUP v11 = mw_mirth_type_TZ_ZTo(v10, v9);
	PTUP v12 = mtw_mirth_elab_OpSig_Apply(v11);
	*out_ZPlusMirth_3 = v7;
	return v12;
}
static PTUP mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_Resource_FreshZBang(v5, &v7);
	incref(MKTUP(v6));
	incref(MKTUP(v8));
	PTUP v9 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(v6)), VTUP(MKTUP(v8)), in_Label_2);
	PTUP v10 = mtw_mirth_type_StackType_With(VTUP(MKTUP(v6)), VTUP(MKTUP(v8)));
	PTUP v11 = mw_mirth_type_TZ_ZTo(v9, v10);
	PTUP v12 = mtw_mirth_elab_OpSig_Apply(v11);
	*out_ZPlusMirth_3 = v7;
	return v12;
}
static PTUP mw_mirth_elab_elabZ_arrowZ_homZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_StackType_3, PTUP in_StackType_4, uint64_t in_Token_5, PTUP in_Home_6, PTUP *out_ZPlusMirth_7) {
	PTUP v9 = mw_mirth_type_TZ_ZTo(in_StackType_3, in_StackType_4);
	PTUP v10;
	PTUP v11;
	mtp_mirth_type_ArrowType_ArrowType(v9, &v10, &v11);
	incref(MKTUP(v10));
	PTUP v12 = PTRMK(0LL /* Nil */,0,0);
	PTUP v13 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(VTUP(MKTUP(in_Home_6)))), value_u64(MKU64(value_u64(MKU64(in_Token_5)))), value_u64(MKU64(value_u64(MKU64(in_Token_5)))), in_Ctx_2, v10, v10, v12);
	PTUP v14;
	PTUP v15;
	mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(in_ZPlusMirth_1, v13, &v14, &v15);
	PTUP v16;
	PTUP v17;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v14, v15, v11, &v16, &v17);
	*out_ZPlusMirth_7 = v16;
	return v17;
}
static void mw_mirth_elab_elabZ_matchZ_casesZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusMatch_2))->cells[2]);
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_lcurlyZAsk(in_ZPlusMirth_1, v5, &v6);
	int64_t v8 = PTREXTRA(v7);
	decref(MKTUP(v7));
	INT v9 = WRAP_I63(0LL);
	INT v10 = v9;
	INT v11 = i64_to_int(v8);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	PTUP branch_ZPlusMirth_14;
	PTUP branch_ZPlusMatch_15;
	if (v13) {
		PTUP v16;
		PTUP v17;
		mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang(v6, in_ZPlusMatch_2, &v16, &v17);
		branch_ZPlusMatch_15 = v17;
		branch_ZPlusMirth_14 = v16;
	} else {
		PTUP v18;
		PTUP v19;
		mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang(v6, in_ZPlusMatch_2, &v18, &v19);
		branch_ZPlusMatch_15 = v19;
		branch_ZPlusMirth_14 = v18;
	}
	*out_ZPlusMatch_4 = branch_ZPlusMatch_15;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
}
static void mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusMatch_2))->cells[2]);
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_runZ_tokens(in_ZPlusMirth_1, v5, &v6);
	bool v8 = true;
	PTUP r9 = v6;
	PTUP r10 = in_ZPlusMatch_2;
	PTUP v11 = v7;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP r15 = r10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP branch_ZPlusMirth_18;
		PTUP branch_ZPlusMatch_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Cons
				PTUP v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				PTUP v24;
				PTUP v25 = mw_mirth_token_Token_lcurlyZAsk(r14, value_u64(v23), &v24);
				int64_t v26 = PTREXTRA(v25);
				decref(MKTUP(v25));
				INT v27 = WRAP_I63(0LL);
				INT v28 = v27;
				INT v29 = i64_to_int(v26);
				bool v30 = int_eq(v29, v28);
				bool v31 = !v30;
				PTUP branch_ZPlusMirth_32;
				uint64_t branch_Token_33;
				VAL branch_z_x1_34;
				if (v31) {
					branch_z_x1_34 = MKTUP(r15);
					branch_Token_33 = value_u64(v23);
					branch_ZPlusMirth_32 = v24;
				} else {
					STR* v35;
					STRLIT(v35, "Expected a pattern match case of the form { ... -> ... }", 56);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v24, value_u64(v23), v35);
				}
				PTUP v38;
				uint64_t v39 = mw_mirth_token_Token_argsZ_1(branch_ZPlusMirth_32, branch_Token_33, &v38);
				PTUP v40;
				PTUP v41;
				uint64_t v42 = mw_mirth_elab_elabZ_matchZ_caseZBang(v39, v38, VTUP(branch_z_x1_34), &v40, &v41);
				bool v43 = true;
				branch_Bool_21 = v43;
				branch_List_20 = v22;
				branch_ZPlusMatch_19 = v41;
				branch_ZPlusMirth_18 = v40;
			} break;
			case 0LL: { // Nil
				PTUP v44 = PTRMK(0LL /* Nil */,0,0);
				bool v45 = false;
				branch_Bool_21 = v45;
				branch_List_20 = v44;
				branch_ZPlusMatch_19 = r15;
				branch_ZPlusMirth_18 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		r10 = branch_ZPlusMatch_19;
		r9 = branch_ZPlusMirth_18;
	}
	decref(MKTUP(v11));
	*out_ZPlusMatch_4 = r10;
	*out_ZPlusMirth_3 = r9;
}
static void mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_ZPlusMatch_2))->cells[2]);
	PTUP v6;
	bool v7 = mw_mirth_token_Token_argsZ_endZAsk(in_ZPlusMirth_1, v5, &v6);
	bool v8 = !v7;
	uint64_t v9 = v5;
	PTUP r10 = v6;
	PTUP r11 = in_ZPlusMatch_2;
	bool v12 = v8;
	while (v12) {
		uint64_t v13 = v9;
		PTUP r14 = r10;
		PTUP r15 = r11;
		PTUP v16;
		PTUP v17;
		uint64_t v18 = mw_mirth_elab_elabZ_matchZ_caseZBang(v13, r14, r15, &v16, &v17);
		PTUP v19;
		bool v20 = mw_mirth_token_Token_argsZ_endZAsk(v16, v18, &v19);
		bool v21 = !v20;
		v12 = v21;
		r11 = v17;
		r10 = v19;
		v9 = v18;
	}
	*out_ZPlusMatch_4 = r11;
	*out_ZPlusMirth_3 = r10;
}
static uint64_t mw_mirth_elab_elabZ_matchZ_caseZBang (uint64_t in_Token_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusMatch_3, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusMatch_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_runZ_arrowZAsk(in_ZPlusMirth_2, in_Token_1, &v7);
	PTUP branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	VAL branch_z_x1_11;
	VAL branch_z_x2_12;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v8);
			branch_z_x2_12 = v13;
			branch_z_x1_11 = MKTUP(in_ZPlusMatch_3);
			branch_Token_10 = in_Token_1;
			branch_ZPlusMirth_9 = v7;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "Expected pattern match case ... -> ...", 38);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v7, in_Token_1, v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKU64(branch_Token_10));
	incref(branch_z_x2_12);
	bool v18 = (value_u64(branch_z_x2_12) == value_u64(MKU64(branch_Token_10)));
	uint64_t branch_Token_19;
	PTUP branch_ZPlusMirth_20;
	VAL branch_z_x1_21;
	if (v18) {
		STR* v22;
		STRLIT(v22, "expected pattern", 16);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_9, value_u64(branch_z_x2_12), v22);
	} else {
		branch_z_x1_21 = branch_z_x1_11;
		branch_ZPlusMirth_20 = branch_ZPlusMirth_9;
		branch_Token_19 = value_u64(branch_z_x2_12);
	}
	incref(MKU64(branch_Token_10));
	incref(MKU64(branch_Token_19));
	PTUP v25;
	uint64_t v26 = mw_mirth_token_Token_prev(branch_ZPlusMirth_20, value_u64(MKU64(branch_Token_19)), &v25);
	bool v27 = (v26 == value_u64(MKU64(branch_Token_10)));
	PTUP branch_ZPlusMirth_28;
	uint64_t branch_Token_29;
	if (v27) {
		branch_Token_29 = value_u64(MKU64(branch_Token_19));
		branch_ZPlusMirth_28 = v25;
	} else {
		STR* v30;
		STRLIT(v30, "multi-part pattern not supported", 32);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v25, value_u64(MKU64(branch_Token_19)), v30);
	}
	PTUP v33;
	PTUP v34 = mw_mirth_token_Token_patZ_tokens(branch_ZPlusMirth_28, value_u64(MKU64(branch_Token_10)), &v33);
	PTUP v35;
	uint64_t v36 = mw_mirth_token_Token_prev(v33, branch_Token_29, &v35);
	PTUP v37;
	uint64_t v38 = mw_mirth_token_Token_succ(v35, branch_Token_29, &v37);
	PTUP v39 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x1_21)))->cells[0]);
	incref(MKTUP(v39));
	PTUP v40 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x1_21)))->cells[3]);
	incref(MKTUP(v40));
	incref(MKTUP(v40));
	PTUP v41 = PTRMK(0LL /* Nil */,0,0);
	PTUP v42 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x1_21)))->cells[4]);
	incref(MKTUP(v42));
	incref(MKTUP(v42));
	PTUP v43 = PTRMK(0LL /* Nil */,0,0);
	PTUP v44 = mtw_mirth_match_Pattern_Pattern(v39, v36, v36, v40, v40, v41, v42, v42, v43);
	PTUP v45;
	mw_mirth_match_Pattern_thaw(v44, &v45);
	PTUP v46;
	PTUP v47;
	mw_mirth_elab_elabZ_patternZBang(v37, v45, v34, &v46, &v47);
	PTUP v48 = mw_mirth_match_ZPlusPattern_freezze(v47);
	incref(MKTUP(v48));
	PTUP v49 = VTUP(((TUP*)PTRPTR(v48))->cells[4]);
	incref(MKTUP(v49));
	decref(MKTUP(v48));
	incref(MKTUP(v48));
	PTUP v50 = mw_mirth_match_Pattern_dom(v48);
	PTUP v51 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x1_21)))->cells[5]);
	incref(MKTUP(v51));
	PTUP v52 = mw_mirth_type_TZ_ZTo(v50, v51);
	PTUP v53 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x1_21)))->cells[0]);
	incref(MKTUP(v53));
	PTUP v54;
	PTUP v55;
	mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v52)), &v54, &v55);
	incref(MKTUP(v54));
	PTUP v56 = PTRMK(0LL /* Nil */,0,0);
	PTUP v57 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v53)), value_u64(MKU64(value_u64(MKU64(v38)))), value_u64(MKU64(value_u64(MKU64(v38)))), VTUP(MKTUP(v49)), v54, v54, v56);
	PTUP v58;
	PTUP v59;
	mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v46, v57, &v58, &v59);
	PTUP v60;
	uint64_t v61 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v59, &v60);
	PTUP v62;
	bool v63 = mw_mirth_token_Token_commaZAsk(v58, v61, &v62);
	uint64_t branch_Token_64;
	PTUP branch_ZPlusMirth_65;
	VAL branch_z_x1_66;
	if (v63) {
		PTUP v67;
		uint64_t v68 = mw_mirth_token_Token_succ(v62, v61, &v67);
		branch_z_x1_66 = MKTUP(v60);
		branch_ZPlusMirth_65 = v67;
		branch_Token_64 = v68;
	} else {
		branch_z_x1_66 = MKTUP(v60);
		branch_ZPlusMirth_65 = v62;
		branch_Token_64 = v61;
	}
	PTUP v69;
	PTUP v70;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_65, VTUP(branch_z_x1_66), v55, &v69, &v70);
	PTUP v71 = mtw_mirth_match_Case_Case(v48, v70);
	PTUP v72;
	PTUP v73;
	mw_mirth_match_ZPlusMatch_addZ_case(v69, VTUP(branch_z_x1_21), v71, &v72, &v73);
	*out_ZPlusMatch_6 = v73;
	*out_ZPlusMirth_5 = v72;
	return branch_Token_64;
}
static void mw_mirth_elab_elabZ_patternZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusPattern_5) {
	PTUP v6 = mw_std_list_List_1_reverse(in_List_3);
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusPattern_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusPattern_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				PTUP v23;
				PTUP v24;
				mw_mirth_elab_elabZ_patternZ_atomZBang(r13, r14, value_u64(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusPattern_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusPattern_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusPattern_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusPattern_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static void mw_mirth_elab_elabZ_patternZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusPattern_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusPattern_5) {
	incref(MKTUP(in_ZPlusPattern_2));
	VAL v6 = tup_replace(MKTUP(in_ZPlusPattern_2), 1, MKU64(in_Token_3));
	decref(MKTUP(in_ZPlusPattern_2));
	PTUP v7;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, in_Token_3, &v7);
	PTUP v8;
	bool v9 = mw_mirth_token_Token_patZ_underscoreZAsk(v7, in_Token_3, &v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusPattern_11;
	if (v9) {
		PTUP v12;
		PTUP v13;
		mw_mirth_match_ZPlusPattern_underscoreZBang(v8, VTUP(v6), &v12, &v13);
		branch_ZPlusPattern_11 = v13;
		branch_ZPlusMirth_10 = v12;
	} else {
		PTUP v14;
		PTUP v15 = mw_mirth_token_Token_nameZDivdnameZAsk(v8, in_Token_3, &v14);
		PTUP branch_ZPlusMirth_16;
		PTUP branch_ZPlusPattern_17;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v15);
				STR* v19;
				STRLIT(v19, "constructor", 11);
				incref(MKTUP(VTUP(v6)));
				PTUP v20 = VTUP(((TUP*)PTRPTR(VTUP(v6)))->cells[6]);
				incref(MKTUP(v20));
				decref(MKTUP(VTUP(v6)));
				PTUP v21;
				bool v22 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v14, v20, &v21);
				bool v23 = !v22;
				bool v24 = false;
				PTUP v25;
				PTUP v26;
				mw_mirth_elab_ZPlusResolveDef_BeginZBang(v19, in_Token_3, VTUP(v18), v24, v23, v21, &v25, &v26);
				PTUP v27 = VTUP(((TUP*)PTRPTR(v26))->cells[3]);
				incref(MKTUP(v27));
				PTUP v28 = PTRMK(0LL /* Nil */,0,0);
				PTUP v29 = PTRMK(0LL /* Nil */,0,0);
				bool v30 = true;
				PTUP v31 = VTUP(MKTUP(v28));
				PTUP v32 = VTUP(MKTUP(v29));
				PTUP v33 = VTUP(MKTUP(v27));
				bool v34 = v30;
				bool v35 = v30;
				while (v35) {
					PTUP v36 = v31;
					PTUP v37 = v32;
					PTUP v38 = v33;
					bool v39 = v34;
					PTUP branch_List_40;
					PTUP branch_List_41;
					PTUP branch_List_42;
					bool branch_Bool_43;
					switch (PTREXTRA(v38)) {
						case 1LL: { // Cons
							PTUP v44;
							VAL v45 = mtp_std_list_List_1_Cons(v38, &v44);
							incref(MKTUP(VTUP(v45)));
							PTUP v46 = mw_mirth_def_Def_tagZAsk(VTUP(v45));
							int64_t v47 = PTREXTRA(v46);
							decref(MKTUP(v46));
							INT v48 = WRAP_I63(0LL);
							INT v49 = v48;
							INT v50 = i64_to_int(v47);
							bool v51 = int_eq(v50, v49);
							bool v52 = !v51;
							PTUP branch_Either_53;
							if (v52) {
								PTUP v54 = mtw_std_either_Either_2_Right(MKTUP(VTUP(v45)));
								branch_Either_53 = v54;
							} else {
								PTUP v55 = mtw_mirth_elab_RejectedDef_WrongSort(VTUP(v45));
								PTUP v56 = mtw_std_either_Either_2_Left(MKTUP(v55));
								branch_Either_53 = v56;
							}
							PTUP branch_List_57;
							PTUP branch_List_58;
							switch (PTREXTRA(branch_Either_53)) {
								case 0LL: { // Left
									VAL v59 = mtp_std_either_Either_2_Left(branch_Either_53);
									PTUP v60 = mw_std_list_List_1_cons(MKTUP(VTUP(v59)), VTUP(MKTUP(v36)));
									branch_List_58 = VTUP(MKTUP(v37));
									branch_List_57 = v60;
								} break;
								case 1LL: { // Right
									VAL v61 = mtp_std_either_Either_2_Right(branch_Either_53);
									PTUP v62 = mw_std_list_List_1_cons(MKTUP(VTUP(v61)), VTUP(MKTUP(v37)));
									branch_List_58 = v62;
									branch_List_57 = VTUP(MKTUP(v36));
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							bool v63 = true;
							branch_Bool_43 = v63;
							branch_List_42 = v44;
							branch_List_41 = branch_List_58;
							branch_List_40 = branch_List_57;
						} break;
						case 0LL: { // Nil
							PTUP v64 = PTRMK(0LL /* Nil */,0,0);
							bool v65 = false;
							branch_Bool_43 = v65;
							branch_List_42 = v64;
							branch_List_41 = v37;
							branch_List_40 = v36;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v35 = branch_Bool_43;
					v34 = branch_Bool_43;
					v33 = branch_List_42;
					v32 = branch_List_41;
					v31 = branch_List_40;
				}
				decref(MKTUP(v33));
				PTUP v66 = mw_std_list_List_1_reverse(v31);
				PTUP v67 = mw_std_list_List_1_reverse(v32);
				PTUP v68 = VTUP(((TUP*)PTRPTR(v26))->cells[4]);
				incref(MKTUP(v68));
				PTUP v69 = mw_std_list_List_1_cat(v66, v68);
				PTUP v70 = VTUP(((TUP*)PTRPTR(v26))->cells[4]);
				decref(MKTUP(v70));
				((TUP*)PTRPTR(v26))->cells[4] = MKTUP(v69);
				PTUP v71 = VTUP(((TUP*)PTRPTR(v26))->cells[3]);
				decref(MKTUP(v71));
				((TUP*)PTRPTR(v26))->cells[3] = MKTUP(v67);
				PTUP v72;
				PTUP v73;
				mw_mirth_elab_ZPlusResolveDef_filterZ_arity(v25, v26, &v72, &v73);
				PTUP v74;
				PTUP v75;
				mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v72, v73, &v74, &v75);
				incref(MKTUP(VTUP(v6)));
				PTUP v76 = VTUP(((TUP*)PTRPTR(VTUP(v6)))->cells[6]);
				incref(MKTUP(v76));
				decref(MKTUP(VTUP(v6)));
				PTUP v77;
				bool v78 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v74, v76, &v77);
				PTUP branch_ZPlusPattern_79;
				PTUP branch_ZPlusMirth_80;
				PTUP branch_ZPlusResolveDef_81;
				if (v78) {
					incref(MKTUP(VTUP(v6)));
					PTUP v82 = VTUP(((TUP*)PTRPTR(VTUP(v6)))->cells[6]);
					incref(MKTUP(v82));
					decref(MKTUP(VTUP(v6)));
					PTUP v83;
					PTUP v84 = mw_mirth_type_StackType_topZ_namespaces(v77, v82, &v83);
					uint64_t v85 = value_u64(((TUP*)PTRPTR(v75))->cells[1]);
					PTUP v86;
					PTUP v87 = mw_mirth_token_Token_nameZAsk(v83, v85, &v86);
					int64_t v88 = PTREXTRA(v87);
					decref(MKTUP(v87));
					INT v89 = WRAP_I63(0LL);
					INT v90 = v89;
					INT v91 = i64_to_int(v88);
					bool v92 = int_eq(v91, v90);
					bool v93 = !v92;
					PTUP branch_ZPlusMirth_94;
					PTUP branch_ZPlusResolveDef_95;
					if (v93) {
						PTUP v96 = VTUP(((TUP*)PTRPTR(v75))->cells[3]);
						incref(MKTUP(v96));
						PTUP v97 = PTRMK(0LL /* Nil */,0,0);
						PTUP v98 = PTRMK(0LL /* Nil */,0,0);
						bool v99 = true;
						PTUP r100 = v86;
						VAL r101 = MKTUP(v75);
						PTUP v102 = v84;
						PTUP v103 = VTUP(MKTUP(v97));
						PTUP v104 = VTUP(MKTUP(v98));
						PTUP v105 = VTUP(MKTUP(v96));
						bool v106 = v99;
						bool v107 = v99;
						while (v107) {
							PTUP r108 = r100;
							VAL r109 = r101;
							PTUP v110 = v102;
							PTUP v111 = v103;
							PTUP v112 = v104;
							PTUP v113 = v105;
							bool v114 = v106;
							PTUP branch_List_115;
							PTUP branch_ZPlusMirth_116;
							VAL branch_z_x1_117;
							PTUP branch_List_118;
							PTUP branch_List_119;
							PTUP branch_List_120;
							bool branch_Bool_121;
							switch (PTREXTRA(v113)) {
								case 1LL: { // Cons
									PTUP v122;
									VAL v123 = mtp_std_list_List_1_Cons(v113, &v122);
									incref(MKTUP(v110));
									incref(MKTUP(VTUP(v123)));
									PTUP v124;
									PTUP v125 = mw_mirth_def_Def_qnameZ_hard(r108, VTUP(MKTUP(VTUP(v123))), &v124);
									PTUP v126 = VTUP(((TUP*)PTRPTR(v125))->cells[0]);
									incref(MKTUP(v126));
									decref(MKTUP(v125));
									PTUP v127;
									VAL v128;
									bool v129 = mw_std_list_List_1_member_sp6(v124, r109, v126, VTUP(MKTUP(v110)), &v127, &v128);
									PTUP branch_List_130;
									PTUP branch_ZPlusMirth_131;
									VAL branch_z_x1_132;
									PTUP branch_Either_133;
									if (v129) {
										PTUP v134 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(VTUP(v123)))));
										branch_Either_133 = v134;
										branch_z_x1_132 = v128;
										branch_ZPlusMirth_131 = v127;
										branch_List_130 = VTUP(MKTUP(v110));
									} else {
										PTUP v135 = mtw_mirth_elab_RejectedDef_WrongConstructor(VTUP(MKTUP(VTUP(v123))));
										PTUP v136 = mtw_std_either_Either_2_Left(MKTUP(v135));
										branch_Either_133 = v136;
										branch_z_x1_132 = v128;
										branch_ZPlusMirth_131 = v127;
										branch_List_130 = VTUP(MKTUP(v110));
									}
									PTUP branch_List_137;
									PTUP branch_ZPlusMirth_138;
									VAL branch_z_x1_139;
									PTUP branch_List_140;
									PTUP branch_List_141;
									switch (PTREXTRA(branch_Either_133)) {
										case 0LL: { // Left
											VAL v142 = mtp_std_either_Either_2_Left(branch_Either_133);
											PTUP v143 = mw_std_list_List_1_cons(MKTUP(VTUP(v142)), VTUP(MKTUP(v111)));
											branch_List_141 = VTUP(MKTUP(v112));
											branch_List_140 = v143;
											branch_z_x1_139 = branch_z_x1_132;
											branch_ZPlusMirth_138 = branch_ZPlusMirth_131;
											branch_List_137 = branch_List_130;
										} break;
										case 1LL: { // Right
											VAL v144 = mtp_std_either_Either_2_Right(branch_Either_133);
											PTUP v145 = mw_std_list_List_1_cons(MKTUP(VTUP(v144)), VTUP(MKTUP(v112)));
											branch_List_141 = v145;
											branch_List_140 = VTUP(MKTUP(v111));
											branch_z_x1_139 = branch_z_x1_132;
											branch_ZPlusMirth_138 = branch_ZPlusMirth_131;
											branch_List_137 = branch_List_130;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									bool v146 = true;
									branch_Bool_121 = v146;
									branch_List_120 = v122;
									branch_List_119 = branch_List_141;
									branch_List_118 = branch_List_140;
									branch_z_x1_117 = branch_z_x1_139;
									branch_ZPlusMirth_116 = branch_ZPlusMirth_138;
									branch_List_115 = branch_List_137;
								} break;
								case 0LL: { // Nil
									PTUP v147 = PTRMK(0LL /* Nil */,0,0);
									bool v148 = false;
									branch_Bool_121 = v148;
									branch_List_120 = v147;
									branch_List_119 = v112;
									branch_List_118 = v111;
									branch_z_x1_117 = r109;
									branch_ZPlusMirth_116 = r108;
									branch_List_115 = v110;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							v107 = branch_Bool_121;
							v106 = branch_Bool_121;
							v105 = branch_List_120;
							v104 = branch_List_119;
							v103 = branch_List_118;
							v102 = branch_List_115;
							r101 = branch_z_x1_117;
							r100 = branch_ZPlusMirth_116;
						}
						decref(MKTUP(v105));
						PTUP v149 = mw_std_list_List_1_reverse(v103);
						PTUP v150 = mw_std_list_List_1_reverse(v104);
						PTUP v151 = VTUP(((TUP*)PTRPTR(VTUP(r101)))->cells[4]);
						incref(MKTUP(v151));
						PTUP v152 = mw_std_list_List_1_cat(v149, v151);
						PTUP v153 = VTUP(((TUP*)PTRPTR(VTUP(r101)))->cells[4]);
						decref(MKTUP(v153));
						((TUP*)PTRPTR(VTUP(r101)))->cells[4] = MKTUP(v152);
						PTUP v154 = VTUP(((TUP*)PTRPTR(VTUP(r101)))->cells[3]);
						decref(MKTUP(v154));
						((TUP*)PTRPTR(VTUP(r101)))->cells[3] = MKTUP(v150);
						decref(MKTUP(v102));
						branch_ZPlusResolveDef_95 = VTUP(r101);
						branch_ZPlusMirth_94 = r100;
					} else {
						PTUP v155;
						PTUP v156;
						mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v86, v75, v84, &v155, &v156);
						branch_ZPlusResolveDef_95 = v156;
						branch_ZPlusMirth_94 = v155;
					}
					branch_ZPlusResolveDef_81 = branch_ZPlusResolveDef_95;
					branch_ZPlusMirth_80 = branch_ZPlusMirth_94;
					branch_ZPlusPattern_79 = VTUP(v6);
				} else {
					branch_ZPlusResolveDef_81 = v75;
					branch_ZPlusMirth_80 = v77;
					branch_ZPlusPattern_79 = VTUP(v6);
				}
				PTUP v157;
				PTUP v158 = mw_mirth_elab_ZPlusResolveDef_endZBang(branch_ZPlusMirth_80, branch_ZPlusResolveDef_81, &v157);
				PTUP branch_Maybe_159;
				switch (PTREXTRA(v158)) {
					case 1LL: { // Some
						VAL v160 = mtp_std_maybe_Maybe_1_Some(v158);
						PTUP v161 = mw_mirth_def_Def_tagZAsk(VTUP(v160));
						branch_Maybe_159 = v161;
					} break;
					case 0LL: { // None
						PTUP v162 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_159 = v162;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP branch_ZPlusMirth_163;
				PTUP branch_ZPlusPattern_164;
				switch (PTREXTRA(branch_Maybe_159)) {
					case 1LL: { // Some
						VAL v165 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_159);
						PTUP v166;
						PTUP v167;
						mw_mirth_match_ZPlusPattern_tagZBang(v157, branch_ZPlusPattern_79, value_u64(v165), &v166, &v167);
						branch_ZPlusPattern_164 = v167;
						branch_ZPlusMirth_163 = v166;
					} break;
					case 0LL: { // None
						PTUP v168 = PTRMK(0LL /* Error */,0,0);
						incref(MKTUP(branch_ZPlusPattern_79));
						VAL v169 = tup_replace(MKTUP(branch_ZPlusPattern_79), 6, MKTUP(v168));
						decref(MKTUP(branch_ZPlusPattern_79));
						branch_ZPlusPattern_164 = VTUP(v169);
						branch_ZPlusMirth_163 = v157;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusPattern_17 = branch_ZPlusPattern_164;
				branch_ZPlusMirth_16 = branch_ZPlusMirth_163;
			} break;
			case 0LL: { // None
				STR* v170;
				STRLIT(v170, "Expected constructor name.", 26);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, in_Token_3, v170);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusPattern_11 = branch_ZPlusPattern_17;
		branch_ZPlusMirth_10 = branch_ZPlusMirth_16;
	}
	*out_ZPlusPattern_5 = branch_ZPlusPattern_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static PTUP mw_mirth_elab_elabZ_expandZ_tensorZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6, uint64_t *out_Token_7) {
	PTUP v8;
	PTUP v9 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, in_StackType_2, &v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_StackType_11;
	PTUP branch_Type_12;
	uint64_t branch_Token_13;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v9);
			VAL v15 = ((TUP*)PTRPTR(value_tup(v14)))->cells[0];
			VAL v16 = ((TUP*)PTRPTR(value_tup(v14)))->cells[1];
			tup_decref_outer(value_tup(v14));
			branch_Token_13 = in_Token_3;
			branch_Type_12 = VTUP(v16);
			branch_StackType_11 = VTUP(v15);
			branch_ZPlusMirth_10 = v8;
		} break;
		case 0LL: { // None
			PTUP v17 = PTRMK(0LL /* Error */,0,0);
			PTUP v18 = PTRMK(0LL /* Error */,0,0);
			STR* v19;
			STRLIT(v19, "expected tuple type", 19);
			PTUP v20;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v8, in_Token_3, v19, &v20);
			branch_Token_13 = in_Token_3;
			branch_Type_12 = v18;
			branch_StackType_11 = v17;
			branch_ZPlusMirth_10 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Token_7 = branch_Token_13;
	*out_Type_6 = branch_Type_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_StackType_11;
}
static uint64_t mw_mirth_elab_elabZ_lambdaZ_paramZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_patternZ_varZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	uint64_t branch_Token_8;
	PTUP branch_ZPlusMirth_9;
	PTUP branch_Maybe_10;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			PTUP v12;
			mw_mirth_token_Token_argsZ_0(v6, in_Token_2, &v12);
			PTUP v13;
			uint64_t v14 = mw_mirth_token_Token_next(v12, in_Token_2, &v13);
			PTUP v15;
			PTUP v16 = mw_mirth_type_Type_FreshZBang(v13, &v15);
			PTUP v17;
			uint64_t v18 = mw_mirth_var_Var_NewZBang(v15, v16, value_u64(v11), &v17);
			PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKU64(v18));
			branch_Maybe_10 = v19;
			branch_ZPlusMirth_9 = v17;
			branch_Token_8 = v14;
		} break;
		case 0LL: { // None
			PTUP v20;
			PTUP v21 = mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk(v6, in_Token_2, &v20);
			uint64_t branch_Token_22;
			PTUP branch_ZPlusMirth_23;
			PTUP branch_Maybe_24;
			switch (PTREXTRA(v21)) {
				case 1LL: { // Some
					VAL v25 = mtp_std_maybe_Maybe_1_Some(v21);
					PTUP v26;
					uint64_t v27 = mw_mirth_token_Token_succ(v20, in_Token_2, &v26);
					PTUP v28;
					mw_mirth_token_Token_argsZ_0(v26, v27, &v28);
					PTUP v29;
					uint64_t v30 = mw_mirth_token_Token_next(v28, in_Token_2, &v29);
					PTUP v31;
					PTUP v32 = mw_mirth_type_ArrowType_FreshZBang(v29, &v31);
					PTUP v33;
					uint64_t v34 = mw_mirth_var_Var_NewAutoRunZBang(v31, v32, value_u64(v25), &v33);
					PTUP v35 = mtw_std_maybe_Maybe_1_Some(MKU64(v34));
					branch_Maybe_24 = v35;
					branch_ZPlusMirth_23 = v33;
					branch_Token_22 = v30;
				} break;
				case 0LL: { // None
					PTUP v36 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_24 = v36;
					branch_ZPlusMirth_23 = v20;
					branch_Token_22 = in_Token_2;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_10 = branch_Maybe_24;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_23;
			branch_Token_8 = branch_Token_22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_5 = branch_Maybe_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Token_8;
}
static void mw_mirth_elab_elabZ_atomZ_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	PTUP v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(in_ZPlusMirth_1, v6, &v7);
	PTUP v9 = PTRMK(0LL /* Nil */,0,0);
	PTUP v10;
	mw_std_list_List_1_buildZBang(v9, &v10);
	bool v11 = true;
	PTUP r12 = v7;
	uint64_t v13 = v8;
	VAL r14 = MKTUP(v5);
	PTUP r15 = v10;
	bool v16 = v11;
	bool v17 = v11;
	while (v17) {
		PTUP r18 = r12;
		uint64_t v19 = v13;
		VAL r20 = r14;
		PTUP r21 = r15;
		bool v22 = v16;
		PTUP v23;
		PTUP v24;
		uint64_t v25 = mw_mirth_elab_elabZ_lambdaZ_paramZAsk(r18, v19, &v23, &v24);
		PTUP v26;
		bool v27 = mw_std_maybe_Maybe_1_ifZAsk_2_sp69(r21, v24, &v26);
		v17 = v27;
		v16 = v27;
		r15 = v26;
		r14 = r20;
		v13 = v25;
		r12 = v23;
	}
	PTUP v28 = mw_std_list_ZPlusLister_1_doneZBang(r15);
	PTUP v29;
	uint64_t v30 = mw_mirth_elab_expectZ_tokenZ_arrow(r12, v13, &v29);
	PTUP v31;
	uint64_t v32 = mw_mirth_token_Token_succ(v29, v30, &v31);
	PTUP v33;
	PTUP v34 = mw_mirth_type_StackType_FreshZBang(v31, &v33);
	incref(MKTUP(v28));
	PTUP v35;
	PTUP v36 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(VTUP(r14), &v35);
	PTUP v37;
	PTUP v38 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v35, &v37);
	PTUP v39;
	PTUP v40;
	PTUP v41;
	PTUP v42 = mw_std_list_List_1_reverseZ_for_1_sp10(v33, v37, v36, v38, VTUP(MKTUP(v28)), &v39, &v40, &v41);
	PTUP v43 = mw_mirth_type_TZ_ZTo(v41, VTUP(MKTUP(v34)));
	PTUP v44;
	PTUP v45 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v40, &v44);
	PTUP v46;
	PTUP v47;
	mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v43)), &v46, &v47);
	incref(MKTUP(v46));
	PTUP v48 = PTRMK(0LL /* Nil */,0,0);
	PTUP v49 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v45)), value_u64(MKU64(value_u64(MKU64(v32)))), value_u64(MKU64(value_u64(MKU64(v32)))), VTUP(MKTUP(v42)), v46, v46, v48);
	PTUP v50;
	PTUP v51;
	mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v39, v49, &v50, &v51);
	PTUP v52;
	PTUP v53;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v50, v51, v47, &v52, &v53);
	PTUP v54;
	PTUP v55 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v44, &v54);
	PTUP v56;
	PTUP v57 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v54, &v56);
	PTUP v58;
	uint64_t v59 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v56, &v58);
	PTUP v60 = mtw_mirth_arrow_Lambda_Lambda(v59, v55, v57, VTUP(MKTUP(v28)), v53);
	PTUP v61 = mtw_mirth_arrow_Op_Lambda(v60);
	PTUP v62 = PTRMK(0LL /* Nil */,0,0);
	PTUP v63;
	PTUP v64;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v52, v58, v62, v61, &v63, &v64);
	*out_ZPlusAB_4 = v64;
	*out_ZPlusMirth_3 = v63;
}
static void mw_mirth_elab_elabZ_matchZ_exhaustiveZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusMatch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusMatch_4) {
	PTUP v5 = mw_mirth_match_ZPlusMatch_freezze(in_ZPlusMatch_2);
	incref(MKTUP(v5));
	PTUP v6;
	bool v7 = mw_mirth_match_Match_isZ_exhaustiveZAsk(in_ZPlusMirth_1, v5, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Match_9;
	if (v7) {
		branch_Match_9 = v5;
		branch_ZPlusMirth_8 = v6;
	} else {
		incref(MKTUP(v5));
		uint64_t v10 = value_u64(((TUP*)PTRPTR(v5))->cells[1]);
		decref(MKTUP(v5));
		STR* v11;
		STRLIT(v11, "Pattern match not exhaustive.", 29);
		PTUP v12;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, v10, v11, &v12);
		branch_Match_9 = v5;
		branch_ZPlusMirth_8 = v12;
	}
	PTUP v13;
	mw_mirth_match_Match_thaw(branch_Match_9, &v13);
	*out_ZPlusMatch_4 = v13;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
}
static uint64_t mw_mirth_elab_elabZ_moduleZBang (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	uint64_t v8 = mw_mirth_module_Module_start(in_ZPlusMirth_1, in_Module_2, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_elab_elabZ_moduleZ_headerZBang(v7, v8, &v9);
	incref(MKU64(in_Module_2));
	PTUP v11 = mtw_mirth_name_Namespace_Module(value_u64(MKU64(in_Module_2)));
	PTUP v12 = PTRMK(0LL /* DefiningNamespace */,0,0);
	PTUP v13;
	PTUP v14 = mw_mirth_mirth_PropLabel_prop(v9, MKTUP(v11), v12, &v13);
	PTUP v15 = mtw_std_maybe_Maybe_1_Some(MKTUP(v14));
	PTUP v16 = VTUP(((TUP*)PTRPTR(v13))->cells[6]);
	incref(MKTUP(v16));
	incref(MKTUP(v16));
	PTUP v17 = VTUP(((TUP*)PTRPTR(v16))->cells[1]);
	incref(MKTUP(v17));
	decref(MKTUP(v16));
	VAL v18 = tup_replace(MKTUP(v16), 1, MKTUP(v15));
	PTUP v19 = VTUP(((TUP*)PTRPTR(v13))->cells[6]);
	decref(MKTUP(v19));
	((TUP*)PTRPTR(v13))->cells[6] = MKTUP(VTUP(v18));
	PTUP v20;
	uint64_t v21 = mw_mirth_elab_elabZ_declsZBang(v13, value_u64(MKU64(v10)), &v20);
	PTUP v22;
	bool v23 = mw_mirth_token_Token_moduleZ_endZAsk(v20, v21, &v22);
	PTUP branch_ZPlusMirth_24;
	uint64_t branch_Token_25;
	if (v23) {
		branch_Token_25 = v21;
		branch_ZPlusMirth_24 = v22;
	} else {
		STR* v26;
		STRLIT(v26, "Unexpected token in module.", 27);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, v21, v26);
	}
	PTUP v29 = VTUP(((TUP*)PTRPTR(branch_ZPlusMirth_24))->cells[6]);
	incref(MKTUP(v29));
	VAL v30 = tup_replace(MKTUP(v29), 1, MKTUP(v17));
	PTUP v31 = VTUP(((TUP*)PTRPTR(branch_ZPlusMirth_24))->cells[6]);
	decref(MKTUP(v31));
	((TUP*)PTRPTR(branch_ZPlusMirth_24))->cells[6] = MKTUP(VTUP(v30));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_24;
	return value_u64(MKU64(in_Module_2));
}
static PTUP mw_mirth_elab_elabZ_moduleZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6;
	uint64_t v7 = mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang(in_ZPlusMirth_1, in_Token_2, &v5, &v6);
	PTUP v8 = mtw_mirth_name_Namespace_Package(v7);
	INT v9 = WRAP_I63(0LL);
	PTUP v10 = mw_mirth_name_QName_Mk(v8, v6, v9);
	*out_ZPlusMirth_3 = v5;
	return v10;
}
static uint64_t mw_mirth_elab_parseZ_moduleZ_headerZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_ModuleHeader_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP v8;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(v6, in_Token_2, &v8);
	PTUP v9;
	bool v10 = mw_mirth_token_Token_moduleZ_headerZAsk(v8, in_Token_2, &v9);
	PTUP branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		branch_Token_12 = in_Token_2;
		branch_ZPlusMirth_11 = v9;
	} else {
		STR* v13;
		STRLIT(v13, "Expected module header.", 23);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v9, in_Token_2, v13);
	}
	PTUP v16;
	INT v17 = mw_mirth_token_Token_numZ_args(branch_ZPlusMirth_11, branch_Token_12, &v16);
	INT v18 = WRAP_I63(0LL);
	INT v19 = v17;
	INT v20 = v18;
	bool v21 = int_lt(v20, v19);
	PTUP branch_Maybe_22;
	uint64_t branch_Token_23;
	uint64_t branch_Name_24;
	uint64_t branch_Package_25;
	uint64_t branch_Token_26;
	PTUP branch_ZPlusMirth_27;
	if (v21) {
		PTUP v28;
		uint64_t v29 = mw_mirth_token_Token_next(v16, branch_Token_12, &v28);
		PTUP v30;
		uint64_t v31 = mw_mirth_token_Token_argsZ_1(v28, branch_Token_12, &v30);
		PTUP v32;
		uint64_t v33;
		uint64_t v34 = mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang(v30, v31, &v32, &v33);
		PTUP v35;
		uint64_t v36 = mw_mirth_token_Token_next(v32, v31, &v35);
		PTUP v37;
		bool v38 = mw_mirth_token_Token_argZ_endZAsk(v35, v36, &v37);
		PTUP branch_ZPlusMirth_39;
		uint64_t branch_Token_40;
		if (v38) {
			branch_Token_40 = v36;
			branch_ZPlusMirth_39 = v37;
		} else {
			STR* v41;
			STRLIT(v41, "Expected end of argument.", 25);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v37, v36, v41);
		}
		branch_ZPlusMirth_27 = branch_ZPlusMirth_39;
		branch_Token_26 = v31;
		branch_Package_25 = v34;
		branch_Name_24 = v33;
		branch_Token_23 = v29;
		branch_Maybe_22 = v7;
	} else {
		PTUP v44;
		uint64_t v45 = mw_mirth_token_Token_succ(v16, branch_Token_12, &v44);
		PTUP v46;
		uint64_t v47;
		uint64_t v48 = mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang(v44, v45, &v46, &v47);
		PTUP v49;
		uint64_t v50 = mw_mirth_token_Token_next(v46, v45, &v49);
		branch_ZPlusMirth_27 = v49;
		branch_Token_26 = v45;
		branch_Package_25 = v48;
		branch_Name_24 = v47;
		branch_Token_23 = v50;
		branch_Maybe_22 = v7;
	}
	PTUP v51 = PTRMK(0LL /* Nil */,0,0);
	PTUP v52;
	bool v53 = mw_mirth_token_Token_moduleZ_importZAsk(branch_ZPlusMirth_27, branch_Token_23, &v52);
	PTUP v54 = branch_Maybe_22;
	uint64_t v55 = branch_Name_24;
	uint64_t v56 = branch_Package_25;
	uint64_t v57 = branch_Token_26;
	PTUP v58 = v51;
	uint64_t v59 = branch_Token_23;
	PTUP r60 = v52;
	bool v61 = v53;
	while (v61) {
		PTUP v62 = v54;
		uint64_t v63 = v55;
		uint64_t v64 = v56;
		uint64_t v65 = v57;
		PTUP v66 = v58;
		uint64_t v67 = v59;
		PTUP r68 = r60;
		PTUP v69;
		uint64_t v70;
		uint64_t v71 = mw_mirth_elab_parseZ_moduleZ_import(r68, v67, &v69, &v70);
		PTUP v72 = mw_std_list_List_1_cons(MKU64(v70), v66);
		PTUP v73;
		bool v74 = mw_mirth_token_Token_moduleZ_importZAsk(v69, v71, &v73);
		v61 = v74;
		r60 = v73;
		v59 = v71;
		v58 = v72;
		v57 = v65;
		v56 = v64;
		v55 = v63;
		v54 = v62;
	}
	PTUP v75 = mw_std_list_List_1_reverse(v58);
	PTUP v76;
	bool v77 = mw_mirth_token_Token_sigZ_dashesZAsk(r60, v59, &v76);
	PTUP branch_ZPlusMirth_78;
	uint64_t branch_Token_79;
	if (v77) {
		PTUP v80;
		uint64_t v81 = mw_mirth_token_Token_succ(v76, v59, &v80);
		branch_Token_79 = v81;
		branch_ZPlusMirth_78 = v80;
	} else {
		branch_Token_79 = v59;
		branch_ZPlusMirth_78 = v76;
	}
	PTUP v82 = mtw_mirth_elab_ModuleHeader_ModuleHeader(v54, v56, v55, v57, v75);
	*out_ModuleHeader_5 = v82;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_78;
	return branch_Token_79;
}
static uint64_t mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Name_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_nameZDivdnameZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	int64_t v8 = PTREXTRA(v7);
	decref(MKTUP(v7));
	INT v9 = WRAP_I63(0LL);
	INT v10 = v9;
	INT v11 = i64_to_int(v8);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	PTUP branch_ZPlusMirth_14;
	uint64_t branch_Token_15;
	if (v13) {
		branch_Token_15 = in_Token_2;
		branch_ZPlusMirth_14 = v6;
	} else {
		STR* v16;
		STRLIT(v16, "Expected module name.", 21);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v6, in_Token_2, v16);
	}
	PTUP v19;
	PTUP v20 = mw_mirth_token_Token_dnameZAsk(branch_ZPlusMirth_14, branch_Token_15, &v19);
	PTUP branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	VAL branch_z_x1_23;
	switch (PTREXTRA(v20)) {
		case 1LL: { // Some
			VAL v24 = mtp_std_maybe_Maybe_1_Some(v20);
			branch_z_x1_23 = v24;
			branch_Token_22 = branch_Token_15;
			branch_ZPlusMirth_21 = v19;
		} break;
		case 0LL: { // None
			STR* v25;
			STRLIT(v25, "Invalid module name: Module name must include package, for example \"package.module\"", 83);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v19, branch_Token_15, v25);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKU64(branch_Token_22));
	PTUP v29;
	mw_mirth_token_Token_argsZ_0(branch_ZPlusMirth_21, value_u64(MKU64(branch_Token_22)), &v29);
	incref(MKTUP(VTUP(branch_z_x1_23)));
	PTUP v30 = mw_mirth_name_DName_rootZAsk(VTUP(branch_z_x1_23));
	PTUP branch_ZPlusMirth_31;
	uint64_t branch_Token_32;
	VAL branch_z_x1_33;
	VAL branch_z_x2_34;
	switch (PTREXTRA(v30)) {
		case 1LL: { // Some
			VAL v35 = mtp_std_maybe_Maybe_1_Some(v30);
			branch_z_x2_34 = v35;
			branch_z_x1_33 = MKTUP(VTUP(branch_z_x1_23));
			branch_Token_32 = value_u64(MKU64(branch_Token_22));
			branch_ZPlusMirth_31 = v29;
		} break;
		case 0LL: { // None
			decref(MKTUP(VTUP(branch_z_x1_23)));
			STR* v36;
			STRLIT(v36, "Invalid module name: Package name is missing.", 45);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v29, value_u64(MKU64(branch_Token_22)), v36);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v41 = mw_mirth_name_DName_parts(VTUP(branch_z_x1_33));
	PTUP v42 = mw_std_list_Nest_1_singleZAsk(v41);
	PTUP branch_ZPlusMirth_43;
	uint64_t branch_Token_44;
	VAL branch_z_x1_45;
	VAL branch_z_x2_46;
	switch (PTREXTRA(v42)) {
		case 1LL: { // Some
			VAL v47 = mtp_std_maybe_Maybe_1_Some(v42);
			branch_z_x2_46 = v47;
			branch_z_x1_45 = MKU64(value_u64(branch_z_x2_34));
			branch_Token_44 = branch_Token_32;
			branch_ZPlusMirth_43 = branch_ZPlusMirth_31;
		} break;
		case 0LL: { // None
			decref(MKU64(value_u64(branch_z_x2_34)));
			STR* v48;
			STRLIT(v48, "Expected module name. (3)", 25);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_31, branch_Token_32, v48);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v53;
	uint64_t v54 = mw_mirth_package_Package_FindZ_OrZ_NewZBang(branch_ZPlusMirth_43, value_u64(branch_z_x1_45), &v53);
	decref(MKU64(branch_Token_44));
	*out_Name_5 = value_u64(branch_z_x2_46);
	*out_ZPlusMirth_3 = v53;
	return value_u64(MKU64(v54));
}
static uint64_t mw_mirth_elab_elabZ_moduleZ_headerZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	uint64_t v8 = mw_mirth_token_Token_module(in_ZPlusMirth_1, in_Token_2, &v7);
	PTUP v9;
	PTUP v10;
	uint64_t v11 = mw_mirth_elab_parseZ_moduleZ_headerZBang(v7, in_Token_2, &v9, &v10);
	PTUP v12;
	uint64_t v13;
	uint64_t v14;
	uint64_t v15;
	PTUP v16;
	mtp_mirth_elab_ModuleHeader_ModuleHeader(v10, &v12, &v13, &v14, &v15, &v16);
	PTUP v17;
	mw_mirth_module_Module_nameZBang(v9, v14, v8, &v17);
	PTUP v18;
	mw_mirth_module_Module_docZBang(v17, v12, v8, &v18);
	PTUP v19;
	mw_mirth_module_Module_packageZBang(v18, v13, v8, &v19);
	PTUP v20;
	PTUP v21 = mw_mirth_module_Module_qname(v19, v8, &v20);
	PTUP v22;
	bool v23 = mw_mirth_name_QName_definedZ_softZAsk(v20, v21, &v22);
	PTUP branch_ZPlusMirth_24;
	uint64_t branch_Token_25;
	if (v23) {
		STR* v26;
		STRLIT(v26, "Module name already taken.", 26);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, v15, v26);
	} else {
		branch_Token_25 = v15;
		branch_ZPlusMirth_24 = v22;
	}
	PTUP v28;
	mw_mirth_module_Module_headZBang(branch_ZPlusMirth_24, branch_Token_25, v8, &v28);
	PTUP v29 = mtw_mirth_def_Def_Module(v8);
	PTUP v30;
	mw_mirth_def_Def_register(v28, v29, &v30);
	PTUP v31;
	mw_mirth_elab_checkZ_moduleZ_path(v30, v11, v8, &v31);
	bool v32 = true;
	PTUP r33 = v31;
	PTUP v34 = v16;
	bool v35 = v32;
	bool v36 = v32;
	while (v36) {
		PTUP r37 = r33;
		PTUP v38 = v34;
		bool v39 = v35;
		PTUP branch_ZPlusMirth_40;
		PTUP branch_List_41;
		bool branch_Bool_42;
		switch (PTREXTRA(v38)) {
			case 1LL: { // Cons
				PTUP v43;
				VAL v44 = mtp_std_list_List_1_Cons(v38, &v43);
				PTUP v45;
				mw_mirth_elab_processZ_moduleZ_importZBang(r37, value_u64(v44), &v45);
				bool v46 = true;
				branch_Bool_42 = v46;
				branch_List_41 = v43;
				branch_ZPlusMirth_40 = v45;
			} break;
			case 0LL: { // Nil
				PTUP v47 = PTRMK(0LL /* Nil */,0,0);
				bool v48 = false;
				branch_Bool_42 = v48;
				branch_List_41 = v47;
				branch_ZPlusMirth_40 = r37;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v36 = branch_Bool_42;
		v35 = branch_Bool_42;
		v34 = branch_List_41;
		r33 = branch_ZPlusMirth_40;
	}
	decref(MKTUP(v34));
	*out_ZPlusMirth_3 = r33;
	return v11;
}
static void mw_mirth_elab_checkZ_moduleZ_path (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	PTUP v7;
	STR* v8 = mw_mirth_module_Module_path(in_ZPlusMirth_1, in_Module_3, &v7);
	PTUP v9;
	STR* v10 = mw_std_path_Path_splitZ_last(v8, &v9);
	PTUP branch_ZPlusMirth_11;
	switch (PTREXTRA(v9)) {
		case 0LL: { // None
			PTUP v12;
			PTUP v13 = mw_mirth_module_Module_qname(v7, in_Module_3, &v12);
			PTUP v14;
			STR* v15 = mw_mirth_name_QName_toZ_moduleZ_path(v13, v12, &v14);
			incref(MKSTR(v10));
			incref(MKSTR(v15));
			bool v16 = (str_cmp(value_str(MKSTR(value_str(MKSTR(v10)))), value_str(MKSTR(v15))) == 0);
			PTUP branch_ZPlusMirth_17;
			uint64_t branch_Token_18;
			STR* branch_Path_19;
			STR* branch_Path_20;
			if (v16) {
				branch_Path_20 = value_str(MKSTR(v15));
				branch_Path_19 = value_str(MKSTR(v10));
				branch_Token_18 = in_Token_2;
				branch_ZPlusMirth_17 = v14;
			} else {
				STR* v21;
				STRLIT(v21, "Expected module name to match path.\n", 36);
				STR* v22 = str_cat(v21, value_str(MKSTR(v15)));
				STR* v23;
				STRLIT(v23, "\n", 1);
				STR* v24 = str_cat(v22, v23);
				STR* v25 = str_cat(v24, value_str(MKSTR(v10)));
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, in_Token_2, v25);
			}
			decref(MKSTR(branch_Path_20));
			decref(MKSTR(branch_Path_19));
			decref(MKU64(branch_Token_18));
			branch_ZPlusMirth_11 = branch_ZPlusMirth_17;
		} break;
		case 1LL: { // Some
			VAL v30 = mtp_std_maybe_Maybe_1_Some(v9);
			incref(MKSTR(value_str(v30)));
			uint64_t v31 = str_size(value_str(v30));
			INT v32 = u64_to_int(v31);
			PTUP v33 = PTRMK(0LL /* None */,0,0);
			incref(MKTUP(v33));
			int64_t v34 = PTREXTRA(v33);
			decref(MKTUP(v33));
			INT v35 = WRAP_I63(0LL);
			INT v36 = v35;
			INT v37 = i64_to_int(v34);
			bool v38 = int_eq(v37, v36);
			INT branch_Offset_39;
			VAL branch_z_x1_40;
			bool branch_Bool_41;
			if (v38) {
				incref(MKINT(v32));
				INT v42 = WRAP_I63(0LL);
				INT v43 = v42;
				bool v44 = int_lt(v43, value_int(MKINT(v32)));
				branch_Bool_41 = v44;
				branch_z_x1_40 = MKTUP(v33);
				branch_Offset_39 = value_int(MKINT(v32));
			} else {
				bool v45 = false;
				branch_Bool_41 = v45;
				branch_z_x1_40 = MKTUP(v33);
				branch_Offset_39 = v32;
			}
			STR* r46 = value_str(v30);
			INT v47 = branch_Offset_39;
			PTUP v48 = VTUP(branch_z_x1_40);
			bool v49 = branch_Bool_41;
			while (v49) {
				STR* r50 = r46;
				INT v51 = v47;
				PTUP v52 = v48;
				decref(MKTUP(v52));
				INT v53 = WRAP_I63(1LL);
				INT v54 = v53;
				INT v55 = int_sub(v51, v54);
				incref(MKINT(v55));
				STR* v56;
				int64_t v57 = mw_std_str_ZPlusStr_byteZAt(v55, r50, &v56);
				int64_t v58 = 46LL /* BDOT */;
				int64_t v59 = v57;
				INT v60 = i64_to_int(v59);
				uint64_t v61 = int_to_u64(v60);
				uint8_t v62 = (uint8_t)(v61);
				int64_t v63 = v58;
				INT v64 = i64_to_int(v63);
				uint64_t v65 = int_to_u64(v64);
				uint8_t v66 = (uint8_t)(v65);
				uint64_t v67 = (uint64_t)(v66);
				uint32_t v68 = (uint32_t)(v67);
				uint64_t v69 = (uint64_t)(value_u8(MKU8(v62)));
				uint32_t v70 = (uint32_t)(v69);
				uint64_t v71 = (uint64_t)(v70);
				uint64_t v72 = (uint64_t)(v68);
				bool v73 = (value_u64(MKU64(v71)) == v72);
				STR* branch_ZPlusStr_74;
				INT branch_Offset_75;
				PTUP branch_Maybe_76;
				if (v73) {
					incref(MKINT(v55));
					PTUP v77 = mtw_std_maybe_Maybe_1_Some(MKINT(v55));
					branch_Maybe_76 = v77;
					branch_Offset_75 = v55;
					branch_ZPlusStr_74 = v56;
				} else {
					PTUP v78 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_76 = v78;
					branch_Offset_75 = v55;
					branch_ZPlusStr_74 = v56;
				}
				incref(MKTUP(branch_Maybe_76));
				int64_t v79 = PTREXTRA(branch_Maybe_76);
				decref(MKTUP(branch_Maybe_76));
				INT v80 = WRAP_I63(0LL);
				INT v81 = v80;
				INT v82 = i64_to_int(v79);
				bool v83 = int_eq(v82, v81);
				INT branch_Offset_84;
				VAL branch_z_x1_85;
				bool branch_Bool_86;
				if (v83) {
					incref(MKINT(branch_Offset_75));
					INT v87 = WRAP_I63(0LL);
					INT v88 = v87;
					bool v89 = int_lt(v88, value_int(MKINT(branch_Offset_75)));
					branch_Bool_86 = v89;
					branch_z_x1_85 = MKTUP(branch_Maybe_76);
					branch_Offset_84 = value_int(MKINT(branch_Offset_75));
				} else {
					bool v90 = false;
					branch_Bool_86 = v90;
					branch_z_x1_85 = MKTUP(branch_Maybe_76);
					branch_Offset_84 = branch_Offset_75;
				}
				v49 = branch_Bool_86;
				v48 = VTUP(branch_z_x1_85);
				v47 = branch_Offset_84;
				r46 = branch_ZPlusStr_74;
			}
			decref(MKINT(v47));
			PTUP v91;
			STR* v92 = mw_std_maybe_Maybe_1_map_1_sp11(r46, VTUP(MKTUP(v48)), &v91);
			STR* v93;
			STRLIT(v93, "mth", 3);
			PTUP v94 = mtw_std_maybe_Maybe_1_Some(MKSTR(v93));
			bool branch_Bool_95;
			switch (PTREXTRA(v94)) {
				case 0LL: { // None
					int64_t v96 = PTREXTRA(v91);
					decref(MKTUP(v91));
					INT v97 = WRAP_I63(0LL);
					INT v98 = v97;
					INT v99 = i64_to_int(v96);
					bool v100 = int_eq(v99, v98);
					branch_Bool_95 = v100;
				} break;
				case 1LL: { // Some
					VAL v101 = mtp_std_maybe_Maybe_1_Some(v94);
					bool branch_Bool_102;
					switch (PTREXTRA(v91)) {
						case 1LL: { // Some
							VAL v103 = mtp_std_maybe_Maybe_1_Some(v91);
							bool v104 = (str_cmp(value_str(v103), value_str(v101)) == 0);
							branch_Bool_102 = v104;
						} break;
						case 0LL: { // None
							decref(MKSTR(value_str(v101)));
							bool v105 = false;
							branch_Bool_102 = v105;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_95 = branch_Bool_102;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			PTUP branch_ZPlusMirth_106;
			uint64_t branch_Token_107;
			VAL branch_z_x1_108;
			VAL branch_z_x2_109;
			VAL branch_z_x3_110;
			if (branch_Bool_95) {
				branch_z_x3_110 = MKSTR(v92);
				branch_z_x2_109 = MKSTR(v10);
				branch_z_x1_108 = MKU64(in_Module_3);
				branch_Token_107 = in_Token_2;
				branch_ZPlusMirth_106 = v7;
			} else {
				incref(MKU64(in_Token_2));
				STR* v111;
				STRLIT(v111, "Expected .mth extension for mirth file.", 39);
				PTUP v112;
				mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(v7, value_u64(MKU64(in_Token_2)), v111, &v112);
				branch_z_x3_110 = MKSTR(v92);
				branch_z_x2_109 = MKSTR(v10);
				branch_z_x1_108 = MKU64(in_Module_3);
				branch_Token_107 = value_u64(MKU64(in_Token_2));
				branch_ZPlusMirth_106 = v112;
			}
			incref(branch_z_x1_108);
			PTUP v113;
			uint64_t v114 = mw_mirth_module_Module_name(branch_ZPlusMirth_106, value_u64(branch_z_x1_108), &v113);
			PTUP v115;
			STR* v116 = mw_mirth_name_Name_ZToStr(v113, v114, &v115);
			bool v117 = (str_cmp(value_str(branch_z_x3_110), v116) == 0);
			PTUP branch_ZPlusMirth_118;
			uint64_t branch_Token_119;
			VAL branch_z_x1_120;
			VAL branch_z_x2_121;
			if (v117) {
				branch_z_x2_121 = branch_z_x2_109;
				branch_z_x1_120 = branch_z_x1_108;
				branch_Token_119 = branch_Token_107;
				branch_ZPlusMirth_118 = v115;
			} else {
				incref(MKU64(branch_Token_107));
				PTUP v122;
				uint64_t v123 = mw_mirth_token_Token_module(v115, value_u64(MKU64(branch_Token_107)), &v122);
				PTUP v124;
				uint64_t v125 = mw_mirth_module_Module_head(v122, v123, &v124);
				STR* v126;
				STRLIT(v126, "Expected module name to match file name.", 40);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v124, v125, v126);
			}
			incref(branch_z_x1_120);
			PTUP v128;
			uint64_t v129 = mw_mirth_module_Module_package(branch_ZPlusMirth_118, value_u64(branch_z_x1_120), &v128);
			PTUP v130;
			mw_mirth_package_Package_tryZ_pathZBang(v128, value_str(branch_z_x2_121), v129, &v130);
			decref(branch_z_x1_120);
			decref(MKU64(branch_Token_119));
			branch_ZPlusMirth_11 = v130;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static uint64_t mw_mirth_elab_elabZ_declsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	bool v8 = mw_mirth_token_Token_argZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	bool v9 = !v8;
	incref(MKU64(in_Token_2));
	PTUP v10;
	bool v11 = mw_mirth_token_Token_moduleZ_endZAsk(v7, value_u64(MKU64(in_Token_2)), &v10);
	bool v12 = !v11;
	bool v13 = (value_bool(MKBOOL(v9)) && v12);
	uint64_t v14 = value_u64(MKU64(in_Token_2));
	PTUP r15 = v10;
	bool v16 = v13;
	while (v16) {
		uint64_t v17 = v14;
		PTUP r18 = r15;
		PTUP v19;
		uint64_t v20 = mw_mirth_elab_elabZ_declZBang(r18, v17, &v19);
		PTUP v21;
		bool v22 = mw_mirth_token_Token_argZ_endZAsk(v19, v20, &v21);
		bool v23 = !v22;
		incref(MKU64(v20));
		PTUP v24;
		bool v25 = mw_mirth_token_Token_moduleZ_endZAsk(v21, value_u64(MKU64(v20)), &v24);
		bool v26 = !v25;
		bool v27 = (value_bool(MKBOOL(v23)) && v26);
		v16 = v27;
		r15 = v24;
		v14 = value_u64(MKU64(v20));
	}
	*out_ZPlusMirth_3 = r15;
	return v14;
}
static uint64_t mw_mirth_elab_elabZ_declZ_orZ_declZ_blockZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_lcurlyZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	int64_t v9 = PTREXTRA(v8);
	decref(MKTUP(v8));
	INT v10 = WRAP_I63(0LL);
	INT v11 = v10;
	INT v12 = i64_to_int(v9);
	bool v13 = int_eq(v12, v11);
	bool v14 = !v13;
	PTUP branch_ZPlusMirth_15;
	uint64_t branch_Token_16;
	if (v14) {
		PTUP v17;
		uint64_t v18 = mw_mirth_elab_elabZ_declZ_blockZBang(v7, in_Token_2, &v17);
		branch_Token_16 = v18;
		branch_ZPlusMirth_15 = v17;
	} else {
		PTUP v19;
		uint64_t v20 = mw_mirth_elab_elabZ_declZBang(v7, in_Token_2, &v19);
		branch_Token_16 = v20;
		branch_ZPlusMirth_15 = v19;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_15;
	return branch_Token_16;
}
static uint64_t mw_mirth_elab_elabZ_declZ_blockZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_lcurlyZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	PTUP v9;
	uint64_t v10 = mw_std_maybe_Maybe_1_else_1_sp3(v7, in_Token_2, v8, &v9);
	PTUP v11;
	uint64_t v12 = mw_mirth_token_Token_succ(v9, v10, &v11);
	PTUP v13;
	uint64_t v14 = mw_mirth_elab_elabZ_declsZBang(v11, v12, &v13);
	PTUP v15;
	PTUP v16 = mw_mirth_token_Token_rcurlyZAsk(v13, v14, &v15);
	int64_t v17 = PTREXTRA(v16);
	decref(MKTUP(v16));
	INT v18 = WRAP_I63(0LL);
	INT v19 = v18;
	INT v20 = i64_to_int(v17);
	bool v21 = int_eq(v20, v19);
	bool v22 = !v21;
	PTUP branch_ZPlusMirth_23;
	uint64_t branch_Token_24;
	if (v22) {
		branch_Token_24 = v14;
		branch_ZPlusMirth_23 = v15;
	} else {
		STR* v25;
		STRLIT(v25, "Expected end of declaration block.", 34);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v15, v14, v25);
	}
	PTUP v28;
	uint64_t v29 = mw_mirth_token_Token_succ(branch_ZPlusMirth_23, branch_Token_24, &v28);
	*out_ZPlusMirth_3 = v28;
	return v29;
}
static uint64_t mw_mirth_elab_skipZ_declZ_blockZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_lcurlyZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	uint64_t v8 = mw_std_maybe_Maybe_1_else_1_sp3(v5, in_Token_2, v6, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_token_Token_next(v7, v8, &v9);
	*out_ZPlusMirth_3 = v9;
	return v10;
}
static uint64_t mw_mirth_elab_elabZ_declZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, in_Token_2, &v7);
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_nameZAsk(v7, in_Token_2, &v8);
	PTUP v10;
	VAL v11;
	uint64_t v12 = mw_std_maybe_Maybe_1_unwrap_1_sp23(v8, in_Token_2, v9, &v10, &v11);
	PTUP v13;
	PTUP v14 = mw_mirth_name_Name_defs(v10, value_u64(v11), &v13);
	PTUP v15 = PTRMK(0LL /* None */,0,0);
	bool v16 = true;
	PTUP r17 = v13;
	PTUP v18 = v15;
	PTUP v19 = v14;
	bool v20 = v16;
	bool v21 = v16;
	while (v21) {
		PTUP r22 = r17;
		PTUP v23 = v18;
		PTUP v24 = v19;
		bool v25 = v20;
		PTUP v26;
		PTUP v27 = mw_std_list_List_1_uncons(v24, &v26);
		PTUP branch_ZPlusMirth_28;
		PTUP branch_Maybe_29;
		PTUP branch_List_30;
		bool branch_Bool_31;
		switch (PTREXTRA(v27)) {
			case 1LL: { // Some
				VAL v32 = mtp_std_maybe_Maybe_1_Some(v27);
				PTUP v33 = mw_mirth_def_Def_macroZAsk(VTUP(v32));
				PTUP branch_ZPlusMirth_34;
				PTUP branch_Maybe_35;
				switch (PTREXTRA(v33)) {
					case 1LL: { // Some
						VAL v36 = mtp_std_maybe_Maybe_1_Some(v33);
						PTUP v37;
						PTUP v38 = mw_mirth_macro_Macro_action(r22, value_u64(v36), &v37);
						PTUP v39 = mw_mirth_macro_MacroAction_declZAsk(v38);
						branch_Maybe_35 = v39;
						branch_ZPlusMirth_34 = v37;
					} break;
					case 0LL: { // None
						PTUP v40 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_35 = v40;
						branch_ZPlusMirth_34 = r22;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP branch_ZPlusMirth_41;
				PTUP branch_Maybe_42;
				PTUP branch_List_43;
				switch (PTREXTRA(branch_Maybe_35)) {
					case 0LL: { // None
						branch_List_43 = VTUP(MKTUP(v26));
						branch_Maybe_42 = VTUP(MKTUP(v23));
						branch_ZPlusMirth_41 = branch_ZPlusMirth_34;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v26))));
						decref(MKTUP(VTUP(MKTUP(v23))));
						PTUP v44 = PTRMK(0LL /* Nil */,0,0);
						branch_List_43 = v44;
						branch_Maybe_42 = branch_Maybe_35;
						branch_ZPlusMirth_41 = branch_ZPlusMirth_34;
					} break;
				}
				bool v45 = true;
				branch_Bool_31 = v45;
				branch_List_30 = branch_List_43;
				branch_Maybe_29 = branch_Maybe_42;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_41;
			} break;
			case 0LL: { // None
				bool v46 = false;
				branch_Bool_31 = v46;
				branch_List_30 = v26;
				branch_Maybe_29 = v23;
				branch_ZPlusMirth_28 = r22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_31;
		v20 = branch_Bool_31;
		v19 = branch_List_30;
		v18 = branch_Maybe_29;
		r17 = branch_ZPlusMirth_28;
	}
	decref(MKTUP(v19));
	PTUP v47;
	VAL v48;
	uint64_t v49 = mw_std_maybe_Maybe_1_unwrap_1_sp23(r17, v12, v18, &v47, &v48);
	push_resource(MKI64(0));
	push_resource(MKTUP(v47));
	push_value(MKU64(v49));
	run_value(v48);
	uint64_t v50 = value_u64(pop_value());
	PTUP r51 = VTUP(pop_resource());
	*out_ZPlusMirth_3 = r51;
	pop_resource();
	return v50;
}
static uint64_t mw_mirth_elab_loadZ_module (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Module_6) {
	incref(MKTUP(in_QName_3));
	PTUP v9;
	PTUP v10 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, in_QName_3, &v9);
	uint64_t branch_Token_11;
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Module_13;
	switch (PTREXTRA(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			PTUP v15 = mw_mirth_def_Def_moduleZAsk(VTUP(v14));
			PTUP branch_ZPlusMirth_16;
			uint64_t branch_Token_17;
			VAL branch_z_x1_18;
			VAL branch_z_x2_19;
			switch (PTREXTRA(v15)) {
				case 1LL: { // Some
					VAL v20 = mtp_std_maybe_Maybe_1_Some(v15);
					branch_z_x2_19 = v20;
					branch_z_x1_18 = MKTUP(in_QName_3);
					branch_Token_17 = in_Token_2;
					branch_ZPlusMirth_16 = v9;
				} break;
				case 0LL: { // None
					decref(MKTUP(in_QName_3));
					STR* v21;
					STRLIT(v21, "module name already taken", 25);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v9, in_Token_2, v21);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(branch_z_x1_18);
			branch_Module_13 = value_u64(branch_z_x2_19);
			branch_ZPlusMirth_12 = branch_ZPlusMirth_16;
			branch_Token_11 = branch_Token_17;
		} break;
		case 0LL: { // None
			PTUP v26;
			STR* v27 = mw_mirth_name_QName_toZ_moduleZ_path(in_QName_3, v9, &v26);
			PTUP v28;
			uint64_t v29 = mw_mirth_mirth_ZPlusMirth_runZ_lexerZBang(v26, v27, &v28);
			PTUP v30;
			uint64_t v31 = mw_mirth_elab_elabZ_moduleZBang(v28, v29, &v30);
			branch_Module_13 = v31;
			branch_ZPlusMirth_12 = v30;
			branch_Token_11 = in_Token_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Module_6 = branch_Module_13;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
	return branch_Token_11;
}
static uint64_t mw_mirth_elab_parseZ_moduleZ_import (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_ModuleImport_5) {
	PTUP v6;
	bool v7 = mw_mirth_token_Token_moduleZ_importZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	if (v7) {
		branch_Token_9 = in_Token_2;
		branch_ZPlusMirth_8 = v6;
	} else {
		STR* v10;
		STRLIT(v10, "Expected import statement.", 26);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v6, in_Token_2, v10);
	}
	PTUP v13;
	INT v14 = mw_mirth_token_Token_numZ_args(branch_ZPlusMirth_8, branch_Token_9, &v13);
	INT v15 = WRAP_I63(0LL);
	INT v16 = v14;
	INT v17 = v15;
	bool v18 = int_lt(v17, v16);
	uint64_t branch_Token_19;
	uint64_t branch_Token_20;
	PTUP branch_ZPlusMirth_21;
	if (v18) {
		PTUP v22;
		uint64_t v23 = mw_mirth_token_Token_next(v13, branch_Token_9, &v22);
		PTUP v24;
		uint64_t v25 = mw_mirth_token_Token_argsZ_1(v22, branch_Token_9, &v24);
		PTUP v26;
		uint64_t v27 = mw_mirth_token_Token_succ(v24, v25, &v26);
		PTUP v28;
		bool v29 = mw_mirth_token_Token_argZ_endZAsk(v26, v27, &v28);
		PTUP branch_ZPlusMirth_30;
		uint64_t branch_Token_31;
		if (v29) {
			branch_Token_31 = v25;
			branch_ZPlusMirth_30 = v28;
		} else {
			PTUP v32;
			uint64_t v33 = mw_mirth_token_Token_succ(v28, v25, &v32);
			STR* v34;
			STRLIT(v34, "expected arg end", 16);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v32, v33, v34);
		}
		branch_ZPlusMirth_21 = branch_ZPlusMirth_30;
		branch_Token_20 = branch_Token_31;
		branch_Token_19 = v23;
	} else {
		PTUP v36;
		uint64_t v37 = mw_mirth_token_Token_succ(v13, branch_Token_9, &v36);
		PTUP v38;
		uint64_t v39 = mw_mirth_token_Token_next(v36, v37, &v38);
		branch_ZPlusMirth_21 = v38;
		branch_Token_20 = v37;
		branch_Token_19 = v39;
	}
	*out_ModuleImport_5 = branch_Token_20;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_21;
	return branch_Token_19;
}
static void mw_mirth_elab_processZ_moduleZ_importZBang (PTUP in_ZPlusMirth_1, uint64_t in_ModuleImport_2, PTUP *out_ZPlusMirth_3) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	incref(MKTUP(v6));
	incref(MKTUP(v6));
	PTUP v7 = VTUP(((TUP*)PTRPTR(v6))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(v6));
	PTUP v8 = mtw_std_maybe_Maybe_1_Some(MKU64(in_ModuleImport_2));
	VAL v9 = tup_replace(MKTUP(v6), 0, MKTUP(v8));
	PTUP v10 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	decref(MKTUP(v10));
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6] = MKTUP(VTUP(v9));
	PTUP v11;
	PTUP v12 = mw_mirth_elab_elabZ_moduleZ_qname(in_ZPlusMirth_1, in_ModuleImport_2, &v11);
	PTUP v13;
	uint64_t v14;
	uint64_t v15 = mw_mirth_elab_loadZ_module(v11, in_ModuleImport_2, v12, &v13, &v14);
	PTUP v16 = VTUP(((TUP*)PTRPTR(v13))->cells[6]);
	incref(MKTUP(v16));
	VAL v17 = tup_replace(MKTUP(v16), 0, MKTUP(v7));
	PTUP v18 = VTUP(((TUP*)PTRPTR(v13))->cells[6]);
	decref(MKTUP(v18));
	((TUP*)PTRPTR(v13))->cells[6] = MKTUP(VTUP(v17));
	PTUP v19;
	uint64_t v20 = mw_mirth_token_Token_module(v13, v15, &v19);
	PTUP v21;
	PTUP v22 = mw_mirth_module_Module_imports(v19, v20, &v21);
	PTUP v23 = mw_std_list_List_1_Snoc(v22, MKU64(v14));
	PTUP v24;
	mw_mirth_module_Module_importsZBang(v21, v23, v20, &v24);
	*out_ZPlusMirth_3 = v24;
}
static uint64_t mw_mirth_elab_expectZ_tokenZ_arrow (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_arrowZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	if (v6) {
		branch_Token_8 = in_Token_2;
		branch_ZPlusMirth_7 = v5;
	} else {
		STR* v9;
		STRLIT(v9, "Expected arrow.", 15);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, in_Token_2, v9);
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static uint64_t mw_mirth_elab_elabZ_defZ_missingZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_args(in_ZPlusMirth_1, in_Token_2, &v5);
	INT v7 = mw_std_list_List_1_len(v6);
	INT v8 = WRAP_I63(3LL);
	INT v9 = v8;
	INT v10 = v7;
	bool v11 = int_lt(v10, v9);
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		STR* v14;
		STRLIT(v14, "def-missing expects at least three arguments", 44);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, in_Token_2, v14);
	} else {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = v5;
	}
	PTUP v17;
	uint64_t v18 = mw_mirth_token_Token_succ(branch_ZPlusMirth_12, branch_Token_13, &v17);
	PTUP v19;
	uint64_t v20 = mw_mirth_token_Token_succ(v17, v18, &v19);
	PTUP v21;
	PTUP v22 = mw_mirth_elab_elabZ_defZ_qname(v19, v20, &v21);
	PTUP v23;
	bool v24 = mw_mirth_name_QName_definedZ_hardZAsk(v21, v22, &v23);
	PTUP branch_ZPlusMirth_25;
	uint64_t branch_Token_26;
	if (v24) {
		PTUP v27;
		uint64_t v28 = mw_mirth_token_Token_next(v23, branch_Token_13, &v27);
		branch_Token_26 = v28;
		branch_ZPlusMirth_25 = v27;
	} else {
		PTUP v29;
		uint64_t v30 = mw_mirth_elab_elabZ_defZBang(v23, branch_Token_13, &v29);
		branch_Token_26 = v30;
		branch_ZPlusMirth_25 = v29;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_25;
	return branch_Token_26;
}
static uint64_t mw_mirth_elab_elabZ_inlineZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	bool v7 = true;
	bool v8 = value_bool(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[5]);
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[5] = MKBOOL(v7);
	PTUP v9;
	INT v10 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v9);
	INT v11 = WRAP_I63(0LL);
	INT v12 = v10;
	INT v13 = v11;
	bool v14 = int_lt(v13, v12);
	uint64_t branch_Token_15;
	PTUP branch_ZPlusMirth_16;
	if (v14) {
		PTUP v17;
		uint64_t v18 = mw_mirth_token_Token_next(v9, in_Token_2, &v17);
		PTUP v19;
		uint64_t v20 = mw_mirth_token_Token_argsZ_1(v17, in_Token_2, &v19);
		PTUP v21;
		uint64_t v22 = mw_mirth_elab_elabZ_declsZBang(v19, v20, &v21);
		branch_ZPlusMirth_16 = v21;
		branch_Token_15 = v18;
	} else {
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_succ(v9, in_Token_2, &v23);
		PTUP v25;
		uint64_t v26 = mw_mirth_elab_elabZ_declZ_orZ_declZ_blockZBang(v23, v24, &v25);
		branch_ZPlusMirth_16 = v25;
		branch_Token_15 = v26;
	}
	((TUP*)PTRPTR(branch_ZPlusMirth_16))->cells[5] = MKBOOL(v8);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_16;
	return branch_Token_15;
}
static uint64_t mw_mirth_elab_elabZ_patchZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, in_Token_2, &v7);
	PTUP v8;
	uint64_t v9 = mw_mirth_token_Token_succ(v7, in_Token_2, &v8);
	PTUP v10;
	mw_mirth_token_Token_argsZ_0(v8, v9, &v10);
	PTUP v11;
	PTUP v12 = mw_mirth_token_Token_nameZDivdnameZAsk(v10, v9, &v11);
	PTUP branch_ZPlusMirth_13;
	uint64_t branch_Token_14;
	VAL branch_z_x1_15;
	switch (PTREXTRA(v12)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
			branch_z_x1_15 = v16;
			branch_Token_14 = v9;
			branch_ZPlusMirth_13 = v11;
		} break;
		case 0LL: { // None
			STR* v17;
			STRLIT(v17, "Expected a type constructor.", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v11, v9, v17);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v21 = PTRMK(0LL /* DefiningNamespace */,0,0);
	PTUP r22 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r22))->size = 2;
	((TUP*)PTRPTR(r22))->cells[1] = MKTUP(VTUP(branch_z_x1_15));
	((TUP*)PTRPTR(r22))->cells[0] = MKU64(branch_Token_14);
	PTUP v23 = VTUP(((TUP*)PTRPTR(branch_ZPlusMirth_13))->cells[6]);
	incref(MKTUP(v23));
	FNPTR v24 = &mb_mirth_mirth_PropLabel_prop_1_sp54_0;
	PTUP v25 = mtw_mirth_mirth_PropState_1_Delay(v23, MKTUP(r22), MKFNPTR(v24));
	PTUP v26 = mtw_mirth_mirth_Prop_1_Prop(v21, v25);
	PTUP v27 = mtw_std_maybe_Maybe_1_Some(MKTUP(v26));
	PTUP v28 = VTUP(((TUP*)PTRPTR(branch_ZPlusMirth_13))->cells[6]);
	incref(MKTUP(v28));
	incref(MKTUP(v28));
	PTUP v29 = VTUP(((TUP*)PTRPTR(v28))->cells[1]);
	incref(MKTUP(v29));
	decref(MKTUP(v28));
	VAL v30 = tup_replace(MKTUP(v28), 1, MKTUP(v27));
	PTUP v31 = VTUP(((TUP*)PTRPTR(branch_ZPlusMirth_13))->cells[6]);
	decref(MKTUP(v31));
	((TUP*)PTRPTR(branch_ZPlusMirth_13))->cells[6] = MKTUP(VTUP(v30));
	PTUP v32;
	uint64_t v33 = mw_mirth_token_Token_succ(branch_ZPlusMirth_13, branch_Token_14, &v32);
	PTUP v34;
	uint64_t v35 = mw_mirth_elab_elabZ_declZ_blockZBang(v32, v33, &v34);
	PTUP v36 = VTUP(((TUP*)PTRPTR(v34))->cells[6]);
	incref(MKTUP(v36));
	VAL v37 = tup_replace(MKTUP(v36), 1, MKTUP(v29));
	PTUP v38 = VTUP(((TUP*)PTRPTR(v34))->cells[6]);
	decref(MKTUP(v38));
	((TUP*)PTRPTR(v34))->cells[6] = MKTUP(VTUP(v37));
	*out_ZPlusMirth_3 = v34;
	return v35;
}
static uint64_t mw_mirth_elab_elabZ_maxZ_mirthZ_revisionZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, in_Token_2, &v7);
	PTUP v8;
	uint64_t v9 = mw_mirth_token_Token_succ(v7, in_Token_2, &v8);
	PTUP v10;
	PTUP v11 = mw_mirth_token_Token_intZAsk(v8, v9, &v10);
	PTUP v12;
	VAL v13;
	uint64_t v14 = mw_std_maybe_Maybe_1_elseZAsk_1_sp6(v10, v9, v11, &v12, &v13);
	VAL v15 = mw_mirth_version_mirthZ_revision();
	bool v16 = int_le(value_int(v15), value_int(v13));
	PTUP branch_ZPlusMirth_17;
	uint64_t branch_Token_18;
	if (v16) {
		PTUP v19;
		uint64_t v20 = mw_mirth_token_Token_succ(v12, v14, &v19);
		PTUP v21;
		uint64_t v22 = mw_mirth_elab_elabZ_declZ_blockZBang(v19, v20, &v21);
		branch_Token_18 = v22;
		branch_ZPlusMirth_17 = v21;
	} else {
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_succ(v12, v14, &v23);
		PTUP v25;
		uint64_t v26 = mw_mirth_elab_skipZ_declZ_blockZBang(v23, v24, &v25);
		branch_Token_18 = v26;
		branch_ZPlusMirth_17 = v25;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_17;
	return branch_Token_18;
}
static uint64_t mw_mirth_elab_elabZ_minZ_mirthZ_revisionZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, in_Token_2, &v7);
	PTUP v8;
	uint64_t v9 = mw_mirth_token_Token_succ(v7, in_Token_2, &v8);
	PTUP v10;
	PTUP v11 = mw_mirth_token_Token_intZAsk(v8, v9, &v10);
	PTUP v12;
	VAL v13;
	uint64_t v14 = mw_std_maybe_Maybe_1_elseZAsk_1_sp6(v10, v9, v11, &v12, &v13);
	VAL v15 = mw_mirth_version_mirthZ_revision();
	bool v16 = int_le(value_int(v13), value_int(v15));
	PTUP branch_ZPlusMirth_17;
	uint64_t branch_Token_18;
	if (v16) {
		PTUP v19;
		uint64_t v20 = mw_mirth_token_Token_succ(v12, v14, &v19);
		PTUP v21;
		uint64_t v22 = mw_mirth_elab_elabZ_declZ_blockZBang(v19, v20, &v21);
		branch_Token_18 = v22;
		branch_ZPlusMirth_17 = v21;
	} else {
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_succ(v12, v14, &v23);
		PTUP v25;
		uint64_t v26 = mw_mirth_elab_skipZ_declZ_blockZBang(v23, v24, &v25);
		branch_Token_18 = v26;
		branch_ZPlusMirth_17 = v25;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_17;
	return branch_Token_18;
}
static uint64_t mw_mirth_elab_parseZ_def (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_SyntaxDef_5) {
	PTUP v6;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_doc(v6, in_Token_2, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_token_Token_args(v7, in_Token_2, &v9);
	bool v11 = mw_std_list_List_1_emptyZAsk(v10);
	PTUP branch_Maybe_12;
	uint64_t branch_Token_13;
	PTUP branch_Maybe_14;
	PTUP branch_Nest_15;
	PTUP branch_ZPlusMirth_16;
	uint64_t branch_Token_17;
	if (v11) {
		PTUP v18;
		uint64_t v19 = mw_mirth_token_Token_next(v9, in_Token_2, &v18);
		PTUP v20;
		uint64_t v21 = mw_mirth_token_Token_next(v18, v19, &v20);
		PTUP v22;
		PTUP v23 = mw_mirth_token_Token_lsquareZAsk(v20, v21, &v22);
		int64_t v24 = PTREXTRA(v23);
		decref(MKTUP(v23));
		INT v25 = WRAP_I63(0LL);
		INT v26 = v25;
		INT v27 = i64_to_int(v24);
		bool v28 = int_eq(v27, v26);
		bool v29 = !v28;
		PTUP branch_Maybe_30;
		PTUP branch_ZPlusMirth_31;
		uint64_t branch_Token_32;
		if (v29) {
			PTUP v33;
			uint64_t v34 = mw_mirth_token_Token_argsZ_1(v22, v21, &v33);
			PTUP v35 = mtw_std_maybe_Maybe_1_Some(MKU64(v34));
			PTUP v36;
			uint64_t v37 = mw_mirth_token_Token_next(v33, v21, &v36);
			branch_Token_32 = v37;
			branch_ZPlusMirth_31 = v36;
			branch_Maybe_30 = v35;
		} else {
			PTUP v38 = PTRMK(0LL /* None */,0,0);
			branch_Token_32 = v21;
			branch_ZPlusMirth_31 = v22;
			branch_Maybe_30 = v38;
		}
		PTUP v39;
		PTUP v40 = mw_mirth_token_Token_lcurlyZAsk(branch_ZPlusMirth_31, branch_Token_32, &v39);
		int64_t v41 = PTREXTRA(v40);
		decref(MKTUP(v40));
		INT v42 = WRAP_I63(0LL);
		INT v43 = v42;
		INT v44 = i64_to_int(v41);
		bool v45 = int_eq(v44, v43);
		bool v46 = !v45;
		PTUP branch_ZPlusMirth_47;
		uint64_t branch_Token_48;
		if (v46) {
			branch_Token_48 = branch_Token_32;
			branch_ZPlusMirth_47 = v39;
		} else {
			STR* v49;
			STRLIT(v49, "expected { ... }", 16);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v39, branch_Token_32, v49);
		}
		PTUP v52;
		PTUP v53 = mw_mirth_token_Token_argsZPlus(branch_ZPlusMirth_47, branch_Token_48, &v52);
		PTUP v54;
		uint64_t v55 = mw_mirth_token_Token_next(v52, branch_Token_48, &v54);
		branch_Token_17 = v55;
		branch_ZPlusMirth_16 = v54;
		branch_Nest_15 = v53;
		branch_Maybe_14 = branch_Maybe_30;
		branch_Token_13 = v19;
		branch_Maybe_12 = v8;
	} else {
		PTUP v56;
		uint64_t v57 = mw_mirth_token_Token_next(v9, in_Token_2, &v56);
		PTUP v58;
		PTUP v59 = mw_mirth_token_Token_args(v56, in_Token_2, &v58);
		incref(MKTUP(v59));
		INT v60 = mw_std_list_List_1_len(v59);
		INT v61 = WRAP_I63(3LL);
		INT v62 = v61;
		INT v63 = v60;
		bool v64 = int_lt(v63, v62);
		PTUP branch_ZPlusMirth_65;
		uint64_t branch_Token_66;
		VAL branch_z_x1_67;
		if (v64) {
			decref(MKTUP(v59));
			STR* v68;
			STRLIT(v68, "def(...) expects at least three arguments", 41);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v58, in_Token_2, v68);
		} else {
			branch_z_x1_67 = MKTUP(v59);
			branch_Token_66 = in_Token_2;
			branch_ZPlusMirth_65 = v58;
		}
		decref(MKU64(branch_Token_66));
		PTUP v72 = mw_std_list_List_1_ZToNestZAsk(VTUP(branch_z_x1_67));
		VAL v73 = mw_std_maybe_Maybe_1_unwrap_1_sp2(v72);
		PTUP v74;
		VAL v75 = mw_std_list_Nest_1_uncons(VTUP(v73), &v74);
		PTUP v76 = mw_std_list_List_1_ZToNestZAsk(v74);
		VAL v77 = mw_std_maybe_Maybe_1_unwrap_1_sp2(v76);
		PTUP v78;
		VAL v79 = mw_std_list_Nest_1_uncons(VTUP(v77), &v78);
		PTUP v80 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v79)));
		PTUP v81 = mw_std_list_List_1_ZToNestZAsk(v78);
		VAL v82 = mw_std_maybe_Maybe_1_unwrap_1_sp2(v81);
		PTUP v83;
		uint64_t v84 = mw_mirth_token_Token_next(branch_ZPlusMirth_65, value_u64(v75), &v83);
		PTUP v85;
		bool v86 = mw_mirth_token_Token_argZ_endZAsk(v83, v84, &v85);
		PTUP branch_ZPlusMirth_87;
		uint64_t branch_Token_88;
		if (v86) {
			branch_Token_88 = value_u64(v75);
			branch_ZPlusMirth_87 = v85;
		} else {
			PTUP v89;
			uint64_t v90 = mw_mirth_token_Token_next(v85, value_u64(v75), &v89);
			STR* v91;
			STRLIT(v91, "expected comma after word name", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v89, v90, v91);
		}
		branch_Token_17 = v57;
		branch_ZPlusMirth_16 = branch_ZPlusMirth_87;
		branch_Nest_15 = VTUP(v82);
		branch_Maybe_14 = v80;
		branch_Token_13 = branch_Token_88;
		branch_Maybe_12 = v8;
	}
	PTUP v93;
	VAL v94 = mw_std_list_Nest_1_uncons(branch_Nest_15, &v93);
	bool v95 = mw_std_list_List_1_emptyZAsk(v93);
	PTUP branch_ZPlusMirth_96;
	uint64_t branch_Token_97;
	bool branch_Bool_98;
	if (v95) {
		bool v99 = true;
		branch_Bool_98 = v99;
		branch_Token_97 = value_u64(v94);
		branch_ZPlusMirth_96 = branch_ZPlusMirth_16;
	} else {
		PTUP v100;
		PTUP v101 = mw_mirth_token_Token_runZ_arrowZAsk(branch_ZPlusMirth_16, value_u64(v94), &v100);
		int64_t v102 = PTREXTRA(v101);
		decref(MKTUP(v101));
		INT v103 = WRAP_I63(0LL);
		INT v104 = v103;
		INT v105 = i64_to_int(v102);
		bool v106 = int_eq(v105, v104);
		bool v107 = !v106;
		branch_Bool_98 = v107;
		branch_Token_97 = value_u64(v94);
		branch_ZPlusMirth_96 = v100;
	}
	PTUP branch_ZPlusMirth_108;
	uint64_t branch_Token_109;
	if (branch_Bool_98) {
		branch_Token_109 = branch_Token_97;
		branch_ZPlusMirth_108 = branch_ZPlusMirth_96;
	} else {
		STR* v110;
		STRLIT(v110, "expected match case", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_96, branch_Token_97, v110);
	}
	PTUP v113 = mtw_mirth_elab_SyntaxDef_SyntaxDef(branch_Maybe_12, branch_Token_13, branch_Maybe_14, branch_Token_109);
	*out_SyntaxDef_5 = v113;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_108;
	return branch_Token_17;
}
static uint64_t mw_mirth_elab_elabZ_defZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	uint64_t v7 = mw_mirth_elab_parseZ_def(in_ZPlusMirth_1, in_Token_2, &v5, &v6);
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	mtp_mirth_elab_SyntaxDef_SyntaxDef(v6, &v8, &v9, &v10, &v11);
	PTUP v12;
	uint64_t v13;
	uint64_t v14;
	INT v15;
	PTUP v16;
	mw_mirth_elab_elabZ_defZ_head(v5, v9, &v12, &v13, &v14, &v15, &v16);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_NewZBang(v12, v13, v10, v11, v14, v15, v8, &v17);
	PTUP v19 = mtw_mirth_mirth_PropLabel_WordQName(v18);
	PTUP v20 = mtw_mirth_mirth_Prop_1_Prop(v19, v16);
	void* v21 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v18);
	mut_set(MKTUP(v20), v21);
	bool v22 = value_bool(((TUP*)PTRPTR(v17))->cells[5]);
	PTUP v23;
	mw_mirth_word_Word_preferZ_inlineZAskZBang(v17, v22, v18, &v23);
	PTUP v24 = mtw_mirth_mirth_PropLabel_WordType(v18);
	PTUP v25 = VTUP(((TUP*)PTRPTR(v23))->cells[6]);
	incref(MKTUP(v25));
	FNPTR v26 = &mb_mirth_mirth_PropLabel_prop_1_sp50_0;
	PTUP v27 = mtw_mirth_mirth_PropState_1_Delay(v25, MKU64(v18), MKFNPTR(v26));
	PTUP v28 = mtw_mirth_mirth_Prop_1_Prop(v24, v27);
	void* v29 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v18);
	mut_set(MKTUP(v28), v29);
	PTUP v30 = mtw_mirth_mirth_PropLabel_WordParams(v18);
	PTUP v31 = VTUP(((TUP*)PTRPTR(v23))->cells[6]);
	incref(MKTUP(v31));
	FNPTR v32 = &mb_mirth_mirth_PropLabel_prop_1_sp51_0;
	PTUP v33 = mtw_mirth_mirth_PropState_1_Delay(v31, MKU64(v18), MKFNPTR(v32));
	PTUP v34 = mtw_mirth_mirth_Prop_1_Prop(v30, v33);
	void* v35 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v18);
	mut_set(MKTUP(v34), v35);
	PTUP v36 = mtw_mirth_mirth_PropLabel_WordArrow(v18);
	PTUP v37 = VTUP(((TUP*)PTRPTR(v23))->cells[6]);
	incref(MKTUP(v37));
	FNPTR v38 = &mb_mirth_mirth_PropLabel_prop_1_sp52_0;
	PTUP v39 = mtw_mirth_mirth_PropState_1_Delay(v37, MKU64(v18), MKFNPTR(v38));
	PTUP v40 = mtw_mirth_mirth_Prop_1_Prop(v36, v39);
	void* v41 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v18);
	mut_set(MKTUP(v40), v41);
	*out_ZPlusMirth_3 = v23;
	return v7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Arrow_3))->cells[6]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Arrow_3));
	bool v6 = true;
	PTUP r7 = in_ZPlusMirth_1;
	uint64_t v8 = in_Word_2;
	PTUP v9 = v5;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP r12 = r7;
		uint64_t v13 = v8;
		PTUP v14 = v9;
		bool v15 = v10;
		uint64_t branch_Word_16;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				PTUP v22;
				mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang(r12, v13, VTUP(v21), &v22);
				bool v23 = true;
				branch_Bool_19 = v23;
				branch_List_18 = v20;
				branch_ZPlusMirth_17 = v22;
				branch_Word_16 = v13;
			} break;
			case 0LL: { // Nil
				PTUP v24 = PTRMK(0LL /* Nil */,0,0);
				bool v25 = false;
				branch_Bool_19 = v25;
				branch_List_18 = v24;
				branch_ZPlusMirth_17 = r12;
				branch_Word_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_Word_16;
		r7 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v9));
	*out_ZPlusMirth_4 = r7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4) {
	incref(MKU64(in_Word_2));
	PTUP v5;
	bool v6 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_Word_2)), &v5);
	PTUP branch_ZPlusMirth_7;
	if (v6) {
		incref(MKU64(value_u64(MKU64(in_Word_2))));
		incref(MKTUP(VTUP(MKTUP(in_Atom_3))));
		PTUP v8 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(VTUP(MKTUP(in_Atom_3))))))->cells[3]);
		incref(MKTUP(v8));
		decref(MKTUP(VTUP(MKTUP(VTUP(MKTUP(in_Atom_3))))));
		PTUP v9;
		mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang(v5, value_u64(MKU64(value_u64(MKU64(in_Word_2)))), v8, &v9);
		PTUP v10 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(VTUP(MKTUP(in_Atom_3))))))->cells[4]);
		incref(MKTUP(v10));
		decref(MKTUP(VTUP(MKTUP(VTUP(MKTUP(in_Atom_3))))));
		bool v11 = true;
		PTUP r12 = v9;
		uint64_t v13 = value_u64(MKU64(value_u64(MKU64(in_Word_2))));
		PTUP v14 = v10;
		bool v15 = v11;
		bool v16 = v11;
		while (v16) {
			PTUP r17 = r12;
			uint64_t v18 = v13;
			PTUP v19 = v14;
			bool v20 = v15;
			uint64_t branch_Word_21;
			PTUP branch_ZPlusMirth_22;
			PTUP branch_List_23;
			bool branch_Bool_24;
			switch (PTREXTRA(v19)) {
				case 1LL: { // Cons
					PTUP v25;
					VAL v26 = mtp_std_list_List_1_Cons(v19, &v25);
					PTUP v27;
					mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang(r17, v18, value_u64(v26), &v27);
					bool v28 = true;
					branch_Bool_24 = v28;
					branch_List_23 = v25;
					branch_ZPlusMirth_22 = v27;
					branch_Word_21 = v18;
				} break;
				case 0LL: { // Nil
					PTUP v29 = PTRMK(0LL /* Nil */,0,0);
					bool v30 = false;
					branch_Bool_24 = v30;
					branch_List_23 = v29;
					branch_ZPlusMirth_22 = r17;
					branch_Word_21 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v16 = branch_Bool_24;
			v15 = branch_Bool_24;
			v14 = branch_List_23;
			v13 = branch_Word_21;
			r12 = branch_ZPlusMirth_22;
		}
		decref(MKTUP(v14));
		branch_ZPlusMirth_7 = r12;
	} else {
		decref(MKTUP(VTUP(MKTUP(in_Atom_3))));
		decref(MKU64(value_u64(MKU64(in_Word_2))));
		branch_ZPlusMirth_7 = v5;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Arg_3, &v5);
	PTUP v7;
	mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v5, in_Word_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP in_Op_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_5;
	switch (PTREXTRA(in_Op_3)) {
		case 11LL: { // BlockRun
			uint64_t v6 = mtp_mirth_arrow_Op_BlockRun(in_Op_3);
			PTUP v7;
			PTUP v8 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v6, &v7);
			PTUP v9;
			mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v7, in_Word_2, v8, &v9);
			branch_ZPlusMirth_5 = v9;
		} break;
		case 1LL: { // Word
			uint64_t v10 = mtp_mirth_arrow_Op_Word(in_Op_3);
			incref(MKU64(in_Word_2));
			incref(MKU64(v10));
			bool v11 = (value_u64(MKU64(v10)) == value_u64(MKU64(in_Word_2)));
			PTUP branch_ZPlusMirth_12;
			if (v11) {
				PTUP v13;
				mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang(in_ZPlusMirth_1, value_u64(MKU64(in_Word_2)), &v13);
				branch_ZPlusMirth_12 = v13;
			} else {
				PTUP v14;
				bool v15 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, value_u64(MKU64(v10)), &v14);
				PTUP branch_ZPlusMirth_16;
				if (v15) {
					void* v17 = field_mut(&mfld_mirth_word_Word_ZTildearrow, value_u64(MKU64(v10)));
					PTUP v18;
					PTUP v19 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v14, v17, &v18);
					PTUP branch_ZPlusMirth_20;
					switch (PTREXTRA(v19)) {
						case 1LL: { // Some
							VAL v21 = mtp_std_maybe_Maybe_1_Some(v19);
							PTUP v22;
							mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v18, value_u64(MKU64(in_Word_2)), VTUP(v21), &v22);
							branch_ZPlusMirth_20 = v22;
						} break;
						case 0LL: { // None
							PTUP v23;
							mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang(v18, value_u64(MKU64(in_Word_2)), &v23);
							branch_ZPlusMirth_20 = v23;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusMirth_16 = branch_ZPlusMirth_20;
				} else {
					decref(MKU64(value_u64(MKU64(v10))));
					decref(MKU64(value_u64(MKU64(in_Word_2))));
					branch_ZPlusMirth_16 = v14;
				}
				branch_ZPlusMirth_12 = branch_ZPlusMirth_16;
			}
			branch_ZPlusMirth_5 = branch_ZPlusMirth_12;
		} break;
		case 7LL: { // Match
			PTUP v24 = mtp_mirth_arrow_Op_Match(in_Op_3);
			PTUP v25 = VTUP(((TUP*)PTRPTR(v24))->cells[6]);
			incref(MKTUP(v25));
			decref(MKTUP(v24));
			bool v26 = true;
			PTUP r27 = in_ZPlusMirth_1;
			uint64_t v28 = in_Word_2;
			PTUP v29 = v25;
			bool v30 = v26;
			bool v31 = v26;
			while (v31) {
				PTUP r32 = r27;
				uint64_t v33 = v28;
				PTUP v34 = v29;
				bool v35 = v30;
				uint64_t branch_Word_36;
				PTUP branch_ZPlusMirth_37;
				PTUP branch_List_38;
				bool branch_Bool_39;
				switch (PTREXTRA(v34)) {
					case 1LL: { // Cons
						PTUP v40;
						VAL v41 = mtp_std_list_List_1_Cons(v34, &v40);
						PTUP v42 = VTUP(((TUP*)PTRPTR(VTUP(v41)))->cells[1]);
						incref(MKTUP(v42));
						decref(MKTUP(VTUP(v41)));
						PTUP v43;
						mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(r32, v33, v42, &v43);
						bool v44 = true;
						branch_Bool_39 = v44;
						branch_List_38 = v40;
						branch_ZPlusMirth_37 = v43;
						branch_Word_36 = v33;
					} break;
					case 0LL: { // Nil
						PTUP v45 = PTRMK(0LL /* Nil */,0,0);
						bool v46 = false;
						branch_Bool_39 = v46;
						branch_List_38 = v45;
						branch_ZPlusMirth_37 = r32;
						branch_Word_36 = v33;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v31 = branch_Bool_39;
				v30 = branch_Bool_39;
				v29 = branch_List_38;
				v28 = branch_Word_36;
				r27 = branch_ZPlusMirth_37;
			}
			decref(MKTUP(v29));
			branch_ZPlusMirth_5 = r27;
		} break;
		case 8LL: { // Lambda
			PTUP v47 = mtp_mirth_arrow_Op_Lambda(in_Op_3);
			PTUP v48 = VTUP(((TUP*)PTRPTR(v47))->cells[4]);
			incref(MKTUP(v48));
			decref(MKTUP(v47));
			PTUP v49;
			mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(in_ZPlusMirth_1, in_Word_2, v48, &v49);
			branch_ZPlusMirth_5 = v49;
		} break;
		default: {
			decref(MKTUP(in_Op_3));
			decref(MKU64(in_Word_2));
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_5;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4;
	bool v5 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Word_2, &v4);
	PTUP branch_ZPlusMirth_6;
	if (v5) {
		bool v7 = false;
		incref(MKU64(in_Word_2));
		PTUP v8;
		mw_mirth_word_Word_preferZ_inlineZAskZBang(v4, value_bool(MKBOOL(v7)), value_u64(MKU64(in_Word_2)), &v8);
		PTUP v9;
		uint64_t v10 = mw_mirth_word_Word_head(v8, value_u64(MKU64(in_Word_2)), &v9);
		STR* v11;
		STRLIT(v11, "recursive word cannot be inlined", 32);
		PTUP v12;
		mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(v9, v10, v11, &v12);
		branch_ZPlusMirth_6 = v12;
	} else {
		branch_ZPlusMirth_6 = v4;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
}
static PTUP mw_mirth_elab_elabZ_defZ_paramsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = PTRMK(0LL /* Nil */,0,0);
	incref(MKU64(in_Word_2));
	PTUP v6;
	PTUP v7 = mw_mirth_word_Word_type(in_ZPlusMirth_1, value_u64(MKU64(in_Word_2)), &v6);
	PTUP v8;
	uint64_t v9 = mw_mirth_word_Word_head(v6, value_u64(MKU64(in_Word_2)), &v8);
	PTUP v10;
	PTUP v11;
	mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v7)), &v10, &v11);
	decref(MKTUP(v11));
	PTUP v12;
	PTUP v13 = mw_mirth_token_Token_args(v8, value_u64(MKU64(v9)), &v12);
	PTUP v14 = mw_std_list_List_1_reverse(v13);
	bool v15 = true;
	PTUP v16 = VTUP(MKTUP(v5));
	PTUP v17 = v10;
	PTUP r18 = v12;
	PTUP v19 = v14;
	bool v20 = v15;
	bool v21 = v15;
	while (v21) {
		PTUP v22 = v16;
		PTUP v23 = v17;
		PTUP r24 = r18;
		PTUP v25 = v19;
		bool v26 = v20;
		PTUP branch_ZPlusMirth_27;
		PTUP branch_List_28;
		PTUP branch_StackType_29;
		PTUP branch_List_30;
		bool branch_Bool_31;
		switch (PTREXTRA(v25)) {
			case 1LL: { // Cons
				PTUP v32;
				VAL v33 = mtp_std_list_List_1_Cons(v25, &v32);
				PTUP v34;
				PTUP v35 = mw_mirth_token_Token_sigZ_paramZ_nameZAsk(r24, value_u64(v33), &v34);
				PTUP branch_ZPlusMirth_36;
				uint64_t branch_Token_37;
				VAL branch_z_x1_38;
				switch (PTREXTRA(v35)) {
					case 1LL: { // Some
						VAL v39 = mtp_std_maybe_Maybe_1_Some(v35);
						branch_z_x1_38 = v39;
						branch_Token_37 = value_u64(v33);
						branch_ZPlusMirth_36 = v34;
					} break;
					case 0LL: { // None
						STR* v40;
						STRLIT(v40, "expected parameter name", 23);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v34, value_u64(v33), v40);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v44;
				uint64_t v45 = mw_mirth_token_Token_succ(branch_ZPlusMirth_36, branch_Token_37, &v44);
				PTUP v46;
				bool v47 = mw_mirth_token_Token_runZ_endZAsk(v44, v45, &v46);
				PTUP branch_List_48;
				PTUP branch_StackType_49;
				uint64_t branch_Name_50;
				uint64_t branch_Token_51;
				PTUP branch_ZPlusMirth_52;
				PTUP branch_Maybe_53;
				if (v47) {
					PTUP v54 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_53 = v54;
					branch_ZPlusMirth_52 = v46;
					branch_Token_51 = branch_Token_37;
					branch_Name_50 = value_u64(branch_z_x1_38);
					branch_StackType_49 = v23;
					branch_List_48 = v22;
				} else {
					PTUP v55;
					PTUP v56 = mw_mirth_token_Token_lcurlyZAsk(v46, v45, &v55);
					int64_t v57 = PTREXTRA(v56);
					decref(MKTUP(v56));
					INT v58 = WRAP_I63(0LL);
					INT v59 = v58;
					INT v60 = i64_to_int(v57);
					bool v61 = int_eq(v60, v59);
					bool v62 = !v61;
					PTUP branch_Maybe_63;
					PTUP branch_ZPlusMirth_64;
					if (v62) {
						PTUP v65;
						uint64_t v66 = mw_mirth_token_Token_succ(v55, v45, &v65);
						PTUP v67 = mtw_std_maybe_Maybe_1_Some(MKU64(v66));
						PTUP v68;
						uint64_t v69 = mw_mirth_token_Token_next(v65, v45, &v68);
						PTUP v70;
						bool v71 = mw_mirth_token_Token_runZ_endZAsk(v68, v69, &v70);
						PTUP branch_Maybe_72;
						PTUP branch_ZPlusMirth_73;
						if (v71) {
							branch_ZPlusMirth_73 = v70;
							branch_Maybe_72 = v67;
						} else {
							STR* v74;
							STRLIT(v74, "expected right paren or comma", 29);
							mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v70, v69, v74);
						}
						branch_ZPlusMirth_64 = branch_ZPlusMirth_73;
						branch_Maybe_63 = branch_Maybe_72;
					} else {
						STR* v76;
						STRLIT(v76, "expected right paren, left curly, or comma", 42);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v55, v45, v76);
					}
					branch_Maybe_53 = branch_Maybe_63;
					branch_ZPlusMirth_52 = branch_ZPlusMirth_64;
					branch_Token_51 = branch_Token_37;
					branch_Name_50 = value_u64(branch_z_x1_38);
					branch_StackType_49 = v23;
					branch_List_48 = v22;
				}
				PTUP v79;
				PTUP v80;
				uint64_t v81;
				PTUP v82 = mw_mirth_elab_elabZ_expandZ_tensorZBang(branch_ZPlusMirth_52, branch_StackType_49, branch_Token_51, &v79, &v80, &v81);
				PTUP v83;
				PTUP v84 = mw_mirth_type_Type_arrowZAsk(v79, v80, &v83);
				PTUP branch_ZPlusMirth_85;
				uint64_t branch_Token_86;
				VAL branch_z_x1_87;
				switch (PTREXTRA(v84)) {
					case 1LL: { // Some
						VAL v88 = mtp_std_maybe_Maybe_1_Some(v84);
						branch_z_x1_87 = v88;
						branch_Token_86 = v81;
						branch_ZPlusMirth_85 = v83;
					} break;
					case 0LL: { // None
						STR* v89;
						STRLIT(v89, "need function type for param", 28);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v83, v81, v89);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				decref(MKU64(branch_Token_86));
				PTUP v93;
				uint64_t v94 = mw_mirth_var_Var_NewAutoRunZBang(branch_ZPlusMirth_85, VTUP(branch_z_x1_87), branch_Name_50, &v93);
				PTUP v95 = mtw_mirth_word_Param_Param(v94, branch_Maybe_53);
				PTUP v96 = mw_std_list_List_1_cons(MKTUP(VTUP(MKTUP(v95))), VTUP(MKTUP(branch_List_48)));
				bool v97 = true;
				branch_Bool_31 = v97;
				branch_List_30 = v32;
				branch_StackType_29 = VTUP(MKTUP(v82));
				branch_List_28 = v96;
				branch_ZPlusMirth_27 = v93;
			} break;
			case 0LL: { // Nil
				PTUP v98 = PTRMK(0LL /* Nil */,0,0);
				bool v99 = false;
				branch_Bool_31 = v99;
				branch_List_30 = v98;
				branch_StackType_29 = v23;
				branch_List_28 = v22;
				branch_ZPlusMirth_27 = r24;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_31;
		v20 = branch_Bool_31;
		v19 = branch_List_30;
		r18 = branch_ZPlusMirth_27;
		v17 = branch_StackType_29;
		v16 = branch_List_28;
	}
	decref(MKTUP(v19));
	decref(MKTUP(v17));
	*out_ZPlusMirth_3 = r18;
	return v16;
}
static PTUP mw_mirth_elab_elabZ_defZ_bodyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v7;
	uint64_t v8 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_token_Token_runZ_arrowZAsk(in_ZPlusMirth_1, v8, &v9);
	int64_t v11 = PTREXTRA(v10);
	decref(MKTUP(v10));
	INT v12 = WRAP_I63(0LL);
	INT v13 = v12;
	INT v14 = i64_to_int(v11);
	bool v15 = int_eq(v14, v13);
	bool v16 = !v15;
	PTUP branch_ZPlusMirth_17;
	PTUP branch_ZPlusAB_18;
	bool branch_Bool_19;
	if (v16) {
		bool v20 = true;
		branch_Bool_19 = v20;
		branch_ZPlusAB_18 = v7;
		branch_ZPlusMirth_17 = v9;
	} else {
		PTUP v21;
		uint64_t v22 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v21);
		PTUP v23;
		PTUP v24 = mw_mirth_token_Token_lcurlyZAsk(v9, v22, &v23);
		int64_t v25 = PTREXTRA(v24);
		decref(MKTUP(v24));
		INT v26 = WRAP_I63(0LL);
		INT v27 = v26;
		INT v28 = i64_to_int(v25);
		bool v29 = int_eq(v28, v27);
		bool v30 = !v29;
		branch_Bool_19 = v30;
		branch_ZPlusAB_18 = v21;
		branch_ZPlusMirth_17 = v23;
	}
	PTUP branch_StackType_31;
	PTUP branch_ZPlusMirth_32;
	PTUP branch_ZPlusAB_33;
	if (branch_Bool_19) {
		incref(MKTUP(in_StackType_3));
		PTUP v34;
		uint64_t v35 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(branch_ZPlusAB_18, &v34);
		PTUP v36;
		PTUP v37;
		mw_mirth_elab_ZPlusAB_elabZ_matchZ_atZBang(branch_ZPlusMirth_17, v34, in_StackType_3, v35, &v36, &v37);
		branch_ZPlusAB_33 = v37;
		branch_ZPlusMirth_32 = v36;
		branch_StackType_31 = in_StackType_3;
	} else {
		PTUP v38;
		PTUP v39;
		mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(branch_ZPlusMirth_17, branch_ZPlusAB_18, &v38, &v39);
		branch_ZPlusAB_33 = v39;
		branch_ZPlusMirth_32 = v38;
		branch_StackType_31 = in_StackType_3;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_33;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_32;
	return branch_StackType_31;
}
static PTUP mw_mirth_elab_elabZ_entryZ_point (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_QName_2));
	PTUP v5;
	PTUP v6 = mw_mirth_name_QName_defZ_hardZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	PTUP branch_Maybe_7;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v9 = mw_mirth_def_Def_wordZAsk(VTUP(v8));
			branch_Maybe_7 = v9;
		} break;
		case 0LL: { // None
			PTUP v10 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_7 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_11;
	PTUP branch_QName_12;
	VAL branch_z_x1_13;
	switch (PTREXTRA(branch_Maybe_7)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_7);
			branch_z_x1_13 = v14;
			branch_QName_12 = in_QName_2;
			branch_ZPlusMirth_11 = v5;
		} break;
		case 0LL: { // None
			incref(MKTUP(in_QName_2));
			PTUP v15 = VTUP(((TUP*)PTRPTR(in_QName_2))->cells[0]);
			incref(MKTUP(v15));
			decref(MKTUP(in_QName_2));
			PTUP v16;
			PTUP v17 = mw_mirth_name_Namespace_moduleZAsk(v5, v15, &v16);
			PTUP branch_ZPlusMirth_18;
			switch (PTREXTRA(v17)) {
				case 1LL: { // Some
					VAL v19 = mtp_std_maybe_Maybe_1_Some(v17);
					PTUP v20;
					uint64_t v21 = mw_mirth_module_Module_start(v16, value_u64(v19), &v20);
					PTUP v22;
					mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(v20, v21, &v22);
					branch_ZPlusMirth_18 = v22;
				} break;
				case 0LL: { // None
					branch_ZPlusMirth_18 = v16;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			STR* v23;
			STRLIT(v23, "", 0);
			STR* v24;
			STRLIT(v24, "Can't find entry point ", 23);
			STR* v25;
			mw_std_str_ZPlusStr_pushZ_strZBang(v24, v23, &v25);
			PTUP v26;
			STR* v27;
			mw_mirth_name_QName_qnameZThen(branch_ZPlusMirth_18, v25, in_QName_2, &v26, &v27);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v26, v27);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKTUP(branch_QName_12));
	PTUP v31 = mw_mirth_var_Ctx_L0();
	PTUP v32 = mw_mirth_type_T0();
	PTUP v33 = mw_mirth_type_Resource_World();
	PTUP v34 = mw_mirth_type_TZPlus(v32, v33);
	PTUP v35 = mw_mirth_type_T0();
	PTUP v36 = mw_mirth_type_Resource_World();
	PTUP v37 = mw_mirth_type_TZPlus(v35, v36);
	PTUP v38 = mw_mirth_type_TZ_ZTo(v34, v37);
	PTUP v39;
	uint64_t v40 = mw_mirth_word_Word_head(branch_ZPlusMirth_11, value_u64(branch_z_x1_13), &v39);
	PTUP v41 = mtw_mirth_arrow_Home_Main(v40);
	PTUP v42;
	PTUP v43;
	mtp_mirth_type_ArrowType_ArrowType(v38, &v42, &v43);
	incref(MKTUP(v42));
	PTUP v44 = PTRMK(0LL /* Nil */,0,0);
	PTUP v45 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v41)), value_u64(MKU64(v40)), value_u64(MKU64(v40)), v31, v42, v42, v44);
	PTUP v46 = PTRMK(0LL /* Nil */,0,0);
	PTUP v47;
	PTUP v48;
	mw_mirth_elab_ZPlusAB_abZ_wordZBang(v39, v45, v46, value_u64(branch_z_x1_13), &v47, &v48);
	PTUP v49;
	PTUP v50;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v47, v48, v43, &v49, &v50);
	*out_ZPlusMirth_3 = v49;
	return v50;
}
static uint64_t mw_mirth_elab_elabZ_embedZ_strZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_token_Token_next(v7, in_Token_2, &v9);
	PTUP v11;
	uint64_t v12;
	uint64_t v13 = mw_mirth_token_Token_argsZ_2(v9, in_Token_2, &v11, &v12);
	PTUP v14;
	uint64_t v15;
	uint64_t v16;
	INT v17;
	PTUP v18;
	mw_mirth_elab_elabZ_defZ_head(v11, v13, &v14, &v15, &v16, &v17, &v18);
	incref(MKNAT(v17));
	INT v19 = WRAP_I63(0LL);
	INT v20 = v19;
	INT v21 = v17;
	bool v22 = int_eq(v21, v20);
	PTUP branch_ZPlusMirth_23;
	uint64_t branch_Token_24;
	if (v22) {
		branch_Token_24 = v15;
		branch_ZPlusMirth_23 = v14;
	} else {
		STR* v25;
		STRLIT(v25, "expected no arguments", 21);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, v15, v25);
	}
	PTUP v27 = PTRMK(0LL /* None */,0,0);
	PTUP v28;
	PTUP v29 = mw_mirth_token_Token_strZAsk(branch_ZPlusMirth_23, v12, &v28);
	PTUP branch_ZPlusMirth_30;
	uint64_t branch_Token_31;
	VAL branch_z_x1_32;
	switch (PTREXTRA(v29)) {
		case 1LL: { // Some
			VAL v33 = mtp_std_maybe_Maybe_1_Some(v29);
			branch_z_x1_32 = v33;
			branch_Token_31 = v12;
			branch_ZPlusMirth_30 = v28;
		} break;
		case 0LL: { // None
			STR* v34;
			STRLIT(v34, "expected source path", 20);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v28, v12, v34);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v38;
	mw_std_prim_ZPlusWorld_openZ_fileZBang(value_str(branch_z_x1_32), &v38);
	PTUP branch_ZPlusMirth_39;
	VAL branch_z_x1_40;
	switch (PTREXTRA(v38)) {
		case 1LL: { // +Ok
			VAL v41;
			mtp_std_result_ZPlusResult_2_ZPlusOk(v38, &v41);
			branch_z_x1_40 = v41;
			branch_ZPlusMirth_39 = branch_ZPlusMirth_30;
		} break;
		case 0LL: { // +Err
			VAL v42 = mtp_std_result_ZPlusResult_2_ZPlusErr(v38);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(VTUP(v42), branch_ZPlusMirth_30);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v45;
	STR* v46 = mw_std_file_ZPlusFile_readZ_fileZBang(VTUP(branch_z_x1_40), &v45);
	PTUP v47 = mw_std_file_ZPlusFile_closeZ_fileZBang(v45);
	PTUP branch_ZPlusMirth_48;
	switch (PTREXTRA(v47)) {
		case 1LL: { // Some
			VAL v49 = mtp_std_maybe_Maybe_1_Some(v47);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(VTUP(v49), branch_ZPlusMirth_39);
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_48 = branch_ZPlusMirth_39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Token_31));
	PTUP v51;
	uint64_t v52 = mw_mirth_word_Word_NewZBang(branch_ZPlusMirth_48, branch_Token_24, v27, v12, v16, v17, v8, &v51);
	PTUP v53 = mtw_mirth_mirth_PropLabel_WordQName(v52);
	PTUP v54 = mtw_mirth_mirth_Prop_1_Prop(v53, v18);
	incref(MKU64(v52));
	void* v55 = field_mut(&mfld_mirth_word_Word_ZTildeqname, value_u64(MKU64(v52)));
	mut_set(MKTUP(v54), v55);
	PTUP v56 = mw_mirth_var_Ctx_L0();
	PTUP v57 = mw_mirth_type_T0();
	PTUP v58 = mw_mirth_type_Type_Str();
	PTUP v59 = mw_mirth_type_T1(v58);
	PTUP v60 = mw_mirth_type_TZ_ZTo(v57, v59);
	incref(MKU64(v52));
	PTUP v61 = mtw_mirth_mirth_PropLabel_WordType(value_u64(MKU64(v52)));
	PTUP v62;
	PTUP v63 = mw_mirth_mirth_PropLabel_prop2(v51, MKTUP(v56), MKTUP(v60), v61, &v62);
	incref(MKU64(v52));
	void* v64 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, value_u64(MKU64(v52)));
	mut_set(MKTUP(v63), v64);
	PTUP v65;
	PTUP v66;
	uint64_t v67;
	PTUP v68;
	uint64_t v69;
	PTUP v70 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v62, value_u64(MKU64(v52)), &v65, &v66, &v67, &v68, &v69);
	PTUP v71;
	PTUP v72;
	mtp_mirth_type_ArrowType_ArrowType(v66, &v71, &v72);
	incref(MKTUP(v71));
	PTUP v73 = PTRMK(0LL /* Nil */,0,0);
	PTUP v74 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v68)), value_u64(MKU64(v67)), value_u64(MKU64(v67)), v70, v71, v71, v73);
	PTUP v75 = mtw_mirth_arrow_PushValue_Str(value_str(MKSTR(v46)));
	PTUP v76;
	PTUP v77;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v65, v74, v75, &v76, &v77);
	PTUP v78;
	PTUP v79;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v76, v77, v72, &v78, &v79);
	PTUP v80;
	PTUP v81 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v78, v79, v69, &v80);
	PTUP v82 = mtw_mirth_mirth_PropLabel_WordArrow(value_u64(MKU64(v52)));
	PTUP v83;
	PTUP v84 = mw_mirth_mirth_PropLabel_prop(v80, MKTUP(v81), v82, &v83);
	incref(MKU64(value_u64(MKU64(v52))));
	void* v85 = field_mut(&mfld_mirth_word_Word_ZTildearrow, value_u64(MKU64(value_u64(MKU64(v52)))));
	mut_set(MKTUP(v84), v85);
	*out_ZPlusMirth_3 = v83;
	return v10;
}
static void mw_mirth_elab_typecheckZ_everythingZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	uint64_t v3 = 1ULL;
	void* v4 = mbuf_mirth_name_Name_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	bool v6 = (v3 <= v5);
	PTUP r7 = in_ZPlusMirth_1;
	uint64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		PTUP r10 = r7;
		uint64_t v11 = v8;
		PTUP v12;
		PTUP v13 = mw_mirth_name_Name_defs(r10, v11, &v12);
		bool v14 = true;
		PTUP r15 = v12;
		PTUP v16 = v13;
		bool v17 = v14;
		bool v18 = v14;
		while (v18) {
			PTUP r19 = r15;
			PTUP v20 = v16;
			bool v21 = v17;
			PTUP branch_ZPlusMirth_22;
			PTUP branch_List_23;
			bool branch_Bool_24;
			switch (PTREXTRA(v20)) {
				case 1LL: { // Cons
					PTUP v25;
					VAL v26 = mtp_std_list_List_1_Cons(v20, &v25);
					incref(MKTUP(VTUP(v26)));
					PTUP v27;
					PTUP v28 = mw_mirth_def_Def_qnameZ_hard(r19, VTUP(v26), &v27);
					decref(MKTUP(v28));
					PTUP v29;
					mw_mirth_def_Def_typecheckZBang(v27, VTUP(v26), &v29);
					bool v30 = true;
					branch_Bool_24 = v30;
					branch_List_23 = v25;
					branch_ZPlusMirth_22 = v29;
				} break;
				case 0LL: { // Nil
					PTUP v31 = PTRMK(0LL /* Nil */,0,0);
					bool v32 = false;
					branch_Bool_24 = v32;
					branch_List_23 = v31;
					branch_ZPlusMirth_22 = r19;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v18 = branch_Bool_24;
			v17 = branch_Bool_24;
			v16 = branch_List_23;
			r15 = branch_ZPlusMirth_22;
		}
		decref(MKTUP(v16));
		uint64_t v33 = 1ULL;
		uint64_t v34 = (v11 + v33);
		void* v35 = mbuf_mirth_name_Name_NumBuffer;
		uint64_t v36 = *(uint64_t*)v35;
		bool v37 = (v34 <= v36);
		v9 = v37;
		v8 = v34;
		r7 = r15;
	}
	uint64_t v38 = 1ULL;
	void* v39 = mbuf_mirth_arrow_Block_NumBuffer;
	uint64_t v40 = *(uint64_t*)v39;
	bool v41 = (v38 <= v40);
	PTUP r42 = r7;
	uint64_t v43 = v38;
	bool v44 = v41;
	while (v44) {
		PTUP r45 = r42;
		uint64_t v46 = v43;
		PTUP v47;
		mw_mirth_arrow_Block_typecheckZBang(r45, v46, &v47);
		uint64_t v48 = 1ULL;
		uint64_t v49 = (v46 + v48);
		void* v50 = mbuf_mirth_arrow_Block_NumBuffer;
		uint64_t v51 = *(uint64_t*)v50;
		bool v52 = (v49 <= v51);
		v44 = v52;
		v43 = v49;
		r42 = v47;
	}
	uint64_t v53 = 1ULL;
	void* v54 = mbuf_mirth_external_External_NumBuffer;
	uint64_t v55 = *(uint64_t*)v54;
	bool v56 = (v53 <= v55);
	PTUP r57 = r42;
	uint64_t v58 = v53;
	bool v59 = v56;
	while (v59) {
		PTUP r60 = r57;
		uint64_t v61 = v58;
		PTUP v62;
		PTUP v63 = mw_mirth_external_External_ctype(r60, v61, &v62);
		decref(MKTUP(v63));
		uint64_t v64 = 1ULL;
		uint64_t v65 = (v61 + v64);
		void* v66 = mbuf_mirth_external_External_NumBuffer;
		uint64_t v67 = *(uint64_t*)v66;
		bool v68 = (v65 <= v67);
		v59 = v68;
		v58 = v65;
		r57 = v62;
	}
	*out_ZPlusMirth_2 = r57;
}
static PTUP mw_mirth_elab_resolveZ_defZ_namespace (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Either_3, bool in_Bool_4, PTUP *out_ZPlusMirth_5) {
	STR* v7;
	STRLIT(v7, "namespace", 9);
	bool v8 = false;
	PTUP v9;
	PTUP v10;
	mw_mirth_elab_ZPlusResolveDef_BeginZBang(v7, in_Token_2, in_Either_3, in_Bool_4, v8, in_ZPlusMirth_1, &v9, &v10);
	PTUP v11 = VTUP(((TUP*)PTRPTR(v10))->cells[3]);
	incref(MKTUP(v11));
	PTUP v12 = PTRMK(0LL /* Nil */,0,0);
	PTUP v13 = PTRMK(0LL /* Nil */,0,0);
	bool v14 = true;
	PTUP r15 = v9;
	VAL r16 = MKTUP(v10);
	PTUP v17 = VTUP(MKTUP(v12));
	PTUP v18 = VTUP(MKTUP(v13));
	PTUP v19 = VTUP(MKTUP(v11));
	bool v20 = v14;
	bool v21 = v14;
	while (v21) {
		PTUP r22 = r15;
		VAL r23 = r16;
		PTUP v24 = v17;
		PTUP v25 = v18;
		PTUP v26 = v19;
		bool v27 = v20;
		PTUP branch_ZPlusMirth_28;
		VAL branch_z_x1_29;
		PTUP branch_List_30;
		PTUP branch_List_31;
		PTUP branch_List_32;
		bool branch_Bool_33;
		switch (PTREXTRA(v26)) {
			case 1LL: { // Cons
				PTUP v34;
				VAL v35 = mtp_std_list_List_1_Cons(v26, &v34);
				incref(MKTUP(VTUP(v35)));
				PTUP v36;
				PTUP v37 = mw_mirth_def_Def_asZ_defZ_namespaceZAsk(r22, VTUP(v35), &v36);
				int64_t v38 = PTREXTRA(v37);
				decref(MKTUP(v37));
				INT v39 = WRAP_I63(0LL);
				INT v40 = v39;
				INT v41 = i64_to_int(v38);
				bool v42 = int_eq(v41, v40);
				bool v43 = !v42;
				PTUP branch_ZPlusMirth_44;
				VAL branch_z_x1_45;
				PTUP branch_Either_46;
				if (v43) {
					PTUP v47 = mtw_std_either_Either_2_Right(MKTUP(VTUP(v35)));
					branch_Either_46 = v47;
					branch_z_x1_45 = r23;
					branch_ZPlusMirth_44 = v36;
				} else {
					PTUP v48 = mtw_mirth_elab_RejectedDef_WrongSort(VTUP(v35));
					PTUP v49 = mtw_std_either_Either_2_Left(MKTUP(v48));
					branch_Either_46 = v49;
					branch_z_x1_45 = r23;
					branch_ZPlusMirth_44 = v36;
				}
				PTUP branch_ZPlusMirth_50;
				VAL branch_z_x1_51;
				PTUP branch_List_52;
				PTUP branch_List_53;
				switch (PTREXTRA(branch_Either_46)) {
					case 0LL: { // Left
						VAL v54 = mtp_std_either_Either_2_Left(branch_Either_46);
						PTUP v55 = mw_std_list_List_1_cons(MKTUP(VTUP(v54)), VTUP(MKTUP(v24)));
						branch_List_53 = VTUP(MKTUP(v25));
						branch_List_52 = v55;
						branch_z_x1_51 = branch_z_x1_45;
						branch_ZPlusMirth_50 = branch_ZPlusMirth_44;
					} break;
					case 1LL: { // Right
						VAL v56 = mtp_std_either_Either_2_Right(branch_Either_46);
						PTUP v57 = mw_std_list_List_1_cons(MKTUP(VTUP(v56)), VTUP(MKTUP(v25)));
						branch_List_53 = v57;
						branch_List_52 = VTUP(MKTUP(v24));
						branch_z_x1_51 = branch_z_x1_45;
						branch_ZPlusMirth_50 = branch_ZPlusMirth_44;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v58 = true;
				branch_Bool_33 = v58;
				branch_List_32 = v34;
				branch_List_31 = branch_List_53;
				branch_List_30 = branch_List_52;
				branch_z_x1_29 = branch_z_x1_51;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_50;
			} break;
			case 0LL: { // Nil
				PTUP v59 = PTRMK(0LL /* Nil */,0,0);
				bool v60 = false;
				branch_Bool_33 = v60;
				branch_List_32 = v59;
				branch_List_31 = v25;
				branch_List_30 = v24;
				branch_z_x1_29 = r23;
				branch_ZPlusMirth_28 = r22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_33;
		v20 = branch_Bool_33;
		v19 = branch_List_32;
		v18 = branch_List_31;
		v17 = branch_List_30;
		r16 = branch_z_x1_29;
		r15 = branch_ZPlusMirth_28;
	}
	decref(MKTUP(v19));
	PTUP v61 = mw_std_list_List_1_reverse(v17);
	PTUP v62 = mw_std_list_List_1_reverse(v18);
	PTUP v63 = VTUP(((TUP*)PTRPTR(VTUP(r16)))->cells[4]);
	incref(MKTUP(v63));
	PTUP v64 = mw_std_list_List_1_cat(v61, v63);
	PTUP v65 = VTUP(((TUP*)PTRPTR(VTUP(r16)))->cells[4]);
	decref(MKTUP(v65));
	((TUP*)PTRPTR(VTUP(r16)))->cells[4] = MKTUP(v64);
	PTUP v66 = VTUP(((TUP*)PTRPTR(VTUP(r16)))->cells[3]);
	decref(MKTUP(v66));
	((TUP*)PTRPTR(VTUP(r16)))->cells[3] = MKTUP(v62);
	PTUP v67;
	PTUP v68;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(r15, VTUP(r16), &v67, &v68);
	PTUP v69 = PTRMK(0LL /* Nil */,0,0);
	PTUP v70;
	PTUP v71;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v67, v68, v69, &v70, &v71);
	PTUP v72;
	PTUP v73 = mw_mirth_elab_ZPlusResolveDef_endZBang(v70, v71, &v72);
	PTUP v74;
	PTUP v75 = mw_std_maybe_Maybe_1_bind_1_sp13(v72, v73, &v74);
	*out_ZPlusMirth_5 = v74;
	return v75;
}
static PTUP mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_DName_3, INT in_Int_4, PTUP *out_ZPlusMirth_5) {
	incref(MKTUP(in_DName_3));
	PTUP v7 = mtw_std_either_Either_2_Right(MKTUP(in_DName_3));
	incref(MKTUP(in_DName_3));
	PTUP v8 = mw_mirth_name_DName_rootZAsk(in_DName_3);
	int64_t v9 = PTREXTRA(v8);
	decref(MKTUP(v8));
	INT v10 = WRAP_I63(0LL);
	INT v11 = v10;
	INT v12 = i64_to_int(v9);
	bool v13 = int_eq(v12, v11);
	bool v14 = !v13;
	PTUP branch_ZPlusMirth_15;
	uint64_t branch_Token_16;
	VAL branch_z_x1_17;
	if (v14) {
		branch_z_x1_17 = MKTUP(in_DName_3);
		branch_Token_16 = in_Token_2;
		branch_ZPlusMirth_15 = in_ZPlusMirth_1;
	} else {
		decref(MKTUP(in_DName_3));
		STR* v18;
		STRLIT(v18, "relative name not allowed", 25);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v18);
	}
	uint64_t v22 = mw_mirth_name_DName_lastZ_name(VTUP(branch_z_x1_17));
	bool v23 = true;
	PTUP v24;
	PTUP v25 = mw_mirth_elab_resolveZ_defZ_namespace(branch_ZPlusMirth_15, branch_Token_16, v7, v23, &v24);
	PTUP v26;
	VAL v27 = mw_std_maybe_Maybe_1_unwrap_1_sp41(v24, v25, &v26);
	PTUP v28 = mtw_mirth_name_QName_QName(VTUP(v27), v22, in_Int_4);
	*out_ZPlusMirth_5 = v26;
	return v28;
}
static bool mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	uint64_t v7 = mw_mirth_token_Token_module(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP v8;
	bool v9 = mw_mirth_module_Module_visible(v6, in_Module_3, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static bool mw_mirth_token_Token_isZ_defaultZ_paramZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_nameZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	int64_t v7 = PTREXTRA(v6);
	decref(MKTUP(v6));
	INT v8 = WRAP_I63(0LL);
	INT v9 = v8;
	INT v10 = i64_to_int(v7);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	uint64_t branch_Token_13;
	PTUP branch_ZPlusMirth_14;
	bool branch_Bool_15;
	if (v12) {
		PTUP v16;
		uint64_t v17 = mw_mirth_token_Token_succ(v5, in_Token_2, &v16);
		PTUP v18;
		PTUP v19 = mw_mirth_token_Token_lcurlyZAsk(v16, v17, &v18);
		int64_t v20 = PTREXTRA(v19);
		decref(MKTUP(v19));
		INT v21 = WRAP_I63(0LL);
		INT v22 = v21;
		INT v23 = i64_to_int(v20);
		bool v24 = int_eq(v23, v22);
		bool v25 = !v24;
		branch_Bool_15 = v25;
		branch_ZPlusMirth_14 = v18;
		branch_Token_13 = in_Token_2;
	} else {
		bool v26 = false;
		branch_Bool_15 = v26;
		branch_ZPlusMirth_14 = v5;
		branch_Token_13 = in_Token_2;
	}
	decref(MKU64(branch_Token_13));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
	return value_bool(MKBOOL(branch_Bool_15));
}
static PTUP mw_mirth_elab_elabZ_defZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_args(in_ZPlusMirth_1, in_Token_2, &v5);
	incref(MKTUP(v6));
	PTUP v7 = PTRMK(0LL /* None */,0,0);
	bool v8 = true;
	PTUP r9 = v5;
	PTUP v10 = v7;
	PTUP v11 = v6;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP v15 = v10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP v18;
		PTUP v19 = mw_std_list_List_1_uncons(v16, &v18);
		PTUP branch_ZPlusMirth_20;
		PTUP branch_Maybe_21;
		PTUP branch_List_22;
		bool branch_Bool_23;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				PTUP v25;
				bool v26 = mw_mirth_token_Token_isZ_defaultZ_paramZAsk(r14, value_u64(v24), &v25);
				PTUP branch_ZPlusMirth_27;
				PTUP branch_Maybe_28;
				if (v26) {
					PTUP v29 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v24)));
					branch_Maybe_28 = v29;
					branch_ZPlusMirth_27 = v25;
				} else {
					PTUP v30 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_28 = v30;
					branch_ZPlusMirth_27 = v25;
				}
				PTUP branch_ZPlusMirth_31;
				PTUP branch_Maybe_32;
				PTUP branch_List_33;
				switch (PTREXTRA(branch_Maybe_28)) {
					case 0LL: { // None
						branch_List_33 = VTUP(MKTUP(v18));
						branch_Maybe_32 = VTUP(MKTUP(v15));
						branch_ZPlusMirth_31 = branch_ZPlusMirth_27;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v18))));
						decref(MKTUP(VTUP(MKTUP(v15))));
						PTUP v34 = PTRMK(0LL /* Nil */,0,0);
						branch_List_33 = v34;
						branch_Maybe_32 = branch_Maybe_28;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_27;
					} break;
				}
				bool v35 = true;
				branch_Bool_23 = v35;
				branch_List_22 = branch_List_33;
				branch_Maybe_21 = branch_Maybe_32;
				branch_ZPlusMirth_20 = branch_ZPlusMirth_31;
			} break;
			case 0LL: { // None
				bool v36 = false;
				branch_Bool_23 = v36;
				branch_List_22 = v18;
				branch_Maybe_21 = v15;
				branch_ZPlusMirth_20 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_23;
		v12 = branch_Bool_23;
		v11 = branch_List_22;
		v10 = branch_Maybe_21;
		r9 = branch_ZPlusMirth_20;
	}
	decref(MKTUP(v11));
	int64_t v37 = PTREXTRA(v10);
	decref(MKTUP(v10));
	INT v38 = WRAP_I63(0LL);
	INT v39 = v38;
	INT v40 = i64_to_int(v37);
	bool v41 = int_eq(v40, v39);
	bool v42 = !v41;
	uint64_t branch_Token_43;
	PTUP branch_ZPlusMirth_44;
	VAL branch__45;
	if (v42) {
		decref(MKTUP(v6));
		INT v46 = WRAP_I63(-1LL);
		branch__45 = MKINT(v46);
		branch_ZPlusMirth_44 = r9;
		branch_Token_43 = in_Token_2;
	} else {
		INT v47 = mw_std_list_List_1_len(v6);
		INT v48 = v47;
		branch__45 = MKINT(v48);
		branch_ZPlusMirth_44 = r9;
		branch_Token_43 = in_Token_2;
	}
	PTUP v49;
	PTUP v50 = mw_mirth_token_Token_nameZDivdnameZAsk(branch_ZPlusMirth_44, branch_Token_43, &v49);
	PTUP branch_ZPlusMirth_51;
	uint64_t branch_Token_52;
	VAL branch_z_x1_53;
	switch (PTREXTRA(v50)) {
		case 1LL: { // Some
			VAL v54 = mtp_std_maybe_Maybe_1_Some(v50);
			branch_z_x1_53 = v54;
			branch_Token_52 = branch_Token_43;
			branch_ZPlusMirth_51 = v49;
		} break;
		case 0LL: { // None
			STR* v55;
			STRLIT(v55, "expected name", 13);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v49, branch_Token_43, v55);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_59;
	PTUP branch_QName_60;
	switch (PTREXTRA(VTUP(branch_z_x1_53))) {
		case 0LL: { // Left
			VAL v61 = mtp_std_either_Either_2_Left(VTUP(branch_z_x1_53));
			PTUP v62;
			PTUP v63 = mw_mirth_elab_definingZ_namespaceZ_orZ_error(branch_ZPlusMirth_51, branch_Token_52, &v62);
			PTUP v64 = mtw_mirth_name_QName_QName(v63, value_u64(v61), value_int(branch__45));
			branch_QName_60 = v64;
			branch_ZPlusMirth_59 = v62;
		} break;
		case 1LL: { // Right
			VAL v65 = mtp_std_either_Either_2_Right(VTUP(branch_z_x1_53));
			PTUP v66;
			PTUP v67 = mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname(branch_ZPlusMirth_51, branch_Token_52, VTUP(v65), value_int(branch__45), &v66);
			branch_QName_60 = v67;
			branch_ZPlusMirth_59 = v66;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_59;
	return branch_QName_60;
}
static PTUP mw_mirth_elab_definingZ_namespaceZ_orZ_error (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	incref(MKTUP(v5));
	incref(MKTUP(v5));
	PTUP v6 = VTUP(((TUP*)PTRPTR(v5))->cells[1]);
	incref(MKTUP(v6));
	decref(MKTUP(v5));
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_9 = v10;
			branch_Token_8 = in_Token_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "error: no namespace for definition", 34);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v15;
	PTUP v16;
	PTUP v17 = mw_mirth_mirth_Prop_1_compute(branch_ZPlusMirth_7, VTUP(branch_z_x1_9), &v15, &v16);
	PTUP v18 = mtw_std_maybe_Maybe_1_Some(MKTUP(v16));
	VAL v19 = tup_replace(MKTUP(v5), 1, MKTUP(v18));
	PTUP v20 = VTUP(((TUP*)PTRPTR(v15))->cells[6]);
	decref(MKTUP(v20));
	((TUP*)PTRPTR(v15))->cells[6] = MKTUP(VTUP(v19));
	PTUP branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	VAL branch_z_x1_23;
	switch (PTREXTRA(v17)) {
		case 1LL: { // Some
			VAL v24 = mtp_std_maybe_Maybe_1_Some(v17);
			branch_z_x1_23 = v24;
			branch_Token_22 = branch_Token_8;
			branch_ZPlusMirth_21 = v15;
		} break;
		case 0LL: { // None
			STR* v25;
			STRLIT(v25, "error: couldn't compute namespace for definition", 48);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v15, branch_Token_8, v25);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Token_22));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_21;
	return VTUP(branch_z_x1_23);
}
static PTUP mw_mirth_elab_elabZ_defZ_qnameZ_undefined (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_elab_elabZ_defZ_qname(in_ZPlusMirth_1, in_Token_2, &v5);
	incref(MKTUP(v6));
	PTUP v7;
	bool v8 = mw_mirth_name_QName_definedZ_softZAsk(v5, v6, &v7);
	PTUP branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	VAL branch_z_x1_11;
	if (v8) {
		decref(MKTUP(v6));
		STR* v12;
		STRLIT(v12, "name already defined", 20);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v7, in_Token_2, v12);
	} else {
		branch_z_x1_11 = MKTUP(v6);
		branch_Token_10 = in_Token_2;
		branch_ZPlusMirth_9 = v7;
	}
	decref(MKU64(branch_Token_10));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return VTUP(branch_z_x1_11);
}
static void mw_mirth_elab_elabZ_defZ_head (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_4, uint64_t *out_Name_5, INT *out_Nat_6, PTUP *out_PropState_7) {
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_nameZDivdnameZAsk(in_ZPlusMirth_1, in_Token_2, &v8);
	PTUP branch_ZPlusMirth_10;
	uint64_t branch_Token_11;
	VAL branch_z_x1_12;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x1_12 = v13;
			branch_Token_11 = in_Token_2;
			branch_ZPlusMirth_10 = v8;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "expected name", 13);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v8, in_Token_2, v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t branch_Name_17;
	switch (PTREXTRA(VTUP(branch_z_x1_12))) {
		case 0LL: { // Left
			VAL v18 = mtp_std_either_Either_2_Left(VTUP(branch_z_x1_12));
			branch_Name_17 = value_u64(v18);
		} break;
		case 1LL: { // Right
			VAL v19 = mtp_std_either_Either_2_Right(VTUP(branch_z_x1_12));
			PTUP v20 = mw_mirth_name_DName_parts(VTUP(v19));
			VAL v21 = mw_std_list_Nest_1_last(v20);
			branch_Name_17 = value_u64(v21);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v22;
	INT v23 = mw_mirth_token_Token_numZ_args(branch_ZPlusMirth_10, branch_Token_11, &v22);
	PTUP v24 = VTUP(((TUP*)PTRPTR(v22))->cells[6]);
	incref(MKTUP(v24));
	FNPTR v25 = &mb_mirth_elab_elabZ_defZ_head_0;
	PTUP v26 = mtw_mirth_mirth_PropState_1_Delay(v24, MKU64(branch_Token_11), MKFNPTR(v25));
	*out_PropState_7 = v26;
	*out_Nat_6 = v23;
	*out_Name_5 = branch_Name_17;
	*out_Token_4 = branch_Token_11;
	*out_ZPlusMirth_3 = v22;
}
static uint64_t mw_mirth_buffer_Buffer_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_buffer_Buffer_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_buffer_Buffer_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_buffer_Buffer_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, INT in_Sizze_4, uint64_t in_Name_5, PTUP *out_ZPlusMirth_6) {
	PTUP v8;
	uint64_t v9 = mw_mirth_buffer_Buffer_AllocZBang(in_ZPlusMirth_1, &v8);
	void* v10 = field_mut(&mfld_mirth_buffer_Buffer_doc, v9);
	mut_set(MKTUP(in_Maybe_2), v10);
	void* v11 = field_mut(&mfld_mirth_buffer_Buffer_head, v9);
	mut_set(MKU64(in_Token_3), v11);
	void* v12 = field_mut(&mfld_mirth_buffer_Buffer_sizze, v9);
	mut_set(MKINT(in_Sizze_4), v12);
	void* v13 = field_mut(&mfld_mirth_buffer_Buffer_name, v9);
	mut_set(MKU64(in_Name_5), v13);
	*out_ZPlusMirth_6 = v8;
	return v9;
}
static uint64_t mw_mirth_buffer_Buffer_head (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_head, in_Buffer_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_buffer_Buffer_sizze (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_sizze, in_Buffer_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static uint64_t mw_mirth_buffer_Buffer_name (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_name, in_Buffer_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_buffer_Buffer_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildeqname, in_Buffer_2);
	PTUP v6;
	PTUP v7 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static PTUP mw_mirth_buffer_Buffer_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildeqname, in_Buffer_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static uint64_t mw_mirth_buffer_parseZ_buffer (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, PTUP *out_Maybe_6, INT *out_Sizze_7) {
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v8);
	PTUP v10;
	INT v11 = mw_mirth_token_Token_numZ_args(v8, in_Token_2, &v10);
	INT v12 = WRAP_I63(0LL);
	INT v13 = v11;
	INT v14 = v12;
	bool v15 = int_lt(v14, v13);
	PTUP branch_Maybe_16;
	uint64_t branch_Token_17;
	uint64_t branch_Token_18;
	INT branch_Int_19;
	uint64_t branch_Token_20;
	PTUP branch_ZPlusMirth_21;
	if (v15) {
		PTUP v22;
		uint64_t v23 = mw_mirth_token_Token_next(v10, in_Token_2, &v22);
		PTUP v24;
		uint64_t v25;
		uint64_t v26 = mw_mirth_token_Token_argsZ_2(v22, in_Token_2, &v24, &v25);
		PTUP v27;
		mw_mirth_token_Token_argsZ_0(v24, v26, &v27);
		PTUP v28;
		PTUP v29 = mw_mirth_token_Token_nameZDivdnameZAsk(v27, v26, &v28);
		PTUP v30;
		uint64_t v31;
		mw_std_maybe_Maybe_1_else_1_sp14(v28, v26, v29, &v30, &v31);
		PTUP v32;
		uint64_t v33 = mw_mirth_token_Token_next(v30, v31, &v32);
		PTUP v34;
		bool v35 = mw_mirth_token_Token_argZ_endZAsk(v32, v33, &v34);
		PTUP branch_ZPlusMirth_36;
		uint64_t branch_Token_37;
		if (v35) {
			branch_Token_37 = v31;
			branch_ZPlusMirth_36 = v34;
		} else {
			PTUP v38;
			uint64_t v39 = mw_mirth_token_Token_next(v34, v31, &v38);
			STR* v40;
			STRLIT(v40, "Expected comma.", 15);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v38, v39, v40);
		}
		PTUP v42;
		PTUP v43 = mw_mirth_token_Token_intZAsk(branch_ZPlusMirth_36, v25, &v42);
		PTUP v44;
		uint64_t v45;
		VAL v46 = mw_std_maybe_Maybe_1_elseZAsk_1_sp8(v42, v25, v43, &v44, &v45);
		PTUP v47;
		uint64_t v48 = mw_mirth_token_Token_next(v44, v45, &v47);
		PTUP v49;
		bool v50 = mw_mirth_token_Token_argsZ_endZAsk(v47, v48, &v49);
		PTUP branch_ZPlusMirth_51;
		uint64_t branch_Token_52;
		if (v50) {
			branch_Token_52 = v45;
			branch_ZPlusMirth_51 = v49;
		} else {
			PTUP v53;
			uint64_t v54 = mw_mirth_token_Token_next(v49, v45, &v53);
			STR* v55;
			STRLIT(v55, "Expected end of arguments.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v53, v54, v55);
		}
		branch_ZPlusMirth_21 = branch_ZPlusMirth_51;
		branch_Token_20 = branch_Token_52;
		branch_Int_19 = value_int(v46);
		branch_Token_18 = branch_Token_37;
		branch_Token_17 = v23;
		branch_Maybe_16 = v9;
	} else {
		PTUP v57;
		uint64_t v58 = mw_mirth_token_Token_succ(v10, in_Token_2, &v57);
		PTUP v59;
		uint64_t v60 = mw_mirth_token_Token_next(v57, v58, &v59);
		PTUP v61;
		uint64_t v62 = mw_mirth_token_Token_next(v59, v60, &v61);
		PTUP v63;
		PTUP v64 = mw_mirth_token_Token_nameZDivdnameZAsk(v61, v58, &v63);
		PTUP v65;
		uint64_t v66;
		mw_std_maybe_Maybe_1_else_1_sp14(v63, v58, v64, &v65, &v66);
		PTUP v67;
		PTUP v68 = mw_mirth_token_Token_intZAsk(v65, v60, &v67);
		PTUP v69;
		uint64_t v70;
		VAL v71 = mw_std_maybe_Maybe_1_elseZAsk_1_sp8(v67, v60, v68, &v69, &v70);
		branch_ZPlusMirth_21 = v69;
		branch_Token_20 = v70;
		branch_Int_19 = value_int(v71);
		branch_Token_18 = v66;
		branch_Token_17 = v62;
		branch_Maybe_16 = v9;
	}
	incref(MKINT(branch_Int_19));
	INT v72 = WRAP_I63(0LL);
	INT v73 = v72;
	bool v74 = int_lt(v73, branch_Int_19);
	INT branch_Int_75;
	PTUP branch_ZPlusMirth_76;
	uint64_t branch_Token_77;
	if (v74) {
		branch_Token_77 = branch_Token_20;
		branch_ZPlusMirth_76 = branch_ZPlusMirth_21;
		branch_Int_75 = branch_Int_19;
	} else {
		STR* v78;
		STRLIT(v78, "Buffer size must be positive.", 29);
		PTUP v79;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(branch_ZPlusMirth_21, branch_Token_20, v78, &v79);
		INT v80 = WRAP_I63(8LL);
		decref(MKINT(branch_Int_19));
		branch_Token_77 = branch_Token_20;
		branch_ZPlusMirth_76 = v79;
		branch_Int_75 = v80;
	}
	*out_Sizze_7 = branch_Int_75;
	*out_Maybe_6 = branch_Maybe_16;
	*out_Token_5 = branch_Token_18;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_76;
	return branch_Token_17;
}
static uint64_t mw_mirth_buffer_elabZ_bufferZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6;
	PTUP v7;
	INT v8;
	uint64_t v9 = mw_mirth_buffer_parseZ_buffer(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8);
	PTUP v10;
	uint64_t v11;
	uint64_t v12;
	INT v13;
	PTUP v14;
	mw_mirth_elab_elabZ_defZ_head(v5, v6, &v10, &v11, &v12, &v13, &v14);
	decref(MKNAT(v13));
	PTUP v15;
	uint64_t v16 = mw_mirth_buffer_Buffer_MakeZBang(v10, v7, v11, v8, v12, &v15);
	PTUP v17 = mtw_mirth_mirth_PropLabel_BufferQName(v16);
	PTUP v18 = mtw_mirth_mirth_Prop_1_Prop(v17, v14);
	void* v19 = field_mut(&mfld_mirth_buffer_Buffer_ZTildeqname, v16);
	mut_set(MKTUP(v18), v19);
	PTUP v20 = mtw_mirth_def_Def_Buffer(v16);
	PTUP v21;
	mw_mirth_def_Def_register(v15, v20, &v21);
	*out_ZPlusMirth_3 = v21;
	return v9;
}
static PTUP mw_mirth_table_StateOwner_ctx (PTUP in_ZPlusMirth_1, PTUP in_StateOwner_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Ctx_6;
	switch (PTREXTRA(in_StateOwner_2)) {
		case 0LL: { // Error
			PTUP v7 = mw_mirth_var_Ctx_L0();
			branch_Ctx_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Default
			PTUP v8 = mw_mirth_var_Ctx_L0();
			branch_Ctx_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Resource
			PTUP v9;
			PTUP v10 = mtp_mirth_table_StateOwner_Resource(in_StateOwner_2, &v9);
			decref(MKTUP(v9));
			branch_Ctx_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Ctx_6;
}
static PTUP mw_mirth_table_StateOwner_push (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_StateOwner_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_StackType_7;
	switch (PTREXTRA(in_StateOwner_3)) {
		case 0LL: { // Error
			decref(MKTUP(in_StackType_2));
			PTUP v8 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Default
			branch_StackType_7 = in_StackType_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Resource
			PTUP v9;
			PTUP v10 = mtp_mirth_table_StateOwner_Resource(in_StateOwner_3, &v9);
			decref(MKTUP(v10));
			PTUP v11 = mw_mirth_type_TZPlus(in_StackType_2, VTUP(MKTUP(v9)));
			branch_StackType_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_StackType_7;
}
static uint64_t mw_mirth_mirth_ZPlusMirth_parseZ_owner (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_nameZDivdnameZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	int64_t v8 = PTREXTRA(v7);
	decref(MKTUP(v7));
	INT v9 = WRAP_I63(0LL);
	INT v10 = v9;
	INT v11 = i64_to_int(v8);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	uint64_t branch_Token_14;
	PTUP branch_ZPlusMirth_15;
	bool branch_Bool_16;
	if (v13) {
		PTUP v17;
		uint64_t v18 = mw_mirth_token_Token_next(v6, in_Token_2, &v17);
		PTUP v19;
		bool v20 = mw_mirth_token_Token_vdashZAsk(v17, v18, &v19);
		branch_Bool_16 = v20;
		branch_ZPlusMirth_15 = v19;
		branch_Token_14 = in_Token_2;
	} else {
		bool v21 = false;
		branch_Bool_16 = v21;
		branch_ZPlusMirth_15 = v6;
		branch_Token_14 = in_Token_2;
	}
	PTUP branch_ZPlusMirth_22;
	uint64_t branch_Token_23;
	PTUP branch_Maybe_24;
	if (branch_Bool_16) {
		PTUP v25;
		uint64_t v26 = mw_mirth_token_Token_next(branch_ZPlusMirth_15, branch_Token_14, &v25);
		PTUP v27;
		uint64_t v28 = mw_mirth_token_Token_succ(v25, v26, &v27);
		PTUP v29 = mtw_std_maybe_Maybe_1_Some(MKU64(branch_Token_14));
		branch_Maybe_24 = v29;
		branch_Token_23 = v28;
		branch_ZPlusMirth_22 = v27;
	} else {
		PTUP v30 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_24 = v30;
		branch_Token_23 = branch_Token_14;
		branch_ZPlusMirth_22 = branch_ZPlusMirth_15;
	}
	*out_Maybe_5 = branch_Maybe_24;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_22;
	return branch_Token_23;
}
static PTUP mw_mirth_mirth_ZPlusMirth_resolveZ_owner (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_StateOwner_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 0LL: { // None
			PTUP v7 = PTRMK(1LL /* Default */,0,0);
			branch_StateOwner_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			PTUP v9;
			mw_mirth_elab_ZPlusTypeElab_StartZBang(value_u64(v8), &v9);
			uint64_t v10 = value_u64(((TUP*)PTRPTR(v9))->cells[1]);
			PTUP v11;
			PTUP v12 = mw_mirth_token_Token_sigZ_resourceZ_conZAsk(in_ZPlusMirth_1, v10, &v11);
			PTUP branch_ZPlusMirth_13;
			PTUP branch_ZPlusTypeElab_14;
			PTUP branch_StateOwner_15;
			switch (PTREXTRA(v12)) {
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					PTUP v17;
					PTUP v18;
					PTUP v19 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang(v11, v9, VTUP(v16), &v17, &v18);
					incref(MKTUP(v19));
					PTUP v20;
					bool v21 = mw_mirth_type_Resource_canZ_ownZ_stateZAsk(v17, v19, &v20);
					PTUP branch_ZPlusMirth_22;
					PTUP branch_ZPlusTypeElab_23;
					PTUP branch_StateOwner_24;
					if (v21) {
						PTUP v25 = VTUP(((TUP*)PTRPTR(v18))->cells[0]);
						incref(MKTUP(v25));
						PTUP v26 = mtw_mirth_table_StateOwner_Resource(v25, v19);
						branch_StateOwner_24 = v26;
						branch_ZPlusTypeElab_23 = v18;
						branch_ZPlusMirth_22 = v20;
					} else {
						uint64_t v27 = value_u64(((TUP*)PTRPTR(v18))->cells[1]);
						STR* v28;
						STRLIT(v28, "Resource cannot own state.", 26);
						PTUP v29;
						mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v20, v27, v28, &v29);
						decref(MKTUP(v19));
						PTUP v30 = PTRMK(0LL /* Error */,0,0);
						branch_StateOwner_24 = v30;
						branch_ZPlusTypeElab_23 = v18;
						branch_ZPlusMirth_22 = v29;
					}
					branch_StateOwner_15 = branch_StateOwner_24;
					branch_ZPlusTypeElab_14 = branch_ZPlusTypeElab_23;
					branch_ZPlusMirth_13 = branch_ZPlusMirth_22;
				} break;
				case 0LL: { // None
					uint64_t v31 = value_u64(((TUP*)PTRPTR(v9))->cells[1]);
					STR* v32;
					STRLIT(v32, "Expected a resource name.", 25);
					PTUP v33;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v11, v31, v32, &v33);
					PTUP v34 = PTRMK(0LL /* Error */,0,0);
					branch_StateOwner_15 = v34;
					branch_ZPlusTypeElab_14 = v9;
					branch_ZPlusMirth_13 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			mw_mirth_elab_ZPlusTypeElab_rdrop(branch_ZPlusTypeElab_14);
			branch_StateOwner_6 = branch_StateOwner_15;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_StateOwner_6;
}
static uint64_t mw_mirth_table_Table_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_table_Table_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_table_Table_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_table_Table_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, uint64_t in_Buffer_5, PTUP *out_ZPlusMirth_6) {
	PTUP v8;
	uint64_t v9 = mw_mirth_table_Table_AllocZBang(in_ZPlusMirth_1, &v8);
	void* v10 = field_mut(&mfld_mirth_table_Table_doc, v9);
	mut_set(MKTUP(in_Maybe_2), v10);
	void* v11 = field_mut(&mfld_mirth_table_Table_head, v9);
	mut_set(MKU64(in_Token_3), v11);
	void* v12 = field_mut(&mfld_mirth_table_Table_name, v9);
	mut_set(MKU64(in_Name_4), v12);
	void* v13 = field_mut(&mfld_mirth_table_Table_numZ_buffer, v9);
	mut_set(MKU64(in_Buffer_5), v13);
	*out_ZPlusMirth_6 = v8;
	return v9;
}
static uint64_t mw_mirth_table_Table_head (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_head, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_table_Table_name (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_name, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_table_Table_numZ_buffer (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_numZ_buffer, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_table_Table_inlineZ_fields (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_inlineZ_fields, in_Table_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_List_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10 = PTRMK(0LL /* Nil */,0,0);
		incref(MKTUP(v10));
		mut_set(MKTUP(v10), v5);
		branch_List_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static void mw_mirth_table_Table_inlineZ_fieldsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_table_Table_inlineZ_fields, in_Table_3);
	mut_set(MKTUP(in_List_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_table_Table_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeqname, in_Table_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static PTUP mw_mirth_table_Table_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeqname, in_Table_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_table_Table_owner (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeowner, in_Table_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static uint64_t mw_mirth_table_Table_allocZ_word (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeallocZ_word, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_table_Table_unifyZBang (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4) {
	incref(MKU64(in_Table_2));
	incref(MKU64(in_Table_3));
	bool v6 = (value_u64(MKU64(in_Table_3)) == value_u64(MKU64(in_Table_2)));
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Type_8;
	if (v6) {
		PTUP v9 = mw_mirth_table_Table_ZToType(value_u64(MKU64(in_Table_2)));
		branch_Type_8 = v9;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10 = mw_mirth_table_Table_ZToType(value_u64(MKU64(in_Table_2)));
		PTUP v11 = mw_mirth_table_Table_ZToType(value_u64(MKU64(in_Table_3)));
		PTUP v12;
		PTUP v13 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, VTUP(MKTUP(v10)), v11, &v12);
		branch_Type_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static PTUP mw_mirth_table_Table_ZToType (uint64_t in_Table_1) {
	PTUP v3 = mtw_mirth_type_Type_Table(in_Table_1);
	return v3;
}
static PTUP mw_mirth_table_Table_ZToTycon (uint64_t in_Table_1) {
	PTUP v3 = mtw_mirth_tycon_Tycon_Table(in_Table_1);
	return v3;
}
static PTUP mw_mirth_table_Table_ZToNamespace (uint64_t in_Table_1) {
	PTUP v3 = mw_mirth_table_Table_ZToTycon(in_Table_1);
	PTUP v4 = mw_mirth_tycon_Tycon_ZToNamespace(v3);
	return v4;
}
static void mw_mirth_table_Table_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_table_Table_qnameZ_hard(in_ZPlusMirth_1, in_Table_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_QName_qnameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static PTUP mw_mirth_table_Table_constructorZ_fields (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_table_Table_inlineZ_fields(in_ZPlusMirth_1, in_Table_2, &v5);
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	PTUP r10 = v5;
	PTUP r11 = v8;
	PTUP v12 = v6;
	bool v13 = v9;
	bool v14 = v9;
	while (v14) {
		PTUP r15 = r10;
		PTUP r16 = r11;
		PTUP v17 = v12;
		bool v18 = v13;
		PTUP branch_ZPlusMirth_19;
		PTUP branch_ZPlusLister_20;
		PTUP branch_List_21;
		bool branch_Bool_22;
		switch (PTREXTRA(v17)) {
			case 1LL: { // Cons
				PTUP v23;
				VAL v24 = mtp_std_list_List_1_Cons(v17, &v23);
				PTUP v25;
				bool v26 = mw_mirth_table_Field_isZ_rawZAsk(r15, value_u64(v24), &v25);
				bool v27 = !v26;
				PTUP branch_ZPlusMirth_28;
				bool branch_Bool_29;
				if (v27) {
					PTUP v30;
					PTUP v31 = mw_mirth_table_Field_default(v25, value_u64(v24), &v30);
					int64_t v32 = PTREXTRA(v31);
					decref(MKTUP(v31));
					INT v33 = WRAP_I63(0LL);
					INT v34 = v33;
					INT v35 = i64_to_int(v32);
					bool v36 = int_eq(v35, v34);
					branch_Bool_29 = v36;
					branch_ZPlusMirth_28 = v30;
				} else {
					bool v37 = false;
					branch_Bool_29 = v37;
					branch_ZPlusMirth_28 = v25;
				}
				PTUP branch_ZPlusMirth_38;
				PTUP branch_ZPlusLister_39;
				if (branch_Bool_29) {
					PTUP v40;
					mw_std_list_ZPlusLister_1_pushZBang(MKU64(value_u64(v24)), r16, &v40);
					branch_ZPlusLister_39 = v40;
					branch_ZPlusMirth_38 = branch_ZPlusMirth_28;
				} else {
					branch_ZPlusLister_39 = r16;
					branch_ZPlusMirth_38 = branch_ZPlusMirth_28;
				}
				bool v41 = true;
				branch_Bool_22 = v41;
				branch_List_21 = v23;
				branch_ZPlusLister_20 = branch_ZPlusLister_39;
				branch_ZPlusMirth_19 = branch_ZPlusMirth_38;
			} break;
			case 0LL: { // Nil
				PTUP v42 = PTRMK(0LL /* Nil */,0,0);
				bool v43 = false;
				branch_Bool_22 = v43;
				branch_List_21 = v42;
				branch_ZPlusLister_20 = r16;
				branch_ZPlusMirth_19 = r15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_22;
		v13 = branch_Bool_22;
		v12 = branch_List_21;
		r11 = branch_ZPlusLister_20;
		r10 = branch_ZPlusMirth_19;
	}
	decref(MKTUP(v12));
	PTUP v44 = mw_std_list_ZPlusLister_1_doneZBang(r11);
	*out_ZPlusMirth_3 = r10;
	return v44;
}
static uint64_t mw_mirth_table_Field_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_table_Field_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_table_Field_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_table_Field_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, PTUP in_Maybe_4, uint64_t in_Name_5, PTUP *out_ZPlusMirth_6) {
	PTUP v8;
	uint64_t v9 = mw_mirth_table_Field_AllocZBang(in_ZPlusMirth_1, &v8);
	void* v10 = field_mut(&mfld_mirth_table_Field_doc, v9);
	mut_set(MKTUP(in_Maybe_2), v10);
	void* v11 = field_mut(&mfld_mirth_table_Field_head, v9);
	mut_set(MKU64(in_Token_3), v11);
	void* v12 = field_mut(&mfld_mirth_table_Field_default, v9);
	mut_set(MKTUP(in_Maybe_4), v12);
	void* v13 = field_mut(&mfld_mirth_table_Field_name, v9);
	mut_set(MKU64(in_Name_5), v13);
	*out_ZPlusMirth_6 = v8;
	return v9;
}
static uint64_t mw_mirth_table_Field_head (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_head, in_Field_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_table_Field_default (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_default, in_Field_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static uint64_t mw_mirth_table_Field_name (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_name, in_Field_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_table_Field_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildeqname, in_Field_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static PTUP mw_mirth_table_Field_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildeqname, in_Field_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_table_Field_namespace (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_table_Field_qnameZ_hard(in_ZPlusMirth_1, in_Field_2, &v5);
	PTUP v7 = VTUP(((TUP*)PTRPTR(v6))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(v6));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_table_Field_owner (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildeowner, in_Field_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_table_Field_indexZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildeindexZ_type, in_Field_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_table_Field_valueZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildevalueZ_type, in_Field_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_table_Field_basis (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_type_T0();
	PTUP v6;
	PTUP v7 = mw_mirth_table_Field_owner(in_ZPlusMirth_1, in_Field_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_table_StateOwner_push(v6, v5, v7, &v8);
	*out_ZPlusMirth_3 = v8;
	return v9;
}
static PTUP mw_mirth_table_Field_dom (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_table_Field_basis(in_ZPlusMirth_1, in_Field_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_table_Field_indexZ_type(v5, in_Field_2, &v7);
	PTUP v9 = mw_mirth_type_TZMul(v6, v8);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static PTUP mw_mirth_table_Field_cod (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_table_Field_basis(in_ZPlusMirth_1, in_Field_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_table_Field_valueZ_type(v5, in_Field_2, &v7);
	PTUP v9 = mtw_mirth_type_Type_Mut(v8);
	PTUP v10 = mw_mirth_type_TZMul(v6, v9);
	*out_ZPlusMirth_3 = v7;
	return v10;
}
static PTUP mw_mirth_table_Field_type (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_table_Field_dom(in_ZPlusMirth_1, in_Field_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_table_Field_cod(v5, in_Field_2, &v7);
	PTUP v9 = mw_mirth_type_TZ_ZTo(v6, v8);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static bool mw_mirth_table_Field_isZ_rawZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_table_Field_name(in_ZPlusMirth_1, in_Field_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_name_Name_couldZ_beZ_rawZ_fieldZ_nameZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_table_tableZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, STR* in_Str_3, INT in_Int_4, PTUP *out_ZPlusMirth_5) {
	PTUP v7;
	uint64_t v8 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, in_Str_3, &v7);
	PTUP v9 = mtw_mirth_tycon_Tycon_Table(in_Table_2);
	PTUP v10 = mtw_mirth_name_Namespace_Tycon(v9);
	PTUP v11 = mtw_mirth_name_QName_QName(v10, v8, in_Int_4);
	*out_ZPlusMirth_5 = v7;
	return v11;
}
static uint64_t mw_mirth_table_tableZ_newZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, PTUP in_PropState_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7) {
	STR* v9;
	STRLIT(v9, "Holds the number of allocated table elements.", 45);
	PTUP v10 = mtw_std_maybe_Maybe_1_Some(MKSTR(v9));
	STR* v11;
	STRLIT(v11, "NumBuffer", 9);
	PTUP v12;
	uint64_t v13 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v11, &v12);
	INT v14 = WRAP_I63(8LL);
	PTUP v15;
	uint64_t v16 = mw_mirth_buffer_Buffer_MakeZBang(v12, v10, in_Token_3, v14, v13, &v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_table_Table_MakeZBang(v15, in_Maybe_6, in_Token_3, in_Name_4, v16, &v17);
	PTUP v19 = mtw_mirth_mirth_PropLabel_TableQName(v18);
	PTUP v20 = mtw_mirth_mirth_Prop_1_Prop(v19, in_PropState_5);
	void* v21 = field_mut(&mfld_mirth_table_Table_ZTildeqname, v18);
	mut_set(MKTUP(v20), v21);
	PTUP v22 = mtw_mirth_mirth_PropLabel_TableOwner(v18);
	PTUP v23 = VTUP(((TUP*)PTRPTR(v17))->cells[6]);
	incref(MKTUP(v23));
	FNPTR v24 = &mb_mirth_mirth_PropLabel_prop_1_sp26_0;
	PTUP v25 = mtw_mirth_mirth_PropState_1_Delay(v23, MKTUP(in_Maybe_2), MKFNPTR(v24));
	PTUP v26 = mtw_mirth_mirth_Prop_1_Prop(v22, v25);
	void* v27 = field_mut(&mfld_mirth_table_Table_ZTildeowner, v18);
	mut_set(MKTUP(v26), v27);
	PTUP v28 = mtw_mirth_def_Def_Table(v18);
	PTUP v29;
	mw_mirth_def_Def_register(v17, v28, &v29);
	STR* v30;
	STRLIT(v30, "NumBuffer", 9);
	INT v31 = WRAP_I63(0LL);
	PTUP v32;
	PTUP v33 = mw_mirth_table_tableZ_qname(v29, v18, v30, v31, &v32);
	PTUP v34;
	uint64_t v35 = mw_mirth_table_Table_numZ_buffer(v32, v18, &v34);
	PTUP v36 = mtw_mirth_mirth_PropLabel_BufferQName(v35);
	PTUP v37;
	PTUP v38 = mw_mirth_mirth_PropLabel_prop(v34, MKTUP(v33), v36, &v37);
	PTUP v39;
	uint64_t v40 = mw_mirth_table_Table_numZ_buffer(v37, v18, &v39);
	void* v41 = field_mut(&mfld_mirth_buffer_Buffer_ZTildeqname, v40);
	mut_set(MKTUP(v38), v41);
	PTUP v42;
	uint64_t v43 = mw_mirth_table_Table_numZ_buffer(v39, v18, &v42);
	PTUP v44 = mtw_mirth_def_Def_Buffer(v43);
	PTUP v45;
	mw_mirth_def_Def_register(v42, v44, &v45);
	STR* v46;
	STRLIT(v46, "Return Nil, the zero-th element of the table.", 45);
	PTUP v47 = mtw_std_maybe_Maybe_1_Some(MKSTR(v46));
	PTUP v48;
	uint64_t v49 = mw_mirth_table_Table_head(v45, v18, &v48);
	STR* v50;
	STRLIT(v50, "Nil", 3);
	PTUP v51 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v51));
	INT v52 = mw_std_list_List_1_len(v51);
	PTUP v53;
	uint64_t v54 = mw_mirth_name_Name_Name(v48, v50, &v53);
	PTUP v55 = PTRMK(0LL /* None */,0,0);
	PTUP v56;
	uint64_t v57 = mw_mirth_word_Word_NewZBang(v53, v49, v55, v49, v54, v52, v47, &v56);
	PTUP v58 = mtw_mirth_mirth_PropLabel_WordQName(v57);
	PTUP v59;
	PTUP v60 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v56, v18, v57, v58, &v59);
	void* v61 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v57);
	mut_set(MKTUP(v60), v61);
	PTUP v62 = mtw_mirth_mirth_PropLabel_WordType(v57);
	PTUP v63 = VTUP(((TUP*)PTRPTR(v59))->cells[6]);
	incref(MKTUP(v63));
	FNPTR v64 = &mb_mirth_mirth_PropLabel_prop_1_sp45_0;
	PTUP v65 = mtw_mirth_mirth_PropState_1_Delay(v63, MKU64(v18), MKFNPTR(v64));
	PTUP v66 = mtw_mirth_mirth_Prop_1_Prop(v62, v65);
	void* v67 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v57);
	mut_set(MKTUP(v66), v67);
	PTUP v68 = mtw_mirth_mirth_PropLabel_WordParams(v57);
	PTUP v69;
	PTUP v70 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v59, v51, v57, v68, &v69);
	void* v71 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v57);
	mut_set(MKTUP(v70), v71);
	PTUP v72 = mtw_mirth_mirth_PropLabel_WordArrow(v57);
	PTUP r73 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r73))->size = 2;
	((TUP*)PTRPTR(r73))->cells[1] = MKU64(v57);
	((TUP*)PTRPTR(r73))->cells[0] = MKU64(v18);
	PTUP v74 = VTUP(((TUP*)PTRPTR(v69))->cells[6]);
	incref(MKTUP(v74));
	FNPTR v75 = &mb_mirth_mirth_PropLabel_prop_1_sp46_0;
	PTUP v76 = mtw_mirth_mirth_PropState_1_Delay(v74, MKTUP(r73), MKFNPTR(v75));
	PTUP v77 = mtw_mirth_mirth_Prop_1_Prop(v72, v76);
	void* v78 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v57);
	mut_set(MKTUP(v77), v78);
	STR* v79;
	STRLIT(v79, "Allocate a table element, without setting any fields.", 53);
	PTUP v80 = mtw_std_maybe_Maybe_1_Some(MKSTR(v79));
	PTUP v81;
	uint64_t v82 = mw_mirth_table_Table_head(v69, v18, &v81);
	STR* v83;
	STRLIT(v83, "Alloc!", 6);
	PTUP v84 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v84));
	INT v85 = mw_std_list_List_1_len(v84);
	PTUP v86;
	uint64_t v87 = mw_mirth_name_Name_Name(v81, v83, &v86);
	PTUP v88 = PTRMK(0LL /* None */,0,0);
	PTUP v89;
	uint64_t v90 = mw_mirth_word_Word_NewZBang(v86, v82, v88, v82, v87, v85, v80, &v89);
	PTUP v91 = mtw_mirth_mirth_PropLabel_WordQName(v90);
	PTUP v92;
	PTUP v93 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v89, v18, v90, v91, &v92);
	void* v94 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v90);
	mut_set(MKTUP(v93), v94);
	PTUP v95 = mtw_mirth_mirth_PropLabel_WordType(v90);
	PTUP v96 = VTUP(((TUP*)PTRPTR(v92))->cells[6]);
	incref(MKTUP(v96));
	FNPTR v97 = &mb_mirth_mirth_PropLabel_prop_1_sp43_0;
	PTUP v98 = mtw_mirth_mirth_PropState_1_Delay(v96, MKU64(v18), MKFNPTR(v97));
	PTUP v99 = mtw_mirth_mirth_Prop_1_Prop(v95, v98);
	void* v100 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v90);
	mut_set(MKTUP(v99), v100);
	PTUP v101 = mtw_mirth_mirth_PropLabel_WordParams(v90);
	PTUP v102;
	PTUP v103 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v92, v84, v90, v101, &v102);
	void* v104 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v90);
	mut_set(MKTUP(v103), v104);
	PTUP v105 = mtw_mirth_mirth_PropLabel_WordArrow(v90);
	PTUP r106 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r106))->size = 2;
	((TUP*)PTRPTR(r106))->cells[1] = MKU64(v90);
	((TUP*)PTRPTR(r106))->cells[0] = MKU64(v18);
	PTUP v107 = VTUP(((TUP*)PTRPTR(v102))->cells[6]);
	incref(MKTUP(v107));
	FNPTR v108 = &mb_mirth_mirth_PropLabel_prop_1_sp44_0;
	PTUP v109 = mtw_mirth_mirth_PropState_1_Delay(v107, MKTUP(r106), MKFNPTR(v108));
	PTUP v110 = mtw_mirth_mirth_Prop_1_Prop(v105, v109);
	void* v111 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v90);
	mut_set(MKTUP(v110), v111);
	void* v112 = field_mut(&mfld_mirth_table_Table_ZTildeallocZ_word, v18);
	mut_set(MKU64(v90), v112);
	STR* v113;
	STRLIT(v113, "Create a table element and supply field values.", 47);
	PTUP v114 = mtw_std_maybe_Maybe_1_Some(MKSTR(v113));
	PTUP v115;
	uint64_t v116 = mw_mirth_table_Table_head(v102, v18, &v115);
	STR* v117;
	STRLIT(v117, "Make!", 5);
	PTUP v118 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v118));
	INT v119 = mw_std_list_List_1_len(v118);
	PTUP v120;
	uint64_t v121 = mw_mirth_name_Name_Name(v115, v117, &v120);
	PTUP v122 = PTRMK(0LL /* None */,0,0);
	PTUP v123;
	uint64_t v124 = mw_mirth_word_Word_NewZBang(v120, v116, v122, v116, v121, v119, v114, &v123);
	PTUP v125 = mtw_mirth_mirth_PropLabel_WordQName(v124);
	PTUP v126;
	PTUP v127 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v123, v18, v124, v125, &v126);
	void* v128 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v124);
	mut_set(MKTUP(v127), v128);
	PTUP v129 = mtw_mirth_mirth_PropLabel_WordType(v124);
	PTUP v130 = VTUP(((TUP*)PTRPTR(v126))->cells[6]);
	incref(MKTUP(v130));
	FNPTR v131 = &mb_mirth_mirth_PropLabel_prop_1_sp41_0;
	PTUP v132 = mtw_mirth_mirth_PropState_1_Delay(v130, MKU64(v18), MKFNPTR(v131));
	PTUP v133 = mtw_mirth_mirth_Prop_1_Prop(v129, v132);
	void* v134 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v124);
	mut_set(MKTUP(v133), v134);
	PTUP v135 = mtw_mirth_mirth_PropLabel_WordParams(v124);
	PTUP v136;
	PTUP v137 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v126, v118, v124, v135, &v136);
	void* v138 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v124);
	mut_set(MKTUP(v137), v138);
	PTUP v139 = mtw_mirth_mirth_PropLabel_WordArrow(v124);
	PTUP r140 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r140))->size = 2;
	((TUP*)PTRPTR(r140))->cells[1] = MKU64(v124);
	((TUP*)PTRPTR(r140))->cells[0] = MKU64(v18);
	PTUP v141 = VTUP(((TUP*)PTRPTR(v136))->cells[6]);
	incref(MKTUP(v141));
	FNPTR v142 = &mb_mirth_mirth_PropLabel_prop_1_sp42_0;
	PTUP v143 = mtw_mirth_mirth_PropState_1_Delay(v141, MKTUP(r140), MKFNPTR(v142));
	PTUP v144 = mtw_mirth_mirth_Prop_1_Prop(v139, v143);
	void* v145 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v124);
	mut_set(MKTUP(v144), v145);
	STR* v146;
	STRLIT(v146, "Turn a table element into a U64 index.", 38);
	PTUP v147 = mtw_std_maybe_Maybe_1_Some(MKSTR(v146));
	PTUP v148;
	uint64_t v149 = mw_mirth_table_Table_head(v136, v18, &v148);
	STR* v150;
	STRLIT(v150, "index", 5);
	PTUP v151 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v151));
	INT v152 = mw_std_list_List_1_len(v151);
	PTUP v153;
	uint64_t v154 = mw_mirth_name_Name_Name(v148, v150, &v153);
	PTUP v155 = PTRMK(0LL /* None */,0,0);
	PTUP v156;
	uint64_t v157 = mw_mirth_word_Word_NewZBang(v153, v149, v155, v149, v154, v152, v147, &v156);
	PTUP v158 = mtw_mirth_mirth_PropLabel_WordQName(v157);
	PTUP v159;
	PTUP v160 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v156, v18, v157, v158, &v159);
	void* v161 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v157);
	mut_set(MKTUP(v160), v161);
	PTUP v162 = mtw_mirth_mirth_PropLabel_WordType(v157);
	PTUP v163 = VTUP(((TUP*)PTRPTR(v159))->cells[6]);
	incref(MKTUP(v163));
	FNPTR v164 = &mb_mirth_mirth_PropLabel_prop_1_sp39_0;
	PTUP v165 = mtw_mirth_mirth_PropState_1_Delay(v163, MKU64(v18), MKFNPTR(v164));
	PTUP v166 = mtw_mirth_mirth_Prop_1_Prop(v162, v165);
	void* v167 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v157);
	mut_set(MKTUP(v166), v167);
	PTUP v168 = mtw_mirth_mirth_PropLabel_WordParams(v157);
	PTUP v169;
	PTUP v170 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v159, v151, v157, v168, &v169);
	void* v171 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v157);
	mut_set(MKTUP(v170), v171);
	PTUP v172 = mtw_mirth_mirth_PropLabel_WordArrow(v157);
	PTUP r173 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r173))->size = 2;
	((TUP*)PTRPTR(r173))->cells[1] = MKU64(v157);
	((TUP*)PTRPTR(r173))->cells[0] = MKU64(v18);
	PTUP v174 = VTUP(((TUP*)PTRPTR(v169))->cells[6]);
	incref(MKTUP(v174));
	FNPTR v175 = &mb_mirth_mirth_PropLabel_prop_1_sp40_0;
	PTUP v176 = mtw_mirth_mirth_PropState_1_Delay(v174, MKTUP(r173), MKFNPTR(v175));
	PTUP v177 = mtw_mirth_mirth_Prop_1_Prop(v172, v176);
	void* v178 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v157);
	mut_set(MKTUP(v177), v178);
	PTUP v179;
	mw_mirth_word_Word_makeZ_inlineZBang(v169, v157, &v179);
	STR* v180;
	STRLIT(v180, "Check table elements for identity.", 34);
	PTUP v181 = mtw_std_maybe_Maybe_1_Some(MKSTR(v180));
	PTUP v182;
	uint64_t v183 = mw_mirth_table_Table_head(v179, v18, &v182);
	STR* v184;
	STRLIT(v184, "=", 1);
	PTUP v185 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v185));
	INT v186 = mw_std_list_List_1_len(v185);
	PTUP v187;
	uint64_t v188 = mw_mirth_name_Name_Name(v182, v184, &v187);
	PTUP v189 = PTRMK(0LL /* None */,0,0);
	PTUP v190;
	uint64_t v191 = mw_mirth_word_Word_NewZBang(v187, v183, v189, v183, v188, v186, v181, &v190);
	PTUP v192 = mtw_mirth_mirth_PropLabel_WordQName(v191);
	PTUP v193;
	PTUP v194 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v190, v18, v191, v192, &v193);
	void* v195 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v191);
	mut_set(MKTUP(v194), v195);
	PTUP v196 = mtw_mirth_mirth_PropLabel_WordType(v191);
	PTUP v197 = VTUP(((TUP*)PTRPTR(v193))->cells[6]);
	incref(MKTUP(v197));
	FNPTR v198 = &mb_mirth_mirth_PropLabel_prop_1_sp37_0;
	PTUP v199 = mtw_mirth_mirth_PropState_1_Delay(v197, MKU64(v18), MKFNPTR(v198));
	PTUP v200 = mtw_mirth_mirth_Prop_1_Prop(v196, v199);
	void* v201 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v191);
	mut_set(MKTUP(v200), v201);
	PTUP v202 = mtw_mirth_mirth_PropLabel_WordParams(v191);
	PTUP v203;
	PTUP v204 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v193, v185, v191, v202, &v203);
	void* v205 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v191);
	mut_set(MKTUP(v204), v205);
	PTUP v206 = mtw_mirth_mirth_PropLabel_WordArrow(v191);
	PTUP r207 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r207))->size = 2;
	((TUP*)PTRPTR(r207))->cells[1] = MKU64(v191);
	((TUP*)PTRPTR(r207))->cells[0] = MKU64(v18);
	PTUP v208 = VTUP(((TUP*)PTRPTR(v203))->cells[6]);
	incref(MKTUP(v208));
	FNPTR v209 = &mb_mirth_mirth_PropLabel_prop_1_sp38_0;
	PTUP v210 = mtw_mirth_mirth_PropState_1_Delay(v208, MKTUP(r207), MKFNPTR(v209));
	PTUP v211 = mtw_mirth_mirth_Prop_1_Prop(v206, v210);
	void* v212 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v191);
	mut_set(MKTUP(v211), v212);
	PTUP v213;
	mw_mirth_word_Word_makeZ_inlineZBang(v203, v191, &v213);
	STR* v214;
	STRLIT(v214, "Turn a U64 index into a table element, with no bounds checking.", 63);
	PTUP v215 = mtw_std_maybe_Maybe_1_Some(MKSTR(v214));
	PTUP v216;
	uint64_t v217 = mw_mirth_table_Table_head(v213, v18, &v216);
	STR* v218;
	STRLIT(v218, "from-index-unsafe", 17);
	PTUP v219 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v219));
	INT v220 = mw_std_list_List_1_len(v219);
	PTUP v221;
	uint64_t v222 = mw_mirth_name_Name_Name(v216, v218, &v221);
	PTUP v223 = PTRMK(0LL /* None */,0,0);
	PTUP v224;
	uint64_t v225 = mw_mirth_word_Word_NewZBang(v221, v217, v223, v217, v222, v220, v215, &v224);
	PTUP v226 = mtw_mirth_mirth_PropLabel_WordQName(v225);
	PTUP v227;
	PTUP v228 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v224, v18, v225, v226, &v227);
	void* v229 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v225);
	mut_set(MKTUP(v228), v229);
	PTUP v230 = mtw_mirth_mirth_PropLabel_WordType(v225);
	PTUP v231 = VTUP(((TUP*)PTRPTR(v227))->cells[6]);
	incref(MKTUP(v231));
	FNPTR v232 = &mb_mirth_mirth_PropLabel_prop_1_sp35_0;
	PTUP v233 = mtw_mirth_mirth_PropState_1_Delay(v231, MKU64(v18), MKFNPTR(v232));
	PTUP v234 = mtw_mirth_mirth_Prop_1_Prop(v230, v233);
	void* v235 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v225);
	mut_set(MKTUP(v234), v235);
	PTUP v236 = mtw_mirth_mirth_PropLabel_WordParams(v225);
	PTUP v237;
	PTUP v238 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v227, v219, v225, v236, &v237);
	void* v239 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v225);
	mut_set(MKTUP(v238), v239);
	PTUP v240 = mtw_mirth_mirth_PropLabel_WordArrow(v225);
	PTUP r241 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r241))->size = 2;
	((TUP*)PTRPTR(r241))->cells[1] = MKU64(v225);
	((TUP*)PTRPTR(r241))->cells[0] = MKU64(v18);
	PTUP v242 = VTUP(((TUP*)PTRPTR(v237))->cells[6]);
	incref(MKTUP(v242));
	FNPTR v243 = &mb_mirth_mirth_PropLabel_prop_1_sp36_0;
	PTUP v244 = mtw_mirth_mirth_PropState_1_Delay(v242, MKTUP(r241), MKFNPTR(v243));
	PTUP v245 = mtw_mirth_mirth_Prop_1_Prop(v240, v244);
	void* v246 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v225);
	mut_set(MKTUP(v245), v246);
	STR* v247;
	STRLIT(v247, "Turn a U64 index into a table element. If out of bounds, Nil is returned.", 73);
	PTUP v248 = mtw_std_maybe_Maybe_1_Some(MKSTR(v247));
	PTUP v249;
	uint64_t v250 = mw_mirth_table_Table_head(v237, v18, &v249);
	STR* v251;
	STRLIT(v251, "from-index", 10);
	PTUP v252 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v252));
	INT v253 = mw_std_list_List_1_len(v252);
	PTUP v254;
	uint64_t v255 = mw_mirth_name_Name_Name(v249, v251, &v254);
	PTUP v256 = PTRMK(0LL /* None */,0,0);
	PTUP v257;
	uint64_t v258 = mw_mirth_word_Word_NewZBang(v254, v250, v256, v250, v255, v253, v248, &v257);
	PTUP v259 = mtw_mirth_mirth_PropLabel_WordQName(v258);
	PTUP v260;
	PTUP v261 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v257, v18, v258, v259, &v260);
	void* v262 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v258);
	mut_set(MKTUP(v261), v262);
	PTUP v263 = mtw_mirth_mirth_PropLabel_WordType(v258);
	PTUP v264 = VTUP(((TUP*)PTRPTR(v260))->cells[6]);
	incref(MKTUP(v264));
	FNPTR v265 = &mb_mirth_mirth_PropLabel_prop_1_sp33_0;
	PTUP v266 = mtw_mirth_mirth_PropState_1_Delay(v264, MKU64(v18), MKFNPTR(v265));
	PTUP v267 = mtw_mirth_mirth_Prop_1_Prop(v263, v266);
	void* v268 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v258);
	mut_set(MKTUP(v267), v268);
	PTUP v269 = mtw_mirth_mirth_PropLabel_WordParams(v258);
	PTUP v270;
	PTUP v271 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v260, v252, v258, v269, &v270);
	void* v272 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v258);
	mut_set(MKTUP(v271), v272);
	PTUP v273 = mtw_mirth_mirth_PropLabel_WordArrow(v258);
	PTUP r274 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r274))->size = 2;
	((TUP*)PTRPTR(r274))->cells[1] = MKU64(v258);
	((TUP*)PTRPTR(r274))->cells[0] = MKU64(v18);
	PTUP v275 = VTUP(((TUP*)PTRPTR(v270))->cells[6]);
	incref(MKTUP(v275));
	FNPTR v276 = &mb_mirth_mirth_PropLabel_prop_1_sp34_0;
	PTUP v277 = mtw_mirth_mirth_PropState_1_Delay(v275, MKTUP(r274), MKFNPTR(v276));
	PTUP v278 = mtw_mirth_mirth_Prop_1_Prop(v273, v277);
	void* v279 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v258);
	mut_set(MKTUP(v278), v279);
	STR* v280;
	STRLIT(v280, "Return next table element if it exists. Otherwise return Nil.", 61);
	PTUP v281 = mtw_std_maybe_Maybe_1_Some(MKSTR(v280));
	PTUP v282;
	uint64_t v283 = mw_mirth_table_Table_head(v270, v18, &v282);
	STR* v284;
	STRLIT(v284, "succ", 4);
	PTUP v285 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v285));
	INT v286 = mw_std_list_List_1_len(v285);
	PTUP v287;
	uint64_t v288 = mw_mirth_name_Name_Name(v282, v284, &v287);
	PTUP v289 = PTRMK(0LL /* None */,0,0);
	PTUP v290;
	uint64_t v291 = mw_mirth_word_Word_NewZBang(v287, v283, v289, v283, v288, v286, v281, &v290);
	PTUP v292 = mtw_mirth_mirth_PropLabel_WordQName(v291);
	PTUP v293;
	PTUP v294 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v290, v18, v291, v292, &v293);
	void* v295 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v291);
	mut_set(MKTUP(v294), v295);
	PTUP v296 = mtw_mirth_mirth_PropLabel_WordType(v291);
	PTUP v297;
	PTUP v298 = mw_mirth_mirth_PropLabel_prop_1_sp30(v18, v293, v296, &v297);
	void* v299 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v291);
	mut_set(MKTUP(v298), v299);
	PTUP v300 = mtw_mirth_mirth_PropLabel_WordParams(v291);
	PTUP v301;
	PTUP v302 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v297, v285, v291, v300, &v301);
	void* v303 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v291);
	mut_set(MKTUP(v302), v303);
	PTUP v304 = mtw_mirth_mirth_PropLabel_WordArrow(v291);
	PTUP r305 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r305))->size = 2;
	((TUP*)PTRPTR(r305))->cells[1] = MKU64(v291);
	((TUP*)PTRPTR(r305))->cells[0] = MKU64(v18);
	PTUP v306 = VTUP(((TUP*)PTRPTR(v301))->cells[6]);
	incref(MKTUP(v306));
	FNPTR v307 = &mb_mirth_mirth_PropLabel_prop_1_sp32_0;
	PTUP v308 = mtw_mirth_mirth_PropState_1_Delay(v306, MKTUP(r305), MKFNPTR(v307));
	PTUP v309 = mtw_mirth_mirth_Prop_1_Prop(v304, v308);
	void* v310 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v291);
	mut_set(MKTUP(v309), v310);
	STR* v311;
	STRLIT(v311, "Return previous table element if it exists. Otherwise return Nil.", 65);
	PTUP v312 = mtw_std_maybe_Maybe_1_Some(MKSTR(v311));
	PTUP v313;
	uint64_t v314 = mw_mirth_table_Table_head(v301, v18, &v313);
	STR* v315;
	STRLIT(v315, "pred", 4);
	PTUP v316 = PTRMK(0LL /* Nil */,0,0);
	incref(MKTUP(v316));
	INT v317 = mw_std_list_List_1_len(v316);
	PTUP v318;
	uint64_t v319 = mw_mirth_name_Name_Name(v313, v315, &v318);
	PTUP v320 = PTRMK(0LL /* None */,0,0);
	PTUP v321;
	uint64_t v322 = mw_mirth_word_Word_NewZBang(v318, v314, v320, v314, v319, v317, v312, &v321);
	PTUP v323 = mtw_mirth_mirth_PropLabel_WordQName(v322);
	PTUP v324;
	PTUP v325 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v321, v18, v322, v323, &v324);
	void* v326 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v322);
	mut_set(MKTUP(v325), v326);
	PTUP v327 = mtw_mirth_mirth_PropLabel_WordType(v322);
	PTUP v328;
	PTUP v329 = mw_mirth_mirth_PropLabel_prop_1_sp30(v18, v324, v327, &v328);
	void* v330 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v322);
	mut_set(MKTUP(v329), v330);
	PTUP v331 = mtw_mirth_mirth_PropLabel_WordParams(v322);
	PTUP v332;
	PTUP v333 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v328, v316, v322, v331, &v332);
	void* v334 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v322);
	mut_set(MKTUP(v333), v334);
	PTUP v335 = mtw_mirth_mirth_PropLabel_WordArrow(v322);
	PTUP r336 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r336))->size = 2;
	((TUP*)PTRPTR(r336))->cells[1] = MKU64(v322);
	((TUP*)PTRPTR(r336))->cells[0] = MKU64(v18);
	PTUP v337 = VTUP(((TUP*)PTRPTR(v332))->cells[6]);
	incref(MKTUP(v337));
	FNPTR v338 = &mb_mirth_mirth_PropLabel_prop_1_sp31_0;
	PTUP v339 = mtw_mirth_mirth_PropState_1_Delay(v337, MKTUP(r336), MKFNPTR(v338));
	PTUP v340 = mtw_mirth_mirth_Prop_1_Prop(v335, v339);
	void* v341 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v322);
	mut_set(MKTUP(v340), v341);
	STR* v342;
	STRLIT(v342, "Iterate through all table elements (skips Nil).", 47);
	PTUP v343 = mtw_std_maybe_Maybe_1_Some(MKSTR(v342));
	PTUP v344;
	uint64_t v345 = mw_mirth_table_Table_head(v332, v18, &v344);
	STR* v346;
	STRLIT(v346, "for", 3);
	STR* v347;
	STRLIT(v347, "f", 1);
	PTUP v348 = PTRMK(0LL /* Nil */,0,0);
	PTUP v349 = mw_std_list_List_1_cons(MKSTR(v347), v348);
	incref(MKTUP(v349));
	INT v350 = mw_std_list_List_1_len(v349);
	PTUP v351;
	uint64_t v352 = mw_mirth_name_Name_Name(v344, v346, &v351);
	PTUP v353 = PTRMK(0LL /* None */,0,0);
	PTUP v354;
	uint64_t v355 = mw_mirth_word_Word_NewZBang(v351, v345, v353, v345, v352, v350, v343, &v354);
	PTUP v356 = mtw_mirth_mirth_PropLabel_WordQName(v355);
	PTUP v357;
	PTUP v358 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v354, v18, v355, v356, &v357);
	void* v359 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v355);
	mut_set(MKTUP(v358), v359);
	PTUP v360 = mtw_mirth_mirth_PropLabel_WordType(v355);
	PTUP v361 = VTUP(((TUP*)PTRPTR(v357))->cells[6]);
	incref(MKTUP(v361));
	FNPTR v362 = &mb_mirth_mirth_PropLabel_prop_1_sp27_0;
	PTUP v363 = mtw_mirth_mirth_PropState_1_Delay(v361, MKU64(v18), MKFNPTR(v362));
	PTUP v364 = mtw_mirth_mirth_Prop_1_Prop(v360, v363);
	void* v365 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v355);
	mut_set(MKTUP(v364), v365);
	PTUP v366 = mtw_mirth_mirth_PropLabel_WordParams(v355);
	PTUP v367;
	PTUP v368 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v357, v349, v355, v366, &v367);
	void* v369 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v355);
	mut_set(MKTUP(v368), v369);
	PTUP v370 = mtw_mirth_mirth_PropLabel_WordArrow(v355);
	PTUP r371 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r371))->size = 2;
	((TUP*)PTRPTR(r371))->cells[1] = MKU64(v355);
	((TUP*)PTRPTR(r371))->cells[0] = MKU64(v18);
	PTUP v372 = VTUP(((TUP*)PTRPTR(v367))->cells[6]);
	incref(MKTUP(v372));
	FNPTR v373 = &mb_mirth_mirth_PropLabel_prop_1_sp28_0;
	PTUP v374 = mtw_mirth_mirth_PropState_1_Delay(v372, MKTUP(r371), MKFNPTR(v373));
	PTUP v375 = mtw_mirth_mirth_Prop_1_Prop(v370, v374);
	void* v376 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v355);
	mut_set(MKTUP(v375), v376);
	*out_ZPlusMirth_7 = v367;
	return v18;
}
static uint64_t mw_mirth_table_parseZ_tableZ_decl (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5, uint64_t *out_Token_6, PTUP *out_Maybe_7, PTUP *out_List_8, PTUP *out_Maybe_9) {
	PTUP v10;
	PTUP v11 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v10);
	PTUP v12;
	INT v13 = mw_mirth_token_Token_numZ_args(v10, in_Token_2, &v12);
	INT v14 = WRAP_I63(0LL);
	INT v15 = v13;
	INT v16 = v14;
	bool v17 = int_lt(v16, v15);
	PTUP branch_Maybe_18;
	uint64_t branch_Token_19;
	PTUP branch_Maybe_20;
	PTUP branch_Maybe_21;
	uint64_t branch_Token_22;
	PTUP branch_ZPlusMirth_23;
	if (v17) {
		PTUP v24;
		uint64_t v25 = mw_mirth_token_Token_next(v12, in_Token_2, &v24);
		PTUP v26;
		INT v27 = mw_mirth_token_Token_numZ_args(v24, in_Token_2, &v26);
		INT v28 = WRAP_I63(1LL);
		INT v29 = v27;
		bool v30 = int_eq(v29, v28);
		PTUP branch_Maybe_31;
		uint64_t branch_Token_32;
		PTUP branch_ZPlusMirth_33;
		uint64_t branch_Token_34;
		PTUP branch_Maybe_35;
		if (v30) {
			PTUP v36;
			uint64_t v37 = mw_mirth_token_Token_argsZ_1(v26, in_Token_2, &v36);
			PTUP v38 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_35 = v38;
			branch_Token_34 = v37;
			branch_ZPlusMirth_33 = v36;
			branch_Token_32 = v25;
			branch_Maybe_31 = v11;
		} else {
			PTUP v39;
			uint64_t v40;
			uint64_t v41 = mw_mirth_token_Token_argsZ_2(v26, in_Token_2, &v39, &v40);
			PTUP v42 = mtw_std_maybe_Maybe_1_Some(MKU64(v40));
			branch_Maybe_35 = v42;
			branch_Token_34 = v41;
			branch_ZPlusMirth_33 = v39;
			branch_Token_32 = v25;
			branch_Maybe_31 = v11;
		}
		PTUP v43;
		PTUP v44;
		uint64_t v45 = mw_mirth_mirth_ZPlusMirth_parseZ_owner(branch_ZPlusMirth_33, branch_Token_34, &v43, &v44);
		PTUP v46;
		PTUP v47 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v43, v45, &v46);
		PTUP v48;
		uint64_t v49;
		mw_std_maybe_Maybe_1_else_1_sp13(v46, v45, v47, &v48, &v49);
		PTUP v50;
		mw_mirth_token_Token_argsZ_0(v48, v49, &v50);
		PTUP v51;
		uint64_t v52 = mw_mirth_token_Token_succ(v50, v49, &v51);
		PTUP v53;
		bool v54 = mw_mirth_token_Token_argZ_endZAsk(v51, v52, &v53);
		PTUP branch_ZPlusMirth_55;
		uint64_t branch_Token_56;
		if (v54) {
			branch_Token_56 = v49;
			branch_ZPlusMirth_55 = v53;
		} else {
			PTUP v57;
			uint64_t v58 = mw_mirth_token_Token_succ(v53, v49, &v57);
			STR* v59;
			STRLIT(v59, "expected end of argument after table name", 41);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v57, v58, v59);
		}
		branch_ZPlusMirth_23 = branch_ZPlusMirth_55;
		branch_Token_22 = branch_Token_56;
		branch_Maybe_21 = v44;
		branch_Maybe_20 = branch_Maybe_35;
		branch_Token_19 = branch_Token_32;
		branch_Maybe_18 = branch_Maybe_31;
	} else {
		PTUP v61;
		uint64_t v62 = mw_mirth_token_Token_succ(v12, in_Token_2, &v61);
		PTUP v63;
		PTUP v64;
		uint64_t v65 = mw_mirth_mirth_ZPlusMirth_parseZ_owner(v61, v62, &v63, &v64);
		PTUP v66;
		PTUP v67 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v63, v65, &v66);
		PTUP v68;
		uint64_t v69;
		mw_std_maybe_Maybe_1_else_1_sp13(v66, v65, v67, &v68, &v69);
		PTUP v70;
		mw_mirth_token_Token_argsZ_0(v68, v69, &v70);
		PTUP v71;
		uint64_t v72 = mw_mirth_token_Token_next(v70, v65, &v71);
		PTUP v73;
		PTUP v74 = mw_mirth_token_Token_lcurlyZAsk(v71, v72, &v73);
		int64_t v75 = PTREXTRA(v74);
		decref(MKTUP(v74));
		INT v76 = WRAP_I63(0LL);
		INT v77 = v76;
		INT v78 = i64_to_int(v75);
		bool v79 = int_eq(v78, v77);
		bool v80 = !v79;
		uint64_t branch_Token_81;
		PTUP branch_ZPlusMirth_82;
		PTUP branch_Maybe_83;
		if (v80) {
			PTUP v84;
			uint64_t v85 = mw_mirth_token_Token_next(v73, v72, &v84);
			PTUP v86;
			uint64_t v87 = mw_mirth_token_Token_succ(v84, v72, &v86);
			PTUP v88 = mtw_std_maybe_Maybe_1_Some(MKU64(v87));
			branch_Maybe_83 = v88;
			branch_ZPlusMirth_82 = v86;
			branch_Token_81 = v85;
		} else {
			PTUP v89 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_83 = v89;
			branch_ZPlusMirth_82 = v73;
			branch_Token_81 = v72;
		}
		branch_ZPlusMirth_23 = branch_ZPlusMirth_82;
		branch_Token_22 = v69;
		branch_Maybe_21 = v64;
		branch_Maybe_20 = branch_Maybe_83;
		branch_Token_19 = branch_Token_81;
		branch_Maybe_18 = v11;
	}
	PTUP branch_List_90;
	PTUP branch_ZPlusMirth_91;
	PTUP branch_Maybe_92;
	switch (PTREXTRA(branch_Maybe_20)) {
		case 1LL: { // Some
			VAL v93 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_20);
			PTUP v94 = PTRMK(0LL /* Nil */,0,0);
			PTUP v95;
			mw_std_list_List_1_buildZBang(v94, &v95);
			PTUP v96;
			bool v97 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(branch_ZPlusMirth_23, value_u64(v93), &v96);
			bool v98 = !v97;
			uint64_t v99 = value_u64(v93);
			PTUP r100 = v96;
			PTUP r101 = v95;
			bool v102 = v98;
			while (v102) {
				uint64_t v103 = v99;
				PTUP r104 = r100;
				PTUP r105 = r101;
				PTUP v106;
				PTUP v107;
				uint64_t v108 = mw_mirth_table_parseZ_inlineZ_fieldZBang(r104, v103, &v106, &v107);
				PTUP v109;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v107), r105, &v109);
				PTUP v110;
				bool v111 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v106, v108, &v110);
				bool v112 = !v111;
				v102 = v112;
				r101 = v109;
				r100 = v110;
				v99 = v108;
			}
			PTUP v113 = mw_std_list_ZPlusLister_1_doneZBang(r101);
			PTUP v114;
			bool v115 = mw_mirth_token_Token_sigZ_dashesZAsk(r100, v99, &v114);
			PTUP branch_List_116;
			PTUP branch_ZPlusMirth_117;
			PTUP branch_Maybe_118;
			if (v115) {
				PTUP v119;
				uint64_t v120 = mw_mirth_token_Token_succ(v114, v99, &v119);
				PTUP v121 = mtw_std_maybe_Maybe_1_Some(MKU64(v120));
				branch_Maybe_118 = v121;
				branch_ZPlusMirth_117 = v119;
				branch_List_116 = v113;
			} else {
				PTUP v122;
				bool v123 = mw_mirth_token_Token_argZ_endZAsk(v114, v99, &v122);
				PTUP branch_ZPlusMirth_124;
				uint64_t branch_Token_125;
				if (v123) {
					branch_Token_125 = v99;
					branch_ZPlusMirth_124 = v122;
				} else {
					STR* v126;
					STRLIT(v126, "Invalid syntax.", 15);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v122, v99, v126);
				}
				PTUP v129 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_118 = v129;
				branch_ZPlusMirth_117 = branch_ZPlusMirth_124;
				branch_List_116 = v113;
			}
			branch_Maybe_92 = branch_Maybe_118;
			branch_ZPlusMirth_91 = branch_ZPlusMirth_117;
			branch_List_90 = branch_List_116;
		} break;
		case 0LL: { // None
			PTUP v130 = PTRMK(0LL /* Nil */,0,0);
			PTUP v131 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_92 = v131;
			branch_ZPlusMirth_91 = branch_ZPlusMirth_23;
			branch_List_90 = v130;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_9 = branch_Maybe_92;
	*out_List_8 = branch_List_90;
	*out_Maybe_7 = branch_Maybe_18;
	*out_Token_6 = branch_Token_22;
	*out_Maybe_5 = branch_Maybe_21;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_91;
	return branch_Token_19;
}
static uint64_t mw_mirth_table_elabZ_tableZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	PTUP v11;
	PTUP v12;
	uint64_t v13 = mw_mirth_table_parseZ_tableZ_decl(in_ZPlusMirth_1, in_Token_2, &v7, &v8, &v9, &v10, &v11, &v12);
	PTUP v14;
	uint64_t v15;
	uint64_t v16;
	INT v17;
	PTUP v18;
	mw_mirth_elab_elabZ_defZ_head(v7, v9, &v14, &v15, &v16, &v17, &v18);
	decref(MKNAT(v17));
	PTUP v19;
	uint64_t v20 = mw_mirth_table_tableZ_newZBang(v14, v8, v15, v16, v18, v10, &v19);
	bool v21 = true;
	PTUP r22 = v19;
	uint64_t v23 = v20;
	PTUP v24 = v11;
	bool v25 = v21;
	bool v26 = v21;
	while (v26) {
		PTUP r27 = r22;
		uint64_t v28 = v23;
		PTUP v29 = v24;
		bool v30 = v25;
		PTUP branch_ZPlusMirth_31;
		uint64_t branch_Table_32;
		PTUP branch_List_33;
		bool branch_Bool_34;
		switch (PTREXTRA(v29)) {
			case 1LL: { // Cons
				PTUP v35;
				VAL v36 = mtp_std_list_List_1_Cons(v29, &v35);
				PTUP v37;
				uint64_t v38;
				mw_mirth_table_elabZ_inlineZ_fieldZBang(r27, v28, VTUP(v36), &v37, &v38);
				bool v39 = true;
				branch_Bool_34 = v39;
				branch_List_33 = v35;
				branch_Table_32 = v38;
				branch_ZPlusMirth_31 = v37;
			} break;
			case 0LL: { // Nil
				PTUP v40 = PTRMK(0LL /* Nil */,0,0);
				bool v41 = false;
				branch_Bool_34 = v41;
				branch_List_33 = v40;
				branch_Table_32 = v28;
				branch_ZPlusMirth_31 = r27;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v26 = branch_Bool_34;
		v25 = branch_Bool_34;
		v24 = branch_List_33;
		v23 = branch_Table_32;
		r22 = branch_ZPlusMirth_31;
	}
	decref(MKTUP(v24));
	uint64_t branch_Table_42;
	PTUP branch_ZPlusMirth_43;
	switch (PTREXTRA(v12)) {
		case 1LL: { // Some
			VAL v44 = mtp_std_maybe_Maybe_1_Some(v12);
			PTUP v45 = mw_mirth_table_Table_ZToNamespace(v23);
			PTUP v46 = PTRMK(0LL /* DefiningNamespace */,0,0);
			PTUP v47;
			PTUP v48 = mw_mirth_mirth_PropLabel_prop(r22, MKTUP(v45), v46, &v47);
			PTUP v49 = mtw_std_maybe_Maybe_1_Some(MKTUP(v48));
			PTUP v50 = VTUP(((TUP*)PTRPTR(v47))->cells[6]);
			incref(MKTUP(v50));
			incref(MKTUP(v50));
			PTUP v51 = VTUP(((TUP*)PTRPTR(v50))->cells[1]);
			incref(MKTUP(v51));
			decref(MKTUP(v50));
			VAL v52 = tup_replace(MKTUP(v50), 1, MKTUP(v49));
			PTUP v53 = VTUP(((TUP*)PTRPTR(v47))->cells[6]);
			decref(MKTUP(v53));
			((TUP*)PTRPTR(v47))->cells[6] = MKTUP(VTUP(v52));
			PTUP v54;
			uint64_t v55 = mw_mirth_elab_elabZ_declsZBang(v47, value_u64(v44), &v54);
			PTUP v56 = VTUP(((TUP*)PTRPTR(v54))->cells[6]);
			incref(MKTUP(v56));
			VAL v57 = tup_replace(MKTUP(v56), 1, MKTUP(v51));
			PTUP v58 = VTUP(((TUP*)PTRPTR(v54))->cells[6]);
			decref(MKTUP(v58));
			((TUP*)PTRPTR(v54))->cells[6] = MKTUP(VTUP(v57));
			branch_ZPlusMirth_43 = v54;
			branch_Table_42 = v23;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_43 = r22;
			branch_Table_42 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_43;
	return v13;
}
static uint64_t mw_mirth_table_parseZ_inlineZ_fieldZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_InlineFieldSyntax_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_nameZAsk(v6, in_Token_2, &v8);
	PTUP branch_ZPlusMirth_10;
	uint64_t branch_Token_11;
	VAL branch_z_x1_12;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x1_12 = v13;
			branch_Token_11 = in_Token_2;
			branch_ZPlusMirth_10 = v8;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "Expected field name.", 20);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v8, in_Token_2, v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v17;
	bool v18 = mw_mirth_name_Name_couldZ_beZ_fieldZ_nameZAsk(branch_ZPlusMirth_10, value_u64(branch_z_x1_12), &v17);
	PTUP branch_ZPlusMirth_19;
	uint64_t branch_Token_20;
	if (v18) {
		branch_Token_20 = branch_Token_11;
		branch_ZPlusMirth_19 = v17;
	} else {
		STR* v21;
		STRLIT(v21, "Invalid field name, must start with lowercase letter or tilde.", 62);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v17, branch_Token_11, v21);
	}
	PTUP v23;
	uint64_t v24 = mw_mirth_token_Token_succ(branch_ZPlusMirth_19, branch_Token_20, &v23);
	PTUP v25;
	PTUP v26 = mw_mirth_token_Token_lcolonZAsk(v23, v24, &v25);
	int64_t v27 = PTREXTRA(v26);
	decref(MKTUP(v26));
	INT v28 = WRAP_I63(0LL);
	INT v29 = v28;
	INT v30 = i64_to_int(v27);
	bool v31 = int_eq(v30, v29);
	bool v32 = !v31;
	PTUP branch_ZPlusMirth_33;
	uint64_t branch_Token_34;
	if (v32) {
		branch_Token_34 = branch_Token_20;
		branch_ZPlusMirth_33 = v25;
	} else {
		PTUP v35;
		uint64_t v36 = mw_mirth_token_Token_succ(v25, branch_Token_20, &v35);
		STR* v37;
		STRLIT(v37, "Invalid syntax, expected `: Type` after field name.", 51);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v35, v36, v37);
	}
	PTUP v39;
	uint64_t v40 = mw_mirth_token_Token_succ(branch_ZPlusMirth_33, branch_Token_34, &v39);
	PTUP v41;
	uint64_t v42 = mw_mirth_token_Token_succ(v39, v40, &v41);
	PTUP v43;
	uint64_t v44 = mw_mirth_token_Token_next(v41, in_Token_2, &v43);
	PTUP v45;
	PTUP v46 = mw_mirth_token_Token_lcurlyZAsk(v43, v44, &v45);
	uint64_t branch_Token_47;
	PTUP branch_ZPlusMirth_48;
	PTUP branch_Maybe_49;
	switch (PTREXTRA(v46)) {
		case 1LL: { // Some
			VAL v50 = mtp_std_maybe_Maybe_1_Some(v46);
			PTUP v51;
			uint64_t v52 = mw_mirth_token_Token_succ(v45, value_u64(v50), &v51);
			PTUP v53;
			uint64_t v54 = mw_mirth_token_Token_succ(v51, v44, &v53);
			PTUP v55 = mtw_std_maybe_Maybe_1_Some(MKU64(v54));
			branch_Maybe_49 = v55;
			branch_ZPlusMirth_48 = v53;
			branch_Token_47 = v52;
		} break;
		case 0LL: { // None
			PTUP v56 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_49 = v56;
			branch_ZPlusMirth_48 = v45;
			branch_Token_47 = v44;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v57 = mtw_mirth_table_InlineFieldSyntax_InlineFieldSyntax(v7, branch_Token_34, value_u64(branch_z_x1_12), v42, branch_Maybe_49);
	*out_InlineFieldSyntax_5 = v57;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_48;
	return branch_Token_47;
}
static void mw_mirth_table_elabZ_inlineZ_fieldZBang (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, PTUP in_InlineFieldSyntax_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Table_5) {
	PTUP v6;
	uint64_t v7;
	uint64_t v8;
	uint64_t v9;
	PTUP v10;
	mtp_mirth_table_InlineFieldSyntax_InlineFieldSyntax(in_InlineFieldSyntax_3, &v6, &v7, &v8, &v9, &v10);
	PTUP v11;
	uint64_t v12 = mw_mirth_table_Field_MakeZBang(in_ZPlusMirth_1, v6, v7, v10, v8, &v11);
	PTUP v13;
	uint64_t v14 = mw_mirth_table_Field_name(v11, v12, &v13);
	PTUP v15;
	STR* v16 = mw_mirth_name_Name_ZToStr(v13, v14, &v15);
	INT v17 = WRAP_I63(0LL);
	PTUP v18;
	PTUP v19 = mw_mirth_table_tableZ_qname(v15, in_Table_2, v16, v17, &v18);
	PTUP v20 = mtw_mirth_mirth_PropLabel_FieldQName(v12);
	PTUP v21;
	PTUP v22 = mw_mirth_mirth_PropLabel_prop(v18, MKTUP(v19), v20, &v21);
	void* v23 = field_mut(&mfld_mirth_table_Field_ZTildeqname, v12);
	mut_set(MKTUP(v22), v23);
	PTUP v24 = mw_mirth_table_Table_ZToType(in_Table_2);
	PTUP v25 = mtw_mirth_mirth_PropLabel_FieldIndexType(v12);
	PTUP v26;
	PTUP v27 = mw_mirth_mirth_PropLabel_prop(v21, MKTUP(v24), v25, &v26);
	void* v28 = field_mut(&mfld_mirth_table_Field_ZTildeindexZ_type, v12);
	mut_set(MKTUP(v27), v28);
	PTUP v29 = mtw_mirth_mirth_PropLabel_FieldValueType(v12);
	PTUP r30 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r30))->size = 2;
	((TUP*)PTRPTR(r30))->cells[1] = MKU64(v9);
	((TUP*)PTRPTR(r30))->cells[0] = MKU64(v12);
	PTUP v31 = VTUP(((TUP*)PTRPTR(v26))->cells[6]);
	incref(MKTUP(v31));
	FNPTR v32 = &mb_mirth_mirth_PropLabel_prop_1_sp25_0;
	PTUP v33 = mtw_mirth_mirth_PropState_1_Delay(v31, MKTUP(r30), MKFNPTR(v32));
	PTUP v34 = mtw_mirth_mirth_Prop_1_Prop(v29, v33);
	void* v35 = field_mut(&mfld_mirth_table_Field_ZTildevalueZ_type, v12);
	mut_set(MKTUP(v34), v35);
	PTUP v36 = mtw_mirth_mirth_PropLabel_FieldOwner(v12);
	PTUP v37 = VTUP(((TUP*)PTRPTR(v26))->cells[6]);
	incref(MKTUP(v37));
	FNPTR v38 = &mb_mirth_mirth_PropLabel_prop_1_sp24_0;
	PTUP v39 = mtw_mirth_mirth_PropState_1_Delay(v37, MKU64(in_Table_2), MKFNPTR(v38));
	PTUP v40 = mtw_mirth_mirth_Prop_1_Prop(v36, v39);
	void* v41 = field_mut(&mfld_mirth_table_Field_ZTildeowner, v12);
	mut_set(MKTUP(v40), v41);
	PTUP v42;
	uint64_t v43;
	mw_mirth_table_prepareZ_fieldZ_defsZBang(v26, v12, &v42, &v43);
	PTUP v44;
	PTUP v45 = mw_mirth_table_Table_inlineZ_fields(v42, in_Table_2, &v44);
	PTUP v46 = mw_std_list_List_1_Snoc(v45, MKU64(v43));
	PTUP v47;
	mw_mirth_table_Table_inlineZ_fieldsZBang(v44, v46, in_Table_2, &v47);
	*out_Table_5 = in_Table_2;
	*out_ZPlusMirth_4 = v47;
}
static uint64_t mw_mirth_table_parseZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5, PTUP *out_Maybe_6, uint64_t *out_Token_7, uint64_t *out_Token_8, uint64_t *out_Token_9, PTUP *out_Maybe_10) {
	PTUP v11;
	PTUP v12 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v11);
	PTUP v13;
	uint64_t v14 = mw_mirth_token_Token_next(v11, in_Token_2, &v13);
	PTUP v15;
	INT v16 = mw_mirth_token_Token_numZ_args(v13, in_Token_2, &v15);
	INT v17 = WRAP_I63(4LL);
	INT v18 = v17;
	INT v19 = v16;
	bool v20 = int_eq(v19, v18);
	PTUP branch_Maybe_21;
	uint64_t branch_Token_22;
	PTUP branch_ZPlusMirth_23;
	uint64_t branch_Token_24;
	uint64_t branch_Token_25;
	uint64_t branch_Token_26;
	PTUP branch_Maybe_27;
	if (v20) {
		PTUP v28;
		uint64_t v29;
		uint64_t v30;
		uint64_t v31;
		uint64_t v32 = mw_mirth_token_Token_argsZ_4(v15, in_Token_2, &v28, &v29, &v30, &v31);
		PTUP v33 = mtw_std_maybe_Maybe_1_Some(MKU64(v31));
		branch_Maybe_27 = v33;
		branch_Token_26 = v30;
		branch_Token_25 = v29;
		branch_Token_24 = v32;
		branch_ZPlusMirth_23 = v28;
		branch_Token_22 = v14;
		branch_Maybe_21 = v12;
	} else {
		PTUP v34;
		uint64_t v35;
		uint64_t v36;
		uint64_t v37 = mw_mirth_token_Token_argsZ_3(v15, in_Token_2, &v34, &v35, &v36);
		PTUP v38 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_27 = v38;
		branch_Token_26 = v36;
		branch_Token_25 = v35;
		branch_Token_24 = v37;
		branch_ZPlusMirth_23 = v34;
		branch_Token_22 = v14;
		branch_Maybe_21 = v12;
	}
	PTUP v39;
	PTUP v40;
	uint64_t v41 = mw_mirth_mirth_ZPlusMirth_parseZ_owner(branch_ZPlusMirth_23, branch_Token_24, &v39, &v40);
	PTUP v42;
	PTUP v43 = mw_mirth_token_Token_nameZDivdnameZAsk(v39, v41, &v42);
	int64_t v44 = PTREXTRA(v43);
	decref(MKTUP(v43));
	INT v45 = WRAP_I63(0LL);
	INT v46 = v45;
	INT v47 = i64_to_int(v44);
	bool v48 = int_eq(v47, v46);
	bool v49 = !v48;
	PTUP branch_ZPlusMirth_50;
	uint64_t branch_Token_51;
	if (v49) {
		branch_Token_51 = v41;
		branch_ZPlusMirth_50 = v42;
	} else {
		STR* v52;
		STRLIT(v52, "Expected field name.", 20);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v42, v41, v52);
	}
	PTUP v54;
	PTUP v55 = mw_mirth_token_Token_lastZ_nameZAsk(branch_ZPlusMirth_50, branch_Token_51, &v54);
	PTUP branch_ZPlusMirth_56;
	bool branch_Bool_57;
	switch (PTREXTRA(v55)) {
		case 1LL: { // Some
			VAL v58 = mtp_std_maybe_Maybe_1_Some(v55);
			PTUP v59;
			bool v60 = mw_mirth_name_Name_couldZ_beZ_fieldZ_nameZAsk(v54, value_u64(v58), &v59);
			branch_Bool_57 = v60;
			branch_ZPlusMirth_56 = v59;
		} break;
		case 0LL: { // None
			bool v61 = false;
			branch_Bool_57 = v61;
			branch_ZPlusMirth_56 = v54;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_62;
	uint64_t branch_Token_63;
	if (branch_Bool_57) {
		branch_Token_63 = branch_Token_51;
		branch_ZPlusMirth_62 = branch_ZPlusMirth_56;
	} else {
		STR* v64;
		STRLIT(v64, "Invalid field name, must start with lowercase letter or tilde.", 62);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_56, branch_Token_51, v64);
	}
	PTUP v66;
	mw_mirth_token_Token_argsZ_0(branch_ZPlusMirth_62, branch_Token_63, &v66);
	*out_Maybe_10 = branch_Maybe_27;
	*out_Token_9 = branch_Token_26;
	*out_Token_8 = branch_Token_25;
	*out_Token_7 = branch_Token_63;
	*out_Maybe_6 = v40;
	*out_Maybe_5 = branch_Maybe_21;
	*out_ZPlusMirth_3 = v66;
	return branch_Token_22;
}
static uint64_t mw_mirth_table_elabZ_fieldZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7;
	uint64_t v8;
	uint64_t v9;
	uint64_t v10;
	PTUP v11;
	uint64_t v12 = mw_mirth_table_parseZ_field(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	uint64_t v14;
	uint64_t v15;
	INT v16;
	PTUP v17;
	mw_mirth_elab_elabZ_defZ_head(v5, v8, &v13, &v14, &v15, &v16, &v17);
	PTUP v18;
	uint64_t v19 = mw_mirth_table_Field_MakeZBang(v13, v6, v14, v11, v15, &v18);
	INT v20 = WRAP_I63(0LL);
	INT v21 = v20;
	INT v22 = v16;
	bool v23 = int_eq(v22, v21);
	PTUP branch_ZPlusMirth_24;
	uint64_t branch_Field_25;
	if (v23) {
		branch_Field_25 = v19;
		branch_ZPlusMirth_24 = v18;
	} else {
		PTUP v26;
		uint64_t v27 = mw_mirth_table_Field_head(v18, v19, &v26);
		STR* v28;
		STRLIT(v28, "Field cannot take arguments.", 28);
		PTUP v29;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v26, v27, v28, &v29);
		branch_Field_25 = v19;
		branch_ZPlusMirth_24 = v29;
	}
	PTUP v30 = mtw_mirth_mirth_PropLabel_FieldQName(branch_Field_25);
	PTUP v31 = mtw_mirth_mirth_Prop_1_Prop(v30, v17);
	void* v32 = field_mut(&mfld_mirth_table_Field_ZTildeqname, branch_Field_25);
	mut_set(MKTUP(v31), v32);
	PTUP v33 = mtw_mirth_mirth_PropLabel_FieldIndexType(branch_Field_25);
	PTUP v34;
	PTUP v35 = mw_mirth_mirth_PropLabel_prop_1_sp16(v9, branch_ZPlusMirth_24, v33, &v34);
	void* v36 = field_mut(&mfld_mirth_table_Field_ZTildeindexZ_type, branch_Field_25);
	mut_set(MKTUP(v35), v36);
	PTUP v37 = mtw_mirth_mirth_PropLabel_FieldValueType(branch_Field_25);
	PTUP v38;
	PTUP v39 = mw_mirth_mirth_PropLabel_prop_1_sp16(v10, v34, v37, &v38);
	void* v40 = field_mut(&mfld_mirth_table_Field_ZTildevalueZ_type, branch_Field_25);
	mut_set(MKTUP(v39), v40);
	PTUP v41 = mtw_mirth_mirth_PropLabel_FieldOwner(branch_Field_25);
	PTUP r42 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r42))->size = 2;
	((TUP*)PTRPTR(r42))->cells[1] = MKTUP(v7);
	((TUP*)PTRPTR(r42))->cells[0] = MKU64(branch_Field_25);
	PTUP v43 = VTUP(((TUP*)PTRPTR(v38))->cells[6]);
	incref(MKTUP(v43));
	FNPTR v44 = &mb_mirth_mirth_PropLabel_prop_1_sp23_0;
	PTUP v45 = mtw_mirth_mirth_PropState_1_Delay(v43, MKTUP(r42), MKFNPTR(v44));
	PTUP v46 = mtw_mirth_mirth_Prop_1_Prop(v41, v45);
	void* v47 = field_mut(&mfld_mirth_table_Field_ZTildeowner, branch_Field_25);
	mut_set(MKTUP(v46), v47);
	PTUP v48;
	uint64_t v49;
	mw_mirth_table_prepareZ_fieldZ_defsZBang(v38, branch_Field_25, &v48, &v49);
	*out_ZPlusMirth_3 = v48;
	return v12;
}
static void mw_mirth_table_prepareZ_fieldZ_defsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Field_4) {
	PTUP v5;
	bool v6 = mw_mirth_table_Field_isZ_rawZAsk(in_ZPlusMirth_1, in_Field_2, &v5);
	uint64_t branch_Field_7;
	PTUP branch_ZPlusMirth_8;
	if (v6) {
		PTUP v9 = mtw_mirth_def_Def_Field(in_Field_2);
		PTUP v10;
		mw_mirth_def_Def_register(v5, v9, &v10);
		PTUP v11;
		PTUP v12 = mw_mirth_table_Field_default(v10, in_Field_2, &v11);
		PTUP branch_ZPlusMirth_13;
		switch (PTREXTRA(v12)) {
			case 1LL: { // Some
				VAL v14 = mtp_std_maybe_Maybe_1_Some(v12);
				STR* v15;
				STRLIT(v15, "Raw field cannot have a default value.", 38);
				PTUP v16;
				mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v11, value_u64(v14), v15, &v16);
				branch_ZPlusMirth_13 = v16;
			} break;
			case 0LL: { // None
				branch_ZPlusMirth_13 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusMirth_8 = branch_ZPlusMirth_13;
		branch_Field_7 = in_Field_2;
	} else {
		STR* v17;
		STRLIT(v17, "Get field value.", 16);
		PTUP v18 = mtw_std_maybe_Maybe_1_Some(MKSTR(v17));
		PTUP v19;
		uint64_t v20 = mw_mirth_table_Field_head(v5, in_Field_2, &v19);
		PTUP v21;
		uint64_t v22 = mw_mirth_table_Field_name(v19, in_Field_2, &v21);
		PTUP v23;
		STR* v24 = mw_mirth_name_Name_ZToStr(v21, v22, &v23);
		PTUP v25 = PTRMK(0LL /* Nil */,0,0);
		incref(MKTUP(v25));
		INT v26 = mw_std_list_List_1_len(v25);
		PTUP v27;
		uint64_t v28 = mw_mirth_name_Name_Name(v23, v24, &v27);
		PTUP v29 = PTRMK(0LL /* None */,0,0);
		PTUP v30;
		uint64_t v31 = mw_mirth_word_Word_NewZBang(v27, v20, v29, v20, v28, v26, v18, &v30);
		PTUP v32 = mtw_mirth_mirth_PropLabel_WordQName(v31);
		PTUP v33;
		PTUP v34 = mw_mirth_mirth_PropLabel_prop2_1_sp7(v30, in_Field_2, v31, v32, &v33);
		void* v35 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v31);
		mut_set(MKTUP(v34), v35);
		PTUP v36 = mtw_mirth_mirth_PropLabel_WordType(v31);
		PTUP v37 = VTUP(((TUP*)PTRPTR(v33))->cells[6]);
		incref(MKTUP(v37));
		FNPTR v38 = &mb_mirth_mirth_PropLabel_prop_1_sp21_0;
		PTUP v39 = mtw_mirth_mirth_PropState_1_Delay(v37, MKU64(in_Field_2), MKFNPTR(v38));
		PTUP v40 = mtw_mirth_mirth_Prop_1_Prop(v36, v39);
		void* v41 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v31);
		mut_set(MKTUP(v40), v41);
		PTUP v42 = mtw_mirth_mirth_PropLabel_WordParams(v31);
		PTUP v43;
		PTUP v44 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v33, v25, v31, v42, &v43);
		void* v45 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v31);
		mut_set(MKTUP(v44), v45);
		PTUP v46 = mtw_mirth_mirth_PropLabel_WordArrow(v31);
		PTUP r47 = PTRMK(0,tup_new(2),0);
		((TUP*)PTRPTR(r47))->size = 2;
		((TUP*)PTRPTR(r47))->cells[1] = MKU64(v31);
		((TUP*)PTRPTR(r47))->cells[0] = MKU64(in_Field_2);
		PTUP v48 = VTUP(((TUP*)PTRPTR(v43))->cells[6]);
		incref(MKTUP(v48));
		FNPTR v49 = &mb_mirth_mirth_PropLabel_prop_1_sp22_0;
		PTUP v50 = mtw_mirth_mirth_PropState_1_Delay(v48, MKTUP(r47), MKFNPTR(v49));
		PTUP v51 = mtw_mirth_mirth_Prop_1_Prop(v46, v50);
		void* v52 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v31);
		mut_set(MKTUP(v51), v52);
		STR* v53;
		STRLIT(v53, "Set field value.", 16);
		PTUP v54 = mtw_std_maybe_Maybe_1_Some(MKSTR(v53));
		PTUP v55;
		uint64_t v56 = mw_mirth_table_Field_head(v43, in_Field_2, &v55);
		PTUP v57;
		uint64_t v58 = mw_mirth_table_Field_name(v55, in_Field_2, &v57);
		PTUP v59;
		STR* v60 = mw_mirth_name_Name_ZToStr(v57, v58, &v59);
		STR* v61;
		STRLIT(v61, "!", 1);
		STR* v62 = str_cat(v60, v61);
		PTUP v63 = PTRMK(0LL /* Nil */,0,0);
		incref(MKTUP(v63));
		INT v64 = mw_std_list_List_1_len(v63);
		PTUP v65;
		uint64_t v66 = mw_mirth_name_Name_Name(v59, v62, &v65);
		PTUP v67 = PTRMK(0LL /* None */,0,0);
		PTUP v68;
		uint64_t v69 = mw_mirth_word_Word_NewZBang(v65, v56, v67, v56, v66, v64, v54, &v68);
		PTUP v70 = mtw_mirth_mirth_PropLabel_WordQName(v69);
		PTUP v71;
		PTUP v72 = mw_mirth_mirth_PropLabel_prop2_1_sp7(v68, in_Field_2, v69, v70, &v71);
		void* v73 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v69);
		mut_set(MKTUP(v72), v73);
		PTUP v74 = mtw_mirth_mirth_PropLabel_WordType(v69);
		PTUP v75 = VTUP(((TUP*)PTRPTR(v71))->cells[6]);
		incref(MKTUP(v75));
		FNPTR v76 = &mb_mirth_mirth_PropLabel_prop_1_sp17_0;
		PTUP v77 = mtw_mirth_mirth_PropState_1_Delay(v75, MKU64(in_Field_2), MKFNPTR(v76));
		PTUP v78 = mtw_mirth_mirth_Prop_1_Prop(v74, v77);
		void* v79 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v69);
		mut_set(MKTUP(v78), v79);
		PTUP v80 = mtw_mirth_mirth_PropLabel_WordParams(v69);
		PTUP v81;
		PTUP v82 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v71, v63, v69, v80, &v81);
		void* v83 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v69);
		mut_set(MKTUP(v82), v83);
		PTUP v84 = mtw_mirth_mirth_PropLabel_WordArrow(v69);
		PTUP r85 = PTRMK(0,tup_new(2),0);
		((TUP*)PTRPTR(r85))->size = 2;
		((TUP*)PTRPTR(r85))->cells[1] = MKU64(v69);
		((TUP*)PTRPTR(r85))->cells[0] = MKU64(in_Field_2);
		PTUP v86 = VTUP(((TUP*)PTRPTR(v81))->cells[6]);
		incref(MKTUP(v86));
		FNPTR v87 = &mb_mirth_mirth_PropLabel_prop_1_sp18_0;
		PTUP v88 = mtw_mirth_mirth_PropState_1_Delay(v86, MKTUP(r85), MKFNPTR(v87));
		PTUP v89 = mtw_mirth_mirth_Prop_1_Prop(v84, v88);
		void* v90 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v69);
		mut_set(MKTUP(v89), v90);
		branch_ZPlusMirth_8 = v81;
		branch_Field_7 = in_Field_2;
	}
	*out_Field_4 = branch_Field_7;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
}
static PTUP mw_mirth_tycon_Tycon_ZToNamespace (PTUP in_Tycon_1) {
	PTUP v3 = mtw_mirth_name_Namespace_Tycon(in_Tycon_1);
	return v3;
}
static PTUP mw_mirth_tycon_Tycon_tableZAsk (PTUP in_Tycon_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Tycon_1)) {
		case 1LL: { // Table
			uint64_t v4 = mtp_mirth_tycon_Tycon_Table(in_Tycon_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Tycon_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static uint64_t mw_mirth_tycon_Tycon_name (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	uint64_t branch_Name_6;
	switch (PTREXTRA(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			PTUP v8;
			uint64_t v9 = mw_mirth_data_Data_name(in_ZPlusMirth_1, v7, &v8);
			branch_Name_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 1LL: { // Table
			uint64_t v10 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			PTUP v11;
			uint64_t v12 = mw_mirth_table_Table_name(in_ZPlusMirth_1, v10, &v11);
			branch_Name_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 2LL: { // Prim
			int64_t v13 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			PTUP v14;
			PTUP v15 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, v13, &v14);
			uint64_t v16 = value_u64(((TUP*)PTRPTR(v15))->cells[1]);
			decref(MKTUP(v15));
			branch_Name_6 = v16;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Name_6;
}
static PTUP mw_mirth_tycon_Tycon_qnameZ_hard (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_QName_6;
	switch (PTREXTRA(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			PTUP v8;
			PTUP v9 = mw_mirth_data_Data_qnameZ_hard(in_ZPlusMirth_1, v7, &v8);
			branch_QName_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 1LL: { // Table
			uint64_t v10 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			PTUP v11;
			PTUP v12 = mw_mirth_table_Table_qnameZ_hard(in_ZPlusMirth_1, v10, &v11);
			branch_QName_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 2LL: { // Prim
			int64_t v13 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			PTUP v14;
			PTUP v15 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, v13, &v14);
			branch_QName_6 = v15;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static void mw_mirth_tycon_Tycon_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Tycon_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (PTREXTRA(in_Tycon_3)) {
		case 0LL: { // Data
			uint64_t v8 = mtp_mirth_tycon_Tycon_Data(in_Tycon_3);
			PTUP v9;
			STR* v10;
			mw_mirth_data_Data_qnameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v8, &v9, &v10);
			branch_ZPlusStr_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // Table
			uint64_t v11 = mtp_mirth_tycon_Tycon_Table(in_Tycon_3);
			PTUP v12;
			STR* v13;
			mw_mirth_table_Table_qnameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v11, &v12, &v13);
			branch_ZPlusStr_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // Prim
			int64_t v14 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_3);
			PTUP v15;
			PTUP v16 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, v14, &v15);
			PTUP v17;
			STR* v18;
			mw_mirth_name_QName_qnameZThen(v15, in_ZPlusStr_2, v16, &v17, &v18);
			branch_ZPlusStr_7 = v18;
			branch_ZPlusMirth_6 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static bool mw_mirth_tycon_Tycon_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP in_Tycon_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Tycon_3)) {
		case 0LL: { // Data
			uint64_t v8 = mtp_mirth_tycon_Tycon_Data(in_Tycon_3);
			PTUP branch_ZPlusMirth_9;
			bool branch_Bool_10;
			switch (PTREXTRA(in_Tycon_2)) {
				case 0LL: { // Data
					uint64_t v11 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
					bool v12 = (v8 == v11);
					branch_Bool_10 = v12;
					branch_ZPlusMirth_9 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Tycon_2));
					decref(MKU64(v8));
					bool v13 = false;
					branch_Bool_10 = v13;
					branch_ZPlusMirth_9 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_10;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_9;
		} break;
		case 1LL: { // Table
			uint64_t v14 = mtp_mirth_tycon_Tycon_Table(in_Tycon_3);
			PTUP branch_ZPlusMirth_15;
			bool branch_Bool_16;
			switch (PTREXTRA(in_Tycon_2)) {
				case 1LL: { // Table
					uint64_t v17 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
					bool v18 = (v14 == v17);
					branch_Bool_16 = v18;
					branch_ZPlusMirth_15 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Tycon_2));
					decref(MKU64(v14));
					bool v19 = false;
					branch_Bool_16 = v19;
					branch_ZPlusMirth_15 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_16;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_15;
		} break;
		case 2LL: { // Prim
			int64_t v20 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_3);
			PTUP branch_ZPlusMirth_21;
			bool branch_Bool_22;
			switch (PTREXTRA(in_Tycon_2)) {
				case 2LL: { // Prim
					int64_t v23 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
					bool v24 = mw_mirth_type_PrimType_ZEqual(v23, v20);
					branch_Bool_22 = v24;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Tycon_2));
					decref(MKI64(v20));
					bool v25 = false;
					branch_Bool_22 = v25;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_22;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static PTUP mw_mirth_tycon_Tycon_fullZ_typeZ_fresh (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Either_6;
	switch (PTREXTRA(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			PTUP v8 = mw_mirth_type_Subst_Nil();
			PTUP v9;
			PTUP v10 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, v7, &v9);
			PTUP branch_ZPlusMirth_11;
			PTUP branch_Subst_12;
			PTUP branch_Either_13;
			switch (PTREXTRA(v10)) {
				case 0LL: { // Left
					VAL v14 = mtp_std_either_Either_2_Left(v10);
					PTUP v15;
					PTUP v16;
					PTUP v17 = mw_mirth_type_Type_freshen(v9, v8, VTUP(v14), &v15, &v16);
					PTUP v18 = mtw_std_either_Either_2_Left(MKTUP(v16));
					branch_Either_13 = v18;
					branch_Subst_12 = v17;
					branch_ZPlusMirth_11 = v15;
				} break;
				case 1LL: { // Right
					VAL v19 = mtp_std_either_Either_2_Right(v10);
					PTUP v20;
					PTUP v21;
					PTUP v22 = mw_mirth_type_Resource_freshen(v9, v8, VTUP(v19), &v20, &v21);
					PTUP v23 = mtw_std_either_Either_2_Right(MKTUP(v21));
					branch_Either_13 = v23;
					branch_Subst_12 = v22;
					branch_ZPlusMirth_11 = v20;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(MKTUP(branch_Subst_12));
			branch_Either_6 = VTUP(MKTUP(branch_Either_13));
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // Prim
			int64_t v24 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			PTUP v25 = mtw_mirth_type_Type_Prim(v24);
			bool v26 = mw_mirth_type_PrimType_isZ_resourceZAsk(v24);
			PTUP branch_ZPlusMirth_27;
			PTUP branch_Either_28;
			if (v26) {
				PTUP v29 = mtw_std_either_Either_2_Right(MKTUP(v25));
				branch_Either_28 = v29;
				branch_ZPlusMirth_27 = in_ZPlusMirth_1;
			} else {
				PTUP v30 = mtw_std_either_Either_2_Left(MKTUP(v25));
				branch_Either_28 = v30;
				branch_ZPlusMirth_27 = in_ZPlusMirth_1;
			}
			branch_Either_6 = branch_Either_28;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_27;
		} break;
		case 1LL: { // Table
			uint64_t v31 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			PTUP v32 = mtw_mirth_type_Type_Table(v31);
			PTUP v33 = mtw_std_either_Either_2_Left(MKTUP(v32));
			branch_Either_6 = v33;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Either_6;
}
static bool mw_mirth_tycon_Tycon_canZ_ownZ_stateZAsk (PTUP in_ZPlusMirth_1, PTUP in_Tycon_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			PTUP v8;
			bool v9 = mw_mirth_data_Data_canZ_ownZ_stateZAsk(in_ZPlusMirth_1, v7, &v8);
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Prim
			int64_t v10 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			PTUP v11;
			bool v12 = mw_mirth_type_PrimType_canZ_ownZ_stateZAsk(in_ZPlusMirth_1, v10, &v11);
			branch_Bool_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 1LL: { // Table
			uint64_t v13 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			bool v14 = false;
			branch_Bool_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static uint64_t mw_mirth_data_Data_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_data_Data_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_data_Data_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static void mw_mirth_data_Data_docZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Data_doc, in_Data_3);
	mut_set(MKTUP(in_Maybe_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_data_Data_headZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_headZAsk, in_Data_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static void mw_mirth_data_Data_headZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Data_headZAsk, in_Data_3);
	mut_set(MKTUP(in_Maybe_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_data_Data_name (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_name, in_Data_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_data_Data_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Data_name, in_Data_3);
	mut_set(MKU64(in_Name_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static INT mw_mirth_data_Data_arity (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_arity, in_Data_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static void mw_mirth_data_Data_arityZBang (PTUP in_ZPlusMirth_1, INT in_Int_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Data_arity, in_Data_3);
	mut_set(MKINT(in_Int_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_data_Data_tags (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_tags, in_Data_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_List_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10 = PTRMK(0LL /* Nil */,0,0);
		incref(MKTUP(v10));
		mut_set(MKTUP(v10), v5);
		branch_List_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static void mw_mirth_data_Data_tagsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Data_tags, in_Data_3);
	mut_set(MKTUP(in_List_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static INT mw_mirth_data_Data_lastZ_tagZ_value (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_lastZ_tagZ_value, in_Data_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	INT branch_Int_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Int_8 = value_int(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		INT v10 = WRAP_I63(-1LL);
		incref(MKINT(v10));
		mut_set(MKINT(v10), v5);
		branch_Int_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Int_8;
}
static void mw_mirth_data_Data_lastZ_tagZ_valueZBang (PTUP in_ZPlusMirth_1, INT in_Int_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Data_lastZ_tagZ_value, in_Data_3);
	mut_set(MKINT(in_Int_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static bool mw_mirth_data_Data_isZ_resourceZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_isZ_resourceZAsk, in_Data_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Bool_8 = value_bool(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		uint64_t v11 = mw_mirth_data_Data_name(in_ZPlusMirth_1, in_Data_2, &v10);
		PTUP v12;
		bool v13 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(v10, v11, &v12);
		mut_set(MKBOOL(v13), v5);
		branch_Bool_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static PTUP mw_mirth_data_Data_unitZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_unitZAsk, in_Data_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Maybe_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, in_Data_2, &v10);
		PTUP v12 = mw_std_list_List_1_singleZAsk(v11);
		PTUP branch_ZPlusMirth_13;
		PTUP branch_Maybe_14;
		switch (PTREXTRA(v12)) {
			case 1LL: { // Some
				VAL v15 = mtp_std_maybe_Maybe_1_Some(v12);
				PTUP v16;
				INT v17 = mw_mirth_data_Tag_numZ_totalZ_inputs(v10, value_u64(v15), &v16);
				INT v18 = WRAP_I63(0LL);
				INT v19 = v18;
				INT v20 = v17;
				bool v21 = int_eq(v20, v19);
				PTUP branch_ZPlusMirth_22;
				PTUP branch_Maybe_23;
				if (v21) {
					PTUP v24 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v15)));
					branch_Maybe_23 = v24;
					branch_ZPlusMirth_22 = v16;
				} else {
					PTUP v25 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_23 = v25;
					branch_ZPlusMirth_22 = v16;
				}
				branch_Maybe_14 = branch_Maybe_23;
				branch_ZPlusMirth_13 = branch_ZPlusMirth_22;
			} break;
			case 0LL: { // None
				PTUP v26 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_14 = v26;
				branch_ZPlusMirth_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKTUP(branch_Maybe_14));
		mut_set(MKTUP(branch_Maybe_14), v5);
		branch_Maybe_8 = branch_Maybe_14;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static bool mw_mirth_data_Data_isZ_enumZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_isZ_enumZAsk, in_Data_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Bool_8 = value_bool(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		bool v11 = mw_mirth_data_Data_isZ_unitZAsk(in_ZPlusMirth_1, in_Data_2, &v10);
		bool v12 = !v11;
		PTUP branch_ZPlusMirth_13;
		bool branch_Bool_14;
		if (v12) {
			PTUP v15;
			PTUP v16 = mw_mirth_data_Data_tags(v10, in_Data_2, &v15);
			PTUP v17 = PTRMK(0LL /* None */,0,0);
			bool v18 = true;
			PTUP r19 = v15;
			PTUP v20 = v17;
			PTUP v21 = v16;
			bool v22 = v18;
			bool v23 = v18;
			while (v23) {
				PTUP r24 = r19;
				PTUP v25 = v20;
				PTUP v26 = v21;
				bool v27 = v22;
				PTUP v28;
				PTUP v29 = mw_std_list_List_1_uncons(v26, &v28);
				PTUP branch_ZPlusMirth_30;
				PTUP branch_Maybe_31;
				PTUP branch_List_32;
				bool branch_Bool_33;
				switch (PTREXTRA(v29)) {
					case 1LL: { // Some
						VAL v34 = mtp_std_maybe_Maybe_1_Some(v29);
						PTUP v35;
						INT v36 = mw_mirth_data_Tag_numZ_totalZ_inputs(r24, value_u64(v34), &v35);
						INT v37 = WRAP_I63(0LL);
						INT v38 = v37;
						INT v39 = v36;
						bool v40 = int_eq(v39, v38);
						bool v41 = !v40;
						PTUP branch_ZPlusMirth_42;
						PTUP branch_Maybe_43;
						if (v41) {
							PTUP v44 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v34)));
							branch_Maybe_43 = v44;
							branch_ZPlusMirth_42 = v35;
						} else {
							PTUP v45 = PTRMK(0LL /* None */,0,0);
							branch_Maybe_43 = v45;
							branch_ZPlusMirth_42 = v35;
						}
						PTUP branch_ZPlusMirth_46;
						PTUP branch_Maybe_47;
						PTUP branch_List_48;
						switch (PTREXTRA(branch_Maybe_43)) {
							case 0LL: { // None
								branch_List_48 = VTUP(MKTUP(v28));
								branch_Maybe_47 = VTUP(MKTUP(v25));
								branch_ZPlusMirth_46 = branch_ZPlusMirth_42;
							} break;
							default: {
								decref(MKTUP(VTUP(MKTUP(v28))));
								decref(MKTUP(VTUP(MKTUP(v25))));
								PTUP v49 = PTRMK(0LL /* Nil */,0,0);
								branch_List_48 = v49;
								branch_Maybe_47 = branch_Maybe_43;
								branch_ZPlusMirth_46 = branch_ZPlusMirth_42;
							} break;
						}
						bool v50 = true;
						branch_Bool_33 = v50;
						branch_List_32 = branch_List_48;
						branch_Maybe_31 = branch_Maybe_47;
						branch_ZPlusMirth_30 = branch_ZPlusMirth_46;
					} break;
					case 0LL: { // None
						bool v51 = false;
						branch_Bool_33 = v51;
						branch_List_32 = v28;
						branch_Maybe_31 = v25;
						branch_ZPlusMirth_30 = r24;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v23 = branch_Bool_33;
				v22 = branch_Bool_33;
				v21 = branch_List_32;
				v20 = branch_Maybe_31;
				r19 = branch_ZPlusMirth_30;
			}
			decref(MKTUP(v21));
			int64_t v52 = PTREXTRA(v20);
			decref(MKTUP(v20));
			INT v53 = WRAP_I63(0LL);
			INT v54 = v53;
			INT v55 = i64_to_int(v52);
			bool v56 = int_eq(v55, v54);
			branch_Bool_14 = v56;
			branch_ZPlusMirth_13 = r19;
		} else {
			bool v57 = false;
			branch_Bool_14 = v57;
			branch_ZPlusMirth_13 = v10;
		}
		mut_set(MKBOOL(branch_Bool_14), v5);
		branch_Bool_8 = branch_Bool_14;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static PTUP mw_mirth_data_Data_semiZ_transparentZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_semiZ_transparentZAsk, in_Data_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Maybe_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_data_Data_singleZ_tagZAsk(in_ZPlusMirth_1, in_Data_2, &v10);
		PTUP branch_ZPlusMirth_12;
		PTUP branch_Maybe_13;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Some
				VAL v14 = mtp_std_maybe_Maybe_1_Some(v11);
				PTUP v15;
				PTUP v16 = mw_mirth_data_Tag_inputs(v10, value_u64(v14), &v15);
				PTUP v17 = mw_std_list_List_1_singleZAsk(v16);
				uint64_t branch_Tag_18;
				PTUP branch_Maybe_19;
				switch (PTREXTRA(v17)) {
					case 1LL: { // Some
						VAL v20 = mtp_std_maybe_Maybe_1_Some(v17);
						PTUP v21 = mtw_mirth_data_SemiTransparentData_SemiTransparentData(value_u64(v14), VTUP(v20));
						PTUP v22 = mtw_std_maybe_Maybe_1_Some(MKTUP(v21));
						branch_Maybe_19 = v22;
						branch_Tag_18 = value_u64(v14);
					} break;
					case 0LL: { // None
						PTUP v23 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_19 = v23;
						branch_Tag_18 = value_u64(v14);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				decref(MKU64(branch_Tag_18));
				branch_Maybe_13 = VTUP(MKTUP(branch_Maybe_19));
				branch_ZPlusMirth_12 = v15;
			} break;
			case 0LL: { // None
				PTUP v24 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_13 = v24;
				branch_ZPlusMirth_12 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKTUP(branch_Maybe_13));
		mut_set(MKTUP(branch_Maybe_13), v5);
		branch_Maybe_8 = branch_Maybe_13;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_data_Data_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeqname, in_Data_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static PTUP mw_mirth_data_Data_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeqname, in_Data_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_data_Data_params (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeparams, in_Data_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_data_Data_ctypeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildectypeZAsk, in_Data_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static bool mw_mirth_data_Data_isZ_unitZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Data_unitZAsk(in_ZPlusMirth_1, in_Data_2, &v5);
	int64_t v7 = PTREXTRA(v6);
	decref(MKTUP(v6));
	INT v8 = WRAP_I63(0LL);
	INT v9 = v8;
	INT v10 = i64_to_int(v7);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	*out_ZPlusMirth_3 = v5;
	return v12;
}
static void mw_mirth_data_Data_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	uint64_t v7 = mw_mirth_data_Data_name(in_ZPlusMirth_1, in_Data_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_data_Data_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_data_Data_qnameZ_hard(in_ZPlusMirth_1, in_Data_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_QName_qnameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static INT mw_mirth_data_Data_numZ_tags (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, in_Data_2, &v5);
	INT v7 = mw_std_list_List_1_len(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static void mw_mirth_data_Data_addZ_tagZBang (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, in_Data_3, &v5);
	PTUP v7 = PTRMK(0LL /* None */,0,0);
	bool v8 = true;
	PTUP r9 = v5;
	uint64_t v10 = in_Tag_2;
	PTUP v11 = v7;
	PTUP v12 = v6;
	bool v13 = v8;
	bool v14 = v8;
	while (v14) {
		PTUP r15 = r9;
		uint64_t v16 = v10;
		PTUP v17 = v11;
		PTUP v18 = v12;
		bool v19 = v13;
		PTUP v20;
		PTUP v21 = mw_std_list_List_1_uncons(v18, &v20);
		PTUP branch_ZPlusMirth_22;
		uint64_t branch_Tag_23;
		PTUP branch_Maybe_24;
		PTUP branch_List_25;
		bool branch_Bool_26;
		switch (PTREXTRA(v21)) {
			case 1LL: { // Some
				VAL v27 = mtp_std_maybe_Maybe_1_Some(v21);
				PTUP v28;
				INT v29 = mw_mirth_data_Tag_value(r15, value_u64(v27), &v28);
				PTUP v30;
				INT v31 = mw_mirth_data_Tag_value(v28, v16, &v30);
				bool v32 = int_eq(value_int(MKINT(v29)), v31);
				PTUP branch_ZPlusMirth_33;
				uint64_t branch_Tag_34;
				PTUP branch_Maybe_35;
				if (v32) {
					PTUP v36 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v27)));
					branch_Maybe_35 = v36;
					branch_Tag_34 = v16;
					branch_ZPlusMirth_33 = v30;
				} else {
					PTUP v37 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_35 = v37;
					branch_Tag_34 = v16;
					branch_ZPlusMirth_33 = v30;
				}
				PTUP branch_ZPlusMirth_38;
				uint64_t branch_Tag_39;
				PTUP branch_Maybe_40;
				PTUP branch_List_41;
				switch (PTREXTRA(branch_Maybe_35)) {
					case 0LL: { // None
						branch_List_41 = VTUP(MKTUP(v20));
						branch_Maybe_40 = VTUP(MKTUP(v17));
						branch_Tag_39 = branch_Tag_34;
						branch_ZPlusMirth_38 = branch_ZPlusMirth_33;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v20))));
						decref(MKTUP(VTUP(MKTUP(v17))));
						PTUP v42 = PTRMK(0LL /* Nil */,0,0);
						branch_List_41 = v42;
						branch_Maybe_40 = branch_Maybe_35;
						branch_Tag_39 = branch_Tag_34;
						branch_ZPlusMirth_38 = branch_ZPlusMirth_33;
					} break;
				}
				bool v43 = true;
				branch_Bool_26 = v43;
				branch_List_25 = branch_List_41;
				branch_Maybe_24 = branch_Maybe_40;
				branch_Tag_23 = branch_Tag_39;
				branch_ZPlusMirth_22 = branch_ZPlusMirth_38;
			} break;
			case 0LL: { // None
				bool v44 = false;
				branch_Bool_26 = v44;
				branch_List_25 = v20;
				branch_Maybe_24 = v17;
				branch_Tag_23 = v16;
				branch_ZPlusMirth_22 = r15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_26;
		v13 = branch_Bool_26;
		v12 = branch_List_25;
		v11 = branch_Maybe_24;
		v10 = branch_Tag_23;
		r9 = branch_ZPlusMirth_22;
	}
	decref(MKTUP(v12));
	uint64_t branch_Tag_45;
	uint64_t branch_Data_46;
	PTUP branch_ZPlusMirth_47;
	switch (PTREXTRA(v11)) {
		case 1LL: { // Some
			VAL v48 = mtp_std_maybe_Maybe_1_Some(v11);
			STR* v49;
			STRLIT(v49, "", 0);
			STR* v50;
			STRLIT(v50, "Constructors ", 13);
			STR* v51;
			mw_std_str_ZPlusStr_pushZ_strZBang(v50, v49, &v51);
			PTUP v52;
			STR* v53;
			mw_mirth_data_Tag_nameZThen(r9, v51, value_u64(v48), &v52, &v53);
			STR* v54;
			STRLIT(v54, " and ", 5);
			STR* v55;
			mw_std_str_ZPlusStr_pushZ_strZBang(v54, v53, &v55);
			PTUP v56;
			STR* v57;
			mw_mirth_data_Tag_nameZThen(v52, v55, v10, &v56, &v57);
			STR* v58;
			STRLIT(v58, " have the same enum value.", 26);
			STR* v59;
			mw_std_str_ZPlusStr_pushZ_strZBang(v58, v57, &v59);
			PTUP v60;
			PTUP v61 = mw_mirth_data_Data_headZAsk(v56, in_Data_3, &v60);
			PTUP v62;
			mw_std_maybe_Maybe_1_ifZAsk_2_sp62(v60, v59, v61, &v62);
			branch_ZPlusMirth_47 = v62;
			branch_Data_46 = in_Data_3;
			branch_Tag_45 = v10;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_47 = r9;
			branch_Data_46 = in_Data_3;
			branch_Tag_45 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v63;
	INT v64 = mw_mirth_data_Tag_value(branch_ZPlusMirth_47, branch_Tag_45, &v63);
	PTUP v65;
	mw_mirth_data_Data_lastZ_tagZ_valueZBang(v63, v64, branch_Data_46, &v65);
	PTUP v66;
	PTUP v67 = mw_mirth_data_Data_tags(v65, branch_Data_46, &v66);
	PTUP v68 = mw_std_list_List_1_Snoc(v67, MKU64(branch_Tag_45));
	PTUP v69;
	mw_mirth_data_Data_tagsZBang(v66, v68, branch_Data_46, &v69);
	*out_ZPlusMirth_4 = v69;
}
static bool mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_data_Data_isZ_unitZAsk(in_ZPlusMirth_1, in_Data_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		bool v9 = true;
		branch_Bool_8 = v9;
		branch_ZPlusMirth_7 = v5;
	} else {
		PTUP v10;
		bool v11 = mw_mirth_data_Data_isZ_enumZAsk(v5, in_Data_2, &v10);
		branch_Bool_8 = v11;
		branch_ZPlusMirth_7 = v10;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static PTUP mw_mirth_data_Data_singleZ_tagZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, in_Data_2, &v5);
	PTUP v7 = mw_std_list_List_1_singleZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_data_Data_isZ_valueZ_typeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_data_Data_isZ_resourceZAsk(in_ZPlusMirth_1, in_Data_2, &v5);
	bool v7 = !v6;
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_data_Data_appliedZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mtw_mirth_type_Type_Data(in_Data_2);
	PTUP v6;
	PTUP v7 = mw_mirth_data_Data_params(in_ZPlusMirth_1, in_Data_2, &v6);
	PTUP v8 = mw_std_list_List_1_for_1_sp66(v5, v7);
	*out_ZPlusMirth_3 = v6;
	return v8;
}
static PTUP mw_mirth_data_Data_fullZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Data_appliedZ_type(in_ZPlusMirth_1, in_Data_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_data_Data_isZ_valueZ_typeZAsk(v5, in_Data_2, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_Either_10;
	if (v8) {
		PTUP v11 = mtw_std_either_Either_2_Left(MKTUP(v6));
		branch_Either_10 = v11;
		branch_ZPlusMirth_9 = v7;
	} else {
		PTUP v12 = mtw_std_either_Either_2_Right(MKTUP(v6));
		branch_Either_10 = v12;
		branch_ZPlusMirth_9 = v7;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Either_10;
}
static bool mw_mirth_data_Data_canZ_ownZ_stateZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_data_Data_isZ_resourceZAsk(in_ZPlusMirth_1, in_Data_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		PTUP v9;
		PTUP v10 = mw_mirth_data_Data_singleZ_tagZAsk(v5, in_Data_2, &v9);
		int64_t v11 = PTREXTRA(v10);
		decref(MKTUP(v10));
		INT v12 = WRAP_I63(0LL);
		INT v13 = v12;
		INT v14 = i64_to_int(v11);
		bool v15 = int_eq(v14, v13);
		bool v16 = !v15;
		branch_Bool_8 = v16;
		branch_ZPlusMirth_7 = v9;
	} else {
		bool v17 = false;
		branch_Bool_8 = v17;
		branch_ZPlusMirth_7 = v5;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static PTUP mw_mirth_data_Data_unifyZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	incref(MKU64(in_Data_2));
	incref(MKU64(in_Data_3));
	bool v6 = (value_u64(MKU64(in_Data_3)) == value_u64(MKU64(in_Data_2)));
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Type_8;
	if (v6) {
		PTUP v9 = mtw_mirth_type_Type_Data(value_u64(MKU64(in_Data_2)));
		branch_Type_8 = v9;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10 = mtw_mirth_type_Type_Data(value_u64(MKU64(in_Data_2)));
		PTUP v11 = mtw_mirth_type_Type_Data(value_u64(MKU64(in_Data_3)));
		PTUP v12;
		PTUP v13 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v10, v11, &v12);
		branch_Type_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static PTUP mw_mirth_data_Data_ctype1ZAsk (PTUP in_ZPlusMirth_1, PTUP in_CType_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_mirth_ZPlusMirth_builtin(in_ZPlusMirth_1, &v6);
	uint64_t v8 = value_u64(((TUP*)PTRPTR(v7))->cells[32]);
	decref(MKTUP(v7));
	bool v9 = (v8 == in_Data_3);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_Maybe_11;
	if (v9) {
		PTUP v12 = mw_mirth_type_CType_ptr(in_CType_2);
		PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12));
		branch_Maybe_11 = v13;
		branch_ZPlusMirth_10 = v6;
	} else {
		PTUP v14;
		PTUP v15 = mw_mirth_mirth_ZPlusMirth_builtin(v6, &v14);
		uint64_t v16 = value_u64(((TUP*)PTRPTR(v15))->cells[34]);
		decref(MKTUP(v15));
		bool v17 = (v16 == in_Data_3);
		PTUP branch_ZPlusMirth_18;
		PTUP branch_Maybe_19;
		if (v17) {
			PTUP v20 = mw_mirth_type_CType_const(in_CType_2);
			PTUP v21 = mtw_std_maybe_Maybe_1_Some(MKTUP(v20));
			branch_Maybe_19 = v21;
			branch_ZPlusMirth_18 = v14;
		} else {
			PTUP v22;
			PTUP v23 = mw_mirth_mirth_ZPlusMirth_builtin(v14, &v22);
			uint64_t v24 = value_u64(((TUP*)PTRPTR(v23))->cells[36]);
			decref(MKTUP(v23));
			bool v25 = (v24 == in_Data_3);
			PTUP branch_ZPlusMirth_26;
			PTUP branch_Maybe_27;
			if (v25) {
				PTUP v28 = mw_mirth_type_CType_restrict(in_CType_2);
				PTUP v29 = mtw_std_maybe_Maybe_1_Some(MKTUP(v28));
				branch_Maybe_27 = v29;
				branch_ZPlusMirth_26 = v22;
			} else {
				PTUP v30;
				PTUP v31 = mw_mirth_mirth_ZPlusMirth_builtin(v22, &v30);
				uint64_t v32 = value_u64(((TUP*)PTRPTR(v31))->cells[38]);
				decref(MKTUP(v31));
				bool v33 = (v32 == in_Data_3);
				PTUP branch_ZPlusMirth_34;
				PTUP branch_Maybe_35;
				if (v33) {
					PTUP v36 = mw_mirth_type_CType_volatile(in_CType_2);
					PTUP v37 = mtw_std_maybe_Maybe_1_Some(MKTUP(v36));
					branch_Maybe_35 = v37;
					branch_ZPlusMirth_34 = v30;
				} else {
					decref(MKU64(in_Data_3));
					decref(MKTUP(in_CType_2));
					PTUP v38 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_35 = v38;
					branch_ZPlusMirth_34 = v30;
				}
				branch_Maybe_27 = branch_Maybe_35;
				branch_ZPlusMirth_26 = branch_ZPlusMirth_34;
			}
			branch_Maybe_19 = branch_Maybe_27;
			branch_ZPlusMirth_18 = branch_ZPlusMirth_26;
		}
		branch_Maybe_11 = branch_Maybe_19;
		branch_ZPlusMirth_10 = branch_ZPlusMirth_18;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Maybe_11;
}
static PTUP mw_mirth_data_Data_ZToTycon (uint64_t in_Data_1) {
	PTUP v3 = mtw_mirth_tycon_Tycon_Data(in_Data_1);
	return v3;
}
static PTUP mw_mirth_data_Data_ZToNamespace (uint64_t in_Data_1) {
	PTUP v3 = mw_mirth_data_Data_ZToTycon(in_Data_1);
	PTUP v4 = mw_mirth_tycon_Tycon_ZToNamespace(v3);
	return v4;
}
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_List_3, uint64_t in_Data_4, PTUP in_List_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7) {
	incref(MKTUP(in_List_3));
	INT v8 = mw_std_list_List_1_len(in_List_3);
	INT v9 = v8;
	incref(MKINT(v9));
	PTUP v10;
	mw_mirth_data_Data_arityZBang(in_ZPlusMirth_1, v9, in_Data_4, &v10);
	incref(MKSTR(in_Str_2));
	PTUP v11;
	uint64_t v12 = mw_mirth_name_Name_Name(v10, in_Str_2, &v11);
	PTUP v13;
	mw_mirth_data_Data_nameZBang(v11, v12, in_Data_4, &v13);
	PTUP v14;
	PTUP v15 = mw_mirth_name_QName_Prim(v13, in_Str_2, v9, &v14);
	PTUP v16 = mtw_mirth_mirth_PropLabel_DataQName(in_Data_4);
	PTUP v17;
	PTUP v18 = mw_mirth_mirth_PropLabel_prop(v14, MKTUP(v15), v16, &v17);
	void* v19 = field_mut(&mfld_mirth_data_Data_ZTildeqname, in_Data_4);
	mut_set(MKTUP(v18), v19);
	PTUP v20 = mtw_mirth_mirth_PropLabel_DataCType(in_Data_4);
	PTUP v21;
	PTUP v22 = mw_mirth_mirth_PropLabel_prop(v17, MKTUP(in_Maybe_6), v20, &v21);
	void* v23 = field_mut(&mfld_mirth_data_Data_ZTildectypeZAsk, in_Data_4);
	mut_set(MKTUP(v22), v23);
	incref(MKTUP(in_List_5));
	bool v24 = true;
	PTUP r25 = v21;
	uint64_t v26 = in_Data_4;
	PTUP v27 = in_List_5;
	bool v28 = v24;
	bool v29 = v24;
	while (v29) {
		PTUP r30 = r25;
		uint64_t v31 = v26;
		PTUP v32 = v27;
		bool v33 = v28;
		uint64_t branch_Data_34;
		PTUP branch_ZPlusMirth_35;
		PTUP branch_List_36;
		bool branch_Bool_37;
		switch (PTREXTRA(v32)) {
			case 1LL: { // Cons
				PTUP v38;
				VAL v39 = mtp_std_list_List_1_Cons(v32, &v38);
				PTUP v40;
				mw_mirth_data_Tag_dataZBang(r30, v31, value_u64(v39), &v40);
				bool v41 = true;
				branch_Bool_37 = v41;
				branch_List_36 = v38;
				branch_ZPlusMirth_35 = v40;
				branch_Data_34 = v31;
			} break;
			case 0LL: { // Nil
				PTUP v42 = PTRMK(0LL /* Nil */,0,0);
				bool v43 = false;
				branch_Bool_37 = v43;
				branch_List_36 = v42;
				branch_ZPlusMirth_35 = r30;
				branch_Data_34 = v31;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v29 = branch_Bool_37;
		v28 = branch_Bool_37;
		v27 = branch_List_36;
		v26 = branch_Data_34;
		r25 = branch_ZPlusMirth_35;
	}
	decref(MKTUP(v27));
	PTUP v44;
	mw_mirth_data_Data_tagsZBang(r25, in_List_5, v26, &v44);
	PTUP v45 = mtw_mirth_mirth_PropLabel_DataParams(v26);
	PTUP v46;
	PTUP v47 = mw_mirth_mirth_PropLabel_prop(v44, MKTUP(in_List_3), v45, &v46);
	void* v48 = field_mut(&mfld_mirth_data_Data_ZTildeparams, v26);
	mut_set(MKTUP(v47), v48);
	PTUP v49 = PTRMK(0LL /* None */,0,0);
	PTUP v50;
	mw_mirth_data_Data_headZAskZBang(v46, v49, v26, &v50);
	PTUP v51 = mtw_mirth_def_Def_Data(v26);
	PTUP v52;
	mw_mirth_def_Def_register(v50, v51, &v52);
	*out_ZPlusMirth_7 = v52;
}
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, PTUP in_List_4, uint64_t in_Tag_5, PTUP *out_ZPlusMirth_6) {
	PTUP v7;
	uint64_t v8 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, in_Str_2, &v7);
	PTUP v9;
	mw_mirth_data_Tag_nameZBang(v7, v8, in_Tag_5, &v9);
	PTUP v10;
	mw_mirth_data_Tag_valueZBang(v9, in_Int_3, in_Tag_5, &v10);
	PTUP v11 = PTRMK(0LL /* None */,0,0);
	PTUP v12;
	mw_mirth_data_Tag_sigZAskZBang(v10, v11, in_Tag_5, &v12);
	PTUP v13 = PTRMK(0LL /* None */,0,0);
	PTUP v14;
	mw_mirth_data_Tag_docZBang(v12, v13, in_Tag_5, &v14);
	incref(MKTUP(in_List_4));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16;
	mw_std_list_List_1_buildZBang(v15, &v16);
	bool v17 = true;
	PTUP r18 = v16;
	PTUP v19 = in_List_4;
	bool v20 = v17;
	bool v21 = v17;
	while (v21) {
		PTUP r22 = r18;
		PTUP v23 = v19;
		bool v24 = v20;
		PTUP branch_ZPlusLister_25;
		PTUP branch_List_26;
		bool branch_Bool_27;
		switch (PTREXTRA(v23)) {
			case 1LL: { // Cons
				PTUP v28;
				VAL v29 = mtp_std_list_List_1_Cons(v23, &v28);
				PTUP v30 = mtw_mirth_type_StackTypePart_Cons(VTUP(v29));
				PTUP v31;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v30), r22, &v31);
				bool v32 = true;
				branch_Bool_27 = v32;
				branch_List_26 = v28;
				branch_ZPlusLister_25 = v31;
			} break;
			case 0LL: { // Nil
				PTUP v33 = PTRMK(0LL /* Nil */,0,0);
				bool v34 = false;
				branch_Bool_27 = v34;
				branch_List_26 = v33;
				branch_ZPlusLister_25 = r22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_27;
		v20 = branch_Bool_27;
		v19 = branch_List_26;
		r18 = branch_ZPlusLister_25;
	}
	decref(MKTUP(v19));
	PTUP v35 = mw_std_list_ZPlusLister_1_doneZBang(r18);
	PTUP v36;
	mw_mirth_data_Tag_inputsZBang(v14, v35, in_Tag_5, &v36);
	incref(MKTUP(in_List_4));
	INT v37 = mw_std_list_List_1_len(in_List_4);
	PTUP v38;
	mw_mirth_data_Tag_numZ_typeZ_inputsZBang(v36, v37, in_Tag_5, &v38);
	INT v39 = WRAP_I63(0LL);
	PTUP v40;
	mw_mirth_data_Tag_numZ_resourceZ_inputsZBang(v38, v39, in_Tag_5, &v40);
	PTUP v41 = PTRMK(0LL /* Nil */,0,0);
	PTUP v42;
	mw_mirth_data_Tag_labelZ_inputsZBang(v40, v41, in_Tag_5, &v42);
	PTUP v43;
	uint64_t v44 = mw_mirth_data_Tag_data(v42, in_Tag_5, &v43);
	PTUP v45;
	PTUP v46 = mw_mirth_data_Data_params(v43, v44, &v45);
	PTUP v47 = mw_std_list_List_1_ZToCtx(v46);
	PTUP v48 = mw_mirth_type_T0();
	PTUP v49 = mw_std_list_List_1_for_1_sp84(v48, in_List_4);
	PTUP v50 = mw_mirth_type_T0();
	PTUP v51;
	uint64_t v52 = mw_mirth_data_Tag_data(v45, in_Tag_5, &v51);
	PTUP v53;
	PTUP v54 = mw_mirth_data_Data_fullZ_type(v51, v52, &v53);
	PTUP v55 = mw_mirth_type_TZMulZPlus(v50, v54);
	PTUP v56 = mw_mirth_type_TZ_ZTo(v49, v55);
	PTUP v57 = mtw_mirth_mirth_PropLabel_TagType(in_Tag_5);
	PTUP v58;
	PTUP v59 = mw_mirth_mirth_PropLabel_prop2(v53, MKTUP(v47), MKTUP(v56), v57, &v58);
	void* v60 = field_mut(&mfld_mirth_data_Tag_ZTildectxZ_type, in_Tag_5);
	mut_set(MKTUP(v59), v60);
	PTUP v61 = mtw_mirth_def_Def_Tag(in_Tag_5);
	PTUP v62;
	mw_mirth_def_Def_register(v58, v61, &v62);
	*out_ZPlusMirth_6 = v62;
}
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Data_3, STR* in_Str_4, uint64_t in_Tag_5, STR* in_Str_6, PTUP *out_ZPlusMirth_7) {
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9 = PTRMK(0LL /* Nil */,0,0);
	PTUP v10 = mw_std_list_List_1_cons(MKU64(in_Tag_5), v9);
	PTUP v11 = mtw_mirth_type_CType_Int(in_Str_6);
	PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11));
	PTUP v13;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(in_ZPlusMirth_1, in_Str_2, v8, in_Data_3, v10, v12, &v13);
	INT v14 = WRAP_I63(0LL);
	PTUP v15 = mw_mirth_type_Type_I64();
	PTUP v16 = PTRMK(0LL /* Nil */,0,0);
	PTUP v17 = mw_std_list_List_1_cons(MKTUP(v15), v16);
	PTUP v18;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v13, in_Str_4, v14, v17, in_Tag_5, &v18);
	*out_ZPlusMirth_7 = v18;
}
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Data_3, STR* in_Str_4, uint64_t in_Tag_5, STR* in_Str_6, PTUP *out_ZPlusMirth_7) {
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9 = PTRMK(0LL /* Nil */,0,0);
	PTUP v10 = mw_std_list_List_1_cons(MKU64(in_Tag_5), v9);
	PTUP v11 = mtw_mirth_type_CType_UInt(in_Str_6);
	PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11));
	PTUP v13;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(in_ZPlusMirth_1, in_Str_2, v8, in_Data_3, v10, v12, &v13);
	INT v14 = WRAP_I63(0LL);
	PTUP v15 = mw_mirth_type_Type_U64();
	PTUP v16 = PTRMK(0LL /* Nil */,0,0);
	PTUP v17 = mw_std_list_List_1_cons(MKTUP(v15), v16);
	PTUP v18;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v13, in_Str_4, v14, v17, in_Tag_5, &v18);
	*out_ZPlusMirth_7 = v18;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_dataZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v3 = mw_mirth_type_Type_TYPE();
	STR* v4;
	STRLIT(v4, "a", 1);
	PTUP v5;
	uint64_t v6 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v4, &v5);
	PTUP v7;
	uint64_t v8 = mw_mirth_var_Var_NewZBang(v5, v3, v6, &v7);
	STR* v9;
	STRLIT(v9, "CPtr", 4);
	PTUP v10 = PTRMK(0LL /* Nil */,0,0);
	PTUP v11 = mw_std_list_List_1_cons(MKU64(v8), v10);
	PTUP v12;
	PTUP v13 = mw_mirth_mirth_ZPlusMirth_builtin(v7, &v12);
	uint64_t v14 = value_u64(((TUP*)PTRPTR(v13))->cells[32]);
	decref(MKTUP(v13));
	PTUP v15;
	PTUP v16 = mw_mirth_mirth_ZPlusMirth_builtin(v12, &v15);
	uint64_t v17 = value_u64(((TUP*)PTRPTR(v16))->cells[33]);
	decref(MKTUP(v16));
	PTUP v18 = PTRMK(0LL /* Nil */,0,0);
	PTUP v19 = mw_std_list_List_1_cons(MKU64(v17), v18);
	PTUP v20 = PTRMK(0LL /* None */,0,0);
	PTUP v21;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v15, v9, v11, v14, v19, v20, &v21);
	STR* v22;
	STRLIT(v22, "CPtr", 4);
	INT v23 = WRAP_I63(0LL);
	PTUP v24 = mw_mirth_type_Type_Ptr();
	PTUP v25 = PTRMK(0LL /* Nil */,0,0);
	PTUP v26 = mw_std_list_List_1_cons(MKTUP(v24), v25);
	PTUP v27;
	PTUP v28 = mw_mirth_mirth_ZPlusMirth_builtin(v21, &v27);
	uint64_t v29 = value_u64(((TUP*)PTRPTR(v28))->cells[33]);
	decref(MKTUP(v28));
	PTUP v30;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v27, v22, v23, v26, v29, &v30);
	STR* v31;
	STRLIT(v31, "CConst", 6);
	PTUP v32 = PTRMK(0LL /* Nil */,0,0);
	PTUP v33 = mw_std_list_List_1_cons(MKU64(v8), v32);
	PTUP v34;
	PTUP v35 = mw_mirth_mirth_ZPlusMirth_builtin(v30, &v34);
	uint64_t v36 = value_u64(((TUP*)PTRPTR(v35))->cells[34]);
	decref(MKTUP(v35));
	PTUP v37;
	PTUP v38 = mw_mirth_mirth_ZPlusMirth_builtin(v34, &v37);
	uint64_t v39 = value_u64(((TUP*)PTRPTR(v38))->cells[35]);
	decref(MKTUP(v38));
	PTUP v40 = PTRMK(0LL /* Nil */,0,0);
	PTUP v41 = mw_std_list_List_1_cons(MKU64(v39), v40);
	PTUP v42 = PTRMK(0LL /* None */,0,0);
	PTUP v43;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v37, v31, v33, v36, v41, v42, &v43);
	STR* v44;
	STRLIT(v44, "CConst", 6);
	INT v45 = WRAP_I63(0LL);
	PTUP v46 = mtw_mirth_type_Type_Var(v8);
	PTUP v47 = PTRMK(0LL /* Nil */,0,0);
	PTUP v48 = mw_std_list_List_1_cons(MKTUP(v46), v47);
	PTUP v49;
	PTUP v50 = mw_mirth_mirth_ZPlusMirth_builtin(v43, &v49);
	uint64_t v51 = value_u64(((TUP*)PTRPTR(v50))->cells[35]);
	decref(MKTUP(v50));
	PTUP v52;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v49, v44, v45, v48, v51, &v52);
	STR* v53;
	STRLIT(v53, "CRestrict", 9);
	PTUP v54 = PTRMK(0LL /* Nil */,0,0);
	PTUP v55 = mw_std_list_List_1_cons(MKU64(v8), v54);
	PTUP v56;
	PTUP v57 = mw_mirth_mirth_ZPlusMirth_builtin(v52, &v56);
	uint64_t v58 = value_u64(((TUP*)PTRPTR(v57))->cells[36]);
	decref(MKTUP(v57));
	PTUP v59;
	PTUP v60 = mw_mirth_mirth_ZPlusMirth_builtin(v56, &v59);
	uint64_t v61 = value_u64(((TUP*)PTRPTR(v60))->cells[37]);
	decref(MKTUP(v60));
	PTUP v62 = PTRMK(0LL /* Nil */,0,0);
	PTUP v63 = mw_std_list_List_1_cons(MKU64(v61), v62);
	PTUP v64 = PTRMK(0LL /* None */,0,0);
	PTUP v65;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v59, v53, v55, v58, v63, v64, &v65);
	STR* v66;
	STRLIT(v66, "CRestrict", 9);
	INT v67 = WRAP_I63(0LL);
	PTUP v68 = mtw_mirth_type_Type_Var(v8);
	PTUP v69 = PTRMK(0LL /* Nil */,0,0);
	PTUP v70 = mw_std_list_List_1_cons(MKTUP(v68), v69);
	PTUP v71;
	PTUP v72 = mw_mirth_mirth_ZPlusMirth_builtin(v65, &v71);
	uint64_t v73 = value_u64(((TUP*)PTRPTR(v72))->cells[37]);
	decref(MKTUP(v72));
	PTUP v74;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v71, v66, v67, v70, v73, &v74);
	STR* v75;
	STRLIT(v75, "CVolatile", 9);
	PTUP v76 = PTRMK(0LL /* Nil */,0,0);
	PTUP v77 = mw_std_list_List_1_cons(MKU64(v8), v76);
	PTUP v78;
	PTUP v79 = mw_mirth_mirth_ZPlusMirth_builtin(v74, &v78);
	uint64_t v80 = value_u64(((TUP*)PTRPTR(v79))->cells[38]);
	decref(MKTUP(v79));
	PTUP v81;
	PTUP v82 = mw_mirth_mirth_ZPlusMirth_builtin(v78, &v81);
	uint64_t v83 = value_u64(((TUP*)PTRPTR(v82))->cells[39]);
	decref(MKTUP(v82));
	PTUP v84 = PTRMK(0LL /* Nil */,0,0);
	PTUP v85 = mw_std_list_List_1_cons(MKU64(v83), v84);
	PTUP v86 = PTRMK(0LL /* None */,0,0);
	PTUP v87;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v81, v75, v77, v80, v85, v86, &v87);
	STR* v88;
	STRLIT(v88, "CVolatile", 9);
	INT v89 = WRAP_I63(0LL);
	PTUP v90 = mtw_mirth_type_Type_Var(v8);
	PTUP v91 = PTRMK(0LL /* Nil */,0,0);
	PTUP v92 = mw_std_list_List_1_cons(MKTUP(v90), v91);
	PTUP v93;
	PTUP v94 = mw_mirth_mirth_ZPlusMirth_builtin(v87, &v93);
	uint64_t v95 = value_u64(((TUP*)PTRPTR(v94))->cells[39]);
	decref(MKTUP(v94));
	PTUP v96;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v93, v88, v89, v92, v95, &v96);
	STR* v97;
	STRLIT(v97, "CVoid", 5);
	PTUP v98 = PTRMK(0LL /* Nil */,0,0);
	PTUP v99;
	PTUP v100 = mw_mirth_mirth_ZPlusMirth_builtin(v96, &v99);
	uint64_t v101 = value_u64(((TUP*)PTRPTR(v100))->cells[40]);
	decref(MKTUP(v100));
	PTUP v102;
	PTUP v103 = mw_mirth_mirth_ZPlusMirth_builtin(v99, &v102);
	uint64_t v104 = value_u64(((TUP*)PTRPTR(v103))->cells[41]);
	decref(MKTUP(v103));
	PTUP v105 = PTRMK(0LL /* Nil */,0,0);
	PTUP v106 = mw_std_list_List_1_cons(MKU64(v104), v105);
	STR* v107;
	STRLIT(v107, "void", 4);
	PTUP v108 = mtw_mirth_type_CType_Void(v107);
	PTUP v109 = mtw_std_maybe_Maybe_1_Some(MKTUP(v108));
	PTUP v110;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v102, v97, v98, v101, v106, v109, &v110);
	STR* v111;
	STRLIT(v111, "CVoid", 5);
	INT v112 = WRAP_I63(0LL);
	PTUP v113 = PTRMK(0LL /* Nil */,0,0);
	PTUP v114;
	PTUP v115 = mw_mirth_mirth_ZPlusMirth_builtin(v110, &v114);
	uint64_t v116 = value_u64(((TUP*)PTRPTR(v115))->cells[41]);
	decref(MKTUP(v115));
	PTUP v117;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v114, v111, v112, v113, v116, &v117);
	STR* v118;
	STRLIT(v118, "CChar", 5);
	PTUP v119;
	PTUP v120 = mw_mirth_mirth_ZPlusMirth_builtin(v117, &v119);
	uint64_t v121 = value_u64(((TUP*)PTRPTR(v120))->cells[2]);
	decref(MKTUP(v120));
	STR* v122;
	STRLIT(v122, "CChar", 5);
	PTUP v123;
	PTUP v124 = mw_mirth_mirth_ZPlusMirth_builtin(v119, &v123);
	uint64_t v125 = value_u64(((TUP*)PTRPTR(v124))->cells[3]);
	decref(MKTUP(v124));
	STR* v126;
	STRLIT(v126, "char", 4);
	PTUP v127;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v123, v118, v121, v122, v125, v126, &v127);
	STR* v128;
	STRLIT(v128, "CIChar", 6);
	PTUP v129;
	PTUP v130 = mw_mirth_mirth_ZPlusMirth_builtin(v127, &v129);
	uint64_t v131 = value_u64(((TUP*)PTRPTR(v130))->cells[4]);
	decref(MKTUP(v130));
	STR* v132;
	STRLIT(v132, "CIChar", 6);
	PTUP v133;
	PTUP v134 = mw_mirth_mirth_ZPlusMirth_builtin(v129, &v133);
	uint64_t v135 = value_u64(((TUP*)PTRPTR(v134))->cells[5]);
	decref(MKTUP(v134));
	STR* v136;
	STRLIT(v136, "signed char", 11);
	PTUP v137;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v133, v128, v131, v132, v135, v136, &v137);
	STR* v138;
	STRLIT(v138, "CShort", 6);
	PTUP v139;
	PTUP v140 = mw_mirth_mirth_ZPlusMirth_builtin(v137, &v139);
	uint64_t v141 = value_u64(((TUP*)PTRPTR(v140))->cells[6]);
	decref(MKTUP(v140));
	STR* v142;
	STRLIT(v142, "CShort", 6);
	PTUP v143;
	PTUP v144 = mw_mirth_mirth_ZPlusMirth_builtin(v139, &v143);
	uint64_t v145 = value_u64(((TUP*)PTRPTR(v144))->cells[7]);
	decref(MKTUP(v144));
	STR* v146;
	STRLIT(v146, "short", 5);
	PTUP v147;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v143, v138, v141, v142, v145, v146, &v147);
	STR* v148;
	STRLIT(v148, "CInt", 4);
	PTUP v149;
	PTUP v150 = mw_mirth_mirth_ZPlusMirth_builtin(v147, &v149);
	uint64_t v151 = value_u64(((TUP*)PTRPTR(v150))->cells[8]);
	decref(MKTUP(v150));
	STR* v152;
	STRLIT(v152, "CInt", 4);
	PTUP v153;
	PTUP v154 = mw_mirth_mirth_ZPlusMirth_builtin(v149, &v153);
	uint64_t v155 = value_u64(((TUP*)PTRPTR(v154))->cells[9]);
	decref(MKTUP(v154));
	STR* v156;
	STRLIT(v156, "int", 3);
	PTUP v157;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v153, v148, v151, v152, v155, v156, &v157);
	STR* v158;
	STRLIT(v158, "CLong", 5);
	PTUP v159;
	PTUP v160 = mw_mirth_mirth_ZPlusMirth_builtin(v157, &v159);
	uint64_t v161 = value_u64(((TUP*)PTRPTR(v160))->cells[10]);
	decref(MKTUP(v160));
	STR* v162;
	STRLIT(v162, "CLong", 5);
	PTUP v163;
	PTUP v164 = mw_mirth_mirth_ZPlusMirth_builtin(v159, &v163);
	uint64_t v165 = value_u64(((TUP*)PTRPTR(v164))->cells[11]);
	decref(MKTUP(v164));
	STR* v166;
	STRLIT(v166, "long", 4);
	PTUP v167;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v163, v158, v161, v162, v165, v166, &v167);
	STR* v168;
	STRLIT(v168, "CLongLong", 9);
	PTUP v169;
	PTUP v170 = mw_mirth_mirth_ZPlusMirth_builtin(v167, &v169);
	uint64_t v171 = value_u64(((TUP*)PTRPTR(v170))->cells[12]);
	decref(MKTUP(v170));
	STR* v172;
	STRLIT(v172, "CLongLong", 9);
	PTUP v173;
	PTUP v174 = mw_mirth_mirth_ZPlusMirth_builtin(v169, &v173);
	uint64_t v175 = value_u64(((TUP*)PTRPTR(v174))->cells[13]);
	decref(MKTUP(v174));
	STR* v176;
	STRLIT(v176, "long long", 9);
	PTUP v177;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v173, v168, v171, v172, v175, v176, &v177);
	STR* v178;
	STRLIT(v178, "CISize", 6);
	PTUP v179;
	PTUP v180 = mw_mirth_mirth_ZPlusMirth_builtin(v177, &v179);
	uint64_t v181 = value_u64(((TUP*)PTRPTR(v180))->cells[14]);
	decref(MKTUP(v180));
	STR* v182;
	STRLIT(v182, "CISize", 6);
	PTUP v183;
	PTUP v184 = mw_mirth_mirth_ZPlusMirth_builtin(v179, &v183);
	uint64_t v185 = value_u64(((TUP*)PTRPTR(v184))->cells[15]);
	decref(MKTUP(v184));
	STR* v186;
	STRLIT(v186, "ssize_t", 7);
	PTUP v187;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v183, v178, v181, v182, v185, v186, &v187);
	STR* v188;
	STRLIT(v188, "CIntPtr", 7);
	PTUP v189;
	PTUP v190 = mw_mirth_mirth_ZPlusMirth_builtin(v187, &v189);
	uint64_t v191 = value_u64(((TUP*)PTRPTR(v190))->cells[16]);
	decref(MKTUP(v190));
	STR* v192;
	STRLIT(v192, "CIntPtr", 7);
	PTUP v193;
	PTUP v194 = mw_mirth_mirth_ZPlusMirth_builtin(v189, &v193);
	uint64_t v195 = value_u64(((TUP*)PTRPTR(v194))->cells[17]);
	decref(MKTUP(v194));
	STR* v196;
	STRLIT(v196, "intptr_t", 8);
	PTUP v197;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v193, v188, v191, v192, v195, v196, &v197);
	STR* v198;
	STRLIT(v198, "CUChar", 6);
	PTUP v199;
	PTUP v200 = mw_mirth_mirth_ZPlusMirth_builtin(v197, &v199);
	uint64_t v201 = value_u64(((TUP*)PTRPTR(v200))->cells[18]);
	decref(MKTUP(v200));
	STR* v202;
	STRLIT(v202, "CUChar", 6);
	PTUP v203;
	PTUP v204 = mw_mirth_mirth_ZPlusMirth_builtin(v199, &v203);
	uint64_t v205 = value_u64(((TUP*)PTRPTR(v204))->cells[19]);
	decref(MKTUP(v204));
	STR* v206;
	STRLIT(v206, "unsigned char", 13);
	PTUP v207;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v203, v198, v201, v202, v205, v206, &v207);
	STR* v208;
	STRLIT(v208, "CUShort", 7);
	PTUP v209;
	PTUP v210 = mw_mirth_mirth_ZPlusMirth_builtin(v207, &v209);
	uint64_t v211 = value_u64(((TUP*)PTRPTR(v210))->cells[20]);
	decref(MKTUP(v210));
	STR* v212;
	STRLIT(v212, "CUShort", 7);
	PTUP v213;
	PTUP v214 = mw_mirth_mirth_ZPlusMirth_builtin(v209, &v213);
	uint64_t v215 = value_u64(((TUP*)PTRPTR(v214))->cells[21]);
	decref(MKTUP(v214));
	STR* v216;
	STRLIT(v216, "unsigned short", 14);
	PTUP v217;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v213, v208, v211, v212, v215, v216, &v217);
	STR* v218;
	STRLIT(v218, "CUInt", 5);
	PTUP v219;
	PTUP v220 = mw_mirth_mirth_ZPlusMirth_builtin(v217, &v219);
	uint64_t v221 = value_u64(((TUP*)PTRPTR(v220))->cells[22]);
	decref(MKTUP(v220));
	STR* v222;
	STRLIT(v222, "CUInt", 5);
	PTUP v223;
	PTUP v224 = mw_mirth_mirth_ZPlusMirth_builtin(v219, &v223);
	uint64_t v225 = value_u64(((TUP*)PTRPTR(v224))->cells[23]);
	decref(MKTUP(v224));
	STR* v226;
	STRLIT(v226, "unsigned int", 12);
	PTUP v227;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v223, v218, v221, v222, v225, v226, &v227);
	STR* v228;
	STRLIT(v228, "CULong", 6);
	PTUP v229;
	PTUP v230 = mw_mirth_mirth_ZPlusMirth_builtin(v227, &v229);
	uint64_t v231 = value_u64(((TUP*)PTRPTR(v230))->cells[24]);
	decref(MKTUP(v230));
	STR* v232;
	STRLIT(v232, "CULong", 6);
	PTUP v233;
	PTUP v234 = mw_mirth_mirth_ZPlusMirth_builtin(v229, &v233);
	uint64_t v235 = value_u64(((TUP*)PTRPTR(v234))->cells[25]);
	decref(MKTUP(v234));
	STR* v236;
	STRLIT(v236, "unsigned long", 13);
	PTUP v237;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v233, v228, v231, v232, v235, v236, &v237);
	STR* v238;
	STRLIT(v238, "CULongLong", 10);
	PTUP v239;
	PTUP v240 = mw_mirth_mirth_ZPlusMirth_builtin(v237, &v239);
	uint64_t v241 = value_u64(((TUP*)PTRPTR(v240))->cells[26]);
	decref(MKTUP(v240));
	STR* v242;
	STRLIT(v242, "CULongLong", 10);
	PTUP v243;
	PTUP v244 = mw_mirth_mirth_ZPlusMirth_builtin(v239, &v243);
	uint64_t v245 = value_u64(((TUP*)PTRPTR(v244))->cells[27]);
	decref(MKTUP(v244));
	STR* v246;
	STRLIT(v246, "unsigned long long", 18);
	PTUP v247;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v243, v238, v241, v242, v245, v246, &v247);
	STR* v248;
	STRLIT(v248, "CUSize", 6);
	PTUP v249;
	PTUP v250 = mw_mirth_mirth_ZPlusMirth_builtin(v247, &v249);
	uint64_t v251 = value_u64(((TUP*)PTRPTR(v250))->cells[28]);
	decref(MKTUP(v250));
	STR* v252;
	STRLIT(v252, "CUSize", 6);
	PTUP v253;
	PTUP v254 = mw_mirth_mirth_ZPlusMirth_builtin(v249, &v253);
	uint64_t v255 = value_u64(((TUP*)PTRPTR(v254))->cells[29]);
	decref(MKTUP(v254));
	STR* v256;
	STRLIT(v256, "size_t", 6);
	PTUP v257;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v253, v248, v251, v252, v255, v256, &v257);
	STR* v258;
	STRLIT(v258, "CUIntPtr", 8);
	PTUP v259;
	PTUP v260 = mw_mirth_mirth_ZPlusMirth_builtin(v257, &v259);
	uint64_t v261 = value_u64(((TUP*)PTRPTR(v260))->cells[30]);
	decref(MKTUP(v260));
	STR* v262;
	STRLIT(v262, "CUIntPtr", 8);
	PTUP v263;
	PTUP v264 = mw_mirth_mirth_ZPlusMirth_builtin(v259, &v263);
	uint64_t v265 = value_u64(((TUP*)PTRPTR(v264))->cells[31]);
	decref(MKTUP(v264));
	STR* v266;
	STRLIT(v266, "uintptr_t", 9);
	PTUP v267;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v263, v258, v261, v262, v265, v266, &v267);
	*out_ZPlusMirth_2 = v267;
}
static PTUP mw_mirth_mirth_ZPlusMirth_dataZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Name_3, INT in_Int_4, PTUP *out_ZPlusMirth_5) {
	PTUP v7 = mtw_mirth_tycon_Tycon_Data(in_Data_2);
	PTUP v8 = mtw_mirth_name_Namespace_Tycon(v7);
	PTUP v9 = mtw_mirth_name_QName_QName(v8, in_Name_3, in_Int_4);
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
	return v9;
}
static PTUP mw_mirth_mirth_ZPlusMirth_dataZ_wordZ_qname (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, STR* in_Str_3, INT in_Nat_4, PTUP *out_ZPlusMirth_5) {
	PTUP v7;
	uint64_t v8 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, in_Str_3, &v7);
	INT v9 = in_Nat_4;
	PTUP v10;
	PTUP v11 = mw_mirth_mirth_ZPlusMirth_dataZ_qname(v7, in_Data_2, v8, v9, &v10);
	*out_ZPlusMirth_5 = v10;
	return v11;
}
static uint64_t mw_mirth_data_Tag_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_data_Tag_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_data_Tag_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_data_Tag_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Data_3, uint64_t in_Name_4, INT in_Int_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7) {
	PTUP v9;
	uint64_t v10 = mw_mirth_data_Tag_AllocZBang(in_ZPlusMirth_1, &v9);
	void* v11 = field_mut(&mfld_mirth_data_Tag_doc, v10);
	mut_set(MKTUP(in_Maybe_2), v11);
	void* v12 = field_mut(&mfld_mirth_data_Tag_data, v10);
	mut_set(MKU64(in_Data_3), v12);
	void* v13 = field_mut(&mfld_mirth_data_Tag_name, v10);
	mut_set(MKU64(in_Name_4), v13);
	void* v14 = field_mut(&mfld_mirth_data_Tag_value, v10);
	mut_set(MKINT(in_Int_5), v14);
	void* v15 = field_mut(&mfld_mirth_data_Tag_sigZAsk, v10);
	mut_set(MKTUP(in_Maybe_6), v15);
	*out_ZPlusMirth_7 = v9;
	return v10;
}
static void mw_mirth_data_Tag_docZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_doc, in_Tag_3);
	mut_set(MKTUP(in_Maybe_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_data_Tag_data (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_data, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_data_Tag_dataZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_data, in_Tag_3);
	mut_set(MKU64(in_Data_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_data_Tag_name (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_name, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_data_Tag_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_name, in_Tag_3);
	mut_set(MKU64(in_Name_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static INT mw_mirth_data_Tag_value (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_value, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static void mw_mirth_data_Tag_valueZBang (PTUP in_ZPlusMirth_1, INT in_Int_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_value, in_Tag_3);
	mut_set(MKINT(in_Int_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_data_Tag_sigZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_sigZAsk, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static void mw_mirth_data_Tag_sigZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_sigZAsk, in_Tag_3);
	mut_set(MKTUP(in_Maybe_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_data_Tag_labelZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_labelZ_inputs, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_List_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig(in_ZPlusMirth_1, in_Tag_2, &v10);
		incref(MKTUP(v11));
		mut_set(MKTUP(v11), v5);
		branch_List_8 = v11;
		branch_ZPlusMirth_7 = v10;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static void mw_mirth_data_Tag_labelZ_inputsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_labelZ_inputs, in_Tag_3);
	mut_set(MKTUP(in_List_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static INT mw_mirth_data_Tag_numZ_labelZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_numZ_labelZ_inputs, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	INT branch_Nat_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Nat_8 = value_nat(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_data_Tag_labelZ_inputs(in_ZPlusMirth_1, in_Tag_2, &v10);
		INT v12 = mw_std_list_List_1_len(v11);
		incref(MKNAT(v12));
		mut_set(MKNAT(v12), v5);
		branch_Nat_8 = v12;
		branch_ZPlusMirth_7 = v10;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Nat_8;
}
static INT mw_mirth_data_Tag_numZ_typeZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_numZ_typeZ_inputs, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	INT branch_Nat_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Nat_8 = value_nat(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		INT v11 = mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig(in_ZPlusMirth_1, in_Tag_2, &v10);
		incref(MKNAT(v11));
		mut_set(MKNAT(v11), v5);
		branch_Nat_8 = v11;
		branch_ZPlusMirth_7 = v10;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Nat_8;
}
static void mw_mirth_data_Tag_numZ_typeZ_inputsZBang (PTUP in_ZPlusMirth_1, INT in_Nat_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_numZ_typeZ_inputs, in_Tag_3);
	mut_set(MKNAT(in_Nat_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static INT mw_mirth_data_Tag_numZ_resourceZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_numZ_resourceZ_inputs, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	INT branch_Nat_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Nat_8 = value_nat(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		INT v11 = mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig(in_ZPlusMirth_1, in_Tag_2, &v10);
		incref(MKNAT(v11));
		mut_set(MKNAT(v11), v5);
		branch_Nat_8 = v11;
		branch_ZPlusMirth_7 = v10;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Nat_8;
}
static void mw_mirth_data_Tag_numZ_resourceZ_inputsZBang (PTUP in_ZPlusMirth_1, INT in_Nat_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_numZ_resourceZ_inputs, in_Tag_3);
	mut_set(MKNAT(in_Nat_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_data_Tag_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_inputs, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_List_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_2, &v10);
		PTUP v12 = VTUP(((TUP*)PTRPTR(v11))->cells[0]);
		incref(MKTUP(v12));
		decref(MKTUP(v11));
		PTUP v13;
		PTUP v14;
		PTUP v15 = mw_mirth_type_StackType_splitZ_parts(v10, v12, &v13, &v14);
		decref(MKTUP(v15));
		incref(MKTUP(VTUP(MKTUP(v14))));
		mut_set(MKTUP(VTUP(MKTUP(v14))), v5);
		branch_List_8 = VTUP(MKTUP(v14));
		branch_ZPlusMirth_7 = v13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static void mw_mirth_data_Tag_inputsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_inputs, in_Tag_3);
	mut_set(MKTUP(in_List_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_data_Tag_untagZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_untagZAsk, in_Tag_3);
	mut_set(MKTUP(in_Maybe_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_data_Tag_outputZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_outputZ_type, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Either_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Either_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_2, &v10);
		PTUP v12 = VTUP(((TUP*)PTRPTR(v11))->cells[1]);
		incref(MKTUP(v12));
		decref(MKTUP(v11));
		PTUP v13;
		PTUP v14 = mw_mirth_type_StackType_expand(v10, v12, &v13);
		uint64_t branch_Tag_15;
		uint64_t branch_Tag_16;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_Either_18;
		switch (PTREXTRA(v14)) {
			case 5LL: { // Cons
				PTUP v19;
				PTUP v20 = mtp_mirth_type_StackType_Cons(v14, &v19);
				decref(MKTUP(v20));
				PTUP v21 = mtw_std_either_Either_2_Left(MKTUP(v19));
				branch_Either_18 = v21;
				branch_ZPlusMirth_17 = v13;
				branch_Tag_16 = in_Tag_2;
				branch_Tag_15 = in_Tag_2;
			} break;
			case 7LL: { // With
				PTUP v22;
				PTUP v23 = mtp_mirth_type_StackType_With(v14, &v22);
				decref(MKTUP(v23));
				PTUP v24 = mtw_std_either_Either_2_Right(MKTUP(v22));
				branch_Either_18 = v24;
				branch_ZPlusMirth_17 = v13;
				branch_Tag_16 = in_Tag_2;
				branch_Tag_15 = in_Tag_2;
			} break;
			default: {
				decref(MKTUP(v14));
				STR* v25;
				STRLIT(v25, "", 0);
				STR* v26;
				STRLIT(v26, "Unexpected output type for constructor ", 39);
				STR* v27;
				mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
				PTUP v28;
				STR* v29;
				mw_mirth_data_Tag_qnameZThen(v13, v27, in_Tag_2, &v28, &v29);
				PTUP v30;
				uint64_t v31 = mw_mirth_data_Tag_data(v28, in_Tag_2, &v30);
				PTUP v32;
				PTUP v33 = mw_mirth_data_Data_headZAsk(v30, v31, &v32);
				PTUP v34;
				mw_std_maybe_Maybe_1_ifZAsk_2_sp62(v32, v29, v33, &v34);
				PTUP v35 = PTRMK(0LL /* Error */,0,0);
				PTUP v36;
				uint64_t v37 = mw_mirth_data_Tag_data(v34, in_Tag_2, &v36);
				PTUP v38;
				bool v39 = mw_mirth_data_Data_isZ_resourceZAsk(v36, v37, &v38);
				uint64_t branch_Tag_40;
				uint64_t branch_Tag_41;
				PTUP branch_ZPlusMirth_42;
				PTUP branch_Either_43;
				if (v39) {
					PTUP v44 = mtw_std_either_Either_2_Right(MKTUP(v35));
					branch_Either_43 = v44;
					branch_ZPlusMirth_42 = v38;
					branch_Tag_41 = in_Tag_2;
					branch_Tag_40 = in_Tag_2;
				} else {
					PTUP v45 = mtw_std_either_Either_2_Left(MKTUP(v35));
					branch_Either_43 = v45;
					branch_ZPlusMirth_42 = v38;
					branch_Tag_41 = in_Tag_2;
					branch_Tag_40 = in_Tag_2;
				}
				branch_Either_18 = branch_Either_43;
				branch_ZPlusMirth_17 = branch_ZPlusMirth_42;
				branch_Tag_16 = branch_Tag_41;
				branch_Tag_15 = branch_Tag_40;
			} break;
		}
		incref(MKTUP(branch_Either_18));
		mut_set(MKTUP(branch_Either_18), v5);
		branch_Either_8 = branch_Either_18;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_17;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Either_8;
}
static INT mw_mirth_data_Tag_arity (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	INT v5 = WRAP_I63(0LL);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v5;
}
static PTUP mw_mirth_data_Tag_qname (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v5);
	PTUP v7 = mw_mirth_data_Data_ZToNamespace(v6);
	PTUP v8;
	uint64_t v9 = mw_mirth_data_Tag_name(v5, in_Tag_2, &v8);
	PTUP v10;
	INT v11 = mw_mirth_data_Tag_arity(v8, in_Tag_2, &v10);
	PTUP v12 = mtw_mirth_name_QName_QName(v7, v9, v11);
	*out_ZPlusMirth_3 = v10;
	return v12;
}
static PTUP mw_mirth_data_Tag_ctxZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	void* v6 = field_mut(&mfld_mirth_data_Tag_ZTildectxZ_type, in_Tag_2);
	PTUP v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = ((TUP*)PTRPTR(value_tup(v8)))->cells[0];
	VAL v10 = ((TUP*)PTRPTR(value_tup(v8)))->cells[1];
	tup_decref_outer(value_tup(v8));
	*out_ArrowType_5 = VTUP(v10);
	*out_ZPlusMirth_3 = v7;
	return VTUP(v9);
}
static PTUP mw_mirth_data_Tag_ctx (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_ctxZ_type(in_ZPlusMirth_1, in_Tag_2, &v5, &v6);
	decref(MKTUP(v6));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_data_Tag_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_ctxZ_type(in_ZPlusMirth_1, in_Tag_2, &v5, &v6);
	decref(MKTUP(v7));
	*out_ZPlusMirth_3 = v5;
	return VTUP(MKTUP(v6));
}
static void mw_mirth_data_Tag_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	uint64_t v7 = mw_mirth_data_Tag_name(in_ZPlusMirth_1, in_Tag_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_data_Tag_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, in_Tag_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_QName_qnameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static PTUP mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Tag_sigZAsk(in_ZPlusMirth_1, in_Tag_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			PTUP v11 = mw_mirth_token_Token_runZ_tokens(v5, value_u64(v9), &v10);
			PTUP v12 = PTRMK(0LL /* Nil */,0,0);
			PTUP v13;
			mw_std_list_List_1_buildZBang(v12, &v13);
			bool v14 = true;
			PTUP r15 = v10;
			PTUP r16 = v13;
			PTUP v17 = v11;
			bool v18 = v14;
			bool v19 = v14;
			while (v19) {
				PTUP r20 = r15;
				PTUP r21 = r16;
				PTUP v22 = v17;
				bool v23 = v18;
				PTUP branch_ZPlusMirth_24;
				PTUP branch_ZPlusLister_25;
				PTUP branch_List_26;
				bool branch_Bool_27;
				switch (PTREXTRA(v22)) {
					case 1LL: { // Cons
						PTUP v28;
						VAL v29 = mtp_std_list_List_1_Cons(v22, &v28);
						PTUP v30;
						PTUP v31 = mw_mirth_token_Token_sigZ_labelZAsk(r20, value_u64(v29), &v30);
						PTUP v32;
						mw_std_maybe_Maybe_1_for_1_sp2(r21, v31, &v32);
						bool v33 = true;
						branch_Bool_27 = v33;
						branch_List_26 = v28;
						branch_ZPlusLister_25 = v32;
						branch_ZPlusMirth_24 = v30;
					} break;
					case 0LL: { // Nil
						PTUP v34 = PTRMK(0LL /* Nil */,0,0);
						bool v35 = false;
						branch_Bool_27 = v35;
						branch_List_26 = v34;
						branch_ZPlusLister_25 = r21;
						branch_ZPlusMirth_24 = r20;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v19 = branch_Bool_27;
				v18 = branch_Bool_27;
				v17 = branch_List_26;
				r16 = branch_ZPlusLister_25;
				r15 = branch_ZPlusMirth_24;
			}
			decref(MKTUP(v17));
			PTUP v36 = mw_std_list_ZPlusLister_1_doneZBang(r16);
			branch_List_8 = v36;
			branch_ZPlusMirth_7 = r15;
		} break;
		case 0LL: { // None
			PTUP v37 = PTRMK(0LL /* Nil */,0,0);
			branch_List_8 = v37;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static INT mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Tag_sigZAsk(in_ZPlusMirth_1, in_Tag_2, &v5);
	PTUP branch_ZPlusMirth_7;
	INT branch_Nat_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			INT v11 = mw_mirth_token_Token_runZ_length(v5, value_u64(v9), &v10);
			incref(MKU64(in_Tag_2));
			PTUP v12;
			INT v13 = mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig(v10, value_u64(MKU64(in_Tag_2)), &v12);
			INT v14 = value_nat(MKNAT(v11));
			INT v15 = v13;
			INT v16 = int_sub(v14, v15);
			incref(MKINT(v16));
			INT v17 = WRAP_I63(0LL);
			INT v18 = v17;
			bool v19 = int_le(v18, v16);
			INT branch_Nat_20;
			if (v19) {
				INT v21 = v16;
				branch_Nat_20 = v21;
			} else {
				decref(MKINT(v16));
				INT v22 = WRAP_I63(0LL);
				branch_Nat_20 = v22;
			}
			PTUP v23;
			PTUP v24 = mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig(v12, value_u64(MKU64(in_Tag_2)), &v23);
			INT v25 = mw_std_list_List_1_len(v24);
			INT v26 = branch_Nat_20;
			INT v27 = v25;
			INT v28 = int_sub(v26, v27);
			incref(MKINT(v28));
			INT v29 = WRAP_I63(0LL);
			INT v30 = v29;
			bool v31 = int_le(v30, v28);
			INT branch_Nat_32;
			if (v31) {
				INT v33 = v28;
				branch_Nat_32 = v33;
			} else {
				decref(MKINT(v28));
				INT v34 = WRAP_I63(0LL);
				branch_Nat_32 = v34;
			}
			branch_Nat_8 = branch_Nat_32;
			branch_ZPlusMirth_7 = v23;
		} break;
		case 0LL: { // None
			INT v35 = WRAP_I63(0LL);
			branch_Nat_8 = v35;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Nat_8;
}
static INT mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_data_Tag_sigZAsk(in_ZPlusMirth_1, in_Tag_2, &v5);
	PTUP branch_ZPlusMirth_7;
	INT branch_Nat_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			PTUP v11 = mw_mirth_token_Token_runZ_tokens(v5, value_u64(v9), &v10);
			PTUP v12 = PTRMK(0LL /* Nil */,0,0);
			PTUP v13;
			mw_std_list_List_1_buildZBang(v12, &v13);
			bool v14 = true;
			PTUP r15 = v10;
			PTUP r16 = v13;
			PTUP v17 = v11;
			bool v18 = v14;
			bool v19 = v14;
			while (v19) {
				PTUP r20 = r15;
				PTUP r21 = r16;
				PTUP v22 = v17;
				bool v23 = v18;
				PTUP branch_ZPlusMirth_24;
				PTUP branch_ZPlusLister_25;
				PTUP branch_List_26;
				bool branch_Bool_27;
				switch (PTREXTRA(v22)) {
					case 1LL: { // Cons
						PTUP v28;
						VAL v29 = mtp_std_list_List_1_Cons(v22, &v28);
						PTUP v30;
						bool v31 = mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk(r20, value_u64(v29), &v30);
						bool v32 = !v31;
						PTUP branch_ZPlusMirth_33;
						PTUP branch_ZPlusLister_34;
						if (v32) {
							PTUP v35;
							mw_std_list_ZPlusLister_1_pushZBang(MKU64(value_u64(v29)), r21, &v35);
							branch_ZPlusLister_34 = v35;
							branch_ZPlusMirth_33 = v30;
						} else {
							branch_ZPlusLister_34 = r21;
							branch_ZPlusMirth_33 = v30;
						}
						bool v36 = true;
						branch_Bool_27 = v36;
						branch_List_26 = v28;
						branch_ZPlusLister_25 = branch_ZPlusLister_34;
						branch_ZPlusMirth_24 = branch_ZPlusMirth_33;
					} break;
					case 0LL: { // Nil
						PTUP v37 = PTRMK(0LL /* Nil */,0,0);
						bool v38 = false;
						branch_Bool_27 = v38;
						branch_List_26 = v37;
						branch_ZPlusLister_25 = r21;
						branch_ZPlusMirth_24 = r20;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v19 = branch_Bool_27;
				v18 = branch_Bool_27;
				v17 = branch_List_26;
				r16 = branch_ZPlusLister_25;
				r15 = branch_ZPlusMirth_24;
			}
			decref(MKTUP(v17));
			PTUP v39 = mw_std_list_ZPlusLister_1_doneZBang(r16);
			PTUP v40 = PTRMK(0LL /* Nil */,0,0);
			PTUP v41;
			mw_std_list_List_1_buildZBang(v40, &v41);
			bool v42 = true;
			PTUP r43 = r15;
			PTUP r44 = v41;
			PTUP v45 = v39;
			bool v46 = v42;
			bool v47 = v42;
			while (v47) {
				PTUP r48 = r43;
				PTUP r49 = r44;
				PTUP v50 = v45;
				bool v51 = v46;
				PTUP branch_ZPlusMirth_52;
				PTUP branch_ZPlusLister_53;
				PTUP branch_List_54;
				bool branch_Bool_55;
				switch (PTREXTRA(v50)) {
					case 1LL: { // Cons
						PTUP v56;
						VAL v57 = mtp_std_list_List_1_Cons(v50, &v56);
						PTUP v58;
						PTUP v59 = mw_mirth_token_Token_nameZAsk(r48, value_u64(v57), &v58);
						PTUP v60;
						mw_std_maybe_Maybe_1_for_1_sp2(r49, v59, &v60);
						bool v61 = true;
						branch_Bool_55 = v61;
						branch_List_54 = v56;
						branch_ZPlusLister_53 = v60;
						branch_ZPlusMirth_52 = v58;
					} break;
					case 0LL: { // Nil
						PTUP v62 = PTRMK(0LL /* Nil */,0,0);
						bool v63 = false;
						branch_Bool_55 = v63;
						branch_List_54 = v62;
						branch_ZPlusLister_53 = r49;
						branch_ZPlusMirth_52 = r48;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v47 = branch_Bool_55;
				v46 = branch_Bool_55;
				v45 = branch_List_54;
				r44 = branch_ZPlusLister_53;
				r43 = branch_ZPlusMirth_52;
			}
			decref(MKTUP(v45));
			PTUP v64 = mw_std_list_ZPlusLister_1_doneZBang(r44);
			PTUP v65 = PTRMK(0LL /* Nil */,0,0);
			PTUP v66;
			mw_std_list_List_1_buildZBang(v65, &v66);
			bool v67 = true;
			PTUP r68 = r43;
			PTUP r69 = v66;
			PTUP v70 = v64;
			bool v71 = v67;
			bool v72 = v67;
			while (v72) {
				PTUP r73 = r68;
				PTUP r74 = r69;
				PTUP v75 = v70;
				bool v76 = v71;
				PTUP branch_ZPlusMirth_77;
				PTUP branch_ZPlusLister_78;
				PTUP branch_List_79;
				bool branch_Bool_80;
				switch (PTREXTRA(v75)) {
					case 1LL: { // Cons
						PTUP v81;
						VAL v82 = mtp_std_list_List_1_Cons(v75, &v81);
						PTUP v83;
						bool v84 = mw_mirth_name_Name_couldZ_beZ_resourceZ_var(r73, value_u64(v82), &v83);
						PTUP branch_ZPlusMirth_85;
						bool branch_Bool_86;
						if (v84) {
							bool v87 = true;
							branch_Bool_86 = v87;
							branch_ZPlusMirth_85 = v83;
						} else {
							PTUP v88;
							bool v89 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(v83, value_u64(v82), &v88);
							branch_Bool_86 = v89;
							branch_ZPlusMirth_85 = v88;
						}
						PTUP branch_ZPlusMirth_90;
						PTUP branch_ZPlusLister_91;
						if (branch_Bool_86) {
							PTUP v92;
							mw_std_list_ZPlusLister_1_pushZBang(MKU64(value_u64(v82)), r74, &v92);
							branch_ZPlusLister_91 = v92;
							branch_ZPlusMirth_90 = branch_ZPlusMirth_85;
						} else {
							branch_ZPlusLister_91 = r74;
							branch_ZPlusMirth_90 = branch_ZPlusMirth_85;
						}
						bool v93 = true;
						branch_Bool_80 = v93;
						branch_List_79 = v81;
						branch_ZPlusLister_78 = branch_ZPlusLister_91;
						branch_ZPlusMirth_77 = branch_ZPlusMirth_90;
					} break;
					case 0LL: { // Nil
						PTUP v94 = PTRMK(0LL /* Nil */,0,0);
						bool v95 = false;
						branch_Bool_80 = v95;
						branch_List_79 = v94;
						branch_ZPlusLister_78 = r74;
						branch_ZPlusMirth_77 = r73;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v72 = branch_Bool_80;
				v71 = branch_Bool_80;
				v70 = branch_List_79;
				r69 = branch_ZPlusLister_78;
				r68 = branch_ZPlusMirth_77;
			}
			decref(MKTUP(v70));
			PTUP v96 = mw_std_list_ZPlusLister_1_doneZBang(r69);
			INT v97 = mw_std_list_List_1_len(v96);
			branch_Nat_8 = v97;
			branch_ZPlusMirth_7 = r68;
		} break;
		case 0LL: { // None
			INT v98 = WRAP_I63(0LL);
			branch_Nat_8 = v98;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Nat_8;
}
static INT mw_mirth_data_Tag_numZ_totalZ_inputs (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	INT v6 = mw_mirth_data_Tag_numZ_labelZ_inputs(in_ZPlusMirth_1, in_Tag_2, &v5);
	PTUP v7;
	INT v8 = mw_mirth_data_Tag_numZ_typeZ_inputs(v5, in_Tag_2, &v7);
	INT v9 = v6;
	INT v10 = v8;
	INT v11 = int_add(v9, v10);
	INT v12 = v11;
	PTUP v13;
	INT v14 = mw_mirth_data_Tag_numZ_resourceZ_inputs(v7, in_Tag_2, &v13);
	INT v15 = v12;
	INT v16 = v14;
	INT v17 = int_add(v15, v16);
	INT v18 = v17;
	*out_ZPlusMirth_3 = v13;
	return v18;
}
static PTUP mw_mirth_data_Tag_semiZ_transparentZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_data_Data_semiZ_transparentZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_data_Tag_outputsZ_resourceZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_data_Data_isZ_resourceZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_data_Tag_preferZ_inlineZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_data_Data_semiZ_transparentZAsk(v5, v6, &v7);
	int64_t v9 = PTREXTRA(v8);
	decref(MKTUP(v8));
	INT v10 = WRAP_I63(0LL);
	INT v11 = v10;
	INT v12 = i64_to_int(v9);
	bool v13 = int_eq(v12, v11);
	bool v14 = !v13;
	PTUP branch_ZPlusMirth_15;
	uint64_t branch_Tag_16;
	bool branch_Bool_17;
	if (v14) {
		bool v18 = true;
		branch_Bool_17 = v18;
		branch_Tag_16 = in_Tag_2;
		branch_ZPlusMirth_15 = v7;
	} else {
		PTUP v19;
		INT v20 = mw_mirth_data_Tag_numZ_totalZ_inputs(v7, in_Tag_2, &v19);
		INT v21 = WRAP_I63(0LL);
		INT v22 = v21;
		INT v23 = v20;
		bool v24 = int_eq(v23, v22);
		branch_Bool_17 = v24;
		branch_Tag_16 = in_Tag_2;
		branch_ZPlusMirth_15 = v19;
	}
	decref(MKU64(branch_Tag_16));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_15;
	return value_bool(MKBOOL(branch_Bool_17));
}
static bool mw_mirth_data_DataPartial_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_DataPartial_2, PTUP in_DataPartial_3, PTUP *out_ZPlusMirth_4) {
	uint64_t v6;
	uint64_t v7;
	mtp_mirth_data_DataPartial_DataPartial(in_DataPartial_3, &v6, &v7);
	uint64_t v8;
	uint64_t v9;
	mtp_mirth_data_DataPartial_DataPartial(in_DataPartial_2, &v8, &v9);
	bool v10 = (v6 == v8);
	bool v11 = (v7 == v9);
	bool v12 = (v10 && v11);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return v12;
}
static PTUP mw_mirth_data_DataPartial_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_DataPartial_2, PTUP in_DataPartial_3, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_DataPartial_2));
	incref(MKTUP(in_DataPartial_3));
	PTUP v6;
	bool v7 = mw_mirth_data_DataPartial_ZEqual(in_ZPlusMirth_1, VTUP(MKTUP(in_DataPartial_2)), VTUP(MKTUP(in_DataPartial_3)), &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Type_9;
	if (v7) {
		decref(MKTUP(VTUP(MKTUP(in_DataPartial_3))));
		PTUP v10 = mtw_mirth_type_Type_DataPartial(VTUP(MKTUP(in_DataPartial_2)));
		branch_Type_9 = v10;
		branch_ZPlusMirth_8 = v6;
	} else {
		PTUP v11 = mtw_mirth_type_Type_DataPartial(VTUP(MKTUP(in_DataPartial_2)));
		PTUP v12 = mtw_mirth_type_Type_DataPartial(VTUP(MKTUP(in_DataPartial_3)));
		PTUP v13;
		PTUP v14 = mw_mirth_type_Type_unifyZ_failedZBang(v6, v11, v12, &v13);
		branch_Type_9 = v14;
		branch_ZPlusMirth_8 = v13;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Type_9;
}
static bool mw_mirth_data_DataPartial_isZ_semiZ_transparentZAsk (PTUP in_ZPlusMirth_1, PTUP in_DataPartial_2, PTUP *out_ZPlusMirth_3) {
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_DataPartial_2))->cells[0]);
	decref(MKTUP(in_DataPartial_2));
	PTUP v6;
	PTUP v7 = mw_mirth_data_Data_semiZ_transparentZAsk(in_ZPlusMirth_1, v5, &v6);
	int64_t v8 = PTREXTRA(v7);
	decref(MKTUP(v7));
	INT v9 = WRAP_I63(0LL);
	INT v10 = v9;
	INT v11 = i64_to_int(v8);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	*out_ZPlusMirth_3 = v6;
	return v13;
}
static uint64_t mw_mirth_data_parseZ_data (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_SyntaxData_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP v8;
	INT v9 = mw_mirth_token_Token_numZ_args(v6, in_Token_2, &v8);
	INT v10 = WRAP_I63(0LL);
	INT v11 = v9;
	INT v12 = v10;
	bool v13 = int_lt(v12, v11);
	PTUP branch_Maybe_14;
	uint64_t branch_SyntaxDataHeader_15;
	PTUP branch_List_16;
	PTUP branch_Maybe_17;
	PTUP branch_ZPlusMirth_18;
	uint64_t branch_Token_19;
	if (v13) {
		PTUP v20;
		uint64_t v21 = mw_mirth_token_Token_succ(v8, in_Token_2, &v20);
		PTUP v22;
		PTUP v23 = mw_mirth_token_Token_lparenZAsk(v20, v21, &v22);
		int64_t v24 = PTREXTRA(v23);
		decref(MKTUP(v23));
		INT v25 = WRAP_I63(0LL);
		INT v26 = v25;
		INT v27 = i64_to_int(v24);
		bool v28 = int_eq(v27, v26);
		bool v29 = !v28;
		PTUP branch_ZPlusMirth_30;
		uint64_t branch_Token_31;
		if (v29) {
			branch_Token_31 = v21;
			branch_ZPlusMirth_30 = v22;
		} else {
			STR* v32;
			STRLIT(v32, "expected left parenthesis '('", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, v21, v32);
		}
		PTUP v35;
		uint64_t v36 = mw_mirth_token_Token_succ(branch_ZPlusMirth_30, branch_Token_31, &v35);
		PTUP v37;
		uint64_t v38;
		uint64_t v39 = mw_mirth_data_parseZ_dataZ_header(v35, v36, &v37, &v38);
		PTUP v40;
		bool v41 = mw_mirth_token_Token_commaZAsk(v37, v39, &v40);
		PTUP branch_ZPlusMirth_42;
		uint64_t branch_Token_43;
		if (v41) {
			PTUP v44;
			uint64_t v45 = mw_mirth_token_Token_succ(v40, v39, &v44);
			branch_Token_43 = v45;
			branch_ZPlusMirth_42 = v44;
		} else {
			branch_Token_43 = v39;
			branch_ZPlusMirth_42 = v40;
		}
		PTUP v46;
		PTUP v47;
		uint64_t v48 = mw_mirth_data_parseZ_dataZ_tags(branch_ZPlusMirth_42, branch_Token_43, &v46, &v47);
		PTUP v49;
		PTUP v50;
		uint64_t v51 = mw_mirth_data_parseZ_dataZ_declsZBang(v46, v48, &v49, &v50);
		PTUP v52;
		PTUP v53 = mw_mirth_token_Token_rparenZAsk(v49, v51, &v52);
		int64_t v54 = PTREXTRA(v53);
		decref(MKTUP(v53));
		INT v55 = WRAP_I63(0LL);
		INT v56 = v55;
		INT v57 = i64_to_int(v54);
		bool v58 = int_eq(v57, v56);
		bool v59 = !v58;
		PTUP branch_ZPlusMirth_60;
		uint64_t branch_Token_61;
		if (v59) {
			branch_Token_61 = v51;
			branch_ZPlusMirth_60 = v52;
		} else {
			STR* v62;
			STRLIT(v62, "expected right parenthesis ')'", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v52, v51, v62);
		}
		PTUP v65;
		uint64_t v66 = mw_mirth_token_Token_succ(branch_ZPlusMirth_60, branch_Token_61, &v65);
		branch_Token_19 = v66;
		branch_ZPlusMirth_18 = v65;
		branch_Maybe_17 = v50;
		branch_List_16 = v47;
		branch_SyntaxDataHeader_15 = v38;
		branch_Maybe_14 = v7;
	} else {
		PTUP v67;
		uint64_t v68 = mw_mirth_token_Token_succ(v8, in_Token_2, &v67);
		PTUP v69;
		uint64_t v70;
		uint64_t v71 = mw_mirth_data_parseZ_dataZ_header(v67, v68, &v69, &v70);
		PTUP v72;
		PTUP v73 = mw_mirth_token_Token_lcurlyZAsk(v69, v71, &v72);
		PTUP v74;
		uint64_t v75 = mw_std_maybe_Maybe_1_else_1_sp6(v72, v71, v73, &v74);
		PTUP v76;
		uint64_t v77 = mw_mirth_token_Token_succ(v74, v75, &v76);
		PTUP v78;
		PTUP v79;
		uint64_t v80 = mw_mirth_data_parseZ_dataZ_tags(v76, v77, &v78, &v79);
		PTUP v81;
		PTUP v82;
		uint64_t v83 = mw_mirth_data_parseZ_dataZ_declsZBang(v78, v80, &v81, &v82);
		PTUP v84;
		PTUP v85 = mw_mirth_token_Token_rcurlyZAsk(v81, v83, &v84);
		PTUP v86;
		uint64_t v87 = mw_std_maybe_Maybe_1_else_1_sp7(v84, v83, v85, &v86);
		PTUP v88;
		uint64_t v89 = mw_mirth_token_Token_succ(v86, v87, &v88);
		branch_Token_19 = v89;
		branch_ZPlusMirth_18 = v88;
		branch_Maybe_17 = v82;
		branch_List_16 = v79;
		branch_SyntaxDataHeader_15 = v70;
		branch_Maybe_14 = v7;
	}
	PTUP v90 = mtw_mirth_data_SyntaxData_SyntaxData(branch_Maybe_14, branch_SyntaxDataHeader_15, branch_List_16, branch_Maybe_17);
	*out_SyntaxData_5 = v90;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_18;
	return branch_Token_19;
}
static uint64_t mw_mirth_data_parseZ_dataZ_header (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_SyntaxDataHeader_5) {
	PTUP v6;
	uint64_t v7 = mw_mirth_token_Token_next(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_lastZ_nameZAsk(v6, in_Token_2, &v8);
	PTUP v10;
	bool v11 = mw_std_maybe_Maybe_1_has_1_sp14(v8, v9, &v10);
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = v10;
	} else {
		STR* v14;
		STRLIT(v14, "Expected type name.", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v10, in_Token_2, v14);
	}
	*out_SyntaxDataHeader_5 = branch_Token_13;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return v7;
}
static uint64_t mw_mirth_data_parseZ_dataZ_tags (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	PTUP v8;
	bool v9 = mw_mirth_data_dataZ_tagsZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v8);
	bool v10 = !v9;
	uint64_t v11 = in_Token_2;
	PTUP r12 = v8;
	PTUP r13 = v7;
	bool v14 = v10;
	while (v14) {
		uint64_t v15 = v11;
		PTUP r16 = r12;
		PTUP r17 = r13;
		PTUP v18;
		PTUP v19;
		uint64_t v20 = mw_mirth_data_parseZ_dataZ_tag(r16, v15, &v18, &v19);
		PTUP v21;
		mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v19), r17, &v21);
		PTUP v22;
		bool v23 = mw_mirth_data_dataZ_tagsZ_endZAsk(v18, v20, &v22);
		bool v24 = !v23;
		v14 = v24;
		r13 = v21;
		r12 = v22;
		v11 = v20;
	}
	PTUP v25 = mw_std_list_ZPlusLister_1_doneZBang(r13);
	*out_List_5 = v25;
	*out_ZPlusMirth_3 = r12;
	return v11;
}
static bool mw_mirth_data_dataZ_tagsZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_argsZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	bool branch_Bool_9;
	if (v6) {
		bool v10 = true;
		branch_Bool_9 = v10;
		branch_Token_8 = in_Token_2;
		branch_ZPlusMirth_7 = v5;
	} else {
		PTUP v11;
		bool v12 = mw_mirth_token_Token_sigZ_dashesZAsk(v5, in_Token_2, &v11);
		branch_Bool_9 = v12;
		branch_Token_8 = in_Token_2;
		branch_ZPlusMirth_7 = v11;
	}
	decref(MKU64(branch_Token_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_bool(MKBOOL(branch_Bool_9));
}
static uint64_t mw_mirth_data_parseZ_dataZ_tag (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_SyntaxDataTag_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_token_Token_intZAsk(v6, in_Token_2, &v8);
	incref(MKTUP(v9));
	int64_t v10 = PTREXTRA(v9);
	decref(MKTUP(v9));
	INT v11 = WRAP_I63(0LL);
	INT v12 = v11;
	INT v13 = i64_to_int(v10);
	bool v14 = int_eq(v13, v12);
	bool v15 = !v14;
	PTUP branch_ZPlusMirth_16;
	uint64_t branch_Token_17;
	if (v15) {
		PTUP v18;
		uint64_t v19 = mw_mirth_token_Token_succ(v8, in_Token_2, &v18);
		branch_Token_17 = v19;
		branch_ZPlusMirth_16 = v18;
	} else {
		branch_Token_17 = in_Token_2;
		branch_ZPlusMirth_16 = v8;
	}
	PTUP v20;
	PTUP v21 = mw_mirth_token_Token_nameZAsk(branch_ZPlusMirth_16, branch_Token_17, &v20);
	PTUP v22;
	PTUP v23 = mw_std_maybe_Maybe_1_filter_1_sp20(v20, v21, &v22);
	PTUP branch_ZPlusMirth_24;
	uint64_t branch_Token_25;
	VAL branch_z_x1_26;
	switch (PTREXTRA(v23)) {
		case 1LL: { // Some
			VAL v27 = mtp_std_maybe_Maybe_1_Some(v23);
			branch_z_x1_26 = v27;
			branch_Token_25 = branch_Token_17;
			branch_ZPlusMirth_24 = v22;
		} break;
		case 0LL: { // None
			STR* v28;
			STRLIT(v28, "Expected constructor name.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, branch_Token_17, v28);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v32;
	uint64_t v33 = mw_mirth_token_Token_succ(branch_ZPlusMirth_24, branch_Token_25, &v32);
	PTUP v34;
	bool v35 = mw_mirth_token_Token_arrowZAsk(v32, v33, &v34);
	PTUP branch_Maybe_36;
	uint64_t branch_Token_37;
	PTUP branch_Maybe_38;
	uint64_t branch_Name_39;
	PTUP branch_Maybe_40;
	uint64_t branch_Token_41;
	PTUP branch_ZPlusMirth_42;
	if (v35) {
		PTUP v43;
		uint64_t v44 = mw_mirth_token_Token_succ(v34, v33, &v43);
		PTUP v45 = mtw_std_maybe_Maybe_1_Some(MKU64(v44));
		PTUP v46;
		uint64_t v47 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(v43, v44, &v46);
		PTUP v48;
		bool v49 = mw_mirth_token_Token_argZ_endZAsk(v46, v47, &v48);
		PTUP branch_ZPlusMirth_50;
		uint64_t branch_Token_51;
		if (v49) {
			branch_Token_51 = v47;
			branch_ZPlusMirth_50 = v48;
		} else {
			STR* v52;
			STRLIT(v52, "Expected comma.", 15);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v48, v47, v52);
		}
		branch_ZPlusMirth_42 = branch_ZPlusMirth_50;
		branch_Token_41 = branch_Token_51;
		branch_Maybe_40 = v45;
		branch_Name_39 = value_u64(branch_z_x1_26);
		branch_Maybe_38 = v9;
		branch_Token_37 = in_Token_2;
		branch_Maybe_36 = v7;
	} else {
		PTUP v55;
		PTUP v56 = mw_mirth_token_Token_lsquareZAsk(v34, v33, &v55);
		int64_t v57 = PTREXTRA(v56);
		decref(MKTUP(v56));
		INT v58 = WRAP_I63(0LL);
		INT v59 = v58;
		INT v60 = i64_to_int(v57);
		bool v61 = int_eq(v60, v59);
		bool v62 = !v61;
		PTUP branch_Maybe_63;
		PTUP branch_ZPlusMirth_64;
		uint64_t branch_Token_65;
		if (v62) {
			PTUP v66;
			uint64_t v67 = mw_mirth_token_Token_succ(v55, v33, &v66);
			PTUP v68 = mtw_std_maybe_Maybe_1_Some(MKU64(v67));
			PTUP v69;
			uint64_t v70 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(v66, v67, &v69);
			PTUP v71;
			PTUP v72 = mw_mirth_token_Token_rsquareZAsk(v69, v70, &v71);
			int64_t v73 = PTREXTRA(v72);
			decref(MKTUP(v72));
			INT v74 = WRAP_I63(0LL);
			INT v75 = v74;
			INT v76 = i64_to_int(v73);
			bool v77 = int_eq(v76, v75);
			bool v78 = !v77;
			PTUP branch_ZPlusMirth_79;
			uint64_t branch_Token_80;
			if (v78) {
				branch_Token_80 = v70;
				branch_ZPlusMirth_79 = v71;
			} else {
				STR* v81;
				STRLIT(v81, "Expected right square bracket ']'", 33);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v71, v70, v81);
			}
			PTUP v84;
			uint64_t v85 = mw_mirth_token_Token_succ(branch_ZPlusMirth_79, branch_Token_80, &v84);
			branch_Token_65 = v85;
			branch_ZPlusMirth_64 = v84;
			branch_Maybe_63 = v68;
		} else {
			PTUP v86 = PTRMK(0LL /* None */,0,0);
			branch_Token_65 = v33;
			branch_ZPlusMirth_64 = v55;
			branch_Maybe_63 = v86;
		}
		branch_ZPlusMirth_42 = branch_ZPlusMirth_64;
		branch_Token_41 = branch_Token_65;
		branch_Maybe_40 = branch_Maybe_63;
		branch_Name_39 = value_u64(branch_z_x1_26);
		branch_Maybe_38 = v9;
		branch_Token_37 = in_Token_2;
		branch_Maybe_36 = v7;
	}
	PTUP v87;
	bool v88 = mw_mirth_token_Token_commaZAsk(branch_ZPlusMirth_42, branch_Token_41, &v87);
	PTUP branch_ZPlusMirth_89;
	uint64_t branch_Token_90;
	if (v88) {
		PTUP v91;
		uint64_t v92 = mw_mirth_token_Token_succ(v87, branch_Token_41, &v91);
		branch_Token_90 = v92;
		branch_ZPlusMirth_89 = v91;
	} else {
		branch_Token_90 = branch_Token_41;
		branch_ZPlusMirth_89 = v87;
	}
	PTUP v93 = mtw_mirth_data_SyntaxDataTag_SyntaxDataTag(branch_Maybe_36, branch_Token_37, branch_Maybe_38, branch_Name_39, branch_Maybe_40);
	*out_SyntaxDataTag_5 = v93;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_89;
	return branch_Token_90;
}
static uint64_t mw_mirth_data_parseZ_struct (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_SyntaxData_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP v8;
	INT v9 = mw_mirth_token_Token_numZ_args(v6, in_Token_2, &v8);
	INT v10 = WRAP_I63(0LL);
	INT v11 = v9;
	INT v12 = v10;
	bool v13 = int_lt(v12, v11);
	PTUP branch_Maybe_14;
	uint64_t branch_SyntaxDataHeader_15;
	PTUP branch_List_16;
	PTUP branch_Maybe_17;
	PTUP branch_ZPlusMirth_18;
	uint64_t branch_Token_19;
	if (v13) {
		PTUP v20;
		uint64_t v21 = mw_mirth_token_Token_succ(v8, in_Token_2, &v20);
		PTUP v22;
		PTUP v23 = mw_mirth_token_Token_lparenZAsk(v20, v21, &v22);
		int64_t v24 = PTREXTRA(v23);
		decref(MKTUP(v23));
		INT v25 = WRAP_I63(0LL);
		INT v26 = v25;
		INT v27 = i64_to_int(v24);
		bool v28 = int_eq(v27, v26);
		bool v29 = !v28;
		PTUP branch_ZPlusMirth_30;
		uint64_t branch_Token_31;
		if (v29) {
			STR* v32;
			STRLIT(v32, "Expected left parenthesis '('", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, v21, v32);
		} else {
			branch_Token_31 = v21;
			branch_ZPlusMirth_30 = v22;
		}
		PTUP v35;
		uint64_t v36 = mw_mirth_token_Token_succ(branch_ZPlusMirth_30, branch_Token_31, &v35);
		PTUP v37;
		uint64_t v38;
		uint64_t v39 = mw_mirth_data_parseZ_dataZ_header(v35, v36, &v37, &v38);
		PTUP v40;
		bool v41 = mw_mirth_token_Token_commaZAsk(v37, v39, &v40);
		PTUP branch_ZPlusMirth_42;
		uint64_t branch_Token_43;
		if (v41) {
			PTUP v44;
			uint64_t v45 = mw_mirth_token_Token_succ(v40, v39, &v44);
			branch_Token_43 = v45;
			branch_ZPlusMirth_42 = v44;
		} else {
			branch_Token_43 = v39;
			branch_ZPlusMirth_42 = v40;
		}
		PTUP v46;
		uint64_t v47;
		PTUP v48;
		uint64_t v49 = mw_mirth_data_parseZ_structZ_tag(branch_ZPlusMirth_42, branch_Token_43, v38, &v46, &v47, &v48);
		PTUP v50 = PTRMK(0LL /* Nil */,0,0);
		PTUP v51 = mw_std_list_List_1_cons(MKTUP(v48), v50);
		PTUP v52;
		PTUP v53;
		uint64_t v54 = mw_mirth_data_parseZ_dataZ_declsZBang(v46, v49, &v52, &v53);
		PTUP v55;
		PTUP v56 = mw_mirth_token_Token_rparenZAsk(v52, v54, &v55);
		int64_t v57 = PTREXTRA(v56);
		decref(MKTUP(v56));
		INT v58 = WRAP_I63(0LL);
		INT v59 = v58;
		INT v60 = i64_to_int(v57);
		bool v61 = int_eq(v60, v59);
		bool v62 = !v61;
		PTUP branch_ZPlusMirth_63;
		uint64_t branch_Token_64;
		if (v62) {
			STR* v65;
			STRLIT(v65, "Expected right parenthesis ')'", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v55, v54, v65);
		} else {
			branch_Token_64 = v54;
			branch_ZPlusMirth_63 = v55;
		}
		PTUP v68;
		uint64_t v69 = mw_mirth_token_Token_succ(branch_ZPlusMirth_63, branch_Token_64, &v68);
		branch_Token_19 = v69;
		branch_ZPlusMirth_18 = v68;
		branch_Maybe_17 = v53;
		branch_List_16 = v51;
		branch_SyntaxDataHeader_15 = v47;
		branch_Maybe_14 = v7;
	} else {
		PTUP v70;
		uint64_t v71 = mw_mirth_token_Token_succ(v8, in_Token_2, &v70);
		PTUP v72;
		uint64_t v73;
		uint64_t v74 = mw_mirth_data_parseZ_dataZ_header(v70, v71, &v72, &v73);
		PTUP v75;
		PTUP v76 = mw_mirth_token_Token_lcurlyZAsk(v72, v74, &v75);
		PTUP v77;
		uint64_t v78 = mw_std_maybe_Maybe_1_else_1_sp6(v75, v74, v76, &v77);
		PTUP v79;
		uint64_t v80 = mw_mirth_token_Token_succ(v77, v78, &v79);
		PTUP v81;
		uint64_t v82;
		PTUP v83;
		uint64_t v84 = mw_mirth_data_parseZ_structZ_tag(v79, v80, v73, &v81, &v82, &v83);
		PTUP v85 = PTRMK(0LL /* Nil */,0,0);
		PTUP v86 = mw_std_list_List_1_cons(MKTUP(v83), v85);
		PTUP v87;
		PTUP v88;
		uint64_t v89 = mw_mirth_data_parseZ_dataZ_declsZBang(v81, v84, &v87, &v88);
		PTUP v90;
		PTUP v91 = mw_mirth_token_Token_rcurlyZAsk(v87, v89, &v90);
		PTUP v92;
		uint64_t v93 = mw_std_maybe_Maybe_1_else_1_sp7(v90, v89, v91, &v92);
		PTUP v94;
		uint64_t v95 = mw_mirth_token_Token_succ(v92, v93, &v94);
		branch_Token_19 = v95;
		branch_ZPlusMirth_18 = v94;
		branch_Maybe_17 = v88;
		branch_List_16 = v86;
		branch_SyntaxDataHeader_15 = v82;
		branch_Maybe_14 = v7;
	}
	PTUP v96 = mtw_mirth_data_SyntaxData_SyntaxData(branch_Maybe_14, branch_SyntaxDataHeader_15, branch_List_16, branch_Maybe_17);
	*out_SyntaxData_5 = v96;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_18;
	return branch_Token_19;
}
static uint64_t mw_mirth_data_parseZ_dataZ_declsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, PTUP *out_Maybe_5) {
	PTUP v6;
	bool v7 = mw_mirth_token_Token_sigZ_dashesZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	PTUP branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	PTUP branch_Maybe_10;
	if (v7) {
		PTUP v11;
		uint64_t v12 = mw_mirth_token_Token_succ(v6, in_Token_2, &v11);
		PTUP v13;
		bool v14 = mw_mirth_token_Token_argZ_endZAsk(v11, v12, &v13);
		bool v15 = !v14;
		uint64_t v16 = v12;
		uint64_t v17 = v12;
		PTUP r18 = v13;
		bool v19 = v15;
		while (v19) {
			uint64_t v20 = v16;
			uint64_t v21 = v17;
			PTUP r22 = r18;
			PTUP v23;
			uint64_t v24 = mw_mirth_token_Token_next(r22, v21, &v23);
			PTUP v25;
			bool v26 = mw_mirth_token_Token_argZ_endZAsk(v23, v24, &v25);
			bool v27 = !v26;
			v19 = v27;
			r18 = v25;
			v17 = v24;
			v16 = v20;
		}
		PTUP v28 = mtw_std_maybe_Maybe_1_Some(MKU64(v16));
		branch_Maybe_10 = v28;
		branch_Token_9 = v17;
		branch_ZPlusMirth_8 = r18;
	} else {
		PTUP v29 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_10 = v29;
		branch_Token_9 = in_Token_2;
		branch_ZPlusMirth_8 = v6;
	}
	*out_Maybe_5 = branch_Maybe_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_Token_9;
}
static uint64_t mw_mirth_data_parseZ_structZ_tag (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_SyntaxDataHeader_3, PTUP *out_ZPlusMirth_4, uint64_t *out_SyntaxDataHeader_6, PTUP *out_SyntaxDataTag_7) {
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	PTUP v9;
	PTUP v10 = mw_mirth_token_Token_lastZ_nameZAsk(in_ZPlusMirth_1, in_SyntaxDataHeader_3, &v9);
	PTUP v11;
	PTUP v12 = mw_std_maybe_Maybe_1_filter_1_sp20(v9, v10, &v11);
	PTUP branch_ZPlusMirth_13;
	uint64_t branch_SyntaxDataHeader_14;
	VAL branch_z_x1_15;
	switch (PTREXTRA(v12)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
			branch_z_x1_15 = v16;
			branch_SyntaxDataHeader_14 = in_SyntaxDataHeader_3;
			branch_ZPlusMirth_13 = v11;
		} break;
		case 0LL: { // None
			STR* v17;
			STRLIT(v17, "Expected constructor name.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v11, in_SyntaxDataHeader_3, v17);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v20 = PTRMK(0LL /* None */,0,0);
	PTUP v21 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_2));
	PTUP v22;
	uint64_t v23 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(branch_ZPlusMirth_13, in_Token_2, &v22);
	PTUP v24 = mtw_mirth_data_SyntaxDataTag_SyntaxDataTag(v8, in_SyntaxDataHeader_3, v20, value_u64(branch_z_x1_15), v21);
	*out_SyntaxDataTag_7 = v24;
	*out_SyntaxDataHeader_6 = branch_SyntaxDataHeader_14;
	*out_ZPlusMirth_4 = v22;
	return v23;
}
static uint64_t mw_mirth_data_elabZ_dataZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_4) {
	PTUP v7;
	PTUP v8;
	uint64_t v9 = mw_mirth_data_parseZ_data(in_ZPlusMirth_1, in_Token_2, &v7, &v8);
	PTUP v10;
	mw_mirth_data_elabZ_dataZ_auxZBang(v7, v8, &v10);
	*out_ZPlusMirth_4 = v10;
	return v9;
}
static uint64_t mw_mirth_data_elabZ_structZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_4) {
	PTUP v7;
	PTUP v8;
	uint64_t v9 = mw_mirth_data_parseZ_struct(in_ZPlusMirth_1, in_Token_2, &v7, &v8);
	PTUP v10;
	mw_mirth_data_elabZ_dataZ_auxZBang(v7, v8, &v10);
	*out_ZPlusMirth_4 = v10;
	return v9;
}
static void mw_mirth_data_elabZ_dataZ_auxZBang (PTUP in_ZPlusMirth_1, PTUP in_SyntaxData_2, PTUP *out_ZPlusMirth_3) {
	PTUP v6;
	uint64_t v7;
	PTUP v8;
	PTUP v9;
	mtp_mirth_data_SyntaxData_SyntaxData(in_SyntaxData_2, &v6, &v7, &v8, &v9);
	PTUP v10;
	uint64_t v11 = mw_mirth_data_Data_AllocZBang(in_ZPlusMirth_1, &v10);
	incref(MKU64(v11));
	PTUP v12;
	mw_mirth_data_Data_docZBang(v10, VTUP(MKTUP(v6)), value_u64(MKU64(v11)), &v12);
	PTUP v13;
	uint64_t v14 = mw_mirth_data_elabZ_dataZ_headerZBang(v12, value_u64(MKU64(v11)), v7, &v13);
	bool v15 = true;
	PTUP r16 = v13;
	uint64_t v17 = v14;
	PTUP v18 = v8;
	bool v19 = v15;
	bool v20 = v15;
	while (v20) {
		PTUP r21 = r16;
		uint64_t v22 = v17;
		PTUP v23 = v18;
		bool v24 = v19;
		PTUP branch_ZPlusMirth_25;
		uint64_t branch_Data_26;
		PTUP branch_List_27;
		bool branch_Bool_28;
		switch (PTREXTRA(v23)) {
			case 1LL: { // Cons
				PTUP v29;
				VAL v30 = mtp_std_list_List_1_Cons(v23, &v29);
				PTUP v31;
				uint64_t v32 = mw_mirth_data_elabZ_dataZ_tagZBang(r21, v22, VTUP(v30), &v31);
				bool v33 = true;
				branch_Bool_28 = v33;
				branch_List_27 = v29;
				branch_Data_26 = v32;
				branch_ZPlusMirth_25 = v31;
			} break;
			case 0LL: { // Nil
				PTUP v34 = PTRMK(0LL /* Nil */,0,0);
				bool v35 = false;
				branch_Bool_28 = v35;
				branch_List_27 = v34;
				branch_Data_26 = v22;
				branch_ZPlusMirth_25 = r21;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v20 = branch_Bool_28;
		v19 = branch_Bool_28;
		v18 = branch_List_27;
		v17 = branch_Data_26;
		r16 = branch_ZPlusMirth_25;
	}
	decref(MKTUP(v18));
	PTUP branch_ZPlusMirth_36;
	uint64_t branch_Data_37;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v38 = mtp_std_maybe_Maybe_1_Some(v9);
			PTUP v39;
			uint64_t v40 = mw_mirth_data_elabZ_dataZ_declsZBang(r16, v17, value_u64(v38), &v39);
			branch_Data_37 = v40;
			branch_ZPlusMirth_36 = v39;
		} break;
		case 0LL: { // None
			branch_Data_37 = v17;
			branch_ZPlusMirth_36 = r16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v41;
	mw_mirth_data_elabZ_dataZ_doneZBang(branch_ZPlusMirth_36, branch_Data_37, &v41);
	*out_ZPlusMirth_3 = v41;
}
static uint64_t mw_mirth_data_elabZ_dataZ_headerZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_SyntaxDataHeader_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_lastZ_nameZAsk(in_ZPlusMirth_1, in_SyntaxDataHeader_3, &v6);
	PTUP v8;
	bool v9 = mw_std_maybe_Maybe_1_has_1_sp14(v6, v7, &v8);
	PTUP branch_ZPlusMirth_10;
	uint64_t branch_Token_11;
	if (v9) {
		branch_Token_11 = in_SyntaxDataHeader_3;
		branch_ZPlusMirth_10 = v8;
	} else {
		STR* v12;
		STRLIT(v12, "Expected type name.", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v8, in_SyntaxDataHeader_3, v12);
	}
	PTUP v14;
	uint64_t v15;
	uint64_t v16;
	INT v17;
	PTUP v18;
	mw_mirth_elab_elabZ_defZ_head(branch_ZPlusMirth_10, branch_Token_11, &v14, &v15, &v16, &v17, &v18);
	PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKU64(v15));
	PTUP v20;
	mw_mirth_data_Data_headZAskZBang(v14, v19, in_Data_2, &v20);
	INT v21 = v17;
	PTUP v22;
	mw_mirth_data_Data_arityZBang(v20, v21, in_Data_2, &v22);
	PTUP v23;
	mw_mirth_data_Data_nameZBang(v22, v16, in_Data_2, &v23);
	PTUP v24 = mtw_mirth_mirth_PropLabel_DataQName(in_Data_2);
	PTUP v25 = mtw_mirth_mirth_Prop_1_Prop(v24, v18);
	void* v26 = field_mut(&mfld_mirth_data_Data_ZTildeqname, in_Data_2);
	mut_set(MKTUP(v25), v26);
	PTUP v27;
	PTUP v28 = mw_mirth_token_Token_args(v23, v15, &v27);
	PTUP v29 = mtw_mirth_mirth_PropLabel_DataParams(in_Data_2);
	PTUP v30;
	PTUP v31 = mw_mirth_mirth_PropLabel_prop_1_sp15(v28, v27, v29, &v30);
	void* v32 = field_mut(&mfld_mirth_data_Data_ZTildeparams, in_Data_2);
	mut_set(MKTUP(v31), v32);
	PTUP v33 = mtw_mirth_def_Def_Data(in_Data_2);
	PTUP v34;
	mw_mirth_def_Def_register(v30, v33, &v34);
	*out_ZPlusMirth_4 = v34;
	return in_Data_2;
}
static PTUP mw_mirth_data_elabZ_dataZ_paramsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_var_Ctx_L0();
	bool v6 = true;
	PTUP v7 = v5;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP v9 = in_List_2;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP v12 = v7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_ZPlusMirth_16;
		PTUP branch_Ctx_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				PTUP v22;
				PTUP v23 = mw_mirth_token_Token_nameZAsk(r13, value_u64(v21), &v22);
				PTUP branch_ZPlusMirth_24;
				uint64_t branch_Token_25;
				VAL branch_z_x1_26;
				switch (PTREXTRA(v23)) {
					case 1LL: { // Some
						VAL v27 = mtp_std_maybe_Maybe_1_Some(v23);
						branch_z_x1_26 = v27;
						branch_Token_25 = value_u64(v21);
						branch_ZPlusMirth_24 = v22;
					} break;
					case 0LL: { // None
						STR* v28;
						STRLIT(v28, "Expected a parameter name.", 26);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, value_u64(v21), v28);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				incref(MKTUP(v12));
				PTUP v32;
				PTUP v33 = mw_mirth_var_Ctx_lookup(branch_ZPlusMirth_24, value_u64(branch_z_x1_26), VTUP(MKTUP(v12)), &v32);
				int64_t v34 = PTREXTRA(v33);
				decref(MKTUP(v33));
				INT v35 = WRAP_I63(0LL);
				INT v36 = v35;
				INT v37 = i64_to_int(v34);
				bool v38 = int_eq(v37, v36);
				bool v39 = !v38;
				PTUP branch_ZPlusMirth_40;
				uint64_t branch_Token_41;
				if (v39) {
					STR* v42;
					STRLIT(v42, "Duplicate parameter name.", 25);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v32, value_u64(MKU64(branch_Token_25)), v42);
				} else {
					branch_Token_41 = value_u64(MKU64(branch_Token_25));
					branch_ZPlusMirth_40 = v32;
				}
				PTUP v45 = PTRMK(0LL /* None */,0,0);
				uint64_t branch_Token_46;
				PTUP branch_ZPlusMirth_47;
				PTUP branch_Maybe_48;
				switch (PTREXTRA(v45)) {
					case 0LL: { // None
						PTUP v49;
						PTUP v50 = mw_mirth_token_Token_sigZ_typeZ_varZAsk(branch_ZPlusMirth_40, branch_Token_41, &v49);
						PTUP branch_ZPlusMirth_51;
						PTUP branch_Maybe_52;
						switch (PTREXTRA(v50)) {
							case 1LL: { // Some
								VAL v53 = mtp_std_maybe_Maybe_1_Some(v50);
								PTUP v54 = mw_mirth_type_Type_TYPE();
								PTUP v55;
								uint64_t v56 = mw_mirth_var_Var_NewZBang(v49, v54, value_u64(v53), &v55);
								PTUP v57 = mtw_std_maybe_Maybe_1_Some(MKU64(v56));
								branch_Maybe_52 = v57;
								branch_ZPlusMirth_51 = v55;
							} break;
							case 0LL: { // None
								PTUP v58 = PTRMK(0LL /* None */,0,0);
								branch_Maybe_52 = v58;
								branch_ZPlusMirth_51 = v49;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_48 = branch_Maybe_52;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_51;
						branch_Token_46 = branch_Token_41;
					} break;
					default: {
						branch_Maybe_48 = v45;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_40;
						branch_Token_46 = branch_Token_41;
					} break;
				}
				uint64_t branch_Token_59;
				PTUP branch_ZPlusMirth_60;
				PTUP branch_Maybe_61;
				switch (PTREXTRA(branch_Maybe_48)) {
					case 0LL: { // None
						PTUP v62;
						PTUP v63 = mw_mirth_token_Token_sigZ_resourceZ_varZAsk(branch_ZPlusMirth_47, branch_Token_46, &v62);
						PTUP branch_ZPlusMirth_64;
						PTUP branch_Maybe_65;
						switch (PTREXTRA(v63)) {
							case 1LL: { // Some
								VAL v66 = mtp_std_maybe_Maybe_1_Some(v63);
								PTUP v67 = mw_mirth_type_Type_RESOURCE();
								PTUP v68;
								uint64_t v69 = mw_mirth_var_Var_NewZBang(v62, v67, value_u64(v66), &v68);
								PTUP v70 = mtw_std_maybe_Maybe_1_Some(MKU64(v69));
								branch_Maybe_65 = v70;
								branch_ZPlusMirth_64 = v68;
							} break;
							case 0LL: { // None
								PTUP v71 = PTRMK(0LL /* None */,0,0);
								branch_Maybe_65 = v71;
								branch_ZPlusMirth_64 = v62;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_61 = branch_Maybe_65;
						branch_ZPlusMirth_60 = branch_ZPlusMirth_64;
						branch_Token_59 = branch_Token_46;
					} break;
					default: {
						branch_Maybe_61 = branch_Maybe_48;
						branch_ZPlusMirth_60 = branch_ZPlusMirth_47;
						branch_Token_59 = branch_Token_46;
					} break;
				}
				uint64_t branch_Token_72;
				PTUP branch_ZPlusMirth_73;
				PTUP branch_Maybe_74;
				switch (PTREXTRA(branch_Maybe_61)) {
					case 0LL: { // None
						PTUP v75;
						PTUP v76 = mw_mirth_token_Token_sigZ_stackZ_varZAsk(branch_ZPlusMirth_60, branch_Token_59, &v75);
						PTUP branch_ZPlusMirth_77;
						PTUP branch_Maybe_78;
						switch (PTREXTRA(v76)) {
							case 1LL: { // Some
								VAL v79 = mtp_std_maybe_Maybe_1_Some(v76);
								PTUP v80 = mw_mirth_type_Type_STACK();
								PTUP v81;
								uint64_t v82 = mw_mirth_var_Var_NewZBang(v75, v80, value_u64(v79), &v81);
								PTUP v83 = mtw_std_maybe_Maybe_1_Some(MKU64(v82));
								branch_Maybe_78 = v83;
								branch_ZPlusMirth_77 = v81;
							} break;
							case 0LL: { // None
								PTUP v84 = PTRMK(0LL /* None */,0,0);
								branch_Maybe_78 = v84;
								branch_ZPlusMirth_77 = v75;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_74 = branch_Maybe_78;
						branch_ZPlusMirth_73 = branch_ZPlusMirth_77;
						branch_Token_72 = branch_Token_59;
					} break;
					default: {
						branch_Maybe_74 = branch_Maybe_61;
						branch_ZPlusMirth_73 = branch_ZPlusMirth_60;
						branch_Token_72 = branch_Token_59;
					} break;
				}
				PTUP branch_ZPlusMirth_85;
				uint64_t branch_Token_86;
				VAL branch_z_x1_87;
				switch (PTREXTRA(branch_Maybe_74)) {
					case 1LL: { // Some
						VAL v88 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_74);
						branch_z_x1_87 = v88;
						branch_Token_86 = branch_Token_72;
						branch_ZPlusMirth_85 = branch_ZPlusMirth_73;
					} break;
					case 0LL: { // None
						STR* v89;
						STRLIT(v89, "Invalid parameter name.", 23);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_73, branch_Token_72, v89);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				decref(MKU64(branch_Token_86));
				PTUP v93 = mw_mirth_var_Ctx_new(VTUP(MKTUP(v12)), value_u64(branch_z_x1_87));
				bool v94 = true;
				branch_Bool_19 = v94;
				branch_List_18 = v20;
				branch_Ctx_17 = v93;
				branch_ZPlusMirth_16 = branch_ZPlusMirth_85;
			} break;
			case 0LL: { // Nil
				PTUP v95 = PTRMK(0LL /* Nil */,0,0);
				bool v96 = false;
				branch_Bool_19 = v96;
				branch_List_18 = v95;
				branch_Ctx_17 = v12;
				branch_ZPlusMirth_16 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusMirth_16;
		v7 = branch_Ctx_17;
	}
	decref(MKTUP(v9));
	PTUP v97 = mw_mirth_var_Ctx_ZToList(v7);
	*out_ZPlusMirth_3 = r8;
	return v97;
}
static uint64_t mw_mirth_data_elabZ_dataZ_tagZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP in_SyntaxDataTag_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	uint64_t v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	mtp_mirth_data_SyntaxDataTag_SyntaxDataTag(in_SyntaxDataTag_3, &v6, &v7, &v8, &v9, &v10);
	PTUP branch_ZPlusMirth_11;
	uint64_t branch_Data_12;
	INT branch_Int_13;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v8);
			branch_Int_13 = value_int(v14);
			branch_Data_12 = in_Data_2;
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			PTUP v15;
			INT v16 = mw_mirth_data_Data_lastZ_tagZ_value(in_ZPlusMirth_1, in_Data_2, &v15);
			INT v17 = WRAP_I63(1LL);
			INT v18 = v17;
			INT v19 = int_add(v16, v18);
			branch_Int_13 = v19;
			branch_Data_12 = in_Data_2;
			branch_ZPlusMirth_11 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v20;
	uint64_t v21 = mw_mirth_data_Tag_MakeZBang(branch_ZPlusMirth_11, v6, branch_Data_12, v9, branch_Int_13, v10, &v20);
	PTUP v22;
	mw_mirth_data_Data_addZ_tagZBang(v20, v21, in_Data_2, &v22);
	PTUP v23 = mtw_mirth_def_Def_Tag(v21);
	PTUP v24;
	mw_mirth_def_Def_register(v22, v23, &v24);
	PTUP v25 = mtw_mirth_mirth_PropLabel_TagType(v21);
	PTUP r26 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r26))->size = 2;
	((TUP*)PTRPTR(r26))->cells[1] = MKU64(v21);
	((TUP*)PTRPTR(r26))->cells[0] = MKU64(v7);
	PTUP v27 = VTUP(((TUP*)PTRPTR(v24))->cells[6]);
	incref(MKTUP(v27));
	FNPTR v28 = &mb_mirth_mirth_PropLabel_prop_1_sp14_0;
	PTUP v29 = mtw_mirth_mirth_PropState_1_Delay(v27, MKTUP(r26), MKFNPTR(v28));
	PTUP v30 = mtw_mirth_mirth_Prop_1_Prop(v25, v29);
	void* v31 = field_mut(&mfld_mirth_data_Tag_ZTildectxZ_type, v21);
	mut_set(MKTUP(v30), v31);
	PTUP v32;
	bool v33 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v24, v21, &v32);
	bool v34 = !v33;
	uint64_t branch_Tag_35;
	PTUP branch_ZPlusMirth_36;
	if (v34) {
		PTUP v37;
		PTUP v38 = mw_mirth_data_Tag_sigZAsk(v32, v21, &v37);
		PTUP branch_ZPlusMirth_39;
		switch (PTREXTRA(v38)) {
			case 1LL: { // Some
				VAL v40 = mtp_std_maybe_Maybe_1_Some(v38);
				PTUP v41;
				PTUP v42 = mw_mirth_token_Token_runZ_tokens(v37, value_u64(v40), &v41);
				PTUP v43 = PTRMK(0LL /* None */,0,0);
				bool v44 = true;
				PTUP r45 = v41;
				PTUP v46 = v43;
				PTUP v47 = v42;
				bool v48 = v44;
				bool v49 = v44;
				while (v49) {
					PTUP r50 = r45;
					PTUP v51 = v46;
					PTUP v52 = v47;
					bool v53 = v48;
					PTUP v54;
					PTUP v55 = mw_std_list_List_1_uncons(v52, &v54);
					PTUP branch_ZPlusMirth_56;
					PTUP branch_Maybe_57;
					PTUP branch_List_58;
					bool branch_Bool_59;
					switch (PTREXTRA(v55)) {
						case 1LL: { // Some
							VAL v60 = mtp_std_maybe_Maybe_1_Some(v55);
							PTUP v61;
							PTUP v62 = mw_mirth_token_Token_sigZ_resourceZ_conZAsk(r50, value_u64(v60), &v61);
							int64_t v63 = PTREXTRA(v62);
							decref(MKTUP(v62));
							INT v64 = WRAP_I63(0LL);
							INT v65 = v64;
							INT v66 = i64_to_int(v63);
							bool v67 = int_eq(v66, v65);
							bool v68 = !v67;
							PTUP branch_ZPlusMirth_69;
							bool branch_Bool_70;
							if (v68) {
								bool v71 = true;
								branch_Bool_70 = v71;
								branch_ZPlusMirth_69 = v61;
							} else {
								PTUP v72;
								PTUP v73 = mw_mirth_token_Token_sigZ_resourceZ_varZAsk(v61, value_u64(v60), &v72);
								int64_t v74 = PTREXTRA(v73);
								decref(MKTUP(v73));
								INT v75 = WRAP_I63(0LL);
								INT v76 = v75;
								INT v77 = i64_to_int(v74);
								bool v78 = int_eq(v77, v76);
								bool v79 = !v78;
								branch_Bool_70 = v79;
								branch_ZPlusMirth_69 = v72;
							}
							PTUP branch_ZPlusMirth_80;
							PTUP branch_Maybe_81;
							if (branch_Bool_70) {
								PTUP v82 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v60)));
								branch_Maybe_81 = v82;
								branch_ZPlusMirth_80 = branch_ZPlusMirth_69;
							} else {
								PTUP v83 = PTRMK(0LL /* None */,0,0);
								branch_Maybe_81 = v83;
								branch_ZPlusMirth_80 = branch_ZPlusMirth_69;
							}
							PTUP branch_ZPlusMirth_84;
							PTUP branch_Maybe_85;
							PTUP branch_List_86;
							switch (PTREXTRA(branch_Maybe_81)) {
								case 0LL: { // None
									branch_List_86 = VTUP(MKTUP(v54));
									branch_Maybe_85 = VTUP(MKTUP(v51));
									branch_ZPlusMirth_84 = branch_ZPlusMirth_80;
								} break;
								default: {
									decref(MKTUP(VTUP(MKTUP(v54))));
									decref(MKTUP(VTUP(MKTUP(v51))));
									PTUP v87 = PTRMK(0LL /* Nil */,0,0);
									branch_List_86 = v87;
									branch_Maybe_85 = branch_Maybe_81;
									branch_ZPlusMirth_84 = branch_ZPlusMirth_80;
								} break;
							}
							bool v88 = true;
							branch_Bool_59 = v88;
							branch_List_58 = branch_List_86;
							branch_Maybe_57 = branch_Maybe_85;
							branch_ZPlusMirth_56 = branch_ZPlusMirth_84;
						} break;
						case 0LL: { // None
							bool v89 = false;
							branch_Bool_59 = v89;
							branch_List_58 = v54;
							branch_Maybe_57 = v51;
							branch_ZPlusMirth_56 = r50;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v49 = branch_Bool_59;
					v48 = branch_Bool_59;
					v47 = branch_List_58;
					v46 = branch_Maybe_57;
					r45 = branch_ZPlusMirth_56;
				}
				decref(MKTUP(v47));
				PTUP branch_ZPlusMirth_90;
				switch (PTREXTRA(v46)) {
					case 1LL: { // Some
						VAL v91 = mtp_std_maybe_Maybe_1_Some(v46);
						STR* v92;
						STRLIT(v92, "Value type cannot contain resource.", 35);
						PTUP v93;
						mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(r45, value_u64(v91), v92, &v93);
						branch_ZPlusMirth_90 = v93;
					} break;
					case 0LL: { // None
						branch_ZPlusMirth_90 = r45;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusMirth_39 = branch_ZPlusMirth_90;
			} break;
			case 0LL: { // None
				branch_ZPlusMirth_39 = v37;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusMirth_36 = branch_ZPlusMirth_39;
		branch_Tag_35 = v21;
	} else {
		branch_ZPlusMirth_36 = v32;
		branch_Tag_35 = v21;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_36;
	return in_Data_2;
}
static uint64_t mw_mirth_data_elabZ_dataZ_declsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4) {
	PTUP v8 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_3));
	incref(MKU64(in_Data_2));
	PTUP v9 = mtw_mirth_tycon_Tycon_Data(value_u64(MKU64(in_Data_2)));
	PTUP v10 = mtw_mirth_name_Namespace_Tycon(v9);
	PTUP v11 = PTRMK(0LL /* DefiningNamespace */,0,0);
	PTUP v12;
	PTUP v13 = mw_mirth_mirth_PropLabel_prop(in_ZPlusMirth_1, MKTUP(v10), v11, &v12);
	PTUP v14 = mtw_std_maybe_Maybe_1_Some(MKTUP(v13));
	PTUP v15 = mtw_mirth_mirth_LexicalState_LexicalState(v8, v14);
	PTUP v16 = VTUP(((TUP*)PTRPTR(v12))->cells[6]);
	incref(MKTUP(v16));
	PTUP v17 = VTUP(((TUP*)PTRPTR(v12))->cells[6]);
	decref(MKTUP(v17));
	((TUP*)PTRPTR(v12))->cells[6] = MKTUP(v15);
	PTUP v18;
	bool v19 = mw_mirth_token_Token_argZ_endZAsk(v12, value_u64(MKU64(in_Token_3)), &v18);
	bool v20 = !v19;
	uint64_t v21 = value_u64(MKU64(in_Token_3));
	PTUP r22 = v18;
	bool v23 = v20;
	while (v23) {
		uint64_t v24 = v21;
		PTUP r25 = r22;
		PTUP v26;
		uint64_t v27 = mw_mirth_elab_elabZ_declZBang(r25, v24, &v26);
		PTUP v28;
		bool v29 = mw_mirth_token_Token_argZ_endZAsk(v26, v27, &v28);
		bool v30 = !v29;
		v23 = v30;
		r22 = v28;
		v21 = v27;
	}
	PTUP v31 = VTUP(((TUP*)PTRPTR(r22))->cells[6]);
	decref(MKTUP(v31));
	((TUP*)PTRPTR(r22))->cells[6] = MKTUP(v16);
	*out_ZPlusMirth_4 = r22;
	return value_u64(MKU64(in_Data_2));
}
static uint64_t mw_mirth_data_dataZ_wordZ_newZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, STR* in_Str_3, INT in_Nat_4, PTUP in_Maybe_5, PTUP *out_ZPlusMirth_6) {
	incref(MKNAT(in_Nat_4));
	incref(MKSTR(in_Str_3));
	PTUP v8;
	uint64_t v9 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, value_str(MKSTR(in_Str_3)), &v8);
	PTUP v10;
	PTUP v11 = mw_mirth_data_Data_headZAsk(v8, in_Data_2, &v10);
	PTUP branch_ZPlusMirth_12;
	VAL branch_z_x1_13;
	switch (PTREXTRA(v11)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v11);
			branch_z_x1_13 = v14;
			branch_ZPlusMirth_12 = v10;
		} break;
		case 0LL: { // None
			STR* v15;
			STRLIT(v15, "Missing data token information.", 31);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v10, v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v18;
	PTUP v19 = mw_mirth_mirth_ZPlusMirth_dataZ_wordZ_qname(branch_ZPlusMirth_12, in_Data_2, value_str(MKSTR(in_Str_3)), value_nat(MKNAT(in_Nat_4)), &v18);
	PTUP v20 = PTRMK(0LL /* None */,0,0);
	PTUP v21;
	uint64_t v22 = mw_mirth_word_Word_NewZBang(v18, value_u64(branch_z_x1_13), v20, value_u64(branch_z_x1_13), v9, in_Nat_4, in_Maybe_5, &v21);
	incref(MKU64(v22));
	PTUP v23 = mtw_mirth_mirth_PropLabel_WordQName(value_u64(MKU64(v22)));
	PTUP v24;
	PTUP v25 = mw_mirth_mirth_PropLabel_prop(v21, MKTUP(v19), v23, &v24);
	incref(MKU64(v22));
	void* v26 = field_mut(&mfld_mirth_word_Word_ZTildeqname, value_u64(MKU64(v22)));
	mut_set(MKTUP(v25), v26);
	*out_ZPlusMirth_6 = v24;
	return value_u64(MKU64(v22));
}
static void mw_mirth_data_elabZ_dataZ_doneZBang (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4;
	bool v5 = mw_mirth_data_Data_isZ_valueZ_typeZAsk(in_ZPlusMirth_1, in_Data_2, &v4);
	uint64_t branch_Data_6;
	PTUP branch_ZPlusMirth_7;
	if (v5) {
		PTUP v8 = PTRMK(0LL /* None */,0,0);
		STR* v9;
		STRLIT(v9, "enum-value", 10);
		INT v10 = WRAP_I63(0LL);
		PTUP v11;
		uint64_t v12 = mw_mirth_data_dataZ_wordZ_newZBang(v4, in_Data_2, v9, v10, v8, &v11);
		PTUP v13;
		PTUP v14 = mw_mirth_data_Data_params(v11, in_Data_2, &v13);
		PTUP v15 = mw_std_list_List_1_ZToCtx(v14);
		PTUP v16;
		PTUP v17 = mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type(v13, in_Data_2, &v16);
		PTUP v18 = mtw_mirth_mirth_PropLabel_WordType(v12);
		PTUP v19;
		PTUP v20 = mw_mirth_mirth_PropLabel_prop2(v16, MKTUP(v15), MKTUP(v17), v18, &v19);
		void* v21 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v12);
		mut_set(MKTUP(v20), v21);
		PTUP v22;
		PTUP v23;
		uint64_t v24;
		PTUP v25;
		uint64_t v26;
		PTUP v27 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v19, v12, &v22, &v23, &v24, &v25, &v26);
		PTUP v28;
		PTUP v29;
		mtp_mirth_type_ArrowType_ArrowType(v23, &v28, &v29);
		incref(MKTUP(v28));
		PTUP v30 = PTRMK(0LL /* Nil */,0,0);
		PTUP v31 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v25)), value_u64(MKU64(v24)), value_u64(MKU64(v24)), v27, v28, v28, v30);
		PTUP v32 = PTRMK(0LL /* Nil */,0,0);
		PTUP v33 = mtw_mirth_arrow_Op_DataGetEnumValue(in_Data_2);
		PTUP v34;
		PTUP v35;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v22, v31, v32, v33, &v34, &v35);
		PTUP v36;
		PTUP v37;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v34, v35, v29, &v36, &v37);
		PTUP v38;
		PTUP v39 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v36, v37, v26, &v38);
		PTUP v40 = mtw_mirth_mirth_PropLabel_WordArrow(v12);
		PTUP v41;
		PTUP v42 = mw_mirth_mirth_PropLabel_prop(v38, MKTUP(v39), v40, &v41);
		incref(MKU64(v12));
		void* v43 = field_mut(&mfld_mirth_word_Word_ZTildearrow, value_u64(MKU64(v12)));
		mut_set(MKTUP(v42), v43);
		PTUP v44;
		mw_mirth_word_Word_makeZ_inlineZBang(v41, value_u64(MKU64(v12)), &v44);
		branch_ZPlusMirth_7 = v44;
		branch_Data_6 = in_Data_2;
	} else {
		branch_ZPlusMirth_7 = v4;
		branch_Data_6 = in_Data_2;
	}
	PTUP v45;
	bool v46 = mw_mirth_data_Data_isZ_enumZAsk(branch_ZPlusMirth_7, branch_Data_6, &v45);
	uint64_t branch_Data_47;
	PTUP branch_ZPlusMirth_48;
	if (v46) {
		PTUP v49 = PTRMK(0LL /* None */,0,0);
		STR* v50;
		STRLIT(v50, "from-enum-value-unsafe", 22);
		INT v51 = WRAP_I63(0LL);
		PTUP v52;
		uint64_t v53 = mw_mirth_data_dataZ_wordZ_newZBang(v45, branch_Data_6, v50, v51, v49, &v52);
		PTUP v54;
		PTUP v55 = mw_mirth_data_Data_params(v52, branch_Data_6, &v54);
		PTUP v56 = mw_std_list_List_1_ZToCtx(v55);
		PTUP v57;
		PTUP v58 = mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type(v54, branch_Data_6, &v57);
		PTUP v59 = mtw_mirth_mirth_PropLabel_WordType(v53);
		PTUP v60;
		PTUP v61 = mw_mirth_mirth_PropLabel_prop2(v57, MKTUP(v56), MKTUP(v58), v59, &v60);
		void* v62 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v53);
		mut_set(MKTUP(v61), v62);
		PTUP v63;
		PTUP v64;
		uint64_t v65;
		PTUP v66;
		uint64_t v67;
		PTUP v68 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v60, v53, &v63, &v64, &v65, &v66, &v67);
		PTUP v69;
		PTUP v70;
		mtp_mirth_type_ArrowType_ArrowType(v64, &v69, &v70);
		incref(MKTUP(v69));
		PTUP v71 = PTRMK(0LL /* Nil */,0,0);
		PTUP v72 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v66)), value_u64(MKU64(v65)), value_u64(MKU64(v65)), v68, v69, v69, v71);
		PTUP v73 = PTRMK(0LL /* Nil */,0,0);
		PTUP v74 = mtw_mirth_arrow_Op_DataFromEnumValue(branch_Data_6);
		PTUP v75;
		PTUP v76;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v63, v72, v73, v74, &v75, &v76);
		PTUP v77;
		PTUP v78;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v75, v76, v70, &v77, &v78);
		PTUP v79;
		PTUP v80 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v77, v78, v67, &v79);
		PTUP v81 = mtw_mirth_mirth_PropLabel_WordArrow(v53);
		PTUP v82;
		PTUP v83 = mw_mirth_mirth_PropLabel_prop(v79, MKTUP(v80), v81, &v82);
		incref(MKU64(v53));
		void* v84 = field_mut(&mfld_mirth_word_Word_ZTildearrow, value_u64(MKU64(v53)));
		mut_set(MKTUP(v83), v84);
		PTUP v85;
		mw_mirth_word_Word_makeZ_inlineZBang(v82, value_u64(MKU64(v53)), &v85);
		branch_ZPlusMirth_48 = v85;
		branch_Data_47 = branch_Data_6;
	} else {
		branch_ZPlusMirth_48 = v45;
		branch_Data_47 = branch_Data_6;
	}
	PTUP v86;
	PTUP v87 = mw_mirth_data_Data_tags(branch_ZPlusMirth_48, branch_Data_47, &v86);
	PTUP v88 = mw_std_list_List_1_singleZAsk(v87);
	uint64_t branch_Data_89;
	PTUP branch_ZPlusMirth_90;
	switch (PTREXTRA(v88)) {
		case 1LL: { // Some
			VAL v91 = mtp_std_maybe_Maybe_1_Some(v88);
			PTUP v92 = PTRMK(0LL /* None */,0,0);
			STR* v93;
			STRLIT(v93, "/", 1);
			PTUP v94;
			uint64_t v95 = mw_mirth_data_Tag_name(v86, value_u64(v91), &v94);
			PTUP v96;
			STR* v97 = mw_mirth_name_Name_ZToStr(v94, v95, &v96);
			STR* v98 = str_cat(v93, v97);
			INT v99 = WRAP_I63(0LL);
			PTUP v100;
			uint64_t v101 = mw_mirth_data_dataZ_wordZ_newZBang(v96, branch_Data_47, v98, v99, v92, &v100);
			PTUP v102 = mtw_std_maybe_Maybe_1_Some(MKU64(v101));
			PTUP v103;
			mw_mirth_data_Tag_untagZAskZBang(v100, v102, value_u64(v91), &v103);
			PTUP v104 = mtw_mirth_mirth_PropLabel_WordType(v101);
			PTUP v105 = VTUP(((TUP*)PTRPTR(v103))->cells[6]);
			incref(MKTUP(v105));
			FNPTR v106 = &mb_mirth_mirth_PropLabel_prop_1_sp5_0;
			PTUP v107 = mtw_mirth_mirth_PropState_1_Delay(v105, MKU64(value_u64(v91)), MKFNPTR(v106));
			PTUP v108 = mtw_mirth_mirth_Prop_1_Prop(v104, v107);
			void* v109 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v101);
			mut_set(MKTUP(v108), v109);
			PTUP v110 = mtw_mirth_mirth_PropLabel_WordArrow(v101);
			PTUP r111 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r111))->size = 2;
			((TUP*)PTRPTR(r111))->cells[1] = MKU64(v101);
			((TUP*)PTRPTR(r111))->cells[0] = MKU64(value_u64(v91));
			PTUP v112 = VTUP(((TUP*)PTRPTR(v103))->cells[6]);
			incref(MKTUP(v112));
			FNPTR v113 = &mb_mirth_mirth_PropLabel_prop_1_sp13_0;
			PTUP v114 = mtw_mirth_mirth_PropState_1_Delay(v112, MKTUP(r111), MKFNPTR(v113));
			PTUP v115 = mtw_mirth_mirth_Prop_1_Prop(v110, v114);
			void* v116 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v101);
			mut_set(MKTUP(v115), v116);
			PTUP v117;
			mw_mirth_word_Word_makeZ_inlineZBang(v103, v101, &v117);
			PTUP v118;
			mw_mirth_data_createZ_projectorsZBang(v117, value_u64(v91), &v118);
			decref(MKU64(v101));
			decref(MKU64(value_u64(v91)));
			branch_ZPlusMirth_90 = v118;
			branch_Data_89 = branch_Data_47;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_90 = v86;
			branch_Data_89 = branch_Data_47;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v119 = mtw_mirth_mirth_PropLabel_DataCType(branch_Data_89);
	PTUP v120 = VTUP(((TUP*)PTRPTR(branch_ZPlusMirth_90))->cells[6]);
	incref(MKTUP(v120));
	FNPTR v121 = &mb_mirth_mirth_PropLabel_prop_1_sp4_0;
	PTUP v122 = mtw_mirth_mirth_PropState_1_Delay(v120, MKU64(branch_Data_89), MKFNPTR(v121));
	PTUP v123 = mtw_mirth_mirth_Prop_1_Prop(v119, v122);
	void* v124 = field_mut(&mfld_mirth_data_Data_ZTildectypeZAsk, branch_Data_89);
	mut_set(MKTUP(v123), v124);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_90;
}
static PTUP mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, in_Tag_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Either_9;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Left
			VAL v10 = mtp_std_either_Either_2_Left(v7);
			PTUP v11;
			PTUP v12 = mw_mirth_type_Type_exceptZ_field(v6, in_Label_2, in_Tag_3, VTUP(v10), &v11);
			PTUP v13 = mtw_std_either_Either_2_Left(MKTUP(v12));
			branch_Either_9 = v13;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 1LL: { // Right
			VAL v14 = mtp_std_either_Either_2_Right(v7);
			PTUP v15;
			PTUP v16 = mw_mirth_type_Resource_exceptZ_field(v6, in_Label_2, in_Tag_3, VTUP(v14), &v15);
			PTUP v17 = mtw_std_either_Either_2_Right(MKTUP(v16));
			branch_Either_9 = v17;
			branch_ZPlusMirth_8 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Either_9;
}
static PTUP mw_mirth_data_Tag_projectZ_inputZ_label (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_3, &v6);
	PTUP v8 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
	incref(MKTUP(v8));
	decref(MKTUP(v7));
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_labelZ_topZAsk(v6, in_Label_2, v8, &v9);
	*out_ZPlusMirth_4 = v9;
	return v10;
}
static PTUP mw_mirth_data_Tag_projectZ_tagZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4) {
	incref(MKU64(in_Label_2));
	incref(MKU64(in_Tag_3));
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_projectZ_inputZ_label(in_ZPlusMirth_1, value_u64(MKU64(in_Label_2)), value_u64(MKU64(in_Tag_3)), &v6);
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			PTUP v10 = mtw_mirth_data_TagField_TagField(value_u64(MKU64(in_Tag_3)), value_u64(MKU64(in_Label_2)), VTUP(v9));
			PTUP v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v10));
			branch_Maybe_8 = v11;
		} break;
		case 0LL: { // None
			decref(MKU64(value_u64(MKU64(in_Tag_3))));
			decref(MKU64(value_u64(MKU64(in_Label_2))));
			PTUP v12 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = v6;
	return branch_Maybe_8;
}
static PTUP mw_mirth_data_dataZ_getZ_labelZ_type (PTUP in_ZPlusMirth_1, PTUP in_TagField_2, PTUP *out_ZPlusMirth_3) {
	uint64_t v5;
	uint64_t v6;
	PTUP v7;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v5, &v6, &v7);
	uint64_t branch_Label_8;
	uint64_t branch_Tag_9;
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ArrowType_11;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Left
			VAL v12 = mtp_std_either_Either_2_Left(v7);
			PTUP v13 = mw_mirth_type_T0();
			PTUP v14;
			PTUP v15 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v14);
			PTUP v16 = mw_mirth_type_TZMulZPlus(v13, v15);
			PTUP v17 = mw_mirth_type_T1(VTUP(v12));
			PTUP v18;
			uint64_t v19 = mw_mirth_data_Tag_data(v14, v5, &v18);
			PTUP v20;
			bool v21 = mw_mirth_data_Data_isZ_resourceZAsk(v18, v19, &v20);
			uint64_t branch_Tag_22;
			PTUP branch_ZPlusMirth_23;
			PTUP branch_StackType_24;
			if (v21) {
				PTUP v25;
				PTUP v26 = mw_mirth_data_Tag_outputZ_type(v20, v5, &v25);
				PTUP v27 = mw_mirth_type_TZMulZPlus(v17, v26);
				branch_StackType_24 = v27;
				branch_ZPlusMirth_23 = v25;
				branch_Tag_22 = v5;
			} else {
				branch_StackType_24 = v17;
				branch_ZPlusMirth_23 = v20;
				branch_Tag_22 = v5;
			}
			PTUP v28 = mw_mirth_type_TZ_ZTo(v16, branch_StackType_24);
			branch_ArrowType_11 = v28;
			branch_ZPlusMirth_10 = branch_ZPlusMirth_23;
			branch_Tag_9 = branch_Tag_22;
			branch_Label_8 = v6;
		} break;
		case 1LL: { // Right
			VAL v29 = mtp_std_either_Either_2_Right(v7);
			PTUP v30 = mw_mirth_type_T0();
			PTUP v31;
			PTUP v32 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v31);
			PTUP v33 = mw_mirth_type_TZMulZPlus(v30, v32);
			PTUP v34 = mw_mirth_type_T0();
			PTUP v35 = mw_mirth_type_TZPlus(VTUP(MKTUP(v34)), VTUP(v29));
			PTUP v36;
			PTUP v37 = mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field(v31, v6, v5, &v36);
			PTUP v38 = mw_mirth_type_TZMulZPlus(v35, v37);
			PTUP v39 = mw_mirth_type_TZ_ZTo(VTUP(MKTUP(v33)), v38);
			branch_ArrowType_11 = v39;
			branch_ZPlusMirth_10 = v36;
			branch_Tag_9 = v5;
			branch_Label_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Tag_9));
	decref(MKU64(branch_Label_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_ArrowType_11;
}
static PTUP mw_mirth_data_dataZ_setZ_labelZ_type (PTUP in_ZPlusMirth_1, PTUP in_TagField_2, PTUP *out_ZPlusMirth_3) {
	uint64_t v5;
	uint64_t v6;
	PTUP v7;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v5, &v6, &v7);
	uint64_t branch_Label_8;
	uint64_t branch_Tag_9;
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ArrowType_11;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Left
			VAL v12 = mtp_std_either_Either_2_Left(v7);
			PTUP v13 = mw_mirth_type_T1(VTUP(v12));
			PTUP v14;
			PTUP v15 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v14);
			PTUP v16 = mw_mirth_type_TZMulZPlus(v13, v15);
			PTUP v17 = mw_mirth_type_T0();
			PTUP v18;
			PTUP v19 = mw_mirth_data_Tag_outputZ_type(v14, v5, &v18);
			PTUP v20 = mw_mirth_type_TZMulZPlus(v17, v19);
			PTUP v21 = mw_mirth_type_TZ_ZTo(v16, v20);
			branch_ArrowType_11 = v21;
			branch_ZPlusMirth_10 = v18;
			branch_Tag_9 = v5;
			branch_Label_8 = v6;
		} break;
		case 1LL: { // Right
			VAL v22 = mtp_std_either_Either_2_Right(v7);
			PTUP v23 = mw_mirth_type_T0();
			PTUP v24 = mw_mirth_type_TZPlus(v23, VTUP(v22));
			PTUP v25;
			PTUP v26 = mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field(in_ZPlusMirth_1, v6, v5, &v25);
			PTUP v27 = mw_mirth_type_TZMulZPlus(v24, v26);
			PTUP v28 = mw_mirth_type_T0();
			PTUP v29;
			PTUP v30 = mw_mirth_data_Tag_outputZ_type(v25, v5, &v29);
			PTUP v31 = mw_mirth_type_TZMulZPlus(v28, v30);
			PTUP v32 = mw_mirth_type_TZ_ZTo(v27, v31);
			branch_ArrowType_11 = v32;
			branch_ZPlusMirth_10 = v29;
			branch_Tag_9 = v5;
			branch_Label_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Tag_9));
	decref(MKU64(branch_Label_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_ArrowType_11;
}
static void mw_mirth_data_createZ_projectorsZBang (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4;
	uint64_t v5 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v4);
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_labelZ_inputs(v4, in_Tag_2, &v6);
	PTUP v8 = mw_std_list_List_1_reverse(v7);
	bool v9 = true;
	uint64_t v10 = in_Tag_2;
	PTUP r11 = v6;
	uint64_t v12 = v5;
	PTUP v13 = v8;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		uint64_t v16 = v10;
		PTUP r17 = r11;
		uint64_t v18 = v12;
		PTUP v19 = v13;
		bool v20 = v14;
		uint64_t branch_Tag_21;
		uint64_t branch_Data_22;
		PTUP branch_ZPlusMirth_23;
		PTUP branch_List_24;
		bool branch_Bool_25;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Cons
				PTUP v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				PTUP v28;
				uint64_t v29 = mw_mirth_label_Label_name(r17, value_u64(v27), &v28);
				INT v30 = WRAP_I63(0LL);
				PTUP v31;
				PTUP v32 = mw_mirth_mirth_ZPlusMirth_dataZ_qname(v28, v18, v29, v30, &v31);
				PTUP v33;
				bool v34 = mw_mirth_name_QName_undefinedZ_softZAsk(v31, v32, &v33);
				uint64_t branch_Tag_35;
				uint64_t branch_Label_36;
				uint64_t branch_Data_37;
				PTUP branch_ZPlusMirth_38;
				if (v34) {
					PTUP v39 = PTRMK(0LL /* None */,0,0);
					PTUP v40;
					STR* v41 = mw_mirth_label_Label_ZToStr(v33, value_u64(v27), &v40);
					INT v42 = WRAP_I63(0LL);
					PTUP v43;
					uint64_t v44 = mw_mirth_data_dataZ_wordZ_newZBang(v40, v18, v41, v42, v39, &v43);
					PTUP v45 = PTRMK(0LL /* None */,0,0);
					PTUP v46;
					STR* v47 = mw_mirth_label_Label_ZToStr(v43, value_u64(v27), &v46);
					STR* v48;
					STRLIT(v48, "!", 1);
					STR* v49 = str_cat(v47, v48);
					INT v50 = WRAP_I63(0LL);
					PTUP v51;
					uint64_t v52 = mw_mirth_data_dataZ_wordZ_newZBang(v46, v18, v49, v50, v45, &v51);
					PTUP v53 = PTRMK(0LL /* None */,0,0);
					PTUP v54;
					STR* v55 = mw_mirth_label_Label_ZToStr(v51, value_u64(v27), &v54);
					INT v56 = WRAP_I63(1LL);
					PTUP v57;
					uint64_t v58 = mw_mirth_data_dataZ_wordZ_newZBang(v54, v18, v55, v56, v53, &v57);
					PTUP v59;
					mw_mirth_word_Word_makeZ_inlineZBang(v57, v44, &v59);
					PTUP v60 = mtw_mirth_mirth_PropLabel_WordType(v44);
					PTUP r61 = PTRMK(0,tup_new(2),0);
					((TUP*)PTRPTR(r61))->size = 2;
					((TUP*)PTRPTR(r61))->cells[1] = MKU64(value_u64(v27));
					((TUP*)PTRPTR(r61))->cells[0] = MKU64(v16);
					PTUP v62 = VTUP(((TUP*)PTRPTR(v59))->cells[6]);
					incref(MKTUP(v62));
					FNPTR v63 = &mb_mirth_mirth_PropLabel_prop_1_sp12_0;
					PTUP v64 = mtw_mirth_mirth_PropState_1_Delay(v62, MKTUP(r61), MKFNPTR(v63));
					PTUP v65 = mtw_mirth_mirth_Prop_1_Prop(v60, v64);
					void* v66 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v44);
					mut_set(MKTUP(v65), v66);
					PTUP v67 = mtw_mirth_mirth_PropLabel_WordArrow(v44);
					PTUP r68 = PTRMK(0,tup_new(3),0);
					((TUP*)PTRPTR(r68))->size = 3;
					((TUP*)PTRPTR(r68))->cells[2] = MKU64(v44);
					((TUP*)PTRPTR(r68))->cells[1] = MKU64(value_u64(v27));
					((TUP*)PTRPTR(r68))->cells[0] = MKU64(v16);
					PTUP v69 = VTUP(((TUP*)PTRPTR(v59))->cells[6]);
					incref(MKTUP(v69));
					FNPTR v70 = &mb_mirth_mirth_PropLabel_prop_1_sp11_0;
					PTUP v71 = mtw_mirth_mirth_PropState_1_Delay(v69, MKTUP(r68), MKFNPTR(v70));
					PTUP v72 = mtw_mirth_mirth_Prop_1_Prop(v67, v71);
					void* v73 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v44);
					mut_set(MKTUP(v72), v73);
					PTUP v74;
					mw_mirth_word_Word_makeZ_inlineZBang(v59, v52, &v74);
					PTUP v75 = mtw_mirth_mirth_PropLabel_WordType(v52);
					PTUP r76 = PTRMK(0,tup_new(2),0);
					((TUP*)PTRPTR(r76))->size = 2;
					((TUP*)PTRPTR(r76))->cells[1] = MKU64(value_u64(v27));
					((TUP*)PTRPTR(r76))->cells[0] = MKU64(v16);
					PTUP v77 = VTUP(((TUP*)PTRPTR(v74))->cells[6]);
					incref(MKTUP(v77));
					FNPTR v78 = &mb_mirth_mirth_PropLabel_prop_1_sp10_0;
					PTUP v79 = mtw_mirth_mirth_PropState_1_Delay(v77, MKTUP(r76), MKFNPTR(v78));
					PTUP v80 = mtw_mirth_mirth_Prop_1_Prop(v75, v79);
					void* v81 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v52);
					mut_set(MKTUP(v80), v81);
					PTUP v82 = mtw_mirth_mirth_PropLabel_WordArrow(v52);
					PTUP r83 = PTRMK(0,tup_new(3),0);
					((TUP*)PTRPTR(r83))->size = 3;
					((TUP*)PTRPTR(r83))->cells[2] = MKU64(v52);
					((TUP*)PTRPTR(r83))->cells[1] = MKU64(value_u64(v27));
					((TUP*)PTRPTR(r83))->cells[0] = MKU64(v16);
					PTUP v84 = VTUP(((TUP*)PTRPTR(v74))->cells[6]);
					incref(MKTUP(v84));
					FNPTR v85 = &mb_mirth_mirth_PropLabel_prop_1_sp9_0;
					PTUP v86 = mtw_mirth_mirth_PropState_1_Delay(v84, MKTUP(r83), MKFNPTR(v85));
					PTUP v87 = mtw_mirth_mirth_Prop_1_Prop(v82, v86);
					void* v88 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v52);
					mut_set(MKTUP(v87), v88);
					PTUP v89;
					mw_mirth_word_Word_makeZ_inlineZBang(v74, v58, &v89);
					PTUP v90 = mtw_mirth_mirth_PropLabel_WordType(v58);
					PTUP r91 = PTRMK(0,tup_new(2),0);
					((TUP*)PTRPTR(r91))->size = 2;
					((TUP*)PTRPTR(r91))->cells[1] = MKU64(value_u64(v27));
					((TUP*)PTRPTR(r91))->cells[0] = MKU64(v16);
					PTUP v92 = VTUP(((TUP*)PTRPTR(v89))->cells[6]);
					incref(MKTUP(v92));
					FNPTR v93 = &mb_mirth_mirth_PropLabel_prop_1_sp8_0;
					PTUP v94 = mtw_mirth_mirth_PropState_1_Delay(v92, MKTUP(r91), MKFNPTR(v93));
					PTUP v95 = mtw_mirth_mirth_Prop_1_Prop(v90, v94);
					void* v96 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v58);
					mut_set(MKTUP(v95), v96);
					PTUP v97 = mtw_mirth_mirth_PropLabel_WordParams(v58);
					PTUP v98 = VTUP(((TUP*)PTRPTR(v89))->cells[6]);
					incref(MKTUP(v98));
					FNPTR v99 = &mb_mirth_mirth_PropLabel_prop_1_sp6_0;
					PTUP v100 = mtw_mirth_mirth_PropState_1_Delay(v98, MKU64(v58), MKFNPTR(v99));
					PTUP v101 = mtw_mirth_mirth_Prop_1_Prop(v97, v100);
					void* v102 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v58);
					mut_set(MKTUP(v101), v102);
					PTUP v103 = mtw_mirth_mirth_PropLabel_WordArrow(v58);
					PTUP r104 = PTRMK(0,tup_new(4),0);
					((TUP*)PTRPTR(r104))->size = 4;
					((TUP*)PTRPTR(r104))->cells[3] = MKU64(v58);
					((TUP*)PTRPTR(r104))->cells[2] = MKU64(v52);
					((TUP*)PTRPTR(r104))->cells[1] = MKU64(v44);
					((TUP*)PTRPTR(r104))->cells[0] = MKU64(v18);
					PTUP v105 = VTUP(((TUP*)PTRPTR(v89))->cells[6]);
					incref(MKTUP(v105));
					FNPTR v106 = &mb_mirth_mirth_PropLabel_prop_1_sp7_0;
					PTUP v107 = mtw_mirth_mirth_PropState_1_Delay(v105, MKTUP(r104), MKFNPTR(v106));
					PTUP v108 = mtw_mirth_mirth_Prop_1_Prop(v103, v107);
					void* v109 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v58);
					mut_set(MKTUP(v108), v109);
					decref(MKU64(v58));
					decref(MKU64(v52));
					decref(MKU64(v44));
					branch_ZPlusMirth_38 = v89;
					branch_Data_37 = v18;
					branch_Label_36 = value_u64(v27);
					branch_Tag_35 = v16;
				} else {
					branch_ZPlusMirth_38 = v33;
					branch_Data_37 = v18;
					branch_Label_36 = value_u64(v27);
					branch_Tag_35 = v16;
				}
				bool v110 = true;
				branch_Bool_25 = v110;
				branch_List_24 = v26;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_38;
				branch_Data_22 = branch_Data_37;
				branch_Tag_21 = branch_Tag_35;
			} break;
			case 0LL: { // Nil
				PTUP v111 = PTRMK(0LL /* Nil */,0,0);
				bool v112 = false;
				branch_Bool_25 = v112;
				branch_List_24 = v111;
				branch_ZPlusMirth_23 = r17;
				branch_Data_22 = v18;
				branch_Tag_21 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		v12 = branch_Data_22;
		r11 = branch_ZPlusMirth_23;
		v10 = branch_Tag_21;
	}
	decref(MKTUP(v13));
	decref(MKU64(v10));
	decref(MKU64(v12));
	*out_ZPlusMirth_3 = r11;
}
static PTUP mw_mirth_arrow_Arrow_ctxZ_type (PTUP in_Arrow_1, PTUP *out_ArrowType_3) {
	incref(MKTUP(in_Arrow_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_Arrow_1))->cells[3]);
	incref(MKTUP(v4));
	decref(MKTUP(in_Arrow_1));
	PTUP v5 = mw_mirth_arrow_Arrow_type(in_Arrow_1);
	*out_ArrowType_3 = v5;
	return v4;
}
static PTUP mw_mirth_arrow_Arrow_type (PTUP in_Arrow_1) {
	incref(MKTUP(in_Arrow_1));
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Arrow_1))->cells[4]);
	incref(MKTUP(v3));
	decref(MKTUP(in_Arrow_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_Arrow_1))->cells[5]);
	incref(MKTUP(v4));
	decref(MKTUP(in_Arrow_1));
	PTUP v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	return v5;
}
static PTUP mw_mirth_arrow_Arrow_toZ_runZ_var (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Arrow_2))->cells[6]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Arrow_2));
	PTUP v6 = mw_std_list_List_1_singleZAsk(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			PTUP v11 = mw_mirth_arrow_Atom_toZ_runZ_var(in_ZPlusMirth_1, VTUP(v9), &v10);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			PTUP v12 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_arrow_Arrow_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Arrow_2))->cells[6]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Arrow_2));
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	PTUP r9 = in_ZPlusMirth_1;
	PTUP r10 = v7;
	PTUP v11 = v5;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP r15 = r10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP branch_ZPlusMirth_18;
		PTUP branch_ZPlusLister_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Cons
				PTUP v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				PTUP v24;
				PTUP v25 = mw_mirth_arrow_Atom_freeZ_vars(r14, VTUP(v23), &v24);
				PTUP v26;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v25), r15, &v26);
				bool v27 = true;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				PTUP v28 = PTRMK(0LL /* Nil */,0,0);
				bool v29 = false;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusLister_19 = r15;
				branch_ZPlusMirth_18 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		r10 = branch_ZPlusLister_19;
		r9 = branch_ZPlusMirth_18;
	}
	decref(MKTUP(v11));
	PTUP v30 = mw_std_list_ZPlusLister_1_doneZBang(r10);
	PTUP v31 = mw_std_list_List_1_unions_sp1(v30);
	*out_ZPlusMirth_3 = r9;
	return v31;
}
static PTUP mw_mirth_arrow_Atom_toZ_runZ_var (PTUP in_ZPlusMirth_1, PTUP in_Atom_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Atom_2))->cells[3]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Atom_2));
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Op_toZ_runZ_var(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static PTUP mw_mirth_arrow_Atom_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Atom_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_Atom_2));
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Atom_2))->cells[4]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Atom_2));
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	PTUP r9 = in_ZPlusMirth_1;
	PTUP r10 = v7;
	PTUP v11 = v5;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP r15 = r10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP branch_ZPlusMirth_18;
		PTUP branch_ZPlusLister_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Cons
				PTUP v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				PTUP v24;
				PTUP v25 = mw_mirth_arrow_Arg_freeZ_vars(r14, value_u64(v23), &v24);
				PTUP v26;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v25), r15, &v26);
				bool v27 = true;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				PTUP v28 = PTRMK(0LL /* Nil */,0,0);
				bool v29 = false;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusLister_19 = r15;
				branch_ZPlusMirth_18 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		r10 = branch_ZPlusLister_19;
		r9 = branch_ZPlusMirth_18;
	}
	decref(MKTUP(v11));
	PTUP v30 = mw_std_list_ZPlusLister_1_doneZBang(r10);
	PTUP v31 = mw_std_list_List_1_unions_sp1(v30);
	PTUP v32 = VTUP(((TUP*)PTRPTR(in_Atom_2))->cells[3]);
	incref(MKTUP(v32));
	decref(MKTUP(in_Atom_2));
	PTUP v33;
	PTUP v34 = mw_mirth_arrow_Op_freeZ_vars(r9, v32, &v33);
	PTUP v35 = mw_std_list_List_1_union_sp1(v31, v34);
	*out_ZPlusMirth_3 = v33;
	return v35;
}
static PTUP mw_mirth_arrow_Arg_freeZ_vars (PTUP in_ZPlusMirth_1, uint64_t in_Arg_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, in_Arg_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_arrow_PushValue_ZEqual (PTUP in_PushValue_1, PTUP in_PushValue_2) {
	bool branch_Bool_4;
	switch (PTREXTRA(in_PushValue_2)) {
		case 0LL: { // Str
			STR* v5 = mtp_mirth_arrow_PushValue_Str(in_PushValue_2);
			bool branch_Bool_6;
			switch (PTREXTRA(in_PushValue_1)) {
				case 0LL: { // Str
					STR* v7 = mtp_mirth_arrow_PushValue_Str(in_PushValue_1);
					bool v8 = (str_cmp(v7, v5) == 0);
					branch_Bool_6 = v8;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKSTR(v5));
					bool v9 = false;
					branch_Bool_6 = v9;
				} break;
			}
			branch_Bool_4 = branch_Bool_6;
		} break;
		case 1LL: { // Int
			INT v10 = mtp_mirth_arrow_PushValue_Int(in_PushValue_2);
			bool branch_Bool_11;
			switch (PTREXTRA(in_PushValue_1)) {
				case 1LL: { // Int
					INT v12 = mtp_mirth_arrow_PushValue_Int(in_PushValue_1);
					bool v13 = int_eq(v12, v10);
					branch_Bool_11 = v13;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKINT(v10));
					bool v14 = false;
					branch_Bool_11 = v14;
				} break;
			}
			branch_Bool_4 = branch_Bool_11;
		} break;
		case 2LL: { // Nat
			INT v15 = mtp_mirth_arrow_PushValue_Nat(in_PushValue_2);
			bool branch_Bool_16;
			switch (PTREXTRA(in_PushValue_1)) {
				case 2LL: { // Nat
					INT v17 = mtp_mirth_arrow_PushValue_Nat(in_PushValue_1);
					INT v18 = v15;
					INT v19 = v17;
					bool v20 = int_eq(v19, v18);
					branch_Bool_16 = v20;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKNAT(v15));
					bool v21 = false;
					branch_Bool_16 = v21;
				} break;
			}
			branch_Bool_4 = branch_Bool_16;
		} break;
		case 3LL: { // U8
			uint8_t v22 = mtp_mirth_arrow_PushValue_U8(in_PushValue_2);
			bool branch_Bool_23;
			switch (PTREXTRA(in_PushValue_1)) {
				case 3LL: { // U8
					uint8_t v24 = mtp_mirth_arrow_PushValue_U8(in_PushValue_1);
					uint64_t v25 = (uint64_t)(v22);
					uint32_t v26 = (uint32_t)(v25);
					uint64_t v27 = (uint64_t)(v24);
					uint32_t v28 = (uint32_t)(v27);
					uint64_t v29 = (uint64_t)(v28);
					uint64_t v30 = (uint64_t)(v26);
					bool v31 = (value_u64(MKU64(v29)) == v30);
					branch_Bool_23 = v31;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKU8(v22));
					bool v32 = false;
					branch_Bool_23 = v32;
				} break;
			}
			branch_Bool_4 = branch_Bool_23;
		} break;
		case 4LL: { // U16
			uint16_t v33 = mtp_mirth_arrow_PushValue_U16(in_PushValue_2);
			bool branch_Bool_34;
			switch (PTREXTRA(in_PushValue_1)) {
				case 4LL: { // U16
					uint16_t v35 = mtp_mirth_arrow_PushValue_U16(in_PushValue_1);
					uint64_t v36 = (uint64_t)(v33);
					uint32_t v37 = (uint32_t)(v36);
					uint64_t v38 = (uint64_t)(v35);
					uint32_t v39 = (uint32_t)(v38);
					uint64_t v40 = (uint64_t)(v39);
					uint64_t v41 = (uint64_t)(v37);
					bool v42 = (value_u64(MKU64(v40)) == v41);
					branch_Bool_34 = v42;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKU16(v33));
					bool v43 = false;
					branch_Bool_34 = v43;
				} break;
			}
			branch_Bool_4 = branch_Bool_34;
		} break;
		case 5LL: { // U32
			uint32_t v44 = mtp_mirth_arrow_PushValue_U32(in_PushValue_2);
			bool branch_Bool_45;
			switch (PTREXTRA(in_PushValue_1)) {
				case 5LL: { // U32
					uint32_t v46 = mtp_mirth_arrow_PushValue_U32(in_PushValue_1);
					uint64_t v47 = (uint64_t)(v46);
					uint64_t v48 = (uint64_t)(v44);
					bool v49 = (value_u64(MKU64(v47)) == v48);
					branch_Bool_45 = v49;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKU32(v44));
					bool v50 = false;
					branch_Bool_45 = v50;
				} break;
			}
			branch_Bool_4 = branch_Bool_45;
		} break;
		case 6LL: { // U64
			uint64_t v51 = mtp_mirth_arrow_PushValue_U64(in_PushValue_2);
			bool branch_Bool_52;
			switch (PTREXTRA(in_PushValue_1)) {
				case 6LL: { // U64
					uint64_t v53 = mtp_mirth_arrow_PushValue_U64(in_PushValue_1);
					bool v54 = (v53 == v51);
					branch_Bool_52 = v54;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKU64(v51));
					bool v55 = false;
					branch_Bool_52 = v55;
				} break;
			}
			branch_Bool_4 = branch_Bool_52;
		} break;
		case 7LL: { // I8
			int8_t v56 = mtp_mirth_arrow_PushValue_I8(in_PushValue_2);
			bool branch_Bool_57;
			switch (PTREXTRA(in_PushValue_1)) {
				case 7LL: { // I8
					int8_t v58 = mtp_mirth_arrow_PushValue_I8(in_PushValue_1);
					int64_t v59 = (int64_t)(v56);
					int64_t v60 = (int64_t)(v58);
					bool v61 = (v60 == v59);
					branch_Bool_57 = v61;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKI8(v56));
					bool v62 = false;
					branch_Bool_57 = v62;
				} break;
			}
			branch_Bool_4 = branch_Bool_57;
		} break;
		case 8LL: { // I16
			int16_t v63 = mtp_mirth_arrow_PushValue_I16(in_PushValue_2);
			bool branch_Bool_64;
			switch (PTREXTRA(in_PushValue_1)) {
				case 8LL: { // I16
					int16_t v65 = mtp_mirth_arrow_PushValue_I16(in_PushValue_1);
					int64_t v66 = (int64_t)(v63);
					int64_t v67 = (int64_t)(v65);
					bool v68 = (v67 == v66);
					branch_Bool_64 = v68;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKI16(v63));
					bool v69 = false;
					branch_Bool_64 = v69;
				} break;
			}
			branch_Bool_4 = branch_Bool_64;
		} break;
		case 9LL: { // I32
			int32_t v70 = mtp_mirth_arrow_PushValue_I32(in_PushValue_2);
			bool branch_Bool_71;
			switch (PTREXTRA(in_PushValue_1)) {
				case 9LL: { // I32
					int32_t v72 = mtp_mirth_arrow_PushValue_I32(in_PushValue_1);
					int64_t v73 = (int64_t)(v70);
					int64_t v74 = (int64_t)(v72);
					bool v75 = (v74 == v73);
					branch_Bool_71 = v75;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKI32(v70));
					bool v76 = false;
					branch_Bool_71 = v76;
				} break;
			}
			branch_Bool_4 = branch_Bool_71;
		} break;
		case 10LL: { // I64
			int64_t v77 = mtp_mirth_arrow_PushValue_I64(in_PushValue_2);
			bool branch_Bool_78;
			switch (PTREXTRA(in_PushValue_1)) {
				case 10LL: { // I64
					int64_t v79 = mtp_mirth_arrow_PushValue_I64(in_PushValue_1);
					bool v80 = (v79 == v77);
					branch_Bool_78 = v80;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKI64(v77));
					bool v81 = false;
					branch_Bool_78 = v81;
				} break;
			}
			branch_Bool_4 = branch_Bool_78;
		} break;
		case 11LL: { // F32
			float v82 = mtp_mirth_arrow_PushValue_F32(in_PushValue_2);
			bool branch_Bool_83;
			switch (PTREXTRA(in_PushValue_1)) {
				case 11LL: { // F32
					float v84 = mtp_mirth_arrow_PushValue_F32(in_PushValue_1);
					bool v85 = (v84 == v82);
					branch_Bool_83 = v85;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKF32(v82));
					bool v86 = false;
					branch_Bool_83 = v86;
				} break;
			}
			branch_Bool_4 = branch_Bool_83;
		} break;
		case 12LL: { // F64
			double v87 = mtp_mirth_arrow_PushValue_F64(in_PushValue_2);
			bool branch_Bool_88;
			switch (PTREXTRA(in_PushValue_1)) {
				case 12LL: { // F64
					double v89 = mtp_mirth_arrow_PushValue_F64(in_PushValue_1);
					bool v90 = (v89 == v87);
					branch_Bool_88 = v90;
				} break;
				default: {
					decref(MKTUP(in_PushValue_1));
					decref(MKF64(v87));
					bool v91 = false;
					branch_Bool_88 = v91;
				} break;
			}
			branch_Bool_4 = branch_Bool_88;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static PTUP mw_mirth_arrow_Op_toZ_runZ_var (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Op_2)) {
		case 9LL: { // Var
			uint64_t v7 = mtp_mirth_arrow_Op_Var(in_Op_2);
			PTUP v8;
			PTUP v9 = mw_mirth_var_Var_autoZ_runZAsk(in_ZPlusMirth_1, v7, &v8);
			int64_t v10 = PTREXTRA(v9);
			decref(MKTUP(v9));
			INT v11 = WRAP_I63(0LL);
			INT v12 = v11;
			INT v13 = i64_to_int(v10);
			bool v14 = int_eq(v13, v12);
			bool v15 = !v14;
			PTUP branch_Maybe_16;
			if (v15) {
				PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(v7));
				branch_Maybe_16 = v17;
			} else {
				decref(MKU64(v7));
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_16 = v18;
			}
			branch_Maybe_6 = branch_Maybe_16;
			branch_ZPlusMirth_5 = v8;
		} break;
		default: {
			decref(MKTUP(in_Op_2));
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v19;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_arrow_Op_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_List_6;
	switch (PTREXTRA(in_Op_2)) {
		case 0LL: { // Prim
			int64_t v7 = mtp_mirth_arrow_Op_Prim(in_Op_2);
			PTUP v8 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Word
			uint64_t v9 = mtp_mirth_arrow_Op_Word(in_Op_2);
			PTUP v10 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // External
			uint64_t v11 = mtp_mirth_arrow_Op_External(in_Op_2);
			PTUP v12 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Buffer
			uint64_t v13 = mtp_mirth_arrow_Op_Buffer(in_Op_2);
			PTUP v14 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Field
			uint64_t v15 = mtp_mirth_arrow_Op_Field(in_Op_2);
			PTUP v16 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v16;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Push
			PTUP v17 = mtp_mirth_arrow_Op_Push(in_Op_2);
			decref(MKTUP(v17));
			PTUP v18 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v19 = mtp_mirth_arrow_Op_Tag(in_Op_2);
			PTUP v20 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Match
			PTUP v21 = mtp_mirth_arrow_Op_Match(in_Op_2);
			PTUP v22;
			PTUP v23 = mw_mirth_match_Match_freeZ_vars(in_ZPlusMirth_1, v21, &v22);
			branch_List_6 = v23;
			branch_ZPlusMirth_5 = v22;
		} break;
		case 8LL: { // Lambda
			PTUP v24 = mtp_mirth_arrow_Op_Lambda(in_Op_2);
			PTUP v25;
			PTUP v26 = mw_mirth_arrow_Lambda_freeZ_vars(in_ZPlusMirth_1, v24, &v25);
			branch_List_6 = v26;
			branch_ZPlusMirth_5 = v25;
		} break;
		case 9LL: { // Var
			uint64_t v27 = mtp_mirth_arrow_Op_Var(in_Op_2);
			PTUP v28 = PTRMK(0LL /* Nil */,0,0);
			PTUP v29 = mw_std_list_List_1_cons(MKU64(v27), v28);
			branch_List_6 = v29;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v30 = mtp_mirth_arrow_Op_BlockPush(in_Op_2);
			PTUP v31;
			PTUP v32 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, v30, &v31);
			branch_List_6 = v32;
			branch_ZPlusMirth_5 = v31;
		} break;
		case 11LL: { // BlockRun
			uint64_t v33 = mtp_mirth_arrow_Op_BlockRun(in_Op_2);
			PTUP v34;
			PTUP v35 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, v33, &v34);
			branch_List_6 = v35;
			branch_ZPlusMirth_5 = v34;
		} break;
		case 12LL: { // LabelPush
			uint64_t v36 = mtp_mirth_arrow_Op_LabelPush(in_Op_2);
			PTUP v37 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v37;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // LabelPop
			uint64_t v38 = mtp_mirth_arrow_Op_LabelPop(in_Op_2);
			PTUP v39 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v39;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v40 = mtp_mirth_arrow_Op_LabelPushR(in_Op_2);
			PTUP v41 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v41;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v42 = mtp_mirth_arrow_Op_LabelPopR(in_Op_2);
			PTUP v43 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v43;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v44 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_2);
			PTUP v45 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v45;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v46 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_2);
			PTUP v47 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v47;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // DataGetLabel
			PTUP v48 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_2);
			decref(MKTUP(v48));
			PTUP v49 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v49;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // DataSetLabel
			PTUP v50 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_2);
			decref(MKTUP(v50));
			PTUP v51 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v51;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v52 = mtp_mirth_arrow_Op_TableToIndex(in_Op_2);
			PTUP v53 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v53;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v54 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_2);
			PTUP v55 = PTRMK(0LL /* Nil */,0,0);
			branch_List_6 = v55;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_List_6;
}
static INT mw_mirth_arrow_Home_incrementZ_indexZBang (PTUP in_ZPlusMirth_1, PTUP in_Home_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	INT branch_Int_6;
	switch (PTREXTRA(in_Home_2)) {
		case 1LL: { // Word
			uint64_t v7 = mtp_mirth_arrow_Home_Word(in_Home_2);
			PTUP v8;
			INT v9 = mw_mirth_word_Word_incrementZ_wordZ_homeZ_indexZBang(in_ZPlusMirth_1, v7, &v8);
			branch_Int_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 0LL: { // Main
			uint64_t v10 = mtp_mirth_arrow_Home_Main(in_Home_2);
			PTUP v11;
			INT v12 = mw_mirth_mirth_ZPlusMirth_incrementZ_mainZ_homeZ_indexZBang(in_ZPlusMirth_1, &v11);
			branch_Int_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Int_6;
}
static PTUP mw_mirth_arrow_Lambda_cod (PTUP in_Lambda_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Lambda_1))->cells[4]);
	incref(MKTUP(v3));
	decref(MKTUP(in_Lambda_1));
	PTUP v4 = VTUP(((TUP*)PTRPTR(v3))->cells[5]);
	incref(MKTUP(v4));
	decref(MKTUP(v3));
	return v4;
}
static PTUP mw_mirth_arrow_Lambda_freeZ_vars (PTUP in_ZPlusMirth_1, PTUP in_Lambda_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_Lambda_2));
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Lambda_2))->cells[4]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Lambda_2));
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Arrow_freeZ_vars(in_ZPlusMirth_1, v5, &v6);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_Lambda_2))->cells[3]);
	incref(MKTUP(v8));
	decref(MKTUP(in_Lambda_2));
	PTUP v9 = mw_std_list_List_1_difference_sp1(v7, v8);
	*out_ZPlusMirth_3 = v6;
	return v9;
}
static uint64_t mw_mirth_arrow_Block_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_arrow_Block_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_arrow_Block_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_arrow_Block_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, uint64_t in_Token_3, PTUP in_Home_4, PTUP in_StackType_5, PTUP in_StackType_6, PTUP *out_ZPlusMirth_7) {
	PTUP v9;
	uint64_t v10 = mw_mirth_arrow_Block_AllocZBang(in_ZPlusMirth_1, &v9);
	void* v11 = field_mut(&mfld_mirth_arrow_Block_ctx, v10);
	mut_set(MKTUP(in_Ctx_2), v11);
	void* v12 = field_mut(&mfld_mirth_arrow_Block_token, v10);
	mut_set(MKU64(in_Token_3), v12);
	void* v13 = field_mut(&mfld_mirth_arrow_Block_home, v10);
	mut_set(MKTUP(in_Home_4), v13);
	void* v14 = field_mut(&mfld_mirth_arrow_Block_dom, v10);
	mut_set(MKTUP(in_StackType_5), v14);
	void* v15 = field_mut(&mfld_mirth_arrow_Block_cod, v10);
	mut_set(MKTUP(in_StackType_6), v15);
	*out_ZPlusMirth_7 = v9;
	return v10;
}
static PTUP mw_mirth_arrow_Block_ctx (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ctx, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static uint64_t mw_mirth_arrow_Block_token (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_token, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static PTUP mw_mirth_arrow_Block_home (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_home, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static PTUP mw_mirth_arrow_Block_dom (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_dom, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static PTUP mw_mirth_arrow_Block_cod (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_cod, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static INT mw_mirth_arrow_Block_homeZ_index (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_homeZ_index, in_Block_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	INT branch_Int_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Int_8 = value_int(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_arrow_Block_home(in_ZPlusMirth_1, in_Block_2, &v10);
		PTUP v12;
		INT v13 = mw_mirth_arrow_Home_incrementZ_indexZBang(v10, v11, &v12);
		incref(MKINT(v13));
		mut_set(MKINT(v13), v5);
		branch_Int_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Int_8;
}
static STR* mw_mirth_arrow_Block_cname (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_cname, in_Block_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	STR* branch_Str_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Str_8 = value_str(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_arrow_Block_home(in_ZPlusMirth_1, in_Block_2, &v10);
		uint64_t branch_Block_12;
		PTUP branch_ZPlusMirth_13;
		STR* branch_Str_14;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Word
				uint64_t v15 = mtp_mirth_arrow_Home_Word(v11);
				PTUP v16;
				PTUP v17 = mw_mirth_word_Word_qnameZ_hard(v10, v15, &v16);
				PTUP v18;
				STR* v19 = mw_mirth_name_QName_mangled(v16, v17, &v18);
				STR* v20;
				STRLIT(v20, "", 0);
				STR* v21;
				STRLIT(v21, "mb_", 3);
				STR* v22;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v22);
				STR* v23;
				mw_std_str_ZPlusStr_pushZ_strZBang(v19, v22, &v23);
				STR* v24;
				STRLIT(v24, "_", 1);
				STR* v25;
				mw_std_str_ZPlusStr_pushZ_strZBang(v24, v23, &v25);
				PTUP v26;
				INT v27 = mw_mirth_arrow_Block_homeZ_index(v18, in_Block_2, &v26);
				STR* v28 = int_to_str(v27);
				STR* v29;
				mw_std_str_ZPlusStr_pushZ_strZBang(v28, v25, &v29);
				branch_Str_14 = v29;
				branch_ZPlusMirth_13 = v26;
				branch_Block_12 = in_Block_2;
			} break;
			case 0LL: { // Main
				uint64_t v30 = mtp_mirth_arrow_Home_Main(v11);
				STR* v31;
				STRLIT(v31, "", 0);
				STR* v32;
				STRLIT(v32, "mb_", 3);
				STR* v33;
				mw_std_str_ZPlusStr_pushZ_strZBang(v32, v31, &v33);
				PTUP v34;
				INT v35 = mw_mirth_arrow_Block_homeZ_index(v10, in_Block_2, &v34);
				STR* v36 = int_to_str(v35);
				STR* v37;
				mw_std_str_ZPlusStr_pushZ_strZBang(v36, v33, &v37);
				branch_Str_14 = v37;
				branch_ZPlusMirth_13 = v34;
				branch_Block_12 = in_Block_2;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKSTR(branch_Str_14));
		mut_set(MKSTR(branch_Str_14), v5);
		branch_Str_8 = branch_Str_14;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_8;
}
static PTUP mw_mirth_arrow_Block_freeZ_vars (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_freeZ_vars, in_Block_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_List_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v10);
		PTUP v12;
		PTUP v13 = mw_mirth_arrow_Arrow_freeZ_vars(v10, v11, &v12);
		incref(MKTUP(v13));
		mut_set(MKTUP(v13), v5);
		branch_List_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static uint64_t mw_mirth_arrow_Block_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_Arrow_2));
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_Arrow_2))->cells[0]);
	incref(MKTUP(v5));
	decref(MKTUP(in_Arrow_2));
	incref(MKTUP(in_Arrow_2));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Arrow_2))->cells[3]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Arrow_2));
	incref(MKTUP(in_Arrow_2));
	uint64_t v7 = value_u64(((TUP*)PTRPTR(in_Arrow_2))->cells[1]);
	decref(MKTUP(in_Arrow_2));
	incref(MKTUP(in_Arrow_2));
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_Arrow_2))->cells[4]);
	incref(MKTUP(v8));
	decref(MKTUP(in_Arrow_2));
	incref(MKTUP(in_Arrow_2));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_Arrow_2))->cells[5]);
	incref(MKTUP(v9));
	decref(MKTUP(in_Arrow_2));
	PTUP v10;
	uint64_t v11 = mw_mirth_arrow_Block_MakeZBang(in_ZPlusMirth_1, v6, v7, v5, v8, v9, &v10);
	incref(MKU64(v11));
	PTUP v12 = mtw_mirth_mirth_PropLabel_BlockArrow(value_u64(MKU64(v11)));
	PTUP v13;
	PTUP v14 = mw_mirth_mirth_PropLabel_prop(v10, MKTUP(in_Arrow_2), v12, &v13);
	incref(MKU64(v11));
	void* v15 = field_mut(&mfld_mirth_arrow_Block_ZTildearrow, value_u64(MKU64(v11)));
	mut_set(MKTUP(v14), v15);
	*out_ZPlusMirth_3 = v13;
	return value_u64(MKU64(v11));
}
static PTUP mw_mirth_arrow_Block_type (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_arrow_Block_dom(in_ZPlusMirth_1, in_Block_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_arrow_Block_cod(v5, in_Block_2, &v7);
	PTUP v9 = mw_mirth_type_TZ_ZTo(v6, v8);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static PTUP mw_mirth_arrow_Block_arrow (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildearrow, in_Block_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static void mw_mirth_arrow_Block_typecheckZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4;
	PTUP v5 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v4);
	decref(MKTUP(v5));
	*out_ZPlusMirth_3 = v4;
}
static PTUP mw_mirth_arrow_Block_inferZ_typeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v5);
	PTUP v7 = mw_mirth_arrow_Arrow_type(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_arrow_Block_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Block_type(in_ZPlusMirth_1, in_Block_3, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_type_ArrowType_unifyZBang(v6, in_ArrowType_2, v7, &v8);
	decref(MKTUP(v9));
	PTUP v10;
	PTUP v11 = mw_mirth_arrow_Block_inferZ_typeZBang(v8, in_Block_3, &v10);
	*out_ZPlusMirth_4 = v10;
	return v11;
}
static PTUP mw_mirth_arrow_Block_toZ_runZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_arrow_Arrow_toZ_runZ_var(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_arrow_blockZ_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Block_unifyZ_typeZBang(in_ZPlusMirth_1, in_ArrowType_3, in_Block_2, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static PTUP mw_mirth_type_Type_NewInCtx (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6) {
	PTUP v7 = mw_mirth_type_Type_TYPE();
	PTUP v8;
	uint64_t v9;
	PTUP v10 = mw_mirth_var_Var_NewInCtx(in_ZPlusMirth_1, in_Ctx_2, v7, in_Str_3, &v8, &v9);
	PTUP v11 = mtw_mirth_type_Type_Var(v9);
	*out_Type_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static PTUP mw_mirth_type_Type_FreshZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4 = mw_mirth_type_Kind_TYPE();
	PTUP v5;
	uint64_t v6 = mw_mirth_type_MetaVar_NewZBang(in_ZPlusMirth_1, v4, &v5);
	PTUP v7 = mtw_mirth_type_Type_Meta(v6);
	*out_ZPlusMirth_2 = v5;
	return v7;
}
static PTUP mw_mirth_type_Type_TYPE (void) {
	int64_t v2 = 1LL /* TYPE */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_STACK (void) {
	int64_t v2 = 2LL /* STACK */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_RESOURCE (void) {
	int64_t v2 = 3LL /* RESOURCE */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_Bool (void) {
	int64_t v2 = 4LL /* Bool */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_Int (void) {
	int64_t v2 = 5LL /* Int */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_Nat (void) {
	int64_t v2 = 6LL /* Nat */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_U8 (void) {
	int64_t v2 = 7LL /* U8 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_U16 (void) {
	int64_t v2 = 8LL /* U16 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_U32 (void) {
	int64_t v2 = 9LL /* U32 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_U64 (void) {
	int64_t v2 = 10LL /* U64 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_I8 (void) {
	int64_t v2 = 11LL /* I8 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_I16 (void) {
	int64_t v2 = 12LL /* I16 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_I32 (void) {
	int64_t v2 = 13LL /* I32 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_I64 (void) {
	int64_t v2 = 14LL /* I64 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_F32 (void) {
	int64_t v2 = 15LL /* F32 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_F64 (void) {
	int64_t v2 = 16LL /* F64 */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_Ptr (void) {
	int64_t v2 = 17LL /* Ptr */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_Str (void) {
	int64_t v2 = 18LL /* Str */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_World (void) {
	int64_t v2 = 20LL /* World */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_Debug (void) {
	int64_t v2 = 21LL /* Debug */;
	PTUP v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_Array (PTUP in_Type_1) {
	int64_t v3 = 19LL /* Array */;
	PTUP v4 = mtw_mirth_type_Type_Prim(v3);
	PTUP v5 = mtw_mirth_type_Type_App(v4, in_Type_1);
	return v5;
}
static PTUP mw_mirth_type_Type_Unit (void) {
	PTUP v2 = PTRMK(2LL /* Unit */,0,0);
	PTUP v3 = mtw_mirth_type_Type_Stack(v2);
	return v3;
}
static PTUP mw_mirth_type_Type_tyconZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Type_2)) {
		case 0LL: { // Error
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v8 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v9 = mtp_mirth_type_Type_Prim(in_Type_2);
			PTUP v10 = mtw_mirth_tycon_Tycon_Prim(v9);
			PTUP v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v10));
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Meta
			uint64_t v12 = mtp_mirth_type_Type_Meta(in_Type_2);
			PTUP v13;
			PTUP v14 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v12, &v13);
			PTUP branch_ZPlusMirth_15;
			PTUP branch_Maybe_16;
			switch (PTREXTRA(v14)) {
				case 0LL: { // None
					PTUP v17 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_16 = v17;
					branch_ZPlusMirth_15 = v13;
				} break;
				case 1LL: { // Some
					VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
					PTUP v19;
					PTUP v20 = mw_mirth_type_Type_expand(v13, VTUP(v18), &v19);
					incref(MKTUP(v20));
					PTUP v21 = mtw_std_maybe_Maybe_1_Some(MKTUP(v20));
					PTUP v22;
					mw_mirth_type_MetaVar_typeZAskZBang(v19, v21, value_u64(MKU64(v12)), &v22);
					PTUP v23;
					PTUP v24 = mw_mirth_type_Type_tyconZAsk(v22, VTUP(MKTUP(v20)), &v23);
					branch_Maybe_16 = v24;
					branch_ZPlusMirth_15 = v23;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_16;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_15;
		} break;
		case 4LL: { // Hole
			uint64_t v25 = mtp_mirth_type_Type_Hole(in_Type_2);
			PTUP v26 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v27 = mtp_mirth_type_Type_Var(in_Type_2);
			PTUP v28 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v29 = mtp_mirth_type_Type_Table(in_Type_2);
			PTUP v30 = mtw_mirth_tycon_Tycon_Table(v29);
			PTUP v31 = mtw_std_maybe_Maybe_1_Some(MKTUP(v30));
			branch_Maybe_6 = v31;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v32 = mtp_mirth_type_Type_Data(in_Type_2);
			PTUP v33 = mtw_mirth_tycon_Tycon_Data(v32);
			PTUP v34 = mtw_std_maybe_Maybe_1_Some(MKTUP(v33));
			branch_Maybe_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			PTUP v35 = mtp_mirth_type_Type_DataPartial(in_Type_2);
			uint64_t v36 = value_u64(((TUP*)PTRPTR(v35))->cells[0]);
			decref(MKTUP(v35));
			PTUP v37 = mtw_mirth_tycon_Tycon_Data(v36);
			PTUP v38 = mtw_std_maybe_Maybe_1_Some(MKTUP(v37));
			branch_Maybe_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // Arrow
			PTUP v39 = mtp_mirth_type_Type_Arrow(in_Type_2);
			decref(MKTUP(v39));
			PTUP v40 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			PTUP v41 = mtp_mirth_type_Type_Stack(in_Type_2);
			decref(MKTUP(v41));
			PTUP v42 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v42;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // App
			PTUP v43;
			PTUP v44 = mtp_mirth_type_Type_App(in_Type_2, &v43);
			decref(MKTUP(v43));
			PTUP v45;
			PTUP v46 = mw_mirth_type_Type_tyconZAsk(in_ZPlusMirth_1, v44, &v45);
			branch_Maybe_6 = v46;
			branch_ZPlusMirth_5 = v45;
		} break;
		case 12LL: { // Mut
			PTUP v47 = mtp_mirth_type_Type_Mut(in_Type_2);
			PTUP v48;
			PTUP v49 = mw_mirth_type_Type_tyconZAsk(in_ZPlusMirth_1, v47, &v48);
			branch_Maybe_6 = v49;
			branch_ZPlusMirth_5 = v48;
		} break;
		case 13LL: { // Value
			PTUP v50 = mtp_mirth_type_Type_Value(in_Type_2);
			PTUP v51 = mw_mirth_type_Value_tyconZAsk(v50);
			branch_Maybe_6 = v51;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static bool mw_mirth_type_Type_errorZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Error
			bool v9 = true;
			branch_Bool_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(MKTUP(v6));
			bool v10 = false;
			branch_Bool_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static PTUP mw_mirth_type_Type_arrowZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 10LL: { // Arrow
			PTUP v9 = mtp_mirth_type_Type_Arrow(v6);
			PTUP v10 = mtw_std_maybe_Maybe_1_Some(MKTUP(v9));
			branch_Maybe_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(MKTUP(v6));
			PTUP v11 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_type_Type_primZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 2LL: { // Prim
			int64_t v9 = mtp_mirth_type_Type_Prim(v6);
			PTUP v10 = mtw_std_maybe_Maybe_1_Some(MKI64(v9));
			branch_Maybe_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(MKTUP(v6));
			PTUP v11 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static bool mw_mirth_type_Type_unitZ_stackZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			PTUP v8;
			bool v9 = mw_mirth_type_MetaVar_unitZ_stackZAsk(in_ZPlusMirth_1, v7, &v8);
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 9LL: { // Stack
			PTUP v10 = mtp_mirth_type_Type_Stack(in_Type_2);
			PTUP v11;
			bool v12 = mw_mirth_type_StackType_unitZAsk(in_ZPlusMirth_1, v10, &v11);
			branch_Bool_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		default: {
			decref(MKTUP(in_Type_2));
			bool v13 = false;
			branch_Bool_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_type_Type_metaZEqual (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Type_3)) {
		case 3LL: { // Meta
			uint64_t v8 = mtp_mirth_type_Type_Meta(in_Type_3);
			bool v9 = (v8 == in_MetaVar_2);
			branch_Bool_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			decref(MKTUP(in_Type_3));
			decref(MKU64(in_MetaVar_2));
			bool v10 = false;
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_type_Type_isZ_physicalZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			PTUP v8;
			PTUP v9 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v7, &v8);
			PTUP branch_ZPlusMirth_10;
			bool branch_Bool_11;
			switch (PTREXTRA(v9)) {
				case 0LL: { // None
					STR* v12;
					STRLIT(v12, "[bug] unbound meta at Type.is-physical?", 39);
					do_panic(v12);
				} break;
				case 1LL: { // Some
					VAL v15 = mtp_std_maybe_Maybe_1_Some(v9);
					PTUP v16;
					PTUP v17 = mw_mirth_type_Type_expand(v8, VTUP(v15), &v16);
					incref(MKTUP(v17));
					PTUP v18 = mtw_std_maybe_Maybe_1_Some(MKTUP(v17));
					PTUP v19;
					mw_mirth_type_MetaVar_typeZAskZBang(v16, v18, value_u64(MKU64(v7)), &v19);
					PTUP v20;
					bool v21 = mw_mirth_type_Type_isZ_physicalZAsk(v19, VTUP(MKTUP(v17)), &v20);
					branch_Bool_11 = v21;
					branch_ZPlusMirth_10 = v20;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_6 = branch_Bool_11;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_10;
		} break;
		case 2LL: { // Prim
			int64_t v22 = mtp_mirth_type_Type_Prim(in_Type_2);
			bool v23 = mw_mirth_type_PrimType_isZ_physicalZAsk(v22);
			branch_Bool_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			decref(MKTUP(in_Type_2));
			bool v24 = true;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static PTUP mw_mirth_type_Type_expand (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Type_6;
	switch (PTREXTRA(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			PTUP v8;
			PTUP v9 = mw_mirth_type_MetaVar_expand(in_ZPlusMirth_1, v7, &v8);
			branch_Type_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		default: {
			branch_Type_6 = in_Type_2;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Type_6;
}
static PTUP mw_mirth_type_Type_unifyZ_failedZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	STR* v6;
	STRLIT(v6, "", 0);
	STR* v7;
	STRLIT(v7, "Failed to unify ", 16);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	PTUP v9;
	STR* v10;
	mw_mirth_type_Type_typeZThen(in_ZPlusMirth_1, v8, in_Type_2, &v9, &v10);
	STR* v11;
	STRLIT(v11, " with ", 6);
	STR* v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
	PTUP v13;
	STR* v14;
	mw_mirth_type_Type_typeZThen(v9, v12, in_Type_3, &v13, &v14);
	PTUP v15;
	mw_mirth_mirth_ZPlusMirth_errorZBang(v13, v14, &v15);
	PTUP v16 = PTRMK(0LL /* Error */,0,0);
	*out_ZPlusMirth_4 = v15;
	return v16;
}
static PTUP mw_mirth_type_Type_unifyZ_simpleZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Type_7;
	switch (PTREXTRA(in_Type_3)) {
		case 5LL: { // Var
			uint64_t v8 = mtp_mirth_type_Type_Var(in_Type_3);
			PTUP branch_ZPlusMirth_9;
			PTUP branch_Type_10;
			switch (PTREXTRA(in_Type_2)) {
				case 5LL: { // Var
					uint64_t v11 = mtp_mirth_type_Type_Var(in_Type_2);
					PTUP v12;
					PTUP v13 = mw_mirth_var_Var_unifyZBang(in_ZPlusMirth_1, v8, v11, &v12);
					branch_Type_10 = v13;
					branch_ZPlusMirth_9 = v12;
				} break;
				default: {
					PTUP v14 = mtw_mirth_type_Type_Var(v8);
					PTUP v15;
					PTUP v16 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v14, in_Type_2, &v15);
					branch_Type_10 = v16;
					branch_ZPlusMirth_9 = v15;
				} break;
			}
			branch_Type_7 = branch_Type_10;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_9;
		} break;
		case 2LL: { // Prim
			int64_t v17 = mtp_mirth_type_Type_Prim(in_Type_3);
			PTUP branch_ZPlusMirth_18;
			PTUP branch_Type_19;
			switch (PTREXTRA(in_Type_2)) {
				case 2LL: { // Prim
					int64_t v20 = mtp_mirth_type_Type_Prim(in_Type_2);
					PTUP v21;
					PTUP v22 = mw_mirth_type_PrimType_unifyZBang(in_ZPlusMirth_1, v17, v20, &v21);
					branch_Type_19 = v22;
					branch_ZPlusMirth_18 = v21;
				} break;
				default: {
					PTUP v23 = mtw_mirth_type_Type_Prim(v17);
					PTUP v24;
					PTUP v25 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v23, in_Type_2, &v24);
					branch_Type_19 = v25;
					branch_ZPlusMirth_18 = v24;
				} break;
			}
			branch_Type_7 = branch_Type_19;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_18;
		} break;
		case 7LL: { // Data
			uint64_t v26 = mtp_mirth_type_Type_Data(in_Type_3);
			PTUP branch_ZPlusMirth_27;
			PTUP branch_Type_28;
			switch (PTREXTRA(in_Type_2)) {
				case 7LL: { // Data
					uint64_t v29 = mtp_mirth_type_Type_Data(in_Type_2);
					PTUP v30;
					PTUP v31 = mw_mirth_data_Data_unifyZBang(in_ZPlusMirth_1, v26, v29, &v30);
					branch_Type_28 = v31;
					branch_ZPlusMirth_27 = v30;
				} break;
				default: {
					PTUP v32 = mtw_mirth_type_Type_Data(v26);
					PTUP v33;
					PTUP v34 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v32, in_Type_2, &v33);
					branch_Type_28 = v34;
					branch_ZPlusMirth_27 = v33;
				} break;
			}
			branch_Type_7 = branch_Type_28;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_27;
		} break;
		case 8LL: { // DataPartial
			PTUP v35 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			PTUP branch_ZPlusMirth_36;
			PTUP branch_Type_37;
			switch (PTREXTRA(in_Type_2)) {
				case 8LL: { // DataPartial
					PTUP v38 = mtp_mirth_type_Type_DataPartial(in_Type_2);
					PTUP v39;
					PTUP v40 = mw_mirth_data_DataPartial_unifyZBang(in_ZPlusMirth_1, v35, v38, &v39);
					branch_Type_37 = v40;
					branch_ZPlusMirth_36 = v39;
				} break;
				default: {
					PTUP v41 = mtw_mirth_type_Type_DataPartial(v35);
					PTUP v42;
					PTUP v43 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v41, in_Type_2, &v42);
					branch_Type_37 = v43;
					branch_ZPlusMirth_36 = v42;
				} break;
			}
			branch_Type_7 = branch_Type_37;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_36;
		} break;
		case 6LL: { // Table
			uint64_t v44 = mtp_mirth_type_Type_Table(in_Type_3);
			PTUP branch_ZPlusMirth_45;
			PTUP branch_Type_46;
			switch (PTREXTRA(in_Type_2)) {
				case 6LL: { // Table
					uint64_t v47 = mtp_mirth_type_Type_Table(in_Type_2);
					PTUP v48;
					PTUP v49 = mw_mirth_table_Table_unifyZBang(in_ZPlusMirth_1, v44, v47, &v48);
					branch_Type_46 = v49;
					branch_ZPlusMirth_45 = v48;
				} break;
				default: {
					PTUP v50 = mtw_mirth_type_Type_Table(v44);
					PTUP v51;
					PTUP v52 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v50, in_Type_2, &v51);
					branch_Type_46 = v52;
					branch_ZPlusMirth_45 = v51;
				} break;
			}
			branch_Type_7 = branch_Type_46;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_45;
		} break;
		case 9LL: { // Stack
			PTUP v53 = mtp_mirth_type_Type_Stack(in_Type_3);
			PTUP branch_ZPlusMirth_54;
			PTUP branch_Type_55;
			switch (PTREXTRA(in_Type_2)) {
				case 9LL: { // Stack
					PTUP v56 = mtp_mirth_type_Type_Stack(in_Type_2);
					PTUP v57;
					PTUP v58 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, v53, v56, &v57);
					PTUP v59 = mw_mirth_type_StackType_ZToType(v58);
					branch_Type_55 = v59;
					branch_ZPlusMirth_54 = v57;
				} break;
				default: {
					PTUP v60 = mtw_mirth_type_Type_Stack(v53);
					PTUP v61;
					PTUP v62 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v60, in_Type_2, &v61);
					branch_Type_55 = v62;
					branch_ZPlusMirth_54 = v61;
				} break;
			}
			branch_Type_7 = branch_Type_55;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_54;
		} break;
		case 10LL: { // Arrow
			PTUP v63 = mtp_mirth_type_Type_Arrow(in_Type_3);
			PTUP branch_ZPlusMirth_64;
			PTUP branch_Type_65;
			switch (PTREXTRA(in_Type_2)) {
				case 10LL: { // Arrow
					PTUP v66 = mtp_mirth_type_Type_Arrow(in_Type_2);
					PTUP v67;
					PTUP v68 = mw_mirth_type_ArrowType_unifyZBang(in_ZPlusMirth_1, v63, v66, &v67);
					PTUP v69 = mtw_mirth_type_Type_Arrow(v68);
					branch_Type_65 = v69;
					branch_ZPlusMirth_64 = v67;
				} break;
				default: {
					PTUP v70 = mtw_mirth_type_Type_Arrow(v63);
					PTUP v71;
					PTUP v72 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v70, in_Type_2, &v71);
					branch_Type_65 = v72;
					branch_ZPlusMirth_64 = v71;
				} break;
			}
			branch_Type_7 = branch_Type_65;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_64;
		} break;
		case 11LL: { // App
			PTUP v73;
			PTUP v74 = mtp_mirth_type_Type_App(in_Type_3, &v73);
			PTUP branch_ZPlusMirth_75;
			PTUP branch_Type_76;
			switch (PTREXTRA(VTUP(MKTUP(in_Type_2)))) {
				case 11LL: { // App
					PTUP v77;
					PTUP v78 = mtp_mirth_type_Type_App(VTUP(MKTUP(in_Type_2)), &v77);
					PTUP v79;
					PTUP v80;
					PTUP v81 = mw_mirth_type_Type_unify2ZBang(in_ZPlusMirth_1, VTUP(MKTUP(v74)), VTUP(MKTUP(v73)), v78, v77, &v79, &v80);
					PTUP v82 = mtw_mirth_type_Type_App(v81, v80);
					branch_Type_76 = v82;
					branch_ZPlusMirth_75 = v79;
				} break;
				default: {
					PTUP v83 = mtw_mirth_type_Type_App(VTUP(MKTUP(v74)), VTUP(MKTUP(v73)));
					PTUP v84;
					PTUP v85 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v83, VTUP(MKTUP(in_Type_2)), &v84);
					branch_Type_76 = v85;
					branch_ZPlusMirth_75 = v84;
				} break;
			}
			branch_Type_7 = branch_Type_76;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_75;
		} break;
		case 12LL: { // Mut
			PTUP v86 = mtp_mirth_type_Type_Mut(in_Type_3);
			PTUP branch_ZPlusMirth_87;
			PTUP branch_Type_88;
			switch (PTREXTRA(in_Type_2)) {
				case 12LL: { // Mut
					PTUP v89 = mtp_mirth_type_Type_Mut(in_Type_2);
					PTUP v90;
					PTUP v91 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, v86, v89, &v90);
					PTUP v92 = mtw_mirth_type_Type_Mut(v91);
					branch_Type_88 = v92;
					branch_ZPlusMirth_87 = v90;
				} break;
				default: {
					PTUP v93 = mtw_mirth_type_Type_Mut(v86);
					PTUP v94;
					PTUP v95 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v93, in_Type_2, &v94);
					branch_Type_88 = v95;
					branch_ZPlusMirth_87 = v94;
				} break;
			}
			branch_Type_7 = branch_Type_88;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_87;
		} break;
		default: {
			PTUP v96;
			PTUP v97 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_Type_2, in_Type_3, &v96);
			branch_Type_7 = v97;
			branch_ZPlusMirth_6 = v96;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Type_7;
}
static PTUP mw_mirth_type_Type_unifyZ_auxZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Type_7;
	switch (PTREXTRA(in_Type_3)) {
		case 0LL: { // Error
			PTUP v8;
			PTUP v9 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_Type_2, &v8);
			branch_Type_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // Ignore
			branch_Type_7 = in_Type_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v10 = mtp_mirth_type_Type_Hole(in_Type_3);
			PTUP v11;
			PTUP v12 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_Type_2, v10, &v11);
			branch_Type_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 3LL: { // Meta
			uint64_t v13 = mtp_mirth_type_Type_Meta(in_Type_3);
			PTUP branch_ZPlusMirth_14;
			PTUP branch_Type_15;
			switch (PTREXTRA(in_Type_2)) {
				case 0LL: { // Error
					PTUP v16;
					PTUP v17 = mw_mirth_type_MetaVar_unifyZ_errorZBang(in_ZPlusMirth_1, v13, &v16);
					branch_Type_15 = v17;
					branch_ZPlusMirth_14 = v16;
				} break;
				case 1LL: { // Ignore
					PTUP v18 = mtw_mirth_type_Type_Meta(v13);
					branch_Type_15 = v18;
					branch_ZPlusMirth_14 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // Hole
					uint64_t v19 = mtp_mirth_type_Type_Hole(in_Type_2);
					PTUP v20 = mtw_mirth_type_Type_Meta(v13);
					PTUP v21;
					PTUP v22 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, v20, v19, &v21);
					branch_Type_15 = v22;
					branch_ZPlusMirth_14 = v21;
				} break;
				case 3LL: { // Meta
					uint64_t v23 = mtp_mirth_type_Type_Meta(in_Type_2);
					PTUP v24 = mtw_mirth_type_Type_Meta(v13);
					PTUP v25;
					PTUP v26 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, v24, v23, &v25);
					branch_Type_15 = v26;
					branch_ZPlusMirth_14 = v25;
				} break;
				case 13LL: { // Value
					PTUP v27 = mtp_mirth_type_Type_Value(in_Type_2);
					PTUP v28 = mtw_mirth_type_Type_Meta(v13);
					PTUP v29;
					PTUP v30 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, v28, v27, &v29);
					branch_Type_15 = v30;
					branch_ZPlusMirth_14 = v29;
				} break;
				default: {
					PTUP v31;
					PTUP v32 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_Type_2, v13, &v31);
					branch_Type_15 = v32;
					branch_ZPlusMirth_14 = v31;
				} break;
			}
			branch_Type_7 = branch_Type_15;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_14;
		} break;
		case 13LL: { // Value
			PTUP v33 = mtp_mirth_type_Type_Value(in_Type_3);
			PTUP branch_ZPlusMirth_34;
			PTUP branch_Type_35;
			switch (PTREXTRA(in_Type_2)) {
				case 0LL: { // Error
					PTUP v36;
					PTUP v37 = mw_mirth_type_Value_unifyZ_errorZBang(in_ZPlusMirth_1, v33, &v36);
					branch_Type_35 = v37;
					branch_ZPlusMirth_34 = v36;
				} break;
				case 1LL: { // Ignore
					PTUP v38 = mtw_mirth_type_Type_Value(v33);
					branch_Type_35 = v38;
					branch_ZPlusMirth_34 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // Hole
					uint64_t v39 = mtp_mirth_type_Type_Hole(in_Type_2);
					PTUP v40 = mtw_mirth_type_Type_Value(v33);
					PTUP v41;
					PTUP v42 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, v40, v39, &v41);
					branch_Type_35 = v42;
					branch_ZPlusMirth_34 = v41;
				} break;
				case 3LL: { // Meta
					uint64_t v43 = mtp_mirth_type_Type_Meta(in_Type_2);
					PTUP v44 = mtw_mirth_type_Type_Value(v33);
					PTUP v45;
					PTUP v46 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, v44, v43, &v45);
					branch_Type_35 = v46;
					branch_ZPlusMirth_34 = v45;
				} break;
				case 13LL: { // Value
					PTUP v47 = mtp_mirth_type_Type_Value(in_Type_2);
					PTUP v48;
					PTUP v49 = mw_mirth_type_Value_unifyZBang(in_ZPlusMirth_1, v33, v47, &v48);
					branch_Type_35 = v49;
					branch_ZPlusMirth_34 = v48;
				} break;
				default: {
					PTUP v50;
					PTUP v51 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, in_Type_2, v33, &v50);
					branch_Type_35 = v51;
					branch_ZPlusMirth_34 = v50;
				} break;
			}
			branch_Type_7 = branch_Type_35;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_34;
		} break;
		default: {
			PTUP branch_ZPlusMirth_52;
			PTUP branch_Type_53;
			switch (PTREXTRA(in_Type_2)) {
				case 0LL: { // Error
					PTUP v54;
					PTUP v55 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_Type_3, &v54);
					branch_Type_53 = v55;
					branch_ZPlusMirth_52 = v54;
				} break;
				case 1LL: { // Ignore
					branch_Type_53 = in_Type_3;
					branch_ZPlusMirth_52 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // Hole
					uint64_t v56 = mtp_mirth_type_Type_Hole(in_Type_2);
					PTUP v57;
					PTUP v58 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_Type_3, v56, &v57);
					branch_Type_53 = v58;
					branch_ZPlusMirth_52 = v57;
				} break;
				case 3LL: { // Meta
					uint64_t v59 = mtp_mirth_type_Type_Meta(in_Type_2);
					PTUP v60;
					PTUP v61 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_Type_3, v59, &v60);
					branch_Type_53 = v61;
					branch_ZPlusMirth_52 = v60;
				} break;
				case 13LL: { // Value
					PTUP v62 = mtp_mirth_type_Type_Value(in_Type_2);
					PTUP v63;
					PTUP v64 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, in_Type_3, v62, &v63);
					branch_Type_53 = v64;
					branch_ZPlusMirth_52 = v63;
				} break;
				default: {
					PTUP v65;
					PTUP v66 = mw_mirth_type_Type_unifyZ_simpleZBang(in_ZPlusMirth_1, in_Type_3, in_Type_2, &v65);
					branch_Type_53 = v66;
					branch_ZPlusMirth_52 = v65;
				} break;
			}
			branch_Type_7 = branch_Type_53;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_52;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Type_7;
}
static PTUP mw_mirth_type_Type_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Type_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Error
			PTUP v9 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 4LL: { // Hole
			uint64_t v11 = mtp_mirth_type_Type_Hole(v6);
			PTUP v12 = PTRMK(0LL /* Error */,0,0);
			PTUP v13;
			PTUP v14 = mw_mirth_type_typeZ_holeZ_unifyZBang(v5, v12, v11, &v13);
			branch_Type_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 3LL: { // Meta
			uint64_t v15 = mtp_mirth_type_Type_Meta(v6);
			PTUP v16;
			PTUP v17 = mw_mirth_type_MetaVar_unifyZ_errorZBang(v5, v15, &v16);
			branch_Type_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 13LL: { // Value
			PTUP v18 = mtp_mirth_type_Type_Value(v6);
			PTUP v19;
			PTUP v20 = mw_mirth_type_Value_unifyZ_errorZBang(v5, v18, &v19);
			branch_Type_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 5LL: { // Var
			uint64_t v21 = mtp_mirth_type_Type_Var(v6);
			PTUP v22 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v22;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Prim
			int64_t v23 = mtp_mirth_type_Type_Prim(v6);
			PTUP v24 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v24;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 7LL: { // Data
			uint64_t v25 = mtp_mirth_type_Type_Data(v6);
			PTUP v26 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v26;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 8LL: { // DataPartial
			PTUP v27 = mtp_mirth_type_Type_DataPartial(v6);
			decref(MKTUP(v27));
			PTUP v28 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v28;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 6LL: { // Table
			uint64_t v29 = mtp_mirth_type_Type_Table(v6);
			PTUP v30 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v30;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 9LL: { // Stack
			PTUP v31 = mtp_mirth_type_Type_Stack(v6);
			PTUP v32;
			PTUP v33 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v31, &v32);
			decref(MKTUP(v33));
			PTUP v34 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v34;
			branch_ZPlusMirth_7 = v32;
		} break;
		case 10LL: { // Arrow
			PTUP v35 = mtp_mirth_type_Type_Arrow(v6);
			PTUP v36;
			PTUP v37 = mw_mirth_type_ArrowType_unifyZ_errorZBang(v5, v35, &v36);
			decref(MKTUP(v37));
			PTUP v38 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v38;
			branch_ZPlusMirth_7 = v36;
		} break;
		case 11LL: { // App
			PTUP v39;
			PTUP v40 = mtp_mirth_type_Type_App(v6, &v39);
			PTUP v41;
			PTUP v42 = mw_mirth_type_Type_unifyZ_errorZBang(v5, v40, &v41);
			decref(MKTUP(v42));
			PTUP v43;
			PTUP v44 = mw_mirth_type_Type_unifyZ_errorZBang(v41, v39, &v43);
			decref(MKTUP(v44));
			PTUP v45 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v45;
			branch_ZPlusMirth_7 = v43;
		} break;
		case 12LL: { // Mut
			PTUP v46 = mtp_mirth_type_Type_Mut(v6);
			PTUP v47;
			PTUP v48 = mw_mirth_type_Type_unifyZ_errorZBang(v5, v46, &v47);
			decref(MKTUP(v48));
			PTUP v49 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v49;
			branch_ZPlusMirth_7 = v47;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static PTUP mw_mirth_type_Type_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_type_Type_expand(v6, in_Type_3, &v8);
	PTUP v10;
	PTUP v11 = mw_mirth_type_Type_unifyZ_auxZBang(v8, VTUP(MKTUP(v7)), v9, &v10);
	*out_ZPlusMirth_4 = v10;
	return v11;
}
static PTUP mw_mirth_type_Type_unifyZ_blockZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Type_9;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Error
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			PTUP v11 = PTRMK(0LL /* Error */,0,0);
			PTUP v12 = mw_mirth_type_TZ_ZTo(v10, v11);
			PTUP v13;
			PTUP v14 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(v6, in_Block_2, v12, &v13);
			decref(MKTUP(v14));
			PTUP v15 = PTRMK(0LL /* Error */,0,0);
			branch_Type_9 = v15;
			branch_ZPlusMirth_8 = v13;
		} break;
		case 3LL: { // Meta
			uint64_t v16 = mtp_mirth_type_Type_Meta(v7);
			incref(MKU64(in_Block_2));
			PTUP v17;
			PTUP v18 = mw_mirth_arrow_Block_type(v6, value_u64(MKU64(in_Block_2)), &v17);
			PTUP v19 = mtw_mirth_type_Type_Arrow(v18);
			PTUP v20;
			PTUP v21 = mw_mirth_type_MetaVar_unifyZBang(v17, v19, value_u64(MKU64(v16)), &v20);
			decref(MKTUP(v21));
			PTUP v22;
			PTUP v23 = mw_mirth_arrow_Block_arrow(v20, value_u64(MKU64(in_Block_2)), &v22);
			PTUP v24 = mw_mirth_arrow_Arrow_type(v23);
			PTUP v25 = mtw_mirth_type_Type_Arrow(v24);
			branch_Type_9 = v25;
			branch_ZPlusMirth_8 = v22;
		} break;
		case 10LL: { // Arrow
			PTUP v26 = mtp_mirth_type_Type_Arrow(v7);
			PTUP v27;
			PTUP v28 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(v6, in_Block_2, v26, &v27);
			PTUP v29 = mtw_mirth_type_Type_Arrow(v28);
			branch_Type_9 = v29;
			branch_ZPlusMirth_8 = v27;
		} break;
		default: {
			PTUP v30;
			PTUP v31 = mw_mirth_arrow_Block_type(v6, in_Block_2, &v30);
			PTUP v32 = mtw_mirth_type_Type_Arrow(v31);
			PTUP v33;
			PTUP v34 = mw_mirth_type_Type_unifyZBang(v30, v32, v7, &v33);
			branch_Type_9 = v34;
			branch_ZPlusMirth_8 = v33;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Type_9;
}
static PTUP mw_mirth_type_Type_unify2ZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Type_3, PTUP in_Type_4, PTUP in_Type_5, PTUP *out_ZPlusMirth_6, PTUP *out_Type_8) {
	PTUP v9;
	PTUP v10 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, in_Type_4, &v9);
	PTUP v11;
	PTUP v12 = mw_mirth_type_Type_unifyZBang(v9, VTUP(MKTUP(in_Type_3)), VTUP(MKTUP(in_Type_5)), &v11);
	*out_Type_8 = v12;
	*out_ZPlusMirth_6 = v11;
	return VTUP(MKTUP(v10));
}
static bool mw_mirth_type_Type_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Type_3)) {
		case 3LL: { // Meta
			uint64_t v8 = mtp_mirth_type_Type_Meta(in_Type_3);
			PTUP v9;
			bool v10 = mw_mirth_type_MetaVar_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v8, &v9);
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // Error
			bool v11 = false;
			branch_Bool_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v12 = false;
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v13 = mtp_mirth_type_Type_Prim(in_Type_3);
			decref(MKI64(v13));
			decref(MKU64(in_MetaVar_2));
			bool v14 = false;
			branch_Bool_7 = v14;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v15 = mtp_mirth_type_Type_Var(in_Type_3);
			decref(MKU64(v15));
			decref(MKU64(in_MetaVar_2));
			bool v16 = false;
			branch_Bool_7 = v16;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v17 = mtp_mirth_type_Type_Hole(in_Type_3);
			decref(MKU64(v17));
			decref(MKU64(in_MetaVar_2));
			bool v18 = false;
			branch_Bool_7 = v18;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			PTUP v19 = mtp_mirth_type_Type_Stack(in_Type_3);
			PTUP v20;
			bool v21 = mw_mirth_type_StackType_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v19, &v20);
			branch_Bool_7 = v21;
			branch_ZPlusMirth_6 = v20;
		} break;
		case 10LL: { // Arrow
			PTUP v22 = mtp_mirth_type_Type_Arrow(in_Type_3);
			PTUP v23;
			bool v24 = mw_mirth_type_ArrowType_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v22, &v23);
			branch_Bool_7 = v24;
			branch_ZPlusMirth_6 = v23;
		} break;
		case 11LL: { // App
			PTUP v25;
			PTUP v26 = mtp_mirth_type_Type_App(in_Type_3, &v25);
			PTUP v27;
			bool v28 = mw_mirth_type_Type_hasZ_meta2ZAsk(in_ZPlusMirth_1, in_MetaVar_2, v26, v25, &v27);
			branch_Bool_7 = v28;
			branch_ZPlusMirth_6 = v27;
		} break;
		case 7LL: { // Data
			uint64_t v29 = mtp_mirth_type_Type_Data(in_Type_3);
			decref(MKU64(v29));
			decref(MKU64(in_MetaVar_2));
			bool v30 = false;
			branch_Bool_7 = v30;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			PTUP v31 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			decref(MKTUP(v31));
			decref(MKU64(in_MetaVar_2));
			bool v32 = false;
			branch_Bool_7 = v32;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v33 = mtp_mirth_type_Type_Table(in_Type_3);
			decref(MKU64(v33));
			decref(MKU64(in_MetaVar_2));
			bool v34 = false;
			branch_Bool_7 = v34;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // Value
			PTUP v35 = mtp_mirth_type_Type_Value(in_Type_3);
			PTUP v36;
			bool v37 = mw_mirth_type_Value_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v35, &v36);
			branch_Bool_7 = v37;
			branch_ZPlusMirth_6 = v36;
		} break;
		case 12LL: { // Mut
			PTUP v38 = mtp_mirth_type_Type_Mut(in_Type_3);
			PTUP v39;
			bool v40 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v38, &v39);
			branch_Bool_7 = v40;
			branch_ZPlusMirth_6 = v39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_type_Type_hasZ_meta2ZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Type_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5) {
	incref(MKU64(in_MetaVar_2));
	PTUP v7;
	bool v8 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_MetaVar_2)), in_Type_4, &v7);
	PTUP branch_ZPlusMirth_9;
	bool branch_Bool_10;
	if (v8) {
		decref(MKTUP(VTUP(MKTUP(in_Type_3))));
		decref(MKU64(value_u64(MKU64(in_MetaVar_2))));
		bool v11 = true;
		branch_Bool_10 = v11;
		branch_ZPlusMirth_9 = v7;
	} else {
		PTUP v12;
		bool v13 = mw_mirth_type_Type_hasZ_metaZAsk(v7, value_u64(MKU64(in_MetaVar_2)), VTUP(MKTUP(in_Type_3)), &v12);
		branch_Bool_10 = v13;
		branch_ZPlusMirth_9 = v12;
	}
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static bool mw_mirth_type_Type_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Type_3)) {
		case 0LL: { // Error
			bool v8 = true;
			branch_Bool_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v9 = true;
			branch_Bool_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v10 = mtp_mirth_type_Type_Var(in_Type_3);
			bool v11 = (v10 == in_Var_2);
			branch_Bool_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Meta
			uint64_t v12 = mtp_mirth_type_Type_Meta(in_Type_3);
			PTUP v13;
			bool v14 = mw_mirth_type_MetaVar_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v12, &v13);
			branch_Bool_7 = v14;
			branch_ZPlusMirth_6 = v13;
		} break;
		case 2LL: { // Prim
			int64_t v15 = mtp_mirth_type_Type_Prim(in_Type_3);
			decref(MKI64(v15));
			decref(MKU64(in_Var_2));
			bool v16 = false;
			branch_Bool_7 = v16;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v17 = mtp_mirth_type_Type_Hole(in_Type_3);
			decref(MKU64(v17));
			decref(MKU64(in_Var_2));
			bool v18 = false;
			branch_Bool_7 = v18;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			PTUP v19 = mtp_mirth_type_Type_Stack(in_Type_3);
			PTUP v20;
			bool v21 = mw_mirth_type_StackType_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v19, &v20);
			branch_Bool_7 = v21;
			branch_ZPlusMirth_6 = v20;
		} break;
		case 10LL: { // Arrow
			PTUP v22 = mtp_mirth_type_Type_Arrow(in_Type_3);
			PTUP v23;
			bool v24 = mw_mirth_type_ArrowType_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v22, &v23);
			branch_Bool_7 = v24;
			branch_ZPlusMirth_6 = v23;
		} break;
		case 11LL: { // App
			PTUP v25;
			PTUP v26 = mtp_mirth_type_Type_App(in_Type_3, &v25);
			PTUP v27;
			bool v28 = mw_mirth_type_Type_hasZ_var2ZAsk(in_ZPlusMirth_1, in_Var_2, v26, v25, &v27);
			branch_Bool_7 = v28;
			branch_ZPlusMirth_6 = v27;
		} break;
		case 7LL: { // Data
			uint64_t v29 = mtp_mirth_type_Type_Data(in_Type_3);
			decref(MKU64(v29));
			decref(MKU64(in_Var_2));
			bool v30 = false;
			branch_Bool_7 = v30;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			PTUP v31 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			decref(MKTUP(v31));
			decref(MKU64(in_Var_2));
			bool v32 = false;
			branch_Bool_7 = v32;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v33 = mtp_mirth_type_Type_Table(in_Type_3);
			decref(MKU64(v33));
			decref(MKU64(in_Var_2));
			bool v34 = false;
			branch_Bool_7 = v34;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // Value
			PTUP v35 = mtp_mirth_type_Type_Value(in_Type_3);
			PTUP v36;
			bool v37 = mw_mirth_type_Value_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v35, &v36);
			branch_Bool_7 = v37;
			branch_ZPlusMirth_6 = v36;
		} break;
		case 12LL: { // Mut
			PTUP v38 = mtp_mirth_type_Type_Mut(in_Type_3);
			PTUP v39;
			bool v40 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v38, &v39);
			branch_Bool_7 = v40;
			branch_ZPlusMirth_6 = v39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_type_Type_hasZ_var2ZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Type_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5) {
	incref(MKU64(in_Var_2));
	PTUP v7;
	bool v8 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_Var_2)), in_Type_4, &v7);
	PTUP branch_ZPlusMirth_9;
	bool branch_Bool_10;
	if (v8) {
		decref(MKTUP(VTUP(MKTUP(in_Type_3))));
		decref(MKU64(value_u64(MKU64(in_Var_2))));
		bool v11 = true;
		branch_Bool_10 = v11;
		branch_ZPlusMirth_9 = v7;
	} else {
		PTUP v12;
		bool v13 = mw_mirth_type_Type_hasZ_varZAsk(v7, value_u64(MKU64(in_Var_2)), VTUP(MKTUP(in_Type_3)), &v12);
		branch_Bool_10 = v13;
		branch_ZPlusMirth_9 = v12;
	}
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static void mw_mirth_type_Type_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (PTREXTRA(in_Type_3)) {
		case 0LL: { // Error
			STR* v8;
			STRLIT(v8, "<ERROR>", 7);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			STR* v10;
			STRLIT(v10, "_", 1);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(v10, in_ZPlusStr_2, &v11);
			branch_ZPlusStr_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v12 = mtp_mirth_type_Type_Prim(in_Type_3);
			PTUP v13;
			STR* v14;
			mw_mirth_type_PrimType_typeZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v12, &v13, &v14);
			branch_ZPlusStr_7 = v14;
			branch_ZPlusMirth_6 = v13;
		} break;
		case 5LL: { // Var
			uint64_t v15 = mtp_mirth_type_Type_Var(in_Type_3);
			PTUP v16;
			STR* v17;
			mw_mirth_var_Var_typeZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v15, &v16, &v17);
			branch_ZPlusStr_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 3LL: { // Meta
			uint64_t v18 = mtp_mirth_type_Type_Meta(in_Type_3);
			PTUP v19;
			STR* v20;
			mw_mirth_type_MetaVar_typeZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v18, &v19, &v20);
			branch_ZPlusStr_7 = v20;
			branch_ZPlusMirth_6 = v19;
		} break;
		case 9LL: { // Stack
			PTUP v21 = mtp_mirth_type_Type_Stack(in_Type_3);
			STR* v22;
			STRLIT(v22, "[", 1);
			STR* v23;
			mw_std_str_ZPlusStr_pushZ_strZBang(v22, in_ZPlusStr_2, &v23);
			PTUP v24;
			STR* v25;
			mw_mirth_type_StackType_stackZThen(in_ZPlusMirth_1, v23, v21, &v24, &v25);
			STR* v26;
			STRLIT(v26, "]", 1);
			STR* v27;
			mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
			branch_ZPlusStr_7 = v27;
			branch_ZPlusMirth_6 = v24;
		} break;
		case 10LL: { // Arrow
			PTUP v28 = mtp_mirth_type_Type_Arrow(in_Type_3);
			STR* v29;
			STRLIT(v29, "[", 1);
			STR* v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, in_ZPlusStr_2, &v30);
			PTUP v31;
			STR* v32;
			mw_mirth_type_ArrowType_sigZThen(in_ZPlusMirth_1, v30, v28, &v31, &v32);
			STR* v33;
			STRLIT(v33, "]", 1);
			STR* v34;
			mw_std_str_ZPlusStr_pushZ_strZBang(v33, v32, &v34);
			branch_ZPlusStr_7 = v34;
			branch_ZPlusMirth_6 = v31;
		} break;
		case 7LL: { // Data
			uint64_t v35 = mtp_mirth_type_Type_Data(in_Type_3);
			PTUP v36;
			STR* v37;
			mw_mirth_data_Data_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v35, &v36, &v37);
			branch_ZPlusStr_7 = v37;
			branch_ZPlusMirth_6 = v36;
		} break;
		case 8LL: { // DataPartial
			PTUP v38 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			incref(MKTUP(v38));
			uint64_t v39 = value_u64(((TUP*)PTRPTR(v38))->cells[0]);
			decref(MKTUP(v38));
			PTUP v40;
			STR* v41;
			mw_mirth_data_Data_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v39, &v40, &v41);
			STR* v42;
			STRLIT(v42, "/", 1);
			STR* v43;
			mw_std_str_ZPlusStr_pushZ_strZBang(v42, v41, &v43);
			uint64_t v44 = value_u64(((TUP*)PTRPTR(v38))->cells[1]);
			decref(MKTUP(v38));
			PTUP v45;
			STR* v46;
			mw_mirth_label_Label_nameZThen(v40, v43, v44, &v45, &v46);
			branch_ZPlusStr_7 = v46;
			branch_ZPlusMirth_6 = v45;
		} break;
		case 6LL: { // Table
			uint64_t v47 = mtp_mirth_type_Type_Table(in_Type_3);
			PTUP v48;
			uint64_t v49 = mw_mirth_table_Table_name(in_ZPlusMirth_1, v47, &v48);
			PTUP v50;
			STR* v51;
			mw_mirth_name_Name_nameZThen(v48, in_ZPlusStr_2, v49, &v50, &v51);
			branch_ZPlusStr_7 = v51;
			branch_ZPlusMirth_6 = v50;
		} break;
		case 4LL: { // Hole
			uint64_t v52 = mtp_mirth_type_Type_Hole(in_Type_3);
			PTUP v53;
			STR* v54;
			mw_mirth_name_Name_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v52, &v53, &v54);
			branch_ZPlusStr_7 = v54;
			branch_ZPlusMirth_6 = v53;
		} break;
		case 11LL: { // App
			PTUP v55;
			PTUP v56 = mtp_mirth_type_Type_App(in_Type_3, &v55);
			PTUP v57;
			STR* v58;
			mw_mirth_type_Type_appZ_typeZThenZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v56, v55, &v57, &v58);
			branch_ZPlusStr_7 = v58;
			branch_ZPlusMirth_6 = v57;
		} break;
		case 13LL: { // Value
			PTUP v59 = mtp_mirth_type_Type_Value(in_Type_3);
			PTUP v60;
			PTUP v61 = mw_mirth_type_Value_type(in_ZPlusMirth_1, v59, &v60);
			PTUP v62;
			STR* v63;
			mw_mirth_type_Type_typeZThen(v60, in_ZPlusStr_2, v61, &v62, &v63);
			branch_ZPlusStr_7 = v63;
			branch_ZPlusMirth_6 = v62;
		} break;
		case 12LL: { // Mut
			PTUP v64 = mtp_mirth_type_Type_Mut(in_Type_3);
			STR* v65;
			STRLIT(v65, "Mut(", 4);
			STR* v66;
			mw_std_str_ZPlusStr_pushZ_strZBang(v65, in_ZPlusStr_2, &v66);
			PTUP v67;
			STR* v68;
			mw_mirth_type_Type_typeZThen(in_ZPlusMirth_1, v66, v64, &v67, &v68);
			STR* v69;
			STRLIT(v69, ")", 1);
			STR* v70;
			mw_std_str_ZPlusStr_pushZ_strZBang(v69, v68, &v70);
			branch_ZPlusStr_7 = v70;
			branch_ZPlusMirth_6 = v67;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static PTUP mw_mirth_type_Type_appZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 11LL: { // App
			PTUP v9;
			PTUP v10 = mtp_mirth_type_Type_App(v6, &v9);
			PTUP r11 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r11))->size = 2;
			((TUP*)PTRPTR(r11))->cells[1] = MKTUP(v9);
			((TUP*)PTRPTR(r11))->cells[0] = MKTUP(v10);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(r11));
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(MKTUP(v6));
			PTUP v13 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_type_Type_splitZ_args (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	bool v7 = true;
	PTUP v8 = v6;
	PTUP r9 = in_ZPlusMirth_1;
	PTUP v10 = in_Type_2;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP v13 = v8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		incref(MKTUP(v15));
		PTUP v17;
		PTUP v18 = mw_mirth_type_Type_appZAsk(r14, v15, &v17);
		VAL branch_z_x2_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v18)) {
			case 1LL: { // Some
				VAL v22 = mtp_std_maybe_Maybe_1_Some(v18);
				decref(MKTUP(v15));
				VAL v23 = ((TUP*)PTRPTR(value_tup(v22)))->cells[0];
				VAL v24 = ((TUP*)PTRPTR(value_tup(v22)))->cells[1];
				tup_decref_outer(value_tup(v22));
				PTUP v25 = mw_std_list_List_1_cons(v24, v13);
				bool v26 = true;
				branch_Bool_21 = v26;
				branch_List_20 = v25;
				branch_z_x2_19 = v23;
			} break;
			case 0LL: { // None
				bool v27 = false;
				branch_Bool_21 = v27;
				branch_List_20 = v13;
				branch_z_x2_19 = MKTUP(v15);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_21;
		v11 = branch_Bool_21;
		v10 = VTUP(branch_z_x2_19);
		r9 = v17;
		v8 = branch_List_20;
	}
	*out_List_5 = v8;
	*out_ZPlusMirth_3 = r9;
	return v10;
}
static void mw_mirth_type_Type_appZ_typeZThenZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Type_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5, STR* *out_ZPlusStr_6) {
	PTUP v7;
	PTUP v8;
	PTUP v9 = mw_mirth_type_Type_splitZ_args(in_ZPlusMirth_1, in_Type_3, &v7, &v8);
	PTUP v10;
	STR* v11;
	mw_mirth_type_Type_typeZThen(v7, in_ZPlusStr_2, v9, &v10, &v11);
	STR* v12;
	STRLIT(v12, "(", 1);
	STR* v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
	bool v14 = true;
	PTUP r15 = v10;
	STR* r16 = v13;
	PTUP v17 = v8;
	bool v18 = v14;
	bool v19 = v14;
	while (v19) {
		PTUP r20 = r15;
		STR* r21 = r16;
		PTUP v22 = v17;
		bool v23 = v18;
		PTUP branch_ZPlusMirth_24;
		STR* branch_ZPlusStr_25;
		PTUP branch_List_26;
		bool branch_Bool_27;
		switch (PTREXTRA(v22)) {
			case 1LL: { // Cons
				PTUP v28;
				VAL v29 = mtp_std_list_List_1_Cons(v22, &v28);
				PTUP v30;
				STR* v31;
				mw_mirth_type_Type_typeZThen(r20, r21, VTUP(v29), &v30, &v31);
				STR* v32;
				STRLIT(v32, ", ", 2);
				STR* v33;
				mw_std_str_ZPlusStr_pushZ_strZBang(v32, v31, &v33);
				bool v34 = true;
				branch_Bool_27 = v34;
				branch_List_26 = v28;
				branch_ZPlusStr_25 = v33;
				branch_ZPlusMirth_24 = v30;
			} break;
			case 0LL: { // Nil
				PTUP v35 = PTRMK(0LL /* Nil */,0,0);
				bool v36 = false;
				branch_Bool_27 = v36;
				branch_List_26 = v35;
				branch_ZPlusStr_25 = r21;
				branch_ZPlusMirth_24 = r20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_27;
		v18 = branch_Bool_27;
		v17 = branch_List_26;
		r16 = branch_ZPlusStr_25;
		r15 = branch_ZPlusMirth_24;
	}
	decref(MKTUP(v17));
	PTUP v37;
	STR* v38;
	mw_mirth_type_Type_typeZThen(r15, r16, in_Type_4, &v37, &v38);
	STR* v39;
	STRLIT(v39, ")", 1);
	STR* v40;
	mw_std_str_ZPlusStr_pushZ_strZBang(v39, v38, &v40);
	*out_ZPlusStr_6 = v40;
	*out_ZPlusMirth_5 = v37;
}
static PTUP mw_mirth_type_Type_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Subst_8;
	PTUP branch_Type_9;
	switch (PTREXTRA(in_Type_3)) {
		case 0LL: { // Error
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			branch_Type_9 = v10;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v11 = PTRMK(1LL /* Ignore */,0,0);
			branch_Type_9 = v11;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v12 = mtp_mirth_type_Type_Prim(in_Type_3);
			PTUP v13 = mtw_mirth_type_Type_Prim(v12);
			branch_Type_9 = v13;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v14 = mtp_mirth_type_Type_Hole(in_Type_3);
			PTUP v15 = mtw_mirth_type_Type_Hole(v14);
			branch_Type_9 = v15;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v16 = mtp_mirth_type_Type_Data(in_Type_3);
			PTUP v17 = mtw_mirth_type_Type_Data(v16);
			branch_Type_9 = v17;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			PTUP v18 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			PTUP v19 = mtw_mirth_type_Type_DataPartial(v18);
			branch_Type_9 = v19;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v20 = mtp_mirth_type_Type_Table(in_Type_3);
			PTUP v21 = mtw_mirth_type_Type_Table(v20);
			branch_Type_9 = v21;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // Value
			PTUP v22 = mtp_mirth_type_Type_Value(in_Type_3);
			PTUP v23;
			PTUP v24 = mw_mirth_type_Value_type(in_ZPlusMirth_1, v22, &v23);
			PTUP v25;
			PTUP v26;
			PTUP v27 = mw_mirth_type_Type_freshen(v23, in_Subst_2, v24, &v25, &v26);
			branch_Type_9 = v26;
			branch_Subst_8 = v27;
			branch_ZPlusMirth_7 = v25;
		} break;
		case 5LL: { // Var
			uint64_t v28 = mtp_mirth_type_Type_Var(in_Type_3);
			PTUP v29;
			PTUP v30;
			PTUP v31 = mw_mirth_var_Var_freshen(in_ZPlusMirth_1, in_Subst_2, v28, &v29, &v30);
			branch_Type_9 = v30;
			branch_Subst_8 = v31;
			branch_ZPlusMirth_7 = v29;
		} break;
		case 3LL: { // Meta
			uint64_t v32 = mtp_mirth_type_Type_Meta(in_Type_3);
			PTUP v33;
			PTUP v34;
			PTUP v35 = mw_mirth_type_MetaVar_freshen(in_ZPlusMirth_1, in_Subst_2, v32, &v33, &v34);
			branch_Type_9 = v34;
			branch_Subst_8 = v35;
			branch_ZPlusMirth_7 = v33;
		} break;
		case 9LL: { // Stack
			PTUP v36 = mtp_mirth_type_Type_Stack(in_Type_3);
			PTUP v37;
			PTUP v38;
			PTUP v39 = mw_mirth_type_StackType_freshen(in_ZPlusMirth_1, in_Subst_2, v36, &v37, &v38);
			PTUP v40 = mtw_mirth_type_Type_Stack(v38);
			branch_Type_9 = v40;
			branch_Subst_8 = v39;
			branch_ZPlusMirth_7 = v37;
		} break;
		case 10LL: { // Arrow
			PTUP v41 = mtp_mirth_type_Type_Arrow(in_Type_3);
			PTUP v42;
			PTUP v43;
			PTUP v44 = mw_mirth_type_ArrowType_freshen(in_ZPlusMirth_1, in_Subst_2, v41, &v42, &v43);
			PTUP v45 = mtw_mirth_type_Type_Arrow(v43);
			branch_Type_9 = v45;
			branch_Subst_8 = v44;
			branch_ZPlusMirth_7 = v42;
		} break;
		case 11LL: { // App
			PTUP v46;
			PTUP v47 = mtp_mirth_type_Type_App(in_Type_3, &v46);
			PTUP v48;
			PTUP v49;
			PTUP v50;
			PTUP v51 = mw_mirth_type_Type_freshen2(in_ZPlusMirth_1, in_Subst_2, v47, v46, &v48, &v49, &v50);
			PTUP v52 = mtw_mirth_type_Type_App(v49, v50);
			branch_Type_9 = v52;
			branch_Subst_8 = v51;
			branch_ZPlusMirth_7 = v48;
		} break;
		case 12LL: { // Mut
			PTUP v53 = mtp_mirth_type_Type_Mut(in_Type_3);
			PTUP v54;
			PTUP v55;
			PTUP v56 = mw_mirth_type_Type_freshen(in_ZPlusMirth_1, in_Subst_2, v53, &v54, &v55);
			PTUP v57 = mtw_mirth_type_Type_Mut(v55);
			branch_Type_9 = v57;
			branch_Subst_8 = v56;
			branch_ZPlusMirth_7 = v54;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Subst_8;
}
static PTUP mw_mirth_type_Type_freshen2 (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Type_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5, PTUP *out_Type_7, PTUP *out_Type_8) {
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_type_Type_freshen(in_ZPlusMirth_1, in_Subst_2, in_Type_3, &v9, &v10);
	PTUP v12;
	PTUP v13;
	PTUP v14 = mw_mirth_type_Type_freshen(v9, v11, in_Type_4, &v12, &v13);
	*out_Type_8 = v13;
	*out_Type_7 = VTUP(MKTUP(v10));
	*out_ZPlusMirth_5 = v12;
	return v14;
}
static PTUP mw_mirth_type_Type_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Ctx_8;
	PTUP branch_Type_9;
	switch (PTREXTRA(in_Type_3)) {
		case 3LL: { // Meta
			uint64_t v10 = mtp_mirth_type_Type_Meta(in_Type_3);
			PTUP v11;
			PTUP v12;
			PTUP v13 = mw_mirth_type_MetaVar_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v10, &v11, &v12);
			branch_Type_9 = v12;
			branch_Ctx_8 = v13;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 0LL: { // Error
			PTUP v14 = PTRMK(0LL /* Error */,0,0);
			branch_Type_9 = v14;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v15 = PTRMK(1LL /* Ignore */,0,0);
			branch_Type_9 = v15;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v16 = mtp_mirth_type_Type_Prim(in_Type_3);
			PTUP v17 = mtw_mirth_type_Type_Prim(v16);
			branch_Type_9 = v17;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v18 = mtp_mirth_type_Type_Hole(in_Type_3);
			PTUP v19 = mtw_mirth_type_Type_Hole(v18);
			branch_Type_9 = v19;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v20 = mtp_mirth_type_Type_Var(in_Type_3);
			PTUP v21 = mtw_mirth_type_Type_Var(v20);
			branch_Type_9 = v21;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v22 = mtp_mirth_type_Type_Table(in_Type_3);
			PTUP v23 = mtw_mirth_type_Type_Table(v22);
			branch_Type_9 = v23;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v24 = mtp_mirth_type_Type_Data(in_Type_3);
			PTUP v25 = mtw_mirth_type_Type_Data(v24);
			branch_Type_9 = v25;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			PTUP v26 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			PTUP v27 = mtw_mirth_type_Type_DataPartial(v26);
			branch_Type_9 = v27;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // App
			PTUP v28;
			PTUP v29 = mtp_mirth_type_Type_App(in_Type_3, &v28);
			PTUP v30;
			PTUP v31;
			PTUP v32 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v29, &v30, &v31);
			PTUP v33;
			PTUP v34;
			PTUP v35 = mw_mirth_type_Type_rigidifyZBang(v30, v32, v28, &v33, &v34);
			PTUP v36 = mtw_mirth_type_Type_App(VTUP(MKTUP(v31)), v34);
			branch_Type_9 = v36;
			branch_Ctx_8 = v35;
			branch_ZPlusMirth_7 = v33;
		} break;
		case 9LL: { // Stack
			PTUP v37 = mtp_mirth_type_Type_Stack(in_Type_3);
			PTUP v38;
			PTUP v39;
			PTUP v40 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v37, &v38, &v39);
			PTUP v41 = mtw_mirth_type_Type_Stack(v39);
			branch_Type_9 = v41;
			branch_Ctx_8 = v40;
			branch_ZPlusMirth_7 = v38;
		} break;
		case 10LL: { // Arrow
			PTUP v42 = mtp_mirth_type_Type_Arrow(in_Type_3);
			PTUP v43;
			PTUP v44;
			PTUP v45 = mw_mirth_type_ArrowType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v42, &v43, &v44);
			PTUP v46 = mtw_mirth_type_Type_Arrow(v44);
			branch_Type_9 = v46;
			branch_Ctx_8 = v45;
			branch_ZPlusMirth_7 = v43;
		} break;
		case 13LL: { // Value
			PTUP v47 = mtp_mirth_type_Type_Value(in_Type_3);
			PTUP v48;
			PTUP v49;
			PTUP v50 = mw_mirth_type_Value_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v47, &v48, &v49);
			branch_Type_9 = v49;
			branch_Ctx_8 = v50;
			branch_ZPlusMirth_7 = v48;
		} break;
		case 12LL: { // Mut
			PTUP v51 = mtp_mirth_type_Type_Mut(in_Type_3);
			PTUP v52;
			PTUP v53;
			PTUP v54 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v51, &v52, &v53);
			PTUP v55 = mtw_mirth_type_Type_Mut(v53);
			branch_Type_9 = v55;
			branch_Ctx_8 = v54;
			branch_ZPlusMirth_7 = v52;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static PTUP mw_mirth_type_Type_exceptZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP in_Type_4, PTUP *out_ZPlusMirth_5) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Type_8;
	switch (PTREXTRA(in_Type_4)) {
		case 3LL: { // Meta
			uint64_t v9 = mtp_mirth_type_Type_Meta(in_Type_4);
			PTUP v10;
			PTUP v11 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v9, &v10);
			PTUP branch_ZPlusMirth_12;
			PTUP branch_Type_13;
			switch (PTREXTRA(v11)) {
				case 0LL: { // None
					STR* v14;
					STRLIT(v14, "Type.except-field on metavar", 28);
					do_panic(v14);
				} break;
				case 1LL: { // Some
					VAL v17 = mtp_std_maybe_Maybe_1_Some(v11);
					PTUP v18;
					PTUP v19 = mw_mirth_type_Type_expand(v10, VTUP(v17), &v18);
					incref(MKTUP(v19));
					PTUP v20 = mtw_std_maybe_Maybe_1_Some(MKTUP(v19));
					PTUP v21;
					mw_mirth_type_MetaVar_typeZAskZBang(v18, v20, value_u64(MKU64(v9)), &v21);
					PTUP v22;
					PTUP v23 = mw_mirth_type_Type_exceptZ_field(v21, in_Label_2, in_Tag_3, VTUP(MKTUP(v19)), &v22);
					branch_Type_13 = v23;
					branch_ZPlusMirth_12 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_8 = branch_Type_13;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
		} break;
		case 7LL: { // Data
			uint64_t v24 = mtp_mirth_type_Type_Data(in_Type_4);
			PTUP v25 = mtw_mirth_data_DataPartial_DataPartial(v24, in_Label_2);
			PTUP v26 = mtw_mirth_type_Type_DataPartial(v25);
			branch_Type_8 = v26;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // App
			PTUP v27;
			PTUP v28 = mtp_mirth_type_Type_App(in_Type_4, &v27);
			PTUP v29;
			PTUP v30 = mw_mirth_type_Type_exceptZ_field(in_ZPlusMirth_1, in_Label_2, in_Tag_3, v28, &v29);
			PTUP v31 = mtw_mirth_type_Type_App(v30, v27);
			branch_Type_8 = v31;
			branch_ZPlusMirth_7 = v29;
		} break;
		default: {
			STR* v32;
			STRLIT(v32, "Type.except-field on unexpected type", 36);
			do_panic(v32);
		} break;
	}
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static PTUP mw_mirth_type_Type_ctype (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_Type_2));
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_ctypeZAsk(in_ZPlusMirth_1, in_Type_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_CType_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			decref(MKTUP(in_Type_2));
			branch_CType_8 = VTUP(v9);
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "", 0);
			PTUP v11;
			STR* v12;
			mw_mirth_type_Type_typeZThen(v5, v10, in_Type_2, &v11, &v12);
			STR* v13;
			STRLIT(v13, " doesn't have a C representation.", 33);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
			PTUP v15;
			mw_mirth_mirth_ZPlusMirth_errorZBang(v11, v14, &v15);
			STR* v16;
			STRLIT(v16, "void", 4);
			PTUP v17 = mtw_mirth_type_CType_Void(v16);
			branch_CType_8 = v17;
			branch_ZPlusMirth_7 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_CType_8;
}
static PTUP mw_mirth_type_Type_ctypeZAsk (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 2LL: { // Prim
			int64_t v9 = mtp_mirth_type_Type_Prim(v6);
			PTUP v10;
			PTUP v11 = mw_mirth_type_PrimType_ctypeZAsk(v5, v9, &v10);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 7LL: { // Data
			uint64_t v12 = mtp_mirth_type_Type_Data(v6);
			PTUP v13;
			PTUP v14 = mw_mirth_data_Data_ctypeZAsk(v5, v12, &v13);
			branch_Maybe_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 10LL: { // Arrow
			PTUP v15 = mtp_mirth_type_Type_Arrow(v6);
			decref(MKTUP(v15));
			STR* v16;
			STRLIT(v16, "FNPTR", 5);
			PTUP v17 = mtw_mirth_type_CType_FnPtr(v16);
			PTUP v18 = mtw_std_maybe_Maybe_1_Some(MKTUP(v17));
			branch_Maybe_8 = v18;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 11LL: { // App
			PTUP v19;
			PTUP v20 = mtp_mirth_type_Type_App(v6, &v19);
			PTUP v21;
			PTUP v22 = mw_mirth_type_Type_ctypeZAsk(v5, v19, &v21);
			PTUP branch_Type_23;
			PTUP branch_ZPlusMirth_24;
			PTUP branch_Maybe_25;
			switch (PTREXTRA(v22)) {
				case 1LL: { // Some
					VAL v26 = mtp_std_maybe_Maybe_1_Some(v22);
					incref(MKTUP(v20));
					PTUP v27;
					PTUP v28 = mw_mirth_type_Type_ctype1ZAsk(v21, VTUP(v26), VTUP(MKTUP(v20)), &v27);
					branch_Maybe_25 = v28;
					branch_ZPlusMirth_24 = v27;
					branch_Type_23 = VTUP(MKTUP(v20));
				} break;
				case 0LL: { // None
					PTUP v29 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_25 = v29;
					branch_ZPlusMirth_24 = v21;
					branch_Type_23 = v20;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(MKTUP(branch_Type_23));
			branch_Maybe_8 = VTUP(MKTUP(branch_Maybe_25));
			branch_ZPlusMirth_7 = branch_ZPlusMirth_24;
		} break;
		default: {
			decref(MKTUP(v6));
			PTUP v30 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v30;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_type_Type_ctype1ZAsk (PTUP in_ZPlusMirth_1, PTUP in_CType_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v7)) {
		case 7LL: { // Data
			uint64_t v10 = mtp_mirth_type_Type_Data(v7);
			PTUP v11;
			PTUP v12 = mw_mirth_data_Data_ctype1ZAsk(v6, in_CType_2, v10, &v11);
			branch_Maybe_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		default: {
			decref(MKTUP(v7));
			decref(MKTUP(in_CType_2));
			PTUP v13 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v13;
			branch_ZPlusMirth_8 = v6;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static PTUP mw_mirth_type_Value_tyconZAsk (PTUP in_Value_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Value_1)) {
		case 0LL: { // Int
			INT v4 = mtp_mirth_type_Value_Int(in_Value_1);
			decref(MKINT(v4));
			int64_t v5 = 5LL /* Int */;
			PTUP v6 = mtw_mirth_tycon_Tycon_Prim(v5);
			PTUP v7 = mtw_std_maybe_Maybe_1_Some(MKTUP(v6));
			branch_Maybe_3 = v7;
		} break;
		case 1LL: { // F64
			double v8 = mtp_mirth_type_Value_F64(in_Value_1);
			int64_t v9 = 16LL /* F64 */;
			PTUP v10 = mtw_mirth_tycon_Tycon_Prim(v9);
			PTUP v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v10));
			branch_Maybe_3 = v11;
		} break;
		case 2LL: { // Str
			STR* v12 = mtp_mirth_type_Value_Str(in_Value_1);
			decref(MKSTR(v12));
			int64_t v13 = 18LL /* Str */;
			PTUP v14 = mtw_mirth_tycon_Tycon_Prim(v13);
			PTUP v15 = mtw_std_maybe_Maybe_1_Some(MKTUP(v14));
			branch_Maybe_3 = v15;
		} break;
		case 3LL: { // Block
			uint64_t v16 = mtp_mirth_type_Value_Block(in_Value_1);
			PTUP v17 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_type_Value_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Value_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Type_7;
	switch (PTREXTRA(in_Value_2)) {
		case 0LL: { // Int
			INT v8 = mtp_mirth_type_Value_Int(in_Value_2);
			PTUP branch_ZPlusMirth_9;
			PTUP branch_Type_10;
			switch (PTREXTRA(in_Value_3)) {
				case 0LL: { // Int
					INT v11 = mtp_mirth_type_Value_Int(in_Value_3);
					incref(MKINT(v8));
					incref(MKINT(v11));
					bool v12 = int_eq(value_int(MKINT(v8)), value_int(MKINT(v11)));
					PTUP branch_ZPlusMirth_13;
					PTUP branch_Type_14;
					if (v12) {
						decref(MKINT(value_int(MKINT(v11))));
						PTUP v15 = mtw_mirth_type_Value_Int(value_int(MKINT(v8)));
						PTUP v16 = mtw_mirth_type_Type_Value(v15);
						branch_Type_14 = v16;
						branch_ZPlusMirth_13 = in_ZPlusMirth_1;
					} else {
						decref(MKINT(value_int(MKINT(v11))));
						decref(MKINT(value_int(MKINT(v8))));
						PTUP v17 = mw_mirth_type_Type_Int();
						branch_Type_14 = v17;
						branch_ZPlusMirth_13 = in_ZPlusMirth_1;
					}
					branch_Type_10 = branch_Type_14;
					branch_ZPlusMirth_9 = branch_ZPlusMirth_13;
				} break;
				case 2LL: { // Str
					STR* v18 = mtp_mirth_type_Value_Str(in_Value_3);
					decref(MKSTR(v18));
					decref(MKINT(v8));
					STR* v19;
					STRLIT(v19, "Can't unify int value with string value.", 40);
					PTUP v20;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v19, &v20);
					PTUP v21 = PTRMK(0LL /* Error */,0,0);
					branch_Type_10 = v21;
					branch_ZPlusMirth_9 = v20;
				} break;
				case 1LL: { // F64
					double v22 = mtp_mirth_type_Value_F64(in_Value_3);
					decref(MKF64(v22));
					decref(MKINT(v8));
					STR* v23;
					STRLIT(v23, "Can't unify int value with float value.", 39);
					PTUP v24;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v23, &v24);
					PTUP v25 = PTRMK(0LL /* Error */,0,0);
					branch_Type_10 = v25;
					branch_ZPlusMirth_9 = v24;
				} break;
				case 3LL: { // Block
					uint64_t v26 = mtp_mirth_type_Value_Block(in_Value_3);
					decref(MKU64(v26));
					decref(MKINT(v8));
					STR* v27;
					STRLIT(v27, "Can't unify int value with block.", 33);
					PTUP v28;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v27, &v28);
					PTUP v29 = PTRMK(0LL /* Error */,0,0);
					branch_Type_10 = v29;
					branch_ZPlusMirth_9 = v28;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_7 = branch_Type_10;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_9;
		} break;
		case 2LL: { // Str
			STR* v30 = mtp_mirth_type_Value_Str(in_Value_2);
			PTUP branch_ZPlusMirth_31;
			PTUP branch_Type_32;
			switch (PTREXTRA(in_Value_3)) {
				case 2LL: { // Str
					STR* v33 = mtp_mirth_type_Value_Str(in_Value_3);
					incref(MKSTR(v30));
					incref(MKSTR(v33));
					bool v34 = (str_cmp(value_str(MKSTR(v30)), value_str(MKSTR(v33))) == 0);
					PTUP branch_ZPlusMirth_35;
					PTUP branch_Type_36;
					if (v34) {
						decref(MKSTR(value_str(MKSTR(v33))));
						PTUP v37 = mtw_mirth_type_Value_Str(value_str(MKSTR(v30)));
						PTUP v38 = mtw_mirth_type_Type_Value(v37);
						branch_Type_36 = v38;
						branch_ZPlusMirth_35 = in_ZPlusMirth_1;
					} else {
						decref(MKSTR(value_str(MKSTR(v33))));
						decref(MKSTR(value_str(MKSTR(v30))));
						PTUP v39 = mw_mirth_type_Type_Str();
						branch_Type_36 = v39;
						branch_ZPlusMirth_35 = in_ZPlusMirth_1;
					}
					branch_Type_32 = branch_Type_36;
					branch_ZPlusMirth_31 = branch_ZPlusMirth_35;
				} break;
				case 0LL: { // Int
					INT v40 = mtp_mirth_type_Value_Int(in_Value_3);
					decref(MKINT(v40));
					decref(MKSTR(v30));
					STR* v41;
					STRLIT(v41, "Can't unify string value with int value.", 40);
					PTUP v42;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v41, &v42);
					PTUP v43 = PTRMK(0LL /* Error */,0,0);
					branch_Type_32 = v43;
					branch_ZPlusMirth_31 = v42;
				} break;
				case 1LL: { // F64
					double v44 = mtp_mirth_type_Value_F64(in_Value_3);
					decref(MKF64(v44));
					decref(MKSTR(v30));
					STR* v45;
					STRLIT(v45, "Can't unify string value with float value.", 42);
					PTUP v46;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v45, &v46);
					PTUP v47 = PTRMK(0LL /* Error */,0,0);
					branch_Type_32 = v47;
					branch_ZPlusMirth_31 = v46;
				} break;
				case 3LL: { // Block
					uint64_t v48 = mtp_mirth_type_Value_Block(in_Value_3);
					decref(MKU64(v48));
					decref(MKSTR(v30));
					STR* v49;
					STRLIT(v49, "Can't unify string value with block.", 36);
					PTUP v50;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v49, &v50);
					PTUP v51 = PTRMK(0LL /* Error */,0,0);
					branch_Type_32 = v51;
					branch_ZPlusMirth_31 = v50;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_7 = branch_Type_32;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_31;
		} break;
		case 1LL: { // F64
			double v52 = mtp_mirth_type_Value_F64(in_Value_2);
			PTUP branch_ZPlusMirth_53;
			PTUP branch_Type_54;
			switch (PTREXTRA(in_Value_3)) {
				case 1LL: { // F64
					double v55 = mtp_mirth_type_Value_F64(in_Value_3);
					incref(MKF64(v52));
					incref(MKF64(v55));
					bool v56 = (value_f64(MKF64(v52)) == value_f64(MKF64(v55)));
					PTUP branch_ZPlusMirth_57;
					PTUP branch_Type_58;
					if (v56) {
						PTUP v59 = mtw_mirth_type_Value_F64(value_f64(MKF64(v52)));
						PTUP v60 = mtw_mirth_type_Type_Value(v59);
						branch_Type_58 = v60;
						branch_ZPlusMirth_57 = in_ZPlusMirth_1;
					} else {
						decref(MKF64(value_f64(MKF64(v55))));
						decref(MKF64(value_f64(MKF64(v52))));
						PTUP v61 = mw_mirth_type_Type_F64();
						branch_Type_58 = v61;
						branch_ZPlusMirth_57 = in_ZPlusMirth_1;
					}
					branch_Type_54 = branch_Type_58;
					branch_ZPlusMirth_53 = branch_ZPlusMirth_57;
				} break;
				case 0LL: { // Int
					INT v62 = mtp_mirth_type_Value_Int(in_Value_3);
					decref(MKINT(v62));
					decref(MKF64(v52));
					STR* v63;
					STRLIT(v63, "Can't unify float value with int value.", 39);
					PTUP v64;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v63, &v64);
					PTUP v65 = PTRMK(0LL /* Error */,0,0);
					branch_Type_54 = v65;
					branch_ZPlusMirth_53 = v64;
				} break;
				case 3LL: { // Block
					uint64_t v66 = mtp_mirth_type_Value_Block(in_Value_3);
					decref(MKU64(v66));
					decref(MKF64(v52));
					STR* v67;
					STRLIT(v67, "Can't unify float value with block.", 35);
					PTUP v68;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v67, &v68);
					PTUP v69 = PTRMK(0LL /* Error */,0,0);
					branch_Type_54 = v69;
					branch_ZPlusMirth_53 = v68;
				} break;
				case 2LL: { // Str
					STR* v70 = mtp_mirth_type_Value_Str(in_Value_3);
					decref(MKSTR(v70));
					decref(MKF64(v52));
					STR* v71;
					STRLIT(v71, "Can't unify float value with string value.", 42);
					PTUP v72;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v71, &v72);
					PTUP v73 = PTRMK(0LL /* Error */,0,0);
					branch_Type_54 = v73;
					branch_ZPlusMirth_53 = v72;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_7 = branch_Type_54;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_53;
		} break;
		case 3LL: { // Block
			uint64_t v74 = mtp_mirth_type_Value_Block(in_Value_2);
			PTUP branch_ZPlusMirth_75;
			PTUP branch_Type_76;
			switch (PTREXTRA(in_Value_3)) {
				case 3LL: { // Block
					uint64_t v77 = mtp_mirth_type_Value_Block(in_Value_3);
					incref(MKU64(v74));
					incref(MKU64(v77));
					bool v78 = (value_u64(MKU64(v77)) == value_u64(MKU64(v74)));
					PTUP branch_ZPlusMirth_79;
					PTUP branch_Type_80;
					if (v78) {
						PTUP v81 = mtw_mirth_type_Value_Block(value_u64(MKU64(v74)));
						PTUP v82 = mtw_mirth_type_Type_Value(v81);
						branch_Type_80 = v82;
						branch_ZPlusMirth_79 = in_ZPlusMirth_1;
					} else {
						PTUP v83;
						PTUP v84 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, value_u64(MKU64(v77)), &v83);
						PTUP v85 = mw_mirth_arrow_Arrow_type(v84);
						PTUP v86;
						PTUP v87 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(v83, value_u64(MKU64(v74)), v85, &v86);
						PTUP v88 = mtw_mirth_type_Type_Arrow(v87);
						branch_Type_80 = v88;
						branch_ZPlusMirth_79 = v86;
					}
					branch_Type_76 = branch_Type_80;
					branch_ZPlusMirth_75 = branch_ZPlusMirth_79;
				} break;
				case 0LL: { // Int
					INT v89 = mtp_mirth_type_Value_Int(in_Value_3);
					decref(MKINT(v89));
					decref(MKU64(v74));
					STR* v90;
					STRLIT(v90, "Can't unify block with int value.", 33);
					PTUP v91;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v90, &v91);
					PTUP v92 = PTRMK(0LL /* Error */,0,0);
					branch_Type_76 = v92;
					branch_ZPlusMirth_75 = v91;
				} break;
				case 1LL: { // F64
					double v93 = mtp_mirth_type_Value_F64(in_Value_3);
					decref(MKF64(v93));
					decref(MKU64(v74));
					STR* v94;
					STRLIT(v94, "Can't unify block with float value.", 35);
					PTUP v95;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v94, &v95);
					PTUP v96 = PTRMK(0LL /* Error */,0,0);
					branch_Type_76 = v96;
					branch_ZPlusMirth_75 = v95;
				} break;
				case 2LL: { // Str
					STR* v97 = mtp_mirth_type_Value_Str(in_Value_3);
					decref(MKSTR(v97));
					decref(MKU64(v74));
					STR* v98;
					STRLIT(v98, "Can't unify block with string value.", 36);
					PTUP v99;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v98, &v99);
					PTUP v100 = PTRMK(0LL /* Error */,0,0);
					branch_Type_76 = v100;
					branch_ZPlusMirth_75 = v99;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_7 = branch_Type_76;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_75;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Type_7;
}
static PTUP mw_mirth_type_Value_unifyZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Type_7;
	switch (PTREXTRA(in_Value_3)) {
		case 0LL: { // Int
			INT v8 = mtp_mirth_type_Value_Int(in_Value_3);
			decref(MKINT(v8));
			PTUP v9 = mw_mirth_type_Type_Int();
			PTUP v10;
			PTUP v11 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, v9, &v10);
			branch_Type_7 = v11;
			branch_ZPlusMirth_6 = v10;
		} break;
		case 2LL: { // Str
			STR* v12 = mtp_mirth_type_Value_Str(in_Value_3);
			decref(MKSTR(v12));
			PTUP v13 = mw_mirth_type_Type_Str();
			PTUP v14;
			PTUP v15 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, v13, &v14);
			branch_Type_7 = v15;
			branch_ZPlusMirth_6 = v14;
		} break;
		case 1LL: { // F64
			double v16 = mtp_mirth_type_Value_F64(in_Value_3);
			PTUP v17 = mw_mirth_type_Type_F64();
			PTUP v18;
			PTUP v19 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, v17, &v18);
			branch_Type_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 3LL: { // Block
			uint64_t v20 = mtp_mirth_type_Value_Block(in_Value_3);
			PTUP v21;
			PTUP v22 = mw_mirth_type_Type_unifyZ_blockZBang(in_ZPlusMirth_1, v20, in_Type_2, &v21);
			branch_Type_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Type_7;
}
static PTUP mw_mirth_type_Value_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_Value_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Type_6;
	switch (PTREXTRA(in_Value_2)) {
		case 0LL: { // Int
			INT v7 = mtp_mirth_type_Value_Int(in_Value_2);
			decref(MKINT(v7));
			PTUP v8 = PTRMK(0LL /* Error */,0,0);
			branch_Type_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Str
			STR* v9 = mtp_mirth_type_Value_Str(in_Value_2);
			decref(MKSTR(v9));
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			branch_Type_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // F64
			double v11 = mtp_mirth_type_Value_F64(in_Value_2);
			PTUP v12 = PTRMK(0LL /* Error */,0,0);
			branch_Type_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Block
			uint64_t v13 = mtp_mirth_type_Value_Block(in_Value_2);
			PTUP v14 = PTRMK(0LL /* Error */,0,0);
			PTUP v15;
			PTUP v16 = mw_mirth_type_Type_unifyZ_blockZBang(in_ZPlusMirth_1, v13, v14, &v15);
			branch_Type_6 = v16;
			branch_ZPlusMirth_5 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Type_6;
}
static bool mw_mirth_type_Value_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_Value_type(in_ZPlusMirth_1, in_Value_3, &v6);
	PTUP v8;
	bool v9 = mw_mirth_type_Type_hasZ_metaZAsk(v6, in_MetaVar_2, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static bool mw_mirth_type_Value_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_Value_type(in_ZPlusMirth_1, in_Value_3, &v6);
	PTUP v8;
	bool v9 = mw_mirth_type_Type_hasZ_varZAsk(v6, in_Var_2, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static PTUP mw_mirth_type_Value_type (PTUP in_ZPlusMirth_1, PTUP in_Value_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Type_6;
	switch (PTREXTRA(in_Value_2)) {
		case 0LL: { // Int
			INT v7 = mtp_mirth_type_Value_Int(in_Value_2);
			decref(MKINT(v7));
			PTUP v8 = mw_mirth_type_Type_Int();
			branch_Type_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // F64
			double v9 = mtp_mirth_type_Value_F64(in_Value_2);
			PTUP v10 = mw_mirth_type_Type_F64();
			branch_Type_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Str
			STR* v11 = mtp_mirth_type_Value_Str(in_Value_2);
			decref(MKSTR(v11));
			PTUP v12 = mw_mirth_type_Type_Str();
			branch_Type_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Block
			uint64_t v13 = mtp_mirth_type_Value_Block(in_Value_2);
			PTUP v14;
			PTUP v15 = mw_mirth_arrow_Block_type(in_ZPlusMirth_1, v13, &v14);
			PTUP v16 = mtw_mirth_type_Type_Arrow(v15);
			branch_Type_6 = v16;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Type_6;
}
static PTUP mw_mirth_type_Value_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Ctx_8;
	PTUP branch_Type_9;
	switch (PTREXTRA(in_Value_3)) {
		case 0LL: { // Int
			INT v10 = mtp_mirth_type_Value_Int(in_Value_3);
			PTUP v11 = mtw_mirth_type_Value_Int(v10);
			PTUP v12 = mtw_mirth_type_Type_Value(v11);
			branch_Type_9 = v12;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Str
			STR* v13 = mtp_mirth_type_Value_Str(in_Value_3);
			PTUP v14 = mtw_mirth_type_Value_Str(v13);
			PTUP v15 = mtw_mirth_type_Type_Value(v14);
			branch_Type_9 = v15;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // F64
			double v16 = mtp_mirth_type_Value_F64(in_Value_3);
			PTUP v17 = mtw_mirth_type_Value_F64(v16);
			PTUP v18 = mtw_mirth_type_Type_Value(v17);
			branch_Type_9 = v18;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Block
			uint64_t v19 = mtp_mirth_type_Value_Block(in_Value_3);
			PTUP v20;
			PTUP v21 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v19, &v20);
			PTUP v22 = mw_mirth_arrow_Arrow_type(v21);
			PTUP v23;
			PTUP v24;
			PTUP v25 = mw_mirth_type_ArrowType_rigidifyZBang(v20, in_Ctx_2, v22, &v23, &v24);
			PTUP v26 = mtw_mirth_type_Type_Arrow(v24);
			branch_Type_9 = v26;
			branch_Ctx_8 = v25;
			branch_ZPlusMirth_7 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static bool mw_mirth_type_PrimType_isZ_resourceZAsk (int64_t in_PrimType_1) {
	bool branch_Bool_3;
	switch (in_PrimType_1) {
		case 20LL: { // World
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		case 21LL: { // Debug
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		default: {
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_type_PrimType_isZ_physicalZAsk (int64_t in_PrimType_1) {
	bool branch_Bool_3;
	switch (in_PrimType_1) {
		case 0LL: { // KIND
			bool v4 = false;
			branch_Bool_3 = v4;
		} break;
		case 1LL: { // TYPE
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
		case 2LL: { // STACK
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
		case 3LL: { // RESOURCE
			bool v7 = false;
			branch_Bool_3 = v7;
		} break;
		default: {
			bool v8 = true;
			branch_Bool_3 = v8;
		} break;
	}
	return branch_Bool_3;
}
static PTUP mw_mirth_type_PrimType_tyconZ_qname (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_QName_6;
	switch (in_PrimType_2) {
		case 0LL: { // KIND
			STR* v7;
			STRLIT(v7, "KIND", 4);
			INT v8 = WRAP_I63(0LL);
			PTUP v9;
			PTUP v10 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v7, v8, &v9);
			branch_QName_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		case 1LL: { // TYPE
			STR* v11;
			STRLIT(v11, "TYPE", 4);
			INT v12 = WRAP_I63(0LL);
			PTUP v13;
			PTUP v14 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v11, v12, &v13);
			branch_QName_6 = v14;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 2LL: { // STACK
			STR* v15;
			STRLIT(v15, "STACK", 5);
			INT v16 = WRAP_I63(0LL);
			PTUP v17;
			PTUP v18 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v15, v16, &v17);
			branch_QName_6 = v18;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 3LL: { // RESOURCE
			STR* v19;
			STRLIT(v19, "RESOURCE", 8);
			INT v20 = WRAP_I63(0LL);
			PTUP v21;
			PTUP v22 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v19, v20, &v21);
			branch_QName_6 = v22;
			branch_ZPlusMirth_5 = v21;
		} break;
		case 4LL: { // Bool
			STR* v23;
			STRLIT(v23, "Bool", 4);
			INT v24 = WRAP_I63(0LL);
			PTUP v25;
			PTUP v26 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v23, v24, &v25);
			branch_QName_6 = v26;
			branch_ZPlusMirth_5 = v25;
		} break;
		case 5LL: { // Int
			STR* v27;
			STRLIT(v27, "Int", 3);
			INT v28 = WRAP_I63(0LL);
			PTUP v29;
			PTUP v30 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v27, v28, &v29);
			branch_QName_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 6LL: { // Nat
			STR* v31;
			STRLIT(v31, "Nat", 3);
			INT v32 = WRAP_I63(0LL);
			PTUP v33;
			PTUP v34 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v31, v32, &v33);
			branch_QName_6 = v34;
			branch_ZPlusMirth_5 = v33;
		} break;
		case 7LL: { // U8
			STR* v35;
			STRLIT(v35, "U8", 2);
			INT v36 = WRAP_I63(0LL);
			PTUP v37;
			PTUP v38 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v35, v36, &v37);
			branch_QName_6 = v38;
			branch_ZPlusMirth_5 = v37;
		} break;
		case 8LL: { // U16
			STR* v39;
			STRLIT(v39, "U16", 3);
			INT v40 = WRAP_I63(0LL);
			PTUP v41;
			PTUP v42 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v39, v40, &v41);
			branch_QName_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 9LL: { // U32
			STR* v43;
			STRLIT(v43, "U32", 3);
			INT v44 = WRAP_I63(0LL);
			PTUP v45;
			PTUP v46 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v43, v44, &v45);
			branch_QName_6 = v46;
			branch_ZPlusMirth_5 = v45;
		} break;
		case 10LL: { // U64
			STR* v47;
			STRLIT(v47, "U64", 3);
			INT v48 = WRAP_I63(0LL);
			PTUP v49;
			PTUP v50 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v47, v48, &v49);
			branch_QName_6 = v50;
			branch_ZPlusMirth_5 = v49;
		} break;
		case 11LL: { // I8
			STR* v51;
			STRLIT(v51, "I8", 2);
			INT v52 = WRAP_I63(0LL);
			PTUP v53;
			PTUP v54 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v51, v52, &v53);
			branch_QName_6 = v54;
			branch_ZPlusMirth_5 = v53;
		} break;
		case 12LL: { // I16
			STR* v55;
			STRLIT(v55, "I16", 3);
			INT v56 = WRAP_I63(0LL);
			PTUP v57;
			PTUP v58 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v55, v56, &v57);
			branch_QName_6 = v58;
			branch_ZPlusMirth_5 = v57;
		} break;
		case 13LL: { // I32
			STR* v59;
			STRLIT(v59, "I32", 3);
			INT v60 = WRAP_I63(0LL);
			PTUP v61;
			PTUP v62 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v59, v60, &v61);
			branch_QName_6 = v62;
			branch_ZPlusMirth_5 = v61;
		} break;
		case 14LL: { // I64
			STR* v63;
			STRLIT(v63, "I64", 3);
			INT v64 = WRAP_I63(0LL);
			PTUP v65;
			PTUP v66 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v63, v64, &v65);
			branch_QName_6 = v66;
			branch_ZPlusMirth_5 = v65;
		} break;
		case 15LL: { // F32
			STR* v67;
			STRLIT(v67, "F32", 3);
			INT v68 = WRAP_I63(0LL);
			PTUP v69;
			PTUP v70 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v67, v68, &v69);
			branch_QName_6 = v70;
			branch_ZPlusMirth_5 = v69;
		} break;
		case 16LL: { // F64
			STR* v71;
			STRLIT(v71, "F64", 3);
			INT v72 = WRAP_I63(0LL);
			PTUP v73;
			PTUP v74 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v71, v72, &v73);
			branch_QName_6 = v74;
			branch_ZPlusMirth_5 = v73;
		} break;
		case 18LL: { // Str
			STR* v75;
			STRLIT(v75, "Str", 3);
			INT v76 = WRAP_I63(0LL);
			PTUP v77;
			PTUP v78 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v75, v76, &v77);
			branch_QName_6 = v78;
			branch_ZPlusMirth_5 = v77;
		} break;
		case 17LL: { // Ptr
			STR* v79;
			STRLIT(v79, "Ptr", 3);
			INT v80 = WRAP_I63(0LL);
			PTUP v81;
			PTUP v82 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v79, v80, &v81);
			branch_QName_6 = v82;
			branch_ZPlusMirth_5 = v81;
		} break;
		case 19LL: { // Array
			STR* v83;
			STRLIT(v83, "Array", 5);
			INT v84 = WRAP_I63(1LL);
			PTUP v85;
			PTUP v86 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v83, v84, &v85);
			branch_QName_6 = v86;
			branch_ZPlusMirth_5 = v85;
		} break;
		case 20LL: { // World
			STR* v87;
			STRLIT(v87, "+World", 6);
			INT v88 = WRAP_I63(0LL);
			PTUP v89;
			PTUP v90 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v87, v88, &v89);
			branch_QName_6 = v90;
			branch_ZPlusMirth_5 = v89;
		} break;
		case 21LL: { // Debug
			STR* v91;
			STRLIT(v91, "+Debug", 6);
			INT v92 = WRAP_I63(0LL);
			PTUP v93;
			PTUP v94 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v91, v92, &v93);
			branch_QName_6 = v94;
			branch_ZPlusMirth_5 = v93;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static INT mw_mirth_type_PrimType_ZToInt (int64_t in_PrimType_1) {
	int64_t v3 = in_PrimType_1;
	INT v4 = i64_to_int(v3);
	return v4;
}
static bool mw_mirth_type_PrimType_ZEqual (int64_t in_PrimType_1, int64_t in_PrimType_2) {
	INT v4 = mw_mirth_type_PrimType_ZToInt(in_PrimType_1);
	INT v5 = mw_mirth_type_PrimType_ZToInt(in_PrimType_2);
	bool v6 = int_eq(v4, v5);
	return v6;
}
static PTUP mw_mirth_type_PrimType_unifyZBang (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, int64_t in_PrimType_3, PTUP *out_ZPlusMirth_4) {
	incref(MKI64(in_PrimType_2));
	incref(MKI64(in_PrimType_3));
	bool v6 = mw_mirth_type_PrimType_ZEqual(VI64(MKI64(in_PrimType_2)), VI64(MKI64(in_PrimType_3)));
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Type_8;
	if (v6) {
		PTUP v9 = mtw_mirth_type_Type_Prim(VI64(MKI64(in_PrimType_2)));
		branch_Type_8 = v9;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10 = mtw_mirth_type_Type_Prim(VI64(MKI64(in_PrimType_2)));
		PTUP v11 = mtw_mirth_type_Type_Prim(VI64(MKI64(in_PrimType_3)));
		PTUP v12;
		PTUP v13 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v10, v11, &v12);
		branch_Type_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static void mw_mirth_type_PrimType_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, int64_t in_PrimType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, in_PrimType_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_QName_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static PTUP mw_mirth_type_PrimType_ctypeZAsk (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (in_PrimType_2) {
		case 17LL: { // Ptr
			STR* v7;
			STRLIT(v7, "void*", 5);
			PTUP v8 = mtw_mirth_type_CType_Ptr(v7);
			PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKTUP(v8));
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // World
			STR* v10;
			STRLIT(v10, "void", 4);
			PTUP v11 = mtw_mirth_type_CType_Void(v10);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11));
			branch_Maybe_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Bool
			STR* v13;
			STRLIT(v13, "_Bool", 5);
			PTUP v14 = mtw_mirth_type_CType_UInt(v13);
			PTUP v15 = mtw_std_maybe_Maybe_1_Some(MKTUP(v14));
			branch_Maybe_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // U8
			STR* v16;
			STRLIT(v16, "uint8_t", 7);
			PTUP v17 = mtw_mirth_type_CType_UInt(v16);
			PTUP v18 = mtw_std_maybe_Maybe_1_Some(MKTUP(v17));
			branch_Maybe_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // U16
			STR* v19;
			STRLIT(v19, "uint16_t", 8);
			PTUP v20 = mtw_mirth_type_CType_UInt(v19);
			PTUP v21 = mtw_std_maybe_Maybe_1_Some(MKTUP(v20));
			branch_Maybe_6 = v21;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // U32
			STR* v22;
			STRLIT(v22, "uint32_t", 8);
			PTUP v23 = mtw_mirth_type_CType_UInt(v22);
			PTUP v24 = mtw_std_maybe_Maybe_1_Some(MKTUP(v23));
			branch_Maybe_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // U64
			STR* v25;
			STRLIT(v25, "uint64_t", 8);
			PTUP v26 = mtw_mirth_type_CType_UInt(v25);
			PTUP v27 = mtw_std_maybe_Maybe_1_Some(MKTUP(v26));
			branch_Maybe_6 = v27;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // I8
			STR* v28;
			STRLIT(v28, "int8_t", 6);
			PTUP v29 = mtw_mirth_type_CType_Int(v28);
			PTUP v30 = mtw_std_maybe_Maybe_1_Some(MKTUP(v29));
			branch_Maybe_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // I16
			STR* v31;
			STRLIT(v31, "int16_t", 7);
			PTUP v32 = mtw_mirth_type_CType_Int(v31);
			PTUP v33 = mtw_std_maybe_Maybe_1_Some(MKTUP(v32));
			branch_Maybe_6 = v33;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // I32
			STR* v34;
			STRLIT(v34, "int32_t", 7);
			PTUP v35 = mtw_mirth_type_CType_Int(v34);
			PTUP v36 = mtw_std_maybe_Maybe_1_Some(MKTUP(v35));
			branch_Maybe_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // I64
			STR* v37;
			STRLIT(v37, "int64_t", 7);
			PTUP v38 = mtw_mirth_type_CType_Int(v37);
			PTUP v39 = mtw_std_maybe_Maybe_1_Some(MKTUP(v38));
			branch_Maybe_6 = v39;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // F32
			STR* v40;
			STRLIT(v40, "float", 5);
			PTUP v41 = mtw_mirth_type_CType_F32(v40);
			PTUP v42 = mtw_std_maybe_Maybe_1_Some(MKTUP(v41));
			branch_Maybe_6 = v42;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // F64
			STR* v43;
			STRLIT(v43, "double", 6);
			PTUP v44 = mtw_mirth_type_CType_F64(v43);
			PTUP v45 = mtw_std_maybe_Maybe_1_Some(MKTUP(v44));
			branch_Maybe_6 = v45;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			PTUP v46 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v46;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static bool mw_mirth_type_PrimType_canZ_ownZ_stateZAsk (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (in_PrimType_2) {
		case 20LL: { // World
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // Debug
			bool v8 = true;
			branch_Bool_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			bool v9 = false;
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, in_PrimType_2, &v5);
	uint64_t v7 = value_u64(((TUP*)PTRPTR(v6))->cells[1]);
	decref(MKTUP(v6));
	PTUP v8;
	STR* v9 = mw_mirth_name_Name_str(v5, v7, &v8);
	PTUP v10;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZ_aliasZBang(v8, in_PrimType_2, v9, in_List_3, &v10);
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZ_aliasZBang (PTUP in_ZPlusMirth_1, int64_t in_PrimType_2, STR* in_Str_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	PTUP r9 = in_ZPlusMirth_1;
	PTUP r10 = v7;
	PTUP v11 = in_List_4;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP r15 = r10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP branch_ZPlusMirth_18;
		PTUP branch_ZPlusLister_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Cons
				PTUP v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				PTUP v24;
				uint64_t v25 = mw_mirth_name_Name_Name(r14, value_str(v23), &v24);
				PTUP v26;
				bool v27 = mw_mirth_name_Name_couldZ_beZ_resourceZ_var(v24, v25, &v26);
				uint64_t branch_Name_28;
				PTUP branch_ZPlusMirth_29;
				PTUP branch_Type_30;
				if (v27) {
					PTUP v31 = mw_mirth_type_Type_RESOURCE();
					branch_Type_30 = v31;
					branch_ZPlusMirth_29 = v26;
					branch_Name_28 = v25;
				} else {
					PTUP v32 = mw_mirth_type_Type_TYPE();
					branch_Type_30 = v32;
					branch_ZPlusMirth_29 = v26;
					branch_Name_28 = v25;
				}
				PTUP v33;
				uint64_t v34 = mw_mirth_var_Var_NewZBang(branch_ZPlusMirth_29, branch_Type_30, branch_Name_28, &v33);
				PTUP v35;
				mw_std_list_ZPlusLister_1_pushZBang(MKU64(v34), r15, &v35);
				bool v36 = true;
				branch_Bool_21 = v36;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = v35;
				branch_ZPlusMirth_18 = v33;
			} break;
			case 0LL: { // Nil
				PTUP v37 = PTRMK(0LL /* Nil */,0,0);
				bool v38 = false;
				branch_Bool_21 = v38;
				branch_List_20 = v37;
				branch_ZPlusLister_19 = r15;
				branch_ZPlusMirth_18 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		r10 = branch_ZPlusLister_19;
		r9 = branch_ZPlusMirth_18;
	}
	decref(MKTUP(v11));
	PTUP v39 = mw_std_list_ZPlusLister_1_doneZBang(r10);
	PTUP v40;
	uint64_t v41 = mw_mirth_name_Name_Name(r9, in_Str_3, &v40);
	incref(MKI64(in_PrimType_2));
	PTUP v42;
	PTUP v43 = mw_mirth_type_PrimType_tyconZ_qname(v40, VI64(MKI64(in_PrimType_2)), &v42);
	VAL v44 = tup_replace(MKTUP(v43), 1, MKU64(value_u64(MKU64(v41))));
	PTUP v45 = mtw_mirth_type_Type_Prim(VI64(MKI64(in_PrimType_2)));
	incref(MKTUP(v39));
	PTUP v46 = mw_std_list_List_1_for_1_sp66(v45, v39);
	PTUP v47;
	mw_mirth_mirth_ZPlusMirth_defZ_typeZBang(v42, VTUP(v44), v46, v39, &v47);
	*out_ZPlusMirth_5 = v47;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_typesZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	int64_t v3 = 4LL /* Bool */;
	PTUP v4 = PTRMK(0LL /* Nil */,0,0);
	PTUP v5;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(in_ZPlusMirth_1, v3, v4, &v5);
	int64_t v6 = 5LL /* Int */;
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v5, v6, v7, &v8);
	int64_t v9 = 6LL /* Nat */;
	PTUP v10 = PTRMK(0LL /* Nil */,0,0);
	PTUP v11;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v8, v9, v10, &v11);
	int64_t v12 = 7LL /* U8 */;
	PTUP v13 = PTRMK(0LL /* Nil */,0,0);
	PTUP v14;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v11, v12, v13, &v14);
	int64_t v15 = 8LL /* U16 */;
	PTUP v16 = PTRMK(0LL /* Nil */,0,0);
	PTUP v17;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v14, v15, v16, &v17);
	int64_t v18 = 9LL /* U32 */;
	PTUP v19 = PTRMK(0LL /* Nil */,0,0);
	PTUP v20;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v17, v18, v19, &v20);
	int64_t v21 = 10LL /* U64 */;
	PTUP v22 = PTRMK(0LL /* Nil */,0,0);
	PTUP v23;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v20, v21, v22, &v23);
	int64_t v24 = 11LL /* I8 */;
	PTUP v25 = PTRMK(0LL /* Nil */,0,0);
	PTUP v26;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v23, v24, v25, &v26);
	int64_t v27 = 12LL /* I16 */;
	PTUP v28 = PTRMK(0LL /* Nil */,0,0);
	PTUP v29;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v26, v27, v28, &v29);
	int64_t v30 = 13LL /* I32 */;
	PTUP v31 = PTRMK(0LL /* Nil */,0,0);
	PTUP v32;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v29, v30, v31, &v32);
	int64_t v33 = 14LL /* I64 */;
	PTUP v34 = PTRMK(0LL /* Nil */,0,0);
	PTUP v35;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v32, v33, v34, &v35);
	int64_t v36 = 15LL /* F32 */;
	PTUP v37 = PTRMK(0LL /* Nil */,0,0);
	PTUP v38;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v35, v36, v37, &v38);
	int64_t v39 = 16LL /* F64 */;
	PTUP v40 = PTRMK(0LL /* Nil */,0,0);
	PTUP v41;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v38, v39, v40, &v41);
	int64_t v42 = 17LL /* Ptr */;
	PTUP v43 = PTRMK(0LL /* Nil */,0,0);
	PTUP v44;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v41, v42, v43, &v44);
	int64_t v45 = 18LL /* Str */;
	PTUP v46 = PTRMK(0LL /* Nil */,0,0);
	PTUP v47;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v44, v45, v46, &v47);
	int64_t v48 = 19LL /* Array */;
	STR* v49;
	STRLIT(v49, "t", 1);
	PTUP v50 = PTRMK(0LL /* Nil */,0,0);
	PTUP v51 = mw_std_list_List_1_cons(MKSTR(v49), v50);
	PTUP v52;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v47, v48, v51, &v52);
	int64_t v53 = 20LL /* World */;
	PTUP v54 = PTRMK(0LL /* Nil */,0,0);
	PTUP v55;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v52, v53, v54, &v55);
	int64_t v56 = 21LL /* Debug */;
	PTUP v57 = PTRMK(0LL /* Nil */,0,0);
	PTUP v58;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v55, v56, v57, &v58);
	PTUP v59;
	mw_mirth_mirth_ZPlusMirth_initZ_dataZBang(v58, &v59);
	*out_ZPlusMirth_2 = v59;
}
static PTUP mw_mirth_type_TZPlus (PTUP in_StackType_1, PTUP in_Resource_2) {
	PTUP v4 = mtw_mirth_type_StackType_With(in_StackType_1, in_Resource_2);
	return v4;
}
static PTUP mw_mirth_type_TZMul (PTUP in_StackType_1, PTUP in_Type_2) {
	PTUP v4 = mtw_mirth_type_StackType_Cons(in_StackType_1, in_Type_2);
	return v4;
}
static PTUP mw_mirth_type_TZMulZPlus (PTUP in_StackType_1, PTUP in_Either_2) {
	PTUP branch_StackType_4;
	switch (PTREXTRA(in_Either_2)) {
		case 0LL: { // Left
			VAL v5 = mtp_std_either_Either_2_Left(in_Either_2);
			PTUP v6 = mw_mirth_type_TZMul(in_StackType_1, VTUP(v5));
			branch_StackType_4 = v6;
		} break;
		case 1LL: { // Right
			VAL v7 = mtp_std_either_Either_2_Right(in_Either_2);
			PTUP v8 = mw_mirth_type_TZPlus(in_StackType_1, VTUP(v7));
			branch_StackType_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_StackType_4;
}
static PTUP mw_mirth_type_TZ_ZTo (PTUP in_StackType_1, PTUP in_StackType_2) {
	PTUP v4 = mtw_mirth_type_ArrowType_ArrowType(in_StackType_1, in_StackType_2);
	return v4;
}
static PTUP mw_mirth_type_T0 (void) {
	PTUP v2 = PTRMK(2LL /* Unit */,0,0);
	return v2;
}
static PTUP mw_mirth_type_T1 (PTUP in_Type_1) {
	PTUP v3 = mw_mirth_type_T0();
	PTUP v4 = mw_mirth_type_TZMul(v3, in_Type_1);
	return v4;
}
static PTUP mw_mirth_type_T2 (PTUP in_Type_1, PTUP in_Type_2) {
	PTUP v4 = mw_mirth_type_T1(in_Type_1);
	PTUP v5 = mw_mirth_type_TZMul(v4, in_Type_2);
	return v5;
}
static PTUP mw_mirth_type_T3 (PTUP in_Type_1, PTUP in_Type_2, PTUP in_Type_3) {
	PTUP v5 = mw_mirth_type_T2(in_Type_1, in_Type_2);
	PTUP v6 = mw_mirth_type_TZMul(v5, in_Type_3);
	return v6;
}
static PTUP mw_mirth_type_T4 (PTUP in_Type_1, PTUP in_Type_2, PTUP in_Type_3, PTUP in_Type_4) {
	PTUP v6 = mw_mirth_type_T3(in_Type_1, in_Type_2, in_Type_3);
	PTUP v7 = mw_mirth_type_TZMul(v6, in_Type_4);
	return v7;
}
static PTUP mw_mirth_type_T5 (PTUP in_Type_1, PTUP in_Type_2, PTUP in_Type_3, PTUP in_Type_4, PTUP in_Type_5) {
	PTUP v7 = mw_mirth_type_T4(in_Type_1, in_Type_2, in_Type_3, in_Type_4);
	PTUP v8 = mw_mirth_type_TZMul(v7, in_Type_5);
	return v8;
}
static PTUP mw_mirth_type_Kind_TYPE (void) {
	PTUP v2 = mw_mirth_type_Type_TYPE();
	return v2;
}
static PTUP mw_mirth_type_Kind_STACK (void) {
	PTUP v2 = mw_mirth_type_Type_STACK();
	return v2;
}
static PTUP mw_mirth_type_Kind_RESOURCE (void) {
	PTUP v2 = mw_mirth_type_Type_RESOURCE();
	return v2;
}
static PTUP mw_mirth_type_Kind_ZToType (PTUP in_Kind_1) {
	return in_Kind_1;
}
static PTUP mw_mirth_type_Type_ZToKind (PTUP in_Type_1) {
	return in_Type_1;
}
static uint64_t mw_mirth_type_MetaVar_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_type_MetaVar_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_type_MetaVar_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_type_MetaVar_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Kind_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_type_MetaVar_AllocZBang(in_ZPlusMirth_1, &v5);
	void* v7 = field_mut(&mfld_mirth_type_MetaVar_kind, v6);
	mut_set(MKTUP(in_Kind_2), v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static PTUP mw_mirth_type_MetaVar_kind (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_type_MetaVar_kind, in_MetaVar_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static PTUP mw_mirth_type_MetaVar_typeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_type_MetaVar_typeZAsk, in_MetaVar_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Maybe_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10 = PTRMK(0LL /* None */,0,0);
		incref(MKTUP(v10));
		mut_set(MKTUP(v10), v5);
		branch_Maybe_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static void mw_mirth_type_MetaVar_typeZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_type_MetaVar_typeZAsk, in_MetaVar_3);
	mut_set(MKTUP(in_Maybe_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_type_MetaVar_NewZBang (PTUP in_ZPlusMirth_1, PTUP in_Kind_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_type_MetaVar_MakeZBang(in_ZPlusMirth_1, in_Kind_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_type_MetaVar_unitZ_stackZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			bool v11 = mw_mirth_type_Type_unitZ_stackZAsk(v5, VTUP(v9), &v10);
			branch_Bool_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			bool v12 = false;
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static bool mw_mirth_type_MetaVar_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v6);
	PTUP branch_ZPlusMirth_8;
	bool branch_Bool_9;
	switch (PTREXTRA(v7)) {
		case 0LL: { // None
			bool v10 = (in_MetaVar_3 == in_MetaVar_2);
			branch_Bool_9 = v10;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKU64(in_MetaVar_3));
			PTUP v12;
			bool v13 = mw_mirth_type_Type_hasZ_metaZAsk(v6, in_MetaVar_2, VTUP(v11), &v12);
			branch_Bool_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Bool_9;
}
static bool mw_mirth_type_MetaVar_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v6);
	PTUP branch_ZPlusMirth_8;
	bool branch_Bool_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			PTUP v11;
			bool v12 = mw_mirth_type_Type_hasZ_varZAsk(v6, in_Var_2, VTUP(v10), &v11);
			branch_Bool_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_9 = v13;
			branch_ZPlusMirth_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Bool_9;
}
static void mw_mirth_type_MetaVar_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v6);
	PTUP branch_ZPlusMirth_8;
	STR* branch_ZPlusStr_9;
	switch (PTREXTRA(v7)) {
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "?", 1);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(v10, in_ZPlusStr_2, &v11);
			INT v12 = u64_to_int(in_MetaVar_3);
			INT v13 = v12;
			INT v14 = v13;
			STR* v15 = int_to_str(v14);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, v11, &v16);
			branch_ZPlusStr_9 = v16;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 1LL: { // Some
			VAL v17 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKU64(in_MetaVar_3));
			PTUP v18;
			STR* v19;
			mw_mirth_type_Type_typeZThen(v6, in_ZPlusStr_2, VTUP(v17), &v18, &v19);
			branch_ZPlusStr_9 = v19;
			branch_ZPlusMirth_8 = v18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static PTUP mw_mirth_type_MetaVar_expand (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Type_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // None
			PTUP v9 = mtw_mirth_type_Type_Meta(in_MetaVar_2);
			branch_Type_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v11;
			PTUP v12 = mw_mirth_type_Type_expand(v5, VTUP(v10), &v11);
			incref(MKTUP(v12));
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12));
			PTUP v14;
			mw_mirth_type_MetaVar_typeZAskZBang(v11, v13, value_u64(MKU64(in_MetaVar_2)), &v14);
			branch_Type_8 = VTUP(MKTUP(v12));
			branch_ZPlusMirth_7 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static PTUP mw_mirth_type_MetaVar_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Type_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKU64(in_MetaVar_3));
			PTUP v11;
			PTUP v12 = mw_mirth_type_Type_unifyZBang(v6, in_Type_2, VTUP(v10), &v11);
			branch_Type_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			incref(MKTUP(in_Type_2));
			incref(MKU64(in_MetaVar_3));
			PTUP v13;
			bool v14 = mw_mirth_type_Type_metaZEqual(v6, value_u64(MKU64(in_MetaVar_3)), VTUP(MKTUP(in_Type_2)), &v13);
			PTUP branch_Type_15;
			PTUP branch_ZPlusMirth_16;
			if (v14) {
				branch_ZPlusMirth_16 = v13;
				branch_Type_15 = VTUP(MKTUP(in_Type_2));
			} else {
				incref(MKU64(value_u64(MKU64(in_MetaVar_3))));
				incref(MKTUP(VTUP(MKTUP(in_Type_2))));
				PTUP v17;
				bool v18 = mw_mirth_type_Type_hasZ_metaZAsk(v13, value_u64(MKU64(value_u64(MKU64(in_MetaVar_3)))), VTUP(MKTUP(VTUP(MKTUP(in_Type_2)))), &v17);
				PTUP branch_ZPlusMirth_19;
				PTUP branch_Type_20;
				if (v18) {
					PTUP v21 = mtw_mirth_type_Type_Meta(value_u64(MKU64(value_u64(MKU64(in_MetaVar_3)))));
					PTUP v22;
					PTUP v23 = mw_mirth_type_Type_unifyZ_failedZBang(v17, VTUP(MKTUP(VTUP(MKTUP(in_Type_2)))), v21, &v22);
					branch_Type_20 = v23;
					branch_ZPlusMirth_19 = v22;
				} else {
					incref(MKTUP(VTUP(MKTUP(VTUP(MKTUP(in_Type_2))))));
					PTUP v24 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(MKTUP(VTUP(MKTUP(in_Type_2))))));
					PTUP v25;
					mw_mirth_type_MetaVar_typeZAskZBang(v17, v24, value_u64(MKU64(value_u64(MKU64(value_u64(MKU64(in_MetaVar_3)))))), &v25);
					branch_Type_20 = VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(in_Type_2))))));
					branch_ZPlusMirth_19 = v25;
				}
				branch_ZPlusMirth_16 = branch_ZPlusMirth_19;
				branch_Type_15 = branch_Type_20;
			}
			branch_Type_9 = branch_Type_15;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Type_9;
}
static PTUP mw_mirth_type_MetaVar_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Type_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			decref(MKU64(in_MetaVar_2));
			PTUP v10;
			PTUP v11 = mw_mirth_type_Type_unifyZ_errorZBang(v5, VTUP(v9), &v10);
			branch_Type_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			PTUP v12 = PTRMK(0LL /* Error */,0,0);
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12));
			PTUP v14;
			mw_mirth_type_MetaVar_typeZAskZBang(v5, v13, in_MetaVar_2, &v14);
			PTUP v15 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static PTUP mw_mirth_type_MetaVar_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v7);
	PTUP branch_Subst_9;
	PTUP branch_ZPlusMirth_10;
	PTUP branch_Type_11;
	switch (PTREXTRA(v8)) {
		case 0LL: { // None
			PTUP v12;
			PTUP v13 = mw_mirth_type_MetaVar_kind(v7, in_MetaVar_3, &v12);
			PTUP v14;
			uint64_t v15 = mw_mirth_type_MetaVar_NewZBang(v12, v13, &v14);
			PTUP v16 = mtw_mirth_type_Type_Meta(v15);
			branch_Type_11 = v16;
			branch_ZPlusMirth_10 = v14;
			branch_Subst_9 = in_Subst_2;
		} break;
		case 1LL: { // Some
			VAL v17 = mtp_std_maybe_Maybe_1_Some(v8);
			PTUP v18;
			PTUP v19 = mw_mirth_type_Type_expand(v7, VTUP(v17), &v18);
			incref(MKTUP(v19));
			PTUP v20 = mtw_std_maybe_Maybe_1_Some(MKTUP(v19));
			PTUP v21;
			mw_mirth_type_MetaVar_typeZAskZBang(v18, v20, value_u64(MKU64(in_MetaVar_3)), &v21);
			PTUP v22;
			PTUP v23;
			PTUP v24 = mw_mirth_type_Type_freshen(v21, in_Subst_2, VTUP(MKTUP(v19)), &v22, &v23);
			branch_Type_11 = v23;
			branch_ZPlusMirth_10 = v22;
			branch_Subst_9 = v24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Subst_9;
}
static PTUP mw_mirth_type_MetaVar_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, uint64_t in_MetaVar_3, PTUP *out_ZPlusMirth_4, PTUP *out_Type_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v7);
	PTUP branch_Ctx_9;
	PTUP branch_Type_10;
	PTUP branch_ZPlusMirth_11;
	switch (PTREXTRA(v8)) {
		case 0LL: { // None
			PTUP v12;
			PTUP v13 = mw_mirth_type_MetaVar_kind(v7, in_MetaVar_3, &v12);
			PTUP v14 = mw_mirth_type_Kind_ZToType(v13);
			PTUP v15;
			uint64_t v16;
			PTUP v17 = mw_mirth_var_Ctx_freshZ_varZBang(v12, v14, in_Ctx_2, &v15, &v16);
			PTUP v18 = mtw_mirth_type_Type_Var(v16);
			incref(MKTUP(v18));
			PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18));
			PTUP v20;
			mw_mirth_type_MetaVar_typeZAskZBang(v15, v19, in_MetaVar_3, &v20);
			branch_ZPlusMirth_11 = v20;
			branch_Type_10 = v18;
			branch_Ctx_9 = v17;
		} break;
		case 1LL: { // Some
			VAL v21 = mtp_std_maybe_Maybe_1_Some(v8);
			decref(MKU64(in_MetaVar_3));
			PTUP v22;
			PTUP v23;
			PTUP v24 = mw_mirth_type_Type_rigidifyZBang(v7, in_Ctx_2, VTUP(v21), &v22, &v23);
			branch_ZPlusMirth_11 = v22;
			branch_Type_10 = v23;
			branch_Ctx_9 = v24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_Ctx_9;
}
static PTUP mw_mirth_type_typeZ_holeZ_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4) {
	STR* v6;
	STRLIT(v6, "", 0);
	PTUP v7 = mtw_mirth_type_Type_Hole(in_Name_3);
	PTUP v8;
	STR* v9;
	mw_mirth_type_Type_typeZThen(in_ZPlusMirth_1, v6, v7, &v8, &v9);
	STR* v10;
	STRLIT(v10, " ~ ", 3);
	STR* v11;
	mw_std_str_ZPlusStr_pushZ_strZBang(v10, v9, &v11);
	incref(MKTUP(in_Type_2));
	PTUP v12;
	STR* v13;
	mw_mirth_type_Type_typeZThen(v8, v11, in_Type_2, &v12, &v13);
	STR* v14;
	STRLIT(v14, "\n", 1);
	STR* v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
	PTUP v16;
	mw_mirth_mirth_ZPlusMirth_infoZBang(v12, v15, &v16);
	*out_ZPlusMirth_4 = v16;
	return in_Type_2;
}
static PTUP mw_mirth_type_Resource_NewInCtx (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_Resource_6) {
	PTUP v7 = mw_mirth_type_Type_RESOURCE();
	PTUP v8;
	uint64_t v9;
	PTUP v10 = mw_mirth_var_Var_NewInCtx(in_ZPlusMirth_1, in_Ctx_2, v7, in_Str_3, &v8, &v9);
	PTUP v11 = mtw_mirth_type_Type_Var(v9);
	*out_Resource_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static PTUP mw_mirth_type_Resource_FreshZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4 = mw_mirth_type_Kind_RESOURCE();
	PTUP v5;
	uint64_t v6 = mw_mirth_type_MetaVar_NewZBang(in_ZPlusMirth_1, v4, &v5);
	PTUP v7 = mtw_mirth_type_Type_Meta(v6);
	*out_ZPlusMirth_2 = v5;
	return v7;
}
static PTUP mw_mirth_type_Resource_World (void) {
	PTUP v2 = mw_mirth_type_Type_World();
	return v2;
}
static PTUP mw_mirth_type_Resource_Debug (void) {
	PTUP v2 = mw_mirth_type_Type_Debug();
	return v2;
}
static PTUP mw_mirth_type_Resource_ZToType (PTUP in_Resource_1) {
	return in_Resource_1;
}
static PTUP mw_mirth_type_Type_ZToResource (PTUP in_Type_1) {
	return in_Type_1;
}
static bool mw_mirth_type_Resource_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	PTUP v7;
	bool v8 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static bool mw_mirth_type_Resource_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	PTUP v7;
	bool v8 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static PTUP mw_mirth_type_Resource_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	PTUP v7 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	PTUP v8;
	PTUP v9 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, VTUP(MKTUP(v6)), v7, &v8);
	PTUP v10 = mw_mirth_type_Type_ZToResource(v9);
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static PTUP mw_mirth_type_Resource_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	PTUP v6;
	PTUP v7 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, v5, &v6);
	PTUP v8 = mw_mirth_type_Type_ZToResource(v7);
	*out_ZPlusMirth_3 = v6;
	return v8;
}
static void mw_mirth_type_Resource_typeZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	PTUP v7;
	STR* v8;
	mw_mirth_type_Type_typeZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v7, &v8);
	*out_ZPlusStr_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static PTUP mw_mirth_type_Resource_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_Resource_6) {
	PTUP v7 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_type_Type_freshen(in_ZPlusMirth_1, in_Subst_2, v7, &v8, &v9);
	PTUP v11 = mw_mirth_type_Type_ZToResource(v9);
	*out_Resource_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static PTUP mw_mirth_type_Resource_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_Resource_6) {
	PTUP v7 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v7, &v8, &v9);
	PTUP v11 = mw_mirth_type_Type_ZToResource(v9);
	*out_Resource_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static PTUP mw_mirth_type_Resource_tyconZAsk (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	PTUP v6;
	PTUP v7 = mw_mirth_type_Type_tyconZAsk(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static bool mw_mirth_type_Resource_canZ_ownZ_stateZAsk (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Resource_tyconZAsk(in_ZPlusMirth_1, in_Resource_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			bool v11 = mw_mirth_tycon_Tycon_canZ_ownZ_stateZAsk(v5, VTUP(v9), &v10);
			branch_Bool_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			bool v12 = false;
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static PTUP mw_mirth_type_Resource_exceptZ_field (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, PTUP in_Resource_4, PTUP *out_ZPlusMirth_5) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_Type_exceptZ_field(in_ZPlusMirth_1, in_Label_2, in_Tag_3, in_Resource_4, &v7);
	*out_ZPlusMirth_5 = v7;
	return v8;
}
static PTUP mw_mirth_type_Resource_ctype (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_ctype(in_ZPlusMirth_1, in_Resource_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static PTUP mw_mirth_type_Resource_ctypeZAsk (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_Type_ctypeZAsk(in_ZPlusMirth_1, in_Resource_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static PTUP mw_mirth_type_StackType_NewInCtx (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_StackType_6) {
	PTUP v7 = mw_mirth_type_Type_STACK();
	PTUP v8;
	uint64_t v9;
	PTUP v10 = mw_mirth_var_Var_NewInCtx(in_ZPlusMirth_1, in_Ctx_2, v7, in_Str_3, &v8, &v9);
	PTUP v11 = mtw_mirth_type_StackType_Var(v9);
	*out_StackType_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static PTUP mw_mirth_type_StackType_FreshZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4 = mw_mirth_type_Kind_STACK();
	PTUP v5;
	uint64_t v6 = mw_mirth_type_MetaVar_NewZBang(in_ZPlusMirth_1, v4, &v5);
	PTUP v7 = mtw_mirth_type_StackType_Meta(v6);
	*out_ZPlusMirth_2 = v5;
	return v7;
}
static PTUP mw_mirth_type_Type_ZToStackType (PTUP in_Type_1) {
	PTUP branch_StackType_3;
	switch (PTREXTRA(in_Type_1)) {
		case 0LL: { // Error
			PTUP v4 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_3 = v4;
		} break;
		case 1LL: { // Ignore
			PTUP v5 = PTRMK(1LL /* Ignore */,0,0);
			branch_StackType_3 = v5;
		} break;
		case 5LL: { // Var
			uint64_t v6 = mtp_mirth_type_Type_Var(in_Type_1);
			PTUP v7 = mtw_mirth_type_StackType_Var(v6);
			branch_StackType_3 = v7;
		} break;
		case 3LL: { // Meta
			uint64_t v8 = mtp_mirth_type_Type_Meta(in_Type_1);
			PTUP v9 = mtw_mirth_type_StackType_Meta(v8);
			branch_StackType_3 = v9;
		} break;
		case 9LL: { // Stack
			PTUP v10 = mtp_mirth_type_Type_Stack(in_Type_1);
			branch_StackType_3 = v10;
		} break;
		default: {
			STR* v11;
			STRLIT(v11, "kind error! expected stack type, got regular type.", 50);
			do_panic(v11);
		} break;
	}
	return branch_StackType_3;
}
static PTUP mw_mirth_type_StackType_ZToType (PTUP in_StackType_1) {
	PTUP branch_Type_3;
	switch (PTREXTRA(in_StackType_1)) {
		case 0LL: { // Error
			PTUP v4 = PTRMK(0LL /* Error */,0,0);
			branch_Type_3 = v4;
		} break;
		case 1LL: { // Ignore
			PTUP v5 = PTRMK(1LL /* Ignore */,0,0);
			branch_Type_3 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v6 = mtp_mirth_type_StackType_Var(in_StackType_1);
			PTUP v7 = mtw_mirth_type_Type_Var(v6);
			branch_Type_3 = v7;
		} break;
		case 4LL: { // Meta
			uint64_t v8 = mtp_mirth_type_StackType_Meta(in_StackType_1);
			PTUP v9 = mtw_mirth_type_Type_Meta(v8);
			branch_Type_3 = v9;
		} break;
		default: {
			PTUP v10 = mtw_mirth_type_Type_Stack(in_StackType_1);
			branch_Type_3 = v10;
		} break;
	}
	return branch_Type_3;
}
static PTUP mw_mirth_type_StackType_expand (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_StackType_6;
	switch (PTREXTRA(in_StackType_2)) {
		case 4LL: { // Meta
			uint64_t v7 = mtp_mirth_type_StackType_Meta(in_StackType_2);
			PTUP v8;
			PTUP v9 = mw_mirth_type_MetaVar_expand(in_ZPlusMirth_1, v7, &v8);
			PTUP v10 = mw_mirth_type_Type_ZToStackType(v9);
			branch_StackType_6 = v10;
			branch_ZPlusMirth_5 = v8;
		} break;
		default: {
			branch_StackType_6 = in_StackType_2;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_StackType_6;
}
static bool mw_mirth_type_StackType_unitZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_StackType_2)) {
		case 2LL: { // Unit
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v8 = mtp_mirth_type_StackType_Meta(in_StackType_2);
			PTUP v9;
			bool v10 = mw_mirth_type_MetaVar_unitZ_stackZAsk(in_ZPlusMirth_1, v8, &v9);
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		default: {
			decref(MKTUP(in_StackType_2));
			bool v11 = false;
			branch_Bool_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static PTUP mw_mirth_type_StackType_labelZ_names (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = PTRMK(0LL /* Nil */,0,0);
	PTUP v6 = mtw_std_either_Either_2_Right(MKTUP(in_StackType_2));
	bool v7 = true;
	PTUP v8 = v5;
	PTUP r9 = in_ZPlusMirth_1;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP v13 = v8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		incref(MKTUP(v15));
		PTUP v17 = mw_std_either_Either_2_rightZAsk(v15);
		PTUP branch_List_18;
		PTUP branch_ZPlusMirth_19;
		PTUP branch_Either_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v17)) {
			case 1LL: { // Some
				VAL v22 = mtp_std_maybe_Maybe_1_Some(v17);
				decref(MKTUP(v15));
				PTUP v23;
				PTUP v24 = mw_mirth_type_StackType_expand(r14, VTUP(v22), &v23);
				PTUP branch_List_25;
				PTUP branch_ZPlusMirth_26;
				PTUP branch_Either_27;
				switch (PTREXTRA(v24)) {
					case 0LL: { // Error
						PTUP v28 = PTRMK(0LL /* Error */,0,0);
						PTUP v29 = mtw_std_either_Either_2_Left(MKTUP(v28));
						branch_Either_27 = v29;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 1LL: { // Ignore
						PTUP v30 = PTRMK(1LL /* Ignore */,0,0);
						PTUP v31 = mtw_std_either_Either_2_Left(MKTUP(v30));
						branch_Either_27 = v31;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 3LL: { // Var
						uint64_t v32 = mtp_mirth_type_StackType_Var(v24);
						PTUP v33 = mtw_mirth_type_StackTypeBase_Var(v32);
						PTUP v34 = mtw_std_either_Either_2_Left(MKTUP(v33));
						branch_Either_27 = v34;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 4LL: { // Meta
						uint64_t v35 = mtp_mirth_type_StackType_Meta(v24);
						PTUP v36 = mtw_mirth_type_StackTypeBase_Meta(v35);
						PTUP v37 = mtw_std_either_Either_2_Left(MKTUP(v36));
						branch_Either_27 = v37;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 2LL: { // Unit
						PTUP v38 = PTRMK(2LL /* Unit */,0,0);
						PTUP v39 = mtw_std_either_Either_2_Left(MKTUP(v38));
						branch_Either_27 = v39;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 5LL: { // Cons
						PTUP v40;
						PTUP v41 = mtp_mirth_type_StackType_Cons(v24, &v40);
						decref(MKTUP(v40));
						PTUP v42 = mtw_std_either_Either_2_Right(MKTUP(v41));
						branch_Either_27 = v42;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 7LL: { // With
						PTUP v43;
						PTUP v44 = mtp_mirth_type_StackType_With(v24, &v43);
						decref(MKTUP(v43));
						PTUP v45 = mtw_std_either_Either_2_Right(MKTUP(v44));
						branch_Either_27 = v45;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 6LL: { // ConsLabel
						PTUP v46;
						uint64_t v47;
						PTUP v48 = mtp_mirth_type_StackType_ConsLabel(v24, &v46, &v47);
						decref(MKTUP(VTUP(MKTUP(v46))));
						PTUP v49 = mw_std_list_List_1_cons(MKU64(value_u64(MKU64(v47))), v13);
						PTUP v50 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v48))));
						branch_Either_27 = v50;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v49;
					} break;
					case 8LL: { // WithLabel
						PTUP v51;
						uint64_t v52;
						PTUP v53 = mtp_mirth_type_StackType_WithLabel(v24, &v51, &v52);
						decref(MKTUP(VTUP(MKTUP(v51))));
						PTUP v54 = mw_std_list_List_1_cons(MKU64(value_u64(MKU64(v52))), v13);
						PTUP v55 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v53))));
						branch_Either_27 = v55;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v54;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v56 = true;
				branch_Bool_21 = v56;
				branch_Either_20 = branch_Either_27;
				branch_ZPlusMirth_19 = branch_ZPlusMirth_26;
				branch_List_18 = branch_List_25;
			} break;
			case 0LL: { // None
				bool v57 = false;
				branch_Bool_21 = v57;
				branch_Either_20 = v15;
				branch_ZPlusMirth_19 = r14;
				branch_List_18 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_21;
		v11 = branch_Bool_21;
		v10 = branch_Either_20;
		r9 = branch_ZPlusMirth_19;
		v8 = branch_List_18;
	}
	PTUP v58 = mw_std_either_Either_2_leftZAsk(v10);
	VAL v59 = mw_std_maybe_Maybe_1_unwrap_1_sp2(v58);
	decref(MKTUP(VTUP(v59)));
	*out_ZPlusMirth_3 = r9;
	return v8;
}
static PTUP mw_mirth_type_StackType_split4 (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5, PTUP *out_List_6, PTUP *out_List_7) {
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9 = PTRMK(0LL /* Nil */,0,0);
	PTUP v10 = PTRMK(0LL /* Nil */,0,0);
	PTUP v11 = mtw_std_either_Either_2_Right(MKTUP(in_StackType_2));
	bool v12 = true;
	PTUP v13 = v8;
	PTUP v14 = v9;
	PTUP v15 = v10;
	PTUP r16 = in_ZPlusMirth_1;
	PTUP v17 = v11;
	bool v18 = v12;
	bool v19 = v12;
	while (v19) {
		PTUP v20 = v13;
		PTUP v21 = v14;
		PTUP v22 = v15;
		PTUP r23 = r16;
		PTUP v24 = v17;
		bool v25 = v18;
		incref(MKTUP(v24));
		PTUP v26 = mw_std_either_Either_2_rightZAsk(v24);
		PTUP branch_List_27;
		PTUP branch_List_28;
		PTUP branch_List_29;
		PTUP branch_ZPlusMirth_30;
		PTUP branch_Either_31;
		bool branch_Bool_32;
		switch (PTREXTRA(v26)) {
			case 1LL: { // Some
				VAL v33 = mtp_std_maybe_Maybe_1_Some(v26);
				decref(MKTUP(v24));
				PTUP v34;
				PTUP v35 = mw_mirth_type_StackType_expand(r23, VTUP(v33), &v34);
				PTUP branch_List_36;
				PTUP branch_List_37;
				PTUP branch_List_38;
				PTUP branch_ZPlusMirth_39;
				PTUP branch_Either_40;
				switch (PTREXTRA(v35)) {
					case 0LL: { // Error
						PTUP v41 = PTRMK(0LL /* Error */,0,0);
						PTUP v42 = mtw_std_either_Either_2_Left(MKTUP(v41));
						branch_Either_40 = v42;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 1LL: { // Ignore
						PTUP v43 = PTRMK(1LL /* Ignore */,0,0);
						PTUP v44 = mtw_std_either_Either_2_Left(MKTUP(v43));
						branch_Either_40 = v44;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 3LL: { // Var
						uint64_t v45 = mtp_mirth_type_StackType_Var(v35);
						PTUP v46 = mtw_mirth_type_StackTypeBase_Var(v45);
						PTUP v47 = mtw_std_either_Either_2_Left(MKTUP(v46));
						branch_Either_40 = v47;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 4LL: { // Meta
						uint64_t v48 = mtp_mirth_type_StackType_Meta(v35);
						PTUP v49 = mtw_mirth_type_StackTypeBase_Meta(v48);
						PTUP v50 = mtw_std_either_Either_2_Left(MKTUP(v49));
						branch_Either_40 = v50;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 2LL: { // Unit
						PTUP v51 = PTRMK(2LL /* Unit */,0,0);
						PTUP v52 = mtw_std_either_Either_2_Left(MKTUP(v51));
						branch_Either_40 = v52;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 5LL: { // Cons
						PTUP v53;
						PTUP v54 = mtp_mirth_type_StackType_Cons(v35, &v53);
						PTUP v55 = mw_std_list_List_1_cons(MKTUP(v53), v22);
						PTUP v56 = mtw_std_either_Either_2_Right(MKTUP(v54));
						branch_Either_40 = v56;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v55;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 7LL: { // With
						PTUP v57;
						PTUP v58 = mtp_mirth_type_StackType_With(v35, &v57);
						PTUP v59 = mw_std_list_List_1_cons(MKTUP(v57), v21);
						PTUP v60 = mtw_std_either_Either_2_Right(MKTUP(v58));
						branch_Either_40 = v60;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v59;
						branch_List_36 = v20;
					} break;
					case 6LL: { // ConsLabel
						PTUP v61;
						uint64_t v62;
						PTUP v63 = mtp_mirth_type_StackType_ConsLabel(v35, &v61, &v62);
						PTUP v64 = mtw_std_either_Either_2_Left(MKTUP(VTUP(MKTUP(v61))));
						PTUP r65 = PTRMK(0,tup_new(2),0);
						((TUP*)PTRPTR(r65))->size = 2;
						((TUP*)PTRPTR(r65))->cells[1] = MKU64(value_u64(MKU64(v62)));
						((TUP*)PTRPTR(r65))->cells[0] = MKTUP(v64);
						PTUP v66 = mw_std_list_List_1_cons(MKTUP(r65), v20);
						PTUP v67 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v63))));
						branch_Either_40 = v67;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v66;
					} break;
					case 8LL: { // WithLabel
						PTUP v68;
						uint64_t v69;
						PTUP v70 = mtp_mirth_type_StackType_WithLabel(v35, &v68, &v69);
						PTUP v71 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v68))));
						PTUP r72 = PTRMK(0,tup_new(2),0);
						((TUP*)PTRPTR(r72))->size = 2;
						((TUP*)PTRPTR(r72))->cells[1] = MKU64(value_u64(MKU64(v69)));
						((TUP*)PTRPTR(r72))->cells[0] = MKTUP(v71);
						PTUP v73 = mw_std_list_List_1_cons(MKTUP(r72), v20);
						PTUP v74 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v70))));
						branch_Either_40 = v74;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v73;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v75 = true;
				branch_Bool_32 = v75;
				branch_Either_31 = branch_Either_40;
				branch_ZPlusMirth_30 = branch_ZPlusMirth_39;
				branch_List_29 = branch_List_38;
				branch_List_28 = branch_List_37;
				branch_List_27 = branch_List_36;
			} break;
			case 0LL: { // None
				bool v76 = false;
				branch_Bool_32 = v76;
				branch_Either_31 = v24;
				branch_ZPlusMirth_30 = r23;
				branch_List_29 = v22;
				branch_List_28 = v21;
				branch_List_27 = v20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_32;
		v18 = branch_Bool_32;
		v17 = branch_Either_31;
		r16 = branch_ZPlusMirth_30;
		v15 = branch_List_29;
		v14 = branch_List_28;
		v13 = branch_List_27;
	}
	PTUP v77 = mw_std_either_Either_2_leftZAsk(v17);
	VAL v78 = mw_std_maybe_Maybe_1_unwrap_1_sp2(v77);
	*out_List_7 = v14;
	*out_List_6 = v15;
	*out_List_5 = v13;
	*out_ZPlusMirth_3 = r16;
	return VTUP(v78);
}
static PTUP mw_mirth_type_StackType_base (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mtw_std_either_Either_2_Right(MKTUP(in_StackType_2));
	bool v6 = true;
	PTUP r7 = in_ZPlusMirth_1;
	PTUP v8 = v5;
	bool v9 = v6;
	bool v10 = v6;
	while (v10) {
		PTUP r11 = r7;
		PTUP v12 = v8;
		bool v13 = v9;
		incref(MKTUP(v12));
		PTUP v14 = mw_std_either_Either_2_rightZAsk(v12);
		PTUP branch_ZPlusMirth_15;
		PTUP branch_Either_16;
		bool branch_Bool_17;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				decref(MKTUP(v12));
				PTUP v19;
				PTUP v20 = mw_mirth_type_StackType_expand(r11, VTUP(v18), &v19);
				PTUP branch_ZPlusMirth_21;
				PTUP branch_Either_22;
				switch (PTREXTRA(v20)) {
					case 0LL: { // Error
						PTUP v23 = PTRMK(0LL /* Error */,0,0);
						PTUP v24 = mtw_std_either_Either_2_Left(MKTUP(v23));
						branch_Either_22 = v24;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 1LL: { // Ignore
						PTUP v25 = PTRMK(1LL /* Ignore */,0,0);
						PTUP v26 = mtw_std_either_Either_2_Left(MKTUP(v25));
						branch_Either_22 = v26;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 3LL: { // Var
						uint64_t v27 = mtp_mirth_type_StackType_Var(v20);
						PTUP v28 = mtw_mirth_type_StackTypeBase_Var(v27);
						PTUP v29 = mtw_std_either_Either_2_Left(MKTUP(v28));
						branch_Either_22 = v29;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 4LL: { // Meta
						uint64_t v30 = mtp_mirth_type_StackType_Meta(v20);
						PTUP v31 = mtw_mirth_type_StackTypeBase_Meta(v30);
						PTUP v32 = mtw_std_either_Either_2_Left(MKTUP(v31));
						branch_Either_22 = v32;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 2LL: { // Unit
						PTUP v33 = PTRMK(2LL /* Unit */,0,0);
						PTUP v34 = mtw_std_either_Either_2_Left(MKTUP(v33));
						branch_Either_22 = v34;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 5LL: { // Cons
						PTUP v35;
						PTUP v36 = mtp_mirth_type_StackType_Cons(v20, &v35);
						decref(MKTUP(v35));
						PTUP v37 = mtw_std_either_Either_2_Right(MKTUP(v36));
						branch_Either_22 = v37;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 7LL: { // With
						PTUP v38;
						PTUP v39 = mtp_mirth_type_StackType_With(v20, &v38);
						decref(MKTUP(v38));
						PTUP v40 = mtw_std_either_Either_2_Right(MKTUP(v39));
						branch_Either_22 = v40;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 6LL: { // ConsLabel
						PTUP v41;
						uint64_t v42;
						PTUP v43 = mtp_mirth_type_StackType_ConsLabel(v20, &v41, &v42);
						decref(MKU64(value_u64(MKU64(v42))));
						decref(MKTUP(VTUP(MKTUP(v41))));
						PTUP v44 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v43))));
						branch_Either_22 = v44;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 8LL: { // WithLabel
						PTUP v45;
						uint64_t v46;
						PTUP v47 = mtp_mirth_type_StackType_WithLabel(v20, &v45, &v46);
						decref(MKU64(value_u64(MKU64(v46))));
						decref(MKTUP(VTUP(MKTUP(v45))));
						PTUP v48 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v47))));
						branch_Either_22 = v48;
						branch_ZPlusMirth_21 = v19;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v49 = true;
				branch_Bool_17 = v49;
				branch_Either_16 = branch_Either_22;
				branch_ZPlusMirth_15 = branch_ZPlusMirth_21;
			} break;
			case 0LL: { // None
				bool v50 = false;
				branch_Bool_17 = v50;
				branch_Either_16 = v12;
				branch_ZPlusMirth_15 = r11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_17;
		v9 = branch_Bool_17;
		v8 = branch_Either_16;
		r7 = branch_ZPlusMirth_15;
	}
	PTUP v51 = mw_std_either_Either_2_leftZAsk(v8);
	VAL v52 = mw_std_maybe_Maybe_1_unwrap_1_sp2(v51);
	*out_ZPlusMirth_3 = r7;
	return VTUP(v52);
}
static PTUP mw_mirth_type_StackType_labelZ_topZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v7)) {
		case 5LL: { // Cons
			PTUP v10;
			PTUP v11 = mtp_mirth_type_StackType_Cons(v7, &v10);
			decref(MKTUP(v10));
			PTUP v12;
			PTUP v13 = mw_mirth_type_StackType_labelZ_topZAsk(v6, in_Label_2, v11, &v12);
			branch_Maybe_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 7LL: { // With
			PTUP v14;
			PTUP v15 = mtp_mirth_type_StackType_With(v7, &v14);
			decref(MKTUP(v14));
			PTUP v16;
			PTUP v17 = mw_mirth_type_StackType_labelZ_topZAsk(v6, in_Label_2, v15, &v16);
			branch_Maybe_9 = v17;
			branch_ZPlusMirth_8 = v16;
		} break;
		case 6LL: { // ConsLabel
			PTUP v18;
			uint64_t v19;
			PTUP v20 = mtp_mirth_type_StackType_ConsLabel(v7, &v18, &v19);
			incref(MKU64(in_Label_2));
			incref(MKU64(v19));
			bool v21 = (value_u64(MKU64(v19)) == value_u64(MKU64(in_Label_2)));
			PTUP branch_ZPlusMirth_22;
			PTUP branch_Maybe_23;
			if (v21) {
				decref(MKTUP(VTUP(MKTUP(v20))));
				decref(MKU64(value_u64(MKU64(in_Label_2))));
				PTUP v24 = mtw_std_either_Either_2_Left(MKTUP(VTUP(MKTUP(v18))));
				PTUP v25 = mtw_std_maybe_Maybe_1_Some(MKTUP(v24));
				branch_Maybe_23 = v25;
				branch_ZPlusMirth_22 = v6;
			} else {
				decref(MKU64(value_u64(MKU64(v19))));
				decref(MKTUP(VTUP(MKTUP(v18))));
				PTUP v26;
				PTUP v27 = mw_mirth_type_StackType_labelZ_topZAsk(v6, value_u64(MKU64(in_Label_2)), VTUP(MKTUP(v20)), &v26);
				branch_Maybe_23 = v27;
				branch_ZPlusMirth_22 = v26;
			}
			branch_Maybe_9 = branch_Maybe_23;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_22;
		} break;
		case 8LL: { // WithLabel
			PTUP v28;
			uint64_t v29;
			PTUP v30 = mtp_mirth_type_StackType_WithLabel(v7, &v28, &v29);
			incref(MKU64(in_Label_2));
			incref(MKU64(v29));
			bool v31 = (value_u64(MKU64(v29)) == value_u64(MKU64(in_Label_2)));
			PTUP branch_ZPlusMirth_32;
			PTUP branch_Maybe_33;
			if (v31) {
				decref(MKTUP(VTUP(MKTUP(v30))));
				decref(MKU64(value_u64(MKU64(in_Label_2))));
				PTUP v34 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v28))));
				PTUP v35 = mtw_std_maybe_Maybe_1_Some(MKTUP(v34));
				branch_Maybe_33 = v35;
				branch_ZPlusMirth_32 = v6;
			} else {
				decref(MKU64(value_u64(MKU64(v29))));
				decref(MKTUP(VTUP(MKTUP(v28))));
				PTUP v36;
				PTUP v37 = mw_mirth_type_StackType_labelZ_topZAsk(v6, value_u64(MKU64(in_Label_2)), VTUP(MKTUP(v30)), &v36);
				branch_Maybe_33 = v37;
				branch_ZPlusMirth_32 = v36;
			}
			branch_Maybe_9 = branch_Maybe_33;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_32;
		} break;
		default: {
			decref(MKTUP(v7));
			decref(MKU64(in_Label_2));
			PTUP v38 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v38;
			branch_ZPlusMirth_8 = v6;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static PTUP mw_mirth_type_StackType_topZ_typeZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 7LL: { // With
			PTUP v9;
			PTUP v10 = mtp_mirth_type_StackType_With(v6, &v9);
			decref(MKTUP(v9));
			PTUP v11;
			PTUP v12 = mw_mirth_type_StackType_topZ_typeZAsk(v5, v10, &v11);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 5LL: { // Cons
			PTUP v13;
			PTUP v14 = mtp_mirth_type_StackType_Cons(v6, &v13);
			decref(MKTUP(v14));
			PTUP v15 = mtw_std_maybe_Maybe_1_Some(MKTUP(v13));
			branch_Maybe_8 = v15;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 6LL: { // ConsLabel
			PTUP v16;
			uint64_t v17;
			PTUP v18 = mtp_mirth_type_StackType_ConsLabel(v6, &v16, &v17);
			decref(MKU64(v17));
			decref(MKTUP(v16));
			PTUP v19;
			PTUP v20 = mw_mirth_type_StackType_topZ_typeZAsk(v5, v18, &v19);
			branch_Maybe_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 8LL: { // WithLabel
			PTUP v21;
			uint64_t v22;
			PTUP v23 = mtp_mirth_type_StackType_WithLabel(v6, &v21, &v22);
			decref(MKU64(v22));
			decref(MKTUP(v21));
			PTUP v24;
			PTUP v25 = mw_mirth_type_StackType_topZ_typeZAsk(v5, v23, &v24);
			branch_Maybe_8 = v25;
			branch_ZPlusMirth_7 = v24;
		} break;
		default: {
			decref(MKTUP(v6));
			PTUP v26 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v26;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_type_StackType_topZ_tyconZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_topZ_typeZAsk(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			PTUP v11 = mw_mirth_type_Type_tyconZAsk(v5, VTUP(v9), &v10);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			PTUP v12 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_type_StackType_topZ_resourceZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 7LL: { // With
			PTUP v9;
			PTUP v10 = mtp_mirth_type_StackType_With(v6, &v9);
			decref(MKTUP(v10));
			PTUP v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v9));
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 5LL: { // Cons
			PTUP v12;
			PTUP v13 = mtp_mirth_type_StackType_Cons(v6, &v12);
			decref(MKTUP(v12));
			PTUP v14;
			PTUP v15 = mw_mirth_type_StackType_topZ_resourceZAsk(v5, v13, &v14);
			branch_Maybe_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 6LL: { // ConsLabel
			PTUP v16;
			uint64_t v17;
			PTUP v18 = mtp_mirth_type_StackType_ConsLabel(v6, &v16, &v17);
			decref(MKU64(v17));
			decref(MKTUP(v16));
			PTUP v19;
			PTUP v20 = mw_mirth_type_StackType_topZ_resourceZAsk(v5, v18, &v19);
			branch_Maybe_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 8LL: { // WithLabel
			PTUP v21;
			uint64_t v22;
			PTUP v23 = mtp_mirth_type_StackType_WithLabel(v6, &v21, &v22);
			decref(MKU64(v22));
			decref(MKTUP(v21));
			PTUP v24;
			PTUP v25 = mw_mirth_type_StackType_topZ_resourceZAsk(v5, v23, &v24);
			branch_Maybe_8 = v25;
			branch_ZPlusMirth_7 = v24;
		} break;
		default: {
			decref(MKTUP(v6));
			PTUP v26 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v26;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_topZ_resourceZAsk(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10 = mw_mirth_type_Resource_ZToType(VTUP(v9));
			PTUP v11;
			PTUP v12 = mw_mirth_type_Type_tyconZAsk(v5, v10, &v11);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 0LL: { // None
			PTUP v13 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_type_StackType_topZ_resourceZ_tycons (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = PTRMK(0LL /* Nil */,0,0);
	bool v6 = true;
	PTUP v7 = v5;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP v9 = in_StackType_2;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP v12 = v7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP v16;
		PTUP v17 = mw_mirth_type_StackType_expand(r13, v14, &v16);
		PTUP branch_StackType_18;
		PTUP branch_ZPlusMirth_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v17)) {
			case 7LL: { // With
				PTUP v22;
				PTUP v23 = mtp_mirth_type_StackType_With(v17, &v22);
				PTUP v24 = mw_mirth_type_Resource_ZToType(v22);
				PTUP v25;
				PTUP v26 = mw_mirth_type_Type_tyconZAsk(v16, v24, &v25);
				PTUP branch_List_27;
				bool branch_Bool_28;
				switch (PTREXTRA(v26)) {
					case 1LL: { // Some
						VAL v29 = mtp_std_maybe_Maybe_1_Some(v26);
						PTUP v30 = mw_std_list_List_1_cons(v29, v12);
						bool v31 = true;
						branch_Bool_28 = v31;
						branch_List_27 = v30;
					} break;
					case 0LL: { // None
						bool v32 = false;
						branch_Bool_28 = v32;
						branch_List_27 = v12;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Bool_21 = branch_Bool_28;
				branch_List_20 = branch_List_27;
				branch_ZPlusMirth_19 = v25;
				branch_StackType_18 = v23;
			} break;
			case 5LL: { // Cons
				PTUP v33;
				PTUP v34 = mtp_mirth_type_StackType_Cons(v17, &v33);
				decref(MKTUP(v33));
				bool v35 = true;
				branch_Bool_21 = v35;
				branch_List_20 = v12;
				branch_ZPlusMirth_19 = v16;
				branch_StackType_18 = v34;
			} break;
			case 8LL: { // WithLabel
				PTUP v36;
				uint64_t v37;
				PTUP v38 = mtp_mirth_type_StackType_WithLabel(v17, &v36, &v37);
				decref(MKU64(v37));
				decref(MKTUP(v36));
				bool v39 = true;
				branch_Bool_21 = v39;
				branch_List_20 = v12;
				branch_ZPlusMirth_19 = v16;
				branch_StackType_18 = v38;
			} break;
			case 6LL: { // ConsLabel
				PTUP v40;
				uint64_t v41;
				PTUP v42 = mtp_mirth_type_StackType_ConsLabel(v17, &v40, &v41);
				decref(MKU64(v41));
				decref(MKTUP(v40));
				bool v43 = true;
				branch_Bool_21 = v43;
				branch_List_20 = v12;
				branch_ZPlusMirth_19 = v16;
				branch_StackType_18 = v42;
			} break;
			default: {
				bool v44 = false;
				branch_Bool_21 = v44;
				branch_List_20 = v12;
				branch_ZPlusMirth_19 = v16;
				branch_StackType_18 = v17;
			} break;
		}
		v11 = branch_Bool_21;
		v10 = branch_Bool_21;
		v9 = branch_StackType_18;
		r8 = branch_ZPlusMirth_19;
		v7 = branch_List_20;
	}
	decref(MKTUP(v9));
	*out_ZPlusMirth_3 = r8;
	return v7;
}
static PTUP mw_mirth_type_StackType_topZ_namespaces (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = PTRMK(0LL /* Nil */,0,0);
	PTUP v6;
	mw_std_list_List_1_buildZBang(v5, &v6);
	incref(MKTUP(in_StackType_2));
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_topZ_tyconZAsk(in_ZPlusMirth_1, in_StackType_2, &v7);
	PTUP branch_ZPlusLister_9;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v8);
			PTUP v11 = mtw_mirth_name_Namespace_Tycon(VTUP(v10));
			PTUP v12;
			mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v11), v6, &v12);
			branch_ZPlusLister_9 = v12;
		} break;
		case 0LL: { // None
			branch_ZPlusLister_9 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_topZ_resourceZ_tycons(v7, in_StackType_2, &v13);
	bool v15 = true;
	PTUP r16 = branch_ZPlusLister_9;
	PTUP v17 = v14;
	bool v18 = v15;
	bool v19 = v15;
	while (v19) {
		PTUP r20 = r16;
		PTUP v21 = v17;
		bool v22 = v18;
		PTUP branch_ZPlusLister_23;
		PTUP branch_List_24;
		bool branch_Bool_25;
		switch (PTREXTRA(v21)) {
			case 1LL: { // Cons
				PTUP v26;
				VAL v27 = mtp_std_list_List_1_Cons(v21, &v26);
				PTUP v28 = mtw_mirth_name_Namespace_Tycon(VTUP(v27));
				PTUP v29;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v28), r20, &v29);
				bool v30 = true;
				branch_Bool_25 = v30;
				branch_List_24 = v26;
				branch_ZPlusLister_23 = v29;
			} break;
			case 0LL: { // Nil
				PTUP v31 = PTRMK(0LL /* Nil */,0,0);
				bool v32 = false;
				branch_Bool_25 = v32;
				branch_List_24 = v31;
				branch_ZPlusLister_23 = r20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_25;
		v18 = branch_Bool_25;
		v17 = branch_List_24;
		r16 = branch_ZPlusLister_23;
	}
	decref(MKTUP(v17));
	PTUP v33 = mw_std_list_ZPlusLister_1_doneZBang(r16);
	*out_ZPlusMirth_3 = v13;
	return v33;
}
static bool mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_StackType_2));
	PTUP v5;
	bool v6 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_StackType_7;
	PTUP branch_ZPlusMirth_8;
	bool branch_Bool_9;
	if (v6) {
		incref(MKTUP(in_StackType_2));
		PTUP v10;
		bool v11 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v5, in_StackType_2, &v10);
		branch_Bool_9 = v11;
		branch_ZPlusMirth_8 = v10;
		branch_StackType_7 = in_StackType_2;
	} else {
		bool v12 = false;
		branch_Bool_9 = v12;
		branch_ZPlusMirth_8 = v5;
		branch_StackType_7 = in_StackType_2;
	}
	decref(MKTUP(branch_StackType_7));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return value_bool(MKBOOL(branch_Bool_9));
}
static bool mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (PTREXTRA(v6)) {
		case 5LL: { // Cons
			PTUP v9;
			PTUP v10 = mtp_mirth_type_StackType_Cons(v6, &v9);
			decref(MKTUP(v10));
			PTUP v11;
			bool v12 = mw_mirth_type_Type_errorZAsk(v5, VTUP(MKTUP(v9)), &v11);
			bool v13 = !v12;
			branch_Bool_8 = v13;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 6LL: { // ConsLabel
			PTUP v14;
			uint64_t v15;
			PTUP v16 = mtp_mirth_type_StackType_ConsLabel(v6, &v14, &v15);
			decref(MKU64(v15));
			decref(MKTUP(v14));
			PTUP v17;
			bool v18 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v5, v16, &v17);
			branch_Bool_8 = v18;
			branch_ZPlusMirth_7 = v17;
		} break;
		case 7LL: { // With
			PTUP v19;
			PTUP v20 = mtp_mirth_type_StackType_With(v6, &v19);
			decref(MKTUP(v19));
			PTUP v21;
			bool v22 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v5, v20, &v21);
			branch_Bool_8 = v22;
			branch_ZPlusMirth_7 = v21;
		} break;
		case 8LL: { // WithLabel
			PTUP v23;
			uint64_t v24;
			PTUP v25 = mtp_mirth_type_StackType_WithLabel(v6, &v23, &v24);
			decref(MKU64(v24));
			decref(MKTUP(v23));
			PTUP v26;
			bool v27 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v5, v25, &v26);
			branch_Bool_8 = v27;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 4LL: { // Meta
			uint64_t v28 = mtp_mirth_type_StackType_Meta(v6);
			bool v29 = true;
			branch_Bool_8 = v29;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v30 = mtp_mirth_type_StackType_Var(v6);
			bool v31 = true;
			branch_Bool_8 = v31;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			bool v32 = true;
			branch_Bool_8 = v32;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // Error
			bool v33 = false;
			branch_Bool_8 = v33;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			bool v34 = false;
			branch_Bool_8 = v34;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static bool mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (PTREXTRA(v6)) {
		case 5LL: { // Cons
			PTUP v9;
			PTUP v10 = mtp_mirth_type_StackType_Cons(v6, &v9);
			decref(MKTUP(v9));
			PTUP v11;
			bool v12 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v5, v10, &v11);
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 6LL: { // ConsLabel
			PTUP v13;
			uint64_t v14;
			PTUP v15 = mtp_mirth_type_StackType_ConsLabel(v6, &v13, &v14);
			decref(MKU64(v14));
			decref(MKTUP(v13));
			PTUP v16;
			bool v17 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v5, v15, &v16);
			branch_Bool_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 7LL: { // With
			PTUP v18;
			PTUP v19 = mtp_mirth_type_StackType_With(v6, &v18);
			decref(MKTUP(v19));
			PTUP v20;
			bool v21 = mw_mirth_type_Type_errorZAsk(v5, VTUP(MKTUP(v18)), &v20);
			bool v22 = !v21;
			branch_Bool_8 = v22;
			branch_ZPlusMirth_7 = v20;
		} break;
		case 8LL: { // WithLabel
			PTUP v23;
			uint64_t v24;
			PTUP v25 = mtp_mirth_type_StackType_WithLabel(v6, &v23, &v24);
			decref(MKU64(v24));
			decref(MKTUP(v23));
			PTUP v26;
			bool v27 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v5, v25, &v26);
			branch_Bool_8 = v27;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 4LL: { // Meta
			uint64_t v28 = mtp_mirth_type_StackType_Meta(v6);
			bool v29 = true;
			branch_Bool_8 = v29;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v30 = mtp_mirth_type_StackType_Var(v6);
			bool v31 = true;
			branch_Bool_8 = v31;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			bool v32 = true;
			branch_Bool_8 = v32;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // Error
			bool v33 = false;
			branch_Bool_8 = v33;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			bool v34 = false;
			branch_Bool_8 = v34;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static bool mw_mirth_type_StackType_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_StackType_3)) {
		case 4LL: { // Meta
			uint64_t v8 = mtp_mirth_type_StackType_Meta(in_StackType_3);
			PTUP v9;
			bool v10 = mw_mirth_type_MetaVar_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v8, &v9);
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // Error
			bool v11 = false;
			branch_Bool_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v12 = false;
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Var
			uint64_t v13 = mtp_mirth_type_StackType_Var(in_StackType_3);
			decref(MKU64(v13));
			decref(MKU64(in_MetaVar_2));
			bool v14 = false;
			branch_Bool_7 = v14;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			bool v15 = false;
			branch_Bool_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			PTUP v16;
			PTUP v17 = mtp_mirth_type_StackType_Cons(in_StackType_3, &v16);
			incref(MKU64(in_MetaVar_2));
			PTUP v18;
			bool v19 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_MetaVar_2)), v16, &v18);
			PTUP branch_ZPlusMirth_20;
			bool branch_Bool_21;
			if (v19) {
				decref(MKTUP(VTUP(MKTUP(v17))));
				decref(MKU64(value_u64(MKU64(in_MetaVar_2))));
				bool v22 = true;
				branch_Bool_21 = v22;
				branch_ZPlusMirth_20 = v18;
			} else {
				PTUP v23;
				bool v24 = mw_mirth_type_StackType_hasZ_metaZAsk(v18, value_u64(MKU64(in_MetaVar_2)), VTUP(MKTUP(v17)), &v23);
				branch_Bool_21 = v24;
				branch_ZPlusMirth_20 = v23;
			}
			branch_Bool_7 = branch_Bool_21;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_20;
		} break;
		case 6LL: { // ConsLabel
			PTUP v25;
			uint64_t v26;
			PTUP v27 = mtp_mirth_type_StackType_ConsLabel(in_StackType_3, &v25, &v26);
			incref(MKU64(in_MetaVar_2));
			PTUP v28;
			bool v29 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_MetaVar_2)), v25, &v28);
			PTUP branch_ZPlusMirth_30;
			bool branch_Bool_31;
			if (v29) {
				decref(MKTUP(VTUP(MKTUP(v27))));
				decref(MKU64(value_u64(MKU64(in_MetaVar_2))));
				bool v32 = true;
				branch_Bool_31 = v32;
				branch_ZPlusMirth_30 = v28;
			} else {
				PTUP v33;
				bool v34 = mw_mirth_type_StackType_hasZ_metaZAsk(v28, value_u64(MKU64(in_MetaVar_2)), VTUP(MKTUP(v27)), &v33);
				branch_Bool_31 = v34;
				branch_ZPlusMirth_30 = v33;
			}
			branch_Bool_7 = branch_Bool_31;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_30;
		} break;
		case 7LL: { // With
			PTUP v35;
			PTUP v36 = mtp_mirth_type_StackType_With(in_StackType_3, &v35);
			incref(MKU64(in_MetaVar_2));
			PTUP v37;
			bool v38 = mw_mirth_type_Resource_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_MetaVar_2)), v35, &v37);
			PTUP branch_ZPlusMirth_39;
			bool branch_Bool_40;
			if (v38) {
				decref(MKTUP(VTUP(MKTUP(v36))));
				decref(MKU64(value_u64(MKU64(in_MetaVar_2))));
				bool v41 = true;
				branch_Bool_40 = v41;
				branch_ZPlusMirth_39 = v37;
			} else {
				PTUP v42;
				bool v43 = mw_mirth_type_StackType_hasZ_metaZAsk(v37, value_u64(MKU64(in_MetaVar_2)), VTUP(MKTUP(v36)), &v42);
				branch_Bool_40 = v43;
				branch_ZPlusMirth_39 = v42;
			}
			branch_Bool_7 = branch_Bool_40;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_39;
		} break;
		case 8LL: { // WithLabel
			PTUP v44;
			uint64_t v45;
			PTUP v46 = mtp_mirth_type_StackType_WithLabel(in_StackType_3, &v44, &v45);
			incref(MKU64(in_MetaVar_2));
			PTUP v47;
			bool v48 = mw_mirth_type_Resource_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_MetaVar_2)), v44, &v47);
			PTUP branch_ZPlusMirth_49;
			bool branch_Bool_50;
			if (v48) {
				decref(MKTUP(VTUP(MKTUP(v46))));
				decref(MKU64(value_u64(MKU64(in_MetaVar_2))));
				bool v51 = true;
				branch_Bool_50 = v51;
				branch_ZPlusMirth_49 = v47;
			} else {
				PTUP v52;
				bool v53 = mw_mirth_type_StackType_hasZ_metaZAsk(v47, value_u64(MKU64(in_MetaVar_2)), VTUP(MKTUP(v46)), &v52);
				branch_Bool_50 = v53;
				branch_ZPlusMirth_49 = v52;
			}
			branch_Bool_7 = branch_Bool_50;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_49;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_type_StackType_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_StackType_3)) {
		case 0LL: { // Error
			bool v8 = false;
			branch_Bool_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v9 = false;
			branch_Bool_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			bool v10 = false;
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v11 = mtp_mirth_type_StackType_Meta(in_StackType_3);
			PTUP v12;
			bool v13 = mw_mirth_type_MetaVar_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v11, &v12);
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 3LL: { // Var
			uint64_t v14 = mtp_mirth_type_StackType_Var(in_StackType_3);
			bool v15 = (v14 == in_Var_2);
			branch_Bool_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			PTUP v16;
			PTUP v17 = mtp_mirth_type_StackType_Cons(in_StackType_3, &v16);
			incref(MKU64(in_Var_2));
			PTUP v18;
			bool v19 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_Var_2)), v16, &v18);
			PTUP branch_ZPlusMirth_20;
			bool branch_Bool_21;
			if (v19) {
				decref(MKTUP(VTUP(MKTUP(v17))));
				decref(MKU64(value_u64(MKU64(in_Var_2))));
				bool v22 = true;
				branch_Bool_21 = v22;
				branch_ZPlusMirth_20 = v18;
			} else {
				PTUP v23;
				bool v24 = mw_mirth_type_StackType_hasZ_varZAsk(v18, value_u64(MKU64(in_Var_2)), VTUP(MKTUP(v17)), &v23);
				branch_Bool_21 = v24;
				branch_ZPlusMirth_20 = v23;
			}
			branch_Bool_7 = branch_Bool_21;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_20;
		} break;
		case 7LL: { // With
			PTUP v25;
			PTUP v26 = mtp_mirth_type_StackType_With(in_StackType_3, &v25);
			incref(MKU64(in_Var_2));
			PTUP v27;
			bool v28 = mw_mirth_type_Resource_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_Var_2)), v25, &v27);
			PTUP branch_ZPlusMirth_29;
			bool branch_Bool_30;
			if (v28) {
				decref(MKTUP(VTUP(MKTUP(v26))));
				decref(MKU64(value_u64(MKU64(in_Var_2))));
				bool v31 = true;
				branch_Bool_30 = v31;
				branch_ZPlusMirth_29 = v27;
			} else {
				PTUP v32;
				bool v33 = mw_mirth_type_StackType_hasZ_varZAsk(v27, value_u64(MKU64(in_Var_2)), VTUP(MKTUP(v26)), &v32);
				branch_Bool_30 = v33;
				branch_ZPlusMirth_29 = v32;
			}
			branch_Bool_7 = branch_Bool_30;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_29;
		} break;
		case 6LL: { // ConsLabel
			PTUP v34;
			uint64_t v35;
			PTUP v36 = mtp_mirth_type_StackType_ConsLabel(in_StackType_3, &v34, &v35);
			incref(MKU64(in_Var_2));
			PTUP v37;
			bool v38 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_Var_2)), v34, &v37);
			PTUP branch_ZPlusMirth_39;
			bool branch_Bool_40;
			if (v38) {
				decref(MKTUP(VTUP(MKTUP(v36))));
				decref(MKU64(value_u64(MKU64(in_Var_2))));
				bool v41 = true;
				branch_Bool_40 = v41;
				branch_ZPlusMirth_39 = v37;
			} else {
				PTUP v42;
				bool v43 = mw_mirth_type_StackType_hasZ_varZAsk(v37, value_u64(MKU64(in_Var_2)), VTUP(MKTUP(v36)), &v42);
				branch_Bool_40 = v43;
				branch_ZPlusMirth_39 = v42;
			}
			branch_Bool_7 = branch_Bool_40;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_39;
		} break;
		case 8LL: { // WithLabel
			PTUP v44;
			uint64_t v45;
			PTUP v46 = mtp_mirth_type_StackType_WithLabel(in_StackType_3, &v44, &v45);
			incref(MKU64(in_Var_2));
			PTUP v47;
			bool v48 = mw_mirth_type_Resource_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_Var_2)), v44, &v47);
			PTUP branch_ZPlusMirth_49;
			bool branch_Bool_50;
			if (v48) {
				decref(MKTUP(VTUP(MKTUP(v46))));
				decref(MKU64(value_u64(MKU64(in_Var_2))));
				bool v51 = true;
				branch_Bool_50 = v51;
				branch_ZPlusMirth_49 = v47;
			} else {
				PTUP v52;
				bool v53 = mw_mirth_type_StackType_hasZ_varZAsk(v47, value_u64(MKU64(in_Var_2)), VTUP(MKTUP(v46)), &v52);
				branch_Bool_50 = v53;
				branch_ZPlusMirth_49 = v52;
			}
			branch_Bool_7 = branch_Bool_50;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_49;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static PTUP mw_mirth_type_StackType_unifyZ_failedZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mw_mirth_type_StackType_ZToType(in_StackType_2);
	PTUP v7 = mw_mirth_type_StackType_ZToType(in_StackType_3);
	PTUP v8;
	PTUP v9 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v6, v7, &v8);
	PTUP v10 = mw_mirth_type_Type_ZToStackType(v9);
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static PTUP mw_mirth_type_StackType_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_StackType_9;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Error
			PTUP v10;
			PTUP v11 = mw_mirth_type_StackType_unifyZ_errorZBang(v6, in_StackType_3, &v10);
			branch_StackType_9 = v11;
			branch_ZPlusMirth_8 = v10;
		} break;
		case 1LL: { // Ignore
			branch_StackType_9 = in_StackType_3;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 4LL: { // Meta
			uint64_t v12 = mtp_mirth_type_StackType_Meta(v7);
			PTUP v13;
			PTUP v14 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v13);
			PTUP branch_ZPlusMirth_15;
			PTUP branch_StackType_16;
			switch (PTREXTRA(v14)) {
				case 0LL: { // Error
					PTUP v17 = mtw_mirth_type_StackType_Meta(v12);
					PTUP v18;
					PTUP v19 = mw_mirth_type_StackType_unifyZ_errorZBang(v13, v17, &v18);
					branch_StackType_16 = v19;
					branch_ZPlusMirth_15 = v18;
				} break;
				case 1LL: { // Ignore
					PTUP v20 = mtw_mirth_type_StackType_Meta(v12);
					branch_StackType_16 = v20;
					branch_ZPlusMirth_15 = v13;
				} break;
				case 4LL: { // Meta
					uint64_t v21 = mtp_mirth_type_StackType_Meta(v14);
					PTUP v22 = mtw_mirth_type_Type_Meta(v12);
					PTUP v23;
					PTUP v24 = mw_mirth_type_MetaVar_unifyZBang(v13, v22, v21, &v23);
					PTUP v25 = mw_mirth_type_Type_ZToStackType(v24);
					branch_StackType_16 = v25;
					branch_ZPlusMirth_15 = v23;
				} break;
				default: {
					PTUP v26 = mw_mirth_type_StackType_ZToType(v14);
					PTUP v27;
					PTUP v28 = mw_mirth_type_MetaVar_unifyZBang(v13, v26, v12, &v27);
					PTUP v29 = mw_mirth_type_Type_ZToStackType(v28);
					branch_StackType_16 = v29;
					branch_ZPlusMirth_15 = v27;
				} break;
			}
			branch_StackType_9 = branch_StackType_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
		} break;
		case 3LL: { // Var
			uint64_t v30 = mtp_mirth_type_StackType_Var(v7);
			PTUP v31;
			PTUP v32 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v31);
			PTUP branch_ZPlusMirth_33;
			PTUP branch_StackType_34;
			switch (PTREXTRA(v32)) {
				case 0LL: { // Error
					PTUP v35 = PTRMK(0LL /* Error */,0,0);
					branch_StackType_34 = v35;
					branch_ZPlusMirth_33 = v31;
				} break;
				case 1LL: { // Ignore
					PTUP v36 = mtw_mirth_type_StackType_Var(v30);
					branch_StackType_34 = v36;
					branch_ZPlusMirth_33 = v31;
				} break;
				case 4LL: { // Meta
					uint64_t v37 = mtp_mirth_type_StackType_Meta(v32);
					PTUP v38 = mtw_mirth_type_Type_Var(v30);
					PTUP v39;
					PTUP v40 = mw_mirth_type_MetaVar_unifyZBang(v31, v38, v37, &v39);
					PTUP v41 = mw_mirth_type_Type_ZToStackType(v40);
					branch_StackType_34 = v41;
					branch_ZPlusMirth_33 = v39;
				} break;
				case 3LL: { // Var
					uint64_t v42 = mtp_mirth_type_StackType_Var(v32);
					PTUP v43;
					PTUP v44 = mw_mirth_var_Var_unifyZBang(v31, v30, v42, &v43);
					PTUP v45 = mw_mirth_type_Type_ZToStackType(v44);
					branch_StackType_34 = v45;
					branch_ZPlusMirth_33 = v43;
				} break;
				default: {
					PTUP v46 = mtw_mirth_type_StackType_Var(v30);
					PTUP v47;
					PTUP v48 = mw_mirth_type_StackType_unifyZ_failedZBang(v31, v46, v32, &v47);
					branch_StackType_34 = v48;
					branch_ZPlusMirth_33 = v47;
				} break;
			}
			branch_StackType_9 = branch_StackType_34;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_33;
		} break;
		case 2LL: { // Unit
			PTUP v49;
			PTUP v50 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v49);
			PTUP branch_ZPlusMirth_51;
			PTUP branch_StackType_52;
			switch (PTREXTRA(v50)) {
				case 0LL: { // Error
					PTUP v53 = PTRMK(0LL /* Error */,0,0);
					branch_StackType_52 = v53;
					branch_ZPlusMirth_51 = v49;
				} break;
				case 4LL: { // Meta
					uint64_t v54 = mtp_mirth_type_StackType_Meta(v50);
					PTUP v55 = PTRMK(2LL /* Unit */,0,0);
					PTUP v56 = mw_mirth_type_StackType_ZToType(v55);
					PTUP v57;
					PTUP v58 = mw_mirth_type_MetaVar_unifyZBang(v49, v56, v54, &v57);
					PTUP v59 = mw_mirth_type_Type_ZToStackType(v58);
					branch_StackType_52 = v59;
					branch_ZPlusMirth_51 = v57;
				} break;
				case 1LL: { // Ignore
					PTUP v60 = PTRMK(2LL /* Unit */,0,0);
					branch_StackType_52 = v60;
					branch_ZPlusMirth_51 = v49;
				} break;
				case 2LL: { // Unit
					PTUP v61 = PTRMK(2LL /* Unit */,0,0);
					branch_StackType_52 = v61;
					branch_ZPlusMirth_51 = v49;
				} break;
				default: {
					PTUP v62 = PTRMK(2LL /* Unit */,0,0);
					PTUP v63;
					PTUP v64 = mw_mirth_type_StackType_unifyZ_failedZBang(v49, v50, v62, &v63);
					branch_StackType_52 = v64;
					branch_ZPlusMirth_51 = v63;
				} break;
			}
			branch_StackType_9 = branch_StackType_52;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_51;
		} break;
		case 5LL: { // Cons
			PTUP v65;
			PTUP v66 = mtp_mirth_type_StackType_Cons(v7, &v65);
			PTUP v67;
			PTUP v68 = mw_mirth_type_StackType_expand(v6, VTUP(MKTUP(in_StackType_3)), &v67);
			PTUP branch_ZPlusMirth_69;
			PTUP branch_StackType_70;
			switch (PTREXTRA(v68)) {
				case 0LL: { // Error
					PTUP v71 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(v66)), VTUP(MKTUP(v65)));
					PTUP v72;
					PTUP v73 = mw_mirth_type_StackType_unifyZ_errorZBang(v67, v71, &v72);
					branch_StackType_70 = v73;
					branch_ZPlusMirth_69 = v72;
				} break;
				case 4LL: { // Meta
					uint64_t v74 = mtp_mirth_type_StackType_Meta(v68);
					PTUP v75 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(v66)), VTUP(MKTUP(v65)));
					PTUP v76 = mw_mirth_type_StackType_ZToType(v75);
					PTUP v77;
					PTUP v78 = mw_mirth_type_MetaVar_unifyZBang(v67, v76, v74, &v77);
					PTUP v79 = mw_mirth_type_Type_ZToStackType(v78);
					branch_StackType_70 = v79;
					branch_ZPlusMirth_69 = v77;
				} break;
				case 1LL: { // Ignore
					PTUP v80 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(v66)), VTUP(MKTUP(v65)));
					branch_StackType_70 = v80;
					branch_ZPlusMirth_69 = v67;
				} break;
				default: {
					incref(MKTUP(v68));
					PTUP v81;
					PTUP v82 = mw_mirth_type_StackType_forceZ_consZAskZBang(v67, v68, &v81);
					PTUP branch_ZPlusMirth_83;
					PTUP branch_StackType_84;
					switch (PTREXTRA(v82)) {
						case 1LL: { // Some
							VAL v85 = mtp_std_maybe_Maybe_1_Some(v82);
							decref(MKTUP(v68));
							VAL v86 = ((TUP*)PTRPTR(value_tup(v85)))->cells[0];
							VAL v87 = ((TUP*)PTRPTR(value_tup(v85)))->cells[1];
							tup_decref_outer(value_tup(v85));
							PTUP v88;
							PTUP v89 = mw_mirth_type_StackType_unifyZBang(v81, VTUP(MKTUP(v66)), VTUP(v86), &v88);
							PTUP v90;
							PTUP v91 = mw_mirth_type_Type_unifyZBang(v88, VTUP(MKTUP(VTUP(MKTUP(v65)))), VTUP(MKTUP(VTUP(v87))), &v90);
							PTUP v92 = mtw_mirth_type_StackType_Cons(v89, v91);
							branch_StackType_84 = v92;
							branch_ZPlusMirth_83 = v90;
						} break;
						case 0LL: { // None
							PTUP v93 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(v66)), VTUP(MKTUP(v65)));
							PTUP v94;
							PTUP v95 = mw_mirth_type_StackType_unifyZ_failedZBang(v81, v93, v68, &v94);
							branch_StackType_84 = v95;
							branch_ZPlusMirth_83 = v94;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_70 = branch_StackType_84;
					branch_ZPlusMirth_69 = branch_ZPlusMirth_83;
				} break;
			}
			branch_StackType_9 = branch_StackType_70;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_69;
		} break;
		case 7LL: { // With
			PTUP v96;
			PTUP v97 = mtp_mirth_type_StackType_With(v7, &v96);
			PTUP v98;
			PTUP v99 = mw_mirth_type_StackType_expand(v6, VTUP(MKTUP(in_StackType_3)), &v98);
			PTUP branch_ZPlusMirth_100;
			PTUP branch_StackType_101;
			switch (PTREXTRA(v99)) {
				case 0LL: { // Error
					PTUP v102 = mtw_mirth_type_StackType_With(VTUP(MKTUP(v97)), VTUP(MKTUP(v96)));
					PTUP v103;
					PTUP v104 = mw_mirth_type_StackType_unifyZ_errorZBang(v98, v102, &v103);
					branch_StackType_101 = v104;
					branch_ZPlusMirth_100 = v103;
				} break;
				case 4LL: { // Meta
					uint64_t v105 = mtp_mirth_type_StackType_Meta(v99);
					PTUP v106 = mtw_mirth_type_StackType_With(VTUP(MKTUP(v97)), VTUP(MKTUP(v96)));
					PTUP v107 = mw_mirth_type_StackType_ZToType(v106);
					PTUP v108;
					PTUP v109 = mw_mirth_type_MetaVar_unifyZBang(v98, v107, v105, &v108);
					PTUP v110 = mw_mirth_type_Type_ZToStackType(v109);
					branch_StackType_101 = v110;
					branch_ZPlusMirth_100 = v108;
				} break;
				case 1LL: { // Ignore
					PTUP v111 = mtw_mirth_type_StackType_With(VTUP(MKTUP(v97)), VTUP(MKTUP(v96)));
					branch_StackType_101 = v111;
					branch_ZPlusMirth_100 = v98;
				} break;
				default: {
					incref(MKTUP(v99));
					PTUP v112;
					PTUP v113 = mw_mirth_type_StackType_forceZ_withZAskZBang(v98, v99, &v112);
					PTUP branch_ZPlusMirth_114;
					PTUP branch_StackType_115;
					switch (PTREXTRA(v113)) {
						case 1LL: { // Some
							VAL v116 = mtp_std_maybe_Maybe_1_Some(v113);
							decref(MKTUP(v99));
							VAL v117 = ((TUP*)PTRPTR(value_tup(v116)))->cells[0];
							VAL v118 = ((TUP*)PTRPTR(value_tup(v116)))->cells[1];
							tup_decref_outer(value_tup(v116));
							PTUP v119;
							PTUP v120 = mw_mirth_type_StackType_unifyZBang(v112, VTUP(MKTUP(v97)), VTUP(v117), &v119);
							PTUP v121;
							PTUP v122 = mw_mirth_type_Resource_unifyZBang(v119, VTUP(MKTUP(VTUP(MKTUP(v96)))), VTUP(MKTUP(VTUP(v118))), &v121);
							PTUP v123 = mtw_mirth_type_StackType_With(v120, v122);
							branch_StackType_115 = v123;
							branch_ZPlusMirth_114 = v121;
						} break;
						case 0LL: { // None
							PTUP v124 = mtw_mirth_type_StackType_With(VTUP(MKTUP(v97)), VTUP(MKTUP(v96)));
							PTUP v125;
							PTUP v126 = mw_mirth_type_StackType_unifyZ_failedZBang(v112, v124, v99, &v125);
							branch_StackType_115 = v126;
							branch_ZPlusMirth_114 = v125;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_101 = branch_StackType_115;
					branch_ZPlusMirth_100 = branch_ZPlusMirth_114;
				} break;
			}
			branch_StackType_9 = branch_StackType_101;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_100;
		} break;
		case 6LL: { // ConsLabel
			PTUP v127;
			uint64_t v128;
			PTUP v129 = mtp_mirth_type_StackType_ConsLabel(v7, &v127, &v128);
			PTUP v130;
			PTUP v131 = mw_mirth_type_StackType_expand(v6, VTUP(MKTUP(in_StackType_3)), &v130);
			PTUP branch_ZPlusMirth_132;
			PTUP branch_StackType_133;
			switch (PTREXTRA(v131)) {
				case 0LL: { // Error
					PTUP v134 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(v129)), VTUP(MKTUP(v127)), value_u64(MKU64(v128)));
					PTUP v135;
					PTUP v136 = mw_mirth_type_StackType_unifyZ_errorZBang(v130, v134, &v135);
					branch_StackType_133 = v136;
					branch_ZPlusMirth_132 = v135;
				} break;
				case 4LL: { // Meta
					uint64_t v137 = mtp_mirth_type_StackType_Meta(v131);
					PTUP v138 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(v129)), VTUP(MKTUP(v127)), value_u64(MKU64(v128)));
					PTUP v139 = mw_mirth_type_StackType_ZToType(v138);
					PTUP v140;
					PTUP v141 = mw_mirth_type_MetaVar_unifyZBang(v130, v139, v137, &v140);
					PTUP v142 = mw_mirth_type_Type_ZToStackType(v141);
					branch_StackType_133 = v142;
					branch_ZPlusMirth_132 = v140;
				} break;
				case 1LL: { // Ignore
					PTUP v143 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(v129)), VTUP(MKTUP(v127)), value_u64(MKU64(v128)));
					branch_StackType_133 = v143;
					branch_ZPlusMirth_132 = v130;
				} break;
				default: {
					incref(MKU64(v128));
					incref(MKTUP(v131));
					PTUP v144;
					PTUP v145 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v130, value_u64(MKU64(v128)), VTUP(MKTUP(v131)), &v144);
					PTUP branch_ZPlusMirth_146;
					PTUP branch_StackType_147;
					switch (PTREXTRA(v145)) {
						case 1LL: { // Some
							VAL v148 = mtp_std_maybe_Maybe_1_Some(v145);
							decref(MKTUP(VTUP(MKTUP(v131))));
							VAL v149 = ((TUP*)PTRPTR(value_tup(v148)))->cells[0];
							VAL v150 = ((TUP*)PTRPTR(value_tup(v148)))->cells[1];
							tup_decref_outer(value_tup(v148));
							PTUP v151;
							PTUP v152 = mw_mirth_type_StackType_unifyZBang(v144, VTUP(MKTUP(v129)), VTUP(v149), &v151);
							PTUP v153;
							PTUP v154 = mw_mirth_type_Type_unifyZBang(v151, VTUP(MKTUP(VTUP(MKTUP(v127)))), VTUP(MKTUP(VTUP(v150))), &v153);
							PTUP v155 = mtw_mirth_type_StackType_ConsLabel(v152, v154, value_u64(MKU64(v128)));
							branch_StackType_147 = v155;
							branch_ZPlusMirth_146 = v153;
						} break;
						case 0LL: { // None
							PTUP v156 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(v129)), VTUP(MKTUP(v127)), value_u64(MKU64(v128)));
							PTUP v157;
							PTUP v158 = mw_mirth_type_StackType_unifyZ_failedZBang(v144, v156, VTUP(MKTUP(v131)), &v157);
							branch_StackType_147 = v158;
							branch_ZPlusMirth_146 = v157;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_133 = branch_StackType_147;
					branch_ZPlusMirth_132 = branch_ZPlusMirth_146;
				} break;
			}
			branch_StackType_9 = branch_StackType_133;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_132;
		} break;
		case 8LL: { // WithLabel
			PTUP v159;
			uint64_t v160;
			PTUP v161 = mtp_mirth_type_StackType_WithLabel(v7, &v159, &v160);
			PTUP v162;
			PTUP v163 = mw_mirth_type_StackType_expand(v6, VTUP(MKTUP(in_StackType_3)), &v162);
			PTUP branch_ZPlusMirth_164;
			PTUP branch_StackType_165;
			switch (PTREXTRA(v163)) {
				case 0LL: { // Error
					PTUP v166 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(v161)), VTUP(MKTUP(v159)), value_u64(MKU64(v160)));
					PTUP v167;
					PTUP v168 = mw_mirth_type_StackType_unifyZ_errorZBang(v162, v166, &v167);
					branch_StackType_165 = v168;
					branch_ZPlusMirth_164 = v167;
				} break;
				case 4LL: { // Meta
					uint64_t v169 = mtp_mirth_type_StackType_Meta(v163);
					PTUP v170 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(v161)), VTUP(MKTUP(v159)), value_u64(MKU64(v160)));
					PTUP v171 = mw_mirth_type_StackType_ZToType(v170);
					PTUP v172;
					PTUP v173 = mw_mirth_type_MetaVar_unifyZBang(v162, v171, v169, &v172);
					PTUP v174 = mw_mirth_type_Type_ZToStackType(v173);
					branch_StackType_165 = v174;
					branch_ZPlusMirth_164 = v172;
				} break;
				case 1LL: { // Ignore
					PTUP v175 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(v161)), VTUP(MKTUP(v159)), value_u64(MKU64(v160)));
					branch_StackType_165 = v175;
					branch_ZPlusMirth_164 = v162;
				} break;
				default: {
					incref(MKU64(v160));
					incref(MKTUP(v163));
					PTUP v176;
					PTUP v177 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v162, value_u64(MKU64(v160)), VTUP(MKTUP(v163)), &v176);
					PTUP branch_ZPlusMirth_178;
					PTUP branch_StackType_179;
					switch (PTREXTRA(v177)) {
						case 1LL: { // Some
							VAL v180 = mtp_std_maybe_Maybe_1_Some(v177);
							decref(MKTUP(VTUP(MKTUP(v163))));
							VAL v181 = ((TUP*)PTRPTR(value_tup(v180)))->cells[0];
							VAL v182 = ((TUP*)PTRPTR(value_tup(v180)))->cells[1];
							tup_decref_outer(value_tup(v180));
							PTUP v183;
							PTUP v184 = mw_mirth_type_StackType_unifyZBang(v176, VTUP(MKTUP(v161)), VTUP(v181), &v183);
							PTUP v185;
							PTUP v186 = mw_mirth_type_Resource_unifyZBang(v183, VTUP(MKTUP(VTUP(MKTUP(v159)))), VTUP(MKTUP(VTUP(v182))), &v185);
							PTUP v187 = mtw_mirth_type_StackType_WithLabel(v184, v186, value_u64(MKU64(v160)));
							branch_StackType_179 = v187;
							branch_ZPlusMirth_178 = v185;
						} break;
						case 0LL: { // None
							PTUP v188 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(v161)), VTUP(MKTUP(v159)), value_u64(MKU64(v160)));
							PTUP v189;
							PTUP v190 = mw_mirth_type_StackType_unifyZ_failedZBang(v176, v188, VTUP(MKTUP(v163)), &v189);
							branch_StackType_179 = v190;
							branch_ZPlusMirth_178 = v189;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_165 = branch_StackType_179;
					branch_ZPlusMirth_164 = branch_ZPlusMirth_178;
				} break;
			}
			branch_StackType_9 = branch_StackType_165;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_164;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_StackType_9;
}
static PTUP mw_mirth_type_StackType_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_StackType_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Error
			PTUP v9 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			PTUP v11 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_8 = v11;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 4LL: { // Meta
			uint64_t v12 = mtp_mirth_type_StackType_Meta(v6);
			PTUP v13;
			PTUP v14 = mw_mirth_type_MetaVar_unifyZ_errorZBang(v5, v12, &v13);
			PTUP v15 = mw_mirth_type_Type_ZToStackType(v14);
			branch_StackType_8 = v15;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 3LL: { // Var
			uint64_t v16 = mtp_mirth_type_StackType_Var(v6);
			PTUP v17 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_8 = v17;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 5LL: { // Cons
			PTUP v18;
			PTUP v19 = mtp_mirth_type_StackType_Cons(v6, &v18);
			PTUP v20;
			PTUP v21 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v19, &v20);
			decref(MKTUP(v21));
			PTUP v22;
			PTUP v23 = mw_mirth_type_Type_unifyZ_errorZBang(v20, v18, &v22);
			decref(MKTUP(v23));
			PTUP v24 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_8 = v24;
			branch_ZPlusMirth_7 = v22;
		} break;
		case 7LL: { // With
			PTUP v25;
			PTUP v26 = mtp_mirth_type_StackType_With(v6, &v25);
			PTUP v27;
			PTUP v28 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v26, &v27);
			decref(MKTUP(v28));
			PTUP v29;
			PTUP v30 = mw_mirth_type_Resource_unifyZ_errorZBang(v27, v25, &v29);
			decref(MKTUP(v30));
			PTUP v31 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_8 = v31;
			branch_ZPlusMirth_7 = v29;
		} break;
		case 6LL: { // ConsLabel
			PTUP v32;
			uint64_t v33;
			PTUP v34 = mtp_mirth_type_StackType_ConsLabel(v6, &v32, &v33);
			PTUP v35;
			PTUP v36 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v34, &v35);
			decref(MKTUP(v36));
			PTUP v37;
			PTUP v38 = mw_mirth_type_Type_unifyZ_errorZBang(v35, v32, &v37);
			decref(MKTUP(v38));
			PTUP v39 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_8 = v39;
			branch_ZPlusMirth_7 = v37;
		} break;
		case 8LL: { // WithLabel
			PTUP v40;
			uint64_t v41;
			PTUP v42 = mtp_mirth_type_StackType_WithLabel(v6, &v40, &v41);
			PTUP v43;
			PTUP v44 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v42, &v43);
			decref(MKTUP(v44));
			PTUP v45;
			PTUP v46 = mw_mirth_type_Resource_unifyZ_errorZBang(v43, v40, &v45);
			decref(MKTUP(v46));
			PTUP v47 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_8 = v47;
			branch_ZPlusMirth_7 = v45;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_StackType_8;
}
static PTUP mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Error
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			PTUP v11 = PTRMK(0LL /* Error */,0,0);
			PTUP r12 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r12))->size = 2;
			((TUP*)PTRPTR(r12))->cells[1] = MKTUP(v11);
			((TUP*)PTRPTR(r12))->cells[0] = MKTUP(v10);
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(r12));
			branch_Maybe_9 = v13;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 1LL: { // Ignore
			PTUP v14 = PTRMK(1LL /* Ignore */,0,0);
			PTUP v15 = PTRMK(1LL /* Ignore */,0,0);
			PTUP r16 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r16))->size = 2;
			((TUP*)PTRPTR(r16))->cells[1] = MKTUP(v15);
			((TUP*)PTRPTR(r16))->cells[0] = MKTUP(v14);
			PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKTUP(r16));
			branch_Maybe_9 = v17;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 2LL: { // Unit
			PTUP v18 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v18;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 3LL: { // Var
			uint64_t v19 = mtp_mirth_type_StackType_Var(v7);
			decref(MKU64(v19));
			decref(MKU64(in_Label_2));
			PTUP v20 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v20;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 7LL: { // With
			PTUP v21;
			PTUP v22 = mtp_mirth_type_StackType_With(v7, &v21);
			PTUP v23;
			PTUP v24 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v6, in_Label_2, v22, &v23);
			PTUP v25;
			PTUP v26 = mw_std_maybe_Maybe_1_map_1_sp4(v21, v24, &v25);
			decref(MKTUP(v26));
			branch_Maybe_9 = VTUP(MKTUP(v25));
			branch_ZPlusMirth_8 = v23;
		} break;
		case 5LL: { // Cons
			PTUP v27;
			PTUP v28 = mtp_mirth_type_StackType_Cons(v7, &v27);
			PTUP v29;
			PTUP v30 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v6, in_Label_2, v28, &v29);
			PTUP v31;
			PTUP v32 = mw_std_maybe_Maybe_1_map_1_sp5(v27, v30, &v31);
			decref(MKTUP(v32));
			branch_Maybe_9 = VTUP(MKTUP(v31));
			branch_ZPlusMirth_8 = v29;
		} break;
		case 6LL: { // ConsLabel
			PTUP v33;
			uint64_t v34;
			PTUP v35 = mtp_mirth_type_StackType_ConsLabel(v7, &v33, &v34);
			incref(MKU64(in_Label_2));
			incref(MKU64(v34));
			bool v36 = (value_u64(MKU64(v34)) == value_u64(MKU64(in_Label_2)));
			PTUP branch_ZPlusMirth_37;
			PTUP branch_Maybe_38;
			if (v36) {
				PTUP r39 = PTRMK(0,tup_new(2),0);
				((TUP*)PTRPTR(r39))->size = 2;
				((TUP*)PTRPTR(r39))->cells[1] = MKTUP(VTUP(MKTUP(v33)));
				((TUP*)PTRPTR(r39))->cells[0] = MKTUP(VTUP(MKTUP(v35)));
				PTUP v40 = mtw_std_maybe_Maybe_1_Some(MKTUP(r39));
				branch_Maybe_38 = v40;
				branch_ZPlusMirth_37 = v6;
			} else {
				PTUP v41;
				PTUP v42 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v6, value_u64(MKU64(in_Label_2)), VTUP(MKTUP(v35)), &v41);
				PTUP branch_ZPlusMirth_43;
				PTUP branch_Maybe_44;
				switch (PTREXTRA(VTUP(MKTUP(v42)))) {
					case 1LL: { // Some
						VAL v45 = mtp_std_maybe_Maybe_1_Some(VTUP(MKTUP(v42)));
						VAL v46 = ((TUP*)PTRPTR(value_tup(v45)))->cells[0];
						VAL v47 = ((TUP*)PTRPTR(value_tup(v45)))->cells[1];
						tup_decref_outer(value_tup(v45));
						PTUP v48 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(VTUP(v46))), VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v33)))))), value_u64(MKU64(value_u64(MKU64(value_u64(MKU64(v34)))))));
						PTUP r49 = PTRMK(0,tup_new(2),0);
						((TUP*)PTRPTR(r49))->size = 2;
						((TUP*)PTRPTR(r49))->cells[1] = MKTUP(VTUP(v47));
						((TUP*)PTRPTR(r49))->cells[0] = MKTUP(v48);
						PTUP v50 = mtw_std_maybe_Maybe_1_Some(MKTUP(r49));
						branch_Maybe_44 = v50;
						branch_ZPlusMirth_43 = v41;
					} break;
					case 0LL: { // None
						decref(MKU64(value_u64(MKU64(v34))));
						decref(MKTUP(VTUP(MKTUP(v33))));
						PTUP v51 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_44 = v51;
						branch_ZPlusMirth_43 = v41;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_38 = branch_Maybe_44;
				branch_ZPlusMirth_37 = branch_ZPlusMirth_43;
			}
			branch_Maybe_9 = branch_Maybe_38;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_37;
		} break;
		case 8LL: { // WithLabel
			PTUP v52;
			uint64_t v53;
			PTUP v54 = mtp_mirth_type_StackType_WithLabel(v7, &v52, &v53);
			incref(MKU64(in_Label_2));
			incref(MKU64(v53));
			bool v55 = (value_u64(MKU64(v53)) == value_u64(MKU64(in_Label_2)));
			PTUP branch_ZPlusMirth_56;
			PTUP branch_Maybe_57;
			if (v55) {
				decref(MKU64(value_u64(MKU64(v53))));
				decref(MKTUP(VTUP(MKTUP(v52))));
				decref(MKTUP(VTUP(MKTUP(v54))));
				decref(MKU64(value_u64(MKU64(in_Label_2))));
				PTUP v58 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_57 = v58;
				branch_ZPlusMirth_56 = v6;
			} else {
				PTUP v59;
				PTUP v60 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v6, value_u64(MKU64(in_Label_2)), VTUP(MKTUP(v54)), &v59);
				PTUP branch_ZPlusMirth_61;
				PTUP branch_Maybe_62;
				switch (PTREXTRA(VTUP(MKTUP(v60)))) {
					case 1LL: { // Some
						VAL v63 = mtp_std_maybe_Maybe_1_Some(VTUP(MKTUP(v60)));
						VAL v64 = ((TUP*)PTRPTR(value_tup(v63)))->cells[0];
						VAL v65 = ((TUP*)PTRPTR(value_tup(v63)))->cells[1];
						tup_decref_outer(value_tup(v63));
						PTUP v66 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(VTUP(v64))), VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v52)))))), value_u64(MKU64(value_u64(MKU64(value_u64(MKU64(v53)))))));
						PTUP r67 = PTRMK(0,tup_new(2),0);
						((TUP*)PTRPTR(r67))->size = 2;
						((TUP*)PTRPTR(r67))->cells[1] = MKTUP(VTUP(v65));
						((TUP*)PTRPTR(r67))->cells[0] = MKTUP(v66);
						PTUP v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(r67));
						branch_Maybe_62 = v68;
						branch_ZPlusMirth_61 = v59;
					} break;
					case 0LL: { // None
						decref(MKU64(value_u64(MKU64(v53))));
						decref(MKTUP(VTUP(MKTUP(v52))));
						PTUP v69 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_62 = v69;
						branch_ZPlusMirth_61 = v59;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_57 = branch_Maybe_62;
				branch_ZPlusMirth_56 = branch_ZPlusMirth_61;
			}
			branch_Maybe_9 = branch_Maybe_57;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_56;
		} break;
		case 4LL: { // Meta
			uint64_t v70 = mtp_mirth_type_StackType_Meta(v7);
			PTUP v71;
			PTUP v72 = mw_mirth_type_StackType_FreshZBang(v6, &v71);
			PTUP v73;
			PTUP v74 = mw_mirth_type_Type_FreshZBang(v71, &v73);
			incref(MKTUP(v72));
			incref(MKTUP(v74));
			PTUP v75 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(v72)), VTUP(MKTUP(v74)), in_Label_2);
			PTUP v76 = mw_mirth_type_StackType_ZToType(v75);
			PTUP v77 = mtw_std_maybe_Maybe_1_Some(MKTUP(v76));
			PTUP v78;
			mw_mirth_type_MetaVar_typeZAskZBang(v73, v77, v70, &v78);
			PTUP r79 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r79))->size = 2;
			((TUP*)PTRPTR(r79))->cells[1] = MKTUP(VTUP(MKTUP(v74)));
			((TUP*)PTRPTR(r79))->cells[0] = MKTUP(VTUP(MKTUP(v72)));
			PTUP v80 = mtw_std_maybe_Maybe_1_Some(MKTUP(r79));
			branch_Maybe_9 = v80;
			branch_ZPlusMirth_8 = v78;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static PTUP mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Error
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			PTUP v11 = PTRMK(0LL /* Error */,0,0);
			PTUP r12 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r12))->size = 2;
			((TUP*)PTRPTR(r12))->cells[1] = MKTUP(v11);
			((TUP*)PTRPTR(r12))->cells[0] = MKTUP(v10);
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(r12));
			branch_Maybe_9 = v13;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 1LL: { // Ignore
			PTUP v14 = PTRMK(1LL /* Ignore */,0,0);
			PTUP v15 = PTRMK(1LL /* Ignore */,0,0);
			PTUP r16 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r16))->size = 2;
			((TUP*)PTRPTR(r16))->cells[1] = MKTUP(v15);
			((TUP*)PTRPTR(r16))->cells[0] = MKTUP(v14);
			PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKTUP(r16));
			branch_Maybe_9 = v17;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 2LL: { // Unit
			PTUP v18 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v18;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 3LL: { // Var
			uint64_t v19 = mtp_mirth_type_StackType_Var(v7);
			decref(MKU64(v19));
			decref(MKU64(in_Label_2));
			PTUP v20 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v20;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 7LL: { // With
			PTUP v21;
			PTUP v22 = mtp_mirth_type_StackType_With(v7, &v21);
			PTUP v23;
			PTUP v24 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v6, in_Label_2, v22, &v23);
			PTUP v25;
			PTUP v26 = mw_std_maybe_Maybe_1_map_1_sp4(v21, v24, &v25);
			decref(MKTUP(v26));
			branch_Maybe_9 = VTUP(MKTUP(v25));
			branch_ZPlusMirth_8 = v23;
		} break;
		case 5LL: { // Cons
			PTUP v27;
			PTUP v28 = mtp_mirth_type_StackType_Cons(v7, &v27);
			PTUP v29;
			PTUP v30 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v6, in_Label_2, v28, &v29);
			PTUP v31;
			PTUP v32 = mw_std_maybe_Maybe_1_map_1_sp5(v27, v30, &v31);
			decref(MKTUP(v32));
			branch_Maybe_9 = VTUP(MKTUP(v31));
			branch_ZPlusMirth_8 = v29;
		} break;
		case 6LL: { // ConsLabel
			PTUP v33;
			uint64_t v34;
			PTUP v35 = mtp_mirth_type_StackType_ConsLabel(v7, &v33, &v34);
			incref(MKU64(in_Label_2));
			incref(MKU64(v34));
			bool v36 = (value_u64(MKU64(v34)) == value_u64(MKU64(in_Label_2)));
			PTUP branch_ZPlusMirth_37;
			PTUP branch_Maybe_38;
			if (v36) {
				decref(MKU64(value_u64(MKU64(v34))));
				decref(MKTUP(VTUP(MKTUP(v33))));
				decref(MKTUP(VTUP(MKTUP(v35))));
				decref(MKU64(value_u64(MKU64(in_Label_2))));
				PTUP v39 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_38 = v39;
				branch_ZPlusMirth_37 = v6;
			} else {
				PTUP v40;
				PTUP v41 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v6, value_u64(MKU64(in_Label_2)), VTUP(MKTUP(v35)), &v40);
				PTUP branch_ZPlusMirth_42;
				PTUP branch_Maybe_43;
				switch (PTREXTRA(VTUP(MKTUP(v41)))) {
					case 1LL: { // Some
						VAL v44 = mtp_std_maybe_Maybe_1_Some(VTUP(MKTUP(v41)));
						VAL v45 = ((TUP*)PTRPTR(value_tup(v44)))->cells[0];
						VAL v46 = ((TUP*)PTRPTR(value_tup(v44)))->cells[1];
						tup_decref_outer(value_tup(v44));
						PTUP v47 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(VTUP(v45))), VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v33)))))), value_u64(MKU64(value_u64(MKU64(value_u64(MKU64(v34)))))));
						PTUP r48 = PTRMK(0,tup_new(2),0);
						((TUP*)PTRPTR(r48))->size = 2;
						((TUP*)PTRPTR(r48))->cells[1] = MKTUP(VTUP(v46));
						((TUP*)PTRPTR(r48))->cells[0] = MKTUP(v47);
						PTUP v49 = mtw_std_maybe_Maybe_1_Some(MKTUP(r48));
						branch_Maybe_43 = v49;
						branch_ZPlusMirth_42 = v40;
					} break;
					case 0LL: { // None
						decref(MKU64(value_u64(MKU64(v34))));
						decref(MKTUP(VTUP(MKTUP(v33))));
						PTUP v50 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_43 = v50;
						branch_ZPlusMirth_42 = v40;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_38 = branch_Maybe_43;
				branch_ZPlusMirth_37 = branch_ZPlusMirth_42;
			}
			branch_Maybe_9 = branch_Maybe_38;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_37;
		} break;
		case 8LL: { // WithLabel
			PTUP v51;
			uint64_t v52;
			PTUP v53 = mtp_mirth_type_StackType_WithLabel(v7, &v51, &v52);
			incref(MKU64(in_Label_2));
			incref(MKU64(v52));
			bool v54 = (value_u64(MKU64(v52)) == value_u64(MKU64(in_Label_2)));
			PTUP branch_ZPlusMirth_55;
			PTUP branch_Maybe_56;
			if (v54) {
				PTUP r57 = PTRMK(0,tup_new(2),0);
				((TUP*)PTRPTR(r57))->size = 2;
				((TUP*)PTRPTR(r57))->cells[1] = MKTUP(VTUP(MKTUP(v51)));
				((TUP*)PTRPTR(r57))->cells[0] = MKTUP(VTUP(MKTUP(v53)));
				PTUP v58 = mtw_std_maybe_Maybe_1_Some(MKTUP(r57));
				branch_Maybe_56 = v58;
				branch_ZPlusMirth_55 = v6;
			} else {
				PTUP v59;
				PTUP v60 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v6, value_u64(MKU64(in_Label_2)), VTUP(MKTUP(v53)), &v59);
				PTUP branch_ZPlusMirth_61;
				PTUP branch_Maybe_62;
				switch (PTREXTRA(VTUP(MKTUP(v60)))) {
					case 1LL: { // Some
						VAL v63 = mtp_std_maybe_Maybe_1_Some(VTUP(MKTUP(v60)));
						VAL v64 = ((TUP*)PTRPTR(value_tup(v63)))->cells[0];
						VAL v65 = ((TUP*)PTRPTR(value_tup(v63)))->cells[1];
						tup_decref_outer(value_tup(v63));
						PTUP v66 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(VTUP(v64))), VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v51)))))), value_u64(MKU64(value_u64(MKU64(value_u64(MKU64(v52)))))));
						PTUP r67 = PTRMK(0,tup_new(2),0);
						((TUP*)PTRPTR(r67))->size = 2;
						((TUP*)PTRPTR(r67))->cells[1] = MKTUP(VTUP(v65));
						((TUP*)PTRPTR(r67))->cells[0] = MKTUP(v66);
						PTUP v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(r67));
						branch_Maybe_62 = v68;
						branch_ZPlusMirth_61 = v59;
					} break;
					case 0LL: { // None
						decref(MKU64(value_u64(MKU64(v52))));
						decref(MKTUP(VTUP(MKTUP(v51))));
						PTUP v69 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_62 = v69;
						branch_ZPlusMirth_61 = v59;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_56 = branch_Maybe_62;
				branch_ZPlusMirth_55 = branch_ZPlusMirth_61;
			}
			branch_Maybe_9 = branch_Maybe_56;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_55;
		} break;
		case 4LL: { // Meta
			uint64_t v70 = mtp_mirth_type_StackType_Meta(v7);
			PTUP v71;
			PTUP v72 = mw_mirth_type_StackType_FreshZBang(v6, &v71);
			PTUP v73;
			PTUP v74 = mw_mirth_type_Resource_FreshZBang(v71, &v73);
			incref(MKTUP(v72));
			incref(MKTUP(v74));
			PTUP v75 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(v72)), VTUP(MKTUP(v74)), in_Label_2);
			PTUP v76 = mw_mirth_type_StackType_ZToType(v75);
			PTUP v77 = mtw_std_maybe_Maybe_1_Some(MKTUP(v76));
			PTUP v78;
			mw_mirth_type_MetaVar_typeZAskZBang(v73, v77, v70, &v78);
			PTUP r79 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r79))->size = 2;
			((TUP*)PTRPTR(r79))->cells[1] = MKTUP(VTUP(MKTUP(v74)));
			((TUP*)PTRPTR(r79))->cells[0] = MKTUP(VTUP(MKTUP(v72)));
			PTUP v80 = mtw_std_maybe_Maybe_1_Some(MKTUP(r79));
			branch_Maybe_9 = v80;
			branch_ZPlusMirth_8 = v78;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static PTUP mw_mirth_type_StackType_forceZ_consZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Error
			PTUP v9 = PTRMK(0LL /* Error */,0,0);
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			PTUP r11 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r11))->size = 2;
			((TUP*)PTRPTR(r11))->cells[1] = MKTUP(v10);
			((TUP*)PTRPTR(r11))->cells[0] = MKTUP(v9);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(r11));
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			PTUP v13 = PTRMK(1LL /* Ignore */,0,0);
			PTUP v14 = PTRMK(1LL /* Ignore */,0,0);
			PTUP r15 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r15))->size = 2;
			((TUP*)PTRPTR(r15))->cells[1] = MKTUP(v14);
			((TUP*)PTRPTR(r15))->cells[0] = MKTUP(v13);
			PTUP v16 = mtw_std_maybe_Maybe_1_Some(MKTUP(r15));
			branch_Maybe_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			PTUP v17 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v17;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v18 = mtp_mirth_type_StackType_Var(v6);
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v19;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 5LL: { // Cons
			PTUP v20;
			PTUP v21 = mtp_mirth_type_StackType_Cons(v6, &v20);
			PTUP r22 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r22))->size = 2;
			((TUP*)PTRPTR(r22))->cells[1] = MKTUP(v20);
			((TUP*)PTRPTR(r22))->cells[0] = MKTUP(v21);
			PTUP v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(r22));
			branch_Maybe_8 = v23;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 7LL: { // With
			PTUP v24;
			PTUP v25 = mtp_mirth_type_StackType_With(v6, &v24);
			PTUP v26;
			PTUP v27 = mw_mirth_type_StackType_forceZ_consZAskZBang(v5, v25, &v26);
			PTUP v28;
			PTUP v29 = mw_std_maybe_Maybe_1_map_1_sp4(v24, v27, &v28);
			decref(MKTUP(v29));
			branch_Maybe_8 = VTUP(MKTUP(v28));
			branch_ZPlusMirth_7 = v26;
		} break;
		case 6LL: { // ConsLabel
			PTUP v30;
			uint64_t v31;
			PTUP v32 = mtp_mirth_type_StackType_ConsLabel(v6, &v30, &v31);
			PTUP v33;
			PTUP v34 = mw_mirth_type_StackType_forceZ_consZAskZBang(v5, VTUP(MKTUP(v32)), &v33);
			PTUP branch_ZPlusMirth_35;
			PTUP branch_Maybe_36;
			switch (PTREXTRA(v34)) {
				case 1LL: { // Some
					VAL v37 = mtp_std_maybe_Maybe_1_Some(v34);
					VAL v38 = ((TUP*)PTRPTR(value_tup(v37)))->cells[0];
					VAL v39 = ((TUP*)PTRPTR(value_tup(v37)))->cells[1];
					tup_decref_outer(value_tup(v37));
					PTUP v40 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(VTUP(v38))), VTUP(MKTUP(VTUP(MKTUP(v30)))), value_u64(MKU64(value_u64(MKU64(v31)))));
					PTUP r41 = PTRMK(0,tup_new(2),0);
					((TUP*)PTRPTR(r41))->size = 2;
					((TUP*)PTRPTR(r41))->cells[1] = MKTUP(VTUP(v39));
					((TUP*)PTRPTR(r41))->cells[0] = MKTUP(v40);
					PTUP v42 = mtw_std_maybe_Maybe_1_Some(MKTUP(r41));
					branch_Maybe_36 = v42;
					branch_ZPlusMirth_35 = v33;
				} break;
				case 0LL: { // None
					decref(MKU64(v31));
					decref(MKTUP(v30));
					PTUP v43 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_36 = v43;
					branch_ZPlusMirth_35 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_8 = branch_Maybe_36;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_35;
		} break;
		case 8LL: { // WithLabel
			PTUP v44;
			uint64_t v45;
			PTUP v46 = mtp_mirth_type_StackType_WithLabel(v6, &v44, &v45);
			PTUP v47;
			PTUP v48 = mw_mirth_type_StackType_forceZ_consZAskZBang(v5, VTUP(MKTUP(v46)), &v47);
			PTUP branch_ZPlusMirth_49;
			PTUP branch_Maybe_50;
			switch (PTREXTRA(v48)) {
				case 1LL: { // Some
					VAL v51 = mtp_std_maybe_Maybe_1_Some(v48);
					VAL v52 = ((TUP*)PTRPTR(value_tup(v51)))->cells[0];
					VAL v53 = ((TUP*)PTRPTR(value_tup(v51)))->cells[1];
					tup_decref_outer(value_tup(v51));
					PTUP v54 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(VTUP(v52))), VTUP(MKTUP(VTUP(MKTUP(v44)))), value_u64(MKU64(value_u64(MKU64(v45)))));
					PTUP r55 = PTRMK(0,tup_new(2),0);
					((TUP*)PTRPTR(r55))->size = 2;
					((TUP*)PTRPTR(r55))->cells[1] = MKTUP(VTUP(v53));
					((TUP*)PTRPTR(r55))->cells[0] = MKTUP(v54);
					PTUP v56 = mtw_std_maybe_Maybe_1_Some(MKTUP(r55));
					branch_Maybe_50 = v56;
					branch_ZPlusMirth_49 = v47;
				} break;
				case 0LL: { // None
					decref(MKU64(v45));
					decref(MKTUP(v44));
					PTUP v57 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_50 = v57;
					branch_ZPlusMirth_49 = v47;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_8 = branch_Maybe_50;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_49;
		} break;
		case 4LL: { // Meta
			uint64_t v58 = mtp_mirth_type_StackType_Meta(v6);
			PTUP v59;
			PTUP v60 = mw_mirth_type_StackType_FreshZBang(v5, &v59);
			PTUP v61;
			PTUP v62 = mw_mirth_type_Type_FreshZBang(v59, &v61);
			incref(MKTUP(v60));
			incref(MKTUP(v62));
			PTUP v63 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(v60)), VTUP(MKTUP(v62)));
			PTUP v64 = mw_mirth_type_StackType_ZToType(v63);
			PTUP v65 = mtw_std_maybe_Maybe_1_Some(MKTUP(v64));
			PTUP v66;
			mw_mirth_type_MetaVar_typeZAskZBang(v61, v65, v58, &v66);
			PTUP r67 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r67))->size = 2;
			((TUP*)PTRPTR(r67))->cells[1] = MKTUP(VTUP(MKTUP(v62)));
			((TUP*)PTRPTR(r67))->cells[0] = MKTUP(VTUP(MKTUP(v60)));
			PTUP v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(r67));
			branch_Maybe_8 = v68;
			branch_ZPlusMirth_7 = v66;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_type_StackType_forceZ_withZAskZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Error
			PTUP v9 = PTRMK(0LL /* Error */,0,0);
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			PTUP r11 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r11))->size = 2;
			((TUP*)PTRPTR(r11))->cells[1] = MKTUP(v10);
			((TUP*)PTRPTR(r11))->cells[0] = MKTUP(v9);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(r11));
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			PTUP v13 = PTRMK(1LL /* Ignore */,0,0);
			PTUP v14 = PTRMK(1LL /* Ignore */,0,0);
			PTUP r15 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r15))->size = 2;
			((TUP*)PTRPTR(r15))->cells[1] = MKTUP(v14);
			((TUP*)PTRPTR(r15))->cells[0] = MKTUP(v13);
			PTUP v16 = mtw_std_maybe_Maybe_1_Some(MKTUP(r15));
			branch_Maybe_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			PTUP v17 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v17;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v18 = mtp_mirth_type_StackType_Var(v6);
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v19;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 7LL: { // With
			PTUP v20;
			PTUP v21 = mtp_mirth_type_StackType_With(v6, &v20);
			PTUP r22 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r22))->size = 2;
			((TUP*)PTRPTR(r22))->cells[1] = MKTUP(v20);
			((TUP*)PTRPTR(r22))->cells[0] = MKTUP(v21);
			PTUP v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(r22));
			branch_Maybe_8 = v23;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 5LL: { // Cons
			PTUP v24;
			PTUP v25 = mtp_mirth_type_StackType_Cons(v6, &v24);
			PTUP v26;
			PTUP v27 = mw_mirth_type_StackType_forceZ_withZAskZBang(v5, v25, &v26);
			PTUP v28;
			PTUP v29 = mw_std_maybe_Maybe_1_map_1_sp5(v24, v27, &v28);
			decref(MKTUP(v29));
			branch_Maybe_8 = VTUP(MKTUP(v28));
			branch_ZPlusMirth_7 = v26;
		} break;
		case 6LL: { // ConsLabel
			PTUP v30;
			uint64_t v31;
			PTUP v32 = mtp_mirth_type_StackType_ConsLabel(v6, &v30, &v31);
			PTUP v33;
			PTUP v34 = mw_mirth_type_StackType_forceZ_withZAskZBang(v5, VTUP(MKTUP(v32)), &v33);
			PTUP branch_ZPlusMirth_35;
			PTUP branch_Maybe_36;
			switch (PTREXTRA(v34)) {
				case 1LL: { // Some
					VAL v37 = mtp_std_maybe_Maybe_1_Some(v34);
					VAL v38 = ((TUP*)PTRPTR(value_tup(v37)))->cells[0];
					VAL v39 = ((TUP*)PTRPTR(value_tup(v37)))->cells[1];
					tup_decref_outer(value_tup(v37));
					PTUP v40 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(VTUP(v38))), VTUP(MKTUP(VTUP(MKTUP(v30)))), value_u64(MKU64(value_u64(MKU64(v31)))));
					PTUP r41 = PTRMK(0,tup_new(2),0);
					((TUP*)PTRPTR(r41))->size = 2;
					((TUP*)PTRPTR(r41))->cells[1] = MKTUP(VTUP(v39));
					((TUP*)PTRPTR(r41))->cells[0] = MKTUP(v40);
					PTUP v42 = mtw_std_maybe_Maybe_1_Some(MKTUP(r41));
					branch_Maybe_36 = v42;
					branch_ZPlusMirth_35 = v33;
				} break;
				case 0LL: { // None
					decref(MKU64(v31));
					decref(MKTUP(v30));
					PTUP v43 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_36 = v43;
					branch_ZPlusMirth_35 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_8 = branch_Maybe_36;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_35;
		} break;
		case 8LL: { // WithLabel
			PTUP v44;
			uint64_t v45;
			PTUP v46 = mtp_mirth_type_StackType_WithLabel(v6, &v44, &v45);
			PTUP v47;
			PTUP v48 = mw_mirth_type_StackType_forceZ_withZAskZBang(v5, VTUP(MKTUP(v46)), &v47);
			PTUP branch_ZPlusMirth_49;
			PTUP branch_Maybe_50;
			switch (PTREXTRA(v48)) {
				case 1LL: { // Some
					VAL v51 = mtp_std_maybe_Maybe_1_Some(v48);
					VAL v52 = ((TUP*)PTRPTR(value_tup(v51)))->cells[0];
					VAL v53 = ((TUP*)PTRPTR(value_tup(v51)))->cells[1];
					tup_decref_outer(value_tup(v51));
					PTUP v54 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(VTUP(v52))), VTUP(MKTUP(VTUP(MKTUP(v44)))), value_u64(MKU64(value_u64(MKU64(v45)))));
					PTUP r55 = PTRMK(0,tup_new(2),0);
					((TUP*)PTRPTR(r55))->size = 2;
					((TUP*)PTRPTR(r55))->cells[1] = MKTUP(VTUP(v53));
					((TUP*)PTRPTR(r55))->cells[0] = MKTUP(v54);
					PTUP v56 = mtw_std_maybe_Maybe_1_Some(MKTUP(r55));
					branch_Maybe_50 = v56;
					branch_ZPlusMirth_49 = v47;
				} break;
				case 0LL: { // None
					decref(MKU64(v45));
					decref(MKTUP(v44));
					PTUP v57 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_50 = v57;
					branch_ZPlusMirth_49 = v47;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_8 = branch_Maybe_50;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_49;
		} break;
		case 4LL: { // Meta
			uint64_t v58 = mtp_mirth_type_StackType_Meta(v6);
			PTUP v59;
			PTUP v60 = mw_mirth_type_StackType_FreshZBang(v5, &v59);
			PTUP v61;
			PTUP v62 = mw_mirth_type_Resource_FreshZBang(v59, &v61);
			incref(MKTUP(v60));
			incref(MKTUP(v62));
			PTUP v63 = mtw_mirth_type_StackType_With(VTUP(MKTUP(v60)), VTUP(MKTUP(v62)));
			PTUP v64 = mw_mirth_type_StackType_ZToType(v63);
			PTUP v65 = mtw_std_maybe_Maybe_1_Some(MKTUP(v64));
			PTUP v66;
			mw_mirth_type_MetaVar_typeZAskZBang(v61, v65, v58, &v66);
			PTUP r67 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r67))->size = 2;
			((TUP*)PTRPTR(r67))->cells[1] = MKTUP(VTUP(MKTUP(v62)));
			((TUP*)PTRPTR(r67))->cells[0] = MKTUP(VTUP(MKTUP(v60)));
			PTUP v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(r67));
			branch_Maybe_8 = v68;
			branch_ZPlusMirth_7 = v66;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static void mw_mirth_type_StackType_domZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	incref(MKTUP(v7));
	PTUP v8;
	bool v9 = mw_mirth_type_StackType_unitZAsk(v6, v7, &v8);
	STR* branch_ZPlusStr_10;
	PTUP branch_ZPlusMirth_11;
	if (v9) {
		decref(MKTUP(v7));
		branch_ZPlusMirth_11 = v8;
		branch_ZPlusStr_10 = in_ZPlusStr_2;
	} else {
		PTUP v12;
		STR* v13;
		mw_mirth_type_StackType_stackZThen(v8, in_ZPlusStr_2, v7, &v12, &v13);
		STR* v14;
		STRLIT(v14, " ", 1);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		branch_ZPlusMirth_11 = v12;
		branch_ZPlusStr_10 = v15;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_type_StackType_codZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	incref(MKTUP(v7));
	PTUP v8;
	bool v9 = mw_mirth_type_StackType_unitZAsk(v6, v7, &v8);
	STR* branch_ZPlusStr_10;
	PTUP branch_ZPlusMirth_11;
	if (v9) {
		decref(MKTUP(v7));
		branch_ZPlusMirth_11 = v8;
		branch_ZPlusStr_10 = in_ZPlusStr_2;
	} else {
		STR* v12;
		STRLIT(v12, " ", 1);
		STR* v13;
		mw_std_str_ZPlusStr_pushZ_strZBang(value_str(MKSTR(v12)), in_ZPlusStr_2, &v13);
		PTUP v14;
		STR* v15;
		mw_mirth_type_StackType_stackZThen(v8, v13, v7, &v14, &v15);
		branch_ZPlusMirth_11 = v14;
		branch_ZPlusStr_10 = v15;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_type_StackType_stackZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7;
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_split4(in_ZPlusMirth_1, in_StackType_3, &v6, &v7, &v8, &v9);
	PTUP v11;
	STR* v12;
	bool v13 = mw_mirth_type_StackTypeBase_baseZThen(v6, in_ZPlusStr_2, v10, &v11, &v12);
	bool v14 = true;
	PTUP r15 = v11;
	STR* r16 = v12;
	bool v17 = v13;
	PTUP v18 = v7;
	bool v19 = v14;
	bool v20 = v14;
	while (v20) {
		PTUP r21 = r15;
		STR* r22 = r16;
		bool v23 = v17;
		PTUP v24 = v18;
		bool v25 = v19;
		PTUP branch_ZPlusMirth_26;
		STR* branch_ZPlusStr_27;
		bool branch_Bool_28;
		PTUP branch_List_29;
		bool branch_Bool_30;
		switch (PTREXTRA(v24)) {
			case 1LL: { // Cons
				PTUP v31;
				VAL v32 = mtp_std_list_List_1_Cons(v24, &v31);
				STR* branch_ZPlusStr_33;
				if (v23) {
					STR* v34;
					STRLIT(v34, " ", 1);
					STR* v35;
					mw_std_str_ZPlusStr_pushZ_strZBang(v34, r22, &v35);
					branch_ZPlusStr_33 = v35;
				} else {
					branch_ZPlusStr_33 = r22;
				}
				VAL v36 = ((TUP*)PTRPTR(value_tup(v32)))->cells[0];
				VAL v37 = ((TUP*)PTRPTR(value_tup(v32)))->cells[1];
				tup_decref_outer(value_tup(v32));
				PTUP v38;
				STR* v39;
				mw_mirth_label_Label_nameZThen(r21, branch_ZPlusStr_33, value_u64(v37), &v38, &v39);
				STR* v40;
				STRLIT(v40, ":", 1);
				STR* v41;
				mw_std_str_ZPlusStr_pushZ_strZBang(v40, v39, &v41);
				PTUP branch_ZPlusMirth_42;
				STR* branch_ZPlusStr_43;
				switch (PTREXTRA(VTUP(v36))) {
					case 0LL: { // Left
						VAL v44 = mtp_std_either_Either_2_Left(VTUP(v36));
						PTUP v45;
						STR* v46;
						mw_mirth_type_Type_typeZThen(v38, v41, VTUP(v44), &v45, &v46);
						branch_ZPlusStr_43 = v46;
						branch_ZPlusMirth_42 = v45;
					} break;
					case 1LL: { // Right
						VAL v47 = mtp_std_either_Either_2_Right(VTUP(v36));
						PTUP v48;
						STR* v49;
						mw_mirth_type_Resource_typeZThen(v38, v41, VTUP(v47), &v48, &v49);
						branch_ZPlusStr_43 = v49;
						branch_ZPlusMirth_42 = v48;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v50 = true;
				bool v51 = true;
				branch_Bool_30 = v51;
				branch_List_29 = v31;
				branch_Bool_28 = v50;
				branch_ZPlusStr_27 = branch_ZPlusStr_43;
				branch_ZPlusMirth_26 = branch_ZPlusMirth_42;
			} break;
			case 0LL: { // Nil
				PTUP v52 = PTRMK(0LL /* Nil */,0,0);
				bool v53 = false;
				branch_Bool_30 = v53;
				branch_List_29 = v52;
				branch_Bool_28 = v23;
				branch_ZPlusStr_27 = r22;
				branch_ZPlusMirth_26 = r21;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v20 = branch_Bool_30;
		v19 = branch_Bool_30;
		v18 = branch_List_29;
		v17 = branch_Bool_28;
		r16 = branch_ZPlusStr_27;
		r15 = branch_ZPlusMirth_26;
	}
	decref(MKTUP(v18));
	bool v54 = true;
	PTUP r55 = r15;
	STR* r56 = r16;
	bool v57 = v17;
	PTUP v58 = v9;
	bool v59 = v54;
	bool v60 = v54;
	while (v60) {
		PTUP r61 = r55;
		STR* r62 = r56;
		bool v63 = v57;
		PTUP v64 = v58;
		bool v65 = v59;
		PTUP branch_ZPlusMirth_66;
		STR* branch_ZPlusStr_67;
		bool branch_Bool_68;
		PTUP branch_List_69;
		bool branch_Bool_70;
		switch (PTREXTRA(v64)) {
			case 1LL: { // Cons
				PTUP v71;
				VAL v72 = mtp_std_list_List_1_Cons(v64, &v71);
				STR* branch_ZPlusStr_73;
				if (v63) {
					STR* v74;
					STRLIT(v74, " ", 1);
					STR* v75;
					mw_std_str_ZPlusStr_pushZ_strZBang(v74, r62, &v75);
					branch_ZPlusStr_73 = v75;
				} else {
					branch_ZPlusStr_73 = r62;
				}
				PTUP v76;
				STR* v77;
				mw_mirth_type_Resource_typeZThen(r61, branch_ZPlusStr_73, VTUP(v72), &v76, &v77);
				bool v78 = true;
				bool v79 = true;
				branch_Bool_70 = v79;
				branch_List_69 = v71;
				branch_Bool_68 = v78;
				branch_ZPlusStr_67 = v77;
				branch_ZPlusMirth_66 = v76;
			} break;
			case 0LL: { // Nil
				PTUP v80 = PTRMK(0LL /* Nil */,0,0);
				bool v81 = false;
				branch_Bool_70 = v81;
				branch_List_69 = v80;
				branch_Bool_68 = v63;
				branch_ZPlusStr_67 = r62;
				branch_ZPlusMirth_66 = r61;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v60 = branch_Bool_70;
		v59 = branch_Bool_70;
		v58 = branch_List_69;
		v57 = branch_Bool_68;
		r56 = branch_ZPlusStr_67;
		r55 = branch_ZPlusMirth_66;
	}
	decref(MKTUP(v58));
	bool v82 = true;
	PTUP r83 = r55;
	STR* r84 = r56;
	bool v85 = v57;
	PTUP v86 = v8;
	bool v87 = v82;
	bool v88 = v82;
	while (v88) {
		PTUP r89 = r83;
		STR* r90 = r84;
		bool v91 = v85;
		PTUP v92 = v86;
		bool v93 = v87;
		PTUP branch_ZPlusMirth_94;
		STR* branch_ZPlusStr_95;
		bool branch_Bool_96;
		PTUP branch_List_97;
		bool branch_Bool_98;
		switch (PTREXTRA(v92)) {
			case 1LL: { // Cons
				PTUP v99;
				VAL v100 = mtp_std_list_List_1_Cons(v92, &v99);
				STR* branch_ZPlusStr_101;
				if (v91) {
					STR* v102;
					STRLIT(v102, " ", 1);
					STR* v103;
					mw_std_str_ZPlusStr_pushZ_strZBang(v102, r90, &v103);
					branch_ZPlusStr_101 = v103;
				} else {
					branch_ZPlusStr_101 = r90;
				}
				PTUP v104;
				STR* v105;
				mw_mirth_type_Type_typeZThen(r89, branch_ZPlusStr_101, VTUP(v100), &v104, &v105);
				bool v106 = true;
				bool v107 = true;
				branch_Bool_98 = v107;
				branch_List_97 = v99;
				branch_Bool_96 = v106;
				branch_ZPlusStr_95 = v105;
				branch_ZPlusMirth_94 = v104;
			} break;
			case 0LL: { // Nil
				PTUP v108 = PTRMK(0LL /* Nil */,0,0);
				bool v109 = false;
				branch_Bool_98 = v109;
				branch_List_97 = v108;
				branch_Bool_96 = v91;
				branch_ZPlusStr_95 = r90;
				branch_ZPlusMirth_94 = r89;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v88 = branch_Bool_98;
		v87 = branch_Bool_98;
		v86 = branch_List_97;
		v85 = branch_Bool_96;
		r84 = branch_ZPlusStr_95;
		r83 = branch_ZPlusMirth_94;
	}
	decref(MKTUP(v86));
	*out_ZPlusStr_5 = r84;
	*out_ZPlusMirth_4 = r83;
}
static PTUP mw_mirth_type_StackType_semifreshen (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_StackType_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_StackType_10;
	PTUP branch_StackType_11;
	switch (PTREXTRA(v8)) {
		case 2LL: { // Unit
			incref(MKTUP(in_StackType_2));
			branch_StackType_11 = in_StackType_2;
			branch_StackType_10 = in_StackType_2;
			branch_ZPlusMirth_9 = v7;
		} break;
		case 5LL: { // Cons
			PTUP v12;
			PTUP v13 = mtp_mirth_type_StackType_Cons(v8, &v12);
			PTUP v14;
			PTUP v15;
			PTUP v16 = mw_mirth_type_StackType_semifreshen(v7, in_StackType_2, v13, &v14, &v15);
			PTUP v17 = mtw_mirth_type_StackType_Cons(v15, v12);
			branch_StackType_11 = v17;
			branch_StackType_10 = v16;
			branch_ZPlusMirth_9 = v14;
		} break;
		case 7LL: { // With
			PTUP v18;
			PTUP v19 = mtp_mirth_type_StackType_With(v8, &v18);
			PTUP v20;
			PTUP v21;
			PTUP v22 = mw_mirth_type_StackType_semifreshen(v7, in_StackType_2, v19, &v20, &v21);
			PTUP v23 = mtw_mirth_type_StackType_With(v21, v18);
			branch_StackType_11 = v23;
			branch_StackType_10 = v22;
			branch_ZPlusMirth_9 = v20;
		} break;
		case 6LL: { // ConsLabel
			PTUP v24;
			uint64_t v25;
			PTUP v26 = mtp_mirth_type_StackType_ConsLabel(v8, &v24, &v25);
			PTUP v27;
			PTUP v28;
			PTUP v29 = mw_mirth_type_StackType_semifreshen(v7, in_StackType_2, v26, &v27, &v28);
			PTUP v30 = mtw_mirth_type_StackType_ConsLabel(v28, VTUP(MKTUP(v24)), value_u64(MKU64(v25)));
			branch_StackType_11 = v30;
			branch_StackType_10 = v29;
			branch_ZPlusMirth_9 = v27;
		} break;
		case 8LL: { // WithLabel
			PTUP v31;
			uint64_t v32;
			PTUP v33 = mtp_mirth_type_StackType_WithLabel(v8, &v31, &v32);
			PTUP v34;
			PTUP v35;
			PTUP v36 = mw_mirth_type_StackType_semifreshen(v7, in_StackType_2, v33, &v34, &v35);
			PTUP v37 = mtw_mirth_type_StackType_WithLabel(v35, VTUP(MKTUP(v31)), value_u64(MKU64(v32)));
			branch_StackType_11 = v37;
			branch_StackType_10 = v36;
			branch_ZPlusMirth_9 = v34;
		} break;
		default: {
			STR* v38;
			STRLIT(v38, "expected unit-based stack in semifreshen!", 41);
			do_panic(v38);
		} break;
	}
	*out_StackType_6 = branch_StackType_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_StackType_10;
}
static PTUP mw_mirth_type_StackType_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_StackType_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v7);
	PTUP branch_Subst_9;
	PTUP branch_ZPlusMirth_10;
	PTUP branch_StackType_11;
	switch (PTREXTRA(v8)) {
		case 2LL: { // Unit
			PTUP v12 = PTRMK(2LL /* Unit */,0,0);
			branch_StackType_11 = v12;
			branch_ZPlusMirth_10 = v7;
			branch_Subst_9 = in_Subst_2;
		} break;
		case 5LL: { // Cons
			PTUP v13;
			PTUP v14 = mtp_mirth_type_StackType_Cons(v8, &v13);
			PTUP v15;
			PTUP v16;
			PTUP v17 = mw_mirth_type_StackType_freshen(v7, in_Subst_2, v14, &v15, &v16);
			PTUP v18;
			PTUP v19;
			PTUP v20 = mw_mirth_type_Type_freshen(v15, v17, v13, &v18, &v19);
			PTUP v21 = mtw_mirth_type_StackType_Cons(v16, v19);
			branch_StackType_11 = v21;
			branch_ZPlusMirth_10 = v18;
			branch_Subst_9 = v20;
		} break;
		case 7LL: { // With
			PTUP v22;
			PTUP v23 = mtp_mirth_type_StackType_With(v8, &v22);
			PTUP v24;
			PTUP v25;
			PTUP v26 = mw_mirth_type_StackType_freshen(v7, in_Subst_2, v23, &v24, &v25);
			PTUP v27;
			PTUP v28;
			PTUP v29 = mw_mirth_type_Resource_freshen(v24, v26, v22, &v27, &v28);
			PTUP v30 = mtw_mirth_type_StackType_With(v25, v28);
			branch_StackType_11 = v30;
			branch_ZPlusMirth_10 = v27;
			branch_Subst_9 = v29;
		} break;
		case 6LL: { // ConsLabel
			PTUP v31;
			uint64_t v32;
			PTUP v33 = mtp_mirth_type_StackType_ConsLabel(v8, &v31, &v32);
			PTUP v34;
			PTUP v35;
			PTUP v36 = mw_mirth_type_StackType_freshen(v7, in_Subst_2, v33, &v34, &v35);
			PTUP v37;
			PTUP v38;
			PTUP v39 = mw_mirth_type_Type_freshen(v34, v36, v31, &v37, &v38);
			PTUP v40 = mtw_mirth_type_StackType_ConsLabel(v35, v38, v32);
			branch_StackType_11 = v40;
			branch_ZPlusMirth_10 = v37;
			branch_Subst_9 = v39;
		} break;
		case 8LL: { // WithLabel
			PTUP v41;
			uint64_t v42;
			PTUP v43 = mtp_mirth_type_StackType_WithLabel(v8, &v41, &v42);
			PTUP v44;
			PTUP v45;
			PTUP v46 = mw_mirth_type_StackType_freshen(v7, in_Subst_2, v43, &v44, &v45);
			PTUP v47;
			PTUP v48;
			PTUP v49 = mw_mirth_type_Resource_freshen(v44, v46, v41, &v47, &v48);
			PTUP v50 = mtw_mirth_type_StackType_WithLabel(v45, v48, v42);
			branch_StackType_11 = v50;
			branch_ZPlusMirth_10 = v47;
			branch_Subst_9 = v49;
		} break;
		default: {
			PTUP v51 = mw_mirth_type_StackType_ZToType(v8);
			PTUP v52;
			PTUP v53;
			PTUP v54 = mw_mirth_type_Type_freshen(v7, in_Subst_2, v51, &v52, &v53);
			PTUP v55 = mw_mirth_type_Type_ZToStackType(v53);
			branch_StackType_11 = v55;
			branch_ZPlusMirth_10 = v52;
			branch_Subst_9 = v54;
		} break;
	}
	*out_StackType_6 = branch_StackType_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Subst_9;
}
static PTUP mw_mirth_type_StackType_freshenZ_aux (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_Subst_3, PTUP in_StackType_4, PTUP *out_ZPlusMirth_5, PTUP *out_Subst_7, PTUP *out_StackType_8) {
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_4, &v9);
	PTUP branch_ZPlusMirth_11;
	PTUP branch_StackType_12;
	PTUP branch_Subst_13;
	PTUP branch_StackType_14;
	switch (PTREXTRA(v10)) {
		case 2LL: { // Unit
			incref(MKTUP(in_StackType_2));
			branch_StackType_14 = VTUP(MKTUP(in_StackType_2));
			branch_Subst_13 = VTUP(MKTUP(in_Subst_3));
			branch_StackType_12 = VTUP(MKTUP(in_StackType_2));
			branch_ZPlusMirth_11 = v9;
		} break;
		case 5LL: { // Cons
			PTUP v15;
			PTUP v16 = mtp_mirth_type_StackType_Cons(v10, &v15);
			PTUP v17;
			PTUP v18;
			PTUP v19;
			PTUP v20 = mw_mirth_type_StackType_freshenZ_aux(v9, in_StackType_2, in_Subst_3, v16, &v17, &v18, &v19);
			PTUP v21;
			PTUP v22;
			PTUP v23 = mw_mirth_type_Type_freshen(v17, v18, v15, &v21, &v22);
			PTUP v24 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(v19)), v22);
			branch_StackType_14 = v24;
			branch_Subst_13 = v23;
			branch_StackType_12 = v20;
			branch_ZPlusMirth_11 = v21;
		} break;
		case 7LL: { // With
			PTUP v25;
			PTUP v26 = mtp_mirth_type_StackType_With(v10, &v25);
			PTUP v27;
			PTUP v28;
			PTUP v29;
			PTUP v30 = mw_mirth_type_StackType_freshenZ_aux(v9, in_StackType_2, in_Subst_3, v26, &v27, &v28, &v29);
			PTUP v31;
			PTUP v32;
			PTUP v33 = mw_mirth_type_Resource_freshen(v27, v28, v25, &v31, &v32);
			PTUP v34 = mtw_mirth_type_StackType_With(VTUP(MKTUP(v29)), v32);
			branch_StackType_14 = v34;
			branch_Subst_13 = v33;
			branch_StackType_12 = v30;
			branch_ZPlusMirth_11 = v31;
		} break;
		case 6LL: { // ConsLabel
			PTUP v35;
			uint64_t v36;
			PTUP v37 = mtp_mirth_type_StackType_ConsLabel(v10, &v35, &v36);
			PTUP v38;
			PTUP v39;
			PTUP v40;
			PTUP v41 = mw_mirth_type_StackType_freshenZ_aux(v9, in_StackType_2, in_Subst_3, v37, &v38, &v39, &v40);
			PTUP v42;
			PTUP v43;
			PTUP v44 = mw_mirth_type_Type_freshen(v38, v39, v35, &v42, &v43);
			PTUP v45 = mtw_mirth_type_StackType_ConsLabel(VTUP(MKTUP(v40)), v43, v36);
			branch_StackType_14 = v45;
			branch_Subst_13 = v44;
			branch_StackType_12 = v41;
			branch_ZPlusMirth_11 = v42;
		} break;
		case 8LL: { // WithLabel
			PTUP v46;
			uint64_t v47;
			PTUP v48 = mtp_mirth_type_StackType_WithLabel(v10, &v46, &v47);
			PTUP v49;
			PTUP v50;
			PTUP v51;
			PTUP v52 = mw_mirth_type_StackType_freshenZ_aux(v9, in_StackType_2, in_Subst_3, v48, &v49, &v50, &v51);
			PTUP v53;
			PTUP v54;
			PTUP v55 = mw_mirth_type_Resource_freshen(v49, v50, v46, &v53, &v54);
			PTUP v56 = mtw_mirth_type_StackType_WithLabel(VTUP(MKTUP(v51)), v54, v47);
			branch_StackType_14 = v56;
			branch_Subst_13 = v55;
			branch_StackType_12 = v52;
			branch_ZPlusMirth_11 = v53;
		} break;
		default: {
			PTUP v57 = mw_mirth_type_StackType_ZToType(v10);
			PTUP v58;
			PTUP v59;
			PTUP v60 = mw_mirth_type_Type_freshen(v9, in_Subst_3, v57, &v58, &v59);
			PTUP v61 = mw_mirth_type_Type_ZToStackType(v59);
			branch_StackType_14 = v61;
			branch_Subst_13 = v60;
			branch_StackType_12 = in_StackType_2;
			branch_ZPlusMirth_11 = v58;
		} break;
	}
	*out_StackType_8 = branch_StackType_14;
	*out_Subst_7 = branch_Subst_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_11;
	return branch_StackType_12;
}
static PTUP mw_mirth_type_StackType_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_StackType_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Ctx_8;
	PTUP branch_StackType_9;
	switch (PTREXTRA(in_StackType_3)) {
		case 0LL: { // Error
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_9 = v10;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v11 = PTRMK(1LL /* Ignore */,0,0);
			branch_StackType_9 = v11;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			PTUP v12 = PTRMK(2LL /* Unit */,0,0);
			branch_StackType_9 = v12;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v13 = mtp_mirth_type_StackType_Meta(in_StackType_3);
			PTUP v14;
			PTUP v15;
			PTUP v16 = mw_mirth_type_MetaVar_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v13, &v14, &v15);
			PTUP v17 = mw_mirth_type_Type_ZToStackType(v15);
			branch_StackType_9 = v17;
			branch_Ctx_8 = v16;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 3LL: { // Var
			uint64_t v18 = mtp_mirth_type_StackType_Var(in_StackType_3);
			PTUP v19 = mtw_mirth_type_StackType_Var(v18);
			branch_StackType_9 = v19;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			PTUP v20;
			PTUP v21 = mtp_mirth_type_StackType_Cons(in_StackType_3, &v20);
			PTUP v22;
			PTUP v23;
			PTUP v24 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v21, &v22, &v23);
			PTUP v25;
			PTUP v26;
			PTUP v27 = mw_mirth_type_Type_rigidifyZBang(v22, v24, v20, &v25, &v26);
			PTUP v28 = mtw_mirth_type_StackType_Cons(v23, v26);
			branch_StackType_9 = v28;
			branch_Ctx_8 = v27;
			branch_ZPlusMirth_7 = v25;
		} break;
		case 6LL: { // ConsLabel
			PTUP v29;
			uint64_t v30;
			PTUP v31 = mtp_mirth_type_StackType_ConsLabel(in_StackType_3, &v29, &v30);
			PTUP v32;
			PTUP v33;
			PTUP v34 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v31, &v32, &v33);
			PTUP v35;
			PTUP v36;
			PTUP v37 = mw_mirth_type_Type_rigidifyZBang(v32, v34, v29, &v35, &v36);
			PTUP v38 = mtw_mirth_type_StackType_ConsLabel(v33, v36, v30);
			branch_StackType_9 = v38;
			branch_Ctx_8 = v37;
			branch_ZPlusMirth_7 = v35;
		} break;
		case 7LL: { // With
			PTUP v39;
			PTUP v40 = mtp_mirth_type_StackType_With(in_StackType_3, &v39);
			PTUP v41;
			PTUP v42;
			PTUP v43 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v40, &v41, &v42);
			PTUP v44;
			PTUP v45;
			PTUP v46 = mw_mirth_type_Resource_rigidifyZBang(v41, v43, v39, &v44, &v45);
			PTUP v47 = mtw_mirth_type_StackType_With(v42, v45);
			branch_StackType_9 = v47;
			branch_Ctx_8 = v46;
			branch_ZPlusMirth_7 = v44;
		} break;
		case 8LL: { // WithLabel
			PTUP v48;
			uint64_t v49;
			PTUP v50 = mtp_mirth_type_StackType_WithLabel(in_StackType_3, &v48, &v49);
			PTUP v51;
			PTUP v52;
			PTUP v53 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v50, &v51, &v52);
			PTUP v54;
			PTUP v55;
			PTUP v56 = mw_mirth_type_Resource_rigidifyZBang(v51, v53, v48, &v54, &v55);
			PTUP v57 = mtw_mirth_type_StackType_WithLabel(v52, v55, v49);
			branch_StackType_9 = v57;
			branch_Ctx_8 = v56;
			branch_ZPlusMirth_7 = v54;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_StackType_6 = branch_StackType_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static PTUP mw_mirth_type_StackType_linearZ_baseZ_metaZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_StackType_2)) {
		case 0LL: { // Error
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v8 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			PTUP v9 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v10 = mtp_mirth_type_StackType_Meta(in_StackType_2);
			PTUP v11;
			PTUP v12 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v10, &v11);
			PTUP branch_ZPlusMirth_13;
			PTUP branch_Maybe_14;
			switch (PTREXTRA(v12)) {
				case 0LL: { // None
					PTUP v15 = mtw_std_maybe_Maybe_1_Some(MKU64(v10));
					branch_Maybe_14 = v15;
					branch_ZPlusMirth_13 = v11;
				} break;
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					PTUP v17;
					PTUP v18 = mw_mirth_type_Type_expand(v11, VTUP(v16), &v17);
					incref(MKTUP(v18));
					PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18));
					PTUP v20;
					mw_mirth_type_MetaVar_typeZAskZBang(v17, v19, value_u64(MKU64(v10)), &v20);
					PTUP v21 = mw_mirth_type_Type_ZToStackType(VTUP(MKTUP(v18)));
					PTUP v22;
					PTUP v23 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v20, v21, &v22);
					branch_Maybe_14 = v23;
					branch_ZPlusMirth_13 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_14;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_13;
		} break;
		case 3LL: { // Var
			uint64_t v24 = mtp_mirth_type_StackType_Var(in_StackType_2);
			PTUP v25 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			PTUP v26;
			PTUP v27 = mtp_mirth_type_StackType_Cons(in_StackType_2, &v26);
			PTUP v28;
			PTUP v29 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v27, &v28);
			PTUP v30;
			PTUP v31;
			PTUP v32 = mw_std_maybe_Maybe_1_filter_1_sp5(v28, v26, v29, &v30, &v31);
			decref(MKTUP(v32));
			branch_Maybe_6 = VTUP(MKTUP(v31));
			branch_ZPlusMirth_5 = v30;
		} break;
		case 7LL: { // With
			PTUP v33;
			PTUP v34 = mtp_mirth_type_StackType_With(in_StackType_2, &v33);
			PTUP v35;
			PTUP v36 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v34, &v35);
			PTUP v37;
			PTUP v38;
			PTUP v39 = mw_std_maybe_Maybe_1_filter_1_sp6(v35, v33, v36, &v37, &v38);
			decref(MKTUP(v39));
			branch_Maybe_6 = VTUP(MKTUP(v38));
			branch_ZPlusMirth_5 = v37;
		} break;
		case 6LL: { // ConsLabel
			PTUP v40;
			uint64_t v41;
			PTUP v42 = mtp_mirth_type_StackType_ConsLabel(in_StackType_2, &v40, &v41);
			PTUP v43;
			PTUP v44 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v42, &v43);
			PTUP v45;
			PTUP v46;
			PTUP v47 = mw_std_maybe_Maybe_1_filter_1_sp5(v43, v40, v44, &v45, &v46);
			decref(MKTUP(v47));
			branch_Maybe_6 = VTUP(MKTUP(v46));
			branch_ZPlusMirth_5 = v45;
		} break;
		case 8LL: { // WithLabel
			PTUP v48;
			uint64_t v49;
			PTUP v50 = mtp_mirth_type_StackType_WithLabel(in_StackType_2, &v48, &v49);
			PTUP v51;
			PTUP v52 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v50, &v51);
			PTUP v53;
			PTUP v54;
			PTUP v55 = mw_std_maybe_Maybe_1_filter_1_sp6(v51, v48, v52, &v53, &v54);
			decref(MKTUP(v55));
			branch_Maybe_6 = VTUP(MKTUP(v54));
			branch_ZPlusMirth_5 = v53;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_type_StackType_linearZ_baseZ_varZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_StackType_2)) {
		case 0LL: { // Error
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v8 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			PTUP v9 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v10 = mtp_mirth_type_StackType_Meta(in_StackType_2);
			PTUP v11;
			PTUP v12 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v10, &v11);
			PTUP branch_ZPlusMirth_13;
			PTUP branch_Maybe_14;
			switch (PTREXTRA(v12)) {
				case 0LL: { // None
					PTUP v15 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_14 = v15;
					branch_ZPlusMirth_13 = v11;
				} break;
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					PTUP v17;
					PTUP v18 = mw_mirth_type_Type_expand(v11, VTUP(v16), &v17);
					incref(MKTUP(v18));
					PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18));
					PTUP v20;
					mw_mirth_type_MetaVar_typeZAskZBang(v17, v19, value_u64(MKU64(v10)), &v20);
					PTUP v21 = mw_mirth_type_Type_ZToStackType(VTUP(MKTUP(v18)));
					PTUP v22;
					PTUP v23 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v20, v21, &v22);
					branch_Maybe_14 = v23;
					branch_ZPlusMirth_13 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_14;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_13;
		} break;
		case 3LL: { // Var
			uint64_t v24 = mtp_mirth_type_StackType_Var(in_StackType_2);
			PTUP v25 = mtw_std_maybe_Maybe_1_Some(MKU64(v24));
			branch_Maybe_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			PTUP v26;
			PTUP v27 = mtp_mirth_type_StackType_Cons(in_StackType_2, &v26);
			PTUP v28;
			PTUP v29 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(in_ZPlusMirth_1, v27, &v28);
			PTUP v30;
			PTUP v31;
			PTUP v32 = mw_std_maybe_Maybe_1_filter_1_sp3(v28, v26, v29, &v30, &v31);
			decref(MKTUP(v32));
			branch_Maybe_6 = VTUP(MKTUP(v31));
			branch_ZPlusMirth_5 = v30;
		} break;
		case 7LL: { // With
			PTUP v33;
			PTUP v34 = mtp_mirth_type_StackType_With(in_StackType_2, &v33);
			PTUP v35;
			PTUP v36 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(in_ZPlusMirth_1, v34, &v35);
			PTUP v37;
			PTUP v38;
			PTUP v39 = mw_std_maybe_Maybe_1_filter_1_sp4(v35, v33, v36, &v37, &v38);
			decref(MKTUP(v39));
			branch_Maybe_6 = VTUP(MKTUP(v38));
			branch_ZPlusMirth_5 = v37;
		} break;
		case 6LL: { // ConsLabel
			PTUP v40;
			uint64_t v41;
			PTUP v42 = mtp_mirth_type_StackType_ConsLabel(in_StackType_2, &v40, &v41);
			PTUP v43;
			PTUP v44 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(in_ZPlusMirth_1, v42, &v43);
			PTUP v45;
			PTUP v46;
			PTUP v47 = mw_std_maybe_Maybe_1_filter_1_sp3(v43, v40, v44, &v45, &v46);
			decref(MKTUP(v47));
			branch_Maybe_6 = VTUP(MKTUP(v46));
			branch_ZPlusMirth_5 = v45;
		} break;
		case 8LL: { // WithLabel
			PTUP v48;
			uint64_t v49;
			PTUP v50 = mtp_mirth_type_StackType_WithLabel(in_StackType_2, &v48, &v49);
			PTUP v51;
			PTUP v52 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(in_ZPlusMirth_1, v50, &v51);
			PTUP v53;
			PTUP v54;
			PTUP v55 = mw_std_maybe_Maybe_1_filter_1_sp4(v51, v48, v52, &v53, &v54);
			decref(MKTUP(v55));
			branch_Maybe_6 = VTUP(MKTUP(v54));
			branch_ZPlusMirth_5 = v53;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_type_StackType_splitZ_parts (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3, PTUP *out_List_5) {
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	PTUP v7 = mtw_std_either_Either_2_Right(MKTUP(in_StackType_2));
	bool v8 = true;
	PTUP v9 = v6;
	PTUP r10 = in_ZPlusMirth_1;
	PTUP v11 = v7;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP v14 = v9;
		PTUP r15 = r10;
		PTUP v16 = v11;
		bool v17 = v12;
		incref(MKTUP(v16));
		PTUP v18 = mw_std_either_Either_2_rightZAsk(v16);
		PTUP branch_List_19;
		PTUP branch_ZPlusMirth_20;
		PTUP branch_Either_21;
		bool branch_Bool_22;
		switch (PTREXTRA(v18)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v18);
				decref(MKTUP(v16));
				PTUP v24;
				PTUP v25 = mw_mirth_type_StackType_expand(r15, VTUP(v23), &v24);
				PTUP branch_List_26;
				PTUP branch_ZPlusMirth_27;
				PTUP branch_Either_28;
				switch (PTREXTRA(v25)) {
					case 0LL: { // Error
						PTUP v29 = PTRMK(0LL /* Error */,0,0);
						PTUP v30 = mtw_std_either_Either_2_Left(MKTUP(v29));
						branch_Either_28 = v30;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 1LL: { // Ignore
						PTUP v31 = PTRMK(1LL /* Ignore */,0,0);
						PTUP v32 = mtw_std_either_Either_2_Left(MKTUP(v31));
						branch_Either_28 = v32;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 3LL: { // Var
						uint64_t v33 = mtp_mirth_type_StackType_Var(v25);
						PTUP v34 = mtw_mirth_type_StackTypeBase_Var(v33);
						PTUP v35 = mtw_std_either_Either_2_Left(MKTUP(v34));
						branch_Either_28 = v35;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 4LL: { // Meta
						uint64_t v36 = mtp_mirth_type_StackType_Meta(v25);
						PTUP v37 = mtw_mirth_type_StackTypeBase_Meta(v36);
						PTUP v38 = mtw_std_either_Either_2_Left(MKTUP(v37));
						branch_Either_28 = v38;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 2LL: { // Unit
						PTUP v39 = PTRMK(2LL /* Unit */,0,0);
						PTUP v40 = mtw_std_either_Either_2_Left(MKTUP(v39));
						branch_Either_28 = v40;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 5LL: { // Cons
						PTUP v41;
						PTUP v42 = mtp_mirth_type_StackType_Cons(v25, &v41);
						PTUP v43 = mtw_mirth_type_StackTypePart_Cons(v41);
						PTUP v44 = mw_std_list_List_1_cons(MKTUP(v43), v14);
						PTUP v45 = mtw_std_either_Either_2_Right(MKTUP(v42));
						branch_Either_28 = v45;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v44;
					} break;
					case 7LL: { // With
						PTUP v46;
						PTUP v47 = mtp_mirth_type_StackType_With(v25, &v46);
						PTUP v48 = mtw_mirth_type_StackTypePart_With(v46);
						PTUP v49 = mw_std_list_List_1_cons(MKTUP(v48), v14);
						PTUP v50 = mtw_std_either_Either_2_Right(MKTUP(v47));
						branch_Either_28 = v50;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v49;
					} break;
					case 6LL: { // ConsLabel
						PTUP v51;
						uint64_t v52;
						PTUP v53 = mtp_mirth_type_StackType_ConsLabel(v25, &v51, &v52);
						PTUP v54 = mtw_mirth_type_StackTypePart_ConsLabel(VTUP(MKTUP(v51)), value_u64(MKU64(v52)));
						PTUP v55 = mw_std_list_List_1_cons(MKTUP(v54), v14);
						PTUP v56 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v53))));
						branch_Either_28 = v56;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v55;
					} break;
					case 8LL: { // WithLabel
						PTUP v57;
						uint64_t v58;
						PTUP v59 = mtp_mirth_type_StackType_WithLabel(v25, &v57, &v58);
						PTUP v60 = mtw_mirth_type_StackTypePart_WithLabel(VTUP(MKTUP(v57)), value_u64(MKU64(v58)));
						PTUP v61 = mw_std_list_List_1_cons(MKTUP(v60), v14);
						PTUP v62 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v59))));
						branch_Either_28 = v62;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v61;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v63 = true;
				branch_Bool_22 = v63;
				branch_Either_21 = branch_Either_28;
				branch_ZPlusMirth_20 = branch_ZPlusMirth_27;
				branch_List_19 = branch_List_26;
			} break;
			case 0LL: { // None
				bool v64 = false;
				branch_Bool_22 = v64;
				branch_Either_21 = v16;
				branch_ZPlusMirth_20 = r15;
				branch_List_19 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_22;
		v12 = branch_Bool_22;
		v11 = branch_Either_21;
		r10 = branch_ZPlusMirth_20;
		v9 = branch_List_19;
	}
	PTUP v65 = mw_std_either_Either_2_leftZAsk(v11);
	VAL v66 = mw_std_maybe_Maybe_1_unwrap_1_sp2(v65);
	*out_List_5 = v9;
	*out_ZPlusMirth_3 = r10;
	return VTUP(v66);
}
static PTUP mw_mirth_type_StackType_parts (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_splitZ_parts(in_ZPlusMirth_1, in_StackType_2, &v5, &v6);
	decref(MKTUP(v7));
	*out_ZPlusMirth_3 = v5;
	return VTUP(MKTUP(v6));
}
static PTUP mw_mirth_type_StackType_ctype (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_splitZ_parts(in_ZPlusMirth_1, in_StackType_2, &v5, &v6);
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	PTUP r11 = v5;
	PTUP r12 = v9;
	PTUP v13 = v6;
	bool v14 = v10;
	bool v15 = v10;
	while (v15) {
		PTUP r16 = r11;
		PTUP r17 = r12;
		PTUP v18 = v13;
		bool v19 = v14;
		PTUP branch_ZPlusMirth_20;
		PTUP branch_ZPlusLister_21;
		PTUP branch_List_22;
		bool branch_Bool_23;
		switch (PTREXTRA(v18)) {
			case 1LL: { // Cons
				PTUP v24;
				VAL v25 = mtp_std_list_List_1_Cons(v18, &v24);
				PTUP v26;
				PTUP v27 = mw_mirth_type_StackTypePart_ctype(r16, VTUP(v25), &v26);
				PTUP v28;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v27), r17, &v28);
				bool v29 = true;
				branch_Bool_23 = v29;
				branch_List_22 = v24;
				branch_ZPlusLister_21 = v28;
				branch_ZPlusMirth_20 = v26;
			} break;
			case 0LL: { // Nil
				PTUP v30 = PTRMK(0LL /* Nil */,0,0);
				bool v31 = false;
				branch_Bool_23 = v31;
				branch_List_22 = v30;
				branch_ZPlusLister_21 = r17;
				branch_ZPlusMirth_20 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_23;
		v14 = branch_Bool_23;
		v13 = branch_List_22;
		r12 = branch_ZPlusLister_21;
		r11 = branch_ZPlusMirth_20;
	}
	decref(MKTUP(v13));
	PTUP v32 = mw_std_list_ZPlusLister_1_doneZBang(r12);
	PTUP v33;
	PTUP v34 = mw_mirth_type_StackTypeBase_ctypeZAsk(r11, v7, &v33);
	PTUP v35 = mtw_mirth_type_CTypeStack_CTypeStack(v34, v32);
	*out_ZPlusMirth_3 = v33;
	return v35;
}
static PTUP mw_mirth_type_StackType_countZ_parts (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_type_StackTypeCounts_Nil();
	PTUP v6 = mtw_std_either_Either_2_Right(MKTUP(in_StackType_2));
	bool v7 = true;
	PTUP v8 = v5;
	PTUP r9 = in_ZPlusMirth_1;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP v13 = v8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		incref(MKTUP(v15));
		PTUP v17 = mw_std_either_Either_2_rightZAsk(v15);
		PTUP branch_StackTypeCounts_18;
		PTUP branch_ZPlusMirth_19;
		PTUP branch_Either_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v17)) {
			case 1LL: { // Some
				VAL v22 = mtp_std_maybe_Maybe_1_Some(v17);
				decref(MKTUP(v15));
				PTUP v23;
				PTUP v24 = mw_mirth_type_StackType_expand(r14, VTUP(v22), &v23);
				PTUP branch_StackTypeCounts_25;
				PTUP branch_ZPlusMirth_26;
				PTUP branch_Either_27;
				switch (PTREXTRA(v24)) {
					case 0LL: { // Error
						PTUP v28 = PTRMK(0LL /* Error */,0,0);
						PTUP v29 = mtw_std_either_Either_2_Left(MKTUP(v28));
						branch_Either_27 = v29;
						branch_ZPlusMirth_26 = v23;
						branch_StackTypeCounts_25 = v13;
					} break;
					case 1LL: { // Ignore
						PTUP v30 = PTRMK(1LL /* Ignore */,0,0);
						PTUP v31 = mtw_std_either_Either_2_Left(MKTUP(v30));
						branch_Either_27 = v31;
						branch_ZPlusMirth_26 = v23;
						branch_StackTypeCounts_25 = v13;
					} break;
					case 3LL: { // Var
						uint64_t v32 = mtp_mirth_type_StackType_Var(v24);
						PTUP v33 = mtw_mirth_type_StackTypeBase_Var(v32);
						PTUP v34 = mtw_std_either_Either_2_Left(MKTUP(v33));
						branch_Either_27 = v34;
						branch_ZPlusMirth_26 = v23;
						branch_StackTypeCounts_25 = v13;
					} break;
					case 4LL: { // Meta
						uint64_t v35 = mtp_mirth_type_StackType_Meta(v24);
						PTUP v36 = mtw_mirth_type_StackTypeBase_Meta(v35);
						PTUP v37 = mtw_std_either_Either_2_Left(MKTUP(v36));
						branch_Either_27 = v37;
						branch_ZPlusMirth_26 = v23;
						branch_StackTypeCounts_25 = v13;
					} break;
					case 2LL: { // Unit
						PTUP v38 = PTRMK(2LL /* Unit */,0,0);
						PTUP v39 = mtw_std_either_Either_2_Left(MKTUP(v38));
						branch_Either_27 = v39;
						branch_ZPlusMirth_26 = v23;
						branch_StackTypeCounts_25 = v13;
					} break;
					case 5LL: { // Cons
						PTUP v40;
						PTUP v41 = mtp_mirth_type_StackType_Cons(v24, &v40);
						PTUP v42;
						PTUP v43 = mw_mirth_type_StackTypeCounts_addZ_valueZBang(v23, v40, v13, &v42);
						PTUP v44 = mtw_std_either_Either_2_Right(MKTUP(v41));
						branch_Either_27 = v44;
						branch_ZPlusMirth_26 = v42;
						branch_StackTypeCounts_25 = v43;
					} break;
					case 7LL: { // With
						PTUP v45;
						PTUP v46 = mtp_mirth_type_StackType_With(v24, &v45);
						PTUP v47;
						PTUP v48 = mw_mirth_type_StackTypeCounts_addZ_resourceZBang(v23, v45, v13, &v47);
						PTUP v49 = mtw_std_either_Either_2_Right(MKTUP(v46));
						branch_Either_27 = v49;
						branch_ZPlusMirth_26 = v47;
						branch_StackTypeCounts_25 = v48;
					} break;
					case 6LL: { // ConsLabel
						PTUP v50;
						uint64_t v51;
						PTUP v52 = mtp_mirth_type_StackType_ConsLabel(v24, &v50, &v51);
						decref(MKTUP(VTUP(MKTUP(v50))));
						PTUP v53;
						PTUP v54 = mw_mirth_type_StackTypeCounts_addZ_labelZBang(v23, value_u64(MKU64(value_u64(MKU64(v51)))), v13, &v53);
						PTUP v55 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v52))));
						branch_Either_27 = v55;
						branch_ZPlusMirth_26 = v53;
						branch_StackTypeCounts_25 = v54;
					} break;
					case 8LL: { // WithLabel
						PTUP v56;
						uint64_t v57;
						PTUP v58 = mtp_mirth_type_StackType_WithLabel(v24, &v56, &v57);
						decref(MKTUP(VTUP(MKTUP(v56))));
						PTUP v59;
						PTUP v60 = mw_mirth_type_StackTypeCounts_addZ_labelZBang(v23, value_u64(MKU64(value_u64(MKU64(v57)))), v13, &v59);
						PTUP v61 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(v58))));
						branch_Either_27 = v61;
						branch_ZPlusMirth_26 = v59;
						branch_StackTypeCounts_25 = v60;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v62 = true;
				branch_Bool_21 = v62;
				branch_Either_20 = branch_Either_27;
				branch_ZPlusMirth_19 = branch_ZPlusMirth_26;
				branch_StackTypeCounts_18 = branch_StackTypeCounts_25;
			} break;
			case 0LL: { // None
				bool v63 = false;
				branch_Bool_21 = v63;
				branch_Either_20 = v15;
				branch_ZPlusMirth_19 = r14;
				branch_StackTypeCounts_18 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_21;
		v11 = branch_Bool_21;
		v10 = branch_Either_20;
		r9 = branch_ZPlusMirth_19;
		v8 = branch_StackTypeCounts_18;
	}
	PTUP v64 = mw_std_either_Either_2_leftZAsk(v10);
	VAL v65 = mw_std_maybe_Maybe_1_unwrap_1_sp2(v64);
	decref(MKTUP(VTUP(v65)));
	*out_ZPlusMirth_3 = r9;
	return v8;
}
static PTUP mw_mirth_type_StackTypeCounts_Nil (void) {
	INT v2 = WRAP_I63(0LL);
	INT v3 = WRAP_I63(0LL);
	PTUP v4 = mw_std_map_Map_2_Nil();
	PTUP v5 = mtw_mirth_type_StackTypeCounts_StackTypeCounts(v2, v3, v4);
	return v5;
}
static PTUP mw_mirth_type_StackTypeCounts_addZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4) {
	decref(MKTUP(in_Type_2));
	incref(MKTUP(VTUP(MKTUP(in_StackTypeCounts_3))));
	INT v6 = value_nat(((TUP*)PTRPTR(VTUP(MKTUP(in_StackTypeCounts_3))))->cells[0]);
	incref(MKNAT(v6));
	decref(MKTUP(VTUP(MKTUP(in_StackTypeCounts_3))));
	INT v7 = WRAP_I63(1LL);
	INT v8 = v6;
	INT v9 = v7;
	INT v10 = int_add(v8, v9);
	INT v11 = v10;
	VAL v12 = tup_replace(MKTUP(VTUP(MKTUP(in_StackTypeCounts_3))), 0, MKNAT(v11));
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return VTUP(v12);
}
static PTUP mw_mirth_type_StackTypeCounts_addZ_resourceZBang (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4) {
	decref(MKTUP(in_Resource_2));
	incref(MKTUP(VTUP(MKTUP(in_StackTypeCounts_3))));
	INT v6 = value_nat(((TUP*)PTRPTR(VTUP(MKTUP(in_StackTypeCounts_3))))->cells[1]);
	incref(MKNAT(v6));
	decref(MKTUP(VTUP(MKTUP(in_StackTypeCounts_3))));
	INT v7 = WRAP_I63(1LL);
	INT v8 = v6;
	INT v9 = v7;
	INT v10 = int_add(v8, v9);
	INT v11 = v10;
	VAL v12 = tup_replace(MKTUP(VTUP(MKTUP(in_StackTypeCounts_3))), 1, MKNAT(v11));
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return VTUP(v12);
}
static PTUP mw_mirth_type_StackTypeCounts_addZ_labelZBang (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_StackTypeCounts_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_StackTypeCounts_3))->cells[2]);
	incref(MKTUP(v6));
	decref(MKTUP(in_StackTypeCounts_3));
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9 = PTRMK(0LL /* None */,0,0);
	bool v10 = true;
	uint64_t v11 = in_Label_2;
	PTUP v12 = v8;
	PTUP v13 = v7;
	PTUP v14 = v9;
	PTUP v15 = v6;
	bool v16 = v10;
	bool v17 = v10;
	while (v17) {
		uint64_t v18 = v11;
		PTUP v19 = v12;
		PTUP v20 = v13;
		PTUP v21 = v14;
		PTUP v22 = v15;
		bool v23 = v16;
		PTUP v24;
		PTUP v25 = mw_std_list_List_1_uncons(v22, &v24);
		uint64_t branch_Label_26;
		PTUP branch_List_27;
		PTUP branch_List_28;
		PTUP branch_Maybe_29;
		PTUP branch_List_30;
		bool branch_Bool_31;
		switch (PTREXTRA(v25)) {
			case 1LL: { // Some
				VAL v32 = mtp_std_maybe_Maybe_1_Some(v25);
				incref(MKTUP(VTUP(v32)));
				VAL v33 = ((TUP*)PTRPTR(VTUP(v32)))->cells[0];
				incref(v33);
				decref(MKTUP(VTUP(v32)));
				bool v34 = (value_u64(v33) == v18);
				uint64_t branch_Label_35;
				PTUP branch_List_36;
				PTUP branch_List_37;
				PTUP branch_Maybe_38;
				PTUP branch_List_39;
				if (value_bool(MKBOOL(v34))) {
					decref(MKTUP(v19));
					PTUP v40 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(MKTUP(VTUP(v32)))));
					decref(MKTUP(v21));
					PTUP v41 = PTRMK(0LL /* Nil */,0,0);
					branch_List_39 = v41;
					branch_Maybe_38 = v40;
					branch_List_37 = VTUP(MKTUP(v24));
					branch_List_36 = v20;
					branch_Label_35 = v18;
				} else {
					PTUP v42 = mw_std_list_List_1_cons(MKTUP(VTUP(MKTUP(VTUP(v32)))), v20);
					branch_List_39 = VTUP(MKTUP(v24));
					branch_Maybe_38 = v21;
					branch_List_37 = v19;
					branch_List_36 = v42;
					branch_Label_35 = v18;
				}
				bool v43 = true;
				branch_Bool_31 = v43;
				branch_List_30 = branch_List_39;
				branch_Maybe_29 = branch_Maybe_38;
				branch_List_28 = branch_List_37;
				branch_List_27 = branch_List_36;
				branch_Label_26 = branch_Label_35;
			} break;
			case 0LL: { // None
				bool v44 = false;
				branch_Bool_31 = v44;
				branch_List_30 = v24;
				branch_Maybe_29 = v21;
				branch_List_28 = v19;
				branch_List_27 = v20;
				branch_Label_26 = v18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v17 = branch_Bool_31;
		v16 = branch_Bool_31;
		v15 = branch_List_30;
		v14 = branch_Maybe_29;
		v13 = branch_List_27;
		v12 = branch_List_28;
		v11 = branch_Label_26;
	}
	decref(MKTUP(v15));
	PTUP v45;
	mw_std_list_List_1_for_1_sp64(v12, v13, &v45);
	PTUP v46 = mw_std_maybe_Maybe_1_map_1_sp10(v14);
	VAL branch_z_x1_47;
	INT branch_Nat_48;
	switch (PTREXTRA(v46)) {
		case 1LL: { // Some
			VAL v49 = mtp_std_maybe_Maybe_1_Some(v46);
			INT v50 = WRAP_I63(1LL);
			INT v51 = value_nat(v49);
			INT v52 = v50;
			INT v53 = int_add(v51, v52);
			INT v54 = v53;
			branch_Nat_48 = v54;
			branch_z_x1_47 = MKU64(v11);
		} break;
		case 0LL: { // None
			INT v55 = WRAP_I63(1LL);
			branch_Nat_48 = v55;
			branch_z_x1_47 = MKU64(v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v56 = mtw_std_maybe_Maybe_1_Some(MKNAT(branch_Nat_48));
	PTUP v57 = mw_std_maybe_Maybe_1_ifZAsk_2_sp58(MKU64(value_u64(branch_z_x1_47)), v45, v56);
	VAL v58 = tup_replace(MKTUP(in_StackTypeCounts_3), 2, MKTUP(v57));
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return VTUP(v58);
}
static INT mw_mirth_type_StackTypeCounts_label (PTUP in_ZPlusMirth_1, uint64_t in_Label_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_StackTypeCounts_3))->cells[2]);
	incref(MKTUP(v6));
	decref(MKTUP(in_StackTypeCounts_3));
	PTUP v7 = PTRMK(0LL /* None */,0,0);
	bool v8 = true;
	uint64_t v9 = in_Label_2;
	PTUP v10 = v7;
	PTUP v11 = v6;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		uint64_t v14 = v9;
		PTUP v15 = v10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP v18;
		PTUP v19 = mw_std_list_List_1_uncons(v16, &v18);
		uint64_t branch_Label_20;
		PTUP branch_Maybe_21;
		PTUP branch_List_22;
		bool branch_Bool_23;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				incref(MKTUP(VTUP(v24)));
				incref(MKU64(v14));
				VAL v25 = ((TUP*)PTRPTR(VTUP(MKTUP(VTUP(v24)))))->cells[0];
				incref(v25);
				decref(MKTUP(VTUP(MKTUP(VTUP(v24)))));
				bool v26 = (value_u64(v25) == value_u64(MKU64(v14)));
				uint64_t branch_Label_27;
				PTUP branch_Maybe_28;
				if (v26) {
					PTUP v29 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v24)));
					branch_Maybe_28 = v29;
					branch_Label_27 = value_u64(MKU64(v14));
				} else {
					decref(MKTUP(VTUP(v24)));
					PTUP v30 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_28 = v30;
					branch_Label_27 = value_u64(MKU64(v14));
				}
				uint64_t branch_Label_31;
				PTUP branch_Maybe_32;
				PTUP branch_List_33;
				switch (PTREXTRA(branch_Maybe_28)) {
					case 0LL: { // None
						branch_List_33 = VTUP(MKTUP(v18));
						branch_Maybe_32 = VTUP(MKTUP(v15));
						branch_Label_31 = branch_Label_27;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v18))));
						decref(MKTUP(VTUP(MKTUP(v15))));
						PTUP v34 = PTRMK(0LL /* Nil */,0,0);
						branch_List_33 = v34;
						branch_Maybe_32 = branch_Maybe_28;
						branch_Label_31 = branch_Label_27;
					} break;
				}
				bool v35 = true;
				branch_Bool_23 = v35;
				branch_List_22 = branch_List_33;
				branch_Maybe_21 = branch_Maybe_32;
				branch_Label_20 = branch_Label_31;
			} break;
			case 0LL: { // None
				bool v36 = false;
				branch_Bool_23 = v36;
				branch_List_22 = v18;
				branch_Maybe_21 = v15;
				branch_Label_20 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_23;
		v12 = branch_Bool_23;
		v11 = branch_List_22;
		v10 = branch_Maybe_21;
		v9 = branch_Label_20;
	}
	decref(MKTUP(v11));
	decref(MKU64(v9));
	PTUP v37 = mw_std_maybe_Maybe_1_map_1_sp10(VTUP(MKTUP(v10)));
	INT branch_Nat_38;
	switch (PTREXTRA(v37)) {
		case 1LL: { // Some
			VAL v39 = mtp_std_maybe_Maybe_1_Some(v37);
			branch_Nat_38 = value_nat(v39);
		} break;
		case 0LL: { // None
			INT v40 = WRAP_I63(0LL);
			branch_Nat_38 = v40;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return branch_Nat_38;
}
static PTUP mw_mirth_type_StackTypeCounts_difference (PTUP in_ZPlusMirth_1, PTUP in_StackTypeCounts_2, PTUP in_StackTypeCounts_3, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_StackTypeCounts_2));
	INT v6 = value_nat(((TUP*)PTRPTR(in_StackTypeCounts_2))->cells[0]);
	incref(MKNAT(v6));
	decref(MKTUP(in_StackTypeCounts_2));
	incref(MKTUP(in_StackTypeCounts_3));
	INT v7 = value_nat(((TUP*)PTRPTR(in_StackTypeCounts_3))->cells[0]);
	incref(MKNAT(v7));
	decref(MKTUP(in_StackTypeCounts_3));
	INT v8 = v6;
	INT v9 = v7;
	INT v10 = int_sub(v8, v9);
	incref(MKINT(v10));
	INT v11 = WRAP_I63(0LL);
	INT v12 = v11;
	bool v13 = int_le(v12, v10);
	INT branch_Nat_14;
	if (v13) {
		INT v15 = v10;
		branch_Nat_14 = v15;
	} else {
		decref(MKINT(v10));
		INT v16 = WRAP_I63(0LL);
		branch_Nat_14 = v16;
	}
	VAL v17 = tup_replace(MKTUP(in_StackTypeCounts_2), 0, MKNAT(branch_Nat_14));
	incref(MKTUP(VTUP(v17)));
	INT v18 = value_nat(((TUP*)PTRPTR(VTUP(v17)))->cells[1]);
	incref(MKNAT(v18));
	decref(MKTUP(VTUP(v17)));
	incref(MKTUP(in_StackTypeCounts_3));
	INT v19 = value_nat(((TUP*)PTRPTR(in_StackTypeCounts_3))->cells[1]);
	incref(MKNAT(v19));
	decref(MKTUP(in_StackTypeCounts_3));
	INT v20 = v18;
	INT v21 = v19;
	INT v22 = int_sub(v20, v21);
	incref(MKINT(v22));
	INT v23 = WRAP_I63(0LL);
	INT v24 = v23;
	bool v25 = int_le(v24, v22);
	INT branch_Nat_26;
	if (v25) {
		INT v27 = v22;
		branch_Nat_26 = v27;
	} else {
		decref(MKINT(v22));
		INT v28 = WRAP_I63(0LL);
		branch_Nat_26 = v28;
	}
	VAL v29 = tup_replace(MKTUP(VTUP(v17)), 1, MKNAT(branch_Nat_26));
	incref(MKTUP(VTUP(v29)));
	PTUP v30 = VTUP(((TUP*)PTRPTR(VTUP(v29)))->cells[2]);
	incref(MKTUP(v30));
	decref(MKTUP(VTUP(v29)));
	PTUP v31 = PTRMK(0LL /* Nil */,0,0);
	PTUP v32;
	mw_std_list_List_1_buildZBang(v31, &v32);
	bool v33 = true;
	PTUP r34 = in_ZPlusMirth_1;
	PTUP v35 = in_StackTypeCounts_3;
	PTUP r36 = v32;
	PTUP v37 = v30;
	bool v38 = v33;
	bool v39 = v33;
	while (v39) {
		PTUP r40 = r34;
		PTUP v41 = v35;
		PTUP r42 = r36;
		PTUP v43 = v37;
		bool v44 = v38;
		PTUP branch_StackTypeCounts_45;
		PTUP branch_ZPlusMirth_46;
		PTUP branch_ZPlusLister_47;
		PTUP branch_List_48;
		bool branch_Bool_49;
		switch (PTREXTRA(v43)) {
			case 1LL: { // Cons
				PTUP v50;
				VAL v51 = mtp_std_list_List_1_Cons(v43, &v50);
				VAL v52;
				VAL v53;
				mtp_std_map_KeyValuePair_2_KeyValuePair(VTUP(v51), &v52, &v53);
				incref(MKU64(value_u64(v52)));
				incref(MKTUP(v41));
				PTUP v54;
				INT v55 = mw_mirth_type_StackTypeCounts_label(r40, value_u64(MKU64(value_u64(v52))), v41, &v54);
				INT v56 = value_nat(MKNAT(value_nat(v53)));
				INT v57 = v55;
				INT v58 = int_sub(v56, v57);
				incref(MKINT(v58));
				INT v59 = WRAP_I63(0LL);
				INT v60 = v59;
				bool v61 = int_le(v60, v58);
				INT branch_Nat_62;
				if (v61) {
					INT v63 = v58;
					branch_Nat_62 = v63;
				} else {
					decref(MKINT(v58));
					INT v64 = WRAP_I63(0LL);
					branch_Nat_62 = v64;
				}
				PTUP v65 = mtw_std_map_KeyValuePair_2_KeyValuePair(MKU64(value_u64(MKU64(value_u64(v52)))), MKNAT(branch_Nat_62));
				PTUP v66;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v65), r42, &v66);
				bool v67 = true;
				branch_Bool_49 = v67;
				branch_List_48 = v50;
				branch_ZPlusLister_47 = v66;
				branch_ZPlusMirth_46 = v54;
				branch_StackTypeCounts_45 = v41;
			} break;
			case 0LL: { // Nil
				PTUP v68 = PTRMK(0LL /* Nil */,0,0);
				bool v69 = false;
				branch_Bool_49 = v69;
				branch_List_48 = v68;
				branch_ZPlusLister_47 = r42;
				branch_ZPlusMirth_46 = r40;
				branch_StackTypeCounts_45 = v41;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v39 = branch_Bool_49;
		v38 = branch_Bool_49;
		v37 = branch_List_48;
		r36 = branch_ZPlusLister_47;
		v35 = branch_StackTypeCounts_45;
		r34 = branch_ZPlusMirth_46;
	}
	decref(MKTUP(v37));
	PTUP v70 = mw_std_list_ZPlusLister_1_doneZBang(r36);
	incref(MKTUP(v70));
	PTUP v71 = PTRMK(0LL /* Nil */,0,0);
	PTUP v72;
	mw_std_list_List_1_buildZBang(v71, &v72);
	bool v73 = true;
	PTUP r74 = v72;
	PTUP v75 = v70;
	bool v76 = v73;
	bool v77 = v73;
	while (v77) {
		PTUP r78 = r74;
		PTUP v79 = v75;
		bool v80 = v76;
		PTUP branch_ZPlusLister_81;
		PTUP branch_List_82;
		bool branch_Bool_83;
		switch (PTREXTRA(v79)) {
			case 1LL: { // Cons
				PTUP v84;
				VAL v85 = mtp_std_list_List_1_Cons(v79, &v84);
				incref(MKTUP(VTUP(v85)));
				VAL v86 = ((TUP*)PTRPTR(VTUP(v85)))->cells[1];
				incref(v86);
				decref(MKTUP(VTUP(v85)));
				INT v87 = WRAP_I63(0LL);
				INT v88 = value_nat(v86);
				INT v89 = v87;
				bool v90 = int_lt(v89, v88);
				PTUP branch_ZPlusLister_91;
				if (v90) {
					PTUP v92;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(VTUP(v85)), r78, &v92);
					branch_ZPlusLister_91 = v92;
				} else {
					decref(MKTUP(VTUP(v85)));
					branch_ZPlusLister_91 = r78;
				}
				bool v93 = true;
				branch_Bool_83 = v93;
				branch_List_82 = v84;
				branch_ZPlusLister_81 = branch_ZPlusLister_91;
			} break;
			case 0LL: { // Nil
				PTUP v94 = PTRMK(0LL /* Nil */,0,0);
				bool v95 = false;
				branch_Bool_83 = v95;
				branch_List_82 = v94;
				branch_ZPlusLister_81 = r78;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v77 = branch_Bool_83;
		v76 = branch_Bool_83;
		v75 = branch_List_82;
		r74 = branch_ZPlusLister_81;
	}
	decref(MKTUP(v75));
	PTUP v96 = mw_std_list_ZPlusLister_1_doneZBang(r74);
	decref(MKTUP(v70));
	VAL v97 = tup_replace(MKTUP(VTUP(v29)), 2, MKTUP(v96));
	decref(MKTUP(v35));
	*out_ZPlusMirth_4 = r34;
	return VTUP(v97);
}
static bool mw_mirth_type_StackTypeBase_unitZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackTypeBase_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_StackTypeBase_2)) {
		case 2LL: { // Unit
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v8 = mtp_mirth_type_StackTypeBase_Meta(in_StackTypeBase_2);
			PTUP v9;
			bool v10 = mw_mirth_type_MetaVar_unitZ_stackZAsk(in_ZPlusMirth_1, v8, &v9);
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		default: {
			decref(MKTUP(in_StackTypeBase_2));
			bool v11 = false;
			branch_Bool_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_type_StackTypeBase_baseZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_StackTypeBase_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP branch_ZPlusMirth_7;
	STR* branch_ZPlusStr_8;
	bool branch_Bool_9;
	switch (PTREXTRA(in_StackTypeBase_3)) {
		case 2LL: { // Unit
			bool v10 = false;
			branch_Bool_9 = v10;
			branch_ZPlusStr_8 = in_ZPlusStr_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v11 = mtp_mirth_type_StackTypeBase_Meta(in_StackTypeBase_3);
			STR* v12;
			STRLIT(v12, "*", 1);
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, in_ZPlusStr_2, &v13);
			PTUP v14;
			STR* v15;
			mw_mirth_type_MetaVar_typeZThen(in_ZPlusMirth_1, v13, v11, &v14, &v15);
			bool v16 = true;
			branch_Bool_9 = v16;
			branch_ZPlusStr_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 3LL: { // Var
			uint64_t v17 = mtp_mirth_type_StackTypeBase_Var(in_StackTypeBase_3);
			PTUP v18;
			bool v19 = mw_mirth_var_Var_isZ_stackZAsk(in_ZPlusMirth_1, v17, &v18);
			STR* branch_ZPlusStr_20;
			if (v19) {
				branch_ZPlusStr_20 = in_ZPlusStr_2;
			} else {
				STR* v21;
				STRLIT(v21, "* ", 2);
				STR* v22;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, in_ZPlusStr_2, &v22);
				branch_ZPlusStr_20 = v22;
			}
			PTUP v23;
			STR* v24;
			mw_mirth_var_Var_typeZThen(v18, branch_ZPlusStr_20, v17, &v23, &v24);
			bool v25 = true;
			branch_Bool_9 = v25;
			branch_ZPlusStr_8 = v24;
			branch_ZPlusMirth_7 = v23;
		} break;
		case 0LL: { // Error
			STR* v26;
			STRLIT(v26, "*<ERROR>", 8);
			STR* v27;
			mw_std_str_ZPlusStr_pushZ_strZBang(v26, in_ZPlusStr_2, &v27);
			bool v28 = true;
			branch_Bool_9 = v28;
			branch_ZPlusStr_8 = v27;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			STR* v29;
			STRLIT(v29, "*_", 2);
			STR* v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, in_ZPlusStr_2, &v30);
			bool v31 = true;
			branch_Bool_9 = v31;
			branch_ZPlusStr_8 = v30;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Bool_9;
}
static PTUP mw_mirth_type_StackTypeBase_ctypeZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackTypeBase_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_StackTypeBase_2)) {
		case 0LL: { // Error
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v8 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			PTUP v9 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v10 = mtp_mirth_type_StackTypeBase_Meta(in_StackTypeBase_2);
			PTUP v11 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Var
			uint64_t v12 = mtp_mirth_type_StackTypeBase_Var(in_StackTypeBase_2);
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v12));
			branch_Maybe_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static bool mw_mirth_type_StackTypeBase_isZ_fixedZAsk (PTUP in_ZPlusMirth_1, PTUP in_StackTypeBase_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_StackTypeBase_2)) {
		case 2LL: { // Unit
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Var
			uint64_t v8 = mtp_mirth_type_StackTypeBase_Var(in_StackTypeBase_2);
			bool v9 = true;
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v10 = false;
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Error
			bool v11 = false;
			branch_Bool_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v12 = mtp_mirth_type_StackTypeBase_Meta(in_StackTypeBase_2);
			bool v13 = false;
			branch_Bool_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static PTUP mw_mirth_type_StackTypePart_cons (PTUP in_StackType_1, PTUP in_StackTypePart_2) {
	PTUP branch_StackType_4;
	switch (PTREXTRA(in_StackTypePart_2)) {
		case 0LL: { // Cons
			PTUP v5 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_2);
			PTUP v6 = mtw_mirth_type_StackType_Cons(in_StackType_1, v5);
			branch_StackType_4 = v6;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v7;
			PTUP v8 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_2, &v7);
			PTUP v9 = mtw_mirth_type_StackType_ConsLabel(in_StackType_1, v8, v7);
			branch_StackType_4 = v9;
		} break;
		case 2LL: { // With
			PTUP v10 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_2);
			PTUP v11 = mtw_mirth_type_StackType_With(in_StackType_1, v10);
			branch_StackType_4 = v11;
		} break;
		case 3LL: { // WithLabel
			uint64_t v12;
			PTUP v13 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_2, &v12);
			PTUP v14 = mtw_mirth_type_StackType_WithLabel(in_StackType_1, v13, v12);
			branch_StackType_4 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_StackType_4;
}
static PTUP mw_mirth_type_StackTypePart_typeZDivresource (PTUP in_StackTypePart_1) {
	PTUP branch_Either_3;
	switch (PTREXTRA(in_StackTypePart_1)) {
		case 0LL: { // Cons
			PTUP v4 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_1);
			PTUP v5 = mtw_std_either_Either_2_Left(MKTUP(v4));
			branch_Either_3 = v5;
		} break;
		case 2LL: { // With
			PTUP v6 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_1);
			PTUP v7 = mtw_std_either_Either_2_Right(MKTUP(v6));
			branch_Either_3 = v7;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v8;
			PTUP v9 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_1, &v8);
			PTUP v10 = mtw_std_either_Either_2_Left(MKTUP(v9));
			branch_Either_3 = v10;
		} break;
		case 3LL: { // WithLabel
			uint64_t v11;
			PTUP v12 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_1, &v11);
			PTUP v13 = mtw_std_either_Either_2_Right(MKTUP(v12));
			branch_Either_3 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Either_3;
}
static PTUP mw_mirth_type_StackTypePart_label (PTUP in_StackTypePart_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_StackTypePart_1)) {
		case 0LL: { // Cons
			PTUP v4 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_1);
			decref(MKTUP(v4));
			PTUP v5 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v5;
		} break;
		case 2LL: { // With
			PTUP v6 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_1);
			decref(MKTUP(v6));
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v7;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v8;
			PTUP v9 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_1, &v8);
			decref(MKTUP(v9));
			PTUP v10 = mtw_std_maybe_Maybe_1_Some(MKU64(v8));
			branch_Maybe_3 = v10;
		} break;
		case 3LL: { // WithLabel
			uint64_t v11;
			PTUP v12 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_1, &v11);
			decref(MKTUP(v12));
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v11));
			branch_Maybe_3 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_type_StackTypePart_ctype (PTUP in_ZPlusMirth_1, PTUP in_StackTypePart_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_CTypeStackPart_6;
	switch (PTREXTRA(in_StackTypePart_2)) {
		case 0LL: { // Cons
			PTUP v7 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_2);
			PTUP v8;
			PTUP v9 = mw_mirth_type_Type_ctype(in_ZPlusMirth_1, v7, &v8);
			PTUP v10 = mtw_mirth_type_CTypeStackPart_Cons(v9);
			branch_CTypeStackPart_6 = v10;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v11;
			PTUP v12 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_2, &v11);
			PTUP v13;
			PTUP v14 = mw_mirth_type_Type_ctype(in_ZPlusMirth_1, v12, &v13);
			PTUP v15 = mtw_mirth_type_CTypeStackPart_ConsLabel(v14, v11);
			branch_CTypeStackPart_6 = v15;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 2LL: { // With
			PTUP v16 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_2);
			PTUP v17;
			PTUP v18 = mw_mirth_type_Resource_ctype(in_ZPlusMirth_1, v16, &v17);
			PTUP v19 = mtw_mirth_type_CTypeStackPart_With(v18);
			branch_CTypeStackPart_6 = v19;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 3LL: { // WithLabel
			uint64_t v20;
			PTUP v21 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_2, &v20);
			PTUP v22;
			PTUP v23 = mw_mirth_type_Resource_ctype(in_ZPlusMirth_1, v21, &v22);
			PTUP v24 = mtw_mirth_type_CTypeStackPart_WithLabel(v23, v20);
			branch_CTypeStackPart_6 = v24;
			branch_ZPlusMirth_5 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_CTypeStackPart_6;
}
static PTUP mw_mirth_type_ArrowType_FreshZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4;
	PTUP v5 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v4);
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_FreshZBang(v4, &v6);
	PTUP v8 = mw_mirth_type_TZ_ZTo(v5, v7);
	*out_ZPlusMirth_2 = v6;
	return v8;
}
static PTUP mw_mirth_type_ArrowType_invert (PTUP in_ArrowType_1) {
	PTUP v3;
	PTUP v4;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_1, &v3, &v4);
	PTUP v5 = mtw_mirth_type_ArrowType_ArrowType(v4, v3);
	return v5;
}
static PTUP mw_mirth_type_ArrowType_unifyZBang (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v6, &v7);
	PTUP v8;
	PTUP v9;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v8, &v9);
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, v8, v6, &v10);
	PTUP v12;
	PTUP v13 = mw_mirth_type_StackType_unifyZBang(v10, v9, v7, &v12);
	PTUP v14 = mtw_mirth_type_ArrowType_ArrowType(v11, v13);
	*out_ZPlusMirth_4 = v12;
	return v14;
}
static PTUP mw_mirth_type_ArrowType_unifyZ_errorZBang (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_ArrowType_2));
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ArrowType_2))->cells[0]);
	incref(MKTUP(v5));
	decref(MKTUP(in_ArrowType_2));
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, v5, &v6);
	VAL v8 = tup_replace(MKTUP(in_ArrowType_2), 0, MKTUP(v7));
	incref(MKTUP(VTUP(v8)));
	PTUP v9 = VTUP(((TUP*)PTRPTR(VTUP(v8)))->cells[1]);
	incref(MKTUP(v9));
	decref(MKTUP(VTUP(v8)));
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_unifyZ_errorZBang(v6, v9, &v10);
	VAL v12 = tup_replace(MKTUP(VTUP(v8)), 1, MKTUP(v11));
	*out_ZPlusMirth_3 = v10;
	return VTUP(v12);
}
static bool mw_mirth_type_ArrowType_hasZ_metaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_MetaVar_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v6, &v7);
	incref(MKU64(in_MetaVar_2));
	PTUP v8;
	bool v9 = mw_mirth_type_StackType_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_MetaVar_2)), v6, &v8);
	PTUP branch_ZPlusMirth_10;
	bool branch_Bool_11;
	if (v9) {
		decref(MKTUP(VTUP(MKTUP(v7))));
		decref(MKU64(value_u64(MKU64(in_MetaVar_2))));
		bool v12 = true;
		branch_Bool_11 = v12;
		branch_ZPlusMirth_10 = v8;
	} else {
		PTUP v13;
		bool v14 = mw_mirth_type_StackType_hasZ_metaZAsk(v8, value_u64(MKU64(in_MetaVar_2)), VTUP(MKTUP(v7)), &v13);
		branch_Bool_11 = v14;
		branch_ZPlusMirth_10 = v13;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Bool_11;
}
static bool mw_mirth_type_ArrowType_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v6, &v7);
	incref(MKU64(in_Var_2));
	PTUP v8;
	bool v9 = mw_mirth_type_StackType_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(in_Var_2)), v6, &v8);
	PTUP branch_ZPlusMirth_10;
	bool branch_Bool_11;
	if (v9) {
		decref(MKTUP(VTUP(MKTUP(v7))));
		decref(MKU64(value_u64(MKU64(in_Var_2))));
		bool v12 = true;
		branch_Bool_11 = v12;
		branch_ZPlusMirth_10 = v8;
	} else {
		PTUP v13;
		bool v14 = mw_mirth_type_StackType_hasZ_varZAsk(v8, value_u64(MKU64(in_Var_2)), VTUP(MKTUP(v7)), &v13);
		branch_Bool_11 = v14;
		branch_ZPlusMirth_10 = v13;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Bool_11;
}
static void mw_mirth_type_ArrowType_sigZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v6, &v7);
	PTUP v8;
	STR* v9;
	mw_mirth_type_StackType_domZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v8, &v9);
	STR* v10;
	STRLIT(v10, "--", 2);
	STR* v11;
	mw_std_str_ZPlusStr_pushZ_strZBang(v10, v9, &v11);
	PTUP v12;
	STR* v13;
	mw_mirth_type_StackType_codZThen(v8, v11, v7, &v12, &v13);
	*out_ZPlusStr_5 = v13;
	*out_ZPlusMirth_4 = v12;
}
static PTUP mw_mirth_type_ArrowType_semifreshenZ_sig (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_ArrowType_2));
	PTUP v5;
	bool v6 = mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk(in_ZPlusMirth_1, in_ArrowType_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ArrowType_8;
	if (v6) {
		PTUP v9;
		PTUP v10 = mw_mirth_type_ArrowType_semifreshenZ_aux(v5, in_ArrowType_2, &v9);
		branch_ArrowType_8 = v10;
		branch_ZPlusMirth_7 = v9;
	} else {
		branch_ArrowType_8 = in_ArrowType_2;
		branch_ZPlusMirth_7 = v5;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_ArrowType_8;
}
static PTUP mw_mirth_type_ArrowType_semifreshenZ_aux (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v5, &v6);
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v7);
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_semifreshen(v7, v8, v6, &v9, &v10);
	PTUP v12;
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_semifreshen(v9, v11, v5, &v12, &v13);
	PTUP v15 = mtw_mirth_type_ArrowType_ArrowType(v13, v10);
	decref(MKTUP(v14));
	*out_ZPlusMirth_3 = v12;
	return VTUP(MKTUP(v15));
}
static bool mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v5, &v6);
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_base(in_ZPlusMirth_1, v5, &v7);
	PTUP v9;
	bool v10 = mw_mirth_type_StackTypeBase_unitZAsk(v7, v8, &v9);
	PTUP branch_StackType_11;
	PTUP branch_ZPlusMirth_12;
	bool branch_Bool_13;
	if (v10) {
		incref(MKTUP(v6));
		PTUP v14;
		PTUP v15 = mw_mirth_type_StackType_base(v9, v6, &v14);
		PTUP v16;
		bool v17 = mw_mirth_type_StackTypeBase_unitZAsk(v14, v15, &v16);
		branch_Bool_13 = v17;
		branch_ZPlusMirth_12 = v16;
		branch_StackType_11 = v6;
	} else {
		bool v18 = false;
		branch_Bool_13 = v18;
		branch_ZPlusMirth_12 = v9;
		branch_StackType_11 = v6;
	}
	decref(MKTUP(branch_StackType_11));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return branch_Bool_13;
}
static PTUP mw_mirth_type_ArrowType_freshenZ_sig (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6) {
	incref(MKTUP(in_ArrowType_3));
	PTUP v7;
	bool v8 = mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk(in_ZPlusMirth_1, in_ArrowType_3, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_Subst_10;
	PTUP branch_ArrowType_11;
	if (v8) {
		PTUP v12;
		PTUP v13;
		PTUP v14 = mw_mirth_type_ArrowType_freshenZ_sigZ_aux(v7, in_Subst_2, in_ArrowType_3, &v12, &v13);
		branch_ArrowType_11 = v13;
		branch_Subst_10 = v14;
		branch_ZPlusMirth_9 = v12;
	} else {
		PTUP v15;
		PTUP v16;
		PTUP v17 = mw_mirth_type_ArrowType_freshen(v7, in_Subst_2, in_ArrowType_3, &v15, &v16);
		branch_ArrowType_11 = v16;
		branch_Subst_10 = v17;
		branch_ZPlusMirth_9 = v15;
	}
	*out_ArrowType_6 = branch_ArrowType_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Subst_10;
}
static PTUP mw_mirth_type_ArrowType_freshenZ_sigZ_aux (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6) {
	PTUP v7;
	PTUP v8;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v7, &v8);
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v9);
	PTUP v11;
	PTUP v12;
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_freshenZ_aux(v9, v10, in_Subst_2, v7, &v11, &v12, &v13);
	PTUP v15;
	PTUP v16;
	PTUP v17;
	PTUP v18 = mw_mirth_type_StackType_freshenZ_aux(v11, v14, v12, v8, &v15, &v16, &v17);
	PTUP v19 = mtw_mirth_type_ArrowType_ArrowType(v13, v17);
	decref(MKTUP(v18));
	*out_ArrowType_6 = VTUP(MKTUP(v19));
	*out_ZPlusMirth_4 = v15;
	return VTUP(MKTUP(v16));
}
static PTUP mw_mirth_type_ArrowType_freshen (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6) {
	PTUP v7;
	PTUP v8;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v7, &v8);
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_freshen(in_ZPlusMirth_1, in_Subst_2, v7, &v9, &v10);
	PTUP v12;
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_freshen(v9, v11, v8, &v12, &v13);
	PTUP v15 = mtw_mirth_type_ArrowType_ArrowType(v10, v13);
	*out_ArrowType_6 = v15;
	*out_ZPlusMirth_4 = v12;
	return v14;
}
static PTUP mw_mirth_type_ArrowType_rigidifyZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6) {
	PTUP v7;
	PTUP v8;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v7, &v8);
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v7, &v9, &v10);
	PTUP v12;
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_rigidifyZBang(v9, v11, v8, &v12, &v13);
	PTUP v15 = mtw_mirth_type_ArrowType_ArrowType(v10, v13);
	*out_ArrowType_6 = v15;
	*out_ZPlusMirth_4 = v12;
	return v14;
}
static PTUP mw_mirth_type_ArrowType_rigidifyZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_Ctx_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ArrowType_6) {
	incref(MKTUP(in_ArrowType_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ArrowType_3))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(in_ArrowType_3));
	PTUP v8;
	PTUP v9 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v7, &v8);
	PTUP branch_ArrowType_10;
	PTUP branch_ZPlusMirth_11;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v9);
			incref(MKTUP(in_ArrowType_3));
			PTUP v13 = VTUP(((TUP*)PTRPTR(in_ArrowType_3))->cells[1]);
			incref(MKTUP(v13));
			decref(MKTUP(in_ArrowType_3));
			PTUP v14;
			PTUP v15 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v8, v13, &v14);
			PTUP branch_ZPlusMirth_16;
			uint64_t branch_MetaVar_17;
			switch (PTREXTRA(v15)) {
				case 1LL: { // Some
					VAL v18 = mtp_std_maybe_Maybe_1_Some(v15);
					incref(MKU64(value_u64(v12)));
					bool v19 = (value_u64(MKU64(value_u64(v12))) == value_u64(v18));
					uint64_t branch_MetaVar_20;
					PTUP branch_ZPlusMirth_21;
					if (v19) {
						PTUP v22 = mw_mirth_type_Type_Unit();
						PTUP v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(v22));
						incref(MKU64(value_u64(MKU64(value_u64(v12)))));
						PTUP v24;
						mw_mirth_type_MetaVar_typeZAskZBang(v14, VTUP(MKTUP(v23)), value_u64(MKU64(value_u64(MKU64(value_u64(v12))))), &v24);
						branch_ZPlusMirth_21 = v24;
						branch_MetaVar_20 = value_u64(MKU64(value_u64(MKU64(value_u64(v12)))));
					} else {
						branch_ZPlusMirth_21 = v14;
						branch_MetaVar_20 = value_u64(MKU64(value_u64(v12)));
					}
					branch_MetaVar_17 = branch_MetaVar_20;
					branch_ZPlusMirth_16 = branch_ZPlusMirth_21;
				} break;
				case 0LL: { // None
					branch_MetaVar_17 = value_u64(v12);
					branch_ZPlusMirth_16 = v14;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusMirth_11 = branch_ZPlusMirth_16;
			branch_ArrowType_10 = in_ArrowType_3;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_11 = v8;
			branch_ArrowType_10 = in_ArrowType_3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v25;
	PTUP v26;
	PTUP v27 = mw_mirth_type_ArrowType_rigidifyZBang(branch_ZPlusMirth_11, in_Ctx_2, branch_ArrowType_10, &v25, &v26);
	*out_ArrowType_6 = v26;
	*out_ZPlusMirth_4 = v25;
	return v27;
}
static PTUP mw_mirth_type_ArrowType_ctype (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v5, &v6);
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_ctype(in_ZPlusMirth_1, v5, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_ctype(v7, v6, &v9);
	PTUP v11 = mtw_mirth_type_CTypeArrow_CTypeArrow(v8, v10);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static PTUP mw_mirth_type_Subst_Nil (void) {
	PTUP v2 = mw_std_map_Map_2_Nil();
	return v2;
}
static PTUP mw_mirth_type_Subst_cons (PTUP in_Type_1, uint64_t in_Var_2, PTUP in_Subst_3) {
	PTUP v5 = mtw_std_map_KeyValuePair_2_KeyValuePair(MKU64(in_Var_2), MKTUP(in_Type_1));
	incref(MKTUP(in_Subst_3));
	PTUP v6 = mw_std_map_Map_2_insert(v5, in_Subst_3);
	decref(MKTUP(in_Subst_3));
	return v6;
}
static PTUP mw_mirth_type_Subst_lookupZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Subst_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mw_std_map_Map_2_lookup_sp3(in_Var_2, in_Subst_3);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return v6;
}
static bool mw_mirth_type_Subst_hasZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Subst_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_Subst_lookupZ_var(in_ZPlusMirth_1, in_Var_2, in_Subst_3, &v6);
	int64_t v8 = PTREXTRA(v7);
	decref(MKTUP(v7));
	INT v9 = WRAP_I63(0LL);
	INT v10 = v9;
	INT v11 = i64_to_int(v8);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	*out_ZPlusMirth_4 = v6;
	return v13;
}
static PTUP mw_mirth_type_Subst_getZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Var_2, PTUP in_Subst_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_Subst_lookupZ_var(in_ZPlusMirth_1, in_Var_2, in_Subst_3, &v6);
	PTUP branch_Type_8;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_Type_8 = VTUP(v9);
		} break;
		case 0LL: { // None
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			branch_Type_8 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = v6;
	return branch_Type_8;
}
static PTUP mw_mirth_type_Type_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Subst_8;
	PTUP branch_Type_9;
	switch (PTREXTRA(in_Type_3)) {
		case 0LL: { // Error
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			branch_Type_9 = v10;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v11 = PTRMK(1LL /* Ignore */,0,0);
			branch_Type_9 = v11;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v12 = mtp_mirth_type_Type_Prim(in_Type_3);
			PTUP v13 = mtw_mirth_type_Type_Prim(v12);
			branch_Type_9 = v13;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Meta
			uint64_t v14 = mtp_mirth_type_Type_Meta(in_Type_3);
			PTUP v15;
			PTUP v16 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v14, &v15);
			PTUP branch_Subst_17;
			PTUP branch_ZPlusMirth_18;
			PTUP branch_Type_19;
			switch (PTREXTRA(v16)) {
				case 0LL: { // None
					PTUP v20 = mtw_mirth_type_Type_Meta(v14);
					branch_Type_19 = v20;
					branch_ZPlusMirth_18 = v15;
					branch_Subst_17 = in_Subst_2;
				} break;
				case 1LL: { // Some
					VAL v21 = mtp_std_maybe_Maybe_1_Some(v16);
					PTUP v22;
					PTUP v23 = mw_mirth_type_Type_expand(v15, VTUP(v21), &v22);
					incref(MKTUP(v23));
					PTUP v24 = mtw_std_maybe_Maybe_1_Some(MKTUP(v23));
					PTUP v25;
					mw_mirth_type_MetaVar_typeZAskZBang(v22, v24, value_u64(MKU64(v14)), &v25);
					PTUP v26;
					PTUP v27;
					PTUP v28 = mw_mirth_type_Type_applyZ_subst(v25, in_Subst_2, VTUP(MKTUP(v23)), &v26, &v27);
					branch_Type_19 = v28;
					branch_ZPlusMirth_18 = v26;
					branch_Subst_17 = v27;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_9 = branch_Type_19;
			branch_Subst_8 = branch_Subst_17;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_18;
		} break;
		case 4LL: { // Hole
			uint64_t v29 = mtp_mirth_type_Type_Hole(in_Type_3);
			PTUP v30 = mtw_mirth_type_Type_Hole(v29);
			branch_Type_9 = v30;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v31 = mtp_mirth_type_Type_Var(in_Type_3);
			incref(MKTUP(in_Subst_2));
			PTUP v32;
			PTUP v33 = mw_mirth_type_Subst_lookupZ_var(in_ZPlusMirth_1, v31, in_Subst_2, &v32);
			PTUP branch_Type_34;
			switch (PTREXTRA(v33)) {
				case 1LL: { // Some
					VAL v35 = mtp_std_maybe_Maybe_1_Some(v33);
					decref(MKU64(v31));
					branch_Type_34 = VTUP(v35);
				} break;
				case 0LL: { // None
					PTUP v36 = mtw_mirth_type_Type_Var(v31);
					branch_Type_34 = v36;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_9 = branch_Type_34;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = v32;
		} break;
		case 6LL: { // Table
			uint64_t v37 = mtp_mirth_type_Type_Table(in_Type_3);
			PTUP v38 = mtw_mirth_type_Type_Table(v37);
			branch_Type_9 = v38;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v39 = mtp_mirth_type_Type_Data(in_Type_3);
			PTUP v40 = mtw_mirth_type_Type_Data(v39);
			branch_Type_9 = v40;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			PTUP v41 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			PTUP v42 = mtw_mirth_type_Type_DataPartial(v41);
			branch_Type_9 = v42;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			PTUP v43 = mtp_mirth_type_Type_Stack(in_Type_3);
			PTUP v44;
			PTUP v45;
			PTUP v46 = mw_mirth_type_StackType_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v43, &v44, &v45);
			PTUP v47 = mtw_mirth_type_Type_Stack(v46);
			branch_Type_9 = v47;
			branch_Subst_8 = v45;
			branch_ZPlusMirth_7 = v44;
		} break;
		case 10LL: { // Arrow
			PTUP v48 = mtp_mirth_type_Type_Arrow(in_Type_3);
			PTUP v49;
			PTUP v50;
			PTUP v51 = mw_mirth_type_ArrowType_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v48, &v49, &v50);
			PTUP v52 = mtw_mirth_type_Type_Arrow(v51);
			branch_Type_9 = v52;
			branch_Subst_8 = v50;
			branch_ZPlusMirth_7 = v49;
		} break;
		case 11LL: { // App
			PTUP v53;
			PTUP v54 = mtp_mirth_type_Type_App(in_Type_3, &v53);
			PTUP v55;
			PTUP v56;
			PTUP v57 = mw_mirth_type_Type_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v54, &v55, &v56);
			PTUP v58;
			PTUP v59;
			PTUP v60 = mw_mirth_type_Type_applyZ_subst(v55, v56, v53, &v58, &v59);
			PTUP v61 = mtw_mirth_type_Type_App(VTUP(MKTUP(v57)), v60);
			branch_Type_9 = v61;
			branch_Subst_8 = v59;
			branch_ZPlusMirth_7 = v58;
		} break;
		case 12LL: { // Mut
			PTUP v62 = mtp_mirth_type_Type_Mut(in_Type_3);
			PTUP v63;
			PTUP v64;
			PTUP v65 = mw_mirth_type_Type_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v62, &v63, &v64);
			PTUP v66 = mtw_mirth_type_Type_Mut(v65);
			branch_Type_9 = v66;
			branch_Subst_8 = v64;
			branch_ZPlusMirth_7 = v63;
		} break;
		case 13LL: { // Value
			PTUP v67 = mtp_mirth_type_Type_Value(in_Type_3);
			PTUP v68;
			PTUP v69;
			PTUP v70 = mw_mirth_type_Value_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v67, &v68, &v69);
			branch_Type_9 = v70;
			branch_Subst_8 = v69;
			branch_ZPlusMirth_7 = v68;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Subst_5 = branch_Subst_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_9;
}
static PTUP mw_mirth_type_Value_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Subst_8;
	PTUP branch_Type_9;
	switch (PTREXTRA(in_Value_3)) {
		case 0LL: { // Int
			INT v10 = mtp_mirth_type_Value_Int(in_Value_3);
			PTUP v11 = mtw_mirth_type_Value_Int(v10);
			PTUP v12 = mtw_mirth_type_Type_Value(v11);
			branch_Type_9 = v12;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Str
			STR* v13 = mtp_mirth_type_Value_Str(in_Value_3);
			PTUP v14 = mtw_mirth_type_Value_Str(v13);
			PTUP v15 = mtw_mirth_type_Type_Value(v14);
			branch_Type_9 = v15;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // F64
			double v16 = mtp_mirth_type_Value_F64(in_Value_3);
			PTUP v17 = mtw_mirth_type_Value_F64(v16);
			PTUP v18 = mtw_mirth_type_Type_Value(v17);
			branch_Type_9 = v18;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Block
			uint64_t v19 = mtp_mirth_type_Value_Block(in_Value_3);
			PTUP v20;
			PTUP v21 = mw_mirth_arrow_Block_type(in_ZPlusMirth_1, v19, &v20);
			PTUP v22;
			PTUP v23;
			PTUP v24 = mw_mirth_type_ArrowType_applyZ_subst(v20, in_Subst_2, v21, &v22, &v23);
			PTUP v25 = mtw_mirth_type_Type_Arrow(v24);
			branch_Type_9 = v25;
			branch_Subst_8 = v23;
			branch_ZPlusMirth_7 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Subst_5 = branch_Subst_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_9;
}
static PTUP mw_mirth_type_StackType_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Subst_8;
	PTUP branch_StackType_9;
	switch (PTREXTRA(in_StackType_3)) {
		case 0LL: { // Error
			PTUP v10 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_9 = v10;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v11 = PTRMK(1LL /* Ignore */,0,0);
			branch_StackType_9 = v11;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			PTUP v12 = PTRMK(2LL /* Unit */,0,0);
			branch_StackType_9 = v12;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v13 = mtp_mirth_type_StackType_Meta(in_StackType_3);
			PTUP v14;
			PTUP v15 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v13, &v14);
			PTUP branch_Subst_16;
			PTUP branch_ZPlusMirth_17;
			PTUP branch_StackType_18;
			switch (PTREXTRA(v15)) {
				case 0LL: { // None
					PTUP v19 = mtw_mirth_type_StackType_Meta(v13);
					branch_StackType_18 = v19;
					branch_ZPlusMirth_17 = v14;
					branch_Subst_16 = in_Subst_2;
				} break;
				case 1LL: { // Some
					VAL v20 = mtp_std_maybe_Maybe_1_Some(v15);
					PTUP v21;
					PTUP v22 = mw_mirth_type_Type_expand(v14, VTUP(v20), &v21);
					incref(MKTUP(v22));
					PTUP v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(v22));
					PTUP v24;
					mw_mirth_type_MetaVar_typeZAskZBang(v21, v23, value_u64(MKU64(v13)), &v24);
					PTUP v25 = mw_mirth_type_Type_ZToStackType(VTUP(MKTUP(v22)));
					PTUP v26;
					PTUP v27;
					PTUP v28 = mw_mirth_type_StackType_applyZ_subst(v24, in_Subst_2, v25, &v26, &v27);
					branch_StackType_18 = v28;
					branch_ZPlusMirth_17 = v26;
					branch_Subst_16 = v27;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_StackType_9 = branch_StackType_18;
			branch_Subst_8 = branch_Subst_16;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_17;
		} break;
		case 3LL: { // Var
			uint64_t v29 = mtp_mirth_type_StackType_Var(in_StackType_3);
			incref(MKTUP(in_Subst_2));
			PTUP v30;
			PTUP v31 = mw_mirth_type_Subst_lookupZ_var(in_ZPlusMirth_1, v29, in_Subst_2, &v30);
			PTUP branch_StackType_32;
			switch (PTREXTRA(v31)) {
				case 1LL: { // Some
					VAL v33 = mtp_std_maybe_Maybe_1_Some(v31);
					PTUP v34 = mw_mirth_type_Type_ZToStackType(VTUP(v33));
					decref(MKU64(v29));
					branch_StackType_32 = VTUP(MKTUP(v34));
				} break;
				case 0LL: { // None
					PTUP v35 = mtw_mirth_type_StackType_Var(v29);
					branch_StackType_32 = v35;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_StackType_9 = branch_StackType_32;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = v30;
		} break;
		case 5LL: { // Cons
			PTUP v36;
			PTUP v37 = mtp_mirth_type_StackType_Cons(in_StackType_3, &v36);
			PTUP v38;
			PTUP v39;
			PTUP v40 = mw_mirth_type_StackType_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v37, &v38, &v39);
			PTUP v41;
			PTUP v42;
			PTUP v43 = mw_mirth_type_Type_applyZ_subst(v38, v39, v36, &v41, &v42);
			PTUP v44 = mtw_mirth_type_StackType_Cons(v40, v43);
			branch_StackType_9 = v44;
			branch_Subst_8 = v42;
			branch_ZPlusMirth_7 = v41;
		} break;
		case 7LL: { // With
			PTUP v45;
			PTUP v46 = mtp_mirth_type_StackType_With(in_StackType_3, &v45);
			PTUP v47;
			PTUP v48;
			PTUP v49 = mw_mirth_type_StackType_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v46, &v47, &v48);
			PTUP v50;
			PTUP v51;
			PTUP v52 = mw_mirth_type_Resource_applyZ_subst(v47, v48, v45, &v50, &v51);
			PTUP v53 = mtw_mirth_type_StackType_With(v49, v52);
			branch_StackType_9 = v53;
			branch_Subst_8 = v51;
			branch_ZPlusMirth_7 = v50;
		} break;
		case 6LL: { // ConsLabel
			PTUP v54;
			uint64_t v55;
			PTUP v56 = mtp_mirth_type_StackType_ConsLabel(in_StackType_3, &v54, &v55);
			PTUP v57;
			PTUP v58;
			PTUP v59 = mw_mirth_type_StackType_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v56, &v57, &v58);
			PTUP v60;
			PTUP v61;
			PTUP v62 = mw_mirth_type_Type_applyZ_subst(v57, v58, v54, &v60, &v61);
			PTUP v63 = mtw_mirth_type_StackType_ConsLabel(v59, v62, v55);
			branch_StackType_9 = v63;
			branch_Subst_8 = v61;
			branch_ZPlusMirth_7 = v60;
		} break;
		case 8LL: { // WithLabel
			PTUP v64;
			uint64_t v65;
			PTUP v66 = mtp_mirth_type_StackType_WithLabel(in_StackType_3, &v64, &v65);
			PTUP v67;
			PTUP v68;
			PTUP v69 = mw_mirth_type_StackType_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v66, &v67, &v68);
			PTUP v70;
			PTUP v71;
			PTUP v72 = mw_mirth_type_Resource_applyZ_subst(v67, v68, v64, &v70, &v71);
			PTUP v73 = mtw_mirth_type_StackType_WithLabel(v69, v72, v65);
			branch_StackType_9 = v73;
			branch_Subst_8 = v71;
			branch_ZPlusMirth_7 = v70;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Subst_5 = branch_Subst_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_StackType_9;
}
static PTUP mw_mirth_type_ArrowType_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_ArrowType_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5) {
	PTUP v7;
	PTUP v8;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v7, &v8);
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, v7, &v9, &v10);
	PTUP v12;
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_applyZ_subst(v9, v10, v8, &v12, &v13);
	PTUP v15 = mtw_mirth_type_ArrowType_ArrowType(v11, v14);
	*out_Subst_5 = v13;
	*out_ZPlusMirth_4 = v12;
	return v15;
}
static PTUP mw_mirth_type_Resource_applyZ_subst (PTUP in_ZPlusMirth_1, PTUP in_Subst_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_Subst_5) {
	PTUP v7;
	PTUP v8;
	PTUP v9 = mw_mirth_type_Type_applyZ_subst(in_ZPlusMirth_1, in_Subst_2, in_Resource_3, &v7, &v8);
	*out_Subst_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return v9;
}
static STR* mw_mirth_type_CType_cname (PTUP in_CType_1) {
	STR* branch_Str_3;
	switch (PTREXTRA(in_CType_1)) {
		case 0LL: { // UInt
			STR* v4 = mtp_mirth_type_CType_UInt(in_CType_1);
			branch_Str_3 = v4;
		} break;
		case 1LL: { // Int
			STR* v5 = mtp_mirth_type_CType_Int(in_CType_1);
			branch_Str_3 = v5;
		} break;
		case 2LL: { // F32
			STR* v6 = mtp_mirth_type_CType_F32(in_CType_1);
			branch_Str_3 = v6;
		} break;
		case 3LL: { // F64
			STR* v7 = mtp_mirth_type_CType_F64(in_CType_1);
			branch_Str_3 = v7;
		} break;
		case 4LL: { // Ptr
			STR* v8 = mtp_mirth_type_CType_Ptr(in_CType_1);
			branch_Str_3 = v8;
		} break;
		case 5LL: { // FnPtr
			STR* v9 = mtp_mirth_type_CType_FnPtr(in_CType_1);
			branch_Str_3 = v9;
		} break;
		case 6LL: { // Void
			STR* v10 = mtp_mirth_type_CType_Void(in_CType_1);
			branch_Str_3 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static PTUP mw_mirth_type_CType_qualify (STR* in_Str_1, PTUP in_CType_2) {
	PTUP branch_CType_4;
	switch (PTREXTRA(in_CType_2)) {
		case 0LL: { // UInt
			STR* v5 = mtp_mirth_type_CType_UInt(in_CType_2);
			STR* v6 = mw_std_prim_Str_Str_1_sp81(in_Str_1, v5);
			PTUP v7 = mtw_mirth_type_CType_UInt(v6);
			branch_CType_4 = v7;
		} break;
		case 1LL: { // Int
			STR* v8 = mtp_mirth_type_CType_Int(in_CType_2);
			STR* v9 = mw_std_prim_Str_Str_1_sp81(in_Str_1, v8);
			PTUP v10 = mtw_mirth_type_CType_Int(v9);
			branch_CType_4 = v10;
		} break;
		case 2LL: { // F32
			STR* v11 = mtp_mirth_type_CType_F32(in_CType_2);
			STR* v12 = mw_std_prim_Str_Str_1_sp81(in_Str_1, v11);
			PTUP v13 = mtw_mirth_type_CType_F32(v12);
			branch_CType_4 = v13;
		} break;
		case 3LL: { // F64
			STR* v14 = mtp_mirth_type_CType_F64(in_CType_2);
			STR* v15 = mw_std_prim_Str_Str_1_sp81(in_Str_1, v14);
			PTUP v16 = mtw_mirth_type_CType_F64(v15);
			branch_CType_4 = v16;
		} break;
		case 6LL: { // Void
			STR* v17 = mtp_mirth_type_CType_Void(in_CType_2);
			STR* v18 = mw_std_prim_Str_Str_1_sp81(in_Str_1, v17);
			PTUP v19 = mtw_mirth_type_CType_Void(v18);
			branch_CType_4 = v19;
		} break;
		case 4LL: { // Ptr
			STR* v20 = mtp_mirth_type_CType_Ptr(in_CType_2);
			STR* v21 = mw_std_prim_Str_Str_1_sp82(in_Str_1, v20);
			PTUP v22 = mtw_mirth_type_CType_Ptr(v21);
			branch_CType_4 = v22;
		} break;
		case 5LL: { // FnPtr
			STR* v23 = mtp_mirth_type_CType_FnPtr(in_CType_2);
			STR* v24 = mw_std_prim_Str_Str_1_sp82(in_Str_1, v23);
			PTUP v25 = mtw_mirth_type_CType_FnPtr(v24);
			branch_CType_4 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_CType_4;
}
static PTUP mw_mirth_type_CType_const (PTUP in_CType_1) {
	STR* v3;
	STRLIT(v3, "const", 5);
	PTUP v4 = mw_mirth_type_CType_qualify(v3, in_CType_1);
	return v4;
}
static PTUP mw_mirth_type_CType_restrict (PTUP in_CType_1) {
	STR* v3;
	STRLIT(v3, "restrict", 8);
	PTUP v4 = mw_mirth_type_CType_qualify(v3, in_CType_1);
	return v4;
}
static PTUP mw_mirth_type_CType_volatile (PTUP in_CType_1) {
	STR* v3;
	STRLIT(v3, "volatile", 8);
	PTUP v4 = mw_mirth_type_CType_qualify(v3, in_CType_1);
	return v4;
}
static PTUP mw_mirth_type_CType_ptr (PTUP in_CType_1) {
	STR* v3 = mw_mirth_type_CType_cname(in_CType_1);
	STR* v4;
	STRLIT(v4, " *", 2);
	STR* v5 = str_cat(v3, v4);
	PTUP v6 = mtw_mirth_type_CType_Ptr(v5);
	return v6;
}
static bool mw_mirth_type_CType_phantomZAsk (PTUP in_CType_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_CType_1)) {
		case 6LL: { // Void
			STR* v4 = mtp_mirth_type_CType_Void(in_CType_1);
			decref(MKSTR(v4));
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_CType_1));
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
	}
	return branch_Bool_3;
}
static PTUP mw_mirth_type_CTypeStackPart_ctype (PTUP in_CTypeStackPart_1) {
	PTUP branch_CType_3;
	switch (PTREXTRA(in_CTypeStackPart_1)) {
		case 0LL: { // Cons
			PTUP v4 = mtp_mirth_type_CTypeStackPart_Cons(in_CTypeStackPart_1);
			branch_CType_3 = v4;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v5;
			PTUP v6 = mtp_mirth_type_CTypeStackPart_ConsLabel(in_CTypeStackPart_1, &v5);
			branch_CType_3 = v6;
		} break;
		case 2LL: { // With
			PTUP v7 = mtp_mirth_type_CTypeStackPart_With(in_CTypeStackPart_1);
			branch_CType_3 = v7;
		} break;
		case 3LL: { // WithLabel
			uint64_t v8;
			PTUP v9 = mtp_mirth_type_CTypeStackPart_WithLabel(in_CTypeStackPart_1, &v8);
			branch_CType_3 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_CType_3;
}
static PTUP mw_mirth_type_CTypeStackPart_labelZAsk (PTUP in_CTypeStackPart_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_CTypeStackPart_1)) {
		case 0LL: { // Cons
			PTUP v4 = mtp_mirth_type_CTypeStackPart_Cons(in_CTypeStackPart_1);
			decref(MKTUP(v4));
			PTUP v5 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v6;
			PTUP v7 = mtp_mirth_type_CTypeStackPart_ConsLabel(in_CTypeStackPart_1, &v6);
			decref(MKTUP(v7));
			PTUP v8 = mtw_std_maybe_Maybe_1_Some(MKU64(v6));
			branch_Maybe_3 = v8;
		} break;
		case 2LL: { // With
			PTUP v9 = mtp_mirth_type_CTypeStackPart_With(in_CTypeStackPart_1);
			decref(MKTUP(v9));
			PTUP v10 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v10;
		} break;
		case 3LL: { // WithLabel
			uint64_t v11;
			PTUP v12 = mtp_mirth_type_CTypeStackPart_WithLabel(in_CTypeStackPart_1, &v11);
			decref(MKTUP(v12));
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v11));
			branch_Maybe_3 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_prim_Prim_Min (void) {
	int64_t v2 = 0LL /* Id */;
	return v2;
}
static int64_t mw_mirth_prim_Prim_Max (void) {
	int64_t v2 = 197LL /* SysArgv */;
	return v2;
}
static INT mw_mirth_prim_Prim_ZToInt (int64_t in_Prim_1) {
	int64_t v3 = in_Prim_1;
	INT v4 = i64_to_int(v3);
	return v4;
}
static bool mw_mirth_prim_Prim_ZEqual (int64_t in_Prim_1, int64_t in_Prim_2) {
	INT v4 = mw_mirth_prim_Prim_ZToInt(in_Prim_1);
	INT v5 = mw_mirth_prim_Prim_ZToInt(in_Prim_2);
	bool v6 = int_eq(value_int(MKINT(v4)), v5);
	return v6;
}
static uint64_t mw_mirth_prim_Prim_name (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3) {
	STR* v5 = mw_mirth_prim_Prim_str(in_Prim_2);
	PTUP v6;
	uint64_t v7 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static PTUP mw_mirth_prim_Prim_qname (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_prim_Prim_namespace(in_ZPlusMirth_1, in_Prim_2, &v5);
	INT v7;
	STR* v8 = mw_mirth_prim_Prim_strZ_arity(in_Prim_2, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_name_Name_Name(v5, v8, &v9);
	PTUP v11 = mw_mirth_name_QName_Mk(v6, v10, v7);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static PTUP mw_mirth_prim_Prim_namespace (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_name_Namespace_Prim(in_ZPlusMirth_1, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static void mw_mirth_prim_Prim_registerZBang (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4 = mtw_mirth_def_Def_Prim(in_Prim_2);
	PTUP v5;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v4, &v5);
	*out_ZPlusMirth_3 = v5;
}
static INT mw_mirth_prim_Prim_arity (int64_t in_Prim_1) {
	INT v3;
	STR* v4 = mw_mirth_prim_Prim_strZ_arity(in_Prim_1, &v3);
	decref(MKSTR(v4));
	return value_int(MKINT(v3));
}
static STR* mw_mirth_prim_Prim_str (int64_t in_Prim_1) {
	INT v3;
	STR* v4 = mw_mirth_prim_Prim_strZ_arity(in_Prim_1, &v3);
	decref(MKINT(v3));
	return v4;
}
static STR* mw_mirth_prim_Prim_strZ_arity (int64_t in_Prim_1, INT *out_Int_3) {
	STR* branch_Str_4;
	INT branch_Int_5;
	switch (in_Prim_1) {
		case 0LL: { // Id
			STR* v6;
			STRLIT(v6, "prim-id", 7);
			INT v7 = WRAP_I63(0LL);
			branch_Int_5 = v7;
			branch_Str_4 = v6;
		} break;
		case 1LL: { // Dup
			STR* v8;
			STRLIT(v8, "prim-dup", 8);
			INT v9 = WRAP_I63(0LL);
			branch_Int_5 = v9;
			branch_Str_4 = v8;
		} break;
		case 2LL: { // Drop
			STR* v10;
			STRLIT(v10, "prim-drop", 9);
			INT v11 = WRAP_I63(0LL);
			branch_Int_5 = v11;
			branch_Str_4 = v10;
		} break;
		case 3LL: { // Swap
			STR* v12;
			STRLIT(v12, "prim-swap", 9);
			INT v13 = WRAP_I63(0LL);
			branch_Int_5 = v13;
			branch_Str_4 = v12;
		} break;
		case 4LL: { // RSwap
			STR* v14;
			STRLIT(v14, "prim-rswap", 10);
			INT v15 = WRAP_I63(0LL);
			branch_Int_5 = v15;
			branch_Str_4 = v14;
		} break;
		case 5LL: { // Dip
			STR* v16;
			STRLIT(v16, "prim-dip", 8);
			INT v17 = WRAP_I63(1LL);
			branch_Int_5 = v17;
			branch_Str_4 = v16;
		} break;
		case 6LL: { // RDip
			STR* v18;
			STRLIT(v18, "prim-rdip", 9);
			INT v19 = WRAP_I63(1LL);
			branch_Int_5 = v19;
			branch_Str_4 = v18;
		} break;
		case 7LL: { // If
			STR* v20;
			STRLIT(v20, "prim-if", 7);
			INT v21 = WRAP_I63(2LL);
			branch_Int_5 = v21;
			branch_Str_4 = v20;
		} break;
		case 8LL: { // While
			STR* v22;
			STRLIT(v22, "prim-while", 10);
			INT v23 = WRAP_I63(2LL);
			branch_Int_5 = v23;
			branch_Str_4 = v22;
		} break;
		case 9LL: { // Panic
			STR* v24;
			STRLIT(v24, "prim-panic", 10);
			INT v25 = WRAP_I63(0LL);
			branch_Int_5 = v25;
			branch_Str_4 = v24;
		} break;
		case 10LL: { // Run
			STR* v26;
			STRLIT(v26, "prim-run", 8);
			INT v27 = WRAP_I63(0LL);
			branch_Int_5 = v27;
			branch_Str_4 = v26;
		} break;
		case 11LL: { // DebugMode
			STR* v28;
			STRLIT(v28, "prim-debug-mode", 15);
			INT v29 = WRAP_I63(1LL);
			branch_Int_5 = v29;
			branch_Str_4 = v28;
		} break;
		case 12LL: { // DebugTrace
			STR* v30;
			STRLIT(v30, "prim-debug-trace", 16);
			INT v31 = WRAP_I63(0LL);
			branch_Int_5 = v31;
			branch_Str_4 = v30;
		} break;
		case 13LL: { // DebugTraceValue
			STR* v32;
			STRLIT(v32, "prim-debug-trace-value", 22);
			INT v33 = WRAP_I63(0LL);
			branch_Int_5 = v33;
			branch_Str_4 = v32;
		} break;
		case 14LL: { // DebugTraceResource
			STR* v34;
			STRLIT(v34, "prim-debug-trace-resource", 25);
			INT v35 = WRAP_I63(0LL);
			branch_Int_5 = v35;
			branch_Str_4 = v34;
		} break;
		case 15LL: { // DebugTraceStack
			STR* v36;
			STRLIT(v36, "prim-debug-trace-stack", 22);
			INT v37 = WRAP_I63(0LL);
			branch_Int_5 = v37;
			branch_Str_4 = v36;
		} break;
		case 16LL: { // DebugGetNumRefs
			STR* v38;
			STRLIT(v38, "prim-debug-get-num-refs", 23);
			INT v39 = WRAP_I63(0LL);
			branch_Int_5 = v39;
			branch_Str_4 = v38;
		} break;
		case 17LL: { // DebugGetIdentity
			STR* v40;
			STRLIT(v40, "prim-debug-get-identity", 23);
			INT v41 = WRAP_I63(0LL);
			branch_Int_5 = v41;
			branch_Str_4 = v40;
		} break;
		case 18LL: { // IntEq
			STR* v42;
			STRLIT(v42, "prim-int-eq", 11);
			INT v43 = WRAP_I63(0LL);
			branch_Int_5 = v43;
			branch_Str_4 = v42;
		} break;
		case 19LL: { // IntLt
			STR* v44;
			STRLIT(v44, "prim-int-lt", 11);
			INT v45 = WRAP_I63(0LL);
			branch_Int_5 = v45;
			branch_Str_4 = v44;
		} break;
		case 20LL: { // IntLe
			STR* v46;
			STRLIT(v46, "prim-int-le", 11);
			INT v47 = WRAP_I63(0LL);
			branch_Int_5 = v47;
			branch_Str_4 = v46;
		} break;
		case 21LL: { // IntGt
			STR* v48;
			STRLIT(v48, "prim-int-gt", 11);
			INT v49 = WRAP_I63(0LL);
			branch_Int_5 = v49;
			branch_Str_4 = v48;
		} break;
		case 22LL: { // IntGe
			STR* v50;
			STRLIT(v50, "prim-int-ge", 11);
			INT v51 = WRAP_I63(0LL);
			branch_Int_5 = v51;
			branch_Str_4 = v50;
		} break;
		case 23LL: { // IntNe
			STR* v52;
			STRLIT(v52, "prim-int-ne", 11);
			INT v53 = WRAP_I63(0LL);
			branch_Int_5 = v53;
			branch_Str_4 = v52;
		} break;
		case 24LL: { // IntAdd
			STR* v54;
			STRLIT(v54, "prim-int-add", 12);
			INT v55 = WRAP_I63(0LL);
			branch_Int_5 = v55;
			branch_Str_4 = v54;
		} break;
		case 25LL: { // IntSub
			STR* v56;
			STRLIT(v56, "prim-int-sub", 12);
			INT v57 = WRAP_I63(0LL);
			branch_Int_5 = v57;
			branch_Str_4 = v56;
		} break;
		case 26LL: { // IntMul
			STR* v58;
			STRLIT(v58, "prim-int-mul", 12);
			INT v59 = WRAP_I63(0LL);
			branch_Int_5 = v59;
			branch_Str_4 = v58;
		} break;
		case 27LL: { // IntDivMod
			STR* v60;
			STRLIT(v60, "prim-int-divmod", 15);
			INT v61 = WRAP_I63(0LL);
			branch_Int_5 = v61;
			branch_Str_4 = v60;
		} break;
		case 28LL: { // IntToStr
			STR* v62;
			STRLIT(v62, "prim-int-to-str", 15);
			INT v63 = WRAP_I63(0LL);
			branch_Int_5 = v63;
			branch_Str_4 = v62;
		} break;
		case 29LL: { // IntToNat
			STR* v64;
			STRLIT(v64, "prim-int-to-nat", 15);
			INT v65 = WRAP_I63(0LL);
			branch_Int_5 = v65;
			branch_Str_4 = v64;
		} break;
		case 31LL: { // IntToU64
			STR* v66;
			STRLIT(v66, "prim-int-to-u64", 15);
			INT v67 = WRAP_I63(0LL);
			branch_Int_5 = v67;
			branch_Str_4 = v66;
		} break;
		case 30LL: { // IntToI64
			STR* v68;
			STRLIT(v68, "prim-int-to-i64", 15);
			INT v69 = WRAP_I63(0LL);
			branch_Int_5 = v69;
			branch_Str_4 = v68;
		} break;
		case 32LL: { // IntToF32
			STR* v70;
			STRLIT(v70, "prim-int-to-f32", 15);
			INT v71 = WRAP_I63(0LL);
			branch_Int_5 = v71;
			branch_Str_4 = v70;
		} break;
		case 33LL: { // IntToF64
			STR* v72;
			STRLIT(v72, "prim-int-to-f64", 15);
			INT v73 = WRAP_I63(0LL);
			branch_Int_5 = v73;
			branch_Str_4 = v72;
		} break;
		case 34LL: { // NatToInt
			STR* v74;
			STRLIT(v74, "prim-nat-to-int", 15);
			INT v75 = WRAP_I63(0LL);
			branch_Int_5 = v75;
			branch_Str_4 = v74;
		} break;
		case 35LL: { // U8Get
			STR* v76;
			STRLIT(v76, "prim-u8-get", 11);
			INT v77 = WRAP_I63(0LL);
			branch_Int_5 = v77;
			branch_Str_4 = v76;
		} break;
		case 36LL: { // U8Set
			STR* v78;
			STRLIT(v78, "prim-u8-set", 11);
			INT v79 = WRAP_I63(0LL);
			branch_Int_5 = v79;
			branch_Str_4 = v78;
		} break;
		case 37LL: { // U8ToU64
			STR* v80;
			STRLIT(v80, "prim-u8-to-u64", 14);
			INT v81 = WRAP_I63(0LL);
			branch_Int_5 = v81;
			branch_Str_4 = v80;
		} break;
		case 38LL: { // U16Get
			STR* v82;
			STRLIT(v82, "prim-u16-get", 12);
			INT v83 = WRAP_I63(0LL);
			branch_Int_5 = v83;
			branch_Str_4 = v82;
		} break;
		case 39LL: { // U16Set
			STR* v84;
			STRLIT(v84, "prim-u16-set", 12);
			INT v85 = WRAP_I63(0LL);
			branch_Int_5 = v85;
			branch_Str_4 = v84;
		} break;
		case 40LL: { // U16ToU64
			STR* v86;
			STRLIT(v86, "prim-u16-to-u64", 15);
			INT v87 = WRAP_I63(0LL);
			branch_Int_5 = v87;
			branch_Str_4 = v86;
		} break;
		case 41LL: { // U32Get
			STR* v88;
			STRLIT(v88, "prim-u32-get", 12);
			INT v89 = WRAP_I63(0LL);
			branch_Int_5 = v89;
			branch_Str_4 = v88;
		} break;
		case 42LL: { // U32Set
			STR* v90;
			STRLIT(v90, "prim-u32-set", 12);
			INT v91 = WRAP_I63(0LL);
			branch_Int_5 = v91;
			branch_Str_4 = v90;
		} break;
		case 43LL: { // U32ToU64
			STR* v92;
			STRLIT(v92, "prim-u32-to-u64", 15);
			INT v93 = WRAP_I63(0LL);
			branch_Int_5 = v93;
			branch_Str_4 = v92;
		} break;
		case 44LL: { // U64Get
			STR* v94;
			STRLIT(v94, "prim-u64-get", 12);
			INT v95 = WRAP_I63(0LL);
			branch_Int_5 = v95;
			branch_Str_4 = v94;
		} break;
		case 45LL: { // U64Set
			STR* v96;
			STRLIT(v96, "prim-u64-set", 12);
			INT v97 = WRAP_I63(0LL);
			branch_Int_5 = v97;
			branch_Str_4 = v96;
		} break;
		case 46LL: { // U64Eq
			STR* v98;
			STRLIT(v98, "prim-u64-eq", 11);
			INT v99 = WRAP_I63(0LL);
			branch_Int_5 = v99;
			branch_Str_4 = v98;
		} break;
		case 47LL: { // U64Lt
			STR* v100;
			STRLIT(v100, "prim-u64-lt", 11);
			INT v101 = WRAP_I63(0LL);
			branch_Int_5 = v101;
			branch_Str_4 = v100;
		} break;
		case 48LL: { // U64Le
			STR* v102;
			STRLIT(v102, "prim-u64-le", 11);
			INT v103 = WRAP_I63(0LL);
			branch_Int_5 = v103;
			branch_Str_4 = v102;
		} break;
		case 49LL: { // U64Gt
			STR* v104;
			STRLIT(v104, "prim-u64-gt", 11);
			INT v105 = WRAP_I63(0LL);
			branch_Int_5 = v105;
			branch_Str_4 = v104;
		} break;
		case 50LL: { // U64Ge
			STR* v106;
			STRLIT(v106, "prim-u64-ge", 11);
			INT v107 = WRAP_I63(0LL);
			branch_Int_5 = v107;
			branch_Str_4 = v106;
		} break;
		case 51LL: { // U64Ne
			STR* v108;
			STRLIT(v108, "prim-u64-ne", 11);
			INT v109 = WRAP_I63(0LL);
			branch_Int_5 = v109;
			branch_Str_4 = v108;
		} break;
		case 52LL: { // U64Add
			STR* v110;
			STRLIT(v110, "prim-u64-add", 12);
			INT v111 = WRAP_I63(0LL);
			branch_Int_5 = v111;
			branch_Str_4 = v110;
		} break;
		case 53LL: { // U64Sub
			STR* v112;
			STRLIT(v112, "prim-u64-sub", 12);
			INT v113 = WRAP_I63(0LL);
			branch_Int_5 = v113;
			branch_Str_4 = v112;
		} break;
		case 54LL: { // U64Mul
			STR* v114;
			STRLIT(v114, "prim-u64-mul", 12);
			INT v115 = WRAP_I63(0LL);
			branch_Int_5 = v115;
			branch_Str_4 = v114;
		} break;
		case 55LL: { // U64Div
			STR* v116;
			STRLIT(v116, "prim-u64-div", 12);
			INT v117 = WRAP_I63(0LL);
			branch_Int_5 = v117;
			branch_Str_4 = v116;
		} break;
		case 56LL: { // U64Mod
			STR* v118;
			STRLIT(v118, "prim-u64-mod", 12);
			INT v119 = WRAP_I63(0LL);
			branch_Int_5 = v119;
			branch_Str_4 = v118;
		} break;
		case 57LL: { // U64And
			STR* v120;
			STRLIT(v120, "prim-u64-and", 12);
			INT v121 = WRAP_I63(0LL);
			branch_Int_5 = v121;
			branch_Str_4 = v120;
		} break;
		case 58LL: { // U64Or
			STR* v122;
			STRLIT(v122, "prim-u64-or", 11);
			INT v123 = WRAP_I63(0LL);
			branch_Int_5 = v123;
			branch_Str_4 = v122;
		} break;
		case 59LL: { // U64Xor
			STR* v124;
			STRLIT(v124, "prim-u64-xor", 12);
			INT v125 = WRAP_I63(0LL);
			branch_Int_5 = v125;
			branch_Str_4 = v124;
		} break;
		case 60LL: { // U64Shl
			STR* v126;
			STRLIT(v126, "prim-u64-shl", 12);
			INT v127 = WRAP_I63(0LL);
			branch_Int_5 = v127;
			branch_Str_4 = v126;
		} break;
		case 61LL: { // U64Shr
			STR* v128;
			STRLIT(v128, "prim-u64-shr", 12);
			INT v129 = WRAP_I63(0LL);
			branch_Int_5 = v129;
			branch_Str_4 = v128;
		} break;
		case 62LL: { // U64ToInt
			STR* v130;
			STRLIT(v130, "prim-u64-to-int", 15);
			INT v131 = WRAP_I63(0LL);
			branch_Int_5 = v131;
			branch_Str_4 = v130;
		} break;
		case 63LL: { // U64ToStr
			STR* v132;
			STRLIT(v132, "prim-u64-to-str", 15);
			INT v133 = WRAP_I63(0LL);
			branch_Int_5 = v133;
			branch_Str_4 = v132;
		} break;
		case 64LL: { // U64ToU8
			STR* v134;
			STRLIT(v134, "prim-u64-to-u8", 14);
			INT v135 = WRAP_I63(0LL);
			branch_Int_5 = v135;
			branch_Str_4 = v134;
		} break;
		case 65LL: { // U64ToU16
			STR* v136;
			STRLIT(v136, "prim-u64-to-u16", 15);
			INT v137 = WRAP_I63(0LL);
			branch_Int_5 = v137;
			branch_Str_4 = v136;
		} break;
		case 66LL: { // U64ToU32
			STR* v138;
			STRLIT(v138, "prim-u64-to-u32", 15);
			INT v139 = WRAP_I63(0LL);
			branch_Int_5 = v139;
			branch_Str_4 = v138;
		} break;
		case 67LL: { // U64ToI8
			STR* v140;
			STRLIT(v140, "prim-u64-to-i8", 14);
			INT v141 = WRAP_I63(0LL);
			branch_Int_5 = v141;
			branch_Str_4 = v140;
		} break;
		case 68LL: { // U64ToI16
			STR* v142;
			STRLIT(v142, "prim-u64-to-i16", 15);
			INT v143 = WRAP_I63(0LL);
			branch_Int_5 = v143;
			branch_Str_4 = v142;
		} break;
		case 69LL: { // U64ToI32
			STR* v144;
			STRLIT(v144, "prim-u64-to-i32", 15);
			INT v145 = WRAP_I63(0LL);
			branch_Int_5 = v145;
			branch_Str_4 = v144;
		} break;
		case 70LL: { // U64ToI64
			STR* v146;
			STRLIT(v146, "prim-u64-to-i64", 15);
			INT v147 = WRAP_I63(0LL);
			branch_Int_5 = v147;
			branch_Str_4 = v146;
		} break;
		case 71LL: { // U64ToF32
			STR* v148;
			STRLIT(v148, "prim-u64-to-f32", 15);
			INT v149 = WRAP_I63(0LL);
			branch_Int_5 = v149;
			branch_Str_4 = v148;
		} break;
		case 72LL: { // U64ToF64
			STR* v150;
			STRLIT(v150, "prim-u64-to-f64", 15);
			INT v151 = WRAP_I63(0LL);
			branch_Int_5 = v151;
			branch_Str_4 = v150;
		} break;
		case 73LL: { // I8Get
			STR* v152;
			STRLIT(v152, "prim-i8-get", 11);
			INT v153 = WRAP_I63(0LL);
			branch_Int_5 = v153;
			branch_Str_4 = v152;
		} break;
		case 74LL: { // I8Set
			STR* v154;
			STRLIT(v154, "prim-i8-set", 11);
			INT v155 = WRAP_I63(0LL);
			branch_Int_5 = v155;
			branch_Str_4 = v154;
		} break;
		case 75LL: { // I8ToI64
			STR* v156;
			STRLIT(v156, "prim-i8-to-i64", 14);
			INT v157 = WRAP_I63(0LL);
			branch_Int_5 = v157;
			branch_Str_4 = v156;
		} break;
		case 76LL: { // I16Get
			STR* v158;
			STRLIT(v158, "prim-i16-get", 12);
			INT v159 = WRAP_I63(0LL);
			branch_Int_5 = v159;
			branch_Str_4 = v158;
		} break;
		case 77LL: { // I16Set
			STR* v160;
			STRLIT(v160, "prim-i16-set", 12);
			INT v161 = WRAP_I63(0LL);
			branch_Int_5 = v161;
			branch_Str_4 = v160;
		} break;
		case 78LL: { // I16ToI64
			STR* v162;
			STRLIT(v162, "prim-i16-to-i64", 15);
			INT v163 = WRAP_I63(0LL);
			branch_Int_5 = v163;
			branch_Str_4 = v162;
		} break;
		case 79LL: { // I32Get
			STR* v164;
			STRLIT(v164, "prim-i32-get", 12);
			INT v165 = WRAP_I63(0LL);
			branch_Int_5 = v165;
			branch_Str_4 = v164;
		} break;
		case 80LL: { // I32Set
			STR* v166;
			STRLIT(v166, "prim-i32-set", 12);
			INT v167 = WRAP_I63(0LL);
			branch_Int_5 = v167;
			branch_Str_4 = v166;
		} break;
		case 81LL: { // I32ToI64
			STR* v168;
			STRLIT(v168, "prim-i32-to-i64", 15);
			INT v169 = WRAP_I63(0LL);
			branch_Int_5 = v169;
			branch_Str_4 = v168;
		} break;
		case 82LL: { // I64Get
			STR* v170;
			STRLIT(v170, "prim-i64-get", 12);
			INT v171 = WRAP_I63(0LL);
			branch_Int_5 = v171;
			branch_Str_4 = v170;
		} break;
		case 83LL: { // I64Set
			STR* v172;
			STRLIT(v172, "prim-i64-set", 12);
			INT v173 = WRAP_I63(0LL);
			branch_Int_5 = v173;
			branch_Str_4 = v172;
		} break;
		case 84LL: { // I64Eq
			STR* v174;
			STRLIT(v174, "prim-i64-eq", 11);
			INT v175 = WRAP_I63(0LL);
			branch_Int_5 = v175;
			branch_Str_4 = v174;
		} break;
		case 85LL: { // I64Lt
			STR* v176;
			STRLIT(v176, "prim-i64-lt", 11);
			INT v177 = WRAP_I63(0LL);
			branch_Int_5 = v177;
			branch_Str_4 = v176;
		} break;
		case 86LL: { // I64Le
			STR* v178;
			STRLIT(v178, "prim-i64-le", 11);
			INT v179 = WRAP_I63(0LL);
			branch_Int_5 = v179;
			branch_Str_4 = v178;
		} break;
		case 87LL: { // I64Gt
			STR* v180;
			STRLIT(v180, "prim-i64-gt", 11);
			INT v181 = WRAP_I63(0LL);
			branch_Int_5 = v181;
			branch_Str_4 = v180;
		} break;
		case 88LL: { // I64Ge
			STR* v182;
			STRLIT(v182, "prim-i64-ge", 11);
			INT v183 = WRAP_I63(0LL);
			branch_Int_5 = v183;
			branch_Str_4 = v182;
		} break;
		case 89LL: { // I64Ne
			STR* v184;
			STRLIT(v184, "prim-i64-ne", 11);
			INT v185 = WRAP_I63(0LL);
			branch_Int_5 = v185;
			branch_Str_4 = v184;
		} break;
		case 90LL: { // I64Add
			STR* v186;
			STRLIT(v186, "prim-i64-add", 12);
			INT v187 = WRAP_I63(0LL);
			branch_Int_5 = v187;
			branch_Str_4 = v186;
		} break;
		case 91LL: { // I64Sub
			STR* v188;
			STRLIT(v188, "prim-i64-sub", 12);
			INT v189 = WRAP_I63(0LL);
			branch_Int_5 = v189;
			branch_Str_4 = v188;
		} break;
		case 92LL: { // I64Mul
			STR* v190;
			STRLIT(v190, "prim-i64-mul", 12);
			INT v191 = WRAP_I63(0LL);
			branch_Int_5 = v191;
			branch_Str_4 = v190;
		} break;
		case 93LL: { // I64Div
			STR* v192;
			STRLIT(v192, "prim-i64-div", 12);
			INT v193 = WRAP_I63(0LL);
			branch_Int_5 = v193;
			branch_Str_4 = v192;
		} break;
		case 94LL: { // I64Mod
			STR* v194;
			STRLIT(v194, "prim-i64-mod", 12);
			INT v195 = WRAP_I63(0LL);
			branch_Int_5 = v195;
			branch_Str_4 = v194;
		} break;
		case 95LL: { // I64ToInt
			STR* v196;
			STRLIT(v196, "prim-i64-to-int", 15);
			INT v197 = WRAP_I63(0LL);
			branch_Int_5 = v197;
			branch_Str_4 = v196;
		} break;
		case 96LL: { // I64ToStr
			STR* v198;
			STRLIT(v198, "prim-i64-to-str", 15);
			INT v199 = WRAP_I63(0LL);
			branch_Int_5 = v199;
			branch_Str_4 = v198;
		} break;
		case 97LL: { // I64ToU8
			STR* v200;
			STRLIT(v200, "prim-i64-to-u8", 14);
			INT v201 = WRAP_I63(0LL);
			branch_Int_5 = v201;
			branch_Str_4 = v200;
		} break;
		case 98LL: { // I64ToU16
			STR* v202;
			STRLIT(v202, "prim-i64-to-u16", 15);
			INT v203 = WRAP_I63(0LL);
			branch_Int_5 = v203;
			branch_Str_4 = v202;
		} break;
		case 99LL: { // I64ToU32
			STR* v204;
			STRLIT(v204, "prim-i64-to-u32", 15);
			INT v205 = WRAP_I63(0LL);
			branch_Int_5 = v205;
			branch_Str_4 = v204;
		} break;
		case 100LL: { // I64ToU64
			STR* v206;
			STRLIT(v206, "prim-i64-to-u64", 15);
			INT v207 = WRAP_I63(0LL);
			branch_Int_5 = v207;
			branch_Str_4 = v206;
		} break;
		case 101LL: { // I64ToI8
			STR* v208;
			STRLIT(v208, "prim-i64-to-i8", 14);
			INT v209 = WRAP_I63(0LL);
			branch_Int_5 = v209;
			branch_Str_4 = v208;
		} break;
		case 102LL: { // I64ToI16
			STR* v210;
			STRLIT(v210, "prim-i64-to-i16", 15);
			INT v211 = WRAP_I63(0LL);
			branch_Int_5 = v211;
			branch_Str_4 = v210;
		} break;
		case 103LL: { // I64ToI32
			STR* v212;
			STRLIT(v212, "prim-i64-to-i32", 15);
			INT v213 = WRAP_I63(0LL);
			branch_Int_5 = v213;
			branch_Str_4 = v212;
		} break;
		case 104LL: { // I64ToF32
			STR* v214;
			STRLIT(v214, "prim-i64-to-f32", 15);
			INT v215 = WRAP_I63(0LL);
			branch_Int_5 = v215;
			branch_Str_4 = v214;
		} break;
		case 105LL: { // I64ToF64
			STR* v216;
			STRLIT(v216, "prim-i64-to-f64", 15);
			INT v217 = WRAP_I63(0LL);
			branch_Int_5 = v217;
			branch_Str_4 = v216;
		} break;
		case 106LL: { // F32Eq
			STR* v218;
			STRLIT(v218, "prim-f32-eq", 11);
			INT v219 = WRAP_I63(0LL);
			branch_Int_5 = v219;
			branch_Str_4 = v218;
		} break;
		case 107LL: { // F32Lt
			STR* v220;
			STRLIT(v220, "prim-f32-lt", 11);
			INT v221 = WRAP_I63(0LL);
			branch_Int_5 = v221;
			branch_Str_4 = v220;
		} break;
		case 108LL: { // F32Le
			STR* v222;
			STRLIT(v222, "prim-f32-le", 11);
			INT v223 = WRAP_I63(0LL);
			branch_Int_5 = v223;
			branch_Str_4 = v222;
		} break;
		case 109LL: { // F32Gt
			STR* v224;
			STRLIT(v224, "prim-f32-gt", 11);
			INT v225 = WRAP_I63(0LL);
			branch_Int_5 = v225;
			branch_Str_4 = v224;
		} break;
		case 110LL: { // F32Ge
			STR* v226;
			STRLIT(v226, "prim-f32-ge", 11);
			INT v227 = WRAP_I63(0LL);
			branch_Int_5 = v227;
			branch_Str_4 = v226;
		} break;
		case 111LL: { // F32Ne
			STR* v228;
			STRLIT(v228, "prim-f32-ne", 11);
			INT v229 = WRAP_I63(0LL);
			branch_Int_5 = v229;
			branch_Str_4 = v228;
		} break;
		case 112LL: { // F32Add
			STR* v230;
			STRLIT(v230, "prim-f32-add", 12);
			INT v231 = WRAP_I63(0LL);
			branch_Int_5 = v231;
			branch_Str_4 = v230;
		} break;
		case 113LL: { // F32Sub
			STR* v232;
			STRLIT(v232, "prim-f32-sub", 12);
			INT v233 = WRAP_I63(0LL);
			branch_Int_5 = v233;
			branch_Str_4 = v232;
		} break;
		case 114LL: { // F32Mul
			STR* v234;
			STRLIT(v234, "prim-f32-mul", 12);
			INT v235 = WRAP_I63(0LL);
			branch_Int_5 = v235;
			branch_Str_4 = v234;
		} break;
		case 115LL: { // F32Div
			STR* v236;
			STRLIT(v236, "prim-f32-div", 12);
			INT v237 = WRAP_I63(0LL);
			branch_Int_5 = v237;
			branch_Str_4 = v236;
		} break;
		case 116LL: { // F32ToInt
			STR* v238;
			STRLIT(v238, "prim-f32-to-int", 15);
			INT v239 = WRAP_I63(0LL);
			branch_Int_5 = v239;
			branch_Str_4 = v238;
		} break;
		case 117LL: { // F32ToStr
			STR* v240;
			STRLIT(v240, "prim-f32-to-str", 15);
			INT v241 = WRAP_I63(0LL);
			branch_Int_5 = v241;
			branch_Str_4 = v240;
		} break;
		case 118LL: { // F32ToF64
			STR* v242;
			STRLIT(v242, "prim-f32-to-f64", 15);
			INT v243 = WRAP_I63(0LL);
			branch_Int_5 = v243;
			branch_Str_4 = v242;
		} break;
		case 119LL: { // F32Get
			STR* v244;
			STRLIT(v244, "prim-f32-get", 12);
			INT v245 = WRAP_I63(0LL);
			branch_Int_5 = v245;
			branch_Str_4 = v244;
		} break;
		case 120LL: { // F32Set
			STR* v246;
			STRLIT(v246, "prim-f32-set", 12);
			INT v247 = WRAP_I63(0LL);
			branch_Int_5 = v247;
			branch_Str_4 = v246;
		} break;
		case 121LL: { // F64Eq
			STR* v248;
			STRLIT(v248, "prim-f64-eq", 11);
			INT v249 = WRAP_I63(0LL);
			branch_Int_5 = v249;
			branch_Str_4 = v248;
		} break;
		case 122LL: { // F64Lt
			STR* v250;
			STRLIT(v250, "prim-f64-lt", 11);
			INT v251 = WRAP_I63(0LL);
			branch_Int_5 = v251;
			branch_Str_4 = v250;
		} break;
		case 123LL: { // F64Le
			STR* v252;
			STRLIT(v252, "prim-f64-le", 11);
			INT v253 = WRAP_I63(0LL);
			branch_Int_5 = v253;
			branch_Str_4 = v252;
		} break;
		case 124LL: { // F64Gt
			STR* v254;
			STRLIT(v254, "prim-f64-gt", 11);
			INT v255 = WRAP_I63(0LL);
			branch_Int_5 = v255;
			branch_Str_4 = v254;
		} break;
		case 125LL: { // F64Ge
			STR* v256;
			STRLIT(v256, "prim-f64-ge", 11);
			INT v257 = WRAP_I63(0LL);
			branch_Int_5 = v257;
			branch_Str_4 = v256;
		} break;
		case 126LL: { // F64Ne
			STR* v258;
			STRLIT(v258, "prim-f64-ne", 11);
			INT v259 = WRAP_I63(0LL);
			branch_Int_5 = v259;
			branch_Str_4 = v258;
		} break;
		case 127LL: { // F64Add
			STR* v260;
			STRLIT(v260, "prim-f64-add", 12);
			INT v261 = WRAP_I63(0LL);
			branch_Int_5 = v261;
			branch_Str_4 = v260;
		} break;
		case 128LL: { // F64Sub
			STR* v262;
			STRLIT(v262, "prim-f64-sub", 12);
			INT v263 = WRAP_I63(0LL);
			branch_Int_5 = v263;
			branch_Str_4 = v262;
		} break;
		case 129LL: { // F64Mul
			STR* v264;
			STRLIT(v264, "prim-f64-mul", 12);
			INT v265 = WRAP_I63(0LL);
			branch_Int_5 = v265;
			branch_Str_4 = v264;
		} break;
		case 130LL: { // F64Div
			STR* v266;
			STRLIT(v266, "prim-f64-div", 12);
			INT v267 = WRAP_I63(0LL);
			branch_Int_5 = v267;
			branch_Str_4 = v266;
		} break;
		case 131LL: { // F64ToInt
			STR* v268;
			STRLIT(v268, "prim-f64-to-int", 15);
			INT v269 = WRAP_I63(0LL);
			branch_Int_5 = v269;
			branch_Str_4 = v268;
		} break;
		case 132LL: { // F64ToStr
			STR* v270;
			STRLIT(v270, "prim-f64-to-str", 15);
			INT v271 = WRAP_I63(0LL);
			branch_Int_5 = v271;
			branch_Str_4 = v270;
		} break;
		case 133LL: { // F64ToF32
			STR* v272;
			STRLIT(v272, "prim-f64-to-f32", 15);
			INT v273 = WRAP_I63(0LL);
			branch_Int_5 = v273;
			branch_Str_4 = v272;
		} break;
		case 134LL: { // F64Get
			STR* v274;
			STRLIT(v274, "prim-f64-get", 12);
			INT v275 = WRAP_I63(0LL);
			branch_Int_5 = v275;
			branch_Str_4 = v274;
		} break;
		case 135LL: { // F64Set
			STR* v276;
			STRLIT(v276, "prim-f64-set", 12);
			INT v277 = WRAP_I63(0LL);
			branch_Int_5 = v277;
			branch_Str_4 = v276;
		} break;
		case 136LL: { // BoolTrue
			STR* v278;
			STRLIT(v278, "prim-bool-true", 14);
			INT v279 = WRAP_I63(0LL);
			branch_Int_5 = v279;
			branch_Str_4 = v278;
		} break;
		case 137LL: { // BoolFalse
			STR* v280;
			STRLIT(v280, "prim-bool-false", 15);
			INT v281 = WRAP_I63(0LL);
			branch_Int_5 = v281;
			branch_Str_4 = v280;
		} break;
		case 138LL: { // BoolAnd
			STR* v282;
			STRLIT(v282, "prim-bool-and", 13);
			INT v283 = WRAP_I63(0LL);
			branch_Int_5 = v283;
			branch_Str_4 = v282;
		} break;
		case 139LL: { // BoolOr
			STR* v284;
			STRLIT(v284, "prim-bool-or", 12);
			INT v285 = WRAP_I63(0LL);
			branch_Int_5 = v285;
			branch_Str_4 = v284;
		} break;
		case 140LL: { // BoolNot
			STR* v286;
			STRLIT(v286, "prim-bool-not", 13);
			INT v287 = WRAP_I63(0LL);
			branch_Int_5 = v287;
			branch_Str_4 = v286;
		} break;
		case 141LL: { // TupPack0
			STR* v288;
			STRLIT(v288, "prim-tup-pack0", 14);
			INT v289 = WRAP_I63(0LL);
			branch_Int_5 = v289;
			branch_Str_4 = v288;
		} break;
		case 142LL: { // TupPack1
			STR* v290;
			STRLIT(v290, "prim-tup-pack1", 14);
			INT v291 = WRAP_I63(0LL);
			branch_Int_5 = v291;
			branch_Str_4 = v290;
		} break;
		case 143LL: { // TupPack2
			STR* v292;
			STRLIT(v292, "prim-tup-pack2", 14);
			INT v293 = WRAP_I63(0LL);
			branch_Int_5 = v293;
			branch_Str_4 = v292;
		} break;
		case 144LL: { // TupPack3
			STR* v294;
			STRLIT(v294, "prim-tup-pack3", 14);
			INT v295 = WRAP_I63(0LL);
			branch_Int_5 = v295;
			branch_Str_4 = v294;
		} break;
		case 145LL: { // TupPack4
			STR* v296;
			STRLIT(v296, "prim-tup-pack4", 14);
			INT v297 = WRAP_I63(0LL);
			branch_Int_5 = v297;
			branch_Str_4 = v296;
		} break;
		case 146LL: { // TupPack5
			STR* v298;
			STRLIT(v298, "prim-tup-pack5", 14);
			INT v299 = WRAP_I63(0LL);
			branch_Int_5 = v299;
			branch_Str_4 = v298;
		} break;
		case 147LL: { // TupUnpack0
			STR* v300;
			STRLIT(v300, "prim-tup-unpack0", 16);
			INT v301 = WRAP_I63(0LL);
			branch_Int_5 = v301;
			branch_Str_4 = v300;
		} break;
		case 148LL: { // TupUnpack1
			STR* v302;
			STRLIT(v302, "prim-tup-unpack1", 16);
			INT v303 = WRAP_I63(0LL);
			branch_Int_5 = v303;
			branch_Str_4 = v302;
		} break;
		case 149LL: { // TupUnpack2
			STR* v304;
			STRLIT(v304, "prim-tup-unpack2", 16);
			INT v305 = WRAP_I63(0LL);
			branch_Int_5 = v305;
			branch_Str_4 = v304;
		} break;
		case 150LL: { // TupUnpack3
			STR* v306;
			STRLIT(v306, "prim-tup-unpack3", 16);
			INT v307 = WRAP_I63(0LL);
			branch_Int_5 = v307;
			branch_Str_4 = v306;
		} break;
		case 151LL: { // TupUnpack4
			STR* v308;
			STRLIT(v308, "prim-tup-unpack4", 16);
			INT v309 = WRAP_I63(0LL);
			branch_Int_5 = v309;
			branch_Str_4 = v308;
		} break;
		case 152LL: { // TupUnpack5
			STR* v310;
			STRLIT(v310, "prim-tup-unpack5", 16);
			INT v311 = WRAP_I63(0LL);
			branch_Int_5 = v311;
			branch_Str_4 = v310;
		} break;
		case 153LL: { // MutGet
			STR* v312;
			STRLIT(v312, "prim-mut-get", 12);
			INT v313 = WRAP_I63(0LL);
			branch_Int_5 = v313;
			branch_Str_4 = v312;
		} break;
		case 154LL: { // MutSet
			STR* v314;
			STRLIT(v314, "prim-mut-set", 12);
			INT v315 = WRAP_I63(0LL);
			branch_Int_5 = v315;
			branch_Str_4 = v314;
		} break;
		case 155LL: { // MutIsSet
			STR* v316;
			STRLIT(v316, "prim-mut-is-set", 15);
			INT v317 = WRAP_I63(0LL);
			branch_Int_5 = v317;
			branch_Str_4 = v316;
		} break;
		case 156LL: { // PtrNil
			STR* v318;
			STRLIT(v318, "prim-ptr-nil", 12);
			INT v319 = WRAP_I63(0LL);
			branch_Int_5 = v319;
			branch_Str_4 = v318;
		} break;
		case 157LL: { // PtrEq
			STR* v320;
			STRLIT(v320, "prim-ptr-eq", 11);
			INT v321 = WRAP_I63(0LL);
			branch_Int_5 = v321;
			branch_Str_4 = v320;
		} break;
		case 158LL: { // PtrAdd
			STR* v322;
			STRLIT(v322, "prim-ptr-add", 12);
			INT v323 = WRAP_I63(0LL);
			branch_Int_5 = v323;
			branch_Str_4 = v322;
		} break;
		case 159LL: { // PtrSize
			STR* v324;
			STRLIT(v324, "prim-ptr-size", 13);
			INT v325 = WRAP_I63(0LL);
			branch_Int_5 = v325;
			branch_Str_4 = v324;
		} break;
		case 160LL: { // PtrAlloc
			STR* v326;
			STRLIT(v326, "prim-ptr-alloc", 14);
			INT v327 = WRAP_I63(0LL);
			branch_Int_5 = v327;
			branch_Str_4 = v326;
		} break;
		case 161LL: { // PtrRealloc
			STR* v328;
			STRLIT(v328, "prim-ptr-realloc", 16);
			INT v329 = WRAP_I63(0LL);
			branch_Int_5 = v329;
			branch_Str_4 = v328;
		} break;
		case 162LL: { // PtrFree
			STR* v330;
			STRLIT(v330, "prim-ptr-free", 13);
			INT v331 = WRAP_I63(0LL);
			branch_Int_5 = v331;
			branch_Str_4 = v330;
		} break;
		case 163LL: { // PtrCopy
			STR* v332;
			STRLIT(v332, "prim-ptr-copy", 13);
			INT v333 = WRAP_I63(0LL);
			branch_Int_5 = v333;
			branch_Str_4 = v332;
		} break;
		case 164LL: { // PtrFill
			STR* v334;
			STRLIT(v334, "prim-ptr-fill", 13);
			INT v335 = WRAP_I63(0LL);
			branch_Int_5 = v335;
			branch_Str_4 = v334;
		} break;
		case 165LL: { // PtrGet
			STR* v336;
			STRLIT(v336, "prim-ptr-get", 12);
			INT v337 = WRAP_I63(0LL);
			branch_Int_5 = v337;
			branch_Str_4 = v336;
		} break;
		case 166LL: { // PtrSet
			STR* v338;
			STRLIT(v338, "prim-ptr-set", 12);
			INT v339 = WRAP_I63(0LL);
			branch_Int_5 = v339;
			branch_Str_4 = v338;
		} break;
		case 167LL: { // StrCopy
			STR* v340;
			STRLIT(v340, "prim-str-copy", 13);
			INT v341 = WRAP_I63(0LL);
			branch_Int_5 = v341;
			branch_Str_4 = v340;
		} break;
		case 168LL: { // StrNumBytes
			STR* v342;
			STRLIT(v342, "prim-str-num-bytes", 18);
			INT v343 = WRAP_I63(0LL);
			branch_Int_5 = v343;
			branch_Str_4 = v342;
		} break;
		case 169LL: { // StrBase
			STR* v344;
			STRLIT(v344, "prim-str-base", 13);
			INT v345 = WRAP_I63(0LL);
			branch_Int_5 = v345;
			branch_Str_4 = v344;
		} break;
		case 170LL: { // StrCat
			STR* v346;
			STRLIT(v346, "prim-str-cat", 12);
			INT v347 = WRAP_I63(0LL);
			branch_Int_5 = v347;
			branch_Str_4 = v346;
		} break;
		case 171LL: { // StrCmp
			STR* v348;
			STRLIT(v348, "prim-str-cmp", 12);
			INT v349 = WRAP_I63(0LL);
			branch_Int_5 = v349;
			branch_Str_4 = v348;
		} break;
		case 172LL: { // StrEq
			STR* v350;
			STRLIT(v350, "prim-str-eq", 11);
			INT v351 = WRAP_I63(0LL);
			branch_Int_5 = v351;
			branch_Str_4 = v350;
		} break;
		case 173LL: { // StrLt
			STR* v352;
			STRLIT(v352, "prim-str-lt", 11);
			INT v353 = WRAP_I63(0LL);
			branch_Int_5 = v353;
			branch_Str_4 = v352;
		} break;
		case 174LL: { // StrLe
			STR* v354;
			STRLIT(v354, "prim-str-le", 11);
			INT v355 = WRAP_I63(0LL);
			branch_Int_5 = v355;
			branch_Str_4 = v354;
		} break;
		case 175LL: { // StrGt
			STR* v356;
			STRLIT(v356, "prim-str-gt", 11);
			INT v357 = WRAP_I63(0LL);
			branch_Int_5 = v357;
			branch_Str_4 = v356;
		} break;
		case 176LL: { // StrGe
			STR* v358;
			STRLIT(v358, "prim-str-ge", 11);
			INT v359 = WRAP_I63(0LL);
			branch_Int_5 = v359;
			branch_Str_4 = v358;
		} break;
		case 177LL: { // StrNe
			STR* v360;
			STRLIT(v360, "prim-str-ne", 11);
			INT v361 = WRAP_I63(0LL);
			branch_Int_5 = v361;
			branch_Str_4 = v360;
		} break;
		case 179LL: { // StrToF32
			STR* v362;
			STRLIT(v362, "prim-str-to-f32", 15);
			INT v363 = WRAP_I63(0LL);
			branch_Int_5 = v363;
			branch_Str_4 = v362;
		} break;
		case 178LL: { // StrToF64
			STR* v364;
			STRLIT(v364, "prim-str-to-f64", 15);
			INT v365 = WRAP_I63(0LL);
			branch_Int_5 = v365;
			branch_Str_4 = v364;
		} break;
		case 180LL: { // StrToArray
			STR* v366;
			STRLIT(v366, "prim-str-to-array", 17);
			INT v367 = WRAP_I63(0LL);
			branch_Int_5 = v367;
			branch_Str_4 = v366;
		} break;
		case 181LL: { // ArrayNil
			STR* v368;
			STRLIT(v368, "prim-array-nil", 14);
			INT v369 = WRAP_I63(0LL);
			branch_Int_5 = v369;
			branch_Str_4 = v368;
		} break;
		case 182LL: { // ArrayNew
			STR* v370;
			STRLIT(v370, "prim-array-new", 14);
			INT v371 = WRAP_I63(0LL);
			branch_Int_5 = v371;
			branch_Str_4 = v370;
		} break;
		case 183LL: { // ArrayExpand
			STR* v372;
			STRLIT(v372, "prim-array-expand", 17);
			INT v373 = WRAP_I63(0LL);
			branch_Int_5 = v373;
			branch_Str_4 = v372;
		} break;
		case 184LL: { // ArrayThaw
			STR* v374;
			STRLIT(v374, "prim-array-thaw", 15);
			INT v375 = WRAP_I63(0LL);
			branch_Int_5 = v375;
			branch_Str_4 = v374;
		} break;
		case 185LL: { // ArrayBase
			STR* v376;
			STRLIT(v376, "prim-array-base", 15);
			INT v377 = WRAP_I63(0LL);
			branch_Int_5 = v377;
			branch_Str_4 = v376;
		} break;
		case 186LL: { // ArrayLen
			STR* v378;
			STRLIT(v378, "prim-array-len", 14);
			INT v379 = WRAP_I63(0LL);
			branch_Int_5 = v379;
			branch_Str_4 = v378;
		} break;
		case 187LL: { // ArrayGet
			STR* v380;
			STRLIT(v380, "prim-array-get", 14);
			INT v381 = WRAP_I63(0LL);
			branch_Int_5 = v381;
			branch_Str_4 = v380;
		} break;
		case 188LL: { // ArraySet
			STR* v382;
			STRLIT(v382, "prim-array-set", 14);
			INT v383 = WRAP_I63(0LL);
			branch_Int_5 = v383;
			branch_Str_4 = v382;
		} break;
		case 189LL: { // ArrayPush
			STR* v384;
			STRLIT(v384, "prim-array-push", 15);
			INT v385 = WRAP_I63(0LL);
			branch_Int_5 = v385;
			branch_Str_4 = v384;
		} break;
		case 190LL: { // ArrayPop
			STR* v386;
			STRLIT(v386, "prim-array-pop", 14);
			INT v387 = WRAP_I63(0LL);
			branch_Int_5 = v387;
			branch_Str_4 = v386;
		} break;
		case 191LL: { // ArrayCat
			STR* v388;
			STRLIT(v388, "prim-array-cat", 14);
			INT v389 = WRAP_I63(0LL);
			branch_Int_5 = v389;
			branch_Str_4 = v388;
		} break;
		case 192LL: { // ArraySlice
			STR* v390;
			STRLIT(v390, "prim-array-slice", 16);
			INT v391 = WRAP_I63(0LL);
			branch_Int_5 = v391;
			branch_Str_4 = v390;
		} break;
		case 193LL: { // ArrayToStr
			STR* v392;
			STRLIT(v392, "prim-array-to-str", 17);
			INT v393 = WRAP_I63(0LL);
			branch_Int_5 = v393;
			branch_Str_4 = v392;
		} break;
		case 194LL: { // SysOs
			STR* v394;
			STRLIT(v394, "prim-sys-os", 11);
			INT v395 = WRAP_I63(0LL);
			branch_Int_5 = v395;
			branch_Str_4 = v394;
		} break;
		case 195LL: { // SysArch
			STR* v396;
			STRLIT(v396, "prim-sys-arch", 13);
			INT v397 = WRAP_I63(0LL);
			branch_Int_5 = v397;
			branch_Str_4 = v396;
		} break;
		case 196LL: { // SysArgc
			STR* v398;
			STRLIT(v398, "prim-sys-argc", 13);
			INT v399 = WRAP_I63(0LL);
			branch_Int_5 = v399;
			branch_Str_4 = v398;
		} break;
		case 197LL: { // SysArgv
			STR* v400;
			STRLIT(v400, "prim-sys-argv", 13);
			INT v401 = WRAP_I63(0LL);
			branch_Int_5 = v401;
			branch_Str_4 = v400;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Int_3 = branch_Int_5;
	return branch_Str_4;
}
static PTUP mw_mirth_prim_Prim_ctxZ_type (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	void* v6 = field_mut(&mfld_mirth_prim_Prim_ZTildectxZ_type, in_Prim_2);
	bool v7 = mut_is_set(v6);
	PTUP branch_ZPlusMirth_8;
	int64_t branch_Prim_9;
	PTUP branch__10;
	if (v7) {
		VAL v11 = mut_get(v6);
		branch__10 = value_tup(v11);
		branch_Prim_9 = in_Prim_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		PTUP v12;
		PTUP v13;
		PTUP v14 = mw_mirth_prim_Prim_computeZ_ctxZ_type(in_ZPlusMirth_1, in_Prim_2, &v12, &v13);
		PTUP r15 = PTRMK(0,tup_new(2),0);
		((TUP*)PTRPTR(r15))->size = 2;
		((TUP*)PTRPTR(r15))->cells[1] = MKTUP(v13);
		((TUP*)PTRPTR(r15))->cells[0] = MKTUP(v14);
		incref(MKTUP(r15));
		mut_set(MKTUP(r15), v6);
		branch__10 = r15;
		branch_Prim_9 = in_Prim_2;
		branch_ZPlusMirth_8 = v12;
	}
	decref(MKI64(branch_Prim_9));
	VAL v16 = ((TUP*)PTRPTR(value_tup(MKTUP(branch__10))))->cells[0];
	VAL v17 = ((TUP*)PTRPTR(value_tup(MKTUP(branch__10))))->cells[1];
	tup_decref_outer(value_tup(MKTUP(branch__10)));
	*out_ArrowType_5 = VTUP(v17);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return VTUP(v16);
}
static PTUP mw_mirth_prim_Prim_type (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7 = mw_mirth_prim_Prim_ctxZ_type(in_ZPlusMirth_1, in_Prim_2, &v5, &v6);
	decref(MKTUP(v7));
	*out_ZPlusMirth_3 = v5;
	return VTUP(MKTUP(v6));
}
static PTUP mw_mirth_prim_Prim_computeZ_ctxZ_type (PTUP in_ZPlusMirth_1, int64_t in_Prim_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Ctx_7;
	PTUP branch_ArrowType_8;
	switch (in_Prim_2) {
		case 0LL: { // Id
			PTUP v9 = mw_mirth_var_Ctx_L0();
			PTUP v10 = mw_mirth_type_T0();
			PTUP v11 = mw_mirth_type_T0();
			PTUP v12 = mw_mirth_type_TZ_ZTo(v10, v11);
			branch_ArrowType_8 = v12;
			branch_Ctx_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Dup
			PTUP v13 = mw_mirth_var_Ctx_L0();
			STR* v14;
			STRLIT(v14, "a", 1);
			PTUP v15;
			PTUP v16;
			PTUP v17 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v13, v14, &v15, &v16);
			incref(MKTUP(v16));
			PTUP v18 = mw_mirth_type_T1(v16);
			incref(MKTUP(v16));
			incref(MKTUP(v16));
			PTUP v19 = mw_mirth_type_T2(v16, v16);
			PTUP v20 = mw_mirth_type_TZ_ZTo(v18, v19);
			decref(MKTUP(v16));
			branch_ArrowType_8 = v20;
			branch_Ctx_7 = v17;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 2LL: { // Drop
			PTUP v21 = mw_mirth_var_Ctx_L0();
			STR* v22;
			STRLIT(v22, "a", 1);
			PTUP v23;
			PTUP v24;
			PTUP v25 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v21, v22, &v23, &v24);
			incref(MKTUP(v24));
			PTUP v26 = mw_mirth_type_T1(v24);
			PTUP v27 = mw_mirth_type_T0();
			PTUP v28 = mw_mirth_type_TZ_ZTo(v26, v27);
			decref(MKTUP(v24));
			branch_ArrowType_8 = v28;
			branch_Ctx_7 = v25;
			branch_ZPlusMirth_6 = v23;
		} break;
		case 3LL: { // Swap
			PTUP v29 = mw_mirth_var_Ctx_L0();
			STR* v30;
			STRLIT(v30, "a", 1);
			PTUP v31;
			PTUP v32;
			PTUP v33 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v29, v30, &v31, &v32);
			STR* v34;
			STRLIT(v34, "b", 1);
			PTUP v35;
			PTUP v36;
			PTUP v37 = mw_mirth_type_Type_NewInCtx(v31, v33, v34, &v35, &v36);
			incref(MKTUP(v32));
			incref(MKTUP(v36));
			PTUP v38 = mw_mirth_type_T2(v32, v36);
			incref(MKTUP(v36));
			incref(MKTUP(v32));
			PTUP v39 = mw_mirth_type_T2(v36, v32);
			PTUP v40 = mw_mirth_type_TZ_ZTo(v38, v39);
			decref(MKTUP(v36));
			decref(MKTUP(v32));
			branch_ArrowType_8 = v40;
			branch_Ctx_7 = v37;
			branch_ZPlusMirth_6 = v35;
		} break;
		case 4LL: { // RSwap
			PTUP v41 = mw_mirth_var_Ctx_L0();
			STR* v42;
			STRLIT(v42, "+a", 2);
			PTUP v43;
			PTUP v44;
			PTUP v45 = mw_mirth_type_Resource_NewInCtx(in_ZPlusMirth_1, v41, v42, &v43, &v44);
			STR* v46;
			STRLIT(v46, "+b", 2);
			PTUP v47;
			PTUP v48;
			PTUP v49 = mw_mirth_type_Resource_NewInCtx(v43, v45, v46, &v47, &v48);
			PTUP v50 = mw_mirth_type_T0();
			incref(MKTUP(v44));
			PTUP v51 = mw_mirth_type_TZPlus(v50, v44);
			incref(MKTUP(v48));
			PTUP v52 = mw_mirth_type_TZPlus(v51, v48);
			PTUP v53 = mw_mirth_type_T0();
			incref(MKTUP(v48));
			PTUP v54 = mw_mirth_type_TZPlus(v53, v48);
			incref(MKTUP(v44));
			PTUP v55 = mw_mirth_type_TZPlus(v54, v44);
			PTUP v56 = mw_mirth_type_TZ_ZTo(v52, v55);
			decref(MKTUP(v48));
			decref(MKTUP(v44));
			branch_ArrowType_8 = v56;
			branch_Ctx_7 = v49;
			branch_ZPlusMirth_6 = v47;
		} break;
		case 5LL: { // Dip
			PTUP v57 = mw_mirth_var_Ctx_L0();
			STR* v58;
			STRLIT(v58, "*a", 2);
			PTUP v59;
			PTUP v60;
			PTUP v61 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v57, v58, &v59, &v60);
			STR* v62;
			STRLIT(v62, "*b", 2);
			PTUP v63;
			PTUP v64;
			PTUP v65 = mw_mirth_type_StackType_NewInCtx(v59, v61, v62, &v63, &v64);
			STR* v66;
			STRLIT(v66, "x", 1);
			PTUP v67;
			PTUP v68;
			PTUP v69 = mw_mirth_type_Type_NewInCtx(v63, v65, v66, &v67, &v68);
			incref(MKTUP(v60));
			incref(MKTUP(v68));
			PTUP v70 = mw_mirth_type_TZMul(v60, v68);
			incref(MKTUP(v60));
			incref(MKTUP(v64));
			PTUP v71 = mw_mirth_type_TZ_ZTo(v60, v64);
			PTUP v72 = mtw_mirth_type_Type_Arrow(v71);
			PTUP v73 = mw_mirth_type_TZMul(v70, v72);
			incref(MKTUP(v64));
			incref(MKTUP(v68));
			PTUP v74 = mw_mirth_type_TZMul(v64, v68);
			PTUP v75 = mw_mirth_type_TZ_ZTo(v73, v74);
			decref(MKTUP(v68));
			decref(MKTUP(v64));
			decref(MKTUP(v60));
			branch_ArrowType_8 = v75;
			branch_Ctx_7 = v69;
			branch_ZPlusMirth_6 = v67;
		} break;
		case 6LL: { // RDip
			PTUP v76 = mw_mirth_var_Ctx_L0();
			STR* v77;
			STRLIT(v77, "*a", 2);
			PTUP v78;
			PTUP v79;
			PTUP v80 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v76, v77, &v78, &v79);
			STR* v81;
			STRLIT(v81, "*b", 2);
			PTUP v82;
			PTUP v83;
			PTUP v84 = mw_mirth_type_StackType_NewInCtx(v78, v80, v81, &v82, &v83);
			STR* v85;
			STRLIT(v85, "x", 1);
			PTUP v86;
			PTUP v87;
			PTUP v88 = mw_mirth_type_Resource_NewInCtx(v82, v84, v85, &v86, &v87);
			incref(MKTUP(v79));
			incref(MKTUP(v87));
			PTUP v89 = mw_mirth_type_TZPlus(v79, v87);
			incref(MKTUP(v79));
			incref(MKTUP(v83));
			PTUP v90 = mw_mirth_type_TZ_ZTo(v79, v83);
			PTUP v91 = mtw_mirth_type_Type_Arrow(v90);
			PTUP v92 = mw_mirth_type_TZMul(v89, v91);
			incref(MKTUP(v83));
			incref(MKTUP(v87));
			PTUP v93 = mw_mirth_type_TZPlus(v83, v87);
			PTUP v94 = mw_mirth_type_TZ_ZTo(v92, v93);
			decref(MKTUP(v87));
			decref(MKTUP(v83));
			decref(MKTUP(v79));
			branch_ArrowType_8 = v94;
			branch_Ctx_7 = v88;
			branch_ZPlusMirth_6 = v86;
		} break;
		case 7LL: { // If
			PTUP v95 = mw_mirth_var_Ctx_L0();
			STR* v96;
			STRLIT(v96, "*a", 2);
			PTUP v97;
			PTUP v98;
			PTUP v99 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v95, v96, &v97, &v98);
			STR* v100;
			STRLIT(v100, "*b", 2);
			PTUP v101;
			PTUP v102;
			PTUP v103 = mw_mirth_type_StackType_NewInCtx(v97, v99, v100, &v101, &v102);
			incref(MKTUP(v98));
			PTUP v104 = mw_mirth_type_Type_Bool();
			PTUP v105 = mw_mirth_type_TZMul(v98, v104);
			incref(MKTUP(v98));
			incref(MKTUP(v102));
			PTUP v106 = mw_mirth_type_TZ_ZTo(v98, v102);
			PTUP v107 = mtw_mirth_type_Type_Arrow(v106);
			PTUP v108 = mw_mirth_type_TZMul(v105, v107);
			incref(MKTUP(v98));
			incref(MKTUP(v102));
			PTUP v109 = mw_mirth_type_TZ_ZTo(v98, v102);
			PTUP v110 = mtw_mirth_type_Type_Arrow(v109);
			PTUP v111 = mw_mirth_type_TZMul(v108, v110);
			incref(MKTUP(v102));
			PTUP v112 = mw_mirth_type_TZ_ZTo(v111, v102);
			decref(MKTUP(v102));
			decref(MKTUP(v98));
			branch_ArrowType_8 = v112;
			branch_Ctx_7 = v103;
			branch_ZPlusMirth_6 = v101;
		} break;
		case 8LL: { // While
			PTUP v113 = mw_mirth_var_Ctx_L0();
			STR* v114;
			STRLIT(v114, "*a", 2);
			PTUP v115;
			PTUP v116;
			PTUP v117 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v113, v114, &v115, &v116);
			incref(MKTUP(v116));
			incref(MKTUP(v116));
			incref(MKTUP(v116));
			PTUP v118 = mw_mirth_type_Type_Bool();
			PTUP v119 = mw_mirth_type_TZMul(v116, v118);
			PTUP v120 = mw_mirth_type_TZ_ZTo(v116, v119);
			PTUP v121 = mtw_mirth_type_Type_Arrow(v120);
			PTUP v122 = mw_mirth_type_TZMul(v116, v121);
			incref(MKTUP(v116));
			incref(MKTUP(v116));
			PTUP v123 = mw_mirth_type_TZ_ZTo(v116, v116);
			PTUP v124 = mtw_mirth_type_Type_Arrow(v123);
			PTUP v125 = mw_mirth_type_TZMul(v122, v124);
			incref(MKTUP(v116));
			PTUP v126 = mw_mirth_type_TZ_ZTo(v125, v116);
			decref(MKTUP(v116));
			branch_ArrowType_8 = v126;
			branch_Ctx_7 = v117;
			branch_ZPlusMirth_6 = v115;
		} break;
		case 11LL: { // DebugMode
			PTUP v127 = mw_mirth_var_Ctx_L0();
			STR* v128;
			STRLIT(v128, "*a", 2);
			PTUP v129;
			PTUP v130;
			PTUP v131 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v127, v128, &v129, &v130);
			incref(MKTUP(v130));
			incref(MKTUP(v130));
			PTUP v132 = mw_mirth_type_Resource_Debug();
			PTUP v133 = mw_mirth_type_TZPlus(v130, v132);
			incref(MKTUP(v133));
			PTUP v134 = mw_mirth_type_TZ_ZTo(v133, v133);
			PTUP v135 = mtw_mirth_type_Type_Arrow(v134);
			PTUP v136 = mw_mirth_type_TZMul(v130, v135);
			incref(MKTUP(v130));
			PTUP v137 = mw_mirth_type_TZ_ZTo(v136, v130);
			decref(MKTUP(v130));
			branch_ArrowType_8 = v137;
			branch_Ctx_7 = v131;
			branch_ZPlusMirth_6 = v129;
		} break;
		case 12LL: { // DebugTrace
			PTUP v138 = mw_mirth_var_Ctx_L0();
			PTUP v139 = mw_mirth_type_T0();
			PTUP v140 = mw_mirth_type_Resource_Debug();
			PTUP v141 = mw_mirth_type_TZPlus(v139, v140);
			PTUP v142 = mw_mirth_type_Type_Str();
			PTUP v143 = mw_mirth_type_TZMul(v141, v142);
			PTUP v144 = mw_mirth_type_T0();
			PTUP v145 = mw_mirth_type_Resource_Debug();
			PTUP v146 = mw_mirth_type_TZPlus(v144, v145);
			PTUP v147 = mw_mirth_type_TZ_ZTo(v143, v146);
			branch_ArrowType_8 = v147;
			branch_Ctx_7 = v138;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // DebugTraceValue
			PTUP v148 = mw_mirth_var_Ctx_L0();
			STR* v149;
			STRLIT(v149, "a", 1);
			PTUP v150;
			PTUP v151;
			PTUP v152 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v148, v149, &v150, &v151);
			PTUP v153 = mw_mirth_type_T0();
			PTUP v154 = mw_mirth_type_Resource_Debug();
			PTUP v155 = mw_mirth_type_TZPlus(v153, v154);
			incref(MKTUP(v151));
			PTUP v156 = mw_mirth_type_TZMul(v155, v151);
			PTUP v157 = mw_mirth_type_T0();
			PTUP v158 = mw_mirth_type_Resource_Debug();
			PTUP v159 = mw_mirth_type_TZPlus(v157, v158);
			PTUP v160 = mw_mirth_type_TZ_ZTo(v156, v159);
			decref(MKTUP(v151));
			branch_ArrowType_8 = v160;
			branch_Ctx_7 = v152;
			branch_ZPlusMirth_6 = v150;
		} break;
		case 14LL: { // DebugTraceResource
			PTUP v161 = mw_mirth_var_Ctx_L0();
			STR* v162;
			STRLIT(v162, "+a", 2);
			PTUP v163;
			PTUP v164;
			PTUP v165 = mw_mirth_type_Resource_NewInCtx(in_ZPlusMirth_1, v161, v162, &v163, &v164);
			PTUP v166 = mw_mirth_type_T0();
			incref(MKTUP(v164));
			PTUP v167 = mw_mirth_type_TZPlus(v166, v164);
			PTUP v168 = mw_mirth_type_Resource_Debug();
			PTUP v169 = mw_mirth_type_TZPlus(v167, v168);
			PTUP v170 = mw_mirth_type_T0();
			incref(MKTUP(v164));
			PTUP v171 = mw_mirth_type_TZPlus(v170, v164);
			PTUP v172 = mw_mirth_type_Resource_Debug();
			PTUP v173 = mw_mirth_type_TZPlus(v171, v172);
			PTUP v174 = mw_mirth_type_TZ_ZTo(v169, v173);
			decref(MKTUP(v164));
			branch_ArrowType_8 = v174;
			branch_Ctx_7 = v165;
			branch_ZPlusMirth_6 = v163;
		} break;
		case 15LL: { // DebugTraceStack
			PTUP v175 = mw_mirth_var_Ctx_L0();
			STR* v176;
			STRLIT(v176, "*a", 2);
			PTUP v177;
			PTUP v178;
			PTUP v179 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v175, v176, &v177, &v178);
			incref(MKTUP(v178));
			PTUP v180 = mw_mirth_type_Resource_Debug();
			PTUP v181 = mw_mirth_type_TZPlus(v178, v180);
			incref(MKTUP(v178));
			PTUP v182 = mw_mirth_type_Resource_Debug();
			PTUP v183 = mw_mirth_type_TZPlus(v178, v182);
			PTUP v184 = mw_mirth_type_TZ_ZTo(v181, v183);
			decref(MKTUP(v178));
			branch_ArrowType_8 = v184;
			branch_Ctx_7 = v179;
			branch_ZPlusMirth_6 = v177;
		} break;
		case 16LL: { // DebugGetNumRefs
			PTUP v185 = mw_mirth_var_Ctx_L0();
			STR* v186;
			STRLIT(v186, "a", 1);
			PTUP v187;
			PTUP v188;
			PTUP v189 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v185, v186, &v187, &v188);
			PTUP v190 = mw_mirth_type_T0();
			PTUP v191 = mw_mirth_type_Resource_Debug();
			PTUP v192 = mw_mirth_type_TZPlus(v190, v191);
			incref(MKTUP(v188));
			PTUP v193 = mw_mirth_type_TZMul(v192, v188);
			PTUP v194 = mw_mirth_type_T0();
			PTUP v195 = mw_mirth_type_Resource_Debug();
			PTUP v196 = mw_mirth_type_TZPlus(v194, v195);
			PTUP v197 = mw_mirth_type_Type_U64();
			PTUP v198 = mw_mirth_type_TZMul(v196, v197);
			PTUP v199 = mw_mirth_type_TZ_ZTo(v193, v198);
			decref(MKTUP(v188));
			branch_ArrowType_8 = v199;
			branch_Ctx_7 = v189;
			branch_ZPlusMirth_6 = v187;
		} break;
		case 17LL: { // DebugGetIdentity
			PTUP v200 = mw_mirth_var_Ctx_L0();
			STR* v201;
			STRLIT(v201, "a", 1);
			PTUP v202;
			PTUP v203;
			PTUP v204 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v200, v201, &v202, &v203);
			PTUP v205 = mw_mirth_type_T0();
			PTUP v206 = mw_mirth_type_Resource_Debug();
			PTUP v207 = mw_mirth_type_TZPlus(v205, v206);
			incref(MKTUP(v203));
			PTUP v208 = mw_mirth_type_TZMul(v207, v203);
			PTUP v209 = mw_mirth_type_T0();
			PTUP v210 = mw_mirth_type_Resource_Debug();
			PTUP v211 = mw_mirth_type_TZPlus(v209, v210);
			PTUP v212 = mw_mirth_type_Type_U64();
			PTUP v213 = mw_mirth_type_TZMul(v211, v212);
			PTUP v214 = mw_mirth_type_TZ_ZTo(v208, v213);
			decref(MKTUP(v203));
			branch_ArrowType_8 = v214;
			branch_Ctx_7 = v204;
			branch_ZPlusMirth_6 = v202;
		} break;
		case 9LL: { // Panic
			PTUP v215 = mw_mirth_var_Ctx_L0();
			STR* v216;
			STRLIT(v216, "*a", 2);
			PTUP v217;
			PTUP v218;
			PTUP v219 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v215, v216, &v217, &v218);
			STR* v220;
			STRLIT(v220, "*b", 2);
			PTUP v221;
			PTUP v222;
			PTUP v223 = mw_mirth_type_StackType_NewInCtx(v217, v219, v220, &v221, &v222);
			incref(MKTUP(v218));
			PTUP v224 = mw_mirth_type_Type_Str();
			PTUP v225 = mw_mirth_type_TZMul(v218, v224);
			incref(MKTUP(v222));
			PTUP v226 = mw_mirth_type_TZ_ZTo(v225, v222);
			decref(MKTUP(v222));
			decref(MKTUP(v218));
			branch_ArrowType_8 = v226;
			branch_Ctx_7 = v223;
			branch_ZPlusMirth_6 = v221;
		} break;
		case 10LL: { // Run
			PTUP v227 = mw_mirth_var_Ctx_L0();
			STR* v228;
			STRLIT(v228, "*a", 2);
			PTUP v229;
			PTUP v230;
			PTUP v231 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v227, v228, &v229, &v230);
			STR* v232;
			STRLIT(v232, "*b", 2);
			PTUP v233;
			PTUP v234;
			PTUP v235 = mw_mirth_type_StackType_NewInCtx(v229, v231, v232, &v233, &v234);
			incref(MKTUP(v230));
			incref(MKTUP(v230));
			incref(MKTUP(v234));
			PTUP v236 = mw_mirth_type_TZ_ZTo(v230, v234);
			PTUP v237 = mtw_mirth_type_Type_Arrow(v236);
			PTUP v238 = mw_mirth_type_TZMul(v230, v237);
			incref(MKTUP(v234));
			PTUP v239 = mw_mirth_type_TZ_ZTo(v238, v234);
			decref(MKTUP(v234));
			decref(MKTUP(v230));
			branch_ArrowType_8 = v239;
			branch_Ctx_7 = v235;
			branch_ZPlusMirth_6 = v233;
		} break;
		case 18LL: { // IntEq
			PTUP v240 = mw_mirth_var_Ctx_L0();
			PTUP v241 = mw_mirth_type_Type_Int();
			PTUP v242 = mw_mirth_type_Type_Int();
			PTUP v243 = mw_mirth_type_T2(v241, v242);
			PTUP v244 = mw_mirth_type_Type_Bool();
			PTUP v245 = mw_mirth_type_T1(v244);
			PTUP v246 = mw_mirth_type_TZ_ZTo(v243, v245);
			branch_ArrowType_8 = v246;
			branch_Ctx_7 = v240;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // IntLt
			PTUP v247 = mw_mirth_var_Ctx_L0();
			PTUP v248 = mw_mirth_type_Type_Int();
			PTUP v249 = mw_mirth_type_Type_Int();
			PTUP v250 = mw_mirth_type_T2(v248, v249);
			PTUP v251 = mw_mirth_type_Type_Bool();
			PTUP v252 = mw_mirth_type_T1(v251);
			PTUP v253 = mw_mirth_type_TZ_ZTo(v250, v252);
			branch_ArrowType_8 = v253;
			branch_Ctx_7 = v247;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // IntLe
			PTUP v254 = mw_mirth_var_Ctx_L0();
			PTUP v255 = mw_mirth_type_Type_Int();
			PTUP v256 = mw_mirth_type_Type_Int();
			PTUP v257 = mw_mirth_type_T2(v255, v256);
			PTUP v258 = mw_mirth_type_Type_Bool();
			PTUP v259 = mw_mirth_type_T1(v258);
			PTUP v260 = mw_mirth_type_TZ_ZTo(v257, v259);
			branch_ArrowType_8 = v260;
			branch_Ctx_7 = v254;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // IntGt
			PTUP v261 = mw_mirth_var_Ctx_L0();
			PTUP v262 = mw_mirth_type_Type_Int();
			PTUP v263 = mw_mirth_type_Type_Int();
			PTUP v264 = mw_mirth_type_T2(v262, v263);
			PTUP v265 = mw_mirth_type_Type_Bool();
			PTUP v266 = mw_mirth_type_T1(v265);
			PTUP v267 = mw_mirth_type_TZ_ZTo(v264, v266);
			branch_ArrowType_8 = v267;
			branch_Ctx_7 = v261;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 22LL: { // IntGe
			PTUP v268 = mw_mirth_var_Ctx_L0();
			PTUP v269 = mw_mirth_type_Type_Int();
			PTUP v270 = mw_mirth_type_Type_Int();
			PTUP v271 = mw_mirth_type_T2(v269, v270);
			PTUP v272 = mw_mirth_type_Type_Bool();
			PTUP v273 = mw_mirth_type_T1(v272);
			PTUP v274 = mw_mirth_type_TZ_ZTo(v271, v273);
			branch_ArrowType_8 = v274;
			branch_Ctx_7 = v268;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 23LL: { // IntNe
			PTUP v275 = mw_mirth_var_Ctx_L0();
			PTUP v276 = mw_mirth_type_Type_Int();
			PTUP v277 = mw_mirth_type_Type_Int();
			PTUP v278 = mw_mirth_type_T2(v276, v277);
			PTUP v279 = mw_mirth_type_Type_Bool();
			PTUP v280 = mw_mirth_type_T1(v279);
			PTUP v281 = mw_mirth_type_TZ_ZTo(v278, v280);
			branch_ArrowType_8 = v281;
			branch_Ctx_7 = v275;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 24LL: { // IntAdd
			PTUP v282 = mw_mirth_var_Ctx_L0();
			PTUP v283 = mw_mirth_type_Type_Int();
			PTUP v284 = mw_mirth_type_Type_Int();
			PTUP v285 = mw_mirth_type_T2(v283, v284);
			PTUP v286 = mw_mirth_type_Type_Int();
			PTUP v287 = mw_mirth_type_T1(v286);
			PTUP v288 = mw_mirth_type_TZ_ZTo(v285, v287);
			branch_ArrowType_8 = v288;
			branch_Ctx_7 = v282;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 25LL: { // IntSub
			PTUP v289 = mw_mirth_var_Ctx_L0();
			PTUP v290 = mw_mirth_type_Type_Int();
			PTUP v291 = mw_mirth_type_Type_Int();
			PTUP v292 = mw_mirth_type_T2(v290, v291);
			PTUP v293 = mw_mirth_type_Type_Int();
			PTUP v294 = mw_mirth_type_T1(v293);
			PTUP v295 = mw_mirth_type_TZ_ZTo(v292, v294);
			branch_ArrowType_8 = v295;
			branch_Ctx_7 = v289;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 26LL: { // IntMul
			PTUP v296 = mw_mirth_var_Ctx_L0();
			PTUP v297 = mw_mirth_type_Type_Int();
			PTUP v298 = mw_mirth_type_Type_Int();
			PTUP v299 = mw_mirth_type_T2(v297, v298);
			PTUP v300 = mw_mirth_type_Type_Int();
			PTUP v301 = mw_mirth_type_T1(v300);
			PTUP v302 = mw_mirth_type_TZ_ZTo(v299, v301);
			branch_ArrowType_8 = v302;
			branch_Ctx_7 = v296;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 27LL: { // IntDivMod
			PTUP v303 = mw_mirth_var_Ctx_L0();
			PTUP v304 = mw_mirth_type_Type_Int();
			PTUP v305 = mw_mirth_type_Type_Int();
			PTUP v306 = mw_mirth_type_T2(v304, v305);
			PTUP v307 = mw_mirth_type_Type_Int();
			PTUP v308 = mw_mirth_type_Type_Int();
			PTUP v309 = mw_mirth_type_T2(v307, v308);
			PTUP v310 = mw_mirth_type_TZ_ZTo(v306, v309);
			branch_ArrowType_8 = v310;
			branch_Ctx_7 = v303;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 28LL: { // IntToStr
			PTUP v311 = mw_mirth_var_Ctx_L0();
			PTUP v312 = mw_mirth_type_Type_Int();
			PTUP v313 = mw_mirth_type_T1(v312);
			PTUP v314 = mw_mirth_type_Type_Str();
			PTUP v315 = mw_mirth_type_T1(v314);
			PTUP v316 = mw_mirth_type_TZ_ZTo(v313, v315);
			branch_ArrowType_8 = v316;
			branch_Ctx_7 = v311;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 29LL: { // IntToNat
			PTUP v317 = mw_mirth_var_Ctx_L0();
			PTUP v318 = mw_mirth_type_Type_Int();
			PTUP v319 = mw_mirth_type_T1(v318);
			PTUP v320 = mw_mirth_type_Type_Nat();
			PTUP v321 = mw_mirth_type_T1(v320);
			PTUP v322 = mw_mirth_type_TZ_ZTo(v319, v321);
			branch_ArrowType_8 = v322;
			branch_Ctx_7 = v317;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 31LL: { // IntToU64
			PTUP v323 = mw_mirth_var_Ctx_L0();
			PTUP v324 = mw_mirth_type_Type_Int();
			PTUP v325 = mw_mirth_type_T1(v324);
			PTUP v326 = mw_mirth_type_Type_U64();
			PTUP v327 = mw_mirth_type_T1(v326);
			PTUP v328 = mw_mirth_type_TZ_ZTo(v325, v327);
			branch_ArrowType_8 = v328;
			branch_Ctx_7 = v323;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 30LL: { // IntToI64
			PTUP v329 = mw_mirth_var_Ctx_L0();
			PTUP v330 = mw_mirth_type_Type_Int();
			PTUP v331 = mw_mirth_type_T1(v330);
			PTUP v332 = mw_mirth_type_Type_I64();
			PTUP v333 = mw_mirth_type_T1(v332);
			PTUP v334 = mw_mirth_type_TZ_ZTo(v331, v333);
			branch_ArrowType_8 = v334;
			branch_Ctx_7 = v329;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 32LL: { // IntToF32
			PTUP v335 = mw_mirth_var_Ctx_L0();
			PTUP v336 = mw_mirth_type_Type_Int();
			PTUP v337 = mw_mirth_type_T1(v336);
			PTUP v338 = mw_mirth_type_Type_F32();
			PTUP v339 = mw_mirth_type_T1(v338);
			PTUP v340 = mw_mirth_type_TZ_ZTo(v337, v339);
			branch_ArrowType_8 = v340;
			branch_Ctx_7 = v335;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 33LL: { // IntToF64
			PTUP v341 = mw_mirth_var_Ctx_L0();
			PTUP v342 = mw_mirth_type_Type_Int();
			PTUP v343 = mw_mirth_type_T1(v342);
			PTUP v344 = mw_mirth_type_Type_F64();
			PTUP v345 = mw_mirth_type_T1(v344);
			PTUP v346 = mw_mirth_type_TZ_ZTo(v343, v345);
			branch_ArrowType_8 = v346;
			branch_Ctx_7 = v341;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 34LL: { // NatToInt
			PTUP v347 = mw_mirth_var_Ctx_L0();
			PTUP v348 = mw_mirth_type_Type_Nat();
			PTUP v349 = mw_mirth_type_T1(v348);
			PTUP v350 = mw_mirth_type_Type_Int();
			PTUP v351 = mw_mirth_type_T1(v350);
			PTUP v352 = mw_mirth_type_TZ_ZTo(v349, v351);
			branch_ArrowType_8 = v352;
			branch_Ctx_7 = v347;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 35LL: { // U8Get
			PTUP v353 = mw_mirth_var_Ctx_L0();
			PTUP v354 = mw_mirth_type_Type_Ptr();
			PTUP v355 = mw_mirth_type_T1(v354);
			PTUP v356 = mw_mirth_type_Type_U8();
			PTUP v357 = mw_mirth_type_T1(v356);
			PTUP v358 = mw_mirth_type_TZ_ZTo(v355, v357);
			branch_ArrowType_8 = v358;
			branch_Ctx_7 = v353;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 36LL: { // U8Set
			PTUP v359 = mw_mirth_var_Ctx_L0();
			PTUP v360 = mw_mirth_type_Type_U8();
			PTUP v361 = mw_mirth_type_Type_Ptr();
			PTUP v362 = mw_mirth_type_T2(v360, v361);
			PTUP v363 = mw_mirth_type_T0();
			PTUP v364 = mw_mirth_type_TZ_ZTo(v362, v363);
			branch_ArrowType_8 = v364;
			branch_Ctx_7 = v359;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 37LL: { // U8ToU64
			PTUP v365 = mw_mirth_var_Ctx_L0();
			PTUP v366 = mw_mirth_type_Type_U8();
			PTUP v367 = mw_mirth_type_T1(v366);
			PTUP v368 = mw_mirth_type_Type_U64();
			PTUP v369 = mw_mirth_type_T1(v368);
			PTUP v370 = mw_mirth_type_TZ_ZTo(v367, v369);
			branch_ArrowType_8 = v370;
			branch_Ctx_7 = v365;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 38LL: { // U16Get
			PTUP v371 = mw_mirth_var_Ctx_L0();
			PTUP v372 = mw_mirth_type_Type_Ptr();
			PTUP v373 = mw_mirth_type_T1(v372);
			PTUP v374 = mw_mirth_type_Type_U16();
			PTUP v375 = mw_mirth_type_T1(v374);
			PTUP v376 = mw_mirth_type_TZ_ZTo(v373, v375);
			branch_ArrowType_8 = v376;
			branch_Ctx_7 = v371;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 39LL: { // U16Set
			PTUP v377 = mw_mirth_var_Ctx_L0();
			PTUP v378 = mw_mirth_type_Type_U16();
			PTUP v379 = mw_mirth_type_Type_Ptr();
			PTUP v380 = mw_mirth_type_T2(v378, v379);
			PTUP v381 = mw_mirth_type_T0();
			PTUP v382 = mw_mirth_type_TZ_ZTo(v380, v381);
			branch_ArrowType_8 = v382;
			branch_Ctx_7 = v377;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 40LL: { // U16ToU64
			PTUP v383 = mw_mirth_var_Ctx_L0();
			PTUP v384 = mw_mirth_type_Type_U16();
			PTUP v385 = mw_mirth_type_T1(v384);
			PTUP v386 = mw_mirth_type_Type_U64();
			PTUP v387 = mw_mirth_type_T1(v386);
			PTUP v388 = mw_mirth_type_TZ_ZTo(v385, v387);
			branch_ArrowType_8 = v388;
			branch_Ctx_7 = v383;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 41LL: { // U32Get
			PTUP v389 = mw_mirth_var_Ctx_L0();
			PTUP v390 = mw_mirth_type_Type_Ptr();
			PTUP v391 = mw_mirth_type_T1(v390);
			PTUP v392 = mw_mirth_type_Type_U32();
			PTUP v393 = mw_mirth_type_T1(v392);
			PTUP v394 = mw_mirth_type_TZ_ZTo(v391, v393);
			branch_ArrowType_8 = v394;
			branch_Ctx_7 = v389;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 42LL: { // U32Set
			PTUP v395 = mw_mirth_var_Ctx_L0();
			PTUP v396 = mw_mirth_type_Type_U32();
			PTUP v397 = mw_mirth_type_Type_Ptr();
			PTUP v398 = mw_mirth_type_T2(v396, v397);
			PTUP v399 = mw_mirth_type_T0();
			PTUP v400 = mw_mirth_type_TZ_ZTo(v398, v399);
			branch_ArrowType_8 = v400;
			branch_Ctx_7 = v395;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 43LL: { // U32ToU64
			PTUP v401 = mw_mirth_var_Ctx_L0();
			PTUP v402 = mw_mirth_type_Type_U32();
			PTUP v403 = mw_mirth_type_T1(v402);
			PTUP v404 = mw_mirth_type_Type_U64();
			PTUP v405 = mw_mirth_type_T1(v404);
			PTUP v406 = mw_mirth_type_TZ_ZTo(v403, v405);
			branch_ArrowType_8 = v406;
			branch_Ctx_7 = v401;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 44LL: { // U64Get
			PTUP v407 = mw_mirth_var_Ctx_L0();
			PTUP v408 = mw_mirth_type_Type_Ptr();
			PTUP v409 = mw_mirth_type_T1(v408);
			PTUP v410 = mw_mirth_type_Type_U64();
			PTUP v411 = mw_mirth_type_T1(v410);
			PTUP v412 = mw_mirth_type_TZ_ZTo(v409, v411);
			branch_ArrowType_8 = v412;
			branch_Ctx_7 = v407;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 45LL: { // U64Set
			PTUP v413 = mw_mirth_var_Ctx_L0();
			PTUP v414 = mw_mirth_type_Type_U64();
			PTUP v415 = mw_mirth_type_Type_Ptr();
			PTUP v416 = mw_mirth_type_T2(v414, v415);
			PTUP v417 = mw_mirth_type_T0();
			PTUP v418 = mw_mirth_type_TZ_ZTo(v416, v417);
			branch_ArrowType_8 = v418;
			branch_Ctx_7 = v413;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 46LL: { // U64Eq
			PTUP v419 = mw_mirth_var_Ctx_L0();
			PTUP v420 = mw_mirth_type_Type_U64();
			PTUP v421 = mw_mirth_type_Type_U64();
			PTUP v422 = mw_mirth_type_T2(v420, v421);
			PTUP v423 = mw_mirth_type_Type_Bool();
			PTUP v424 = mw_mirth_type_T1(v423);
			PTUP v425 = mw_mirth_type_TZ_ZTo(v422, v424);
			branch_ArrowType_8 = v425;
			branch_Ctx_7 = v419;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 47LL: { // U64Lt
			PTUP v426 = mw_mirth_var_Ctx_L0();
			PTUP v427 = mw_mirth_type_Type_U64();
			PTUP v428 = mw_mirth_type_Type_U64();
			PTUP v429 = mw_mirth_type_T2(v427, v428);
			PTUP v430 = mw_mirth_type_Type_Bool();
			PTUP v431 = mw_mirth_type_T1(v430);
			PTUP v432 = mw_mirth_type_TZ_ZTo(v429, v431);
			branch_ArrowType_8 = v432;
			branch_Ctx_7 = v426;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 48LL: { // U64Le
			PTUP v433 = mw_mirth_var_Ctx_L0();
			PTUP v434 = mw_mirth_type_Type_U64();
			PTUP v435 = mw_mirth_type_Type_U64();
			PTUP v436 = mw_mirth_type_T2(v434, v435);
			PTUP v437 = mw_mirth_type_Type_Bool();
			PTUP v438 = mw_mirth_type_T1(v437);
			PTUP v439 = mw_mirth_type_TZ_ZTo(v436, v438);
			branch_ArrowType_8 = v439;
			branch_Ctx_7 = v433;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 49LL: { // U64Gt
			PTUP v440 = mw_mirth_var_Ctx_L0();
			PTUP v441 = mw_mirth_type_Type_U64();
			PTUP v442 = mw_mirth_type_Type_U64();
			PTUP v443 = mw_mirth_type_T2(v441, v442);
			PTUP v444 = mw_mirth_type_Type_Bool();
			PTUP v445 = mw_mirth_type_T1(v444);
			PTUP v446 = mw_mirth_type_TZ_ZTo(v443, v445);
			branch_ArrowType_8 = v446;
			branch_Ctx_7 = v440;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 50LL: { // U64Ge
			PTUP v447 = mw_mirth_var_Ctx_L0();
			PTUP v448 = mw_mirth_type_Type_U64();
			PTUP v449 = mw_mirth_type_Type_U64();
			PTUP v450 = mw_mirth_type_T2(v448, v449);
			PTUP v451 = mw_mirth_type_Type_Bool();
			PTUP v452 = mw_mirth_type_T1(v451);
			PTUP v453 = mw_mirth_type_TZ_ZTo(v450, v452);
			branch_ArrowType_8 = v453;
			branch_Ctx_7 = v447;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 51LL: { // U64Ne
			PTUP v454 = mw_mirth_var_Ctx_L0();
			PTUP v455 = mw_mirth_type_Type_U64();
			PTUP v456 = mw_mirth_type_Type_U64();
			PTUP v457 = mw_mirth_type_T2(v455, v456);
			PTUP v458 = mw_mirth_type_Type_Bool();
			PTUP v459 = mw_mirth_type_T1(v458);
			PTUP v460 = mw_mirth_type_TZ_ZTo(v457, v459);
			branch_ArrowType_8 = v460;
			branch_Ctx_7 = v454;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 52LL: { // U64Add
			PTUP v461 = mw_mirth_var_Ctx_L0();
			PTUP v462 = mw_mirth_type_Type_U64();
			PTUP v463 = mw_mirth_type_Type_U64();
			PTUP v464 = mw_mirth_type_T2(v462, v463);
			PTUP v465 = mw_mirth_type_Type_U64();
			PTUP v466 = mw_mirth_type_T1(v465);
			PTUP v467 = mw_mirth_type_TZ_ZTo(v464, v466);
			branch_ArrowType_8 = v467;
			branch_Ctx_7 = v461;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 53LL: { // U64Sub
			PTUP v468 = mw_mirth_var_Ctx_L0();
			PTUP v469 = mw_mirth_type_Type_U64();
			PTUP v470 = mw_mirth_type_Type_U64();
			PTUP v471 = mw_mirth_type_T2(v469, v470);
			PTUP v472 = mw_mirth_type_Type_U64();
			PTUP v473 = mw_mirth_type_T1(v472);
			PTUP v474 = mw_mirth_type_TZ_ZTo(v471, v473);
			branch_ArrowType_8 = v474;
			branch_Ctx_7 = v468;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 54LL: { // U64Mul
			PTUP v475 = mw_mirth_var_Ctx_L0();
			PTUP v476 = mw_mirth_type_Type_U64();
			PTUP v477 = mw_mirth_type_Type_U64();
			PTUP v478 = mw_mirth_type_T2(v476, v477);
			PTUP v479 = mw_mirth_type_Type_U64();
			PTUP v480 = mw_mirth_type_T1(v479);
			PTUP v481 = mw_mirth_type_TZ_ZTo(v478, v480);
			branch_ArrowType_8 = v481;
			branch_Ctx_7 = v475;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 55LL: { // U64Div
			PTUP v482 = mw_mirth_var_Ctx_L0();
			PTUP v483 = mw_mirth_type_Type_U64();
			PTUP v484 = mw_mirth_type_Type_U64();
			PTUP v485 = mw_mirth_type_T2(v483, v484);
			PTUP v486 = mw_mirth_type_Type_U64();
			PTUP v487 = mw_mirth_type_T1(v486);
			PTUP v488 = mw_mirth_type_TZ_ZTo(v485, v487);
			branch_ArrowType_8 = v488;
			branch_Ctx_7 = v482;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 56LL: { // U64Mod
			PTUP v489 = mw_mirth_var_Ctx_L0();
			PTUP v490 = mw_mirth_type_Type_U64();
			PTUP v491 = mw_mirth_type_Type_U64();
			PTUP v492 = mw_mirth_type_T2(v490, v491);
			PTUP v493 = mw_mirth_type_Type_U64();
			PTUP v494 = mw_mirth_type_T1(v493);
			PTUP v495 = mw_mirth_type_TZ_ZTo(v492, v494);
			branch_ArrowType_8 = v495;
			branch_Ctx_7 = v489;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 57LL: { // U64And
			PTUP v496 = mw_mirth_var_Ctx_L0();
			PTUP v497 = mw_mirth_type_Type_U64();
			PTUP v498 = mw_mirth_type_Type_U64();
			PTUP v499 = mw_mirth_type_T2(v497, v498);
			PTUP v500 = mw_mirth_type_Type_U64();
			PTUP v501 = mw_mirth_type_T1(v500);
			PTUP v502 = mw_mirth_type_TZ_ZTo(v499, v501);
			branch_ArrowType_8 = v502;
			branch_Ctx_7 = v496;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 58LL: { // U64Or
			PTUP v503 = mw_mirth_var_Ctx_L0();
			PTUP v504 = mw_mirth_type_Type_U64();
			PTUP v505 = mw_mirth_type_Type_U64();
			PTUP v506 = mw_mirth_type_T2(v504, v505);
			PTUP v507 = mw_mirth_type_Type_U64();
			PTUP v508 = mw_mirth_type_T1(v507);
			PTUP v509 = mw_mirth_type_TZ_ZTo(v506, v508);
			branch_ArrowType_8 = v509;
			branch_Ctx_7 = v503;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 59LL: { // U64Xor
			PTUP v510 = mw_mirth_var_Ctx_L0();
			PTUP v511 = mw_mirth_type_Type_U64();
			PTUP v512 = mw_mirth_type_Type_U64();
			PTUP v513 = mw_mirth_type_T2(v511, v512);
			PTUP v514 = mw_mirth_type_Type_U64();
			PTUP v515 = mw_mirth_type_T1(v514);
			PTUP v516 = mw_mirth_type_TZ_ZTo(v513, v515);
			branch_ArrowType_8 = v516;
			branch_Ctx_7 = v510;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 60LL: { // U64Shl
			PTUP v517 = mw_mirth_var_Ctx_L0();
			PTUP v518 = mw_mirth_type_Type_U64();
			PTUP v519 = mw_mirth_type_Type_U64();
			PTUP v520 = mw_mirth_type_T2(v518, v519);
			PTUP v521 = mw_mirth_type_Type_U64();
			PTUP v522 = mw_mirth_type_T1(v521);
			PTUP v523 = mw_mirth_type_TZ_ZTo(v520, v522);
			branch_ArrowType_8 = v523;
			branch_Ctx_7 = v517;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 61LL: { // U64Shr
			PTUP v524 = mw_mirth_var_Ctx_L0();
			PTUP v525 = mw_mirth_type_Type_U64();
			PTUP v526 = mw_mirth_type_Type_U64();
			PTUP v527 = mw_mirth_type_T2(v525, v526);
			PTUP v528 = mw_mirth_type_Type_U64();
			PTUP v529 = mw_mirth_type_T1(v528);
			PTUP v530 = mw_mirth_type_TZ_ZTo(v527, v529);
			branch_ArrowType_8 = v530;
			branch_Ctx_7 = v524;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 62LL: { // U64ToInt
			PTUP v531 = mw_mirth_var_Ctx_L0();
			PTUP v532 = mw_mirth_type_Type_U64();
			PTUP v533 = mw_mirth_type_T1(v532);
			PTUP v534 = mw_mirth_type_Type_Int();
			PTUP v535 = mw_mirth_type_T1(v534);
			PTUP v536 = mw_mirth_type_TZ_ZTo(v533, v535);
			branch_ArrowType_8 = v536;
			branch_Ctx_7 = v531;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 63LL: { // U64ToStr
			PTUP v537 = mw_mirth_var_Ctx_L0();
			PTUP v538 = mw_mirth_type_Type_U64();
			PTUP v539 = mw_mirth_type_T1(v538);
			PTUP v540 = mw_mirth_type_Type_Str();
			PTUP v541 = mw_mirth_type_T1(v540);
			PTUP v542 = mw_mirth_type_TZ_ZTo(v539, v541);
			branch_ArrowType_8 = v542;
			branch_Ctx_7 = v537;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 64LL: { // U64ToU8
			PTUP v543 = mw_mirth_var_Ctx_L0();
			PTUP v544 = mw_mirth_type_Type_U64();
			PTUP v545 = mw_mirth_type_T1(v544);
			PTUP v546 = mw_mirth_type_Type_U8();
			PTUP v547 = mw_mirth_type_T1(v546);
			PTUP v548 = mw_mirth_type_TZ_ZTo(v545, v547);
			branch_ArrowType_8 = v548;
			branch_Ctx_7 = v543;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 65LL: { // U64ToU16
			PTUP v549 = mw_mirth_var_Ctx_L0();
			PTUP v550 = mw_mirth_type_Type_U64();
			PTUP v551 = mw_mirth_type_T1(v550);
			PTUP v552 = mw_mirth_type_Type_U16();
			PTUP v553 = mw_mirth_type_T1(v552);
			PTUP v554 = mw_mirth_type_TZ_ZTo(v551, v553);
			branch_ArrowType_8 = v554;
			branch_Ctx_7 = v549;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 66LL: { // U64ToU32
			PTUP v555 = mw_mirth_var_Ctx_L0();
			PTUP v556 = mw_mirth_type_Type_U64();
			PTUP v557 = mw_mirth_type_T1(v556);
			PTUP v558 = mw_mirth_type_Type_U32();
			PTUP v559 = mw_mirth_type_T1(v558);
			PTUP v560 = mw_mirth_type_TZ_ZTo(v557, v559);
			branch_ArrowType_8 = v560;
			branch_Ctx_7 = v555;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 67LL: { // U64ToI8
			PTUP v561 = mw_mirth_var_Ctx_L0();
			PTUP v562 = mw_mirth_type_Type_U64();
			PTUP v563 = mw_mirth_type_T1(v562);
			PTUP v564 = mw_mirth_type_Type_I8();
			PTUP v565 = mw_mirth_type_T1(v564);
			PTUP v566 = mw_mirth_type_TZ_ZTo(v563, v565);
			branch_ArrowType_8 = v566;
			branch_Ctx_7 = v561;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 68LL: { // U64ToI16
			PTUP v567 = mw_mirth_var_Ctx_L0();
			PTUP v568 = mw_mirth_type_Type_U64();
			PTUP v569 = mw_mirth_type_T1(v568);
			PTUP v570 = mw_mirth_type_Type_I16();
			PTUP v571 = mw_mirth_type_T1(v570);
			PTUP v572 = mw_mirth_type_TZ_ZTo(v569, v571);
			branch_ArrowType_8 = v572;
			branch_Ctx_7 = v567;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 69LL: { // U64ToI32
			PTUP v573 = mw_mirth_var_Ctx_L0();
			PTUP v574 = mw_mirth_type_Type_U64();
			PTUP v575 = mw_mirth_type_T1(v574);
			PTUP v576 = mw_mirth_type_Type_I32();
			PTUP v577 = mw_mirth_type_T1(v576);
			PTUP v578 = mw_mirth_type_TZ_ZTo(v575, v577);
			branch_ArrowType_8 = v578;
			branch_Ctx_7 = v573;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 70LL: { // U64ToI64
			PTUP v579 = mw_mirth_var_Ctx_L0();
			PTUP v580 = mw_mirth_type_Type_U64();
			PTUP v581 = mw_mirth_type_T1(v580);
			PTUP v582 = mw_mirth_type_Type_I64();
			PTUP v583 = mw_mirth_type_T1(v582);
			PTUP v584 = mw_mirth_type_TZ_ZTo(v581, v583);
			branch_ArrowType_8 = v584;
			branch_Ctx_7 = v579;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 71LL: { // U64ToF32
			PTUP v585 = mw_mirth_var_Ctx_L0();
			PTUP v586 = mw_mirth_type_Type_U64();
			PTUP v587 = mw_mirth_type_T1(v586);
			PTUP v588 = mw_mirth_type_Type_F32();
			PTUP v589 = mw_mirth_type_T1(v588);
			PTUP v590 = mw_mirth_type_TZ_ZTo(v587, v589);
			branch_ArrowType_8 = v590;
			branch_Ctx_7 = v585;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 72LL: { // U64ToF64
			PTUP v591 = mw_mirth_var_Ctx_L0();
			PTUP v592 = mw_mirth_type_Type_U64();
			PTUP v593 = mw_mirth_type_T1(v592);
			PTUP v594 = mw_mirth_type_Type_F64();
			PTUP v595 = mw_mirth_type_T1(v594);
			PTUP v596 = mw_mirth_type_TZ_ZTo(v593, v595);
			branch_ArrowType_8 = v596;
			branch_Ctx_7 = v591;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 73LL: { // I8Get
			PTUP v597 = mw_mirth_var_Ctx_L0();
			PTUP v598 = mw_mirth_type_Type_Ptr();
			PTUP v599 = mw_mirth_type_T1(v598);
			PTUP v600 = mw_mirth_type_Type_I8();
			PTUP v601 = mw_mirth_type_T1(v600);
			PTUP v602 = mw_mirth_type_TZ_ZTo(v599, v601);
			branch_ArrowType_8 = v602;
			branch_Ctx_7 = v597;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 74LL: { // I8Set
			PTUP v603 = mw_mirth_var_Ctx_L0();
			PTUP v604 = mw_mirth_type_Type_I8();
			PTUP v605 = mw_mirth_type_Type_Ptr();
			PTUP v606 = mw_mirth_type_T2(v604, v605);
			PTUP v607 = mw_mirth_type_T0();
			PTUP v608 = mw_mirth_type_TZ_ZTo(v606, v607);
			branch_ArrowType_8 = v608;
			branch_Ctx_7 = v603;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 75LL: { // I8ToI64
			PTUP v609 = mw_mirth_var_Ctx_L0();
			PTUP v610 = mw_mirth_type_Type_I8();
			PTUP v611 = mw_mirth_type_T1(v610);
			PTUP v612 = mw_mirth_type_Type_I64();
			PTUP v613 = mw_mirth_type_T1(v612);
			PTUP v614 = mw_mirth_type_TZ_ZTo(v611, v613);
			branch_ArrowType_8 = v614;
			branch_Ctx_7 = v609;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 76LL: { // I16Get
			PTUP v615 = mw_mirth_var_Ctx_L0();
			PTUP v616 = mw_mirth_type_Type_Ptr();
			PTUP v617 = mw_mirth_type_T1(v616);
			PTUP v618 = mw_mirth_type_Type_I16();
			PTUP v619 = mw_mirth_type_T1(v618);
			PTUP v620 = mw_mirth_type_TZ_ZTo(v617, v619);
			branch_ArrowType_8 = v620;
			branch_Ctx_7 = v615;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 77LL: { // I16Set
			PTUP v621 = mw_mirth_var_Ctx_L0();
			PTUP v622 = mw_mirth_type_Type_I16();
			PTUP v623 = mw_mirth_type_Type_Ptr();
			PTUP v624 = mw_mirth_type_T2(v622, v623);
			PTUP v625 = mw_mirth_type_T0();
			PTUP v626 = mw_mirth_type_TZ_ZTo(v624, v625);
			branch_ArrowType_8 = v626;
			branch_Ctx_7 = v621;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 78LL: { // I16ToI64
			PTUP v627 = mw_mirth_var_Ctx_L0();
			PTUP v628 = mw_mirth_type_Type_I16();
			PTUP v629 = mw_mirth_type_T1(v628);
			PTUP v630 = mw_mirth_type_Type_I64();
			PTUP v631 = mw_mirth_type_T1(v630);
			PTUP v632 = mw_mirth_type_TZ_ZTo(v629, v631);
			branch_ArrowType_8 = v632;
			branch_Ctx_7 = v627;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 79LL: { // I32Get
			PTUP v633 = mw_mirth_var_Ctx_L0();
			PTUP v634 = mw_mirth_type_Type_Ptr();
			PTUP v635 = mw_mirth_type_T1(v634);
			PTUP v636 = mw_mirth_type_Type_I32();
			PTUP v637 = mw_mirth_type_T1(v636);
			PTUP v638 = mw_mirth_type_TZ_ZTo(v635, v637);
			branch_ArrowType_8 = v638;
			branch_Ctx_7 = v633;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 80LL: { // I32Set
			PTUP v639 = mw_mirth_var_Ctx_L0();
			PTUP v640 = mw_mirth_type_Type_I32();
			PTUP v641 = mw_mirth_type_Type_Ptr();
			PTUP v642 = mw_mirth_type_T2(v640, v641);
			PTUP v643 = mw_mirth_type_T0();
			PTUP v644 = mw_mirth_type_TZ_ZTo(v642, v643);
			branch_ArrowType_8 = v644;
			branch_Ctx_7 = v639;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 81LL: { // I32ToI64
			PTUP v645 = mw_mirth_var_Ctx_L0();
			PTUP v646 = mw_mirth_type_Type_I32();
			PTUP v647 = mw_mirth_type_T1(v646);
			PTUP v648 = mw_mirth_type_Type_I64();
			PTUP v649 = mw_mirth_type_T1(v648);
			PTUP v650 = mw_mirth_type_TZ_ZTo(v647, v649);
			branch_ArrowType_8 = v650;
			branch_Ctx_7 = v645;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 82LL: { // I64Get
			PTUP v651 = mw_mirth_var_Ctx_L0();
			PTUP v652 = mw_mirth_type_Type_Ptr();
			PTUP v653 = mw_mirth_type_T1(v652);
			PTUP v654 = mw_mirth_type_Type_I64();
			PTUP v655 = mw_mirth_type_T1(v654);
			PTUP v656 = mw_mirth_type_TZ_ZTo(v653, v655);
			branch_ArrowType_8 = v656;
			branch_Ctx_7 = v651;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 83LL: { // I64Set
			PTUP v657 = mw_mirth_var_Ctx_L0();
			PTUP v658 = mw_mirth_type_Type_I64();
			PTUP v659 = mw_mirth_type_Type_Ptr();
			PTUP v660 = mw_mirth_type_T2(v658, v659);
			PTUP v661 = mw_mirth_type_T0();
			PTUP v662 = mw_mirth_type_TZ_ZTo(v660, v661);
			branch_ArrowType_8 = v662;
			branch_Ctx_7 = v657;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 84LL: { // I64Eq
			PTUP v663 = mw_mirth_var_Ctx_L0();
			PTUP v664 = mw_mirth_type_Type_I64();
			PTUP v665 = mw_mirth_type_Type_I64();
			PTUP v666 = mw_mirth_type_T2(v664, v665);
			PTUP v667 = mw_mirth_type_Type_Bool();
			PTUP v668 = mw_mirth_type_T1(v667);
			PTUP v669 = mw_mirth_type_TZ_ZTo(v666, v668);
			branch_ArrowType_8 = v669;
			branch_Ctx_7 = v663;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 85LL: { // I64Lt
			PTUP v670 = mw_mirth_var_Ctx_L0();
			PTUP v671 = mw_mirth_type_Type_I64();
			PTUP v672 = mw_mirth_type_Type_I64();
			PTUP v673 = mw_mirth_type_T2(v671, v672);
			PTUP v674 = mw_mirth_type_Type_Bool();
			PTUP v675 = mw_mirth_type_T1(v674);
			PTUP v676 = mw_mirth_type_TZ_ZTo(v673, v675);
			branch_ArrowType_8 = v676;
			branch_Ctx_7 = v670;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 86LL: { // I64Le
			PTUP v677 = mw_mirth_var_Ctx_L0();
			PTUP v678 = mw_mirth_type_Type_I64();
			PTUP v679 = mw_mirth_type_Type_I64();
			PTUP v680 = mw_mirth_type_T2(v678, v679);
			PTUP v681 = mw_mirth_type_Type_Bool();
			PTUP v682 = mw_mirth_type_T1(v681);
			PTUP v683 = mw_mirth_type_TZ_ZTo(v680, v682);
			branch_ArrowType_8 = v683;
			branch_Ctx_7 = v677;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 87LL: { // I64Gt
			PTUP v684 = mw_mirth_var_Ctx_L0();
			PTUP v685 = mw_mirth_type_Type_I64();
			PTUP v686 = mw_mirth_type_Type_I64();
			PTUP v687 = mw_mirth_type_T2(v685, v686);
			PTUP v688 = mw_mirth_type_Type_Bool();
			PTUP v689 = mw_mirth_type_T1(v688);
			PTUP v690 = mw_mirth_type_TZ_ZTo(v687, v689);
			branch_ArrowType_8 = v690;
			branch_Ctx_7 = v684;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 88LL: { // I64Ge
			PTUP v691 = mw_mirth_var_Ctx_L0();
			PTUP v692 = mw_mirth_type_Type_I64();
			PTUP v693 = mw_mirth_type_Type_I64();
			PTUP v694 = mw_mirth_type_T2(v692, v693);
			PTUP v695 = mw_mirth_type_Type_Bool();
			PTUP v696 = mw_mirth_type_T1(v695);
			PTUP v697 = mw_mirth_type_TZ_ZTo(v694, v696);
			branch_ArrowType_8 = v697;
			branch_Ctx_7 = v691;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 89LL: { // I64Ne
			PTUP v698 = mw_mirth_var_Ctx_L0();
			PTUP v699 = mw_mirth_type_Type_I64();
			PTUP v700 = mw_mirth_type_Type_I64();
			PTUP v701 = mw_mirth_type_T2(v699, v700);
			PTUP v702 = mw_mirth_type_Type_Bool();
			PTUP v703 = mw_mirth_type_T1(v702);
			PTUP v704 = mw_mirth_type_TZ_ZTo(v701, v703);
			branch_ArrowType_8 = v704;
			branch_Ctx_7 = v698;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 90LL: { // I64Add
			PTUP v705 = mw_mirth_var_Ctx_L0();
			PTUP v706 = mw_mirth_type_Type_I64();
			PTUP v707 = mw_mirth_type_Type_I64();
			PTUP v708 = mw_mirth_type_T2(v706, v707);
			PTUP v709 = mw_mirth_type_Type_I64();
			PTUP v710 = mw_mirth_type_T1(v709);
			PTUP v711 = mw_mirth_type_TZ_ZTo(v708, v710);
			branch_ArrowType_8 = v711;
			branch_Ctx_7 = v705;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 91LL: { // I64Sub
			PTUP v712 = mw_mirth_var_Ctx_L0();
			PTUP v713 = mw_mirth_type_Type_I64();
			PTUP v714 = mw_mirth_type_Type_I64();
			PTUP v715 = mw_mirth_type_T2(v713, v714);
			PTUP v716 = mw_mirth_type_Type_I64();
			PTUP v717 = mw_mirth_type_T1(v716);
			PTUP v718 = mw_mirth_type_TZ_ZTo(v715, v717);
			branch_ArrowType_8 = v718;
			branch_Ctx_7 = v712;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 92LL: { // I64Mul
			PTUP v719 = mw_mirth_var_Ctx_L0();
			PTUP v720 = mw_mirth_type_Type_I64();
			PTUP v721 = mw_mirth_type_Type_I64();
			PTUP v722 = mw_mirth_type_T2(v720, v721);
			PTUP v723 = mw_mirth_type_Type_I64();
			PTUP v724 = mw_mirth_type_T1(v723);
			PTUP v725 = mw_mirth_type_TZ_ZTo(v722, v724);
			branch_ArrowType_8 = v725;
			branch_Ctx_7 = v719;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 93LL: { // I64Div
			PTUP v726 = mw_mirth_var_Ctx_L0();
			PTUP v727 = mw_mirth_type_Type_I64();
			PTUP v728 = mw_mirth_type_Type_I64();
			PTUP v729 = mw_mirth_type_T2(v727, v728);
			PTUP v730 = mw_mirth_type_Type_I64();
			PTUP v731 = mw_mirth_type_T1(v730);
			PTUP v732 = mw_mirth_type_TZ_ZTo(v729, v731);
			branch_ArrowType_8 = v732;
			branch_Ctx_7 = v726;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 94LL: { // I64Mod
			PTUP v733 = mw_mirth_var_Ctx_L0();
			PTUP v734 = mw_mirth_type_Type_I64();
			PTUP v735 = mw_mirth_type_Type_I64();
			PTUP v736 = mw_mirth_type_T2(v734, v735);
			PTUP v737 = mw_mirth_type_Type_I64();
			PTUP v738 = mw_mirth_type_T1(v737);
			PTUP v739 = mw_mirth_type_TZ_ZTo(v736, v738);
			branch_ArrowType_8 = v739;
			branch_Ctx_7 = v733;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 95LL: { // I64ToInt
			PTUP v740 = mw_mirth_var_Ctx_L0();
			PTUP v741 = mw_mirth_type_Type_I64();
			PTUP v742 = mw_mirth_type_T1(v741);
			PTUP v743 = mw_mirth_type_Type_Int();
			PTUP v744 = mw_mirth_type_T1(v743);
			PTUP v745 = mw_mirth_type_TZ_ZTo(v742, v744);
			branch_ArrowType_8 = v745;
			branch_Ctx_7 = v740;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 96LL: { // I64ToStr
			PTUP v746 = mw_mirth_var_Ctx_L0();
			PTUP v747 = mw_mirth_type_Type_I64();
			PTUP v748 = mw_mirth_type_T1(v747);
			PTUP v749 = mw_mirth_type_Type_Str();
			PTUP v750 = mw_mirth_type_T1(v749);
			PTUP v751 = mw_mirth_type_TZ_ZTo(v748, v750);
			branch_ArrowType_8 = v751;
			branch_Ctx_7 = v746;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 97LL: { // I64ToU8
			PTUP v752 = mw_mirth_var_Ctx_L0();
			PTUP v753 = mw_mirth_type_Type_I64();
			PTUP v754 = mw_mirth_type_T1(v753);
			PTUP v755 = mw_mirth_type_Type_U8();
			PTUP v756 = mw_mirth_type_T1(v755);
			PTUP v757 = mw_mirth_type_TZ_ZTo(v754, v756);
			branch_ArrowType_8 = v757;
			branch_Ctx_7 = v752;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 98LL: { // I64ToU16
			PTUP v758 = mw_mirth_var_Ctx_L0();
			PTUP v759 = mw_mirth_type_Type_I64();
			PTUP v760 = mw_mirth_type_T1(v759);
			PTUP v761 = mw_mirth_type_Type_U16();
			PTUP v762 = mw_mirth_type_T1(v761);
			PTUP v763 = mw_mirth_type_TZ_ZTo(v760, v762);
			branch_ArrowType_8 = v763;
			branch_Ctx_7 = v758;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 99LL: { // I64ToU32
			PTUP v764 = mw_mirth_var_Ctx_L0();
			PTUP v765 = mw_mirth_type_Type_I64();
			PTUP v766 = mw_mirth_type_T1(v765);
			PTUP v767 = mw_mirth_type_Type_U32();
			PTUP v768 = mw_mirth_type_T1(v767);
			PTUP v769 = mw_mirth_type_TZ_ZTo(v766, v768);
			branch_ArrowType_8 = v769;
			branch_Ctx_7 = v764;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 100LL: { // I64ToU64
			PTUP v770 = mw_mirth_var_Ctx_L0();
			PTUP v771 = mw_mirth_type_Type_I64();
			PTUP v772 = mw_mirth_type_T1(v771);
			PTUP v773 = mw_mirth_type_Type_U64();
			PTUP v774 = mw_mirth_type_T1(v773);
			PTUP v775 = mw_mirth_type_TZ_ZTo(v772, v774);
			branch_ArrowType_8 = v775;
			branch_Ctx_7 = v770;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 101LL: { // I64ToI8
			PTUP v776 = mw_mirth_var_Ctx_L0();
			PTUP v777 = mw_mirth_type_Type_I64();
			PTUP v778 = mw_mirth_type_T1(v777);
			PTUP v779 = mw_mirth_type_Type_I8();
			PTUP v780 = mw_mirth_type_T1(v779);
			PTUP v781 = mw_mirth_type_TZ_ZTo(v778, v780);
			branch_ArrowType_8 = v781;
			branch_Ctx_7 = v776;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 102LL: { // I64ToI16
			PTUP v782 = mw_mirth_var_Ctx_L0();
			PTUP v783 = mw_mirth_type_Type_I64();
			PTUP v784 = mw_mirth_type_T1(v783);
			PTUP v785 = mw_mirth_type_Type_I16();
			PTUP v786 = mw_mirth_type_T1(v785);
			PTUP v787 = mw_mirth_type_TZ_ZTo(v784, v786);
			branch_ArrowType_8 = v787;
			branch_Ctx_7 = v782;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 103LL: { // I64ToI32
			PTUP v788 = mw_mirth_var_Ctx_L0();
			PTUP v789 = mw_mirth_type_Type_I64();
			PTUP v790 = mw_mirth_type_T1(v789);
			PTUP v791 = mw_mirth_type_Type_I32();
			PTUP v792 = mw_mirth_type_T1(v791);
			PTUP v793 = mw_mirth_type_TZ_ZTo(v790, v792);
			branch_ArrowType_8 = v793;
			branch_Ctx_7 = v788;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 104LL: { // I64ToF32
			PTUP v794 = mw_mirth_var_Ctx_L0();
			PTUP v795 = mw_mirth_type_Type_I64();
			PTUP v796 = mw_mirth_type_T1(v795);
			PTUP v797 = mw_mirth_type_Type_F32();
			PTUP v798 = mw_mirth_type_T1(v797);
			PTUP v799 = mw_mirth_type_TZ_ZTo(v796, v798);
			branch_ArrowType_8 = v799;
			branch_Ctx_7 = v794;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 105LL: { // I64ToF64
			PTUP v800 = mw_mirth_var_Ctx_L0();
			PTUP v801 = mw_mirth_type_Type_I64();
			PTUP v802 = mw_mirth_type_T1(v801);
			PTUP v803 = mw_mirth_type_Type_F64();
			PTUP v804 = mw_mirth_type_T1(v803);
			PTUP v805 = mw_mirth_type_TZ_ZTo(v802, v804);
			branch_ArrowType_8 = v805;
			branch_Ctx_7 = v800;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 106LL: { // F32Eq
			PTUP v806 = mw_mirth_var_Ctx_L0();
			PTUP v807 = mw_mirth_type_Type_F32();
			PTUP v808 = mw_mirth_type_Type_F32();
			PTUP v809 = mw_mirth_type_T2(v807, v808);
			PTUP v810 = mw_mirth_type_Type_Bool();
			PTUP v811 = mw_mirth_type_T1(v810);
			PTUP v812 = mw_mirth_type_TZ_ZTo(v809, v811);
			branch_ArrowType_8 = v812;
			branch_Ctx_7 = v806;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 107LL: { // F32Lt
			PTUP v813 = mw_mirth_var_Ctx_L0();
			PTUP v814 = mw_mirth_type_Type_F32();
			PTUP v815 = mw_mirth_type_Type_F32();
			PTUP v816 = mw_mirth_type_T2(v814, v815);
			PTUP v817 = mw_mirth_type_Type_Bool();
			PTUP v818 = mw_mirth_type_T1(v817);
			PTUP v819 = mw_mirth_type_TZ_ZTo(v816, v818);
			branch_ArrowType_8 = v819;
			branch_Ctx_7 = v813;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 108LL: { // F32Le
			PTUP v820 = mw_mirth_var_Ctx_L0();
			PTUP v821 = mw_mirth_type_Type_F32();
			PTUP v822 = mw_mirth_type_Type_F32();
			PTUP v823 = mw_mirth_type_T2(v821, v822);
			PTUP v824 = mw_mirth_type_Type_Bool();
			PTUP v825 = mw_mirth_type_T1(v824);
			PTUP v826 = mw_mirth_type_TZ_ZTo(v823, v825);
			branch_ArrowType_8 = v826;
			branch_Ctx_7 = v820;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 109LL: { // F32Gt
			PTUP v827 = mw_mirth_var_Ctx_L0();
			PTUP v828 = mw_mirth_type_Type_F32();
			PTUP v829 = mw_mirth_type_Type_F32();
			PTUP v830 = mw_mirth_type_T2(v828, v829);
			PTUP v831 = mw_mirth_type_Type_Bool();
			PTUP v832 = mw_mirth_type_T1(v831);
			PTUP v833 = mw_mirth_type_TZ_ZTo(v830, v832);
			branch_ArrowType_8 = v833;
			branch_Ctx_7 = v827;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 110LL: { // F32Ge
			PTUP v834 = mw_mirth_var_Ctx_L0();
			PTUP v835 = mw_mirth_type_Type_F32();
			PTUP v836 = mw_mirth_type_Type_F32();
			PTUP v837 = mw_mirth_type_T2(v835, v836);
			PTUP v838 = mw_mirth_type_Type_Bool();
			PTUP v839 = mw_mirth_type_T1(v838);
			PTUP v840 = mw_mirth_type_TZ_ZTo(v837, v839);
			branch_ArrowType_8 = v840;
			branch_Ctx_7 = v834;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 111LL: { // F32Ne
			PTUP v841 = mw_mirth_var_Ctx_L0();
			PTUP v842 = mw_mirth_type_Type_F32();
			PTUP v843 = mw_mirth_type_Type_F32();
			PTUP v844 = mw_mirth_type_T2(v842, v843);
			PTUP v845 = mw_mirth_type_Type_Bool();
			PTUP v846 = mw_mirth_type_T1(v845);
			PTUP v847 = mw_mirth_type_TZ_ZTo(v844, v846);
			branch_ArrowType_8 = v847;
			branch_Ctx_7 = v841;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 112LL: { // F32Add
			PTUP v848 = mw_mirth_var_Ctx_L0();
			PTUP v849 = mw_mirth_type_Type_F32();
			PTUP v850 = mw_mirth_type_Type_F32();
			PTUP v851 = mw_mirth_type_T2(v849, v850);
			PTUP v852 = mw_mirth_type_Type_F32();
			PTUP v853 = mw_mirth_type_T1(v852);
			PTUP v854 = mw_mirth_type_TZ_ZTo(v851, v853);
			branch_ArrowType_8 = v854;
			branch_Ctx_7 = v848;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 113LL: { // F32Sub
			PTUP v855 = mw_mirth_var_Ctx_L0();
			PTUP v856 = mw_mirth_type_Type_F32();
			PTUP v857 = mw_mirth_type_Type_F32();
			PTUP v858 = mw_mirth_type_T2(v856, v857);
			PTUP v859 = mw_mirth_type_Type_F32();
			PTUP v860 = mw_mirth_type_T1(v859);
			PTUP v861 = mw_mirth_type_TZ_ZTo(v858, v860);
			branch_ArrowType_8 = v861;
			branch_Ctx_7 = v855;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 114LL: { // F32Mul
			PTUP v862 = mw_mirth_var_Ctx_L0();
			PTUP v863 = mw_mirth_type_Type_F32();
			PTUP v864 = mw_mirth_type_Type_F32();
			PTUP v865 = mw_mirth_type_T2(v863, v864);
			PTUP v866 = mw_mirth_type_Type_F32();
			PTUP v867 = mw_mirth_type_T1(v866);
			PTUP v868 = mw_mirth_type_TZ_ZTo(v865, v867);
			branch_ArrowType_8 = v868;
			branch_Ctx_7 = v862;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 115LL: { // F32Div
			PTUP v869 = mw_mirth_var_Ctx_L0();
			PTUP v870 = mw_mirth_type_Type_F32();
			PTUP v871 = mw_mirth_type_Type_F32();
			PTUP v872 = mw_mirth_type_T2(v870, v871);
			PTUP v873 = mw_mirth_type_Type_F32();
			PTUP v874 = mw_mirth_type_T1(v873);
			PTUP v875 = mw_mirth_type_TZ_ZTo(v872, v874);
			branch_ArrowType_8 = v875;
			branch_Ctx_7 = v869;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 116LL: { // F32ToInt
			PTUP v876 = mw_mirth_var_Ctx_L0();
			PTUP v877 = mw_mirth_type_Type_F32();
			PTUP v878 = mw_mirth_type_T1(v877);
			PTUP v879 = mw_mirth_type_Type_Int();
			PTUP v880 = mw_mirth_type_T1(v879);
			PTUP v881 = mw_mirth_type_TZ_ZTo(v878, v880);
			branch_ArrowType_8 = v881;
			branch_Ctx_7 = v876;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 117LL: { // F32ToStr
			PTUP v882 = mw_mirth_var_Ctx_L0();
			PTUP v883 = mw_mirth_type_Type_F32();
			PTUP v884 = mw_mirth_type_T1(v883);
			PTUP v885 = mw_mirth_type_Type_Str();
			PTUP v886 = mw_mirth_type_T1(v885);
			PTUP v887 = mw_mirth_type_TZ_ZTo(v884, v886);
			branch_ArrowType_8 = v887;
			branch_Ctx_7 = v882;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 118LL: { // F32ToF64
			PTUP v888 = mw_mirth_var_Ctx_L0();
			PTUP v889 = mw_mirth_type_Type_F32();
			PTUP v890 = mw_mirth_type_T1(v889);
			PTUP v891 = mw_mirth_type_Type_F64();
			PTUP v892 = mw_mirth_type_T1(v891);
			PTUP v893 = mw_mirth_type_TZ_ZTo(v890, v892);
			branch_ArrowType_8 = v893;
			branch_Ctx_7 = v888;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 119LL: { // F32Get
			PTUP v894 = mw_mirth_var_Ctx_L0();
			PTUP v895 = mw_mirth_type_Type_Ptr();
			PTUP v896 = mw_mirth_type_T1(v895);
			PTUP v897 = mw_mirth_type_Type_F32();
			PTUP v898 = mw_mirth_type_T1(v897);
			PTUP v899 = mw_mirth_type_TZ_ZTo(v896, v898);
			branch_ArrowType_8 = v899;
			branch_Ctx_7 = v894;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 120LL: { // F32Set
			PTUP v900 = mw_mirth_var_Ctx_L0();
			PTUP v901 = mw_mirth_type_Type_F32();
			PTUP v902 = mw_mirth_type_Type_Ptr();
			PTUP v903 = mw_mirth_type_T2(v901, v902);
			PTUP v904 = mw_mirth_type_T0();
			PTUP v905 = mw_mirth_type_TZ_ZTo(v903, v904);
			branch_ArrowType_8 = v905;
			branch_Ctx_7 = v900;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 121LL: { // F64Eq
			PTUP v906 = mw_mirth_var_Ctx_L0();
			PTUP v907 = mw_mirth_type_Type_F64();
			PTUP v908 = mw_mirth_type_Type_F64();
			PTUP v909 = mw_mirth_type_T2(v907, v908);
			PTUP v910 = mw_mirth_type_Type_Bool();
			PTUP v911 = mw_mirth_type_T1(v910);
			PTUP v912 = mw_mirth_type_TZ_ZTo(v909, v911);
			branch_ArrowType_8 = v912;
			branch_Ctx_7 = v906;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 122LL: { // F64Lt
			PTUP v913 = mw_mirth_var_Ctx_L0();
			PTUP v914 = mw_mirth_type_Type_F64();
			PTUP v915 = mw_mirth_type_Type_F64();
			PTUP v916 = mw_mirth_type_T2(v914, v915);
			PTUP v917 = mw_mirth_type_Type_Bool();
			PTUP v918 = mw_mirth_type_T1(v917);
			PTUP v919 = mw_mirth_type_TZ_ZTo(v916, v918);
			branch_ArrowType_8 = v919;
			branch_Ctx_7 = v913;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 123LL: { // F64Le
			PTUP v920 = mw_mirth_var_Ctx_L0();
			PTUP v921 = mw_mirth_type_Type_F64();
			PTUP v922 = mw_mirth_type_Type_F64();
			PTUP v923 = mw_mirth_type_T2(v921, v922);
			PTUP v924 = mw_mirth_type_Type_Bool();
			PTUP v925 = mw_mirth_type_T1(v924);
			PTUP v926 = mw_mirth_type_TZ_ZTo(v923, v925);
			branch_ArrowType_8 = v926;
			branch_Ctx_7 = v920;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 124LL: { // F64Gt
			PTUP v927 = mw_mirth_var_Ctx_L0();
			PTUP v928 = mw_mirth_type_Type_F64();
			PTUP v929 = mw_mirth_type_Type_F64();
			PTUP v930 = mw_mirth_type_T2(v928, v929);
			PTUP v931 = mw_mirth_type_Type_Bool();
			PTUP v932 = mw_mirth_type_T1(v931);
			PTUP v933 = mw_mirth_type_TZ_ZTo(v930, v932);
			branch_ArrowType_8 = v933;
			branch_Ctx_7 = v927;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 125LL: { // F64Ge
			PTUP v934 = mw_mirth_var_Ctx_L0();
			PTUP v935 = mw_mirth_type_Type_F64();
			PTUP v936 = mw_mirth_type_Type_F64();
			PTUP v937 = mw_mirth_type_T2(v935, v936);
			PTUP v938 = mw_mirth_type_Type_Bool();
			PTUP v939 = mw_mirth_type_T1(v938);
			PTUP v940 = mw_mirth_type_TZ_ZTo(v937, v939);
			branch_ArrowType_8 = v940;
			branch_Ctx_7 = v934;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 126LL: { // F64Ne
			PTUP v941 = mw_mirth_var_Ctx_L0();
			PTUP v942 = mw_mirth_type_Type_F64();
			PTUP v943 = mw_mirth_type_Type_F64();
			PTUP v944 = mw_mirth_type_T2(v942, v943);
			PTUP v945 = mw_mirth_type_Type_Bool();
			PTUP v946 = mw_mirth_type_T1(v945);
			PTUP v947 = mw_mirth_type_TZ_ZTo(v944, v946);
			branch_ArrowType_8 = v947;
			branch_Ctx_7 = v941;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 127LL: { // F64Add
			PTUP v948 = mw_mirth_var_Ctx_L0();
			PTUP v949 = mw_mirth_type_Type_F64();
			PTUP v950 = mw_mirth_type_Type_F64();
			PTUP v951 = mw_mirth_type_T2(v949, v950);
			PTUP v952 = mw_mirth_type_Type_F64();
			PTUP v953 = mw_mirth_type_T1(v952);
			PTUP v954 = mw_mirth_type_TZ_ZTo(v951, v953);
			branch_ArrowType_8 = v954;
			branch_Ctx_7 = v948;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 128LL: { // F64Sub
			PTUP v955 = mw_mirth_var_Ctx_L0();
			PTUP v956 = mw_mirth_type_Type_F64();
			PTUP v957 = mw_mirth_type_Type_F64();
			PTUP v958 = mw_mirth_type_T2(v956, v957);
			PTUP v959 = mw_mirth_type_Type_F64();
			PTUP v960 = mw_mirth_type_T1(v959);
			PTUP v961 = mw_mirth_type_TZ_ZTo(v958, v960);
			branch_ArrowType_8 = v961;
			branch_Ctx_7 = v955;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 129LL: { // F64Mul
			PTUP v962 = mw_mirth_var_Ctx_L0();
			PTUP v963 = mw_mirth_type_Type_F64();
			PTUP v964 = mw_mirth_type_Type_F64();
			PTUP v965 = mw_mirth_type_T2(v963, v964);
			PTUP v966 = mw_mirth_type_Type_F64();
			PTUP v967 = mw_mirth_type_T1(v966);
			PTUP v968 = mw_mirth_type_TZ_ZTo(v965, v967);
			branch_ArrowType_8 = v968;
			branch_Ctx_7 = v962;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 130LL: { // F64Div
			PTUP v969 = mw_mirth_var_Ctx_L0();
			PTUP v970 = mw_mirth_type_Type_F64();
			PTUP v971 = mw_mirth_type_Type_F64();
			PTUP v972 = mw_mirth_type_T2(v970, v971);
			PTUP v973 = mw_mirth_type_Type_F64();
			PTUP v974 = mw_mirth_type_T1(v973);
			PTUP v975 = mw_mirth_type_TZ_ZTo(v972, v974);
			branch_ArrowType_8 = v975;
			branch_Ctx_7 = v969;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 131LL: { // F64ToInt
			PTUP v976 = mw_mirth_var_Ctx_L0();
			PTUP v977 = mw_mirth_type_Type_F64();
			PTUP v978 = mw_mirth_type_T1(v977);
			PTUP v979 = mw_mirth_type_Type_Int();
			PTUP v980 = mw_mirth_type_T1(v979);
			PTUP v981 = mw_mirth_type_TZ_ZTo(v978, v980);
			branch_ArrowType_8 = v981;
			branch_Ctx_7 = v976;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 132LL: { // F64ToStr
			PTUP v982 = mw_mirth_var_Ctx_L0();
			PTUP v983 = mw_mirth_type_Type_F64();
			PTUP v984 = mw_mirth_type_T1(v983);
			PTUP v985 = mw_mirth_type_Type_Str();
			PTUP v986 = mw_mirth_type_T1(v985);
			PTUP v987 = mw_mirth_type_TZ_ZTo(v984, v986);
			branch_ArrowType_8 = v987;
			branch_Ctx_7 = v982;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 133LL: { // F64ToF32
			PTUP v988 = mw_mirth_var_Ctx_L0();
			PTUP v989 = mw_mirth_type_Type_F64();
			PTUP v990 = mw_mirth_type_T1(v989);
			PTUP v991 = mw_mirth_type_Type_F32();
			PTUP v992 = mw_mirth_type_T1(v991);
			PTUP v993 = mw_mirth_type_TZ_ZTo(v990, v992);
			branch_ArrowType_8 = v993;
			branch_Ctx_7 = v988;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 134LL: { // F64Get
			PTUP v994 = mw_mirth_var_Ctx_L0();
			PTUP v995 = mw_mirth_type_Type_Ptr();
			PTUP v996 = mw_mirth_type_T1(v995);
			PTUP v997 = mw_mirth_type_Type_F64();
			PTUP v998 = mw_mirth_type_T1(v997);
			PTUP v999 = mw_mirth_type_TZ_ZTo(v996, v998);
			branch_ArrowType_8 = v999;
			branch_Ctx_7 = v994;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 135LL: { // F64Set
			PTUP v1000 = mw_mirth_var_Ctx_L0();
			PTUP v1001 = mw_mirth_type_Type_F64();
			PTUP v1002 = mw_mirth_type_Type_Ptr();
			PTUP v1003 = mw_mirth_type_T2(v1001, v1002);
			PTUP v1004 = mw_mirth_type_T0();
			PTUP v1005 = mw_mirth_type_TZ_ZTo(v1003, v1004);
			branch_ArrowType_8 = v1005;
			branch_Ctx_7 = v1000;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 136LL: { // BoolTrue
			PTUP v1006 = mw_mirth_var_Ctx_L0();
			PTUP v1007 = mw_mirth_type_T0();
			PTUP v1008 = mw_mirth_type_Type_Bool();
			PTUP v1009 = mw_mirth_type_T1(v1008);
			PTUP v1010 = mw_mirth_type_TZ_ZTo(v1007, v1009);
			branch_ArrowType_8 = v1010;
			branch_Ctx_7 = v1006;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 137LL: { // BoolFalse
			PTUP v1011 = mw_mirth_var_Ctx_L0();
			PTUP v1012 = mw_mirth_type_T0();
			PTUP v1013 = mw_mirth_type_Type_Bool();
			PTUP v1014 = mw_mirth_type_T1(v1013);
			PTUP v1015 = mw_mirth_type_TZ_ZTo(v1012, v1014);
			branch_ArrowType_8 = v1015;
			branch_Ctx_7 = v1011;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 138LL: { // BoolAnd
			PTUP v1016 = mw_mirth_var_Ctx_L0();
			PTUP v1017 = mw_mirth_type_Type_Bool();
			PTUP v1018 = mw_mirth_type_Type_Bool();
			PTUP v1019 = mw_mirth_type_T2(v1017, v1018);
			PTUP v1020 = mw_mirth_type_Type_Bool();
			PTUP v1021 = mw_mirth_type_T1(v1020);
			PTUP v1022 = mw_mirth_type_TZ_ZTo(v1019, v1021);
			branch_ArrowType_8 = v1022;
			branch_Ctx_7 = v1016;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 139LL: { // BoolOr
			PTUP v1023 = mw_mirth_var_Ctx_L0();
			PTUP v1024 = mw_mirth_type_Type_Bool();
			PTUP v1025 = mw_mirth_type_Type_Bool();
			PTUP v1026 = mw_mirth_type_T2(v1024, v1025);
			PTUP v1027 = mw_mirth_type_Type_Bool();
			PTUP v1028 = mw_mirth_type_T1(v1027);
			PTUP v1029 = mw_mirth_type_TZ_ZTo(v1026, v1028);
			branch_ArrowType_8 = v1029;
			branch_Ctx_7 = v1023;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 140LL: { // BoolNot
			PTUP v1030 = mw_mirth_var_Ctx_L0();
			PTUP v1031 = mw_mirth_type_Type_Bool();
			PTUP v1032 = mw_mirth_type_T1(v1031);
			PTUP v1033 = mw_mirth_type_Type_Bool();
			PTUP v1034 = mw_mirth_type_T1(v1033);
			PTUP v1035 = mw_mirth_type_TZ_ZTo(v1032, v1034);
			branch_ArrowType_8 = v1035;
			branch_Ctx_7 = v1030;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 141LL: { // TupPack0
			PTUP v1036 = mw_mirth_var_Ctx_L0();
			PTUP v1037 = mw_mirth_type_T0();
			incref(MKTUP(v1037));
			PTUP v1038 = mw_mirth_type_StackType_ZToType(v1037);
			PTUP v1039 = mw_mirth_type_T1(v1038);
			PTUP v1040 = mw_mirth_type_TZ_ZTo(v1037, v1039);
			branch_ArrowType_8 = v1040;
			branch_Ctx_7 = v1036;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 142LL: { // TupPack1
			PTUP v1041 = mw_mirth_var_Ctx_L0();
			STR* v1042;
			STRLIT(v1042, "a", 1);
			PTUP v1043;
			PTUP v1044;
			PTUP v1045 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1041, v1042, &v1043, &v1044);
			PTUP v1046 = mw_mirth_type_T1(v1044);
			incref(MKTUP(v1046));
			PTUP v1047 = mw_mirth_type_StackType_ZToType(v1046);
			PTUP v1048 = mw_mirth_type_T1(v1047);
			PTUP v1049 = mw_mirth_type_TZ_ZTo(v1046, v1048);
			branch_ArrowType_8 = v1049;
			branch_Ctx_7 = v1045;
			branch_ZPlusMirth_6 = v1043;
		} break;
		case 143LL: { // TupPack2
			PTUP v1050 = mw_mirth_var_Ctx_L0();
			STR* v1051;
			STRLIT(v1051, "a", 1);
			PTUP v1052;
			PTUP v1053;
			PTUP v1054 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1050, v1051, &v1052, &v1053);
			STR* v1055;
			STRLIT(v1055, "b", 1);
			PTUP v1056;
			PTUP v1057;
			PTUP v1058 = mw_mirth_type_Type_NewInCtx(v1052, v1054, v1055, &v1056, &v1057);
			PTUP v1059 = mw_mirth_type_T2(v1053, v1057);
			incref(MKTUP(v1059));
			PTUP v1060 = mw_mirth_type_StackType_ZToType(v1059);
			PTUP v1061 = mw_mirth_type_T1(v1060);
			PTUP v1062 = mw_mirth_type_TZ_ZTo(v1059, v1061);
			branch_ArrowType_8 = v1062;
			branch_Ctx_7 = v1058;
			branch_ZPlusMirth_6 = v1056;
		} break;
		case 144LL: { // TupPack3
			PTUP v1063 = mw_mirth_var_Ctx_L0();
			STR* v1064;
			STRLIT(v1064, "a", 1);
			PTUP v1065;
			PTUP v1066;
			PTUP v1067 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1063, v1064, &v1065, &v1066);
			STR* v1068;
			STRLIT(v1068, "b", 1);
			PTUP v1069;
			PTUP v1070;
			PTUP v1071 = mw_mirth_type_Type_NewInCtx(v1065, v1067, v1068, &v1069, &v1070);
			STR* v1072;
			STRLIT(v1072, "c", 1);
			PTUP v1073;
			PTUP v1074;
			PTUP v1075 = mw_mirth_type_Type_NewInCtx(v1069, v1071, v1072, &v1073, &v1074);
			PTUP v1076 = mw_mirth_type_T3(v1066, v1070, v1074);
			incref(MKTUP(v1076));
			PTUP v1077 = mw_mirth_type_StackType_ZToType(v1076);
			PTUP v1078 = mw_mirth_type_T1(v1077);
			PTUP v1079 = mw_mirth_type_TZ_ZTo(v1076, v1078);
			branch_ArrowType_8 = v1079;
			branch_Ctx_7 = v1075;
			branch_ZPlusMirth_6 = v1073;
		} break;
		case 145LL: { // TupPack4
			PTUP v1080 = mw_mirth_var_Ctx_L0();
			STR* v1081;
			STRLIT(v1081, "a", 1);
			PTUP v1082;
			PTUP v1083;
			PTUP v1084 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1080, v1081, &v1082, &v1083);
			STR* v1085;
			STRLIT(v1085, "b", 1);
			PTUP v1086;
			PTUP v1087;
			PTUP v1088 = mw_mirth_type_Type_NewInCtx(v1082, v1084, v1085, &v1086, &v1087);
			STR* v1089;
			STRLIT(v1089, "c", 1);
			PTUP v1090;
			PTUP v1091;
			PTUP v1092 = mw_mirth_type_Type_NewInCtx(v1086, v1088, v1089, &v1090, &v1091);
			STR* v1093;
			STRLIT(v1093, "d", 1);
			PTUP v1094;
			PTUP v1095;
			PTUP v1096 = mw_mirth_type_Type_NewInCtx(v1090, v1092, v1093, &v1094, &v1095);
			PTUP v1097 = mw_mirth_type_T4(v1083, v1087, v1091, v1095);
			incref(MKTUP(v1097));
			PTUP v1098 = mw_mirth_type_StackType_ZToType(v1097);
			PTUP v1099 = mw_mirth_type_T1(v1098);
			PTUP v1100 = mw_mirth_type_TZ_ZTo(v1097, v1099);
			branch_ArrowType_8 = v1100;
			branch_Ctx_7 = v1096;
			branch_ZPlusMirth_6 = v1094;
		} break;
		case 146LL: { // TupPack5
			PTUP v1101 = mw_mirth_var_Ctx_L0();
			STR* v1102;
			STRLIT(v1102, "a", 1);
			PTUP v1103;
			PTUP v1104;
			PTUP v1105 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1101, v1102, &v1103, &v1104);
			STR* v1106;
			STRLIT(v1106, "b", 1);
			PTUP v1107;
			PTUP v1108;
			PTUP v1109 = mw_mirth_type_Type_NewInCtx(v1103, v1105, v1106, &v1107, &v1108);
			STR* v1110;
			STRLIT(v1110, "c", 1);
			PTUP v1111;
			PTUP v1112;
			PTUP v1113 = mw_mirth_type_Type_NewInCtx(v1107, v1109, v1110, &v1111, &v1112);
			STR* v1114;
			STRLIT(v1114, "d", 1);
			PTUP v1115;
			PTUP v1116;
			PTUP v1117 = mw_mirth_type_Type_NewInCtx(v1111, v1113, v1114, &v1115, &v1116);
			STR* v1118;
			STRLIT(v1118, "e", 1);
			PTUP v1119;
			PTUP v1120;
			PTUP v1121 = mw_mirth_type_Type_NewInCtx(v1115, v1117, v1118, &v1119, &v1120);
			PTUP v1122 = mw_mirth_type_T5(v1104, v1108, v1112, v1116, v1120);
			incref(MKTUP(v1122));
			PTUP v1123 = mw_mirth_type_StackType_ZToType(v1122);
			PTUP v1124 = mw_mirth_type_T1(v1123);
			PTUP v1125 = mw_mirth_type_TZ_ZTo(v1122, v1124);
			branch_ArrowType_8 = v1125;
			branch_Ctx_7 = v1121;
			branch_ZPlusMirth_6 = v1119;
		} break;
		case 147LL: { // TupUnpack0
			PTUP v1126 = mw_mirth_var_Ctx_L0();
			PTUP v1127 = mw_mirth_type_T0();
			incref(MKTUP(v1127));
			PTUP v1128 = mw_mirth_type_StackType_ZToType(v1127);
			PTUP v1129 = mw_mirth_type_T1(v1128);
			PTUP v1130 = mw_mirth_type_TZ_ZTo(v1129, v1127);
			branch_ArrowType_8 = v1130;
			branch_Ctx_7 = v1126;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 148LL: { // TupUnpack1
			PTUP v1131 = mw_mirth_var_Ctx_L0();
			STR* v1132;
			STRLIT(v1132, "a", 1);
			PTUP v1133;
			PTUP v1134;
			PTUP v1135 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1131, v1132, &v1133, &v1134);
			PTUP v1136 = mw_mirth_type_T1(v1134);
			incref(MKTUP(v1136));
			PTUP v1137 = mw_mirth_type_StackType_ZToType(v1136);
			PTUP v1138 = mw_mirth_type_T1(v1137);
			PTUP v1139 = mw_mirth_type_TZ_ZTo(v1138, v1136);
			branch_ArrowType_8 = v1139;
			branch_Ctx_7 = v1135;
			branch_ZPlusMirth_6 = v1133;
		} break;
		case 149LL: { // TupUnpack2
			PTUP v1140 = mw_mirth_var_Ctx_L0();
			STR* v1141;
			STRLIT(v1141, "a", 1);
			PTUP v1142;
			PTUP v1143;
			PTUP v1144 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1140, v1141, &v1142, &v1143);
			STR* v1145;
			STRLIT(v1145, "b", 1);
			PTUP v1146;
			PTUP v1147;
			PTUP v1148 = mw_mirth_type_Type_NewInCtx(v1142, v1144, v1145, &v1146, &v1147);
			PTUP v1149 = mw_mirth_type_T2(v1143, v1147);
			incref(MKTUP(v1149));
			PTUP v1150 = mw_mirth_type_StackType_ZToType(v1149);
			PTUP v1151 = mw_mirth_type_T1(v1150);
			PTUP v1152 = mw_mirth_type_TZ_ZTo(v1151, v1149);
			branch_ArrowType_8 = v1152;
			branch_Ctx_7 = v1148;
			branch_ZPlusMirth_6 = v1146;
		} break;
		case 150LL: { // TupUnpack3
			PTUP v1153 = mw_mirth_var_Ctx_L0();
			STR* v1154;
			STRLIT(v1154, "a", 1);
			PTUP v1155;
			PTUP v1156;
			PTUP v1157 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1153, v1154, &v1155, &v1156);
			STR* v1158;
			STRLIT(v1158, "b", 1);
			PTUP v1159;
			PTUP v1160;
			PTUP v1161 = mw_mirth_type_Type_NewInCtx(v1155, v1157, v1158, &v1159, &v1160);
			STR* v1162;
			STRLIT(v1162, "c", 1);
			PTUP v1163;
			PTUP v1164;
			PTUP v1165 = mw_mirth_type_Type_NewInCtx(v1159, v1161, v1162, &v1163, &v1164);
			PTUP v1166 = mw_mirth_type_T3(v1156, v1160, v1164);
			incref(MKTUP(v1166));
			PTUP v1167 = mw_mirth_type_StackType_ZToType(v1166);
			PTUP v1168 = mw_mirth_type_T1(v1167);
			PTUP v1169 = mw_mirth_type_TZ_ZTo(v1168, v1166);
			branch_ArrowType_8 = v1169;
			branch_Ctx_7 = v1165;
			branch_ZPlusMirth_6 = v1163;
		} break;
		case 151LL: { // TupUnpack4
			PTUP v1170 = mw_mirth_var_Ctx_L0();
			STR* v1171;
			STRLIT(v1171, "a", 1);
			PTUP v1172;
			PTUP v1173;
			PTUP v1174 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1170, v1171, &v1172, &v1173);
			STR* v1175;
			STRLIT(v1175, "b", 1);
			PTUP v1176;
			PTUP v1177;
			PTUP v1178 = mw_mirth_type_Type_NewInCtx(v1172, v1174, v1175, &v1176, &v1177);
			STR* v1179;
			STRLIT(v1179, "c", 1);
			PTUP v1180;
			PTUP v1181;
			PTUP v1182 = mw_mirth_type_Type_NewInCtx(v1176, v1178, v1179, &v1180, &v1181);
			STR* v1183;
			STRLIT(v1183, "d", 1);
			PTUP v1184;
			PTUP v1185;
			PTUP v1186 = mw_mirth_type_Type_NewInCtx(v1180, v1182, v1183, &v1184, &v1185);
			PTUP v1187 = mw_mirth_type_T4(v1173, v1177, v1181, v1185);
			incref(MKTUP(v1187));
			PTUP v1188 = mw_mirth_type_StackType_ZToType(v1187);
			PTUP v1189 = mw_mirth_type_T1(v1188);
			PTUP v1190 = mw_mirth_type_TZ_ZTo(v1189, v1187);
			branch_ArrowType_8 = v1190;
			branch_Ctx_7 = v1186;
			branch_ZPlusMirth_6 = v1184;
		} break;
		case 152LL: { // TupUnpack5
			PTUP v1191 = mw_mirth_var_Ctx_L0();
			STR* v1192;
			STRLIT(v1192, "a", 1);
			PTUP v1193;
			PTUP v1194;
			PTUP v1195 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1191, v1192, &v1193, &v1194);
			STR* v1196;
			STRLIT(v1196, "b", 1);
			PTUP v1197;
			PTUP v1198;
			PTUP v1199 = mw_mirth_type_Type_NewInCtx(v1193, v1195, v1196, &v1197, &v1198);
			STR* v1200;
			STRLIT(v1200, "c", 1);
			PTUP v1201;
			PTUP v1202;
			PTUP v1203 = mw_mirth_type_Type_NewInCtx(v1197, v1199, v1200, &v1201, &v1202);
			STR* v1204;
			STRLIT(v1204, "d", 1);
			PTUP v1205;
			PTUP v1206;
			PTUP v1207 = mw_mirth_type_Type_NewInCtx(v1201, v1203, v1204, &v1205, &v1206);
			STR* v1208;
			STRLIT(v1208, "e", 1);
			PTUP v1209;
			PTUP v1210;
			PTUP v1211 = mw_mirth_type_Type_NewInCtx(v1205, v1207, v1208, &v1209, &v1210);
			PTUP v1212 = mw_mirth_type_T5(v1194, v1198, v1202, v1206, v1210);
			incref(MKTUP(v1212));
			PTUP v1213 = mw_mirth_type_StackType_ZToType(v1212);
			PTUP v1214 = mw_mirth_type_T1(v1213);
			PTUP v1215 = mw_mirth_type_TZ_ZTo(v1214, v1212);
			branch_ArrowType_8 = v1215;
			branch_Ctx_7 = v1211;
			branch_ZPlusMirth_6 = v1209;
		} break;
		case 153LL: { // MutGet
			PTUP v1216 = mw_mirth_var_Ctx_L0();
			STR* v1217;
			STRLIT(v1217, "a", 1);
			PTUP v1218;
			PTUP v1219;
			PTUP v1220 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1216, v1217, &v1218, &v1219);
			incref(MKTUP(v1219));
			PTUP v1221 = mtw_mirth_type_Type_Mut(v1219);
			PTUP v1222 = mw_mirth_type_T1(v1221);
			incref(MKTUP(v1219));
			PTUP v1223 = mw_mirth_type_T1(v1219);
			PTUP v1224 = mw_mirth_type_TZ_ZTo(v1222, v1223);
			decref(MKTUP(v1219));
			branch_ArrowType_8 = v1224;
			branch_Ctx_7 = v1220;
			branch_ZPlusMirth_6 = v1218;
		} break;
		case 154LL: { // MutSet
			PTUP v1225 = mw_mirth_var_Ctx_L0();
			STR* v1226;
			STRLIT(v1226, "a", 1);
			PTUP v1227;
			PTUP v1228;
			PTUP v1229 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1225, v1226, &v1227, &v1228);
			incref(MKTUP(v1228));
			incref(MKTUP(v1228));
			PTUP v1230 = mtw_mirth_type_Type_Mut(v1228);
			PTUP v1231 = mw_mirth_type_T2(v1228, v1230);
			PTUP v1232 = mw_mirth_type_T0();
			PTUP v1233 = mw_mirth_type_TZ_ZTo(v1231, v1232);
			decref(MKTUP(v1228));
			branch_ArrowType_8 = v1233;
			branch_Ctx_7 = v1229;
			branch_ZPlusMirth_6 = v1227;
		} break;
		case 155LL: { // MutIsSet
			PTUP v1234 = mw_mirth_var_Ctx_L0();
			STR* v1235;
			STRLIT(v1235, "a", 1);
			PTUP v1236;
			PTUP v1237;
			PTUP v1238 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1234, v1235, &v1236, &v1237);
			incref(MKTUP(v1237));
			PTUP v1239 = mtw_mirth_type_Type_Mut(v1237);
			PTUP v1240 = mw_mirth_type_T1(v1239);
			PTUP v1241 = mw_mirth_type_Type_Bool();
			PTUP v1242 = mw_mirth_type_T1(v1241);
			PTUP v1243 = mw_mirth_type_TZ_ZTo(v1240, v1242);
			decref(MKTUP(v1237));
			branch_ArrowType_8 = v1243;
			branch_Ctx_7 = v1238;
			branch_ZPlusMirth_6 = v1236;
		} break;
		case 156LL: { // PtrNil
			PTUP v1244 = mw_mirth_var_Ctx_L0();
			PTUP v1245 = mw_mirth_type_T0();
			PTUP v1246 = mw_mirth_type_Type_Ptr();
			PTUP v1247 = mw_mirth_type_T1(v1246);
			PTUP v1248 = mw_mirth_type_TZ_ZTo(v1245, v1247);
			branch_ArrowType_8 = v1248;
			branch_Ctx_7 = v1244;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 157LL: { // PtrEq
			PTUP v1249 = mw_mirth_var_Ctx_L0();
			PTUP v1250 = mw_mirth_type_Type_Ptr();
			PTUP v1251 = mw_mirth_type_Type_Ptr();
			PTUP v1252 = mw_mirth_type_T2(v1250, v1251);
			PTUP v1253 = mw_mirth_type_Type_Bool();
			PTUP v1254 = mw_mirth_type_T1(v1253);
			PTUP v1255 = mw_mirth_type_TZ_ZTo(v1252, v1254);
			branch_ArrowType_8 = v1255;
			branch_Ctx_7 = v1249;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 158LL: { // PtrAdd
			PTUP v1256 = mw_mirth_var_Ctx_L0();
			PTUP v1257 = mw_mirth_type_Type_I64();
			PTUP v1258 = mw_mirth_type_Type_Ptr();
			PTUP v1259 = mw_mirth_type_T2(v1257, v1258);
			PTUP v1260 = mw_mirth_type_Type_Ptr();
			PTUP v1261 = mw_mirth_type_T1(v1260);
			PTUP v1262 = mw_mirth_type_TZ_ZTo(v1259, v1261);
			branch_ArrowType_8 = v1262;
			branch_Ctx_7 = v1256;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 159LL: { // PtrSize
			PTUP v1263 = mw_mirth_var_Ctx_L0();
			PTUP v1264 = mw_mirth_type_T0();
			PTUP v1265 = mw_mirth_type_Type_U64();
			PTUP v1266 = mw_mirth_type_T1(v1265);
			PTUP v1267 = mw_mirth_type_TZ_ZTo(v1264, v1266);
			branch_ArrowType_8 = v1267;
			branch_Ctx_7 = v1263;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 160LL: { // PtrAlloc
			PTUP v1268 = mw_mirth_var_Ctx_L0();
			PTUP v1269 = mw_mirth_type_Type_U64();
			PTUP v1270 = mw_mirth_type_T1(v1269);
			PTUP v1271 = mw_mirth_type_Type_Ptr();
			PTUP v1272 = mw_mirth_type_T1(v1271);
			PTUP v1273 = mw_mirth_type_TZ_ZTo(v1270, v1272);
			branch_ArrowType_8 = v1273;
			branch_Ctx_7 = v1268;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 161LL: { // PtrRealloc
			PTUP v1274 = mw_mirth_var_Ctx_L0();
			PTUP v1275 = mw_mirth_type_Type_Ptr();
			PTUP v1276 = mw_mirth_type_Type_U64();
			PTUP v1277 = mw_mirth_type_T2(v1275, v1276);
			PTUP v1278 = mw_mirth_type_Type_Ptr();
			PTUP v1279 = mw_mirth_type_T1(v1278);
			PTUP v1280 = mw_mirth_type_TZ_ZTo(v1277, v1279);
			branch_ArrowType_8 = v1280;
			branch_Ctx_7 = v1274;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 162LL: { // PtrFree
			PTUP v1281 = mw_mirth_var_Ctx_L0();
			PTUP v1282 = mw_mirth_type_Type_Ptr();
			PTUP v1283 = mw_mirth_type_T1(v1282);
			PTUP v1284 = mw_mirth_type_T0();
			PTUP v1285 = mw_mirth_type_TZ_ZTo(v1283, v1284);
			branch_ArrowType_8 = v1285;
			branch_Ctx_7 = v1281;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 163LL: { // PtrCopy
			PTUP v1286 = mw_mirth_var_Ctx_L0();
			PTUP v1287 = mw_mirth_type_Type_Ptr();
			PTUP v1288 = mw_mirth_type_Type_U64();
			PTUP v1289 = mw_mirth_type_Type_Ptr();
			PTUP v1290 = mw_mirth_type_T3(v1287, v1288, v1289);
			PTUP v1291 = mw_mirth_type_T0();
			PTUP v1292 = mw_mirth_type_TZ_ZTo(v1290, v1291);
			branch_ArrowType_8 = v1292;
			branch_Ctx_7 = v1286;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 164LL: { // PtrFill
			PTUP v1293 = mw_mirth_var_Ctx_L0();
			PTUP v1294 = mw_mirth_type_Type_U8();
			PTUP v1295 = mw_mirth_type_Type_U64();
			PTUP v1296 = mw_mirth_type_Type_Ptr();
			PTUP v1297 = mw_mirth_type_T3(v1294, v1295, v1296);
			PTUP v1298 = mw_mirth_type_T0();
			PTUP v1299 = mw_mirth_type_TZ_ZTo(v1297, v1298);
			branch_ArrowType_8 = v1299;
			branch_Ctx_7 = v1293;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 165LL: { // PtrGet
			PTUP v1300 = mw_mirth_var_Ctx_L0();
			PTUP v1301 = mw_mirth_type_Type_Ptr();
			PTUP v1302 = mw_mirth_type_T1(v1301);
			PTUP v1303 = mw_mirth_type_Type_Ptr();
			PTUP v1304 = mw_mirth_type_T1(v1303);
			PTUP v1305 = mw_mirth_type_TZ_ZTo(v1302, v1304);
			branch_ArrowType_8 = v1305;
			branch_Ctx_7 = v1300;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 166LL: { // PtrSet
			PTUP v1306 = mw_mirth_var_Ctx_L0();
			PTUP v1307 = mw_mirth_type_Type_Ptr();
			PTUP v1308 = mw_mirth_type_Type_Ptr();
			PTUP v1309 = mw_mirth_type_T2(v1307, v1308);
			PTUP v1310 = mw_mirth_type_T0();
			PTUP v1311 = mw_mirth_type_TZ_ZTo(v1309, v1310);
			branch_ArrowType_8 = v1311;
			branch_Ctx_7 = v1306;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 167LL: { // StrCopy
			PTUP v1312 = mw_mirth_var_Ctx_L0();
			PTUP v1313 = mw_mirth_type_Type_Ptr();
			PTUP v1314 = mw_mirth_type_Type_U64();
			PTUP v1315 = mw_mirth_type_T2(v1313, v1314);
			PTUP v1316 = mw_mirth_type_Type_Str();
			PTUP v1317 = mw_mirth_type_T1(v1316);
			PTUP v1318 = mw_mirth_type_TZ_ZTo(v1315, v1317);
			branch_ArrowType_8 = v1318;
			branch_Ctx_7 = v1312;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 168LL: { // StrNumBytes
			PTUP v1319 = mw_mirth_var_Ctx_L0();
			PTUP v1320 = mw_mirth_type_Type_Str();
			PTUP v1321 = mw_mirth_type_T1(v1320);
			PTUP v1322 = mw_mirth_type_Type_U64();
			PTUP v1323 = mw_mirth_type_T1(v1322);
			PTUP v1324 = mw_mirth_type_TZ_ZTo(v1321, v1323);
			branch_ArrowType_8 = v1324;
			branch_Ctx_7 = v1319;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 169LL: { // StrBase
			PTUP v1325 = mw_mirth_var_Ctx_L0();
			PTUP v1326 = mw_mirth_type_Type_Str();
			PTUP v1327 = mw_mirth_type_T1(v1326);
			PTUP v1328 = mw_mirth_type_Type_Ptr();
			PTUP v1329 = mw_mirth_type_T1(v1328);
			PTUP v1330 = mw_mirth_type_TZ_ZTo(v1327, v1329);
			branch_ArrowType_8 = v1330;
			branch_Ctx_7 = v1325;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 170LL: { // StrCat
			PTUP v1331 = mw_mirth_var_Ctx_L0();
			PTUP v1332 = mw_mirth_type_Type_Str();
			PTUP v1333 = mw_mirth_type_Type_Str();
			PTUP v1334 = mw_mirth_type_T2(v1332, v1333);
			PTUP v1335 = mw_mirth_type_Type_Str();
			PTUP v1336 = mw_mirth_type_T1(v1335);
			PTUP v1337 = mw_mirth_type_TZ_ZTo(v1334, v1336);
			branch_ArrowType_8 = v1337;
			branch_Ctx_7 = v1331;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 171LL: { // StrCmp
			PTUP v1338 = mw_mirth_var_Ctx_L0();
			PTUP v1339 = mw_mirth_type_Type_Str();
			PTUP v1340 = mw_mirth_type_Type_Str();
			PTUP v1341 = mw_mirth_type_T2(v1339, v1340);
			PTUP v1342 = mw_mirth_type_Type_I64();
			PTUP v1343 = mw_mirth_type_T1(v1342);
			PTUP v1344 = mw_mirth_type_TZ_ZTo(v1341, v1343);
			branch_ArrowType_8 = v1344;
			branch_Ctx_7 = v1338;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 172LL: { // StrEq
			PTUP v1345 = mw_mirth_var_Ctx_L0();
			PTUP v1346 = mw_mirth_type_Type_Str();
			PTUP v1347 = mw_mirth_type_Type_Str();
			PTUP v1348 = mw_mirth_type_T2(v1346, v1347);
			PTUP v1349 = mw_mirth_type_Type_Bool();
			PTUP v1350 = mw_mirth_type_T1(v1349);
			PTUP v1351 = mw_mirth_type_TZ_ZTo(v1348, v1350);
			branch_ArrowType_8 = v1351;
			branch_Ctx_7 = v1345;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 173LL: { // StrLt
			PTUP v1352 = mw_mirth_var_Ctx_L0();
			PTUP v1353 = mw_mirth_type_Type_Str();
			PTUP v1354 = mw_mirth_type_Type_Str();
			PTUP v1355 = mw_mirth_type_T2(v1353, v1354);
			PTUP v1356 = mw_mirth_type_Type_Bool();
			PTUP v1357 = mw_mirth_type_T1(v1356);
			PTUP v1358 = mw_mirth_type_TZ_ZTo(v1355, v1357);
			branch_ArrowType_8 = v1358;
			branch_Ctx_7 = v1352;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 174LL: { // StrLe
			PTUP v1359 = mw_mirth_var_Ctx_L0();
			PTUP v1360 = mw_mirth_type_Type_Str();
			PTUP v1361 = mw_mirth_type_Type_Str();
			PTUP v1362 = mw_mirth_type_T2(v1360, v1361);
			PTUP v1363 = mw_mirth_type_Type_Bool();
			PTUP v1364 = mw_mirth_type_T1(v1363);
			PTUP v1365 = mw_mirth_type_TZ_ZTo(v1362, v1364);
			branch_ArrowType_8 = v1365;
			branch_Ctx_7 = v1359;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 175LL: { // StrGt
			PTUP v1366 = mw_mirth_var_Ctx_L0();
			PTUP v1367 = mw_mirth_type_Type_Str();
			PTUP v1368 = mw_mirth_type_Type_Str();
			PTUP v1369 = mw_mirth_type_T2(v1367, v1368);
			PTUP v1370 = mw_mirth_type_Type_Bool();
			PTUP v1371 = mw_mirth_type_T1(v1370);
			PTUP v1372 = mw_mirth_type_TZ_ZTo(v1369, v1371);
			branch_ArrowType_8 = v1372;
			branch_Ctx_7 = v1366;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 176LL: { // StrGe
			PTUP v1373 = mw_mirth_var_Ctx_L0();
			PTUP v1374 = mw_mirth_type_Type_Str();
			PTUP v1375 = mw_mirth_type_Type_Str();
			PTUP v1376 = mw_mirth_type_T2(v1374, v1375);
			PTUP v1377 = mw_mirth_type_Type_Bool();
			PTUP v1378 = mw_mirth_type_T1(v1377);
			PTUP v1379 = mw_mirth_type_TZ_ZTo(v1376, v1378);
			branch_ArrowType_8 = v1379;
			branch_Ctx_7 = v1373;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 177LL: { // StrNe
			PTUP v1380 = mw_mirth_var_Ctx_L0();
			PTUP v1381 = mw_mirth_type_Type_Str();
			PTUP v1382 = mw_mirth_type_Type_Str();
			PTUP v1383 = mw_mirth_type_T2(v1381, v1382);
			PTUP v1384 = mw_mirth_type_Type_Bool();
			PTUP v1385 = mw_mirth_type_T1(v1384);
			PTUP v1386 = mw_mirth_type_TZ_ZTo(v1383, v1385);
			branch_ArrowType_8 = v1386;
			branch_Ctx_7 = v1380;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 179LL: { // StrToF32
			PTUP v1387 = mw_mirth_var_Ctx_L0();
			PTUP v1388 = mw_mirth_type_Type_Str();
			PTUP v1389 = mw_mirth_type_T1(v1388);
			PTUP v1390 = mw_mirth_type_Type_F32();
			PTUP v1391 = mw_mirth_type_Type_Str();
			PTUP v1392 = mw_mirth_type_T2(v1390, v1391);
			PTUP v1393 = mw_mirth_type_TZ_ZTo(v1389, v1392);
			branch_ArrowType_8 = v1393;
			branch_Ctx_7 = v1387;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 178LL: { // StrToF64
			PTUP v1394 = mw_mirth_var_Ctx_L0();
			PTUP v1395 = mw_mirth_type_Type_Str();
			PTUP v1396 = mw_mirth_type_T1(v1395);
			PTUP v1397 = mw_mirth_type_Type_F64();
			PTUP v1398 = mw_mirth_type_Type_Str();
			PTUP v1399 = mw_mirth_type_T2(v1397, v1398);
			PTUP v1400 = mw_mirth_type_TZ_ZTo(v1396, v1399);
			branch_ArrowType_8 = v1400;
			branch_Ctx_7 = v1394;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 180LL: { // StrToArray
			PTUP v1401 = mw_mirth_var_Ctx_L0();
			PTUP v1402 = mw_mirth_type_Type_Str();
			PTUP v1403 = mw_mirth_type_T1(v1402);
			PTUP v1404 = mw_mirth_type_Type_U8();
			PTUP v1405 = mw_mirth_type_Type_Array(v1404);
			PTUP v1406 = mw_mirth_type_T1(v1405);
			PTUP v1407 = mw_mirth_type_TZ_ZTo(v1403, v1406);
			branch_ArrowType_8 = v1407;
			branch_Ctx_7 = v1401;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 181LL: { // ArrayNil
			PTUP v1408 = mw_mirth_var_Ctx_L0();
			STR* v1409;
			STRLIT(v1409, "a", 1);
			PTUP v1410;
			PTUP v1411;
			PTUP v1412 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1408, v1409, &v1410, &v1411);
			PTUP v1413 = mw_mirth_type_T0();
			incref(MKTUP(v1411));
			PTUP v1414 = mw_mirth_type_Type_Array(v1411);
			PTUP v1415 = mw_mirth_type_T1(v1414);
			PTUP v1416 = mw_mirth_type_TZ_ZTo(v1413, v1415);
			decref(MKTUP(v1411));
			branch_ArrowType_8 = v1416;
			branch_Ctx_7 = v1412;
			branch_ZPlusMirth_6 = v1410;
		} break;
		case 182LL: { // ArrayNew
			PTUP v1417 = mw_mirth_var_Ctx_L0();
			STR* v1418;
			STRLIT(v1418, "a", 1);
			PTUP v1419;
			PTUP v1420;
			PTUP v1421 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1417, v1418, &v1419, &v1420);
			incref(MKTUP(v1420));
			PTUP v1422 = mw_mirth_type_Type_U64();
			PTUP v1423 = mw_mirth_type_T2(v1420, v1422);
			incref(MKTUP(v1420));
			PTUP v1424 = mw_mirth_type_Type_Array(v1420);
			PTUP v1425 = mw_mirth_type_T1(v1424);
			PTUP v1426 = mw_mirth_type_TZ_ZTo(v1423, v1425);
			decref(MKTUP(v1420));
			branch_ArrowType_8 = v1426;
			branch_Ctx_7 = v1421;
			branch_ZPlusMirth_6 = v1419;
		} break;
		case 183LL: { // ArrayExpand
			PTUP v1427 = mw_mirth_var_Ctx_L0();
			STR* v1428;
			STRLIT(v1428, "a", 1);
			PTUP v1429;
			PTUP v1430;
			PTUP v1431 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1427, v1428, &v1429, &v1430);
			incref(MKTUP(v1430));
			PTUP v1432 = mw_mirth_type_Type_Array(v1430);
			PTUP v1433 = mw_mirth_type_Type_U64();
			incref(MKTUP(v1430));
			PTUP v1434 = mw_mirth_type_T3(v1432, v1433, v1430);
			incref(MKTUP(v1430));
			PTUP v1435 = mw_mirth_type_Type_Array(v1430);
			PTUP v1436 = mw_mirth_type_T1(v1435);
			PTUP v1437 = mw_mirth_type_TZ_ZTo(v1434, v1436);
			decref(MKTUP(v1430));
			branch_ArrowType_8 = v1437;
			branch_Ctx_7 = v1431;
			branch_ZPlusMirth_6 = v1429;
		} break;
		case 184LL: { // ArrayThaw
			PTUP v1438 = mw_mirth_var_Ctx_L0();
			STR* v1439;
			STRLIT(v1439, "a", 1);
			PTUP v1440;
			PTUP v1441;
			PTUP v1442 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1438, v1439, &v1440, &v1441);
			incref(MKTUP(v1441));
			PTUP v1443 = mw_mirth_type_Type_Array(v1441);
			PTUP v1444 = mw_mirth_type_T1(v1443);
			incref(MKTUP(v1444));
			PTUP v1445 = mw_mirth_type_TZ_ZTo(v1444, v1444);
			decref(MKTUP(v1441));
			branch_ArrowType_8 = v1445;
			branch_Ctx_7 = v1442;
			branch_ZPlusMirth_6 = v1440;
		} break;
		case 185LL: { // ArrayBase
			PTUP v1446 = mw_mirth_var_Ctx_L0();
			STR* v1447;
			STRLIT(v1447, "a", 1);
			PTUP v1448;
			PTUP v1449;
			PTUP v1450 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1446, v1447, &v1448, &v1449);
			incref(MKTUP(v1449));
			PTUP v1451 = mw_mirth_type_Type_Array(v1449);
			PTUP v1452 = mw_mirth_type_T1(v1451);
			PTUP v1453 = mw_mirth_type_Type_Ptr();
			PTUP v1454 = mw_mirth_type_T1(v1453);
			PTUP v1455 = mw_mirth_type_TZ_ZTo(v1452, v1454);
			decref(MKTUP(v1449));
			branch_ArrowType_8 = v1455;
			branch_Ctx_7 = v1450;
			branch_ZPlusMirth_6 = v1448;
		} break;
		case 186LL: { // ArrayLen
			PTUP v1456 = mw_mirth_var_Ctx_L0();
			STR* v1457;
			STRLIT(v1457, "a", 1);
			PTUP v1458;
			PTUP v1459;
			PTUP v1460 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1456, v1457, &v1458, &v1459);
			incref(MKTUP(v1459));
			PTUP v1461 = mw_mirth_type_Type_Array(v1459);
			PTUP v1462 = mw_mirth_type_T1(v1461);
			PTUP v1463 = mw_mirth_type_Type_U64();
			PTUP v1464 = mw_mirth_type_T1(v1463);
			PTUP v1465 = mw_mirth_type_TZ_ZTo(v1462, v1464);
			decref(MKTUP(v1459));
			branch_ArrowType_8 = v1465;
			branch_Ctx_7 = v1460;
			branch_ZPlusMirth_6 = v1458;
		} break;
		case 187LL: { // ArrayGet
			PTUP v1466 = mw_mirth_var_Ctx_L0();
			STR* v1467;
			STRLIT(v1467, "a", 1);
			PTUP v1468;
			PTUP v1469;
			PTUP v1470 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1466, v1467, &v1468, &v1469);
			incref(MKTUP(v1469));
			PTUP v1471 = mw_mirth_type_Type_Array(v1469);
			PTUP v1472 = mw_mirth_type_Type_U64();
			PTUP v1473 = mw_mirth_type_T2(v1471, v1472);
			incref(MKTUP(v1469));
			PTUP v1474 = mw_mirth_type_T1(v1469);
			PTUP v1475 = mw_mirth_type_TZ_ZTo(v1473, v1474);
			decref(MKTUP(v1469));
			branch_ArrowType_8 = v1475;
			branch_Ctx_7 = v1470;
			branch_ZPlusMirth_6 = v1468;
		} break;
		case 188LL: { // ArraySet
			PTUP v1476 = mw_mirth_var_Ctx_L0();
			STR* v1477;
			STRLIT(v1477, "a", 1);
			PTUP v1478;
			PTUP v1479;
			PTUP v1480 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1476, v1477, &v1478, &v1479);
			incref(MKTUP(v1479));
			PTUP v1481 = mw_mirth_type_Type_Array(v1479);
			PTUP v1482 = mw_mirth_type_Type_U64();
			incref(MKTUP(v1479));
			PTUP v1483 = mw_mirth_type_T3(v1481, v1482, v1479);
			incref(MKTUP(v1479));
			PTUP v1484 = mw_mirth_type_Type_Array(v1479);
			PTUP v1485 = mw_mirth_type_T1(v1484);
			PTUP v1486 = mw_mirth_type_TZ_ZTo(v1483, v1485);
			decref(MKTUP(v1479));
			branch_ArrowType_8 = v1486;
			branch_Ctx_7 = v1480;
			branch_ZPlusMirth_6 = v1478;
		} break;
		case 189LL: { // ArrayPush
			PTUP v1487 = mw_mirth_var_Ctx_L0();
			STR* v1488;
			STRLIT(v1488, "a", 1);
			PTUP v1489;
			PTUP v1490;
			PTUP v1491 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1487, v1488, &v1489, &v1490);
			incref(MKTUP(v1490));
			PTUP v1492 = mw_mirth_type_Type_Array(v1490);
			incref(MKTUP(v1490));
			PTUP v1493 = mw_mirth_type_T2(v1492, v1490);
			incref(MKTUP(v1490));
			PTUP v1494 = mw_mirth_type_Type_Array(v1490);
			PTUP v1495 = mw_mirth_type_T1(v1494);
			PTUP v1496 = mw_mirth_type_TZ_ZTo(v1493, v1495);
			decref(MKTUP(v1490));
			branch_ArrowType_8 = v1496;
			branch_Ctx_7 = v1491;
			branch_ZPlusMirth_6 = v1489;
		} break;
		case 190LL: { // ArrayPop
			PTUP v1497 = mw_mirth_var_Ctx_L0();
			STR* v1498;
			STRLIT(v1498, "a", 1);
			PTUP v1499;
			PTUP v1500;
			PTUP v1501 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1497, v1498, &v1499, &v1500);
			incref(MKTUP(v1500));
			PTUP v1502 = mw_mirth_type_Type_Array(v1500);
			PTUP v1503 = mw_mirth_type_T1(v1502);
			incref(MKTUP(v1500));
			PTUP v1504 = mw_mirth_type_Type_Array(v1500);
			incref(MKTUP(v1500));
			PTUP v1505 = mw_mirth_type_T2(v1504, v1500);
			PTUP v1506 = mw_mirth_type_TZ_ZTo(v1503, v1505);
			decref(MKTUP(v1500));
			branch_ArrowType_8 = v1506;
			branch_Ctx_7 = v1501;
			branch_ZPlusMirth_6 = v1499;
		} break;
		case 191LL: { // ArrayCat
			PTUP v1507 = mw_mirth_var_Ctx_L0();
			STR* v1508;
			STRLIT(v1508, "a", 1);
			PTUP v1509;
			PTUP v1510;
			PTUP v1511 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1507, v1508, &v1509, &v1510);
			incref(MKTUP(v1510));
			PTUP v1512 = mw_mirth_type_Type_Array(v1510);
			incref(MKTUP(v1512));
			PTUP v1513 = mw_mirth_type_T2(v1512, v1512);
			incref(MKTUP(v1510));
			PTUP v1514 = mw_mirth_type_Type_Array(v1510);
			PTUP v1515 = mw_mirth_type_T1(v1514);
			PTUP v1516 = mw_mirth_type_TZ_ZTo(v1513, v1515);
			decref(MKTUP(v1510));
			branch_ArrowType_8 = v1516;
			branch_Ctx_7 = v1511;
			branch_ZPlusMirth_6 = v1509;
		} break;
		case 192LL: { // ArraySlice
			PTUP v1517 = mw_mirth_var_Ctx_L0();
			STR* v1518;
			STRLIT(v1518, "a", 1);
			PTUP v1519;
			PTUP v1520;
			PTUP v1521 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1517, v1518, &v1519, &v1520);
			incref(MKTUP(v1520));
			PTUP v1522 = mw_mirth_type_Type_Array(v1520);
			PTUP v1523 = mw_mirth_type_Type_U64();
			PTUP v1524 = mw_mirth_type_Type_U64();
			PTUP v1525 = mw_mirth_type_T3(v1522, v1523, v1524);
			incref(MKTUP(v1520));
			PTUP v1526 = mw_mirth_type_Type_Array(v1520);
			PTUP v1527 = mw_mirth_type_T1(v1526);
			PTUP v1528 = mw_mirth_type_TZ_ZTo(v1525, v1527);
			decref(MKTUP(v1520));
			branch_ArrowType_8 = v1528;
			branch_Ctx_7 = v1521;
			branch_ZPlusMirth_6 = v1519;
		} break;
		case 193LL: { // ArrayToStr
			PTUP v1529 = mw_mirth_var_Ctx_L0();
			PTUP v1530 = mw_mirth_type_Type_U8();
			PTUP v1531 = mw_mirth_type_Type_Array(v1530);
			PTUP v1532 = mw_mirth_type_T1(v1531);
			PTUP v1533 = mw_mirth_type_Type_Str();
			PTUP v1534 = mw_mirth_type_T1(v1533);
			PTUP v1535 = mw_mirth_type_TZ_ZTo(v1532, v1534);
			branch_ArrowType_8 = v1535;
			branch_Ctx_7 = v1529;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 194LL: { // SysOs
			PTUP v1536 = mw_mirth_var_Ctx_L0();
			PTUP v1537 = mw_mirth_type_T0();
			PTUP v1538 = mw_mirth_type_Type_I64();
			PTUP v1539 = mw_mirth_type_T1(v1538);
			PTUP v1540 = mw_mirth_type_TZ_ZTo(v1537, v1539);
			branch_ArrowType_8 = v1540;
			branch_Ctx_7 = v1536;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 195LL: { // SysArch
			PTUP v1541 = mw_mirth_var_Ctx_L0();
			PTUP v1542 = mw_mirth_type_T0();
			PTUP v1543 = mw_mirth_type_Type_I64();
			PTUP v1544 = mw_mirth_type_T1(v1543);
			PTUP v1545 = mw_mirth_type_TZ_ZTo(v1542, v1544);
			branch_ArrowType_8 = v1545;
			branch_Ctx_7 = v1541;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 196LL: { // SysArgc
			PTUP v1546 = mw_mirth_var_Ctx_L0();
			PTUP v1547 = mw_mirth_type_T0();
			PTUP v1548 = mw_mirth_type_Type_U64();
			PTUP v1549 = mw_mirth_type_T1(v1548);
			PTUP v1550 = mw_mirth_type_TZ_ZTo(v1547, v1549);
			branch_ArrowType_8 = v1550;
			branch_Ctx_7 = v1546;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 197LL: { // SysArgv
			PTUP v1551 = mw_mirth_var_Ctx_L0();
			PTUP v1552 = mw_mirth_type_T0();
			PTUP v1553 = mw_mirth_type_Type_Ptr();
			PTUP v1554 = mw_mirth_type_T1(v1553);
			PTUP v1555 = mw_mirth_type_TZ_ZTo(v1552, v1554);
			branch_ArrowType_8 = v1555;
			branch_Ctx_7 = v1551;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ArrowType_5 = branch_ArrowType_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Ctx_7;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_primsZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	int64_t v3 = mw_mirth_prim_Prim_Min();
	INT v4 = mw_mirth_prim_Prim_ZToInt(v3);
	incref(MKINT(v4));
	int64_t v5 = mw_mirth_prim_Prim_Max();
	INT v6 = mw_mirth_prim_Prim_ZToInt(v5);
	bool v7 = int_le(v4, v6);
	PTUP r8 = in_ZPlusMirth_1;
	INT v9 = v4;
	bool v10 = v7;
	while (v10) {
		PTUP r11 = r8;
		INT v12 = v9;
		incref(MKINT(v12));
		int64_t v13 = int_to_i64(v12);
		PTUP v14;
		mw_mirth_prim_Prim_registerZBang(r11, v13, &v14);
		INT v15 = WRAP_I63(1LL);
		INT v16 = v15;
		INT v17 = int_add(v12, v16);
		incref(MKINT(v17));
		int64_t v18 = mw_mirth_prim_Prim_Max();
		INT v19 = mw_mirth_prim_Prim_ZToInt(v18);
		bool v20 = int_le(v17, v19);
		v10 = v20;
		v9 = v17;
		r8 = v14;
	}
	decref(MKINT(v9));
	*out_ZPlusMirth_2 = r8;
}
static bool mw_mirth_token_TokenValue_noneZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 0LL: { // None
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_commaZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 1LL: { // Comma
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_lparenZ_openZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 2LL: { // LParenOpen
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_lsquareZ_openZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 3LL: { // LSquareOpen
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_lcurlyZ_openZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 4LL: { // LCurlyOpen
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_lcolonZ_openZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 5LL: { // LColonOpen
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static PTUP mw_mirth_token_TokenValue_lparenZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 6LL: { // LParen
			uint64_t v4 = mtp_mirth_token_TokenValue_LParen(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_rparenZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 7LL: { // RParen
			uint64_t v4 = mtp_mirth_token_TokenValue_RParen(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_lsquareZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 8LL: { // LSquare
			uint64_t v4 = mtp_mirth_token_TokenValue_LSquare(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_rsquareZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 9LL: { // RSquare
			uint64_t v4 = mtp_mirth_token_TokenValue_RSquare(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_lcurlyZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 10LL: { // LCurly
			uint64_t v4 = mtp_mirth_token_TokenValue_LCurly(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_rcurlyZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 11LL: { // RCurly
			uint64_t v4 = mtp_mirth_token_TokenValue_RCurly(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_lcolonZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 12LL: { // LColon
			uint64_t v4 = mtp_mirth_token_TokenValue_LColon(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 6LL: { // LParen
			uint64_t v4 = mtp_mirth_token_TokenValue_LParen(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		case 12LL: { // LColon
			uint64_t v6 = mtp_mirth_token_TokenValue_LColon(in_TokenValue_1);
			PTUP v7 = mtw_std_maybe_Maybe_1_Some(MKU64(v6));
			branch_Maybe_3 = v7;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v8 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v8;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_intZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 14LL: { // Int
			INT v4 = mtp_mirth_token_TokenValue_Int(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKINT(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_strZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 26LL: { // Str
			STR* v4 = mtp_mirth_token_TokenValue_Str(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKSTR(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_nameZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 27LL: { // Name
			uint64_t v4 = mtp_mirth_token_TokenValue_Name(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_dnameZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 28LL: { // DName
			PTUP v4 = mtp_mirth_token_TokenValue_DName(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKTUP(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_nameZDivdnameZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 27LL: { // Name
			uint64_t v4 = mtp_mirth_token_TokenValue_Name(in_TokenValue_1);
			PTUP v5 = mtw_std_either_Either_2_Left(MKU64(v4));
			PTUP v6 = mtw_std_maybe_Maybe_1_Some(MKTUP(v5));
			branch_Maybe_3 = v6;
		} break;
		case 28LL: { // DName
			PTUP v7 = mtp_mirth_token_TokenValue_DName(in_TokenValue_1);
			PTUP v8 = mtw_std_either_Either_2_Right(MKTUP(v7));
			PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKTUP(v8));
			branch_Maybe_3 = v9;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v10 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v10;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_token_TokenValue_lastZ_nameZAsk (PTUP in_TokenValue_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 27LL: { // Name
			uint64_t v4 = mtp_mirth_token_TokenValue_Name(in_TokenValue_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		case 28LL: { // DName
			PTUP v6 = mtp_mirth_token_TokenValue_DName(in_TokenValue_1);
			uint64_t v7 = mw_mirth_name_DName_lastZ_name(v6);
			PTUP v8 = mtw_std_maybe_Maybe_1_Some(MKU64(v7));
			branch_Maybe_3 = v8;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			PTUP v9 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v9;
		} break;
	}
	return branch_Maybe_3;
}
static bool mw_mirth_token_TokenValue_argZ_endZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 1LL: { // Comma
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		case 7LL: { // RParen
			uint64_t v5 = mtp_mirth_token_TokenValue_RParen(in_TokenValue_1);
			bool v6 = true;
			branch_Bool_3 = v6;
		} break;
		case 11LL: { // RCurly
			uint64_t v7 = mtp_mirth_token_TokenValue_RCurly(in_TokenValue_1);
			bool v8 = true;
			branch_Bool_3 = v8;
		} break;
		case 9LL: { // RSquare
			uint64_t v9 = mtp_mirth_token_TokenValue_RSquare(in_TokenValue_1);
			bool v10 = true;
			branch_Bool_3 = v10;
		} break;
		case 13LL: { // RColon
			uint64_t v11 = mtp_mirth_token_TokenValue_RColon(in_TokenValue_1);
			bool v12 = true;
			branch_Bool_3 = v12;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v13 = false;
			branch_Bool_3 = v13;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_leftZ_enclosureZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 6LL: { // LParen
			uint64_t v4 = mtp_mirth_token_TokenValue_LParen(in_TokenValue_1);
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 8LL: { // LSquare
			uint64_t v6 = mtp_mirth_token_TokenValue_LSquare(in_TokenValue_1);
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 10LL: { // LCurly
			uint64_t v8 = mtp_mirth_token_TokenValue_LCurly(in_TokenValue_1);
			bool v9 = true;
			branch_Bool_3 = v9;
		} break;
		case 12LL: { // LColon
			uint64_t v10 = mtp_mirth_token_TokenValue_LColon(in_TokenValue_1);
			bool v11 = true;
			branch_Bool_3 = v11;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_rightZ_enclosureZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 7LL: { // RParen
			uint64_t v4 = mtp_mirth_token_TokenValue_RParen(in_TokenValue_1);
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 9LL: { // RSquare
			uint64_t v6 = mtp_mirth_token_TokenValue_RSquare(in_TokenValue_1);
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 11LL: { // RCurly
			uint64_t v8 = mtp_mirth_token_TokenValue_RCurly(in_TokenValue_1);
			bool v9 = true;
			branch_Bool_3 = v9;
		} break;
		case 13LL: { // RColon
			uint64_t v10 = mtp_mirth_token_TokenValue_RColon(in_TokenValue_1);
			bool v11 = true;
			branch_Bool_3 = v11;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk (PTUP in_TokenValue_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_TokenValue_1)) {
		case 27LL: { // Name
			uint64_t v4 = mtp_mirth_token_TokenValue_Name(in_TokenValue_1);
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 28LL: { // DName
			PTUP v6 = mtp_mirth_token_TokenValue_DName(in_TokenValue_1);
			decref(MKTUP(v6));
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 33LL: { // LabelGet
			uint64_t v8 = mtp_mirth_token_TokenValue_LabelGet(in_TokenValue_1);
			bool v9 = true;
			branch_Bool_3 = v9;
		} break;
		case 34LL: { // LabelSet
			uint64_t v10 = mtp_mirth_token_TokenValue_LabelSet(in_TokenValue_1);
			bool v11 = true;
			branch_Bool_3 = v11;
		} break;
		default: {
			decref(MKTUP(in_TokenValue_1));
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
	}
	return branch_Bool_3;
}
static PTUP mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Maybe_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(MKTUP(VTUP(v8)));
			uint64_t v9 = mw_std_either_Either_2_left_1_sp1(VTUP(v8));
			PTUP v10;
			bool v11 = mw_mirth_name_Name_couldZ_beZ_typeZ_con(in_ZPlusMirth_1, v9, &v10);
			PTUP branch_ZPlusMirth_12;
			PTUP branch_Maybe_13;
			if (v11) {
				PTUP v14 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v8)));
				branch_Maybe_13 = v14;
				branch_ZPlusMirth_12 = v10;
			} else {
				decref(MKTUP(VTUP(v8)));
				PTUP v15 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_13 = v15;
				branch_ZPlusMirth_12 = v10;
			}
			branch_Maybe_7 = branch_Maybe_13;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_12;
		} break;
		case 0LL: { // None
			PTUP v16 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_7 = v16;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static PTUP mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Maybe_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(MKTUP(VTUP(v8)));
			uint64_t v9 = mw_std_either_Either_2_left_1_sp1(VTUP(v8));
			PTUP v10;
			bool v11 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(in_ZPlusMirth_1, v9, &v10);
			PTUP branch_ZPlusMirth_12;
			PTUP branch_Maybe_13;
			if (v11) {
				PTUP v14 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v8)));
				branch_Maybe_13 = v14;
				branch_ZPlusMirth_12 = v10;
			} else {
				decref(MKTUP(VTUP(v8)));
				PTUP v15 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_13 = v15;
				branch_ZPlusMirth_12 = v10;
			}
			branch_Maybe_7 = branch_Maybe_13;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_12;
		} break;
		case 0LL: { // None
			PTUP v16 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_7 = v16;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static PTUP mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Maybe_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			bool v10 = mw_mirth_name_Name_isZ_typeZ_hole(in_ZPlusMirth_1, value_u64(v8), &v9);
			PTUP branch_ZPlusMirth_11;
			PTUP branch_Maybe_12;
			if (v10) {
				PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v8)));
				branch_Maybe_12 = v13;
				branch_ZPlusMirth_11 = v9;
			} else {
				PTUP v14 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_12 = v14;
				branch_ZPlusMirth_11 = v9;
			}
			branch_Maybe_7 = branch_Maybe_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 0LL: { // None
			PTUP v15 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static PTUP mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Maybe_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			bool v10 = mw_mirth_name_Name_couldZ_beZ_typeZ_var(in_ZPlusMirth_1, value_u64(v8), &v9);
			PTUP branch_ZPlusMirth_11;
			PTUP branch_Maybe_12;
			if (v10) {
				PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v8)));
				branch_Maybe_12 = v13;
				branch_ZPlusMirth_11 = v9;
			} else {
				PTUP v14 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_12 = v14;
				branch_ZPlusMirth_11 = v9;
			}
			branch_Maybe_7 = branch_Maybe_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 0LL: { // None
			PTUP v15 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static PTUP mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk(in_ZPlusMirth_1, in_TokenValue_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static PTUP mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Maybe_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			bool v10 = mw_mirth_name_Name_couldZ_beZ_stackZ_var(in_ZPlusMirth_1, value_u64(v8), &v9);
			PTUP branch_ZPlusMirth_11;
			PTUP branch_Maybe_12;
			if (v10) {
				PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v8)));
				branch_Maybe_12 = v13;
				branch_ZPlusMirth_11 = v9;
			} else {
				PTUP v14 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_12 = v14;
				branch_ZPlusMirth_11 = v9;
			}
			branch_Maybe_7 = branch_Maybe_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 0LL: { // None
			PTUP v15 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static PTUP mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Maybe_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			bool v10 = mw_mirth_name_Name_couldZ_beZ_resourceZ_var(in_ZPlusMirth_1, value_u64(v8), &v9);
			PTUP branch_ZPlusMirth_11;
			PTUP branch_Maybe_12;
			if (v10) {
				PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v8)));
				branch_Maybe_12 = v13;
				branch_ZPlusMirth_11 = v9;
			} else {
				PTUP v14 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_12 = v14;
				branch_ZPlusMirth_11 = v9;
			}
			branch_Maybe_7 = branch_Maybe_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 0LL: { // None
			PTUP v15 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static bool mw_mirth_token_TokenValue_sigZ_dashesZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "--", 2);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_vdashZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "|-", 2);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_arrowZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "->", 2);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_patZ_underscoreZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			bool v10 = mw_mirth_name_Name_isZ_underscore(in_ZPlusMirth_1, value_u64(v8), &v9);
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v11 = false;
			branch_Bool_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_moduleZ_headerZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "module", 6);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_moduleZ_importZAsk (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "import", 6);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static uint64_t mw_mirth_token_nameZDivdnameZ_lastZ_name (PTUP in_Either_1) {
	uint64_t branch_Name_3;
	switch (PTREXTRA(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			branch_Name_3 = value_u64(v4);
		} break;
		case 1LL: { // Right
			VAL v5 = mtp_std_either_Either_2_Right(in_Either_1);
			uint64_t v6 = mw_mirth_name_DName_lastZ_name(VTUP(v5));
			branch_Name_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Name_3;
}
static PTUP mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk (PTUP in_Either_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			PTUP v5 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			PTUP v7 = mw_mirth_name_DName_penultimateZ_nameZAsk(VTUP(v6));
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static uint64_t mw_mirth_token_Token_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_token_Token_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_token_Token_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_token_Token_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, uint64_t in_Module_3, INT in_Row_4, INT in_Col_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7) {
	PTUP v9;
	uint64_t v10 = mw_mirth_token_Token_AllocZBang(in_ZPlusMirth_1, &v9);
	void* v11 = field_mut(&mfld_mirth_token_Token_value, v10);
	mut_set(MKTUP(in_TokenValue_2), v11);
	void* v12 = field_mut(&mfld_mirth_token_Token_module, v10);
	mut_set(MKU64(in_Module_3), v12);
	void* v13 = field_mut(&mfld_mirth_token_Token_row, v10);
	mut_set(MKINT(in_Row_4), v13);
	void* v14 = field_mut(&mfld_mirth_token_Token_col, v10);
	mut_set(MKINT(in_Col_5), v14);
	void* v15 = field_mut(&mfld_mirth_token_Token_doc, v10);
	mut_set(MKTUP(in_Maybe_6), v15);
	*out_ZPlusMirth_7 = v9;
	return v10;
}
static uint64_t mw_mirth_token_Token_fromZ_index (PTUP in_ZPlusMirth_1, uint64_t in_U64_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = mbuf_mirth_token_Token_NumBuffer;
	uint64_t v6 = *(uint64_t*)v5;
	bool v7 = (in_U64_2 <= v6);
	PTUP branch_ZPlusMirth_8;
	uint64_t branch_U64_9;
	if (v7) {
		branch_U64_9 = in_U64_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		uint64_t v10 = 0ULL;
		branch_U64_9 = v10;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_U64_9;
}
static uint64_t mw_mirth_token_Token_succ (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = mbuf_mirth_token_Token_NumBuffer;
	uint64_t v6 = *(uint64_t*)v5;
	bool v7 = (in_Token_2 < v6);
	PTUP branch_ZPlusMirth_8;
	uint64_t branch_U64_9;
	if (v7) {
		uint64_t v10 = 1ULL;
		uint64_t v11 = (in_Token_2 + v10);
		branch_U64_9 = v11;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		uint64_t v12 = 0ULL;
		branch_U64_9 = v12;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_U64_9;
}
static uint64_t mw_mirth_token_Token_pred (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	uint64_t v5 = 0ULL;
	bool v6 = (in_Token_2 == v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_U64_8;
	if (v6) {
		branch_U64_8 = in_Token_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		uint64_t v9 = 1ULL;
		uint64_t v10 = (in_Token_2 - v9);
		branch_U64_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_U64_8;
}
static PTUP mw_mirth_token_Token_value (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_value, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static void mw_mirth_token_Token_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_TokenValue_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_token_Token_value, in_Token_3);
	mut_set(MKTUP(in_TokenValue_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_token_Token_module (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_module, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_token_Token_moduleZBang (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_token_Token_module, in_Token_3);
	mut_set(MKU64(in_Module_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static INT mw_mirth_token_Token_row (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_row, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static void mw_mirth_token_Token_rowZBang (PTUP in_ZPlusMirth_1, INT in_Row_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_token_Token_row, in_Token_3);
	mut_set(MKINT(in_Row_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static INT mw_mirth_token_Token_col (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_col, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static void mw_mirth_token_Token_colZBang (PTUP in_ZPlusMirth_1, INT in_Col_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_token_Token_col, in_Token_3);
	mut_set(MKINT(in_Col_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_token_Token_doc (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_doc, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static bool mw_mirth_token_Token_noneZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_noneZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_commaZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_commaZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_lcolonZ_openZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_lcolonZ_openZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_lparenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_lparenZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_rparenZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_rparenZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_lsquareZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_lsquareZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_rsquareZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_rsquareZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_lcurlyZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_lcurlyZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_rcurlyZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_rcurlyZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_lcolonZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_lcolonZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_intZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_intZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_strZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_strZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_nameZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_dnameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_dnameZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_nameZDivdnameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_lastZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_mirth_token_TokenValue_lastZ_nameZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_argZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_argZ_endZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_leftZ_enclosureZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_leftZ_enclosureZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_rightZ_enclosureZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_rightZ_enclosureZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_token_Token_sigZ_typeZ_conZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_token_Token_sigZ_typeZ_holeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_token_Token_sigZ_typeZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_token_Token_sigZ_paramZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_token_Token_sigZ_stackZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_token_Token_sigZ_resourceZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static PTUP mw_mirth_token_Token_sigZ_resourceZ_conZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_sigZ_dashesZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_TokenValue_sigZ_dashesZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_vdashZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_TokenValue_vdashZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_arrowZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_TokenValue_arrowZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_patZ_underscoreZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_TokenValue_patZ_underscoreZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_moduleZ_headerZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_TokenValue_moduleZ_headerZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_moduleZ_importZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_TokenValue_moduleZ_importZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_canZ_takeZ_argsZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static uint64_t mw_mirth_token_Token_allocZ_noneZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4 = PTRMK(0LL /* None */,0,0);
	INT v5 = WRAP_I63(0LL);
	INT v6 = WRAP_I63(0LL);
	uint64_t v7 = mw_mirth_module_Module_Nil();
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	PTUP v9;
	uint64_t v10 = mw_mirth_token_Token_MakeZBang(in_ZPlusMirth_1, v8, v7, v5, v6, v4, &v9);
	*out_ZPlusMirth_2 = v9;
	return v10;
}
static PTUP mw_mirth_token_Token_location (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_token_Token_module(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	INT v8 = mw_mirth_token_Token_row(v5, in_Token_2, &v7);
	PTUP v9;
	INT v10 = mw_mirth_token_Token_col(v7, in_Token_2, &v9);
	PTUP v11 = mtw_mirth_location_Location_Location(v6, v8, v10);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static void mw_mirth_token_Token_locationZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4) {
	uint64_t v5;
	INT v6;
	INT v7;
	mtp_mirth_location_Location_Location(in_Location_2, &v5, &v6, &v7);
	PTUP v8;
	mw_mirth_token_Token_moduleZBang(in_ZPlusMirth_1, v5, in_Token_3, &v8);
	PTUP v9;
	mw_mirth_token_Token_rowZBang(v8, v6, in_Token_3, &v9);
	PTUP v10;
	mw_mirth_token_Token_colZBang(v9, v7, in_Token_3, &v10);
	*out_ZPlusMirth_4 = v10;
}
static uint64_t mw_mirth_token_Token_next (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	switch (PTREXTRA(v6)) {
		case 6LL: { // LParen
			uint64_t v9 = mtp_mirth_token_TokenValue_LParen(v6);
			decref(MKU64(in_Token_2));
			PTUP v10;
			uint64_t v11 = mw_mirth_token_Token_succ(v5, value_u64(MKU64(v9)), &v10);
			branch_Token_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 8LL: { // LSquare
			uint64_t v12 = mtp_mirth_token_TokenValue_LSquare(v6);
			decref(MKU64(in_Token_2));
			PTUP v13;
			uint64_t v14 = mw_mirth_token_Token_succ(v5, value_u64(MKU64(v12)), &v13);
			branch_Token_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 10LL: { // LCurly
			uint64_t v15 = mtp_mirth_token_TokenValue_LCurly(v6);
			decref(MKU64(in_Token_2));
			PTUP v16;
			uint64_t v17 = mw_mirth_token_Token_succ(v5, value_u64(MKU64(v15)), &v16);
			branch_Token_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 12LL: { // LColon
			uint64_t v18 = mtp_mirth_token_TokenValue_LColon(v6);
			decref(MKU64(in_Token_2));
			PTUP v19;
			uint64_t v20 = mw_mirth_token_Token_succ(v5, value_u64(MKU64(v18)), &v19);
			branch_Token_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		default: {
			bool v21 = mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk(v6);
			uint64_t branch_Token_22;
			PTUP branch_ZPlusMirth_23;
			if (v21) {
				PTUP v24;
				uint64_t v25 = mw_mirth_token_Token_succ(v5, in_Token_2, &v24);
				PTUP v26;
				PTUP v27 = mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk(v24, v25, &v26);
				PTUP branch_ZPlusMirth_28;
				uint64_t branch_Token_29;
				switch (PTREXTRA(v27)) {
					case 1LL: { // Some
						VAL v30 = mtp_std_maybe_Maybe_1_Some(v27);
						decref(MKU64(v25));
						PTUP v31;
						uint64_t v32 = mw_mirth_token_Token_succ(v26, value_u64(v30), &v31);
						branch_Token_29 = v32;
						branch_ZPlusMirth_28 = v31;
					} break;
					case 0LL: { // None
						branch_Token_29 = v25;
						branch_ZPlusMirth_28 = v26;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusMirth_23 = branch_ZPlusMirth_28;
				branch_Token_22 = branch_Token_29;
			} else {
				PTUP v33;
				uint64_t v34 = mw_mirth_token_Token_succ(v5, in_Token_2, &v33);
				branch_ZPlusMirth_23 = v33;
				branch_Token_22 = v34;
			}
			branch_Token_8 = branch_Token_22;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_23;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static uint64_t mw_mirth_token_Token_prev (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_token_Token_pred(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_token_Token_value(v5, v6, &v7);
	PTUP branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	switch (PTREXTRA(v8)) {
		case 9LL: { // RSquare
			uint64_t v11 = mtp_mirth_token_TokenValue_RSquare(v8);
			decref(MKU64(v6));
			branch_Token_10 = value_u64(MKU64(v11));
			branch_ZPlusMirth_9 = v7;
		} break;
		case 11LL: { // RCurly
			uint64_t v12 = mtp_mirth_token_TokenValue_RCurly(v8);
			decref(MKU64(v6));
			branch_Token_10 = value_u64(MKU64(v12));
			branch_ZPlusMirth_9 = v7;
		} break;
		case 7LL: { // RParen
			uint64_t v13 = mtp_mirth_token_TokenValue_RParen(v8);
			decref(MKU64(v6));
			PTUP v14;
			uint64_t v15 = mw_mirth_token_Token_pred(v7, value_u64(MKU64(v13)), &v14);
			PTUP v16;
			bool v17 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(v14, v15, &v16);
			PTUP branch_ZPlusMirth_18;
			uint64_t branch_Token_19;
			if (v17) {
				PTUP v20;
				uint64_t v21 = mw_mirth_token_Token_pred(v16, value_u64(MKU64(v13)), &v20);
				branch_Token_19 = v21;
				branch_ZPlusMirth_18 = v20;
			} else {
				branch_Token_19 = value_u64(MKU64(v13));
				branch_ZPlusMirth_18 = v16;
			}
			branch_Token_10 = branch_Token_19;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_18;
		} break;
		case 13LL: { // RColon
			uint64_t v22 = mtp_mirth_token_TokenValue_RColon(v8);
			decref(MKU64(v6));
			PTUP v23;
			uint64_t v24 = mw_mirth_token_Token_pred(v7, value_u64(MKU64(v22)), &v23);
			PTUP v25;
			bool v26 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(v23, v24, &v25);
			PTUP branch_ZPlusMirth_27;
			uint64_t branch_Token_28;
			if (v26) {
				PTUP v29;
				uint64_t v30 = mw_mirth_token_Token_pred(v25, value_u64(MKU64(v22)), &v29);
				branch_Token_28 = v30;
				branch_ZPlusMirth_27 = v29;
			} else {
				branch_Token_28 = value_u64(MKU64(v22));
				branch_ZPlusMirth_27 = v25;
			}
			branch_Token_10 = branch_Token_28;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_27;
		} break;
		default: {
			decref(MKTUP(v8));
			branch_Token_10 = v6;
			branch_ZPlusMirth_9 = v7;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Token_10;
}
static uint64_t mw_mirth_token_Token_nextZ_argZ_end (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_argZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = !v6;
	uint64_t v8 = in_Token_2;
	PTUP r9 = v5;
	bool v10 = v7;
	while (v10) {
		uint64_t v11 = v8;
		PTUP r12 = r9;
		PTUP v13;
		uint64_t v14 = mw_mirth_token_Token_next(r12, v11, &v13);
		PTUP v15;
		bool v16 = mw_mirth_token_Token_argZ_endZAsk(v13, v14, &v15);
		bool v17 = !v16;
		v10 = v17;
		r9 = v15;
		v8 = v14;
	}
	*out_ZPlusMirth_3 = r9;
	return v8;
}
static uint64_t mw_mirth_token_Token_argsZ_start (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	uint64_t branch_Token_7;
	PTUP branch_ZPlusMirth_8;
	bool branch_Bool_9;
	if (v6) {
		PTUP v10;
		uint64_t v11 = mw_mirth_token_Token_succ(v5, in_Token_2, &v10);
		PTUP v12;
		PTUP v13 = mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk(v10, v11, &v12);
		int64_t v14 = PTREXTRA(v13);
		decref(MKTUP(v13));
		INT v15 = WRAP_I63(0LL);
		INT v16 = v15;
		INT v17 = i64_to_int(v14);
		bool v18 = int_eq(v17, v16);
		bool v19 = !v18;
		branch_Bool_9 = v19;
		branch_ZPlusMirth_8 = v12;
		branch_Token_7 = in_Token_2;
	} else {
		bool v20 = false;
		branch_Bool_9 = v20;
		branch_ZPlusMirth_8 = v5;
		branch_Token_7 = in_Token_2;
	}
	PTUP branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	if (branch_Bool_9) {
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_succ(branch_ZPlusMirth_8, branch_Token_7, &v23);
		branch_Token_22 = v24;
		branch_ZPlusMirth_21 = v23;
	} else {
		branch_Token_22 = branch_Token_7;
		branch_ZPlusMirth_21 = branch_ZPlusMirth_8;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_21;
	return branch_Token_22;
}
static bool mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_nameZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			bool v11 = mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk(v5, value_u64(v9), &v10);
			branch_Bool_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			bool v12 = false;
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t branch_Token_13;
	PTUP branch_ZPlusMirth_14;
	bool branch_Bool_15;
	if (branch_Bool_8) {
		PTUP v16;
		uint64_t v17 = mw_mirth_token_Token_succ(branch_ZPlusMirth_7, in_Token_2, &v16);
		PTUP v18;
		PTUP v19 = mw_mirth_token_Token_lcolonZAsk(v16, v17, &v18);
		int64_t v20 = PTREXTRA(v19);
		decref(MKTUP(v19));
		INT v21 = WRAP_I63(0LL);
		INT v22 = v21;
		INT v23 = i64_to_int(v20);
		bool v24 = int_eq(v23, v22);
		bool v25 = !v24;
		branch_Bool_15 = v25;
		branch_ZPlusMirth_14 = v18;
		branch_Token_13 = in_Token_2;
	} else {
		bool v26 = false;
		branch_Bool_15 = v26;
		branch_ZPlusMirth_14 = branch_ZPlusMirth_7;
		branch_Token_13 = in_Token_2;
	}
	decref(MKU64(branch_Token_13));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
	return value_bool(MKBOOL(branch_Bool_15));
}
static PTUP mw_mirth_token_Token_sigZ_labelZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_nameZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	uint64_t branch_Token_7;
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v11;
			bool v12 = mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk(v5, value_u64(v10), &v11);
			uint64_t branch_Token_13;
			PTUP branch_ZPlusMirth_14;
			bool branch_Bool_15;
			if (v12) {
				PTUP v16;
				uint64_t v17 = mw_mirth_token_Token_succ(v11, in_Token_2, &v16);
				PTUP v18;
				PTUP v19 = mw_mirth_token_Token_lcolonZAsk(v16, v17, &v18);
				int64_t v20 = PTREXTRA(v19);
				decref(MKTUP(v19));
				INT v21 = WRAP_I63(0LL);
				INT v22 = v21;
				INT v23 = i64_to_int(v20);
				bool v24 = int_eq(v23, v22);
				bool v25 = !v24;
				branch_Bool_15 = v25;
				branch_ZPlusMirth_14 = v18;
				branch_Token_13 = in_Token_2;
			} else {
				bool v26 = false;
				branch_Bool_15 = v26;
				branch_ZPlusMirth_14 = v11;
				branch_Token_13 = in_Token_2;
			}
			uint64_t branch_Token_27;
			PTUP branch_ZPlusMirth_28;
			PTUP branch_Maybe_29;
			if (branch_Bool_15) {
				PTUP v30 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v10)));
				branch_Maybe_29 = v30;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_14;
				branch_Token_27 = branch_Token_13;
			} else {
				PTUP v31 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_29 = v31;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_14;
				branch_Token_27 = branch_Token_13;
			}
			branch_Maybe_9 = branch_Maybe_29;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_28;
			branch_Token_7 = branch_Token_27;
		} break;
		case 0LL: { // None
			PTUP v32 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v32;
			branch_ZPlusMirth_8 = v5;
			branch_Token_7 = in_Token_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP branch_ZPlusMirth_33;
	PTUP branch_Maybe_34;
	switch (PTREXTRA(branch_Maybe_9)) {
		case 1LL: { // Some
			VAL v35 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_9);
			PTUP v36;
			uint64_t v37 = mw_mirth_name_Name_label(branch_ZPlusMirth_8, value_u64(v35), &v36);
			PTUP v38 = mtw_std_maybe_Maybe_1_Some(MKU64(v37));
			branch_Maybe_34 = v38;
			branch_ZPlusMirth_33 = v36;
		} break;
		case 0LL: { // None
			PTUP v39 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_34 = v39;
			branch_ZPlusMirth_33 = branch_ZPlusMirth_8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Token_7));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_33;
	return VTUP(MKTUP(branch_Maybe_34));
}
static PTUP mw_mirth_token_Token_patternZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_nameZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			PTUP v10;
			bool v11 = mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk(v5, value_u64(v9), &v10);
			PTUP branch_ZPlusMirth_12;
			PTUP branch_Maybe_13;
			if (v11) {
				PTUP v14 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v9)));
				branch_Maybe_13 = v14;
				branch_ZPlusMirth_12 = v10;
			} else {
				PTUP v15 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_13 = v15;
				branch_ZPlusMirth_12 = v10;
			}
			branch_Maybe_8 = branch_Maybe_13;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
		} break;
		case 0LL: { // None
			PTUP v16 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static PTUP mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_lsquareZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	int64_t v7 = PTREXTRA(v6);
	decref(MKTUP(v6));
	INT v8 = WRAP_I63(0LL);
	INT v9 = v8;
	INT v10 = i64_to_int(v7);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	PTUP v13;
	uint64_t v14 = mw_mirth_token_Token_succ(v5, in_Token_2, &v13);
	PTUP v15;
	uint64_t v16 = mw_mirth_token_Token_succ(v13, v14, &v15);
	PTUP v17;
	PTUP v18 = mw_mirth_token_Token_rsquareZAsk(v15, v16, &v17);
	int64_t v19 = PTREXTRA(v18);
	decref(MKTUP(v18));
	INT v20 = WRAP_I63(0LL);
	INT v21 = v20;
	INT v22 = i64_to_int(v19);
	bool v23 = int_eq(v22, v21);
	bool v24 = !v23;
	bool v25 = (v12 && v24);
	PTUP branch_ZPlusMirth_26;
	PTUP branch_Maybe_27;
	if (v25) {
		PTUP v28;
		uint64_t v29 = mw_mirth_token_Token_succ(v17, in_Token_2, &v28);
		PTUP v30;
		PTUP v31 = mw_mirth_token_Token_patternZ_varZAsk(v28, v29, &v30);
		branch_Maybe_27 = v31;
		branch_ZPlusMirth_26 = v30;
	} else {
		PTUP v32 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_27 = v32;
		branch_ZPlusMirth_26 = v17;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_26;
	return branch_Maybe_27;
}
static void mw_mirth_token_Token_argsZ_0 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4;
	INT v5 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v4);
	INT v6 = WRAP_I63(0LL);
	INT v7 = v6;
	INT v8 = v5;
	bool v9 = int_eq(v8, v7);
	PTUP branch_ZPlusMirth_10;
	if (v9) {
		branch_ZPlusMirth_10 = v4;
	} else {
		STR* v11;
		STRLIT(v11, "expected no args", 16);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v4, in_Token_2, v11);
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
}
static uint64_t mw_mirth_token_Token_argsZ_1 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	INT v6 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v5);
	INT v7 = WRAP_I63(1LL);
	INT v8 = v7;
	INT v9 = v6;
	bool v10 = int_eq(v9, v8);
	PTUP branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		PTUP v13;
		uint64_t v14 = mw_mirth_token_Token_argsZ_start(v5, in_Token_2, &v13);
		PTUP v15;
		uint64_t v16 = mw_mirth_token_Token_succ(v13, v14, &v15);
		branch_Token_12 = v16;
		branch_ZPlusMirth_11 = v15;
	} else {
		PTUP v17;
		INT v18 = mw_mirth_token_Token_numZ_args(v5, in_Token_2, &v17);
		INT v19 = WRAP_I63(1LL);
		INT v20 = v19;
		INT v21 = v18;
		bool v22 = int_lt(v21, v20);
		PTUP branch_ZPlusMirth_23;
		uint64_t branch_Token_24;
		if (v22) {
			STR* v25;
			STRLIT(v25, "expected 1 arg, got none", 24);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v17, in_Token_2, v25);
		} else {
			STR* v28;
			STRLIT(v28, "expected 1 arg, got too many", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v17, in_Token_2, v28);
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_11;
	return branch_Token_12;
}
static uint64_t mw_mirth_token_Token_argsZ_2 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5) {
	PTUP v6;
	INT v7 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v6);
	INT v8 = WRAP_I63(2LL);
	INT v9 = v8;
	INT v10 = v7;
	bool v11 = int_eq(v10, v9);
	uint64_t branch_Token_12;
	PTUP branch_ZPlusMirth_13;
	uint64_t branch_Token_14;
	if (v11) {
		PTUP v15;
		uint64_t v16 = mw_mirth_token_Token_argsZ_start(v6, in_Token_2, &v15);
		PTUP v17;
		uint64_t v18 = mw_mirth_token_Token_succ(v15, v16, &v17);
		PTUP v19;
		uint64_t v20 = mw_mirth_token_Token_nextZ_argZ_end(v17, v18, &v19);
		PTUP v21;
		uint64_t v22 = mw_mirth_token_Token_succ(v19, v20, &v21);
		branch_Token_14 = v22;
		branch_ZPlusMirth_13 = v21;
		branch_Token_12 = v18;
	} else {
		PTUP v23;
		INT v24 = mw_mirth_token_Token_numZ_args(v6, in_Token_2, &v23);
		INT v25 = WRAP_I63(2LL);
		INT v26 = v25;
		INT v27 = v24;
		bool v28 = int_lt(v27, v26);
		uint64_t branch_Token_29;
		PTUP branch_ZPlusMirth_30;
		uint64_t branch_Token_31;
		if (v28) {
			STR* v32;
			STRLIT(v32, "expected 2 args, got too few", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v23, in_Token_2, v32);
		} else {
			STR* v36;
			STRLIT(v36, "expected 2 args, got too many", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v23, in_Token_2, v36);
		}
	}
	*out_Token_5 = branch_Token_14;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_13;
	return branch_Token_12;
}
static uint64_t mw_mirth_token_Token_argsZ_3 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6) {
	PTUP v7;
	INT v8 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v7);
	INT v9 = WRAP_I63(3LL);
	INT v10 = v9;
	INT v11 = v8;
	bool v12 = int_eq(v11, v10);
	uint64_t branch_Token_13;
	uint64_t branch_Token_14;
	PTUP branch_ZPlusMirth_15;
	uint64_t branch_Token_16;
	if (v12) {
		PTUP v17;
		uint64_t v18 = mw_mirth_token_Token_argsZ_start(v7, in_Token_2, &v17);
		PTUP v19;
		uint64_t v20 = mw_mirth_token_Token_succ(v17, v18, &v19);
		PTUP v21;
		uint64_t v22 = mw_mirth_token_Token_nextZ_argZ_end(v19, v20, &v21);
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_succ(v21, v22, &v23);
		PTUP v25;
		uint64_t v26 = mw_mirth_token_Token_nextZ_argZ_end(v23, v24, &v25);
		PTUP v27;
		uint64_t v28 = mw_mirth_token_Token_succ(v25, v26, &v27);
		branch_Token_16 = v28;
		branch_ZPlusMirth_15 = v27;
		branch_Token_14 = v24;
		branch_Token_13 = v20;
	} else {
		PTUP v29;
		INT v30 = mw_mirth_token_Token_numZ_args(v7, in_Token_2, &v29);
		INT v31 = WRAP_I63(3LL);
		INT v32 = v31;
		INT v33 = v30;
		bool v34 = int_lt(v33, v32);
		uint64_t branch_Token_35;
		uint64_t branch_Token_36;
		PTUP branch_ZPlusMirth_37;
		uint64_t branch_Token_38;
		if (v34) {
			STR* v39;
			STRLIT(v39, "expected 3 args, got too few", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v29, in_Token_2, v39);
		} else {
			STR* v44;
			STRLIT(v44, "expected 3 args, got too many", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v29, in_Token_2, v44);
		}
	}
	*out_Token_6 = branch_Token_16;
	*out_Token_5 = branch_Token_14;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_15;
	return branch_Token_13;
}
static uint64_t mw_mirth_token_Token_argsZ_4 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, uint64_t *out_Token_7) {
	PTUP v8;
	INT v9 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v8);
	INT v10 = WRAP_I63(4LL);
	INT v11 = v10;
	INT v12 = v9;
	bool v13 = int_eq(v12, v11);
	uint64_t branch_Token_14;
	uint64_t branch_Token_15;
	uint64_t branch_Token_16;
	PTUP branch_ZPlusMirth_17;
	uint64_t branch_Token_18;
	if (v13) {
		PTUP v19;
		uint64_t v20 = mw_mirth_token_Token_argsZ_start(v8, in_Token_2, &v19);
		PTUP v21;
		uint64_t v22 = mw_mirth_token_Token_succ(v19, v20, &v21);
		PTUP v23;
		uint64_t v24 = mw_mirth_token_Token_nextZ_argZ_end(v21, v22, &v23);
		PTUP v25;
		uint64_t v26 = mw_mirth_token_Token_succ(v23, v24, &v25);
		PTUP v27;
		uint64_t v28 = mw_mirth_token_Token_nextZ_argZ_end(v25, v26, &v27);
		PTUP v29;
		uint64_t v30 = mw_mirth_token_Token_succ(v27, v28, &v29);
		PTUP v31;
		uint64_t v32 = mw_mirth_token_Token_nextZ_argZ_end(v29, v30, &v31);
		PTUP v33;
		uint64_t v34 = mw_mirth_token_Token_succ(v31, v32, &v33);
		branch_Token_18 = v34;
		branch_ZPlusMirth_17 = v33;
		branch_Token_16 = v30;
		branch_Token_15 = v26;
		branch_Token_14 = v22;
	} else {
		PTUP v35;
		INT v36 = mw_mirth_token_Token_numZ_args(v8, in_Token_2, &v35);
		INT v37 = WRAP_I63(4LL);
		INT v38 = v37;
		INT v39 = v36;
		bool v40 = int_lt(v39, v38);
		uint64_t branch_Token_41;
		uint64_t branch_Token_42;
		uint64_t branch_Token_43;
		PTUP branch_ZPlusMirth_44;
		uint64_t branch_Token_45;
		if (v40) {
			STR* v46;
			STRLIT(v46, "expected 4 args, got too few", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v35, in_Token_2, v46);
		} else {
			STR* v52;
			STRLIT(v52, "expected 4 args, got too many", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v35, in_Token_2, v52);
		}
	}
	*out_Token_7 = branch_Token_18;
	*out_Token_6 = branch_Token_16;
	*out_Token_5 = branch_Token_15;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_17;
	return branch_Token_14;
}
static INT mw_mirth_token_Token_numZ_args (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_token_Token_argsZ_start(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_Token_leftZ_enclosureZAsk(v5, v6, &v7);
	PTUP branch_ZPlusMirth_9;
	INT branch_Nat_10;
	if (v8) {
		INT v11 = WRAP_I63(0LL);
		PTUP v12;
		bool v13 = mw_mirth_token_Token_argsZ_endZAsk(v7, v6, &v12);
		bool v14 = !v13;
		INT v15 = v11;
		uint64_t v16 = v6;
		PTUP r17 = v12;
		bool v18 = v14;
		while (v18) {
			INT v19 = v15;
			uint64_t v20 = v16;
			PTUP r21 = r17;
			INT v22 = WRAP_I63(1LL);
			INT v23 = v19;
			INT v24 = v22;
			INT v25 = int_add(v23, v24);
			INT v26 = v25;
			PTUP v27;
			uint64_t v28 = mw_mirth_token_Token_succ(r21, v20, &v27);
			PTUP v29;
			uint64_t v30 = mw_mirth_token_Token_nextZ_argZ_end(v27, v28, &v29);
			PTUP v31;
			bool v32 = mw_mirth_token_Token_argsZ_endZAsk(v29, v30, &v31);
			bool v33 = !v32;
			v18 = v33;
			r17 = v31;
			v16 = v30;
			v15 = v26;
		}
		branch_Nat_10 = v15;
		branch_ZPlusMirth_9 = r17;
	} else {
		INT v34 = WRAP_I63(0LL);
		branch_Nat_10 = v34;
		branch_ZPlusMirth_9 = v7;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Nat_10;
}
static PTUP mw_mirth_token_Token_args (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_token_Token_argsZ_start(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_Token_leftZ_enclosureZAsk(v5, v6, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_List_10;
	if (v8) {
		PTUP v11 = PTRMK(0LL /* Nil */,0,0);
		PTUP v12;
		mw_std_list_List_1_buildZBang(v11, &v12);
		PTUP v13;
		bool v14 = mw_mirth_token_Token_argsZ_endZAsk(v7, v6, &v13);
		bool v15 = !v14;
		uint64_t v16 = v6;
		PTUP r17 = v13;
		PTUP r18 = v12;
		bool v19 = v15;
		while (v19) {
			uint64_t v20 = v16;
			PTUP r21 = r17;
			PTUP r22 = r18;
			PTUP v23;
			uint64_t v24 = mw_mirth_token_Token_succ(r21, v20, &v23);
			PTUP v25;
			uint64_t v26 = mw_mirth_token_Token_nextZ_argZ_end(v23, v24, &v25);
			PTUP v27;
			mw_std_list_ZPlusLister_1_pushZBang(MKU64(v24), r22, &v27);
			PTUP v28;
			bool v29 = mw_mirth_token_Token_argsZ_endZAsk(v25, v26, &v28);
			bool v30 = !v29;
			v19 = v30;
			r18 = v27;
			r17 = v28;
			v16 = v26;
		}
		PTUP v31 = mw_std_list_ZPlusLister_1_doneZBang(r18);
		decref(MKU64(v16));
		branch_List_10 = VTUP(MKTUP(v31));
		branch_ZPlusMirth_9 = r17;
	} else {
		PTUP v32 = PTRMK(0LL /* Nil */,0,0);
		branch_List_10 = v32;
		branch_ZPlusMirth_9 = v7;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_List_10;
}
static bool mw_mirth_token_Token_argsZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_commaZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	if (v6) {
		PTUP v9;
		uint64_t v10 = mw_mirth_token_Token_succ(v5, in_Token_2, &v9);
		branch_Token_8 = v10;
		branch_ZPlusMirth_7 = v9;
	} else {
		branch_Token_8 = in_Token_2;
		branch_ZPlusMirth_7 = v5;
	}
	PTUP v11;
	bool v12 = mw_mirth_token_Token_rightZ_enclosureZAsk(branch_ZPlusMirth_7, branch_Token_8, &v11);
	*out_ZPlusMirth_3 = v11;
	return v12;
}
static PTUP mw_mirth_token_Token_argsZPlus (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_args(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = mw_std_list_List_1_ZToNestZAsk(v6);
	PTUP branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	VAL branch_z_x1_10;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_z_x1_10 = v11;
			branch_Token_9 = in_Token_2;
			branch_ZPlusMirth_8 = v5;
		} break;
		case 0LL: { // None
			STR* v12;
			STRLIT(v12, "expected 1 or more args, got none", 33);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, in_Token_2, v12);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Token_9));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return VTUP(branch_z_x1_10);
}
static bool mw_mirth_token_Token_moduleZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_noneZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_token_Token_runZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // None
			bool v9 = true;
			branch_Bool_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Comma
			bool v10 = true;
			branch_Bool_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 7LL: { // RParen
			uint64_t v11 = mtp_mirth_token_TokenValue_RParen(v6);
			bool v12 = true;
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 9LL: { // RSquare
			uint64_t v13 = mtp_mirth_token_TokenValue_RSquare(v6);
			bool v14 = true;
			branch_Bool_8 = v14;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 11LL: { // RCurly
			uint64_t v15 = mtp_mirth_token_TokenValue_RCurly(v6);
			bool v16 = true;
			branch_Bool_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 13LL: { // RColon
			uint64_t v17 = mtp_mirth_token_TokenValue_RColon(v6);
			bool v18 = true;
			branch_Bool_8 = v18;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(MKTUP(v6));
			bool v19 = false;
			branch_Bool_8 = v19;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static uint64_t mw_mirth_token_Token_toZ_runZ_end (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = !v6;
	uint64_t v8 = in_Token_2;
	PTUP r9 = v5;
	bool v10 = v7;
	while (v10) {
		uint64_t v11 = v8;
		PTUP r12 = r9;
		PTUP v13;
		uint64_t v14 = mw_mirth_token_Token_next(r12, v11, &v13);
		PTUP v15;
		bool v16 = mw_mirth_token_Token_runZ_endZAsk(v13, v14, &v15);
		bool v17 = !v16;
		v10 = v17;
		r9 = v15;
		v8 = v14;
	}
	*out_ZPlusMirth_3 = r9;
	return v8;
}
static PTUP mw_mirth_token_Token_runZ_tokens (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = PTRMK(0LL /* Nil */,0,0);
	PTUP v6;
	mw_std_list_List_1_buildZBang(v5, &v6);
	PTUP v7;
	bool v8 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	bool v9 = !v8;
	uint64_t v10 = in_Token_2;
	PTUP r11 = v7;
	PTUP r12 = v6;
	bool v13 = v9;
	while (v13) {
		uint64_t v14 = v10;
		PTUP r15 = r11;
		PTUP r16 = r12;
		PTUP v17;
		uint64_t v18 = mw_mirth_token_Token_next(r15, v14, &v17);
		PTUP v19;
		mw_std_list_ZPlusLister_1_pushZBang(MKU64(v14), r16, &v19);
		PTUP v20;
		bool v21 = mw_mirth_token_Token_runZ_endZAsk(v17, v18, &v20);
		bool v22 = !v21;
		v13 = v22;
		r12 = v19;
		r11 = v20;
		v10 = v18;
	}
	PTUP v23 = mw_std_list_ZPlusLister_1_doneZBang(r12);
	decref(MKU64(v10));
	*out_ZPlusMirth_3 = r11;
	return VTUP(MKTUP(v23));
}
static INT mw_mirth_token_Token_runZ_length (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	INT v5 = WRAP_I63(0LL);
	PTUP v6;
	bool v7 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	bool v8 = !v7;
	INT v9 = v5;
	uint64_t v10 = in_Token_2;
	PTUP r11 = v6;
	bool v12 = v8;
	while (v12) {
		INT v13 = v9;
		uint64_t v14 = v10;
		PTUP r15 = r11;
		PTUP v16;
		uint64_t v17 = mw_mirth_token_Token_next(r15, v14, &v16);
		INT v18 = WRAP_I63(1LL);
		INT v19 = v13;
		INT v20 = v18;
		INT v21 = int_add(v19, v20);
		INT v22 = v21;
		PTUP v23;
		bool v24 = mw_mirth_token_Token_runZ_endZAsk(v16, v17, &v23);
		bool v25 = !v24;
		v12 = v25;
		r11 = v23;
		v10 = v17;
		v9 = v22;
	}
	*out_ZPlusMirth_3 = r11;
	return v9;
}
static PTUP mw_mirth_token_Token_runZ_arrowZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_runZ_tokens(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = PTRMK(0LL /* None */,0,0);
	bool v8 = true;
	PTUP r9 = v5;
	PTUP v10 = v7;
	PTUP v11 = v6;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP v15 = v10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP v18;
		PTUP v19 = mw_std_list_List_1_uncons(v16, &v18);
		PTUP branch_ZPlusMirth_20;
		PTUP branch_Maybe_21;
		PTUP branch_List_22;
		bool branch_Bool_23;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				PTUP v25;
				bool v26 = mw_mirth_token_Token_arrowZAsk(r14, value_u64(v24), &v25);
				PTUP branch_ZPlusMirth_27;
				PTUP branch_Maybe_28;
				if (v26) {
					PTUP v29 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v24)));
					branch_Maybe_28 = v29;
					branch_ZPlusMirth_27 = v25;
				} else {
					PTUP v30 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_28 = v30;
					branch_ZPlusMirth_27 = v25;
				}
				PTUP branch_ZPlusMirth_31;
				PTUP branch_Maybe_32;
				PTUP branch_List_33;
				switch (PTREXTRA(branch_Maybe_28)) {
					case 0LL: { // None
						branch_List_33 = VTUP(MKTUP(v18));
						branch_Maybe_32 = VTUP(MKTUP(v15));
						branch_ZPlusMirth_31 = branch_ZPlusMirth_27;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v18))));
						decref(MKTUP(VTUP(MKTUP(v15))));
						PTUP v34 = PTRMK(0LL /* Nil */,0,0);
						branch_List_33 = v34;
						branch_Maybe_32 = branch_Maybe_28;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_27;
					} break;
				}
				bool v35 = true;
				branch_Bool_23 = v35;
				branch_List_22 = branch_List_33;
				branch_Maybe_21 = branch_Maybe_32;
				branch_ZPlusMirth_20 = branch_ZPlusMirth_31;
			} break;
			case 0LL: { // None
				bool v36 = false;
				branch_Bool_23 = v36;
				branch_List_22 = v18;
				branch_Maybe_21 = v15;
				branch_ZPlusMirth_20 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_23;
		v12 = branch_Bool_23;
		v11 = branch_List_22;
		v10 = branch_Maybe_21;
		r9 = branch_ZPlusMirth_20;
	}
	decref(MKTUP(v11));
	*out_ZPlusMirth_3 = r9;
	return v10;
}
static bool mw_mirth_token_Token_sigZ_stackZ_endZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_sigZ_dashesZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		bool v9 = true;
		branch_Bool_8 = v9;
		branch_ZPlusMirth_7 = v5;
	} else {
		PTUP v10;
		bool v11 = mw_mirth_token_Token_vdashZAsk(v5, in_Token_2, &v10);
		PTUP branch_ZPlusMirth_12;
		bool branch_Bool_13;
		if (v11) {
			bool v14 = true;
			branch_Bool_13 = v14;
			branch_ZPlusMirth_12 = v10;
		} else {
			PTUP v15;
			bool v16 = mw_mirth_token_Token_runZ_endZAsk(v10, in_Token_2, &v15);
			branch_Bool_13 = v16;
			branch_ZPlusMirth_12 = v15;
		}
		branch_Bool_8 = branch_Bool_13;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static uint64_t mw_mirth_token_Token_sigZ_nextZ_stackZ_end (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = !v6;
	uint64_t v8 = in_Token_2;
	PTUP r9 = v5;
	bool v10 = v7;
	while (v10) {
		uint64_t v11 = v8;
		PTUP r12 = r9;
		PTUP v13;
		uint64_t v14 = mw_mirth_token_Token_next(r12, v11, &v13);
		PTUP v15;
		bool v16 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v13, v14, &v15);
		bool v17 = !v16;
		v10 = v17;
		r9 = v15;
		v8 = v14;
	}
	*out_ZPlusMirth_3 = r9;
	return v8;
}
static bool mw_mirth_token_Token_sigZ_hasZ_vdashZ_orZ_dashesZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	bool v8 = mw_mirth_token_Token_sigZ_dashesZAsk(v5, v6, &v7);
	PTUP branch_ZPlusMirth_9;
	bool branch_Bool_10;
	if (v8) {
		bool v11 = true;
		branch_Bool_10 = v11;
		branch_ZPlusMirth_9 = v7;
	} else {
		PTUP v12;
		bool v13 = mw_mirth_token_Token_vdashZAsk(v7, v6, &v12);
		branch_Bool_10 = v13;
		branch_ZPlusMirth_9 = v12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static PTUP mw_mirth_token_Token_patZ_tokens (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_runZ_tokens(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	PTUP r10 = v5;
	PTUP v11 = v6;
	PTUP r12 = v8;
	bool v13 = v9;
	bool v14 = v9;
	while (v14) {
		PTUP r15 = r10;
		PTUP v16 = v11;
		PTUP r17 = r12;
		bool v18 = v13;
		PTUP v19;
		PTUP v20 = mw_std_list_List_1_uncons(v16, &v19);
		PTUP branch_ZPlusMirth_21;
		PTUP branch_Maybe_22;
		switch (PTREXTRA(v20)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v20);
				PTUP v24;
				bool v25 = mw_mirth_token_Token_arrowZAsk(r15, value_u64(v23), &v24);
				bool v26 = !v25;
				PTUP branch_ZPlusMirth_27;
				PTUP branch_Maybe_28;
				if (v26) {
					PTUP v29 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v23)));
					branch_Maybe_28 = v29;
					branch_ZPlusMirth_27 = v24;
				} else {
					PTUP v30 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_28 = v30;
					branch_ZPlusMirth_27 = v24;
				}
				branch_Maybe_22 = branch_Maybe_28;
				branch_ZPlusMirth_21 = branch_ZPlusMirth_27;
			} break;
			case 0LL: { // None
				PTUP v31 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_22 = v31;
				branch_ZPlusMirth_21 = r15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		PTUP v32;
		bool v33 = mw_std_maybe_Maybe_1_ifZAsk_2_sp69(r17, branch_Maybe_22, &v32);
		v14 = v33;
		v13 = v33;
		r12 = v32;
		v11 = v19;
		r10 = branch_ZPlusMirth_21;
	}
	PTUP v34 = mw_std_list_ZPlusLister_1_doneZBang(r12);
	decref(MKTUP(v11));
	*out_ZPlusMirth_3 = r10;
	return VTUP(MKTUP(v34));
}
static uint64_t mw_mirth_token_Token_cloneZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	uint64_t v7 = mw_mirth_token_Token_toZ_runZ_end(in_ZPlusMirth_1, in_Token_3, &v6);
	PTUP v8;
	uint64_t v9 = mw_mirth_token_Token_allocZ_noneZBang(v6, &v8);
	incref(MKTUP(in_Location_2));
	PTUP v10;
	mw_mirth_token_Token_locationZBang(v8, in_Location_2, v9, &v10);
	INT v11 = u64_to_int(v7);
	INT v12 = u64_to_int(in_Token_3);
	INT v13 = int_sub(v11, v12);
	incref(MKINT(v13));
	INT v14 = WRAP_I63(0LL);
	INT v15 = v14;
	bool v16 = int_le(v15, v13);
	INT branch_Nat_17;
	if (v16) {
		INT v18 = v13;
		branch_Nat_17 = v18;
	} else {
		decref(MKINT(v13));
		INT v19 = WRAP_I63(0LL);
		branch_Nat_17 = v19;
	}
	INT v20 = WRAP_I63(1LL);
	INT v21 = branch_Nat_17;
	INT v22 = v20;
	INT v23 = int_add(v21, v22);
	INT v24 = v23;
	incref(MKNAT(v24));
	INT v25 = WRAP_I63(0LL);
	INT v26 = v24;
	INT v27 = v25;
	bool v28 = int_lt(v27, v26);
	PTUP r29 = v10;
	PTUP v30 = in_Location_2;
	INT v31 = v24;
	bool v32 = v28;
	while (v32) {
		PTUP r33 = r29;
		PTUP v34 = v30;
		INT v35 = v31;
		incref(MKTUP(v34));
		PTUP v36;
		uint64_t v37 = mw_mirth_token_Token_allocZ_noneZBang(r33, &v36);
		PTUP v38;
		mw_mirth_token_Token_locationZBang(v36, v34, v37, &v38);
		INT v39 = WRAP_I63(1LL);
		INT v40 = v35;
		INT v41 = v39;
		INT v42 = int_sub(v40, v41);
		incref(MKINT(v42));
		INT v43 = WRAP_I63(0LL);
		INT v44 = v43;
		bool v45 = int_le(v44, v42);
		INT branch_Nat_46;
		if (v45) {
			INT v47 = v42;
			branch_Nat_46 = v47;
		} else {
			decref(MKINT(v42));
			INT v48 = WRAP_I63(0LL);
			branch_Nat_46 = v48;
		}
		incref(MKNAT(branch_Nat_46));
		INT v49 = WRAP_I63(0LL);
		INT v50 = branch_Nat_46;
		INT v51 = v49;
		bool v52 = int_lt(v51, v50);
		v32 = v52;
		v31 = branch_Nat_46;
		v30 = v34;
		r29 = v38;
	}
	decref(MKNAT(v31));
	PTUP v53;
	uint64_t v54 = mw_mirth_token_Token_succ(r29, v9, &v53);
	bool v55 = (in_Token_3 < v7);
	PTUP v56 = v30;
	PTUP r57 = v53;
	uint64_t v58 = v54;
	uint64_t v59 = v54;
	uint64_t v60 = in_Token_3;
	uint64_t v61 = in_Token_3;
	uint64_t v62 = v7;
	bool v63 = v55;
	while (v63) {
		PTUP v64 = v56;
		PTUP r65 = r57;
		uint64_t v66 = v58;
		uint64_t v67 = v59;
		uint64_t v68 = v60;
		uint64_t v69 = v61;
		uint64_t v70 = v62;
		PTUP v71;
		PTUP v72 = mw_mirth_token_Token_value(r65, v69, &v71);
		uint64_t branch_Token_73;
		uint64_t branch_Token_74;
		PTUP branch_ZPlusMirth_75;
		PTUP branch_TokenValue_76;
		switch (PTREXTRA(v72)) {
			case 6LL: { // LParen
				uint64_t v77 = mtp_mirth_token_TokenValue_LParen(v72);
				INT v78 = u64_to_int(v77);
				INT v79 = u64_to_int(v66);
				INT v80 = int_add(v78, v79);
				INT v81 = WRAP_I63(1LL);
				INT v82 = v81;
				INT v83 = int_add(v80, v82);
				INT v84 = u64_to_int(v69);
				INT v85 = int_sub(v83, v84);
				INT v86 = WRAP_I63(0LL);
				INT v87 = WRAP_I63(-1LL);
				uint64_t v88 = int_to_u64(v87);
				INT v89 = u64_to_int(v88);
				incref(MKINT(v85));
				incref(MKINT(v86));
				bool v90 = int_lt(value_int(MKINT(v85)), value_int(MKINT(v86)));
				INT branch_Int_91;
				if (v90) {
					decref(MKINT(value_int(MKINT(v85))));
					branch_Int_91 = value_int(MKINT(value_int(MKINT(v86))));
				} else {
					decref(MKINT(value_int(MKINT(v86))));
					branch_Int_91 = value_int(MKINT(v85));
				}
				incref(MKINT(branch_Int_91));
				incref(MKINT(v89));
				bool v92 = int_lt(value_int(MKINT(v89)), value_int(MKINT(branch_Int_91)));
				INT branch_Int_93;
				if (v92) {
					decref(MKINT(value_int(MKINT(branch_Int_91))));
					branch_Int_93 = value_int(MKINT(value_int(MKINT(v89))));
				} else {
					decref(MKINT(value_int(MKINT(v89))));
					branch_Int_93 = value_int(MKINT(branch_Int_91));
				}
				uint64_t v94 = int_to_u64(branch_Int_93);
				PTUP v95;
				uint64_t v96 = mw_mirth_token_Token_fromZ_index(v71, v94, &v95);
				PTUP v97 = mtw_mirth_token_TokenValue_LParen(v96);
				branch_TokenValue_76 = v97;
				branch_ZPlusMirth_75 = v95;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
			case 7LL: { // RParen
				uint64_t v98 = mtp_mirth_token_TokenValue_RParen(v72);
				INT v99 = u64_to_int(v98);
				INT v100 = u64_to_int(v66);
				INT v101 = int_add(v99, v100);
				INT v102 = WRAP_I63(1LL);
				INT v103 = v102;
				INT v104 = int_add(v101, v103);
				INT v105 = u64_to_int(v69);
				INT v106 = int_sub(v104, v105);
				INT v107 = WRAP_I63(0LL);
				INT v108 = WRAP_I63(-1LL);
				uint64_t v109 = int_to_u64(v108);
				INT v110 = u64_to_int(v109);
				incref(MKINT(v106));
				incref(MKINT(v107));
				bool v111 = int_lt(value_int(MKINT(v106)), value_int(MKINT(v107)));
				INT branch_Int_112;
				if (v111) {
					decref(MKINT(value_int(MKINT(v106))));
					branch_Int_112 = value_int(MKINT(value_int(MKINT(v107))));
				} else {
					decref(MKINT(value_int(MKINT(v107))));
					branch_Int_112 = value_int(MKINT(v106));
				}
				incref(MKINT(branch_Int_112));
				incref(MKINT(v110));
				bool v113 = int_lt(value_int(MKINT(v110)), value_int(MKINT(branch_Int_112)));
				INT branch_Int_114;
				if (v113) {
					decref(MKINT(value_int(MKINT(branch_Int_112))));
					branch_Int_114 = value_int(MKINT(value_int(MKINT(v110))));
				} else {
					decref(MKINT(value_int(MKINT(v110))));
					branch_Int_114 = value_int(MKINT(branch_Int_112));
				}
				uint64_t v115 = int_to_u64(branch_Int_114);
				PTUP v116;
				uint64_t v117 = mw_mirth_token_Token_fromZ_index(v71, v115, &v116);
				PTUP v118 = mtw_mirth_token_TokenValue_RParen(v117);
				branch_TokenValue_76 = v118;
				branch_ZPlusMirth_75 = v116;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
			case 10LL: { // LCurly
				uint64_t v119 = mtp_mirth_token_TokenValue_LCurly(v72);
				INT v120 = u64_to_int(v119);
				INT v121 = u64_to_int(v66);
				INT v122 = int_add(v120, v121);
				INT v123 = WRAP_I63(1LL);
				INT v124 = v123;
				INT v125 = int_add(v122, v124);
				INT v126 = u64_to_int(v69);
				INT v127 = int_sub(v125, v126);
				INT v128 = WRAP_I63(0LL);
				INT v129 = WRAP_I63(-1LL);
				uint64_t v130 = int_to_u64(v129);
				INT v131 = u64_to_int(v130);
				incref(MKINT(v127));
				incref(MKINT(v128));
				bool v132 = int_lt(value_int(MKINT(v127)), value_int(MKINT(v128)));
				INT branch_Int_133;
				if (v132) {
					decref(MKINT(value_int(MKINT(v127))));
					branch_Int_133 = value_int(MKINT(value_int(MKINT(v128))));
				} else {
					decref(MKINT(value_int(MKINT(v128))));
					branch_Int_133 = value_int(MKINT(v127));
				}
				incref(MKINT(branch_Int_133));
				incref(MKINT(v131));
				bool v134 = int_lt(value_int(MKINT(v131)), value_int(MKINT(branch_Int_133)));
				INT branch_Int_135;
				if (v134) {
					decref(MKINT(value_int(MKINT(branch_Int_133))));
					branch_Int_135 = value_int(MKINT(value_int(MKINT(v131))));
				} else {
					decref(MKINT(value_int(MKINT(v131))));
					branch_Int_135 = value_int(MKINT(branch_Int_133));
				}
				uint64_t v136 = int_to_u64(branch_Int_135);
				PTUP v137;
				uint64_t v138 = mw_mirth_token_Token_fromZ_index(v71, v136, &v137);
				PTUP v139 = mtw_mirth_token_TokenValue_LCurly(v138);
				branch_TokenValue_76 = v139;
				branch_ZPlusMirth_75 = v137;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
			case 11LL: { // RCurly
				uint64_t v140 = mtp_mirth_token_TokenValue_RCurly(v72);
				INT v141 = u64_to_int(v140);
				INT v142 = u64_to_int(v66);
				INT v143 = int_add(v141, v142);
				INT v144 = WRAP_I63(1LL);
				INT v145 = v144;
				INT v146 = int_add(v143, v145);
				INT v147 = u64_to_int(v69);
				INT v148 = int_sub(v146, v147);
				INT v149 = WRAP_I63(0LL);
				INT v150 = WRAP_I63(-1LL);
				uint64_t v151 = int_to_u64(v150);
				INT v152 = u64_to_int(v151);
				incref(MKINT(v148));
				incref(MKINT(v149));
				bool v153 = int_lt(value_int(MKINT(v148)), value_int(MKINT(v149)));
				INT branch_Int_154;
				if (v153) {
					decref(MKINT(value_int(MKINT(v148))));
					branch_Int_154 = value_int(MKINT(value_int(MKINT(v149))));
				} else {
					decref(MKINT(value_int(MKINT(v149))));
					branch_Int_154 = value_int(MKINT(v148));
				}
				incref(MKINT(branch_Int_154));
				incref(MKINT(v152));
				bool v155 = int_lt(value_int(MKINT(v152)), value_int(MKINT(branch_Int_154)));
				INT branch_Int_156;
				if (v155) {
					decref(MKINT(value_int(MKINT(branch_Int_154))));
					branch_Int_156 = value_int(MKINT(value_int(MKINT(v152))));
				} else {
					decref(MKINT(value_int(MKINT(v152))));
					branch_Int_156 = value_int(MKINT(branch_Int_154));
				}
				uint64_t v157 = int_to_u64(branch_Int_156);
				PTUP v158;
				uint64_t v159 = mw_mirth_token_Token_fromZ_index(v71, v157, &v158);
				PTUP v160 = mtw_mirth_token_TokenValue_RCurly(v159);
				branch_TokenValue_76 = v160;
				branch_ZPlusMirth_75 = v158;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
			case 8LL: { // LSquare
				uint64_t v161 = mtp_mirth_token_TokenValue_LSquare(v72);
				INT v162 = u64_to_int(v161);
				INT v163 = u64_to_int(v66);
				INT v164 = int_add(v162, v163);
				INT v165 = WRAP_I63(1LL);
				INT v166 = v165;
				INT v167 = int_add(v164, v166);
				INT v168 = u64_to_int(v69);
				INT v169 = int_sub(v167, v168);
				INT v170 = WRAP_I63(0LL);
				INT v171 = WRAP_I63(-1LL);
				uint64_t v172 = int_to_u64(v171);
				INT v173 = u64_to_int(v172);
				incref(MKINT(v169));
				incref(MKINT(v170));
				bool v174 = int_lt(value_int(MKINT(v169)), value_int(MKINT(v170)));
				INT branch_Int_175;
				if (v174) {
					decref(MKINT(value_int(MKINT(v169))));
					branch_Int_175 = value_int(MKINT(value_int(MKINT(v170))));
				} else {
					decref(MKINT(value_int(MKINT(v170))));
					branch_Int_175 = value_int(MKINT(v169));
				}
				incref(MKINT(branch_Int_175));
				incref(MKINT(v173));
				bool v176 = int_lt(value_int(MKINT(v173)), value_int(MKINT(branch_Int_175)));
				INT branch_Int_177;
				if (v176) {
					decref(MKINT(value_int(MKINT(branch_Int_175))));
					branch_Int_177 = value_int(MKINT(value_int(MKINT(v173))));
				} else {
					decref(MKINT(value_int(MKINT(v173))));
					branch_Int_177 = value_int(MKINT(branch_Int_175));
				}
				uint64_t v178 = int_to_u64(branch_Int_177);
				PTUP v179;
				uint64_t v180 = mw_mirth_token_Token_fromZ_index(v71, v178, &v179);
				PTUP v181 = mtw_mirth_token_TokenValue_LSquare(v180);
				branch_TokenValue_76 = v181;
				branch_ZPlusMirth_75 = v179;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
			case 9LL: { // RSquare
				uint64_t v182 = mtp_mirth_token_TokenValue_RSquare(v72);
				INT v183 = u64_to_int(v182);
				INT v184 = u64_to_int(v66);
				INT v185 = int_add(v183, v184);
				INT v186 = WRAP_I63(1LL);
				INT v187 = v186;
				INT v188 = int_add(v185, v187);
				INT v189 = u64_to_int(v69);
				INT v190 = int_sub(v188, v189);
				INT v191 = WRAP_I63(0LL);
				INT v192 = WRAP_I63(-1LL);
				uint64_t v193 = int_to_u64(v192);
				INT v194 = u64_to_int(v193);
				incref(MKINT(v190));
				incref(MKINT(v191));
				bool v195 = int_lt(value_int(MKINT(v190)), value_int(MKINT(v191)));
				INT branch_Int_196;
				if (v195) {
					decref(MKINT(value_int(MKINT(v190))));
					branch_Int_196 = value_int(MKINT(value_int(MKINT(v191))));
				} else {
					decref(MKINT(value_int(MKINT(v191))));
					branch_Int_196 = value_int(MKINT(v190));
				}
				incref(MKINT(branch_Int_196));
				incref(MKINT(v194));
				bool v197 = int_lt(value_int(MKINT(v194)), value_int(MKINT(branch_Int_196)));
				INT branch_Int_198;
				if (v197) {
					decref(MKINT(value_int(MKINT(branch_Int_196))));
					branch_Int_198 = value_int(MKINT(value_int(MKINT(v194))));
				} else {
					decref(MKINT(value_int(MKINT(v194))));
					branch_Int_198 = value_int(MKINT(branch_Int_196));
				}
				uint64_t v199 = int_to_u64(branch_Int_198);
				PTUP v200;
				uint64_t v201 = mw_mirth_token_Token_fromZ_index(v71, v199, &v200);
				PTUP v202 = mtw_mirth_token_TokenValue_RSquare(v201);
				branch_TokenValue_76 = v202;
				branch_ZPlusMirth_75 = v200;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
			case 12LL: { // LColon
				uint64_t v203 = mtp_mirth_token_TokenValue_LColon(v72);
				INT v204 = u64_to_int(v203);
				INT v205 = u64_to_int(v66);
				INT v206 = int_add(v204, v205);
				INT v207 = WRAP_I63(1LL);
				INT v208 = v207;
				INT v209 = int_add(v206, v208);
				INT v210 = u64_to_int(v69);
				INT v211 = int_sub(v209, v210);
				INT v212 = WRAP_I63(0LL);
				INT v213 = WRAP_I63(-1LL);
				uint64_t v214 = int_to_u64(v213);
				INT v215 = u64_to_int(v214);
				incref(MKINT(v211));
				incref(MKINT(v212));
				bool v216 = int_lt(value_int(MKINT(v211)), value_int(MKINT(v212)));
				INT branch_Int_217;
				if (v216) {
					decref(MKINT(value_int(MKINT(v211))));
					branch_Int_217 = value_int(MKINT(value_int(MKINT(v212))));
				} else {
					decref(MKINT(value_int(MKINT(v212))));
					branch_Int_217 = value_int(MKINT(v211));
				}
				incref(MKINT(branch_Int_217));
				incref(MKINT(v215));
				bool v218 = int_lt(value_int(MKINT(v215)), value_int(MKINT(branch_Int_217)));
				INT branch_Int_219;
				if (v218) {
					decref(MKINT(value_int(MKINT(branch_Int_217))));
					branch_Int_219 = value_int(MKINT(value_int(MKINT(v215))));
				} else {
					decref(MKINT(value_int(MKINT(v215))));
					branch_Int_219 = value_int(MKINT(branch_Int_217));
				}
				uint64_t v220 = int_to_u64(branch_Int_219);
				PTUP v221;
				uint64_t v222 = mw_mirth_token_Token_fromZ_index(v71, v220, &v221);
				PTUP v223 = mtw_mirth_token_TokenValue_LColon(v222);
				branch_TokenValue_76 = v223;
				branch_ZPlusMirth_75 = v221;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
			case 13LL: { // RColon
				uint64_t v224 = mtp_mirth_token_TokenValue_RColon(v72);
				INT v225 = u64_to_int(v224);
				INT v226 = u64_to_int(v66);
				INT v227 = int_add(v225, v226);
				INT v228 = WRAP_I63(1LL);
				INT v229 = v228;
				INT v230 = int_add(v227, v229);
				INT v231 = u64_to_int(v69);
				INT v232 = int_sub(v230, v231);
				INT v233 = WRAP_I63(0LL);
				INT v234 = WRAP_I63(-1LL);
				uint64_t v235 = int_to_u64(v234);
				INT v236 = u64_to_int(v235);
				incref(MKINT(v232));
				incref(MKINT(v233));
				bool v237 = int_lt(value_int(MKINT(v232)), value_int(MKINT(v233)));
				INT branch_Int_238;
				if (v237) {
					decref(MKINT(value_int(MKINT(v232))));
					branch_Int_238 = value_int(MKINT(value_int(MKINT(v233))));
				} else {
					decref(MKINT(value_int(MKINT(v233))));
					branch_Int_238 = value_int(MKINT(v232));
				}
				incref(MKINT(branch_Int_238));
				incref(MKINT(v236));
				bool v239 = int_lt(value_int(MKINT(v236)), value_int(MKINT(branch_Int_238)));
				INT branch_Int_240;
				if (v239) {
					decref(MKINT(value_int(MKINT(branch_Int_238))));
					branch_Int_240 = value_int(MKINT(value_int(MKINT(v236))));
				} else {
					decref(MKINT(value_int(MKINT(v236))));
					branch_Int_240 = value_int(MKINT(branch_Int_238));
				}
				uint64_t v241 = int_to_u64(branch_Int_240);
				PTUP v242;
				uint64_t v243 = mw_mirth_token_Token_fromZ_index(v71, v241, &v242);
				PTUP v244 = mtw_mirth_token_TokenValue_RColon(v243);
				branch_TokenValue_76 = v244;
				branch_ZPlusMirth_75 = v242;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
			default: {
				branch_TokenValue_76 = v72;
				branch_ZPlusMirth_75 = v71;
				branch_Token_74 = v69;
				branch_Token_73 = v66;
			} break;
		}
		PTUP v245;
		mw_mirth_token_Token_valueZBang(branch_ZPlusMirth_75, branch_TokenValue_76, v67, &v245);
		PTUP v246;
		uint64_t v247 = mw_mirth_token_Token_succ(v245, branch_Token_74, &v246);
		PTUP v248;
		uint64_t v249 = mw_mirth_token_Token_succ(v246, v67, &v248);
		bool v250 = (v247 < v70);
		v63 = v250;
		v62 = v70;
		v61 = v247;
		v60 = v68;
		v59 = v249;
		v58 = branch_Token_73;
		r57 = v248;
		v56 = v64;
	}
	decref(MKU64(v59));
	decref(MKU64(v61));
	decref(MKU64(v62));
	decref(MKU64(v60));
	decref(MKTUP(v56));
	*out_ZPlusMirth_4 = r57;
	return v58;
}
static uint64_t mw_mirth_alias_Alias_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_alias_Alias_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_alias_Alias_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_alias_Alias_MakeZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, INT in_Int_5, PTUP *out_ZPlusMirth_6) {
	PTUP v8;
	uint64_t v9 = mw_mirth_alias_Alias_AllocZBang(in_ZPlusMirth_1, &v8);
	void* v10 = field_mut(&mfld_mirth_alias_Alias_doc, v9);
	mut_set(MKTUP(in_Maybe_2), v10);
	void* v11 = field_mut(&mfld_mirth_alias_Alias_head, v9);
	mut_set(MKU64(in_Token_3), v11);
	void* v12 = field_mut(&mfld_mirth_alias_Alias_name, v9);
	mut_set(MKU64(in_Name_4), v12);
	void* v13 = field_mut(&mfld_mirth_alias_Alias_arity, v9);
	mut_set(MKINT(in_Int_5), v13);
	*out_ZPlusMirth_6 = v8;
	return v9;
}
static uint64_t mw_mirth_alias_Alias_head (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_head, in_Alias_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_alias_Alias_name (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_name, in_Alias_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_alias_Alias_arity (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_arity, in_Alias_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static PTUP mw_mirth_alias_Alias_qnameZ_soft (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildeqname, in_Alias_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static PTUP mw_mirth_alias_Alias_qnameZ_hard (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildeqname, in_Alias_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static PTUP mw_mirth_alias_Alias_namespace (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_alias_Alias_qnameZ_hard(in_ZPlusMirth_1, in_Alias_2, &v5);
	PTUP v7 = VTUP(((TUP*)PTRPTR(v6))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(v6));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static PTUP mw_mirth_alias_Alias_target (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, in_Alias_2);
	PTUP v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return VTUP(v7);
}
static void mw_mirth_alias_Alias_registerZBang (PTUP in_ZPlusMirth_1, uint64_t in_Alias_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4 = mtw_mirth_def_Def_Alias(in_Alias_2);
	PTUP v5;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v4, &v5);
	*out_ZPlusMirth_3 = v5;
}
static uint64_t mw_mirth_alias_parseZ_alias (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, PTUP *out_Either_7, PTUP *out_Maybe_8) {
	PTUP v9;
	PTUP v10 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v9);
	PTUP v11;
	uint64_t v12 = mw_mirth_token_Token_succ(v9, in_Token_2, &v11);
	PTUP v13;
	PTUP v14 = mw_mirth_token_Token_lparenZAsk(v11, v12, &v13);
	int64_t v15 = PTREXTRA(v14);
	decref(MKTUP(v14));
	INT v16 = WRAP_I63(0LL);
	INT v17 = v16;
	INT v18 = i64_to_int(v15);
	bool v19 = int_eq(v18, v17);
	bool v20 = !v19;
	PTUP branch_Maybe_21;
	bool branch_Bool_22;
	uint64_t branch_Token_23;
	PTUP branch_ZPlusMirth_24;
	uint64_t branch_Token_25;
	uint64_t branch_Token_26;
	if (v20) {
		PTUP v27;
		uint64_t v28 = mw_mirth_token_Token_next(v13, in_Token_2, &v27);
		PTUP v29;
		uint64_t v30;
		uint64_t v31 = mw_mirth_token_Token_argsZ_2(v27, in_Token_2, &v29, &v30);
		branch_Token_26 = v31;
		branch_Token_25 = v30;
		branch_ZPlusMirth_24 = v29;
		branch_Token_23 = v28;
		branch_Bool_22 = v20;
		branch_Maybe_21 = v10;
	} else {
		PTUP v32;
		uint64_t v33 = mw_mirth_token_Token_next(v13, in_Token_2, &v32);
		PTUP v34;
		uint64_t v35 = mw_mirth_token_Token_next(v32, v33, &v34);
		PTUP v36;
		uint64_t v37 = mw_mirth_token_Token_next(v34, v35, &v36);
		branch_Token_26 = v33;
		branch_Token_25 = v35;
		branch_ZPlusMirth_24 = v36;
		branch_Token_23 = v37;
		branch_Bool_22 = v20;
		branch_Maybe_21 = v10;
	}
	PTUP v38;
	PTUP v39 = mw_mirth_token_Token_nameZDivdnameZAsk(branch_ZPlusMirth_24, branch_Token_26, &v38);
	int64_t v40 = PTREXTRA(v39);
	decref(MKTUP(v39));
	INT v41 = WRAP_I63(0LL);
	INT v42 = v41;
	INT v43 = i64_to_int(v40);
	bool v44 = int_eq(v43, v42);
	bool v45 = !v44;
	PTUP branch_ZPlusMirth_46;
	uint64_t branch_Token_47;
	if (v45) {
		branch_Token_47 = branch_Token_26;
		branch_ZPlusMirth_46 = v38;
	} else {
		STR* v48;
		STRLIT(v48, "expected alias name", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v38, branch_Token_26, v48);
	}
	PTUP v50;
	PTUP v51 = mw_mirth_token_Token_nameZDivdnameZAsk(branch_ZPlusMirth_46, branch_Token_25, &v50);
	PTUP branch_ZPlusMirth_52;
	uint64_t branch_Token_53;
	VAL branch_z_x1_54;
	switch (PTREXTRA(v51)) {
		case 1LL: { // Some
			VAL v55 = mtp_std_maybe_Maybe_1_Some(v51);
			branch_z_x1_54 = v55;
			branch_Token_53 = branch_Token_25;
			branch_ZPlusMirth_52 = v50;
		} break;
		case 0LL: { // None
			STR* v56;
			STRLIT(v56, "expected alias target, which must be a name", 43);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v50, branch_Token_25, v56);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v59;
	mw_mirth_token_Token_argsZ_0(branch_ZPlusMirth_52, branch_Token_53, &v59);
	uint64_t branch_Token_60;
	uint64_t branch_Token_61;
	PTUP branch_ZPlusMirth_62;
	if (branch_Bool_22) {
		PTUP v63;
		uint64_t v64 = mw_mirth_token_Token_next(v59, branch_Token_47, &v63);
		PTUP v65;
		bool v66 = mw_mirth_token_Token_argZ_endZAsk(v63, v64, &v65);
		PTUP branch_ZPlusMirth_67;
		uint64_t branch_Token_68;
		if (v66) {
			branch_Token_68 = branch_Token_47;
			branch_ZPlusMirth_67 = v65;
		} else {
			STR* v69;
			STRLIT(v69, "expected comma after alias name", 31);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v65, branch_Token_47, v69);
		}
		PTUP v71;
		uint64_t v72 = mw_mirth_token_Token_succ(branch_ZPlusMirth_67, branch_Token_53, &v71);
		PTUP v73;
		bool v74 = mw_mirth_token_Token_argZ_endZAsk(v71, v72, &v73);
		PTUP branch_ZPlusMirth_75;
		uint64_t branch_Token_76;
		if (v74) {
			branch_Token_76 = branch_Token_68;
			branch_ZPlusMirth_75 = v73;
		} else {
			STR* v77;
			STRLIT(v77, "expected end of arguments after alias target", 44);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v73, branch_Token_68, v77);
		}
		branch_ZPlusMirth_62 = branch_ZPlusMirth_75;
		branch_Token_61 = branch_Token_53;
		branch_Token_60 = branch_Token_76;
	} else {
		branch_ZPlusMirth_62 = v59;
		branch_Token_61 = branch_Token_53;
		branch_Token_60 = branch_Token_47;
	}
	*out_Maybe_8 = branch_Maybe_21;
	*out_Either_7 = VTUP(branch_z_x1_54);
	*out_Token_6 = branch_Token_61;
	*out_Token_5 = branch_Token_60;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_62;
	return branch_Token_23;
}
static uint64_t mw_mirth_alias_elabZ_aliasZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6;
	uint64_t v7;
	PTUP v8;
	PTUP v9;
	uint64_t v10 = mw_mirth_alias_parseZ_alias(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8, &v9);
	PTUP v11;
	uint64_t v12;
	uint64_t v13;
	INT v14;
	PTUP v15;
	mw_mirth_elab_elabZ_defZ_head(v5, v6, &v11, &v12, &v13, &v14, &v15);
	INT v16 = v14;
	PTUP v17;
	uint64_t v18 = mw_mirth_alias_Alias_MakeZBang(v11, v9, v12, v13, v16, &v17);
	PTUP v19;
	mw_mirth_alias_Alias_registerZBang(v17, v18, &v19);
	PTUP v20 = mtw_mirth_mirth_PropLabel_AliasQName(v18);
	PTUP v21 = mtw_mirth_mirth_Prop_1_Prop(v20, v15);
	incref(MKU64(v18));
	void* v22 = field_mut(&mfld_mirth_alias_Alias_ZTildeqname, value_u64(MKU64(v18)));
	mut_set(MKTUP(v21), v22);
	incref(MKU64(v18));
	PTUP v23 = mtw_mirth_mirth_PropLabel_AliasTarget(value_u64(MKU64(v18)));
	PTUP r24 = PTRMK(0,tup_new(3),0);
	((TUP*)PTRPTR(r24))->size = 3;
	((TUP*)PTRPTR(r24))->cells[2] = MKU64(value_u64(MKU64(v18)));
	((TUP*)PTRPTR(r24))->cells[1] = MKU64(value_u64(MKU64(v7)));
	((TUP*)PTRPTR(r24))->cells[0] = MKTUP(VTUP(MKTUP(v8)));
	PTUP v25 = VTUP(((TUP*)PTRPTR(v19))->cells[6]);
	incref(MKTUP(v25));
	FNPTR v26 = &mb_mirth_mirth_PropLabel_prop_1_sp53_0;
	PTUP v27 = mtw_mirth_mirth_PropState_1_Delay(v25, MKTUP(r24), MKFNPTR(v26));
	PTUP v28 = mtw_mirth_mirth_Prop_1_Prop(v23, v27);
	void* v29 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, value_u64(MKU64(v18)));
	mut_set(MKTUP(v28), v29);
	*out_ZPlusMirth_3 = v19;
	return v10;
}
static PTUP mw_mirth_def_Def_packageZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 2LL: { // Package
			uint64_t v4 = mtp_mirth_def_Def_Package(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_moduleZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 1LL: { // Module
			uint64_t v4 = mtp_mirth_def_Def_Module(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_aliasZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 0LL: { // Alias
			uint64_t v4 = mtp_mirth_def_Def_Alias(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_dataZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 3LL: { // Data
			uint64_t v4 = mtp_mirth_def_Def_Data(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_tableZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 4LL: { // Table
			uint64_t v4 = mtp_mirth_def_Def_Table(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_typedefZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 5LL: { // Type
			uint64_t v4 = mtp_mirth_def_Def_Type(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_tagZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 6LL: { // Tag
			uint64_t v4 = mtp_mirth_def_Def_Tag(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_primZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 7LL: { // Prim
			int64_t v4 = mtp_mirth_def_Def_Prim(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKI64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_wordZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 8LL: { // Word
			uint64_t v4 = mtp_mirth_def_Def_Word(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_bufferZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 9LL: { // Buffer
			uint64_t v4 = mtp_mirth_def_Def_Buffer(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_externalZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 10LL: { // External
			uint64_t v4 = mtp_mirth_def_Def_External(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_fieldZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 11LL: { // Field
			uint64_t v4 = mtp_mirth_def_Def_Field(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_def_Def_macroZAsk (PTUP in_Def_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Def_1)) {
		case 12LL: { // Macro
			uint64_t v4 = mtp_mirth_def_Def_Macro(in_Def_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_Def_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static bool mw_mirth_def_Def_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Def_3)) {
		case 2LL: { // Package
			uint64_t v8 = mtp_mirth_def_Def_Package(in_Def_3);
			PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKU64(v8));
			PTUP v10 = mw_mirth_def_Def_packageZAsk(in_Def_2);
			bool branch_Bool_11;
			switch (PTREXTRA(v10)) {
				case 0LL: { // None
					int64_t v12 = PTREXTRA(v9);
					decref(MKTUP(v9));
					INT v13 = WRAP_I63(0LL);
					INT v14 = v13;
					INT v15 = i64_to_int(v12);
					bool v16 = int_eq(v15, v14);
					branch_Bool_11 = v16;
				} break;
				case 1LL: { // Some
					VAL v17 = mtp_std_maybe_Maybe_1_Some(v10);
					bool branch_Bool_18;
					switch (PTREXTRA(v9)) {
						case 1LL: { // Some
							VAL v19 = mtp_std_maybe_Maybe_1_Some(v9);
							bool v20 = (value_u64(v17) == value_u64(v19));
							branch_Bool_18 = v20;
						} break;
						case 0LL: { // None
							bool v21 = false;
							branch_Bool_18 = v21;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_11 = branch_Bool_18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v22 = mtp_mirth_def_Def_Module(in_Def_3);
			PTUP v23 = mtw_std_maybe_Maybe_1_Some(MKU64(v22));
			PTUP v24 = mw_mirth_def_Def_moduleZAsk(in_Def_2);
			bool branch_Bool_25;
			switch (PTREXTRA(v24)) {
				case 0LL: { // None
					int64_t v26 = PTREXTRA(v23);
					decref(MKTUP(v23));
					INT v27 = WRAP_I63(0LL);
					INT v28 = v27;
					INT v29 = i64_to_int(v26);
					bool v30 = int_eq(v29, v28);
					branch_Bool_25 = v30;
				} break;
				case 1LL: { // Some
					VAL v31 = mtp_std_maybe_Maybe_1_Some(v24);
					bool branch_Bool_32;
					switch (PTREXTRA(v23)) {
						case 1LL: { // Some
							VAL v33 = mtp_std_maybe_Maybe_1_Some(v23);
							bool v34 = (value_u64(v31) == value_u64(v33));
							branch_Bool_32 = v34;
						} break;
						case 0LL: { // None
							bool v35 = false;
							branch_Bool_32 = v35;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_25 = branch_Bool_32;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_25;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Alias
			uint64_t v36 = mtp_mirth_def_Def_Alias(in_Def_3);
			PTUP v37 = mtw_std_maybe_Maybe_1_Some(MKU64(v36));
			PTUP v38 = mw_mirth_def_Def_aliasZAsk(in_Def_2);
			bool branch_Bool_39;
			switch (PTREXTRA(v38)) {
				case 0LL: { // None
					int64_t v40 = PTREXTRA(v37);
					decref(MKTUP(v37));
					INT v41 = WRAP_I63(0LL);
					INT v42 = v41;
					INT v43 = i64_to_int(v40);
					bool v44 = int_eq(v43, v42);
					branch_Bool_39 = v44;
				} break;
				case 1LL: { // Some
					VAL v45 = mtp_std_maybe_Maybe_1_Some(v38);
					bool branch_Bool_46;
					switch (PTREXTRA(v37)) {
						case 1LL: { // Some
							VAL v47 = mtp_std_maybe_Maybe_1_Some(v37);
							bool v48 = (value_u64(v45) == value_u64(v47));
							branch_Bool_46 = v48;
						} break;
						case 0LL: { // None
							bool v49 = false;
							branch_Bool_46 = v49;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_39 = branch_Bool_46;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_39;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v50 = mtp_mirth_def_Def_Data(in_Def_3);
			PTUP v51 = mtw_std_maybe_Maybe_1_Some(MKU64(v50));
			PTUP v52 = mw_mirth_def_Def_dataZAsk(in_Def_2);
			bool branch_Bool_53;
			switch (PTREXTRA(v52)) {
				case 0LL: { // None
					int64_t v54 = PTREXTRA(v51);
					decref(MKTUP(v51));
					INT v55 = WRAP_I63(0LL);
					INT v56 = v55;
					INT v57 = i64_to_int(v54);
					bool v58 = int_eq(v57, v56);
					branch_Bool_53 = v58;
				} break;
				case 1LL: { // Some
					VAL v59 = mtp_std_maybe_Maybe_1_Some(v52);
					bool branch_Bool_60;
					switch (PTREXTRA(v51)) {
						case 1LL: { // Some
							VAL v61 = mtp_std_maybe_Maybe_1_Some(v51);
							bool v62 = (value_u64(v59) == value_u64(v61));
							branch_Bool_60 = v62;
						} break;
						case 0LL: { // None
							bool v63 = false;
							branch_Bool_60 = v63;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_53 = branch_Bool_60;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_53;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v64 = mtp_mirth_def_Def_Table(in_Def_3);
			PTUP v65 = mtw_std_maybe_Maybe_1_Some(MKU64(v64));
			PTUP v66 = mw_mirth_def_Def_tableZAsk(in_Def_2);
			bool branch_Bool_67;
			switch (PTREXTRA(v66)) {
				case 0LL: { // None
					int64_t v68 = PTREXTRA(v65);
					decref(MKTUP(v65));
					INT v69 = WRAP_I63(0LL);
					INT v70 = v69;
					INT v71 = i64_to_int(v68);
					bool v72 = int_eq(v71, v70);
					branch_Bool_67 = v72;
				} break;
				case 1LL: { // Some
					VAL v73 = mtp_std_maybe_Maybe_1_Some(v66);
					bool branch_Bool_74;
					switch (PTREXTRA(v65)) {
						case 1LL: { // Some
							VAL v75 = mtp_std_maybe_Maybe_1_Some(v65);
							bool v76 = (value_u64(v73) == value_u64(v75));
							branch_Bool_74 = v76;
						} break;
						case 0LL: { // None
							bool v77 = false;
							branch_Bool_74 = v77;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_67 = branch_Bool_74;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_67;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v78 = mtp_mirth_def_Def_Type(in_Def_3);
			PTUP v79 = mtw_std_maybe_Maybe_1_Some(MKU64(v78));
			PTUP v80 = mw_mirth_def_Def_typedefZAsk(in_Def_2);
			bool branch_Bool_81;
			switch (PTREXTRA(v80)) {
				case 0LL: { // None
					int64_t v82 = PTREXTRA(v79);
					decref(MKTUP(v79));
					INT v83 = WRAP_I63(0LL);
					INT v84 = v83;
					INT v85 = i64_to_int(v82);
					bool v86 = int_eq(v85, v84);
					branch_Bool_81 = v86;
				} break;
				case 1LL: { // Some
					VAL v87 = mtp_std_maybe_Maybe_1_Some(v80);
					bool branch_Bool_88;
					switch (PTREXTRA(v79)) {
						case 1LL: { // Some
							VAL v89 = mtp_std_maybe_Maybe_1_Some(v79);
							bool v90 = (value_u64(v87) == value_u64(v89));
							branch_Bool_88 = v90;
						} break;
						case 0LL: { // None
							bool v91 = false;
							branch_Bool_88 = v91;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_81 = branch_Bool_88;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_81;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v92 = mtp_mirth_def_Def_Tag(in_Def_3);
			PTUP v93 = mtw_std_maybe_Maybe_1_Some(MKU64(v92));
			PTUP v94 = mw_mirth_def_Def_tagZAsk(in_Def_2);
			bool branch_Bool_95;
			switch (PTREXTRA(v94)) {
				case 0LL: { // None
					int64_t v96 = PTREXTRA(v93);
					decref(MKTUP(v93));
					INT v97 = WRAP_I63(0LL);
					INT v98 = v97;
					INT v99 = i64_to_int(v96);
					bool v100 = int_eq(v99, v98);
					branch_Bool_95 = v100;
				} break;
				case 1LL: { // Some
					VAL v101 = mtp_std_maybe_Maybe_1_Some(v94);
					bool branch_Bool_102;
					switch (PTREXTRA(v93)) {
						case 1LL: { // Some
							VAL v103 = mtp_std_maybe_Maybe_1_Some(v93);
							bool v104 = (value_u64(v101) == value_u64(v103));
							branch_Bool_102 = v104;
						} break;
						case 0LL: { // None
							bool v105 = false;
							branch_Bool_102 = v105;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_95 = branch_Bool_102;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_95;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Prim
			int64_t v106 = mtp_mirth_def_Def_Prim(in_Def_3);
			PTUP v107 = mtw_std_maybe_Maybe_1_Some(MKI64(v106));
			PTUP v108 = mw_mirth_def_Def_primZAsk(in_Def_2);
			bool branch_Bool_109;
			switch (PTREXTRA(v108)) {
				case 0LL: { // None
					int64_t v110 = PTREXTRA(v107);
					decref(MKTUP(v107));
					INT v111 = WRAP_I63(0LL);
					INT v112 = v111;
					INT v113 = i64_to_int(v110);
					bool v114 = int_eq(v113, v112);
					branch_Bool_109 = v114;
				} break;
				case 1LL: { // Some
					VAL v115 = mtp_std_maybe_Maybe_1_Some(v108);
					bool branch_Bool_116;
					switch (PTREXTRA(v107)) {
						case 1LL: { // Some
							VAL v117 = mtp_std_maybe_Maybe_1_Some(v107);
							bool v118 = mw_mirth_prim_Prim_ZEqual(VI64(v117), VI64(v115));
							branch_Bool_116 = v118;
						} break;
						case 0LL: { // None
							bool v119 = false;
							branch_Bool_116 = v119;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_109 = branch_Bool_116;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_109;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Word
			uint64_t v120 = mtp_mirth_def_Def_Word(in_Def_3);
			PTUP v121 = mtw_std_maybe_Maybe_1_Some(MKU64(v120));
			PTUP v122 = mw_mirth_def_Def_wordZAsk(in_Def_2);
			bool branch_Bool_123;
			switch (PTREXTRA(v122)) {
				case 0LL: { // None
					int64_t v124 = PTREXTRA(v121);
					decref(MKTUP(v121));
					INT v125 = WRAP_I63(0LL);
					INT v126 = v125;
					INT v127 = i64_to_int(v124);
					bool v128 = int_eq(v127, v126);
					branch_Bool_123 = v128;
				} break;
				case 1LL: { // Some
					VAL v129 = mtp_std_maybe_Maybe_1_Some(v122);
					bool branch_Bool_130;
					switch (PTREXTRA(v121)) {
						case 1LL: { // Some
							VAL v131 = mtp_std_maybe_Maybe_1_Some(v121);
							bool v132 = (value_u64(v129) == value_u64(v131));
							branch_Bool_130 = v132;
						} break;
						case 0LL: { // None
							bool v133 = false;
							branch_Bool_130 = v133;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_123 = branch_Bool_130;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_123;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Buffer
			uint64_t v134 = mtp_mirth_def_Def_Buffer(in_Def_3);
			PTUP v135 = mtw_std_maybe_Maybe_1_Some(MKU64(v134));
			PTUP v136 = mw_mirth_def_Def_bufferZAsk(in_Def_2);
			bool branch_Bool_137;
			switch (PTREXTRA(v136)) {
				case 0LL: { // None
					int64_t v138 = PTREXTRA(v135);
					decref(MKTUP(v135));
					INT v139 = WRAP_I63(0LL);
					INT v140 = v139;
					INT v141 = i64_to_int(v138);
					bool v142 = int_eq(v141, v140);
					branch_Bool_137 = v142;
				} break;
				case 1LL: { // Some
					VAL v143 = mtp_std_maybe_Maybe_1_Some(v136);
					bool branch_Bool_144;
					switch (PTREXTRA(v135)) {
						case 1LL: { // Some
							VAL v145 = mtp_std_maybe_Maybe_1_Some(v135);
							bool v146 = (value_u64(v143) == value_u64(v145));
							branch_Bool_144 = v146;
						} break;
						case 0LL: { // None
							bool v147 = false;
							branch_Bool_144 = v147;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_137 = branch_Bool_144;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_137;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v148 = mtp_mirth_def_Def_External(in_Def_3);
			PTUP v149 = mtw_std_maybe_Maybe_1_Some(MKU64(v148));
			PTUP v150 = mw_mirth_def_Def_externalZAsk(in_Def_2);
			bool branch_Bool_151;
			switch (PTREXTRA(v150)) {
				case 0LL: { // None
					int64_t v152 = PTREXTRA(v149);
					decref(MKTUP(v149));
					INT v153 = WRAP_I63(0LL);
					INT v154 = v153;
					INT v155 = i64_to_int(v152);
					bool v156 = int_eq(v155, v154);
					branch_Bool_151 = v156;
				} break;
				case 1LL: { // Some
					VAL v157 = mtp_std_maybe_Maybe_1_Some(v150);
					bool branch_Bool_158;
					switch (PTREXTRA(v149)) {
						case 1LL: { // Some
							VAL v159 = mtp_std_maybe_Maybe_1_Some(v149);
							bool v160 = (value_u64(v157) == value_u64(v159));
							branch_Bool_158 = v160;
						} break;
						case 0LL: { // None
							bool v161 = false;
							branch_Bool_158 = v161;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_151 = branch_Bool_158;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_151;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // Field
			uint64_t v162 = mtp_mirth_def_Def_Field(in_Def_3);
			PTUP v163 = mtw_std_maybe_Maybe_1_Some(MKU64(v162));
			PTUP v164 = mw_mirth_def_Def_fieldZAsk(in_Def_2);
			bool branch_Bool_165;
			switch (PTREXTRA(v164)) {
				case 0LL: { // None
					int64_t v166 = PTREXTRA(v163);
					decref(MKTUP(v163));
					INT v167 = WRAP_I63(0LL);
					INT v168 = v167;
					INT v169 = i64_to_int(v166);
					bool v170 = int_eq(v169, v168);
					branch_Bool_165 = v170;
				} break;
				case 1LL: { // Some
					VAL v171 = mtp_std_maybe_Maybe_1_Some(v164);
					bool branch_Bool_172;
					switch (PTREXTRA(v163)) {
						case 1LL: { // Some
							VAL v173 = mtp_std_maybe_Maybe_1_Some(v163);
							bool v174 = (value_u64(v171) == value_u64(v173));
							branch_Bool_172 = v174;
						} break;
						case 0LL: { // None
							bool v175 = false;
							branch_Bool_172 = v175;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_165 = branch_Bool_172;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_165;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // Macro
			uint64_t v176 = mtp_mirth_def_Def_Macro(in_Def_3);
			PTUP v177 = mtw_std_maybe_Maybe_1_Some(MKU64(v176));
			PTUP v178 = mw_mirth_def_Def_macroZAsk(in_Def_2);
			bool branch_Bool_179;
			switch (PTREXTRA(v178)) {
				case 0LL: { // None
					int64_t v180 = PTREXTRA(v177);
					decref(MKTUP(v177));
					INT v181 = WRAP_I63(0LL);
					INT v182 = v181;
					INT v183 = i64_to_int(v180);
					bool v184 = int_eq(v183, v182);
					branch_Bool_179 = v184;
				} break;
				case 1LL: { // Some
					VAL v185 = mtp_std_maybe_Maybe_1_Some(v178);
					bool branch_Bool_186;
					switch (PTREXTRA(v177)) {
						case 1LL: { // Some
							VAL v187 = mtp_std_maybe_Maybe_1_Some(v177);
							bool v188 = (value_u64(v185) == value_u64(v187));
							branch_Bool_186 = v188;
						} break;
						case 0LL: { // None
							bool v189 = false;
							branch_Bool_186 = v189;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_179 = branch_Bool_186;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_179;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static void mw_mirth_def_Def_typecheckZBang (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_4;
	switch (PTREXTRA(in_Def_2)) {
		case 2LL: { // Package
			uint64_t v5 = mtp_mirth_def_Def_Package(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v6 = mtp_mirth_def_Def_Module(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			PTUP v8;
			PTUP v9 = mw_mirth_alias_Alias_target(in_ZPlusMirth_1, v7, &v8);
			PTUP v10;
			mw_mirth_def_Def_typecheckZBang(v8, v9, &v10);
			branch_ZPlusMirth_4 = v10;
		} break;
		case 3LL: { // Data
			uint64_t v11 = mtp_mirth_def_Def_Data(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v12 = mtp_mirth_def_Def_Table(in_Def_2);
			PTUP v13;
			PTUP v14 = mw_mirth_table_Table_owner(in_ZPlusMirth_1, v12, &v13);
			decref(MKTUP(v14));
			branch_ZPlusMirth_4 = v13;
		} break;
		case 5LL: { // Type
			uint64_t v15 = mtp_mirth_def_Def_Type(in_Def_2);
			PTUP v16;
			PTUP v17 = mw_mirth_typedef_TypeDef_target(in_ZPlusMirth_1, v15, &v16);
			decref(MKTUP(v17));
			branch_ZPlusMirth_4 = v16;
		} break;
		case 6LL: { // Tag
			uint64_t v18 = mtp_mirth_def_Def_Tag(in_Def_2);
			PTUP v19;
			PTUP v20 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, v18, &v19);
			decref(MKTUP(v20));
			branch_ZPlusMirth_4 = v19;
		} break;
		case 7LL: { // Prim
			int64_t v21 = mtp_mirth_def_Def_Prim(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Word
			uint64_t v22 = mtp_mirth_def_Def_Word(in_Def_2);
			PTUP v23;
			PTUP v24 = mw_mirth_word_Word_type(in_ZPlusMirth_1, v22, &v23);
			decref(MKTUP(v24));
			PTUP v25;
			PTUP v26 = mw_mirth_word_Word_arrow(v23, v22, &v25);
			decref(MKTUP(v26));
			branch_ZPlusMirth_4 = v25;
		} break;
		case 9LL: { // Buffer
			uint64_t v27 = mtp_mirth_def_Def_Buffer(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v28 = mtp_mirth_def_Def_External(in_Def_2);
			PTUP v29;
			PTUP v30 = mw_mirth_external_External_type(in_ZPlusMirth_1, v28, &v29);
			decref(MKTUP(v30));
			branch_ZPlusMirth_4 = v29;
		} break;
		case 11LL: { // Field
			uint64_t v31 = mtp_mirth_def_Def_Field(in_Def_2);
			PTUP v32;
			PTUP v33 = mw_mirth_table_Field_type(in_ZPlusMirth_1, v31, &v32);
			decref(MKTUP(v33));
			branch_ZPlusMirth_4 = v32;
		} break;
		case 12LL: { // Macro
			uint64_t v34 = mtp_mirth_def_Def_Macro(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_4;
}
static bool mw_mirth_def_Def_callableZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			void* v8 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v7);
			PTUP v9;
			PTUP v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v8, &v9);
			PTUP branch_ZPlusMirth_11;
			bool branch_Bool_12;
			switch (PTREXTRA(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					PTUP v14;
					bool v15 = mw_mirth_def_Def_callableZAsk(v9, VTUP(v13), &v14);
					branch_Bool_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					bool v16 = false;
					branch_Bool_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_6 = branch_Bool_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // Package
			uint64_t v17 = mtp_mirth_def_Def_Package(in_Def_2);
			bool v18 = false;
			branch_Bool_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v19 = mtp_mirth_def_Def_Module(in_Def_2);
			bool v20 = false;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Buffer
			uint64_t v21 = mtp_mirth_def_Def_Buffer(in_Def_2);
			bool v22 = true;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Prim
			int64_t v23 = mtp_mirth_def_Def_Prim(in_Def_2);
			bool v24 = true;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v25 = mtp_mirth_def_Def_Data(in_Def_2);
			bool v26 = false;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v27 = mtp_mirth_def_Def_Table(in_Def_2);
			bool v28 = false;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v29 = mtp_mirth_def_Def_Type(in_Def_2);
			bool v30 = false;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v31 = mtp_mirth_def_Def_External(in_Def_2);
			bool v32 = true;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Word
			uint64_t v33 = mtp_mirth_def_Def_Word(in_Def_2);
			bool v34 = true;
			branch_Bool_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // Field
			uint64_t v35 = mtp_mirth_def_Def_Field(in_Def_2);
			bool v36 = true;
			branch_Bool_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v37 = mtp_mirth_def_Def_Tag(in_Def_2);
			bool v38 = true;
			branch_Bool_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // Macro
			uint64_t v39 = mtp_mirth_def_Def_Macro(in_Def_2);
			PTUP v40;
			PTUP v41 = mw_mirth_macro_Macro_action(in_ZPlusMirth_1, v39, &v40);
			bool v42 = mw_mirth_macro_MacroAction_callableZAsk(v41);
			branch_Bool_6 = v42;
			branch_ZPlusMirth_5 = v40;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_def_Def_definesZ_aZ_typeZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			void* v8 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v7);
			PTUP v9;
			PTUP v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v8, &v9);
			PTUP branch_ZPlusMirth_11;
			bool branch_Bool_12;
			switch (PTREXTRA(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					PTUP v14;
					bool v15 = mw_mirth_def_Def_definesZ_aZ_typeZAsk(v9, VTUP(v13), &v14);
					branch_Bool_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					bool v16 = false;
					branch_Bool_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_6 = branch_Bool_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // Package
			uint64_t v17 = mtp_mirth_def_Def_Package(in_Def_2);
			bool v18 = false;
			branch_Bool_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v19 = mtp_mirth_def_Def_Module(in_Def_2);
			bool v20 = false;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Buffer
			uint64_t v21 = mtp_mirth_def_Def_Buffer(in_Def_2);
			bool v22 = false;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Prim
			int64_t v23 = mtp_mirth_def_Def_Prim(in_Def_2);
			bool v24 = false;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v25 = mtp_mirth_def_Def_Data(in_Def_2);
			bool v26 = true;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v27 = mtp_mirth_def_Def_Table(in_Def_2);
			bool v28 = true;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v29 = mtp_mirth_def_Def_Type(in_Def_2);
			bool v30 = true;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v31 = mtp_mirth_def_Def_External(in_Def_2);
			bool v32 = false;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Word
			uint64_t v33 = mtp_mirth_def_Def_Word(in_Def_2);
			bool v34 = false;
			branch_Bool_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // Field
			uint64_t v35 = mtp_mirth_def_Def_Field(in_Def_2);
			bool v36 = false;
			branch_Bool_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v37 = mtp_mirth_def_Def_Tag(in_Def_2);
			bool v38 = false;
			branch_Bool_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // Macro
			uint64_t v39 = mtp_mirth_def_Def_Macro(in_Def_2);
			bool v40 = false;
			branch_Bool_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_def_Def_sameZ_resolvedZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_def_Def_resolve(in_ZPlusMirth_1, in_Def_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_def_Def_resolve(v6, in_Def_3, &v8);
	PTUP v10;
	bool v11 = mw_mirth_def_Def_ZEqual(v8, VTUP(MKTUP(v7)), v9, &v10);
	*out_ZPlusMirth_4 = v10;
	return v11;
}
static PTUP mw_mirth_def_Def_resolve (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	bool v5 = true;
	PTUP r6 = in_ZPlusMirth_1;
	PTUP v7 = in_Def_2;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP r10 = r6;
		PTUP v11 = v7;
		bool v12 = v8;
		incref(MKTUP(v11));
		PTUP v13 = mw_mirth_def_Def_aliasZAsk(v11);
		PTUP branch_ZPlusMirth_14;
		PTUP branch_Maybe_15;
		switch (PTREXTRA(v13)) {
			case 1LL: { // Some
				VAL v16 = mtp_std_maybe_Maybe_1_Some(v13);
				void* v17 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, value_u64(v16));
				PTUP v18;
				PTUP v19 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(r10, v17, &v18);
				branch_Maybe_15 = v19;
				branch_ZPlusMirth_14 = v18;
			} break;
			case 0LL: { // None
				PTUP v20 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_15 = v20;
				branch_ZPlusMirth_14 = r10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL branch_z_x1_21;
		bool branch_Bool_22;
		switch (PTREXTRA(branch_Maybe_15)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_15);
				decref(MKTUP(v11));
				bool v24 = true;
				branch_Bool_22 = v24;
				branch_z_x1_21 = v23;
			} break;
			case 0LL: { // None
				bool v25 = false;
				branch_Bool_22 = v25;
				branch_z_x1_21 = MKTUP(v11);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_22;
		v8 = branch_Bool_22;
		v7 = VTUP(branch_z_x1_21);
		r6 = branch_ZPlusMirth_14;
	}
	*out_ZPlusMirth_3 = r6;
	return v7;
}
static uint64_t mw_mirth_def_Def_name (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	uint64_t branch_Name_6;
	switch (PTREXTRA(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			PTUP v8;
			uint64_t v9 = mw_mirth_alias_Alias_name(in_ZPlusMirth_1, v7, &v8);
			branch_Name_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Package
			uint64_t v10 = mtp_mirth_def_Def_Package(in_Def_2);
			PTUP v11;
			uint64_t v12 = mw_mirth_package_Package_name(in_ZPlusMirth_1, v10, &v11);
			branch_Name_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 1LL: { // Module
			uint64_t v13 = mtp_mirth_def_Def_Module(in_Def_2);
			PTUP v14;
			uint64_t v15 = mw_mirth_module_Module_name(in_ZPlusMirth_1, v13, &v14);
			branch_Name_6 = v15;
			branch_ZPlusMirth_5 = v14;
		} break;
		case 9LL: { // Buffer
			uint64_t v16 = mtp_mirth_def_Def_Buffer(in_Def_2);
			PTUP v17;
			uint64_t v18 = mw_mirth_buffer_Buffer_name(in_ZPlusMirth_1, v16, &v17);
			branch_Name_6 = v18;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 7LL: { // Prim
			int64_t v19 = mtp_mirth_def_Def_Prim(in_Def_2);
			PTUP v20;
			uint64_t v21 = mw_mirth_prim_Prim_name(in_ZPlusMirth_1, v19, &v20);
			branch_Name_6 = v21;
			branch_ZPlusMirth_5 = v20;
		} break;
		case 3LL: { // Data
			uint64_t v22 = mtp_mirth_def_Def_Data(in_Def_2);
			PTUP v23;
			uint64_t v24 = mw_mirth_data_Data_name(in_ZPlusMirth_1, v22, &v23);
			branch_Name_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		case 4LL: { // Table
			uint64_t v25 = mtp_mirth_def_Def_Table(in_Def_2);
			PTUP v26;
			uint64_t v27 = mw_mirth_table_Table_name(in_ZPlusMirth_1, v25, &v26);
			branch_Name_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 5LL: { // Type
			uint64_t v28 = mtp_mirth_def_Def_Type(in_Def_2);
			PTUP v29;
			uint64_t v30 = mw_mirth_typedef_TypeDef_name(in_ZPlusMirth_1, v28, &v29);
			branch_Name_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 10LL: { // External
			uint64_t v31 = mtp_mirth_def_Def_External(in_Def_2);
			PTUP v32;
			uint64_t v33 = mw_mirth_external_External_name(in_ZPlusMirth_1, v31, &v32);
			branch_Name_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		case 8LL: { // Word
			uint64_t v34 = mtp_mirth_def_Def_Word(in_Def_2);
			PTUP v35;
			uint64_t v36 = mw_mirth_word_Word_name(in_ZPlusMirth_1, v34, &v35);
			branch_Name_6 = v36;
			branch_ZPlusMirth_5 = v35;
		} break;
		case 11LL: { // Field
			uint64_t v37 = mtp_mirth_def_Def_Field(in_Def_2);
			PTUP v38;
			uint64_t v39 = mw_mirth_table_Field_name(in_ZPlusMirth_1, v37, &v38);
			branch_Name_6 = v39;
			branch_ZPlusMirth_5 = v38;
		} break;
		case 6LL: { // Tag
			uint64_t v40 = mtp_mirth_def_Def_Tag(in_Def_2);
			PTUP v41;
			uint64_t v42 = mw_mirth_data_Tag_name(in_ZPlusMirth_1, v40, &v41);
			branch_Name_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 12LL: { // Macro
			uint64_t v43 = mtp_mirth_def_Def_Macro(in_Def_2);
			PTUP v44;
			uint64_t v45 = mw_mirth_macro_Macro_name(in_ZPlusMirth_1, v43, &v44);
			branch_Name_6 = v45;
			branch_ZPlusMirth_5 = v44;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Name_6;
}
static INT mw_mirth_def_Def_arity (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	INT branch_Int_6;
	switch (PTREXTRA(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			PTUP v8;
			INT v9 = mw_mirth_alias_Alias_arity(in_ZPlusMirth_1, v7, &v8);
			branch_Int_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Package
			uint64_t v10 = mtp_mirth_def_Def_Package(in_Def_2);
			INT v11 = WRAP_I63(0LL);
			branch_Int_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v12 = mtp_mirth_def_Def_Module(in_Def_2);
			INT v13 = WRAP_I63(0LL);
			branch_Int_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Buffer
			uint64_t v14 = mtp_mirth_def_Def_Buffer(in_Def_2);
			INT v15 = WRAP_I63(0LL);
			branch_Int_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Prim
			int64_t v16 = mtp_mirth_def_Def_Prim(in_Def_2);
			INT v17 = mw_mirth_prim_Prim_arity(v16);
			branch_Int_6 = v17;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v18 = mtp_mirth_def_Def_Data(in_Def_2);
			PTUP v19;
			INT v20 = mw_mirth_data_Data_arity(in_ZPlusMirth_1, v18, &v19);
			branch_Int_6 = v20;
			branch_ZPlusMirth_5 = v19;
		} break;
		case 4LL: { // Table
			uint64_t v21 = mtp_mirth_def_Def_Table(in_Def_2);
			INT v22 = WRAP_I63(0LL);
			branch_Int_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v23 = mtp_mirth_def_Def_Type(in_Def_2);
			INT v24 = WRAP_I63(0LL);
			branch_Int_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v25 = mtp_mirth_def_Def_External(in_Def_2);
			PTUP v26;
			INT v27 = mw_mirth_external_External_arity(in_ZPlusMirth_1, v25, &v26);
			branch_Int_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 8LL: { // Word
			uint64_t v28 = mtp_mirth_def_Def_Word(in_Def_2);
			PTUP v29;
			INT v30 = mw_mirth_word_Word_arity(in_ZPlusMirth_1, v28, &v29);
			INT v31 = v30;
			branch_Int_6 = v31;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 11LL: { // Field
			uint64_t v32 = mtp_mirth_def_Def_Field(in_Def_2);
			INT v33 = WRAP_I63(0LL);
			branch_Int_6 = v33;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v34 = mtp_mirth_def_Def_Tag(in_Def_2);
			INT v35 = WRAP_I63(0LL);
			branch_Int_6 = v35;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // Macro
			uint64_t v36 = mtp_mirth_def_Def_Macro(in_Def_2);
			PTUP v37;
			INT v38 = mw_mirth_macro_Macro_arity(in_ZPlusMirth_1, v36, &v37);
			branch_Int_6 = v38;
			branch_ZPlusMirth_5 = v37;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Int_6;
}
static PTUP mw_mirth_def_Def_qnameZ_soft (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			PTUP v8;
			PTUP v9 = mw_mirth_alias_Alias_qnameZ_soft(in_ZPlusMirth_1, v7, &v8);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Package
			uint64_t v10 = mtp_mirth_def_Def_Package(in_Def_2);
			PTUP v11;
			PTUP v12 = mw_mirth_package_Package_qname(in_ZPlusMirth_1, v10, &v11);
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12));
			branch_Maybe_6 = v13;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 1LL: { // Module
			uint64_t v14 = mtp_mirth_def_Def_Module(in_Def_2);
			PTUP v15;
			PTUP v16 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v14, &v15);
			PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKTUP(v16));
			branch_Maybe_6 = v17;
			branch_ZPlusMirth_5 = v15;
		} break;
		case 9LL: { // Buffer
			uint64_t v18 = mtp_mirth_def_Def_Buffer(in_Def_2);
			PTUP v19;
			PTUP v20 = mw_mirth_buffer_Buffer_qnameZ_soft(in_ZPlusMirth_1, v18, &v19);
			branch_Maybe_6 = v20;
			branch_ZPlusMirth_5 = v19;
		} break;
		case 7LL: { // Prim
			int64_t v21 = mtp_mirth_def_Def_Prim(in_Def_2);
			PTUP v22;
			PTUP v23 = mw_mirth_prim_Prim_qname(in_ZPlusMirth_1, v21, &v22);
			PTUP v24 = mtw_std_maybe_Maybe_1_Some(MKTUP(v23));
			branch_Maybe_6 = v24;
			branch_ZPlusMirth_5 = v22;
		} break;
		case 3LL: { // Data
			uint64_t v25 = mtp_mirth_def_Def_Data(in_Def_2);
			PTUP v26;
			PTUP v27 = mw_mirth_data_Data_qnameZ_soft(in_ZPlusMirth_1, v25, &v26);
			branch_Maybe_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 4LL: { // Table
			uint64_t v28 = mtp_mirth_def_Def_Table(in_Def_2);
			PTUP v29;
			PTUP v30 = mw_mirth_table_Table_qnameZ_soft(in_ZPlusMirth_1, v28, &v29);
			branch_Maybe_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 5LL: { // Type
			uint64_t v31 = mtp_mirth_def_Def_Type(in_Def_2);
			PTUP v32;
			PTUP v33 = mw_mirth_typedef_TypeDef_qnameZ_soft(in_ZPlusMirth_1, v31, &v32);
			branch_Maybe_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		case 10LL: { // External
			uint64_t v34 = mtp_mirth_def_Def_External(in_Def_2);
			PTUP v35;
			PTUP v36 = mw_mirth_external_External_qnameZ_soft(in_ZPlusMirth_1, v34, &v35);
			branch_Maybe_6 = v36;
			branch_ZPlusMirth_5 = v35;
		} break;
		case 8LL: { // Word
			uint64_t v37 = mtp_mirth_def_Def_Word(in_Def_2);
			PTUP v38;
			PTUP v39 = mw_mirth_word_Word_qnameZ_soft(in_ZPlusMirth_1, v37, &v38);
			branch_Maybe_6 = v39;
			branch_ZPlusMirth_5 = v38;
		} break;
		case 11LL: { // Field
			uint64_t v40 = mtp_mirth_def_Def_Field(in_Def_2);
			PTUP v41;
			PTUP v42 = mw_mirth_table_Field_qnameZ_soft(in_ZPlusMirth_1, v40, &v41);
			branch_Maybe_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 6LL: { // Tag
			uint64_t v43 = mtp_mirth_def_Def_Tag(in_Def_2);
			PTUP v44;
			PTUP v45 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, v43, &v44);
			PTUP v46 = mtw_std_maybe_Maybe_1_Some(MKTUP(v45));
			branch_Maybe_6 = v46;
			branch_ZPlusMirth_5 = v44;
		} break;
		case 12LL: { // Macro
			uint64_t v47 = mtp_mirth_def_Def_Macro(in_Def_2);
			PTUP v48;
			PTUP v49 = mw_mirth_macro_Macro_qnameZ_soft(in_ZPlusMirth_1, v47, &v48);
			branch_Maybe_6 = v49;
			branch_ZPlusMirth_5 = v48;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_def_Def_qnameZ_hard (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_QName_6;
	switch (PTREXTRA(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			PTUP v8;
			PTUP v9 = mw_mirth_alias_Alias_qnameZ_hard(in_ZPlusMirth_1, v7, &v8);
			branch_QName_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Package
			uint64_t v10 = mtp_mirth_def_Def_Package(in_Def_2);
			PTUP v11;
			PTUP v12 = mw_mirth_package_Package_qname(in_ZPlusMirth_1, v10, &v11);
			branch_QName_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 1LL: { // Module
			uint64_t v13 = mtp_mirth_def_Def_Module(in_Def_2);
			PTUP v14;
			PTUP v15 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v13, &v14);
			branch_QName_6 = v15;
			branch_ZPlusMirth_5 = v14;
		} break;
		case 9LL: { // Buffer
			uint64_t v16 = mtp_mirth_def_Def_Buffer(in_Def_2);
			PTUP v17;
			PTUP v18 = mw_mirth_buffer_Buffer_qnameZ_hard(in_ZPlusMirth_1, v16, &v17);
			branch_QName_6 = v18;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 7LL: { // Prim
			int64_t v19 = mtp_mirth_def_Def_Prim(in_Def_2);
			PTUP v20;
			PTUP v21 = mw_mirth_prim_Prim_qname(in_ZPlusMirth_1, v19, &v20);
			branch_QName_6 = v21;
			branch_ZPlusMirth_5 = v20;
		} break;
		case 3LL: { // Data
			uint64_t v22 = mtp_mirth_def_Def_Data(in_Def_2);
			PTUP v23;
			PTUP v24 = mw_mirth_data_Data_qnameZ_hard(in_ZPlusMirth_1, v22, &v23);
			branch_QName_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		case 4LL: { // Table
			uint64_t v25 = mtp_mirth_def_Def_Table(in_Def_2);
			PTUP v26;
			PTUP v27 = mw_mirth_table_Table_qnameZ_hard(in_ZPlusMirth_1, v25, &v26);
			branch_QName_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 5LL: { // Type
			uint64_t v28 = mtp_mirth_def_Def_Type(in_Def_2);
			PTUP v29;
			PTUP v30 = mw_mirth_typedef_TypeDef_qnameZ_hard(in_ZPlusMirth_1, v28, &v29);
			branch_QName_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 10LL: { // External
			uint64_t v31 = mtp_mirth_def_Def_External(in_Def_2);
			PTUP v32;
			PTUP v33 = mw_mirth_external_External_qnameZ_hard(in_ZPlusMirth_1, v31, &v32);
			branch_QName_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		case 8LL: { // Word
			uint64_t v34 = mtp_mirth_def_Def_Word(in_Def_2);
			PTUP v35;
			PTUP v36 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, v34, &v35);
			branch_QName_6 = v36;
			branch_ZPlusMirth_5 = v35;
		} break;
		case 11LL: { // Field
			uint64_t v37 = mtp_mirth_def_Def_Field(in_Def_2);
			PTUP v38;
			PTUP v39 = mw_mirth_table_Field_qnameZ_hard(in_ZPlusMirth_1, v37, &v38);
			branch_QName_6 = v39;
			branch_ZPlusMirth_5 = v38;
		} break;
		case 6LL: { // Tag
			uint64_t v40 = mtp_mirth_def_Def_Tag(in_Def_2);
			PTUP v41;
			PTUP v42 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, v40, &v41);
			branch_QName_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 12LL: { // Macro
			uint64_t v43 = mtp_mirth_def_Def_Macro(in_Def_2);
			PTUP v44;
			PTUP v45 = mw_mirth_macro_Macro_qnameZ_hard(in_ZPlusMirth_1, v43, &v44);
			branch_QName_6 = v45;
			branch_ZPlusMirth_5 = v44;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static PTUP mw_mirth_def_Def_asZ_namespaceZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			void* v8 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v7);
			PTUP v9;
			PTUP v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v8, &v9);
			PTUP branch_ZPlusMirth_11;
			PTUP branch_Maybe_12;
			switch (PTREXTRA(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					PTUP v14;
					PTUP v15 = mw_mirth_def_Def_asZ_namespaceZAsk(v9, VTUP(v13), &v14);
					branch_Maybe_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					PTUP v16 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // Package
			uint64_t v17 = mtp_mirth_def_Def_Package(in_Def_2);
			PTUP v18 = mtw_mirth_name_Namespace_Package(v17);
			PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18));
			branch_Maybe_6 = v19;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v20 = mtp_mirth_def_Def_Module(in_Def_2);
			PTUP v21 = mtw_mirth_name_Namespace_Module(v20);
			PTUP v22 = mtw_std_maybe_Maybe_1_Some(MKTUP(v21));
			branch_Maybe_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v23 = mtp_mirth_def_Def_Data(in_Def_2);
			PTUP v24 = mtw_mirth_tycon_Tycon_Data(v23);
			PTUP v25 = mtw_mirth_name_Namespace_Tycon(v24);
			PTUP v26 = mtw_std_maybe_Maybe_1_Some(MKTUP(v25));
			branch_Maybe_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v27 = mtp_mirth_def_Def_Table(in_Def_2);
			PTUP v28 = mtw_mirth_tycon_Tycon_Table(v27);
			PTUP v29 = mtw_mirth_name_Namespace_Tycon(v28);
			PTUP v30 = mtw_std_maybe_Maybe_1_Some(MKTUP(v29));
			branch_Maybe_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v31 = mtp_mirth_def_Def_Type(in_Def_2);
			PTUP v32;
			PTUP v33 = mw_mirth_typedef_TypeDef_target(in_ZPlusMirth_1, v31, &v32);
			PTUP v34;
			PTUP v35 = mw_mirth_type_Type_tyconZAsk(v32, v33, &v34);
			PTUP branch_Maybe_36;
			switch (PTREXTRA(v35)) {
				case 1LL: { // Some
					VAL v37 = mtp_std_maybe_Maybe_1_Some(v35);
					PTUP v38 = mtw_mirth_name_Namespace_Tycon(VTUP(v37));
					PTUP v39 = mtw_std_maybe_Maybe_1_Some(MKTUP(v38));
					branch_Maybe_36 = v39;
				} break;
				case 0LL: { // None
					PTUP v40 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_36 = v40;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_36;
			branch_ZPlusMirth_5 = v34;
		} break;
		case 8LL: { // Word
			uint64_t v41 = mtp_mirth_def_Def_Word(in_Def_2);
			PTUP v42 = mtw_mirth_name_Namespace_Word(v41);
			PTUP v43 = mtw_std_maybe_Maybe_1_Some(MKTUP(v42));
			branch_Maybe_6 = v43;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			decref(MKTUP(in_Def_2));
			PTUP v44 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v44;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_def_Def_asZ_defZ_namespaceZAsk (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			void* v8 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v7);
			PTUP v9;
			PTUP v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v8, &v9);
			PTUP v11;
			PTUP v12 = mw_std_maybe_Maybe_1_bind_1_sp13(v9, v10, &v11);
			branch_Maybe_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 8LL: { // Word
			uint64_t v13 = mtp_mirth_def_Def_Word(in_Def_2);
			PTUP v14 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			PTUP v15;
			PTUP v16 = mw_mirth_def_Def_asZ_namespaceZAsk(in_ZPlusMirth_1, in_Def_2, &v15);
			branch_Maybe_6 = v16;
			branch_ZPlusMirth_5 = v15;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static void mw_mirth_def_Def_register (PTUP in_ZPlusMirth_1, PTUP in_Def_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_Def_2));
	PTUP v4;
	PTUP v5 = mw_mirth_def_Def_qnameZ_soft(in_ZPlusMirth_1, in_Def_2, &v4);
	PTUP branch_ZPlusMirth_6;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(MKTUP(VTUP(v7)));
			PTUP v8;
			bool v9 = mw_mirth_name_QName_undefinedZ_softZAsk(v4, VTUP(v7), &v8);
			PTUP branch_ZPlusMirth_10;
			PTUP branch_QName_11;
			if (v9) {
				branch_QName_11 = VTUP(v7);
				branch_ZPlusMirth_10 = v8;
			} else {
				STR* v12;
				STRLIT(v12, "", 0);
				STR* v13;
				STRLIT(v13, "Already defined: ", 17);
				STR* v14;
				mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
				PTUP v15;
				STR* v16;
				mw_mirth_name_QName_qnameZThen(v8, v14, VTUP(v7), &v15, &v16);
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v15, v16);
			}
			decref(MKTUP(branch_QName_11));
			branch_ZPlusMirth_6 = branch_ZPlusMirth_10;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_6 = v4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKTUP(in_Def_2));
	PTUP v19;
	uint64_t v20 = mw_mirth_def_Def_name(branch_ZPlusMirth_6, in_Def_2, &v19);
	PTUP v21;
	PTUP v22 = mw_mirth_name_Name_defs(v19, v20, &v21);
	PTUP v23 = mw_std_list_List_1_cons(MKTUP(in_Def_2), v22);
	PTUP v24;
	mw_mirth_name_Name_defsZBang(v21, v23, v20, &v24);
	*out_ZPlusMirth_3 = v24;
}
static void mw_mirth_def_Def_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Def_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_name_QName_qnameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static uint64_t mw_mirth_name_Name_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_name_Name_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_name_Name_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static uint64_t mw_mirth_name_Name_MakeZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_name_Name_AllocZBang(in_ZPlusMirth_1, &v5);
	void* v7 = field_mut(&mfld_mirth_name_Name_str, v6);
	mut_set(MKSTR(in_Str_2), v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static uint64_t mw_mirth_name_Name_fromZ_index (PTUP in_ZPlusMirth_1, uint64_t in_U64_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = mbuf_mirth_name_Name_NumBuffer;
	uint64_t v6 = *(uint64_t*)v5;
	bool v7 = (in_U64_2 <= v6);
	PTUP branch_ZPlusMirth_8;
	uint64_t branch_U64_9;
	if (v7) {
		branch_U64_9 = in_U64_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		uint64_t v10 = 0ULL;
		branch_U64_9 = v10;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_U64_9;
}
static STR* mw_mirth_name_Name_str (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_name_Name_str, in_Name_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_str(v6);
}
static PTUP mw_mirth_name_Name_defs (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_name_Name_defs, in_Name_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_List_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_List_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10 = PTRMK(0LL /* Nil */,0,0);
		incref(MKTUP(v10));
		mut_set(MKTUP(v10), v5);
		branch_List_8 = v10;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static void mw_mirth_name_Name_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_name_Name_defs, in_Name_3);
	mut_set(MKTUP(in_List_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_name_Name_label (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_name_Name_label, in_Name_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Label_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Label_8 = value_u64(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		uint64_t v11 = mw_mirth_label_Label_MakeZBang(in_ZPlusMirth_1, in_Name_2, &v10);
		mut_set(MKU64(v11), v5);
		branch_Label_8 = v11;
		branch_ZPlusMirth_7 = v10;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Label_8;
}
static STR* mw_mirth_name_Name_mangled (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_name_Name_mangled, in_Name_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	STR* branch_Str_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Str_8 = value_str(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		STR* v11 = mw_mirth_name_Name_str(in_ZPlusMirth_1, in_Name_2, &v10);
		STR* v12 = mw_std_prim_Str_zzencode(v11);
		incref(MKSTR(v12));
		mut_set(MKSTR(v12), v5);
		branch_Str_8 = v12;
		branch_ZPlusMirth_7 = v10;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_8;
}
static STR* mw_mirth_name_Name_ZToStr (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	STR* v6 = mw_mirth_name_Name_str(in_ZPlusMirth_1, in_Name_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static void mw_mirth_name_Name_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	STR* v7 = mw_mirth_name_Name_str(in_ZPlusMirth_1, in_Name_3, &v6);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, in_ZPlusStr_2, &v8);
	*out_ZPlusStr_5 = v8;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_name_Name_mangledZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Name_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	STR* v7 = mw_mirth_name_Name_mangled(in_ZPlusMirth_1, in_Name_3, &v6);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, in_ZPlusStr_2, &v8);
	*out_ZPlusStr_5 = v8;
	*out_ZPlusMirth_4 = v6;
}
static uint64_t mw_mirth_name_Name_Name (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP *out_ZPlusMirth_3) {
	incref(MKSTR(in_Str_2));
	uint64_t v5 = mw_mirth_name_Hash_Digest(in_Str_2);
	PTUP v6;
	uint64_t v7;
	bool v8;
	STR* v9 = mw_mirth_name_Hash_keepZ_goingZAsk(in_ZPlusMirth_1, in_Str_2, v5, &v6, &v7, &v8);
	PTUP r10 = v6;
	STR* v11 = v9;
	uint64_t v12 = v7;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r10;
		STR* v15 = v11;
		uint64_t v16 = v12;
		uint64_t v17 = mw_mirth_name_Hash_next(v16);
		PTUP v18;
		uint64_t v19;
		bool v20;
		STR* v21 = mw_mirth_name_Hash_keepZ_goingZAsk(r14, v15, v17, &v18, &v19, &v20);
		v13 = v20;
		v12 = v19;
		v11 = v21;
		r10 = v18;
	}
	PTUP v22;
	PTUP v23 = mw_mirth_name_Hash_nameZAt(r10, v12, &v22);
	PTUP branch_ZPlusMirth_24;
	uint64_t branch_Name_25;
	switch (PTREXTRA(v23)) {
		case 1LL: { // Some
			VAL v26 = mtp_std_maybe_Maybe_1_Some(v23);
			decref(MKU64(v12));
			decref(MKSTR(v11));
			branch_Name_25 = value_u64(v26);
			branch_ZPlusMirth_24 = v22;
		} break;
		case 0LL: { // None
			PTUP v27;
			uint64_t v28 = mw_mirth_name_Name_MakeZBang(v22, v11, &v27);
			PTUP v29;
			mw_mirth_name_Hash_nameZBang(v27, v28, v12, &v29);
			branch_Name_25 = v28;
			branch_ZPlusMirth_24 = v29;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_24;
	return branch_Name_25;
}
static void mw_mirth_name_ZPlusNameHashMap_New (ARR* *out_ZPlusNameHashMap_1) {
	uint64_t v2 = 0ULL;
	INT v3 = WRAP_I63(65536LL);
	ARR* v4;
	mw_std_array_ZPlusArray_1_New(MKU64(v2), v3, &v4);
	*out_ZPlusNameHashMap_1 = v4;
}
static void mw_mirth_name_ZPlusNameHashMap_rdrop (ARR* in_ZPlusNameHashMap_1) {
	mw_std_array_ZPlusArray_1_rdrop(in_ZPlusNameHashMap_1);
}
static INT mw_mirth_name_ZPlusNameHashMap_hashmapZ_index (ARR* in_ZPlusNameHashMap_1, uint64_t in_Hash_2, ARR* *out_ZPlusNameHashMap_3) {
	INT v5 = u64_to_int(in_Hash_2);
	INT v6 = v5;
	ARR* v7;
	INT v8 = mw_std_array_ZPlusArray_1_lenZAt(in_ZPlusNameHashMap_1, &v7);
	INT v9 = v6;
	INT v10 = v8;
	INT v11;
	INT v12 = int_divmod(v9, v10, &v11);
	INT v13 = v11;
	INT v14 = v12;
	decref(MKNAT(v14));
	*out_ZPlusNameHashMap_3 = v7;
	return value_nat(MKNAT(v13));
}
static uint64_t mw_mirth_name_ZPlusNameHashMap_nameZ_indexZAt (ARR* in_ZPlusNameHashMap_1, uint64_t in_Hash_2, ARR* *out_ZPlusNameHashMap_3) {
	ARR* v5;
	INT v6 = mw_mirth_name_ZPlusNameHashMap_hashmapZ_index(in_ZPlusNameHashMap_1, in_Hash_2, &v5);
	ARR* v7;
	VAL v8 = mw_std_array_ZPlusArray_1_valueZAt(v5, v6, &v7);
	*out_ZPlusNameHashMap_3 = v7;
	return value_u64(v8);
}
static void mw_mirth_name_ZPlusNameHashMap_nameZ_indexZBang (ARR* in_ZPlusNameHashMap_1, uint64_t in_U64_2, uint64_t in_Hash_3, ARR* *out_ZPlusNameHashMap_4) {
	ARR* v5;
	INT v6 = mw_mirth_name_ZPlusNameHashMap_hashmapZ_index(in_ZPlusNameHashMap_1, in_Hash_3, &v5);
	ARR* v7;
	mw_std_array_ZPlusArray_1_valueZBang(v5, MKU64(in_U64_2), v6, &v7);
	*out_ZPlusNameHashMap_4 = v7;
}
static uint64_t mw_mirth_name_Hash_next (uint64_t in_Hash_1) {
	uint64_t v3 = 1ULL;
	uint64_t v4 = (in_Hash_1 + v3);
	return v4;
}
static PTUP mw_mirth_name_Hash_nameZAt (PTUP in_ZPlusMirth_1, uint64_t in_Hash_2, PTUP *out_ZPlusMirth_3) {
	ARR* r5 = value_arr(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[10]);
	ARR* v6;
	uint64_t v7 = mw_mirth_name_ZPlusNameHashMap_nameZ_indexZAt(r5, in_Hash_2, &v6);
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[10] = MKARR(v6);
	INT v8 = WRAP_I63(0LL);
	INT v9 = v8;
	INT v10 = u64_to_int(v7);
	bool v11 = int_eq(v10, v9);
	PTUP branch_ZPlusMirth_12;
	PTUP branch_Maybe_13;
	if (v11) {
		PTUP v14 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_13 = v14;
		branch_ZPlusMirth_12 = in_ZPlusMirth_1;
	} else {
		PTUP v15;
		uint64_t v16 = mw_mirth_name_Name_fromZ_index(in_ZPlusMirth_1, v7, &v15);
		PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(v16));
		branch_Maybe_13 = v17;
		branch_ZPlusMirth_12 = v15;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return branch_Maybe_13;
}
static void mw_mirth_name_Hash_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Hash_3, PTUP *out_ZPlusMirth_4) {
	ARR* r5 = value_arr(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[10]);
	ARR* v6;
	mw_mirth_name_ZPlusNameHashMap_nameZ_indexZBang(r5, in_Name_2, in_Hash_3, &v6);
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[10] = MKARR(v6);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static STR* mw_mirth_name_Hash_keepZ_goingZAsk (PTUP in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Hash_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Hash_6, bool *out_Bool_7) {
	PTUP v8;
	PTUP v9 = mw_mirth_name_Hash_nameZAt(in_ZPlusMirth_1, in_Hash_3, &v8);
	PTUP branch_ZPlusMirth_10;
	STR* branch_Str_11;
	VAL branch_z_x1_12;
	bool branch_Bool_13;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v9);
			PTUP v15;
			STR* v16 = mw_mirth_name_Name_str(v8, value_u64(v14), &v15);
			incref(MKSTR(in_Str_2));
			bool v17 = (str_cmp(value_str(MKSTR(v16)), value_str(MKSTR(in_Str_2))) == 0);
			bool v18 = !v17;
			branch_Bool_13 = v18;
			branch_z_x1_12 = MKU64(in_Hash_3);
			branch_Str_11 = value_str(MKSTR(in_Str_2));
			branch_ZPlusMirth_10 = v15;
		} break;
		case 0LL: { // None
			bool v19 = false;
			branch_Bool_13 = v19;
			branch_z_x1_12 = MKU64(in_Hash_3);
			branch_Str_11 = in_Str_2;
			branch_ZPlusMirth_10 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Bool_7 = branch_Bool_13;
	*out_Hash_6 = value_u64(branch_z_x1_12);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Str_11;
}
static uint64_t mw_mirth_name_Hash_Digest (STR* in_Str_1) {
	uint64_t v3 = 0ULL;
	incref(MKSTR(in_Str_1));
	incref(MKSTR(in_Str_1));
	void* v4 = str_base(in_Str_1);
	uint64_t v5 = str_size(in_Str_1);
	INT v6 = u64_to_int(v5);
	incref(MKINT(v6));
	INT v7 = WRAP_I63(0LL);
	INT v8 = v7;
	bool v9 = int_le(v8, v6);
	INT branch_Nat_10;
	if (v9) {
		INT v11 = v6;
		branch_Nat_10 = v11;
	} else {
		decref(MKINT(v6));
		INT v12 = WRAP_I63(0LL);
		branch_Nat_10 = v12;
	}
	incref(MKNAT(branch_Nat_10));
	INT v13 = WRAP_I63(0LL);
	INT v14 = branch_Nat_10;
	INT v15 = v13;
	bool v16 = int_lt(v15, v14);
	uint64_t v17 = v3;
	void* v18 = v4;
	INT v19 = branch_Nat_10;
	bool v20 = v16;
	while (v20) {
		uint64_t v21 = v17;
		void* v22 = v18;
		INT v23 = v19;
		int64_t v24 = mw_std_prelude_unsafe_1_sp9(v22);
		int64_t v25 = v24;
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint64_t v28 = 17592723177729ULL;
		uint64_t v29 = (v27 * v28);
		incref(MKU64(v21));
		uint64_t v30 = 7ULL;
		uint64_t v31 = u64_shl(value_u64(MKU64(v21)), v30);
		uint64_t v32 = (value_u64(MKU64(v29)) ^ v31);
		uint64_t v33 = 29ULL;
		uint64_t v34 = u64_shr(value_u64(MKU64(v21)), v33);
		uint64_t v35 = (v32 ^ v34);
		INT v36 = WRAP_I63(1LL);
		void* v37 = mw_std_prelude_unsafe_1_sp5(v36, v22);
		INT v38 = WRAP_I63(1LL);
		INT v39 = v23;
		INT v40 = v38;
		INT v41 = int_sub(v39, v40);
		incref(MKINT(v41));
		INT v42 = WRAP_I63(0LL);
		INT v43 = v42;
		bool v44 = int_le(v43, v41);
		INT branch_Nat_45;
		if (v44) {
			INT v46 = v41;
			branch_Nat_45 = v46;
		} else {
			decref(MKINT(v41));
			INT v47 = WRAP_I63(0LL);
			branch_Nat_45 = v47;
		}
		incref(MKNAT(branch_Nat_45));
		INT v48 = WRAP_I63(0LL);
		INT v49 = branch_Nat_45;
		INT v50 = v48;
		bool v51 = int_lt(v50, v49);
		v20 = v51;
		v19 = branch_Nat_45;
		v18 = v37;
		v17 = v35;
	}
	decref(MKNAT(v19));
	decref(MKSTR(in_Str_1));
	return v17;
}
static int64_t mw_mirth_name_Name_head (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	STR* v6 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, in_Name_2, &v5);
	INT v7 = WRAP_I63(0LL);
	int64_t v8 = mw_std_prim_Str_byteZAt(v7, v6);
	*out_ZPlusMirth_3 = v5;
	return v8;
}
static int64_t mw_mirth_name_Name_tailZ_head (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	STR* v6 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, in_Name_2, &v5);
	INT v7 = WRAP_I63(1LL);
	int64_t v8 = mw_std_prim_Str_byteZAt(v7, v6);
	*out_ZPlusMirth_3 = v5;
	return v8;
}
static bool mw_mirth_name_Name_canZ_beZ_relativeZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 65LL /* B'A' */;
	int64_t v8 = 90LL /* B'Z' */;
	int64_t v9 = v7;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	int64_t v13 = v6;
	INT v14 = i64_to_int(v13);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(value_u8(MKU8(v12)));
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (value_u64(MKU64(v21)) <= v22);
	bool branch_Bool_24;
	if (value_bool(MKBOOL(v23))) {
		int64_t v25 = VI64(MKI64(v6));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		int64_t v29 = VI64(MKI64(v8));
		INT v30 = i64_to_int(v29);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint32_t v34 = (uint32_t)(v33);
		uint64_t v35 = (uint64_t)(value_u8(MKU8(v28)));
		uint32_t v36 = (uint32_t)(v35);
		uint64_t v37 = (uint64_t)(v36);
		uint64_t v38 = (uint64_t)(v34);
		bool v39 = (value_u64(MKU64(v37)) <= v38);
		branch_Bool_24 = v39;
	} else {
		decref(MKI64(VI64(MKI64(v8))));
		decref(MKI64(VI64(MKI64(v6))));
		bool v40 = false;
		branch_Bool_24 = v40;
	}
	bool v41 = !branch_Bool_24;
	*out_ZPlusMirth_3 = v5;
	return v41;
}
static bool mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	int64_t v9 = v7;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	int64_t v13 = v6;
	INT v14 = i64_to_int(v13);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(value_u8(MKU8(v12)));
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (value_u64(MKU64(v21)) <= v22);
	bool branch_Bool_24;
	if (value_bool(MKBOOL(v23))) {
		int64_t v25 = VI64(MKI64(v6));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		int64_t v29 = VI64(MKI64(v8));
		INT v30 = i64_to_int(v29);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint32_t v34 = (uint32_t)(v33);
		uint64_t v35 = (uint64_t)(value_u8(MKU8(v28)));
		uint32_t v36 = (uint32_t)(v35);
		uint64_t v37 = (uint64_t)(v36);
		uint64_t v38 = (uint64_t)(v34);
		bool v39 = (value_u64(MKU64(v37)) <= v38);
		branch_Bool_24 = v39;
	} else {
		decref(MKI64(VI64(MKI64(v8))));
		decref(MKI64(VI64(MKI64(v6))));
		bool v40 = false;
		branch_Bool_24 = v40;
	}
	PTUP branch_ZPlusMirth_41;
	uint64_t branch_Name_42;
	bool branch_Bool_43;
	if (branch_Bool_24) {
		bool v44 = true;
		branch_Bool_43 = v44;
		branch_Name_42 = in_Name_2;
		branch_ZPlusMirth_41 = v5;
	} else {
		PTUP v45;
		int64_t v46 = mw_mirth_name_Name_head(v5, in_Name_2, &v45);
		int64_t v47 = 43LL /* B'+' */;
		int64_t v48 = v46;
		INT v49 = i64_to_int(v48);
		uint64_t v50 = int_to_u64(v49);
		uint8_t v51 = (uint8_t)(v50);
		int64_t v52 = v47;
		INT v53 = i64_to_int(v52);
		uint64_t v54 = int_to_u64(v53);
		uint8_t v55 = (uint8_t)(v54);
		uint64_t v56 = (uint64_t)(v55);
		uint32_t v57 = (uint32_t)(v56);
		uint64_t v58 = (uint64_t)(value_u8(MKU8(v51)));
		uint32_t v59 = (uint32_t)(v58);
		uint64_t v60 = (uint64_t)(v59);
		uint64_t v61 = (uint64_t)(v57);
		bool v62 = (value_u64(MKU64(v60)) == v61);
		uint64_t branch_Name_63;
		PTUP branch_ZPlusMirth_64;
		bool branch_Bool_65;
		if (v62) {
			PTUP v66;
			int64_t v67 = mw_mirth_name_Name_tailZ_head(v45, in_Name_2, &v66);
			int64_t v68 = 97LL /* B'a' */;
			int64_t v69 = 122LL /* B'z' */;
			int64_t v70 = v68;
			INT v71 = i64_to_int(v70);
			uint64_t v72 = int_to_u64(v71);
			uint8_t v73 = (uint8_t)(v72);
			int64_t v74 = v67;
			INT v75 = i64_to_int(v74);
			uint64_t v76 = int_to_u64(v75);
			uint8_t v77 = (uint8_t)(v76);
			uint64_t v78 = (uint64_t)(v77);
			uint32_t v79 = (uint32_t)(v78);
			uint64_t v80 = (uint64_t)(value_u8(MKU8(v73)));
			uint32_t v81 = (uint32_t)(v80);
			uint64_t v82 = (uint64_t)(v81);
			uint64_t v83 = (uint64_t)(v79);
			bool v84 = (value_u64(MKU64(v82)) <= v83);
			bool branch_Bool_85;
			if (value_bool(MKBOOL(v84))) {
				int64_t v86 = VI64(MKI64(v67));
				INT v87 = i64_to_int(v86);
				uint64_t v88 = int_to_u64(v87);
				uint8_t v89 = (uint8_t)(v88);
				int64_t v90 = VI64(MKI64(v69));
				INT v91 = i64_to_int(v90);
				uint64_t v92 = int_to_u64(v91);
				uint8_t v93 = (uint8_t)(v92);
				uint64_t v94 = (uint64_t)(v93);
				uint32_t v95 = (uint32_t)(v94);
				uint64_t v96 = (uint64_t)(value_u8(MKU8(v89)));
				uint32_t v97 = (uint32_t)(v96);
				uint64_t v98 = (uint64_t)(v97);
				uint64_t v99 = (uint64_t)(v95);
				bool v100 = (value_u64(MKU64(v98)) <= v99);
				branch_Bool_85 = v100;
			} else {
				decref(MKI64(VI64(MKI64(v69))));
				decref(MKI64(VI64(MKI64(v67))));
				bool v101 = false;
				branch_Bool_85 = v101;
			}
			branch_Bool_65 = branch_Bool_85;
			branch_ZPlusMirth_64 = v66;
			branch_Name_63 = in_Name_2;
		} else {
			bool v102 = false;
			branch_Bool_65 = v102;
			branch_ZPlusMirth_64 = v45;
			branch_Name_63 = in_Name_2;
		}
		branch_Bool_43 = branch_Bool_65;
		branch_Name_42 = branch_Name_63;
		branch_ZPlusMirth_41 = branch_ZPlusMirth_64;
	}
	decref(MKU64(branch_Name_42));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_41;
	return value_bool(MKBOOL(branch_Bool_43));
}
static bool mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	int64_t v9 = v7;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	int64_t v13 = v6;
	INT v14 = i64_to_int(v13);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(value_u8(MKU8(v12)));
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (value_u64(MKU64(v21)) <= v22);
	bool branch_Bool_24;
	if (value_bool(MKBOOL(v23))) {
		int64_t v25 = VI64(MKI64(v6));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		int64_t v29 = VI64(MKI64(v8));
		INT v30 = i64_to_int(v29);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint32_t v34 = (uint32_t)(v33);
		uint64_t v35 = (uint64_t)(value_u8(MKU8(v28)));
		uint32_t v36 = (uint32_t)(v35);
		uint64_t v37 = (uint64_t)(v36);
		uint64_t v38 = (uint64_t)(v34);
		bool v39 = (value_u64(MKU64(v37)) <= v38);
		branch_Bool_24 = v39;
	} else {
		decref(MKI64(VI64(MKI64(v8))));
		decref(MKI64(VI64(MKI64(v6))));
		bool v40 = false;
		branch_Bool_24 = v40;
	}
	*out_ZPlusMirth_3 = v5;
	return branch_Bool_24;
}
static bool mw_mirth_name_Name_couldZ_beZ_typeZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	int64_t v9 = v7;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	int64_t v13 = v6;
	INT v14 = i64_to_int(v13);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(value_u8(MKU8(v12)));
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (value_u64(MKU64(v21)) <= v22);
	bool branch_Bool_24;
	if (value_bool(MKBOOL(v23))) {
		int64_t v25 = VI64(MKI64(v6));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		int64_t v29 = VI64(MKI64(v8));
		INT v30 = i64_to_int(v29);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint32_t v34 = (uint32_t)(v33);
		uint64_t v35 = (uint64_t)(value_u8(MKU8(v28)));
		uint32_t v36 = (uint32_t)(v35);
		uint64_t v37 = (uint64_t)(v36);
		uint64_t v38 = (uint64_t)(v34);
		bool v39 = (value_u64(MKU64(v37)) <= v38);
		branch_Bool_24 = v39;
	} else {
		decref(MKI64(VI64(MKI64(v8))));
		decref(MKI64(VI64(MKI64(v6))));
		bool v40 = false;
		branch_Bool_24 = v40;
	}
	*out_ZPlusMirth_3 = v5;
	return branch_Bool_24;
}
static bool mw_mirth_name_Name_couldZ_beZ_typeZ_con (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 65LL /* B'A' */;
	int64_t v8 = 90LL /* B'Z' */;
	int64_t v9 = v7;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	int64_t v13 = v6;
	INT v14 = i64_to_int(v13);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(value_u8(MKU8(v12)));
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (value_u64(MKU64(v21)) <= v22);
	bool branch_Bool_24;
	if (value_bool(MKBOOL(v23))) {
		int64_t v25 = VI64(MKI64(v6));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		int64_t v29 = VI64(MKI64(v8));
		INT v30 = i64_to_int(v29);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint32_t v34 = (uint32_t)(v33);
		uint64_t v35 = (uint64_t)(value_u8(MKU8(v28)));
		uint32_t v36 = (uint32_t)(v35);
		uint64_t v37 = (uint64_t)(v36);
		uint64_t v38 = (uint64_t)(v34);
		bool v39 = (value_u64(MKU64(v37)) <= v38);
		branch_Bool_24 = v39;
	} else {
		decref(MKI64(VI64(MKI64(v8))));
		decref(MKI64(VI64(MKI64(v6))));
		bool v40 = false;
		branch_Bool_24 = v40;
	}
	*out_ZPlusMirth_3 = v5;
	return branch_Bool_24;
}
static bool mw_mirth_name_Name_isZ_typeZ_hole (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 63LL /* B'?' */;
	int64_t v8 = v6;
	INT v9 = i64_to_int(v8);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	int64_t v12 = v7;
	INT v13 = i64_to_int(v12);
	uint64_t v14 = int_to_u64(v13);
	uint8_t v15 = (uint8_t)(v14);
	uint64_t v16 = (uint64_t)(v15);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(value_u8(MKU8(v11)));
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint64_t v21 = (uint64_t)(v17);
	bool v22 = (value_u64(MKU64(v20)) == v21);
	PTUP v23;
	int64_t v24 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v23);
	int64_t v25 = 0LL /* BNUL */;
	int64_t v26 = v24;
	INT v27 = i64_to_int(v26);
	uint64_t v28 = int_to_u64(v27);
	uint8_t v29 = (uint8_t)(v28);
	int64_t v30 = v25;
	INT v31 = i64_to_int(v30);
	uint64_t v32 = int_to_u64(v31);
	uint8_t v33 = (uint8_t)(v32);
	uint64_t v34 = (uint64_t)(v33);
	uint32_t v35 = (uint32_t)(v34);
	uint64_t v36 = (uint64_t)(value_u8(MKU8(v29)));
	uint32_t v37 = (uint32_t)(v36);
	uint64_t v38 = (uint64_t)(v37);
	uint64_t v39 = (uint64_t)(v35);
	bool v40 = (value_u64(MKU64(v38)) == v39);
	int64_t v41 = 97LL /* B'a' */;
	int64_t v42 = 122LL /* B'z' */;
	int64_t v43 = v41;
	INT v44 = i64_to_int(v43);
	uint64_t v45 = int_to_u64(v44);
	uint8_t v46 = (uint8_t)(v45);
	int64_t v47 = v24;
	INT v48 = i64_to_int(v47);
	uint64_t v49 = int_to_u64(v48);
	uint8_t v50 = (uint8_t)(v49);
	uint64_t v51 = (uint64_t)(v50);
	uint32_t v52 = (uint32_t)(v51);
	uint64_t v53 = (uint64_t)(value_u8(MKU8(v46)));
	uint32_t v54 = (uint32_t)(v53);
	uint64_t v55 = (uint64_t)(v54);
	uint64_t v56 = (uint64_t)(v52);
	bool v57 = (value_u64(MKU64(v55)) <= v56);
	bool branch_Bool_58;
	if (value_bool(MKBOOL(v57))) {
		int64_t v59 = VI64(MKI64(v24));
		INT v60 = i64_to_int(v59);
		uint64_t v61 = int_to_u64(v60);
		uint8_t v62 = (uint8_t)(v61);
		int64_t v63 = VI64(MKI64(v42));
		INT v64 = i64_to_int(v63);
		uint64_t v65 = int_to_u64(v64);
		uint8_t v66 = (uint8_t)(v65);
		uint64_t v67 = (uint64_t)(v66);
		uint32_t v68 = (uint32_t)(v67);
		uint64_t v69 = (uint64_t)(value_u8(MKU8(v62)));
		uint32_t v70 = (uint32_t)(v69);
		uint64_t v71 = (uint64_t)(v70);
		uint64_t v72 = (uint64_t)(v68);
		bool v73 = (value_u64(MKU64(v71)) <= v72);
		branch_Bool_58 = v73;
	} else {
		decref(MKI64(VI64(MKI64(v42))));
		decref(MKI64(VI64(MKI64(v24))));
		bool v74 = false;
		branch_Bool_58 = v74;
	}
	bool v75 = (v40 || branch_Bool_58);
	bool v76 = (v22 && v75);
	*out_ZPlusMirth_3 = v23;
	return v76;
}
static bool mw_mirth_name_Name_isZ_underscore (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 95LL /* B'_' */;
	int64_t v8 = v6;
	INT v9 = i64_to_int(v8);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	int64_t v12 = v7;
	INT v13 = i64_to_int(v12);
	uint64_t v14 = int_to_u64(v13);
	uint8_t v15 = (uint8_t)(v14);
	uint64_t v16 = (uint64_t)(v15);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(value_u8(MKU8(v11)));
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint64_t v21 = (uint64_t)(v17);
	bool v22 = (value_u64(MKU64(v20)) == v21);
	PTUP v23;
	int64_t v24 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v23);
	int64_t v25 = 0LL /* BNUL */;
	int64_t v26 = v24;
	INT v27 = i64_to_int(v26);
	uint64_t v28 = int_to_u64(v27);
	uint8_t v29 = (uint8_t)(v28);
	int64_t v30 = v25;
	INT v31 = i64_to_int(v30);
	uint64_t v32 = int_to_u64(v31);
	uint8_t v33 = (uint8_t)(v32);
	uint64_t v34 = (uint64_t)(v33);
	uint32_t v35 = (uint32_t)(v34);
	uint64_t v36 = (uint64_t)(value_u8(MKU8(v29)));
	uint32_t v37 = (uint32_t)(v36);
	uint64_t v38 = (uint64_t)(v37);
	uint64_t v39 = (uint64_t)(v35);
	bool v40 = (value_u64(MKU64(v38)) == v39);
	bool v41 = (v22 && v40);
	*out_ZPlusMirth_3 = v23;
	return v41;
}
static bool mw_mirth_name_Name_couldZ_beZ_stackZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 42LL /* B'*' */;
	int64_t v8 = v6;
	INT v9 = i64_to_int(v8);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	int64_t v12 = v7;
	INT v13 = i64_to_int(v12);
	uint64_t v14 = int_to_u64(v13);
	uint8_t v15 = (uint8_t)(v14);
	uint64_t v16 = (uint64_t)(v15);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(value_u8(MKU8(v11)));
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint64_t v21 = (uint64_t)(v17);
	bool v22 = (value_u64(MKU64(v20)) == v21);
	PTUP v23;
	int64_t v24 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v23);
	int64_t v25 = 97LL /* B'a' */;
	int64_t v26 = 122LL /* B'z' */;
	int64_t v27 = v25;
	INT v28 = i64_to_int(v27);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	int64_t v31 = v24;
	INT v32 = i64_to_int(v31);
	uint64_t v33 = int_to_u64(v32);
	uint8_t v34 = (uint8_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint32_t v36 = (uint32_t)(v35);
	uint64_t v37 = (uint64_t)(value_u8(MKU8(v30)));
	uint32_t v38 = (uint32_t)(v37);
	uint64_t v39 = (uint64_t)(v38);
	uint64_t v40 = (uint64_t)(v36);
	bool v41 = (value_u64(MKU64(v39)) <= v40);
	bool branch_Bool_42;
	if (value_bool(MKBOOL(v41))) {
		int64_t v43 = VI64(MKI64(v24));
		INT v44 = i64_to_int(v43);
		uint64_t v45 = int_to_u64(v44);
		uint8_t v46 = (uint8_t)(v45);
		int64_t v47 = VI64(MKI64(v26));
		INT v48 = i64_to_int(v47);
		uint64_t v49 = int_to_u64(v48);
		uint8_t v50 = (uint8_t)(v49);
		uint64_t v51 = (uint64_t)(v50);
		uint32_t v52 = (uint32_t)(v51);
		uint64_t v53 = (uint64_t)(value_u8(MKU8(v46)));
		uint32_t v54 = (uint32_t)(v53);
		uint64_t v55 = (uint64_t)(v54);
		uint64_t v56 = (uint64_t)(v52);
		bool v57 = (value_u64(MKU64(v55)) <= v56);
		branch_Bool_42 = v57;
	} else {
		decref(MKI64(VI64(MKI64(v26))));
		decref(MKI64(VI64(MKI64(v24))));
		bool v58 = false;
		branch_Bool_42 = v58;
	}
	bool v59 = (v22 && branch_Bool_42);
	*out_ZPlusMirth_3 = v23;
	return v59;
}
static bool mw_mirth_name_Name_couldZ_beZ_resourceZ_var (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 43LL /* B'+' */;
	int64_t v8 = v6;
	INT v9 = i64_to_int(v8);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	int64_t v12 = v7;
	INT v13 = i64_to_int(v12);
	uint64_t v14 = int_to_u64(v13);
	uint8_t v15 = (uint8_t)(v14);
	uint64_t v16 = (uint64_t)(v15);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(value_u8(MKU8(v11)));
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint64_t v21 = (uint64_t)(v17);
	bool v22 = (value_u64(MKU64(v20)) == v21);
	PTUP v23;
	int64_t v24 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v23);
	int64_t v25 = 97LL /* B'a' */;
	int64_t v26 = 122LL /* B'z' */;
	int64_t v27 = v25;
	INT v28 = i64_to_int(v27);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	int64_t v31 = v24;
	INT v32 = i64_to_int(v31);
	uint64_t v33 = int_to_u64(v32);
	uint8_t v34 = (uint8_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint32_t v36 = (uint32_t)(v35);
	uint64_t v37 = (uint64_t)(value_u8(MKU8(v30)));
	uint32_t v38 = (uint32_t)(v37);
	uint64_t v39 = (uint64_t)(v38);
	uint64_t v40 = (uint64_t)(v36);
	bool v41 = (value_u64(MKU64(v39)) <= v40);
	bool branch_Bool_42;
	if (value_bool(MKBOOL(v41))) {
		int64_t v43 = VI64(MKI64(v24));
		INT v44 = i64_to_int(v43);
		uint64_t v45 = int_to_u64(v44);
		uint8_t v46 = (uint8_t)(v45);
		int64_t v47 = VI64(MKI64(v26));
		INT v48 = i64_to_int(v47);
		uint64_t v49 = int_to_u64(v48);
		uint8_t v50 = (uint8_t)(v49);
		uint64_t v51 = (uint64_t)(v50);
		uint32_t v52 = (uint32_t)(v51);
		uint64_t v53 = (uint64_t)(value_u8(MKU8(v46)));
		uint32_t v54 = (uint32_t)(v53);
		uint64_t v55 = (uint64_t)(v54);
		uint64_t v56 = (uint64_t)(v52);
		bool v57 = (value_u64(MKU64(v55)) <= v56);
		branch_Bool_42 = v57;
	} else {
		decref(MKI64(VI64(MKI64(v26))));
		decref(MKI64(VI64(MKI64(v24))));
		bool v58 = false;
		branch_Bool_42 = v58;
	}
	bool v59 = (v22 && branch_Bool_42);
	*out_ZPlusMirth_3 = v23;
	return v59;
}
static bool mw_mirth_name_Name_couldZ_beZ_resourceZ_con (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 43LL /* B'+' */;
	int64_t v8 = v6;
	INT v9 = i64_to_int(v8);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	int64_t v12 = v7;
	INT v13 = i64_to_int(v12);
	uint64_t v14 = int_to_u64(v13);
	uint8_t v15 = (uint8_t)(v14);
	uint64_t v16 = (uint64_t)(v15);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(value_u8(MKU8(v11)));
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint64_t v21 = (uint64_t)(v17);
	bool v22 = (value_u64(MKU64(v20)) == v21);
	PTUP v23;
	int64_t v24 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v23);
	int64_t v25 = 65LL /* B'A' */;
	int64_t v26 = 90LL /* B'Z' */;
	int64_t v27 = v25;
	INT v28 = i64_to_int(v27);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	int64_t v31 = v24;
	INT v32 = i64_to_int(v31);
	uint64_t v33 = int_to_u64(v32);
	uint8_t v34 = (uint8_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint32_t v36 = (uint32_t)(v35);
	uint64_t v37 = (uint64_t)(value_u8(MKU8(v30)));
	uint32_t v38 = (uint32_t)(v37);
	uint64_t v39 = (uint64_t)(v38);
	uint64_t v40 = (uint64_t)(v36);
	bool v41 = (value_u64(MKU64(v39)) <= v40);
	bool branch_Bool_42;
	if (value_bool(MKBOOL(v41))) {
		int64_t v43 = VI64(MKI64(v24));
		INT v44 = i64_to_int(v43);
		uint64_t v45 = int_to_u64(v44);
		uint8_t v46 = (uint8_t)(v45);
		int64_t v47 = VI64(MKI64(v26));
		INT v48 = i64_to_int(v47);
		uint64_t v49 = int_to_u64(v48);
		uint8_t v50 = (uint8_t)(v49);
		uint64_t v51 = (uint64_t)(v50);
		uint32_t v52 = (uint32_t)(v51);
		uint64_t v53 = (uint64_t)(value_u8(MKU8(v46)));
		uint32_t v54 = (uint32_t)(v53);
		uint64_t v55 = (uint64_t)(v54);
		uint64_t v56 = (uint64_t)(v52);
		bool v57 = (value_u64(MKU64(v55)) <= v56);
		branch_Bool_42 = v57;
	} else {
		decref(MKI64(VI64(MKI64(v26))));
		decref(MKI64(VI64(MKI64(v24))));
		bool v58 = false;
		branch_Bool_42 = v58;
	}
	bool v59 = (v22 && branch_Bool_42);
	*out_ZPlusMirth_3 = v23;
	return v59;
}
static bool mw_mirth_name_Name_couldZ_beZ_rawZ_fieldZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 126LL /* B'~' */;
	int64_t v8 = v6;
	INT v9 = i64_to_int(v8);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	int64_t v12 = v7;
	INT v13 = i64_to_int(v12);
	uint64_t v14 = int_to_u64(v13);
	uint8_t v15 = (uint8_t)(v14);
	uint64_t v16 = (uint64_t)(v15);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(value_u8(MKU8(v11)));
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint64_t v21 = (uint64_t)(v17);
	bool v22 = (value_u64(MKU64(v20)) == v21);
	*out_ZPlusMirth_3 = v5;
	return v22;
}
static bool mw_mirth_name_Name_couldZ_beZ_fieldZ_nameZAsk (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	int64_t v9 = v7;
	INT v10 = i64_to_int(v9);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	int64_t v13 = v6;
	INT v14 = i64_to_int(v13);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(value_u8(MKU8(v12)));
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (value_u64(MKU64(v21)) <= v22);
	bool branch_Bool_24;
	if (value_bool(MKBOOL(v23))) {
		int64_t v25 = VI64(MKI64(v6));
		INT v26 = i64_to_int(v25);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		int64_t v29 = VI64(MKI64(v8));
		INT v30 = i64_to_int(v29);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint32_t v34 = (uint32_t)(v33);
		uint64_t v35 = (uint64_t)(value_u8(MKU8(v28)));
		uint32_t v36 = (uint32_t)(v35);
		uint64_t v37 = (uint64_t)(v36);
		uint64_t v38 = (uint64_t)(v34);
		bool v39 = (value_u64(MKU64(v37)) <= v38);
		branch_Bool_24 = v39;
	} else {
		decref(MKI64(VI64(MKI64(v8))));
		decref(MKI64(VI64(MKI64(v6))));
		bool v40 = false;
		branch_Bool_24 = v40;
	}
	PTUP branch_ZPlusMirth_41;
	bool branch_Bool_42;
	if (branch_Bool_24) {
		bool v43 = true;
		branch_Bool_42 = v43;
		branch_ZPlusMirth_41 = v5;
	} else {
		PTUP v44;
		bool v45 = mw_mirth_name_Name_couldZ_beZ_rawZ_fieldZ_nameZAsk(v5, in_Name_2, &v44);
		branch_Bool_42 = v45;
		branch_ZPlusMirth_41 = v44;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_41;
	return branch_Bool_42;
}
static bool mw_mirth_name_Name_couldZ_beZ_constructor (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (v6) {
		case 43LL: { // B'+'
			PTUP v9;
			int64_t v10 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v9);
			int64_t v11 = 65LL /* B'A' */;
			int64_t v12 = 90LL /* B'Z' */;
			int64_t v13 = v11;
			INT v14 = i64_to_int(v13);
			uint64_t v15 = int_to_u64(v14);
			uint8_t v16 = (uint8_t)(v15);
			int64_t v17 = v10;
			INT v18 = i64_to_int(v17);
			uint64_t v19 = int_to_u64(v18);
			uint8_t v20 = (uint8_t)(v19);
			uint64_t v21 = (uint64_t)(v20);
			uint32_t v22 = (uint32_t)(v21);
			uint64_t v23 = (uint64_t)(value_u8(MKU8(v16)));
			uint32_t v24 = (uint32_t)(v23);
			uint64_t v25 = (uint64_t)(v24);
			uint64_t v26 = (uint64_t)(v22);
			bool v27 = (value_u64(MKU64(v25)) <= v26);
			bool branch_Bool_28;
			if (value_bool(MKBOOL(v27))) {
				int64_t v29 = VI64(MKI64(v10));
				INT v30 = i64_to_int(v29);
				uint64_t v31 = int_to_u64(v30);
				uint8_t v32 = (uint8_t)(v31);
				int64_t v33 = VI64(MKI64(v12));
				INT v34 = i64_to_int(v33);
				uint64_t v35 = int_to_u64(v34);
				uint8_t v36 = (uint8_t)(v35);
				uint64_t v37 = (uint64_t)(v36);
				uint32_t v38 = (uint32_t)(v37);
				uint64_t v39 = (uint64_t)(value_u8(MKU8(v32)));
				uint32_t v40 = (uint32_t)(v39);
				uint64_t v41 = (uint64_t)(v40);
				uint64_t v42 = (uint64_t)(v38);
				bool v43 = (value_u64(MKU64(v41)) <= v42);
				branch_Bool_28 = v43;
			} else {
				decref(MKI64(VI64(MKI64(v12))));
				decref(MKI64(VI64(MKI64(v10))));
				bool v44 = false;
				branch_Bool_28 = v44;
			}
			branch_Bool_8 = branch_Bool_28;
			branch_ZPlusMirth_7 = v9;
		} break;
		default: {
			decref(MKU64(in_Name_2));
			int64_t v45 = 65LL /* B'A' */;
			int64_t v46 = 90LL /* B'Z' */;
			int64_t v47 = v45;
			INT v48 = i64_to_int(v47);
			uint64_t v49 = int_to_u64(v48);
			uint8_t v50 = (uint8_t)(v49);
			int64_t v51 = VI64(MKI64(v6));
			INT v52 = i64_to_int(v51);
			uint64_t v53 = int_to_u64(v52);
			uint8_t v54 = (uint8_t)(v53);
			uint64_t v55 = (uint64_t)(v54);
			uint32_t v56 = (uint32_t)(v55);
			uint64_t v57 = (uint64_t)(value_u8(MKU8(v50)));
			uint32_t v58 = (uint32_t)(v57);
			uint64_t v59 = (uint64_t)(v58);
			uint64_t v60 = (uint64_t)(v56);
			bool v61 = (value_u64(MKU64(v59)) <= v60);
			bool branch_Bool_62;
			if (value_bool(MKBOOL(v61))) {
				int64_t v63 = VI64(MKI64(VI64(MKI64(v6))));
				INT v64 = i64_to_int(v63);
				uint64_t v65 = int_to_u64(v64);
				uint8_t v66 = (uint8_t)(v65);
				int64_t v67 = VI64(MKI64(v46));
				INT v68 = i64_to_int(v67);
				uint64_t v69 = int_to_u64(v68);
				uint8_t v70 = (uint8_t)(v69);
				uint64_t v71 = (uint64_t)(v70);
				uint32_t v72 = (uint32_t)(v71);
				uint64_t v73 = (uint64_t)(value_u8(MKU8(v66)));
				uint32_t v74 = (uint32_t)(v73);
				uint64_t v75 = (uint64_t)(v74);
				uint64_t v76 = (uint64_t)(v72);
				bool v77 = (value_u64(MKU64(v75)) <= v76);
				branch_Bool_62 = v77;
			} else {
				decref(MKI64(VI64(MKI64(v46))));
				decref(MKI64(VI64(MKI64(VI64(MKI64(v6))))));
				bool v78 = false;
				branch_Bool_62 = v78;
			}
			branch_Bool_8 = branch_Bool_62;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static bool mw_mirth_name_Namespace_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_Namespace_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Namespace_3)) {
		case 0LL: { // Root
			PTUP branch_ZPlusMirth_8;
			bool branch_Bool_9;
			switch (PTREXTRA(in_Namespace_2)) {
				case 0LL: { // Root
					bool v10 = true;
					branch_Bool_9 = v10;
					branch_ZPlusMirth_8 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Namespace_2));
					bool v11 = false;
					branch_Bool_9 = v11;
					branch_ZPlusMirth_8 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_9;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_8;
		} break;
		case 1LL: { // Package
			uint64_t v12 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			PTUP branch_ZPlusMirth_13;
			bool branch_Bool_14;
			switch (PTREXTRA(in_Namespace_2)) {
				case 1LL: { // Package
					uint64_t v15 = mtp_mirth_name_Namespace_Package(in_Namespace_2);
					bool v16 = (v12 == v15);
					branch_Bool_14 = v16;
					branch_ZPlusMirth_13 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Namespace_2));
					decref(MKU64(v12));
					bool v17 = false;
					branch_Bool_14 = v17;
					branch_ZPlusMirth_13 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_14;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_13;
		} break;
		case 2LL: { // Module
			uint64_t v18 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			PTUP branch_ZPlusMirth_19;
			bool branch_Bool_20;
			switch (PTREXTRA(in_Namespace_2)) {
				case 2LL: { // Module
					uint64_t v21 = mtp_mirth_name_Namespace_Module(in_Namespace_2);
					bool v22 = (v18 == v21);
					branch_Bool_20 = v22;
					branch_ZPlusMirth_19 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Namespace_2));
					decref(MKU64(v18));
					bool v23 = false;
					branch_Bool_20 = v23;
					branch_ZPlusMirth_19 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_20;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_19;
		} break;
		case 3LL: { // Tycon
			PTUP v24 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			PTUP branch_ZPlusMirth_25;
			bool branch_Bool_26;
			switch (PTREXTRA(in_Namespace_2)) {
				case 3LL: { // Tycon
					PTUP v27 = mtp_mirth_name_Namespace_Tycon(in_Namespace_2);
					PTUP v28;
					bool v29 = mw_mirth_tycon_Tycon_ZEqual(in_ZPlusMirth_1, v27, v24, &v28);
					branch_Bool_26 = v29;
					branch_ZPlusMirth_25 = v28;
				} break;
				default: {
					decref(MKTUP(in_Namespace_2));
					decref(MKTUP(v24));
					bool v30 = false;
					branch_Bool_26 = v30;
					branch_ZPlusMirth_25 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_26;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_25;
		} break;
		case 4LL: { // Word
			uint64_t v31 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			PTUP branch_ZPlusMirth_32;
			bool branch_Bool_33;
			switch (PTREXTRA(in_Namespace_2)) {
				case 4LL: { // Word
					uint64_t v34 = mtp_mirth_name_Namespace_Word(in_Namespace_2);
					bool v35 = (v31 == v34);
					branch_Bool_33 = v35;
					branch_ZPlusMirth_32 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Namespace_2));
					decref(MKU64(v31));
					bool v36 = false;
					branch_Bool_33 = v36;
					branch_ZPlusMirth_32 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_33;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_32;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static PTUP mw_mirth_name_Namespace_qname (PTUP in_ZPlusMirth_1, PTUP in_Namespace_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Namespace_2)) {
		case 0LL: { // Root
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v8 = mtp_mirth_name_Namespace_Package(in_Namespace_2);
			PTUP v9;
			PTUP v10 = mw_mirth_package_Package_qname(in_ZPlusMirth_1, v8, &v9);
			PTUP v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v10));
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = v9;
		} break;
		case 2LL: { // Module
			uint64_t v12 = mtp_mirth_name_Namespace_Module(in_Namespace_2);
			PTUP v13;
			PTUP v14 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v12, &v13);
			PTUP v15 = mtw_std_maybe_Maybe_1_Some(MKTUP(v14));
			branch_Maybe_6 = v15;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 3LL: { // Tycon
			PTUP v16 = mtp_mirth_name_Namespace_Tycon(in_Namespace_2);
			PTUP v17;
			PTUP v18 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v16, &v17);
			PTUP v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18));
			branch_Maybe_6 = v19;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 4LL: { // Word
			uint64_t v20 = mtp_mirth_name_Namespace_Word(in_Namespace_2);
			PTUP v21;
			PTUP v22 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, v20, &v21);
			PTUP v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(v22));
			branch_Maybe_6 = v23;
			branch_ZPlusMirth_5 = v21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_name_Namespace_moduleZAsk (PTUP in_ZPlusMirth_1, PTUP in_Namespace_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Namespace_2)) {
		case 0LL: { // Root
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v8 = mtp_mirth_name_Namespace_Package(in_Namespace_2);
			PTUP v9 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Module
			uint64_t v10 = mtp_mirth_name_Namespace_Module(in_Namespace_2);
			PTUP v11 = mtw_std_maybe_Maybe_1_Some(MKU64(v10));
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Tycon
			PTUP v12 = mtp_mirth_name_Namespace_Tycon(in_Namespace_2);
			PTUP v13;
			PTUP v14 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v12, &v13);
			PTUP v15 = VTUP(((TUP*)PTRPTR(v14))->cells[0]);
			incref(MKTUP(v15));
			decref(MKTUP(v14));
			PTUP v16;
			PTUP v17 = mw_mirth_name_Namespace_moduleZAsk(v13, v15, &v16);
			branch_Maybe_6 = v17;
			branch_ZPlusMirth_5 = v16;
		} break;
		case 4LL: { // Word
			uint64_t v18 = mtp_mirth_name_Namespace_Word(in_Namespace_2);
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v19;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_name_Namespace_Prim (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4;
	uint64_t v5 = mw_mirth_module_Module_Prim(in_ZPlusMirth_1, &v4);
	PTUP v6 = mtw_mirth_name_Namespace_Module(v5);
	*out_ZPlusMirth_2 = v4;
	return v6;
}
static void mw_mirth_name_Namespace_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (PTREXTRA(in_Namespace_3)) {
		case 0LL: { // Root
			STR* v8;
			STRLIT(v8, "<root>", 6);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v10 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			PTUP v11;
			STR* v12;
			mw_mirth_package_Package_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v10, &v11, &v12);
			branch_ZPlusStr_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 2LL: { // Module
			uint64_t v13 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			PTUP v14;
			uint64_t v15 = mw_mirth_module_Module_name(in_ZPlusMirth_1, v13, &v14);
			PTUP v16;
			STR* v17;
			mw_mirth_name_Name_nameZThen(v14, in_ZPlusStr_2, v15, &v16, &v17);
			branch_ZPlusStr_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 3LL: { // Tycon
			PTUP v18 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			PTUP v19;
			uint64_t v20 = mw_mirth_tycon_Tycon_name(in_ZPlusMirth_1, v18, &v19);
			PTUP v21;
			STR* v22;
			mw_mirth_name_Name_nameZThen(v19, in_ZPlusStr_2, v20, &v21, &v22);
			branch_ZPlusStr_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		case 4LL: { // Word
			uint64_t v23 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			PTUP v24;
			uint64_t v25 = mw_mirth_word_Word_name(in_ZPlusMirth_1, v23, &v24);
			PTUP v26;
			STR* v27;
			mw_mirth_name_Name_nameZThen(v24, in_ZPlusStr_2, v25, &v26, &v27);
			branch_ZPlusStr_7 = v27;
			branch_ZPlusMirth_6 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_name_Namespace_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (PTREXTRA(in_Namespace_3)) {
		case 0LL: { // Root
			STR* v8;
			STRLIT(v8, "<root>", 6);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v10 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			PTUP v11;
			STR* v12;
			mw_mirth_package_Package_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v10, &v11, &v12);
			branch_ZPlusStr_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 2LL: { // Module
			uint64_t v13 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			PTUP v14;
			PTUP v15 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v13, &v14);
			PTUP v16;
			STR* v17;
			mw_mirth_name_QName_qnameZThen(v14, in_ZPlusStr_2, v15, &v16, &v17);
			branch_ZPlusStr_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 3LL: { // Tycon
			PTUP v18 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			PTUP v19;
			PTUP v20 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v18, &v19);
			PTUP v21;
			STR* v22;
			mw_mirth_name_QName_qnameZThen(v19, in_ZPlusStr_2, v20, &v21, &v22);
			branch_ZPlusStr_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		case 4LL: { // Word
			uint64_t v23 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			PTUP v24;
			PTUP v25 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, v23, &v24);
			PTUP v26;
			STR* v27;
			mw_mirth_name_QName_qnameZThen(v24, in_ZPlusStr_2, v25, &v26, &v27);
			branch_ZPlusStr_7 = v27;
			branch_ZPlusMirth_6 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_name_Namespace_mangledZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Namespace_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (PTREXTRA(in_Namespace_3)) {
		case 0LL: { // Root
			STR* v8;
			STRLIT(v8, "__root__", 8);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v10 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			PTUP v11;
			uint64_t v12 = mw_mirth_package_Package_name(in_ZPlusMirth_1, v10, &v11);
			PTUP v13;
			STR* v14;
			mw_mirth_name_Name_mangledZThen(v11, in_ZPlusStr_2, v12, &v13, &v14);
			branch_ZPlusStr_7 = v14;
			branch_ZPlusMirth_6 = v13;
		} break;
		case 2LL: { // Module
			uint64_t v15 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			PTUP v16;
			PTUP v17 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v15, &v16);
			PTUP v18;
			STR* v19;
			mw_mirth_name_QName_mangledZThen(v16, in_ZPlusStr_2, v17, &v18, &v19);
			branch_ZPlusStr_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 3LL: { // Tycon
			PTUP v20 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			PTUP v21;
			PTUP v22 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v20, &v21);
			PTUP v23;
			STR* v24;
			mw_mirth_name_QName_mangledZThen(v21, in_ZPlusStr_2, v22, &v23, &v24);
			branch_ZPlusStr_7 = v24;
			branch_ZPlusMirth_6 = v23;
		} break;
		case 4LL: { // Word
			uint64_t v25 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			PTUP v26;
			PTUP v27 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, v25, &v26);
			PTUP v28;
			STR* v29;
			mw_mirth_name_QName_mangledZThen(v26, in_ZPlusStr_2, v27, &v28, &v29);
			branch_ZPlusStr_7 = v29;
			branch_ZPlusMirth_6 = v28;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static PTUP mw_mirth_name_QName_Mk (PTUP in_Namespace_1, uint64_t in_Name_2, INT in_Int_3) {
	PTUP v5 = mtw_mirth_name_QName_QName(in_Namespace_1, in_Name_2, in_Int_3);
	return v5;
}
static bool mw_mirth_name_QName_ZEqual (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	uint64_t v7;
	INT v8;
	mtp_mirth_name_QName_QName(in_QName_3, &v6, &v7, &v8);
	PTUP v9;
	uint64_t v10;
	INT v11;
	mtp_mirth_name_QName_QName(in_QName_2, &v9, &v10, &v11);
	bool v12 = (v7 == v10);
	bool v13 = int_eq(v11, v8);
	bool v14 = (v12 && v13);
	PTUP v15;
	bool v16 = mw_mirth_name_Namespace_ZEqual(in_ZPlusMirth_1, v9, v6, &v15);
	bool v17 = (v14 && v16);
	*out_ZPlusMirth_4 = v15;
	return v17;
}
static PTUP mw_mirth_name_QName_defZ_hardZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_QName_2));
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_QName_2))->cells[1]);
	decref(MKTUP(in_QName_2));
	PTUP v6;
	PTUP v7 = mw_mirth_name_Name_defs(in_ZPlusMirth_1, v5, &v6);
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	bool v9 = true;
	PTUP r10 = v6;
	PTUP v11 = in_QName_2;
	PTUP v12 = v8;
	PTUP v13 = v7;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		PTUP r16 = r10;
		PTUP v17 = v11;
		PTUP v18 = v12;
		PTUP v19 = v13;
		bool v20 = v14;
		PTUP v21;
		PTUP v22 = mw_std_list_List_1_uncons(v19, &v21);
		PTUP branch_ZPlusMirth_23;
		PTUP branch_QName_24;
		PTUP branch_Maybe_25;
		PTUP branch_List_26;
		bool branch_Bool_27;
		switch (PTREXTRA(v22)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v22);
				incref(MKTUP(VTUP(v28)));
				incref(MKTUP(v17));
				PTUP v29;
				PTUP v30 = mw_mirth_def_Def_qnameZ_hard(r16, VTUP(MKTUP(VTUP(v28))), &v29);
				PTUP v31;
				bool v32 = mw_mirth_name_QName_ZEqual(v29, VTUP(MKTUP(v17)), v30, &v31);
				PTUP branch_ZPlusMirth_33;
				PTUP branch_QName_34;
				PTUP branch_Maybe_35;
				if (v32) {
					PTUP v36 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v28)));
					branch_Maybe_35 = v36;
					branch_QName_34 = VTUP(MKTUP(v17));
					branch_ZPlusMirth_33 = v31;
				} else {
					decref(MKTUP(VTUP(v28)));
					PTUP v37 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_35 = v37;
					branch_QName_34 = VTUP(MKTUP(v17));
					branch_ZPlusMirth_33 = v31;
				}
				PTUP branch_ZPlusMirth_38;
				PTUP branch_QName_39;
				PTUP branch_Maybe_40;
				PTUP branch_List_41;
				switch (PTREXTRA(branch_Maybe_35)) {
					case 0LL: { // None
						branch_List_41 = VTUP(MKTUP(v21));
						branch_Maybe_40 = VTUP(MKTUP(v18));
						branch_QName_39 = branch_QName_34;
						branch_ZPlusMirth_38 = branch_ZPlusMirth_33;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v21))));
						decref(MKTUP(VTUP(MKTUP(v18))));
						PTUP v42 = PTRMK(0LL /* Nil */,0,0);
						branch_List_41 = v42;
						branch_Maybe_40 = branch_Maybe_35;
						branch_QName_39 = branch_QName_34;
						branch_ZPlusMirth_38 = branch_ZPlusMirth_33;
					} break;
				}
				bool v43 = true;
				branch_Bool_27 = v43;
				branch_List_26 = branch_List_41;
				branch_Maybe_25 = branch_Maybe_40;
				branch_QName_24 = branch_QName_39;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_38;
			} break;
			case 0LL: { // None
				bool v44 = false;
				branch_Bool_27 = v44;
				branch_List_26 = v21;
				branch_Maybe_25 = v18;
				branch_QName_24 = v17;
				branch_ZPlusMirth_23 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_27;
		v14 = branch_Bool_27;
		v13 = branch_List_26;
		v12 = branch_Maybe_25;
		v11 = branch_QName_24;
		r10 = branch_ZPlusMirth_23;
	}
	decref(MKTUP(v13));
	decref(MKTUP(v11));
	*out_ZPlusMirth_3 = r10;
	return VTUP(MKTUP(v12));
}
static bool mw_mirth_name_QName_definedZ_hardZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_name_QName_defZ_hardZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = PTREXTRA(v6);
	decref(MKTUP(v6));
	INT v8 = WRAP_I63(0LL);
	INT v9 = v8;
	INT v10 = i64_to_int(v7);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	*out_ZPlusMirth_3 = v5;
	return v12;
}
static PTUP mw_mirth_name_QName_defZ_softZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_QName_2));
	uint64_t v5 = value_u64(((TUP*)PTRPTR(in_QName_2))->cells[1]);
	decref(MKTUP(in_QName_2));
	PTUP v6;
	PTUP v7 = mw_mirth_name_Name_defs(in_ZPlusMirth_1, v5, &v6);
	PTUP v8 = mtw_std_maybe_Maybe_1_Some(MKTUP(in_QName_2));
	PTUP v9 = PTRMK(0LL /* None */,0,0);
	bool v10 = true;
	PTUP r11 = v6;
	PTUP v12 = v8;
	PTUP v13 = v9;
	PTUP v14 = v7;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		PTUP r17 = r11;
		PTUP v18 = v12;
		PTUP v19 = v13;
		PTUP v20 = v14;
		bool v21 = v15;
		PTUP v22;
		PTUP v23 = mw_std_list_List_1_uncons(v20, &v22);
		PTUP branch_ZPlusMirth_24;
		PTUP branch_Maybe_25;
		PTUP branch_Maybe_26;
		PTUP branch_List_27;
		bool branch_Bool_28;
		switch (PTREXTRA(v23)) {
			case 1LL: { // Some
				VAL v29 = mtp_std_maybe_Maybe_1_Some(v23);
				incref(MKTUP(VTUP(v29)));
				incref(MKTUP(v18));
				PTUP v30;
				PTUP v31 = mw_mirth_def_Def_qnameZ_soft(r17, VTUP(MKTUP(VTUP(v29))), &v30);
				PTUP branch_ZPlusMirth_32;
				bool branch_Bool_33;
				switch (PTREXTRA(v31)) {
					case 0LL: { // None
						int64_t v34 = PTREXTRA(VTUP(MKTUP(v18)));
						decref(MKTUP(VTUP(MKTUP(v18))));
						INT v35 = WRAP_I63(0LL);
						INT v36 = v35;
						INT v37 = i64_to_int(v34);
						bool v38 = int_eq(v37, v36);
						branch_Bool_33 = v38;
						branch_ZPlusMirth_32 = v30;
					} break;
					case 1LL: { // Some
						VAL v39 = mtp_std_maybe_Maybe_1_Some(v31);
						PTUP branch_ZPlusMirth_40;
						bool branch_Bool_41;
						switch (PTREXTRA(VTUP(MKTUP(v18)))) {
							case 1LL: { // Some
								VAL v42 = mtp_std_maybe_Maybe_1_Some(VTUP(MKTUP(v18)));
								PTUP v43;
								bool v44 = mw_mirth_name_QName_ZEqual(v30, VTUP(v42), VTUP(v39), &v43);
								branch_Bool_41 = v44;
								branch_ZPlusMirth_40 = v43;
							} break;
							case 0LL: { // None
								decref(MKTUP(VTUP(v39)));
								bool v45 = false;
								branch_Bool_41 = v45;
								branch_ZPlusMirth_40 = v30;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Bool_33 = branch_Bool_41;
						branch_ZPlusMirth_32 = branch_ZPlusMirth_40;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP branch_ZPlusMirth_46;
				PTUP branch_Maybe_47;
				PTUP branch_Maybe_48;
				if (branch_Bool_33) {
					PTUP v49 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v29)));
					branch_Maybe_48 = v49;
					branch_Maybe_47 = VTUP(MKTUP(v18));
					branch_ZPlusMirth_46 = branch_ZPlusMirth_32;
				} else {
					decref(MKTUP(VTUP(v29)));
					PTUP v50 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_48 = v50;
					branch_Maybe_47 = VTUP(MKTUP(v18));
					branch_ZPlusMirth_46 = branch_ZPlusMirth_32;
				}
				PTUP branch_ZPlusMirth_51;
				PTUP branch_Maybe_52;
				PTUP branch_Maybe_53;
				PTUP branch_List_54;
				switch (PTREXTRA(branch_Maybe_48)) {
					case 0LL: { // None
						branch_List_54 = VTUP(MKTUP(v22));
						branch_Maybe_53 = VTUP(MKTUP(v19));
						branch_Maybe_52 = branch_Maybe_47;
						branch_ZPlusMirth_51 = branch_ZPlusMirth_46;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v22))));
						decref(MKTUP(VTUP(MKTUP(v19))));
						PTUP v55 = PTRMK(0LL /* Nil */,0,0);
						branch_List_54 = v55;
						branch_Maybe_53 = branch_Maybe_48;
						branch_Maybe_52 = branch_Maybe_47;
						branch_ZPlusMirth_51 = branch_ZPlusMirth_46;
					} break;
				}
				bool v56 = true;
				branch_Bool_28 = v56;
				branch_List_27 = branch_List_54;
				branch_Maybe_26 = branch_Maybe_53;
				branch_Maybe_25 = branch_Maybe_52;
				branch_ZPlusMirth_24 = branch_ZPlusMirth_51;
			} break;
			case 0LL: { // None
				bool v57 = false;
				branch_Bool_28 = v57;
				branch_List_27 = v22;
				branch_Maybe_26 = v19;
				branch_Maybe_25 = v18;
				branch_ZPlusMirth_24 = r17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_28;
		v15 = branch_Bool_28;
		v14 = branch_List_27;
		v13 = branch_Maybe_26;
		v12 = branch_Maybe_25;
		r11 = branch_ZPlusMirth_24;
	}
	decref(MKTUP(v14));
	decref(MKTUP(v12));
	*out_ZPlusMirth_3 = r11;
	return VTUP(MKTUP(v13));
}
static bool mw_mirth_name_QName_definedZ_softZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = PTREXTRA(v6);
	decref(MKTUP(v6));
	INT v8 = WRAP_I63(0LL);
	INT v9 = v8;
	INT v10 = i64_to_int(v7);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	*out_ZPlusMirth_3 = v5;
	return v12;
}
static bool mw_mirth_name_QName_undefinedZ_softZAsk (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = PTREXTRA(v6);
	decref(MKTUP(v6));
	INT v8 = WRAP_I63(0LL);
	INT v9 = v8;
	INT v10 = i64_to_int(v7);
	bool v11 = int_eq(v10, v9);
	*out_ZPlusMirth_3 = v5;
	return v11;
}
static PTUP mw_mirth_name_QName_Prim (PTUP in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	uint64_t v7 = mw_mirth_name_Name_Name(in_ZPlusMirth_1, in_Str_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_name_Namespace_Prim(v6, &v8);
	PTUP v10 = mtw_mirth_name_QName_QName(v9, v7, in_Int_3);
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static void mw_mirth_name_QName_nameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_QName_3))->cells[1]);
	decref(MKTUP(in_QName_3));
	PTUP v7;
	STR* v8;
	mw_mirth_name_Name_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v7, &v8);
	*out_ZPlusStr_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_name_QName_nameZDivarityZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	incref(MKTUP(in_QName_3));
	PTUP v6;
	STR* v7;
	mw_mirth_name_QName_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, in_QName_3, &v6, &v7);
	INT v8 = value_int(((TUP*)PTRPTR(in_QName_3))->cells[2]);
	incref(MKINT(v8));
	decref(MKTUP(in_QName_3));
	incref(MKINT(v8));
	INT v9 = WRAP_I63(0LL);
	INT v10 = v9;
	bool v11 = int_lt(v10, v8);
	INT branch_Int_12;
	STR* branch_ZPlusStr_13;
	if (v11) {
		STR* v14;
		STRLIT(v14, "/", 1);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v7, &v15);
		incref(MKINT(v8));
		STR* v16 = int_to_str(v8);
		STR* v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(v16, v15, &v17);
		branch_ZPlusStr_13 = v17;
		branch_Int_12 = v8;
	} else {
		branch_ZPlusStr_13 = v7;
		branch_Int_12 = v8;
	}
	decref(MKINT(branch_Int_12));
	*out_ZPlusStr_5 = branch_ZPlusStr_13;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_name_QName_qnameZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	incref(MKTUP(in_QName_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_QName_3))->cells[0]);
	incref(MKTUP(v6));
	decref(MKTUP(in_QName_3));
	PTUP v7;
	STR* v8;
	mw_mirth_name_Namespace_qnameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v7, &v8);
	STR* v9;
	STRLIT(v9, ".", 1);
	STR* v10;
	mw_std_str_ZPlusStr_pushZ_strZBang(v9, v8, &v10);
	PTUP v11;
	STR* v12;
	mw_mirth_name_QName_nameZDivarityZThen(v7, v10, in_QName_3, &v11, &v12);
	*out_ZPlusStr_5 = v12;
	*out_ZPlusMirth_4 = v11;
}
static STR* mw_mirth_name_QName_mangled (PTUP in_ZPlusMirth_1, PTUP in_QName_2, PTUP *out_ZPlusMirth_3) {
	STR* v5;
	STRLIT(v5, "", 0);
	PTUP v6;
	STR* v7;
	mw_mirth_name_QName_mangledZThen(in_ZPlusMirth_1, v5, in_QName_2, &v6, &v7);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static void mw_mirth_name_QName_mangledZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_QName_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	uint64_t v7;
	INT v8;
	mtp_mirth_name_QName_QName(in_QName_3, &v6, &v7, &v8);
	PTUP v9;
	STR* v10;
	mw_mirth_name_Namespace_mangledZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v9, &v10);
	STR* v11;
	STRLIT(v11, "_", 1);
	STR* v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
	PTUP v13;
	STR* v14;
	mw_mirth_name_Name_mangledZThen(v9, v12, v7, &v13, &v14);
	incref(MKINT(v8));
	INT v15 = WRAP_I63(0LL);
	INT v16 = v15;
	bool v17 = int_lt(v16, v8);
	PTUP branch_ZPlusMirth_18;
	STR* branch_ZPlusStr_19;
	if (v17) {
		STR* v20;
		STRLIT(v20, "_", 1);
		STR* v21;
		mw_std_str_ZPlusStr_pushZ_strZBang(v20, v14, &v21);
		STR* v22 = int_to_str(v8);
		STR* v23;
		mw_std_str_ZPlusStr_pushZ_strZBang(v22, v21, &v23);
		branch_ZPlusStr_19 = v23;
		branch_ZPlusMirth_18 = v13;
	} else {
		decref(MKINT(v8));
		branch_ZPlusStr_19 = v14;
		branch_ZPlusMirth_18 = v13;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_19;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_18;
}
static STR* mw_mirth_name_QName_toZ_moduleZ_path (PTUP in_QName_1, PTUP in_ZPlusMirth_2, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_QName_1));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_QName_1))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(in_QName_1));
	STR* branch_Path_8;
	PTUP branch_ZPlusMirth_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Package
			uint64_t v10 = mtp_mirth_name_Namespace_Package(v7);
			PTUP v11;
			PTUP v12 = mw_mirth_package_Package_pathZ_orZ_search(in_ZPlusMirth_2, v10, &v11);
			PTUP branch_ZPlusMirth_13;
			uint64_t branch_Package_14;
			VAL branch_z_x1_15;
			switch (PTREXTRA(v12)) {
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					branch_z_x1_15 = v16;
					branch_Package_14 = v10;
					branch_ZPlusMirth_13 = v11;
				} break;
				case 0LL: { // None
					STR* v17;
					STRLIT(v17, "False path defined for package ", 31);
					PTUP v18;
					uint64_t v19 = mw_mirth_package_Package_name(v11, v10, &v18);
					PTUP v20;
					STR* v21 = mw_mirth_name_Name_ZToStr(v18, v19, &v20);
					mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v20, v21);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(MKU64(branch_Package_14));
			uint64_t v24 = value_u64(((TUP*)PTRPTR(in_QName_1))->cells[1]);
			decref(MKTUP(in_QName_1));
			PTUP v25;
			STR* v26 = mw_mirth_name_Name_ZToStr(branch_ZPlusMirth_13, v24, &v25);
			STR* v27;
			STRLIT(v27, ".mth", 4);
			STR* v28 = str_cat(v26, v27);
			STR* v29 = mw_std_path_Path_join(value_str(branch_z_x1_15), v28);
			branch_ZPlusMirth_9 = v25;
			branch_Path_8 = v29;
		} break;
		default: {
			decref(MKTUP(v7));
			STR* v30;
			STRLIT(v30, "expected module name in QName.to-module-path", 44);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_2, v30);
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Path_8;
}
static PTUP mw_mirth_name_DName_rootZAsk (PTUP in_DName_1) {
	PTUP v3;
	PTUP v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	decref(MKTUP(v3));
	return v4;
}
static PTUP mw_mirth_name_DName_parts (PTUP in_DName_1) {
	PTUP v3;
	PTUP v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	decref(MKTUP(v4));
	return VTUP(MKTUP(v3));
}
static uint64_t mw_mirth_name_DName_lastZ_name (PTUP in_DName_1) {
	PTUP v3 = mw_mirth_name_DName_parts(in_DName_1);
	VAL v4 = mw_std_list_Nest_1_last(v3);
	return value_u64(v4);
}
static PTUP mw_mirth_name_DName_penultimateZ_nameZAsk (PTUP in_DName_1) {
	PTUP v3;
	PTUP v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	VAL v5;
	PTUP v6 = mw_std_list_Nest_1_unsnoc(v3, &v5);
	PTUP v7 = mw_std_list_List_1_last(v6);
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKTUP(v4));
			PTUP v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_8 = v10;
		} break;
		case 0LL: { // None
			branch_Maybe_8 = v4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_8;
}
static bool mw_mirth_name_DName_isZ_relativeZAsk (PTUP in_DName_1) {
	PTUP v3 = mw_mirth_name_DName_rootZAsk(in_DName_1);
	int64_t v4 = PTREXTRA(v3);
	decref(MKTUP(v3));
	INT v5 = WRAP_I63(0LL);
	INT v6 = v5;
	INT v7 = i64_to_int(v4);
	bool v8 = int_eq(v7, v6);
	return v8;
}
static uint64_t mw_mirth_module_Module_Nil (void) {
	uint64_t v2 = 0ULL;
	return v2;
}
static uint64_t mw_mirth_module_Module_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	void* v4 = mbuf_mirth_module_Module_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	uint64_t v6 = 1ULL;
	uint64_t v7 = (v5 + v6);
	void* v8 = mbuf_mirth_module_Module_NumBuffer;
	*(uint64_t*)v8 = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v7;
}
static void mw_mirth_module_Module_docZBang (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_module_Module_doc, in_Module_3);
	mut_set(MKTUP(in_Maybe_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_module_Module_package (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_package, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_module_Module_packageZBang (PTUP in_ZPlusMirth_1, uint64_t in_Package_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_module_Module_package, in_Module_3);
	mut_set(MKU64(in_Package_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_module_Module_name (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_name, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_module_Module_nameZBang (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_module_Module_name, in_Module_3);
	mut_set(MKU64(in_Name_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static STR* mw_mirth_module_Module_path (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_path, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_str(v6);
}
static void mw_mirth_module_Module_pathZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_module_Module_path, in_Module_3);
	mut_set(MKSTR(in_Path_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_module_Module_start (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_start, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_module_Module_startZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_module_Module_start, in_Module_3);
	mut_set(MKU64(in_Token_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_module_Module_head (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_head, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static void mw_mirth_module_Module_headZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_module_Module_head, in_Module_3);
	mut_set(MKU64(in_Token_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_module_Module_endZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_module_Module_end, in_Module_3);
	mut_set(MKU64(in_Token_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_module_Module_imports (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_imports, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return VTUP(v6);
}
static void mw_mirth_module_Module_importsZBang (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_module_Module_imports, in_Module_3);
	mut_set(MKTUP(in_List_2), v5);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_module_Module_qname (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_module_Module_package(in_ZPlusMirth_1, in_Module_2, &v5);
	PTUP v7 = mtw_mirth_name_Namespace_Package(v6);
	PTUP v8;
	uint64_t v9 = mw_mirth_module_Module_name(v5, in_Module_2, &v8);
	INT v10 = WRAP_I63(0LL);
	PTUP v11 = mw_mirth_name_QName_Mk(v7, v9, v10);
	*out_ZPlusMirth_3 = v8;
	return v11;
}
static uint64_t mw_mirth_module_Module_Prim (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4;
	PTUP v5 = mw_mirth_mirth_ZPlusMirth_builtin(in_ZPlusMirth_1, &v4);
	uint64_t v6 = value_u64(((TUP*)PTRPTR(v5))->cells[1]);
	decref(MKTUP(v5));
	*out_ZPlusMirth_2 = v4;
	return v6;
}
static uint64_t mw_mirth_module_Module_NewZBang (PTUP in_ZPlusMirth_1, STR* in_Path_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	uint64_t v6 = mw_mirth_module_Module_AllocZBang(in_ZPlusMirth_1, &v5);
	PTUP v7;
	uint64_t v8 = mw_mirth_module_Module_Prim(v5, &v7);
	PTUP v9 = PTRMK(0LL /* Nil */,0,0);
	PTUP v10 = mw_std_list_List_1_cons(MKU64(v8), v9);
	incref(MKU64(v6));
	PTUP v11;
	mw_mirth_module_Module_importsZBang(v7, VTUP(MKTUP(v10)), value_u64(MKU64(v6)), &v11);
	incref(MKU64(v6));
	PTUP v12;
	mw_mirth_module_Module_pathZBang(v11, value_str(MKSTR(in_Path_2)), value_u64(MKU64(v6)), &v12);
	*out_ZPlusMirth_3 = v12;
	return value_u64(MKU64(v6));
}
static STR* mw_mirth_module_Module_sourceZ_path (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	STR* v6 = mw_mirth_module_Module_path(in_ZPlusMirth_1, in_Module_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_module_Module_visible (PTUP in_ZPlusMirth_1, uint64_t in_Module_2, uint64_t in_Module_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	PTUP v7 = mw_mirth_module_Module_imports(in_ZPlusMirth_1, in_Module_3, &v6);
	PTUP v8 = mw_std_list_List_1_cons(MKU64(in_Module_3), v7);
	PTUP v9 = PTRMK(0LL /* None */,0,0);
	bool v10 = true;
	uint64_t v11 = in_Module_2;
	PTUP v12 = v9;
	PTUP v13 = v8;
	bool v14 = v10;
	bool v15 = v10;
	while (v15) {
		uint64_t v16 = v11;
		PTUP v17 = v12;
		PTUP v18 = v13;
		bool v19 = v14;
		PTUP v20;
		PTUP v21 = mw_std_list_List_1_uncons(v18, &v20);
		uint64_t branch_Module_22;
		PTUP branch_Maybe_23;
		PTUP branch_List_24;
		bool branch_Bool_25;
		switch (PTREXTRA(v21)) {
			case 1LL: { // Some
				VAL v26 = mtp_std_maybe_Maybe_1_Some(v21);
				incref(MKU64(v16));
				bool v27 = (value_u64(MKU64(value_u64(v26))) == value_u64(MKU64(v16)));
				uint64_t branch_Module_28;
				PTUP branch_Maybe_29;
				if (v27) {
					PTUP v30 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v26)));
					branch_Maybe_29 = v30;
					branch_Module_28 = value_u64(MKU64(v16));
				} else {
					PTUP v31 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_29 = v31;
					branch_Module_28 = value_u64(MKU64(v16));
				}
				uint64_t branch_Module_32;
				PTUP branch_Maybe_33;
				PTUP branch_List_34;
				switch (PTREXTRA(branch_Maybe_29)) {
					case 0LL: { // None
						branch_List_34 = VTUP(MKTUP(v20));
						branch_Maybe_33 = VTUP(MKTUP(v17));
						branch_Module_32 = branch_Module_28;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v20))));
						decref(MKTUP(VTUP(MKTUP(v17))));
						PTUP v35 = PTRMK(0LL /* Nil */,0,0);
						branch_List_34 = v35;
						branch_Maybe_33 = branch_Maybe_29;
						branch_Module_32 = branch_Module_28;
					} break;
				}
				bool v36 = true;
				branch_Bool_25 = v36;
				branch_List_24 = branch_List_34;
				branch_Maybe_23 = branch_Maybe_33;
				branch_Module_22 = branch_Module_32;
			} break;
			case 0LL: { // None
				bool v37 = false;
				branch_Bool_25 = v37;
				branch_List_24 = v20;
				branch_Maybe_23 = v17;
				branch_Module_22 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		v12 = branch_Maybe_23;
		v11 = branch_Module_22;
	}
	decref(MKTUP(v13));
	decref(MKU64(v11));
	int64_t v38 = PTREXTRA(VTUP(MKTUP(v12)));
	decref(MKTUP(VTUP(MKTUP(v12))));
	INT v39 = WRAP_I63(0LL);
	INT v40 = v39;
	INT v41 = i64_to_int(v38);
	bool v42 = int_eq(v41, v40);
	bool v43 = !v42;
	*out_ZPlusMirth_4 = v6;
	return v43;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_modulesZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v3;
	PTUP v4 = mw_mirth_mirth_ZPlusMirth_builtin(in_ZPlusMirth_1, &v3);
	uint64_t v5 = value_u64(((TUP*)PTRPTR(v4))->cells[1]);
	decref(MKTUP(v4));
	PTUP v6 = PTRMK(0LL /* Nil */,0,0);
	incref(MKU64(v5));
	PTUP v7;
	mw_mirth_module_Module_importsZBang(v3, VTUP(MKTUP(v6)), value_u64(MKU64(v5)), &v7);
	STR* v8;
	STRLIT(v8, "<prim>", 6);
	incref(MKU64(v5));
	PTUP v9;
	mw_mirth_module_Module_pathZBang(v7, value_str(MKSTR(v8)), value_u64(MKU64(v5)), &v9);
	PTUP v10;
	uint64_t v11 = mw_mirth_package_Package_Std(v9, &v10);
	incref(MKU64(v5));
	PTUP v12;
	mw_mirth_module_Module_packageZBang(v10, value_u64(MKU64(v11)), value_u64(MKU64(v5)), &v12);
	STR* v13;
	STRLIT(v13, "prim", 4);
	PTUP v14;
	uint64_t v15 = mw_mirth_name_Name_Name(v12, v13, &v14);
	incref(MKU64(v5));
	PTUP v16;
	mw_mirth_module_Module_nameZBang(v14, value_u64(MKU64(v15)), value_u64(MKU64(v5)), &v16);
	PTUP v17 = PTRMK(0LL /* None */,0,0);
	incref(MKU64(v5));
	PTUP v18;
	mw_mirth_module_Module_docZBang(v16, VTUP(MKTUP(v17)), value_u64(MKU64(v5)), &v18);
	PTUP v19 = mtw_mirth_def_Def_Module(value_u64(MKU64(v5)));
	PTUP v20;
	mw_mirth_def_Def_register(v18, v19, &v20);
	*out_ZPlusMirth_2 = v20;
}
static INT mw_mirth_location_Row_ZToInt (INT in_Row_1) {
	return in_Row_1;
}
static void mw_mirth_location_Row_intZThen (STR* in_ZPlusStr_1, INT in_Row_2, STR* *out_ZPlusStr_3) {
	INT v4 = mw_mirth_location_Row_ZToInt(in_Row_2);
	STR* v5 = int_to_str(v4);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(v5, in_ZPlusStr_1, &v6);
	*out_ZPlusStr_3 = v6;
}
static INT mw_mirth_location_Row_natZPlus (INT in_Nat_1, INT in_Row_2) {
	INT v4 = in_Nat_1;
	INT v5 = int_add(in_Row_2, v4);
	return v5;
}
static INT mw_mirth_location_Col_ZToInt (INT in_Col_1) {
	return in_Col_1;
}
static void mw_mirth_location_Col_intZThen (STR* in_ZPlusStr_1, INT in_Col_2, STR* *out_ZPlusStr_3) {
	INT v4 = mw_mirth_location_Col_ZToInt(in_Col_2);
	STR* v5 = int_to_str(v4);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(v5, in_ZPlusStr_1, &v6);
	*out_ZPlusStr_3 = v6;
}
static INT mw_mirth_location_Col_natZPlus (INT in_Nat_1, INT in_Col_2) {
	INT v4 = in_Nat_1;
	INT v5 = int_add(in_Col_2, v4);
	return v5;
}
static void mw_mirth_location_Location_emitZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Location_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	uint64_t v6;
	INT v7;
	INT v8;
	mtp_mirth_location_Location_Location(in_Location_3, &v6, &v7, &v8);
	PTUP v9;
	STR* v10 = mw_mirth_module_Module_sourceZ_path(in_ZPlusMirth_1, v6, &v9);
	STR* v11;
	mw_std_str_ZPlusStr_pushZ_strZBang(v10, in_ZPlusStr_2, &v11);
	STR* v12;
	STRLIT(v12, ":", 1);
	STR* v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
	STR* v14;
	mw_mirth_location_Row_intZThen(v13, v7, &v14);
	STR* v15;
	STRLIT(v15, ":", 1);
	STR* v16;
	mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
	STR* v17;
	mw_mirth_location_Col_intZThen(v16, v8, &v17);
	*out_ZPlusStr_5 = v17;
	*out_ZPlusMirth_4 = v9;
}
static PTUP mw_mirth_mirth_Builtin_AllocZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4;
	uint64_t v5 = mw_mirth_package_Package_AllocZBang(in_ZPlusMirth_1, &v4);
	PTUP v6;
	uint64_t v7 = mw_mirth_module_Module_AllocZBang(v4, &v6);
	PTUP v8;
	uint64_t v9 = mw_mirth_data_Data_AllocZBang(v6, &v8);
	PTUP v10;
	uint64_t v11 = mw_mirth_data_Tag_AllocZBang(v8, &v10);
	PTUP v12;
	uint64_t v13 = mw_mirth_data_Data_AllocZBang(v10, &v12);
	PTUP v14;
	uint64_t v15 = mw_mirth_data_Tag_AllocZBang(v12, &v14);
	PTUP v16;
	uint64_t v17 = mw_mirth_data_Data_AllocZBang(v14, &v16);
	PTUP v18;
	uint64_t v19 = mw_mirth_data_Tag_AllocZBang(v16, &v18);
	PTUP v20;
	uint64_t v21 = mw_mirth_data_Data_AllocZBang(v18, &v20);
	PTUP v22;
	uint64_t v23 = mw_mirth_data_Tag_AllocZBang(v20, &v22);
	PTUP v24;
	uint64_t v25 = mw_mirth_data_Data_AllocZBang(v22, &v24);
	PTUP v26;
	uint64_t v27 = mw_mirth_data_Tag_AllocZBang(v24, &v26);
	PTUP v28;
	uint64_t v29 = mw_mirth_data_Data_AllocZBang(v26, &v28);
	PTUP v30;
	uint64_t v31 = mw_mirth_data_Tag_AllocZBang(v28, &v30);
	PTUP v32;
	uint64_t v33 = mw_mirth_data_Data_AllocZBang(v30, &v32);
	PTUP v34;
	uint64_t v35 = mw_mirth_data_Tag_AllocZBang(v32, &v34);
	PTUP v36;
	uint64_t v37 = mw_mirth_data_Data_AllocZBang(v34, &v36);
	PTUP v38;
	uint64_t v39 = mw_mirth_data_Tag_AllocZBang(v36, &v38);
	PTUP v40;
	uint64_t v41 = mw_mirth_data_Data_AllocZBang(v38, &v40);
	PTUP v42;
	uint64_t v43 = mw_mirth_data_Tag_AllocZBang(v40, &v42);
	PTUP v44;
	uint64_t v45 = mw_mirth_data_Data_AllocZBang(v42, &v44);
	PTUP v46;
	uint64_t v47 = mw_mirth_data_Tag_AllocZBang(v44, &v46);
	PTUP v48;
	uint64_t v49 = mw_mirth_data_Data_AllocZBang(v46, &v48);
	PTUP v50;
	uint64_t v51 = mw_mirth_data_Tag_AllocZBang(v48, &v50);
	PTUP v52;
	uint64_t v53 = mw_mirth_data_Data_AllocZBang(v50, &v52);
	PTUP v54;
	uint64_t v55 = mw_mirth_data_Tag_AllocZBang(v52, &v54);
	PTUP v56;
	uint64_t v57 = mw_mirth_data_Data_AllocZBang(v54, &v56);
	PTUP v58;
	uint64_t v59 = mw_mirth_data_Tag_AllocZBang(v56, &v58);
	PTUP v60;
	uint64_t v61 = mw_mirth_data_Data_AllocZBang(v58, &v60);
	PTUP v62;
	uint64_t v63 = mw_mirth_data_Tag_AllocZBang(v60, &v62);
	PTUP v64;
	uint64_t v65 = mw_mirth_data_Data_AllocZBang(v62, &v64);
	PTUP v66;
	uint64_t v67 = mw_mirth_data_Tag_AllocZBang(v64, &v66);
	PTUP v68;
	uint64_t v69 = mw_mirth_data_Data_AllocZBang(v66, &v68);
	PTUP v70;
	uint64_t v71 = mw_mirth_data_Tag_AllocZBang(v68, &v70);
	PTUP v72;
	uint64_t v73 = mw_mirth_data_Data_AllocZBang(v70, &v72);
	PTUP v74;
	uint64_t v75 = mw_mirth_data_Tag_AllocZBang(v72, &v74);
	PTUP v76;
	uint64_t v77 = mw_mirth_data_Data_AllocZBang(v74, &v76);
	PTUP v78;
	uint64_t v79 = mw_mirth_data_Tag_AllocZBang(v76, &v78);
	PTUP v80;
	uint64_t v81 = mw_mirth_data_Data_AllocZBang(v78, &v80);
	PTUP v82;
	uint64_t v83 = mw_mirth_data_Tag_AllocZBang(v80, &v82);
	PTUP v84;
	uint64_t v85 = mw_mirth_data_Data_AllocZBang(v82, &v84);
	PTUP v86;
	uint64_t v87 = mw_mirth_data_Tag_AllocZBang(v84, &v86);
	PTUP v88 = mtw_mirth_mirth_Builtin_Builtin(v5, v7, v9, v11, v13, v15, v17, v19, v21, v23, v25, v27, v29, v31, v33, v35, v37, v39, v41, v43, v45, v47, v49, v51, v53, v55, v57, v59, v61, v63, v65, v67, v69, v71, v73, v75, v77, v79, v81, v83, v85, v87);
	*out_ZPlusMirth_2 = v86;
	return v88;
}
static void mw_mirth_mirth_ZPlusMirth_InitZBang (PTUP *out_ZPlusMirth_1) {
	INT v2 = WRAP_I63(0LL);
	INT v3 = WRAP_I63(0LL);
	INT v4 = WRAP_I63(0LL);
	bool v5 = false;
	PTUP v6 = PTRMK(0LL /* None */,0,0);
	PTUP v7 = PTRMK(0LL /* None */,0,0);
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9;
	mw_std_list_ZPlusLister_1_ZPlusNil(&v9);
	PTUP v10;
	mw_std_list_ZPlusLister_1_ZPlusNil(&v10);
	PTUP v11 = PTRMK(0LL /* None */,0,0);
	PTUP v12 = PTRMK(0LL /* None */,0,0);
	PTUP v13 = mtw_mirth_mirth_LexicalState_LexicalState(v11, v12);
	ARR* v14;
	mw_mirth_name_ZPlusNameHashMap_New(&v14);
	PTUP v15;
	mtw_mirth_mirth_ZPlusMirth_ZPlusMirth(v2, v3, v6, v7, v8, v5, v13, v4, v9, v10, v14, &v15);
	PTUP v16;
	PTUP v17 = mw_mirth_mirth_Builtin_AllocZBang(v15, &v16);
	PTUP v18;
	mw_mirth_mirth_ZPlusMirth_builtinZBang(v16, v17, &v18);
	PTUP v19;
	mw_mirth_mirth_ZPlusMirth_initZ_packagesZBang(v18, &v19);
	PTUP v20;
	mw_mirth_mirth_ZPlusMirth_initZ_modulesZBang(v19, &v20);
	PTUP v21;
	mw_mirth_mirth_ZPlusMirth_initZ_typesZBang(v20, &v21);
	PTUP v22;
	mw_mirth_mirth_ZPlusMirth_initZ_primsZBang(v21, &v22);
	PTUP v23;
	mw_mirth_mirth_ZPlusMirth_initZ_macrosZBang(v22, &v23);
	*out_ZPlusMirth_1 = v23;
}
static void mw_mirth_mirth_ZPlusMirth_builtinZBang (PTUP in_ZPlusMirth_1, PTUP in_Builtin_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4 = mtw_std_maybe_Maybe_1_Some(MKTUP(in_Builtin_2));
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[2]);
	decref(MKTUP(v5));
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[2] = MKTUP(v4);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_mirth_ZPlusMirth_builtin (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[2]);
	incref(MKTUP(v4));
	VAL branch_z_x1_5;
	switch (PTREXTRA(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			branch_z_x1_5 = v6;
		} break;
		case 0LL: { // None
			STR* v7;
			STRLIT(v7, "[compiler bug] Expected builtins to be available.", 49);
			do_panic(v7);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return VTUP(branch_z_x1_5);
}
static void mw_mirth_mirth_ZPlusMirth_quitZBang (PTUP in_ZPlusMirth_1) {
	INT v2;
	INT v3;
	PTUP v4;
	PTUP v5;
	PTUP v6;
	bool v7;
	PTUP v8;
	INT v9;
	PTUP v10;
	PTUP v11;
	ARR* v12;
	mtp_mirth_mirth_ZPlusMirth_ZPlusMirth(in_ZPlusMirth_1, &v2, &v3, &v4, &v5, &v6, &v7, &v8, &v9, &v10, &v11, &v12);
	decref(MKNAT(v2));
	decref(MKNAT(v3));
	decref(MKINT(v9));
	decref(MKTUP(v4));
	decref(MKTUP(v5));
	decref(MKTUP(v6));
	decref(MKTUP(v8));
	mw_std_list_ZPlusLister_1_rdrop(v10);
	mw_std_list_ZPlusLister_1_rdrop(v11);
	mw_mirth_name_ZPlusNameHashMap_rdrop(v12);
}
static PTUP mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[3]);
	incref(MKTUP(v6));
	VAL branch_z_x1_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			STR* v10;
			STRLIT(v10, "lib", 3);
			STR* v11 = mw_std_path_Path_join(value_str(v9), v10);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
			branch_Maybe_8 = v12;
			branch_z_x1_7 = MKTUP(in_ZPlusMirth_1);
		} break;
		case 0LL: { // None
			PTUP v13 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v13;
			branch_z_x1_7 = MKTUP(in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_2 = VTUP(branch_z_x1_7);
	return branch_Maybe_8;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3, int64_t in_Severity_4, PTUP *out_ZPlusMirth_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	PTUP branch_Location_8;
	int64_t branch_Severity_9;
	switch (in_Severity_4) {
		case 0LL: { // Info
			branch_Severity_9 = in_Severity_4;
			branch_Location_8 = in_Location_2;
			branch_Str_7 = in_Str_3;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Warning
			INT v10 = value_nat(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[1]);
			incref(MKNAT(v10));
			INT v11 = WRAP_I63(1LL);
			INT v12 = v10;
			INT v13 = v11;
			INT v14 = int_add(v12, v13);
			INT v15 = v14;
			INT v16 = value_nat(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[1]);
			decref(MKNAT(v16));
			((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[1] = MKNAT(v15);
			branch_Severity_9 = in_Severity_4;
			branch_Location_8 = in_Location_2;
			branch_Str_7 = in_Str_3;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Error
			INT v17 = value_nat(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[0]);
			incref(MKNAT(v17));
			INT v18 = WRAP_I63(1LL);
			INT v19 = v17;
			INT v20 = v18;
			INT v21 = int_add(v19, v20);
			INT v22 = v21;
			INT v23 = value_nat(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[0]);
			decref(MKNAT(v23));
			((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[0] = MKNAT(v22);
			branch_Severity_9 = in_Severity_4;
			branch_Location_8 = in_Location_2;
			branch_Str_7 = in_Str_3;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v24 = mtw_mirth_mirth_Diagnostic_Diagnostic(branch_Severity_9, branch_Location_8, branch_Str_7);
	PTUP r25 = VTUP(((TUP*)PTRPTR(branch_ZPlusMirth_6))->cells[8]);
	PTUP v26;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v24), r25, &v26);
	((TUP*)PTRPTR(branch_ZPlusMirth_6))->cells[8] = MKTUP(v26);
	*out_ZPlusMirth_5 = branch_ZPlusMirth_6;
}
static INT mw_mirth_mirth_ZPlusMirth_incrementZ_mainZ_homeZ_indexZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	INT v4 = value_int(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[7]);
	incref(MKINT(v4));
	incref(MKINT(v4));
	INT v5 = WRAP_I63(1LL);
	INT v6 = v5;
	INT v7 = int_add(v4, v6);
	INT v8 = value_int(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[7]);
	decref(MKINT(v8));
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[7] = MKINT(v7);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v4;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4) {
	int64_t v5 = 0LL /* Info */;
	PTUP v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_ZPlusMirth_1, in_Location_2, in_Str_3, v5, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4) {
	int64_t v5 = 1LL /* Warning */;
	PTUP v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_ZPlusMirth_1, in_Location_2, in_Str_3, v5, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4) {
	int64_t v5 = 2LL /* Error */;
	PTUP v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_ZPlusMirth_1, in_Location_2, in_Str_3, v5, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang (PTUP in_ZPlusMirth_1, PTUP in_Location_2, STR* in_Str_3) {
	PTUP v4;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(in_ZPlusMirth_1, in_Location_2, in_Str_3, &v4);
	mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(v4);
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_location(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang(v5, v6, in_Str_3, &v7);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_token_Token_location(in_ZPlusMirth_1, in_Token_2, &v5);
	PTUP v7;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(v5, v6, in_Str_3, &v7);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3) {
	PTUP v4;
	PTUP v5 = mw_mirth_token_Token_location(in_ZPlusMirth_1, in_Token_2, &v4);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(v4, v5, in_Str_3);
}
static void mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_2));
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	incref(MKTUP(v5));
	VAL v6 = tup_replace(MKTUP(v5), 0, MKTUP(v4));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	decref(MKTUP(v7));
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6] = MKTUP(VTUP(v6));
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static PTUP mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4;
	PTUP v5 = mw_mirth_mirth_ZPlusMirth_builtin(in_ZPlusMirth_1, &v4);
	uint64_t v6 = value_u64(((TUP*)PTRPTR(v5))->cells[1]);
	decref(MKTUP(v5));
	INT v7 = WRAP_I63(0LL);
	INT v8 = WRAP_I63(0LL);
	PTUP v9 = mtw_mirth_location_Location_Location(v6, v7, v8);
	*out_ZPlusMirth_2 = v4;
	return v9;
}
static PTUP mw_mirth_mirth_ZPlusMirth_errorZ_location (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	incref(MKTUP(v4));
	PTUP v5 = VTUP(((TUP*)PTRPTR(v4))->cells[0]);
	incref(MKTUP(v5));
	decref(MKTUP(v4));
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Location_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			PTUP v9;
			PTUP v10 = mw_mirth_token_Token_location(in_ZPlusMirth_1, value_u64(v8), &v9);
			branch_Location_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			PTUP v11;
			PTUP v12 = mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location(in_ZPlusMirth_1, &v11);
			branch_Location_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_2 = branch_ZPlusMirth_6;
	return branch_Location_7;
}
static void mw_mirth_mirth_ZPlusMirth_infoZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4;
	PTUP v5 = mw_mirth_mirth_ZPlusMirth_errorZ_location(in_ZPlusMirth_1, &v4);
	PTUP v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang(v4, v5, in_Str_2, &v6);
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_errorZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4;
	PTUP v5 = mw_mirth_mirth_ZPlusMirth_errorZ_location(in_ZPlusMirth_1, &v4);
	PTUP v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(v4, v5, in_Str_2, &v6);
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang (PTUP in_ZPlusMirth_1, STR* in_Str_2) {
	PTUP v3;
	PTUP v4 = mw_mirth_mirth_ZPlusMirth_errorZ_location(in_ZPlusMirth_1, &v3);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(v3, v4, in_Str_2);
}
static void mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang (PTUP in_IOError_1, PTUP in_ZPlusMirth_2) {
	STR* v4 = mw_std_file_IOError_message(in_IOError_1);
	mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_2, v4);
}
static void mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang (PTUP in_ZPlusMirth_1) {
	PTUP v2;
	PTUP v3 = mw_mirth_mirth_ZPlusMirth_popZ_diagnosticsZBang(in_ZPlusMirth_1, &v2);
	STR* v4;
	STRLIT(v4, "", 0);
	bool v5 = true;
	PTUP r6 = v2;
	STR* r7 = v4;
	PTUP v8 = v3;
	bool v9 = v5;
	bool v10 = v5;
	while (v10) {
		PTUP r11 = r6;
		STR* r12 = r7;
		PTUP v13 = v8;
		bool v14 = v9;
		PTUP branch_ZPlusMirth_15;
		STR* branch_ZPlusStr_16;
		PTUP branch_List_17;
		bool branch_Bool_18;
		switch (PTREXTRA(v13)) {
			case 1LL: { // Cons
				PTUP v19;
				VAL v20 = mtp_std_list_List_1_Cons(v13, &v19);
				PTUP v21;
				STR* v22;
				mw_mirth_mirth_Diagnostic_diagnosticZThen(r11, r12, VTUP(v20), &v21, &v22);
				STR* v23;
				STRLIT(v23, "\n", 1);
				STR* v24;
				mw_std_str_ZPlusStr_pushZ_strZBang(v23, v22, &v24);
				bool v25 = true;
				branch_Bool_18 = v25;
				branch_List_17 = v19;
				branch_ZPlusStr_16 = v24;
				branch_ZPlusMirth_15 = v21;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_18 = v27;
				branch_List_17 = v26;
				branch_ZPlusStr_16 = r12;
				branch_ZPlusMirth_15 = r11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_18;
		v9 = branch_Bool_18;
		v8 = branch_List_17;
		r7 = branch_ZPlusStr_16;
		r6 = branch_ZPlusMirth_15;
	}
	decref(MKTUP(v8));
	PTUP v28 = PTRMK(31LL /* FGRed */,0,0);
	STR* v29;
	mw_std_terminal_Sgr_emitZThen(v28, r7, &v29);
	STR* v30;
	STRLIT(v30, "Fatal error. Stopping early.", 28);
	STR* v31;
	mw_std_str_ZPlusStr_pushZ_strZBang(v30, v29, &v31);
	PTUP v32 = PTRMK(0LL /* Reset */,0,0);
	STR* v33;
	mw_std_terminal_Sgr_emitZThen(v32, v31, &v33);
	do_panic(v33);
}
static void mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP v5;
	PTUP v6 = mw_mirth_mirth_ZPlusMirth_popZ_diagnosticsZBang(in_ZPlusMirth_1, &v5);
	bool v7 = true;
	PTUP r8 = v5;
	PTUP v9 = v6;
	bool v10 = v7;
	bool v11 = v7;
	while (v11) {
		PTUP r12 = r8;
		PTUP v13 = v9;
		bool v14 = v10;
		PTUP branch_ZPlusMirth_15;
		PTUP branch_List_16;
		bool branch_Bool_17;
		switch (PTREXTRA(v13)) {
			case 1LL: { // Cons
				PTUP v18;
				VAL v19 = mtp_std_list_List_1_Cons(v13, &v18);
				STR* v20;
				STRLIT(v20, "", 0);
				PTUP v21;
				STR* v22;
				mw_mirth_mirth_Diagnostic_diagnosticZThen(r12, v20, VTUP(v19), &v21, &v22);
				mw_std_prim_ZPlusWorld_trace(v22);
				bool v23 = true;
				branch_Bool_17 = v23;
				branch_List_16 = v18;
				branch_ZPlusMirth_15 = v21;
			} break;
			case 0LL: { // Nil
				PTUP v24 = PTRMK(0LL /* Nil */,0,0);
				bool v25 = false;
				branch_Bool_17 = v25;
				branch_List_16 = v24;
				branch_ZPlusMirth_15 = r12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_17;
		v10 = branch_Bool_17;
		v9 = branch_List_16;
		r8 = branch_ZPlusMirth_15;
	}
	decref(MKTUP(v9));
	*out_ZPlusMirth_2 = r8;
}
static PTUP mw_mirth_mirth_ZPlusMirth_popZ_diagnosticsZBang (PTUP in_ZPlusMirth_1, PTUP *out_ZPlusMirth_2) {
	PTUP r4 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[8]);
	PTUP v5;
	PTUP v6 = mw_std_list_ZPlusLister_1_popZ_allZBang(r4, &v5);
	((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[8] = MKTUP(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static void mw_mirth_mirth_Diagnostic_diagnosticZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Diagnostic_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	int64_t v6;
	PTUP v7;
	STR* v8;
	mtp_mirth_mirth_Diagnostic_Diagnostic(in_Diagnostic_3, &v6, &v7, &v8);
	PTUP v9;
	STR* v10;
	mw_mirth_location_Location_emitZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v7, &v9, &v10);
	STR* v11;
	STRLIT(v11, ": ", 2);
	STR* v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
	STR* v13 = mw_mirth_mirth_Severity_ZToStr(v6);
	STR* v14;
	mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
	STR* v15;
	STRLIT(v15, ": ", 2);
	STR* v16;
	mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
	STR* v17;
	mw_std_str_ZPlusStr_pushZ_strZBang(v8, v16, &v17);
	*out_ZPlusStr_5 = v17;
	*out_ZPlusMirth_4 = v9;
}
static STR* mw_mirth_mirth_Severity_ZToStr (int64_t in_Severity_1) {
	STR* branch_Str_3;
	switch (in_Severity_1) {
		case 0LL: { // Info
			STR* v4;
			STRLIT(v4, "info", 4);
			branch_Str_3 = v4;
		} break;
		case 1LL: { // Warning
			STR* v5;
			STRLIT(v5, "warning", 7);
			branch_Str_3 = v5;
		} break;
		case 2LL: { // Error
			STR* v6;
			STRLIT(v6, "error", 5);
			branch_Str_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static PTUP mw_mirth_mirth_Prop_1_readyZAsk (PTUP in_Prop_1) {
	PTUP v3 = VTUP(((TUP*)PTRPTR(in_Prop_1))->cells[1]);
	incref(MKTUP(v3));
	decref(MKTUP(in_Prop_1));
	PTUP v4 = mw_mirth_mirth_PropState_1_readyZAsk(v3);
	return v4;
}
static PTUP mw_mirth_mirth_Prop_1_compute (PTUP in_ZPlusMirth_1, PTUP in_Prop_2, PTUP *out_ZPlusMirth_3, PTUP *out_Prop_5) {
	incref(MKTUP(in_Prop_2));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Prop_2))->cells[1]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Prop_2));
	PTUP v7;
	PTUP v8;
	PTUP v9 = mw_mirth_mirth_PropState_1_compute(in_ZPlusMirth_1, v6, &v7, &v8);
	VAL v10 = tup_replace(MKTUP(in_Prop_2), 1, MKTUP(v8));
	*out_Prop_5 = VTUP(v10);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static PTUP mw_mirth_mirth_Prop_1_tryZ_forceZBang (PTUP in_ZPlusMirth_1, void* in_MutProp_2, PTUP *out_ZPlusMirth_3) {
	VAL v5 = mut_get(in_MutProp_2);
	incref(MKTUP(VTUP(v5)));
	PTUP v6 = VTUP(((TUP*)PTRPTR(VTUP(v5)))->cells[1]);
	incref(MKTUP(v6));
	decref(MKTUP(VTUP(v5)));
	PTUP branch_ZPlusMirth_7;
	PTUP branch_Maybe_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Ready
			VAL v9 = mtp_mirth_mirth_PropState_1_Ready(v6);
			decref(MKTUP(VTUP(v5)));
			decref(MKPTR(in_MutProp_2));
			PTUP v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_8 = v10;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Delay
			VAL v11;
			VAL v12;
			PTUP v13 = mtp_mirth_mirth_PropState_1_Delay(v6, &v11, &v12);
			PTUP v14 = VTUP(((TUP*)PTRPTR(VTUP(v5)))->cells[0]);
			incref(MKTUP(v14));
			decref(MKTUP(VTUP(v5)));
			PTUP r15 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[9]);
			PTUP v16;
			mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v14), r15, &v16);
			((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[9] = MKTUP(v16);
			PTUP v17 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
			incref(MKTUP(v17));
			PTUP v18 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
			decref(MKTUP(v18));
			((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6] = MKTUP(VTUP(MKTUP(v13)));
			PTUP v19 = PTRMK(2LL /* Computing */,0,0);
			incref(MKPTR(in_MutProp_2));
			VAL v20 = mut_get(value_ptr(MKPTR(in_MutProp_2)));
			VAL v21 = tup_replace(MKTUP(VTUP(v20)), 1, MKTUP(VTUP(MKTUP(v19))));
			mut_set(MKTUP(VTUP(v21)), value_ptr(MKPTR(in_MutProp_2)));
			push_resource(MKTUP(in_ZPlusMirth_1));
			push_value(v11);
			run_value(v12);
			VAL v22 = pop_value();
			incref(v22);
			PTUP v23 = mtw_mirth_mirth_PropState_1_Ready(v22);
			VAL v24 = mut_get(value_ptr(MKPTR(in_MutProp_2)));
			VAL v25 = tup_replace(MKTUP(VTUP(v24)), 1, MKTUP(v23));
			mut_set(MKTUP(VTUP(v25)), value_ptr(MKPTR(in_MutProp_2)));
			PTUP v26 = mtw_std_maybe_Maybe_1_Some(v22);
			PTUP r27 = VTUP(pop_resource());
			PTUP v28 = VTUP(((TUP*)PTRPTR(r27))->cells[6]);
			decref(MKTUP(v28));
			((TUP*)PTRPTR(r27))->cells[6] = MKTUP(v17);
			PTUP r29 = VTUP(((TUP*)PTRPTR(r27))->cells[9]);
			PTUP v30;
			PTUP v31 = mw_std_list_ZPlusLister_1_popZBang(r29, &v30);
			((TUP*)PTRPTR(r27))->cells[9] = MKTUP(v30);
			decref(MKTUP(v31));
			branch_Maybe_8 = v26;
			branch_ZPlusMirth_7 = r27;
		} break;
		case 2LL: { // Computing
			decref(MKTUP(VTUP(v5)));
			decref(MKPTR(in_MutProp_2));
			PTUP v32 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_8 = v32;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_mirth_Prop_1_forceZBang (PTUP in_ZPlusMirth_1, void* in_MutProp_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, in_MutProp_2, &v5);
	PTUP branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			PTUP r10 = VTUP(((TUP*)PTRPTR(v5))->cells[9]);
			incref(MKTUP(r10));
			((TUP*)PTRPTR(v5))->cells[9] = MKTUP(r10);
			STR* v11;
			STRLIT(v11, "", 0);
			STR* v12;
			STRLIT(v12, "Recursive prop detected:", 24);
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			PTUP v14 = mw_std_list_List_1_reverse(r10);
			bool v15 = true;
			PTUP r16 = v5;
			STR* r17 = v13;
			PTUP v18 = v14;
			bool v19 = v15;
			bool v20 = v15;
			while (v20) {
				PTUP r21 = r16;
				STR* r22 = r17;
				PTUP v23 = v18;
				bool v24 = v19;
				PTUP branch_ZPlusMirth_25;
				STR* branch_ZPlusStr_26;
				PTUP branch_List_27;
				bool branch_Bool_28;
				switch (PTREXTRA(v23)) {
					case 1LL: { // Cons
						PTUP v29;
						VAL v30 = mtp_std_list_List_1_Cons(v23, &v29);
						STR* v31;
						STRLIT(v31, "\n  - ", 5);
						STR* v32;
						mw_std_str_ZPlusStr_pushZ_strZBang(v31, r22, &v32);
						PTUP v33;
						STR* v34;
						mw_mirth_mirth_PropLabel_traceZThen(r21, v32, VTUP(v30), &v33, &v34);
						bool v35 = true;
						branch_Bool_28 = v35;
						branch_List_27 = v29;
						branch_ZPlusStr_26 = v34;
						branch_ZPlusMirth_25 = v33;
					} break;
					case 0LL: { // Nil
						PTUP v36 = PTRMK(0LL /* Nil */,0,0);
						bool v37 = false;
						branch_Bool_28 = v37;
						branch_List_27 = v36;
						branch_ZPlusStr_26 = r22;
						branch_ZPlusMirth_25 = r21;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v20 = branch_Bool_28;
				v19 = branch_Bool_28;
				v18 = branch_List_27;
				r17 = branch_ZPlusStr_26;
				r16 = branch_ZPlusMirth_25;
			}
			decref(MKTUP(v18));
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(r16, r17);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_z_x1_8;
}
static PTUP mw_mirth_mirth_PropState_1_readyZAsk (PTUP in_PropState_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_PropState_1)) {
		case 0LL: { // Ready
			VAL v4 = mtp_mirth_mirth_PropState_1_Ready(in_PropState_1);
			PTUP v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(MKTUP(in_PropState_1));
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static PTUP mw_mirth_mirth_PropState_1_compute (PTUP in_ZPlusMirth_1, PTUP in_PropState_2, PTUP *out_ZPlusMirth_3, PTUP *out_PropState_5) {
	incref(MKTUP(in_PropState_2));
	PTUP branch_ZPlusMirth_6;
	PTUP branch_Maybe_7;
	PTUP branch_PropState_8;
	switch (PTREXTRA(in_PropState_2)) {
		case 0LL: { // Ready
			VAL v9 = mtp_mirth_mirth_PropState_1_Ready(in_PropState_2);
			PTUP v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_PropState_8 = in_PropState_2;
			branch_Maybe_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Delay
			VAL v11;
			VAL v12;
			PTUP v13 = mtp_mirth_mirth_PropState_1_Delay(in_PropState_2, &v11, &v12);
			decref(MKTUP(in_PropState_2));
			PTUP v14 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
			incref(MKTUP(v14));
			PTUP v15 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
			decref(MKTUP(v15));
			((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6] = MKTUP(VTUP(MKTUP(v13)));
			push_value(v11);
			push_resource(MKTUP(in_ZPlusMirth_1));
			run_value(v12);
			PTUP r16 = VTUP(pop_resource());
			PTUP v17 = VTUP(((TUP*)PTRPTR(r16))->cells[6]);
			decref(MKTUP(v17));
			((TUP*)PTRPTR(r16))->cells[6] = MKTUP(v14);
			VAL v18 = pop_value();
			incref(v18);
			PTUP v19 = mtw_std_maybe_Maybe_1_Some(v18);
			PTUP v20 = mtw_mirth_mirth_PropState_1_Ready(v18);
			branch_PropState_8 = v20;
			branch_Maybe_7 = v19;
			branch_ZPlusMirth_6 = r16;
		} break;
		case 2LL: { // Computing
			PTUP v21 = PTRMK(0LL /* None */,0,0);
			branch_PropState_8 = in_PropState_2;
			branch_Maybe_7 = v21;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_PropState_5 = branch_PropState_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static void mw_mirth_mirth_PropLabel_traceZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (PTREXTRA(in_PropLabel_3)) {
		case 0LL: { // DefiningNamespace
			STR* v8;
			STRLIT(v8, "defining namespace", 18);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DataQName
			uint64_t v10 = mtp_mirth_mirth_PropLabel_DataQName(in_PropLabel_3);
			STR* v11;
			STRLIT(v11, "data qname at ", 14);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v11, in_ZPlusStr_2, &v12);
			PTUP v13;
			PTUP v14 = mw_mirth_data_Data_headZAsk(in_ZPlusMirth_1, v10, &v13);
			PTUP v15;
			STR* v16;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v13, v12, v14, &v15, &v16);
			branch_ZPlusStr_7 = v16;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 2LL: { // DataParams
			uint64_t v17 = mtp_mirth_mirth_PropLabel_DataParams(in_PropLabel_3);
			STR* v18;
			STRLIT(v18, "data params at ", 15);
			STR* v19;
			mw_std_str_ZPlusStr_pushZ_strZBang(v18, in_ZPlusStr_2, &v19);
			PTUP v20;
			PTUP v21 = mw_mirth_data_Data_headZAsk(in_ZPlusMirth_1, v17, &v20);
			PTUP v22;
			STR* v23;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v20, v19, v21, &v22, &v23);
			branch_ZPlusStr_7 = v23;
			branch_ZPlusMirth_6 = v22;
		} break;
		case 3LL: { // DataCType
			uint64_t v24 = mtp_mirth_mirth_PropLabel_DataCType(in_PropLabel_3);
			STR* v25;
			STRLIT(v25, "data ctype at ", 14);
			STR* v26;
			mw_std_str_ZPlusStr_pushZ_strZBang(v25, in_ZPlusStr_2, &v26);
			PTUP v27;
			PTUP v28 = mw_mirth_data_Data_headZAsk(in_ZPlusMirth_1, v24, &v27);
			PTUP v29;
			STR* v30;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v27, v26, v28, &v29, &v30);
			branch_ZPlusStr_7 = v30;
			branch_ZPlusMirth_6 = v29;
		} break;
		case 4LL: { // TagType
			uint64_t v31 = mtp_mirth_mirth_PropLabel_TagType(in_PropLabel_3);
			STR* v32;
			STRLIT(v32, "tag ctype at ", 13);
			STR* v33;
			mw_std_str_ZPlusStr_pushZ_strZBang(v32, in_ZPlusStr_2, &v33);
			PTUP v34;
			PTUP v35 = mw_mirth_data_Tag_sigZAsk(in_ZPlusMirth_1, v31, &v34);
			PTUP v36;
			STR* v37;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v34, v33, v35, &v36, &v37);
			branch_ZPlusStr_7 = v37;
			branch_ZPlusMirth_6 = v36;
		} break;
		case 5LL: { // TableQName
			uint64_t v38 = mtp_mirth_mirth_PropLabel_TableQName(in_PropLabel_3);
			STR* v39;
			STRLIT(v39, "table qname at ", 15);
			STR* v40;
			mw_std_str_ZPlusStr_pushZ_strZBang(v39, in_ZPlusStr_2, &v40);
			PTUP v41;
			uint64_t v42 = mw_mirth_table_Table_head(in_ZPlusMirth_1, v38, &v41);
			PTUP v43;
			STR* v44;
			mw_mirth_token_Token_locationZThen(v41, v40, v42, &v43, &v44);
			branch_ZPlusStr_7 = v44;
			branch_ZPlusMirth_6 = v43;
		} break;
		case 6LL: { // TypeDefQName
			uint64_t v45 = mtp_mirth_mirth_PropLabel_TypeDefQName(in_PropLabel_3);
			STR* v46;
			STRLIT(v46, "type qname at ", 14);
			STR* v47;
			mw_std_str_ZPlusStr_pushZ_strZBang(v46, in_ZPlusStr_2, &v47);
			PTUP v48;
			PTUP v49 = mw_mirth_typedef_TypeDef_headZAsk(in_ZPlusMirth_1, v45, &v48);
			PTUP v50;
			STR* v51;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v48, v47, v49, &v50, &v51);
			branch_ZPlusStr_7 = v51;
			branch_ZPlusMirth_6 = v50;
		} break;
		case 7LL: { // TypeDefParams
			uint64_t v52 = mtp_mirth_mirth_PropLabel_TypeDefParams(in_PropLabel_3);
			STR* v53;
			STRLIT(v53, "type paras at ", 14);
			STR* v54;
			mw_std_str_ZPlusStr_pushZ_strZBang(v53, in_ZPlusStr_2, &v54);
			PTUP v55;
			PTUP v56 = mw_mirth_typedef_TypeDef_headZAsk(in_ZPlusMirth_1, v52, &v55);
			PTUP v57;
			STR* v58;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v55, v54, v56, &v57, &v58);
			branch_ZPlusStr_7 = v58;
			branch_ZPlusMirth_6 = v57;
		} break;
		case 8LL: { // TypeDefTarget
			uint64_t v59 = mtp_mirth_mirth_PropLabel_TypeDefTarget(in_PropLabel_3);
			STR* v60;
			STRLIT(v60, "type target at ", 15);
			STR* v61;
			mw_std_str_ZPlusStr_pushZ_strZBang(v60, in_ZPlusStr_2, &v61);
			PTUP v62;
			PTUP v63 = mw_mirth_typedef_TypeDef_headZAsk(in_ZPlusMirth_1, v59, &v62);
			PTUP v64;
			STR* v65;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v62, v61, v63, &v64, &v65);
			branch_ZPlusStr_7 = v65;
			branch_ZPlusMirth_6 = v64;
		} break;
		case 9LL: { // WordQName
			uint64_t v66 = mtp_mirth_mirth_PropLabel_WordQName(in_PropLabel_3);
			STR* v67;
			STRLIT(v67, "word qname at ", 14);
			STR* v68;
			mw_std_str_ZPlusStr_pushZ_strZBang(v67, in_ZPlusStr_2, &v68);
			PTUP v69;
			uint64_t v70 = mw_mirth_word_Word_head(in_ZPlusMirth_1, v66, &v69);
			PTUP v71;
			STR* v72;
			mw_mirth_token_Token_locationZThen(v69, v68, v70, &v71, &v72);
			branch_ZPlusStr_7 = v72;
			branch_ZPlusMirth_6 = v71;
		} break;
		case 10LL: { // WordType
			uint64_t v73 = mtp_mirth_mirth_PropLabel_WordType(in_PropLabel_3);
			STR* v74;
			STRLIT(v74, "word type at ", 13);
			STR* v75;
			mw_std_str_ZPlusStr_pushZ_strZBang(v74, in_ZPlusStr_2, &v75);
			PTUP v76;
			uint64_t v77 = mw_mirth_word_Word_head(in_ZPlusMirth_1, v73, &v76);
			PTUP v78;
			STR* v79;
			mw_mirth_token_Token_locationZThen(v76, v75, v77, &v78, &v79);
			branch_ZPlusStr_7 = v79;
			branch_ZPlusMirth_6 = v78;
		} break;
		case 11LL: { // WordParams
			uint64_t v80 = mtp_mirth_mirth_PropLabel_WordParams(in_PropLabel_3);
			STR* v81;
			STRLIT(v81, "word params at ", 15);
			STR* v82;
			mw_std_str_ZPlusStr_pushZ_strZBang(v81, in_ZPlusStr_2, &v82);
			PTUP v83;
			uint64_t v84 = mw_mirth_word_Word_head(in_ZPlusMirth_1, v80, &v83);
			PTUP v85;
			STR* v86;
			mw_mirth_token_Token_locationZThen(v83, v82, v84, &v85, &v86);
			branch_ZPlusStr_7 = v86;
			branch_ZPlusMirth_6 = v85;
		} break;
		case 12LL: { // WordArrow
			uint64_t v87 = mtp_mirth_mirth_PropLabel_WordArrow(in_PropLabel_3);
			STR* v88;
			STRLIT(v88, "word arrow at ", 14);
			STR* v89;
			mw_std_str_ZPlusStr_pushZ_strZBang(v88, in_ZPlusStr_2, &v89);
			PTUP v90;
			uint64_t v91 = mw_mirth_word_Word_head(in_ZPlusMirth_1, v87, &v90);
			PTUP v92;
			STR* v93;
			mw_mirth_token_Token_locationZThen(v90, v89, v91, &v92, &v93);
			branch_ZPlusStr_7 = v93;
			branch_ZPlusMirth_6 = v92;
		} break;
		case 13LL: { // BlockArrow
			uint64_t v94 = mtp_mirth_mirth_PropLabel_BlockArrow(in_PropLabel_3);
			STR* v95;
			STRLIT(v95, "block arrow at ", 15);
			STR* v96;
			mw_std_str_ZPlusStr_pushZ_strZBang(v95, in_ZPlusStr_2, &v96);
			PTUP v97;
			uint64_t v98 = mw_mirth_arrow_Block_token(in_ZPlusMirth_1, v94, &v97);
			PTUP v99;
			STR* v100;
			mw_mirth_token_Token_locationZThen(v97, v96, v98, &v99, &v100);
			branch_ZPlusStr_7 = v100;
			branch_ZPlusMirth_6 = v99;
		} break;
		case 14LL: { // AliasQName
			uint64_t v101 = mtp_mirth_mirth_PropLabel_AliasQName(in_PropLabel_3);
			STR* v102;
			STRLIT(v102, "alias qname at ", 15);
			STR* v103;
			mw_std_str_ZPlusStr_pushZ_strZBang(v102, in_ZPlusStr_2, &v103);
			PTUP v104;
			uint64_t v105 = mw_mirth_alias_Alias_head(in_ZPlusMirth_1, v101, &v104);
			PTUP v106;
			STR* v107;
			mw_mirth_token_Token_locationZThen(v104, v103, v105, &v106, &v107);
			branch_ZPlusStr_7 = v107;
			branch_ZPlusMirth_6 = v106;
		} break;
		case 15LL: { // AliasTarget
			uint64_t v108 = mtp_mirth_mirth_PropLabel_AliasTarget(in_PropLabel_3);
			STR* v109;
			STRLIT(v109, "alias target at ", 16);
			STR* v110;
			mw_std_str_ZPlusStr_pushZ_strZBang(v109, in_ZPlusStr_2, &v110);
			PTUP v111;
			uint64_t v112 = mw_mirth_alias_Alias_head(in_ZPlusMirth_1, v108, &v111);
			PTUP v113;
			STR* v114;
			mw_mirth_token_Token_locationZThen(v111, v110, v112, &v113, &v114);
			branch_ZPlusStr_7 = v114;
			branch_ZPlusMirth_6 = v113;
		} break;
		case 16LL: { // ExternalQName
			uint64_t v115 = mtp_mirth_mirth_PropLabel_ExternalQName(in_PropLabel_3);
			STR* v116;
			STRLIT(v116, "external qname at ", 18);
			STR* v117;
			mw_std_str_ZPlusStr_pushZ_strZBang(v116, in_ZPlusStr_2, &v117);
			PTUP v118;
			uint64_t v119 = mw_mirth_external_External_head(in_ZPlusMirth_1, v115, &v118);
			PTUP v120;
			STR* v121;
			mw_mirth_token_Token_locationZThen(v118, v117, v119, &v120, &v121);
			branch_ZPlusStr_7 = v121;
			branch_ZPlusMirth_6 = v120;
		} break;
		case 17LL: { // ExternalType
			uint64_t v122 = mtp_mirth_mirth_PropLabel_ExternalType(in_PropLabel_3);
			STR* v123;
			STRLIT(v123, "external type at ", 17);
			STR* v124;
			mw_std_str_ZPlusStr_pushZ_strZBang(v123, in_ZPlusStr_2, &v124);
			PTUP v125;
			uint64_t v126 = mw_mirth_external_External_head(in_ZPlusMirth_1, v122, &v125);
			PTUP v127;
			STR* v128;
			mw_mirth_token_Token_locationZThen(v125, v124, v126, &v127, &v128);
			branch_ZPlusStr_7 = v128;
			branch_ZPlusMirth_6 = v127;
		} break;
		case 18LL: { // ExternalCType
			uint64_t v129 = mtp_mirth_mirth_PropLabel_ExternalCType(in_PropLabel_3);
			STR* v130;
			STRLIT(v130, "external ctype at ", 18);
			STR* v131;
			mw_std_str_ZPlusStr_pushZ_strZBang(v130, in_ZPlusStr_2, &v131);
			PTUP v132;
			uint64_t v133 = mw_mirth_external_External_head(in_ZPlusMirth_1, v129, &v132);
			PTUP v134;
			STR* v135;
			mw_mirth_token_Token_locationZThen(v132, v131, v133, &v134, &v135);
			branch_ZPlusStr_7 = v135;
			branch_ZPlusMirth_6 = v134;
		} break;
		case 19LL: { // BufferQName
			uint64_t v136 = mtp_mirth_mirth_PropLabel_BufferQName(in_PropLabel_3);
			STR* v137;
			STRLIT(v137, "buffer qname at ", 16);
			STR* v138;
			mw_std_str_ZPlusStr_pushZ_strZBang(v137, in_ZPlusStr_2, &v138);
			PTUP v139;
			uint64_t v140 = mw_mirth_buffer_Buffer_head(in_ZPlusMirth_1, v136, &v139);
			PTUP v141;
			STR* v142;
			mw_mirth_token_Token_locationZThen(v139, v138, v140, &v141, &v142);
			branch_ZPlusStr_7 = v142;
			branch_ZPlusMirth_6 = v141;
		} break;
		case 20LL: { // TableOwner
			uint64_t v143 = mtp_mirth_mirth_PropLabel_TableOwner(in_PropLabel_3);
			STR* v144;
			STRLIT(v144, "table owner at ", 15);
			STR* v145;
			mw_std_str_ZPlusStr_pushZ_strZBang(v144, in_ZPlusStr_2, &v145);
			PTUP v146;
			uint64_t v147 = mw_mirth_table_Table_head(in_ZPlusMirth_1, v143, &v146);
			PTUP v148;
			STR* v149;
			mw_mirth_token_Token_locationZThen(v146, v145, v147, &v148, &v149);
			branch_ZPlusStr_7 = v149;
			branch_ZPlusMirth_6 = v148;
		} break;
		case 21LL: { // FieldOwner
			uint64_t v150 = mtp_mirth_mirth_PropLabel_FieldOwner(in_PropLabel_3);
			STR* v151;
			STRLIT(v151, "field owner at ", 15);
			STR* v152;
			mw_std_str_ZPlusStr_pushZ_strZBang(v151, in_ZPlusStr_2, &v152);
			PTUP v153;
			uint64_t v154 = mw_mirth_table_Field_head(in_ZPlusMirth_1, v150, &v153);
			PTUP v155;
			STR* v156;
			mw_mirth_token_Token_locationZThen(v153, v152, v154, &v155, &v156);
			branch_ZPlusStr_7 = v156;
			branch_ZPlusMirth_6 = v155;
		} break;
		case 22LL: { // FieldQName
			uint64_t v157 = mtp_mirth_mirth_PropLabel_FieldQName(in_PropLabel_3);
			STR* v158;
			STRLIT(v158, "field qname at ", 15);
			STR* v159;
			mw_std_str_ZPlusStr_pushZ_strZBang(v158, in_ZPlusStr_2, &v159);
			PTUP v160;
			uint64_t v161 = mw_mirth_table_Field_head(in_ZPlusMirth_1, v157, &v160);
			PTUP v162;
			STR* v163;
			mw_mirth_token_Token_locationZThen(v160, v159, v161, &v162, &v163);
			branch_ZPlusStr_7 = v163;
			branch_ZPlusMirth_6 = v162;
		} break;
		case 23LL: { // FieldValueType
			uint64_t v164 = mtp_mirth_mirth_PropLabel_FieldValueType(in_PropLabel_3);
			STR* v165;
			STRLIT(v165, "field value type at ", 20);
			STR* v166;
			mw_std_str_ZPlusStr_pushZ_strZBang(v165, in_ZPlusStr_2, &v166);
			PTUP v167;
			uint64_t v168 = mw_mirth_table_Field_head(in_ZPlusMirth_1, v164, &v167);
			PTUP v169;
			STR* v170;
			mw_mirth_token_Token_locationZThen(v167, v166, v168, &v169, &v170);
			branch_ZPlusStr_7 = v170;
			branch_ZPlusMirth_6 = v169;
		} break;
		case 24LL: { // FieldIndexType
			uint64_t v171 = mtp_mirth_mirth_PropLabel_FieldIndexType(in_PropLabel_3);
			STR* v172;
			STRLIT(v172, "field index type at ", 20);
			STR* v173;
			mw_std_str_ZPlusStr_pushZ_strZBang(v172, in_ZPlusStr_2, &v173);
			PTUP v174;
			uint64_t v175 = mw_mirth_table_Field_head(in_ZPlusMirth_1, v171, &v174);
			PTUP v176;
			STR* v177;
			mw_mirth_token_Token_locationZThen(v174, v173, v175, &v176, &v177);
			branch_ZPlusStr_7 = v177;
			branch_ZPlusMirth_6 = v176;
		} break;
		case 25LL: { // MacroQName
			uint64_t v178 = mtp_mirth_mirth_PropLabel_MacroQName(in_PropLabel_3);
			STR* v179;
			STRLIT(v179, "macro qname at ", 15);
			STR* v180;
			mw_std_str_ZPlusStr_pushZ_strZBang(v179, in_ZPlusStr_2, &v180);
			PTUP v181;
			PTUP v182 = mw_mirth_macro_Macro_headZAsk(in_ZPlusMirth_1, v178, &v181);
			PTUP v183;
			STR* v184;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v181, v180, v182, &v183, &v184);
			branch_ZPlusStr_7 = v184;
			branch_ZPlusMirth_6 = v183;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static PTUP mw_mirth_mirth_PropLabel_prop (PTUP in_ZPlusMirth_1, VAL in_b_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mtw_mirth_mirth_PropState_1_Ready(in_b_2);
	PTUP v7 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_3, v6);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return v7;
}
static PTUP mw_mirth_mirth_PropLabel_prop2 (PTUP in_ZPlusMirth_1, VAL in_b1_2, VAL in_b2_3, PTUP in_PropLabel_4, PTUP *out_ZPlusMirth_5) {
	PTUP r7 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r7))->size = 2;
	((TUP*)PTRPTR(r7))->cells[1] = in_b2_3;
	((TUP*)PTRPTR(r7))->cells[0] = in_b1_2;
	PTUP v8;
	PTUP v9 = mw_mirth_mirth_PropLabel_prop(in_ZPlusMirth_1, MKTUP(r7), in_PropLabel_4, &v8);
	*out_ZPlusMirth_5 = v8;
	return v9;
}
static void mw_mirth_token_Token_locationZThen (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Token_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_token_Token_location(in_ZPlusMirth_1, in_Token_3, &v6);
	PTUP v8;
	STR* v9;
	mw_mirth_location_Location_emitZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static PTUP mw_mirth_specializzer_runZ_specializzerZBang (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	mw_mirth_specializzer_ZPlusSPCheck_InitZBang(&v5);
	PTUP v6;
	PTUP v7;
	PTUP v8 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(in_ZPlusMirth_1, v5, in_Arrow_2, &v6, &v7);
	PTUP v9;
	PTUP v10;
	mw_mirth_specializzer_ZPlusSPCheck_checkZ_transitiveZBang(v6, v7, &v9, &v10);
	mw_mirth_specializzer_ZPlusSPCheck_quitZBang(v10);
	*out_ZPlusMirth_3 = v9;
	return v8;
}
static void mw_mirth_specializzer_ZPlusSPCheck_InitZBang (PTUP *out_ZPlusSPCheck_1) {
	PTUP v2 = PTRMK(0LL /* Nil */,0,0);
	*out_ZPlusSPCheck_1 = v2;
}
static void mw_mirth_specializzer_ZPlusSPCheck_quitZBang (PTUP in_ZPlusSPCheck_1) {
	decref(MKTUP(in_ZPlusSPCheck_1));
}
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_transitiveZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusSPCheck_4) {
	bool v5 = true;
	PTUP r6 = in_ZPlusMirth_1;
	PTUP r7 = in_ZPlusSPCheck_2;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP r10 = r6;
		PTUP r11 = r7;
		bool v12 = v8;
		incref(MKTUP(r11));
		PTUP v13;
		PTUP v14 = mw_std_list_List_1_uncons(r11, &v13);
		decref(MKTUP(r11));
		PTUP branch_ZPlusMirth_15;
		PTUP branch_ZPlusSPCheck_16;
		bool branch_Bool_17;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				PTUP v19;
				PTUP v20;
				mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang(r10, v13, VTUP(v18), &v19, &v20);
				bool v21 = true;
				branch_Bool_17 = v21;
				branch_ZPlusSPCheck_16 = v20;
				branch_ZPlusMirth_15 = v19;
			} break;
			case 0LL: { // None
				bool v22 = false;
				branch_Bool_17 = v22;
				branch_ZPlusSPCheck_16 = v13;
				branch_ZPlusMirth_15 = r10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_17;
		v8 = branch_Bool_17;
		r7 = branch_ZPlusSPCheck_16;
		r6 = branch_ZPlusMirth_15;
	}
	*out_ZPlusSPCheck_4 = r7;
	*out_ZPlusMirth_3 = r6;
}
static void mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_SPCheckItem_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusSPCheck_7;
	switch (PTREXTRA(in_SPCheckItem_3)) {
		case 0LL: { // Word
			uint64_t v8 = mtp_mirth_specializzer_SPCheckItem_Word(in_SPCheckItem_3);
			PTUP v9;
			PTUP v10 = mw_mirth_word_Word_arrow(in_ZPlusMirth_1, v8, &v9);
			PTUP v11;
			PTUP v12;
			PTUP v13 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(v9, in_ZPlusSPCheck_2, v10, &v11, &v12);
			PTUP v14 = mtw_mirth_mirth_PropLabel_WordArrow(v8);
			PTUP v15;
			PTUP v16 = mw_mirth_mirth_PropLabel_prop(v11, MKTUP(v13), v14, &v15);
			void* v17 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v8);
			mut_set(MKTUP(v16), v17);
			branch_ZPlusSPCheck_7 = v12;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 1LL: { // Block
			uint64_t v18 = mtp_mirth_specializzer_SPCheckItem_Block(in_SPCheckItem_3);
			PTUP v19;
			PTUP v20 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v18, &v19);
			PTUP v21;
			PTUP v22;
			PTUP v23 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(v19, in_ZPlusSPCheck_2, v20, &v21, &v22);
			PTUP v24 = mtw_mirth_mirth_PropLabel_BlockArrow(v18);
			PTUP v25;
			PTUP v26 = mw_mirth_mirth_PropLabel_prop(v21, MKTUP(v23), v24, &v25);
			void* v27 = field_mut(&mfld_mirth_arrow_Block_ZTildearrow, v18);
			mut_set(MKTUP(v26), v27);
			branch_ZPlusSPCheck_7 = v22;
			branch_ZPlusMirth_6 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_5 = branch_ZPlusSPCheck_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Arrow_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Arrow_3))->cells[6]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Arrow_3));
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	PTUP r11 = in_ZPlusMirth_1;
	PTUP r12 = in_ZPlusSPCheck_2;
	PTUP r13 = v9;
	PTUP v14 = v7;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		PTUP r17 = r11;
		PTUP r18 = r12;
		PTUP r19 = r13;
		PTUP v20 = v14;
		bool v21 = v15;
		PTUP branch_ZPlusMirth_22;
		PTUP branch_ZPlusSPCheck_23;
		PTUP branch_ZPlusLister_24;
		PTUP branch_List_25;
		bool branch_Bool_26;
		switch (PTREXTRA(v20)) {
			case 1LL: { // Cons
				PTUP v27;
				VAL v28 = mtp_std_list_List_1_Cons(v20, &v27);
				PTUP v29;
				PTUP v30;
				PTUP v31 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang(r17, r18, VTUP(v28), &v29, &v30);
				PTUP v32;
				mw_std_list_List_1_for_1_sp53(r19, v31, &v32);
				bool v33 = true;
				branch_Bool_26 = v33;
				branch_List_25 = v27;
				branch_ZPlusLister_24 = v32;
				branch_ZPlusSPCheck_23 = v30;
				branch_ZPlusMirth_22 = v29;
			} break;
			case 0LL: { // Nil
				PTUP v34 = PTRMK(0LL /* Nil */,0,0);
				bool v35 = false;
				branch_Bool_26 = v35;
				branch_List_25 = v34;
				branch_ZPlusLister_24 = r19;
				branch_ZPlusSPCheck_23 = r18;
				branch_ZPlusMirth_22 = r17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_26;
		v15 = branch_Bool_26;
		v14 = branch_List_25;
		r13 = branch_ZPlusLister_24;
		r12 = branch_ZPlusSPCheck_23;
		r11 = branch_ZPlusMirth_22;
	}
	decref(MKTUP(v14));
	PTUP v36 = mw_std_list_ZPlusLister_1_doneZBang(r13);
	VAL v37 = tup_replace(MKTUP(in_Arrow_3), 6, MKTUP(v36));
	*out_ZPlusSPCheck_5 = r12;
	*out_ZPlusMirth_4 = r11;
	return VTUP(v37);
}
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Atom_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[3]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Atom_3));
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusSPCheck_9;
	PTUP branch_List_10;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Prim
			int64_t v11 = mtp_mirth_arrow_Op_Prim(v7);
			PTUP v12;
			PTUP v13;
			PTUP v14 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, in_Atom_3, v11, &v12, &v13);
			branch_List_10 = v14;
			branch_ZPlusSPCheck_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 1LL: { // Word
			uint64_t v15 = mtp_mirth_arrow_Op_Word(v7);
			PTUP v16;
			PTUP v17;
			PTUP v18 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, in_Atom_3, v15, &v16, &v17);
			branch_List_10 = v18;
			branch_ZPlusSPCheck_9 = v17;
			branch_ZPlusMirth_8 = v16;
		} break;
		case 2LL: { // External
			uint64_t v19 = mtp_mirth_arrow_Op_External(v7);
			PTUP v20 = PTRMK(0LL /* Nil */,0,0);
			PTUP v21 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v20);
			branch_List_10 = v21;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Buffer
			uint64_t v22 = mtp_mirth_arrow_Op_Buffer(v7);
			PTUP v23 = PTRMK(0LL /* Nil */,0,0);
			PTUP v24 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v23);
			branch_List_10 = v24;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Field
			uint64_t v25 = mtp_mirth_arrow_Op_Field(v7);
			PTUP v26 = PTRMK(0LL /* Nil */,0,0);
			PTUP v27 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v26);
			branch_List_10 = v27;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Push
			PTUP v28 = mtp_mirth_arrow_Op_Push(v7);
			decref(MKTUP(v28));
			PTUP v29 = PTRMK(0LL /* Nil */,0,0);
			PTUP v30 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v29);
			branch_List_10 = v30;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v31 = mtp_mirth_arrow_Op_Tag(v7);
			PTUP v32 = PTRMK(0LL /* Nil */,0,0);
			PTUP v33 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v32);
			branch_List_10 = v33;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Match
			PTUP v34 = mtp_mirth_arrow_Op_Match(v7);
			PTUP v35;
			PTUP v36;
			PTUP v37 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v34, &v35, &v36);
			PTUP v38 = mtw_mirth_arrow_Op_Match(v37);
			VAL v39 = tup_replace(MKTUP(in_Atom_3), 3, MKTUP(v38));
			PTUP v40 = PTRMK(0LL /* Nil */,0,0);
			PTUP v41 = mw_std_list_List_1_cons(MKTUP(VTUP(v39)), v40);
			branch_List_10 = v41;
			branch_ZPlusSPCheck_9 = v36;
			branch_ZPlusMirth_8 = v35;
		} break;
		case 8LL: { // Lambda
			PTUP v42 = mtp_mirth_arrow_Op_Lambda(v7);
			PTUP v43;
			PTUP v44;
			PTUP v45 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v42, &v43, &v44);
			PTUP v46 = mtw_mirth_arrow_Op_Lambda(v45);
			VAL v47 = tup_replace(MKTUP(in_Atom_3), 3, MKTUP(v46));
			PTUP v48 = PTRMK(0LL /* Nil */,0,0);
			PTUP v49 = mw_std_list_List_1_cons(MKTUP(VTUP(v47)), v48);
			branch_List_10 = v49;
			branch_ZPlusSPCheck_9 = v44;
			branch_ZPlusMirth_8 = v43;
		} break;
		case 9LL: { // Var
			uint64_t v50 = mtp_mirth_arrow_Op_Var(v7);
			PTUP v51 = PTRMK(0LL /* Nil */,0,0);
			PTUP v52 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v51);
			branch_List_10 = v52;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v53 = mtp_mirth_arrow_Op_BlockPush(v7);
			PTUP v54;
			PTUP v55;
			mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v53, &v54, &v55);
			PTUP v56 = PTRMK(0LL /* Nil */,0,0);
			PTUP v57 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v56);
			branch_List_10 = v57;
			branch_ZPlusSPCheck_9 = v55;
			branch_ZPlusMirth_8 = v54;
		} break;
		case 11LL: { // BlockRun
			uint64_t v58 = mtp_mirth_arrow_Op_BlockRun(v7);
			PTUP v59;
			PTUP v60;
			mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v58, &v59, &v60);
			PTUP v61 = PTRMK(0LL /* Nil */,0,0);
			PTUP v62 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v61);
			branch_List_10 = v62;
			branch_ZPlusSPCheck_9 = v60;
			branch_ZPlusMirth_8 = v59;
		} break;
		case 12LL: { // LabelPush
			uint64_t v63 = mtp_mirth_arrow_Op_LabelPush(v7);
			PTUP v64 = PTRMK(0LL /* Nil */,0,0);
			PTUP v65 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v64);
			branch_List_10 = v65;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // LabelPop
			uint64_t v66 = mtp_mirth_arrow_Op_LabelPop(v7);
			PTUP v67 = PTRMK(0LL /* Nil */,0,0);
			PTUP v68 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v67);
			branch_List_10 = v68;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v69 = mtp_mirth_arrow_Op_LabelPushR(v7);
			PTUP v70 = PTRMK(0LL /* Nil */,0,0);
			PTUP v71 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v70);
			branch_List_10 = v71;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v72 = mtp_mirth_arrow_Op_LabelPopR(v7);
			PTUP v73 = PTRMK(0LL /* Nil */,0,0);
			PTUP v74 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v73);
			branch_List_10 = v74;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v75 = mtp_mirth_arrow_Op_DataGetEnumValue(v7);
			PTUP v76 = PTRMK(0LL /* Nil */,0,0);
			PTUP v77 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v76);
			branch_List_10 = v77;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v78 = mtp_mirth_arrow_Op_DataFromEnumValue(v7);
			PTUP v79 = PTRMK(0LL /* Nil */,0,0);
			PTUP v80 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v79);
			branch_List_10 = v80;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // DataGetLabel
			PTUP v81 = mtp_mirth_arrow_Op_DataGetLabel(v7);
			decref(MKTUP(v81));
			PTUP v82 = PTRMK(0LL /* Nil */,0,0);
			PTUP v83 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v82);
			branch_List_10 = v83;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // DataSetLabel
			PTUP v84 = mtp_mirth_arrow_Op_DataSetLabel(v7);
			decref(MKTUP(v84));
			PTUP v85 = PTRMK(0LL /* Nil */,0,0);
			PTUP v86 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v85);
			branch_List_10 = v86;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v87 = mtp_mirth_arrow_Op_TableToIndex(v7);
			PTUP v88 = PTRMK(0LL /* Nil */,0,0);
			PTUP v89 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v88);
			branch_List_10 = v89;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v90 = mtp_mirth_arrow_Op_TableFromIndex(v7);
			PTUP v91 = PTRMK(0LL /* Nil */,0,0);
			PTUP v92 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v91);
			branch_List_10 = v92;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_5 = branch_ZPlusSPCheck_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_List_10;
}
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, in_Arg_3, &v6, &v7);
	*out_ZPlusSPCheck_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Atom_3, int64_t in_Prim_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusSPCheck_6) {
	incref(MKTUP(in_Atom_3));
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
	incref(MKTUP(v8));
	decref(MKTUP(in_Atom_3));
	PTUP v9;
	PTUP v10;
	mw_std_list_List_1_for_1_sp73(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v8, &v9, &v10);
	PTUP v11 = PTRMK(0LL /* Nil */,0,0);
	PTUP v12 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v11);
	*out_ZPlusSPCheck_6 = v10;
	*out_ZPlusMirth_5 = v9;
	return v12;
}
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Atom_3, uint64_t in_Word_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusSPCheck_6) {
	PTUP v8;
	PTUP v9;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, in_Word_4, &v8, &v9);
	incref(MKTUP(in_Atom_3));
	PTUP v10 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(in_Atom_3))))->cells[4]);
	incref(MKTUP(v10));
	decref(MKTUP(VTUP(MKTUP(in_Atom_3))));
	PTUP v11 = mw_std_list_List_1_ZToNestZAsk(v10);
	PTUP branch_ZPlusMirth_12;
	PTUP branch_ZPlusSPCheck_13;
	PTUP branch_List_14;
	switch (PTREXTRA(v11)) {
		case 0LL: { // None
			PTUP v15 = PTRMK(0LL /* Nil */,0,0);
			PTUP v16 = mw_std_list_List_1_cons(MKTUP(in_Atom_3), v15);
			branch_List_14 = v16;
			branch_ZPlusSPCheck_13 = v9;
			branch_ZPlusMirth_12 = v8;
		} break;
		case 1LL: { // Some
			VAL v17 = mtp_std_maybe_Maybe_1_Some(v11);
			incref(MKTUP(VTUP(v17)));
			PTUP v18 = mw_std_list_Nest_1_ZToList(VTUP(v17));
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			bool v20 = true;
			PTUP r21 = v8;
			PTUP v22 = v19;
			PTUP v23 = v18;
			bool v24 = v20;
			bool v25 = v20;
			while (v25) {
				PTUP r26 = r21;
				PTUP v27 = v22;
				PTUP v28 = v23;
				bool v29 = v24;
				PTUP v30;
				PTUP v31 = mw_std_list_List_1_uncons(v28, &v30);
				PTUP branch_ZPlusMirth_32;
				PTUP branch_Maybe_33;
				PTUP branch_List_34;
				bool branch_Bool_35;
				switch (PTREXTRA(v31)) {
					case 1LL: { // Some
						VAL v36 = mtp_std_maybe_Maybe_1_Some(v31);
						PTUP v37;
						PTUP v38 = mw_mirth_arrow_Arg_freeZ_vars(r26, value_u64(v36), &v37);
						PTUP v39 = PTRMK(0LL /* None */,0,0);
						bool v40 = true;
						PTUP r41 = v37;
						PTUP v42 = v39;
						PTUP v43 = v38;
						bool v44 = v40;
						bool v45 = v40;
						while (v45) {
							PTUP r46 = r41;
							PTUP v47 = v42;
							PTUP v48 = v43;
							bool v49 = v44;
							PTUP v50;
							PTUP v51 = mw_std_list_List_1_uncons(v48, &v50);
							PTUP branch_ZPlusMirth_52;
							PTUP branch_Maybe_53;
							PTUP branch_List_54;
							bool branch_Bool_55;
							switch (PTREXTRA(v51)) {
								case 1LL: { // Some
									VAL v56 = mtp_std_maybe_Maybe_1_Some(v51);
									PTUP v57;
									bool v58 = mw_mirth_var_Var_isZ_physicalZAsk(r46, value_u64(v56), &v57);
									PTUP branch_ZPlusMirth_59;
									PTUP branch_Maybe_60;
									if (v58) {
										PTUP v61 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v56)));
										branch_Maybe_60 = v61;
										branch_ZPlusMirth_59 = v57;
									} else {
										PTUP v62 = PTRMK(0LL /* None */,0,0);
										branch_Maybe_60 = v62;
										branch_ZPlusMirth_59 = v57;
									}
									PTUP branch_ZPlusMirth_63;
									PTUP branch_Maybe_64;
									PTUP branch_List_65;
									switch (PTREXTRA(branch_Maybe_60)) {
										case 0LL: { // None
											branch_List_65 = VTUP(MKTUP(v50));
											branch_Maybe_64 = VTUP(MKTUP(v47));
											branch_ZPlusMirth_63 = branch_ZPlusMirth_59;
										} break;
										default: {
											decref(MKTUP(VTUP(MKTUP(v50))));
											decref(MKTUP(VTUP(MKTUP(v47))));
											PTUP v66 = PTRMK(0LL /* Nil */,0,0);
											branch_List_65 = v66;
											branch_Maybe_64 = branch_Maybe_60;
											branch_ZPlusMirth_63 = branch_ZPlusMirth_59;
										} break;
									}
									bool v67 = true;
									branch_Bool_55 = v67;
									branch_List_54 = branch_List_65;
									branch_Maybe_53 = branch_Maybe_64;
									branch_ZPlusMirth_52 = branch_ZPlusMirth_63;
								} break;
								case 0LL: { // None
									bool v68 = false;
									branch_Bool_55 = v68;
									branch_List_54 = v50;
									branch_Maybe_53 = v47;
									branch_ZPlusMirth_52 = r46;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							v45 = branch_Bool_55;
							v44 = branch_Bool_55;
							v43 = branch_List_54;
							v42 = branch_Maybe_53;
							r41 = branch_ZPlusMirth_52;
						}
						decref(MKTUP(v43));
						int64_t v69 = PTREXTRA(v42);
						decref(MKTUP(v42));
						INT v70 = WRAP_I63(0LL);
						INT v71 = v70;
						INT v72 = i64_to_int(v69);
						bool v73 = int_eq(v72, v71);
						bool v74 = !v73;
						PTUP branch_ZPlusMirth_75;
						PTUP branch_Maybe_76;
						if (v74) {
							PTUP v77 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v36)));
							branch_Maybe_76 = v77;
							branch_ZPlusMirth_75 = r41;
						} else {
							PTUP v78 = PTRMK(0LL /* None */,0,0);
							branch_Maybe_76 = v78;
							branch_ZPlusMirth_75 = r41;
						}
						PTUP branch_ZPlusMirth_79;
						PTUP branch_Maybe_80;
						PTUP branch_List_81;
						switch (PTREXTRA(branch_Maybe_76)) {
							case 0LL: { // None
								branch_List_81 = VTUP(MKTUP(v30));
								branch_Maybe_80 = VTUP(MKTUP(v27));
								branch_ZPlusMirth_79 = branch_ZPlusMirth_75;
							} break;
							default: {
								decref(MKTUP(VTUP(MKTUP(v30))));
								decref(MKTUP(VTUP(MKTUP(v27))));
								PTUP v82 = PTRMK(0LL /* Nil */,0,0);
								branch_List_81 = v82;
								branch_Maybe_80 = branch_Maybe_76;
								branch_ZPlusMirth_79 = branch_ZPlusMirth_75;
							} break;
						}
						bool v83 = true;
						branch_Bool_35 = v83;
						branch_List_34 = branch_List_81;
						branch_Maybe_33 = branch_Maybe_80;
						branch_ZPlusMirth_32 = branch_ZPlusMirth_79;
					} break;
					case 0LL: { // None
						bool v84 = false;
						branch_Bool_35 = v84;
						branch_List_34 = v30;
						branch_Maybe_33 = v27;
						branch_ZPlusMirth_32 = r26;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v25 = branch_Bool_35;
				v24 = branch_Bool_35;
				v23 = branch_List_34;
				v22 = branch_Maybe_33;
				r21 = branch_ZPlusMirth_32;
			}
			decref(MKTUP(v23));
			int64_t v85 = PTREXTRA(v22);
			decref(MKTUP(v22));
			INT v86 = WRAP_I63(0LL);
			INT v87 = v86;
			INT v88 = i64_to_int(v85);
			bool v89 = int_eq(v88, v87);
			bool v90 = !v89;
			PTUP branch_ZPlusMirth_91;
			PTUP branch_ZPlusSPCheck_92;
			PTUP branch_List_93;
			if (v90) {
				incref(MKTUP(VTUP(v17)));
				PTUP v94;
				VAL v95 = mw_std_list_Nest_1_uncons(VTUP(v17), &v94);
				PTUP v96;
				PTUP v97;
				mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang(r21, v9, value_u64(v95), &v96, &v97);
				PTUP v98;
				PTUP v99;
				mw_std_list_List_1_for_1_sp73(v96, v97, v94, &v98, &v99);
				decref(MKTUP(VTUP(v17)));
				decref(MKU64(value_u64(MKU64(in_Word_4))));
				PTUP v100 = PTRMK(0LL /* Nil */,0,0);
				PTUP v101 = mw_std_list_List_1_cons(MKTUP(VTUP(MKTUP(in_Atom_3))), v100);
				branch_List_93 = v101;
				branch_ZPlusSPCheck_92 = v99;
				branch_ZPlusMirth_91 = v98;
			} else {
				PTUP v102;
				uint64_t v103 = mw_mirth_specializzer_specializzeZ_wordZBang(r21, VTUP(v17), value_u64(MKU64(in_Word_4)), &v102);
				PTUP v104;
				PTUP v105;
				mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang(v102, v9, v103, &v104, &v105);
				PTUP v106 = mtw_mirth_arrow_Op_Word(v103);
				VAL v107 = tup_replace(MKTUP(VTUP(MKTUP(in_Atom_3))), 3, MKTUP(v106));
				PTUP v108 = PTRMK(0LL /* Nil */,0,0);
				VAL v109 = tup_replace(MKTUP(VTUP(v107)), 4, MKTUP(v108));
				PTUP v110 = PTRMK(0LL /* Nil */,0,0);
				PTUP v111 = mw_std_list_List_1_cons(MKTUP(VTUP(v109)), v110);
				branch_List_93 = v111;
				branch_ZPlusSPCheck_92 = v105;
				branch_ZPlusMirth_91 = v104;
			}
			branch_List_14 = branch_List_93;
			branch_ZPlusSPCheck_13 = branch_ZPlusSPCheck_92;
			branch_ZPlusMirth_12 = branch_ZPlusMirth_91;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_6 = branch_ZPlusSPCheck_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_12;
	return branch_List_14;
}
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Match_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Match_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Match_3))->cells[6]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Match_3));
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	PTUP r11 = in_ZPlusMirth_1;
	PTUP r12 = in_ZPlusSPCheck_2;
	PTUP r13 = v9;
	PTUP v14 = v7;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		PTUP r17 = r11;
		PTUP r18 = r12;
		PTUP r19 = r13;
		PTUP v20 = v14;
		bool v21 = v15;
		PTUP branch_ZPlusMirth_22;
		PTUP branch_ZPlusSPCheck_23;
		PTUP branch_ZPlusLister_24;
		PTUP branch_List_25;
		bool branch_Bool_26;
		switch (PTREXTRA(v20)) {
			case 1LL: { // Cons
				PTUP v27;
				VAL v28 = mtp_std_list_List_1_Cons(v20, &v27);
				PTUP v29;
				PTUP v30;
				PTUP v31 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang(r17, r18, VTUP(v28), &v29, &v30);
				PTUP v32;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v31), r19, &v32);
				bool v33 = true;
				branch_Bool_26 = v33;
				branch_List_25 = v27;
				branch_ZPlusLister_24 = v32;
				branch_ZPlusSPCheck_23 = v30;
				branch_ZPlusMirth_22 = v29;
			} break;
			case 0LL: { // Nil
				PTUP v34 = PTRMK(0LL /* Nil */,0,0);
				bool v35 = false;
				branch_Bool_26 = v35;
				branch_List_25 = v34;
				branch_ZPlusLister_24 = r19;
				branch_ZPlusSPCheck_23 = r18;
				branch_ZPlusMirth_22 = r17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_26;
		v15 = branch_Bool_26;
		v14 = branch_List_25;
		r13 = branch_ZPlusLister_24;
		r12 = branch_ZPlusSPCheck_23;
		r11 = branch_ZPlusMirth_22;
	}
	decref(MKTUP(v14));
	PTUP v36 = mw_std_list_ZPlusLister_1_doneZBang(r13);
	VAL v37 = tup_replace(MKTUP(in_Match_3), 6, MKTUP(v36));
	*out_ZPlusSPCheck_5 = r12;
	*out_ZPlusMirth_4 = r11;
	return VTUP(v37);
}
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Case_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[1]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Case_3));
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v7, &v8, &v9);
	VAL v11 = tup_replace(MKTUP(in_Case_3), 1, MKTUP(v10));
	*out_ZPlusSPCheck_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return VTUP(v11);
}
static PTUP mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_Lambda_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Lambda_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Lambda_3))->cells[4]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Lambda_3));
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v7, &v8, &v9);
	VAL v11 = tup_replace(MKTUP(in_Lambda_3), 4, MKTUP(v10));
	*out_ZPlusSPCheck_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return VTUP(v11);
}
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	PTUP v6 = mtw_mirth_specializzer_SPCheckItem_Word(in_Word_3);
	PTUP v7;
	PTUP v8;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_itemZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v6, &v7, &v8);
	*out_ZPlusSPCheck_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	PTUP v6 = mtw_mirth_specializzer_SPCheckItem_Block(in_Block_3);
	PTUP v7;
	PTUP v8;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_itemZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v6, &v7, &v8);
	*out_ZPlusSPCheck_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_itemZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_SPCheckItem_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_SPCheckItem_3));
	PTUP v6;
	PTUP v7;
	bool v8 = mw_mirth_specializzer_ZPlusSPCheck_checkedZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, in_SPCheckItem_3, &v6, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusSPCheck_10;
	if (v8) {
		decref(MKTUP(in_SPCheckItem_3));
		branch_ZPlusSPCheck_10 = v7;
		branch_ZPlusMirth_9 = v6;
	} else {
		incref(MKTUP(v7));
		PTUP v11 = mw_std_list_List_1_cons(MKTUP(in_SPCheckItem_3), v7);
		decref(MKTUP(v7));
		branch_ZPlusSPCheck_10 = v11;
		branch_ZPlusMirth_9 = v6;
	}
	*out_ZPlusSPCheck_5 = branch_ZPlusSPCheck_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static bool mw_mirth_specializzer_ZPlusSPCheck_checkedZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_SPCheckItem_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	PTUP branch_ZPlusSPCheck_7;
	PTUP branch_ZPlusMirth_8;
	void* branch_MutBool_9;
	switch (PTREXTRA(in_SPCheckItem_3)) {
		case 0LL: { // Word
			uint64_t v10 = mtp_mirth_specializzer_SPCheckItem_Word(in_SPCheckItem_3);
			void* v11 = field_mut(&mfld_mirth_word_Word_ZTildespZ_checked, v10);
			branch_MutBool_9 = v11;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_ZPlusSPCheck_7 = in_ZPlusSPCheck_2;
		} break;
		case 1LL: { // Block
			uint64_t v12 = mtp_mirth_specializzer_SPCheckItem_Block(in_SPCheckItem_3);
			void* v13 = field_mut(&mfld_mirth_arrow_Block_ZTildespZ_checked, v12);
			branch_MutBool_9 = v13;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_ZPlusSPCheck_7 = in_ZPlusSPCheck_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v14 = mw_std_prelude_ZAtZAsk(branch_MutBool_9);
	bool branch_Bool_15;
	switch (PTREXTRA(v14)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v14);
			branch_Bool_15 = value_bool(v16);
		} break;
		case 0LL: { // None
			bool v17 = false;
			branch_Bool_15 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v18 = true;
	mut_set(MKBOOL(v18), value_ptr(MKPTR(branch_MutBool_9)));
	*out_ZPlusSPCheck_5 = branch_ZPlusSPCheck_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return value_bool(MKBOOL(branch_Bool_15));
}
static bool mw_mirth_arrow_Arg_similar (PTUP in_ZPlusMirth_1, uint64_t in_Arg_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	bool v7 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, in_Arg_2, in_Arg_3, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static bool mw_mirth_arrow_Block_similar (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4) {
	incref(MKU64(in_Block_2));
	incref(MKU64(in_Block_3));
	bool v6 = (value_u64(MKU64(in_Block_3)) == value_u64(MKU64(in_Block_2)));
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Block_8;
	uint64_t branch_Block_9;
	bool branch_Bool_10;
	if (v6) {
		bool v11 = true;
		branch_Bool_10 = v11;
		branch_Block_9 = value_u64(MKU64(in_Block_3));
		branch_Block_8 = value_u64(MKU64(in_Block_2));
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		incref(MKU64(value_u64(MKU64(in_Block_2))));
		incref(MKU64(value_u64(MKU64(in_Block_3))));
		PTUP v12;
		PTUP v13 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, value_u64(MKU64(value_u64(MKU64(in_Block_2)))), &v12);
		PTUP v14;
		PTUP v15 = mw_mirth_arrow_Block_arrow(v12, value_u64(MKU64(value_u64(MKU64(in_Block_3)))), &v14);
		PTUP v16;
		bool v17 = mw_mirth_arrow_Arrow_similar(v14, VTUP(MKTUP(v13)), v15, &v16);
		branch_Bool_10 = v17;
		branch_Block_9 = value_u64(MKU64(value_u64(MKU64(in_Block_3))));
		branch_Block_8 = value_u64(MKU64(value_u64(MKU64(in_Block_2))));
		branch_ZPlusMirth_7 = v16;
	}
	decref(MKU64(branch_Block_9));
	decref(MKU64(branch_Block_8));
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Bool_10;
}
static bool mw_mirth_arrow_Arrow_similar (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Arrow_2))->cells[6]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Arrow_2));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Arrow_3))->cells[6]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Arrow_3));
	bool v8 = true;
	PTUP v9;
	PTUP v10 = mw_std_list_List_1_uncons(v6, &v9);
	PTUP v11;
	PTUP v12 = mw_std_list_List_1_uncons(v7, &v11);
	PTUP branch_ZPlusMirth_13;
	bool branch_Bool_14;
	switch (PTREXTRA(v12)) {
		case 0LL: { // None
			int64_t v15 = PTREXTRA(v10);
			decref(MKTUP(v10));
			INT v16 = WRAP_I63(0LL);
			INT v17 = v16;
			INT v18 = i64_to_int(v15);
			bool v19 = int_eq(v18, v17);
			branch_Bool_14 = v19;
			branch_ZPlusMirth_13 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v20 = mtp_std_maybe_Maybe_1_Some(v12);
			PTUP branch_ZPlusMirth_21;
			bool branch_Bool_22;
			switch (PTREXTRA(v10)) {
				case 1LL: { // Some
					VAL v23 = mtp_std_maybe_Maybe_1_Some(v10);
					PTUP v24;
					bool v25 = mw_mirth_arrow_Atom_similar(in_ZPlusMirth_1, VTUP(v23), VTUP(v20), &v24);
					branch_Bool_22 = v25;
					branch_ZPlusMirth_21 = v24;
				} break;
				case 0LL: { // None
					decref(MKTUP(VTUP(v20)));
					bool v26 = false;
					branch_Bool_22 = v26;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_14 = branch_Bool_22;
			branch_ZPlusMirth_13 = branch_ZPlusMirth_21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v27 = (value_bool(MKBOOL(branch_Bool_14)) && v8);
	incref(MKTUP(VTUP(MKTUP(v9))));
	bool v28 = mw_std_list_List_1_emptyZAsk(VTUP(MKTUP(VTUP(MKTUP(v9)))));
	incref(MKTUP(VTUP(MKTUP(v11))));
	bool v29 = mw_std_list_List_1_emptyZAsk(VTUP(MKTUP(VTUP(MKTUP(v11)))));
	bool v30 = (value_bool(MKBOOL(v28)) && v29);
	bool v31 = !v30;
	incref(MKBOOL(v27));
	bool v32 = (value_bool(MKBOOL(v31)) && value_bool(MKBOOL(v27)));
	PTUP r33 = branch_ZPlusMirth_13;
	PTUP v34 = VTUP(MKTUP(VTUP(MKTUP(v9))));
	PTUP v35 = VTUP(MKTUP(VTUP(MKTUP(v11))));
	bool v36 = value_bool(MKBOOL(v27));
	bool v37 = v32;
	while (v37) {
		PTUP r38 = r33;
		PTUP v39 = v34;
		PTUP v40 = v35;
		bool v41 = v36;
		PTUP v42;
		PTUP v43 = mw_std_list_List_1_uncons(v39, &v42);
		PTUP v44;
		PTUP v45 = mw_std_list_List_1_uncons(v40, &v44);
		PTUP branch_ZPlusMirth_46;
		bool branch_Bool_47;
		switch (PTREXTRA(v45)) {
			case 0LL: { // None
				int64_t v48 = PTREXTRA(v43);
				decref(MKTUP(v43));
				INT v49 = WRAP_I63(0LL);
				INT v50 = v49;
				INT v51 = i64_to_int(v48);
				bool v52 = int_eq(v51, v50);
				branch_Bool_47 = v52;
				branch_ZPlusMirth_46 = r38;
			} break;
			case 1LL: { // Some
				VAL v53 = mtp_std_maybe_Maybe_1_Some(v45);
				PTUP branch_ZPlusMirth_54;
				bool branch_Bool_55;
				switch (PTREXTRA(v43)) {
					case 1LL: { // Some
						VAL v56 = mtp_std_maybe_Maybe_1_Some(v43);
						PTUP v57;
						bool v58 = mw_mirth_arrow_Atom_similar(r38, VTUP(v56), VTUP(v53), &v57);
						branch_Bool_55 = v58;
						branch_ZPlusMirth_54 = v57;
					} break;
					case 0LL: { // None
						decref(MKTUP(VTUP(v53)));
						bool v59 = false;
						branch_Bool_55 = v59;
						branch_ZPlusMirth_54 = r38;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Bool_47 = branch_Bool_55;
				branch_ZPlusMirth_46 = branch_ZPlusMirth_54;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		bool v60 = (value_bool(MKBOOL(branch_Bool_47)) && v41);
		incref(MKTUP(VTUP(MKTUP(v42))));
		bool v61 = mw_std_list_List_1_emptyZAsk(VTUP(MKTUP(VTUP(MKTUP(v42)))));
		incref(MKTUP(VTUP(MKTUP(v44))));
		bool v62 = mw_std_list_List_1_emptyZAsk(VTUP(MKTUP(VTUP(MKTUP(v44)))));
		bool v63 = (value_bool(MKBOOL(v61)) && v62);
		bool v64 = !v63;
		incref(MKBOOL(v60));
		bool v65 = (value_bool(MKBOOL(v64)) && value_bool(MKBOOL(v60)));
		v37 = v65;
		v36 = value_bool(MKBOOL(v60));
		v35 = VTUP(MKTUP(VTUP(MKTUP(v44))));
		v34 = VTUP(MKTUP(VTUP(MKTUP(v42))));
		r33 = branch_ZPlusMirth_46;
	}
	decref(MKTUP(v35));
	decref(MKTUP(v34));
	*out_ZPlusMirth_4 = r33;
	return v36;
}
static bool mw_mirth_arrow_Atom_similar (PTUP in_ZPlusMirth_1, PTUP in_Atom_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_Atom_2));
	incref(MKTUP(in_Atom_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(in_Atom_2))))->cells[3]);
	incref(MKTUP(v6));
	decref(MKTUP(VTUP(MKTUP(in_Atom_2))));
	PTUP v7 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(in_Atom_3))))->cells[3]);
	incref(MKTUP(v7));
	decref(MKTUP(VTUP(MKTUP(in_Atom_3))));
	PTUP v8;
	bool v9 = mw_mirth_arrow_Op_similar(in_ZPlusMirth_1, v6, v7, &v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_Atom_11;
	PTUP branch_Atom_12;
	bool branch_Bool_13;
	if (v9) {
		incref(MKTUP(VTUP(MKTUP(in_Atom_2))));
		incref(MKTUP(VTUP(MKTUP(in_Atom_3))));
		PTUP v14 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(VTUP(MKTUP(in_Atom_2))))))->cells[4]);
		incref(MKTUP(v14));
		decref(MKTUP(VTUP(MKTUP(VTUP(MKTUP(in_Atom_2))))));
		PTUP v15 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(VTUP(MKTUP(in_Atom_3))))))->cells[4]);
		incref(MKTUP(v15));
		decref(MKTUP(VTUP(MKTUP(VTUP(MKTUP(in_Atom_3))))));
		PTUP v16;
		bool v17 = mw_std_list_List_1_ZEqual_sp1(v8, v14, v15, &v16);
		branch_Bool_13 = v17;
		branch_Atom_12 = VTUP(MKTUP(VTUP(MKTUP(in_Atom_3))));
		branch_Atom_11 = VTUP(MKTUP(VTUP(MKTUP(in_Atom_2))));
		branch_ZPlusMirth_10 = v16;
	} else {
		bool v18 = false;
		branch_Bool_13 = v18;
		branch_Atom_12 = VTUP(MKTUP(in_Atom_3));
		branch_Atom_11 = VTUP(MKTUP(in_Atom_2));
		branch_ZPlusMirth_10 = v8;
	}
	decref(MKTUP(branch_Atom_12));
	decref(MKTUP(branch_Atom_11));
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Bool_13;
}
static bool mw_mirth_arrow_Op_similar (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP in_Op_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (PTREXTRA(in_Op_3)) {
		case 0LL: { // Prim
			int64_t v8 = mtp_mirth_arrow_Op_Prim(in_Op_3);
			PTUP branch_ZPlusMirth_9;
			bool branch_Bool_10;
			switch (PTREXTRA(in_Op_2)) {
				case 0LL: { // Prim
					int64_t v11 = mtp_mirth_arrow_Op_Prim(in_Op_2);
					bool v12 = mw_mirth_prim_Prim_ZEqual(v8, v11);
					branch_Bool_10 = v12;
					branch_ZPlusMirth_9 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKI64(v8));
					bool v13 = false;
					branch_Bool_10 = v13;
					branch_ZPlusMirth_9 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_10;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_9;
		} break;
		case 1LL: { // Word
			uint64_t v14 = mtp_mirth_arrow_Op_Word(in_Op_3);
			PTUP branch_ZPlusMirth_15;
			bool branch_Bool_16;
			switch (PTREXTRA(in_Op_2)) {
				case 1LL: { // Word
					uint64_t v17 = mtp_mirth_arrow_Op_Word(in_Op_2);
					bool v18 = (v17 == v14);
					branch_Bool_16 = v18;
					branch_ZPlusMirth_15 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v14));
					bool v19 = false;
					branch_Bool_16 = v19;
					branch_ZPlusMirth_15 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_16;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_15;
		} break;
		case 2LL: { // External
			uint64_t v20 = mtp_mirth_arrow_Op_External(in_Op_3);
			PTUP branch_ZPlusMirth_21;
			bool branch_Bool_22;
			switch (PTREXTRA(in_Op_2)) {
				case 2LL: { // External
					uint64_t v23 = mtp_mirth_arrow_Op_External(in_Op_2);
					bool v24 = (v23 == v20);
					branch_Bool_22 = v24;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v20));
					bool v25 = false;
					branch_Bool_22 = v25;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_22;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_21;
		} break;
		case 3LL: { // Buffer
			uint64_t v26 = mtp_mirth_arrow_Op_Buffer(in_Op_3);
			PTUP branch_ZPlusMirth_27;
			bool branch_Bool_28;
			switch (PTREXTRA(in_Op_2)) {
				case 3LL: { // Buffer
					uint64_t v29 = mtp_mirth_arrow_Op_Buffer(in_Op_2);
					bool v30 = (v29 == v26);
					branch_Bool_28 = v30;
					branch_ZPlusMirth_27 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v26));
					bool v31 = false;
					branch_Bool_28 = v31;
					branch_ZPlusMirth_27 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_28;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_27;
		} break;
		case 4LL: { // Field
			uint64_t v32 = mtp_mirth_arrow_Op_Field(in_Op_3);
			PTUP branch_ZPlusMirth_33;
			bool branch_Bool_34;
			switch (PTREXTRA(in_Op_2)) {
				case 4LL: { // Field
					uint64_t v35 = mtp_mirth_arrow_Op_Field(in_Op_2);
					bool v36 = (v35 == v32);
					branch_Bool_34 = v36;
					branch_ZPlusMirth_33 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v32));
					bool v37 = false;
					branch_Bool_34 = v37;
					branch_ZPlusMirth_33 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_34;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_33;
		} break;
		case 5LL: { // Push
			PTUP v38 = mtp_mirth_arrow_Op_Push(in_Op_3);
			PTUP branch_ZPlusMirth_39;
			bool branch_Bool_40;
			switch (PTREXTRA(in_Op_2)) {
				case 5LL: { // Push
					PTUP v41 = mtp_mirth_arrow_Op_Push(in_Op_2);
					bool v42 = mw_mirth_arrow_PushValue_ZEqual(v38, v41);
					branch_Bool_40 = v42;
					branch_ZPlusMirth_39 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKTUP(v38));
					bool v43 = false;
					branch_Bool_40 = v43;
					branch_ZPlusMirth_39 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_40;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_39;
		} break;
		case 6LL: { // Tag
			uint64_t v44 = mtp_mirth_arrow_Op_Tag(in_Op_3);
			PTUP branch_ZPlusMirth_45;
			bool branch_Bool_46;
			switch (PTREXTRA(in_Op_2)) {
				case 6LL: { // Tag
					uint64_t v47 = mtp_mirth_arrow_Op_Tag(in_Op_2);
					bool v48 = (v47 == v44);
					branch_Bool_46 = v48;
					branch_ZPlusMirth_45 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v44));
					bool v49 = false;
					branch_Bool_46 = v49;
					branch_ZPlusMirth_45 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_46;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_45;
		} break;
		case 7LL: { // Match
			PTUP v50 = mtp_mirth_arrow_Op_Match(in_Op_3);
			decref(MKTUP(v50));
			decref(MKTUP(in_Op_2));
			bool v51 = false;
			branch_Bool_7 = v51;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Lambda
			PTUP v52 = mtp_mirth_arrow_Op_Lambda(in_Op_3);
			decref(MKTUP(v52));
			decref(MKTUP(in_Op_2));
			bool v53 = false;
			branch_Bool_7 = v53;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Var
			uint64_t v54 = mtp_mirth_arrow_Op_Var(in_Op_3);
			decref(MKU64(v54));
			decref(MKTUP(in_Op_2));
			bool v55 = false;
			branch_Bool_7 = v55;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v56 = mtp_mirth_arrow_Op_BlockPush(in_Op_3);
			PTUP branch_ZPlusMirth_57;
			bool branch_Bool_58;
			switch (PTREXTRA(in_Op_2)) {
				case 10LL: { // BlockPush
					uint64_t v59 = mtp_mirth_arrow_Op_BlockPush(in_Op_2);
					PTUP v60;
					bool v61 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, v56, v59, &v60);
					branch_Bool_58 = v61;
					branch_ZPlusMirth_57 = v60;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v56));
					bool v62 = false;
					branch_Bool_58 = v62;
					branch_ZPlusMirth_57 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_58;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_57;
		} break;
		case 11LL: { // BlockRun
			uint64_t v63 = mtp_mirth_arrow_Op_BlockRun(in_Op_3);
			PTUP branch_ZPlusMirth_64;
			bool branch_Bool_65;
			switch (PTREXTRA(in_Op_2)) {
				case 11LL: { // BlockRun
					uint64_t v66 = mtp_mirth_arrow_Op_BlockRun(in_Op_2);
					PTUP v67;
					bool v68 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, v63, v66, &v67);
					branch_Bool_65 = v68;
					branch_ZPlusMirth_64 = v67;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v63));
					bool v69 = false;
					branch_Bool_65 = v69;
					branch_ZPlusMirth_64 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_65;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_64;
		} break;
		case 12LL: { // LabelPush
			uint64_t v70 = mtp_mirth_arrow_Op_LabelPush(in_Op_3);
			PTUP branch_ZPlusMirth_71;
			bool branch_Bool_72;
			switch (PTREXTRA(in_Op_2)) {
				case 12LL: { // LabelPush
					uint64_t v73 = mtp_mirth_arrow_Op_LabelPush(in_Op_2);
					bool v74 = (v73 == v70);
					branch_Bool_72 = v74;
					branch_ZPlusMirth_71 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v70));
					bool v75 = false;
					branch_Bool_72 = v75;
					branch_ZPlusMirth_71 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_72;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_71;
		} break;
		case 13LL: { // LabelPop
			uint64_t v76 = mtp_mirth_arrow_Op_LabelPop(in_Op_3);
			PTUP branch_ZPlusMirth_77;
			bool branch_Bool_78;
			switch (PTREXTRA(in_Op_2)) {
				case 13LL: { // LabelPop
					uint64_t v79 = mtp_mirth_arrow_Op_LabelPop(in_Op_2);
					bool v80 = (v79 == v76);
					branch_Bool_78 = v80;
					branch_ZPlusMirth_77 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v76));
					bool v81 = false;
					branch_Bool_78 = v81;
					branch_ZPlusMirth_77 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_78;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_77;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v82 = mtp_mirth_arrow_Op_LabelPushR(in_Op_3);
			PTUP branch_ZPlusMirth_83;
			bool branch_Bool_84;
			switch (PTREXTRA(in_Op_2)) {
				case 14LL: { // LabelPushR
					uint64_t v85 = mtp_mirth_arrow_Op_LabelPushR(in_Op_2);
					bool v86 = (v85 == v82);
					branch_Bool_84 = v86;
					branch_ZPlusMirth_83 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v82));
					bool v87 = false;
					branch_Bool_84 = v87;
					branch_ZPlusMirth_83 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_84;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_83;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v88 = mtp_mirth_arrow_Op_LabelPopR(in_Op_3);
			PTUP branch_ZPlusMirth_89;
			bool branch_Bool_90;
			switch (PTREXTRA(in_Op_2)) {
				case 15LL: { // LabelPopR
					uint64_t v91 = mtp_mirth_arrow_Op_LabelPopR(in_Op_2);
					bool v92 = (v91 == v88);
					branch_Bool_90 = v92;
					branch_ZPlusMirth_89 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v88));
					bool v93 = false;
					branch_Bool_90 = v93;
					branch_ZPlusMirth_89 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_90;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_89;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v94 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_3);
			PTUP branch_ZPlusMirth_95;
			bool branch_Bool_96;
			switch (PTREXTRA(in_Op_2)) {
				case 16LL: { // DataGetEnumValue
					uint64_t v97 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_2);
					bool v98 = (v97 == v94);
					branch_Bool_96 = v98;
					branch_ZPlusMirth_95 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v94));
					bool v99 = false;
					branch_Bool_96 = v99;
					branch_ZPlusMirth_95 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_96;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_95;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v100 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_3);
			PTUP branch_ZPlusMirth_101;
			bool branch_Bool_102;
			switch (PTREXTRA(in_Op_2)) {
				case 17LL: { // DataFromEnumValue
					uint64_t v103 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_2);
					bool v104 = (v103 == v100);
					branch_Bool_102 = v104;
					branch_ZPlusMirth_101 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v100));
					bool v105 = false;
					branch_Bool_102 = v105;
					branch_ZPlusMirth_101 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_102;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_101;
		} break;
		case 18LL: { // DataGetLabel
			PTUP v106 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_3);
			PTUP branch_ZPlusMirth_107;
			bool branch_Bool_108;
			switch (PTREXTRA(in_Op_2)) {
				case 18LL: { // DataGetLabel
					PTUP v109 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_2);
					PTUP v110;
					bool v111 = mw_mirth_data_TagField_similar(in_ZPlusMirth_1, v106, v109, &v110);
					branch_Bool_108 = v111;
					branch_ZPlusMirth_107 = v110;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKTUP(v106));
					bool v112 = false;
					branch_Bool_108 = v112;
					branch_ZPlusMirth_107 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_108;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_107;
		} break;
		case 19LL: { // DataSetLabel
			PTUP v113 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_3);
			PTUP branch_ZPlusMirth_114;
			bool branch_Bool_115;
			switch (PTREXTRA(in_Op_2)) {
				case 19LL: { // DataSetLabel
					PTUP v116 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_2);
					PTUP v117;
					bool v118 = mw_mirth_data_TagField_similar(in_ZPlusMirth_1, v113, v116, &v117);
					branch_Bool_115 = v118;
					branch_ZPlusMirth_114 = v117;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKTUP(v113));
					bool v119 = false;
					branch_Bool_115 = v119;
					branch_ZPlusMirth_114 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_115;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_114;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v120 = mtp_mirth_arrow_Op_TableToIndex(in_Op_3);
			PTUP branch_ZPlusMirth_121;
			bool branch_Bool_122;
			switch (PTREXTRA(in_Op_2)) {
				case 20LL: { // TableToIndex
					uint64_t v123 = mtp_mirth_arrow_Op_TableToIndex(in_Op_2);
					bool v124 = (v123 == v120);
					branch_Bool_122 = v124;
					branch_ZPlusMirth_121 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v120));
					bool v125 = false;
					branch_Bool_122 = v125;
					branch_ZPlusMirth_121 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_122;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_121;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v126 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_3);
			PTUP branch_ZPlusMirth_127;
			bool branch_Bool_128;
			switch (PTREXTRA(in_Op_2)) {
				case 21LL: { // TableFromIndex
					uint64_t v129 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_2);
					bool v130 = (v129 == v126);
					branch_Bool_128 = v130;
					branch_ZPlusMirth_127 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(MKTUP(in_Op_2));
					decref(MKU64(v126));
					bool v131 = false;
					branch_Bool_128 = v131;
					branch_ZPlusMirth_127 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_128;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_127;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_data_TagField_similar (PTUP in_ZPlusMirth_1, PTUP in_TagField_2, PTUP in_TagField_3, PTUP *out_ZPlusMirth_4) {
	uint64_t v6;
	uint64_t v7;
	PTUP v8;
	mtp_mirth_data_TagField_TagField(in_TagField_3, &v6, &v7, &v8);
	uint64_t v9;
	uint64_t v10;
	PTUP v11;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v9, &v10, &v11);
	bool v12 = (v7 == v10);
	bool v13 = (v6 == v9);
	bool v14 = (v12 && v13);
	decref(MKTUP(v8));
	decref(MKTUP(v11));
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return v14;
}
static bool mw_mirth_specializzer_SPKey_similar (PTUP in_ZPlusMirth_1, PTUP in_SPKey_2, PTUP in_SPKey_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mw_std_list_Nest_1_ZToList(VTUP(MKTUP(in_SPKey_2)));
	PTUP v7 = mw_std_list_Nest_1_ZToList(in_SPKey_3);
	PTUP v8;
	bool v9 = mw_std_list_List_1_ZEqual_sp1(in_ZPlusMirth_1, v6, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static PTUP mw_mirth_word_Word_spZ_synthed (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildespZ_synthed, in_Word_2);
	PTUP v6 = mw_std_prelude_ZAtZAsk(v5);
	PTUP branch_Map_7;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_Map_7 = VTUP(v8);
		} break;
		case 0LL: { // None
			PTUP v9 = mw_std_map_Map_2_Nil();
			branch_Map_7 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return branch_Map_7;
}
static uint64_t mw_mirth_specializzer_specializzeZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_SPKey_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4) {
	incref(MKTUP(in_SPKey_2));
	PTUP v6;
	PTUP v7 = mw_mirth_word_Word_spZ_synthed(in_ZPlusMirth_1, in_Word_3, &v6);
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	bool v9 = true;
	PTUP r10 = v6;
	PTUP v11 = in_SPKey_2;
	PTUP v12 = v8;
	PTUP v13 = v7;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		PTUP r16 = r10;
		PTUP v17 = v11;
		PTUP v18 = v12;
		PTUP v19 = v13;
		bool v20 = v14;
		PTUP v21;
		PTUP v22 = mw_std_list_List_1_uncons(v19, &v21);
		PTUP branch_ZPlusMirth_23;
		PTUP branch_SPKey_24;
		PTUP branch_Maybe_25;
		PTUP branch_List_26;
		bool branch_Bool_27;
		switch (PTREXTRA(v22)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v22);
				incref(MKTUP(VTUP(v28)));
				incref(MKTUP(v17));
				VAL v29 = ((TUP*)PTRPTR(VTUP(MKTUP(VTUP(v28)))))->cells[0];
				incref(v29);
				decref(MKTUP(VTUP(MKTUP(VTUP(v28)))));
				PTUP v30;
				bool v31 = mw_mirth_specializzer_SPKey_similar(r16, VTUP(MKTUP(v17)), VTUP(v29), &v30);
				PTUP branch_ZPlusMirth_32;
				PTUP branch_SPKey_33;
				PTUP branch_Maybe_34;
				if (v31) {
					PTUP v35 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v28)));
					branch_Maybe_34 = v35;
					branch_SPKey_33 = VTUP(MKTUP(v17));
					branch_ZPlusMirth_32 = v30;
				} else {
					decref(MKTUP(VTUP(v28)));
					PTUP v36 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_34 = v36;
					branch_SPKey_33 = VTUP(MKTUP(v17));
					branch_ZPlusMirth_32 = v30;
				}
				PTUP branch_ZPlusMirth_37;
				PTUP branch_SPKey_38;
				PTUP branch_Maybe_39;
				PTUP branch_List_40;
				switch (PTREXTRA(branch_Maybe_34)) {
					case 0LL: { // None
						branch_List_40 = VTUP(MKTUP(v21));
						branch_Maybe_39 = VTUP(MKTUP(v18));
						branch_SPKey_38 = branch_SPKey_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v21))));
						decref(MKTUP(VTUP(MKTUP(v18))));
						PTUP v41 = PTRMK(0LL /* Nil */,0,0);
						branch_List_40 = v41;
						branch_Maybe_39 = branch_Maybe_34;
						branch_SPKey_38 = branch_SPKey_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
				}
				bool v42 = true;
				branch_Bool_27 = v42;
				branch_List_26 = branch_List_40;
				branch_Maybe_25 = branch_Maybe_39;
				branch_SPKey_24 = branch_SPKey_38;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_37;
			} break;
			case 0LL: { // None
				bool v43 = false;
				branch_Bool_27 = v43;
				branch_List_26 = v21;
				branch_Maybe_25 = v18;
				branch_SPKey_24 = v17;
				branch_ZPlusMirth_23 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_27;
		v14 = branch_Bool_27;
		v13 = branch_List_26;
		v12 = branch_Maybe_25;
		v11 = branch_SPKey_24;
		r10 = branch_ZPlusMirth_23;
	}
	decref(MKTUP(v13));
	decref(MKTUP(v11));
	PTUP v44 = mw_std_maybe_Maybe_1_map_1_sp10(VTUP(MKTUP(v12)));
	PTUP branch_SPKey_45;
	uint64_t branch_Word_46;
	uint64_t branch_Word_47;
	PTUP branch_ZPlusMirth_48;
	switch (PTREXTRA(v44)) {
		case 1LL: { // Some
			VAL v49 = mtp_std_maybe_Maybe_1_Some(v44);
			PTUP v50;
			bool v51 = mw_mirth_word_Word_preferZ_inlineZAsk(r10, in_Word_3, &v50);
			incref(v49);
			PTUP v52;
			mw_mirth_word_Word_preferZ_inlineZAskZBang(v50, value_bool(MKBOOL(v51)), value_u64(v49), &v52);
			branch_ZPlusMirth_48 = v52;
			branch_Word_47 = value_u64(v49);
			branch_Word_46 = in_Word_3;
			branch_SPKey_45 = in_SPKey_2;
		} break;
		case 0LL: { // None
			PTUP v53;
			uint64_t v54 = mw_mirth_word_Word_head(r10, in_Word_3, &v53);
			PTUP v55 = PTRMK(0LL /* None */,0,0);
			PTUP v56;
			uint64_t v57 = mw_mirth_word_Word_body(v53, in_Word_3, &v56);
			PTUP v58;
			PTUP v59 = mw_mirth_word_Word_spZ_synthed(v56, in_Word_3, &v58);
			INT v60 = mw_std_map_Map_2_len(v59);
			INT v61 = WRAP_I63(1LL);
			INT v62 = v60;
			INT v63 = v61;
			INT v64 = int_add(v62, v63);
			INT v65 = v64;
			STR* v66;
			STRLIT(v66, "", 0);
			STR* v67;
			STRLIT(v67, "sp", 2);
			STR* v68;
			mw_std_str_ZPlusStr_pushZ_strZBang(v67, v66, &v68);
			INT v69 = v65;
			STR* v70 = int_to_str(v69);
			STR* v71;
			mw_std_str_ZPlusStr_pushZ_strZBang(v70, v68, &v71);
			PTUP v72;
			uint64_t v73 = mw_mirth_name_Name_Name(v58, v71, &v72);
			INT v74 = WRAP_I63(0LL);
			PTUP v75;
			PTUP v76 = mw_mirth_word_Word_doc(v72, in_Word_3, &v75);
			PTUP v77;
			uint64_t v78 = mw_mirth_word_Word_NewZBang(v75, v54, v55, v57, v73, v74, v76, &v77);
			PTUP v79 = mtw_mirth_name_Namespace_Word(in_Word_3);
			PTUP v80;
			uint64_t v81 = mw_mirth_word_Word_name(v77, v78, &v80);
			INT v82 = WRAP_I63(0LL);
			PTUP v83 = mw_mirth_name_QName_Mk(v79, v81, v82);
			PTUP v84 = mtw_mirth_mirth_PropLabel_WordQName(v78);
			PTUP v85;
			PTUP v86 = mw_mirth_mirth_PropLabel_prop(v80, MKTUP(v83), v84, &v85);
			void* v87 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v78);
			mut_set(MKTUP(v86), v87);
			incref(MKTUP(in_SPKey_2));
			PTUP v88 = mtw_std_map_KeyValuePair_2_KeyValuePair(MKTUP(in_SPKey_2), MKU64(v78));
			PTUP v89;
			PTUP v90 = mw_mirth_word_Word_spZ_synthed(v85, in_Word_3, &v89);
			PTUP v91 = mw_std_map_Map_2_insert(v88, v90);
			void* v92 = field_mut(&mfld_mirth_word_Word_ZTildespZ_synthed, in_Word_3);
			mut_set(MKTUP(v91), v92);
			PTUP v93 = mtw_mirth_mirth_PropLabel_WordType(v78);
			PTUP v94 = VTUP(((TUP*)PTRPTR(v89))->cells[6]);
			incref(MKTUP(v94));
			FNPTR v95 = &mb_mirth_mirth_PropLabel_prop_1_sp1_0;
			PTUP v96 = mtw_mirth_mirth_PropState_1_Delay(v94, MKU64(v78), MKFNPTR(v95));
			PTUP v97 = mtw_mirth_mirth_Prop_1_Prop(v93, v96);
			void* v98 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v78);
			mut_set(MKTUP(v97), v98);
			bool v99 = true;
			PTUP v100;
			mw_mirth_word_Word_preferZ_inlineZAskZBang(v89, v99, v78, &v100);
			incref(MKTUP(in_SPKey_2));
			PTUP v101 = mtw_mirth_mirth_PropLabel_WordArrow(v78);
			PTUP r102 = PTRMK(0,tup_new(3),0);
			((TUP*)PTRPTR(r102))->size = 3;
			((TUP*)PTRPTR(r102))->cells[2] = MKU64(v78);
			((TUP*)PTRPTR(r102))->cells[1] = MKU64(in_Word_3);
			((TUP*)PTRPTR(r102))->cells[0] = MKTUP(in_SPKey_2);
			PTUP v103 = VTUP(((TUP*)PTRPTR(v100))->cells[6]);
			incref(MKTUP(v103));
			FNPTR v104 = &mb_mirth_mirth_PropLabel_prop_1_sp2_0;
			PTUP v105 = mtw_mirth_mirth_PropState_1_Delay(v103, MKTUP(r102), MKFNPTR(v104));
			PTUP v106 = mtw_mirth_mirth_Prop_1_Prop(v101, v105);
			void* v107 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v78);
			mut_set(MKTUP(v106), v107);
			PTUP v108;
			PTUP v109 = mw_mirth_word_Word_type(v100, v78, &v108);
			decref(MKTUP(v109));
			branch_ZPlusMirth_48 = v108;
			branch_Word_47 = v78;
			branch_Word_46 = in_Word_3;
			branch_SPKey_45 = in_SPKey_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Word_46));
	decref(MKTUP(branch_SPKey_45));
	*out_ZPlusMirth_4 = branch_ZPlusMirth_48;
	return branch_Word_47;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Arrow_3))->cells[6]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Arrow_3));
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusSPSynth_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusSPSynth_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				PTUP v23;
				PTUP v24;
				mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang(r13, r14, VTUP(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusSPSynth_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusSPSynth_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusSPSynth_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusSPSynth_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	incref(MKTUP(in_Atom_3));
	uint64_t v6 = value_u64(((TUP*)PTRPTR(in_Atom_3))->cells[1]);
	decref(MKTUP(in_Atom_3));
	PTUP v7;
	uint64_t v8;
	PTUP v9;
	PTUP v10;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v7, &v8, &v9, &v10);
	PTUP v11;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v10, v6, &v11);
	PTUP v12;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v7, v8, v9, v11, &v12);
	incref(MKTUP(in_Atom_3));
	PTUP v13 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
	incref(MKTUP(v13));
	decref(MKTUP(in_Atom_3));
	PTUP v14 = PTRMK(0LL /* Nil */,0,0);
	PTUP v15;
	mw_std_list_List_1_buildZBang(v14, &v15);
	bool v16 = true;
	PTUP r17 = in_ZPlusMirth_1;
	PTUP r18 = v12;
	PTUP r19 = v15;
	PTUP v20 = v13;
	bool v21 = v16;
	bool v22 = v16;
	while (v22) {
		PTUP r23 = r17;
		PTUP r24 = r18;
		PTUP r25 = r19;
		PTUP v26 = v20;
		bool v27 = v21;
		PTUP branch_ZPlusMirth_28;
		PTUP branch_ZPlusSPSynth_29;
		PTUP branch_ZPlusLister_30;
		PTUP branch_List_31;
		bool branch_Bool_32;
		switch (PTREXTRA(v26)) {
			case 1LL: { // Cons
				PTUP v33;
				VAL v34 = mtp_std_list_List_1_Cons(v26, &v33);
				PTUP v35;
				PTUP v36;
				uint64_t v37 = mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang(r23, r24, value_u64(v34), &v35, &v36);
				PTUP v38;
				mw_std_list_ZPlusLister_1_pushZBang(MKU64(v37), r25, &v38);
				bool v39 = true;
				branch_Bool_32 = v39;
				branch_List_31 = v33;
				branch_ZPlusLister_30 = v38;
				branch_ZPlusSPSynth_29 = v36;
				branch_ZPlusMirth_28 = v35;
			} break;
			case 0LL: { // Nil
				PTUP v40 = PTRMK(0LL /* Nil */,0,0);
				bool v41 = false;
				branch_Bool_32 = v41;
				branch_List_31 = v40;
				branch_ZPlusLister_30 = r25;
				branch_ZPlusSPSynth_29 = r24;
				branch_ZPlusMirth_28 = r23;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v22 = branch_Bool_32;
		v21 = branch_Bool_32;
		v20 = branch_List_31;
		r19 = branch_ZPlusLister_30;
		r18 = branch_ZPlusSPSynth_29;
		r17 = branch_ZPlusMirth_28;
	}
	decref(MKTUP(v20));
	PTUP v42 = mw_std_list_ZPlusLister_1_doneZBang(r19);
	PTUP v43 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[3]);
	incref(MKTUP(v43));
	decref(MKTUP(in_Atom_3));
	PTUP v44;
	PTUP v45;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang(r17, r18, VTUP(MKTUP(v42)), v43, &v44, &v45);
	*out_ZPlusSPSynth_5 = v45;
	*out_ZPlusMirth_4 = v44;
}
static uint64_t mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	PTUP v7;
	PTUP v8;
	uint64_t v9 = mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, in_Arg_3, &v7, &v8);
	*out_ZPlusSPSynth_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return v9;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_List_3, PTUP in_Op_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusSPSynth_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusSPSynth_8;
	switch (PTREXTRA(in_Op_4)) {
		case 7LL: { // Match
			PTUP v9 = mtp_mirth_arrow_Op_Match(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v10;
			PTUP v11;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, VTUP(MKTUP(v9)), &v10, &v11);
			branch_ZPlusSPSynth_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 8LL: { // Lambda
			PTUP v12 = mtp_mirth_arrow_Op_Lambda(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v13;
			PTUP v14;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, VTUP(MKTUP(v12)), &v13, &v14);
			branch_ZPlusSPSynth_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 10LL: { // BlockPush
			uint64_t v15 = mtp_mirth_arrow_Op_BlockPush(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v16;
			PTUP v17;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, value_u64(MKU64(v15)), &v16, &v17);
			branch_ZPlusSPSynth_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 11LL: { // BlockRun
			uint64_t v18 = mtp_mirth_arrow_Op_BlockRun(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v19;
			PTUP v20;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, value_u64(MKU64(v18)), &v19, &v20);
			branch_ZPlusSPSynth_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 9LL: { // Var
			uint64_t v21 = mtp_mirth_arrow_Op_Var(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v22;
			PTUP v23;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, value_u64(MKU64(v21)), &v22, &v23);
			branch_ZPlusSPSynth_8 = v23;
			branch_ZPlusMirth_7 = v22;
		} break;
		default: {
			PTUP v24;
			uint64_t v25;
			PTUP v26;
			PTUP v27;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v24, &v25, &v26, &v27);
			PTUP v28;
			PTUP v29;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, v27, in_List_3, in_Op_4, &v28, &v29);
			PTUP v30;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v24, v25, v26, v29, &v30);
			branch_ZPlusSPSynth_8 = v30;
			branch_ZPlusMirth_7 = v28;
		} break;
	}
	*out_ZPlusSPSynth_6 = branch_ZPlusSPSynth_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_ArrowType_FreshZBang(in_ZPlusMirth_1, &v6);
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	PTUP v11;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v8, &v9, &v10, &v11);
	PTUP v12;
	uint64_t v13 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v11, &v12);
	PTUP v14;
	PTUP v15 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v12, &v14);
	PTUP v16;
	PTUP v17 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v14, &v16);
	PTUP v18;
	uint64_t v19;
	PTUP v20;
	PTUP v21;
	PTUP v22 = mw_mirth_elab_abZ_buildZ_homZBang_1_sp6(v6, in_Block_3, v8, v9, v10, VTUP(MKTUP(v15)), VTUP(MKTUP(v7)), value_u64(MKU64(v13)), v17, &v18, &v19, &v20, &v21);
	PTUP v23;
	uint64_t v24 = mw_mirth_arrow_Block_NewZBang(v21, v22, &v23);
	PTUP v25 = mtw_mirth_arrow_Op_BlockPush(v24);
	PTUP v26 = PTRMK(0LL /* Nil */,0,0);
	PTUP v27;
	PTUP v28;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v23, v16, v26, v25, &v27, &v28);
	PTUP v29;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v18, v19, v20, v28, &v29);
	*out_ZPlusSPSynth_5 = v29;
	*out_ZPlusMirth_4 = v27;
}
static uint64_t mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_ArrowType_FreshZBang(in_ZPlusMirth_1, &v7);
	PTUP v9;
	uint64_t v10;
	PTUP v11;
	PTUP v12;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v9, &v10, &v11, &v12);
	PTUP v13;
	PTUP v14 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v12, &v13);
	PTUP v15;
	uint64_t v16 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v13, &v15);
	PTUP v17;
	PTUP v18 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v15, &v17);
	PTUP v19;
	uint64_t v20;
	PTUP v21;
	PTUP v22;
	PTUP v23 = mw_mirth_elab_abZ_buildZ_homZBang_1_sp6(v7, in_Block_3, v9, v10, v11, v14, v8, v16, v18, &v19, &v20, &v21, &v22);
	PTUP v24;
	uint64_t v25 = mw_mirth_arrow_Block_NewZBang(v22, v23, &v24);
	PTUP v26;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v19, v20, v21, v17, &v26);
	*out_ZPlusSPSynth_5 = v26;
	*out_ZPlusMirth_4 = v24;
	return v25;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_3, &v6);
	PTUP v8;
	PTUP v9;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(v6, in_ZPlusSPSynth_2, v7, &v8, &v9);
	*out_ZPlusSPSynth_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusSPSynth_2))->cells[2]);
	incref(MKTUP(v6));
	PTUP v7 = mw_std_map_Map_2_lookup_sp3(in_Var_3, v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusSPSynth_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKU64(in_Var_3));
			PTUP v11;
			PTUP v12;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, value_u64(v10), &v11, &v12);
			branch_ZPlusSPSynth_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			PTUP v13;
			uint64_t v14;
			PTUP v15;
			PTUP v16;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v13, &v14, &v15, &v16);
			PTUP v17;
			PTUP v18;
			mw_mirth_elab_ZPlusAB_abZ_varZBang(in_ZPlusMirth_1, v16, in_Var_3, &v17, &v18);
			PTUP v19;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v13, v14, v15, v18, &v19);
			branch_ZPlusSPSynth_9 = v19;
			branch_ZPlusMirth_8 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPSynth_5 = branch_ZPlusSPSynth_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_Match_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v6);
	incref(MKTUP(in_Match_3));
	uint64_t v8 = value_u64(((TUP*)PTRPTR(in_Match_3))->cells[2]);
	decref(MKTUP(in_Match_3));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_Match_3))->cells[6]);
	incref(MKTUP(v9));
	decref(MKTUP(in_Match_3));
	PTUP v10;
	uint64_t v11;
	PTUP v12;
	PTUP v13;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v10, &v11, &v12, &v13);
	PTUP v14;
	PTUP v15 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v13, &v14);
	PTUP v16;
	PTUP v17 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v14, &v16);
	PTUP v18;
	uint64_t v19 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v16, &v18);
	PTUP v20;
	PTUP v21 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v18, &v20);
	PTUP v22 = PTRMK(0LL /* Nil */,0,0);
	PTUP v23;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v21, v19, v8, v15, v17, v7, v22, &v23);
	bool v24 = true;
	PTUP v25 = v10;
	uint64_t v26 = v11;
	PTUP v27 = v12;
	PTUP r28 = v6;
	PTUP r29 = v23;
	PTUP v30 = v9;
	bool v31 = v24;
	bool v32 = v24;
	while (v32) {
		PTUP v33 = v25;
		uint64_t v34 = v26;
		PTUP v35 = v27;
		PTUP r36 = r28;
		PTUP r37 = r29;
		PTUP v38 = v30;
		bool v39 = v31;
		PTUP branch_SPKey_40;
		uint64_t branch_Word_41;
		PTUP branch_Map_42;
		PTUP branch_ZPlusMirth_43;
		PTUP branch_ZPlusMatch_44;
		PTUP branch_List_45;
		bool branch_Bool_46;
		switch (PTREXTRA(v38)) {
			case 1LL: { // Cons
				PTUP v47;
				VAL v48 = mtp_std_list_List_1_Cons(v38, &v47);
				incref(MKTUP(VTUP(v48)));
				PTUP v49 = VTUP(((TUP*)PTRPTR(VTUP(v48)))->cells[0]);
				incref(MKTUP(v49));
				decref(MKTUP(VTUP(v48)));
				uint64_t v50 = value_u64(((TUP*)PTRPTR(v49))->cells[1]);
				decref(MKTUP(v49));
				incref(MKTUP(VTUP(v48)));
				PTUP v51 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(VTUP(v48)))))->cells[1]);
				incref(MKTUP(v51));
				decref(MKTUP(VTUP(MKTUP(VTUP(v48)))));
				uint64_t v52 = value_u64(((TUP*)PTRPTR(v51))->cells[1]);
				decref(MKTUP(v51));
				PTUP v53 = VTUP(((TUP*)PTRPTR(r37))->cells[0]);
				incref(MKTUP(v53));
				PTUP v54 = VTUP(((TUP*)PTRPTR(r37))->cells[3]);
				incref(MKTUP(v54));
				incref(MKTUP(v54));
				PTUP v55 = PTRMK(0LL /* Nil */,0,0);
				PTUP v56 = VTUP(((TUP*)PTRPTR(r37))->cells[4]);
				incref(MKTUP(v56));
				incref(MKTUP(v56));
				PTUP v57 = PTRMK(0LL /* Nil */,0,0);
				PTUP v58 = mtw_mirth_match_Pattern_Pattern(v53, value_u64(MKU64(v50)), value_u64(MKU64(v50)), v54, v54, v55, v56, v56, v57);
				PTUP v59;
				mw_mirth_match_Pattern_thaw(v58, &v59);
				incref(MKTUP(VTUP(MKTUP(VTUP(v48)))));
				PTUP v60 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(VTUP(v48)))))->cells[0]);
				incref(MKTUP(v60));
				decref(MKTUP(VTUP(MKTUP(VTUP(v48)))));
				PTUP v61 = VTUP(((TUP*)PTRPTR(v60))->cells[8]);
				incref(MKTUP(v61));
				decref(MKTUP(v60));
				PTUP v62 = mw_std_list_List_1_reverse(v61);
				bool v63 = true;
				PTUP r64 = r36;
				PTUP r65 = v59;
				PTUP v66 = v62;
				bool v67 = v63;
				bool v68 = v63;
				while (v68) {
					PTUP r69 = r64;
					PTUP r70 = r65;
					PTUP v71 = v66;
					bool v72 = v67;
					PTUP branch_ZPlusMirth_73;
					PTUP branch_ZPlusPattern_74;
					PTUP branch_List_75;
					bool branch_Bool_76;
					switch (PTREXTRA(v71)) {
						case 1LL: { // Cons
							PTUP v77;
							VAL v78 = mtp_std_list_List_1_Cons(v71, &v77);
							PTUP v79 = VTUP(((TUP*)PTRPTR(VTUP(v78)))->cells[6]);
							incref(MKTUP(v79));
							decref(MKTUP(VTUP(v78)));
							PTUP v80;
							PTUP v81;
							mw_mirth_match_ZPlusPattern_opZBang(r69, r70, v79, &v80, &v81);
							bool v82 = true;
							branch_Bool_76 = v82;
							branch_List_75 = v77;
							branch_ZPlusPattern_74 = v81;
							branch_ZPlusMirth_73 = v80;
						} break;
						case 0LL: { // Nil
							PTUP v83 = PTRMK(0LL /* Nil */,0,0);
							bool v84 = false;
							branch_Bool_76 = v84;
							branch_List_75 = v83;
							branch_ZPlusPattern_74 = r70;
							branch_ZPlusMirth_73 = r69;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v68 = branch_Bool_76;
					v67 = branch_Bool_76;
					v66 = branch_List_75;
					r65 = branch_ZPlusPattern_74;
					r64 = branch_ZPlusMirth_73;
				}
				decref(MKTUP(v66));
				PTUP v85 = mw_mirth_match_ZPlusPattern_freezze(r65);
				incref(MKTUP(v85));
				PTUP v86 = VTUP(((TUP*)PTRPTR(v85))->cells[4]);
				incref(MKTUP(v86));
				decref(MKTUP(v85));
				incref(MKTUP(v85));
				PTUP v87 = mw_mirth_match_Pattern_dom(v85);
				PTUP v88 = VTUP(((TUP*)PTRPTR(r37))->cells[5]);
				incref(MKTUP(v88));
				PTUP v89 = mw_mirth_type_TZ_ZTo(v87, v88);
				PTUP v90 = VTUP(((TUP*)PTRPTR(r37))->cells[0]);
				incref(MKTUP(v90));
				PTUP v91;
				PTUP v92;
				mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v89)), &v91, &v92);
				incref(MKTUP(v91));
				PTUP v93 = PTRMK(0LL /* Nil */,0,0);
				PTUP v94 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v90)), value_u64(MKU64(value_u64(MKU64(v52)))), value_u64(MKU64(value_u64(MKU64(v52)))), VTUP(MKTUP(v86)), v91, v91, v93);
				PTUP v95;
				mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v33, v34, v35, v94, &v95);
				PTUP v96 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(VTUP(v48)))))->cells[1]);
				incref(MKTUP(v96));
				decref(MKTUP(VTUP(MKTUP(VTUP(v48)))));
				PTUP v97;
				PTUP v98;
				mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(r64, v95, v96, &v97, &v98);
				PTUP v99;
				uint64_t v100;
				PTUP v101;
				PTUP v102;
				mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v98, &v99, &v100, &v101, &v102);
				PTUP v103;
				PTUP v104;
				mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v97, v102, v92, &v103, &v104);
				PTUP v105 = mtw_mirth_match_Case_Case(v85, v104);
				PTUP v106;
				PTUP v107;
				mw_mirth_match_ZPlusMatch_addZ_case(v103, r37, v105, &v106, &v107);
				bool v108 = true;
				branch_Bool_46 = v108;
				branch_List_45 = v47;
				branch_ZPlusMatch_44 = v107;
				branch_ZPlusMirth_43 = v106;
				branch_Map_42 = v101;
				branch_Word_41 = v100;
				branch_SPKey_40 = v99;
			} break;
			case 0LL: { // Nil
				PTUP v109 = PTRMK(0LL /* Nil */,0,0);
				bool v110 = false;
				branch_Bool_46 = v110;
				branch_List_45 = v109;
				branch_ZPlusMatch_44 = r37;
				branch_ZPlusMirth_43 = r36;
				branch_Map_42 = v35;
				branch_Word_41 = v34;
				branch_SPKey_40 = v33;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v32 = branch_Bool_46;
		v31 = branch_Bool_46;
		v30 = branch_List_45;
		r29 = branch_ZPlusMatch_44;
		r28 = branch_ZPlusMirth_43;
		v27 = branch_Map_42;
		v26 = branch_Word_41;
		v25 = branch_SPKey_40;
	}
	decref(MKTUP(v30));
	PTUP v111 = mw_mirth_match_ZPlusMatch_freezze(r29);
	PTUP v112 = mtw_mirth_arrow_Op_Match(v111);
	PTUP v113 = PTRMK(0LL /* Nil */,0,0);
	PTUP v114;
	PTUP v115;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(r28, v20, v113, v112, &v114, &v115);
	PTUP v116;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v25, v26, v27, v115, &v116);
	*out_ZPlusSPSynth_5 = v116;
	*out_ZPlusMirth_4 = v114;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPSynth_2, PTUP in_Lambda_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPSynth_5) {
	incref(MKTUP(in_Lambda_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Lambda_3))->cells[3]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Lambda_3));
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v7);
	PTUP v9;
	uint64_t v10;
	PTUP v11;
	PTUP v12;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v9, &v10, &v11, &v12);
	PTUP v13;
	uint64_t v14 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v12, &v13);
	incref(MKTUP(VTUP(MKTUP(v6))));
	PTUP v15;
	PTUP v16 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v13, &v15);
	PTUP v17;
	PTUP v18 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v15, &v17);
	PTUP v19;
	PTUP v20;
	PTUP v21;
	PTUP v22 = mw_std_list_List_1_reverseZ_for_1_sp10(v7, v17, v16, v18, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v19, &v20, &v21);
	PTUP v23 = mw_mirth_type_TZ_ZTo(v21, VTUP(MKTUP(VTUP(MKTUP(v8)))));
	PTUP v24;
	PTUP v25 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v20, &v24);
	PTUP v26;
	PTUP v27;
	mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v23)), &v26, &v27);
	incref(MKTUP(v26));
	PTUP v28 = PTRMK(0LL /* Nil */,0,0);
	PTUP v29 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v25)), value_u64(MKU64(value_u64(MKU64(v14)))), value_u64(MKU64(value_u64(MKU64(v14)))), VTUP(MKTUP(v22)), v26, v26, v28);
	PTUP v30;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v9, v10, v11, v29, &v30);
	PTUP v31 = VTUP(((TUP*)PTRPTR(in_Lambda_3))->cells[4]);
	incref(MKTUP(v31));
	decref(MKTUP(in_Lambda_3));
	PTUP v32;
	PTUP v33;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(v19, v30, v31, &v32, &v33);
	PTUP v34;
	uint64_t v35;
	PTUP v36;
	PTUP v37;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v33, &v34, &v35, &v36, &v37);
	PTUP v38;
	PTUP v39;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v32, v37, v27, &v38, &v39);
	PTUP v40;
	PTUP v41 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v24, &v40);
	PTUP v42;
	PTUP v43 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v40, &v42);
	PTUP v44;
	uint64_t v45 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v42, &v44);
	PTUP v46 = mtw_mirth_arrow_Lambda_Lambda(v45, v41, v43, VTUP(MKTUP(VTUP(MKTUP(v6)))), v39);
	PTUP v47 = mtw_mirth_arrow_Op_Lambda(v46);
	PTUP v48 = PTRMK(0LL /* Nil */,0,0);
	PTUP v49;
	PTUP v50;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v38, v44, v48, v47, &v49, &v50);
	PTUP v51;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v34, v35, v36, v50, &v51);
	*out_ZPlusSPSynth_5 = v51;
	*out_ZPlusMirth_4 = v49;
}
static void mw_mirth_specializzer_synthZ_specializzedZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_SPKey_3, uint64_t in_Word_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_word_Word_arrow(in_ZPlusMirth_1, in_Word_4, &v7);
	PTUP v9 = VTUP(((TUP*)PTRPTR(v8))->cells[6]);
	incref(MKTUP(v9));
	decref(MKTUP(v8));
	PTUP v10 = mw_std_list_List_1_singleZAsk(v9);
	PTUP branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	VAL branch_z_x2_13;
	switch (PTREXTRA(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			branch_z_x2_13 = v14;
			branch_z_x1_12 = MKTUP(in_ZPlusAB_2);
			branch_ZPlusMirth_11 = v7;
		} break;
		case 0LL: { // None
			STR* v15;
			STRLIT(v15, "unexpected shape for synth-specialized-word!", 44);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v7, v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v18 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x2_13)))->cells[3]);
	incref(MKTUP(v18));
	decref(MKTUP(VTUP(branch_z_x2_13)));
	PTUP branch_ZPlusMirth_19;
	PTUP branch_ZPlusAB_20;
	switch (PTREXTRA(v18)) {
		case 8LL: { // Lambda
			PTUP v21 = mtp_mirth_arrow_Op_Lambda(v18);
			incref(MKTUP(v21));
			PTUP v22 = VTUP(((TUP*)PTRPTR(v21))->cells[3]);
			incref(MKTUP(v22));
			decref(MKTUP(v21));
			incref(MKTUP(in_SPKey_3));
			PTUP v23 = mw_std_list_Nest_1_ZToList(in_SPKey_3);
			incref(MKTUP(v22));
			incref(MKTUP(v23));
			INT v24 = mw_std_list_List_1_len(VTUP(MKTUP(v22)));
			INT v25 = mw_std_list_List_1_len(VTUP(MKTUP(v23)));
			INT v26 = v25;
			INT v27 = v24;
			bool v28 = int_eq(v27, v26);
			PTUP branch_ZPlusMirth_29;
			VAL branch_z_x1_30;
			if (v28) {
				branch_z_x1_30 = MKTUP(VTUP(branch_z_x1_12));
				branch_ZPlusMirth_29 = branch_ZPlusMirth_11;
			} else {
				STR* v31;
				STRLIT(v31, "wrong number of lambda params in synth-specialized-word!", 56);
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(branch_ZPlusMirth_11, v31);
			}
			PTUP v33 = PTRMK(0LL /* Nil */,0,0);
			PTUP v34;
			mw_std_list_List_1_buildZBang(v33, &v34);
			bool v35 = true;
			PTUP v36 = VTUP(MKTUP(v22));
			PTUP v37 = VTUP(MKTUP(v23));
			PTUP r38 = v34;
			bool v39 = v35;
			bool v40 = v35;
			while (v40) {
				PTUP v41 = v36;
				PTUP v42 = v37;
				PTUP r43 = r38;
				bool v44 = v39;
				PTUP v45;
				PTUP v46 = mw_std_list_List_1_uncons(v42, &v45);
				PTUP v47;
				PTUP v48 = mw_std_list_List_1_uncons(v41, &v47);
				PTUP branch_Maybe_49;
				switch (PTREXTRA(v46)) {
					case 0LL: { // None
						decref(MKTUP(v48));
						PTUP v50 = PTRMK(0LL /* None */,0,0);
						branch_Maybe_49 = v50;
					} break;
					case 1LL: { // Some
						VAL v51 = mtp_std_maybe_Maybe_1_Some(v46);
						PTUP branch_Maybe_52;
						switch (PTREXTRA(v48)) {
							case 0LL: { // None
								PTUP v53 = PTRMK(0LL /* None */,0,0);
								branch_Maybe_52 = v53;
							} break;
							case 1LL: { // Some
								VAL v54 = mtp_std_maybe_Maybe_1_Some(v48);
								PTUP v55 = mtw_std_map_KeyValuePair_2_KeyValuePair(v54, MKU64(value_u64(v51)));
								PTUP v56 = mtw_std_maybe_Maybe_1_Some(MKTUP(v55));
								branch_Maybe_52 = v56;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_49 = branch_Maybe_52;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v57;
				bool v58 = mw_std_maybe_Maybe_1_ifZAsk_2_sp69(r43, VTUP(MKTUP(branch_Maybe_49)), &v57);
				v40 = v58;
				v39 = v58;
				r38 = v57;
				v37 = VTUP(MKTUP(v45));
				v36 = VTUP(MKTUP(v47));
			}
			PTUP v59 = mw_std_list_ZPlusLister_1_doneZBang(r38);
			decref(MKTUP(v37));
			decref(MKTUP(v36));
			PTUP v60;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_SPKey_3, in_Word_4, v59, VTUP(branch_z_x1_30), &v60);
			PTUP v61 = VTUP(((TUP*)PTRPTR(v21))->cells[4]);
			incref(MKTUP(v61));
			decref(MKTUP(v21));
			PTUP v62;
			PTUP v63;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(branch_ZPlusMirth_29, v60, v61, &v62, &v63);
			PTUP v64;
			uint64_t v65;
			PTUP v66;
			PTUP v67;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v63, &v64, &v65, &v66, &v67);
			decref(MKTUP(v66));
			decref(MKU64(v65));
			decref(MKTUP(v64));
			branch_ZPlusAB_20 = v67;
			branch_ZPlusMirth_19 = v62;
		} break;
		default: {
			STR* v68;
			STRLIT(v68, "unexpected shape", 16);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(branch_ZPlusMirth_11, v68);
		} break;
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_20;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_19;
}
static INT mw_std_set_SETz_INITIALz_SIZZE (void) {
	INT v2 = WRAP_I63(256LL);
	return v2;
}
static void mw_std_set_ZPlusSet_Empty (ARR* *out_ZPlusSet_1) {
	INT v2 = mw_std_set_SETz_INITIALz_SIZZE();
	ARR* v3;
	mw_std_buffer_ZPlusBuffer_New(v2, &v3);
	*out_ZPlusSet_1 = v3;
}
static void mw_std_set_ZPlusSet_rdrop (ARR* in_ZPlusSet_1) {
	mw_std_buffer_ZPlusBuffer_rdrop(in_ZPlusSet_1);
}
static INT mw_std_set_ZPlusSet_offsetZ_mask (INT in_Nat_1, ARR* in_ZPlusSet_2, uint8_t *out_U8_4, ARR* *out_ZPlusSet_5) {
	INT v6 = WRAP_I63(8LL);
	INT v7 = in_Nat_1;
	INT v8 = v6;
	INT v9;
	INT v10 = int_divmod(v7, v8, &v9);
	INT v11 = v9;
	INT v12 = v10;
	INT v13 = v12;
	INT v14 = v11;
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint8_t v17 = 1;
	uint64_t v18 = (uint64_t)(v17);
	uint64_t v19 = (uint64_t)(v16);
	uint64_t v20 = u64_shl(value_u64(MKU64(v18)), v19);
	uint8_t v21 = (uint8_t)(v20);
	*out_ZPlusSet_5 = in_ZPlusSet_2;
	*out_U8_4 = v21;
	return v13;
}
static bool mw_std_set_ZPlusSet_memberZAsk (INT in_Nat_1, ARR* in_ZPlusSet_2, ARR* *out_ZPlusSet_4) {
	uint8_t v5;
	ARR* v6;
	INT v7 = mw_std_set_ZPlusSet_offsetZ_mask(in_Nat_1, in_ZPlusSet_2, &v5, &v6);
	ARR* v8;
	uint8_t v9 = mw_std_buffer_ZPlusBuffer_u8ZAt(v6, v7, &v8);
	uint64_t v10 = (uint64_t)(value_u8(MKU8(v5)));
	uint64_t v11 = (uint64_t)(v9);
	uint64_t v12 = (value_u64(MKU64(v10)) & v11);
	uint8_t v13 = (uint8_t)(v12);
	uint64_t v14 = (uint64_t)(v13);
	INT v15 = u64_to_int(v14);
	INT v16 = WRAP_I63(0LL);
	bool v17 = int_eq(v15, v16);
	bool v18 = !v17;
	*out_ZPlusSet_4 = v8;
	return v18;
}
static void mw_std_set_ZPlusSet_insertZBang (INT in_Nat_1, ARR* in_ZPlusSet_2, ARR* *out_ZPlusSet_3) {
	uint8_t v4;
	ARR* v5;
	INT v6 = mw_std_set_ZPlusSet_offsetZ_mask(in_Nat_1, in_ZPlusSet_2, &v4, &v5);
	incref(MKINT(v6));
	ARR* v7;
	uint8_t v8 = mw_std_buffer_ZPlusBuffer_u8ZAt(v5, value_int(MKINT(v6)), &v7);
	uint64_t v9 = (uint64_t)(value_u8(MKU8(v4)));
	uint64_t v10 = (uint64_t)(v8);
	uint64_t v11 = (value_u64(MKU64(v9)) | v10);
	uint8_t v12 = (uint8_t)(v11);
	ARR* v13;
	mw_std_buffer_ZPlusBuffer_u8ZBang(v7, v12, value_int(MKINT(v6)), &v13);
	*out_ZPlusSet_3 = v13;
}
static INT mw_mirth_need_Need_ZToNat (PTUP in_ZPlusMirth_1, PTUP in_Need_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	INT branch_Nat_6;
	switch (PTREXTRA(in_Need_2)) {
		case 0LL: { // Word
			uint64_t v7 = mtp_mirth_need_Need_Word(in_Need_2);
			INT v8 = WRAP_I63(5LL);
			INT v9 = u64_to_int(v7);
			INT v10 = v9;
			INT v11 = v10;
			INT v12 = v8;
			INT v13 = int_mul(v11, v12);
			INT v14 = v13;
			branch_Nat_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Block
			uint64_t v15 = mtp_mirth_need_Need_Block(in_Need_2);
			INT v16 = WRAP_I63(5LL);
			INT v17 = u64_to_int(v15);
			INT v18 = v17;
			INT v19 = v18;
			INT v20 = v16;
			INT v21 = int_mul(v19, v20);
			INT v22 = v21;
			INT v23 = WRAP_I63(1LL);
			INT v24 = v22;
			INT v25 = v23;
			INT v26 = int_add(v24, v25);
			INT v27 = v26;
			branch_Nat_6 = v27;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // TagWord
			uint64_t v28 = mtp_mirth_need_Need_TagWord(in_Need_2);
			INT v29 = WRAP_I63(5LL);
			INT v30 = u64_to_int(v28);
			INT v31 = v30;
			INT v32 = v31;
			INT v33 = v29;
			INT v34 = int_mul(v32, v33);
			INT v35 = v34;
			INT v36 = WRAP_I63(2LL);
			INT v37 = v35;
			INT v38 = v36;
			INT v39 = int_add(v37, v38);
			INT v40 = v39;
			branch_Nat_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // TagPattern
			uint64_t v41 = mtp_mirth_need_Need_TagPattern(in_Need_2);
			INT v42 = WRAP_I63(5LL);
			INT v43 = u64_to_int(v41);
			INT v44 = v43;
			INT v45 = v44;
			INT v46 = v42;
			INT v47 = int_mul(v45, v46);
			INT v48 = v47;
			INT v49 = WRAP_I63(3LL);
			INT v50 = v48;
			INT v51 = v49;
			INT v52 = int_add(v50, v51);
			INT v53 = v52;
			branch_Nat_6 = v53;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Label
			uint64_t v54 = mtp_mirth_need_Need_Label(in_Need_2);
			INT v55 = WRAP_I63(5LL);
			INT v56 = u64_to_int(v54);
			INT v57 = v56;
			INT v58 = v57;
			INT v59 = v55;
			INT v60 = int_mul(v58, v59);
			INT v61 = v60;
			INT v62 = WRAP_I63(4LL);
			INT v63 = v61;
			INT v64 = v62;
			INT v65 = int_add(v63, v64);
			INT v66 = v65;
			branch_Nat_6 = v66;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Nat_6;
}
static void mw_mirth_need_ZPlusNeeds_New (PTUP *out_ZPlusNeeds_1) {
	PTUP v2 = PTRMK(0LL /* Nil */,0,0);
	ARR* v3;
	mw_std_set_ZPlusSet_Empty(&v3);
	PTUP v4;
	mtw_mirth_need_ZPlusNeeds_ZPlusNeeds(v2, v3, &v4);
	*out_ZPlusNeeds_1 = v4;
}
static void mw_mirth_need_ZPlusNeeds_rdrop (PTUP in_ZPlusNeeds_1) {
	PTUP v2;
	ARR* v3;
	mtp_mirth_need_ZPlusNeeds_ZPlusNeeds(in_ZPlusNeeds_1, &v2, &v3);
	mw_std_set_ZPlusSet_rdrop(v3);
	decref(MKTUP(v2));
}
static bool mw_mirth_need_Need_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Need_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v7;
	INT v8 = mw_mirth_need_Need_ZToNat(in_ZPlusMirth_1, in_Need_3, &v7);
	ARR* r9 = value_arr(((TUP*)PTRPTR(in_ZPlusNeeds_2))->cells[1]);
	ARR* v10;
	bool v11 = mw_std_set_ZPlusSet_memberZAsk(v8, r9, &v10);
	((TUP*)PTRPTR(in_ZPlusNeeds_2))->cells[1] = MKARR(v10);
	*out_ZPlusNeeds_5 = in_ZPlusNeeds_2;
	*out_ZPlusMirth_4 = v7;
	return v11;
}
static bool mw_mirth_word_Word_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v7 = mtw_mirth_need_Need_Word(in_Word_3);
	PTUP v8;
	PTUP v9;
	bool v10 = mw_mirth_need_Need_neededZAsk(in_ZPlusMirth_1, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static bool mw_mirth_arrow_Block_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v7 = mtw_mirth_need_Need_Block(in_Block_3);
	PTUP v8;
	PTUP v9;
	bool v10 = mw_mirth_need_Need_neededZAsk(in_ZPlusMirth_1, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static bool mw_mirth_data_Tag_wordZ_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v7 = mtw_mirth_need_Need_TagWord(in_Tag_3);
	PTUP v8;
	PTUP v9;
	bool v10 = mw_mirth_need_Need_neededZAsk(in_ZPlusMirth_1, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static bool mw_mirth_data_Tag_patZ_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v7 = mtw_mirth_need_Need_TagPattern(in_Tag_3);
	PTUP v8;
	PTUP v9;
	bool v10 = mw_mirth_need_Need_neededZAsk(in_ZPlusMirth_1, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static bool mw_mirth_label_Label_neededZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v7 = mtw_mirth_need_Need_Label(in_Label_3);
	PTUP v8;
	PTUP v9;
	bool v10 = mw_mirth_need_Need_neededZAsk(in_ZPlusMirth_1, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static void mw_mirth_need_ZPlusNeeds_needZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Need_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	incref(MKTUP(in_Need_3));
	PTUP v6;
	PTUP v7;
	bool v8 = mw_mirth_need_Need_neededZAsk(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_Need_3, &v6, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusNeeds_10;
	if (v8) {
		decref(MKTUP(in_Need_3));
		branch_ZPlusNeeds_10 = v7;
		branch_ZPlusMirth_9 = v6;
	} else {
		incref(MKTUP(in_Need_3));
		PTUP v11;
		INT v12 = mw_mirth_need_Need_ZToNat(v6, in_Need_3, &v11);
		ARR* r13 = value_arr(((TUP*)PTRPTR(v7))->cells[1]);
		ARR* v14;
		mw_std_set_ZPlusSet_insertZBang(v12, r13, &v14);
		((TUP*)PTRPTR(v7))->cells[1] = MKARR(v14);
		PTUP v15 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
		incref(MKTUP(v15));
		PTUP v16 = mtw_std_list_List_1_Cons(MKTUP(in_Need_3), v15);
		PTUP v17 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
		decref(MKTUP(v17));
		((TUP*)PTRPTR(v7))->cells[0] = MKTUP(v16);
		branch_ZPlusNeeds_10 = v7;
		branch_ZPlusMirth_9 = v11;
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_need_ZPlusNeeds_needZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = mtw_mirth_need_Need_Word(in_Word_3);
	PTUP v7;
	PTUP v8;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_needZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = mtw_mirth_need_Need_Block(in_Block_3);
	PTUP v7;
	PTUP v8;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = mtw_mirth_need_Need_TagWord(in_Tag_3);
	PTUP v7;
	PTUP v8;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = mtw_mirth_need_Need_TagPattern(in_Tag_3);
	PTUP v7;
	PTUP v8;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_needZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = mtw_mirth_need_Need_Label(in_Label_3);
	PTUP v7;
	PTUP v8;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_Arrow_3, &v6, &v7);
	PTUP v8;
	PTUP v9;
	mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang(v6, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusNeeds_4) {
	bool v5 = true;
	PTUP r6 = in_ZPlusMirth_1;
	PTUP r7 = in_ZPlusNeeds_2;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP r10 = r6;
		PTUP r11 = r7;
		bool v12 = v8;
		PTUP v13 = VTUP(((TUP*)PTRPTR(r11))->cells[0]);
		incref(MKTUP(v13));
		PTUP v14;
		PTUP v15 = mw_std_list_List_1_uncons(v13, &v14);
		PTUP v16 = VTUP(((TUP*)PTRPTR(r11))->cells[0]);
		decref(MKTUP(v16));
		((TUP*)PTRPTR(r11))->cells[0] = MKTUP(v14);
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusNeeds_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Some
				VAL v20 = mtp_std_maybe_Maybe_1_Some(v15);
				PTUP v21;
				PTUP v22;
				mw_mirth_need_ZPlusNeeds_runZ_needZBang(r10, r11, VTUP(v20), &v21, &v22);
				bool v23 = true;
				branch_Bool_19 = v23;
				branch_ZPlusNeeds_18 = v22;
				branch_ZPlusMirth_17 = v21;
			} break;
			case 0LL: { // None
				bool v24 = false;
				branch_Bool_19 = v24;
				branch_ZPlusNeeds_18 = r11;
				branch_ZPlusMirth_17 = r10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_19;
		v8 = branch_Bool_19;
		r7 = branch_ZPlusNeeds_18;
		r6 = branch_ZPlusMirth_17;
	}
	*out_ZPlusNeeds_4 = r7;
	*out_ZPlusMirth_3 = r6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_needZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Need_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusNeeds_7;
	switch (PTREXTRA(in_Need_3)) {
		case 1LL: { // Block
			uint64_t v8 = mtp_mirth_need_Need_Block(in_Need_3);
			PTUP v9;
			PTUP v10;
			mw_mirth_need_ZPlusNeeds_runZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v8, &v9, &v10);
			branch_ZPlusNeeds_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // Word
			uint64_t v11 = mtp_mirth_need_Need_Word(in_Need_3);
			PTUP v12;
			PTUP v13;
			mw_mirth_need_ZPlusNeeds_runZ_wordZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v11, &v12, &v13);
			branch_ZPlusNeeds_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // TagWord
			uint64_t v14 = mtp_mirth_need_Need_TagWord(in_Need_3);
			branch_ZPlusNeeds_7 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // TagPattern
			uint64_t v15 = mtp_mirth_need_Need_TagPattern(in_Need_3);
			branch_ZPlusNeeds_7 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Label
			uint64_t v16 = mtp_mirth_need_Need_Label(in_Need_3);
			branch_ZPlusNeeds_7 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	bool v6 = true;
	PTUP r7 = in_ZPlusMirth_1;
	PTUP r8 = in_ZPlusNeeds_2;
	PTUP v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP r12 = r7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_ZPlusMirth_16;
		PTUP branch_ZPlusNeeds_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				PTUP v22;
				PTUP v23;
				mw_mirth_need_ZPlusNeeds_runZ_argZBang(r12, r13, value_u64(v21), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusNeeds_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				PTUP v25 = PTRMK(0LL /* Nil */,0,0);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusNeeds_17 = r13;
				branch_ZPlusMirth_16 = r12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusNeeds_17;
		r7 = branch_ZPlusMirth_16;
	}
	decref(MKTUP(v9));
	*out_ZPlusNeeds_5 = r8;
	*out_ZPlusMirth_4 = r7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_need_ZPlusNeeds_runZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_Arg_3, &v6, &v7);
	*out_ZPlusNeeds_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_3, &v6);
	PTUP v8;
	PTUP v9;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v6, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_word_Word_arrow(in_ZPlusMirth_1, in_Word_3, &v6);
	PTUP v8;
	PTUP v9;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v6, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Arrow_3))->cells[6]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Arrow_3));
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusNeeds_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusNeeds_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				PTUP v23;
				PTUP v24;
				mw_mirth_need_ZPlusNeeds_runZ_atomZBang(r13, r14, VTUP(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusNeeds_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusNeeds_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	incref(MKTUP(in_Atom_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Atom_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[3]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Atom_3));
	PTUP v8;
	PTUP v9;
	mw_mirth_need_ZPlusNeeds_runZ_opZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, PTUP in_Op_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusNeeds_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusNeeds_8;
	switch (PTREXTRA(in_Op_4)) {
		case 5LL: { // Push
			PTUP v9 = mtp_mirth_arrow_Op_Push(in_Op_4);
			decref(MKTUP(v9));
			decref(MKTUP(in_List_3));
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Word
			uint64_t v10 = mtp_mirth_arrow_Op_Word(in_Op_4);
			PTUP v11;
			bool v12 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, v10, &v11);
			PTUP branch_List_13;
			PTUP branch_ZPlusMirth_14;
			PTUP branch_ZPlusNeeds_15;
			if (v12) {
				PTUP v16;
				PTUP v17;
				mw_mirth_need_ZPlusNeeds_runZ_wordZBang(v11, in_ZPlusNeeds_2, v10, &v16, &v17);
				branch_ZPlusNeeds_15 = v17;
				branch_ZPlusMirth_14 = v16;
				branch_List_13 = in_List_3;
			} else {
				PTUP v18;
				PTUP v19;
				mw_mirth_need_ZPlusNeeds_needZ_wordZBang(v11, in_ZPlusNeeds_2, v10, &v18, &v19);
				branch_ZPlusNeeds_15 = v19;
				branch_ZPlusMirth_14 = v18;
				branch_List_13 = in_List_3;
			}
			PTUP v20;
			PTUP v21;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(branch_ZPlusMirth_14, branch_ZPlusNeeds_15, branch_List_13, &v20, &v21);
			branch_ZPlusNeeds_8 = v21;
			branch_ZPlusMirth_7 = v20;
		} break;
		case 2LL: { // External
			uint64_t v22 = mtp_mirth_arrow_Op_External(in_Op_4);
			PTUP v23;
			PTUP v24;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v23, &v24);
			branch_ZPlusNeeds_8 = v24;
			branch_ZPlusMirth_7 = v23;
		} break;
		case 3LL: { // Buffer
			uint64_t v25 = mtp_mirth_arrow_Op_Buffer(in_Op_4);
			PTUP v26;
			PTUP v27;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v26, &v27);
			branch_ZPlusNeeds_8 = v27;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 4LL: { // Field
			uint64_t v28 = mtp_mirth_arrow_Op_Field(in_Op_4);
			PTUP v29;
			PTUP v30;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v29, &v30);
			branch_ZPlusNeeds_8 = v30;
			branch_ZPlusMirth_7 = v29;
		} break;
		case 6LL: { // Tag
			uint64_t v31 = mtp_mirth_arrow_Op_Tag(in_Op_4);
			PTUP v32;
			PTUP v33;
			mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v31, &v32, &v33);
			PTUP v34;
			PTUP v35;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(v32, v33, in_List_3, &v34, &v35);
			branch_ZPlusNeeds_8 = v35;
			branch_ZPlusMirth_7 = v34;
		} break;
		case 0LL: { // Prim
			int64_t v36 = mtp_mirth_arrow_Op_Prim(in_Op_4);
			PTUP v37;
			PTUP v38;
			mw_mirth_need_ZPlusNeeds_runZ_primZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v36, &v37, &v38);
			branch_ZPlusNeeds_8 = v38;
			branch_ZPlusMirth_7 = v37;
		} break;
		case 7LL: { // Match
			PTUP v39 = mtp_mirth_arrow_Op_Match(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v40;
			PTUP v41;
			mw_mirth_need_ZPlusNeeds_runZ_matchZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, VTUP(MKTUP(v39)), &v40, &v41);
			branch_ZPlusNeeds_8 = v41;
			branch_ZPlusMirth_7 = v40;
		} break;
		case 8LL: { // Lambda
			PTUP v42 = mtp_mirth_arrow_Op_Lambda(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v43;
			PTUP v44;
			mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, VTUP(MKTUP(v42)), &v43, &v44);
			branch_ZPlusNeeds_8 = v44;
			branch_ZPlusMirth_7 = v43;
		} break;
		case 9LL: { // Var
			uint64_t v45 = mtp_mirth_arrow_Op_Var(in_Op_4);
			decref(MKU64(v45));
			decref(MKTUP(in_List_3));
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v46 = mtp_mirth_arrow_Op_BlockPush(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v47;
			PTUP v48;
			mw_mirth_need_ZPlusNeeds_pushZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, value_u64(MKU64(v46)), &v47, &v48);
			branch_ZPlusNeeds_8 = v48;
			branch_ZPlusMirth_7 = v47;
		} break;
		case 11LL: { // BlockRun
			uint64_t v49 = mtp_mirth_arrow_Op_BlockRun(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v50;
			PTUP v51;
			mw_mirth_need_ZPlusNeeds_runZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, value_u64(MKU64(v49)), &v50, &v51);
			branch_ZPlusNeeds_8 = v51;
			branch_ZPlusMirth_7 = v50;
		} break;
		case 12LL: { // LabelPush
			uint64_t v52 = mtp_mirth_arrow_Op_LabelPush(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v53;
			PTUP v54;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, value_u64(MKU64(v52)), &v53, &v54);
			branch_ZPlusNeeds_8 = v54;
			branch_ZPlusMirth_7 = v53;
		} break;
		case 13LL: { // LabelPop
			uint64_t v55 = mtp_mirth_arrow_Op_LabelPop(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v56;
			PTUP v57;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, value_u64(MKU64(v55)), &v56, &v57);
			branch_ZPlusNeeds_8 = v57;
			branch_ZPlusMirth_7 = v56;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v58 = mtp_mirth_arrow_Op_LabelPushR(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v59;
			PTUP v60;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, value_u64(MKU64(v58)), &v59, &v60);
			branch_ZPlusNeeds_8 = v60;
			branch_ZPlusMirth_7 = v59;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v61 = mtp_mirth_arrow_Op_LabelPopR(in_Op_4);
			decref(MKTUP(in_List_3));
			PTUP v62;
			PTUP v63;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, value_u64(MKU64(v61)), &v62, &v63);
			branch_ZPlusNeeds_8 = v63;
			branch_ZPlusMirth_7 = v62;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v64 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_4);
			decref(MKU64(v64));
			decref(MKTUP(in_List_3));
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v65 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_4);
			decref(MKU64(v65));
			decref(MKTUP(in_List_3));
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // DataGetLabel
			PTUP v66 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_4);
			decref(MKTUP(in_List_3));
			uint64_t v67 = value_u64(((TUP*)PTRPTR(VTUP(MKTUP(v66))))->cells[1]);
			decref(MKTUP(VTUP(MKTUP(v66))));
			PTUP v68;
			PTUP v69;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v67, &v68, &v69);
			branch_ZPlusNeeds_8 = v69;
			branch_ZPlusMirth_7 = v68;
		} break;
		case 19LL: { // DataSetLabel
			PTUP v70 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_4);
			decref(MKTUP(in_List_3));
			uint64_t v71 = value_u64(((TUP*)PTRPTR(VTUP(MKTUP(v70))))->cells[1]);
			decref(MKTUP(VTUP(MKTUP(v70))));
			PTUP v72;
			PTUP v73;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v71, &v72, &v73);
			branch_ZPlusNeeds_8 = v73;
			branch_ZPlusMirth_7 = v72;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v74 = mtp_mirth_arrow_Op_TableToIndex(in_Op_4);
			decref(MKU64(v74));
			decref(MKTUP(in_List_3));
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v75 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_4);
			decref(MKU64(v75));
			decref(MKTUP(in_List_3));
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_6 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_primZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, int64_t in_Prim_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusNeeds_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusNeeds_8;
	switch (in_Prim_4) {
		case 5LL: { // Dip
			incref(MKTUP(in_List_3));
			PTUP v9 = mw_std_list_List_1_singleZAsk(in_List_3);
			PTUP v10;
			PTUP v11;
			mw_std_maybe_Maybe_1_if_2_sp5(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v9, &v10, &v11);
			branch_ZPlusNeeds_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 6LL: { // RDip
			incref(MKTUP(in_List_3));
			PTUP v12 = mw_std_list_List_1_singleZAsk(in_List_3);
			PTUP v13;
			PTUP v14;
			mw_std_maybe_Maybe_1_if_2_sp5(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v12, &v13, &v14);
			branch_ZPlusNeeds_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 7LL: { // If
			incref(MKTUP(in_List_3));
			PTUP v15 = mw_std_list_List_1_pairZAsk(in_List_3);
			PTUP v16;
			PTUP v17;
			mw_std_maybe_Maybe_1_if_2_sp5(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v15, &v16, &v17);
			branch_ZPlusNeeds_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 8LL: { // While
			incref(MKTUP(in_List_3));
			PTUP v18 = mw_std_list_List_1_pairZAsk(in_List_3);
			PTUP v19;
			PTUP v20;
			mw_std_maybe_Maybe_1_if_2_sp5(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v18, &v19, &v20);
			branch_ZPlusNeeds_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		default: {
			PTUP v21;
			PTUP v22;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v21, &v22);
			branch_ZPlusNeeds_8 = v22;
			branch_ZPlusMirth_7 = v21;
		} break;
	}
	*out_ZPlusNeeds_6 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Match_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Match_3))->cells[6]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Match_3));
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusNeeds_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusNeeds_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				PTUP v23;
				PTUP v24;
				mw_mirth_need_ZPlusNeeds_runZ_caseZBang(r13, r14, VTUP(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusNeeds_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusNeeds_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_caseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	incref(MKTUP(in_Case_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Case_3));
	PTUP v7;
	PTUP v8;
	mw_mirth_need_ZPlusNeeds_runZ_patternZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[1]);
	incref(MKTUP(v9));
	decref(MKTUP(in_Case_3));
	PTUP v10;
	PTUP v11;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v7, v8, v9, &v10, &v11);
	*out_ZPlusNeeds_5 = v11;
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Lambda_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Lambda_3))->cells[4]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Lambda_3));
	PTUP v7;
	PTUP v8;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_patternZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_Pattern_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Pattern_3))->cells[8]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Pattern_3));
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusNeeds_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusNeeds_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				PTUP v23;
				PTUP v24;
				mw_mirth_need_ZPlusNeeds_runZ_patatomZBang(r13, r14, VTUP(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusNeeds_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusNeeds_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_patatomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_PatternAtom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_PatternAtom_3))->cells[6]);
	incref(MKTUP(v6));
	decref(MKTUP(in_PatternAtom_3));
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusNeeds_8;
	switch (PTREXTRA(v6)) {
		case 0LL: { // Underscore
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Tag
			uint64_t v9 = mtp_mirth_match_PatternOp_Tag(v6);
			PTUP v10;
			PTUP v11;
			mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v9, &v10, &v11);
			branch_ZPlusNeeds_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_argsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	bool v6 = true;
	PTUP r7 = in_ZPlusMirth_1;
	PTUP r8 = in_ZPlusNeeds_2;
	PTUP v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP r12 = r7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_ZPlusMirth_16;
		PTUP branch_ZPlusNeeds_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				PTUP v22;
				PTUP v23;
				mw_mirth_need_ZPlusNeeds_pushZ_argZBang(r12, r13, value_u64(v21), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusNeeds_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				PTUP v25 = PTRMK(0LL /* Nil */,0,0);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusNeeds_17 = r13;
				branch_ZPlusMirth_16 = r12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusNeeds_17;
		r7 = branch_ZPlusMirth_16;
	}
	decref(MKTUP(v9));
	*out_ZPlusNeeds_5 = r8;
	*out_ZPlusMirth_4 = r7;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_need_ZPlusNeeds_pushZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_Arg_3, &v6, &v7);
	*out_ZPlusNeeds_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusNeeds_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Block_toZ_runZ_var(in_ZPlusMirth_1, in_Block_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusNeeds_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(v10);
			decref(MKU64(in_Block_3));
			branch_ZPlusNeeds_9 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 0LL: { // None
			PTUP v11;
			PTUP v12;
			mw_mirth_need_ZPlusNeeds_needZ_blockZBang(v6, in_ZPlusNeeds_2, in_Block_3, &v11, &v12);
			branch_ZPlusNeeds_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_ZPlusC99_put (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	bool v6 = value_bool(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[3]);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusC99_8;
	if (v6) {
		PTUP r9 = VTUP(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[5]);
		PTUP v10;
		mw_std_output_ZPlusOutput_put(in_Str_3, r9, &v10);
		((TUP*)PTRPTR(in_ZPlusC99_2))->cells[5] = MKTUP(v10);
		branch_ZPlusC99_8 = in_ZPlusC99_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		decref(MKSTR(in_Str_3));
		branch_ZPlusC99_8 = in_ZPlusC99_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_ZPlusC99_putZ_byte (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, int64_t in_Byte_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	bool v6 = value_bool(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[3]);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusC99_8;
	if (v6) {
		PTUP r9 = VTUP(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[5]);
		PTUP v10;
		mw_std_output_ZPlusOutput_putZ_byte(in_Byte_3, r9, &v10);
		((TUP*)PTRPTR(in_ZPlusC99_2))->cells[5] = MKTUP(v10);
		branch_ZPlusC99_8 = in_ZPlusC99_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		branch_ZPlusC99_8 = in_ZPlusC99_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_ZPlusC99_line (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	bool v5 = value_bool(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[3]);
	PTUP branch_ZPlusC99_6;
	if (v5) {
		PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[5]);
		PTUP v8;
		mw_std_output_ZPlusOutput_line(r7, &v8);
		((TUP*)PTRPTR(in_ZPlusC99_2))->cells[5] = MKTUP(v8);
		branch_ZPlusC99_6 = in_ZPlusC99_2;
	} else {
		branch_ZPlusC99_6 = in_ZPlusC99_2;
	}
	*out_ZPlusC99_4 = branch_ZPlusC99_6;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_runZ_outputZ_c99ZBang (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP in_C99z_Options_3, PTUP *out_ZPlusMirth_4) {
	INT v7 = value_nat(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[0]);
	incref(MKNAT(v7));
	INT v8 = WRAP_I63(0LL);
	INT v9 = v7;
	INT v10 = v8;
	bool v11 = int_lt(v10, v9);
	PTUP branch_ZPlusMirth_12;
	if (v11) {
		STR* v13;
		STRLIT(v13, "There were errors, so codegen stopped.", 38);
		mw_std_prim_ZPlusWorld_trace(v13);
		mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(in_ZPlusMirth_1);
		decref(MKTUP(in_C99z_Options_3));
		decref(MKTUP(in_Arrow_2));
	} else {
		PTUP v14;
		PTUP v15;
		PTUP v16 = mw_mirth_c99_c99Z_startZBang(in_ZPlusMirth_1, in_Arrow_2, in_C99z_Options_3, &v14, &v15);
		PTUP v17;
		PTUP v18;
		mw_mirth_c99_c99Z_headerZBang(v14, v15, &v17, &v18);
		PTUP v19;
		PTUP v20;
		mw_mirth_c99_c99Z_labelZ_defsZBang(v17, v18, &v19, &v20);
		PTUP v21;
		PTUP v22;
		mw_mirth_c99_c99Z_fieldZ_defsZBang(v19, v20, &v21, &v22);
		PTUP v23;
		PTUP v24;
		mw_mirth_c99_c99Z_tagZ_defsZBang(v21, v22, &v23, &v24);
		PTUP v25;
		PTUP v26;
		mw_mirth_c99_c99Z_buffersZBang(v23, v24, &v25, &v26);
		PTUP v27;
		PTUP v28;
		mw_mirth_c99_c99Z_externalZ_blocksZBang(v25, v26, &v27, &v28);
		PTUP v29;
		PTUP v30;
		mw_mirth_c99_c99Z_wordZ_sigsZBang(v27, v28, &v29, &v30);
		PTUP v31;
		PTUP v32;
		mw_mirth_c99_c99Z_blockZ_sigsZBang(v29, v30, &v31, &v32);
		PTUP v33;
		PTUP v34;
		mw_mirth_c99_c99Z_mainZBang(v31, v32, v16, &v33, &v34);
		PTUP v35;
		PTUP v36;
		mw_mirth_c99_c99Z_wordZ_defsZBang(v33, v34, &v35, &v36);
		PTUP v37;
		PTUP v38;
		mw_mirth_c99_c99Z_blockZ_defsZBang(v35, v36, &v37, &v38);
		PTUP v39;
		mw_mirth_c99_c99Z_endZBang(v37, v38, &v39);
		branch_ZPlusMirth_12 = v39;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
}
static PTUP mw_mirth_c99_c99Z_startZBang (PTUP in_ZPlusMirth_1, PTUP in_Arrow_2, PTUP in_C99z_Options_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_6) {
	INT v9 = WRAP_I63(0LL);
	INT v10 = WRAP_I63(0LL);
	bool v11 = true;
	PTUP v12;
	mw_mirth_need_ZPlusNeeds_New(&v12);
	incref(MKTUP(in_Arrow_2));
	PTUP v13;
	PTUP v14;
	mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang(in_ZPlusMirth_1, v12, in_Arrow_2, &v13, &v14);
	incref(MKTUP(in_C99z_Options_3));
	STR* v15 = value_str(((TUP*)PTRPTR(in_C99z_Options_3))->cells[0]);
	incref(MKSTR(v15));
	decref(MKTUP(in_C99z_Options_3));
	PTUP v16;
	mw_std_prim_ZPlusWorld_createZ_fileZBang(v15, &v16);
	PTUP branch_ZPlusMirth_17;
	VAL branch_z_x1_18;
	switch (PTREXTRA(v16)) {
		case 1LL: { // +Ok
			VAL v19;
			mtp_std_result_ZPlusResult_2_ZPlusOk(v16, &v19);
			branch_z_x1_18 = v19;
			branch_ZPlusMirth_17 = v13;
		} break;
		case 0LL: { // +Err
			VAL v20 = mtp_std_result_ZPlusResult_2_ZPlusErr(v16);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(VTUP(v20), v13);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v23;
	mw_std_output_ZPlusOutput_startZBang(VTUP(branch_z_x1_18), &v23);
	PTUP v24;
	mtw_mirth_c99_ZPlusC99_ZPlusC99(in_C99z_Options_3, v9, v10, v11, v14, v23, &v24);
	*out_ZPlusC99_6 = v24;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_17;
	return in_Arrow_2;
}
static void mw_mirth_c99_c99Z_endZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3) {
	PTUP v6;
	INT v7;
	INT v8;
	bool v9;
	PTUP v10;
	PTUP v11;
	mtp_mirth_c99_ZPlusC99_ZPlusC99(in_ZPlusC99_2, &v6, &v7, &v8, &v9, &v10, &v11);
	PTUP v12;
	mw_std_output_ZPlusOutput_endZBang(v11, &v12);
	PTUP v13 = mw_std_file_ZPlusFile_closeZ_fileZBang(v12);
	PTUP branch_ZPlusMirth_14;
	switch (PTREXTRA(v13)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(v13);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(VTUP(v15), in_ZPlusMirth_1);
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_14 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKTUP(v6));
	decref(MKNAT(v7));
	decref(MKNAT(v8));
	mw_mirth_need_ZPlusNeeds_rdrop(v10);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
}
static void mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	INT v5 = WRAP_I63(0LL);
	INT v6 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2]);
	decref(MKNAT(v6));
	((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2] = MKNAT(v5);
	*out_ZPlusC99_4 = in_ZPlusC99_2;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static INT mw_mirth_c99_ZPlusC99_freshZ_natZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	INT v6 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2]);
	incref(MKNAT(v6));
	incref(MKNAT(v6));
	INT v7 = WRAP_I63(1LL);
	INT v8 = v6;
	INT v9 = v7;
	INT v10 = int_add(v8, v9);
	INT v11 = v10;
	INT v12 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2]);
	decref(MKNAT(v12));
	((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2] = MKNAT(v11);
	*out_ZPlusC99_4 = in_ZPlusC99_2;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static STR* mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v7;
	PTUP v8;
	INT v9 = mw_mirth_c99_ZPlusC99_freshZ_natZBang(in_ZPlusMirth_1, in_ZPlusC99_2, &v7, &v8);
	INT v10 = v9;
	STR* v11 = int_to_str(v10);
	STR* v12 = str_cat(in_Str_3, v11);
	*out_ZPlusC99_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return v12;
}
static STR* mw_mirth_c99_ZPlusC99_freshZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	STR* v6;
	STRLIT(v6, "v", 1);
	PTUP v7;
	PTUP v8;
	STR* v9 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	*out_ZPlusC99_4 = v8;
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static STR* mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	STR* v6;
	STRLIT(v6, "r", 1);
	PTUP v7;
	PTUP v8;
	STR* v9 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	*out_ZPlusC99_4 = v8;
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static STR* mw_mirth_data_Tag_wordZ_cname (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildewordZ_cname, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v11;
		PTUP v12 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, in_Tag_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mtw_", 4);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		PTUP v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v16;
	}
	decref(MKU64(branch_Tag_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_str(MKSTR(branch_Str_9));
}
static STR* mw_mirth_data_Tag_patZ_cname (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildepatZ_cname, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v11;
		PTUP v12 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, in_Tag_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mtp_", 4);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		PTUP v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v16;
	}
	decref(MKU64(branch_Tag_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_str(MKSTR(branch_Str_9));
}
static STR* mw_mirth_buffer_Buffer_cname (PTUP in_ZPlusMirth_1, uint64_t in_Buffer_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildecname, in_Buffer_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Buffer_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Buffer_8 = in_Buffer_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v11;
		PTUP v12 = mw_mirth_buffer_Buffer_qnameZ_hard(in_ZPlusMirth_1, in_Buffer_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mbuf_", 5);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		PTUP v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_Buffer_8 = in_Buffer_2;
		branch_ZPlusMirth_7 = v16;
	}
	decref(MKU64(branch_Buffer_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_str(MKSTR(branch_Str_9));
}
static STR* mw_mirth_table_Field_cname (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildecname, in_Field_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Field_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Field_8 = in_Field_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v11;
		PTUP v12 = mw_mirth_table_Field_qnameZ_hard(in_ZPlusMirth_1, in_Field_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mfld_", 5);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		PTUP v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_Field_8 = in_Field_2;
		branch_ZPlusMirth_7 = v16;
	}
	decref(MKU64(branch_Field_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_str(MKSTR(branch_Str_9));
}
static STR* mw_mirth_external_External_cname (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildecname, in_External_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_External_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_External_8 = in_External_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v11;
		PTUP v12 = mw_mirth_external_External_qnameZ_hard(in_ZPlusMirth_1, in_External_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mext_", 5);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		PTUP v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_External_8 = in_External_2;
		branch_ZPlusMirth_7 = v16;
	}
	decref(MKU64(branch_External_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_str(MKSTR(branch_Str_9));
}
static STR* mw_mirth_c99_c99Z_headerZ_str (void) {
	STR* v2;
	STRLIT(v2,
		"/* MIRTH HEADER */\n"
		"#line 3 \"src/mirth.h\"\n"
		"\n"
		"#if defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__)\n"
		"#define MIRTH_WINDOWS 1\n"
		"#elif defined(__linux__)\n"
		"#define MIRTH_LINUX 1\n"
		"#elif defined(__APPLE__)\n"
		"#define MIRTH_MACOS 1\n"
		"#else\n"
		"#error \"Platform not supported.\"\n"
		"#endif\n"
		"\n"
		"#if defined(__x86_64__) || defined(_M_X64)\n"
		"#define MIRTH_AMD64\n"
		"#elif defined(i386) || defined(__i386__) || defined(__i386) || defined(_M_IX86)\n"
		"#define MIRTH_I386\n"
		"#elif defined(__aarch64__) || defined(_M_ARM64)\n"
		"#define MIRTH_ARM64\n"
		"#else\n"
		"#error \"Architecture not supported.\"\n"
		"#endif\n"
		"\n"
		"#include <stdint.h>\n"
		"#include <stdbool.h>\n"
		"#include <stddef.h>\n"
		"#include <float.h>\n"
		"\n"
		"extern void* malloc(size_t);\n"
		"extern void* calloc(size_t, size_t);\n"
		"extern void* realloc(void*, size_t);\n"
		"extern void* memset(void*, int, size_t);\n"
		"extern void* memcpy(void*, const void*, size_t);\n"
		"extern void* memmove(void*, const void*, size_t);\n"
		"extern int memcmp(const void*, const void*, size_t);\n"
		"extern int strcmp(const char*, const char*);\n"
		"extern size_t strlen(const char*);\n"
		"extern void free(void*);\n"
		"extern int read(int, void*, size_t);\n"
		"extern int write(int, const char*, size_t);\n"
		"extern int close(int);\n"
		"extern int open(const char*, int, ...);\n"
		"extern void exit(int);\n"
		"extern int sprintf (char * s, const char * format, ...);\n"
		"extern float strtof(const char* str, char** endptr);\n"
		"extern double strtod(const char* str, char** endptr);\n"
		"\n"
		"typedef struct INT { int64_t val; } INT;\n"
		"typedef uint64_t TAG;\n"
		"typedef uint64_t PTUP;\n"
		"\n"
		"\n"
		"typedef uint32_t REFS;\n"
		"typedef uint64_t USIZE;\n"
		"typedef void (*FNPTR)(void);\n"
		"\n"
		"typedef union DATA {\n"
		"    USIZE usize;\n"
		"    uint64_t u64;\n"
		"    uint32_t u32;\n"
		"    uint16_t u16;\n"
		"    uint8_t u8;\n"
		"    int64_t i64;\n"
		"    int32_t i32;\n"
		"    int16_t i16;\n"
		"    int8_t i8;\n"
		"    float f32;\n"
		"    double f64;\n"
		"    void* ptr;\n"
		"    FNPTR fnptr;\n"
		"    REFS* refs;\n"
		"    INT iint;\n"
		"    struct STR* str;\n"
		"    PTUP tup;\n"
		"    struct ARR* arr;\n"
		"} DATA;\n"
		"\n"
		"typedef struct VAL {\n"
		"    DATA data;\n"
		"    TAG tag;\n"
		"} VAL;\n"
		"\n"
		"typedef union ARR_DATA {\n"
		"    VAL         vals   [1];\n"
		"    USIZE       usizes [2];\n"
		"    uint64_t    u64s   [2];\n"
		"    uint32_t    u32s   [4];\n"
		"    uint16_t    u16s   [8];\n"
		"    uint8_t     u8s    [16];\n"
		"    int64_t     i64s   [2];\n"
		"    int32_t     i32s   [4];\n"
		"    int16_t     i16s   [8];\n"
		"    int8_t      i8s    [16];\n"
		"    float       f32s   [4];\n"
		"    double      f64s   [2];\n"
		"    void*       ptrs   [2];\n"
		"    FNPTR       fnptrs [2];\n"
		"    INT         iints  [2];\n"
		"    struct STR* strs   [2];\n"
		"    PTUP        tups   [2];\n"
		"    struct ARR* arrs   [2];\n"
		"} ARR_DATA;\n"
		"\n"
		"typedef struct ARR ARR;\n"
		"\n"
		"typedef struct TYPE {\n"
		"    const char* name;\n"
		"    uint64_t flags;\n"
		"    USIZE stride;\n"
		"    void (*free)(VAL v);\n"
		"    void (*trace_)(VAL v, int fd);\n"
		"    void (*run)(VAL v);\n"
		"    VAL (*peek_)(ARR* a, USIZE i);\n"
		"    void (*poke_)(ARR* a, USIZE i, VAL v);\n"
		"    void (*poke_many_)(ARR* a, USIZE lo, USIZE hi, VAL v);\n"
		"} TYPE;\n"
		"\n"
		"#define REFS_FLAG 0x0001\n"
		"#define PTRMK(e,p,t) (((uint64_t)(e) << 48) | (uint64_t)(p) | (uint64_t)(t))\n"
		"#define PTRPTR(p) ((void*)(uintptr_t)((uint64_t)(p) & 0xFFFFFFFFFFFC))\n"
		"#define PTRTAG(p) ((uint64_t)(p) & 0x3)\n"
		"#define PTRISPTR(p) (PTRPTR(p) && (PTRTAG(p) == 0))\n"
		"#define PTREXTRA(p) ((uint64_t)(p) >> 48)\n"
		"\n"
		"static void default_free   (VAL v);\n"
		"static void default_trace_ (VAL v, int fd);\n"
		"static void default_run    (VAL v);\n"
		"\n"
		"#define MKTYPE_FLAT(mtype,mname,mpfx,mstride,...) \\\n"
		"    static void mpfx##_trace_ (VAL v, int fd); \\\n"
		"    static VAL  mpfx##_peek_  (ARR* a, USIZE i); \\\n"
		"    static void mpfx##_poke_  (ARR* a, USIZE i, VAL v); \\\n"
		"    static void mpfx##_poke_many_ (ARR* a, USIZE lo, USIZE hi, VAL v); \\\n"
		"    static TYPE mtype = { .name=mname, .trace_=mpfx##_trace_, .stride=mstride, .peek_=mpfx##_peek_, .poke_=mpfx##_poke_, .poke_many_=mpfx##_poke_many_, __VA_ARGS__ }\n"
		"\n"
		"#define MKTYPE_REFS(mtype,mname,mpfx,mstride,...) \\\n"
		"    static void mpfx##_free (VAL v); \\\n"
		"    MKTYPE_FLAT(mtype,mname,mpfx,mstride, .free=mpfx##_free, .flags=REFS_FLAG, __VA_ARGS__)\n"
		"\n"
		"MKTYPE_FLAT(TYPE_BOOL,\"Bool\",bool,0,);\n"
		"MKTYPE_REFS(TYPE_INT,\"Int\",int,8,);\n"
		"MKTYPE_REFS(TYPE_NAT,\"Nat\",nat,8,);\n"
		"MKTYPE_FLAT(TYPE_I64,\"I64\",i64,8,);\n"
		"MKTYPE_FLAT(TYPE_I32,\"I32\",i32,4,);\n"
		"MKTYPE_FLAT(TYPE_I16,\"I16\",i16,2,);\n"
		"MKTYPE_FLAT(TYPE_I8,\"I8\",i8,1,);\n"
		"MKTYPE_FLAT(TYPE_U64,\"U64\",u64,8,);\n"
		"MKTYPE_FLAT(TYPE_U32,\"U32\",u32,4,);\n"
		"MKTYPE_FLAT(TYPE_U16,\"U16\",u16,2,);\n"
		"MKTYPE_FLAT(TYPE_U8,\"U8\",u8,1,);\n"
		"MKTYPE_FLAT(TYPE_F64,\"F64\",f64,8,);\n"
		"MKTYPE_FLAT(TYPE_F32,\"F32\",f32,4,);\n"
		"MKTYPE_FLAT(TYPE_PTR,\"Ptr\",ptr,sizeof(void*),);\n"
		"static void fnptr_run (VAL v);\n"
		"MKTYPE_FLAT(TYPE_FNPTR,\"FnPtr\",fnptr,sizeof(FNPTR),.run=fnptr_run,);\n"
		"MKTYPE_REFS(TYPE_STR,\"Str\",str,sizeof(void*),);\n"
		"static void tup_run (VAL v);\n"
		"MKTYPE_REFS(TYPE_TUP,\"Tup\",tup,sizeof(void*),.run=tup_run,);\n"
		"MKTYPE_REFS(TYPE_ARR,\"Array\",arr,sizeof(void*),);\n"
		"\n"
		"#define TAG_BOOL  ((TAG)&TYPE_BOOL)\n"
		"#define TAG_I64   ((TAG)&TYPE_I64)\n"
		"#define TAG_I32   ((TAG)&TYPE_I32)\n"
		"#define TAG_I16   ((TAG)&TYPE_I16)\n"
		"#define TAG_I8    ((TAG)&TYPE_I8)\n"
		"#define TAG_U64   ((TAG)&TYPE_U64)\n"
		"#define TAG_U32   ((TAG)&TYPE_U32)\n"
		"#define TAG_U16   ((TAG)&TYPE_U16)\n"
		"#define TAG_U8    ((TAG)&TYPE_U8)\n"
		"#define TAG_F64   ((TAG)&TYPE_F64)\n"
		"#define TAG_F32   ((TAG)&TYPE_F32)\n"
		"#define TAG_PTR   ((TAG)&TYPE_PTR)\n"
		"#define TAG_FNPTR ((TAG)&TYPE_FNPTR)\n"
		"#define TAG_INT   (REFS_FLAG | (TAG)&TYPE_INT)\n"
		"#define TAG_NAT   (REFS_FLAG | (TAG)&TYPE_NAT)\n"
		"#define TAG_STR   (REFS_FLAG | (TAG)&TYPE_STR)\n"
		"#define TAG_TUP   (REFS_FLAG | (TAG)&TYPE_TUP)\n"
		"#define TAG_ARR   (REFS_FLAG | (TAG)&TYPE_ARR)\n"
		"\n"
		"#define VALEQ(v1,v2) (((v1).tag == (v2).tag) && ((v1).data.u64 == (v2).data.u64))\n"
		"\n"
		"#define VTYPE(v) ((const TYPE*)(PTRPTR((v).tag)))\n"
		"#define VREFS(v) (*(REFS*)PTRPTR((v).data.u64))\n"
		"#define HAS_REFS(v) (TAG_HAS_REFS((v).tag) && PTRISPTR((v).data.u64))\n"
		"#define TAG_HAS_REFS(t) (((t) & REFS_FLAG))\n"
		"\n"
		"#define VINT(v)   ((v).data.iint)\n"
		"#define VNAT(v)   ((v).data.iint)\n"
		"#define VI64(v)   ((v).data.i64)\n"
		"#define VI32(v)   ((v).data.i32)\n"
		"#define VI16(v)   ((v).data.i16)\n"
		"#define VI8(v)    ((v).data.i8)\n"
		"#define VU64(v)   ((v).data.u64)\n"
		"#define VU32(v)   ((v).data.u32)\n"
		"#define VU16(v)   ((v).data.u16)\n"
		"#define VU8(v)    ((v).data.u8)\n"
		"#define VBOOL(v)  ((_Bool)((v).data.u64))\n"
		"#define VF32(v)   ((v).data.f32)\n"
		"#define VF64(v)   ((v).data.f64)\n"
		"#define VPTR(v)   ((v).data.ptr)\n"
		"#define VFNPTR(v) ((v).data.fnptr)\n"
		"\n"
		"#define IS_VAL(v)   (1)\n"
		"#define IS_INT(v)   ((v).tag == TAG_INT)\n"
		"#define IS_NAT(v)   ((v).tag == TAG_NAT)\n"
		"#define IS_I64(v)   ((v).tag == TAG_I64)\n"
		"#define IS_I32(v)   ((v).tag == TAG_I32)\n"
		"#define IS_I16(v)   ((v).tag == TAG_I16)\n"
		"#define IS_I8(v)    ((v).tag == TAG_I8)\n"
		"#define IS_U64(v)   ((v).tag == TAG_U64)\n"
		"#define IS_U32(v)   ((v).tag == TAG_U32)\n"
		"#define IS_U16(v)   ((v).tag == TAG_U16)\n"
		"#define IS_U8(v)    ((v).tag == TAG_U8)\n"
		"#define IS_BOOL(v)  ((v).tag == TAG_BOOL)\n"
		"#define IS_F32(v)   ((v).tag == TAG_F32)\n"
		"#define IS_F64(v)   ((v).tag == TAG_F64)\n"
		"#define IS_PTR(v)   ((v).tag == TAG_PTR)\n"
		"#define IS_FNPTR(v) ((v).tag == TAG_FNPTR)\n"
		"#define IS_STR(v)   ((v).tag == TAG_STR)\n"
		"#define IS_ARR(v)   ((v).tag == TAG_ARR)\n"
		"#define IS_TUP(v)   ((v).tag == TAG_TUP)\n"
		"#define IS_NIL(v)   (IS_TUP(v) && (VTUPLEN(v) == 0))\n"
		"\n"
		"#define MKVAL(x)   (x)\n"
		"#define MKBOOL(x)  ((VAL){.tag=TAG_BOOL, .data={.u64=(x)}})\n"
		"#define MKI64(x)   ((VAL){.tag=TAG_I64, .data={.i64=(x)}})\n"
		"#define MKI32(x)   ((VAL){.tag=TAG_I32, .data={.i64=(x)}})\n"
		"#define MKI16(x)   ((VAL){.tag=TAG_I16, .data={.i64=(x)}})\n"
		"#define MKI8(x)    ((VAL){.tag=TAG_I8, .data={.i64=(x)}})\n"
		"#define MKU64(x)   ((VAL){.tag=TAG_U64, .data={.u64=(x)}})\n"
		"#define MKU32(x)   ((VAL){.tag=TAG_U32, .data={.u64=(x)}})\n"
		"#define MKU16(x)   ((VAL){.tag=TAG_U16, .data={.u64=(x)}})\n"
		"#define MKU8(x)    ((VAL){.tag=TAG_U8, .data={.u64=(x)}})\n"
		"#define MKF32(x)   ((VAL){.tag=TAG_F32, .data={.f32=(x)}})\n"
		"#define MKF64(x)   ((VAL){.tag=TAG_F64, .data={.f64=(x)}})\n"
		"#define MKPTR(x)   ((VAL){.tag=TAG_PTR, .data={.ptr=(x)}})\n"
		"#define MKFNPTR(x) ((VAL){.tag=TAG_FNPTR, .data={.fnptr=(x)}})\n"
		"\n"
		"#define VSTR(v)    (((v).data.str))\n"
		"#define MKSTR(x)   ((VAL){.tag=TAG_STR, .data={.str=(x)}})\n"
		"\n"
		"#define VTUP(v)    (((v).data.tup))\n"
		"#define VTUPLEN(v) (tup_len_(VTUP(v)))\n"
		"#define MKTUP(x)   ((VAL){.tag=TAG_TUP, .data={.tup=(x)}})\n"
		"#define MKNIL      ((VAL){.tag=TAG_TUP, .data={.tup=NULL}})\n"
		"\n"
		"#define VARR(v)   ((v).data.arr)\n"
		"#define MKARR(x)  ((VAL){.tag=TAG_ARR, .data={.arr=(x)}})\n"
		"\n"
		"#define INT63_MIN (-0x4000000000000000LL)\n"
		"#define INT63_MAX ( 0x3FFFFFFFFFFFFFFFLL)\n"
		"\n"
		"#define IS_I63(x) ((x).val & 1)\n"
		"#define WRAP_I63(x) ((INT){ .val = 1+2*(int64_t)(x) })\n"
		"#define GET_I63(x) ((((x).val)-1)/2)\n"
		"\n"
		"#define IS_BIG(x) (!IS_I63(x))\n"
		"#define WRAP_BIG(x) ((INT){ .val = (intptr_t)(x) })\n"
		"#define GET_BIG(x) ((struct BIG*)(intptr_t)((x).val))\n"
		"\n"
		"#define MKINT(x) ((VAL){.tag=TAG_INT, .data={.iint=(x)}})\n"
		"#define MKNAT(x) ((VAL){.tag=TAG_NAT, .data={.iint=(x)}})\n"
		"\n"
		"#define IS_INT_I63(x) (IS_INT(x) && IS_I63((x).data.iint))\n"
		"#define MKINT_I63(x) (MKINT(WRAP_I63(x)))\n"
		"#define VINT_I63(x) (GET_I63((x).data.iint))\n"
		"\n"
		"#define IS_INT_BIG(x) (IS_INT(x) && IS_BIG((x).data.iint))\n"
		"#define MKINT_BIG(x) (MKINT(WRAP_BIG(x)))\n"
		"#define VINT_BIG(x) (GET_BIG((x).data.iint))\n"
		"\n"
		"#define TUP_LEN_MAX 0x3FFF\n"
		"\n"
		"#define STRLIT(v,x,n) \\\n"
		"    do { \\\n"
		"        static STR* mval = 0; \\\n"
		"        if (!mval) mval = str_make(x,n); \\\n"
		"        incref(MKSTR(mval)); \\\n"
		"        v = mval; \\\n"
		"    } while(0)\n"
		"\n"
		"typedef uint16_t TUPLEN;\n"
		"typedef struct TUP {\n"
		"    REFS refs;\n"
		"    TUPLEN cap;\n"
		"    TUPLEN size;\n"
		"    VAL cells[];\n"
		"} TUP;\n"
		"\n"
		"typedef struct STR {\n"
		"    REFS refs;\n"
		"    USIZE cap;\n"
		"    USIZE size;\n"
		"    char data[];\n"
		"} STR;\n"
		"\n"
		"struct ARR {\n"
		"    REFS refs;\n"
		"    USIZE cap; // in number of elements\n"
		"    USIZE size; // in number of elements\n"
		"    USIZE stride; // in bytes, can be zero.\n"
		"    TAG tag; // never zero\n"
		"    ARR_DATA data;\n"
		"};\n"
		"\n"
		"#define ANY\n"
		"#define BIG_S(z) { REFS refs; USIZE cap; USIZE size; uint32_t radix[z]; }\n"
		"typedef struct BIG BIG_S(ANY) BIG;\n"
		"\n"
		"#define STACK_MAX 0x80000\n"
		"static USIZE stack_counter = STACK_MAX;\n"
		"static VAL stack [STACK_MAX] = {0};\n"
		"static USIZE rstack_counter = STACK_MAX;\n"
		"static VAL rstack [STACK_MAX] = {0};\n"
		"\n"
		"static int global_argc;\n"
		"static char** global_argv;\n"
		"\n"
		"static void push_value(VAL v);\n"
		"static void trace_stack(void);\n"
		"\n"
		"static void trace_rstack(void);\n"
		"\n"
		"#if MIRTH_DEBUG\n"
		"    typedef struct LOC {\n"
		"        const char* word;\n"
		"        const char* path;\n"
		"        USIZE line, col;\n"
		"        const char* atom;\n"
		"    } LOC;\n"
		"    static USIZE fstack_counter = 0;\n"
		"    static LOC fstack [STACK_MAX] = {\n"
		"        {\n"
		"            .word=\"<word>\",\n"
		"            .path=\"<path>\",\n"
		"            .line=0, .col=0,\n"
		"            .atom=\"<atom>\"\n"
		"        },\n"
		"    };\n"
		"\n"
		"    #define WORD_ENTER(_w,_p,_l,_c) \\\n"
		"        do { \\\n"
		"            fstack[fstack_counter].word = (_w); \\\n"
		"            fstack[fstack_counter].path = (_p); \\\n"
		"            fstack[fstack_counter].line = (_l); \\\n"
		"            fstack[fstack_counter].col = (_c); \\\n"
		"            fstack[fstack_counter].atom = \"\"; \\\n"
		"            fstack_counter++; \\\n"
		"        } while(0)\n"
		"\n"
		"    #define WORD_ATOM(_l,_c,_n) \\\n"
		"        do { \\\n"
		"            if (fstack_counter > 0) { \\\n"
		"                fstack[fstack_counter-1].line = (_l); \\\n"
		"                fstack[fstack_counter-1].col = (_c); \\\n"
		"                fstack[fstack_counter-1].atom = (_n); \\\n"
		"            } \\\n"
		"        } while(0)\n"
		"\n"
		"    #define WORD_EXIT \\\n"
		"        do { \\\n"
		"            if (fstack_counter == 0) { \\\n"
		"                TRACE(\"mismatched WORD_EXIT\\n\"); \\\n"
		"                exit(1); \\\n"
		"            } \\\n"
		"            fstack_counter--; \\\n"
		"        } while(0)\n"
		"#endif\n"
		"\n"
		"#define TRACE(x) write(2,x,strlen(x))\n"
		"#define _STR(x) #x\n"
		"#define STR(x) _STR(x)\n"
		"\n"
		"#define EXPECT(test,msg) \\\n"
		"    do { \\\n"
		"        if (!(test)) { \\\n"
		"            TRACE(msg \"\\n\"); \\\n"
		"            trace_stack(); \\\n"
		"            trace_rstack(); \\\n"
		"            exit(1); \\\n"
		"        } \\\n"
		"    } while(0)\n"
		"\n"
		"#define EXPECT1(test,msg,v1) \\\n"
		"    do { \\\n"
		"        if (!(test)) { \\\n"
		"            TRACE(msg \"\\n\"); \\\n"
		"            push_value(v1); \\\n"
		"            trace_stack(); \\\n"
		"            trace_rstack(); \\\n"
		"            exit(1); \\\n"
		"        } \\\n"
		"    } while(0)\n"
		"\n"
		"#define EXPECT2(test,msg,v1,v2) \\\n"
		"    do { \\\n"
		"        if (!(test)) { \\\n"
		"            TRACE(msg \"\\n\"); \\\n"
		"            push_value(v1); \\\n"
		"            push_value(v2); \\\n"
		"            trace_stack(); \\\n"
		"            trace_rstack(); \\\n"
		"            exit(1); \\\n"
		"        } \\\n"
		"    } while(0)\n"
		"\n"
		"#define ASSERT(test) \\\n"
		"    EXPECT(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\")\n"
		"#define ASSERT1(test,v) \\\n"
		"    EXPECT1(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\", v)\n"
		"#define ASSERT2(test,v1,v2) \\\n"
		"    EXPECT2(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\", v1, v2)\n"
		"\n"
		"#define incref(v) do { if (HAS_REFS(v)) VREFS(v)++; } while(0)\n"
		"#define decref(v) do { if (HAS_REFS(v)) if (!--VREFS(v)) free_value(v); } while(0)\n"
		"static void free_value(VAL v) {\n"
		"    ASSERT(VTYPE(v));\n"
		"    ASSERT1(VTYPE(v)->free,v);\n"
		"    ASSERT1(HAS_REFS(v),v);\n"
		"    ASSERT1(VREFS(v) == 0,v);\n"
		"    VTYPE(v)->free(v);\n"
		"}\n"
		"\n"
		"static void str_free (VAL v) {\n"
		"    STR* str = VSTR(v);\n"
		"    free(str);\n"
		"}\n"
		"\n"
		"static void tup_free (VAL v) {\n"
		"    PTUP ptup = VTUP(v);\n"
		"    if (PTRISPTR(ptup)) {\n"
		"        TUP* tup = PTRPTR(ptup);\n"
		"        for (TUPLEN i = 0; i < tup->size; i++) {\n"
		"            decref(tup->cells[i]);\n"
		"        }\n"
		"        free(tup);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void tup_decref_outer(PTUP ptup) {\n"
		"    if (PTRISPTR(ptup)) {\n"
		"        TUP* tup = PTRPTR(ptup);\n"
		"        if (tup->refs == 1) {\n"
		"            free(tup);\n"
		"        } else {\n"
		"            for (size_t i = 0; i < tup->size; i++) {\n"
		"                incref(tup->cells[i]);\n"
		"            }\n"
		"            if (!--tup->refs) tup_free(MKTUP(ptup));\n"
		"        }\n"
		"    }\n"
		"}\n"
		"\n"
		"static TUPLEN tup_len_ (PTUP ptup) {\n"
		"    if (PTRISPTR(ptup)) {\n"
		"        TUP* tup = PTRPTR(ptup);\n"
		"        return tup->size;\n"
		"    } else {\n"
		"        return 0;\n"
		"    }\n"
		"}\n"
		"\n"
		"static VAL val_peek_(ARR* arr, USIZE i);\n"
		"static void val_poke_(ARR* arr, USIZE i, VAL v);\n"
		"static void val_poke_many_(ARR* arr, USIZE lo, USIZE hi, VAL v);\n"
		"\n"
		"static void arr_free (VAL v) {\n"
		"    ARR* arr = VARR(v);\n"
		"    if (arr) {\n"
		"        if (TAG_HAS_REFS(arr->tag)) {\n"
		"            for (USIZE i = 0; i < arr->size; i++) {\n"
		"                VAL v = val_peek_(arr,i);\n"
		"                decref(v);\n"
		"            }\n"
		"        }\n"
		"        free(arr);\n"
		"    }\n"
		"}\n"
		"\n"
		"static uint64_t value_u64 (VAL v) { ASSERT1(IS_U64(v),v); return VU64(v); }\n"
		"static uint32_t value_u32 (VAL v) { ASSERT1(IS_U32(v),v); return VU32(v); }\n"
		"static uint16_t value_u16 (VAL v) { ASSERT1(IS_U16(v),v); return VU16(v); }\n"
		"static uint8_t  value_u8  (VAL v) { ASSERT1(IS_U8(v) ,v); return VU8(v) ; }\n"
		"\n"
		"static INT value_int (VAL v) { ASSERT1(IS_INT(v),v); return VINT(v); }\n"
		"static INT value_nat (VAL v) { ASSERT1(IS_NAT(v),v); return VNAT(v); }\n"
		"static int64_t value_i64 (VAL v) { ASSERT1(IS_I64(v),v); return VI64(v); }\n"
		"static int32_t value_i32 (VAL v) { ASSERT1(IS_I32(v),v); return VI32(v); }\n"
		"static int16_t value_i16 (VAL v) { ASSERT1(IS_I16(v),v); return VI16(v); }\n"
		"static int8_t  value_i8  (VAL v) { ASSERT1(IS_I8(v) ,v); return VI8(v) ; }\n"
		"static bool value_bool (VAL v) { ASSERT1(IS_BOOL(v),v); return VBOOL(v); }\n"
		"\n"
		"static double value_f64 (VAL v) { ASSERT1(IS_F64(v), v); return VF64(v); }\n"
		"static float value_f32 (VAL v) { ASSERT1(IS_F32(v), v); return VF32(v); }\n"
		"\n"
		"static void* value_ptr (VAL v) { ASSERT1(IS_PTR(v),v); return VPTR(v); }\n"
		"static FNPTR value_fnptr (VAL v) { ASSERT1(IS_FNPTR(v),v); return VFNPTR(v); }\n"
		"static STR* value_str (VAL v) { ASSERT1(IS_STR(v),v); return VSTR(v); }\n"
		"static ARR* value_arr (VAL v) { ASSERT1(IS_ARR(v),v); return VARR(v); }\n"
		"static PTUP value_tup (VAL v) { ASSERT1(IS_TUP(v),v); return VTUP(v); }\n"
		"\n"
		"static void push_value (VAL x) { ASSERT(stack_counter > 0); stack[--stack_counter] = x; }\n"
		"static void push_resource (VAL x) { ASSERT(rstack_counter > 0); rstack[--rstack_counter] = x; }\n"
		"static VAL pop_value (void) { ASSERT(stack_counter < STACK_MAX); return stack[stack_counter++]; }\n"
		"static VAL pop_resource (void) { ASSERT(rstack_counter < STACK_MAX); return rstack[rstack_counter++]; }\n"
		"\n"
		"// Create a plain TUP with at least min(cap_hint, TUP_LEN_MAX) capacity.\n"
		"static TUP* tup_new (TUPLEN cap_hint) {\n"
		"    if (cap_hint < 3) cap_hint = 3;\n"
		"    if (cap_hint > TUP_LEN_MAX) cap_hint = TUP_LEN_MAX;\n"
		"    TUP *new_tup = calloc(1, sizeof(TUP) + sizeof(VAL)*(USIZE)cap_hint);\n"
		"    ASSERT(new_tup);\n"
		"    new_tup->refs = 1;\n"
		"    new_tup->cap = cap_hint;\n"
		"    return new_tup;\n"
		"}\n"
		"\n"
		"static VAL tup_replace (VAL vtup, TUPLEN i, VAL v) {\n"
		"    ASSERT(IS_TUP(vtup));\n"
		"    TUPLEN n = VTUPLEN(vtup);\n"
		"    ASSERT(i < n);\n"
		"    PTUP ptup = VTUP(vtup);\n"
		"    ASSERT(PTRISPTR(ptup));\n"
		"    TUP* tup = PTRPTR(ptup);\n"
		"    if (tup->refs > 1) {\n"
		"        TUP* newtup = tup_new(n);\n"
		"        newtup->size = n;\n"
		"        memcpy(newtup->cells, tup->cells, n*sizeof(VAL));\n"
		"        for (TUPLEN j=0; j<n; j++) incref(newtup->cells[j]);\n"
		"        decref(vtup);\n"
		"        tup = newtup;\n"
		"        ptup = PTRMK(PTREXTRA(ptup),tup,0);\n"
		"        vtup = MKTUP(ptup);\n"
		"    }\n"
		"    VAL u = tup->cells[i];\n"
		"    tup->cells[i] = v;\n"
		"    decref(u);\n"
		"    return vtup;\n"
		"}\n"
		"\n"
		"typedef struct STACK {\n"
		"    size_t cap;\n"
		"    size_t len;\n"
		"    VAL* val;\n"
		"} STACK;\n"
		"\n"
		"static VAL lpop(STACK* stk) {\n"
		"    ASSERT(stk->len > 0);\n"
		"    return stk->val[--stk->len];\n"
		"}\n"
		"static void lpush(STACK* stk, VAL val) {\n"
		"    if (stk->len >= stk->cap) {\n"
		"        stk->cap = stk->cap * 2 + 4;\n"
		"        VAL* newval = realloc(stk->val, stk->cap * sizeof(VAL));\n"
		"        ASSERT(newval);\n"
		"        stk->val = newval;\n"
		"    }\n"
		"    stk->val[stk->len++] = val;\n"
		"}\n"
		"\n"
		"static STR* str_alloc (USIZE cap) {\n"
		"    ASSERT(cap <= SIZE_MAX - sizeof(STR) - 4);\n"
		"    STR* str = calloc(1, (size_t)(cap + sizeof(STR) + 4));\n"
		"    EXPECT(str, \"failed to allocate string\");\n"
		"    str->refs = 1;\n"
		"    str->cap = cap;\n"
		"    return str;\n"
		"}\n"
		"\n"
		"static STR* str_make (const char* data, USIZE size) {\n"
		"    ASSERT(data);\n"
		"    ASSERT(size <= SIZE_MAX - sizeof(STR) - 4);\n"
		"    STR* str = str_alloc(size);\n"
		"    str->size = size;\n"
		"    memcpy(str->data, data, (size_t)size);\n"
		"    return str;\n"
		"}\n"
		"#define mkstr(x,n) MKSTR(str_make((x), (n)))\n"
		"\n"
		"static STR* str_pushn (STR* s, const char* p, USIZE n2) {\n"
		"    if (n2 == 0) return s;\n"
		"    ASSERT(s && p);\n"
		"    ASSERT(n2 <= SIZE_MAX);\n"
		"    USIZE m = s->cap;\n"
		"    USIZE n1 = s->size;\n"
		"    ASSERT(n1 <= SIZE_MAX-n2);\n"
		"    ASSERT(4 <= SIZE_MAX-n1-n2);\n"
		"    if ((s->refs == 1) && (n1 + n2 + 4 <= m)) {\n"
		"        memcpy(s->data + n1, p, (size_t)n2);\n"
		"        s->size += n2;\n"
		"        ASSERT(s->size + 4 <= s->cap);\n"
		"        return s;\n"
		"    } else {\n"
		"        USIZE m2 = n1 + n2 + 4;\n"
		"        if ((s->refs == 1) && (m <= SIZE_MAX-m) && (m2 < m*2)) m2 = m*2;\n"
		"        STR* str = str_alloc(m2);\n"
		"        str->size = n1+n2;\n"
		"        memcpy(str->data, s->data, (size_t)n1);\n"
		"        memcpy(str->data+n1, p, (size_t)n2);\n"
		"        decref(MKSTR(s));\n"
		"        return str;\n"
		"    }\n"
		"}\n"
		"\n"
		"static STR* str_cat (STR* s1, STR* s2) {\n"
		"    EXPECT(s1 && s2, \"invalid strings in prim-str-cat\");\n"
		"    STR* out = str_pushn(s1, s2->data, s2->size);\n"
		"    decref(MKSTR(s2));\n"
		"    return out;\n"
		"}\n"
		"\n"
		"static USIZE get_data_tag(VAL v) {\n"
		"    if (IS_TUP(v)) {\n"
		"        return PTREXTRA(VTUP(v));\n"
		"    } else {\n"
		"        return VU64(v);\n"
		"    }\n"
		"}\n"
		"\n"
		"static int str_cmp(STR* s1, STR* s2) {\n"
		"    ASSERT(s1 && s2);\n"
		"    USIZE n1 = s1->size;\n"
		"    USIZE n2 = s2->size;\n"
		"    USIZE n = (n1 < n2 ? n1 : n2);\n"
		"    ASSERT(n < SIZE_MAX);\n"
		"    int r = memcmp(s1->data, s2->data, (size_t)n);\n"
		"    decref(MKSTR(s1));\n"
		"    decref(MKSTR(s2));\n"
		"    if (r) return r;\n"
		"    if (n1 < n2) return -1;\n"
		"    if (n1 > n2) return 1;\n"
		"    return 0;\n"
		"}\n"
		"\n"
		"static STR* str_drop (STR* in, size_t num_bytes) {\n"
		"    ASSERT(in);\n"
		"    if (num_bytes > in->size) {\n"
		"        num_bytes = in->size;\n"
		"    }\n"
		"    size_t remaining = in->size - num_bytes;\n"
		"    char* slice = in->data + num_bytes;\n"
		"\n"
		"    if (in->refs == 1) {\n"
		"        if (remaining > 0) memmove(in->data, slice, remaining);\n"
		"        memset(in->data + remaining, 0, in->cap - remaining);\n"
		"        in->size = remaining;\n"
		"        return in;\n"
		"    } else {\n"
		"        STR* out = str_make(slice, remaining);\n"
		"        decref(MKSTR(in));\n"
		"        return out;\n"
		"    }\n"
		"}\n"
		"\n"
		"static float str_to_f32 (STR* in, STR** out) {\n"
		"    ASSERT(in); ASSERT(out);\n"
		"    ASSERT(in->data[in->size] == 0);\n"
		"    char *endptr = NULL;\n"
		"    float val = strtof(in->data, &endptr);\n"
		"    ASSERT(endptr);\n"
		"    ASSERT(endptr >= in->data);\n"
		"    size_t consumed = endptr - in->data;\n"
		"    *out = str_drop(in, consumed);\n"
		"    return val;\n"
		"}\n"
		"\n"
		"static double str_to_f64 (STR* in, STR** out) {\n"
		"    ASSERT(in); ASSERT(out);\n"
		"    ASSERT(in->data[in->size] == 0);\n"
		"    char *endptr = NULL;\n"
		"    double val = strtod(in->data, &endptr);\n"
		"    ASSERT(endptr);\n"
		"    ASSERT(endptr >= in->data);\n"
		"    size_t consumed = endptr - in->data;\n"
		"    *out = str_drop(in, consumed);\n"
		"    return val;\n"
		"}\n"
		"\n"
		"static void tup_run(VAL v) {\n"
		"    ASSERT(VTUPLEN(v)>0);\n"
		"    PTUP p = VTUP(v);\n"
		"    ASSERT(PTRISPTR(p));\n"
		"    TUP* t = PTRPTR(p);\n"
		"    VAL h = t->cells[0];\n"
		"    ASSERT(IS_FNPTR(h));\n"
		"    push_value(v);\n"
		"    VFNPTR(h)();\n"
		"}\n"
		"\n"
		"static void fnptr_run(VAL v) {\n"
		"    VFNPTR(v)();\n"
		"}\n"
		"\n"
		"static void run_value(VAL v) {\n"
		"    ASSERT(VTYPE(v));\n"
		"    ASSERT1(VTYPE(v)->run, v);\n"
		"    VTYPE(v)->run(v);\n"
		"}\n"
		"\n"
		"static void int_free(VAL x) {\n"
		"    if (IS_INT_BIG(x)) {\n"
		"        free(VINT_BIG(x));\n"
		"    }\n"
		"}\n"
		"\n"
		"static void nat_free(VAL x) {\n"
		"    VAL v = MKINT(VNAT(x));\n"
		"    int_free(v);\n"
		"}\n"
		"\n"
		"\n"
		"BIG* big_alloc(size_t cap) {\n"
		"    ASSERT(cap >= 2);\n"
		"    BIG* out = calloc(1, sizeof(*out) + cap*sizeof(*out->radix) + 4);\n"
		"    EXPECT(out, \"Ran out of memory.\");\n"
		"    out->refs = 1;\n"
		"    out->cap = cap;\n"
		"    out->size = 0;\n"
		"    return out;\n"
		"}\n"
		"\n"
		"#define SIGN_BIT(x) ((x) & 0x80000000)\n"
		"#define NEXT_RADIX(x) (SIGN_BIT(x) ? (uint32_t)0xFFFFFFFF : (uint32_t)0)\n"
		"#define SIGN_RADIX(a) (NEXT_RADIX((a)->radix[(a)->size-1]))\n"
		"\n"
		"#define LO_RADIX(x) ((uint32_t)(x))\n"
		"#define HI_RADIX(x) ((uint32_t)(((uint64_t)(x)) >> 32))\n"
		"\n"
		"static void big_incref (BIG* a) { a->refs++; }\n"
		"static void big_decref (BIG* a) { if (!--a->refs) free(a); }\n"
		"\n"
		"// expand (or clone) to make room for n radixes, returns unique a\n"
		"static BIG* big_reserve (BIG* a, size_t n) {\n"
		"    ASSERT(a);\n"
		"    if ((a->refs == 1) && (a->cap >= n))\n"
		"        return a;\n"
		"    if (n < a->cap*2) n = a->cap*2;\n"
		"    if (a->refs == 1) {\n"
		"        BIG* b = realloc(a, sizeof(*b) + n*sizeof(*b->radix) + 4);\n"
		"        EXPECT(b, \"Ran out of memory.\");\n"
		"        b->cap = n;\n"
		"        return b;\n"
		"    } else {\n"
		"        BIG* b = big_alloc(n);\n"
		"        b->size = a->size;\n"
		"        memcpy(b->radix, a->radix, a->size*sizeof(a->radix[0]));\n"
		"        big_decref(a);\n"
		"        return b;\n"
		"    }\n"
		"}\n"
		"\n"
		"#define FITS_I63(x) ((INT63_MIN <= (int64_t)(x)) && ((int64_t)(x) <= INT63_MAX))\n"
		"\n"
		"static INT i64_to_int(int64_t x) {\n"
		"    if (FITS_I63(x)) {\n"
		"        return WRAP_I63(x);\n"
		"    } else {\n"
		"        BIG* big = big_alloc(3);\n"
		"        big->size = 2;\n"
		"        uint64_t y = (uint64_t)x;\n"
		"        big->radix[0] = LO_RADIX(y);\n"
		"        big->radix[1] = HI_RADIX(y);\n"
		"        return WRAP_BIG(big);\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT u64_to_int(uint64_t x) {\n"
		"    if (x <= (uint64_t)INT64_MAX) {\n"
		"        return i64_to_int((int64_t)x);\n"
		"    } else {\n"
		"        BIG* big = big_alloc(4);\n"
		"        big->size = 3;\n"
		"        big->radix[0] = LO_RADIX(x);\n"
		"        big->radix[1] = HI_RADIX(x);\n"
		"        big->radix[2] = 0;\n"
		"        return WRAP_BIG(big);\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT big_normalize (BIG* a) {\n"
		"    ASSERT(a); ASSERT(a->refs == 1); ASSERT(a->size >= 1);\n"
		"    while ((a->size > 2) && (NEXT_RADIX(a->radix[a->size-2]) == a->radix[a->size-1]))\n"
		"        a->size--;\n"
		"    if (a->size == 2) {\n"
		"        uint64_t u = (uint64_t)(a->radix[0]) | ((uint64_t)(a->radix[1]) << 32);\n"
		"        int64_t i = (int64_t)u;\n"
		"        if (FITS_I63(i)) {\n"
		"            free(a);\n"
		"            return WRAP_I63(i);\n"
		"        }\n"
		"    }\n"
		"    if (a->size == 1) {\n"
		"        int64_t i = a->radix[0];\n"
		"        free(a);\n"
		"        return WRAP_I63(i);\n"
		"    }\n"
		"    return WRAP_BIG(a);\n"
		"}\n"
		"\n"
		"static INT big_i63_add (BIG* a, int64_t b) {\n"
		"    ASSERT(a); ASSERT(a->size >= 2);\n"
		"    if (b == 0) return WRAP_BIG(a);\n"
		"    a = big_reserve(a, a->size+1);\n"
		"\n"
		"    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);\n"
		"\n"
		"    uint32_t b0 = LO_RADIX(b);\n"
		"    uint32_t b1 = HI_RADIX(b);\n"
		"    uint32_t bn = NEXT_RADIX(b1);\n"
		"\n"
		"    uint64_t r0 = (uint64_t)(a->radix[0]) + (uint64_t)(b0);\n"
		"    uint64_t r1 = (uint64_t)(a->radix[1]) + (uint64_t)(b1) + (uint64_t)HI_RADIX(r0);\n"
		"\n"
		"    a->radix[0] = LO_RADIX(r0);\n"
		"    a->radix[1] = LO_RADIX(r1);\n"
		"    uint32_t c = HI_RADIX(r1);\n"
		"    for (size_t i = 2; i < a->size; i++) {\n"
		"        uint64_t r = (uint64_t)(a->radix[i]) + (uint64_t)bn + (uint64_t)c;\n"
		"        a->radix[i] = LO_RADIX(r);\n"
		"        c = HI_RADIX(r);\n"
		"    }\n"
		"    a->radix[a->size++] = an + bn + c;\n"
		"    return big_normalize(a);\n"
		"}\n"
		"\n"
		"static INT big_big_add (BIG* a, BIG* b) {\n"
		"    ASSERT(a); ASSERT(b);\n"
		"    if (b->size > a->size) { BIG*t=a; a=b; b=t; }\n"
		"    a = big_reserve(a, a->size+1);\n"
		"    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);\n"
		"    uint32_t bn = NEXT_RADIX(b->radix[b->size-1]);\n"
		"    uint32_t c = 0;\n"
		"    size_t i=0;\n"
		"    for (; i < b->size; i++) {\n"
		"        uint64_t r = (uint64_t)a->radix[i] + (uint64_t)b->radix[i] + (uint64_t)c;\n"
		"        a->radix[i] = LO_RADIX(r);\n"
		"        c = HI_RADIX(r);\n"
		"    }\n"
		"    for (; i < a->size; i++) {\n"
		"        uint64_t r = (uint64_t)a->radix[i] + (uint64_t)bn + (uint64_t)c;\n"
		"        a->radix[i] = LO_RADIX(r);\n"
		"        c = HI_RADIX(r);\n"
		"    }\n"
		"    a->radix[a->size++] = an + bn + c;\n"
		"    big_decref(b);\n"
		"    return big_normalize(a);\n"
		"}\n"
		"\n"
		"static INT int_add(INT a, INT b) {\n"
		"    if (IS_I63(a)) {\n"
		"        if (IS_I63(b)) {\n"
		"            return i64_to_int(GET_I63(a) + GET_I63(b));\n"
		"        } else {\n"
		"            return big_i63_add(GET_BIG(b), GET_I63(a));\n"
		"        }\n"
		"    } else {\n"
		"        if (IS_I63(b)) {\n"
		"            return big_i63_add(GET_BIG(a), GET_I63(b));\n"
		"        } else {\n"
		"            return big_big_add(GET_BIG(a), GET_BIG(b));\n"
		"        }\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT big_negate(BIG* a) {\n"
		"    ASSERT(a);\n"
		"    a = big_reserve(a, a->size+1);\n"
		"    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);\n"
		"    uint32_t c = 1;\n"
		"    for (size_t i=0; i < a->size; i++) {\n"
		"        uint64_t r = (uint64_t)(~(uint32_t)(a->radix[i])) + (uint64_t)c;\n"
		"        a->radix[i] = LO_RADIX(r);\n"
		"        c = HI_RADIX(r);\n"
		"    }\n"
		"    a->radix[a->size++] = ~an + c;\n"
		"    return big_normalize(a);\n"
		"}\n"
		"\n"
		"static INT int_negate(INT a) {\n"
		"    if (IS_I63(a)) {\n"
		"        return i64_to_int(-GET_I63(a));\n"
		"    } else {\n"
		"        return big_negate(GET_BIG(a));\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT int_sub(INT a, INT b) {\n"
		"    if (IS_I63(a) && IS_I63(b)) {\n"
		"        return i64_to_int(GET_I63(a) - GET_I63(b));\n"
		"    } else {\n"
		"        return int_add(a, int_negate(b));\n"
		"    }\n"
		"}\n"
		"\n"
		"static uint64_t int_to_u64(INT a) {\n"
		"    if (IS_I63(a)) {\n"
		"        return (uint64_t)GET_I63(a);\n"
		"    } else {\n"
		"        BIG* b = GET_BIG(a);\n"
		"        ASSERT(b && b->size >= 2);\n"
		"        uint64_t r = (uint64_t)(b->radix[0]) | ((uint64_t)(b->radix[1]) << 32);\n"
		"        big_decref(b);\n"
		"        return r;\n"
		"    }\n"
		"}\n"
		"static int64_t int_to_i64(INT a) { return (int64_t)int_to_u64(a); }\n"
		"\n"
		"static INT i63_i63_mul (int64_t a, int64_t b) {\n"
		"    if ((b == 0) ||\n"
		"        ((b > 0) && (INT63_MIN/b <= a) && (a <= INT63_MAX/b)) ||\n"
		"        ((b < 0) && (INT63_MAX/b <= a) && (a <= INT63_MIN/b)))\n"
		"    {\n"
		"        return WRAP_I63(a * b);\n"
		"    }\n"
		"\n"
		"    bool negate = (a < 0) ^ (b < 0);\n"
		"    if (a < 0) a = -a;\n"
		"    if (b < 0) b = -b;\n"
		"\n"
		"    uint64_t a0 = LO_RADIX(a);\n"
		"    uint64_t a1 = HI_RADIX(a);\n"
		"    uint64_t b0 = LO_RADIX(b);\n"
		"    uint64_t b1 = HI_RADIX(b);\n"
		"\n"
		"    uint64_t r0 = a0 * b0;\n"
		"    uint64_t r1 = a1 * b0 + a0 * b1 + HI_RADIX(r0);\n"
		"    uint64_t r2 = a1 * b1 + HI_RADIX(r1);\n"
		"    uint64_t r3 = HI_RADIX(r2);\n"
		"\n"
		"    BIG* c = big_alloc(5);\n"
		"    c->size = 4;\n"
		"    c->radix[0] = LO_RADIX(r0);\n"
		"    c->radix[1] = LO_RADIX(r1);\n"
		"    c->radix[2] = LO_RADIX(r2);\n"
		"    c->radix[3] = LO_RADIX(r3);\n"
		"    INT x = big_normalize(c);\n"
		"    return negate ? int_negate(x) : x;\n"
		"}\n"
		"\n"
		"static void big_u32_mul_shift_accum_(BIG* accum, BIG* a, uint32_t x, size_t shift) {\n"
		"    if (x == 0) return;\n"
		"    uint32_t mul_carry = 0;\n"
		"    uint32_t add_carry = 0;\n"
		"    uint32_t an = SIGN_RADIX(a);\n"
		"    for (size_t i=0; i + shift < accum->size; i++) {\n"
		"        uint32_t ar = (i < a->size) ? a->radix[i] : an;\n"
		"        uint64_t mul_result = (uint64_t)ar * (uint64_t)x + (uint64_t)mul_carry;\n"
		"        uint64_t add_result = (uint64_t)accum->radix[i+shift] + (uint64_t)LO_RADIX(mul_result) + (uint64_t)add_carry;\n"
		"        accum->radix[i+shift] = LO_RADIX(add_result);\n"
		"        mul_carry = HI_RADIX(mul_result);\n"
		"        add_carry = HI_RADIX(add_result);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void big_negate_shift_accum_(BIG* accum, BIG* a, size_t shift) {\n"
		"    uint32_t carry = 1;\n"
		"    uint32_t an = SIGN_RADIX(a);\n"
		"    for (size_t i = 0; i+shift < accum->size; i++) {\n"
		"        uint32_t ar = (i < a->size) ? a->radix[i] : an;\n"
		"        uint64_t result = (uint64_t)accum->radix[i+shift] + (uint64_t)(~ar) + (uint64_t)carry;\n"
		"        accum->radix[i+shift] = LO_RADIX(result);\n"
		"        carry = HI_RADIX(result);\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT big_i63_mul (BIG* a, int64_t b) {\n"
		"    if (b == 0) { big_decref(a); return WRAP_I63(0); }\n"
		"    if (b == 1) { return WRAP_BIG(a); }\n"
		"    if (b == -1) { return big_negate(a); }\n"
		"    BIG* accum = big_alloc(a->size + 3);\n"
		"    accum->size = a->size + 2;\n"
		"    big_u32_mul_shift_accum_(accum, a, LO_RADIX(b), 0);\n"
		"    big_u32_mul_shift_accum_(accum, a, HI_RADIX(b), 1);\n"
		"    uint32_t bn = NEXT_RADIX(HI_RADIX(b));\n"
		"    if (b < 0) { big_negate_shift_accum_(accum, a, 2); }\n"
		"    big_decref(a);\n"
		"    return big_normalize(accum);\n"
		"}\n"
		"\n"
		"static INT big_big_mul (BIG* a, BIG* b) {\n"
		"\n"
		"    if (a->size > b->size) { BIG*t=a; a=b; b=t; }\n"
		"    BIG* accum = big_alloc(a->size + b->size + 1);\n"
		"    accum->size = a->size + b->size;\n"
		"    for (size_t i = 0; i < b->size; i++) {\n"
		"        big_u32_mul_shift_accum_(accum, a, b->radix[i], i);\n"
		"    }\n"
		"    if (SIGN_RADIX(b)) {\n"
		"        big_negate_shift_accum_(accum, a, b->size);\n"
		"    }\n"
		"    big_decref(a);\n"
		"    big_decref(b);\n"
		"    return big_normalize(accum);\n"
		"}\n"
		"\n"
		"static INT int_mul(INT a, INT b) {\n"
		"    if (IS_I63(a)) {\n"
		"        if (IS_I63(b)) {\n"
		"            return i63_i63_mul(GET_I63(a),GET_I63(b));\n"
		"        } else {\n"
		"            return big_i63_mul(GET_BIG(b),GET_I63(a));\n"
		"        }\n"
		"    } else {\n"
		"        if (IS_I63(b)) {\n"
		"            return big_i63_mul(GET_BIG(a),GET_I63(b));\n"
		"        } else {\n"
		"            return big_big_mul(GET_BIG(a),GET_BIG(b));\n"
		"        }\n"
		"    }\n"
		"}\n"
		"\n"
		"static void int_incref(INT a) { if (IS_BIG(a)) big_incref(GET_BIG(a)); }\n"
		"static void int_decref(INT a) { if (IS_BIG(a)) big_decref(GET_BIG(a)); }\n"
		"static bool int_is_zero_(INT a) { return a.val == WRAP_I63(0).val; }\n"
		"static bool int_is_negative_(INT a) {\n"
		"    return IS_I63(a) ? (GET_I63(a) < 0) : (SIGN_RADIX(GET_BIG(a)) != 0);\n"
		"}\n"
		"\n"
		"static int64_t i64_div(int64_t, int64_t);\n"
		"static int64_t i64_mod(int64_t, int64_t);\n"
		"\n"
		"static void big_u32_shift_udivmod(BIG* a, uint32_t bhead, size_t bshift, INT* q, INT* r) {\n"
		"    ASSERT(bhead >= 1); ASSERT(a && (a->size > bshift));\n"
		"    BIG* accum = big_alloc(a->size - bshift + 2); // quatient in accum\n"
		"    accum->size = a->size - bshift;\n"
		"    a = big_reserve(a, a->size); // remainder in a\n"
		"    uint64_t ar = 0;\n"
		"    for (size_t i = a->size - bshift; i --> 0;) {\n"
		"        ar = (ar << 32) | (uint64_t)a->radix[i + bshift];\n"
		"        a->radix[i+bshift] = 0;\n"
		"        uint64_t rq = ar / (uint64_t)bhead;\n"
		"        ar = ar % (uint64_t)bhead;\n"
		"        accum->radix[i] = rq;\n"
		"    }\n"
		"    a->radix[bshift] = ar;\n"
		"    *r = big_normalize(a);\n"
		"    *q = big_normalize(accum);\n"
		"}\n"
		"\n"
		"static void big_u64_add_at_accum_(BIG* accum, uint64_t b, size_t shift) {\n"
		"    for(size_t i = shift; b && (i < accum->size); i++) {\n"
		"        uint32_t ar = accum->radix[i];\n"
		"        uint32_t br = LO_RADIX(b);\n"
		"        accum->radix[i] = ar + br;\n"
		"        b = HI_RADIX(b);\n"
		"        if (ar > UINT32_MAX - br)\n"
		"            b++;\n"
		"    }\n"
		"}\n"
		"\n"
		"static void big_succ_at_accum_(BIG* a, size_t i) {\n"
		"    while (i < a->size) {\n"
		"        if (++a->radix[i]) break;\n"
		"        i++;\n"
		"    }\n"
		"}\n"
		"\n"
		"static void big_pred_at_accum_(BIG* a, size_t i) {\n"
		"    while (i < a->size) {\n"
		"        if (a->radix[i]--) break;\n"
		"        i++;\n"
		"    }\n"
		"}\n"
		"\n"
		"static void big_pos_u32_mul_sub_shift_accum_(BIG* a, INT b, uint32_t scale, size_t shift) {\n"
		"    size_t bsize;\n"
		"    uint32_t *bradix;\n"
		"    uint32_t bradix_temp[2] = {0};\n"
		"    if (IS_I63(b)) {\n"
		"        int64_t ib = GET_I63(b);\n"
		"        ASSERT(ib >= 0);\n"
		"        bsize = 2;\n"
		"        bradix = bradix_temp;\n"
		"        bradix_temp[0] = LO_RADIX(ib);\n"
		"        bradix_temp[1] = HI_RADIX(ib);\n"
		"    } else {\n"
		"        BIG* bb = GET_BIG(b);\n"
		"        bsize = bb->size;\n"
		"        bradix = bb->radix;\n"
		"    }\n"
		"\n"
		"    uint64_t borrow = 0;\n"
		"    size_t i = 0;\n"
		"    for (; i < bsize; i++) {\n"
		"        ASSERT(i+shift < a->size);\n"
		"        uint64_t br = (uint64_t)scale * (uint64_t)bradix[i];\n"
		"        ASSERT(borrow <= UINT64_MAX - br);\n"
		"        br += borrow;\n"
		"        uint64_t ahi = (i+shift+1 < a->size) ? a->radix[i+shift+1] : 0;\n"
		"        uint64_t alo = a->radix[i+shift];\n"
		"        uint64_t ar = (ahi << 32) | alo;\n"
		"        borrow = (ar < br) ? (uint64_t)0x100000000 : (uint64_t)0;\n"
		"        ar -= br;\n"
		"        a->radix[i+shift] = LO_RADIX(ar);\n"
		"        if (i+shift+1 < a->size) {\n"
		"            a->radix[i+shift+1] = HI_RADIX(ar);\n"
		"        }\n"
		"    }\n"
		"    if (borrow) {\n"
		"        big_pred_at_accum_(a, i+shift+1);\n"
		"    }\n"
		"}\n"
		"\n"
		"static uint32_t big_get_u32_ (BIG* a, size_t i) {\n"
		"    if (i >= a->size) {\n"
		"        return SIGN_RADIX(a);\n"
		"    } else {\n"
		"        return a->radix[i];\n"
		"    }\n"
		"}\n"
		"static uint64_t big_get_u64_ (BIG* a, size_t i) {\n"
		"    uint64_t hi = (uint64_t)big_get_u32_(a,i+1);\n"
		"    uint64_t lo = (uint64_t)big_get_u32_(a,i);\n"
		"    return (hi << 32) | lo;\n"
		"}\n"
		"\n"
		"static int big_pos_ucmp_(BIG* a, INT b) {\n"
		"    size_t bsize;\n"
		"    uint32_t *bradix;\n"
		"    uint32_t bradix_temp[2] = {0};\n"
		"    if (IS_I63(b)) {\n"
		"        int64_t ib = GET_I63(b);\n"
		"        ASSERT(ib >= 0);\n"
		"        bsize = 2;\n"
		"        bradix = bradix_temp;\n"
		"        bradix_temp[0] = LO_RADIX(ib);\n"
		"        bradix_temp[1] = HI_RADIX(ib);\n"
		"    } else {\n"
		"        BIG* bb = GET_BIG(b);\n"
		"        bsize = bb->size;\n"
		"        bradix = bb->radix;\n"
		"    }\n"
		"    for(size_t i = a->size; i --> bsize;) {\n"
		"        if (a->radix[i]) return -1;\n"
		"    }\n"
		"    for(size_t i = bsize; i --> a->size;) {\n"
		"        if (bradix[i]) return 1;\n"
		"    }\n"
		"    for (size_t i = ((bsize < a->size) ? bsize : a->size); i --> 0;) {\n"
		"        uint32_t ar = a->radix[i];\n"
		"        uint32_t br = bradix[i];\n"
		"        if (ar != br) {\n"
		"            return (ar > br) - (ar < br);\n"
		"        }\n"
		"    }\n"
		"    return 0;\n"
		"}\n"
		"\n"
		"static void big_pos_imperfect_udivmod(BIG* a, INT b, uint32_t bhead, size_t bshift, INT* q, INT* r) {\n"
		"    ASSERT(bhead >= 1);\n"
		"    ASSERT(a && (a->size > bshift));\n"
		"    BIG* accum = big_alloc(a->size - bshift + 2); // quotient in accum\n"
		"    accum->size = a->size - bshift;\n"
		"    a = big_reserve(a, a->size); // remainder in a;\n"
		"    for (size_t i = a->size - bshift; i --> 0;) {\n"
		"        while (1) {\n"
		"            uint64_t ar = big_get_u64_(a, i+bshift);\n"
		"            uint64_t n = ar / (1 + (uint64_t)bhead);\n"
		"            if (!n) break;\n"
		"            big_u64_add_at_accum_(accum,n,i);\n"
		"            big_pos_u32_mul_sub_shift_accum_(a,b,n,i);\n"
		"        }\n"
		"    }\n"
		"    if (big_pos_ucmp_(a,b) >= 0) {\n"
		"        big_pos_u32_mul_sub_shift_accum_(a,b,1,0);\n"
		"        big_succ_at_accum_(accum,0);\n"
		"        ASSERT(big_pos_ucmp_(a,b) < 0);\n"
		"    }\n"
		"    int_decref(b);\n"
		"    *r = big_normalize(a);\n"
		"    *q = big_normalize(accum);\n"
		"}\n"
		"\n"
		"static void big_pos_udivmod(BIG* a, INT b, INT *q, INT *r) {\n"
		"    size_t bshift;\n"
		"    uint32_t bhead;\n"
		"    bool bperfect = true;\n"
		"    if (IS_BIG(b)) {\n"
		"        BIG* bb = GET_BIG(b);\n"
		"        bshift = bb->size-1;\n"
		"        bhead = bb->radix[bshift];\n"
		"        if (bhead == 0) {\n"
		"            ASSERT(bshift > 0);\n"
		"            bshift--;\n"
		"            bhead = bb->radix[bshift];\n"
		"        }\n"
		"        for (size_t i = 0; i < bshift; i++) {\n"
		"            if (bb->radix[i]) { bperfect=false; break; }\n"
		"        }\n"
		"    } else {\n"
		"        int64_t ib = GET_I63(b);\n"
		"        ASSERT(ib > 1);\n"
		"        uint64_t ub = (uint64_t)ib;\n"
		"        if (ub <= (uint64_t)UINT32_MAX) {\n"
		"            bshift = 0;\n"
		"            bhead = ub;\n"
		"            bperfect = true;\n"
		"        } else {\n"
		"            bshift = 1;\n"
		"            bhead = HI_RADIX(ub);\n"
		"            bperfect = LO_RADIX(ub) == 0;\n"
		"        }\n"
		"    }\n"
		"    if (bshift >= a->size) {\n"
		"        *q = WRAP_I63(0);\n"
		"        *r = WRAP_BIG(a);\n"
		"        int_decref(b);\n"
		"    } else if (bperfect) {\n"
		"        int_decref(b);\n"
		"        big_u32_shift_udivmod(a, bhead, bshift, q, r);\n"
		"    } else {\n"
		"        big_pos_imperfect_udivmod(a, b, bhead, bshift, q, r);\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT int_divmod(INT a, INT b, INT *r) {\n"
		"    EXPECT(!int_is_zero_(b), \"Division by zero.\");\n"
		"    if (int_is_zero_(a)) { int_decref(b); *r = a; return a; }\n"
		"    if (GET_I63(b) == 1) { *r = WRAP_I63(0); return a; }\n"
		"    if (GET_I63(b) == -1) { *r = WRAP_I63(0); return int_negate(a); }\n"
		"    if (IS_I63(a) || (GET_BIG(a)->size == 2)) {\n"
		"        if (IS_I63(b) || GET_BIG(b)->size == 2) {\n"
		"            int64_t ia = int_to_i64(a);\n"
		"            int64_t ib = int_to_i64(b);\n"
		"            ASSERT((ib != 0) && (ib != -1));\n"
		"            int64_t iq = ia / ib;\n"
		"            int64_t ir = ia % ib;\n"
		"            if (ir && ((ia < 0) ^ (ib < 0))) {\n"
		"                iq -= 1;\n"
		"                ir += ib;\n"
		"            }\n"
		"            *r = i64_to_int(ir);\n"
		"            return i64_to_int(iq);\n"
		"        } else {\n"
		"            BIG* bb = GET_BIG(b);\n"
		"            bool an = int_is_negative_(a);\n"
		"            bool bn = SIGN_RADIX(bb) != 0;\n"
		"            if (an ^ bn) {\n"
		"                *r = int_add(a, b);\n"
		"                return WRAP_I63(-1);\n"
		"            } else {\n"
		"                big_decref(bb);\n"
		"                *r = a;\n"
		"                return WRAP_I63(0);\n"
		"            }\n"
		"        }\n"
		"    } else {\n"
		"        bool an = int_is_negative_(a);\n"
		"        bool bn = int_is_negative_(b);\n"
		"        INT ma = an ? int_negate(a) : a;\n"
		"        INT mb = bn ? int_negate(b) : b;\n"
		"        ASSERT(IS_BIG(ma));\n"
		"        INT mq, mr;\n"
		"        int_incref(mb);\n"
		"        big_pos_udivmod(GET_BIG(ma),mb,&mq,&mr);\n"
		"        if (an ^ bn) {\n"
		"            if (int_is_zero_(mr)) {\n"
		"                int_decref(mb);\n"
		"                mq = int_negate(mq);\n"
		"            } else {\n"
		"                mr = int_sub(mb, mr);\n"
		"                mq = int_negate(int_add(mq, WRAP_I63(1)));\n"
		"            }\n"
		"        } else {\n"
		"            int_decref(mb);\n"
		"        }\n"
		"        if (bn) mr = int_negate(mr);\n"
		"        *r = mr;\n"
		"        return mq;\n"
		"    }\n"
		"}\n"
		"\n"
		"static double int_to_f64(INT a) {\n"
		"    if (IS_I63(a)) {\n"
		"        return (double)GET_I63(a);\n"
		"    } else {\n"
		"        BIG* b = GET_BIG(a);\n"
		"        ASSERT(b && b->size);\n"
		"        bool negative = SIGN_BIT(b->radix[b->size-1]);\n"
		"        double r = 0.0;\n"
		"        for (size_t i = b->size; i --> 0;) {\n"
		"            uint32_t br = b->radix[i];\n"
		"            if (negative) br = ~br;\n"
		"            r *= (double)0x100000000;\n"
		"            r += (double)br;\n"
		"        }\n"
		"        if (negative) r = -(r + 1.0);\n"
		"        big_decref(b);\n"
		"        return r;\n"
		"    }\n"
		"}\n"
		"\n"
		"static float int_to_f32(INT a) { return (float)int_to_f64(a); }\n"
		"\n"
		"static bool big_negative_(BIG* a) {\n"
		"    ASSERT(a && (a->size > 0));\n"
		"    return SIGN_BIT(a->radix[a->size-1]);\n"
		"}\n"
		"\n"
		"static int big_cmp_(BIG* a, BIG* b) {\n"
		"    ASSERT(a); ASSERT(b);\n"
		"    bool an = big_negative_(a);\n"
		"    bool bn = big_negative_(b);\n"
		"    if (an && !bn) return -1;\n"
		"    if (!an && bn) return  1;\n"
		"    if (a->size != b->size) {\n"
		"        int i = (a->size < b->size) ? -1 : +1;\n"
		"        return an ? -i : i;\n"
		"    }\n"
		"    for (size_t i = a->size; i --> 0;) {\n"
		"        int64_t ar = a->radix[i];\n"
		"        int64_t br = b->radix[i];\n"
		"        if (ar != br) {\n"
		"            return (ar < br) ? -1 : +1;\n"
		"            // negative doesn't matter here, since they are both either negative or positive.\n"
		"            // think of comparing these as if adding a large constant to make them both non negative.\n"
		"        }\n"
		"    }\n"
		"    return 0;\n"
		"}\n"
		"\n"
		"static int int_cmp(INT a, INT b) {\n"
		"    if (IS_I63(a)) {\n"
		"        if (IS_I63(b)) {\n"
		"            int64_t ia = GET_I63(a);\n"
		"            int64_t ib = GET_I63(b);\n"
		"            if (ia < ib) return -1;\n"
		"            if (ia > ib) return +1;\n"
		"            return 0;\n"
		"        } else {\n"
		"            bool n = big_negative_(GET_BIG(b));\n"
		"            big_decref(GET_BIG(b));\n"
		"            return n ? 1 : -1;\n"
		"        }\n"
		"    } else {\n"
		"        if (IS_I63(b)) {\n"
		"            bool n = big_negative_(GET_BIG(a));\n"
		"            big_decref(GET_BIG(a));\n"
		"            return n ? -1 : 1;\n"
		"        } else {\n"
		"            int i = big_cmp_(GET_BIG(a), GET_BIG(b));\n"
		"            big_decref(GET_BIG(a));\n"
		"            big_decref(GET_BIG(b));\n"
		"            return i;\n"
		"        }\n"
		"    }\n"
		"}\n"
		"\n"
		"static bool int_eq(INT a, INT b) { return int_cmp(a,b) == 0; }\n"
		"static bool int_lt(INT a, INT b) { return int_cmp(a,b) <  0; }\n"
		"static bool int_le(INT a, INT b) { return int_cmp(a,b) <= 0; }\n"
		"static bool int_gt(INT a, INT b) { return int_cmp(a,b) >  0; }\n"
		"static bool int_ge(INT a, INT b) { return int_cmp(a,b) >= 0; }\n"
		"static bool int_ne(INT a, INT b) { return int_cmp(a,b) != 0; }\n"
		"\n"
		"\n"
		"static STR* i64_to_str(int64_t);\n"
		"static STR* u64_to_str(uint64_t);\n"
		"static STR* int_to_str(INT a) {\n"
		"    if (IS_I63(a) || (GET_BIG(a)->size == 2)) {\n"
		"        return i64_to_str(int_to_i64(a));\n"
		"    } else if ((GET_BIG(a)->size == 3) && (GET_BIG(a)->radix[2] == 0)) {\n"
		"        return u64_to_str(int_to_u64(a));\n"
		"    } else {\n"
		"        STR *s = str_alloc(GET_BIG(a)->size * 10);\n"
		"        if (SIGN_RADIX(GET_BIG(a))) {\n"
		"            a = int_negate(a);\n"
		"            ASSERT(IS_BIG(a));\n"
		"            s = str_pushn(s, \"-\", 1);\n"
		"        }\n"
		"        s = str_pushn(s,\"0x\",2);\n"
		"        BIG* b = GET_BIG(a);\n"
		"        size_t i = b->radix[b->size-1] ? b->size : b->size-1;\n"
		"        while (i --> 0) {\n"
		"            uint32_t r = b->radix[i];\n"
		"            char c[10] = \"00000000_\";\n"
		"            int j = 8;\n"
		"            while (j --> 0) {\n"
		"                uint32_t h = r & 0xF;\n"
		"                c[j] = (h > 9) ? h + 'A' - 10 : h + '0';\n"
		"                r = r >> 4;\n"
		"            }\n"
		"            s = str_pushn(s,c,8+(i>0));\n"
		"        }\n"
		"        big_decref(b);\n"
		"        return s;\n"
		"    }\n"
		"}\n"
		"\n"
		"static int64_t i64_add (int64_t a, int64_t b) {\n"
		"    EXPECT(((b >= 0) && (a <= INT64_MAX - b))\n"
		"        || ((b <  0) && (a >= INT64_MIN - b)),\n"
		"        \"overflow during integer addition\");\n"
		"    return a + b;\n"
		"}\n"
		"\n"
		"static int64_t i64_sub (int64_t a, int64_t b) {\n"
		"    EXPECT(((b >= 0) && (a >= INT64_MIN + b))\n"
		"        || ((b <  0) && (a <= INT64_MAX + b)),\n"
		"        \"overflow during integer subtraction\");\n"
		"    return a - b;\n"
		"}\n"
		"\n"
		"static int64_t i64_mul (int64_t a, int64_t b) {\n"
		"    EXPECT((a == 0) || (b == 0) ||\n"
		"        ((a > 0) && (b > 0) && (a <= INT64_MAX/b)) ||\n"
		"        ((a > 0) && (b < 0) && (b >= INT64_MIN/a)) ||\n"
		"        ((a < 0) && (b > 0) && (a >= INT64_MIN/b)) ||\n"
		"        ((a < 0) && (b < 0) && (a >= INT64_MAX/b)),\n"
		"        \"overflow during integer multiplication\"\n"
		"    );\n"
		"    return a * b;\n"
		"}\n"
		"\n"
		"static int64_t i64_div (int64_t a, int64_t b) {\n"
		"    EXPECT(b != 0, \"divide by zero\");\n"
		"    EXPECT(!((b == -1) && (a == INT64_MIN)), \"overflow during integer division\");\n"
		"    int64_t r = a % b;\n"
		"    int64_t q = a / b;\n"
		"    if (((a < 0) ^ (b < 0)) && r) q--;\n"
		"    return q;\n"
		"}\n"
		"\n"
		"static int64_t i64_mod (int64_t a, int64_t b) {\n"
		"    EXPECT(b != 0, \"divide by zero\");\n"
		"    EXPECT(!((b == -1) && (a == INT64_MIN)), \"overflow during integer division\");\n"
		"    int64_t r = a % b;\n"
		"    int64_t q = a / b;\n"
		"    if (((a < 0) ^ (b < 0)) && r) r += b;\n"
		"    return r;\n"
		"}\n"
		"\n"
		"static uint64_t u64_div (uint64_t a, uint64_t b) {\n"
		"    EXPECT(b != 0, \"divide by zero\");\n"
		"    return a / b;\n"
		"}\n"
		"\n"
		"static uint64_t u64_mod (uint64_t a, uint64_t b) {\n"
		"    EXPECT(b != 0, \"divide by zero\");\n"
		"    return a % b;\n"
		"}\n"
		"\n"
		"static uint64_t u64_shl (uint64_t a, uint64_t b) {\n"
		"    if (b >= 64) return 0;\n"
		"    return (a << b);\n"
		"}\n"
		"\n"
		"static uint64_t u64_shr (uint64_t a, uint64_t b) {\n"
		"    if (b >= 64) return 0;\n"
		"    return (a >> b);\n"
		"}\n"
		"\n"
		"static STR* f32_to_str (float d) {\n"
		"    char result[DBL_DIG+32] = {0};\n"
		"    int len = sprintf(result, \"%.*g\", DBL_DIG, d);\n"
		"    return str_make(result, len);\n"
		"}\n"
		"\n"
		"static STR* f64_to_str (double d) {\n"
		"    char result[DBL_DIG+32] = {0};\n"
		"    int len = sprintf(result, \"%.*g\", DBL_DIG, d);\n"
		"    return str_make(result, len);\n"
		"}\n"
		"\n"
		"void u64_repr(uint64_t x, char* c, size_t m, char** out_ptr, size_t *out_size) {\n"
		"    ASSERT(m >= 4);\n"
		"    memset(c, 0, m);\n"
		"    char* p = c+(m-1);\n"
		"    size_t n = 0;\n"
		"    do {\n"
		"        *--p = '0' + (x % 10);\n"
		"        x /= 10;\n"
		"        n++;\n"
		"    } while (x && (p > c));\n"
		"    *out_ptr = p;\n"
		"    *out_size = n;\n"
		"}\n"
		"\n"
		"void i64_repr(int64_t y, char* c, size_t m, char** out_ptr, size_t *out_size) {\n"
		"    ASSERT(m >= 5);\n"
		"    c[0] = 0;\n"
		"    char* p;\n"
		"    size_t n;\n"
		"    uint64_t x;\n"
		"    if (y < 0) {\n"
		"        if (y == INT64_MIN) {\n"
		"            x = 1+(uint64_t)INT64_MAX;\n"
		"        } else {\n"
		"            x = (uint64_t)-y;\n"
		"        }\n"
		"    } else {\n"
		"        x = (uint64_t)y;\n"
		"    }\n"
		"    u64_repr(x,c+1,m-1,&p,&n);\n"
		"    if (y<0) { *--p = '-'; n++; }\n"
		"    *out_ptr = p;\n"
		"    *out_size = n;\n"
		"}\n"
		"\n"
		"void i64_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI64(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void i32_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI32(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void i16_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI16(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void  i8_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI8(v),  c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void u64_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU64(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void u32_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU32(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void u16_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU16(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void  u8_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU8(v),  c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"\n"
		"void bool_trace_(VAL v, int fd) { if (VBOOL(v)) { write(fd, \"True\", 4); } else { write(fd, \"False\", 5); } }\n"
		"\n"
		"static void int_trace_(VAL v, int fd) {\n"
		"    ASSERT(IS_INT(v));\n"
		"    INT x = VINT(v);\n"
		"    incref(v);\n"
		"    STR* s = int_to_str(x);\n"
		"    write(fd, s->data, s->size);\n"
		"    decref(MKSTR(s));\n"
		"}\n"
		"\n"
		"static void nat_trace_(VAL v, int fd) {\n"
		"    ASSERT(IS_NAT(v));\n"
		"    VAL v2 = MKINT(VNAT(v));\n"
		"    int_trace_(v2,fd);\n"
		"}\n"
		"\n"
		"void f32_trace_(VAL v, int fd) { (void)v; write(fd, \"<F32>\", 5); }\n"
		"void f64_trace_(VAL v, int fd) { (void)v; write(fd, \"<F64>\", 5); }\n"
		"void ptr_trace_(VAL v, int fd) { (void)v; write(fd, \"<Ptr>\", 5); }\n"
		"void fnptr_trace_(VAL v, int fd) { (void)v; write(fd, \"<FnPtr>\", 7); }\n"
		"\n"
		"static STR* u64_to_str (uint64_t x) {\n"
		"    bool cache = (x <= 255);\n"
		"    static STR* scache[256] = {0};\n"
		"    if (cache && scache[x]) {\n"
		"        STR* s = scache[x];\n"
		"        incref(MKSTR(s));\n"
		"        return s;\n"
		"    } else {\n"
		"        char c[32];\n"
		"        char* p; size_t n;\n"
		"        u64_repr(x,c,sizeof(c),&p,&n);\n"
		"        STR* s = str_make(p,n);\n"
		"        if (cache) {\n"
		"            scache[x] = s;\n"
		"            incref(MKSTR(s));\n"
		"        }\n"
		"        return s;\n"
		"    }\n"
		"}\n"
		"\n"
		"static STR* i64_to_str (int64_t x) {\n"
		"    bool cache = (-128 <= x) && (x < 128);\n"
		"    static STR* scache[256] = {0};\n"
		"    if (cache && scache[x+128]) {\n"
		"        STR* s = scache[x+128];\n"
		"        incref(MKSTR(s));\n"
		"        return s;\n"
		"    } else {\n"
		"        char c[32];\n"
		"        char* p; size_t n;\n"
		"        i64_repr(x,c,sizeof(c),&p,&n);\n"
		"        STR* s = str_make(p,n);\n"
		"        if (cache) {\n"
		"            scache[x+128] = s;\n"
		"            incref(MKSTR(s));\n"
		"        }\n"
		"        return s;\n"
		"    }\n"
		"}\n"
		"\n"
		"void str_trace_(VAL v, int fd) {\n"
		"    STR* str = VSTR(v);\n"
		"    ASSERT(str->size <= SIZE_MAX);\n"
		"    write(fd, \"\\\"\", 1);\n"
		"    USIZE i0 = 0;\n"
		"    char xb[4]={'\\\\','x'};\n"
		"    USIZE i;\n"
		"    for (i = 0; i < str->size; i++) {\n"
		"        const char* c = NULL; size_t n=0;\n"
		"        uint8_t v=str->data[i];\n"
		"        switch(v) {\n"
		"            case '\\n': c=\"\\\\n\"; n=2; break;\n"
		"            case '\\r': c=\"\\\\r\"; n=2; break;\n"
		"            case '\\t': c=\"\\\\t\"; n=2; break;\n"
		"            case '\\\\': c=\"\\\\\\\\\"; n=2; break;\n"
		"            case '\\\"': c=\"\\\\\\\"\"; n=2; break;\n"
		"            default:\n"
		"                if (!((' ' <= v) && (v < 0x7F))) {\n"
		"                    xb[2] = '0' + (v&15) + ('A'-'9'-1)*((v&15) > 9);\n"
		"                    xb[3] = '0' + (v/16) + ('A'-'9'-1)*((v/16) > 9);\n"
		"                    c=xb; n=4;\n"
		"                }\n"
		"        }\n"
		"        if ((n > 0) && (i0 < i)) {\n"
		"            write(fd, str->data+i0, (size_t)(i-i0));\n"
		"            i0=i+1;\n"
		"        }\n"
		"        write(fd, c, n);\n"
		"    }\n"
		"    if (i0 < i) write(fd, str->data+i0, (size_t)(i-i0));\n"
		"    write(fd, \"\\\"\", 1);\n"
		"}\n"
		"\n"
		"static void value_trace_(VAL v, int fd) {\n"
		"    if (VTYPE(v) && VTYPE(v)->trace_) {\n"
		"        VTYPE(v)->trace_(v,fd);\n"
		"    } else if (VTYPE(v)) {\n"
		"        const char* name = VTYPE(v)->name;\n"
		"        write(fd, \"<\", 1);\n"
		"        write(fd, name, strlen(name));\n"
		"        write(fd, \">\", 1);\n"
		"    } else {\n"
		"        write(fd, \"<NULL>\", 6);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void tup_trace_(VAL v, int fd) {\n"
		"    TUPLEN len = VTUPLEN(v);\n"
		"    PTUP ptup = VTUP(v);\n"
		"    if (PTREXTRA(ptup)) {\n"
		"        write(fd,\"#\",1);\n"
		"        u64_trace_(MKU64(PTREXTRA(ptup)),fd);\n"
		"    }\n"
		"    if (len == 0) {\n"
		"        write(fd, \"[]\", 2);\n"
		"    } else {\n"
		"        ASSERT(PTRISPTR(ptup));\n"
		"        TUP* tup = PTRPTR(ptup);\n"
		"        write(fd, \"[ \", 2);\n"
		"        for(TUPLEN i = 0; i < len; i++) {\n"
		"            if (i > 0) write(fd, \" \", 1);\n"
		"            value_trace_(tup->cells[i], fd);\n"
		"        }\n"
		"        write(fd, \" ]\", 2);\n"
		"    }\n"
		"}\n"
		"\n"
		"static VAL val_peek_(ARR*, USIZE);\n"
		"static void arr_trace_(VAL v, int fd) {\n"
		"    ARR* arr = VARR(v);\n"
		"    if (!arr) {\n"
		"        write(fd, \"{}\", 2);\n"
		"    } else {\n"
		"        USIZE n = arr->size;\n"
		"        if (n > 16) n = 16;\n"
		"        write(fd, \"{ \", 2);\n"
		"        for (size_t i = 0; i < arr->size; i++) {\n"
		"            if (i > 0) write(fd, \" \", 1);\n"
		"            value_trace_(val_peek_(arr,i), fd);\n"
		"        }\n"
		"        write(fd, \" }\", 2);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void trace_stack (void) {\n"
		"    TRACE(\"??\");\n"
		"    for (long i = STACK_MAX-1; i >= (long)stack_counter; i--) {\n"
		"        TRACE(\" \");\n"
		"        value_trace_(stack[i], 2);\n"
		"    }\n"
		"    TRACE(\"\\n\");\n"
		"}\n"
		"\n"
		"static void trace_rstack (void) {\n"
		"    #if MIRTH_DEBUG\n"
		"        TRACE(\"call stack:\\n\");\n"
		"        for (USIZE i = fstack_counter; i --> 1;) {\n"
		"            TRACE(\"    \");\n"
		"            if (fstack[i-1].atom && *fstack[i-1].atom && strcmp(fstack[i-1].atom, fstack[i].word)) {\n"
		"                TRACE(fstack[i-1].atom);\n"
		"                TRACE(\" -> \");\n"
		"            }\n"
		"            TRACE(fstack[i].word);\n"
		"            TRACE(\" at \");\n"
		"            TRACE(fstack[i-1].path);\n"
		"            TRACE(\":\");\n"
		"            i64_trace_(MKI64(fstack[i-1].line), 2);\n"
		"            TRACE(\":\");\n"
		"            i64_trace_(MKI64(fstack[i-1].col), 2);\n"
		"            TRACE(\"\\n\");\n"
		"        }\n"
		"    #endif\n"
		"}\n"
		"\n"
		"static void do_panic(STR* m) {\n"
		"    if (m) {\n"
		"        size_t n = (m->size < SIZE_MAX) ? (size_t)(m->size) : SIZE_MAX;\n"
		"        write(2, m->data, n);\n"
		"        TRACE(\"\\n\");\n"
		"    } else {\n"
		"        TRACE(\"panic!\\n\");\n"
		"    }\n"
		"    trace_stack();\n"
		"    trace_rstack();\n"
		"    exit(1);\n"
		"}\n"
		"\n"
		"#if defined(MIRTH_WINDOWS)\n"
		"#define RUNNING_OS 1\n"
		"#elif defined(MIRTH_LINUX)\n"
		"#define RUNNING_OS 2\n"
		"#elif defined(MIRTH_MACOS)\n"
		"#define RUNNING_OS 3\n"
		"#else\n"
		"#define RUNNING_OS 0\n"
		"#endif\n"
		"\n"
		"#if defined(MIRTH_I386)\n"
		"#define RUNNING_ARCH 1\n"
		"#elif defined(MIRTH_AMD64)\n"
		"#define RUNNING_ARCH 2\n"
		"#elif defined(MIRTH_ARM64)\n"
		"#define RUNNING_ARCH 3\n"
		"#else\n"
		"#define RUNNING_ARCH 0\n"
		"#endif\n"
		"\n"
		"static void* ptr_alloc (uint64_t n) {\n"
		"    EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), \"invalid size in prim-ptr-alloc\");\n"
		"    void* p = malloc((size_t)n);\n"
		"    EXPECT(p, \"failed to allocate in prim-ptr-alloc\");\n"
		"    return p;\n"
		"}\n"
		"\n"
		"static void* ptr_realloc (void* p, uint64_t n) {\n"
		"    EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), \"invalid size in prim-ptr-realloc\");\n"
		"    void* p2 = realloc(p, (size_t)n);\n"
		"    EXPECT(p2, \"failed to reallocate in prim-ptr-realloc\");\n"
		"    return p2;\n"
		"}\n"
		"\n"
		"static void ptr_copy (void* src, uint64_t len, void* dst) {\n"
		"    if (len > 0) {\n"
		"        EXPECT(len <= SIZE_MAX, \"invalid size in prim-ptr-copy\");\n"
		"        EXPECT(src && dst, \"invalid pointer in prim-ptr-copy\");\n"
		"        memcpy(dst, src, (size_t)len);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void ptr_fill (uint8_t val, uint64_t len, void* dst) {\n"
		"    if (len > 0) {\n"
		"        EXPECT(len <= SIZE_MAX, \"invalid size in prim-ptr-fill\");\n"
		"        EXPECT(dst, \"invalid pointer in prim-ptr-fill\");\n"
		"        memset(dst, (int)val, (size_t)len);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void* str_base (STR* s) {\n"
		"    EXPECT(s && (s->refs > 1), \"invalid string for prim-str-base\");\n"
		"    s->refs--;\n"
		"    return s->data;\n"
		"}\n"
		"\n"
		"static uint64_t str_size (STR* s) {\n"
		"    EXPECT(s, \"invalid string for prim-str-size\");\n"
		"    uint64_t n = s->size;\n"
		"    decref(MKSTR(s));\n"
		"    return n;\n"
		"}\n"
		"\n"
		"static VAL mut_get (void* mut) {\n"
		"    EXPECT(mut, \"invalid pointer in prim-mut-get\");\n"
		"    VAL v = *(VAL*)mut;\n"
		"    EXPECT(v.tag, \"tried to read uninitialized value\");\n"
		"    incref(v);\n"
		"    return v;\n"
		"}\n"
		"\n"
		"static void mut_set (VAL newval, void* mut) {\n"
		"    EXPECT(mut, \"invalid pointer in prim-mut-set\");\n"
		"    VAL oldval = *(VAL*)mut;\n"
		"    *(VAL*)mut = newval;\n"
		"    if (oldval.tag) {\n"
		"        decref(oldval);\n"
		"    }\n"
		"}\n"
		"\n"
		"static bool mut_is_set (void* mut) {\n"
		"    EXPECT(mut, \"invalid pointer in prim-mut-is-set\");\n"
		"    VAL val = *(VAL*)mut;\n"
		"    return (val.tag != 0);\n"
		"}\n"
		"\n"
		"typedef struct FIELD { size_t num_blocks; VAL** blocks; } FIELD;\n"
		"\n"
		"static VAL* field_mut(FIELD* field, uint64_t index) {\n"
		"    ASSERT(field);\n"
		"    size_t block_size = 1024;\n"
		"    size_t block_i = index / block_size;\n"
		"    size_t block_j = index % block_size;\n"
		"    if (block_i >= field->num_blocks) {\n"
		"        ASSERT(field->num_blocks <= SIZE_MAX - 4 - block_i);\n"
		"        size_t new_num_blocks = field->num_blocks + block_i + 4;\n"
		"        VAL** new_blocks = realloc(field->blocks, sizeof(VAL*) * new_num_blocks);\n"
		"        ASSERT(new_blocks);\n"
		"        memset(new_blocks + field->num_blocks, 0, sizeof(VAL*) * (new_num_blocks - field->num_blocks));\n"
		"        field->blocks = new_blocks;\n"
		"        field->num_blocks = new_num_blocks;\n"
		"    }\n"
		"    if(!field->blocks[block_i]) {\n"
		"        field->blocks[block_i] = calloc(block_size, sizeof(VAL));\n"
		"        ASSERT(field->blocks[block_i]);\n"
		"    }\n"
		"    return field->blocks[block_i] + block_j;\n"
		"}\n"
		"\n"
		"static VAL bool_peek_(ARR* arr, USIZE i) {\n"
		"    uint32_t u32 = arr->data.u32s[i/32];\n"
		"    bool b = (u32 >> (i&31)) & 1;\n"
		"    return MKBOOL(b);\n"
		"}\n"
		"\n"
		"static void bool_poke_(ARR* arr, USIZE i, VAL v) {\n"
		"    USIZE hi = i/32;\n"
		"    USIZE lo = i&31;\n"
		"    uint32_t u32 = arr->data.u32s[hi];\n"
		"    uint32_t flag = 1 << lo;\n"
		"    uint32_t mask = ~flag;\n"
		"    uint32_t b = (bool)VBOOL(v);\n"
		"    uint32_t bflag = b << lo;\n"
		"    arr->data.u32s[hi] = (u32 & mask) | bflag;\n"
		"}\n"
		"\n"
		"static void bool_poke_many_(ARR* arr, USIZE lo, USIZE hi, VAL v) {\n"
		"    if (hi <= lo) return;\n"
		"    uint32_t all = ~(uint32_t)0;\n"
		"    uint32_t lomask = all << (lo % 32);\n"
		"    uint32_t himask = ~(all << (hi % 32));\n"
		"    uint32_t f = VBOOL(v) ? all : 0;\n"
		"    USIZE i = lo/32;\n"
		"    USIZE j = hi/32;\n"
		"    if (i == j) {\n"
		"        uint32_t bimask = (lomask & himask);\n"
		"        arr->data.u32s[i] &= ~bimask;\n"
		"        arr->data.u32s[i] |= (f & bimask);\n"
		"    } else {\n"
		"        arr->data.u32s[i] &= ~lomask;\n"
		"        arr->data.u32s[i] |= (f & lomask);\n"
		"        i++;\n"
		"        while (i < j) {\n"
		"            arr->data.u32s[i] = f;\n"
		"            i++;\n"
		"        }\n"
		"        arr->data.u32s[j] &= ~himask;\n"
		"        arr->data.u32s[j] |= (f & himask);\n"
		"    }\n"
		"}\n"
		"\n"
		"#define gen_peek_poke(pfx,mkmacro,vmacro,fld) \\\n"
		"    static VAL pfx##_peek_(ARR* arr, USIZE i) { \\\n"
		"        return mkmacro(arr->data.fld[i]); \\\n"
		"    } \\\n"
		"    static void pfx##_poke_(ARR* arr, USIZE i, VAL v) { \\\n"
		"        arr->data.fld[i] = vmacro(v); \\\n"
		"    } \\\n"
		"    static void pfx##_poke_many_(ARR* arr, USIZE lo, USIZE hi, VAL v) { \\\n"
		"        while (lo < hi) { \\\n"
		"            arr->data.fld[lo++] = vmacro(v); \\\n"
		"        } \\\n"
		"    }\n"
		"gen_peek_poke(int,MKINT,VINT,iints)\n"
		"gen_peek_poke(nat,MKNAT,VNAT,iints)\n"
		"gen_peek_poke(i64,MKI64,VI64,i64s)\n"
		"gen_peek_poke(i32,MKI32,VI32,i32s)\n"
		"gen_peek_poke(i16,MKI16,VI16,i16s)\n"
		"gen_peek_poke(i8,MKI8,VI8,i8s)\n"
		"gen_peek_poke(u64,MKU64,VU64,u64s)\n"
		"gen_peek_poke(u32,MKU32,VU32,u32s)\n"
		"gen_peek_poke(u16,MKU16,VU16,u16s)\n"
		"gen_peek_poke(u8,MKU8,VU8,u8s)\n"
		"gen_peek_poke(f64,MKF64,VF64,f64s)\n"
		"gen_peek_poke(f32,MKF32,VF32,f32s)\n"
		"gen_peek_poke(ptr,MKPTR,VPTR,ptrs)\n"
		"gen_peek_poke(fnptr,MKFNPTR,VFNPTR,fnptrs)\n"
		"gen_peek_poke(str,MKSTR,VSTR,strs)\n"
		"gen_peek_poke(tup,MKTUP,VTUP,tups)\n"
		"gen_peek_poke(arr,MKARR,VARR,arrs)\n"
		"\n"
		"static VAL val_peek_(ARR* arr, USIZE i) {\n"
		"    ASSERT(arr);\n"
		"    ASSERT(i < arr->size);\n"
		"    const TYPE* ty = PTRPTR(arr->tag);\n"
		"    ASSERT(ty && ty->peek_);\n"
		"    return ty->peek_(arr, i);\n"
		"}\n"
		"\n"
		"static void val_poke_(ARR* arr, USIZE i, VAL v) {\n"
		"    ASSERT(arr);\n"
		"    ASSERT(arr->refs == 1);\n"
		"    ASSERT(arr->tag == v.tag);\n"
		"    ASSERT(i < arr->size);\n"
		"    const TYPE* ty = PTRPTR(arr->tag);\n"
		"    ASSERT(ty && ty->poke_);\n"
		"    ty->poke_(arr, i, v);\n"
		"}\n"
		"\n"
		"static void val_poke_many_(ARR* arr, USIZE lo, USIZE hi, VAL v) {\n"
		"    ASSERT(arr);\n"
		"    ASSERT(arr->refs == 1);\n"
		"    ASSERT(arr->tag == v.tag);\n"
		"    ASSERT(lo <= hi);\n"
		"    ASSERT(hi <= arr->size);\n"
		"    const TYPE* ty = PTRPTR(arr->tag);\n"
		"    ASSERT(ty && ty->poke_many_);\n"
		"    ty->poke_many_(arr, lo, hi, v);\n"
		"}\n"
		"\n"
		"static ARR* arr_new_of(TAG tag, USIZE cap) {\n"
		"    if (cap < 4) cap = 4;\n"
		"    const TYPE* ty = PTRPTR(tag);\n"
		"    ASSERT(ty);\n"
		"    USIZE stride = ty->stride;\n"
		"    ASSERT(stride || (tag == TAG_BOOL));\n"
		"    USIZE nbytes = stride ? stride * cap : cap/8 + 4;\n"
		"    ARR* arr = calloc(1, sizeof(ARR) + nbytes);\n"
		"    ASSERT(arr);\n"
		"    arr->refs = 1;\n"
		"    arr->stride = stride;\n"
		"    arr->size = 0;\n"
		"    arr->cap = cap;\n"
		"    arr->tag = tag;\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"static ARR* arr_new(VAL v, USIZE n) {\n"
		"    ARR* arr = arr_new_of(v.tag, n);\n"
		"    arr->size = n;\n"
		"    val_poke_many_(arr,0,n,v);\n"
		"    if (HAS_REFS(v)) {\n"
		"        VREFS(v) = VREFS(v) + n - 1;\n"
		"        if (!VREFS(v)) free_value(v);\n"
		"    }\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"// Copy array over into a fresh array with minimum capacity.\n"
		"// No-op if array has a unique reference and enough capacity.\n"
		"static ARR* arr_reserve(ARR* arr, TAG tag, size_t need_cap) {\n"
		"    if (!arr) { return arr_new_of(tag, need_cap); }\n"
		"    if ((arr->refs == 1) && (arr->cap >= need_cap)) return arr;\n"
		"    ASSERT(arr->tag == tag);\n"
		"    USIZE size = arr->size;\n"
		"    USIZE stride = arr->stride;\n"
		"    if (need_cap < size) need_cap = arr->size;\n"
		"    USIZE cap = need_cap*2 + 4;\n"
		"    ARR* arr2 = arr_new_of(tag, cap);\n"
		"    USIZE mbytes = stride ? (size * stride) : (size/8 + 4);\n"
		"    arr2->size = size;\n"
		"    memcpy(arr2->data.u8s, arr->data.u8s, mbytes);\n"
		"    if (TAG_HAS_REFS(tag)) {\n"
		"        for (USIZE i = 0; i < size; i++) {\n"
		"            VAL u = val_peek_(arr2,i);\n"
		"            incref(u);\n"
		"        }\n"
		"    }\n"
		"    decref(MKARR(arr));\n"
		"    return arr2;\n"
		"}\n"
		"\n"
		"static ARR* arr_thaw(ARR* arr) {\n"
		"    if (arr) {\n"
		"        return arr_reserve(arr, arr->tag, arr->size);\n"
		"    } else {\n"
		"        return NULL;\n"
		"    }\n"
		"}\n"
		"\n"
		"static ARR* arr_expand(ARR* arr, USIZE n, VAL v) {\n"
		"    if (!arr) return arr_new(v,n);\n"
		"    if (arr->size >= n) { decref(v); return arr; }\n"
		"    ASSERT(arr->tag == v.tag);\n"
		"    arr = arr_reserve(arr, v.tag, n);\n"
		"    USIZE m = arr->size;\n"
		"    arr->size = n;\n"
		"    val_poke_many_(arr,m,n,v);\n"
		"    if (HAS_REFS(v)) {\n"
		"        VREFS(v) += n - m - 1;\n"
		"    }\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"static void* arr_base(ARR* arr) {\n"
		"    ASSERT(arr && (arr->size > 0));\n"
		"    ASSERT(!TAG_HAS_REFS(arr->tag));\n"
		"    void* base = arr->data.u8s;\n"
		"    decref(MKARR(arr));\n"
		"    return base;\n"
		"}\n"
		"\n"
		"static USIZE arr_len(ARR* arr) {\n"
		"    if (!arr) return 0;\n"
		"    USIZE n = arr->size;\n"
		"    decref(MKARR(arr));\n"
		"    return n;\n"
		"}\n"
		"\n"
		"static VAL arr_get(ARR* arr, USIZE i) {\n"
		"    ASSERT(arr);\n"
		"    ASSERT(i < arr->size);\n"
		"    VAL v = val_peek_(arr,i);\n"
		"    incref(v);\n"
		"    decref(MKARR(arr));\n"
		"    return v;\n"
		"}\n"
		"\n"
		"static ARR* arr_set(ARR* arr, USIZE i, VAL v) {\n"
		"    ASSERT(arr);\n"
		"    ASSERT(i < arr->size);\n"
		"    ASSERT(arr->tag == v.tag);\n"
		"    arr = arr_thaw(arr);\n"
		"    if (TAG_HAS_REFS(v.tag)) {\n"
		"        VAL u = val_peek_(arr,i);\n"
		"        val_poke_(arr,i,v);\n"
		"        decref(u);\n"
		"    } else {\n"
		"        val_poke_(arr,i,v);\n"
		"    }\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"static ARR* arr_push(ARR* arr, VAL v) {\n"
		"    if (!arr) { return arr_new(v,1); }\n"
		"    ASSERT(arr->tag == v.tag);\n"
		"    USIZE n = arr->size;\n"
		"    arr = arr_reserve(arr, arr->tag, n+1);\n"
		"    arr->size++;\n"
		"    val_poke_(arr,n,v);\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"static ARR* arr_pop(ARR* arr, VAL* vout) {\n"
		"    ASSERT(arr);\n"
		"    ASSERT(arr->size > 0);\n"
		"    arr = arr_thaw(arr);\n"
		"    USIZE n = arr->size;\n"
		"    *vout = val_peek_(arr, n-1);\n"
		"    arr->size = n-1;\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"static ARR* arr_cat(ARR* arr, ARR* arr2) {\n"
		"    if (!arr  || (arr->size == 0)) { decref(MKARR(arr)); return arr2; }\n"
		"    if (!arr2 || (arr2->size == 0)) { decref(MKARR(arr2)); return arr; }\n"
		"    ASSERT(arr && arr2);\n"
		"    ASSERT(arr->tag == arr2->tag);\n"
		"    ASSERT(arr->stride == arr2->stride);\n"
		"    USIZE n1 = arr->size;\n"
		"    USIZE n2 = arr2->size;\n"
		"    arr = arr_reserve(arr, arr->tag, n1 + n2);\n"
		"    ASSERT(arr && (arr->cap >= n1 + n2));\n"
		"    arr->size += n2;\n"
		"    if (arr->stride > 0) {\n"
		"        memcpy(arr->data.u8s + n1*arr->stride, arr2->data.u8s, n2*arr->stride);\n"
		"        if (TAG_HAS_REFS(arr->tag)) {\n"
		"            for (USIZE i = 0; i < n2; i++) {\n"
		"                incref(val_peek_(arr2,i));\n"
		"            }\n"
		"        }\n"
		"    } else {\n"
		"        ASSERT(arr->tag == TAG_BOOL);\n"
		"        if (n1 % 8 == 0) {\n"
		"            memcpy(arr->data.u8s + n1/8, arr2->data.u8s, n2/8 + 1);\n"
		"        } else {\n"
		"            USIZE hi = n1 / 32;\n"
		"            USIZE lo = n1 % 32;\n"
		"            arr->data.u32s[hi] &= (((uint32_t)(1)) << lo) - 1;\n"
		"            arr->data.u32s[hi] |= arr2->data.u32s[0] << lo;\n"
		"            for (USIZE i = 0; i < (n2+lo)/32; i++) {\n"
		"                arr->data.u32s[hi+i+1]\n"
		"                    = (arr2->data.u32s[i] >> (32 - lo))\n"
		"                    | (arr2->data.u32s[i+1] << lo);\n"
		"            }\n"
		"        }\n"
		"    }\n"
		"    decref(MKARR(arr2));\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"static ARR* arr_slice(ARR* arr, USIZE from, USIZE len) {\n"
		"    ASSERT(arr);\n"
		"    ASSERT(len <= arr->size);\n"
		"    ASSERT(from <= arr->size - len);\n"
		"    arr = arr_thaw(arr);\n"
		"    if (from > 0) {\n"
		"        if (arr->stride) {\n"
		"            if (TAG_HAS_REFS(arr->tag)) {\n"
		"                for (USIZE i = 0; i < from; i++) {\n"
		"                    decref(val_peek_(arr, i));\n"
		"                }\n"
		"                for (USIZE i = from+len; i < arr->size; i++) {\n"
		"                    decref(val_peek_(arr, i));\n"
		"                }\n"
		"            }\n"
		"            memmove(arr->data.u8s, arr->data.u8s + from*arr->stride, arr->stride*len);\n"
		"        } else {\n"
		"            ASSERT(arr->tag == TAG_BOOL);\n"
		"            if (from % 8 == 0) {\n"
		"                memmove(arr->data.u8s, arr->data.u8s + from/8, len/8 + 1);\n"
		"            } else {\n"
		"                USIZE i0 = from / 32;\n"
		"                USIZE sh = from % 32;\n"
		"                for (USIZE i = 0; i < (len+31)/32; i++) {\n"
		"                    arr->data.u32s[i]\n"
		"                        = (arr->data.u32s[i0 + i] >> sh)\n"
		"                        | (arr->data.u32s[i0 + i + 1] << (32 - sh));\n"
		"                }\n"
		"            }\n"
		"        }\n"
		"    }\n"
		"    arr->size = len;\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"static STR* arr_to_str (ARR* arr) {\n"
		"    if (!arr) { return str_make(\"\",0); }\n"
		"    ASSERT(arr->tag == TAG_U8);\n"
		"    STR* str = str_make((char*)arr->data.u8s, arr->size);\n"
		"    decref(MKARR(arr));\n"
		"    return str;\n"
		"}\n"
		"\n"
		"static ARR* str_to_arr (STR* str) {\n"
		"    ASSERT(str);\n"
		"    ARR* arr = arr_new(MKU8(0), str->size+4);\n"
		"    arr->size = str->size;\n"
		"    arr->stride = 1;\n"
		"    memcpy(arr->data.u8s, str->data, str->size);\n"
		"    decref(MKSTR(str));\n"
		"    return arr;\n"
		"}\n"
		"\n"
		"/* GENERATED C99 */\n",
		62106
	);
	return v2;
}
static void mw_mirth_c99_c99Z_headerZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	STR* v5;
	STRLIT(v5, "#define MIRTH_DEBUG ", 20);
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v5, &v6, &v7);
	PTUP v8 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
	incref(MKTUP(v8));
	bool v9 = value_bool(((TUP*)PTRPTR(v8))->cells[1]);
	decref(MKTUP(v8));
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusC99_11;
	VAL branch__12;
	if (v9) {
		STR* v13;
		STRLIT(v13, "1", 1);
		branch__12 = MKSTR(v13);
		branch_ZPlusC99_11 = v7;
		branch_ZPlusMirth_10 = v6;
	} else {
		STR* v14;
		STRLIT(v14, "0", 1);
		branch__12 = MKSTR(v14);
		branch_ZPlusC99_11 = v7;
		branch_ZPlusMirth_10 = v6;
	}
	PTUP v15;
	PTUP v16;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_10, branch_ZPlusC99_11, value_str(branch__12), &v15, &v16);
	PTUP v17;
	PTUP v18;
	mw_mirth_c99_ZPlusC99_line(v15, v16, &v17, &v18);
	STR* v19 = mw_mirth_c99_c99Z_headerZ_str();
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v17, v18, v19, &v20, &v21);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_line(v20, v21, &v22, &v23);
	*out_ZPlusC99_4 = v23;
	*out_ZPlusMirth_3 = v22;
}
static void mw_mirth_c99_c99Z_buffersZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_buffer_Buffer_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP v16;
		PTUP v17;
		mw_mirth_c99_c99Z_bufferZBang(r14, r13, v15, &v16, &v17);
		uint64_t v18 = 1ULL;
		uint64_t v19 = (v15 + v18);
		void* v20 = mbuf_mirth_buffer_Buffer_NumBuffer;
		uint64_t v21 = *(uint64_t*)v20;
		bool v22 = (v19 <= v21);
		v12 = v22;
		v11 = v19;
		r10 = v16;
		r9 = v17;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_bufferZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Buffer_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	STR* v6;
	STRLIT(v6, "static char ", 12);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	PTUP v9;
	STR* v10 = mw_mirth_buffer_Buffer_cname(v7, in_Buffer_3, &v9);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_put(v9, v8, v10, &v11, &v12);
	STR* v13;
	STRLIT(v13, "[", 1);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	PTUP v16;
	INT v17 = mw_mirth_buffer_Buffer_sizze(v14, in_Buffer_3, &v16);
	STR* v18 = int_to_str(v17);
	PTUP v19;
	PTUP v20;
	mw_mirth_c99_ZPlusC99_put(v16, v15, v18, &v19, &v20);
	STR* v21;
	STRLIT(v21, "] = {0};", 8);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_put(v19, v20, v21, &v22, &v23);
	PTUP v24;
	PTUP v25;
	mw_mirth_c99_ZPlusC99_line(v22, v23, &v24, &v25);
	*out_ZPlusC99_5 = v25;
	*out_ZPlusMirth_4 = v24;
}
static void mw_mirth_c99_c99Z_bufferZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Buffer_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = PTRMK(18LL /* PTR */,0,0);
	incref(MKTUP(v6));
	PTUP v7;
	bool v8 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v6, &v7);
	uint64_t branch_Buffer_9;
	PTUP branch_C99ReprType_10;
	bool branch_Bool_11;
	PTUP branch_ZPlusMirth_12;
	STR* branch_Str_13;
	PTUP branch_ZPlusC99Branch_14;
	if (v8) {
		PTUP r15 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v16;
		PTUP v17;
		STR* v18 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v7, r15, &v16, &v17);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v17);
		branch_ZPlusC99Branch_14 = in_ZPlusC99Branch_2;
		branch_Str_13 = v18;
		branch_ZPlusMirth_12 = v16;
		branch_Bool_11 = v8;
		branch_C99ReprType_10 = v6;
		branch_Buffer_9 = in_Buffer_3;
	} else {
		STR* v19;
		STRLIT(v19, "0", 1);
		branch_ZPlusC99Branch_14 = in_ZPlusC99Branch_2;
		branch_Str_13 = v19;
		branch_ZPlusMirth_12 = v7;
		branch_Bool_11 = v8;
		branch_C99ReprType_10 = v6;
		branch_Buffer_9 = in_Buffer_3;
	}
	bool v20 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_14))->cells[3]);
	bool v21 = (branch_Bool_11 && v20);
	PTUP r22 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_14))->cells[0]);
	bool v23 = value_bool(((TUP*)PTRPTR(r22))->cells[3]);
	incref(MKBOOL(v23));
	bool v24 = (value_bool(MKBOOL(v21)) && value_bool(MKBOOL(v23)));
	((TUP*)PTRPTR(r22))->cells[3] = MKBOOL(v24);
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_12, r22, &v25, &v26);
	incref(MKTUP(branch_C99ReprType_10));
	PTUP v27;
	STR* v28 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v25, branch_C99ReprType_10, &v27);
	PTUP v29;
	PTUP v30;
	mw_mirth_c99_ZPlusC99_put(v27, v26, v28, &v29, &v30);
	STR* v31;
	STRLIT(v31, " ", 1);
	PTUP v32;
	PTUP v33;
	mw_mirth_c99_ZPlusC99_put(v29, v30, v31, &v32, &v33);
	incref(MKSTR(branch_Str_13));
	PTUP v34;
	PTUP v35;
	mw_mirth_c99_ZPlusC99_put(v32, v33, branch_Str_13, &v34, &v35);
	STR* v36;
	STRLIT(v36, " = ", 3);
	PTUP v37;
	PTUP v38;
	mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
	PTUP v39;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_10, branch_Str_13, &v39);
	PTUP v40;
	STR* v41 = mw_mirth_buffer_Buffer_cname(v37, branch_Buffer_9, &v40);
	PTUP v42;
	PTUP v43;
	mw_mirth_c99_ZPlusC99_put(v40, v38, v41, &v42, &v43);
	STR* v44;
	STRLIT(v44, ";", 1);
	PTUP v45;
	PTUP v46;
	mw_mirth_c99_ZPlusC99_put(v42, v43, v44, &v45, &v46);
	PTUP v47;
	PTUP v48;
	mw_mirth_c99_ZPlusC99_line(v45, v46, &v47, &v48);
	((TUP*)PTRPTR(v48))->cells[3] = MKBOOL(value_bool(MKBOOL(v23)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_14))->cells[0] = MKTUP(v48);
	PTUP v49;
	PTUP v50;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v47, branch_ZPlusC99Branch_14, v39, &v49, &v50);
	*out_ZPlusC99Branch_5 = v50;
	*out_ZPlusMirth_4 = v49;
}
static void mw_mirth_c99_c99Z_tagZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_data_Tag_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP v16;
		PTUP v17;
		mw_mirth_c99_c99Z_tagZ_defZBang(r14, r13, v15, &v16, &v17);
		uint64_t v18 = 1ULL;
		uint64_t v19 = (v15 + v18);
		void* v20 = mbuf_mirth_data_Tag_NumBuffer;
		uint64_t v21 = *(uint64_t*)v20;
		bool v22 = (v19 <= v21);
		v12 = v22;
		v11 = v19;
		r10 = v16;
		r9 = v17;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_tagZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	bool v7 = mw_mirth_data_Tag_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Tag_3, &v6);
	PTUP branch_ZPlusC99_8;
	PTUP branch_ZPlusMirth_9;
	uint64_t branch_Tag_10;
	if (v7) {
		branch_Tag_10 = in_Tag_3;
		branch_ZPlusMirth_9 = v6;
		branch_ZPlusC99_8 = in_ZPlusC99_2;
	} else {
		PTUP r11 = VTUP(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[4]);
		PTUP v12;
		PTUP v13;
		bool v14 = mw_mirth_data_Tag_wordZ_neededZAsk(v6, r11, in_Tag_3, &v12, &v13);
		((TUP*)PTRPTR(in_ZPlusC99_2))->cells[4] = MKTUP(v13);
		uint64_t branch_Tag_15;
		PTUP branch_ZPlusMirth_16;
		PTUP branch_ZPlusC99_17;
		if (v14) {
			PTUP v18;
			PTUP v19;
			PTUP v20 = mw_mirth_data_Tag_wordZ_c99Z_api(v12, in_ZPlusC99_2, in_Tag_3, &v18, &v19);
			PTUP v21;
			PTUP v22;
			PTUP v23 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp96(v20, v18, v19, &v21, &v22);
			INT v24 = value_nat(((TUP*)PTRPTR(v22))->cells[1]);
			incref(MKNAT(v24));
			INT v25 = WRAP_I63(1LL);
			INT v26 = v24;
			INT v27 = v25;
			INT v28 = int_add(v26, v27);
			INT v29 = v28;
			INT v30 = value_nat(((TUP*)PTRPTR(v22))->cells[1]);
			decref(MKNAT(v30));
			((TUP*)PTRPTR(v22))->cells[1] = MKNAT(v29);
			incref(MKTUP(v23));
			PTUP v31;
			PTUP v32;
			mw_mirth_c99_c99Z_apiZ_enterZBang(v21, v22, v23, &v31, &v32);
			PTUP v33;
			PTUP v34;
			mw_mirth_c99_c99Z_tagZ_bodyZBang(v31, v32, in_Tag_3, &v33, &v34);
			PTUP v35;
			PTUP v36;
			mw_mirth_c99_c99Z_apiZ_exitZBang(v33, v34, v23, &v35, &v36);
			INT v37 = value_nat(((TUP*)PTRPTR(v36))->cells[1]);
			incref(MKNAT(v37));
			INT v38 = WRAP_I63(1LL);
			INT v39 = v37;
			INT v40 = v38;
			INT v41 = int_sub(v39, v40);
			incref(MKINT(v41));
			INT v42 = WRAP_I63(0LL);
			INT v43 = v42;
			bool v44 = int_le(v43, v41);
			INT branch_Nat_45;
			if (v44) {
				INT v46 = v41;
				branch_Nat_45 = v46;
			} else {
				decref(MKINT(v41));
				INT v47 = WRAP_I63(0LL);
				branch_Nat_45 = v47;
			}
			INT v48 = value_nat(((TUP*)PTRPTR(v36))->cells[1]);
			decref(MKNAT(v48));
			((TUP*)PTRPTR(v36))->cells[1] = MKNAT(branch_Nat_45);
			PTUP v49;
			PTUP v50;
			mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v35, v36, &v49, &v50);
			branch_ZPlusC99_17 = v50;
			branch_ZPlusMirth_16 = v49;
			branch_Tag_15 = in_Tag_3;
		} else {
			branch_ZPlusC99_17 = in_ZPlusC99_2;
			branch_ZPlusMirth_16 = v12;
			branch_Tag_15 = in_Tag_3;
		}
		PTUP r51 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99_17))->cells[4]);
		PTUP v52;
		PTUP v53;
		bool v54 = mw_mirth_data_Tag_patZ_neededZAsk(branch_ZPlusMirth_16, r51, branch_Tag_15, &v52, &v53);
		((TUP*)PTRPTR(branch_ZPlusC99_17))->cells[4] = MKTUP(v53);
		uint64_t branch_Tag_55;
		PTUP branch_ZPlusMirth_56;
		PTUP branch_ZPlusC99_57;
		if (v54) {
			PTUP v58;
			PTUP v59;
			PTUP v60 = mw_mirth_data_Tag_patZ_c99Z_api(v52, branch_ZPlusC99_17, branch_Tag_15, &v58, &v59);
			PTUP v61;
			PTUP v62;
			PTUP v63 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp96(v60, v58, v59, &v61, &v62);
			INT v64 = value_nat(((TUP*)PTRPTR(v62))->cells[1]);
			incref(MKNAT(v64));
			INT v65 = WRAP_I63(1LL);
			INT v66 = v64;
			INT v67 = v65;
			INT v68 = int_add(v66, v67);
			INT v69 = v68;
			INT v70 = value_nat(((TUP*)PTRPTR(v62))->cells[1]);
			decref(MKNAT(v70));
			((TUP*)PTRPTR(v62))->cells[1] = MKNAT(v69);
			incref(MKTUP(v63));
			PTUP v71;
			PTUP v72;
			mw_mirth_c99_c99Z_apiZ_enterZBang(v61, v62, v63, &v71, &v72);
			PTUP v73;
			PTUP v74;
			mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang(v71, v72, branch_Tag_15, &v73, &v74);
			PTUP v75;
			PTUP v76;
			mw_mirth_c99_c99Z_apiZ_exitZBang(v73, v74, v63, &v75, &v76);
			INT v77 = value_nat(((TUP*)PTRPTR(v76))->cells[1]);
			incref(MKNAT(v77));
			INT v78 = WRAP_I63(1LL);
			INT v79 = v77;
			INT v80 = v78;
			INT v81 = int_sub(v79, v80);
			incref(MKINT(v81));
			INT v82 = WRAP_I63(0LL);
			INT v83 = v82;
			bool v84 = int_le(v83, v81);
			INT branch_Nat_85;
			if (v84) {
				INT v86 = v81;
				branch_Nat_85 = v86;
			} else {
				decref(MKINT(v81));
				INT v87 = WRAP_I63(0LL);
				branch_Nat_85 = v87;
			}
			INT v88 = value_nat(((TUP*)PTRPTR(v76))->cells[1]);
			decref(MKNAT(v88));
			((TUP*)PTRPTR(v76))->cells[1] = MKNAT(branch_Nat_85);
			PTUP v89;
			PTUP v90;
			mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v75, v76, &v89, &v90);
			branch_ZPlusC99_57 = v90;
			branch_ZPlusMirth_56 = v89;
			branch_Tag_55 = branch_Tag_15;
		} else {
			branch_ZPlusC99_57 = branch_ZPlusC99_17;
			branch_ZPlusMirth_56 = v52;
			branch_Tag_55 = branch_Tag_15;
		}
		branch_Tag_10 = branch_Tag_55;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_56;
		branch_ZPlusC99_8 = branch_ZPlusC99_57;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static STR* mw_mirth_c99_popZ_stackZ_partZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackTypePart_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v7;
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_popZ_stackZ_partZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_StackTypePart_3, &v7, &v8, &v9);
	STR* branch_Str_10;
	switch (PTREXTRA(v9)) {
		case 0LL: { // +Left
			VAL v11;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(v9, &v11);
			STR* v12 = mw_mirth_c99_ZPlusC99Value_consume(VTUP(v11));
			branch_Str_10 = v12;
		} break;
		case 1LL: { // +Right
			VAL v13;
			mtp_std_either_ZPlusEither_2_ZPlusRight(v9, &v13);
			STR* v14 = mw_mirth_c99_ZPlusC99Resource_consume(VTUP(v13));
			branch_Str_10 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return branch_Str_10;
}
static void mw_mirth_c99_popZ_stackZ_partZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackTypePart_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99ValueZDivResource_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusC99Branch_8;
	PTUP branch_ZPlusC99ValueZDivResource_9;
	switch (PTREXTRA(in_StackTypePart_3)) {
		case 1LL: { // ConsLabel
			uint64_t v10;
			PTUP v11 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_3, &v10);
			PTUP v12;
			PTUP v13;
			PTUP v14 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v11, &v12, &v13);
			PTUP v15;
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v12, v13, v14, v10, &v15, &v16, &v17);
			PTUP v18;
			mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v17, &v18);
			branch_ZPlusC99ValueZDivResource_9 = v18;
			branch_ZPlusC99Branch_8 = v16;
			branch_ZPlusMirth_7 = v15;
		} break;
		case 3LL: { // WithLabel
			uint64_t v19;
			PTUP v20 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_3, &v19);
			PTUP v21;
			PTUP v22;
			PTUP v23 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v20, &v21, &v22);
			PTUP v24;
			PTUP v25;
			PTUP v26;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v21, v22, v23, v19, &v24, &v25, &v26);
			PTUP v27;
			mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v26, &v27);
			branch_ZPlusC99ValueZDivResource_9 = v27;
			branch_ZPlusC99Branch_8 = v25;
			branch_ZPlusMirth_7 = v24;
		} break;
		case 0LL: { // Cons
			PTUP v28 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_3);
			PTUP v29;
			PTUP v30;
			PTUP v31 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v28, &v29, &v30);
			PTUP v32;
			PTUP v33;
			PTUP v34;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v29, v30, v31, &v32, &v33, &v34);
			PTUP v35;
			mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v34, &v35);
			branch_ZPlusC99ValueZDivResource_9 = v35;
			branch_ZPlusC99Branch_8 = v33;
			branch_ZPlusMirth_7 = v32;
		} break;
		case 2LL: { // With
			PTUP v36 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_3);
			PTUP v37;
			PTUP v38;
			PTUP v39 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v36, &v37, &v38);
			PTUP v40;
			PTUP v41;
			PTUP v42;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v37, v38, v39, &v40, &v41, &v42);
			PTUP v43;
			mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v42, &v43);
			branch_ZPlusC99ValueZDivResource_9 = v43;
			branch_ZPlusC99Branch_8 = v41;
			branch_ZPlusMirth_7 = v40;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99ValueZDivResource_6 = branch_ZPlusC99ValueZDivResource_9;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_c99Z_tagZ_bodyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_semiZ_transparentZAsk(in_ZPlusMirth_1, in_Tag_3, &v6);
	uint64_t branch_Tag_8;
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			PTUP v12 = VTUP(((TUP*)PTRPTR(VTUP(v11)))->cells[1]);
			incref(MKTUP(v12));
			decref(MKTUP(VTUP(v11)));
			PTUP v13;
			PTUP v14;
			PTUP v15;
			mw_mirth_c99_popZ_stackZ_partZBang(v6, in_ZPlusC99Branch_2, v12, &v13, &v14, &v15);
			PTUP v16;
			uint64_t v17 = mw_mirth_data_Tag_data(v13, in_Tag_3, &v16);
			PTUP v18 = mtw_mirth_c99_C99ReprType_Data(v17);
			PTUP v19;
			mw_mirth_c99_ZPlusC99ValueZDivResource_valueZDivresourceZ_reprZBang(v18, v15, &v19);
			PTUP v20;
			bool v21 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v16, in_Tag_3, &v20);
			uint64_t branch_Tag_22;
			PTUP branch_ZPlusMirth_23;
			PTUP branch_ZPlusC99Branch_24;
			if (v21) {
				PTUP v25;
				mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang(v19, &v25);
				PTUP v26;
				PTUP v27;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v20, v14, v25, &v26, &v27);
				branch_ZPlusC99Branch_24 = v27;
				branch_ZPlusMirth_23 = v26;
				branch_Tag_22 = in_Tag_3;
			} else {
				PTUP v28;
				mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_valueZBang(v19, &v28);
				PTUP v29;
				PTUP v30;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v20, v14, v28, &v29, &v30);
				branch_ZPlusC99Branch_24 = v30;
				branch_ZPlusMirth_23 = v29;
				branch_Tag_22 = in_Tag_3;
			}
			branch_ZPlusC99Branch_10 = branch_ZPlusC99Branch_24;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_23;
			branch_Tag_8 = branch_Tag_22;
		} break;
		case 0LL: { // None
			PTUP v31;
			INT v32 = mw_mirth_data_Tag_numZ_totalZ_inputs(v6, in_Tag_3, &v31);
			INT v33 = WRAP_I63(0LL);
			INT v34 = v33;
			INT v35 = v32;
			bool v36 = int_eq(v35, v34);
			uint64_t branch_Tag_37;
			PTUP branch_ZPlusMirth_38;
			PTUP branch_ZPlusC99Branch_39;
			if (v36) {
				PTUP v40;
				uint64_t v41 = mw_mirth_data_Tag_data(v31, in_Tag_3, &v40);
				PTUP v42;
				bool v43 = mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk(v40, v41, &v42);
				PTUP branch_ZPlusC99Branch_44;
				uint64_t branch_Tag_45;
				PTUP branch_ZPlusMirth_46;
				STR* branch_Str_47;
				STR* branch_Str_48;
				if (v43) {
					STR* v49;
					STRLIT(v49, "", 0);
					STR* v50;
					STRLIT(v50, "", 0);
					branch_Str_48 = v50;
					branch_Str_47 = v49;
					branch_ZPlusMirth_46 = v42;
					branch_Tag_45 = in_Tag_3;
					branch_ZPlusC99Branch_44 = in_ZPlusC99Branch_2;
				} else {
					STR* v51;
					STRLIT(v51, "PTRMK(", 6);
					STR* v52;
					STRLIT(v52, ",0,0)", 5);
					PTUP v53;
					mw_mirth_c99_c99Z_checkZ_tagZ_valueZBang(v42, in_Tag_3, &v53);
					branch_Str_48 = v52;
					branch_Str_47 = v51;
					branch_ZPlusMirth_46 = v53;
					branch_Tag_45 = in_Tag_3;
					branch_ZPlusC99Branch_44 = in_ZPlusC99Branch_2;
				}
				STR* v54;
				STRLIT(v54, "", 0);
				STR* v55;
				mw_std_str_ZPlusStr_pushZ_strZBang(branch_Str_47, v54, &v55);
				PTUP v56;
				STR* v57 = mw_mirth_data_Tag_valueZ_show(branch_ZPlusMirth_46, branch_Tag_45, &v56);
				STR* v58;
				mw_std_str_ZPlusStr_pushZ_strZBang(v57, v55, &v58);
				STR* v59;
				STRLIT(v59, "LL /* ", 6);
				STR* v60;
				mw_std_str_ZPlusStr_pushZ_strZBang(v59, v58, &v60);
				PTUP v61;
				STR* v62;
				mw_mirth_data_Tag_nameZThen(v56, v60, branch_Tag_45, &v61, &v62);
				STR* v63;
				STRLIT(v63, " */", 3);
				STR* v64;
				mw_std_str_ZPlusStr_pushZ_strZBang(v63, v62, &v64);
				STR* v65;
				mw_std_str_ZPlusStr_pushZ_strZBang(branch_Str_48, v64, &v65);
				PTUP v66;
				uint64_t v67 = mw_mirth_data_Tag_data(v61, branch_Tag_45, &v66);
				PTUP v68 = mtw_mirth_c99_C99ReprType_Data(v67);
				PTUP v69;
				bool v70 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v66, branch_Tag_45, &v69);
				uint64_t branch_Tag_71;
				PTUP branch_ZPlusMirth_72;
				PTUP branch_ZPlusC99Branch_73;
				if (v70) {
					incref(MKTUP(v68));
					PTUP v74;
					bool v75 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v69, v68, &v74);
					STR* branch_Str_76;
					PTUP branch_C99ReprType_77;
					bool branch_Bool_78;
					PTUP branch_ZPlusMirth_79;
					STR* branch_Str_80;
					PTUP branch_ZPlusC99Branch_81;
					if (v75) {
						PTUP r82 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_44))->cells[0]);
						PTUP v83;
						PTUP v84;
						STR* v85 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v74, r82, &v83, &v84);
						((TUP*)PTRPTR(branch_ZPlusC99Branch_44))->cells[0] = MKTUP(v84);
						branch_ZPlusC99Branch_81 = branch_ZPlusC99Branch_44;
						branch_Str_80 = v85;
						branch_ZPlusMirth_79 = v83;
						branch_Bool_78 = v75;
						branch_C99ReprType_77 = v68;
						branch_Str_76 = v65;
					} else {
						STR* v86;
						STRLIT(v86, "0", 1);
						branch_ZPlusC99Branch_81 = branch_ZPlusC99Branch_44;
						branch_Str_80 = v86;
						branch_ZPlusMirth_79 = v74;
						branch_Bool_78 = v75;
						branch_C99ReprType_77 = v68;
						branch_Str_76 = v65;
					}
					bool v87 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_81))->cells[3]);
					bool v88 = (branch_Bool_78 && v87);
					PTUP r89 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_81))->cells[0]);
					bool v90 = value_bool(((TUP*)PTRPTR(r89))->cells[3]);
					incref(MKBOOL(v90));
					bool v91 = (value_bool(MKBOOL(v88)) && value_bool(MKBOOL(v90)));
					((TUP*)PTRPTR(r89))->cells[3] = MKBOOL(v91);
					PTUP v92;
					PTUP v93;
					mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_79, r89, &v92, &v93);
					incref(MKTUP(branch_C99ReprType_77));
					PTUP v94;
					STR* v95 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v92, branch_C99ReprType_77, &v94);
					PTUP v96;
					PTUP v97;
					mw_mirth_c99_ZPlusC99_put(v94, v93, v95, &v96, &v97);
					STR* v98;
					STRLIT(v98, " ", 1);
					PTUP v99;
					PTUP v100;
					mw_mirth_c99_ZPlusC99_put(v96, v97, v98, &v99, &v100);
					incref(MKSTR(branch_Str_80));
					PTUP v101;
					PTUP v102;
					mw_mirth_c99_ZPlusC99_put(v99, v100, branch_Str_80, &v101, &v102);
					STR* v103;
					STRLIT(v103, " = ", 3);
					PTUP v104;
					PTUP v105;
					mw_mirth_c99_ZPlusC99_put(v101, v102, v103, &v104, &v105);
					PTUP v106;
					mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_77, branch_Str_80, &v106);
					PTUP v107;
					PTUP v108;
					mw_mirth_c99_ZPlusC99_put(v104, v105, branch_Str_76, &v107, &v108);
					STR* v109;
					STRLIT(v109, ";", 1);
					PTUP v110;
					PTUP v111;
					mw_mirth_c99_ZPlusC99_put(v107, v108, v109, &v110, &v111);
					PTUP v112;
					PTUP v113;
					mw_mirth_c99_ZPlusC99_line(v110, v111, &v112, &v113);
					((TUP*)PTRPTR(v113))->cells[3] = MKBOOL(value_bool(MKBOOL(v90)));
					((TUP*)PTRPTR(branch_ZPlusC99Branch_81))->cells[0] = MKTUP(v113);
					PTUP v114;
					PTUP v115;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v112, branch_ZPlusC99Branch_81, v106, &v114, &v115);
					branch_ZPlusC99Branch_73 = v115;
					branch_ZPlusMirth_72 = v114;
					branch_Tag_71 = branch_Tag_45;
				} else {
					incref(MKTUP(v68));
					PTUP v116;
					bool v117 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v69, v68, &v116);
					STR* branch_Str_118;
					PTUP branch_C99ReprType_119;
					bool branch_Bool_120;
					PTUP branch_ZPlusMirth_121;
					STR* branch_Str_122;
					PTUP branch_ZPlusC99Branch_123;
					if (v117) {
						PTUP r124 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_44))->cells[0]);
						PTUP v125;
						PTUP v126;
						STR* v127 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v116, r124, &v125, &v126);
						((TUP*)PTRPTR(branch_ZPlusC99Branch_44))->cells[0] = MKTUP(v126);
						branch_ZPlusC99Branch_123 = branch_ZPlusC99Branch_44;
						branch_Str_122 = v127;
						branch_ZPlusMirth_121 = v125;
						branch_Bool_120 = v117;
						branch_C99ReprType_119 = v68;
						branch_Str_118 = v65;
					} else {
						STR* v128;
						STRLIT(v128, "0", 1);
						branch_ZPlusC99Branch_123 = branch_ZPlusC99Branch_44;
						branch_Str_122 = v128;
						branch_ZPlusMirth_121 = v116;
						branch_Bool_120 = v117;
						branch_C99ReprType_119 = v68;
						branch_Str_118 = v65;
					}
					bool v129 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_123))->cells[3]);
					bool v130 = (branch_Bool_120 && v129);
					PTUP r131 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_123))->cells[0]);
					bool v132 = value_bool(((TUP*)PTRPTR(r131))->cells[3]);
					incref(MKBOOL(v132));
					bool v133 = (value_bool(MKBOOL(v130)) && value_bool(MKBOOL(v132)));
					((TUP*)PTRPTR(r131))->cells[3] = MKBOOL(v133);
					PTUP v134;
					PTUP v135;
					mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_121, r131, &v134, &v135);
					incref(MKTUP(branch_C99ReprType_119));
					PTUP v136;
					STR* v137 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v134, branch_C99ReprType_119, &v136);
					PTUP v138;
					PTUP v139;
					mw_mirth_c99_ZPlusC99_put(v136, v135, v137, &v138, &v139);
					STR* v140;
					STRLIT(v140, " ", 1);
					PTUP v141;
					PTUP v142;
					mw_mirth_c99_ZPlusC99_put(v138, v139, v140, &v141, &v142);
					incref(MKSTR(branch_Str_122));
					PTUP v143;
					PTUP v144;
					mw_mirth_c99_ZPlusC99_put(v141, v142, branch_Str_122, &v143, &v144);
					STR* v145;
					STRLIT(v145, " = ", 3);
					PTUP v146;
					PTUP v147;
					mw_mirth_c99_ZPlusC99_put(v143, v144, v145, &v146, &v147);
					PTUP v148;
					mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_119, branch_Str_122, &v148);
					PTUP v149;
					PTUP v150;
					mw_mirth_c99_ZPlusC99_put(v146, v147, branch_Str_118, &v149, &v150);
					STR* v151;
					STRLIT(v151, ";", 1);
					PTUP v152;
					PTUP v153;
					mw_mirth_c99_ZPlusC99_put(v149, v150, v151, &v152, &v153);
					PTUP v154;
					PTUP v155;
					mw_mirth_c99_ZPlusC99_line(v152, v153, &v154, &v155);
					((TUP*)PTRPTR(v155))->cells[3] = MKBOOL(value_bool(MKBOOL(v132)));
					((TUP*)PTRPTR(branch_ZPlusC99Branch_123))->cells[0] = MKTUP(v155);
					PTUP v156;
					PTUP v157;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v154, branch_ZPlusC99Branch_123, v148, &v156, &v157);
					branch_ZPlusC99Branch_73 = v157;
					branch_ZPlusMirth_72 = v156;
					branch_Tag_71 = branch_Tag_45;
				}
				branch_ZPlusC99Branch_39 = branch_ZPlusC99Branch_73;
				branch_ZPlusMirth_38 = branch_ZPlusMirth_72;
				branch_Tag_37 = branch_Tag_71;
			} else {
				PTUP v158;
				PTUP v159;
				PTUP v160;
				mw_mirth_c99_c99Z_packZ_tagZBang(v31, in_ZPlusC99Branch_2, in_Tag_3, &v158, &v159, &v160);
				PTUP v161;
				PTUP v162;
				mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang(v158, v159, v160, &v161, &v162);
				branch_ZPlusC99Branch_39 = v162;
				branch_ZPlusMirth_38 = v161;
				branch_Tag_37 = in_Tag_3;
			}
			branch_ZPlusC99Branch_10 = branch_ZPlusC99Branch_39;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_38;
			branch_Tag_8 = branch_Tag_37;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static STR* mw_mirth_c99_C99ReprType_cast (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4) {
	STR* v6;
	STRLIT(v6, "", 0);
	STR* v7;
	STRLIT(v7, "((", 2);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	PTUP v9;
	STR* v10 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_ZPlusMirth_1, in_C99ReprType_3, &v9);
	STR* v11;
	mw_std_str_ZPlusStr_pushZ_strZBang(v10, v8, &v11);
	STR* v12;
	STRLIT(v12, ")(", 2);
	STR* v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
	STR* v14;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v13, &v14);
	STR* v15;
	STRLIT(v15, "))", 2);
	STR* v16;
	mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
	*out_ZPlusMirth_4 = v9;
	return v16;
}
static void mw_mirth_c99_pushZ_stackZ_partZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP in_StackTypePart_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusC99Branch_8;
	switch (PTREXTRA(in_StackTypePart_4)) {
		case 1LL: { // ConsLabel
			uint64_t v9;
			PTUP v10 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_4, &v9);
			PTUP v11;
			PTUP v12;
			PTUP v13 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v10, &v11, &v12);
			incref(MKTUP(v13));
			PTUP v14;
			STR* v15 = mw_mirth_c99_C99ReprType_cast(v11, in_Str_3, v13, &v14);
			PTUP v16;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v13, v15, &v16);
			PTUP v17;
			PTUP v18;
			mw_mirth_c99_pushZ_valueZ_labelZBang(v14, v12, v9, v16, &v17, &v18);
			branch_ZPlusC99Branch_8 = v18;
			branch_ZPlusMirth_7 = v17;
		} break;
		case 3LL: { // WithLabel
			uint64_t v19;
			PTUP v20 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_4, &v19);
			PTUP v21;
			PTUP v22;
			PTUP v23 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v20, &v21, &v22);
			incref(MKTUP(v23));
			PTUP v24;
			STR* v25 = mw_mirth_c99_C99ReprType_cast(v21, in_Str_3, v23, &v24);
			PTUP v26;
			mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(v23, v25, &v26);
			PTUP v27;
			PTUP v28;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(v24, v22, v19, v26, &v27, &v28);
			branch_ZPlusC99Branch_8 = v28;
			branch_ZPlusMirth_7 = v27;
		} break;
		case 0LL: { // Cons
			PTUP v29 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_4);
			PTUP v30;
			PTUP v31;
			PTUP v32 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v29, &v30, &v31);
			incref(MKTUP(v32));
			PTUP v33;
			STR* v34 = mw_mirth_c99_C99ReprType_cast(v30, in_Str_3, v32, &v33);
			PTUP v35;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v32, v34, &v35);
			PTUP v36;
			PTUP v37;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v33, v31, v35, &v36, &v37);
			branch_ZPlusC99Branch_8 = v37;
			branch_ZPlusMirth_7 = v36;
		} break;
		case 2LL: { // With
			PTUP v38 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_4);
			PTUP v39;
			PTUP v40;
			PTUP v41 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v38, &v39, &v40);
			incref(MKTUP(v41));
			PTUP v42;
			STR* v43 = mw_mirth_c99_C99ReprType_cast(v39, in_Str_3, v41, &v42);
			PTUP v44;
			mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(v41, v43, &v44);
			PTUP v45;
			PTUP v46;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v42, v40, v44, &v45, &v46);
			branch_ZPlusC99Branch_8 = v46;
			branch_ZPlusMirth_7 = v45;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_pushZ_stackZ_partZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99ValueZDivResource_3, PTUP in_StackTypePart_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusC99Branch_8;
	switch (PTREXTRA(in_StackTypePart_4)) {
		case 1LL: { // ConsLabel
			uint64_t v9;
			PTUP v10 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_4, &v9);
			decref(MKTUP(v10));
			PTUP v11;
			mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_valueZBang(in_ZPlusC99ValueZDivResource_3, &v11);
			PTUP v12;
			PTUP v13;
			mw_mirth_c99_pushZ_valueZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v9)), v11, &v12, &v13);
			branch_ZPlusC99Branch_8 = v13;
			branch_ZPlusMirth_7 = v12;
		} break;
		case 3LL: { // WithLabel
			uint64_t v14;
			PTUP v15 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_4, &v14);
			decref(MKTUP(v15));
			PTUP v16;
			mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang(in_ZPlusC99ValueZDivResource_3, &v16);
			PTUP v17;
			PTUP v18;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v14)), v16, &v17, &v18);
			branch_ZPlusC99Branch_8 = v18;
			branch_ZPlusMirth_7 = v17;
		} break;
		case 0LL: { // Cons
			PTUP v19 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_4);
			decref(MKTUP(v19));
			PTUP v20;
			mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_valueZBang(in_ZPlusC99ValueZDivResource_3, &v20);
			PTUP v21;
			PTUP v22;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v20, &v21, &v22);
			branch_ZPlusC99Branch_8 = v22;
			branch_ZPlusMirth_7 = v21;
		} break;
		case 2LL: { // With
			PTUP v23 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_4);
			decref(MKTUP(v23));
			PTUP v24;
			mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang(in_ZPlusC99ValueZDivResource_3, &v24);
			PTUP v25;
			PTUP v26;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v24, &v25, &v26);
			branch_ZPlusC99Branch_8 = v26;
			branch_ZPlusMirth_7 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_semiZ_transparentZAsk(in_ZPlusMirth_1, in_Tag_3, &v6);
	uint64_t branch_Tag_8;
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			PTUP v12;
			uint64_t v13 = mw_mirth_data_Tag_data(v6, in_Tag_3, &v12);
			PTUP v14;
			PTUP v15;
			PTUP v16;
			mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v12, in_ZPlusC99Branch_2, v13, &v14, &v15, &v16);
			PTUP v17 = VTUP(((TUP*)PTRPTR(VTUP(v11)))->cells[1]);
			incref(MKTUP(v17));
			decref(MKTUP(VTUP(v11)));
			incref(MKTUP(v17));
			PTUP v18;
			PTUP v19 = mw_mirth_type_StackTypePart_c99Z_repr(v14, v17, &v18);
			PTUP v20;
			mw_mirth_c99_ZPlusC99ValueZDivResource_valueZDivresourceZ_reprZBang(v19, v16, &v20);
			PTUP v21;
			PTUP v22;
			mw_mirth_c99_pushZ_stackZ_partZBang(v18, v15, v20, v17, &v21, &v22);
			branch_ZPlusC99Branch_10 = v22;
			branch_ZPlusMirth_9 = v21;
			branch_Tag_8 = in_Tag_3;
		} break;
		case 0LL: { // None
			PTUP v23;
			INT v24 = mw_mirth_data_Tag_numZ_totalZ_inputs(v6, in_Tag_3, &v23);
			INT v25 = WRAP_I63(0LL);
			INT v26 = v25;
			INT v27 = v24;
			bool v28 = int_eq(v27, v26);
			uint64_t branch_Tag_29;
			PTUP branch_ZPlusMirth_30;
			PTUP branch_ZPlusC99Branch_31;
			if (v28) {
				PTUP v32;
				uint64_t v33 = mw_mirth_data_Tag_data(v23, in_Tag_3, &v32);
				PTUP v34;
				PTUP v35;
				PTUP v36;
				mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v32, in_ZPlusC99Branch_2, v33, &v34, &v35, &v36);
				mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop(v36);
				branch_ZPlusC99Branch_31 = v35;
				branch_ZPlusMirth_30 = v34;
				branch_Tag_29 = in_Tag_3;
			} else {
				PTUP v37;
				uint64_t v38 = mw_mirth_data_Tag_data(v23, in_Tag_3, &v37);
				PTUP v39;
				PTUP v40;
				PTUP v41;
				mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v37, in_ZPlusC99Branch_2, v38, &v39, &v40, &v41);
				PTUP v42;
				PTUP v43;
				mw_mirth_c99_c99Z_unpackZ_tagZBang(v39, v40, in_Tag_3, v41, &v42, &v43);
				branch_ZPlusC99Branch_31 = v43;
				branch_ZPlusMirth_30 = v42;
				branch_Tag_29 = in_Tag_3;
			}
			branch_ZPlusC99Branch_10 = branch_ZPlusC99Branch_31;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_30;
			branch_Tag_8 = branch_Tag_29;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_ZPlusC99_tagZ_valueZ_put (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	STR* v7 = mw_mirth_data_Tag_valueZ_show(in_ZPlusMirth_1, in_Tag_3, &v6);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99_put(v6, in_ZPlusC99_2, v7, &v8, &v9);
	STR* v10;
	STRLIT(v10, "LL /* ", 6);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_put(v8, v9, v10, &v11, &v12);
	PTUP v13;
	uint64_t v14 = mw_mirth_data_Tag_name(v11, in_Tag_3, &v13);
	PTUP v15;
	STR* v16 = mw_mirth_name_Name_ZToStr(v13, v14, &v15);
	PTUP v17;
	PTUP v18;
	mw_mirth_c99_ZPlusC99_put(v15, v12, v16, &v17, &v18);
	STR* v19;
	STRLIT(v19, " */", 3);
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v17, v18, v19, &v20, &v21);
	*out_ZPlusC99_5 = v21;
	*out_ZPlusMirth_4 = v20;
}
static void mw_mirth_c99_c99Z_checkZ_tagZ_valueZBang (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	PTUP v4;
	INT v5 = mw_mirth_data_Tag_value(in_ZPlusMirth_1, in_Tag_2, &v4);
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(65535LL);
	incref(MKINT(v5));
	bool v8 = int_le(v6, v5);
	bool branch_Bool_9;
	if (value_bool(MKBOOL(v8))) {
		bool v10 = int_le(value_int(MKINT(v5)), value_int(MKINT(v7)));
		branch_Bool_9 = v10;
	} else {
		decref(MKINT(value_int(MKINT(v7))));
		decref(MKINT(value_int(MKINT(v5))));
		bool v11 = false;
		branch_Bool_9 = v11;
	}
	PTUP branch_ZPlusMirth_12;
	if (branch_Bool_9) {
		branch_ZPlusMirth_12 = v4;
	} else {
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "Constructor ", 12);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		PTUP v16;
		STR* v17;
		mw_mirth_data_Tag_qnameZThen(v4, v15, in_Tag_2, &v16, &v17);
		STR* v18;
		STRLIT(v18, " enum value is out of range for C99 tuple representation (must be between 0 and 0xFFFF inclusive).", 98);
		STR* v19;
		mw_std_str_ZPlusStr_pushZ_strZBang(v18, v17, &v19);
		mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v16, v19);
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
}
static void mw_mirth_c99_c99Z_packZ_tagZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99ValueZDivResource_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_data_Tag_inputs(in_ZPlusMirth_1, in_Tag_3, &v7);
	PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Tag_3));
	PTUP v10;
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_c99Z_packZ_tupleZBang(v7, in_ZPlusC99Branch_2, v9, v8, &v10, &v11, &v12);
	PTUP v13;
	bool v14 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v10, in_Tag_3, &v13);
	uint64_t branch_Tag_15;
	PTUP branch_ZPlusC99Branch_16;
	PTUP branch_ZPlusMirth_17;
	PTUP branch_ZPlusC99ValueZDivResource_18;
	if (v14) {
		PTUP v19;
		mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v12, &v19);
		branch_ZPlusC99ValueZDivResource_18 = v19;
		branch_ZPlusMirth_17 = v13;
		branch_ZPlusC99Branch_16 = v11;
		branch_Tag_15 = in_Tag_3;
	} else {
		PTUP v20;
		mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v12, &v20);
		PTUP v21;
		mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v20, &v21);
		branch_ZPlusC99ValueZDivResource_18 = v21;
		branch_ZPlusMirth_17 = v13;
		branch_ZPlusC99Branch_16 = v11;
		branch_Tag_15 = in_Tag_3;
	}
	*out_ZPlusC99ValueZDivResource_6 = branch_ZPlusC99ValueZDivResource_18;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_16;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_17;
}
static void mw_mirth_c99_c99Z_packZ_tupleZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Maybe_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Resource_7) {
	incref(MKTUP(in_List_4));
	INT v8 = mw_std_list_List_1_len(in_List_4);
	incref(MKTUP(in_Maybe_3));
	PTUP branch_ZPlusMirth_9;
	VAL branch_z_x1_10;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			PTUP v12;
			mw_mirth_c99_c99Z_checkZ_tagZ_valueZBang(in_ZPlusMirth_1, value_u64(v11), &v12);
			branch_z_x1_10 = MKTUP(in_ZPlusC99Branch_2);
			branch_ZPlusMirth_9 = v12;
		} break;
		case 0LL: { // None
			branch_z_x1_10 = MKTUP(in_ZPlusC99Branch_2);
			branch_ZPlusMirth_9 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKTUP(in_Maybe_3));
	VAL branch_z_x1_13;
	PTUP branch_ZPlusMirth_14;
	PTUP branch_C99ReprType_15;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			PTUP v17;
			uint64_t v18 = mw_mirth_data_Tag_data(branch_ZPlusMirth_9, value_u64(v16), &v17);
			PTUP v19 = mtw_mirth_c99_C99ReprType_Data(v18);
			branch_C99ReprType_15 = v19;
			branch_ZPlusMirth_14 = v17;
			branch_z_x1_13 = branch_z_x1_10;
		} break;
		case 0LL: { // None
			PTUP v20 = PTRMK(4LL /* TUP */,0,0);
			branch_C99ReprType_15 = v20;
			branch_ZPlusMirth_14 = branch_ZPlusMirth_9;
			branch_z_x1_13 = branch_z_x1_10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKTUP(branch_C99ReprType_15));
	PTUP v21;
	bool v22 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(branch_ZPlusMirth_14, branch_C99ReprType_15, &v21);
	INT branch_Nat_23;
	PTUP branch_Maybe_24;
	PTUP branch_C99ReprType_25;
	bool branch_Bool_26;
	PTUP branch_ZPlusMirth_27;
	STR* branch_Str_28;
	PTUP branch_ZPlusC99Branch_29;
	if (v22) {
		PTUP r30 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x1_13)))->cells[0]);
		PTUP v31;
		PTUP v32;
		STR* v33 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v21, r30, &v31, &v32);
		((TUP*)PTRPTR(VTUP(branch_z_x1_13)))->cells[0] = MKTUP(v32);
		branch_ZPlusC99Branch_29 = VTUP(branch_z_x1_13);
		branch_Str_28 = v33;
		branch_ZPlusMirth_27 = v31;
		branch_Bool_26 = v22;
		branch_C99ReprType_25 = branch_C99ReprType_15;
		branch_Maybe_24 = in_Maybe_3;
		branch_Nat_23 = v8;
	} else {
		STR* v34;
		STRLIT(v34, "0", 1);
		branch_ZPlusC99Branch_29 = VTUP(branch_z_x1_13);
		branch_Str_28 = v34;
		branch_ZPlusMirth_27 = v21;
		branch_Bool_26 = v22;
		branch_C99ReprType_25 = branch_C99ReprType_15;
		branch_Maybe_24 = in_Maybe_3;
		branch_Nat_23 = v8;
	}
	bool v35 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_29))->cells[3]);
	bool v36 = (branch_Bool_26 && v35);
	PTUP r37 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_29))->cells[0]);
	bool v38 = value_bool(((TUP*)PTRPTR(r37))->cells[3]);
	incref(MKBOOL(v38));
	bool v39 = (value_bool(MKBOOL(v36)) && value_bool(MKBOOL(v38)));
	((TUP*)PTRPTR(r37))->cells[3] = MKBOOL(v39);
	PTUP v40;
	PTUP v41;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_27, r37, &v40, &v41);
	incref(MKTUP(branch_C99ReprType_25));
	PTUP v42;
	STR* v43 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v40, branch_C99ReprType_25, &v42);
	PTUP v44;
	PTUP v45;
	mw_mirth_c99_ZPlusC99_put(v42, v41, v43, &v44, &v45);
	STR* v46;
	STRLIT(v46, " ", 1);
	PTUP v47;
	PTUP v48;
	mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
	incref(MKSTR(branch_Str_28));
	PTUP v49;
	PTUP v50;
	mw_mirth_c99_ZPlusC99_put(v47, v48, branch_Str_28, &v49, &v50);
	STR* v51;
	STRLIT(v51, " = ", 3);
	PTUP v52;
	PTUP v53;
	mw_mirth_c99_ZPlusC99_put(v49, v50, v51, &v52, &v53);
	PTUP v54;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_25, branch_Str_28, &v54);
	STR* v55;
	STRLIT(v55, "PTRMK(", 6);
	PTUP v56;
	PTUP v57;
	mw_mirth_c99_ZPlusC99_put(v52, v53, v55, &v56, &v57);
	incref(MKTUP(branch_Maybe_24));
	PTUP branch_ZPlusMirth_58;
	PTUP branch_ZPlusC99_59;
	switch (PTREXTRA(branch_Maybe_24)) {
		case 1LL: { // Some
			VAL v60 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_24);
			PTUP v61;
			PTUP v62;
			mw_mirth_c99_ZPlusC99_tagZ_valueZ_put(v56, v57, value_u64(v60), &v61, &v62);
			branch_ZPlusC99_59 = v62;
			branch_ZPlusMirth_58 = v61;
		} break;
		case 0LL: { // None
			STR* v63;
			STRLIT(v63, "0", 1);
			PTUP v64;
			PTUP v65;
			mw_mirth_c99_ZPlusC99_put(v56, v57, v63, &v64, &v65);
			branch_ZPlusC99_59 = v65;
			branch_ZPlusMirth_58 = v64;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v66;
	STRLIT(v66, ",", 1);
	PTUP v67;
	PTUP v68;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_58, branch_ZPlusC99_59, v66, &v67, &v68);
	STR* v69;
	STRLIT(v69, "tup_new(", 8);
	PTUP v70;
	PTUP v71;
	mw_mirth_c99_ZPlusC99_put(v67, v68, v69, &v70, &v71);
	incref(MKNAT(branch_Nat_23));
	INT v72 = branch_Nat_23;
	STR* v73 = int_to_str(v72);
	PTUP v74;
	PTUP v75;
	mw_mirth_c99_ZPlusC99_put(v70, v71, v73, &v74, &v75);
	STR* v76;
	STRLIT(v76, "),0)", 4);
	PTUP v77;
	PTUP v78;
	mw_mirth_c99_ZPlusC99_put(v74, v75, v76, &v77, &v78);
	STR* v79;
	STRLIT(v79, ";", 1);
	PTUP v80;
	PTUP v81;
	mw_mirth_c99_ZPlusC99_put(v77, v78, v79, &v80, &v81);
	PTUP v82;
	PTUP v83;
	mw_mirth_c99_ZPlusC99_line(v80, v81, &v82, &v83);
	((TUP*)PTRPTR(v83))->cells[3] = MKBOOL(value_bool(MKBOOL(v38)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_29))->cells[0] = MKTUP(v83);
	STR* v84;
	STRLIT(v84, "", 0);
	STR* v85;
	STRLIT(v85, "((TUP*)PTRPTR(", 14);
	STR* v86;
	mw_std_str_ZPlusStr_pushZ_strZBang(v85, v84, &v86);
	STR* v87 = value_str(((TUP*)PTRPTR(v54))->cells[1]);
	incref(MKSTR(v87));
	STR* v88;
	mw_std_str_ZPlusStr_pushZ_strZBang(v87, v86, &v88);
	STR* v89;
	STRLIT(v89, "))", 2);
	STR* v90;
	mw_std_str_ZPlusStr_pushZ_strZBang(v89, v88, &v90);
	bool v91 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_29))->cells[3]);
	PTUP r92 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_29))->cells[0]);
	bool v93 = value_bool(((TUP*)PTRPTR(r92))->cells[3]);
	incref(MKBOOL(v93));
	bool v94 = (value_bool(MKBOOL(v91)) && value_bool(MKBOOL(v93)));
	((TUP*)PTRPTR(r92))->cells[3] = MKBOOL(v94);
	PTUP v95;
	PTUP v96;
	mw_mirth_c99_ZPlusC99_indent(v82, r92, &v95, &v96);
	incref(MKSTR(v90));
	PTUP v97;
	PTUP v98;
	mw_mirth_c99_ZPlusC99_put(v95, v96, v90, &v97, &v98);
	STR* v99;
	STRLIT(v99, "->size = ", 9);
	PTUP v100;
	PTUP v101;
	mw_mirth_c99_ZPlusC99_put(v97, v98, v99, &v100, &v101);
	incref(MKNAT(branch_Nat_23));
	INT v102 = branch_Nat_23;
	STR* v103 = int_to_str(v102);
	PTUP v104;
	PTUP v105;
	mw_mirth_c99_ZPlusC99_put(v100, v101, v103, &v104, &v105);
	STR* v106;
	STRLIT(v106, ";", 1);
	PTUP v107;
	PTUP v108;
	mw_mirth_c99_ZPlusC99_put(v104, v105, v106, &v107, &v108);
	PTUP v109;
	PTUP v110;
	mw_mirth_c99_ZPlusC99_line(v107, v108, &v109, &v110);
	((TUP*)PTRPTR(v110))->cells[3] = MKBOOL(value_bool(MKBOOL(v93)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_29))->cells[0] = MKTUP(v110);
	INT v111 = WRAP_I63(1LL);
	INT v112 = branch_Nat_23;
	INT v113 = v111;
	INT v114 = int_sub(v112, v113);
	incref(MKINT(v114));
	INT v115 = WRAP_I63(0LL);
	INT v116 = v115;
	bool v117 = int_le(v116, v114);
	INT branch_Nat_118;
	if (v117) {
		INT v119 = v114;
		branch_Nat_118 = v119;
	} else {
		decref(MKINT(v114));
		INT v120 = WRAP_I63(0LL);
		branch_Nat_118 = v120;
	}
	PTUP v121 = mw_std_list_List_1_reverse(in_List_4);
	bool v122 = true;
	INT v123 = branch_Nat_118;
	STR* v124 = v90;
	PTUP r125 = v109;
	PTUP r126 = branch_ZPlusC99Branch_29;
	PTUP v127 = v121;
	bool v128 = v122;
	bool v129 = v122;
	while (v129) {
		INT v130 = v123;
		STR* v131 = v124;
		PTUP r132 = r125;
		PTUP r133 = r126;
		PTUP v134 = v127;
		bool v135 = v128;
		STR* branch_Str_136;
		PTUP branch_ZPlusMirth_137;
		PTUP branch_ZPlusC99Branch_138;
		INT branch_Nat_139;
		PTUP branch_List_140;
		bool branch_Bool_141;
		switch (PTREXTRA(v134)) {
			case 1LL: { // Cons
				PTUP v142;
				VAL v143 = mtp_std_list_List_1_Cons(v134, &v142);
				INT branch_Nat_144;
				STR* branch_Str_145;
				PTUP branch_ZPlusC99Branch_146;
				PTUP branch_ZPlusMirth_147;
				STR* branch_Str_148;
				switch (PTREXTRA(VTUP(v143))) {
					case 0LL: { // Cons
						PTUP v149 = mtp_mirth_type_StackTypePart_Cons(VTUP(v143));
						PTUP v150;
						PTUP v151;
						PTUP v152 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(r132, r133, v149, &v150, &v151);
						PTUP v153;
						PTUP v154;
						PTUP v155;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v150, v151, v152, &v153, &v154, &v155);
						PTUP v156;
						STR* v157 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v153, v155, &v156);
						branch_Str_148 = v157;
						branch_ZPlusMirth_147 = v156;
						branch_ZPlusC99Branch_146 = v154;
						branch_Str_145 = v131;
						branch_Nat_144 = v130;
					} break;
					case 2LL: { // With
						PTUP v158 = mtp_mirth_type_StackTypePart_With(VTUP(v143));
						PTUP v159;
						PTUP v160;
						PTUP v161 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(r132, r133, v158, &v159, &v160);
						PTUP v162;
						PTUP v163;
						PTUP v164;
						mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v159, v160, v161, &v162, &v163, &v164);
						PTUP v165;
						STR* v166 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v162, v164, &v165);
						branch_Str_148 = v166;
						branch_ZPlusMirth_147 = v165;
						branch_ZPlusC99Branch_146 = v163;
						branch_Str_145 = v131;
						branch_Nat_144 = v130;
					} break;
					case 1LL: { // ConsLabel
						uint64_t v167;
						PTUP v168 = mtp_mirth_type_StackTypePart_ConsLabel(VTUP(v143), &v167);
						PTUP v169;
						PTUP v170;
						PTUP v171 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(r132, r133, v168, &v169, &v170);
						PTUP v172;
						PTUP v173;
						PTUP v174;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v169, v170, v171, v167, &v172, &v173, &v174);
						PTUP v175;
						STR* v176 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v172, v174, &v175);
						branch_Str_148 = v176;
						branch_ZPlusMirth_147 = v175;
						branch_ZPlusC99Branch_146 = v173;
						branch_Str_145 = v131;
						branch_Nat_144 = v130;
					} break;
					case 3LL: { // WithLabel
						uint64_t v177;
						PTUP v178 = mtp_mirth_type_StackTypePart_WithLabel(VTUP(v143), &v177);
						PTUP v179;
						PTUP v180;
						PTUP v181 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(r132, r133, v178, &v179, &v180);
						PTUP v182;
						PTUP v183;
						PTUP v184;
						mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v179, v180, v181, v177, &v182, &v183, &v184);
						PTUP v185;
						STR* v186 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v182, v184, &v185);
						branch_Str_148 = v186;
						branch_ZPlusMirth_147 = v185;
						branch_ZPlusC99Branch_146 = v183;
						branch_Str_145 = v131;
						branch_Nat_144 = v130;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v187 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_146))->cells[3]);
				PTUP r188 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_146))->cells[0]);
				bool v189 = value_bool(((TUP*)PTRPTR(r188))->cells[3]);
				incref(MKBOOL(v189));
				bool v190 = (value_bool(MKBOOL(v187)) && value_bool(MKBOOL(v189)));
				((TUP*)PTRPTR(r188))->cells[3] = MKBOOL(v190);
				PTUP v191;
				PTUP v192;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_147, r188, &v191, &v192);
				incref(MKSTR(branch_Str_145));
				PTUP v193;
				PTUP v194;
				mw_mirth_c99_ZPlusC99_put(v191, v192, branch_Str_145, &v193, &v194);
				STR* v195;
				STRLIT(v195, "->cells[", 8);
				PTUP v196;
				PTUP v197;
				mw_mirth_c99_ZPlusC99_put(v193, v194, v195, &v196, &v197);
				incref(MKNAT(branch_Nat_144));
				INT v198 = branch_Nat_144;
				STR* v199 = int_to_str(v198);
				PTUP v200;
				PTUP v201;
				mw_mirth_c99_ZPlusC99_put(v196, v197, v199, &v200, &v201);
				STR* v202;
				STRLIT(v202, "] = ", 4);
				PTUP v203;
				PTUP v204;
				mw_mirth_c99_ZPlusC99_put(v200, v201, v202, &v203, &v204);
				PTUP v205;
				PTUP v206;
				mw_mirth_c99_ZPlusC99_put(v203, v204, branch_Str_148, &v205, &v206);
				STR* v207;
				STRLIT(v207, ";", 1);
				PTUP v208;
				PTUP v209;
				mw_mirth_c99_ZPlusC99_put(v205, v206, v207, &v208, &v209);
				PTUP v210;
				PTUP v211;
				mw_mirth_c99_ZPlusC99_line(v208, v209, &v210, &v211);
				((TUP*)PTRPTR(v211))->cells[3] = MKBOOL(value_bool(MKBOOL(v189)));
				((TUP*)PTRPTR(branch_ZPlusC99Branch_146))->cells[0] = MKTUP(v211);
				INT v212 = WRAP_I63(1LL);
				INT v213 = branch_Nat_144;
				INT v214 = v212;
				INT v215 = int_sub(v213, v214);
				incref(MKINT(v215));
				INT v216 = WRAP_I63(0LL);
				INT v217 = v216;
				bool v218 = int_le(v217, v215);
				INT branch_Nat_219;
				if (v218) {
					INT v220 = v215;
					branch_Nat_219 = v220;
				} else {
					decref(MKINT(v215));
					INT v221 = WRAP_I63(0LL);
					branch_Nat_219 = v221;
				}
				bool v222 = true;
				branch_Bool_141 = v222;
				branch_List_140 = v142;
				branch_Nat_139 = branch_Nat_219;
				branch_ZPlusC99Branch_138 = branch_ZPlusC99Branch_146;
				branch_ZPlusMirth_137 = v210;
				branch_Str_136 = branch_Str_145;
			} break;
			case 0LL: { // Nil
				PTUP v223 = PTRMK(0LL /* Nil */,0,0);
				bool v224 = false;
				branch_Bool_141 = v224;
				branch_List_140 = v223;
				branch_Nat_139 = v130;
				branch_ZPlusC99Branch_138 = r133;
				branch_ZPlusMirth_137 = r132;
				branch_Str_136 = v131;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v129 = branch_Bool_141;
		v128 = branch_Bool_141;
		v127 = branch_List_140;
		r126 = branch_ZPlusC99Branch_138;
		r125 = branch_ZPlusMirth_137;
		v124 = branch_Str_136;
		v123 = branch_Nat_139;
	}
	decref(MKTUP(v127));
	decref(MKTUP(branch_Maybe_24));
	decref(MKNAT(v123));
	decref(MKSTR(v124));
	*out_ZPlusC99Resource_7 = v54;
	*out_ZPlusC99Branch_6 = r126;
	*out_ZPlusMirth_5 = r125;
}
static void mw_mirth_c99_c99Z_unpackZ_tagZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP in_ZPlusC99ValueZDivResource_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7;
	PTUP v8 = mw_mirth_data_Tag_inputs(in_ZPlusMirth_1, in_Tag_3, &v7);
	PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Tag_3));
	PTUP v10;
	mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang(in_ZPlusC99ValueZDivResource_4, &v10);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_c99Z_unpackZ_tupleZBang(v7, in_ZPlusC99Branch_2, v10, v9, v8, &v11, &v12);
	*out_ZPlusC99Branch_6 = v12;
	*out_ZPlusMirth_5 = v11;
}
static void mw_mirth_c99_c99Z_unpackZ_tupleZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP in_Maybe_4, PTUP in_List_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7) {
	VAL branch_z_x1_8;
	VAL branch_z_x2_9;
	PTUP branch_ZPlusMirth_10;
	PTUP branch_C99ReprType_11;
	switch (PTREXTRA(in_Maybe_4)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(in_Maybe_4);
			PTUP v13;
			uint64_t v14 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, value_u64(v12), &v13);
			PTUP v15 = mtw_mirth_c99_C99ReprType_Data(v14);
			branch_C99ReprType_11 = v15;
			branch_ZPlusMirth_10 = v13;
			branch_z_x2_9 = MKTUP(in_ZPlusC99Resource_3);
			branch_z_x1_8 = MKTUP(in_ZPlusC99Branch_2);
		} break;
		case 0LL: { // None
			PTUP v16 = PTRMK(4LL /* TUP */,0,0);
			branch_C99ReprType_11 = v16;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
			branch_z_x2_9 = MKTUP(in_ZPlusC99Resource_3);
			branch_z_x1_8 = MKTUP(in_ZPlusC99Branch_2);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v17;
	STR* v18 = mw_mirth_c99_ZPlusC99Resource_consumeZ_as(branch_ZPlusMirth_10, branch_C99ReprType_11, VTUP(branch_z_x2_9), &v17);
	STR* v19;
	STRLIT(v19, "", 0);
	STR* v20;
	STRLIT(v20, "((TUP*)PTRPTR(", 14);
	STR* v21;
	mw_std_str_ZPlusStr_pushZ_strZBang(v20, v19, &v21);
	incref(MKSTR(v18));
	STR* v22;
	mw_std_str_ZPlusStr_pushZ_strZBang(v18, v21, &v22);
	STR* v23;
	STRLIT(v23, "))", 2);
	STR* v24;
	mw_std_str_ZPlusStr_pushZ_strZBang(v23, v22, &v24);
	INT v25 = WRAP_I63(0LL);
	bool v26 = true;
	PTUP r27 = VTUP(branch_z_x1_8);
	PTUP r28 = v17;
	INT v29 = v25;
	STR* v30 = v24;
	PTUP v31 = in_List_5;
	bool v32 = v26;
	bool v33 = v26;
	while (v33) {
		PTUP r34 = r27;
		PTUP r35 = r28;
		INT v36 = v29;
		STR* v37 = v30;
		PTUP v38 = v31;
		bool v39 = v32;
		STR* branch_Str_40;
		INT branch_Int_41;
		PTUP branch_ZPlusC99Branch_42;
		PTUP branch_ZPlusMirth_43;
		PTUP branch_List_44;
		bool branch_Bool_45;
		switch (PTREXTRA(v38)) {
			case 1LL: { // Cons
				PTUP v46;
				VAL v47 = mtp_std_list_List_1_Cons(v38, &v46);
				STR* v48;
				STRLIT(v48, "", 0);
				incref(MKSTR(v37));
				STR* v49;
				mw_std_str_ZPlusStr_pushZ_strZBang(v37, v48, &v49);
				STR* v50;
				STRLIT(v50, "->cells[", 8);
				STR* v51;
				mw_std_str_ZPlusStr_pushZ_strZBang(v50, v49, &v51);
				incref(MKINT(v36));
				STR* v52 = int_to_str(v36);
				STR* v53;
				mw_std_str_ZPlusStr_pushZ_strZBang(v52, v51, &v53);
				STR* v54;
				STRLIT(v54, "]", 1);
				STR* v55;
				mw_std_str_ZPlusStr_pushZ_strZBang(v54, v53, &v55);
				STR* branch_Str_56;
				INT branch_Int_57;
				PTUP branch_ZPlusMirth_58;
				PTUP branch_ZPlusC99Branch_59;
				switch (PTREXTRA(VTUP(v47))) {
					case 0LL: { // Cons
						PTUP v60 = mtp_mirth_type_StackTypePart_Cons(VTUP(v47));
						PTUP v61;
						PTUP v62;
						PTUP v63 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(r35, r34, v60, &v61, &v62);
						incref(MKTUP(v63));
						PTUP v64;
						PTUP v65;
						PTUP v66;
						mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp6(v55, v63, v61, v62, v63, &v64, &v65, &v66);
						PTUP v67;
						PTUP v68;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v64, v65, v66, &v67, &v68);
						branch_ZPlusC99Branch_59 = v68;
						branch_ZPlusMirth_58 = v67;
						branch_Int_57 = v36;
						branch_Str_56 = v37;
					} break;
					case 2LL: { // With
						PTUP v69 = mtp_mirth_type_StackTypePart_With(VTUP(v47));
						PTUP v70;
						PTUP v71;
						PTUP v72 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(r35, r34, v69, &v70, &v71);
						incref(MKTUP(v72));
						PTUP v73;
						PTUP v74;
						PTUP v75;
						mw_mirth_c99_C99ReprType_resourceZ_expressionZBang_1_sp4(v55, v72, v70, v71, v72, &v73, &v74, &v75);
						PTUP v76;
						PTUP v77;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v73, v74, v75, &v76, &v77);
						branch_ZPlusC99Branch_59 = v77;
						branch_ZPlusMirth_58 = v76;
						branch_Int_57 = v36;
						branch_Str_56 = v37;
					} break;
					case 1LL: { // ConsLabel
						uint64_t v78;
						PTUP v79 = mtp_mirth_type_StackTypePart_ConsLabel(VTUP(v47), &v78);
						PTUP v80;
						PTUP v81;
						PTUP v82 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(r35, r34, v79, &v80, &v81);
						incref(MKTUP(v82));
						PTUP v83;
						PTUP v84;
						PTUP v85;
						mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp6(v55, v82, v80, v81, v82, &v83, &v84, &v85);
						PTUP v86;
						PTUP v87;
						mw_mirth_c99_pushZ_valueZ_labelZBang(v83, v84, v78, v85, &v86, &v87);
						branch_ZPlusC99Branch_59 = v87;
						branch_ZPlusMirth_58 = v86;
						branch_Int_57 = v36;
						branch_Str_56 = v37;
					} break;
					case 3LL: { // WithLabel
						uint64_t v88;
						PTUP v89 = mtp_mirth_type_StackTypePart_WithLabel(VTUP(v47), &v88);
						PTUP v90;
						PTUP v91;
						PTUP v92 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(r35, r34, v89, &v90, &v91);
						incref(MKTUP(v92));
						PTUP v93;
						PTUP v94;
						PTUP v95;
						mw_mirth_c99_C99ReprType_resourceZ_expressionZBang_1_sp4(v55, v92, v90, v91, v92, &v93, &v94, &v95);
						PTUP v96;
						PTUP v97;
						mw_mirth_c99_pushZ_resourceZ_labelZBang(v93, v94, v88, v95, &v96, &v97);
						branch_ZPlusC99Branch_59 = v97;
						branch_ZPlusMirth_58 = v96;
						branch_Int_57 = v36;
						branch_Str_56 = v37;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				INT v98 = WRAP_I63(1LL);
				INT v99 = v98;
				INT v100 = int_add(branch_Int_57, v99);
				bool v101 = true;
				branch_Bool_45 = v101;
				branch_List_44 = v46;
				branch_ZPlusMirth_43 = branch_ZPlusMirth_58;
				branch_ZPlusC99Branch_42 = branch_ZPlusC99Branch_59;
				branch_Int_41 = v100;
				branch_Str_40 = branch_Str_56;
			} break;
			case 0LL: { // Nil
				PTUP v102 = PTRMK(0LL /* Nil */,0,0);
				bool v103 = false;
				branch_Bool_45 = v103;
				branch_List_44 = v102;
				branch_ZPlusMirth_43 = r35;
				branch_ZPlusC99Branch_42 = r34;
				branch_Int_41 = v36;
				branch_Str_40 = v37;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v33 = branch_Bool_45;
		v32 = branch_Bool_45;
		v31 = branch_List_44;
		v30 = branch_Str_40;
		v29 = branch_Int_41;
		r28 = branch_ZPlusMirth_43;
		r27 = branch_ZPlusC99Branch_42;
	}
	decref(MKTUP(v31));
	bool v104 = value_bool(((TUP*)PTRPTR(r27))->cells[3]);
	PTUP r105 = VTUP(((TUP*)PTRPTR(r27))->cells[0]);
	bool v106 = value_bool(((TUP*)PTRPTR(r105))->cells[3]);
	incref(MKBOOL(v106));
	bool v107 = (value_bool(MKBOOL(v104)) && value_bool(MKBOOL(v106)));
	((TUP*)PTRPTR(r105))->cells[3] = MKBOOL(v107);
	PTUP v108;
	PTUP v109;
	mw_mirth_c99_ZPlusC99_indent(r28, r105, &v108, &v109);
	STR* v110;
	STRLIT(v110, "tup_decref_outer(", 17);
	PTUP v111;
	PTUP v112;
	mw_mirth_c99_ZPlusC99_put(v108, v109, v110, &v111, &v112);
	incref(MKSTR(v18));
	PTUP v113;
	PTUP v114;
	mw_mirth_c99_ZPlusC99_put(v111, v112, v18, &v113, &v114);
	STR* v115;
	STRLIT(v115, ");", 2);
	PTUP v116;
	PTUP v117;
	mw_mirth_c99_ZPlusC99_put(v113, v114, v115, &v116, &v117);
	PTUP v118;
	PTUP v119;
	mw_mirth_c99_ZPlusC99_line(v116, v117, &v118, &v119);
	((TUP*)PTRPTR(v119))->cells[3] = MKBOOL(value_bool(MKBOOL(v106)));
	((TUP*)PTRPTR(r27))->cells[0] = MKTUP(v119);
	decref(MKINT(v29));
	decref(MKSTR(v30));
	decref(MKSTR(v18));
	*out_ZPlusC99Branch_7 = r27;
	*out_ZPlusMirth_6 = v118;
}
static INT mw_mirth_c99_c99Z_tagZ_labelZ_index (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6) {
	PTUP v8 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Label_4));
	PTUP v9;
	PTUP v10 = mw_mirth_data_Tag_inputs(in_ZPlusMirth_1, in_Tag_3, &v9);
	incref(MKTUP(v10));
	INT v11 = mw_std_list_List_1_len(v10);
	PTUP v12 = mw_std_list_List_1_reverse(v10);
	PTUP v13 = PTRMK(0LL /* None */,0,0);
	bool v14 = true;
	PTUP v15 = v8;
	INT v16 = v11;
	PTUP v17 = v13;
	PTUP v18 = v12;
	bool v19 = v14;
	bool v20 = v14;
	while (v20) {
		PTUP v21 = v15;
		INT v22 = v16;
		PTUP v23 = v17;
		PTUP v24 = v18;
		bool v25 = v19;
		PTUP v26;
		PTUP v27 = mw_std_list_List_1_uncons(v24, &v26);
		INT branch_Nat_28;
		PTUP branch_Maybe_29;
		PTUP branch_Maybe_30;
		PTUP branch_List_31;
		bool branch_Bool_32;
		switch (PTREXTRA(v27)) {
			case 1LL: { // Some
				VAL v33 = mtp_std_maybe_Maybe_1_Some(v27);
				incref(MKTUP(VTUP(v33)));
				INT v34 = WRAP_I63(1LL);
				INT v35 = v22;
				INT v36 = v34;
				INT v37 = int_sub(v35, v36);
				incref(MKINT(v37));
				INT v38 = WRAP_I63(0LL);
				INT v39 = v38;
				bool v40 = int_le(v39, v37);
				INT branch_Nat_41;
				if (v40) {
					INT v42 = v37;
					branch_Nat_41 = v42;
				} else {
					decref(MKINT(v37));
					INT v43 = WRAP_I63(0LL);
					branch_Nat_41 = v43;
				}
				PTUP v44 = mw_mirth_type_StackTypePart_label(VTUP(v33));
				incref(MKTUP(v21));
				bool branch_Bool_45;
				switch (PTREXTRA(v21)) {
					case 0LL: { // None
						int64_t v46 = PTREXTRA(v44);
						decref(MKTUP(v44));
						INT v47 = WRAP_I63(0LL);
						INT v48 = v47;
						INT v49 = i64_to_int(v46);
						bool v50 = int_eq(v49, v48);
						branch_Bool_45 = v50;
					} break;
					case 1LL: { // Some
						VAL v51 = mtp_std_maybe_Maybe_1_Some(v21);
						bool branch_Bool_52;
						switch (PTREXTRA(v44)) {
							case 1LL: { // Some
								VAL v53 = mtp_std_maybe_Maybe_1_Some(v44);
								bool v54 = (value_u64(v51) == value_u64(v53));
								branch_Bool_52 = v54;
							} break;
							case 0LL: { // None
								bool v55 = false;
								branch_Bool_52 = v55;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Bool_45 = branch_Bool_52;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				INT branch_Nat_56;
				PTUP branch_Maybe_57;
				PTUP branch_Maybe_58;
				if (branch_Bool_45) {
					PTUP v59 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v33)));
					branch_Maybe_58 = v59;
					branch_Maybe_57 = v21;
					branch_Nat_56 = branch_Nat_41;
				} else {
					decref(MKTUP(VTUP(v33)));
					PTUP v60 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_58 = v60;
					branch_Maybe_57 = v21;
					branch_Nat_56 = branch_Nat_41;
				}
				INT branch_Nat_61;
				PTUP branch_Maybe_62;
				PTUP branch_Maybe_63;
				PTUP branch_List_64;
				switch (PTREXTRA(branch_Maybe_58)) {
					case 0LL: { // None
						branch_List_64 = VTUP(MKTUP(v26));
						branch_Maybe_63 = VTUP(MKTUP(v23));
						branch_Maybe_62 = branch_Maybe_57;
						branch_Nat_61 = branch_Nat_56;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v26))));
						decref(MKTUP(VTUP(MKTUP(v23))));
						PTUP v65 = PTRMK(0LL /* Nil */,0,0);
						branch_List_64 = v65;
						branch_Maybe_63 = branch_Maybe_58;
						branch_Maybe_62 = branch_Maybe_57;
						branch_Nat_61 = branch_Nat_56;
					} break;
				}
				bool v66 = true;
				branch_Bool_32 = v66;
				branch_List_31 = branch_List_64;
				branch_Maybe_30 = branch_Maybe_63;
				branch_Maybe_29 = branch_Maybe_62;
				branch_Nat_28 = branch_Nat_61;
			} break;
			case 0LL: { // None
				bool v67 = false;
				branch_Bool_32 = v67;
				branch_List_31 = v26;
				branch_Maybe_30 = v23;
				branch_Maybe_29 = v21;
				branch_Nat_28 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v20 = branch_Bool_32;
		v19 = branch_Bool_32;
		v18 = branch_List_31;
		v17 = branch_Maybe_30;
		v16 = branch_Nat_28;
		v15 = branch_Maybe_29;
	}
	decref(MKTUP(v18));
	decref(MKTUP(v17));
	decref(MKTUP(v15));
	*out_ZPlusC99_6 = in_ZPlusC99_2;
	*out_ZPlusMirth_5 = v9;
	return v16;
}
static void mw_mirth_c99_c99Z_tagZ_getZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_TagField_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	uint64_t v6;
	uint64_t v7;
	PTUP v8;
	mtp_mirth_data_TagField_TagField(in_TagField_3, &v6, &v7, &v8);
	PTUP v9;
	uint64_t v10 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, v6, &v9);
	PTUP v11 = mtw_mirth_c99_C99ReprType_Data(v10);
	PTUP v12;
	PTUP v13 = mw_mirth_data_Tag_semiZ_transparentZAsk(v9, v6, &v12);
	int64_t v14 = PTREXTRA(v13);
	decref(MKTUP(v13));
	INT v15 = WRAP_I63(0LL);
	INT v16 = v15;
	INT v17 = i64_to_int(v14);
	bool v18 = int_eq(v17, v16);
	bool v19 = !v18;
	uint64_t branch_Label_20;
	PTUP branch_Either_21;
	uint64_t branch_Tag_22;
	PTUP branch_C99ReprType_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusC99Branch_25;
	if (v19) {
		incref(MKTUP(v8));
		uint64_t branch_Label_26;
		PTUP branch_Either_27;
		uint64_t branch_Tag_28;
		PTUP branch_C99ReprType_29;
		PTUP branch_ZPlusMirth_30;
		PTUP branch_ZPlusC99Branch_31;
		switch (PTREXTRA(v8)) {
			case 0LL: { // Left
				VAL v32 = mtp_std_either_Either_2_Left(v8);
				PTUP v33;
				PTUP v34;
				PTUP v35 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v12, in_ZPlusC99Branch_2, VTUP(v32), &v33, &v34);
				PTUP v36;
				bool v37 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v33, v6, &v36);
				uint64_t branch_Label_38;
				PTUP branch_Either_39;
				PTUP branch_C99ReprType_40;
				uint64_t branch_Tag_41;
				PTUP branch_C99ReprType_42;
				PTUP branch_ZPlusC99Value_43;
				PTUP branch_ZPlusMirth_44;
				PTUP branch_ZPlusC99Branch_45;
				if (v37) {
					incref(MKTUP(v11));
					PTUP v46;
					PTUP v47;
					PTUP v48;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v36, v34, v11, &v46, &v47, &v48);
					PTUP v49;
					PTUP v50;
					PTUP v51;
					PTUP v52;
					mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang(v46, v47, v48, &v49, &v50, &v51, &v52);
					PTUP v53;
					PTUP v54;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v49, v50, v51, &v53, &v54);
					branch_ZPlusC99Branch_45 = v54;
					branch_ZPlusMirth_44 = v53;
					branch_ZPlusC99Value_43 = v52;
					branch_C99ReprType_42 = v11;
					branch_Tag_41 = v6;
					branch_C99ReprType_40 = v35;
					branch_Either_39 = v8;
					branch_Label_38 = v7;
				} else {
					incref(MKTUP(v11));
					PTUP v55;
					PTUP v56;
					PTUP v57;
					mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v36, v34, v11, &v55, &v56, &v57);
					branch_ZPlusC99Branch_45 = v56;
					branch_ZPlusMirth_44 = v55;
					branch_ZPlusC99Value_43 = v57;
					branch_C99ReprType_42 = v11;
					branch_Tag_41 = v6;
					branch_C99ReprType_40 = v35;
					branch_Either_39 = v8;
					branch_Label_38 = v7;
				}
				incref(MKTUP(branch_C99ReprType_40));
				PTUP v58 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Value_43))->cells[0]);
				decref(MKTUP(v58));
				((TUP*)PTRPTR(branch_ZPlusC99Value_43))->cells[0] = MKTUP(branch_C99ReprType_40);
				PTUP v59;
				PTUP v60;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusMirth_44, branch_ZPlusC99Branch_45, branch_ZPlusC99Value_43, &v59, &v60);
				decref(MKTUP(branch_C99ReprType_40));
				branch_ZPlusC99Branch_31 = v60;
				branch_ZPlusMirth_30 = v59;
				branch_C99ReprType_29 = branch_C99ReprType_42;
				branch_Tag_28 = branch_Tag_41;
				branch_Either_27 = branch_Either_39;
				branch_Label_26 = branch_Label_38;
			} break;
			case 1LL: { // Right
				VAL v61 = mtp_std_either_Either_2_Right(v8);
				PTUP v62;
				PTUP v63;
				PTUP v64 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v12, in_ZPlusC99Branch_2, VTUP(v61), &v62, &v63);
				incref(MKTUP(v11));
				PTUP v65;
				PTUP v66;
				PTUP v67;
				mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v62, v63, v11, &v65, &v66, &v67);
				incref(MKTUP(v64));
				PTUP v68 = VTUP(((TUP*)PTRPTR(v67))->cells[0]);
				decref(MKTUP(v68));
				((TUP*)PTRPTR(v67))->cells[0] = MKTUP(v64);
				PTUP v69;
				PTUP v70;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v65, v66, v67, &v69, &v70);
				PTUP v71 = PTRMK(0LL /* Void */,0,0);
				PTUP v72;
				PTUP v73;
				mw_mirth_c99_C99ReprType_pushZ_resourceZ_expressionZBang_1_sp2(v69, v70, v71, &v72, &v73);
				decref(MKTUP(v64));
				branch_ZPlusC99Branch_31 = v73;
				branch_ZPlusMirth_30 = v72;
				branch_C99ReprType_29 = v11;
				branch_Tag_28 = v6;
				branch_Either_27 = v8;
				branch_Label_26 = v7;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_25 = branch_ZPlusC99Branch_31;
		branch_ZPlusMirth_24 = branch_ZPlusMirth_30;
		branch_C99ReprType_23 = branch_C99ReprType_29;
		branch_Tag_22 = branch_Tag_28;
		branch_Either_21 = branch_Either_27;
		branch_Label_20 = branch_Label_26;
	} else {
		PTUP v74;
		uint64_t v75 = mw_mirth_data_Tag_data(v12, v6, &v74);
		PTUP v76;
		PTUP v77;
		PTUP v78;
		mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v74, in_ZPlusC99Branch_2, v75, &v76, &v77, &v78);
		PTUP v79;
		PTUP v80;
		mw_mirth_c99_ZPlusC99ValueZDivResource_rdup(v78, &v79, &v80);
		PTUP v81;
		uint64_t v82 = mw_mirth_data_Tag_data(v76, v6, &v81);
		PTUP v83;
		STR* v84 = mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_data(v81, v82, v79, &v83);
		incref(MKTUP(v8));
		PTUP branch_C99ReprType_85;
		PTUP branch_Either_86;
		STR* branch_Str_87;
		uint64_t branch_Tag_88;
		uint64_t branch_Label_89;
		PTUP branch_ZPlusMirth_90;
		PTUP branch_ZPlusC99Branch_91;
		switch (PTREXTRA(v8)) {
			case 0LL: { // Left
				VAL v92 = mtp_std_either_Either_2_Left(v8);
				PTUP v93;
				PTUP v94;
				PTUP v95 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v83, v77, VTUP(v92), &v93, &v94);
				incref(MKTUP(v95));
				incref(MKTUP(v95));
				PTUP v96;
				bool v97 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v93, v95, &v96);
				uint64_t branch_Label_98;
				uint64_t branch_Tag_99;
				STR* branch_Str_100;
				PTUP branch_C99ReprType_101;
				PTUP branch_C99ReprType_102;
				bool branch_Bool_103;
				PTUP branch_ZPlusMirth_104;
				STR* branch_Str_105;
				PTUP branch_ZPlusC99Branch_106;
				if (v97) {
					PTUP r107 = VTUP(((TUP*)PTRPTR(v94))->cells[0]);
					PTUP v108;
					PTUP v109;
					STR* v110 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v96, r107, &v108, &v109);
					((TUP*)PTRPTR(v94))->cells[0] = MKTUP(v109);
					branch_ZPlusC99Branch_106 = v94;
					branch_Str_105 = v110;
					branch_ZPlusMirth_104 = v108;
					branch_Bool_103 = v97;
					branch_C99ReprType_102 = v95;
					branch_C99ReprType_101 = v95;
					branch_Str_100 = v84;
					branch_Tag_99 = v6;
					branch_Label_98 = v7;
				} else {
					STR* v111;
					STRLIT(v111, "0", 1);
					branch_ZPlusC99Branch_106 = v94;
					branch_Str_105 = v111;
					branch_ZPlusMirth_104 = v96;
					branch_Bool_103 = v97;
					branch_C99ReprType_102 = v95;
					branch_C99ReprType_101 = v95;
					branch_Str_100 = v84;
					branch_Tag_99 = v6;
					branch_Label_98 = v7;
				}
				bool v112 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_106))->cells[3]);
				bool v113 = (branch_Bool_103 && v112);
				PTUP r114 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_106))->cells[0]);
				bool v115 = value_bool(((TUP*)PTRPTR(r114))->cells[3]);
				incref(MKBOOL(v115));
				bool v116 = (value_bool(MKBOOL(v113)) && value_bool(MKBOOL(v115)));
				((TUP*)PTRPTR(r114))->cells[3] = MKBOOL(v116);
				PTUP v117;
				PTUP v118;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_104, r114, &v117, &v118);
				incref(MKTUP(branch_C99ReprType_102));
				PTUP v119;
				STR* v120 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v117, branch_C99ReprType_102, &v119);
				PTUP v121;
				PTUP v122;
				mw_mirth_c99_ZPlusC99_put(v119, v118, v120, &v121, &v122);
				STR* v123;
				STRLIT(v123, " ", 1);
				PTUP v124;
				PTUP v125;
				mw_mirth_c99_ZPlusC99_put(v121, v122, v123, &v124, &v125);
				incref(MKSTR(branch_Str_105));
				PTUP v126;
				PTUP v127;
				mw_mirth_c99_ZPlusC99_put(v124, v125, branch_Str_105, &v126, &v127);
				STR* v128;
				STRLIT(v128, " = ", 3);
				PTUP v129;
				PTUP v130;
				mw_mirth_c99_ZPlusC99_put(v126, v127, v128, &v129, &v130);
				PTUP v131;
				mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_102, branch_Str_105, &v131);
				STR* v132;
				uint64_t v133;
				uint64_t v134;
				PTUP v135;
				PTUP v136;
				mw_mirth_c99_C99ReprType_vZ_macro_1_sp2(branch_Label_98, branch_Tag_99, branch_Str_100, branch_C99ReprType_101, v129, v130, &v132, &v133, &v134, &v135, &v136);
				STR* v137;
				STRLIT(v137, ";", 1);
				PTUP v138;
				PTUP v139;
				mw_mirth_c99_ZPlusC99_put(v135, v136, v137, &v138, &v139);
				PTUP v140;
				PTUP v141;
				mw_mirth_c99_ZPlusC99_line(v138, v139, &v140, &v141);
				((TUP*)PTRPTR(v141))->cells[3] = MKBOOL(value_bool(MKBOOL(v115)));
				((TUP*)PTRPTR(branch_ZPlusC99Branch_106))->cells[0] = MKTUP(v141);
				PTUP v142;
				PTUP v143;
				PTUP v144;
				mw_mirth_c99_ZPlusC99Value_keepZ_valueZBang(v140, branch_ZPlusC99Branch_106, v131, &v142, &v143, &v144);
				PTUP v145;
				PTUP v146;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v142, v143, v144, &v145, &v146);
				PTUP v147;
				PTUP v148;
				mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusfor_2_sp3(v145, v146, v80, &v147, &v148);
				branch_ZPlusC99Branch_91 = v148;
				branch_ZPlusMirth_90 = v147;
				branch_Label_89 = v134;
				branch_Tag_88 = v133;
				branch_Str_87 = v132;
				branch_Either_86 = v8;
				branch_C99ReprType_85 = v11;
			} break;
			case 1LL: { // Right
				VAL v149 = mtp_std_either_Either_2_Right(v8);
				PTUP v150;
				PTUP v151;
				PTUP v152 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v83, v77, VTUP(v149), &v150, &v151);
				incref(MKTUP(v152));
				incref(MKTUP(v152));
				PTUP v153;
				bool v154 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v150, v152, &v153);
				uint64_t branch_Label_155;
				uint64_t branch_Tag_156;
				STR* branch_Str_157;
				PTUP branch_C99ReprType_158;
				PTUP branch_C99ReprType_159;
				bool branch_Bool_160;
				PTUP branch_ZPlusMirth_161;
				STR* branch_Str_162;
				PTUP branch_ZPlusC99Branch_163;
				if (v154) {
					PTUP r164 = VTUP(((TUP*)PTRPTR(v151))->cells[0]);
					PTUP v165;
					PTUP v166;
					STR* v167 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v153, r164, &v165, &v166);
					((TUP*)PTRPTR(v151))->cells[0] = MKTUP(v166);
					branch_ZPlusC99Branch_163 = v151;
					branch_Str_162 = v167;
					branch_ZPlusMirth_161 = v165;
					branch_Bool_160 = v154;
					branch_C99ReprType_159 = v152;
					branch_C99ReprType_158 = v152;
					branch_Str_157 = v84;
					branch_Tag_156 = v6;
					branch_Label_155 = v7;
				} else {
					STR* v168;
					STRLIT(v168, "0", 1);
					branch_ZPlusC99Branch_163 = v151;
					branch_Str_162 = v168;
					branch_ZPlusMirth_161 = v153;
					branch_Bool_160 = v154;
					branch_C99ReprType_159 = v152;
					branch_C99ReprType_158 = v152;
					branch_Str_157 = v84;
					branch_Tag_156 = v6;
					branch_Label_155 = v7;
				}
				bool v169 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_163))->cells[3]);
				bool v170 = (branch_Bool_160 && v169);
				PTUP r171 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_163))->cells[0]);
				bool v172 = value_bool(((TUP*)PTRPTR(r171))->cells[3]);
				incref(MKBOOL(v172));
				bool v173 = (value_bool(MKBOOL(v170)) && value_bool(MKBOOL(v172)));
				((TUP*)PTRPTR(r171))->cells[3] = MKBOOL(v173);
				PTUP v174;
				PTUP v175;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_161, r171, &v174, &v175);
				incref(MKTUP(branch_C99ReprType_159));
				PTUP v176;
				STR* v177 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v174, branch_C99ReprType_159, &v176);
				PTUP v178;
				PTUP v179;
				mw_mirth_c99_ZPlusC99_put(v176, v175, v177, &v178, &v179);
				STR* v180;
				STRLIT(v180, " ", 1);
				PTUP v181;
				PTUP v182;
				mw_mirth_c99_ZPlusC99_put(v178, v179, v180, &v181, &v182);
				incref(MKSTR(branch_Str_162));
				PTUP v183;
				PTUP v184;
				mw_mirth_c99_ZPlusC99_put(v181, v182, branch_Str_162, &v183, &v184);
				STR* v185;
				STRLIT(v185, " = ", 3);
				PTUP v186;
				PTUP v187;
				mw_mirth_c99_ZPlusC99_put(v183, v184, v185, &v186, &v187);
				PTUP v188;
				mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_159, branch_Str_162, &v188);
				STR* v189;
				uint64_t v190;
				uint64_t v191;
				PTUP v192;
				PTUP v193;
				mw_mirth_c99_C99ReprType_vZ_macro_1_sp2(branch_Label_155, branch_Tag_156, branch_Str_157, branch_C99ReprType_158, v186, v187, &v189, &v190, &v191, &v192, &v193);
				STR* v194;
				STRLIT(v194, ";", 1);
				PTUP v195;
				PTUP v196;
				mw_mirth_c99_ZPlusC99_put(v192, v193, v194, &v195, &v196);
				PTUP v197;
				PTUP v198;
				mw_mirth_c99_ZPlusC99_line(v195, v196, &v197, &v198);
				((TUP*)PTRPTR(v198))->cells[3] = MKBOOL(value_bool(MKBOOL(v172)));
				((TUP*)PTRPTR(branch_ZPlusC99Branch_163))->cells[0] = MKTUP(v198);
				PTUP v199;
				PTUP v200;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v197, branch_ZPlusC99Branch_163, v188, &v199, &v200);
				PTUP v201;
				PTUP v202;
				mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang(v199, v200, v80, &v201, &v202);
				branch_ZPlusC99Branch_91 = v202;
				branch_ZPlusMirth_90 = v201;
				branch_Label_89 = v191;
				branch_Tag_88 = v190;
				branch_Str_87 = v189;
				branch_Either_86 = v8;
				branch_C99ReprType_85 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		decref(MKSTR(branch_Str_87));
		branch_ZPlusC99Branch_25 = branch_ZPlusC99Branch_91;
		branch_ZPlusMirth_24 = branch_ZPlusMirth_90;
		branch_C99ReprType_23 = branch_C99ReprType_85;
		branch_Tag_22 = branch_Tag_88;
		branch_Either_21 = branch_Either_86;
		branch_Label_20 = branch_Label_89;
	}
	decref(MKU64(branch_Tag_22));
	decref(MKU64(branch_Label_20));
	decref(MKTUP(branch_C99ReprType_23));
	decref(MKTUP(branch_Either_21));
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_25;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_24;
}
static void mw_mirth_c99_c99Z_tagZ_setZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_TagField_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	uint64_t v6;
	uint64_t v7;
	PTUP v8;
	mtp_mirth_data_TagField_TagField(in_TagField_3, &v6, &v7, &v8);
	PTUP v9;
	uint64_t v10 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, v6, &v9);
	PTUP v11 = mtw_mirth_c99_C99ReprType_Data(v10);
	PTUP v12;
	PTUP v13 = mw_mirth_data_Tag_semiZ_transparentZAsk(v9, v6, &v12);
	int64_t v14 = PTREXTRA(v13);
	decref(MKTUP(v13));
	INT v15 = WRAP_I63(0LL);
	INT v16 = v15;
	INT v17 = i64_to_int(v14);
	bool v18 = int_eq(v17, v16);
	bool v19 = !v18;
	uint64_t branch_Label_20;
	uint64_t branch_Tag_21;
	PTUP branch_C99ReprType_22;
	PTUP branch_ZPlusMirth_23;
	PTUP branch_ZPlusC99Branch_24;
	if (v19) {
		uint64_t branch_Label_25;
		uint64_t branch_Tag_26;
		PTUP branch_C99ReprType_27;
		PTUP branch_ZPlusMirth_28;
		PTUP branch_ZPlusC99Branch_29;
		switch (PTREXTRA(v8)) {
			case 0LL: { // Left
				VAL v30 = mtp_std_either_Either_2_Left(v8);
				PTUP v31;
				PTUP v32;
				PTUP v33 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v12, in_ZPlusC99Branch_2, VTUP(v30), &v31, &v32);
				PTUP v34;
				uint64_t v35 = mw_mirth_data_Tag_data(v31, v6, &v34);
				PTUP v36;
				PTUP v37;
				PTUP v38;
				mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v34, v32, v35, &v36, &v37, &v38);
				PTUP branch_C99ReprType_39;
				PTUP branch_C99ReprType_40;
				PTUP branch_ZPlusMirth_41;
				PTUP branch_ZPlusC99Branch_42;
				switch (PTREXTRA(v38)) {
					case 0LL: { // +Left
						VAL v43;
						mtp_std_either_ZPlusEither_2_ZPlusLeft(v38, &v43);
						PTUP v44;
						PTUP v45;
						mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v36, v37, VTUP(v43), &v44, &v45);
						incref(MKTUP(v33));
						PTUP v46;
						PTUP v47;
						PTUP v48;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v44, v45, v33, &v46, &v47, &v48);
						incref(MKTUP(v11));
						PTUP v49 = VTUP(((TUP*)PTRPTR(v48))->cells[0]);
						decref(MKTUP(v49));
						((TUP*)PTRPTR(v48))->cells[0] = MKTUP(v11);
						PTUP v50;
						PTUP v51;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v46, v47, v48, &v50, &v51);
						branch_ZPlusC99Branch_42 = v51;
						branch_ZPlusMirth_41 = v50;
						branch_C99ReprType_40 = v11;
						branch_C99ReprType_39 = v33;
					} break;
					case 1LL: { // +Right
						VAL v52;
						mtp_std_either_ZPlusEither_2_ZPlusRight(v38, &v52);
						PTUP v53;
						PTUP v54;
						mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang(v36, v37, VTUP(v52), &v53, &v54);
						incref(MKTUP(v33));
						PTUP v55;
						PTUP v56;
						PTUP v57;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v53, v54, v33, &v55, &v56, &v57);
						PTUP v58;
						mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v57, &v58);
						incref(MKTUP(v11));
						PTUP v59 = VTUP(((TUP*)PTRPTR(v58))->cells[0]);
						decref(MKTUP(v59));
						((TUP*)PTRPTR(v58))->cells[0] = MKTUP(v11);
						PTUP v60;
						PTUP v61;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v55, v56, v58, &v60, &v61);
						branch_ZPlusC99Branch_42 = v61;
						branch_ZPlusMirth_41 = v60;
						branch_C99ReprType_40 = v11;
						branch_C99ReprType_39 = v33;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				decref(MKTUP(branch_C99ReprType_39));
				branch_ZPlusC99Branch_29 = branch_ZPlusC99Branch_42;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_41;
				branch_C99ReprType_27 = branch_C99ReprType_40;
				branch_Tag_26 = v6;
				branch_Label_25 = v7;
			} break;
			case 1LL: { // Right
				VAL v62 = mtp_std_either_Either_2_Right(v8);
				PTUP v63;
				PTUP v64;
				PTUP v65 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v12, in_ZPlusC99Branch_2, VTUP(v62), &v63, &v64);
				PTUP v66 = PTRMK(0LL /* Void */,0,0);
				PTUP v67;
				PTUP v68;
				PTUP v69;
				mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v63, v64, v66, &v67, &v68, &v69);
				mw_mirth_c99_ZPlusC99Resource_rdrop(v69);
				incref(MKTUP(v65));
				PTUP v70;
				PTUP v71;
				PTUP v72;
				mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v67, v68, v65, &v70, &v71, &v72);
				incref(MKTUP(v11));
				PTUP v73 = VTUP(((TUP*)PTRPTR(v72))->cells[0]);
				decref(MKTUP(v73));
				((TUP*)PTRPTR(v72))->cells[0] = MKTUP(v11);
				PTUP v74;
				PTUP v75;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v70, v71, v72, &v74, &v75);
				decref(MKTUP(v65));
				branch_ZPlusC99Branch_29 = v75;
				branch_ZPlusMirth_28 = v74;
				branch_C99ReprType_27 = v11;
				branch_Tag_26 = v6;
				branch_Label_25 = v7;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_24 = branch_ZPlusC99Branch_29;
		branch_ZPlusMirth_23 = branch_ZPlusMirth_28;
		branch_C99ReprType_22 = branch_C99ReprType_27;
		branch_Tag_21 = branch_Tag_26;
		branch_Label_20 = branch_Label_25;
	} else {
		PTUP v76;
		uint64_t v77 = mw_mirth_data_Tag_data(v12, v6, &v76);
		PTUP v78;
		PTUP v79;
		PTUP v80;
		mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v76, in_ZPlusC99Branch_2, v77, &v78, &v79, &v80);
		incref(MKTUP(v8));
		PTUP branch_C99ReprType_81;
		uint64_t branch_Label_82;
		uint64_t branch_Tag_83;
		PTUP branch_ZPlusC99ValueZDivResource_84;
		PTUP branch_Either_85;
		PTUP branch_ZPlusC99Branch_86;
		PTUP branch_ZPlusMirth_87;
		STR* branch_Str_88;
		switch (PTREXTRA(v8)) {
			case 0LL: { // Left
				VAL v89 = mtp_std_either_Either_2_Left(v8);
				PTUP v90;
				PTUP v91;
				PTUP v92 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v78, v79, VTUP(v89), &v90, &v91);
				PTUP v93;
				PTUP v94;
				PTUP v95;
				mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v90, v91, v92, &v93, &v94, &v95);
				PTUP v96;
				STR* v97 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v93, v95, &v96);
				branch_Str_88 = v97;
				branch_ZPlusMirth_87 = v96;
				branch_ZPlusC99Branch_86 = v94;
				branch_Either_85 = v8;
				branch_ZPlusC99ValueZDivResource_84 = v80;
				branch_Tag_83 = v6;
				branch_Label_82 = v7;
				branch_C99ReprType_81 = v11;
			} break;
			case 1LL: { // Right
				VAL v98 = mtp_std_either_Either_2_Right(v8);
				PTUP v99;
				PTUP v100;
				PTUP v101 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v78, v79, VTUP(v98), &v99, &v100);
				PTUP v102;
				PTUP v103;
				PTUP v104;
				mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v99, v100, v101, &v102, &v103, &v104);
				PTUP v105;
				STR* v106 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v102, v104, &v105);
				branch_Str_88 = v106;
				branch_ZPlusMirth_87 = v105;
				branch_ZPlusC99Branch_86 = v103;
				branch_Either_85 = v8;
				branch_ZPlusC99ValueZDivResource_84 = v80;
				branch_Tag_83 = v6;
				branch_Label_82 = v7;
				branch_C99ReprType_81 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		uint64_t branch_Tag_107;
		uint64_t branch_Label_108;
		PTUP branch_ZPlusMirth_109;
		PTUP branch_ZPlusC99Branch_110;
		switch (PTREXTRA(branch_ZPlusC99ValueZDivResource_84)) {
			case 0LL: { // +Left
				VAL v111;
				mtp_std_either_ZPlusEither_2_ZPlusLeft(branch_ZPlusC99ValueZDivResource_84, &v111);
				PTUP v112;
				STR* v113 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(branch_ZPlusMirth_87, VTUP(v111), &v112);
				PTUP v114 = PTRMK(1LL /* VAL */,0,0);
				incref(MKTUP(v114));
				PTUP v115;
				bool v116 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v112, v114, &v115);
				STR* branch_Str_117;
				uint64_t branch_Label_118;
				uint64_t branch_Tag_119;
				STR* branch_Str_120;
				PTUP branch_C99ReprType_121;
				bool branch_Bool_122;
				PTUP branch_ZPlusMirth_123;
				STR* branch_Str_124;
				PTUP branch_ZPlusC99Branch_125;
				if (v116) {
					PTUP r126 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_86))->cells[0]);
					PTUP v127;
					PTUP v128;
					STR* v129 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v115, r126, &v127, &v128);
					((TUP*)PTRPTR(branch_ZPlusC99Branch_86))->cells[0] = MKTUP(v128);
					branch_ZPlusC99Branch_125 = branch_ZPlusC99Branch_86;
					branch_Str_124 = v129;
					branch_ZPlusMirth_123 = v127;
					branch_Bool_122 = v116;
					branch_C99ReprType_121 = v114;
					branch_Str_120 = v113;
					branch_Tag_119 = branch_Tag_83;
					branch_Label_118 = branch_Label_82;
					branch_Str_117 = branch_Str_88;
				} else {
					STR* v130;
					STRLIT(v130, "0", 1);
					branch_ZPlusC99Branch_125 = branch_ZPlusC99Branch_86;
					branch_Str_124 = v130;
					branch_ZPlusMirth_123 = v115;
					branch_Bool_122 = v116;
					branch_C99ReprType_121 = v114;
					branch_Str_120 = v113;
					branch_Tag_119 = branch_Tag_83;
					branch_Label_118 = branch_Label_82;
					branch_Str_117 = branch_Str_88;
				}
				bool v131 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_125))->cells[3]);
				bool v132 = (branch_Bool_122 && v131);
				PTUP r133 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_125))->cells[0]);
				bool v134 = value_bool(((TUP*)PTRPTR(r133))->cells[3]);
				incref(MKBOOL(v134));
				bool v135 = (value_bool(MKBOOL(v132)) && value_bool(MKBOOL(v134)));
				((TUP*)PTRPTR(r133))->cells[3] = MKBOOL(v135);
				PTUP v136;
				PTUP v137;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_123, r133, &v136, &v137);
				incref(MKTUP(branch_C99ReprType_121));
				PTUP v138;
				STR* v139 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v136, branch_C99ReprType_121, &v138);
				PTUP v140;
				PTUP v141;
				mw_mirth_c99_ZPlusC99_put(v138, v137, v139, &v140, &v141);
				STR* v142;
				STRLIT(v142, " ", 1);
				PTUP v143;
				PTUP v144;
				mw_mirth_c99_ZPlusC99_put(v140, v141, v142, &v143, &v144);
				incref(MKSTR(branch_Str_124));
				PTUP v145;
				PTUP v146;
				mw_mirth_c99_ZPlusC99_put(v143, v144, branch_Str_124, &v145, &v146);
				STR* v147;
				STRLIT(v147, " = ", 3);
				PTUP v148;
				PTUP v149;
				mw_mirth_c99_ZPlusC99_put(v145, v146, v147, &v148, &v149);
				PTUP v150;
				mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_121, branch_Str_124, &v150);
				STR* v151;
				STRLIT(v151, "tup_replace(", 12);
				PTUP v152;
				PTUP v153;
				mw_mirth_c99_ZPlusC99_put(v148, v149, v151, &v152, &v153);
				PTUP v154;
				PTUP v155;
				mw_mirth_c99_ZPlusC99_put(v152, v153, branch_Str_120, &v154, &v155);
				STR* v156;
				STRLIT(v156, ", ", 2);
				PTUP v157;
				PTUP v158;
				mw_mirth_c99_ZPlusC99_put(v154, v155, v156, &v157, &v158);
				PTUP v159;
				PTUP v160;
				INT v161 = mw_mirth_c99_c99Z_tagZ_labelZ_index(v157, v158, branch_Tag_119, branch_Label_118, &v159, &v160);
				INT v162 = v161;
				STR* v163 = int_to_str(v162);
				PTUP v164;
				PTUP v165;
				mw_mirth_c99_ZPlusC99_put(v159, v160, v163, &v164, &v165);
				STR* v166;
				STRLIT(v166, ", ", 2);
				PTUP v167;
				PTUP v168;
				mw_mirth_c99_ZPlusC99_put(v164, v165, v166, &v167, &v168);
				PTUP v169;
				PTUP v170;
				mw_mirth_c99_ZPlusC99_put(v167, v168, branch_Str_117, &v169, &v170);
				STR* v171;
				STRLIT(v171, ")", 1);
				PTUP v172;
				PTUP v173;
				mw_mirth_c99_ZPlusC99_put(v169, v170, v171, &v172, &v173);
				STR* v174;
				STRLIT(v174, ";", 1);
				PTUP v175;
				PTUP v176;
				mw_mirth_c99_ZPlusC99_put(v172, v173, v174, &v175, &v176);
				PTUP v177;
				PTUP v178;
				mw_mirth_c99_ZPlusC99_line(v175, v176, &v177, &v178);
				((TUP*)PTRPTR(v178))->cells[3] = MKBOOL(value_bool(MKBOOL(v134)));
				((TUP*)PTRPTR(branch_ZPlusC99Branch_125))->cells[0] = MKTUP(v178);
				PTUP v179;
				PTUP v180;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v177, branch_ZPlusC99Branch_125, v150, &v179, &v180);
				decref(MKTUP(branch_Either_85));
				branch_ZPlusC99Branch_110 = v180;
				branch_ZPlusMirth_109 = v179;
				branch_Label_108 = branch_Label_118;
				branch_Tag_107 = branch_Tag_119;
			} break;
			case 1LL: { // +Right
				VAL v181;
				mtp_std_either_ZPlusEither_2_ZPlusRight(branch_ZPlusC99ValueZDivResource_84, &v181);
				PTUP v182;
				PTUP v183;
				mw_mirth_c99_ZPlusC99Resource_rdup(VTUP(v181), &v182, &v183);
				PTUP v184;
				uint64_t v185 = mw_mirth_data_Tag_data(branch_ZPlusMirth_87, branch_Tag_83, &v184);
				PTUP v186;
				STR* v187 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_data(v184, v182, v185, &v186);
				STR* branch_Str_188;
				uint64_t branch_Label_189;
				PTUP branch_ZPlusC99Resource_190;
				uint64_t branch_Tag_191;
				STR* branch_Str_192;
				PTUP branch_ZPlusC99Branch_193;
				PTUP branch_ZPlusMirth_194;
				switch (PTREXTRA(branch_Either_85)) {
					case 0LL: { // Left
						VAL v195 = mtp_std_either_Either_2_Left(branch_Either_85);
						PTUP v196;
						PTUP v197;
						PTUP v198 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v186, branch_ZPlusC99Branch_86, VTUP(v195), &v196, &v197);
						incref(MKTUP(v198));
						PTUP v199;
						bool v200 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(v196, v198, &v199);
						PTUP branch_C99ReprType_201;
						STR* branch_Str_202;
						uint64_t branch_Tag_203;
						uint64_t branch_Label_204;
						PTUP branch_ZPlusC99Branch_205;
						PTUP branch_ZPlusMirth_206;
						if (v200) {
							incref(MKTUP(v198));
							incref(MKTUP(v198));
							incref(MKTUP(v198));
							PTUP v207;
							bool v208 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v199, v198, &v207);
							uint64_t branch_Label_209;
							uint64_t branch_Tag_210;
							STR* branch_Str_211;
							PTUP branch_C99ReprType_212;
							PTUP branch_C99ReprType_213;
							bool branch_Bool_214;
							PTUP branch_ZPlusMirth_215;
							STR* branch_Str_216;
							PTUP branch_ZPlusC99Branch_217;
							if (v208) {
								PTUP r218 = VTUP(((TUP*)PTRPTR(v197))->cells[0]);
								PTUP v219;
								PTUP v220;
								STR* v221 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v207, r218, &v219, &v220);
								((TUP*)PTRPTR(v197))->cells[0] = MKTUP(v220);
								branch_ZPlusC99Branch_217 = v197;
								branch_Str_216 = v221;
								branch_ZPlusMirth_215 = v219;
								branch_Bool_214 = v208;
								branch_C99ReprType_213 = v198;
								branch_C99ReprType_212 = v198;
								branch_Str_211 = v187;
								branch_Tag_210 = branch_Tag_83;
								branch_Label_209 = branch_Label_82;
							} else {
								STR* v222;
								STRLIT(v222, "0", 1);
								branch_ZPlusC99Branch_217 = v197;
								branch_Str_216 = v222;
								branch_ZPlusMirth_215 = v207;
								branch_Bool_214 = v208;
								branch_C99ReprType_213 = v198;
								branch_C99ReprType_212 = v198;
								branch_Str_211 = v187;
								branch_Tag_210 = branch_Tag_83;
								branch_Label_209 = branch_Label_82;
							}
							bool v223 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_217))->cells[3]);
							bool v224 = (branch_Bool_214 && v223);
							PTUP r225 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_217))->cells[0]);
							bool v226 = value_bool(((TUP*)PTRPTR(r225))->cells[3]);
							incref(MKBOOL(v226));
							bool v227 = (value_bool(MKBOOL(v224)) && value_bool(MKBOOL(v226)));
							((TUP*)PTRPTR(r225))->cells[3] = MKBOOL(v227);
							PTUP v228;
							PTUP v229;
							mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_215, r225, &v228, &v229);
							incref(MKTUP(branch_C99ReprType_213));
							PTUP v230;
							STR* v231 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v228, branch_C99ReprType_213, &v230);
							PTUP v232;
							PTUP v233;
							mw_mirth_c99_ZPlusC99_put(v230, v229, v231, &v232, &v233);
							STR* v234;
							STRLIT(v234, " ", 1);
							PTUP v235;
							PTUP v236;
							mw_mirth_c99_ZPlusC99_put(v232, v233, v234, &v235, &v236);
							incref(MKSTR(branch_Str_216));
							PTUP v237;
							PTUP v238;
							mw_mirth_c99_ZPlusC99_put(v235, v236, branch_Str_216, &v237, &v238);
							STR* v239;
							STRLIT(v239, " = ", 3);
							PTUP v240;
							PTUP v241;
							mw_mirth_c99_ZPlusC99_put(v237, v238, v239, &v240, &v241);
							PTUP v242;
							mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_213, branch_Str_216, &v242);
							STR* v243;
							uint64_t v244;
							uint64_t v245;
							PTUP v246;
							PTUP v247;
							mw_mirth_c99_C99ReprType_vZ_macro_1_sp2(branch_Label_209, branch_Tag_210, branch_Str_211, branch_C99ReprType_212, v240, v241, &v243, &v244, &v245, &v246, &v247);
							STR* v248;
							STRLIT(v248, ";", 1);
							PTUP v249;
							PTUP v250;
							mw_mirth_c99_ZPlusC99_put(v246, v247, v248, &v249, &v250);
							PTUP v251;
							PTUP v252;
							mw_mirth_c99_ZPlusC99_line(v249, v250, &v251, &v252);
							((TUP*)PTRPTR(v252))->cells[3] = MKBOOL(value_bool(MKBOOL(v226)));
							((TUP*)PTRPTR(branch_ZPlusC99Branch_217))->cells[0] = MKTUP(v252);
							PTUP v253;
							PTUP v254;
							mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v251, branch_ZPlusC99Branch_217, v242, &v253, &v254);
							branch_ZPlusMirth_206 = v253;
							branch_ZPlusC99Branch_205 = v254;
							branch_Label_204 = v245;
							branch_Tag_203 = v244;
							branch_Str_202 = v243;
							branch_C99ReprType_201 = v198;
						} else {
							branch_ZPlusMirth_206 = v199;
							branch_ZPlusC99Branch_205 = v197;
							branch_Label_204 = branch_Label_82;
							branch_Tag_203 = branch_Tag_83;
							branch_Str_202 = v187;
							branch_C99ReprType_201 = v198;
						}
						decref(MKTUP(branch_C99ReprType_201));
						branch_ZPlusMirth_194 = branch_ZPlusMirth_206;
						branch_ZPlusC99Branch_193 = branch_ZPlusC99Branch_205;
						branch_Str_192 = branch_Str_202;
						branch_Tag_191 = branch_Tag_203;
						branch_ZPlusC99Resource_190 = v183;
						branch_Label_189 = branch_Label_204;
						branch_Str_188 = branch_Str_88;
					} break;
					case 1LL: { // Right
						VAL v255 = mtp_std_either_Either_2_Right(branch_Either_85);
						decref(v255);
						branch_ZPlusMirth_194 = v186;
						branch_ZPlusC99Branch_193 = branch_ZPlusC99Branch_86;
						branch_Str_192 = v187;
						branch_Tag_191 = branch_Tag_83;
						branch_ZPlusC99Resource_190 = v183;
						branch_Label_189 = branch_Label_82;
						branch_Str_188 = branch_Str_88;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v256 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_193))->cells[3]);
				PTUP r257 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_193))->cells[0]);
				bool v258 = value_bool(((TUP*)PTRPTR(r257))->cells[3]);
				incref(MKBOOL(v258));
				bool v259 = (value_bool(MKBOOL(v256)) && value_bool(MKBOOL(v258)));
				((TUP*)PTRPTR(r257))->cells[3] = MKBOOL(v259);
				PTUP v260;
				PTUP v261;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_194, r257, &v260, &v261);
				STR* v262;
				STRLIT(v262, "((TUP*)PTRPTR(", 14);
				PTUP v263;
				PTUP v264;
				mw_mirth_c99_ZPlusC99_put(v260, v261, v262, &v263, &v264);
				incref(MKSTR(branch_Str_192));
				PTUP v265;
				PTUP v266;
				mw_mirth_c99_ZPlusC99_put(v263, v264, branch_Str_192, &v265, &v266);
				STR* v267;
				STRLIT(v267, "))->cells[", 10);
				PTUP v268;
				PTUP v269;
				mw_mirth_c99_ZPlusC99_put(v265, v266, v267, &v268, &v269);
				PTUP v270;
				PTUP v271;
				INT v272 = mw_mirth_c99_c99Z_tagZ_labelZ_index(v268, v269, branch_Tag_191, branch_Label_189, &v270, &v271);
				INT v273 = v272;
				STR* v274 = int_to_str(v273);
				PTUP v275;
				PTUP v276;
				mw_mirth_c99_ZPlusC99_put(v270, v271, v274, &v275, &v276);
				STR* v277;
				STRLIT(v277, "] = ", 4);
				PTUP v278;
				PTUP v279;
				mw_mirth_c99_ZPlusC99_put(v275, v276, v277, &v278, &v279);
				PTUP v280;
				PTUP v281;
				mw_mirth_c99_ZPlusC99_put(v278, v279, branch_Str_188, &v280, &v281);
				STR* v282;
				STRLIT(v282, ";", 1);
				PTUP v283;
				PTUP v284;
				mw_mirth_c99_ZPlusC99_put(v280, v281, v282, &v283, &v284);
				PTUP v285;
				PTUP v286;
				mw_mirth_c99_ZPlusC99_line(v283, v284, &v285, &v286);
				((TUP*)PTRPTR(v286))->cells[3] = MKBOOL(value_bool(MKBOOL(v258)));
				((TUP*)PTRPTR(branch_ZPlusC99Branch_193))->cells[0] = MKTUP(v286);
				PTUP v287;
				PTUP v288;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v285, branch_ZPlusC99Branch_193, branch_ZPlusC99Resource_190, &v287, &v288);
				decref(MKSTR(branch_Str_192));
				branch_ZPlusC99Branch_110 = v288;
				branch_ZPlusMirth_109 = v287;
				branch_Label_108 = branch_Label_189;
				branch_Tag_107 = branch_Tag_191;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_24 = branch_ZPlusC99Branch_110;
		branch_ZPlusMirth_23 = branch_ZPlusMirth_109;
		branch_C99ReprType_22 = branch_C99ReprType_81;
		branch_Tag_21 = branch_Tag_107;
		branch_Label_20 = branch_Label_108;
	}
	decref(MKU64(branch_Tag_21));
	decref(MKU64(branch_Label_20));
	decref(MKTUP(branch_C99ReprType_22));
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_24;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_23;
}
static void mw_mirth_c99_c99Z_tableZ_toZ_indexZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = mtw_mirth_c99_C99ReprType_Table(in_Table_3);
	PTUP v7;
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8, &v9);
	PTUP v10 = PTRMK(11LL /* U64 */,0,0);
	PTUP v11 = VTUP(((TUP*)PTRPTR(v9))->cells[0]);
	decref(MKTUP(v11));
	((TUP*)PTRPTR(v9))->cells[0] = MKTUP(v10);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v7, v8, v9, &v12, &v13);
	*out_ZPlusC99Branch_5 = v13;
	*out_ZPlusMirth_4 = v12;
}
static void mw_mirth_c99_c99Z_tableZ_fromZ_indexZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Table_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = PTRMK(11LL /* U64 */,0,0);
	PTUP v7;
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8, &v9);
	PTUP v10 = mtw_mirth_c99_C99ReprType_Table(in_Table_3);
	PTUP v11 = VTUP(((TUP*)PTRPTR(v9))->cells[0]);
	decref(MKTUP(v11));
	((TUP*)PTRPTR(v9))->cells[0] = MKTUP(v10);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v7, v8, v9, &v12, &v13);
	*out_ZPlusC99Branch_5 = v13;
	*out_ZPlusMirth_4 = v12;
}
static void mw_mirth_c99_c99Z_externalZ_blocksZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_external_ExternalBlock_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP v16;
		PTUP v17;
		mw_mirth_c99_c99Z_externalZ_blockZBang(r14, r13, v15, &v16, &v17);
		uint64_t v18 = 1ULL;
		uint64_t v19 = (v15 + v18);
		void* v20 = mbuf_mirth_external_ExternalBlock_NumBuffer;
		uint64_t v21 = *(uint64_t*)v20;
		bool v22 = (v19 <= v21);
		v12 = v22;
		v11 = v19;
		r10 = v16;
		r9 = v17;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_externalZ_blockZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_ExternalBlock_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_external_ExternalBlock_parts(in_ZPlusMirth_1, in_ExternalBlock_3, &v6);
	bool v8 = true;
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = v6;
	PTUP v11 = v7;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		PTUP r14 = r9;
		PTUP r15 = r10;
		PTUP v16 = v11;
		bool v17 = v12;
		PTUP branch_ZPlusC99_18;
		PTUP branch_ZPlusMirth_19;
		PTUP branch_List_20;
		bool branch_Bool_21;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Cons
				PTUP v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				PTUP branch_ZPlusMirth_24;
				PTUP branch_ZPlusC99_25;
				switch (PTREXTRA(VTUP(v23))) {
					case 0LL: { // EBPCode
						STR* v26 = mtp_mirth_external_ExternalBlockPart_EBPCode(VTUP(v23));
						PTUP v27;
						PTUP v28;
						mw_mirth_c99_ZPlusC99_put(r15, r14, v26, &v27, &v28);
						PTUP v29;
						PTUP v30;
						mw_mirth_c99_ZPlusC99_line(v27, v28, &v29, &v30);
						branch_ZPlusC99_25 = v30;
						branch_ZPlusMirth_24 = v29;
					} break;
					case 1LL: { // EBPDef
						uint64_t v31 = mtp_mirth_external_ExternalBlockPart_EBPDef(VTUP(v23));
						PTUP v32;
						PTUP v33;
						mw_mirth_c99_c99Z_externalZ_defZBang(r15, r14, v31, &v32, &v33);
						branch_ZPlusC99_25 = v33;
						branch_ZPlusMirth_24 = v32;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v34 = true;
				branch_Bool_21 = v34;
				branch_List_20 = v22;
				branch_ZPlusMirth_19 = branch_ZPlusMirth_24;
				branch_ZPlusC99_18 = branch_ZPlusC99_25;
			} break;
			case 0LL: { // Nil
				PTUP v35 = PTRMK(0LL /* Nil */,0,0);
				bool v36 = false;
				branch_Bool_21 = v36;
				branch_List_20 = v35;
				branch_ZPlusMirth_19 = r15;
				branch_ZPlusC99_18 = r14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		r10 = branch_ZPlusMirth_19;
		r9 = branch_ZPlusC99_18;
	}
	decref(MKTUP(v11));
	*out_ZPlusC99_5 = r9;
	*out_ZPlusMirth_4 = r10;
}
static STR* mw_mirth_external_External_cnameZ_type (PTUP in_ZPlusMirth_1, uint64_t in_External_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	PTUP v6;
	STR* v7 = mw_mirth_external_External_cname(in_ZPlusMirth_1, in_External_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_external_External_type(v6, in_External_2, &v8);
	*out_ArrowType_5 = v9;
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static PTUP mw_mirth_external_External_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_External_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	void* v7 = field_mut(&mfld_mirth_external_External_ZTildec99Z_api, in_External_3);
	bool v8 = mut_is_set(v7);
	PTUP branch_ZPlusC99_9;
	PTUP branch_ZPlusMirth_10;
	uint64_t branch_External_11;
	PTUP branch_C99API_12;
	if (v8) {
		VAL v13 = mut_get(v7);
		branch_C99API_12 = VTUP(v13);
		branch_External_11 = in_External_3;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		branch_ZPlusC99_9 = in_ZPlusC99_2;
	} else {
		PTUP v14;
		PTUP v15;
		STR* v16 = mw_mirth_external_External_cnameZ_type(in_ZPlusMirth_1, in_External_3, &v14, &v15);
		PTUP v17;
		PTUP v18;
		PTUP v19 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, in_ZPlusC99_2, v16, v15, &v17, &v18);
		incref(MKTUP(v19));
		mut_set(MKTUP(v19), v7);
		branch_C99API_12 = v19;
		branch_External_11 = in_External_3;
		branch_ZPlusMirth_10 = v17;
		branch_ZPlusC99_9 = v18;
	}
	decref(MKU64(branch_External_11));
	*out_ZPlusC99_5 = branch_ZPlusC99_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return VTUP(MKTUP(branch_C99API_12));
}
static void mw_mirth_c99_c99Z_externalZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, uint64_t in_External_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_external_External_c99Z_api(in_ZPlusMirth_1, r7, in_External_4, &v8, &v9);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v9);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_c99Z_smartZ_callZBang(v8, in_ZPlusC99Branch_2, in_List_3, v10, &v11, &v12);
	*out_ZPlusC99Branch_6 = v12;
	*out_ZPlusMirth_5 = v11;
}
static void mw_mirth_c99_c99Z_externalZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_External_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_external_External_ctype(in_ZPlusMirth_1, in_External_3, &v6);
	incref(MKTUP(v7));
	PTUP v8 = VTUP(((TUP*)PTRPTR(v7))->cells[1]);
	incref(MKTUP(v8));
	decref(MKTUP(v7));
	PTUP v9 = VTUP(((TUP*)PTRPTR(v8))->cells[1]);
	incref(MKTUP(v9));
	decref(MKTUP(v8));
	PTUP v10 = PTRMK(0LL /* None */,0,0);
	bool v11 = true;
	PTUP v12 = v10;
	PTUP v13 = v9;
	bool v14 = v11;
	bool v15 = v11;
	while (v15) {
		PTUP v16 = v12;
		PTUP v17 = v13;
		bool v18 = v14;
		PTUP v19;
		PTUP v20 = mw_std_list_List_1_uncons(v17, &v19);
		PTUP branch_Maybe_21;
		PTUP branch_List_22;
		bool branch_Bool_23;
		switch (PTREXTRA(v20)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v20);
				incref(MKTUP(VTUP(v24)));
				incref(MKTUP(VTUP(v24)));
				PTUP v25 = mw_mirth_type_CTypeStackPart_labelZAsk(VTUP(v24));
				int64_t v26 = PTREXTRA(v25);
				decref(MKTUP(v25));
				INT v27 = WRAP_I63(0LL);
				INT v28 = v27;
				INT v29 = i64_to_int(v26);
				bool v30 = int_eq(v29, v28);
				bool branch_Bool_31;
				if (v30) {
					PTUP v32 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v24));
					bool v33 = mw_mirth_type_CType_phantomZAsk(v32);
					bool v34 = !v33;
					branch_Bool_31 = v34;
				} else {
					decref(MKTUP(VTUP(v24)));
					bool v35 = false;
					branch_Bool_31 = v35;
				}
				PTUP branch_Maybe_36;
				if (branch_Bool_31) {
					PTUP v37 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v24)));
					branch_Maybe_36 = v37;
				} else {
					decref(MKTUP(VTUP(v24)));
					PTUP v38 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_36 = v38;
				}
				PTUP branch_Maybe_39;
				PTUP branch_List_40;
				switch (PTREXTRA(branch_Maybe_36)) {
					case 0LL: { // None
						branch_List_40 = VTUP(MKTUP(v19));
						branch_Maybe_39 = VTUP(MKTUP(v16));
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v19))));
						decref(MKTUP(VTUP(MKTUP(v16))));
						PTUP v41 = PTRMK(0LL /* Nil */,0,0);
						branch_List_40 = v41;
						branch_Maybe_39 = branch_Maybe_36;
					} break;
				}
				bool v42 = true;
				branch_Bool_23 = v42;
				branch_List_22 = branch_List_40;
				branch_Maybe_21 = branch_Maybe_39;
			} break;
			case 0LL: { // None
				bool v43 = false;
				branch_Bool_23 = v43;
				branch_List_22 = v19;
				branch_Maybe_21 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_23;
		v14 = branch_Bool_23;
		v13 = branch_List_22;
		v12 = branch_Maybe_21;
	}
	decref(MKTUP(v13));
	incref(MKTUP(v12));
	PTUP branch_CType_44;
	switch (PTREXTRA(v12)) {
		case 1LL: { // Some
			VAL v45 = mtp_std_maybe_Maybe_1_Some(v12);
			PTUP v46 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v45));
			branch_CType_44 = v46;
		} break;
		case 0LL: { // None
			STR* v47;
			STRLIT(v47, "void", 4);
			PTUP v48 = mtw_mirth_type_CType_Void(v47);
			branch_CType_44 = v48;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v49 = mw_mirth_type_CType_cname(branch_CType_44);
	PTUP v50;
	PTUP v51;
	mw_mirth_c99_ZPlusC99_put(v6, in_ZPlusC99_2, v49, &v50, &v51);
	STR* v52;
	STRLIT(v52, " ", 1);
	PTUP v53;
	PTUP v54;
	mw_mirth_c99_ZPlusC99_put(v50, v51, v52, &v53, &v54);
	PTUP v55;
	STR* v56 = mw_mirth_external_External_symbol(v53, in_External_3, &v55);
	PTUP v57;
	PTUP v58;
	mw_mirth_c99_ZPlusC99_put(v55, v54, v56, &v57, &v58);
	STR* v59;
	STRLIT(v59, " (", 2);
	PTUP v60;
	PTUP v61;
	mw_mirth_c99_ZPlusC99_put(v57, v58, v59, &v60, &v61);
	incref(MKTUP(v7));
	PTUP v62 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
	incref(MKTUP(v62));
	decref(MKTUP(v7));
	PTUP v63 = VTUP(((TUP*)PTRPTR(v62))->cells[1]);
	incref(MKTUP(v63));
	decref(MKTUP(v62));
	PTUP v64 = PTRMK(0LL /* Nil */,0,0);
	PTUP v65;
	mw_std_list_List_1_buildZBang(v64, &v65);
	bool v66 = true;
	PTUP r67 = v65;
	PTUP v68 = v63;
	bool v69 = v66;
	bool v70 = v66;
	while (v70) {
		PTUP r71 = r67;
		PTUP v72 = v68;
		bool v73 = v69;
		PTUP branch_ZPlusLister_74;
		PTUP branch_List_75;
		bool branch_Bool_76;
		switch (PTREXTRA(v72)) {
			case 1LL: { // Cons
				PTUP v77;
				VAL v78 = mtp_std_list_List_1_Cons(v72, &v77);
				incref(MKTUP(VTUP(v78)));
				PTUP v79 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v78));
				bool v80 = mw_mirth_type_CType_phantomZAsk(v79);
				bool v81 = !v80;
				PTUP branch_ZPlusLister_82;
				if (v81) {
					PTUP v83;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(VTUP(v78)), r71, &v83);
					branch_ZPlusLister_82 = v83;
				} else {
					decref(MKTUP(VTUP(v78)));
					branch_ZPlusLister_82 = r71;
				}
				bool v84 = true;
				branch_Bool_76 = v84;
				branch_List_75 = v77;
				branch_ZPlusLister_74 = branch_ZPlusLister_82;
			} break;
			case 0LL: { // Nil
				PTUP v85 = PTRMK(0LL /* Nil */,0,0);
				bool v86 = false;
				branch_Bool_76 = v86;
				branch_List_75 = v85;
				branch_ZPlusLister_74 = r71;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v70 = branch_Bool_76;
		v69 = branch_Bool_76;
		v68 = branch_List_75;
		r67 = branch_ZPlusLister_74;
	}
	decref(MKTUP(v68));
	PTUP v87 = mw_std_list_ZPlusLister_1_doneZBang(r67);
	PTUP branch_Maybe_88;
	uint64_t branch_External_89;
	PTUP branch_CTypeArrow_90;
	PTUP branch_ZPlusMirth_91;
	PTUP branch_ZPlusC99_92;
	switch (PTREXTRA(v87)) {
		case 0LL: { // Nil
			STR* v93;
			STRLIT(v93, "void", 4);
			PTUP v94;
			PTUP v95;
			mw_mirth_c99_ZPlusC99_put(v60, v61, v93, &v94, &v95);
			branch_ZPlusC99_92 = v95;
			branch_ZPlusMirth_91 = v94;
			branch_CTypeArrow_90 = v7;
			branch_External_89 = in_External_3;
			branch_Maybe_88 = v12;
		} break;
		default: {
			PTUP v96;
			PTUP v97 = mw_std_list_List_1_uncons(v87, &v96);
			PTUP branch_ZPlusMirth_98;
			PTUP branch_ZPlusC99_99;
			switch (PTREXTRA(v97)) {
				case 1LL: { // Some
					VAL v100 = mtp_std_maybe_Maybe_1_Some(v97);
					PTUP v101 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v100));
					STR* v102 = mw_mirth_type_CType_cname(v101);
					PTUP v103;
					PTUP v104;
					mw_mirth_c99_ZPlusC99_put(v60, v61, v102, &v103, &v104);
					branch_ZPlusC99_99 = v104;
					branch_ZPlusMirth_98 = v103;
				} break;
				case 0LL: { // None
					branch_ZPlusC99_99 = v61;
					branch_ZPlusMirth_98 = v60;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			bool v105 = true;
			PTUP r106 = branch_ZPlusMirth_98;
			PTUP r107 = branch_ZPlusC99_99;
			PTUP v108 = v96;
			bool v109 = v105;
			bool v110 = v105;
			while (v110) {
				PTUP r111 = r106;
				PTUP r112 = r107;
				PTUP v113 = v108;
				bool v114 = v109;
				PTUP branch_ZPlusMirth_115;
				PTUP branch_ZPlusC99_116;
				PTUP branch_List_117;
				bool branch_Bool_118;
				switch (PTREXTRA(v113)) {
					case 1LL: { // Cons
						PTUP v119;
						VAL v120 = mtp_std_list_List_1_Cons(v113, &v119);
						STR* v121;
						STRLIT(v121, ", ", 2);
						PTUP v122;
						PTUP v123;
						mw_mirth_c99_ZPlusC99_put(r111, r112, v121, &v122, &v123);
						PTUP v124 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v120));
						STR* v125 = mw_mirth_type_CType_cname(v124);
						PTUP v126;
						PTUP v127;
						mw_mirth_c99_ZPlusC99_put(v122, v123, v125, &v126, &v127);
						bool v128 = true;
						branch_Bool_118 = v128;
						branch_List_117 = v119;
						branch_ZPlusC99_116 = v127;
						branch_ZPlusMirth_115 = v126;
					} break;
					case 0LL: { // Nil
						PTUP v129 = PTRMK(0LL /* Nil */,0,0);
						bool v130 = false;
						branch_Bool_118 = v130;
						branch_List_117 = v129;
						branch_ZPlusC99_116 = r112;
						branch_ZPlusMirth_115 = r111;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v110 = branch_Bool_118;
				v109 = branch_Bool_118;
				v108 = branch_List_117;
				r107 = branch_ZPlusC99_116;
				r106 = branch_ZPlusMirth_115;
			}
			decref(MKTUP(v108));
			branch_ZPlusC99_92 = r107;
			branch_ZPlusMirth_91 = r106;
			branch_CTypeArrow_90 = v7;
			branch_External_89 = in_External_3;
			branch_Maybe_88 = v12;
		} break;
	}
	STR* v131;
	STRLIT(v131, ");", 2);
	PTUP v132;
	PTUP v133;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_91, branch_ZPlusC99_92, v131, &v132, &v133);
	PTUP v134;
	PTUP v135;
	mw_mirth_c99_ZPlusC99_line(v132, v133, &v134, &v135);
	PTUP v136;
	PTUP v137;
	PTUP v138 = mw_mirth_external_External_c99Z_api(v134, v135, branch_External_89, &v136, &v137);
	PTUP v139;
	PTUP v140;
	PTUP v141 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp96(v138, v136, v137, &v139, &v140);
	INT v142 = value_nat(((TUP*)PTRPTR(v140))->cells[1]);
	incref(MKNAT(v142));
	INT v143 = WRAP_I63(1LL);
	INT v144 = v142;
	INT v145 = v143;
	INT v146 = int_add(v144, v145);
	INT v147 = v146;
	INT v148 = value_nat(((TUP*)PTRPTR(v140))->cells[1]);
	decref(MKNAT(v148));
	((TUP*)PTRPTR(v140))->cells[1] = MKNAT(v147);
	incref(MKTUP(v141));
	PTUP v149;
	PTUP v150;
	mw_mirth_c99_c99Z_apiZ_enterZBang(v139, v140, v141, &v149, &v150);
	incref(MKTUP(branch_CTypeArrow_90));
	PTUP v151 = VTUP(((TUP*)PTRPTR(branch_CTypeArrow_90))->cells[0]);
	incref(MKTUP(v151));
	decref(MKTUP(branch_CTypeArrow_90));
	PTUP v152 = VTUP(((TUP*)PTRPTR(v151))->cells[1]);
	incref(MKTUP(v152));
	decref(MKTUP(v151));
	PTUP v153;
	PTUP v154 = mw_mirth_external_External_type(v149, branch_External_89, &v153);
	PTUP v155 = VTUP(((TUP*)PTRPTR(v154))->cells[0]);
	incref(MKTUP(v155));
	decref(MKTUP(v154));
	PTUP v156;
	PTUP v157 = mw_mirth_type_StackType_parts(v153, v155, &v156);
	PTUP v158 = mw_std_list_List_1_reverse(v157);
	incref(MKTUP(v152));
	INT v159 = mw_std_list_List_1_len(v152);
	PTUP v160 = mw_std_list_List_1_reverse(v152);
	bool v161 = true;
	INT v162 = v159;
	PTUP r163 = v150;
	PTUP r164 = v156;
	PTUP v165 = v158;
	PTUP v166 = v160;
	bool v167 = v161;
	bool v168 = v161;
	while (v168) {
		INT v169 = v162;
		PTUP r170 = r163;
		PTUP r171 = r164;
		PTUP v172 = v165;
		PTUP v173 = v166;
		bool v174 = v167;
		PTUP branch_List_175;
		INT branch_Nat_176;
		PTUP branch_ZPlusC99Branch_177;
		PTUP branch_ZPlusMirth_178;
		PTUP branch_List_179;
		bool branch_Bool_180;
		switch (PTREXTRA(v173)) {
			case 1LL: { // Cons
				PTUP v181;
				VAL v182 = mtp_std_list_List_1_Cons(v173, &v181);
				PTUP v183;
				PTUP v184 = mw_std_list_List_1_uncons(v172, &v183);
				PTUP branch_ZPlusMirth_185;
				VAL branch_z_x1_186;
				switch (PTREXTRA(v184)) {
					case 1LL: { // Some
						VAL v187 = mtp_std_maybe_Maybe_1_Some(v184);
						branch_z_x1_186 = v187;
						branch_ZPlusMirth_185 = r171;
					} break;
					case 0LL: { // None
						STR* v188;
						STRLIT(v188, "external unexpected domain", 26);
						mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(r171, v188);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v191;
				PTUP v192;
				STR* v193 = mw_mirth_c99_popZ_stackZ_partZ_nameZBang(branch_ZPlusMirth_185, r170, VTUP(branch_z_x1_186), &v191, &v192);
				incref(MKTUP(VTUP(v182)));
				PTUP v194 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v182));
				bool v195 = mw_mirth_type_CType_phantomZAsk(v194);
				INT branch_Nat_196;
				PTUP branch_List_197;
				PTUP branch_ZPlusMirth_198;
				PTUP branch_ZPlusC99Branch_199;
				PTUP branch_CTypeStackPart_200;
				if (v195) {
					decref(MKSTR(v193));
					branch_CTypeStackPart_200 = VTUP(v182);
					branch_ZPlusC99Branch_199 = v192;
					branch_ZPlusMirth_198 = v191;
					branch_List_197 = v183;
					branch_Nat_196 = v169;
				} else {
					bool v201 = value_bool(((TUP*)PTRPTR(v192))->cells[3]);
					PTUP r202 = VTUP(((TUP*)PTRPTR(v192))->cells[0]);
					bool v203 = value_bool(((TUP*)PTRPTR(r202))->cells[3]);
					incref(MKBOOL(v203));
					bool v204 = (value_bool(MKBOOL(v201)) && value_bool(MKBOOL(v203)));
					((TUP*)PTRPTR(r202))->cells[3] = MKBOOL(v204);
					PTUP v205;
					PTUP v206;
					mw_mirth_c99_ZPlusC99_indent(v191, r202, &v205, &v206);
					incref(MKTUP(VTUP(v182)));
					PTUP v207 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v182));
					STR* v208 = mw_mirth_type_CType_cname(v207);
					PTUP v209;
					PTUP v210;
					mw_mirth_c99_ZPlusC99_put(v205, v206, v208, &v209, &v210);
					STR* v211;
					STRLIT(v211, " ", 1);
					PTUP v212;
					PTUP v213;
					mw_mirth_c99_ZPlusC99_put(v209, v210, v211, &v212, &v213);
					incref(MKTUP(VTUP(v182)));
					PTUP v214;
					PTUP v215;
					INT v216;
					STR* v217 = mw_mirth_type_CTypeStackPart_c99Z_argZ_name(v212, v213, v169, VTUP(v182), &v214, &v215, &v216);
					PTUP v218;
					PTUP v219;
					mw_mirth_c99_ZPlusC99_put(v214, v215, v217, &v218, &v219);
					STR* v220;
					STRLIT(v220, " = (", 4);
					PTUP v221;
					PTUP v222;
					mw_mirth_c99_ZPlusC99_put(v218, v219, v220, &v221, &v222);
					incref(MKTUP(VTUP(v182)));
					PTUP v223 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v182));
					STR* v224 = mw_mirth_type_CType_cname(v223);
					PTUP v225;
					PTUP v226;
					mw_mirth_c99_ZPlusC99_put(v221, v222, v224, &v225, &v226);
					STR* v227;
					STRLIT(v227, ")(", 2);
					PTUP v228;
					PTUP v229;
					mw_mirth_c99_ZPlusC99_put(v225, v226, v227, &v228, &v229);
					PTUP v230;
					PTUP v231;
					mw_mirth_c99_ZPlusC99_put(v228, v229, v193, &v230, &v231);
					STR* v232;
					STRLIT(v232, ");", 2);
					PTUP v233;
					PTUP v234;
					mw_mirth_c99_ZPlusC99_put(v230, v231, v232, &v233, &v234);
					PTUP v235;
					PTUP v236;
					mw_mirth_c99_ZPlusC99_line(v233, v234, &v235, &v236);
					((TUP*)PTRPTR(v236))->cells[3] = MKBOOL(value_bool(MKBOOL(v203)));
					((TUP*)PTRPTR(v192))->cells[0] = MKTUP(v236);
					branch_CTypeStackPart_200 = VTUP(v182);
					branch_ZPlusC99Branch_199 = v192;
					branch_ZPlusMirth_198 = v235;
					branch_List_197 = v183;
					branch_Nat_196 = v216;
				}
				decref(MKTUP(branch_CTypeStackPart_200));
				INT v237 = WRAP_I63(1LL);
				INT v238 = branch_Nat_196;
				INT v239 = v237;
				INT v240 = int_sub(v238, v239);
				incref(MKINT(v240));
				INT v241 = WRAP_I63(0LL);
				INT v242 = v241;
				bool v243 = int_le(v242, v240);
				INT branch_Nat_244;
				if (v243) {
					INT v245 = v240;
					branch_Nat_244 = v245;
				} else {
					decref(MKINT(v240));
					INT v246 = WRAP_I63(0LL);
					branch_Nat_244 = v246;
				}
				bool v247 = true;
				branch_Bool_180 = v247;
				branch_List_179 = v181;
				branch_ZPlusMirth_178 = branch_ZPlusMirth_198;
				branch_ZPlusC99Branch_177 = branch_ZPlusC99Branch_199;
				branch_Nat_176 = branch_Nat_244;
				branch_List_175 = branch_List_197;
			} break;
			case 0LL: { // Nil
				PTUP v248 = PTRMK(0LL /* Nil */,0,0);
				bool v249 = false;
				branch_Bool_180 = v249;
				branch_List_179 = v248;
				branch_ZPlusMirth_178 = r171;
				branch_ZPlusC99Branch_177 = r170;
				branch_Nat_176 = v169;
				branch_List_175 = v172;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v168 = branch_Bool_180;
		v167 = branch_Bool_180;
		v166 = branch_List_179;
		v165 = branch_List_175;
		r164 = branch_ZPlusMirth_178;
		r163 = branch_ZPlusC99Branch_177;
		v162 = branch_Nat_176;
	}
	decref(MKTUP(v166));
	bool v250 = value_bool(((TUP*)PTRPTR(r163))->cells[3]);
	PTUP r251 = VTUP(((TUP*)PTRPTR(r163))->cells[0]);
	bool v252 = value_bool(((TUP*)PTRPTR(r251))->cells[3]);
	incref(MKBOOL(v252));
	bool v253 = (value_bool(MKBOOL(v250)) && value_bool(MKBOOL(v252)));
	((TUP*)PTRPTR(r251))->cells[3] = MKBOOL(v253);
	PTUP v254;
	PTUP v255;
	mw_mirth_c99_ZPlusC99_indent(r164, r251, &v254, &v255);
	incref(MKTUP(branch_Maybe_88));
	PTUP branch_ZPlusMirth_256;
	PTUP branch_ZPlusC99_257;
	switch (PTREXTRA(branch_Maybe_88)) {
		case 1LL: { // Some
			VAL v258 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_88);
			PTUP v259 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v258));
			STR* v260 = mw_mirth_type_CType_cname(v259);
			PTUP v261;
			PTUP v262;
			mw_mirth_c99_ZPlusC99_put(v254, v255, v260, &v261, &v262);
			STR* v263;
			STRLIT(v263, " Y = ", 5);
			PTUP v264;
			PTUP v265;
			mw_mirth_c99_ZPlusC99_put(v261, v262, v263, &v264, &v265);
			branch_ZPlusC99_257 = v265;
			branch_ZPlusMirth_256 = v264;
		} break;
		case 0LL: { // None
			branch_ZPlusC99_257 = v255;
			branch_ZPlusMirth_256 = v254;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v266;
	STR* v267 = mw_mirth_external_External_symbol(branch_ZPlusMirth_256, branch_External_89, &v266);
	PTUP v268;
	PTUP v269;
	mw_mirth_c99_ZPlusC99_put(v266, branch_ZPlusC99_257, v267, &v268, &v269);
	STR* v270;
	STRLIT(v270, "(", 1);
	PTUP v271;
	PTUP v272;
	mw_mirth_c99_ZPlusC99_put(v268, v269, v270, &v271, &v272);
	INT v273 = WRAP_I63(1LL);
	decref(MKNAT(v162));
	incref(MKTUP(branch_CTypeArrow_90));
	PTUP v274 = VTUP(((TUP*)PTRPTR(branch_CTypeArrow_90))->cells[0]);
	incref(MKTUP(v274));
	decref(MKTUP(branch_CTypeArrow_90));
	PTUP v275 = VTUP(((TUP*)PTRPTR(v274))->cells[1]);
	incref(MKTUP(v275));
	decref(MKTUP(v274));
	PTUP v276 = PTRMK(0LL /* Nil */,0,0);
	PTUP v277;
	mw_std_list_List_1_buildZBang(v276, &v277);
	bool v278 = true;
	PTUP r279 = v271;
	PTUP r280 = v272;
	INT v281 = v273;
	PTUP r282 = v277;
	PTUP v283 = v275;
	bool v284 = v278;
	bool v285 = v278;
	while (v285) {
		PTUP r286 = r279;
		PTUP r287 = r280;
		INT v288 = v281;
		PTUP r289 = r282;
		PTUP v290 = v283;
		bool v291 = v284;
		PTUP branch_ZPlusMirth_292;
		PTUP branch_ZPlusC99_293;
		INT branch_Nat_294;
		PTUP branch_ZPlusLister_295;
		PTUP branch_List_296;
		bool branch_Bool_297;
		switch (PTREXTRA(v290)) {
			case 1LL: { // Cons
				PTUP v298;
				VAL v299 = mtp_std_list_List_1_Cons(v290, &v298);
				incref(MKTUP(VTUP(v299)));
				PTUP v300 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v299));
				bool v301 = mw_mirth_type_CType_phantomZAsk(v300);
				PTUP branch_ZPlusMirth_302;
				PTUP branch_ZPlusC99_303;
				INT branch_Nat_304;
				PTUP branch_Maybe_305;
				if (v301) {
					decref(MKTUP(VTUP(v299)));
					PTUP v306 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_305 = v306;
					branch_Nat_304 = v288;
					branch_ZPlusC99_303 = r287;
					branch_ZPlusMirth_302 = r286;
				} else {
					PTUP v307;
					PTUP v308;
					INT v309;
					STR* v310 = mw_mirth_type_CTypeStackPart_c99Z_argZ_name(r286, r287, v288, VTUP(v299), &v307, &v308, &v309);
					PTUP v311 = mtw_std_maybe_Maybe_1_Some(MKSTR(v310));
					branch_Maybe_305 = v311;
					branch_Nat_304 = v309;
					branch_ZPlusC99_303 = v308;
					branch_ZPlusMirth_302 = v307;
				}
				INT v312 = WRAP_I63(1LL);
				INT v313 = branch_Nat_304;
				INT v314 = v312;
				INT v315 = int_add(v313, v314);
				INT v316 = v315;
				PTUP v317;
				mw_std_maybe_Maybe_1_for_1_sp2(r289, branch_Maybe_305, &v317);
				bool v318 = true;
				branch_Bool_297 = v318;
				branch_List_296 = v298;
				branch_ZPlusLister_295 = v317;
				branch_Nat_294 = v316;
				branch_ZPlusC99_293 = branch_ZPlusC99_303;
				branch_ZPlusMirth_292 = branch_ZPlusMirth_302;
			} break;
			case 0LL: { // Nil
				PTUP v319 = PTRMK(0LL /* Nil */,0,0);
				bool v320 = false;
				branch_Bool_297 = v320;
				branch_List_296 = v319;
				branch_ZPlusLister_295 = r289;
				branch_Nat_294 = v288;
				branch_ZPlusC99_293 = r287;
				branch_ZPlusMirth_292 = r286;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v285 = branch_Bool_297;
		v284 = branch_Bool_297;
		v283 = branch_List_296;
		r282 = branch_ZPlusLister_295;
		v281 = branch_Nat_294;
		r280 = branch_ZPlusC99_293;
		r279 = branch_ZPlusMirth_292;
	}
	decref(MKTUP(v283));
	PTUP v321 = mw_std_list_ZPlusLister_1_doneZBang(r282);
	PTUP v322;
	PTUP v323 = mw_std_list_List_1_uncons(v321, &v322);
	PTUP branch_ZPlusMirth_324;
	PTUP branch_ZPlusC99_325;
	switch (PTREXTRA(v323)) {
		case 1LL: { // Some
			VAL v326 = mtp_std_maybe_Maybe_1_Some(v323);
			PTUP v327;
			PTUP v328;
			mw_mirth_c99_ZPlusC99_put(r279, r280, value_str(v326), &v327, &v328);
			branch_ZPlusC99_325 = v328;
			branch_ZPlusMirth_324 = v327;
		} break;
		case 0LL: { // None
			branch_ZPlusC99_325 = r280;
			branch_ZPlusMirth_324 = r279;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v329 = true;
	PTUP r330 = branch_ZPlusMirth_324;
	PTUP r331 = branch_ZPlusC99_325;
	PTUP v332 = v322;
	bool v333 = v329;
	bool v334 = v329;
	while (v334) {
		PTUP r335 = r330;
		PTUP r336 = r331;
		PTUP v337 = v332;
		bool v338 = v333;
		PTUP branch_ZPlusMirth_339;
		PTUP branch_ZPlusC99_340;
		PTUP branch_List_341;
		bool branch_Bool_342;
		switch (PTREXTRA(v337)) {
			case 1LL: { // Cons
				PTUP v343;
				VAL v344 = mtp_std_list_List_1_Cons(v337, &v343);
				STR* v345;
				STRLIT(v345, ", ", 2);
				PTUP v346;
				PTUP v347;
				mw_mirth_c99_ZPlusC99_put(r335, r336, v345, &v346, &v347);
				PTUP v348;
				PTUP v349;
				mw_mirth_c99_ZPlusC99_put(v346, v347, value_str(v344), &v348, &v349);
				bool v350 = true;
				branch_Bool_342 = v350;
				branch_List_341 = v343;
				branch_ZPlusC99_340 = v349;
				branch_ZPlusMirth_339 = v348;
			} break;
			case 0LL: { // Nil
				PTUP v351 = PTRMK(0LL /* Nil */,0,0);
				bool v352 = false;
				branch_Bool_342 = v352;
				branch_List_341 = v351;
				branch_ZPlusC99_340 = r336;
				branch_ZPlusMirth_339 = r335;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v334 = branch_Bool_342;
		v333 = branch_Bool_342;
		v332 = branch_List_341;
		r331 = branch_ZPlusC99_340;
		r330 = branch_ZPlusMirth_339;
	}
	decref(MKTUP(v332));
	STR* v353;
	STRLIT(v353, ");", 2);
	PTUP v354;
	PTUP v355;
	mw_mirth_c99_ZPlusC99_put(r330, r331, v353, &v354, &v355);
	PTUP v356;
	PTUP v357;
	mw_mirth_c99_ZPlusC99_line(v354, v355, &v356, &v357);
	((TUP*)PTRPTR(v357))->cells[3] = MKBOOL(value_bool(MKBOOL(v252)));
	((TUP*)PTRPTR(r163))->cells[0] = MKTUP(v357);
	PTUP v358;
	PTUP v359 = mw_mirth_external_External_type(v356, branch_External_89, &v358);
	PTUP v360 = VTUP(((TUP*)PTRPTR(v359))->cells[1]);
	incref(MKTUP(v360));
	decref(MKTUP(v359));
	PTUP v361;
	PTUP v362 = mw_mirth_type_StackType_parts(v358, v360, &v361);
	incref(MKTUP(branch_CTypeArrow_90));
	PTUP v363 = VTUP(((TUP*)PTRPTR(branch_CTypeArrow_90))->cells[1]);
	incref(MKTUP(v363));
	decref(MKTUP(branch_CTypeArrow_90));
	PTUP v364 = VTUP(((TUP*)PTRPTR(v363))->cells[1]);
	incref(MKTUP(v364));
	decref(MKTUP(v363));
	bool v365 = true;
	PTUP r366 = r163;
	PTUP v367 = v362;
	PTUP r368 = v361;
	PTUP v369 = v364;
	bool v370 = v365;
	bool v371 = v365;
	while (v371) {
		PTUP r372 = r366;
		PTUP v373 = v367;
		PTUP r374 = r368;
		PTUP v375 = v369;
		bool v376 = v370;
		PTUP branch_List_377;
		PTUP branch_ZPlusC99Branch_378;
		PTUP branch_ZPlusMirth_379;
		PTUP branch_List_380;
		bool branch_Bool_381;
		switch (PTREXTRA(v375)) {
			case 1LL: { // Cons
				PTUP v382;
				VAL v383 = mtp_std_list_List_1_Cons(v375, &v382);
				incref(MKTUP(VTUP(v383)));
				PTUP v384 = mw_mirth_type_CTypeStackPart_ctype(VTUP(v383));
				bool v385 = mw_mirth_type_CType_phantomZAsk(v384);
				PTUP branch_ZPlusC99Branch_386;
				PTUP branch_List_387;
				PTUP branch_ZPlusMirth_388;
				VAL branch__389;
				if (v385) {
					decref(MKTUP(VTUP(v383)));
					STR* v390;
					STRLIT(v390, "0", 1);
					branch__389 = MKSTR(v390);
					branch_ZPlusMirth_388 = r374;
					branch_List_387 = v373;
					branch_ZPlusC99Branch_386 = r372;
				} else {
					PTUP v391 = mw_mirth_type_CTypeStackPart_labelZAsk(VTUP(v383));
					PTUP branch_ZPlusMirth_392;
					STR* branch_Str_393;
					switch (PTREXTRA(v391)) {
						case 1LL: { // Some
							VAL v394 = mtp_std_maybe_Maybe_1_Some(v391);
							PTUP v395;
							uint64_t v396 = mw_mirth_label_Label_name(r374, value_u64(v394), &v395);
							PTUP v397;
							STR* v398 = mw_mirth_name_Name_mangled(v395, v396, &v397);
							branch_Str_393 = v398;
							branch_ZPlusMirth_392 = v397;
						} break;
						case 0LL: { // None
							STR* v399;
							STRLIT(v399, "Y", 1);
							branch_Str_393 = v399;
							branch_ZPlusMirth_392 = r374;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch__389 = MKSTR(branch_Str_393);
					branch_ZPlusMirth_388 = branch_ZPlusMirth_392;
					branch_List_387 = v373;
					branch_ZPlusC99Branch_386 = r372;
				}
				PTUP v400;
				PTUP v401 = mw_std_list_List_1_uncons(branch_List_387, &v400);
				PTUP branch_ZPlusMirth_402;
				VAL branch_z_x1_403;
				switch (PTREXTRA(v401)) {
					case 1LL: { // Some
						VAL v404 = mtp_std_maybe_Maybe_1_Some(v401);
						branch_z_x1_403 = v404;
						branch_ZPlusMirth_402 = branch_ZPlusMirth_388;
					} break;
					case 0LL: { // None
						STR* v405;
						STRLIT(v405, "external unexpected codomain", 28);
						mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(branch_ZPlusMirth_388, v405);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v408;
				PTUP v409;
				mw_mirth_c99_pushZ_stackZ_partZ_nameZBang(branch_ZPlusMirth_402, branch_ZPlusC99Branch_386, value_str(branch__389), VTUP(branch_z_x1_403), &v408, &v409);
				bool v410 = true;
				branch_Bool_381 = v410;
				branch_List_380 = v382;
				branch_ZPlusMirth_379 = v408;
				branch_ZPlusC99Branch_378 = v409;
				branch_List_377 = v400;
			} break;
			case 0LL: { // Nil
				PTUP v411 = PTRMK(0LL /* Nil */,0,0);
				bool v412 = false;
				branch_Bool_381 = v412;
				branch_List_380 = v411;
				branch_ZPlusMirth_379 = r374;
				branch_ZPlusC99Branch_378 = r372;
				branch_List_377 = v373;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v371 = branch_Bool_381;
		v370 = branch_Bool_381;
		v369 = branch_List_380;
		r368 = branch_ZPlusMirth_379;
		v367 = branch_List_377;
		r366 = branch_ZPlusC99Branch_378;
	}
	decref(MKTUP(v369));
	decref(MKTUP(v367));
	decref(MKTUP(v165));
	PTUP v413;
	PTUP v414;
	mw_mirth_c99_c99Z_apiZ_exitZBang(r368, r366, v141, &v413, &v414);
	INT v415 = value_nat(((TUP*)PTRPTR(v414))->cells[1]);
	incref(MKNAT(v415));
	INT v416 = WRAP_I63(1LL);
	INT v417 = v415;
	INT v418 = v416;
	INT v419 = int_sub(v417, v418);
	incref(MKINT(v419));
	INT v420 = WRAP_I63(0LL);
	INT v421 = v420;
	bool v422 = int_le(v421, v419);
	INT branch_Nat_423;
	if (v422) {
		INT v424 = v419;
		branch_Nat_423 = v424;
	} else {
		decref(MKINT(v419));
		INT v425 = WRAP_I63(0LL);
		branch_Nat_423 = v425;
	}
	INT v426 = value_nat(((TUP*)PTRPTR(v414))->cells[1]);
	decref(MKNAT(v426));
	((TUP*)PTRPTR(v414))->cells[1] = MKNAT(branch_Nat_423);
	PTUP v427;
	PTUP v428;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v413, v414, &v427, &v428);
	decref(MKNAT(v281));
	decref(MKTUP(branch_Maybe_88));
	decref(MKTUP(branch_CTypeArrow_90));
	decref(MKU64(branch_External_89));
	*out_ZPlusC99_5 = v428;
	*out_ZPlusMirth_4 = v427;
}
static STR* mw_mirth_type_CTypeStackPart_c99Z_argZ_name (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, INT in_Nat_3, PTUP in_CTypeStackPart_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6, INT *out_Nat_7) {
	PTUP v9 = mw_mirth_type_CTypeStackPart_labelZAsk(in_CTypeStackPart_4);
	INT branch_Nat_10;
	VAL branch_z_x1_11;
	PTUP branch_ZPlusMirth_12;
	STR* branch_Str_13;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v9);
			PTUP v15;
			uint64_t v16 = mw_mirth_label_Label_name(in_ZPlusMirth_1, value_u64(v14), &v15);
			PTUP v17;
			STR* v18 = mw_mirth_name_Name_mangled(v15, v16, &v17);
			branch_Str_13 = v18;
			branch_ZPlusMirth_12 = v17;
			branch_z_x1_11 = MKTUP(in_ZPlusC99_2);
			branch_Nat_10 = in_Nat_3;
		} break;
		case 0LL: { // None
			STR* v19;
			STRLIT(v19, "", 0);
			STR* v20;
			STRLIT(v20, "X", 1);
			STR* v21;
			mw_std_str_ZPlusStr_pushZ_strZBang(v20, v19, &v21);
			incref(MKNAT(in_Nat_3));
			INT v22 = in_Nat_3;
			STR* v23 = int_to_str(v22);
			STR* v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(v23, v21, &v24);
			branch_Str_13 = v24;
			branch_ZPlusMirth_12 = in_ZPlusMirth_1;
			branch_z_x1_11 = MKTUP(in_ZPlusC99_2);
			branch_Nat_10 = in_Nat_3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Nat_7 = branch_Nat_10;
	*out_ZPlusC99_6 = VTUP(branch_z_x1_11);
	*out_ZPlusMirth_5 = branch_ZPlusMirth_12;
	return branch_Str_13;
}
static void mw_mirth_c99_ZPlusC99_indent (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	INT v5 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[1]);
	incref(MKNAT(v5));
	incref(MKNAT(v5));
	INT v6 = WRAP_I63(0LL);
	INT v7 = v5;
	INT v8 = v6;
	bool v9 = int_lt(v8, v7);
	PTUP r10 = in_ZPlusMirth_1;
	PTUP r11 = in_ZPlusC99_2;
	INT v12 = v5;
	bool v13 = v9;
	while (v13) {
		PTUP r14 = r10;
		PTUP r15 = r11;
		INT v16 = v12;
		STR* v17;
		STRLIT(v17, "\t", 1);
		PTUP v18;
		PTUP v19;
		mw_mirth_c99_ZPlusC99_put(r14, r15, v17, &v18, &v19);
		INT v20 = WRAP_I63(1LL);
		INT v21 = v16;
		INT v22 = v20;
		INT v23 = int_sub(v21, v22);
		incref(MKINT(v23));
		INT v24 = WRAP_I63(0LL);
		INT v25 = v24;
		bool v26 = int_le(v25, v23);
		INT branch_Nat_27;
		if (v26) {
			INT v28 = v23;
			branch_Nat_27 = v28;
		} else {
			decref(MKINT(v23));
			INT v29 = WRAP_I63(0LL);
			branch_Nat_27 = v29;
		}
		incref(MKNAT(branch_Nat_27));
		INT v30 = WRAP_I63(0LL);
		INT v31 = branch_Nat_27;
		INT v32 = v30;
		bool v33 = int_lt(v32, v31);
		v13 = v33;
		v12 = branch_Nat_27;
		r11 = v19;
		r10 = v18;
	}
	decref(MKNAT(v12));
	*out_ZPlusC99_4 = r11;
	*out_ZPlusMirth_3 = r10;
}
static VAL mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix (int64_t in_C99APIArgMode_1) {
	VAL branch__3;
	switch (in_C99APIArgMode_1) {
		case 0LL: { // In
			STR* v4;
			STRLIT(v4, "in_", 3);
			branch__3 = MKSTR(v4);
		} break;
		case 1LL: { // Out
			STR* v5;
			STRLIT(v5, "out_", 4);
			branch__3 = MKSTR(v5);
		} break;
		case 2LL: { // InOut
			STR* v6;
			STRLIT(v6, "inout_", 6);
			branch__3 = MKSTR(v6);
		} break;
		case 3LL: { // Branch
			STR* v7;
			STRLIT(v7, "branch_", 7);
			branch__3 = MKSTR(v7);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch__3;
}
static bool mw_mirth_c99_C99APIArg_isZ_physicalZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99APIArg_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_C99APIArg_2))->cells[2]);
	incref(MKTUP(v5));
	decref(MKTUP(in_C99APIArg_2));
	PTUP v6;
	bool v7 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static bool mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99APIArg_2, PTUP *out_ZPlusMirth_3) {
	incref(MKTUP(in_C99APIArg_2));
	PTUP v5;
	bool v6 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99APIArg_2, &v5);
	PTUP branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		PTUP v9 = VTUP(((TUP*)PTRPTR(in_C99APIArg_2))->cells[1]);
		incref(MKTUP(v9));
		decref(MKTUP(in_C99APIArg_2));
		PTUP branch_ZPlusMirth_10;
		bool branch_Bool_11;
		switch (PTREXTRA(v9)) {
			case 0LL: { // Value
				bool v12 = true;
				branch_Bool_11 = v12;
				branch_ZPlusMirth_10 = v5;
			} break;
			case 1LL: { // ValueLabel
				uint64_t v13 = mtp_mirth_c99_C99APIArgSource_ValueLabel(v9);
				bool v14 = false;
				branch_Bool_11 = v14;
				branch_ZPlusMirth_10 = v5;
			} break;
			default: {
				decref(MKTUP(v9));
				bool v15 = false;
				branch_Bool_11 = v15;
				branch_ZPlusMirth_10 = v5;
			} break;
		}
		branch_Bool_8 = branch_Bool_11;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_10;
	} else {
		decref(MKTUP(in_C99APIArg_2));
		bool v16 = false;
		branch_Bool_8 = v16;
		branch_ZPlusMirth_7 = v5;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static STR* mw_mirth_c99_C99APIArg_popZ_consumeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_C99APIArg_3))->cells[2]);
	incref(MKTUP(v7));
	decref(MKTUP(in_C99APIArg_3));
	incref(MKTUP(v7));
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_C99APIArg_3))->cells[1]);
	incref(MKTUP(v8));
	decref(MKTUP(in_C99APIArg_3));
	PTUP branch_ZPlusC99Branch_9;
	PTUP branch_ZPlusMirth_10;
	STR* branch_Str_11;
	switch (PTREXTRA(v8)) {
		case 0LL: { // Value
			PTUP v12;
			PTUP v13;
			PTUP v14;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v12, &v13, &v14);
			PTUP v15;
			STR* v16 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v12, v7, v14, &v15);
			branch_Str_11 = v16;
			branch_ZPlusMirth_10 = v15;
			branch_ZPlusC99Branch_9 = v13;
		} break;
		case 2LL: { // Resource
			PTUP v17;
			PTUP v18;
			PTUP v19;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v17, &v18, &v19);
			PTUP v20;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v19, &v20);
			PTUP v21;
			STR* v22 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v17, v7, v20, &v21);
			branch_Str_11 = v22;
			branch_ZPlusMirth_10 = v21;
			branch_ZPlusC99Branch_9 = v18;
		} break;
		case 1LL: { // ValueLabel
			uint64_t v23 = mtp_mirth_c99_C99APIArgSource_ValueLabel(v8);
			PTUP v24;
			PTUP v25;
			PTUP v26;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, v23, &v24, &v25, &v26);
			PTUP v27;
			STR* v28 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v24, v7, v26, &v27);
			branch_Str_11 = v28;
			branch_ZPlusMirth_10 = v27;
			branch_ZPlusC99Branch_9 = v25;
		} break;
		case 3LL: { // ResourceLabel
			uint64_t v29 = mtp_mirth_c99_C99APIArgSource_ResourceLabel(v8);
			PTUP v30;
			PTUP v31;
			PTUP v32;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, v29, &v30, &v31, &v32);
			PTUP v33;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v32, &v33);
			PTUP v34;
			STR* v35 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v30, v7, v33, &v34);
			branch_Str_11 = v35;
			branch_ZPlusMirth_10 = v34;
			branch_ZPlusC99Branch_9 = v31;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Str_11;
}
static PTUP mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3));
	PTUP v7;
	PTUP v8;
	STR* v9 = mw_mirth_c99_C99APIArg_popZ_consumeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99APIArg_3, &v7, &v8);
	PTUP v10;
	bool v11 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(v7, in_C99APIArg_3, &v10);
	PTUP branch_ZPlusC99Branch_12;
	PTUP branch_ZPlusMirth_13;
	PTUP branch_Maybe_14;
	if (v11) {
		PTUP v15 = mtw_std_maybe_Maybe_1_Some(MKSTR(v9));
		branch_Maybe_14 = v15;
		branch_ZPlusMirth_13 = v10;
		branch_ZPlusC99Branch_12 = v8;
	} else {
		decref(MKSTR(v9));
		PTUP v16 = PTRMK(0LL /* None */,0,0);
		branch_Maybe_14 = v16;
		branch_ZPlusMirth_13 = v10;
		branch_ZPlusC99Branch_12 = v8;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_13;
	return branch_Maybe_14;
}
static void mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3));
	PTUP v6;
	PTUP v7;
	PTUP v8 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99APIArg_3, &v6, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			bool v12 = value_bool(((TUP*)PTRPTR(v7))->cells[3]);
			PTUP r13 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
			bool v14 = value_bool(((TUP*)PTRPTR(r13))->cells[3]);
			incref(MKBOOL(v14));
			bool v15 = (value_bool(MKBOOL(v12)) && value_bool(MKBOOL(v14)));
			((TUP*)PTRPTR(r13))->cells[3] = MKBOOL(v15);
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_ZPlusC99_indent(v6, r13, &v16, &v17);
			STR* v18 = value_str(((TUP*)PTRPTR(in_C99APIArg_3))->cells[3]);
			incref(MKSTR(v18));
			decref(MKTUP(in_C99APIArg_3));
			PTUP v19;
			PTUP v20;
			mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
			STR* v21;
			STRLIT(v21, " = ", 3);
			PTUP v22;
			PTUP v23;
			mw_mirth_c99_ZPlusC99_put(v19, v20, v21, &v22, &v23);
			PTUP v24;
			PTUP v25;
			mw_mirth_c99_ZPlusC99_put(v22, v23, value_str(v11), &v24, &v25);
			STR* v26;
			STRLIT(v26, ";", 1);
			PTUP v27;
			PTUP v28;
			mw_mirth_c99_ZPlusC99_put(v24, v25, v26, &v27, &v28);
			PTUP v29;
			PTUP v30;
			mw_mirth_c99_ZPlusC99_line(v27, v28, &v29, &v30);
			((TUP*)PTRPTR(v30))->cells[3] = MKBOOL(value_bool(MKBOOL(v14)));
			((TUP*)PTRPTR(v7))->cells[0] = MKTUP(v30);
			branch_ZPlusC99Branch_10 = v7;
			branch_ZPlusMirth_9 = v29;
		} break;
		case 0LL: { // None
			decref(MKTUP(in_C99APIArg_3));
			branch_ZPlusC99Branch_10 = v7;
			branch_ZPlusMirth_9 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	int64_t v6;
	PTUP v7;
	PTUP v8;
	STR* v9;
	mtp_mirth_c99_C99APIArg_C99APIArg(in_C99APIArg_3, &v6, &v7, &v8, &v9);
	PTUP v10;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v8, v9, &v10);
	PTUP branch_ZPlusMirth_11;
	PTUP branch_ZPlusC99Branch_12;
	switch (PTREXTRA(v7)) {
		case 0LL: { // Value
			PTUP v13;
			PTUP v14;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v10, &v13, &v14);
			branch_ZPlusC99Branch_12 = v14;
			branch_ZPlusMirth_11 = v13;
		} break;
		case 1LL: { // ValueLabel
			uint64_t v15 = mtp_mirth_c99_C99APIArgSource_ValueLabel(v7);
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_pushZ_valueZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v15, v10, &v16, &v17);
			branch_ZPlusC99Branch_12 = v17;
			branch_ZPlusMirth_11 = v16;
		} break;
		case 2LL: { // Resource
			PTUP v18;
			mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v10, &v18);
			PTUP v19;
			PTUP v20;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v18, &v19, &v20);
			branch_ZPlusC99Branch_12 = v20;
			branch_ZPlusMirth_11 = v19;
		} break;
		case 3LL: { // ResourceLabel
			uint64_t v21 = mtp_mirth_c99_C99APIArgSource_ResourceLabel(v7);
			PTUP v22;
			mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v10, &v22);
			PTUP v23;
			PTUP v24;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v21, v22, &v23, &v24);
			branch_ZPlusC99Branch_12 = v24;
			branch_ZPlusMirth_11 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static STR* mw_mirth_c99_nameZ_argZ_prefix (PTUP in_ZPlusMirth_1, uint64_t in_Name_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	STR* v6 = mw_mirth_name_Name_mangled(in_ZPlusMirth_1, in_Name_2, &v5);
	STR* v7;
	STRLIT(v7, "_", 1);
	STR* v8 = str_cat(v6, v7);
	*out_ZPlusMirth_3 = v5;
	return v8;
}
static STR* mw_mirth_c99_typeZ_argZ_prefix (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	STR* branch_Str_6;
	switch (PTREXTRA(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			PTUP v8;
			PTUP v9 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v7, &v8);
			PTUP branch_ZPlusMirth_10;
			VAL branch__11;
			switch (PTREXTRA(v9)) {
				case 0LL: { // None
					STR* v12;
					STRLIT(v12, "", 0);
					branch__11 = MKSTR(v12);
					branch_ZPlusMirth_10 = v8;
				} break;
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
					PTUP v14;
					PTUP v15 = mw_mirth_type_Type_expand(v8, VTUP(v13), &v14);
					incref(MKTUP(v15));
					PTUP v16 = mtw_std_maybe_Maybe_1_Some(MKTUP(v15));
					PTUP v17;
					mw_mirth_type_MetaVar_typeZAskZBang(v14, v16, value_u64(MKU64(v7)), &v17);
					PTUP v18;
					STR* v19 = mw_mirth_c99_typeZ_argZ_prefix(v17, VTUP(MKTUP(v15)), &v18);
					branch__11 = MKSTR(v19);
					branch_ZPlusMirth_10 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Str_6 = value_str(branch__11);
			branch_ZPlusMirth_5 = branch_ZPlusMirth_10;
		} break;
		case 5LL: { // Var
			uint64_t v20 = mtp_mirth_type_Type_Var(in_Type_2);
			PTUP v21;
			uint64_t v22 = mw_mirth_var_Var_name(in_ZPlusMirth_1, v20, &v21);
			PTUP v23;
			STR* v24 = mw_mirth_c99_nameZ_argZ_prefix(v21, v22, &v23);
			branch_Str_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		case 6LL: { // Table
			uint64_t v25 = mtp_mirth_type_Type_Table(in_Type_2);
			PTUP v26;
			uint64_t v27 = mw_mirth_table_Table_name(in_ZPlusMirth_1, v25, &v26);
			PTUP v28;
			STR* v29 = mw_mirth_c99_nameZ_argZ_prefix(v26, v27, &v28);
			branch_Str_6 = v29;
			branch_ZPlusMirth_5 = v28;
		} break;
		case 7LL: { // Data
			uint64_t v30 = mtp_mirth_type_Type_Data(in_Type_2);
			PTUP v31;
			uint64_t v32 = mw_mirth_data_Data_name(in_ZPlusMirth_1, v30, &v31);
			PTUP v33;
			STR* v34 = mw_mirth_c99_nameZ_argZ_prefix(v31, v32, &v33);
			branch_Str_6 = v34;
			branch_ZPlusMirth_5 = v33;
		} break;
		case 8LL: { // DataPartial
			PTUP v35 = mtp_mirth_type_Type_DataPartial(in_Type_2);
			uint64_t v36 = value_u64(((TUP*)PTRPTR(v35))->cells[0]);
			decref(MKTUP(v35));
			PTUP v37;
			uint64_t v38 = mw_mirth_data_Data_name(in_ZPlusMirth_1, v36, &v37);
			PTUP v39;
			STR* v40 = mw_mirth_c99_nameZ_argZ_prefix(v37, v38, &v39);
			branch_Str_6 = v40;
			branch_ZPlusMirth_5 = v39;
		} break;
		case 11LL: { // App
			PTUP v41;
			PTUP v42 = mtp_mirth_type_Type_App(in_Type_2, &v41);
			decref(MKTUP(v41));
			PTUP v43;
			STR* v44 = mw_mirth_c99_typeZ_argZ_prefix(in_ZPlusMirth_1, v42, &v43);
			branch_Str_6 = v44;
			branch_ZPlusMirth_5 = v43;
		} break;
		case 12LL: { // Mut
			PTUP v45 = mtp_mirth_type_Type_Mut(in_Type_2);
			STR* v46;
			STRLIT(v46, "Mut", 3);
			PTUP v47;
			STR* v48 = mw_mirth_c99_typeZ_argZ_prefix(in_ZPlusMirth_1, v45, &v47);
			STR* v49 = str_cat(value_str(MKSTR(v46)), v48);
			branch_Str_6 = v49;
			branch_ZPlusMirth_5 = v47;
		} break;
		case 2LL: { // Prim
			int64_t v50 = mtp_mirth_type_Type_Prim(in_Type_2);
			PTUP branch_ZPlusMirth_51;
			VAL branch__52;
			switch (v50) {
				case 0LL: { // KIND
					STR* v53;
					STRLIT(v53, "KIND_", 5);
					branch__52 = MKSTR(v53);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 1LL: { // TYPE
					STR* v54;
					STRLIT(v54, "TYPE_", 5);
					branch__52 = MKSTR(v54);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 2LL: { // STACK
					STR* v55;
					STRLIT(v55, "STACK_", 6);
					branch__52 = MKSTR(v55);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 3LL: { // RESOURCE
					STR* v56;
					STRLIT(v56, "RESOURCE_", 9);
					branch__52 = MKSTR(v56);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // Bool
					STR* v57;
					STRLIT(v57, "Bool_", 5);
					branch__52 = MKSTR(v57);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 5LL: { // Int
					STR* v58;
					STRLIT(v58, "Int_", 4);
					branch__52 = MKSTR(v58);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 6LL: { // Nat
					STR* v59;
					STRLIT(v59, "Nat_", 4);
					branch__52 = MKSTR(v59);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 7LL: { // U8
					STR* v60;
					STRLIT(v60, "U8_", 3);
					branch__52 = MKSTR(v60);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 8LL: { // U16
					STR* v61;
					STRLIT(v61, "U16_", 4);
					branch__52 = MKSTR(v61);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 9LL: { // U32
					STR* v62;
					STRLIT(v62, "U32_", 4);
					branch__52 = MKSTR(v62);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 10LL: { // U64
					STR* v63;
					STRLIT(v63, "U64_", 4);
					branch__52 = MKSTR(v63);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 11LL: { // I8
					STR* v64;
					STRLIT(v64, "I8_", 3);
					branch__52 = MKSTR(v64);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 12LL: { // I16
					STR* v65;
					STRLIT(v65, "I16_", 4);
					branch__52 = MKSTR(v65);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 13LL: { // I32
					STR* v66;
					STRLIT(v66, "I32_", 4);
					branch__52 = MKSTR(v66);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 14LL: { // I64
					STR* v67;
					STRLIT(v67, "I64_", 4);
					branch__52 = MKSTR(v67);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 15LL: { // F32
					STR* v68;
					STRLIT(v68, "F32_", 4);
					branch__52 = MKSTR(v68);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 16LL: { // F64
					STR* v69;
					STRLIT(v69, "F64_", 4);
					branch__52 = MKSTR(v69);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 17LL: { // Ptr
					STR* v70;
					STRLIT(v70, "Ptr_", 4);
					branch__52 = MKSTR(v70);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 18LL: { // Str
					STR* v71;
					STRLIT(v71, "Str_", 4);
					branch__52 = MKSTR(v71);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 19LL: { // Array
					STR* v72;
					STRLIT(v72, "Array_", 6);
					branch__52 = MKSTR(v72);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 20LL: { // World
					STR* v73;
					STRLIT(v73, "World_", 6);
					branch__52 = MKSTR(v73);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 21LL: { // Debug
					STR* v74;
					STRLIT(v74, "Debug_", 6);
					branch__52 = MKSTR(v74);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Str_6 = value_str(branch__52);
			branch_ZPlusMirth_5 = branch_ZPlusMirth_51;
		} break;
		default: {
			decref(MKTUP(in_Type_2));
			STR* v75;
			STRLIT(v75, "_", 1);
			branch_Str_6 = v75;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Str_6;
}
static STR* mw_mirth_c99_freshZ_argZ_nameZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, int64_t in_C99APIArgMode_3, PTUP in_C99ReprType_4, PTUP in_Type_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99_7, int64_t *out_C99APIArgMode_8, PTUP *out_C99ReprType_9) {
	incref(MKTUP(in_C99ReprType_4));
	PTUP v11;
	bool v12 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99ReprType_4, &v11);
	PTUP branch_C99ReprType_13;
	int64_t branch_C99APIArgMode_14;
	PTUP branch_ZPlusMirth_15;
	PTUP branch_ZPlusC99_16;
	STR* branch_Str_17;
	if (v12) {
		VAL v18 = mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix(in_C99APIArgMode_3);
		PTUP v19;
		STR* v20 = mw_mirth_c99_typeZ_argZ_prefix(v11, in_Type_5, &v19);
		STR* v21 = str_cat(value_str(v18), v20);
		PTUP v22;
		PTUP v23;
		STR* v24 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(v19, in_ZPlusC99_2, v21, &v22, &v23);
		branch_Str_17 = v24;
		branch_ZPlusC99_16 = v23;
		branch_ZPlusMirth_15 = v22;
		branch_C99APIArgMode_14 = in_C99APIArgMode_3;
		branch_C99ReprType_13 = in_C99ReprType_4;
	} else {
		decref(MKTUP(in_Type_5));
		STR* v25;
		STRLIT(v25, "0", 1);
		branch_Str_17 = value_str(MKSTR(v25));
		branch_ZPlusC99_16 = in_ZPlusC99_2;
		branch_ZPlusMirth_15 = v11;
		branch_C99APIArgMode_14 = in_C99APIArgMode_3;
		branch_C99ReprType_13 = in_C99ReprType_4;
	}
	*out_C99ReprType_9 = branch_C99ReprType_13;
	*out_C99APIArgMode_8 = branch_C99APIArgMode_14;
	*out_ZPlusC99_7 = branch_ZPlusC99_16;
	*out_ZPlusMirth_6 = branch_ZPlusMirth_15;
	return branch_Str_17;
}
static PTUP mw_mirth_c99_consZ_freshZ_argZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, int64_t in_C99APIArgMode_3, PTUP in_List_4, PTUP in_Type_5, PTUP in_C99APIArgSource_6, PTUP *out_ZPlusMirth_7, PTUP *out_ZPlusC99_8, int64_t *out_C99APIArgMode_9) {
	incref(MKTUP(in_Type_5));
	PTUP v11;
	PTUP v12 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, in_Type_5, &v11);
	PTUP v13;
	PTUP v14;
	int64_t v15;
	PTUP v16;
	STR* v17 = mw_mirth_c99_freshZ_argZ_nameZBang(v11, in_ZPlusC99_2, in_C99APIArgMode_3, v12, in_Type_5, &v13, &v14, &v15, &v16);
	PTUP v18 = mtw_mirth_c99_C99APIArg_C99APIArg(v15, in_C99APIArgSource_6, v16, v17);
	PTUP v19 = mw_std_list_List_1_cons(MKTUP(v18), in_List_4);
	*out_C99APIArgMode_9 = v15;
	*out_ZPlusC99_8 = v14;
	*out_ZPlusMirth_7 = v13;
	return v19;
}
static PTUP mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, int64_t in_C99APIArgMode_3, PTUP in_StackType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6, int64_t *out_C99APIArgMode_7, bool *out_Bool_8) {
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusC99_11;
	int64_t branch_C99APIArgMode_12;
	bool branch_Bool_13;
	PTUP branch_List_14;
	switch (PTREXTRA(in_StackType_4)) {
		case 2LL: { // Unit
			bool v15 = false;
			PTUP v16 = PTRMK(0LL /* Nil */,0,0);
			branch_List_14 = v16;
			branch_Bool_13 = v15;
			branch_C99APIArgMode_12 = in_C99APIArgMode_3;
			branch_ZPlusC99_11 = in_ZPlusC99_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Error
			bool v17 = true;
			PTUP v18 = PTRMK(0LL /* Nil */,0,0);
			branch_List_14 = v18;
			branch_Bool_13 = v17;
			branch_C99APIArgMode_12 = in_C99APIArgMode_3;
			branch_ZPlusC99_11 = in_ZPlusC99_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v19 = true;
			PTUP v20 = PTRMK(0LL /* Nil */,0,0);
			branch_List_14 = v20;
			branch_Bool_13 = v19;
			branch_C99APIArgMode_12 = in_C99APIArgMode_3;
			branch_ZPlusC99_11 = in_ZPlusC99_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v21 = mtp_mirth_type_StackType_Meta(in_StackType_4);
			PTUP v22;
			PTUP v23 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v21, &v22);
			int64_t branch_C99APIArgMode_24;
			bool branch_Bool_25;
			PTUP branch_List_26;
			PTUP branch_ZPlusMirth_27;
			PTUP branch_ZPlusC99_28;
			switch (PTREXTRA(v23)) {
				case 0LL: { // None
					bool v29 = true;
					PTUP v30 = PTRMK(0LL /* Nil */,0,0);
					branch_ZPlusC99_28 = in_ZPlusC99_2;
					branch_ZPlusMirth_27 = v22;
					branch_List_26 = v30;
					branch_Bool_25 = v29;
					branch_C99APIArgMode_24 = in_C99APIArgMode_3;
				} break;
				case 1LL: { // Some
					VAL v31 = mtp_std_maybe_Maybe_1_Some(v23);
					PTUP v32;
					PTUP v33 = mw_mirth_type_Type_expand(v22, VTUP(v31), &v32);
					incref(MKTUP(v33));
					PTUP v34 = mtw_std_maybe_Maybe_1_Some(MKTUP(v33));
					PTUP v35;
					mw_mirth_type_MetaVar_typeZAskZBang(v32, v34, value_u64(MKU64(v21)), &v35);
					PTUP v36 = mw_mirth_type_Type_ZToStackType(VTUP(MKTUP(v33)));
					PTUP v37;
					PTUP v38;
					int64_t v39;
					bool v40;
					PTUP v41 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(v35, in_ZPlusC99_2, in_C99APIArgMode_3, v36, &v37, &v38, &v39, &v40);
					branch_ZPlusC99_28 = v38;
					branch_ZPlusMirth_27 = v37;
					branch_List_26 = v41;
					branch_Bool_25 = v40;
					branch_C99APIArgMode_24 = v39;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_List_14 = branch_List_26;
			branch_Bool_13 = branch_Bool_25;
			branch_C99APIArgMode_12 = branch_C99APIArgMode_24;
			branch_ZPlusC99_11 = branch_ZPlusC99_28;
			branch_ZPlusMirth_10 = branch_ZPlusMirth_27;
		} break;
		case 3LL: { // Var
			uint64_t v42 = mtp_mirth_type_StackType_Var(in_StackType_4);
			bool v43 = true;
			PTUP v44 = PTRMK(0LL /* Nil */,0,0);
			branch_List_14 = v44;
			branch_Bool_13 = v43;
			branch_C99APIArgMode_12 = in_C99APIArgMode_3;
			branch_ZPlusC99_11 = in_ZPlusC99_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			PTUP v45;
			PTUP v46 = mtp_mirth_type_StackType_Cons(in_StackType_4, &v45);
			PTUP v47 = PTRMK(0LL /* Value */,0,0);
			PTUP v48;
			PTUP v49;
			int64_t v50;
			bool v51;
			PTUP v52 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_3, v46, &v48, &v49, &v50, &v51);
			PTUP v53;
			PTUP v54;
			int64_t v55;
			PTUP v56 = mw_mirth_c99_consZ_freshZ_argZBang(v48, v49, v50, v52, VTUP(MKTUP(v45)), VTUP(MKTUP(v47)), &v53, &v54, &v55);
			branch_List_14 = v56;
			branch_Bool_13 = v51;
			branch_C99APIArgMode_12 = v55;
			branch_ZPlusC99_11 = v54;
			branch_ZPlusMirth_10 = v53;
		} break;
		case 7LL: { // With
			PTUP v57;
			PTUP v58 = mtp_mirth_type_StackType_With(in_StackType_4, &v57);
			PTUP v59 = PTRMK(2LL /* Resource */,0,0);
			PTUP v60 = mw_mirth_type_Resource_ZToType(v57);
			PTUP v61;
			PTUP v62;
			int64_t v63;
			bool v64;
			PTUP v65 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_3, v58, &v61, &v62, &v63, &v64);
			PTUP v66;
			PTUP v67;
			int64_t v68;
			PTUP v69 = mw_mirth_c99_consZ_freshZ_argZBang(v61, v62, v63, v65, VTUP(MKTUP(v60)), VTUP(MKTUP(v59)), &v66, &v67, &v68);
			branch_List_14 = v69;
			branch_Bool_13 = v64;
			branch_C99APIArgMode_12 = v68;
			branch_ZPlusC99_11 = v67;
			branch_ZPlusMirth_10 = v66;
		} break;
		case 6LL: { // ConsLabel
			PTUP v70;
			uint64_t v71;
			PTUP v72 = mtp_mirth_type_StackType_ConsLabel(in_StackType_4, &v70, &v71);
			PTUP v73 = mtw_mirth_c99_C99APIArgSource_ValueLabel(v71);
			PTUP v74;
			PTUP v75;
			int64_t v76;
			bool v77;
			PTUP v78 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_3, v72, &v74, &v75, &v76, &v77);
			PTUP v79;
			PTUP v80;
			int64_t v81;
			PTUP v82 = mw_mirth_c99_consZ_freshZ_argZBang(v74, v75, v76, v78, VTUP(MKTUP(v70)), VTUP(MKTUP(v73)), &v79, &v80, &v81);
			branch_List_14 = v82;
			branch_Bool_13 = v77;
			branch_C99APIArgMode_12 = v81;
			branch_ZPlusC99_11 = v80;
			branch_ZPlusMirth_10 = v79;
		} break;
		case 8LL: { // WithLabel
			PTUP v83;
			uint64_t v84;
			PTUP v85 = mtp_mirth_type_StackType_WithLabel(in_StackType_4, &v83, &v84);
			PTUP v86 = mtw_mirth_c99_C99APIArgSource_ResourceLabel(v84);
			PTUP v87 = mw_mirth_type_Resource_ZToType(v83);
			PTUP v88;
			PTUP v89;
			int64_t v90;
			bool v91;
			PTUP v92 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_3, v85, &v88, &v89, &v90, &v91);
			PTUP v93;
			PTUP v94;
			int64_t v95;
			PTUP v96 = mw_mirth_c99_consZ_freshZ_argZBang(v88, v89, v90, v92, VTUP(MKTUP(v87)), VTUP(MKTUP(v86)), &v93, &v94, &v95);
			branch_List_14 = v96;
			branch_Bool_13 = v91;
			branch_C99APIArgMode_12 = v95;
			branch_ZPlusC99_11 = v94;
			branch_ZPlusMirth_10 = v93;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Bool_8 = branch_Bool_13;
	*out_C99APIArgMode_7 = branch_C99APIArgMode_12;
	*out_ZPlusC99_6 = branch_ZPlusC99_11;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_10;
	return branch_List_14;
}
static PTUP mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_StackType_3, int64_t in_C99APIArgMode_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6, bool *out_Bool_7) {
	PTUP v9;
	PTUP v10;
	int64_t v11;
	bool v12;
	PTUP v13 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_4, in_StackType_3, &v9, &v10, &v11, &v12);
	PTUP v14 = mw_std_list_List_1_reverse(v13);
	*out_Bool_7 = v12;
	*out_ZPlusC99_6 = v10;
	*out_ZPlusMirth_5 = v9;
	return v14;
}
static PTUP mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP in_ArrowType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6) {
	INT v8 = WRAP_I63(1LL);
	INT v9 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2]);
	incref(MKNAT(v9));
	INT v10 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2]);
	decref(MKNAT(v10));
	((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2] = MKNAT(v8);
	incref(MKTUP(in_ArrowType_4));
	PTUP v11 = VTUP(((TUP*)PTRPTR(in_ArrowType_4))->cells[0]);
	incref(MKTUP(v11));
	decref(MKTUP(in_ArrowType_4));
	int64_t v12 = 0LL /* In */;
	PTUP v13;
	PTUP v14;
	bool v15;
	PTUP v16 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(in_ZPlusMirth_1, in_ZPlusC99_2, v11, v12, &v13, &v14, &v15);
	incref(MKTUP(in_ArrowType_4));
	PTUP v17 = VTUP(((TUP*)PTRPTR(in_ArrowType_4))->cells[1]);
	incref(MKTUP(v17));
	decref(MKTUP(in_ArrowType_4));
	int64_t v18 = 1LL /* Out */;
	PTUP v19;
	PTUP v20;
	bool v21;
	PTUP v22 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(v13, v14, v17, v18, &v19, &v20, &v21);
	PTUP v23 = PTRMK(0LL /* Nil */,0,0);
	PTUP v24;
	mw_std_list_List_1_buildZBang(v23, &v24);
	bool v25 = true;
	PTUP r26 = v19;
	VAL r27 = MKTUP(v20);
	PTUP r28 = v24;
	PTUP v29 = v22;
	bool v30 = v25;
	bool v31 = v25;
	while (v31) {
		PTUP r32 = r26;
		VAL r33 = r27;
		PTUP r34 = r28;
		PTUP v35 = v29;
		bool v36 = v30;
		PTUP branch_ZPlusMirth_37;
		VAL branch_z_x1_38;
		PTUP branch_ZPlusLister_39;
		PTUP branch_List_40;
		bool branch_Bool_41;
		switch (PTREXTRA(v35)) {
			case 1LL: { // Cons
				PTUP v42;
				VAL v43 = mtp_std_list_List_1_Cons(v35, &v42);
				incref(MKTUP(VTUP(v43)));
				PTUP v44;
				bool v45 = mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk(r32, VTUP(v43), &v44);
				PTUP branch_ZPlusMirth_46;
				VAL branch_z_x1_47;
				PTUP branch_ZPlusLister_48;
				PTUP branch_List_49;
				bool branch_Bool_50;
				if (value_bool(MKBOOL(v45))) {
					PTUP v51 = mw_std_list_List_1_cons(MKTUP(VTUP(MKTUP(VTUP(v43)))), VTUP(MKTUP(v42)));
					bool v52 = false;
					branch_Bool_50 = v52;
					branch_List_49 = v51;
					branch_ZPlusLister_48 = VTUP(MKTUP(r34));
					branch_z_x1_47 = r33;
					branch_ZPlusMirth_46 = v44;
				} else {
					PTUP v53;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(VTUP(MKTUP(VTUP(v43)))), VTUP(MKTUP(r34)), &v53);
					bool v54 = true;
					branch_Bool_50 = v54;
					branch_List_49 = VTUP(MKTUP(v42));
					branch_ZPlusLister_48 = v53;
					branch_z_x1_47 = r33;
					branch_ZPlusMirth_46 = v44;
				}
				branch_Bool_41 = branch_Bool_50;
				branch_List_40 = branch_List_49;
				branch_ZPlusLister_39 = branch_ZPlusLister_48;
				branch_z_x1_38 = branch_z_x1_47;
				branch_ZPlusMirth_37 = branch_ZPlusMirth_46;
			} break;
			case 0LL: { // Nil
				PTUP v55 = PTRMK(0LL /* Nil */,0,0);
				bool v56 = false;
				branch_Bool_41 = v56;
				branch_List_40 = v55;
				branch_ZPlusLister_39 = r34;
				branch_z_x1_38 = r33;
				branch_ZPlusMirth_37 = r32;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v31 = branch_Bool_41;
		v30 = branch_Bool_41;
		v29 = branch_List_40;
		r28 = branch_ZPlusLister_39;
		r27 = branch_z_x1_38;
		r26 = branch_ZPlusMirth_37;
	}
	PTUP v57 = mw_std_list_ZPlusLister_1_doneZBang(r28);
	PTUP v58;
	PTUP v59 = mw_std_list_List_1_uncons(v29, &v58);
	INT v60 = value_nat(((TUP*)PTRPTR(VTUP(r27)))->cells[2]);
	incref(MKNAT(v60));
	INT v61 = value_nat(((TUP*)PTRPTR(VTUP(r27)))->cells[2]);
	decref(MKNAT(v61));
	((TUP*)PTRPTR(VTUP(r27)))->cells[2] = MKNAT(v9);
	decref(MKNAT(v60));
	bool v62 = (v21 || v15);
	incref(MKTUP(in_ArrowType_4));
	PTUP v63 = VTUP(((TUP*)PTRPTR(in_ArrowType_4))->cells[1]);
	incref(MKTUP(v63));
	decref(MKTUP(in_ArrowType_4));
	PTUP v64;
	PTUP v65 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(r26, v63, &v64);
	PTUP branch_ArrowType_66;
	PTUP branch_ZPlusMirth_67;
	bool branch_Bool_68;
	switch (PTREXTRA(v65)) {
		case 1LL: { // Some
			VAL v69 = mtp_std_maybe_Maybe_1_Some(v65);
			incref(MKTUP(in_ArrowType_4));
			PTUP v70 = VTUP(((TUP*)PTRPTR(in_ArrowType_4))->cells[0]);
			incref(MKTUP(v70));
			decref(MKTUP(in_ArrowType_4));
			PTUP v71;
			PTUP v72 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v64, v70, &v71);
			bool branch_Bool_73;
			switch (PTREXTRA(v72)) {
				case 1LL: { // Some
					VAL v74 = mtp_std_maybe_Maybe_1_Some(v72);
					bool v75 = (value_u64(v74) == value_u64(v69));
					bool v76 = !v75;
					branch_Bool_73 = v76;
				} break;
				case 0LL: { // None
					bool v77 = false;
					branch_Bool_73 = v77;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_68 = branch_Bool_73;
			branch_ZPlusMirth_67 = v71;
			branch_ArrowType_66 = in_ArrowType_4;
		} break;
		case 0LL: { // None
			bool v78 = false;
			branch_Bool_68 = v78;
			branch_ZPlusMirth_67 = v64;
			branch_ArrowType_66 = in_ArrowType_4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v79 = !branch_Bool_68;
	bool v80 = (v79 && v62);
	PTUP v81 = mtw_mirth_c99_C99API_C99API(in_Str_3, branch_ArrowType_66, v16, v57, v59, v58, v80, branch_Bool_68);
	*out_ZPlusC99_6 = VTUP(r27);
	*out_ZPlusMirth_5 = branch_ZPlusMirth_67;
	return v81;
}
static PTUP mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3));
	PTUP v7;
	bool v8 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99APIArg_3, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	PTUP branch_C99APIArg_11;
	if (v8) {
		incref(MKTUP(in_C99APIArg_3));
		PTUP v12 = VTUP(((TUP*)PTRPTR(in_C99APIArg_3))->cells[2]);
		incref(MKTUP(v12));
		decref(MKTUP(in_C99APIArg_3));
		PTUP v13;
		PTUP v14;
		PTUP v15;
		mw_mirth_c99_C99ReprType_newZ_valueZBang(v7, in_ZPlusC99Branch_2, v12, &v13, &v14, &v15);
		STR* v16 = mw_mirth_c99_ZPlusC99Value_consume(v15);
		VAL v17 = tup_replace(MKTUP(in_C99APIArg_3), 3, MKSTR(v16));
		branch_C99APIArg_11 = VTUP(v17);
		branch_ZPlusC99Branch_10 = v14;
		branch_ZPlusMirth_9 = v13;
	} else {
		STR* v18;
		STRLIT(v18, "0", 1);
		VAL v19 = tup_replace(MKTUP(in_C99APIArg_3), 3, MKSTR(v18));
		branch_C99APIArg_11 = VTUP(v19);
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = v7;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_C99APIArg_11;
}
static void mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99APIArg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3));
	PTUP v6;
	bool v7 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99APIArg_3, &v6);
	PTUP branch_C99APIArg_8;
	PTUP branch_ZPlusC99Branch_9;
	PTUP branch_ZPlusMirth_10;
	if (v7) {
		bool v11 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r12 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v13 = value_bool(((TUP*)PTRPTR(r12))->cells[3]);
		incref(MKBOOL(v13));
		bool v14 = (value_bool(MKBOOL(v11)) && value_bool(MKBOOL(v13)));
		((TUP*)PTRPTR(r12))->cells[3] = MKBOOL(v14);
		PTUP v15;
		PTUP v16;
		mw_mirth_c99_ZPlusC99_indent(v6, r12, &v15, &v16);
		incref(MKTUP(in_C99APIArg_3));
		PTUP v17 = VTUP(((TUP*)PTRPTR(in_C99APIArg_3))->cells[2]);
		incref(MKTUP(v17));
		decref(MKTUP(in_C99APIArg_3));
		PTUP v18;
		STR* v19 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v15, v17, &v18);
		PTUP v20;
		PTUP v21;
		mw_mirth_c99_ZPlusC99_put(v18, v16, v19, &v20, &v21);
		STR* v22;
		STRLIT(v22, " ", 1);
		PTUP v23;
		PTUP v24;
		mw_mirth_c99_ZPlusC99_put(v20, v21, v22, &v23, &v24);
		incref(MKTUP(in_C99APIArg_3));
		STR* v25 = value_str(((TUP*)PTRPTR(in_C99APIArg_3))->cells[3]);
		incref(MKSTR(v25));
		decref(MKTUP(in_C99APIArg_3));
		PTUP v26;
		PTUP v27;
		mw_mirth_c99_ZPlusC99_put(v23, v24, v25, &v26, &v27);
		STR* v28;
		STRLIT(v28, ";", 1);
		PTUP v29;
		PTUP v30;
		mw_mirth_c99_ZPlusC99_put(v26, v27, v28, &v29, &v30);
		PTUP v31;
		PTUP v32;
		mw_mirth_c99_ZPlusC99_line(v29, v30, &v31, &v32);
		((TUP*)PTRPTR(v32))->cells[3] = MKBOOL(value_bool(MKBOOL(v13)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v32);
		branch_ZPlusMirth_10 = v31;
		branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_2;
		branch_C99APIArg_8 = in_C99APIArg_3;
	} else {
		branch_ZPlusMirth_10 = v6;
		branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_2;
		branch_C99APIArg_8 = in_C99APIArg_3;
	}
	decref(MKTUP(branch_C99APIArg_8));
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static PTUP mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP in_C99APIArg_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	PTUP v9;
	PTUP v10;
	STR* v11 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, r8, &v9, &v10);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v10);
	VAL v12 = tup_replace(MKTUP(in_C99APIArg_4), 3, MKSTR(v11));
	bool v13 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
	PTUP r14 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	bool v15 = value_bool(((TUP*)PTRPTR(r14))->cells[3]);
	incref(MKBOOL(v15));
	bool v16 = (value_bool(MKBOOL(v13)) && value_bool(MKBOOL(v15)));
	((TUP*)PTRPTR(r14))->cells[3] = MKBOOL(v16);
	PTUP v17;
	PTUP v18;
	mw_mirth_c99_ZPlusC99_indent(v9, r14, &v17, &v18);
	incref(MKTUP(VTUP(v12)));
	PTUP v19 = VTUP(((TUP*)PTRPTR(VTUP(v12)))->cells[2]);
	incref(MKTUP(v19));
	decref(MKTUP(VTUP(v12)));
	PTUP v20;
	STR* v21 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v17, v19, &v20);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_put(v20, v18, v21, &v22, &v23);
	STR* v24;
	STRLIT(v24, " ", 1);
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_ZPlusC99_put(v22, v23, v24, &v25, &v26);
	incref(MKTUP(VTUP(v12)));
	STR* v27 = value_str(((TUP*)PTRPTR(VTUP(v12)))->cells[3]);
	incref(MKSTR(v27));
	decref(MKTUP(VTUP(v12)));
	PTUP v28;
	PTUP v29;
	mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
	STR* v30;
	STRLIT(v30, " = ", 3);
	PTUP v31;
	PTUP v32;
	mw_mirth_c99_ZPlusC99_put(v28, v29, v30, &v31, &v32);
	PTUP v33;
	PTUP v34;
	mw_mirth_c99_ZPlusC99_put(v31, v32, in_Str_3, &v33, &v34);
	STR* v35;
	STRLIT(v35, ";", 1);
	PTUP v36;
	PTUP v37;
	mw_mirth_c99_ZPlusC99_put(v33, v34, v35, &v36, &v37);
	PTUP v38;
	PTUP v39;
	mw_mirth_c99_ZPlusC99_line(v36, v37, &v38, &v39);
	((TUP*)PTRPTR(v39))->cells[3] = MKBOOL(value_bool(MKBOOL(v15)));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v39);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_5 = v38;
	return VTUP(v12);
}
static void mw_mirth_c99_c99Z_smartZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP in_C99API_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_c99Z_argsZ_pushZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_List_3, &v7, &v8);
	incref(MKTUP(in_C99API_4));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_C99API_4))->cells[2]);
	incref(MKTUP(v9));
	decref(MKTUP(in_C99API_4));
	PTUP v10 = mw_std_list_List_1_reverse(v9);
	PTUP v11 = PTRMK(0LL /* Nil */,0,0);
	PTUP v12;
	mw_std_list_List_1_buildZBang(v11, &v12);
	bool v13 = true;
	PTUP r14 = v7;
	PTUP r15 = v8;
	PTUP r16 = v12;
	PTUP v17 = v10;
	bool v18 = v13;
	bool v19 = v13;
	while (v19) {
		PTUP r20 = r14;
		PTUP r21 = r15;
		PTUP r22 = r16;
		PTUP v23 = v17;
		bool v24 = v18;
		PTUP branch_ZPlusMirth_25;
		PTUP branch_ZPlusC99Branch_26;
		PTUP branch_ZPlusLister_27;
		PTUP branch_List_28;
		bool branch_Bool_29;
		switch (PTREXTRA(v23)) {
			case 1LL: { // Cons
				PTUP v30;
				VAL v31 = mtp_std_list_List_1_Cons(v23, &v30);
				PTUP v32;
				PTUP v33;
				PTUP v34 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(r20, r21, VTUP(v31), &v32, &v33);
				PTUP v35;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v34), r22, &v35);
				bool v36 = true;
				branch_Bool_29 = v36;
				branch_List_28 = v30;
				branch_ZPlusLister_27 = v35;
				branch_ZPlusC99Branch_26 = v33;
				branch_ZPlusMirth_25 = v32;
			} break;
			case 0LL: { // Nil
				PTUP v37 = PTRMK(0LL /* Nil */,0,0);
				bool v38 = false;
				branch_Bool_29 = v38;
				branch_List_28 = v37;
				branch_ZPlusLister_27 = r22;
				branch_ZPlusC99Branch_26 = r21;
				branch_ZPlusMirth_25 = r20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_29;
		v18 = branch_Bool_29;
		v17 = branch_List_28;
		r16 = branch_ZPlusLister_27;
		r15 = branch_ZPlusC99Branch_26;
		r14 = branch_ZPlusMirth_25;
	}
	decref(MKTUP(v17));
	PTUP v39 = mw_std_list_ZPlusLister_1_doneZBang(r16);
	PTUP v40 = mw_std_list_List_1_reverse(v39);
	incref(MKTUP(in_C99API_4));
	bool v41 = value_bool(((TUP*)PTRPTR(in_C99API_4))->cells[6]);
	decref(MKTUP(in_C99API_4));
	PTUP branch_ZPlusMirth_42;
	PTUP branch_ZPlusC99Branch_43;
	if (v41) {
		PTUP v44;
		PTUP v45;
		mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(r14, r15, &v44, &v45);
		branch_ZPlusC99Branch_43 = v45;
		branch_ZPlusMirth_42 = v44;
	} else {
		branch_ZPlusC99Branch_43 = r15;
		branch_ZPlusMirth_42 = r14;
	}
	incref(MKTUP(in_C99API_4));
	PTUP v46 = VTUP(((TUP*)PTRPTR(in_C99API_4))->cells[3]);
	incref(MKTUP(v46));
	decref(MKTUP(in_C99API_4));
	PTUP v47;
	PTUP v48;
	PTUP v49 = mw_std_list_List_1_map_1_sp3(branch_ZPlusMirth_42, branch_ZPlusC99Branch_43, v46, &v47, &v48);
	incref(MKTUP(in_C99API_4));
	PTUP v50 = VTUP(((TUP*)PTRPTR(in_C99API_4))->cells[5]);
	incref(MKTUP(v50));
	decref(MKTUP(in_C99API_4));
	PTUP v51;
	PTUP v52;
	PTUP v53 = mw_std_list_List_1_map_1_sp3(v47, v48, v50, &v51, &v52);
	STR* v54;
	STRLIT(v54, "", 0);
	incref(MKTUP(in_C99API_4));
	STR* v55 = value_str(((TUP*)PTRPTR(in_C99API_4))->cells[0]);
	incref(MKSTR(v55));
	decref(MKTUP(in_C99API_4));
	STR* v56;
	mw_std_str_ZPlusStr_pushZ_strZBang(v55, v54, &v56);
	STR* v57;
	STRLIT(v57, "(", 1);
	STR* v58;
	mw_std_str_ZPlusStr_pushZ_strZBang(v57, v56, &v58);
	STR* v59;
	STRLIT(v59, "", 0);
	bool v60 = true;
	STR* r61 = v58;
	STR* v62 = v59;
	PTUP v63 = v40;
	bool v64 = v60;
	bool v65 = v60;
	while (v65) {
		STR* r66 = r61;
		STR* v67 = v62;
		PTUP v68 = v63;
		bool v69 = v64;
		STR* branch_ZPlusStr_70;
		STR* branch_Str_71;
		PTUP branch_List_72;
		bool branch_Bool_73;
		switch (PTREXTRA(v68)) {
			case 1LL: { // Cons
				PTUP v74;
				VAL v75 = mtp_std_list_List_1_Cons(v68, &v74);
				STR* branch_Str_76;
				STR* branch_ZPlusStr_77;
				switch (PTREXTRA(VTUP(v75))) {
					case 1LL: { // Some
						VAL v78 = mtp_std_maybe_Maybe_1_Some(VTUP(v75));
						STR* v79;
						mw_std_str_ZPlusStr_pushZ_strZBang(v67, r66, &v79);
						STR* v80;
						STRLIT(v80, ", ", 2);
						STR* v81;
						mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v78), v79, &v81);
						branch_ZPlusStr_77 = v81;
						branch_Str_76 = v80;
					} break;
					case 0LL: { // None
						branch_ZPlusStr_77 = r66;
						branch_Str_76 = v67;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v82 = true;
				branch_Bool_73 = v82;
				branch_List_72 = v74;
				branch_Str_71 = branch_Str_76;
				branch_ZPlusStr_70 = branch_ZPlusStr_77;
			} break;
			case 0LL: { // Nil
				PTUP v83 = PTRMK(0LL /* Nil */,0,0);
				bool v84 = false;
				branch_Bool_73 = v84;
				branch_List_72 = v83;
				branch_Str_71 = v67;
				branch_ZPlusStr_70 = r66;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v65 = branch_Bool_73;
		v64 = branch_Bool_73;
		v63 = branch_List_72;
		v62 = branch_Str_71;
		r61 = branch_ZPlusStr_70;
	}
	decref(MKTUP(v63));
	incref(MKTUP(v49));
	incref(MKTUP(v53));
	PTUP v85 = mw_std_list_List_1_cat(v49, v53);
	bool v86 = true;
	STR* v87 = v62;
	PTUP r88 = v51;
	VAL r89 = MKTUP(v52);
	STR* r90 = r61;
	PTUP v91 = v85;
	bool v92 = v86;
	bool v93 = v86;
	while (v93) {
		STR* v94 = v87;
		PTUP r95 = r88;
		VAL r96 = r89;
		STR* r97 = r90;
		PTUP v98 = v91;
		bool v99 = v92;
		STR* branch_Str_100;
		PTUP branch_ZPlusMirth_101;
		VAL branch_z_x1_102;
		STR* branch_ZPlusStr_103;
		PTUP branch_List_104;
		bool branch_Bool_105;
		switch (PTREXTRA(v98)) {
			case 1LL: { // Cons
				PTUP v106;
				VAL v107 = mtp_std_list_List_1_Cons(v98, &v106);
				incref(MKTUP(VTUP(v107)));
				PTUP v108;
				bool v109 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(r95, VTUP(v107), &v108);
				VAL branch_z_x1_110;
				PTUP branch_ZPlusMirth_111;
				STR* branch_Str_112;
				STR* branch_ZPlusStr_113;
				if (v109) {
					STR* v114;
					mw_std_str_ZPlusStr_pushZ_strZBang(v94, r97, &v114);
					STR* v115;
					STRLIT(v115, ", ", 2);
					STR* v116;
					STRLIT(v116, "&", 1);
					STR* v117;
					mw_std_str_ZPlusStr_pushZ_strZBang(v116, v114, &v117);
					STR* v118 = value_str(((TUP*)PTRPTR(VTUP(v107)))->cells[3]);
					incref(MKSTR(v118));
					decref(MKTUP(VTUP(v107)));
					STR* v119;
					mw_std_str_ZPlusStr_pushZ_strZBang(v118, v117, &v119);
					branch_ZPlusStr_113 = v119;
					branch_Str_112 = v115;
					branch_ZPlusMirth_111 = v108;
					branch_z_x1_110 = r96;
				} else {
					decref(MKTUP(VTUP(v107)));
					branch_ZPlusStr_113 = r97;
					branch_Str_112 = v94;
					branch_ZPlusMirth_111 = v108;
					branch_z_x1_110 = r96;
				}
				bool v120 = true;
				branch_Bool_105 = v120;
				branch_List_104 = v106;
				branch_ZPlusStr_103 = branch_ZPlusStr_113;
				branch_z_x1_102 = branch_z_x1_110;
				branch_ZPlusMirth_101 = branch_ZPlusMirth_111;
				branch_Str_100 = branch_Str_112;
			} break;
			case 0LL: { // Nil
				PTUP v121 = PTRMK(0LL /* Nil */,0,0);
				bool v122 = false;
				branch_Bool_105 = v122;
				branch_List_104 = v121;
				branch_ZPlusStr_103 = r97;
				branch_z_x1_102 = r96;
				branch_ZPlusMirth_101 = r95;
				branch_Str_100 = v94;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v93 = branch_Bool_105;
		v92 = branch_Bool_105;
		v91 = branch_List_104;
		r90 = branch_ZPlusStr_103;
		r89 = branch_z_x1_102;
		r88 = branch_ZPlusMirth_101;
		v87 = branch_Str_100;
	}
	decref(MKTUP(v91));
	decref(MKSTR(v87));
	STR* v123;
	STRLIT(v123, ")", 1);
	STR* v124;
	mw_std_str_ZPlusStr_pushZ_strZBang(v123, r90, &v124);
	incref(MKTUP(in_C99API_4));
	PTUP v125 = VTUP(((TUP*)PTRPTR(in_C99API_4))->cells[4]);
	incref(MKTUP(v125));
	decref(MKTUP(in_C99API_4));
	PTUP branch_C99API_126;
	PTUP branch_ZPlusMirth_127;
	PTUP branch_ZPlusC99Branch_128;
	PTUP branch_Maybe_129;
	switch (PTREXTRA(v125)) {
		case 1LL: { // Some
			VAL v130 = mtp_std_maybe_Maybe_1_Some(v125);
			incref(MKTUP(in_C99API_4));
			bool v131 = value_bool(((TUP*)PTRPTR(in_C99API_4))->cells[7]);
			decref(MKTUP(in_C99API_4));
			PTUP branch_C99API_132;
			PTUP branch_ZPlusMirth_133;
			PTUP branch_ZPlusC99Branch_134;
			PTUP branch_Maybe_135;
			if (v131) {
				bool v136 = value_bool(((TUP*)PTRPTR(VTUP(r89)))->cells[3]);
				PTUP r137 = VTUP(((TUP*)PTRPTR(VTUP(r89)))->cells[0]);
				bool v138 = value_bool(((TUP*)PTRPTR(r137))->cells[3]);
				incref(MKBOOL(v138));
				bool v139 = (value_bool(MKBOOL(v136)) && value_bool(MKBOOL(v138)));
				((TUP*)PTRPTR(r137))->cells[3] = MKBOOL(v139);
				PTUP v140;
				PTUP v141;
				mw_mirth_c99_ZPlusC99_indent(r88, r137, &v140, &v141);
				STR* v142;
				STRLIT(v142, "(void)", 6);
				PTUP v143;
				PTUP v144;
				mw_mirth_c99_ZPlusC99_put(v140, v141, v142, &v143, &v144);
				PTUP v145;
				PTUP v146;
				mw_mirth_c99_ZPlusC99_put(v143, v144, v124, &v145, &v146);
				STR* v147;
				STRLIT(v147, ";", 1);
				PTUP v148;
				PTUP v149;
				mw_mirth_c99_ZPlusC99_put(v145, v146, v147, &v148, &v149);
				PTUP v150;
				PTUP v151;
				mw_mirth_c99_ZPlusC99_line(v148, v149, &v150, &v151);
				((TUP*)PTRPTR(v151))->cells[3] = MKBOOL(value_bool(MKBOOL(v138)));
				((TUP*)PTRPTR(VTUP(r89)))->cells[0] = MKTUP(v151);
				PTUP v152 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v130)));
				branch_Maybe_135 = v152;
				branch_ZPlusC99Branch_134 = VTUP(r89);
				branch_ZPlusMirth_133 = v150;
				branch_C99API_132 = in_C99API_4;
			} else {
				PTUP v153;
				PTUP v154;
				PTUP v155 = mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang(r88, VTUP(r89), v124, VTUP(v130), &v153, &v154);
				PTUP v156 = mtw_std_maybe_Maybe_1_Some(MKTUP(v155));
				branch_Maybe_135 = v156;
				branch_ZPlusC99Branch_134 = v154;
				branch_ZPlusMirth_133 = v153;
				branch_C99API_132 = in_C99API_4;
			}
			branch_Maybe_129 = branch_Maybe_135;
			branch_ZPlusC99Branch_128 = branch_ZPlusC99Branch_134;
			branch_ZPlusMirth_127 = branch_ZPlusMirth_133;
			branch_C99API_126 = branch_C99API_132;
		} break;
		case 0LL: { // None
			bool v157 = value_bool(((TUP*)PTRPTR(VTUP(r89)))->cells[3]);
			PTUP r158 = VTUP(((TUP*)PTRPTR(VTUP(r89)))->cells[0]);
			bool v159 = value_bool(((TUP*)PTRPTR(r158))->cells[3]);
			incref(MKBOOL(v159));
			bool v160 = (value_bool(MKBOOL(v157)) && value_bool(MKBOOL(v159)));
			((TUP*)PTRPTR(r158))->cells[3] = MKBOOL(v160);
			PTUP v161;
			PTUP v162;
			mw_mirth_c99_ZPlusC99_indent(r88, r158, &v161, &v162);
			PTUP v163;
			PTUP v164;
			mw_mirth_c99_ZPlusC99_put(v161, v162, v124, &v163, &v164);
			STR* v165;
			STRLIT(v165, ";", 1);
			PTUP v166;
			PTUP v167;
			mw_mirth_c99_ZPlusC99_put(v163, v164, v165, &v166, &v167);
			PTUP v168;
			PTUP v169;
			mw_mirth_c99_ZPlusC99_line(v166, v167, &v168, &v169);
			((TUP*)PTRPTR(v169))->cells[3] = MKBOOL(value_bool(MKBOOL(v159)));
			((TUP*)PTRPTR(VTUP(r89)))->cells[0] = MKTUP(v169);
			PTUP v170 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_129 = v170;
			branch_ZPlusC99Branch_128 = VTUP(r89);
			branch_ZPlusMirth_127 = v168;
			branch_C99API_126 = in_C99API_4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v171 = value_bool(((TUP*)PTRPTR(branch_C99API_126))->cells[7]);
	decref(MKTUP(branch_C99API_126));
	bool v172 = !v171;
	bool v173 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_128))->cells[3]);
	bool v174 = (v172 && v173);
	((TUP*)PTRPTR(branch_ZPlusC99Branch_128))->cells[3] = MKBOOL(v174);
	PTUP v175;
	PTUP v176;
	mw_std_list_List_1_for_1_sp18(branch_ZPlusMirth_127, branch_ZPlusC99Branch_128, v49, &v175, &v176);
	PTUP branch_ZPlusMirth_177;
	PTUP branch_ZPlusC99Branch_178;
	switch (PTREXTRA(branch_Maybe_129)) {
		case 1LL: { // Some
			VAL v179 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_129);
			PTUP v180;
			PTUP v181;
			mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang(v175, v176, VTUP(v179), &v180, &v181);
			branch_ZPlusC99Branch_178 = v181;
			branch_ZPlusMirth_177 = v180;
		} break;
		case 0LL: { // None
			branch_ZPlusC99Branch_178 = v176;
			branch_ZPlusMirth_177 = v175;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v182;
	PTUP v183;
	mw_std_list_List_1_for_1_sp18(branch_ZPlusMirth_177, branch_ZPlusC99Branch_178, v53, &v182, &v183);
	*out_ZPlusC99Branch_6 = v183;
	*out_ZPlusMirth_5 = v182;
}
static void mw_mirth_c99_ZPlusC99_smartZ_sigZ_put (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_C99API_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	STR* v6;
	STRLIT(v6, "static ", 7);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	incref(MKTUP(in_C99API_3));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[4]);
	incref(MKTUP(v9));
	decref(MKTUP(in_C99API_3));
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusC99_11;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v9);
			PTUP v13 = VTUP(((TUP*)PTRPTR(VTUP(v12)))->cells[2]);
			incref(MKTUP(v13));
			decref(MKTUP(VTUP(v12)));
			PTUP v14;
			STR* v15 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v7, v13, &v14);
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_ZPlusC99_put(v14, v8, v15, &v16, &v17);
			branch_ZPlusC99_11 = v17;
			branch_ZPlusMirth_10 = v16;
		} break;
		case 0LL: { // None
			STR* v18;
			STRLIT(v18, "void", 4);
			PTUP v19;
			PTUP v20;
			mw_mirth_c99_ZPlusC99_put(v7, v8, v18, &v19, &v20);
			branch_ZPlusC99_11 = v20;
			branch_ZPlusMirth_10 = v19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v21;
	STRLIT(v21, " ", 1);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_10, branch_ZPlusC99_11, v21, &v22, &v23);
	incref(MKTUP(in_C99API_3));
	STR* v24 = value_str(((TUP*)PTRPTR(in_C99API_3))->cells[0]);
	incref(MKSTR(v24));
	decref(MKTUP(in_C99API_3));
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_ZPlusC99_put(v22, v23, v24, &v25, &v26);
	STR* v27;
	STRLIT(v27, " (", 2);
	PTUP v28;
	PTUP v29;
	mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
	STR* v30;
	STRLIT(v30, "", 0);
	incref(MKTUP(in_C99API_3));
	PTUP v31 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[2]);
	incref(MKTUP(v31));
	decref(MKTUP(in_C99API_3));
	PTUP v32;
	VAL v33;
	PTUP v34 = mw_std_list_List_1_filter_1_sp6(v28, MKTUP(v29), v31, &v32, &v33);
	bool v35 = true;
	PTUP r36 = v32;
	PTUP r37 = VTUP(v33);
	STR* v38 = v30;
	PTUP v39 = v34;
	bool v40 = v35;
	bool v41 = v35;
	while (v41) {
		PTUP r42 = r36;
		PTUP r43 = r37;
		STR* v44 = v38;
		PTUP v45 = v39;
		bool v46 = v40;
		STR* branch_Str_47;
		PTUP branch_ZPlusMirth_48;
		PTUP branch_ZPlusC99_49;
		PTUP branch_List_50;
		bool branch_Bool_51;
		switch (PTREXTRA(v45)) {
			case 1LL: { // Cons
				PTUP v52;
				VAL v53 = mtp_std_list_List_1_Cons(v45, &v52);
				PTUP v54;
				PTUP v55;
				mw_mirth_c99_ZPlusC99_put(r42, r43, v44, &v54, &v55);
				STR* v56;
				STRLIT(v56, ", ", 2);
				incref(MKTUP(VTUP(v53)));
				PTUP v57 = VTUP(((TUP*)PTRPTR(VTUP(v53)))->cells[2]);
				incref(MKTUP(v57));
				decref(MKTUP(VTUP(v53)));
				PTUP v58;
				STR* v59 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v54, v57, &v58);
				PTUP v60;
				PTUP v61;
				mw_mirth_c99_ZPlusC99_put(v58, v55, v59, &v60, &v61);
				STR* v62;
				STRLIT(v62, " ", 1);
				PTUP v63;
				PTUP v64;
				mw_mirth_c99_ZPlusC99_put(v60, v61, v62, &v63, &v64);
				STR* v65 = value_str(((TUP*)PTRPTR(VTUP(v53)))->cells[3]);
				incref(MKSTR(v65));
				decref(MKTUP(VTUP(v53)));
				PTUP v66;
				PTUP v67;
				mw_mirth_c99_ZPlusC99_put(v63, v64, v65, &v66, &v67);
				bool v68 = true;
				branch_Bool_51 = v68;
				branch_List_50 = v52;
				branch_ZPlusC99_49 = v67;
				branch_ZPlusMirth_48 = v66;
				branch_Str_47 = v56;
			} break;
			case 0LL: { // Nil
				PTUP v69 = PTRMK(0LL /* Nil */,0,0);
				bool v70 = false;
				branch_Bool_51 = v70;
				branch_List_50 = v69;
				branch_ZPlusC99_49 = r43;
				branch_ZPlusMirth_48 = r42;
				branch_Str_47 = v44;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v41 = branch_Bool_51;
		v40 = branch_Bool_51;
		v39 = branch_List_50;
		v38 = branch_Str_47;
		r37 = branch_ZPlusC99_49;
		r36 = branch_ZPlusMirth_48;
	}
	decref(MKTUP(v39));
	incref(MKTUP(in_C99API_3));
	PTUP v71 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[3]);
	incref(MKTUP(v71));
	decref(MKTUP(in_C99API_3));
	incref(MKTUP(in_C99API_3));
	PTUP v72 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[5]);
	incref(MKTUP(v72));
	decref(MKTUP(in_C99API_3));
	PTUP v73 = mw_std_list_List_1_cat(v71, v72);
	PTUP v74;
	VAL v75;
	PTUP v76 = mw_std_list_List_1_filter_1_sp6(r36, MKTUP(r37), v73, &v74, &v75);
	bool v77 = true;
	PTUP r78 = v74;
	PTUP r79 = VTUP(v75);
	STR* v80 = v38;
	PTUP v81 = v76;
	bool v82 = v77;
	bool v83 = v77;
	while (v83) {
		PTUP r84 = r78;
		PTUP r85 = r79;
		STR* v86 = v80;
		PTUP v87 = v81;
		bool v88 = v82;
		STR* branch_Str_89;
		PTUP branch_ZPlusMirth_90;
		PTUP branch_ZPlusC99_91;
		PTUP branch_List_92;
		bool branch_Bool_93;
		switch (PTREXTRA(v87)) {
			case 1LL: { // Cons
				PTUP v94;
				VAL v95 = mtp_std_list_List_1_Cons(v87, &v94);
				PTUP v96;
				PTUP v97;
				mw_mirth_c99_ZPlusC99_put(r84, r85, v86, &v96, &v97);
				STR* v98;
				STRLIT(v98, ", ", 2);
				incref(MKTUP(VTUP(v95)));
				PTUP v99 = VTUP(((TUP*)PTRPTR(VTUP(v95)))->cells[2]);
				incref(MKTUP(v99));
				decref(MKTUP(VTUP(v95)));
				PTUP v100;
				STR* v101 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v96, v99, &v100);
				PTUP v102;
				PTUP v103;
				mw_mirth_c99_ZPlusC99_put(v100, v97, v101, &v102, &v103);
				STR* v104;
				STRLIT(v104, " *", 2);
				PTUP v105;
				PTUP v106;
				mw_mirth_c99_ZPlusC99_put(v102, v103, v104, &v105, &v106);
				STR* v107 = value_str(((TUP*)PTRPTR(VTUP(v95)))->cells[3]);
				incref(MKSTR(v107));
				decref(MKTUP(VTUP(v95)));
				PTUP v108;
				PTUP v109;
				mw_mirth_c99_ZPlusC99_put(v105, v106, v107, &v108, &v109);
				bool v110 = true;
				branch_Bool_93 = v110;
				branch_List_92 = v94;
				branch_ZPlusC99_91 = v109;
				branch_ZPlusMirth_90 = v108;
				branch_Str_89 = v98;
			} break;
			case 0LL: { // Nil
				PTUP v111 = PTRMK(0LL /* Nil */,0,0);
				bool v112 = false;
				branch_Bool_93 = v112;
				branch_List_92 = v111;
				branch_ZPlusC99_91 = r85;
				branch_ZPlusMirth_90 = r84;
				branch_Str_89 = v86;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v83 = branch_Bool_93;
		v82 = branch_Bool_93;
		v81 = branch_List_92;
		v80 = branch_Str_89;
		r79 = branch_ZPlusC99_91;
		r78 = branch_ZPlusMirth_90;
	}
	decref(MKTUP(v81));
	uint64_t v113 = str_size(v80);
	INT v114 = u64_to_int(v113);
	INT v115 = WRAP_I63(0LL);
	INT v116 = v115;
	bool v117 = int_eq(v114, v116);
	PTUP branch_ZPlusMirth_118;
	PTUP branch_ZPlusC99_119;
	if (v117) {
		STR* v120;
		STRLIT(v120, "void", 4);
		PTUP v121;
		PTUP v122;
		mw_mirth_c99_ZPlusC99_put(r78, r79, v120, &v121, &v122);
		branch_ZPlusC99_119 = v122;
		branch_ZPlusMirth_118 = v121;
	} else {
		branch_ZPlusC99_119 = r79;
		branch_ZPlusMirth_118 = r78;
	}
	STR* v123;
	STRLIT(v123, ")", 1);
	PTUP v124;
	PTUP v125;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_118, branch_ZPlusC99_119, v123, &v124, &v125);
	decref(MKTUP(in_C99API_3));
	*out_ZPlusC99_5 = v125;
	*out_ZPlusMirth_4 = v124;
}
static void mw_mirth_c99_c99Z_smartZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_C99API_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99_smartZ_sigZ_put(v6, v7, in_C99API_3, &v8, &v9);
	STR* v10;
	STRLIT(v10, ";", 1);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_put(v8, v9, v10, &v11, &v12);
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_ZPlusC99_line(v11, v12, &v13, &v14);
	*out_ZPlusC99_5 = v14;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_c99Z_apiZ_enterZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_C99API_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99API_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[2]);
	incref(MKTUP(v6));
	decref(MKTUP(in_C99API_3));
	INT v7 = mw_std_list_List_1_len(v6);
	incref(MKTUP(in_C99API_3));
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[3]);
	incref(MKTUP(v8));
	decref(MKTUP(in_C99API_3));
	INT v9 = mw_std_list_List_1_len(v8);
	INT v10 = v7;
	INT v11 = v9;
	INT v12 = int_add(v10, v11);
	INT v13 = v12;
	incref(MKTUP(in_C99API_3));
	PTUP v14 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[5]);
	incref(MKTUP(v14));
	decref(MKTUP(in_C99API_3));
	INT v15 = mw_std_list_List_1_len(v14);
	INT v16 = v13;
	INT v17 = v15;
	INT v18 = int_add(v16, v17);
	INT v19 = v18;
	incref(MKTUP(in_C99API_3));
	PTUP v20 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[4]);
	incref(MKTUP(v20));
	decref(MKTUP(in_C99API_3));
	int64_t v21 = PTREXTRA(v20);
	decref(MKTUP(v20));
	INT v22 = WRAP_I63(0LL);
	INT v23 = v22;
	INT v24 = i64_to_int(v21);
	bool v25 = int_eq(v24, v23);
	bool v26 = !v25;
	INT branch_Nat_27;
	if (v26) {
		INT v28 = WRAP_I63(1LL);
		INT v29 = v19;
		INT v30 = v28;
		INT v31 = int_add(v29, v30);
		INT v32 = v31;
		branch_Nat_27 = v32;
	} else {
		branch_Nat_27 = v19;
	}
	INT v33 = WRAP_I63(1LL);
	INT v34 = branch_Nat_27;
	INT v35 = v33;
	INT v36 = int_add(v34, v35);
	INT v37 = v36;
	INT v38 = value_nat(((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2]);
	decref(MKNAT(v38));
	((TUP*)PTRPTR(in_ZPlusC99_2))->cells[2] = MKNAT(v37);
	bool v39 = true;
	PTUP v40 = PTRMK(0LL /* Nil */,0,0);
	PTUP v41;
	PTUP v42;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v39, v40, &v41, &v42);
	incref(MKTUP(in_C99API_3));
	PTUP v43 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[2]);
	incref(MKTUP(v43));
	decref(MKTUP(in_C99API_3));
	PTUP v44;
	PTUP v45;
	mw_std_list_List_1_for_1_sp18(v41, v42, v43, &v44, &v45);
	decref(MKTUP(in_C99API_3));
	*out_ZPlusC99Branch_5 = v45;
	*out_ZPlusMirth_4 = v44;
}
static void mw_mirth_c99_c99Z_apiZ_exitZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99API_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	incref(MKTUP(in_C99API_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[5]);
	incref(MKTUP(v6));
	decref(MKTUP(in_C99API_3));
	PTUP v7;
	PTUP v8;
	mw_std_list_List_1_reverseZ_for_1_sp7(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8);
	incref(MKTUP(in_C99API_3));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[4]);
	incref(MKTUP(v9));
	decref(MKTUP(in_C99API_3));
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusC99Branch_11;
	PTUP branch_Maybe_12;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			PTUP v14;
			PTUP v15;
			STR* v16 = mw_mirth_c99_C99APIArg_popZ_consumeZBang(v7, v8, VTUP(v13), &v14, &v15);
			PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKSTR(v16));
			branch_Maybe_12 = v17;
			branch_ZPlusC99Branch_11 = v15;
			branch_ZPlusMirth_10 = v14;
		} break;
		case 0LL: { // None
			PTUP v18 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_12 = v18;
			branch_ZPlusC99Branch_11 = v8;
			branch_ZPlusMirth_10 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKTUP(in_C99API_3));
	PTUP v19 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[3]);
	incref(MKTUP(v19));
	decref(MKTUP(in_C99API_3));
	PTUP v20;
	PTUP v21;
	mw_std_list_List_1_reverseZ_for_1_sp7(branch_ZPlusMirth_10, branch_ZPlusC99Branch_11, v19, &v20, &v21);
	PTUP v22;
	PTUP v23;
	bool v24;
	PTUP v25;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v20, v21, &v22, &v23, &v24, &v25);
	PTUP branch_C99API_26;
	PTUP branch_ZPlusMirth_27;
	PTUP branch_ZPlusC99_28;
	PTUP branch_List_29;
	if (v24) {
		PTUP branch_ZPlusMirth_30;
		PTUP branch_ZPlusC99_31;
		switch (PTREXTRA(branch_Maybe_12)) {
			case 1LL: { // Some
				VAL v32 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_12);
				PTUP v33;
				PTUP v34;
				mw_mirth_c99_ZPlusC99_indent(v22, v23, &v33, &v34);
				STR* v35;
				STRLIT(v35, "return ", 7);
				PTUP v36;
				PTUP v37;
				mw_mirth_c99_ZPlusC99_put(v33, v34, v35, &v36, &v37);
				PTUP v38;
				PTUP v39;
				mw_mirth_c99_ZPlusC99_put(v36, v37, value_str(v32), &v38, &v39);
				STR* v40;
				STRLIT(v40, ";", 1);
				PTUP v41;
				PTUP v42;
				mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
				PTUP v43;
				PTUP v44;
				mw_mirth_c99_ZPlusC99_line(v41, v42, &v43, &v44);
				branch_ZPlusC99_31 = v44;
				branch_ZPlusMirth_30 = v43;
			} break;
			case 0LL: { // None
				branch_ZPlusC99_31 = v23;
				branch_ZPlusMirth_30 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_List_29 = v25;
		branch_ZPlusC99_28 = branch_ZPlusC99_31;
		branch_ZPlusMirth_27 = branch_ZPlusMirth_30;
		branch_C99API_26 = in_C99API_3;
	} else {
		decref(MKTUP(branch_Maybe_12));
		incref(MKTUP(in_C99API_3));
		PTUP v45 = VTUP(((TUP*)PTRPTR(in_C99API_3))->cells[4]);
		incref(MKTUP(v45));
		decref(MKTUP(in_C99API_3));
		PTUP branch_ZPlusMirth_46;
		PTUP branch_ZPlusC99_47;
		switch (PTREXTRA(v45)) {
			case 1LL: { // Some
				VAL v48 = mtp_std_maybe_Maybe_1_Some(v45);
				PTUP v49 = VTUP(((TUP*)PTRPTR(VTUP(v48)))->cells[2]);
				incref(MKTUP(v49));
				decref(MKTUP(VTUP(v48)));
				STR* v50 = mw_mirth_c99_C99ReprType_dummyZ_value(v49);
				PTUP v51;
				PTUP v52;
				mw_mirth_c99_ZPlusC99_indent(v22, v23, &v51, &v52);
				STR* v53;
				STRLIT(v53, "return ", 7);
				PTUP v54;
				PTUP v55;
				mw_mirth_c99_ZPlusC99_put(v51, v52, v53, &v54, &v55);
				PTUP v56;
				PTUP v57;
				mw_mirth_c99_ZPlusC99_put(v54, v55, v50, &v56, &v57);
				STR* v58;
				STRLIT(v58, "; /* unreachable */", 19);
				PTUP v59;
				PTUP v60;
				mw_mirth_c99_ZPlusC99_put(v56, v57, v58, &v59, &v60);
				PTUP v61;
				PTUP v62;
				mw_mirth_c99_ZPlusC99_line(v59, v60, &v61, &v62);
				branch_ZPlusC99_47 = v62;
				branch_ZPlusMirth_46 = v61;
			} break;
			case 0LL: { // None
				branch_ZPlusC99_47 = v23;
				branch_ZPlusMirth_46 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_List_29 = v25;
		branch_ZPlusC99_28 = branch_ZPlusC99_47;
		branch_ZPlusMirth_27 = branch_ZPlusMirth_46;
		branch_C99API_26 = in_C99API_3;
	}
	decref(MKTUP(branch_List_29));
	decref(MKTUP(branch_C99API_26));
	*out_ZPlusC99_5 = branch_ZPlusC99_28;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_27;
}
static void mw_mirth_c99_c99Z_codipZ_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_Arrow_3));
	PTUP v6 = mw_mirth_arrow_Arrow_type(in_Arrow_3);
	PTUP v7;
	PTUP v8;
	mtp_mirth_type_ArrowType_ArrowType(v6, &v7, &v8);
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_splitZ_parts(in_ZPlusMirth_1, v8, &v9, &v10);
	PTUP v12;
	PTUP v13;
	PTUP v14 = mw_mirth_type_StackType_splitZ_parts(v9, v7, &v12, &v13);
	PTUP v15;
	bool v16 = mw_mirth_type_StackTypeBase_unitZAsk(v12, v11, &v15);
	PTUP v17;
	bool v18 = mw_mirth_type_StackTypeBase_unitZAsk(v15, v14, &v17);
	bool v19 = (v16 && v18);
	PTUP branch_ZPlusMirth_20;
	PTUP branch_ZPlusC99Branch_21;
	if (v19) {
		PTUP v22;
		PTUP v23;
		PTUP v24;
		mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang(v17, in_ZPlusC99Branch_2, v13, &v22, &v23, &v24);
		PTUP r25 = VTUP(((TUP*)PTRPTR(v23))->cells[1]);
		PTUP r26 = PTRMK(0LL /* +Nil */,0,0);
		((TUP*)PTRPTR(v23))->cells[1] = MKTUP(r26);
		PTUP v27;
		PTUP v28;
		mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang(v22, v23, v24, &v27, &v28);
		PTUP v29;
		PTUP v30;
		mw_mirth_c99_c99Z_arrowZBang(v27, v28, in_Arrow_3, &v29, &v30);
		PTUP v31;
		PTUP v32;
		PTUP v33;
		mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang(v29, v30, v10, &v31, &v32, &v33);
		PTUP r34 = VTUP(((TUP*)PTRPTR(v32))->cells[1]);
		mw_mirth_c99_ZPlusC99Stack_rdrop(r34);
		((TUP*)PTRPTR(v32))->cells[1] = MKTUP(r25);
		PTUP v35;
		PTUP v36;
		mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang(VTUP(MKTUP(v31)), v32, v33, &v35, &v36);
		branch_ZPlusC99Branch_21 = v36;
		branch_ZPlusMirth_20 = v35;
	} else {
		decref(MKTUP(v13));
		decref(MKTUP(v10));
		PTUP v37;
		PTUP v38;
		mw_mirth_c99_c99Z_arrowZBang(v17, in_ZPlusC99Branch_2, in_Arrow_3, &v37, &v38);
		branch_ZPlusC99Branch_21 = v38;
		branch_ZPlusMirth_20 = v37;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_21;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_20;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Stack_6) {
	PTUP r7 = PTRMK(0LL /* +Nil */,0,0);
	PTUP v8 = mw_std_list_List_1_reverse(in_List_3);
	bool v9 = true;
	PTUP r10 = in_ZPlusMirth_1;
	PTUP r11 = in_ZPlusC99Branch_2;
	PTUP r12 = r7;
	PTUP v13 = v8;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		PTUP r16 = r10;
		PTUP r17 = r11;
		PTUP r18 = r12;
		PTUP v19 = v13;
		bool v20 = v14;
		PTUP branch_ZPlusMirth_21;
		PTUP branch_ZPlusC99Branch_22;
		PTUP branch_ZPlusC99Stack_23;
		PTUP branch_List_24;
		bool branch_Bool_25;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Cons
				PTUP v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				PTUP v28;
				PTUP v29;
				PTUP v30;
				mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZ_toZ_stackZBang(r16, r17, r18, VTUP(v27), &v28, &v29, &v30);
				bool v31 = true;
				branch_Bool_25 = v31;
				branch_List_24 = v26;
				branch_ZPlusC99Stack_23 = v30;
				branch_ZPlusC99Branch_22 = v29;
				branch_ZPlusMirth_21 = v28;
			} break;
			case 0LL: { // Nil
				PTUP v32 = PTRMK(0LL /* Nil */,0,0);
				bool v33 = false;
				branch_Bool_25 = v33;
				branch_List_24 = v32;
				branch_ZPlusC99Stack_23 = r18;
				branch_ZPlusC99Branch_22 = r17;
				branch_ZPlusMirth_21 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		r12 = branch_ZPlusC99Stack_23;
		r11 = branch_ZPlusC99Branch_22;
		r10 = branch_ZPlusMirth_21;
	}
	decref(MKTUP(v13));
	*out_ZPlusC99Stack_6 = r12;
	*out_ZPlusC99Branch_5 = r11;
	*out_ZPlusMirth_4 = r10;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZ_toZ_stackZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Stack_3, PTUP in_StackTypePart_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Stack_7) {
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Branch_9;
	PTUP branch_ZPlusC99Stack_10;
	switch (PTREXTRA(in_StackTypePart_4)) {
		case 0LL: { // Cons
			PTUP v11 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_4);
			PTUP v12;
			PTUP v13;
			PTUP v14 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v11, &v12, &v13);
			PTUP v15;
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v12, v13, v14, &v15, &v16, &v17);
			PTUP v18;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_3, v17, &v18);
			branch_ZPlusC99Stack_10 = v18;
			branch_ZPlusC99Branch_9 = v16;
			branch_ZPlusMirth_8 = v15;
		} break;
		case 2LL: { // With
			PTUP v19 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_4);
			PTUP v20;
			PTUP v21;
			PTUP v22 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v19, &v20, &v21);
			PTUP v23;
			PTUP v24;
			PTUP v25;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v20, v21, v22, &v23, &v24, &v25);
			PTUP v26;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_3, v25, &v26);
			branch_ZPlusC99Stack_10 = v26;
			branch_ZPlusC99Branch_9 = v24;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v27;
			PTUP v28 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_4, &v27);
			PTUP v29;
			PTUP v30;
			PTUP v31 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v28, &v29, &v30);
			incref(MKU64(v27));
			PTUP v32;
			PTUP v33;
			PTUP v34;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v29, v30, VTUP(MKTUP(v31)), value_u64(MKU64(v27)), &v32, &v33, &v34);
			PTUP v35;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_3, v34, value_u64(MKU64(v27)), &v35);
			branch_ZPlusC99Stack_10 = v35;
			branch_ZPlusC99Branch_9 = v33;
			branch_ZPlusMirth_8 = v32;
		} break;
		case 3LL: { // WithLabel
			uint64_t v36;
			PTUP v37 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_4, &v36);
			PTUP v38;
			PTUP v39;
			PTUP v40 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v37, &v38, &v39);
			incref(MKU64(v36));
			PTUP v41;
			PTUP v42;
			PTUP v43;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v38, v39, VTUP(MKTUP(v40)), value_u64(MKU64(v36)), &v41, &v42, &v43);
			PTUP v44;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_3, v43, value_u64(MKU64(v36)), &v44);
			branch_ZPlusC99Stack_10 = v44;
			branch_ZPlusC99Branch_9 = v42;
			branch_ZPlusMirth_8 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_7 = branch_ZPlusC99Stack_10;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Stack_2, PTUP in_ZPlusC99Stack_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Stack_5) {
	bool v6 = true;
	PTUP r7 = in_ZPlusC99Stack_2;
	PTUP r8 = in_ZPlusC99Stack_3;
	bool v9 = v6;
	bool v10 = v6;
	while (v10) {
		PTUP r11 = r7;
		PTUP r12 = r8;
		bool v13 = v9;
		PTUP branch_ZPlusC99Stack_14;
		PTUP branch_ZPlusC99Stack_15;
		bool branch_Bool_16;
		switch (PTREXTRA(r12)) {
			case 0LL: { // +Nil
				PTUP r17 = PTRMK(0LL /* +Nil */,0,0);
				bool v18 = false;
				branch_Bool_16 = v18;
				branch_ZPlusC99Stack_15 = r17;
				branch_ZPlusC99Stack_14 = r11;
			} break;
			case 1LL: { // +Cons
				PTUP v19;
				PTUP v20;
				mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(r12, &v19, &v20);
				PTUP v21;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(r11, v20, &v21);
				bool v22 = true;
				branch_Bool_16 = v22;
				branch_ZPlusC99Stack_15 = v19;
				branch_ZPlusC99Stack_14 = v21;
			} break;
			case 2LL: { // +With
				PTUP v23;
				PTUP v24;
				mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(r12, &v23, &v24);
				PTUP v25;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(r11, v24, &v25);
				bool v26 = true;
				branch_Bool_16 = v26;
				branch_ZPlusC99Stack_15 = v23;
				branch_ZPlusC99Stack_14 = v25;
			} break;
			case 3LL: { // +ConsLabel
				PTUP v27;
				PTUP v28;
				uint64_t v29 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(r12, &v27, &v28);
				PTUP v30;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(r11, v28, v29, &v30);
				bool v31 = true;
				branch_Bool_16 = v31;
				branch_ZPlusC99Stack_15 = v27;
				branch_ZPlusC99Stack_14 = v30;
			} break;
			case 4LL: { // +WithLabel
				PTUP v32;
				PTUP v33;
				uint64_t v34 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(r12, &v32, &v33);
				PTUP v35;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(r11, v33, v34, &v35);
				bool v36 = true;
				branch_Bool_16 = v36;
				branch_ZPlusC99Stack_15 = v32;
				branch_ZPlusC99Stack_14 = v35;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_16;
		v9 = branch_Bool_16;
		r8 = branch_ZPlusC99Stack_15;
		r7 = branch_ZPlusC99Stack_14;
	}
	mw_mirth_c99_ZPlusC99Stack_rdrop(r8);
	*out_ZPlusC99Stack_5 = r7;
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Stack_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang(in_ZPlusMirth_1, r6, in_ZPlusC99Stack_3, &v7, &v8);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v8);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_c99Z_arrowZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Arrow_3))->cells[6]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Arrow_3));
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusC99Branch_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusC99Branch_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				PTUP v23;
				PTUP v24;
				mw_mirth_c99_c99Z_atomZBang(r13, r14, VTUP(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusC99Branch_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusC99Branch_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusC99Branch_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusC99Branch_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static void mw_mirth_c99_c99Z_atomZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	PTUP v7 = VTUP(((TUP*)PTRPTR(r6))->cells[0]);
	incref(MKTUP(v7));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(r6);
	bool v8 = value_bool(((TUP*)PTRPTR(v7))->cells[1]);
	decref(MKTUP(v7));
	PTUP branch_Atom_9;
	bool branch_Bool_10;
	PTUP branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	if (v8) {
		incref(MKTUP(in_Atom_3));
		PTUP v13 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[3]);
		incref(MKTUP(v13));
		decref(MKTUP(in_Atom_3));
		PTUP v14;
		bool v15 = mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk(in_ZPlusMirth_1, v13, &v14);
		branch_z_x1_12 = MKTUP(in_ZPlusC99Branch_2);
		branch_ZPlusMirth_11 = v14;
		branch_Bool_10 = v15;
		branch_Atom_9 = in_Atom_3;
	} else {
		bool v16 = false;
		branch_z_x1_12 = MKTUP(in_ZPlusC99Branch_2);
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		branch_Bool_10 = v16;
		branch_Atom_9 = in_Atom_3;
	}
	PTUP branch_Atom_17;
	PTUP branch_ZPlusMirth_18;
	PTUP branch_ZPlusC99Branch_19;
	if (branch_Bool_10) {
		PTUP r20 = VTUP(((TUP*)PTRPTR(VTUP(branch_z_x1_12)))->cells[0]);
		PTUP v21;
		PTUP v22;
		mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_11, r20, &v21, &v22);
		STR* v23;
		STRLIT(v23, "WORD_ATOM(", 10);
		PTUP v24;
		PTUP v25;
		mw_mirth_c99_ZPlusC99_put(v21, v22, v23, &v24, &v25);
		incref(MKTUP(branch_Atom_9));
		uint64_t v26 = value_u64(((TUP*)PTRPTR(branch_Atom_9))->cells[1]);
		decref(MKTUP(branch_Atom_9));
		PTUP v27;
		INT v28 = mw_mirth_token_Token_row(v24, v26, &v27);
		INT v29 = mw_mirth_location_Row_ZToInt(v28);
		STR* v30 = int_to_str(v29);
		PTUP v31;
		PTUP v32;
		mw_mirth_c99_ZPlusC99_put(v27, v25, v30, &v31, &v32);
		STR* v33;
		STRLIT(v33, ", ", 2);
		PTUP v34;
		PTUP v35;
		mw_mirth_c99_ZPlusC99_put(v31, v32, v33, &v34, &v35);
		incref(MKTUP(branch_Atom_9));
		uint64_t v36 = value_u64(((TUP*)PTRPTR(branch_Atom_9))->cells[1]);
		decref(MKTUP(branch_Atom_9));
		PTUP v37;
		INT v38 = mw_mirth_token_Token_col(v34, v36, &v37);
		INT v39 = mw_mirth_location_Col_ZToInt(v38);
		STR* v40 = int_to_str(v39);
		PTUP v41;
		PTUP v42;
		mw_mirth_c99_ZPlusC99_put(v37, v35, v40, &v41, &v42);
		STR* v43;
		STRLIT(v43, ", ", 2);
		PTUP v44;
		PTUP v45;
		mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
		incref(MKTUP(branch_Atom_9));
		uint64_t v46 = value_u64(((TUP*)PTRPTR(branch_Atom_9))->cells[1]);
		decref(MKTUP(branch_Atom_9));
		PTUP v47;
		PTUP v48 = mw_mirth_token_Token_nameZAsk(v44, v46, &v47);
		PTUP branch_ZPlusMirth_49;
		STR* branch_Str_50;
		switch (PTREXTRA(v48)) {
			case 1LL: { // Some
				VAL v51 = mtp_std_maybe_Maybe_1_Some(v48);
				PTUP v52;
				STR* v53 = mw_mirth_name_Name_ZToStr(v47, value_u64(v51), &v52);
				branch_Str_50 = v53;
				branch_ZPlusMirth_49 = v52;
			} break;
			case 0LL: { // None
				STR* v54;
				STRLIT(v54, "", 0);
				branch_Str_50 = v54;
				branch_ZPlusMirth_49 = v47;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		PTUP v55;
		PTUP v56;
		mw_mirth_c99_ZPlusC99_putZ_cstr(branch_ZPlusMirth_49, v45, branch_Str_50, &v55, &v56);
		STR* v57;
		STRLIT(v57, ");", 2);
		PTUP v58;
		PTUP v59;
		mw_mirth_c99_ZPlusC99_put(v55, v56, v57, &v58, &v59);
		PTUP v60;
		PTUP v61;
		mw_mirth_c99_ZPlusC99_line(v58, v59, &v60, &v61);
		((TUP*)PTRPTR(VTUP(branch_z_x1_12)))->cells[0] = MKTUP(v61);
		branch_ZPlusC99Branch_19 = VTUP(branch_z_x1_12);
		branch_ZPlusMirth_18 = v60;
		branch_Atom_17 = branch_Atom_9;
	} else {
		branch_ZPlusC99Branch_19 = VTUP(branch_z_x1_12);
		branch_ZPlusMirth_18 = branch_ZPlusMirth_11;
		branch_Atom_17 = branch_Atom_9;
	}
	incref(MKTUP(branch_Atom_17));
	PTUP v62 = VTUP(((TUP*)PTRPTR(branch_Atom_17))->cells[3]);
	incref(MKTUP(v62));
	decref(MKTUP(branch_Atom_17));
	PTUP v63;
	PTUP v64;
	mw_mirth_c99_c99Z_atomZ_opZBang(branch_ZPlusMirth_18, branch_ZPlusC99Branch_19, branch_Atom_17, v62, &v63, &v64);
	*out_ZPlusC99Branch_5 = v64;
	*out_ZPlusMirth_4 = v63;
}
static bool mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk (PTUP in_ZPlusMirth_1, PTUP in_Op_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_Op_2)) {
		case 5LL: { // Push
			PTUP v7 = mtp_mirth_arrow_Op_Push(in_Op_2);
			decref(MKTUP(v7));
			bool v8 = false;
			branch_Bool_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Word
			uint64_t v9 = mtp_mirth_arrow_Op_Word(in_Op_2);
			PTUP v10;
			bool v11 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, v9, &v10);
			bool v12 = !v11;
			branch_Bool_6 = v12;
			branch_ZPlusMirth_5 = v10;
		} break;
		case 2LL: { // External
			uint64_t v13 = mtp_mirth_arrow_Op_External(in_Op_2);
			bool v14 = true;
			branch_Bool_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Buffer
			uint64_t v15 = mtp_mirth_arrow_Op_Buffer(in_Op_2);
			bool v16 = false;
			branch_Bool_6 = v16;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Field
			uint64_t v17 = mtp_mirth_arrow_Op_Field(in_Op_2);
			bool v18 = false;
			branch_Bool_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v19 = mtp_mirth_arrow_Op_Tag(in_Op_2);
			bool v20 = false;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Prim
			int64_t v21 = mtp_mirth_arrow_Op_Prim(in_Op_2);
			bool v22 = true;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Match
			PTUP v23 = mtp_mirth_arrow_Op_Match(in_Op_2);
			decref(MKTUP(v23));
			bool v24 = false;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Lambda
			PTUP v25 = mtp_mirth_arrow_Op_Lambda(in_Op_2);
			decref(MKTUP(v25));
			bool v26 = false;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Var
			uint64_t v27 = mtp_mirth_arrow_Op_Var(in_Op_2);
			bool v28 = false;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v29 = mtp_mirth_arrow_Op_BlockPush(in_Op_2);
			bool v30 = false;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // BlockRun
			uint64_t v31 = mtp_mirth_arrow_Op_BlockRun(in_Op_2);
			bool v32 = false;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // LabelPush
			uint64_t v33 = mtp_mirth_arrow_Op_LabelPush(in_Op_2);
			bool v34 = false;
			branch_Bool_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // LabelPop
			uint64_t v35 = mtp_mirth_arrow_Op_LabelPop(in_Op_2);
			bool v36 = false;
			branch_Bool_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v37 = mtp_mirth_arrow_Op_LabelPushR(in_Op_2);
			bool v38 = false;
			branch_Bool_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v39 = mtp_mirth_arrow_Op_LabelPopR(in_Op_2);
			bool v40 = false;
			branch_Bool_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v41 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_2);
			bool v42 = false;
			branch_Bool_6 = v42;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v43 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_2);
			bool v44 = false;
			branch_Bool_6 = v44;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // DataGetLabel
			PTUP v45 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_2);
			decref(MKTUP(v45));
			bool v46 = false;
			branch_Bool_6 = v46;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // DataSetLabel
			PTUP v47 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_2);
			decref(MKTUP(v47));
			bool v48 = false;
			branch_Bool_6 = v48;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v49 = mtp_mirth_arrow_Op_TableToIndex(in_Op_2);
			bool v50 = false;
			branch_Bool_6 = v50;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v51 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_2);
			bool v52 = false;
			branch_Bool_6 = v52;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static void mw_mirth_c99_c99Z_atomZ_opZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, PTUP in_Op_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusC99Branch_8;
	switch (PTREXTRA(in_Op_4)) {
		case 5LL: { // Push
			PTUP v9 = mtp_mirth_arrow_Op_Push(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v10;
			PTUP v11;
			mw_mirth_c99_c99Z_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, VTUP(MKTUP(v9)), &v10, &v11);
			branch_ZPlusC99Branch_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 1LL: { // Word
			uint64_t v12 = mtp_mirth_arrow_Op_Word(in_Op_4);
			PTUP v13 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v13));
			decref(MKTUP(in_Atom_3));
			PTUP v14;
			PTUP v15;
			mw_mirth_c99_c99Z_wordZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v13, v12, &v14, &v15);
			branch_ZPlusC99Branch_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 2LL: { // External
			uint64_t v16 = mtp_mirth_arrow_Op_External(in_Op_4);
			PTUP v17 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v17));
			decref(MKTUP(in_Atom_3));
			PTUP v18;
			PTUP v19;
			mw_mirth_c99_c99Z_externalZ_callZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v17, v16, &v18, &v19);
			branch_ZPlusC99Branch_8 = v19;
			branch_ZPlusMirth_7 = v18;
		} break;
		case 3LL: { // Buffer
			uint64_t v20 = mtp_mirth_arrow_Op_Buffer(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v21;
			PTUP v22;
			mw_mirth_c99_c99Z_bufferZ_callZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v20)), &v21, &v22);
			branch_ZPlusC99Branch_8 = v22;
			branch_ZPlusMirth_7 = v21;
		} break;
		case 4LL: { // Field
			uint64_t v23 = mtp_mirth_arrow_Op_Field(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v24;
			PTUP v25;
			mw_mirth_c99_c99Z_fieldZ_callZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v23)), &v24, &v25);
			branch_ZPlusC99Branch_8 = v25;
			branch_ZPlusMirth_7 = v24;
		} break;
		case 6LL: { // Tag
			uint64_t v26 = mtp_mirth_arrow_Op_Tag(in_Op_4);
			PTUP v27 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v27));
			decref(MKTUP(in_Atom_3));
			PTUP v28;
			PTUP v29;
			mw_mirth_c99_c99Z_tagZ_callZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v27, v26, &v28, &v29);
			branch_ZPlusC99Branch_8 = v29;
			branch_ZPlusMirth_7 = v28;
		} break;
		case 0LL: { // Prim
			int64_t v30 = mtp_mirth_arrow_Op_Prim(in_Op_4);
			PTUP v31;
			PTUP v32;
			mw_mirth_c99_c99Z_primZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v30, &v31, &v32);
			branch_ZPlusC99Branch_8 = v32;
			branch_ZPlusMirth_7 = v31;
		} break;
		case 7LL: { // Match
			PTUP v33 = mtp_mirth_arrow_Op_Match(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v34;
			PTUP v35;
			mw_mirth_c99_c99Z_matchZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, VTUP(MKTUP(v33)), &v34, &v35);
			branch_ZPlusC99Branch_8 = v35;
			branch_ZPlusMirth_7 = v34;
		} break;
		case 8LL: { // Lambda
			PTUP v36 = mtp_mirth_arrow_Op_Lambda(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v37;
			PTUP v38;
			mw_mirth_c99_c99Z_lambdaZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, VTUP(MKTUP(v36)), &v37, &v38);
			branch_ZPlusC99Branch_8 = v38;
			branch_ZPlusMirth_7 = v37;
		} break;
		case 9LL: { // Var
			uint64_t v39 = mtp_mirth_arrow_Op_Var(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v40;
			PTUP v41;
			mw_mirth_c99_c99Z_varZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v39)), &v40, &v41);
			branch_ZPlusC99Branch_8 = v41;
			branch_ZPlusMirth_7 = v40;
		} break;
		case 10LL: { // BlockPush
			uint64_t v42 = mtp_mirth_arrow_Op_BlockPush(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v43;
			PTUP v44;
			mw_mirth_c99_c99Z_blockZ_pushZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v42)), &v43, &v44);
			branch_ZPlusC99Branch_8 = v44;
			branch_ZPlusMirth_7 = v43;
		} break;
		case 11LL: { // BlockRun
			uint64_t v45 = mtp_mirth_arrow_Op_BlockRun(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v46;
			PTUP v47;
			mw_mirth_c99_c99Z_blockZ_runZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v45)), &v46, &v47);
			branch_ZPlusC99Branch_8 = v47;
			branch_ZPlusMirth_7 = v46;
		} break;
		case 12LL: { // LabelPush
			uint64_t v48 = mtp_mirth_arrow_Op_LabelPush(in_Op_4);
			PTUP v49;
			PTUP v50;
			mw_mirth_c99_c99Z_labelZ_pushZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v48, &v49, &v50);
			branch_ZPlusC99Branch_8 = v50;
			branch_ZPlusMirth_7 = v49;
		} break;
		case 13LL: { // LabelPop
			uint64_t v51 = mtp_mirth_arrow_Op_LabelPop(in_Op_4);
			PTUP v52;
			PTUP v53;
			mw_mirth_c99_c99Z_labelZ_popZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v51, &v52, &v53);
			branch_ZPlusC99Branch_8 = v53;
			branch_ZPlusMirth_7 = v52;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v54 = mtp_mirth_arrow_Op_LabelPushR(in_Op_4);
			PTUP v55;
			PTUP v56;
			mw_mirth_c99_c99Z_labelZ_pushZ_rZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v54, &v55, &v56);
			branch_ZPlusC99Branch_8 = v56;
			branch_ZPlusMirth_7 = v55;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v57 = mtp_mirth_arrow_Op_LabelPopR(in_Op_4);
			PTUP v58;
			PTUP v59;
			mw_mirth_c99_c99Z_labelZ_popZ_rZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v57, &v58, &v59);
			branch_ZPlusC99Branch_8 = v59;
			branch_ZPlusMirth_7 = v58;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v60 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v61;
			PTUP v62;
			mw_mirth_c99_c99Z_getZ_enumZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v60)), &v61, &v62);
			branch_ZPlusC99Branch_8 = v62;
			branch_ZPlusMirth_7 = v61;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v63 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_4);
			decref(MKTUP(in_Atom_3));
			PTUP v64;
			PTUP v65;
			mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(MKU64(v63)), &v64, &v65);
			branch_ZPlusC99Branch_8 = v65;
			branch_ZPlusMirth_7 = v64;
		} break;
		case 18LL: { // DataGetLabel
			PTUP v66 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_4);
			PTUP v67;
			PTUP v68;
			mw_mirth_c99_c99Z_tagZ_getZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v66, &v67, &v68);
			decref(MKTUP(in_Atom_3));
			branch_ZPlusC99Branch_8 = v68;
			branch_ZPlusMirth_7 = v67;
		} break;
		case 19LL: { // DataSetLabel
			PTUP v69 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_4);
			PTUP v70;
			PTUP v71;
			mw_mirth_c99_c99Z_tagZ_setZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v69, &v70, &v71);
			decref(MKTUP(in_Atom_3));
			branch_ZPlusC99Branch_8 = v71;
			branch_ZPlusMirth_7 = v70;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v72 = mtp_mirth_arrow_Op_TableToIndex(in_Op_4);
			PTUP v73;
			PTUP v74;
			mw_mirth_c99_c99Z_tableZ_toZ_indexZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v72, &v73, &v74);
			decref(MKTUP(in_Atom_3));
			branch_ZPlusC99Branch_8 = v74;
			branch_ZPlusMirth_7 = v73;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v75 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_4);
			PTUP v76;
			PTUP v77;
			mw_mirth_c99_c99Z_tableZ_fromZ_indexZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v75, &v76, &v77);
			decref(MKTUP(in_Atom_3));
			branch_ZPlusC99Branch_8 = v77;
			branch_ZPlusMirth_7 = v76;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_c99Z_pushZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_PushValue_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusC99Branch_7;
	switch (PTREXTRA(in_PushValue_3)) {
		case 0LL: { // Str
			STR* v8 = mtp_mirth_arrow_PushValue_Str(in_PushValue_3);
			PTUP v9;
			PTUP v10;
			mw_mirth_c99_c99Z_strZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v8, &v9, &v10);
			branch_ZPlusC99Branch_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // Int
			INT v11 = mtp_mirth_arrow_PushValue_Int(in_PushValue_3);
			PTUP v12;
			PTUP v13;
			mw_mirth_c99_c99Z_intZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v11, &v12, &v13);
			branch_ZPlusC99Branch_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // Nat
			INT v14 = mtp_mirth_arrow_PushValue_Nat(in_PushValue_3);
			PTUP v15;
			PTUP v16;
			mw_mirth_c99_c99Z_natZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v14, &v15, &v16);
			branch_ZPlusC99Branch_7 = v16;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 3LL: { // U8
			uint8_t v17 = mtp_mirth_arrow_PushValue_U8(in_PushValue_3);
			PTUP v18 = PTRMK(14LL /* U8 */,0,0);
			incref(MKTUP(v18));
			PTUP v19;
			bool v20 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v18, &v19);
			uint8_t branch_U8_21;
			PTUP branch_C99ReprType_22;
			bool branch_Bool_23;
			PTUP branch_ZPlusMirth_24;
			STR* branch_Str_25;
			PTUP branch_ZPlusC99Branch_26;
			if (v20) {
				PTUP r27 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v28;
				PTUP v29;
				STR* v30 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v19, r27, &v28, &v29);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v29);
				branch_ZPlusC99Branch_26 = in_ZPlusC99Branch_2;
				branch_Str_25 = v30;
				branch_ZPlusMirth_24 = v28;
				branch_Bool_23 = v20;
				branch_C99ReprType_22 = v18;
				branch_U8_21 = v17;
			} else {
				STR* v31;
				STRLIT(v31, "0", 1);
				branch_ZPlusC99Branch_26 = in_ZPlusC99Branch_2;
				branch_Str_25 = v31;
				branch_ZPlusMirth_24 = v19;
				branch_Bool_23 = v20;
				branch_C99ReprType_22 = v18;
				branch_U8_21 = v17;
			}
			bool v32 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_26))->cells[3]);
			bool v33 = (branch_Bool_23 && v32);
			PTUP r34 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_26))->cells[0]);
			bool v35 = value_bool(((TUP*)PTRPTR(r34))->cells[3]);
			incref(MKBOOL(v35));
			bool v36 = (value_bool(MKBOOL(v33)) && value_bool(MKBOOL(v35)));
			((TUP*)PTRPTR(r34))->cells[3] = MKBOOL(v36);
			PTUP v37;
			PTUP v38;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_24, r34, &v37, &v38);
			incref(MKTUP(branch_C99ReprType_22));
			PTUP v39;
			STR* v40 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v37, branch_C99ReprType_22, &v39);
			PTUP v41;
			PTUP v42;
			mw_mirth_c99_ZPlusC99_put(v39, v38, v40, &v41, &v42);
			STR* v43;
			STRLIT(v43, " ", 1);
			PTUP v44;
			PTUP v45;
			mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
			incref(MKSTR(branch_Str_25));
			PTUP v46;
			PTUP v47;
			mw_mirth_c99_ZPlusC99_put(v44, v45, branch_Str_25, &v46, &v47);
			STR* v48;
			STRLIT(v48, " = ", 3);
			PTUP v49;
			PTUP v50;
			mw_mirth_c99_ZPlusC99_put(v46, v47, v48, &v49, &v50);
			PTUP v51;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_22, branch_Str_25, &v51);
			uint64_t v52 = (uint64_t)(branch_U8_21);
			INT v53 = u64_to_int(v52);
			INT v54 = v53;
			INT v55 = v54;
			STR* v56 = int_to_str(v55);
			PTUP v57;
			PTUP v58;
			mw_mirth_c99_ZPlusC99_put(v49, v50, v56, &v57, &v58);
			STR* v59;
			STRLIT(v59, ";", 1);
			PTUP v60;
			PTUP v61;
			mw_mirth_c99_ZPlusC99_put(v57, v58, v59, &v60, &v61);
			PTUP v62;
			PTUP v63;
			mw_mirth_c99_ZPlusC99_line(v60, v61, &v62, &v63);
			((TUP*)PTRPTR(v63))->cells[3] = MKBOOL(value_bool(MKBOOL(v35)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_26))->cells[0] = MKTUP(v63);
			PTUP v64;
			PTUP v65;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v62, branch_ZPlusC99Branch_26, v51, &v64, &v65);
			branch_ZPlusC99Branch_7 = v65;
			branch_ZPlusMirth_6 = v64;
		} break;
		case 4LL: { // U16
			uint16_t v66 = mtp_mirth_arrow_PushValue_U16(in_PushValue_3);
			PTUP v67 = PTRMK(13LL /* U16 */,0,0);
			incref(MKTUP(v67));
			PTUP v68;
			bool v69 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v67, &v68);
			uint16_t branch_U16_70;
			PTUP branch_C99ReprType_71;
			bool branch_Bool_72;
			PTUP branch_ZPlusMirth_73;
			STR* branch_Str_74;
			PTUP branch_ZPlusC99Branch_75;
			if (v69) {
				PTUP r76 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v77;
				PTUP v78;
				STR* v79 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v68, r76, &v77, &v78);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v78);
				branch_ZPlusC99Branch_75 = in_ZPlusC99Branch_2;
				branch_Str_74 = v79;
				branch_ZPlusMirth_73 = v77;
				branch_Bool_72 = v69;
				branch_C99ReprType_71 = v67;
				branch_U16_70 = v66;
			} else {
				STR* v80;
				STRLIT(v80, "0", 1);
				branch_ZPlusC99Branch_75 = in_ZPlusC99Branch_2;
				branch_Str_74 = v80;
				branch_ZPlusMirth_73 = v68;
				branch_Bool_72 = v69;
				branch_C99ReprType_71 = v67;
				branch_U16_70 = v66;
			}
			bool v81 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_75))->cells[3]);
			bool v82 = (branch_Bool_72 && v81);
			PTUP r83 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_75))->cells[0]);
			bool v84 = value_bool(((TUP*)PTRPTR(r83))->cells[3]);
			incref(MKBOOL(v84));
			bool v85 = (value_bool(MKBOOL(v82)) && value_bool(MKBOOL(v84)));
			((TUP*)PTRPTR(r83))->cells[3] = MKBOOL(v85);
			PTUP v86;
			PTUP v87;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_73, r83, &v86, &v87);
			incref(MKTUP(branch_C99ReprType_71));
			PTUP v88;
			STR* v89 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v86, branch_C99ReprType_71, &v88);
			PTUP v90;
			PTUP v91;
			mw_mirth_c99_ZPlusC99_put(v88, v87, v89, &v90, &v91);
			STR* v92;
			STRLIT(v92, " ", 1);
			PTUP v93;
			PTUP v94;
			mw_mirth_c99_ZPlusC99_put(v90, v91, v92, &v93, &v94);
			incref(MKSTR(branch_Str_74));
			PTUP v95;
			PTUP v96;
			mw_mirth_c99_ZPlusC99_put(v93, v94, branch_Str_74, &v95, &v96);
			STR* v97;
			STRLIT(v97, " = ", 3);
			PTUP v98;
			PTUP v99;
			mw_mirth_c99_ZPlusC99_put(v95, v96, v97, &v98, &v99);
			PTUP v100;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_71, branch_Str_74, &v100);
			uint64_t v101 = (uint64_t)(branch_U16_70);
			INT v102 = u64_to_int(v101);
			INT v103 = v102;
			INT v104 = v103;
			STR* v105 = int_to_str(v104);
			PTUP v106;
			PTUP v107;
			mw_mirth_c99_ZPlusC99_put(v98, v99, v105, &v106, &v107);
			STR* v108;
			STRLIT(v108, ";", 1);
			PTUP v109;
			PTUP v110;
			mw_mirth_c99_ZPlusC99_put(v106, v107, v108, &v109, &v110);
			PTUP v111;
			PTUP v112;
			mw_mirth_c99_ZPlusC99_line(v109, v110, &v111, &v112);
			((TUP*)PTRPTR(v112))->cells[3] = MKBOOL(value_bool(MKBOOL(v84)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_75))->cells[0] = MKTUP(v112);
			PTUP v113;
			PTUP v114;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v111, branch_ZPlusC99Branch_75, v100, &v113, &v114);
			branch_ZPlusC99Branch_7 = v114;
			branch_ZPlusMirth_6 = v113;
		} break;
		case 5LL: { // U32
			uint32_t v115 = mtp_mirth_arrow_PushValue_U32(in_PushValue_3);
			PTUP v116 = PTRMK(12LL /* U32 */,0,0);
			incref(MKTUP(v116));
			PTUP v117;
			bool v118 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v116, &v117);
			uint32_t branch_U32_119;
			PTUP branch_C99ReprType_120;
			bool branch_Bool_121;
			PTUP branch_ZPlusMirth_122;
			STR* branch_Str_123;
			PTUP branch_ZPlusC99Branch_124;
			if (v118) {
				PTUP r125 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v126;
				PTUP v127;
				STR* v128 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v117, r125, &v126, &v127);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v127);
				branch_ZPlusC99Branch_124 = in_ZPlusC99Branch_2;
				branch_Str_123 = v128;
				branch_ZPlusMirth_122 = v126;
				branch_Bool_121 = v118;
				branch_C99ReprType_120 = v116;
				branch_U32_119 = v115;
			} else {
				STR* v129;
				STRLIT(v129, "0", 1);
				branch_ZPlusC99Branch_124 = in_ZPlusC99Branch_2;
				branch_Str_123 = v129;
				branch_ZPlusMirth_122 = v117;
				branch_Bool_121 = v118;
				branch_C99ReprType_120 = v116;
				branch_U32_119 = v115;
			}
			bool v130 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_124))->cells[3]);
			bool v131 = (branch_Bool_121 && v130);
			PTUP r132 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_124))->cells[0]);
			bool v133 = value_bool(((TUP*)PTRPTR(r132))->cells[3]);
			incref(MKBOOL(v133));
			bool v134 = (value_bool(MKBOOL(v131)) && value_bool(MKBOOL(v133)));
			((TUP*)PTRPTR(r132))->cells[3] = MKBOOL(v134);
			PTUP v135;
			PTUP v136;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_122, r132, &v135, &v136);
			incref(MKTUP(branch_C99ReprType_120));
			PTUP v137;
			STR* v138 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v135, branch_C99ReprType_120, &v137);
			PTUP v139;
			PTUP v140;
			mw_mirth_c99_ZPlusC99_put(v137, v136, v138, &v139, &v140);
			STR* v141;
			STRLIT(v141, " ", 1);
			PTUP v142;
			PTUP v143;
			mw_mirth_c99_ZPlusC99_put(v139, v140, v141, &v142, &v143);
			incref(MKSTR(branch_Str_123));
			PTUP v144;
			PTUP v145;
			mw_mirth_c99_ZPlusC99_put(v142, v143, branch_Str_123, &v144, &v145);
			STR* v146;
			STRLIT(v146, " = ", 3);
			PTUP v147;
			PTUP v148;
			mw_mirth_c99_ZPlusC99_put(v144, v145, v146, &v147, &v148);
			PTUP v149;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_120, branch_Str_123, &v149);
			uint64_t v150 = (uint64_t)(branch_U32_119);
			INT v151 = u64_to_int(v150);
			INT v152 = v151;
			INT v153 = v152;
			STR* v154 = int_to_str(v153);
			PTUP v155;
			PTUP v156;
			mw_mirth_c99_ZPlusC99_put(v147, v148, v154, &v155, &v156);
			STR* v157;
			STRLIT(v157, ";", 1);
			PTUP v158;
			PTUP v159;
			mw_mirth_c99_ZPlusC99_put(v155, v156, v157, &v158, &v159);
			PTUP v160;
			PTUP v161;
			mw_mirth_c99_ZPlusC99_line(v158, v159, &v160, &v161);
			((TUP*)PTRPTR(v161))->cells[3] = MKBOOL(value_bool(MKBOOL(v133)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_124))->cells[0] = MKTUP(v161);
			PTUP v162;
			PTUP v163;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v160, branch_ZPlusC99Branch_124, v149, &v162, &v163);
			branch_ZPlusC99Branch_7 = v163;
			branch_ZPlusMirth_6 = v162;
		} break;
		case 6LL: { // U64
			uint64_t v164 = mtp_mirth_arrow_PushValue_U64(in_PushValue_3);
			PTUP v165 = PTRMK(11LL /* U64 */,0,0);
			incref(MKTUP(v165));
			PTUP v166;
			bool v167 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v165, &v166);
			uint64_t branch_U64_168;
			PTUP branch_C99ReprType_169;
			bool branch_Bool_170;
			PTUP branch_ZPlusMirth_171;
			STR* branch_Str_172;
			PTUP branch_ZPlusC99Branch_173;
			if (v167) {
				PTUP r174 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v175;
				PTUP v176;
				STR* v177 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v166, r174, &v175, &v176);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v176);
				branch_ZPlusC99Branch_173 = in_ZPlusC99Branch_2;
				branch_Str_172 = v177;
				branch_ZPlusMirth_171 = v175;
				branch_Bool_170 = v167;
				branch_C99ReprType_169 = v165;
				branch_U64_168 = v164;
			} else {
				STR* v178;
				STRLIT(v178, "0", 1);
				branch_ZPlusC99Branch_173 = in_ZPlusC99Branch_2;
				branch_Str_172 = v178;
				branch_ZPlusMirth_171 = v166;
				branch_Bool_170 = v167;
				branch_C99ReprType_169 = v165;
				branch_U64_168 = v164;
			}
			bool v179 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_173))->cells[3]);
			bool v180 = (branch_Bool_170 && v179);
			PTUP r181 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_173))->cells[0]);
			bool v182 = value_bool(((TUP*)PTRPTR(r181))->cells[3]);
			incref(MKBOOL(v182));
			bool v183 = (value_bool(MKBOOL(v180)) && value_bool(MKBOOL(v182)));
			((TUP*)PTRPTR(r181))->cells[3] = MKBOOL(v183);
			PTUP v184;
			PTUP v185;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_171, r181, &v184, &v185);
			incref(MKTUP(branch_C99ReprType_169));
			PTUP v186;
			STR* v187 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v184, branch_C99ReprType_169, &v186);
			PTUP v188;
			PTUP v189;
			mw_mirth_c99_ZPlusC99_put(v186, v185, v187, &v188, &v189);
			STR* v190;
			STRLIT(v190, " ", 1);
			PTUP v191;
			PTUP v192;
			mw_mirth_c99_ZPlusC99_put(v188, v189, v190, &v191, &v192);
			incref(MKSTR(branch_Str_172));
			PTUP v193;
			PTUP v194;
			mw_mirth_c99_ZPlusC99_put(v191, v192, branch_Str_172, &v193, &v194);
			STR* v195;
			STRLIT(v195, " = ", 3);
			PTUP v196;
			PTUP v197;
			mw_mirth_c99_ZPlusC99_put(v193, v194, v195, &v196, &v197);
			PTUP v198;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_169, branch_Str_172, &v198);
			INT v199 = u64_to_int(branch_U64_168);
			INT v200 = v199;
			INT v201 = v200;
			STR* v202 = int_to_str(v201);
			PTUP v203;
			PTUP v204;
			mw_mirth_c99_ZPlusC99_put(v196, v197, v202, &v203, &v204);
			STR* v205;
			STRLIT(v205, "ULL", 3);
			PTUP v206;
			PTUP v207;
			mw_mirth_c99_ZPlusC99_put(v203, v204, v205, &v206, &v207);
			STR* v208;
			STRLIT(v208, ";", 1);
			PTUP v209;
			PTUP v210;
			mw_mirth_c99_ZPlusC99_put(v206, v207, v208, &v209, &v210);
			PTUP v211;
			PTUP v212;
			mw_mirth_c99_ZPlusC99_line(v209, v210, &v211, &v212);
			((TUP*)PTRPTR(v212))->cells[3] = MKBOOL(value_bool(MKBOOL(v182)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_173))->cells[0] = MKTUP(v212);
			PTUP v213;
			PTUP v214;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v211, branch_ZPlusC99Branch_173, v198, &v213, &v214);
			branch_ZPlusC99Branch_7 = v214;
			branch_ZPlusMirth_6 = v213;
		} break;
		case 7LL: { // I8
			int8_t v215 = mtp_mirth_arrow_PushValue_I8(in_PushValue_3);
			PTUP v216 = PTRMK(10LL /* I8 */,0,0);
			incref(MKTUP(v216));
			PTUP v217;
			bool v218 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v216, &v217);
			int8_t branch_I8_219;
			PTUP branch_C99ReprType_220;
			bool branch_Bool_221;
			PTUP branch_ZPlusMirth_222;
			STR* branch_Str_223;
			PTUP branch_ZPlusC99Branch_224;
			if (v218) {
				PTUP r225 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v226;
				PTUP v227;
				STR* v228 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v217, r225, &v226, &v227);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v227);
				branch_ZPlusC99Branch_224 = in_ZPlusC99Branch_2;
				branch_Str_223 = v228;
				branch_ZPlusMirth_222 = v226;
				branch_Bool_221 = v218;
				branch_C99ReprType_220 = v216;
				branch_I8_219 = v215;
			} else {
				STR* v229;
				STRLIT(v229, "0", 1);
				branch_ZPlusC99Branch_224 = in_ZPlusC99Branch_2;
				branch_Str_223 = v229;
				branch_ZPlusMirth_222 = v217;
				branch_Bool_221 = v218;
				branch_C99ReprType_220 = v216;
				branch_I8_219 = v215;
			}
			bool v230 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_224))->cells[3]);
			bool v231 = (branch_Bool_221 && v230);
			PTUP r232 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_224))->cells[0]);
			bool v233 = value_bool(((TUP*)PTRPTR(r232))->cells[3]);
			incref(MKBOOL(v233));
			bool v234 = (value_bool(MKBOOL(v231)) && value_bool(MKBOOL(v233)));
			((TUP*)PTRPTR(r232))->cells[3] = MKBOOL(v234);
			PTUP v235;
			PTUP v236;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_222, r232, &v235, &v236);
			incref(MKTUP(branch_C99ReprType_220));
			PTUP v237;
			STR* v238 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v235, branch_C99ReprType_220, &v237);
			PTUP v239;
			PTUP v240;
			mw_mirth_c99_ZPlusC99_put(v237, v236, v238, &v239, &v240);
			STR* v241;
			STRLIT(v241, " ", 1);
			PTUP v242;
			PTUP v243;
			mw_mirth_c99_ZPlusC99_put(v239, v240, v241, &v242, &v243);
			incref(MKSTR(branch_Str_223));
			PTUP v244;
			PTUP v245;
			mw_mirth_c99_ZPlusC99_put(v242, v243, branch_Str_223, &v244, &v245);
			STR* v246;
			STRLIT(v246, " = ", 3);
			PTUP v247;
			PTUP v248;
			mw_mirth_c99_ZPlusC99_put(v244, v245, v246, &v247, &v248);
			PTUP v249;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_220, branch_Str_223, &v249);
			int64_t v250 = (int64_t)(branch_I8_219);
			INT v251 = i64_to_int(v250);
			STR* v252 = int_to_str(v251);
			PTUP v253;
			PTUP v254;
			mw_mirth_c99_ZPlusC99_put(v247, v248, v252, &v253, &v254);
			STR* v255;
			STRLIT(v255, ";", 1);
			PTUP v256;
			PTUP v257;
			mw_mirth_c99_ZPlusC99_put(v253, v254, v255, &v256, &v257);
			PTUP v258;
			PTUP v259;
			mw_mirth_c99_ZPlusC99_line(v256, v257, &v258, &v259);
			((TUP*)PTRPTR(v259))->cells[3] = MKBOOL(value_bool(MKBOOL(v233)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_224))->cells[0] = MKTUP(v259);
			PTUP v260;
			PTUP v261;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v258, branch_ZPlusC99Branch_224, v249, &v260, &v261);
			branch_ZPlusC99Branch_7 = v261;
			branch_ZPlusMirth_6 = v260;
		} break;
		case 8LL: { // I16
			int16_t v262 = mtp_mirth_arrow_PushValue_I16(in_PushValue_3);
			PTUP v263 = PTRMK(9LL /* I16 */,0,0);
			incref(MKTUP(v263));
			PTUP v264;
			bool v265 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v263, &v264);
			int16_t branch_I16_266;
			PTUP branch_C99ReprType_267;
			bool branch_Bool_268;
			PTUP branch_ZPlusMirth_269;
			STR* branch_Str_270;
			PTUP branch_ZPlusC99Branch_271;
			if (v265) {
				PTUP r272 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v273;
				PTUP v274;
				STR* v275 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v264, r272, &v273, &v274);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v274);
				branch_ZPlusC99Branch_271 = in_ZPlusC99Branch_2;
				branch_Str_270 = v275;
				branch_ZPlusMirth_269 = v273;
				branch_Bool_268 = v265;
				branch_C99ReprType_267 = v263;
				branch_I16_266 = v262;
			} else {
				STR* v276;
				STRLIT(v276, "0", 1);
				branch_ZPlusC99Branch_271 = in_ZPlusC99Branch_2;
				branch_Str_270 = v276;
				branch_ZPlusMirth_269 = v264;
				branch_Bool_268 = v265;
				branch_C99ReprType_267 = v263;
				branch_I16_266 = v262;
			}
			bool v277 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_271))->cells[3]);
			bool v278 = (branch_Bool_268 && v277);
			PTUP r279 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_271))->cells[0]);
			bool v280 = value_bool(((TUP*)PTRPTR(r279))->cells[3]);
			incref(MKBOOL(v280));
			bool v281 = (value_bool(MKBOOL(v278)) && value_bool(MKBOOL(v280)));
			((TUP*)PTRPTR(r279))->cells[3] = MKBOOL(v281);
			PTUP v282;
			PTUP v283;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_269, r279, &v282, &v283);
			incref(MKTUP(branch_C99ReprType_267));
			PTUP v284;
			STR* v285 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v282, branch_C99ReprType_267, &v284);
			PTUP v286;
			PTUP v287;
			mw_mirth_c99_ZPlusC99_put(v284, v283, v285, &v286, &v287);
			STR* v288;
			STRLIT(v288, " ", 1);
			PTUP v289;
			PTUP v290;
			mw_mirth_c99_ZPlusC99_put(v286, v287, v288, &v289, &v290);
			incref(MKSTR(branch_Str_270));
			PTUP v291;
			PTUP v292;
			mw_mirth_c99_ZPlusC99_put(v289, v290, branch_Str_270, &v291, &v292);
			STR* v293;
			STRLIT(v293, " = ", 3);
			PTUP v294;
			PTUP v295;
			mw_mirth_c99_ZPlusC99_put(v291, v292, v293, &v294, &v295);
			PTUP v296;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_267, branch_Str_270, &v296);
			int64_t v297 = (int64_t)(branch_I16_266);
			INT v298 = i64_to_int(v297);
			STR* v299 = int_to_str(v298);
			PTUP v300;
			PTUP v301;
			mw_mirth_c99_ZPlusC99_put(v294, v295, v299, &v300, &v301);
			STR* v302;
			STRLIT(v302, ";", 1);
			PTUP v303;
			PTUP v304;
			mw_mirth_c99_ZPlusC99_put(v300, v301, v302, &v303, &v304);
			PTUP v305;
			PTUP v306;
			mw_mirth_c99_ZPlusC99_line(v303, v304, &v305, &v306);
			((TUP*)PTRPTR(v306))->cells[3] = MKBOOL(value_bool(MKBOOL(v280)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_271))->cells[0] = MKTUP(v306);
			PTUP v307;
			PTUP v308;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v305, branch_ZPlusC99Branch_271, v296, &v307, &v308);
			branch_ZPlusC99Branch_7 = v308;
			branch_ZPlusMirth_6 = v307;
		} break;
		case 9LL: { // I32
			int32_t v309 = mtp_mirth_arrow_PushValue_I32(in_PushValue_3);
			PTUP v310 = PTRMK(8LL /* I32 */,0,0);
			incref(MKTUP(v310));
			PTUP v311;
			bool v312 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v310, &v311);
			int32_t branch_I32_313;
			PTUP branch_C99ReprType_314;
			bool branch_Bool_315;
			PTUP branch_ZPlusMirth_316;
			STR* branch_Str_317;
			PTUP branch_ZPlusC99Branch_318;
			if (v312) {
				PTUP r319 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v320;
				PTUP v321;
				STR* v322 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v311, r319, &v320, &v321);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v321);
				branch_ZPlusC99Branch_318 = in_ZPlusC99Branch_2;
				branch_Str_317 = v322;
				branch_ZPlusMirth_316 = v320;
				branch_Bool_315 = v312;
				branch_C99ReprType_314 = v310;
				branch_I32_313 = v309;
			} else {
				STR* v323;
				STRLIT(v323, "0", 1);
				branch_ZPlusC99Branch_318 = in_ZPlusC99Branch_2;
				branch_Str_317 = v323;
				branch_ZPlusMirth_316 = v311;
				branch_Bool_315 = v312;
				branch_C99ReprType_314 = v310;
				branch_I32_313 = v309;
			}
			bool v324 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_318))->cells[3]);
			bool v325 = (branch_Bool_315 && v324);
			PTUP r326 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_318))->cells[0]);
			bool v327 = value_bool(((TUP*)PTRPTR(r326))->cells[3]);
			incref(MKBOOL(v327));
			bool v328 = (value_bool(MKBOOL(v325)) && value_bool(MKBOOL(v327)));
			((TUP*)PTRPTR(r326))->cells[3] = MKBOOL(v328);
			PTUP v329;
			PTUP v330;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_316, r326, &v329, &v330);
			incref(MKTUP(branch_C99ReprType_314));
			PTUP v331;
			STR* v332 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v329, branch_C99ReprType_314, &v331);
			PTUP v333;
			PTUP v334;
			mw_mirth_c99_ZPlusC99_put(v331, v330, v332, &v333, &v334);
			STR* v335;
			STRLIT(v335, " ", 1);
			PTUP v336;
			PTUP v337;
			mw_mirth_c99_ZPlusC99_put(v333, v334, v335, &v336, &v337);
			incref(MKSTR(branch_Str_317));
			PTUP v338;
			PTUP v339;
			mw_mirth_c99_ZPlusC99_put(v336, v337, branch_Str_317, &v338, &v339);
			STR* v340;
			STRLIT(v340, " = ", 3);
			PTUP v341;
			PTUP v342;
			mw_mirth_c99_ZPlusC99_put(v338, v339, v340, &v341, &v342);
			PTUP v343;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_314, branch_Str_317, &v343);
			int32_t v344 = INT32_MIN;
			int64_t v345 = (int64_t)(v344);
			int64_t v346 = (int64_t)(branch_I32_313);
			bool v347 = (v346 == v345);
			PTUP branch_ZPlusMirth_348;
			PTUP branch_ZPlusC99_349;
			if (v347) {
				STR* v350;
				STRLIT(v350, "INT32_MIN", 9);
				PTUP v351;
				PTUP v352;
				mw_mirth_c99_ZPlusC99_put(v341, v342, v350, &v351, &v352);
				branch_ZPlusC99_349 = v352;
				branch_ZPlusMirth_348 = v351;
			} else {
				int64_t v353 = (int64_t)(branch_I32_313);
				INT v354 = i64_to_int(v353);
				STR* v355 = int_to_str(v354);
				PTUP v356;
				PTUP v357;
				mw_mirth_c99_ZPlusC99_put(v341, v342, v355, &v356, &v357);
				branch_ZPlusC99_349 = v357;
				branch_ZPlusMirth_348 = v356;
			}
			STR* v358;
			STRLIT(v358, ";", 1);
			PTUP v359;
			PTUP v360;
			mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_348, branch_ZPlusC99_349, v358, &v359, &v360);
			PTUP v361;
			PTUP v362;
			mw_mirth_c99_ZPlusC99_line(v359, v360, &v361, &v362);
			((TUP*)PTRPTR(v362))->cells[3] = MKBOOL(value_bool(MKBOOL(v327)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_318))->cells[0] = MKTUP(v362);
			PTUP v363;
			PTUP v364;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v361, branch_ZPlusC99Branch_318, v343, &v363, &v364);
			branch_ZPlusC99Branch_7 = v364;
			branch_ZPlusMirth_6 = v363;
		} break;
		case 10LL: { // I64
			int64_t v365 = mtp_mirth_arrow_PushValue_I64(in_PushValue_3);
			PTUP v366 = PTRMK(7LL /* I64 */,0,0);
			incref(MKTUP(v366));
			PTUP v367;
			bool v368 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v366, &v367);
			int64_t branch_I64_369;
			PTUP branch_C99ReprType_370;
			bool branch_Bool_371;
			PTUP branch_ZPlusMirth_372;
			STR* branch_Str_373;
			PTUP branch_ZPlusC99Branch_374;
			if (v368) {
				PTUP r375 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v376;
				PTUP v377;
				STR* v378 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v367, r375, &v376, &v377);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v377);
				branch_ZPlusC99Branch_374 = in_ZPlusC99Branch_2;
				branch_Str_373 = v378;
				branch_ZPlusMirth_372 = v376;
				branch_Bool_371 = v368;
				branch_C99ReprType_370 = v366;
				branch_I64_369 = v365;
			} else {
				STR* v379;
				STRLIT(v379, "0", 1);
				branch_ZPlusC99Branch_374 = in_ZPlusC99Branch_2;
				branch_Str_373 = v379;
				branch_ZPlusMirth_372 = v367;
				branch_Bool_371 = v368;
				branch_C99ReprType_370 = v366;
				branch_I64_369 = v365;
			}
			bool v380 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_374))->cells[3]);
			bool v381 = (branch_Bool_371 && v380);
			PTUP r382 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_374))->cells[0]);
			bool v383 = value_bool(((TUP*)PTRPTR(r382))->cells[3]);
			incref(MKBOOL(v383));
			bool v384 = (value_bool(MKBOOL(v381)) && value_bool(MKBOOL(v383)));
			((TUP*)PTRPTR(r382))->cells[3] = MKBOOL(v384);
			PTUP v385;
			PTUP v386;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_372, r382, &v385, &v386);
			incref(MKTUP(branch_C99ReprType_370));
			PTUP v387;
			STR* v388 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v385, branch_C99ReprType_370, &v387);
			PTUP v389;
			PTUP v390;
			mw_mirth_c99_ZPlusC99_put(v387, v386, v388, &v389, &v390);
			STR* v391;
			STRLIT(v391, " ", 1);
			PTUP v392;
			PTUP v393;
			mw_mirth_c99_ZPlusC99_put(v389, v390, v391, &v392, &v393);
			incref(MKSTR(branch_Str_373));
			PTUP v394;
			PTUP v395;
			mw_mirth_c99_ZPlusC99_put(v392, v393, branch_Str_373, &v394, &v395);
			STR* v396;
			STRLIT(v396, " = ", 3);
			PTUP v397;
			PTUP v398;
			mw_mirth_c99_ZPlusC99_put(v394, v395, v396, &v397, &v398);
			PTUP v399;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_370, branch_Str_373, &v399);
			int64_t v400 = INT64_MIN;
			bool v401 = (branch_I64_369 == v400);
			PTUP branch_ZPlusMirth_402;
			PTUP branch_ZPlusC99_403;
			if (v401) {
				STR* v404;
				STRLIT(v404, "INT64_MIN", 9);
				PTUP v405;
				PTUP v406;
				mw_mirth_c99_ZPlusC99_put(v397, v398, v404, &v405, &v406);
				branch_ZPlusC99_403 = v406;
				branch_ZPlusMirth_402 = v405;
			} else {
				INT v407 = i64_to_int(branch_I64_369);
				STR* v408 = int_to_str(v407);
				PTUP v409;
				PTUP v410;
				mw_mirth_c99_ZPlusC99_put(v397, v398, v408, &v409, &v410);
				STR* v411;
				STRLIT(v411, "LL", 2);
				PTUP v412;
				PTUP v413;
				mw_mirth_c99_ZPlusC99_put(v409, v410, v411, &v412, &v413);
				branch_ZPlusC99_403 = v413;
				branch_ZPlusMirth_402 = v412;
			}
			STR* v414;
			STRLIT(v414, ";", 1);
			PTUP v415;
			PTUP v416;
			mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_402, branch_ZPlusC99_403, v414, &v415, &v416);
			PTUP v417;
			PTUP v418;
			mw_mirth_c99_ZPlusC99_line(v415, v416, &v417, &v418);
			((TUP*)PTRPTR(v418))->cells[3] = MKBOOL(value_bool(MKBOOL(v383)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_374))->cells[0] = MKTUP(v418);
			PTUP v419;
			PTUP v420;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v417, branch_ZPlusC99Branch_374, v399, &v419, &v420);
			branch_ZPlusC99Branch_7 = v420;
			branch_ZPlusMirth_6 = v419;
		} break;
		case 11LL: { // F32
			float v421 = mtp_mirth_arrow_PushValue_F32(in_PushValue_3);
			PTUP v422 = PTRMK(16LL /* F32 */,0,0);
			incref(MKTUP(v422));
			PTUP v423;
			bool v424 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v422, &v423);
			float branch_F32_425;
			PTUP branch_C99ReprType_426;
			bool branch_Bool_427;
			PTUP branch_ZPlusMirth_428;
			STR* branch_Str_429;
			PTUP branch_ZPlusC99Branch_430;
			if (v424) {
				PTUP r431 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v432;
				PTUP v433;
				STR* v434 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v423, r431, &v432, &v433);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v433);
				branch_ZPlusC99Branch_430 = in_ZPlusC99Branch_2;
				branch_Str_429 = v434;
				branch_ZPlusMirth_428 = v432;
				branch_Bool_427 = v424;
				branch_C99ReprType_426 = v422;
				branch_F32_425 = v421;
			} else {
				STR* v435;
				STRLIT(v435, "0", 1);
				branch_ZPlusC99Branch_430 = in_ZPlusC99Branch_2;
				branch_Str_429 = v435;
				branch_ZPlusMirth_428 = v423;
				branch_Bool_427 = v424;
				branch_C99ReprType_426 = v422;
				branch_F32_425 = v421;
			}
			bool v436 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_430))->cells[3]);
			bool v437 = (branch_Bool_427 && v436);
			PTUP r438 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_430))->cells[0]);
			bool v439 = value_bool(((TUP*)PTRPTR(r438))->cells[3]);
			incref(MKBOOL(v439));
			bool v440 = (value_bool(MKBOOL(v437)) && value_bool(MKBOOL(v439)));
			((TUP*)PTRPTR(r438))->cells[3] = MKBOOL(v440);
			PTUP v441;
			PTUP v442;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_428, r438, &v441, &v442);
			incref(MKTUP(branch_C99ReprType_426));
			PTUP v443;
			STR* v444 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v441, branch_C99ReprType_426, &v443);
			PTUP v445;
			PTUP v446;
			mw_mirth_c99_ZPlusC99_put(v443, v442, v444, &v445, &v446);
			STR* v447;
			STRLIT(v447, " ", 1);
			PTUP v448;
			PTUP v449;
			mw_mirth_c99_ZPlusC99_put(v445, v446, v447, &v448, &v449);
			incref(MKSTR(branch_Str_429));
			PTUP v450;
			PTUP v451;
			mw_mirth_c99_ZPlusC99_put(v448, v449, branch_Str_429, &v450, &v451);
			STR* v452;
			STRLIT(v452, " = ", 3);
			PTUP v453;
			PTUP v454;
			mw_mirth_c99_ZPlusC99_put(v450, v451, v452, &v453, &v454);
			PTUP v455;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_426, branch_Str_429, &v455);
			STR* v456 = f32_to_str(branch_F32_425);
			PTUP v457;
			PTUP v458;
			mw_mirth_c99_ZPlusC99_put(v453, v454, v456, &v457, &v458);
			STR* v459;
			STRLIT(v459, ";", 1);
			PTUP v460;
			PTUP v461;
			mw_mirth_c99_ZPlusC99_put(v457, v458, v459, &v460, &v461);
			PTUP v462;
			PTUP v463;
			mw_mirth_c99_ZPlusC99_line(v460, v461, &v462, &v463);
			((TUP*)PTRPTR(v463))->cells[3] = MKBOOL(value_bool(MKBOOL(v439)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_430))->cells[0] = MKTUP(v463);
			PTUP v464;
			PTUP v465;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v462, branch_ZPlusC99Branch_430, v455, &v464, &v465);
			branch_ZPlusC99Branch_7 = v465;
			branch_ZPlusMirth_6 = v464;
		} break;
		case 12LL: { // F64
			double v466 = mtp_mirth_arrow_PushValue_F64(in_PushValue_3);
			PTUP v467 = PTRMK(15LL /* F64 */,0,0);
			incref(MKTUP(v467));
			PTUP v468;
			bool v469 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v467, &v468);
			double branch_F64_470;
			PTUP branch_C99ReprType_471;
			bool branch_Bool_472;
			PTUP branch_ZPlusMirth_473;
			STR* branch_Str_474;
			PTUP branch_ZPlusC99Branch_475;
			if (v469) {
				PTUP r476 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v477;
				PTUP v478;
				STR* v479 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v468, r476, &v477, &v478);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v478);
				branch_ZPlusC99Branch_475 = in_ZPlusC99Branch_2;
				branch_Str_474 = v479;
				branch_ZPlusMirth_473 = v477;
				branch_Bool_472 = v469;
				branch_C99ReprType_471 = v467;
				branch_F64_470 = v466;
			} else {
				STR* v480;
				STRLIT(v480, "0", 1);
				branch_ZPlusC99Branch_475 = in_ZPlusC99Branch_2;
				branch_Str_474 = v480;
				branch_ZPlusMirth_473 = v468;
				branch_Bool_472 = v469;
				branch_C99ReprType_471 = v467;
				branch_F64_470 = v466;
			}
			bool v481 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_475))->cells[3]);
			bool v482 = (branch_Bool_472 && v481);
			PTUP r483 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_475))->cells[0]);
			bool v484 = value_bool(((TUP*)PTRPTR(r483))->cells[3]);
			incref(MKBOOL(v484));
			bool v485 = (value_bool(MKBOOL(v482)) && value_bool(MKBOOL(v484)));
			((TUP*)PTRPTR(r483))->cells[3] = MKBOOL(v485);
			PTUP v486;
			PTUP v487;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_473, r483, &v486, &v487);
			incref(MKTUP(branch_C99ReprType_471));
			PTUP v488;
			STR* v489 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v486, branch_C99ReprType_471, &v488);
			PTUP v490;
			PTUP v491;
			mw_mirth_c99_ZPlusC99_put(v488, v487, v489, &v490, &v491);
			STR* v492;
			STRLIT(v492, " ", 1);
			PTUP v493;
			PTUP v494;
			mw_mirth_c99_ZPlusC99_put(v490, v491, v492, &v493, &v494);
			incref(MKSTR(branch_Str_474));
			PTUP v495;
			PTUP v496;
			mw_mirth_c99_ZPlusC99_put(v493, v494, branch_Str_474, &v495, &v496);
			STR* v497;
			STRLIT(v497, " = ", 3);
			PTUP v498;
			PTUP v499;
			mw_mirth_c99_ZPlusC99_put(v495, v496, v497, &v498, &v499);
			PTUP v500;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_471, branch_Str_474, &v500);
			STR* v501 = f64_to_str(branch_F64_470);
			PTUP v502;
			PTUP v503;
			mw_mirth_c99_ZPlusC99_put(v498, v499, v501, &v502, &v503);
			STR* v504;
			STRLIT(v504, ";", 1);
			PTUP v505;
			PTUP v506;
			mw_mirth_c99_ZPlusC99_put(v502, v503, v504, &v505, &v506);
			PTUP v507;
			PTUP v508;
			mw_mirth_c99_ZPlusC99_line(v505, v506, &v507, &v508);
			((TUP*)PTRPTR(v508))->cells[3] = MKBOOL(value_bool(MKBOOL(v484)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_475))->cells[0] = MKTUP(v508);
			PTUP v509;
			PTUP v510;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v507, branch_ZPlusC99Branch_475, v500, &v509, &v510);
			branch_ZPlusC99Branch_7 = v510;
			branch_ZPlusMirth_6 = v509;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_c99Z_getZ_enumZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Data_3, &v6, &v7, &v8);
	PTUP v9 = PTRMK(7LL /* I64 */,0,0);
	incref(MKTUP(v9));
	PTUP v10;
	bool v11 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v6, v9, &v10);
	PTUP branch_ZPlusC99ValueZDivResource_12;
	PTUP branch_C99ReprType_13;
	bool branch_Bool_14;
	PTUP branch_ZPlusMirth_15;
	STR* branch_Str_16;
	PTUP branch_ZPlusC99Branch_17;
	if (v11) {
		PTUP r18 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
		PTUP v19;
		PTUP v20;
		STR* v21 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v10, r18, &v19, &v20);
		((TUP*)PTRPTR(v7))->cells[0] = MKTUP(v20);
		branch_ZPlusC99Branch_17 = v7;
		branch_Str_16 = v21;
		branch_ZPlusMirth_15 = v19;
		branch_Bool_14 = v11;
		branch_C99ReprType_13 = v9;
		branch_ZPlusC99ValueZDivResource_12 = v8;
	} else {
		STR* v22;
		STRLIT(v22, "0", 1);
		branch_ZPlusC99Branch_17 = v7;
		branch_Str_16 = v22;
		branch_ZPlusMirth_15 = v10;
		branch_Bool_14 = v11;
		branch_C99ReprType_13 = v9;
		branch_ZPlusC99ValueZDivResource_12 = v8;
	}
	bool v23 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[3]);
	bool v24 = (branch_Bool_14 && v23);
	PTUP r25 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0]);
	bool v26 = value_bool(((TUP*)PTRPTR(r25))->cells[3]);
	incref(MKBOOL(v26));
	bool v27 = (value_bool(MKBOOL(v24)) && value_bool(MKBOOL(v26)));
	((TUP*)PTRPTR(r25))->cells[3] = MKBOOL(v27);
	PTUP v28;
	PTUP v29;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_15, r25, &v28, &v29);
	incref(MKTUP(branch_C99ReprType_13));
	PTUP v30;
	STR* v31 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v28, branch_C99ReprType_13, &v30);
	PTUP v32;
	PTUP v33;
	mw_mirth_c99_ZPlusC99_put(v30, v29, v31, &v32, &v33);
	STR* v34;
	STRLIT(v34, " ", 1);
	PTUP v35;
	PTUP v36;
	mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
	incref(MKSTR(branch_Str_16));
	PTUP v37;
	PTUP v38;
	mw_mirth_c99_ZPlusC99_put(v35, v36, branch_Str_16, &v37, &v38);
	STR* v39;
	STRLIT(v39, " = ", 3);
	PTUP v40;
	PTUP v41;
	mw_mirth_c99_ZPlusC99_put(v37, v38, v39, &v40, &v41);
	PTUP v42;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_13, branch_Str_16, &v42);
	PTUP v43;
	PTUP v44;
	STR* v45 = mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag(v40, branch_ZPlusC99ValueZDivResource_12, &v43, &v44);
	PTUP v46;
	PTUP v47;
	mw_mirth_c99_ZPlusC99_put(v43, v41, v45, &v46, &v47);
	STR* v48;
	STRLIT(v48, ";", 1);
	PTUP v49;
	PTUP v50;
	mw_mirth_c99_ZPlusC99_put(v46, v47, v48, &v49, &v50);
	PTUP v51;
	PTUP v52;
	mw_mirth_c99_ZPlusC99_line(v49, v50, &v51, &v52);
	((TUP*)PTRPTR(v52))->cells[3] = MKBOOL(value_bool(MKBOOL(v26)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0] = MKTUP(v52);
	PTUP v53;
	PTUP v54;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v51, branch_ZPlusC99Branch_17, v42, &v53, &v54);
	PTUP v55;
	PTUP v56;
	mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusfor_2_sp3(v53, v54, v44, &v55, &v56);
	*out_ZPlusC99Branch_5 = v56;
	*out_ZPlusMirth_4 = v55;
}
static void mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	bool v7 = mw_mirth_data_Data_isZ_enumZAsk(in_ZPlusMirth_1, in_Data_3, &v6);
	PTUP branch_ZPlusMirth_8;
	if (v7) {
		branch_ZPlusMirth_8 = v6;
	} else {
		STR* v9;
		STRLIT(v9, "from-enum-value-unsafe on non-enum data type", 44);
		mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v6, v9);
	}
	PTUP v11;
	bool v12 = mw_mirth_data_Data_isZ_resourceZAsk(branch_ZPlusMirth_8, in_Data_3, &v11);
	PTUP branch_ZPlusMirth_13;
	if (v12) {
		STR* v14;
		STRLIT(v14, "from-enum-value-unsafe on resource", 34);
		mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v11, v14);
	} else {
		branch_ZPlusMirth_13 = v11;
	}
	PTUP v16 = PTRMK(7LL /* I64 */,0,0);
	PTUP v17;
	PTUP v18;
	PTUP v19;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(branch_ZPlusMirth_13, in_ZPlusC99Branch_2, v16, &v17, &v18, &v19);
	PTUP v20 = mtw_mirth_c99_C99ReprType_Data(in_Data_3);
	PTUP v21 = VTUP(((TUP*)PTRPTR(v19))->cells[0]);
	decref(MKTUP(v21));
	((TUP*)PTRPTR(v19))->cells[0] = MKTUP(v20);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v17, v18, v19, &v22, &v23);
	*out_ZPlusC99Branch_5 = v23;
	*out_ZPlusMirth_4 = v22;
}
static void mw_mirth_c99_c99Z_wordZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, uint64_t in_Word_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7;
	bool v8 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Word_4, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	if (v8) {
		PTUP v11;
		PTUP v12;
		mw_mirth_c99_c99Z_argsZ_pushZBang(v7, in_ZPlusC99Branch_2, in_List_3, &v11, &v12);
		PTUP v13;
		PTUP v14 = mw_mirth_word_Word_arrow(v11, in_Word_4, &v13);
		PTUP v15;
		PTUP v16;
		mw_mirth_c99_c99Z_codipZ_arrowZBang(v13, v12, v14, &v15, &v16);
		branch_ZPlusC99Branch_10 = v16;
		branch_ZPlusMirth_9 = v15;
	} else {
		PTUP r17 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v18;
		PTUP v19;
		PTUP v20 = mw_mirth_word_Word_c99Z_api(v7, r17, in_Word_4, &v18, &v19);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v19);
		PTUP v21;
		PTUP v22;
		mw_mirth_c99_c99Z_smartZ_callZBang(v18, in_ZPlusC99Branch_2, in_List_3, v20, &v21, &v22);
		branch_ZPlusC99Branch_10 = v22;
		branch_ZPlusMirth_9 = v21;
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
}
static STR* mw_mirth_data_Tag_valueZ_show (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildevalueZ_show, in_Tag_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v11;
		INT v12 = mw_mirth_data_Tag_value(in_ZPlusMirth_1, in_Tag_2, &v11);
		STR* v13 = int_to_str(v12);
		incref(MKSTR(v13));
		mut_set(MKSTR(v13), v5);
		branch_Str_9 = v13;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v11;
	}
	decref(MKU64(branch_Tag_8));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return value_str(MKSTR(branch_Str_9));
}
static void mw_mirth_c99_c99Z_tagZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, uint64_t in_Tag_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7;
	bool v8 = mw_mirth_data_Tag_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Tag_4, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	if (v8) {
		decref(MKTUP(in_List_3));
		PTUP v11;
		PTUP v12;
		mw_mirth_c99_c99Z_tagZ_bodyZBang(v7, in_ZPlusC99Branch_2, value_u64(MKU64(in_Tag_4)), &v11, &v12);
		branch_ZPlusC99Branch_10 = v12;
		branch_ZPlusMirth_9 = v11;
	} else {
		PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v14;
		PTUP v15;
		PTUP v16 = mw_mirth_data_Tag_wordZ_c99Z_api(v7, r13, in_Tag_4, &v14, &v15);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v15);
		PTUP v17;
		PTUP v18;
		mw_mirth_c99_c99Z_smartZ_callZBang(v14, in_ZPlusC99Branch_2, in_List_3, v16, &v17, &v18);
		branch_ZPlusC99Branch_10 = v18;
		branch_ZPlusMirth_9 = v17;
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_c99Z_reverseZ_tagZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	bool v7 = mw_mirth_data_Tag_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Tag_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Branch_9;
	if (v7) {
		PTUP v10;
		PTUP v11;
		mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang(v6, in_ZPlusC99Branch_2, in_Tag_3, &v10, &v11);
		branch_ZPlusC99Branch_9 = v11;
		branch_ZPlusMirth_8 = v10;
	} else {
		PTUP v12 = PTRMK(0LL /* Nil */,0,0);
		PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v14;
		PTUP v15;
		PTUP v16 = mw_mirth_data_Tag_patZ_c99Z_api(v6, r13, in_Tag_3, &v14, &v15);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v15);
		PTUP v17;
		PTUP v18;
		mw_mirth_c99_c99Z_smartZ_callZBang(v14, in_ZPlusC99Branch_2, v12, v16, &v17, &v18);
		branch_ZPlusC99Branch_9 = v18;
		branch_ZPlusMirth_8 = v17;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_labelZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_label_Label_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP r16 = VTUP(((TUP*)PTRPTR(r13))->cells[4]);
		PTUP v17;
		PTUP v18;
		bool v19 = mw_mirth_label_Label_neededZAsk(r14, r16, v15, &v17, &v18);
		((TUP*)PTRPTR(r13))->cells[4] = MKTUP(v18);
		PTUP branch_ZPlusMirth_20;
		PTUP branch_ZPlusC99_21;
		if (v19) {
			PTUP v22;
			PTUP v23;
			mw_mirth_c99_c99Z_labelZ_defZBang(v17, r13, v15, &v22, &v23);
			branch_ZPlusC99_21 = v23;
			branch_ZPlusMirth_20 = v22;
		} else {
			branch_ZPlusC99_21 = r13;
			branch_ZPlusMirth_20 = v17;
		}
		uint64_t v24 = 1ULL;
		uint64_t v25 = (v15 + v24);
		void* v26 = mbuf_mirth_label_Label_NumBuffer;
		uint64_t v27 = *(uint64_t*)v26;
		bool v28 = (v25 <= v27);
		v12 = v28;
		v11 = v25;
		r10 = branch_ZPlusMirth_20;
		r9 = branch_ZPlusC99_21;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_labelZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	STR* v6;
	STRLIT(v6, "static STACK lbl_", 17);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	PTUP v9;
	uint64_t v10 = mw_mirth_label_Label_name(v7, in_Label_3, &v9);
	PTUP v11;
	STR* v12 = mw_mirth_name_Name_mangled(v9, v10, &v11);
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_ZPlusC99_put(v11, v8, v12, &v13, &v14);
	STR* v15;
	STRLIT(v15, " = {0};", 7);
	PTUP v16;
	PTUP v17;
	mw_mirth_c99_ZPlusC99_put(v13, v14, v15, &v16, &v17);
	PTUP v18;
	PTUP v19;
	mw_mirth_c99_ZPlusC99_line(v16, v17, &v18, &v19);
	*out_ZPlusC99_5 = v19;
	*out_ZPlusMirth_4 = v18;
}
static void mw_mirth_c99_pushZ_valueZ_labelZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_ZPlusC99Value_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7;
	STR* v8 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusMirth_1, in_ZPlusC99Value_4, &v7);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1(v8, in_Label_3, v7, in_ZPlusC99Branch_2, &v9, &v10);
	*out_ZPlusC99Branch_6 = v10;
	*out_ZPlusMirth_5 = v9;
}
static void mw_mirth_c99_pushZ_valueZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_ZPlusC99Value_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v8;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(r7, in_ZPlusC99Value_4, in_Label_3, &v8);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v8);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_ZPlusC99Resource_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7;
	STR* v8 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(in_ZPlusMirth_1, in_ZPlusC99Resource_4, &v7);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1(v8, in_Label_3, v7, in_ZPlusC99Branch_2, &v9, &v10);
	*out_ZPlusC99Branch_6 = v10;
	*out_ZPlusMirth_5 = v9;
}
static void mw_mirth_c99_pushZ_resourceZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_ZPlusC99Resource_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v8;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(r7, in_ZPlusC99Resource_4, in_Label_3, &v8);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v8);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_popZ_valueZ_labelZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Value_7) {
	incref(MKTUP(in_C99ReprType_3));
	PTUP v8;
	bool v9 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99ReprType_3, &v8);
	STR* branch_Str_10;
	PTUP branch_C99ReprType_11;
	uint64_t branch_Label_12;
	PTUP branch_ZPlusMirth_13;
	PTUP branch_ZPlusC99Branch_14;
	if (v9) {
		PTUP r15 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v16;
		PTUP v17;
		STR* v18 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v8, r15, &v16, &v17);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v17);
		bool v19 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r20 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v21 = value_bool(((TUP*)PTRPTR(r20))->cells[3]);
		incref(MKBOOL(v21));
		bool v22 = (value_bool(MKBOOL(v19)) && value_bool(MKBOOL(v21)));
		((TUP*)PTRPTR(r20))->cells[3] = MKBOOL(v22);
		PTUP v23;
		PTUP v24;
		mw_mirth_c99_ZPlusC99_indent(v16, r20, &v23, &v24);
		incref(MKTUP(in_C99ReprType_3));
		PTUP v25;
		STR* v26 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v23, in_C99ReprType_3, &v25);
		PTUP v27;
		PTUP v28;
		mw_mirth_c99_ZPlusC99_put(v25, v24, v26, &v27, &v28);
		STR* v29;
		STRLIT(v29, " ", 1);
		PTUP v30;
		PTUP v31;
		mw_mirth_c99_ZPlusC99_put(v27, v28, v29, &v30, &v31);
		incref(MKSTR(v18));
		PTUP v32;
		PTUP v33;
		mw_mirth_c99_ZPlusC99_put(v30, v31, v18, &v32, &v33);
		STR* v34;
		STRLIT(v34, " = ", 3);
		PTUP v35;
		PTUP v36;
		mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
		incref(MKTUP(in_C99ReprType_3));
		uint64_t v37;
		PTUP v38;
		PTUP v39;
		mw_mirth_c99_C99ReprType_vZ_macro_1_sp4(in_Label_4, in_C99ReprType_3, v35, v36, &v37, &v38, &v39);
		STR* v40;
		STRLIT(v40, ";", 1);
		PTUP v41;
		PTUP v42;
		mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
		PTUP v43;
		PTUP v44;
		mw_mirth_c99_ZPlusC99_line(v41, v42, &v43, &v44);
		((TUP*)PTRPTR(v44))->cells[3] = MKBOOL(value_bool(MKBOOL(v21)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v44);
		branch_ZPlusC99Branch_14 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_13 = v43;
		branch_Label_12 = v37;
		branch_C99ReprType_11 = in_C99ReprType_3;
		branch_Str_10 = v18;
	} else {
		STR* v45;
		STRLIT(v45, "0", 1);
		uint64_t v46;
		PTUP v47;
		PTUP v48;
		mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp9(in_Label_4, v8, in_ZPlusC99Branch_2, &v46, &v47, &v48);
		branch_ZPlusC99Branch_14 = v48;
		branch_ZPlusMirth_13 = v47;
		branch_Label_12 = v46;
		branch_C99ReprType_11 = in_C99ReprType_3;
		branch_Str_10 = v45;
	}
	PTUP v49;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_11, branch_Str_10, &v49);
	*out_ZPlusC99Value_7 = v49;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_14;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_13;
}
static void mw_mirth_c99_popZ_resourceZ_labelZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Resource_7) {
	incref(MKTUP(in_C99ReprType_3));
	PTUP v8;
	bool v9 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99ReprType_3, &v8);
	STR* branch_Str_10;
	PTUP branch_C99ReprType_11;
	uint64_t branch_Label_12;
	PTUP branch_ZPlusMirth_13;
	PTUP branch_ZPlusC99Branch_14;
	if (v9) {
		PTUP r15 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v16;
		PTUP v17;
		STR* v18 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v8, r15, &v16, &v17);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v17);
		bool v19 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r20 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v21 = value_bool(((TUP*)PTRPTR(r20))->cells[3]);
		incref(MKBOOL(v21));
		bool v22 = (value_bool(MKBOOL(v19)) && value_bool(MKBOOL(v21)));
		((TUP*)PTRPTR(r20))->cells[3] = MKBOOL(v22);
		PTUP v23;
		PTUP v24;
		mw_mirth_c99_ZPlusC99_indent(v16, r20, &v23, &v24);
		incref(MKTUP(in_C99ReprType_3));
		PTUP v25;
		STR* v26 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v23, in_C99ReprType_3, &v25);
		PTUP v27;
		PTUP v28;
		mw_mirth_c99_ZPlusC99_put(v25, v24, v26, &v27, &v28);
		STR* v29;
		STRLIT(v29, " ", 1);
		PTUP v30;
		PTUP v31;
		mw_mirth_c99_ZPlusC99_put(v27, v28, v29, &v30, &v31);
		incref(MKSTR(v18));
		PTUP v32;
		PTUP v33;
		mw_mirth_c99_ZPlusC99_put(v30, v31, v18, &v32, &v33);
		STR* v34;
		STRLIT(v34, " = ", 3);
		PTUP v35;
		PTUP v36;
		mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
		incref(MKTUP(in_C99ReprType_3));
		uint64_t v37;
		PTUP v38;
		PTUP v39;
		mw_mirth_c99_C99ReprType_vZ_macro_1_sp4(in_Label_4, in_C99ReprType_3, v35, v36, &v37, &v38, &v39);
		STR* v40;
		STRLIT(v40, ";", 1);
		PTUP v41;
		PTUP v42;
		mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
		PTUP v43;
		PTUP v44;
		mw_mirth_c99_ZPlusC99_line(v41, v42, &v43, &v44);
		((TUP*)PTRPTR(v44))->cells[3] = MKBOOL(value_bool(MKBOOL(v21)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v44);
		branch_ZPlusC99Branch_14 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_13 = v43;
		branch_Label_12 = v37;
		branch_C99ReprType_11 = in_C99ReprType_3;
		branch_Str_10 = v18;
	} else {
		STR* v45;
		STRLIT(v45, "0", 1);
		uint64_t v46;
		PTUP v47;
		PTUP v48;
		mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp9(in_Label_4, v8, in_ZPlusC99Branch_2, &v46, &v47, &v48);
		branch_ZPlusC99Branch_14 = v48;
		branch_ZPlusMirth_13 = v47;
		branch_Label_12 = v46;
		branch_C99ReprType_11 = in_C99ReprType_3;
		branch_Str_10 = v45;
	}
	PTUP v49;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_11, branch_Str_10, &v49);
	*out_ZPlusC99Resource_7 = v49;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_14;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_13;
}
static void mw_mirth_c99_c99Z_labelZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[5]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Atom_3));
	PTUP v8;
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v8, &v9, &v10);
	decref(MKTUP(v11));
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_pushZ_valueZ_labelZBang(v8, v9, in_Label_4, v10, &v12, &v13);
	*out_ZPlusC99Branch_6 = v13;
	*out_ZPlusMirth_5 = v12;
}
static void mw_mirth_c99_c99Z_labelZ_pushZ_rZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[5]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Atom_3));
	PTUP v8;
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v8, &v9, &v10);
	decref(MKTUP(v11));
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_pushZ_resourceZ_labelZBang(v8, v9, in_Label_4, v10, &v12, &v13);
	*out_ZPlusC99Branch_6 = v13;
	*out_ZPlusMirth_5 = v12;
}
static void mw_mirth_c99_c99Z_labelZ_popZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[5]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Atom_3));
	PTUP v8;
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Label_4, v7, &v8, &v9, &v10);
	decref(MKTUP(v11));
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v8, v9, v10, &v12, &v13);
	*out_ZPlusC99Branch_6 = v13;
	*out_ZPlusMirth_5 = v12;
}
static void mw_mirth_c99_c99Z_labelZ_popZ_rZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[5]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Atom_3));
	PTUP v8;
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Label_4, v7, &v8, &v9, &v10);
	decref(MKTUP(v11));
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v8, v9, v10, &v12, &v13);
	*out_ZPlusC99Branch_6 = v13;
	*out_ZPlusMirth_5 = v12;
}
static INT mw_std_prim_Int_I63Min (void) {
	INT v2 = WRAP_I63(-4611686018427387904LL);
	return v2;
}
static INT mw_std_prim_Int_I63Max (void) {
	INT v2 = WRAP_I63(4611686018427387903LL);
	return v2;
}
static bool mw_std_prim_Int_inZ_i63Z_rangeZAsk (INT in_Int_1) {
	INT v3 = mw_std_prim_Int_I63Min();
	INT v4 = mw_std_prim_Int_I63Max();
	incref(MKINT(in_Int_1));
	bool v5 = int_le(v3, in_Int_1);
	bool branch_Bool_6;
	if (value_bool(MKBOOL(v5))) {
		bool v7 = int_le(value_int(MKINT(in_Int_1)), value_int(MKINT(v4)));
		branch_Bool_6 = v7;
	} else {
		decref(MKINT(value_int(MKINT(v4))));
		decref(MKINT(value_int(MKINT(in_Int_1))));
		bool v8 = false;
		branch_Bool_6 = v8;
	}
	return branch_Bool_6;
}
static PTUP mw_std_prim_Int_c99Z_radixes (INT in_Int_1) {
	PTUP v3 = PTRMK(0LL /* Nil */,0,0);
	PTUP v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	bool v5 = true;
	PTUP r6 = v4;
	INT v7 = in_Int_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP r10 = r6;
		INT v11 = v7;
		bool v12 = v8;
		INT v13 = WRAP_I63(4294967296LL);
		INT v14;
		INT v15 = int_divmod(v11, v13, &v14);
		uint64_t v16 = int_to_u64(v14);
		uint32_t v17 = (uint32_t)(v16);
		PTUP v18;
		mw_std_list_ZPlusLister_1_pushZBang(MKU32(v17), r10, &v18);
		uint32_t v19 = 2147483648;
		uint64_t v20 = (uint64_t)(v17);
		uint64_t v21 = (uint64_t)(v19);
		uint64_t v22 = (value_u64(MKU64(v20)) & v21);
		uint32_t v23 = (uint32_t)(v22);
		INT v24 = WRAP_I63(0LL);
		INT v25 = v24;
		uint64_t v26 = (uint64_t)(v23);
		INT v27 = u64_to_int(v26);
		bool v28 = int_eq(v27, v25);
		PTUP branch_ZPlusLister_29;
		INT branch_Int_30;
		bool branch_Bool_31;
		if (v28) {
			incref(MKINT(v15));
			INT v32 = WRAP_I63(0LL);
			bool v33 = int_eq(v15, v32);
			bool v34 = !v33;
			branch_Bool_31 = v34;
			branch_Int_30 = v15;
			branch_ZPlusLister_29 = v18;
		} else {
			incref(MKINT(v15));
			INT v35 = WRAP_I63(-1LL);
			bool v36 = int_eq(v15, v35);
			bool v37 = !v36;
			branch_Bool_31 = v37;
			branch_Int_30 = v15;
			branch_ZPlusLister_29 = v18;
		}
		v9 = branch_Bool_31;
		v8 = branch_Bool_31;
		v7 = branch_Int_30;
		r6 = branch_ZPlusLister_29;
	}
	decref(MKINT(v7));
	PTUP v38 = mw_std_list_ZPlusLister_1_doneZBang(r6);
	return v38;
}
static void mw_mirth_c99_c99Z_intZDivnatZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Int_3, PTUP in_C99ReprType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	incref(MKINT(in_Int_3));
	bool v7 = mw_std_prim_Int_inZ_i63Z_rangeZAsk(in_Int_3);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Branch_9;
	if (v7) {
		incref(MKTUP(in_C99ReprType_4));
		PTUP v10;
		bool v11 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99ReprType_4, &v10);
		INT branch_Int_12;
		PTUP branch_C99ReprType_13;
		bool branch_Bool_14;
		PTUP branch_ZPlusMirth_15;
		STR* branch_Str_16;
		PTUP branch_ZPlusC99Branch_17;
		if (v11) {
			PTUP r18 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v19;
			PTUP v20;
			STR* v21 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v10, r18, &v19, &v20);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v20);
			branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_2;
			branch_Str_16 = v21;
			branch_ZPlusMirth_15 = v19;
			branch_Bool_14 = v11;
			branch_C99ReprType_13 = in_C99ReprType_4;
			branch_Int_12 = in_Int_3;
		} else {
			STR* v22;
			STRLIT(v22, "0", 1);
			branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_2;
			branch_Str_16 = v22;
			branch_ZPlusMirth_15 = v10;
			branch_Bool_14 = v11;
			branch_C99ReprType_13 = in_C99ReprType_4;
			branch_Int_12 = in_Int_3;
		}
		bool v23 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[3]);
		bool v24 = (branch_Bool_14 && v23);
		PTUP r25 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0]);
		bool v26 = value_bool(((TUP*)PTRPTR(r25))->cells[3]);
		incref(MKBOOL(v26));
		bool v27 = (value_bool(MKBOOL(v24)) && value_bool(MKBOOL(v26)));
		((TUP*)PTRPTR(r25))->cells[3] = MKBOOL(v27);
		PTUP v28;
		PTUP v29;
		mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_15, r25, &v28, &v29);
		incref(MKTUP(branch_C99ReprType_13));
		PTUP v30;
		STR* v31 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v28, branch_C99ReprType_13, &v30);
		PTUP v32;
		PTUP v33;
		mw_mirth_c99_ZPlusC99_put(v30, v29, v31, &v32, &v33);
		STR* v34;
		STRLIT(v34, " ", 1);
		PTUP v35;
		PTUP v36;
		mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
		incref(MKSTR(branch_Str_16));
		PTUP v37;
		PTUP v38;
		mw_mirth_c99_ZPlusC99_put(v35, v36, branch_Str_16, &v37, &v38);
		STR* v39;
		STRLIT(v39, " = ", 3);
		PTUP v40;
		PTUP v41;
		mw_mirth_c99_ZPlusC99_put(v37, v38, v39, &v40, &v41);
		PTUP v42;
		mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_13, branch_Str_16, &v42);
		STR* v43;
		STRLIT(v43, "WRAP_I63(", 9);
		PTUP v44;
		PTUP v45;
		mw_mirth_c99_ZPlusC99_put(v40, v41, v43, &v44, &v45);
		STR* v46 = int_to_str(branch_Int_12);
		PTUP v47;
		PTUP v48;
		mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
		STR* v49;
		STRLIT(v49, "LL)", 3);
		PTUP v50;
		PTUP v51;
		mw_mirth_c99_ZPlusC99_put(v47, v48, v49, &v50, &v51);
		STR* v52;
		STRLIT(v52, ";", 1);
		PTUP v53;
		PTUP v54;
		mw_mirth_c99_ZPlusC99_put(v50, v51, v52, &v53, &v54);
		PTUP v55;
		PTUP v56;
		mw_mirth_c99_ZPlusC99_line(v53, v54, &v55, &v56);
		((TUP*)PTRPTR(v56))->cells[3] = MKBOOL(value_bool(MKBOOL(v26)));
		((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0] = MKTUP(v56);
		PTUP v57;
		PTUP v58;
		mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v55, branch_ZPlusC99Branch_17, v42, &v57, &v58);
		branch_ZPlusC99Branch_9 = v58;
		branch_ZPlusMirth_8 = v57;
	} else {
		PTUP v59 = mw_std_prim_Int_c99Z_radixes(in_Int_3);
		incref(MKTUP(v59));
		INT v60 = mw_std_list_List_1_len(v59);
		INT v61 = v60;
		STR* v62 = int_to_str(v61);
		PTUP r63 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v64;
		PTUP v65;
		STR* v66 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, r63, &v64, &v65);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v65);
		bool v67 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r68 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v69 = value_bool(((TUP*)PTRPTR(r68))->cells[3]);
		incref(MKBOOL(v69));
		bool v70 = (value_bool(MKBOOL(v67)) && value_bool(MKBOOL(v69)));
		((TUP*)PTRPTR(r68))->cells[3] = MKBOOL(v70);
		PTUP v71;
		PTUP v72;
		mw_mirth_c99_ZPlusC99_indent(v64, r68, &v71, &v72);
		STR* v73;
		STRLIT(v73, "static struct BIG_S(", 20);
		PTUP v74;
		PTUP v75;
		mw_mirth_c99_ZPlusC99_put(v71, v72, v73, &v74, &v75);
		incref(MKSTR(v62));
		PTUP v76;
		PTUP v77;
		mw_mirth_c99_ZPlusC99_put(v74, v75, v62, &v76, &v77);
		STR* v78;
		STRLIT(v78, ") ", 2);
		PTUP v79;
		PTUP v80;
		mw_mirth_c99_ZPlusC99_put(v76, v77, v78, &v79, &v80);
		incref(MKSTR(v66));
		PTUP v81;
		PTUP v82;
		mw_mirth_c99_ZPlusC99_put(v79, v80, v66, &v81, &v82);
		STR* v83;
		STRLIT(v83, " = { .refs=100, .cap=", 21);
		PTUP v84;
		PTUP v85;
		mw_mirth_c99_ZPlusC99_put(v81, v82, v83, &v84, &v85);
		incref(MKSTR(v62));
		PTUP v86;
		PTUP v87;
		mw_mirth_c99_ZPlusC99_put(v84, v85, v62, &v86, &v87);
		STR* v88;
		STRLIT(v88, ", .size=", 8);
		PTUP v89;
		PTUP v90;
		mw_mirth_c99_ZPlusC99_put(v86, v87, v88, &v89, &v90);
		PTUP v91;
		PTUP v92;
		mw_mirth_c99_ZPlusC99_put(v89, v90, v62, &v91, &v92);
		STR* v93;
		STRLIT(v93, ", .radix={", 10);
		PTUP v94;
		PTUP v95;
		mw_mirth_c99_ZPlusC99_put(v91, v92, v93, &v94, &v95);
		bool v96 = true;
		PTUP r97 = v94;
		PTUP r98 = v95;
		PTUP v99 = v59;
		bool v100 = v96;
		bool v101 = v96;
		while (v101) {
			PTUP r102 = r97;
			PTUP r103 = r98;
			PTUP v104 = v99;
			bool v105 = v100;
			PTUP branch_ZPlusMirth_106;
			PTUP branch_ZPlusC99_107;
			PTUP branch_List_108;
			bool branch_Bool_109;
			switch (PTREXTRA(v104)) {
				case 1LL: { // Cons
					PTUP v110;
					VAL v111 = mtp_std_list_List_1_Cons(v104, &v110);
					STR* v112;
					STRLIT(v112, "", 0);
					uint64_t v113 = (uint64_t)(value_u32(v111));
					INT v114 = u64_to_int(v113);
					INT v115 = v114;
					STR* v116;
					STRLIT(v116, "0x", 2);
					STR* v117;
					mw_std_str_ZPlusStr_pushZ_strZBang(v116, v112, &v117);
					INT v118 = mw_std_number_Base_Hex();
					STR* v119;
					mw_std_number_Base_digitsZThen(v117, v115, v118, &v119);
					PTUP v120;
					PTUP v121;
					mw_mirth_c99_ZPlusC99_put(r102, r103, v119, &v120, &v121);
					STR* v122;
					STRLIT(v122, ",", 1);
					PTUP v123;
					PTUP v124;
					mw_mirth_c99_ZPlusC99_put(v120, v121, v122, &v123, &v124);
					bool v125 = true;
					branch_Bool_109 = v125;
					branch_List_108 = v110;
					branch_ZPlusC99_107 = v124;
					branch_ZPlusMirth_106 = v123;
				} break;
				case 0LL: { // Nil
					PTUP v126 = PTRMK(0LL /* Nil */,0,0);
					bool v127 = false;
					branch_Bool_109 = v127;
					branch_List_108 = v126;
					branch_ZPlusC99_107 = r103;
					branch_ZPlusMirth_106 = r102;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v101 = branch_Bool_109;
			v100 = branch_Bool_109;
			v99 = branch_List_108;
			r98 = branch_ZPlusC99_107;
			r97 = branch_ZPlusMirth_106;
		}
		decref(MKTUP(v99));
		STR* v128;
		STRLIT(v128, "} };", 4);
		PTUP v129;
		PTUP v130;
		mw_mirth_c99_ZPlusC99_put(r97, r98, v128, &v129, &v130);
		PTUP v131;
		PTUP v132;
		mw_mirth_c99_ZPlusC99_line(v129, v130, &v131, &v132);
		((TUP*)PTRPTR(v132))->cells[3] = MKBOOL(value_bool(MKBOOL(v69)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v132);
		bool v133 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r134 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v135 = value_bool(((TUP*)PTRPTR(r134))->cells[3]);
		incref(MKBOOL(v135));
		bool v136 = (value_bool(MKBOOL(v133)) && value_bool(MKBOOL(v135)));
		((TUP*)PTRPTR(r134))->cells[3] = MKBOOL(v136);
		PTUP v137;
		PTUP v138;
		mw_mirth_c99_ZPlusC99_indent(v131, r134, &v137, &v138);
		incref(MKSTR(v66));
		PTUP v139;
		PTUP v140;
		mw_mirth_c99_ZPlusC99_put(v137, v138, v66, &v139, &v140);
		STR* v141;
		STRLIT(v141, ".refs++;", 8);
		PTUP v142;
		PTUP v143;
		mw_mirth_c99_ZPlusC99_put(v139, v140, v141, &v142, &v143);
		PTUP v144;
		PTUP v145;
		mw_mirth_c99_ZPlusC99_line(v142, v143, &v144, &v145);
		((TUP*)PTRPTR(v145))->cells[3] = MKBOOL(value_bool(MKBOOL(v135)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v145);
		STR* v146;
		STRLIT(v146, "", 0);
		STR* v147;
		STRLIT(v147, "WRAP_BIG(&", 10);
		STR* v148;
		mw_std_str_ZPlusStr_pushZ_strZBang(v147, v146, &v148);
		STR* v149;
		mw_std_str_ZPlusStr_pushZ_strZBang(v66, v148, &v149);
		STR* v150;
		STRLIT(v150, ")", 1);
		STR* v151;
		mw_std_str_ZPlusStr_pushZ_strZBang(v150, v149, &v151);
		PTUP v152;
		mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_C99ReprType_4, v151, &v152);
		PTUP v153;
		PTUP v154;
		mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v144, in_ZPlusC99Branch_2, v152, &v153, &v154);
		branch_ZPlusC99Branch_9 = v154;
		branch_ZPlusMirth_8 = v153;
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_intZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Int_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = PTRMK(5LL /* Int */,0,0);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_c99Z_intZDivnatZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Int_3, v6, &v7, &v8);
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_c99Z_natZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Nat_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	INT v6 = in_Nat_3;
	PTUP v7 = PTRMK(6LL /* Nat */,0,0);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_c99Z_intZDivnatZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, v7, &v8, &v9);
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_c99_c99Z_strZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = PTRMK(2LL /* STR */,0,0);
	PTUP v7;
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_C99ReprType_newZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8, &v9);
	incref(MKSTR(in_Str_3));
	uint64_t v10 = str_size(in_Str_3);
	INT v11 = u64_to_int(v10);
	INT v12 = WRAP_I63(4090LL);
	bool v13 = int_lt(value_int(MKINT(v12)), v11);
	PTUP branch_ZPlusC99Value_14;
	STR* branch_Str_15;
	PTUP branch_ZPlusMirth_16;
	PTUP branch_ZPlusC99Branch_17;
	if (v13) {
		bool v18 = value_bool(((TUP*)PTRPTR(v8))->cells[3]);
		PTUP r19 = VTUP(((TUP*)PTRPTR(v8))->cells[0]);
		bool v20 = value_bool(((TUP*)PTRPTR(r19))->cells[3]);
		incref(MKBOOL(v20));
		bool v21 = (value_bool(MKBOOL(v18)) && value_bool(MKBOOL(v20)));
		((TUP*)PTRPTR(r19))->cells[3] = MKBOOL(v21);
		PTUP v22;
		PTUP v23;
		mw_mirth_c99_ZPlusC99_indent(v7, r19, &v22, &v23);
		STR* v24;
		STRLIT(v24, "STRLIT(", 7);
		PTUP v25;
		PTUP v26;
		mw_mirth_c99_ZPlusC99_put(v22, v23, v24, &v25, &v26);
		PTUP v27;
		PTUP v28;
		mw_mirth_c99_ZPlusC99Value_rdup(v9, &v27, &v28);
		STR* v29 = mw_mirth_c99_ZPlusC99Value_consume(v27);
		PTUP v30;
		PTUP v31;
		mw_mirth_c99_ZPlusC99_put(v25, v26, v29, &v30, &v31);
		STR* v32;
		STRLIT(v32, ",", 1);
		PTUP v33;
		PTUP v34;
		mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
		PTUP v35;
		PTUP v36;
		mw_mirth_c99_ZPlusC99_line(v33, v34, &v35, &v36);
		((TUP*)PTRPTR(v36))->cells[3] = MKBOOL(value_bool(MKBOOL(v20)));
		((TUP*)PTRPTR(v8))->cells[0] = MKTUP(v36);
		PTUP r37 = VTUP(((TUP*)PTRPTR(v8))->cells[0]);
		INT v38 = value_nat(((TUP*)PTRPTR(r37))->cells[1]);
		incref(MKNAT(v38));
		INT v39 = WRAP_I63(1LL);
		INT v40 = v38;
		INT v41 = v39;
		INT v42 = int_add(v40, v41);
		INT v43 = v42;
		INT v44 = value_nat(((TUP*)PTRPTR(r37))->cells[1]);
		decref(MKNAT(v44));
		((TUP*)PTRPTR(r37))->cells[1] = MKNAT(v43);
		((TUP*)PTRPTR(v8))->cells[0] = MKTUP(r37);
		bool v45 = value_bool(((TUP*)PTRPTR(v8))->cells[3]);
		PTUP r46 = VTUP(((TUP*)PTRPTR(v8))->cells[0]);
		bool v47 = value_bool(((TUP*)PTRPTR(r46))->cells[3]);
		incref(MKBOOL(v47));
		bool v48 = (value_bool(MKBOOL(v45)) && value_bool(MKBOOL(v47)));
		((TUP*)PTRPTR(r46))->cells[3] = MKBOOL(v48);
		PTUP v49;
		PTUP v50;
		mw_mirth_c99_ZPlusC99_indent(v35, r46, &v49, &v50);
		incref(MKSTR(in_Str_3));
		PTUP v51;
		PTUP v52;
		mw_mirth_c99_ZPlusC99_putZ_cstrZ_long(v49, v50, in_Str_3, &v51, &v52);
		STR* v53;
		STRLIT(v53, ",", 1);
		PTUP v54;
		PTUP v55;
		mw_mirth_c99_ZPlusC99_put(v51, v52, v53, &v54, &v55);
		PTUP v56;
		PTUP v57;
		mw_mirth_c99_ZPlusC99_line(v54, v55, &v56, &v57);
		((TUP*)PTRPTR(v57))->cells[3] = MKBOOL(value_bool(MKBOOL(v47)));
		((TUP*)PTRPTR(v8))->cells[0] = MKTUP(v57);
		bool v58 = value_bool(((TUP*)PTRPTR(v8))->cells[3]);
		PTUP r59 = VTUP(((TUP*)PTRPTR(v8))->cells[0]);
		bool v60 = value_bool(((TUP*)PTRPTR(r59))->cells[3]);
		incref(MKBOOL(v60));
		bool v61 = (value_bool(MKBOOL(v58)) && value_bool(MKBOOL(v60)));
		((TUP*)PTRPTR(r59))->cells[3] = MKBOOL(v61);
		PTUP v62;
		PTUP v63;
		mw_mirth_c99_ZPlusC99_indent(v56, r59, &v62, &v63);
		incref(MKSTR(in_Str_3));
		uint64_t v64 = str_size(in_Str_3);
		INT v65 = u64_to_int(v64);
		STR* v66 = int_to_str(v65);
		PTUP v67;
		PTUP v68;
		mw_mirth_c99_ZPlusC99_put(v62, v63, v66, &v67, &v68);
		PTUP v69;
		PTUP v70;
		mw_mirth_c99_ZPlusC99_line(v67, v68, &v69, &v70);
		((TUP*)PTRPTR(v70))->cells[3] = MKBOOL(value_bool(MKBOOL(v60)));
		((TUP*)PTRPTR(v8))->cells[0] = MKTUP(v70);
		PTUP r71 = VTUP(((TUP*)PTRPTR(v8))->cells[0]);
		INT v72 = value_nat(((TUP*)PTRPTR(r71))->cells[1]);
		incref(MKNAT(v72));
		INT v73 = WRAP_I63(1LL);
		INT v74 = v72;
		INT v75 = v73;
		INT v76 = int_sub(v74, v75);
		incref(MKINT(v76));
		INT v77 = WRAP_I63(0LL);
		INT v78 = v77;
		bool v79 = int_le(v78, v76);
		INT branch_Nat_80;
		if (v79) {
			INT v81 = v76;
			branch_Nat_80 = v81;
		} else {
			decref(MKINT(v76));
			INT v82 = WRAP_I63(0LL);
			branch_Nat_80 = v82;
		}
		INT v83 = value_nat(((TUP*)PTRPTR(r71))->cells[1]);
		decref(MKNAT(v83));
		((TUP*)PTRPTR(r71))->cells[1] = MKNAT(branch_Nat_80);
		((TUP*)PTRPTR(v8))->cells[0] = MKTUP(r71);
		bool v84 = value_bool(((TUP*)PTRPTR(v8))->cells[3]);
		PTUP r85 = VTUP(((TUP*)PTRPTR(v8))->cells[0]);
		bool v86 = value_bool(((TUP*)PTRPTR(r85))->cells[3]);
		incref(MKBOOL(v86));
		bool v87 = (value_bool(MKBOOL(v84)) && value_bool(MKBOOL(v86)));
		((TUP*)PTRPTR(r85))->cells[3] = MKBOOL(v87);
		PTUP v88;
		PTUP v89;
		mw_mirth_c99_ZPlusC99_indent(v69, r85, &v88, &v89);
		STR* v90;
		STRLIT(v90, ");", 2);
		PTUP v91;
		PTUP v92;
		mw_mirth_c99_ZPlusC99_put(v88, v89, v90, &v91, &v92);
		PTUP v93;
		PTUP v94;
		mw_mirth_c99_ZPlusC99_line(v91, v92, &v93, &v94);
		((TUP*)PTRPTR(v94))->cells[3] = MKBOOL(value_bool(MKBOOL(v86)));
		((TUP*)PTRPTR(v8))->cells[0] = MKTUP(v94);
		branch_ZPlusC99Branch_17 = v8;
		branch_ZPlusMirth_16 = v93;
		branch_Str_15 = in_Str_3;
		branch_ZPlusC99Value_14 = v28;
	} else {
		bool v95 = value_bool(((TUP*)PTRPTR(v8))->cells[3]);
		PTUP r96 = VTUP(((TUP*)PTRPTR(v8))->cells[0]);
		bool v97 = value_bool(((TUP*)PTRPTR(r96))->cells[3]);
		incref(MKBOOL(v97));
		bool v98 = (value_bool(MKBOOL(v95)) && value_bool(MKBOOL(v97)));
		((TUP*)PTRPTR(r96))->cells[3] = MKBOOL(v98);
		PTUP v99;
		PTUP v100;
		mw_mirth_c99_ZPlusC99_indent(v7, r96, &v99, &v100);
		STR* v101;
		STRLIT(v101, "STRLIT(", 7);
		PTUP v102;
		PTUP v103;
		mw_mirth_c99_ZPlusC99_put(v99, v100, v101, &v102, &v103);
		PTUP v104;
		PTUP v105;
		mw_mirth_c99_ZPlusC99Value_rdup(v9, &v104, &v105);
		STR* v106 = mw_mirth_c99_ZPlusC99Value_consume(v104);
		PTUP v107;
		PTUP v108;
		mw_mirth_c99_ZPlusC99_put(v102, v103, v106, &v107, &v108);
		STR* v109;
		STRLIT(v109, ", ", 2);
		PTUP v110;
		PTUP v111;
		mw_mirth_c99_ZPlusC99_put(v107, v108, v109, &v110, &v111);
		incref(MKSTR(in_Str_3));
		PTUP v112;
		PTUP v113;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v110, v111, in_Str_3, &v112, &v113);
		STR* v114;
		STRLIT(v114, ", ", 2);
		PTUP v115;
		PTUP v116;
		mw_mirth_c99_ZPlusC99_put(v112, v113, v114, &v115, &v116);
		incref(MKSTR(in_Str_3));
		uint64_t v117 = str_size(in_Str_3);
		INT v118 = u64_to_int(v117);
		STR* v119 = int_to_str(v118);
		PTUP v120;
		PTUP v121;
		mw_mirth_c99_ZPlusC99_put(v115, v116, v119, &v120, &v121);
		STR* v122;
		STRLIT(v122, ");", 2);
		PTUP v123;
		PTUP v124;
		mw_mirth_c99_ZPlusC99_put(v120, v121, v122, &v123, &v124);
		PTUP v125;
		PTUP v126;
		mw_mirth_c99_ZPlusC99_line(v123, v124, &v125, &v126);
		((TUP*)PTRPTR(v126))->cells[3] = MKBOOL(value_bool(MKBOOL(v97)));
		((TUP*)PTRPTR(v8))->cells[0] = MKTUP(v126);
		branch_ZPlusC99Branch_17 = v8;
		branch_ZPlusMirth_16 = v125;
		branch_Str_15 = in_Str_3;
		branch_ZPlusC99Value_14 = v105;
	}
	decref(MKSTR(branch_Str_15));
	PTUP v127;
	PTUP v128;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusMirth_16, branch_ZPlusC99Branch_17, branch_ZPlusC99Value_14, &v127, &v128);
	*out_ZPlusC99Branch_5 = v128;
	*out_ZPlusMirth_4 = v127;
}
static void mw_mirth_c99_ZPlusC99_putZ_cstrZ_long (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	bool v6 = false;
	int64_t v7 = 34LL /* BQUOTE */;
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99_putZ_byte(in_ZPlusMirth_1, in_ZPlusC99_2, v7, &v8, &v9);
	int64_t v10 = 0LL /* BNUL */;
	incref(MKSTR(in_Str_3));
	incref(MKSTR(in_Str_3));
	void* v11 = str_base(in_Str_3);
	uint64_t v12 = str_size(in_Str_3);
	INT v13 = u64_to_int(v12);
	incref(MKINT(v13));
	INT v14 = WRAP_I63(0LL);
	INT v15 = v14;
	bool v16 = int_le(v15, v13);
	INT branch_Nat_17;
	if (v16) {
		INT v18 = v13;
		branch_Nat_17 = v18;
	} else {
		decref(MKINT(v13));
		INT v19 = WRAP_I63(0LL);
		branch_Nat_17 = v19;
	}
	incref(MKNAT(branch_Nat_17));
	INT v20 = WRAP_I63(0LL);
	INT v21 = branch_Nat_17;
	INT v22 = v20;
	bool v23 = int_lt(v22, v21);
	bool v24 = v6;
	PTUP r25 = v8;
	PTUP r26 = v9;
	int64_t v27 = v10;
	void* v28 = v11;
	INT v29 = branch_Nat_17;
	bool v30 = v23;
	while (v30) {
		bool v31 = v24;
		PTUP r32 = r25;
		PTUP r33 = r26;
		int64_t v34 = v27;
		void* v35 = v28;
		INT v36 = v29;
		int64_t v37 = mw_std_prelude_unsafe_1_sp9(v35);
		int64_t v38 = 10LL /* BLF */;
		int64_t v39 = v34;
		INT v40 = i64_to_int(v39);
		uint64_t v41 = int_to_u64(v40);
		uint8_t v42 = (uint8_t)(v41);
		int64_t v43 = v38;
		INT v44 = i64_to_int(v43);
		uint64_t v45 = int_to_u64(v44);
		uint8_t v46 = (uint8_t)(v45);
		uint64_t v47 = (uint64_t)(v46);
		uint32_t v48 = (uint32_t)(v47);
		uint64_t v49 = (uint64_t)(value_u8(MKU8(v42)));
		uint32_t v50 = (uint32_t)(v49);
		uint64_t v51 = (uint64_t)(v50);
		uint64_t v52 = (uint64_t)(v48);
		bool v53 = (value_u64(MKU64(v51)) == v52);
		PTUP branch_ZPlusMirth_54;
		PTUP branch_ZPlusC99_55;
		if (v53) {
			int64_t v56 = 34LL /* BQUOTE */;
			PTUP v57;
			PTUP v58;
			mw_mirth_c99_ZPlusC99_putZ_byte(r32, r33, v56, &v57, &v58);
			PTUP v59;
			PTUP v60;
			mw_mirth_c99_ZPlusC99_line(v57, v58, &v59, &v60);
			PTUP v61;
			PTUP v62;
			mw_mirth_c99_ZPlusC99_indent(v59, v60, &v61, &v62);
			int64_t v63 = 34LL /* BQUOTE */;
			PTUP v64;
			PTUP v65;
			mw_mirth_c99_ZPlusC99_putZ_byte(v61, v62, v63, &v64, &v65);
			branch_ZPlusC99_55 = v65;
			branch_ZPlusMirth_54 = v64;
		} else {
			branch_ZPlusC99_55 = r33;
			branch_ZPlusMirth_54 = r32;
		}
		PTUP v66;
		PTUP v67;
		bool v68;
		mw_mirth_c99_c99Z_stringZ_byteZBang(branch_ZPlusMirth_54, branch_ZPlusC99_55, v31, v37, &v66, &v67, &v68);
		INT v69 = WRAP_I63(1LL);
		void* v70 = mw_std_prelude_unsafe_1_sp5(v69, v35);
		INT v71 = WRAP_I63(1LL);
		INT v72 = v36;
		INT v73 = v71;
		INT v74 = int_sub(v72, v73);
		incref(MKINT(v74));
		INT v75 = WRAP_I63(0LL);
		INT v76 = v75;
		bool v77 = int_le(v76, v74);
		INT branch_Nat_78;
		if (v77) {
			INT v79 = v74;
			branch_Nat_78 = v79;
		} else {
			decref(MKINT(v74));
			INT v80 = WRAP_I63(0LL);
			branch_Nat_78 = v80;
		}
		incref(MKNAT(branch_Nat_78));
		INT v81 = WRAP_I63(0LL);
		INT v82 = branch_Nat_78;
		INT v83 = v81;
		bool v84 = int_lt(v83, v82);
		v30 = v84;
		v29 = branch_Nat_78;
		v28 = v70;
		v27 = v37;
		r26 = v67;
		r25 = v66;
		v24 = v68;
	}
	decref(MKNAT(v29));
	decref(MKSTR(in_Str_3));
	int64_t v85 = 34LL /* BQUOTE */;
	PTUP v86;
	PTUP v87;
	mw_mirth_c99_ZPlusC99_putZ_byte(r25, r26, v85, &v86, &v87);
	decref(MKBOOL(v24));
	decref(MKI64(v27));
	*out_ZPlusC99_5 = v87;
	*out_ZPlusMirth_4 = v86;
}
static void mw_mirth_c99_ZPlusC99_putZ_cstr (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, STR* in_Str_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	bool v6 = false;
	int64_t v7 = 34LL /* BQUOTE */;
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99_putZ_byte(in_ZPlusMirth_1, in_ZPlusC99_2, v7, &v8, &v9);
	incref(MKSTR(in_Str_3));
	incref(MKSTR(in_Str_3));
	void* v10 = str_base(in_Str_3);
	uint64_t v11 = str_size(in_Str_3);
	INT v12 = u64_to_int(v11);
	incref(MKINT(v12));
	INT v13 = WRAP_I63(0LL);
	INT v14 = v13;
	bool v15 = int_le(v14, v12);
	INT branch_Nat_16;
	if (v15) {
		INT v17 = v12;
		branch_Nat_16 = v17;
	} else {
		decref(MKINT(v12));
		INT v18 = WRAP_I63(0LL);
		branch_Nat_16 = v18;
	}
	incref(MKNAT(branch_Nat_16));
	INT v19 = WRAP_I63(0LL);
	INT v20 = branch_Nat_16;
	INT v21 = v19;
	bool v22 = int_lt(v21, v20);
	PTUP r23 = v8;
	PTUP r24 = v9;
	bool v25 = v6;
	void* v26 = v10;
	INT v27 = branch_Nat_16;
	bool v28 = v22;
	while (v28) {
		PTUP r29 = r23;
		PTUP r30 = r24;
		bool v31 = v25;
		void* v32 = v26;
		INT v33 = v27;
		int64_t v34 = mw_std_prelude_unsafe_1_sp9(v32);
		PTUP v35;
		PTUP v36;
		bool v37;
		mw_mirth_c99_c99Z_stringZ_byteZBang(r29, r30, v31, v34, &v35, &v36, &v37);
		INT v38 = WRAP_I63(1LL);
		void* v39 = mw_std_prelude_unsafe_1_sp5(v38, v32);
		INT v40 = WRAP_I63(1LL);
		INT v41 = v33;
		INT v42 = v40;
		INT v43 = int_sub(v41, v42);
		incref(MKINT(v43));
		INT v44 = WRAP_I63(0LL);
		INT v45 = v44;
		bool v46 = int_le(v45, v43);
		INT branch_Nat_47;
		if (v46) {
			INT v48 = v43;
			branch_Nat_47 = v48;
		} else {
			decref(MKINT(v43));
			INT v49 = WRAP_I63(0LL);
			branch_Nat_47 = v49;
		}
		incref(MKNAT(branch_Nat_47));
		INT v50 = WRAP_I63(0LL);
		INT v51 = branch_Nat_47;
		INT v52 = v50;
		bool v53 = int_lt(v52, v51);
		v28 = v53;
		v27 = branch_Nat_47;
		v26 = v39;
		v25 = v37;
		r24 = v36;
		r23 = v35;
	}
	decref(MKNAT(v27));
	decref(MKSTR(in_Str_3));
	int64_t v54 = 34LL /* BQUOTE */;
	PTUP v55;
	PTUP v56;
	mw_mirth_c99_ZPlusC99_putZ_byte(r23, r24, v54, &v55, &v56);
	*out_ZPlusC99_5 = v56;
	*out_ZPlusMirth_4 = v55;
}
static void mw_mirth_c99_c99Z_stringZ_byteZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, bool in_Bool_3, int64_t in_Byte_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6, bool *out_Bool_7) {
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99_9;
	bool branch_Bool_10;
	switch (in_Byte_4) {
		case 92LL: { // B'\'
			STR* v11;
			STRLIT(v11, "\\\\", 2);
			PTUP v12;
			PTUP v13;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v11, &v12, &v13);
			bool v14 = false;
			branch_Bool_10 = v14;
			branch_ZPlusC99_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 34LL: { // BQUOTE
			STR* v15;
			STRLIT(v15, "\\\"", 2);
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v15, &v16, &v17);
			bool v18 = false;
			branch_Bool_10 = v18;
			branch_ZPlusC99_9 = v17;
			branch_ZPlusMirth_8 = v16;
		} break;
		case 9LL: { // BHT
			STR* v19;
			STRLIT(v19, "\\t", 2);
			PTUP v20;
			PTUP v21;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v19, &v20, &v21);
			bool v22 = false;
			branch_Bool_10 = v22;
			branch_ZPlusC99_9 = v21;
			branch_ZPlusMirth_8 = v20;
		} break;
		case 10LL: { // BLF
			STR* v23;
			STRLIT(v23, "\\n", 2);
			PTUP v24;
			PTUP v25;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v23, &v24, &v25);
			bool v26 = false;
			branch_Bool_10 = v26;
			branch_ZPlusC99_9 = v25;
			branch_ZPlusMirth_8 = v24;
		} break;
		case 13LL: { // BCR
			STR* v27;
			STRLIT(v27, "\\r", 2);
			PTUP v28;
			PTUP v29;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v27, &v28, &v29);
			bool v30 = false;
			branch_Bool_10 = v30;
			branch_ZPlusC99_9 = v29;
			branch_ZPlusMirth_8 = v28;
		} break;
		default: {
			int64_t v31 = 32LL /* BSPACE */;
			int64_t v32 = 126LL /* B'~' */;
			int64_t v33 = v31;
			INT v34 = i64_to_int(v33);
			uint64_t v35 = int_to_u64(v34);
			uint8_t v36 = (uint8_t)(v35);
			int64_t v37 = in_Byte_4;
			INT v38 = i64_to_int(v37);
			uint64_t v39 = int_to_u64(v38);
			uint8_t v40 = (uint8_t)(v39);
			uint64_t v41 = (uint64_t)(v40);
			uint32_t v42 = (uint32_t)(v41);
			uint64_t v43 = (uint64_t)(value_u8(MKU8(v36)));
			uint32_t v44 = (uint32_t)(v43);
			uint64_t v45 = (uint64_t)(v44);
			uint64_t v46 = (uint64_t)(v42);
			bool v47 = (value_u64(MKU64(v45)) <= v46);
			bool branch_Bool_48;
			if (value_bool(MKBOOL(v47))) {
				int64_t v49 = VI64(MKI64(in_Byte_4));
				INT v50 = i64_to_int(v49);
				uint64_t v51 = int_to_u64(v50);
				uint8_t v52 = (uint8_t)(v51);
				int64_t v53 = VI64(MKI64(v32));
				INT v54 = i64_to_int(v53);
				uint64_t v55 = int_to_u64(v54);
				uint8_t v56 = (uint8_t)(v55);
				uint64_t v57 = (uint64_t)(v56);
				uint32_t v58 = (uint32_t)(v57);
				uint64_t v59 = (uint64_t)(value_u8(MKU8(v52)));
				uint32_t v60 = (uint32_t)(v59);
				uint64_t v61 = (uint64_t)(v60);
				uint64_t v62 = (uint64_t)(v58);
				bool v63 = (value_u64(MKU64(v61)) <= v62);
				branch_Bool_48 = v63;
			} else {
				decref(MKI64(VI64(MKI64(v32))));
				decref(MKI64(VI64(MKI64(in_Byte_4))));
				bool v64 = false;
				branch_Bool_48 = v64;
			}
			int64_t branch_Byte_65;
			bool branch_Bool_66;
			bool branch_Bool_67;
			if (branch_Bool_48) {
				int64_t v68 = 48LL /* B'0' */;
				int64_t v69 = 57LL /* B'9' */;
				int64_t v70 = v68;
				INT v71 = i64_to_int(v70);
				uint64_t v72 = int_to_u64(v71);
				uint8_t v73 = (uint8_t)(v72);
				int64_t v74 = in_Byte_4;
				INT v75 = i64_to_int(v74);
				uint64_t v76 = int_to_u64(v75);
				uint8_t v77 = (uint8_t)(v76);
				uint64_t v78 = (uint64_t)(v77);
				uint32_t v79 = (uint32_t)(v78);
				uint64_t v80 = (uint64_t)(value_u8(MKU8(v73)));
				uint32_t v81 = (uint32_t)(v80);
				uint64_t v82 = (uint64_t)(v81);
				uint64_t v83 = (uint64_t)(v79);
				bool v84 = (value_u64(MKU64(v82)) <= v83);
				bool branch_Bool_85;
				if (value_bool(MKBOOL(v84))) {
					int64_t v86 = VI64(MKI64(in_Byte_4));
					INT v87 = i64_to_int(v86);
					uint64_t v88 = int_to_u64(v87);
					uint8_t v89 = (uint8_t)(v88);
					int64_t v90 = VI64(MKI64(v69));
					INT v91 = i64_to_int(v90);
					uint64_t v92 = int_to_u64(v91);
					uint8_t v93 = (uint8_t)(v92);
					uint64_t v94 = (uint64_t)(v93);
					uint32_t v95 = (uint32_t)(v94);
					uint64_t v96 = (uint64_t)(value_u8(MKU8(v89)));
					uint32_t v97 = (uint32_t)(v96);
					uint64_t v98 = (uint64_t)(v97);
					uint64_t v99 = (uint64_t)(v95);
					bool v100 = (value_u64(MKU64(v98)) <= v99);
					branch_Bool_85 = v100;
				} else {
					decref(MKI64(VI64(MKI64(v69))));
					decref(MKI64(VI64(MKI64(in_Byte_4))));
					bool v101 = false;
					branch_Bool_85 = v101;
				}
				bool branch_Bool_102;
				if (branch_Bool_85) {
					bool v103 = true;
					branch_Bool_102 = v103;
				} else {
					int64_t v104 = 65LL /* B'A' */;
					int64_t v105 = 70LL /* B'F' */;
					int64_t v106 = v104;
					INT v107 = i64_to_int(v106);
					uint64_t v108 = int_to_u64(v107);
					uint8_t v109 = (uint8_t)(v108);
					int64_t v110 = in_Byte_4;
					INT v111 = i64_to_int(v110);
					uint64_t v112 = int_to_u64(v111);
					uint8_t v113 = (uint8_t)(v112);
					uint64_t v114 = (uint64_t)(v113);
					uint32_t v115 = (uint32_t)(v114);
					uint64_t v116 = (uint64_t)(value_u8(MKU8(v109)));
					uint32_t v117 = (uint32_t)(v116);
					uint64_t v118 = (uint64_t)(v117);
					uint64_t v119 = (uint64_t)(v115);
					bool v120 = (value_u64(MKU64(v118)) <= v119);
					bool branch_Bool_121;
					if (value_bool(MKBOOL(v120))) {
						int64_t v122 = VI64(MKI64(in_Byte_4));
						INT v123 = i64_to_int(v122);
						uint64_t v124 = int_to_u64(v123);
						uint8_t v125 = (uint8_t)(v124);
						int64_t v126 = VI64(MKI64(v105));
						INT v127 = i64_to_int(v126);
						uint64_t v128 = int_to_u64(v127);
						uint8_t v129 = (uint8_t)(v128);
						uint64_t v130 = (uint64_t)(v129);
						uint32_t v131 = (uint32_t)(v130);
						uint64_t v132 = (uint64_t)(value_u8(MKU8(v125)));
						uint32_t v133 = (uint32_t)(v132);
						uint64_t v134 = (uint64_t)(v133);
						uint64_t v135 = (uint64_t)(v131);
						bool v136 = (value_u64(MKU64(v134)) <= v135);
						branch_Bool_121 = v136;
					} else {
						decref(MKI64(VI64(MKI64(v105))));
						decref(MKI64(VI64(MKI64(in_Byte_4))));
						bool v137 = false;
						branch_Bool_121 = v137;
					}
					bool branch_Bool_138;
					if (branch_Bool_121) {
						bool v139 = true;
						branch_Bool_138 = v139;
					} else {
						int64_t v140 = 97LL /* B'a' */;
						int64_t v141 = 102LL /* B'f' */;
						int64_t v142 = v140;
						INT v143 = i64_to_int(v142);
						uint64_t v144 = int_to_u64(v143);
						uint8_t v145 = (uint8_t)(v144);
						int64_t v146 = in_Byte_4;
						INT v147 = i64_to_int(v146);
						uint64_t v148 = int_to_u64(v147);
						uint8_t v149 = (uint8_t)(v148);
						uint64_t v150 = (uint64_t)(v149);
						uint32_t v151 = (uint32_t)(v150);
						uint64_t v152 = (uint64_t)(value_u8(MKU8(v145)));
						uint32_t v153 = (uint32_t)(v152);
						uint64_t v154 = (uint64_t)(v153);
						uint64_t v155 = (uint64_t)(v151);
						bool v156 = (value_u64(MKU64(v154)) <= v155);
						bool branch_Bool_157;
						if (value_bool(MKBOOL(v156))) {
							int64_t v158 = VI64(MKI64(in_Byte_4));
							INT v159 = i64_to_int(v158);
							uint64_t v160 = int_to_u64(v159);
							uint8_t v161 = (uint8_t)(v160);
							int64_t v162 = VI64(MKI64(v141));
							INT v163 = i64_to_int(v162);
							uint64_t v164 = int_to_u64(v163);
							uint8_t v165 = (uint8_t)(v164);
							uint64_t v166 = (uint64_t)(v165);
							uint32_t v167 = (uint32_t)(v166);
							uint64_t v168 = (uint64_t)(value_u8(MKU8(v161)));
							uint32_t v169 = (uint32_t)(v168);
							uint64_t v170 = (uint64_t)(v169);
							uint64_t v171 = (uint64_t)(v167);
							bool v172 = (value_u64(MKU64(v170)) <= v171);
							branch_Bool_157 = v172;
						} else {
							decref(MKI64(VI64(MKI64(v141))));
							decref(MKI64(VI64(MKI64(in_Byte_4))));
							bool v173 = false;
							branch_Bool_157 = v173;
						}
						branch_Bool_138 = branch_Bool_157;
					}
					branch_Bool_102 = branch_Bool_138;
				}
				bool v174 = (branch_Bool_102 && in_Bool_3);
				bool v175 = !v174;
				branch_Bool_67 = v175;
				branch_Bool_66 = in_Bool_3;
				branch_Byte_65 = in_Byte_4;
			} else {
				bool v176 = false;
				branch_Bool_67 = v176;
				branch_Bool_66 = in_Bool_3;
				branch_Byte_65 = in_Byte_4;
			}
			PTUP branch_ZPlusMirth_177;
			PTUP branch_ZPlusC99_178;
			bool branch_Bool_179;
			if (branch_Bool_67) {
				PTUP v180;
				PTUP v181;
				mw_mirth_c99_ZPlusC99_putZ_byte(in_ZPlusMirth_1, in_ZPlusC99_2, branch_Byte_65, &v180, &v181);
				bool v182 = false;
				branch_Bool_179 = v182;
				branch_ZPlusC99_178 = v181;
				branch_ZPlusMirth_177 = v180;
			} else {
				STR* v183;
				STRLIT(v183, "\\x", 2);
				PTUP v184;
				PTUP v185;
				mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v183, &v184, &v185);
				int64_t v186;
				int64_t v187 = mw_std_byte_Byte_toZ_hexdigits(branch_Byte_65, &v186);
				PTUP v188;
				PTUP v189;
				mw_mirth_c99_ZPlusC99_putZ_byte(v184, v185, v187, &v188, &v189);
				PTUP v190;
				PTUP v191;
				mw_mirth_c99_ZPlusC99_putZ_byte(v188, v189, v186, &v190, &v191);
				bool v192 = true;
				branch_Bool_179 = v192;
				branch_ZPlusC99_178 = v191;
				branch_ZPlusMirth_177 = v190;
			}
			branch_Bool_10 = branch_Bool_179;
			branch_ZPlusC99_9 = branch_ZPlusC99_178;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_177;
		} break;
	}
	*out_Bool_7 = branch_Bool_10;
	*out_ZPlusC99_6 = branch_ZPlusC99_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static bool mw_mirth_c99_C99DataRepr_needZ_refcountingZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99DataRepr_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_C99DataRepr_2)) {
		case 0LL: { // Unit
			uint64_t v7 = mtp_mirth_c99_C99DataRepr_Unit(in_C99DataRepr_2);
			bool v8 = mw_mirth_c99_C99DataUnitRepr_needsZ_refcountingZAsk(v7);
			branch_Bool_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Enum
			uint64_t v9 = mtp_mirth_c99_C99DataRepr_Enum(in_C99DataRepr_2);
			bool v10 = mw_mirth_c99_C99DataEnumRepr_needsZ_refcountingZAsk(v9);
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Field
			PTUP v11 = mtp_mirth_c99_C99DataRepr_Field(in_C99DataRepr_2);
			PTUP v12;
			bool v13 = mw_mirth_c99_C99DataFieldRepr_needsZ_refcountingZAsk(in_ZPlusMirth_1, v11, &v12);
			branch_Bool_6 = v13;
			branch_ZPlusMirth_5 = v12;
		} break;
		case 3LL: { // Struct
			uint64_t v14 = mtp_mirth_c99_C99DataRepr_Struct(in_C99DataRepr_2);
			bool v15 = mw_mirth_c99_C99DataStructRepr_needsZ_refcountingZAsk(v14);
			branch_Bool_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Sum
			uint64_t v16 = mtp_mirth_c99_C99DataRepr_Sum(in_C99DataRepr_2);
			bool v17 = mw_mirth_c99_C99DataSumRepr_needsZ_refcountingZAsk(v16);
			branch_Bool_6 = v17;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static STR* mw_mirth_c99_C99DataRepr_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, PTUP in_C99DataRepr_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	STR* branch_Str_6;
	switch (PTREXTRA(in_C99DataRepr_2)) {
		case 0LL: { // Unit
			uint64_t v7 = mtp_mirth_c99_C99DataRepr_Unit(in_C99DataRepr_2);
			VAL v8 = mw_mirth_c99_C99DataUnitRepr_underlyingZ_c99Z_type(v7);
			branch_Str_6 = value_str(v8);
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Enum
			uint64_t v9 = mtp_mirth_c99_C99DataRepr_Enum(in_C99DataRepr_2);
			VAL v10 = mw_mirth_c99_C99DataEnumRepr_underlyingZ_c99Z_type(v9);
			branch_Str_6 = value_str(v10);
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Field
			PTUP v11 = mtp_mirth_c99_C99DataRepr_Field(in_C99DataRepr_2);
			PTUP v12;
			STR* v13 = mw_mirth_c99_C99DataFieldRepr_underlyingZ_c99Z_type(in_ZPlusMirth_1, v11, &v12);
			branch_Str_6 = v13;
			branch_ZPlusMirth_5 = v12;
		} break;
		case 3LL: { // Struct
			uint64_t v14 = mtp_mirth_c99_C99DataRepr_Struct(in_C99DataRepr_2);
			PTUP v15;
			STR* v16 = mw_mirth_c99_C99DataStructRepr_underlyingZ_c99Z_type(in_ZPlusMirth_1, v14, &v15);
			branch_Str_6 = v16;
			branch_ZPlusMirth_5 = v15;
		} break;
		case 4LL: { // Sum
			uint64_t v17 = mtp_mirth_c99_C99DataRepr_Sum(in_C99DataRepr_2);
			PTUP v18;
			STR* v19 = mw_mirth_c99_C99DataSumRepr_underlyingZ_c99Z_type(in_ZPlusMirth_1, v17, &v18);
			branch_Str_6 = v19;
			branch_ZPlusMirth_5 = v18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Str_6;
}
static STR* mw_mirth_c99_C99DataRepr_vZ_macroZ_prefixZ_suffix (PTUP in_ZPlusMirth_1, PTUP in_C99DataRepr_2, PTUP *out_ZPlusMirth_3, STR* *out_Str_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	STR* branch_Str_8;
	switch (PTREXTRA(in_C99DataRepr_2)) {
		case 0LL: { // Unit
			uint64_t v9 = mtp_mirth_c99_C99DataRepr_Unit(in_C99DataRepr_2);
			VAL v10;
			VAL v11 = mw_mirth_c99_C99DataUnitRepr_vZ_macroZ_prefixZ_suffix(v9, &v10);
			branch_Str_8 = value_str(v10);
			branch_Str_7 = value_str(v11);
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Enum
			uint64_t v12 = mtp_mirth_c99_C99DataRepr_Enum(in_C99DataRepr_2);
			VAL v13;
			VAL v14 = mw_mirth_c99_C99DataEnumRepr_vZ_macroZ_prefixZ_suffix(v12, &v13);
			branch_Str_8 = value_str(v13);
			branch_Str_7 = value_str(v14);
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Field
			PTUP v15 = mtp_mirth_c99_C99DataRepr_Field(in_C99DataRepr_2);
			PTUP v16;
			STR* v17;
			STR* v18 = mw_mirth_c99_C99DataFieldRepr_vZ_macroZ_prefixZ_suffix(in_ZPlusMirth_1, v15, &v16, &v17);
			branch_Str_8 = v17;
			branch_Str_7 = v18;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 3LL: { // Struct
			uint64_t v19 = mtp_mirth_c99_C99DataRepr_Struct(in_C99DataRepr_2);
			VAL v20;
			VAL v21 = mw_mirth_c99_C99DataStructRepr_vZ_macroZ_prefixZ_suffix(v19, &v20);
			branch_Str_8 = value_str(v20);
			branch_Str_7 = value_str(v21);
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Sum
			uint64_t v22 = mtp_mirth_c99_C99DataRepr_Sum(in_C99DataRepr_2);
			VAL v23;
			VAL v24 = mw_mirth_c99_C99DataSumRepr_vZ_macroZ_prefixZ_suffix(v22, &v23);
			branch_Str_8 = value_str(v23);
			branch_Str_7 = value_str(v24);
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Str_5 = branch_Str_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static STR* mw_mirth_c99_C99DataRepr_mkZ_macro (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99DataRepr_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	switch (PTREXTRA(in_C99DataRepr_3)) {
		case 0LL: { // Unit
			uint64_t v8 = mtp_mirth_c99_C99DataRepr_Unit(in_C99DataRepr_3);
			mw_mirth_c99_C99DataUnitRepr_mkZ_macro(v8);
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Enum
			uint64_t v9 = mtp_mirth_c99_C99DataRepr_Enum(in_C99DataRepr_3);
			STR* v10 = mw_mirth_c99_C99DataEnumRepr_mkZ_macro(in_Str_2, v9);
			branch_Str_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Field
			PTUP v11 = mtp_mirth_c99_C99DataRepr_Field(in_C99DataRepr_3);
			PTUP v12;
			STR* v13 = mw_mirth_c99_C99DataFieldRepr_mkZ_macro(in_ZPlusMirth_1, in_Str_2, v11, &v12);
			branch_Str_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 3LL: { // Struct
			uint64_t v14 = mtp_mirth_c99_C99DataRepr_Struct(in_C99DataRepr_3);
			STR* v15 = mw_mirth_c99_C99DataStructRepr_mkZ_macro(in_Str_2, v14);
			branch_Str_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Sum
			uint64_t v16 = mtp_mirth_c99_C99DataRepr_Sum(in_C99DataRepr_3);
			STR* v17 = mw_mirth_c99_C99DataSumRepr_mkZ_macro(in_Str_2, v16);
			branch_Str_7 = v17;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static STR* mw_mirth_c99_C99DataRepr_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99DataRepr_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	switch (PTREXTRA(in_C99DataRepr_3)) {
		case 0LL: { // Unit
			uint64_t v8 = mtp_mirth_c99_C99DataRepr_Unit(in_C99DataRepr_3);
			PTUP v9;
			STR* v10 = mw_mirth_c99_C99DataUnitRepr_getZ_dataZ_tag(in_ZPlusMirth_1, MKSTR(in_Str_2), v8, &v9);
			branch_Str_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // Enum
			uint64_t v11 = mtp_mirth_c99_C99DataRepr_Enum(in_C99DataRepr_3);
			mw_mirth_c99_C99DataEnumRepr_getZ_dataZ_tag(v11);
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Field
			PTUP v12 = mtp_mirth_c99_C99DataRepr_Field(in_C99DataRepr_3);
			PTUP v13;
			STR* v14 = mw_mirth_c99_C99DataFieldRepr_getZ_dataZ_tag(in_ZPlusMirth_1, MKSTR(in_Str_2), v12, &v13);
			branch_Str_7 = v14;
			branch_ZPlusMirth_6 = v13;
		} break;
		case 3LL: { // Struct
			uint64_t v15 = mtp_mirth_c99_C99DataRepr_Struct(in_C99DataRepr_3);
			PTUP v16;
			STR* v17 = mw_mirth_c99_C99DataStructRepr_getZ_dataZ_tag(in_ZPlusMirth_1, MKSTR(in_Str_2), v15, &v16);
			branch_Str_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 4LL: { // Sum
			uint64_t v18 = mtp_mirth_c99_C99DataRepr_Sum(in_C99DataRepr_3);
			STR* v19 = mw_mirth_c99_C99DataSumRepr_getZ_dataZ_tag(in_Str_2, v18);
			branch_Str_7 = v19;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static bool mw_mirth_c99_C99DataUnitRepr_needsZ_refcountingZAsk (uint64_t in_C99DataUnitRepr_1) {
	bool v3 = false;
	return v3;
}
static VAL mw_mirth_c99_C99DataUnitRepr_underlyingZ_c99Z_type (uint64_t in_C99DataUnitRepr_1) {
	STR* v3;
	STRLIT(v3, "void", 4);
	return MKSTR(v3);
}
static VAL mw_mirth_c99_C99DataUnitRepr_vZ_macroZ_prefixZ_suffix (uint64_t in_C99DataUnitRepr_1, VAL *out__3) {
	STR* v4;
	STRLIT(v4, "", 0);
	STR* v5;
	STRLIT(v5, "", 0);
	*out__3 = MKSTR(v5);
	return MKSTR(v4);
}
static void mw_mirth_c99_C99DataUnitRepr_mkZ_macro (uint64_t in_C99DataUnitRepr_1) {
}
static STR* mw_mirth_c99_C99DataUnitRepr_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, uint64_t in_C99DataUnitRepr_3, PTUP *out_ZPlusMirth_4) {
	decref(in_z_x1_2);
	PTUP v6;
	STR* v7 = mw_mirth_data_Tag_valueZ_show(in_ZPlusMirth_1, value_u64(MKU64(in_C99DataUnitRepr_3)), &v6);
	STR* v8;
	STRLIT(v8, "LL", 2);
	STR* v9 = str_cat(v7, v8);
	*out_ZPlusMirth_4 = v6;
	return v9;
}
static bool mw_mirth_c99_C99DataEnumRepr_needsZ_refcountingZAsk (uint64_t in_C99DataEnumRepr_1) {
	bool v3 = false;
	return v3;
}
static VAL mw_mirth_c99_C99DataEnumRepr_underlyingZ_c99Z_type (uint64_t in_C99DataEnumRepr_1) {
	STR* v3;
	STRLIT(v3, "int64_t", 7);
	return MKSTR(v3);
}
static VAL mw_mirth_c99_C99DataEnumRepr_vZ_macroZ_prefixZ_suffix (uint64_t in_C99DataEnumRepr_1, VAL *out__3) {
	STR* v4;
	STRLIT(v4, "VI64(", 5);
	STR* v5;
	STRLIT(v5, ")", 1);
	*out__3 = MKSTR(v5);
	return MKSTR(v4);
}
static STR* mw_mirth_c99_C99DataEnumRepr_mkZ_macro (STR* in_Str_1, uint64_t in_C99DataEnumRepr_2) {
	STR* v4 = mw_std_prim_Str_Str_1_sp8(in_Str_1);
	return v4;
}
static void mw_mirth_c99_C99DataEnumRepr_getZ_dataZ_tag (uint64_t in_C99DataEnumRepr_1) {
}
static bool mw_mirth_c99_C99DataFieldRepr_needsZ_refcountingZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99DataFieldRepr_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_C99DataFieldRepr_2))->cells[2]);
	incref(MKTUP(v5));
	decref(MKTUP(in_C99DataFieldRepr_2));
	PTUP v6;
	bool v7 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static STR* mw_mirth_c99_C99DataFieldRepr_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, PTUP in_C99DataFieldRepr_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = VTUP(((TUP*)PTRPTR(in_C99DataFieldRepr_2))->cells[2]);
	incref(MKTUP(v5));
	decref(MKTUP(in_C99DataFieldRepr_2));
	PTUP v6;
	STR* v7 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static STR* mw_mirth_c99_C99DataFieldRepr_vZ_macroZ_prefixZ_suffix (PTUP in_ZPlusMirth_1, PTUP in_C99DataFieldRepr_2, PTUP *out_ZPlusMirth_3, STR* *out_Str_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_C99DataFieldRepr_2))->cells[2]);
	incref(MKTUP(v6));
	decref(MKTUP(in_C99DataFieldRepr_2));
	PTUP v7;
	STR* v8;
	STR* v9 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_ZPlusMirth_1, v6, &v7, &v8);
	*out_Str_5 = v8;
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static STR* mw_mirth_c99_C99DataFieldRepr_mkZ_macro (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99DataFieldRepr_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_C99DataFieldRepr_3))->cells[2]);
	incref(MKTUP(v6));
	decref(MKTUP(in_C99DataFieldRepr_3));
	PTUP v7;
	STR* v8 = mw_mirth_c99_C99ReprType_mkZ_macro(in_ZPlusMirth_1, in_Str_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static STR* mw_mirth_c99_C99DataFieldRepr_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_C99DataFieldRepr_3, PTUP *out_ZPlusMirth_4) {
	decref(in_z_x1_2);
	uint64_t v6 = value_u64(((TUP*)PTRPTR(VTUP(MKTUP(in_C99DataFieldRepr_3))))->cells[0]);
	decref(MKTUP(VTUP(MKTUP(in_C99DataFieldRepr_3))));
	PTUP v7;
	STR* v8 = mw_mirth_data_Tag_valueZ_show(in_ZPlusMirth_1, v6, &v7);
	STR* v9;
	STRLIT(v9, "LL", 2);
	STR* v10 = str_cat(v8, v9);
	*out_ZPlusMirth_4 = v7;
	return v10;
}
static bool mw_mirth_c99_C99DataStructRepr_needsZ_refcountingZAsk (uint64_t in_C99DataStructRepr_1) {
	bool v3 = true;
	return v3;
}
static STR* mw_mirth_c99_C99DataStructRepr_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, uint64_t in_C99DataStructRepr_2, PTUP *out_ZPlusMirth_3) {
	STR* v5;
	STRLIT(v5, "PTUP", 4);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v5;
}
static VAL mw_mirth_c99_C99DataStructRepr_vZ_macroZ_prefixZ_suffix (uint64_t in_C99DataStructRepr_1, VAL *out__3) {
	STR* v4;
	STRLIT(v4, "VTUP(", 5);
	STR* v5;
	STRLIT(v5, ")", 1);
	*out__3 = MKSTR(v5);
	return MKSTR(v4);
}
static STR* mw_mirth_c99_C99DataStructRepr_mkZ_macro (STR* in_Str_1, uint64_t in_C99DataStructRepr_2) {
	STR* v4 = mw_std_prim_Str_Str_1_sp22(in_Str_1);
	return v4;
}
static STR* mw_mirth_c99_C99DataStructRepr_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, uint64_t in_C99DataStructRepr_3, PTUP *out_ZPlusMirth_4) {
	decref(in_z_x1_2);
	PTUP v6;
	STR* v7 = mw_mirth_data_Tag_valueZ_show(in_ZPlusMirth_1, value_u64(MKU64(in_C99DataStructRepr_3)), &v6);
	STR* v8;
	STRLIT(v8, "LL", 2);
	STR* v9 = str_cat(v7, v8);
	*out_ZPlusMirth_4 = v6;
	return v9;
}
static bool mw_mirth_c99_C99DataSumRepr_needsZ_refcountingZAsk (uint64_t in_C99DataSumRepr_1) {
	bool v3 = true;
	return v3;
}
static STR* mw_mirth_c99_C99DataSumRepr_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, uint64_t in_C99DataSumRepr_2, PTUP *out_ZPlusMirth_3) {
	STR* v5;
	STRLIT(v5, "PTUP", 4);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v5;
}
static VAL mw_mirth_c99_C99DataSumRepr_vZ_macroZ_prefixZ_suffix (uint64_t in_C99DataSumRepr_1, VAL *out__3) {
	STR* v4;
	STRLIT(v4, "VTUP(", 5);
	STR* v5;
	STRLIT(v5, ")", 1);
	*out__3 = MKSTR(v5);
	return MKSTR(v4);
}
static STR* mw_mirth_c99_C99DataSumRepr_mkZ_macro (STR* in_Str_1, uint64_t in_C99DataSumRepr_2) {
	STR* v4 = mw_std_prim_Str_Str_1_sp22(in_Str_1);
	return v4;
}
static STR* mw_mirth_c99_C99DataSumRepr_getZ_dataZ_tag (STR* in_Str_1, uint64_t in_C99DataSumRepr_2) {
	STR* v4;
	STRLIT(v4, "", 0);
	STR* v5;
	STRLIT(v5, "PTREXTRA(", 9);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(v5, v4, &v6);
	STR* v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v6, &v7);
	STR* v8;
	STRLIT(v8, ")", 1);
	STR* v9;
	mw_std_str_ZPlusStr_pushZ_strZBang(v8, v7, &v9);
	return v9;
}
static PTUP mw_mirth_type_StackTypePart_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_StackTypePart_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_C99ReprType_6;
	switch (PTREXTRA(in_StackTypePart_2)) {
		case 0LL: { // Cons
			PTUP v7 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_2);
			PTUP v8;
			PTUP v9 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, v7, &v8);
			branch_C99ReprType_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v10;
			PTUP v11 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_2, &v10);
			PTUP v12;
			PTUP v13 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, v11, &v12);
			branch_C99ReprType_6 = v13;
			branch_ZPlusMirth_5 = v12;
		} break;
		case 2LL: { // With
			PTUP v14 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_2);
			PTUP v15;
			PTUP v16 = mw_mirth_type_Resource_c99Z_repr(in_ZPlusMirth_1, v14, &v15);
			branch_C99ReprType_6 = v16;
			branch_ZPlusMirth_5 = v15;
		} break;
		case 3LL: { // WithLabel
			uint64_t v17;
			PTUP v18 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_2, &v17);
			PTUP v19;
			PTUP v20 = mw_mirth_type_Resource_c99Z_repr(in_ZPlusMirth_1, v18, &v19);
			branch_C99ReprType_6 = v20;
			branch_ZPlusMirth_5 = v19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_C99ReprType_6;
}
static PTUP mw_mirth_data_Data_c99Z_repr (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_c99Z_repr, in_Data_2);
	bool v6 = mut_is_set(v5);
	PTUP branch_ZPlusMirth_7;
	PTUP branch_C99DataRepr_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_C99DataRepr_8 = VTUP(v9);
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		PTUP v10;
		PTUP v11 = mw_mirth_data_Data_unitZAsk(in_ZPlusMirth_1, in_Data_2, &v10);
		PTUP branch_ZPlusMirth_12;
		uint64_t branch_Data_13;
		PTUP branch_C99DataRepr_14;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Some
				VAL v15 = mtp_std_maybe_Maybe_1_Some(v11);
				PTUP v16 = mtw_mirth_c99_C99DataRepr_Unit(value_u64(v15));
				branch_C99DataRepr_14 = v16;
				branch_Data_13 = in_Data_2;
				branch_ZPlusMirth_12 = v10;
			} break;
			case 0LL: { // None
				PTUP v17;
				bool v18 = mw_mirth_data_Data_isZ_enumZAsk(v10, in_Data_2, &v17);
				PTUP branch_ZPlusMirth_19;
				uint64_t branch_Data_20;
				PTUP branch_C99DataRepr_21;
				if (v18) {
					PTUP v22 = mtw_mirth_c99_C99DataRepr_Enum(in_Data_2);
					branch_C99DataRepr_21 = v22;
					branch_Data_20 = in_Data_2;
					branch_ZPlusMirth_19 = v17;
				} else {
					PTUP v23;
					PTUP v24 = mw_mirth_data_Data_semiZ_transparentZAsk(v17, in_Data_2, &v23);
					uint64_t branch_Data_25;
					PTUP branch_ZPlusMirth_26;
					PTUP branch_C99DataRepr_27;
					switch (PTREXTRA(v24)) {
						case 1LL: { // Some
							VAL v28 = mtp_std_maybe_Maybe_1_Some(v24);
							uint64_t v29;
							PTUP v30;
							mtp_mirth_data_SemiTransparentData_SemiTransparentData(VTUP(v28), &v29, &v30);
							incref(MKTUP(v30));
							PTUP v31 = mw_mirth_type_StackTypePart_typeZDivresource(v30);
							PTUP branch_ZPlusMirth_32;
							PTUP branch_C99ReprType_33;
							switch (PTREXTRA(v31)) {
								case 0LL: { // Left
									VAL v34 = mtp_std_either_Either_2_Left(v31);
									PTUP v35;
									PTUP v36 = mw_mirth_type_Type_c99Z_repr(v23, VTUP(v34), &v35);
									branch_C99ReprType_33 = v36;
									branch_ZPlusMirth_32 = v35;
								} break;
								case 1LL: { // Right
									VAL v37 = mtp_std_either_Either_2_Right(v31);
									PTUP v38;
									PTUP v39 = mw_mirth_type_Resource_c99Z_repr(v23, VTUP(v37), &v38);
									branch_C99ReprType_33 = v39;
									branch_ZPlusMirth_32 = v38;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							PTUP v40 = mtw_mirth_c99_C99DataFieldRepr_C99DataFieldRepr(v29, v30, branch_C99ReprType_33);
							PTUP v41 = mtw_mirth_c99_C99DataRepr_Field(v40);
							branch_C99DataRepr_27 = v41;
							branch_ZPlusMirth_26 = branch_ZPlusMirth_32;
							branch_Data_25 = in_Data_2;
						} break;
						case 0LL: { // None
							PTUP v42;
							PTUP v43 = mw_mirth_data_Data_singleZ_tagZAsk(v23, in_Data_2, &v42);
							uint64_t branch_Data_44;
							PTUP branch_C99DataRepr_45;
							switch (PTREXTRA(v43)) {
								case 1LL: { // Some
									VAL v46 = mtp_std_maybe_Maybe_1_Some(v43);
									PTUP v47 = mtw_mirth_c99_C99DataRepr_Struct(value_u64(v46));
									branch_C99DataRepr_45 = v47;
									branch_Data_44 = in_Data_2;
								} break;
								case 0LL: { // None
									PTUP v48 = mtw_mirth_c99_C99DataRepr_Sum(in_Data_2);
									branch_C99DataRepr_45 = v48;
									branch_Data_44 = in_Data_2;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							branch_C99DataRepr_27 = branch_C99DataRepr_45;
							branch_ZPlusMirth_26 = v42;
							branch_Data_25 = branch_Data_44;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_C99DataRepr_21 = branch_C99DataRepr_27;
					branch_Data_20 = branch_Data_25;
					branch_ZPlusMirth_19 = branch_ZPlusMirth_26;
				}
				branch_C99DataRepr_14 = branch_C99DataRepr_21;
				branch_Data_13 = branch_Data_20;
				branch_ZPlusMirth_12 = branch_ZPlusMirth_19;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKTUP(branch_C99DataRepr_14));
		mut_set(MKTUP(branch_C99DataRepr_14), v5);
		branch_C99DataRepr_8 = branch_C99DataRepr_14;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_C99DataRepr_8;
}
static bool mw_mirth_c99_C99ReprType_ZEqual (PTUP in_C99ReprType_1, PTUP in_C99ReprType_2) {
	bool branch_Bool_4;
	switch (PTREXTRA(in_C99ReprType_2)) {
		case 0LL: { // Void
			bool branch_Bool_5;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 0LL: { // Void
					bool v6 = true;
					branch_Bool_5 = v6;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v7 = false;
					branch_Bool_5 = v7;
				} break;
			}
			branch_Bool_4 = branch_Bool_5;
		} break;
		case 1LL: { // VAL
			bool branch_Bool_8;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 1LL: { // VAL
					bool v9 = true;
					branch_Bool_8 = v9;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v10 = false;
					branch_Bool_8 = v10;
				} break;
			}
			branch_Bool_4 = branch_Bool_8;
		} break;
		case 2LL: { // STR
			bool branch_Bool_11;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 2LL: { // STR
					bool v12 = true;
					branch_Bool_11 = v12;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v13 = false;
					branch_Bool_11 = v13;
				} break;
			}
			branch_Bool_4 = branch_Bool_11;
		} break;
		case 3LL: { // ARR
			bool branch_Bool_14;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 3LL: { // ARR
					bool v15 = true;
					branch_Bool_14 = v15;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v16 = false;
					branch_Bool_14 = v16;
				} break;
			}
			branch_Bool_4 = branch_Bool_14;
		} break;
		case 4LL: { // TUP
			bool branch_Bool_17;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 4LL: { // TUP
					bool v18 = true;
					branch_Bool_17 = v18;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v19 = false;
					branch_Bool_17 = v19;
				} break;
			}
			branch_Bool_4 = branch_Bool_17;
		} break;
		case 5LL: { // Int
			bool branch_Bool_20;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 5LL: { // Int
					bool v21 = true;
					branch_Bool_20 = v21;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v22 = false;
					branch_Bool_20 = v22;
				} break;
			}
			branch_Bool_4 = branch_Bool_20;
		} break;
		case 6LL: { // Nat
			bool branch_Bool_23;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 6LL: { // Nat
					bool v24 = true;
					branch_Bool_23 = v24;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v25 = false;
					branch_Bool_23 = v25;
				} break;
			}
			branch_Bool_4 = branch_Bool_23;
		} break;
		case 7LL: { // I64
			bool branch_Bool_26;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 7LL: { // I64
					bool v27 = true;
					branch_Bool_26 = v27;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v28 = false;
					branch_Bool_26 = v28;
				} break;
			}
			branch_Bool_4 = branch_Bool_26;
		} break;
		case 8LL: { // I32
			bool branch_Bool_29;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 8LL: { // I32
					bool v30 = true;
					branch_Bool_29 = v30;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v31 = false;
					branch_Bool_29 = v31;
				} break;
			}
			branch_Bool_4 = branch_Bool_29;
		} break;
		case 9LL: { // I16
			bool branch_Bool_32;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 9LL: { // I16
					bool v33 = true;
					branch_Bool_32 = v33;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v34 = false;
					branch_Bool_32 = v34;
				} break;
			}
			branch_Bool_4 = branch_Bool_32;
		} break;
		case 10LL: { // I8
			bool branch_Bool_35;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 10LL: { // I8
					bool v36 = true;
					branch_Bool_35 = v36;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v37 = false;
					branch_Bool_35 = v37;
				} break;
			}
			branch_Bool_4 = branch_Bool_35;
		} break;
		case 11LL: { // U64
			bool branch_Bool_38;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 11LL: { // U64
					bool v39 = true;
					branch_Bool_38 = v39;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v40 = false;
					branch_Bool_38 = v40;
				} break;
			}
			branch_Bool_4 = branch_Bool_38;
		} break;
		case 12LL: { // U32
			bool branch_Bool_41;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 12LL: { // U32
					bool v42 = true;
					branch_Bool_41 = v42;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v43 = false;
					branch_Bool_41 = v43;
				} break;
			}
			branch_Bool_4 = branch_Bool_41;
		} break;
		case 13LL: { // U16
			bool branch_Bool_44;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 13LL: { // U16
					bool v45 = true;
					branch_Bool_44 = v45;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v46 = false;
					branch_Bool_44 = v46;
				} break;
			}
			branch_Bool_4 = branch_Bool_44;
		} break;
		case 14LL: { // U8
			bool branch_Bool_47;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 14LL: { // U8
					bool v48 = true;
					branch_Bool_47 = v48;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v49 = false;
					branch_Bool_47 = v49;
				} break;
			}
			branch_Bool_4 = branch_Bool_47;
		} break;
		case 15LL: { // F64
			bool branch_Bool_50;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 15LL: { // F64
					bool v51 = true;
					branch_Bool_50 = v51;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v52 = false;
					branch_Bool_50 = v52;
				} break;
			}
			branch_Bool_4 = branch_Bool_50;
		} break;
		case 16LL: { // F32
			bool branch_Bool_53;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 16LL: { // F32
					bool v54 = true;
					branch_Bool_53 = v54;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v55 = false;
					branch_Bool_53 = v55;
				} break;
			}
			branch_Bool_4 = branch_Bool_53;
		} break;
		case 17LL: { // Bool
			bool branch_Bool_56;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 17LL: { // Bool
					bool v57 = true;
					branch_Bool_56 = v57;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v58 = false;
					branch_Bool_56 = v58;
				} break;
			}
			branch_Bool_4 = branch_Bool_56;
		} break;
		case 18LL: { // PTR
			bool branch_Bool_59;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 18LL: { // PTR
					bool v60 = true;
					branch_Bool_59 = v60;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v61 = false;
					branch_Bool_59 = v61;
				} break;
			}
			branch_Bool_4 = branch_Bool_59;
		} break;
		case 19LL: { // FNPTR
			bool branch_Bool_62;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 19LL: { // FNPTR
					bool v63 = true;
					branch_Bool_62 = v63;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					bool v64 = false;
					branch_Bool_62 = v64;
				} break;
			}
			branch_Bool_4 = branch_Bool_62;
		} break;
		case 20LL: { // Table
			uint64_t v65 = mtp_mirth_c99_C99ReprType_Table(in_C99ReprType_2);
			bool branch_Bool_66;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 20LL: { // Table
					uint64_t v67 = mtp_mirth_c99_C99ReprType_Table(in_C99ReprType_1);
					bool v68 = (v65 == v67);
					branch_Bool_66 = v68;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					decref(MKU64(v65));
					bool v69 = false;
					branch_Bool_66 = v69;
				} break;
			}
			branch_Bool_4 = branch_Bool_66;
		} break;
		case 21LL: { // Data
			uint64_t v70 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_2);
			bool branch_Bool_71;
			switch (PTREXTRA(in_C99ReprType_1)) {
				case 21LL: { // Data
					uint64_t v72 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_1);
					bool v73 = (v70 == v72);
					branch_Bool_71 = v73;
				} break;
				default: {
					decref(MKTUP(in_C99ReprType_1));
					decref(MKU64(v70));
					bool v74 = false;
					branch_Bool_71 = v74;
				} break;
			}
			branch_Bool_4 = branch_Bool_71;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static bool mw_mirth_c99_C99ReprType_isZ_unitZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_C99ReprType_2)) {
		case 0LL: { // Void
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // Data
			uint64_t v8 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_2);
			PTUP v9;
			bool v10 = mw_mirth_data_Data_isZ_unitZAsk(in_ZPlusMirth_1, v8, &v9);
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		default: {
			decref(MKTUP(in_C99ReprType_2));
			bool v11 = false;
			branch_Bool_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_c99_C99ReprType_isZ_physicalZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	bool v6 = mw_mirth_c99_C99ReprType_isZ_unitZAsk(in_ZPlusMirth_1, in_C99ReprType_2, &v5);
	bool v7 = !v6;
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_C99ReprType_2)) {
		case 1LL: { // VAL
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // STR
			bool v8 = true;
			branch_Bool_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // ARR
			bool v9 = true;
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // TUP
			bool v10 = true;
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Int
			bool v11 = true;
			branch_Bool_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Nat
			bool v12 = true;
			branch_Bool_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // Table
			uint64_t v13 = mtp_mirth_c99_C99ReprType_Table(in_C99ReprType_2);
			bool v14 = false;
			branch_Bool_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // Data
			uint64_t v15 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_2);
			PTUP v16;
			PTUP v17 = mw_mirth_data_Data_c99Z_repr(in_ZPlusMirth_1, v15, &v16);
			PTUP v18;
			bool v19 = mw_mirth_c99_C99DataRepr_needZ_refcountingZAsk(v16, v17, &v18);
			branch_Bool_6 = v19;
			branch_ZPlusMirth_5 = v18;
		} break;
		case 0LL: { // Void
			bool v20 = false;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // I64
			bool v21 = false;
			branch_Bool_6 = v21;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // I32
			bool v22 = false;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // I16
			bool v23 = false;
			branch_Bool_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // I8
			bool v24 = false;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // U64
			bool v25 = false;
			branch_Bool_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // U32
			bool v26 = false;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // U16
			bool v27 = false;
			branch_Bool_6 = v27;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // U8
			bool v28 = false;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // F64
			bool v29 = false;
			branch_Bool_6 = v29;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // F32
			bool v30 = false;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // Bool
			bool v31 = false;
			branch_Bool_6 = v31;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // PTR
			bool v32 = false;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // FNPTR
			bool v33 = false;
			branch_Bool_6 = v33;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk (PTUP in_C99ReprType_1) {
	bool branch_Bool_3;
	switch (PTREXTRA(in_C99ReprType_1)) {
		case 7LL: { // I64
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		case 8LL: { // I32
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 9LL: { // I16
			bool v6 = true;
			branch_Bool_3 = v6;
		} break;
		case 10LL: { // I8
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 11LL: { // U64
			bool v8 = true;
			branch_Bool_3 = v8;
		} break;
		case 12LL: { // U32
			bool v9 = true;
			branch_Bool_3 = v9;
		} break;
		case 13LL: { // U16
			bool v10 = true;
			branch_Bool_3 = v10;
		} break;
		case 14LL: { // U8
			bool v11 = true;
			branch_Bool_3 = v11;
		} break;
		case 17LL: { // Bool
			bool v12 = true;
			branch_Bool_3 = v12;
		} break;
		default: {
			decref(MKTUP(in_C99ReprType_1));
			bool v13 = false;
			branch_Bool_3 = v13;
		} break;
	}
	return branch_Bool_3;
}
static STR* mw_mirth_c99_C99ReprType_getZ_dataZ_tag (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	switch (PTREXTRA(in_C99ReprType_3)) {
		case 7LL: { // I64
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // I32
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // I16
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // I8
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // U64
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // U32
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // U16
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // U8
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // Bool
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // Data
			uint64_t v8 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_3);
			PTUP v9;
			PTUP v10 = mw_mirth_data_Data_c99Z_repr(in_ZPlusMirth_1, v8, &v9);
			PTUP v11;
			STR* v12 = mw_mirth_c99_C99DataRepr_getZ_dataZ_tag(v9, in_Str_2, v10, &v11);
			branch_Str_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 6LL: { // Nat
			STR* v13;
			STRLIT(v13, "get-data-tag on Nat", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v13);
		} break;
		case 5LL: { // Int
			STR* v15;
			STRLIT(v15, "get-data-tag on Int", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v15);
		} break;
		case 20LL: { // Table
			uint64_t v17 = mtp_mirth_c99_C99ReprType_Table(in_C99ReprType_3);
			STR* v18;
			STRLIT(v18, "get-data-tag on Table", 21);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v18);
		} break;
		case 0LL: { // Void
			STR* v20;
			STRLIT(v20, "get-data-tag on Void", 20);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v20);
		} break;
		case 1LL: { // VAL
			STR* v22;
			STRLIT(v22, "get-data-tag on VAL", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v22);
		} break;
		case 2LL: { // STR
			STR* v24;
			STRLIT(v24, "get-data-tag on STR", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v24);
		} break;
		case 3LL: { // ARR
			STR* v26;
			STRLIT(v26, "get-data-tag on ARR", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v26);
		} break;
		case 4LL: { // TUP
			STR* v28;
			STRLIT(v28, "get-data-tag on TUP", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v28);
		} break;
		case 18LL: { // PTR
			STR* v30;
			STRLIT(v30, "get-data-tag on PTR", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v30);
		} break;
		case 19LL: { // FNPTR
			STR* v32;
			STRLIT(v32, "get-data-tag on FNPTR", 21);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v32);
		} break;
		case 15LL: { // F64
			STR* v34;
			STRLIT(v34, "get-data-tag on F64", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v34);
		} break;
		case 16LL: { // F32
			STR* v36;
			STRLIT(v36, "get-data-tag on F32", 19);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v36);
		} break;
		default: {
			STR* v38;
			STRLIT(v38, "get-data-tag on unknown repr", 28);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v38);
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static STR* mw_mirth_c99_C99ReprType_dummyZ_value (PTUP in_C99ReprType_1) {
	STR* branch_Str_3;
	switch (PTREXTRA(in_C99ReprType_1)) {
		case 1LL: { // VAL
			STR* v4;
			STRLIT(v4, "(VAL){0}", 8);
			branch_Str_3 = v4;
		} break;
		case 2LL: { // STR
			STR* v5;
			STRLIT(v5, "NULL", 4);
			branch_Str_3 = v5;
		} break;
		case 3LL: { // ARR
			STR* v6;
			STRLIT(v6, "NULL", 4);
			branch_Str_3 = v6;
		} break;
		case 0LL: { // Void
			STR* v7;
			STRLIT(v7, "0", 1);
			branch_Str_3 = v7;
		} break;
		case 5LL: { // Int
			STR* v8;
			STRLIT(v8, "WRAP_I63(0)", 11);
			branch_Str_3 = v8;
		} break;
		case 6LL: { // Nat
			STR* v9;
			STRLIT(v9, "WRAP_I63(0)", 11);
			branch_Str_3 = v9;
		} break;
		case 7LL: { // I64
			STR* v10;
			STRLIT(v10, "0", 1);
			branch_Str_3 = v10;
		} break;
		case 8LL: { // I32
			STR* v11;
			STRLIT(v11, "0", 1);
			branch_Str_3 = v11;
		} break;
		case 9LL: { // I16
			STR* v12;
			STRLIT(v12, "0", 1);
			branch_Str_3 = v12;
		} break;
		case 10LL: { // I8
			STR* v13;
			STRLIT(v13, "0", 1);
			branch_Str_3 = v13;
		} break;
		case 11LL: { // U64
			STR* v14;
			STRLIT(v14, "0", 1);
			branch_Str_3 = v14;
		} break;
		case 12LL: { // U32
			STR* v15;
			STRLIT(v15, "0", 1);
			branch_Str_3 = v15;
		} break;
		case 13LL: { // U16
			STR* v16;
			STRLIT(v16, "0", 1);
			branch_Str_3 = v16;
		} break;
		case 14LL: { // U8
			STR* v17;
			STRLIT(v17, "0", 1);
			branch_Str_3 = v17;
		} break;
		case 15LL: { // F64
			STR* v18;
			STRLIT(v18, "0.0", 3);
			branch_Str_3 = v18;
		} break;
		case 16LL: { // F32
			STR* v19;
			STRLIT(v19, "0.0", 3);
			branch_Str_3 = v19;
		} break;
		case 17LL: { // Bool
			STR* v20;
			STRLIT(v20, "0", 1);
			branch_Str_3 = v20;
		} break;
		case 18LL: { // PTR
			STR* v21;
			STRLIT(v21, "NULL", 4);
			branch_Str_3 = v21;
		} break;
		case 19LL: { // FNPTR
			STR* v22;
			STRLIT(v22, "NULL", 4);
			branch_Str_3 = v22;
		} break;
		case 4LL: { // TUP
			STR* v23;
			STRLIT(v23, "NULL", 4);
			branch_Str_3 = v23;
		} break;
		case 20LL: { // Table
			uint64_t v24 = mtp_mirth_c99_C99ReprType_Table(in_C99ReprType_1);
			STR* v25;
			STRLIT(v25, "0", 1);
			branch_Str_3 = v25;
		} break;
		case 21LL: { // Data
			uint64_t v26 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_1);
			STR* v27;
			STRLIT(v27, "0", 1);
			branch_Str_3 = v27;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static STR* mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	STR* branch_Str_6;
	switch (PTREXTRA(in_C99ReprType_2)) {
		case 0LL: { // Void
			STR* v7;
			STRLIT(v7, "void", 4);
			branch_Str_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // VAL
			STR* v8;
			STRLIT(v8, "VAL", 3);
			branch_Str_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // STR
			STR* v9;
			STRLIT(v9, "STR*", 4);
			branch_Str_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // ARR
			STR* v10;
			STRLIT(v10, "ARR*", 4);
			branch_Str_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Int
			STR* v11;
			STRLIT(v11, "INT", 3);
			branch_Str_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Nat
			STR* v12;
			STRLIT(v12, "INT", 3);
			branch_Str_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // I64
			STR* v13;
			STRLIT(v13, "int64_t", 7);
			branch_Str_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // I32
			STR* v14;
			STRLIT(v14, "int32_t", 7);
			branch_Str_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // I16
			STR* v15;
			STRLIT(v15, "int16_t", 7);
			branch_Str_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // I8
			STR* v16;
			STRLIT(v16, "int8_t", 6);
			branch_Str_6 = v16;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // U64
			STR* v17;
			STRLIT(v17, "uint64_t", 8);
			branch_Str_6 = v17;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // U32
			STR* v18;
			STRLIT(v18, "uint32_t", 8);
			branch_Str_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // U16
			STR* v19;
			STRLIT(v19, "uint16_t", 8);
			branch_Str_6 = v19;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // U8
			STR* v20;
			STRLIT(v20, "uint8_t", 7);
			branch_Str_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // F64
			STR* v21;
			STRLIT(v21, "double", 6);
			branch_Str_6 = v21;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // F32
			STR* v22;
			STRLIT(v22, "float", 5);
			branch_Str_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // Bool
			STR* v23;
			STRLIT(v23, "bool", 4);
			branch_Str_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // PTR
			STR* v24;
			STRLIT(v24, "void*", 5);
			branch_Str_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // FNPTR
			STR* v25;
			STRLIT(v25, "FNPTR", 5);
			branch_Str_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // TUP
			STR* v26;
			STRLIT(v26, "PTUP", 4);
			branch_Str_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // Table
			uint64_t v27 = mtp_mirth_c99_C99ReprType_Table(in_C99ReprType_2);
			STR* v28;
			STRLIT(v28, "uint64_t", 8);
			branch_Str_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // Data
			uint64_t v29 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_2);
			PTUP v30;
			PTUP v31 = mw_mirth_data_Data_c99Z_repr(in_ZPlusMirth_1, v29, &v30);
			PTUP v32;
			STR* v33 = mw_mirth_c99_C99DataRepr_underlyingZ_c99Z_type(v30, v31, &v32);
			branch_Str_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Str_6;
}
static STR* mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP *out_ZPlusMirth_3, STR* *out_Str_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	STR* branch_Str_8;
	switch (PTREXTRA(in_C99ReprType_2)) {
		case 1LL: { // VAL
			STR* v9;
			STRLIT(v9, "", 0);
			STR* v10;
			STRLIT(v10, "", 0);
			branch_Str_8 = v10;
			branch_Str_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // STR
			STR* v11;
			STRLIT(v11, "value_str(", 10);
			STR* v12;
			STRLIT(v12, ")", 1);
			branch_Str_8 = v12;
			branch_Str_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Int
			STR* v13;
			STRLIT(v13, "value_int(", 10);
			STR* v14;
			STRLIT(v14, ")", 1);
			branch_Str_8 = v14;
			branch_Str_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Nat
			STR* v15;
			STRLIT(v15, "value_nat(", 10);
			STR* v16;
			STRLIT(v16, ")", 1);
			branch_Str_8 = v16;
			branch_Str_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Void
			STR* v17;
			STRLIT(v17, "(", 1);
			STR* v18;
			STRLIT(v18, ", 0)", 4);
			branch_Str_8 = v18;
			branch_Str_7 = v17;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // I64
			STR* v19;
			STRLIT(v19, "value_i64(", 10);
			STR* v20;
			STRLIT(v20, ")", 1);
			branch_Str_8 = v20;
			branch_Str_7 = v19;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // I32
			STR* v21;
			STRLIT(v21, "value_i32(", 10);
			STR* v22;
			STRLIT(v22, ")", 1);
			branch_Str_8 = v22;
			branch_Str_7 = v21;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // I16
			STR* v23;
			STRLIT(v23, "value_i16(", 10);
			STR* v24;
			STRLIT(v24, ")", 1);
			branch_Str_8 = v24;
			branch_Str_7 = v23;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // I8
			STR* v25;
			STRLIT(v25, "value_i8(", 9);
			STR* v26;
			STRLIT(v26, ")", 1);
			branch_Str_8 = v26;
			branch_Str_7 = v25;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // U64
			STR* v27;
			STRLIT(v27, "value_u64(", 10);
			STR* v28;
			STRLIT(v28, ")", 1);
			branch_Str_8 = v28;
			branch_Str_7 = v27;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // U32
			STR* v29;
			STRLIT(v29, "value_u32(", 10);
			STR* v30;
			STRLIT(v30, ")", 1);
			branch_Str_8 = v30;
			branch_Str_7 = v29;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // U16
			STR* v31;
			STRLIT(v31, "value_u16(", 10);
			STR* v32;
			STRLIT(v32, ")", 1);
			branch_Str_8 = v32;
			branch_Str_7 = v31;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // U8
			STR* v33;
			STRLIT(v33, "value_u8(", 9);
			STR* v34;
			STRLIT(v34, ")", 1);
			branch_Str_8 = v34;
			branch_Str_7 = v33;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // F64
			STR* v35;
			STRLIT(v35, "value_f64(", 10);
			STR* v36;
			STRLIT(v36, ")", 1);
			branch_Str_8 = v36;
			branch_Str_7 = v35;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // F32
			STR* v37;
			STRLIT(v37, "value_f32(", 10);
			STR* v38;
			STRLIT(v38, ")", 1);
			branch_Str_8 = v38;
			branch_Str_7 = v37;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // Bool
			STR* v39;
			STRLIT(v39, "value_bool(", 11);
			STR* v40;
			STRLIT(v40, ")", 1);
			branch_Str_8 = v40;
			branch_Str_7 = v39;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // PTR
			STR* v41;
			STRLIT(v41, "value_ptr(", 10);
			STR* v42;
			STRLIT(v42, ")", 1);
			branch_Str_8 = v42;
			branch_Str_7 = v41;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // FNPTR
			STR* v43;
			STRLIT(v43, "value_fnptr(", 12);
			STR* v44;
			STRLIT(v44, ")", 1);
			branch_Str_8 = v44;
			branch_Str_7 = v43;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // ARR
			STR* v45;
			STRLIT(v45, "value_arr(", 10);
			STR* v46;
			STRLIT(v46, ")", 1);
			branch_Str_8 = v46;
			branch_Str_7 = v45;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // TUP
			STR* v47;
			STRLIT(v47, "value_tup(", 10);
			STR* v48;
			STRLIT(v48, ")", 1);
			branch_Str_8 = v48;
			branch_Str_7 = v47;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // Table
			uint64_t v49 = mtp_mirth_c99_C99ReprType_Table(in_C99ReprType_2);
			STR* v50;
			STRLIT(v50, "value_u64(", 10);
			STR* v51;
			STRLIT(v51, ")", 1);
			branch_Str_8 = v51;
			branch_Str_7 = v50;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // Data
			uint64_t v52 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_2);
			PTUP v53;
			PTUP v54 = mw_mirth_data_Data_c99Z_repr(in_ZPlusMirth_1, v52, &v53);
			PTUP v55;
			STR* v56;
			STR* v57 = mw_mirth_c99_C99DataRepr_vZ_macroZ_prefixZ_suffix(v53, v54, &v55, &v56);
			branch_Str_8 = v56;
			branch_Str_7 = v57;
			branch_ZPlusMirth_6 = v55;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Str_5 = branch_Str_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static STR* mw_mirth_c99_C99ReprType_mkZ_macro (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	switch (PTREXTRA(in_C99ReprType_3)) {
		case 1LL: { // VAL
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // STR
			STR* v8;
			STRLIT(v8, "", 0);
			STR* v9;
			STRLIT(v9, "MKSTR(", 6);
			STR* v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(v9, v8, &v10);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v10, &v11);
			STR* v12;
			STRLIT(v12, ")", 1);
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			branch_Str_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Int
			STR* v14;
			STRLIT(v14, "", 0);
			STR* v15;
			STRLIT(v15, "MKINT(", 6);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
			STR* v17;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v16, &v17);
			STR* v18;
			STRLIT(v18, ")", 1);
			STR* v19;
			mw_std_str_ZPlusStr_pushZ_strZBang(v18, v17, &v19);
			branch_Str_7 = v19;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Nat
			STR* v20;
			STRLIT(v20, "", 0);
			STR* v21;
			STRLIT(v21, "MKNAT(", 6);
			STR* v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v22);
			STR* v23;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v22, &v23);
			STR* v24;
			STRLIT(v24, ")", 1);
			STR* v25;
			mw_std_str_ZPlusStr_pushZ_strZBang(v24, v23, &v25);
			branch_Str_7 = v25;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Void
			STR* v26 = mw_std_prim_Str_Str_1_sp8(in_Str_2);
			branch_Str_7 = v26;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // I64
			STR* v27 = mw_std_prim_Str_Str_1_sp8(in_Str_2);
			branch_Str_7 = v27;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // I32
			STR* v28;
			STRLIT(v28, "", 0);
			STR* v29;
			STRLIT(v29, "MKI32(", 6);
			STR* v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, v28, &v30);
			STR* v31;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v30, &v31);
			STR* v32;
			STRLIT(v32, ")", 1);
			STR* v33;
			mw_std_str_ZPlusStr_pushZ_strZBang(v32, v31, &v33);
			branch_Str_7 = v33;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // I16
			STR* v34;
			STRLIT(v34, "", 0);
			STR* v35;
			STRLIT(v35, "MKI16(", 6);
			STR* v36;
			mw_std_str_ZPlusStr_pushZ_strZBang(v35, v34, &v36);
			STR* v37;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v36, &v37);
			STR* v38;
			STRLIT(v38, ")", 1);
			STR* v39;
			mw_std_str_ZPlusStr_pushZ_strZBang(v38, v37, &v39);
			branch_Str_7 = v39;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // I8
			STR* v40;
			STRLIT(v40, "", 0);
			STR* v41;
			STRLIT(v41, "MKI8(", 5);
			STR* v42;
			mw_std_str_ZPlusStr_pushZ_strZBang(v41, v40, &v42);
			STR* v43;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v42, &v43);
			STR* v44;
			STRLIT(v44, ")", 1);
			STR* v45;
			mw_std_str_ZPlusStr_pushZ_strZBang(v44, v43, &v45);
			branch_Str_7 = v45;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // U64
			STR* v46 = mw_std_prim_Str_Str_1_sp12(in_Str_2);
			branch_Str_7 = v46;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // U32
			STR* v47;
			STRLIT(v47, "", 0);
			STR* v48;
			STRLIT(v48, "MKU32(", 6);
			STR* v49;
			mw_std_str_ZPlusStr_pushZ_strZBang(v48, v47, &v49);
			STR* v50;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v49, &v50);
			STR* v51;
			STRLIT(v51, ")", 1);
			STR* v52;
			mw_std_str_ZPlusStr_pushZ_strZBang(v51, v50, &v52);
			branch_Str_7 = v52;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // U16
			STR* v53;
			STRLIT(v53, "", 0);
			STR* v54;
			STRLIT(v54, "MKU16(", 6);
			STR* v55;
			mw_std_str_ZPlusStr_pushZ_strZBang(v54, v53, &v55);
			STR* v56;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v55, &v56);
			STR* v57;
			STRLIT(v57, ")", 1);
			STR* v58;
			mw_std_str_ZPlusStr_pushZ_strZBang(v57, v56, &v58);
			branch_Str_7 = v58;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // U8
			STR* v59;
			STRLIT(v59, "", 0);
			STR* v60;
			STRLIT(v60, "MKU8(", 5);
			STR* v61;
			mw_std_str_ZPlusStr_pushZ_strZBang(v60, v59, &v61);
			STR* v62;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v61, &v62);
			STR* v63;
			STRLIT(v63, ")", 1);
			STR* v64;
			mw_std_str_ZPlusStr_pushZ_strZBang(v63, v62, &v64);
			branch_Str_7 = v64;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // F64
			STR* v65;
			STRLIT(v65, "", 0);
			STR* v66;
			STRLIT(v66, "MKF64(", 6);
			STR* v67;
			mw_std_str_ZPlusStr_pushZ_strZBang(v66, v65, &v67);
			STR* v68;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v67, &v68);
			STR* v69;
			STRLIT(v69, ")", 1);
			STR* v70;
			mw_std_str_ZPlusStr_pushZ_strZBang(v69, v68, &v70);
			branch_Str_7 = v70;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // F32
			STR* v71;
			STRLIT(v71, "", 0);
			STR* v72;
			STRLIT(v72, "MKF32(", 6);
			STR* v73;
			mw_std_str_ZPlusStr_pushZ_strZBang(v72, v71, &v73);
			STR* v74;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v73, &v74);
			STR* v75;
			STRLIT(v75, ")", 1);
			STR* v76;
			mw_std_str_ZPlusStr_pushZ_strZBang(v75, v74, &v76);
			branch_Str_7 = v76;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // Bool
			STR* v77;
			STRLIT(v77, "", 0);
			STR* v78;
			STRLIT(v78, "MKBOOL(", 7);
			STR* v79;
			mw_std_str_ZPlusStr_pushZ_strZBang(v78, v77, &v79);
			STR* v80;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v79, &v80);
			STR* v81;
			STRLIT(v81, ")", 1);
			STR* v82;
			mw_std_str_ZPlusStr_pushZ_strZBang(v81, v80, &v82);
			branch_Str_7 = v82;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // PTR
			STR* v83;
			STRLIT(v83, "", 0);
			STR* v84;
			STRLIT(v84, "MKPTR(", 6);
			STR* v85;
			mw_std_str_ZPlusStr_pushZ_strZBang(v84, v83, &v85);
			STR* v86;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v85, &v86);
			STR* v87;
			STRLIT(v87, ")", 1);
			STR* v88;
			mw_std_str_ZPlusStr_pushZ_strZBang(v87, v86, &v88);
			branch_Str_7 = v88;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // FNPTR
			STR* v89;
			STRLIT(v89, "", 0);
			STR* v90;
			STRLIT(v90, "MKFNPTR(", 8);
			STR* v91;
			mw_std_str_ZPlusStr_pushZ_strZBang(v90, v89, &v91);
			STR* v92;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v91, &v92);
			STR* v93;
			STRLIT(v93, ")", 1);
			STR* v94;
			mw_std_str_ZPlusStr_pushZ_strZBang(v93, v92, &v94);
			branch_Str_7 = v94;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // ARR
			STR* v95;
			STRLIT(v95, "", 0);
			STR* v96;
			STRLIT(v96, "MKARR(", 6);
			STR* v97;
			mw_std_str_ZPlusStr_pushZ_strZBang(v96, v95, &v97);
			STR* v98;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v97, &v98);
			STR* v99;
			STRLIT(v99, ")", 1);
			STR* v100;
			mw_std_str_ZPlusStr_pushZ_strZBang(v99, v98, &v100);
			branch_Str_7 = v100;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // TUP
			STR* v101 = mw_std_prim_Str_Str_1_sp22(in_Str_2);
			branch_Str_7 = v101;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // Table
			uint64_t v102 = mtp_mirth_c99_C99ReprType_Table(in_C99ReprType_3);
			STR* v103 = mw_std_prim_Str_Str_1_sp12(in_Str_2);
			branch_Str_7 = v103;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // Data
			uint64_t v104 = mtp_mirth_c99_C99ReprType_Data(in_C99ReprType_3);
			PTUP v105;
			PTUP v106 = mw_mirth_data_Data_c99Z_repr(in_ZPlusMirth_1, v104, &v105);
			PTUP v107;
			STR* v108 = mw_mirth_c99_C99DataRepr_mkZ_macro(v105, in_Str_2, v106, &v107);
			branch_Str_7 = v108;
			branch_ZPlusMirth_6 = v107;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static PTUP mw_mirth_type_Resource_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	PTUP v6;
	PTUP v7 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static PTUP mw_mirth_type_Type_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_C99ReprType_6;
	switch (PTREXTRA(in_Type_2)) {
		case 0LL: { // Error
			PTUP v7 = PTRMK(1LL /* VAL */,0,0);
			branch_C99ReprType_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			PTUP v8 = PTRMK(1LL /* VAL */,0,0);
			branch_C99ReprType_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v9 = mtp_mirth_type_Type_Prim(in_Type_2);
			PTUP v10 = mw_mirth_type_PrimType_c99Z_repr(v9);
			branch_C99ReprType_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Meta
			uint64_t v11 = mtp_mirth_type_Type_Meta(in_Type_2);
			PTUP v12;
			PTUP v13 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v11, &v12);
			PTUP branch_ZPlusMirth_14;
			PTUP branch_C99ReprType_15;
			switch (PTREXTRA(v13)) {
				case 0LL: { // None
					PTUP v16 = PTRMK(1LL /* VAL */,0,0);
					branch_C99ReprType_15 = v16;
					branch_ZPlusMirth_14 = v12;
				} break;
				case 1LL: { // Some
					VAL v17 = mtp_std_maybe_Maybe_1_Some(v13);
					PTUP v18;
					PTUP v19 = mw_mirth_type_Type_expand(v12, VTUP(v17), &v18);
					incref(MKTUP(v19));
					PTUP v20 = mtw_std_maybe_Maybe_1_Some(MKTUP(v19));
					PTUP v21;
					mw_mirth_type_MetaVar_typeZAskZBang(v18, v20, value_u64(MKU64(v11)), &v21);
					PTUP v22;
					PTUP v23 = mw_mirth_type_Type_c99Z_repr(v21, VTUP(MKTUP(v19)), &v22);
					branch_C99ReprType_15 = v23;
					branch_ZPlusMirth_14 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_C99ReprType_6 = branch_C99ReprType_15;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_14;
		} break;
		case 4LL: { // Hole
			uint64_t v24 = mtp_mirth_type_Type_Hole(in_Type_2);
			PTUP v25 = PTRMK(1LL /* VAL */,0,0);
			branch_C99ReprType_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v26 = mtp_mirth_type_Type_Var(in_Type_2);
			PTUP v27 = PTRMK(1LL /* VAL */,0,0);
			branch_C99ReprType_6 = v27;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v28 = mtp_mirth_type_Type_Table(in_Type_2);
			PTUP v29 = mtw_mirth_c99_C99ReprType_Table(v28);
			branch_C99ReprType_6 = v29;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v30 = mtp_mirth_type_Type_Data(in_Type_2);
			PTUP v31 = mtw_mirth_c99_C99ReprType_Data(v30);
			branch_C99ReprType_6 = v31;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			PTUP v32 = mtp_mirth_type_Type_DataPartial(in_Type_2);
			incref(MKTUP(v32));
			PTUP v33;
			bool v34 = mw_mirth_data_DataPartial_isZ_semiZ_transparentZAsk(in_ZPlusMirth_1, v32, &v33);
			PTUP branch_ZPlusMirth_35;
			PTUP branch_C99ReprType_36;
			if (v34) {
				decref(MKTUP(v32));
				PTUP v37 = PTRMK(0LL /* Void */,0,0);
				branch_C99ReprType_36 = v37;
				branch_ZPlusMirth_35 = v33;
			} else {
				uint64_t v38 = value_u64(((TUP*)PTRPTR(v32))->cells[0]);
				decref(MKTUP(v32));
				PTUP v39 = mtw_mirth_c99_C99ReprType_Data(v38);
				branch_C99ReprType_36 = v39;
				branch_ZPlusMirth_35 = v33;
			}
			branch_C99ReprType_6 = branch_C99ReprType_36;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_35;
		} break;
		case 10LL: { // Arrow
			PTUP v40 = mtp_mirth_type_Type_Arrow(in_Type_2);
			decref(MKTUP(v40));
			PTUP v41 = PTRMK(1LL /* VAL */,0,0);
			branch_C99ReprType_6 = v41;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			PTUP v42 = mtp_mirth_type_Type_Stack(in_Type_2);
			PTUP v43;
			PTUP v44 = mw_mirth_type_StackType_tupleZ_c99Z_repr(in_ZPlusMirth_1, v42, &v43);
			branch_C99ReprType_6 = v44;
			branch_ZPlusMirth_5 = v43;
		} break;
		case 11LL: { // App
			PTUP v45;
			PTUP v46 = mtp_mirth_type_Type_App(in_Type_2, &v45);
			decref(MKTUP(v45));
			PTUP v47;
			PTUP v48 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, v46, &v47);
			branch_C99ReprType_6 = v48;
			branch_ZPlusMirth_5 = v47;
		} break;
		case 12LL: { // Mut
			PTUP v49 = mtp_mirth_type_Type_Mut(in_Type_2);
			decref(MKTUP(v49));
			PTUP v50 = PTRMK(18LL /* PTR */,0,0);
			branch_C99ReprType_6 = v50;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // Value
			PTUP v51 = mtp_mirth_type_Type_Value(in_Type_2);
			decref(MKTUP(v51));
			PTUP v52 = PTRMK(1LL /* VAL */,0,0);
			branch_C99ReprType_6 = v52;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_C99ReprType_6;
}
static PTUP mw_mirth_type_StackType_tupleZ_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_splitZ_parts(in_ZPlusMirth_1, in_StackType_2, &v5, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_C99ReprType_9;
	switch (PTREXTRA(v7)) {
		case 2LL: { // Unit
			INT v10 = mw_std_list_List_1_len(v6);
			INT v11 = WRAP_I63(0LL);
			INT v12 = v11;
			INT v13 = v10;
			bool v14 = int_eq(v13, v12);
			PTUP branch_ZPlusMirth_15;
			PTUP branch_C99ReprType_16;
			if (v14) {
				PTUP v17 = PTRMK(0LL /* Void */,0,0);
				branch_C99ReprType_16 = v17;
				branch_ZPlusMirth_15 = v5;
			} else {
				PTUP v18 = PTRMK(4LL /* TUP */,0,0);
				branch_C99ReprType_16 = v18;
				branch_ZPlusMirth_15 = v5;
			}
			branch_C99ReprType_9 = branch_C99ReprType_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
		} break;
		default: {
			decref(MKTUP(v7));
			decref(MKTUP(v6));
			PTUP v19 = PTRMK(4LL /* TUP */,0,0);
			branch_C99ReprType_9 = v19;
			branch_ZPlusMirth_8 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_C99ReprType_9;
}
static PTUP mw_mirth_type_PrimType_c99Z_repr (int64_t in_PrimType_1) {
	PTUP branch_C99ReprType_3;
	switch (in_PrimType_1) {
		case 0LL: { // KIND
			PTUP v4 = PTRMK(0LL /* Void */,0,0);
			branch_C99ReprType_3 = v4;
		} break;
		case 1LL: { // TYPE
			PTUP v5 = PTRMK(0LL /* Void */,0,0);
			branch_C99ReprType_3 = v5;
		} break;
		case 2LL: { // STACK
			PTUP v6 = PTRMK(0LL /* Void */,0,0);
			branch_C99ReprType_3 = v6;
		} break;
		case 3LL: { // RESOURCE
			PTUP v7 = PTRMK(0LL /* Void */,0,0);
			branch_C99ReprType_3 = v7;
		} break;
		case 4LL: { // Bool
			PTUP v8 = PTRMK(17LL /* Bool */,0,0);
			branch_C99ReprType_3 = v8;
		} break;
		case 5LL: { // Int
			PTUP v9 = PTRMK(5LL /* Int */,0,0);
			branch_C99ReprType_3 = v9;
		} break;
		case 6LL: { // Nat
			PTUP v10 = PTRMK(6LL /* Nat */,0,0);
			branch_C99ReprType_3 = v10;
		} break;
		case 7LL: { // U8
			PTUP v11 = PTRMK(14LL /* U8 */,0,0);
			branch_C99ReprType_3 = v11;
		} break;
		case 8LL: { // U16
			PTUP v12 = PTRMK(13LL /* U16 */,0,0);
			branch_C99ReprType_3 = v12;
		} break;
		case 9LL: { // U32
			PTUP v13 = PTRMK(12LL /* U32 */,0,0);
			branch_C99ReprType_3 = v13;
		} break;
		case 10LL: { // U64
			PTUP v14 = PTRMK(11LL /* U64 */,0,0);
			branch_C99ReprType_3 = v14;
		} break;
		case 11LL: { // I8
			PTUP v15 = PTRMK(10LL /* I8 */,0,0);
			branch_C99ReprType_3 = v15;
		} break;
		case 12LL: { // I16
			PTUP v16 = PTRMK(9LL /* I16 */,0,0);
			branch_C99ReprType_3 = v16;
		} break;
		case 13LL: { // I32
			PTUP v17 = PTRMK(8LL /* I32 */,0,0);
			branch_C99ReprType_3 = v17;
		} break;
		case 14LL: { // I64
			PTUP v18 = PTRMK(7LL /* I64 */,0,0);
			branch_C99ReprType_3 = v18;
		} break;
		case 15LL: { // F32
			PTUP v19 = PTRMK(16LL /* F32 */,0,0);
			branch_C99ReprType_3 = v19;
		} break;
		case 16LL: { // F64
			PTUP v20 = PTRMK(15LL /* F64 */,0,0);
			branch_C99ReprType_3 = v20;
		} break;
		case 18LL: { // Str
			PTUP v21 = PTRMK(2LL /* STR */,0,0);
			branch_C99ReprType_3 = v21;
		} break;
		case 17LL: { // Ptr
			PTUP v22 = PTRMK(18LL /* PTR */,0,0);
			branch_C99ReprType_3 = v22;
		} break;
		case 19LL: { // Array
			PTUP v23 = PTRMK(3LL /* ARR */,0,0);
			branch_C99ReprType_3 = v23;
		} break;
		case 20LL: { // World
			PTUP v24 = PTRMK(0LL /* Void */,0,0);
			branch_C99ReprType_3 = v24;
		} break;
		case 21LL: { // Debug
			PTUP v25 = PTRMK(0LL /* Void */,0,0);
			branch_C99ReprType_3 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_C99ReprType_3;
}
static void mw_mirth_c99_ZPlusC99Value_rdup (PTUP in_ZPlusC99Value_1, PTUP *out_ZPlusC99Value_2, PTUP *out_ZPlusC99Value_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Value_1))->cells[0]);
	incref(MKTUP(v4));
	STR* v5 = value_str(((TUP*)PTRPTR(in_ZPlusC99Value_1))->cells[1]);
	incref(MKSTR(v5));
	PTUP v6;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v4, v5, &v6);
	*out_ZPlusC99Value_3 = v6;
	*out_ZPlusC99Value_2 = in_ZPlusC99Value_1;
}
static void mw_mirth_c99_ZPlusC99Value_rdrop (PTUP in_ZPlusC99Value_1) {
	PTUP v2;
	STR* v3;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v2, &v3);
	decref(MKTUP(v2));
	decref(MKSTR(v3));
}
static void mw_mirth_c99_C99ReprType_newZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6) {
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	PTUP v8;
	PTUP v9;
	STR* v10 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, r7, &v8, &v9);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v9);
	bool v11 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
	PTUP r12 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	bool v13 = value_bool(((TUP*)PTRPTR(r12))->cells[3]);
	incref(MKBOOL(v13));
	bool v14 = (value_bool(MKBOOL(v11)) && value_bool(MKBOOL(v13)));
	((TUP*)PTRPTR(r12))->cells[3] = MKBOOL(v14);
	PTUP v15;
	PTUP v16;
	mw_mirth_c99_ZPlusC99_indent(v8, r12, &v15, &v16);
	incref(MKTUP(in_C99ReprType_3));
	PTUP v17;
	STR* v18 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v15, in_C99ReprType_3, &v17);
	PTUP v19;
	PTUP v20;
	mw_mirth_c99_ZPlusC99_put(v17, v16, v18, &v19, &v20);
	STR* v21;
	STRLIT(v21, " ", 1);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_put(v19, v20, v21, &v22, &v23);
	incref(MKSTR(v10));
	PTUP v24;
	PTUP v25;
	mw_mirth_c99_ZPlusC99_put(v22, v23, v10, &v24, &v25);
	STR* v26;
	STRLIT(v26, ";", 1);
	PTUP v27;
	PTUP v28;
	mw_mirth_c99_ZPlusC99_put(v24, v25, v26, &v27, &v28);
	PTUP v29;
	PTUP v30;
	mw_mirth_c99_ZPlusC99_line(v27, v28, &v29, &v30);
	((TUP*)PTRPTR(v30))->cells[3] = MKBOOL(value_bool(MKBOOL(v13)));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v30);
	PTUP v31;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_C99ReprType_3, v10, &v31);
	*out_ZPlusC99Value_6 = v31;
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v29;
}
static void mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6) {
	incref(MKTUP(in_C99ReprType_3));
	PTUP v7;
	bool v8 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99ReprType_3, &v7);
	STR* branch_Str_9;
	PTUP branch_C99ReprType_10;
	PTUP branch_ZPlusMirth_11;
	PTUP branch_ZPlusC99Branch_12;
	if (v8) {
		PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v14;
		PTUP v15;
		STR* v16 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v7, r13, &v14, &v15);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v15);
		bool v17 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r18 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v19 = value_bool(((TUP*)PTRPTR(r18))->cells[3]);
		incref(MKBOOL(v19));
		bool v20 = (value_bool(MKBOOL(v17)) && value_bool(MKBOOL(v19)));
		((TUP*)PTRPTR(r18))->cells[3] = MKBOOL(v20);
		PTUP v21;
		PTUP v22;
		mw_mirth_c99_ZPlusC99_indent(v14, r18, &v21, &v22);
		incref(MKTUP(in_C99ReprType_3));
		PTUP v23;
		STR* v24 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v21, in_C99ReprType_3, &v23);
		PTUP v25;
		PTUP v26;
		mw_mirth_c99_ZPlusC99_put(v23, v22, v24, &v25, &v26);
		STR* v27;
		STRLIT(v27, " ", 1);
		PTUP v28;
		PTUP v29;
		mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
		incref(MKSTR(v16));
		PTUP v30;
		PTUP v31;
		mw_mirth_c99_ZPlusC99_put(v28, v29, v16, &v30, &v31);
		STR* v32;
		STRLIT(v32, " = ", 3);
		PTUP v33;
		PTUP v34;
		mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
		incref(MKTUP(in_C99ReprType_3));
		PTUP v35;
		STR* v36;
		STR* v37 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(v33, in_C99ReprType_3, &v35, &v36);
		PTUP v38;
		PTUP v39;
		mw_mirth_c99_ZPlusC99_put(v35, v34, v37, &v38, &v39);
		STR* v40;
		STRLIT(v40, "pop_value()", 11);
		PTUP v41;
		PTUP v42;
		mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
		PTUP v43;
		PTUP v44;
		mw_mirth_c99_ZPlusC99_put(v41, v42, v36, &v43, &v44);
		STR* v45;
		STRLIT(v45, ";", 1);
		PTUP v46;
		PTUP v47;
		mw_mirth_c99_ZPlusC99_put(v43, v44, v45, &v46, &v47);
		PTUP v48;
		PTUP v49;
		mw_mirth_c99_ZPlusC99_line(v46, v47, &v48, &v49);
		((TUP*)PTRPTR(v49))->cells[3] = MKBOOL(value_bool(MKBOOL(v19)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v49);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_11 = v48;
		branch_C99ReprType_10 = in_C99ReprType_3;
		branch_Str_9 = v16;
	} else {
		STR* v50;
		STRLIT(v50, "0", 1);
		bool v51 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r52 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v53 = value_bool(((TUP*)PTRPTR(r52))->cells[3]);
		incref(MKBOOL(v53));
		bool v54 = (value_bool(MKBOOL(v51)) && value_bool(MKBOOL(v53)));
		((TUP*)PTRPTR(r52))->cells[3] = MKBOOL(v54);
		PTUP v55;
		PTUP v56;
		mw_mirth_c99_ZPlusC99_indent(v7, r52, &v55, &v56);
		STR* v57;
		STRLIT(v57, "pop_value();", 12);
		PTUP v58;
		PTUP v59;
		mw_mirth_c99_ZPlusC99_put(v55, v56, v57, &v58, &v59);
		PTUP v60;
		PTUP v61;
		mw_mirth_c99_ZPlusC99_line(v58, v59, &v60, &v61);
		((TUP*)PTRPTR(v61))->cells[3] = MKBOOL(value_bool(MKBOOL(v53)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v61);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_11 = v60;
		branch_C99ReprType_10 = in_C99ReprType_3;
		branch_Str_9 = v50;
	}
	PTUP v62;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_10, branch_Str_9, &v62);
	*out_ZPlusC99Value_6 = v62;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	STR* v7 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusMirth_1, in_ZPlusC99Value_3, &v6);
	bool v8 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
	PTUP r9 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	bool v10 = value_bool(((TUP*)PTRPTR(r9))->cells[3]);
	incref(MKBOOL(v10));
	bool v11 = (value_bool(MKBOOL(v8)) && value_bool(MKBOOL(v10)));
	((TUP*)PTRPTR(r9))->cells[3] = MKBOOL(v11);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99_indent(v6, r9, &v12, &v13);
	STR* v14;
	STRLIT(v14, "push_value(", 11);
	PTUP v15;
	PTUP v16;
	mw_mirth_c99_ZPlusC99_put(v12, v13, v14, &v15, &v16);
	PTUP v17;
	PTUP v18;
	mw_mirth_c99_ZPlusC99_put(v15, v16, v7, &v17, &v18);
	STR* v19;
	STRLIT(v19, ");", 2);
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v17, v18, v19, &v20, &v21);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_line(v20, v21, &v22, &v23);
	((TUP*)PTRPTR(v23))->cells[3] = MKBOOL(value_bool(MKBOOL(v10)));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v23);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v22;
}
static STR* mw_mirth_c99_ZPlusC99Value_consume (PTUP in_ZPlusC99Value_1) {
	PTUP v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v3, &v4);
	decref(MKTUP(v3));
	return v4;
}
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	STR* v6;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_2, &v5, &v6);
	PTUP v7;
	STR* v8 = mw_mirth_c99_C99ReprType_mkZ_macro(in_ZPlusMirth_1, v6, v5, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_TUP (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(in_ZPlusC99Value_2, &v5);
	PTUP v6;
	STR* v7 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_TUP(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_data (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mtw_mirth_c99_C99ReprType_Data(in_Data_3);
	PTUP v7;
	STR* v8 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_ZPlusMirth_1, v6, in_ZPlusC99Value_2, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_as (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	switch (PTREXTRA(in_C99ReprType_2)) {
		case 1LL: { // VAL
			PTUP v8;
			STR* v9 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusMirth_1, in_ZPlusC99Value_3, &v8);
			branch_Str_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 0LL: { // Void
			mw_mirth_c99_ZPlusC99Value_rdrop(in_ZPlusC99Value_3);
			STR* v10;
			STRLIT(v10, "0", 1);
			branch_Str_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			PTUP v11;
			STR* v12;
			mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_3, &v11, &v12);
			incref(MKTUP(v11));
			PTUP branch_C99ReprType_13;
			PTUP branch_ZPlusMirth_14;
			STR* branch_Str_15;
			switch (PTREXTRA(v11)) {
				case 1LL: { // VAL
					STR* v16;
					STRLIT(v16, "", 0);
					PTUP v17;
					STR* v18;
					STR* v19 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_ZPlusMirth_1, in_C99ReprType_2, &v17, &v18);
					STR* v20;
					mw_std_str_ZPlusStr_pushZ_strZBang(v19, v16, &v20);
					STR* v21;
					mw_std_str_ZPlusStr_pushZ_strZBang(v12, v20, &v21);
					STR* v22;
					mw_std_str_ZPlusStr_pushZ_strZBang(v18, v21, &v22);
					branch_Str_15 = v22;
					branch_ZPlusMirth_14 = v17;
					branch_C99ReprType_13 = v11;
				} break;
				default: {
					incref(MKTUP(in_C99ReprType_2));
					bool v23 = mw_mirth_c99_C99ReprType_ZEqual(VTUP(MKTUP(v11)), VTUP(MKTUP(in_C99ReprType_2)));
					PTUP branch_ZPlusMirth_24;
					PTUP branch_C99ReprType_25;
					STR* branch_Str_26;
					if (v23) {
						decref(MKTUP(VTUP(MKTUP(in_C99ReprType_2))));
						branch_Str_26 = v12;
						branch_C99ReprType_25 = v11;
						branch_ZPlusMirth_24 = in_ZPlusMirth_1;
					} else {
						incref(MKTUP(VTUP(MKTUP(in_C99ReprType_2))));
						bool v27 = mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk(VTUP(MKTUP(in_C99ReprType_2)));
						incref(MKTUP(v11));
						bool v28 = mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk(v11);
						bool v29 = (v27 && v28);
						PTUP branch_C99ReprType_30;
						PTUP branch_ZPlusMirth_31;
						STR* branch_Str_32;
						if (v29) {
							STR* v33;
							STRLIT(v33, "", 0);
							STR* v34;
							STRLIT(v34, "((", 2);
							STR* v35;
							mw_std_str_ZPlusStr_pushZ_strZBang(v34, v33, &v35);
							PTUP v36;
							STR* v37 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_ZPlusMirth_1, VTUP(MKTUP(in_C99ReprType_2)), &v36);
							STR* v38;
							mw_std_str_ZPlusStr_pushZ_strZBang(v37, v35, &v38);
							STR* v39;
							STRLIT(v39, ")", 1);
							STR* v40;
							mw_std_str_ZPlusStr_pushZ_strZBang(v39, v38, &v40);
							STR* v41;
							mw_std_str_ZPlusStr_pushZ_strZBang(v12, v40, &v41);
							STR* v42;
							STRLIT(v42, ")", 1);
							STR* v43;
							mw_std_str_ZPlusStr_pushZ_strZBang(v42, v41, &v43);
							branch_Str_32 = v43;
							branch_ZPlusMirth_31 = v36;
							branch_C99ReprType_30 = v11;
						} else {
							STR* v44;
							STRLIT(v44, "", 0);
							STR* v45;
							STRLIT(v45, "(\n#error \"attempted to cast ", 28);
							STR* v46;
							mw_std_str_ZPlusStr_pushZ_strZBang(v45, v44, &v46);
							STR* v47;
							mw_std_str_ZPlusStr_pushZ_strZBang(v12, v46, &v47);
							STR* v48;
							STRLIT(v48, " to incompatible C99 repr type ", 31);
							STR* v49;
							mw_std_str_ZPlusStr_pushZ_strZBang(v48, v47, &v49);
							PTUP v50;
							STR* v51 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_ZPlusMirth_1, VTUP(MKTUP(in_C99ReprType_2)), &v50);
							STR* v52;
							mw_std_str_ZPlusStr_pushZ_strZBang(v51, v49, &v52);
							STR* v53;
							STRLIT(v53, "\"\n", 2);
							STR* v54;
							mw_std_str_ZPlusStr_pushZ_strZBang(v53, v52, &v54);
							branch_Str_32 = v54;
							branch_ZPlusMirth_31 = v50;
							branch_C99ReprType_30 = v11;
						}
						branch_Str_26 = branch_Str_32;
						branch_C99ReprType_25 = branch_C99ReprType_30;
						branch_ZPlusMirth_24 = branch_ZPlusMirth_31;
					}
					branch_Str_15 = branch_Str_26;
					branch_ZPlusMirth_14 = branch_ZPlusMirth_24;
					branch_C99ReprType_13 = branch_C99ReprType_25;
				} break;
			}
			decref(MKTUP(branch_C99ReprType_13));
			branch_Str_7 = branch_Str_15;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_14;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static void mw_mirth_c99_ZPlusC99Value_keepZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Value_3))->cells[0]);
	incref(MKTUP(v7));
	PTUP v8;
	bool v9 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(in_ZPlusMirth_1, v7, &v8);
	PTUP branch_ZPlusC99Branch_10;
	PTUP branch_ZPlusC99Value_11;
	PTUP branch_ZPlusMirth_12;
	if (v9) {
		PTUP v13;
		PTUP v14;
		mw_mirth_c99_ZPlusC99Value_rdup(in_ZPlusC99Value_3, &v13, &v14);
		PTUP v15;
		STR* v16 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v8, v14, &v15);
		PTUP r17 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v18;
		PTUP v19;
		mw_mirth_c99_ZPlusC99_indent(v15, r17, &v18, &v19);
		STR* v20;
		STRLIT(v20, "incref(", 7);
		PTUP v21;
		PTUP v22;
		mw_mirth_c99_ZPlusC99_put(v18, v19, v20, &v21, &v22);
		PTUP v23;
		PTUP v24;
		mw_mirth_c99_ZPlusC99_put(v21, v22, v16, &v23, &v24);
		STR* v25;
		STRLIT(v25, ");", 2);
		PTUP v26;
		PTUP v27;
		mw_mirth_c99_ZPlusC99_put(v23, v24, v25, &v26, &v27);
		PTUP v28;
		PTUP v29;
		mw_mirth_c99_ZPlusC99_line(v26, v27, &v28, &v29);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v29);
		branch_ZPlusMirth_12 = v28;
		branch_ZPlusC99Value_11 = v13;
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
	} else {
		branch_ZPlusMirth_12 = v8;
		branch_ZPlusC99Value_11 = in_ZPlusC99Value_3;
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
	}
	*out_ZPlusC99Value_6 = branch_ZPlusC99Value_11;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
}
static void mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Value_3))->cells[0]);
	incref(MKTUP(v6));
	PTUP v7;
	bool v8 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(in_ZPlusMirth_1, v6, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	if (v8) {
		PTUP v11;
		STR* v12 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v7, in_ZPlusC99Value_3, &v11);
		PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v14;
		PTUP v15;
		mw_mirth_c99_ZPlusC99_indent(v11, r13, &v14, &v15);
		STR* v16;
		STRLIT(v16, "decref(", 7);
		PTUP v17;
		PTUP v18;
		mw_mirth_c99_ZPlusC99_put(v14, v15, v16, &v17, &v18);
		PTUP v19;
		PTUP v20;
		mw_mirth_c99_ZPlusC99_put(v17, v18, v12, &v19, &v20);
		STR* v21;
		STRLIT(v21, ");", 2);
		PTUP v22;
		PTUP v23;
		mw_mirth_c99_ZPlusC99_put(v19, v20, v21, &v22, &v23);
		PTUP v24;
		PTUP v25;
		mw_mirth_c99_ZPlusC99_line(v22, v23, &v24, &v25);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v25);
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = v24;
	} else {
		mw_mirth_c99_ZPlusC99Value_rdrop(in_ZPlusC99Value_3);
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = v7;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6, PTUP *out_ZPlusC99Value_7) {
	PTUP v8;
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99Value_keepZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_ZPlusC99Value_3, &v8, &v9, &v10);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99Value_rdup(v10, &v11, &v12);
	*out_ZPlusC99Value_7 = v12;
	*out_ZPlusC99Value_6 = v11;
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static STR* mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Value_4) {
	STR* v6 = value_str(((TUP*)PTRPTR(in_ZPlusC99Value_2))->cells[1]);
	incref(MKSTR(v6));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Value_2))->cells[0]);
	incref(MKTUP(v7));
	PTUP v8;
	STR* v9 = mw_mirth_c99_C99ReprType_getZ_dataZ_tag(in_ZPlusMirth_1, v6, v7, &v8);
	*out_ZPlusC99Value_4 = in_ZPlusC99Value_2;
	*out_ZPlusMirth_3 = v8;
	return v9;
}
static void mw_mirth_c99_ZPlusC99Resource_rdup (PTUP in_ZPlusC99Resource_1, PTUP *out_ZPlusC99Resource_2, PTUP *out_ZPlusC99Resource_3) {
	PTUP v4 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Resource_1))->cells[0]);
	incref(MKTUP(v4));
	STR* v5 = value_str(((TUP*)PTRPTR(in_ZPlusC99Resource_1))->cells[1]);
	incref(MKSTR(v5));
	PTUP v6;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(v4, v5, &v6);
	*out_ZPlusC99Resource_3 = v6;
	*out_ZPlusC99Resource_2 = in_ZPlusC99Resource_1;
}
static void mw_mirth_c99_ZPlusC99Resource_rdrop (PTUP in_ZPlusC99Resource_1) {
	STR* v2 = mw_mirth_c99_ZPlusC99Resource_consume(in_ZPlusC99Resource_1);
	decref(MKSTR(v2));
}
static void mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang (PTUP in_ZPlusC99Value_1, PTUP *out_ZPlusC99Resource_2) {
	PTUP v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v3, &v4);
	PTUP v5;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(v3, v4, &v5);
	*out_ZPlusC99Resource_2 = v5;
}
static void mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang (PTUP in_ZPlusC99Resource_1, PTUP *out_ZPlusC99Value_2) {
	PTUP v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	PTUP v5;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v3, v4, &v5);
	*out_ZPlusC99Value_2 = v5;
}
static void mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(in_ZPlusC99Resource_3, &v6);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8);
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Resource_6, PTUP *out_ZPlusC99Value_7) {
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99Resource_rdup(in_ZPlusC99Resource_3, &v8, &v9);
	PTUP v10;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v9, &v10);
	PTUP v11;
	PTUP v12;
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v10, &v11, &v12, &v13, &v14);
	mw_mirth_c99_ZPlusC99Value_rdrop(v14);
	*out_ZPlusC99Value_7 = v13;
	*out_ZPlusC99Resource_6 = v8;
	*out_ZPlusC99Branch_5 = v12;
	*out_ZPlusMirth_4 = v11;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consume (PTUP in_ZPlusC99Resource_1) {
	PTUP v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	decref(MKTUP(v3));
	return v4;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_as (PTUP in_ZPlusMirth_1, PTUP in_C99ReprType_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(in_ZPlusC99Resource_3, &v6);
	PTUP v7;
	STR* v8 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_ZPlusMirth_1, in_C99ReprType_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	STR* v6;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_2, &v5, &v6);
	PTUP v7;
	STR* v8 = mw_mirth_c99_C99ReprType_mkZ_macro(in_ZPlusMirth_1, v6, v5, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_TUP (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, PTUP *out_ZPlusMirth_3) {
	PTUP v5;
	STR* v6;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_2, &v5, &v6);
	PTUP branch_ZPlusMirth_7;
	STR* branch_Str_8;
	switch (PTREXTRA(v5)) {
		case 1LL: { // VAL
			STR* v9;
			STRLIT(v9, "", 0);
			STR* v10;
			STRLIT(v10, "VTUP(", 5);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(v10, v9, &v11);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v6, v11, &v12);
			STR* v13;
			STRLIT(v13, ")", 1);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
			branch_Str_8 = v14;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // TUP
			branch_Str_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			decref(MKTUP(v5));
			STR* v15;
			STRLIT(v15, "c99: tried to consume non-tuple as tuple", 40);
			do_panic(v15);
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_8;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_data (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = mtw_mirth_c99_C99ReprType_Data(in_Data_3);
	PTUP v7;
	STR* v8 = mw_mirth_c99_ZPlusC99Resource_consumeZ_as(in_ZPlusMirth_1, v6, in_ZPlusC99Resource_2, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Resource_6) {
	incref(MKTUP(in_C99ReprType_3));
	PTUP v7;
	bool v8 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99ReprType_3, &v7);
	STR* branch_Str_9;
	PTUP branch_C99ReprType_10;
	PTUP branch_ZPlusMirth_11;
	PTUP branch_ZPlusC99Branch_12;
	if (v8) {
		PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v14;
		PTUP v15;
		STR* v16 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v7, r13, &v14, &v15);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v15);
		bool v17 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r18 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v19 = value_bool(((TUP*)PTRPTR(r18))->cells[3]);
		incref(MKBOOL(v19));
		bool v20 = (value_bool(MKBOOL(v17)) && value_bool(MKBOOL(v19)));
		((TUP*)PTRPTR(r18))->cells[3] = MKBOOL(v20);
		PTUP v21;
		PTUP v22;
		mw_mirth_c99_ZPlusC99_indent(v14, r18, &v21, &v22);
		incref(MKTUP(in_C99ReprType_3));
		PTUP v23;
		STR* v24 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v21, in_C99ReprType_3, &v23);
		PTUP v25;
		PTUP v26;
		mw_mirth_c99_ZPlusC99_put(v23, v22, v24, &v25, &v26);
		STR* v27;
		STRLIT(v27, " ", 1);
		PTUP v28;
		PTUP v29;
		mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
		incref(MKSTR(v16));
		PTUP v30;
		PTUP v31;
		mw_mirth_c99_ZPlusC99_put(v28, v29, v16, &v30, &v31);
		STR* v32;
		STRLIT(v32, " = ", 3);
		PTUP v33;
		PTUP v34;
		mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
		incref(MKTUP(in_C99ReprType_3));
		PTUP v35;
		STR* v36;
		STR* v37 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(v33, in_C99ReprType_3, &v35, &v36);
		PTUP v38;
		PTUP v39;
		mw_mirth_c99_ZPlusC99_put(v35, v34, v37, &v38, &v39);
		STR* v40;
		STRLIT(v40, "pop_resource()", 14);
		PTUP v41;
		PTUP v42;
		mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
		PTUP v43;
		PTUP v44;
		mw_mirth_c99_ZPlusC99_put(v41, v42, v36, &v43, &v44);
		STR* v45;
		STRLIT(v45, ";", 1);
		PTUP v46;
		PTUP v47;
		mw_mirth_c99_ZPlusC99_put(v43, v44, v45, &v46, &v47);
		PTUP v48;
		PTUP v49;
		mw_mirth_c99_ZPlusC99_line(v46, v47, &v48, &v49);
		((TUP*)PTRPTR(v49))->cells[3] = MKBOOL(value_bool(MKBOOL(v19)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v49);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_11 = v48;
		branch_C99ReprType_10 = in_C99ReprType_3;
		branch_Str_9 = v16;
	} else {
		STR* v50;
		STRLIT(v50, "0", 1);
		bool v51 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r52 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v53 = value_bool(((TUP*)PTRPTR(r52))->cells[3]);
		incref(MKBOOL(v53));
		bool v54 = (value_bool(MKBOOL(v51)) && value_bool(MKBOOL(v53)));
		((TUP*)PTRPTR(r52))->cells[3] = MKBOOL(v54);
		PTUP v55;
		PTUP v56;
		mw_mirth_c99_ZPlusC99_indent(v7, r52, &v55, &v56);
		STR* v57;
		STRLIT(v57, "pop_resource();", 15);
		PTUP v58;
		PTUP v59;
		mw_mirth_c99_ZPlusC99_put(v55, v56, v57, &v58, &v59);
		PTUP v60;
		PTUP v61;
		mw_mirth_c99_ZPlusC99_line(v58, v59, &v60, &v61);
		((TUP*)PTRPTR(v61))->cells[3] = MKBOOL(value_bool(MKBOOL(v53)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v61);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_11 = v60;
		branch_C99ReprType_10 = in_C99ReprType_3;
		branch_Str_9 = v50;
	}
	PTUP v62;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_10, branch_Str_9, &v62);
	*out_ZPlusC99Resource_6 = v62;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	STR* v7 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(in_ZPlusMirth_1, in_ZPlusC99Resource_3, &v6);
	bool v8 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
	PTUP r9 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	bool v10 = value_bool(((TUP*)PTRPTR(r9))->cells[3]);
	incref(MKBOOL(v10));
	bool v11 = (value_bool(MKBOOL(v8)) && value_bool(MKBOOL(v10)));
	((TUP*)PTRPTR(r9))->cells[3] = MKBOOL(v11);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99_indent(v6, r9, &v12, &v13);
	STR* v14;
	STRLIT(v14, "push_resource(", 14);
	PTUP v15;
	PTUP v16;
	mw_mirth_c99_ZPlusC99_put(v12, v13, v14, &v15, &v16);
	PTUP v17;
	PTUP v18;
	mw_mirth_c99_ZPlusC99_put(v15, v16, v7, &v17, &v18);
	STR* v19;
	STRLIT(v19, ");", 2);
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v17, v18, v19, &v20, &v21);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_line(v20, v21, &v22, &v23);
	((TUP*)PTRPTR(v23))->cells[3] = MKBOOL(value_bool(MKBOOL(v10)));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v23);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v22;
}
static STR* mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Resource_4) {
	STR* v6 = value_str(((TUP*)PTRPTR(in_ZPlusC99Resource_2))->cells[1]);
	incref(MKSTR(v6));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Resource_2))->cells[0]);
	incref(MKTUP(v7));
	PTUP v8;
	STR* v9 = mw_mirth_c99_C99ReprType_getZ_dataZ_tag(in_ZPlusMirth_1, v6, v7, &v8);
	*out_ZPlusC99Resource_4 = in_ZPlusC99Resource_2;
	*out_ZPlusMirth_3 = v8;
	return v9;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft (PTUP in_ZPlusC99Value_1, PTUP *out_ZPlusC99ValueZDivResource_2) {
	PTUP v3;
	mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(in_ZPlusC99Value_1), &v3);
	*out_ZPlusC99ValueZDivResource_2 = v3;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight (PTUP in_ZPlusC99Resource_1, PTUP *out_ZPlusC99ValueZDivResource_2) {
	PTUP v3;
	mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(in_ZPlusC99Resource_1), &v3);
	*out_ZPlusC99ValueZDivResource_2 = v3;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdup (PTUP in_ZPlusC99ValueZDivResource_1, PTUP *out_ZPlusC99ValueZDivResource_2, PTUP *out_ZPlusC99ValueZDivResource_3) {
	PTUP branch_ZPlusEither_4;
	PTUP branch_ZPlusEither_5;
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v6;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v6);
			PTUP v7;
			PTUP v8;
			mw_mirth_c99_ZPlusC99Value_rdup(VTUP(v6), &v7, &v8);
			PTUP v9;
			mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(v7), &v9);
			PTUP v10;
			mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(v8), &v10);
			branch_ZPlusEither_5 = v10;
			branch_ZPlusEither_4 = v9;
		} break;
		case 1LL: { // +Right
			VAL v11;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v11);
			PTUP v12;
			PTUP v13;
			mw_mirth_c99_ZPlusC99Resource_rdup(VTUP(v11), &v12, &v13);
			PTUP v14;
			mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(v12), &v14);
			PTUP v15;
			mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(v13), &v15);
			branch_ZPlusEither_5 = v15;
			branch_ZPlusEither_4 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99ValueZDivResource_3 = branch_ZPlusEither_5;
	*out_ZPlusC99ValueZDivResource_2 = branch_ZPlusEither_4;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop (PTUP in_ZPlusC99ValueZDivResource_1) {
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v2;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v2);
			mw_mirth_c99_ZPlusC99Value_rdrop(VTUP(v2));
		} break;
		case 1LL: { // +Right
			VAL v3;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v3);
			mw_mirth_c99_ZPlusC99Resource_rdrop(VTUP(v3));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99ValueZDivResource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusC99Branch_7;
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_3)) {
		case 0LL: { // +Left
			VAL v8;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_3, &v8);
			PTUP v9;
			PTUP v10;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, VTUP(v8), &v9, &v10);
			branch_ZPlusC99Branch_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // +Right
			VAL v11;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_3, &v11);
			PTUP v12;
			PTUP v13;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, VTUP(v11), &v12, &v13);
			branch_ZPlusC99Branch_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static STR* mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99ValueZDivResource_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99ValueZDivResource_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	PTUP branch_ZPlusEither_8;
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_2)) {
		case 0LL: { // +Left
			VAL v9;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_2, &v9);
			PTUP v10;
			PTUP v11;
			STR* v12 = mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag(in_ZPlusMirth_1, VTUP(v9), &v10, &v11);
			PTUP v13;
			mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(v11), &v13);
			branch_ZPlusEither_8 = v13;
			branch_Str_7 = v12;
			branch_ZPlusMirth_6 = v10;
		} break;
		case 1LL: { // +Right
			VAL v14;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_2, &v14);
			PTUP v15;
			PTUP v16;
			STR* v17 = mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag(in_ZPlusMirth_1, VTUP(v14), &v15, &v16);
			PTUP v18;
			mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(v16), &v18);
			branch_ZPlusEither_8 = v18;
			branch_Str_7 = v17;
			branch_ZPlusMirth_6 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99ValueZDivResource_5 = branch_ZPlusEither_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static STR* mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_data (PTUP in_ZPlusMirth_1, uint64_t in_Data_2, PTUP in_ZPlusC99ValueZDivResource_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_Str_7;
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_3)) {
		case 0LL: { // +Left
			VAL v8;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_3, &v8);
			PTUP v9;
			STR* v10 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_data(in_ZPlusMirth_1, VTUP(v8), in_Data_2, &v9);
			branch_Str_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // +Right
			VAL v11;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_3, &v11);
			PTUP v12;
			STR* v13 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_data(in_ZPlusMirth_1, VTUP(v11), in_Data_2, &v12);
			branch_Str_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_valueZBang (PTUP in_ZPlusC99ValueZDivResource_1, PTUP *out_ZPlusC99Value_2) {
	PTUP branch_ZPlusC99Value_3;
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v4;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v4);
			branch_ZPlusC99Value_3 = VTUP(v4);
		} break;
		case 1LL: { // +Right
			VAL v5;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v5);
			PTUP v6;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(VTUP(v5), &v6);
			branch_ZPlusC99Value_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Value_2 = branch_ZPlusC99Value_3;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang (PTUP in_ZPlusC99ValueZDivResource_1, PTUP *out_ZPlusC99Resource_2) {
	PTUP branch_ZPlusC99Resource_3;
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v4;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v4);
			PTUP v5;
			mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(VTUP(v4), &v5);
			branch_ZPlusC99Resource_3 = v5;
		} break;
		case 1LL: { // +Right
			VAL v6;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v6);
			branch_ZPlusC99Resource_3 = VTUP(v6);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Resource_2 = branch_ZPlusC99Resource_3;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_valueZDivresourceZ_reprZBang (PTUP in_C99ReprType_1, PTUP in_ZPlusC99ValueZDivResource_2, PTUP *out_ZPlusC99ValueZDivResource_3) {
	PTUP branch_ZPlusEither_4;
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_2)) {
		case 0LL: { // +Left
			VAL v5;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_2, &v5);
			PTUP v6 = VTUP(((TUP*)PTRPTR(VTUP(v5)))->cells[0]);
			decref(MKTUP(v6));
			((TUP*)PTRPTR(VTUP(v5)))->cells[0] = MKTUP(in_C99ReprType_1);
			PTUP v7;
			mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(VTUP(v5)), &v7);
			branch_ZPlusEither_4 = v7;
		} break;
		case 1LL: { // +Right
			VAL v8;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_2, &v8);
			PTUP v9 = VTUP(((TUP*)PTRPTR(VTUP(v8)))->cells[0]);
			decref(MKTUP(v9));
			((TUP*)PTRPTR(VTUP(v8)))->cells[0] = MKTUP(in_C99ReprType_1);
			PTUP v10;
			mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(VTUP(v8)), &v10);
			branch_ZPlusEither_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99ValueZDivResource_3 = branch_ZPlusEither_4;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Data_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99ValueZDivResource_6) {
	PTUP v7;
	bool v8 = mw_mirth_data_Data_isZ_resourceZAsk(in_ZPlusMirth_1, in_Data_3, &v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	PTUP branch_ZPlusC99ValueZDivResource_11;
	if (v8) {
		PTUP v12 = mtw_mirth_c99_C99ReprType_Data(in_Data_3);
		PTUP v13;
		PTUP v14;
		PTUP v15;
		mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v7, in_ZPlusC99Branch_2, v12, &v13, &v14, &v15);
		PTUP v16;
		mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(v15), &v16);
		branch_ZPlusC99ValueZDivResource_11 = v16;
		branch_ZPlusC99Branch_10 = v14;
		branch_ZPlusMirth_9 = v13;
	} else {
		PTUP v17 = mtw_mirth_c99_C99ReprType_Data(in_Data_3);
		PTUP v18;
		PTUP v19;
		PTUP v20;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v7, in_ZPlusC99Branch_2, v17, &v18, &v19, &v20);
		PTUP v21;
		mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(v20), &v21);
		branch_ZPlusC99ValueZDivResource_11 = v21;
		branch_ZPlusC99Branch_10 = v19;
		branch_ZPlusMirth_9 = v18;
	}
	*out_ZPlusC99ValueZDivResource_6 = branch_ZPlusC99ValueZDivResource_11;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Branch_4) {
	PTUP v5;
	PTUP v6;
	PTUP v7;
	bool v8;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(in_ZPlusC99Branch_2, &v5, &v6, &v7, &v8);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, v5, v6, v8, v7, &v9, &v10);
	*out_ZPlusC99Branch_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_ZPlusC99Stack_3, bool in_Bool_4, PTUP in_List_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7) {
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Branch_9;
	switch (PTREXTRA(in_ZPlusC99Stack_3)) {
		case 0LL: { // +Nil
			PTUP v10;
			PTUP v11;
			mw_mirth_c99_ZPlusC99_startZ_branchZBang(in_ZPlusMirth_1, in_ZPlusC99_2, in_Bool_4, in_List_5, &v10, &v11);
			branch_ZPlusC99Branch_9 = v11;
			branch_ZPlusMirth_8 = v10;
		} break;
		case 1LL: { // +Cons
			PTUP v12;
			PTUP v13;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_3, &v12, &v13);
			PTUP v14;
			PTUP v15;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v12, in_Bool_4, in_List_5, &v14, &v15);
			PTUP v16 = VTUP(((TUP*)PTRPTR(v13))->cells[0]);
			incref(MKTUP(v16));
			PTUP v17;
			PTUP v18;
			PTUP v19;
			mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp21(v13, v14, v15, v16, &v17, &v18, &v19);
			PTUP v20;
			PTUP v21;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v17, v18, v19, &v20, &v21);
			branch_ZPlusC99Branch_9 = v21;
			branch_ZPlusMirth_8 = v20;
		} break;
		case 2LL: { // +With
			PTUP v22;
			PTUP v23;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_3, &v22, &v23);
			PTUP v24;
			PTUP v25;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v22, in_Bool_4, in_List_5, &v24, &v25);
			PTUP v26 = VTUP(((TUP*)PTRPTR(v23))->cells[0]);
			incref(MKTUP(v26));
			incref(MKTUP(v26));
			PTUP v27;
			bool v28 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v24, v26, &v27);
			PTUP branch_ZPlusC99Resource_29;
			PTUP branch_C99ReprType_30;
			bool branch_Bool_31;
			PTUP branch_ZPlusMirth_32;
			STR* branch_Str_33;
			PTUP branch_ZPlusC99Branch_34;
			if (v28) {
				PTUP r35 = VTUP(((TUP*)PTRPTR(v25))->cells[0]);
				PTUP v36;
				PTUP v37;
				STR* v38 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v27, r35, &v36, &v37);
				((TUP*)PTRPTR(v25))->cells[0] = MKTUP(v37);
				branch_ZPlusC99Branch_34 = v25;
				branch_Str_33 = v38;
				branch_ZPlusMirth_32 = v36;
				branch_Bool_31 = v28;
				branch_C99ReprType_30 = v26;
				branch_ZPlusC99Resource_29 = v23;
			} else {
				STR* v39;
				STRLIT(v39, "0", 1);
				branch_ZPlusC99Branch_34 = v25;
				branch_Str_33 = v39;
				branch_ZPlusMirth_32 = v27;
				branch_Bool_31 = v28;
				branch_C99ReprType_30 = v26;
				branch_ZPlusC99Resource_29 = v23;
			}
			bool v40 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_34))->cells[3]);
			bool v41 = (branch_Bool_31 && v40);
			PTUP r42 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_34))->cells[0]);
			bool v43 = value_bool(((TUP*)PTRPTR(r42))->cells[3]);
			incref(MKBOOL(v43));
			bool v44 = (value_bool(MKBOOL(v41)) && value_bool(MKBOOL(v43)));
			((TUP*)PTRPTR(r42))->cells[3] = MKBOOL(v44);
			PTUP v45;
			PTUP v46;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_32, r42, &v45, &v46);
			incref(MKTUP(branch_C99ReprType_30));
			PTUP v47;
			STR* v48 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v45, branch_C99ReprType_30, &v47);
			PTUP v49;
			PTUP v50;
			mw_mirth_c99_ZPlusC99_put(v47, v46, v48, &v49, &v50);
			STR* v51;
			STRLIT(v51, " ", 1);
			PTUP v52;
			PTUP v53;
			mw_mirth_c99_ZPlusC99_put(v49, v50, v51, &v52, &v53);
			incref(MKSTR(branch_Str_33));
			PTUP v54;
			PTUP v55;
			mw_mirth_c99_ZPlusC99_put(v52, v53, branch_Str_33, &v54, &v55);
			STR* v56;
			STRLIT(v56, " = ", 3);
			PTUP v57;
			PTUP v58;
			mw_mirth_c99_ZPlusC99_put(v54, v55, v56, &v57, &v58);
			PTUP v59;
			mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_30, branch_Str_33, &v59);
			STR* v60 = mw_mirth_c99_ZPlusC99Resource_consume(branch_ZPlusC99Resource_29);
			PTUP v61;
			PTUP v62;
			mw_mirth_c99_ZPlusC99_put(v57, v58, v60, &v61, &v62);
			STR* v63;
			STRLIT(v63, ";", 1);
			PTUP v64;
			PTUP v65;
			mw_mirth_c99_ZPlusC99_put(v61, v62, v63, &v64, &v65);
			PTUP v66;
			PTUP v67;
			mw_mirth_c99_ZPlusC99_line(v64, v65, &v66, &v67);
			((TUP*)PTRPTR(v67))->cells[3] = MKBOOL(value_bool(MKBOOL(v43)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_34))->cells[0] = MKTUP(v67);
			PTUP v68;
			PTUP v69;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v66, branch_ZPlusC99Branch_34, v59, &v68, &v69);
			branch_ZPlusC99Branch_9 = v69;
			branch_ZPlusMirth_8 = v68;
		} break;
		case 3LL: { // +ConsLabel
			PTUP v70;
			PTUP v71;
			uint64_t v72 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_3, &v70, &v71);
			PTUP v73;
			PTUP v74;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v70, in_Bool_4, in_List_5, &v73, &v74);
			PTUP v75 = VTUP(((TUP*)PTRPTR(v71))->cells[0]);
			incref(MKTUP(v75));
			PTUP v76;
			PTUP v77;
			PTUP v78;
			mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp21(v71, v73, v74, v75, &v76, &v77, &v78);
			PTUP v79;
			bool v80 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v76, v72, &v79);
			PTUP branch_ZPlusMirth_81;
			PTUP branch_ZPlusC99Branch_82;
			if (v80) {
				PTUP v83;
				mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v78, &v83);
				PTUP v84;
				PTUP v85;
				mw_mirth_c99_pushZ_resourceZ_labelZBang(v79, v77, v72, v83, &v84, &v85);
				branch_ZPlusC99Branch_82 = v85;
				branch_ZPlusMirth_81 = v84;
			} else {
				PTUP v86;
				PTUP v87;
				mw_mirth_c99_pushZ_valueZ_labelZBang(v79, v77, v72, v78, &v86, &v87);
				branch_ZPlusC99Branch_82 = v87;
				branch_ZPlusMirth_81 = v86;
			}
			branch_ZPlusC99Branch_9 = branch_ZPlusC99Branch_82;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_81;
		} break;
		case 4LL: { // +WithLabel
			PTUP v88;
			PTUP v89;
			uint64_t v90 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_3, &v88, &v89);
			PTUP v91;
			PTUP v92;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v88, in_Bool_4, in_List_5, &v91, &v92);
			PTUP v93 = VTUP(((TUP*)PTRPTR(v89))->cells[0]);
			incref(MKTUP(v93));
			incref(MKTUP(v93));
			PTUP v94;
			bool v95 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v91, v93, &v94);
			PTUP branch_ZPlusC99Resource_96;
			PTUP branch_C99ReprType_97;
			bool branch_Bool_98;
			PTUP branch_ZPlusMirth_99;
			STR* branch_Str_100;
			PTUP branch_ZPlusC99Branch_101;
			if (v95) {
				PTUP r102 = VTUP(((TUP*)PTRPTR(v92))->cells[0]);
				PTUP v103;
				PTUP v104;
				STR* v105 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v94, r102, &v103, &v104);
				((TUP*)PTRPTR(v92))->cells[0] = MKTUP(v104);
				branch_ZPlusC99Branch_101 = v92;
				branch_Str_100 = v105;
				branch_ZPlusMirth_99 = v103;
				branch_Bool_98 = v95;
				branch_C99ReprType_97 = v93;
				branch_ZPlusC99Resource_96 = v89;
			} else {
				STR* v106;
				STRLIT(v106, "0", 1);
				branch_ZPlusC99Branch_101 = v92;
				branch_Str_100 = v106;
				branch_ZPlusMirth_99 = v94;
				branch_Bool_98 = v95;
				branch_C99ReprType_97 = v93;
				branch_ZPlusC99Resource_96 = v89;
			}
			bool v107 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_101))->cells[3]);
			bool v108 = (branch_Bool_98 && v107);
			PTUP r109 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_101))->cells[0]);
			bool v110 = value_bool(((TUP*)PTRPTR(r109))->cells[3]);
			incref(MKBOOL(v110));
			bool v111 = (value_bool(MKBOOL(v108)) && value_bool(MKBOOL(v110)));
			((TUP*)PTRPTR(r109))->cells[3] = MKBOOL(v111);
			PTUP v112;
			PTUP v113;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_99, r109, &v112, &v113);
			incref(MKTUP(branch_C99ReprType_97));
			PTUP v114;
			STR* v115 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v112, branch_C99ReprType_97, &v114);
			PTUP v116;
			PTUP v117;
			mw_mirth_c99_ZPlusC99_put(v114, v113, v115, &v116, &v117);
			STR* v118;
			STRLIT(v118, " ", 1);
			PTUP v119;
			PTUP v120;
			mw_mirth_c99_ZPlusC99_put(v116, v117, v118, &v119, &v120);
			incref(MKSTR(branch_Str_100));
			PTUP v121;
			PTUP v122;
			mw_mirth_c99_ZPlusC99_put(v119, v120, branch_Str_100, &v121, &v122);
			STR* v123;
			STRLIT(v123, " = ", 3);
			PTUP v124;
			PTUP v125;
			mw_mirth_c99_ZPlusC99_put(v121, v122, v123, &v124, &v125);
			PTUP v126;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_97, branch_Str_100, &v126);
			STR* v127 = mw_mirth_c99_ZPlusC99Resource_consume(branch_ZPlusC99Resource_96);
			PTUP v128;
			PTUP v129;
			mw_mirth_c99_ZPlusC99_put(v124, v125, v127, &v128, &v129);
			STR* v130;
			STRLIT(v130, ";", 1);
			PTUP v131;
			PTUP v132;
			mw_mirth_c99_ZPlusC99_put(v128, v129, v130, &v131, &v132);
			PTUP v133;
			PTUP v134;
			mw_mirth_c99_ZPlusC99_line(v131, v132, &v133, &v134);
			((TUP*)PTRPTR(v134))->cells[3] = MKBOOL(value_bool(MKBOOL(v110)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_101))->cells[0] = MKTUP(v134);
			PTUP v135;
			bool v136 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v133, v90, &v135);
			PTUP branch_ZPlusMirth_137;
			PTUP branch_ZPlusC99Branch_138;
			if (v136) {
				PTUP v139;
				mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v126, &v139);
				PTUP v140;
				PTUP v141;
				mw_mirth_c99_pushZ_resourceZ_labelZBang(v135, branch_ZPlusC99Branch_101, v90, v139, &v140, &v141);
				branch_ZPlusC99Branch_138 = v141;
				branch_ZPlusMirth_137 = v140;
			} else {
				PTUP v142;
				PTUP v143;
				mw_mirth_c99_pushZ_valueZ_labelZBang(v135, branch_ZPlusC99Branch_101, v90, v126, &v142, &v143);
				branch_ZPlusC99Branch_138 = v143;
				branch_ZPlusMirth_137 = v142;
			}
			branch_ZPlusC99Branch_9 = branch_ZPlusC99Branch_138;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_137;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_7 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_6 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Stack_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusC99Branch_7;
	switch (PTREXTRA(in_ZPlusC99Stack_3)) {
		case 0LL: { // +Nil
			PTUP v8;
			PTUP v9;
			mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v8, &v9);
			branch_ZPlusC99Branch_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // +Cons
			PTUP v10;
			PTUP v11;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_3, &v10, &v11);
			PTUP v12 = VTUP(((TUP*)PTRPTR(v11))->cells[0]);
			incref(MKTUP(v12));
			incref(MKTUP(v12));
			PTUP v13;
			PTUP v14;
			PTUP v15;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v12, &v13, &v14, &v15);
			PTUP v16;
			STR* v17 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v13, v12, v15, &v16);
			STR* v18 = value_str(((TUP*)PTRPTR(VTUP(MKTUP(v11))))->cells[1]);
			incref(MKSTR(v18));
			PTUP v19 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(v11))))->cells[0]);
			incref(MKTUP(v19));
			PTUP v20;
			bool v21 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v16, v19, &v20);
			PTUP v22;
			PTUP v23;
			mw_mirth_c99_ZPlusC99Branch_c99Z_lineZ_if_1_sp24(v17, v18, v20, v21, v14, &v22, &v23);
			PTUP v24;
			PTUP v25;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v22, v23, VTUP(MKTUP(v10)), &v24, &v25);
			PTUP v26;
			PTUP v27;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v24, v25, VTUP(MKTUP(v11)), &v26, &v27);
			branch_ZPlusC99Branch_7 = v27;
			branch_ZPlusMirth_6 = v26;
		} break;
		case 2LL: { // +With
			PTUP v28;
			PTUP v29;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_3, &v28, &v29);
			PTUP v30 = VTUP(((TUP*)PTRPTR(v29))->cells[0]);
			incref(MKTUP(v30));
			incref(MKTUP(v30));
			PTUP v31;
			PTUP v32;
			PTUP v33;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v30, &v31, &v32, &v33);
			PTUP v34;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v33, &v34);
			PTUP v35;
			STR* v36 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v31, v30, v34, &v35);
			STR* v37 = value_str(((TUP*)PTRPTR(VTUP(MKTUP(v29))))->cells[1]);
			incref(MKSTR(v37));
			PTUP v38 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(v29))))->cells[0]);
			incref(MKTUP(v38));
			PTUP v39;
			bool v40 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v35, v38, &v39);
			PTUP v41;
			PTUP v42;
			mw_mirth_c99_ZPlusC99Branch_c99Z_lineZ_if_1_sp24(v36, v37, v39, v40, v32, &v41, &v42);
			PTUP v43;
			PTUP v44;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v41, v42, VTUP(MKTUP(v28)), &v43, &v44);
			PTUP v45;
			PTUP v46;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v43, v44, VTUP(MKTUP(v29)), &v45, &v46);
			branch_ZPlusC99Branch_7 = v46;
			branch_ZPlusMirth_6 = v45;
		} break;
		case 3LL: { // +ConsLabel
			PTUP v47;
			PTUP v48;
			uint64_t v49 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_3, &v47, &v48);
			PTUP v50 = VTUP(((TUP*)PTRPTR(v48))->cells[0]);
			incref(MKTUP(v50));
			incref(MKTUP(v50));
			PTUP v51;
			PTUP v52;
			PTUP v53;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v50, v49, &v51, &v52, &v53);
			PTUP v54;
			STR* v55 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v51, v50, v53, &v54);
			STR* v56 = value_str(((TUP*)PTRPTR(VTUP(MKTUP(v48))))->cells[1]);
			incref(MKSTR(v56));
			PTUP v57 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(v48))))->cells[0]);
			incref(MKTUP(v57));
			PTUP v58;
			bool v59 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v54, v57, &v58);
			PTUP v60;
			PTUP v61;
			mw_mirth_c99_ZPlusC99Branch_c99Z_lineZ_if_1_sp24(v55, v56, v58, v59, v52, &v60, &v61);
			PTUP v62;
			PTUP v63;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v60, v61, VTUP(MKTUP(v47)), &v62, &v63);
			PTUP v64;
			PTUP v65;
			mw_mirth_c99_pushZ_valueZ_labelZBang(v62, v63, v49, VTUP(MKTUP(v48)), &v64, &v65);
			branch_ZPlusC99Branch_7 = v65;
			branch_ZPlusMirth_6 = v64;
		} break;
		case 4LL: { // +WithLabel
			PTUP v66;
			PTUP v67;
			uint64_t v68 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_3, &v66, &v67);
			PTUP v69 = VTUP(((TUP*)PTRPTR(v67))->cells[0]);
			incref(MKTUP(v69));
			incref(MKTUP(v69));
			PTUP v70;
			PTUP v71;
			PTUP v72;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v69, v68, &v70, &v71, &v72);
			PTUP v73;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v72, &v73);
			PTUP v74;
			STR* v75 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v70, v69, v73, &v74);
			STR* v76 = value_str(((TUP*)PTRPTR(VTUP(MKTUP(v67))))->cells[1]);
			incref(MKSTR(v76));
			PTUP v77 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(v67))))->cells[0]);
			incref(MKTUP(v77));
			PTUP v78;
			bool v79 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v74, v77, &v78);
			PTUP v80;
			PTUP v81;
			mw_mirth_c99_ZPlusC99Branch_c99Z_lineZ_if_1_sp24(v75, v76, v78, v79, v71, &v80, &v81);
			PTUP v82;
			PTUP v83;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v80, v81, VTUP(MKTUP(v66)), &v82, &v83);
			PTUP v84;
			PTUP v85;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(v82, v83, v68, VTUP(MKTUP(v67)), &v84, &v85);
			branch_ZPlusC99Branch_7 = v85;
			branch_ZPlusMirth_6 = v84;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusMaybe_2, PTUP *out_ZPlusC99Stack_3) {
	PTUP branch_ZPlusMaybe_4;
	PTUP branch_ZPlusC99Stack_5;
	switch (PTREXTRA(in_ZPlusC99Stack_1)) {
		case 0LL: { // +Nil
			PTUP r6 = PTRMK(0LL /* +None */,0,0);
			PTUP r7 = PTRMK(0LL /* +Nil */,0,0);
			branch_ZPlusC99Stack_5 = r7;
			branch_ZPlusMaybe_4 = r6;
		} break;
		case 1LL: { // +Cons
			PTUP v8;
			PTUP v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_1, &v8, &v9);
			PTUP v10;
			mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v9), &v10);
			branch_ZPlusC99Stack_5 = v8;
			branch_ZPlusMaybe_4 = v10;
		} break;
		case 2LL: { // +With
			PTUP v11;
			PTUP v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_1, &v11, &v12);
			PTUP v13;
			PTUP v14;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v11, &v13, &v14);
			PTUP v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v14, v12, &v15);
			branch_ZPlusC99Stack_5 = v15;
			branch_ZPlusMaybe_4 = v13;
		} break;
		case 3LL: { // +ConsLabel
			PTUP v16;
			PTUP v17;
			uint64_t v18 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_1, &v16, &v17);
			PTUP v19;
			PTUP v20;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v16, &v19, &v20);
			PTUP v21;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v20, v17, v18, &v21);
			branch_ZPlusC99Stack_5 = v21;
			branch_ZPlusMaybe_4 = v19;
		} break;
		case 4LL: { // +WithLabel
			PTUP v22;
			PTUP v23;
			uint64_t v24 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_1, &v22, &v23);
			PTUP v25;
			PTUP v26;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v22, &v25, &v26);
			PTUP v27;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v26, v23, v24, &v27);
			branch_ZPlusC99Stack_5 = v27;
			branch_ZPlusMaybe_4 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusMaybe_2 = branch_ZPlusMaybe_4;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusMaybe_2, PTUP *out_ZPlusC99Stack_3) {
	PTUP branch_ZPlusMaybe_4;
	PTUP branch_ZPlusC99Stack_5;
	switch (PTREXTRA(in_ZPlusC99Stack_1)) {
		case 0LL: { // +Nil
			PTUP r6 = PTRMK(0LL /* +None */,0,0);
			PTUP r7 = PTRMK(0LL /* +Nil */,0,0);
			branch_ZPlusC99Stack_5 = r7;
			branch_ZPlusMaybe_4 = r6;
		} break;
		case 2LL: { // +With
			PTUP v8;
			PTUP v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_1, &v8, &v9);
			PTUP v10;
			mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v9), &v10);
			branch_ZPlusC99Stack_5 = v8;
			branch_ZPlusMaybe_4 = v10;
		} break;
		case 1LL: { // +Cons
			PTUP v11;
			PTUP v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_1, &v11, &v12);
			PTUP v13;
			PTUP v14;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v11, &v13, &v14);
			PTUP v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v14, v12, &v15);
			branch_ZPlusC99Stack_5 = v15;
			branch_ZPlusMaybe_4 = v13;
		} break;
		case 3LL: { // +ConsLabel
			PTUP v16;
			PTUP v17;
			uint64_t v18 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_1, &v16, &v17);
			PTUP v19;
			PTUP v20;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v16, &v19, &v20);
			PTUP v21;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v20, v17, v18, &v21);
			branch_ZPlusC99Stack_5 = v21;
			branch_ZPlusMaybe_4 = v19;
		} break;
		case 4LL: { // +WithLabel
			PTUP v22;
			PTUP v23;
			uint64_t v24 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_1, &v22, &v23);
			PTUP v25;
			PTUP v26;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v22, &v25, &v26);
			PTUP v27;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v26, v23, v24, &v27);
			branch_ZPlusC99Stack_5 = v27;
			branch_ZPlusMaybe_4 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusMaybe_2 = branch_ZPlusMaybe_4;
}
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Stack_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Stack_5, PTUP *out_ZPlusMaybe_7) {
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Stack_9;
	uint64_t branch_Label_10;
	PTUP branch_ZPlusMaybe_11;
	switch (PTREXTRA(in_ZPlusC99Stack_2)) {
		case 0LL: { // +Nil
			PTUP r12 = PTRMK(0LL /* +None */,0,0);
			PTUP r13 = PTRMK(0LL /* +Nil */,0,0);
			branch_ZPlusMaybe_11 = r12;
			branch_Label_10 = in_Label_3;
			branch_ZPlusC99Stack_9 = r13;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // +Cons
			PTUP v14;
			PTUP v15;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_2, &v14, &v15);
			PTUP v16;
			PTUP v17;
			PTUP v18;
			uint64_t v19 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_ZPlusMirth_1, v14, in_Label_3, &v16, &v17, &v18);
			PTUP v20;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v17, v15, &v20);
			branch_ZPlusMaybe_11 = v18;
			branch_Label_10 = v19;
			branch_ZPlusC99Stack_9 = v20;
			branch_ZPlusMirth_8 = v16;
		} break;
		case 2LL: { // +With
			PTUP v21;
			PTUP v22;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_2, &v21, &v22);
			PTUP v23;
			PTUP v24;
			PTUP v25;
			uint64_t v26 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_ZPlusMirth_1, v21, in_Label_3, &v23, &v24, &v25);
			PTUP v27;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v24, v22, &v27);
			branch_ZPlusMaybe_11 = v25;
			branch_Label_10 = v26;
			branch_ZPlusC99Stack_9 = v27;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 4LL: { // +WithLabel
			PTUP v28;
			PTUP v29;
			uint64_t v30 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_2, &v28, &v29);
			PTUP v31;
			PTUP v32;
			PTUP v33;
			uint64_t v34 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_ZPlusMirth_1, v28, in_Label_3, &v31, &v32, &v33);
			PTUP v35;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v32, v29, v30, &v35);
			branch_ZPlusMaybe_11 = v33;
			branch_Label_10 = v34;
			branch_ZPlusC99Stack_9 = v35;
			branch_ZPlusMirth_8 = v31;
		} break;
		case 3LL: { // +ConsLabel
			PTUP v36;
			PTUP v37;
			uint64_t v38 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_2, &v36, &v37);
			incref(MKU64(in_Label_3));
			incref(MKU64(v38));
			bool v39 = (value_u64(MKU64(v38)) == value_u64(MKU64(in_Label_3)));
			PTUP branch_ZPlusMirth_40;
			PTUP branch_ZPlusC99Stack_41;
			uint64_t branch_Label_42;
			PTUP branch_ZPlusMaybe_43;
			if (v39) {
				PTUP v44;
				mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v37), &v44);
				branch_ZPlusMaybe_43 = v44;
				branch_Label_42 = value_u64(MKU64(in_Label_3));
				branch_ZPlusC99Stack_41 = v36;
				branch_ZPlusMirth_40 = in_ZPlusMirth_1;
			} else {
				PTUP v45;
				PTUP v46;
				PTUP v47;
				uint64_t v48 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_ZPlusMirth_1, v36, value_u64(MKU64(in_Label_3)), &v45, &v46, &v47);
				PTUP v49;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v46, v37, value_u64(MKU64(v38)), &v49);
				branch_ZPlusMaybe_43 = v47;
				branch_Label_42 = v48;
				branch_ZPlusC99Stack_41 = v49;
				branch_ZPlusMirth_40 = v45;
			}
			branch_ZPlusMaybe_11 = branch_ZPlusMaybe_43;
			branch_Label_10 = branch_Label_42;
			branch_ZPlusC99Stack_9 = branch_ZPlusC99Stack_41;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_40;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMaybe_7 = branch_ZPlusMaybe_11;
	*out_ZPlusC99Stack_5 = branch_ZPlusC99Stack_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Label_10;
}
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Stack_2, uint64_t in_Label_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Stack_5, PTUP *out_ZPlusMaybe_7) {
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Stack_9;
	uint64_t branch_Label_10;
	PTUP branch_ZPlusMaybe_11;
	switch (PTREXTRA(in_ZPlusC99Stack_2)) {
		case 0LL: { // +Nil
			PTUP r12 = PTRMK(0LL /* +None */,0,0);
			PTUP r13 = PTRMK(0LL /* +Nil */,0,0);
			branch_ZPlusMaybe_11 = r12;
			branch_Label_10 = in_Label_3;
			branch_ZPlusC99Stack_9 = r13;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // +Cons
			PTUP v14;
			PTUP v15;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_2, &v14, &v15);
			PTUP v16;
			PTUP v17;
			PTUP v18;
			uint64_t v19 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_ZPlusMirth_1, v14, in_Label_3, &v16, &v17, &v18);
			PTUP v20;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v17, v15, &v20);
			branch_ZPlusMaybe_11 = v18;
			branch_Label_10 = v19;
			branch_ZPlusC99Stack_9 = v20;
			branch_ZPlusMirth_8 = v16;
		} break;
		case 2LL: { // +With
			PTUP v21;
			PTUP v22;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_2, &v21, &v22);
			PTUP v23;
			PTUP v24;
			PTUP v25;
			uint64_t v26 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_ZPlusMirth_1, v21, in_Label_3, &v23, &v24, &v25);
			PTUP v27;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v24, v22, &v27);
			branch_ZPlusMaybe_11 = v25;
			branch_Label_10 = v26;
			branch_ZPlusC99Stack_9 = v27;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 3LL: { // +ConsLabel
			PTUP v28;
			PTUP v29;
			uint64_t v30 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_2, &v28, &v29);
			PTUP v31;
			PTUP v32;
			PTUP v33;
			uint64_t v34 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_ZPlusMirth_1, v28, in_Label_3, &v31, &v32, &v33);
			PTUP v35;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v32, v29, v30, &v35);
			branch_ZPlusMaybe_11 = v33;
			branch_Label_10 = v34;
			branch_ZPlusC99Stack_9 = v35;
			branch_ZPlusMirth_8 = v31;
		} break;
		case 4LL: { // +WithLabel
			PTUP v36;
			PTUP v37;
			uint64_t v38 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_2, &v36, &v37);
			incref(MKU64(in_Label_3));
			incref(MKU64(v38));
			bool v39 = (value_u64(MKU64(v38)) == value_u64(MKU64(in_Label_3)));
			PTUP branch_ZPlusMirth_40;
			PTUP branch_ZPlusC99Stack_41;
			uint64_t branch_Label_42;
			PTUP branch_ZPlusMaybe_43;
			if (v39) {
				PTUP v44;
				mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v37), &v44);
				branch_ZPlusMaybe_43 = v44;
				branch_Label_42 = value_u64(MKU64(in_Label_3));
				branch_ZPlusC99Stack_41 = v36;
				branch_ZPlusMirth_40 = in_ZPlusMirth_1;
			} else {
				PTUP v45;
				PTUP v46;
				PTUP v47;
				uint64_t v48 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_ZPlusMirth_1, v36, value_u64(MKU64(in_Label_3)), &v45, &v46, &v47);
				PTUP v49;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v46, v37, value_u64(MKU64(v38)), &v49);
				branch_ZPlusMaybe_43 = v47;
				branch_Label_42 = v48;
				branch_ZPlusC99Stack_41 = v49;
				branch_ZPlusMirth_40 = v45;
			}
			branch_ZPlusMaybe_11 = branch_ZPlusMaybe_43;
			branch_Label_10 = branch_Label_42;
			branch_ZPlusC99Stack_9 = branch_ZPlusC99Stack_41;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_40;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMaybe_7 = branch_ZPlusMaybe_11;
	*out_ZPlusC99Stack_5 = branch_ZPlusC99Stack_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Label_10;
}
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Stack_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusC99Branch_7;
	switch (PTREXTRA(in_ZPlusC99Stack_3)) {
		case 0LL: { // +Nil
			branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // +Cons
			PTUP v8;
			PTUP v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_3, &v8, &v9);
			PTUP v10;
			PTUP v11;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v8, &v10, &v11);
			PTUP v12;
			PTUP v13;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang(v10, v11, v9, &v12, &v13);
			branch_ZPlusC99Branch_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // +With
			PTUP v14;
			PTUP v15;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_3, &v14, &v15);
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v14, &v16, &v17);
			PTUP v18;
			PTUP v19;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang(v16, v17, v15, &v18, &v19);
			branch_ZPlusC99Branch_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 3LL: { // +ConsLabel
			PTUP v20;
			PTUP v21;
			uint64_t v22 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_3, &v20, &v21);
			PTUP v23;
			PTUP v24;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v20, &v23, &v24);
			PTUP v25;
			PTUP v26;
			mw_mirth_c99_pushZ_valueZ_labelZ_directZBang(v23, v24, v22, v21, &v25, &v26);
			branch_ZPlusC99Branch_7 = v26;
			branch_ZPlusMirth_6 = v25;
		} break;
		case 4LL: { // +WithLabel
			PTUP v27;
			PTUP v28;
			uint64_t v29 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_3, &v27, &v28);
			PTUP v30;
			PTUP v31;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v27, &v30, &v31);
			PTUP v32;
			PTUP v33;
			mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang(v30, v31, v29, v28, &v32, &v33);
			branch_ZPlusC99Branch_7 = v33;
			branch_ZPlusMirth_6 = v32;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_ZPlusC99Stack_rdup (PTUP in_ZPlusC99Stack_1, PTUP *out_ZPlusC99Stack_2, PTUP *out_ZPlusC99Stack_3) {
	PTUP branch_ZPlusC99Stack_4;
	PTUP branch_ZPlusC99Stack_5;
	switch (PTREXTRA(in_ZPlusC99Stack_1)) {
		case 0LL: { // +Nil
			PTUP r6 = PTRMK(0LL /* +Nil */,0,0);
			PTUP r7 = PTRMK(0LL /* +Nil */,0,0);
			branch_ZPlusC99Stack_5 = r7;
			branch_ZPlusC99Stack_4 = r6;
		} break;
		case 1LL: { // +Cons
			PTUP v8;
			PTUP v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_1, &v8, &v9);
			PTUP v10;
			PTUP v11;
			mw_mirth_c99_ZPlusC99Stack_rdup(v8, &v10, &v11);
			PTUP v12;
			PTUP v13;
			mw_mirth_c99_ZPlusC99Value_rdup(v9, &v12, &v13);
			PTUP v14;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v11, v13, &v14);
			PTUP v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v10, v12, &v15);
			branch_ZPlusC99Stack_5 = v14;
			branch_ZPlusC99Stack_4 = v15;
		} break;
		case 2LL: { // +With
			PTUP v16;
			PTUP v17;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_1, &v16, &v17);
			PTUP v18;
			PTUP v19;
			mw_mirth_c99_ZPlusC99Stack_rdup(v16, &v18, &v19);
			PTUP v20;
			PTUP v21;
			mw_mirth_c99_ZPlusC99Resource_rdup(v17, &v20, &v21);
			PTUP v22;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v19, v21, &v22);
			PTUP v23;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v18, v20, &v23);
			branch_ZPlusC99Stack_5 = v22;
			branch_ZPlusC99Stack_4 = v23;
		} break;
		case 3LL: { // +ConsLabel
			PTUP v24;
			PTUP v25;
			uint64_t v26 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_1, &v24, &v25);
			PTUP v27;
			PTUP v28;
			mw_mirth_c99_ZPlusC99Stack_rdup(v24, &v27, &v28);
			PTUP v29;
			PTUP v30;
			mw_mirth_c99_ZPlusC99Value_rdup(v25, &v29, &v30);
			PTUP v31;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v28, v30, v26, &v31);
			PTUP v32;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v27, v29, v26, &v32);
			branch_ZPlusC99Stack_5 = v31;
			branch_ZPlusC99Stack_4 = v32;
		} break;
		case 4LL: { // +WithLabel
			PTUP v33;
			PTUP v34;
			uint64_t v35 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_1, &v33, &v34);
			PTUP v36;
			PTUP v37;
			mw_mirth_c99_ZPlusC99Stack_rdup(v33, &v36, &v37);
			PTUP v38;
			PTUP v39;
			mw_mirth_c99_ZPlusC99Resource_rdup(v34, &v38, &v39);
			PTUP v40;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v37, v39, v35, &v40);
			PTUP v41;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v36, v38, v35, &v41);
			branch_ZPlusC99Stack_5 = v40;
			branch_ZPlusC99Stack_4 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusC99Stack_2 = branch_ZPlusC99Stack_4;
}
static void mw_mirth_c99_ZPlusC99Stack_rdrop (PTUP in_ZPlusC99Stack_1) {
	switch (PTREXTRA(in_ZPlusC99Stack_1)) {
		case 0LL: { // +Nil
		} break;
		case 1LL: { // +Cons
			PTUP v2;
			PTUP v3;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_1, &v2, &v3);
			mw_mirth_c99_ZPlusC99Value_rdrop(v3);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v2);
		} break;
		case 2LL: { // +With
			PTUP v4;
			PTUP v5;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_1, &v4, &v5);
			mw_mirth_c99_ZPlusC99Resource_rdrop(v5);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v4);
		} break;
		case 3LL: { // +ConsLabel
			PTUP v6;
			PTUP v7;
			uint64_t v8 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_1, &v6, &v7);
			mw_mirth_c99_ZPlusC99Value_rdrop(v7);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v6);
		} break;
		case 4LL: { // +WithLabel
			PTUP v9;
			PTUP v10;
			uint64_t v11 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_1, &v9, &v10);
			mw_mirth_c99_ZPlusC99Resource_rdrop(v10);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
}
static void mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang (PTUP in_ZPlusMirth_1, PTUP in_StackType_2, PTUP in_ZPlusC99Branch_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99BranchSplit_5) {
	int64_t v6 = 3LL /* Branch */;
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[0]);
	PTUP v8;
	PTUP v9;
	bool v10;
	PTUP v11 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(in_ZPlusMirth_1, r7, in_StackType_2, v6, &v8, &v9, &v10);
	((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[0] = MKTUP(v9);
	incref(MKTUP(v11));
	bool v12 = true;
	PTUP r13 = v8;
	PTUP r14 = in_ZPlusC99Branch_3;
	PTUP v15 = v11;
	bool v16 = v12;
	bool v17 = v12;
	while (v17) {
		PTUP r18 = r13;
		PTUP r19 = r14;
		PTUP v20 = v15;
		bool v21 = v16;
		PTUP branch_ZPlusMirth_22;
		PTUP branch_ZPlusC99Branch_23;
		PTUP branch_List_24;
		bool branch_Bool_25;
		switch (PTREXTRA(v20)) {
			case 1LL: { // Cons
				PTUP v26;
				VAL v27 = mtp_std_list_List_1_Cons(v20, &v26);
				PTUP v28;
				PTUP v29;
				mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang(r18, r19, VTUP(v27), &v28, &v29);
				bool v30 = true;
				branch_Bool_25 = v30;
				branch_List_24 = v26;
				branch_ZPlusC99Branch_23 = v29;
				branch_ZPlusMirth_22 = v28;
			} break;
			case 0LL: { // Nil
				PTUP v31 = PTRMK(0LL /* Nil */,0,0);
				bool v32 = false;
				branch_Bool_25 = v32;
				branch_List_24 = v31;
				branch_ZPlusC99Branch_23 = r19;
				branch_ZPlusMirth_22 = r18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v17 = branch_Bool_25;
		v16 = branch_Bool_25;
		v15 = branch_List_24;
		r14 = branch_ZPlusC99Branch_23;
		r13 = branch_ZPlusMirth_22;
	}
	decref(MKTUP(v15));
	PTUP v33;
	PTUP v34;
	PTUP v35;
	bool v36;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(r14, &v33, &v34, &v35, &v36);
	bool v37 = false;
	PTUP v38;
	mtw_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit(v33, v34, v35, v11, v36, v37, &v38);
	*out_ZPlusC99BranchSplit_5 = v38;
	*out_ZPlusMirth_4 = r13;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Branch_4) {
	PTUP v5;
	PTUP v6;
	PTUP v7;
	PTUP v8;
	bool v9;
	bool v10;
	mtp_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit(in_ZPlusC99BranchSplit_2, &v5, &v6, &v7, &v8, &v9, &v10);
	mw_mirth_c99_ZPlusC99Stack_rdrop(v6);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(in_ZPlusMirth_1, v5, v10, v7, &v11, &v12);
	PTUP v13;
	PTUP v14;
	mw_std_list_List_1_for_1_sp18(v11, v12, v8, &v13, &v14);
	*out_ZPlusC99Branch_4 = v14;
	*out_ZPlusMirth_3 = v13;
}
static PTUP mw_mirth_c99_ZPlusC99Branch_varZ_lookup (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[2]);
	incref(MKTUP(v7));
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	bool v9 = true;
	uint64_t v10 = in_Var_3;
	PTUP v11 = v8;
	PTUP v12 = v7;
	bool v13 = v9;
	bool v14 = v9;
	while (v14) {
		uint64_t v15 = v10;
		PTUP v16 = v11;
		PTUP v17 = v12;
		bool v18 = v13;
		PTUP v19;
		PTUP v20 = mw_std_list_List_1_uncons(v17, &v19);
		uint64_t branch_Var_21;
		PTUP branch_Maybe_22;
		PTUP branch_List_23;
		bool branch_Bool_24;
		switch (PTREXTRA(v20)) {
			case 1LL: { // Some
				VAL v25 = mtp_std_maybe_Maybe_1_Some(v20);
				incref(MKTUP(VTUP(v25)));
				incref(MKU64(v15));
				uint64_t v26 = value_u64(((TUP*)PTRPTR(VTUP(MKTUP(VTUP(v25)))))->cells[0]);
				decref(MKTUP(VTUP(MKTUP(VTUP(v25)))));
				bool v27 = (v26 == value_u64(MKU64(v15)));
				uint64_t branch_Var_28;
				PTUP branch_Maybe_29;
				if (v27) {
					PTUP v30 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v25)));
					branch_Maybe_29 = v30;
					branch_Var_28 = value_u64(MKU64(v15));
				} else {
					decref(MKTUP(VTUP(v25)));
					PTUP v31 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_29 = v31;
					branch_Var_28 = value_u64(MKU64(v15));
				}
				uint64_t branch_Var_32;
				PTUP branch_Maybe_33;
				PTUP branch_List_34;
				switch (PTREXTRA(branch_Maybe_29)) {
					case 0LL: { // None
						branch_List_34 = VTUP(MKTUP(v19));
						branch_Maybe_33 = VTUP(MKTUP(v16));
						branch_Var_32 = branch_Var_28;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v19))));
						decref(MKTUP(VTUP(MKTUP(v16))));
						PTUP v35 = PTRMK(0LL /* Nil */,0,0);
						branch_List_34 = v35;
						branch_Maybe_33 = branch_Maybe_29;
						branch_Var_32 = branch_Var_28;
					} break;
				}
				bool v36 = true;
				branch_Bool_24 = v36;
				branch_List_23 = branch_List_34;
				branch_Maybe_22 = branch_Maybe_33;
				branch_Var_21 = branch_Var_32;
			} break;
			case 0LL: { // None
				bool v37 = false;
				branch_Bool_24 = v37;
				branch_List_23 = v19;
				branch_Maybe_22 = v16;
				branch_Var_21 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_24;
		v13 = branch_Bool_24;
		v12 = branch_List_23;
		v11 = branch_Maybe_22;
		v10 = branch_Var_21;
	}
	decref(MKTUP(v12));
	decref(MKU64(v10));
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return VTUP(MKTUP(v11));
}
static void mw_mirth_c99_ZPlusC99Branch_varZ_getZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6) {
	PTUP v7;
	PTUP v8;
	PTUP v9 = mw_mirth_c99_ZPlusC99Branch_varZ_lookup(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Var_3, &v7, &v8);
	PTUP branch_ZPlusMirth_10;
	VAL branch_z_x1_11;
	VAL branch_z_x2_12;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x2_12 = v13;
			branch_z_x1_11 = MKTUP(v8);
			branch_ZPlusMirth_10 = v7;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "[c99] variable unexpectedly missing from environment", 52);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v7, v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v17;
	STR* v18;
	PTUP v19;
	mtp_mirth_c99_C99Var_C99Var(VTUP(branch_z_x2_12), &v17, &v18, &v19);
	PTUP v20;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v19, v18, &v20);
	*out_ZPlusC99Value_6 = v20;
	*out_ZPlusC99Branch_5 = VTUP(branch_z_x1_11);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6) {
	PTUP v7;
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99Branch_varZ_getZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Var_3, &v7, &v8, &v9);
	PTUP v10;
	PTUP v11;
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(v7, v8, v9, &v10, &v11, &v12, &v13);
	mw_mirth_c99_ZPlusC99Value_rdrop(v13);
	*out_ZPlusC99Value_6 = v12;
	*out_ZPlusC99Branch_5 = v11;
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP in_ZPlusC99Value_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP v7;
	STR* v8;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_4, &v7, &v8);
	PTUP v9 = mtw_mirth_c99_C99Var_C99Var(in_Var_3, v8, v7);
	PTUP v10 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[2]);
	incref(MKTUP(v10));
	PTUP v11 = mw_std_list_List_1_cons(MKTUP(v9), v10);
	PTUP v12 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[2]);
	decref(MKTUP(v12));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[2] = MKTUP(v11);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Branch_4, PTUP *out_ZPlusC99Value_6) {
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[2]);
	incref(MKTUP(v7));
	PTUP v8;
	PTUP v9 = mw_std_list_List_1_uncons(v7, &v8);
	PTUP v10 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[2]);
	decref(MKTUP(v10));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[2] = MKTUP(v8);
	PTUP branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	VAL branch_z_x2_13;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x2_13 = v14;
			branch_z_x1_12 = MKTUP(in_ZPlusC99Branch_2);
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v15;
			STRLIT(v15, "[c99] variable environment unexpectedly empty", 45);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v18;
	STR* v19;
	PTUP v20;
	mtp_mirth_c99_C99Var_C99Var(VTUP(branch_z_x2_13), &v18, &v19, &v20);
	PTUP v21;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v20, v19, &v21);
	*out_ZPlusC99Value_6 = v21;
	*out_ZPlusC99Branch_4 = VTUP(branch_z_x1_12);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_11;
	return v18;
}
static void mw_mirth_c99_ZPlusC99_startZ_branchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, bool in_Bool_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP r7 = PTRMK(0LL /* +Nil */,0,0);
	PTUP v8;
	mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(in_ZPlusC99_2, r7, in_List_4, in_Bool_3, &v8);
	*out_ZPlusC99Branch_6 = v8;
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4, bool *out_Bool_5, PTUP *out_List_6) {
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP r8 = PTRMK(0LL /* +Nil */,0,0);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(r8);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, r7, &v9, &v10);
	PTUP v11;
	PTUP v12;
	PTUP v13;
	bool v14;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v10, &v11, &v12, &v13, &v14);
	mw_mirth_c99_ZPlusC99Stack_rdrop(v12);
	*out_List_6 = v13;
	*out_Bool_5 = v14;
	*out_ZPlusC99_4 = v11;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99Branch_4) {
	PTUP v5;
	PTUP v6;
	bool v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v5, &v6, &v7, &v8);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(v5, v6, v7, v8, &v9, &v10);
	*out_ZPlusC99Branch_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_6) {
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(r7, &v8, &v9);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v9);
	PTUP branch_ZPlusC99Branch_10;
	PTUP branch_ZPlusMirth_11;
	PTUP branch_ZPlusC99Value_12;
	switch (PTREXTRA(v8)) {
		case 1LL: { // +Some
			VAL v13;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v8, &v13);
			PTUP v14;
			PTUP v15;
			mw_mirth_c99_ZPlusC99Value_convertZ_valueZBang(in_ZPlusMirth_1, VTUP(v13), in_C99ReprType_3, &v14, &v15);
			branch_ZPlusC99Value_12 = v15;
			branch_ZPlusMirth_11 = v14;
			branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		} break;
		case 0LL: { // +None
			PTUP v16;
			PTUP v17;
			PTUP v18;
			mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_3, &v16, &v17, &v18);
			branch_ZPlusC99Value_12 = v18;
			branch_ZPlusMirth_11 = v16;
			branch_ZPlusC99Branch_10 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Value_6 = branch_ZPlusC99Value_12;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Value_7) {
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v9;
	PTUP v10;
	PTUP v11;
	uint64_t v12 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_ZPlusMirth_1, r8, in_Label_4, &v9, &v10, &v11);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v10);
	PTUP branch_ZPlusC99Branch_13;
	PTUP branch_ZPlusMirth_14;
	PTUP branch_ZPlusC99Value_15;
	switch (PTREXTRA(v11)) {
		case 1LL: { // +Some
			VAL v16;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v11, &v16);
			PTUP v17;
			PTUP v18;
			mw_mirth_c99_ZPlusC99Value_convertZ_valueZBang(v9, VTUP(v16), in_C99ReprType_3, &v17, &v18);
			branch_ZPlusC99Value_15 = v18;
			branch_ZPlusMirth_14 = v17;
			branch_ZPlusC99Branch_13 = in_ZPlusC99Branch_2;
		} break;
		case 0LL: { // +None
			PTUP v19;
			PTUP v20;
			PTUP v21;
			mw_mirth_c99_popZ_valueZ_labelZ_directZBang(v9, in_ZPlusC99Branch_2, in_C99ReprType_3, v12, &v19, &v20, &v21);
			branch_ZPlusC99Value_15 = v21;
			branch_ZPlusMirth_14 = v19;
			branch_ZPlusC99Branch_13 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Value_7 = branch_ZPlusC99Value_15;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_14;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Resource_6) {
	PTUP r7 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(r7, &v8, &v9);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v9);
	PTUP branch_ZPlusC99Branch_10;
	PTUP branch_ZPlusMirth_11;
	PTUP branch_ZPlusC99Resource_12;
	switch (PTREXTRA(v8)) {
		case 1LL: { // +Some
			VAL v13;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v8, &v13);
			PTUP v14;
			PTUP v15;
			mw_mirth_c99_ZPlusC99Resource_convertZ_resourceZBang(in_ZPlusMirth_1, VTUP(v13), in_C99ReprType_3, &v14, &v15);
			branch_ZPlusC99Resource_12 = v15;
			branch_ZPlusMirth_11 = v14;
			branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		} break;
		case 0LL: { // +None
			PTUP v16;
			PTUP v17;
			PTUP v18;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_3, &v16, &v17, &v18);
			branch_ZPlusC99Resource_12 = v18;
			branch_ZPlusMirth_11 = v16;
			branch_ZPlusC99Branch_10 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Resource_6 = branch_ZPlusC99Resource_12;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, uint64_t in_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Resource_7) {
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v9;
	PTUP v10;
	PTUP v11;
	uint64_t v12 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_ZPlusMirth_1, r8, in_Label_4, &v9, &v10, &v11);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v10);
	PTUP branch_ZPlusC99Branch_13;
	PTUP branch_ZPlusMirth_14;
	PTUP branch_ZPlusC99Resource_15;
	switch (PTREXTRA(v11)) {
		case 1LL: { // +Some
			VAL v16;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v11, &v16);
			PTUP v17;
			PTUP v18;
			mw_mirth_c99_ZPlusC99Resource_convertZ_resourceZBang(v9, VTUP(v16), in_C99ReprType_3, &v17, &v18);
			branch_ZPlusC99Resource_15 = v18;
			branch_ZPlusMirth_14 = v17;
			branch_ZPlusC99Branch_13 = in_ZPlusC99Branch_2;
		} break;
		case 0LL: { // +None
			PTUP v19;
			PTUP v20;
			PTUP v21;
			mw_mirth_c99_popZ_resourceZ_labelZ_directZBang(v9, in_ZPlusC99Branch_2, in_C99ReprType_3, v12, &v19, &v20, &v21);
			branch_ZPlusC99Resource_15 = v21;
			branch_ZPlusMirth_14 = v19;
			branch_ZPlusC99Branch_13 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Resource_7 = branch_ZPlusC99Resource_15;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_14;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v7;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(r6, in_ZPlusC99Value_3, &v7);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v7);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1]);
	PTUP v7;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(r6, in_ZPlusC99Resource_3, &v7);
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[1] = MKTUP(v7);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_ZPlusC99Value_convertZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Value_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Value_5) {
	incref(MKTUP(in_C99ReprType_3));
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_ZPlusC99Value_rdup(in_ZPlusC99Value_2, &v6, &v7);
	PTUP v8;
	STR* v9 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_ZPlusMirth_1, in_C99ReprType_3, v7, &v8);
	STR* v10 = value_str(((TUP*)PTRPTR(v6))->cells[1]);
	decref(MKSTR(v10));
	((TUP*)PTRPTR(v6))->cells[1] = MKSTR(v9);
	PTUP v11 = VTUP(((TUP*)PTRPTR(v6))->cells[0]);
	decref(MKTUP(v11));
	((TUP*)PTRPTR(v6))->cells[0] = MKTUP(in_C99ReprType_3);
	*out_ZPlusC99Value_5 = v6;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_c99_ZPlusC99Resource_convertZ_resourceZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Resource_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Resource_5) {
	incref(MKTUP(in_C99ReprType_3));
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_ZPlusC99Resource_rdup(in_ZPlusC99Resource_2, &v6, &v7);
	PTUP v8;
	STR* v9 = mw_mirth_c99_ZPlusC99Resource_consumeZ_as(in_ZPlusMirth_1, in_C99ReprType_3, v7, &v8);
	STR* v10 = value_str(((TUP*)PTRPTR(v6))->cells[1]);
	decref(MKSTR(v10));
	((TUP*)PTRPTR(v6))->cells[1] = MKSTR(v9);
	PTUP v11 = VTUP(((TUP*)PTRPTR(v6))->cells[0]);
	decref(MKTUP(v11));
	((TUP*)PTRPTR(v6))->cells[0] = MKTUP(in_C99ReprType_3);
	*out_ZPlusC99Resource_5 = v6;
	*out_ZPlusMirth_4 = v8;
}
static PTUP mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Type_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, in_Type_3, &v7);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static PTUP mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Resource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v7;
	PTUP v8 = mw_mirth_type_Resource_c99Z_repr(in_ZPlusMirth_1, in_Resource_3, &v7);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static PTUP mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Value_7) {
	PTUP v8;
	PTUP v9 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, in_StackType_3, &v8);
	PTUP v10;
	VAL v11 = mw_std_maybe_Maybe_1_unwrap_1_sp4(v8, v9, &v10);
	VAL v12 = ((TUP*)PTRPTR(value_tup(v11)))->cells[0];
	VAL v13 = ((TUP*)PTRPTR(value_tup(v11)))->cells[1];
	tup_decref_outer(value_tup(v11));
	PTUP v14;
	PTUP v15;
	PTUP v16 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v10, in_ZPlusC99Branch_2, VTUP(v13), &v14, &v15);
	PTUP v17;
	PTUP v18;
	PTUP v19;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v14, v15, v16, &v17, &v18, &v19);
	*out_ZPlusC99Value_7 = v19;
	*out_ZPlusC99Branch_5 = v18;
	*out_ZPlusMirth_4 = v17;
	return VTUP(v12);
}
static PTUP mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusC99Resource_7) {
	PTUP v8;
	PTUP v9 = mw_mirth_type_StackType_forceZ_withZAskZBang(in_ZPlusMirth_1, in_StackType_3, &v8);
	PTUP v10;
	VAL v11 = mw_std_maybe_Maybe_1_unwrap_1_sp4(v8, v9, &v10);
	VAL v12 = ((TUP*)PTRPTR(value_tup(v11)))->cells[0];
	VAL v13 = ((TUP*)PTRPTR(value_tup(v11)))->cells[1];
	tup_decref_outer(value_tup(v11));
	PTUP v14;
	PTUP v15;
	PTUP v16 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v10, in_ZPlusC99Branch_2, VTUP(v13), &v14, &v15);
	PTUP v17;
	PTUP v18;
	PTUP v19;
	mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v14, v15, v16, &v17, &v18, &v19);
	*out_ZPlusC99Resource_7 = v19;
	*out_ZPlusC99Branch_5 = v18;
	*out_ZPlusMirth_4 = v17;
	return VTUP(v12);
}
static PTUP mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_StackType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Value_8) {
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(in_ZPlusMirth_1, in_Label_3, in_StackType_4, &v9);
	PTUP v11;
	VAL v12 = mw_std_maybe_Maybe_1_unwrap_1_sp4(v9, v10, &v11);
	VAL v13 = ((TUP*)PTRPTR(value_tup(v12)))->cells[0];
	VAL v14 = ((TUP*)PTRPTR(value_tup(v12)))->cells[1];
	tup_decref_outer(value_tup(v12));
	PTUP v15;
	PTUP v16;
	PTUP v17 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v11, in_ZPlusC99Branch_2, VTUP(v14), &v15, &v16);
	PTUP v18;
	PTUP v19;
	PTUP v20;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v15, v16, VTUP(MKTUP(v17)), value_u64(MKU64(in_Label_3)), &v18, &v19, &v20);
	*out_ZPlusC99Value_8 = v20;
	*out_ZPlusC99Branch_6 = v19;
	*out_ZPlusMirth_5 = v18;
	return VTUP(MKTUP(VTUP(v13)));
}
static PTUP mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Label_3, PTUP in_StackType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Resource_8) {
	PTUP v9;
	PTUP v10 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(in_ZPlusMirth_1, in_Label_3, in_StackType_4, &v9);
	PTUP v11;
	VAL v12 = mw_std_maybe_Maybe_1_unwrap_1_sp4(v9, v10, &v11);
	VAL v13 = ((TUP*)PTRPTR(value_tup(v12)))->cells[0];
	VAL v14 = ((TUP*)PTRPTR(value_tup(v12)))->cells[1];
	tup_decref_outer(value_tup(v12));
	PTUP v15;
	PTUP v16;
	PTUP v17 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v11, in_ZPlusC99Branch_2, VTUP(v14), &v15, &v16);
	PTUP v18;
	PTUP v19;
	PTUP v20;
	mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v15, v16, VTUP(MKTUP(v17)), value_u64(MKU64(in_Label_3)), &v18, &v19, &v20);
	*out_ZPlusC99Resource_8 = v20;
	*out_ZPlusC99Branch_6 = v19;
	*out_ZPlusMirth_5 = v18;
	return VTUP(MKTUP(VTUP(v13)));
}
static void mw_mirth_c99_c99Z_primZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Atom_3, int64_t in_Prim_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusC99Branch_8;
	switch (in_Prim_4) {
		case 0LL: { // Id
			decref(MKTUP(in_Atom_3));
			branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Drop
			PTUP v9 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[5]);
			incref(MKTUP(v9));
			decref(MKTUP(in_Atom_3));
			PTUP v10;
			PTUP v11;
			PTUP v12;
			PTUP v13 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v9, &v10, &v11, &v12);
			decref(MKTUP(v13));
			PTUP v14;
			PTUP v15;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v10, v11, v12, &v14, &v15);
			branch_ZPlusC99Branch_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 1LL: { // Dup
			PTUP v16 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[5]);
			incref(MKTUP(v16));
			decref(MKTUP(in_Atom_3));
			PTUP v17;
			PTUP v18;
			PTUP v19;
			PTUP v20 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v16, &v17, &v18, &v19);
			decref(MKTUP(v20));
			PTUP v21;
			PTUP v22;
			PTUP v23;
			PTUP v24;
			mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(v17, v18, v19, &v21, &v22, &v23, &v24);
			PTUP v25;
			PTUP v26;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v21, v22, v23, &v25, &v26);
			PTUP v27;
			PTUP v28;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v25, v26, v24, &v27, &v28);
			branch_ZPlusC99Branch_8 = v28;
			branch_ZPlusMirth_7 = v27;
		} break;
		case 3LL: { // Swap
			PTUP v29 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[5]);
			incref(MKTUP(v29));
			decref(MKTUP(in_Atom_3));
			PTUP v30;
			PTUP v31;
			PTUP v32;
			PTUP v33 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v29, &v30, &v31, &v32);
			PTUP v34;
			PTUP v35;
			PTUP v36;
			PTUP v37 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(v30, v31, v33, &v34, &v35, &v36);
			decref(MKTUP(v37));
			PTUP v38;
			PTUP v39;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v34, v35, v32, &v38, &v39);
			PTUP v40;
			PTUP v41;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v38, v39, v36, &v40, &v41);
			branch_ZPlusC99Branch_8 = v41;
			branch_ZPlusMirth_7 = v40;
		} break;
		case 4LL: { // RSwap
			PTUP v42 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[5]);
			incref(MKTUP(v42));
			decref(MKTUP(in_Atom_3));
			PTUP v43;
			PTUP v44;
			PTUP v45;
			PTUP v46 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v42, &v43, &v44, &v45);
			PTUP v47;
			PTUP v48;
			PTUP v49;
			PTUP v50 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(v43, v44, v46, &v47, &v48, &v49);
			decref(MKTUP(v50));
			PTUP v51;
			PTUP v52;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v47, v48, v45, &v51, &v52);
			PTUP v53;
			PTUP v54;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v51, v52, v49, &v53, &v54);
			branch_ZPlusC99Branch_8 = v54;
			branch_ZPlusMirth_7 = v53;
		} break;
		case 5LL: { // Dip
			incref(MKTUP(in_Atom_3));
			PTUP v55 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v55));
			decref(MKTUP(in_Atom_3));
			PTUP v56 = mw_std_list_List_1_singleZAsk(v55);
			PTUP branch_ZPlusMirth_57;
			VAL branch_z_x1_58;
			PTUP branch_Atom_59;
			VAL branch_z_x2_60;
			switch (PTREXTRA(v56)) {
				case 1LL: { // Some
					VAL v61 = mtp_std_maybe_Maybe_1_Some(v56);
					branch_z_x2_60 = v61;
					branch_Atom_59 = in_Atom_3;
					branch_z_x1_58 = MKTUP(in_ZPlusC99Branch_2);
					branch_ZPlusMirth_57 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v62 = value_u64(((TUP*)PTRPTR(in_Atom_3))->cells[1]);
					decref(MKTUP(in_Atom_3));
					STR* v63;
					STRLIT(v63, "unexpected number of arguments to Dip", 37);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v62, v63);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			PTUP v67 = VTUP(((TUP*)PTRPTR(branch_Atom_59))->cells[5]);
			incref(MKTUP(v67));
			decref(MKTUP(branch_Atom_59));
			PTUP v68;
			PTUP v69;
			PTUP v70;
			PTUP v71 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(branch_ZPlusMirth_57, VTUP(branch_z_x1_58), v67, &v68, &v69, &v70);
			decref(MKTUP(v71));
			PTUP v72;
			PTUP v73;
			mw_mirth_c99_c99Z_argZ_runZBang(v68, v69, value_u64(branch_z_x2_60), &v72, &v73);
			PTUP v74;
			PTUP v75;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v72, v73, v70, &v74, &v75);
			branch_ZPlusC99Branch_8 = v75;
			branch_ZPlusMirth_7 = v74;
		} break;
		case 6LL: { // RDip
			incref(MKTUP(in_Atom_3));
			PTUP v76 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v76));
			decref(MKTUP(in_Atom_3));
			PTUP v77 = mw_std_list_List_1_singleZAsk(v76);
			PTUP branch_ZPlusMirth_78;
			VAL branch_z_x1_79;
			PTUP branch_Atom_80;
			VAL branch_z_x2_81;
			switch (PTREXTRA(v77)) {
				case 1LL: { // Some
					VAL v82 = mtp_std_maybe_Maybe_1_Some(v77);
					branch_z_x2_81 = v82;
					branch_Atom_80 = in_Atom_3;
					branch_z_x1_79 = MKTUP(in_ZPlusC99Branch_2);
					branch_ZPlusMirth_78 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v83 = value_u64(((TUP*)PTRPTR(in_Atom_3))->cells[1]);
					decref(MKTUP(in_Atom_3));
					STR* v84;
					STRLIT(v84, "unexpected number of arguments to RDip", 38);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v83, v84);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			PTUP v88 = VTUP(((TUP*)PTRPTR(branch_Atom_80))->cells[5]);
			incref(MKTUP(v88));
			decref(MKTUP(branch_Atom_80));
			PTUP v89;
			PTUP v90;
			PTUP v91;
			PTUP v92 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(branch_ZPlusMirth_78, VTUP(branch_z_x1_79), v88, &v89, &v90, &v91);
			decref(MKTUP(v92));
			PTUP v93;
			PTUP v94;
			mw_mirth_c99_c99Z_argZ_runZBang(v89, v90, value_u64(branch_z_x2_81), &v93, &v94);
			PTUP v95;
			PTUP v96;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v93, v94, v91, &v95, &v96);
			branch_ZPlusC99Branch_8 = v96;
			branch_ZPlusMirth_7 = v95;
		} break;
		case 7LL: { // If
			incref(MKTUP(in_Atom_3));
			PTUP v97 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v97));
			decref(MKTUP(in_Atom_3));
			PTUP v98 = mw_std_list_List_1_pairZAsk(v97);
			PTUP branch_ZPlusMirth_99;
			VAL branch_z_x1_100;
			PTUP branch_Atom_101;
			VAL branch_z_x2_102;
			switch (PTREXTRA(v98)) {
				case 1LL: { // Some
					VAL v103 = mtp_std_maybe_Maybe_1_Some(v98);
					branch_z_x2_102 = v103;
					branch_Atom_101 = in_Atom_3;
					branch_z_x1_100 = MKTUP(in_ZPlusC99Branch_2);
					branch_ZPlusMirth_99 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v104 = value_u64(((TUP*)PTRPTR(in_Atom_3))->cells[1]);
					decref(MKTUP(in_Atom_3));
					STR* v105;
					STRLIT(v105, "unexpected number of arguments to If", 36);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v104, v105);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v109 = ((TUP*)PTRPTR(value_tup(branch_z_x2_102)))->cells[0];
			VAL v110 = ((TUP*)PTRPTR(value_tup(branch_z_x2_102)))->cells[1];
			tup_decref_outer(value_tup(branch_z_x2_102));
			PTUP v111 = PTRMK(17LL /* Bool */,0,0);
			PTUP v112;
			PTUP v113;
			PTUP v114;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(branch_ZPlusMirth_99, VTUP(branch_z_x1_100), v111, &v112, &v113, &v114);
			PTUP v115 = VTUP(((TUP*)PTRPTR(VTUP(MKTUP(branch_Atom_101))))->cells[6]);
			incref(MKTUP(v115));
			decref(MKTUP(VTUP(MKTUP(branch_Atom_101))));
			PTUP v116;
			PTUP v117;
			mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang(v112, v115, v113, &v116, &v117);
			bool v118 = value_bool(((TUP*)PTRPTR(v117))->cells[4]);
			PTUP r119 = VTUP(((TUP*)PTRPTR(v117))->cells[0]);
			bool v120 = value_bool(((TUP*)PTRPTR(r119))->cells[3]);
			incref(MKBOOL(v120));
			bool v121 = (value_bool(MKBOOL(v118)) && value_bool(MKBOOL(v120)));
			((TUP*)PTRPTR(r119))->cells[3] = MKBOOL(v121);
			PTUP v122;
			PTUP v123;
			mw_mirth_c99_ZPlusC99_indent(v116, r119, &v122, &v123);
			STR* v124;
			STRLIT(v124, "if (", 4);
			PTUP v125;
			PTUP v126;
			mw_mirth_c99_ZPlusC99_put(v122, v123, v124, &v125, &v126);
			PTUP v127 = PTRMK(17LL /* Bool */,0,0);
			PTUP v128;
			STR* v129 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v125, v127, v114, &v128);
			PTUP v130;
			PTUP v131;
			mw_mirth_c99_ZPlusC99_put(v128, v126, v129, &v130, &v131);
			STR* v132;
			STRLIT(v132, ") {", 3);
			PTUP v133;
			PTUP v134;
			mw_mirth_c99_ZPlusC99_put(v130, v131, v132, &v133, &v134);
			PTUP v135;
			PTUP v136;
			mw_mirth_c99_ZPlusC99_line(v133, v134, &v135, &v136);
			((TUP*)PTRPTR(v136))->cells[3] = MKBOOL(value_bool(MKBOOL(v120)));
			((TUP*)PTRPTR(v117))->cells[0] = MKTUP(v136);
			PTUP r137 = VTUP(((TUP*)PTRPTR(v117))->cells[0]);
			INT v138 = value_nat(((TUP*)PTRPTR(r137))->cells[1]);
			incref(MKNAT(v138));
			INT v139 = WRAP_I63(1LL);
			INT v140 = v138;
			INT v141 = v139;
			INT v142 = int_add(v140, v141);
			INT v143 = v142;
			INT v144 = value_nat(((TUP*)PTRPTR(r137))->cells[1]);
			decref(MKNAT(v144));
			((TUP*)PTRPTR(r137))->cells[1] = MKNAT(v143);
			((TUP*)PTRPTR(v117))->cells[0] = MKTUP(r137);
			PTUP r145 = VTUP(((TUP*)PTRPTR(v117))->cells[1]);
			PTUP v146;
			PTUP v147;
			mw_mirth_c99_ZPlusC99Stack_rdup(r145, &v146, &v147);
			((TUP*)PTRPTR(v117))->cells[1] = MKTUP(v146);
			PTUP v148 = VTUP(((TUP*)PTRPTR(v117))->cells[3]);
			incref(MKTUP(v148));
			bool v149 = value_bool(((TUP*)PTRPTR(v117))->cells[4]);
			PTUP v150 = VTUP(((TUP*)PTRPTR(v117))->cells[2]);
			incref(MKTUP(v150));
			PTUP r151 = VTUP(((TUP*)PTRPTR(v117))->cells[0]);
			PTUP v152;
			mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(r151, v147, v150, v149, &v152);
			PTUP v153;
			PTUP v154;
			mw_mirth_c99_c99Z_argZ_runZBang(v135, v152, value_u64(v109), &v153, &v154);
			PTUP v155;
			PTUP v156;
			mw_std_list_List_1_reverseZ_for_1_sp5(v153, v154, v148, &v155, &v156);
			PTUP v157;
			PTUP v158;
			bool v159;
			PTUP v160;
			mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v155, v156, &v157, &v158, &v159, &v160);
			((TUP*)PTRPTR(v117))->cells[0] = MKTUP(v158);
			decref(MKTUP(v160));
			bool v161 = value_bool(((TUP*)PTRPTR(v117))->cells[5]);
			bool v162 = (v159 || v161);
			((TUP*)PTRPTR(v117))->cells[5] = MKBOOL(v162);
			PTUP r163 = VTUP(((TUP*)PTRPTR(v117))->cells[0]);
			INT v164 = value_nat(((TUP*)PTRPTR(r163))->cells[1]);
			incref(MKNAT(v164));
			INT v165 = WRAP_I63(1LL);
			INT v166 = v164;
			INT v167 = v165;
			INT v168 = int_sub(v166, v167);
			incref(MKINT(v168));
			INT v169 = WRAP_I63(0LL);
			INT v170 = v169;
			bool v171 = int_le(v170, v168);
			INT branch_Nat_172;
			if (v171) {
				INT v173 = v168;
				branch_Nat_172 = v173;
			} else {
				decref(MKINT(v168));
				INT v174 = WRAP_I63(0LL);
				branch_Nat_172 = v174;
			}
			INT v175 = value_nat(((TUP*)PTRPTR(r163))->cells[1]);
			decref(MKNAT(v175));
			((TUP*)PTRPTR(r163))->cells[1] = MKNAT(branch_Nat_172);
			((TUP*)PTRPTR(v117))->cells[0] = MKTUP(r163);
			PTUP v176;
			PTUP v177;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp8(v157, v117, &v176, &v177);
			PTUP r178 = VTUP(((TUP*)PTRPTR(v177))->cells[0]);
			INT v179 = value_nat(((TUP*)PTRPTR(r178))->cells[1]);
			incref(MKNAT(v179));
			INT v180 = WRAP_I63(1LL);
			INT v181 = v179;
			INT v182 = v180;
			INT v183 = int_add(v181, v182);
			INT v184 = v183;
			INT v185 = value_nat(((TUP*)PTRPTR(r178))->cells[1]);
			decref(MKNAT(v185));
			((TUP*)PTRPTR(r178))->cells[1] = MKNAT(v184);
			((TUP*)PTRPTR(v177))->cells[0] = MKTUP(r178);
			PTUP r186 = VTUP(((TUP*)PTRPTR(v177))->cells[1]);
			PTUP v187;
			PTUP v188;
			mw_mirth_c99_ZPlusC99Stack_rdup(r186, &v187, &v188);
			((TUP*)PTRPTR(v177))->cells[1] = MKTUP(v187);
			PTUP v189 = VTUP(((TUP*)PTRPTR(v177))->cells[3]);
			incref(MKTUP(v189));
			bool v190 = value_bool(((TUP*)PTRPTR(v177))->cells[4]);
			PTUP v191 = VTUP(((TUP*)PTRPTR(v177))->cells[2]);
			incref(MKTUP(v191));
			PTUP r192 = VTUP(((TUP*)PTRPTR(v177))->cells[0]);
			PTUP v193;
			mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(r192, v188, v191, v190, &v193);
			PTUP v194;
			PTUP v195;
			mw_mirth_c99_c99Z_argZ_runZBang(v176, v193, value_u64(v110), &v194, &v195);
			PTUP v196;
			PTUP v197;
			mw_std_list_List_1_reverseZ_for_1_sp5(v194, v195, v189, &v196, &v197);
			PTUP v198;
			PTUP v199;
			bool v200;
			PTUP v201;
			mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v196, v197, &v198, &v199, &v200, &v201);
			((TUP*)PTRPTR(v177))->cells[0] = MKTUP(v199);
			decref(MKTUP(v201));
			bool v202 = value_bool(((TUP*)PTRPTR(v177))->cells[5]);
			bool v203 = (v200 || v202);
			((TUP*)PTRPTR(v177))->cells[5] = MKBOOL(v203);
			PTUP r204 = VTUP(((TUP*)PTRPTR(v177))->cells[0]);
			INT v205 = value_nat(((TUP*)PTRPTR(r204))->cells[1]);
			incref(MKNAT(v205));
			INT v206 = WRAP_I63(1LL);
			INT v207 = v205;
			INT v208 = v206;
			INT v209 = int_sub(v207, v208);
			incref(MKINT(v209));
			INT v210 = WRAP_I63(0LL);
			INT v211 = v210;
			bool v212 = int_le(v211, v209);
			INT branch_Nat_213;
			if (v212) {
				INT v214 = v209;
				branch_Nat_213 = v214;
			} else {
				decref(MKINT(v209));
				INT v215 = WRAP_I63(0LL);
				branch_Nat_213 = v215;
			}
			INT v216 = value_nat(((TUP*)PTRPTR(r204))->cells[1]);
			decref(MKNAT(v216));
			((TUP*)PTRPTR(r204))->cells[1] = MKNAT(branch_Nat_213);
			((TUP*)PTRPTR(v177))->cells[0] = MKTUP(r204);
			PTUP v217;
			PTUP v218;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(v198, v177, &v217, &v218);
			PTUP v219;
			PTUP v220;
			mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang(v217, v218, &v219, &v220);
			branch_ZPlusC99Branch_8 = v220;
			branch_ZPlusMirth_7 = v219;
		} break;
		case 8LL: { // While
			incref(MKTUP(in_Atom_3));
			PTUP v221 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v221));
			decref(MKTUP(in_Atom_3));
			PTUP v222 = mw_std_list_List_1_pairZAsk(v221);
			PTUP branch_ZPlusMirth_223;
			VAL branch_z_x1_224;
			PTUP branch_Atom_225;
			VAL branch_z_x2_226;
			switch (PTREXTRA(v222)) {
				case 1LL: { // Some
					VAL v227 = mtp_std_maybe_Maybe_1_Some(v222);
					branch_z_x2_226 = v227;
					branch_Atom_225 = in_Atom_3;
					branch_z_x1_224 = MKTUP(in_ZPlusC99Branch_2);
					branch_ZPlusMirth_223 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v228 = value_u64(((TUP*)PTRPTR(in_Atom_3))->cells[1]);
					decref(MKTUP(in_Atom_3));
					STR* v229;
					STRLIT(v229, "unexpected number of arguments to While", 39);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v228, v229);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(MKTUP(branch_Atom_225));
			VAL v233 = ((TUP*)PTRPTR(value_tup(branch_z_x2_226)))->cells[0];
			VAL v234 = ((TUP*)PTRPTR(value_tup(branch_z_x2_226)))->cells[1];
			tup_decref_outer(value_tup(branch_z_x2_226));
			incref(v233);
			PTUP v235;
			PTUP v236;
			mw_mirth_c99_c99Z_argZ_runZBang(branch_ZPlusMirth_223, VTUP(branch_z_x1_224), value_u64(v233), &v235, &v236);
			PTUP v237 = PTRMK(17LL /* Bool */,0,0);
			PTUP v238;
			PTUP v239;
			PTUP v240;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v235, v236, v237, &v238, &v239, &v240);
			PTUP v241;
			PTUP v242;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v238, v239, v240, &v241, &v242);
			PTUP v243;
			PTUP v244;
			mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang(v241, v242, &v243, &v244);
			PTUP r245 = VTUP(((TUP*)PTRPTR(v244))->cells[1]);
			PTUP v246;
			PTUP v247;
			mw_mirth_c99_ZPlusC99Stack_rdup(r245, &v246, &v247);
			((TUP*)PTRPTR(v244))->cells[1] = MKTUP(v246);
			PTUP v248 = PTRMK(17LL /* Bool */,0,0);
			incref(MKTUP(v248));
			PTUP v249;
			PTUP v250;
			PTUP v251;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v243, v244, v248, &v249, &v250, &v251);
			PTUP v252;
			STR* v253 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v249, v248, v251, &v252);
			bool v254 = value_bool(((TUP*)PTRPTR(v250))->cells[3]);
			PTUP r255 = VTUP(((TUP*)PTRPTR(v250))->cells[0]);
			bool v256 = value_bool(((TUP*)PTRPTR(r255))->cells[3]);
			incref(MKBOOL(v256));
			bool v257 = (value_bool(MKBOOL(v254)) && value_bool(MKBOOL(v256)));
			((TUP*)PTRPTR(r255))->cells[3] = MKBOOL(v257);
			PTUP v258;
			PTUP v259;
			mw_mirth_c99_ZPlusC99_indent(v252, r255, &v258, &v259);
			STR* v260;
			STRLIT(v260, "while (", 7);
			PTUP v261;
			PTUP v262;
			mw_mirth_c99_ZPlusC99_put(v258, v259, v260, &v261, &v262);
			PTUP v263;
			PTUP v264;
			mw_mirth_c99_ZPlusC99_put(v261, v262, v253, &v263, &v264);
			STR* v265;
			STRLIT(v265, ") {", 3);
			PTUP v266;
			PTUP v267;
			mw_mirth_c99_ZPlusC99_put(v263, v264, v265, &v266, &v267);
			PTUP v268;
			PTUP v269;
			mw_mirth_c99_ZPlusC99_line(v266, v267, &v268, &v269);
			((TUP*)PTRPTR(v269))->cells[3] = MKBOOL(value_bool(MKBOOL(v256)));
			((TUP*)PTRPTR(v250))->cells[0] = MKTUP(v269);
			PTUP r270 = VTUP(((TUP*)PTRPTR(v250))->cells[0]);
			INT v271 = value_nat(((TUP*)PTRPTR(r270))->cells[1]);
			incref(MKNAT(v271));
			INT v272 = WRAP_I63(1LL);
			INT v273 = v271;
			INT v274 = v272;
			INT v275 = int_add(v273, v274);
			INT v276 = v275;
			INT v277 = value_nat(((TUP*)PTRPTR(r270))->cells[1]);
			decref(MKNAT(v277));
			((TUP*)PTRPTR(r270))->cells[1] = MKNAT(v276);
			((TUP*)PTRPTR(v250))->cells[0] = MKTUP(r270);
			PTUP v278;
			PTUP v279;
			mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang(v268, v250, &v278, &v279);
			PTUP v280;
			PTUP v281;
			mw_mirth_c99_c99Z_argZ_runZBang(v278, v279, value_u64(v234), &v280, &v281);
			PTUP v282;
			PTUP v283;
			mw_mirth_c99_c99Z_argZ_runZBang(v280, v281, value_u64(v233), &v282, &v283);
			PTUP v284;
			PTUP v285;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v282, v283, v247, &v284, &v285);
			PTUP r286 = VTUP(((TUP*)PTRPTR(v285))->cells[0]);
			INT v287 = value_nat(((TUP*)PTRPTR(r286))->cells[1]);
			incref(MKNAT(v287));
			INT v288 = WRAP_I63(1LL);
			INT v289 = v287;
			INT v290 = v288;
			INT v291 = int_sub(v289, v290);
			incref(MKINT(v291));
			INT v292 = WRAP_I63(0LL);
			INT v293 = v292;
			bool v294 = int_le(v293, v291);
			INT branch_Nat_295;
			if (v294) {
				INT v296 = v291;
				branch_Nat_295 = v296;
			} else {
				decref(MKINT(v291));
				INT v297 = WRAP_I63(0LL);
				branch_Nat_295 = v297;
			}
			INT v298 = value_nat(((TUP*)PTRPTR(r286))->cells[1]);
			decref(MKNAT(v298));
			((TUP*)PTRPTR(r286))->cells[1] = MKNAT(branch_Nat_295);
			((TUP*)PTRPTR(v285))->cells[0] = MKTUP(r286);
			bool v299 = value_bool(((TUP*)PTRPTR(v285))->cells[3]);
			PTUP r300 = VTUP(((TUP*)PTRPTR(v285))->cells[0]);
			PTUP v301;
			PTUP v302;
			mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23(v284, v299, r300, &v301, &v302);
			((TUP*)PTRPTR(v285))->cells[0] = MKTUP(v302);
			PTUP v303 = PTRMK(17LL /* Bool */,0,0);
			PTUP v304;
			PTUP v305;
			PTUP v306;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v301, v285, v303, &v304, &v305, &v306);
			mw_mirth_c99_ZPlusC99Value_rdrop(v306);
			branch_ZPlusC99Branch_8 = v305;
			branch_ZPlusMirth_7 = v304;
		} break;
		case 11LL: { // DebugMode
			incref(MKTUP(in_Atom_3));
			PTUP v307 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v307));
			decref(MKTUP(in_Atom_3));
			PTUP v308 = mw_std_list_List_1_singleZAsk(v307);
			PTUP branch_ZPlusMirth_309;
			VAL branch_z_x1_310;
			PTUP branch_Atom_311;
			VAL branch_z_x2_312;
			switch (PTREXTRA(v308)) {
				case 1LL: { // Some
					VAL v313 = mtp_std_maybe_Maybe_1_Some(v308);
					branch_z_x2_312 = v313;
					branch_Atom_311 = in_Atom_3;
					branch_z_x1_310 = MKTUP(in_ZPlusC99Branch_2);
					branch_ZPlusMirth_309 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v314 = value_u64(((TUP*)PTRPTR(in_Atom_3))->cells[1]);
					decref(MKTUP(in_Atom_3));
					STR* v315;
					STRLIT(v315, "unexpected number of arguments to prim-debug-mode", 49);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v314, v315);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			PTUP v319 = VTUP(((TUP*)PTRPTR(branch_Atom_311))->cells[6]);
			incref(MKTUP(v319));
			decref(MKTUP(branch_Atom_311));
			PTUP v320;
			PTUP v321;
			mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang(branch_ZPlusMirth_309, v319, VTUP(branch_z_x1_310), &v320, &v321);
			bool v322 = value_bool(((TUP*)PTRPTR(v321))->cells[4]);
			PTUP r323 = VTUP(((TUP*)PTRPTR(v321))->cells[0]);
			bool v324 = value_bool(((TUP*)PTRPTR(r323))->cells[3]);
			incref(MKBOOL(v324));
			bool v325 = (value_bool(MKBOOL(v322)) && value_bool(MKBOOL(v324)));
			((TUP*)PTRPTR(r323))->cells[3] = MKBOOL(v325);
			PTUP v326;
			PTUP v327;
			mw_mirth_c99_ZPlusC99_indent(v320, r323, &v326, &v327);
			STR* v328;
			STRLIT(v328, "if (MIRTH_DEBUG) {", 18);
			PTUP v329;
			PTUP v330;
			mw_mirth_c99_ZPlusC99_put(v326, v327, v328, &v329, &v330);
			PTUP v331;
			PTUP v332;
			mw_mirth_c99_ZPlusC99_line(v329, v330, &v331, &v332);
			((TUP*)PTRPTR(v332))->cells[3] = MKBOOL(value_bool(MKBOOL(v324)));
			((TUP*)PTRPTR(v321))->cells[0] = MKTUP(v332);
			PTUP r333 = VTUP(((TUP*)PTRPTR(v321))->cells[0]);
			INT v334 = value_nat(((TUP*)PTRPTR(r333))->cells[1]);
			incref(MKNAT(v334));
			INT v335 = WRAP_I63(1LL);
			INT v336 = v334;
			INT v337 = v335;
			INT v338 = int_add(v336, v337);
			INT v339 = v338;
			INT v340 = value_nat(((TUP*)PTRPTR(r333))->cells[1]);
			decref(MKNAT(v340));
			((TUP*)PTRPTR(r333))->cells[1] = MKNAT(v339);
			((TUP*)PTRPTR(v321))->cells[0] = MKTUP(r333);
			PTUP r341 = VTUP(((TUP*)PTRPTR(v321))->cells[1]);
			PTUP v342;
			PTUP v343;
			mw_mirth_c99_ZPlusC99Stack_rdup(r341, &v342, &v343);
			((TUP*)PTRPTR(v321))->cells[1] = MKTUP(v342);
			PTUP v344 = VTUP(((TUP*)PTRPTR(v321))->cells[3]);
			incref(MKTUP(v344));
			bool v345 = value_bool(((TUP*)PTRPTR(v321))->cells[4]);
			PTUP v346 = VTUP(((TUP*)PTRPTR(v321))->cells[2]);
			incref(MKTUP(v346));
			PTUP r347 = VTUP(((TUP*)PTRPTR(v321))->cells[0]);
			PTUP v348;
			mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(r347, v343, v346, v345, &v348);
			PTUP v349 = PTRMK(0LL /* Void */,0,0);
			PTUP v350;
			PTUP v351;
			mw_mirth_c99_C99ReprType_pushZ_resourceZ_expressionZBang_1_sp2(v331, v348, v349, &v350, &v351);
			PTUP v352;
			PTUP v353;
			mw_mirth_c99_c99Z_argZ_runZBang(v350, v351, value_u64(branch_z_x2_312), &v352, &v353);
			PTUP v354 = PTRMK(0LL /* Void */,0,0);
			PTUP v355;
			PTUP v356;
			PTUP v357;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v352, v353, v354, &v355, &v356, &v357);
			mw_mirth_c99_ZPlusC99Resource_rdrop(v357);
			PTUP v358;
			PTUP v359;
			mw_std_list_List_1_reverseZ_for_1_sp5(v355, v356, v344, &v358, &v359);
			PTUP v360;
			PTUP v361;
			bool v362;
			PTUP v363;
			mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v358, v359, &v360, &v361, &v362, &v363);
			((TUP*)PTRPTR(v321))->cells[0] = MKTUP(v361);
			decref(MKTUP(v363));
			bool v364 = value_bool(((TUP*)PTRPTR(v321))->cells[5]);
			bool v365 = (v362 || v364);
			((TUP*)PTRPTR(v321))->cells[5] = MKBOOL(v365);
			PTUP r366 = VTUP(((TUP*)PTRPTR(v321))->cells[0]);
			INT v367 = value_nat(((TUP*)PTRPTR(r366))->cells[1]);
			incref(MKNAT(v367));
			INT v368 = WRAP_I63(1LL);
			INT v369 = v367;
			INT v370 = v368;
			INT v371 = int_sub(v369, v370);
			incref(MKINT(v371));
			INT v372 = WRAP_I63(0LL);
			INT v373 = v372;
			bool v374 = int_le(v373, v371);
			INT branch_Nat_375;
			if (v374) {
				INT v376 = v371;
				branch_Nat_375 = v376;
			} else {
				decref(MKINT(v371));
				INT v377 = WRAP_I63(0LL);
				branch_Nat_375 = v377;
			}
			INT v378 = value_nat(((TUP*)PTRPTR(r366))->cells[1]);
			decref(MKNAT(v378));
			((TUP*)PTRPTR(r366))->cells[1] = MKNAT(branch_Nat_375);
			((TUP*)PTRPTR(v321))->cells[0] = MKTUP(r366);
			PTUP v379;
			PTUP v380;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp8(v360, v321, &v379, &v380);
			PTUP r381 = VTUP(((TUP*)PTRPTR(v380))->cells[0]);
			INT v382 = value_nat(((TUP*)PTRPTR(r381))->cells[1]);
			incref(MKNAT(v382));
			INT v383 = WRAP_I63(1LL);
			INT v384 = v382;
			INT v385 = v383;
			INT v386 = int_add(v384, v385);
			INT v387 = v386;
			INT v388 = value_nat(((TUP*)PTRPTR(r381))->cells[1]);
			decref(MKNAT(v388));
			((TUP*)PTRPTR(r381))->cells[1] = MKNAT(v387);
			((TUP*)PTRPTR(v380))->cells[0] = MKTUP(r381);
			PTUP r389 = VTUP(((TUP*)PTRPTR(v380))->cells[1]);
			PTUP v390;
			PTUP v391;
			mw_mirth_c99_ZPlusC99Stack_rdup(r389, &v390, &v391);
			((TUP*)PTRPTR(v380))->cells[1] = MKTUP(v390);
			PTUP v392 = VTUP(((TUP*)PTRPTR(v380))->cells[3]);
			incref(MKTUP(v392));
			bool v393 = value_bool(((TUP*)PTRPTR(v380))->cells[4]);
			PTUP v394 = VTUP(((TUP*)PTRPTR(v380))->cells[2]);
			incref(MKTUP(v394));
			PTUP r395 = VTUP(((TUP*)PTRPTR(v380))->cells[0]);
			PTUP v396;
			mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(r395, v391, v394, v393, &v396);
			PTUP v397;
			PTUP v398;
			mw_std_list_List_1_reverseZ_for_1_sp5(v379, v396, v392, &v397, &v398);
			PTUP v399;
			PTUP v400;
			bool v401;
			PTUP v402;
			mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v397, v398, &v399, &v400, &v401, &v402);
			((TUP*)PTRPTR(v380))->cells[0] = MKTUP(v400);
			decref(MKTUP(v402));
			bool v403 = value_bool(((TUP*)PTRPTR(v380))->cells[5]);
			bool v404 = (v401 || v403);
			((TUP*)PTRPTR(v380))->cells[5] = MKBOOL(v404);
			PTUP r405 = VTUP(((TUP*)PTRPTR(v380))->cells[0]);
			INT v406 = value_nat(((TUP*)PTRPTR(r405))->cells[1]);
			incref(MKNAT(v406));
			INT v407 = WRAP_I63(1LL);
			INT v408 = v406;
			INT v409 = v407;
			INT v410 = int_sub(v408, v409);
			incref(MKINT(v410));
			INT v411 = WRAP_I63(0LL);
			INT v412 = v411;
			bool v413 = int_le(v412, v410);
			INT branch_Nat_414;
			if (v413) {
				INT v415 = v410;
				branch_Nat_414 = v415;
			} else {
				decref(MKINT(v410));
				INT v416 = WRAP_I63(0LL);
				branch_Nat_414 = v416;
			}
			INT v417 = value_nat(((TUP*)PTRPTR(r405))->cells[1]);
			decref(MKNAT(v417));
			((TUP*)PTRPTR(r405))->cells[1] = MKNAT(branch_Nat_414);
			((TUP*)PTRPTR(v380))->cells[0] = MKTUP(r405);
			PTUP v418;
			PTUP v419;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(v399, v380, &v418, &v419);
			PTUP v420;
			PTUP v421;
			mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang(v418, v419, &v420, &v421);
			branch_ZPlusC99Branch_8 = v421;
			branch_ZPlusMirth_7 = v420;
		} break;
		case 12LL: { // DebugTrace
			decref(MKTUP(in_Atom_3));
			PTUP v422 = PTRMK(2LL /* STR */,0,0);
			PTUP v423;
			PTUP v424;
			PTUP v425;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v422, &v423, &v424, &v425);
			PTUP v426;
			PTUP v427;
			mw_mirth_c99_ZPlusC99Value_rdup(v425, &v426, &v427);
			PTUP v428 = PTRMK(2LL /* STR */,0,0);
			PTUP v429;
			STR* v430 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v423, v428, v427, &v429);
			bool v431 = value_bool(((TUP*)PTRPTR(v424))->cells[3]);
			PTUP r432 = VTUP(((TUP*)PTRPTR(v424))->cells[0]);
			bool v433 = value_bool(((TUP*)PTRPTR(r432))->cells[3]);
			incref(MKBOOL(v433));
			bool v434 = (value_bool(MKBOOL(v431)) && value_bool(MKBOOL(v433)));
			((TUP*)PTRPTR(r432))->cells[3] = MKBOOL(v434);
			PTUP v435;
			PTUP v436;
			mw_mirth_c99_ZPlusC99_indent(v429, r432, &v435, &v436);
			STR* v437;
			STRLIT(v437, "write(2, ", 9);
			PTUP v438;
			PTUP v439;
			mw_mirth_c99_ZPlusC99_put(v435, v436, v437, &v438, &v439);
			incref(MKSTR(v430));
			PTUP v440;
			PTUP v441;
			mw_mirth_c99_ZPlusC99_put(v438, v439, v430, &v440, &v441);
			STR* v442;
			STRLIT(v442, "->data, ", 8);
			PTUP v443;
			PTUP v444;
			mw_mirth_c99_ZPlusC99_put(v440, v441, v442, &v443, &v444);
			incref(MKSTR(v430));
			PTUP v445;
			PTUP v446;
			mw_mirth_c99_ZPlusC99_put(v443, v444, v430, &v445, &v446);
			STR* v447;
			STRLIT(v447, "->size);", 8);
			PTUP v448;
			PTUP v449;
			mw_mirth_c99_ZPlusC99_put(v445, v446, v447, &v448, &v449);
			PTUP v450;
			PTUP v451;
			mw_mirth_c99_ZPlusC99_line(v448, v449, &v450, &v451);
			((TUP*)PTRPTR(v451))->cells[3] = MKBOOL(value_bool(MKBOOL(v433)));
			((TUP*)PTRPTR(v424))->cells[0] = MKTUP(v451);
			PTUP v452;
			PTUP v453;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v450, v424, v426, &v452, &v453);
			decref(MKSTR(v430));
			branch_ZPlusC99Branch_8 = v453;
			branch_ZPlusMirth_7 = v452;
		} break;
		case 13LL: { // DebugTraceValue
			decref(MKTUP(in_Atom_3));
			PTUP v454 = PTRMK(1LL /* VAL */,0,0);
			PTUP v455;
			PTUP v456;
			PTUP v457;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v454, &v455, &v456, &v457);
			PTUP v458;
			PTUP v459;
			mw_mirth_c99_ZPlusC99Value_rdup(v457, &v458, &v459);
			PTUP v460;
			STR* v461 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v455, v459, &v460);
			STR* v462;
			PTUP v463;
			PTUP v464;
			mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp25(v461, v460, v456, &v462, &v463, &v464);
			PTUP v465;
			PTUP v466;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v463, v464, v458, &v465, &v466);
			decref(MKSTR(v462));
			branch_ZPlusC99Branch_8 = v466;
			branch_ZPlusMirth_7 = v465;
		} break;
		case 14LL: { // DebugTraceResource
			decref(MKTUP(in_Atom_3));
			PTUP v467 = PTRMK(0LL /* Void */,0,0);
			PTUP v468;
			PTUP v469;
			PTUP v470;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v467, &v468, &v469, &v470);
			PTUP v471 = PTRMK(1LL /* VAL */,0,0);
			PTUP v472;
			PTUP v473;
			PTUP v474;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v468, v469, v471, &v472, &v473, &v474);
			PTUP v475;
			PTUP v476;
			mw_mirth_c99_ZPlusC99Resource_rdup(v474, &v475, &v476);
			PTUP v477;
			STR* v478 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v472, v476, &v477);
			STR* v479;
			PTUP v480;
			PTUP v481;
			mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp25(v478, v477, v473, &v479, &v480, &v481);
			PTUP v482;
			PTUP v483;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v480, v481, v475, &v482, &v483);
			PTUP v484;
			PTUP v485;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v482, v483, v470, &v484, &v485);
			decref(MKSTR(v479));
			branch_ZPlusC99Branch_8 = v485;
			branch_ZPlusMirth_7 = v484;
		} break;
		case 15LL: { // DebugTraceStack
			decref(MKTUP(in_Atom_3));
			PTUP v486;
			PTUP v487;
			mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v486, &v487);
			bool v488 = value_bool(((TUP*)PTRPTR(v487))->cells[3]);
			PTUP r489 = VTUP(((TUP*)PTRPTR(v487))->cells[0]);
			bool v490 = value_bool(((TUP*)PTRPTR(r489))->cells[3]);
			incref(MKBOOL(v490));
			bool v491 = (value_bool(MKBOOL(v488)) && value_bool(MKBOOL(v490)));
			((TUP*)PTRPTR(r489))->cells[3] = MKBOOL(v491);
			PTUP v492;
			PTUP v493;
			mw_mirth_c99_ZPlusC99_indent(v486, r489, &v492, &v493);
			STR* v494;
			STRLIT(v494, "trace_stack();", 14);
			PTUP v495;
			PTUP v496;
			mw_mirth_c99_ZPlusC99_put(v492, v493, v494, &v495, &v496);
			PTUP v497;
			PTUP v498;
			mw_mirth_c99_ZPlusC99_line(v495, v496, &v497, &v498);
			((TUP*)PTRPTR(v498))->cells[3] = MKBOOL(value_bool(MKBOOL(v490)));
			((TUP*)PTRPTR(v487))->cells[0] = MKTUP(v498);
			branch_ZPlusC99Branch_8 = v487;
			branch_ZPlusMirth_7 = v497;
		} break;
		case 16LL: { // DebugGetNumRefs
			decref(MKTUP(in_Atom_3));
			PTUP v499 = PTRMK(1LL /* VAL */,0,0);
			PTUP v500;
			PTUP v501;
			PTUP v502;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v499, &v500, &v501, &v502);
			PTUP v503;
			PTUP v504;
			mw_mirth_c99_ZPlusC99Value_rdup(v502, &v503, &v504);
			PTUP v505;
			STR* v506 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v500, v504, &v505);
			PTUP v507 = PTRMK(11LL /* U64 */,0,0);
			incref(MKTUP(v507));
			PTUP v508;
			bool v509 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v505, v507, &v508);
			STR* branch_Str_510;
			PTUP branch_C99ReprType_511;
			bool branch_Bool_512;
			PTUP branch_ZPlusMirth_513;
			STR* branch_Str_514;
			PTUP branch_ZPlusC99Branch_515;
			if (v509) {
				PTUP r516 = VTUP(((TUP*)PTRPTR(v501))->cells[0]);
				PTUP v517;
				PTUP v518;
				STR* v519 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v508, r516, &v517, &v518);
				((TUP*)PTRPTR(v501))->cells[0] = MKTUP(v518);
				branch_ZPlusC99Branch_515 = v501;
				branch_Str_514 = v519;
				branch_ZPlusMirth_513 = v517;
				branch_Bool_512 = v509;
				branch_C99ReprType_511 = v507;
				branch_Str_510 = v506;
			} else {
				STR* v520;
				STRLIT(v520, "0", 1);
				branch_ZPlusC99Branch_515 = v501;
				branch_Str_514 = v520;
				branch_ZPlusMirth_513 = v508;
				branch_Bool_512 = v509;
				branch_C99ReprType_511 = v507;
				branch_Str_510 = v506;
			}
			bool v521 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_515))->cells[3]);
			bool v522 = (branch_Bool_512 && v521);
			PTUP r523 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_515))->cells[0]);
			bool v524 = value_bool(((TUP*)PTRPTR(r523))->cells[3]);
			incref(MKBOOL(v524));
			bool v525 = (value_bool(MKBOOL(v522)) && value_bool(MKBOOL(v524)));
			((TUP*)PTRPTR(r523))->cells[3] = MKBOOL(v525);
			PTUP v526;
			PTUP v527;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_513, r523, &v526, &v527);
			incref(MKTUP(branch_C99ReprType_511));
			PTUP v528;
			STR* v529 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v526, branch_C99ReprType_511, &v528);
			PTUP v530;
			PTUP v531;
			mw_mirth_c99_ZPlusC99_put(v528, v527, v529, &v530, &v531);
			STR* v532;
			STRLIT(v532, " ", 1);
			PTUP v533;
			PTUP v534;
			mw_mirth_c99_ZPlusC99_put(v530, v531, v532, &v533, &v534);
			incref(MKSTR(branch_Str_514));
			PTUP v535;
			PTUP v536;
			mw_mirth_c99_ZPlusC99_put(v533, v534, branch_Str_514, &v535, &v536);
			STR* v537;
			STRLIT(v537, " = ", 3);
			PTUP v538;
			PTUP v539;
			mw_mirth_c99_ZPlusC99_put(v535, v536, v537, &v538, &v539);
			PTUP v540;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_511, branch_Str_514, &v540);
			STR* v541;
			STRLIT(v541, "HAS_REFS(", 9);
			PTUP v542;
			PTUP v543;
			mw_mirth_c99_ZPlusC99_put(v538, v539, v541, &v542, &v543);
			incref(MKSTR(branch_Str_510));
			PTUP v544;
			PTUP v545;
			mw_mirth_c99_ZPlusC99_put(v542, v543, branch_Str_510, &v544, &v545);
			STR* v546;
			STRLIT(v546, ") ? VREFS(", 10);
			PTUP v547;
			PTUP v548;
			mw_mirth_c99_ZPlusC99_put(v544, v545, v546, &v547, &v548);
			incref(MKSTR(branch_Str_510));
			PTUP v549;
			PTUP v550;
			mw_mirth_c99_ZPlusC99_put(v547, v548, branch_Str_510, &v549, &v550);
			STR* v551;
			STRLIT(v551, ")-1 : 0", 7);
			PTUP v552;
			PTUP v553;
			mw_mirth_c99_ZPlusC99_put(v549, v550, v551, &v552, &v553);
			STR* v554;
			STRLIT(v554, ";", 1);
			PTUP v555;
			PTUP v556;
			mw_mirth_c99_ZPlusC99_put(v552, v553, v554, &v555, &v556);
			PTUP v557;
			PTUP v558;
			mw_mirth_c99_ZPlusC99_line(v555, v556, &v557, &v558);
			((TUP*)PTRPTR(v558))->cells[3] = MKBOOL(value_bool(MKBOOL(v524)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_515))->cells[0] = MKTUP(v558);
			PTUP v559;
			PTUP v560;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v557, branch_ZPlusC99Branch_515, v540, &v559, &v560);
			PTUP v561;
			PTUP v562;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v559, v560, v503, &v561, &v562);
			decref(MKSTR(branch_Str_510));
			branch_ZPlusC99Branch_8 = v562;
			branch_ZPlusMirth_7 = v561;
		} break;
		case 17LL: { // DebugGetIdentity
			decref(MKTUP(in_Atom_3));
			PTUP v563 = PTRMK(1LL /* VAL */,0,0);
			PTUP v564;
			PTUP v565;
			PTUP v566;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v563, &v564, &v565, &v566);
			PTUP v567;
			PTUP v568;
			mw_mirth_c99_ZPlusC99Value_rdup(v566, &v567, &v568);
			PTUP v569;
			STR* v570 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v564, v568, &v569);
			PTUP v571 = PTRMK(11LL /* U64 */,0,0);
			incref(MKTUP(v571));
			PTUP v572;
			bool v573 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v569, v571, &v572);
			STR* branch_Str_574;
			PTUP branch_C99ReprType_575;
			bool branch_Bool_576;
			PTUP branch_ZPlusMirth_577;
			STR* branch_Str_578;
			PTUP branch_ZPlusC99Branch_579;
			if (v573) {
				PTUP r580 = VTUP(((TUP*)PTRPTR(v565))->cells[0]);
				PTUP v581;
				PTUP v582;
				STR* v583 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v572, r580, &v581, &v582);
				((TUP*)PTRPTR(v565))->cells[0] = MKTUP(v582);
				branch_ZPlusC99Branch_579 = v565;
				branch_Str_578 = v583;
				branch_ZPlusMirth_577 = v581;
				branch_Bool_576 = v573;
				branch_C99ReprType_575 = v571;
				branch_Str_574 = v570;
			} else {
				STR* v584;
				STRLIT(v584, "0", 1);
				branch_ZPlusC99Branch_579 = v565;
				branch_Str_578 = v584;
				branch_ZPlusMirth_577 = v572;
				branch_Bool_576 = v573;
				branch_C99ReprType_575 = v571;
				branch_Str_574 = v570;
			}
			bool v585 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_579))->cells[3]);
			bool v586 = (branch_Bool_576 && v585);
			PTUP r587 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_579))->cells[0]);
			bool v588 = value_bool(((TUP*)PTRPTR(r587))->cells[3]);
			incref(MKBOOL(v588));
			bool v589 = (value_bool(MKBOOL(v586)) && value_bool(MKBOOL(v588)));
			((TUP*)PTRPTR(r587))->cells[3] = MKBOOL(v589);
			PTUP v590;
			PTUP v591;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_577, r587, &v590, &v591);
			incref(MKTUP(branch_C99ReprType_575));
			PTUP v592;
			STR* v593 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v590, branch_C99ReprType_575, &v592);
			PTUP v594;
			PTUP v595;
			mw_mirth_c99_ZPlusC99_put(v592, v591, v593, &v594, &v595);
			STR* v596;
			STRLIT(v596, " ", 1);
			PTUP v597;
			PTUP v598;
			mw_mirth_c99_ZPlusC99_put(v594, v595, v596, &v597, &v598);
			incref(MKSTR(branch_Str_578));
			PTUP v599;
			PTUP v600;
			mw_mirth_c99_ZPlusC99_put(v597, v598, branch_Str_578, &v599, &v600);
			STR* v601;
			STRLIT(v601, " = ", 3);
			PTUP v602;
			PTUP v603;
			mw_mirth_c99_ZPlusC99_put(v599, v600, v601, &v602, &v603);
			PTUP v604;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_575, branch_Str_578, &v604);
			incref(MKSTR(branch_Str_574));
			PTUP v605;
			PTUP v606;
			mw_mirth_c99_ZPlusC99_put(v602, v603, branch_Str_574, &v605, &v606);
			STR* v607;
			STRLIT(v607, ".data.u64", 9);
			PTUP v608;
			PTUP v609;
			mw_mirth_c99_ZPlusC99_put(v605, v606, v607, &v608, &v609);
			STR* v610;
			STRLIT(v610, ";", 1);
			PTUP v611;
			PTUP v612;
			mw_mirth_c99_ZPlusC99_put(v608, v609, v610, &v611, &v612);
			PTUP v613;
			PTUP v614;
			mw_mirth_c99_ZPlusC99_line(v611, v612, &v613, &v614);
			((TUP*)PTRPTR(v614))->cells[3] = MKBOOL(value_bool(MKBOOL(v588)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_579))->cells[0] = MKTUP(v614);
			PTUP v615;
			PTUP v616;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v613, branch_ZPlusC99Branch_579, v604, &v615, &v616);
			PTUP v617;
			PTUP v618;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v615, v616, v567, &v617, &v618);
			decref(MKSTR(branch_Str_574));
			branch_ZPlusC99Branch_8 = v618;
			branch_ZPlusMirth_7 = v617;
		} break;
		case 9LL: { // Panic
			decref(MKTUP(in_Atom_3));
			PTUP v619 = PTRMK(2LL /* STR */,0,0);
			incref(MKTUP(v619));
			PTUP v620;
			PTUP v621;
			PTUP v622;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v619, &v620, &v621, &v622);
			PTUP v623;
			STR* v624 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v620, v619, v622, &v623);
			bool v625 = value_bool(((TUP*)PTRPTR(v621))->cells[3]);
			PTUP r626 = VTUP(((TUP*)PTRPTR(v621))->cells[0]);
			bool v627 = value_bool(((TUP*)PTRPTR(r626))->cells[3]);
			incref(MKBOOL(v627));
			bool v628 = (value_bool(MKBOOL(v625)) && value_bool(MKBOOL(v627)));
			((TUP*)PTRPTR(r626))->cells[3] = MKBOOL(v628);
			PTUP v629;
			PTUP v630;
			mw_mirth_c99_ZPlusC99_indent(v623, r626, &v629, &v630);
			STR* v631;
			STRLIT(v631, "do_panic(", 9);
			PTUP v632;
			PTUP v633;
			mw_mirth_c99_ZPlusC99_put(v629, v630, v631, &v632, &v633);
			PTUP v634;
			PTUP v635;
			mw_mirth_c99_ZPlusC99_put(v632, v633, v624, &v634, &v635);
			STR* v636;
			STRLIT(v636, ");", 2);
			PTUP v637;
			PTUP v638;
			mw_mirth_c99_ZPlusC99_put(v634, v635, v636, &v637, &v638);
			PTUP v639;
			PTUP v640;
			mw_mirth_c99_ZPlusC99_line(v637, v638, &v639, &v640);
			((TUP*)PTRPTR(v640))->cells[3] = MKBOOL(value_bool(MKBOOL(v627)));
			((TUP*)PTRPTR(v621))->cells[0] = MKTUP(v640);
			PTUP r641 = VTUP(((TUP*)PTRPTR(v621))->cells[1]);
			mw_mirth_c99_ZPlusC99Stack_rdrop(r641);
			PTUP r642 = PTRMK(0LL /* +Nil */,0,0);
			((TUP*)PTRPTR(v621))->cells[1] = MKTUP(r642);
			bool v643 = false;
			((TUP*)PTRPTR(v621))->cells[3] = MKBOOL(v643);
			branch_ZPlusC99Branch_8 = v621;
			branch_ZPlusMirth_7 = v639;
		} break;
		case 10LL: { // Run
			incref(MKTUP(in_Atom_3));
			PTUP v644 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v644));
			decref(MKTUP(in_Atom_3));
			bool v645 = mw_std_list_List_1_emptyZAsk(v644);
			PTUP branch_ZPlusMirth_646;
			VAL branch_z_x1_647;
			PTUP branch_Atom_648;
			if (v645) {
				branch_Atom_648 = in_Atom_3;
				branch_z_x1_647 = MKTUP(in_ZPlusC99Branch_2);
				branch_ZPlusMirth_646 = in_ZPlusMirth_1;
			} else {
				uint64_t v649 = value_u64(((TUP*)PTRPTR(in_Atom_3))->cells[1]);
				decref(MKTUP(in_Atom_3));
				STR* v650;
				STRLIT(v650, "expected no arguments to prim-core-run", 38);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v649, v650);
			}
			decref(MKTUP(branch_Atom_648));
			PTUP v653 = PTRMK(1LL /* VAL */,0,0);
			PTUP v654;
			PTUP v655;
			PTUP v656;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(branch_ZPlusMirth_646, VTUP(branch_z_x1_647), v653, &v654, &v655, &v656);
			PTUP v657;
			PTUP v658;
			mw_mirth_c99_ZPlusC99Value_runZ_valueZBang(v654, v655, v656, &v657, &v658);
			branch_ZPlusC99Branch_8 = v658;
			branch_ZPlusMirth_7 = v657;
		} break;
		case 18LL: { // IntEq
			decref(MKTUP(in_Atom_3));
			STR* v659;
			STRLIT(v659, "int_eq(", 7);
			PTUP v660 = PTRMK(5LL /* Int */,0,0);
			STR* v661;
			STRLIT(v661, ", ", 2);
			PTUP v662 = PTRMK(5LL /* Int */,0,0);
			STR* v663;
			STRLIT(v663, ")", 1);
			bool v664 = false;
			PTUP v665 = PTRMK(17LL /* Bool */,0,0);
			PTUP v666 = mtw_std_maybe_Maybe_1_Some(MKTUP(v665));
			PTUP v667;
			PTUP v668;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v659, v660, v661, v662, v663, v664, v666, &v667, &v668);
			branch_ZPlusC99Branch_8 = v668;
			branch_ZPlusMirth_7 = v667;
		} break;
		case 19LL: { // IntLt
			decref(MKTUP(in_Atom_3));
			STR* v669;
			STRLIT(v669, "int_lt(", 7);
			PTUP v670 = PTRMK(5LL /* Int */,0,0);
			STR* v671;
			STRLIT(v671, ", ", 2);
			PTUP v672 = PTRMK(5LL /* Int */,0,0);
			STR* v673;
			STRLIT(v673, ")", 1);
			bool v674 = false;
			PTUP v675 = PTRMK(17LL /* Bool */,0,0);
			PTUP v676 = mtw_std_maybe_Maybe_1_Some(MKTUP(v675));
			PTUP v677;
			PTUP v678;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v669, v670, v671, v672, v673, v674, v676, &v677, &v678);
			branch_ZPlusC99Branch_8 = v678;
			branch_ZPlusMirth_7 = v677;
		} break;
		case 20LL: { // IntLe
			decref(MKTUP(in_Atom_3));
			STR* v679;
			STRLIT(v679, "int_le(", 7);
			PTUP v680 = PTRMK(5LL /* Int */,0,0);
			STR* v681;
			STRLIT(v681, ", ", 2);
			PTUP v682 = PTRMK(5LL /* Int */,0,0);
			STR* v683;
			STRLIT(v683, ")", 1);
			bool v684 = false;
			PTUP v685 = PTRMK(17LL /* Bool */,0,0);
			PTUP v686 = mtw_std_maybe_Maybe_1_Some(MKTUP(v685));
			PTUP v687;
			PTUP v688;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v679, v680, v681, v682, v683, v684, v686, &v687, &v688);
			branch_ZPlusC99Branch_8 = v688;
			branch_ZPlusMirth_7 = v687;
		} break;
		case 21LL: { // IntGt
			decref(MKTUP(in_Atom_3));
			STR* v689;
			STRLIT(v689, "int_gt(", 7);
			PTUP v690 = PTRMK(5LL /* Int */,0,0);
			STR* v691;
			STRLIT(v691, ", ", 2);
			PTUP v692 = PTRMK(5LL /* Int */,0,0);
			STR* v693;
			STRLIT(v693, ")", 1);
			bool v694 = false;
			PTUP v695 = PTRMK(17LL /* Bool */,0,0);
			PTUP v696 = mtw_std_maybe_Maybe_1_Some(MKTUP(v695));
			PTUP v697;
			PTUP v698;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v689, v690, v691, v692, v693, v694, v696, &v697, &v698);
			branch_ZPlusC99Branch_8 = v698;
			branch_ZPlusMirth_7 = v697;
		} break;
		case 22LL: { // IntGe
			decref(MKTUP(in_Atom_3));
			STR* v699;
			STRLIT(v699, "int_ge(", 7);
			PTUP v700 = PTRMK(5LL /* Int */,0,0);
			STR* v701;
			STRLIT(v701, ", ", 2);
			PTUP v702 = PTRMK(5LL /* Int */,0,0);
			STR* v703;
			STRLIT(v703, ")", 1);
			bool v704 = false;
			PTUP v705 = PTRMK(17LL /* Bool */,0,0);
			PTUP v706 = mtw_std_maybe_Maybe_1_Some(MKTUP(v705));
			PTUP v707;
			PTUP v708;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v699, v700, v701, v702, v703, v704, v706, &v707, &v708);
			branch_ZPlusC99Branch_8 = v708;
			branch_ZPlusMirth_7 = v707;
		} break;
		case 23LL: { // IntNe
			decref(MKTUP(in_Atom_3));
			STR* v709;
			STRLIT(v709, "int_ne(", 7);
			PTUP v710 = PTRMK(5LL /* Int */,0,0);
			STR* v711;
			STRLIT(v711, ", ", 2);
			PTUP v712 = PTRMK(5LL /* Int */,0,0);
			STR* v713;
			STRLIT(v713, ")", 1);
			bool v714 = false;
			PTUP v715 = PTRMK(17LL /* Bool */,0,0);
			PTUP v716 = mtw_std_maybe_Maybe_1_Some(MKTUP(v715));
			PTUP v717;
			PTUP v718;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v709, v710, v711, v712, v713, v714, v716, &v717, &v718);
			branch_ZPlusC99Branch_8 = v718;
			branch_ZPlusMirth_7 = v717;
		} break;
		case 24LL: { // IntAdd
			decref(MKTUP(in_Atom_3));
			STR* v719;
			STRLIT(v719, "int_add(", 8);
			PTUP v720 = PTRMK(5LL /* Int */,0,0);
			STR* v721;
			STRLIT(v721, ", ", 2);
			PTUP v722 = PTRMK(5LL /* Int */,0,0);
			STR* v723;
			STRLIT(v723, ")", 1);
			bool v724 = false;
			PTUP v725 = PTRMK(5LL /* Int */,0,0);
			PTUP v726 = mtw_std_maybe_Maybe_1_Some(MKTUP(v725));
			PTUP v727;
			PTUP v728;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v719, v720, v721, v722, v723, v724, v726, &v727, &v728);
			branch_ZPlusC99Branch_8 = v728;
			branch_ZPlusMirth_7 = v727;
		} break;
		case 25LL: { // IntSub
			decref(MKTUP(in_Atom_3));
			STR* v729;
			STRLIT(v729, "int_sub(", 8);
			PTUP v730 = PTRMK(5LL /* Int */,0,0);
			STR* v731;
			STRLIT(v731, ", ", 2);
			PTUP v732 = PTRMK(5LL /* Int */,0,0);
			STR* v733;
			STRLIT(v733, ")", 1);
			bool v734 = false;
			PTUP v735 = PTRMK(5LL /* Int */,0,0);
			PTUP v736 = mtw_std_maybe_Maybe_1_Some(MKTUP(v735));
			PTUP v737;
			PTUP v738;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v729, v730, v731, v732, v733, v734, v736, &v737, &v738);
			branch_ZPlusC99Branch_8 = v738;
			branch_ZPlusMirth_7 = v737;
		} break;
		case 26LL: { // IntMul
			decref(MKTUP(in_Atom_3));
			STR* v739;
			STRLIT(v739, "int_mul(", 8);
			PTUP v740 = PTRMK(5LL /* Int */,0,0);
			STR* v741;
			STRLIT(v741, ", ", 2);
			PTUP v742 = PTRMK(5LL /* Int */,0,0);
			STR* v743;
			STRLIT(v743, ")", 1);
			bool v744 = false;
			PTUP v745 = PTRMK(5LL /* Int */,0,0);
			PTUP v746 = mtw_std_maybe_Maybe_1_Some(MKTUP(v745));
			PTUP v747;
			PTUP v748;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v739, v740, v741, v742, v743, v744, v746, &v747, &v748);
			branch_ZPlusC99Branch_8 = v748;
			branch_ZPlusMirth_7 = v747;
		} break;
		case 27LL: { // IntDivMod
			PTUP v749 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v749));
			decref(MKTUP(in_Atom_3));
			STR* v750;
			STRLIT(v750, "int_divmod", 10);
			int64_t v751 = 27LL /* IntDivMod */;
			PTUP v752;
			PTUP v753 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v751, &v752);
			PTUP r754 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v755;
			PTUP v756;
			PTUP v757 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v752, r754, value_str(MKSTR(v750)), v753, &v755, &v756);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v756);
			PTUP v758;
			PTUP v759;
			mw_mirth_c99_c99Z_smartZ_callZBang(v755, in_ZPlusC99Branch_2, v749, v757, &v758, &v759);
			branch_ZPlusC99Branch_8 = v759;
			branch_ZPlusMirth_7 = v758;
		} break;
		case 31LL: { // IntToU64
			decref(MKTUP(in_Atom_3));
			STR* v760;
			STRLIT(v760, "int_to_u64(", 11);
			PTUP v761 = PTRMK(5LL /* Int */,0,0);
			STR* v762;
			STRLIT(v762, ")", 1);
			PTUP v763 = PTRMK(11LL /* U64 */,0,0);
			PTUP v764 = mtw_std_maybe_Maybe_1_Some(MKTUP(v763));
			PTUP v765;
			PTUP v766;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v760, v761, v762, v764, &v765, &v766);
			branch_ZPlusC99Branch_8 = v766;
			branch_ZPlusMirth_7 = v765;
		} break;
		case 30LL: { // IntToI64
			decref(MKTUP(in_Atom_3));
			STR* v767;
			STRLIT(v767, "int_to_i64(", 11);
			PTUP v768 = PTRMK(5LL /* Int */,0,0);
			STR* v769;
			STRLIT(v769, ")", 1);
			PTUP v770 = PTRMK(7LL /* I64 */,0,0);
			PTUP v771 = mtw_std_maybe_Maybe_1_Some(MKTUP(v770));
			PTUP v772;
			PTUP v773;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v767, v768, v769, v771, &v772, &v773);
			branch_ZPlusC99Branch_8 = v773;
			branch_ZPlusMirth_7 = v772;
		} break;
		case 32LL: { // IntToF32
			decref(MKTUP(in_Atom_3));
			STR* v774;
			STRLIT(v774, "int_to_f32(", 11);
			PTUP v775 = PTRMK(5LL /* Int */,0,0);
			STR* v776;
			STRLIT(v776, ")", 1);
			PTUP v777 = PTRMK(16LL /* F32 */,0,0);
			PTUP v778 = mtw_std_maybe_Maybe_1_Some(MKTUP(v777));
			PTUP v779;
			PTUP v780;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v774, v775, v776, v778, &v779, &v780);
			branch_ZPlusC99Branch_8 = v780;
			branch_ZPlusMirth_7 = v779;
		} break;
		case 33LL: { // IntToF64
			decref(MKTUP(in_Atom_3));
			STR* v781;
			STRLIT(v781, "int_to_f64(", 11);
			PTUP v782 = PTRMK(5LL /* Int */,0,0);
			STR* v783;
			STRLIT(v783, ")", 1);
			PTUP v784 = PTRMK(15LL /* F64 */,0,0);
			PTUP v785 = mtw_std_maybe_Maybe_1_Some(MKTUP(v784));
			PTUP v786;
			PTUP v787;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v781, v782, v783, v785, &v786, &v787);
			branch_ZPlusC99Branch_8 = v787;
			branch_ZPlusMirth_7 = v786;
		} break;
		case 28LL: { // IntToStr
			decref(MKTUP(in_Atom_3));
			STR* v788;
			STRLIT(v788, "int_to_str(", 11);
			PTUP v789 = PTRMK(5LL /* Int */,0,0);
			STR* v790;
			STRLIT(v790, ")", 1);
			PTUP v791 = PTRMK(2LL /* STR */,0,0);
			PTUP v792 = mtw_std_maybe_Maybe_1_Some(MKTUP(v791));
			PTUP v793;
			PTUP v794;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v788, v789, v790, v792, &v793, &v794);
			branch_ZPlusC99Branch_8 = v794;
			branch_ZPlusMirth_7 = v793;
		} break;
		case 29LL: { // IntToNat
			decref(MKTUP(in_Atom_3));
			STR* v795;
			STRLIT(v795, "", 0);
			PTUP v796 = PTRMK(5LL /* Int */,0,0);
			STR* v797;
			STRLIT(v797, "", 0);
			PTUP v798 = PTRMK(6LL /* Nat */,0,0);
			PTUP v799 = mtw_std_maybe_Maybe_1_Some(MKTUP(v798));
			PTUP v800;
			PTUP v801;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v795, v796, v797, v799, &v800, &v801);
			branch_ZPlusC99Branch_8 = v801;
			branch_ZPlusMirth_7 = v800;
		} break;
		case 34LL: { // NatToInt
			decref(MKTUP(in_Atom_3));
			STR* v802;
			STRLIT(v802, "", 0);
			PTUP v803 = PTRMK(6LL /* Nat */,0,0);
			STR* v804;
			STRLIT(v804, "", 0);
			PTUP v805 = PTRMK(5LL /* Int */,0,0);
			PTUP v806 = mtw_std_maybe_Maybe_1_Some(MKTUP(v805));
			PTUP v807;
			PTUP v808;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v802, v803, v804, v806, &v807, &v808);
			branch_ZPlusC99Branch_8 = v808;
			branch_ZPlusMirth_7 = v807;
		} break;
		case 35LL: { // U8Get
			decref(MKTUP(in_Atom_3));
			STR* v809;
			STRLIT(v809, "*(uint8_t*)", 11);
			PTUP v810 = PTRMK(18LL /* PTR */,0,0);
			STR* v811;
			STRLIT(v811, "", 0);
			PTUP v812 = PTRMK(14LL /* U8 */,0,0);
			PTUP v813 = mtw_std_maybe_Maybe_1_Some(MKTUP(v812));
			PTUP v814;
			PTUP v815;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v809, v810, v811, v813, &v814, &v815);
			branch_ZPlusC99Branch_8 = v815;
			branch_ZPlusMirth_7 = v814;
		} break;
		case 36LL: { // U8Set
			decref(MKTUP(in_Atom_3));
			STR* v816;
			STRLIT(v816, "*(uint8_t*)", 11);
			PTUP v817 = PTRMK(18LL /* PTR */,0,0);
			STR* v818;
			STRLIT(v818, " = ", 3);
			PTUP v819 = PTRMK(14LL /* U8 */,0,0);
			STR* v820;
			STRLIT(v820, ";", 1);
			bool v821 = true;
			PTUP v822 = PTRMK(0LL /* None */,0,0);
			PTUP v823;
			PTUP v824;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v816, v817, v818, v819, v820, v821, v822, &v823, &v824);
			branch_ZPlusC99Branch_8 = v824;
			branch_ZPlusMirth_7 = v823;
		} break;
		case 37LL: { // U8ToU64
			decref(MKTUP(in_Atom_3));
			STR* v825;
			STRLIT(v825, "(uint64_t)(", 11);
			PTUP v826 = PTRMK(14LL /* U8 */,0,0);
			STR* v827;
			STRLIT(v827, ")", 1);
			PTUP v828 = PTRMK(11LL /* U64 */,0,0);
			PTUP v829 = mtw_std_maybe_Maybe_1_Some(MKTUP(v828));
			PTUP v830;
			PTUP v831;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v825, v826, v827, v829, &v830, &v831);
			branch_ZPlusC99Branch_8 = v831;
			branch_ZPlusMirth_7 = v830;
		} break;
		case 38LL: { // U16Get
			decref(MKTUP(in_Atom_3));
			STR* v832;
			STRLIT(v832, "*(uint16_t*)", 12);
			PTUP v833 = PTRMK(18LL /* PTR */,0,0);
			STR* v834;
			STRLIT(v834, "", 0);
			PTUP v835 = PTRMK(13LL /* U16 */,0,0);
			PTUP v836 = mtw_std_maybe_Maybe_1_Some(MKTUP(v835));
			PTUP v837;
			PTUP v838;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v832, v833, v834, v836, &v837, &v838);
			branch_ZPlusC99Branch_8 = v838;
			branch_ZPlusMirth_7 = v837;
		} break;
		case 39LL: { // U16Set
			decref(MKTUP(in_Atom_3));
			STR* v839;
			STRLIT(v839, "*(uint16_t*)", 12);
			PTUP v840 = PTRMK(18LL /* PTR */,0,0);
			STR* v841;
			STRLIT(v841, " = ", 3);
			PTUP v842 = PTRMK(13LL /* U16 */,0,0);
			STR* v843;
			STRLIT(v843, ";", 1);
			bool v844 = true;
			PTUP v845 = PTRMK(0LL /* None */,0,0);
			PTUP v846;
			PTUP v847;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v839, v840, v841, v842, v843, v844, v845, &v846, &v847);
			branch_ZPlusC99Branch_8 = v847;
			branch_ZPlusMirth_7 = v846;
		} break;
		case 40LL: { // U16ToU64
			decref(MKTUP(in_Atom_3));
			STR* v848;
			STRLIT(v848, "(uint64_t)(", 11);
			PTUP v849 = PTRMK(13LL /* U16 */,0,0);
			STR* v850;
			STRLIT(v850, ")", 1);
			PTUP v851 = PTRMK(11LL /* U64 */,0,0);
			PTUP v852 = mtw_std_maybe_Maybe_1_Some(MKTUP(v851));
			PTUP v853;
			PTUP v854;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v848, v849, v850, v852, &v853, &v854);
			branch_ZPlusC99Branch_8 = v854;
			branch_ZPlusMirth_7 = v853;
		} break;
		case 41LL: { // U32Get
			decref(MKTUP(in_Atom_3));
			STR* v855;
			STRLIT(v855, "*(uint32_t*)", 12);
			PTUP v856 = PTRMK(18LL /* PTR */,0,0);
			STR* v857;
			STRLIT(v857, "", 0);
			PTUP v858 = PTRMK(12LL /* U32 */,0,0);
			PTUP v859 = mtw_std_maybe_Maybe_1_Some(MKTUP(v858));
			PTUP v860;
			PTUP v861;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v855, v856, v857, v859, &v860, &v861);
			branch_ZPlusC99Branch_8 = v861;
			branch_ZPlusMirth_7 = v860;
		} break;
		case 42LL: { // U32Set
			decref(MKTUP(in_Atom_3));
			STR* v862;
			STRLIT(v862, "*(uint32_t*)", 12);
			PTUP v863 = PTRMK(18LL /* PTR */,0,0);
			STR* v864;
			STRLIT(v864, " = ", 3);
			PTUP v865 = PTRMK(12LL /* U32 */,0,0);
			STR* v866;
			STRLIT(v866, ";", 1);
			bool v867 = true;
			PTUP v868 = PTRMK(0LL /* None */,0,0);
			PTUP v869;
			PTUP v870;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v862, v863, v864, v865, v866, v867, v868, &v869, &v870);
			branch_ZPlusC99Branch_8 = v870;
			branch_ZPlusMirth_7 = v869;
		} break;
		case 43LL: { // U32ToU64
			decref(MKTUP(in_Atom_3));
			STR* v871;
			STRLIT(v871, "(uint64_t)(", 11);
			PTUP v872 = PTRMK(12LL /* U32 */,0,0);
			STR* v873;
			STRLIT(v873, ")", 1);
			PTUP v874 = PTRMK(11LL /* U64 */,0,0);
			PTUP v875 = mtw_std_maybe_Maybe_1_Some(MKTUP(v874));
			PTUP v876;
			PTUP v877;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v871, v872, v873, v875, &v876, &v877);
			branch_ZPlusC99Branch_8 = v877;
			branch_ZPlusMirth_7 = v876;
		} break;
		case 44LL: { // U64Get
			decref(MKTUP(in_Atom_3));
			STR* v878;
			STRLIT(v878, "*(uint64_t*)", 12);
			PTUP v879 = PTRMK(18LL /* PTR */,0,0);
			STR* v880;
			STRLIT(v880, "", 0);
			PTUP v881 = PTRMK(11LL /* U64 */,0,0);
			PTUP v882 = mtw_std_maybe_Maybe_1_Some(MKTUP(v881));
			PTUP v883;
			PTUP v884;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v878, v879, v880, v882, &v883, &v884);
			branch_ZPlusC99Branch_8 = v884;
			branch_ZPlusMirth_7 = v883;
		} break;
		case 45LL: { // U64Set
			decref(MKTUP(in_Atom_3));
			STR* v885;
			STRLIT(v885, "*(uint64_t*)", 12);
			PTUP v886 = PTRMK(18LL /* PTR */,0,0);
			STR* v887;
			STRLIT(v887, " = ", 3);
			PTUP v888 = PTRMK(11LL /* U64 */,0,0);
			STR* v889;
			STRLIT(v889, ";", 1);
			bool v890 = true;
			PTUP v891 = PTRMK(0LL /* None */,0,0);
			PTUP v892;
			PTUP v893;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v885, v886, v887, v888, v889, v890, v891, &v892, &v893);
			branch_ZPlusC99Branch_8 = v893;
			branch_ZPlusMirth_7 = v892;
		} break;
		case 46LL: { // U64Eq
			decref(MKTUP(in_Atom_3));
			STR* v894;
			STRLIT(v894, "(", 1);
			PTUP v895 = PTRMK(11LL /* U64 */,0,0);
			STR* v896;
			STRLIT(v896, " == ", 4);
			PTUP v897 = PTRMK(11LL /* U64 */,0,0);
			STR* v898;
			STRLIT(v898, ")", 1);
			bool v899 = false;
			PTUP v900 = PTRMK(17LL /* Bool */,0,0);
			PTUP v901 = mtw_std_maybe_Maybe_1_Some(MKTUP(v900));
			PTUP v902;
			PTUP v903;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v894, v895, v896, v897, v898, v899, v901, &v902, &v903);
			branch_ZPlusC99Branch_8 = v903;
			branch_ZPlusMirth_7 = v902;
		} break;
		case 47LL: { // U64Lt
			decref(MKTUP(in_Atom_3));
			STR* v904;
			STRLIT(v904, "(", 1);
			PTUP v905 = PTRMK(11LL /* U64 */,0,0);
			STR* v906;
			STRLIT(v906, " < ", 3);
			PTUP v907 = PTRMK(11LL /* U64 */,0,0);
			STR* v908;
			STRLIT(v908, ")", 1);
			bool v909 = false;
			PTUP v910 = PTRMK(17LL /* Bool */,0,0);
			PTUP v911 = mtw_std_maybe_Maybe_1_Some(MKTUP(v910));
			PTUP v912;
			PTUP v913;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v904, v905, v906, v907, v908, v909, v911, &v912, &v913);
			branch_ZPlusC99Branch_8 = v913;
			branch_ZPlusMirth_7 = v912;
		} break;
		case 48LL: { // U64Le
			decref(MKTUP(in_Atom_3));
			STR* v914;
			STRLIT(v914, "(", 1);
			PTUP v915 = PTRMK(11LL /* U64 */,0,0);
			STR* v916;
			STRLIT(v916, " <= ", 4);
			PTUP v917 = PTRMK(11LL /* U64 */,0,0);
			STR* v918;
			STRLIT(v918, ")", 1);
			bool v919 = false;
			PTUP v920 = PTRMK(17LL /* Bool */,0,0);
			PTUP v921 = mtw_std_maybe_Maybe_1_Some(MKTUP(v920));
			PTUP v922;
			PTUP v923;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v914, v915, v916, v917, v918, v919, v921, &v922, &v923);
			branch_ZPlusC99Branch_8 = v923;
			branch_ZPlusMirth_7 = v922;
		} break;
		case 49LL: { // U64Gt
			decref(MKTUP(in_Atom_3));
			STR* v924;
			STRLIT(v924, "(", 1);
			PTUP v925 = PTRMK(11LL /* U64 */,0,0);
			STR* v926;
			STRLIT(v926, " > ", 3);
			PTUP v927 = PTRMK(11LL /* U64 */,0,0);
			STR* v928;
			STRLIT(v928, ")", 1);
			bool v929 = false;
			PTUP v930 = PTRMK(17LL /* Bool */,0,0);
			PTUP v931 = mtw_std_maybe_Maybe_1_Some(MKTUP(v930));
			PTUP v932;
			PTUP v933;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v924, v925, v926, v927, v928, v929, v931, &v932, &v933);
			branch_ZPlusC99Branch_8 = v933;
			branch_ZPlusMirth_7 = v932;
		} break;
		case 50LL: { // U64Ge
			decref(MKTUP(in_Atom_3));
			STR* v934;
			STRLIT(v934, "(", 1);
			PTUP v935 = PTRMK(11LL /* U64 */,0,0);
			STR* v936;
			STRLIT(v936, " >= ", 4);
			PTUP v937 = PTRMK(11LL /* U64 */,0,0);
			STR* v938;
			STRLIT(v938, ")", 1);
			bool v939 = false;
			PTUP v940 = PTRMK(17LL /* Bool */,0,0);
			PTUP v941 = mtw_std_maybe_Maybe_1_Some(MKTUP(v940));
			PTUP v942;
			PTUP v943;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v934, v935, v936, v937, v938, v939, v941, &v942, &v943);
			branch_ZPlusC99Branch_8 = v943;
			branch_ZPlusMirth_7 = v942;
		} break;
		case 51LL: { // U64Ne
			decref(MKTUP(in_Atom_3));
			STR* v944;
			STRLIT(v944, "(", 1);
			PTUP v945 = PTRMK(11LL /* U64 */,0,0);
			STR* v946;
			STRLIT(v946, " != ", 4);
			PTUP v947 = PTRMK(11LL /* U64 */,0,0);
			STR* v948;
			STRLIT(v948, ")", 1);
			bool v949 = false;
			PTUP v950 = PTRMK(17LL /* Bool */,0,0);
			PTUP v951 = mtw_std_maybe_Maybe_1_Some(MKTUP(v950));
			PTUP v952;
			PTUP v953;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v944, v945, v946, v947, v948, v949, v951, &v952, &v953);
			branch_ZPlusC99Branch_8 = v953;
			branch_ZPlusMirth_7 = v952;
		} break;
		case 52LL: { // U64Add
			decref(MKTUP(in_Atom_3));
			STR* v954;
			STRLIT(v954, "(", 1);
			PTUP v955 = PTRMK(11LL /* U64 */,0,0);
			STR* v956;
			STRLIT(v956, " + ", 3);
			PTUP v957 = PTRMK(11LL /* U64 */,0,0);
			STR* v958;
			STRLIT(v958, ")", 1);
			bool v959 = false;
			PTUP v960 = PTRMK(11LL /* U64 */,0,0);
			PTUP v961 = mtw_std_maybe_Maybe_1_Some(MKTUP(v960));
			PTUP v962;
			PTUP v963;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v954, v955, v956, v957, v958, v959, v961, &v962, &v963);
			branch_ZPlusC99Branch_8 = v963;
			branch_ZPlusMirth_7 = v962;
		} break;
		case 53LL: { // U64Sub
			decref(MKTUP(in_Atom_3));
			STR* v964;
			STRLIT(v964, "(", 1);
			PTUP v965 = PTRMK(11LL /* U64 */,0,0);
			STR* v966;
			STRLIT(v966, " - ", 3);
			PTUP v967 = PTRMK(11LL /* U64 */,0,0);
			STR* v968;
			STRLIT(v968, ")", 1);
			bool v969 = false;
			PTUP v970 = PTRMK(11LL /* U64 */,0,0);
			PTUP v971 = mtw_std_maybe_Maybe_1_Some(MKTUP(v970));
			PTUP v972;
			PTUP v973;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v964, v965, v966, v967, v968, v969, v971, &v972, &v973);
			branch_ZPlusC99Branch_8 = v973;
			branch_ZPlusMirth_7 = v972;
		} break;
		case 54LL: { // U64Mul
			decref(MKTUP(in_Atom_3));
			STR* v974;
			STRLIT(v974, "(", 1);
			PTUP v975 = PTRMK(11LL /* U64 */,0,0);
			STR* v976;
			STRLIT(v976, " * ", 3);
			PTUP v977 = PTRMK(11LL /* U64 */,0,0);
			STR* v978;
			STRLIT(v978, ")", 1);
			bool v979 = false;
			PTUP v980 = PTRMK(11LL /* U64 */,0,0);
			PTUP v981 = mtw_std_maybe_Maybe_1_Some(MKTUP(v980));
			PTUP v982;
			PTUP v983;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v974, v975, v976, v977, v978, v979, v981, &v982, &v983);
			branch_ZPlusC99Branch_8 = v983;
			branch_ZPlusMirth_7 = v982;
		} break;
		case 55LL: { // U64Div
			decref(MKTUP(in_Atom_3));
			STR* v984;
			STRLIT(v984, "u64_div(", 8);
			PTUP v985 = PTRMK(11LL /* U64 */,0,0);
			STR* v986;
			STRLIT(v986, ", ", 2);
			PTUP v987 = PTRMK(11LL /* U64 */,0,0);
			STR* v988;
			STRLIT(v988, ")", 1);
			bool v989 = false;
			PTUP v990 = PTRMK(11LL /* U64 */,0,0);
			PTUP v991 = mtw_std_maybe_Maybe_1_Some(MKTUP(v990));
			PTUP v992;
			PTUP v993;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v984, v985, v986, v987, v988, v989, v991, &v992, &v993);
			branch_ZPlusC99Branch_8 = v993;
			branch_ZPlusMirth_7 = v992;
		} break;
		case 56LL: { // U64Mod
			decref(MKTUP(in_Atom_3));
			STR* v994;
			STRLIT(v994, "u64_mod(", 8);
			PTUP v995 = PTRMK(11LL /* U64 */,0,0);
			STR* v996;
			STRLIT(v996, ", ", 2);
			PTUP v997 = PTRMK(11LL /* U64 */,0,0);
			STR* v998;
			STRLIT(v998, ")", 1);
			bool v999 = false;
			PTUP v1000 = PTRMK(11LL /* U64 */,0,0);
			PTUP v1001 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1000));
			PTUP v1002;
			PTUP v1003;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v994, v995, v996, v997, v998, v999, v1001, &v1002, &v1003);
			branch_ZPlusC99Branch_8 = v1003;
			branch_ZPlusMirth_7 = v1002;
		} break;
		case 57LL: { // U64And
			decref(MKTUP(in_Atom_3));
			STR* v1004;
			STRLIT(v1004, "(", 1);
			PTUP v1005 = PTRMK(11LL /* U64 */,0,0);
			STR* v1006;
			STRLIT(v1006, " & ", 3);
			PTUP v1007 = PTRMK(11LL /* U64 */,0,0);
			STR* v1008;
			STRLIT(v1008, ")", 1);
			bool v1009 = false;
			PTUP v1010 = PTRMK(11LL /* U64 */,0,0);
			PTUP v1011 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1010));
			PTUP v1012;
			PTUP v1013;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1004, v1005, v1006, v1007, v1008, v1009, v1011, &v1012, &v1013);
			branch_ZPlusC99Branch_8 = v1013;
			branch_ZPlusMirth_7 = v1012;
		} break;
		case 59LL: { // U64Xor
			decref(MKTUP(in_Atom_3));
			STR* v1014;
			STRLIT(v1014, "(", 1);
			PTUP v1015 = PTRMK(11LL /* U64 */,0,0);
			STR* v1016;
			STRLIT(v1016, " ^ ", 3);
			PTUP v1017 = PTRMK(11LL /* U64 */,0,0);
			STR* v1018;
			STRLIT(v1018, ")", 1);
			bool v1019 = false;
			PTUP v1020 = PTRMK(11LL /* U64 */,0,0);
			PTUP v1021 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1020));
			PTUP v1022;
			PTUP v1023;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1014, v1015, v1016, v1017, v1018, v1019, v1021, &v1022, &v1023);
			branch_ZPlusC99Branch_8 = v1023;
			branch_ZPlusMirth_7 = v1022;
		} break;
		case 58LL: { // U64Or
			decref(MKTUP(in_Atom_3));
			STR* v1024;
			STRLIT(v1024, "(", 1);
			PTUP v1025 = PTRMK(11LL /* U64 */,0,0);
			STR* v1026;
			STRLIT(v1026, " | ", 3);
			PTUP v1027 = PTRMK(11LL /* U64 */,0,0);
			STR* v1028;
			STRLIT(v1028, ")", 1);
			bool v1029 = false;
			PTUP v1030 = PTRMK(11LL /* U64 */,0,0);
			PTUP v1031 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1030));
			PTUP v1032;
			PTUP v1033;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1024, v1025, v1026, v1027, v1028, v1029, v1031, &v1032, &v1033);
			branch_ZPlusC99Branch_8 = v1033;
			branch_ZPlusMirth_7 = v1032;
		} break;
		case 60LL: { // U64Shl
			decref(MKTUP(in_Atom_3));
			STR* v1034;
			STRLIT(v1034, "u64_shl(", 8);
			PTUP v1035 = PTRMK(11LL /* U64 */,0,0);
			STR* v1036;
			STRLIT(v1036, ", ", 2);
			PTUP v1037 = PTRMK(11LL /* U64 */,0,0);
			STR* v1038;
			STRLIT(v1038, ")", 1);
			bool v1039 = false;
			PTUP v1040 = PTRMK(11LL /* U64 */,0,0);
			PTUP v1041 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1040));
			PTUP v1042;
			PTUP v1043;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1034, v1035, v1036, v1037, v1038, v1039, v1041, &v1042, &v1043);
			branch_ZPlusC99Branch_8 = v1043;
			branch_ZPlusMirth_7 = v1042;
		} break;
		case 61LL: { // U64Shr
			decref(MKTUP(in_Atom_3));
			STR* v1044;
			STRLIT(v1044, "u64_shr(", 8);
			PTUP v1045 = PTRMK(11LL /* U64 */,0,0);
			STR* v1046;
			STRLIT(v1046, ", ", 2);
			PTUP v1047 = PTRMK(11LL /* U64 */,0,0);
			STR* v1048;
			STRLIT(v1048, ")", 1);
			bool v1049 = false;
			PTUP v1050 = PTRMK(11LL /* U64 */,0,0);
			PTUP v1051 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1050));
			PTUP v1052;
			PTUP v1053;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1044, v1045, v1046, v1047, v1048, v1049, v1051, &v1052, &v1053);
			branch_ZPlusC99Branch_8 = v1053;
			branch_ZPlusMirth_7 = v1052;
		} break;
		case 62LL: { // U64ToInt
			decref(MKTUP(in_Atom_3));
			STR* v1054;
			STRLIT(v1054, "u64_to_int(", 11);
			PTUP v1055 = PTRMK(11LL /* U64 */,0,0);
			STR* v1056;
			STRLIT(v1056, ")", 1);
			PTUP v1057 = PTRMK(5LL /* Int */,0,0);
			PTUP v1058 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1057));
			PTUP v1059;
			PTUP v1060;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1054, v1055, v1056, v1058, &v1059, &v1060);
			branch_ZPlusC99Branch_8 = v1060;
			branch_ZPlusMirth_7 = v1059;
		} break;
		case 63LL: { // U64ToStr
			decref(MKTUP(in_Atom_3));
			STR* v1061;
			STRLIT(v1061, "u64_to_str(", 11);
			PTUP v1062 = PTRMK(11LL /* U64 */,0,0);
			STR* v1063;
			STRLIT(v1063, ")", 1);
			PTUP v1064 = PTRMK(2LL /* STR */,0,0);
			PTUP v1065 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1064));
			PTUP v1066;
			PTUP v1067;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1061, v1062, v1063, v1065, &v1066, &v1067);
			branch_ZPlusC99Branch_8 = v1067;
			branch_ZPlusMirth_7 = v1066;
		} break;
		case 64LL: { // U64ToU8
			decref(MKTUP(in_Atom_3));
			STR* v1068;
			STRLIT(v1068, "(uint8_t)(", 10);
			PTUP v1069 = PTRMK(11LL /* U64 */,0,0);
			STR* v1070;
			STRLIT(v1070, ")", 1);
			PTUP v1071 = PTRMK(14LL /* U8 */,0,0);
			PTUP v1072 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1071));
			PTUP v1073;
			PTUP v1074;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1068, v1069, v1070, v1072, &v1073, &v1074);
			branch_ZPlusC99Branch_8 = v1074;
			branch_ZPlusMirth_7 = v1073;
		} break;
		case 65LL: { // U64ToU16
			decref(MKTUP(in_Atom_3));
			STR* v1075;
			STRLIT(v1075, "(uint16_t)(", 11);
			PTUP v1076 = PTRMK(11LL /* U64 */,0,0);
			STR* v1077;
			STRLIT(v1077, ")", 1);
			PTUP v1078 = PTRMK(13LL /* U16 */,0,0);
			PTUP v1079 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1078));
			PTUP v1080;
			PTUP v1081;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1075, v1076, v1077, v1079, &v1080, &v1081);
			branch_ZPlusC99Branch_8 = v1081;
			branch_ZPlusMirth_7 = v1080;
		} break;
		case 66LL: { // U64ToU32
			decref(MKTUP(in_Atom_3));
			STR* v1082;
			STRLIT(v1082, "(uint32_t)(", 11);
			PTUP v1083 = PTRMK(11LL /* U64 */,0,0);
			STR* v1084;
			STRLIT(v1084, ")", 1);
			PTUP v1085 = PTRMK(12LL /* U32 */,0,0);
			PTUP v1086 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1085));
			PTUP v1087;
			PTUP v1088;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1082, v1083, v1084, v1086, &v1087, &v1088);
			branch_ZPlusC99Branch_8 = v1088;
			branch_ZPlusMirth_7 = v1087;
		} break;
		case 67LL: { // U64ToI8
			decref(MKTUP(in_Atom_3));
			STR* v1089;
			STRLIT(v1089, "(int8_t)(", 9);
			PTUP v1090 = PTRMK(11LL /* U64 */,0,0);
			STR* v1091;
			STRLIT(v1091, ")", 1);
			PTUP v1092 = PTRMK(10LL /* I8 */,0,0);
			PTUP v1093 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1092));
			PTUP v1094;
			PTUP v1095;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1089, v1090, v1091, v1093, &v1094, &v1095);
			branch_ZPlusC99Branch_8 = v1095;
			branch_ZPlusMirth_7 = v1094;
		} break;
		case 68LL: { // U64ToI16
			decref(MKTUP(in_Atom_3));
			STR* v1096;
			STRLIT(v1096, "(int16_t)(", 10);
			PTUP v1097 = PTRMK(11LL /* U64 */,0,0);
			STR* v1098;
			STRLIT(v1098, ")", 1);
			PTUP v1099 = PTRMK(9LL /* I16 */,0,0);
			PTUP v1100 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1099));
			PTUP v1101;
			PTUP v1102;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1096, v1097, v1098, v1100, &v1101, &v1102);
			branch_ZPlusC99Branch_8 = v1102;
			branch_ZPlusMirth_7 = v1101;
		} break;
		case 69LL: { // U64ToI32
			decref(MKTUP(in_Atom_3));
			STR* v1103;
			STRLIT(v1103, "(int32_t)(", 10);
			PTUP v1104 = PTRMK(11LL /* U64 */,0,0);
			STR* v1105;
			STRLIT(v1105, ")", 1);
			PTUP v1106 = PTRMK(8LL /* I32 */,0,0);
			PTUP v1107 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1106));
			PTUP v1108;
			PTUP v1109;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1103, v1104, v1105, v1107, &v1108, &v1109);
			branch_ZPlusC99Branch_8 = v1109;
			branch_ZPlusMirth_7 = v1108;
		} break;
		case 70LL: { // U64ToI64
			decref(MKTUP(in_Atom_3));
			STR* v1110;
			STRLIT(v1110, "(int64_t)(", 10);
			PTUP v1111 = PTRMK(11LL /* U64 */,0,0);
			STR* v1112;
			STRLIT(v1112, ")", 1);
			PTUP v1113 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1114 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1113));
			PTUP v1115;
			PTUP v1116;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1110, v1111, v1112, v1114, &v1115, &v1116);
			branch_ZPlusC99Branch_8 = v1116;
			branch_ZPlusMirth_7 = v1115;
		} break;
		case 71LL: { // U64ToF32
			decref(MKTUP(in_Atom_3));
			STR* v1117;
			STRLIT(v1117, "(float)(", 8);
			PTUP v1118 = PTRMK(11LL /* U64 */,0,0);
			STR* v1119;
			STRLIT(v1119, ")", 1);
			PTUP v1120 = PTRMK(16LL /* F32 */,0,0);
			PTUP v1121 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1120));
			PTUP v1122;
			PTUP v1123;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1117, v1118, v1119, v1121, &v1122, &v1123);
			branch_ZPlusC99Branch_8 = v1123;
			branch_ZPlusMirth_7 = v1122;
		} break;
		case 72LL: { // U64ToF64
			decref(MKTUP(in_Atom_3));
			STR* v1124;
			STRLIT(v1124, "(double)(", 9);
			PTUP v1125 = PTRMK(11LL /* U64 */,0,0);
			STR* v1126;
			STRLIT(v1126, ")", 1);
			PTUP v1127 = PTRMK(15LL /* F64 */,0,0);
			PTUP v1128 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1127));
			PTUP v1129;
			PTUP v1130;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1124, v1125, v1126, v1128, &v1129, &v1130);
			branch_ZPlusC99Branch_8 = v1130;
			branch_ZPlusMirth_7 = v1129;
		} break;
		case 73LL: { // I8Get
			decref(MKTUP(in_Atom_3));
			STR* v1131;
			STRLIT(v1131, "*(int8_t*)", 10);
			PTUP v1132 = PTRMK(18LL /* PTR */,0,0);
			STR* v1133;
			STRLIT(v1133, "", 0);
			PTUP v1134 = PTRMK(10LL /* I8 */,0,0);
			PTUP v1135 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1134));
			PTUP v1136;
			PTUP v1137;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1131, v1132, v1133, v1135, &v1136, &v1137);
			branch_ZPlusC99Branch_8 = v1137;
			branch_ZPlusMirth_7 = v1136;
		} break;
		case 74LL: { // I8Set
			decref(MKTUP(in_Atom_3));
			STR* v1138;
			STRLIT(v1138, "*(int8_t*)", 10);
			PTUP v1139 = PTRMK(18LL /* PTR */,0,0);
			STR* v1140;
			STRLIT(v1140, " = ", 3);
			PTUP v1141 = PTRMK(10LL /* I8 */,0,0);
			STR* v1142;
			STRLIT(v1142, ";", 1);
			bool v1143 = true;
			PTUP v1144 = PTRMK(0LL /* None */,0,0);
			PTUP v1145;
			PTUP v1146;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1138, v1139, v1140, v1141, v1142, v1143, v1144, &v1145, &v1146);
			branch_ZPlusC99Branch_8 = v1146;
			branch_ZPlusMirth_7 = v1145;
		} break;
		case 75LL: { // I8ToI64
			decref(MKTUP(in_Atom_3));
			STR* v1147;
			STRLIT(v1147, "(int64_t)(", 10);
			PTUP v1148 = PTRMK(10LL /* I8 */,0,0);
			STR* v1149;
			STRLIT(v1149, ")", 1);
			PTUP v1150 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1151 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1150));
			PTUP v1152;
			PTUP v1153;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1147, v1148, v1149, v1151, &v1152, &v1153);
			branch_ZPlusC99Branch_8 = v1153;
			branch_ZPlusMirth_7 = v1152;
		} break;
		case 76LL: { // I16Get
			decref(MKTUP(in_Atom_3));
			STR* v1154;
			STRLIT(v1154, "*(int16_t*)", 11);
			PTUP v1155 = PTRMK(18LL /* PTR */,0,0);
			STR* v1156;
			STRLIT(v1156, "", 0);
			PTUP v1157 = PTRMK(9LL /* I16 */,0,0);
			PTUP v1158 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1157));
			PTUP v1159;
			PTUP v1160;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1154, v1155, v1156, v1158, &v1159, &v1160);
			branch_ZPlusC99Branch_8 = v1160;
			branch_ZPlusMirth_7 = v1159;
		} break;
		case 77LL: { // I16Set
			decref(MKTUP(in_Atom_3));
			STR* v1161;
			STRLIT(v1161, "*(int16_t*)", 11);
			PTUP v1162 = PTRMK(18LL /* PTR */,0,0);
			STR* v1163;
			STRLIT(v1163, " = ", 3);
			PTUP v1164 = PTRMK(9LL /* I16 */,0,0);
			STR* v1165;
			STRLIT(v1165, ";", 1);
			bool v1166 = true;
			PTUP v1167 = PTRMK(0LL /* None */,0,0);
			PTUP v1168;
			PTUP v1169;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1161, v1162, v1163, v1164, v1165, v1166, v1167, &v1168, &v1169);
			branch_ZPlusC99Branch_8 = v1169;
			branch_ZPlusMirth_7 = v1168;
		} break;
		case 78LL: { // I16ToI64
			decref(MKTUP(in_Atom_3));
			STR* v1170;
			STRLIT(v1170, "(int64_t)(", 10);
			PTUP v1171 = PTRMK(9LL /* I16 */,0,0);
			STR* v1172;
			STRLIT(v1172, ")", 1);
			PTUP v1173 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1174 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1173));
			PTUP v1175;
			PTUP v1176;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1170, v1171, v1172, v1174, &v1175, &v1176);
			branch_ZPlusC99Branch_8 = v1176;
			branch_ZPlusMirth_7 = v1175;
		} break;
		case 79LL: { // I32Get
			decref(MKTUP(in_Atom_3));
			STR* v1177;
			STRLIT(v1177, "*(int32_t*)", 11);
			PTUP v1178 = PTRMK(18LL /* PTR */,0,0);
			STR* v1179;
			STRLIT(v1179, "", 0);
			PTUP v1180 = PTRMK(8LL /* I32 */,0,0);
			PTUP v1181 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1180));
			PTUP v1182;
			PTUP v1183;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1177, v1178, v1179, v1181, &v1182, &v1183);
			branch_ZPlusC99Branch_8 = v1183;
			branch_ZPlusMirth_7 = v1182;
		} break;
		case 80LL: { // I32Set
			decref(MKTUP(in_Atom_3));
			STR* v1184;
			STRLIT(v1184, "*(int32_t*)", 11);
			PTUP v1185 = PTRMK(18LL /* PTR */,0,0);
			STR* v1186;
			STRLIT(v1186, " = ", 3);
			PTUP v1187 = PTRMK(8LL /* I32 */,0,0);
			STR* v1188;
			STRLIT(v1188, ";", 1);
			bool v1189 = true;
			PTUP v1190 = PTRMK(0LL /* None */,0,0);
			PTUP v1191;
			PTUP v1192;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1184, v1185, v1186, v1187, v1188, v1189, v1190, &v1191, &v1192);
			branch_ZPlusC99Branch_8 = v1192;
			branch_ZPlusMirth_7 = v1191;
		} break;
		case 81LL: { // I32ToI64
			decref(MKTUP(in_Atom_3));
			STR* v1193;
			STRLIT(v1193, "(int64_t)(", 10);
			PTUP v1194 = PTRMK(8LL /* I32 */,0,0);
			STR* v1195;
			STRLIT(v1195, ")", 1);
			PTUP v1196 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1197 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1196));
			PTUP v1198;
			PTUP v1199;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1193, v1194, v1195, v1197, &v1198, &v1199);
			branch_ZPlusC99Branch_8 = v1199;
			branch_ZPlusMirth_7 = v1198;
		} break;
		case 82LL: { // I64Get
			decref(MKTUP(in_Atom_3));
			STR* v1200;
			STRLIT(v1200, "*(int64_t*)", 11);
			PTUP v1201 = PTRMK(18LL /* PTR */,0,0);
			STR* v1202;
			STRLIT(v1202, "", 0);
			PTUP v1203 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1204 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1203));
			PTUP v1205;
			PTUP v1206;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1200, v1201, v1202, v1204, &v1205, &v1206);
			branch_ZPlusC99Branch_8 = v1206;
			branch_ZPlusMirth_7 = v1205;
		} break;
		case 83LL: { // I64Set
			decref(MKTUP(in_Atom_3));
			STR* v1207;
			STRLIT(v1207, "*(int64_t*)", 11);
			PTUP v1208 = PTRMK(18LL /* PTR */,0,0);
			STR* v1209;
			STRLIT(v1209, " = ", 3);
			PTUP v1210 = PTRMK(7LL /* I64 */,0,0);
			STR* v1211;
			STRLIT(v1211, ";", 1);
			bool v1212 = true;
			PTUP v1213 = PTRMK(0LL /* None */,0,0);
			PTUP v1214;
			PTUP v1215;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1207, v1208, v1209, v1210, v1211, v1212, v1213, &v1214, &v1215);
			branch_ZPlusC99Branch_8 = v1215;
			branch_ZPlusMirth_7 = v1214;
		} break;
		case 84LL: { // I64Eq
			decref(MKTUP(in_Atom_3));
			STR* v1216;
			STRLIT(v1216, "(", 1);
			PTUP v1217 = PTRMK(7LL /* I64 */,0,0);
			STR* v1218;
			STRLIT(v1218, " == ", 4);
			PTUP v1219 = PTRMK(7LL /* I64 */,0,0);
			STR* v1220;
			STRLIT(v1220, ")", 1);
			bool v1221 = false;
			PTUP v1222 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1223 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1222));
			PTUP v1224;
			PTUP v1225;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1216, v1217, v1218, v1219, v1220, v1221, v1223, &v1224, &v1225);
			branch_ZPlusC99Branch_8 = v1225;
			branch_ZPlusMirth_7 = v1224;
		} break;
		case 85LL: { // I64Lt
			decref(MKTUP(in_Atom_3));
			STR* v1226;
			STRLIT(v1226, "(", 1);
			PTUP v1227 = PTRMK(7LL /* I64 */,0,0);
			STR* v1228;
			STRLIT(v1228, " < ", 3);
			PTUP v1229 = PTRMK(7LL /* I64 */,0,0);
			STR* v1230;
			STRLIT(v1230, ")", 1);
			bool v1231 = false;
			PTUP v1232 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1233 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1232));
			PTUP v1234;
			PTUP v1235;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1226, v1227, v1228, v1229, v1230, v1231, v1233, &v1234, &v1235);
			branch_ZPlusC99Branch_8 = v1235;
			branch_ZPlusMirth_7 = v1234;
		} break;
		case 86LL: { // I64Le
			decref(MKTUP(in_Atom_3));
			STR* v1236;
			STRLIT(v1236, "(", 1);
			PTUP v1237 = PTRMK(7LL /* I64 */,0,0);
			STR* v1238;
			STRLIT(v1238, " <= ", 4);
			PTUP v1239 = PTRMK(7LL /* I64 */,0,0);
			STR* v1240;
			STRLIT(v1240, ")", 1);
			bool v1241 = false;
			PTUP v1242 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1243 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1242));
			PTUP v1244;
			PTUP v1245;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1236, v1237, v1238, v1239, v1240, v1241, v1243, &v1244, &v1245);
			branch_ZPlusC99Branch_8 = v1245;
			branch_ZPlusMirth_7 = v1244;
		} break;
		case 87LL: { // I64Gt
			decref(MKTUP(in_Atom_3));
			STR* v1246;
			STRLIT(v1246, "(", 1);
			PTUP v1247 = PTRMK(7LL /* I64 */,0,0);
			STR* v1248;
			STRLIT(v1248, " > ", 3);
			PTUP v1249 = PTRMK(7LL /* I64 */,0,0);
			STR* v1250;
			STRLIT(v1250, ")", 1);
			bool v1251 = false;
			PTUP v1252 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1253 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1252));
			PTUP v1254;
			PTUP v1255;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1246, v1247, v1248, v1249, v1250, v1251, v1253, &v1254, &v1255);
			branch_ZPlusC99Branch_8 = v1255;
			branch_ZPlusMirth_7 = v1254;
		} break;
		case 88LL: { // I64Ge
			decref(MKTUP(in_Atom_3));
			STR* v1256;
			STRLIT(v1256, "(", 1);
			PTUP v1257 = PTRMK(7LL /* I64 */,0,0);
			STR* v1258;
			STRLIT(v1258, " >= ", 4);
			PTUP v1259 = PTRMK(7LL /* I64 */,0,0);
			STR* v1260;
			STRLIT(v1260, ")", 1);
			bool v1261 = false;
			PTUP v1262 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1263 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1262));
			PTUP v1264;
			PTUP v1265;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1256, v1257, v1258, v1259, v1260, v1261, v1263, &v1264, &v1265);
			branch_ZPlusC99Branch_8 = v1265;
			branch_ZPlusMirth_7 = v1264;
		} break;
		case 89LL: { // I64Ne
			decref(MKTUP(in_Atom_3));
			STR* v1266;
			STRLIT(v1266, "(", 1);
			PTUP v1267 = PTRMK(7LL /* I64 */,0,0);
			STR* v1268;
			STRLIT(v1268, " != ", 4);
			PTUP v1269 = PTRMK(7LL /* I64 */,0,0);
			STR* v1270;
			STRLIT(v1270, ")", 1);
			bool v1271 = false;
			PTUP v1272 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1273 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1272));
			PTUP v1274;
			PTUP v1275;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1266, v1267, v1268, v1269, v1270, v1271, v1273, &v1274, &v1275);
			branch_ZPlusC99Branch_8 = v1275;
			branch_ZPlusMirth_7 = v1274;
		} break;
		case 90LL: { // I64Add
			decref(MKTUP(in_Atom_3));
			STR* v1276;
			STRLIT(v1276, "i64_add(", 8);
			PTUP v1277 = PTRMK(7LL /* I64 */,0,0);
			STR* v1278;
			STRLIT(v1278, ", ", 2);
			PTUP v1279 = PTRMK(7LL /* I64 */,0,0);
			STR* v1280;
			STRLIT(v1280, ")", 1);
			bool v1281 = false;
			PTUP v1282 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1283 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1282));
			PTUP v1284;
			PTUP v1285;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1276, v1277, v1278, v1279, v1280, v1281, v1283, &v1284, &v1285);
			branch_ZPlusC99Branch_8 = v1285;
			branch_ZPlusMirth_7 = v1284;
		} break;
		case 91LL: { // I64Sub
			decref(MKTUP(in_Atom_3));
			STR* v1286;
			STRLIT(v1286, "i64_sub(", 8);
			PTUP v1287 = PTRMK(7LL /* I64 */,0,0);
			STR* v1288;
			STRLIT(v1288, ", ", 2);
			PTUP v1289 = PTRMK(7LL /* I64 */,0,0);
			STR* v1290;
			STRLIT(v1290, ")", 1);
			bool v1291 = false;
			PTUP v1292 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1293 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1292));
			PTUP v1294;
			PTUP v1295;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1286, v1287, v1288, v1289, v1290, v1291, v1293, &v1294, &v1295);
			branch_ZPlusC99Branch_8 = v1295;
			branch_ZPlusMirth_7 = v1294;
		} break;
		case 92LL: { // I64Mul
			decref(MKTUP(in_Atom_3));
			STR* v1296;
			STRLIT(v1296, "i64_mul(", 8);
			PTUP v1297 = PTRMK(7LL /* I64 */,0,0);
			STR* v1298;
			STRLIT(v1298, ", ", 2);
			PTUP v1299 = PTRMK(7LL /* I64 */,0,0);
			STR* v1300;
			STRLIT(v1300, ")", 1);
			bool v1301 = false;
			PTUP v1302 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1303 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1302));
			PTUP v1304;
			PTUP v1305;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1296, v1297, v1298, v1299, v1300, v1301, v1303, &v1304, &v1305);
			branch_ZPlusC99Branch_8 = v1305;
			branch_ZPlusMirth_7 = v1304;
		} break;
		case 93LL: { // I64Div
			decref(MKTUP(in_Atom_3));
			STR* v1306;
			STRLIT(v1306, "i64_div(", 8);
			PTUP v1307 = PTRMK(7LL /* I64 */,0,0);
			STR* v1308;
			STRLIT(v1308, ", ", 2);
			PTUP v1309 = PTRMK(7LL /* I64 */,0,0);
			STR* v1310;
			STRLIT(v1310, ")", 1);
			bool v1311 = false;
			PTUP v1312 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1313 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1312));
			PTUP v1314;
			PTUP v1315;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1306, v1307, v1308, v1309, v1310, v1311, v1313, &v1314, &v1315);
			branch_ZPlusC99Branch_8 = v1315;
			branch_ZPlusMirth_7 = v1314;
		} break;
		case 94LL: { // I64Mod
			decref(MKTUP(in_Atom_3));
			STR* v1316;
			STRLIT(v1316, "i64_mod(", 8);
			PTUP v1317 = PTRMK(7LL /* I64 */,0,0);
			STR* v1318;
			STRLIT(v1318, ", ", 2);
			PTUP v1319 = PTRMK(7LL /* I64 */,0,0);
			STR* v1320;
			STRLIT(v1320, ")", 1);
			bool v1321 = false;
			PTUP v1322 = PTRMK(7LL /* I64 */,0,0);
			PTUP v1323 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1322));
			PTUP v1324;
			PTUP v1325;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1316, v1317, v1318, v1319, v1320, v1321, v1323, &v1324, &v1325);
			branch_ZPlusC99Branch_8 = v1325;
			branch_ZPlusMirth_7 = v1324;
		} break;
		case 95LL: { // I64ToInt
			decref(MKTUP(in_Atom_3));
			STR* v1326;
			STRLIT(v1326, "i64_to_int(", 11);
			PTUP v1327 = PTRMK(7LL /* I64 */,0,0);
			STR* v1328;
			STRLIT(v1328, ")", 1);
			PTUP v1329 = PTRMK(5LL /* Int */,0,0);
			PTUP v1330 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1329));
			PTUP v1331;
			PTUP v1332;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1326, v1327, v1328, v1330, &v1331, &v1332);
			branch_ZPlusC99Branch_8 = v1332;
			branch_ZPlusMirth_7 = v1331;
		} break;
		case 96LL: { // I64ToStr
			decref(MKTUP(in_Atom_3));
			STR* v1333;
			STRLIT(v1333, "i64_to_str(", 11);
			PTUP v1334 = PTRMK(7LL /* I64 */,0,0);
			STR* v1335;
			STRLIT(v1335, ")", 1);
			PTUP v1336 = PTRMK(2LL /* STR */,0,0);
			PTUP v1337 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1336));
			PTUP v1338;
			PTUP v1339;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1333, v1334, v1335, v1337, &v1338, &v1339);
			branch_ZPlusC99Branch_8 = v1339;
			branch_ZPlusMirth_7 = v1338;
		} break;
		case 97LL: { // I64ToU8
			decref(MKTUP(in_Atom_3));
			STR* v1340;
			STRLIT(v1340, "(uint8_t)(", 10);
			PTUP v1341 = PTRMK(7LL /* I64 */,0,0);
			STR* v1342;
			STRLIT(v1342, ")", 1);
			PTUP v1343 = PTRMK(14LL /* U8 */,0,0);
			PTUP v1344 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1343));
			PTUP v1345;
			PTUP v1346;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1340, v1341, v1342, v1344, &v1345, &v1346);
			branch_ZPlusC99Branch_8 = v1346;
			branch_ZPlusMirth_7 = v1345;
		} break;
		case 98LL: { // I64ToU16
			decref(MKTUP(in_Atom_3));
			STR* v1347;
			STRLIT(v1347, "(uint16_t)(", 11);
			PTUP v1348 = PTRMK(7LL /* I64 */,0,0);
			STR* v1349;
			STRLIT(v1349, ")", 1);
			PTUP v1350 = PTRMK(13LL /* U16 */,0,0);
			PTUP v1351 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1350));
			PTUP v1352;
			PTUP v1353;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1347, v1348, v1349, v1351, &v1352, &v1353);
			branch_ZPlusC99Branch_8 = v1353;
			branch_ZPlusMirth_7 = v1352;
		} break;
		case 99LL: { // I64ToU32
			decref(MKTUP(in_Atom_3));
			STR* v1354;
			STRLIT(v1354, "(uint32_t)(", 11);
			PTUP v1355 = PTRMK(7LL /* I64 */,0,0);
			STR* v1356;
			STRLIT(v1356, ")", 1);
			PTUP v1357 = PTRMK(12LL /* U32 */,0,0);
			PTUP v1358 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1357));
			PTUP v1359;
			PTUP v1360;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1354, v1355, v1356, v1358, &v1359, &v1360);
			branch_ZPlusC99Branch_8 = v1360;
			branch_ZPlusMirth_7 = v1359;
		} break;
		case 100LL: { // I64ToU64
			decref(MKTUP(in_Atom_3));
			STR* v1361;
			STRLIT(v1361, "(uint64_t)(", 11);
			PTUP v1362 = PTRMK(7LL /* I64 */,0,0);
			STR* v1363;
			STRLIT(v1363, ")", 1);
			PTUP v1364 = PTRMK(11LL /* U64 */,0,0);
			PTUP v1365 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1364));
			PTUP v1366;
			PTUP v1367;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1361, v1362, v1363, v1365, &v1366, &v1367);
			branch_ZPlusC99Branch_8 = v1367;
			branch_ZPlusMirth_7 = v1366;
		} break;
		case 101LL: { // I64ToI8
			decref(MKTUP(in_Atom_3));
			STR* v1368;
			STRLIT(v1368, "(int8_t)(", 9);
			PTUP v1369 = PTRMK(7LL /* I64 */,0,0);
			STR* v1370;
			STRLIT(v1370, ")", 1);
			PTUP v1371 = PTRMK(10LL /* I8 */,0,0);
			PTUP v1372 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1371));
			PTUP v1373;
			PTUP v1374;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1368, v1369, v1370, v1372, &v1373, &v1374);
			branch_ZPlusC99Branch_8 = v1374;
			branch_ZPlusMirth_7 = v1373;
		} break;
		case 102LL: { // I64ToI16
			decref(MKTUP(in_Atom_3));
			STR* v1375;
			STRLIT(v1375, "(int16_t)(", 10);
			PTUP v1376 = PTRMK(7LL /* I64 */,0,0);
			STR* v1377;
			STRLIT(v1377, ")", 1);
			PTUP v1378 = PTRMK(9LL /* I16 */,0,0);
			PTUP v1379 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1378));
			PTUP v1380;
			PTUP v1381;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1375, v1376, v1377, v1379, &v1380, &v1381);
			branch_ZPlusC99Branch_8 = v1381;
			branch_ZPlusMirth_7 = v1380;
		} break;
		case 103LL: { // I64ToI32
			decref(MKTUP(in_Atom_3));
			STR* v1382;
			STRLIT(v1382, "(int32_t)(", 10);
			PTUP v1383 = PTRMK(7LL /* I64 */,0,0);
			STR* v1384;
			STRLIT(v1384, ")", 1);
			PTUP v1385 = PTRMK(8LL /* I32 */,0,0);
			PTUP v1386 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1385));
			PTUP v1387;
			PTUP v1388;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1382, v1383, v1384, v1386, &v1387, &v1388);
			branch_ZPlusC99Branch_8 = v1388;
			branch_ZPlusMirth_7 = v1387;
		} break;
		case 104LL: { // I64ToF32
			decref(MKTUP(in_Atom_3));
			STR* v1389;
			STRLIT(v1389, "(float)(", 8);
			PTUP v1390 = PTRMK(7LL /* I64 */,0,0);
			STR* v1391;
			STRLIT(v1391, ")", 1);
			PTUP v1392 = PTRMK(16LL /* F32 */,0,0);
			PTUP v1393 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1392));
			PTUP v1394;
			PTUP v1395;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1389, v1390, v1391, v1393, &v1394, &v1395);
			branch_ZPlusC99Branch_8 = v1395;
			branch_ZPlusMirth_7 = v1394;
		} break;
		case 105LL: { // I64ToF64
			decref(MKTUP(in_Atom_3));
			STR* v1396;
			STRLIT(v1396, "(double)(", 9);
			PTUP v1397 = PTRMK(7LL /* I64 */,0,0);
			STR* v1398;
			STRLIT(v1398, ")", 1);
			PTUP v1399 = PTRMK(15LL /* F64 */,0,0);
			PTUP v1400 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1399));
			PTUP v1401;
			PTUP v1402;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1396, v1397, v1398, v1400, &v1401, &v1402);
			branch_ZPlusC99Branch_8 = v1402;
			branch_ZPlusMirth_7 = v1401;
		} break;
		case 106LL: { // F32Eq
			decref(MKTUP(in_Atom_3));
			STR* v1403;
			STRLIT(v1403, "(", 1);
			PTUP v1404 = PTRMK(16LL /* F32 */,0,0);
			STR* v1405;
			STRLIT(v1405, " == ", 4);
			PTUP v1406 = PTRMK(16LL /* F32 */,0,0);
			STR* v1407;
			STRLIT(v1407, ")", 1);
			bool v1408 = false;
			PTUP v1409 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1410 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1409));
			PTUP v1411;
			PTUP v1412;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1403, v1404, v1405, v1406, v1407, v1408, v1410, &v1411, &v1412);
			branch_ZPlusC99Branch_8 = v1412;
			branch_ZPlusMirth_7 = v1411;
		} break;
		case 107LL: { // F32Lt
			decref(MKTUP(in_Atom_3));
			STR* v1413;
			STRLIT(v1413, "(", 1);
			PTUP v1414 = PTRMK(16LL /* F32 */,0,0);
			STR* v1415;
			STRLIT(v1415, " < ", 3);
			PTUP v1416 = PTRMK(16LL /* F32 */,0,0);
			STR* v1417;
			STRLIT(v1417, ")", 1);
			bool v1418 = false;
			PTUP v1419 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1420 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1419));
			PTUP v1421;
			PTUP v1422;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1413, v1414, v1415, v1416, v1417, v1418, v1420, &v1421, &v1422);
			branch_ZPlusC99Branch_8 = v1422;
			branch_ZPlusMirth_7 = v1421;
		} break;
		case 108LL: { // F32Le
			decref(MKTUP(in_Atom_3));
			STR* v1423;
			STRLIT(v1423, "(", 1);
			PTUP v1424 = PTRMK(16LL /* F32 */,0,0);
			STR* v1425;
			STRLIT(v1425, " <= ", 4);
			PTUP v1426 = PTRMK(16LL /* F32 */,0,0);
			STR* v1427;
			STRLIT(v1427, ")", 1);
			bool v1428 = false;
			PTUP v1429 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1430 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1429));
			PTUP v1431;
			PTUP v1432;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1423, v1424, v1425, v1426, v1427, v1428, v1430, &v1431, &v1432);
			branch_ZPlusC99Branch_8 = v1432;
			branch_ZPlusMirth_7 = v1431;
		} break;
		case 109LL: { // F32Gt
			decref(MKTUP(in_Atom_3));
			STR* v1433;
			STRLIT(v1433, "(", 1);
			PTUP v1434 = PTRMK(16LL /* F32 */,0,0);
			STR* v1435;
			STRLIT(v1435, " > ", 3);
			PTUP v1436 = PTRMK(16LL /* F32 */,0,0);
			STR* v1437;
			STRLIT(v1437, ")", 1);
			bool v1438 = false;
			PTUP v1439 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1440 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1439));
			PTUP v1441;
			PTUP v1442;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1433, v1434, v1435, v1436, v1437, v1438, v1440, &v1441, &v1442);
			branch_ZPlusC99Branch_8 = v1442;
			branch_ZPlusMirth_7 = v1441;
		} break;
		case 110LL: { // F32Ge
			decref(MKTUP(in_Atom_3));
			STR* v1443;
			STRLIT(v1443, "(", 1);
			PTUP v1444 = PTRMK(16LL /* F32 */,0,0);
			STR* v1445;
			STRLIT(v1445, " >= ", 4);
			PTUP v1446 = PTRMK(16LL /* F32 */,0,0);
			STR* v1447;
			STRLIT(v1447, ")", 1);
			bool v1448 = false;
			PTUP v1449 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1450 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1449));
			PTUP v1451;
			PTUP v1452;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1443, v1444, v1445, v1446, v1447, v1448, v1450, &v1451, &v1452);
			branch_ZPlusC99Branch_8 = v1452;
			branch_ZPlusMirth_7 = v1451;
		} break;
		case 111LL: { // F32Ne
			decref(MKTUP(in_Atom_3));
			STR* v1453;
			STRLIT(v1453, "(", 1);
			PTUP v1454 = PTRMK(16LL /* F32 */,0,0);
			STR* v1455;
			STRLIT(v1455, " != ", 4);
			PTUP v1456 = PTRMK(16LL /* F32 */,0,0);
			STR* v1457;
			STRLIT(v1457, ")", 1);
			bool v1458 = false;
			PTUP v1459 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1460 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1459));
			PTUP v1461;
			PTUP v1462;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1453, v1454, v1455, v1456, v1457, v1458, v1460, &v1461, &v1462);
			branch_ZPlusC99Branch_8 = v1462;
			branch_ZPlusMirth_7 = v1461;
		} break;
		case 112LL: { // F32Add
			decref(MKTUP(in_Atom_3));
			STR* v1463;
			STRLIT(v1463, "(", 1);
			PTUP v1464 = PTRMK(16LL /* F32 */,0,0);
			STR* v1465;
			STRLIT(v1465, " + ", 3);
			PTUP v1466 = PTRMK(16LL /* F32 */,0,0);
			STR* v1467;
			STRLIT(v1467, ")", 1);
			bool v1468 = false;
			PTUP v1469 = PTRMK(16LL /* F32 */,0,0);
			PTUP v1470 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1469));
			PTUP v1471;
			PTUP v1472;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1463, v1464, v1465, v1466, v1467, v1468, v1470, &v1471, &v1472);
			branch_ZPlusC99Branch_8 = v1472;
			branch_ZPlusMirth_7 = v1471;
		} break;
		case 113LL: { // F32Sub
			decref(MKTUP(in_Atom_3));
			STR* v1473;
			STRLIT(v1473, "(", 1);
			PTUP v1474 = PTRMK(16LL /* F32 */,0,0);
			STR* v1475;
			STRLIT(v1475, " - ", 3);
			PTUP v1476 = PTRMK(16LL /* F32 */,0,0);
			STR* v1477;
			STRLIT(v1477, ")", 1);
			bool v1478 = false;
			PTUP v1479 = PTRMK(16LL /* F32 */,0,0);
			PTUP v1480 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1479));
			PTUP v1481;
			PTUP v1482;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1473, v1474, v1475, v1476, v1477, v1478, v1480, &v1481, &v1482);
			branch_ZPlusC99Branch_8 = v1482;
			branch_ZPlusMirth_7 = v1481;
		} break;
		case 114LL: { // F32Mul
			decref(MKTUP(in_Atom_3));
			STR* v1483;
			STRLIT(v1483, "(", 1);
			PTUP v1484 = PTRMK(16LL /* F32 */,0,0);
			STR* v1485;
			STRLIT(v1485, " * ", 3);
			PTUP v1486 = PTRMK(16LL /* F32 */,0,0);
			STR* v1487;
			STRLIT(v1487, ")", 1);
			bool v1488 = false;
			PTUP v1489 = PTRMK(16LL /* F32 */,0,0);
			PTUP v1490 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1489));
			PTUP v1491;
			PTUP v1492;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1483, v1484, v1485, v1486, v1487, v1488, v1490, &v1491, &v1492);
			branch_ZPlusC99Branch_8 = v1492;
			branch_ZPlusMirth_7 = v1491;
		} break;
		case 115LL: { // F32Div
			decref(MKTUP(in_Atom_3));
			STR* v1493;
			STRLIT(v1493, "(", 1);
			PTUP v1494 = PTRMK(16LL /* F32 */,0,0);
			STR* v1495;
			STRLIT(v1495, " / ", 3);
			PTUP v1496 = PTRMK(16LL /* F32 */,0,0);
			STR* v1497;
			STRLIT(v1497, ")", 1);
			bool v1498 = false;
			PTUP v1499 = PTRMK(16LL /* F32 */,0,0);
			PTUP v1500 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1499));
			PTUP v1501;
			PTUP v1502;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1493, v1494, v1495, v1496, v1497, v1498, v1500, &v1501, &v1502);
			branch_ZPlusC99Branch_8 = v1502;
			branch_ZPlusMirth_7 = v1501;
		} break;
		case 116LL: { // F32ToInt
			decref(MKTUP(in_Atom_3));
			STR* v1503;
			STRLIT(v1503, "f32_to_int(", 11);
			PTUP v1504 = PTRMK(16LL /* F32 */,0,0);
			STR* v1505;
			STRLIT(v1505, ")", 1);
			PTUP v1506 = PTRMK(5LL /* Int */,0,0);
			PTUP v1507 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1506));
			PTUP v1508;
			PTUP v1509;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1503, v1504, v1505, v1507, &v1508, &v1509);
			branch_ZPlusC99Branch_8 = v1509;
			branch_ZPlusMirth_7 = v1508;
		} break;
		case 118LL: { // F32ToF64
			decref(MKTUP(in_Atom_3));
			STR* v1510;
			STRLIT(v1510, "(double)", 8);
			PTUP v1511 = PTRMK(16LL /* F32 */,0,0);
			STR* v1512;
			STRLIT(v1512, "", 0);
			PTUP v1513 = PTRMK(15LL /* F64 */,0,0);
			PTUP v1514 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1513));
			PTUP v1515;
			PTUP v1516;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1510, v1511, v1512, v1514, &v1515, &v1516);
			branch_ZPlusC99Branch_8 = v1516;
			branch_ZPlusMirth_7 = v1515;
		} break;
		case 117LL: { // F32ToStr
			decref(MKTUP(in_Atom_3));
			STR* v1517;
			STRLIT(v1517, "f32_to_str(", 11);
			PTUP v1518 = PTRMK(16LL /* F32 */,0,0);
			STR* v1519;
			STRLIT(v1519, ")", 1);
			PTUP v1520 = PTRMK(2LL /* STR */,0,0);
			PTUP v1521 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1520));
			PTUP v1522;
			PTUP v1523;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1517, v1518, v1519, v1521, &v1522, &v1523);
			branch_ZPlusC99Branch_8 = v1523;
			branch_ZPlusMirth_7 = v1522;
		} break;
		case 119LL: { // F32Get
			decref(MKTUP(in_Atom_3));
			STR* v1524;
			STRLIT(v1524, "*(float*)", 9);
			PTUP v1525 = PTRMK(18LL /* PTR */,0,0);
			STR* v1526;
			STRLIT(v1526, "", 0);
			PTUP v1527 = PTRMK(16LL /* F32 */,0,0);
			PTUP v1528 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1527));
			PTUP v1529;
			PTUP v1530;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1524, v1525, v1526, v1528, &v1529, &v1530);
			branch_ZPlusC99Branch_8 = v1530;
			branch_ZPlusMirth_7 = v1529;
		} break;
		case 120LL: { // F32Set
			decref(MKTUP(in_Atom_3));
			STR* v1531;
			STRLIT(v1531, "*(float*)", 9);
			PTUP v1532 = PTRMK(18LL /* PTR */,0,0);
			STR* v1533;
			STRLIT(v1533, " = ", 3);
			PTUP v1534 = PTRMK(16LL /* F32 */,0,0);
			STR* v1535;
			STRLIT(v1535, ";", 1);
			bool v1536 = true;
			PTUP v1537 = PTRMK(0LL /* None */,0,0);
			PTUP v1538;
			PTUP v1539;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1531, v1532, v1533, v1534, v1535, v1536, v1537, &v1538, &v1539);
			branch_ZPlusC99Branch_8 = v1539;
			branch_ZPlusMirth_7 = v1538;
		} break;
		case 121LL: { // F64Eq
			decref(MKTUP(in_Atom_3));
			STR* v1540;
			STRLIT(v1540, "(", 1);
			PTUP v1541 = PTRMK(15LL /* F64 */,0,0);
			STR* v1542;
			STRLIT(v1542, " == ", 4);
			PTUP v1543 = PTRMK(15LL /* F64 */,0,0);
			STR* v1544;
			STRLIT(v1544, ")", 1);
			bool v1545 = false;
			PTUP v1546 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1547 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1546));
			PTUP v1548;
			PTUP v1549;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1540, v1541, v1542, v1543, v1544, v1545, v1547, &v1548, &v1549);
			branch_ZPlusC99Branch_8 = v1549;
			branch_ZPlusMirth_7 = v1548;
		} break;
		case 122LL: { // F64Lt
			decref(MKTUP(in_Atom_3));
			STR* v1550;
			STRLIT(v1550, "(", 1);
			PTUP v1551 = PTRMK(15LL /* F64 */,0,0);
			STR* v1552;
			STRLIT(v1552, " < ", 3);
			PTUP v1553 = PTRMK(15LL /* F64 */,0,0);
			STR* v1554;
			STRLIT(v1554, ")", 1);
			bool v1555 = false;
			PTUP v1556 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1557 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1556));
			PTUP v1558;
			PTUP v1559;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1550, v1551, v1552, v1553, v1554, v1555, v1557, &v1558, &v1559);
			branch_ZPlusC99Branch_8 = v1559;
			branch_ZPlusMirth_7 = v1558;
		} break;
		case 123LL: { // F64Le
			decref(MKTUP(in_Atom_3));
			STR* v1560;
			STRLIT(v1560, "(", 1);
			PTUP v1561 = PTRMK(15LL /* F64 */,0,0);
			STR* v1562;
			STRLIT(v1562, " <= ", 4);
			PTUP v1563 = PTRMK(15LL /* F64 */,0,0);
			STR* v1564;
			STRLIT(v1564, ")", 1);
			bool v1565 = false;
			PTUP v1566 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1567 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1566));
			PTUP v1568;
			PTUP v1569;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1560, v1561, v1562, v1563, v1564, v1565, v1567, &v1568, &v1569);
			branch_ZPlusC99Branch_8 = v1569;
			branch_ZPlusMirth_7 = v1568;
		} break;
		case 124LL: { // F64Gt
			decref(MKTUP(in_Atom_3));
			STR* v1570;
			STRLIT(v1570, "(", 1);
			PTUP v1571 = PTRMK(15LL /* F64 */,0,0);
			STR* v1572;
			STRLIT(v1572, " > ", 3);
			PTUP v1573 = PTRMK(15LL /* F64 */,0,0);
			STR* v1574;
			STRLIT(v1574, ")", 1);
			bool v1575 = false;
			PTUP v1576 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1577 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1576));
			PTUP v1578;
			PTUP v1579;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1570, v1571, v1572, v1573, v1574, v1575, v1577, &v1578, &v1579);
			branch_ZPlusC99Branch_8 = v1579;
			branch_ZPlusMirth_7 = v1578;
		} break;
		case 125LL: { // F64Ge
			decref(MKTUP(in_Atom_3));
			STR* v1580;
			STRLIT(v1580, "(", 1);
			PTUP v1581 = PTRMK(15LL /* F64 */,0,0);
			STR* v1582;
			STRLIT(v1582, " >= ", 4);
			PTUP v1583 = PTRMK(15LL /* F64 */,0,0);
			STR* v1584;
			STRLIT(v1584, ")", 1);
			bool v1585 = false;
			PTUP v1586 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1587 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1586));
			PTUP v1588;
			PTUP v1589;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1580, v1581, v1582, v1583, v1584, v1585, v1587, &v1588, &v1589);
			branch_ZPlusC99Branch_8 = v1589;
			branch_ZPlusMirth_7 = v1588;
		} break;
		case 126LL: { // F64Ne
			decref(MKTUP(in_Atom_3));
			STR* v1590;
			STRLIT(v1590, "(", 1);
			PTUP v1591 = PTRMK(15LL /* F64 */,0,0);
			STR* v1592;
			STRLIT(v1592, " != ", 4);
			PTUP v1593 = PTRMK(15LL /* F64 */,0,0);
			STR* v1594;
			STRLIT(v1594, ")", 1);
			bool v1595 = false;
			PTUP v1596 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1597 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1596));
			PTUP v1598;
			PTUP v1599;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1590, v1591, v1592, v1593, v1594, v1595, v1597, &v1598, &v1599);
			branch_ZPlusC99Branch_8 = v1599;
			branch_ZPlusMirth_7 = v1598;
		} break;
		case 127LL: { // F64Add
			decref(MKTUP(in_Atom_3));
			STR* v1600;
			STRLIT(v1600, "(", 1);
			PTUP v1601 = PTRMK(15LL /* F64 */,0,0);
			STR* v1602;
			STRLIT(v1602, " + ", 3);
			PTUP v1603 = PTRMK(15LL /* F64 */,0,0);
			STR* v1604;
			STRLIT(v1604, ")", 1);
			bool v1605 = false;
			PTUP v1606 = PTRMK(15LL /* F64 */,0,0);
			PTUP v1607 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1606));
			PTUP v1608;
			PTUP v1609;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1600, v1601, v1602, v1603, v1604, v1605, v1607, &v1608, &v1609);
			branch_ZPlusC99Branch_8 = v1609;
			branch_ZPlusMirth_7 = v1608;
		} break;
		case 128LL: { // F64Sub
			decref(MKTUP(in_Atom_3));
			STR* v1610;
			STRLIT(v1610, "(", 1);
			PTUP v1611 = PTRMK(15LL /* F64 */,0,0);
			STR* v1612;
			STRLIT(v1612, " - ", 3);
			PTUP v1613 = PTRMK(15LL /* F64 */,0,0);
			STR* v1614;
			STRLIT(v1614, ")", 1);
			bool v1615 = false;
			PTUP v1616 = PTRMK(15LL /* F64 */,0,0);
			PTUP v1617 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1616));
			PTUP v1618;
			PTUP v1619;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1610, v1611, v1612, v1613, v1614, v1615, v1617, &v1618, &v1619);
			branch_ZPlusC99Branch_8 = v1619;
			branch_ZPlusMirth_7 = v1618;
		} break;
		case 129LL: { // F64Mul
			decref(MKTUP(in_Atom_3));
			STR* v1620;
			STRLIT(v1620, "(", 1);
			PTUP v1621 = PTRMK(15LL /* F64 */,0,0);
			STR* v1622;
			STRLIT(v1622, " * ", 3);
			PTUP v1623 = PTRMK(15LL /* F64 */,0,0);
			STR* v1624;
			STRLIT(v1624, ")", 1);
			bool v1625 = false;
			PTUP v1626 = PTRMK(15LL /* F64 */,0,0);
			PTUP v1627 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1626));
			PTUP v1628;
			PTUP v1629;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1620, v1621, v1622, v1623, v1624, v1625, v1627, &v1628, &v1629);
			branch_ZPlusC99Branch_8 = v1629;
			branch_ZPlusMirth_7 = v1628;
		} break;
		case 130LL: { // F64Div
			decref(MKTUP(in_Atom_3));
			STR* v1630;
			STRLIT(v1630, "(", 1);
			PTUP v1631 = PTRMK(15LL /* F64 */,0,0);
			STR* v1632;
			STRLIT(v1632, " / ", 3);
			PTUP v1633 = PTRMK(15LL /* F64 */,0,0);
			STR* v1634;
			STRLIT(v1634, ")", 1);
			bool v1635 = false;
			PTUP v1636 = PTRMK(15LL /* F64 */,0,0);
			PTUP v1637 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1636));
			PTUP v1638;
			PTUP v1639;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1630, v1631, v1632, v1633, v1634, v1635, v1637, &v1638, &v1639);
			branch_ZPlusC99Branch_8 = v1639;
			branch_ZPlusMirth_7 = v1638;
		} break;
		case 131LL: { // F64ToInt
			decref(MKTUP(in_Atom_3));
			STR* v1640;
			STRLIT(v1640, "f64_to_int(", 11);
			PTUP v1641 = PTRMK(15LL /* F64 */,0,0);
			STR* v1642;
			STRLIT(v1642, ")", 1);
			PTUP v1643 = PTRMK(5LL /* Int */,0,0);
			PTUP v1644 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1643));
			PTUP v1645;
			PTUP v1646;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1640, v1641, v1642, v1644, &v1645, &v1646);
			branch_ZPlusC99Branch_8 = v1646;
			branch_ZPlusMirth_7 = v1645;
		} break;
		case 133LL: { // F64ToF32
			decref(MKTUP(in_Atom_3));
			STR* v1647;
			STRLIT(v1647, "(float)", 7);
			PTUP v1648 = PTRMK(15LL /* F64 */,0,0);
			STR* v1649;
			STRLIT(v1649, "", 0);
			PTUP v1650 = PTRMK(16LL /* F32 */,0,0);
			PTUP v1651 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1650));
			PTUP v1652;
			PTUP v1653;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1647, v1648, v1649, v1651, &v1652, &v1653);
			branch_ZPlusC99Branch_8 = v1653;
			branch_ZPlusMirth_7 = v1652;
		} break;
		case 132LL: { // F64ToStr
			decref(MKTUP(in_Atom_3));
			STR* v1654;
			STRLIT(v1654, "f64_to_str(", 11);
			PTUP v1655 = PTRMK(15LL /* F64 */,0,0);
			STR* v1656;
			STRLIT(v1656, ")", 1);
			PTUP v1657 = PTRMK(2LL /* STR */,0,0);
			PTUP v1658 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1657));
			PTUP v1659;
			PTUP v1660;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1654, v1655, v1656, v1658, &v1659, &v1660);
			branch_ZPlusC99Branch_8 = v1660;
			branch_ZPlusMirth_7 = v1659;
		} break;
		case 134LL: { // F64Get
			decref(MKTUP(in_Atom_3));
			STR* v1661;
			STRLIT(v1661, "*(double*)", 10);
			PTUP v1662 = PTRMK(18LL /* PTR */,0,0);
			STR* v1663;
			STRLIT(v1663, "", 0);
			PTUP v1664 = PTRMK(15LL /* F64 */,0,0);
			PTUP v1665 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1664));
			PTUP v1666;
			PTUP v1667;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1661, v1662, v1663, v1665, &v1666, &v1667);
			branch_ZPlusC99Branch_8 = v1667;
			branch_ZPlusMirth_7 = v1666;
		} break;
		case 135LL: { // F64Set
			decref(MKTUP(in_Atom_3));
			STR* v1668;
			STRLIT(v1668, "*(double*)", 10);
			PTUP v1669 = PTRMK(18LL /* PTR */,0,0);
			STR* v1670;
			STRLIT(v1670, " = ", 3);
			PTUP v1671 = PTRMK(15LL /* F64 */,0,0);
			STR* v1672;
			STRLIT(v1672, ";", 1);
			bool v1673 = true;
			PTUP v1674 = PTRMK(0LL /* None */,0,0);
			PTUP v1675;
			PTUP v1676;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1668, v1669, v1670, v1671, v1672, v1673, v1674, &v1675, &v1676);
			branch_ZPlusC99Branch_8 = v1676;
			branch_ZPlusMirth_7 = v1675;
		} break;
		case 136LL: { // BoolTrue
			decref(MKTUP(in_Atom_3));
			PTUP v1677 = PTRMK(17LL /* Bool */,0,0);
			incref(MKTUP(v1677));
			PTUP v1678;
			bool v1679 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v1677, &v1678);
			PTUP branch_C99ReprType_1680;
			bool branch_Bool_1681;
			PTUP branch_ZPlusMirth_1682;
			STR* branch_Str_1683;
			PTUP branch_ZPlusC99Branch_1684;
			if (v1679) {
				PTUP r1685 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v1686;
				PTUP v1687;
				STR* v1688 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v1678, r1685, &v1686, &v1687);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v1687);
				branch_ZPlusC99Branch_1684 = in_ZPlusC99Branch_2;
				branch_Str_1683 = v1688;
				branch_ZPlusMirth_1682 = v1686;
				branch_Bool_1681 = v1679;
				branch_C99ReprType_1680 = v1677;
			} else {
				STR* v1689;
				STRLIT(v1689, "0", 1);
				branch_ZPlusC99Branch_1684 = in_ZPlusC99Branch_2;
				branch_Str_1683 = v1689;
				branch_ZPlusMirth_1682 = v1678;
				branch_Bool_1681 = v1679;
				branch_C99ReprType_1680 = v1677;
			}
			bool v1690 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_1684))->cells[3]);
			bool v1691 = (branch_Bool_1681 && v1690);
			PTUP r1692 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_1684))->cells[0]);
			bool v1693 = value_bool(((TUP*)PTRPTR(r1692))->cells[3]);
			incref(MKBOOL(v1693));
			bool v1694 = (value_bool(MKBOOL(v1691)) && value_bool(MKBOOL(v1693)));
			((TUP*)PTRPTR(r1692))->cells[3] = MKBOOL(v1694);
			PTUP v1695;
			PTUP v1696;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1682, r1692, &v1695, &v1696);
			incref(MKTUP(branch_C99ReprType_1680));
			PTUP v1697;
			STR* v1698 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v1695, branch_C99ReprType_1680, &v1697);
			PTUP v1699;
			PTUP v1700;
			mw_mirth_c99_ZPlusC99_put(v1697, v1696, v1698, &v1699, &v1700);
			STR* v1701;
			STRLIT(v1701, " ", 1);
			PTUP v1702;
			PTUP v1703;
			mw_mirth_c99_ZPlusC99_put(v1699, v1700, v1701, &v1702, &v1703);
			incref(MKSTR(branch_Str_1683));
			PTUP v1704;
			PTUP v1705;
			mw_mirth_c99_ZPlusC99_put(v1702, v1703, branch_Str_1683, &v1704, &v1705);
			STR* v1706;
			STRLIT(v1706, " = ", 3);
			PTUP v1707;
			PTUP v1708;
			mw_mirth_c99_ZPlusC99_put(v1704, v1705, v1706, &v1707, &v1708);
			PTUP v1709;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1680, branch_Str_1683, &v1709);
			STR* v1710;
			STRLIT(v1710, "true", 4);
			PTUP v1711;
			PTUP v1712;
			mw_mirth_c99_ZPlusC99_put(v1707, v1708, v1710, &v1711, &v1712);
			STR* v1713;
			STRLIT(v1713, ";", 1);
			PTUP v1714;
			PTUP v1715;
			mw_mirth_c99_ZPlusC99_put(v1711, v1712, v1713, &v1714, &v1715);
			PTUP v1716;
			PTUP v1717;
			mw_mirth_c99_ZPlusC99_line(v1714, v1715, &v1716, &v1717);
			((TUP*)PTRPTR(v1717))->cells[3] = MKBOOL(value_bool(MKBOOL(v1693)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_1684))->cells[0] = MKTUP(v1717);
			PTUP v1718;
			PTUP v1719;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1716, branch_ZPlusC99Branch_1684, v1709, &v1718, &v1719);
			branch_ZPlusC99Branch_8 = v1719;
			branch_ZPlusMirth_7 = v1718;
		} break;
		case 137LL: { // BoolFalse
			decref(MKTUP(in_Atom_3));
			PTUP v1720 = PTRMK(17LL /* Bool */,0,0);
			incref(MKTUP(v1720));
			PTUP v1721;
			bool v1722 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v1720, &v1721);
			PTUP branch_C99ReprType_1723;
			bool branch_Bool_1724;
			PTUP branch_ZPlusMirth_1725;
			STR* branch_Str_1726;
			PTUP branch_ZPlusC99Branch_1727;
			if (v1722) {
				PTUP r1728 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v1729;
				PTUP v1730;
				STR* v1731 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v1721, r1728, &v1729, &v1730);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v1730);
				branch_ZPlusC99Branch_1727 = in_ZPlusC99Branch_2;
				branch_Str_1726 = v1731;
				branch_ZPlusMirth_1725 = v1729;
				branch_Bool_1724 = v1722;
				branch_C99ReprType_1723 = v1720;
			} else {
				STR* v1732;
				STRLIT(v1732, "0", 1);
				branch_ZPlusC99Branch_1727 = in_ZPlusC99Branch_2;
				branch_Str_1726 = v1732;
				branch_ZPlusMirth_1725 = v1721;
				branch_Bool_1724 = v1722;
				branch_C99ReprType_1723 = v1720;
			}
			bool v1733 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_1727))->cells[3]);
			bool v1734 = (branch_Bool_1724 && v1733);
			PTUP r1735 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_1727))->cells[0]);
			bool v1736 = value_bool(((TUP*)PTRPTR(r1735))->cells[3]);
			incref(MKBOOL(v1736));
			bool v1737 = (value_bool(MKBOOL(v1734)) && value_bool(MKBOOL(v1736)));
			((TUP*)PTRPTR(r1735))->cells[3] = MKBOOL(v1737);
			PTUP v1738;
			PTUP v1739;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1725, r1735, &v1738, &v1739);
			incref(MKTUP(branch_C99ReprType_1723));
			PTUP v1740;
			STR* v1741 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v1738, branch_C99ReprType_1723, &v1740);
			PTUP v1742;
			PTUP v1743;
			mw_mirth_c99_ZPlusC99_put(v1740, v1739, v1741, &v1742, &v1743);
			STR* v1744;
			STRLIT(v1744, " ", 1);
			PTUP v1745;
			PTUP v1746;
			mw_mirth_c99_ZPlusC99_put(v1742, v1743, v1744, &v1745, &v1746);
			incref(MKSTR(branch_Str_1726));
			PTUP v1747;
			PTUP v1748;
			mw_mirth_c99_ZPlusC99_put(v1745, v1746, branch_Str_1726, &v1747, &v1748);
			STR* v1749;
			STRLIT(v1749, " = ", 3);
			PTUP v1750;
			PTUP v1751;
			mw_mirth_c99_ZPlusC99_put(v1747, v1748, v1749, &v1750, &v1751);
			PTUP v1752;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1723, branch_Str_1726, &v1752);
			STR* v1753;
			STRLIT(v1753, "false", 5);
			PTUP v1754;
			PTUP v1755;
			mw_mirth_c99_ZPlusC99_put(v1750, v1751, v1753, &v1754, &v1755);
			STR* v1756;
			STRLIT(v1756, ";", 1);
			PTUP v1757;
			PTUP v1758;
			mw_mirth_c99_ZPlusC99_put(v1754, v1755, v1756, &v1757, &v1758);
			PTUP v1759;
			PTUP v1760;
			mw_mirth_c99_ZPlusC99_line(v1757, v1758, &v1759, &v1760);
			((TUP*)PTRPTR(v1760))->cells[3] = MKBOOL(value_bool(MKBOOL(v1736)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_1727))->cells[0] = MKTUP(v1760);
			PTUP v1761;
			PTUP v1762;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1759, branch_ZPlusC99Branch_1727, v1752, &v1761, &v1762);
			branch_ZPlusC99Branch_8 = v1762;
			branch_ZPlusMirth_7 = v1761;
		} break;
		case 138LL: { // BoolAnd
			decref(MKTUP(in_Atom_3));
			STR* v1763;
			STRLIT(v1763, "(", 1);
			PTUP v1764 = PTRMK(17LL /* Bool */,0,0);
			STR* v1765;
			STRLIT(v1765, " && ", 4);
			PTUP v1766 = PTRMK(17LL /* Bool */,0,0);
			STR* v1767;
			STRLIT(v1767, ")", 1);
			bool v1768 = false;
			PTUP v1769 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1770 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1769));
			PTUP v1771;
			PTUP v1772;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1763, v1764, v1765, v1766, v1767, v1768, v1770, &v1771, &v1772);
			branch_ZPlusC99Branch_8 = v1772;
			branch_ZPlusMirth_7 = v1771;
		} break;
		case 139LL: { // BoolOr
			decref(MKTUP(in_Atom_3));
			STR* v1773;
			STRLIT(v1773, "(", 1);
			PTUP v1774 = PTRMK(17LL /* Bool */,0,0);
			STR* v1775;
			STRLIT(v1775, " || ", 4);
			PTUP v1776 = PTRMK(17LL /* Bool */,0,0);
			STR* v1777;
			STRLIT(v1777, ")", 1);
			bool v1778 = false;
			PTUP v1779 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1780 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1779));
			PTUP v1781;
			PTUP v1782;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1773, v1774, v1775, v1776, v1777, v1778, v1780, &v1781, &v1782);
			branch_ZPlusC99Branch_8 = v1782;
			branch_ZPlusMirth_7 = v1781;
		} break;
		case 140LL: { // BoolNot
			decref(MKTUP(in_Atom_3));
			STR* v1783;
			STRLIT(v1783, "!", 1);
			PTUP v1784 = PTRMK(17LL /* Bool */,0,0);
			STR* v1785;
			STRLIT(v1785, "", 0);
			PTUP v1786 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1787 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1786));
			PTUP v1788;
			PTUP v1789;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1783, v1784, v1785, v1787, &v1788, &v1789);
			branch_ZPlusC99Branch_8 = v1789;
			branch_ZPlusMirth_7 = v1788;
		} break;
		case 141LL: { // TupPack0
			decref(MKTUP(in_Atom_3));
			PTUP v1790 = PTRMK(0LL /* Void */,0,0);
			PTUP v1791;
			PTUP v1792;
			mw_mirth_c99_C99ReprType_pushZ_valueZ_expressionZBang_1_sp9(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1790, &v1791, &v1792);
			branch_ZPlusC99Branch_8 = v1792;
			branch_ZPlusMirth_7 = v1791;
		} break;
		case 142LL: { // TupPack1
			decref(MKTUP(in_Atom_3));
			INT v1793 = WRAP_I63(1LL);
			PTUP v1794;
			PTUP v1795;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1793, &v1794, &v1795);
			branch_ZPlusC99Branch_8 = v1795;
			branch_ZPlusMirth_7 = v1794;
		} break;
		case 143LL: { // TupPack2
			decref(MKTUP(in_Atom_3));
			INT v1796 = WRAP_I63(2LL);
			PTUP v1797;
			PTUP v1798;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1796, &v1797, &v1798);
			branch_ZPlusC99Branch_8 = v1798;
			branch_ZPlusMirth_7 = v1797;
		} break;
		case 144LL: { // TupPack3
			decref(MKTUP(in_Atom_3));
			INT v1799 = WRAP_I63(3LL);
			PTUP v1800;
			PTUP v1801;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1799, &v1800, &v1801);
			branch_ZPlusC99Branch_8 = v1801;
			branch_ZPlusMirth_7 = v1800;
		} break;
		case 145LL: { // TupPack4
			decref(MKTUP(in_Atom_3));
			INT v1802 = WRAP_I63(4LL);
			PTUP v1803;
			PTUP v1804;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1802, &v1803, &v1804);
			branch_ZPlusC99Branch_8 = v1804;
			branch_ZPlusMirth_7 = v1803;
		} break;
		case 146LL: { // TupPack5
			decref(MKTUP(in_Atom_3));
			INT v1805 = WRAP_I63(5LL);
			PTUP v1806;
			PTUP v1807;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1805, &v1806, &v1807);
			branch_ZPlusC99Branch_8 = v1807;
			branch_ZPlusMirth_7 = v1806;
		} break;
		case 147LL: { // TupUnpack0
			decref(MKTUP(in_Atom_3));
			PTUP v1808 = PTRMK(0LL /* Void */,0,0);
			PTUP v1809;
			PTUP v1810;
			PTUP v1811;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1808, &v1809, &v1810, &v1811);
			PTUP v1812;
			PTUP v1813;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v1809, v1810, v1811, &v1812, &v1813);
			branch_ZPlusC99Branch_8 = v1813;
			branch_ZPlusMirth_7 = v1812;
		} break;
		case 148LL: { // TupUnpack1
			decref(MKTUP(in_Atom_3));
			INT v1814 = WRAP_I63(1LL);
			PTUP v1815;
			PTUP v1816;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1814, &v1815, &v1816);
			branch_ZPlusC99Branch_8 = v1816;
			branch_ZPlusMirth_7 = v1815;
		} break;
		case 149LL: { // TupUnpack2
			decref(MKTUP(in_Atom_3));
			INT v1817 = WRAP_I63(2LL);
			PTUP v1818;
			PTUP v1819;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1817, &v1818, &v1819);
			branch_ZPlusC99Branch_8 = v1819;
			branch_ZPlusMirth_7 = v1818;
		} break;
		case 150LL: { // TupUnpack3
			decref(MKTUP(in_Atom_3));
			INT v1820 = WRAP_I63(3LL);
			PTUP v1821;
			PTUP v1822;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1820, &v1821, &v1822);
			branch_ZPlusC99Branch_8 = v1822;
			branch_ZPlusMirth_7 = v1821;
		} break;
		case 151LL: { // TupUnpack4
			decref(MKTUP(in_Atom_3));
			INT v1823 = WRAP_I63(4LL);
			PTUP v1824;
			PTUP v1825;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1823, &v1824, &v1825);
			branch_ZPlusC99Branch_8 = v1825;
			branch_ZPlusMirth_7 = v1824;
		} break;
		case 152LL: { // TupUnpack5
			decref(MKTUP(in_Atom_3));
			INT v1826 = WRAP_I63(5LL);
			PTUP v1827;
			PTUP v1828;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1826, &v1827, &v1828);
			branch_ZPlusC99Branch_8 = v1828;
			branch_ZPlusMirth_7 = v1827;
		} break;
		case 153LL: { // MutGet
			decref(MKTUP(in_Atom_3));
			STR* v1829;
			STRLIT(v1829, "mut_get(", 8);
			PTUP v1830 = PTRMK(18LL /* PTR */,0,0);
			STR* v1831;
			STRLIT(v1831, ")", 1);
			PTUP v1832 = PTRMK(1LL /* VAL */,0,0);
			PTUP v1833 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1832));
			PTUP v1834;
			PTUP v1835;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1829, v1830, v1831, v1833, &v1834, &v1835);
			branch_ZPlusC99Branch_8 = v1835;
			branch_ZPlusMirth_7 = v1834;
		} break;
		case 154LL: { // MutSet
			decref(MKTUP(in_Atom_3));
			STR* v1836;
			STRLIT(v1836, "mut_set(", 8);
			PTUP v1837 = PTRMK(1LL /* VAL */,0,0);
			STR* v1838;
			STRLIT(v1838, ", ", 2);
			PTUP v1839 = PTRMK(18LL /* PTR */,0,0);
			STR* v1840;
			STRLIT(v1840, ");", 2);
			bool v1841 = false;
			PTUP v1842 = PTRMK(0LL /* None */,0,0);
			PTUP v1843;
			PTUP v1844;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1836, v1837, v1838, v1839, v1840, v1841, v1842, &v1843, &v1844);
			branch_ZPlusC99Branch_8 = v1844;
			branch_ZPlusMirth_7 = v1843;
		} break;
		case 155LL: { // MutIsSet
			decref(MKTUP(in_Atom_3));
			STR* v1845;
			STRLIT(v1845, "mut_is_set(", 11);
			PTUP v1846 = PTRMK(18LL /* PTR */,0,0);
			STR* v1847;
			STRLIT(v1847, ")", 1);
			PTUP v1848 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1849 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1848));
			PTUP v1850;
			PTUP v1851;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1845, v1846, v1847, v1849, &v1850, &v1851);
			branch_ZPlusC99Branch_8 = v1851;
			branch_ZPlusMirth_7 = v1850;
		} break;
		case 165LL: { // PtrGet
			decref(MKTUP(in_Atom_3));
			STR* v1852;
			STRLIT(v1852, "*(void**)", 9);
			PTUP v1853 = PTRMK(18LL /* PTR */,0,0);
			STR* v1854;
			STRLIT(v1854, "", 0);
			PTUP v1855 = PTRMK(18LL /* PTR */,0,0);
			PTUP v1856 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1855));
			PTUP v1857;
			PTUP v1858;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1852, v1853, v1854, v1856, &v1857, &v1858);
			branch_ZPlusC99Branch_8 = v1858;
			branch_ZPlusMirth_7 = v1857;
		} break;
		case 166LL: { // PtrSet
			decref(MKTUP(in_Atom_3));
			STR* v1859;
			STRLIT(v1859, "*(void**)", 9);
			PTUP v1860 = PTRMK(18LL /* PTR */,0,0);
			STR* v1861;
			STRLIT(v1861, " = ", 3);
			PTUP v1862 = PTRMK(18LL /* PTR */,0,0);
			STR* v1863;
			STRLIT(v1863, ";", 1);
			bool v1864 = true;
			PTUP v1865 = PTRMK(0LL /* None */,0,0);
			PTUP v1866;
			PTUP v1867;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1859, v1860, v1861, v1862, v1863, v1864, v1865, &v1866, &v1867);
			branch_ZPlusC99Branch_8 = v1867;
			branch_ZPlusMirth_7 = v1866;
		} break;
		case 156LL: { // PtrNil
			decref(MKTUP(in_Atom_3));
			PTUP v1868 = PTRMK(18LL /* PTR */,0,0);
			incref(MKTUP(v1868));
			PTUP v1869;
			bool v1870 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v1868, &v1869);
			PTUP branch_C99ReprType_1871;
			bool branch_Bool_1872;
			PTUP branch_ZPlusMirth_1873;
			STR* branch_Str_1874;
			PTUP branch_ZPlusC99Branch_1875;
			if (v1870) {
				PTUP r1876 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v1877;
				PTUP v1878;
				STR* v1879 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v1869, r1876, &v1877, &v1878);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v1878);
				branch_ZPlusC99Branch_1875 = in_ZPlusC99Branch_2;
				branch_Str_1874 = v1879;
				branch_ZPlusMirth_1873 = v1877;
				branch_Bool_1872 = v1870;
				branch_C99ReprType_1871 = v1868;
			} else {
				STR* v1880;
				STRLIT(v1880, "0", 1);
				branch_ZPlusC99Branch_1875 = in_ZPlusC99Branch_2;
				branch_Str_1874 = v1880;
				branch_ZPlusMirth_1873 = v1869;
				branch_Bool_1872 = v1870;
				branch_C99ReprType_1871 = v1868;
			}
			bool v1881 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_1875))->cells[3]);
			bool v1882 = (branch_Bool_1872 && v1881);
			PTUP r1883 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_1875))->cells[0]);
			bool v1884 = value_bool(((TUP*)PTRPTR(r1883))->cells[3]);
			incref(MKBOOL(v1884));
			bool v1885 = (value_bool(MKBOOL(v1882)) && value_bool(MKBOOL(v1884)));
			((TUP*)PTRPTR(r1883))->cells[3] = MKBOOL(v1885);
			PTUP v1886;
			PTUP v1887;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1873, r1883, &v1886, &v1887);
			incref(MKTUP(branch_C99ReprType_1871));
			PTUP v1888;
			STR* v1889 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v1886, branch_C99ReprType_1871, &v1888);
			PTUP v1890;
			PTUP v1891;
			mw_mirth_c99_ZPlusC99_put(v1888, v1887, v1889, &v1890, &v1891);
			STR* v1892;
			STRLIT(v1892, " ", 1);
			PTUP v1893;
			PTUP v1894;
			mw_mirth_c99_ZPlusC99_put(v1890, v1891, v1892, &v1893, &v1894);
			incref(MKSTR(branch_Str_1874));
			PTUP v1895;
			PTUP v1896;
			mw_mirth_c99_ZPlusC99_put(v1893, v1894, branch_Str_1874, &v1895, &v1896);
			STR* v1897;
			STRLIT(v1897, " = ", 3);
			PTUP v1898;
			PTUP v1899;
			mw_mirth_c99_ZPlusC99_put(v1895, v1896, v1897, &v1898, &v1899);
			PTUP v1900;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1871, branch_Str_1874, &v1900);
			STR* v1901;
			STRLIT(v1901, "(void*)0", 8);
			PTUP v1902;
			PTUP v1903;
			mw_mirth_c99_ZPlusC99_put(v1898, v1899, v1901, &v1902, &v1903);
			STR* v1904;
			STRLIT(v1904, ";", 1);
			PTUP v1905;
			PTUP v1906;
			mw_mirth_c99_ZPlusC99_put(v1902, v1903, v1904, &v1905, &v1906);
			PTUP v1907;
			PTUP v1908;
			mw_mirth_c99_ZPlusC99_line(v1905, v1906, &v1907, &v1908);
			((TUP*)PTRPTR(v1908))->cells[3] = MKBOOL(value_bool(MKBOOL(v1884)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_1875))->cells[0] = MKTUP(v1908);
			PTUP v1909;
			PTUP v1910;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1907, branch_ZPlusC99Branch_1875, v1900, &v1909, &v1910);
			branch_ZPlusC99Branch_8 = v1910;
			branch_ZPlusMirth_7 = v1909;
		} break;
		case 157LL: { // PtrEq
			decref(MKTUP(in_Atom_3));
			STR* v1911;
			STRLIT(v1911, "(", 1);
			PTUP v1912 = PTRMK(18LL /* PTR */,0,0);
			STR* v1913;
			STRLIT(v1913, " == ", 4);
			PTUP v1914 = PTRMK(18LL /* PTR */,0,0);
			STR* v1915;
			STRLIT(v1915, ")", 1);
			bool v1916 = false;
			PTUP v1917 = PTRMK(17LL /* Bool */,0,0);
			PTUP v1918 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1917));
			PTUP v1919;
			PTUP v1920;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1911, v1912, v1913, v1914, v1915, v1916, v1918, &v1919, &v1920);
			branch_ZPlusC99Branch_8 = v1920;
			branch_ZPlusMirth_7 = v1919;
		} break;
		case 158LL: { // PtrAdd
			decref(MKTUP(in_Atom_3));
			STR* v1921;
			STRLIT(v1921, "(void*)(", 8);
			PTUP v1922 = PTRMK(7LL /* I64 */,0,0);
			STR* v1923;
			STRLIT(v1923, " + (char*)", 10);
			PTUP v1924 = PTRMK(18LL /* PTR */,0,0);
			STR* v1925;
			STRLIT(v1925, ")", 1);
			bool v1926 = false;
			PTUP v1927 = PTRMK(18LL /* PTR */,0,0);
			PTUP v1928 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1927));
			PTUP v1929;
			PTUP v1930;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1921, v1922, v1923, v1924, v1925, v1926, v1928, &v1929, &v1930);
			branch_ZPlusC99Branch_8 = v1930;
			branch_ZPlusMirth_7 = v1929;
		} break;
		case 159LL: { // PtrSize
			decref(MKTUP(in_Atom_3));
			PTUP v1931 = PTRMK(11LL /* U64 */,0,0);
			incref(MKTUP(v1931));
			PTUP v1932;
			bool v1933 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v1931, &v1932);
			PTUP branch_C99ReprType_1934;
			bool branch_Bool_1935;
			PTUP branch_ZPlusMirth_1936;
			STR* branch_Str_1937;
			PTUP branch_ZPlusC99Branch_1938;
			if (v1933) {
				PTUP r1939 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v1940;
				PTUP v1941;
				STR* v1942 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v1932, r1939, &v1940, &v1941);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v1941);
				branch_ZPlusC99Branch_1938 = in_ZPlusC99Branch_2;
				branch_Str_1937 = v1942;
				branch_ZPlusMirth_1936 = v1940;
				branch_Bool_1935 = v1933;
				branch_C99ReprType_1934 = v1931;
			} else {
				STR* v1943;
				STRLIT(v1943, "0", 1);
				branch_ZPlusC99Branch_1938 = in_ZPlusC99Branch_2;
				branch_Str_1937 = v1943;
				branch_ZPlusMirth_1936 = v1932;
				branch_Bool_1935 = v1933;
				branch_C99ReprType_1934 = v1931;
			}
			bool v1944 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_1938))->cells[3]);
			bool v1945 = (branch_Bool_1935 && v1944);
			PTUP r1946 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_1938))->cells[0]);
			bool v1947 = value_bool(((TUP*)PTRPTR(r1946))->cells[3]);
			incref(MKBOOL(v1947));
			bool v1948 = (value_bool(MKBOOL(v1945)) && value_bool(MKBOOL(v1947)));
			((TUP*)PTRPTR(r1946))->cells[3] = MKBOOL(v1948);
			PTUP v1949;
			PTUP v1950;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1936, r1946, &v1949, &v1950);
			incref(MKTUP(branch_C99ReprType_1934));
			PTUP v1951;
			STR* v1952 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v1949, branch_C99ReprType_1934, &v1951);
			PTUP v1953;
			PTUP v1954;
			mw_mirth_c99_ZPlusC99_put(v1951, v1950, v1952, &v1953, &v1954);
			STR* v1955;
			STRLIT(v1955, " ", 1);
			PTUP v1956;
			PTUP v1957;
			mw_mirth_c99_ZPlusC99_put(v1953, v1954, v1955, &v1956, &v1957);
			incref(MKSTR(branch_Str_1937));
			PTUP v1958;
			PTUP v1959;
			mw_mirth_c99_ZPlusC99_put(v1956, v1957, branch_Str_1937, &v1958, &v1959);
			STR* v1960;
			STRLIT(v1960, " = ", 3);
			PTUP v1961;
			PTUP v1962;
			mw_mirth_c99_ZPlusC99_put(v1958, v1959, v1960, &v1961, &v1962);
			PTUP v1963;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1934, branch_Str_1937, &v1963);
			STR* v1964;
			STRLIT(v1964, "sizeof(void*)", 13);
			PTUP v1965;
			PTUP v1966;
			mw_mirth_c99_ZPlusC99_put(v1961, v1962, v1964, &v1965, &v1966);
			STR* v1967;
			STRLIT(v1967, ";", 1);
			PTUP v1968;
			PTUP v1969;
			mw_mirth_c99_ZPlusC99_put(v1965, v1966, v1967, &v1968, &v1969);
			PTUP v1970;
			PTUP v1971;
			mw_mirth_c99_ZPlusC99_line(v1968, v1969, &v1970, &v1971);
			((TUP*)PTRPTR(v1971))->cells[3] = MKBOOL(value_bool(MKBOOL(v1947)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_1938))->cells[0] = MKTUP(v1971);
			PTUP v1972;
			PTUP v1973;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1970, branch_ZPlusC99Branch_1938, v1963, &v1972, &v1973);
			branch_ZPlusC99Branch_8 = v1973;
			branch_ZPlusMirth_7 = v1972;
		} break;
		case 160LL: { // PtrAlloc
			decref(MKTUP(in_Atom_3));
			STR* v1974;
			STRLIT(v1974, "ptr_alloc(", 10);
			PTUP v1975 = PTRMK(11LL /* U64 */,0,0);
			STR* v1976;
			STRLIT(v1976, ");", 2);
			PTUP v1977 = PTRMK(18LL /* PTR */,0,0);
			PTUP v1978 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1977));
			PTUP v1979;
			PTUP v1980;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1974, v1975, v1976, v1978, &v1979, &v1980);
			branch_ZPlusC99Branch_8 = v1980;
			branch_ZPlusMirth_7 = v1979;
		} break;
		case 161LL: { // PtrRealloc
			decref(MKTUP(in_Atom_3));
			STR* v1981;
			STRLIT(v1981, "ptr_realloc(", 12);
			PTUP v1982 = PTRMK(18LL /* PTR */,0,0);
			STR* v1983;
			STRLIT(v1983, ",", 1);
			PTUP v1984 = PTRMK(11LL /* U64 */,0,0);
			STR* v1985;
			STRLIT(v1985, ")", 1);
			bool v1986 = false;
			PTUP v1987 = PTRMK(18LL /* PTR */,0,0);
			PTUP v1988 = mtw_std_maybe_Maybe_1_Some(MKTUP(v1987));
			PTUP v1989;
			PTUP v1990;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1981, v1982, v1983, v1984, v1985, v1986, v1988, &v1989, &v1990);
			branch_ZPlusC99Branch_8 = v1990;
			branch_ZPlusMirth_7 = v1989;
		} break;
		case 162LL: { // PtrFree
			decref(MKTUP(in_Atom_3));
			STR* v1991;
			STRLIT(v1991, "free(", 5);
			PTUP v1992 = PTRMK(18LL /* PTR */,0,0);
			STR* v1993;
			STRLIT(v1993, ");", 2);
			PTUP v1994 = PTRMK(0LL /* None */,0,0);
			PTUP v1995;
			PTUP v1996;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1991, v1992, v1993, v1994, &v1995, &v1996);
			branch_ZPlusC99Branch_8 = v1996;
			branch_ZPlusMirth_7 = v1995;
		} break;
		case 163LL: { // PtrCopy
			decref(MKTUP(in_Atom_3));
			PTUP v1997 = PTRMK(18LL /* PTR */,0,0);
			PTUP v1998;
			PTUP v1999;
			PTUP v2000;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1997, &v1998, &v1999, &v2000);
			PTUP v2001 = PTRMK(11LL /* U64 */,0,0);
			PTUP v2002;
			PTUP v2003;
			PTUP v2004;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v1998, v1999, v2001, &v2002, &v2003, &v2004);
			PTUP v2005 = PTRMK(18LL /* PTR */,0,0);
			PTUP v2006;
			PTUP v2007;
			PTUP v2008;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v2002, v2003, v2005, &v2006, &v2007, &v2008);
			bool v2009 = value_bool(((TUP*)PTRPTR(v2007))->cells[3]);
			PTUP r2010 = VTUP(((TUP*)PTRPTR(v2007))->cells[0]);
			bool v2011 = value_bool(((TUP*)PTRPTR(r2010))->cells[3]);
			incref(MKBOOL(v2011));
			bool v2012 = (value_bool(MKBOOL(v2009)) && value_bool(MKBOOL(v2011)));
			((TUP*)PTRPTR(r2010))->cells[3] = MKBOOL(v2012);
			PTUP v2013;
			PTUP v2014;
			mw_mirth_c99_ZPlusC99_indent(v2006, r2010, &v2013, &v2014);
			STR* v2015;
			STRLIT(v2015, "ptr_copy(", 9);
			PTUP v2016;
			PTUP v2017;
			mw_mirth_c99_ZPlusC99_put(v2013, v2014, v2015, &v2016, &v2017);
			PTUP v2018 = PTRMK(18LL /* PTR */,0,0);
			PTUP v2019;
			STR* v2020 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v2016, v2018, v2008, &v2019);
			PTUP v2021;
			PTUP v2022;
			mw_mirth_c99_ZPlusC99_put(v2019, v2017, v2020, &v2021, &v2022);
			STR* v2023;
			STRLIT(v2023, ", ", 2);
			PTUP v2024;
			PTUP v2025;
			mw_mirth_c99_ZPlusC99_put(v2021, v2022, v2023, &v2024, &v2025);
			PTUP v2026 = PTRMK(11LL /* U64 */,0,0);
			PTUP v2027;
			STR* v2028 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v2024, v2026, v2004, &v2027);
			PTUP v2029;
			PTUP v2030;
			mw_mirth_c99_ZPlusC99_put(v2027, v2025, v2028, &v2029, &v2030);
			STR* v2031;
			STRLIT(v2031, ", ", 2);
			PTUP v2032;
			PTUP v2033;
			mw_mirth_c99_ZPlusC99_put(v2029, v2030, v2031, &v2032, &v2033);
			PTUP v2034 = PTRMK(18LL /* PTR */,0,0);
			PTUP v2035;
			STR* v2036 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v2032, v2034, v2000, &v2035);
			PTUP v2037;
			PTUP v2038;
			mw_mirth_c99_ZPlusC99_put(v2035, v2033, v2036, &v2037, &v2038);
			STR* v2039;
			STRLIT(v2039, ");", 2);
			PTUP v2040;
			PTUP v2041;
			mw_mirth_c99_ZPlusC99_put(v2037, v2038, v2039, &v2040, &v2041);
			PTUP v2042;
			PTUP v2043;
			mw_mirth_c99_ZPlusC99_line(v2040, v2041, &v2042, &v2043);
			((TUP*)PTRPTR(v2043))->cells[3] = MKBOOL(value_bool(MKBOOL(v2011)));
			((TUP*)PTRPTR(v2007))->cells[0] = MKTUP(v2043);
			branch_ZPlusC99Branch_8 = v2007;
			branch_ZPlusMirth_7 = v2042;
		} break;
		case 164LL: { // PtrFill
			decref(MKTUP(in_Atom_3));
			PTUP v2044 = PTRMK(18LL /* PTR */,0,0);
			PTUP v2045;
			PTUP v2046;
			PTUP v2047;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2044, &v2045, &v2046, &v2047);
			PTUP v2048 = PTRMK(11LL /* U64 */,0,0);
			PTUP v2049;
			PTUP v2050;
			PTUP v2051;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v2045, v2046, v2048, &v2049, &v2050, &v2051);
			PTUP v2052 = PTRMK(14LL /* U8 */,0,0);
			PTUP v2053;
			PTUP v2054;
			PTUP v2055;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v2049, v2050, v2052, &v2053, &v2054, &v2055);
			bool v2056 = value_bool(((TUP*)PTRPTR(v2054))->cells[3]);
			PTUP r2057 = VTUP(((TUP*)PTRPTR(v2054))->cells[0]);
			bool v2058 = value_bool(((TUP*)PTRPTR(r2057))->cells[3]);
			incref(MKBOOL(v2058));
			bool v2059 = (value_bool(MKBOOL(v2056)) && value_bool(MKBOOL(v2058)));
			((TUP*)PTRPTR(r2057))->cells[3] = MKBOOL(v2059);
			PTUP v2060;
			PTUP v2061;
			mw_mirth_c99_ZPlusC99_indent(v2053, r2057, &v2060, &v2061);
			STR* v2062;
			STRLIT(v2062, "ptr_fill(", 9);
			PTUP v2063;
			PTUP v2064;
			mw_mirth_c99_ZPlusC99_put(v2060, v2061, v2062, &v2063, &v2064);
			PTUP v2065 = PTRMK(14LL /* U8 */,0,0);
			PTUP v2066;
			STR* v2067 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v2063, v2065, v2055, &v2066);
			PTUP v2068;
			PTUP v2069;
			mw_mirth_c99_ZPlusC99_put(v2066, v2064, v2067, &v2068, &v2069);
			STR* v2070;
			STRLIT(v2070, ", ", 2);
			PTUP v2071;
			PTUP v2072;
			mw_mirth_c99_ZPlusC99_put(v2068, v2069, v2070, &v2071, &v2072);
			PTUP v2073 = PTRMK(11LL /* U64 */,0,0);
			PTUP v2074;
			STR* v2075 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v2071, v2073, v2051, &v2074);
			PTUP v2076;
			PTUP v2077;
			mw_mirth_c99_ZPlusC99_put(v2074, v2072, v2075, &v2076, &v2077);
			STR* v2078;
			STRLIT(v2078, ", ", 2);
			PTUP v2079;
			PTUP v2080;
			mw_mirth_c99_ZPlusC99_put(v2076, v2077, v2078, &v2079, &v2080);
			PTUP v2081 = PTRMK(18LL /* PTR */,0,0);
			PTUP v2082;
			STR* v2083 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v2079, v2081, v2047, &v2082);
			PTUP v2084;
			PTUP v2085;
			mw_mirth_c99_ZPlusC99_put(v2082, v2080, v2083, &v2084, &v2085);
			STR* v2086;
			STRLIT(v2086, ");", 2);
			PTUP v2087;
			PTUP v2088;
			mw_mirth_c99_ZPlusC99_put(v2084, v2085, v2086, &v2087, &v2088);
			PTUP v2089;
			PTUP v2090;
			mw_mirth_c99_ZPlusC99_line(v2087, v2088, &v2089, &v2090);
			((TUP*)PTRPTR(v2090))->cells[3] = MKBOOL(value_bool(MKBOOL(v2058)));
			((TUP*)PTRPTR(v2054))->cells[0] = MKTUP(v2090);
			branch_ZPlusC99Branch_8 = v2054;
			branch_ZPlusMirth_7 = v2089;
		} break;
		case 167LL: { // StrCopy
			decref(MKTUP(in_Atom_3));
			STR* v2091;
			STRLIT(v2091, "str_make(", 9);
			PTUP v2092 = PTRMK(18LL /* PTR */,0,0);
			STR* v2093;
			STRLIT(v2093, ", ", 2);
			PTUP v2094 = PTRMK(11LL /* U64 */,0,0);
			STR* v2095;
			STRLIT(v2095, ")", 1);
			bool v2096 = false;
			PTUP v2097 = PTRMK(2LL /* STR */,0,0);
			PTUP v2098 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2097));
			PTUP v2099;
			PTUP v2100;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2091, v2092, v2093, v2094, v2095, v2096, v2098, &v2099, &v2100);
			branch_ZPlusC99Branch_8 = v2100;
			branch_ZPlusMirth_7 = v2099;
		} break;
		case 168LL: { // StrNumBytes
			decref(MKTUP(in_Atom_3));
			STR* v2101;
			STRLIT(v2101, "str_size(", 9);
			PTUP v2102 = PTRMK(2LL /* STR */,0,0);
			STR* v2103;
			STRLIT(v2103, ")", 1);
			PTUP v2104 = PTRMK(11LL /* U64 */,0,0);
			PTUP v2105 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2104));
			PTUP v2106;
			PTUP v2107;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2101, v2102, v2103, v2105, &v2106, &v2107);
			branch_ZPlusC99Branch_8 = v2107;
			branch_ZPlusMirth_7 = v2106;
		} break;
		case 169LL: { // StrBase
			decref(MKTUP(in_Atom_3));
			STR* v2108;
			STRLIT(v2108, "str_base(", 9);
			PTUP v2109 = PTRMK(2LL /* STR */,0,0);
			STR* v2110;
			STRLIT(v2110, ")", 1);
			PTUP v2111 = PTRMK(18LL /* PTR */,0,0);
			PTUP v2112 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2111));
			PTUP v2113;
			PTUP v2114;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2108, v2109, v2110, v2112, &v2113, &v2114);
			branch_ZPlusC99Branch_8 = v2114;
			branch_ZPlusMirth_7 = v2113;
		} break;
		case 170LL: { // StrCat
			decref(MKTUP(in_Atom_3));
			STR* v2115;
			STRLIT(v2115, "str_cat(", 8);
			PTUP v2116 = PTRMK(2LL /* STR */,0,0);
			STR* v2117;
			STRLIT(v2117, ", ", 2);
			PTUP v2118 = PTRMK(2LL /* STR */,0,0);
			STR* v2119;
			STRLIT(v2119, ")", 1);
			bool v2120 = false;
			PTUP v2121 = PTRMK(2LL /* STR */,0,0);
			PTUP v2122 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2121));
			PTUP v2123;
			PTUP v2124;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2115, v2116, v2117, v2118, v2119, v2120, v2122, &v2123, &v2124);
			branch_ZPlusC99Branch_8 = v2124;
			branch_ZPlusMirth_7 = v2123;
		} break;
		case 171LL: { // StrCmp
			decref(MKTUP(in_Atom_3));
			STR* v2125;
			STRLIT(v2125, "str_cmp(", 8);
			PTUP v2126 = PTRMK(2LL /* STR */,0,0);
			STR* v2127;
			STRLIT(v2127, ", ", 2);
			PTUP v2128 = PTRMK(2LL /* STR */,0,0);
			STR* v2129;
			STRLIT(v2129, ")", 1);
			bool v2130 = false;
			PTUP v2131 = PTRMK(7LL /* I64 */,0,0);
			PTUP v2132 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2131));
			PTUP v2133;
			PTUP v2134;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2125, v2126, v2127, v2128, v2129, v2130, v2132, &v2133, &v2134);
			branch_ZPlusC99Branch_8 = v2134;
			branch_ZPlusMirth_7 = v2133;
		} break;
		case 172LL: { // StrEq
			decref(MKTUP(in_Atom_3));
			STR* v2135;
			STRLIT(v2135, "(str_cmp(", 9);
			PTUP v2136 = PTRMK(2LL /* STR */,0,0);
			STR* v2137;
			STRLIT(v2137, ", ", 2);
			PTUP v2138 = PTRMK(2LL /* STR */,0,0);
			STR* v2139;
			STRLIT(v2139, ") == 0)", 7);
			bool v2140 = false;
			PTUP v2141 = PTRMK(17LL /* Bool */,0,0);
			PTUP v2142 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2141));
			PTUP v2143;
			PTUP v2144;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2135, v2136, v2137, v2138, v2139, v2140, v2142, &v2143, &v2144);
			branch_ZPlusC99Branch_8 = v2144;
			branch_ZPlusMirth_7 = v2143;
		} break;
		case 173LL: { // StrLt
			decref(MKTUP(in_Atom_3));
			STR* v2145;
			STRLIT(v2145, "(str_cmp(", 9);
			PTUP v2146 = PTRMK(2LL /* STR */,0,0);
			STR* v2147;
			STRLIT(v2147, ", ", 2);
			PTUP v2148 = PTRMK(2LL /* STR */,0,0);
			STR* v2149;
			STRLIT(v2149, ") < 0)", 6);
			bool v2150 = false;
			PTUP v2151 = PTRMK(17LL /* Bool */,0,0);
			PTUP v2152 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2151));
			PTUP v2153;
			PTUP v2154;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2145, v2146, v2147, v2148, v2149, v2150, v2152, &v2153, &v2154);
			branch_ZPlusC99Branch_8 = v2154;
			branch_ZPlusMirth_7 = v2153;
		} break;
		case 174LL: { // StrLe
			decref(MKTUP(in_Atom_3));
			STR* v2155;
			STRLIT(v2155, "(str_cmp(", 9);
			PTUP v2156 = PTRMK(2LL /* STR */,0,0);
			STR* v2157;
			STRLIT(v2157, ", ", 2);
			PTUP v2158 = PTRMK(2LL /* STR */,0,0);
			STR* v2159;
			STRLIT(v2159, ") <= 0)", 7);
			bool v2160 = false;
			PTUP v2161 = PTRMK(17LL /* Bool */,0,0);
			PTUP v2162 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2161));
			PTUP v2163;
			PTUP v2164;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2155, v2156, v2157, v2158, v2159, v2160, v2162, &v2163, &v2164);
			branch_ZPlusC99Branch_8 = v2164;
			branch_ZPlusMirth_7 = v2163;
		} break;
		case 175LL: { // StrGt
			decref(MKTUP(in_Atom_3));
			STR* v2165;
			STRLIT(v2165, "(str_cmp(", 9);
			PTUP v2166 = PTRMK(2LL /* STR */,0,0);
			STR* v2167;
			STRLIT(v2167, ", ", 2);
			PTUP v2168 = PTRMK(2LL /* STR */,0,0);
			STR* v2169;
			STRLIT(v2169, ") > 0)", 6);
			bool v2170 = false;
			PTUP v2171 = PTRMK(17LL /* Bool */,0,0);
			PTUP v2172 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2171));
			PTUP v2173;
			PTUP v2174;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2165, v2166, v2167, v2168, v2169, v2170, v2172, &v2173, &v2174);
			branch_ZPlusC99Branch_8 = v2174;
			branch_ZPlusMirth_7 = v2173;
		} break;
		case 176LL: { // StrGe
			decref(MKTUP(in_Atom_3));
			STR* v2175;
			STRLIT(v2175, "(str_cmp(", 9);
			PTUP v2176 = PTRMK(2LL /* STR */,0,0);
			STR* v2177;
			STRLIT(v2177, ", ", 2);
			PTUP v2178 = PTRMK(2LL /* STR */,0,0);
			STR* v2179;
			STRLIT(v2179, ") >= 0)", 7);
			bool v2180 = false;
			PTUP v2181 = PTRMK(17LL /* Bool */,0,0);
			PTUP v2182 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2181));
			PTUP v2183;
			PTUP v2184;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2175, v2176, v2177, v2178, v2179, v2180, v2182, &v2183, &v2184);
			branch_ZPlusC99Branch_8 = v2184;
			branch_ZPlusMirth_7 = v2183;
		} break;
		case 177LL: { // StrNe
			decref(MKTUP(in_Atom_3));
			STR* v2185;
			STRLIT(v2185, "(str_cmp(", 9);
			PTUP v2186 = PTRMK(2LL /* STR */,0,0);
			STR* v2187;
			STRLIT(v2187, ", ", 2);
			PTUP v2188 = PTRMK(2LL /* STR */,0,0);
			STR* v2189;
			STRLIT(v2189, ") != 0)", 7);
			bool v2190 = false;
			PTUP v2191 = PTRMK(17LL /* Bool */,0,0);
			PTUP v2192 = mtw_std_maybe_Maybe_1_Some(MKTUP(v2191));
			PTUP v2193;
			PTUP v2194;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2185, v2186, v2187, v2188, v2189, v2190, v2192, &v2193, &v2194);
			branch_ZPlusC99Branch_8 = v2194;
			branch_ZPlusMirth_7 = v2193;
		} break;
		case 179LL: { // StrToF32
			PTUP v2195 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2195));
			decref(MKTUP(in_Atom_3));
			STR* v2196;
			STRLIT(v2196, "str_to_f32", 10);
			int64_t v2197 = 179LL /* StrToF32 */;
			PTUP v2198;
			PTUP v2199 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2197, &v2198);
			PTUP r2200 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2201;
			PTUP v2202;
			PTUP v2203 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2198, r2200, value_str(MKSTR(v2196)), v2199, &v2201, &v2202);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2202);
			PTUP v2204;
			PTUP v2205;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2201, in_ZPlusC99Branch_2, v2195, v2203, &v2204, &v2205);
			branch_ZPlusC99Branch_8 = v2205;
			branch_ZPlusMirth_7 = v2204;
		} break;
		case 178LL: { // StrToF64
			PTUP v2206 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2206));
			decref(MKTUP(in_Atom_3));
			STR* v2207;
			STRLIT(v2207, "str_to_f64", 10);
			int64_t v2208 = 178LL /* StrToF64 */;
			PTUP v2209;
			PTUP v2210 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2208, &v2209);
			PTUP r2211 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2212;
			PTUP v2213;
			PTUP v2214 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2209, r2211, value_str(MKSTR(v2207)), v2210, &v2212, &v2213);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2213);
			PTUP v2215;
			PTUP v2216;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2212, in_ZPlusC99Branch_2, v2206, v2214, &v2215, &v2216);
			branch_ZPlusC99Branch_8 = v2216;
			branch_ZPlusMirth_7 = v2215;
		} break;
		case 180LL: { // StrToArray
			PTUP v2217 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2217));
			decref(MKTUP(in_Atom_3));
			STR* v2218;
			STRLIT(v2218, "str_to_arr", 10);
			int64_t v2219 = 180LL /* StrToArray */;
			PTUP v2220;
			PTUP v2221 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2219, &v2220);
			PTUP r2222 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2223;
			PTUP v2224;
			PTUP v2225 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2220, r2222, value_str(MKSTR(v2218)), v2221, &v2223, &v2224);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2224);
			PTUP v2226;
			PTUP v2227;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2223, in_ZPlusC99Branch_2, v2217, v2225, &v2226, &v2227);
			branch_ZPlusC99Branch_8 = v2227;
			branch_ZPlusMirth_7 = v2226;
		} break;
		case 181LL: { // ArrayNil
			decref(MKTUP(in_Atom_3));
			PTUP v2228 = PTRMK(3LL /* ARR */,0,0);
			PTUP v2229;
			PTUP v2230;
			mw_mirth_c99_C99ReprType_pushZ_valueZ_expressionZBang_1_sp9(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v2228, &v2229, &v2230);
			branch_ZPlusC99Branch_8 = v2230;
			branch_ZPlusMirth_7 = v2229;
		} break;
		case 182LL: { // ArrayNew
			PTUP v2231 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2231));
			decref(MKTUP(in_Atom_3));
			STR* v2232;
			STRLIT(v2232, "arr_new", 7);
			int64_t v2233 = 182LL /* ArrayNew */;
			PTUP v2234;
			PTUP v2235 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2233, &v2234);
			PTUP r2236 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2237;
			PTUP v2238;
			PTUP v2239 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2234, r2236, value_str(MKSTR(v2232)), v2235, &v2237, &v2238);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2238);
			PTUP v2240;
			PTUP v2241;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2237, in_ZPlusC99Branch_2, v2231, v2239, &v2240, &v2241);
			branch_ZPlusC99Branch_8 = v2241;
			branch_ZPlusMirth_7 = v2240;
		} break;
		case 183LL: { // ArrayExpand
			PTUP v2242 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2242));
			decref(MKTUP(in_Atom_3));
			STR* v2243;
			STRLIT(v2243, "arr_expand", 10);
			int64_t v2244 = 183LL /* ArrayExpand */;
			PTUP v2245;
			PTUP v2246 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2244, &v2245);
			PTUP r2247 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2248;
			PTUP v2249;
			PTUP v2250 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2245, r2247, value_str(MKSTR(v2243)), v2246, &v2248, &v2249);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2249);
			PTUP v2251;
			PTUP v2252;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2248, in_ZPlusC99Branch_2, v2242, v2250, &v2251, &v2252);
			branch_ZPlusC99Branch_8 = v2252;
			branch_ZPlusMirth_7 = v2251;
		} break;
		case 184LL: { // ArrayThaw
			PTUP v2253 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2253));
			decref(MKTUP(in_Atom_3));
			STR* v2254;
			STRLIT(v2254, "arr_thaw", 8);
			int64_t v2255 = 184LL /* ArrayThaw */;
			PTUP v2256;
			PTUP v2257 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2255, &v2256);
			PTUP r2258 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2259;
			PTUP v2260;
			PTUP v2261 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2256, r2258, value_str(MKSTR(v2254)), v2257, &v2259, &v2260);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2260);
			PTUP v2262;
			PTUP v2263;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2259, in_ZPlusC99Branch_2, v2253, v2261, &v2262, &v2263);
			branch_ZPlusC99Branch_8 = v2263;
			branch_ZPlusMirth_7 = v2262;
		} break;
		case 185LL: { // ArrayBase
			PTUP v2264 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2264));
			decref(MKTUP(in_Atom_3));
			STR* v2265;
			STRLIT(v2265, "arr_base", 8);
			int64_t v2266 = 185LL /* ArrayBase */;
			PTUP v2267;
			PTUP v2268 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2266, &v2267);
			PTUP r2269 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2270;
			PTUP v2271;
			PTUP v2272 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2267, r2269, value_str(MKSTR(v2265)), v2268, &v2270, &v2271);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2271);
			PTUP v2273;
			PTUP v2274;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2270, in_ZPlusC99Branch_2, v2264, v2272, &v2273, &v2274);
			branch_ZPlusC99Branch_8 = v2274;
			branch_ZPlusMirth_7 = v2273;
		} break;
		case 186LL: { // ArrayLen
			PTUP v2275 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2275));
			decref(MKTUP(in_Atom_3));
			STR* v2276;
			STRLIT(v2276, "arr_len", 7);
			int64_t v2277 = 186LL /* ArrayLen */;
			PTUP v2278;
			PTUP v2279 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2277, &v2278);
			PTUP r2280 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2281;
			PTUP v2282;
			PTUP v2283 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2278, r2280, value_str(MKSTR(v2276)), v2279, &v2281, &v2282);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2282);
			PTUP v2284;
			PTUP v2285;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2281, in_ZPlusC99Branch_2, v2275, v2283, &v2284, &v2285);
			branch_ZPlusC99Branch_8 = v2285;
			branch_ZPlusMirth_7 = v2284;
		} break;
		case 187LL: { // ArrayGet
			PTUP v2286 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2286));
			decref(MKTUP(in_Atom_3));
			STR* v2287;
			STRLIT(v2287, "arr_get", 7);
			int64_t v2288 = 187LL /* ArrayGet */;
			PTUP v2289;
			PTUP v2290 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2288, &v2289);
			PTUP r2291 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2292;
			PTUP v2293;
			PTUP v2294 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2289, r2291, value_str(MKSTR(v2287)), v2290, &v2292, &v2293);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2293);
			PTUP v2295;
			PTUP v2296;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2292, in_ZPlusC99Branch_2, v2286, v2294, &v2295, &v2296);
			branch_ZPlusC99Branch_8 = v2296;
			branch_ZPlusMirth_7 = v2295;
		} break;
		case 188LL: { // ArraySet
			PTUP v2297 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2297));
			decref(MKTUP(in_Atom_3));
			STR* v2298;
			STRLIT(v2298, "arr_set", 7);
			int64_t v2299 = 188LL /* ArraySet */;
			PTUP v2300;
			PTUP v2301 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2299, &v2300);
			PTUP r2302 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2303;
			PTUP v2304;
			PTUP v2305 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2300, r2302, value_str(MKSTR(v2298)), v2301, &v2303, &v2304);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2304);
			PTUP v2306;
			PTUP v2307;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2303, in_ZPlusC99Branch_2, v2297, v2305, &v2306, &v2307);
			branch_ZPlusC99Branch_8 = v2307;
			branch_ZPlusMirth_7 = v2306;
		} break;
		case 189LL: { // ArrayPush
			PTUP v2308 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2308));
			decref(MKTUP(in_Atom_3));
			STR* v2309;
			STRLIT(v2309, "arr_push", 8);
			int64_t v2310 = 189LL /* ArrayPush */;
			PTUP v2311;
			PTUP v2312 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2310, &v2311);
			PTUP r2313 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2314;
			PTUP v2315;
			PTUP v2316 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2311, r2313, value_str(MKSTR(v2309)), v2312, &v2314, &v2315);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2315);
			PTUP v2317;
			PTUP v2318;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2314, in_ZPlusC99Branch_2, v2308, v2316, &v2317, &v2318);
			branch_ZPlusC99Branch_8 = v2318;
			branch_ZPlusMirth_7 = v2317;
		} break;
		case 190LL: { // ArrayPop
			PTUP v2319 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2319));
			decref(MKTUP(in_Atom_3));
			STR* v2320;
			STRLIT(v2320, "arr_pop", 7);
			int64_t v2321 = 190LL /* ArrayPop */;
			PTUP v2322;
			PTUP v2323 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2321, &v2322);
			PTUP r2324 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2325;
			PTUP v2326;
			PTUP v2327 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2322, r2324, value_str(MKSTR(v2320)), v2323, &v2325, &v2326);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2326);
			PTUP v2328;
			PTUP v2329;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2325, in_ZPlusC99Branch_2, v2319, v2327, &v2328, &v2329);
			branch_ZPlusC99Branch_8 = v2329;
			branch_ZPlusMirth_7 = v2328;
		} break;
		case 191LL: { // ArrayCat
			PTUP v2330 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2330));
			decref(MKTUP(in_Atom_3));
			STR* v2331;
			STRLIT(v2331, "arr_cat", 7);
			int64_t v2332 = 191LL /* ArrayCat */;
			PTUP v2333;
			PTUP v2334 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2332, &v2333);
			PTUP r2335 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2336;
			PTUP v2337;
			PTUP v2338 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2333, r2335, value_str(MKSTR(v2331)), v2334, &v2336, &v2337);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2337);
			PTUP v2339;
			PTUP v2340;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2336, in_ZPlusC99Branch_2, v2330, v2338, &v2339, &v2340);
			branch_ZPlusC99Branch_8 = v2340;
			branch_ZPlusMirth_7 = v2339;
		} break;
		case 192LL: { // ArraySlice
			PTUP v2341 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2341));
			decref(MKTUP(in_Atom_3));
			STR* v2342;
			STRLIT(v2342, "arr_slice", 9);
			int64_t v2343 = 192LL /* ArraySlice */;
			PTUP v2344;
			PTUP v2345 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2343, &v2344);
			PTUP r2346 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2347;
			PTUP v2348;
			PTUP v2349 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2344, r2346, value_str(MKSTR(v2342)), v2345, &v2347, &v2348);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2348);
			PTUP v2350;
			PTUP v2351;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2347, in_ZPlusC99Branch_2, v2341, v2349, &v2350, &v2351);
			branch_ZPlusC99Branch_8 = v2351;
			branch_ZPlusMirth_7 = v2350;
		} break;
		case 193LL: { // ArrayToStr
			PTUP v2352 = VTUP(((TUP*)PTRPTR(in_Atom_3))->cells[4]);
			incref(MKTUP(v2352));
			decref(MKTUP(in_Atom_3));
			STR* v2353;
			STRLIT(v2353, "arr_to_str", 10);
			int64_t v2354 = 193LL /* ArrayToStr */;
			PTUP v2355;
			PTUP v2356 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v2354, &v2355);
			PTUP r2357 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
			PTUP v2358;
			PTUP v2359;
			PTUP v2360 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v2355, r2357, value_str(MKSTR(v2353)), v2356, &v2358, &v2359);
			((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2359);
			PTUP v2361;
			PTUP v2362;
			mw_mirth_c99_c99Z_smartZ_callZBang(v2358, in_ZPlusC99Branch_2, v2352, v2360, &v2361, &v2362);
			branch_ZPlusC99Branch_8 = v2362;
			branch_ZPlusMirth_7 = v2361;
		} break;
		case 194LL: { // SysOs
			decref(MKTUP(in_Atom_3));
			PTUP v2363 = PTRMK(7LL /* I64 */,0,0);
			incref(MKTUP(v2363));
			PTUP v2364;
			bool v2365 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v2363, &v2364);
			PTUP branch_C99ReprType_2366;
			bool branch_Bool_2367;
			PTUP branch_ZPlusMirth_2368;
			STR* branch_Str_2369;
			PTUP branch_ZPlusC99Branch_2370;
			if (v2365) {
				PTUP r2371 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v2372;
				PTUP v2373;
				STR* v2374 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v2364, r2371, &v2372, &v2373);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2373);
				branch_ZPlusC99Branch_2370 = in_ZPlusC99Branch_2;
				branch_Str_2369 = v2374;
				branch_ZPlusMirth_2368 = v2372;
				branch_Bool_2367 = v2365;
				branch_C99ReprType_2366 = v2363;
			} else {
				STR* v2375;
				STRLIT(v2375, "0", 1);
				branch_ZPlusC99Branch_2370 = in_ZPlusC99Branch_2;
				branch_Str_2369 = v2375;
				branch_ZPlusMirth_2368 = v2364;
				branch_Bool_2367 = v2365;
				branch_C99ReprType_2366 = v2363;
			}
			bool v2376 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_2370))->cells[3]);
			bool v2377 = (branch_Bool_2367 && v2376);
			PTUP r2378 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_2370))->cells[0]);
			bool v2379 = value_bool(((TUP*)PTRPTR(r2378))->cells[3]);
			incref(MKBOOL(v2379));
			bool v2380 = (value_bool(MKBOOL(v2377)) && value_bool(MKBOOL(v2379)));
			((TUP*)PTRPTR(r2378))->cells[3] = MKBOOL(v2380);
			PTUP v2381;
			PTUP v2382;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_2368, r2378, &v2381, &v2382);
			incref(MKTUP(branch_C99ReprType_2366));
			PTUP v2383;
			STR* v2384 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v2381, branch_C99ReprType_2366, &v2383);
			PTUP v2385;
			PTUP v2386;
			mw_mirth_c99_ZPlusC99_put(v2383, v2382, v2384, &v2385, &v2386);
			STR* v2387;
			STRLIT(v2387, " ", 1);
			PTUP v2388;
			PTUP v2389;
			mw_mirth_c99_ZPlusC99_put(v2385, v2386, v2387, &v2388, &v2389);
			incref(MKSTR(branch_Str_2369));
			PTUP v2390;
			PTUP v2391;
			mw_mirth_c99_ZPlusC99_put(v2388, v2389, branch_Str_2369, &v2390, &v2391);
			STR* v2392;
			STRLIT(v2392, " = ", 3);
			PTUP v2393;
			PTUP v2394;
			mw_mirth_c99_ZPlusC99_put(v2390, v2391, v2392, &v2393, &v2394);
			PTUP v2395;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_2366, branch_Str_2369, &v2395);
			STR* v2396;
			STRLIT(v2396, "RUNNING_OS", 10);
			PTUP v2397;
			PTUP v2398;
			mw_mirth_c99_ZPlusC99_put(v2393, v2394, v2396, &v2397, &v2398);
			STR* v2399;
			STRLIT(v2399, ";", 1);
			PTUP v2400;
			PTUP v2401;
			mw_mirth_c99_ZPlusC99_put(v2397, v2398, v2399, &v2400, &v2401);
			PTUP v2402;
			PTUP v2403;
			mw_mirth_c99_ZPlusC99_line(v2400, v2401, &v2402, &v2403);
			((TUP*)PTRPTR(v2403))->cells[3] = MKBOOL(value_bool(MKBOOL(v2379)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_2370))->cells[0] = MKTUP(v2403);
			PTUP v2404;
			PTUP v2405;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v2402, branch_ZPlusC99Branch_2370, v2395, &v2404, &v2405);
			branch_ZPlusC99Branch_8 = v2405;
			branch_ZPlusMirth_7 = v2404;
		} break;
		case 195LL: { // SysArch
			decref(MKTUP(in_Atom_3));
			PTUP v2406 = PTRMK(7LL /* I64 */,0,0);
			incref(MKTUP(v2406));
			PTUP v2407;
			bool v2408 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v2406, &v2407);
			PTUP branch_C99ReprType_2409;
			bool branch_Bool_2410;
			PTUP branch_ZPlusMirth_2411;
			STR* branch_Str_2412;
			PTUP branch_ZPlusC99Branch_2413;
			if (v2408) {
				PTUP r2414 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v2415;
				PTUP v2416;
				STR* v2417 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v2407, r2414, &v2415, &v2416);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2416);
				branch_ZPlusC99Branch_2413 = in_ZPlusC99Branch_2;
				branch_Str_2412 = v2417;
				branch_ZPlusMirth_2411 = v2415;
				branch_Bool_2410 = v2408;
				branch_C99ReprType_2409 = v2406;
			} else {
				STR* v2418;
				STRLIT(v2418, "0", 1);
				branch_ZPlusC99Branch_2413 = in_ZPlusC99Branch_2;
				branch_Str_2412 = v2418;
				branch_ZPlusMirth_2411 = v2407;
				branch_Bool_2410 = v2408;
				branch_C99ReprType_2409 = v2406;
			}
			bool v2419 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_2413))->cells[3]);
			bool v2420 = (branch_Bool_2410 && v2419);
			PTUP r2421 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_2413))->cells[0]);
			bool v2422 = value_bool(((TUP*)PTRPTR(r2421))->cells[3]);
			incref(MKBOOL(v2422));
			bool v2423 = (value_bool(MKBOOL(v2420)) && value_bool(MKBOOL(v2422)));
			((TUP*)PTRPTR(r2421))->cells[3] = MKBOOL(v2423);
			PTUP v2424;
			PTUP v2425;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_2411, r2421, &v2424, &v2425);
			incref(MKTUP(branch_C99ReprType_2409));
			PTUP v2426;
			STR* v2427 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v2424, branch_C99ReprType_2409, &v2426);
			PTUP v2428;
			PTUP v2429;
			mw_mirth_c99_ZPlusC99_put(v2426, v2425, v2427, &v2428, &v2429);
			STR* v2430;
			STRLIT(v2430, " ", 1);
			PTUP v2431;
			PTUP v2432;
			mw_mirth_c99_ZPlusC99_put(v2428, v2429, v2430, &v2431, &v2432);
			incref(MKSTR(branch_Str_2412));
			PTUP v2433;
			PTUP v2434;
			mw_mirth_c99_ZPlusC99_put(v2431, v2432, branch_Str_2412, &v2433, &v2434);
			STR* v2435;
			STRLIT(v2435, " = ", 3);
			PTUP v2436;
			PTUP v2437;
			mw_mirth_c99_ZPlusC99_put(v2433, v2434, v2435, &v2436, &v2437);
			PTUP v2438;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_2409, branch_Str_2412, &v2438);
			STR* v2439;
			STRLIT(v2439, "RUNNING_ARCH", 12);
			PTUP v2440;
			PTUP v2441;
			mw_mirth_c99_ZPlusC99_put(v2436, v2437, v2439, &v2440, &v2441);
			STR* v2442;
			STRLIT(v2442, ";", 1);
			PTUP v2443;
			PTUP v2444;
			mw_mirth_c99_ZPlusC99_put(v2440, v2441, v2442, &v2443, &v2444);
			PTUP v2445;
			PTUP v2446;
			mw_mirth_c99_ZPlusC99_line(v2443, v2444, &v2445, &v2446);
			((TUP*)PTRPTR(v2446))->cells[3] = MKBOOL(value_bool(MKBOOL(v2422)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_2413))->cells[0] = MKTUP(v2446);
			PTUP v2447;
			PTUP v2448;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v2445, branch_ZPlusC99Branch_2413, v2438, &v2447, &v2448);
			branch_ZPlusC99Branch_8 = v2448;
			branch_ZPlusMirth_7 = v2447;
		} break;
		case 196LL: { // SysArgc
			decref(MKTUP(in_Atom_3));
			PTUP v2449 = PTRMK(11LL /* U64 */,0,0);
			incref(MKTUP(v2449));
			PTUP v2450;
			bool v2451 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v2449, &v2450);
			PTUP branch_C99ReprType_2452;
			bool branch_Bool_2453;
			PTUP branch_ZPlusMirth_2454;
			STR* branch_Str_2455;
			PTUP branch_ZPlusC99Branch_2456;
			if (v2451) {
				PTUP r2457 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v2458;
				PTUP v2459;
				STR* v2460 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v2450, r2457, &v2458, &v2459);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2459);
				branch_ZPlusC99Branch_2456 = in_ZPlusC99Branch_2;
				branch_Str_2455 = v2460;
				branch_ZPlusMirth_2454 = v2458;
				branch_Bool_2453 = v2451;
				branch_C99ReprType_2452 = v2449;
			} else {
				STR* v2461;
				STRLIT(v2461, "0", 1);
				branch_ZPlusC99Branch_2456 = in_ZPlusC99Branch_2;
				branch_Str_2455 = v2461;
				branch_ZPlusMirth_2454 = v2450;
				branch_Bool_2453 = v2451;
				branch_C99ReprType_2452 = v2449;
			}
			bool v2462 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_2456))->cells[3]);
			bool v2463 = (branch_Bool_2453 && v2462);
			PTUP r2464 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_2456))->cells[0]);
			bool v2465 = value_bool(((TUP*)PTRPTR(r2464))->cells[3]);
			incref(MKBOOL(v2465));
			bool v2466 = (value_bool(MKBOOL(v2463)) && value_bool(MKBOOL(v2465)));
			((TUP*)PTRPTR(r2464))->cells[3] = MKBOOL(v2466);
			PTUP v2467;
			PTUP v2468;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_2454, r2464, &v2467, &v2468);
			incref(MKTUP(branch_C99ReprType_2452));
			PTUP v2469;
			STR* v2470 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v2467, branch_C99ReprType_2452, &v2469);
			PTUP v2471;
			PTUP v2472;
			mw_mirth_c99_ZPlusC99_put(v2469, v2468, v2470, &v2471, &v2472);
			STR* v2473;
			STRLIT(v2473, " ", 1);
			PTUP v2474;
			PTUP v2475;
			mw_mirth_c99_ZPlusC99_put(v2471, v2472, v2473, &v2474, &v2475);
			incref(MKSTR(branch_Str_2455));
			PTUP v2476;
			PTUP v2477;
			mw_mirth_c99_ZPlusC99_put(v2474, v2475, branch_Str_2455, &v2476, &v2477);
			STR* v2478;
			STRLIT(v2478, " = ", 3);
			PTUP v2479;
			PTUP v2480;
			mw_mirth_c99_ZPlusC99_put(v2476, v2477, v2478, &v2479, &v2480);
			PTUP v2481;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_2452, branch_Str_2455, &v2481);
			STR* v2482;
			STRLIT(v2482, "global_argc", 11);
			PTUP v2483;
			PTUP v2484;
			mw_mirth_c99_ZPlusC99_put(v2479, v2480, v2482, &v2483, &v2484);
			STR* v2485;
			STRLIT(v2485, ";", 1);
			PTUP v2486;
			PTUP v2487;
			mw_mirth_c99_ZPlusC99_put(v2483, v2484, v2485, &v2486, &v2487);
			PTUP v2488;
			PTUP v2489;
			mw_mirth_c99_ZPlusC99_line(v2486, v2487, &v2488, &v2489);
			((TUP*)PTRPTR(v2489))->cells[3] = MKBOOL(value_bool(MKBOOL(v2465)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_2456))->cells[0] = MKTUP(v2489);
			PTUP v2490;
			PTUP v2491;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v2488, branch_ZPlusC99Branch_2456, v2481, &v2490, &v2491);
			branch_ZPlusC99Branch_8 = v2491;
			branch_ZPlusMirth_7 = v2490;
		} break;
		case 197LL: { // SysArgv
			decref(MKTUP(in_Atom_3));
			PTUP v2492 = PTRMK(18LL /* PTR */,0,0);
			incref(MKTUP(v2492));
			PTUP v2493;
			bool v2494 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, v2492, &v2493);
			PTUP branch_C99ReprType_2495;
			bool branch_Bool_2496;
			PTUP branch_ZPlusMirth_2497;
			STR* branch_Str_2498;
			PTUP branch_ZPlusC99Branch_2499;
			if (v2494) {
				PTUP r2500 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v2501;
				PTUP v2502;
				STR* v2503 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v2493, r2500, &v2501, &v2502);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v2502);
				branch_ZPlusC99Branch_2499 = in_ZPlusC99Branch_2;
				branch_Str_2498 = v2503;
				branch_ZPlusMirth_2497 = v2501;
				branch_Bool_2496 = v2494;
				branch_C99ReprType_2495 = v2492;
			} else {
				STR* v2504;
				STRLIT(v2504, "0", 1);
				branch_ZPlusC99Branch_2499 = in_ZPlusC99Branch_2;
				branch_Str_2498 = v2504;
				branch_ZPlusMirth_2497 = v2493;
				branch_Bool_2496 = v2494;
				branch_C99ReprType_2495 = v2492;
			}
			bool v2505 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_2499))->cells[3]);
			bool v2506 = (branch_Bool_2496 && v2505);
			PTUP r2507 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_2499))->cells[0]);
			bool v2508 = value_bool(((TUP*)PTRPTR(r2507))->cells[3]);
			incref(MKBOOL(v2508));
			bool v2509 = (value_bool(MKBOOL(v2506)) && value_bool(MKBOOL(v2508)));
			((TUP*)PTRPTR(r2507))->cells[3] = MKBOOL(v2509);
			PTUP v2510;
			PTUP v2511;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_2497, r2507, &v2510, &v2511);
			incref(MKTUP(branch_C99ReprType_2495));
			PTUP v2512;
			STR* v2513 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v2510, branch_C99ReprType_2495, &v2512);
			PTUP v2514;
			PTUP v2515;
			mw_mirth_c99_ZPlusC99_put(v2512, v2511, v2513, &v2514, &v2515);
			STR* v2516;
			STRLIT(v2516, " ", 1);
			PTUP v2517;
			PTUP v2518;
			mw_mirth_c99_ZPlusC99_put(v2514, v2515, v2516, &v2517, &v2518);
			incref(MKSTR(branch_Str_2498));
			PTUP v2519;
			PTUP v2520;
			mw_mirth_c99_ZPlusC99_put(v2517, v2518, branch_Str_2498, &v2519, &v2520);
			STR* v2521;
			STRLIT(v2521, " = ", 3);
			PTUP v2522;
			PTUP v2523;
			mw_mirth_c99_ZPlusC99_put(v2519, v2520, v2521, &v2522, &v2523);
			PTUP v2524;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_2495, branch_Str_2498, &v2524);
			STR* v2525;
			STRLIT(v2525, "global_argv", 11);
			PTUP v2526;
			PTUP v2527;
			mw_mirth_c99_ZPlusC99_put(v2522, v2523, v2525, &v2526, &v2527);
			STR* v2528;
			STRLIT(v2528, ";", 1);
			PTUP v2529;
			PTUP v2530;
			mw_mirth_c99_ZPlusC99_put(v2526, v2527, v2528, &v2529, &v2530);
			PTUP v2531;
			PTUP v2532;
			mw_mirth_c99_ZPlusC99_line(v2529, v2530, &v2531, &v2532);
			((TUP*)PTRPTR(v2532))->cells[3] = MKBOOL(value_bool(MKBOOL(v2508)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_2499))->cells[0] = MKTUP(v2532);
			PTUP v2533;
			PTUP v2534;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v2531, branch_ZPlusC99Branch_2499, v2524, &v2533, &v2534);
			branch_ZPlusC99Branch_8 = v2534;
			branch_ZPlusMirth_7 = v2533;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_c99Z_tupZ_packZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Nat_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = PTRMK(0LL /* None */,0,0);
	PTUP v7 = mw_std_list_List_1_List_1_sp12(in_Nat_3);
	PTUP v8;
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_c99Z_packZ_tupleZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, v7, &v8, &v9, &v10);
	PTUP v11;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v10, &v11);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v8, v9, v11, &v12, &v13);
	*out_ZPlusC99Branch_5 = v13;
	*out_ZPlusMirth_4 = v12;
}
static void mw_mirth_c99_c99Z_tupZ_unpackZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, INT in_Nat_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = PTRMK(0LL /* None */,0,0);
	PTUP v7 = mw_std_list_List_1_List_1_sp12(in_Nat_3);
	PTUP v8 = PTRMK(4LL /* TUP */,0,0);
	PTUP v9;
	PTUP v10;
	PTUP v11;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v8, &v9, &v10, &v11);
	PTUP v12;
	mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v11, &v12);
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_c99Z_unpackZ_tupleZBang(v9, v10, v12, v6, v7, &v13, &v14);
	*out_ZPlusC99Branch_5 = v14;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_ZPlusC99Value_runZ_valueZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99Value_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	STR* v7 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusMirth_1, in_ZPlusC99Value_3, &v6);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(v6, in_ZPlusC99Branch_2, &v8, &v9);
	bool v10 = value_bool(((TUP*)PTRPTR(v9))->cells[3]);
	PTUP r11 = VTUP(((TUP*)PTRPTR(v9))->cells[0]);
	bool v12 = value_bool(((TUP*)PTRPTR(r11))->cells[3]);
	incref(MKBOOL(v12));
	bool v13 = (value_bool(MKBOOL(v10)) && value_bool(MKBOOL(v12)));
	((TUP*)PTRPTR(r11))->cells[3] = MKBOOL(v13);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_indent(v8, r11, &v14, &v15);
	STR* v16;
	STRLIT(v16, "run_value(", 10);
	PTUP v17;
	PTUP v18;
	mw_mirth_c99_ZPlusC99_put(v14, v15, v16, &v17, &v18);
	PTUP v19;
	PTUP v20;
	mw_mirth_c99_ZPlusC99_put(v17, v18, v7, &v19, &v20);
	STR* v21;
	STRLIT(v21, ");", 2);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_put(v19, v20, v21, &v22, &v23);
	PTUP v24;
	PTUP v25;
	mw_mirth_c99_ZPlusC99_line(v22, v23, &v24, &v25);
	((TUP*)PTRPTR(v25))->cells[3] = MKBOOL(value_bool(MKBOOL(v12)));
	((TUP*)PTRPTR(v9))->cells[0] = MKTUP(v25);
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v24;
}
static void mw_mirth_c99_c99Z_binopZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP in_C99ReprType_4, STR* in_Str_5, PTUP in_C99ReprType_6, STR* in_Str_7, bool in_Bool_8, PTUP in_Maybe_9, PTUP *out_ZPlusMirth_10, PTUP *out_ZPlusC99Branch_11) {
	PTUP branch_Maybe_12;
	STR* branch_Str_13;
	STR* branch_Str_14;
	STR* branch_Str_15;
	STR* branch_Str_16;
	PTUP branch_ZPlusC99Branch_17;
	PTUP branch_ZPlusMirth_18;
	STR* branch_Str_19;
	if (in_Bool_8) {
		incref(MKTUP(in_C99ReprType_4));
		PTUP v20;
		PTUP v21;
		PTUP v22;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_4, &v20, &v21, &v22);
		PTUP v23;
		STR* v24 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v20, in_C99ReprType_4, v22, &v23);
		incref(MKTUP(in_C99ReprType_6));
		PTUP v25;
		PTUP v26;
		PTUP v27;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v23, v21, in_C99ReprType_6, &v25, &v26, &v27);
		PTUP v28;
		STR* v29 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v25, in_C99ReprType_6, v27, &v28);
		branch_Str_19 = v29;
		branch_ZPlusMirth_18 = v28;
		branch_ZPlusC99Branch_17 = v26;
		branch_Str_16 = v24;
		branch_Str_15 = in_Str_3;
		branch_Str_14 = in_Str_5;
		branch_Str_13 = in_Str_7;
		branch_Maybe_12 = in_Maybe_9;
	} else {
		incref(MKTUP(in_C99ReprType_6));
		PTUP v30;
		PTUP v31;
		PTUP v32;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_6, &v30, &v31, &v32);
		PTUP v33;
		STR* v34 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v30, in_C99ReprType_6, v32, &v33);
		incref(MKTUP(in_C99ReprType_4));
		PTUP v35;
		PTUP v36;
		PTUP v37;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v33, v31, in_C99ReprType_4, &v35, &v36, &v37);
		PTUP v38;
		STR* v39 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v35, in_C99ReprType_4, v37, &v38);
		branch_Str_19 = v34;
		branch_ZPlusMirth_18 = v38;
		branch_ZPlusC99Branch_17 = v36;
		branch_Str_16 = v39;
		branch_Str_15 = in_Str_3;
		branch_Str_14 = in_Str_5;
		branch_Str_13 = in_Str_7;
		branch_Maybe_12 = in_Maybe_9;
	}
	PTUP branch_ZPlusMirth_40;
	PTUP branch_ZPlusC99Branch_41;
	switch (PTREXTRA(branch_Maybe_12)) {
		case 1LL: { // Some
			VAL v42 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_12);
			incref(MKTUP(VTUP(v42)));
			PTUP v43;
			bool v44 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(branch_ZPlusMirth_18, VTUP(v42), &v43);
			STR* branch_Str_45;
			STR* branch_Str_46;
			STR* branch_Str_47;
			STR* branch_Str_48;
			STR* branch_Str_49;
			PTUP branch_C99ReprType_50;
			bool branch_Bool_51;
			PTUP branch_ZPlusMirth_52;
			STR* branch_Str_53;
			PTUP branch_ZPlusC99Branch_54;
			if (v44) {
				PTUP r55 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0]);
				PTUP v56;
				PTUP v57;
				STR* v58 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v43, r55, &v56, &v57);
				((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0] = MKTUP(v57);
				branch_ZPlusC99Branch_54 = branch_ZPlusC99Branch_17;
				branch_Str_53 = v58;
				branch_ZPlusMirth_52 = v56;
				branch_Bool_51 = v44;
				branch_C99ReprType_50 = VTUP(v42);
				branch_Str_49 = branch_Str_15;
				branch_Str_48 = branch_Str_16;
				branch_Str_47 = branch_Str_14;
				branch_Str_46 = branch_Str_19;
				branch_Str_45 = branch_Str_13;
			} else {
				STR* v59;
				STRLIT(v59, "0", 1);
				branch_ZPlusC99Branch_54 = branch_ZPlusC99Branch_17;
				branch_Str_53 = v59;
				branch_ZPlusMirth_52 = v43;
				branch_Bool_51 = v44;
				branch_C99ReprType_50 = VTUP(v42);
				branch_Str_49 = branch_Str_15;
				branch_Str_48 = branch_Str_16;
				branch_Str_47 = branch_Str_14;
				branch_Str_46 = branch_Str_19;
				branch_Str_45 = branch_Str_13;
			}
			bool v60 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_54))->cells[3]);
			bool v61 = (branch_Bool_51 && v60);
			PTUP r62 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_54))->cells[0]);
			bool v63 = value_bool(((TUP*)PTRPTR(r62))->cells[3]);
			incref(MKBOOL(v63));
			bool v64 = (value_bool(MKBOOL(v61)) && value_bool(MKBOOL(v63)));
			((TUP*)PTRPTR(r62))->cells[3] = MKBOOL(v64);
			PTUP v65;
			PTUP v66;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_52, r62, &v65, &v66);
			incref(MKTUP(branch_C99ReprType_50));
			PTUP v67;
			STR* v68 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v65, branch_C99ReprType_50, &v67);
			PTUP v69;
			PTUP v70;
			mw_mirth_c99_ZPlusC99_put(v67, v66, v68, &v69, &v70);
			STR* v71;
			STRLIT(v71, " ", 1);
			PTUP v72;
			PTUP v73;
			mw_mirth_c99_ZPlusC99_put(v69, v70, v71, &v72, &v73);
			incref(MKSTR(branch_Str_53));
			PTUP v74;
			PTUP v75;
			mw_mirth_c99_ZPlusC99_put(v72, v73, branch_Str_53, &v74, &v75);
			STR* v76;
			STRLIT(v76, " = ", 3);
			PTUP v77;
			PTUP v78;
			mw_mirth_c99_ZPlusC99_put(v74, v75, v76, &v77, &v78);
			PTUP v79;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_50, branch_Str_53, &v79);
			PTUP v80;
			PTUP v81;
			mw_mirth_c99_ZPlusC99_put(v77, v78, branch_Str_49, &v80, &v81);
			PTUP v82;
			PTUP v83;
			mw_mirth_c99_ZPlusC99_put(v80, v81, branch_Str_48, &v82, &v83);
			PTUP v84;
			PTUP v85;
			mw_mirth_c99_ZPlusC99_put(v82, v83, branch_Str_47, &v84, &v85);
			PTUP v86;
			PTUP v87;
			mw_mirth_c99_ZPlusC99_put(v84, v85, branch_Str_46, &v86, &v87);
			PTUP v88;
			PTUP v89;
			mw_mirth_c99_ZPlusC99_put(v86, v87, branch_Str_45, &v88, &v89);
			STR* v90;
			STRLIT(v90, ";", 1);
			PTUP v91;
			PTUP v92;
			mw_mirth_c99_ZPlusC99_put(v88, v89, v90, &v91, &v92);
			PTUP v93;
			PTUP v94;
			mw_mirth_c99_ZPlusC99_line(v91, v92, &v93, &v94);
			((TUP*)PTRPTR(v94))->cells[3] = MKBOOL(value_bool(MKBOOL(v63)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_54))->cells[0] = MKTUP(v94);
			PTUP v95;
			PTUP v96;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v93, branch_ZPlusC99Branch_54, v79, &v95, &v96);
			branch_ZPlusC99Branch_41 = v96;
			branch_ZPlusMirth_40 = v95;
		} break;
		case 0LL: { // None
			bool v97 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[3]);
			PTUP r98 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0]);
			bool v99 = value_bool(((TUP*)PTRPTR(r98))->cells[3]);
			incref(MKBOOL(v99));
			bool v100 = (value_bool(MKBOOL(v97)) && value_bool(MKBOOL(v99)));
			((TUP*)PTRPTR(r98))->cells[3] = MKBOOL(v100);
			PTUP v101;
			PTUP v102;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_18, r98, &v101, &v102);
			PTUP v103;
			PTUP v104;
			mw_mirth_c99_ZPlusC99_put(v101, v102, branch_Str_15, &v103, &v104);
			PTUP v105;
			PTUP v106;
			mw_mirth_c99_ZPlusC99_put(v103, v104, branch_Str_16, &v105, &v106);
			PTUP v107;
			PTUP v108;
			mw_mirth_c99_ZPlusC99_put(v105, v106, branch_Str_14, &v107, &v108);
			PTUP v109;
			PTUP v110;
			mw_mirth_c99_ZPlusC99_put(v107, v108, branch_Str_19, &v109, &v110);
			PTUP v111;
			PTUP v112;
			mw_mirth_c99_ZPlusC99_put(v109, v110, branch_Str_13, &v111, &v112);
			PTUP v113;
			PTUP v114;
			mw_mirth_c99_ZPlusC99_line(v111, v112, &v113, &v114);
			((TUP*)PTRPTR(v114))->cells[3] = MKBOOL(value_bool(MKBOOL(v99)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0] = MKTUP(v114);
			branch_ZPlusC99Branch_41 = branch_ZPlusC99Branch_17;
			branch_ZPlusMirth_40 = v113;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_11 = branch_ZPlusC99Branch_41;
	*out_ZPlusMirth_10 = branch_ZPlusMirth_40;
}
static void mw_mirth_c99_c99Z_unopZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, STR* in_Str_3, PTUP in_C99ReprType_4, STR* in_Str_5, PTUP in_Maybe_6, PTUP *out_ZPlusMirth_7, PTUP *out_ZPlusC99Branch_8) {
	incref(MKTUP(in_C99ReprType_4));
	PTUP v9;
	PTUP v10;
	PTUP v11;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_4, &v9, &v10, &v11);
	PTUP v12;
	STR* v13 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v9, in_C99ReprType_4, v11, &v12);
	PTUP branch_ZPlusMirth_14;
	PTUP branch_ZPlusC99Branch_15;
	switch (PTREXTRA(in_Maybe_6)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(in_Maybe_6);
			incref(MKTUP(VTUP(v16)));
			PTUP v17;
			bool v18 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v12, VTUP(v16), &v17);
			STR* branch_Str_19;
			STR* branch_Str_20;
			STR* branch_Str_21;
			PTUP branch_C99ReprType_22;
			bool branch_Bool_23;
			PTUP branch_ZPlusMirth_24;
			STR* branch_Str_25;
			PTUP branch_ZPlusC99Branch_26;
			if (v18) {
				PTUP r27 = VTUP(((TUP*)PTRPTR(v10))->cells[0]);
				PTUP v28;
				PTUP v29;
				STR* v30 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v17, r27, &v28, &v29);
				((TUP*)PTRPTR(v10))->cells[0] = MKTUP(v29);
				branch_ZPlusC99Branch_26 = v10;
				branch_Str_25 = v30;
				branch_ZPlusMirth_24 = v28;
				branch_Bool_23 = v18;
				branch_C99ReprType_22 = VTUP(v16);
				branch_Str_21 = in_Str_3;
				branch_Str_20 = v13;
				branch_Str_19 = in_Str_5;
			} else {
				STR* v31;
				STRLIT(v31, "0", 1);
				branch_ZPlusC99Branch_26 = v10;
				branch_Str_25 = v31;
				branch_ZPlusMirth_24 = v17;
				branch_Bool_23 = v18;
				branch_C99ReprType_22 = VTUP(v16);
				branch_Str_21 = in_Str_3;
				branch_Str_20 = v13;
				branch_Str_19 = in_Str_5;
			}
			bool v32 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_26))->cells[3]);
			bool v33 = (branch_Bool_23 && v32);
			PTUP r34 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_26))->cells[0]);
			bool v35 = value_bool(((TUP*)PTRPTR(r34))->cells[3]);
			incref(MKBOOL(v35));
			bool v36 = (value_bool(MKBOOL(v33)) && value_bool(MKBOOL(v35)));
			((TUP*)PTRPTR(r34))->cells[3] = MKBOOL(v36);
			PTUP v37;
			PTUP v38;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_24, r34, &v37, &v38);
			incref(MKTUP(branch_C99ReprType_22));
			PTUP v39;
			STR* v40 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v37, branch_C99ReprType_22, &v39);
			PTUP v41;
			PTUP v42;
			mw_mirth_c99_ZPlusC99_put(v39, v38, v40, &v41, &v42);
			STR* v43;
			STRLIT(v43, " ", 1);
			PTUP v44;
			PTUP v45;
			mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
			incref(MKSTR(branch_Str_25));
			PTUP v46;
			PTUP v47;
			mw_mirth_c99_ZPlusC99_put(v44, v45, branch_Str_25, &v46, &v47);
			STR* v48;
			STRLIT(v48, " = ", 3);
			PTUP v49;
			PTUP v50;
			mw_mirth_c99_ZPlusC99_put(v46, v47, v48, &v49, &v50);
			PTUP v51;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_22, branch_Str_25, &v51);
			PTUP v52;
			PTUP v53;
			mw_mirth_c99_ZPlusC99_put(v49, v50, branch_Str_21, &v52, &v53);
			PTUP v54;
			PTUP v55;
			mw_mirth_c99_ZPlusC99_put(v52, v53, branch_Str_20, &v54, &v55);
			PTUP v56;
			PTUP v57;
			mw_mirth_c99_ZPlusC99_put(v54, v55, branch_Str_19, &v56, &v57);
			STR* v58;
			STRLIT(v58, ";", 1);
			PTUP v59;
			PTUP v60;
			mw_mirth_c99_ZPlusC99_put(v56, v57, v58, &v59, &v60);
			PTUP v61;
			PTUP v62;
			mw_mirth_c99_ZPlusC99_line(v59, v60, &v61, &v62);
			((TUP*)PTRPTR(v62))->cells[3] = MKBOOL(value_bool(MKBOOL(v35)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_26))->cells[0] = MKTUP(v62);
			PTUP v63;
			PTUP v64;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v61, branch_ZPlusC99Branch_26, v51, &v63, &v64);
			branch_ZPlusC99Branch_15 = v64;
			branch_ZPlusMirth_14 = v63;
		} break;
		case 0LL: { // None
			bool v65 = value_bool(((TUP*)PTRPTR(v10))->cells[3]);
			PTUP r66 = VTUP(((TUP*)PTRPTR(v10))->cells[0]);
			bool v67 = value_bool(((TUP*)PTRPTR(r66))->cells[3]);
			incref(MKBOOL(v67));
			bool v68 = (value_bool(MKBOOL(v65)) && value_bool(MKBOOL(v67)));
			((TUP*)PTRPTR(r66))->cells[3] = MKBOOL(v68);
			PTUP v69;
			PTUP v70;
			mw_mirth_c99_ZPlusC99_indent(v12, r66, &v69, &v70);
			PTUP v71;
			PTUP v72;
			mw_mirth_c99_ZPlusC99_put(v69, v70, in_Str_3, &v71, &v72);
			PTUP v73;
			PTUP v74;
			mw_mirth_c99_ZPlusC99_put(v71, v72, v13, &v73, &v74);
			PTUP v75;
			PTUP v76;
			mw_mirth_c99_ZPlusC99_put(v73, v74, in_Str_5, &v75, &v76);
			PTUP v77;
			PTUP v78;
			mw_mirth_c99_ZPlusC99_line(v75, v76, &v77, &v78);
			((TUP*)PTRPTR(v78))->cells[3] = MKBOOL(value_bool(MKBOOL(v67)));
			((TUP*)PTRPTR(v10))->cells[0] = MKTUP(v78);
			branch_ZPlusC99Branch_15 = v10;
			branch_ZPlusMirth_14 = v77;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_8 = branch_ZPlusC99Branch_15;
	*out_ZPlusMirth_7 = branch_ZPlusMirth_14;
}
static void mw_mirth_c99_c99Z_argsZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	bool v6 = true;
	PTUP r7 = in_ZPlusMirth_1;
	PTUP r8 = in_ZPlusC99Branch_2;
	PTUP v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP r12 = r7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_ZPlusMirth_16;
		PTUP branch_ZPlusC99Branch_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				PTUP v22;
				PTUP v23;
				mw_mirth_c99_c99Z_argZ_pushZBang(r12, r13, value_u64(v21), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusC99Branch_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				PTUP v25 = PTRMK(0LL /* Nil */,0,0);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusC99Branch_17 = r13;
				branch_ZPlusMirth_16 = r12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusC99Branch_17;
		r7 = branch_ZPlusMirth_16;
	}
	decref(MKTUP(v9));
	*out_ZPlusC99Branch_5 = r8;
	*out_ZPlusMirth_4 = r7;
}
static void mw_mirth_c99_c99Z_argZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_c99Z_blockZ_pushZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Arg_3, &v6, &v7);
	*out_ZPlusC99Branch_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_c99_c99Z_argZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Arg_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_c99Z_blockZ_runZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Arg_3, &v6, &v7);
	*out_ZPlusC99Branch_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_c99_c99Z_blockZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_3, &v6);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_c99Z_codipZ_arrowZBang(v6, in_ZPlusC99Branch_2, v7, &v8, &v9);
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_c99_c99Z_packZ_closureZ_varsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	VAL v7;
	PTUP v8 = mw_std_list_List_1_filter_1_sp3(in_ZPlusMirth_1, MKTUP(in_ZPlusC99Branch_2), in_List_3, &v6, &v7);
	incref(MKTUP(v8));
	bool v9 = mw_std_list_List_1_emptyZAsk(v8);
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusC99Branch_11;
	if (v9) {
		decref(MKTUP(v8));
		branch_ZPlusC99Branch_11 = VTUP(v7);
		branch_ZPlusMirth_10 = v6;
	} else {
		PTUP v12 = PTRMK(1LL /* Ignore */,0,0);
		PTUP v13 = mtw_mirth_type_StackTypePart_Cons(v12);
		incref(MKTUP(v8));
		PTUP v14 = PTRMK(0LL /* Nil */,0,0);
		PTUP v15;
		mw_std_list_List_1_buildZBang(v14, &v15);
		bool v16 = true;
		PTUP r17 = v6;
		VAL r18 = MKTUP(VTUP(v7));
		PTUP r19 = v15;
		PTUP v20 = VTUP(MKTUP(v8));
		bool v21 = v16;
		bool v22 = v16;
		while (v22) {
			PTUP r23 = r17;
			VAL r24 = r18;
			PTUP r25 = r19;
			PTUP v26 = v20;
			bool v27 = v21;
			PTUP branch_ZPlusMirth_28;
			VAL branch_z_x1_29;
			PTUP branch_ZPlusLister_30;
			PTUP branch_List_31;
			bool branch_Bool_32;
			switch (PTREXTRA(v26)) {
				case 1LL: { // Cons
					PTUP v33;
					VAL v34 = mtp_std_list_List_1_Cons(v26, &v33);
					PTUP v35;
					PTUP v36 = mw_mirth_var_Var_type(r23, value_u64(v34), &v35);
					PTUP v37 = mtw_mirth_type_StackTypePart_Cons(v36);
					PTUP v38;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v37), r25, &v38);
					bool v39 = true;
					branch_Bool_32 = v39;
					branch_List_31 = v33;
					branch_ZPlusLister_30 = v38;
					branch_z_x1_29 = r24;
					branch_ZPlusMirth_28 = v35;
				} break;
				case 0LL: { // Nil
					PTUP v40 = PTRMK(0LL /* Nil */,0,0);
					bool v41 = false;
					branch_Bool_32 = v41;
					branch_List_31 = v40;
					branch_ZPlusLister_30 = r25;
					branch_z_x1_29 = r24;
					branch_ZPlusMirth_28 = r23;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v22 = branch_Bool_32;
			v21 = branch_Bool_32;
			v20 = branch_List_31;
			r19 = branch_ZPlusLister_30;
			r18 = branch_z_x1_29;
			r17 = branch_ZPlusMirth_28;
		}
		decref(MKTUP(v20));
		PTUP v42 = mw_std_list_ZPlusLister_1_doneZBang(r19);
		PTUP v43 = mw_std_list_List_1_cons(MKTUP(v13), v42);
		PTUP v44 = PTRMK(0LL /* None */,0,0);
		bool v45 = true;
		PTUP r46 = r17;
		PTUP r47 = VTUP(r18);
		PTUP v48 = VTUP(MKTUP(v8));
		bool v49 = v45;
		bool v50 = v45;
		while (v50) {
			PTUP r51 = r46;
			PTUP r52 = r47;
			PTUP v53 = v48;
			bool v54 = v49;
			PTUP branch_ZPlusMirth_55;
			PTUP branch_ZPlusC99Branch_56;
			PTUP branch_List_57;
			bool branch_Bool_58;
			switch (PTREXTRA(v53)) {
				case 1LL: { // Cons
					PTUP v59;
					VAL v60 = mtp_std_list_List_1_Cons(v53, &v59);
					PTUP v61;
					PTUP v62;
					PTUP v63;
					mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(r51, r52, value_u64(v60), &v61, &v62, &v63);
					PTUP v64;
					PTUP v65;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v61, v62, v63, &v64, &v65);
					bool v66 = true;
					branch_Bool_58 = v66;
					branch_List_57 = v59;
					branch_ZPlusC99Branch_56 = v65;
					branch_ZPlusMirth_55 = v64;
				} break;
				case 0LL: { // Nil
					PTUP v67 = PTRMK(0LL /* Nil */,0,0);
					bool v68 = false;
					branch_Bool_58 = v68;
					branch_List_57 = v67;
					branch_ZPlusC99Branch_56 = r52;
					branch_ZPlusMirth_55 = r51;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v50 = branch_Bool_58;
			v49 = branch_Bool_58;
			v48 = branch_List_57;
			r47 = branch_ZPlusC99Branch_56;
			r46 = branch_ZPlusMirth_55;
		}
		decref(MKTUP(v48));
		PTUP v69;
		PTUP v70;
		PTUP v71;
		mw_mirth_c99_c99Z_packZ_tupleZBang(r46, r47, v44, v43, &v69, &v70, &v71);
		PTUP v72;
		mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v71, &v72);
		PTUP v73;
		PTUP v74;
		mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v69, v70, v72, &v73, &v74);
		branch_ZPlusC99Branch_11 = v74;
		branch_ZPlusMirth_10 = v73;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5, PTUP *out_ZPlusMaybe_6) {
	PTUP v7;
	VAL v8;
	PTUP v9 = mw_std_list_List_1_filter_1_sp3(in_ZPlusMirth_1, MKTUP(in_ZPlusC99Branch_2), in_List_3, &v7, &v8);
	incref(MKTUP(v9));
	bool v10 = mw_std_list_List_1_emptyZAsk(v9);
	PTUP branch_ZPlusMirth_11;
	PTUP branch_ZPlusC99Branch_12;
	PTUP branch_ZPlusMaybe_13;
	if (v10) {
		PTUP r14 = PTRMK(0LL /* +None */,0,0);
		decref(MKTUP(v9));
		branch_ZPlusMaybe_13 = r14;
		branch_ZPlusC99Branch_12 = VTUP(v8);
		branch_ZPlusMirth_11 = v7;
	} else {
		PTUP v15 = PTRMK(4LL /* TUP */,0,0);
		PTUP v16;
		PTUP v17;
		PTUP v18;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v7, VTUP(v8), v15, &v16, &v17, &v18);
		PTUP v19;
		PTUP v20;
		mw_mirth_c99_ZPlusC99Value_rdup(v18, &v19, &v20);
		PTUP v21;
		STR* v22 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_TUP(v16, v19, &v21);
		INT v23 = WRAP_I63(1LL);
		bool v24 = true;
		INT v25 = v23;
		STR* v26 = v22;
		PTUP r27 = v17;
		PTUP r28 = v21;
		PTUP v29 = v9;
		bool v30 = v24;
		bool v31 = v24;
		while (v31) {
			INT v32 = v25;
			STR* v33 = v26;
			PTUP r34 = r27;
			PTUP r35 = r28;
			PTUP v36 = v29;
			bool v37 = v30;
			STR* branch_Str_38;
			INT branch_Int_39;
			PTUP branch_ZPlusC99Branch_40;
			PTUP branch_ZPlusMirth_41;
			PTUP branch_List_42;
			bool branch_Bool_43;
			switch (PTREXTRA(v36)) {
				case 1LL: { // Cons
					PTUP v44;
					VAL v45 = mtp_std_list_List_1_Cons(v36, &v44);
					PTUP v46;
					PTUP v47 = mw_mirth_var_Var_type(r35, value_u64(v45), &v46);
					PTUP v48;
					PTUP v49;
					PTUP v50 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v46, r34, v47, &v48, &v49);
					incref(MKTUP(v50));
					incref(MKTUP(v50));
					PTUP v51;
					bool v52 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v48, v50, &v51);
					INT branch_Int_53;
					STR* branch_Str_54;
					PTUP branch_C99ReprType_55;
					PTUP branch_C99ReprType_56;
					bool branch_Bool_57;
					PTUP branch_ZPlusMirth_58;
					STR* branch_Str_59;
					PTUP branch_ZPlusC99Branch_60;
					if (v52) {
						PTUP r61 = VTUP(((TUP*)PTRPTR(v49))->cells[0]);
						PTUP v62;
						PTUP v63;
						STR* v64 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v51, r61, &v62, &v63);
						((TUP*)PTRPTR(v49))->cells[0] = MKTUP(v63);
						branch_ZPlusC99Branch_60 = v49;
						branch_Str_59 = v64;
						branch_ZPlusMirth_58 = v62;
						branch_Bool_57 = v52;
						branch_C99ReprType_56 = v50;
						branch_C99ReprType_55 = v50;
						branch_Str_54 = v33;
						branch_Int_53 = v32;
					} else {
						STR* v65;
						STRLIT(v65, "0", 1);
						branch_ZPlusC99Branch_60 = v49;
						branch_Str_59 = v65;
						branch_ZPlusMirth_58 = v51;
						branch_Bool_57 = v52;
						branch_C99ReprType_56 = v50;
						branch_C99ReprType_55 = v50;
						branch_Str_54 = v33;
						branch_Int_53 = v32;
					}
					bool v66 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_60))->cells[3]);
					bool v67 = (branch_Bool_57 && v66);
					PTUP r68 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_60))->cells[0]);
					bool v69 = value_bool(((TUP*)PTRPTR(r68))->cells[3]);
					incref(MKBOOL(v69));
					bool v70 = (value_bool(MKBOOL(v67)) && value_bool(MKBOOL(v69)));
					((TUP*)PTRPTR(r68))->cells[3] = MKBOOL(v70);
					PTUP v71;
					PTUP v72;
					mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_58, r68, &v71, &v72);
					incref(MKTUP(branch_C99ReprType_56));
					PTUP v73;
					STR* v74 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v71, branch_C99ReprType_56, &v73);
					PTUP v75;
					PTUP v76;
					mw_mirth_c99_ZPlusC99_put(v73, v72, v74, &v75, &v76);
					STR* v77;
					STRLIT(v77, " ", 1);
					PTUP v78;
					PTUP v79;
					mw_mirth_c99_ZPlusC99_put(v75, v76, v77, &v78, &v79);
					incref(MKSTR(branch_Str_59));
					PTUP v80;
					PTUP v81;
					mw_mirth_c99_ZPlusC99_put(v78, v79, branch_Str_59, &v80, &v81);
					STR* v82;
					STRLIT(v82, " = ", 3);
					PTUP v83;
					PTUP v84;
					mw_mirth_c99_ZPlusC99_put(v80, v81, v82, &v83, &v84);
					PTUP v85;
					mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_56, branch_Str_59, &v85);
					PTUP v86;
					STR* v87;
					STR* v88 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(v83, branch_C99ReprType_55, &v86, &v87);
					PTUP v89;
					PTUP v90;
					mw_mirth_c99_ZPlusC99_put(v86, v84, v88, &v89, &v90);
					STR* v91;
					STRLIT(v91, "((TUP*)PTRPTR(", 14);
					PTUP v92;
					PTUP v93;
					mw_mirth_c99_ZPlusC99_put(v89, v90, v91, &v92, &v93);
					incref(MKSTR(branch_Str_54));
					PTUP v94;
					PTUP v95;
					mw_mirth_c99_ZPlusC99_put(v92, v93, branch_Str_54, &v94, &v95);
					STR* v96;
					STRLIT(v96, "))->cells[", 10);
					PTUP v97;
					PTUP v98;
					mw_mirth_c99_ZPlusC99_put(v94, v95, v96, &v97, &v98);
					incref(MKINT(branch_Int_53));
					STR* v99 = int_to_str(branch_Int_53);
					PTUP v100;
					PTUP v101;
					mw_mirth_c99_ZPlusC99_put(v97, v98, v99, &v100, &v101);
					STR* v102;
					STRLIT(v102, "]", 1);
					PTUP v103;
					PTUP v104;
					mw_mirth_c99_ZPlusC99_put(v100, v101, v102, &v103, &v104);
					PTUP v105;
					PTUP v106;
					mw_mirth_c99_ZPlusC99_put(v103, v104, v87, &v105, &v106);
					STR* v107;
					STRLIT(v107, ";", 1);
					PTUP v108;
					PTUP v109;
					mw_mirth_c99_ZPlusC99_put(v105, v106, v107, &v108, &v109);
					PTUP v110;
					PTUP v111;
					mw_mirth_c99_ZPlusC99_line(v108, v109, &v110, &v111);
					((TUP*)PTRPTR(v111))->cells[3] = MKBOOL(value_bool(MKBOOL(v69)));
					((TUP*)PTRPTR(branch_ZPlusC99Branch_60))->cells[0] = MKTUP(v111);
					PTUP v112;
					PTUP v113;
					mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang(v110, branch_ZPlusC99Branch_60, value_u64(v45), v85, &v112, &v113);
					INT v114 = WRAP_I63(1LL);
					INT v115 = v114;
					INT v116 = int_add(branch_Int_53, v115);
					bool v117 = true;
					branch_Bool_43 = v117;
					branch_List_42 = v44;
					branch_ZPlusMirth_41 = v112;
					branch_ZPlusC99Branch_40 = v113;
					branch_Int_39 = v116;
					branch_Str_38 = branch_Str_54;
				} break;
				case 0LL: { // Nil
					PTUP v118 = PTRMK(0LL /* Nil */,0,0);
					bool v119 = false;
					branch_Bool_43 = v119;
					branch_List_42 = v118;
					branch_ZPlusMirth_41 = r35;
					branch_ZPlusC99Branch_40 = r34;
					branch_Int_39 = v32;
					branch_Str_38 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v31 = branch_Bool_43;
			v30 = branch_Bool_43;
			v29 = branch_List_42;
			r28 = branch_ZPlusMirth_41;
			r27 = branch_ZPlusC99Branch_40;
			v26 = branch_Str_38;
			v25 = branch_Int_39;
		}
		decref(MKTUP(v29));
		decref(MKINT(v25));
		decref(MKSTR(v26));
		PTUP v120;
		mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v20), &v120);
		branch_ZPlusMaybe_13 = v120;
		branch_ZPlusC99Branch_12 = r27;
		branch_ZPlusMirth_11 = r28;
	}
	*out_ZPlusMaybe_6 = branch_ZPlusMaybe_13;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_c99_c99Z_blockZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Block_toZ_runZ_var(in_ZPlusMirth_1, in_Block_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Branch_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKU64(in_Block_3));
			PTUP v11;
			PTUP v12;
			mw_mirth_c99_c99Z_varZ_pushZBang(v6, in_ZPlusC99Branch_2, value_u64(v10), &v11, &v12);
			branch_ZPlusC99Branch_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			PTUP v13 = PTRMK(19LL /* FNPTR */,0,0);
			incref(MKTUP(v13));
			PTUP v14;
			bool v15 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v6, v13, &v14);
			uint64_t branch_Block_16;
			PTUP branch_C99ReprType_17;
			bool branch_Bool_18;
			PTUP branch_ZPlusMirth_19;
			STR* branch_Str_20;
			PTUP branch_ZPlusC99Branch_21;
			if (v15) {
				PTUP r22 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
				PTUP v23;
				PTUP v24;
				STR* v25 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v14, r22, &v23, &v24);
				((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v24);
				branch_ZPlusC99Branch_21 = in_ZPlusC99Branch_2;
				branch_Str_20 = v25;
				branch_ZPlusMirth_19 = v23;
				branch_Bool_18 = v15;
				branch_C99ReprType_17 = v13;
				branch_Block_16 = in_Block_3;
			} else {
				STR* v26;
				STRLIT(v26, "0", 1);
				branch_ZPlusC99Branch_21 = in_ZPlusC99Branch_2;
				branch_Str_20 = v26;
				branch_ZPlusMirth_19 = v14;
				branch_Bool_18 = v15;
				branch_C99ReprType_17 = v13;
				branch_Block_16 = in_Block_3;
			}
			bool v27 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_21))->cells[3]);
			bool v28 = (branch_Bool_18 && v27);
			PTUP r29 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_21))->cells[0]);
			bool v30 = value_bool(((TUP*)PTRPTR(r29))->cells[3]);
			incref(MKBOOL(v30));
			bool v31 = (value_bool(MKBOOL(v28)) && value_bool(MKBOOL(v30)));
			((TUP*)PTRPTR(r29))->cells[3] = MKBOOL(v31);
			PTUP v32;
			PTUP v33;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_19, r29, &v32, &v33);
			incref(MKTUP(branch_C99ReprType_17));
			PTUP v34;
			STR* v35 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v32, branch_C99ReprType_17, &v34);
			PTUP v36;
			PTUP v37;
			mw_mirth_c99_ZPlusC99_put(v34, v33, v35, &v36, &v37);
			STR* v38;
			STRLIT(v38, " ", 1);
			PTUP v39;
			PTUP v40;
			mw_mirth_c99_ZPlusC99_put(v36, v37, v38, &v39, &v40);
			incref(MKSTR(branch_Str_20));
			PTUP v41;
			PTUP v42;
			mw_mirth_c99_ZPlusC99_put(v39, v40, branch_Str_20, &v41, &v42);
			STR* v43;
			STRLIT(v43, " = ", 3);
			PTUP v44;
			PTUP v45;
			mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
			PTUP v46;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_17, branch_Str_20, &v46);
			STR* v47;
			STRLIT(v47, "&", 1);
			PTUP v48;
			PTUP v49;
			mw_mirth_c99_ZPlusC99_put(v44, v45, v47, &v48, &v49);
			PTUP v50;
			STR* v51 = mw_mirth_arrow_Block_cname(v48, branch_Block_16, &v50);
			PTUP v52;
			PTUP v53;
			mw_mirth_c99_ZPlusC99_put(v50, v49, v51, &v52, &v53);
			STR* v54;
			STRLIT(v54, ";", 1);
			PTUP v55;
			PTUP v56;
			mw_mirth_c99_ZPlusC99_put(v52, v53, v54, &v55, &v56);
			PTUP v57;
			PTUP v58;
			mw_mirth_c99_ZPlusC99_line(v55, v56, &v57, &v58);
			((TUP*)PTRPTR(v58))->cells[3] = MKBOOL(value_bool(MKBOOL(v30)));
			((TUP*)PTRPTR(branch_ZPlusC99Branch_21))->cells[0] = MKTUP(v58);
			PTUP v59;
			PTUP v60;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v57, branch_ZPlusC99Branch_21, v46, &v59, &v60);
			PTUP v61;
			PTUP v62 = mw_mirth_arrow_Block_freeZ_vars(v59, branch_Block_16, &v61);
			PTUP v63;
			PTUP v64;
			mw_mirth_c99_c99Z_packZ_closureZ_varsZBang(v61, v60, v62, &v63, &v64);
			branch_ZPlusC99Branch_9 = v64;
			branch_ZPlusMirth_8 = v63;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_var_Var_autoZ_runZAsk(in_ZPlusMirth_1, in_Var_3, &v6);
	int64_t v8 = PTREXTRA(v7);
	decref(MKTUP(v7));
	INT v9 = WRAP_I63(0LL);
	INT v10 = v9;
	INT v11 = i64_to_int(v8);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	PTUP branch_ZPlusMirth_14;
	PTUP branch_ZPlusC99Branch_15;
	if (v13) {
		PTUP v16;
		PTUP v17;
		mw_mirth_c99_c99Z_varZ_runZBang(v6, in_ZPlusC99Branch_2, in_Var_3, &v16, &v17);
		branch_ZPlusC99Branch_15 = v17;
		branch_ZPlusMirth_14 = v16;
	} else {
		PTUP v18;
		PTUP v19;
		mw_mirth_c99_c99Z_varZ_pushZBang(v6, in_ZPlusC99Branch_2, in_Var_3, &v18, &v19);
		branch_ZPlusC99Branch_15 = v19;
		branch_ZPlusMirth_14 = v18;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_15;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_14;
}
static void mw_mirth_c99_c99Z_varZ_runZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Var_3, &v6, &v7, &v8);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99Value_runZ_valueZBang(v6, v7, v8, &v9, &v10);
	*out_ZPlusC99Branch_5 = v10;
	*out_ZPlusMirth_4 = v9;
}
static void mw_mirth_c99_c99Z_varZ_pushZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Var_3, &v6, &v7, &v8);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v6, v7, v8, &v9, &v10);
	*out_ZPlusC99Branch_5 = v10;
	*out_ZPlusMirth_4 = v9;
}
static void mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusC99Branch_7;
	switch (PTREXTRA(in_List_3)) {
		case 0LL: { // Nil
			branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Cons
			PTUP v8;
			VAL v9 = mtp_std_list_List_1_Cons(in_List_3, &v8);
			incref(v9);
			PTUP v10;
			PTUP v11 = mw_mirth_var_Var_type(in_ZPlusMirth_1, value_u64(v9), &v10);
			PTUP v12;
			PTUP v13;
			PTUP v14 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v10, in_ZPlusC99Branch_2, v11, &v12, &v13);
			PTUP v15;
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v12, v13, v14, &v15, &v16, &v17);
			PTUP v18;
			PTUP v19;
			mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang(v15, v16, VTUP(MKTUP(v8)), &v18, &v19);
			PTUP v20;
			PTUP v21;
			mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang(v18, v19, value_u64(v9), v17, &v20, &v21);
			branch_ZPlusC99Branch_7 = v21;
			branch_ZPlusMirth_6 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_popZ_valuesZ_toZ_envZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = mw_std_list_List_1_reverse(in_List_3);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8);
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_dropZ_envZ_varZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Var_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7;
	PTUP v8;
	uint64_t v9 = mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v6, &v7, &v8);
	bool v10 = (v9 == in_Var_3);
	PTUP branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	VAL branch_z_x2_13;
	if (v10) {
		branch_z_x2_13 = MKTUP(v8);
		branch_z_x1_12 = MKTUP(v7);
		branch_ZPlusMirth_11 = v6;
	} else {
		STR* v14;
		STRLIT(v14, "[c99] unexpected variable in environment when exiting scope", 59);
		mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v6, v14);
	}
	PTUP v16;
	PTUP v17;
	mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(branch_ZPlusMirth_11, VTUP(branch_z_x1_12), VTUP(branch_z_x2_13), &v16, &v17);
	*out_ZPlusC99Branch_5 = v17;
	*out_ZPlusMirth_4 = v16;
}
static void mw_mirth_c99_dropZ_envZ_varsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = mw_std_list_List_1_reverse(in_List_3);
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusC99Branch_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusC99Branch_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				PTUP v23;
				PTUP v24;
				mw_mirth_c99_dropZ_envZ_varZBang(r13, r14, value_u64(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusC99Branch_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusC99Branch_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusC99Branch_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusC99Branch_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static void mw_mirth_c99_c99Z_lambdaZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Lambda_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_Lambda_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Lambda_3))->cells[3]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Lambda_3));
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_popZ_valuesZ_toZ_envZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8);
	incref(MKTUP(in_Lambda_3));
	PTUP v9 = VTUP(((TUP*)PTRPTR(in_Lambda_3))->cells[4]);
	incref(MKTUP(v9));
	decref(MKTUP(in_Lambda_3));
	PTUP v10;
	PTUP v11;
	mw_mirth_c99_c99Z_arrowZBang(v7, v8, v9, &v10, &v11);
	PTUP v12 = VTUP(((TUP*)PTRPTR(in_Lambda_3))->cells[3]);
	incref(MKTUP(v12));
	decref(MKTUP(in_Lambda_3));
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_dropZ_envZ_varsZBang(v10, v11, v12, &v13, &v14);
	*out_ZPlusC99Branch_5 = v14;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_c99Z_matchZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Match_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_Match_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Match_3))->cells[6]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Match_3));
	PTUP v7 = mw_std_list_List_1_singleZAsk(v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Branch_9;
	switch (PTREXTRA(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKTUP(in_Match_3));
			PTUP v11;
			PTUP v12;
			mw_mirth_c99_c99Z_singleZ_caseZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, VTUP(v10), &v11, &v12);
			branch_ZPlusC99Branch_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			incref(MKTUP(in_Match_3));
			PTUP v13;
			PTUP v14 = mw_mirth_match_Match_scrutineeZ_dataZAsk(in_ZPlusMirth_1, in_Match_3, &v13);
			PTUP branch_ZPlusMirth_15;
			PTUP branch_Match_16;
			VAL branch_z_x1_17;
			switch (PTREXTRA(v14)) {
				case 1LL: { // Some
					VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
					branch_z_x1_17 = v18;
					branch_Match_16 = in_Match_3;
					branch_ZPlusMirth_15 = v13;
				} break;
				case 0LL: { // None
					uint64_t v19 = value_u64(((TUP*)PTRPTR(in_Match_3))->cells[1]);
					decref(MKTUP(in_Match_3));
					STR* v20;
					STRLIT(v20, "non-uniform match, not supported at present", 43);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v13, v19, v20);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			PTUP v24;
			PTUP v25;
			PTUP v26;
			mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(branch_ZPlusMirth_15, in_ZPlusC99Branch_2, value_u64(branch_z_x1_17), &v24, &v25, &v26);
			incref(MKTUP(branch_Match_16));
			PTUP v27 = VTUP(((TUP*)PTRPTR(branch_Match_16))->cells[5]);
			incref(MKTUP(v27));
			decref(MKTUP(branch_Match_16));
			PTUP v28;
			PTUP v29;
			mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang(v24, v27, v25, &v28, &v29);
			bool v30 = value_bool(((TUP*)PTRPTR(v29))->cells[4]);
			PTUP r31 = VTUP(((TUP*)PTRPTR(v29))->cells[0]);
			bool v32 = value_bool(((TUP*)PTRPTR(r31))->cells[3]);
			incref(MKBOOL(v32));
			bool v33 = (value_bool(MKBOOL(v30)) && value_bool(MKBOOL(v32)));
			((TUP*)PTRPTR(r31))->cells[3] = MKBOOL(v33);
			PTUP v34;
			PTUP v35;
			mw_mirth_c99_ZPlusC99_indent(v28, r31, &v34, &v35);
			STR* v36;
			STRLIT(v36, "switch (", 8);
			PTUP v37;
			PTUP v38;
			mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
			PTUP v39;
			PTUP v40;
			STR* v41 = mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag(v37, v26, &v39, &v40);
			PTUP v42;
			PTUP v43;
			mw_mirth_c99_ZPlusC99_put(v39, v38, v41, &v42, &v43);
			STR* v44;
			STRLIT(v44, ") {", 3);
			PTUP v45;
			PTUP v46;
			mw_mirth_c99_ZPlusC99_put(v42, v43, v44, &v45, &v46);
			PTUP v47;
			PTUP v48;
			mw_mirth_c99_ZPlusC99_line(v45, v46, &v47, &v48);
			((TUP*)PTRPTR(v48))->cells[3] = MKBOOL(value_bool(MKBOOL(v32)));
			((TUP*)PTRPTR(v29))->cells[0] = MKTUP(v48);
			PTUP r49 = VTUP(((TUP*)PTRPTR(v29))->cells[0]);
			INT v50 = value_nat(((TUP*)PTRPTR(r49))->cells[1]);
			incref(MKNAT(v50));
			INT v51 = WRAP_I63(1LL);
			INT v52 = v50;
			INT v53 = v51;
			INT v54 = int_add(v52, v53);
			INT v55 = v54;
			INT v56 = value_nat(((TUP*)PTRPTR(r49))->cells[1]);
			decref(MKNAT(v56));
			((TUP*)PTRPTR(r49))->cells[1] = MKNAT(v55);
			((TUP*)PTRPTR(v29))->cells[0] = MKTUP(r49);
			incref(MKTUP(branch_Match_16));
			PTUP v57 = VTUP(((TUP*)PTRPTR(branch_Match_16))->cells[6]);
			incref(MKTUP(v57));
			decref(MKTUP(branch_Match_16));
			bool v58 = true;
			PTUP r59 = v47;
			PTUP r60 = v29;
			PTUP v61 = v40;
			PTUP v62 = v57;
			bool v63 = v58;
			bool v64 = v58;
			while (v64) {
				PTUP r65 = r59;
				PTUP r66 = r60;
				PTUP v67 = v61;
				PTUP v68 = v62;
				bool v69 = v63;
				PTUP branch_ZPlusC99ValueZDivResource_70;
				PTUP branch_ZPlusMirth_71;
				PTUP branch_ZPlusC99BranchSplit_72;
				PTUP branch_List_73;
				bool branch_Bool_74;
				switch (PTREXTRA(v68)) {
					case 1LL: { // Cons
						PTUP v75;
						VAL v76 = mtp_std_list_List_1_Cons(v68, &v75);
						PTUP v77;
						PTUP v78;
						mw_mirth_c99_ZPlusC99ValueZDivResource_rdup(v67, &v77, &v78);
						PTUP v79;
						PTUP v80;
						mw_mirth_c99_c99Z_caseZBang(r65, r66, VTUP(v76), v77, &v79, &v80);
						bool v81 = true;
						branch_Bool_74 = v81;
						branch_List_73 = v75;
						branch_ZPlusC99BranchSplit_72 = v80;
						branch_ZPlusMirth_71 = v79;
						branch_ZPlusC99ValueZDivResource_70 = v78;
					} break;
					case 0LL: { // Nil
						PTUP v82 = PTRMK(0LL /* Nil */,0,0);
						bool v83 = false;
						branch_Bool_74 = v83;
						branch_List_73 = v82;
						branch_ZPlusC99BranchSplit_72 = r66;
						branch_ZPlusMirth_71 = r65;
						branch_ZPlusC99ValueZDivResource_70 = v67;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v64 = branch_Bool_74;
				v63 = branch_Bool_74;
				v62 = branch_List_73;
				v61 = branch_ZPlusC99ValueZDivResource_70;
				r60 = branch_ZPlusC99BranchSplit_72;
				r59 = branch_ZPlusMirth_71;
			}
			decref(MKTUP(v62));
			PTUP v84;
			bool v85 = mw_mirth_match_Match_hasZ_defaultZ_caseZAsk(r59, branch_Match_16, &v84);
			PTUP branch_ZPlusC99BranchSplit_86;
			PTUP branch_ZPlusMirth_87;
			if (v85) {
				branch_ZPlusMirth_87 = v84;
				branch_ZPlusC99BranchSplit_86 = r60;
			} else {
				PTUP v88;
				PTUP v89;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3(v84, r60, &v88, &v89);
				PTUP r90 = VTUP(((TUP*)PTRPTR(v89))->cells[0]);
				INT v91 = value_nat(((TUP*)PTRPTR(r90))->cells[1]);
				incref(MKNAT(v91));
				INT v92 = WRAP_I63(1LL);
				INT v93 = v91;
				INT v94 = v92;
				INT v95 = int_add(v93, v94);
				INT v96 = v95;
				INT v97 = value_nat(((TUP*)PTRPTR(r90))->cells[1]);
				decref(MKNAT(v97));
				((TUP*)PTRPTR(r90))->cells[1] = MKNAT(v96);
				((TUP*)PTRPTR(v89))->cells[0] = MKTUP(r90);
				bool v98 = value_bool(((TUP*)PTRPTR(v89))->cells[4]);
				PTUP r99 = VTUP(((TUP*)PTRPTR(v89))->cells[0]);
				bool v100 = value_bool(((TUP*)PTRPTR(r99))->cells[3]);
				incref(MKBOOL(v100));
				bool v101 = (value_bool(MKBOOL(v98)) && value_bool(MKBOOL(v100)));
				((TUP*)PTRPTR(r99))->cells[3] = MKBOOL(v101);
				PTUP v102;
				PTUP v103;
				mw_mirth_c99_ZPlusC99_indent(v88, r99, &v102, &v103);
				STR* v104;
				STRLIT(v104, "do_panic(str_make(\"unexpected fallthrough in match\\n\", 32));", 60);
				PTUP v105;
				PTUP v106;
				mw_mirth_c99_ZPlusC99_put(v102, v103, v104, &v105, &v106);
				PTUP v107;
				PTUP v108;
				mw_mirth_c99_ZPlusC99_line(v105, v106, &v107, &v108);
				((TUP*)PTRPTR(v108))->cells[3] = MKBOOL(value_bool(MKBOOL(v100)));
				((TUP*)PTRPTR(v89))->cells[0] = MKTUP(v108);
				PTUP r109 = VTUP(((TUP*)PTRPTR(v89))->cells[0]);
				INT v110 = value_nat(((TUP*)PTRPTR(r109))->cells[1]);
				incref(MKNAT(v110));
				INT v111 = WRAP_I63(1LL);
				INT v112 = v110;
				INT v113 = v111;
				INT v114 = int_sub(v112, v113);
				incref(MKINT(v114));
				INT v115 = WRAP_I63(0LL);
				INT v116 = v115;
				bool v117 = int_le(v116, v114);
				INT branch_Nat_118;
				if (v117) {
					INT v119 = v114;
					branch_Nat_118 = v119;
				} else {
					decref(MKINT(v114));
					INT v120 = WRAP_I63(0LL);
					branch_Nat_118 = v120;
				}
				INT v121 = value_nat(((TUP*)PTRPTR(r109))->cells[1]);
				decref(MKNAT(v121));
				((TUP*)PTRPTR(r109))->cells[1] = MKNAT(branch_Nat_118);
				((TUP*)PTRPTR(v89))->cells[0] = MKTUP(r109);
				PTUP v122;
				PTUP v123;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(v107, v89, &v122, &v123);
				branch_ZPlusMirth_87 = v122;
				branch_ZPlusC99BranchSplit_86 = v123;
			}
			mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop(v61);
			PTUP r124 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99BranchSplit_86))->cells[0]);
			INT v125 = value_nat(((TUP*)PTRPTR(r124))->cells[1]);
			incref(MKNAT(v125));
			INT v126 = WRAP_I63(1LL);
			INT v127 = v125;
			INT v128 = v126;
			INT v129 = int_sub(v127, v128);
			incref(MKINT(v129));
			INT v130 = WRAP_I63(0LL);
			INT v131 = v130;
			bool v132 = int_le(v131, v129);
			INT branch_Nat_133;
			if (v132) {
				INT v134 = v129;
				branch_Nat_133 = v134;
			} else {
				decref(MKINT(v129));
				INT v135 = WRAP_I63(0LL);
				branch_Nat_133 = v135;
			}
			INT v136 = value_nat(((TUP*)PTRPTR(r124))->cells[1]);
			decref(MKNAT(v136));
			((TUP*)PTRPTR(r124))->cells[1] = MKNAT(branch_Nat_133);
			((TUP*)PTRPTR(branch_ZPlusC99BranchSplit_86))->cells[0] = MKTUP(r124);
			PTUP v137;
			PTUP v138;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(branch_ZPlusMirth_87, branch_ZPlusC99BranchSplit_86, &v137, &v138);
			PTUP v139;
			PTUP v140;
			mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang(v137, v138, &v139, &v140);
			branch_ZPlusC99Branch_9 = v140;
			branch_ZPlusMirth_8 = v139;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_singleZ_caseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_Case_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_Case_3));
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
	incref(MKTUP(v6));
	decref(MKTUP(in_Case_3));
	bool v7 = mw_mirth_match_Pattern_isZ_defaultZAsk(v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Branch_9;
	if (v7) {
		PTUP v10 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[1]);
		incref(MKTUP(v10));
		decref(MKTUP(in_Case_3));
		PTUP v11;
		PTUP v12;
		mw_mirth_c99_c99Z_arrowZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v10, &v11, &v12);
		branch_ZPlusC99Branch_9 = v12;
		branch_ZPlusMirth_8 = v11;
	} else {
		incref(MKTUP(in_Case_3));
		PTUP v13 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
		incref(MKTUP(v13));
		decref(MKTUP(in_Case_3));
		PTUP v14 = mw_mirth_match_Pattern_singleZ_tagZAsk(v13);
		PTUP branch_ZPlusMirth_15;
		PTUP branch_ZPlusC99Branch_16;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Some
				VAL v17 = mtp_std_maybe_Maybe_1_Some(v14);
				PTUP v18;
				PTUP v19;
				mw_mirth_c99_c99Z_reverseZ_tagZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(v17), &v18, &v19);
				PTUP v20 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[1]);
				incref(MKTUP(v20));
				decref(MKTUP(in_Case_3));
				PTUP v21;
				PTUP v22;
				mw_mirth_c99_c99Z_arrowZBang(v18, v19, v20, &v21, &v22);
				branch_ZPlusC99Branch_16 = v22;
				branch_ZPlusMirth_15 = v21;
			} break;
			case 0LL: { // None
				PTUP v23 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
				incref(MKTUP(v23));
				decref(MKTUP(in_Case_3));
				uint64_t v24 = value_u64(((TUP*)PTRPTR(v23))->cells[1]);
				decref(MKTUP(v23));
				STR* v25;
				STRLIT(v25, "c99 target -- don't know how to compile this pattern", 52);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v24, v25);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_9 = branch_ZPlusC99Branch_16;
		branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_caseZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP in_Case_3, PTUP in_ZPlusC99ValueZDivResource_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99BranchSplit_6) {
	incref(MKTUP(in_Case_3));
	PTUP v7 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
	incref(MKTUP(v7));
	decref(MKTUP(in_Case_3));
	bool v8 = mw_mirth_match_Pattern_isZ_defaultZAsk(v7);
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99BranchSplit_10;
	if (v8) {
		PTUP v11;
		PTUP v12;
		mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3(in_ZPlusMirth_1, in_ZPlusC99BranchSplit_2, &v11, &v12);
		PTUP r13 = VTUP(((TUP*)PTRPTR(v12))->cells[0]);
		INT v14 = value_nat(((TUP*)PTRPTR(r13))->cells[1]);
		incref(MKNAT(v14));
		INT v15 = WRAP_I63(1LL);
		INT v16 = v14;
		INT v17 = v15;
		INT v18 = int_add(v16, v17);
		INT v19 = v18;
		INT v20 = value_nat(((TUP*)PTRPTR(r13))->cells[1]);
		decref(MKNAT(v20));
		((TUP*)PTRPTR(r13))->cells[1] = MKNAT(v19);
		((TUP*)PTRPTR(v12))->cells[0] = MKTUP(r13);
		PTUP r21 = VTUP(((TUP*)PTRPTR(v12))->cells[1]);
		PTUP v22;
		PTUP v23;
		mw_mirth_c99_ZPlusC99Stack_rdup(r21, &v22, &v23);
		((TUP*)PTRPTR(v12))->cells[1] = MKTUP(v22);
		PTUP v24 = VTUP(((TUP*)PTRPTR(v12))->cells[3]);
		incref(MKTUP(v24));
		bool v25 = value_bool(((TUP*)PTRPTR(v12))->cells[4]);
		PTUP v26 = VTUP(((TUP*)PTRPTR(v12))->cells[2]);
		incref(MKTUP(v26));
		PTUP r27 = VTUP(((TUP*)PTRPTR(v12))->cells[0]);
		PTUP v28;
		mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(r27, v23, v26, v25, &v28);
		PTUP v29;
		PTUP v30;
		mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang(v11, v28, in_ZPlusC99ValueZDivResource_4, &v29, &v30);
		PTUP v31 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[1]);
		incref(MKTUP(v31));
		decref(MKTUP(in_Case_3));
		PTUP v32;
		PTUP v33;
		mw_mirth_c99_c99Z_arrowZBang(v29, v30, v31, &v32, &v33);
		PTUP v34;
		PTUP v35;
		mw_std_list_List_1_reverseZ_for_1_sp5(v32, v33, v24, &v34, &v35);
		PTUP v36;
		PTUP v37;
		bool v38;
		PTUP v39;
		mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v34, v35, &v36, &v37, &v38, &v39);
		((TUP*)PTRPTR(v12))->cells[0] = MKTUP(v37);
		decref(MKTUP(v39));
		bool v40 = value_bool(((TUP*)PTRPTR(v12))->cells[5]);
		bool v41 = (v38 || v40);
		((TUP*)PTRPTR(v12))->cells[5] = MKBOOL(v41);
		PTUP r42 = VTUP(((TUP*)PTRPTR(v12))->cells[0]);
		INT v43 = value_nat(((TUP*)PTRPTR(r42))->cells[1]);
		incref(MKNAT(v43));
		INT v44 = WRAP_I63(1LL);
		INT v45 = v43;
		INT v46 = v44;
		INT v47 = int_sub(v45, v46);
		incref(MKINT(v47));
		INT v48 = WRAP_I63(0LL);
		INT v49 = v48;
		bool v50 = int_le(v49, v47);
		INT branch_Nat_51;
		if (v50) {
			INT v52 = v47;
			branch_Nat_51 = v52;
		} else {
			decref(MKINT(v47));
			INT v53 = WRAP_I63(0LL);
			branch_Nat_51 = v53;
		}
		INT v54 = value_nat(((TUP*)PTRPTR(r42))->cells[1]);
		decref(MKNAT(v54));
		((TUP*)PTRPTR(r42))->cells[1] = MKNAT(branch_Nat_51);
		((TUP*)PTRPTR(v12))->cells[0] = MKTUP(r42);
		PTUP v55;
		PTUP v56;
		mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6(v36, v12, &v55, &v56);
		branch_ZPlusC99BranchSplit_10 = v56;
		branch_ZPlusMirth_9 = v55;
	} else {
		incref(MKTUP(in_Case_3));
		PTUP v57 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
		incref(MKTUP(v57));
		decref(MKTUP(in_Case_3));
		PTUP v58 = mw_mirth_match_Pattern_singleZ_tagZAsk(v57);
		PTUP branch_ZPlusMirth_59;
		PTUP branch_ZPlusC99BranchSplit_60;
		switch (PTREXTRA(v58)) {
			case 1LL: { // Some
				VAL v61 = mtp_std_maybe_Maybe_1_Some(v58);
				bool v62 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[4]);
				PTUP r63 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0]);
				bool v64 = value_bool(((TUP*)PTRPTR(r63))->cells[3]);
				incref(MKBOOL(v64));
				bool v65 = (value_bool(MKBOOL(v62)) && value_bool(MKBOOL(v64)));
				((TUP*)PTRPTR(r63))->cells[3] = MKBOOL(v65);
				PTUP v66;
				PTUP v67;
				mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, r63, &v66, &v67);
				STR* v68;
				STRLIT(v68, "case ", 5);
				PTUP v69;
				PTUP v70;
				mw_mirth_c99_ZPlusC99_put(v66, v67, v68, &v69, &v70);
				PTUP v71;
				STR* v72 = mw_mirth_data_Tag_valueZ_show(v69, value_u64(v61), &v71);
				PTUP v73;
				PTUP v74;
				mw_mirth_c99_ZPlusC99_put(v71, v70, v72, &v73, &v74);
				STR* v75;
				STRLIT(v75, "LL: { // ", 9);
				PTUP v76;
				PTUP v77;
				mw_mirth_c99_ZPlusC99_put(v73, v74, v75, &v76, &v77);
				PTUP v78;
				uint64_t v79 = mw_mirth_data_Tag_name(v76, value_u64(v61), &v78);
				PTUP v80;
				STR* v81 = mw_mirth_name_Name_ZToStr(v78, v79, &v80);
				PTUP v82;
				PTUP v83;
				mw_mirth_c99_ZPlusC99_put(v80, v77, v81, &v82, &v83);
				PTUP v84;
				PTUP v85;
				mw_mirth_c99_ZPlusC99_line(v82, v83, &v84, &v85);
				((TUP*)PTRPTR(v85))->cells[3] = MKBOOL(value_bool(MKBOOL(v64)));
				((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0] = MKTUP(v85);
				PTUP r86 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0]);
				INT v87 = value_nat(((TUP*)PTRPTR(r86))->cells[1]);
				incref(MKNAT(v87));
				INT v88 = WRAP_I63(1LL);
				INT v89 = v87;
				INT v90 = v88;
				INT v91 = int_add(v89, v90);
				INT v92 = v91;
				INT v93 = value_nat(((TUP*)PTRPTR(r86))->cells[1]);
				decref(MKNAT(v93));
				((TUP*)PTRPTR(r86))->cells[1] = MKNAT(v92);
				((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0] = MKTUP(r86);
				PTUP r94 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[1]);
				PTUP v95;
				PTUP v96;
				mw_mirth_c99_ZPlusC99Stack_rdup(r94, &v95, &v96);
				((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[1] = MKTUP(v95);
				PTUP v97 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[3]);
				incref(MKTUP(v97));
				bool v98 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[4]);
				PTUP v99 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[2]);
				incref(MKTUP(v99));
				PTUP r100 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0]);
				PTUP v101;
				mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(r100, v96, v99, v98, &v101);
				PTUP v102;
				PTUP v103;
				mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang(v84, v101, in_ZPlusC99ValueZDivResource_4, &v102, &v103);
				PTUP v104;
				PTUP v105;
				mw_mirth_c99_c99Z_reverseZ_tagZBang(v102, v103, value_u64(v61), &v104, &v105);
				PTUP v106 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[1]);
				incref(MKTUP(v106));
				decref(MKTUP(in_Case_3));
				PTUP v107;
				PTUP v108;
				mw_mirth_c99_c99Z_arrowZBang(v104, v105, v106, &v107, &v108);
				PTUP v109;
				PTUP v110;
				mw_std_list_List_1_reverseZ_for_1_sp5(v107, v108, v97, &v109, &v110);
				PTUP v111;
				PTUP v112;
				bool v113;
				PTUP v114;
				mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v109, v110, &v111, &v112, &v113, &v114);
				((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0] = MKTUP(v112);
				decref(MKTUP(v114));
				bool v115 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[5]);
				bool v116 = (v113 || v115);
				((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[5] = MKBOOL(v116);
				PTUP r117 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0]);
				INT v118 = value_nat(((TUP*)PTRPTR(r117))->cells[1]);
				incref(MKNAT(v118));
				INT v119 = WRAP_I63(1LL);
				INT v120 = v118;
				INT v121 = v119;
				INT v122 = int_sub(v120, v121);
				incref(MKINT(v122));
				INT v123 = WRAP_I63(0LL);
				INT v124 = v123;
				bool v125 = int_le(v124, v122);
				INT branch_Nat_126;
				if (v125) {
					INT v127 = v122;
					branch_Nat_126 = v127;
				} else {
					decref(MKINT(v122));
					INT v128 = WRAP_I63(0LL);
					branch_Nat_126 = v128;
				}
				INT v129 = value_nat(((TUP*)PTRPTR(r117))->cells[1]);
				decref(MKNAT(v129));
				((TUP*)PTRPTR(r117))->cells[1] = MKNAT(branch_Nat_126);
				((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0] = MKTUP(r117);
				PTUP v130;
				PTUP v131;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6(v111, in_ZPlusC99BranchSplit_2, &v130, &v131);
				branch_ZPlusC99BranchSplit_60 = v131;
				branch_ZPlusMirth_59 = v130;
			} break;
			case 0LL: { // None
				PTUP v132 = VTUP(((TUP*)PTRPTR(in_Case_3))->cells[0]);
				incref(MKTUP(v132));
				decref(MKTUP(in_Case_3));
				uint64_t v133 = value_u64(((TUP*)PTRPTR(v132))->cells[1]);
				decref(MKTUP(v132));
				STR* v134;
				STRLIT(v134, "c99 target -- don't know how to compile this pattern", 52);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v133, v134);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99BranchSplit_10 = branch_ZPlusC99BranchSplit_60;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_59;
	}
	*out_ZPlusC99BranchSplit_6 = branch_ZPlusC99BranchSplit_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
}
static STR* mw_mirth_data_Tag_wordZ_cnameZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	PTUP v6;
	STR* v7 = mw_mirth_data_Tag_wordZ_cname(in_ZPlusMirth_1, in_Tag_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_data_Tag_type(v6, in_Tag_2, &v8);
	*out_ArrowType_5 = v9;
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static STR* mw_mirth_data_Tag_patZ_cnameZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Tag_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	PTUP v6;
	STR* v7 = mw_mirth_data_Tag_patZ_cname(in_ZPlusMirth_1, in_Tag_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_data_Tag_type(v6, in_Tag_2, &v8);
	PTUP v10 = mw_mirth_type_ArrowType_invert(v9);
	*out_ArrowType_5 = v10;
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static STR* mw_mirth_word_Word_cnameZ_type (PTUP in_ZPlusMirth_1, uint64_t in_Word_2, PTUP *out_ZPlusMirth_3, PTUP *out_ArrowType_5) {
	PTUP v6;
	STR* v7 = mw_mirth_word_Word_cname(in_ZPlusMirth_1, in_Word_2, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_word_Word_type(v6, in_Word_2, &v8);
	*out_ArrowType_5 = v9;
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static PTUP mw_mirth_data_Tag_wordZ_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	void* v7 = field_mut(&mfld_mirth_data_Tag_ZTildewordZ_c99Z_api, in_Tag_3);
	bool v8 = mut_is_set(v7);
	PTUP branch_ZPlusC99_9;
	PTUP branch_ZPlusMirth_10;
	uint64_t branch_Tag_11;
	PTUP branch_C99API_12;
	if (v8) {
		VAL v13 = mut_get(v7);
		branch_C99API_12 = VTUP(v13);
		branch_Tag_11 = in_Tag_3;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		branch_ZPlusC99_9 = in_ZPlusC99_2;
	} else {
		PTUP v14;
		PTUP v15;
		STR* v16 = mw_mirth_data_Tag_wordZ_cnameZ_type(in_ZPlusMirth_1, in_Tag_3, &v14, &v15);
		PTUP v17;
		PTUP v18;
		PTUP v19 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, in_ZPlusC99_2, v16, v15, &v17, &v18);
		incref(MKTUP(v19));
		mut_set(MKTUP(v19), v7);
		branch_C99API_12 = v19;
		branch_Tag_11 = in_Tag_3;
		branch_ZPlusMirth_10 = v17;
		branch_ZPlusC99_9 = v18;
	}
	decref(MKU64(branch_Tag_11));
	*out_ZPlusC99_5 = branch_ZPlusC99_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return VTUP(MKTUP(branch_C99API_12));
}
static PTUP mw_mirth_data_Tag_patZ_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Tag_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	void* v7 = field_mut(&mfld_mirth_data_Tag_ZTildepatZ_c99Z_api, in_Tag_3);
	bool v8 = mut_is_set(v7);
	PTUP branch_ZPlusC99_9;
	PTUP branch_ZPlusMirth_10;
	uint64_t branch_Tag_11;
	PTUP branch_C99API_12;
	if (v8) {
		VAL v13 = mut_get(v7);
		branch_C99API_12 = VTUP(v13);
		branch_Tag_11 = in_Tag_3;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		branch_ZPlusC99_9 = in_ZPlusC99_2;
	} else {
		PTUP v14;
		PTUP v15;
		STR* v16 = mw_mirth_data_Tag_patZ_cnameZ_type(in_ZPlusMirth_1, in_Tag_3, &v14, &v15);
		PTUP v17;
		PTUP v18;
		PTUP v19 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, in_ZPlusC99_2, v16, v15, &v17, &v18);
		incref(MKTUP(v19));
		mut_set(MKTUP(v19), v7);
		branch_C99API_12 = v19;
		branch_Tag_11 = in_Tag_3;
		branch_ZPlusMirth_10 = v17;
		branch_ZPlusC99_9 = v18;
	}
	decref(MKU64(branch_Tag_11));
	*out_ZPlusC99_5 = branch_ZPlusC99_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return VTUP(MKTUP(branch_C99API_12));
}
static PTUP mw_mirth_word_Word_c99Z_api (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	void* v7 = field_mut(&mfld_mirth_word_Word_ZTildec99Z_api, in_Word_3);
	bool v8 = mut_is_set(v7);
	PTUP branch_ZPlusC99_9;
	PTUP branch_ZPlusMirth_10;
	uint64_t branch_Word_11;
	PTUP branch_C99API_12;
	if (v8) {
		VAL v13 = mut_get(v7);
		branch_C99API_12 = VTUP(v13);
		branch_Word_11 = in_Word_3;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		branch_ZPlusC99_9 = in_ZPlusC99_2;
	} else {
		PTUP v14;
		PTUP v15;
		STR* v16 = mw_mirth_word_Word_cnameZ_type(in_ZPlusMirth_1, in_Word_3, &v14, &v15);
		PTUP v17;
		PTUP v18;
		PTUP v19 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, in_ZPlusC99_2, v16, v15, &v17, &v18);
		incref(MKTUP(v19));
		mut_set(MKTUP(v19), v7);
		branch_C99API_12 = v19;
		branch_Word_11 = in_Word_3;
		branch_ZPlusMirth_10 = v17;
		branch_ZPlusC99_9 = v18;
	}
	decref(MKU64(branch_Word_11));
	*out_ZPlusC99_5 = branch_ZPlusC99_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return VTUP(MKTUP(branch_C99API_12));
}
static void mw_mirth_c99_c99Z_wordZ_sigsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_word_Word_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP r16 = VTUP(((TUP*)PTRPTR(r13))->cells[4]);
		PTUP v17;
		PTUP v18;
		bool v19 = mw_mirth_word_Word_neededZAsk(r14, r16, v15, &v17, &v18);
		((TUP*)PTRPTR(r13))->cells[4] = MKTUP(v18);
		PTUP branch_ZPlusMirth_20;
		PTUP branch_ZPlusC99_21;
		if (v19) {
			PTUP v22;
			PTUP v23;
			mw_mirth_c99_c99Z_wordZ_sigZBang(v17, r13, v15, &v22, &v23);
			branch_ZPlusC99_21 = v23;
			branch_ZPlusMirth_20 = v22;
		} else {
			branch_ZPlusC99_21 = r13;
			branch_ZPlusMirth_20 = v17;
		}
		uint64_t v24 = 1ULL;
		uint64_t v25 = (v15 + v24);
		void* v26 = mbuf_mirth_word_Word_NumBuffer;
		uint64_t v27 = *(uint64_t*)v26;
		bool v28 = (v25 <= v27);
		v12 = v28;
		v11 = v25;
		r10 = branch_ZPlusMirth_20;
		r9 = branch_ZPlusC99_21;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_wordZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7;
	PTUP v8 = mw_mirth_word_Word_c99Z_api(in_ZPlusMirth_1, in_ZPlusC99_2, in_Word_3, &v6, &v7);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_c99Z_smartZ_sigZBang(v6, v7, v8, &v9, &v10);
	*out_ZPlusC99_5 = v10;
	*out_ZPlusMirth_4 = v9;
}
static void mw_mirth_c99_c99Z_blockZ_sigsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_arrow_Block_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP r16 = VTUP(((TUP*)PTRPTR(r13))->cells[4]);
		PTUP v17;
		PTUP v18;
		bool v19 = mw_mirth_arrow_Block_neededZAsk(r14, r16, v15, &v17, &v18);
		((TUP*)PTRPTR(r13))->cells[4] = MKTUP(v18);
		PTUP branch_ZPlusMirth_20;
		PTUP branch_ZPlusC99_21;
		if (v19) {
			PTUP v22;
			PTUP v23;
			mw_mirth_c99_c99Z_blockZ_sigZBang(v17, r13, v15, &v22, &v23);
			branch_ZPlusC99_21 = v23;
			branch_ZPlusMirth_20 = v22;
		} else {
			branch_ZPlusC99_21 = r13;
			branch_ZPlusMirth_20 = v17;
		}
		uint64_t v24 = 1ULL;
		uint64_t v25 = (v15 + v24);
		void* v26 = mbuf_mirth_arrow_Block_NumBuffer;
		uint64_t v27 = *(uint64_t*)v26;
		bool v28 = (v25 <= v27);
		v12 = v28;
		v11 = v25;
		r10 = branch_ZPlusMirth_20;
		r9 = branch_ZPlusC99_21;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_blockZ_sigZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_c99Z_blockZ_sigZ_put(v6, v7, in_Block_3, &v8, &v9);
	STR* v10;
	STRLIT(v10, ";", 1);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_put(v8, v9, v10, &v11, &v12);
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_ZPlusC99_line(v11, v12, &v13, &v14);
	*out_ZPlusC99_5 = v14;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_c99Z_blockZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_arrow_Block_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP r16 = VTUP(((TUP*)PTRPTR(r13))->cells[4]);
		PTUP v17;
		PTUP v18;
		bool v19 = mw_mirth_arrow_Block_neededZAsk(r14, r16, v15, &v17, &v18);
		((TUP*)PTRPTR(r13))->cells[4] = MKTUP(v18);
		PTUP branch_ZPlusMirth_20;
		PTUP branch_ZPlusC99_21;
		if (v19) {
			PTUP v22;
			PTUP v23;
			mw_mirth_c99_c99Z_blockZ_defZBang(v17, r13, v15, &v22, &v23);
			branch_ZPlusC99_21 = v23;
			branch_ZPlusMirth_20 = v22;
		} else {
			branch_ZPlusC99_21 = r13;
			branch_ZPlusMirth_20 = v17;
		}
		uint64_t v24 = 1ULL;
		uint64_t v25 = (v15 + v24);
		void* v26 = mbuf_mirth_arrow_Block_NumBuffer;
		uint64_t v27 = *(uint64_t*)v26;
		bool v28 = (v25 <= v27);
		v12 = v28;
		v11 = v25;
		r10 = branch_ZPlusMirth_20;
		r9 = branch_ZPlusC99_21;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_blockZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_c99Z_blockZ_sigZ_put(v6, v7, in_Block_3, &v8, &v9);
	STR* v10;
	STRLIT(v10, " {", 2);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_put(v8, v9, v10, &v11, &v12);
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_ZPlusC99_line(v11, v12, &v13, &v14);
	PTUP v15;
	PTUP v16;
	mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang(v13, v14, &v15, &v16);
	INT v17 = value_nat(((TUP*)PTRPTR(v16))->cells[1]);
	incref(MKNAT(v17));
	INT v18 = WRAP_I63(1LL);
	INT v19 = v17;
	INT v20 = v18;
	INT v21 = int_add(v19, v20);
	INT v22 = v21;
	INT v23 = value_nat(((TUP*)PTRPTR(v16))->cells[1]);
	decref(MKNAT(v23));
	((TUP*)PTRPTR(v16))->cells[1] = MKNAT(v22);
	PTUP v24;
	PTUP v25;
	mw_mirth_c99_c99Z_blockZ_enterZBang(v15, in_Block_3, v16, &v24, &v25);
	PTUP v26;
	PTUP v27 = mw_mirth_arrow_Block_arrow(v24, in_Block_3, &v26);
	incref(MKTUP(v27));
	PTUP v28;
	PTUP v29 = mw_mirth_arrow_Arrow_freeZ_vars(v26, v27, &v28);
	PTUP v30;
	PTUP v31;
	PTUP v32;
	mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang(v28, v25, v29, &v30, &v31, &v32);
	incref(MKTUP(v27));
	PTUP v33 = mw_mirth_arrow_Arrow_type(v27);
	PTUP v34 = VTUP(((TUP*)PTRPTR(v33))->cells[0]);
	incref(MKTUP(v34));
	decref(MKTUP(v33));
	PTUP v35;
	PTUP v36;
	mw_mirth_c99_exposeZ_stackZ_typeZBang(v30, v31, v34, &v35, &v36);
	PTUP v37;
	PTUP v38;
	mw_mirth_c99_c99Z_arrowZBang(v35, v36, v27, &v37, &v38);
	PTUP branch_ZPlusMirth_39;
	PTUP branch_ZPlusC99Branch_40;
	switch (PTREXTRA(v32)) {
		case 1LL: { // +Some
			VAL v41;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v32, &v41);
			PTUP v42;
			PTUP v43;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v37, v38, VTUP(v41), &v42, &v43);
			branch_ZPlusC99Branch_40 = v43;
			branch_ZPlusMirth_39 = v42;
		} break;
		case 0LL: { // +None
			branch_ZPlusC99Branch_40 = v38;
			branch_ZPlusMirth_39 = v37;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v44;
	PTUP v45;
	mw_mirth_c99_c99Z_blockZ_exitZBang(branch_ZPlusMirth_39, in_Block_3, branch_ZPlusC99Branch_40, &v44, &v45);
	INT v46 = value_nat(((TUP*)PTRPTR(v45))->cells[1]);
	incref(MKNAT(v46));
	INT v47 = WRAP_I63(1LL);
	INT v48 = v46;
	INT v49 = v47;
	INT v50 = int_sub(v48, v49);
	incref(MKINT(v50));
	INT v51 = WRAP_I63(0LL);
	INT v52 = v51;
	bool v53 = int_le(v52, v50);
	INT branch_Nat_54;
	if (v53) {
		INT v55 = v50;
		branch_Nat_54 = v55;
	} else {
		decref(MKINT(v50));
		INT v56 = WRAP_I63(0LL);
		branch_Nat_54 = v56;
	}
	INT v57 = value_nat(((TUP*)PTRPTR(v45))->cells[1]);
	decref(MKNAT(v57));
	((TUP*)PTRPTR(v45))->cells[1] = MKNAT(branch_Nat_54);
	PTUP v58;
	PTUP v59;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v44, v45, &v58, &v59);
	*out_ZPlusC99_5 = v59;
	*out_ZPlusMirth_4 = v58;
}
static void mw_mirth_c99_c99Z_blockZ_sigZ_put (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Block_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	STR* v6;
	STRLIT(v6, "static void ", 12);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	PTUP v9;
	STR* v10 = mw_mirth_arrow_Block_cname(v7, in_Block_3, &v9);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_put(v9, v8, v10, &v11, &v12);
	STR* v13;
	STRLIT(v13, " (void)", 7);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	*out_ZPlusC99_5 = v15;
	*out_ZPlusMirth_4 = v14;
}
static void mw_mirth_c99_c99Z_blockZ_enterZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_ZPlusC99_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99_3))->cells[0]);
	incref(MKTUP(v6));
	bool v7 = value_bool(((TUP*)PTRPTR(v6))->cells[1]);
	decref(MKTUP(v6));
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99_9;
	if (v7) {
		PTUP v10;
		PTUP v11;
		mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_3, &v10, &v11);
		STR* v12;
		STRLIT(v12, "WORD_ENTER(", 11);
		PTUP v13;
		PTUP v14;
		mw_mirth_c99_ZPlusC99_put(v10, v11, v12, &v13, &v14);
		PTUP v15;
		PTUP v16 = mw_mirth_arrow_Block_home(v13, in_Block_2, &v15);
		uint64_t branch_Block_17;
		PTUP branch_ZPlusC99_18;
		PTUP branch_ZPlusMirth_19;
		VAL branch__20;
		switch (PTREXTRA(v16)) {
			case 0LL: { // Main
				uint64_t v21 = mtp_mirth_arrow_Home_Main(v16);
				STR* v22;
				STRLIT(v22, "block", 5);
				branch__20 = MKSTR(v22);
				branch_ZPlusMirth_19 = v15;
				branch_ZPlusC99_18 = v14;
				branch_Block_17 = in_Block_2;
			} break;
			case 1LL: { // Word
				uint64_t v23 = mtp_mirth_arrow_Home_Word(v16);
				PTUP v24;
				uint64_t v25 = mw_mirth_word_Word_name(v15, v23, &v24);
				PTUP v26;
				STR* v27 = mw_mirth_name_Name_ZToStr(v24, v25, &v26);
				STR* v28;
				STRLIT(v28, " block", 6);
				STR* v29 = str_cat(v27, v28);
				branch__20 = MKSTR(v29);
				branch_ZPlusMirth_19 = v26;
				branch_ZPlusC99_18 = v14;
				branch_Block_17 = in_Block_2;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		PTUP v30;
		PTUP v31;
		mw_mirth_c99_ZPlusC99_putZ_cstr(branch_ZPlusMirth_19, branch_ZPlusC99_18, value_str(branch__20), &v30, &v31);
		STR* v32;
		STRLIT(v32, ", ", 2);
		PTUP v33;
		PTUP v34;
		mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
		PTUP v35;
		uint64_t v36 = mw_mirth_arrow_Block_token(v33, branch_Block_17, &v35);
		PTUP v37;
		uint64_t v38 = mw_mirth_token_Token_module(v35, v36, &v37);
		PTUP v39;
		STR* v40 = mw_mirth_module_Module_sourceZ_path(v37, v38, &v39);
		PTUP v41;
		PTUP v42;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v39, v34, v40, &v41, &v42);
		STR* v43;
		STRLIT(v43, ", ", 2);
		PTUP v44;
		PTUP v45;
		mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
		PTUP v46;
		uint64_t v47 = mw_mirth_arrow_Block_token(v44, branch_Block_17, &v46);
		PTUP v48;
		INT v49 = mw_mirth_token_Token_row(v46, v47, &v48);
		INT v50 = mw_mirth_location_Row_ZToInt(v49);
		STR* v51 = int_to_str(v50);
		PTUP v52;
		PTUP v53;
		mw_mirth_c99_ZPlusC99_put(v48, v45, v51, &v52, &v53);
		STR* v54;
		STRLIT(v54, ", ", 2);
		PTUP v55;
		PTUP v56;
		mw_mirth_c99_ZPlusC99_put(v52, v53, v54, &v55, &v56);
		PTUP v57;
		uint64_t v58 = mw_mirth_arrow_Block_token(v55, branch_Block_17, &v57);
		PTUP v59;
		INT v60 = mw_mirth_token_Token_col(v57, v58, &v59);
		INT v61 = mw_mirth_location_Col_ZToInt(v60);
		STR* v62 = int_to_str(v61);
		PTUP v63;
		PTUP v64;
		mw_mirth_c99_ZPlusC99_put(v59, v56, v62, &v63, &v64);
		STR* v65;
		STRLIT(v65, ");", 2);
		PTUP v66;
		PTUP v67;
		mw_mirth_c99_ZPlusC99_put(v63, v64, v65, &v66, &v67);
		PTUP v68;
		PTUP v69;
		mw_mirth_c99_ZPlusC99_line(v66, v67, &v68, &v69);
		branch_ZPlusC99_9 = v69;
		branch_ZPlusMirth_8 = v68;
	} else {
		branch_ZPlusC99_9 = in_ZPlusC99_3;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	bool v70 = true;
	PTUP v71 = PTRMK(0LL /* Nil */,0,0);
	PTUP v72;
	PTUP v73;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(branch_ZPlusMirth_8, branch_ZPlusC99_9, v70, v71, &v72, &v73);
	*out_ZPlusC99Branch_5 = v73;
	*out_ZPlusMirth_4 = v72;
}
static void mw_mirth_c99_c99Z_blockZ_exitZBang (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_ZPlusC99Branch_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7;
	bool v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_3, &v6, &v7, &v8, &v9);
	decref(MKTUP(v9));
	PTUP v10 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
	incref(MKTUP(v10));
	bool v11 = value_bool(((TUP*)PTRPTR(v10))->cells[1]);
	decref(MKTUP(v10));
	PTUP branch_ZPlusMirth_12;
	PTUP branch_ZPlusC99_13;
	if (v11) {
		PTUP v14;
		PTUP v15;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(v6, v7, &v14, &v15);
		branch_ZPlusC99_13 = v15;
		branch_ZPlusMirth_12 = v14;
	} else {
		branch_ZPlusC99_13 = v7;
		branch_ZPlusMirth_12 = v6;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_13;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
}
static void mw_mirth_c99_exposeZ_stackZ_typeZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_StackType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	PTUP branch_ZPlusMirth_8;
	PTUP branch_ZPlusC99Branch_9;
	switch (PTREXTRA(v7)) {
		case 5LL: { // Cons
			PTUP v10;
			PTUP v11 = mtp_mirth_type_StackType_Cons(v7, &v10);
			PTUP v12;
			PTUP v13;
			PTUP v14 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v10, &v12, &v13);
			PTUP v15;
			PTUP v16;
			PTUP v17;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v12, v13, v14, &v15, &v16, &v17);
			PTUP v18;
			PTUP v19;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v15, v16, v11, &v18, &v19);
			PTUP v20;
			PTUP v21;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v18, v19, v17, &v20, &v21);
			branch_ZPlusC99Branch_9 = v21;
			branch_ZPlusMirth_8 = v20;
		} break;
		case 7LL: { // With
			PTUP v22;
			PTUP v23 = mtp_mirth_type_StackType_With(v7, &v22);
			PTUP v24;
			PTUP v25;
			PTUP v26 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v22, &v24, &v25);
			PTUP v27;
			PTUP v28;
			PTUP v29;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v24, v25, v26, &v27, &v28, &v29);
			PTUP v30;
			PTUP v31;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v27, v28, v23, &v30, &v31);
			PTUP v32;
			PTUP v33;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v30, v31, v29, &v32, &v33);
			branch_ZPlusC99Branch_9 = v33;
			branch_ZPlusMirth_8 = v32;
		} break;
		case 6LL: { // ConsLabel
			PTUP v34;
			uint64_t v35;
			PTUP v36 = mtp_mirth_type_StackType_ConsLabel(v7, &v34, &v35);
			PTUP v37;
			PTUP v38;
			PTUP v39 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v34, &v37, &v38);
			PTUP v40;
			PTUP v41;
			PTUP v42;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v37, v38, v39, v35, &v40, &v41, &v42);
			PTUP v43;
			PTUP v44;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v40, v41, v36, &v43, &v44);
			PTUP v45;
			PTUP v46;
			mw_mirth_c99_pushZ_valueZ_labelZBang(v43, v44, v35, v42, &v45, &v46);
			branch_ZPlusC99Branch_9 = v46;
			branch_ZPlusMirth_8 = v45;
		} break;
		case 8LL: { // WithLabel
			PTUP v47;
			uint64_t v48;
			PTUP v49 = mtp_mirth_type_StackType_WithLabel(v7, &v47, &v48);
			PTUP v50;
			PTUP v51;
			PTUP v52 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v47, &v50, &v51);
			PTUP v53;
			PTUP v54;
			PTUP v55;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v50, v51, v52, v48, &v53, &v54, &v55);
			PTUP v56;
			PTUP v57;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v53, v54, v49, &v56, &v57);
			PTUP v58;
			PTUP v59;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(v56, v57, v48, v55, &v58, &v59);
			branch_ZPlusC99Branch_9 = v59;
			branch_ZPlusMirth_8 = v58;
		} break;
		default: {
			decref(MKTUP(v7));
			branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_8 = v6;
		} break;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_wordZ_enterZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	PTUP v7 = VTUP(((TUP*)PTRPTR(r6))->cells[0]);
	incref(MKTUP(v7));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(r6);
	bool v8 = value_bool(((TUP*)PTRPTR(v7))->cells[1]);
	decref(MKTUP(v7));
	uint64_t branch_Word_9;
	PTUP branch_ZPlusMirth_10;
	PTUP branch_ZPlusC99Branch_11;
	if (v8) {
		bool v12 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v14 = value_bool(((TUP*)PTRPTR(r13))->cells[3]);
		incref(MKBOOL(v14));
		bool v15 = (value_bool(MKBOOL(v12)) && value_bool(MKBOOL(v14)));
		((TUP*)PTRPTR(r13))->cells[3] = MKBOOL(v15);
		PTUP v16;
		PTUP v17;
		mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, r13, &v16, &v17);
		STR* v18;
		STRLIT(v18, "WORD_ENTER(", 11);
		PTUP v19;
		PTUP v20;
		mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
		PTUP v21;
		uint64_t v22 = mw_mirth_word_Word_name(v19, in_Word_3, &v21);
		PTUP v23;
		STR* v24 = mw_mirth_name_Name_ZToStr(v21, v22, &v23);
		PTUP v25;
		PTUP v26;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v23, v20, v24, &v25, &v26);
		STR* v27;
		STRLIT(v27, ", ", 2);
		PTUP v28;
		PTUP v29;
		mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
		PTUP v30;
		uint64_t v31 = mw_mirth_word_Word_body(v28, in_Word_3, &v30);
		PTUP v32;
		uint64_t v33 = mw_mirth_token_Token_module(v30, v31, &v32);
		PTUP v34;
		STR* v35 = mw_mirth_module_Module_sourceZ_path(v32, v33, &v34);
		PTUP v36;
		PTUP v37;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v34, v29, v35, &v36, &v37);
		STR* v38;
		STRLIT(v38, ", ", 2);
		PTUP v39;
		PTUP v40;
		mw_mirth_c99_ZPlusC99_put(v36, v37, v38, &v39, &v40);
		PTUP v41;
		uint64_t v42 = mw_mirth_word_Word_body(v39, in_Word_3, &v41);
		PTUP v43;
		INT v44 = mw_mirth_token_Token_row(v41, v42, &v43);
		INT v45 = mw_mirth_location_Row_ZToInt(v44);
		STR* v46 = int_to_str(v45);
		PTUP v47;
		PTUP v48;
		mw_mirth_c99_ZPlusC99_put(v43, v40, v46, &v47, &v48);
		STR* v49;
		STRLIT(v49, ", ", 2);
		PTUP v50;
		PTUP v51;
		mw_mirth_c99_ZPlusC99_put(v47, v48, v49, &v50, &v51);
		PTUP v52;
		uint64_t v53 = mw_mirth_word_Word_body(v50, in_Word_3, &v52);
		PTUP v54;
		INT v55 = mw_mirth_token_Token_col(v52, v53, &v54);
		INT v56 = mw_mirth_location_Col_ZToInt(v55);
		STR* v57 = int_to_str(v56);
		PTUP v58;
		PTUP v59;
		mw_mirth_c99_ZPlusC99_put(v54, v51, v57, &v58, &v59);
		STR* v60;
		STRLIT(v60, ");", 2);
		PTUP v61;
		PTUP v62;
		mw_mirth_c99_ZPlusC99_put(v58, v59, v60, &v61, &v62);
		PTUP v63;
		PTUP v64;
		mw_mirth_c99_ZPlusC99_line(v61, v62, &v63, &v64);
		((TUP*)PTRPTR(v64))->cells[3] = MKBOOL(value_bool(MKBOOL(v14)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v64);
		branch_ZPlusC99Branch_11 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_10 = v63;
		branch_Word_9 = in_Word_3;
	} else {
		branch_ZPlusC99Branch_11 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		branch_Word_9 = in_Word_3;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_c99_c99Z_wordZ_exitZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
	PTUP v7 = VTUP(((TUP*)PTRPTR(r6))->cells[0]);
	incref(MKTUP(v7));
	((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(r6);
	bool v8 = value_bool(((TUP*)PTRPTR(v7))->cells[1]);
	decref(MKTUP(v7));
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusC99Branch_10;
	if (v8) {
		bool v11 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[3]);
		PTUP r12 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		bool v13 = value_bool(((TUP*)PTRPTR(r12))->cells[3]);
		incref(MKBOOL(v13));
		bool v14 = (value_bool(MKBOOL(v11)) && value_bool(MKBOOL(v13)));
		((TUP*)PTRPTR(r12))->cells[3] = MKBOOL(v14);
		PTUP v15;
		PTUP v16;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(in_ZPlusMirth_1, r12, &v15, &v16);
		((TUP*)PTRPTR(v16))->cells[3] = MKBOOL(value_bool(MKBOOL(v13)));
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v16);
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = v15;
	} else {
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_c99Z_wordZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_word_Word_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP r16 = VTUP(((TUP*)PTRPTR(r13))->cells[4]);
		PTUP v17;
		PTUP v18;
		bool v19 = mw_mirth_word_Word_neededZAsk(r14, r16, v15, &v17, &v18);
		((TUP*)PTRPTR(r13))->cells[4] = MKTUP(v18);
		PTUP branch_ZPlusMirth_20;
		PTUP branch_ZPlusC99_21;
		if (v19) {
			PTUP v22;
			PTUP v23;
			mw_mirth_c99_c99Z_wordZ_defZBang(v17, r13, v15, &v22, &v23);
			branch_ZPlusC99_21 = v23;
			branch_ZPlusMirth_20 = v22;
		} else {
			branch_ZPlusC99_21 = r13;
			branch_ZPlusMirth_20 = v17;
		}
		uint64_t v24 = 1ULL;
		uint64_t v25 = (v15 + v24);
		void* v26 = mbuf_mirth_word_Word_NumBuffer;
		uint64_t v27 = *(uint64_t*)v26;
		bool v28 = (v25 <= v27);
		v12 = v28;
		v11 = v25;
		r10 = branch_ZPlusMirth_20;
		r9 = branch_ZPlusC99_21;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_wordZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Word_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7;
	PTUP v8 = mw_mirth_word_Word_c99Z_api(in_ZPlusMirth_1, in_ZPlusC99_2, in_Word_3, &v6, &v7);
	PTUP v9;
	PTUP v10;
	PTUP v11 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp96(v8, v6, v7, &v9, &v10);
	INT v12 = value_nat(((TUP*)PTRPTR(v10))->cells[1]);
	incref(MKNAT(v12));
	INT v13 = WRAP_I63(1LL);
	INT v14 = v12;
	INT v15 = v13;
	INT v16 = int_add(v14, v15);
	INT v17 = v16;
	INT v18 = value_nat(((TUP*)PTRPTR(v10))->cells[1]);
	decref(MKNAT(v18));
	((TUP*)PTRPTR(v10))->cells[1] = MKNAT(v17);
	incref(MKTUP(v11));
	PTUP v19;
	PTUP v20;
	mw_mirth_c99_c99Z_apiZ_enterZBang(v9, v10, v11, &v19, &v20);
	PTUP v21;
	PTUP v22;
	mw_mirth_c99_c99Z_wordZ_enterZBang(v19, v20, in_Word_3, &v21, &v22);
	PTUP v23;
	PTUP v24 = mw_mirth_word_Word_arrow(v21, in_Word_3, &v23);
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_c99Z_arrowZBang(v23, v22, v24, &v25, &v26);
	PTUP v27;
	PTUP v28;
	mw_mirth_c99_c99Z_wordZ_exitZBang(v25, v26, in_Word_3, &v27, &v28);
	PTUP v29;
	PTUP v30;
	mw_mirth_c99_c99Z_apiZ_exitZBang(v27, v28, v11, &v29, &v30);
	INT v31 = value_nat(((TUP*)PTRPTR(v30))->cells[1]);
	incref(MKNAT(v31));
	INT v32 = WRAP_I63(1LL);
	INT v33 = v31;
	INT v34 = v32;
	INT v35 = int_sub(v33, v34);
	incref(MKINT(v35));
	INT v36 = WRAP_I63(0LL);
	INT v37 = v36;
	bool v38 = int_le(v37, v35);
	INT branch_Nat_39;
	if (v38) {
		INT v40 = v35;
		branch_Nat_39 = v40;
	} else {
		decref(MKINT(v35));
		INT v41 = WRAP_I63(0LL);
		branch_Nat_39 = v41;
	}
	INT v42 = value_nat(((TUP*)PTRPTR(v30))->cells[1]);
	decref(MKNAT(v42));
	((TUP*)PTRPTR(v30))->cells[1] = MKNAT(branch_Nat_39);
	PTUP v43;
	PTUP v44;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v29, v30, &v43, &v44);
	*out_ZPlusC99_5 = v44;
	*out_ZPlusMirth_4 = v43;
}
static void mw_mirth_c99_c99Z_fieldZ_defsZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_table_Field_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	PTUP r9 = in_ZPlusC99_2;
	PTUP r10 = in_ZPlusMirth_1;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		PTUP r13 = r9;
		PTUP r14 = r10;
		uint64_t v15 = v11;
		PTUP v16;
		PTUP v17;
		mw_mirth_c99_c99Z_fieldZ_defZBang(r14, r13, v15, &v16, &v17);
		uint64_t v18 = 1ULL;
		uint64_t v19 = (v15 + v18);
		void* v20 = mbuf_mirth_table_Field_NumBuffer;
		uint64_t v21 = *(uint64_t*)v20;
		bool v22 = (v19 <= v21);
		v12 = v22;
		v11 = v19;
		r10 = v16;
		r9 = v17;
	}
	*out_ZPlusC99_4 = r9;
	*out_ZPlusMirth_3 = r10;
}
static void mw_mirth_c99_c99Z_fieldZ_defZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, uint64_t in_Field_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	STR* v8;
	STRLIT(v8, "static FIELD ", 13);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99_put(v6, v7, v8, &v9, &v10);
	PTUP v11;
	STR* v12 = mw_mirth_table_Field_cname(v9, in_Field_3, &v11);
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_ZPlusC99_put(v11, v10, v12, &v13, &v14);
	STR* v15;
	STRLIT(v15, " = {0};", 7);
	PTUP v16;
	PTUP v17;
	mw_mirth_c99_ZPlusC99_put(v13, v14, v15, &v16, &v17);
	PTUP v18;
	PTUP v19;
	mw_mirth_c99_ZPlusC99_line(v16, v17, &v18, &v19);
	*out_ZPlusC99_5 = v19;
	*out_ZPlusMirth_4 = v18;
}
static void mw_mirth_c99_c99Z_fieldZ_callZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, uint64_t in_Field_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6;
	PTUP v7 = mw_mirth_table_Field_indexZ_type(in_ZPlusMirth_1, in_Field_3, &v6);
	PTUP v8;
	PTUP v9;
	PTUP v10 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v7, &v8, &v9);
	incref(MKTUP(v10));
	PTUP v11;
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v8, v9, v10, &v11, &v12, &v13);
	PTUP v14 = PTRMK(18LL /* PTR */,0,0);
	incref(MKTUP(v14));
	PTUP v15;
	bool v16 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(v11, v14, &v15);
	PTUP branch_ZPlusC99Value_17;
	uint64_t branch_Field_18;
	PTUP branch_C99ReprType_19;
	bool branch_Bool_20;
	PTUP branch_ZPlusMirth_21;
	STR* branch_Str_22;
	PTUP branch_ZPlusC99Branch_23;
	if (v16) {
		PTUP r24 = VTUP(((TUP*)PTRPTR(v12))->cells[0]);
		PTUP v25;
		PTUP v26;
		STR* v27 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v15, r24, &v25, &v26);
		((TUP*)PTRPTR(v12))->cells[0] = MKTUP(v26);
		branch_ZPlusC99Branch_23 = v12;
		branch_Str_22 = v27;
		branch_ZPlusMirth_21 = v25;
		branch_Bool_20 = v16;
		branch_C99ReprType_19 = v14;
		branch_Field_18 = in_Field_3;
		branch_ZPlusC99Value_17 = v13;
	} else {
		STR* v28;
		STRLIT(v28, "0", 1);
		branch_ZPlusC99Branch_23 = v12;
		branch_Str_22 = v28;
		branch_ZPlusMirth_21 = v15;
		branch_Bool_20 = v16;
		branch_C99ReprType_19 = v14;
		branch_Field_18 = in_Field_3;
		branch_ZPlusC99Value_17 = v13;
	}
	bool v29 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_23))->cells[3]);
	bool v30 = (branch_Bool_20 && v29);
	PTUP r31 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_23))->cells[0]);
	bool v32 = value_bool(((TUP*)PTRPTR(r31))->cells[3]);
	incref(MKBOOL(v32));
	bool v33 = (value_bool(MKBOOL(v30)) && value_bool(MKBOOL(v32)));
	((TUP*)PTRPTR(r31))->cells[3] = MKBOOL(v33);
	PTUP v34;
	PTUP v35;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_21, r31, &v34, &v35);
	incref(MKTUP(branch_C99ReprType_19));
	PTUP v36;
	STR* v37 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v34, branch_C99ReprType_19, &v36);
	PTUP v38;
	PTUP v39;
	mw_mirth_c99_ZPlusC99_put(v36, v35, v37, &v38, &v39);
	STR* v40;
	STRLIT(v40, " ", 1);
	PTUP v41;
	PTUP v42;
	mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
	incref(MKSTR(branch_Str_22));
	PTUP v43;
	PTUP v44;
	mw_mirth_c99_ZPlusC99_put(v41, v42, branch_Str_22, &v43, &v44);
	STR* v45;
	STRLIT(v45, " = ", 3);
	PTUP v46;
	PTUP v47;
	mw_mirth_c99_ZPlusC99_put(v43, v44, v45, &v46, &v47);
	PTUP v48;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_19, branch_Str_22, &v48);
	STR* v49;
	STRLIT(v49, "field_mut(&", 11);
	PTUP v50;
	PTUP v51;
	mw_mirth_c99_ZPlusC99_put(v46, v47, v49, &v50, &v51);
	PTUP v52;
	STR* v53 = mw_mirth_table_Field_cname(v50, branch_Field_18, &v52);
	PTUP v54;
	PTUP v55;
	mw_mirth_c99_ZPlusC99_put(v52, v51, v53, &v54, &v55);
	STR* v56;
	STRLIT(v56, ", ", 2);
	PTUP v57;
	PTUP v58;
	mw_mirth_c99_ZPlusC99_put(v54, v55, v56, &v57, &v58);
	STR* v59 = mw_mirth_c99_ZPlusC99Value_consume(branch_ZPlusC99Value_17);
	PTUP v60;
	PTUP v61;
	mw_mirth_c99_ZPlusC99_put(v57, v58, v59, &v60, &v61);
	STR* v62;
	STRLIT(v62, ")", 1);
	PTUP v63;
	PTUP v64;
	mw_mirth_c99_ZPlusC99_put(v60, v61, v62, &v63, &v64);
	STR* v65;
	STRLIT(v65, ";", 1);
	PTUP v66;
	PTUP v67;
	mw_mirth_c99_ZPlusC99_put(v63, v64, v65, &v66, &v67);
	PTUP v68;
	PTUP v69;
	mw_mirth_c99_ZPlusC99_line(v66, v67, &v68, &v69);
	((TUP*)PTRPTR(v69))->cells[3] = MKBOOL(value_bool(MKBOOL(v32)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_23))->cells[0] = MKTUP(v69);
	PTUP v70;
	PTUP v71;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v68, branch_ZPlusC99Branch_23, v48, &v70, &v71);
	decref(MKTUP(v10));
	*out_ZPlusC99Branch_5 = v71;
	*out_ZPlusMirth_4 = v70;
}
static void mw_mirth_c99_c99Z_mainZBang (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP in_Arrow_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	PTUP v6;
	PTUP v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	STR* v8;
	STRLIT(v8, "int main (int argc, char** argv) {", 34);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99_put(v6, v7, v8, &v9, &v10);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_line(v9, v10, &v11, &v12);
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang(v11, v12, &v13, &v14);
	INT v15 = value_nat(((TUP*)PTRPTR(v14))->cells[1]);
	incref(MKNAT(v15));
	INT v16 = WRAP_I63(1LL);
	INT v17 = v15;
	INT v18 = v16;
	INT v19 = int_add(v17, v18);
	INT v20 = v19;
	INT v21 = value_nat(((TUP*)PTRPTR(v14))->cells[1]);
	decref(MKNAT(v21));
	((TUP*)PTRPTR(v14))->cells[1] = MKNAT(v20);
	PTUP v22;
	PTUP v23;
	mw_mirth_c99_ZPlusC99_indent(v13, v14, &v22, &v23);
	STR* v24;
	STRLIT(v24, "global_argc = argc;", 19);
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_ZPlusC99_put(v22, v23, v24, &v25, &v26);
	PTUP v27;
	PTUP v28;
	mw_mirth_c99_ZPlusC99_line(v25, v26, &v27, &v28);
	PTUP v29;
	PTUP v30;
	mw_mirth_c99_ZPlusC99_indent(v27, v28, &v29, &v30);
	STR* v31;
	STRLIT(v31, "global_argv = argv;", 19);
	PTUP v32;
	PTUP v33;
	mw_mirth_c99_ZPlusC99_put(v29, v30, v31, &v32, &v33);
	PTUP v34;
	PTUP v35;
	mw_mirth_c99_ZPlusC99_line(v32, v33, &v34, &v35);
	PTUP v36 = VTUP(((TUP*)PTRPTR(v35))->cells[0]);
	incref(MKTUP(v36));
	bool v37 = value_bool(((TUP*)PTRPTR(v36))->cells[1]);
	decref(MKTUP(v36));
	PTUP branch_Arrow_38;
	PTUP branch_ZPlusMirth_39;
	PTUP branch_ZPlusC99_40;
	if (v37) {
		PTUP v41;
		PTUP v42;
		mw_mirth_c99_ZPlusC99_indent(v34, v35, &v41, &v42);
		STR* v43;
		STRLIT(v43, "WORD_ENTER(", 11);
		PTUP v44;
		PTUP v45;
		mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
		STR* v46;
		STRLIT(v46, "\"<main>\", ", 10);
		PTUP v47;
		PTUP v48;
		mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
		incref(MKTUP(in_Arrow_3));
		uint64_t v49 = value_u64(((TUP*)PTRPTR(in_Arrow_3))->cells[1]);
		decref(MKTUP(in_Arrow_3));
		PTUP v50;
		uint64_t v51 = mw_mirth_token_Token_module(v47, v49, &v50);
		PTUP v52;
		STR* v53 = mw_mirth_module_Module_sourceZ_path(v50, v51, &v52);
		PTUP v54;
		PTUP v55;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v52, v48, v53, &v54, &v55);
		STR* v56;
		STRLIT(v56, ", ", 2);
		PTUP v57;
		PTUP v58;
		mw_mirth_c99_ZPlusC99_put(v54, v55, v56, &v57, &v58);
		incref(MKTUP(in_Arrow_3));
		uint64_t v59 = value_u64(((TUP*)PTRPTR(in_Arrow_3))->cells[1]);
		decref(MKTUP(in_Arrow_3));
		PTUP v60;
		INT v61 = mw_mirth_token_Token_row(v57, v59, &v60);
		INT v62 = mw_mirth_location_Row_ZToInt(v61);
		STR* v63 = int_to_str(v62);
		PTUP v64;
		PTUP v65;
		mw_mirth_c99_ZPlusC99_put(v60, v58, v63, &v64, &v65);
		STR* v66;
		STRLIT(v66, ", ", 2);
		PTUP v67;
		PTUP v68;
		mw_mirth_c99_ZPlusC99_put(v64, v65, v66, &v67, &v68);
		incref(MKTUP(in_Arrow_3));
		uint64_t v69 = value_u64(((TUP*)PTRPTR(in_Arrow_3))->cells[1]);
		decref(MKTUP(in_Arrow_3));
		PTUP v70;
		INT v71 = mw_mirth_token_Token_col(v67, v69, &v70);
		INT v72 = mw_mirth_location_Col_ZToInt(v71);
		STR* v73 = int_to_str(v72);
		PTUP v74;
		PTUP v75;
		mw_mirth_c99_ZPlusC99_put(v70, v68, v73, &v74, &v75);
		STR* v76;
		STRLIT(v76, ");", 2);
		PTUP v77;
		PTUP v78;
		mw_mirth_c99_ZPlusC99_put(v74, v75, v76, &v77, &v78);
		PTUP v79;
		PTUP v80;
		mw_mirth_c99_ZPlusC99_line(v77, v78, &v79, &v80);
		branch_ZPlusC99_40 = v80;
		branch_ZPlusMirth_39 = v79;
		branch_Arrow_38 = in_Arrow_3;
	} else {
		branch_ZPlusC99_40 = v35;
		branch_ZPlusMirth_39 = v34;
		branch_Arrow_38 = in_Arrow_3;
	}
	bool v81 = true;
	PTUP v82 = PTRMK(0LL /* Nil */,0,0);
	PTUP v83;
	PTUP v84;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(branch_ZPlusMirth_39, branch_ZPlusC99_40, v81, v82, &v83, &v84);
	PTUP v85 = PTRMK(0LL /* Void */,0,0);
	PTUP v86;
	PTUP v87;
	mw_mirth_c99_C99ReprType_pushZ_resourceZ_expressionZBang_1_sp2(v83, v84, v85, &v86, &v87);
	PTUP v88;
	PTUP v89;
	mw_mirth_c99_c99Z_arrowZBang(v86, v87, branch_Arrow_38, &v88, &v89);
	PTUP v90;
	PTUP v91;
	bool v92;
	PTUP v93;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v88, v89, &v90, &v91, &v92, &v93);
	PTUP v94 = VTUP(((TUP*)PTRPTR(v91))->cells[0]);
	incref(MKTUP(v94));
	bool v95 = value_bool(((TUP*)PTRPTR(v94))->cells[1]);
	decref(MKTUP(v94));
	PTUP branch_ZPlusMirth_96;
	PTUP branch_ZPlusC99_97;
	if (v95) {
		PTUP v98;
		PTUP v99;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(v90, v91, &v98, &v99);
		branch_ZPlusC99_97 = v99;
		branch_ZPlusMirth_96 = v98;
	} else {
		branch_ZPlusC99_97 = v91;
		branch_ZPlusMirth_96 = v90;
	}
	PTUP v100;
	PTUP v101;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_96, branch_ZPlusC99_97, &v100, &v101);
	STR* v102;
	STRLIT(v102, "return 0;", 9);
	PTUP v103;
	PTUP v104;
	mw_mirth_c99_ZPlusC99_put(v100, v101, v102, &v103, &v104);
	PTUP v105;
	PTUP v106;
	mw_mirth_c99_ZPlusC99_line(v103, v104, &v105, &v106);
	decref(MKTUP(v93));
	INT v107 = value_nat(((TUP*)PTRPTR(v106))->cells[1]);
	incref(MKNAT(v107));
	INT v108 = WRAP_I63(1LL);
	INT v109 = v107;
	INT v110 = v108;
	INT v111 = int_sub(v109, v110);
	incref(MKINT(v111));
	INT v112 = WRAP_I63(0LL);
	INT v113 = v112;
	bool v114 = int_le(v113, v111);
	INT branch_Nat_115;
	if (v114) {
		INT v116 = v111;
		branch_Nat_115 = v116;
	} else {
		decref(MKINT(v111));
		INT v117 = WRAP_I63(0LL);
		branch_Nat_115 = v117;
	}
	INT v118 = value_nat(((TUP*)PTRPTR(v106))->cells[1]);
	decref(MKNAT(v118));
	((TUP*)PTRPTR(v106))->cells[1] = MKNAT(branch_Nat_115);
	PTUP v119;
	PTUP v120;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v105, v106, &v119, &v120);
	*out_ZPlusC99_5 = v120;
	*out_ZPlusMirth_4 = v119;
}
static void mw_mirth_main_main (void) {
	PTUP v3 = mw_mirth_options_parseZ_optionsZBang();
	bool branch_Bool_4;
	switch (PTREXTRA(v3)) {
		case 1LL: { // Ok
			VAL v5 = mtp_std_result_Result_2_Ok(v3);
			PTUP v6;
			mw_mirth_mirth_ZPlusMirth_InitZBang(&v6);
			PTUP v7;
			mw_mirth_main_compileZBang(v6, VTUP(v5), &v7);
			INT v8 = value_nat(((TUP*)PTRPTR(v7))->cells[0]);
			incref(MKNAT(v8));
			INT v9 = WRAP_I63(0LL);
			INT v10 = v8;
			INT v11 = v9;
			bool v12 = int_lt(v11, v10);
			mw_mirth_mirth_ZPlusMirth_quitZBang(v7);
			branch_Bool_4 = v12;
		} break;
		case 0LL: { // Err
			VAL v13 = mtp_std_result_Result_2_Err(v3);
			STR* v14;
			STRLIT(v14, "", 0);
			VAL v15 = ((TUP*)PTRPTR(value_tup(v13)))->cells[0];
			VAL v16 = ((TUP*)PTRPTR(value_tup(v13)))->cells[1];
			tup_decref_outer(value_tup(v13));
			STR* v17;
			mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v16), v14, &v17);
			STR* v18;
			mw_argZ_parser_types_ArgumentParsingError_emitZThen(VTUP(v15), v17, &v18);
			STR* v19;
			STRLIT(v19, "\n", 1);
			STR* v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(v19, v18, &v20);
			mw_std_prim_ZPlusWorld_traceZ_(v20);
			bool v21 = true;
			branch_Bool_4 = v21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	if (branch_Bool_4) {
		INT v22 = WRAP_I63(1LL);
		int64_t v23 = int_to_i64(v22);
		mext_std_prim_ZPlusWorld_rawZ_posixZ_exitZBang(v23);
	} else {
	}
}
static void mw_mirth_main_compileZBang (PTUP in_ZPlusMirth_1, PTUP in_Options_2, PTUP *out_ZPlusMirth_3) {
	STR* v6;
	PTUP v7;
	PTUP v8;
	PTUP v9;
	PTUP v10;
	bool v11;
	mtp_mirth_options_Options_Options(in_Options_2, &v6, &v7, &v8, &v9, &v10, &v11);
	incref(MKTUP(v10));
	bool v12 = mw_std_list_List_1_emptyZAsk(v10);
	PTUP branch_ZPlusMirth_13;
	PTUP branch_List_14;
	if (v12) {
		decref(MKTUP(v10));
		STR* v15;
		STRLIT(v15, "lib", 3);
		PTUP v16;
		PTUP v17 = mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path(in_ZPlusMirth_1, &v16);
		PTUP v18 = mw_std_maybe_Maybe_1_ZToList(v17);
		PTUP v19 = mw_std_list_List_1_cons(MKSTR(v15), v18);
		branch_List_14 = v19;
		branch_ZPlusMirth_13 = v16;
	} else {
		branch_List_14 = v10;
		branch_ZPlusMirth_13 = in_ZPlusMirth_1;
	}
	PTUP v20 = VTUP(((TUP*)PTRPTR(branch_ZPlusMirth_13))->cells[4]);
	decref(MKTUP(v20));
	((TUP*)PTRPTR(branch_ZPlusMirth_13))->cells[4] = MKTUP(branch_List_14);
	STR* v21;
	STRLIT(v21, "", 0);
	STR* v22;
	STRLIT(v22, "Compiling ", 10);
	STR* v23;
	mw_std_str_ZPlusStr_pushZ_strZBang(v22, v21, &v23);
	incref(MKSTR(v6));
	STR* v24;
	mw_std_path_Path_pathZThen(v6, v23, &v24);
	STR* v25;
	STRLIT(v25, "\n", 1);
	STR* v26;
	mw_std_str_ZPlusStr_pushZ_strZBang(v25, v24, &v26);
	mw_std_prim_ZPlusWorld_traceZ_(v26);
	bool v27 = true;
	PTUP r28 = branch_ZPlusMirth_13;
	PTUP v29 = v9;
	bool v30 = v27;
	bool v31 = v27;
	while (v31) {
		PTUP r32 = r28;
		PTUP v33 = v29;
		bool v34 = v30;
		PTUP branch_ZPlusMirth_35;
		PTUP branch_List_36;
		bool branch_Bool_37;
		switch (PTREXTRA(v33)) {
			case 1LL: { // Cons
				PTUP v38;
				VAL v39 = mtp_std_list_List_1_Cons(v33, &v38);
				VAL v40 = ((TUP*)PTRPTR(value_tup(v39)))->cells[0];
				VAL v41 = ((TUP*)PTRPTR(value_tup(v39)))->cells[1];
				tup_decref_outer(value_tup(v39));
				PTUP v42;
				uint64_t v43 = mw_mirth_name_Name_Name(r32, value_str(v40), &v42);
				PTUP v44;
				uint64_t v45 = mw_mirth_package_Package_NewZ_OrZ_PathZBang(v42, value_str(v41), v43, &v44);
				bool v46 = true;
				branch_Bool_37 = v46;
				branch_List_36 = v38;
				branch_ZPlusMirth_35 = v44;
			} break;
			case 0LL: { // Nil
				PTUP v47 = PTRMK(0LL /* Nil */,0,0);
				bool v48 = false;
				branch_Bool_37 = v48;
				branch_List_36 = v47;
				branch_ZPlusMirth_35 = r32;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v31 = branch_Bool_37;
		v30 = branch_Bool_37;
		v29 = branch_List_36;
		r28 = branch_ZPlusMirth_35;
	}
	decref(MKTUP(v29));
	PTUP v49;
	uint64_t v50 = mw_mirth_mirth_ZPlusMirth_runZ_lexerZBang(r28, v6, &v49);
	STR* v51;
	STRLIT(v51, "", 0);
	STR* v52;
	STRLIT(v52, "Building.", 9);
	STR* v53;
	mw_std_str_ZPlusStr_pushZ_strZBang(v52, v51, &v53);
	STR* v54;
	STRLIT(v54, "\n", 1);
	STR* v55;
	mw_std_str_ZPlusStr_pushZ_strZBang(v54, v53, &v55);
	mw_std_prim_ZPlusWorld_traceZ_(v55);
	PTUP v56;
	uint64_t v57 = mw_mirth_elab_elabZ_moduleZBang(v49, v50, &v56);
	PTUP v58;
	mw_mirth_elab_typecheckZ_everythingZBang(v56, &v58);
	uint64_t branch_Module_59;
	PTUP branch_ZPlusMirth_60;
	PTUP branch_Maybe_61;
	switch (PTREXTRA(v8)) {
		case 1LL: { // Some
			VAL v62 = mtp_std_maybe_Maybe_1_Some(v8);
			PTUP v63 = mtw_mirth_name_Namespace_Module(v57);
			PTUP v64;
			uint64_t v65 = mw_mirth_name_Name_Name(v58, value_str(v62), &v64);
			INT v66 = WRAP_I63(0LL);
			PTUP v67 = mw_mirth_name_QName_Mk(v63, v65, v66);
			PTUP v68;
			PTUP v69 = mw_mirth_elab_elabZ_entryZ_point(v64, v67, &v68);
			PTUP v70 = mtw_std_maybe_Maybe_1_Some(MKTUP(v69));
			branch_Maybe_61 = v70;
			branch_ZPlusMirth_60 = v68;
			branch_Module_59 = v57;
		} break;
		case 0LL: { // None
			PTUP v71 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_61 = v71;
			branch_ZPlusMirth_60 = v58;
			branch_Module_59 = v57;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Module_59));
	PTUP v72;
	mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang(branch_ZPlusMirth_60, &v72);
	INT v73 = value_nat(((TUP*)PTRPTR(v72))->cells[0]);
	incref(MKNAT(v73));
	INT v74 = WRAP_I63(0LL);
	INT v75 = v73;
	INT v76 = v74;
	bool v77 = int_lt(v76, v75);
	PTUP branch_Maybe_78;
	bool branch_Bool_79;
	PTUP branch_ZPlusMirth_80;
	if (v77) {
		INT v81 = value_nat(((TUP*)PTRPTR(v72))->cells[0]);
		incref(MKNAT(v81));
		STR* v82;
		STRLIT(v82, "", 0);
		PTUP v83 = PTRMK(31LL /* FGRed */,0,0);
		STR* v84;
		mw_std_terminal_Sgr_emitZThen(v83, v82, &v84);
		INT v85 = v81;
		STR* v86 = int_to_str(v85);
		STR* v87;
		mw_std_str_ZPlusStr_pushZ_strZBang(v86, v84, &v87);
		STR* v88;
		STRLIT(v88, " errors.", 8);
		STR* v89;
		mw_std_str_ZPlusStr_pushZ_strZBang(v88, v87, &v89);
		PTUP v90 = PTRMK(0LL /* Reset */,0,0);
		STR* v91;
		mw_std_terminal_Sgr_emitZThen(v90, v89, &v91);
		STR* v92;
		STRLIT(v92, "\n", 1);
		STR* v93;
		mw_std_str_ZPlusStr_pushZ_strZBang(v92, v91, &v93);
		mw_std_prim_ZPlusWorld_traceZ_(v93);
		decref(MKTUP(VTUP(MKTUP(branch_Maybe_61))));
		branch_ZPlusMirth_80 = v72;
		branch_Bool_79 = v11;
		branch_Maybe_78 = v7;
	} else {
		STR* v94;
		STRLIT(v94, "", 0);
		PTUP v95 = PTRMK(32LL /* FGGreen */,0,0);
		STR* v96;
		mw_std_terminal_Sgr_emitZThen(v95, v94, &v96);
		STR* v97;
		STRLIT(v97, "No errors.", 10);
		STR* v98;
		mw_std_str_ZPlusStr_pushZ_strZBang(v97, v96, &v98);
		PTUP v99 = PTRMK(0LL /* Reset */,0,0);
		STR* v100;
		mw_std_terminal_Sgr_emitZThen(v99, v98, &v100);
		STR* v101;
		STRLIT(v101, "\n", 1);
		STR* v102;
		mw_std_str_ZPlusStr_pushZ_strZBang(v101, v100, &v102);
		mw_std_prim_ZPlusWorld_traceZ_(v102);
		PTUP branch_Maybe_103;
		bool branch_Bool_104;
		PTUP branch_ZPlusMirth_105;
		switch (PTREXTRA(VTUP(MKTUP(branch_Maybe_61)))) {
			case 1LL: { // Some
				VAL v106 = mtp_std_maybe_Maybe_1_Some(VTUP(MKTUP(branch_Maybe_61)));
				STR* v107;
				STRLIT(v107, "Running specializer.", 20);
				mw_std_prim_ZPlusWorld_trace(v107);
				PTUP v108;
				PTUP v109 = mw_mirth_specializzer_runZ_specializzerZBang(v72, VTUP(v106), &v108);
				INT v110 = value_nat(((TUP*)PTRPTR(v108))->cells[0]);
				incref(MKNAT(v110));
				INT v111 = WRAP_I63(0LL);
				INT v112 = v110;
				INT v113 = v111;
				bool v114 = int_lt(v113, v112);
				PTUP branch_Maybe_115;
				bool branch_Bool_116;
				PTUP branch_ZPlusMirth_117;
				if (v114) {
					PTUP v118;
					mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang(v108, &v118);
					INT v119 = value_nat(((TUP*)PTRPTR(v118))->cells[0]);
					incref(MKNAT(v119));
					STR* v120;
					STRLIT(v120, "", 0);
					PTUP v121 = PTRMK(31LL /* FGRed */,0,0);
					STR* v122;
					mw_std_terminal_Sgr_emitZThen(v121, v120, &v122);
					INT v123 = v119;
					STR* v124 = int_to_str(v123);
					STR* v125;
					mw_std_str_ZPlusStr_pushZ_strZBang(v124, v122, &v125);
					STR* v126;
					STRLIT(v126, " errors during specializer.", 27);
					STR* v127;
					mw_std_str_ZPlusStr_pushZ_strZBang(v126, v125, &v127);
					PTUP v128 = PTRMK(0LL /* Reset */,0,0);
					STR* v129;
					mw_std_terminal_Sgr_emitZThen(v128, v127, &v129);
					STR* v130;
					STRLIT(v130, "\n", 1);
					STR* v131;
					mw_std_str_ZPlusStr_pushZ_strZBang(v130, v129, &v131);
					mw_std_prim_ZPlusWorld_traceZ_(v131);
					decref(MKTUP(v109));
					branch_ZPlusMirth_117 = v118;
					branch_Bool_116 = v11;
					branch_Maybe_115 = v7;
				} else {
					incref(MKTUP(v7));
					bool branch_Bool_132;
					PTUP branch_ZPlusMirth_133;
					switch (PTREXTRA(v7)) {
						case 1LL: { // Some
							VAL v134 = mtp_std_maybe_Maybe_1_Some(v7);
							STR* v135;
							STRLIT(v135, "Running codegen.", 16);
							mw_std_prim_ZPlusWorld_trace(v135);
							PTUP v136 = mtw_mirth_c99_C99z_Options_C99z_Options(value_str(v134), v11);
							PTUP v137;
							mw_mirth_c99_runZ_outputZ_c99ZBang(v108, v109, v136, &v137);
							branch_ZPlusMirth_133 = v137;
							branch_Bool_132 = v11;
						} break;
						case 0LL: { // None
							decref(MKTUP(v109));
							STR* v138;
							STRLIT(v138, "No output file, skipping codegen.", 33);
							mw_std_prim_ZPlusWorld_trace(v138);
							branch_ZPlusMirth_133 = v108;
							branch_Bool_132 = v11;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusMirth_117 = branch_ZPlusMirth_133;
					branch_Bool_116 = branch_Bool_132;
					branch_Maybe_115 = v7;
				}
				branch_ZPlusMirth_105 = branch_ZPlusMirth_117;
				branch_Bool_104 = branch_Bool_116;
				branch_Maybe_103 = branch_Maybe_115;
			} break;
			case 0LL: { // None
				STR* v139;
				STRLIT(v139, "No entry point, skipping Codegen.", 33);
				mw_std_prim_ZPlusWorld_trace(v139);
				branch_ZPlusMirth_105 = v72;
				branch_Bool_104 = v11;
				branch_Maybe_103 = v7;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusMirth_80 = branch_ZPlusMirth_105;
		branch_Bool_79 = branch_Bool_104;
		branch_Maybe_78 = branch_Maybe_103;
	}
	decref(MKTUP(branch_Maybe_78));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_80;
}
static int64_t mw_std_prelude_unsafe_1_sp1 (void) {
	int64_t v2 = mext_std_prelude_ZPlusUnsafe_posixZ_errnoZBang();
	return v2;
}
static PTUP mw_std_prelude_unsafe_1_sp2 (PTUP in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, PTUP *out_ZPlusFile_4) {
	PTUP v6;
	PTUP v7 = mw_std_file_ZPlusFile_writeZ_bytesZBang(in_ZPlusFile_1, in_Ptr_2, in_Sizze_3, &v6);
	*out_ZPlusFile_4 = v6;
	return v7;
}
static STR* mw_std_prelude_unsafe_1_sp3 (void* in_Ptr_1, INT in_Sizze_2) {
	uint64_t v4 = int_to_u64(in_Sizze_2);
	STR* v5 = str_make(in_Ptr_1, v4);
	return v5;
}
static void* mw_std_prelude_unsafe_1_sp5 (INT in_Offset_1, void* in_Ptr_2) {
	int64_t v4 = int_to_i64(in_Offset_1);
	void* v5 = (void*)(v4 + (char*)in_Ptr_2);
	return v5;
}
static PTUP mw_std_list_List_1_for_1_sp5 (PTUP in_List_1, PTUP in_List_2) {
	bool v4 = true;
	PTUP v5 = in_List_1;
	PTUP v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		PTUP v9 = v5;
		PTUP v10 = v6;
		bool v11 = v7;
		PTUP branch_List_12;
		PTUP branch_List_13;
		bool branch_Bool_14;
		switch (PTREXTRA(v10)) {
			case 1LL: { // Cons
				PTUP v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				PTUP v17 = mw_std_list_List_1_cons(v16, v9);
				bool v18 = true;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_List_12 = v17;
			} break;
			case 0LL: { // Nil
				PTUP v19 = PTRMK(0LL /* Nil */,0,0);
				bool v20 = false;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_List_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_List_12;
	}
	decref(MKTUP(v6));
	return v5;
}
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	PTUP v5;
	PTUP v6;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v5, &v6);
	STR* v7;
	STRLIT(v7, "}", 1);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99_put(v5, v6, v7, &v8, &v9);
	PTUP v10;
	PTUP v11;
	mw_mirth_c99_ZPlusC99_line(v8, v9, &v10, &v11);
	*out_ZPlusC99_4 = v11;
	*out_ZPlusMirth_3 = v10;
}
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99_4) {
	PTUP v5;
	PTUP v6;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v5, &v6);
	STR* v7;
	STRLIT(v7, "WORD_EXIT;", 10);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99_put(v5, v6, v7, &v8, &v9);
	PTUP v10;
	PTUP v11;
	mw_mirth_c99_ZPlusC99_line(v8, v9, &v10, &v11);
	*out_ZPlusC99_4 = v11;
	*out_ZPlusMirth_3 = v10;
}
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1 (STR* in_Str_1, uint64_t in_Label_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99Branch_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	bool v7 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_4))->cells[3]);
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_4))->cells[0]);
	bool v9 = value_bool(((TUP*)PTRPTR(r8))->cells[3]);
	incref(MKBOOL(v9));
	bool v10 = (value_bool(MKBOOL(v7)) && value_bool(MKBOOL(v9)));
	((TUP*)PTRPTR(r8))->cells[3] = MKBOOL(v10);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_3, r8, &v11, &v12);
	STR* v13;
	STRLIT(v13, "lpush(&lbl_", 11);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	PTUP v16;
	uint64_t v17 = mw_mirth_label_Label_name(v14, in_Label_2, &v16);
	PTUP v18;
	STR* v19 = mw_mirth_name_Name_mangled(v16, v17, &v18);
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v18, v15, v19, &v20, &v21);
	STR* v22;
	STRLIT(v22, ", ", 2);
	PTUP v23;
	PTUP v24;
	mw_mirth_c99_ZPlusC99_put(v20, v21, v22, &v23, &v24);
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_ZPlusC99_put(v23, v24, in_Str_1, &v25, &v26);
	STR* v27;
	STRLIT(v27, ");", 2);
	PTUP v28;
	PTUP v29;
	mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
	PTUP v30;
	PTUP v31;
	mw_mirth_c99_ZPlusC99_line(v28, v29, &v30, &v31);
	((TUP*)PTRPTR(v31))->cells[3] = MKBOOL(value_bool(MKBOOL(v9)));
	((TUP*)PTRPTR(in_ZPlusC99Branch_4))->cells[0] = MKTUP(v31);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_4;
	*out_ZPlusMirth_5 = v30;
}
static int64_t mw_std_prelude_unsafe_1_sp9 (void* in_Ptr_1) {
	uint8_t v3 = *(uint8_t*)in_Ptr_1;
	uint64_t v4 = (uint64_t)(v3);
	INT v5 = u64_to_int(v4);
	int64_t v6 = int_to_i64(v5);
	return v6;
}
static STR* mw_std_prim_Str_Str_1_sp8 (STR* in_Str_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	STR* v4;
	STRLIT(v4, "MKI64(", 6);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, v3, &v5);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v5, &v6);
	STR* v7;
	STRLIT(v7, ")", 1);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	return v8;
}
static STR* mw_std_prim_Str_Str_1_sp12 (STR* in_Str_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	STR* v4;
	STRLIT(v4, "MKU64(", 6);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, v3, &v5);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v5, &v6);
	STR* v7;
	STRLIT(v7, ")", 1);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	return v8;
}
static STR* mw_std_prim_Str_Str_1_sp22 (STR* in_Str_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	STR* v4;
	STRLIT(v4, "MKTUP(", 6);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, v3, &v5);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v5, &v6);
	STR* v7;
	STRLIT(v7, ")", 1);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	return v8;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp2 (PTUP in_Maybe_1) {
	VAL branch_z_x1_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			branch_z_x1_3 = v4;
		} break;
		case 0LL: { // None
			mw_std_prelude_impossibleZBang();
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_z_x1_3;
}
static void mw_std_maybe_Maybe_1_locationZAskZThen_sp1 (PTUP in_ZPlusMirth_1, STR* in_ZPlusStr_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	PTUP branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			PTUP v9;
			STR* v10;
			mw_mirth_token_Token_locationZThen(in_ZPlusMirth_1, in_ZPlusStr_2, value_u64(v8), &v9, &v10);
			branch_ZPlusStr_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "???", 3);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v11, in_ZPlusStr_2, &v12);
			branch_ZPlusStr_7 = v12;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_std_maybe_Maybe_1_for_1_sp2 (PTUP in_ZPlusLister_1, PTUP in_Maybe_2, PTUP *out_ZPlusLister_3) {
	PTUP branch_ZPlusLister_4;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			PTUP v6;
			mw_std_list_ZPlusLister_1_pushZBang(v5, in_ZPlusLister_1, &v6);
			branch_ZPlusLister_4 = v6;
		} break;
		case 0LL: { // None
			branch_ZPlusLister_4 = in_ZPlusLister_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLister_3 = branch_ZPlusLister_4;
}
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp2 (uint64_t in_Label_1, uint64_t in_Tag_2, STR* in_Str_3, PTUP in_C99ReprType_4, PTUP in_ZPlusMirth_5, PTUP in_ZPlusC99_6, STR* *out_Str_7, uint64_t *out_Tag_8, uint64_t *out_Label_9, PTUP *out_ZPlusMirth_10, PTUP *out_ZPlusC99_11) {
	PTUP v12;
	STR* v13;
	STR* v14 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_ZPlusMirth_5, in_C99ReprType_4, &v12, &v13);
	PTUP v15;
	PTUP v16;
	mw_mirth_c99_ZPlusC99_put(v12, in_ZPlusC99_6, v14, &v15, &v16);
	STR* v17;
	STRLIT(v17, "((TUP*)PTRPTR(", 14);
	PTUP v18;
	PTUP v19;
	mw_mirth_c99_ZPlusC99_put(v15, v16, v17, &v18, &v19);
	incref(MKSTR(in_Str_3));
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v18, v19, in_Str_3, &v20, &v21);
	STR* v22;
	STRLIT(v22, "))->cells[", 10);
	PTUP v23;
	PTUP v24;
	mw_mirth_c99_ZPlusC99_put(v20, v21, v22, &v23, &v24);
	PTUP v25;
	PTUP v26;
	INT v27 = mw_mirth_c99_c99Z_tagZ_labelZ_index(v23, v24, in_Tag_2, in_Label_1, &v25, &v26);
	INT v28 = v27;
	STR* v29 = int_to_str(v28);
	PTUP v30;
	PTUP v31;
	mw_mirth_c99_ZPlusC99_put(v25, v26, v29, &v30, &v31);
	STR* v32;
	STRLIT(v32, "]", 1);
	PTUP v33;
	PTUP v34;
	mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
	PTUP v35;
	PTUP v36;
	mw_mirth_c99_ZPlusC99_put(v33, v34, v13, &v35, &v36);
	*out_ZPlusC99_11 = v36;
	*out_ZPlusMirth_10 = v35;
	*out_Label_9 = in_Label_1;
	*out_Tag_8 = in_Tag_2;
	*out_Str_7 = in_Str_3;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusfor_2_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_ZPlusC99ValueZDivResource_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP branch_ZPlusMirth_6;
	PTUP branch_ZPlusC99Branch_7;
	switch (PTREXTRA(in_ZPlusC99ValueZDivResource_3)) {
		case 0LL: { // +Left
			VAL v8;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_3, &v8);
			PTUP v9;
			PTUP v10;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, VTUP(v8), &v9, &v10);
			branch_ZPlusC99Branch_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // +Right
			VAL v11;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_3, &v11);
			PTUP v12;
			PTUP v13;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, VTUP(v11), &v12, &v13);
			branch_ZPlusC99Branch_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_C99ReprType_pushZ_resourceZ_expressionZBang_1_sp2 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99ReprType_3));
	PTUP v6;
	bool v7 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99ReprType_3, &v6);
	PTUP branch_C99ReprType_8;
	bool branch_Bool_9;
	PTUP branch_ZPlusMirth_10;
	STR* branch_Str_11;
	PTUP branch_ZPlusC99Branch_12;
	if (v7) {
		PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v14;
		PTUP v15;
		STR* v16 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v6, r13, &v14, &v15);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v15);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = v16;
		branch_ZPlusMirth_10 = v14;
		branch_Bool_9 = v7;
		branch_C99ReprType_8 = in_C99ReprType_3;
	} else {
		STR* v17;
		STRLIT(v17, "0", 1);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = v17;
		branch_ZPlusMirth_10 = v6;
		branch_Bool_9 = v7;
		branch_C99ReprType_8 = in_C99ReprType_3;
	}
	bool v18 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_12))->cells[3]);
	bool v19 = (branch_Bool_9 && v18);
	PTUP r20 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_12))->cells[0]);
	bool v21 = value_bool(((TUP*)PTRPTR(r20))->cells[3]);
	incref(MKBOOL(v21));
	bool v22 = (value_bool(MKBOOL(v19)) && value_bool(MKBOOL(v21)));
	((TUP*)PTRPTR(r20))->cells[3] = MKBOOL(v22);
	PTUP v23;
	PTUP v24;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_10, r20, &v23, &v24);
	incref(MKTUP(branch_C99ReprType_8));
	PTUP v25;
	STR* v26 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v23, branch_C99ReprType_8, &v25);
	PTUP v27;
	PTUP v28;
	mw_mirth_c99_ZPlusC99_put(v25, v24, v26, &v27, &v28);
	STR* v29;
	STRLIT(v29, " ", 1);
	PTUP v30;
	PTUP v31;
	mw_mirth_c99_ZPlusC99_put(v27, v28, v29, &v30, &v31);
	incref(MKSTR(branch_Str_11));
	PTUP v32;
	PTUP v33;
	mw_mirth_c99_ZPlusC99_put(v30, v31, branch_Str_11, &v32, &v33);
	STR* v34;
	STRLIT(v34, " = ", 3);
	PTUP v35;
	PTUP v36;
	mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
	PTUP v37;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_8, branch_Str_11, &v37);
	STR* v38;
	STRLIT(v38, "0", 1);
	PTUP v39;
	PTUP v40;
	mw_mirth_c99_ZPlusC99_put(v35, v36, v38, &v39, &v40);
	STR* v41;
	STRLIT(v41, ";", 1);
	PTUP v42;
	PTUP v43;
	mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
	PTUP v44;
	PTUP v45;
	mw_mirth_c99_ZPlusC99_line(v42, v43, &v44, &v45);
	((TUP*)PTRPTR(v45))->cells[3] = MKBOOL(value_bool(MKBOOL(v21)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_12))->cells[0] = MKTUP(v45);
	PTUP v46;
	PTUP v47;
	mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v44, branch_ZPlusC99Branch_12, v37, &v46, &v47);
	*out_ZPlusC99Branch_5 = v47;
	*out_ZPlusMirth_4 = v46;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp4 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	VAL branch_z_x1_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			branch_z_x1_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v8;
			STRLIT(v8, "c99 error: tried to pop from invalid stack type", 47);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v8);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_z_x1_6;
}
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp9 (uint64_t in_Label_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusC99Branch_3, uint64_t *out_Label_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	bool v7 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[3]);
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[0]);
	bool v9 = value_bool(((TUP*)PTRPTR(r8))->cells[3]);
	incref(MKBOOL(v9));
	bool v10 = (value_bool(MKBOOL(v7)) && value_bool(MKBOOL(v9)));
	((TUP*)PTRPTR(r8))->cells[3] = MKBOOL(v10);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_2, r8, &v11, &v12);
	STR* v13;
	STRLIT(v13, "lpop(&lbl_", 10);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	PTUP v16;
	uint64_t v17 = mw_mirth_label_Label_name(v14, in_Label_1, &v16);
	PTUP v18;
	STR* v19 = mw_mirth_name_Name_mangled(v16, v17, &v18);
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v18, v15, v19, &v20, &v21);
	STR* v22;
	STRLIT(v22, ");", 2);
	PTUP v23;
	PTUP v24;
	mw_mirth_c99_ZPlusC99_put(v20, v21, v22, &v23, &v24);
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_ZPlusC99_line(v23, v24, &v25, &v26);
	((TUP*)PTRPTR(v26))->cells[3] = MKBOOL(value_bool(MKBOOL(v9)));
	((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[0] = MKTUP(v26);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_3;
	*out_ZPlusMirth_5 = v25;
	*out_Label_4 = in_Label_1;
}
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp4 (uint64_t in_Label_1, PTUP in_C99ReprType_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99_4, uint64_t *out_Label_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99_7) {
	PTUP v8;
	STR* v9;
	STR* v10 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_ZPlusMirth_3, in_C99ReprType_2, &v8, &v9);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_put(v8, in_ZPlusC99_4, v10, &v11, &v12);
	STR* v13;
	STRLIT(v13, "lpop(&lbl_", 10);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	PTUP v16;
	uint64_t v17 = mw_mirth_label_Label_name(v14, in_Label_1, &v16);
	PTUP v18;
	STR* v19 = mw_mirth_name_Name_mangled(v16, v17, &v18);
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v18, v15, v19, &v20, &v21);
	STR* v22;
	STRLIT(v22, ")", 1);
	PTUP v23;
	PTUP v24;
	mw_mirth_c99_ZPlusC99_put(v20, v21, v22, &v23, &v24);
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_ZPlusC99_put(v23, v24, v9, &v25, &v26);
	*out_ZPlusC99_7 = v26;
	*out_ZPlusMirth_6 = v25;
	*out_Label_5 = in_Label_1;
}
static PTUP mw_std_maybe_Maybe_1_map_1_sp4 (PTUP in_Resource_1, PTUP in_Maybe_2, PTUP *out_Maybe_4) {
	PTUP branch_Resource_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v8 = ((TUP*)PTRPTR(value_tup(v7)))->cells[0];
			VAL v9 = ((TUP*)PTRPTR(value_tup(v7)))->cells[1];
			tup_decref_outer(value_tup(v7));
			incref(MKTUP(in_Resource_1));
			PTUP v10 = mtw_mirth_type_StackType_With(VTUP(MKTUP(VTUP(v8))), VTUP(MKTUP(in_Resource_1)));
			PTUP r11 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r11))->size = 2;
			((TUP*)PTRPTR(r11))->cells[1] = v9;
			((TUP*)PTRPTR(r11))->cells[0] = MKTUP(v10);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(r11));
			branch_Maybe_6 = v12;
			branch_Resource_5 = VTUP(MKTUP(in_Resource_1));
		} break;
		case 0LL: { // None
			PTUP v13 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v13;
			branch_Resource_5 = in_Resource_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Resource_5;
}
static PTUP mw_std_maybe_Maybe_1_map_1_sp5 (PTUP in_Type_1, PTUP in_Maybe_2, PTUP *out_Maybe_4) {
	PTUP branch_Type_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v8 = ((TUP*)PTRPTR(value_tup(v7)))->cells[0];
			VAL v9 = ((TUP*)PTRPTR(value_tup(v7)))->cells[1];
			tup_decref_outer(value_tup(v7));
			incref(MKTUP(in_Type_1));
			PTUP v10 = mtw_mirth_type_StackType_Cons(VTUP(MKTUP(VTUP(v8))), VTUP(MKTUP(in_Type_1)));
			PTUP r11 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r11))->size = 2;
			((TUP*)PTRPTR(r11))->cells[1] = v9;
			((TUP*)PTRPTR(r11))->cells[0] = MKTUP(v10);
			PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(r11));
			branch_Maybe_6 = v12;
			branch_Type_5 = VTUP(MKTUP(in_Type_1));
		} break;
		case 0LL: { // None
			PTUP v13 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v13;
			branch_Type_5 = in_Type_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Type_5;
}
static PTUP mw_std_list_List_1_filter_1_sp3 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_5) {
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	PTUP r10 = in_ZPlusMirth_1;
	VAL r11 = in_z_x1_2;
	PTUP r12 = v8;
	PTUP v13 = in_List_3;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		PTUP r16 = r10;
		VAL r17 = r11;
		PTUP r18 = r12;
		PTUP v19 = v13;
		bool v20 = v14;
		PTUP branch_ZPlusMirth_21;
		VAL branch_z_x1_22;
		PTUP branch_ZPlusLister_23;
		PTUP branch_List_24;
		bool branch_Bool_25;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Cons
				PTUP v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				PTUP v28;
				bool v29 = mw_mirth_var_Var_isZ_physicalZAsk(r16, value_u64(v27), &v28);
				PTUP branch_ZPlusMirth_30;
				VAL branch_z_x1_31;
				PTUP branch_ZPlusLister_32;
				if (v29) {
					PTUP v33;
					mw_std_list_ZPlusLister_1_pushZBang(MKU64(value_u64(v27)), r18, &v33);
					branch_ZPlusLister_32 = v33;
					branch_z_x1_31 = r17;
					branch_ZPlusMirth_30 = v28;
				} else {
					branch_ZPlusLister_32 = r18;
					branch_z_x1_31 = r17;
					branch_ZPlusMirth_30 = v28;
				}
				bool v34 = true;
				branch_Bool_25 = v34;
				branch_List_24 = v26;
				branch_ZPlusLister_23 = branch_ZPlusLister_32;
				branch_z_x1_22 = branch_z_x1_31;
				branch_ZPlusMirth_21 = branch_ZPlusMirth_30;
			} break;
			case 0LL: { // Nil
				PTUP v35 = PTRMK(0LL /* Nil */,0,0);
				bool v36 = false;
				branch_Bool_25 = v36;
				branch_List_24 = v35;
				branch_ZPlusLister_23 = r18;
				branch_z_x1_22 = r17;
				branch_ZPlusMirth_21 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		r12 = branch_ZPlusLister_23;
		r11 = branch_z_x1_22;
		r10 = branch_ZPlusMirth_21;
	}
	decref(MKTUP(v13));
	PTUP v37 = mw_std_list_ZPlusLister_1_doneZBang(r12);
	*out_z_x1_5 = r11;
	*out_ZPlusMirth_4 = r10;
	return v37;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99BranchSplit_4) {
	bool v5 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[4]);
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0]);
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23(in_ZPlusMirth_1, v5, r6, &v7, &v8);
	((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0] = MKTUP(v8);
	*out_ZPlusC99BranchSplit_4 = in_ZPlusC99BranchSplit_2;
	*out_ZPlusMirth_3 = v7;
}
static void mw_std_list_List_1_for_1_sp18 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	bool v6 = true;
	PTUP r7 = in_ZPlusMirth_1;
	PTUP r8 = in_ZPlusC99Branch_2;
	PTUP v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP r12 = r7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_ZPlusMirth_16;
		PTUP branch_ZPlusC99Branch_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				PTUP v22;
				PTUP v23;
				mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang(r12, r13, VTUP(v21), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusC99Branch_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				PTUP v25 = PTRMK(0LL /* Nil */,0,0);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusC99Branch_17 = r13;
				branch_ZPlusMirth_16 = r12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusC99Branch_17;
		r7 = branch_ZPlusMirth_16;
	}
	decref(MKTUP(v9));
	*out_ZPlusC99Branch_5 = r8;
	*out_ZPlusMirth_4 = r7;
}
static void mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23 (PTUP in_ZPlusMirth_1, bool in_Bool_2, PTUP in_ZPlusC99_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99_5) {
	bool v6 = value_bool(((TUP*)PTRPTR(in_ZPlusC99_3))->cells[3]);
	incref(MKBOOL(v6));
	bool v7 = (value_bool(MKBOOL(in_Bool_2)) && value_bool(MKBOOL(v6)));
	((TUP*)PTRPTR(in_ZPlusC99_3))->cells[3] = MKBOOL(v7);
	PTUP v8;
	PTUP v9;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(in_ZPlusMirth_1, in_ZPlusC99_3, &v8, &v9);
	((TUP*)PTRPTR(v9))->cells[3] = MKBOOL(value_bool(MKBOOL(v6)));
	*out_ZPlusC99_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99BranchSplit_4) {
	bool v5 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[4]);
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0]);
	bool v7 = value_bool(((TUP*)PTRPTR(r6))->cells[3]);
	incref(MKBOOL(v7));
	bool v8 = (value_bool(MKBOOL(v5)) && value_bool(MKBOOL(v7)));
	((TUP*)PTRPTR(r6))->cells[3] = MKBOOL(v8);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, r6, &v9, &v10);
	STR* v11;
	STRLIT(v11, "default: {", 10);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99_put(v9, v10, v11, &v12, &v13);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_line(v12, v13, &v14, &v15);
	((TUP*)PTRPTR(v15))->cells[3] = MKBOOL(value_bool(MKBOOL(v7)));
	((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0] = MKTUP(v15);
	*out_ZPlusC99BranchSplit_4 = in_ZPlusC99BranchSplit_2;
	*out_ZPlusMirth_3 = v14;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99BranchSplit_4) {
	bool v5 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[4]);
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0]);
	bool v7 = value_bool(((TUP*)PTRPTR(r6))->cells[3]);
	incref(MKBOOL(v7));
	bool v8 = (value_bool(MKBOOL(v5)) && value_bool(MKBOOL(v7)));
	((TUP*)PTRPTR(r6))->cells[3] = MKBOOL(v8);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, r6, &v9, &v10);
	STR* v11;
	STRLIT(v11, "} break;", 8);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99_put(v9, v10, v11, &v12, &v13);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_line(v12, v13, &v14, &v15);
	((TUP*)PTRPTR(v15))->cells[3] = MKBOOL(value_bool(MKBOOL(v7)));
	((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0] = MKTUP(v15);
	*out_ZPlusC99BranchSplit_4 = in_ZPlusC99BranchSplit_2;
	*out_ZPlusMirth_3 = v14;
}
static void mw_std_list_List_1_reverseZ_for_1_sp5 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = mw_std_list_List_1_reverse(in_List_3);
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusC99Branch_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusC99Branch_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				PTUP v23;
				PTUP v24;
				mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang(r13, r14, VTUP(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusC99Branch_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				PTUP v26 = PTRMK(0LL /* Nil */,0,0);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusC99Branch_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusC99Branch_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusC99Branch_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static PTUP mw_std_list_List_1_map_1_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	PTUP r10 = in_ZPlusMirth_1;
	PTUP r11 = in_ZPlusC99Branch_2;
	PTUP r12 = v8;
	PTUP v13 = in_List_3;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		PTUP r16 = r10;
		PTUP r17 = r11;
		PTUP r18 = r12;
		PTUP v19 = v13;
		bool v20 = v14;
		PTUP branch_ZPlusMirth_21;
		PTUP branch_ZPlusC99Branch_22;
		PTUP branch_ZPlusLister_23;
		PTUP branch_List_24;
		bool branch_Bool_25;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Cons
				PTUP v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				PTUP v28;
				PTUP v29;
				PTUP v30 = mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang(r16, r17, VTUP(v27), &v28, &v29);
				PTUP v31;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v30), r18, &v31);
				bool v32 = true;
				branch_Bool_25 = v32;
				branch_List_24 = v26;
				branch_ZPlusLister_23 = v31;
				branch_ZPlusC99Branch_22 = v29;
				branch_ZPlusMirth_21 = v28;
			} break;
			case 0LL: { // Nil
				PTUP v33 = PTRMK(0LL /* Nil */,0,0);
				bool v34 = false;
				branch_Bool_25 = v34;
				branch_List_24 = v33;
				branch_ZPlusLister_23 = r18;
				branch_ZPlusC99Branch_22 = r17;
				branch_ZPlusMirth_21 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		r12 = branch_ZPlusLister_23;
		r11 = branch_ZPlusC99Branch_22;
		r10 = branch_ZPlusMirth_21;
	}
	decref(MKTUP(v13));
	PTUP v35 = mw_std_list_ZPlusLister_1_doneZBang(r12);
	*out_ZPlusC99Branch_5 = r11;
	*out_ZPlusMirth_4 = r10;
	return v35;
}
static PTUP mw_std_maybe_Maybe_1_filter_1_sp3 (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_5, PTUP *out_Maybe_6) {
	PTUP branch_Type_7;
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			incref(MKTUP(in_Type_2));
			PTUP v11;
			bool v12 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(value_u64(v10))), VTUP(MKTUP(in_Type_2)), &v11);
			bool v13 = !v12;
			PTUP branch_Type_14;
			PTUP branch_ZPlusMirth_15;
			PTUP branch_Maybe_16;
			if (v13) {
				PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v10)));
				branch_Maybe_16 = v17;
				branch_ZPlusMirth_15 = v11;
				branch_Type_14 = VTUP(MKTUP(in_Type_2));
			} else {
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_16 = v18;
				branch_ZPlusMirth_15 = v11;
				branch_Type_14 = VTUP(MKTUP(in_Type_2));
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
			branch_Type_7 = branch_Type_14;
		} break;
		case 0LL: { // None
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Type_7 = in_Type_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_6 = branch_Maybe_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Type_7;
}
static PTUP mw_std_maybe_Maybe_1_filter_1_sp4 (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_5, PTUP *out_Maybe_6) {
	PTUP branch_Resource_7;
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			incref(MKTUP(in_Resource_2));
			PTUP v11;
			bool v12 = mw_mirth_type_Resource_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(MKU64(value_u64(v10))), VTUP(MKTUP(in_Resource_2)), &v11);
			bool v13 = !v12;
			PTUP branch_Resource_14;
			PTUP branch_ZPlusMirth_15;
			PTUP branch_Maybe_16;
			if (v13) {
				PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v10)));
				branch_Maybe_16 = v17;
				branch_ZPlusMirth_15 = v11;
				branch_Resource_14 = VTUP(MKTUP(in_Resource_2));
			} else {
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_16 = v18;
				branch_ZPlusMirth_15 = v11;
				branch_Resource_14 = VTUP(MKTUP(in_Resource_2));
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
			branch_Resource_7 = branch_Resource_14;
		} break;
		case 0LL: { // None
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Resource_7 = in_Resource_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_6 = branch_Maybe_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Resource_7;
}
static void mw_mirth_c99_C99ReprType_resourceZ_expressionZBang_1_sp4 (STR* in_Str_1, PTUP in_C99ReprType_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99Branch_4, PTUP in_C99ReprType_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7, PTUP *out_ZPlusC99Resource_8) {
	incref(MKTUP(in_C99ReprType_5));
	PTUP v9;
	bool v10 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_3, in_C99ReprType_5, &v9);
	STR* branch_Str_11;
	PTUP branch_C99ReprType_12;
	PTUP branch_C99ReprType_13;
	bool branch_Bool_14;
	PTUP branch_ZPlusMirth_15;
	STR* branch_Str_16;
	PTUP branch_ZPlusC99Branch_17;
	if (v10) {
		PTUP r18 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_4))->cells[0]);
		PTUP v19;
		PTUP v20;
		STR* v21 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v9, r18, &v19, &v20);
		((TUP*)PTRPTR(in_ZPlusC99Branch_4))->cells[0] = MKTUP(v20);
		branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_4;
		branch_Str_16 = v21;
		branch_ZPlusMirth_15 = v19;
		branch_Bool_14 = v10;
		branch_C99ReprType_13 = in_C99ReprType_5;
		branch_C99ReprType_12 = in_C99ReprType_2;
		branch_Str_11 = in_Str_1;
	} else {
		STR* v22;
		STRLIT(v22, "0", 1);
		branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_4;
		branch_Str_16 = v22;
		branch_ZPlusMirth_15 = v9;
		branch_Bool_14 = v10;
		branch_C99ReprType_13 = in_C99ReprType_5;
		branch_C99ReprType_12 = in_C99ReprType_2;
		branch_Str_11 = in_Str_1;
	}
	bool v23 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[3]);
	bool v24 = (branch_Bool_14 && v23);
	PTUP r25 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0]);
	bool v26 = value_bool(((TUP*)PTRPTR(r25))->cells[3]);
	incref(MKBOOL(v26));
	bool v27 = (value_bool(MKBOOL(v24)) && value_bool(MKBOOL(v26)));
	((TUP*)PTRPTR(r25))->cells[3] = MKBOOL(v27);
	PTUP v28;
	PTUP v29;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_15, r25, &v28, &v29);
	incref(MKTUP(branch_C99ReprType_13));
	PTUP v30;
	STR* v31 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v28, branch_C99ReprType_13, &v30);
	PTUP v32;
	PTUP v33;
	mw_mirth_c99_ZPlusC99_put(v30, v29, v31, &v32, &v33);
	STR* v34;
	STRLIT(v34, " ", 1);
	PTUP v35;
	PTUP v36;
	mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
	incref(MKSTR(branch_Str_16));
	PTUP v37;
	PTUP v38;
	mw_mirth_c99_ZPlusC99_put(v35, v36, branch_Str_16, &v37, &v38);
	STR* v39;
	STRLIT(v39, " = ", 3);
	PTUP v40;
	PTUP v41;
	mw_mirth_c99_ZPlusC99_put(v37, v38, v39, &v40, &v41);
	PTUP v42;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_13, branch_Str_16, &v42);
	PTUP v43;
	PTUP v44;
	mw_mirth_c99_C99ReprType_vZ_macro_1_sp5(branch_Str_11, branch_C99ReprType_12, v40, v41, &v43, &v44);
	STR* v45;
	STRLIT(v45, ";", 1);
	PTUP v46;
	PTUP v47;
	mw_mirth_c99_ZPlusC99_put(v43, v44, v45, &v46, &v47);
	PTUP v48;
	PTUP v49;
	mw_mirth_c99_ZPlusC99_line(v46, v47, &v48, &v49);
	((TUP*)PTRPTR(v49))->cells[3] = MKBOOL(value_bool(MKBOOL(v26)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0] = MKTUP(v49);
	*out_ZPlusC99Resource_8 = v42;
	*out_ZPlusC99Branch_7 = branch_ZPlusC99Branch_17;
	*out_ZPlusMirth_6 = v48;
}
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp5 (STR* in_Str_1, PTUP in_C99ReprType_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6) {
	PTUP v7;
	STR* v8;
	STR* v9 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_ZPlusMirth_3, in_C99ReprType_2, &v7, &v8);
	PTUP v10;
	PTUP v11;
	mw_mirth_c99_ZPlusC99_put(v7, in_ZPlusC99_4, v9, &v10, &v11);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99_put(v10, v11, in_Str_1, &v12, &v13);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_put(v12, v13, v8, &v14, &v15);
	*out_ZPlusC99_6 = v15;
	*out_ZPlusMirth_5 = v14;
}
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp6 (STR* in_Str_1, PTUP in_C99ReprType_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusC99Branch_4, PTUP in_C99ReprType_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7, PTUP *out_ZPlusC99Value_8) {
	incref(MKTUP(in_C99ReprType_5));
	PTUP v9;
	bool v10 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_3, in_C99ReprType_5, &v9);
	STR* branch_Str_11;
	PTUP branch_C99ReprType_12;
	PTUP branch_C99ReprType_13;
	bool branch_Bool_14;
	PTUP branch_ZPlusMirth_15;
	STR* branch_Str_16;
	PTUP branch_ZPlusC99Branch_17;
	if (v10) {
		PTUP r18 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_4))->cells[0]);
		PTUP v19;
		PTUP v20;
		STR* v21 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v9, r18, &v19, &v20);
		((TUP*)PTRPTR(in_ZPlusC99Branch_4))->cells[0] = MKTUP(v20);
		branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_4;
		branch_Str_16 = v21;
		branch_ZPlusMirth_15 = v19;
		branch_Bool_14 = v10;
		branch_C99ReprType_13 = in_C99ReprType_5;
		branch_C99ReprType_12 = in_C99ReprType_2;
		branch_Str_11 = in_Str_1;
	} else {
		STR* v22;
		STRLIT(v22, "0", 1);
		branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_4;
		branch_Str_16 = v22;
		branch_ZPlusMirth_15 = v9;
		branch_Bool_14 = v10;
		branch_C99ReprType_13 = in_C99ReprType_5;
		branch_C99ReprType_12 = in_C99ReprType_2;
		branch_Str_11 = in_Str_1;
	}
	bool v23 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[3]);
	bool v24 = (branch_Bool_14 && v23);
	PTUP r25 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0]);
	bool v26 = value_bool(((TUP*)PTRPTR(r25))->cells[3]);
	incref(MKBOOL(v26));
	bool v27 = (value_bool(MKBOOL(v24)) && value_bool(MKBOOL(v26)));
	((TUP*)PTRPTR(r25))->cells[3] = MKBOOL(v27);
	PTUP v28;
	PTUP v29;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_15, r25, &v28, &v29);
	incref(MKTUP(branch_C99ReprType_13));
	PTUP v30;
	STR* v31 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v28, branch_C99ReprType_13, &v30);
	PTUP v32;
	PTUP v33;
	mw_mirth_c99_ZPlusC99_put(v30, v29, v31, &v32, &v33);
	STR* v34;
	STRLIT(v34, " ", 1);
	PTUP v35;
	PTUP v36;
	mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
	incref(MKSTR(branch_Str_16));
	PTUP v37;
	PTUP v38;
	mw_mirth_c99_ZPlusC99_put(v35, v36, branch_Str_16, &v37, &v38);
	STR* v39;
	STRLIT(v39, " = ", 3);
	PTUP v40;
	PTUP v41;
	mw_mirth_c99_ZPlusC99_put(v37, v38, v39, &v40, &v41);
	PTUP v42;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_13, branch_Str_16, &v42);
	PTUP v43;
	PTUP v44;
	mw_mirth_c99_C99ReprType_vZ_macro_1_sp5(branch_Str_11, branch_C99ReprType_12, v40, v41, &v43, &v44);
	STR* v45;
	STRLIT(v45, ";", 1);
	PTUP v46;
	PTUP v47;
	mw_mirth_c99_ZPlusC99_put(v43, v44, v45, &v46, &v47);
	PTUP v48;
	PTUP v49;
	mw_mirth_c99_ZPlusC99_line(v46, v47, &v48, &v49);
	((TUP*)PTRPTR(v49))->cells[3] = MKBOOL(value_bool(MKBOOL(v26)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_17))->cells[0] = MKTUP(v49);
	*out_ZPlusC99Value_8 = v42;
	*out_ZPlusC99Branch_7 = branch_ZPlusC99Branch_17;
	*out_ZPlusMirth_6 = v48;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp8 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99BranchSplit_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusC99BranchSplit_4) {
	bool v5 = value_bool(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[4]);
	PTUP r6 = VTUP(((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0]);
	bool v7 = value_bool(((TUP*)PTRPTR(r6))->cells[3]);
	incref(MKBOOL(v7));
	bool v8 = (value_bool(MKBOOL(v5)) && value_bool(MKBOOL(v7)));
	((TUP*)PTRPTR(r6))->cells[3] = MKBOOL(v8);
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, r6, &v9, &v10);
	STR* v11;
	STRLIT(v11, "} else {", 8);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99_put(v9, v10, v11, &v12, &v13);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_line(v12, v13, &v14, &v15);
	((TUP*)PTRPTR(v15))->cells[3] = MKBOOL(value_bool(MKBOOL(v7)));
	((TUP*)PTRPTR(in_ZPlusC99BranchSplit_2))->cells[0] = MKTUP(v15);
	*out_ZPlusC99BranchSplit_4 = in_ZPlusC99BranchSplit_2;
	*out_ZPlusMirth_3 = v14;
}
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp25 (STR* in_Str_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusC99Branch_3, STR* *out_Str_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6) {
	bool v7 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[3]);
	PTUP r8 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[0]);
	bool v9 = value_bool(((TUP*)PTRPTR(r8))->cells[3]);
	incref(MKBOOL(v9));
	bool v10 = (value_bool(MKBOOL(v7)) && value_bool(MKBOOL(v9)));
	((TUP*)PTRPTR(r8))->cells[3] = MKBOOL(v10);
	PTUP v11;
	PTUP v12;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_2, r8, &v11, &v12);
	STR* v13;
	STRLIT(v13, "value_trace_(", 13);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	incref(MKSTR(in_Str_1));
	PTUP v16;
	PTUP v17;
	mw_mirth_c99_ZPlusC99_put(v14, v15, in_Str_1, &v16, &v17);
	STR* v18;
	STRLIT(v18, ", 2);", 5);
	PTUP v19;
	PTUP v20;
	mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
	PTUP v21;
	PTUP v22;
	mw_mirth_c99_ZPlusC99_line(v19, v20, &v21, &v22);
	((TUP*)PTRPTR(v22))->cells[3] = MKBOOL(value_bool(MKBOOL(v9)));
	((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[0] = MKTUP(v22);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_3;
	*out_ZPlusMirth_5 = v21;
	*out_Str_4 = in_Str_1;
}
static void mw_mirth_c99_C99ReprType_pushZ_valueZ_expressionZBang_1_sp9 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_C99ReprType_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99ReprType_3));
	PTUP v6;
	bool v7 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_1, in_C99ReprType_3, &v6);
	PTUP branch_C99ReprType_8;
	bool branch_Bool_9;
	PTUP branch_ZPlusMirth_10;
	STR* branch_Str_11;
	PTUP branch_ZPlusC99Branch_12;
	if (v7) {
		PTUP r13 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0]);
		PTUP v14;
		PTUP v15;
		STR* v16 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v6, r13, &v14, &v15);
		((TUP*)PTRPTR(in_ZPlusC99Branch_2))->cells[0] = MKTUP(v15);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = v16;
		branch_ZPlusMirth_10 = v14;
		branch_Bool_9 = v7;
		branch_C99ReprType_8 = in_C99ReprType_3;
	} else {
		STR* v17;
		STRLIT(v17, "0", 1);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = v17;
		branch_ZPlusMirth_10 = v6;
		branch_Bool_9 = v7;
		branch_C99ReprType_8 = in_C99ReprType_3;
	}
	bool v18 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_12))->cells[3]);
	bool v19 = (branch_Bool_9 && v18);
	PTUP r20 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_12))->cells[0]);
	bool v21 = value_bool(((TUP*)PTRPTR(r20))->cells[3]);
	incref(MKBOOL(v21));
	bool v22 = (value_bool(MKBOOL(v19)) && value_bool(MKBOOL(v21)));
	((TUP*)PTRPTR(r20))->cells[3] = MKBOOL(v22);
	PTUP v23;
	PTUP v24;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_10, r20, &v23, &v24);
	incref(MKTUP(branch_C99ReprType_8));
	PTUP v25;
	STR* v26 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v23, branch_C99ReprType_8, &v25);
	PTUP v27;
	PTUP v28;
	mw_mirth_c99_ZPlusC99_put(v25, v24, v26, &v27, &v28);
	STR* v29;
	STRLIT(v29, " ", 1);
	PTUP v30;
	PTUP v31;
	mw_mirth_c99_ZPlusC99_put(v27, v28, v29, &v30, &v31);
	incref(MKSTR(branch_Str_11));
	PTUP v32;
	PTUP v33;
	mw_mirth_c99_ZPlusC99_put(v30, v31, branch_Str_11, &v32, &v33);
	STR* v34;
	STRLIT(v34, " = ", 3);
	PTUP v35;
	PTUP v36;
	mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
	PTUP v37;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_8, branch_Str_11, &v37);
	STR* v38;
	STRLIT(v38, "NULL", 4);
	PTUP v39;
	PTUP v40;
	mw_mirth_c99_ZPlusC99_put(v35, v36, v38, &v39, &v40);
	STR* v41;
	STRLIT(v41, ";", 1);
	PTUP v42;
	PTUP v43;
	mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
	PTUP v44;
	PTUP v45;
	mw_mirth_c99_ZPlusC99_line(v42, v43, &v44, &v45);
	((TUP*)PTRPTR(v45))->cells[3] = MKBOOL(value_bool(MKBOOL(v21)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_12))->cells[0] = MKTUP(v45);
	PTUP v46;
	PTUP v47;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v44, branch_ZPlusC99Branch_12, v37, &v46, &v47);
	*out_ZPlusC99Branch_5 = v47;
	*out_ZPlusMirth_4 = v46;
}
static PTUP mw_std_list_List_1_List_1_sp12 (INT in_Nat_1) {
	PTUP v3 = PTRMK(0LL /* Nil */,0,0);
	PTUP v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	incref(MKNAT(in_Nat_1));
	INT v5 = WRAP_I63(0LL);
	INT v6 = in_Nat_1;
	INT v7 = v5;
	bool v8 = int_lt(v7, v6);
	PTUP r9 = v4;
	INT v10 = in_Nat_1;
	bool v11 = v8;
	while (v11) {
		PTUP r12 = r9;
		INT v13 = v10;
		PTUP v14 = PTRMK(1LL /* Ignore */,0,0);
		PTUP v15 = mtw_mirth_type_StackTypePart_Cons(v14);
		PTUP v16;
		mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v15), r12, &v16);
		INT v17 = WRAP_I63(1LL);
		INT v18 = v13;
		INT v19 = v17;
		INT v20 = int_sub(v18, v19);
		incref(MKINT(v20));
		INT v21 = WRAP_I63(0LL);
		INT v22 = v21;
		bool v23 = int_le(v22, v20);
		INT branch_Nat_24;
		if (v23) {
			INT v25 = v20;
			branch_Nat_24 = v25;
		} else {
			decref(MKINT(v20));
			INT v26 = WRAP_I63(0LL);
			branch_Nat_24 = v26;
		}
		incref(MKNAT(branch_Nat_24));
		INT v27 = WRAP_I63(0LL);
		INT v28 = branch_Nat_24;
		INT v29 = v27;
		bool v30 = int_lt(v29, v28);
		v11 = v30;
		v10 = branch_Nat_24;
		r9 = v16;
	}
	decref(MKNAT(v10));
	PTUP v31 = mw_std_list_ZPlusLister_1_doneZBang(r9);
	return v31;
}
static void mw_mirth_c99_ZPlusC99Branch_c99Z_lineZ_if_1_sp24 (STR* in_Str_1, STR* in_Str_2, PTUP in_ZPlusMirth_3, bool in_Bool_4, PTUP in_ZPlusC99Branch_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusC99Branch_7) {
	bool v8 = value_bool(((TUP*)PTRPTR(in_ZPlusC99Branch_5))->cells[3]);
	bool v9 = (in_Bool_4 && v8);
	PTUP r10 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_5))->cells[0]);
	bool v11 = value_bool(((TUP*)PTRPTR(r10))->cells[3]);
	incref(MKBOOL(v11));
	bool v12 = (value_bool(MKBOOL(v9)) && value_bool(MKBOOL(v11)));
	((TUP*)PTRPTR(r10))->cells[3] = MKBOOL(v12);
	PTUP v13;
	PTUP v14;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_3, r10, &v13, &v14);
	PTUP v15;
	PTUP v16;
	mw_mirth_c99_ZPlusC99_put(v13, v14, in_Str_2, &v15, &v16);
	STR* v17;
	STRLIT(v17, " = ", 3);
	PTUP v18;
	PTUP v19;
	mw_mirth_c99_ZPlusC99_put(v15, v16, v17, &v18, &v19);
	PTUP v20;
	PTUP v21;
	mw_mirth_c99_ZPlusC99_put(v18, v19, in_Str_1, &v20, &v21);
	STR* v22;
	STRLIT(v22, ";", 1);
	PTUP v23;
	PTUP v24;
	mw_mirth_c99_ZPlusC99_put(v20, v21, v22, &v23, &v24);
	PTUP v25;
	PTUP v26;
	mw_mirth_c99_ZPlusC99_line(v23, v24, &v25, &v26);
	((TUP*)PTRPTR(v26))->cells[3] = MKBOOL(value_bool(MKBOOL(v11)));
	((TUP*)PTRPTR(in_ZPlusC99Branch_5))->cells[0] = MKTUP(v26);
	*out_ZPlusC99Branch_7 = in_ZPlusC99Branch_5;
	*out_ZPlusMirth_6 = v25;
}
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp21 (PTUP in_ZPlusC99Value_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusC99Branch_3, PTUP in_C99ReprType_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99Branch_6, PTUP *out_ZPlusC99Value_7) {
	incref(MKTUP(in_C99ReprType_4));
	PTUP v8;
	bool v9 = mw_mirth_c99_C99ReprType_isZ_physicalZAsk(in_ZPlusMirth_2, in_C99ReprType_4, &v8);
	PTUP branch_ZPlusC99Value_10;
	PTUP branch_C99ReprType_11;
	bool branch_Bool_12;
	PTUP branch_ZPlusMirth_13;
	STR* branch_Str_14;
	PTUP branch_ZPlusC99Branch_15;
	if (v9) {
		PTUP r16 = VTUP(((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[0]);
		PTUP v17;
		PTUP v18;
		STR* v19 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v8, r16, &v17, &v18);
		((TUP*)PTRPTR(in_ZPlusC99Branch_3))->cells[0] = MKTUP(v18);
		branch_ZPlusC99Branch_15 = in_ZPlusC99Branch_3;
		branch_Str_14 = v19;
		branch_ZPlusMirth_13 = v17;
		branch_Bool_12 = v9;
		branch_C99ReprType_11 = in_C99ReprType_4;
		branch_ZPlusC99Value_10 = in_ZPlusC99Value_1;
	} else {
		STR* v20;
		STRLIT(v20, "0", 1);
		branch_ZPlusC99Branch_15 = in_ZPlusC99Branch_3;
		branch_Str_14 = v20;
		branch_ZPlusMirth_13 = v8;
		branch_Bool_12 = v9;
		branch_C99ReprType_11 = in_C99ReprType_4;
		branch_ZPlusC99Value_10 = in_ZPlusC99Value_1;
	}
	bool v21 = value_bool(((TUP*)PTRPTR(branch_ZPlusC99Branch_15))->cells[3]);
	bool v22 = (branch_Bool_12 && v21);
	PTUP r23 = VTUP(((TUP*)PTRPTR(branch_ZPlusC99Branch_15))->cells[0]);
	bool v24 = value_bool(((TUP*)PTRPTR(r23))->cells[3]);
	incref(MKBOOL(v24));
	bool v25 = (value_bool(MKBOOL(v22)) && value_bool(MKBOOL(v24)));
	((TUP*)PTRPTR(r23))->cells[3] = MKBOOL(v25);
	PTUP v26;
	PTUP v27;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_13, r23, &v26, &v27);
	incref(MKTUP(branch_C99ReprType_11));
	PTUP v28;
	STR* v29 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v26, branch_C99ReprType_11, &v28);
	PTUP v30;
	PTUP v31;
	mw_mirth_c99_ZPlusC99_put(v28, v27, v29, &v30, &v31);
	STR* v32;
	STRLIT(v32, " ", 1);
	PTUP v33;
	PTUP v34;
	mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
	incref(MKSTR(branch_Str_14));
	PTUP v35;
	PTUP v36;
	mw_mirth_c99_ZPlusC99_put(v33, v34, branch_Str_14, &v35, &v36);
	STR* v37;
	STRLIT(v37, " = ", 3);
	PTUP v38;
	PTUP v39;
	mw_mirth_c99_ZPlusC99_put(v35, v36, v37, &v38, &v39);
	PTUP v40;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_11, branch_Str_14, &v40);
	STR* v41 = mw_mirth_c99_ZPlusC99Value_consume(branch_ZPlusC99Value_10);
	PTUP v42;
	PTUP v43;
	mw_mirth_c99_ZPlusC99_put(v38, v39, v41, &v42, &v43);
	STR* v44;
	STRLIT(v44, ";", 1);
	PTUP v45;
	PTUP v46;
	mw_mirth_c99_ZPlusC99_put(v42, v43, v44, &v45, &v46);
	PTUP v47;
	PTUP v48;
	mw_mirth_c99_ZPlusC99_line(v45, v46, &v47, &v48);
	((TUP*)PTRPTR(v48))->cells[3] = MKBOOL(value_bool(MKBOOL(v24)));
	((TUP*)PTRPTR(branch_ZPlusC99Branch_15))->cells[0] = MKTUP(v48);
	*out_ZPlusC99Value_7 = v40;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_15;
	*out_ZPlusMirth_5 = v47;
}
static PTUP mw_std_list_List_1_unions_sp1 (PTUP in_List_1) {
	PTUP v3 = mw_std_list_List_1_ZToNestZAsk(in_List_1);
	PTUP branch_Maybe_4;
	switch (PTREXTRA(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			PTUP v6;
			VAL v7 = mw_std_list_Nest_1_uncons(VTUP(v5), &v6);
			bool v8 = true;
			PTUP v9 = VTUP(v7);
			PTUP v10 = v6;
			bool v11 = v8;
			bool v12 = v8;
			while (v12) {
				PTUP v13 = v9;
				PTUP v14 = v10;
				bool v15 = v11;
				PTUP branch_List_16;
				PTUP branch_List_17;
				bool branch_Bool_18;
				switch (PTREXTRA(v14)) {
					case 1LL: { // Cons
						PTUP v19;
						VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
						PTUP v21 = mw_std_list_List_1_union_sp1(v13, VTUP(v20));
						bool v22 = true;
						branch_Bool_18 = v22;
						branch_List_17 = v19;
						branch_List_16 = v21;
					} break;
					case 0LL: { // Nil
						PTUP v23 = PTRMK(0LL /* Nil */,0,0);
						bool v24 = false;
						branch_Bool_18 = v24;
						branch_List_17 = v23;
						branch_List_16 = v13;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v12 = branch_Bool_18;
				v11 = branch_Bool_18;
				v10 = branch_List_17;
				v9 = branch_List_16;
			}
			decref(MKTUP(v10));
			PTUP v25 = mtw_std_maybe_Maybe_1_Some(MKTUP(v9));
			branch_Maybe_4 = v25;
		} break;
		case 0LL: { // None
			PTUP v26 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_4 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v27 = mw_std_maybe_Maybe_1_unwrap_1_sp13(branch_Maybe_4);
	return v27;
}
static PTUP mw_std_maybe_Maybe_1_unwrap_1_sp13 (PTUP in_Maybe_1) {
	PTUP branch_List_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			branch_List_3 = VTUP(v4);
		} break;
		case 0LL: { // None
			PTUP v5 = PTRMK(0LL /* Nil */,0,0);
			branch_List_3 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_3;
}
static PTUP mw_std_list_List_1_union_sp1 (PTUP in_List_1, PTUP in_List_2) {
	incref(MKTUP(in_List_1));
	PTUP v4 = mw_std_list_List_1_difference_sp1(VTUP(MKTUP(in_List_2)), VTUP(MKTUP(in_List_1)));
	PTUP v5 = mw_std_list_List_1_cat(VTUP(MKTUP(in_List_1)), v4);
	return v5;
}
static PTUP mw_std_list_List_1_difference_sp1 (PTUP in_List_1, PTUP in_List_2) {
	PTUP v4 = PTRMK(0LL /* Nil */,0,0);
	PTUP v5;
	mw_std_list_List_1_buildZBang(v4, &v5);
	bool v6 = true;
	PTUP v7 = in_List_2;
	PTUP r8 = v5;
	PTUP v9 = in_List_1;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP v12 = v7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_List_16;
		PTUP branch_ZPlusLister_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				incref(MKTUP(v12));
				PTUP v22 = PTRMK(0LL /* None */,0,0);
				bool v23 = true;
				uint64_t v24 = value_u64(MKU64(value_u64(v21)));
				PTUP v25 = v22;
				PTUP v26 = VTUP(MKTUP(v12));
				bool v27 = v23;
				bool v28 = v23;
				while (v28) {
					uint64_t v29 = v24;
					PTUP v30 = v25;
					PTUP v31 = v26;
					bool v32 = v27;
					PTUP v33;
					PTUP v34 = mw_std_list_List_1_uncons(v31, &v33);
					uint64_t branch_Var_35;
					PTUP branch_Maybe_36;
					PTUP branch_List_37;
					bool branch_Bool_38;
					switch (PTREXTRA(v34)) {
						case 1LL: { // Some
							VAL v39 = mtp_std_maybe_Maybe_1_Some(v34);
							incref(MKU64(v29));
							bool v40 = (value_u64(MKU64(value_u64(v39))) == value_u64(MKU64(v29)));
							uint64_t branch_Var_41;
							PTUP branch_Maybe_42;
							if (v40) {
								PTUP v43 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v39)));
								branch_Maybe_42 = v43;
								branch_Var_41 = value_u64(MKU64(v29));
							} else {
								PTUP v44 = PTRMK(0LL /* None */,0,0);
								branch_Maybe_42 = v44;
								branch_Var_41 = value_u64(MKU64(v29));
							}
							uint64_t branch_Var_45;
							PTUP branch_Maybe_46;
							PTUP branch_List_47;
							switch (PTREXTRA(branch_Maybe_42)) {
								case 0LL: { // None
									branch_List_47 = VTUP(MKTUP(v33));
									branch_Maybe_46 = VTUP(MKTUP(v30));
									branch_Var_45 = branch_Var_41;
								} break;
								default: {
									decref(MKTUP(VTUP(MKTUP(v33))));
									decref(MKTUP(VTUP(MKTUP(v30))));
									PTUP v48 = PTRMK(0LL /* Nil */,0,0);
									branch_List_47 = v48;
									branch_Maybe_46 = branch_Maybe_42;
									branch_Var_45 = branch_Var_41;
								} break;
							}
							bool v49 = true;
							branch_Bool_38 = v49;
							branch_List_37 = branch_List_47;
							branch_Maybe_36 = branch_Maybe_46;
							branch_Var_35 = branch_Var_45;
						} break;
						case 0LL: { // None
							bool v50 = false;
							branch_Bool_38 = v50;
							branch_List_37 = v33;
							branch_Maybe_36 = v30;
							branch_Var_35 = v29;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v28 = branch_Bool_38;
					v27 = branch_Bool_38;
					v26 = branch_List_37;
					v25 = branch_Maybe_36;
					v24 = branch_Var_35;
				}
				decref(MKTUP(v26));
				decref(MKU64(v24));
				int64_t v51 = PTREXTRA(VTUP(MKTUP(v25)));
				decref(MKTUP(VTUP(MKTUP(v25))));
				INT v52 = WRAP_I63(0LL);
				INT v53 = v52;
				INT v54 = i64_to_int(v51);
				bool v55 = int_eq(v54, v53);
				bool v56 = !v55;
				bool v57 = !v56;
				PTUP branch_List_58;
				PTUP branch_ZPlusLister_59;
				if (v57) {
					PTUP v60;
					mw_std_list_ZPlusLister_1_pushZBang(MKU64(value_u64(v21)), r13, &v60);
					branch_ZPlusLister_59 = v60;
					branch_List_58 = VTUP(MKTUP(v12));
				} else {
					branch_ZPlusLister_59 = r13;
					branch_List_58 = VTUP(MKTUP(v12));
				}
				bool v61 = true;
				branch_Bool_19 = v61;
				branch_List_18 = v20;
				branch_ZPlusLister_17 = branch_ZPlusLister_59;
				branch_List_16 = branch_List_58;
			} break;
			case 0LL: { // Nil
				PTUP v62 = PTRMK(0LL /* Nil */,0,0);
				bool v63 = false;
				branch_Bool_19 = v63;
				branch_List_18 = v62;
				branch_ZPlusLister_17 = r13;
				branch_List_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusLister_17;
		v7 = branch_List_16;
	}
	decref(MKTUP(v9));
	PTUP v64 = mw_std_list_ZPlusLister_1_doneZBang(r8);
	decref(MKTUP(v7));
	return VTUP(MKTUP(v64));
}
static PTUP mw_mirth_c99_ZPlusC99_c99Z_line_1_sp96 (PTUP in_C99API_1, PTUP in_ZPlusMirth_2, PTUP in_ZPlusC99_3, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusC99_6) {
	PTUP v7;
	PTUP v8;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_2, in_ZPlusC99_3, &v7, &v8);
	incref(MKTUP(in_C99API_1));
	PTUP v9;
	PTUP v10;
	mw_mirth_c99_ZPlusC99_smartZ_sigZ_put(v7, v8, in_C99API_1, &v9, &v10);
	STR* v11;
	STRLIT(v11, " {", 2);
	PTUP v12;
	PTUP v13;
	mw_mirth_c99_ZPlusC99_put(v9, v10, v11, &v12, &v13);
	PTUP v14;
	PTUP v15;
	mw_mirth_c99_ZPlusC99_line(v12, v13, &v14, &v15);
	*out_ZPlusC99_6 = v15;
	*out_ZPlusMirth_5 = v14;
	return in_C99API_1;
}
static void mw_std_list_List_1_reverseZ_for_1_sp7 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusC99Branch_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusC99Branch_5) {
	PTUP v6 = mw_std_list_List_1_reverse(in_List_3);
	bool v7 = true;
	PTUP r8 = in_ZPlusMirth_1;
	PTUP r9 = in_ZPlusC99Branch_2;
	PTUP v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		PTUP r13 = r8;
		PTUP r14 = r9;
		PTUP v15 = v10;
		bool v16 = v11;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_ZPlusC99Branch_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v15)) {
			case 1LL: { // Cons
				PTUP v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				incref(MKTUP(VTUP(v22)));
				PTUP v23;
				PTUP v24;
				PTUP v25 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(r13, r14, VTUP(v22), &v23, &v24);
				PTUP branch_ZPlusMirth_26;
				PTUP branch_ZPlusC99Branch_27;
				switch (PTREXTRA(v25)) {
					case 1LL: { // Some
						VAL v28 = mtp_std_maybe_Maybe_1_Some(v25);
						STR* v29 = value_str(((TUP*)PTRPTR(VTUP(v22)))->cells[3]);
						incref(MKSTR(v29));
						decref(MKTUP(VTUP(v22)));
						bool v30 = value_bool(((TUP*)PTRPTR(v24))->cells[3]);
						PTUP r31 = VTUP(((TUP*)PTRPTR(v24))->cells[0]);
						bool v32 = value_bool(((TUP*)PTRPTR(r31))->cells[3]);
						incref(MKBOOL(v32));
						bool v33 = (value_bool(MKBOOL(v30)) && value_bool(MKBOOL(v32)));
						((TUP*)PTRPTR(r31))->cells[3] = MKBOOL(v33);
						PTUP v34;
						PTUP v35;
						mw_mirth_c99_ZPlusC99_indent(v23, r31, &v34, &v35);
						STR* v36;
						STRLIT(v36, "*", 1);
						PTUP v37;
						PTUP v38;
						mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
						PTUP v39;
						PTUP v40;
						mw_mirth_c99_ZPlusC99_put(v37, v38, v29, &v39, &v40);
						STR* v41;
						STRLIT(v41, " = ", 3);
						PTUP v42;
						PTUP v43;
						mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
						PTUP v44;
						PTUP v45;
						mw_mirth_c99_ZPlusC99_put(v42, v43, value_str(v28), &v44, &v45);
						STR* v46;
						STRLIT(v46, ";", 1);
						PTUP v47;
						PTUP v48;
						mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
						PTUP v49;
						PTUP v50;
						mw_mirth_c99_ZPlusC99_line(v47, v48, &v49, &v50);
						((TUP*)PTRPTR(v50))->cells[3] = MKBOOL(value_bool(MKBOOL(v32)));
						((TUP*)PTRPTR(v24))->cells[0] = MKTUP(v50);
						branch_ZPlusC99Branch_27 = v24;
						branch_ZPlusMirth_26 = v49;
					} break;
					case 0LL: { // None
						decref(MKTUP(VTUP(v22)));
						branch_ZPlusC99Branch_27 = v24;
						branch_ZPlusMirth_26 = v23;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v51 = true;
				branch_Bool_20 = v51;
				branch_List_19 = v21;
				branch_ZPlusC99Branch_18 = branch_ZPlusC99Branch_27;
				branch_ZPlusMirth_17 = branch_ZPlusMirth_26;
			} break;
			case 0LL: { // Nil
				PTUP v52 = PTRMK(0LL /* Nil */,0,0);
				bool v53 = false;
				branch_Bool_20 = v53;
				branch_List_19 = v52;
				branch_ZPlusC99Branch_18 = r14;
				branch_ZPlusMirth_17 = r13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		r9 = branch_ZPlusC99Branch_18;
		r8 = branch_ZPlusMirth_17;
	}
	decref(MKTUP(v10));
	*out_ZPlusC99Branch_5 = r9;
	*out_ZPlusMirth_4 = r8;
}
static PTUP mw_std_list_List_1_filter_1_sp6 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_5) {
	PTUP v7 = PTRMK(0LL /* Nil */,0,0);
	PTUP v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	PTUP r10 = in_ZPlusMirth_1;
	VAL r11 = in_z_x1_2;
	PTUP r12 = v8;
	PTUP v13 = in_List_3;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		PTUP r16 = r10;
		VAL r17 = r11;
		PTUP r18 = r12;
		PTUP v19 = v13;
		bool v20 = v14;
		PTUP branch_ZPlusMirth_21;
		VAL branch_z_x1_22;
		PTUP branch_ZPlusLister_23;
		PTUP branch_List_24;
		bool branch_Bool_25;
		switch (PTREXTRA(v19)) {
			case 1LL: { // Cons
				PTUP v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				incref(MKTUP(VTUP(v27)));
				PTUP v28;
				bool v29 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(r16, VTUP(v27), &v28);
				PTUP branch_ZPlusMirth_30;
				VAL branch_z_x1_31;
				PTUP branch_ZPlusLister_32;
				if (v29) {
					PTUP v33;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(VTUP(v27)), r18, &v33);
					branch_ZPlusLister_32 = v33;
					branch_z_x1_31 = r17;
					branch_ZPlusMirth_30 = v28;
				} else {
					decref(MKTUP(VTUP(v27)));
					branch_ZPlusLister_32 = r18;
					branch_z_x1_31 = r17;
					branch_ZPlusMirth_30 = v28;
				}
				bool v34 = true;
				branch_Bool_25 = v34;
				branch_List_24 = v26;
				branch_ZPlusLister_23 = branch_ZPlusLister_32;
				branch_z_x1_22 = branch_z_x1_31;
				branch_ZPlusMirth_21 = branch_ZPlusMirth_30;
			} break;
			case 0LL: { // Nil
				PTUP v35 = PTRMK(0LL /* Nil */,0,0);
				bool v36 = false;
				branch_Bool_25 = v36;
				branch_List_24 = v35;
				branch_ZPlusLister_23 = r18;
				branch_z_x1_22 = r17;
				branch_ZPlusMirth_21 = r16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		r12 = branch_ZPlusLister_23;
		r11 = branch_z_x1_22;
		r10 = branch_ZPlusMirth_21;
	}
	decref(MKTUP(v13));
	PTUP v37 = mw_std_list_ZPlusLister_1_doneZBang(r12);
	*out_z_x1_5 = r11;
	*out_ZPlusMirth_4 = r10;
	return v37;
}
static uint8_t mw_std_prelude_unsafe_1_sp12 (INT in_Sizze_1, void* in_Ptr_2) {
	int64_t v4 = int_to_i64(in_Sizze_1);
	void* v5 = (void*)(v4 + (char*)in_Ptr_2);
	uint8_t v6 = *(uint8_t*)v5;
	return v6;
}
static void mw_std_maybe_Maybe_1_if_2_sp5 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusNeeds_2, PTUP in_List_3, PTUP in_Maybe_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusNeeds_6) {
	int64_t v7 = PTREXTRA(in_Maybe_4);
	decref(MKTUP(in_Maybe_4));
	INT v8 = WRAP_I63(0LL);
	INT v9 = v8;
	INT v10 = i64_to_int(v7);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	PTUP branch_ZPlusMirth_13;
	PTUP branch_ZPlusNeeds_14;
	if (v12) {
		PTUP v15;
		PTUP v16;
		mw_mirth_need_ZPlusNeeds_runZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v15, &v16);
		branch_ZPlusNeeds_14 = v16;
		branch_ZPlusMirth_13 = v15;
	} else {
		PTUP v17;
		PTUP v18;
		mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v17, &v18);
		branch_ZPlusNeeds_14 = v18;
		branch_ZPlusMirth_13 = v17;
	}
	*out_ZPlusNeeds_6 = branch_ZPlusNeeds_14;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_13;
}
static void mw_std_list_List_1_for_1_sp53 (PTUP in_ZPlusLister_1, PTUP in_List_2, PTUP *out_ZPlusLister_3) {
	bool v4 = true;
	PTUP r5 = in_ZPlusLister_1;
	PTUP v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		PTUP r9 = r5;
		PTUP v10 = v6;
		bool v11 = v7;
		PTUP branch_ZPlusLister_12;
		PTUP branch_List_13;
		bool branch_Bool_14;
		switch (PTREXTRA(v10)) {
			case 1LL: { // Cons
				PTUP v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				PTUP v17;
				mw_std_list_ZPlusLister_1_pushZBang(v16, r9, &v17);
				bool v18 = true;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_ZPlusLister_12 = v17;
			} break;
			case 0LL: { // Nil
				PTUP v19 = PTRMK(0LL /* Nil */,0,0);
				bool v20 = false;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_ZPlusLister_12 = r9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		r5 = branch_ZPlusLister_12;
	}
	decref(MKTUP(v6));
	*out_ZPlusLister_3 = r5;
}
static PTUP mw_std_maybe_Maybe_1_filter_1_sp5 (PTUP in_ZPlusMirth_1, PTUP in_Type_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_5, PTUP *out_Maybe_6) {
	PTUP branch_Type_7;
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			incref(MKTUP(in_Type_2));
			PTUP v11;
			bool v12 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(MKU64(value_u64(v10))), VTUP(MKTUP(in_Type_2)), &v11);
			bool v13 = !v12;
			PTUP branch_Type_14;
			PTUP branch_ZPlusMirth_15;
			PTUP branch_Maybe_16;
			if (v13) {
				PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v10)));
				branch_Maybe_16 = v17;
				branch_ZPlusMirth_15 = v11;
				branch_Type_14 = VTUP(MKTUP(in_Type_2));
			} else {
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_16 = v18;
				branch_ZPlusMirth_15 = v11;
				branch_Type_14 = VTUP(MKTUP(in_Type_2));
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
			branch_Type_7 = branch_Type_14;
		} break;
		case 0LL: { // None
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Type_7 = in_Type_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_6 = branch_Maybe_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Type_7;
}
static PTUP mw_std_maybe_Maybe_1_filter_1_sp6 (PTUP in_ZPlusMirth_1, PTUP in_Resource_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_5, PTUP *out_Maybe_6) {
	PTUP branch_Resource_7;
	PTUP branch_ZPlusMirth_8;
	PTUP branch_Maybe_9;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			incref(MKTUP(in_Resource_2));
			PTUP v11;
			bool v12 = mw_mirth_type_Resource_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(MKU64(value_u64(v10))), VTUP(MKTUP(in_Resource_2)), &v11);
			bool v13 = !v12;
			PTUP branch_Resource_14;
			PTUP branch_ZPlusMirth_15;
			PTUP branch_Maybe_16;
			if (v13) {
				PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v10)));
				branch_Maybe_16 = v17;
				branch_ZPlusMirth_15 = v11;
				branch_Resource_14 = VTUP(MKTUP(in_Resource_2));
			} else {
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_16 = v18;
				branch_ZPlusMirth_15 = v11;
				branch_Resource_14 = VTUP(MKTUP(in_Resource_2));
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
			branch_Resource_7 = branch_Resource_14;
		} break;
		case 0LL: { // None
			PTUP v19 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Resource_7 = in_Resource_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_6 = branch_Maybe_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Resource_7;
}
static PTUP mw_std_maybe_Maybe_1_ifZAsk_2_sp55 (PTUP in_Maybe_1) {
	PTUP branch_StackType_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = ((TUP*)PTRPTR(value_tup(v4)))->cells[0];
			VAL v6 = ((TUP*)PTRPTR(value_tup(v4)))->cells[1];
			tup_decref_outer(value_tup(v4));
			decref(v6);
			branch_StackType_3 = VTUP(v5);
		} break;
		case 0LL: { // None
			PTUP v7 = PTRMK(0LL /* Error */,0,0);
			branch_StackType_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_StackType_3;
}
static void mw_std_list_List_1_for_1_sp59 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	bool v6 = true;
	PTUP r7 = in_ZPlusMirth_1;
	PTUP r8 = in_ZPlusAB_2;
	PTUP v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP r12 = r7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_ZPlusMirth_16;
		PTUP branch_ZPlusAB_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				VAL v22 = ((TUP*)PTRPTR(value_tup(v21)))->cells[0];
				VAL v23 = ((TUP*)PTRPTR(value_tup(v21)))->cells[1];
				tup_decref_outer(value_tup(v21));
				PTUP v24;
				PTUP v25;
				mw_mirth_elab_ZPlusAB_abZ_argZ_unifyZ_typeZBang(r12, r13, VTUP(v22), value_u64(v23), &v24, &v25);
				bool v26 = true;
				branch_Bool_19 = v26;
				branch_List_18 = v20;
				branch_ZPlusAB_17 = v25;
				branch_ZPlusMirth_16 = v24;
			} break;
			case 0LL: { // Nil
				PTUP v27 = PTRMK(0LL /* Nil */,0,0);
				bool v28 = false;
				branch_Bool_19 = v28;
				branch_List_18 = v27;
				branch_ZPlusAB_17 = r13;
				branch_ZPlusMirth_16 = r12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusAB_17;
		r7 = branch_ZPlusMirth_16;
	}
	decref(MKTUP(v9));
	*out_ZPlusAB_5 = r8;
	*out_ZPlusMirth_4 = r7;
}
static void mw_std_map_Map_2_forZ_pairs_1_sp1 (INT in_Nat_1, uint64_t in_Label_2, INT in_Nat_3, uint64_t in_Label_4, PTUP in_ZPlusAB_5, PTUP in_StackTypeCounts_6, PTUP in_ZPlusMirth_7, PTUP in_Map_8, INT *out_Nat_9, uint64_t *out_Label_10, INT *out_Nat_11, uint64_t *out_Label_12, PTUP *out_ZPlusAB_13, PTUP *out_StackTypeCounts_14, PTUP *out_ZPlusMirth_15) {
	bool v16 = true;
	INT v17 = in_Nat_1;
	uint64_t v18 = in_Label_2;
	INT v19 = in_Nat_3;
	uint64_t v20 = in_Label_4;
	PTUP r21 = in_ZPlusAB_5;
	PTUP v22 = in_StackTypeCounts_6;
	PTUP r23 = in_ZPlusMirth_7;
	PTUP v24 = in_Map_8;
	bool v25 = v16;
	bool v26 = v16;
	while (v26) {
		INT v27 = v17;
		uint64_t v28 = v18;
		INT v29 = v19;
		uint64_t v30 = v20;
		PTUP r31 = r21;
		PTUP v32 = v22;
		PTUP r33 = r23;
		PTUP v34 = v24;
		bool v35 = v25;
		INT branch_Nat_36;
		uint64_t branch_Label_37;
		INT branch_Nat_38;
		uint64_t branch_Label_39;
		PTUP branch_ZPlusAB_40;
		PTUP branch_StackTypeCounts_41;
		PTUP branch_ZPlusMirth_42;
		PTUP branch_List_43;
		bool branch_Bool_44;
		switch (PTREXTRA(v34)) {
			case 1LL: { // Cons
				PTUP v45;
				VAL v46 = mtp_std_list_List_1_Cons(v34, &v45);
				VAL v47;
				VAL v48 = mw_std_map_KeyValuePair_2_pair(VTUP(v46), &v47);
				PTUP v49;
				bool v50 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(r33, value_u64(v48), &v49);
				INT branch_Nat_51;
				uint64_t branch_Label_52;
				INT branch_Nat_53;
				uint64_t branch_Label_54;
				PTUP branch_ZPlusAB_55;
				INT branch_Nat_56;
				uint64_t branch_Label_57;
				PTUP branch_StackTypeCounts_58;
				PTUP branch_ZPlusMirth_59;
				if (v50) {
					incref(MKTUP(v32));
					PTUP v60;
					INT v61 = mw_mirth_type_StackTypeCounts_label(v49, value_u64(v48), v32, &v60);
					incref(MKNAT(v61));
					INT v62 = WRAP_I63(0LL);
					INT v63 = v61;
					INT v64 = v62;
					bool v65 = int_lt(v64, v63);
					PTUP r66 = r31;
					PTUP r67 = v60;
					uint64_t v68 = value_u64(v48);
					INT v69 = v61;
					bool v70 = v65;
					while (v70) {
						PTUP r71 = r66;
						PTUP r72 = r67;
						uint64_t v73 = v68;
						INT v74 = v69;
						PTUP v75;
						PTUP v76;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(r72, r71, v73, &v75, &v76);
						INT v77 = WRAP_I63(1LL);
						INT v78 = v74;
						INT v79 = v77;
						INT v80 = int_sub(v78, v79);
						incref(MKINT(v80));
						INT v81 = WRAP_I63(0LL);
						INT v82 = v81;
						bool v83 = int_le(v82, v80);
						INT branch_Nat_84;
						if (v83) {
							INT v85 = v80;
							branch_Nat_84 = v85;
						} else {
							decref(MKINT(v80));
							INT v86 = WRAP_I63(0LL);
							branch_Nat_84 = v86;
						}
						incref(MKNAT(branch_Nat_84));
						INT v87 = WRAP_I63(0LL);
						INT v88 = branch_Nat_84;
						INT v89 = v87;
						bool v90 = int_lt(v89, v88);
						v70 = v90;
						v69 = branch_Nat_84;
						v68 = v73;
						r67 = v75;
						r66 = v76;
					}
					decref(MKNAT(v69));
					incref(MKNAT(value_nat(v47)));
					incref(MKNAT(value_nat(v47)));
					INT v91 = WRAP_I63(0LL);
					INT v92 = value_nat(v47);
					INT v93 = v91;
					bool v94 = int_lt(v93, v92);
					INT v95 = v29;
					uint64_t v96 = v30;
					PTUP r97 = r66;
					PTUP r98 = r67;
					uint64_t v99 = v68;
					INT v100 = value_nat(v47);
					bool v101 = v94;
					while (v101) {
						INT v102 = v95;
						uint64_t v103 = v96;
						PTUP r104 = r97;
						PTUP r105 = r98;
						uint64_t v106 = v99;
						INT v107 = v100;
						PTUP v108;
						PTUP v109;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(r105, r104, v106, &v108, &v109);
						PTUP v110;
						PTUP v111;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v108, v109, v103, &v110, &v111);
						INT v112 = WRAP_I63(1LL);
						INT v113 = v102;
						INT v114 = v112;
						INT v115 = int_add(v113, v114);
						INT v116 = v115;
						INT v117 = WRAP_I63(1LL);
						INT v118 = v107;
						INT v119 = v117;
						INT v120 = int_sub(v118, v119);
						incref(MKINT(v120));
						INT v121 = WRAP_I63(0LL);
						INT v122 = v121;
						bool v123 = int_le(v122, v120);
						INT branch_Nat_124;
						if (v123) {
							INT v125 = v120;
							branch_Nat_124 = v125;
						} else {
							decref(MKINT(v120));
							INT v126 = WRAP_I63(0LL);
							branch_Nat_124 = v126;
						}
						incref(MKNAT(branch_Nat_124));
						INT v127 = WRAP_I63(0LL);
						INT v128 = branch_Nat_124;
						INT v129 = v127;
						bool v130 = int_lt(v129, v128);
						v101 = v130;
						v100 = branch_Nat_124;
						v99 = v106;
						r98 = v110;
						r97 = v111;
						v96 = v103;
						v95 = v116;
					}
					decref(MKNAT(v100));
					incref(MKTUP(v32));
					PTUP v131;
					INT v132 = mw_mirth_type_StackTypeCounts_label(r98, v99, v32, &v131);
					incref(MKNAT(v132));
					INT v133 = WRAP_I63(0LL);
					INT v134 = v132;
					INT v135 = v133;
					bool v136 = int_lt(v135, v134);
					PTUP r137 = r97;
					PTUP r138 = v131;
					uint64_t v139 = v99;
					INT v140 = v132;
					bool v141 = v136;
					while (v141) {
						PTUP r142 = r137;
						PTUP r143 = r138;
						uint64_t v144 = v139;
						INT v145 = v140;
						PTUP v146;
						PTUP v147;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(r143, r142, v144, &v146, &v147);
						INT v148 = WRAP_I63(1LL);
						INT v149 = v145;
						INT v150 = v148;
						INT v151 = int_sub(v149, v150);
						incref(MKINT(v151));
						INT v152 = WRAP_I63(0LL);
						INT v153 = v152;
						bool v154 = int_le(v153, v151);
						INT branch_Nat_155;
						if (v154) {
							INT v156 = v151;
							branch_Nat_155 = v156;
						} else {
							decref(MKINT(v151));
							INT v157 = WRAP_I63(0LL);
							branch_Nat_155 = v157;
						}
						incref(MKNAT(branch_Nat_155));
						INT v158 = WRAP_I63(0LL);
						INT v159 = branch_Nat_155;
						INT v160 = v158;
						bool v161 = int_lt(v160, v159);
						v141 = v161;
						v140 = branch_Nat_155;
						v139 = v144;
						r138 = v146;
						r137 = v147;
					}
					decref(MKNAT(v140));
					branch_ZPlusMirth_59 = r138;
					branch_StackTypeCounts_58 = v32;
					branch_Label_57 = v139;
					branch_Nat_56 = value_nat(v47);
					branch_ZPlusAB_55 = r137;
					branch_Label_54 = v96;
					branch_Nat_53 = v95;
					branch_Label_52 = v28;
					branch_Nat_51 = v27;
				} else {
					incref(MKTUP(v32));
					PTUP v162;
					INT v163 = mw_mirth_type_StackTypeCounts_label(v49, value_u64(v48), v32, &v162);
					incref(MKNAT(v163));
					INT v164 = WRAP_I63(0LL);
					INT v165 = v163;
					INT v166 = v164;
					bool v167 = int_lt(v166, v165);
					PTUP r168 = r31;
					PTUP r169 = v162;
					uint64_t v170 = value_u64(v48);
					INT v171 = v163;
					bool v172 = v167;
					while (v172) {
						PTUP r173 = r168;
						PTUP r174 = r169;
						uint64_t v175 = v170;
						INT v176 = v171;
						PTUP v177;
						PTUP v178;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r174, r173, v175, &v177, &v178);
						INT v179 = WRAP_I63(1LL);
						INT v180 = v176;
						INT v181 = v179;
						INT v182 = int_sub(v180, v181);
						incref(MKINT(v182));
						INT v183 = WRAP_I63(0LL);
						INT v184 = v183;
						bool v185 = int_le(v184, v182);
						INT branch_Nat_186;
						if (v185) {
							INT v187 = v182;
							branch_Nat_186 = v187;
						} else {
							decref(MKINT(v182));
							INT v188 = WRAP_I63(0LL);
							branch_Nat_186 = v188;
						}
						incref(MKNAT(branch_Nat_186));
						INT v189 = WRAP_I63(0LL);
						INT v190 = branch_Nat_186;
						INT v191 = v189;
						bool v192 = int_lt(v191, v190);
						v172 = v192;
						v171 = branch_Nat_186;
						v170 = v175;
						r169 = v177;
						r168 = v178;
					}
					decref(MKNAT(v171));
					incref(MKNAT(value_nat(v47)));
					incref(MKNAT(value_nat(v47)));
					INT v193 = WRAP_I63(0LL);
					INT v194 = value_nat(v47);
					INT v195 = v193;
					bool v196 = int_lt(v195, v194);
					INT v197 = v27;
					uint64_t v198 = v28;
					PTUP r199 = r168;
					PTUP r200 = r169;
					uint64_t v201 = v170;
					INT v202 = value_nat(v47);
					bool v203 = v196;
					while (v203) {
						INT v204 = v197;
						uint64_t v205 = v198;
						PTUP r206 = r199;
						PTUP r207 = r200;
						uint64_t v208 = v201;
						INT v209 = v202;
						PTUP v210;
						PTUP v211;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r207, r206, v208, &v210, &v211);
						PTUP v212;
						PTUP v213;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v210, v211, v205, &v212, &v213);
						INT v214 = WRAP_I63(1LL);
						INT v215 = v204;
						INT v216 = v214;
						INT v217 = int_add(v215, v216);
						INT v218 = v217;
						INT v219 = WRAP_I63(1LL);
						INT v220 = v209;
						INT v221 = v219;
						INT v222 = int_sub(v220, v221);
						incref(MKINT(v222));
						INT v223 = WRAP_I63(0LL);
						INT v224 = v223;
						bool v225 = int_le(v224, v222);
						INT branch_Nat_226;
						if (v225) {
							INT v227 = v222;
							branch_Nat_226 = v227;
						} else {
							decref(MKINT(v222));
							INT v228 = WRAP_I63(0LL);
							branch_Nat_226 = v228;
						}
						incref(MKNAT(branch_Nat_226));
						INT v229 = WRAP_I63(0LL);
						INT v230 = branch_Nat_226;
						INT v231 = v229;
						bool v232 = int_lt(v231, v230);
						v203 = v232;
						v202 = branch_Nat_226;
						v201 = v208;
						r200 = v212;
						r199 = v213;
						v198 = v205;
						v197 = v218;
					}
					decref(MKNAT(v202));
					incref(MKTUP(v32));
					PTUP v233;
					INT v234 = mw_mirth_type_StackTypeCounts_label(r200, v201, v32, &v233);
					incref(MKNAT(v234));
					INT v235 = WRAP_I63(0LL);
					INT v236 = v234;
					INT v237 = v235;
					bool v238 = int_lt(v237, v236);
					PTUP r239 = r199;
					PTUP r240 = v233;
					uint64_t v241 = v201;
					INT v242 = v234;
					bool v243 = v238;
					while (v243) {
						PTUP r244 = r239;
						PTUP r245 = r240;
						uint64_t v246 = v241;
						INT v247 = v242;
						PTUP v248;
						PTUP v249;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(r245, r244, v246, &v248, &v249);
						INT v250 = WRAP_I63(1LL);
						INT v251 = v247;
						INT v252 = v250;
						INT v253 = int_sub(v251, v252);
						incref(MKINT(v253));
						INT v254 = WRAP_I63(0LL);
						INT v255 = v254;
						bool v256 = int_le(v255, v253);
						INT branch_Nat_257;
						if (v256) {
							INT v258 = v253;
							branch_Nat_257 = v258;
						} else {
							decref(MKINT(v253));
							INT v259 = WRAP_I63(0LL);
							branch_Nat_257 = v259;
						}
						incref(MKNAT(branch_Nat_257));
						INT v260 = WRAP_I63(0LL);
						INT v261 = branch_Nat_257;
						INT v262 = v260;
						bool v263 = int_lt(v262, v261);
						v243 = v263;
						v242 = branch_Nat_257;
						v241 = v246;
						r240 = v248;
						r239 = v249;
					}
					decref(MKNAT(v242));
					branch_ZPlusMirth_59 = r240;
					branch_StackTypeCounts_58 = v32;
					branch_Label_57 = v241;
					branch_Nat_56 = value_nat(v47);
					branch_ZPlusAB_55 = r239;
					branch_Label_54 = v30;
					branch_Nat_53 = v29;
					branch_Label_52 = v198;
					branch_Nat_51 = v197;
				}
				decref(MKNAT(branch_Nat_56));
				bool v264 = true;
				branch_Bool_44 = v264;
				branch_List_43 = v45;
				branch_ZPlusMirth_42 = branch_ZPlusMirth_59;
				branch_StackTypeCounts_41 = branch_StackTypeCounts_58;
				branch_ZPlusAB_40 = branch_ZPlusAB_55;
				branch_Label_39 = branch_Label_54;
				branch_Nat_38 = branch_Nat_53;
				branch_Label_37 = branch_Label_52;
				branch_Nat_36 = branch_Nat_51;
			} break;
			case 0LL: { // Nil
				PTUP v265 = PTRMK(0LL /* Nil */,0,0);
				bool v266 = false;
				branch_Bool_44 = v266;
				branch_List_43 = v265;
				branch_ZPlusMirth_42 = r33;
				branch_StackTypeCounts_41 = v32;
				branch_ZPlusAB_40 = r31;
				branch_Label_39 = v30;
				branch_Nat_38 = v29;
				branch_Label_37 = v28;
				branch_Nat_36 = v27;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v26 = branch_Bool_44;
		v25 = branch_Bool_44;
		v24 = branch_List_43;
		r23 = branch_ZPlusMirth_42;
		v22 = branch_StackTypeCounts_41;
		r21 = branch_ZPlusAB_40;
		v20 = branch_Label_39;
		v19 = branch_Nat_38;
		v18 = branch_Label_37;
		v17 = branch_Nat_36;
	}
	decref(MKTUP(v24));
	*out_ZPlusMirth_15 = r23;
	*out_StackTypeCounts_14 = v22;
	*out_ZPlusAB_13 = r21;
	*out_Label_12 = v20;
	*out_Nat_11 = v19;
	*out_Label_10 = v18;
	*out_Nat_9 = v17;
}
static void mw_mirth_elab_ZPlusAB_abZ_rdipZ_nZBang_1_sp1 (PTUP in_Home_1, uint64_t in_Token_2, PTUP in_Ctx_3, PTUP in_Op_4, PTUP in_List_5, PTUP in_Subst_6, PTUP in_StackType_7, PTUP in_List_8, PTUP in_StackType_9, VAL in_z_x1_10, VAL in_z_x2_11, VAL in_z_x3_12, VAL in_z_x4_13, VAL in_z_x5_14, VAL in_z_x6_15, VAL in_z_x7_16, VAL in_z_x8_17, INT in_Nat_18, PTUP in_ZPlusMirth_19, PTUP in_ZPlusAB_20, INT in_Nat_21, PTUP *out_StackType_22, PTUP *out_StackType_23, VAL *out_z_x1_24, INT *out_Nat_25, VAL *out_z_x2_26, VAL *out_z_x3_27, VAL *out_z_x4_28, VAL *out_z_x5_29, VAL *out_z_x6_30, VAL *out_z_x7_31, VAL *out_z_x8_32, PTUP *out_ZPlusMirth_33, PTUP *out_ZPlusAB_34) {
	incref(MKNAT(in_Nat_21));
	INT v35 = WRAP_I63(0LL);
	INT v36 = in_Nat_21;
	INT v37 = v35;
	bool v38 = int_lt(v37, v36);
	PTUP branch_StackType_39;
	PTUP branch_StackType_40;
	VAL branch_z_x1_41;
	INT branch_Nat_42;
	VAL branch_z_x2_43;
	VAL branch_z_x3_44;
	VAL branch_z_x4_45;
	VAL branch_z_x5_46;
	VAL branch_z_x6_47;
	VAL branch_z_x7_48;
	VAL branch_z_x8_49;
	PTUP branch_ZPlusMirth_50;
	PTUP branch_ZPlusAB_51;
	if (v38) {
		PTUP v52;
		PTUP v53 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_20, &v52);
		PTUP v54;
		PTUP v55 = mw_mirth_type_StackType_forceZ_withZAskZBang(in_ZPlusMirth_19, v53, &v54);
		PTUP v56 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v55);
		PTUP v57;
		PTUP v58 = mw_mirth_type_StackType_FreshZBang(v54, &v57);
		PTUP v59 = mw_mirth_type_TZ_ZTo(v56, v58);
		PTUP v60;
		PTUP v61 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v52, &v60);
		PTUP v62;
		uint64_t v63 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v60, &v62);
		PTUP v64;
		PTUP v65 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v62, &v64);
		PTUP v66;
		PTUP v67;
		mtp_mirth_type_ArrowType_ArrowType(v59, &v66, &v67);
		incref(MKTUP(v66));
		PTUP v68 = PTRMK(0LL /* Nil */,0,0);
		PTUP v69 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v65)), value_u64(MKU64(v63)), value_u64(MKU64(v63)), v61, v66, v66, v68);
		INT v70 = WRAP_I63(1LL);
		INT v71 = in_Nat_21;
		INT v72 = v70;
		INT v73 = int_sub(v71, v72);
		incref(MKINT(v73));
		INT v74 = WRAP_I63(0LL);
		INT v75 = v74;
		bool v76 = int_le(v75, v73);
		INT branch_Nat_77;
		if (v76) {
			INT v78 = v73;
			branch_Nat_77 = v78;
		} else {
			decref(MKINT(v73));
			INT v79 = WRAP_I63(0LL);
			branch_Nat_77 = v79;
		}
		PTUP v80;
		PTUP v81;
		VAL v82;
		INT v83;
		VAL v84;
		VAL v85;
		VAL v86;
		VAL v87;
		VAL v88;
		VAL v89;
		VAL v90;
		PTUP v91;
		PTUP v92;
		mw_mirth_elab_ZPlusAB_abZ_rdipZ_nZBang_1_sp1(in_Home_1, in_Token_2, in_Ctx_3, in_Op_4, in_List_5, in_Subst_6, in_StackType_7, in_List_8, in_StackType_9, in_z_x1_10, in_z_x2_11, in_z_x3_12, in_z_x4_13, in_z_x5_14, in_z_x6_15, in_z_x7_16, in_z_x8_17, in_Nat_18, v57, v69, branch_Nat_77, &v80, &v81, &v82, &v83, &v84, &v85, &v86, &v87, &v88, &v89, &v90, &v91, &v92);
		PTUP v93;
		PTUP v94;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v91, v92, v67, &v93, &v94);
		PTUP v95;
		uint64_t v96 = mw_mirth_arrow_Block_NewZBang(v93, v94, &v95);
		PTUP v97 = PTRMK(0LL /* Nil */,0,0);
		PTUP v98 = mw_std_list_List_1_cons(MKU64(v96), v97);
		int64_t v99 = 6LL /* RDip */;
		PTUP v100;
		PTUP v101;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v95, v64, v98, v99, &v100, &v101);
		branch_ZPlusAB_51 = v101;
		branch_ZPlusMirth_50 = v100;
		branch_z_x8_49 = v90;
		branch_z_x7_48 = v89;
		branch_z_x6_47 = v88;
		branch_z_x5_46 = v87;
		branch_z_x4_45 = v86;
		branch_z_x3_44 = v85;
		branch_z_x2_43 = v84;
		branch_Nat_42 = v83;
		branch_z_x1_41 = v82;
		branch_StackType_40 = v81;
		branch_StackType_39 = v80;
	} else {
		decref(MKNAT(in_Nat_21));
		incref(MKNAT(in_Nat_18));
		PTUP v102;
		PTUP v103;
		VAL v104;
		VAL v105;
		VAL v106;
		VAL v107;
		VAL v108;
		VAL v109;
		VAL v110;
		VAL v111;
		VAL v112;
		PTUP v113;
		PTUP v114;
		mw_mirth_elab_ZPlusAB_abZ_dipZ_nZBang_1_sp1(in_Home_1, in_Token_2, in_Ctx_3, in_Op_4, in_List_5, in_Subst_6, in_StackType_7, in_List_8, in_StackType_9, in_z_x1_10, MKNAT(in_Nat_18), in_z_x2_11, in_z_x3_12, in_z_x4_13, in_z_x5_14, in_z_x6_15, in_z_x7_16, in_z_x8_17, in_ZPlusMirth_19, in_ZPlusAB_20, in_Nat_18, &v102, &v103, &v104, &v105, &v106, &v107, &v108, &v109, &v110, &v111, &v112, &v113, &v114);
		branch_ZPlusAB_51 = v114;
		branch_ZPlusMirth_50 = v113;
		branch_z_x8_49 = v112;
		branch_z_x7_48 = v111;
		branch_z_x6_47 = v110;
		branch_z_x5_46 = v109;
		branch_z_x4_45 = v108;
		branch_z_x3_44 = v107;
		branch_z_x2_43 = v106;
		branch_Nat_42 = value_nat(v105);
		branch_z_x1_41 = v104;
		branch_StackType_40 = v103;
		branch_StackType_39 = v102;
	}
	*out_ZPlusAB_34 = branch_ZPlusAB_51;
	*out_ZPlusMirth_33 = branch_ZPlusMirth_50;
	*out_z_x8_32 = branch_z_x8_49;
	*out_z_x7_31 = branch_z_x7_48;
	*out_z_x6_30 = branch_z_x6_47;
	*out_z_x5_29 = branch_z_x5_46;
	*out_z_x4_28 = branch_z_x4_45;
	*out_z_x3_27 = branch_z_x3_44;
	*out_z_x2_26 = branch_z_x2_43;
	*out_Nat_25 = branch_Nat_42;
	*out_z_x1_24 = branch_z_x1_41;
	*out_StackType_23 = branch_StackType_40;
	*out_StackType_22 = branch_StackType_39;
}
static void mw_std_map_Map_2_reverseZ_forZ_pairs_1_sp1 (uint64_t in_Label_1, uint64_t in_Label_2, PTUP in_StackTypeCounts_3, PTUP in_ZPlusMirth_4, PTUP in_ZPlusAB_5, PTUP in_Map_6, uint64_t *out_Label_7, uint64_t *out_Label_8, PTUP *out_StackTypeCounts_9, PTUP *out_ZPlusMirth_10, PTUP *out_ZPlusAB_11) {
	PTUP v12 = mw_std_list_List_1_reverse(in_Map_6);
	bool v13 = true;
	uint64_t v14 = in_Label_1;
	uint64_t v15 = in_Label_2;
	PTUP v16 = in_StackTypeCounts_3;
	PTUP r17 = in_ZPlusMirth_4;
	PTUP r18 = in_ZPlusAB_5;
	PTUP v19 = v12;
	bool v20 = v13;
	bool v21 = v13;
	while (v21) {
		uint64_t v22 = v14;
		uint64_t v23 = v15;
		PTUP v24 = v16;
		PTUP r25 = r17;
		PTUP r26 = r18;
		PTUP v27 = v19;
		bool v28 = v20;
		uint64_t branch_Label_29;
		uint64_t branch_Label_30;
		PTUP branch_StackTypeCounts_31;
		PTUP branch_ZPlusMirth_32;
		PTUP branch_ZPlusAB_33;
		PTUP branch_List_34;
		bool branch_Bool_35;
		switch (PTREXTRA(v27)) {
			case 1LL: { // Cons
				PTUP v36;
				VAL v37 = mtp_std_list_List_1_Cons(v27, &v36);
				VAL v38;
				VAL v39 = mw_std_map_KeyValuePair_2_pair(VTUP(v37), &v38);
				PTUP v40;
				bool v41 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(r25, value_u64(v39), &v40);
				uint64_t branch_Label_42;
				uint64_t branch_Label_43;
				PTUP branch_ZPlusAB_44;
				INT branch_Nat_45;
				uint64_t branch_Label_46;
				PTUP branch_StackTypeCounts_47;
				PTUP branch_ZPlusMirth_48;
				if (v41) {
					incref(MKTUP(v24));
					PTUP v49;
					INT v50 = mw_mirth_type_StackTypeCounts_label(v40, value_u64(v39), v24, &v49);
					incref(MKNAT(v50));
					INT v51 = WRAP_I63(0LL);
					INT v52 = v50;
					INT v53 = v51;
					bool v54 = int_lt(v53, v52);
					PTUP r55 = r26;
					PTUP r56 = v49;
					uint64_t v57 = value_u64(v39);
					INT v58 = v50;
					bool v59 = v54;
					while (v59) {
						PTUP r60 = r55;
						PTUP r61 = r56;
						uint64_t v62 = v57;
						INT v63 = v58;
						PTUP v64;
						PTUP v65;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(r61, r60, v62, &v64, &v65);
						INT v66 = WRAP_I63(1LL);
						INT v67 = v63;
						INT v68 = v66;
						INT v69 = int_sub(v67, v68);
						incref(MKINT(v69));
						INT v70 = WRAP_I63(0LL);
						INT v71 = v70;
						bool v72 = int_le(v71, v69);
						INT branch_Nat_73;
						if (v72) {
							INT v74 = v69;
							branch_Nat_73 = v74;
						} else {
							decref(MKINT(v69));
							INT v75 = WRAP_I63(0LL);
							branch_Nat_73 = v75;
						}
						incref(MKNAT(branch_Nat_73));
						INT v76 = WRAP_I63(0LL);
						INT v77 = branch_Nat_73;
						INT v78 = v76;
						bool v79 = int_lt(v78, v77);
						v59 = v79;
						v58 = branch_Nat_73;
						v57 = v62;
						r56 = v64;
						r55 = v65;
					}
					decref(MKNAT(v58));
					incref(MKNAT(value_nat(v38)));
					incref(MKNAT(value_nat(v38)));
					INT v80 = WRAP_I63(0LL);
					INT v81 = value_nat(v38);
					INT v82 = v80;
					bool v83 = int_lt(v82, v81);
					uint64_t v84 = v57;
					PTUP r85 = r55;
					PTUP r86 = r56;
					uint64_t v87 = v23;
					INT v88 = value_nat(v38);
					bool v89 = v83;
					while (v89) {
						uint64_t v90 = v84;
						PTUP r91 = r85;
						PTUP r92 = r86;
						uint64_t v93 = v87;
						INT v94 = v88;
						PTUP v95;
						PTUP v96;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(r92, r91, v93, &v95, &v96);
						PTUP v97;
						PTUP v98;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v95, v96, v90, &v97, &v98);
						INT v99 = WRAP_I63(1LL);
						INT v100 = v94;
						INT v101 = v99;
						INT v102 = int_sub(v100, v101);
						incref(MKINT(v102));
						INT v103 = WRAP_I63(0LL);
						INT v104 = v103;
						bool v105 = int_le(v104, v102);
						INT branch_Nat_106;
						if (v105) {
							INT v107 = v102;
							branch_Nat_106 = v107;
						} else {
							decref(MKINT(v102));
							INT v108 = WRAP_I63(0LL);
							branch_Nat_106 = v108;
						}
						incref(MKNAT(branch_Nat_106));
						INT v109 = WRAP_I63(0LL);
						INT v110 = branch_Nat_106;
						INT v111 = v109;
						bool v112 = int_lt(v111, v110);
						v89 = v112;
						v88 = branch_Nat_106;
						v87 = v93;
						r86 = v97;
						r85 = v98;
						v84 = v90;
					}
					decref(MKNAT(v88));
					incref(MKTUP(v24));
					PTUP v113;
					INT v114 = mw_mirth_type_StackTypeCounts_label(r86, v84, v24, &v113);
					incref(MKNAT(v114));
					INT v115 = WRAP_I63(0LL);
					INT v116 = v114;
					INT v117 = v115;
					bool v118 = int_lt(v117, v116);
					PTUP r119 = r85;
					PTUP r120 = v113;
					uint64_t v121 = v84;
					INT v122 = v114;
					bool v123 = v118;
					while (v123) {
						PTUP r124 = r119;
						PTUP r125 = r120;
						uint64_t v126 = v121;
						INT v127 = v122;
						PTUP v128;
						PTUP v129;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(r125, r124, v126, &v128, &v129);
						INT v130 = WRAP_I63(1LL);
						INT v131 = v127;
						INT v132 = v130;
						INT v133 = int_sub(v131, v132);
						incref(MKINT(v133));
						INT v134 = WRAP_I63(0LL);
						INT v135 = v134;
						bool v136 = int_le(v135, v133);
						INT branch_Nat_137;
						if (v136) {
							INT v138 = v133;
							branch_Nat_137 = v138;
						} else {
							decref(MKINT(v133));
							INT v139 = WRAP_I63(0LL);
							branch_Nat_137 = v139;
						}
						incref(MKNAT(branch_Nat_137));
						INT v140 = WRAP_I63(0LL);
						INT v141 = branch_Nat_137;
						INT v142 = v140;
						bool v143 = int_lt(v142, v141);
						v123 = v143;
						v122 = branch_Nat_137;
						v121 = v126;
						r120 = v128;
						r119 = v129;
					}
					decref(MKNAT(v122));
					branch_ZPlusMirth_48 = r120;
					branch_StackTypeCounts_47 = v24;
					branch_Label_46 = v121;
					branch_Nat_45 = value_nat(v38);
					branch_ZPlusAB_44 = r119;
					branch_Label_43 = v87;
					branch_Label_42 = v22;
				} else {
					incref(MKTUP(v24));
					PTUP v144;
					INT v145 = mw_mirth_type_StackTypeCounts_label(v40, value_u64(v39), v24, &v144);
					incref(MKNAT(v145));
					INT v146 = WRAP_I63(0LL);
					INT v147 = v145;
					INT v148 = v146;
					bool v149 = int_lt(v148, v147);
					PTUP r150 = r26;
					PTUP r151 = v144;
					uint64_t v152 = value_u64(v39);
					INT v153 = v145;
					bool v154 = v149;
					while (v154) {
						PTUP r155 = r150;
						PTUP r156 = r151;
						uint64_t v157 = v152;
						INT v158 = v153;
						PTUP v159;
						PTUP v160;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r156, r155, v157, &v159, &v160);
						INT v161 = WRAP_I63(1LL);
						INT v162 = v158;
						INT v163 = v161;
						INT v164 = int_sub(v162, v163);
						incref(MKINT(v164));
						INT v165 = WRAP_I63(0LL);
						INT v166 = v165;
						bool v167 = int_le(v166, v164);
						INT branch_Nat_168;
						if (v167) {
							INT v169 = v164;
							branch_Nat_168 = v169;
						} else {
							decref(MKINT(v164));
							INT v170 = WRAP_I63(0LL);
							branch_Nat_168 = v170;
						}
						incref(MKNAT(branch_Nat_168));
						INT v171 = WRAP_I63(0LL);
						INT v172 = branch_Nat_168;
						INT v173 = v171;
						bool v174 = int_lt(v173, v172);
						v154 = v174;
						v153 = branch_Nat_168;
						v152 = v157;
						r151 = v159;
						r150 = v160;
					}
					decref(MKNAT(v153));
					incref(MKNAT(value_nat(v38)));
					incref(MKNAT(value_nat(v38)));
					INT v175 = WRAP_I63(0LL);
					INT v176 = value_nat(v38);
					INT v177 = v175;
					bool v178 = int_lt(v177, v176);
					uint64_t v179 = v152;
					PTUP r180 = r150;
					PTUP r181 = r151;
					uint64_t v182 = v22;
					INT v183 = value_nat(v38);
					bool v184 = v178;
					while (v184) {
						uint64_t v185 = v179;
						PTUP r186 = r180;
						PTUP r187 = r181;
						uint64_t v188 = v182;
						INT v189 = v183;
						PTUP v190;
						PTUP v191;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(r187, r186, v188, &v190, &v191);
						PTUP v192;
						PTUP v193;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v190, v191, v185, &v192, &v193);
						INT v194 = WRAP_I63(1LL);
						INT v195 = v189;
						INT v196 = v194;
						INT v197 = int_sub(v195, v196);
						incref(MKINT(v197));
						INT v198 = WRAP_I63(0LL);
						INT v199 = v198;
						bool v200 = int_le(v199, v197);
						INT branch_Nat_201;
						if (v200) {
							INT v202 = v197;
							branch_Nat_201 = v202;
						} else {
							decref(MKINT(v197));
							INT v203 = WRAP_I63(0LL);
							branch_Nat_201 = v203;
						}
						incref(MKNAT(branch_Nat_201));
						INT v204 = WRAP_I63(0LL);
						INT v205 = branch_Nat_201;
						INT v206 = v204;
						bool v207 = int_lt(v206, v205);
						v184 = v207;
						v183 = branch_Nat_201;
						v182 = v188;
						r181 = v192;
						r180 = v193;
						v179 = v185;
					}
					decref(MKNAT(v183));
					incref(MKTUP(v24));
					PTUP v208;
					INT v209 = mw_mirth_type_StackTypeCounts_label(r181, v179, v24, &v208);
					incref(MKNAT(v209));
					INT v210 = WRAP_I63(0LL);
					INT v211 = v209;
					INT v212 = v210;
					bool v213 = int_lt(v212, v211);
					PTUP r214 = r180;
					PTUP r215 = v208;
					uint64_t v216 = v179;
					INT v217 = v209;
					bool v218 = v213;
					while (v218) {
						PTUP r219 = r214;
						PTUP r220 = r215;
						uint64_t v221 = v216;
						INT v222 = v217;
						PTUP v223;
						PTUP v224;
						mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(r220, r219, v221, &v223, &v224);
						INT v225 = WRAP_I63(1LL);
						INT v226 = v222;
						INT v227 = v225;
						INT v228 = int_sub(v226, v227);
						incref(MKINT(v228));
						INT v229 = WRAP_I63(0LL);
						INT v230 = v229;
						bool v231 = int_le(v230, v228);
						INT branch_Nat_232;
						if (v231) {
							INT v233 = v228;
							branch_Nat_232 = v233;
						} else {
							decref(MKINT(v228));
							INT v234 = WRAP_I63(0LL);
							branch_Nat_232 = v234;
						}
						incref(MKNAT(branch_Nat_232));
						INT v235 = WRAP_I63(0LL);
						INT v236 = branch_Nat_232;
						INT v237 = v235;
						bool v238 = int_lt(v237, v236);
						v218 = v238;
						v217 = branch_Nat_232;
						v216 = v221;
						r215 = v223;
						r214 = v224;
					}
					decref(MKNAT(v217));
					branch_ZPlusMirth_48 = r215;
					branch_StackTypeCounts_47 = v24;
					branch_Label_46 = v216;
					branch_Nat_45 = value_nat(v38);
					branch_ZPlusAB_44 = r214;
					branch_Label_43 = v23;
					branch_Label_42 = v182;
				}
				decref(MKNAT(branch_Nat_45));
				bool v239 = true;
				branch_Bool_35 = v239;
				branch_List_34 = v36;
				branch_ZPlusAB_33 = branch_ZPlusAB_44;
				branch_ZPlusMirth_32 = branch_ZPlusMirth_48;
				branch_StackTypeCounts_31 = branch_StackTypeCounts_47;
				branch_Label_30 = branch_Label_43;
				branch_Label_29 = branch_Label_42;
			} break;
			case 0LL: { // Nil
				PTUP v240 = PTRMK(0LL /* Nil */,0,0);
				bool v241 = false;
				branch_Bool_35 = v241;
				branch_List_34 = v240;
				branch_ZPlusAB_33 = r26;
				branch_ZPlusMirth_32 = r25;
				branch_StackTypeCounts_31 = v24;
				branch_Label_30 = v23;
				branch_Label_29 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_35;
		v20 = branch_Bool_35;
		v19 = branch_List_34;
		r18 = branch_ZPlusAB_33;
		r17 = branch_ZPlusMirth_32;
		v16 = branch_StackTypeCounts_31;
		v15 = branch_Label_30;
		v14 = branch_Label_29;
	}
	decref(MKTUP(v19));
	*out_ZPlusAB_11 = r18;
	*out_ZPlusMirth_10 = r17;
	*out_StackTypeCounts_9 = v16;
	*out_Label_8 = v15;
	*out_Label_7 = v14;
}
static PTUP mw_std_maybe_Maybe_1_map_1_sp10 (PTUP in_Maybe_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = ((TUP*)PTRPTR(VTUP(v4)))->cells[1];
			incref(v5);
			decref(MKTUP(VTUP(v4)));
			PTUP v6 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_3 = v6;
		} break;
		case 0LL: { // None
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static void mw_mirth_elab_ZPlusAB_abZ_dipZ_nZBang_1_sp1 (PTUP in_Home_1, uint64_t in_Token_2, PTUP in_Ctx_3, PTUP in_Op_4, PTUP in_List_5, PTUP in_Subst_6, PTUP in_StackType_7, PTUP in_List_8, PTUP in_StackType_9, VAL in_z_x1_10, VAL in_z_x2_11, VAL in_z_x3_12, VAL in_z_x4_13, VAL in_z_x5_14, VAL in_z_x6_15, VAL in_z_x7_16, VAL in_z_x8_17, VAL in_z_x9_18, PTUP in_ZPlusMirth_19, PTUP in_ZPlusAB_20, INT in_Nat_21, PTUP *out_StackType_22, PTUP *out_StackType_23, VAL *out_z_x1_24, VAL *out_z_x2_25, VAL *out_z_x3_26, VAL *out_z_x4_27, VAL *out_z_x5_28, VAL *out_z_x6_29, VAL *out_z_x7_30, VAL *out_z_x8_31, VAL *out_z_x9_32, PTUP *out_ZPlusMirth_33, PTUP *out_ZPlusAB_34) {
	incref(MKNAT(in_Nat_21));
	INT v35 = WRAP_I63(0LL);
	INT v36 = in_Nat_21;
	INT v37 = v35;
	bool v38 = int_lt(v37, v36);
	PTUP branch_StackType_39;
	PTUP branch_StackType_40;
	VAL branch_z_x1_41;
	VAL branch_z_x2_42;
	VAL branch_z_x3_43;
	VAL branch_z_x4_44;
	VAL branch_z_x5_45;
	VAL branch_z_x6_46;
	VAL branch_z_x7_47;
	VAL branch_z_x8_48;
	VAL branch_z_x9_49;
	PTUP branch_ZPlusMirth_50;
	PTUP branch_ZPlusAB_51;
	if (v38) {
		PTUP v52;
		PTUP v53 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_20, &v52);
		PTUP v54;
		PTUP v55 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_19, v53, &v54);
		PTUP v56 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v55);
		PTUP v57;
		PTUP v58 = mw_mirth_type_StackType_FreshZBang(v54, &v57);
		PTUP v59 = mw_mirth_type_TZ_ZTo(v56, v58);
		PTUP v60;
		PTUP v61 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v52, &v60);
		PTUP v62;
		uint64_t v63 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v60, &v62);
		PTUP v64;
		PTUP v65 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v62, &v64);
		PTUP v66;
		PTUP v67;
		mtp_mirth_type_ArrowType_ArrowType(v59, &v66, &v67);
		incref(MKTUP(v66));
		PTUP v68 = PTRMK(0LL /* Nil */,0,0);
		PTUP v69 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v65)), value_u64(MKU64(v63)), value_u64(MKU64(v63)), v61, v66, v66, v68);
		INT v70 = WRAP_I63(1LL);
		INT v71 = in_Nat_21;
		INT v72 = v70;
		INT v73 = int_sub(v71, v72);
		incref(MKINT(v73));
		INT v74 = WRAP_I63(0LL);
		INT v75 = v74;
		bool v76 = int_le(v75, v73);
		INT branch_Nat_77;
		if (v76) {
			INT v78 = v73;
			branch_Nat_77 = v78;
		} else {
			decref(MKINT(v73));
			INT v79 = WRAP_I63(0LL);
			branch_Nat_77 = v79;
		}
		PTUP v80;
		PTUP v81;
		VAL v82;
		VAL v83;
		VAL v84;
		VAL v85;
		VAL v86;
		VAL v87;
		VAL v88;
		VAL v89;
		VAL v90;
		PTUP v91;
		PTUP v92;
		mw_mirth_elab_ZPlusAB_abZ_dipZ_nZBang_1_sp1(in_Home_1, in_Token_2, in_Ctx_3, in_Op_4, in_List_5, in_Subst_6, in_StackType_7, in_List_8, in_StackType_9, in_z_x1_10, in_z_x2_11, in_z_x3_12, in_z_x4_13, in_z_x5_14, in_z_x6_15, in_z_x7_16, in_z_x8_17, in_z_x9_18, v57, v69, branch_Nat_77, &v80, &v81, &v82, &v83, &v84, &v85, &v86, &v87, &v88, &v89, &v90, &v91, &v92);
		PTUP v93;
		PTUP v94;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v91, v92, v67, &v93, &v94);
		PTUP v95;
		uint64_t v96 = mw_mirth_arrow_Block_NewZBang(v93, v94, &v95);
		PTUP v97 = PTRMK(0LL /* Nil */,0,0);
		PTUP v98 = mw_std_list_List_1_cons(MKU64(v96), v97);
		int64_t v99 = 5LL /* Dip */;
		PTUP v100;
		PTUP v101;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v95, v64, v98, v99, &v100, &v101);
		branch_ZPlusAB_51 = v101;
		branch_ZPlusMirth_50 = v100;
		branch_z_x9_49 = v90;
		branch_z_x8_48 = v89;
		branch_z_x7_47 = v88;
		branch_z_x6_46 = v87;
		branch_z_x5_45 = v86;
		branch_z_x4_44 = v85;
		branch_z_x3_43 = v84;
		branch_z_x2_42 = v83;
		branch_z_x1_41 = v82;
		branch_StackType_40 = v81;
		branch_StackType_39 = v80;
	} else {
		decref(MKNAT(in_Nat_21));
		incref(MKTUP(in_StackType_9));
		PTUP v102;
		PTUP v103;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(in_ZPlusMirth_19, in_ZPlusAB_20, in_StackType_9, &v102, &v103);
		PTUP v104;
		PTUP v105;
		mw_std_list_List_1_for_1_sp59(v102, v103, in_List_8, &v104, &v105);
		incref(MKTUP(in_StackType_9));
		incref(MKTUP(in_StackType_7));
		PTUP v106 = mtw_mirth_arrow_Atom_Atom(in_Home_1, in_Token_2, in_Ctx_3, in_Op_4, in_List_5, in_StackType_9, in_StackType_7, in_Subst_6);
		PTUP v107;
		PTUP v108;
		mw_mirth_elab_ZPlusAB_abZ_atomZBang(v104, v105, v106, &v107, &v108);
		branch_ZPlusAB_51 = v108;
		branch_ZPlusMirth_50 = v107;
		branch_z_x9_49 = in_z_x9_18;
		branch_z_x8_48 = in_z_x8_17;
		branch_z_x7_47 = in_z_x7_16;
		branch_z_x6_46 = in_z_x6_15;
		branch_z_x5_45 = in_z_x5_14;
		branch_z_x4_44 = in_z_x4_13;
		branch_z_x3_43 = in_z_x3_12;
		branch_z_x2_42 = in_z_x2_11;
		branch_z_x1_41 = in_z_x1_10;
		branch_StackType_40 = in_StackType_7;
		branch_StackType_39 = in_StackType_9;
	}
	*out_ZPlusAB_34 = branch_ZPlusAB_51;
	*out_ZPlusMirth_33 = branch_ZPlusMirth_50;
	*out_z_x9_32 = branch_z_x9_49;
	*out_z_x8_31 = branch_z_x8_48;
	*out_z_x7_30 = branch_z_x7_47;
	*out_z_x6_29 = branch_z_x6_46;
	*out_z_x5_28 = branch_z_x5_45;
	*out_z_x4_27 = branch_z_x4_44;
	*out_z_x3_26 = branch_z_x3_43;
	*out_z_x2_25 = branch_z_x2_42;
	*out_z_x1_24 = branch_z_x1_41;
	*out_StackType_23 = branch_StackType_40;
	*out_StackType_22 = branch_StackType_39;
}
static PTUP mw_std_maybe_Maybe_1_ifZAsk_2_sp58 (VAL in_z_x1_1, PTUP in_Map_2, PTUP in_Maybe_3) {
	PTUP branch_Map_5;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			PTUP v7 = mtw_std_map_KeyValuePair_2_KeyValuePair(in_z_x1_1, v6);
			incref(MKTUP(in_Map_2));
			PTUP v8 = mw_std_list_List_1_cons(MKTUP(v7), in_Map_2);
			decref(MKTUP(in_Map_2));
			branch_Map_5 = v8;
		} break;
		case 0LL: { // None
			decref(in_z_x1_1);
			branch_Map_5 = VTUP(MKTUP(in_Map_2));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Map_5;
}
static void mw_std_list_List_1_for_1_sp64 (PTUP in_List_1, PTUP in_List_2, PTUP *out_List_3) {
	bool v4 = true;
	PTUP v5 = in_List_1;
	PTUP v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		PTUP v9 = v5;
		PTUP v10 = v6;
		bool v11 = v7;
		PTUP branch_List_12;
		PTUP branch_List_13;
		bool branch_Bool_14;
		switch (PTREXTRA(v10)) {
			case 1LL: { // Cons
				PTUP v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				PTUP v17 = mw_std_list_List_1_cons(v16, v9);
				bool v18 = true;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_List_12 = v17;
			} break;
			case 0LL: { // Nil
				PTUP v19 = PTRMK(0LL /* Nil */,0,0);
				bool v20 = false;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_List_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_List_12;
	}
	decref(MKTUP(v6));
	*out_List_3 = v5;
}
static void mw_std_maybe_Maybe_1_ifZAsk_2_sp62 (PTUP in_ZPlusMirth_1, STR* in_Str_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4) {
	PTUP branch_ZPlusMirth_5;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			PTUP v7;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusMirth_1, value_u64(v6), in_Str_2, &v7);
			branch_ZPlusMirth_5 = v7;
		} break;
		case 0LL: { // None
			PTUP v8;
			mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, in_Str_2, &v8);
			branch_ZPlusMirth_5 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_5;
}
static PTUP mw_std_list_List_1_for_1_sp66 (PTUP in_Type_1, PTUP in_List_2) {
	bool v4 = true;
	PTUP v5 = in_Type_1;
	PTUP v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		PTUP v9 = v5;
		PTUP v10 = v6;
		bool v11 = v7;
		PTUP branch_Type_12;
		PTUP branch_List_13;
		bool branch_Bool_14;
		switch (PTREXTRA(v10)) {
			case 1LL: { // Cons
				PTUP v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				PTUP v17 = mtw_mirth_type_Type_Var(value_u64(v16));
				PTUP v18 = mtw_mirth_type_Type_App(v9, v17);
				bool v19 = true;
				branch_Bool_14 = v19;
				branch_List_13 = v15;
				branch_Type_12 = v18;
			} break;
			case 0LL: { // Nil
				PTUP v20 = PTRMK(0LL /* Nil */,0,0);
				bool v21 = false;
				branch_Bool_14 = v21;
				branch_List_13 = v20;
				branch_Type_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_Type_12;
	}
	decref(MKTUP(v6));
	return v5;
}
static PTUP mw_std_map_Map_2_lookup_sp3 (uint64_t in_Var_1, PTUP in_Map_2) {
	PTUP v4 = PTRMK(0LL /* None */,0,0);
	bool v5 = true;
	uint64_t v6 = in_Var_1;
	PTUP v7 = v4;
	PTUP v8 = in_Map_2;
	bool v9 = v5;
	bool v10 = v5;
	while (v10) {
		uint64_t v11 = v6;
		PTUP v12 = v7;
		PTUP v13 = v8;
		bool v14 = v9;
		PTUP v15;
		PTUP v16 = mw_std_list_List_1_uncons(v13, &v15);
		uint64_t branch_Var_17;
		PTUP branch_Maybe_18;
		PTUP branch_List_19;
		bool branch_Bool_20;
		switch (PTREXTRA(v16)) {
			case 1LL: { // Some
				VAL v21 = mtp_std_maybe_Maybe_1_Some(v16);
				incref(MKTUP(VTUP(v21)));
				incref(MKU64(v11));
				VAL v22 = ((TUP*)PTRPTR(VTUP(MKTUP(VTUP(v21)))))->cells[0];
				incref(v22);
				decref(MKTUP(VTUP(MKTUP(VTUP(v21)))));
				bool v23 = (value_u64(v22) == value_u64(MKU64(v11)));
				uint64_t branch_Var_24;
				PTUP branch_Maybe_25;
				if (v23) {
					PTUP v26 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v21)));
					branch_Maybe_25 = v26;
					branch_Var_24 = value_u64(MKU64(v11));
				} else {
					decref(MKTUP(VTUP(v21)));
					PTUP v27 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_25 = v27;
					branch_Var_24 = value_u64(MKU64(v11));
				}
				uint64_t branch_Var_28;
				PTUP branch_Maybe_29;
				PTUP branch_List_30;
				switch (PTREXTRA(branch_Maybe_25)) {
					case 0LL: { // None
						branch_List_30 = VTUP(MKTUP(v15));
						branch_Maybe_29 = VTUP(MKTUP(v12));
						branch_Var_28 = branch_Var_24;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v15))));
						decref(MKTUP(VTUP(MKTUP(v12))));
						PTUP v31 = PTRMK(0LL /* Nil */,0,0);
						branch_List_30 = v31;
						branch_Maybe_29 = branch_Maybe_25;
						branch_Var_28 = branch_Var_24;
					} break;
				}
				bool v32 = true;
				branch_Bool_20 = v32;
				branch_List_19 = branch_List_30;
				branch_Maybe_18 = branch_Maybe_29;
				branch_Var_17 = branch_Var_28;
			} break;
			case 0LL: { // None
				bool v33 = false;
				branch_Bool_20 = v33;
				branch_List_19 = v15;
				branch_Maybe_18 = v12;
				branch_Var_17 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_20;
		v9 = branch_Bool_20;
		v8 = branch_List_19;
		v7 = branch_Maybe_18;
		v6 = branch_Var_17;
	}
	decref(MKTUP(v8));
	decref(MKU64(v6));
	PTUP v34 = mw_std_maybe_Maybe_1_map_1_sp10(VTUP(MKTUP(v7)));
	return v34;
}
static PTUP mw_mirth_elab_abZ_buildZ_homZBang_1_sp6 (PTUP in_ZPlusMirth_1, uint64_t in_Block_2, PTUP in_SPKey_3, uint64_t in_Word_4, PTUP in_Map_5, PTUP in_Ctx_6, PTUP in_ArrowType_7, uint64_t in_Token_8, PTUP in_Home_9, PTUP *out_SPKey_10, uint64_t *out_Word_11, PTUP *out_Map_12, PTUP *out_ZPlusMirth_13) {
	PTUP v15;
	PTUP v16;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_7, &v15, &v16);
	incref(MKTUP(v15));
	PTUP v17 = PTRMK(0LL /* Nil */,0,0);
	PTUP v18 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(in_Home_9)), value_u64(MKU64(in_Token_8)), value_u64(MKU64(in_Token_8)), in_Ctx_6, v15, v15, v17);
	PTUP v19;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_SPKey_3, in_Word_4, in_Map_5, v18, &v19);
	PTUP v20;
	PTUP v21;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, v19, in_Block_2, &v20, &v21);
	PTUP v22;
	uint64_t v23;
	PTUP v24;
	PTUP v25;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v21, &v22, &v23, &v24, &v25);
	PTUP v26;
	PTUP v27;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v20, v25, v16, &v26, &v27);
	*out_ZPlusMirth_13 = v26;
	*out_Map_12 = v24;
	*out_Word_11 = v23;
	*out_SPKey_10 = v22;
	return v27;
}
static PTUP mw_std_list_List_1_reverseZ_for_1_sp10 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP in_Ctx_3, PTUP in_StackType_4, PTUP in_List_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusAB_7, PTUP *out_StackType_9) {
	PTUP v10 = mw_std_list_List_1_reverse(in_List_5);
	bool v11 = true;
	PTUP r12 = in_ZPlusMirth_1;
	PTUP r13 = in_ZPlusAB_2;
	PTUP v14 = in_Ctx_3;
	PTUP v15 = in_StackType_4;
	PTUP v16 = v10;
	bool v17 = v11;
	bool v18 = v11;
	while (v18) {
		PTUP r19 = r12;
		PTUP r20 = r13;
		PTUP v21 = v14;
		PTUP v22 = v15;
		PTUP v23 = v16;
		bool v24 = v17;
		PTUP branch_Ctx_25;
		PTUP branch_StackType_26;
		PTUP branch_ZPlusMirth_27;
		PTUP branch_ZPlusAB_28;
		PTUP branch_List_29;
		bool branch_Bool_30;
		switch (PTREXTRA(v23)) {
			case 1LL: { // Cons
				PTUP v31;
				VAL v32 = mtp_std_list_List_1_Cons(v23, &v31);
				PTUP v33 = mw_mirth_var_Ctx_new(v21, value_u64(v32));
				PTUP v34;
				uint64_t v35 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(r20, &v34);
				PTUP v36;
				PTUP v37;
				uint64_t v38;
				PTUP v39 = mw_mirth_elab_elabZ_expandZ_tensorZBang(r19, v22, v35, &v36, &v37, &v38);
				PTUP v40;
				PTUP v41 = mw_mirth_var_Var_type(v36, value_u64(MKU64(value_u64(v32))), &v40);
				PTUP v42;
				uint64_t v43;
				PTUP v44 = mw_mirth_elab_elabZ_typeZ_unifyZBang(v40, VTUP(MKTUP(v37)), v41, v38, &v42, &v43);
				decref(MKU64(v43));
				decref(MKTUP(v44));
				bool v45 = true;
				branch_Bool_30 = v45;
				branch_List_29 = v31;
				branch_ZPlusAB_28 = v34;
				branch_ZPlusMirth_27 = v42;
				branch_StackType_26 = VTUP(MKTUP(v39));
				branch_Ctx_25 = v33;
			} break;
			case 0LL: { // Nil
				PTUP v46 = PTRMK(0LL /* Nil */,0,0);
				bool v47 = false;
				branch_Bool_30 = v47;
				branch_List_29 = v46;
				branch_ZPlusAB_28 = r20;
				branch_ZPlusMirth_27 = r19;
				branch_StackType_26 = v22;
				branch_Ctx_25 = v21;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_30;
		v17 = branch_Bool_30;
		v16 = branch_List_29;
		v15 = branch_StackType_26;
		v14 = branch_Ctx_25;
		r13 = branch_ZPlusAB_28;
		r12 = branch_ZPlusMirth_27;
	}
	decref(MKTUP(v16));
	*out_StackType_9 = v15;
	*out_ZPlusAB_7 = r13;
	*out_ZPlusMirth_6 = r12;
	return v14;
}
static bool mw_std_maybe_Maybe_1_ifZAsk_2_sp69 (PTUP in_ZPlusLister_1, PTUP in_Maybe_2, PTUP *out_ZPlusLister_3) {
	PTUP branch_ZPlusLister_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			PTUP v8;
			mw_std_list_ZPlusLister_1_pushZBang(v7, in_ZPlusLister_1, &v8);
			bool v9 = true;
			branch_Bool_6 = v9;
			branch_ZPlusLister_5 = v8;
		} break;
		case 0LL: { // None
			bool v10 = false;
			branch_Bool_6 = v10;
			branch_ZPlusLister_5 = in_ZPlusLister_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLister_3 = branch_ZPlusLister_5;
	return branch_Bool_6;
}
static PTUP mw_std_maybe_Maybe_1_bind_1_sp6 (PTUP in_Maybe_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			PTUP v5 = mw_mirth_mirth_Prop_1_readyZAsk(VTUP(v4));
			branch_Maybe_3 = v5;
		} break;
		case 0LL: { // None
			PTUP v6 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static bool mw_std_list_List_1_ZEqual_sp1 (PTUP in_ZPlusMirth_1, PTUP in_List_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4) {
	bool v6 = true;
	PTUP v7;
	PTUP v8 = mw_std_list_List_1_uncons(in_List_2, &v7);
	PTUP v9;
	PTUP v10 = mw_std_list_List_1_uncons(in_List_3, &v9);
	PTUP branch_ZPlusMirth_11;
	bool branch_Bool_12;
	switch (PTREXTRA(v10)) {
		case 0LL: { // None
			int64_t v13 = PTREXTRA(v8);
			decref(MKTUP(v8));
			INT v14 = WRAP_I63(0LL);
			INT v15 = v14;
			INT v16 = i64_to_int(v13);
			bool v17 = int_eq(v16, v15);
			branch_Bool_12 = v17;
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v18 = mtp_std_maybe_Maybe_1_Some(v10);
			PTUP branch_ZPlusMirth_19;
			bool branch_Bool_20;
			switch (PTREXTRA(v8)) {
				case 1LL: { // Some
					VAL v21 = mtp_std_maybe_Maybe_1_Some(v8);
					PTUP v22;
					bool v23 = mw_mirth_arrow_Arg_similar(in_ZPlusMirth_1, value_u64(v21), value_u64(v18), &v22);
					branch_Bool_20 = v23;
					branch_ZPlusMirth_19 = v22;
				} break;
				case 0LL: { // None
					bool v24 = false;
					branch_Bool_20 = v24;
					branch_ZPlusMirth_19 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_12 = branch_Bool_20;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v25 = (value_bool(MKBOOL(branch_Bool_12)) && v6);
	incref(MKTUP(VTUP(MKTUP(v7))));
	bool v26 = mw_std_list_List_1_emptyZAsk(VTUP(MKTUP(VTUP(MKTUP(v7)))));
	incref(MKTUP(VTUP(MKTUP(v9))));
	bool v27 = mw_std_list_List_1_emptyZAsk(VTUP(MKTUP(VTUP(MKTUP(v9)))));
	bool v28 = (value_bool(MKBOOL(v26)) && v27);
	bool v29 = !v28;
	incref(MKBOOL(v25));
	bool v30 = (value_bool(MKBOOL(v29)) && value_bool(MKBOOL(v25)));
	PTUP r31 = branch_ZPlusMirth_11;
	PTUP v32 = VTUP(MKTUP(VTUP(MKTUP(v7))));
	PTUP v33 = VTUP(MKTUP(VTUP(MKTUP(v9))));
	bool v34 = value_bool(MKBOOL(v25));
	bool v35 = v30;
	while (v35) {
		PTUP r36 = r31;
		PTUP v37 = v32;
		PTUP v38 = v33;
		bool v39 = v34;
		PTUP v40;
		PTUP v41 = mw_std_list_List_1_uncons(v37, &v40);
		PTUP v42;
		PTUP v43 = mw_std_list_List_1_uncons(v38, &v42);
		PTUP branch_ZPlusMirth_44;
		bool branch_Bool_45;
		switch (PTREXTRA(v43)) {
			case 0LL: { // None
				int64_t v46 = PTREXTRA(v41);
				decref(MKTUP(v41));
				INT v47 = WRAP_I63(0LL);
				INT v48 = v47;
				INT v49 = i64_to_int(v46);
				bool v50 = int_eq(v49, v48);
				branch_Bool_45 = v50;
				branch_ZPlusMirth_44 = r36;
			} break;
			case 1LL: { // Some
				VAL v51 = mtp_std_maybe_Maybe_1_Some(v43);
				PTUP branch_ZPlusMirth_52;
				bool branch_Bool_53;
				switch (PTREXTRA(v41)) {
					case 1LL: { // Some
						VAL v54 = mtp_std_maybe_Maybe_1_Some(v41);
						PTUP v55;
						bool v56 = mw_mirth_arrow_Arg_similar(r36, value_u64(v54), value_u64(v51), &v55);
						branch_Bool_53 = v56;
						branch_ZPlusMirth_52 = v55;
					} break;
					case 0LL: { // None
						bool v57 = false;
						branch_Bool_53 = v57;
						branch_ZPlusMirth_52 = r36;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Bool_45 = branch_Bool_53;
				branch_ZPlusMirth_44 = branch_ZPlusMirth_52;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		bool v58 = (value_bool(MKBOOL(branch_Bool_45)) && v39);
		incref(MKTUP(VTUP(MKTUP(v40))));
		bool v59 = mw_std_list_List_1_emptyZAsk(VTUP(MKTUP(VTUP(MKTUP(v40)))));
		incref(MKTUP(VTUP(MKTUP(v42))));
		bool v60 = mw_std_list_List_1_emptyZAsk(VTUP(MKTUP(VTUP(MKTUP(v42)))));
		bool v61 = (value_bool(MKBOOL(v59)) && v60);
		bool v62 = !v61;
		incref(MKBOOL(v58));
		bool v63 = (value_bool(MKBOOL(v62)) && value_bool(MKBOOL(v58)));
		v35 = v63;
		v34 = value_bool(MKBOOL(v58));
		v33 = VTUP(MKTUP(VTUP(MKTUP(v42))));
		v32 = VTUP(MKTUP(VTUP(MKTUP(v40))));
		r31 = branch_ZPlusMirth_44;
	}
	decref(MKTUP(v33));
	decref(MKTUP(v32));
	*out_ZPlusMirth_4 = r31;
	return v34;
}
static void mw_std_list_List_1_for_1_sp73 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusSPCheck_2, PTUP in_List_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusSPCheck_5) {
	bool v6 = true;
	PTUP r7 = in_ZPlusMirth_1;
	PTUP r8 = in_ZPlusSPCheck_2;
	PTUP v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP r12 = r7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_ZPlusMirth_16;
		PTUP branch_ZPlusSPCheck_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				PTUP v22;
				PTUP v23;
				mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang(r12, r13, value_u64(v21), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusSPCheck_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				PTUP v25 = PTRMK(0LL /* Nil */,0,0);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusSPCheck_17 = r13;
				branch_ZPlusMirth_16 = r12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusSPCheck_17;
		r7 = branch_ZPlusMirth_16;
	}
	decref(MKTUP(v9));
	*out_ZPlusSPCheck_5 = r8;
	*out_ZPlusMirth_4 = r7;
}
static uint64_t mw_std_maybe_Maybe_1_unwrap_1_sp23 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_6) {
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			branch_z_x1_9 = v10;
			branch_Token_8 = in_Token_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "unknown declaration", 19);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_z_x1_6 = branch_z_x1_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static STR* mw_std_maybe_Maybe_1_map_1_sp11 (STR* in_Str_1, PTUP in_Maybe_2, PTUP *out_Maybe_4) {
	STR* branch_Str_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			incref(MKINT(value_int(v7)));
			incref(MKSTR(in_Str_1));
			INT v8 = WRAP_I63(1LL);
			INT v9 = v8;
			INT v10 = int_add(value_int(MKINT(value_int(v7))), v9);
			STR* v11 = mw_std_prim_Str_dropZ_slice(v10, value_str(MKSTR(in_Str_1)));
			STR* v12 = mw_std_prim_Str_takeZ_slice(value_int(MKINT(value_int(v7))), value_str(MKSTR(in_Str_1)));
			PTUP v13 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
			branch_Maybe_6 = v13;
			branch_Str_5 = v12;
		} break;
		case 0LL: { // None
			PTUP v14 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v14;
			branch_Str_5 = in_Str_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Str_5;
}
static PTUP mw_std_maybe_Maybe_1_map_1_sp12 (PTUP in_Maybe_1) {
	PTUP branch_Maybe_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			PTUP v5 = mtw_std_result_Result_2_Ok(v4);
			PTUP v6 = mtw_std_maybe_Maybe_1_Some(MKTUP(v5));
			branch_Maybe_3 = v6;
		} break;
		case 0LL: { // None
			PTUP v7 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static STR* mw_std_prelude_unsafe_1_sp16 (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	STR* v4;
	STR* v5 = mw_std_str_ZPlusStr_dropZ_firstZ_byte(in_ZPlusStr_1, &v4);
	*out_ZPlusStr_2 = v4;
	return v5;
}
static STR* mw_std_prelude_unsafe_1_sp17 (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	STR* v4;
	STR* v5 = mw_std_str_ZPlusStr_dropZ_lastZ_byte(in_ZPlusStr_1, &v4);
	*out_ZPlusStr_2 = v4;
	return v5;
}
static STR* mw_std_prelude_unsafe_1_sp19 (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Offset_3, STR* *out_ZPlusStr_4) {
	STR* v6;
	STR* v7 = mw_std_str_ZPlusStr_offsetZ_slice(in_ZPlusStr_1, in_Offset_2, in_Offset_3, &v6);
	*out_ZPlusStr_4 = v6;
	return v7;
}
static PTUP mw_std_list_List_1_unique_sp1 (PTUP in_List_1) {
	PTUP v3 = PTRMK(0LL /* Nil */,0,0);
	PTUP v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	bool v5 = true;
	PTUP r6 = v4;
	PTUP v7 = in_List_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP r10 = r6;
		PTUP v11 = v7;
		bool v12 = v8;
		PTUP branch_ZPlusLister_13;
		PTUP branch_List_14;
		bool branch_Bool_15;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Cons
				PTUP v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				incref(MKTUP(r10));
				PTUP v18 = PTRMK(0LL /* None */,0,0);
				bool v19 = true;
				VAL r20 = MKTUP(r10);
				VAL v21 = MKU64(value_u64(v17));
				uint64_t v22 = value_u64(v17);
				PTUP v23 = v18;
				PTUP v24 = r10;
				bool v25 = v19;
				bool v26 = v19;
				while (v26) {
					VAL r27 = r20;
					VAL v28 = v21;
					uint64_t v29 = v22;
					PTUP v30 = v23;
					PTUP v31 = v24;
					bool v32 = v25;
					PTUP v33;
					PTUP v34 = mw_std_list_List_1_uncons(v31, &v33);
					VAL branch_z_x1_35;
					VAL branch_z_x2_36;
					uint64_t branch_Label_37;
					PTUP branch_Maybe_38;
					PTUP branch_List_39;
					bool branch_Bool_40;
					switch (PTREXTRA(v34)) {
						case 1LL: { // Some
							VAL v41 = mtp_std_maybe_Maybe_1_Some(v34);
							incref(MKU64(v29));
							bool v42 = (value_u64(MKU64(value_u64(v41))) == value_u64(MKU64(v29)));
							VAL branch_z_x1_43;
							VAL branch_z_x2_44;
							uint64_t branch_Label_45;
							PTUP branch_Maybe_46;
							if (v42) {
								PTUP v47 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v41)));
								branch_Maybe_46 = v47;
								branch_Label_45 = value_u64(MKU64(v29));
								branch_z_x2_44 = v28;
								branch_z_x1_43 = r27;
							} else {
								PTUP v48 = PTRMK(0LL /* None */,0,0);
								branch_Maybe_46 = v48;
								branch_Label_45 = value_u64(MKU64(v29));
								branch_z_x2_44 = v28;
								branch_z_x1_43 = r27;
							}
							VAL branch_z_x1_49;
							VAL branch_z_x2_50;
							uint64_t branch_Label_51;
							PTUP branch_Maybe_52;
							PTUP branch_List_53;
							switch (PTREXTRA(branch_Maybe_46)) {
								case 0LL: { // None
									branch_List_53 = VTUP(MKTUP(v33));
									branch_Maybe_52 = VTUP(MKTUP(v30));
									branch_Label_51 = branch_Label_45;
									branch_z_x2_50 = branch_z_x2_44;
									branch_z_x1_49 = branch_z_x1_43;
								} break;
								default: {
									decref(MKTUP(VTUP(MKTUP(v33))));
									decref(MKTUP(VTUP(MKTUP(v30))));
									PTUP v54 = PTRMK(0LL /* Nil */,0,0);
									branch_List_53 = v54;
									branch_Maybe_52 = branch_Maybe_46;
									branch_Label_51 = branch_Label_45;
									branch_z_x2_50 = branch_z_x2_44;
									branch_z_x1_49 = branch_z_x1_43;
								} break;
							}
							bool v55 = true;
							branch_Bool_40 = v55;
							branch_List_39 = branch_List_53;
							branch_Maybe_38 = branch_Maybe_52;
							branch_Label_37 = branch_Label_51;
							branch_z_x2_36 = branch_z_x2_50;
							branch_z_x1_35 = branch_z_x1_49;
						} break;
						case 0LL: { // None
							bool v56 = false;
							branch_Bool_40 = v56;
							branch_List_39 = v33;
							branch_Maybe_38 = v30;
							branch_Label_37 = v29;
							branch_z_x2_36 = v28;
							branch_z_x1_35 = r27;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v26 = branch_Bool_40;
					v25 = branch_Bool_40;
					v24 = branch_List_39;
					v23 = branch_Maybe_38;
					v22 = branch_Label_37;
					v21 = branch_z_x2_36;
					r20 = branch_z_x1_35;
				}
				decref(MKTUP(v24));
				decref(MKU64(v22));
				int64_t v57 = PTREXTRA(VTUP(MKTUP(v23)));
				decref(MKTUP(VTUP(MKTUP(v23))));
				INT v58 = WRAP_I63(0LL);
				INT v59 = v58;
				INT v60 = i64_to_int(v57);
				bool v61 = int_eq(v60, v59);
				bool v62 = !v61;
				PTUP branch_ZPlusLister_63;
				if (v62) {
					branch_ZPlusLister_63 = VTUP(r20);
				} else {
					PTUP v64;
					mw_std_list_ZPlusLister_1_pushZBang(MKU64(value_u64(v21)), VTUP(r20), &v64);
					branch_ZPlusLister_63 = v64;
				}
				bool v65 = true;
				branch_Bool_15 = v65;
				branch_List_14 = v16;
				branch_ZPlusLister_13 = branch_ZPlusLister_63;
			} break;
			case 0LL: { // Nil
				PTUP v66 = PTRMK(0LL /* Nil */,0,0);
				bool v67 = false;
				branch_Bool_15 = v67;
				branch_List_14 = v66;
				branch_ZPlusLister_13 = r10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		r6 = branch_ZPlusLister_13;
	}
	decref(MKTUP(v7));
	PTUP v68 = mw_std_list_ZPlusLister_1_doneZBang(r6);
	return v68;
}
static void mw_mirth_elab_ZPlusAB_abZ_ldipZBang_1_sp1 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, uint64_t in_Token_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, PTUP *out_ZPlusAB_6) {
	PTUP branch_ZPlusMirth_7;
	PTUP branch_ZPlusAB_8;
	switch (PTREXTRA(in_List_4)) {
		case 0LL: { // Nil
			PTUP v9;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(in_ZPlusAB_2, in_Token_3, &v9);
			PTUP v10;
			PTUP v11;
			mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(in_ZPlusMirth_1, v9, &v10, &v11);
			branch_ZPlusAB_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 1LL: { // Cons
			PTUP v12;
			VAL v13 = mtp_std_list_List_1_Cons(in_List_4, &v12);
			PTUP v14;
			bool v15 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_ZPlusMirth_1, value_u64(v13), &v14);
			PTUP branch_ZPlusMirth_16;
			PTUP branch_ZPlusAB_17;
			if (v15) {
				PTUP v18;
				PTUP v19;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v14, in_ZPlusAB_2, value_u64(v13), &v18, &v19);
				PTUP v20;
				PTUP v21 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v19, &v20);
				PTUP v22;
				PTUP v23 = mw_mirth_type_StackType_forceZ_withZAskZBang(v18, v21, &v22);
				PTUP v24 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v23);
				PTUP v25;
				PTUP v26 = mw_mirth_type_StackType_FreshZBang(v22, &v25);
				PTUP v27 = mw_mirth_type_TZ_ZTo(v24, v26);
				PTUP v28;
				PTUP v29;
				uint64_t v30 = mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp6(in_Token_3, v12, v25, v27, v20, &v28, &v29);
				PTUP v31 = PTRMK(0LL /* Nil */,0,0);
				PTUP v32 = mw_std_list_List_1_cons(MKU64(v30), v31);
				int64_t v33 = 6LL /* RDip */;
				PTUP v34;
				PTUP v35;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v32, v33, &v34, &v35);
				PTUP v36;
				PTUP v37;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v34, v35, value_u64(v13), &v36, &v37);
				branch_ZPlusAB_17 = v37;
				branch_ZPlusMirth_16 = v36;
			} else {
				PTUP v38;
				PTUP v39;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v14, in_ZPlusAB_2, value_u64(v13), &v38, &v39);
				PTUP v40;
				PTUP v41 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v39, &v40);
				PTUP v42;
				PTUP v43 = mw_mirth_type_StackType_forceZ_consZAskZBang(v38, v41, &v42);
				PTUP v44 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v43);
				PTUP v45;
				PTUP v46 = mw_mirth_type_StackType_FreshZBang(v42, &v45);
				PTUP v47 = mw_mirth_type_TZ_ZTo(v44, v46);
				PTUP v48;
				PTUP v49;
				uint64_t v50 = mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp6(in_Token_3, v12, v45, v47, v40, &v48, &v49);
				PTUP v51 = PTRMK(0LL /* Nil */,0,0);
				PTUP v52 = mw_std_list_List_1_cons(MKU64(v50), v51);
				int64_t v53 = 5LL /* Dip */;
				PTUP v54;
				PTUP v55;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v48, v49, v52, v53, &v54, &v55);
				PTUP v56;
				PTUP v57;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v54, v55, value_u64(v13), &v56, &v57);
				branch_ZPlusAB_17 = v57;
				branch_ZPlusMirth_16 = v56;
			}
			branch_ZPlusAB_8 = branch_ZPlusAB_17;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static uint64_t mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp6 (uint64_t in_Token_1, PTUP in_List_2, PTUP in_ZPlusMirth_3, PTUP in_ArrowType_4, PTUP in_ZPlusAB_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusAB_7) {
	PTUP v9;
	PTUP v10 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_5, &v9);
	PTUP v11;
	uint64_t v12 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v9, &v11);
	PTUP v13;
	PTUP v14 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v11, &v13);
	PTUP v15;
	PTUP v16;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_4, &v15, &v16);
	incref(MKTUP(v15));
	PTUP v17 = PTRMK(0LL /* Nil */,0,0);
	PTUP v18 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v14)), value_u64(MKU64(v12)), value_u64(MKU64(v12)), v10, v15, v15, v17);
	PTUP v19;
	PTUP v20;
	mw_mirth_elab_ZPlusAB_abZ_ldipZBang_1_sp1(in_ZPlusMirth_3, v18, in_Token_1, in_List_2, &v19, &v20);
	PTUP v21;
	PTUP v22;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v19, v20, v16, &v21, &v22);
	PTUP v23;
	uint64_t v24 = mw_mirth_arrow_Block_NewZBang(v21, v22, &v23);
	*out_ZPlusAB_7 = v13;
	*out_ZPlusMirth_6 = v23;
	return v24;
}
static PTUP mw_std_list_List_1_for_1_sp84 (PTUP in_StackType_1, PTUP in_List_2) {
	bool v4 = true;
	PTUP v5 = in_StackType_1;
	PTUP v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		PTUP v9 = v5;
		PTUP v10 = v6;
		bool v11 = v7;
		PTUP branch_StackType_12;
		PTUP branch_List_13;
		bool branch_Bool_14;
		switch (PTREXTRA(v10)) {
			case 1LL: { // Cons
				PTUP v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				PTUP v17 = mw_mirth_type_TZMul(v9, VTUP(v16));
				bool v18 = true;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_StackType_12 = v17;
			} break;
			case 0LL: { // Nil
				PTUP v19 = PTRMK(0LL /* Nil */,0,0);
				bool v20 = false;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_StackType_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_StackType_12;
	}
	decref(MKTUP(v6));
	return v5;
}
static uint64_t mw_std_either_Either_2_left_1_sp1 (PTUP in_Either_1) {
	uint64_t branch_Name_3;
	switch (PTREXTRA(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			branch_Name_3 = value_u64(v4);
		} break;
		case 1LL: { // Right
			VAL v5 = mtp_std_either_Either_2_Right(in_Either_1);
			uint64_t v6 = mw_mirth_name_DName_lastZ_name(VTUP(v5));
			branch_Name_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Name_3;
}
static PTUP mw_std_maybe_Maybe_1_ifZAsk_2_sp96 (PTUP in_Maybe_1) {
	PTUP branch_Type_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			PTUP v5 = mtw_mirth_type_Type_Var(value_u64(v4));
			branch_Type_3 = v5;
		} break;
		case 0LL: { // None
			PTUP v6 = PTRMK(0LL /* Error */,0,0);
			branch_Type_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Type_3;
}
static STR* mw_std_list_List_1_for_1_sp88 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, STR* in_ZPlusStr_3, STR* in_Str_4, PTUP in_List_5, PTUP *out_ZPlusMirth_6, VAL *out_z_x1_7, STR* *out_ZPlusStr_8) {
	bool v10 = true;
	PTUP r11 = in_ZPlusMirth_1;
	VAL r12 = in_z_x1_2;
	STR* r13 = in_ZPlusStr_3;
	STR* v14 = in_Str_4;
	PTUP v15 = in_List_5;
	bool v16 = v10;
	bool v17 = v10;
	while (v17) {
		PTUP r18 = r11;
		VAL r19 = r12;
		STR* r20 = r13;
		STR* v21 = v14;
		PTUP v22 = v15;
		bool v23 = v16;
		PTUP branch_ZPlusMirth_24;
		VAL branch_z_x1_25;
		STR* branch_ZPlusStr_26;
		VAL branch__27;
		PTUP branch_List_28;
		bool branch_Bool_29;
		switch (PTREXTRA(v22)) {
			case 1LL: { // Cons
				PTUP v30;
				VAL v31 = mtp_std_list_List_1_Cons(v22, &v30);
				STR* v32;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, r20, &v32);
				PTUP v33;
				STR* v34;
				mw_mirth_def_Def_qnameZThen(r18, v32, VTUP(v31), &v33, &v34);
				STR* v35;
				STRLIT(v35, ", ", 2);
				bool v36 = true;
				branch_Bool_29 = v36;
				branch_List_28 = v30;
				branch__27 = MKSTR(v35);
				branch_ZPlusStr_26 = v34;
				branch_z_x1_25 = r19;
				branch_ZPlusMirth_24 = v33;
			} break;
			case 0LL: { // Nil
				PTUP v37 = PTRMK(0LL /* Nil */,0,0);
				bool v38 = false;
				branch_Bool_29 = v38;
				branch_List_28 = v37;
				branch__27 = MKSTR(v21);
				branch_ZPlusStr_26 = r20;
				branch_z_x1_25 = r19;
				branch_ZPlusMirth_24 = r18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v17 = branch_Bool_29;
		v16 = branch_Bool_29;
		v15 = branch_List_28;
		v14 = value_str(branch__27);
		r13 = branch_ZPlusStr_26;
		r12 = branch_z_x1_25;
		r11 = branch_ZPlusMirth_24;
	}
	decref(MKTUP(v15));
	*out_ZPlusStr_8 = r13;
	*out_z_x1_7 = r12;
	*out_ZPlusMirth_6 = r11;
	return v14;
}
static void mw_std_list_List_1_for_2_sp3 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, STR* in_ZPlusStr_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, VAL *out_z_x1_6, STR* *out_ZPlusStr_7) {
	PTUP v8;
	PTUP v9 = mw_std_list_List_1_uncons(in_List_4, &v8);
	PTUP branch_ZPlusMirth_10;
	VAL branch_z_x1_11;
	STR* branch_ZPlusStr_12;
	switch (PTREXTRA(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			PTUP v14;
			STR* v15;
			mw_mirth_name_Namespace_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_3, VTUP(v13), &v14, &v15);
			branch_ZPlusStr_12 = v15;
			branch_z_x1_11 = in_z_x1_2;
			branch_ZPlusMirth_10 = v14;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_12 = in_ZPlusStr_3;
			branch_z_x1_11 = in_z_x1_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v16 = true;
	PTUP r17 = branch_ZPlusMirth_10;
	VAL r18 = branch_z_x1_11;
	STR* r19 = branch_ZPlusStr_12;
	PTUP v20 = v8;
	bool v21 = v16;
	bool v22 = v16;
	while (v22) {
		PTUP r23 = r17;
		VAL r24 = r18;
		STR* r25 = r19;
		PTUP v26 = v20;
		bool v27 = v21;
		PTUP branch_ZPlusMirth_28;
		VAL branch_z_x1_29;
		STR* branch_ZPlusStr_30;
		PTUP branch_List_31;
		bool branch_Bool_32;
		switch (PTREXTRA(v26)) {
			case 1LL: { // Cons
				PTUP v33;
				VAL v34 = mtp_std_list_List_1_Cons(v26, &v33);
				STR* v35;
				STRLIT(v35, " ", 1);
				STR* v36;
				mw_std_str_ZPlusStr_pushZ_strZBang(v35, r25, &v36);
				PTUP v37;
				STR* v38;
				mw_mirth_name_Namespace_nameZThen(r23, v36, VTUP(v34), &v37, &v38);
				bool v39 = true;
				branch_Bool_32 = v39;
				branch_List_31 = v33;
				branch_ZPlusStr_30 = v38;
				branch_z_x1_29 = r24;
				branch_ZPlusMirth_28 = v37;
			} break;
			case 0LL: { // Nil
				PTUP v40 = PTRMK(0LL /* Nil */,0,0);
				bool v41 = false;
				branch_Bool_32 = v41;
				branch_List_31 = v40;
				branch_ZPlusStr_30 = r25;
				branch_z_x1_29 = r24;
				branch_ZPlusMirth_28 = r23;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v22 = branch_Bool_32;
		v21 = branch_Bool_32;
		v20 = branch_List_31;
		r19 = branch_ZPlusStr_30;
		r18 = branch_z_x1_29;
		r17 = branch_ZPlusMirth_28;
	}
	decref(MKTUP(v20));
	*out_ZPlusStr_7 = r19;
	*out_z_x1_6 = r18;
	*out_ZPlusMirth_5 = r17;
}
static bool mw_std_list_List_1_member_sp6 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_Namespace_3, PTUP in_List_4, PTUP *out_ZPlusMirth_5, VAL *out_z_x1_6) {
	PTUP v8 = PTRMK(0LL /* None */,0,0);
	bool v9 = true;
	PTUP r10 = in_ZPlusMirth_1;
	VAL r11 = in_z_x1_2;
	PTUP v12 = in_Namespace_3;
	PTUP v13 = v8;
	PTUP v14 = in_List_4;
	bool v15 = v9;
	bool v16 = v9;
	while (v16) {
		PTUP r17 = r10;
		VAL r18 = r11;
		PTUP v19 = v12;
		PTUP v20 = v13;
		PTUP v21 = v14;
		bool v22 = v15;
		PTUP v23;
		PTUP v24 = mw_std_list_List_1_uncons(v21, &v23);
		PTUP branch_ZPlusMirth_25;
		VAL branch_z_x1_26;
		PTUP branch_Namespace_27;
		PTUP branch_Maybe_28;
		PTUP branch_List_29;
		bool branch_Bool_30;
		switch (PTREXTRA(v24)) {
			case 1LL: { // Some
				VAL v31 = mtp_std_maybe_Maybe_1_Some(v24);
				incref(MKTUP(VTUP(v31)));
				incref(MKTUP(v19));
				PTUP v32;
				bool v33 = mw_mirth_name_Namespace_ZEqual(r17, VTUP(MKTUP(v19)), VTUP(MKTUP(VTUP(v31))), &v32);
				PTUP branch_ZPlusMirth_34;
				VAL branch_z_x1_35;
				PTUP branch_Namespace_36;
				PTUP branch_Maybe_37;
				if (v33) {
					PTUP v38 = mtw_std_maybe_Maybe_1_Some(MKTUP(VTUP(v31)));
					branch_Maybe_37 = v38;
					branch_Namespace_36 = VTUP(MKTUP(v19));
					branch_z_x1_35 = r18;
					branch_ZPlusMirth_34 = v32;
				} else {
					decref(MKTUP(VTUP(v31)));
					PTUP v39 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_37 = v39;
					branch_Namespace_36 = VTUP(MKTUP(v19));
					branch_z_x1_35 = r18;
					branch_ZPlusMirth_34 = v32;
				}
				PTUP branch_ZPlusMirth_40;
				VAL branch_z_x1_41;
				PTUP branch_Namespace_42;
				PTUP branch_Maybe_43;
				PTUP branch_List_44;
				switch (PTREXTRA(branch_Maybe_37)) {
					case 0LL: { // None
						branch_List_44 = VTUP(MKTUP(v23));
						branch_Maybe_43 = VTUP(MKTUP(v20));
						branch_Namespace_42 = branch_Namespace_36;
						branch_z_x1_41 = branch_z_x1_35;
						branch_ZPlusMirth_40 = branch_ZPlusMirth_34;
					} break;
					default: {
						decref(MKTUP(VTUP(MKTUP(v23))));
						decref(MKTUP(VTUP(MKTUP(v20))));
						PTUP v45 = PTRMK(0LL /* Nil */,0,0);
						branch_List_44 = v45;
						branch_Maybe_43 = branch_Maybe_37;
						branch_Namespace_42 = branch_Namespace_36;
						branch_z_x1_41 = branch_z_x1_35;
						branch_ZPlusMirth_40 = branch_ZPlusMirth_34;
					} break;
				}
				bool v46 = true;
				branch_Bool_30 = v46;
				branch_List_29 = branch_List_44;
				branch_Maybe_28 = branch_Maybe_43;
				branch_Namespace_27 = branch_Namespace_42;
				branch_z_x1_26 = branch_z_x1_41;
				branch_ZPlusMirth_25 = branch_ZPlusMirth_40;
			} break;
			case 0LL: { // None
				bool v47 = false;
				branch_Bool_30 = v47;
				branch_List_29 = v23;
				branch_Maybe_28 = v20;
				branch_Namespace_27 = v19;
				branch_z_x1_26 = r18;
				branch_ZPlusMirth_25 = r17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_30;
		v15 = branch_Bool_30;
		v14 = branch_List_29;
		v13 = branch_Maybe_28;
		v12 = branch_Namespace_27;
		r11 = branch_z_x1_26;
		r10 = branch_ZPlusMirth_25;
	}
	decref(MKTUP(v14));
	decref(MKTUP(v12));
	int64_t v48 = PTREXTRA(VTUP(MKTUP(v13)));
	decref(MKTUP(VTUP(MKTUP(v13))));
	INT v49 = WRAP_I63(0LL);
	INT v50 = v49;
	INT v51 = i64_to_int(v48);
	bool v52 = int_eq(v51, v50);
	bool v53 = !v52;
	*out_z_x1_6 = r11;
	*out_ZPlusMirth_5 = r10;
	return v53;
}
static uint64_t mw_std_maybe_Maybe_1_elseZAsk_1_sp6 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_6) {
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			branch_z_x1_9 = v10;
			branch_Token_8 = in_Token_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "Expected a revision number.", 27);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_z_x1_6 = branch_z_x1_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static uint64_t mw_std_maybe_Maybe_1_else_1_sp3 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4) {
	int64_t v6 = PTREXTRA(in_Maybe_3);
	decref(MKTUP(in_Maybe_3));
	INT v7 = WRAP_I63(0LL);
	INT v8 = v7;
	INT v9 = i64_to_int(v6);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = in_ZPlusMirth_1;
	} else {
		STR* v14;
		STRLIT(v14, "Expected { ... }", 16);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v14);
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
	return branch_Token_13;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp41 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	VAL branch_z_x1_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			branch_z_x1_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_z_x1_6;
}
static PTUP mw_std_maybe_Maybe_1_bind_1_sp13 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			PTUP v8;
			PTUP v9 = mw_mirth_def_Def_asZ_defZ_namespaceZAsk(in_ZPlusMirth_1, VTUP(v7), &v8);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 0LL: { // None
			PTUP v10 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static STR* mw_std_prim_Str_Str_1_sp81 (STR* in_Str_1, STR* in_Str_2) {
	STR* v4;
	STRLIT(v4, "", 0);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v4, &v5);
	STR* v6;
	STRLIT(v6, " ", 1);
	STR* v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(v6, v5, &v7);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v7, &v8);
	return v8;
}
static STR* mw_std_prim_Str_Str_1_sp82 (STR* in_Str_1, STR* in_Str_2) {
	STR* v4;
	STRLIT(v4, "", 0);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v4, &v5);
	STR* v6;
	STRLIT(v6, " ", 1);
	STR* v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(v6, v5, &v7);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v7, &v8);
	return v8;
}
static PTUP mw_std_list_List_1_map_1_sp17 (PTUP in_List_1) {
	PTUP v3 = PTRMK(0LL /* Nil */,0,0);
	PTUP v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	bool v5 = true;
	PTUP r6 = v4;
	PTUP v7 = in_List_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP r10 = r6;
		PTUP v11 = v7;
		bool v12 = v8;
		PTUP branch_ZPlusLister_13;
		PTUP branch_List_14;
		bool branch_Bool_15;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Cons
				PTUP v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				uint64_t v18 = value_u64(((TUP*)PTRPTR(VTUP(v17)))->cells[0]);
				decref(MKTUP(VTUP(v17)));
				PTUP v19;
				mw_std_list_ZPlusLister_1_pushZBang(MKU64(v18), r10, &v19);
				bool v20 = true;
				branch_Bool_15 = v20;
				branch_List_14 = v16;
				branch_ZPlusLister_13 = v19;
			} break;
			case 0LL: { // Nil
				PTUP v21 = PTRMK(0LL /* Nil */,0,0);
				bool v22 = false;
				branch_Bool_15 = v22;
				branch_List_14 = v21;
				branch_ZPlusLister_13 = r10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		r6 = branch_ZPlusLister_13;
	}
	decref(MKTUP(v7));
	PTUP v23 = mw_std_list_ZPlusLister_1_doneZBang(r6);
	return v23;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp48 (PTUP in_ZPlusMirth_1, VAL in_z_x1_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, VAL *out_z_x1_5) {
	PTUP branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	VAL branch_z_x2_9;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			branch_z_x2_9 = v10;
			branch_z_x1_8 = in_z_x1_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "logic error: expected field in tag.", 35);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_z_x1_5 = branch_z_x1_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_z_x2_9;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp49 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	VAL branch_z_x1_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			branch_z_x1_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v8;
			STRLIT(v8, "logic error: expected field in tag.", 35);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v8);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_z_x1_6;
}
static bool mw_std_maybe_Maybe_1_has_1_sp14 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			PTUP v8;
			bool v9 = mw_mirth_name_Name_couldZ_beZ_constructor(in_ZPlusMirth_1, value_u64(v7), &v8);
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 0LL: { // None
			bool v10 = false;
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static PTUP mw_mirth_mirth_PropLabel_prop_1_sp15 (PTUP in_List_1, PTUP in_ZPlusMirth_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_2))->cells[6]);
	incref(MKTUP(v6));
	FNPTR v7 = &mb_mirth_mirth_PropLabel_prop_1_sp15_0;
	PTUP v8 = mtw_mirth_mirth_PropState_1_Delay(v6, MKTUP(in_List_1), MKFNPTR(v7));
	PTUP v9 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_3, v8);
	*out_ZPlusMirth_4 = in_ZPlusMirth_2;
	return v9;
}
static uint64_t mw_std_maybe_Maybe_1_else_1_sp6 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4) {
	int64_t v6 = PTREXTRA(in_Maybe_3);
	decref(MKTUP(in_Maybe_3));
	INT v7 = WRAP_I63(0LL);
	INT v8 = v7;
	INT v9 = i64_to_int(v6);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = in_ZPlusMirth_1;
	} else {
		STR* v14;
		STRLIT(v14, "expected left curly brace '{'", 29);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v14);
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
	return branch_Token_13;
}
static uint64_t mw_std_maybe_Maybe_1_else_1_sp7 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4) {
	int64_t v6 = PTREXTRA(in_Maybe_3);
	decref(MKTUP(in_Maybe_3));
	INT v7 = WRAP_I63(0LL);
	INT v8 = v7;
	INT v9 = i64_to_int(v6);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = in_ZPlusMirth_1;
	} else {
		STR* v14;
		STRLIT(v14, "expected right curly brace '}'", 30);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v14);
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
	return branch_Token_13;
}
static PTUP mw_std_maybe_Maybe_1_filter_1_sp20 (PTUP in_ZPlusMirth_1, PTUP in_Maybe_2, PTUP *out_ZPlusMirth_3) {
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	switch (PTREXTRA(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			PTUP v8;
			bool v9 = mw_mirth_name_Name_couldZ_beZ_constructor(in_ZPlusMirth_1, value_u64(v7), &v8);
			PTUP branch_ZPlusMirth_10;
			PTUP branch_Maybe_11;
			if (v9) {
				PTUP v12 = mtw_std_maybe_Maybe_1_Some(MKU64(value_u64(v7)));
				branch_Maybe_11 = v12;
				branch_ZPlusMirth_10 = v8;
			} else {
				PTUP v13 = PTRMK(0LL /* None */,0,0);
				branch_Maybe_11 = v13;
				branch_ZPlusMirth_10 = v8;
			}
			branch_Maybe_6 = branch_Maybe_11;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_10;
		} break;
		case 0LL: { // None
			PTUP v14 = PTRMK(0LL /* None */,0,0);
			branch_Maybe_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static PTUP mw_mirth_mirth_PropLabel_prop_1_sp16 (uint64_t in_Token_1, PTUP in_ZPlusMirth_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_2))->cells[6]);
	incref(MKTUP(v6));
	FNPTR v7 = &mb_mirth_mirth_PropLabel_prop_1_sp16_0;
	PTUP v8 = mtw_mirth_mirth_PropState_1_Delay(v6, MKU64(in_Token_1), MKFNPTR(v7));
	PTUP v9 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_3, v8);
	*out_ZPlusMirth_4 = in_ZPlusMirth_2;
	return v9;
}
static PTUP mw_mirth_mirth_PropLabel_prop2_1_sp7 (PTUP in_ZPlusMirth_1, uint64_t in_Field_2, uint64_t in_Word_3, PTUP in_PropLabel_4, PTUP *out_ZPlusMirth_5) {
	PTUP r7 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r7))->size = 2;
	((TUP*)PTRPTR(r7))->cells[1] = MKU64(in_Word_3);
	((TUP*)PTRPTR(r7))->cells[0] = MKU64(in_Field_2);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	incref(MKTUP(v8));
	FNPTR v9 = &mb_mirth_mirth_PropLabel_prop_1_sp20_0;
	PTUP v10 = mtw_mirth_mirth_PropState_1_Delay(v8, MKTUP(r7), MKFNPTR(v9));
	PTUP v11 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_4, v10);
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
	return v11;
}
static PTUP mw_mirth_mirth_PropLabel_prop2_1_sp8 (PTUP in_ZPlusMirth_1, PTUP in_List_2, uint64_t in_Word_3, PTUP in_PropLabel_4, PTUP *out_ZPlusMirth_5) {
	PTUP r7 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r7))->size = 2;
	((TUP*)PTRPTR(r7))->cells[1] = MKU64(in_Word_3);
	((TUP*)PTRPTR(r7))->cells[0] = MKTUP(in_List_2);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	incref(MKTUP(v8));
	FNPTR v9 = &mb_mirth_mirth_PropLabel_prop_1_sp19_0;
	PTUP v10 = mtw_mirth_mirth_PropState_1_Delay(v8, MKTUP(r7), MKFNPTR(v9));
	PTUP v11 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_4, v10);
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
	return v11;
}
static void mw_std_maybe_Maybe_1_ifZAsk_2_sp135 (uint64_t in_Field_1, PTUP in_ZPlusAB_2, PTUP in_ZPlusMirth_3, PTUP in_Maybe_4, uint64_t *out_Field_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusAB_7) {
	uint64_t branch_Field_8;
	PTUP branch_ZPlusMirth_9;
	PTUP branch_ZPlusAB_10;
	switch (PTREXTRA(in_Maybe_4)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(in_Maybe_4);
			PTUP v12;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(in_ZPlusAB_2, value_u64(v11), &v12);
			PTUP v13 = PTRMK(0LL /* Nil */,0,0);
			int64_t v14 = 1LL /* Dup */;
			PTUP v15;
			PTUP v16;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(in_ZPlusMirth_3, v12, v13, v14, &v15, &v16);
			PTUP v17 = PTRMK(0LL /* Nil */,0,0);
			PTUP v18 = mtw_mirth_arrow_Op_Field(in_Field_1);
			PTUP v19;
			PTUP v20;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(v15, v16, v17, v18, &v19, &v20);
			PTUP v21 = PTRMK(0LL /* Nil */,0,0);
			int64_t v22 = 1LL /* Dup */;
			PTUP v23;
			PTUP v24;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v19, v20, v21, v22, &v23, &v24);
			PTUP v25 = PTRMK(0LL /* Nil */,0,0);
			int64_t v26 = 155LL /* MutIsSet */;
			PTUP v27;
			PTUP v28;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v23, v24, v25, v26, &v27, &v28);
			PTUP v29;
			PTUP v30 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v28, &v29);
			PTUP v31;
			PTUP v32 = mw_mirth_type_StackType_forceZ_consZAskZBang(v27, v30, &v31);
			PTUP v33 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v32);
			PTUP v34;
			PTUP v35 = mw_mirth_type_StackType_FreshZBang(v31, &v34);
			PTUP v36 = mw_mirth_type_TZ_ZTo(v33, v35);
			incref(MKTUP(v36));
			PTUP v37;
			PTUP v38 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v29, &v37);
			PTUP v39;
			uint64_t v40 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v37, &v39);
			PTUP v41;
			PTUP v42 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v39, &v41);
			PTUP v43;
			PTUP v44;
			mtp_mirth_type_ArrowType_ArrowType(v36, &v43, &v44);
			incref(MKTUP(v43));
			PTUP v45 = PTRMK(0LL /* Nil */,0,0);
			PTUP v46 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v42)), value_u64(MKU64(v40)), value_u64(MKU64(v40)), v38, v43, v43, v45);
			PTUP v47 = PTRMK(0LL /* Nil */,0,0);
			int64_t v48 = 3LL /* Swap */;
			PTUP v49;
			PTUP v50;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v34, v46, v47, v48, &v49, &v50);
			PTUP v51 = PTRMK(0LL /* Nil */,0,0);
			int64_t v52 = 2LL /* Drop */;
			PTUP v53;
			PTUP v54;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v49, v50, v51, v52, &v53, &v54);
			PTUP v55 = PTRMK(0LL /* Nil */,0,0);
			int64_t v56 = 153LL /* MutGet */;
			PTUP v57;
			PTUP v58;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v53, v54, v55, v56, &v57, &v58);
			PTUP v59;
			PTUP v60;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v57, v58, v44, &v59, &v60);
			PTUP v61;
			uint64_t v62 = mw_mirth_arrow_Block_NewZBang(v59, v60, &v61);
			PTUP v63;
			PTUP v64 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v41, &v63);
			PTUP v65;
			uint64_t v66 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v63, &v65);
			PTUP v67;
			PTUP v68 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v65, &v67);
			PTUP v69;
			PTUP v70;
			mtp_mirth_type_ArrowType_ArrowType(v36, &v69, &v70);
			incref(MKTUP(v69));
			PTUP v71 = PTRMK(0LL /* Nil */,0,0);
			PTUP v72 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v68)), value_u64(MKU64(v66)), value_u64(MKU64(v66)), v64, v69, v69, v71);
			PTUP v73;
			PTUP v74 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v72, &v73);
			PTUP v75;
			PTUP v76 = mw_mirth_type_StackType_forceZ_consZAskZBang(v61, v74, &v75);
			PTUP v77 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v76);
			PTUP v78;
			PTUP v79 = mw_mirth_type_StackType_FreshZBang(v75, &v78);
			PTUP v80 = mw_mirth_type_TZ_ZTo(v77, v79);
			PTUP v81;
			PTUP v82 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v73, &v81);
			PTUP v83;
			uint64_t v84 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v81, &v83);
			PTUP v85;
			PTUP v86 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v83, &v85);
			PTUP v87;
			PTUP v88;
			mtp_mirth_type_ArrowType_ArrowType(v80, &v87, &v88);
			incref(MKTUP(v87));
			PTUP v89 = PTRMK(0LL /* Nil */,0,0);
			PTUP v90 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v86)), value_u64(MKU64(v84)), value_u64(MKU64(v84)), v82, v87, v87, v89);
			STR* v91;
			STRLIT(v91, "self", 4);
			PTUP v92;
			uint64_t v93 = mw_mirth_name_Name_Name(v78, v91, &v92);
			PTUP v94;
			uint64_t v95 = mw_mirth_label_Label_Label(v92, v93, &v94);
			PTUP v96;
			PTUP v97;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v94, v90, v95, &v96, &v97);
			PTUP v98;
			PTUP v99;
			mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v96, v97, &v98, &v99);
			STR* v100;
			STRLIT(v100, "self", 4);
			PTUP v101;
			uint64_t v102 = mw_mirth_name_Name_Name(v98, v100, &v101);
			PTUP v103;
			uint64_t v104 = mw_mirth_label_Label_Label(v101, v102, &v103);
			PTUP v105;
			PTUP v106;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v103, v99, v104, &v105, &v106);
			PTUP v107 = PTRMK(0LL /* Nil */,0,0);
			int64_t v108 = 2LL /* Drop */;
			PTUP v109;
			PTUP v110;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v105, v106, v107, v108, &v109, &v110);
			PTUP v111 = PTRMK(0LL /* Nil */,0,0);
			int64_t v112 = 1LL /* Dup */;
			PTUP v113;
			PTUP v114;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v109, v110, v111, v112, &v113, &v114);
			PTUP v115;
			PTUP v116;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v113, v114, v88, &v115, &v116);
			PTUP v117;
			uint64_t v118 = mw_mirth_arrow_Block_NewZBang(v115, v116, &v117);
			PTUP v119 = PTRMK(0LL /* Nil */,0,0);
			PTUP v120 = mw_std_list_List_1_cons(MKU64(v118), v119);
			int64_t v121 = 5LL /* Dip */;
			PTUP v122;
			PTUP v123;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v117, v85, v120, v121, &v122, &v123);
			PTUP v124 = PTRMK(0LL /* Nil */,0,0);
			int64_t v125 = 154LL /* MutSet */;
			PTUP v126;
			PTUP v127;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v122, v123, v124, v125, &v126, &v127);
			PTUP v128;
			PTUP v129;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v126, v127, v70, &v128, &v129);
			PTUP v130;
			uint64_t v131 = mw_mirth_arrow_Block_NewZBang(v128, v129, &v130);
			PTUP v132 = PTRMK(0LL /* Nil */,0,0);
			PTUP v133 = mw_std_list_List_1_cons(MKU64(v131), v132);
			PTUP v134 = mw_std_list_List_1_cons(MKU64(value_u64(MKU64(v62))), v133);
			int64_t v135 = 7LL /* If */;
			PTUP v136;
			PTUP v137;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v130, v67, v134, v135, &v136, &v137);
			branch_ZPlusAB_10 = v137;
			branch_ZPlusMirth_9 = v136;
			branch_Field_8 = in_Field_1;
		} break;
		case 0LL: { // None
			PTUP v138 = PTRMK(0LL /* Nil */,0,0);
			PTUP v139 = mtw_mirth_arrow_Op_Field(in_Field_1);
			PTUP v140;
			PTUP v141;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_3, in_ZPlusAB_2, v138, v139, &v140, &v141);
			PTUP v142 = PTRMK(0LL /* Nil */,0,0);
			int64_t v143 = 153LL /* MutGet */;
			PTUP v144;
			PTUP v145;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v140, v141, v142, v143, &v144, &v145);
			branch_ZPlusAB_10 = v145;
			branch_ZPlusMirth_9 = v144;
			branch_Field_8 = in_Field_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_7 = branch_ZPlusAB_10;
	*out_ZPlusMirth_6 = branch_ZPlusMirth_9;
	*out_Field_5 = branch_Field_8;
}
static PTUP mw_mirth_mirth_PropLabel_prop2_1_sp12 (PTUP in_ZPlusMirth_1, uint64_t in_Table_2, uint64_t in_Word_3, PTUP in_PropLabel_4, PTUP *out_ZPlusMirth_5) {
	PTUP r7 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r7))->size = 2;
	((TUP*)PTRPTR(r7))->cells[1] = MKU64(in_Word_3);
	((TUP*)PTRPTR(r7))->cells[0] = MKU64(in_Table_2);
	PTUP v8 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_1))->cells[6]);
	incref(MKTUP(v8));
	FNPTR v9 = &mb_mirth_mirth_PropLabel_prop_1_sp29_0;
	PTUP v10 = mtw_mirth_mirth_PropState_1_Delay(v8, MKTUP(r7), MKFNPTR(v9));
	PTUP v11 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_4, v10);
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
	return v11;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp58 (PTUP in_Maybe_1) {
	VAL branch_z_x1_3;
	switch (PTREXTRA(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			branch_z_x1_3 = v4;
		} break;
		case 0LL: { // None
			STR* v5;
			STRLIT(v5, "unexpected number of params", 27);
			do_panic(v5);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_z_x1_3;
}
static void mw_mirth_elab_ZPlusAB_abZ_whileZBang_2_sp1 (uint64_t in_Var_1, uint64_t in_Table_2, PTUP in_ZPlusMirth_3, PTUP in_ZPlusAB_4, uint64_t *out_Table_5, PTUP *out_ZPlusMirth_6, PTUP *out_ZPlusAB_7) {
	PTUP v8;
	PTUP v9 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_4, &v8);
	incref(MKTUP(v9));
	incref(MKTUP(v9));
	PTUP v10 = mw_mirth_type_Type_Bool();
	PTUP v11 = mw_mirth_type_TZMul(v9, v10);
	PTUP v12 = mw_mirth_type_TZ_ZTo(v9, v11);
	PTUP v13;
	PTUP v14 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v8, &v13);
	PTUP v15;
	uint64_t v16 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v13, &v15);
	PTUP v17;
	PTUP v18 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v15, &v17);
	PTUP v19;
	PTUP v20;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v19, &v20);
	incref(MKTUP(v19));
	PTUP v21 = PTRMK(0LL /* Nil */,0,0);
	PTUP v22 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v18)), value_u64(MKU64(v16)), value_u64(MKU64(v16)), v14, v19, v19, v21);
	PTUP v23 = PTRMK(0LL /* Nil */,0,0);
	int64_t v24 = 1LL /* Dup */;
	PTUP v25;
	PTUP v26;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(in_ZPlusMirth_3, v22, v23, v24, &v25, &v26);
	PTUP v27;
	uint64_t v28 = mw_mirth_table_Table_numZ_buffer(v25, in_Table_2, &v27);
	PTUP v29;
	PTUP v30;
	mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v27, v26, v28, &v29, &v30);
	PTUP v31 = PTRMK(0LL /* Nil */,0,0);
	int64_t v32 = 44LL /* U64Get */;
	PTUP v33;
	PTUP v34;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v29, v30, v31, v32, &v33, &v34);
	PTUP v35 = PTRMK(0LL /* Nil */,0,0);
	int64_t v36 = 48LL /* U64Le */;
	PTUP v37;
	PTUP v38;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v33, v34, v35, v36, &v37, &v38);
	PTUP v39;
	PTUP v40;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v37, v38, v20, &v39, &v40);
	PTUP v41;
	uint64_t v42 = mw_mirth_arrow_Block_NewZBang(v39, v40, &v41);
	incref(MKTUP(v9));
	PTUP v43 = mw_mirth_type_TZ_ZTo(v9, v9);
	PTUP v44;
	PTUP v45 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v17, &v44);
	PTUP v46;
	uint64_t v47 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v44, &v46);
	PTUP v48;
	PTUP v49 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v46, &v48);
	PTUP v50;
	PTUP v51;
	mtp_mirth_type_ArrowType_ArrowType(v43, &v50, &v51);
	incref(MKTUP(v50));
	PTUP v52 = PTRMK(0LL /* Nil */,0,0);
	PTUP v53 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v49)), value_u64(MKU64(v47)), value_u64(MKU64(v47)), v45, v50, v50, v52);
	PTUP v54 = PTRMK(0LL /* Nil */,0,0);
	int64_t v55 = 1LL /* Dup */;
	PTUP v56;
	PTUP v57;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v41, v53, v54, v55, &v56, &v57);
	PTUP v58;
	PTUP v59 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v57, &v58);
	PTUP v60;
	PTUP v61 = mw_mirth_type_StackType_forceZ_consZAskZBang(v56, v59, &v60);
	PTUP v62 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v61);
	PTUP v63;
	PTUP v64 = mw_mirth_type_StackType_FreshZBang(v60, &v63);
	PTUP v65 = mw_mirth_type_TZ_ZTo(v62, v64);
	PTUP v66;
	PTUP v67 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v58, &v66);
	PTUP v68;
	uint64_t v69 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v66, &v68);
	PTUP v70;
	PTUP v71 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v68, &v70);
	PTUP v72;
	PTUP v73;
	mtp_mirth_type_ArrowType_ArrowType(v65, &v72, &v73);
	incref(MKTUP(v72));
	PTUP v74 = PTRMK(0LL /* Nil */,0,0);
	PTUP v75 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v71)), value_u64(MKU64(v69)), value_u64(MKU64(v69)), v67, v72, v72, v74);
	PTUP v76 = PTRMK(0LL /* Nil */,0,0);
	PTUP v77 = mtw_mirth_arrow_Op_TableFromIndex(in_Table_2);
	PTUP v78;
	PTUP v79;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v63, v75, v76, v77, &v78, &v79);
	PTUP v80;
	PTUP v81;
	mw_mirth_elab_ZPlusAB_abZ_varZBang(v78, v79, in_Var_1, &v80, &v81);
	PTUP v82;
	PTUP v83;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v80, v81, v73, &v82, &v83);
	PTUP v84;
	uint64_t v85 = mw_mirth_arrow_Block_NewZBang(v82, v83, &v84);
	PTUP v86 = PTRMK(0LL /* Nil */,0,0);
	PTUP v87 = mw_std_list_List_1_cons(MKU64(v85), v86);
	int64_t v88 = 5LL /* Dip */;
	PTUP v89;
	PTUP v90;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v84, v70, v87, v88, &v89, &v90);
	uint64_t v91 = 1ULL;
	PTUP v92 = mtw_mirth_arrow_PushValue_U64(v91);
	PTUP v93;
	PTUP v94;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v89, v90, v92, &v93, &v94);
	PTUP v95 = PTRMK(0LL /* Nil */,0,0);
	int64_t v96 = 52LL /* U64Add */;
	PTUP v97;
	PTUP v98;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v93, v94, v95, v96, &v97, &v98);
	PTUP v99;
	PTUP v100;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v97, v98, v51, &v99, &v100);
	PTUP v101;
	uint64_t v102 = mw_mirth_arrow_Block_NewZBang(v99, v100, &v101);
	PTUP v103 = PTRMK(0LL /* Nil */,0,0);
	PTUP v104 = mw_std_list_List_1_cons(MKU64(v102), v103);
	PTUP v105 = mw_std_list_List_1_cons(MKU64(value_u64(MKU64(v42))), v104);
	int64_t v106 = 8LL /* While */;
	PTUP v107;
	PTUP v108;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v101, v48, v105, v106, &v107, &v108);
	*out_ZPlusAB_7 = v108;
	*out_ZPlusMirth_6 = v107;
	*out_Table_5 = in_Table_2;
}
static PTUP mw_mirth_mirth_PropLabel_prop_1_sp30 (uint64_t in_Table_1, PTUP in_ZPlusMirth_2, PTUP in_PropLabel_3, PTUP *out_ZPlusMirth_4) {
	PTUP v6 = VTUP(((TUP*)PTRPTR(in_ZPlusMirth_2))->cells[6]);
	incref(MKTUP(v6));
	FNPTR v7 = &mb_mirth_mirth_PropLabel_prop_1_sp30_0;
	PTUP v8 = mtw_mirth_mirth_PropState_1_Delay(v6, MKU64(in_Table_1), MKFNPTR(v7));
	PTUP v9 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_3, v8);
	*out_ZPlusMirth_4 = in_ZPlusMirth_2;
	return v9;
}
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp2 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, v6, &v7);
	PTUP v9 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v8);
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_FreshZBang(v7, &v10);
	PTUP v12 = mw_mirth_type_TZ_ZTo(v9, v11);
	incref(MKTUP(v12));
	PTUP v13;
	PTUP v14;
	uint64_t v15 = mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp16(v10, v12, v5, &v13, &v14);
	PTUP v16;
	PTUP v17 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v14, &v16);
	PTUP v18;
	uint64_t v19 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v16, &v18);
	PTUP v20;
	PTUP v21 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v18, &v20);
	PTUP v22;
	PTUP v23;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v22, &v23);
	incref(MKTUP(v22));
	PTUP v24 = PTRMK(0LL /* Nil */,0,0);
	PTUP v25 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v21)), value_u64(MKU64(v19)), value_u64(MKU64(v19)), v17, v22, v22, v24);
	uint64_t v26 = 1ULL;
	PTUP v27 = mtw_mirth_arrow_PushValue_U64(v26);
	PTUP v28;
	PTUP v29;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v13, v25, v27, &v28, &v29);
	PTUP v30 = PTRMK(0LL /* Nil */,0,0);
	int64_t v31 = 53LL /* U64Sub */;
	PTUP v32;
	PTUP v33;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
	PTUP v34;
	PTUP v35;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v32, v33, v23, &v34, &v35);
	PTUP v36;
	uint64_t v37 = mw_mirth_arrow_Block_NewZBang(v34, v35, &v36);
	PTUP v38 = PTRMK(0LL /* Nil */,0,0);
	PTUP v39 = mw_std_list_List_1_cons(MKU64(v37), v38);
	PTUP v40 = mw_std_list_List_1_cons(MKU64(value_u64(MKU64(v15))), v39);
	int64_t v41 = 7LL /* If */;
	PTUP v42;
	PTUP v43;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v20, v40, v41, &v42, &v43);
	*out_ZPlusAB_4 = v43;
	*out_ZPlusMirth_3 = v42;
}
static uint64_t mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp16 (PTUP in_ZPlusMirth_1, PTUP in_ArrowType_2, PTUP in_ZPlusAB_3, PTUP *out_ZPlusMirth_4, PTUP *out_ZPlusAB_5) {
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_3, &v7);
	PTUP v9;
	uint64_t v10 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v9);
	PTUP v11;
	PTUP v12 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v9, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v12)), value_u64(MKU64(v10)), value_u64(MKU64(v10)), v8, v13, v13, v15);
	PTUP v17;
	PTUP v18;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(in_ZPlusMirth_1, v16, v14, &v17, &v18);
	PTUP v19;
	uint64_t v20 = mw_mirth_arrow_Block_NewZBang(v17, v18, &v19);
	*out_ZPlusAB_5 = v11;
	*out_ZPlusMirth_4 = v19;
	return v20;
}
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp3 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, v6, &v7);
	PTUP v9 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v8);
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_FreshZBang(v7, &v10);
	PTUP v12 = mw_mirth_type_TZ_ZTo(v9, v11);
	incref(MKTUP(v12));
	PTUP v13;
	PTUP v14 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v5, &v13);
	PTUP v15;
	uint64_t v16 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v13, &v15);
	PTUP v17;
	PTUP v18 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v15, &v17);
	PTUP v19;
	PTUP v20;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v19, &v20);
	incref(MKTUP(v19));
	PTUP v21 = PTRMK(0LL /* Nil */,0,0);
	PTUP v22 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v18)), value_u64(MKU64(v16)), value_u64(MKU64(v16)), v14, v19, v19, v21);
	uint64_t v23 = 1ULL;
	PTUP v24 = mtw_mirth_arrow_PushValue_U64(v23);
	PTUP v25;
	PTUP v26;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v10, v22, v24, &v25, &v26);
	PTUP v27 = PTRMK(0LL /* Nil */,0,0);
	int64_t v28 = 52LL /* U64Add */;
	PTUP v29;
	PTUP v30;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v25, v26, v27, v28, &v29, &v30);
	PTUP v31;
	PTUP v32;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v29, v30, v20, &v31, &v32);
	PTUP v33;
	uint64_t v34 = mw_mirth_arrow_Block_NewZBang(v31, v32, &v33);
	PTUP v35;
	PTUP v36 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v17, &v35);
	PTUP v37;
	uint64_t v38 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v35, &v37);
	PTUP v39;
	PTUP v40 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v37, &v39);
	PTUP v41;
	PTUP v42;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v41, &v42);
	incref(MKTUP(v41));
	PTUP v43 = PTRMK(0LL /* Nil */,0,0);
	PTUP v44 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v40)), value_u64(MKU64(v38)), value_u64(MKU64(v38)), v36, v41, v41, v43);
	PTUP v45 = PTRMK(0LL /* Nil */,0,0);
	int64_t v46 = 2LL /* Drop */;
	PTUP v47;
	PTUP v48;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v33, v44, v45, v46, &v47, &v48);
	uint64_t v49 = 0ULL;
	PTUP v50 = mtw_mirth_arrow_PushValue_U64(v49);
	PTUP v51;
	PTUP v52;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v47, v48, v50, &v51, &v52);
	PTUP v53;
	PTUP v54;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v51, v52, v42, &v53, &v54);
	PTUP v55;
	uint64_t v56 = mw_mirth_arrow_Block_NewZBang(v53, v54, &v55);
	PTUP v57 = PTRMK(0LL /* Nil */,0,0);
	PTUP v58 = mw_std_list_List_1_cons(MKU64(v56), v57);
	PTUP v59 = mw_std_list_List_1_cons(MKU64(value_u64(MKU64(v34))), v58);
	int64_t v60 = 7LL /* If */;
	PTUP v61;
	PTUP v62;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v55, v39, v59, v60, &v61, &v62);
	*out_ZPlusAB_4 = v62;
	*out_ZPlusMirth_3 = v61;
}
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp4 (PTUP in_ZPlusMirth_1, PTUP in_ZPlusAB_2, PTUP *out_ZPlusMirth_3, PTUP *out_ZPlusAB_4) {
	PTUP v5;
	PTUP v6 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v5);
	PTUP v7;
	PTUP v8 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, v6, &v7);
	PTUP v9 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v8);
	PTUP v10;
	PTUP v11 = mw_mirth_type_StackType_FreshZBang(v7, &v10);
	PTUP v12 = mw_mirth_type_TZ_ZTo(v9, v11);
	incref(MKTUP(v12));
	PTUP v13;
	PTUP v14;
	uint64_t v15 = mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp16(v10, v12, v5, &v13, &v14);
	PTUP v16;
	PTUP v17 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v14, &v16);
	PTUP v18;
	uint64_t v19 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v16, &v18);
	PTUP v20;
	PTUP v21 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v18, &v20);
	PTUP v22;
	PTUP v23;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v22, &v23);
	incref(MKTUP(v22));
	PTUP v24 = PTRMK(0LL /* Nil */,0,0);
	PTUP v25 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v21)), value_u64(MKU64(v19)), value_u64(MKU64(v19)), v17, v22, v22, v24);
	PTUP v26 = PTRMK(0LL /* Nil */,0,0);
	int64_t v27 = 2LL /* Drop */;
	PTUP v28;
	PTUP v29;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v13, v25, v26, v27, &v28, &v29);
	uint64_t v30 = 0ULL;
	PTUP v31 = mtw_mirth_arrow_PushValue_U64(v30);
	PTUP v32;
	PTUP v33;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v28, v29, v31, &v32, &v33);
	PTUP v34;
	PTUP v35;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v32, v33, v23, &v34, &v35);
	PTUP v36;
	uint64_t v37 = mw_mirth_arrow_Block_NewZBang(v34, v35, &v36);
	PTUP v38 = PTRMK(0LL /* Nil */,0,0);
	PTUP v39 = mw_std_list_List_1_cons(MKU64(v37), v38);
	PTUP v40 = mw_std_list_List_1_cons(MKU64(value_u64(MKU64(v15))), v39);
	int64_t v41 = 7LL /* If */;
	PTUP v42;
	PTUP v43;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v20, v40, v41, &v42, &v43);
	*out_ZPlusAB_4 = v43;
	*out_ZPlusMirth_3 = v42;
}
static void mw_std_list_List_1_for_1_sp120 (PTUP in_ZPlusAB_1, PTUP in_ZPlusMirth_2, PTUP in_List_3, PTUP *out_ZPlusAB_4, PTUP *out_ZPlusMirth_5) {
	bool v6 = true;
	PTUP r7 = in_ZPlusAB_1;
	PTUP r8 = in_ZPlusMirth_2;
	PTUP v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		PTUP r12 = r7;
		PTUP r13 = r8;
		PTUP v14 = v9;
		bool v15 = v10;
		PTUP branch_ZPlusAB_16;
		PTUP branch_ZPlusMirth_17;
		PTUP branch_List_18;
		bool branch_Bool_19;
		switch (PTREXTRA(v14)) {
			case 1LL: { // Cons
				PTUP v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				PTUP v22 = PTRMK(0LL /* Nil */,0,0);
				int64_t v23 = 1LL /* Dup */;
				PTUP v24;
				PTUP v25;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(r13, r12, v22, v23, &v24, &v25);
				PTUP v26;
				uint64_t v27 = mw_mirth_table_Field_name(v24, value_u64(v21), &v26);
				PTUP v28;
				uint64_t v29 = mw_mirth_name_Name_label(v26, v27, &v28);
				PTUP v30;
				PTUP v31;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v28, v25, v29, &v30, &v31);
				PTUP v32 = PTRMK(0LL /* Nil */,0,0);
				int64_t v33 = 3LL /* Swap */;
				PTUP v34;
				PTUP v35;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v30, v31, v32, v33, &v34, &v35);
				PTUP v36;
				PTUP v37;
				mw_mirth_elab_ZPlusAB_abZ_fieldZBang(v34, v35, value_u64(v21), &v36, &v37);
				PTUP v38 = PTRMK(0LL /* Nil */,0,0);
				int64_t v39 = 154LL /* MutSet */;
				PTUP v40;
				PTUP v41;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
				bool v42 = true;
				branch_Bool_19 = v42;
				branch_List_18 = v20;
				branch_ZPlusMirth_17 = v40;
				branch_ZPlusAB_16 = v41;
			} break;
			case 0LL: { // Nil
				PTUP v43 = PTRMK(0LL /* Nil */,0,0);
				bool v44 = false;
				branch_Bool_19 = v44;
				branch_List_18 = v43;
				branch_ZPlusMirth_17 = r13;
				branch_ZPlusAB_16 = r12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		r8 = branch_ZPlusMirth_17;
		r7 = branch_ZPlusAB_16;
	}
	decref(MKTUP(v9));
	*out_ZPlusMirth_5 = r8;
	*out_ZPlusAB_4 = r7;
}
static void mw_std_maybe_Maybe_1_else_1_sp13 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Token_5) {
	int64_t v6 = PTREXTRA(in_Maybe_3);
	decref(MKTUP(in_Maybe_3));
	INT v7 = WRAP_I63(0LL);
	INT v8 = v7;
	INT v9 = i64_to_int(v6);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = in_ZPlusMirth_1;
	} else {
		STR* v14;
		STRLIT(v14, "expected type name", 18);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v14);
	}
	*out_Token_5 = branch_Token_13;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
}
static void mw_std_maybe_Maybe_1_else_1_sp14 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Token_5) {
	int64_t v6 = PTREXTRA(in_Maybe_3);
	decref(MKTUP(in_Maybe_3));
	INT v7 = WRAP_I63(0LL);
	INT v8 = v7;
	INT v9 = i64_to_int(v6);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = in_ZPlusMirth_1;
	} else {
		STR* v14;
		STRLIT(v14, "Expected buffer name.", 21);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v14);
	}
	*out_Token_5 = branch_Token_13;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
}
static VAL mw_std_maybe_Maybe_1_elseZAsk_1_sp8 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Token_5) {
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (PTREXTRA(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			branch_z_x1_9 = v10;
			branch_Token_8 = in_Token_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "Expected buffer size.", 21);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Token_5 = branch_Token_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_z_x1_9;
}
static PTUP mw_std_list_List_1_filterZ_some_1_sp6 (PTUP in_List_1) {
	PTUP v3 = PTRMK(0LL /* Nil */,0,0);
	PTUP v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	bool v5 = true;
	PTUP r6 = v4;
	PTUP v7 = in_List_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		PTUP r10 = r6;
		PTUP v11 = v7;
		bool v12 = v8;
		PTUP branch_ZPlusLister_13;
		PTUP branch_List_14;
		bool branch_Bool_15;
		switch (PTREXTRA(v11)) {
			case 1LL: { // Cons
				PTUP v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				PTUP v18 = mw_mirth_type_CTypeStackPart_labelZAsk(VTUP(v17));
				PTUP v19;
				mw_std_maybe_Maybe_1_for_1_sp2(r10, v18, &v19);
				bool v20 = true;
				branch_Bool_15 = v20;
				branch_List_14 = v16;
				branch_ZPlusLister_13 = v19;
			} break;
			case 0LL: { // Nil
				PTUP v21 = PTRMK(0LL /* Nil */,0,0);
				bool v22 = false;
				branch_Bool_15 = v22;
				branch_List_14 = v21;
				branch_ZPlusLister_13 = r10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		r6 = branch_ZPlusLister_13;
	}
	decref(MKTUP(v7));
	PTUP v23 = mw_std_list_ZPlusLister_1_doneZBang(r6);
	return v23;
}
static void mw_std_maybe_Maybe_1_else_1_sp17 (PTUP in_ZPlusMirth_1, uint64_t in_Token_2, PTUP in_Maybe_3, PTUP *out_ZPlusMirth_4, uint64_t *out_Token_5) {
	int64_t v6 = PTREXTRA(in_Maybe_3);
	decref(MKTUP(in_Maybe_3));
	INT v7 = WRAP_I63(0LL);
	INT v8 = v7;
	INT v9 = i64_to_int(v6);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	PTUP branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = in_ZPlusMirth_1;
	} else {
		STR* v14;
		STRLIT(v14, "expected type constructor", 25);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v14);
	}
	*out_Token_5 = branch_Token_13;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
}
static STR* mw_std_prelude_unsafe_1_sp22 (INT in_Sizze_1, STR* in_Str_2) {
	STR* v4 = mw_std_prim_Str_dropZ_bytes(in_Sizze_1, in_Str_2);
	return v4;
}
static STR* mw_std_prelude_unsafe_1_sp23 (INT in_Int_1) {
	STR* v3 = mw_argZ_parser_parse_readZ_fromZ_argv(in_Int_1);
	return v3;
}
static void mb_mirth_options_parseZ_optionsZBang_0 (void) {
	PTUP v0 = VTUP(pop_value());
	PTUP v1 = VTUP(pop_value());
	PTUP v2 = VTUP(pop_value());
	PTUP r3 = VTUP(pop_resource());
	PTUP v4;
	PTUP v5 = mw_mirth_options_compilerZ_parseZ_args(r3, v2, v1, v0, &v4);
	push_resource(MKTUP(v4));
	push_value(MKTUP(v5));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_mirth_ZPlusMirth_moduleZ_statementZ_errorZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_mirth_ZPlusMirth_importZ_statementZ_errorZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_2 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_elab_elabZ_patchZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_3 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_alias_elabZ_aliasZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_4 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_elab_elabZ_inlineZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_5 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_elab_elabZ_defZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_6 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_elab_elabZ_defZ_missingZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_7 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_typedef_elabZ_defZ_typeZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_8 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_external_elabZ_externalZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_9 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_buffer_elabZ_bufferZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_10 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_table_elabZ_tableZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_11 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_table_elabZ_fieldZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_12 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_data_elabZ_dataZBang(r1, v0, &v2);
	push_value(MKU64(v3));
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_13 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_data_elabZ_structZBang(r1, v0, &v2);
	push_value(MKU64(v3));
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_14 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_elab_elabZ_embedZ_strZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_15 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_elab_elabZ_maxZ_mirthZ_revisionZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_16 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	pop_resource();
	PTUP v2;
	uint64_t v3 = mw_mirth_elab_elabZ_minZ_mirthZ_revisionZBang(r1, v0, &v2);
	push_resource(MKI64(0));
	push_resource(MKTUP(v2));
	push_value(MKU64(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_17 (void) {
	PTUP r0 = VTUP(pop_resource());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3;
	mw_mirth_elab_ZPlusAB_elabZ_atomZ_matchZBang(r1, r0, &v2, &v3);
	push_resource(MKTUP(v2));
	push_resource(MKTUP(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_18 (void) {
	PTUP r0 = VTUP(pop_resource());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3;
	mw_mirth_elab_elabZ_atomZ_lambdaZBang(r1, r0, &v2, &v3);
	push_resource(MKTUP(v2));
	push_resource(MKTUP(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_19 (void) {
	PTUP r0 = VTUP(pop_resource());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3;
	mw_mirth_elab_ZPlusAB_elabZ_ldipZBang(r1, r0, &v2, &v3);
	push_resource(MKTUP(v2));
	push_resource(MKTUP(v3));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_20 (void) {
	PTUP r0 = VTUP(pop_resource());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3;
	mw_mirth_elab_ZPlusAB_elabZ_ldropZBang(r1, r0, &v2, &v3);
	push_resource(MKTUP(v2));
	push_resource(MKTUP(v3));
}
static void mb_mirth_elab_elabZ_defZ_head_0 (void) {
	PTUP r0 = VTUP(pop_resource());
	uint64_t v1 = value_u64(pop_value());
	PTUP v2;
	PTUP v3 = mw_mirth_elab_elabZ_defZ_qnameZ_undefined(r0, v1, &v2);
	push_resource(MKTUP(v2));
	push_value(MKTUP(v3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp1_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_word_Word_arrow(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_arrow_Arrow_ctxZ_type(v3, &v4);
	PTUP r6 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r6))->size = 2;
	((TUP*)PTRPTR(r6))->cells[1] = MKTUP(v4);
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(v2));
	push_value(MKTUP(r6));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp2_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	VAL v4 = ((TUP*)PTRPTR(v0))->cells[2];
	tup_decref_outer(v0);
	PTUP v5;
	PTUP v6;
	uint64_t v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	PTUP v11;
	PTUP v12;
	mtp_mirth_type_ArrowType_ArrowType(v6, &v11, &v12);
	incref(MKTUP(v11));
	PTUP v13 = PTRMK(0LL /* Nil */,0,0);
	PTUP v14 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v8)), value_u64(MKU64(v7)), value_u64(MKU64(v7)), v10, v11, v11, v13);
	PTUP v15;
	PTUP v16;
	mw_mirth_specializzer_synthZ_specializzedZ_wordZBang(v5, v14, VTUP(v2), value_u64(v3), &v15, &v16);
	PTUP v17;
	PTUP v18;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v15, v16, v12, &v17, &v18);
	PTUP v19;
	PTUP v20 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v17, v18, v9, &v19);
	push_resource(MKTUP(v19));
	push_value(MKTUP(v20));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp3_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_arrow_Block_ctx(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_arrow_Block_dom(v2, v0, &v4);
	PTUP v6;
	PTUP v7 = mw_mirth_arrow_Block_cod(v4, v0, &v6);
	PTUP v8;
	uint64_t v9 = mw_mirth_arrow_Block_token(v6, v0, &v8);
	PTUP v10;
	PTUP v11 = mw_mirth_arrow_Block_home(v8, v0, &v10);
	PTUP v12;
	PTUP v13 = mw_mirth_elab_elabZ_arrowZ_homZBang(v10, v3, v5, v7, v9, v11, &v12);
	push_resource(MKTUP(v12));
	push_value(MKTUP(v13));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp4_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	bool v3 = mw_mirth_data_Data_isZ_unitZAsk(r1, v0, &v2);
	uint64_t branch_Data_4;
	PTUP branch_ZPlusMirth_5;
	PTUP branch_Maybe_6;
	if (v3) {
		STR* v7;
		STRLIT(v7, "void", 4);
		PTUP v8 = mtw_mirth_type_CType_Void(v7);
		PTUP v9 = mtw_std_maybe_Maybe_1_Some(MKTUP(v8));
		branch_Maybe_6 = v9;
		branch_ZPlusMirth_5 = v2;
		branch_Data_4 = v0;
	} else {
		PTUP v10;
		bool v11 = mw_mirth_data_Data_isZ_enumZAsk(v2, v0, &v10);
		uint64_t branch_Data_12;
		PTUP branch_ZPlusMirth_13;
		PTUP branch_Maybe_14;
		if (v11) {
			STR* v15;
			STRLIT(v15, "int", 3);
			PTUP v16 = mtw_mirth_type_CType_Int(v15);
			PTUP v17 = mtw_std_maybe_Maybe_1_Some(MKTUP(v16));
			branch_Maybe_14 = v17;
			branch_ZPlusMirth_13 = v10;
			branch_Data_12 = v0;
		} else {
			PTUP v18;
			PTUP v19 = mw_mirth_data_Data_semiZ_transparentZAsk(v10, v0, &v18);
			PTUP branch_ZPlusMirth_20;
			PTUP branch_Maybe_21;
			switch (PTREXTRA(v19)) {
				case 1LL: { // Some
					VAL v22 = mtp_std_maybe_Maybe_1_Some(v19);
					PTUP v23 = VTUP(((TUP*)PTRPTR(VTUP(v22)))->cells[1]);
					incref(MKTUP(v23));
					decref(MKTUP(VTUP(v22)));
					PTUP branch_ZPlusMirth_24;
					PTUP branch_Maybe_25;
					switch (PTREXTRA(v23)) {
						case 0LL: { // Cons
							PTUP v26 = mtp_mirth_type_StackTypePart_Cons(v23);
							PTUP v27;
							PTUP v28 = mw_mirth_type_Type_ctypeZAsk(v18, v26, &v27);
							branch_Maybe_25 = v28;
							branch_ZPlusMirth_24 = v27;
						} break;
						case 1LL: { // ConsLabel
							uint64_t v29;
							PTUP v30 = mtp_mirth_type_StackTypePart_ConsLabel(v23, &v29);
							PTUP v31;
							PTUP v32 = mw_mirth_type_Type_ctypeZAsk(v18, v30, &v31);
							branch_Maybe_25 = v32;
							branch_ZPlusMirth_24 = v31;
						} break;
						case 2LL: { // With
							PTUP v33 = mtp_mirth_type_StackTypePart_With(v23);
							PTUP v34;
							PTUP v35 = mw_mirth_type_Resource_ctypeZAsk(v18, v33, &v34);
							branch_Maybe_25 = v35;
							branch_ZPlusMirth_24 = v34;
						} break;
						case 3LL: { // WithLabel
							uint64_t v36;
							PTUP v37 = mtp_mirth_type_StackTypePart_WithLabel(v23, &v36);
							PTUP v38;
							PTUP v39 = mw_mirth_type_Resource_ctypeZAsk(v18, v37, &v38);
							branch_Maybe_25 = v39;
							branch_ZPlusMirth_24 = v38;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Maybe_21 = branch_Maybe_25;
					branch_ZPlusMirth_20 = branch_ZPlusMirth_24;
				} break;
				case 0LL: { // None
					PTUP v40 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_21 = v40;
					branch_ZPlusMirth_20 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_14 = branch_Maybe_21;
			branch_ZPlusMirth_13 = branch_ZPlusMirth_20;
			branch_Data_12 = v0;
		}
		branch_Maybe_6 = branch_Maybe_14;
		branch_ZPlusMirth_5 = branch_ZPlusMirth_13;
		branch_Data_4 = branch_Data_12;
	}
	push_resource(MKTUP(branch_ZPlusMirth_5));
	push_value(MKTUP(branch_Maybe_6));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp5_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3;
	PTUP v4 = mw_mirth_data_Tag_ctxZ_type(r1, v0, &v2, &v3);
	PTUP v5 = mw_mirth_type_ArrowType_invert(v3);
	PTUP r6 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r6))->size = 2;
	((TUP*)PTRPTR(r6))->cells[1] = MKTUP(v5);
	((TUP*)PTRPTR(r6))->cells[0] = MKTUP(v4);
	push_resource(MKTUP(v2));
	push_value(MKTUP(r6));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp6_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_word_Word_type(r1, v0, &v2);
	PTUP v4 = VTUP(((TUP*)PTRPTR(v3))->cells[0]);
	incref(MKTUP(v4));
	decref(MKTUP(v3));
	PTUP v5;
	PTUP v6 = mw_mirth_type_StackType_topZ_typeZAsk(v2, v4, &v5);
	PTUP branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "logic error: expected parameter", 31);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v5, v10);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v13;
	PTUP v14 = mw_mirth_type_Type_arrowZAsk(branch_ZPlusMirth_7, VTUP(branch_z_x1_8), &v13);
	PTUP branch_ZPlusMirth_15;
	VAL branch_z_x1_16;
	switch (PTREXTRA(v14)) {
		case 1LL: { // Some
			VAL v17 = mtp_std_maybe_Maybe_1_Some(v14);
			branch_z_x1_16 = v17;
			branch_ZPlusMirth_15 = v13;
		} break;
		case 0LL: { // None
			STR* v18;
			STRLIT(v18, "logic error: expected arrow", 27);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v13, v18);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v21;
	STRLIT(v21, "f", 1);
	PTUP v22;
	uint64_t v23 = mw_mirth_name_Name_Name(branch_ZPlusMirth_15, v21, &v22);
	PTUP v24;
	uint64_t v25 = mw_mirth_var_Var_NewAutoRunZBang(v22, VTUP(branch_z_x1_16), v23, &v24);
	PTUP v26 = PTRMK(0LL /* None */,0,0);
	PTUP v27 = mtw_mirth_word_Param_Param(v25, v26);
	PTUP v28 = PTRMK(0LL /* Nil */,0,0);
	PTUP v29 = mw_std_list_List_1_cons(MKTUP(v27), v28);
	push_resource(MKTUP(v24));
	push_value(MKTUP(v29));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp7_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	VAL v4 = ((TUP*)PTRPTR(v0))->cells[2];
	VAL v5 = ((TUP*)PTRPTR(v0))->cells[3];
	tup_decref_outer(v0);
	PTUP v6;
	PTUP v7;
	uint64_t v8;
	PTUP v9;
	uint64_t v10;
	PTUP v11 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v5), &v6, &v7, &v8, &v9, &v10);
	PTUP v12;
	PTUP v13;
	mtp_mirth_type_ArrowType_ArrowType(v7, &v12, &v13);
	incref(MKTUP(v12));
	PTUP v14 = PTRMK(0LL /* Nil */,0,0);
	PTUP v15 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v9)), value_u64(MKU64(v8)), value_u64(MKU64(v8)), v11, v12, v12, v14);
	PTUP v16;
	PTUP v17 = mw_mirth_word_Word_params(v6, value_u64(v5), &v16);
	PTUP v18 = mw_std_list_List_1_map_1_sp17(v17);
	incref(MKTUP(v18));
	incref(MKTUP(v13));
	PTUP v19;
	uint64_t v20 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v15, &v19);
	incref(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v18))))));
	PTUP v21;
	PTUP v22 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v19, &v21);
	PTUP v23;
	PTUP v24 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v21, &v23);
	PTUP v25;
	PTUP v26;
	PTUP v27;
	PTUP v28 = mw_std_list_List_1_reverseZ_for_1_sp10(v16, v23, v22, v24, VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v18)))))), &v25, &v26, &v27);
	PTUP v29 = mw_mirth_type_TZ_ZTo(v27, VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v13)))))));
	PTUP v30;
	PTUP v31 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v26, &v30);
	PTUP v32;
	PTUP v33;
	mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v29)), &v32, &v33);
	incref(MKTUP(v32));
	PTUP v34 = PTRMK(0LL /* Nil */,0,0);
	PTUP v35 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v31)), value_u64(MKU64(value_u64(MKU64(v20)))), value_u64(MKU64(value_u64(MKU64(v20)))), VTUP(MKTUP(v28)), v32, v32, v34);
	PTUP v36 = mw_std_list_List_1_singleZAsk(VTUP(MKTUP(v18)));
	PTUP branch_ZPlusMirth_37;
	VAL branch_z_x1_38;
	VAL branch_z_x2_39;
	switch (PTREXTRA(v36)) {
		case 1LL: { // Some
			VAL v40 = mtp_std_maybe_Maybe_1_Some(v36);
			branch_z_x2_39 = v40;
			branch_z_x1_38 = MKTUP(v35);
			branch_ZPlusMirth_37 = v25;
		} break;
		case 0LL: { // None
			STR* v41;
			STRLIT(v41, "Expected one parameter.", 23);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v25, v41);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v44;
	bool v45 = mw_mirth_data_Data_isZ_resourceZAsk(branch_ZPlusMirth_37, value_u64(v2), &v44);
	PTUP branch_ZPlusMirth_46;
	PTUP branch_ZPlusAB_47;
	if (v45) {
		PTUP v48 = PTRMK(0LL /* Nil */,0,0);
		PTUP v49;
		PTUP v50;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v44, VTUP(branch_z_x1_38), v48, value_u64(v3), &v49, &v50);
		PTUP v51;
		PTUP v52 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v50, &v51);
		PTUP v53;
		PTUP v54 = mw_mirth_type_StackType_forceZ_withZAskZBang(v49, v52, &v53);
		PTUP v55 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v54);
		PTUP v56;
		PTUP v57 = mw_mirth_type_StackType_FreshZBang(v53, &v56);
		PTUP v58 = mw_mirth_type_TZ_ZTo(v55, v57);
		PTUP v59;
		PTUP v60 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v51, &v59);
		PTUP v61;
		uint64_t v62 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v59, &v61);
		PTUP v63;
		PTUP v64 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v61, &v63);
		PTUP v65;
		PTUP v66;
		mtp_mirth_type_ArrowType_ArrowType(v58, &v65, &v66);
		incref(MKTUP(v65));
		PTUP v67 = PTRMK(0LL /* Nil */,0,0);
		PTUP v68 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v64)), value_u64(MKU64(v62)), value_u64(MKU64(v62)), v60, v65, v65, v67);
		PTUP v69;
		PTUP v70;
		mw_mirth_elab_ZPlusAB_abZ_varZBang(v56, v68, value_u64(branch_z_x2_39), &v69, &v70);
		PTUP v71;
		PTUP v72;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v69, v70, v66, &v71, &v72);
		PTUP v73;
		uint64_t v74 = mw_mirth_arrow_Block_NewZBang(v71, v72, &v73);
		PTUP v75 = PTRMK(0LL /* Nil */,0,0);
		PTUP v76 = mw_std_list_List_1_cons(MKU64(v74), v75);
		int64_t v77 = 6LL /* RDip */;
		PTUP v78;
		PTUP v79;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v73, v63, v76, v77, &v78, &v79);
		PTUP v80 = PTRMK(0LL /* Nil */,0,0);
		PTUP v81;
		PTUP v82;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v78, v79, v80, value_u64(v4), &v81, &v82);
		branch_ZPlusAB_47 = v82;
		branch_ZPlusMirth_46 = v81;
	} else {
		PTUP v83 = PTRMK(0LL /* Nil */,0,0);
		int64_t v84 = 1LL /* Dup */;
		PTUP v85;
		PTUP v86;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v44, VTUP(branch_z_x1_38), v83, v84, &v85, &v86);
		PTUP v87;
		PTUP v88 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v86, &v87);
		PTUP v89;
		PTUP v90 = mw_mirth_type_StackType_forceZ_consZAskZBang(v85, v88, &v89);
		PTUP v91 = mw_std_maybe_Maybe_1_ifZAsk_2_sp55(v90);
		PTUP v92;
		PTUP v93 = mw_mirth_type_StackType_FreshZBang(v89, &v92);
		PTUP v94 = mw_mirth_type_TZ_ZTo(v91, v93);
		PTUP v95;
		PTUP v96 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v87, &v95);
		PTUP v97;
		uint64_t v98 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v95, &v97);
		PTUP v99;
		PTUP v100 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v97, &v99);
		PTUP v101;
		PTUP v102;
		mtp_mirth_type_ArrowType_ArrowType(v94, &v101, &v102);
		incref(MKTUP(v101));
		PTUP v103 = PTRMK(0LL /* Nil */,0,0);
		PTUP v104 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v100)), value_u64(MKU64(v98)), value_u64(MKU64(v98)), v96, v101, v101, v103);
		PTUP v105 = PTRMK(0LL /* Nil */,0,0);
		PTUP v106;
		PTUP v107;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v92, v104, v105, value_u64(v3), &v106, &v107);
		PTUP v108;
		PTUP v109;
		mw_mirth_elab_ZPlusAB_abZ_varZBang(v106, v107, value_u64(branch_z_x2_39), &v108, &v109);
		PTUP v110;
		PTUP v111;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v108, v109, v102, &v110, &v111);
		PTUP v112;
		uint64_t v113 = mw_mirth_arrow_Block_NewZBang(v110, v111, &v112);
		PTUP v114 = PTRMK(0LL /* Nil */,0,0);
		PTUP v115 = mw_std_list_List_1_cons(MKU64(v113), v114);
		int64_t v116 = 5LL /* Dip */;
		PTUP v117;
		PTUP v118;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v112, v99, v115, v116, &v117, &v118);
		PTUP v119 = PTRMK(0LL /* Nil */,0,0);
		PTUP v120;
		PTUP v121;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v117, v118, v119, value_u64(v4), &v120, &v121);
		branch_ZPlusAB_47 = v121;
		branch_ZPlusMirth_46 = v120;
	}
	PTUP v122;
	PTUP v123;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_46, branch_ZPlusAB_47, v33, &v122, &v123);
	PTUP v124;
	PTUP v125 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v30, &v124);
	PTUP v126;
	PTUP v127 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v124, &v126);
	PTUP v128;
	uint64_t v129 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v126, &v128);
	PTUP v130 = mtw_mirth_arrow_Lambda_Lambda(v129, v125, v127, VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v18)))))), v123);
	PTUP v131 = mtw_mirth_arrow_Op_Lambda(v130);
	PTUP v132 = PTRMK(0LL /* Nil */,0,0);
	PTUP v133;
	PTUP v134;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v122, v128, v132, v131, &v133, &v134);
	PTUP v135;
	PTUP v136;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v133, v134, VTUP(MKTUP(v13)), &v135, &v136);
	PTUP v137;
	PTUP v138 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v135, v136, v10, &v137);
	push_resource(MKTUP(v137));
	push_value(MKTUP(v138));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp8_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_data_Tag_projectZ_inputZ_label(r1, value_u64(v3), value_u64(v2), &v4);
	PTUP branch_ZPlusMirth_6;
	VAL branch_z_x1_7;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_z_x1_7 = v8;
			branch_ZPlusMirth_6 = v4;
		} break;
		case 0LL: { // None
			STR* v9;
			STRLIT(v9, "logic error: expeted field in tag.", 34);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v4, v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v12;
	PTUP v13 = mw_mirth_data_Tag_outputZ_type(branch_ZPlusMirth_6, value_u64(v2), &v12);
	PTUP v14;
	PTUP v15 = mw_mirth_data_Tag_ctx(v12, value_u64(v2), &v14);
	STR* v16;
	STRLIT(v16, "*x", 2);
	PTUP v17;
	PTUP v18;
	PTUP v19 = mw_mirth_type_StackType_NewInCtx(v14, v15, v16, &v17, &v18);
	STR* v20;
	STRLIT(v20, "*y", 2);
	PTUP v21;
	PTUP v22;
	PTUP v23 = mw_mirth_type_StackType_NewInCtx(v17, v19, v20, &v21, &v22);
	incref(MKTUP(v18));
	incref(MKTUP(v13));
	PTUP v24 = mw_mirth_type_TZMulZPlus(v18, v13);
	incref(MKTUP(v18));
	incref(MKTUP(VTUP(branch_z_x1_7)));
	PTUP v25 = mw_mirth_type_TZMulZPlus(v18, VTUP(branch_z_x1_7));
	incref(MKTUP(v22));
	incref(MKTUP(VTUP(branch_z_x1_7)));
	PTUP v26 = mw_mirth_type_TZMulZPlus(v22, VTUP(branch_z_x1_7));
	PTUP v27 = mw_mirth_type_TZ_ZTo(v25, v26);
	PTUP v28 = mtw_mirth_type_Type_Arrow(v27);
	PTUP v29 = mw_mirth_type_TZMul(v24, v28);
	incref(MKTUP(v22));
	incref(MKTUP(v13));
	PTUP v30 = mw_mirth_type_TZMulZPlus(v22, v13);
	PTUP v31 = mw_mirth_type_TZ_ZTo(v29, v30);
	PTUP r32 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r32))->size = 2;
	((TUP*)PTRPTR(r32))->cells[1] = MKTUP(v31);
	((TUP*)PTRPTR(r32))->cells[0] = MKTUP(v23);
	decref(MKTUP(v22));
	decref(MKTUP(v18));
	decref(MKTUP(v13));
	decref(MKTUP(VTUP(branch_z_x1_7)));
	push_resource(MKTUP(v21));
	push_value(MKTUP(r32));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp9_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	VAL v4 = ((TUP*)PTRPTR(v0))->cells[2];
	tup_decref_outer(v0);
	PTUP v5;
	PTUP v6;
	uint64_t v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	PTUP v11;
	PTUP v12;
	mtp_mirth_type_ArrowType_ArrowType(v6, &v11, &v12);
	incref(MKTUP(v11));
	PTUP v13 = PTRMK(0LL /* Nil */,0,0);
	PTUP v14 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v8)), value_u64(MKU64(v7)), value_u64(MKU64(v7)), v10, v11, v11, v13);
	PTUP v15;
	PTUP v16 = mw_mirth_data_Tag_projectZ_tagZ_field(v5, value_u64(v3), value_u64(v2), &v15);
	PTUP v17;
	VAL v18;
	VAL v19 = mw_std_maybe_Maybe_1_unwrap_1_sp48(v15, MKTUP(v14), v16, &v17, &v18);
	PTUP v20 = mtw_mirth_arrow_Op_DataSetLabel(VTUP(v19));
	PTUP v21 = PTRMK(0LL /* Nil */,0,0);
	PTUP v22;
	PTUP v23;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, VTUP(v18), v21, v20, &v22, &v23);
	PTUP v24;
	PTUP v25;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v22, v23, v12, &v24, &v25);
	PTUP v26;
	PTUP v27 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v24, v25, v9, &v26);
	push_resource(MKTUP(v26));
	push_value(MKTUP(v27));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp10_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_data_Tag_ctx(r1, value_u64(v2), &v4);
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_projectZ_tagZ_field(v4, value_u64(v3), value_u64(v2), &v6);
	PTUP v8;
	VAL v9 = mw_std_maybe_Maybe_1_unwrap_1_sp49(v6, v7, &v8);
	PTUP v10;
	PTUP v11 = mw_mirth_data_dataZ_setZ_labelZ_type(v8, VTUP(v9), &v10);
	PTUP r12 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r12))->size = 2;
	((TUP*)PTRPTR(r12))->cells[1] = MKTUP(v11);
	((TUP*)PTRPTR(r12))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(v10));
	push_value(MKTUP(r12));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp11_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	VAL v4 = ((TUP*)PTRPTR(v0))->cells[2];
	tup_decref_outer(v0);
	PTUP v5;
	PTUP v6;
	uint64_t v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	PTUP v11;
	PTUP v12;
	mtp_mirth_type_ArrowType_ArrowType(v6, &v11, &v12);
	incref(MKTUP(v11));
	PTUP v13 = PTRMK(0LL /* Nil */,0,0);
	PTUP v14 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v8)), value_u64(MKU64(v7)), value_u64(MKU64(v7)), v10, v11, v11, v13);
	PTUP v15;
	PTUP v16 = mw_mirth_data_Tag_projectZ_tagZ_field(v5, value_u64(v3), value_u64(v2), &v15);
	PTUP v17;
	VAL v18;
	VAL v19 = mw_std_maybe_Maybe_1_unwrap_1_sp48(v15, MKTUP(v14), v16, &v17, &v18);
	PTUP v20 = mtw_mirth_arrow_Op_DataGetLabel(VTUP(v19));
	PTUP v21 = PTRMK(0LL /* Nil */,0,0);
	PTUP v22;
	PTUP v23;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, VTUP(v18), v21, v20, &v22, &v23);
	PTUP v24;
	PTUP v25;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v22, v23, v12, &v24, &v25);
	PTUP v26;
	PTUP v27 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v24, v25, v9, &v26);
	push_resource(MKTUP(v26));
	push_value(MKTUP(v27));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp12_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_data_Tag_ctx(r1, value_u64(v2), &v4);
	PTUP v6;
	PTUP v7 = mw_mirth_data_Tag_projectZ_tagZ_field(v4, value_u64(v3), value_u64(v2), &v6);
	PTUP v8;
	VAL v9 = mw_std_maybe_Maybe_1_unwrap_1_sp49(v6, v7, &v8);
	PTUP v10;
	PTUP v11 = mw_mirth_data_dataZ_getZ_labelZ_type(v8, VTUP(v9), &v10);
	PTUP r12 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r12))->size = 2;
	((TUP*)PTRPTR(r12))->cells[1] = MKTUP(v11);
	((TUP*)PTRPTR(r12))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(v10));
	push_value(MKTUP(r12));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp13_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5;
	uint64_t v6;
	PTUP v7;
	uint64_t v8;
	PTUP v9 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v3), &v4, &v5, &v6, &v7, &v8);
	PTUP v10;
	PTUP v11;
	mtp_mirth_type_ArrowType_ArrowType(v5, &v10, &v11);
	incref(MKTUP(v10));
	PTUP v12 = PTRMK(0LL /* Nil */,0,0);
	PTUP v13 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v7)), value_u64(MKU64(v6)), value_u64(MKU64(v6)), v9, v10, v10, v12);
	PTUP v14;
	PTUP v15 = mw_mirth_data_Tag_type(v4, value_u64(v2), &v14);
	PTUP v16 = VTUP(((TUP*)PTRPTR(v15))->cells[0]);
	incref(MKTUP(v16));
	decref(MKTUP(v15));
	PTUP v17;
	uint64_t v18 = mw_mirth_data_Tag_data(v14, value_u64(v2), &v17);
	PTUP v19;
	PTUP v20 = mw_mirth_data_Data_headZAsk(v17, v18, &v19);
	PTUP branch_ZPlusMirth_21;
	VAL branch_z_x1_22;
	VAL branch_z_x2_23;
	switch (PTREXTRA(v20)) {
		case 1LL: { // Some
			VAL v24 = mtp_std_maybe_Maybe_1_Some(v20);
			branch_z_x2_23 = v24;
			branch_z_x1_22 = MKTUP(v13);
			branch_ZPlusMirth_21 = v19;
		} break;
		case 0LL: { // None
			STR* v25;
			STRLIT(v25, "Missing data token info", 23);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v19, v25);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v28;
	PTUP v29 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(VTUP(branch_z_x1_22), &v28);
	PTUP v30;
	PTUP v31 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v28, &v30);
	PTUP v32;
	uint64_t v33 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v30, &v32);
	PTUP v34;
	PTUP v35 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v32, &v34);
	PTUP v36 = PTRMK(0LL /* Nil */,0,0);
	PTUP v37;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v35, v33, value_u64(branch_z_x2_23), v29, v31, v16, v36, &v37);
	PTUP v38 = VTUP(((TUP*)PTRPTR(v37))->cells[0]);
	incref(MKTUP(v38));
	PTUP v39 = VTUP(((TUP*)PTRPTR(v37))->cells[3]);
	incref(MKTUP(v39));
	incref(MKTUP(v39));
	PTUP v40 = PTRMK(0LL /* Nil */,0,0);
	PTUP v41 = VTUP(((TUP*)PTRPTR(v37))->cells[4]);
	incref(MKTUP(v41));
	incref(MKTUP(v41));
	PTUP v42 = PTRMK(0LL /* Nil */,0,0);
	PTUP v43 = mtw_mirth_match_Pattern_Pattern(v38, value_u64(branch_z_x2_23), value_u64(branch_z_x2_23), v39, v39, v40, v41, v41, v42);
	PTUP v44;
	mw_mirth_match_Pattern_thaw(v43, &v44);
	PTUP v45;
	PTUP v46;
	mw_mirth_match_ZPlusPattern_tagZBang(branch_ZPlusMirth_21, v44, value_u64(v2), &v45, &v46);
	PTUP v47 = mw_mirth_match_ZPlusPattern_freezze(v46);
	incref(MKTUP(v47));
	PTUP v48 = VTUP(((TUP*)PTRPTR(v47))->cells[4]);
	incref(MKTUP(v48));
	decref(MKTUP(v47));
	incref(MKTUP(v47));
	PTUP v49 = mw_mirth_match_Pattern_dom(v47);
	PTUP v50 = VTUP(((TUP*)PTRPTR(v37))->cells[5]);
	incref(MKTUP(v50));
	PTUP v51 = mw_mirth_type_TZ_ZTo(v49, v50);
	PTUP v52 = VTUP(((TUP*)PTRPTR(v37))->cells[0]);
	incref(MKTUP(v52));
	PTUP v53;
	PTUP v54;
	mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v51)), &v53, &v54);
	incref(MKTUP(v53));
	PTUP v55 = PTRMK(0LL /* Nil */,0,0);
	PTUP v56 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v52)), value_u64(MKU64(value_u64(MKU64(value_u64(branch_z_x2_23))))), value_u64(MKU64(value_u64(MKU64(value_u64(branch_z_x2_23))))), VTUP(MKTUP(v48)), v53, v53, v55);
	PTUP v57;
	PTUP v58;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v45, v56, v54, &v57, &v58);
	PTUP v59 = mtw_mirth_match_Case_Case(v47, v58);
	PTUP v60;
	PTUP v61;
	mw_mirth_match_ZPlusMatch_addZ_case(v57, v37, v59, &v60, &v61);
	PTUP v62 = mw_mirth_match_ZPlusMatch_freezze(v61);
	PTUP v63 = mtw_mirth_arrow_Op_Match(v62);
	PTUP v64 = PTRMK(0LL /* Nil */,0,0);
	PTUP v65;
	PTUP v66;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v60, v34, v64, v63, &v65, &v66);
	PTUP v67;
	PTUP v68;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v65, v66, v11, &v67, &v68);
	PTUP v69;
	PTUP v70 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v67, v68, v8, &v69);
	push_resource(MKTUP(v69));
	push_value(MKTUP(v70));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp14_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	uint64_t v5 = mw_mirth_data_Tag_data(r1, value_u64(v3), &v4);
	PTUP v6;
	PTUP v7 = mw_mirth_data_Data_params(v4, v5, &v6);
	PTUP v8 = mw_std_list_List_1_ZToCtx(v7);
	bool v9 = true;
	bool v10 = false;
	PTUP v11;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v8, value_u64(v2), v10, v9, &v11);
	PTUP v12 = mw_mirth_type_T0();
	PTUP v13;
	uint64_t v14 = mw_mirth_data_Tag_data(v6, value_u64(v3), &v13);
	PTUP v15;
	PTUP v16 = mw_mirth_data_Data_fullZ_type(v13, v14, &v15);
	PTUP v17 = mw_mirth_type_TZMulZPlus(v12, v16);
	PTUP v18;
	PTUP v19 = mw_mirth_data_Tag_sigZAsk(v15, value_u64(v3), &v18);
	PTUP branch_StackType_20;
	PTUP branch_ZPlusMirth_21;
	PTUP branch_ZPlusTypeElab_22;
	PTUP branch_StackType_23;
	switch (PTREXTRA(v19)) {
		case 0LL: { // None
			PTUP v24 = mw_mirth_type_T0();
			branch_StackType_23 = v24;
			branch_ZPlusTypeElab_22 = v11;
			branch_ZPlusMirth_21 = v18;
			branch_StackType_20 = v17;
		} break;
		case 1LL: { // Some
			VAL v25 = mtp_std_maybe_Maybe_1_Some(v19);
			((TUP*)PTRPTR(v11))->cells[1] = MKU64(value_u64(v25));
			PTUP v26 = mw_mirth_type_T0();
			PTUP v27;
			PTUP v28;
			PTUP v29 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang(v18, v11, v26, &v27, &v28);
			branch_StackType_23 = v29;
			branch_ZPlusTypeElab_22 = v28;
			branch_ZPlusMirth_21 = v27;
			branch_StackType_20 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	PTUP v30 = mw_mirth_type_TZ_ZTo(branch_StackType_23, branch_StackType_20);
	PTUP v31 = VTUP(((TUP*)PTRPTR(branch_ZPlusTypeElab_22))->cells[0]);
	incref(MKTUP(v31));
	PTUP r32 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r32))->size = 2;
	((TUP*)PTRPTR(r32))->cells[1] = MKTUP(v30);
	((TUP*)PTRPTR(r32))->cells[0] = MKTUP(v31);
	mw_mirth_elab_ZPlusTypeElab_rdrop(branch_ZPlusTypeElab_22);
	push_resource(MKTUP(branch_ZPlusMirth_21));
	push_value(MKTUP(r32));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp15_0 (void) {
	PTUP v0 = VTUP(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_data_elabZ_dataZ_paramsZBang(r1, v0, &v2);
	push_resource(MKTUP(v2));
	push_value(MKTUP(v3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp16_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2 = mw_mirth_var_Ctx_L0();
	PTUP v3;
	PTUP v4 = mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang(r1, v2, v0, &v3);
	push_resource(MKTUP(v3));
	push_value(MKTUP(v4));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp17_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_table_Field_owner(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	PTUP v6 = mw_mirth_type_T0();
	PTUP v7;
	PTUP v8 = mw_mirth_table_Field_owner(v4, v0, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	PTUP v11;
	PTUP v12 = mw_mirth_table_Field_valueZ_type(v9, v0, &v11);
	PTUP v13 = mw_mirth_type_TZMul(v10, v12);
	PTUP v14;
	PTUP v15 = mw_mirth_table_Field_indexZ_type(v11, v0, &v14);
	PTUP v16 = mw_mirth_type_TZMul(v13, v15);
	PTUP v17 = mw_mirth_type_T0();
	PTUP v18;
	PTUP v19 = mw_mirth_table_Field_owner(v14, v0, &v18);
	PTUP v20;
	PTUP v21 = mw_mirth_table_StateOwner_push(v18, v17, v19, &v20);
	PTUP v22 = mw_mirth_type_TZ_ZTo(v16, v21);
	PTUP r23 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r23))->size = 2;
	((TUP*)PTRPTR(r23))->cells[1] = MKTUP(v22);
	((TUP*)PTRPTR(r23))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(v20));
	push_value(MKTUP(r23));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp18_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Field_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		PTUP v27 = mtw_mirth_arrow_Op_Field(value_u64(v2));
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		PTUP v30 = PTRMK(0LL /* Nil */,0,0);
		int64_t v31 = 154LL /* MutSet */;
		PTUP v32;
		PTUP v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		branch_ZPlusAB_25 = v33;
		branch_ZPlusMirth_24 = v32;
		branch_Field_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v34;
		PTUP v35 = mw_mirth_word_Word_type(v17, value_u64(v3), &v34);
		PTUP v36 = VTUP(((TUP*)PTRPTR(v35))->cells[1]);
		incref(MKTUP(v36));
		decref(MKTUP(v35));
		PTUP v37;
		uint64_t v38 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v37);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v39;
		PTUP v40 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v37, &v39);
		PTUP v41;
		PTUP v42 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v39, &v41);
		PTUP v43;
		PTUP v44;
		PTUP v45;
		PTUP v46 = mw_std_list_List_1_reverseZ_for_1_sp10(v34, v41, v40, v42, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v43, &v44, &v45);
		PTUP v47 = mw_mirth_type_TZ_ZTo(v45, VTUP(MKTUP(VTUP(MKTUP(v36)))));
		PTUP v48;
		PTUP v49 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v44, &v48);
		PTUP v50;
		PTUP v51;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v47)), &v50, &v51);
		incref(MKTUP(v50));
		PTUP v52 = PTRMK(0LL /* Nil */,0,0);
		PTUP v53 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v49)), value_u64(MKU64(value_u64(MKU64(v38)))), value_u64(MKU64(value_u64(MKU64(v38)))), VTUP(MKTUP(v46)), v50, v50, v52);
		PTUP v54 = PTRMK(0LL /* Nil */,0,0);
		PTUP v55 = mtw_mirth_arrow_Op_Field(value_u64(v2));
		PTUP v56;
		PTUP v57;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v43, v53, v54, v55, &v56, &v57);
		PTUP v58 = PTRMK(0LL /* Nil */,0,0);
		int64_t v59 = 154LL /* MutSet */;
		PTUP v60;
		PTUP v61;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v56, v57, v58, v59, &v60, &v61);
		PTUP v62;
		PTUP v63;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v60, v61, v51, &v62, &v63);
		PTUP v64;
		PTUP v65 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v48, &v64);
		PTUP v66;
		PTUP v67 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v64, &v66);
		PTUP v68;
		uint64_t v69 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v66, &v68);
		PTUP v70 = mtw_mirth_arrow_Lambda_Lambda(v69, v65, v67, VTUP(MKTUP(VTUP(MKTUP(v6)))), v63);
		PTUP v71 = mtw_mirth_arrow_Op_Lambda(v70);
		PTUP v72 = PTRMK(0LL /* Nil */,0,0);
		PTUP v73;
		PTUP v74;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v62, v68, v72, v71, &v73, &v74);
		branch_ZPlusAB_25 = v74;
		branch_ZPlusMirth_24 = v73;
		branch_Field_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v75;
	PTUP v76;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v75, &v76);
	PTUP v77;
	PTUP v78 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v75, v76, v11, &v77);
	decref(MKU64(branch_Field_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v77));
	push_value(MKTUP(v78));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp19_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_type(r1, value_u64(v3), &v4);
	PTUP v6 = VTUP(((TUP*)PTRPTR(v5))->cells[0]);
	incref(MKTUP(v6));
	decref(MKTUP(v5));
	PTUP v7 = mw_std_list_List_1_reverse(VTUP(v2));
	PTUP v8 = PTRMK(0LL /* Nil */,0,0);
	PTUP v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	PTUP r11 = v4;
	PTUP v12 = v6;
	PTUP r13 = v9;
	PTUP v14 = v7;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		PTUP r17 = r11;
		PTUP v18 = v12;
		PTUP r19 = r13;
		PTUP v20 = v14;
		bool v21 = v15;
		PTUP branch_StackType_22;
		PTUP branch_ZPlusMirth_23;
		PTUP branch_ZPlusLister_24;
		PTUP branch_List_25;
		bool branch_Bool_26;
		switch (PTREXTRA(v20)) {
			case 1LL: { // Cons
				PTUP v27;
				VAL v28 = mtp_std_list_List_1_Cons(v20, &v27);
				PTUP v29;
				PTUP v30 = mw_mirth_type_StackType_forceZ_consZAskZBang(r17, v18, &v29);
				PTUP branch_ZPlusMirth_31;
				VAL branch_z_x1_32;
				switch (PTREXTRA(v30)) {
					case 1LL: { // Some
						VAL v33 = mtp_std_maybe_Maybe_1_Some(v30);
						branch_z_x1_32 = v33;
						branch_ZPlusMirth_31 = v29;
					} break;
					case 0LL: { // None
						STR* v34;
						STRLIT(v34, "[compiler bug] word-new! expected word parameter type in domain.", 64);
						mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v29, v34);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v37 = ((TUP*)PTRPTR(value_tup(branch_z_x1_32)))->cells[0];
				VAL v38 = ((TUP*)PTRPTR(value_tup(branch_z_x1_32)))->cells[1];
				tup_decref_outer(value_tup(branch_z_x1_32));
				PTUP v39;
				PTUP v40 = mw_mirth_type_Type_arrowZAsk(branch_ZPlusMirth_31, VTUP(v38), &v39);
				PTUP branch_ZPlusMirth_41;
				VAL branch_z_x1_42;
				switch (PTREXTRA(v40)) {
					case 1LL: { // Some
						VAL v43 = mtp_std_maybe_Maybe_1_Some(v40);
						branch_z_x1_42 = v43;
						branch_ZPlusMirth_41 = v39;
					} break;
					case 0LL: { // None
						STR* v44;
						STRLIT(v44, "[compiler bug] word-new! expected word parameter type to be an arrow type.", 74);
						mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v39, v44);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				PTUP v47;
				uint64_t v48 = mw_mirth_name_Name_Name(branch_ZPlusMirth_41, value_str(MKSTR(value_str(v28))), &v47);
				PTUP v49;
				uint64_t v50 = mw_mirth_var_Var_NewAutoRunZBang(v47, VTUP(branch_z_x1_42), v48, &v49);
				PTUP v51 = PTRMK(0LL /* None */,0,0);
				PTUP v52 = mtw_mirth_word_Param_Param(v50, v51);
				PTUP v53;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v52), r19, &v53);
				bool v54 = true;
				branch_Bool_26 = v54;
				branch_List_25 = v27;
				branch_ZPlusLister_24 = v53;
				branch_ZPlusMirth_23 = v49;
				branch_StackType_22 = VTUP(v37);
			} break;
			case 0LL: { // Nil
				PTUP v55 = PTRMK(0LL /* Nil */,0,0);
				bool v56 = false;
				branch_Bool_26 = v56;
				branch_List_25 = v55;
				branch_ZPlusLister_24 = r19;
				branch_ZPlusMirth_23 = r17;
				branch_StackType_22 = v18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_26;
		v15 = branch_Bool_26;
		v14 = branch_List_25;
		r13 = branch_ZPlusLister_24;
		v12 = branch_StackType_22;
		r11 = branch_ZPlusMirth_23;
	}
	decref(MKTUP(v14));
	PTUP v57 = mw_std_list_ZPlusLister_1_doneZBang(r13);
	PTUP v58 = mw_std_list_List_1_reverse(v57);
	decref(MKTUP(v12));
	push_resource(MKTUP(r11));
	push_value(MKTUP(v58));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp20_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_table_Field_namespace(r1, value_u64(v2), &v4);
	PTUP v6;
	INT v7 = mw_mirth_word_Word_arity(v4, value_u64(v3), &v6);
	INT v8 = v7;
	PTUP v9;
	uint64_t v10 = mw_mirth_word_Word_name(v6, value_u64(v3), &v9);
	PTUP v11 = mtw_mirth_name_QName_QName(v5, v10, v8);
	push_resource(MKTUP(v9));
	push_value(MKTUP(v11));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp21_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_table_Field_owner(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	PTUP v6 = mw_mirth_type_T0();
	PTUP v7;
	PTUP v8 = mw_mirth_table_Field_owner(v4, v0, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	PTUP v11;
	PTUP v12 = mw_mirth_table_Field_indexZ_type(v9, v0, &v11);
	PTUP v13 = mw_mirth_type_TZMul(v10, v12);
	PTUP v14 = mw_mirth_type_T0();
	PTUP v15;
	PTUP v16 = mw_mirth_table_Field_owner(v11, v0, &v15);
	PTUP v17;
	PTUP v18 = mw_mirth_table_StateOwner_push(v15, v14, v16, &v17);
	PTUP v19;
	PTUP v20 = mw_mirth_table_Field_valueZ_type(v17, v0, &v19);
	PTUP v21 = mw_mirth_type_TZMul(v18, v20);
	PTUP v22 = mw_mirth_type_TZ_ZTo(v13, v21);
	PTUP r23 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r23))->size = 2;
	((TUP*)PTRPTR(r23))->cells[1] = MKTUP(v22);
	((TUP*)PTRPTR(r23))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(v19));
	push_value(MKTUP(r23));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp22_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Field_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26;
		PTUP v27 = mw_mirth_table_Field_default(v17, value_u64(v2), &v26);
		uint64_t v28;
		PTUP v29;
		PTUP v30;
		mw_std_maybe_Maybe_1_ifZAsk_2_sp135(value_u64(v2), v19, v26, v27, &v28, &v29, &v30);
		branch_ZPlusAB_25 = v30;
		branch_ZPlusMirth_24 = v29;
		branch_Field_23 = v28;
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v31;
		PTUP v32 = mw_mirth_word_Word_type(v17, value_u64(v3), &v31);
		PTUP v33 = VTUP(((TUP*)PTRPTR(v32))->cells[1]);
		incref(MKTUP(v33));
		decref(MKTUP(v32));
		PTUP v34;
		uint64_t v35 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v34);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v36;
		PTUP v37 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v34, &v36);
		PTUP v38;
		PTUP v39 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v36, &v38);
		PTUP v40;
		PTUP v41;
		PTUP v42;
		PTUP v43 = mw_std_list_List_1_reverseZ_for_1_sp10(v31, v38, v37, v39, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v40, &v41, &v42);
		PTUP v44 = mw_mirth_type_TZ_ZTo(v42, VTUP(MKTUP(VTUP(MKTUP(v33)))));
		PTUP v45;
		PTUP v46 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v41, &v45);
		PTUP v47;
		PTUP v48;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v44)), &v47, &v48);
		incref(MKTUP(v47));
		PTUP v49 = PTRMK(0LL /* Nil */,0,0);
		PTUP v50 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v46)), value_u64(MKU64(value_u64(MKU64(v35)))), value_u64(MKU64(value_u64(MKU64(v35)))), VTUP(MKTUP(v43)), v47, v47, v49);
		PTUP v51;
		PTUP v52 = mw_mirth_table_Field_default(v40, value_u64(v2), &v51);
		uint64_t v53;
		PTUP v54;
		PTUP v55;
		mw_std_maybe_Maybe_1_ifZAsk_2_sp135(value_u64(v2), v50, v51, v52, &v53, &v54, &v55);
		PTUP v56;
		PTUP v57;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v54, v55, v48, &v56, &v57);
		PTUP v58;
		PTUP v59 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v45, &v58);
		PTUP v60;
		PTUP v61 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v58, &v60);
		PTUP v62;
		uint64_t v63 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v60, &v62);
		PTUP v64 = mtw_mirth_arrow_Lambda_Lambda(v63, v59, v61, VTUP(MKTUP(VTUP(MKTUP(v6)))), v57);
		PTUP v65 = mtw_mirth_arrow_Op_Lambda(v64);
		PTUP v66 = PTRMK(0LL /* Nil */,0,0);
		PTUP v67;
		PTUP v68;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v56, v62, v66, v65, &v67, &v68);
		branch_ZPlusAB_25 = v68;
		branch_ZPlusMirth_24 = v67;
		branch_Field_23 = v53;
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v69;
	PTUP v70;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v69, &v70);
	PTUP v71;
	PTUP v72 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v69, v70, v11, &v71);
	decref(MKU64(branch_Field_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v71));
	push_value(MKTUP(v72));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp23_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_mirth_ZPlusMirth_resolveZ_owner(r1, VTUP(v3), &v4);
	uint64_t branch_Field_6;
	PTUP branch_ZPlusMirth_7;
	PTUP branch_StateOwner_8;
	switch (PTREXTRA(v5)) {
		case 1LL: { // Default
			PTUP v9;
			PTUP v10 = mw_mirth_table_Field_indexZ_type(v4, value_u64(v2), &v9);
			PTUP v11;
			PTUP v12 = mw_mirth_type_Type_tyconZAsk(v9, v10, &v11);
			PTUP branch_Maybe_13;
			switch (PTREXTRA(v12)) {
				case 1LL: { // Some
					VAL v14 = mtp_std_maybe_Maybe_1_Some(v12);
					PTUP v15 = mw_mirth_tycon_Tycon_tableZAsk(VTUP(v14));
					branch_Maybe_13 = v15;
				} break;
				case 0LL: { // None
					PTUP v16 = PTRMK(0LL /* None */,0,0);
					branch_Maybe_13 = v16;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			PTUP branch_ZPlusMirth_17;
			PTUP branch_StateOwner_18;
			switch (PTREXTRA(branch_Maybe_13)) {
				case 1LL: { // Some
					VAL v19 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_13);
					PTUP v20;
					PTUP v21 = mw_mirth_table_Table_owner(v11, value_u64(v19), &v20);
					branch_StateOwner_18 = v21;
					branch_ZPlusMirth_17 = v20;
				} break;
				case 0LL: { // None
					PTUP v22 = PTRMK(1LL /* Default */,0,0);
					branch_StateOwner_18 = v22;
					branch_ZPlusMirth_17 = v11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_StateOwner_8 = branch_StateOwner_18;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_17;
			branch_Field_6 = value_u64(v2);
		} break;
		default: {
			branch_StateOwner_8 = v5;
			branch_ZPlusMirth_7 = v4;
			branch_Field_6 = value_u64(v2);
		} break;
	}
	decref(MKU64(branch_Field_6));
	push_resource(MKTUP(branch_ZPlusMirth_7));
	push_value(MKTUP(branch_StateOwner_8));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp24_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	push_resource(MKTUP(v2));
	push_value(MKTUP(v3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp25_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_table_Field_owner(r1, value_u64(v2), &v4);
	PTUP v6;
	PTUP v7 = mw_mirth_table_StateOwner_ctx(v4, v5, &v6);
	PTUP v8;
	PTUP v9 = mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang(v6, v7, value_u64(v3), &v8);
	push_resource(MKTUP(v8));
	push_value(MKTUP(v9));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp26_0 (void) {
	PTUP v0 = VTUP(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_mirth_ZPlusMirth_resolveZ_owner(r1, v0, &v2);
	push_resource(MKTUP(v2));
	push_value(MKTUP(v3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp27_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	PTUP v6 = mw_mirth_type_Type_STACK();
	STR* v7;
	STRLIT(v7, "*a", 2);
	PTUP v8;
	uint64_t v9;
	PTUP v10 = mw_mirth_var_Var_NewInCtx(v4, v5, v6, v7, &v8, &v9);
	PTUP v11 = mtw_mirth_type_StackType_Var(v9);
	PTUP v12;
	PTUP v13 = mw_mirth_table_Table_owner(v8, v0, &v12);
	PTUP v14;
	PTUP v15 = mw_mirth_table_StateOwner_push(v12, v11, v13, &v14);
	incref(MKTUP(v15));
	incref(MKTUP(v15));
	PTUP v16 = mtw_mirth_type_Type_Table(v0);
	PTUP v17 = mw_mirth_type_TZMul(v15, v16);
	incref(MKTUP(v15));
	PTUP v18 = mw_mirth_type_TZ_ZTo(v17, v15);
	PTUP v19 = mtw_mirth_type_Type_Arrow(v18);
	PTUP v20 = mw_mirth_type_TZMul(v15, v19);
	PTUP v21 = mw_mirth_type_TZ_ZTo(v20, v15);
	PTUP r22 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r22))->size = 2;
	((TUP*)PTRPTR(r22))->cells[1] = MKTUP(v21);
	((TUP*)PTRPTR(r22))->cells[0] = MKTUP(v10);
	push_resource(MKTUP(v14));
	push_value(MKTUP(r22));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp28_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		incref(MKTUP(v6));
		PTUP v26 = mw_std_list_List_1_singleZAsk(v6);
		VAL v27 = mw_std_maybe_Maybe_1_unwrap_1_sp58(v26);
		uint64_t v28 = 1ULL;
		PTUP v29 = mtw_mirth_arrow_PushValue_U64(v28);
		PTUP v30;
		PTUP v31;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v17, v19, v29, &v30, &v31);
		uint64_t v32;
		PTUP v33;
		PTUP v34;
		mw_mirth_elab_ZPlusAB_abZ_whileZBang_2_sp1(value_u64(v27), value_u64(v2), v30, v31, &v32, &v33, &v34);
		PTUP v35 = PTRMK(0LL /* Nil */,0,0);
		int64_t v36 = 2LL /* Drop */;
		PTUP v37;
		PTUP v38;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v33, v34, v35, v36, &v37, &v38);
		branch_ZPlusAB_25 = v38;
		branch_ZPlusMirth_24 = v37;
		branch_Table_23 = v32;
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v39;
		PTUP v40 = mw_mirth_word_Word_type(v17, value_u64(v3), &v39);
		PTUP v41 = VTUP(((TUP*)PTRPTR(v40))->cells[1]);
		incref(MKTUP(v41));
		decref(MKTUP(v40));
		PTUP v42;
		uint64_t v43 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v42);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v44;
		PTUP v45 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v42, &v44);
		PTUP v46;
		PTUP v47 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v44, &v46);
		PTUP v48;
		PTUP v49;
		PTUP v50;
		PTUP v51 = mw_std_list_List_1_reverseZ_for_1_sp10(v39, v46, v45, v47, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v48, &v49, &v50);
		PTUP v52 = mw_mirth_type_TZ_ZTo(v50, VTUP(MKTUP(VTUP(MKTUP(v41)))));
		PTUP v53;
		PTUP v54 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v49, &v53);
		PTUP v55;
		PTUP v56;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v52)), &v55, &v56);
		incref(MKTUP(v55));
		PTUP v57 = PTRMK(0LL /* Nil */,0,0);
		PTUP v58 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v54)), value_u64(MKU64(value_u64(MKU64(v43)))), value_u64(MKU64(value_u64(MKU64(v43)))), VTUP(MKTUP(v51)), v55, v55, v57);
		incref(MKTUP(v6));
		PTUP v59 = mw_std_list_List_1_singleZAsk(v6);
		VAL v60 = mw_std_maybe_Maybe_1_unwrap_1_sp58(v59);
		uint64_t v61 = 1ULL;
		PTUP v62 = mtw_mirth_arrow_PushValue_U64(v61);
		PTUP v63;
		PTUP v64;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v48, v58, v62, &v63, &v64);
		uint64_t v65;
		PTUP v66;
		PTUP v67;
		mw_mirth_elab_ZPlusAB_abZ_whileZBang_2_sp1(value_u64(v60), value_u64(v2), v63, v64, &v65, &v66, &v67);
		PTUP v68 = PTRMK(0LL /* Nil */,0,0);
		int64_t v69 = 2LL /* Drop */;
		PTUP v70;
		PTUP v71;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v66, v67, v68, v69, &v70, &v71);
		PTUP v72;
		PTUP v73;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v70, v71, v56, &v72, &v73);
		PTUP v74;
		PTUP v75 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v53, &v74);
		PTUP v76;
		PTUP v77 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v74, &v76);
		PTUP v78;
		uint64_t v79 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v76, &v78);
		PTUP v80 = mtw_mirth_arrow_Lambda_Lambda(v79, v75, v77, VTUP(MKTUP(VTUP(MKTUP(v6)))), v73);
		PTUP v81 = mtw_mirth_arrow_Op_Lambda(v80);
		PTUP v82 = PTRMK(0LL /* Nil */,0,0);
		PTUP v83;
		PTUP v84;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v72, v78, v82, v81, &v83, &v84);
		branch_ZPlusAB_25 = v84;
		branch_ZPlusMirth_24 = v83;
		branch_Table_23 = v65;
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v85;
	PTUP v86;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v85, &v86);
	PTUP v87;
	PTUP v88 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v85, v86, v11, &v87);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v87));
	push_value(MKTUP(v88));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp29_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4 = mtw_mirth_tycon_Tycon_Table(value_u64(v2));
	PTUP v5 = mtw_mirth_name_Namespace_Tycon(v4);
	PTUP v6;
	INT v7 = mw_mirth_word_Word_arity(r1, value_u64(v3), &v6);
	INT v8 = v7;
	PTUP v9;
	uint64_t v10 = mw_mirth_word_Word_name(v6, value_u64(v3), &v9);
	PTUP v11 = mtw_mirth_name_QName_QName(v5, v10, v8);
	push_resource(MKTUP(v9));
	push_value(MKTUP(v11));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp30_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	PTUP v6 = mw_mirth_type_T0();
	PTUP v7;
	PTUP v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	PTUP v11 = mtw_mirth_type_Type_Table(v0);
	PTUP v12 = mw_mirth_type_TZMul(v10, v11);
	incref(MKTUP(v12));
	PTUP v13 = mw_mirth_type_TZ_ZTo(v12, v12);
	PTUP r14 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r14))->size = 2;
	((TUP*)PTRPTR(r14))->cells[1] = MKTUP(v13);
	((TUP*)PTRPTR(r14))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(v9));
	push_value(MKTUP(r14));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp31_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		PTUP v27 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		PTUP v30 = PTRMK(0LL /* Nil */,0,0);
		int64_t v31 = 1LL /* Dup */;
		PTUP v32;
		PTUP v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		uint64_t v34 = 0ULL;
		PTUP v35 = mtw_mirth_arrow_PushValue_U64(v34);
		PTUP v36;
		PTUP v37;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v32, v33, v35, &v36, &v37);
		PTUP v38 = PTRMK(0LL /* Nil */,0,0);
		int64_t v39 = 46LL /* U64Eq */;
		PTUP v40;
		PTUP v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		PTUP v42;
		PTUP v43;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp2(v40, v41, &v42, &v43);
		PTUP v44 = PTRMK(0LL /* Nil */,0,0);
		PTUP v45 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v46;
		PTUP v47;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v42, v43, v44, v45, &v46, &v47);
		branch_ZPlusAB_25 = v47;
		branch_ZPlusMirth_24 = v46;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v48;
		PTUP v49 = mw_mirth_word_Word_type(v17, value_u64(v3), &v48);
		PTUP v50 = VTUP(((TUP*)PTRPTR(v49))->cells[1]);
		incref(MKTUP(v50));
		decref(MKTUP(v49));
		PTUP v51;
		uint64_t v52 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v51);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v53;
		PTUP v54 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v51, &v53);
		PTUP v55;
		PTUP v56 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v53, &v55);
		PTUP v57;
		PTUP v58;
		PTUP v59;
		PTUP v60 = mw_std_list_List_1_reverseZ_for_1_sp10(v48, v55, v54, v56, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v57, &v58, &v59);
		PTUP v61 = mw_mirth_type_TZ_ZTo(v59, VTUP(MKTUP(VTUP(MKTUP(v50)))));
		PTUP v62;
		PTUP v63 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v58, &v62);
		PTUP v64;
		PTUP v65;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v61)), &v64, &v65);
		incref(MKTUP(v64));
		PTUP v66 = PTRMK(0LL /* Nil */,0,0);
		PTUP v67 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v63)), value_u64(MKU64(value_u64(MKU64(v52)))), value_u64(MKU64(value_u64(MKU64(v52)))), VTUP(MKTUP(v60)), v64, v64, v66);
		PTUP v68 = PTRMK(0LL /* Nil */,0,0);
		PTUP v69 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v70;
		PTUP v71;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v57, v67, v68, v69, &v70, &v71);
		PTUP v72 = PTRMK(0LL /* Nil */,0,0);
		int64_t v73 = 1LL /* Dup */;
		PTUP v74;
		PTUP v75;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v70, v71, v72, v73, &v74, &v75);
		uint64_t v76 = 0ULL;
		PTUP v77 = mtw_mirth_arrow_PushValue_U64(v76);
		PTUP v78;
		PTUP v79;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v74, v75, v77, &v78, &v79);
		PTUP v80 = PTRMK(0LL /* Nil */,0,0);
		int64_t v81 = 46LL /* U64Eq */;
		PTUP v82;
		PTUP v83;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v78, v79, v80, v81, &v82, &v83);
		PTUP v84;
		PTUP v85;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp2(v82, v83, &v84, &v85);
		PTUP v86 = PTRMK(0LL /* Nil */,0,0);
		PTUP v87 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v88;
		PTUP v89;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v84, v85, v86, v87, &v88, &v89);
		PTUP v90;
		PTUP v91;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v88, v89, v65, &v90, &v91);
		PTUP v92;
		PTUP v93 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v62, &v92);
		PTUP v94;
		PTUP v95 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v92, &v94);
		PTUP v96;
		uint64_t v97 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v94, &v96);
		PTUP v98 = mtw_mirth_arrow_Lambda_Lambda(v97, v93, v95, VTUP(MKTUP(VTUP(MKTUP(v6)))), v91);
		PTUP v99 = mtw_mirth_arrow_Op_Lambda(v98);
		PTUP v100 = PTRMK(0LL /* Nil */,0,0);
		PTUP v101;
		PTUP v102;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v90, v96, v100, v99, &v101, &v102);
		branch_ZPlusAB_25 = v102;
		branch_ZPlusMirth_24 = v101;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v103;
	PTUP v104;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v103, &v104);
	PTUP v105;
	PTUP v106 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v103, v104, v11, &v105);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v105));
	push_value(MKTUP(v106));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp32_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		PTUP v27 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		PTUP v30 = PTRMK(0LL /* Nil */,0,0);
		int64_t v31 = 1LL /* Dup */;
		PTUP v32;
		PTUP v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		PTUP v34;
		uint64_t v35 = mw_mirth_table_Table_numZ_buffer(v32, value_u64(v2), &v34);
		PTUP v36;
		PTUP v37;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v34, v33, v35, &v36, &v37);
		PTUP v38 = PTRMK(0LL /* Nil */,0,0);
		int64_t v39 = 44LL /* U64Get */;
		PTUP v40;
		PTUP v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		PTUP v42 = PTRMK(0LL /* Nil */,0,0);
		int64_t v43 = 47LL /* U64Lt */;
		PTUP v44;
		PTUP v45;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v40, v41, v42, v43, &v44, &v45);
		PTUP v46;
		PTUP v47;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp3(v44, v45, &v46, &v47);
		PTUP v48 = PTRMK(0LL /* Nil */,0,0);
		PTUP v49 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v50;
		PTUP v51;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v46, v47, v48, v49, &v50, &v51);
		branch_ZPlusAB_25 = v51;
		branch_ZPlusMirth_24 = v50;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v52;
		PTUP v53 = mw_mirth_word_Word_type(v17, value_u64(v3), &v52);
		PTUP v54 = VTUP(((TUP*)PTRPTR(v53))->cells[1]);
		incref(MKTUP(v54));
		decref(MKTUP(v53));
		PTUP v55;
		uint64_t v56 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v55);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v57;
		PTUP v58 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v55, &v57);
		PTUP v59;
		PTUP v60 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v57, &v59);
		PTUP v61;
		PTUP v62;
		PTUP v63;
		PTUP v64 = mw_std_list_List_1_reverseZ_for_1_sp10(v52, v59, v58, v60, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v61, &v62, &v63);
		PTUP v65 = mw_mirth_type_TZ_ZTo(v63, VTUP(MKTUP(VTUP(MKTUP(v54)))));
		PTUP v66;
		PTUP v67 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v62, &v66);
		PTUP v68;
		PTUP v69;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v65)), &v68, &v69);
		incref(MKTUP(v68));
		PTUP v70 = PTRMK(0LL /* Nil */,0,0);
		PTUP v71 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v67)), value_u64(MKU64(value_u64(MKU64(v56)))), value_u64(MKU64(value_u64(MKU64(v56)))), VTUP(MKTUP(v64)), v68, v68, v70);
		PTUP v72 = PTRMK(0LL /* Nil */,0,0);
		PTUP v73 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v74;
		PTUP v75;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v61, v71, v72, v73, &v74, &v75);
		PTUP v76 = PTRMK(0LL /* Nil */,0,0);
		int64_t v77 = 1LL /* Dup */;
		PTUP v78;
		PTUP v79;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v74, v75, v76, v77, &v78, &v79);
		PTUP v80;
		uint64_t v81 = mw_mirth_table_Table_numZ_buffer(v78, value_u64(v2), &v80);
		PTUP v82;
		PTUP v83;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v80, v79, v81, &v82, &v83);
		PTUP v84 = PTRMK(0LL /* Nil */,0,0);
		int64_t v85 = 44LL /* U64Get */;
		PTUP v86;
		PTUP v87;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v82, v83, v84, v85, &v86, &v87);
		PTUP v88 = PTRMK(0LL /* Nil */,0,0);
		int64_t v89 = 47LL /* U64Lt */;
		PTUP v90;
		PTUP v91;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v86, v87, v88, v89, &v90, &v91);
		PTUP v92;
		PTUP v93;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp3(v90, v91, &v92, &v93);
		PTUP v94 = PTRMK(0LL /* Nil */,0,0);
		PTUP v95 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v96;
		PTUP v97;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v92, v93, v94, v95, &v96, &v97);
		PTUP v98;
		PTUP v99;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v96, v97, v69, &v98, &v99);
		PTUP v100;
		PTUP v101 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v66, &v100);
		PTUP v102;
		PTUP v103 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v100, &v102);
		PTUP v104;
		uint64_t v105 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v102, &v104);
		PTUP v106 = mtw_mirth_arrow_Lambda_Lambda(v105, v101, v103, VTUP(MKTUP(VTUP(MKTUP(v6)))), v99);
		PTUP v107 = mtw_mirth_arrow_Op_Lambda(v106);
		PTUP v108 = PTRMK(0LL /* Nil */,0,0);
		PTUP v109;
		PTUP v110;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v98, v104, v108, v107, &v109, &v110);
		branch_ZPlusAB_25 = v110;
		branch_ZPlusMirth_24 = v109;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v111;
	PTUP v112;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v111, &v112);
	PTUP v113;
	PTUP v114 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v111, v112, v11, &v113);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v113));
	push_value(MKTUP(v114));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp33_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	PTUP v6 = mw_mirth_type_T0();
	PTUP v7;
	PTUP v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	incref(MKTUP(v10));
	PTUP v11 = mw_mirth_type_Type_U64();
	PTUP v12 = mw_mirth_type_TZMul(v10, v11);
	PTUP v13 = mtw_mirth_type_Type_Table(v0);
	PTUP v14 = mw_mirth_type_TZMul(v10, v13);
	PTUP v15 = mw_mirth_type_TZ_ZTo(v12, v14);
	PTUP r16 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r16))->size = 2;
	((TUP*)PTRPTR(r16))->cells[1] = MKTUP(v15);
	((TUP*)PTRPTR(r16))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(v9));
	push_value(MKTUP(r16));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp34_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		int64_t v27 = 1LL /* Dup */;
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v17, v19, v26, v27, &v28, &v29);
		PTUP v30;
		uint64_t v31 = mw_mirth_table_Table_numZ_buffer(v28, value_u64(v2), &v30);
		PTUP v32;
		PTUP v33;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v30, v29, v31, &v32, &v33);
		PTUP v34 = PTRMK(0LL /* Nil */,0,0);
		int64_t v35 = 44LL /* U64Get */;
		PTUP v36;
		PTUP v37;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v32, v33, v34, v35, &v36, &v37);
		PTUP v38 = PTRMK(0LL /* Nil */,0,0);
		int64_t v39 = 48LL /* U64Le */;
		PTUP v40;
		PTUP v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		PTUP v42;
		PTUP v43;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp4(v40, v41, &v42, &v43);
		PTUP v44 = PTRMK(0LL /* Nil */,0,0);
		PTUP v45 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v46;
		PTUP v47;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v42, v43, v44, v45, &v46, &v47);
		branch_ZPlusAB_25 = v47;
		branch_ZPlusMirth_24 = v46;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v48;
		PTUP v49 = mw_mirth_word_Word_type(v17, value_u64(v3), &v48);
		PTUP v50 = VTUP(((TUP*)PTRPTR(v49))->cells[1]);
		incref(MKTUP(v50));
		decref(MKTUP(v49));
		PTUP v51;
		uint64_t v52 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v51);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v53;
		PTUP v54 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v51, &v53);
		PTUP v55;
		PTUP v56 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v53, &v55);
		PTUP v57;
		PTUP v58;
		PTUP v59;
		PTUP v60 = mw_std_list_List_1_reverseZ_for_1_sp10(v48, v55, v54, v56, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v57, &v58, &v59);
		PTUP v61 = mw_mirth_type_TZ_ZTo(v59, VTUP(MKTUP(VTUP(MKTUP(v50)))));
		PTUP v62;
		PTUP v63 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v58, &v62);
		PTUP v64;
		PTUP v65;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v61)), &v64, &v65);
		incref(MKTUP(v64));
		PTUP v66 = PTRMK(0LL /* Nil */,0,0);
		PTUP v67 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v63)), value_u64(MKU64(value_u64(MKU64(v52)))), value_u64(MKU64(value_u64(MKU64(v52)))), VTUP(MKTUP(v60)), v64, v64, v66);
		PTUP v68 = PTRMK(0LL /* Nil */,0,0);
		int64_t v69 = 1LL /* Dup */;
		PTUP v70;
		PTUP v71;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v57, v67, v68, v69, &v70, &v71);
		PTUP v72;
		uint64_t v73 = mw_mirth_table_Table_numZ_buffer(v70, value_u64(v2), &v72);
		PTUP v74;
		PTUP v75;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v72, v71, v73, &v74, &v75);
		PTUP v76 = PTRMK(0LL /* Nil */,0,0);
		int64_t v77 = 44LL /* U64Get */;
		PTUP v78;
		PTUP v79;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v74, v75, v76, v77, &v78, &v79);
		PTUP v80 = PTRMK(0LL /* Nil */,0,0);
		int64_t v81 = 48LL /* U64Le */;
		PTUP v82;
		PTUP v83;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v78, v79, v80, v81, &v82, &v83);
		PTUP v84;
		PTUP v85;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp4(v82, v83, &v84, &v85);
		PTUP v86 = PTRMK(0LL /* Nil */,0,0);
		PTUP v87 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v88;
		PTUP v89;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v84, v85, v86, v87, &v88, &v89);
		PTUP v90;
		PTUP v91;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v88, v89, v65, &v90, &v91);
		PTUP v92;
		PTUP v93 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v62, &v92);
		PTUP v94;
		PTUP v95 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v92, &v94);
		PTUP v96;
		uint64_t v97 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v94, &v96);
		PTUP v98 = mtw_mirth_arrow_Lambda_Lambda(v97, v93, v95, VTUP(MKTUP(VTUP(MKTUP(v6)))), v91);
		PTUP v99 = mtw_mirth_arrow_Op_Lambda(v98);
		PTUP v100 = PTRMK(0LL /* Nil */,0,0);
		PTUP v101;
		PTUP v102;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v90, v96, v100, v99, &v101, &v102);
		branch_ZPlusAB_25 = v102;
		branch_ZPlusMirth_24 = v101;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v103;
	PTUP v104;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v103, &v104);
	PTUP v105;
	PTUP v106 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v103, v104, v11, &v105);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v105));
	push_value(MKTUP(v106));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp35_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2 = mw_mirth_var_Ctx_L0();
	PTUP v3 = mw_mirth_type_Type_U64();
	PTUP v4 = mw_mirth_type_T1(v3);
	PTUP v5 = mtw_mirth_type_Type_Table(v0);
	PTUP v6 = mw_mirth_type_T1(v5);
	PTUP v7 = mw_mirth_type_TZ_ZTo(v4, v6);
	PTUP r8 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r8))->size = 2;
	((TUP*)PTRPTR(r8))->cells[1] = MKTUP(v7);
	((TUP*)PTRPTR(r8))->cells[0] = MKTUP(v2);
	push_resource(MKTUP(r1));
	push_value(MKTUP(r8));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp36_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		PTUP v27 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		branch_ZPlusAB_25 = v29;
		branch_ZPlusMirth_24 = v28;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v30;
		PTUP v31 = mw_mirth_word_Word_type(v17, value_u64(v3), &v30);
		PTUP v32 = VTUP(((TUP*)PTRPTR(v31))->cells[1]);
		incref(MKTUP(v32));
		decref(MKTUP(v31));
		PTUP v33;
		uint64_t v34 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v33);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v35;
		PTUP v36 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v33, &v35);
		PTUP v37;
		PTUP v38 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v35, &v37);
		PTUP v39;
		PTUP v40;
		PTUP v41;
		PTUP v42 = mw_std_list_List_1_reverseZ_for_1_sp10(v30, v37, v36, v38, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v39, &v40, &v41);
		PTUP v43 = mw_mirth_type_TZ_ZTo(v41, VTUP(MKTUP(VTUP(MKTUP(v32)))));
		PTUP v44;
		PTUP v45 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v40, &v44);
		PTUP v46;
		PTUP v47;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v43)), &v46, &v47);
		incref(MKTUP(v46));
		PTUP v48 = PTRMK(0LL /* Nil */,0,0);
		PTUP v49 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v45)), value_u64(MKU64(value_u64(MKU64(v34)))), value_u64(MKU64(value_u64(MKU64(v34)))), VTUP(MKTUP(v42)), v46, v46, v48);
		PTUP v50 = PTRMK(0LL /* Nil */,0,0);
		PTUP v51 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v52;
		PTUP v53;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v39, v49, v50, v51, &v52, &v53);
		PTUP v54;
		PTUP v55;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v52, v53, v47, &v54, &v55);
		PTUP v56;
		PTUP v57 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v44, &v56);
		PTUP v58;
		PTUP v59 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v56, &v58);
		PTUP v60;
		uint64_t v61 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v58, &v60);
		PTUP v62 = mtw_mirth_arrow_Lambda_Lambda(v61, v57, v59, VTUP(MKTUP(VTUP(MKTUP(v6)))), v55);
		PTUP v63 = mtw_mirth_arrow_Op_Lambda(v62);
		PTUP v64 = PTRMK(0LL /* Nil */,0,0);
		PTUP v65;
		PTUP v66;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v54, v60, v64, v63, &v65, &v66);
		branch_ZPlusAB_25 = v66;
		branch_ZPlusMirth_24 = v65;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v67;
	PTUP v68;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v67, &v68);
	PTUP v69;
	PTUP v70 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v67, v68, v11, &v69);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v69));
	push_value(MKTUP(v70));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp37_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2 = mw_mirth_var_Ctx_L0();
	PTUP v3 = mtw_mirth_type_Type_Table(v0);
	incref(MKTUP(v3));
	PTUP v4 = mw_mirth_type_T2(v3, v3);
	PTUP v5 = mw_mirth_type_Type_Bool();
	PTUP v6 = mw_mirth_type_T1(v5);
	PTUP v7 = mw_mirth_type_TZ_ZTo(v4, v6);
	PTUP r8 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r8))->size = 2;
	((TUP*)PTRPTR(r8))->cells[1] = MKTUP(v7);
	((TUP*)PTRPTR(r8))->cells[0] = MKTUP(v2);
	push_resource(MKTUP(r1));
	push_value(MKTUP(r8));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp38_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		PTUP v27 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		PTUP v30 = PTRMK(0LL /* Nil */,0,0);
		int64_t v31 = 3LL /* Swap */;
		PTUP v32;
		PTUP v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		PTUP v34 = PTRMK(0LL /* Nil */,0,0);
		PTUP v35 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v36;
		PTUP v37;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v32, v33, v34, v35, &v36, &v37);
		PTUP v38 = PTRMK(0LL /* Nil */,0,0);
		int64_t v39 = 46LL /* U64Eq */;
		PTUP v40;
		PTUP v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		branch_ZPlusAB_25 = v41;
		branch_ZPlusMirth_24 = v40;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v42;
		PTUP v43 = mw_mirth_word_Word_type(v17, value_u64(v3), &v42);
		PTUP v44 = VTUP(((TUP*)PTRPTR(v43))->cells[1]);
		incref(MKTUP(v44));
		decref(MKTUP(v43));
		PTUP v45;
		uint64_t v46 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v45);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v47;
		PTUP v48 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v45, &v47);
		PTUP v49;
		PTUP v50 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v47, &v49);
		PTUP v51;
		PTUP v52;
		PTUP v53;
		PTUP v54 = mw_std_list_List_1_reverseZ_for_1_sp10(v42, v49, v48, v50, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v51, &v52, &v53);
		PTUP v55 = mw_mirth_type_TZ_ZTo(v53, VTUP(MKTUP(VTUP(MKTUP(v44)))));
		PTUP v56;
		PTUP v57 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v52, &v56);
		PTUP v58;
		PTUP v59;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v55)), &v58, &v59);
		incref(MKTUP(v58));
		PTUP v60 = PTRMK(0LL /* Nil */,0,0);
		PTUP v61 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v57)), value_u64(MKU64(value_u64(MKU64(v46)))), value_u64(MKU64(value_u64(MKU64(v46)))), VTUP(MKTUP(v54)), v58, v58, v60);
		PTUP v62 = PTRMK(0LL /* Nil */,0,0);
		PTUP v63 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v64;
		PTUP v65;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v51, v61, v62, v63, &v64, &v65);
		PTUP v66 = PTRMK(0LL /* Nil */,0,0);
		int64_t v67 = 3LL /* Swap */;
		PTUP v68;
		PTUP v69;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v64, v65, v66, v67, &v68, &v69);
		PTUP v70 = PTRMK(0LL /* Nil */,0,0);
		PTUP v71 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v72;
		PTUP v73;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v68, v69, v70, v71, &v72, &v73);
		PTUP v74 = PTRMK(0LL /* Nil */,0,0);
		int64_t v75 = 46LL /* U64Eq */;
		PTUP v76;
		PTUP v77;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v72, v73, v74, v75, &v76, &v77);
		PTUP v78;
		PTUP v79;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v76, v77, v59, &v78, &v79);
		PTUP v80;
		PTUP v81 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v56, &v80);
		PTUP v82;
		PTUP v83 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v80, &v82);
		PTUP v84;
		uint64_t v85 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v82, &v84);
		PTUP v86 = mtw_mirth_arrow_Lambda_Lambda(v85, v81, v83, VTUP(MKTUP(VTUP(MKTUP(v6)))), v79);
		PTUP v87 = mtw_mirth_arrow_Op_Lambda(v86);
		PTUP v88 = PTRMK(0LL /* Nil */,0,0);
		PTUP v89;
		PTUP v90;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v78, v84, v88, v87, &v89, &v90);
		branch_ZPlusAB_25 = v90;
		branch_ZPlusMirth_24 = v89;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v91;
	PTUP v92;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v91, &v92);
	PTUP v93;
	PTUP v94 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v91, v92, v11, &v93);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v93));
	push_value(MKTUP(v94));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp39_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2 = mw_mirth_var_Ctx_L0();
	PTUP v3 = mtw_mirth_type_Type_Table(v0);
	PTUP v4 = mw_mirth_type_T1(v3);
	PTUP v5 = mw_mirth_type_Type_U64();
	PTUP v6 = mw_mirth_type_T1(v5);
	PTUP v7 = mw_mirth_type_TZ_ZTo(v4, v6);
	PTUP r8 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r8))->size = 2;
	((TUP*)PTRPTR(r8))->cells[1] = MKTUP(v7);
	((TUP*)PTRPTR(r8))->cells[0] = MKTUP(v2);
	push_resource(MKTUP(r1));
	push_value(MKTUP(r8));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp40_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		PTUP v27 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		branch_ZPlusAB_25 = v29;
		branch_ZPlusMirth_24 = v28;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v30;
		PTUP v31 = mw_mirth_word_Word_type(v17, value_u64(v3), &v30);
		PTUP v32 = VTUP(((TUP*)PTRPTR(v31))->cells[1]);
		incref(MKTUP(v32));
		decref(MKTUP(v31));
		PTUP v33;
		uint64_t v34 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v33);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v35;
		PTUP v36 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v33, &v35);
		PTUP v37;
		PTUP v38 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v35, &v37);
		PTUP v39;
		PTUP v40;
		PTUP v41;
		PTUP v42 = mw_std_list_List_1_reverseZ_for_1_sp10(v30, v37, v36, v38, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v39, &v40, &v41);
		PTUP v43 = mw_mirth_type_TZ_ZTo(v41, VTUP(MKTUP(VTUP(MKTUP(v32)))));
		PTUP v44;
		PTUP v45 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v40, &v44);
		PTUP v46;
		PTUP v47;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v43)), &v46, &v47);
		incref(MKTUP(v46));
		PTUP v48 = PTRMK(0LL /* Nil */,0,0);
		PTUP v49 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v45)), value_u64(MKU64(value_u64(MKU64(v34)))), value_u64(MKU64(value_u64(MKU64(v34)))), VTUP(MKTUP(v42)), v46, v46, v48);
		PTUP v50 = PTRMK(0LL /* Nil */,0,0);
		PTUP v51 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		PTUP v52;
		PTUP v53;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v39, v49, v50, v51, &v52, &v53);
		PTUP v54;
		PTUP v55;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v52, v53, v47, &v54, &v55);
		PTUP v56;
		PTUP v57 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v44, &v56);
		PTUP v58;
		PTUP v59 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v56, &v58);
		PTUP v60;
		uint64_t v61 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v58, &v60);
		PTUP v62 = mtw_mirth_arrow_Lambda_Lambda(v61, v57, v59, VTUP(MKTUP(VTUP(MKTUP(v6)))), v55);
		PTUP v63 = mtw_mirth_arrow_Op_Lambda(v62);
		PTUP v64 = PTRMK(0LL /* Nil */,0,0);
		PTUP v65;
		PTUP v66;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v54, v60, v64, v63, &v65, &v66);
		branch_ZPlusAB_25 = v66;
		branch_ZPlusMirth_24 = v65;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v67;
	PTUP v68;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v67, &v68);
	PTUP v69;
	PTUP v70 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v67, v68, v11, &v69);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v69));
	push_value(MKTUP(v70));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp41_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	PTUP v6 = mw_mirth_type_T0();
	PTUP v7;
	PTUP v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	incref(MKTUP(v10));
	PTUP v11;
	PTUP v12 = mw_mirth_table_Table_constructorZ_fields(v9, v0, &v11);
	bool v13 = true;
	PTUP v14 = v10;
	PTUP r15 = v11;
	PTUP v16 = v12;
	bool v17 = v13;
	bool v18 = v13;
	while (v18) {
		PTUP v19 = v14;
		PTUP r20 = r15;
		PTUP v21 = v16;
		bool v22 = v17;
		PTUP branch_ZPlusMirth_23;
		PTUP branch_StackType_24;
		PTUP branch_List_25;
		bool branch_Bool_26;
		switch (PTREXTRA(v21)) {
			case 1LL: { // Cons
				PTUP v27;
				VAL v28 = mtp_std_list_List_1_Cons(v21, &v27);
				PTUP v29;
				PTUP v30 = mw_mirth_table_Field_valueZ_type(r20, value_u64(v28), &v29);
				PTUP v31;
				uint64_t v32 = mw_mirth_table_Field_name(v29, value_u64(v28), &v31);
				PTUP v33;
				uint64_t v34 = mw_mirth_label_Label_Label(v31, v32, &v33);
				PTUP v35 = mtw_mirth_type_StackType_ConsLabel(v19, v30, v34);
				bool v36 = true;
				branch_Bool_26 = v36;
				branch_List_25 = v27;
				branch_StackType_24 = v35;
				branch_ZPlusMirth_23 = v33;
			} break;
			case 0LL: { // Nil
				PTUP v37 = PTRMK(0LL /* Nil */,0,0);
				bool v38 = false;
				branch_Bool_26 = v38;
				branch_List_25 = v37;
				branch_StackType_24 = v19;
				branch_ZPlusMirth_23 = r20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_26;
		v17 = branch_Bool_26;
		v16 = branch_List_25;
		r15 = branch_ZPlusMirth_23;
		v14 = branch_StackType_24;
	}
	decref(MKTUP(v16));
	PTUP v39 = mtw_mirth_type_Type_Table(v0);
	PTUP v40 = mw_mirth_type_TZMul(v10, v39);
	PTUP v41 = mw_mirth_type_TZ_ZTo(v14, v40);
	PTUP r42 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r42))->size = 2;
	((TUP*)PTRPTR(r42))->cells[1] = MKTUP(v41);
	((TUP*)PTRPTR(r42))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(r15));
	push_value(MKTUP(r42));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp42_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26 = PTRMK(0LL /* Nil */,0,0);
		PTUP v27;
		uint64_t v28 = mw_mirth_table_Table_allocZ_word(v17, value_u64(v2), &v27);
		PTUP v29;
		PTUP v30;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v27, v19, v26, v28, &v29, &v30);
		PTUP v31;
		PTUP v32 = mw_mirth_table_Table_constructorZ_fields(v29, value_u64(v2), &v31);
		PTUP v33;
		PTUP v34;
		mw_std_list_List_1_for_1_sp120(v30, v31, v32, &v33, &v34);
		branch_ZPlusAB_25 = v33;
		branch_ZPlusMirth_24 = v34;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v35;
		PTUP v36 = mw_mirth_word_Word_type(v17, value_u64(v3), &v35);
		PTUP v37 = VTUP(((TUP*)PTRPTR(v36))->cells[1]);
		incref(MKTUP(v37));
		decref(MKTUP(v36));
		PTUP v38;
		uint64_t v39 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v38);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v40;
		PTUP v41 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v38, &v40);
		PTUP v42;
		PTUP v43 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v40, &v42);
		PTUP v44;
		PTUP v45;
		PTUP v46;
		PTUP v47 = mw_std_list_List_1_reverseZ_for_1_sp10(v35, v42, v41, v43, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v44, &v45, &v46);
		PTUP v48 = mw_mirth_type_TZ_ZTo(v46, VTUP(MKTUP(VTUP(MKTUP(v37)))));
		PTUP v49;
		PTUP v50 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v45, &v49);
		PTUP v51;
		PTUP v52;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v48)), &v51, &v52);
		incref(MKTUP(v51));
		PTUP v53 = PTRMK(0LL /* Nil */,0,0);
		PTUP v54 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v50)), value_u64(MKU64(value_u64(MKU64(v39)))), value_u64(MKU64(value_u64(MKU64(v39)))), VTUP(MKTUP(v47)), v51, v51, v53);
		PTUP v55 = PTRMK(0LL /* Nil */,0,0);
		PTUP v56;
		uint64_t v57 = mw_mirth_table_Table_allocZ_word(v44, value_u64(v2), &v56);
		PTUP v58;
		PTUP v59;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v56, v54, v55, v57, &v58, &v59);
		PTUP v60;
		PTUP v61 = mw_mirth_table_Table_constructorZ_fields(v58, value_u64(v2), &v60);
		PTUP v62;
		PTUP v63;
		mw_std_list_List_1_for_1_sp120(v59, v60, v61, &v62, &v63);
		PTUP v64;
		PTUP v65;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v63, v62, v52, &v64, &v65);
		PTUP v66;
		PTUP v67 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v49, &v66);
		PTUP v68;
		PTUP v69 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v66, &v68);
		PTUP v70;
		uint64_t v71 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v68, &v70);
		PTUP v72 = mtw_mirth_arrow_Lambda_Lambda(v71, v67, v69, VTUP(MKTUP(VTUP(MKTUP(v6)))), v65);
		PTUP v73 = mtw_mirth_arrow_Op_Lambda(v72);
		PTUP v74 = PTRMK(0LL /* Nil */,0,0);
		PTUP v75;
		PTUP v76;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v64, v70, v74, v73, &v75, &v76);
		branch_ZPlusAB_25 = v76;
		branch_ZPlusMirth_24 = v75;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v77;
	PTUP v78;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v77, &v78);
	PTUP v79;
	PTUP v80 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v77, v78, v11, &v79);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v79));
	push_value(MKTUP(v80));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp43_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	PTUP v4;
	PTUP v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	PTUP v6 = mw_mirth_type_T0();
	PTUP v7;
	PTUP v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	PTUP v9;
	PTUP v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	incref(MKTUP(v10));
	PTUP v11 = mtw_mirth_type_Type_Table(v0);
	PTUP v12 = mw_mirth_type_TZMul(v10, v11);
	PTUP v13 = mw_mirth_type_TZ_ZTo(v10, v12);
	PTUP r14 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r14))->size = 2;
	((TUP*)PTRPTR(r14))->cells[1] = MKTUP(v13);
	((TUP*)PTRPTR(r14))->cells[0] = MKTUP(v5);
	push_resource(MKTUP(v9));
	push_value(MKTUP(r14));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp44_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		PTUP v26;
		uint64_t v27 = mw_mirth_table_Table_numZ_buffer(v17, value_u64(v2), &v26);
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v26, v19, v27, &v28, &v29);
		PTUP v30 = PTRMK(0LL /* Nil */,0,0);
		int64_t v31 = 44LL /* U64Get */;
		PTUP v32;
		PTUP v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		uint64_t v34 = 1ULL;
		PTUP v35 = mtw_mirth_arrow_PushValue_U64(v34);
		PTUP v36;
		PTUP v37;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v32, v33, v35, &v36, &v37);
		PTUP v38 = PTRMK(0LL /* Nil */,0,0);
		int64_t v39 = 52LL /* U64Add */;
		PTUP v40;
		PTUP v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		PTUP v42 = PTRMK(0LL /* Nil */,0,0);
		int64_t v43 = 1LL /* Dup */;
		PTUP v44;
		PTUP v45;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v40, v41, v42, v43, &v44, &v45);
		PTUP v46;
		uint64_t v47 = mw_mirth_table_Table_numZ_buffer(v44, value_u64(v2), &v46);
		PTUP v48;
		PTUP v49;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v46, v45, v47, &v48, &v49);
		PTUP v50 = PTRMK(0LL /* Nil */,0,0);
		int64_t v51 = 45LL /* U64Set */;
		PTUP v52;
		PTUP v53;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v48, v49, v50, v51, &v52, &v53);
		PTUP v54 = PTRMK(0LL /* Nil */,0,0);
		PTUP v55 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v56;
		PTUP v57;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v52, v53, v54, v55, &v56, &v57);
		branch_ZPlusAB_25 = v57;
		branch_ZPlusMirth_24 = v56;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v58;
		PTUP v59 = mw_mirth_word_Word_type(v17, value_u64(v3), &v58);
		PTUP v60 = VTUP(((TUP*)PTRPTR(v59))->cells[1]);
		incref(MKTUP(v60));
		decref(MKTUP(v59));
		PTUP v61;
		uint64_t v62 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v61);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v63;
		PTUP v64 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v61, &v63);
		PTUP v65;
		PTUP v66 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v63, &v65);
		PTUP v67;
		PTUP v68;
		PTUP v69;
		PTUP v70 = mw_std_list_List_1_reverseZ_for_1_sp10(v58, v65, v64, v66, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v67, &v68, &v69);
		PTUP v71 = mw_mirth_type_TZ_ZTo(v69, VTUP(MKTUP(VTUP(MKTUP(v60)))));
		PTUP v72;
		PTUP v73 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v68, &v72);
		PTUP v74;
		PTUP v75;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v71)), &v74, &v75);
		incref(MKTUP(v74));
		PTUP v76 = PTRMK(0LL /* Nil */,0,0);
		PTUP v77 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v73)), value_u64(MKU64(value_u64(MKU64(v62)))), value_u64(MKU64(value_u64(MKU64(v62)))), VTUP(MKTUP(v70)), v74, v74, v76);
		PTUP v78;
		uint64_t v79 = mw_mirth_table_Table_numZ_buffer(v67, value_u64(v2), &v78);
		PTUP v80;
		PTUP v81;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v78, v77, v79, &v80, &v81);
		PTUP v82 = PTRMK(0LL /* Nil */,0,0);
		int64_t v83 = 44LL /* U64Get */;
		PTUP v84;
		PTUP v85;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v80, v81, v82, v83, &v84, &v85);
		uint64_t v86 = 1ULL;
		PTUP v87 = mtw_mirth_arrow_PushValue_U64(v86);
		PTUP v88;
		PTUP v89;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v84, v85, v87, &v88, &v89);
		PTUP v90 = PTRMK(0LL /* Nil */,0,0);
		int64_t v91 = 52LL /* U64Add */;
		PTUP v92;
		PTUP v93;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v88, v89, v90, v91, &v92, &v93);
		PTUP v94 = PTRMK(0LL /* Nil */,0,0);
		int64_t v95 = 1LL /* Dup */;
		PTUP v96;
		PTUP v97;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v92, v93, v94, v95, &v96, &v97);
		PTUP v98;
		uint64_t v99 = mw_mirth_table_Table_numZ_buffer(v96, value_u64(v2), &v98);
		PTUP v100;
		PTUP v101;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v98, v97, v99, &v100, &v101);
		PTUP v102 = PTRMK(0LL /* Nil */,0,0);
		int64_t v103 = 45LL /* U64Set */;
		PTUP v104;
		PTUP v105;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v100, v101, v102, v103, &v104, &v105);
		PTUP v106 = PTRMK(0LL /* Nil */,0,0);
		PTUP v107 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v108;
		PTUP v109;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v104, v105, v106, v107, &v108, &v109);
		PTUP v110;
		PTUP v111;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v108, v109, v75, &v110, &v111);
		PTUP v112;
		PTUP v113 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v72, &v112);
		PTUP v114;
		PTUP v115 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v112, &v114);
		PTUP v116;
		uint64_t v117 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v114, &v116);
		PTUP v118 = mtw_mirth_arrow_Lambda_Lambda(v117, v113, v115, VTUP(MKTUP(VTUP(MKTUP(v6)))), v111);
		PTUP v119 = mtw_mirth_arrow_Op_Lambda(v118);
		PTUP v120 = PTRMK(0LL /* Nil */,0,0);
		PTUP v121;
		PTUP v122;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v110, v116, v120, v119, &v121, &v122);
		branch_ZPlusAB_25 = v122;
		branch_ZPlusMirth_24 = v121;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v123;
	PTUP v124;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v123, &v124);
	PTUP v125;
	PTUP v126 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v123, v124, v11, &v125);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v125));
	push_value(MKTUP(v126));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp45_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2 = mw_mirth_var_Ctx_L0();
	PTUP v3 = mw_mirth_type_T0();
	PTUP v4 = mtw_mirth_type_Type_Table(v0);
	PTUP v5 = mw_mirth_type_T1(v4);
	PTUP v6 = mw_mirth_type_TZ_ZTo(v3, v5);
	PTUP r7 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r7))->size = 2;
	((TUP*)PTRPTR(r7))->cells[1] = MKTUP(v6);
	((TUP*)PTRPTR(r7))->cells[0] = MKTUP(v2);
	push_resource(MKTUP(r1));
	push_value(MKTUP(r7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp46_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	PTUP v6 = mw_std_list_List_1_map_1_sp17(v5);
	PTUP v7;
	PTUP v8;
	uint64_t v9;
	PTUP v10;
	uint64_t v11;
	PTUP v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	PTUP v13;
	PTUP v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(MKTUP(v13));
	PTUP v15 = PTRMK(0LL /* Nil */,0,0);
	PTUP v16 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v10)), value_u64(MKU64(v9)), value_u64(MKU64(v9)), v12, v13, v13, v15);
	PTUP v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	PTUP v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(MKTUP(v6));
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	PTUP branch_List_22;
	uint64_t branch_Table_23;
	PTUP branch_ZPlusMirth_24;
	PTUP branch_ZPlusAB_25;
	if (v20) {
		uint64_t v26 = 0ULL;
		PTUP v27 = mtw_mirth_arrow_PushValue_U64(v26);
		PTUP v28;
		PTUP v29;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v17, v19, v27, &v28, &v29);
		PTUP v30 = PTRMK(0LL /* Nil */,0,0);
		PTUP v31 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v32;
		PTUP v33;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v28, v29, v30, v31, &v32, &v33);
		branch_ZPlusAB_25 = v33;
		branch_ZPlusMirth_24 = v32;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(MKTUP(v6));
		PTUP v34;
		PTUP v35 = mw_mirth_word_Word_type(v17, value_u64(v3), &v34);
		PTUP v36 = VTUP(((TUP*)PTRPTR(v35))->cells[1]);
		incref(MKTUP(v36));
		decref(MKTUP(v35));
		PTUP v37;
		uint64_t v38 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v37);
		incref(MKTUP(VTUP(MKTUP(v6))));
		PTUP v39;
		PTUP v40 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v37, &v39);
		PTUP v41;
		PTUP v42 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v39, &v41);
		PTUP v43;
		PTUP v44;
		PTUP v45;
		PTUP v46 = mw_std_list_List_1_reverseZ_for_1_sp10(v34, v41, v40, v42, VTUP(MKTUP(VTUP(MKTUP(v6)))), &v43, &v44, &v45);
		PTUP v47 = mw_mirth_type_TZ_ZTo(v45, VTUP(MKTUP(VTUP(MKTUP(v36)))));
		PTUP v48;
		PTUP v49 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v44, &v48);
		PTUP v50;
		PTUP v51;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v47)), &v50, &v51);
		incref(MKTUP(v50));
		PTUP v52 = PTRMK(0LL /* Nil */,0,0);
		PTUP v53 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v49)), value_u64(MKU64(value_u64(MKU64(v38)))), value_u64(MKU64(value_u64(MKU64(v38)))), VTUP(MKTUP(v46)), v50, v50, v52);
		uint64_t v54 = 0ULL;
		PTUP v55 = mtw_mirth_arrow_PushValue_U64(v54);
		PTUP v56;
		PTUP v57;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v43, v53, v55, &v56, &v57);
		PTUP v58 = PTRMK(0LL /* Nil */,0,0);
		PTUP v59 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		PTUP v60;
		PTUP v61;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v56, v57, v58, v59, &v60, &v61);
		PTUP v62;
		PTUP v63;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v60, v61, v51, &v62, &v63);
		PTUP v64;
		PTUP v65 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v48, &v64);
		PTUP v66;
		PTUP v67 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v64, &v66);
		PTUP v68;
		uint64_t v69 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v66, &v68);
		PTUP v70 = mtw_mirth_arrow_Lambda_Lambda(v69, v65, v67, VTUP(MKTUP(VTUP(MKTUP(v6)))), v63);
		PTUP v71 = mtw_mirth_arrow_Op_Lambda(v70);
		PTUP v72 = PTRMK(0LL /* Nil */,0,0);
		PTUP v73;
		PTUP v74;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v62, v68, v72, v71, &v73, &v74);
		branch_ZPlusAB_25 = v74;
		branch_ZPlusMirth_24 = v73;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	PTUP v75;
	PTUP v76;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v75, &v76);
	PTUP v77;
	PTUP v78 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v75, v76, v11, &v77);
	decref(MKU64(branch_Table_23));
	decref(MKTUP(branch_List_22));
	decref(MKU64(branch_Word_21));
	push_resource(MKTUP(v77));
	push_value(MKTUP(v78));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp47_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	uint64_t v3 = mw_mirth_external_External_sig(r1, v0, &v2);
	PTUP v4;
	mw_mirth_elab_ZPlusTypeElab_StartZBang(v3, &v4);
	PTUP v5 = mw_mirth_type_T0();
	PTUP v6;
	PTUP v7;
	PTUP v8 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v2, v4, v5, &v6, &v7);
	PTUP v9 = VTUP(((TUP*)PTRPTR(v7))->cells[0]);
	incref(MKTUP(v9));
	PTUP r10 = PTRMK(0,tup_new(2),0);
	((TUP*)PTRPTR(r10))->size = 2;
	((TUP*)PTRPTR(r10))->cells[1] = MKTUP(v8);
	((TUP*)PTRPTR(r10))->cells[0] = MKTUP(v9);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v7);
	push_resource(MKTUP(v6));
	push_value(MKTUP(r10));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp48_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_external_elabZ_externalZ_ctype(r1, v0, &v2);
	push_resource(MKTUP(v2));
	push_value(MKTUP(v3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp49_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	PTUP v4;
	PTUP v5 = mw_mirth_typedef_TypeDef_params(r1, value_u64(v2), &v4);
	PTUP v6 = mw_std_list_List_1_ZToCtx(v5);
	PTUP v7;
	PTUP v8 = mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang(v4, v6, value_u64(v3), &v7);
	push_resource(MKTUP(v7));
	push_value(MKTUP(v8));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp50_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_word_Word_sigZAsk(r1, v0, &v2);
	PTUP branch_ZPlusMirth_4;
	PTUP branch__5;
	switch (PTREXTRA(v3)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v3);
			decref(MKU64(v0));
			PTUP v7;
			mw_mirth_elab_ZPlusTypeElab_StartZBang(value_u64(v6), &v7);
			PTUP v8 = mw_mirth_type_T0();
			PTUP v9;
			PTUP v10;
			PTUP v11 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v2, v7, v8, &v9, &v10);
			PTUP v12 = VTUP(((TUP*)PTRPTR(v10))->cells[0]);
			incref(MKTUP(v12));
			PTUP r13 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r13))->size = 2;
			((TUP*)PTRPTR(r13))->cells[1] = MKTUP(v11);
			((TUP*)PTRPTR(r13))->cells[0] = MKTUP(v12);
			mw_mirth_elab_ZPlusTypeElab_rdrop(v10);
			branch__5 = r13;
			branch_ZPlusMirth_4 = v9;
		} break;
		case 0LL: { // None
			PTUP v14;
			PTUP v15 = mw_mirth_word_Word_arrow(v2, v0, &v14);
			PTUP v16;
			PTUP v17 = mw_mirth_arrow_Arrow_ctxZ_type(v15, &v16);
			PTUP r18 = PTRMK(0,tup_new(2),0);
			((TUP*)PTRPTR(r18))->size = 2;
			((TUP*)PTRPTR(r18))->cells[1] = MKTUP(v16);
			((TUP*)PTRPTR(r18))->cells[0] = MKTUP(v17);
			branch__5 = r18;
			branch_ZPlusMirth_4 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	push_resource(MKTUP(branch_ZPlusMirth_4));
	push_value(MKTUP(branch__5));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp51_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3 = mw_mirth_elab_elabZ_defZ_paramsZBang(r1, v0, &v2);
	push_resource(MKTUP(v2));
	push_value(MKTUP(v3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp52_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	PTUP r1 = VTUP(pop_resource());
	PTUP v2;
	PTUP v3;
	uint64_t v4;
	PTUP v5;
	uint64_t v6;
	PTUP v7 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, v0, &v2, &v3, &v4, &v5, &v6);
	PTUP v8;
	PTUP v9;
	mtp_mirth_type_ArrowType_ArrowType(v3, &v8, &v9);
	incref(MKTUP(v8));
	PTUP v10 = PTRMK(0LL /* Nil */,0,0);
	PTUP v11 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v5)), value_u64(MKU64(v4)), value_u64(MKU64(v4)), v7, v8, v8, v10);
	PTUP v12;
	PTUP v13 = mw_mirth_word_Word_params(v2, v0, &v12);
	incref(MKTUP(v13));
	bool v14 = mw_std_list_List_1_emptyZAsk(v13);
	PTUP branch_ZPlusMirth_15;
	PTUP branch_ZPlusAB_16;
	PTUP branch_StackType_17;
	if (v14) {
		decref(MKTUP(v13));
		PTUP v18;
		PTUP v19;
		PTUP v20 = mw_mirth_elab_elabZ_defZ_bodyZBang(v12, v11, v9, &v18, &v19);
		branch_StackType_17 = v20;
		branch_ZPlusAB_16 = v19;
		branch_ZPlusMirth_15 = v18;
	} else {
		PTUP v21 = mw_std_list_List_1_map_1_sp17(v13);
		incref(MKTUP(v9));
		PTUP v22;
		uint64_t v23 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v11, &v22);
		incref(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v21))))));
		PTUP v24;
		PTUP v25 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v22, &v24);
		PTUP v26;
		PTUP v27 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v24, &v26);
		PTUP v28;
		PTUP v29;
		PTUP v30;
		PTUP v31 = mw_std_list_List_1_reverseZ_for_1_sp10(v12, v26, v25, v27, VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v21)))))), &v28, &v29, &v30);
		PTUP v32 = mw_mirth_type_TZ_ZTo(v30, VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v9)))))));
		PTUP v33;
		PTUP v34 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v29, &v33);
		PTUP v35;
		PTUP v36;
		mtp_mirth_type_ArrowType_ArrowType(VTUP(MKTUP(v32)), &v35, &v36);
		incref(MKTUP(v35));
		PTUP v37 = PTRMK(0LL /* Nil */,0,0);
		PTUP v38 = mtw_mirth_arrow_Arrow_Arrow(VTUP(MKTUP(v34)), value_u64(MKU64(value_u64(MKU64(v23)))), value_u64(MKU64(value_u64(MKU64(v23)))), VTUP(MKTUP(v31)), v35, v35, v37);
		PTUP v39;
		PTUP v40;
		PTUP v41 = mw_mirth_elab_elabZ_defZ_bodyZBang(v28, v38, VTUP(MKTUP(v9)), &v39, &v40);
		PTUP v42;
		PTUP v43;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v39, v40, v36, &v42, &v43);
		PTUP v44;
		PTUP v45 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v33, &v44);
		PTUP v46;
		PTUP v47 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v44, &v46);
		PTUP v48;
		uint64_t v49 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v46, &v48);
		PTUP v50 = mtw_mirth_arrow_Lambda_Lambda(v49, v45, v47, VTUP(MKTUP(VTUP(MKTUP(VTUP(MKTUP(v21)))))), v43);
		PTUP v51 = mtw_mirth_arrow_Op_Lambda(v50);
		PTUP v52 = PTRMK(0LL /* Nil */,0,0);
		PTUP v53;
		PTUP v54;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v42, v48, v52, v51, &v53, &v54);
		branch_StackType_17 = v41;
		branch_ZPlusAB_16 = v54;
		branch_ZPlusMirth_15 = v53;
	}
	PTUP v55;
	PTUP v56;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_15, branch_ZPlusAB_16, branch_StackType_17, &v55, &v56);
	PTUP v57;
	PTUP v58 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v55, v56, v6, &v57);
	incref(MKTUP(v58));
	PTUP v59;
	mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v57, value_u64(MKU64(v0)), VTUP(MKTUP(v58)), &v59);
	push_value(MKTUP(v58));
	push_resource(MKTUP(v59));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp53_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	VAL v4 = ((TUP*)PTRPTR(v0))->cells[2];
	tup_decref_outer(v0);
	STR* v5;
	STRLIT(v5, "target", 6);
	bool v6 = false;
	bool v7 = false;
	PTUP v8;
	PTUP v9;
	mw_mirth_elab_ZPlusResolveDef_BeginZBang(v5, value_u64(v3), VTUP(v2), v7, v6, r1, &v8, &v9);
	PTUP v10 = VTUP(((TUP*)PTRPTR(v9))->cells[3]);
	incref(MKTUP(v10));
	PTUP v11 = PTRMK(0LL /* Nil */,0,0);
	PTUP v12;
	mw_std_list_List_1_buildZBang(v11, &v12);
	bool v13 = true;
	uint64_t v14 = value_u64(v4);
	PTUP r15 = v12;
	PTUP v16 = v10;
	bool v17 = v13;
	bool v18 = v13;
	while (v18) {
		uint64_t v19 = v14;
		PTUP r20 = r15;
		PTUP v21 = v16;
		bool v22 = v17;
		uint64_t branch_Alias_23;
		PTUP branch_ZPlusLister_24;
		PTUP branch_List_25;
		bool branch_Bool_26;
		switch (PTREXTRA(v21)) {
			case 1LL: { // Cons
				PTUP v27;
				VAL v28 = mtp_std_list_List_1_Cons(v21, &v27);
				incref(MKTUP(VTUP(v28)));
				PTUP v29 = mw_mirth_def_Def_aliasZAsk(VTUP(v28));
				uint64_t branch_Alias_30;
				bool branch_Bool_31;
				switch (PTREXTRA(v29)) {
					case 1LL: { // Some
						VAL v32 = mtp_std_maybe_Maybe_1_Some(v29);
						bool v33 = (v19 == value_u64(v32));
						branch_Bool_31 = v33;
						branch_Alias_30 = v19;
					} break;
					case 0LL: { // None
						bool v34 = false;
						branch_Bool_31 = v34;
						branch_Alias_30 = v19;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v35 = !branch_Bool_31;
				uint64_t branch_Alias_36;
				PTUP branch_ZPlusLister_37;
				if (v35) {
					PTUP v38;
					mw_std_list_ZPlusLister_1_pushZBang(MKTUP(VTUP(v28)), r20, &v38);
					branch_ZPlusLister_37 = v38;
					branch_Alias_36 = branch_Alias_30;
				} else {
					decref(MKTUP(VTUP(v28)));
					branch_ZPlusLister_37 = r20;
					branch_Alias_36 = branch_Alias_30;
				}
				bool v39 = true;
				branch_Bool_26 = v39;
				branch_List_25 = v27;
				branch_ZPlusLister_24 = branch_ZPlusLister_37;
				branch_Alias_23 = branch_Alias_36;
			} break;
			case 0LL: { // Nil
				PTUP v40 = PTRMK(0LL /* Nil */,0,0);
				bool v41 = false;
				branch_Bool_26 = v41;
				branch_List_25 = v40;
				branch_ZPlusLister_24 = r20;
				branch_Alias_23 = v19;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_26;
		v17 = branch_Bool_26;
		v16 = branch_List_25;
		r15 = branch_ZPlusLister_24;
		v14 = branch_Alias_23;
	}
	decref(MKTUP(v16));
	PTUP v42 = mw_std_list_ZPlusLister_1_doneZBang(r15);
	PTUP v43 = VTUP(((TUP*)PTRPTR(v9))->cells[3]);
	decref(MKTUP(v43));
	((TUP*)PTRPTR(v9))->cells[3] = MKTUP(v42);
	PTUP v44;
	INT v45 = mw_mirth_alias_Alias_arity(v8, v14, &v44);
	PTUP v46 = VTUP(((TUP*)PTRPTR(v9))->cells[3]);
	incref(MKTUP(v46));
	PTUP v47 = PTRMK(0LL /* Nil */,0,0);
	PTUP v48 = PTRMK(0LL /* Nil */,0,0);
	bool v49 = true;
	PTUP r50 = v44;
	VAL r51 = MKTUP(v9);
	INT v52 = v45;
	PTUP v53 = VTUP(MKTUP(v47));
	PTUP v54 = VTUP(MKTUP(v48));
	PTUP v55 = VTUP(MKTUP(v46));
	bool v56 = v49;
	bool v57 = v49;
	while (v57) {
		PTUP r58 = r50;
		VAL r59 = r51;
		INT v60 = v52;
		PTUP v61 = v53;
		PTUP v62 = v54;
		PTUP v63 = v55;
		bool v64 = v56;
		INT branch_Int_65;
		PTUP branch_ZPlusMirth_66;
		VAL branch_z_x1_67;
		PTUP branch_List_68;
		PTUP branch_List_69;
		PTUP branch_List_70;
		bool branch_Bool_71;
		switch (PTREXTRA(v63)) {
			case 1LL: { // Cons
				PTUP v72;
				VAL v73 = mtp_std_list_List_1_Cons(v63, &v72);
				incref(MKINT(v60));
				incref(MKTUP(VTUP(v73)));
				PTUP v74;
				INT v75 = mw_mirth_def_Def_arity(r58, VTUP(MKTUP(VTUP(v73))), &v74);
				bool v76 = mw_mirth_elab_arityZ_compatibleZAsk(value_int(MKINT(v60)), v75);
				INT branch_Int_77;
				PTUP branch_ZPlusMirth_78;
				VAL branch_z_x1_79;
				PTUP branch_Either_80;
				if (v76) {
					PTUP v81 = mtw_std_either_Either_2_Right(MKTUP(VTUP(MKTUP(VTUP(v73)))));
					branch_Either_80 = v81;
					branch_z_x1_79 = r59;
					branch_ZPlusMirth_78 = v74;
					branch_Int_77 = value_int(MKINT(v60));
				} else {
					PTUP v82 = mtw_mirth_elab_RejectedDef_WrongArity(VTUP(MKTUP(VTUP(v73))));
					PTUP v83 = mtw_std_either_Either_2_Left(MKTUP(v82));
					branch_Either_80 = v83;
					branch_z_x1_79 = r59;
					branch_ZPlusMirth_78 = v74;
					branch_Int_77 = value_int(MKINT(v60));
				}
				INT branch_Int_84;
				PTUP branch_ZPlusMirth_85;
				VAL branch_z_x1_86;
				PTUP branch_List_87;
				PTUP branch_List_88;
				switch (PTREXTRA(branch_Either_80)) {
					case 0LL: { // Left
						VAL v89 = mtp_std_either_Either_2_Left(branch_Either_80);
						PTUP v90 = mw_std_list_List_1_cons(MKTUP(VTUP(v89)), VTUP(MKTUP(v61)));
						branch_List_88 = VTUP(MKTUP(v62));
						branch_List_87 = v90;
						branch_z_x1_86 = branch_z_x1_79;
						branch_ZPlusMirth_85 = branch_ZPlusMirth_78;
						branch_Int_84 = branch_Int_77;
					} break;
					case 1LL: { // Right
						VAL v91 = mtp_std_either_Either_2_Right(branch_Either_80);
						PTUP v92 = mw_std_list_List_1_cons(MKTUP(VTUP(v91)), VTUP(MKTUP(v62)));
						branch_List_88 = v92;
						branch_List_87 = VTUP(MKTUP(v61));
						branch_z_x1_86 = branch_z_x1_79;
						branch_ZPlusMirth_85 = branch_ZPlusMirth_78;
						branch_Int_84 = branch_Int_77;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v93 = true;
				branch_Bool_71 = v93;
				branch_List_70 = v72;
				branch_List_69 = branch_List_88;
				branch_List_68 = branch_List_87;
				branch_z_x1_67 = branch_z_x1_86;
				branch_ZPlusMirth_66 = branch_ZPlusMirth_85;
				branch_Int_65 = branch_Int_84;
			} break;
			case 0LL: { // Nil
				PTUP v94 = PTRMK(0LL /* Nil */,0,0);
				bool v95 = false;
				branch_Bool_71 = v95;
				branch_List_70 = v94;
				branch_List_69 = v62;
				branch_List_68 = v61;
				branch_z_x1_67 = r59;
				branch_ZPlusMirth_66 = r58;
				branch_Int_65 = v60;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v57 = branch_Bool_71;
		v56 = branch_Bool_71;
		v55 = branch_List_70;
		v54 = branch_List_69;
		v53 = branch_List_68;
		v52 = branch_Int_65;
		r51 = branch_z_x1_67;
		r50 = branch_ZPlusMirth_66;
	}
	decref(MKTUP(v55));
	PTUP v96 = mw_std_list_List_1_reverse(v53);
	PTUP v97 = mw_std_list_List_1_reverse(v54);
	PTUP v98 = VTUP(((TUP*)PTRPTR(VTUP(r51)))->cells[4]);
	incref(MKTUP(v98));
	PTUP v99 = mw_std_list_List_1_cat(v96, v98);
	PTUP v100 = VTUP(((TUP*)PTRPTR(VTUP(r51)))->cells[4]);
	decref(MKTUP(v100));
	((TUP*)PTRPTR(VTUP(r51)))->cells[4] = MKTUP(v99);
	PTUP v101 = VTUP(((TUP*)PTRPTR(VTUP(r51)))->cells[3]);
	decref(MKTUP(v101));
	((TUP*)PTRPTR(VTUP(r51)))->cells[3] = MKTUP(v97);
	decref(MKINT(v52));
	PTUP v102;
	PTUP v103;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(r50, VTUP(r51), &v102, &v103);
	PTUP v104 = PTRMK(0LL /* Nil */,0,0);
	PTUP v105;
	PTUP v106;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v102, v103, v104, &v105, &v106);
	PTUP v107;
	PTUP v108 = mw_mirth_elab_ZPlusResolveDef_endZBang(v105, v106, &v107);
	PTUP v109;
	VAL v110 = mw_std_maybe_Maybe_1_unwrap_1_sp41(v107, v108, &v109);
	uint64_t branch_Token_111;
	PTUP branch_ZPlusMirth_112;
	PTUP branch_Def_113;
	switch (PTREXTRA(VTUP(v110))) {
		case 0LL: { // Alias
			uint64_t v114 = mtp_mirth_def_Def_Alias(VTUP(v110));
			void* v115 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v114);
			PTUP v116;
			PTUP v117 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v109, v115, &v116);
			PTUP branch_ZPlusMirth_118;
			uint64_t branch_Token_119;
			VAL branch_z_x1_120;
			switch (PTREXTRA(v117)) {
				case 1LL: { // Some
					VAL v121 = mtp_std_maybe_Maybe_1_Some(v117);
					branch_z_x1_120 = v121;
					branch_Token_119 = value_u64(v3);
					branch_ZPlusMirth_118 = v116;
				} break;
				case 0LL: { // None
					STR* v122;
					STRLIT(v122, "Alias points to itself, circular aliases are not allowed.", 57);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v116, value_u64(v3), v122);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Def_113 = VTUP(branch_z_x1_120);
			branch_ZPlusMirth_112 = branch_ZPlusMirth_118;
			branch_Token_111 = branch_Token_119;
		} break;
		default: {
			branch_Def_113 = VTUP(v110);
			branch_ZPlusMirth_112 = v109;
			branch_Token_111 = value_u64(v3);
		} break;
	}
	push_resource(MKTUP(branch_ZPlusMirth_112));
	push_value(MKTUP(branch_Def_113));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp54_0 (void) {
	PTUP v0 = value_tup(pop_value());
	PTUP r1 = VTUP(pop_resource());
	VAL v2 = ((TUP*)PTRPTR(v0))->cells[0];
	VAL v3 = ((TUP*)PTRPTR(v0))->cells[1];
	tup_decref_outer(v0);
	bool v4 = false;
	PTUP v5;
	PTUP v6 = mw_mirth_elab_resolveZ_defZ_namespace(r1, value_u64(v2), VTUP(v3), v4, &v5);
	PTUP branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (PTREXTRA(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_9 = v10;
			branch_Token_8 = value_u64(v2);
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "Cannot compute patch namespace.", 31);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, value_u64(v2), v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKU64(branch_Token_8));
	push_resource(MKTUP(branch_ZPlusMirth_7));
	push_value(branch_z_x1_9);
}
