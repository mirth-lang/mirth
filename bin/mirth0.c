#define MIRTH_DEBUG 0
/* MIRTH HEADER */
// #line 3 "src/mirth.h"

#if defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__)
#define MIRTH_WINDOWS 1
#elif defined(__linux__)
#define MIRTH_LINUX 1
#elif defined(__APPLE__)
#define MIRTH_MACOS 1
#else
#error "Platform not supported."
#endif

#if defined(__x86_64__) || defined(_M_X64)
#define MIRTH_AMD64
#elif defined(i386) || defined(__i386__) || defined(__i386) || defined(_M_IX86)
#define MIRTH_I386
#elif defined(__aarch64__) || defined(_M_ARM64)
#define MIRTH_ARM64
#else
#error "Architecture not supported."
#endif

#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>
#include <float.h>

extern void* malloc(size_t);
extern void* calloc(size_t, size_t);
extern void* realloc(void*, size_t);
extern void* memset(void*, int, size_t);
extern void* memcpy(void*, const void*, size_t);
extern void* memmove(void*, const void*, size_t);
extern int memcmp(const void*, const void*, size_t);
extern int strcmp(const char*, const char*);
extern size_t strlen(const char*);
extern void free(void*);
extern int read(int, void*, size_t);
extern int write(int, const char*, size_t);
extern int close(int);
extern int open(const char*, int, ...);
extern void exit(int);
extern int sprintf (char * s, const char * format, ...);
extern float strtof(const char* str, char** endptr);
extern double strtod(const char* str, char** endptr);

typedef struct INT { int64_t val; } INT;
typedef uint64_t TAG;

typedef uint32_t REFS;
typedef uint64_t USIZE;
typedef void (*FNPTR)(void);

typedef union DATA {
    USIZE usize;
    uint64_t u64;
    uint32_t u32;
    uint16_t u16;
    uint8_t u8;
    int64_t i64;
    int32_t i32;
    int16_t i16;
    int8_t i8;
    float f32;
    double f64;
    void* ptr;
    FNPTR fnptr;
    REFS* refs;
    INT iint;
    struct STR* str;
    struct TUP* tup;
} DATA;

typedef struct VAL {
    DATA data;
    TAG tag;
} VAL;

typedef struct TYPE {
    const char* name;
    uint64_t flags;
    void (*free)(VAL v);
    void (*trace_)(VAL v, int fd);
    void (*run)(VAL v);
} TYPE;


#define REFS_FLAG 0x0001
#define PTRMK(e,p,t) (((uint64_t)(e) << 48) | (uint64_t)(p) | (uint64_t)(t))
#define PTRPTR(p) ((void*)(uintptr_t)((uint64_t)(p) & 0xFFFFFFFFFFFC))
#define PTRTAG(p) ((uint64_t)(p) & 0x3)
#define PTREXTRA(p) ((uint64_t)(p) >> 48)

static void default_free   (VAL v);
static void default_trace_ (VAL v, int fd);
static void default_run    (VAL v);

static void bool_trace_ (VAL v, int fd);
static TYPE TYPE_BOOL = { .name = "Bool", .trace_ = bool_trace_ };

static void int_trace_ (VAL v, int fd);
static void int_free (VAL v);
static TYPE TYPE_INT = { .name = "Int", .trace_ = int_trace_, .free = int_free };

static void i64_trace_ (VAL v, int fd);
static TYPE TYPE_I64 = { .name = "I64", .trace_ = i64_trace_ };

static void i32_trace_ (VAL v, int fd);
static TYPE TYPE_I32 = { .name = "I32", .trace_ = i32_trace_ };

static void i16_trace_ (VAL v, int fd);
static TYPE TYPE_I16 = { .name = "I16", .trace_ = i16_trace_ };

static void i8_trace_ (VAL v, int fd);
static TYPE TYPE_I8 = { .name = "I8", .trace_ = i8_trace_ };

static void u64_trace_ (VAL v, int fd);
static TYPE TYPE_U64 = { .name = "U64", .trace_ = u64_trace_ };

static void u32_trace_ (VAL v, int fd);
static TYPE TYPE_U32 = { .name = "U32", .trace_ = u32_trace_ };

static void u16_trace_ (VAL v, int fd);
static TYPE TYPE_U16 = { .name = "U16", .trace_ = u16_trace_ };

static void u8_trace_ (VAL v, int fd);
static TYPE TYPE_U8 = { .name = "U8", .trace_ = u8_trace_ };

static void f64_trace_ (VAL v, int fd);
static TYPE TYPE_F64 = { .name = "F64", .trace_ = f64_trace_ };

static void f32_trace_ (VAL v, int fd);
static TYPE TYPE_F32 = { .name = "F32", .trace_ = f32_trace_ };

static void ptr_trace_ (VAL v, int fd);
static TYPE TYPE_PTR = { .name = "Ptr", .trace_ = ptr_trace_ };

static void fnptr_run (VAL v);
static TYPE TYPE_FNPTR = { .name = "FnPtr", .run = fnptr_run };

static void str_free (VAL v);
static void str_trace_ (VAL v, int fd);
static TYPE TYPE_STR = { .name = "Str", .flags=REFS_FLAG, .trace_ = str_trace_, .free=str_free };

static void tup_free (VAL v);
static void tup_trace_ (VAL v, int fd);
static void tup_run (VAL v);
static TYPE TYPE_TUP = { .name = "Tup", .flags = REFS_FLAG, .free = tup_free, .trace_ = tup_trace_, .run = tup_run };

#define TAG_BOOL  ((TAG)&TYPE_BOOL)
#define TAG_I64   ((TAG)&TYPE_I64)
#define TAG_I32   ((TAG)&TYPE_I32)
#define TAG_I16   ((TAG)&TYPE_I16)
#define TAG_I8    ((TAG)&TYPE_I8)
#define TAG_U64   ((TAG)&TYPE_U64)
#define TAG_U32   ((TAG)&TYPE_U32)
#define TAG_U16   ((TAG)&TYPE_U16)
#define TAG_U8    ((TAG)&TYPE_U8)
#define TAG_F64   ((TAG)&TYPE_F64)
#define TAG_F32   ((TAG)&TYPE_F32)
#define TAG_PTR   ((TAG)&TYPE_PTR)
#define TAG_FNPTR ((TAG)&TYPE_FNPTR)
#define TAG_INT   (REFS_FLAG | (TAG)&TYPE_INT)
#define TAG_STR   (REFS_FLAG | (TAG)&TYPE_STR)
#define TAG_TUP   (REFS_FLAG | (TAG)&TYPE_TUP)

#define VALEQ(v1,v2) (((v1).tag == (v2).tag) && ((v1).data.u64 == (v2).data.u64))

#define VTYPE(v) ((const TYPE*)(PTRPTR((v).tag)))
#define VREFS(v) (*(REFS*)PTRPTR((v).data.u64))
#define HAS_REFS(v) (((v).tag & REFS_FLAG) && PTRPTR((v).data.u64) && (PTRTAG((v).data.u64) == 0))

#define VINT(v)   ((v).data.iint)
#define VI64(v)   ((v).data.i64)
#define VI32(v)   ((v).data.i32)
#define VI16(v)   ((v).data.i16)
#define VI8(v)    ((v).data.i8)
#define VU64(v)   ((v).data.u64)
#define VU32(v)   ((v).data.u32)
#define VU16(v)   ((v).data.u16)
#define VU8(v)    ((v).data.u8)
#define VBOOL(v)  ((_Bool)((v).data.u64))
#define VF32(v)   ((v).data.f32)
#define VF64(v)   ((v).data.f64)
#define VPTR(v)   ((v).data.ptr)
#define VFNPTR(v) ((v).data.fnptr)

#define IS_VAL(v)   (1)
#define IS_INT(v)   ((v).tag == TAG_INT)
#define IS_I64(v)   ((v).tag == TAG_I64)
#define IS_I32(v)   ((v).tag == TAG_I32)
#define IS_I16(v)   ((v).tag == TAG_I16)
#define IS_I8(v)    ((v).tag == TAG_I8)
#define IS_U64(v)   ((v).tag == TAG_U64)
#define IS_U32(v)   ((v).tag == TAG_U32)
#define IS_U16(v)   ((v).tag == TAG_U16)
#define IS_U8(v)    ((v).tag == TAG_U8)
#define IS_BOOL(v)  ((v).tag == TAG_BOOL)
#define IS_F32(v)   ((v).tag == TAG_F32)
#define IS_F64(v)   ((v).tag == TAG_F64)
#define IS_PTR(v)   ((v).tag == TAG_PTR)
#define IS_FNPTR(v) ((v).tag == TAG_FNPTR)
#define IS_STR(v)   ((v).tag == TAG_STR)
#define IS_TUP(v)   ((v).tag == TAG_TUP)
#define IS_NIL(v)   (IS_TUP(v) && (VTUPLEN(v) == 0))

#define MKVAL(x)   (x)
#define MKBOOL(x)  ((VAL){.tag=TAG_BOOL, .data={.u64=(x)}})
#define MKI64(x)   ((VAL){.tag=TAG_I64, .data={.i64=(x)}})
#define MKI32(x)   ((VAL){.tag=TAG_I32, .data={.i64=(x)}})
#define MKI16(x)   ((VAL){.tag=TAG_I16, .data={.i64=(x)}})
#define MKI8(x)    ((VAL){.tag=TAG_I8, .data={.i64=(x)}})
#define MKU64(x)   ((VAL){.tag=TAG_U64, .data={.u64=(x)}})
#define MKU32(x)   ((VAL){.tag=TAG_U32, .data={.u64=(x)}})
#define MKU16(x)   ((VAL){.tag=TAG_U16, .data={.u64=(x)}})
#define MKU8(x)    ((VAL){.tag=TAG_U8, .data={.u64=(x)}})
#define MKF32(x)   ((VAL){.tag=TAG_F32, .data={.f32=(x)}})
#define MKF64(x)   ((VAL){.tag=TAG_F64, .data={.f64=(x)}})
#define MKPTR(x)   ((VAL){.tag=TAG_PTR, .data={.ptr=(x)}})
#define MKFNPTR(x) ((VAL){.tag=TAG_FNPTR, .data={.fnptr=(x)}})

#define VSTR(v)    (((v).data.str))
#define MKSTR(x)   ((VAL){.tag=TAG_STR, .data={.str=(x)}})

#define VTUP(v)    (((v).data.tup))
#define VTUPLEN(v) (tup_len_(VTUP(v)))
#define MKTUP(x,n) ((VAL){.tag=TAG_TUP, .data={.tup=(x)}})
#define MKNIL      ((VAL){.tag=TAG_TUP, .data={.tup=NULL}})

#define INT63_MIN (-0x4000000000000000LL)
#define INT63_MAX ( 0x3FFFFFFFFFFFFFFFLL)

#define IS_I63(x) ((x).val & 1)
#define WRAP_I63(x) ((INT){ .val = 1+2*(int64_t)(x) })
#define GET_I63(x) ((((x).val)-1)/2)

#define IS_BIG(x) (!IS_I63(x))
#define WRAP_BIG(x) ((INT){ .val = (intptr_t)(x) })
#define GET_BIG(x) ((struct BIG*)(intptr_t)((x).val))

#define MKINT(x) ((VAL){.tag=TAG_INT, .data={.iint=(x)}})

#define IS_INT_I63(x) (IS_INT(x) && IS_I63((x).data.iint))
#define MKINT_I63(x) (MKINT(WRAP_I63(x)))
#define VINT_I63(x) (GET_I63((x).data.iint))

#define IS_INT_BIG(x) (IS_INT(x) && IS_BIG((x).data.iint))
#define MKINT_BIG(x) (MKINT(WRAP_BIG(x)))
#define VINT_BIG(x) (GET_BIG((x).data.iint))

#define TUP_LEN_MAX 0x3FFF

#define STRLIT(v,x,n) \
    do { \
        static STR* mval = 0; \
        if (!mval) mval = str_make(x,n); \
        incref(MKSTR(mval)); \
        v = mval; \
    } while(0)

typedef uint16_t TUPLEN;
typedef struct TUP {
    REFS refs;
    TUPLEN cap;
    TUPLEN size;
    VAL cells[];
} TUP;

typedef struct STR {
    REFS refs;
    USIZE cap;
    USIZE size;
    char data[];
} STR;

#define ANY
#define BIG_S(z) { REFS refs; USIZE cap; USIZE size; uint32_t radix[z]; }
typedef struct BIG BIG_S(ANY) BIG;

#define STACK_MAX 0x80000
static USIZE stack_counter = STACK_MAX;
static VAL stack [STACK_MAX] = {0};
static USIZE rstack_counter = STACK_MAX;
static VAL rstack [STACK_MAX] = {0};

static int global_argc;
static char** global_argv;

static void push_value(VAL v);
static void trace_stack(void);
static void trace_rstack(void);

#if MIRTH_DEBUG
    typedef struct LOC {
        const char* word;
        const char* path;
        USIZE line, col;
        const char* atom;
    } LOC;
    static USIZE fstack_counter = 0;
    static LOC fstack [STACK_MAX] = {
        {
            .word="<word>",
            .path="<path>",
            .line=0, .col=0,
            .atom="<atom>"
        },
    };

    #define WORD_ENTER(_w,_p,_l,_c) \
        do { \
            fstack[fstack_counter].word = (_w); \
            fstack[fstack_counter].path = (_p); \
            fstack[fstack_counter].line = (_l); \
            fstack[fstack_counter].col = (_c); \
            fstack[fstack_counter].atom = ""; \
            fstack_counter++; \
        } while(0)

    #define WORD_ATOM(_l,_c,_n) \
        do { \
            if (fstack_counter > 0) { \
                fstack[fstack_counter-1].line = (_l); \
                fstack[fstack_counter-1].col = (_c); \
                fstack[fstack_counter-1].atom = (_n); \
            } \
        } while(0)

    #define WORD_EXIT \
        do { \
            if (fstack_counter == 0) { \
                TRACE("mismatched WORD_EXIT\n"); \
                exit(1); \
            } \
            fstack_counter--; \
        } while(0)
#endif

#define TRACE(x) write(2,x,strlen(x))
#define _STR(x) #x
#define STR(x) _STR(x)

#define EXPECT(test,msg) \
    do { \
        if (!(test)) { \
            TRACE(msg "\n"); \
            trace_stack(); \
            trace_rstack(); \
            exit(1); \
        } \
    } while(0)

#define EXPECT1(test,msg,v1) \
    do { \
        if (!(test)) { \
            TRACE(msg "\n"); \
            push_value(v1); \
            trace_stack(); \
            trace_rstack(); \
            exit(1); \
        } \
    } while(0)

#define EXPECT2(test,msg,v1,v2) \
    do { \
        if (!(test)) { \
            TRACE(msg "\n"); \
            push_value(v1); \
            push_value(v2); \
            trace_stack(); \
            trace_rstack(); \
            exit(1); \
        } \
    } while(0)

#define ASSERT(test) \
    EXPECT(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")")
#define ASSERT1(test,v) \
    EXPECT1(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")", v)
#define ASSERT2(test,v1,v2) \
    EXPECT2(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")", v1, v2)

#define incref(v) do { if (HAS_REFS(v)) VREFS(v)++; } while(0)
#define decref(v) do { if (HAS_REFS(v)) if (!--VREFS(v)) free_value(v); } while(0)
static void free_value(VAL v) {
    ASSERT(VTYPE(v));
    ASSERT1(VTYPE(v)->free,v);
    ASSERT1(HAS_REFS(v),v);
    ASSERT1(VREFS(v) == 0,v);
    VTYPE(v)->free(v);
}

static void str_free (VAL v) {
    STR* str = VSTR(v);
    free(str);
}

static void tup_free (VAL v) {
    TUP* tup = VTUP(v);
    if (tup) {
        for (TUPLEN i = 0; i < tup->size; i++) {
            decref(tup->cells[i]);
        }
        free(tup);
    }
}

static void tup_decref_outer(TUP* tup, size_t n) {
    ASSERT(tup);
    ASSERT(tup->size == n);
    if (tup->refs == 1) {
        free(tup);
    } else {
        for (size_t i = 0; i < n; i++) {
            incref(tup->cells[i]);
        }
        if (!--tup->refs) tup_free(MKTUP(tup,n));
    }
}

static TUPLEN tup_len_ (TUP* tup) {
    if (tup) {
        return tup->size;
    } else {
        return 0;
    }
}

static uint64_t value_u64 (VAL v) { ASSERT1(IS_U64(v),v); return VU64(v); }
static uint32_t value_u32 (VAL v) { ASSERT1(IS_U32(v),v); return VU32(v); }
static uint16_t value_u16 (VAL v) { ASSERT1(IS_U16(v),v); return VU16(v); }
static uint8_t  value_u8  (VAL v) { ASSERT1(IS_U8(v) ,v); return VU8(v) ; }

static INT value_int (VAL v) { ASSERT1(IS_INT(v),v); return VINT(v); }
static int64_t value_i64 (VAL v) { ASSERT1(IS_I64(v),v); return VI64(v); }
static int32_t value_i32 (VAL v) { ASSERT1(IS_I32(v),v); return VI32(v); }
static int16_t value_i16 (VAL v) { ASSERT1(IS_I16(v),v); return VI16(v); }
static int8_t  value_i8  (VAL v) { ASSERT1(IS_I8(v) ,v); return VI8(v) ; }
static bool value_bool (VAL v) { ASSERT1(IS_BOOL(v),v); return VBOOL(v); }

static double value_f64 (VAL v) { ASSERT1(IS_F64(v), v); return VF64(v); }
static float value_f32 (VAL v) { ASSERT1(IS_F32(v), v); return VF32(v); }

static void* value_ptr (VAL v) { ASSERT1(IS_PTR(v),v); return VPTR(v); }
static FNPTR value_fnptr (VAL v) { ASSERT1(IS_FNPTR(v),v); return VFNPTR(v); }
static STR* value_str (VAL v) { ASSERT1(IS_STR(v),v); return VSTR(v); }
static TUP* value_tup (VAL v, TUPLEN n) { ASSERT1(IS_TUP(v) && (VTUPLEN(v) == n), v); return VTUP(v); }

static void push_value (VAL x) { ASSERT(stack_counter > 0); stack[--stack_counter] = x; }
static void push_resource (VAL x) { ASSERT(rstack_counter > 0); rstack[--rstack_counter] = x; }
static VAL pop_value (void) { ASSERT(stack_counter < STACK_MAX); return stack[stack_counter++]; }
static VAL pop_resource (void) { ASSERT(rstack_counter < STACK_MAX); return rstack[rstack_counter++]; }

// Create a TUP with at least min(cap_hint, TUP_LEN_MAX) capacity.
static TUP* tup_new (TUPLEN cap_hint) {
    if (cap_hint < 3) cap_hint = 3;
    if (cap_hint > TUP_LEN_MAX) cap_hint = TUP_LEN_MAX;
    TUP *new_tup = calloc(1, sizeof(TUP) + sizeof(VAL)*(USIZE)cap_hint);
    ASSERT(new_tup);
    new_tup->refs = 1;
    new_tup->cap = cap_hint;
    return new_tup;
}

static VAL tup_replace (VAL tup, TUPLEN i, VAL v) {
    ASSERT(IS_TUP(tup));
    TUPLEN n = VTUPLEN(tup);
    ASSERT(i < n);
    if (VTUP(tup)->refs > 1) {
        TUP* newtup = tup_new(n);
        newtup->size = n;
        memcpy(newtup->cells, VTUP(tup)->cells, n*sizeof(VAL));
        for (TUPLEN j=0; j<n; j++) incref(newtup->cells[j]);
        decref(tup);
        tup = MKTUP(newtup, n);
    }
    VAL u = VTUP(tup)->cells[i];
    VTUP(tup)->cells[i] = v;
    decref(u);
    return tup;
}

typedef struct STACK {
    size_t cap;
    size_t len;
    VAL* val;
} STACK;

static VAL lpop(STACK* stk) {
    ASSERT(stk->len > 0);
    return stk->val[--stk->len];
}
static void lpush(STACK* stk, VAL val) {
    if (stk->len >= stk->cap) {
        stk->cap = stk->cap * 2 + 4;
        VAL* newval = realloc(stk->val, stk->cap * sizeof(VAL));
        ASSERT(newval);
        stk->val = newval;
    }
    stk->val[stk->len++] = val;
}

static STR* str_alloc (USIZE cap) {
    ASSERT(cap <= SIZE_MAX - sizeof(STR) - 4);
    STR* str = calloc(1, (size_t)(cap + sizeof(STR) + 4));
    EXPECT(str, "failed to allocate string");
    str->refs = 1;
    str->cap = cap;
    return str;
}

static STR* str_make (const char* data, USIZE size) {
    ASSERT(data);
    ASSERT(size <= SIZE_MAX - sizeof(STR) - 4);
    STR* str = str_alloc(size);
    str->size = size;
    memcpy(str->data, data, (size_t)size);
    return str;
}
#define mkstr(x,n) MKSTR(str_make((x), (n)))

static STR* str_pushn (STR* s, const char* p, USIZE n2) {
    if (n2 == 0) return s;
    ASSERT(s && p);
    ASSERT(n2 <= SIZE_MAX);
    USIZE m = s->cap;
    USIZE n1 = s->size;
    ASSERT(n1 <= SIZE_MAX-n2);
    ASSERT(4 <= SIZE_MAX-n1-n2);
    if ((s->refs == 1) && (n1 + n2 + 4 <= m)) {
        memcpy(s->data + n1, p, (size_t)n2);
        s->size += n2;
        ASSERT(s->size + 4 <= s->cap);
        return s;
    } else {
        USIZE m2 = n1 + n2 + 4;
        if ((s->refs == 1) && (m <= SIZE_MAX-m) && (m2 < m*2)) m2 = m*2;
        STR* str = str_alloc(m2);
        str->size = n1+n2;
        memcpy(str->data, s->data, (size_t)n1);
        memcpy(str->data+n1, p, (size_t)n2);
        decref(MKSTR(s));
        return str;
    }
}

static STR* str_cat (STR* s1, STR* s2) {
    EXPECT(s1 && s2, "invalid strings in prim-str-cat");
    STR* out = str_pushn(s1, s2->data, s2->size);
    decref(MKSTR(s2));
    return out;
}

static USIZE get_data_tag(VAL v) {
    if (IS_TUP(v)) {
        ASSERT(VTUPLEN(v) > 0);
        return VU64(VTUP(v)->cells[0]);
    } else {
        return VU64(v);
    }
}

static int str_cmp(STR* s1, STR* s2) {
    ASSERT(s1 && s2);
    USIZE n1 = s1->size;
    USIZE n2 = s2->size;
    USIZE n = (n1 < n2 ? n1 : n2);
    ASSERT(n < SIZE_MAX);
    int r = memcmp(s1->data, s2->data, (size_t)n);
    decref(MKSTR(s1));
    decref(MKSTR(s2));
    if (r) return r;
    if (n1 < n2) return -1;
    if (n1 > n2) return 1;
    return 0;
}

static STR* str_drop (STR* in, size_t num_bytes) {
    ASSERT(in);
    if (num_bytes > in->size) {
        num_bytes = in->size;
    }
    size_t remaining = in->size - num_bytes;
    char* slice = in->data + num_bytes;

    if (in->refs == 1) {
        if (remaining > 0) memmove(in->data, slice, remaining);
        memset(in->data + remaining, 0, in->cap - remaining);
        in->size = remaining;
        return in;
    } else {
        STR* out = str_make(slice, remaining);
        decref(MKSTR(in));
        return out;
    }
}

static float str_to_f32 (STR* in, STR** out) {
    ASSERT(in); ASSERT(out);
    ASSERT(in->data[in->size] == 0);
    char *endptr = NULL;
    float val = strtof(in->data, &endptr);
    ASSERT(endptr);
    ASSERT(endptr >= in->data);
    size_t consumed = endptr - in->data;
    *out = str_drop(in, consumed);
    return val;
}

static double str_to_f64 (STR* in, STR** out) {
    ASSERT(in); ASSERT(out);
    ASSERT(in->data[in->size] == 0);
    char *endptr = NULL;
    double val = strtod(in->data, &endptr);
    ASSERT(endptr);
    ASSERT(endptr >= in->data);
    size_t consumed = endptr - in->data;
    *out = str_drop(in, consumed);
    return val;
}

static void tup_run(VAL v) {
    ASSERT(VTUPLEN(v)>0);
    VAL h = VTUP(v)->cells[0];
    ASSERT(IS_FNPTR(h));
    push_value(v);
    VFNPTR(h)();
}

static void fnptr_run(VAL v) {
    VFNPTR(v)();
}

static void run_value(VAL v) {
    ASSERT(VTYPE(v));
    ASSERT1(VTYPE(v)->run, v);
    VTYPE(v)->run(v);
}

void int_free(VAL x) {
    if (IS_INT_BIG(x)) {
        free(VINT_BIG(x));
    }
}

BIG* big_alloc(size_t cap) {
    ASSERT(cap >= 2);
    BIG* out = calloc(1, sizeof(*out) + cap*sizeof(*out->radix) + 4);
    EXPECT(out, "Ran out of memory.");
    out->refs = 1;
    out->cap = cap;
    out->size = 0;
    return out;
}

#define SIGN_BIT(x) ((x) & 0x80000000)
#define NEXT_RADIX(x) (SIGN_BIT(x) ? (uint32_t)0xFFFFFFFF : (uint32_t)0)
#define SIGN_RADIX(a) (NEXT_RADIX((a)->radix[(a)->size-1]))

#define LO_RADIX(x) ((uint32_t)(x))
#define HI_RADIX(x) ((uint32_t)(((uint64_t)(x)) >> 32))

static void big_incref (BIG* a) { a->refs++; }
static void big_decref (BIG* a) { if (!--a->refs) free(a); }

// expand (or clone) to make room for n radixes, returns unique a
static BIG* big_reserve (BIG* a, size_t n) {
    ASSERT(a);
    if ((a->refs == 1) && (a->cap >= n))
        return a;
    if (n < a->cap*2) n = a->cap*2;
    if (a->refs == 1) {
        BIG* b = realloc(a, sizeof(*b) + n*sizeof(*b->radix) + 4);
        EXPECT(b, "Ran out of memory.");
        b->cap = n;
        return b;
    } else {
        BIG* b = big_alloc(n);
        b->size = a->size;
        memcpy(b->radix, a->radix, a->size*sizeof(a->radix[0]));
        big_decref(a);
        return b;
    }
}

#define FITS_I63(x) ((INT63_MIN <= (int64_t)(x)) && ((int64_t)(x) <= INT63_MAX))

static INT i64_to_int(int64_t x) {
    if (FITS_I63(x)) {
        return WRAP_I63(x);
    } else {
        BIG* big = big_alloc(3);
        big->size = 2;
        uint64_t y = (uint64_t)x;
        big->radix[0] = LO_RADIX(y);
        big->radix[1] = HI_RADIX(y);
        return WRAP_BIG(big);
    }
}

static INT u64_to_int(uint64_t x) {
    if (x <= (uint64_t)INT64_MAX) {
        return i64_to_int((int64_t)x);
    } else {
        BIG* big = big_alloc(4);
        big->size = 3;
        big->radix[0] = LO_RADIX(x);
        big->radix[1] = HI_RADIX(x);
        big->radix[2] = 0;
        return WRAP_BIG(big);
    }
}

static INT big_normalize (BIG* a) {
    ASSERT(a); ASSERT(a->refs == 1); ASSERT(a->size >= 1);
    while ((a->size > 2) && (NEXT_RADIX(a->radix[a->size-2]) == a->radix[a->size-1]))
        a->size--;
    if (a->size == 2) {
        uint64_t u = (uint64_t)(a->radix[0]) | ((uint64_t)(a->radix[1]) << 32);
        int64_t i = (int64_t)u;
        if (FITS_I63(i)) {
            free(a);
            return WRAP_I63(i);
        }
    }
    if (a->size == 1) {
        int64_t i = a->radix[0];
        free(a);
        return WRAP_I63(i);
    }
    return WRAP_BIG(a);
}

static INT big_i63_add (BIG* a, int64_t b) {
    ASSERT(a); ASSERT(a->size >= 2);
    if (b == 0) return WRAP_BIG(a);
    a = big_reserve(a, a->size+1);

    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);

    uint32_t b0 = LO_RADIX(b);
    uint32_t b1 = HI_RADIX(b);
    uint32_t bn = NEXT_RADIX(b1);

    uint64_t r0 = (uint64_t)(a->radix[0]) + (uint64_t)(b0);
    uint64_t r1 = (uint64_t)(a->radix[1]) + (uint64_t)(b1) + (uint64_t)HI_RADIX(r0);

    a->radix[0] = LO_RADIX(r0);
    a->radix[1] = LO_RADIX(r1);
    uint32_t c = HI_RADIX(r1);
    for (size_t i = 2; i < a->size; i++) {
        uint64_t r = (uint64_t)(a->radix[i]) + (uint64_t)bn + (uint64_t)c;
        a->radix[i] = LO_RADIX(r);
        c = HI_RADIX(r);
    }
    a->radix[a->size++] = an + bn + c;
    return big_normalize(a);
}

static INT big_big_add (BIG* a, BIG* b) {
    ASSERT(a); ASSERT(b);
    if (b->size > a->size) { BIG*t=a; a=b; b=t; }
    a = big_reserve(a, a->size+1);
    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);
    uint32_t bn = NEXT_RADIX(b->radix[b->size-1]);
    uint32_t c = 0;
    size_t i=0;
    for (; i < b->size; i++) {
        uint64_t r = (uint64_t)a->radix[i] + (uint64_t)b->radix[i] + (uint64_t)c;
        a->radix[i] = LO_RADIX(r);
        c = HI_RADIX(r);
    }
    for (; i < a->size; i++) {
        uint64_t r = (uint64_t)a->radix[i] + (uint64_t)bn + (uint64_t)c;
        a->radix[i] = LO_RADIX(r);
        c = HI_RADIX(r);
    }
    a->radix[a->size++] = an + bn + c;
    big_decref(b);
    return big_normalize(a);
}

static INT int_add(INT a, INT b) {
    if (IS_I63(a)) {
        if (IS_I63(b)) {
            return i64_to_int(GET_I63(a) + GET_I63(b));
        } else {
            return big_i63_add(GET_BIG(b), GET_I63(a));
        }
    } else {
        if (IS_I63(b)) {
            return big_i63_add(GET_BIG(a), GET_I63(b));
        } else {
            return big_big_add(GET_BIG(a), GET_BIG(b));
        }
    }
}

static INT big_negate(BIG* a) {
    ASSERT(a);
    a = big_reserve(a, a->size+1);
    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);
    uint32_t c = 1;
    for (size_t i=0; i < a->size; i++) {
        uint64_t r = (uint64_t)(~(uint32_t)(a->radix[i])) + (uint64_t)c;
        a->radix[i] = LO_RADIX(r);
        c = HI_RADIX(r);
    }
    a->radix[a->size++] = ~an + c;
    return big_normalize(a);
}

static INT int_negate(INT a) {
    if (IS_I63(a)) {
        return i64_to_int(-GET_I63(a));
    } else {
        return big_negate(GET_BIG(a));
    }
}

static INT int_sub(INT a, INT b) {
    if (IS_I63(a) && IS_I63(b)) {
        return i64_to_int(GET_I63(a) - GET_I63(b));
    } else {
        return int_add(a, int_negate(b));
    }
}

static uint64_t int_to_u64(INT a) {
    if (IS_I63(a)) {
        return (uint64_t)GET_I63(a);
    } else {
        BIG* b = GET_BIG(a);
        ASSERT(b && b->size >= 2);
        uint64_t r = (uint64_t)(b->radix[0]) | ((uint64_t)(b->radix[1]) << 32);
        big_decref(b);
        return r;
    }
}
static int64_t int_to_i64(INT a) { return (int64_t)int_to_u64(a); }

static INT i63_i63_mul (int64_t a, int64_t b) {
    if ((b == 0) ||
        ((b > 0) && (INT63_MIN/b <= a) && (a <= INT63_MAX/b)) ||
        ((b < 0) && (INT63_MAX/b <= a) && (a <= INT63_MIN/b)))
    {
        return WRAP_I63(a * b);
    }

    bool negate = (a < 0) ^ (b < 0);
    if (a < 0) a = -a;
    if (b < 0) b = -b;

    uint64_t a0 = LO_RADIX(a);
    uint64_t a1 = HI_RADIX(a);
    uint64_t b0 = LO_RADIX(b);
    uint64_t b1 = HI_RADIX(b);

    uint64_t r0 = a0 * b0;
    uint64_t r1 = a1 * b0 + a0 * b1 + HI_RADIX(r0);
    uint64_t r2 = a1 * b1 + HI_RADIX(r1);
    uint64_t r3 = HI_RADIX(r2);

    BIG* c = big_alloc(5);
    c->size = 4;
    c->radix[0] = LO_RADIX(r0);
    c->radix[1] = LO_RADIX(r1);
    c->radix[2] = LO_RADIX(r2);
    c->radix[3] = LO_RADIX(r3);
    INT x = big_normalize(c);
    return negate ? int_negate(x) : x;
}

static void big_u32_mul_shift_accum_(BIG* accum, BIG* a, uint32_t x, size_t shift) {
    if (x == 0) return;
    uint32_t mul_carry = 0;
    uint32_t add_carry = 0;
    uint32_t an = SIGN_RADIX(a);
    for (size_t i=0; i + shift < accum->size; i++) {
        uint32_t ar = (i < a->size) ? a->radix[i] : an;
        uint64_t mul_result = (uint64_t)ar * (uint64_t)x + (uint64_t)mul_carry;
        uint64_t add_result = (uint64_t)accum->radix[i+shift] + (uint64_t)LO_RADIX(mul_result) + (uint64_t)add_carry;
        accum->radix[i+shift] = LO_RADIX(add_result);
        mul_carry = HI_RADIX(mul_result);
        add_carry = HI_RADIX(add_result);
    }
}

static void big_negate_shift_accum_(BIG* accum, BIG* a, size_t shift) {
    uint32_t carry = 1;
    uint32_t an = SIGN_RADIX(a);
    for (size_t i = 0; i+shift < accum->size; i++) {
        uint32_t ar = (i < a->size) ? a->radix[i] : an;
        uint64_t result = (uint64_t)accum->radix[i+shift] + (uint64_t)(~ar) + (uint64_t)carry;
        accum->radix[i+shift] = LO_RADIX(result);
        carry = HI_RADIX(result);
    }
}

static INT big_i63_mul (BIG* a, int64_t b) {
    if (b == 0) { big_decref(a); return WRAP_I63(0); }
    if (b == 1) { return WRAP_BIG(a); }
    if (b == -1) { return big_negate(a); }
    BIG* accum = big_alloc(a->size + 3);
    accum->size = a->size + 2;
    big_u32_mul_shift_accum_(accum, a, LO_RADIX(b), 0);
    big_u32_mul_shift_accum_(accum, a, HI_RADIX(b), 1);
    uint32_t bn = NEXT_RADIX(HI_RADIX(b));
    if (b < 0) { big_negate_shift_accum_(accum, a, 2); }
    big_decref(a);
    return big_normalize(accum);
}

static INT big_big_mul (BIG* a, BIG* b) {

    if (a->size > b->size) { BIG*t=a; a=b; b=t; }
    BIG* accum = big_alloc(a->size + b->size + 1);
    accum->size = a->size + b->size;
    for (size_t i = 0; i < b->size; i++) {
        big_u32_mul_shift_accum_(accum, a, b->radix[i], i);
    }
    if (SIGN_RADIX(b)) {
        big_negate_shift_accum_(accum, a, b->size);
    }
    big_decref(a);
    big_decref(b);
    return big_normalize(accum);
}

static INT int_mul(INT a, INT b) {
    if (IS_I63(a)) {
        if (IS_I63(b)) {
            return i63_i63_mul(GET_I63(a),GET_I63(b));
        } else {
            return big_i63_mul(GET_BIG(b),GET_I63(a));
        }
    } else {
        if (IS_I63(b)) {
            return big_i63_mul(GET_BIG(a),GET_I63(b));
        } else {
            return big_big_mul(GET_BIG(a),GET_BIG(b));
        }
    }
}

static void int_incref(INT a) { if (IS_BIG(a)) big_incref(GET_BIG(a)); }
static void int_decref(INT a) { if (IS_BIG(a)) big_decref(GET_BIG(a)); }
static bool int_is_zero_(INT a) { return a.val == WRAP_I63(0).val; }
static bool int_is_negative_(INT a) {
    return IS_I63(a) ? (GET_I63(a) < 0) : (SIGN_RADIX(GET_BIG(a)) != 0);
}

static int64_t i64_div(int64_t, int64_t);
static int64_t i64_mod(int64_t, int64_t);

static void big_u32_shift_udivmod(BIG* a, uint32_t bhead, size_t bshift, INT* q, INT* r) {
    ASSERT(bhead >= 1); ASSERT(a && (a->size > bshift));
    BIG* accum = big_alloc(a->size - bshift + 2); // quatient in accum
    accum->size = a->size - bshift;
    a = big_reserve(a, a->size); // remainder in a
    uint64_t ar = 0;
    for (size_t i = a->size - bshift; i --> 0;) {
        ar = (ar << 32) | (uint64_t)a->radix[i + bshift];
        a->radix[i+bshift] = 0;
        uint64_t rq = ar / (uint64_t)bhead;
        ar = ar % (uint64_t)bhead;
        accum->radix[i] = rq;
    }
    a->radix[bshift] = ar;
    *r = big_normalize(a);
    *q = big_normalize(accum);
}

static void big_u64_add_at_accum_(BIG* accum, uint64_t b, size_t shift) {
    for(size_t i = shift; b && (i < accum->size); i++) {
        uint32_t ar = accum->radix[i];
        uint32_t br = LO_RADIX(b);
        accum->radix[i] = ar + br;
        b = HI_RADIX(b);
        if (ar > UINT32_MAX - br)
            b++;
    }
}

static void big_succ_at_accum_(BIG* a, size_t i) {
    while (i < a->size) {
        if (++a->radix[i]) break;
        i++;
    }
}

static void big_pred_at_accum_(BIG* a, size_t i) {
    while (i < a->size) {
        if (a->radix[i]--) break;
        i++;
    }
}

static void big_pos_u32_mul_sub_shift_accum_(BIG* a, INT b, uint32_t scale, size_t shift) {
    size_t bsize;
    uint32_t *bradix;
    uint32_t bradix_temp[2] = {0};
    if (IS_I63(b)) {
        int64_t ib = GET_I63(b);
        ASSERT(ib >= 0);
        bsize = 2;
        bradix = bradix_temp;
        bradix_temp[0] = LO_RADIX(ib);
        bradix_temp[1] = HI_RADIX(ib);
    } else {
        BIG* bb = GET_BIG(b);
        bsize = bb->size;
        bradix = bb->radix;
    }

    uint64_t borrow = 0;
    size_t i = 0;
    for (; i < bsize; i++) {
        ASSERT(i+shift < a->size);
        uint64_t br = (uint64_t)scale * (uint64_t)bradix[i];
        ASSERT(borrow <= UINT64_MAX - br);
        br += borrow;
        uint64_t ahi = (i+shift+1 < a->size) ? a->radix[i+shift+1] : 0;
        uint64_t alo = a->radix[i+shift];
        uint64_t ar = (ahi << 32) | alo;
        borrow = (ar < br) ? (uint64_t)0x100000000 : (uint64_t)0;
        ar -= br;
        a->radix[i+shift] = LO_RADIX(ar);
        if (i+shift+1 < a->size) {
            a->radix[i+shift+1] = HI_RADIX(ar);
        }
    }
    if (borrow) {
        big_pred_at_accum_(a, i+shift+1);
    }
}

static uint32_t big_get_u32_ (BIG* a, size_t i) {
    if (i >= a->size) {
        return SIGN_RADIX(a);
    } else {
        return a->radix[i];
    }
}
static uint64_t big_get_u64_ (BIG* a, size_t i) {
    uint64_t hi = (uint64_t)big_get_u32_(a,i+1);
    uint64_t lo = (uint64_t)big_get_u32_(a,i);
    return (hi << 32) | lo;
}

static int big_pos_ucmp_(BIG* a, INT b) {
    size_t bsize;
    uint32_t *bradix;
    uint32_t bradix_temp[2] = {0};
    if (IS_I63(b)) {
        int64_t ib = GET_I63(b);
        ASSERT(ib >= 0);
        bsize = 2;
        bradix = bradix_temp;
        bradix_temp[0] = LO_RADIX(ib);
        bradix_temp[1] = HI_RADIX(ib);
    } else {
        BIG* bb = GET_BIG(b);
        bsize = bb->size;
        bradix = bb->radix;
    }
    for(size_t i = a->size; i --> bsize;) {
        if (a->radix[i]) return -1;
    }
    for(size_t i = bsize; i --> a->size;) {
        if (bradix[i]) return 1;
    }
    for (size_t i = ((bsize < a->size) ? bsize : a->size); i --> 0;) {
        uint32_t ar = a->radix[i];
        uint32_t br = bradix[i];
        if (ar != br) {
            return (ar > br) - (ar < br);
        }
    }
    return 0;
}

static void big_pos_imperfect_udivmod(BIG* a, INT b, uint32_t bhead, size_t bshift, INT* q, INT* r) {
    ASSERT(bhead >= 1);
    ASSERT(a && (a->size > bshift));
    BIG* accum = big_alloc(a->size - bshift + 2); // quotient in accum
    accum->size = a->size - bshift;
    a = big_reserve(a, a->size); // remainder in a;
    for (size_t i = a->size - bshift; i --> 0;) {
        while (1) {
            uint64_t ar = big_get_u64_(a, i+bshift);
            uint64_t n = ar / (1 + (uint64_t)bhead);
            if (!n) break;
            big_u64_add_at_accum_(accum,n,i);
            big_pos_u32_mul_sub_shift_accum_(a,b,n,i);
        }
    }
    if (big_pos_ucmp_(a,b) >= 0) {
        big_pos_u32_mul_sub_shift_accum_(a,b,1,0);
        big_succ_at_accum_(accum,0);
        ASSERT(big_pos_ucmp_(a,b) < 0);
    }
    int_decref(b);
    *r = big_normalize(a);
    *q = big_normalize(accum);
}

static void big_pos_udivmod(BIG* a, INT b, INT *q, INT *r) {
    size_t bshift;
    uint32_t bhead;
    bool bperfect = true;
    if (IS_BIG(b)) {
        BIG* bb = GET_BIG(b);
        bshift = bb->size-1;
        bhead = bb->radix[bshift];
        if (bhead == 0) {
            ASSERT(bshift > 0);
            bshift--;
            bhead = bb->radix[bshift];
        }
        for (size_t i = 0; i < bshift; i++) {
            if (bb->radix[i]) { bperfect=false; break; }
        }
    } else {
        int64_t ib = GET_I63(b);
        ASSERT(ib > 1);
        uint64_t ub = (uint64_t)ib;
        if (ub <= (uint64_t)UINT32_MAX) {
            bshift = 0;
            bhead = ub;
            bperfect = true;
        } else {
            bshift = 1;
            bhead = HI_RADIX(ub);
            bperfect = LO_RADIX(ub) == 0;
        }
    }
    if (bshift >= a->size) {
        *q = WRAP_I63(0);
        *r = WRAP_BIG(a);
        int_decref(b);
    } else if (bperfect) {
        int_decref(b);
        big_u32_shift_udivmod(a, bhead, bshift, q, r);
    } else {
        big_pos_imperfect_udivmod(a, b, bhead, bshift, q, r);
    }
}

static INT int_divmod(INT a, INT b, INT *r) {
    EXPECT(!int_is_zero_(b), "Division by zero.");
    if (int_is_zero_(a)) { int_decref(b); *r = a; return a; }
    if (GET_I63(b) == 1) { *r = WRAP_I63(0); return a; }
    if (GET_I63(b) == -1) { *r = WRAP_I63(0); return int_negate(a); }
    if (IS_I63(a) || (GET_BIG(a)->size == 2)) {
        if (IS_I63(b) || GET_BIG(b)->size == 2) {
            int64_t ia = int_to_i64(a);
            int64_t ib = int_to_i64(b);
            ASSERT((ib != 0) && (ib != -1));
            int64_t iq = ia / ib;
            int64_t ir = ia % ib;
            if (ir && ((ia < 0) ^ (ib < 0))) {
                iq -= 1;
                ir += ib;
            }
            *r = i64_to_int(ir);
            return i64_to_int(iq);
        } else {
            BIG* bb = GET_BIG(b);
            bool an = int_is_negative_(a);
            bool bn = SIGN_RADIX(bb) != 0;
            if (an ^ bn) {
                *r = int_add(a, b);
                return WRAP_I63(-1);
            } else {
                big_decref(bb);
                *r = a;
                return WRAP_I63(0);
            }
        }
    } else {
        bool an = int_is_negative_(a);
        bool bn = int_is_negative_(b);
        INT ma = an ? int_negate(a) : a;
        INT mb = bn ? int_negate(b) : b;
        ASSERT(IS_BIG(ma));
        INT mq, mr;
        int_incref(mb);
        big_pos_udivmod(GET_BIG(ma),mb,&mq,&mr);
        if (an ^ bn) {
            if (int_is_zero_(mr)) {
                int_decref(mb);
                mq = int_negate(mq);
            } else {
                mr = int_sub(mb, mr);
                mq = int_negate(int_add(mq, WRAP_I63(1)));
            }
        } else {
            int_decref(mb);
        }
        if (bn) mr = int_negate(mr);
        *r = mr;
        return mq;
    }
}

static double int_to_f64(INT a) {
    if (IS_I63(a)) {
        return (double)GET_I63(a);
    } else {
        BIG* b = GET_BIG(a);
        ASSERT(b && b->size);
        bool negative = SIGN_BIT(b->radix[b->size-1]);
        double r = 0.0;
        for (size_t i = b->size; i --> 0;) {
            uint32_t br = b->radix[i];
            if (negative) br = ~br;
            r *= (double)0x100000000;
            r += (double)br;
        }
        if (negative) r = -(r + 1.0);
        big_decref(b);
        return r;
    }
}

static float int_to_f32(INT a) { return (float)int_to_f64(a); }

static bool big_negative_(BIG* a) {
    ASSERT(a && (a->size > 0));
    return SIGN_BIT(a->radix[a->size-1]);
}

static int big_cmp_(BIG* a, BIG* b) {
    ASSERT(a); ASSERT(b);
    bool an = big_negative_(a);
    bool bn = big_negative_(b);
    if (an && !bn) return -1;
    if (!an && bn) return  1;
    if (a->size != b->size) {
        int i = (a->size < b->size) ? -1 : +1;
        return an ? -i : i;
    }
    for (size_t i = a->size; i --> 0;) {
        int64_t ar = a->radix[i];
        int64_t br = b->radix[i];
        if (ar != br) {
            return (ar < br) ? -1 : +1;
            // negative doesn't matter here, since they are both either negative or positive.
            // think of comparing these as if adding a large constant to make them both non negative.
        }
    }
    return 0;
}

static int int_cmp(INT a, INT b) {
    if (IS_I63(a)) {
        if (IS_I63(b)) {
            int64_t ia = GET_I63(a);
            int64_t ib = GET_I63(b);
            if (ia < ib) return -1;
            if (ia > ib) return +1;
            return 0;
        } else {
            bool n = big_negative_(GET_BIG(b));
            big_decref(GET_BIG(b));
            return n ? 1 : -1;
        }
    } else {
        if (IS_I63(b)) {
            bool n = big_negative_(GET_BIG(a));
            big_decref(GET_BIG(a));
            return n ? -1 : 1;
        } else {
            int i = big_cmp_(GET_BIG(a), GET_BIG(b));
            big_decref(GET_BIG(a));
            big_decref(GET_BIG(b));
            return i;
        }
    }
}

static bool int_eq(INT a, INT b) { return int_cmp(a,b) == 0; }
static bool int_lt(INT a, INT b) { return int_cmp(a,b) <  0; }
static bool int_le(INT a, INT b) { return int_cmp(a,b) <= 0; }
static bool int_gt(INT a, INT b) { return int_cmp(a,b) >  0; }
static bool int_ge(INT a, INT b) { return int_cmp(a,b) >= 0; }
static bool int_ne(INT a, INT b) { return int_cmp(a,b) != 0; }


static STR* i64_to_str(int64_t);
static STR* u64_to_str(uint64_t);
static STR* int_to_str(INT a) {
    if (IS_I63(a) || (GET_BIG(a)->size == 2)) {
        return i64_to_str(int_to_i64(a));
    } else if ((GET_BIG(a)->size == 3) && (GET_BIG(a)->radix[2] == 0)) {
        return u64_to_str(int_to_u64(a));
    } else {
        STR *s = str_alloc(GET_BIG(a)->size * 10);
        if (SIGN_RADIX(GET_BIG(a))) {
            a = int_negate(a);
            ASSERT(IS_BIG(a));
            s = str_pushn(s, "-", 1);
        }
        s = str_pushn(s,"0x",2);
        BIG* b = GET_BIG(a);
        size_t i = b->radix[b->size-1] ? b->size : b->size-1;
        while (i --> 0) {
            uint32_t r = b->radix[i];
            char c[10] = "00000000_";
            int j = 8;
            while (j --> 0) {
                uint32_t h = r & 0xF;
                c[j] = (h > 9) ? h + 'A' - 10 : h + '0';
                r = r >> 4;
            }
            s = str_pushn(s,c,8+(i>0));
        }
        big_decref(b);
        return s;
    }
}

static int64_t i64_add (int64_t a, int64_t b) {
    EXPECT(((b >= 0) && (a <= INT64_MAX - b))
        || ((b <  0) && (a >= INT64_MIN - b)),
        "overflow during integer addition");
    return a + b;
}

static int64_t i64_sub (int64_t a, int64_t b) {
    EXPECT(((b >= 0) && (a >= INT64_MIN + b))
        || ((b <  0) && (a <= INT64_MAX + b)),
        "overflow during integer subtraction");
    return a - b;
}

static int64_t i64_mul (int64_t a, int64_t b) {
    EXPECT((a == 0) || (b == 0) ||
        ((a > 0) && (b > 0) && (a <= INT64_MAX/b)) ||
        ((a > 0) && (b < 0) && (b >= INT64_MIN/a)) ||
        ((a < 0) && (b > 0) && (a >= INT64_MIN/b)) ||
        ((a < 0) && (b < 0) && (a >= INT64_MAX/b)),
        "overflow during integer multiplication"
    );
    return a * b;
}

static int64_t i64_div (int64_t a, int64_t b) {
    EXPECT(b != 0, "divide by zero");
    EXPECT(!((b == -1) && (a == INT64_MIN)), "overflow during integer division");
    int64_t r = a % b;
    int64_t q = a / b;
    if (((a < 0) ^ (b < 0)) && r) q--;
    return q;
}

static int64_t i64_mod (int64_t a, int64_t b) {
    EXPECT(b != 0, "divide by zero");
    EXPECT(!((b == -1) && (a == INT64_MIN)), "overflow during integer division");
    int64_t r = a % b;
    int64_t q = a / b;
    if (((a < 0) ^ (b < 0)) && r) r += b;
    return r;
}

static uint64_t u64_div (uint64_t a, uint64_t b) {
    EXPECT(b != 0, "divide by zero");
    return a / b;
}

static uint64_t u64_mod (uint64_t a, uint64_t b) {
    EXPECT(b != 0, "divide by zero");
    return a % b;
}

static uint64_t u64_shl (uint64_t a, uint64_t b) {
    if (b >= 64) return 0;
    return (a << b);
}

static uint64_t u64_shr (uint64_t a, uint64_t b) {
    if (b >= 64) return 0;
    return (a >> b);
}

static STR* f32_to_str (float d) {
    char result[DBL_DIG+32] = {0};
    int len = sprintf(result, "%.*g", DBL_DIG, d);
    return str_make(result, len);
}

static STR* f64_to_str (double d) {
    char result[DBL_DIG+32] = {0};
    int len = sprintf(result, "%.*g", DBL_DIG, d);
    return str_make(result, len);
}

void u64_repr(uint64_t x, char* c, size_t m, char** out_ptr, size_t *out_size) {
    ASSERT(m >= 4);
    memset(c, 0, m);
    char* p = c+(m-1);
    size_t n = 0;
    do {
        *--p = '0' + (x % 10);
        x /= 10;
        n++;
    } while (x && (p > c));
    *out_ptr = p;
    *out_size = n;
}

void i64_repr(int64_t y, char* c, size_t m, char** out_ptr, size_t *out_size) {
    ASSERT(m >= 5);
    c[0] = 0;
    char* p;
    size_t n;
    uint64_t x;
    if (y < 0) {
        if (y == INT64_MIN) {
            x = 1+(uint64_t)INT64_MAX;
        } else {
            x = (uint64_t)-y;
        }
    } else {
        x = (uint64_t)y;
    }
    u64_repr(x,c+1,m-1,&p,&n);
    if (y<0) { *--p = '-'; n++; }
    *out_ptr = p;
    *out_size = n;
}

void i64_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI64(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void i32_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI32(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void i16_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI16(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void  i8_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI8(v),  c, sizeof(c), &p, &n); write(fd, p, n); }
void u64_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU64(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void u32_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU32(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void u16_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU16(v), c, sizeof(c), &p, &n); write(fd, p, n); }
void  u8_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU8(v),  c, sizeof(c), &p, &n); write(fd, p, n); }

void bool_trace_(VAL v, int fd) { if (VBOOL(v)) { write(fd, "True", 4); } else { write(fd, "False", 5); } }

void int_trace_(VAL v, int fd) {
    ASSERT(IS_INT(v));
    INT x = VINT(v);
    incref(v);
    STR* s = int_to_str(x);
    write(fd, s->data, s->size);
    decref(MKSTR(s));
}

void f32_trace_(VAL v, int fd) { (void)v; write(fd, "<F32>", 5); }
void f64_trace_(VAL v, int fd) { (void)v; write(fd, "<F64>", 5); }
void ptr_trace_(VAL v, int fd) { (void)v; write(fd, "<Ptr>", 5); }

static STR* u64_to_str (uint64_t x) {
    bool cache = (x <= 255);
    static STR* scache[256] = {0};
    if (cache && scache[x]) {
        STR* s = scache[x];
        incref(MKSTR(s));
        return s;
    } else {
        char c[32];
        char* p; size_t n;
        u64_repr(x,c,sizeof(c),&p,&n);
        STR* s = str_make(p,n);
        if (cache) {
            scache[x] = s;
            incref(MKSTR(s));
        }
        return s;
    }
}

static STR* i64_to_str (int64_t x) {
    bool cache = (-128 <= x) && (x < 128);
    static STR* scache[256] = {0};
    if (cache && scache[x+128]) {
        STR* s = scache[x+128];
        incref(MKSTR(s));
        return s;
    } else {
        char c[32];
        char* p; size_t n;
        i64_repr(x,c,sizeof(c),&p,&n);
        STR* s = str_make(p,n);
        if (cache) {
            scache[x+128] = s;
            incref(MKSTR(s));
        }
        return s;
    }
}

void str_trace_(VAL v, int fd) {
    STR* str = VSTR(v);
    ASSERT(str->size <= SIZE_MAX);
    write(fd, "\"", 1);
    USIZE i0 = 0;
    char xb[4]={'\\','x'};
    USIZE i;
    for (i = 0; i < str->size; i++) {
        const char* c = NULL; size_t n=0;
        uint8_t v=str->data[i];
        switch(v) {
            case '\n': c="\\n"; n=2; break;
            case '\r': c="\\r"; n=2; break;
            case '\t': c="\\t"; n=2; break;
            case '\\': c="\\\\"; n=2; break;
            case '\"': c="\\\""; n=2; break;
            default:
                if (!((' ' <= v) && (v < 0x7F))) {
                    xb[2] = '0' + (v&15) + ('A'-'9'-1)*((v&15) > 9);
                    xb[3] = '0' + (v/16) + ('A'-'9'-1)*((v/16) > 9);
                    c=xb; n=4;
                }
        }
        if ((n > 0) && (i0 < i)) {
            write(fd, str->data+i0, (size_t)(i-i0));
            i0=i+1;
        }
        write(fd, c, n);
    }
    if (i0 < i) write(fd, str->data+i0, (size_t)(i-i0));
    write(fd, "\"", 1);
}

static void value_trace_(VAL v, int fd) {
    if (VTYPE(v) && VTYPE(v)->trace_) {
        VTYPE(v)->trace_(v,fd);
    } else if (VTYPE(v)) {
        const char* name = VTYPE(v)->name;
        write(fd, "<", 1);
        write(fd, name, strlen(name));
        write(fd, ">", 1);
    } else {
        write(fd, "<NULL>", 6);
    }
}

static void tup_trace_(VAL v, int fd) {
    TUPLEN len = VTUPLEN(v);
    TUP* tup = VTUP(v);
    if (len == 0) {
        write(fd, "[]", 2);
    } else {
        write(fd, "[ ", 2);
        for(TUPLEN i = 0; i < len; i++) {
            if (i > 0) write(fd, " ", 1);
            value_trace_(tup->cells[i], fd);
        }
        write(fd, " ]", 2);
    }
}

static void trace_stack (void) {
    TRACE("??");
    for (long i = STACK_MAX-1; i >= (long)stack_counter; i--) {
        TRACE(" ");
        value_trace_(stack[i], 2);
    }
    TRACE("\n");
}

static void trace_rstack (void) {
    #if MIRTH_DEBUG
        TRACE("call stack:\n");
        for (USIZE i = fstack_counter; i --> 1;) {
            TRACE("    ");
            if (fstack[i-1].atom && *fstack[i-1].atom && strcmp(fstack[i-1].atom, fstack[i].word)) {
                TRACE(fstack[i-1].atom);
                TRACE(" -> ");
            }
            TRACE(fstack[i].word);
            TRACE(" at ");
            TRACE(fstack[i-1].path);
            TRACE(":");
            i64_trace_(MKI64(fstack[i-1].line), 2);
            TRACE(":");
            i64_trace_(MKI64(fstack[i-1].col), 2);
            TRACE("\n");
        }
    #endif
}

static void do_panic(STR* m) {
    if (m) {
        size_t n = (m->size < SIZE_MAX) ? (size_t)(m->size) : SIZE_MAX;
        write(2, m->data, n);
        TRACE("\n");
    } else {
        TRACE("panic!\n");
    }
    trace_stack();
    trace_rstack();
    exit(1);
}

#if defined(MIRTH_WINDOWS)
#define RUNNING_OS 1
#elif defined(MIRTH_LINUX)
#define RUNNING_OS 2
#elif defined(MIRTH_MACOS)
#define RUNNING_OS 3
#else
#define RUNNING_OS 0
#endif

#if defined(MIRTH_I386)
#define RUNNING_ARCH 1
#elif defined(MIRTH_AMD64)
#define RUNNING_ARCH 2
#elif defined(MIRTH_ARM64)
#define RUNNING_ARCH 3
#else
#define RUNNING_ARCH 0
#endif

static void* ptr_alloc (uint64_t n) {
    EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), "invalid size in prim-ptr-alloc");
    void* p = malloc((size_t)n);
    EXPECT(p, "failed to allocate in prim-ptr-alloc");
    return p;
}

static void* ptr_realloc (void* p, uint64_t n) {
    EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), "invalid size in prim-ptr-realloc");
    void* p2 = realloc(p, (size_t)n);
    EXPECT(p2, "failed to reallocate in prim-ptr-realloc");
    return p2;
}

static void ptr_copy (void* src, uint64_t len, void* dst) {
    if (len > 0) {
        EXPECT(len <= SIZE_MAX, "invalid size in prim-ptr-copy");
        EXPECT(src && dst, "invalid pointer in prim-ptr-copy");
        memcpy(dst, src, (size_t)len);
    }
}

static void ptr_fill (uint8_t val, uint64_t len, void* dst) {
    if (len > 0) {
        EXPECT(len <= SIZE_MAX, "invalid size in prim-ptr-fill");
        EXPECT(dst, "invalid pointer in prim-ptr-fill");
        memset(dst, (int)val, (size_t)len);
    }
}

static void* str_base (STR* s) {
    EXPECT(s && (s->refs > 1), "invalid string for prim-str-base");
    s->refs--;
    return s->data;
}

static uint64_t str_size (STR* s) {
    EXPECT(s, "invalid string for prim-str-size");
    uint64_t n = s->size;
    decref(MKSTR(s));
    return n;
}

static VAL mut_get (void* mut) {
    EXPECT(mut, "invalid pointer in prim-mut-get");
    VAL v = *(VAL*)mut;
    EXPECT(v.tag, "tried to read uninitialized value");
    incref(v);
    return v;
}

static void mut_set (VAL newval, void* mut) {
    EXPECT(mut, "invalid pointer in prim-mut-set");
    VAL oldval = *(VAL*)mut;
    *(VAL*)mut = newval;
    if (oldval.tag) {
        decref(oldval);
    }
}

static bool mut_is_set (void* mut) {
    EXPECT(mut, "invalid pointer in prim-mut-is-set");
    VAL val = *(VAL*)mut;
    return (val.tag != 0);
}

typedef struct FIELD { size_t num_blocks; VAL** blocks; } FIELD;

static VAL* field_mut(FIELD* field, uint64_t index) {
    ASSERT(field);
    size_t block_size = 1024;
    size_t block_i = index / block_size;
    size_t block_j = index % block_size;
    if (block_i >= field->num_blocks) {
        ASSERT(field->num_blocks <= SIZE_MAX - 4 - block_i);
        size_t new_num_blocks = field->num_blocks + block_i + 4;
        VAL** new_blocks = realloc(field->blocks, sizeof(VAL*) * new_num_blocks);
        ASSERT(new_blocks);
        memset(new_blocks + field->num_blocks, 0, sizeof(VAL*) * (new_num_blocks - field->num_blocks));
        field->blocks = new_blocks;
        field->num_blocks = new_num_blocks;
    }
    if(!field->blocks[block_i]) {
        field->blocks[block_i] = calloc(block_size, sizeof(VAL));
        ASSERT(field->blocks[block_i]);
    }
    return field->blocks[block_i] + block_j;
}

/* GENERATED C99 */

static STACK lbl_packageZ_searchZ_paths = {0};
static STACK lbl_inputZ_file = {0};
static STACK lbl_packages = {0};
static STACK lbl_entryZ_point = {0};
static STACK lbl_outputZ_file = {0};
static STACK lbl_outputZ_path = {0};
static STACK lbl_emitZ_debugZ_info = {0};
static STACK lbl_ptr = {0};
static STACK lbl_offset = {0};
static STACK lbl_sizze = {0};
static STACK lbl_tail = {0};
static STACK lbl_head = {0};
static STACK lbl_result = {0};
static STACK lbl_candidate = {0};
static STACK lbl_reversed = {0};
static STACK lbl_hi = {0};
static STACK lbl_lo = {0};
static STACK lbl_escapeZ_hex = {0};
static STACK lbl_base = {0};
static STACK lbl_oldZ_sizze = {0};
static STACK lbl_endix = {0};
static STACK lbl_index = {0};
static STACK lbl_numZ_digits = {0};
static STACK lbl_int = {0};
static STACK lbl_nat = {0};
static STACK lbl_i64 = {0};
static STACK lbl_u64 = {0};
static STACK lbl_u32 = {0};
static STACK lbl_f32 = {0};
static STACK lbl_f64 = {0};
static STACK lbl_path = {0};
static STACK lbl_mode = {0};
static STACK lbl_flags = {0};
static STACK lbl_str = {0};
static STACK lbl_name = {0};
static STACK lbl_flagZ_type = {0};
static STACK lbl_argZ_doc = {0};
static STACK lbl_doc = {0};
static STACK lbl_group = {0};
static STACK lbl_options = {0};
static STACK lbl_parser = {0};
static STACK lbl_argsZ_doc = {0};
static STACK lbl_colZ_offset = {0};
static STACK lbl_argumentZ_parser = {0};
static STACK lbl_state = {0};
static STACK lbl_docZ_length = {0};
static STACK lbl_oo = {0};
static STACK lbl_ZPlusfd = {0};
static STACK lbl_owned = {0};
static STACK lbl_length = {0};
static STACK lbl_ZPlusbuffer = {0};
static STACK lbl_ZPlusfile = {0};
static STACK lbl_argv = {0};
static STACK lbl_programZ_name = {0};
static STACK lbl_argvZ_info = {0};
static STACK lbl_parsingZAsk = {0};
static STACK lbl_option = {0};
static STACK lbl_optionZ_option = {0};
static STACK lbl_arg = {0};
static STACK lbl_arguments = {0};
static STACK lbl_positionalZ_index = {0};
static STACK lbl_longestZ_argZ_length = {0};
static STACK lbl_error = {0};
static STACK lbl_std = {0};
static STACK lbl_prim = {0};
static STACK lbl_cchar = {0};
static STACK lbl_mkZ_cchar = {0};
static STACK lbl_cichar = {0};
static STACK lbl_mkZ_cichar = {0};
static STACK lbl_cshort = {0};
static STACK lbl_mkZ_cshort = {0};
static STACK lbl_cint = {0};
static STACK lbl_mkZ_cint = {0};
static STACK lbl_clong = {0};
static STACK lbl_mkZ_clong = {0};
static STACK lbl_clonglong = {0};
static STACK lbl_mkZ_clonglong = {0};
static STACK lbl_cisizze = {0};
static STACK lbl_mkZ_cisizze = {0};
static STACK lbl_cintptr = {0};
static STACK lbl_mkZ_cintptr = {0};
static STACK lbl_cuchar = {0};
static STACK lbl_mkZ_cuchar = {0};
static STACK lbl_cushort = {0};
static STACK lbl_mkZ_cushort = {0};
static STACK lbl_cuint = {0};
static STACK lbl_mkZ_cuint = {0};
static STACK lbl_culong = {0};
static STACK lbl_mkZ_culong = {0};
static STACK lbl_culonglong = {0};
static STACK lbl_mkZ_culonglong = {0};
static STACK lbl_cusizze = {0};
static STACK lbl_mkZ_cusizze = {0};
static STACK lbl_cuintptr = {0};
static STACK lbl_mkZ_cuintptr = {0};
static STACK lbl_cptr = {0};
static STACK lbl_mkZ_cptr = {0};
static STACK lbl_cconst = {0};
static STACK lbl_mkZ_cconst = {0};
static STACK lbl_crestrict = {0};
static STACK lbl_mkZ_crestrict = {0};
static STACK lbl_cvolatile = {0};
static STACK lbl_mkZ_cvolatile = {0};
static STACK lbl_cvoid = {0};
static STACK lbl_mkZ_cvoid = {0};
static STACK lbl_numZ_errors = {0};
static STACK lbl_numZ_warnings = {0};
static STACK lbl_preferZ_inlineZ_defs = {0};
static STACK lbl_builtin = {0};
static STACK lbl_mirthZ_baseZ_path = {0};
static STACK lbl_ZPlusdiagnostics = {0};
static STACK lbl_ZPluspropstack = {0};
static STACK lbl_errorZ_token = {0};
static STACK lbl_definingZ_namespace = {0};
static STACK lbl_lexicalZ_state = {0};
static STACK lbl_ZPlusnamehashmap = {0};
static STACK lbl_severity = {0};
static STACK lbl_message = {0};
static STACK lbl_location = {0};
static STACK lbl_module = {0};
static STACK lbl_row = {0};
static STACK lbl_col = {0};
static STACK lbl_prop = {0};
static STACK lbl_label = {0};
static STACK lbl_arity = {0};
static STACK lbl_namespace = {0};
static STACK lbl_hasZ_paren = {0};
static STACK lbl_target = {0};
static STACK lbl_nameZDivdname = {0};
static STACK lbl_alias = {0};
static STACK lbl_token = {0};
static STACK lbl_sort = {0};
static STACK lbl_reportZ_ambiguousZ_asZ_warning = {0};
static STACK lbl_ignoreZ_lastZ_name = {0};
static STACK lbl_start = {0};
static STACK lbl_end = {0};
static STACK lbl_anchor = {0};
static STACK lbl_dst = {0};
static STACK lbl_src = {0};
static STACK lbl_a = {0};
static STACK lbl_b = {0};
static STACK lbl_x = {0};
static STACK lbl_c = {0};
static STACK lbl_d = {0};
static STACK lbl_e = {0};
static STACK lbl_args = {0};
static STACK lbl_data = {0};
static STACK lbl_field = {0};
static STACK lbl_qname = {0};
static STACK lbl_type = {0};
static STACK lbl_cod = {0};
static STACK lbl_dom = {0};
static STACK lbl_labels = {0};
static STACK lbl_values = {0};
static STACK lbl_resources = {0};
static STACK lbl_tycons = {0};
static STACK lbl_parts = {0};
static STACK lbl_baseZAsk = {0};
static STACK lbl_arrowtype = {0};
static STACK lbl_var = {0};
static STACK lbl_key = {0};
static STACK lbl_value = {0};
static STACK lbl_subst = {0};
static STACK lbl_pairs = {0};
static STACK lbl_ZPlusa = {0};
static STACK lbl_arrow = {0};
static STACK lbl_block = {0};
static STACK lbl_tag = {0};
static STACK lbl_input = {0};
static STACK lbl_ctype = {0};
static STACK lbl_tags = {0};
static STACK lbl_params = {0};
static STACK lbl_inputs = {0};
static STACK lbl_underlying = {0};
static STACK lbl_tagname = {0};
static STACK lbl_dataname = {0};
static STACK lbl_typeZDivresource = {0};
static STACK lbl_owner = {0};
static STACK lbl_body = {0};
static STACK lbl_sigZAsk = {0};
static STACK lbl_self = {0};
static STACK lbl_buf = {0};
static STACK lbl_va = {0};
static STACK lbl_f = {0};
static STACK lbl_fields = {0};
static STACK lbl_decls = {0};
static STACK lbl_table = {0};
static STACK lbl_valueZ_type = {0};
static STACK lbl_default = {0};
static STACK lbl_indexZ_type = {0};
static STACK lbl_sizzearg = {0};
static STACK lbl_buffer = {0};
static STACK lbl_ctx = {0};
static STACK lbl_allowZ_typeZ_holes = {0};
static STACK lbl_allowZ_implicitZ_typeZ_vars = {0};
static STACK lbl_candidates = {0};
static STACK lbl_rejected = {0};
static STACK lbl_namespaces = {0};
static STACK lbl_separator = {0};
static STACK lbl_accum = {0};
static STACK lbl_ys = {0};
static STACK lbl_y = {0};
static STACK lbl_xs = {0};
static STACK lbl_home = {0};
static STACK lbl_op = {0};
static STACK lbl_outerZ_ctx = {0};
static STACK lbl_cases = {0};
static STACK lbl_ZPlusab = {0};
static STACK lbl_tokenZ_start = {0};
static STACK lbl_tokenZ_end = {0};
static STACK lbl_atoms = {0};
static STACK lbl_word = {0};
static STACK lbl_ZPluspat = {0};
static STACK lbl_innerZ_ctx = {0};
static STACK lbl_saved = {0};
static STACK lbl_mid = {0};
static STACK lbl_pattern = {0};
static STACK lbl_tok = {0};
static STACK lbl_package = {0};
static STACK lbl_imports = {0};
static STACK lbl_header = {0};
static STACK lbl_valueZAsk = {0};
static STACK lbl_syn = {0};
static STACK lbl_dat = {0};
static STACK lbl_untag = {0};
static STACK lbl_lbl = {0};
static STACK lbl_lblz_get = {0};
static STACK lbl_lblz_set = {0};
static STACK lbl_lblz_lens = {0};
static STACK lbl_lblty = {0};
static STACK lbl_datty = {0};
static STACK lbl_sx = {0};
static STACK lbl_sy = {0};
static STACK lbl_code = {0};
static STACK lbl_symbol = {0};
static STACK lbl_sig = {0};
static STACK lbl_extblock = {0};
static STACK lbl_external = {0};
static STACK lbl_ZPlusmirth = {0};
static STACK lbl_contents = {0};
static STACK lbl_lexerZ_module = {0};
static STACK lbl_source = {0};
static STACK lbl_lexerZ_source = {0};
static STACK lbl_lexerZ_offset = {0};
static STACK lbl_lexerZ_row = {0};
static STACK lbl_lexerZ_col = {0};
static STACK lbl_lexerZ_doc = {0};
static STACK lbl_lexerZ_stack = {0};
static STACK lbl_lexerZ_firstZ_token = {0};
static STACK lbl_lexerZ_lastZ_token = {0};
static STACK lbl_suffix = {0};
static STACK lbl_macro = {0};
static STACK lbl_checklist = {0};
static STACK lbl_w = {0};
static STACK lbl_wordZTick = {0};
static STACK lbl_spword = {0};
static STACK lbl_spkey = {0};
static STACK lbl_spmap = {0};
static STACK lbl_depth = {0};
static STACK lbl_freshZ_counter = {0};
static STACK lbl_putZ_enabled = {0};
static STACK lbl_ZPlusneeds = {0};
static STACK lbl_ZPlusoutput = {0};
static STACK lbl_pfx = {0};
static STACK lbl_sfx = {0};
static STACK lbl_tuplen = {0};
static STACK lbl_ZPlustup = {0};
static STACK lbl_tup = {0};
static STACK lbl_i = {0};
static STACK lbl_fieldty = {0};
static STACK lbl_ZPlustuplevar = {0};
static STACK lbl_tuplevar = {0};
static STACK lbl_fieldrepr = {0};
static STACK lbl_fieldval = {0};
static STACK lbl_tupleval = {0};
static STACK lbl_ext = {0};
static STACK lbl_cty = {0};
static STACK lbl_outty = {0};
static STACK lbl_argZ_index = {0};
static STACK lbl_expr = {0};
static STACK lbl_argZ_name = {0};
static STACK lbl_valueZ_name = {0};
static STACK lbl_argZ_repr = {0};
static STACK lbl_valueZ_repr = {0};
static STACK lbl_argZ_mode = {0};
static STACK lbl_argZ_source = {0};
static STACK lbl_mustZ_flush = {0};
static STACK lbl_cname = {0};
static STACK lbl_inZ_params = {0};
static STACK lbl_outZ_paramsZ_2 = {0};
static STACK lbl_returnZ_param = {0};
static STACK lbl_outZ_paramsZ_1 = {0};
static STACK lbl_doesntZ_return = {0};
static STACK lbl_api = {0};
static STACK lbl_poppedZ_inputs = {0};
static STACK lbl_reservedZ_outputsZ_1 = {0};
static STACK lbl_reservedZ_outputsZ_2 = {0};
static STACK lbl_sep = {0};
static STACK lbl_reservedZ_return = {0};
static STACK lbl_reachable = {0};
static STACK lbl_env = {0};
static STACK lbl_codZ_parts = {0};
static STACK lbl_codZ_base = {0};
static STACK lbl_domZ_parts = {0};
static STACK lbl_domZ_base = {0};
static STACK lbl_ZPlusscrutinee = {0};
static STACK lbl_rad = {0};
static STACK lbl_ZPlusstr = {0};
static STACK lbl_avoidZ_hexdigit = {0};
static STACK lbl_resourceZ_repr = {0};
static STACK lbl_resourceZ_name = {0};
static STACK lbl_ZPlusc99 = {0};
static STACK lbl_ZPlusstack = {0};
static STACK lbl_ZPlusx = {0};
static STACK lbl_branchZ_splitZ_target = {0};
static STACK lbl_reachableZ_in = {0};
static STACK lbl_reachableZ_out = {0};
static STACK lbl_varZ_var = {0};
static STACK lbl_ZPlusb = {0};
static STACK lbl_ZPlusdipped = {0};
static STACK lbl_ZPluscond = {0};
static STACK lbl_ZPlusknot = {0};
static STACK lbl_ZPlusdst = {0};
static STACK lbl_ZPluslen = {0};
static STACK lbl_ZPlussrc = {0};
static STACK lbl_ZPlusval = {0};
static STACK lbl_outZ_type = {0};
static STACK lbl_argsZ_swapped = {0};
static STACK lbl_arg2Z_type = {0};
static STACK lbl_arg1Z_type = {0};
static STACK lbl_arg1 = {0};
static STACK lbl_arg2 = {0};
static STACK lbl_argZ_type = {0};
static STACK lbl_ZPlusclosure = {0};
static STACK lbl_ZPlusindex = {0};
static STACK lbl_stack = {0};
static STACK lbl_ZPlusset = {0};
static FIELD mfld_mirth_label_Label_ZTildename = {0};
static FIELD mfld_mirth_var_Var_ZTildename = {0};
static FIELD mfld_mirth_var_Var_ZTildetype = {0};
static FIELD mfld_mirth_var_Var_ZTildeautoZ_runZAsk = {0};
static FIELD mfld_mirth_external_External_ZTildedoc = {0};
static FIELD mfld_mirth_external_External_ZTildename = {0};
static FIELD mfld_mirth_external_External_ZTildearity = {0};
static FIELD mfld_mirth_external_External_ZTildeqname = {0};
static FIELD mfld_mirth_external_External_ZTildesymbol = {0};
static FIELD mfld_mirth_external_External_ZTildehead = {0};
static FIELD mfld_mirth_external_External_ZTildesig = {0};
static FIELD mfld_mirth_external_External_ZTildectxZ_type = {0};
static FIELD mfld_mirth_external_External_ZTildectype = {0};
static FIELD mfld_mirth_external_ExternalBlock_ZTildedoc = {0};
static FIELD mfld_mirth_external_ExternalBlock_ZTildetoken = {0};
static FIELD mfld_mirth_external_ExternalBlock_ZTildeparts = {0};
static FIELD mfld_mirth_word_Word_ZTildedoc = {0};
static FIELD mfld_mirth_word_Word_ZTildename = {0};
static FIELD mfld_mirth_word_Word_ZTildearity = {0};
static FIELD mfld_mirth_word_Word_ZTildeqname = {0};
static FIELD mfld_mirth_word_Word_ZTildehead = {0};
static FIELD mfld_mirth_word_Word_ZTildesigZAsk = {0};
static FIELD mfld_mirth_word_Word_ZTildebody = {0};
static FIELD mfld_mirth_word_Word_ZTildectxZ_type = {0};
static FIELD mfld_mirth_word_Word_ZTildeparams = {0};
static FIELD mfld_mirth_word_Word_ZTildearrow = {0};
static FIELD mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk = {0};
static FIELD mfld_mirth_word_Word_ZTildecname = {0};
static FIELD mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk = {0};
static FIELD mfld_mirth_word_Word_ZTildenumZ_blocks = {0};
static FIELD mfld_mirth_typedef_TypeDef_ZTildedoc = {0};
static FIELD mfld_mirth_typedef_TypeDef_ZTildeheadZAsk = {0};
static FIELD mfld_mirth_typedef_TypeDef_ZTildename = {0};
static FIELD mfld_mirth_typedef_TypeDef_ZTildeqname = {0};
static FIELD mfld_mirth_typedef_TypeDef_ZTildetarget = {0};
static FIELD mfld_mirth_package_Package_ZTildename = {0};
static FIELD mfld_mirth_package_Package_ZTildepath = {0};
static FIELD mfld_mirth_macro_Macro_ZTildename = {0};
static FIELD mfld_mirth_macro_Macro_ZTildeqname = {0};
static FIELD mfld_mirth_macro_Macro_ZTildearity = {0};
static FIELD mfld_mirth_macro_Macro_ZTildehead = {0};
static FIELD mfld_mirth_macro_Macro_ZTildeaction = {0};
static FIELD mfld_mirth_data_Tag_ZTildeoutputZ_type = {0};
static FIELD mfld_mirth_buffer_Buffer_ZTildedoc = {0};
static FIELD mfld_mirth_buffer_Buffer_ZTildehead = {0};
static FIELD mfld_mirth_buffer_Buffer_ZTildesizze = {0};
static FIELD mfld_mirth_buffer_Buffer_ZTildename = {0};
static FIELD mfld_mirth_buffer_Buffer_ZTildeqname = {0};
static FIELD mfld_mirth_table_Table_ZTildedoc = {0};
static FIELD mfld_mirth_table_Table_ZTildehead = {0};
static FIELD mfld_mirth_table_Table_ZTildename = {0};
static FIELD mfld_mirth_table_Table_ZTildeqname = {0};
static FIELD mfld_mirth_table_Table_ZTildeowner = {0};
static FIELD mfld_mirth_table_Table_ZTildenumZ_buffer = {0};
static FIELD mfld_mirth_table_Table_ZTildeallocZ_word = {0};
static FIELD mfld_mirth_table_Table_ZTildeinlineZ_fields = {0};
static FIELD mfld_mirth_table_Field_ZTildedoc = {0};
static FIELD mfld_mirth_table_Field_ZTildehead = {0};
static FIELD mfld_mirth_table_Field_ZTildedefault = {0};
static FIELD mfld_mirth_table_Field_ZTildename = {0};
static FIELD mfld_mirth_table_Field_ZTildeqname = {0};
static FIELD mfld_mirth_table_Field_ZTildeowner = {0};
static FIELD mfld_mirth_table_Field_ZTildeindexZ_type = {0};
static FIELD mfld_mirth_table_Field_ZTildevalueZ_type = {0};
static FIELD mfld_mirth_data_Data_ZTildeheadZAsk = {0};
static FIELD mfld_mirth_data_Data_ZTildeqname = {0};
static FIELD mfld_mirth_data_Data_ZTildedoc = {0};
static FIELD mfld_mirth_data_Data_ZTildename = {0};
static FIELD mfld_mirth_data_Data_ZTildearity = {0};
static FIELD mfld_mirth_data_Data_ZTildeparams = {0};
static FIELD mfld_mirth_data_Data_ZTildetags = {0};
static FIELD mfld_mirth_data_Data_ZTildectypeZAsk = {0};
static FIELD mfld_mirth_data_Data_ZTildelastZ_tagZ_value = {0};
static FIELD mfld_mirth_data_Data_ZTildeisZ_unitZAsk = {0};
static FIELD mfld_mirth_data_Data_ZTildeisZ_enumZAsk = {0};
static FIELD mfld_mirth_data_Data_ZTildeisZ_transparentZAsk = {0};
static FIELD mfld_mirth_data_Data_ZTildesemiZ_transparentZAsk = {0};
static FIELD mfld_mirth_data_Data_ZTildeisZ_resourceZAsk = {0};
static FIELD mfld_mirth_data_Tag_ZTildedoc = {0};
static FIELD mfld_mirth_data_Tag_ZTildedata = {0};
static FIELD mfld_mirth_data_Tag_ZTildeqname = {0};
static FIELD mfld_mirth_data_Tag_ZTildevalue = {0};
static FIELD mfld_mirth_data_Tag_ZTildelabelZ_inputs = {0};
static FIELD mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs = {0};
static FIELD mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs = {0};
static FIELD mfld_mirth_data_Tag_ZTildesigZAsk = {0};
static FIELD mfld_mirth_data_Tag_ZTildectxZ_type = {0};
static FIELD mfld_mirth_data_Tag_ZTildeuntag = {0};
static FIELD mfld_mirth_data_Tag_ZTildenumZ_labelZ_inputs = {0};
static FIELD mfld_mirth_data_Tag_ZTildeinputs = {0};
static FIELD mfld_mirth_data_Tag_ZTildefields = {0};
static FIELD mfld_mirth_arrow_Block_ZTildectx = {0};
static FIELD mfld_mirth_arrow_Block_ZTildetoken = {0};
static FIELD mfld_mirth_arrow_Block_ZTildehome = {0};
static FIELD mfld_mirth_arrow_Block_ZTildedom = {0};
static FIELD mfld_mirth_arrow_Block_ZTildecod = {0};
static FIELD mfld_mirth_arrow_Block_ZTildearrow = {0};
static FIELD mfld_mirth_arrow_Block_ZTildeqname = {0};
static FIELD mfld_mirth_arrow_Block_ZTildehomeZ_index = {0};
static FIELD mfld_mirth_arrow_Block_ZTildecname = {0};
static FIELD mfld_mirth_arrow_Block_ZTildefreeZ_vars = {0};
static FIELD mfld_mirth_type_MetaVar_ZTildetypeZAsk = {0};
static FIELD mfld_mirth_type_MetaVar_ZTildekind = {0};
static FIELD mfld_mirth_prim_Prim_ZTildectxZ_type = {0};
static FIELD mfld_mirth_token_Token_ZTildevalue = {0};
static FIELD mfld_mirth_token_Token_ZTildemodule = {0};
static FIELD mfld_mirth_token_Token_ZTilderow = {0};
static FIELD mfld_mirth_token_Token_ZTildecol = {0};
static FIELD mfld_mirth_token_Token_ZTildedoc = {0};
static FIELD mfld_mirth_alias_Alias_ZTildedoc = {0};
static FIELD mfld_mirth_alias_Alias_ZTildehead = {0};
static FIELD mfld_mirth_alias_Alias_ZTildename = {0};
static FIELD mfld_mirth_alias_Alias_ZTildearity = {0};
static FIELD mfld_mirth_alias_Alias_ZTildeqname = {0};
static FIELD mfld_mirth_alias_Alias_ZTildetarget = {0};
static FIELD mfld_mirth_name_Name_ZTildeStr = {0};
static FIELD mfld_mirth_name_Name_ZTildedefs = {0};
static FIELD mfld_mirth_name_Name_ZTildelabel = {0};
static FIELD mfld_mirth_name_Name_ZTildemangled = {0};
static FIELD mfld_mirth_module_Module_ZTildedoc = {0};
static FIELD mfld_mirth_module_Module_ZTildepackage = {0};
static FIELD mfld_mirth_module_Module_ZTildename = {0};
static FIELD mfld_mirth_module_Module_ZTildepath = {0};
static FIELD mfld_mirth_module_Module_ZTildestart = {0};
static FIELD mfld_mirth_module_Module_ZTildehead = {0};
static FIELD mfld_mirth_module_Module_ZTildeend = {0};
static FIELD mfld_mirth_module_Module_ZTildeimports = {0};
static FIELD mfld_mirth_word_Word_ZTildespZ_checked = {0};
static FIELD mfld_mirth_arrow_Block_ZTildespZ_checked = {0};
static FIELD mfld_mirth_word_Word_ZTildespZ_synthed = {0};
static FIELD mfld_mirth_data_Tag_ZTildewordZ_cname = {0};
static FIELD mfld_mirth_data_Tag_ZTildepatZ_cname = {0};
static FIELD mfld_mirth_buffer_Buffer_ZTildecname = {0};
static FIELD mfld_mirth_table_Field_ZTildecname = {0};
static FIELD mfld_mirth_external_External_ZTildecname = {0};
static FIELD mfld_mirth_prim_Prim_ZTildecname = {0};
static FIELD mfld_mirth_external_External_ZTildec99Z_api = {0};
static FIELD mfld_mirth_data_Tag_ZTildevalueZ_show = {0};
static FIELD mfld_mirth_data_Tag_ZTildewordZ_c99Z_api = {0};
static FIELD mfld_mirth_data_Tag_ZTildepatZ_c99Z_api = {0};
static FIELD mfld_mirth_word_Word_ZTildec99Z_api = {0};
static void mtw_std_buffer_ZPlusBuffer_ZPlusBuffer (INT in_Sizze_1, void* in_Ptr_2, TUP* *out_ZPlusBuffer_3) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKPTR(in_Ptr_2);
	v4->cells[0] = MKINT(in_Sizze_1);
	*out_ZPlusBuffer_3 = v4;
}
static void mtp_std_buffer_ZPlusBuffer_ZPlusBuffer (TUP* in_ZPlusBuffer_1, INT *out_Sizze_2, void* *out_Ptr_3) {
	INT v4 = value_int(in_ZPlusBuffer_1->cells[0]);
	void* v5 = value_ptr(in_ZPlusBuffer_1->cells[1]);
	tup_decref_outer(in_ZPlusBuffer_1,2);
	*out_Ptr_3 = v5;
	*out_Sizze_2 = v4;
}
static VAL mtw_std_either_Either_2_Left (VAL in_a_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_a_1;
	v3->cells[0] = MKI64(0LL /* Left */);
	return MKTUP(v3, 2);
}
static VAL mtp_std_either_Either_2_Left (VAL in_Either_1) {
	VAL v3 = value_tup(in_Either_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Either_1, 2),2);
	return v3;
}
static VAL mtw_std_either_Either_2_Right (VAL in_b_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_b_1;
	v3->cells[0] = MKI64(1LL /* Right */);
	return MKTUP(v3, 2);
}
static VAL mtp_std_either_Either_2_Right (VAL in_Either_1) {
	VAL v3 = value_tup(in_Either_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Either_1, 2),2);
	return v3;
}
static void mtw_std_either_ZPlusEither_2_ZPlusLeft (VAL in_ZPlusa_1, VAL *out_ZPlusEither_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_ZPlusa_1;
	v3->cells[0] = MKI64(0LL /* +Left */);
	*out_ZPlusEither_2 = MKTUP(v3, 2);
}
static void mtp_std_either_ZPlusEither_2_ZPlusLeft (VAL in_ZPlusEither_1, VAL *out_ZPlusa_2) {
	VAL v3 = value_tup(in_ZPlusEither_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_ZPlusEither_1, 2),2);
	*out_ZPlusa_2 = v3;
}
static void mtw_std_either_ZPlusEither_2_ZPlusRight (VAL in_ZPlusb_1, VAL *out_ZPlusEither_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_ZPlusb_1;
	v3->cells[0] = MKI64(1LL /* +Right */);
	*out_ZPlusEither_2 = MKTUP(v3, 2);
}
static void mtp_std_either_ZPlusEither_2_ZPlusRight (VAL in_ZPlusEither_1, VAL *out_ZPlusb_2) {
	VAL v3 = value_tup(in_ZPlusEither_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_ZPlusEither_1, 2),2);
	*out_ZPlusb_2 = v3;
}
static VAL mtw_std_list_List_1_Cons (VAL in_t_1, VAL in_List_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = in_List_2;
	v4->cells[1] = in_t_1;
	v4->cells[0] = MKI64(1LL /* Cons */);
	return MKTUP(v4, 3);
}
static VAL mtp_std_list_List_1_Cons (VAL in_List_1, VAL *out_List_3) {
	VAL v4 = value_tup(in_List_1, 3)->cells[1];
	VAL v5 = value_tup(in_List_1, 3)->cells[2];
	tup_decref_outer(value_tup(in_List_1, 3),3);
	*out_List_3 = v5;
	return v4;
}
static TUP* mtw_std_list_Nest_1_Nest (VAL in_t_1, VAL in_List_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = in_List_2;
	v4->cells[0] = in_t_1;
	return v4;
}
static void mtp_std_list_Nest_1_Nest (TUP* in_Nest_1, VAL *out_t_2, VAL *out_List_3) {
	VAL v4 = in_Nest_1->cells[0];
	VAL v5 = in_Nest_1->cells[1];
	tup_decref_outer(in_Nest_1,2);
	*out_List_3 = v5;
	*out_t_2 = v4;
}
static VAL mtw_std_maybe_Maybe_1_Some (VAL in_t_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_t_1;
	v3->cells[0] = MKI64(1LL /* Some */);
	return MKTUP(v3, 2);
}
static VAL mtp_std_maybe_Maybe_1_Some (VAL in_Maybe_1) {
	VAL v3 = value_tup(in_Maybe_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Maybe_1, 2),2);
	return v3;
}
static void mtw_std_maybe_ZPlusMaybe_1_ZPlusSome (VAL in_ZPlust_1, VAL *out_ZPlusMaybe_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_ZPlust_1;
	v3->cells[0] = MKI64(1LL /* +Some */);
	*out_ZPlusMaybe_2 = MKTUP(v3, 2);
}
static void mtp_std_maybe_ZPlusMaybe_1_ZPlusSome (VAL in_ZPlusMaybe_1, VAL *out_ZPlust_2) {
	VAL v3 = value_tup(in_ZPlusMaybe_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_ZPlusMaybe_1, 2),2);
	*out_ZPlust_2 = v3;
}
static VAL mtw_std_result_Result_2_Err (VAL in_e_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_e_1;
	v3->cells[0] = MKI64(0LL /* Err */);
	return MKTUP(v3, 2);
}
static VAL mtp_std_result_Result_2_Err (VAL in_Result_1) {
	VAL v3 = value_tup(in_Result_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Result_1, 2),2);
	return v3;
}
static VAL mtw_std_result_Result_2_Ok (VAL in_t_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_t_1;
	v3->cells[0] = MKI64(1LL /* Ok */);
	return MKTUP(v3, 2);
}
static VAL mtp_std_result_Result_2_Ok (VAL in_Result_1) {
	VAL v3 = value_tup(in_Result_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Result_1, 2),2);
	return v3;
}
static void mtw_std_result_ZPlusResult_2_ZPlusErr (VAL in_e_1, VAL *out_ZPlusResult_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_e_1;
	v3->cells[0] = MKI64(0LL /* +Err */);
	*out_ZPlusResult_2 = MKTUP(v3, 2);
}
static VAL mtp_std_result_ZPlusResult_2_ZPlusErr (VAL in_ZPlusResult_1) {
	VAL v3 = value_tup(in_ZPlusResult_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_ZPlusResult_1, 2),2);
	return v3;
}
static void mtw_std_result_ZPlusResult_2_ZPlusOk (VAL in_ZPlust_1, VAL *out_ZPlusResult_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_ZPlust_1;
	v3->cells[0] = MKI64(1LL /* +Ok */);
	*out_ZPlusResult_2 = MKTUP(v3, 2);
}
static void mtp_std_result_ZPlusResult_2_ZPlusOk (VAL in_ZPlusResult_1, VAL *out_ZPlust_2) {
	VAL v3 = value_tup(in_ZPlusResult_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_ZPlusResult_1, 2),2);
	*out_ZPlust_2 = v3;
}
static VAL mtp_std_terminal_Sgr_FGColor (VAL in_Sgr_1) {
	VAL v3 = value_tup(in_Sgr_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Sgr_1, 2),2);
	return v3;
}
static VAL mtp_std_terminal_Sgr_BGColor (VAL in_Sgr_1) {
	VAL v3 = value_tup(in_Sgr_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Sgr_1, 2),2);
	return v3;
}
static INT mtp_std_terminal_SGRColor_Numbered (VAL in_SGRColor_1) {
	INT v3 = value_int(value_tup(in_SGRColor_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_SGRColor_1, 2),2);
	return v3;
}
static INT mtp_std_terminal_SGRColor_RGB (VAL in_SGRColor_1, INT *out_Int_3, INT *out_Int_4) {
	INT v5 = value_int(value_tup(in_SGRColor_1, 4)->cells[1]);
	INT v6 = value_int(value_tup(in_SGRColor_1, 4)->cells[2]);
	INT v7 = value_int(value_tup(in_SGRColor_1, 4)->cells[3]);
	tup_decref_outer(value_tup(in_SGRColor_1, 4),4);
	*out_Int_4 = v7;
	*out_Int_3 = v6;
	return v5;
}
static void mtw_std_input_ZPlusInputOpenState_ZPlusInputOpenState (INT in_Sizze_1, INT in_Offset_2, TUP* in_ZPlusFile_3, TUP* in_ZPlusBuffer_4, TUP* *out_ZPlusInputOpenState_5) {
	TUP* v6 = tup_new(4);
	v6->size = 4;
	v6->cells[3] = MKTUP(in_ZPlusBuffer_4, 2);
	v6->cells[2] = MKTUP(in_ZPlusFile_3, 2);
	v6->cells[1] = MKINT(in_Offset_2);
	v6->cells[0] = MKINT(in_Sizze_1);
	*out_ZPlusInputOpenState_5 = v6;
}
static void mtp_std_input_ZPlusInputOpenState_ZPlusInputOpenState (TUP* in_ZPlusInputOpenState_1, INT *out_Sizze_2, INT *out_Offset_3, TUP* *out_ZPlusFile_4, TUP* *out_ZPlusBuffer_5) {
	INT v6 = value_int(in_ZPlusInputOpenState_1->cells[0]);
	INT v7 = value_int(in_ZPlusInputOpenState_1->cells[1]);
	TUP* v8 = value_tup(in_ZPlusInputOpenState_1->cells[2], 2);
	TUP* v9 = value_tup(in_ZPlusInputOpenState_1->cells[3], 2);
	tup_decref_outer(in_ZPlusInputOpenState_1,4);
	*out_ZPlusBuffer_5 = v9;
	*out_ZPlusFile_4 = v8;
	*out_Offset_3 = v7;
	*out_Sizze_2 = v6;
}
static void mtw_std_input_ZPlusInput_Open (TUP* in_ZPlusInputOpenState_1, VAL *out_ZPlusInput_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_ZPlusInputOpenState_1, 4);
	v3->cells[0] = MKI64(0LL /* Open */);
	*out_ZPlusInput_2 = MKTUP(v3, 2);
}
static void mtp_std_input_ZPlusInput_Open (VAL in_ZPlusInput_1, TUP* *out_ZPlusInputOpenState_2) {
	TUP* v3 = value_tup(value_tup(in_ZPlusInput_1, 2)->cells[1], 4);
	tup_decref_outer(value_tup(in_ZPlusInput_1, 2),2);
	*out_ZPlusInputOpenState_2 = v3;
}
static void mtw_std_input_ZPlusInput_Done (TUP* in_ZPlusFile_1, VAL *out_ZPlusInput_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_ZPlusFile_1, 2);
	v3->cells[0] = MKI64(1LL /* Done */);
	*out_ZPlusInput_2 = MKTUP(v3, 2);
}
static void mtp_std_input_ZPlusInput_Done (VAL in_ZPlusInput_1, TUP* *out_ZPlusFile_2) {
	TUP* v3 = value_tup(value_tup(in_ZPlusInput_1, 2)->cells[1], 2);
	tup_decref_outer(value_tup(in_ZPlusInput_1, 2),2);
	*out_ZPlusFile_2 = v3;
}
static void mtw_std_output_ZPlusOutput_ZPlusOutput (INT in_Sizze_1, TUP* in_ZPlusFile_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusOutput_4) {
	TUP* v5 = tup_new(3);
	v5->size = 3;
	v5->cells[2] = MKTUP(in_ZPlusBuffer_3, 2);
	v5->cells[1] = MKTUP(in_ZPlusFile_2, 2);
	v5->cells[0] = MKINT(in_Sizze_1);
	*out_ZPlusOutput_4 = v5;
}
static void mtp_std_output_ZPlusOutput_ZPlusOutput (TUP* in_ZPlusOutput_1, INT *out_Sizze_2, TUP* *out_ZPlusFile_3, TUP* *out_ZPlusBuffer_4) {
	INT v5 = value_int(in_ZPlusOutput_1->cells[0]);
	TUP* v6 = value_tup(in_ZPlusOutput_1->cells[1], 2);
	TUP* v7 = value_tup(in_ZPlusOutput_1->cells[2], 2);
	tup_decref_outer(in_ZPlusOutput_1,3);
	*out_ZPlusBuffer_4 = v7;
	*out_ZPlusFile_3 = v6;
	*out_Sizze_2 = v5;
}
static VAL mtw_std_file_IOError_OpenFailed (STR* in_Path_1, int64_t in_Errno_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKI64(in_Errno_2);
	v4->cells[1] = MKSTR(in_Path_1);
	v4->cells[0] = MKI64(0LL /* OpenFailed */);
	return MKTUP(v4, 3);
}
static STR* mtp_std_file_IOError_OpenFailed (VAL in_IOError_1, int64_t *out_Errno_3) {
	STR* v4 = value_str(value_tup(in_IOError_1, 3)->cells[1]);
	int64_t v5 = value_i64(value_tup(in_IOError_1, 3)->cells[2]);
	tup_decref_outer(value_tup(in_IOError_1, 3),3);
	*out_Errno_3 = v5;
	return v4;
}
static VAL mtw_std_file_IOError_CreateFailed (STR* in_Path_1, int64_t in_Errno_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKI64(in_Errno_2);
	v4->cells[1] = MKSTR(in_Path_1);
	v4->cells[0] = MKI64(1LL /* CreateFailed */);
	return MKTUP(v4, 3);
}
static STR* mtp_std_file_IOError_CreateFailed (VAL in_IOError_1, int64_t *out_Errno_3) {
	STR* v4 = value_str(value_tup(in_IOError_1, 3)->cells[1]);
	int64_t v5 = value_i64(value_tup(in_IOError_1, 3)->cells[2]);
	tup_decref_outer(value_tup(in_IOError_1, 3),3);
	*out_Errno_3 = v5;
	return v4;
}
static VAL mtw_std_file_IOError_CreateUnsupported (STR* in_Path_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Path_1);
	v3->cells[0] = MKI64(2LL /* CreateUnsupported */);
	return MKTUP(v3, 2);
}
static STR* mtp_std_file_IOError_CreateUnsupported (VAL in_IOError_1) {
	STR* v3 = value_str(value_tup(in_IOError_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_IOError_1, 2),2);
	return v3;
}
static VAL mtw_std_file_IOError_CloseFailed (int64_t in_Errno_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_Errno_1);
	v3->cells[0] = MKI64(3LL /* CloseFailed */);
	return MKTUP(v3, 2);
}
static int64_t mtp_std_file_IOError_CloseFailed (VAL in_IOError_1) {
	int64_t v3 = value_i64(value_tup(in_IOError_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_IOError_1, 2),2);
	return v3;
}
static VAL mtw_std_file_IOError_ReadFailed (int64_t in_Errno_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_Errno_1);
	v3->cells[0] = MKI64(4LL /* ReadFailed */);
	return MKTUP(v3, 2);
}
static int64_t mtp_std_file_IOError_ReadFailed (VAL in_IOError_1) {
	int64_t v3 = value_i64(value_tup(in_IOError_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_IOError_1, 2),2);
	return v3;
}
static VAL mtw_std_file_IOError_WriteFailed (INT in_Sizze_1, int64_t in_Errno_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKI64(in_Errno_2);
	v4->cells[1] = MKINT(in_Sizze_1);
	v4->cells[0] = MKI64(5LL /* WriteFailed */);
	return MKTUP(v4, 3);
}
static INT mtp_std_file_IOError_WriteFailed (VAL in_IOError_1, int64_t *out_Errno_3) {
	INT v4 = value_int(value_tup(in_IOError_1, 3)->cells[1]);
	int64_t v5 = value_i64(value_tup(in_IOError_1, 3)->cells[2]);
	tup_decref_outer(value_tup(in_IOError_1, 3),3);
	*out_Errno_3 = v5;
	return v4;
}
static void mtw_std_file_ZPlusFile_ZPlusFile (int64_t in_ZPlusFileDescriptor_1, bool in_Bool_2, TUP* *out_ZPlusFile_3) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKBOOL(in_Bool_2);
	v4->cells[0] = MKI64(in_ZPlusFileDescriptor_1);
	*out_ZPlusFile_3 = v4;
}
static void mtp_std_file_ZPlusFile_ZPlusFile (TUP* in_ZPlusFile_1, int64_t *out_ZPlusFileDescriptor_2, bool *out_Bool_3) {
	int64_t v4 = value_i64(in_ZPlusFile_1->cells[0]);
	bool v5 = value_bool(in_ZPlusFile_1->cells[1]);
	tup_decref_outer(in_ZPlusFile_1,2);
	*out_Bool_3 = v5;
	*out_ZPlusFileDescriptor_2 = v4;
}
static TUP* mtw_argZ_parser_state_ArgvInfo_ArgvInfo (VAL in_List_1, STR* in_Str_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKSTR(in_Str_2);
	v4->cells[0] = in_List_1;
	return v4;
}
static TUP* mtw_argZ_parser_state_CurrentArg_CurrentArg (bool in_Bool_1, VAL in_Maybe_2, VAL in_Maybe_3) {
	TUP* v5 = tup_new(3);
	v5->size = 3;
	v5->cells[2] = in_Maybe_3;
	v5->cells[1] = in_Maybe_2;
	v5->cells[0] = MKBOOL(in_Bool_1);
	return v5;
}
static TUP* mtw_argZ_parser_state_State_1_State (VAL in_a_1, TUP* in_ArgvInfo_2, TUP* in_CurrentArg_3, INT in_Int_4, INT in_Int_5, VAL in_Maybe_6) {
	TUP* v8 = tup_new(6);
	v8->size = 6;
	v8->cells[5] = in_Maybe_6;
	v8->cells[4] = MKINT(in_Int_5);
	v8->cells[3] = MKINT(in_Int_4);
	v8->cells[2] = MKTUP(in_CurrentArg_3, 3);
	v8->cells[1] = MKTUP(in_ArgvInfo_2, 2);
	v8->cells[0] = in_a_1;
	return v8;
}
static TUP* mtw_argZ_parser_types_ArgumentParser_1_ArgumentParser (VAL in_List_1, VAL in__2, VAL in_Maybe_3, STR* in_Str_4) {
	TUP* v6 = tup_new(4);
	v6->size = 4;
	v6->cells[3] = MKSTR(in_Str_4);
	v6->cells[2] = in_Maybe_3;
	v6->cells[1] = in__2;
	v6->cells[0] = in_List_1;
	return v6;
}
static void mtw_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser (TUP* in_ArgumentParser_1, TUP* in_State_2, TUP* *out_ZPlusArgumentParser_3) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKTUP(in_State_2, 6);
	v4->cells[0] = MKTUP(in_ArgumentParser_1, 4);
	*out_ZPlusArgumentParser_3 = v4;
}
static void mtp_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser (TUP* in_ZPlusArgumentParser_1, TUP* *out_ArgumentParser_2, TUP* *out_State_3) {
	TUP* v4 = value_tup(in_ZPlusArgumentParser_1->cells[0], 4);
	TUP* v5 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
	tup_decref_outer(in_ZPlusArgumentParser_1,2);
	*out_State_3 = v5;
	*out_ArgumentParser_2 = v4;
}
static VAL mtw_argZ_parser_types_ArgpOptionType_Short (int64_t in_Byte_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_Byte_1);
	v3->cells[0] = MKI64(0LL /* Short */);
	return MKTUP(v3, 2);
}
static int64_t mtp_argZ_parser_types_ArgpOptionType_Short (VAL in_ArgpOptionType_1) {
	int64_t v3 = value_i64(value_tup(in_ArgpOptionType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_ArgpOptionType_1, 2),2);
	return v3;
}
static VAL mtw_argZ_parser_types_ArgpOptionType_LongOnly (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(1LL /* LongOnly */);
	return MKTUP(v3, 2);
}
static STR* mtp_argZ_parser_types_ArgpOptionType_LongOnly (VAL in_ArgpOptionType_1) {
	STR* v3 = value_str(value_tup(in_ArgpOptionType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_ArgpOptionType_1, 2),2);
	return v3;
}
static TUP* mtw_argZ_parser_types_ArgpOption_ArgpOption (VAL in_Maybe_1, VAL in_ArgpOptionType_2, VAL in_Maybe_3, VAL in_Maybe_4, VAL in_Maybe_5) {
	TUP* v7 = tup_new(5);
	v7->size = 5;
	v7->cells[4] = in_Maybe_5;
	v7->cells[3] = in_Maybe_4;
	v7->cells[2] = in_Maybe_3;
	v7->cells[1] = in_ArgpOptionType_2;
	v7->cells[0] = in_Maybe_1;
	return v7;
}
static VAL mtw_argZ_parser_types_ArgumentParsingError_MissingArg (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(1LL /* MissingArg */);
	return MKTUP(v3, 2);
}
static STR* mtp_argZ_parser_types_ArgumentParsingError_MissingArg (VAL in_ArgumentParsingError_1) {
	STR* v3 = value_str(value_tup(in_ArgumentParsingError_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_ArgumentParsingError_1, 2),2);
	return v3;
}
static TUP* mtw_mirth_options_Options_Options (STR* in_Path_1, VAL in_Maybe_2, VAL in_Maybe_3, VAL in_List_4, VAL in_List_5, bool in_Bool_6) {
	TUP* v8 = tup_new(6);
	v8->size = 6;
	v8->cells[5] = MKBOOL(in_Bool_6);
	v8->cells[4] = in_List_5;
	v8->cells[3] = in_List_4;
	v8->cells[2] = in_Maybe_3;
	v8->cells[1] = in_Maybe_2;
	v8->cells[0] = MKSTR(in_Path_1);
	return v8;
}
static void mtp_mirth_options_Options_Options (TUP* in_Options_1, STR* *out_Path_2, VAL *out_Maybe_3, VAL *out_Maybe_4, VAL *out_List_5, VAL *out_List_6, bool *out_Bool_7) {
	STR* v8 = value_str(in_Options_1->cells[0]);
	VAL v9 = in_Options_1->cells[1];
	VAL v10 = in_Options_1->cells[2];
	VAL v11 = in_Options_1->cells[3];
	VAL v12 = in_Options_1->cells[4];
	bool v13 = value_bool(in_Options_1->cells[5]);
	tup_decref_outer(in_Options_1,6);
	*out_Bool_7 = v13;
	*out_List_6 = v12;
	*out_List_5 = v11;
	*out_Maybe_4 = v10;
	*out_Maybe_3 = v9;
	*out_Path_2 = v8;
}
static TUP* mtw_std_map_KeyValuePair_2_KeyValuePair (VAL in_k_1, VAL in_v_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = in_v_2;
	v4->cells[0] = in_k_1;
	return v4;
}
static VAL mtw_mirth_external_ExternalBlockPart_EBPCode (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(0LL /* EBPCode */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_external_ExternalBlockPart_EBPCode (VAL in_ExternalBlockPart_1) {
	STR* v3 = value_str(value_tup(in_ExternalBlockPart_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_ExternalBlockPart_1, 2),2);
	return v3;
}
static VAL mtw_mirth_external_ExternalBlockPart_EBPDef (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_External_1);
	v3->cells[0] = MKI64(1LL /* EBPDef */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_external_ExternalBlockPart_EBPDef (VAL in_ExternalBlockPart_1) {
	uint64_t v3 = value_u64(value_tup(in_ExternalBlockPart_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_ExternalBlockPart_1, 2),2);
	return v3;
}
static TUP* mtw_mirth_word_Param_Param (uint64_t in_Var_1, VAL in_Maybe_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = in_Maybe_2;
	v4->cells[0] = MKU64(in_Var_1);
	return v4;
}
static TUP* mtw_mirth_match_Match_Match (VAL in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Ctx_4, VAL in_StackType_5, VAL in_StackType_6, VAL in_List_7) {
	TUP* v9 = tup_new(7);
	v9->size = 7;
	v9->cells[6] = in_List_7;
	v9->cells[5] = in_StackType_6;
	v9->cells[4] = in_StackType_5;
	v9->cells[3] = in_Ctx_4;
	v9->cells[2] = MKU64(in_Token_3);
	v9->cells[1] = MKU64(in_Token_2);
	v9->cells[0] = in_Home_1;
	return v9;
}
static void mtp_mirth_match_Match_Match (TUP* in_Match_1, VAL *out_Home_2, uint64_t *out_Token_3, uint64_t *out_Token_4, VAL *out_Ctx_5, VAL *out_StackType_6, VAL *out_StackType_7, VAL *out_List_8) {
	VAL v9 = in_Match_1->cells[0];
	uint64_t v10 = value_u64(in_Match_1->cells[1]);
	uint64_t v11 = value_u64(in_Match_1->cells[2]);
	VAL v12 = in_Match_1->cells[3];
	VAL v13 = in_Match_1->cells[4];
	VAL v14 = in_Match_1->cells[5];
	VAL v15 = in_Match_1->cells[6];
	tup_decref_outer(in_Match_1,7);
	*out_List_8 = v15;
	*out_StackType_7 = v14;
	*out_StackType_6 = v13;
	*out_Ctx_5 = v12;
	*out_Token_4 = v11;
	*out_Token_3 = v10;
	*out_Home_2 = v9;
}
static void mtw_mirth_match_ZPlusMatch_ZPlusMatch (VAL in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Ctx_4, VAL in_StackType_5, VAL in_StackType_6, VAL in_List_7, TUP* *out_ZPlusMatch_8) {
	TUP* v9 = tup_new(7);
	v9->size = 7;
	v9->cells[6] = in_List_7;
	v9->cells[5] = in_StackType_6;
	v9->cells[4] = in_StackType_5;
	v9->cells[3] = in_Ctx_4;
	v9->cells[2] = MKU64(in_Token_3);
	v9->cells[1] = MKU64(in_Token_2);
	v9->cells[0] = in_Home_1;
	*out_ZPlusMatch_8 = v9;
}
static void mtp_mirth_match_ZPlusMatch_ZPlusMatch (TUP* in_ZPlusMatch_1, VAL *out_Home_2, uint64_t *out_Token_3, uint64_t *out_Token_4, VAL *out_Ctx_5, VAL *out_StackType_6, VAL *out_StackType_7, VAL *out_List_8) {
	VAL v9 = in_ZPlusMatch_1->cells[0];
	uint64_t v10 = value_u64(in_ZPlusMatch_1->cells[1]);
	uint64_t v11 = value_u64(in_ZPlusMatch_1->cells[2]);
	VAL v12 = in_ZPlusMatch_1->cells[3];
	VAL v13 = in_ZPlusMatch_1->cells[4];
	VAL v14 = in_ZPlusMatch_1->cells[5];
	VAL v15 = in_ZPlusMatch_1->cells[6];
	tup_decref_outer(in_ZPlusMatch_1,7);
	*out_List_8 = v15;
	*out_StackType_7 = v14;
	*out_StackType_6 = v13;
	*out_Ctx_5 = v12;
	*out_Token_4 = v11;
	*out_Token_3 = v10;
	*out_Home_2 = v9;
}
static TUP* mtw_mirth_match_Case_Case (TUP* in_Pattern_1, TUP* in_Arrow_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKTUP(in_Arrow_2, 7);
	v4->cells[0] = MKTUP(in_Pattern_1, 9);
	return v4;
}
static TUP* mtw_mirth_match_Pattern_Pattern (VAL in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Ctx_4, VAL in_Ctx_5, VAL in_List_6, VAL in_StackType_7, VAL in_StackType_8, VAL in_List_9) {
	TUP* v11 = tup_new(9);
	v11->size = 9;
	v11->cells[8] = in_List_9;
	v11->cells[7] = in_StackType_8;
	v11->cells[6] = in_StackType_7;
	v11->cells[5] = in_List_6;
	v11->cells[4] = in_Ctx_5;
	v11->cells[3] = in_Ctx_4;
	v11->cells[2] = MKU64(in_Token_3);
	v11->cells[1] = MKU64(in_Token_2);
	v11->cells[0] = in_Home_1;
	return v11;
}
static TUP* mtw_mirth_match_PatternAtom_PatternAtom (uint64_t in_Token_1, VAL in_Ctx_2, VAL in_List_3, VAL in_StackType_4, VAL in_StackType_5, VAL in_Subst_6, VAL in_PatternOp_7) {
	TUP* v9 = tup_new(7);
	v9->size = 7;
	v9->cells[6] = in_PatternOp_7;
	v9->cells[5] = in_Subst_6;
	v9->cells[4] = in_StackType_5;
	v9->cells[3] = in_StackType_4;
	v9->cells[2] = in_List_3;
	v9->cells[1] = in_Ctx_2;
	v9->cells[0] = MKU64(in_Token_1);
	return v9;
}
static VAL mtw_mirth_match_PatternOp_Tag (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Tag_1);
	v3->cells[0] = MKI64(1LL /* Tag */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_match_PatternOp_Tag (VAL in_PatternOp_1) {
	uint64_t v3 = value_u64(value_tup(in_PatternOp_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PatternOp_1, 2),2);
	return v3;
}
static void mtw_mirth_lexer_ZPlusLexer_ZPlusLexer (uint64_t in_Module_1, INT in_Row_2, INT in_Col_3, VAL in_Maybe_4, VAL in_List_5, uint64_t in_Token_6, uint64_t in_Token_7, STR* in_Str_8, INT in_Offset_9, TUP* *out_ZPlusLexer_10) {
	TUP* v11 = tup_new(9);
	v11->size = 9;
	v11->cells[8] = MKINT(in_Offset_9);
	v11->cells[7] = MKSTR(in_Str_8);
	v11->cells[6] = MKU64(in_Token_7);
	v11->cells[5] = MKU64(in_Token_6);
	v11->cells[4] = in_List_5;
	v11->cells[3] = in_Maybe_4;
	v11->cells[2] = MKINT(in_Col_3);
	v11->cells[1] = MKINT(in_Row_2);
	v11->cells[0] = MKU64(in_Module_1);
	*out_ZPlusLexer_10 = v11;
}
static void mtp_mirth_lexer_ZPlusLexer_ZPlusLexer (TUP* in_ZPlusLexer_1, uint64_t *out_Module_2, INT *out_Row_3, INT *out_Col_4, VAL *out_Maybe_5, VAL *out_List_6, uint64_t *out_Token_7, uint64_t *out_Token_8, STR* *out_Str_9, INT *out_Offset_10) {
	uint64_t v11 = value_u64(in_ZPlusLexer_1->cells[0]);
	INT v12 = value_int(in_ZPlusLexer_1->cells[1]);
	INT v13 = value_int(in_ZPlusLexer_1->cells[2]);
	VAL v14 = in_ZPlusLexer_1->cells[3];
	VAL v15 = in_ZPlusLexer_1->cells[4];
	uint64_t v16 = value_u64(in_ZPlusLexer_1->cells[5]);
	uint64_t v17 = value_u64(in_ZPlusLexer_1->cells[6]);
	STR* v18 = value_str(in_ZPlusLexer_1->cells[7]);
	INT v19 = value_int(in_ZPlusLexer_1->cells[8]);
	tup_decref_outer(in_ZPlusLexer_1,9);
	*out_Offset_10 = v19;
	*out_Str_9 = v18;
	*out_Token_8 = v17;
	*out_Token_7 = v16;
	*out_List_6 = v15;
	*out_Maybe_5 = v14;
	*out_Col_4 = v13;
	*out_Row_3 = v12;
	*out_Module_2 = v11;
}
static VAL mtw_mirth_macro_MacroAction_Decl (VAL in__1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in__1;
	v3->cells[0] = MKI64(0LL /* Decl */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_macro_MacroAction_Decl (VAL in_MacroAction_1) {
	VAL v3 = value_tup(in_MacroAction_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_MacroAction_1, 2),2);
	return v3;
}
static VAL mtw_mirth_macro_MacroAction_Arrow (VAL in__1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in__1;
	v3->cells[0] = MKI64(1LL /* Arrow */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_macro_MacroAction_Arrow (VAL in_MacroAction_1) {
	VAL v3 = value_tup(in_MacroAction_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_MacroAction_1, 2),2);
	return v3;
}
static void mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab (VAL in_Ctx_1, uint64_t in_Token_2, bool in_Bool_3, bool in_Bool_4, TUP* *out_ZPlusTypeElab_5) {
	TUP* v6 = tup_new(4);
	v6->size = 4;
	v6->cells[3] = MKBOOL(in_Bool_4);
	v6->cells[2] = MKBOOL(in_Bool_3);
	v6->cells[1] = MKU64(in_Token_2);
	v6->cells[0] = in_Ctx_1;
	*out_ZPlusTypeElab_5 = v6;
}
static void mtp_mirth_elab_ZPlusTypeElab_ZPlusTypeElab (TUP* in_ZPlusTypeElab_1, VAL *out_Ctx_2, uint64_t *out_Token_3, bool *out_Bool_4, bool *out_Bool_5) {
	VAL v6 = in_ZPlusTypeElab_1->cells[0];
	uint64_t v7 = value_u64(in_ZPlusTypeElab_1->cells[1]);
	bool v8 = value_bool(in_ZPlusTypeElab_1->cells[2]);
	bool v9 = value_bool(in_ZPlusTypeElab_1->cells[3]);
	tup_decref_outer(in_ZPlusTypeElab_1,4);
	*out_Bool_5 = v9;
	*out_Bool_4 = v8;
	*out_Token_3 = v7;
	*out_Ctx_2 = v6;
}
static VAL mtw_mirth_elab_RejectedDef_WrongSort (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Def_1;
	v3->cells[0] = MKI64(0LL /* WrongSort */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_elab_RejectedDef_WrongSort (VAL in_RejectedDef_1) {
	VAL v3 = value_tup(in_RejectedDef_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_RejectedDef_1, 2),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_WrongArity (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Def_1;
	v3->cells[0] = MKI64(1LL /* WrongArity */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_elab_RejectedDef_WrongArity (VAL in_RejectedDef_1) {
	VAL v3 = value_tup(in_RejectedDef_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_RejectedDef_1, 2),2);
	return v3;
}
static VAL mtp_mirth_elab_RejectedDef_NotVisible (VAL in_RejectedDef_1) {
	VAL v3 = value_tup(in_RejectedDef_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_RejectedDef_1, 2),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_NotImported (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Def_1;
	v3->cells[0] = MKI64(3LL /* NotImported */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_elab_RejectedDef_NotImported (VAL in_RejectedDef_1) {
	VAL v3 = value_tup(in_RejectedDef_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_RejectedDef_1, 2),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_WrongQualifier (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Def_1;
	v3->cells[0] = MKI64(4LL /* WrongQualifier */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_elab_RejectedDef_WrongQualifier (VAL in_RejectedDef_1) {
	VAL v3 = value_tup(in_RejectedDef_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_RejectedDef_1, 2),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_WrongConstructor (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Def_1;
	v3->cells[0] = MKI64(5LL /* WrongConstructor */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_elab_RejectedDef_WrongConstructor (VAL in_RejectedDef_1) {
	VAL v3 = value_tup(in_RejectedDef_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_RejectedDef_1, 2),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_MethodNotAvailable (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Def_1;
	v3->cells[0] = MKI64(6LL /* MethodNotAvailable */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_elab_RejectedDef_MethodNotAvailable (VAL in_RejectedDef_1) {
	VAL v3 = value_tup(in_RejectedDef_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_RejectedDef_1, 2),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_MethodWrongType (VAL in_Def_1, VAL in_List_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = in_List_2;
	v4->cells[1] = in_Def_1;
	v4->cells[0] = MKI64(7LL /* MethodWrongType */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_elab_RejectedDef_MethodWrongType (VAL in_RejectedDef_1, VAL *out_List_3) {
	VAL v4 = value_tup(in_RejectedDef_1, 3)->cells[1];
	VAL v5 = value_tup(in_RejectedDef_1, 3)->cells[2];
	tup_decref_outer(value_tup(in_RejectedDef_1, 3),3);
	*out_List_3 = v5;
	return v4;
}
static void mtw_mirth_elab_ZPlusResolveDef_ZPlusResolveDef (STR* in_Str_1, uint64_t in_Token_2, VAL in_Either_3, VAL in_List_4, VAL in_List_5, bool in_Bool_6, bool in_Bool_7, TUP* *out_ZPlusResolveDef_8) {
	TUP* v9 = tup_new(7);
	v9->size = 7;
	v9->cells[6] = MKBOOL(in_Bool_7);
	v9->cells[5] = MKBOOL(in_Bool_6);
	v9->cells[4] = in_List_5;
	v9->cells[3] = in_List_4;
	v9->cells[2] = in_Either_3;
	v9->cells[1] = MKU64(in_Token_2);
	v9->cells[0] = MKSTR(in_Str_1);
	*out_ZPlusResolveDef_8 = v9;
}
static void mtp_mirth_elab_ZPlusResolveDef_ZPlusResolveDef (TUP* in_ZPlusResolveDef_1, STR* *out_Str_2, uint64_t *out_Token_3, VAL *out_Either_4, VAL *out_List_5, VAL *out_List_6, bool *out_Bool_7, bool *out_Bool_8) {
	STR* v9 = value_str(in_ZPlusResolveDef_1->cells[0]);
	uint64_t v10 = value_u64(in_ZPlusResolveDef_1->cells[1]);
	VAL v11 = in_ZPlusResolveDef_1->cells[2];
	VAL v12 = in_ZPlusResolveDef_1->cells[3];
	VAL v13 = in_ZPlusResolveDef_1->cells[4];
	bool v14 = value_bool(in_ZPlusResolveDef_1->cells[5]);
	bool v15 = value_bool(in_ZPlusResolveDef_1->cells[6]);
	tup_decref_outer(in_ZPlusResolveDef_1,7);
	*out_Bool_8 = v15;
	*out_Bool_7 = v14;
	*out_List_6 = v13;
	*out_List_5 = v12;
	*out_Either_4 = v11;
	*out_Token_3 = v10;
	*out_Str_2 = v9;
}
static VAL mtw_mirth_elab_OpSig_Push (VAL in_Type_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Type_1;
	v3->cells[0] = MKI64(1LL /* Push */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_elab_OpSig_Push (VAL in_OpSig_1) {
	VAL v3 = value_tup(in_OpSig_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_OpSig_1, 2),2);
	return v3;
}
static VAL mtw_mirth_elab_OpSig_Apply (TUP* in_ArrowType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_ArrowType_1, 2);
	v3->cells[0] = MKI64(2LL /* Apply */);
	return MKTUP(v3, 2);
}
static TUP* mtp_mirth_elab_OpSig_Apply (VAL in_OpSig_1) {
	TUP* v3 = value_tup(value_tup(in_OpSig_1, 2)->cells[1], 2);
	tup_decref_outer(value_tup(in_OpSig_1, 2),2);
	return v3;
}
static TUP* mtw_mirth_elab_ModuleHeader_ModuleHeader (VAL in_Maybe_1, uint64_t in_Package_2, uint64_t in_Name_3, uint64_t in_Token_4, VAL in_List_5) {
	TUP* v7 = tup_new(5);
	v7->size = 5;
	v7->cells[4] = in_List_5;
	v7->cells[3] = MKU64(in_Token_4);
	v7->cells[2] = MKU64(in_Name_3);
	v7->cells[1] = MKU64(in_Package_2);
	v7->cells[0] = in_Maybe_1;
	return v7;
}
static void mtp_mirth_elab_ModuleHeader_ModuleHeader (TUP* in_ModuleHeader_1, VAL *out_Maybe_2, uint64_t *out_Package_3, uint64_t *out_Name_4, uint64_t *out_Token_5, VAL *out_List_6) {
	VAL v7 = in_ModuleHeader_1->cells[0];
	uint64_t v8 = value_u64(in_ModuleHeader_1->cells[1]);
	uint64_t v9 = value_u64(in_ModuleHeader_1->cells[2]);
	uint64_t v10 = value_u64(in_ModuleHeader_1->cells[3]);
	VAL v11 = in_ModuleHeader_1->cells[4];
	tup_decref_outer(in_ModuleHeader_1,5);
	*out_List_6 = v11;
	*out_Token_5 = v10;
	*out_Name_4 = v9;
	*out_Package_3 = v8;
	*out_Maybe_2 = v7;
}
static TUP* mtw_mirth_elab_SyntaxData_SyntaxData (VAL in_Maybe_1, uint64_t in_SyntaxDataHeader_2, VAL in_List_3, VAL in_Maybe_4) {
	TUP* v6 = tup_new(4);
	v6->size = 4;
	v6->cells[3] = in_Maybe_4;
	v6->cells[2] = in_List_3;
	v6->cells[1] = MKU64(in_SyntaxDataHeader_2);
	v6->cells[0] = in_Maybe_1;
	return v6;
}
static void mtp_mirth_elab_SyntaxData_SyntaxData (TUP* in_SyntaxData_1, VAL *out_Maybe_2, uint64_t *out_SyntaxDataHeader_3, VAL *out_List_4, VAL *out_Maybe_5) {
	VAL v6 = in_SyntaxData_1->cells[0];
	uint64_t v7 = value_u64(in_SyntaxData_1->cells[1]);
	VAL v8 = in_SyntaxData_1->cells[2];
	VAL v9 = in_SyntaxData_1->cells[3];
	tup_decref_outer(in_SyntaxData_1,4);
	*out_Maybe_5 = v9;
	*out_List_4 = v8;
	*out_SyntaxDataHeader_3 = v7;
	*out_Maybe_2 = v6;
}
static TUP* mtw_mirth_elab_SyntaxDataTag_SyntaxDataTag (VAL in_Maybe_1, uint64_t in_Token_2, VAL in_Maybe_3, uint64_t in_Name_4, VAL in_Maybe_5) {
	TUP* v7 = tup_new(5);
	v7->size = 5;
	v7->cells[4] = in_Maybe_5;
	v7->cells[3] = MKU64(in_Name_4);
	v7->cells[2] = in_Maybe_3;
	v7->cells[1] = MKU64(in_Token_2);
	v7->cells[0] = in_Maybe_1;
	return v7;
}
static TUP* mtw_mirth_elab_SyntaxDef_SyntaxDef (VAL in_Maybe_1, uint64_t in_Token_2, VAL in_Maybe_3, uint64_t in_Token_4) {
	TUP* v6 = tup_new(4);
	v6->size = 4;
	v6->cells[3] = MKU64(in_Token_4);
	v6->cells[2] = in_Maybe_3;
	v6->cells[1] = MKU64(in_Token_2);
	v6->cells[0] = in_Maybe_1;
	return v6;
}
static void mtp_mirth_elab_SyntaxDef_SyntaxDef (TUP* in_SyntaxDef_1, VAL *out_Maybe_2, uint64_t *out_Token_3, VAL *out_Maybe_4, uint64_t *out_Token_5) {
	VAL v6 = in_SyntaxDef_1->cells[0];
	uint64_t v7 = value_u64(in_SyntaxDef_1->cells[1]);
	VAL v8 = in_SyntaxDef_1->cells[2];
	uint64_t v9 = value_u64(in_SyntaxDef_1->cells[3]);
	tup_decref_outer(in_SyntaxDef_1,4);
	*out_Token_5 = v9;
	*out_Maybe_4 = v8;
	*out_Token_3 = v7;
	*out_Maybe_2 = v6;
}
static VAL mtw_mirth_elab_ExternalDeclPart_EDPCode (uint64_t in_Token_1, STR* in_Str_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKSTR(in_Str_2);
	v4->cells[1] = MKU64(in_Token_1);
	v4->cells[0] = MKI64(0LL /* EDPCode */);
	return MKTUP(v4, 3);
}
static void mtp_mirth_elab_ExternalDeclPart_EDPCode (VAL in_ExternalDeclPart_1, uint64_t *out_Token_2, STR* *out_Str_3) {
	uint64_t v4 = value_u64(value_tup(in_ExternalDeclPart_1, 3)->cells[1]);
	STR* v5 = value_str(value_tup(in_ExternalDeclPart_1, 3)->cells[2]);
	tup_decref_outer(value_tup(in_ExternalDeclPart_1, 3),3);
	*out_Str_3 = v5;
	*out_Token_2 = v4;
}
static VAL mtw_mirth_elab_ExternalDeclPart_EDPDef (VAL in_Maybe_1, uint64_t in_Token_2, VAL in_Maybe_3, uint64_t in_Token_4) {
	TUP* v6 = tup_new(5);
	v6->size = 5;
	v6->cells[4] = MKU64(in_Token_4);
	v6->cells[3] = in_Maybe_3;
	v6->cells[2] = MKU64(in_Token_2);
	v6->cells[1] = in_Maybe_1;
	v6->cells[0] = MKI64(1LL /* EDPDef */);
	return MKTUP(v6, 5);
}
static void mtp_mirth_elab_ExternalDeclPart_EDPDef (VAL in_ExternalDeclPart_1, VAL *out_Maybe_2, uint64_t *out_Token_3, VAL *out_Maybe_4, uint64_t *out_Token_5) {
	VAL v6 = value_tup(in_ExternalDeclPart_1, 5)->cells[1];
	uint64_t v7 = value_u64(value_tup(in_ExternalDeclPart_1, 5)->cells[2]);
	VAL v8 = value_tup(in_ExternalDeclPart_1, 5)->cells[3];
	uint64_t v9 = value_u64(value_tup(in_ExternalDeclPart_1, 5)->cells[4]);
	tup_decref_outer(value_tup(in_ExternalDeclPart_1, 5),5);
	*out_Token_5 = v9;
	*out_Maybe_4 = v8;
	*out_Token_3 = v7;
	*out_Maybe_2 = v6;
}
static VAL mtw_mirth_table_StateOwner_Resource (VAL in_Ctx_1, VAL in_Resource_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = in_Resource_2;
	v4->cells[1] = in_Ctx_1;
	v4->cells[0] = MKI64(2LL /* Resource */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_table_StateOwner_Resource (VAL in_StateOwner_1, VAL *out_Resource_3) {
	VAL v4 = value_tup(in_StateOwner_1, 3)->cells[1];
	VAL v5 = value_tup(in_StateOwner_1, 3)->cells[2];
	tup_decref_outer(value_tup(in_StateOwner_1, 3),3);
	*out_Resource_3 = v5;
	return v4;
}
static TUP* mtw_mirth_table_InlineFieldSyntax_InlineFieldSyntax (VAL in_Maybe_1, uint64_t in_Token_2, uint64_t in_Name_3, uint64_t in_Token_4, VAL in_Maybe_5) {
	TUP* v7 = tup_new(5);
	v7->size = 5;
	v7->cells[4] = in_Maybe_5;
	v7->cells[3] = MKU64(in_Token_4);
	v7->cells[2] = MKU64(in_Name_3);
	v7->cells[1] = MKU64(in_Token_2);
	v7->cells[0] = in_Maybe_1;
	return v7;
}
static void mtp_mirth_table_InlineFieldSyntax_InlineFieldSyntax (TUP* in_InlineFieldSyntax_1, VAL *out_Maybe_2, uint64_t *out_Token_3, uint64_t *out_Name_4, uint64_t *out_Token_5, VAL *out_Maybe_6) {
	VAL v7 = in_InlineFieldSyntax_1->cells[0];
	uint64_t v8 = value_u64(in_InlineFieldSyntax_1->cells[1]);
	uint64_t v9 = value_u64(in_InlineFieldSyntax_1->cells[2]);
	uint64_t v10 = value_u64(in_InlineFieldSyntax_1->cells[3]);
	VAL v11 = in_InlineFieldSyntax_1->cells[4];
	tup_decref_outer(in_InlineFieldSyntax_1,5);
	*out_Maybe_6 = v11;
	*out_Token_5 = v10;
	*out_Name_4 = v9;
	*out_Token_3 = v8;
	*out_Maybe_2 = v7;
}
static VAL mtw_mirth_tycon_Tycon_Data (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Data_1);
	v3->cells[0] = MKI64(0LL /* Data */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_tycon_Tycon_Data (VAL in_Tycon_1) {
	uint64_t v3 = value_u64(value_tup(in_Tycon_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Tycon_1, 2),2);
	return v3;
}
static VAL mtw_mirth_tycon_Tycon_Table (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Table_1);
	v3->cells[0] = MKI64(1LL /* Table */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_tycon_Tycon_Table (VAL in_Tycon_1) {
	uint64_t v3 = value_u64(value_tup(in_Tycon_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Tycon_1, 2),2);
	return v3;
}
static VAL mtw_mirth_tycon_Tycon_Prim (int64_t in_PrimType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_PrimType_1);
	v3->cells[0] = MKI64(2LL /* Prim */);
	return MKTUP(v3, 2);
}
static int64_t mtp_mirth_tycon_Tycon_Prim (VAL in_Tycon_1) {
	int64_t v3 = value_i64(value_tup(in_Tycon_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Tycon_1, 2),2);
	return v3;
}
static TUP* mtw_mirth_data_SemiTransparentData_SemiTransparentData (uint64_t in_Tag_1, VAL in_StackTypePart_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = in_StackTypePart_2;
	v4->cells[0] = MKU64(in_Tag_1);
	return v4;
}
static TUP* mtw_mirth_data_DataPartial_DataPartial (uint64_t in_Data_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKU64(in_Label_2);
	v4->cells[0] = MKU64(in_Data_1);
	return v4;
}
static void mtp_mirth_data_DataPartial_DataPartial (TUP* in_DataPartial_1, uint64_t *out_Data_2, uint64_t *out_Label_3) {
	uint64_t v4 = value_u64(in_DataPartial_1->cells[0]);
	uint64_t v5 = value_u64(in_DataPartial_1->cells[1]);
	tup_decref_outer(in_DataPartial_1,2);
	*out_Label_3 = v5;
	*out_Data_2 = v4;
}
static TUP* mtw_mirth_data_TagField_TagField (uint64_t in_Tag_1, uint64_t in_Label_2, VAL in_Either_3) {
	TUP* v5 = tup_new(3);
	v5->size = 3;
	v5->cells[2] = in_Either_3;
	v5->cells[1] = MKU64(in_Label_2);
	v5->cells[0] = MKU64(in_Tag_1);
	return v5;
}
static void mtp_mirth_data_TagField_TagField (TUP* in_TagField_1, uint64_t *out_Tag_2, uint64_t *out_Label_3, VAL *out_Either_4) {
	uint64_t v5 = value_u64(in_TagField_1->cells[0]);
	uint64_t v6 = value_u64(in_TagField_1->cells[1]);
	VAL v7 = in_TagField_1->cells[2];
	tup_decref_outer(in_TagField_1,3);
	*out_Either_4 = v7;
	*out_Label_3 = v6;
	*out_Tag_2 = v5;
}
static TUP* mtw_mirth_arrow_Arrow_Arrow (VAL in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Ctx_4, VAL in_StackType_5, VAL in_StackType_6, VAL in_List_7) {
	TUP* v9 = tup_new(7);
	v9->size = 7;
	v9->cells[6] = in_List_7;
	v9->cells[5] = in_StackType_6;
	v9->cells[4] = in_StackType_5;
	v9->cells[3] = in_Ctx_4;
	v9->cells[2] = MKU64(in_Token_3);
	v9->cells[1] = MKU64(in_Token_2);
	v9->cells[0] = in_Home_1;
	return v9;
}
static TUP* mtw_mirth_arrow_Atom_Atom (VAL in_Home_1, uint64_t in_Token_2, VAL in_Ctx_3, VAL in_Op_4, VAL in_List_5, VAL in_StackType_6, VAL in_StackType_7, VAL in_Subst_8) {
	TUP* v10 = tup_new(8);
	v10->size = 8;
	v10->cells[7] = in_Subst_8;
	v10->cells[6] = in_StackType_7;
	v10->cells[5] = in_StackType_6;
	v10->cells[4] = in_List_5;
	v10->cells[3] = in_Op_4;
	v10->cells[2] = in_Ctx_3;
	v10->cells[1] = MKU64(in_Token_2);
	v10->cells[0] = in_Home_1;
	return v10;
}
static VAL mtw_mirth_arrow_PushValue_Str (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(0LL /* Str */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_arrow_PushValue_Str (VAL in_PushValue_1) {
	STR* v3 = value_str(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_Int (INT in_Int_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKINT(in_Int_1);
	v3->cells[0] = MKI64(1LL /* Int */);
	return MKTUP(v3, 2);
}
static INT mtp_mirth_arrow_PushValue_Int (VAL in_PushValue_1) {
	INT v3 = value_int(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_U8 (uint8_t in_U8_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU8(in_U8_1);
	v3->cells[0] = MKI64(2LL /* U8 */);
	return MKTUP(v3, 2);
}
static uint8_t mtp_mirth_arrow_PushValue_U8 (VAL in_PushValue_1) {
	uint8_t v3 = value_u8(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_U16 (uint16_t in_U16_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU16(in_U16_1);
	v3->cells[0] = MKI64(3LL /* U16 */);
	return MKTUP(v3, 2);
}
static uint16_t mtp_mirth_arrow_PushValue_U16 (VAL in_PushValue_1) {
	uint16_t v3 = value_u16(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_U32 (uint32_t in_U32_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU32(in_U32_1);
	v3->cells[0] = MKI64(4LL /* U32 */);
	return MKTUP(v3, 2);
}
static uint32_t mtp_mirth_arrow_PushValue_U32 (VAL in_PushValue_1) {
	uint32_t v3 = value_u32(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_U64 (uint64_t in_U64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_U64_1);
	v3->cells[0] = MKI64(5LL /* U64 */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_PushValue_U64 (VAL in_PushValue_1) {
	uint64_t v3 = value_u64(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_I8 (int8_t in_I8_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI8(in_I8_1);
	v3->cells[0] = MKI64(6LL /* I8 */);
	return MKTUP(v3, 2);
}
static int8_t mtp_mirth_arrow_PushValue_I8 (VAL in_PushValue_1) {
	int8_t v3 = value_i8(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_I16 (int16_t in_I16_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI16(in_I16_1);
	v3->cells[0] = MKI64(7LL /* I16 */);
	return MKTUP(v3, 2);
}
static int16_t mtp_mirth_arrow_PushValue_I16 (VAL in_PushValue_1) {
	int16_t v3 = value_i16(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_I32 (int32_t in_I32_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI32(in_I32_1);
	v3->cells[0] = MKI64(8LL /* I32 */);
	return MKTUP(v3, 2);
}
static int32_t mtp_mirth_arrow_PushValue_I32 (VAL in_PushValue_1) {
	int32_t v3 = value_i32(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_I64 (int64_t in_I64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_I64_1);
	v3->cells[0] = MKI64(9LL /* I64 */);
	return MKTUP(v3, 2);
}
static int64_t mtp_mirth_arrow_PushValue_I64 (VAL in_PushValue_1) {
	int64_t v3 = value_i64(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_F32 (float in_F32_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKF32(in_F32_1);
	v3->cells[0] = MKI64(10LL /* F32 */);
	return MKTUP(v3, 2);
}
static float mtp_mirth_arrow_PushValue_F32 (VAL in_PushValue_1) {
	float v3 = value_f32(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_PushValue_F64 (double in_F64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKF64(in_F64_1);
	v3->cells[0] = MKI64(11LL /* F64 */);
	return MKTUP(v3, 2);
}
static double mtp_mirth_arrow_PushValue_F64 (VAL in_PushValue_1) {
	double v3 = value_f64(value_tup(in_PushValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PushValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Prim (int64_t in_Prim_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_Prim_1);
	v3->cells[0] = MKI64(0LL /* Prim */);
	return MKTUP(v3, 2);
}
static int64_t mtp_mirth_arrow_Op_Prim (VAL in_Op_1) {
	int64_t v3 = value_i64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Word (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(1LL /* Word */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_Word (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_External (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_External_1);
	v3->cells[0] = MKI64(2LL /* External */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_External (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Buffer (uint64_t in_Buffer_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Buffer_1);
	v3->cells[0] = MKI64(3LL /* Buffer */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_Buffer (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Field (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Field_1);
	v3->cells[0] = MKI64(4LL /* Field */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_Field (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Push (VAL in_PushValue_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_PushValue_1;
	v3->cells[0] = MKI64(5LL /* Push */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_arrow_Op_Push (VAL in_Op_1) {
	VAL v3 = value_tup(in_Op_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Tag (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Tag_1);
	v3->cells[0] = MKI64(6LL /* Tag */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_Tag (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Match (TUP* in_Match_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_Match_1, 7);
	v3->cells[0] = MKI64(7LL /* Match */);
	return MKTUP(v3, 2);
}
static TUP* mtp_mirth_arrow_Op_Match (VAL in_Op_1) {
	TUP* v3 = value_tup(value_tup(in_Op_1, 2)->cells[1], 7);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Lambda (TUP* in_Lambda_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_Lambda_1, 5);
	v3->cells[0] = MKI64(8LL /* Lambda */);
	return MKTUP(v3, 2);
}
static TUP* mtp_mirth_arrow_Op_Lambda (VAL in_Op_1) {
	TUP* v3 = value_tup(value_tup(in_Op_1, 2)->cells[1], 5);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_Var (uint64_t in_Var_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Var_1);
	v3->cells[0] = MKI64(9LL /* Var */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_Var (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_BlockPush (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Block_1);
	v3->cells[0] = MKI64(10LL /* BlockPush */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_BlockPush (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static uint64_t mtp_mirth_arrow_Op_BlockRun (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_LabelPush (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(12LL /* LabelPush */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_LabelPush (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_LabelPop (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(13LL /* LabelPop */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_LabelPop (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_LabelPushR (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(14LL /* LabelPushR */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_LabelPushR (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_LabelPopR (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(15LL /* LabelPopR */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_LabelPopR (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_DataGetEnumValue (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Data_1);
	v3->cells[0] = MKI64(16LL /* DataGetEnumValue */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_DataGetEnumValue (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_DataFromEnumValue (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Data_1);
	v3->cells[0] = MKI64(17LL /* DataFromEnumValue */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_DataFromEnumValue (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_DataGetLabel (TUP* in_TagField_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_TagField_1, 3);
	v3->cells[0] = MKI64(18LL /* DataGetLabel */);
	return MKTUP(v3, 2);
}
static TUP* mtp_mirth_arrow_Op_DataGetLabel (VAL in_Op_1) {
	TUP* v3 = value_tup(value_tup(in_Op_1, 2)->cells[1], 3);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_DataSetLabel (TUP* in_TagField_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_TagField_1, 3);
	v3->cells[0] = MKI64(19LL /* DataSetLabel */);
	return MKTUP(v3, 2);
}
static TUP* mtp_mirth_arrow_Op_DataSetLabel (VAL in_Op_1) {
	TUP* v3 = value_tup(value_tup(in_Op_1, 2)->cells[1], 3);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_TableToIndex (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Table_1);
	v3->cells[0] = MKI64(20LL /* TableToIndex */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_TableToIndex (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_TableFromIndex (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Table_1);
	v3->cells[0] = MKI64(21LL /* TableFromIndex */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Op_TableFromIndex (VAL in_Op_1) {
	uint64_t v3 = value_u64(value_tup(in_Op_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Op_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Home_Main (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(0LL /* Main */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Home_Main (VAL in_Home_1) {
	uint64_t v3 = value_u64(value_tup(in_Home_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Home_1, 2),2);
	return v3;
}
static VAL mtw_mirth_arrow_Home_Word (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(1LL /* Word */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_arrow_Home_Word (VAL in_Home_1) {
	uint64_t v3 = value_u64(value_tup(in_Home_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Home_1, 2),2);
	return v3;
}
static TUP* mtw_mirth_arrow_Lambda_Lambda (uint64_t in_Token_1, VAL in_Ctx_2, VAL in_StackType_3, VAL in_List_4, TUP* in_Arrow_5) {
	TUP* v7 = tup_new(5);
	v7->size = 5;
	v7->cells[4] = MKTUP(in_Arrow_5, 7);
	v7->cells[3] = in_List_4;
	v7->cells[2] = in_StackType_3;
	v7->cells[1] = in_Ctx_2;
	v7->cells[0] = MKU64(in_Token_1);
	return v7;
}
static VAL mtw_mirth_type_Type_Prim (int64_t in_PrimType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_PrimType_1);
	v3->cells[0] = MKI64(2LL /* Prim */);
	return MKTUP(v3, 2);
}
static int64_t mtp_mirth_type_Type_Prim (VAL in_Type_1) {
	int64_t v3 = value_i64(value_tup(in_Type_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_Meta (uint64_t in_MetaVar_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_MetaVar_1);
	v3->cells[0] = MKI64(3LL /* Meta */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_Type_Meta (VAL in_Type_1) {
	uint64_t v3 = value_u64(value_tup(in_Type_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_Hole (uint64_t in_Name_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Name_1);
	v3->cells[0] = MKI64(4LL /* Hole */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_Type_Hole (VAL in_Type_1) {
	uint64_t v3 = value_u64(value_tup(in_Type_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_Var (uint64_t in_Var_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Var_1);
	v3->cells[0] = MKI64(5LL /* Var */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_Type_Var (VAL in_Type_1) {
	uint64_t v3 = value_u64(value_tup(in_Type_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_Table (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Table_1);
	v3->cells[0] = MKI64(6LL /* Table */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_Type_Table (VAL in_Type_1) {
	uint64_t v3 = value_u64(value_tup(in_Type_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_Data (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Data_1);
	v3->cells[0] = MKI64(7LL /* Data */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_Type_Data (VAL in_Type_1) {
	uint64_t v3 = value_u64(value_tup(in_Type_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_DataPartial (TUP* in_DataPartial_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_DataPartial_1, 2);
	v3->cells[0] = MKI64(8LL /* DataPartial */);
	return MKTUP(v3, 2);
}
static TUP* mtp_mirth_type_Type_DataPartial (VAL in_Type_1) {
	TUP* v3 = value_tup(value_tup(in_Type_1, 2)->cells[1], 2);
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_Stack (VAL in_StackType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_StackType_1;
	v3->cells[0] = MKI64(9LL /* Stack */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_type_Type_Stack (VAL in_Type_1) {
	VAL v3 = value_tup(in_Type_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_Arrow (TUP* in_ArrowType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_ArrowType_1, 2);
	v3->cells[0] = MKI64(10LL /* Arrow */);
	return MKTUP(v3, 2);
}
static TUP* mtp_mirth_type_Type_Arrow (VAL in_Type_1) {
	TUP* v3 = value_tup(value_tup(in_Type_1, 2)->cells[1], 2);
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_App (VAL in_Type_1, VAL in_Type_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = in_Type_2;
	v4->cells[1] = in_Type_1;
	v4->cells[0] = MKI64(11LL /* App */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_type_Type_App (VAL in_Type_1, VAL *out_Type_3) {
	VAL v4 = value_tup(in_Type_1, 3)->cells[1];
	VAL v5 = value_tup(in_Type_1, 3)->cells[2];
	tup_decref_outer(value_tup(in_Type_1, 3),3);
	*out_Type_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_Type_Mut (VAL in_Type_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Type_1;
	v3->cells[0] = MKI64(12LL /* Mut */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_type_Type_Mut (VAL in_Type_1) {
	VAL v3 = value_tup(in_Type_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Type_Value (VAL in_Value_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Value_1;
	v3->cells[0] = MKI64(13LL /* Value */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_type_Type_Value (VAL in_Type_1) {
	VAL v3 = value_tup(in_Type_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Type_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Value_Int (INT in_Int_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKINT(in_Int_1);
	v3->cells[0] = MKI64(0LL /* Int */);
	return MKTUP(v3, 2);
}
static INT mtp_mirth_type_Value_Int (VAL in_Value_1) {
	INT v3 = value_int(value_tup(in_Value_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Value_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Value_F64 (double in_F64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKF64(in_F64_1);
	v3->cells[0] = MKI64(1LL /* F64 */);
	return MKTUP(v3, 2);
}
static double mtp_mirth_type_Value_F64 (VAL in_Value_1) {
	double v3 = value_f64(value_tup(in_Value_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Value_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Value_Str (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(2LL /* Str */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_type_Value_Str (VAL in_Value_1) {
	STR* v3 = value_str(value_tup(in_Value_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Value_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_Value_Block (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Block_1);
	v3->cells[0] = MKI64(3LL /* Block */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_Value_Block (VAL in_Value_1) {
	uint64_t v3 = value_u64(value_tup(in_Value_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Value_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_StackType_Var (uint64_t in_Var_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Var_1);
	v3->cells[0] = MKI64(3LL /* Var */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_StackType_Var (VAL in_StackType_1) {
	uint64_t v3 = value_u64(value_tup(in_StackType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_StackType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_StackType_Meta (uint64_t in_MetaVar_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_MetaVar_1);
	v3->cells[0] = MKI64(4LL /* Meta */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_StackType_Meta (VAL in_StackType_1) {
	uint64_t v3 = value_u64(value_tup(in_StackType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_StackType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_StackType_Cons (VAL in_StackType_1, VAL in_Type_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = in_Type_2;
	v4->cells[1] = in_StackType_1;
	v4->cells[0] = MKI64(5LL /* Cons */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_type_StackType_Cons (VAL in_StackType_1, VAL *out_Type_3) {
	VAL v4 = value_tup(in_StackType_1, 3)->cells[1];
	VAL v5 = value_tup(in_StackType_1, 3)->cells[2];
	tup_decref_outer(value_tup(in_StackType_1, 3),3);
	*out_Type_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_StackType_ConsLabel (VAL in_StackType_1, VAL in_Type_2, uint64_t in_Label_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[3] = MKU64(in_Label_3);
	v5->cells[2] = in_Type_2;
	v5->cells[1] = in_StackType_1;
	v5->cells[0] = MKI64(6LL /* ConsLabel */);
	return MKTUP(v5, 4);
}
static VAL mtp_mirth_type_StackType_ConsLabel (VAL in_StackType_1, VAL *out_Type_3, uint64_t *out_Label_4) {
	VAL v5 = value_tup(in_StackType_1, 4)->cells[1];
	VAL v6 = value_tup(in_StackType_1, 4)->cells[2];
	uint64_t v7 = value_u64(value_tup(in_StackType_1, 4)->cells[3]);
	tup_decref_outer(value_tup(in_StackType_1, 4),4);
	*out_Label_4 = v7;
	*out_Type_3 = v6;
	return v5;
}
static VAL mtw_mirth_type_StackType_With (VAL in_StackType_1, VAL in_Resource_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = in_Resource_2;
	v4->cells[1] = in_StackType_1;
	v4->cells[0] = MKI64(7LL /* With */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_type_StackType_With (VAL in_StackType_1, VAL *out_Resource_3) {
	VAL v4 = value_tup(in_StackType_1, 3)->cells[1];
	VAL v5 = value_tup(in_StackType_1, 3)->cells[2];
	tup_decref_outer(value_tup(in_StackType_1, 3),3);
	*out_Resource_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_StackType_WithLabel (VAL in_StackType_1, VAL in_Resource_2, uint64_t in_Label_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[3] = MKU64(in_Label_3);
	v5->cells[2] = in_Resource_2;
	v5->cells[1] = in_StackType_1;
	v5->cells[0] = MKI64(8LL /* WithLabel */);
	return MKTUP(v5, 4);
}
static VAL mtp_mirth_type_StackType_WithLabel (VAL in_StackType_1, VAL *out_Resource_3, uint64_t *out_Label_4) {
	VAL v5 = value_tup(in_StackType_1, 4)->cells[1];
	VAL v6 = value_tup(in_StackType_1, 4)->cells[2];
	uint64_t v7 = value_u64(value_tup(in_StackType_1, 4)->cells[3]);
	tup_decref_outer(value_tup(in_StackType_1, 4),4);
	*out_Label_4 = v7;
	*out_Resource_3 = v6;
	return v5;
}
static VAL mtw_mirth_type_StackTypeBase_Var (uint64_t in_Var_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Var_1);
	v3->cells[0] = MKI64(3LL /* Var */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_StackTypeBase_Var (VAL in_StackTypeBase_1) {
	uint64_t v3 = value_u64(value_tup(in_StackTypeBase_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_StackTypeBase_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_StackTypeBase_Meta (uint64_t in_MetaVar_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_MetaVar_1);
	v3->cells[0] = MKI64(4LL /* Meta */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_type_StackTypeBase_Meta (VAL in_StackTypeBase_1) {
	uint64_t v3 = value_u64(value_tup(in_StackTypeBase_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_StackTypeBase_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_StackTypePart_Cons (VAL in_Type_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Type_1;
	v3->cells[0] = MKI64(0LL /* Cons */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_type_StackTypePart_Cons (VAL in_StackTypePart_1) {
	VAL v3 = value_tup(in_StackTypePart_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_StackTypePart_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_StackTypePart_ConsLabel (VAL in_Type_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = in_Type_1;
	v4->cells[0] = MKI64(1LL /* ConsLabel */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_type_StackTypePart_ConsLabel (VAL in_StackTypePart_1, uint64_t *out_Label_3) {
	VAL v4 = value_tup(in_StackTypePart_1, 3)->cells[1];
	uint64_t v5 = value_u64(value_tup(in_StackTypePart_1, 3)->cells[2]);
	tup_decref_outer(value_tup(in_StackTypePart_1, 3),3);
	*out_Label_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_StackTypePart_With (VAL in_Resource_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Resource_1;
	v3->cells[0] = MKI64(2LL /* With */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_type_StackTypePart_With (VAL in_StackTypePart_1) {
	VAL v3 = value_tup(in_StackTypePart_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_StackTypePart_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_StackTypePart_WithLabel (VAL in_Resource_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = in_Resource_1;
	v4->cells[0] = MKI64(3LL /* WithLabel */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_type_StackTypePart_WithLabel (VAL in_StackTypePart_1, uint64_t *out_Label_3) {
	VAL v4 = value_tup(in_StackTypePart_1, 3)->cells[1];
	uint64_t v5 = value_u64(value_tup(in_StackTypePart_1, 3)->cells[2]);
	tup_decref_outer(value_tup(in_StackTypePart_1, 3),3);
	*out_Label_3 = v5;
	return v4;
}
static TUP* mtw_mirth_type_ArrowType_ArrowType (VAL in_StackType_1, VAL in_StackType_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = in_StackType_2;
	v4->cells[0] = in_StackType_1;
	return v4;
}
static void mtp_mirth_type_ArrowType_ArrowType (TUP* in_ArrowType_1, VAL *out_StackType_2, VAL *out_StackType_3) {
	VAL v4 = in_ArrowType_1->cells[0];
	VAL v5 = in_ArrowType_1->cells[1];
	tup_decref_outer(in_ArrowType_1,2);
	*out_StackType_3 = v5;
	*out_StackType_2 = v4;
}
static VAL mtw_mirth_type_CType_UInt (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(0LL /* UInt */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_type_CType_UInt (VAL in_CType_1) {
	STR* v3 = value_str(value_tup(in_CType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_CType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CType_Int (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(1LL /* Int */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_type_CType_Int (VAL in_CType_1) {
	STR* v3 = value_str(value_tup(in_CType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_CType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CType_F32 (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(2LL /* F32 */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_type_CType_F32 (VAL in_CType_1) {
	STR* v3 = value_str(value_tup(in_CType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_CType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CType_F64 (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(3LL /* F64 */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_type_CType_F64 (VAL in_CType_1) {
	STR* v3 = value_str(value_tup(in_CType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_CType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CType_Ptr (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(4LL /* Ptr */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_type_CType_Ptr (VAL in_CType_1) {
	STR* v3 = value_str(value_tup(in_CType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_CType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CType_FnPtr (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(5LL /* FnPtr */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_type_CType_FnPtr (VAL in_CType_1) {
	STR* v3 = value_str(value_tup(in_CType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_CType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CType_Void (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(6LL /* Void */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_type_CType_Void (VAL in_CType_1) {
	STR* v3 = value_str(value_tup(in_CType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_CType_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CTypeStackPart_Cons (VAL in_CType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_CType_1;
	v3->cells[0] = MKI64(0LL /* Cons */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_type_CTypeStackPart_Cons (VAL in_CTypeStackPart_1) {
	VAL v3 = value_tup(in_CTypeStackPart_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_CTypeStackPart_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CTypeStackPart_ConsLabel (VAL in_CType_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = in_CType_1;
	v4->cells[0] = MKI64(1LL /* ConsLabel */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_type_CTypeStackPart_ConsLabel (VAL in_CTypeStackPart_1, uint64_t *out_Label_3) {
	VAL v4 = value_tup(in_CTypeStackPart_1, 3)->cells[1];
	uint64_t v5 = value_u64(value_tup(in_CTypeStackPart_1, 3)->cells[2]);
	tup_decref_outer(value_tup(in_CTypeStackPart_1, 3),3);
	*out_Label_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_CTypeStackPart_With (VAL in_CType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_CType_1;
	v3->cells[0] = MKI64(2LL /* With */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_type_CTypeStackPart_With (VAL in_CTypeStackPart_1) {
	VAL v3 = value_tup(in_CTypeStackPart_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_CTypeStackPart_1, 2),2);
	return v3;
}
static VAL mtw_mirth_type_CTypeStackPart_WithLabel (VAL in_CType_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = in_CType_1;
	v4->cells[0] = MKI64(3LL /* WithLabel */);
	return MKTUP(v4, 3);
}
static VAL mtp_mirth_type_CTypeStackPart_WithLabel (VAL in_CTypeStackPart_1, uint64_t *out_Label_3) {
	VAL v4 = value_tup(in_CTypeStackPart_1, 3)->cells[1];
	uint64_t v5 = value_u64(value_tup(in_CTypeStackPart_1, 3)->cells[2]);
	tup_decref_outer(value_tup(in_CTypeStackPart_1, 3),3);
	*out_Label_3 = v5;
	return v4;
}
static TUP* mtw_mirth_type_CTypeStack_CTypeStack (VAL in_Maybe_1, VAL in_List_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = in_List_2;
	v4->cells[0] = in_Maybe_1;
	return v4;
}
static TUP* mtw_mirth_type_CTypeArrow_CTypeArrow (TUP* in_CTypeStack_1, TUP* in_CTypeStack_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKTUP(in_CTypeStack_2, 2);
	v4->cells[0] = MKTUP(in_CTypeStack_1, 2);
	return v4;
}
static VAL mtw_mirth_token_TokenValue_LParen (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(6LL /* LParen */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LParen (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_RParen (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(7LL /* RParen */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_RParen (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LSquare (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(8LL /* LSquare */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LSquare (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_RSquare (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(9LL /* RSquare */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_RSquare (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LCurly (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(10LL /* LCurly */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LCurly (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_RCurly (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(11LL /* RCurly */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_RCurly (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LColon (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(12LL /* LColon */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LColon (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_RColon (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Token_1);
	v3->cells[0] = MKI64(13LL /* RColon */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_RColon (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_Int (INT in_Int_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKINT(in_Int_1);
	v3->cells[0] = MKI64(14LL /* Int */);
	return MKTUP(v3, 2);
}
static INT mtp_mirth_token_TokenValue_Int (VAL in_TokenValue_1) {
	INT v3 = value_int(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_U8 (uint8_t in_U8_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU8(in_U8_1);
	v3->cells[0] = MKI64(15LL /* U8 */);
	return MKTUP(v3, 2);
}
static uint8_t mtp_mirth_token_TokenValue_U8 (VAL in_TokenValue_1) {
	uint8_t v3 = value_u8(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_U16 (uint16_t in_U16_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU16(in_U16_1);
	v3->cells[0] = MKI64(16LL /* U16 */);
	return MKTUP(v3, 2);
}
static uint16_t mtp_mirth_token_TokenValue_U16 (VAL in_TokenValue_1) {
	uint16_t v3 = value_u16(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_U32 (uint32_t in_U32_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU32(in_U32_1);
	v3->cells[0] = MKI64(17LL /* U32 */);
	return MKTUP(v3, 2);
}
static uint32_t mtp_mirth_token_TokenValue_U32 (VAL in_TokenValue_1) {
	uint32_t v3 = value_u32(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_U64 (uint64_t in_U64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_U64_1);
	v3->cells[0] = MKI64(18LL /* U64 */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_U64 (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_I8 (int8_t in_I8_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI8(in_I8_1);
	v3->cells[0] = MKI64(19LL /* I8 */);
	return MKTUP(v3, 2);
}
static int8_t mtp_mirth_token_TokenValue_I8 (VAL in_TokenValue_1) {
	int8_t v3 = value_i8(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_I16 (int16_t in_I16_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI16(in_I16_1);
	v3->cells[0] = MKI64(20LL /* I16 */);
	return MKTUP(v3, 2);
}
static int16_t mtp_mirth_token_TokenValue_I16 (VAL in_TokenValue_1) {
	int16_t v3 = value_i16(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_I32 (int32_t in_I32_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI32(in_I32_1);
	v3->cells[0] = MKI64(21LL /* I32 */);
	return MKTUP(v3, 2);
}
static int32_t mtp_mirth_token_TokenValue_I32 (VAL in_TokenValue_1) {
	int32_t v3 = value_i32(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_I64 (int64_t in_I64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_I64_1);
	v3->cells[0] = MKI64(22LL /* I64 */);
	return MKTUP(v3, 2);
}
static int64_t mtp_mirth_token_TokenValue_I64 (VAL in_TokenValue_1) {
	int64_t v3 = value_i64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_F64 (double in_F64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKF64(in_F64_1);
	v3->cells[0] = MKI64(23LL /* F64 */);
	return MKTUP(v3, 2);
}
static double mtp_mirth_token_TokenValue_F64 (VAL in_TokenValue_1) {
	double v3 = value_f64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static float mtp_mirth_token_TokenValue_F32 (VAL in_TokenValue_1) {
	float v3 = value_f32(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_Str (STR* in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKSTR(in_Str_1);
	v3->cells[0] = MKI64(25LL /* Str */);
	return MKTUP(v3, 2);
}
static STR* mtp_mirth_token_TokenValue_Str (VAL in_TokenValue_1) {
	STR* v3 = value_str(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_Name (uint64_t in_Name_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Name_1);
	v3->cells[0] = MKI64(26LL /* Name */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_Name (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_DName (TUP* in_DName_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKTUP(in_DName_1, 2);
	v3->cells[0] = MKI64(27LL /* DName */);
	return MKTUP(v3, 2);
}
static TUP* mtp_mirth_token_TokenValue_DName (VAL in_TokenValue_1) {
	TUP* v3 = value_tup(value_tup(in_TokenValue_1, 2)->cells[1], 2);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LabelPop (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(28LL /* LabelPop */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LabelPop (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LabelPush (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(29LL /* LabelPush */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LabelPush (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LabelPopR (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(30LL /* LabelPopR */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LabelPopR (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LabelPushR (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(31LL /* LabelPushR */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LabelPushR (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LabelGet (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(32LL /* LabelGet */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LabelGet (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_LabelSet (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(33LL /* LabelSet */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_token_TokenValue_LabelSet (VAL in_TokenValue_1) {
	uint64_t v3 = value_u64(value_tup(in_TokenValue_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_TokenValue_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Alias (uint64_t in_Alias_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Alias_1);
	v3->cells[0] = MKI64(0LL /* Alias */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Alias (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Module (uint64_t in_Module_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Module_1);
	v3->cells[0] = MKI64(1LL /* Module */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Module (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Package (uint64_t in_Package_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Package_1);
	v3->cells[0] = MKI64(2LL /* Package */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Package (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Data (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Data_1);
	v3->cells[0] = MKI64(3LL /* Data */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Data (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Table (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Table_1);
	v3->cells[0] = MKI64(4LL /* Table */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Table (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Type (uint64_t in_TypeDef_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_TypeDef_1);
	v3->cells[0] = MKI64(5LL /* Type */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Type (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Tag (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Tag_1);
	v3->cells[0] = MKI64(6LL /* Tag */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Tag (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Prim (int64_t in_Prim_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKI64(in_Prim_1);
	v3->cells[0] = MKI64(7LL /* Prim */);
	return MKTUP(v3, 2);
}
static int64_t mtp_mirth_def_Def_Prim (VAL in_Def_1) {
	int64_t v3 = value_i64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Word (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(8LL /* Word */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Word (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Buffer (uint64_t in_Buffer_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Buffer_1);
	v3->cells[0] = MKI64(9LL /* Buffer */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Buffer (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_External (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_External_1);
	v3->cells[0] = MKI64(10LL /* External */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_External (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Field (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Field_1);
	v3->cells[0] = MKI64(11LL /* Field */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Field (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_def_Def_Macro (uint64_t in_Macro_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Macro_1);
	v3->cells[0] = MKI64(12LL /* Macro */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_def_Def_Macro (VAL in_Def_1) {
	uint64_t v3 = value_u64(value_tup(in_Def_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Def_1, 2),2);
	return v3;
}
static VAL mtw_mirth_name_Namespace_Package (uint64_t in_Package_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Package_1);
	v3->cells[0] = MKI64(1LL /* Package */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_name_Namespace_Package (VAL in_Namespace_1) {
	uint64_t v3 = value_u64(value_tup(in_Namespace_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Namespace_1, 2),2);
	return v3;
}
static VAL mtw_mirth_name_Namespace_Module (uint64_t in_Module_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Module_1);
	v3->cells[0] = MKI64(2LL /* Module */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_name_Namespace_Module (VAL in_Namespace_1) {
	uint64_t v3 = value_u64(value_tup(in_Namespace_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Namespace_1, 2),2);
	return v3;
}
static VAL mtw_mirth_name_Namespace_Tycon (VAL in_Tycon_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_Tycon_1;
	v3->cells[0] = MKI64(3LL /* Tycon */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_name_Namespace_Tycon (VAL in_Namespace_1) {
	VAL v3 = value_tup(in_Namespace_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_Namespace_1, 2),2);
	return v3;
}
static VAL mtw_mirth_name_Namespace_Word (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(4LL /* Word */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_name_Namespace_Word (VAL in_Namespace_1) {
	uint64_t v3 = value_u64(value_tup(in_Namespace_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Namespace_1, 2),2);
	return v3;
}
static TUP* mtw_mirth_name_QName_QName (VAL in_Namespace_1, uint64_t in_Name_2, INT in_Int_3) {
	TUP* v5 = tup_new(3);
	v5->size = 3;
	v5->cells[2] = MKINT(in_Int_3);
	v5->cells[1] = MKU64(in_Name_2);
	v5->cells[0] = in_Namespace_1;
	return v5;
}
static void mtp_mirth_name_QName_QName (TUP* in_QName_1, VAL *out_Namespace_2, uint64_t *out_Name_3, INT *out_Int_4) {
	VAL v5 = in_QName_1->cells[0];
	uint64_t v6 = value_u64(in_QName_1->cells[1]);
	INT v7 = value_int(in_QName_1->cells[2]);
	tup_decref_outer(in_QName_1,3);
	*out_Int_4 = v7;
	*out_Name_3 = v6;
	*out_Namespace_2 = v5;
}
static TUP* mtw_mirth_name_DName_DName (VAL in_Maybe_1, TUP* in_Nest_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKTUP(in_Nest_2, 2);
	v4->cells[0] = in_Maybe_1;
	return v4;
}
static VAL mtp_mirth_name_DName_DName (TUP* in_DName_1, TUP* *out_Nest_3) {
	VAL v4 = in_DName_1->cells[0];
	TUP* v5 = value_tup(in_DName_1->cells[1], 2);
	tup_decref_outer(in_DName_1,2);
	*out_Nest_3 = v5;
	return v4;
}
static TUP* mtw_mirth_location_Location_Location (uint64_t in_Module_1, INT in_Row_2, INT in_Col_3) {
	TUP* v5 = tup_new(3);
	v5->size = 3;
	v5->cells[2] = MKINT(in_Col_3);
	v5->cells[1] = MKINT(in_Row_2);
	v5->cells[0] = MKU64(in_Module_1);
	return v5;
}
static void mtp_mirth_location_Location_Location (TUP* in_Location_1, uint64_t *out_Module_2, INT *out_Row_3, INT *out_Col_4) {
	uint64_t v5 = value_u64(in_Location_1->cells[0]);
	INT v6 = value_int(in_Location_1->cells[1]);
	INT v7 = value_int(in_Location_1->cells[2]);
	tup_decref_outer(in_Location_1,3);
	*out_Col_4 = v7;
	*out_Row_3 = v6;
	*out_Module_2 = v5;
}
static TUP* mtw_mirth_mirth_Builtin_Builtin (uint64_t in_Package_1, uint64_t in_Module_2, uint64_t in_Data_3, uint64_t in_Tag_4, uint64_t in_Data_5, uint64_t in_Tag_6, uint64_t in_Data_7, uint64_t in_Tag_8, uint64_t in_Data_9, uint64_t in_Tag_10, uint64_t in_Data_11, uint64_t in_Tag_12, uint64_t in_Data_13, uint64_t in_Tag_14, uint64_t in_Data_15, uint64_t in_Tag_16, uint64_t in_Data_17, uint64_t in_Tag_18, uint64_t in_Data_19, uint64_t in_Tag_20, uint64_t in_Data_21, uint64_t in_Tag_22, uint64_t in_Data_23, uint64_t in_Tag_24, uint64_t in_Data_25, uint64_t in_Tag_26, uint64_t in_Data_27, uint64_t in_Tag_28, uint64_t in_Data_29, uint64_t in_Tag_30, uint64_t in_Data_31, uint64_t in_Tag_32, uint64_t in_Data_33, uint64_t in_Tag_34, uint64_t in_Data_35, uint64_t in_Tag_36, uint64_t in_Data_37, uint64_t in_Tag_38, uint64_t in_Data_39, uint64_t in_Tag_40, uint64_t in_Data_41, uint64_t in_Tag_42) {
	TUP* v44 = tup_new(42);
	v44->size = 42;
	v44->cells[41] = MKU64(in_Tag_42);
	v44->cells[40] = MKU64(in_Data_41);
	v44->cells[39] = MKU64(in_Tag_40);
	v44->cells[38] = MKU64(in_Data_39);
	v44->cells[37] = MKU64(in_Tag_38);
	v44->cells[36] = MKU64(in_Data_37);
	v44->cells[35] = MKU64(in_Tag_36);
	v44->cells[34] = MKU64(in_Data_35);
	v44->cells[33] = MKU64(in_Tag_34);
	v44->cells[32] = MKU64(in_Data_33);
	v44->cells[31] = MKU64(in_Tag_32);
	v44->cells[30] = MKU64(in_Data_31);
	v44->cells[29] = MKU64(in_Tag_30);
	v44->cells[28] = MKU64(in_Data_29);
	v44->cells[27] = MKU64(in_Tag_28);
	v44->cells[26] = MKU64(in_Data_27);
	v44->cells[25] = MKU64(in_Tag_26);
	v44->cells[24] = MKU64(in_Data_25);
	v44->cells[23] = MKU64(in_Tag_24);
	v44->cells[22] = MKU64(in_Data_23);
	v44->cells[21] = MKU64(in_Tag_22);
	v44->cells[20] = MKU64(in_Data_21);
	v44->cells[19] = MKU64(in_Tag_20);
	v44->cells[18] = MKU64(in_Data_19);
	v44->cells[17] = MKU64(in_Tag_18);
	v44->cells[16] = MKU64(in_Data_17);
	v44->cells[15] = MKU64(in_Tag_16);
	v44->cells[14] = MKU64(in_Data_15);
	v44->cells[13] = MKU64(in_Tag_14);
	v44->cells[12] = MKU64(in_Data_13);
	v44->cells[11] = MKU64(in_Tag_12);
	v44->cells[10] = MKU64(in_Data_11);
	v44->cells[9] = MKU64(in_Tag_10);
	v44->cells[8] = MKU64(in_Data_9);
	v44->cells[7] = MKU64(in_Tag_8);
	v44->cells[6] = MKU64(in_Data_7);
	v44->cells[5] = MKU64(in_Tag_6);
	v44->cells[4] = MKU64(in_Data_5);
	v44->cells[3] = MKU64(in_Tag_4);
	v44->cells[2] = MKU64(in_Data_3);
	v44->cells[1] = MKU64(in_Module_2);
	v44->cells[0] = MKU64(in_Package_1);
	return v44;
}
static TUP* mtw_mirth_mirth_LexicalState_LexicalState (VAL in_Maybe_1, VAL in_Maybe_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = in_Maybe_2;
	v4->cells[0] = in_Maybe_1;
	return v4;
}
static void mtw_mirth_mirth_ZPlusMirth_ZPlusMirth (INT in_Nat_1, INT in_Nat_2, TUP* in_Builtin_3, VAL in_Maybe_4, VAL in_List_5, bool in_Bool_6, TUP* in_LexicalState_7, VAL in_ZPlusLister_8, VAL in_ZPlusLister_9, TUP* in_ZPlusNameHashMap_10, TUP* *out_ZPlusMirth_11) {
	TUP* v12 = tup_new(10);
	v12->size = 10;
	v12->cells[9] = MKTUP(in_ZPlusNameHashMap_10, 2);
	v12->cells[8] = in_ZPlusLister_9;
	v12->cells[7] = in_ZPlusLister_8;
	v12->cells[6] = MKTUP(in_LexicalState_7, 2);
	v12->cells[5] = MKBOOL(in_Bool_6);
	v12->cells[4] = in_List_5;
	v12->cells[3] = in_Maybe_4;
	v12->cells[2] = MKTUP(in_Builtin_3, 42);
	v12->cells[1] = MKINT(in_Nat_2);
	v12->cells[0] = MKINT(in_Nat_1);
	*out_ZPlusMirth_11 = v12;
}
static void mtp_mirth_mirth_ZPlusMirth_ZPlusMirth (TUP* in_ZPlusMirth_1, INT *out_Nat_2, INT *out_Nat_3, TUP* *out_Builtin_4, VAL *out_Maybe_5, VAL *out_List_6, bool *out_Bool_7, TUP* *out_LexicalState_8, VAL *out_ZPlusLister_9, VAL *out_ZPlusLister_10, TUP* *out_ZPlusNameHashMap_11) {
	INT v12 = value_int(in_ZPlusMirth_1->cells[0]);
	INT v13 = value_int(in_ZPlusMirth_1->cells[1]);
	TUP* v14 = value_tup(in_ZPlusMirth_1->cells[2], 42);
	VAL v15 = in_ZPlusMirth_1->cells[3];
	VAL v16 = in_ZPlusMirth_1->cells[4];
	bool v17 = value_bool(in_ZPlusMirth_1->cells[5]);
	TUP* v18 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	VAL v19 = in_ZPlusMirth_1->cells[7];
	VAL v20 = in_ZPlusMirth_1->cells[8];
	TUP* v21 = value_tup(in_ZPlusMirth_1->cells[9], 2);
	tup_decref_outer(in_ZPlusMirth_1,10);
	*out_ZPlusNameHashMap_11 = v21;
	*out_ZPlusLister_10 = v20;
	*out_ZPlusLister_9 = v19;
	*out_LexicalState_8 = v18;
	*out_Bool_7 = v17;
	*out_List_6 = v16;
	*out_Maybe_5 = v15;
	*out_Builtin_4 = v14;
	*out_Nat_3 = v13;
	*out_Nat_2 = v12;
}
static TUP* mtw_mirth_mirth_Diagnostic_Diagnostic (int64_t in_Severity_1, TUP* in_Location_2, STR* in_Str_3) {
	TUP* v5 = tup_new(3);
	v5->size = 3;
	v5->cells[2] = MKSTR(in_Str_3);
	v5->cells[1] = MKTUP(in_Location_2, 3);
	v5->cells[0] = MKI64(in_Severity_1);
	return v5;
}
static void mtp_mirth_mirth_Diagnostic_Diagnostic (TUP* in_Diagnostic_1, int64_t *out_Severity_2, TUP* *out_Location_3, STR* *out_Str_4) {
	int64_t v5 = value_i64(in_Diagnostic_1->cells[0]);
	TUP* v6 = value_tup(in_Diagnostic_1->cells[1], 3);
	STR* v7 = value_str(in_Diagnostic_1->cells[2]);
	tup_decref_outer(in_Diagnostic_1,3);
	*out_Str_4 = v7;
	*out_Location_3 = v6;
	*out_Severity_2 = v5;
}
static TUP* mtw_mirth_mirth_Prop_1_Prop (VAL in_PropLabel_1, VAL in_PropState_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = in_PropState_2;
	v4->cells[0] = in_PropLabel_1;
	return v4;
}
static VAL mtw_mirth_mirth_PropState_1_Ready (VAL in_b_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = in_b_1;
	v3->cells[0] = MKI64(0LL /* Ready */);
	return MKTUP(v3, 2);
}
static VAL mtp_mirth_mirth_PropState_1_Ready (VAL in_PropState_1) {
	VAL v3 = value_tup(in_PropState_1, 2)->cells[1];
	tup_decref_outer(value_tup(in_PropState_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropState_1_Delay (TUP* in_LexicalState_1, VAL in_a_2, VAL in__3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[3] = in__3;
	v5->cells[2] = in_a_2;
	v5->cells[1] = MKTUP(in_LexicalState_1, 2);
	v5->cells[0] = MKI64(1LL /* Delay */);
	return MKTUP(v5, 4);
}
static TUP* mtp_mirth_mirth_PropState_1_Delay (VAL in_PropState_1, VAL *out_a_3, VAL *out__4) {
	TUP* v5 = value_tup(value_tup(in_PropState_1, 4)->cells[1], 2);
	VAL v6 = value_tup(in_PropState_1, 4)->cells[2];
	VAL v7 = value_tup(in_PropState_1, 4)->cells[3];
	tup_decref_outer(value_tup(in_PropState_1, 4),4);
	*out__4 = v7;
	*out_a_3 = v6;
	return v5;
}
static VAL mtw_mirth_mirth_PropLabel_DataQName (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Data_1);
	v3->cells[0] = MKI64(1LL /* DataQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_DataQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_DataParams (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Data_1);
	v3->cells[0] = MKI64(2LL /* DataParams */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_DataParams (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_DataCType (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Data_1);
	v3->cells[0] = MKI64(3LL /* DataCType */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_DataCType (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_TagType (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Tag_1);
	v3->cells[0] = MKI64(4LL /* TagType */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_TagType (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_TableQName (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Table_1);
	v3->cells[0] = MKI64(5LL /* TableQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_TableQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_TypeDefQName (uint64_t in_TypeDef_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_TypeDef_1);
	v3->cells[0] = MKI64(6LL /* TypeDefQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_TypeDefQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_TypeDefTarget (uint64_t in_TypeDef_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_TypeDef_1);
	v3->cells[0] = MKI64(7LL /* TypeDefTarget */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_TypeDefTarget (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_WordQName (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(8LL /* WordQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_WordQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_WordType (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(9LL /* WordType */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_WordType (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_WordParams (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(10LL /* WordParams */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_WordParams (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_WordArrow (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(11LL /* WordArrow */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_WordArrow (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_BlockArrow (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Block_1);
	v3->cells[0] = MKI64(12LL /* BlockArrow */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_BlockArrow (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_AliasQName (uint64_t in_Alias_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Alias_1);
	v3->cells[0] = MKI64(13LL /* AliasQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_AliasQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_AliasTarget (uint64_t in_Alias_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Alias_1);
	v3->cells[0] = MKI64(14LL /* AliasTarget */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_AliasTarget (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_ExternalQName (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_External_1);
	v3->cells[0] = MKI64(15LL /* ExternalQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_ExternalQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_ExternalType (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_External_1);
	v3->cells[0] = MKI64(16LL /* ExternalType */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_ExternalType (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_ExternalCType (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_External_1);
	v3->cells[0] = MKI64(17LL /* ExternalCType */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_ExternalCType (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_BufferQName (uint64_t in_Buffer_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Buffer_1);
	v3->cells[0] = MKI64(18LL /* BufferQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_BufferQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_TableOwner (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Table_1);
	v3->cells[0] = MKI64(19LL /* TableOwner */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_TableOwner (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_FieldOwner (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Field_1);
	v3->cells[0] = MKI64(20LL /* FieldOwner */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_FieldOwner (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_FieldQName (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Field_1);
	v3->cells[0] = MKI64(21LL /* FieldQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_FieldQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_FieldValueType (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Field_1);
	v3->cells[0] = MKI64(22LL /* FieldValueType */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_FieldValueType (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_FieldIndexType (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Field_1);
	v3->cells[0] = MKI64(23LL /* FieldIndexType */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_FieldIndexType (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropLabel_MacroQName (uint64_t in_Macro_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Macro_1);
	v3->cells[0] = MKI64(24LL /* MacroQName */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_mirth_PropLabel_MacroQName (VAL in_PropLabel_1) {
	uint64_t v3 = value_u64(value_tup(in_PropLabel_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_PropLabel_1, 2),2);
	return v3;
}
static VAL mtw_mirth_specializzer_SPCheckItem_Word (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(0LL /* Word */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_specializzer_SPCheckItem_Word (VAL in_SPCheckItem_1) {
	uint64_t v3 = value_u64(value_tup(in_SPCheckItem_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_SPCheckItem_1, 2),2);
	return v3;
}
static VAL mtw_mirth_specializzer_SPCheckItem_Block (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Block_1);
	v3->cells[0] = MKI64(1LL /* Block */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_specializzer_SPCheckItem_Block (VAL in_SPCheckItem_1) {
	uint64_t v3 = value_u64(value_tup(in_SPCheckItem_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_SPCheckItem_1, 2),2);
	return v3;
}
static void mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth (TUP* in_SPKey_1, uint64_t in_Word_2, VAL in_Map_3, TUP* in_ZPlusAB_4, TUP* *out_ZPlusSPSynth_5) {
	TUP* v6 = tup_new(4);
	v6->size = 4;
	v6->cells[3] = MKTUP(in_ZPlusAB_4, 7);
	v6->cells[2] = in_Map_3;
	v6->cells[1] = MKU64(in_Word_2);
	v6->cells[0] = MKTUP(in_SPKey_1, 2);
	*out_ZPlusSPSynth_5 = v6;
}
static void mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth (TUP* in_ZPlusSPSynth_1, TUP* *out_SPKey_2, uint64_t *out_Word_3, VAL *out_Map_4, TUP* *out_ZPlusAB_5) {
	TUP* v6 = value_tup(in_ZPlusSPSynth_1->cells[0], 2);
	uint64_t v7 = value_u64(in_ZPlusSPSynth_1->cells[1]);
	VAL v8 = in_ZPlusSPSynth_1->cells[2];
	TUP* v9 = value_tup(in_ZPlusSPSynth_1->cells[3], 7);
	tup_decref_outer(in_ZPlusSPSynth_1,4);
	*out_ZPlusAB_5 = v9;
	*out_Map_4 = v8;
	*out_Word_3 = v7;
	*out_SPKey_2 = v6;
}
static VAL mtw_mirth_need_Need_Word (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Word_1);
	v3->cells[0] = MKI64(0LL /* Word */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_need_Need_Word (VAL in_Need_1) {
	uint64_t v3 = value_u64(value_tup(in_Need_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Need_1, 2),2);
	return v3;
}
static VAL mtw_mirth_need_Need_Block (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Block_1);
	v3->cells[0] = MKI64(1LL /* Block */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_need_Need_Block (VAL in_Need_1) {
	uint64_t v3 = value_u64(value_tup(in_Need_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Need_1, 2),2);
	return v3;
}
static VAL mtw_mirth_need_Need_TagWord (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Tag_1);
	v3->cells[0] = MKI64(2LL /* TagWord */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_need_Need_TagWord (VAL in_Need_1) {
	uint64_t v3 = value_u64(value_tup(in_Need_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Need_1, 2),2);
	return v3;
}
static VAL mtw_mirth_need_Need_TagPattern (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Tag_1);
	v3->cells[0] = MKI64(3LL /* TagPattern */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_need_Need_TagPattern (VAL in_Need_1) {
	uint64_t v3 = value_u64(value_tup(in_Need_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Need_1, 2),2);
	return v3;
}
static VAL mtw_mirth_need_Need_Label (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(4LL /* Label */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_need_Need_Label (VAL in_Need_1) {
	uint64_t v3 = value_u64(value_tup(in_Need_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_Need_1, 2),2);
	return v3;
}
static void mtw_mirth_need_ZPlusNeeds_ZPlusNeeds (VAL in_List_1, TUP* in_ZPlusSet_2, TUP* *out_ZPlusNeeds_3) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKTUP(in_ZPlusSet_2, 2);
	v4->cells[0] = in_List_1;
	*out_ZPlusNeeds_3 = v4;
}
static void mtp_mirth_need_ZPlusNeeds_ZPlusNeeds (TUP* in_ZPlusNeeds_1, VAL *out_List_2, TUP* *out_ZPlusSet_3) {
	VAL v4 = in_ZPlusNeeds_1->cells[0];
	TUP* v5 = value_tup(in_ZPlusNeeds_1->cells[1], 2);
	tup_decref_outer(in_ZPlusNeeds_1,2);
	*out_ZPlusSet_3 = v5;
	*out_List_2 = v4;
}
static TUP* mtw_mirth_c99_C99z_Options_C99z_Options (STR* in_Path_1, bool in_Bool_2) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKBOOL(in_Bool_2);
	v4->cells[0] = MKSTR(in_Path_1);
	return v4;
}
static void mtw_mirth_c99_ZPlusC99_ZPlusC99 (TUP* in_C99z_Options_1, INT in_Nat_2, INT in_Nat_3, bool in_Bool_4, TUP* in_ZPlusNeeds_5, TUP* in_ZPlusOutput_6, TUP* *out_ZPlusC99_7) {
	TUP* v8 = tup_new(6);
	v8->size = 6;
	v8->cells[5] = MKTUP(in_ZPlusOutput_6, 3);
	v8->cells[4] = MKTUP(in_ZPlusNeeds_5, 2);
	v8->cells[3] = MKBOOL(in_Bool_4);
	v8->cells[2] = MKINT(in_Nat_3);
	v8->cells[1] = MKINT(in_Nat_2);
	v8->cells[0] = MKTUP(in_C99z_Options_1, 2);
	*out_ZPlusC99_7 = v8;
}
static void mtp_mirth_c99_ZPlusC99_ZPlusC99 (TUP* in_ZPlusC99_1, TUP* *out_C99z_Options_2, INT *out_Nat_3, INT *out_Nat_4, bool *out_Bool_5, TUP* *out_ZPlusNeeds_6, TUP* *out_ZPlusOutput_7) {
	TUP* v8 = value_tup(in_ZPlusC99_1->cells[0], 2);
	INT v9 = value_int(in_ZPlusC99_1->cells[1]);
	INT v10 = value_int(in_ZPlusC99_1->cells[2]);
	bool v11 = value_bool(in_ZPlusC99_1->cells[3]);
	TUP* v12 = value_tup(in_ZPlusC99_1->cells[4], 2);
	TUP* v13 = value_tup(in_ZPlusC99_1->cells[5], 3);
	tup_decref_outer(in_ZPlusC99_1,6);
	*out_ZPlusOutput_7 = v13;
	*out_ZPlusNeeds_6 = v12;
	*out_Bool_5 = v11;
	*out_Nat_4 = v10;
	*out_Nat_3 = v9;
	*out_C99z_Options_2 = v8;
}
static VAL mtw_mirth_c99_C99APIArgSource_ValueLabel (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(1LL /* ValueLabel */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_c99_C99APIArgSource_ValueLabel (VAL in_C99APIArgSource_1) {
	uint64_t v3 = value_u64(value_tup(in_C99APIArgSource_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_C99APIArgSource_1, 2),2);
	return v3;
}
static VAL mtw_mirth_c99_C99APIArgSource_ResourceLabel (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKU64(in_Label_1);
	v3->cells[0] = MKI64(3LL /* ResourceLabel */);
	return MKTUP(v3, 2);
}
static uint64_t mtp_mirth_c99_C99APIArgSource_ResourceLabel (VAL in_C99APIArgSource_1) {
	uint64_t v3 = value_u64(value_tup(in_C99APIArgSource_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_C99APIArgSource_1, 2),2);
	return v3;
}
static TUP* mtw_mirth_c99_C99APIArg_C99APIArg (int64_t in_C99APIArgMode_1, VAL in_C99APIArgSource_2, VAL in_C99ReprType_3, STR* in_Str_4) {
	TUP* v6 = tup_new(4);
	v6->size = 4;
	v6->cells[3] = MKSTR(in_Str_4);
	v6->cells[2] = in_C99ReprType_3;
	v6->cells[1] = in_C99APIArgSource_2;
	v6->cells[0] = MKI64(in_C99APIArgMode_1);
	return v6;
}
static void mtp_mirth_c99_C99APIArg_C99APIArg (TUP* in_C99APIArg_1, int64_t *out_C99APIArgMode_2, VAL *out_C99APIArgSource_3, VAL *out_C99ReprType_4, STR* *out_Str_5) {
	int64_t v6 = value_i64(in_C99APIArg_1->cells[0]);
	VAL v7 = in_C99APIArg_1->cells[1];
	VAL v8 = in_C99APIArg_1->cells[2];
	STR* v9 = value_str(in_C99APIArg_1->cells[3]);
	tup_decref_outer(in_C99APIArg_1,4);
	*out_Str_5 = v9;
	*out_C99ReprType_4 = v8;
	*out_C99APIArgSource_3 = v7;
	*out_C99APIArgMode_2 = v6;
}
static TUP* mtw_mirth_c99_C99API_C99API (STR* in_Str_1, TUP* in_ArrowType_2, VAL in_List_3, VAL in_List_4, VAL in_Maybe_5, VAL in_List_6, bool in_Bool_7, bool in_Bool_8) {
	TUP* v10 = tup_new(8);
	v10->size = 8;
	v10->cells[7] = MKBOOL(in_Bool_8);
	v10->cells[6] = MKBOOL(in_Bool_7);
	v10->cells[5] = in_List_6;
	v10->cells[4] = in_Maybe_5;
	v10->cells[3] = in_List_4;
	v10->cells[2] = in_List_3;
	v10->cells[1] = MKTUP(in_ArrowType_2, 2);
	v10->cells[0] = MKSTR(in_Str_1);
	return v10;
}
static VAL mtw_mirth_c99_C99ReprType_TUP (INT in_Nat_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[1] = MKINT(in_Nat_1);
	v3->cells[0] = MKI64(3LL /* TUP */);
	return MKTUP(v3, 2);
}
static INT mtp_mirth_c99_C99ReprType_TUP (VAL in_C99ReprType_1) {
	INT v3 = value_int(value_tup(in_C99ReprType_1, 2)->cells[1]);
	tup_decref_outer(value_tup(in_C99ReprType_1, 2),2);
	return v3;
}
static void mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value (VAL in_C99ReprType_1, STR* in_Str_2, TUP* *out_ZPlusC99Value_3) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKSTR(in_Str_2);
	v4->cells[0] = in_C99ReprType_1;
	*out_ZPlusC99Value_3 = v4;
}
static void mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value (TUP* in_ZPlusC99Value_1, VAL *out_C99ReprType_2, STR* *out_Str_3) {
	VAL v4 = in_ZPlusC99Value_1->cells[0];
	STR* v5 = value_str(in_ZPlusC99Value_1->cells[1]);
	tup_decref_outer(in_ZPlusC99Value_1,2);
	*out_Str_3 = v5;
	*out_C99ReprType_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource (VAL in_C99ReprType_1, STR* in_Str_2, TUP* *out_ZPlusC99Resource_3) {
	TUP* v4 = tup_new(2);
	v4->size = 2;
	v4->cells[1] = MKSTR(in_Str_2);
	v4->cells[0] = in_C99ReprType_1;
	*out_ZPlusC99Resource_3 = v4;
}
static void mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource (TUP* in_ZPlusC99Resource_1, VAL *out_C99ReprType_2, STR* *out_Str_3) {
	VAL v4 = in_ZPlusC99Resource_1->cells[0];
	STR* v5 = value_str(in_ZPlusC99Resource_1->cells[1]);
	tup_decref_outer(in_ZPlusC99Resource_1,2);
	*out_Str_3 = v5;
	*out_C99ReprType_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusCons (VAL in_ZPlusC99Stack_1, TUP* in_ZPlusC99Value_2, VAL *out_ZPlusC99Stack_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKTUP(in_ZPlusC99Value_2, 2);
	v4->cells[1] = in_ZPlusC99Stack_1;
	v4->cells[0] = MKI64(1LL /* +Cons */);
	*out_ZPlusC99Stack_3 = MKTUP(v4, 3);
}
static void mtp_mirth_c99_ZPlusC99Stack_ZPlusCons (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, TUP* *out_ZPlusC99Value_3) {
	VAL v4 = value_tup(in_ZPlusC99Stack_1, 3)->cells[1];
	TUP* v5 = value_tup(value_tup(in_ZPlusC99Stack_1, 3)->cells[2], 2);
	tup_decref_outer(value_tup(in_ZPlusC99Stack_1, 3),3);
	*out_ZPlusC99Value_3 = v5;
	*out_ZPlusC99Stack_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusWith (VAL in_ZPlusC99Stack_1, TUP* in_ZPlusC99Resource_2, VAL *out_ZPlusC99Stack_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[2] = MKTUP(in_ZPlusC99Resource_2, 2);
	v4->cells[1] = in_ZPlusC99Stack_1;
	v4->cells[0] = MKI64(2LL /* +With */);
	*out_ZPlusC99Stack_3 = MKTUP(v4, 3);
}
static void mtp_mirth_c99_ZPlusC99Stack_ZPlusWith (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, TUP* *out_ZPlusC99Resource_3) {
	VAL v4 = value_tup(in_ZPlusC99Stack_1, 3)->cells[1];
	TUP* v5 = value_tup(value_tup(in_ZPlusC99Stack_1, 3)->cells[2], 2);
	tup_decref_outer(value_tup(in_ZPlusC99Stack_1, 3),3);
	*out_ZPlusC99Resource_3 = v5;
	*out_ZPlusC99Stack_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel (VAL in_ZPlusC99Stack_1, TUP* in_ZPlusC99Value_2, uint64_t in_Label_3, VAL *out_ZPlusC99Stack_4) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[3] = MKU64(in_Label_3);
	v5->cells[2] = MKTUP(in_ZPlusC99Value_2, 2);
	v5->cells[1] = in_ZPlusC99Stack_1;
	v5->cells[0] = MKI64(3LL /* +ConsLabel */);
	*out_ZPlusC99Stack_4 = MKTUP(v5, 4);
}
static uint64_t mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, TUP* *out_ZPlusC99Value_3) {
	VAL v5 = value_tup(in_ZPlusC99Stack_1, 4)->cells[1];
	TUP* v6 = value_tup(value_tup(in_ZPlusC99Stack_1, 4)->cells[2], 2);
	uint64_t v7 = value_u64(value_tup(in_ZPlusC99Stack_1, 4)->cells[3]);
	tup_decref_outer(value_tup(in_ZPlusC99Stack_1, 4),4);
	*out_ZPlusC99Value_3 = v6;
	*out_ZPlusC99Stack_2 = v5;
	return v7;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel (VAL in_ZPlusC99Stack_1, TUP* in_ZPlusC99Resource_2, uint64_t in_Label_3, VAL *out_ZPlusC99Stack_4) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[3] = MKU64(in_Label_3);
	v5->cells[2] = MKTUP(in_ZPlusC99Resource_2, 2);
	v5->cells[1] = in_ZPlusC99Stack_1;
	v5->cells[0] = MKI64(4LL /* +WithLabel */);
	*out_ZPlusC99Stack_4 = MKTUP(v5, 4);
}
static uint64_t mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, TUP* *out_ZPlusC99Resource_3) {
	VAL v5 = value_tup(in_ZPlusC99Stack_1, 4)->cells[1];
	TUP* v6 = value_tup(value_tup(in_ZPlusC99Stack_1, 4)->cells[2], 2);
	uint64_t v7 = value_u64(value_tup(in_ZPlusC99Stack_1, 4)->cells[3]);
	tup_decref_outer(value_tup(in_ZPlusC99Stack_1, 4),4);
	*out_ZPlusC99Resource_3 = v6;
	*out_ZPlusC99Stack_2 = v5;
	return v7;
}
static void mtw_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit (TUP* in_ZPlusC99_1, VAL in_ZPlusC99Stack_2, VAL in_List_3, VAL in_List_4, bool in_Bool_5, bool in_Bool_6, TUP* *out_ZPlusC99BranchSplit_7) {
	TUP* v8 = tup_new(6);
	v8->size = 6;
	v8->cells[5] = MKBOOL(in_Bool_6);
	v8->cells[4] = MKBOOL(in_Bool_5);
	v8->cells[3] = in_List_4;
	v8->cells[2] = in_List_3;
	v8->cells[1] = in_ZPlusC99Stack_2;
	v8->cells[0] = MKTUP(in_ZPlusC99_1, 6);
	*out_ZPlusC99BranchSplit_7 = v8;
}
static void mtp_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit (TUP* in_ZPlusC99BranchSplit_1, TUP* *out_ZPlusC99_2, VAL *out_ZPlusC99Stack_3, VAL *out_List_4, VAL *out_List_5, bool *out_Bool_6, bool *out_Bool_7) {
	TUP* v8 = value_tup(in_ZPlusC99BranchSplit_1->cells[0], 6);
	VAL v9 = in_ZPlusC99BranchSplit_1->cells[1];
	VAL v10 = in_ZPlusC99BranchSplit_1->cells[2];
	VAL v11 = in_ZPlusC99BranchSplit_1->cells[3];
	bool v12 = value_bool(in_ZPlusC99BranchSplit_1->cells[4]);
	bool v13 = value_bool(in_ZPlusC99BranchSplit_1->cells[5]);
	tup_decref_outer(in_ZPlusC99BranchSplit_1,6);
	*out_Bool_7 = v13;
	*out_Bool_6 = v12;
	*out_List_5 = v11;
	*out_List_4 = v10;
	*out_ZPlusC99Stack_3 = v9;
	*out_ZPlusC99_2 = v8;
}
static TUP* mtw_mirth_c99_C99Var_C99Var (uint64_t in_Var_1, STR* in_Str_2, VAL in_C99ReprType_3) {
	TUP* v5 = tup_new(3);
	v5->size = 3;
	v5->cells[2] = in_C99ReprType_3;
	v5->cells[1] = MKSTR(in_Str_2);
	v5->cells[0] = MKU64(in_Var_1);
	return v5;
}
static void mtp_mirth_c99_C99Var_C99Var (TUP* in_C99Var_1, uint64_t *out_Var_2, STR* *out_Str_3, VAL *out_C99ReprType_4) {
	uint64_t v5 = value_u64(in_C99Var_1->cells[0]);
	STR* v6 = value_str(in_C99Var_1->cells[1]);
	VAL v7 = in_C99Var_1->cells[2];
	tup_decref_outer(in_C99Var_1,3);
	*out_C99ReprType_4 = v7;
	*out_Str_3 = v6;
	*out_Var_2 = v5;
}
static void mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch (TUP* in_ZPlusC99_1, VAL in_ZPlusC99Stack_2, VAL in_List_3, bool in_Bool_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6 = tup_new(4);
	v6->size = 4;
	v6->cells[3] = MKBOOL(in_Bool_4);
	v6->cells[2] = in_List_3;
	v6->cells[1] = in_ZPlusC99Stack_2;
	v6->cells[0] = MKTUP(in_ZPlusC99_1, 6);
	*out_ZPlusC99Branch_5 = v6;
}
static void mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch (TUP* in_ZPlusC99Branch_1, TUP* *out_ZPlusC99_2, VAL *out_ZPlusC99Stack_3, VAL *out_List_4, bool *out_Bool_5) {
	TUP* v6 = value_tup(in_ZPlusC99Branch_1->cells[0], 6);
	VAL v7 = in_ZPlusC99Branch_1->cells[1];
	VAL v8 = in_ZPlusC99Branch_1->cells[2];
	bool v9 = value_bool(in_ZPlusC99Branch_1->cells[3]);
	tup_decref_outer(in_ZPlusC99Branch_1,4);
	*out_Bool_5 = v9;
	*out_List_4 = v8;
	*out_ZPlusC99Stack_3 = v7;
	*out_ZPlusC99_2 = v6;
}
static char mbuf_mirth_label_Label_NumBuffer[8] = {0};
static char mbuf_mirth_var_Var_NumBuffer[8] = {0};
static char mbuf_mirth_external_External_NumBuffer[8] = {0};
static char mbuf_mirth_external_ExternalBlock_NumBuffer[8] = {0};
static char mbuf_mirth_word_Word_NumBuffer[8] = {0};
static char mbuf_mirth_typedef_TypeDef_NumBuffer[8] = {0};
static char mbuf_mirth_package_Package_NumBuffer[8] = {0};
static char mbuf_mirth_macro_Macro_NumBuffer[8] = {0};
static char mbuf_mirth_buffer_Buffer_NumBuffer[8] = {0};
static char mbuf_mirth_table_Table_NumBuffer[8] = {0};
static char mbuf_mirth_table_Field_NumBuffer[8] = {0};
static char mbuf_mirth_data_Data_NumBuffer[8] = {0};
static char mbuf_mirth_data_Tag_NumBuffer[8] = {0};
static char mbuf_mirth_arrow_Block_NumBuffer[8] = {0};
static char mbuf_mirth_type_MetaVar_NumBuffer[8] = {0};
static char mbuf_mirth_token_Token_NumBuffer[8] = {0};
static char mbuf_mirth_alias_Alias_NumBuffer[8] = {0};
static char mbuf_mirth_name_Name_NumBuffer[8] = {0};
static char mbuf_mirth_module_Module_NumBuffer[8] = {0};
size_t strlen (const char *);
static uint64_t mext_std_ctypes_CStr_numZ_bytesZ_raw (void* in_CStr_1) {
	const char * X1 = (const char *)(in_CStr_1);
	size_t Y = strlen(X1);
	uint64_t v5 = (uint64_t)(Y);
	return v5;
}
char* strerror(int);
static const char* posix_strerror(int e) { return strerror(e); }
const char * posix_strerror (int);
static void* mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang (int64_t in_CInt_1) {
	int X2 = (int)(in_CInt_1);
	const char * Y = posix_strerror(X2);
	void* v5 = (void*)(Y);
	return v5;
}
void exit (int);
static void mext_std_prim_ZPlusWorld_rawZ_posixZ_exitZBang (int64_t in_CInt_1) {
	int X1 = (int)(in_CInt_1);
	exit(X1);
}
static int posix_open (const char* path, int flags, int mode) { return open(path, flags, mode); }
int posix_open (const char *, int, int);
static int64_t mext_std_prim_ZPlusWorld_rawZ_posixZ_openZBang (void* in_CStr_1, int64_t in_CInt_2, int64_t in_CInt_3) {
	int mode = (int)(in_CInt_3);
	int flags = (int)(in_CInt_2);
	const char * path = (const char *)(in_CStr_1);
	int Y = posix_open(path, flags, mode);
	int64_t v7 = (int64_t)(Y);
	return v7;
}
int close (int);
static int64_t mext_std_prim_ZPlusWorld_rawZ_posixZ_closeZBang (int64_t in_ZPlusFileDescriptor_1) {
	int ZPlusfd = (int)(in_ZPlusFileDescriptor_1);
	int Y = close(ZPlusfd);
	int64_t v5 = (int64_t)(Y);
	return v5;
}
int read (int, void*, size_t);
static int64_t mext_std_prelude_ZPlusUnsafe_rawZ_posixZ_readZBang (int64_t in_ZPlusFileDescriptor_1, void* in_Ptr_2, uint64_t in_CUSizze_3, int64_t *out_ZPlusFileDescriptor_4) {
	size_t sizze = (size_t)(in_CUSizze_3);
	void* ptr = (void*)(in_Ptr_2);
	int ZPlusfd = (int)(in_ZPlusFileDescriptor_1);
	int Y = read(ZPlusfd, ptr, sizze);
	int64_t v8 = (int64_t)(ZPlusfd);
	int64_t v9 = (int64_t)(Y);
	*out_ZPlusFileDescriptor_4 = v8;
	return v9;
}
int write (int, const char *, size_t);
static int64_t mext_std_prelude_ZPlusUnsafe_rawZ_posixZ_writeZBang (int64_t in_ZPlusFileDescriptor_1, void* in_CStr_2, uint64_t in_CUSizze_3, int64_t *out_ZPlusFileDescriptor_4) {
	size_t sizze = (size_t)(in_CUSizze_3);
	const char * ptr = (const char *)(in_CStr_2);
	int ZPlusfd = (int)(in_ZPlusFileDescriptor_1);
	int Y = write(ZPlusfd, ptr, sizze);
	int64_t v8 = (int64_t)(ZPlusfd);
	int64_t v9 = (int64_t)(Y);
	*out_ZPlusFileDescriptor_4 = v8;
	return v9;
}
#include <errno.h>
static int posix_errno (void) { return errno; }
int posix_errno (void);
static int64_t mext_std_prelude_ZPlusUnsafe_posixZ_errnoZBang (void) {
	int Y = posix_errno();
	int64_t v4 = (int64_t)(Y);
	return v4;
}
int stat (const char *, void*);
static int64_t mext_std_world_posixZ_stat (void* in_CStr_1, void* in_Ptr_2) {
	void* X3 = (void*)(in_Ptr_2);
	const char * X2 = (const char *)(in_CStr_1);
	int Y = stat(X2, X3);
	int64_t v6 = (int64_t)(Y);
	return v6;
}
static STR* mw_std_byte_Byte_toZ_strZ_unsafe (int64_t in_Byte_1);
static VAL mw_std_byte_Byte_toZ_asciiZ_str (int64_t in_Byte_1);
static bool mw_std_byte_Byte_isZ_stringZ_end (int64_t in_Byte_1);
static int64_t mw_std_byte_Byte_toZ_upper (int64_t in_Byte_1);
static int64_t mw_std_byte_Byte_OneHexDigit (uint8_t in_U8_1);
static int64_t mw_std_byte_Byte_toZ_hexdigits (int64_t in_Byte_1, int64_t *out_Byte_3);
static bool mw_std_byte_Byte_isZ_nameZ_byte (int64_t in_Byte_1);
static void mw_std_byte_Byte_zzencodeZThen (STR* in_ZPlusStr_1, int64_t in_Byte_2, STR* *out_ZPlusStr_3);
static void mw_std_byte_Byte_intZThen (STR* in_ZPlusStr_1, int64_t in_Byte_2, STR* *out_ZPlusStr_3);
static void mw_std_buffer_ZPlusBuffer_new (INT in_Sizze_1, TUP* *out_ZPlusBuffer_2);
static void mw_std_buffer_ZPlusBuffer_resizzeZBang (INT in_Sizze_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_3);
static void mw_std_buffer_ZPlusBuffer_expandZBang (INT in_Sizze_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_3);
static void mw_std_buffer_ZPlusBuffer_rdrop (TUP* in_ZPlusBuffer_1);
static void mw_std_buffer_ZPlusBuffer_eraseZ_spanZBang (INT in_Offset_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4);
static INT mw_std_buffer_ZPlusBuffer_clampZ_offsetZBang (INT in_Offset_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_4);
static INT mw_std_buffer_ZPlusBuffer_clampZ_spanZBang (INT in_Offset_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, INT *out_Sizze_5, TUP* *out_ZPlusBuffer_6);
static INT mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang (INT in_Offset_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_5);
static INT mw_std_buffer_ZPlusBuffer_prepareZ_alignedZ_spanZBang (INT in_Nat_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_5);
static uint8_t mw_std_buffer_ZPlusBuffer_ZAtU8 (INT in_Offset_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_4);
static int64_t mw_std_buffer_ZPlusBuffer_ZAtI64 (INT in_Nat_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_4);
static void mw_std_buffer_ZPlusBuffer_ZBangU8 (uint8_t in_U8_1, INT in_Offset_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4);
static void mw_std_buffer_ZPlusBuffer_ZBangI64 (int64_t in_I64_1, INT in_Nat_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4);
static void mw_std_buffer_ZPlusBuffer_ZBangByte (int64_t in_Byte_1, INT in_Offset_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4);
static STR* mw_std_buffer_ZPlusBuffer_ZAtStr (INT in_Offset_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_5);
static void mw_std_buffer_ZPlusBuffer_ZBangStr (STR* in_Str_1, INT in_Offset_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4);
static void mw_std_prim_Ptr_ZBangStr (STR* in_Str_1, void* in_Ptr_2);
static int64_t mw_std_prim_Str_lastZ_byte (STR* in_Str_1);
static int64_t mw_std_str_ZPlusStr_lastZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_byteZAt (INT in_Offset_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_4);
static bool mw_std_str_offsetZ_inZ_bounds (INT in_Offset_1, INT in_Sizze_2);
static int64_t mw_std_prim_Str_byteZAt (INT in_Offset_1, STR* in_Str_2);
static void mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_str_ZPlusStr_pushZ_strZBang (STR* in_Str_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static STR* mw_std_prim_Str_dropZ_bytes (INT in_Sizze_1, STR* in_Str_2);
static STR* mw_std_prim_Str_fromZ_bytesZ_unsafe (VAL in_List_1);
static INT mw_std_str_clampZ_sliceZ_offsetZ_sizze (INT in_Offset_1, INT in_Sizze_2, INT in_Sizze_3, INT *out_Sizze_5);
static STR* mw_std_prim_Str_slice (INT in_Offset_1, INT in_Sizze_2, STR* in_Str_3);
static STR* mw_std_prim_Str_dropZ_slice (INT in_Offset_1, STR* in_Str_2);
static STR* mw_std_prim_Str_takeZ_slice (INT in_Sizze_1, STR* in_Str_2);
static STR* mw_std_str_ZPlusStr_slice (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Sizze_3, STR* *out_ZPlusStr_4);
static STR* mw_std_str_ZPlusStr_offsetZ_slice (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Offset_3, STR* *out_ZPlusStr_4);
static STR* mw_std_str_ZPlusStr_takeZ_slice (STR* in_ZPlusStr_1, INT in_Sizze_2, STR* *out_ZPlusStr_3);
static STR* mw_std_str_ZPlusStr_dropZ_slice (STR* in_ZPlusStr_1, INT in_Offset_2, STR* *out_ZPlusStr_3);
static TUP* mw_std_str_ZPlusStr_splitZ_byte (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_4);
static TUP* mw_std_prim_Str_splitZ_byte (int64_t in_Byte_1, STR* in_Str_2);
static void mw_std_str_ZPlusStr_pushZ_reprZ_byteZBang (STR* in_ZPlusStr_1, bool in_Bool_2, int64_t in_Byte_3, bool *out_Bool_4, STR* *out_ZPlusStr_5);
static void mw_std_prim_Str_reprZThen (STR* in_Str_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_prim_Str_zzencodeZThen (STR* in_ZPlusStr_1, STR* in_Str_2, STR* *out_ZPlusStr_3);
static STR* mw_std_prim_Str_zzencode (STR* in_Str_1);
static VAL mw_std_prim_Str_ZToF64ZAsk (STR* in_Str_1);
static int64_t mw_std_str_ZPlusStr_firstZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static int64_t mw_std_str_ZPlusStr_secondZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static int64_t mw_std_str_ZPlusStr_thirdZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_str_ZPlusStr_firstZ_twoZ_bytes (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_str_ZPlusStr_dropZ_firstZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_str_ZPlusStr_dropZ_lastZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static VAL mw_std_either_Either_2_leftZAsk (VAL in_Either_1);
static VAL mw_std_either_Either_2_rightZAsk (VAL in_Either_1);
static bool mw_std_list_List_1_emptyZAsk (VAL in_List_1);
static VAL mw_std_list_List_1_singleZAsk (VAL in_List_1);
static VAL mw_std_list_List_1_pairZAsk (VAL in_List_1);
static VAL mw_std_list_List_1_ZToNestZAsk (VAL in_List_1);
static INT mw_std_list_List_1_len (VAL in_List_1);
static VAL mw_std_list_List_1_cons (VAL in_t_1, VAL in_List_2);
static TUP* mw_std_list_List_1_consZPlus (VAL in_t_1, VAL in_List_2);
static VAL mw_std_list_List_1_uncons (VAL in_List_1, VAL *out_List_3);
static VAL mw_std_list_List_1_Snoc (VAL in_List_1, VAL in_t_2);
static VAL mw_std_list_List_1_unsnoc (VAL in_List_1, VAL *out_Maybe_3);
static VAL mw_std_list_List_1_cat (VAL in_List_1, VAL in_List_2);
static VAL mw_std_list_List_1_head (VAL in_List_1);
static VAL mw_std_list_List_1_tail (VAL in_List_1);
static VAL mw_std_list_List_1_first (VAL in_List_1);
static VAL mw_std_list_List_1_last (VAL in_List_1);
static VAL mw_std_list_List_1_dropZ_slice (INT in_Nat_1, VAL in_List_2);
static VAL mw_std_list_List_1_reverse (VAL in_List_1);
static TUP* mw_std_list_Nest_1_N1 (VAL in_t_1);
static TUP* mw_std_list_Nest_1_Cons (VAL in_t_1, VAL in_List_2);
static VAL mw_std_list_Nest_1_ZDivCons (TUP* in_Nest_1, VAL *out_List_3);
static VAL mw_std_list_Nest_1_singleZAsk (TUP* in_Nest_1);
static VAL mw_std_list_Nest_1_pairZAsk (TUP* in_Nest_1);
static VAL mw_std_list_Nest_1_ZToList (TUP* in_Nest_1);
static TUP* mw_std_list_Nest_1_cons (VAL in_t_1, TUP* in_Nest_2);
static VAL mw_std_list_Nest_1_uncons (TUP* in_Nest_1, VAL *out_List_3);
static VAL mw_std_list_Nest_1_unsnoc (TUP* in_Nest_1, VAL *out_t_3);
static VAL mw_std_list_Nest_1_first (TUP* in_Nest_1);
static VAL mw_std_list_Nest_1_last (TUP* in_Nest_1);
static TUP* mw_std_list_Nest_1_reverse (TUP* in_Nest_1);
static VAL mw_std_prim_Int_range (INT in_Int_1, INT in_Int_2);
static void mw_std_list_ZPlusLister_1_ZPlusNil (VAL *out_ZPlusLister_1);
static void mw_std_list_ZPlusLister_1_rdrop (VAL in_ZPlusLister_1);
static VAL mw_std_list_ZPlusLister_1_doneZBang (VAL in_ZPlusLister_1);
static void mw_std_list_List_1_buildZBang (VAL in_List_1, VAL *out_ZPlusLister_2);
static void mw_std_list_ZPlusLister_1_pushZBang (VAL in_t_1, VAL in_ZPlusLister_2, VAL *out_ZPlusLister_3);
static void mw_std_list_ZPlusLister_1_pushZPlusZBang (VAL in_t_1, VAL in_ZPlusLister_2, TUP* *out_ZPlusNester_3);
static VAL mw_std_list_ZPlusLister_1_popZBang (VAL in_ZPlusLister_1, VAL *out_ZPlusLister_3);
static VAL mw_std_list_ZPlusLister_1_popZ_allZBang (VAL in_ZPlusLister_1, VAL *out_ZPlusLister_3);
static TUP* mw_std_list_ZPlusNester_1_doneZBang (TUP* in_ZPlusNester_1);
static VAL mw_std_maybe_Maybe_1_ZToList (VAL in_Maybe_1);
static VAL mw_std_maybe_Maybe_1_zzip (VAL in_Maybe_1, VAL in_Maybe_2);
static INT mw_std_number_Base_Hex (void);
static INT mw_std_number_Base_lastZ_digit (INT in_Nat_1, INT in_Base_2, int64_t *out_Byte_4);
static void mw_std_number_Base_digitsZThen (STR* in_ZPlusStr_1, INT in_Nat_2, INT in_Base_3, STR* *out_ZPlusStr_4);
static int64_t mw_std_prim_I64_ZToOS (int64_t in_I64_1);
static int64_t mw_std_prim_Int_ZToOS (INT in_Int_1);
static bool mw_std_prelude_OS_isZ_windowsZAsk (int64_t in_OS_1);
static VAL mw_std_prelude_OS_pathZ_separator (int64_t in_OS_1);
static bool mw_std_prelude_OS_byteZ_isZ_pathZ_separatorZAsk (int64_t in_Byte_1, int64_t in_OS_2);
static int64_t mw_std_prim_I64_ZToArch (int64_t in_I64_1);
static int64_t mw_std_prim_Int_ZToArch (INT in_Int_1);
static VAL mw_std_prelude_ZAtZAsk (void* in_Mutt_1);
static void mw_std_prelude_impossibleZBang (void);
static STR* mw_std_path_Path_joinZ_with (STR* in_Path_1, STR* in_Str_2, STR* in_Path_3);
static STR* mw_std_path_Path_join (STR* in_Path_1, STR* in_Path_2);
static STR* mw_std_path_Path_splitZ_last (STR* in_Path_1, VAL *out_Maybe_3);
static void mw_std_path_Path_pathZThen (STR* in_Path_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static VAL mw_std_result_Result_2_okZAsk (VAL in_Result_1);
static int64_t mw_std_posix_OpenFlags_U64ZTo (uint64_t in_U64_1);
static int64_t mw_std_posix_OpenFlags_None (void);
static void mw_std_terminal_Sgr_emitZThen (VAL in_Sgr_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_terminal_SGRColor_emitZThen (VAL in_SGRColor_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static void mw_std_str_ZPlusStr_csiZThen (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static INT mw_std_input_INPUTz_BUFFERz_SIZZE (void);
static void mw_std_input_ZPlusInputOpenState_endZBang (TUP* in_ZPlusInputOpenState_1, TUP* *out_ZPlusFile_2);
static void mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang (TUP* in_ZPlusInputOpenState_1, VAL *out_ZPlusInput_2);
static void mw_std_input_ZPlusInput_startZBang (TUP* in_ZPlusFile_1, VAL *out_ZPlusInput_2);
static void mw_std_input_ZPlusInput_endZBang (VAL in_ZPlusInput_1, TUP* *out_ZPlusFile_2);
static VAL mw_std_input_ZPlusInput_readZ_chunkZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3);
static STR* mw_std_input_ZPlusInput_readZ_fileZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3);
static INT mw_std_output_OUTPUTz_BUFFERz_SIZZE (void);
static void mw_std_output_ZPlusOutput_startZBang (TUP* in_ZPlusFile_1, TUP* *out_ZPlusOutput_2);
static void mw_std_output_ZPlusOutput_endZBang (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusFile_2);
static void mw_std_output_ZPlusOutput_flushZBang (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_2);
static INT mw_std_output_ZPlusOutput_offset (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_2);
static INT mw_std_output_ZPlusOutput_capacityZ_total (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_3);
static INT mw_std_output_ZPlusOutput_capacityZ_remaining (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_3);
static bool mw_std_output_ZPlusOutput_fullZAsk (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_put (STR* in_Str_1, TUP* in_ZPlusOutput_2, TUP* *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_putZ_byte (int64_t in_Byte_1, TUP* in_ZPlusOutput_2, TUP* *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_line (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_2);
static void mw_std_file_IOError_messageZThen (STR* in_ZPlusStr_1, VAL in_IOError_2, STR* *out_ZPlusStr_3);
static STR* mw_std_file_IOError_message (VAL in_IOError_1);
static VAL mw_std_file_ZPlusFile_closeZ_fileZBang (TUP* in_ZPlusFile_1);
static STR* mw_std_file_ZPlusFile_readZ_fileZBang (TUP* in_ZPlusFile_1, TUP* *out_ZPlusFile_3);
static VAL mw_std_file_ZPlusFile_readZ_bytesZBang (TUP* in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, TUP* *out_ZPlusFile_4);
static void mw_std_prim_ZPlusWorld_openZ_fileZBang (STR* in_Path_1, VAL *out_ZPlusResult_2);
static void mw_std_prim_ZPlusWorld_createZ_fileZBang (STR* in_Path_1, VAL *out_ZPlusResult_2);
static void mw_std_prim_ZPlusWorld_stderrZ_file (TUP* *out_ZPlusFile_1);
static VAL mw_std_prim_ZPlusWorld_createZ_fileZ_flags (void);
static VAL mw_std_file_ZPlusFile_writeZ_bytesZBang (TUP* in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, TUP* *out_ZPlusFile_4);
static VAL mw_std_prim_ZPlusWorld_readZ_pathZBang (STR* in_Path_1);
static void mw_std_prim_ZPlusWorld_traceZ_ (STR* in_Str_1);
static void mw_std_prim_ZPlusWorld_trace (STR* in_Str_1);
static bool mw_std_prim_ZPlusWorld_isZ_directoryZAsk (STR* in_Path_1);
static uint16_t mw_std_world_Sz_IFMT (void);
static uint16_t mw_std_world_Sz_IFDIR (void);
static bool mw_std_world_Sz_ISDIR (uint16_t in_U16_1);
static uint16_t mw_std_world_stz_modeZAt (void* in_Ptr_1);
static TUP* mw_argZ_parser_state_State_1_init (VAL in_a_1);
static VAL mw_argZ_parser_state_State_1_argv (TUP* in_State_1);
static STR* mw_argZ_parser_state_State_1_programZ_name (TUP* in_State_1);
static bool mw_argZ_parser_state_State_1_parsingZAsk (TUP* in_State_1);
static TUP* mw_argZ_parser_state_State_1_parsingZAskZBang (bool in_Bool_1, TUP* in_State_2);
static VAL mw_argZ_parser_state_State_1_optionZ_option (TUP* in_State_1);
static TUP* mw_argZ_parser_state_State_1_optionZ_optionZBang (VAL in_Maybe_1, TUP* in_State_2);
static void mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop (TUP* in_ZPlusArgumentParser_1);
static VAL mw_argZ_parser_types_ZPlusArgumentParser_1_parser (TUP* in_ZPlusArgumentParser_1, TUP* *out_ZPlusArgumentParser_2);
static bool mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk (VAL in_ArgpOptionType_1);
static void mw_argZ_parser_types_ArgumentParsingError_emitZThen (VAL in_ArgumentParsingError_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3);
static STR* mw_argZ_parser_types_ZPlusArgumentParser_1_usage (TUP* in_ZPlusArgumentParser_1, TUP* *out_ZPlusArgumentParser_2);
static void mw_argZ_parser_types_ArgpOption_usageZThen (TUP* in_ZPlusArgumentParser_1, STR* in_ZPlusStr_2, TUP* in_ArgpOption_3, TUP* *out_ZPlusArgumentParser_4, STR* *out_ZPlusStr_5);
static TUP* mw_argZ_parser_parse_checkZ_shortZ_flag (TUP* in_ZPlusArgumentParser_1, TUP* in_ArgpOption_2, STR* in_Str_3, TUP* *out_ZPlusArgumentParser_4, bool *out_Bool_6);
static TUP* mw_argZ_parser_parse_checkZ_longZ_flag (TUP* in_ZPlusArgumentParser_1, TUP* in_ArgpOption_2, STR* in_Str_3, TUP* *out_ZPlusArgumentParser_4, bool *out_Bool_6);
static VAL mw_argZ_parser_parse_parseZ_flags (TUP* in_ZPlusArgumentParser_1, STR* in_Str_2, TUP* *out_ZPlusArgumentParser_3);
static VAL mw_argZ_parser_parse_doZ_positionalZ_option (TUP* in_ZPlusArgumentParser_1, STR* in_Str_2, TUP* *out_ZPlusArgumentParser_3);
static VAL mw_argZ_parser_parse_parseZ_args (VAL in_a_1, TUP* in_ArgumentParser_2);
static STR* mw_argZ_parser_parse_readZ_fromZ_argv (INT in_Int_1);
static VAL mw_argZ_parser_parse_argvZ_toZ_str (void);
static TUP* mw_mirth_options_Options_Default (void);
static TUP* mw_mirth_options_parseZ_packageZ_def (STR* in_Str_1);
static TUP* mw_mirth_options_compilerZ_parseZ_args (TUP* in_ZPlusArgumentParser_1, TUP* in_Options_2, VAL in_Maybe_3, VAL in_ArgpOptionType_4, TUP* *out_ZPlusArgumentParser_5);
static VAL mw_mirth_options_parseZ_optionsZBang (void);
static uint64_t mw_mirth_label_Label_allocZBang (void);
static uint64_t mw_mirth_label_Label_index (uint64_t in_Label_1);
static uint64_t mw_mirth_label_Label_name (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_label_Label_ZToStr (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_label_Label_ZEqual (uint64_t in_Label_1, uint64_t in_Label_2);
static void mw_mirth_label_Label_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static uint64_t mw_mirth_label_Label_newZBang (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_label_Label_isZ_resourceZ_labelZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3);
static VAL mw_std_map_Map_2_Nil (void);
static INT mw_std_map_Map_2_len (VAL in_Map_1);
static VAL mw_std_map_Map_2_insert (TUP* in_KeyValuePair_1, VAL in_Map_2);
static uint64_t mw_mirth_var_Var_allocZBang (void);
static uint64_t mw_mirth_var_Var_index (uint64_t in_Var_1);
static uint64_t mw_mirth_var_Var_name (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_var_Var_type (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_var_Var_autoZ_runZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_var_Var_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_var_Var_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static bool mw_mirth_var_Var_isZ_stackZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_var_Var_isZ_physicalZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_var_Var_NewZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_var_Var_NewAutoRunZBang (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_var_Var_NewInCtx (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Type_3, STR* in_Str_4, TUP* *out_ZPlusMirth_5, uint64_t *out_Var_7);
static VAL mw_std_list_List_1_ZToCtx (VAL in_List_1);
static VAL mw_mirth_var_Ctx_ZToList (VAL in_Ctx_1);
static VAL mw_mirth_var_Ctx_L0 (void);
static VAL mw_mirth_var_Ctx_new (VAL in_Ctx_1, uint64_t in_Var_2);
static VAL mw_mirth_var_Ctx_lookup (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, VAL in_Ctx_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_var_Ctx_freshZ_nameZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Name_5);
static VAL mw_mirth_var_Ctx_freshZ_varZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Ctx_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Var_6);
static VAL mw_mirth_var_Var_unifyZBang (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_var_Var_kind (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_var_Var_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6);
static VAL mw_mirth_var_Var_sortZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_ZToSortZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_PrimType_ZToSortZAsk (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_External_allocZBang (void);
static uint64_t mw_mirth_external_External_index (uint64_t in_External_1);
static VAL mw_mirth_external_External_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_external_External_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_External_name (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_external_External_arity (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_external_External_symbol (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_External_head (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_External_sig (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_external_External_ctxZ_type (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static TUP* mw_mirth_external_External_type (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_external_External_ctype (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_external_External_ZEqual (uint64_t in_External_1, uint64_t in_External_2);
static uint64_t mw_mirth_external_ExternalBlock_allocZBang (void);
static VAL mw_mirth_external_ExternalBlock_parts (TUP* in_ZPlusMirth_1, uint64_t in_ExternalBlock_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_allocZBang (void);
static uint64_t mw_mirth_word_Word_index (uint64_t in_Word_1);
static VAL mw_mirth_word_Word_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_word_Word_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_word_Word_namespaceZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_word_Word_doc (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_name (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_head (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_word_Word_sigZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_word_Word_body (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_word_Word_arity (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_word_Word_params (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_word_Word_arrow (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_word_Word_inferringZ_typeZAsk (uint64_t in_Word_1);
static uint64_t mw_mirth_word_Word_NewZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, uint64_t in_Token_4, uint64_t in_Name_5, INT in_Nat_6, VAL in_Maybe_7, TUP* *out_ZPlusMirth_8);
static STR* mw_mirth_word_Word_cname (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_word_Word_ctxZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static TUP* mw_mirth_word_Word_type (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_word_Word_preferZ_inlineZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_word_Word_makeZ_inlineZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_word_Word_ZEqual (uint64_t in_Word_1, uint64_t in_Word_2);
static INT mw_mirth_word_Word_incZ_numZ_blocksZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_typedef_TypeDef_allocZBang (void);
static uint64_t mw_mirth_typedef_TypeDef_index (uint64_t in_TypeDef_1);
static VAL mw_mirth_typedef_TypeDef_headZAsk (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_typedef_TypeDef_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_typedef_TypeDef_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_typedef_TypeDef_namespace (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_typedef_TypeDef_name (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_typedef_TypeDef_target (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_typedef_TypeDef_params (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_typedef_TypeDef_ZEqual (uint64_t in_TypeDef_1, uint64_t in_TypeDef_2);
static uint64_t mw_mirth_typedef_TypeDef_newZBang (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Name_3, VAL in_PropState_4, TUP* *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_defZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_QName_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_package_Package_allocZBang (void);
static uint64_t mw_mirth_package_Package_index (uint64_t in_Package_1);
static uint64_t mw_mirth_package_Package_name (TUP* in_ZPlusMirth_1, uint64_t in_Package_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_package_Package_qname (TUP* in_ZPlusMirth_1, uint64_t in_Package_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_package_Package_path (TUP* in_ZPlusMirth_1, uint64_t in_Package_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_package_Package_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Package_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static uint64_t mw_mirth_package_Package_Std (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static VAL mw_mirth_package_Package_pathZ_orZ_search (TUP* in_ZPlusMirth_1, uint64_t in_Package_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_package_Package_pathZBang (TUP* in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Package_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_package_Package_NewZBang (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_package_Package_NewZ_OrZ_PathZBang (TUP* in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_package_Package_FindZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_package_Package_FindZ_OrZ_NewZBang (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_package_Package_ZEqual (uint64_t in_Package_1, uint64_t in_Package_2);
static void mw_mirth_mirth_ZPlusMirth_initZ_packagesZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static void mw_mirth_match_Match_thaw (TUP* in_Match_1, TUP* *out_ZPlusMatch_2);
static bool mw_mirth_match_Match_isZ_exhaustiveZAsk (TUP* in_ZPlusMirth_1, TUP* in_Match_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_match_Match_hasZ_defaultZ_caseZAsk (TUP* in_ZPlusMirth_1, TUP* in_Match_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_match_Match_scrutineeZ_dataZAsk (TUP* in_ZPlusMirth_1, TUP* in_Match_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_match_ZPlusMatch_freezze (TUP* in_ZPlusMatch_1);
static void mw_mirth_match_ZPlusMatch_addZ_case (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* in_Case_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusMatch_5);
static bool mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk (TUP* in_ZPlusMatch_1, TUP* in_Case_2, TUP* *out_ZPlusMatch_3);
static bool mw_mirth_match_Case_coversZAsk (TUP* in_Case_1, TUP* in_Case_2);
static bool mw_mirth_match_Case_isZ_defaultZ_caseZAsk (TUP* in_Case_1);
static void mw_mirth_match_Pattern_thaw (TUP* in_Pattern_1, TUP* *out_ZPlusPattern_2);
static VAL mw_mirth_match_Pattern_dom (TUP* in_Pattern_1);
static VAL mw_mirth_match_Pattern_singleZ_tagZAsk (TUP* in_Pattern_1);
static bool mw_mirth_match_Pattern_isZ_defaultZAsk (TUP* in_Pattern_1);
static bool mw_mirth_match_Pattern_coversZAsk (TUP* in_Pattern_1, TUP* in_Pattern_2);
static TUP* mw_mirth_match_ZPlusPattern_freezze (TUP* in_ZPlusPattern_1);
static void mw_mirth_match_ZPlusPattern_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, VAL in_PatternOp_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusPattern_5);
static void mw_mirth_match_ZPlusPattern_underscoreZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusPattern_4);
static void mw_mirth_match_ZPlusPattern_tagZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusPattern_5);
static VAL mw_mirth_match_PatternOp_ZDivTag (VAL in_PatternOp_1);
static bool mw_mirth_match_PatternOp_ZDivUnderscore (VAL in_PatternOp_1);
static void mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang (TUP* in_ZPlusLexer_1, uint64_t in_Token_2, TUP* *out_ZPlusLexer_3);
static VAL mw_mirth_lexer_ZPlusLexer_stackZ_popZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_stackZ_drop (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static VAL mw_mirth_lexer_ZPlusLexer_stackZ_peek (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_StartZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Module_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusLexer_5);
static uint64_t mw_mirth_lexer_ZPlusLexer_stopZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_lexer_ZPlusLexer_lexerZ_location (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_lexerZ_warningZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusLexer_5);
static void mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang (STR* in_Str_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusLexer_3);
static bool mw_mirth_lexer_ZPlusLexer_doneZAsk (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static int64_t mw_mirth_lexer_ZPlusLexer_peek (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_moveZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_newlineZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static uint64_t mw_mirth_lexer_ZPlusLexer_makeZBang (TUP* in_ZPlusLexer_1, VAL in_TokenValue_2, TUP* *out_ZPlusLexer_3);
static void mw_mirth_lexer_ZPlusLexer_emitZBang (TUP* in_ZPlusLexer_1, VAL in_TokenValue_2, TUP* *out_ZPlusLexer_3);
static void mw_mirth_lexer_ZPlusLexer_nextZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_lcolonZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_emitZ_lparenZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_emitZ_lcurlyZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_emitZ_lsquareZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_emitZ_rparenZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_rcurlyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_rsquareZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_emitZ_stringZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4);
static void mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_byteZBang (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, int64_t in_Byte_4, TUP* *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, TUP* *out_ZPlusLexer_7);
static void mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_escapeZ_byteZBang (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, int64_t in_Byte_4, TUP* *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, TUP* *out_ZPlusLexer_7);
static void mw_mirth_lexer_ZPlusLexer_skipZ_commentZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static void mw_mirth_lexer_ZPlusLexer_skipZ_docZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static bool mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2);
static VAL mw_mirth_lexer_ZPlusLexer_nameZ_token (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_popZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_popZ_rZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_rZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_getZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_setZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static VAL mw_mirth_lexer_ZPlusLexer_dnameZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6);
static bool mw_mirth_lexer_ZPlusLexer_isZ_docZ_startZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static bool mw_mirth_lexer_ZPlusLexer_isZ_floatZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static uint64_t mw_mirth_lexer_ZPlusLexer_floatZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, uint64_t in_Token_4, TUP* *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, TUP* *out_ZPlusLexer_7, VAL *out_Maybe_9);
static VAL mw_mirth_lexer_ZPlusLexer_intZ_tokenZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static VAL mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, INT in_Offset_3, STR* *out_ZPlusStr_4, TUP* *out_ZPlusLexer_5);
static bool mw_mirth_lexer_ZPlusLexer_isZ_decZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static bool mw_mirth_lexer_ZPlusLexer_isZ_hexZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static bool mw_mirth_lexer_ZPlusLexer_isZ_octZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static INT mw_mirth_lexer_ZPlusLexer_intZ_sign (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4, INT *out_Int_6, INT *out_Offset_7);
static INT mw_mirth_lexer_ZPlusLexer_byteZ_signZ_valueZ_index (int64_t in_Byte_1, INT *out_Int_3, INT *out_Offset_4);
static VAL mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, INT in_Int_3, INT in_Int_4, INT in_Offset_5, STR* *out_ZPlusStr_6, TUP* *out_ZPlusLexer_7);
static VAL mw_mirth_lexer_ZPlusLexer_decZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static VAL mw_mirth_lexer_ZPlusLexer_hexZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static VAL mw_mirth_lexer_ZPlusLexer_octZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4);
static INT mw_mirth_lexer_ZPlusLexer_hexdigitZ_value (int64_t in_Byte_1);
static VAL mw_mirth_lexer_IntSuffix_convert (INT in_Int_1, int64_t in_IntSuffix_2);
static uint64_t mw_mirth_mirth_ZPlusMirth_runZ_lexerZBang (TUP* in_ZPlusMirth_1, STR* in_Path_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_macro_Macro_allocZBang (void);
static uint64_t mw_mirth_macro_Macro_index (uint64_t in_Macro_1);
static uint64_t mw_mirth_macro_Macro_name (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_macro_Macro_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_macro_Macro_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_macro_Macro_arity (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_macro_Macro_headZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_macro_Macro_action (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_macro_Macro_ZToInt (uint64_t in_Macro_1);
static bool mw_mirth_macro_Macro_ZEqual (uint64_t in_Macro_1, uint64_t in_Macro_2);
static uint64_t mw_mirth_macro_Macro_Prim (TUP* in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, VAL in_MacroAction_4, TUP* *out_ZPlusMirth_5);
static VAL mw_mirth_macro_MacroAction_declZAsk (VAL in_MacroAction_1);
static VAL mw_mirth_macro_MacroAction_arrowZAsk (VAL in_MacroAction_1);
static bool mw_mirth_macro_MacroAction_callableZAsk (VAL in_MacroAction_1);
static uint64_t mw_mirth_mirth_ZPlusMirth_moduleZ_statementZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_mirth_ZPlusMirth_importZ_statementZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang (STR* in_Str_1, INT in_Int_2, VAL in__3, TUP* in_ZPlusMirth_4, TUP* *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang (STR* in_Str_1, INT in_Int_2, VAL in__3, TUP* in_ZPlusMirth_4, TUP* *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_initZ_macrosZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static VAL mw_mirth_version_mirthZ_revision (void);
static void mw_mirth_elab_ZPlusTypeElab_rdrop (TUP* in_ZPlusTypeElab_1);
static void mw_mirth_elab_ZPlusTypeElab_StartZBang (uint64_t in_Token_1, TUP* *out_ZPlusTypeElab_2);
static TUP* mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_baseZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusTypeElab_6);
static VAL mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Either_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5, VAL *out_List_7);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Either_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Either_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Type_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusTypeElab_6);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_appZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Type_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusTypeElab_6, VAL *out_List_8);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4);
static void mw_mirth_elab_ZPlusResolveDef_rdrop (TUP* in_ZPlusResolveDef_1);
static void mw_mirth_elab_ZPlusResolveDef_BeginZBang (STR* in_Str_1, uint64_t in_Token_2, VAL in_Either_3, bool in_Bool_4, bool in_Bool_5, TUP* in_ZPlusMirth_6, TUP* *out_ZPlusMirth_7, TUP* *out_ZPlusResolveDef_8);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_arity (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusResolveDef_4);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusResolveDef_4);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_roots (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusResolveDef_5);
static VAL mw_mirth_elab_ZPlusResolveDef_endZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_QName_punningZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_def_Def_punningZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Def_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Tycon_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Namespace_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_name_QName_climbZ_upZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_name_QName_climbZ_upZ_dnameZAsk (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* in_DName_3, TUP* in_QName_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusResolveDef_6);
static VAL mw_mirth_elab_elabZ_typeZ_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, uint64_t in_Token_4, TUP* *out_ZPlusMirth_5, uint64_t *out_Token_7);
static VAL mw_mirth_elab_elabZ_simpleZ_typeZ_argZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_ZPlusAB_abZ_tokenZAt (TUP* in_ZPlusAB_1, TUP* *out_ZPlusAB_2);
static void mw_mirth_elab_ZPlusAB_abZ_tokenZBang (TUP* in_ZPlusAB_1, uint64_t in_Token_2, TUP* *out_ZPlusAB_3);
static VAL mw_mirth_elab_ZPlusAB_abZ_typeZAt (TUP* in_ZPlusAB_1, TUP* *out_ZPlusAB_2);
static void mw_mirth_elab_ZPlusAB_abZ_typeZBang (TUP* in_ZPlusAB_1, VAL in_StackType_2, TUP* *out_ZPlusAB_3);
static VAL mw_mirth_elab_ZPlusAB_abZ_ctxZAt (TUP* in_ZPlusAB_1, TUP* *out_ZPlusAB_2);
static VAL mw_mirth_elab_ZPlusAB_abZ_homeZAt (TUP* in_ZPlusAB_1, TUP* *out_ZPlusAB_2);
static bool mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZAsk (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static bool mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZ_aux (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static bool mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconZ_toZ_topZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Tycon_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, VAL in_Op_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6);
static VAL mw_mirth_elab_ZPlusAB_abZ_expandZ_opsigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, VAL in_OpSig_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6, VAL *out_List_7, VAL *out_StackType_9);
static void mw_mirth_elab_ZPlusAB_abZ_argZ_unifyZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Type_3, uint64_t in_Arg_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_PushValue_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_intZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, INT in_Int_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_strZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_bufferZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Buffer_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_fieldZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Field_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_primZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, int64_t in_Prim_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, uint64_t in_Word_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6);
static void mw_mirth_elab_ZPlusAB_abZ_externalZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_External_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_getZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_setZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static uint64_t mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static VAL mw_mirth_elab_ZPlusAB_elabZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static VAL mw_mirth_elab_ZPlusAB_elabZ_wordZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5, uint64_t *out_Word_7);
static void mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_dnameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* in_DName_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static bool mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_resolveZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Either_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_failedZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Def_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_notZ_callableZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_macroZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Macro_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_primZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, int64_t in_Prim_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_assertZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_parseZ_ldipZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4, VAL *out_Maybe_5, uint64_t *out_Token_6);
static void mw_mirth_elab_ZPlusAB_elabZ_ldipZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_matchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_elabZ_matchZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_StackType_3, uint64_t in_Token_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6);
static bool mw_mirth_elab_arityZ_compatibleZAsk (INT in_Int_1, INT in_Int_2);
static VAL mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5, uint64_t *out_Token_6, VAL *out_Home_7, uint64_t *out_Word_8);
static TUP* mw_mirth_elab_finalizzeZ_wordZ_arrow (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_elab_guessZ_initialZ_ctxZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Word_4, TUP* *out_ArrowType_6);
static VAL mw_mirth_arrow_PushValue_type (TUP* in_ZPlusMirth_1, VAL in_PushValue_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_opZ_freshZ_sigZBang (TUP* in_ZPlusMirth_1, VAL in_Op_2, TUP* *out_ZPlusMirth_3, VAL *out_OpSig_5);
static TUP* mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_tableZ_toZ_indexZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_tableZ_fromZ_indexZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_blockZ_sigZBang (uint64_t in_Block_1);
static VAL mw_mirth_elab_elabZ_matchZ_sigZBang (TUP* in_Match_1);
static VAL mw_mirth_elab_elabZ_lambdaZ_sigZBang (TUP* in_Lambda_1);
static VAL mw_mirth_elab_elabZ_varZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_labelZ_popZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_elabZ_arrowZ_homZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, VAL in_StackType_4, uint64_t in_Token_5, VAL in_Home_6, TUP* *out_ZPlusMirth_7);
static void mw_mirth_elab_elabZ_matchZ_casesZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusMatch_4);
static void mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusMatch_4);
static void mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusMatch_4);
static uint64_t mw_mirth_elab_elabZ_matchZ_caseZBang (uint64_t in_Token_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusMatch_3, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusMatch_6);
static void mw_mirth_elab_elabZ_patternZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusPattern_5);
static void mw_mirth_elab_elabZ_patternZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusPattern_5);
static VAL mw_mirth_elab_elabZ_expandZ_tensorZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6, uint64_t *out_Token_7);
static uint64_t mw_mirth_elab_elabZ_lambdaZ_paramZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5);
static void mw_mirth_elab_elabZ_atomZ_lambdaZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_matchZ_exhaustiveZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusMatch_4);
static uint64_t mw_mirth_elab_elabZ_moduleZBang (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_elabZ_moduleZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_parseZ_moduleZ_headerZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_ModuleHeader_5);
static uint64_t mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Name_5);
static uint64_t mw_mirth_elab_elabZ_moduleZ_headerZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_elab_checkZ_moduleZ_path (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_declsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_declZ_orZ_declZ_blockZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_declZ_blockZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_skipZ_declZ_blockZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_declZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_loadZ_module (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Module_6);
static uint64_t mw_mirth_elab_parseZ_moduleZ_import (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_ModuleImport_5);
static void mw_mirth_elab_processZ_moduleZ_importZBang (TUP* in_ZPlusMirth_1, uint64_t in_ModuleImport_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_parseZ_data (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_SyntaxData_5);
static uint64_t mw_mirth_elab_parseZ_dataZ_header (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_SyntaxDataHeader_5);
static uint64_t mw_mirth_elab_parseZ_dataZ_tags (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5);
static bool mw_mirth_elab_dataZ_tagsZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_parseZ_dataZ_tag (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_SyntaxDataTag_5);
static uint64_t mw_mirth_elab_parseZ_struct (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_SyntaxData_5);
static uint64_t mw_mirth_elab_parseZ_dataZ_declsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5);
static uint64_t mw_mirth_elab_parseZ_structZ_tag (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_SyntaxDataHeader_3, TUP* *out_ZPlusMirth_4, uint64_t *out_SyntaxDataHeader_6, TUP* *out_SyntaxDataTag_7);
static uint64_t mw_mirth_elab_elabZ_dataZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_structZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_4);
static void mw_mirth_elab_elabZ_dataZ_auxZBang (TUP* in_ZPlusMirth_1, TUP* in_SyntaxData_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_dataZ_headerZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_SyntaxDataHeader_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_elab_elabZ_dataZ_paramsZBang (TUP* in_ZPlusMirth_1, VAL in_List_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_dataZ_tagZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* in_SyntaxDataTag_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_dataZ_declsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_dataZ_wordZ_newZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, STR* in_Str_3, INT in_Nat_4, VAL in_Maybe_5, TUP* *out_ZPlusMirth_6);
static void mw_mirth_elab_elabZ_dataZ_doneZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_outputZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_data_Tag_projectZ_inputZ_label (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_data_Tag_projectZ_tagZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4);
static TUP* mw_mirth_elab_dataZ_getZ_labelZ_type (TUP* in_ZPlusMirth_1, TUP* in_TagField_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_dataZ_setZ_labelZ_type (TUP* in_ZPlusMirth_1, TUP* in_TagField_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_elab_createZ_projectorsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_expectZ_tokenZ_arrow (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_defZ_missingZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_inlineZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_patchZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_maxZ_mirthZ_revisionZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_minZ_mirthZ_revisionZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_parseZ_def (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_SyntaxDef_5);
static uint64_t mw_mirth_elab_elabZ_defZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, VAL in_Op_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_defZ_paramsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_defZ_bodyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static uint64_t mw_mirth_elab_parseZ_externalZ_decl (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5, VAL *out_Maybe_6);
static uint64_t mw_mirth_elab_parseZ_externalZ_declZ_part (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_ExternalDeclPart_5);
static uint64_t mw_mirth_elab_parseZ_externalZ_declZ_word (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, VAL *out_ExternalDeclPart_6);
static uint64_t mw_mirth_elab_elabZ_externalZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_externalZ_blockZ_partZBang (TUP* in_ZPlusMirth_1, VAL in_ExternalDeclPart_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_externalZ_defZBang (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Token_3, VAL in_Maybe_4, uint64_t in_Token_5, TUP* *out_ZPlusMirth_6);
static TUP* mw_mirth_elab_elabZ_externalZ_ctype (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_parseZ_defZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, VAL *out_Maybe_7);
static uint64_t mw_mirth_elab_elabZ_defZ_typeZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_elabZ_entryZ_point (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_embedZ_strZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_elab_typecheckZ_everythingZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static VAL mw_mirth_elab_resolveZ_defZ_namespace (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Either_3, bool in_Bool_4, TUP* *out_ZPlusMirth_5);
static TUP* mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* in_DName_3, INT in_Int_4, TUP* *out_ZPlusMirth_5);
static bool mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_token_Token_isZ_defaultZ_paramZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_elabZ_defZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_elab_definingZ_namespaceZ_orZ_error (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_elab_elabZ_defZ_qnameZ_undefined (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_elab_elabZ_defZ_head (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_4, uint64_t *out_Name_5, INT *out_Nat_6, VAL *out_PropState_7);
static uint64_t mw_mirth_buffer_Buffer_allocZBang (void);
static uint64_t mw_mirth_buffer_Buffer_index (uint64_t in_Buffer_1);
static uint64_t mw_mirth_buffer_Buffer_head (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_buffer_Buffer_sizze (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_buffer_Buffer_name (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_buffer_Buffer_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_buffer_Buffer_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_buffer_Buffer_ZEqual (uint64_t in_Buffer_1, uint64_t in_Buffer_2);
static uint64_t mw_mirth_buffer_Buffer_NewZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, INT in_Sizze_3, uint64_t in_Name_4, VAL in_Maybe_5, TUP* *out_ZPlusMirth_6);
static uint64_t mw_mirth_buffer_parseZ_buffer (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, VAL *out_Maybe_6, INT *out_Sizze_7);
static uint64_t mw_mirth_buffer_elabZ_bufferZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_StateOwner_ctx (TUP* in_ZPlusMirth_1, VAL in_StateOwner_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_StateOwner_push (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StateOwner_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_mirth_ZPlusMirth_parseZ_owner (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5);
static VAL mw_mirth_mirth_ZPlusMirth_resolveZ_owner (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_allocZBang (void);
static uint64_t mw_mirth_table_Table_index (uint64_t in_Table_1);
static uint64_t mw_mirth_table_Table_head (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Table_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_table_Table_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_name (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Table_owner (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_numZ_buffer (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_allocZ_word (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Table_inlineZ_fields (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_table_Table_ZEqual (uint64_t in_Table_1, uint64_t in_Table_2);
static VAL mw_mirth_table_Table_unifyZBang (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, uint64_t in_Table_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_table_Table_ZToType (uint64_t in_Table_1);
static VAL mw_mirth_table_Table_ZToTycon (uint64_t in_Table_1);
static VAL mw_mirth_table_Table_ZToNamespace (uint64_t in_Table_1);
static void mw_mirth_table_Table_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Table_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static VAL mw_mirth_table_Table_constructorZ_fields (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Field_allocZBang (void);
static uint64_t mw_mirth_table_Field_index (uint64_t in_Field_1);
static uint64_t mw_mirth_table_Field_head (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_default (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Field_name (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_table_Field_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_namespace (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_owner (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_indexZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_valueZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_basis (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_dom (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_cod (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_table_Field_type (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_table_Field_ZEqual (uint64_t in_Field_1, uint64_t in_Field_2);
static bool mw_mirth_table_Field_isZ_rawZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_table_tableZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, STR* in_Str_3, INT in_Int_4, TUP* *out_ZPlusMirth_5);
static uint64_t mw_mirth_table_tableZ_newZBang (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, VAL in_PropState_5, VAL in_Maybe_6, TUP* *out_ZPlusMirth_7);
static uint64_t mw_mirth_table_parseZ_tableZ_decl (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5, uint64_t *out_Token_6, VAL *out_Maybe_7, VAL *out_List_8, VAL *out_Maybe_9);
static uint64_t mw_mirth_table_elabZ_tableZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_parseZ_inlineZ_fieldZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_InlineFieldSyntax_5);
static void mw_mirth_table_elabZ_inlineZ_fieldZBang (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* in_InlineFieldSyntax_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Table_5);
static uint64_t mw_mirth_table_parseZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5, VAL *out_Maybe_6, uint64_t *out_Token_7, uint64_t *out_Token_8, uint64_t *out_Token_9, VAL *out_Maybe_10);
static uint64_t mw_mirth_table_elabZ_fieldZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_table_prepareZ_fieldZ_defsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Field_4);
static VAL mw_mirth_tycon_Tycon_ZToNamespace (VAL in_Tycon_1);
static VAL mw_mirth_tycon_Tycon_tableZAsk (VAL in_Tycon_1);
static uint64_t mw_mirth_tycon_Tycon_name (TUP* in_ZPlusMirth_1, VAL in_Tycon_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_tycon_Tycon_qnameZ_hard (TUP* in_ZPlusMirth_1, VAL in_Tycon_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_tycon_Tycon_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Tycon_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static bool mw_mirth_tycon_Tycon_ZEqual (VAL in_Tycon_1, VAL in_Tycon_2);
static VAL mw_mirth_tycon_Tycon_fullZ_typeZ_fresh (TUP* in_ZPlusMirth_1, VAL in_Tycon_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_tycon_Tycon_canZ_ownZ_stateZAsk (TUP* in_ZPlusMirth_1, VAL in_Tycon_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_data_Data_allocZBang (void);
static uint64_t mw_mirth_data_Data_index (uint64_t in_Data_1);
static VAL mw_mirth_data_Data_headZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_data_Data_name (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_data_Data_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_data_Data_arity (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_params (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_tags (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_ctypeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_data_Data_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_data_Data_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static bool mw_mirth_data_Data_ZEqual (uint64_t in_Data_1, uint64_t in_Data_2);
static INT mw_mirth_data_Data_numZ_tags (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_data_Data_addZ_tagZBang (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_isZ_unitZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_data_Data_isZ_enumZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_singleZ_tagZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_semiZ_transparentZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_data_Data_isZ_resourceZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_data_Data_isZ_valueZ_typeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_fullZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_data_Data_canZ_ownZ_stateZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_unifyZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_data_Data_ctype1ZAsk (TUP* in_ZPlusMirth_1, VAL in_CType_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, VAL in_List_3, uint64_t in_Data_4, VAL in_List_5, VAL in_Maybe_6, TUP* *out_ZPlusMirth_7);
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, VAL in_List_4, uint64_t in_Tag_5, TUP* *out_ZPlusMirth_6);
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Data_3, STR* in_Str_4, uint64_t in_Tag_5, STR* in_Str_6, TUP* *out_ZPlusMirth_7);
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Data_3, STR* in_Str_4, uint64_t in_Tag_5, STR* in_Str_6, TUP* *out_ZPlusMirth_7);
static void mw_mirth_mirth_ZPlusMirth_initZ_dataZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static TUP* mw_mirth_mirth_ZPlusMirth_dataZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Name_3, INT in_Int_4, TUP* *out_ZPlusMirth_5);
static TUP* mw_mirth_mirth_ZPlusMirth_dataZ_wordZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, STR* in_Str_3, INT in_Nat_4, TUP* *out_ZPlusMirth_5);
static uint64_t mw_mirth_data_Tag_allocZBang (void);
static uint64_t mw_mirth_data_Tag_index (uint64_t in_Tag_1);
static uint64_t mw_mirth_data_Tag_data (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_data_Tag_qname (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_data_Tag_name (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_value (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_labelZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_typeZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_resourceZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_sigZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_ctxZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static VAL mw_mirth_data_Tag_ctx (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_data_Tag_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_data_Tag_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_data_Tag_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static bool mw_mirth_data_Tag_onlyZ_tagZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_labelZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_data_Tag_numZ_totalZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_semiZ_transparentZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_data_Tag_outputsZ_resourceZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_data_Tag_ZEqual (uint64_t in_Tag_1, uint64_t in_Tag_2);
static bool mw_mirth_data_Tag_preferZ_inlineZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_data_DataPartial_ZEqual (TUP* in_DataPartial_1, TUP* in_DataPartial_2);
static VAL mw_mirth_data_DataPartial_unifyZBang (TUP* in_ZPlusMirth_1, TUP* in_DataPartial_2, TUP* in_DataPartial_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_arrow_Arrow_ctxZ_type (TUP* in_Arrow_1, TUP* *out_ArrowType_3);
static TUP* mw_mirth_arrow_Arrow_type (TUP* in_Arrow_1);
static VAL mw_mirth_arrow_Arrow_toZ_runZ_var (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Arrow_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Atom_toZ_runZ_var (TUP* in_ZPlusMirth_1, TUP* in_Atom_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Atom_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Atom_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Arg_freeZ_vars (TUP* in_ZPlusMirth_1, uint64_t in_Arg_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_arrow_PushValue_ZEqual (VAL in_PushValue_1, VAL in_PushValue_2);
static VAL mw_mirth_arrow_Op_toZ_runZ_var (TUP* in_ZPlusMirth_1, VAL in_Op_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Op_freeZ_vars (TUP* in_ZPlusMirth_1, VAL in_Op_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Lambda_cod (TUP* in_Lambda_1);
static VAL mw_mirth_arrow_Lambda_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Lambda_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_arrow_Block_allocZBang (void);
static uint64_t mw_mirth_arrow_Block_index (uint64_t in_Block_1);
static VAL mw_mirth_arrow_Block_ctx (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_arrow_Block_token (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Block_dom (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Block_cod (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Block_home (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_arrow_Block_type (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_arrow_Block_arrow (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_arrow_Block_ZEqual (uint64_t in_Block_1, uint64_t in_Block_2);
static void mw_mirth_arrow_Block_registerZ_homeZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_arrow_Block_cname (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_arrow_Block_newZBang (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_arrow_Block_typecheckZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_arrow_blockZ_unifyZ_typeZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_arrow_Block_toZ_runZ_var (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Block_freeZ_vars (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_match_Match_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Match_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_match_Case_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Case_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_NewInCtx (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6);
static VAL mw_mirth_type_Type_FreshZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static VAL mw_mirth_type_Type_TYPE (void);
static VAL mw_mirth_type_Type_STACK (void);
static VAL mw_mirth_type_Type_RESOURCE (void);
static VAL mw_mirth_type_Type_Bool (void);
static VAL mw_mirth_type_Type_Int (void);
static VAL mw_mirth_type_Type_U8 (void);
static VAL mw_mirth_type_Type_U16 (void);
static VAL mw_mirth_type_Type_U32 (void);
static VAL mw_mirth_type_Type_U64 (void);
static VAL mw_mirth_type_Type_I8 (void);
static VAL mw_mirth_type_Type_I16 (void);
static VAL mw_mirth_type_Type_I32 (void);
static VAL mw_mirth_type_Type_I64 (void);
static VAL mw_mirth_type_Type_F32 (void);
static VAL mw_mirth_type_Type_F64 (void);
static VAL mw_mirth_type_Type_Ptr (void);
static VAL mw_mirth_type_Type_Str (void);
static VAL mw_mirth_type_Type_World (void);
static VAL mw_mirth_type_Type_Unit (void);
static VAL mw_mirth_type_Type_tyconZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_Type_errorZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_arrowZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_primZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_Type_unitZ_stackZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_Type_metaZEqual (uint64_t in_MetaVar_1, VAL in_Type_2);
static bool mw_mirth_type_Type_isZ_physicalZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_expand (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_unifyZ_failedZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Type_unifyZ_simpleZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Type_unifyZ_auxZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Type_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Type_unifyZ_blockZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Type_unify2ZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4, VAL in_Type_5, TUP* *out_ZPlusMirth_6, VAL *out_Type_8);
static bool mw_mirth_type_Type_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_type_Type_hasZ_meta2ZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_Type_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5);
static bool mw_mirth_type_Type_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_type_Type_hasZ_var2ZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_Type_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5);
static void mw_mirth_type_Type_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static VAL mw_mirth_type_Type_appZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_splitZ_args (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5);
static void mw_mirth_type_Type_appZ_typeZThenZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Type_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5, STR* *out_ZPlusStr_6);
static VAL mw_mirth_type_Type_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6);
static VAL mw_mirth_type_Type_freshen2 (TUP* in_ZPlusMirth_1, VAL in_Subst_2, VAL in_Type_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5, VAL *out_Type_7, VAL *out_Type_8);
static VAL mw_mirth_type_Type_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6);
static VAL mw_mirth_type_Type_exceptZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5);
static VAL mw_mirth_type_Type_ctype (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_ctypeZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_ctype1ZAsk (TUP* in_ZPlusMirth_1, VAL in_CType_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Value_tyconZAsk (VAL in_Value_1);
static VAL mw_mirth_type_Value_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Value_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Value_unifyZ_typeZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Value_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, VAL in_Value_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_Value_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_type_Value_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Value_type (TUP* in_ZPlusMirth_1, VAL in_Value_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Value_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6);
static bool mw_mirth_type_PrimType_isZ_resourceZAsk (int64_t in_PrimType_1);
static bool mw_mirth_type_PrimType_isZ_physicalZAsk (int64_t in_PrimType_1);
static TUP* mw_mirth_type_PrimType_tyconZ_qname (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_type_PrimType_ZToInt (int64_t in_PrimType_1);
static bool mw_mirth_type_PrimType_ZEqual (int64_t in_PrimType_1, int64_t in_PrimType_2);
static VAL mw_mirth_type_PrimType_unifyZBang (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, int64_t in_PrimType_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_type_PrimType_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, int64_t in_PrimType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static VAL mw_mirth_type_PrimType_ctypeZAsk (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_PrimType_canZ_ownZ_stateZAsk (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_initZ_typesZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static VAL mw_mirth_type_TZPlus (VAL in_StackType_1, VAL in_Resource_2);
static VAL mw_mirth_type_TZMul (VAL in_StackType_1, VAL in_Type_2);
static VAL mw_mirth_type_TZMulZPlus (VAL in_StackType_1, VAL in_Either_2);
static TUP* mw_mirth_type_TZ_ZTo (VAL in_StackType_1, VAL in_StackType_2);
static VAL mw_mirth_type_T0 (void);
static VAL mw_mirth_type_T1 (VAL in_Type_1);
static VAL mw_mirth_type_T2 (VAL in_Type_1, VAL in_Type_2);
static VAL mw_mirth_type_T3 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3);
static VAL mw_mirth_type_T4 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4);
static VAL mw_mirth_type_T5 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4, VAL in_Type_5);
static VAL mw_mirth_type_Kind_TYPE (void);
static VAL mw_mirth_type_Kind_STACK (void);
static VAL mw_mirth_type_Kind_RESOURCE (void);
static VAL mw_mirth_type_Kind_ZToType (VAL in_Kind_1);
static VAL mw_mirth_type_Type_ZToKind (VAL in_Type_1);
static uint64_t mw_mirth_type_MetaVar_allocZBang (void);
static uint64_t mw_mirth_type_MetaVar_index (uint64_t in_MetaVar_1);
static VAL mw_mirth_type_MetaVar_typeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_MetaVar_kind (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_type_MetaVar_NewZBang (TUP* in_ZPlusMirth_1, VAL in_Kind_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_MetaVar_unitZ_stackZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_MetaVar_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_type_MetaVar_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_type_MetaVar_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static VAL mw_mirth_type_MetaVar_expand (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_MetaVar_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_MetaVar_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_MetaVar_ZEqual (uint64_t in_MetaVar_1, uint64_t in_MetaVar_2);
static VAL mw_mirth_type_MetaVar_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6);
static VAL mw_mirth_type_MetaVar_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6);
static VAL mw_mirth_type_typeZ_holeZ_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Resource_NewInCtx (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, VAL *out_Resource_6);
static VAL mw_mirth_type_Resource_FreshZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static VAL mw_mirth_type_Resource_World (void);
static VAL mw_mirth_type_Resource_ZToType (VAL in_Resource_1);
static VAL mw_mirth_type_Type_ZToResource (VAL in_Type_1);
static bool mw_mirth_type_Resource_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_type_Resource_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Resource_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Resource_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_Resource_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_type_Resource_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static VAL mw_mirth_type_Resource_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4, VAL *out_Resource_6);
static VAL mw_mirth_type_Resource_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4, VAL *out_Resource_6);
static VAL mw_mirth_type_Resource_tyconZAsk (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_Resource_canZ_ownZ_stateZAsk (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Resource_exceptZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL in_Resource_4, TUP* *out_ZPlusMirth_5);
static VAL mw_mirth_type_Resource_ctype (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Resource_ctypeZAsk (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_NewInCtx (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, VAL *out_StackType_6);
static VAL mw_mirth_type_StackType_FreshZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static VAL mw_mirth_type_Type_ZToStackType (VAL in_Type_1);
static VAL mw_mirth_type_StackType_ZToType (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_expand (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_unitZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_labelZ_names (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_split4 (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5, VAL *out_List_6, VAL *out_List_7);
static VAL mw_mirth_type_StackType_base (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_labelZ_topZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackType_topZ_typeZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_topZ_tyconZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_topZ_resourceZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_topZ_resourceZ_tycons (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_topZ_namespaces (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_StackType_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_type_StackType_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackType_unifyZ_failedZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackType_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackType_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackType_forceZ_consZAskZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_forceZ_withZAskZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_type_StackType_domZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_type_StackType_codZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_type_StackType_stackZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static VAL mw_mirth_type_StackType_semifreshen (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, VAL *out_StackType_6);
static VAL mw_mirth_type_StackType_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, VAL *out_StackType_6);
static VAL mw_mirth_type_StackType_freshenZ_aux (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_Subst_3, VAL in_StackType_4, TUP* *out_ZPlusMirth_5, VAL *out_Subst_7, VAL *out_StackType_8);
static VAL mw_mirth_type_StackType_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, VAL *out_StackType_6);
static VAL mw_mirth_type_StackType_linearZ_baseZ_metaZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_linearZ_baseZ_varZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_splitZ_parts (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5);
static TUP* mw_mirth_type_StackType_ctype (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_StackTypeBase_unitZAsk (TUP* in_ZPlusMirth_1, VAL in_StackTypeBase_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_StackTypeBase_baseZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_StackTypeBase_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static VAL mw_mirth_type_StackTypeBase_ctypeZAsk (TUP* in_ZPlusMirth_1, VAL in_StackTypeBase_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackTypePart_cons (VAL in_StackType_1, VAL in_StackTypePart_2);
static VAL mw_mirth_type_StackTypePart_typeZDivresource (VAL in_StackTypePart_1);
static VAL mw_mirth_type_StackTypePart_label (VAL in_StackTypePart_1);
static VAL mw_mirth_type_StackTypePart_ctype (TUP* in_ZPlusMirth_1, VAL in_StackTypePart_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_type_ArrowType_FreshZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static TUP* mw_mirth_type_ArrowType_invert (TUP* in_ArrowType_1);
static TUP* mw_mirth_type_ArrowType_unifyZBang (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4);
static TUP* mw_mirth_type_ArrowType_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_ArrowType_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_type_ArrowType_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_type_ArrowType_sigZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static TUP* mw_mirth_type_ArrowType_semifreshenZ_sig (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_type_ArrowType_semifreshenZ_aux (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_ArrowType_freshenZ_sig (TUP* in_ZPlusMirth_1, VAL in_Subst_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6);
static VAL mw_mirth_type_ArrowType_freshenZ_sigZ_aux (TUP* in_ZPlusMirth_1, VAL in_Subst_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6);
static VAL mw_mirth_type_ArrowType_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6);
static VAL mw_mirth_type_ArrowType_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6);
static VAL mw_mirth_type_ArrowType_rigidifyZ_sigZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6);
static TUP* mw_mirth_type_ArrowType_ctype (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Subst_Nil (void);
static VAL mw_mirth_type_Subst_cons (VAL in_Type_1, uint64_t in_Var_2, VAL in_Subst_3);
static VAL mw_mirth_type_Subst_lookupZ_var (uint64_t in_Var_1, VAL in_Subst_2);
static bool mw_mirth_type_Subst_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Subst_2);
static VAL mw_mirth_type_Subst_getZ_var (uint64_t in_Var_1, VAL in_Subst_2);
static STR* mw_mirth_type_CType_cname (VAL in_CType_1);
static VAL mw_mirth_type_CType_qualify (STR* in_Str_1, VAL in_CType_2);
static VAL mw_mirth_type_CType_const (VAL in_CType_1);
static VAL mw_mirth_type_CType_restrict (VAL in_CType_1);
static VAL mw_mirth_type_CType_volatile (VAL in_CType_1);
static VAL mw_mirth_type_CType_ptr (VAL in_CType_1);
static bool mw_mirth_type_CType_phantomZAsk (VAL in_CType_1);
static VAL mw_mirth_type_CTypeStackPart_ctype (VAL in_CTypeStackPart_1);
static VAL mw_mirth_type_CTypeStackPart_labelZAsk (VAL in_CTypeStackPart_1);
static int64_t mw_mirth_prim_Prim_Min (void);
static int64_t mw_mirth_prim_Prim_Max (void);
static INT mw_mirth_prim_Prim_ZToInt (int64_t in_Prim_1);
static bool mw_mirth_prim_Prim_ZEqual (int64_t in_Prim_1, int64_t in_Prim_2);
static uint64_t mw_mirth_prim_Prim_name (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_prim_Prim_qname (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_prim_Prim_namespace (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_prim_Prim_registerZBang (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_prim_Prim_arity (int64_t in_Prim_1);
static STR* mw_mirth_prim_Prim_str (int64_t in_Prim_1);
static STR* mw_mirth_prim_Prim_strZ_arity (int64_t in_Prim_1, INT *out_Int_3);
static VAL mw_mirth_prim_Prim_ctxZ_type (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static TUP* mw_mirth_prim_Prim_type (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_prim_Prim_computeZ_ctxZ_type (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static void mw_mirth_mirth_ZPlusMirth_initZ_primsZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static bool mw_mirth_token_TokenValue_noneZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_commaZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_lparenZ_openZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_lsquareZ_openZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_lcurlyZ_openZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_lcolonZ_openZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lparenZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_rparenZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lsquareZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_rsquareZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lcurlyZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_rcurlyZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lcolonZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_intZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_strZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_nameZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_dnameZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_nameZDivdnameZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lastZ_nameZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_argZ_endZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_leftZ_enclosureZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_rightZ_enclosureZAsk (VAL in_TokenValue_1);
static bool mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_sigZ_dashesZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_vdashZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_arrowZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_patZ_underscoreZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_moduleZ_headerZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_TokenValue_moduleZ_importZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_nameZDivdnameZ_lastZ_name (VAL in_Either_1);
static VAL mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk (VAL in_Either_1);
static uint64_t mw_mirth_token_Token_allocZBang (void);
static uint64_t mw_mirth_token_Token_index (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_fromZ_index (uint64_t in_U64_1);
static uint64_t mw_mirth_token_Token_succ (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_pred (uint64_t in_Token_1);
static bool mw_mirth_token_Token_ZEqual (uint64_t in_Token_1, uint64_t in_Token_2);
static VAL mw_mirth_token_Token_value (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_module (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_token_Token_col (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_token_Token_row (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_doc (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_noneZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_commaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_lcolonZ_openZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_lparenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_rparenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_lsquareZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_rsquareZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_lcurlyZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_rcurlyZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_lcolonZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_intZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_strZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_dnameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_nameZDivdnameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_lastZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_argZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_leftZ_enclosureZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_rightZ_enclosureZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_sigZ_typeZ_conZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_sigZ_typeZ_holeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_sigZ_typeZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_sigZ_paramZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_sigZ_stackZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_sigZ_resourceZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_sigZ_resourceZ_conZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_sigZ_dashesZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_vdashZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_arrowZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_patZ_underscoreZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_moduleZ_headerZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_moduleZ_importZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_canZ_takeZ_argsZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_allocZ_noneZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static TUP* mw_mirth_token_Token_location (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_token_Token_locationZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_token_Token_next (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_prev (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_nextZ_argZ_end (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_argsZ_start (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_sigZ_labelZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_patternZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_token_Token_argsZ_0 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_argsZ_1 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_argsZ_2 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5);
static uint64_t mw_mirth_token_Token_argsZ_3 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6);
static uint64_t mw_mirth_token_Token_argsZ_4 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, uint64_t *out_Token_7);
static INT mw_mirth_token_Token_numZ_args (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_args (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_argsZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_token_Token_argsZPlus (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_moduleZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_runZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_toZ_runZ_end (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_runZ_tokens (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_token_Token_runZ_length (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_runZ_arrowZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_sigZ_stackZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_sigZ_nextZ_stackZ_end (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_token_Token_sigZ_hasZ_vdashZ_orZ_dashesZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_token_Token_patZ_tokens (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_cloneZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_mirth_alias_Alias_allocZBang (void);
static uint64_t mw_mirth_alias_Alias_index (uint64_t in_Alias_1);
static uint64_t mw_mirth_alias_Alias_head (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_alias_Alias_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_alias_Alias_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_alias_Alias_namespaceZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_alias_Alias_name (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_alias_Alias_arity (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_alias_Alias_target (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_alias_Alias_ZEqual (uint64_t in_Alias_1, uint64_t in_Alias_2);
static uint64_t mw_mirth_alias_Alias_newZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Name_3, INT in_Int_4, VAL in_Maybe_5, TUP* *out_ZPlusMirth_6);
static uint64_t mw_mirth_alias_parseZ_alias (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, VAL *out_Either_7, VAL *out_Maybe_8);
static uint64_t mw_mirth_alias_elabZ_aliasZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_def_Def_packageZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_moduleZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_aliasZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_dataZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_tableZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_typedefZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_tagZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_primZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_wordZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_bufferZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_externalZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_fieldZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_macroZAsk (VAL in_Def_1);
static bool mw_mirth_def_Def_ZEqual (VAL in_Def_1, VAL in_Def_2);
static void mw_mirth_def_Def_typecheckZBang (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_def_Def_callableZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_def_Def_definesZ_aZ_typeZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_def_Def_sameZ_resolvedZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, VAL in_Def_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_def_Def_resolve (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_def_Def_name (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static INT mw_mirth_def_Def_arity (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_def_Def_qnameZ_soft (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_def_Def_qnameZ_hard (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_def_Def_asZ_namespaceZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_def_Def_asZ_defZ_namespaceZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_def_Def_register (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_def_Def_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Def_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static uint64_t mw_mirth_name_Name_allocZBang (void);
static uint64_t mw_mirth_name_Name_index (uint64_t in_Name_1);
static uint64_t mw_mirth_name_Name_fromZ_index (uint64_t in_U64_1);
static STR* mw_mirth_name_Name_ZToStr (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_name_Name_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static VAL mw_mirth_name_Name_defs (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_name_Name_mangled (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_name_Name_mangledZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static bool mw_mirth_name_Name_ZEqual (uint64_t in_Name_1, uint64_t in_Name_2);
static void mw_mirth_name_ZPlusNameHashMap_new (TUP* *out_ZPlusNameHashMap_1);
static void mw_mirth_name_ZPlusNameHashMap_rdrop (TUP* in_ZPlusNameHashMap_1);
static INT mw_mirth_name_ZPlusNameHashMap_nameZ_idZAt (TUP* in_ZPlusNameHashMap_1, uint64_t in_Hash_2, TUP* *out_ZPlusNameHashMap_3);
static void mw_mirth_name_ZPlusNameHashMap_nameZ_idZBang (TUP* in_ZPlusNameHashMap_1, int64_t in_I64_2, uint64_t in_Hash_3, TUP* *out_ZPlusNameHashMap_4);
static uint64_t mw_mirth_name_Hash_next (uint64_t in_Hash_1);
static INT mw_mirth_name_Hash_nameZ_index (uint64_t in_Hash_1);
static VAL mw_mirth_name_Hash_nameZAt (TUP* in_ZPlusMirth_1, uint64_t in_Hash_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_name_Hash_nameZBang (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Hash_3, TUP* *out_ZPlusMirth_4);
static STR* mw_mirth_name_Hash_keepZ_goingZAsk (TUP* in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Hash_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Hash_6, bool *out_Bool_7);
static uint64_t mw_std_prim_Str_hash (STR* in_Str_1);
static uint64_t mw_std_prim_Str_ZToName (TUP* in_ZPlusMirth_1, STR* in_Str_2, TUP* *out_ZPlusMirth_3);
static int64_t mw_mirth_name_Name_head (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static int64_t mw_mirth_name_Name_tailZ_head (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_canZ_beZ_relativeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_typeZ_var (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_typeZ_con (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_isZ_typeZ_hole (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_isZ_underscore (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_stackZ_var (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_resourceZ_var (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_resourceZ_con (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_rawZ_fieldZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_fieldZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Name_couldZ_beZ_constructor (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_Namespace_ZEqual (VAL in_Namespace_1, VAL in_Namespace_2);
static VAL mw_mirth_name_Namespace_qname (TUP* in_ZPlusMirth_1, VAL in_Namespace_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_name_Namespace_moduleZAsk (TUP* in_ZPlusMirth_1, VAL in_Namespace_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_name_Namespace_Prim (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static void mw_mirth_name_Namespace_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Namespace_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_Namespace_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Namespace_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_Namespace_mangledZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Namespace_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static TUP* mw_mirth_name_QName_Mk (VAL in_Namespace_1, uint64_t in_Name_2, INT in_Int_3);
static bool mw_mirth_name_QName_ZEqual (TUP* in_QName_1, TUP* in_QName_2);
static VAL mw_mirth_name_QName_defZ_hardZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_QName_definedZ_hardZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_name_QName_defZ_softZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_QName_definedZ_softZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_name_QName_undefinedZ_softZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_name_QName_Prim (TUP* in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_name_QName_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_QName_nameZDivarityZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_name_QName_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static STR* mw_mirth_name_QName_mangled (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_name_QName_mangledZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static STR* mw_mirth_name_QName_toZ_moduleZ_path (TUP* in_QName_1, TUP* in_ZPlusMirth_2, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_name_DName_rootZAsk (TUP* in_DName_1);
static TUP* mw_mirth_name_DName_parts (TUP* in_DName_1);
static uint64_t mw_mirth_name_DName_lastZ_name (TUP* in_DName_1);
static VAL mw_mirth_name_DName_penultimateZ_nameZAsk (TUP* in_DName_1);
static bool mw_mirth_name_DName_isZ_relativeZAsk (TUP* in_DName_1);
static uint64_t mw_mirth_module_Module_allocZBang (void);
static uint64_t mw_mirth_module_Module_index (uint64_t in_Module_1);
static uint64_t mw_mirth_module_Module_package (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_module_Module_name (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_module_Module_qname (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_module_Module_path (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_module_Module_start (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_module_Module_head (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_module_Module_imports (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_module_Module_ZEqual (uint64_t in_Module_1, uint64_t in_Module_2);
static uint64_t mw_mirth_module_Module_Prim (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static uint64_t mw_mirth_module_Module_NewZBang (TUP* in_ZPlusMirth_1, STR* in_Path_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_module_Module_sourceZ_path (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3);
static bool mw_mirth_module_Module_visible (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, uint64_t in_Module_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_initZ_modulesZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static INT mw_mirth_location_Row_ZToInt (INT in_Row_1);
static void mw_mirth_location_Row_intZThen (STR* in_ZPlusStr_1, INT in_Row_2, STR* *out_ZPlusStr_3);
static INT mw_mirth_location_Row_natZPlus (INT in_Nat_1, INT in_Row_2);
static INT mw_mirth_location_Col_ZToInt (INT in_Col_1);
static void mw_mirth_location_Col_intZThen (STR* in_ZPlusStr_1, INT in_Col_2, STR* *out_ZPlusStr_3);
static INT mw_mirth_location_Col_natZPlus (INT in_Nat_1, INT in_Col_2);
static void mw_mirth_location_Location_emitZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_Location_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static TUP* mw_mirth_mirth_Builtin_AllocZBang (void);
static void mw_mirth_mirth_ZPlusMirth_InitZBang (TUP* *out_ZPlusMirth_1);
static void mw_mirth_mirth_ZPlusMirth_quitZBang (TUP* in_ZPlusMirth_1);
static VAL mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3, int64_t in_Severity_4, TUP* *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3);
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3);
static void mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static TUP* mw_mirth_mirth_ZPlusMirth_errorZ_location (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_infoZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_errorZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2);
static void mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang (VAL in_IOError_1, TUP* in_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang (TUP* in_ZPlusMirth_1);
static void mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static VAL mw_mirth_mirth_ZPlusMirth_popZ_diagnosticsZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2);
static void mw_mirth_mirth_Diagnostic_diagnosticZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_Diagnostic_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static STR* mw_mirth_mirth_Severity_ZToStr (int64_t in_Severity_1);
static VAL mw_mirth_mirth_Prop_1_readyZAsk (TUP* in_Prop_1);
static VAL mw_mirth_mirth_Prop_1_compute (TUP* in_ZPlusMirth_1, TUP* in_Prop_2, TUP* *out_ZPlusMirth_3, TUP* *out_Prop_5);
static VAL mw_mirth_mirth_Prop_1_tryZ_forceZBang (TUP* in_ZPlusMirth_1, void* in_MutProp_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_mirth_Prop_1_forceZBang (TUP* in_ZPlusMirth_1, void* in_MutProp_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_mirth_PropState_1_readyZAsk (VAL in_PropState_1);
static VAL mw_mirth_mirth_PropState_1_compute (TUP* in_ZPlusMirth_1, VAL in_PropState_2, TUP* *out_ZPlusMirth_3, VAL *out_PropState_5);
static void mw_mirth_mirth_PropLabel_traceZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static TUP* mw_mirth_mirth_PropLabel_prop (TUP* in_ZPlusMirth_1, VAL in_b_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4);
static TUP* mw_mirth_mirth_PropLabel_prop2 (TUP* in_ZPlusMirth_1, VAL in_b1_2, VAL in_b2_3, VAL in_PropLabel_4, TUP* *out_ZPlusMirth_5);
static void mw_mirth_token_Token_locationZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static TUP* mw_mirth_specializzer_runZ_specializzerZBang (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_specializzer_ZPlusSPCheck_InitZBang (VAL *out_ZPlusSPCheck_1);
static void mw_mirth_specializzer_ZPlusSPCheck_quitZBang (VAL in_ZPlusSPCheck_1);
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_transitiveZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* *out_ZPlusMirth_3, VAL *out_ZPlusSPCheck_4);
static void mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, VAL in_SPCheckItem_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5);
static TUP* mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5);
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang (VAL in_ZPlusSPCheck_1, uint64_t in_Arg_2, VAL *out_ZPlusSPCheck_3);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang (VAL in_ZPlusSPCheck_1, TUP* in_Atom_2, int64_t in_Prim_3, VAL *out_ZPlusSPCheck_4);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Atom_3, uint64_t in_Word_4, TUP* *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6);
static TUP* mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Match_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5);
static TUP* mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Case_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5);
static TUP* mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Lambda_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5);
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang (VAL in_ZPlusSPCheck_1, uint64_t in_Word_2, VAL *out_ZPlusSPCheck_3);
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang (VAL in_ZPlusSPCheck_1, uint64_t in_Block_2, VAL *out_ZPlusSPCheck_3);
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_itemZBang (VAL in_ZPlusSPCheck_1, VAL in_SPCheckItem_2, VAL *out_ZPlusSPCheck_3);
static bool mw_mirth_specializzer_ZPlusSPCheck_checkedZBang (VAL in_ZPlusSPCheck_1, VAL in_SPCheckItem_2, VAL *out_ZPlusSPCheck_3);
static bool mw_mirth_arrow_Arg_similar (TUP* in_ZPlusMirth_1, uint64_t in_Arg_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_arrow_Block_similar (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_arrow_Arrow_similar (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_arrow_Atom_similar (TUP* in_ZPlusMirth_1, TUP* in_Atom_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_arrow_Op_similar (TUP* in_ZPlusMirth_1, VAL in_Op_2, VAL in_Op_3, TUP* *out_ZPlusMirth_4);
static bool mw_mirth_data_TagField_similar (TUP* in_TagField_1, TUP* in_TagField_2);
static bool mw_mirth_specializzer_SPKey_similar (TUP* in_ZPlusMirth_1, TUP* in_SPKey_2, TUP* in_SPKey_3, TUP* *out_ZPlusMirth_4);
static VAL mw_mirth_word_Word_spZ_synthed (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_mirth_specializzer_specializzeZ_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_SPKey_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static uint64_t mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, VAL in_List_3, VAL in_Op_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusSPSynth_6);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static uint64_t mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, TUP* in_Match_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, TUP* in_Lambda_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_synthZ_specializzedZ_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* in_SPKey_3, uint64_t in_Word_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6);
static INT mw_std_set_SETz_INITIALz_SIZZE (void);
static void mw_std_set_ZPlusSet_Empty (TUP* *out_ZPlusSet_1);
static void mw_std_set_ZPlusSet_rdrop (TUP* in_ZPlusSet_1);
static INT mw_std_set_ZPlusSet_offsetZ_mask (INT in_Nat_1, TUP* in_ZPlusSet_2, uint8_t *out_U8_4, TUP* *out_ZPlusSet_5);
static bool mw_std_set_ZPlusSet_memberZAsk (INT in_Nat_1, TUP* in_ZPlusSet_2, TUP* *out_ZPlusSet_4);
static void mw_std_set_ZPlusSet_insertZBang (INT in_Nat_1, TUP* in_ZPlusSet_2, TUP* *out_ZPlusSet_3);
static INT mw_mirth_need_Need_ZToNat (VAL in_Need_1);
static void mw_mirth_need_ZPlusNeeds_New (TUP* *out_ZPlusNeeds_1);
static void mw_mirth_need_ZPlusNeeds_rdrop (TUP* in_ZPlusNeeds_1);
static bool mw_mirth_need_Need_neededZAsk (TUP* in_ZPlusNeeds_1, VAL in_Need_2, TUP* *out_ZPlusNeeds_3);
static bool mw_mirth_word_Word_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Word_2, TUP* *out_ZPlusNeeds_3);
static bool mw_mirth_arrow_Block_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Block_2, TUP* *out_ZPlusNeeds_3);
static bool mw_mirth_data_Tag_wordZ_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Tag_2, TUP* *out_ZPlusNeeds_3);
static bool mw_mirth_data_Tag_patZ_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Tag_2, TUP* *out_ZPlusNeeds_3);
static bool mw_mirth_label_Label_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Label_2, TUP* *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZBang (TUP* in_ZPlusNeeds_1, VAL in_Need_2, TUP* *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_wordZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Word_2, TUP* *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_blockZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Block_2, TUP* *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Tag_2, TUP* *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Tag_2, TUP* *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_labelZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Label_2, TUP* *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusNeeds_4);
static void mw_mirth_need_ZPlusNeeds_runZ_needZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_Need_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_arrowZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, VAL in_Op_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusNeeds_6);
static void mw_mirth_need_ZPlusNeeds_runZ_primZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, int64_t in_Prim_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusNeeds_6);
static void mw_mirth_need_ZPlusNeeds_runZ_matchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Match_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_caseZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Case_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Lambda_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_patternZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Pattern_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_patatomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_PatternAtom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5);
static void mw_mirth_c99_ZPlusC99_put (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_ZPlusC99_putZ_byte (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, int64_t in_Byte_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_ZPlusC99_line (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_runZ_outputZ_c99ZBang (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* in_C99z_Options_3, TUP* *out_ZPlusMirth_4);
static TUP* mw_mirth_c99_c99Z_startZBang (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* in_C99z_Options_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_6);
static void mw_mirth_c99_c99Z_endZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static INT mw_mirth_c99_ZPlusC99_freshZ_natZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static STR* mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static STR* mw_mirth_c99_ZPlusC99_freshZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static STR* mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static STR* mw_mirth_data_Tag_wordZ_cname (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_data_Tag_patZ_cname (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_buffer_Buffer_cname (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_table_Field_cname (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_external_External_cname (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_c99_c99Z_headerZ_str (void);
static void mw_mirth_c99_c99Z_headerZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_buffersZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_bufferZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Buffer_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_bufferZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Buffer_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_tagZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_tagZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_tagZ_bodyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99_tagZ_valueZ_put (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_packZ_tupleZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_Maybe_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Resource_7);
static void mw_mirth_c99_c99Z_unpackZ_tupleZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, VAL in_Maybe_4, VAL in_List_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7);
static INT mw_mirth_c99_c99Z_tagZ_labelZ_index (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6);
static void mw_mirth_c99_c99Z_tagZ_getZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_TagField_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_tagZ_setZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_TagField_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_externalZ_blocksZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_externalZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_ExternalBlock_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static STR* mw_mirth_external_External_cnameZ_type (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static TUP* mw_mirth_external_External_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_External_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_externalZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, uint64_t in_External_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_externalZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_External_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static STR* mw_mirth_type_CTypeStackPart_c99Z_argZ_name (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, INT in_Nat_3, VAL in_CTypeStackPart_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6, INT *out_Nat_7);
static VAL mw_mirth_type_CType_ZToC99ReprType (VAL in_CType_1);
static STR* mw_mirth_type_CTypeStackPart_c99Z_pop (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_CTypeStackPart_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_type_CTypeStackPart_c99Z_push (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, VAL in_CTypeStackPart_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_ZPlusC99_indent (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static VAL mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix (int64_t in_C99APIArgMode_1);
static bool mw_mirth_c99_C99APIArg_isZ_physicalZAsk (TUP* in_C99APIArg_1);
static bool mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk (TUP* in_C99APIArg_1);
static STR* mw_mirth_c99_C99APIArg_popZ_consumeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static VAL mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_nameZ_argZ_prefix (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_c99_typeZ_argZ_prefix (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static STR* mw_mirth_c99_freshZ_argZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, int64_t in_C99APIArgMode_3, VAL in_C99ReprType_4, VAL in_Type_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99_7, int64_t *out_C99APIArgMode_8, VAL *out_C99ReprType_9);
static VAL mw_mirth_c99_consZ_freshZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, int64_t in_C99APIArgMode_3, VAL in_List_4, VAL in_Type_5, VAL in_C99APIArgSource_6, TUP* *out_ZPlusMirth_7, TUP* *out_ZPlusC99_8, int64_t *out_C99APIArgMode_9);
static VAL mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, int64_t in_C99APIArgMode_3, VAL in_StackType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6, int64_t *out_C99APIArgMode_7, bool *out_Bool_8);
static VAL mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, VAL in_StackType_3, int64_t in_C99APIArgMode_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6, bool *out_Bool_7);
static TUP* mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* in_ArrowType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6);
static TUP* mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static TUP* mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, TUP* in_C99APIArg_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_smartZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* in_C99API_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_ZPlusC99_smartZ_sigZ_put (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* in_C99API_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_smartZ_sigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* in_C99API_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_apiZ_enterZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* in_C99API_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_apiZ_exitZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99API_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_codipZ_arrowZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, VAL *out_ZPlusC99Stack_6);
static void mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, VAL in_StackTypePart_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, VAL *out_ZPlusC99Stack_7);
static void mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusC99Stack_2, VAL in_ZPlusC99Stack_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusC99Stack_5);
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_arrowZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static bool mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk (TUP* in_ZPlusMirth_1, VAL in_Op_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_c99_c99Z_atomZ_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, VAL in_Op_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_pushZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_PushValue_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_getZ_enumZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, uint64_t in_Word_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static STR* mw_mirth_data_Tag_valueZ_show (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_c99_c99Z_tagZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, uint64_t in_Tag_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_reverseZ_tagZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_labelZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_labelZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_pushZ_valueZ_labelZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, TUP* in_ZPlusC99Value_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_pushZ_valueZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, TUP* in_ZPlusC99Value_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, TUP* in_ZPlusC99Resource_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_pushZ_resourceZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, TUP* in_ZPlusC99Resource_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_popZ_valueZ_labelZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Value_7);
static void mw_mirth_c99_popZ_resourceZ_labelZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Resource_7);
static void mw_mirth_c99_c99Z_labelZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_labelZ_pushZ_rZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_labelZ_popZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_labelZ_popZ_rZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static INT mw_std_prim_Int_I63Min (void);
static INT mw_std_prim_Int_I63Max (void);
static bool mw_std_prim_Int_inZ_i63Z_rangeZAsk (INT in_Int_1);
static VAL mw_std_prim_Int_c99Z_radixes (INT in_Int_1);
static void mw_mirth_c99_c99Z_intZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, INT in_Int_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_strZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99_putZ_cstrZ_long (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_ZPlusC99_putZ_cstr (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_stringZ_byteZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, bool in_Bool_3, int64_t in_Byte_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6, bool *out_Bool_7);
static bool mw_mirth_c99_C99ReprType_ZEqual (VAL in_C99ReprType_1, VAL in_C99ReprType_2);
static bool mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk (VAL in_C99ReprType_1);
static bool mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk (VAL in_C99ReprType_1);
static STR* mw_mirth_c99_C99ReprType_dummyZ_value (VAL in_C99ReprType_1);
static STR* mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type (VAL in_C99ReprType_1);
static STR* mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix (VAL in_C99ReprType_1, STR* *out_Str_3);
static STR* mw_mirth_c99_C99ReprType_mkZ_macro (STR* in_Str_1, VAL in_C99ReprType_2);
static VAL mw_mirth_type_Resource_c99Z_repr (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_c99Z_repr (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_StackType_tupleZ_c99Z_repr (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3);
static VAL mw_mirth_type_PrimType_c99Z_repr (int64_t in_PrimType_1);
static VAL mw_mirth_data_Data_c99Z_repr (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_c99_ZPlusC99Value_rdup (TUP* in_ZPlusC99Value_1, TUP* *out_ZPlusC99Value_2, TUP* *out_ZPlusC99Value_3);
static void mw_mirth_c99_ZPlusC99Value_rdrop (TUP* in_ZPlusC99Value_1);
static void mw_mirth_c99_C99ReprType_newZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6);
static void mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_ZPlusC99Value_consume (TUP* in_ZPlusC99Value_1);
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL (TUP* in_ZPlusC99Value_1);
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_TUP (TUP* in_ZPlusC99Value_1);
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_as (VAL in_C99ReprType_1, TUP* in_ZPlusC99Value_2);
static void mw_mirth_c99_ZPlusC99Value_keepZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6, TUP* *out_ZPlusC99Value_7);
static STR* mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Value_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Value_4);
static void mw_mirth_c99_ZPlusC99Resource_rdup (TUP* in_ZPlusC99Resource_1, TUP* *out_ZPlusC99Resource_2, TUP* *out_ZPlusC99Resource_3);
static void mw_mirth_c99_ZPlusC99Resource_rdrop (TUP* in_ZPlusC99Resource_1);
static void mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang (TUP* in_ZPlusC99Value_1, TUP* *out_ZPlusC99Resource_2);
static void mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang (TUP* in_ZPlusC99Resource_1, TUP* *out_ZPlusC99Value_2);
static void mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Resource_6, TUP* *out_ZPlusC99Value_7);
static STR* mw_mirth_c99_ZPlusC99Resource_consume (TUP* in_ZPlusC99Resource_1);
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_as (VAL in_C99ReprType_1, TUP* in_ZPlusC99Resource_2);
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL (TUP* in_ZPlusC99Resource_1);
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_TUP (TUP* in_ZPlusC99Resource_1);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Resource_6);
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag (TUP* in_ZPlusC99Resource_1, TUP* *out_ZPlusC99Resource_2);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdup (VAL in_ZPlusC99ValueZDivResource_1, VAL *out_ZPlusC99ValueZDivResource_2, VAL *out_ZPlusC99ValueZDivResource_3);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop (VAL in_ZPlusC99ValueZDivResource_1);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99ValueZDivResource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static STR* mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag (TUP* in_ZPlusMirth_1, VAL in_ZPlusC99ValueZDivResource_2, TUP* *out_ZPlusMirth_3, VAL *out_ZPlusC99ValueZDivResource_5);
static STR* mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_TUP (VAL in_ZPlusC99ValueZDivResource_1);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang (VAL in_ZPlusC99ValueZDivResource_1, TUP* *out_ZPlusC99Resource_2);
static void mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, VAL *out_ZPlusC99ValueZDivResource_6);
static void mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Branch_4);
static void mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, VAL in_ZPlusC99Stack_3, bool in_Bool_4, VAL in_List_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7);
static void mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusMaybe_2, VAL *out_ZPlusC99Stack_3);
static void mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusMaybe_2, VAL *out_ZPlusC99Stack_3);
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk (uint64_t in_Label_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusMaybe_4, VAL *out_ZPlusC99Stack_5);
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk (uint64_t in_Label_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusMaybe_4, VAL *out_ZPlusC99Stack_5);
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Stack_rdup (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, VAL *out_ZPlusC99Stack_3);
static void mw_mirth_c99_ZPlusC99Stack_rdrop (VAL in_ZPlusC99Stack_1);
static void mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* in_ZPlusC99Branch_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99BranchSplit_5);
static void mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Branch_4);
static VAL mw_mirth_c99_ZPlusC99Branch_varZ_lookup (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Branch_varZ_getZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* in_ZPlusC99Value_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static uint64_t mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Branch_4, TUP* *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99_startZ_branchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, bool in_Bool_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4, bool *out_Bool_5, VAL *out_List_6);
static void mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Branch_4);
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6);
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Value_7);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Resource_6);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Resource_7);
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static VAL mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static VAL mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_7);
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Resource_7);
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, VAL in_StackType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Value_8);
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, VAL in_StackType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Resource_8);
static void mw_mirth_c99_c99Z_primZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, int64_t in_Prim_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_tupZ_packZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, INT in_Nat_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_tupZ_unpackZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, INT in_Nat_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Value_runZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_binopZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, VAL in_C99ReprType_4, STR* in_Str_5, VAL in_C99ReprType_6, STR* in_Str_7, bool in_Bool_8, VAL in_Maybe_9, TUP* *out_ZPlusMirth_10, TUP* *out_ZPlusC99Branch_11);
static void mw_mirth_c99_c99Z_unopZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, VAL in_C99ReprType_4, STR* in_Str_5, VAL in_Maybe_6, TUP* *out_ZPlusMirth_7, TUP* *out_ZPlusC99Branch_8);
static void mw_mirth_c99_c99Z_argsZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_argZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_argZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_blockZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_packZ_closureZ_varsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, VAL *out_ZPlusMaybe_6);
static void mw_mirth_c99_c99Z_blockZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_varZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_varZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_popZ_valuesZ_toZ_envZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_dropZ_envZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_dropZ_envZ_varsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_lambdaZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Lambda_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_matchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Match_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_singleZ_caseZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Case_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_caseZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* in_Case_3, VAL in_ZPlusC99ValueZDivResource_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99BranchSplit_6);
static STR* mw_mirth_data_Tag_wordZ_cnameZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static STR* mw_mirth_data_Tag_patZ_cnameZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static STR* mw_mirth_word_Word_cnameZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5);
static TUP* mw_mirth_data_Tag_wordZ_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static TUP* mw_mirth_data_Tag_patZ_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static TUP* mw_mirth_word_Word_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_wordZ_sigsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_wordZ_sigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_blockZ_sigsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_blockZ_sigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_blockZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_blockZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_blockZ_sigZ_put (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_blockZ_enterZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* in_ZPlusC99_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_blockZ_exitZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* in_ZPlusC99Branch_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_exposeZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_wordZ_enterZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_wordZ_exitZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_wordZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_wordZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_fieldZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_fieldZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Field_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_fieldZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Field_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_mainZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_main_main (void);
static void mw_mirth_main_compileZBang (TUP* in_ZPlusMirth_1, TUP* in_Options_2, TUP* *out_ZPlusMirth_3);
static int64_t mw_std_prelude_unsafe_1_sp1 (void);
static VAL mw_std_prelude_unsafe_1_sp2 (TUP* in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, TUP* *out_ZPlusFile_4);
static STR* mw_std_prelude_unsafe_1_sp3 (void* in_Ptr_1, INT in_Sizze_2);
static void* mw_std_prelude_unsafe_1_sp5 (INT in_Offset_1, void* in_Ptr_2);
static VAL mw_std_list_List_1_for_1_sp5 (VAL in_List_1, VAL in_List_2);
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4);
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1 (STR* in_Str_1, uint64_t in_Label_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6);
static int64_t mw_std_prelude_unsafe_1_sp12 (void* in_Ptr_1);
static STR* mw_std_prim_Str_Str_1_sp7 (STR* in_Str_1);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp1 (VAL in_Maybe_1);
static void mw_std_maybe_Maybe_1_locationZAskZThen_sp1 (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5);
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp1 (uint64_t in_Label_1, uint64_t in_Tag_2, STR* in_Str_3, TUP* in_ZPlusMirth_4, TUP* in_ZPlusC99_5, VAL in_C99ReprType_6, STR* *out_Str_7, uint64_t *out_Tag_8, uint64_t *out_Label_9, TUP* *out_ZPlusMirth_10, TUP* *out_ZPlusC99_11);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp3 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3);
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp4 (uint64_t in_Label_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusC99_3, VAL in_C99ReprType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6);
static VAL mw_std_maybe_Maybe_1_map_1_sp3 (VAL in_Resource_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static VAL mw_std_maybe_Maybe_1_map_1_sp4 (VAL in_Type_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static VAL mw_std_list_List_1_filter_1_sp1 (TUP* in_ZPlusMirth_1, VAL in_z_x1_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, VAL *out_z_x1_5);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99BranchSplit_4);
static void mw_std_list_List_1_for_1_sp14 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23 (TUP* in_ZPlusMirth_1, bool in_Bool_2, TUP* in_ZPlusC99_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99BranchSplit_4);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99BranchSplit_4);
static void mw_std_list_List_1_reverseZ_for_1_sp5 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static VAL mw_std_list_List_1_map_1_sp3 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static VAL mw_std_maybe_Maybe_1_filter_1_sp2 (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_5, VAL *out_Maybe_6);
static VAL mw_std_maybe_Maybe_1_filter_1_sp3 (TUP* in_ZPlusMirth_1, VAL in_Resource_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_5, VAL *out_Maybe_6);
static void mw_mirth_c99_C99ReprType_resourceZ_expressionZBang_1_sp5 (STR* in_Str_1, VAL in_C99ReprType_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, VAL in_C99ReprType_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7, TUP* *out_ZPlusC99Resource_8);
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp5 (STR* in_Str_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusC99_3, VAL in_C99ReprType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6);
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp9 (STR* in_Str_1, VAL in_C99ReprType_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, VAL in_C99ReprType_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7, TUP* *out_ZPlusC99Value_8);
static VAL mw_std_list_List_1_List_1_sp7 (INT in_Nat_1);
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp22 (TUP* in_ZPlusC99Value_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusC99Branch_3, VAL in_C99ReprType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Value_7);
static bool mw_std_maybe_Maybe_1_unwrap_1_sp11 (VAL in_Maybe_1);
static VAL mw_std_list_List_1_unions_sp1 (VAL in_List_1);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp12 (VAL in_Maybe_1);
static VAL mw_std_list_List_1_union_sp1 (VAL in_List_1, VAL in_List_2);
static VAL mw_std_list_List_1_difference_sp1 (VAL in_List_1, VAL in_List_2);
static TUP* mw_mirth_c99_ZPlusC99_c99Z_line_1_sp91 (TUP* in_C99API_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusC99_3, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6);
static void mw_std_list_List_1_reverseZ_for_1_sp7 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5);
static VAL mw_std_list_List_1_filter_1_sp4 (VAL in_List_1);
static void mw_mirth_c99_pushZ_labelZ_expressionZBang_1_sp3 (STR* in_Str_1, VAL in_C99ReprType_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, VAL in_C99ReprType_5, uint64_t in_Label_6, TUP* *out_ZPlusMirth_7, TUP* *out_ZPlusC99Branch_8);
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp38 (STR* in_Str_1, VAL in_C99ReprType_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, VAL in_C99ReprType_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7, TUP* *out_ZPlusC99Value_8);
static void mw_std_maybe_Maybe_1_for_1_sp9 (VAL in_ZPlusLister_1, VAL in_Maybe_2, VAL *out_ZPlusLister_3);
static uint8_t mw_std_prelude_unsafe_1_sp17 (INT in_Sizze_1, void* in_Ptr_2);
static void mw_std_maybe_Maybe_1_if_2_sp6 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, VAL in_Maybe_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusNeeds_6);
static void mw_std_list_List_1_for_1_sp49 (VAL in_ZPlusLister_1, VAL in_List_2, VAL *out_ZPlusLister_3);
static VAL mw_std_maybe_Maybe_1_filter_1_sp6 (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_5, VAL *out_Maybe_6);
static VAL mw_std_maybe_Maybe_1_filter_1_sp7 (TUP* in_ZPlusMirth_1, VAL in_Resource_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_5, VAL *out_Maybe_6);
static VAL mw_std_maybe_Maybe_1_ifZAsk_2_sp49 (VAL in_Maybe_1);
static void mw_std_maybe_Maybe_1_ifZAsk_2_sp50 (TUP* in_ZPlusMirth_1, STR* in_Str_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4);
static VAL mw_std_map_Map_2_lookup_sp2 (uint64_t in_Var_1, VAL in_Map_2);
static VAL mw_std_maybe_Maybe_1_map_1_sp9 (VAL in_Maybe_1);
static TUP* mw_mirth_elab_abZ_buildZ_homZBang_1_sp4 (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* in_SPKey_3, uint64_t in_Word_4, VAL in_Map_5, VAL in_Ctx_6, TUP* in_ArrowType_7, uint64_t in_Token_8, VAL in_Home_9, TUP* *out_SPKey_10, uint64_t *out_Word_11, VAL *out_Map_12, TUP* *out_ZPlusMirth_13);
static VAL mw_std_list_List_1_reverseZ_for_1_sp10 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Ctx_3, VAL in_StackType_4, VAL in_List_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusAB_7, VAL *out_StackType_9);
static bool mw_std_maybe_Maybe_1_ifZAsk_2_sp58 (VAL in_ZPlusLister_1, VAL in_Maybe_2, VAL *out_ZPlusLister_3);
static VAL mw_std_maybe_Maybe_1_bind_1_sp6 (VAL in_Maybe_1);
static bool mw_std_list_List_1_ZEqual_sp1 (TUP* in_ZPlusMirth_1, VAL in_List_2, VAL in_List_3, TUP* *out_ZPlusMirth_4);
static void mw_std_list_List_1_for_1_sp64 (VAL in_ZPlusSPCheck_1, VAL in_List_2, VAL *out_ZPlusSPCheck_3);
static uint64_t mw_std_maybe_Maybe_1_unwrap_1_sp18 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, VAL *out_z_x1_6);
static STR* mw_std_maybe_Maybe_1_map_1_sp10 (STR* in_Str_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static VAL mw_std_maybe_Maybe_1_map_1_sp11 (VAL in_Maybe_1);
static STR* mw_std_prelude_unsafe_1_sp21 (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_prelude_unsafe_1_sp22 (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2);
static STR* mw_std_prelude_unsafe_1_sp24 (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Offset_3, STR* *out_ZPlusStr_4);
static void mw_mirth_elab_ZPlusAB_abZ_ldipZBang_1_sp1 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Token_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6);
static uint64_t mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp4 (uint64_t in_Token_1, VAL in_List_2, TUP* in_ZPlusMirth_3, TUP* in_ArrowType_4, TUP* in_ZPlusAB_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusAB_7);
static VAL mw_std_list_List_1_for_1_sp71 (VAL in_StackType_1, VAL in_List_2);
static uint64_t mw_std_either_Either_2_left_1_sp1 (VAL in_Either_1);
static VAL mw_std_maybe_Maybe_1_ifZAsk_2_sp81 (VAL in_Maybe_1);
static STR* mw_std_list_List_1_for_1_sp75 (TUP* in_ZPlusMirth_1, VAL in_z_x1_2, STR* in_ZPlusStr_3, STR* in_Str_4, VAL in_List_5, TUP* *out_ZPlusMirth_6, VAL *out_z_x1_7, STR* *out_ZPlusStr_8);
static void mw_std_list_List_1_for_2_sp3 (TUP* in_ZPlusMirth_1, VAL in_z_x1_2, STR* in_ZPlusStr_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, VAL *out_z_x1_6, STR* *out_ZPlusStr_7);
static bool mw_std_list_List_1_member_sp5 (VAL in_Namespace_1, VAL in_List_2);
static bool mw_std_list_List_1_member_sp6 (uint64_t in_Label_1, VAL in_List_2);
static uint64_t mw_std_maybe_Maybe_1_elseZAsk_1_sp7 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, VAL *out_z_x1_6);
static uint64_t mw_std_maybe_Maybe_1_else_1_sp3 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp36 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3);
static VAL mw_std_maybe_Maybe_1_bind_1_sp13 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3);
static STR* mw_std_prim_Str_Str_1_sp72 (STR* in_Str_1, STR* in_Str_2);
static STR* mw_std_prim_Str_Str_1_sp73 (STR* in_Str_1, STR* in_Str_2);
static VAL mw_std_list_List_1_map_1_sp16 (VAL in_List_1);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp43 (TUP* in_ZPlusMirth_1, VAL in_z_x1_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, VAL *out_z_x1_5);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp44 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3);
static bool mw_std_maybe_Maybe_1_has_1_sp14 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3);
static uint64_t mw_std_maybe_Maybe_1_else_1_sp6 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4);
static uint64_t mw_std_maybe_Maybe_1_else_1_sp7 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4);
static VAL mw_std_maybe_Maybe_1_filter_1_sp22 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3);
static TUP* mw_mirth_mirth_PropLabel_prop_1_sp16 (uint64_t in_Token_1, TUP* in_ZPlusMirth_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4);
static TUP* mw_mirth_mirth_PropLabel_prop2_1_sp7 (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, uint64_t in_Word_3, VAL in_PropLabel_4, TUP* *out_ZPlusMirth_5);
static TUP* mw_mirth_mirth_PropLabel_prop2_1_sp8 (TUP* in_ZPlusMirth_1, VAL in_List_2, uint64_t in_Word_3, VAL in_PropLabel_4, TUP* *out_ZPlusMirth_5);
static void mw_std_maybe_Maybe_1_ifZAsk_2_sp124 (uint64_t in_Field_1, TUP* in_ZPlusAB_2, TUP* in_ZPlusMirth_3, VAL in_Maybe_4, uint64_t *out_Field_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusAB_7);
static uint64_t mw_mirth_word_Word_BuildZBang_3_sp3 (uint64_t in_Table_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Maybe_4, TUP* in_ZPlusMirth_5, STR* in_Str_6, VAL in_List_7, uint64_t *out_Table_8, TUP* *out_ZPlusMirth_9);
static uint64_t mw_mirth_word_Word_BuildZBang_3_sp4 (uint64_t in_Table_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Maybe_4, TUP* in_ZPlusMirth_5, STR* in_Str_6, VAL in_List_7, uint64_t *out_Table_8, TUP* *out_ZPlusMirth_9);
static TUP* mw_mirth_mirth_PropLabel_prop2_1_sp12 (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, uint64_t in_Word_3, VAL in_PropLabel_4, TUP* *out_ZPlusMirth_5);
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp53 (VAL in_Maybe_1);
static void mw_mirth_elab_ZPlusAB_abZ_whileZBang_2_sp1 (uint64_t in_Var_1, uint64_t in_Table_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusAB_4, uint64_t *out_Table_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusAB_7);
static TUP* mw_mirth_mirth_PropLabel_prop_1_sp30 (uint64_t in_Table_1, TUP* in_ZPlusMirth_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4);
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp2 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static uint64_t mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp14 (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* in_ZPlusAB_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5);
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp3 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp4 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4);
static void mw_std_list_List_1_for_1_sp113 (TUP* in_ZPlusAB_1, TUP* in_ZPlusMirth_2, VAL in_List_3, TUP* *out_ZPlusAB_4, TUP* *out_ZPlusMirth_5);
static TUP* mw_mirth_mirth_PropLabel_prop_1_sp39 (uint64_t in_Table_1, TUP* in_ZPlusMirth_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4);
static void mw_std_maybe_Maybe_1_else_1_sp13 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Token_5);
static void mw_std_maybe_Maybe_1_else_1_sp14 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Token_5);
static VAL mw_std_maybe_Maybe_1_elseZAsk_1_sp8 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Token_5);
static VAL mw_std_list_List_1_filterZ_some_1_sp6 (VAL in_List_1);
static void mw_std_maybe_Maybe_1_else_1_sp17 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Token_5);
static STR* mw_std_prelude_unsafe_1_sp27 (INT in_Sizze_1, STR* in_Str_2);
static STR* mw_std_prelude_unsafe_1_sp28 (INT in_Int_1);
static void mb_mirth_options_parseZ_optionsZBang_1 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_0 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_1 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_2 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_3 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_4 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_5 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_6 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_7 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_8 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_9 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_10 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_11 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_12 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_13 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_14 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_15 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_16 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_17 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_18 (void);
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_19 (void);
static void mb_mirth_elab_elabZ_defZ_head_3 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp1_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp2_2 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp3_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp4_6 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp5_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp6_2 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp7_11 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp8_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp9_5 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp10_3 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp11_5 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp12_3 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp13_9 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp14_3 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp15_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp16_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp17_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp18_14 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp19_3 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp20_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp21_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp22_36 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp23_4 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp24_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp25_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp26_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp27_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp28_29 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp29_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp30_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp31_17 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp32_25 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp33_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp34_25 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp35_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp36_13 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp37_2 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp38_47 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp39_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp40_29 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp41_13 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp42_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp43_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp44_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp45_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp46_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp47_6 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp48_10 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp49_1 (void);
int main (int argc, char** argv) {
	global_argc = argc;
	global_argv = argv;
	int64_t v0 = 0 /* The World! */;
	mw_mirth_main_main();
	push_resource(MKI64(0));
	return 0;
}
static STR* mw_std_byte_Byte_toZ_strZ_unsafe (int64_t in_Byte_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mw_std_list_List_1_cons(MKI64(in_Byte_1), v3);
	STR* v5 = mw_std_prim_Str_fromZ_bytesZ_unsafe(v4);
	return v5;
}
static VAL mw_std_byte_Byte_toZ_asciiZ_str (int64_t in_Byte_1) {
	int64_t v3 = 0LL /* BNUL */;
	int64_t v4 = 127LL /* BDEL */;
	INT v5 = i64_to_int(v3);
	uint64_t v6 = int_to_u64(v5);
	uint8_t v7 = (uint8_t)(v6);
	INT v8 = i64_to_int(in_Byte_1);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	uint64_t v11 = (uint64_t)(v10);
	uint32_t v12 = (uint32_t)(v11);
	uint64_t v13 = (uint64_t)(v7);
	uint32_t v14 = (uint32_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint64_t v16 = (uint64_t)(v12);
	bool v17 = (v15 <= v16);
	bool branch_Bool_18;
	if (v17) {
		INT v19 = i64_to_int(in_Byte_1);
		uint64_t v20 = int_to_u64(v19);
		uint8_t v21 = (uint8_t)(v20);
		INT v22 = i64_to_int(v4);
		uint64_t v23 = int_to_u64(v22);
		uint8_t v24 = (uint8_t)(v23);
		uint64_t v25 = (uint64_t)(v24);
		uint32_t v26 = (uint32_t)(v25);
		uint64_t v27 = (uint64_t)(v21);
		uint32_t v28 = (uint32_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint64_t v30 = (uint64_t)(v26);
		bool v31 = (v29 <= v30);
		branch_Bool_18 = v31;
	} else {
		bool v32 = false;
		branch_Bool_18 = v32;
	}
	VAL branch_Maybe_33;
	if (branch_Bool_18) {
		STR* v34 = mw_std_byte_Byte_toZ_strZ_unsafe(in_Byte_1);
		VAL v35 = mtw_std_maybe_Maybe_1_Some(MKSTR(v34));
		branch_Maybe_33 = v35;
	} else {
		VAL v36 = MKI64(0LL /* None */);
		branch_Maybe_33 = v36;
	}
	return branch_Maybe_33;
}
static bool mw_std_byte_Byte_isZ_stringZ_end (int64_t in_Byte_1) {
	bool branch_Bool_3;
	switch (in_Byte_1) {
		case 34LL: { // BQUOTE
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		case 10LL: { // BLF
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 0LL: { // BNUL
			bool v6 = true;
			branch_Bool_3 = v6;
		} break;
		default: {
			bool v7 = false;
			branch_Bool_3 = v7;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_std_byte_Byte_toZ_upper (int64_t in_Byte_1) {
	int64_t v3 = 97LL /* B'a' */;
	int64_t v4 = 122LL /* B'z' */;
	INT v5 = i64_to_int(v3);
	uint64_t v6 = int_to_u64(v5);
	uint8_t v7 = (uint8_t)(v6);
	INT v8 = i64_to_int(in_Byte_1);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	uint64_t v11 = (uint64_t)(v10);
	uint32_t v12 = (uint32_t)(v11);
	uint64_t v13 = (uint64_t)(v7);
	uint32_t v14 = (uint32_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint64_t v16 = (uint64_t)(v12);
	bool v17 = (v15 <= v16);
	bool branch_Bool_18;
	if (v17) {
		INT v19 = i64_to_int(in_Byte_1);
		uint64_t v20 = int_to_u64(v19);
		uint8_t v21 = (uint8_t)(v20);
		INT v22 = i64_to_int(v4);
		uint64_t v23 = int_to_u64(v22);
		uint8_t v24 = (uint8_t)(v23);
		uint64_t v25 = (uint64_t)(v24);
		uint32_t v26 = (uint32_t)(v25);
		uint64_t v27 = (uint64_t)(v21);
		uint32_t v28 = (uint32_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint64_t v30 = (uint64_t)(v26);
		bool v31 = (v29 <= v30);
		branch_Bool_18 = v31;
	} else {
		bool v32 = false;
		branch_Bool_18 = v32;
	}
	int64_t branch_Byte_33;
	if (branch_Bool_18) {
		INT v34 = i64_to_int(in_Byte_1);
		uint64_t v35 = int_to_u64(v34);
		uint8_t v36 = (uint8_t)(v35);
		uint8_t v37 = 32;
		uint64_t v38 = (uint64_t)(v36);
		uint64_t v39 = (uint64_t)(v37);
		uint64_t v40 = (v38 - v39);
		uint8_t v41 = (uint8_t)(v40);
		uint64_t v42 = (uint64_t)(v41);
		INT v43 = u64_to_int(v42);
		int64_t v44 = int_to_i64(v43);
		branch_Byte_33 = v44;
	} else {
		branch_Byte_33 = in_Byte_1;
	}
	return branch_Byte_33;
}
static int64_t mw_std_byte_Byte_OneHexDigit (uint8_t in_U8_1) {
	uint8_t v3 = 9;
	uint64_t v4 = (uint64_t)(in_U8_1);
	uint32_t v5 = (uint32_t)(v4);
	uint64_t v6 = (uint64_t)(v3);
	uint32_t v7 = (uint32_t)(v6);
	uint64_t v8 = (uint64_t)(v7);
	uint64_t v9 = (uint64_t)(v5);
	bool v10 = (v8 < v9);
	uint8_t branch_U8_11;
	uint8_t branch_U8_12;
	if (v10) {
		uint8_t v13 = 55;
		branch_U8_12 = v13;
		branch_U8_11 = in_U8_1;
	} else {
		uint8_t v14 = 48;
		branch_U8_12 = v14;
		branch_U8_11 = in_U8_1;
	}
	uint64_t v15 = (uint64_t)(branch_U8_11);
	uint64_t v16 = (uint64_t)(branch_U8_12);
	uint64_t v17 = (v15 + v16);
	uint8_t v18 = (uint8_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	INT v20 = u64_to_int(v19);
	int64_t v21 = int_to_i64(v20);
	return v21;
}
static int64_t mw_std_byte_Byte_toZ_hexdigits (int64_t in_Byte_1, int64_t *out_Byte_3) {
	INT v4 = i64_to_int(in_Byte_1);
	uint64_t v5 = int_to_u64(v4);
	uint8_t v6 = (uint8_t)(v5);
	uint8_t v7 = 4;
	uint64_t v8 = (uint64_t)(v6);
	uint64_t v9 = (uint64_t)(v7);
	uint64_t v10 = u64_shr(v8, v9);
	uint8_t v11 = (uint8_t)(v10);
	int64_t v12 = mw_std_byte_Byte_OneHexDigit(v11);
	uint8_t v13 = 15;
	uint64_t v14 = (uint64_t)(v6);
	uint64_t v15 = (uint64_t)(v13);
	uint64_t v16 = (v14 & v15);
	uint8_t v17 = (uint8_t)(v16);
	int64_t v18 = mw_std_byte_Byte_OneHexDigit(v17);
	*out_Byte_3 = v18;
	return v12;
}
static bool mw_std_byte_Byte_isZ_nameZ_byte (int64_t in_Byte_1) {
	bool branch_Bool_3;
	switch (in_Byte_1) {
		case 40LL: { // BLPAREN
			bool v4 = false;
			branch_Bool_3 = v4;
		} break;
		case 41LL: { // BRPAREN
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
		case 91LL: { // BLSQUARE
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
		case 93LL: { // BRSQUARE
			bool v7 = false;
			branch_Bool_3 = v7;
		} break;
		case 123LL: { // BLCURLY
			bool v8 = false;
			branch_Bool_3 = v8;
		} break;
		case 125LL: { // BRCURLY
			bool v9 = false;
			branch_Bool_3 = v9;
		} break;
		case 44LL: { // BCOMMA
			bool v10 = false;
			branch_Bool_3 = v10;
		} break;
		case 34LL: { // BQUOTE
			bool v11 = false;
			branch_Bool_3 = v11;
		} break;
		case 58LL: { // BCOLON
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
		case 127LL: { // BDEL
			bool v13 = false;
			branch_Bool_3 = v13;
		} break;
		default: {
			int64_t v14 = 32LL /* BSPACE */;
			INT v15 = i64_to_int(v14);
			uint64_t v16 = int_to_u64(v15);
			uint8_t v17 = (uint8_t)(v16);
			INT v18 = i64_to_int(in_Byte_1);
			uint64_t v19 = int_to_u64(v18);
			uint8_t v20 = (uint8_t)(v19);
			uint64_t v21 = (uint64_t)(v20);
			uint32_t v22 = (uint32_t)(v21);
			uint64_t v23 = (uint64_t)(v17);
			uint32_t v24 = (uint32_t)(v23);
			uint64_t v25 = (uint64_t)(v24);
			uint64_t v26 = (uint64_t)(v22);
			bool v27 = (v25 < v26);
			branch_Bool_3 = v27;
		} break;
	}
	return branch_Bool_3;
}
static void mw_std_byte_Byte_zzencodeZThen (STR* in_ZPlusStr_1, int64_t in_Byte_2, STR* *out_ZPlusStr_3) {
	STR* branch_ZPlusStr_4;
	switch (in_Byte_2) {
		case 38LL: { // B'&'
			STR* v5;
			STRLIT(v5, "ZAmp", 4);
			STR* v6;
			mw_std_str_ZPlusStr_pushZ_strZBang(v5, in_ZPlusStr_1, &v6);
			branch_ZPlusStr_4 = v6;
		} break;
		case 63LL: { // B'?'
			STR* v7;
			STRLIT(v7, "ZAsk", 4);
			STR* v8;
			mw_std_str_ZPlusStr_pushZ_strZBang(v7, in_ZPlusStr_1, &v8);
			branch_ZPlusStr_4 = v8;
		} break;
		case 64LL: { // B'@'
			STR* v9;
			STRLIT(v9, "ZAt", 3);
			STR* v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(v9, in_ZPlusStr_1, &v10);
			branch_ZPlusStr_4 = v10;
		} break;
		case 92LL: { // B'\'
			STR* v11;
			STRLIT(v11, "ZBSlash", 7);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v11, in_ZPlusStr_1, &v12);
			branch_ZPlusStr_4 = v12;
		} break;
		case 33LL: { // B'!'
			STR* v13;
			STRLIT(v13, "ZBang", 5);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, in_ZPlusStr_1, &v14);
			branch_ZPlusStr_4 = v14;
		} break;
		case 94LL: { // B'^'
			STR* v15;
			STRLIT(v15, "ZCaret", 6);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, in_ZPlusStr_1, &v16);
			branch_ZPlusStr_4 = v16;
		} break;
		case 58LL: { // BCOLON
			STR* v17;
			STRLIT(v17, "ZColon", 6);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, in_ZPlusStr_1, &v18);
			branch_ZPlusStr_4 = v18;
		} break;
		case 44LL: { // BCOMMA
			STR* v19;
			STRLIT(v19, "ZComma", 6);
			STR* v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(v19, in_ZPlusStr_1, &v20);
			branch_ZPlusStr_4 = v20;
		} break;
		case 47LL: { // B'/'
			STR* v21;
			STRLIT(v21, "ZDiv", 4);
			STR* v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(v21, in_ZPlusStr_1, &v22);
			branch_ZPlusStr_4 = v22;
		} break;
		case 36LL: { // B'$'
			STR* v23;
			STRLIT(v23, "ZDollar", 7);
			STR* v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(v23, in_ZPlusStr_1, &v24);
			branch_ZPlusStr_4 = v24;
		} break;
		case 46LL: { // BDOT
			STR* v25;
			STRLIT(v25, "ZDot", 4);
			STR* v26;
			mw_std_str_ZPlusStr_pushZ_strZBang(v25, in_ZPlusStr_1, &v26);
			branch_ZPlusStr_4 = v26;
		} break;
		case 61LL: { // B'='
			STR* v27;
			STRLIT(v27, "ZEqual", 6);
			STR* v28;
			mw_std_str_ZPlusStr_pushZ_strZBang(v27, in_ZPlusStr_1, &v28);
			branch_ZPlusStr_4 = v28;
		} break;
		case 35LL: { // BHASH
			STR* v29;
			STRLIT(v29, "ZHash", 5);
			STR* v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, in_ZPlusStr_1, &v30);
			branch_ZPlusStr_4 = v30;
		} break;
		case 123LL: { // BLCURLY
			STR* v31;
			STRLIT(v31, "ZLCurly", 7);
			STR* v32;
			mw_std_str_ZPlusStr_pushZ_strZBang(v31, in_ZPlusStr_1, &v32);
			branch_ZPlusStr_4 = v32;
		} break;
		case 40LL: { // BLPAREN
			STR* v33;
			STRLIT(v33, "ZLParen", 7);
			STR* v34;
			mw_std_str_ZPlusStr_pushZ_strZBang(v33, in_ZPlusStr_1, &v34);
			branch_ZPlusStr_4 = v34;
		} break;
		case 91LL: { // BLSQUARE
			STR* v35;
			STRLIT(v35, "ZLSquare", 8);
			STR* v36;
			mw_std_str_ZPlusStr_pushZ_strZBang(v35, in_ZPlusStr_1, &v36);
			branch_ZPlusStr_4 = v36;
		} break;
		case 60LL: { // B'<'
			STR* v37;
			STRLIT(v37, "ZLess", 5);
			STR* v38;
			mw_std_str_ZPlusStr_pushZ_strZBang(v37, in_ZPlusStr_1, &v38);
			branch_ZPlusStr_4 = v38;
		} break;
		case 37LL: { // B'%'
			STR* v39;
			STRLIT(v39, "ZMod", 4);
			STR* v40;
			mw_std_str_ZPlusStr_pushZ_strZBang(v39, in_ZPlusStr_1, &v40);
			branch_ZPlusStr_4 = v40;
		} break;
		case 42LL: { // B'*'
			STR* v41;
			STRLIT(v41, "ZMul", 4);
			STR* v42;
			mw_std_str_ZPlusStr_pushZ_strZBang(v41, in_ZPlusStr_1, &v42);
			branch_ZPlusStr_4 = v42;
		} break;
		case 124LL: { // B'|'
			STR* v43;
			STRLIT(v43, "ZPipe", 5);
			STR* v44;
			mw_std_str_ZPlusStr_pushZ_strZBang(v43, in_ZPlusStr_1, &v44);
			branch_ZPlusStr_4 = v44;
		} break;
		case 43LL: { // B'+'
			STR* v45;
			STRLIT(v45, "ZPlus", 5);
			STR* v46;
			mw_std_str_ZPlusStr_pushZ_strZBang(v45, in_ZPlusStr_1, &v46);
			branch_ZPlusStr_4 = v46;
		} break;
		case 34LL: { // BQUOTE
			STR* v47;
			STRLIT(v47, "ZQuote", 6);
			STR* v48;
			mw_std_str_ZPlusStr_pushZ_strZBang(v47, in_ZPlusStr_1, &v48);
			branch_ZPlusStr_4 = v48;
		} break;
		case 125LL: { // BRCURLY
			STR* v49;
			STRLIT(v49, "ZRCurly", 7);
			STR* v50;
			mw_std_str_ZPlusStr_pushZ_strZBang(v49, in_ZPlusStr_1, &v50);
			branch_ZPlusStr_4 = v50;
		} break;
		case 41LL: { // BRPAREN
			STR* v51;
			STRLIT(v51, "ZRParen", 7);
			STR* v52;
			mw_std_str_ZPlusStr_pushZ_strZBang(v51, in_ZPlusStr_1, &v52);
			branch_ZPlusStr_4 = v52;
		} break;
		case 93LL: { // BRSQUARE
			STR* v53;
			STRLIT(v53, "ZRSquare", 8);
			STR* v54;
			mw_std_str_ZPlusStr_pushZ_strZBang(v53, in_ZPlusStr_1, &v54);
			branch_ZPlusStr_4 = v54;
		} break;
		case 59LL: { // B';'
			STR* v55;
			STRLIT(v55, "ZThen", 5);
			STR* v56;
			mw_std_str_ZPlusStr_pushZ_strZBang(v55, in_ZPlusStr_1, &v56);
			branch_ZPlusStr_4 = v56;
		} break;
		case 39LL: { // BTICK
			STR* v57;
			STRLIT(v57, "ZTick", 5);
			STR* v58;
			mw_std_str_ZPlusStr_pushZ_strZBang(v57, in_ZPlusStr_1, &v58);
			branch_ZPlusStr_4 = v58;
		} break;
		case 126LL: { // B'~'
			STR* v59;
			STRLIT(v59, "ZTilde", 6);
			STR* v60;
			mw_std_str_ZPlusStr_pushZ_strZBang(v59, in_ZPlusStr_1, &v60);
			branch_ZPlusStr_4 = v60;
		} break;
		case 62LL: { // B'>'
			STR* v61;
			STRLIT(v61, "ZTo", 3);
			STR* v62;
			mw_std_str_ZPlusStr_pushZ_strZBang(v61, in_ZPlusStr_1, &v62);
			branch_ZPlusStr_4 = v62;
		} break;
		case 90LL: { // B'Z'
			STR* v63;
			STRLIT(v63, "ZZ", 2);
			STR* v64;
			mw_std_str_ZPlusStr_pushZ_strZBang(v63, in_ZPlusStr_1, &v64);
			branch_ZPlusStr_4 = v64;
		} break;
		case 45LL: { // B'-'
			STR* v65;
			STRLIT(v65, "Z_", 2);
			STR* v66;
			mw_std_str_ZPlusStr_pushZ_strZBang(v65, in_ZPlusStr_1, &v66);
			branch_ZPlusStr_4 = v66;
		} break;
		case 122LL: { // B'z'
			STR* v67;
			STRLIT(v67, "zz", 2);
			STR* v68;
			mw_std_str_ZPlusStr_pushZ_strZBang(v67, in_ZPlusStr_1, &v68);
			branch_ZPlusStr_4 = v68;
		} break;
		case 95LL: { // B'_'
			STR* v69;
			STRLIT(v69, "z_", 2);
			STR* v70;
			mw_std_str_ZPlusStr_pushZ_strZBang(v69, in_ZPlusStr_1, &v70);
			branch_ZPlusStr_4 = v70;
		} break;
		default: {
			int64_t v71 = 48LL /* B'0' */;
			int64_t v72 = 57LL /* B'9' */;
			INT v73 = i64_to_int(v71);
			uint64_t v74 = int_to_u64(v73);
			uint8_t v75 = (uint8_t)(v74);
			INT v76 = i64_to_int(in_Byte_2);
			uint64_t v77 = int_to_u64(v76);
			uint8_t v78 = (uint8_t)(v77);
			uint64_t v79 = (uint64_t)(v78);
			uint32_t v80 = (uint32_t)(v79);
			uint64_t v81 = (uint64_t)(v75);
			uint32_t v82 = (uint32_t)(v81);
			uint64_t v83 = (uint64_t)(v82);
			uint64_t v84 = (uint64_t)(v80);
			bool v85 = (v83 <= v84);
			bool branch_Bool_86;
			if (v85) {
				INT v87 = i64_to_int(in_Byte_2);
				uint64_t v88 = int_to_u64(v87);
				uint8_t v89 = (uint8_t)(v88);
				INT v90 = i64_to_int(v72);
				uint64_t v91 = int_to_u64(v90);
				uint8_t v92 = (uint8_t)(v91);
				uint64_t v93 = (uint64_t)(v92);
				uint32_t v94 = (uint32_t)(v93);
				uint64_t v95 = (uint64_t)(v89);
				uint32_t v96 = (uint32_t)(v95);
				uint64_t v97 = (uint64_t)(v96);
				uint64_t v98 = (uint64_t)(v94);
				bool v99 = (v97 <= v98);
				branch_Bool_86 = v99;
			} else {
				bool v100 = false;
				branch_Bool_86 = v100;
			}
			bool branch_Bool_101;
			if (branch_Bool_86) {
				bool v102 = true;
				branch_Bool_101 = v102;
			} else {
				int64_t v103 = 65LL /* B'A' */;
				int64_t v104 = 90LL /* B'Z' */;
				INT v105 = i64_to_int(v103);
				uint64_t v106 = int_to_u64(v105);
				uint8_t v107 = (uint8_t)(v106);
				INT v108 = i64_to_int(in_Byte_2);
				uint64_t v109 = int_to_u64(v108);
				uint8_t v110 = (uint8_t)(v109);
				uint64_t v111 = (uint64_t)(v110);
				uint32_t v112 = (uint32_t)(v111);
				uint64_t v113 = (uint64_t)(v107);
				uint32_t v114 = (uint32_t)(v113);
				uint64_t v115 = (uint64_t)(v114);
				uint64_t v116 = (uint64_t)(v112);
				bool v117 = (v115 <= v116);
				bool branch_Bool_118;
				if (v117) {
					INT v119 = i64_to_int(in_Byte_2);
					uint64_t v120 = int_to_u64(v119);
					uint8_t v121 = (uint8_t)(v120);
					INT v122 = i64_to_int(v104);
					uint64_t v123 = int_to_u64(v122);
					uint8_t v124 = (uint8_t)(v123);
					uint64_t v125 = (uint64_t)(v124);
					uint32_t v126 = (uint32_t)(v125);
					uint64_t v127 = (uint64_t)(v121);
					uint32_t v128 = (uint32_t)(v127);
					uint64_t v129 = (uint64_t)(v128);
					uint64_t v130 = (uint64_t)(v126);
					bool v131 = (v129 <= v130);
					branch_Bool_118 = v131;
				} else {
					bool v132 = false;
					branch_Bool_118 = v132;
				}
				bool branch_Bool_133;
				if (branch_Bool_118) {
					bool v134 = true;
					branch_Bool_133 = v134;
				} else {
					int64_t v135 = 97LL /* B'a' */;
					int64_t v136 = 122LL /* B'z' */;
					INT v137 = i64_to_int(v135);
					uint64_t v138 = int_to_u64(v137);
					uint8_t v139 = (uint8_t)(v138);
					INT v140 = i64_to_int(in_Byte_2);
					uint64_t v141 = int_to_u64(v140);
					uint8_t v142 = (uint8_t)(v141);
					uint64_t v143 = (uint64_t)(v142);
					uint32_t v144 = (uint32_t)(v143);
					uint64_t v145 = (uint64_t)(v139);
					uint32_t v146 = (uint32_t)(v145);
					uint64_t v147 = (uint64_t)(v146);
					uint64_t v148 = (uint64_t)(v144);
					bool v149 = (v147 <= v148);
					bool branch_Bool_150;
					if (v149) {
						INT v151 = i64_to_int(in_Byte_2);
						uint64_t v152 = int_to_u64(v151);
						uint8_t v153 = (uint8_t)(v152);
						INT v154 = i64_to_int(v136);
						uint64_t v155 = int_to_u64(v154);
						uint8_t v156 = (uint8_t)(v155);
						uint64_t v157 = (uint64_t)(v156);
						uint32_t v158 = (uint32_t)(v157);
						uint64_t v159 = (uint64_t)(v153);
						uint32_t v160 = (uint32_t)(v159);
						uint64_t v161 = (uint64_t)(v160);
						uint64_t v162 = (uint64_t)(v158);
						bool v163 = (v161 <= v162);
						branch_Bool_150 = v163;
					} else {
						bool v164 = false;
						branch_Bool_150 = v164;
					}
					branch_Bool_133 = branch_Bool_150;
				}
				branch_Bool_101 = branch_Bool_133;
			}
			STR* branch_ZPlusStr_165;
			if (branch_Bool_101) {
				STR* v166;
				mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(in_Byte_2, in_ZPlusStr_1, &v166);
				branch_ZPlusStr_165 = v166;
			} else {
				STR* v167;
				STRLIT(v167, "Z", 1);
				STR* v168;
				mw_std_str_ZPlusStr_pushZ_strZBang(v167, in_ZPlusStr_1, &v168);
				STR* v169;
				mw_std_byte_Byte_intZThen(v168, in_Byte_2, &v169);
				STR* v170;
				STRLIT(v170, "U", 1);
				STR* v171;
				mw_std_str_ZPlusStr_pushZ_strZBang(v170, v169, &v171);
				branch_ZPlusStr_165 = v171;
			}
			branch_ZPlusStr_4 = branch_ZPlusStr_165;
		} break;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static void mw_std_byte_Byte_intZThen (STR* in_ZPlusStr_1, int64_t in_Byte_2, STR* *out_ZPlusStr_3) {
	INT v4 = i64_to_int(in_Byte_2);
	STR* v5 = int_to_str(v4);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(v5, in_ZPlusStr_1, &v6);
	*out_ZPlusStr_3 = v6;
}
static void mw_std_buffer_ZPlusBuffer_new (INT in_Sizze_1, TUP* *out_ZPlusBuffer_2) {
	incref(MKINT(in_Sizze_1));
	int64_t v3 = 0LL /* +Unsafe */;
	uint64_t v4 = int_to_u64(in_Sizze_1);
	void* v5 = ptr_alloc(v4);;
	TUP* v6;
	mtw_std_buffer_ZPlusBuffer_ZPlusBuffer(in_Sizze_1, v5, &v6);
	INT v7 = WRAP_I63(0LL);
	INT v8 = value_int(v6->cells[0]);
	incref(MKINT(v8));
	TUP* v9;
	mw_std_buffer_ZPlusBuffer_eraseZ_spanZBang(v7, v8, v6, &v9);
	*out_ZPlusBuffer_2 = v9;
}
static void mw_std_buffer_ZPlusBuffer_resizzeZBang (INT in_Sizze_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_3) {
	INT v4 = value_int(in_ZPlusBuffer_2->cells[0]);
	incref(MKINT(v4));
	INT v5 = value_int(in_ZPlusBuffer_2->cells[0]);
	decref(MKINT(v5));
	in_ZPlusBuffer_2->cells[0] = MKINT(in_Sizze_1);
	INT v6 = value_int(in_ZPlusBuffer_2->cells[0]);
	incref(MKINT(v6));
	void* v7 = value_ptr(in_ZPlusBuffer_2->cells[1]);
	int64_t v8 = 0LL /* +Unsafe */;
	uint64_t v9 = int_to_u64(v6);
	void* v10 = ptr_realloc(v7,v9);
	in_ZPlusBuffer_2->cells[1] = MKPTR(v10);
	incref(MKINT(v4));
	INT v11 = value_int(in_ZPlusBuffer_2->cells[0]);
	incref(MKINT(v11));
	INT v12 = int_sub(v11, v4);
	incref(MKINT(v12));
	INT v13 = WRAP_I63(0LL);
	bool v14 = int_lt(v13, v12);
	TUP* branch_ZPlusBuffer_15;
	if (v14) {
		TUP* v16;
		mw_std_buffer_ZPlusBuffer_eraseZ_spanZBang(v4, v12, in_ZPlusBuffer_2, &v16);
		branch_ZPlusBuffer_15 = v16;
	} else {
		decref(MKINT(v12));
		decref(MKINT(v4));
		branch_ZPlusBuffer_15 = in_ZPlusBuffer_2;
	}
	*out_ZPlusBuffer_3 = branch_ZPlusBuffer_15;
}
static void mw_std_buffer_ZPlusBuffer_expandZBang (INT in_Sizze_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_3) {
	incref(MKINT(in_Sizze_1));
	INT v4 = value_int(in_ZPlusBuffer_2->cells[0]);
	incref(MKINT(v4));
	bool v5 = int_lt(v4, in_Sizze_1);
	TUP* branch_ZPlusBuffer_6;
	if (v5) {
		INT v7 = value_int(in_ZPlusBuffer_2->cells[0]);
		incref(MKINT(v7));
		INT v8 = WRAP_I63(2LL);
		INT v9 = int_mul(v7, v8);
		incref(MKINT(in_Sizze_1));
		incref(MKINT(v9));
		bool v10 = int_lt(in_Sizze_1, v9);
		INT branch_Sizze_11;
		if (v10) {
			decref(MKINT(in_Sizze_1));
			branch_Sizze_11 = v9;
		} else {
			decref(MKINT(v9));
			branch_Sizze_11 = in_Sizze_1;
		}
		TUP* v12;
		mw_std_buffer_ZPlusBuffer_resizzeZBang(branch_Sizze_11, in_ZPlusBuffer_2, &v12);
		branch_ZPlusBuffer_6 = v12;
	} else {
		decref(MKINT(in_Sizze_1));
		branch_ZPlusBuffer_6 = in_ZPlusBuffer_2;
	}
	*out_ZPlusBuffer_3 = branch_ZPlusBuffer_6;
}
static void mw_std_buffer_ZPlusBuffer_rdrop (TUP* in_ZPlusBuffer_1) {
	INT v2;
	void* v3;
	mtp_std_buffer_ZPlusBuffer_ZPlusBuffer(in_ZPlusBuffer_1, &v2, &v3);
	int64_t v4 = 0LL /* +Unsafe */;
	free(v3);
	decref(MKINT(v2));
}
static void mw_std_buffer_ZPlusBuffer_eraseZ_spanZBang (INT in_Offset_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4) {
	INT v5;
	TUP* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_clampZ_spanZBang(in_Offset_1, in_Sizze_2, in_ZPlusBuffer_3, &v5, &v6);
	void* v8 = value_ptr(v6->cells[1]);
	int64_t v9 = 0LL /* +Unsafe */;
	int64_t v10 = int_to_i64(v7);
	void* v11 = (void*)(v10 + (char*)v8);
	uint8_t v12 = 0;
	uint64_t v13 = int_to_u64(v5);
	ptr_fill(v12, v13, v11);
	*out_ZPlusBuffer_4 = v6;
}
static INT mw_std_buffer_ZPlusBuffer_clampZ_offsetZBang (INT in_Offset_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_4) {
	INT v5 = WRAP_I63(0LL);
	INT v6 = value_int(in_ZPlusBuffer_2->cells[0]);
	incref(MKINT(v6));
	incref(MKINT(in_Offset_1));
	incref(MKINT(v5));
	bool v7 = int_lt(in_Offset_1, v5);
	INT branch_Offset_8;
	if (v7) {
		decref(MKINT(in_Offset_1));
		branch_Offset_8 = v5;
	} else {
		decref(MKINT(v5));
		branch_Offset_8 = in_Offset_1;
	}
	incref(MKINT(branch_Offset_8));
	incref(MKINT(v6));
	bool v9 = int_lt(v6, branch_Offset_8);
	INT branch_Offset_10;
	if (v9) {
		decref(MKINT(branch_Offset_8));
		branch_Offset_10 = v6;
	} else {
		decref(MKINT(v6));
		branch_Offset_10 = branch_Offset_8;
	}
	*out_ZPlusBuffer_4 = in_ZPlusBuffer_2;
	return branch_Offset_10;
}
static INT mw_std_buffer_ZPlusBuffer_clampZ_spanZBang (INT in_Offset_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, INT *out_Sizze_5, TUP* *out_ZPlusBuffer_6) {
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(in_Sizze_2));
	incref(MKINT(v7));
	bool v8 = int_lt(in_Sizze_2, v7);
	INT branch_Sizze_9;
	if (v8) {
		decref(MKINT(in_Sizze_2));
		branch_Sizze_9 = v7;
	} else {
		decref(MKINT(v7));
		branch_Sizze_9 = in_Sizze_2;
	}
	incref(MKINT(in_Offset_1));
	INT v10 = int_add(branch_Sizze_9, in_Offset_1);
	TUP* v11;
	INT v12 = mw_std_buffer_ZPlusBuffer_clampZ_offsetZBang(in_Offset_1, in_ZPlusBuffer_3, &v11);
	TUP* v13;
	INT v14 = mw_std_buffer_ZPlusBuffer_clampZ_offsetZBang(v10, v11, &v13);
	incref(MKINT(v12));
	INT v15 = int_sub(v14, v12);
	*out_ZPlusBuffer_6 = v13;
	*out_Sizze_5 = v15;
	return v12;
}
static INT mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang (INT in_Offset_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_5) {
	incref(MKINT(in_Offset_1));
	INT v6 = int_add(in_Sizze_2, in_Offset_1);
	TUP* v7;
	mw_std_buffer_ZPlusBuffer_expandZBang(v6, in_ZPlusBuffer_3, &v7);
	*out_ZPlusBuffer_5 = v7;
	return in_Offset_1;
}
static INT mw_std_buffer_ZPlusBuffer_prepareZ_alignedZ_spanZBang (INT in_Nat_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_5) {
	incref(MKINT(in_Sizze_2));
	INT v6 = int_mul(in_Nat_1, in_Sizze_2);
	TUP* v7;
	INT v8 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(v6, in_Sizze_2, in_ZPlusBuffer_3, &v7);
	*out_ZPlusBuffer_5 = v7;
	return v8;
}
static uint8_t mw_std_buffer_ZPlusBuffer_ZAtU8 (INT in_Offset_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_4) {
	INT v5 = WRAP_I63(1LL);
	TUP* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_Offset_1, v5, in_ZPlusBuffer_2, &v6);
	void* v8 = value_ptr(v6->cells[1]);
	void* v9 = mw_std_prelude_unsafe_1_sp5(v7, v8);
	int64_t v10 = 0LL /* +Unsafe */;
	uint8_t v11 = *(uint8_t*)v9;
	*out_ZPlusBuffer_4 = v6;
	return v11;
}
static int64_t mw_std_buffer_ZPlusBuffer_ZAtI64 (INT in_Nat_1, TUP* in_ZPlusBuffer_2, TUP* *out_ZPlusBuffer_4) {
	INT v5 = WRAP_I63(8LL);
	TUP* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_prepareZ_alignedZ_spanZBang(in_Nat_1, v5, in_ZPlusBuffer_2, &v6);
	void* v8 = value_ptr(v6->cells[1]);
	void* v9 = mw_std_prelude_unsafe_1_sp5(v7, v8);
	int64_t v10 = 0LL /* +Unsafe */;
	int64_t v11 = *(int64_t*)v9;
	*out_ZPlusBuffer_4 = v6;
	return v11;
}
static void mw_std_buffer_ZPlusBuffer_ZBangU8 (uint8_t in_U8_1, INT in_Offset_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4) {
	INT v5 = WRAP_I63(1LL);
	TUP* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_Offset_2, v5, in_ZPlusBuffer_3, &v6);
	void* v8 = value_ptr(v6->cells[1]);
	void* v9 = mw_std_prelude_unsafe_1_sp5(v7, v8);
	int64_t v10 = 0LL /* +Unsafe */;
	*(uint8_t*)v9 = in_U8_1;
	*out_ZPlusBuffer_4 = v6;
}
static void mw_std_buffer_ZPlusBuffer_ZBangI64 (int64_t in_I64_1, INT in_Nat_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4) {
	INT v5 = WRAP_I63(8LL);
	TUP* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_prepareZ_alignedZ_spanZBang(in_Nat_2, v5, in_ZPlusBuffer_3, &v6);
	void* v8 = value_ptr(v6->cells[1]);
	void* v9 = mw_std_prelude_unsafe_1_sp5(v7, v8);
	int64_t v10 = 0LL /* +Unsafe */;
	*(int64_t*)v9 = in_I64_1;
	*out_ZPlusBuffer_4 = v6;
}
static void mw_std_buffer_ZPlusBuffer_ZBangByte (int64_t in_Byte_1, INT in_Offset_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4) {
	INT v5 = i64_to_int(in_Byte_1);
	uint64_t v6 = int_to_u64(v5);
	uint8_t v7 = (uint8_t)(v6);
	TUP* v8;
	mw_std_buffer_ZPlusBuffer_ZBangU8(v7, in_Offset_2, in_ZPlusBuffer_3, &v8);
	*out_ZPlusBuffer_4 = v8;
}
static STR* mw_std_buffer_ZPlusBuffer_ZAtStr (INT in_Offset_1, INT in_Sizze_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_5) {
	incref(MKINT(in_Sizze_2));
	TUP* v6;
	INT v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_Offset_1, in_Sizze_2, in_ZPlusBuffer_3, &v6);
	void* v8 = value_ptr(v6->cells[1]);
	void* v9 = mw_std_prelude_unsafe_1_sp5(v7, v8);
	STR* v10 = mw_std_prelude_unsafe_1_sp3(v9, in_Sizze_2);
	*out_ZPlusBuffer_5 = v6;
	return v10;
}
static void mw_std_buffer_ZPlusBuffer_ZBangStr (STR* in_Str_1, INT in_Offset_2, TUP* in_ZPlusBuffer_3, TUP* *out_ZPlusBuffer_4) {
	incref(MKSTR(in_Str_1));
	uint64_t v5 = str_size(in_Str_1);
	INT v6 = u64_to_int(v5);
	TUP* v7;
	INT v8 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_Offset_2, v6, in_ZPlusBuffer_3, &v7);
	void* v9 = value_ptr(v7->cells[1]);
	void* v10 = mw_std_prelude_unsafe_1_sp5(v8, v9);
	int64_t v11 = 0LL /* +Unsafe */;
	mw_std_prim_Ptr_ZBangStr(in_Str_1, v10);
	*out_ZPlusBuffer_4 = v7;
}
static void mw_std_prim_Ptr_ZBangStr (STR* in_Str_1, void* in_Ptr_2) {
	incref(MKSTR(in_Str_1));
	incref(MKSTR(in_Str_1));
	void* v5 = str_base(in_Str_1);
	uint64_t v6 = str_size(in_Str_1);
	INT v7 = u64_to_int(v6);
	uint64_t v8 = int_to_u64(v7);
	ptr_copy(v5, v8, in_Ptr_2);
	decref(MKSTR(in_Str_1));
}
static int64_t mw_std_prim_Str_lastZ_byte (STR* in_Str_1) {
	incref(MKSTR(in_Str_1));
	uint64_t v3 = str_size(in_Str_1);
	INT v4 = u64_to_int(v3);
	INT v5 = WRAP_I63(1LL);
	INT v6 = int_sub(v4, v5);
	int64_t v7 = mw_std_prim_Str_byteZAt(v6, in_Str_1);
	return v7;
}
static int64_t mw_std_str_ZPlusStr_lastZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_3) {
	incref(MKSTR(in_ZPlusStr_1));
	int64_t v4 = mw_std_prim_Str_lastZ_byte(in_ZPlusStr_1);
	*out_ZPlusStr_3 = in_ZPlusStr_1;
	return v4;
}
static int64_t mw_std_str_ZPlusStr_byteZAt (INT in_Offset_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_4) {
	incref(MKSTR(in_ZPlusStr_2));
	int64_t v5 = mw_std_prim_Str_byteZAt(in_Offset_1, in_ZPlusStr_2);
	*out_ZPlusStr_4 = in_ZPlusStr_2;
	return v5;
}
static bool mw_std_str_offsetZ_inZ_bounds (INT in_Offset_1, INT in_Sizze_2) {
	INT v4 = WRAP_I63(0LL);
	incref(MKINT(in_Offset_1));
	bool v5 = int_le(v4, in_Offset_1);
	bool branch_Bool_6;
	if (v5) {
		bool v7 = int_le(in_Offset_1, in_Sizze_2);
		branch_Bool_6 = v7;
	} else {
		decref(MKINT(in_Sizze_2));
		decref(MKINT(in_Offset_1));
		bool v8 = false;
		branch_Bool_6 = v8;
	}
	return branch_Bool_6;
}
static int64_t mw_std_prim_Str_byteZAt (INT in_Offset_1, STR* in_Str_2) {
	incref(MKSTR(in_Str_2));
	incref(MKSTR(in_Str_2));
	void* v4 = str_base(in_Str_2);
	uint64_t v5 = str_size(in_Str_2);
	INT v6 = u64_to_int(v5);
	incref(MKINT(in_Offset_1));
	bool v7 = mw_std_str_offsetZ_inZ_bounds(in_Offset_1, v6);
	int64_t branch_Byte_8;
	if (v7) {
		int64_t v9 = 0LL /* +Unsafe */;
		int64_t v10 = int_to_i64(in_Offset_1);
		void* v11 = (void*)(v10 + (char*)v4);
		uint8_t v12 = *(uint8_t*)v11;
		uint64_t v13 = (uint64_t)(v12);
		INT v14 = u64_to_int(v13);
		int64_t v15 = int_to_i64(v14);
		branch_Byte_8 = v15;
	} else {
		decref(MKINT(in_Offset_1));
		int64_t v16 = 0LL /* BNUL */;
		branch_Byte_8 = v16;
	}
	decref(MKSTR(in_Str_2));
	return branch_Byte_8;
}
static void mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4 = mw_std_byte_Byte_toZ_strZ_unsafe(in_Byte_1);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, in_ZPlusStr_2, &v5);
	*out_ZPlusStr_3 = v5;
}
static void mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	VAL v4 = mw_std_byte_Byte_toZ_asciiZ_str(in_Byte_1);
	STR* branch_ZPlusStr_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			STR* v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v6), in_ZPlusStr_2, &v7);
			branch_ZPlusStr_5 = v7;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_5 = in_ZPlusStr_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_5;
}
static void mw_std_str_ZPlusStr_pushZ_strZBang (STR* in_Str_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4 = str_cat(in_ZPlusStr_2, in_Str_1);
	*out_ZPlusStr_3 = v4;
}
static STR* mw_std_prim_Str_dropZ_bytes (INT in_Sizze_1, STR* in_Str_2) {
	incref(MKSTR(in_Str_2));
	incref(MKSTR(in_Str_2));
	void* v6 = str_base(in_Str_2);
	uint64_t v7 = str_size(in_Str_2);
	INT v8 = u64_to_int(v7);
	incref(MKINT(in_Sizze_1));
	INT v9 = int_sub(v8, in_Sizze_1);
	incref(MKINT(v9));
	INT v10 = WRAP_I63(0LL);
	bool v11 = int_le(v10, v9);
	STR* branch_Str_12;
	if (v11) {
		int64_t v13 = int_to_i64(in_Sizze_1);
		void* v14 = (void*)(v13 + (char*)v6);
		uint64_t v15 = int_to_u64(v9);
		STR* v16 = str_make(v14, v15);
		branch_Str_12 = v16;
	} else {
		decref(MKINT(v9));
		decref(MKINT(in_Sizze_1));
		STR* v17;
		STRLIT(v17, "", 0);
		branch_Str_12 = v17;
	}
	decref(MKSTR(in_Str_2));
	return branch_Str_12;
}
static STR* mw_std_prim_Str_fromZ_bytesZ_unsafe (VAL in_List_1) {
	incref(in_List_1);
	INT v3 = mw_std_list_List_1_len(in_List_1);
	TUP* v4;
	mw_std_buffer_ZPlusBuffer_new(v3, &v4);
	INT v5 = WRAP_I63(0LL);
	bool v6 = true;
	TUP* v7 = v4;
	INT v8 = v5;
	VAL v9 = in_List_1;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		TUP* v12 = v7;
		INT v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		TUP* branch_ZPlusBuffer_16;
		INT branch_Offset_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				INT v22 = i64_to_int(value_i64(v21));
				uint64_t v23 = int_to_u64(v22);
				uint8_t v24 = (uint8_t)(v23);
				incref(MKINT(v13));
				TUP* v25;
				mw_std_buffer_ZPlusBuffer_ZBangU8(v24, v13, v12, &v25);
				INT v26 = WRAP_I63(1LL);
				INT v27 = int_add(v13, v26);
				bool v28 = true;
				branch_Bool_19 = v28;
				branch_List_18 = v20;
				branch_Offset_17 = v27;
				branch_ZPlusBuffer_16 = v25;
			} break;
			case 0LL: { // Nil
				VAL v29 = MKI64(0LL /* Nil */);
				bool v30 = false;
				branch_Bool_19 = v30;
				branch_List_18 = v29;
				branch_Offset_17 = v13;
				branch_ZPlusBuffer_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_Offset_17;
		v7 = branch_ZPlusBuffer_16;
	}
	decref(v9);
	decref(MKINT(v8));
	void* v31 = value_ptr(v7->cells[1]);
	INT v32 = value_int(v7->cells[0]);
	incref(MKINT(v32));
	STR* v33 = mw_std_prelude_unsafe_1_sp3(v31, v32);
	mw_std_buffer_ZPlusBuffer_rdrop(v7);
	return v33;
}
static INT mw_std_str_clampZ_sliceZ_offsetZ_sizze (INT in_Offset_1, INT in_Sizze_2, INT in_Sizze_3, INT *out_Sizze_5) {
	incref(MKINT(in_Sizze_3));
	INT v6 = WRAP_I63(0LL);
	incref(MKINT(v6));
	incref(MKINT(in_Offset_1));
	INT v7 = int_add(in_Sizze_2, in_Offset_1);
	incref(MKINT(v7));
	incref(MKINT(v6));
	bool v8 = int_lt(v7, v6);
	INT branch_Offset_9;
	if (v8) {
		decref(MKINT(v7));
		branch_Offset_9 = v6;
	} else {
		decref(MKINT(v6));
		branch_Offset_9 = v7;
	}
	incref(MKINT(branch_Offset_9));
	incref(MKINT(in_Sizze_3));
	bool v10 = int_lt(in_Sizze_3, branch_Offset_9);
	INT branch_Offset_11;
	if (v10) {
		decref(MKINT(branch_Offset_9));
		branch_Offset_11 = in_Sizze_3;
	} else {
		decref(MKINT(in_Sizze_3));
		branch_Offset_11 = branch_Offset_9;
	}
	incref(MKINT(in_Offset_1));
	incref(MKINT(v6));
	bool v12 = int_lt(in_Offset_1, v6);
	INT branch_Offset_13;
	if (v12) {
		decref(MKINT(in_Offset_1));
		branch_Offset_13 = v6;
	} else {
		decref(MKINT(v6));
		branch_Offset_13 = in_Offset_1;
	}
	incref(MKINT(branch_Offset_13));
	incref(MKINT(in_Sizze_3));
	bool v14 = int_lt(in_Sizze_3, branch_Offset_13);
	INT branch_Offset_15;
	if (v14) {
		decref(MKINT(branch_Offset_13));
		branch_Offset_15 = in_Sizze_3;
	} else {
		decref(MKINT(in_Sizze_3));
		branch_Offset_15 = branch_Offset_13;
	}
	incref(MKINT(branch_Offset_15));
	INT v16 = int_sub(branch_Offset_11, branch_Offset_15);
	INT v17 = WRAP_I63(0LL);
	incref(MKINT(v16));
	incref(MKINT(v17));
	bool v18 = int_lt(v16, v17);
	INT branch_Sizze_19;
	if (v18) {
		decref(MKINT(v16));
		branch_Sizze_19 = v17;
	} else {
		decref(MKINT(v17));
		branch_Sizze_19 = v16;
	}
	*out_Sizze_5 = branch_Sizze_19;
	return branch_Offset_15;
}
static STR* mw_std_prim_Str_slice (INT in_Offset_1, INT in_Sizze_2, STR* in_Str_3) {
	incref(MKSTR(in_Str_3));
	incref(MKSTR(in_Str_3));
	void* v7 = str_base(in_Str_3);
	uint64_t v8 = str_size(in_Str_3);
	INT v9 = u64_to_int(v8);
	INT v10;
	INT v11 = mw_std_str_clampZ_sliceZ_offsetZ_sizze(in_Offset_1, in_Sizze_2, v9, &v10);
	int64_t v12 = int_to_i64(v11);
	void* v13 = (void*)(v12 + (char*)v7);
	uint64_t v14 = int_to_u64(v10);
	STR* v15 = str_make(v13, v14);
	decref(MKSTR(in_Str_3));
	return v15;
}
static STR* mw_std_prim_Str_dropZ_slice (INT in_Offset_1, STR* in_Str_2) {
	STR* v6;
	STR* v7 = mw_std_str_ZPlusStr_dropZ_slice(in_Str_2, in_Offset_1, &v6);
	decref(MKSTR(v6));
	return v7;
}
static STR* mw_std_prim_Str_takeZ_slice (INT in_Sizze_1, STR* in_Str_2) {
	STR* v6;
	STR* v7 = mw_std_str_ZPlusStr_takeZ_slice(in_Str_2, in_Sizze_1, &v6);
	decref(MKSTR(v6));
	return v7;
}
static STR* mw_std_str_ZPlusStr_slice (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Sizze_3, STR* *out_ZPlusStr_4) {
	incref(MKSTR(in_ZPlusStr_1));
	STR* v8 = mw_std_prim_Str_slice(in_Offset_2, in_Sizze_3, in_ZPlusStr_1);
	*out_ZPlusStr_4 = in_ZPlusStr_1;
	return v8;
}
static STR* mw_std_str_ZPlusStr_offsetZ_slice (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Offset_3, STR* *out_ZPlusStr_4) {
	incref(MKINT(in_Offset_2));
	INT v8 = int_sub(in_Offset_3, in_Offset_2);
	STR* v9;
	STR* v10 = mw_std_str_ZPlusStr_slice(in_ZPlusStr_1, in_Offset_2, v8, &v9);
	*out_ZPlusStr_4 = v9;
	return v10;
}
static STR* mw_std_str_ZPlusStr_takeZ_slice (STR* in_ZPlusStr_1, INT in_Sizze_2, STR* *out_ZPlusStr_3) {
	INT v7 = WRAP_I63(0LL);
	STR* v8;
	STR* v9 = mw_std_str_ZPlusStr_slice(in_ZPlusStr_1, v7, in_Sizze_2, &v8);
	*out_ZPlusStr_3 = v8;
	return v9;
}
static STR* mw_std_str_ZPlusStr_dropZ_slice (STR* in_ZPlusStr_1, INT in_Offset_2, STR* *out_ZPlusStr_3) {
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(in_Offset_2));
	incref(MKINT(v7));
	bool v8 = int_lt(in_Offset_2, v7);
	INT branch_Offset_9;
	if (v8) {
		decref(MKINT(in_Offset_2));
		branch_Offset_9 = v7;
	} else {
		decref(MKINT(v7));
		branch_Offset_9 = in_Offset_2;
	}
	incref(MKSTR(in_ZPlusStr_1));
	uint64_t v10 = str_size(in_ZPlusStr_1);
	INT v11 = u64_to_int(v10);
	STR* v12;
	STR* v13 = mw_std_str_ZPlusStr_slice(in_ZPlusStr_1, branch_Offset_9, v11, &v12);
	*out_ZPlusStr_3 = v12;
	return v13;
}
static TUP* mw_std_str_ZPlusStr_splitZ_byte (int64_t in_Byte_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_4) {
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6;
	mw_std_list_List_1_buildZBang(v5, &v6);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	incref(MKINT(v7));
	incref(MKSTR(in_ZPlusStr_2));
	uint64_t v8 = str_size(in_ZPlusStr_2);
	INT v9 = u64_to_int(v8);
	bool v10 = int_lt(v7, v9);
	int64_t v11 = in_Byte_1;
	INT v12 = v7;
	INT v13 = v7;
	STR* v14 = in_ZPlusStr_2;
	VAL v15 = v6;
	bool v16 = v10;
	while (v16) {
		int64_t v17 = v11;
		INT v18 = v12;
		INT v19 = v13;
		STR* v20 = v14;
		VAL v21 = v15;
		incref(MKINT(v19));
		STR* v22;
		int64_t v23 = mw_std_str_ZPlusStr_byteZAt(v19, v20, &v22);
		INT v24 = i64_to_int(v23);
		uint64_t v25 = int_to_u64(v24);
		uint8_t v26 = (uint8_t)(v25);
		INT v27 = i64_to_int(v17);
		uint64_t v28 = int_to_u64(v27);
		uint8_t v29 = (uint8_t)(v28);
		uint64_t v30 = (uint64_t)(v29);
		uint32_t v31 = (uint32_t)(v30);
		uint64_t v32 = (uint64_t)(v26);
		uint32_t v33 = (uint32_t)(v32);
		uint64_t v34 = (uint64_t)(v33);
		uint64_t v35 = (uint64_t)(v31);
		bool v36 = (v34 == v35);
		int64_t branch_Byte_37;
		STR* branch_ZPlusStr_38;
		VAL branch_ZPlusLister_39;
		INT branch_Offset_40;
		INT branch_Offset_41;
		if (v36) {
			incref(MKINT(v19));
			STR* v42;
			STR* v43 = mw_std_prelude_unsafe_1_sp24(v22, v18, v19, &v42);
			VAL v44;
			mw_std_list_ZPlusLister_1_pushZBang(MKSTR(v43), v21, &v44);
			INT v45 = WRAP_I63(1LL);
			INT v46 = int_add(v19, v45);
			incref(MKINT(v46));
			branch_Offset_41 = v46;
			branch_Offset_40 = v46;
			branch_ZPlusLister_39 = v44;
			branch_ZPlusStr_38 = v42;
			branch_Byte_37 = v17;
		} else {
			INT v47 = WRAP_I63(1LL);
			INT v48 = int_add(v19, v47);
			branch_Offset_41 = v48;
			branch_Offset_40 = v18;
			branch_ZPlusLister_39 = v21;
			branch_ZPlusStr_38 = v22;
			branch_Byte_37 = v17;
		}
		incref(MKINT(branch_Offset_41));
		incref(MKSTR(branch_ZPlusStr_38));
		uint64_t v49 = str_size(branch_ZPlusStr_38);
		INT v50 = u64_to_int(v49);
		bool v51 = int_lt(branch_Offset_41, v50);
		v16 = v51;
		v15 = branch_ZPlusLister_39;
		v14 = branch_ZPlusStr_38;
		v13 = branch_Offset_41;
		v12 = branch_Offset_40;
		v11 = branch_Byte_37;
	}
	STR* v52;
	STR* v53 = mw_std_prelude_unsafe_1_sp24(v14, v12, v13, &v52);
	TUP* v54;
	mw_std_list_ZPlusLister_1_pushZPlusZBang(MKSTR(v53), v15, &v54);
	TUP* v55 = mw_std_list_ZPlusNester_1_doneZBang(v54);
	*out_ZPlusStr_4 = v52;
	return v55;
}
static TUP* mw_std_prim_Str_splitZ_byte (int64_t in_Byte_1, STR* in_Str_2) {
	STR* v4;
	TUP* v5 = mw_std_str_ZPlusStr_splitZ_byte(in_Byte_1, in_Str_2, &v4);
	decref(MKSTR(v4));
	return v5;
}
static void mw_std_str_ZPlusStr_pushZ_reprZ_byteZBang (STR* in_ZPlusStr_1, bool in_Bool_2, int64_t in_Byte_3, bool *out_Bool_4, STR* *out_ZPlusStr_5) {
	bool branch_Bool_6;
	STR* branch_ZPlusStr_7;
	switch (in_Byte_3) {
		case 34LL: { // BQUOTE
			STR* v8;
			STRLIT(v8, "\\\"", 2);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_1, &v9);
			bool v10 = false;
			branch_ZPlusStr_7 = v9;
			branch_Bool_6 = v10;
		} break;
		case 92LL: { // B'\'
			STR* v11;
			STRLIT(v11, "\\\\", 2);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v11, in_ZPlusStr_1, &v12);
			bool v13 = false;
			branch_ZPlusStr_7 = v12;
			branch_Bool_6 = v13;
		} break;
		case 10LL: { // BLF
			STR* v14;
			STRLIT(v14, "\n", 1);
			STR* v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(v14, in_ZPlusStr_1, &v15);
			bool v16 = false;
			branch_ZPlusStr_7 = v15;
			branch_Bool_6 = v16;
		} break;
		case 13LL: { // BCR
			STR* v17;
			STRLIT(v17, "\r", 1);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, in_ZPlusStr_1, &v18);
			bool v19 = false;
			branch_ZPlusStr_7 = v18;
			branch_Bool_6 = v19;
		} break;
		case 9LL: { // BHT
			STR* v20;
			STRLIT(v20, "\t", 1);
			STR* v21;
			mw_std_str_ZPlusStr_pushZ_strZBang(v20, in_ZPlusStr_1, &v21);
			bool v22 = false;
			branch_ZPlusStr_7 = v21;
			branch_Bool_6 = v22;
		} break;
		default: {
			int64_t v23 = 32LL /* BSPACE */;
			int64_t v24 = 126LL /* B'~' */;
			INT v25 = i64_to_int(v23);
			uint64_t v26 = int_to_u64(v25);
			uint8_t v27 = (uint8_t)(v26);
			INT v28 = i64_to_int(in_Byte_3);
			uint64_t v29 = int_to_u64(v28);
			uint8_t v30 = (uint8_t)(v29);
			uint64_t v31 = (uint64_t)(v30);
			uint32_t v32 = (uint32_t)(v31);
			uint64_t v33 = (uint64_t)(v27);
			uint32_t v34 = (uint32_t)(v33);
			uint64_t v35 = (uint64_t)(v34);
			uint64_t v36 = (uint64_t)(v32);
			bool v37 = (v35 <= v36);
			bool branch_Bool_38;
			if (v37) {
				INT v39 = i64_to_int(in_Byte_3);
				uint64_t v40 = int_to_u64(v39);
				uint8_t v41 = (uint8_t)(v40);
				INT v42 = i64_to_int(v24);
				uint64_t v43 = int_to_u64(v42);
				uint8_t v44 = (uint8_t)(v43);
				uint64_t v45 = (uint64_t)(v44);
				uint32_t v46 = (uint32_t)(v45);
				uint64_t v47 = (uint64_t)(v41);
				uint32_t v48 = (uint32_t)(v47);
				uint64_t v49 = (uint64_t)(v48);
				uint64_t v50 = (uint64_t)(v46);
				bool v51 = (v49 <= v50);
				branch_Bool_38 = v51;
			} else {
				bool v52 = false;
				branch_Bool_38 = v52;
			}
			int64_t branch_Byte_53;
			bool branch_Bool_54;
			bool branch_Bool_55;
			if (branch_Bool_38) {
				int64_t branch_Byte_56;
				bool branch_Bool_57;
				if (in_Bool_2) {
					int64_t v58 = 48LL /* B'0' */;
					int64_t v59 = 57LL /* B'9' */;
					INT v60 = i64_to_int(v58);
					uint64_t v61 = int_to_u64(v60);
					uint8_t v62 = (uint8_t)(v61);
					INT v63 = i64_to_int(in_Byte_3);
					uint64_t v64 = int_to_u64(v63);
					uint8_t v65 = (uint8_t)(v64);
					uint64_t v66 = (uint64_t)(v65);
					uint32_t v67 = (uint32_t)(v66);
					uint64_t v68 = (uint64_t)(v62);
					uint32_t v69 = (uint32_t)(v68);
					uint64_t v70 = (uint64_t)(v69);
					uint64_t v71 = (uint64_t)(v67);
					bool v72 = (v70 <= v71);
					bool branch_Bool_73;
					if (v72) {
						INT v74 = i64_to_int(in_Byte_3);
						uint64_t v75 = int_to_u64(v74);
						uint8_t v76 = (uint8_t)(v75);
						INT v77 = i64_to_int(v59);
						uint64_t v78 = int_to_u64(v77);
						uint8_t v79 = (uint8_t)(v78);
						uint64_t v80 = (uint64_t)(v79);
						uint32_t v81 = (uint32_t)(v80);
						uint64_t v82 = (uint64_t)(v76);
						uint32_t v83 = (uint32_t)(v82);
						uint64_t v84 = (uint64_t)(v83);
						uint64_t v85 = (uint64_t)(v81);
						bool v86 = (v84 <= v85);
						branch_Bool_73 = v86;
					} else {
						bool v87 = false;
						branch_Bool_73 = v87;
					}
					bool branch_Bool_88;
					if (branch_Bool_73) {
						bool v89 = true;
						branch_Bool_88 = v89;
					} else {
						int64_t v90 = 65LL /* B'A' */;
						int64_t v91 = 70LL /* B'F' */;
						INT v92 = i64_to_int(v90);
						uint64_t v93 = int_to_u64(v92);
						uint8_t v94 = (uint8_t)(v93);
						INT v95 = i64_to_int(in_Byte_3);
						uint64_t v96 = int_to_u64(v95);
						uint8_t v97 = (uint8_t)(v96);
						uint64_t v98 = (uint64_t)(v97);
						uint32_t v99 = (uint32_t)(v98);
						uint64_t v100 = (uint64_t)(v94);
						uint32_t v101 = (uint32_t)(v100);
						uint64_t v102 = (uint64_t)(v101);
						uint64_t v103 = (uint64_t)(v99);
						bool v104 = (v102 <= v103);
						bool branch_Bool_105;
						if (v104) {
							INT v106 = i64_to_int(in_Byte_3);
							uint64_t v107 = int_to_u64(v106);
							uint8_t v108 = (uint8_t)(v107);
							INT v109 = i64_to_int(v91);
							uint64_t v110 = int_to_u64(v109);
							uint8_t v111 = (uint8_t)(v110);
							uint64_t v112 = (uint64_t)(v111);
							uint32_t v113 = (uint32_t)(v112);
							uint64_t v114 = (uint64_t)(v108);
							uint32_t v115 = (uint32_t)(v114);
							uint64_t v116 = (uint64_t)(v115);
							uint64_t v117 = (uint64_t)(v113);
							bool v118 = (v116 <= v117);
							branch_Bool_105 = v118;
						} else {
							bool v119 = false;
							branch_Bool_105 = v119;
						}
						bool branch_Bool_120;
						if (branch_Bool_105) {
							bool v121 = true;
							branch_Bool_120 = v121;
						} else {
							int64_t v122 = 97LL /* B'a' */;
							int64_t v123 = 102LL /* B'f' */;
							INT v124 = i64_to_int(v122);
							uint64_t v125 = int_to_u64(v124);
							uint8_t v126 = (uint8_t)(v125);
							INT v127 = i64_to_int(in_Byte_3);
							uint64_t v128 = int_to_u64(v127);
							uint8_t v129 = (uint8_t)(v128);
							uint64_t v130 = (uint64_t)(v129);
							uint32_t v131 = (uint32_t)(v130);
							uint64_t v132 = (uint64_t)(v126);
							uint32_t v133 = (uint32_t)(v132);
							uint64_t v134 = (uint64_t)(v133);
							uint64_t v135 = (uint64_t)(v131);
							bool v136 = (v134 <= v135);
							bool branch_Bool_137;
							if (v136) {
								INT v138 = i64_to_int(in_Byte_3);
								uint64_t v139 = int_to_u64(v138);
								uint8_t v140 = (uint8_t)(v139);
								INT v141 = i64_to_int(v123);
								uint64_t v142 = int_to_u64(v141);
								uint8_t v143 = (uint8_t)(v142);
								uint64_t v144 = (uint64_t)(v143);
								uint32_t v145 = (uint32_t)(v144);
								uint64_t v146 = (uint64_t)(v140);
								uint32_t v147 = (uint32_t)(v146);
								uint64_t v148 = (uint64_t)(v147);
								uint64_t v149 = (uint64_t)(v145);
								bool v150 = (v148 <= v149);
								branch_Bool_137 = v150;
							} else {
								bool v151 = false;
								branch_Bool_137 = v151;
							}
							branch_Bool_120 = branch_Bool_137;
						}
						branch_Bool_88 = branch_Bool_120;
					}
					branch_Bool_57 = branch_Bool_88;
					branch_Byte_56 = in_Byte_3;
				} else {
					bool v152 = false;
					branch_Bool_57 = v152;
					branch_Byte_56 = in_Byte_3;
				}
				bool v153 = !branch_Bool_57;
				branch_Bool_55 = v153;
				branch_Bool_54 = in_Bool_2;
				branch_Byte_53 = branch_Byte_56;
			} else {
				bool v154 = false;
				branch_Bool_55 = v154;
				branch_Bool_54 = in_Bool_2;
				branch_Byte_53 = in_Byte_3;
			}
			STR* branch_ZPlusStr_155;
			bool branch_Bool_156;
			if (branch_Bool_55) {
				STR* v157;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(branch_Byte_53, in_ZPlusStr_1, &v157);
				bool v158 = false;
				branch_Bool_156 = v158;
				branch_ZPlusStr_155 = v157;
			} else {
				STR* v159;
				STRLIT(v159, "\\x", 2);
				STR* v160;
				mw_std_str_ZPlusStr_pushZ_strZBang(v159, in_ZPlusStr_1, &v160);
				int64_t v161;
				int64_t v162 = mw_std_byte_Byte_toZ_hexdigits(branch_Byte_53, &v161);
				STR* v163;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v162, v160, &v163);
				STR* v164;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v161, v163, &v164);
				bool v165 = true;
				branch_Bool_156 = v165;
				branch_ZPlusStr_155 = v164;
			}
			branch_ZPlusStr_7 = branch_ZPlusStr_155;
			branch_Bool_6 = branch_Bool_156;
		} break;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_Bool_4 = branch_Bool_6;
}
static void mw_std_prim_Str_reprZThen (STR* in_Str_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4;
	STRLIT(v4, "\"", 1);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, in_ZPlusStr_2, &v5);
	bool v6 = false;
	incref(MKSTR(in_Str_1));
	incref(MKSTR(in_Str_1));
	void* v7 = str_base(in_Str_1);
	uint64_t v8 = str_size(in_Str_1);
	INT v9 = u64_to_int(v8);
	incref(MKINT(v9));
	INT v10 = WRAP_I63(0LL);
	bool v11 = int_le(v10, v9);
	INT branch_Nat_12;
	if (v11) {
		branch_Nat_12 = v9;
	} else {
		decref(MKINT(v9));
		INT v13 = WRAP_I63(0LL);
		branch_Nat_12 = v13;
	}
	incref(MKINT(branch_Nat_12));
	INT v14 = WRAP_I63(0LL);
	bool v15 = int_lt(v14, branch_Nat_12);
	STR* v16 = v5;
	bool v17 = v6;
	void* v18 = v7;
	INT v19 = branch_Nat_12;
	bool v20 = v15;
	while (v20) {
		STR* v21 = v16;
		bool v22 = v17;
		void* v23 = v18;
		INT v24 = v19;
		int64_t v25 = mw_std_prelude_unsafe_1_sp12(v23);
		bool v26;
		STR* v27;
		mw_std_str_ZPlusStr_pushZ_reprZ_byteZBang(v21, v22, v25, &v26, &v27);
		INT v28 = WRAP_I63(1LL);
		void* v29 = mw_std_prelude_unsafe_1_sp5(v28, v23);
		INT v30 = WRAP_I63(1LL);
		INT v31 = int_sub(v24, v30);
		incref(MKINT(v31));
		INT v32 = WRAP_I63(0LL);
		bool v33 = int_le(v32, v31);
		INT branch_Nat_34;
		if (v33) {
			branch_Nat_34 = v31;
		} else {
			decref(MKINT(v31));
			INT v35 = WRAP_I63(0LL);
			branch_Nat_34 = v35;
		}
		incref(MKINT(branch_Nat_34));
		INT v36 = WRAP_I63(0LL);
		bool v37 = int_lt(v36, branch_Nat_34);
		v20 = v37;
		v19 = branch_Nat_34;
		v18 = v29;
		v17 = v26;
		v16 = v27;
	}
	decref(MKINT(v19));
	decref(MKSTR(in_Str_1));
	STR* v38;
	STRLIT(v38, "\"", 1);
	STR* v39;
	mw_std_str_ZPlusStr_pushZ_strZBang(v38, v16, &v39);
	*out_ZPlusStr_3 = v39;
}
static void mw_std_prim_Str_zzencodeZThen (STR* in_ZPlusStr_1, STR* in_Str_2, STR* *out_ZPlusStr_3) {
	incref(MKSTR(in_Str_2));
	incref(MKSTR(in_Str_2));
	void* v4 = str_base(in_Str_2);
	uint64_t v5 = str_size(in_Str_2);
	INT v6 = u64_to_int(v5);
	incref(MKINT(v6));
	INT v7 = WRAP_I63(0LL);
	bool v8 = int_le(v7, v6);
	INT branch_Nat_9;
	if (v8) {
		branch_Nat_9 = v6;
	} else {
		decref(MKINT(v6));
		INT v10 = WRAP_I63(0LL);
		branch_Nat_9 = v10;
	}
	incref(MKINT(branch_Nat_9));
	INT v11 = WRAP_I63(0LL);
	bool v12 = int_lt(v11, branch_Nat_9);
	STR* v13 = in_ZPlusStr_1;
	void* v14 = v4;
	INT v15 = branch_Nat_9;
	bool v16 = v12;
	while (v16) {
		STR* v17 = v13;
		void* v18 = v14;
		INT v19 = v15;
		int64_t v20 = mw_std_prelude_unsafe_1_sp12(v18);
		STR* v21;
		mw_std_byte_Byte_zzencodeZThen(v17, v20, &v21);
		INT v22 = WRAP_I63(1LL);
		void* v23 = mw_std_prelude_unsafe_1_sp5(v22, v18);
		INT v24 = WRAP_I63(1LL);
		INT v25 = int_sub(v19, v24);
		incref(MKINT(v25));
		INT v26 = WRAP_I63(0LL);
		bool v27 = int_le(v26, v25);
		INT branch_Nat_28;
		if (v27) {
			branch_Nat_28 = v25;
		} else {
			decref(MKINT(v25));
			INT v29 = WRAP_I63(0LL);
			branch_Nat_28 = v29;
		}
		incref(MKINT(branch_Nat_28));
		INT v30 = WRAP_I63(0LL);
		bool v31 = int_lt(v30, branch_Nat_28);
		v16 = v31;
		v15 = branch_Nat_28;
		v14 = v23;
		v13 = v21;
	}
	decref(MKINT(v15));
	decref(MKSTR(in_Str_2));
	*out_ZPlusStr_3 = v13;
}
static STR* mw_std_prim_Str_zzencode (STR* in_Str_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	STR* v4;
	mw_std_prim_Str_zzencodeZThen(v3, in_Str_1, &v4);
	return v4;
}
static VAL mw_std_prim_Str_ZToF64ZAsk (STR* in_Str_1) {
	incref(MKSTR(in_Str_1));
	uint64_t v3 = str_size(in_Str_1);
	INT v4 = u64_to_int(v3);
	INT v5 = WRAP_I63(0LL);
	bool v6 = int_eq(v4, v5);
	VAL branch_Maybe_7;
	if (v6) {
		decref(MKSTR(in_Str_1));
		VAL v8 = MKI64(0LL /* None */);
		branch_Maybe_7 = v8;
	} else {
		STR* v9;
		double v10 = str_to_f64(in_Str_1, &v9);
		uint64_t v11 = str_size(v9);
		INT v12 = u64_to_int(v11);
		INT v13 = WRAP_I63(0LL);
		bool v14 = int_eq(v12, v13);
		VAL branch_Maybe_15;
		if (v14) {
			VAL v16 = mtw_std_maybe_Maybe_1_Some(MKF64(v10));
			branch_Maybe_15 = v16;
		} else {
			VAL v17 = MKI64(0LL /* None */);
			branch_Maybe_15 = v17;
		}
		branch_Maybe_7 = branch_Maybe_15;
	}
	return branch_Maybe_7;
}
static int64_t mw_std_str_ZPlusStr_firstZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v4 = WRAP_I63(0LL);
	STR* v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_2 = v5;
	return v6;
}
static int64_t mw_std_str_ZPlusStr_secondZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v4 = WRAP_I63(1LL);
	STR* v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_2 = v5;
	return v6;
}
static int64_t mw_std_str_ZPlusStr_thirdZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v4 = WRAP_I63(2LL);
	STR* v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_2 = v5;
	return v6;
}
static STR* mw_std_str_ZPlusStr_firstZ_twoZ_bytes (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v6 = WRAP_I63(2LL);
	STR* v7;
	STR* v8 = mw_std_str_ZPlusStr_takeZ_slice(in_ZPlusStr_1, v6, &v7);
	*out_ZPlusStr_2 = v7;
	return v8;
}
static STR* mw_std_str_ZPlusStr_dropZ_firstZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	INT v6 = WRAP_I63(1LL);
	STR* v7;
	STR* v8 = mw_std_str_ZPlusStr_dropZ_slice(in_ZPlusStr_1, v6, &v7);
	*out_ZPlusStr_2 = v7;
	return v8;
}
static STR* mw_std_str_ZPlusStr_dropZ_lastZ_byte (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	incref(MKSTR(in_ZPlusStr_1));
	uint64_t v6 = str_size(in_ZPlusStr_1);
	INT v7 = u64_to_int(v6);
	INT v8 = WRAP_I63(1LL);
	INT v9 = int_sub(v7, v8);
	STR* v10;
	STR* v11 = mw_std_str_ZPlusStr_takeZ_slice(in_ZPlusStr_1, v9, &v10);
	*out_ZPlusStr_2 = v10;
	return v11;
}
static VAL mw_std_either_Either_2_leftZAsk (VAL in_Either_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			decref(v6);
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_std_either_Either_2_rightZAsk (VAL in_Either_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			decref(v4);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static bool mw_std_list_List_1_emptyZAsk (VAL in_List_1) {
	int64_t v3 = get_data_tag(in_List_1);
	decref(in_List_1);
	INT v4 = WRAP_I63(0LL);
	INT v5 = i64_to_int(v3);
	bool v6 = int_eq(v5, v4);
	return v6;
}
static VAL mw_std_list_List_1_singleZAsk (VAL in_List_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			VAL v4 = MKI64(0LL /* None */);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // Cons
			VAL v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			bool v7 = mw_std_list_List_1_emptyZAsk(v5);
			VAL branch_Maybe_8;
			if (v7) {
				VAL v9 = mtw_std_maybe_Maybe_1_Some(v6);
				branch_Maybe_8 = v9;
			} else {
				decref(v6);
				VAL v10 = MKI64(0LL /* None */);
				branch_Maybe_8 = v10;
			}
			branch_Maybe_3 = branch_Maybe_8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_std_list_List_1_pairZAsk (VAL in_List_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			VAL v4 = MKI64(0LL /* None */);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // Cons
			VAL v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			VAL branch_Maybe_7;
			switch (get_data_tag(v5)) {
				case 0LL: { // Nil
					decref(v6);
					VAL v8 = MKI64(0LL /* None */);
					branch_Maybe_7 = v8;
				} break;
				case 1LL: { // Cons
					VAL v9;
					VAL v10 = mtp_std_list_List_1_Cons(v5, &v9);
					VAL branch_Maybe_11;
					switch (get_data_tag(v9)) {
						case 0LL: { // Nil
							TUP* v12 = tup_new(2);
							v12->size = 2;
							v12->cells[1] = v10;
							v12->cells[0] = v6;
							VAL v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12, 2));
							branch_Maybe_11 = v13;
						} break;
						default: {
							decref(v9);
							decref(v10);
							decref(v6);
							VAL v14 = MKI64(0LL /* None */);
							branch_Maybe_11 = v14;
						} break;
					}
					branch_Maybe_7 = branch_Maybe_11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_3 = branch_Maybe_7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_std_list_List_1_ZToNestZAsk (VAL in_List_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_List_1)) {
		case 1LL: { // Cons
			VAL v4;
			VAL v5 = mtp_std_list_List_1_Cons(in_List_1, &v4);
			TUP* v6 = mtw_std_list_Nest_1_Nest(v5, v4);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(MKTUP(v6, 2));
			branch_Maybe_3 = v7;
		} break;
		case 0LL: { // Nil
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_3 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static INT mw_std_list_List_1_len (VAL in_List_1) {
	INT v3 = WRAP_I63(0LL);
	bool v4 = true;
	INT v5 = v3;
	VAL v6 = in_List_1;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		INT v9 = v5;
		VAL v10 = v6;
		bool v11 = v7;
		INT branch_Nat_12;
		VAL branch_List_13;
		bool branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				decref(v16);
				INT v17 = WRAP_I63(1LL);
				INT v18 = int_add(v9, v17);
				bool v19 = true;
				branch_Bool_14 = v19;
				branch_List_13 = v15;
				branch_Nat_12 = v18;
			} break;
			case 0LL: { // Nil
				VAL v20 = MKI64(0LL /* Nil */);
				bool v21 = false;
				branch_Bool_14 = v21;
				branch_List_13 = v20;
				branch_Nat_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_Nat_12;
	}
	decref(v6);
	return v5;
}
static VAL mw_std_list_List_1_cons (VAL in_t_1, VAL in_List_2) {
	VAL v4 = mtw_std_list_List_1_Cons(in_t_1, in_List_2);
	return v4;
}
static TUP* mw_std_list_List_1_consZPlus (VAL in_t_1, VAL in_List_2) {
	TUP* v4 = mw_std_list_Nest_1_Cons(in_t_1, in_List_2);
	return v4;
}
static VAL mw_std_list_List_1_uncons (VAL in_List_1, VAL *out_List_3) {
	VAL branch_Maybe_4;
	VAL branch_List_5;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			VAL v6 = MKI64(0LL /* None */);
			VAL v7 = MKI64(0LL /* Nil */);
			branch_List_5 = v7;
			branch_Maybe_4 = v6;
		} break;
		case 1LL: { // Cons
			VAL v8;
			VAL v9 = mtp_std_list_List_1_Cons(in_List_1, &v8);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_List_5 = v8;
			branch_Maybe_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_3 = branch_List_5;
	return branch_Maybe_4;
}
static VAL mw_std_list_List_1_Snoc (VAL in_List_1, VAL in_t_2) {
	VAL v4 = mw_std_list_List_1_reverse(in_List_1);
	VAL v5 = mw_std_list_List_1_cons(in_t_2, v4);
	VAL v6 = mw_std_list_List_1_reverse(v5);
	return v6;
}
static VAL mw_std_list_List_1_unsnoc (VAL in_List_1, VAL *out_Maybe_3) {
	VAL v4 = mw_std_list_List_1_reverse(in_List_1);
	VAL v5;
	VAL v6 = mw_std_list_List_1_uncons(v4, &v5);
	VAL v7 = mw_std_list_List_1_reverse(v5);
	*out_Maybe_3 = v6;
	return v7;
}
static VAL mw_std_list_List_1_cat (VAL in_List_1, VAL in_List_2) {
	VAL branch_List_4;
	switch (get_data_tag(in_List_2)) {
		case 0LL: { // Nil
			branch_List_4 = in_List_1;
		} break;
		default: {
			VAL v5 = mw_std_list_List_1_reverse(in_List_1);
			VAL v6 = mw_std_list_List_1_for_1_sp5(in_List_2, v5);
			branch_List_4 = v6;
		} break;
	}
	return branch_List_4;
}
static VAL mw_std_list_List_1_head (VAL in_List_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			VAL v4 = MKI64(0LL /* None */);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // Cons
			VAL v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			decref(v5);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_std_list_List_1_tail (VAL in_List_1) {
	VAL branch_List_3;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			VAL v4 = MKI64(0LL /* Nil */);
			branch_List_3 = v4;
		} break;
		case 1LL: { // Cons
			VAL v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			decref(v6);
			branch_List_3 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_3;
}
static VAL mw_std_list_List_1_first (VAL in_List_1) {
	VAL v3 = mw_std_list_List_1_ZToNestZAsk(in_List_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = VTUP(v5)->cells[0];
			incref(v6);
			decref(v5);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_4 = v7;
		} break;
		case 0LL: { // None
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_std_list_List_1_last (VAL in_List_1) {
	VAL v3 = mw_std_list_List_1_ZToNestZAsk(in_List_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_std_list_Nest_1_last(value_tup(v5, 2));
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_4 = v7;
		} break;
		case 0LL: { // None
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_std_list_List_1_dropZ_slice (INT in_Nat_1, VAL in_List_2) {
	incref(MKINT(in_Nat_1));
	INT v4 = WRAP_I63(0LL);
	bool v5 = int_lt(v4, in_Nat_1);
	VAL v6 = in_List_2;
	INT v7 = in_Nat_1;
	bool v8 = v5;
	while (v8) {
		VAL v9 = v6;
		INT v10 = v7;
		VAL v11 = mw_std_list_List_1_tail(v9);
		INT v12 = WRAP_I63(1LL);
		INT v13 = int_sub(v10, v12);
		incref(MKINT(v13));
		INT v14 = WRAP_I63(0LL);
		bool v15 = int_le(v14, v13);
		INT branch_Nat_16;
		if (v15) {
			branch_Nat_16 = v13;
		} else {
			decref(MKINT(v13));
			INT v17 = WRAP_I63(0LL);
			branch_Nat_16 = v17;
		}
		incref(MKINT(branch_Nat_16));
		INT v18 = WRAP_I63(0LL);
		bool v19 = int_lt(v18, branch_Nat_16);
		v8 = v19;
		v7 = branch_Nat_16;
		v6 = v11;
	}
	decref(MKINT(v7));
	return v6;
}
static VAL mw_std_list_List_1_reverse (VAL in_List_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mw_std_list_List_1_for_1_sp5(v3, in_List_1);
	return v4;
}
static TUP* mw_std_list_Nest_1_N1 (VAL in_t_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	TUP* v4 = mtw_std_list_Nest_1_Nest(in_t_1, v3);
	return v4;
}
static TUP* mw_std_list_Nest_1_Cons (VAL in_t_1, VAL in_List_2) {
	TUP* v4 = mtw_std_list_Nest_1_Nest(in_t_1, in_List_2);
	return v4;
}
static VAL mw_std_list_Nest_1_ZDivCons (TUP* in_Nest_1, VAL *out_List_3) {
	VAL v4;
	VAL v5;
	mtp_std_list_Nest_1_Nest(in_Nest_1, &v4, &v5);
	*out_List_3 = v5;
	return v4;
}
static VAL mw_std_list_Nest_1_singleZAsk (TUP* in_Nest_1) {
	VAL v3;
	VAL v4;
	mtp_std_list_Nest_1_Nest(in_Nest_1, &v3, &v4);
	bool v5 = mw_std_list_List_1_emptyZAsk(v4);
	VAL branch_Maybe_6;
	if (v5) {
		VAL v7 = mtw_std_maybe_Maybe_1_Some(v3);
		branch_Maybe_6 = v7;
	} else {
		decref(v3);
		VAL v8 = MKI64(0LL /* None */);
		branch_Maybe_6 = v8;
	}
	return branch_Maybe_6;
}
static VAL mw_std_list_Nest_1_pairZAsk (TUP* in_Nest_1) {
	VAL v3;
	VAL v4 = mw_std_list_Nest_1_uncons(in_Nest_1, &v3);
	VAL v5 = mw_std_list_List_1_singleZAsk(v3);
	VAL branch_Maybe_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			TUP* v8 = tup_new(2);
			v8->size = 2;
			v8->cells[1] = v7;
			v8->cells[0] = v4;
			VAL v9 = mtw_std_maybe_Maybe_1_Some(MKTUP(v8, 2));
			branch_Maybe_6 = v9;
		} break;
		case 0LL: { // None
			decref(v4);
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_6 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_6;
}
static VAL mw_std_list_Nest_1_ZToList (TUP* in_Nest_1) {
	VAL v3;
	VAL v4 = mw_std_list_Nest_1_ZDivCons(in_Nest_1, &v3);
	VAL v5 = mw_std_list_List_1_cons(v4, v3);
	return v5;
}
static TUP* mw_std_list_Nest_1_cons (VAL in_t_1, TUP* in_Nest_2) {
	VAL v4 = mw_std_list_Nest_1_ZToList(in_Nest_2);
	TUP* v5 = mtw_std_list_Nest_1_Nest(in_t_1, v4);
	return v5;
}
static VAL mw_std_list_Nest_1_uncons (TUP* in_Nest_1, VAL *out_List_3) {
	VAL v4;
	VAL v5;
	mtp_std_list_Nest_1_Nest(in_Nest_1, &v4, &v5);
	*out_List_3 = v5;
	return v4;
}
static VAL mw_std_list_Nest_1_unsnoc (TUP* in_Nest_1, VAL *out_t_3) {
	TUP* v4 = mw_std_list_Nest_1_reverse(in_Nest_1);
	VAL v5;
	VAL v6 = mw_std_list_Nest_1_uncons(v4, &v5);
	VAL v7 = mw_std_list_List_1_reverse(v5);
	*out_t_3 = v6;
	return v7;
}
static VAL mw_std_list_Nest_1_first (TUP* in_Nest_1) {
	VAL v3 = in_Nest_1->cells[0];
	incref(v3);
	decref(MKTUP(in_Nest_1, 2));
	return v3;
}
static VAL mw_std_list_Nest_1_last (TUP* in_Nest_1) {
	VAL v3;
	VAL v4 = mw_std_list_Nest_1_uncons(in_Nest_1, &v3);
	bool v5 = true;
	VAL v6 = v4;
	VAL v7 = v3;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		VAL v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		VAL branch_z_x1_13;
		VAL branch_List_14;
		bool branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				decref(v10);
				bool v18 = true;
				branch_Bool_15 = v18;
				branch_List_14 = v16;
				branch_z_x1_13 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				bool v20 = false;
				branch_Bool_15 = v20;
				branch_List_14 = v19;
				branch_z_x1_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_z_x1_13;
	}
	decref(v7);
	return v6;
}
static TUP* mw_std_list_Nest_1_reverse (TUP* in_Nest_1) {
	VAL v3;
	VAL v4;
	mtp_std_list_Nest_1_Nest(in_Nest_1, &v3, &v4);
	TUP* v5 = mw_std_list_Nest_1_N1(v3);
	bool v6 = true;
	TUP* v7 = v5;
	VAL v8 = v4;
	bool v9 = v6;
	bool v10 = v6;
	while (v10) {
		TUP* v11 = v7;
		VAL v12 = v8;
		bool v13 = v9;
		TUP* branch_Nest_14;
		VAL branch_List_15;
		bool branch_Bool_16;
		switch (get_data_tag(v12)) {
			case 1LL: { // Cons
				VAL v17;
				VAL v18 = mtp_std_list_List_1_Cons(v12, &v17);
				TUP* v19 = mw_std_list_Nest_1_cons(v18, v11);
				bool v20 = true;
				branch_Bool_16 = v20;
				branch_List_15 = v17;
				branch_Nest_14 = v19;
			} break;
			case 0LL: { // Nil
				VAL v21 = MKI64(0LL /* Nil */);
				bool v22 = false;
				branch_Bool_16 = v22;
				branch_List_15 = v21;
				branch_Nest_14 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_16;
		v9 = branch_Bool_16;
		v8 = branch_List_15;
		v7 = branch_Nest_14;
	}
	decref(v8);
	return v7;
}
static VAL mw_std_prim_Int_range (INT in_Int_1, INT in_Int_2) {
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5;
	mw_std_list_List_1_buildZBang(v4, &v5);
	incref(MKINT(in_Int_1));
	incref(MKINT(in_Int_2));
	bool v6 = int_le(in_Int_1, in_Int_2);
	INT v7 = in_Int_1;
	INT v8 = in_Int_2;
	VAL v9 = v5;
	bool v10 = v6;
	while (v10) {
		INT v11 = v7;
		INT v12 = v8;
		VAL v13 = v9;
		incref(MKINT(v11));
		INT v14 = WRAP_I63(1LL);
		INT v15 = int_add(v11, v14);
		VAL v16;
		mw_std_list_ZPlusLister_1_pushZBang(MKINT(v11), v13, &v16);
		incref(MKINT(v15));
		incref(MKINT(v12));
		bool v17 = int_le(v15, v12);
		v10 = v17;
		v9 = v16;
		v8 = v12;
		v7 = v15;
	}
	VAL v18 = mw_std_list_ZPlusLister_1_doneZBang(v9);
	decref(MKINT(v8));
	decref(MKINT(v7));
	return v18;
}
static void mw_std_list_ZPlusLister_1_ZPlusNil (VAL *out_ZPlusLister_1) {
	VAL v2 = MKI64(0LL /* Nil */);
	*out_ZPlusLister_1 = v2;
}
static void mw_std_list_ZPlusLister_1_rdrop (VAL in_ZPlusLister_1) {
	decref(in_ZPlusLister_1);
}
static VAL mw_std_list_ZPlusLister_1_doneZBang (VAL in_ZPlusLister_1) {
	VAL v3 = mw_std_list_List_1_reverse(in_ZPlusLister_1);
	return v3;
}
static void mw_std_list_List_1_buildZBang (VAL in_List_1, VAL *out_ZPlusLister_2) {
	VAL v3 = mw_std_list_List_1_reverse(in_List_1);
	*out_ZPlusLister_2 = v3;
}
static void mw_std_list_ZPlusLister_1_pushZBang (VAL in_t_1, VAL in_ZPlusLister_2, VAL *out_ZPlusLister_3) {
	incref(in_ZPlusLister_2);
	VAL v4 = mw_std_list_List_1_cons(in_t_1, in_ZPlusLister_2);
	decref(in_ZPlusLister_2);
	*out_ZPlusLister_3 = v4;
}
static void mw_std_list_ZPlusLister_1_pushZPlusZBang (VAL in_t_1, VAL in_ZPlusLister_2, TUP* *out_ZPlusNester_3) {
	TUP* v4 = mw_std_list_List_1_consZPlus(in_t_1, in_ZPlusLister_2);
	*out_ZPlusNester_3 = v4;
}
static VAL mw_std_list_ZPlusLister_1_popZBang (VAL in_ZPlusLister_1, VAL *out_ZPlusLister_3) {
	incref(in_ZPlusLister_1);
	VAL v4;
	VAL v5 = mw_std_list_List_1_uncons(in_ZPlusLister_1, &v4);
	decref(in_ZPlusLister_1);
	*out_ZPlusLister_3 = v4;
	return v5;
}
static VAL mw_std_list_ZPlusLister_1_popZ_allZBang (VAL in_ZPlusLister_1, VAL *out_ZPlusLister_3) {
	incref(in_ZPlusLister_1);
	VAL v4 = MKI64(0LL /* Nil */);
	decref(in_ZPlusLister_1);
	VAL v5 = mw_std_list_List_1_reverse(in_ZPlusLister_1);
	*out_ZPlusLister_3 = v4;
	return v5;
}
static TUP* mw_std_list_ZPlusNester_1_doneZBang (TUP* in_ZPlusNester_1) {
	TUP* v3 = mw_std_list_Nest_1_reverse(in_ZPlusNester_1);
	return v3;
}
static VAL mw_std_maybe_Maybe_1_ZToList (VAL in_Maybe_1) {
	VAL branch_List_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 0LL: { // None
			VAL v4 = MKI64(0LL /* Nil */);
			branch_List_3 = v4;
		} break;
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v6 = MKI64(0LL /* Nil */);
			VAL v7 = mw_std_list_List_1_cons(v5, v6);
			branch_List_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_3;
}
static VAL mw_std_maybe_Maybe_1_zzip (VAL in_Maybe_1, VAL in_Maybe_2) {
	VAL branch_Maybe_4;
	switch (get_data_tag(in_Maybe_2)) {
		case 0LL: { // None
			decref(in_Maybe_1);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_4 = v5;
		} break;
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL branch_Maybe_7;
			switch (get_data_tag(in_Maybe_1)) {
				case 0LL: { // None
					decref(v6);
					VAL v8 = MKI64(0LL /* None */);
					branch_Maybe_7 = v8;
				} break;
				case 1LL: { // Some
					VAL v9 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
					TUP* v10 = tup_new(2);
					v10->size = 2;
					v10->cells[1] = v6;
					v10->cells[0] = v9;
					VAL v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v10, 2));
					branch_Maybe_7 = v11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_4 = branch_Maybe_7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static INT mw_std_number_Base_Hex (void) {
	INT v2 = WRAP_I63(16LL);
	return v2;
}
static INT mw_std_number_Base_lastZ_digit (INT in_Nat_1, INT in_Base_2, int64_t *out_Byte_4) {
	INT v5;
	INT v6 = int_divmod(in_Nat_1, in_Base_2, &v5);
	uint64_t v7 = int_to_u64(v5);
	uint8_t v8 = (uint8_t)(v7);
	uint8_t v9 = 10;
	uint64_t v10 = (uint64_t)(v9);
	uint32_t v11 = (uint32_t)(v10);
	uint64_t v12 = (uint64_t)(v8);
	uint32_t v13 = (uint32_t)(v12);
	uint64_t v14 = (uint64_t)(v13);
	uint64_t v15 = (uint64_t)(v11);
	bool v16 = (v14 < v15);
	INT branch_Nat_17;
	uint8_t branch_U8_18;
	uint8_t branch_U8_19;
	if (v16) {
		uint8_t v20 = 48;
		branch_U8_19 = v20;
		branch_U8_18 = v8;
		branch_Nat_17 = v6;
	} else {
		uint8_t v21 = 55;
		branch_U8_19 = v21;
		branch_U8_18 = v8;
		branch_Nat_17 = v6;
	}
	uint64_t v22 = (uint64_t)(branch_U8_18);
	uint64_t v23 = (uint64_t)(branch_U8_19);
	uint64_t v24 = (v22 + v23);
	uint8_t v25 = (uint8_t)(v24);
	uint64_t v26 = (uint64_t)(v25);
	INT v27 = u64_to_int(v26);
	int64_t v28 = int_to_i64(v27);
	*out_Byte_4 = v28;
	return branch_Nat_17;
}
static void mw_std_number_Base_digitsZThen (STR* in_ZPlusStr_1, INT in_Nat_2, INT in_Base_3, STR* *out_ZPlusStr_4) {
	INT v5 = WRAP_I63(0LL);
	INT v6 = WRAP_I63(0LL);
	bool v7 = true;
	INT v8 = v5;
	INT v9 = v6;
	INT v10 = in_Nat_2;
	INT v11 = in_Base_3;
	bool v12 = v7;
	bool v13 = v7;
	while (v13) {
		INT v14 = v8;
		INT v15 = v9;
		INT v16 = v10;
		INT v17 = v11;
		bool v18 = v12;
		incref(MKINT(v17));
		INT v19;
		INT v20 = int_divmod(v16, v17, &v19);
		incref(MKINT(v17));
		INT v21 = int_mul(v15, v17);
		INT v22 = int_add(v19, v21);
		INT v23 = WRAP_I63(1LL);
		INT v24 = int_add(v14, v23);
		incref(MKINT(v20));
		INT v25 = WRAP_I63(0LL);
		bool v26 = int_lt(v25, v20);
		v13 = v26;
		v12 = v26;
		v11 = v17;
		v10 = v20;
		v9 = v22;
		v8 = v24;
	}
	decref(MKINT(v10));
	incref(MKINT(v8));
	INT v27 = WRAP_I63(0LL);
	bool v28 = int_lt(v27, v8);
	STR* v29 = in_ZPlusStr_1;
	INT v30 = v11;
	INT v31 = v9;
	INT v32 = v8;
	bool v33 = v28;
	while (v33) {
		STR* v34 = v29;
		INT v35 = v30;
		INT v36 = v31;
		INT v37 = v32;
		incref(MKINT(v35));
		int64_t v38;
		INT v39 = mw_std_number_Base_lastZ_digit(v36, v35, &v38);
		STR* v40;
		mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v38, v34, &v40);
		INT v41 = WRAP_I63(1LL);
		INT v42 = int_sub(v37, v41);
		incref(MKINT(v42));
		INT v43 = WRAP_I63(0LL);
		bool v44 = int_le(v43, v42);
		INT branch_Nat_45;
		if (v44) {
			branch_Nat_45 = v42;
		} else {
			decref(MKINT(v42));
			INT v46 = WRAP_I63(0LL);
			branch_Nat_45 = v46;
		}
		incref(MKINT(branch_Nat_45));
		INT v47 = WRAP_I63(0LL);
		bool v48 = int_lt(v47, branch_Nat_45);
		v33 = v48;
		v32 = branch_Nat_45;
		v31 = v39;
		v30 = v35;
		v29 = v40;
	}
	decref(MKINT(v32));
	decref(MKINT(v31));
	decref(MKINT(v30));
	*out_ZPlusStr_4 = v29;
}
static int64_t mw_std_prim_I64_ZToOS (int64_t in_I64_1) {
	INT v3 = i64_to_int(in_I64_1);
	int64_t v4 = mw_std_prim_Int_ZToOS(v3);
	return v4;
}
static int64_t mw_std_prim_Int_ZToOS (INT in_Int_1) {
	incref(MKINT(in_Int_1));
	INT v3 = WRAP_I63(0LL);
	int64_t v4 = int_to_i64(v3);
	INT v5 = WRAP_I63(3LL);
	int64_t v6 = int_to_i64(v5);
	INT v7 = i64_to_int(v4);
	INT v8 = i64_to_int(v6);
	incref(MKINT(in_Int_1));
	bool v9 = int_le(v7, in_Int_1);
	bool branch_Bool_10;
	if (v9) {
		bool v11 = int_le(in_Int_1, v8);
		branch_Bool_10 = v11;
	} else {
		decref(MKINT(v8));
		decref(MKINT(in_Int_1));
		bool v12 = false;
		branch_Bool_10 = v12;
	}
	int64_t branch_OS_13;
	if (branch_Bool_10) {
		int64_t v14 = int_to_i64(in_Int_1);
		branch_OS_13 = v14;
	} else {
		decref(MKINT(in_Int_1));
		int64_t v15 = 0LL /* Unknown */;
		branch_OS_13 = v15;
	}
	return branch_OS_13;
}
static bool mw_std_prelude_OS_isZ_windowsZAsk (int64_t in_OS_1) {
	int64_t v3 = 1LL /* Windows */;
	INT v4 = i64_to_int(in_OS_1);
	INT v5 = i64_to_int(v3);
	bool v6 = int_eq(v4, v5);
	return v6;
}
static VAL mw_std_prelude_OS_pathZ_separator (int64_t in_OS_1) {
	bool v3 = mw_std_prelude_OS_isZ_windowsZAsk(in_OS_1);
	VAL branch__4;
	if (v3) {
		STR* v5;
		STRLIT(v5, "\\", 1);
		branch__4 = MKSTR(v5);
	} else {
		STR* v6;
		STRLIT(v6, "/", 1);
		branch__4 = MKSTR(v6);
	}
	return branch__4;
}
static bool mw_std_prelude_OS_byteZ_isZ_pathZ_separatorZAsk (int64_t in_Byte_1, int64_t in_OS_2) {
	bool branch_Bool_4;
	switch (in_OS_2) {
		case 1LL: { // Windows
			int64_t v5 = 47LL /* B'/' */;
			INT v6 = i64_to_int(in_Byte_1);
			uint64_t v7 = int_to_u64(v6);
			uint8_t v8 = (uint8_t)(v7);
			INT v9 = i64_to_int(v5);
			uint64_t v10 = int_to_u64(v9);
			uint8_t v11 = (uint8_t)(v10);
			uint64_t v12 = (uint64_t)(v11);
			uint32_t v13 = (uint32_t)(v12);
			uint64_t v14 = (uint64_t)(v8);
			uint32_t v15 = (uint32_t)(v14);
			uint64_t v16 = (uint64_t)(v15);
			uint64_t v17 = (uint64_t)(v13);
			bool v18 = (v16 == v17);
			bool branch_Bool_19;
			if (v18) {
				bool v20 = true;
				branch_Bool_19 = v20;
			} else {
				int64_t v21 = 92LL /* B'\' */;
				INT v22 = i64_to_int(in_Byte_1);
				uint64_t v23 = int_to_u64(v22);
				uint8_t v24 = (uint8_t)(v23);
				INT v25 = i64_to_int(v21);
				uint64_t v26 = int_to_u64(v25);
				uint8_t v27 = (uint8_t)(v26);
				uint64_t v28 = (uint64_t)(v27);
				uint32_t v29 = (uint32_t)(v28);
				uint64_t v30 = (uint64_t)(v24);
				uint32_t v31 = (uint32_t)(v30);
				uint64_t v32 = (uint64_t)(v31);
				uint64_t v33 = (uint64_t)(v29);
				bool v34 = (v32 == v33);
				branch_Bool_19 = v34;
			}
			branch_Bool_4 = branch_Bool_19;
		} break;
		case 2LL: { // Linux
			int64_t v35 = 47LL /* B'/' */;
			INT v36 = i64_to_int(in_Byte_1);
			uint64_t v37 = int_to_u64(v36);
			uint8_t v38 = (uint8_t)(v37);
			INT v39 = i64_to_int(v35);
			uint64_t v40 = int_to_u64(v39);
			uint8_t v41 = (uint8_t)(v40);
			uint64_t v42 = (uint64_t)(v41);
			uint32_t v43 = (uint32_t)(v42);
			uint64_t v44 = (uint64_t)(v38);
			uint32_t v45 = (uint32_t)(v44);
			uint64_t v46 = (uint64_t)(v45);
			uint64_t v47 = (uint64_t)(v43);
			bool v48 = (v46 == v47);
			branch_Bool_4 = v48;
		} break;
		case 3LL: { // Mac
			int64_t v49 = 47LL /* B'/' */;
			INT v50 = i64_to_int(in_Byte_1);
			uint64_t v51 = int_to_u64(v50);
			uint8_t v52 = (uint8_t)(v51);
			INT v53 = i64_to_int(v49);
			uint64_t v54 = int_to_u64(v53);
			uint8_t v55 = (uint8_t)(v54);
			uint64_t v56 = (uint64_t)(v55);
			uint32_t v57 = (uint32_t)(v56);
			uint64_t v58 = (uint64_t)(v52);
			uint32_t v59 = (uint32_t)(v58);
			uint64_t v60 = (uint64_t)(v59);
			uint64_t v61 = (uint64_t)(v57);
			bool v62 = (v60 == v61);
			branch_Bool_4 = v62;
		} break;
		case 0LL: { // Unknown
			int64_t v63 = 47LL /* B'/' */;
			INT v64 = i64_to_int(in_Byte_1);
			uint64_t v65 = int_to_u64(v64);
			uint8_t v66 = (uint8_t)(v65);
			INT v67 = i64_to_int(v63);
			uint64_t v68 = int_to_u64(v67);
			uint8_t v69 = (uint8_t)(v68);
			uint64_t v70 = (uint64_t)(v69);
			uint32_t v71 = (uint32_t)(v70);
			uint64_t v72 = (uint64_t)(v66);
			uint32_t v73 = (uint32_t)(v72);
			uint64_t v74 = (uint64_t)(v73);
			uint64_t v75 = (uint64_t)(v71);
			bool v76 = (v74 == v75);
			branch_Bool_4 = v76;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_std_prim_I64_ZToArch (int64_t in_I64_1) {
	INT v3 = i64_to_int(in_I64_1);
	int64_t v4 = mw_std_prim_Int_ZToArch(v3);
	return v4;
}
static int64_t mw_std_prim_Int_ZToArch (INT in_Int_1) {
	incref(MKINT(in_Int_1));
	int64_t v3 = 0LL;
	int64_t v4 = 3LL;
	INT v5 = i64_to_int(v3);
	INT v6 = i64_to_int(v4);
	incref(MKINT(in_Int_1));
	bool v7 = int_le(v5, in_Int_1);
	bool branch_Bool_8;
	if (v7) {
		bool v9 = int_le(in_Int_1, v6);
		branch_Bool_8 = v9;
	} else {
		decref(MKINT(v6));
		decref(MKINT(in_Int_1));
		bool v10 = false;
		branch_Bool_8 = v10;
	}
	int64_t branch_Arch_11;
	if (branch_Bool_8) {
		int64_t v12 = int_to_i64(in_Int_1);
		branch_Arch_11 = v12;
	} else {
		decref(MKINT(in_Int_1));
		int64_t v13 = 0LL /* Unknown */;
		branch_Arch_11 = v13;
	}
	return branch_Arch_11;
}
static VAL mw_std_prelude_ZAtZAsk (void* in_Mutt_1) {
	bool v3 = mut_is_set(in_Mutt_1);
	VAL branch_Maybe_4;
	if (v3) {
		VAL v5 = mut_get(in_Mutt_1);
		VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
		branch_Maybe_4 = v6;
	} else {
		VAL v7 = MKI64(0LL /* None */);
		branch_Maybe_4 = v7;
	}
	return branch_Maybe_4;
}
static void mw_std_prelude_impossibleZBang (void) {
	STR* v1;
	STRLIT(v1, "Impossible! The impossible has occured!", 39);
	do_panic(v1);
}
static STR* mw_std_path_Path_joinZ_with (STR* in_Path_1, STR* in_Str_2, STR* in_Path_3) {
	STR* v5 = str_cat(in_Path_1, in_Str_2);
	STR* v6 = str_cat(v5, in_Path_3);
	return v6;
}
static STR* mw_std_path_Path_join (STR* in_Path_1, STR* in_Path_2) {
	int64_t v6 = RUNNING_OS;
	int64_t v7 = mw_std_prim_I64_ZToOS(v6);
	VAL v8 = mw_std_prelude_OS_pathZ_separator(v7);
	STR* v9 = mw_std_path_Path_joinZ_with(in_Path_1, value_str(v8), in_Path_2);
	return v9;
}
static STR* mw_std_path_Path_splitZ_last (STR* in_Path_1, VAL *out_Maybe_3) {
	incref(MKSTR(in_Path_1));
	uint64_t v6 = str_size(in_Path_1);
	INT v7 = u64_to_int(v6);
	VAL v8 = MKI64(0LL /* None */);
	incref(v8);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	INT branch_Offset_13;
	VAL branch_z_x1_14;
	bool branch_Bool_15;
	if (v12) {
		incref(MKINT(v7));
		INT v16 = WRAP_I63(0LL);
		bool v17 = int_lt(v16, v7);
		branch_Bool_15 = v17;
		branch_z_x1_14 = v8;
		branch_Offset_13 = v7;
	} else {
		bool v18 = false;
		branch_Bool_15 = v18;
		branch_z_x1_14 = v8;
		branch_Offset_13 = v7;
	}
	STR* v19 = in_Path_1;
	INT v20 = branch_Offset_13;
	VAL v21 = branch_z_x1_14;
	bool v22 = branch_Bool_15;
	while (v22) {
		STR* v23 = v19;
		INT v24 = v20;
		VAL v25 = v21;
		decref(v25);
		INT v26 = WRAP_I63(1LL);
		INT v27 = int_sub(v24, v26);
		incref(MKINT(v27));
		STR* v28;
		int64_t v29 = mw_std_str_ZPlusStr_byteZAt(v27, v23, &v28);
		int64_t v30 = RUNNING_OS;
		int64_t v31 = mw_std_prim_I64_ZToOS(v30);
		bool v32 = mw_std_prelude_OS_byteZ_isZ_pathZ_separatorZAsk(v29, v31);
		STR* branch_ZPlusStr_33;
		INT branch_Offset_34;
		VAL branch_Maybe_35;
		if (v32) {
			incref(MKINT(v27));
			VAL v36 = mtw_std_maybe_Maybe_1_Some(MKINT(v27));
			branch_Maybe_35 = v36;
			branch_Offset_34 = v27;
			branch_ZPlusStr_33 = v28;
		} else {
			VAL v37 = MKI64(0LL /* None */);
			branch_Maybe_35 = v37;
			branch_Offset_34 = v27;
			branch_ZPlusStr_33 = v28;
		}
		incref(branch_Maybe_35);
		int64_t v38 = get_data_tag(branch_Maybe_35);
		decref(branch_Maybe_35);
		INT v39 = WRAP_I63(0LL);
		INT v40 = i64_to_int(v38);
		bool v41 = int_eq(v40, v39);
		INT branch_Offset_42;
		VAL branch_z_x1_43;
		bool branch_Bool_44;
		if (v41) {
			incref(MKINT(branch_Offset_34));
			INT v45 = WRAP_I63(0LL);
			bool v46 = int_lt(v45, branch_Offset_34);
			branch_Bool_44 = v46;
			branch_z_x1_43 = branch_Maybe_35;
			branch_Offset_42 = branch_Offset_34;
		} else {
			bool v47 = false;
			branch_Bool_44 = v47;
			branch_z_x1_43 = branch_Maybe_35;
			branch_Offset_42 = branch_Offset_34;
		}
		v22 = branch_Bool_44;
		v21 = branch_z_x1_43;
		v20 = branch_Offset_42;
		v19 = branch_ZPlusStr_33;
	}
	decref(MKINT(v20));
	VAL v48;
	STR* v49 = mw_std_maybe_Maybe_1_map_1_sp10(v19, v21, &v48);
	*out_Maybe_3 = v48;
	return v49;
}
static void mw_std_path_Path_pathZThen (STR* in_Path_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Path_1, in_ZPlusStr_2, &v4);
	*out_ZPlusStr_3 = v4;
}
static VAL mw_std_result_Result_2_okZAsk (VAL in_Result_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Result_1)) {
		case 0LL: { // Err
			VAL v4 = mtp_std_result_Result_2_Err(in_Result_1);
			decref(v4);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Ok
			VAL v6 = mtp_std_result_Result_2_Ok(in_Result_1);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static int64_t mw_std_posix_OpenFlags_U64ZTo (uint64_t in_U64_1) {
	INT v3 = u64_to_int(in_U64_1);
	int64_t v4 = int_to_i64(v3);
	return v4;
}
static int64_t mw_std_posix_OpenFlags_None (void) {
	uint64_t v2 = 0ULL;
	int64_t v3 = mw_std_posix_OpenFlags_U64ZTo(v2);
	return v3;
}
static void mw_std_terminal_Sgr_emitZThen (VAL in_Sgr_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* v4;
	mw_std_str_ZPlusStr_csiZThen(in_ZPlusStr_2, &v4);
	incref(in_Sgr_1);
	int64_t v5 = get_data_tag(in_Sgr_1);
	decref(in_Sgr_1);
	INT v6 = i64_to_int(v5);
	STR* v7 = int_to_str(v6);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v4, &v8);
	STR* branch_ZPlusStr_9;
	switch (get_data_tag(in_Sgr_1)) {
		case 38LL: { // FGColor
			VAL v10 = mtp_std_terminal_Sgr_FGColor(in_Sgr_1);
			STR* v11;
			mw_std_terminal_SGRColor_emitZThen(v10, v8, &v11);
			branch_ZPlusStr_9 = v11;
		} break;
		case 48LL: { // BGColor
			VAL v12 = mtp_std_terminal_Sgr_BGColor(in_Sgr_1);
			STR* v13;
			mw_std_terminal_SGRColor_emitZThen(v12, v8, &v13);
			branch_ZPlusStr_9 = v13;
		} break;
		default: {
			decref(in_Sgr_1);
			branch_ZPlusStr_9 = v8;
		} break;
	}
	STR* v14;
	STRLIT(v14, "m", 1);
	STR* v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(v14, branch_ZPlusStr_9, &v15);
	*out_ZPlusStr_3 = v15;
}
static void mw_std_terminal_SGRColor_emitZThen (VAL in_SGRColor_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* branch_ZPlusStr_4;
	switch (get_data_tag(in_SGRColor_1)) {
		case 0LL: { // Numbered
			INT v5 = mtp_std_terminal_SGRColor_Numbered(in_SGRColor_1);
			STR* v6;
			STRLIT(v6, ";5;", 3);
			STR* v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(v6, in_ZPlusStr_2, &v7);
			STR* v8 = int_to_str(v5);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, v7, &v9);
			branch_ZPlusStr_4 = v9;
		} break;
		case 1LL: { // RGB
			INT v10;
			INT v11;
			INT v12 = mtp_std_terminal_SGRColor_RGB(in_SGRColor_1, &v10, &v11);
			STR* v13;
			STRLIT(v13, ";2;", 3);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, in_ZPlusStr_2, &v14);
			STR* v15 = int_to_str(v11);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
			STR* v17;
			STRLIT(v17, ";", 1);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, v16, &v18);
			STR* v19 = int_to_str(v10);
			STR* v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(v19, v18, &v20);
			STR* v21;
			STRLIT(v21, ";", 1);
			STR* v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v22);
			STR* v23 = int_to_str(v12);
			STR* v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(v23, v22, &v24);
			branch_ZPlusStr_4 = v24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static void mw_std_str_ZPlusStr_csiZThen (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	int64_t v3 = 27LL /* BESC */;
	STR* v4;
	mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v3, in_ZPlusStr_1, &v4);
	int64_t v5 = 91LL /* BLSQUARE */;
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v5, v4, &v6);
	*out_ZPlusStr_2 = v6;
}
static INT mw_std_input_INPUTz_BUFFERz_SIZZE (void) {
	INT v2 = WRAP_I63(8192LL);
	return v2;
}
static void mw_std_input_ZPlusInputOpenState_endZBang (TUP* in_ZPlusInputOpenState_1, TUP* *out_ZPlusFile_2) {
	INT v3;
	INT v4;
	TUP* v5;
	TUP* v6;
	mtp_std_input_ZPlusInputOpenState_ZPlusInputOpenState(in_ZPlusInputOpenState_1, &v3, &v4, &v5, &v6);
	decref(MKINT(v4));
	decref(MKINT(v3));
	mw_std_buffer_ZPlusBuffer_rdrop(v6);
	*out_ZPlusFile_2 = v5;
}
static void mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang (TUP* in_ZPlusInputOpenState_1, VAL *out_ZPlusInput_2) {
	TUP* v3 = value_tup(in_ZPlusInputOpenState_1->cells[3], 2);
	void* v4 = value_ptr(v3->cells[1]);
	INT v5 = value_int(v3->cells[0]);
	incref(MKINT(v5));
	in_ZPlusInputOpenState_1->cells[3] = MKTUP(v3, 2);
	TUP* v6 = value_tup(in_ZPlusInputOpenState_1->cells[2], 2);
	int64_t v7 = 0LL /* +Unsafe */;
	TUP* v8;
	VAL v9 = mw_std_file_ZPlusFile_readZ_bytesZBang(v6, v4, v5, &v8);
	in_ZPlusInputOpenState_1->cells[2] = MKTUP(v8, 2);
	VAL v10 = mw_std_result_Result_2_okZAsk(v9);
	VAL branch_Maybe_11;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
			incref(v12);
			INT v13 = WRAP_I63(0LL);
			bool v14 = int_lt(v13, value_int(v12));
			VAL branch_Maybe_15;
			if (v14) {
				VAL v16 = mtw_std_maybe_Maybe_1_Some(v12);
				branch_Maybe_15 = v16;
			} else {
				decref(v12);
				VAL v17 = MKI64(0LL /* None */);
				branch_Maybe_15 = v17;
			}
			branch_Maybe_11 = branch_Maybe_15;
		} break;
		case 0LL: { // None
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_11 = v18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusInput_19;
	switch (get_data_tag(branch_Maybe_11)) {
		case 1LL: { // Some
			VAL v20 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_11);
			INT v21 = value_int(in_ZPlusInputOpenState_1->cells[0]);
			decref(MKINT(v21));
			in_ZPlusInputOpenState_1->cells[0] = v20;
			INT v22 = WRAP_I63(0LL);
			INT v23 = value_int(in_ZPlusInputOpenState_1->cells[1]);
			decref(MKINT(v23));
			in_ZPlusInputOpenState_1->cells[1] = MKINT(v22);
			VAL v24;
			mtw_std_input_ZPlusInput_Open(in_ZPlusInputOpenState_1, &v24);
			branch_ZPlusInput_19 = v24;
		} break;
		case 0LL: { // None
			TUP* v25;
			mw_std_input_ZPlusInputOpenState_endZBang(in_ZPlusInputOpenState_1, &v25);
			VAL v26;
			mtw_std_input_ZPlusInput_Done(v25, &v26);
			branch_ZPlusInput_19 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusInput_2 = branch_ZPlusInput_19;
}
static void mw_std_input_ZPlusInput_startZBang (TUP* in_ZPlusFile_1, VAL *out_ZPlusInput_2) {
	INT v3 = mw_std_input_INPUTz_BUFFERz_SIZZE();
	TUP* v4;
	mw_std_buffer_ZPlusBuffer_new(v3, &v4);
	INT v5 = WRAP_I63(0LL);
	INT v6 = WRAP_I63(0LL);
	TUP* v7;
	mtw_std_input_ZPlusInputOpenState_ZPlusInputOpenState(v5, v6, in_ZPlusFile_1, v4, &v7);
	VAL v8;
	mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang(v7, &v8);
	*out_ZPlusInput_2 = v8;
}
static void mw_std_input_ZPlusInput_endZBang (VAL in_ZPlusInput_1, TUP* *out_ZPlusFile_2) {
	TUP* branch_ZPlusFile_3;
	switch (get_data_tag(in_ZPlusInput_1)) {
		case 0LL: { // Open
			TUP* v4;
			mtp_std_input_ZPlusInput_Open(in_ZPlusInput_1, &v4);
			TUP* v5;
			mw_std_input_ZPlusInputOpenState_endZBang(v4, &v5);
			branch_ZPlusFile_3 = v5;
		} break;
		case 1LL: { // Done
			TUP* v6;
			mtp_std_input_ZPlusInput_Done(in_ZPlusInput_1, &v6);
			branch_ZPlusFile_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusFile_2 = branch_ZPlusFile_3;
}
static VAL mw_std_input_ZPlusInput_readZ_chunkZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3) {
	VAL branch_Maybe_4;
	VAL branch_ZPlusInput_5;
	switch (get_data_tag(in_ZPlusInput_1)) {
		case 0LL: { // Open
			TUP* v6;
			mtp_std_input_ZPlusInput_Open(in_ZPlusInput_1, &v6);
			INT v7 = value_int(v6->cells[1]);
			incref(MKINT(v7));
			INT v8 = value_int(v6->cells[0]);
			incref(MKINT(v8));
			TUP* v9 = value_tup(v6->cells[3], 2);
			TUP* v10;
			STR* v11 = mw_std_buffer_ZPlusBuffer_ZAtStr(v7, v8, v9, &v10);
			v6->cells[3] = MKTUP(v10, 2);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
			VAL v13;
			mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang(v6, &v13);
			branch_ZPlusInput_5 = v13;
			branch_Maybe_4 = v12;
		} break;
		case 1LL: { // Done
			TUP* v14;
			mtp_std_input_ZPlusInput_Done(in_ZPlusInput_1, &v14);
			VAL v15 = MKI64(0LL /* None */);
			VAL v16;
			mtw_std_input_ZPlusInput_Done(v14, &v16);
			branch_ZPlusInput_5 = v16;
			branch_Maybe_4 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusInput_3 = branch_ZPlusInput_5;
	return branch_Maybe_4;
}
static STR* mw_std_input_ZPlusInput_readZ_fileZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3) {
	STR* v4;
	STRLIT(v4, "", 0);
	bool v5 = true;
	STR* v6 = v4;
	VAL v7 = in_ZPlusInput_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		STR* v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		VAL v13;
		VAL v14 = mw_std_input_ZPlusInput_readZ_chunkZBang(v11, &v13);
		STR* branch_Str_15;
		bool branch_Bool_16;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v17 = mtp_std_maybe_Maybe_1_Some(v14);
				STR* v18 = str_cat(v10, value_str(v17));
				bool v19 = true;
				branch_Bool_16 = v19;
				branch_Str_15 = v18;
			} break;
			case 0LL: { // None
				bool v20 = false;
				branch_Bool_16 = v20;
				branch_Str_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_16;
		v8 = branch_Bool_16;
		v7 = v13;
		v6 = branch_Str_15;
	}
	*out_ZPlusInput_3 = v7;
	return v6;
}
static INT mw_std_output_OUTPUTz_BUFFERz_SIZZE (void) {
	INT v2 = WRAP_I63(4096LL);
	return v2;
}
static void mw_std_output_ZPlusOutput_startZBang (TUP* in_ZPlusFile_1, TUP* *out_ZPlusOutput_2) {
	INT v3 = WRAP_I63(0LL);
	INT v4 = mw_std_output_OUTPUTz_BUFFERz_SIZZE();
	TUP* v5;
	mw_std_buffer_ZPlusBuffer_new(v4, &v5);
	TUP* v6;
	mtw_std_output_ZPlusOutput_ZPlusOutput(v3, in_ZPlusFile_1, v5, &v6);
	*out_ZPlusOutput_2 = v6;
}
static void mw_std_output_ZPlusOutput_endZBang (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusFile_2) {
	TUP* v3;
	mw_std_output_ZPlusOutput_flushZBang(in_ZPlusOutput_1, &v3);
	INT v4;
	TUP* v5;
	TUP* v6;
	mtp_std_output_ZPlusOutput_ZPlusOutput(v3, &v4, &v5, &v6);
	decref(MKINT(v4));
	mw_std_buffer_ZPlusBuffer_rdrop(v6);
	*out_ZPlusFile_2 = v5;
}
static void mw_std_output_ZPlusOutput_flushZBang (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_2) {
	TUP* v3 = value_tup(in_ZPlusOutput_1->cells[2], 2);
	void* v4 = value_ptr(v3->cells[1]);
	in_ZPlusOutput_1->cells[2] = MKTUP(v3, 2);
	INT v5 = value_int(in_ZPlusOutput_1->cells[0]);
	incref(MKINT(v5));
	TUP* v6 = value_tup(in_ZPlusOutput_1->cells[1], 2);
	TUP* v7;
	VAL v8 = mw_std_prelude_unsafe_1_sp2(v6, v4, v5, &v7);
	in_ZPlusOutput_1->cells[1] = MKTUP(v7, 2);
	decref(v8);
	INT v9 = WRAP_I63(0LL);
	INT v10 = value_int(in_ZPlusOutput_1->cells[0]);
	decref(MKINT(v10));
	in_ZPlusOutput_1->cells[0] = MKINT(v9);
	*out_ZPlusOutput_2 = in_ZPlusOutput_1;
}
static INT mw_std_output_ZPlusOutput_offset (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_2) {
	INT v4 = value_int(in_ZPlusOutput_1->cells[0]);
	incref(MKINT(v4));
	*out_ZPlusOutput_2 = in_ZPlusOutput_1;
	return v4;
}
static INT mw_std_output_ZPlusOutput_capacityZ_total (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_3) {
	TUP* v4 = value_tup(in_ZPlusOutput_1->cells[2], 2);
	INT v5 = value_int(v4->cells[0]);
	incref(MKINT(v5));
	in_ZPlusOutput_1->cells[2] = MKTUP(v4, 2);
	*out_ZPlusOutput_3 = in_ZPlusOutput_1;
	return v5;
}
static INT mw_std_output_ZPlusOutput_capacityZ_remaining (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_3) {
	TUP* v4;
	INT v5 = mw_std_output_ZPlusOutput_capacityZ_total(in_ZPlusOutput_1, &v4);
	INT v6 = value_int(v4->cells[0]);
	incref(MKINT(v6));
	INT v7 = int_sub(v5, v6);
	*out_ZPlusOutput_3 = v4;
	return v7;
}
static bool mw_std_output_ZPlusOutput_fullZAsk (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_3) {
	TUP* v4;
	INT v5 = mw_std_output_ZPlusOutput_capacityZ_remaining(in_ZPlusOutput_1, &v4);
	INT v6 = WRAP_I63(0LL);
	bool v7 = int_eq(v5, v6);
	*out_ZPlusOutput_3 = v4;
	return v7;
}
static void mw_std_output_ZPlusOutput_put (STR* in_Str_1, TUP* in_ZPlusOutput_2, TUP* *out_ZPlusOutput_3) {
	incref(MKSTR(in_Str_1));
	uint64_t v4 = str_size(in_Str_1);
	INT v5 = u64_to_int(v4);
	TUP* v6;
	INT v7 = mw_std_output_ZPlusOutput_capacityZ_remaining(in_ZPlusOutput_2, &v6);
	bool v8 = int_lt(v7, v5);
	TUP* branch_ZPlusOutput_9;
	if (v8) {
		TUP* v10;
		mw_std_output_ZPlusOutput_flushZBang(v6, &v10);
		incref(MKSTR(in_Str_1));
		uint64_t v11 = str_size(in_Str_1);
		INT v12 = u64_to_int(v11);
		TUP* v13;
		INT v14 = mw_std_output_ZPlusOutput_capacityZ_total(v10, &v13);
		bool v15 = int_le(v14, v12);
		TUP* branch_ZPlusOutput_16;
		if (v15) {
			incref(MKSTR(in_Str_1));
			incref(MKSTR(in_Str_1));
			void* v17 = str_base(in_Str_1);
			uint64_t v18 = str_size(in_Str_1);
			INT v19 = u64_to_int(v18);
			TUP* v20 = value_tup(v13->cells[1], 2);
			TUP* v21;
			VAL v22 = mw_std_prelude_unsafe_1_sp2(v20, v17, v19, &v21);
			v13->cells[1] = MKTUP(v21, 2);
			decref(v22);
			decref(MKSTR(in_Str_1));
			branch_ZPlusOutput_16 = v13;
		} else {
			TUP* v23;
			mw_std_output_ZPlusOutput_put(in_Str_1, v13, &v23);
			branch_ZPlusOutput_16 = v23;
		}
		branch_ZPlusOutput_9 = branch_ZPlusOutput_16;
	} else {
		incref(MKSTR(in_Str_1));
		TUP* v24;
		INT v25 = mw_std_output_ZPlusOutput_offset(v6, &v24);
		TUP* v26 = value_tup(v24->cells[2], 2);
		TUP* v27;
		mw_std_buffer_ZPlusBuffer_ZBangStr(in_Str_1, v25, v26, &v27);
		v24->cells[2] = MKTUP(v27, 2);
		uint64_t v28 = str_size(in_Str_1);
		INT v29 = u64_to_int(v28);
		INT v30 = value_int(v24->cells[0]);
		incref(MKINT(v30));
		INT v31 = int_add(v29, v30);
		INT v32 = value_int(v24->cells[0]);
		decref(MKINT(v32));
		v24->cells[0] = MKINT(v31);
		branch_ZPlusOutput_9 = v24;
	}
	*out_ZPlusOutput_3 = branch_ZPlusOutput_9;
}
static void mw_std_output_ZPlusOutput_putZ_byte (int64_t in_Byte_1, TUP* in_ZPlusOutput_2, TUP* *out_ZPlusOutput_3) {
	TUP* v4;
	bool v5 = mw_std_output_ZPlusOutput_fullZAsk(in_ZPlusOutput_2, &v4);
	TUP* branch_ZPlusOutput_6;
	if (v5) {
		TUP* v7;
		mw_std_output_ZPlusOutput_flushZBang(v4, &v7);
		branch_ZPlusOutput_6 = v7;
	} else {
		branch_ZPlusOutput_6 = v4;
	}
	TUP* v8;
	INT v9 = mw_std_output_ZPlusOutput_offset(branch_ZPlusOutput_6, &v8);
	TUP* v10 = value_tup(v8->cells[2], 2);
	TUP* v11;
	mw_std_buffer_ZPlusBuffer_ZBangByte(in_Byte_1, v9, v10, &v11);
	v8->cells[2] = MKTUP(v11, 2);
	INT v12 = value_int(v8->cells[0]);
	incref(MKINT(v12));
	INT v13 = WRAP_I63(1LL);
	INT v14 = int_add(v12, v13);
	INT v15 = value_int(v8->cells[0]);
	decref(MKINT(v15));
	v8->cells[0] = MKINT(v14);
	*out_ZPlusOutput_3 = v8;
}
static void mw_std_output_ZPlusOutput_line (TUP* in_ZPlusOutput_1, TUP* *out_ZPlusOutput_2) {
	int64_t v3 = 10LL /* BLF */;
	TUP* v4;
	mw_std_output_ZPlusOutput_putZ_byte(v3, in_ZPlusOutput_1, &v4);
	*out_ZPlusOutput_2 = v4;
}
static void mw_std_file_IOError_messageZThen (STR* in_ZPlusStr_1, VAL in_IOError_2, STR* *out_ZPlusStr_3) {
	STR* branch_ZPlusStr_6;
	switch (get_data_tag(in_IOError_2)) {
		case 0LL: { // OpenFailed
			int64_t v7;
			STR* v8 = mtp_std_file_IOError_OpenFailed(in_IOError_2, &v7);
			STR* v9;
			STRLIT(v9, "Failed to open ", 15);
			STR* v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(v9, in_ZPlusStr_1, &v10);
			STR* v11;
			mw_std_path_Path_pathZThen(v8, v10, &v11);
			STR* v12;
			STRLIT(v12, ": ", 2);
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			void* v14 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v7);
			int64_t v15 = 0LL /* +Unsafe */;
			uint64_t v16 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v14);
			INT v17 = u64_to_int(v16);
			uint64_t v18 = int_to_u64(v17);
			STR* v19 = str_make(v14, v18);
			STR* v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(v19, v13, &v20);
			branch_ZPlusStr_6 = v20;
		} break;
		case 1LL: { // CreateFailed
			int64_t v21;
			STR* v22 = mtp_std_file_IOError_CreateFailed(in_IOError_2, &v21);
			STR* v23;
			STRLIT(v23, "Failed to create ", 17);
			STR* v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(v23, in_ZPlusStr_1, &v24);
			STR* v25;
			mw_std_path_Path_pathZThen(v22, v24, &v25);
			STR* v26;
			STRLIT(v26, ": ", 2);
			STR* v27;
			mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
			void* v28 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v21);
			int64_t v29 = 0LL /* +Unsafe */;
			uint64_t v30 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v28);
			INT v31 = u64_to_int(v30);
			uint64_t v32 = int_to_u64(v31);
			STR* v33 = str_make(v28, v32);
			STR* v34;
			mw_std_str_ZPlusStr_pushZ_strZBang(v33, v27, &v34);
			branch_ZPlusStr_6 = v34;
		} break;
		case 2LL: { // CreateUnsupported
			STR* v35 = mtp_std_file_IOError_CreateUnsupported(in_IOError_2);
			STR* v36;
			STRLIT(v36, "Failed to create ", 17);
			STR* v37;
			mw_std_str_ZPlusStr_pushZ_strZBang(v36, in_ZPlusStr_1, &v37);
			STR* v38;
			mw_std_path_Path_pathZThen(v35, v37, &v38);
			STR* v39;
			STRLIT(v39, ": Unsupported platform", 22);
			STR* v40;
			mw_std_str_ZPlusStr_pushZ_strZBang(v39, v38, &v40);
			branch_ZPlusStr_6 = v40;
		} break;
		case 3LL: { // CloseFailed
			int64_t v41 = mtp_std_file_IOError_CloseFailed(in_IOError_2);
			STR* v42;
			STRLIT(v42, "Close file failed: ", 19);
			STR* v43;
			mw_std_str_ZPlusStr_pushZ_strZBang(v42, in_ZPlusStr_1, &v43);
			void* v44 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v41);
			int64_t v45 = 0LL /* +Unsafe */;
			uint64_t v46 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v44);
			INT v47 = u64_to_int(v46);
			uint64_t v48 = int_to_u64(v47);
			STR* v49 = str_make(v44, v48);
			STR* v50;
			mw_std_str_ZPlusStr_pushZ_strZBang(v49, v43, &v50);
			branch_ZPlusStr_6 = v50;
		} break;
		case 4LL: { // ReadFailed
			int64_t v51 = mtp_std_file_IOError_ReadFailed(in_IOError_2);
			STR* v52;
			STRLIT(v52, "Failed to read from file: ", 26);
			STR* v53;
			mw_std_str_ZPlusStr_pushZ_strZBang(v52, in_ZPlusStr_1, &v53);
			void* v54 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v51);
			int64_t v55 = 0LL /* +Unsafe */;
			uint64_t v56 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v54);
			INT v57 = u64_to_int(v56);
			uint64_t v58 = int_to_u64(v57);
			STR* v59 = str_make(v54, v58);
			STR* v60;
			mw_std_str_ZPlusStr_pushZ_strZBang(v59, v53, &v60);
			branch_ZPlusStr_6 = v60;
		} break;
		case 5LL: { // WriteFailed
			int64_t v61;
			INT v62 = mtp_std_file_IOError_WriteFailed(in_IOError_2, &v61);
			STR* v63;
			STRLIT(v63, "Failed to write to file: ", 25);
			STR* v64;
			mw_std_str_ZPlusStr_pushZ_strZBang(v63, in_ZPlusStr_1, &v64);
			void* v65 = mext_std_prim_ZPlusWorld_rawZ_posixZ_strerrorZBang(v61);
			int64_t v66 = 0LL /* +Unsafe */;
			uint64_t v67 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v65);
			INT v68 = u64_to_int(v67);
			uint64_t v69 = int_to_u64(v68);
			STR* v70 = str_make(v65, v69);
			STR* v71;
			mw_std_str_ZPlusStr_pushZ_strZBang(v70, v64, &v71);
			decref(MKINT(v62));
			branch_ZPlusStr_6 = v71;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_6;
}
static STR* mw_std_file_IOError_message (VAL in_IOError_1) {
	STR* v5;
	STRLIT(v5, "", 0);
	STR* v6;
	mw_std_file_IOError_messageZThen(v5, in_IOError_1, &v6);
	return v6;
}
static VAL mw_std_file_ZPlusFile_closeZ_fileZBang (TUP* in_ZPlusFile_1) {
	int64_t v5;
	bool v6;
	mtp_std_file_ZPlusFile_ZPlusFile(in_ZPlusFile_1, &v5, &v6);
	VAL branch_Maybe_7;
	if (v6) {
		int64_t v8 = mext_std_prim_ZPlusWorld_rawZ_posixZ_closeZBang(v5);
		INT v9 = WRAP_I63(0LL);
		INT v10 = i64_to_int(v8);
		bool v11 = int_lt(v10, v9);
		VAL branch_Maybe_12;
		if (v11) {
			int64_t v13 = mw_std_prelude_unsafe_1_sp1();
			VAL v14 = mtw_std_file_IOError_CloseFailed(v13);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
			branch_Maybe_12 = v15;
		} else {
			VAL v16 = MKI64(0LL /* None */);
			branch_Maybe_12 = v16;
		}
		branch_Maybe_7 = branch_Maybe_12;
	} else {
		VAL v17 = MKI64(0LL /* None */);
		branch_Maybe_7 = v17;
	}
	return branch_Maybe_7;
}
static STR* mw_std_file_ZPlusFile_readZ_fileZBang (TUP* in_ZPlusFile_1, TUP* *out_ZPlusFile_3) {
	VAL v4;
	mw_std_input_ZPlusInput_startZBang(in_ZPlusFile_1, &v4);
	VAL v5;
	STR* v6 = mw_std_input_ZPlusInput_readZ_fileZBang(v4, &v5);
	TUP* v7;
	mw_std_input_ZPlusInput_endZBang(v5, &v7);
	*out_ZPlusFile_3 = v7;
	return v6;
}
static VAL mw_std_file_ZPlusFile_readZ_bytesZBang (TUP* in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, TUP* *out_ZPlusFile_4) {
	int64_t v8 = value_i64(in_ZPlusFile_1->cells[0]);
	uint64_t v9 = int_to_u64(in_Sizze_3);
	int64_t v10;
	int64_t v11 = mext_std_prelude_ZPlusUnsafe_rawZ_posixZ_readZBang(v8, in_Ptr_2, v9, &v10);
	INT v12 = i64_to_int(v11);
	incref(MKINT(v12));
	INT v13 = WRAP_I63(0LL);
	bool v14 = int_le(v13, v12);
	int64_t branch_ZPlusFileDescriptor_15;
	VAL branch_Result_16;
	if (v14) {
		VAL v17 = mtw_std_result_Result_2_Ok(MKINT(v12));
		branch_Result_16 = v17;
		branch_ZPlusFileDescriptor_15 = v10;
	} else {
		decref(MKINT(v12));
		int64_t v18 = mext_std_prelude_ZPlusUnsafe_posixZ_errnoZBang();
		VAL v19 = mtw_std_result_Result_2_Err(MKI64(v18));
		branch_Result_16 = v19;
		branch_ZPlusFileDescriptor_15 = v10;
	}
	in_ZPlusFile_1->cells[0] = MKI64(branch_ZPlusFileDescriptor_15);
	VAL branch_Result_20;
	switch (get_data_tag(branch_Result_16)) {
		case 1LL: { // Ok
			VAL v21 = mtp_std_result_Result_2_Ok(branch_Result_16);
			VAL v22 = mtw_std_result_Result_2_Ok(v21);
			branch_Result_20 = v22;
		} break;
		case 0LL: { // Err
			VAL v23 = mtp_std_result_Result_2_Err(branch_Result_16);
			VAL v24 = mtw_std_file_IOError_ReadFailed(value_i64(v23));
			VAL v25 = mtw_std_result_Result_2_Err(v24);
			branch_Result_20 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusFile_4 = in_ZPlusFile_1;
	return branch_Result_20;
}
static void mw_std_prim_ZPlusWorld_openZ_fileZBang (STR* in_Path_1, VAL *out_ZPlusResult_2) {
	incref(MKSTR(in_Path_1));
	int64_t v5 = mw_std_posix_OpenFlags_None();
	INT v6 = WRAP_I63(0LL);
	int64_t v7 = int_to_i64(v6);
	incref(MKSTR(in_Path_1));
	incref(MKSTR(in_Path_1));
	void* v8 = str_base(in_Path_1);
	uint64_t v9 = str_size(in_Path_1);
	INT v10 = u64_to_int(v9);
	uint8_t v11 = mw_std_prelude_unsafe_1_sp17(v10, v8);
	INT v12 = WRAP_I63(0LL);
	uint64_t v13 = (uint64_t)(v11);
	INT v14 = u64_to_int(v13);
	bool v15 = int_eq(v14, v12);
	if (v15) {
	} else {
		STR* v16;
		STRLIT(v16, "tried to use Str as CStr, but Str is not zero terminated", 56);
		do_panic(v16);
	}
	int64_t v17 = mext_std_prim_ZPlusWorld_rawZ_posixZ_openZBang(v8, v5, v7);
	INT v18 = WRAP_I63(0LL);
	INT v19 = i64_to_int(v17);
	bool v20 = int_lt(v19, v18);
	VAL branch_ZPlusMaybe_21;
	if (v20) {
		VAL v22 = MKI64(0LL /* +None */);
		branch_ZPlusMaybe_21 = v22;
	} else {
		VAL v23;
		mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKI64(v17), &v23);
		branch_ZPlusMaybe_21 = v23;
	}
	decref(MKSTR(in_Path_1));
	VAL branch_ZPlusResult_24;
	switch (get_data_tag(branch_ZPlusMaybe_21)) {
		case 1LL: { // +Some
			VAL v25;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(branch_ZPlusMaybe_21, &v25);
			decref(MKSTR(in_Path_1));
			bool v26 = true;
			TUP* v27;
			mtw_std_file_ZPlusFile_ZPlusFile(value_i64(v25), v26, &v27);
			VAL v28;
			mtw_std_result_ZPlusResult_2_ZPlusOk(MKTUP(v27, 2), &v28);
			branch_ZPlusResult_24 = v28;
		} break;
		case 0LL: { // +None
			int64_t v29 = mw_std_prelude_unsafe_1_sp1();
			VAL v30 = mtw_std_file_IOError_OpenFailed(in_Path_1, v29);
			VAL v31;
			mtw_std_result_ZPlusResult_2_ZPlusErr(v30, &v31);
			branch_ZPlusResult_24 = v31;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusResult_2 = branch_ZPlusResult_24;
}
static void mw_std_prim_ZPlusWorld_createZ_fileZBang (STR* in_Path_1, VAL *out_ZPlusResult_2) {
	VAL v5 = mw_std_prim_ZPlusWorld_createZ_fileZ_flags();
	VAL branch_ZPlusResult_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(MKSTR(in_Path_1));
			INT v8 = WRAP_I63(438LL);
			int64_t v9 = int_to_i64(v8);
			incref(MKSTR(in_Path_1));
			incref(MKSTR(in_Path_1));
			void* v10 = str_base(in_Path_1);
			uint64_t v11 = str_size(in_Path_1);
			INT v12 = u64_to_int(v11);
			uint8_t v13 = mw_std_prelude_unsafe_1_sp17(v12, v10);
			INT v14 = WRAP_I63(0LL);
			uint64_t v15 = (uint64_t)(v13);
			INT v16 = u64_to_int(v15);
			bool v17 = int_eq(v16, v14);
			if (v17) {
			} else {
				STR* v18;
				STRLIT(v18, "tried to use Str as CStr, but Str is not zero terminated", 56);
				do_panic(v18);
			}
			int64_t v19 = mext_std_prim_ZPlusWorld_rawZ_posixZ_openZBang(v10, value_i64(v7), v9);
			INT v20 = WRAP_I63(0LL);
			INT v21 = i64_to_int(v19);
			bool v22 = int_lt(v21, v20);
			VAL branch_ZPlusMaybe_23;
			if (v22) {
				VAL v24 = MKI64(0LL /* +None */);
				branch_ZPlusMaybe_23 = v24;
			} else {
				VAL v25;
				mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKI64(v19), &v25);
				branch_ZPlusMaybe_23 = v25;
			}
			decref(MKSTR(in_Path_1));
			VAL branch_ZPlusResult_26;
			switch (get_data_tag(branch_ZPlusMaybe_23)) {
				case 1LL: { // +Some
					VAL v27;
					mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(branch_ZPlusMaybe_23, &v27);
					decref(MKSTR(in_Path_1));
					bool v28 = true;
					TUP* v29;
					mtw_std_file_ZPlusFile_ZPlusFile(value_i64(v27), v28, &v29);
					VAL v30;
					mtw_std_result_ZPlusResult_2_ZPlusOk(MKTUP(v29, 2), &v30);
					branch_ZPlusResult_26 = v30;
				} break;
				case 0LL: { // +None
					int64_t v31 = mw_std_prelude_unsafe_1_sp1();
					VAL v32 = mtw_std_file_IOError_CreateFailed(in_Path_1, v31);
					VAL v33;
					mtw_std_result_ZPlusResult_2_ZPlusErr(v32, &v33);
					branch_ZPlusResult_26 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusResult_6 = branch_ZPlusResult_26;
		} break;
		case 0LL: { // None
			VAL v34 = mtw_std_file_IOError_CreateUnsupported(in_Path_1);
			VAL v35;
			mtw_std_result_ZPlusResult_2_ZPlusErr(v34, &v35);
			branch_ZPlusResult_6 = v35;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusResult_2 = branch_ZPlusResult_6;
}
static void mw_std_prim_ZPlusWorld_stderrZ_file (TUP* *out_ZPlusFile_1) {
	int64_t v4 = 2LL;
	bool v5 = false;
	TUP* v6;
	mtw_std_file_ZPlusFile_ZPlusFile(v4, v5, &v6);
	*out_ZPlusFile_1 = v6;
}
static VAL mw_std_prim_ZPlusWorld_createZ_fileZ_flags (void) {
	int64_t v4 = RUNNING_OS;
	int64_t v5 = mw_std_prim_I64_ZToOS(v4);
	VAL branch_Maybe_6;
	switch (v5) {
		case 3LL: { // Mac
			INT v7 = WRAP_I63(1537LL);
			int64_t v8 = int_to_i64(v7);
			VAL v9 = mtw_std_maybe_Maybe_1_Some(MKI64(v8));
			branch_Maybe_6 = v9;
		} break;
		case 2LL: { // Linux
			INT v10 = WRAP_I63(577LL);
			int64_t v11 = int_to_i64(v10);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKI64(v11));
			branch_Maybe_6 = v12;
		} break;
		case 1LL: { // Windows
			INT v13 = WRAP_I63(769LL);
			int64_t v14 = int_to_i64(v13);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(MKI64(v14));
			branch_Maybe_6 = v15;
		} break;
		case 0LL: { // Unknown
			VAL v16 = MKI64(0LL /* None */);
			branch_Maybe_6 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_6;
}
static VAL mw_std_file_ZPlusFile_writeZ_bytesZBang (TUP* in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, TUP* *out_ZPlusFile_4) {
	INT v8 = WRAP_I63(0LL);
	VAL v9 = mtw_std_result_Result_2_Ok(MKINT(v8));
	incref(MKINT(in_Sizze_3));
	INT v10 = WRAP_I63(0LL);
	bool v11 = int_lt(v10, in_Sizze_3);
	TUP* v12 = in_ZPlusFile_1;
	void* v13 = in_Ptr_2;
	VAL v14 = v9;
	INT v15 = in_Sizze_3;
	bool v16 = v11;
	while (v16) {
		TUP* v17 = v12;
		void* v18 = v13;
		VAL v19 = v14;
		INT v20 = v15;
		TUP* branch_ZPlusFile_21;
		void* branch_Ptr_22;
		VAL branch_Result_23;
		INT branch_Sizze_24;
		switch (get_data_tag(v19)) {
			case 0LL: { // Err
				VAL v25 = mtp_std_result_Result_2_Err(v19);
				VAL v26 = mtw_std_result_Result_2_Err(v25);
				INT v27 = WRAP_I63(0LL);
				decref(MKINT(v20));
				branch_Sizze_24 = v27;
				branch_Result_23 = v26;
				branch_Ptr_22 = v18;
				branch_ZPlusFile_21 = v17;
			} break;
			case 1LL: { // Ok
				VAL v28 = mtp_std_result_Result_2_Ok(v19);
				int64_t v29 = value_i64(v17->cells[0]);
				incref(MKINT(v20));
				uint64_t v30 = int_to_u64(v20);
				int64_t v31;
				int64_t v32 = mext_std_prelude_ZPlusUnsafe_rawZ_posixZ_writeZBang(v29, v18, v30, &v31);
				INT v33 = i64_to_int(v32);
				incref(MKINT(v33));
				INT v34 = WRAP_I63(0LL);
				bool v35 = int_le(v34, v33);
				int64_t branch_ZPlusFileDescriptor_36;
				VAL branch_Result_37;
				if (v35) {
					VAL v38 = mtw_std_result_Result_2_Ok(MKINT(v33));
					branch_Result_37 = v38;
					branch_ZPlusFileDescriptor_36 = v31;
				} else {
					decref(MKINT(v33));
					int64_t v39 = mext_std_prelude_ZPlusUnsafe_posixZ_errnoZBang();
					VAL v40 = mtw_std_result_Result_2_Err(MKI64(v39));
					branch_Result_37 = v40;
					branch_ZPlusFileDescriptor_36 = v31;
				}
				v17->cells[0] = MKI64(branch_ZPlusFileDescriptor_36);
				TUP* branch_ZPlusFile_41;
				void* branch_Ptr_42;
				INT branch_Sizze_43;
				VAL branch_Result_44;
				switch (get_data_tag(branch_Result_37)) {
					case 1LL: { // Ok
						VAL v45 = mtp_std_result_Result_2_Ok(branch_Result_37);
						incref(v45);
						INT v46 = int_add(value_int(v45), value_int(v45));
						incref(MKINT(v46));
						int64_t v47 = int_to_i64(v46);
						void* v48 = (void*)(v47 + (char*)v18);
						INT v49 = int_sub(v20, v46);
						VAL v50 = mtw_std_result_Result_2_Ok(v28);
						branch_Result_44 = v50;
						branch_Sizze_43 = v49;
						branch_Ptr_42 = v48;
						branch_ZPlusFile_41 = v17;
					} break;
					case 0LL: { // Err
						VAL v51 = mtp_std_result_Result_2_Err(branch_Result_37);
						VAL v52 = mtw_std_file_IOError_WriteFailed(value_int(v28), value_i64(v51));
						VAL v53 = mtw_std_result_Result_2_Err(v52);
						INT v54 = WRAP_I63(0LL);
						decref(MKINT(v20));
						branch_Result_44 = v53;
						branch_Sizze_43 = v54;
						branch_Ptr_42 = v18;
						branch_ZPlusFile_41 = v17;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Sizze_24 = branch_Sizze_43;
				branch_Result_23 = branch_Result_44;
				branch_Ptr_22 = branch_Ptr_42;
				branch_ZPlusFile_21 = branch_ZPlusFile_41;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKINT(branch_Sizze_24));
		INT v55 = WRAP_I63(0LL);
		bool v56 = int_lt(v55, branch_Sizze_24);
		v16 = v56;
		v15 = branch_Sizze_24;
		v14 = branch_Result_23;
		v13 = branch_Ptr_22;
		v12 = branch_ZPlusFile_21;
	}
	decref(MKINT(v15));
	*out_ZPlusFile_4 = v12;
	return v14;
}
static VAL mw_std_prim_ZPlusWorld_readZ_pathZBang (STR* in_Path_1) {
	VAL v5;
	mw_std_prim_ZPlusWorld_openZ_fileZBang(in_Path_1, &v5);
	VAL branch_Result_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // +Ok
			VAL v7;
			mtp_std_result_ZPlusResult_2_ZPlusOk(v5, &v7);
			TUP* v8;
			STR* v9 = mw_std_file_ZPlusFile_readZ_fileZBang(value_tup(v7, 2), &v8);
			VAL v10 = mw_std_file_ZPlusFile_closeZ_fileZBang(v8);
			VAL branch_Result_11;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
					decref(MKSTR(v9));
					VAL v13 = mtw_std_result_Result_2_Err(v12);
					branch_Result_11 = v13;
				} break;
				case 0LL: { // None
					VAL v14 = mtw_std_result_Result_2_Ok(MKSTR(v9));
					branch_Result_11 = v14;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Result_6 = branch_Result_11;
		} break;
		case 0LL: { // +Err
			VAL v15 = mtp_std_result_ZPlusResult_2_ZPlusErr(v5);
			VAL v16 = mtw_std_result_Result_2_Err(v15);
			branch_Result_6 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Result_6;
}
static void mw_std_prim_ZPlusWorld_traceZ_ (STR* in_Str_1) {
	TUP* v4;
	mw_std_prim_ZPlusWorld_stderrZ_file(&v4);
	incref(MKSTR(in_Str_1));
	incref(MKSTR(in_Str_1));
	void* v5 = str_base(in_Str_1);
	uint64_t v6 = str_size(in_Str_1);
	INT v7 = u64_to_int(v6);
	TUP* v8;
	VAL v9 = mw_std_prelude_unsafe_1_sp2(v4, v5, v7, &v8);
	decref(MKSTR(in_Str_1));
	decref(v9);
	VAL v10 = mw_std_file_ZPlusFile_closeZ_fileZBang(v8);
	decref(v10);
}
static void mw_std_prim_ZPlusWorld_trace (STR* in_Str_1) {
	STR* v4;
	STRLIT(v4, "\n", 1);
	STR* v5 = str_cat(in_Str_1, v4);
	mw_std_prim_ZPlusWorld_traceZ_(v5);
}
static bool mw_std_prim_ZPlusWorld_isZ_directoryZAsk (STR* in_Path_1) {
	INT v5 = WRAP_I63(256LL);
	TUP* v6;
	mw_std_buffer_ZPlusBuffer_new(v5, &v6);
	incref(MKSTR(in_Path_1));
	incref(MKSTR(in_Path_1));
	void* v7 = str_base(in_Path_1);
	uint64_t v8 = str_size(in_Path_1);
	INT v9 = u64_to_int(v8);
	uint8_t v10 = mw_std_prelude_unsafe_1_sp17(v9, v7);
	INT v11 = WRAP_I63(0LL);
	uint64_t v12 = (uint64_t)(v10);
	INT v13 = u64_to_int(v12);
	bool v14 = int_eq(v13, v11);
	if (v14) {
	} else {
		STR* v15;
		STRLIT(v15, "tried to use Str as CStr, but Str is not zero terminated", 56);
		do_panic(v15);
	}
	void* v16 = value_ptr(v6->cells[1]);
	int64_t v17 = 0LL /* +Unsafe */;
	int64_t v18 = mext_std_world_posixZ_stat(v7, v16);
	INT v19 = i64_to_int(v18);
	INT v20 = WRAP_I63(0LL);
	bool v21 = int_eq(v19, v20);
	TUP* branch_ZPlusBuffer_22;
	bool branch_Bool_23;
	if (v21) {
		void* v24 = value_ptr(v6->cells[1]);
		int64_t v25 = 0LL /* +Unsafe */;
		uint16_t v26 = mw_std_world_stz_modeZAt(v24);
		bool v27 = mw_std_world_Sz_ISDIR(v26);
		branch_Bool_23 = v27;
		branch_ZPlusBuffer_22 = v6;
	} else {
		bool v28 = false;
		branch_Bool_23 = v28;
		branch_ZPlusBuffer_22 = v6;
	}
	decref(MKSTR(in_Path_1));
	mw_std_buffer_ZPlusBuffer_rdrop(branch_ZPlusBuffer_22);
	return branch_Bool_23;
}
static uint16_t mw_std_world_Sz_IFMT (void) {
	uint16_t v2 = 61440;
	return v2;
}
static uint16_t mw_std_world_Sz_IFDIR (void) {
	uint16_t v2 = 16384;
	return v2;
}
static bool mw_std_world_Sz_ISDIR (uint16_t in_U16_1) {
	uint16_t v3 = mw_std_world_Sz_IFMT();
	uint64_t v4 = (uint64_t)(in_U16_1);
	uint64_t v5 = (uint64_t)(v3);
	uint64_t v6 = (v4 & v5);
	uint16_t v7 = (uint16_t)(v6);
	uint16_t v8 = mw_std_world_Sz_IFDIR();
	uint64_t v9 = (uint64_t)(v8);
	uint32_t v10 = (uint32_t)(v9);
	uint64_t v11 = (uint64_t)(v7);
	uint32_t v12 = (uint32_t)(v11);
	uint64_t v13 = (uint64_t)(v12);
	uint64_t v14 = (uint64_t)(v10);
	bool v15 = (v13 == v14);
	return v15;
}
static uint16_t mw_std_world_stz_modeZAt (void* in_Ptr_1) {
	int64_t v7 = RUNNING_OS;
	int64_t v8 = mw_std_prim_I64_ZToOS(v7);
	void* branch_Ptr_9;
	INT branch_Sizze_10;
	switch (v8) {
		case 2LL: { // Linux
			INT v11 = WRAP_I63(24LL);
			branch_Sizze_10 = v11;
			branch_Ptr_9 = in_Ptr_1;
		} break;
		case 1LL: { // Windows
			INT v12 = WRAP_I63(6LL);
			branch_Sizze_10 = v12;
			branch_Ptr_9 = in_Ptr_1;
		} break;
		case 3LL: { // Mac
			int64_t v13 = RUNNING_ARCH;
			int64_t v14 = mw_std_prim_I64_ZToArch(v13);
			int64_t v15 = 3LL /* ARM64 */;
			INT v16 = i64_to_int(v14);
			INT v17 = i64_to_int(v15);
			bool v18 = int_eq(v16, v17);
			void* branch_Ptr_19;
			INT branch_Sizze_20;
			if (v18) {
				INT v21 = WRAP_I63(4LL);
				branch_Sizze_20 = v21;
				branch_Ptr_19 = in_Ptr_1;
			} else {
				INT v22 = WRAP_I63(8LL);
				branch_Sizze_20 = v22;
				branch_Ptr_19 = in_Ptr_1;
			}
			branch_Sizze_10 = branch_Sizze_20;
			branch_Ptr_9 = branch_Ptr_19;
		} break;
		default: {
			INT v23 = WRAP_I63(8LL);
			branch_Sizze_10 = v23;
			branch_Ptr_9 = in_Ptr_1;
		} break;
	}
	int64_t v24 = int_to_i64(branch_Sizze_10);
	void* v25 = (void*)(v24 + (char*)branch_Ptr_9);
	uint16_t v26 = *(uint16_t*)v25;
	return v26;
}
static TUP* mw_argZ_parser_state_State_1_init (VAL in_a_1) {
	VAL v3 = mw_argZ_parser_parse_argvZ_toZ_str();
	INT v4 = WRAP_I63(0LL);
	STR* v5 = mw_std_prelude_unsafe_1_sp28(v4);
	TUP* v6 = mtw_argZ_parser_state_ArgvInfo_ArgvInfo(v3, v5);
	bool v7 = false;
	VAL v8 = MKI64(0LL /* None */);
	VAL v9 = MKI64(0LL /* None */);
	TUP* v10 = mtw_argZ_parser_state_CurrentArg_CurrentArg(v7, v8, v9);
	INT v11 = WRAP_I63(0LL);
	INT v12 = WRAP_I63(0LL);
	VAL v13 = MKI64(0LL /* None */);
	TUP* v14 = mtw_argZ_parser_state_State_1_State(in_a_1, v6, v10, v11, v12, v13);
	return v14;
}
static VAL mw_argZ_parser_state_State_1_argv (TUP* in_State_1) {
	TUP* v3 = value_tup(in_State_1->cells[1], 2);
	incref(MKTUP(v3, 2));
	decref(MKTUP(in_State_1, 6));
	VAL v4 = v3->cells[0];
	incref(v4);
	decref(MKTUP(v3, 2));
	return v4;
}
static STR* mw_argZ_parser_state_State_1_programZ_name (TUP* in_State_1) {
	TUP* v3 = value_tup(in_State_1->cells[1], 2);
	incref(MKTUP(v3, 2));
	decref(MKTUP(in_State_1, 6));
	STR* v4 = value_str(v3->cells[1]);
	incref(MKSTR(v4));
	decref(MKTUP(v3, 2));
	return v4;
}
static bool mw_argZ_parser_state_State_1_parsingZAsk (TUP* in_State_1) {
	TUP* v3 = value_tup(in_State_1->cells[2], 3);
	incref(MKTUP(v3, 3));
	decref(MKTUP(in_State_1, 6));
	bool v4 = value_bool(v3->cells[0]);
	decref(MKTUP(v3, 3));
	return v4;
}
static TUP* mw_argZ_parser_state_State_1_parsingZAskZBang (bool in_Bool_1, TUP* in_State_2) {
	incref(MKTUP(in_State_2, 6));
	TUP* v4 = value_tup(in_State_2->cells[2], 3);
	incref(MKTUP(v4, 3));
	decref(MKTUP(in_State_2, 6));
	VAL v5 = tup_replace(MKTUP(v4, 3), 0, MKBOOL(in_Bool_1));
	VAL v6 = tup_replace(MKTUP(in_State_2, 6), 2, v5);
	return value_tup(v6, 6);
}
static VAL mw_argZ_parser_state_State_1_optionZ_option (TUP* in_State_1) {
	TUP* v3 = value_tup(in_State_1->cells[2], 3);
	incref(MKTUP(v3, 3));
	decref(MKTUP(in_State_1, 6));
	VAL v4 = v3->cells[2];
	incref(v4);
	decref(MKTUP(v3, 3));
	return v4;
}
static TUP* mw_argZ_parser_state_State_1_optionZ_optionZBang (VAL in_Maybe_1, TUP* in_State_2) {
	incref(MKTUP(in_State_2, 6));
	TUP* v4 = value_tup(in_State_2->cells[2], 3);
	incref(MKTUP(v4, 3));
	decref(MKTUP(in_State_2, 6));
	VAL v5 = tup_replace(MKTUP(v4, 3), 2, in_Maybe_1);
	VAL v6 = tup_replace(MKTUP(in_State_2, 6), 2, v5);
	return value_tup(v6, 6);
}
static void mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop (TUP* in_ZPlusArgumentParser_1) {
	TUP* v2;
	TUP* v3;
	mtp_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser(in_ZPlusArgumentParser_1, &v2, &v3);
	decref(MKTUP(v2, 4));
	decref(MKTUP(v3, 6));
}
static VAL mw_argZ_parser_types_ZPlusArgumentParser_1_parser (TUP* in_ZPlusArgumentParser_1, TUP* *out_ZPlusArgumentParser_2) {
	TUP* v4 = value_tup(in_ZPlusArgumentParser_1->cells[0], 4);
	incref(MKTUP(v4, 4));
	VAL v5 = v4->cells[1];
	incref(v5);
	decref(MKTUP(v4, 4));
	*out_ZPlusArgumentParser_2 = in_ZPlusArgumentParser_1;
	return v5;
}
static bool mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk (VAL in_ArgpOptionType_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_ArgpOptionType_1)) {
		case 0LL: { // Short
			int64_t v4 = mtp_argZ_parser_types_ArgpOptionType_Short(in_ArgpOptionType_1);
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		default: {
			decref(in_ArgpOptionType_1);
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
	}
	return branch_Bool_3;
}
static void mw_argZ_parser_types_ArgumentParsingError_emitZThen (VAL in_ArgumentParsingError_1, STR* in_ZPlusStr_2, STR* *out_ZPlusStr_3) {
	STR* branch_ZPlusStr_4;
	switch (get_data_tag(in_ArgumentParsingError_1)) {
		case 1LL: { // MissingArg
			STR* v5 = mtp_argZ_parser_types_ArgumentParsingError_MissingArg(in_ArgumentParsingError_1);
			VAL v6 = MKI64(31LL /* FGRed */);
			STR* v7;
			mw_std_terminal_Sgr_emitZThen(v6, in_ZPlusStr_2, &v7);
			STR* v8;
			STRLIT(v8, "Missing argument: ", 18);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, v7, &v9);
			VAL v10 = MKI64(0LL /* Reset */);
			STR* v11;
			mw_std_terminal_Sgr_emitZThen(v10, v9, &v11);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v5, v11, &v12);
			branch_ZPlusStr_4 = v12;
		} break;
		case 0LL: { // MissingArgValue
			STR* v13;
			STRLIT(v13, "Missing associated value for flag option", 40);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, in_ZPlusStr_2, &v14);
			branch_ZPlusStr_4 = v14;
		} break;
		case 2LL: { // TooManyArgs
			STR* v15;
			STRLIT(v15, "Too many positional arguments passed", 36);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, in_ZPlusStr_2, &v16);
			branch_ZPlusStr_4 = v16;
		} break;
		case 3LL: { // TooFewArgs
			STR* v17;
			STRLIT(v17, "Too few positional arguments passed", 35);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, in_ZPlusStr_2, &v18);
			branch_ZPlusStr_4 = v18;
		} break;
		case 4LL: { // UnknownArg
			STR* v19;
			STRLIT(v19, "Got an unknown option", 21);
			STR* v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(v19, in_ZPlusStr_2, &v20);
			branch_ZPlusStr_4 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static STR* mw_argZ_parser_types_ZPlusArgumentParser_1_usage (TUP* in_ZPlusArgumentParser_1, TUP* *out_ZPlusArgumentParser_2) {
	STR* v4;
	STRLIT(v4, "", 0);
	VAL v5 = MKI64(1LL /* Bold */);
	STR* v6;
	mw_std_terminal_Sgr_emitZThen(v5, v4, &v6);
	STR* v7;
	STRLIT(v7, "Usage: ", 7);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	VAL v9 = MKI64(0LL /* Reset */);
	STR* v10;
	mw_std_terminal_Sgr_emitZThen(v9, v8, &v10);
	STR* v11;
	STRLIT(v11, "  ", 2);
	STR* v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
	TUP* v13 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
	incref(MKTUP(v13, 6));
	STR* v14 = mw_argZ_parser_state_State_1_programZ_name(v13);
	STR* v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(v14, v12, &v15);
	STR* v16;
	STRLIT(v16, " [options] ", 11);
	STR* v17;
	mw_std_str_ZPlusStr_pushZ_strZBang(v16, v15, &v17);
	TUP* v18 = value_tup(in_ZPlusArgumentParser_1->cells[0], 4);
	incref(MKTUP(v18, 4));
	VAL v19 = v18->cells[2];
	incref(v19);
	decref(MKTUP(v18, 4));
	STR* branch_ZPlusStr_20;
	VAL branch_z_x1_21;
	switch (get_data_tag(v19)) {
		case 1LL: { // Some
			VAL v22 = mtp_std_maybe_Maybe_1_Some(v19);
			STR* v23;
			mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v22), v17, &v23);
			branch_z_x1_21 = MKTUP(in_ZPlusArgumentParser_1, 2);
			branch_ZPlusStr_20 = v23;
		} break;
		case 0LL: { // None
			branch_z_x1_21 = MKTUP(in_ZPlusArgumentParser_1, 2);
			branch_ZPlusStr_20 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v24;
	STRLIT(v24, "\n\n", 2);
	STR* v25;
	mw_std_str_ZPlusStr_pushZ_strZBang(v24, branch_ZPlusStr_20, &v25);
	TUP* v26 = value_tup(VTUP(branch_z_x1_21)->cells[0], 4);
	incref(MKTUP(v26, 4));
	VAL v27 = v26->cells[0];
	incref(v27);
	decref(MKTUP(v26, 4));
	bool v28 = true;
	STR* v29 = v25;
	VAL v30 = branch_z_x1_21;
	VAL v31 = v27;
	bool v32 = v28;
	bool v33 = v28;
	while (v33) {
		STR* v34 = v29;
		VAL v35 = v30;
		VAL v36 = v31;
		bool v37 = v32;
		STR* branch_ZPlusStr_38;
		TUP* branch_ZPlusArgumentParser_39;
		VAL branch_List_40;
		bool branch_Bool_41;
		switch (get_data_tag(v36)) {
			case 1LL: { // Cons
				VAL v42;
				VAL v43 = mtp_std_list_List_1_Cons(v36, &v42);
				TUP* v44;
				STR* v45;
				mw_argZ_parser_types_ArgpOption_usageZThen(value_tup(v35, 2), v34, value_tup(v43, 5), &v44, &v45);
				bool v46 = true;
				branch_Bool_41 = v46;
				branch_List_40 = v42;
				branch_ZPlusArgumentParser_39 = v44;
				branch_ZPlusStr_38 = v45;
			} break;
			case 0LL: { // Nil
				VAL v47 = MKI64(0LL /* Nil */);
				bool v48 = false;
				branch_Bool_41 = v48;
				branch_List_40 = v47;
				branch_ZPlusArgumentParser_39 = value_tup(v35, 2);
				branch_ZPlusStr_38 = v34;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v33 = branch_Bool_41;
		v32 = branch_Bool_41;
		v31 = branch_List_40;
		v30 = MKTUP(branch_ZPlusArgumentParser_39, 2);
		v29 = branch_ZPlusStr_38;
	}
	decref(v31);
	STR* v49;
	STRLIT(v49, "\n", 1);
	STR* v50;
	mw_std_str_ZPlusStr_pushZ_strZBang(v49, v29, &v50);
	*out_ZPlusArgumentParser_2 = value_tup(v30, 2);
	return v50;
}
static void mw_argZ_parser_types_ArgpOption_usageZThen (TUP* in_ZPlusArgumentParser_1, STR* in_ZPlusStr_2, TUP* in_ArgpOption_3, TUP* *out_ZPlusArgumentParser_4, STR* *out_ZPlusStr_5) {
	STR* v6;
	STRLIT(v6, "  ", 2);
	STR* v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(v6, in_ZPlusStr_2, &v7);
	INT v8 = WRAP_I63(0LL);
	incref(MKTUP(in_ArgpOption_3, 5));
	VAL v9 = in_ArgpOption_3->cells[1];
	incref(v9);
	decref(MKTUP(in_ArgpOption_3, 5));
	TUP* branch_ZPlusArgumentParser_10;
	STR* branch_ZPlusStr_11;
	INT branch_Int_12;
	TUP* branch_ArgpOption_13;
	switch (get_data_tag(v9)) {
		case 0LL: { // Short
			int64_t v14 = mtp_argZ_parser_types_ArgpOptionType_Short(v9);
			int64_t v15 = 33LL /* B'!' */;
			int64_t v16 = 126LL /* B'~' */;
			INT v17 = i64_to_int(v15);
			uint64_t v18 = int_to_u64(v17);
			uint8_t v19 = (uint8_t)(v18);
			INT v20 = i64_to_int(v14);
			uint64_t v21 = int_to_u64(v20);
			uint8_t v22 = (uint8_t)(v21);
			uint64_t v23 = (uint64_t)(v22);
			uint32_t v24 = (uint32_t)(v23);
			uint64_t v25 = (uint64_t)(v19);
			uint32_t v26 = (uint32_t)(v25);
			uint64_t v27 = (uint64_t)(v26);
			uint64_t v28 = (uint64_t)(v24);
			bool v29 = (v27 <= v28);
			bool branch_Bool_30;
			if (v29) {
				INT v31 = i64_to_int(v14);
				uint64_t v32 = int_to_u64(v31);
				uint8_t v33 = (uint8_t)(v32);
				INT v34 = i64_to_int(v16);
				uint64_t v35 = int_to_u64(v34);
				uint8_t v36 = (uint8_t)(v35);
				uint64_t v37 = (uint64_t)(v36);
				uint32_t v38 = (uint32_t)(v37);
				uint64_t v39 = (uint64_t)(v33);
				uint32_t v40 = (uint32_t)(v39);
				uint64_t v41 = (uint64_t)(v40);
				uint64_t v42 = (uint64_t)(v38);
				bool v43 = (v41 <= v42);
				branch_Bool_30 = v43;
			} else {
				bool v44 = false;
				branch_Bool_30 = v44;
			}
			INT branch_Int_45;
			int64_t branch_Byte_46;
			STR* branch_ZPlusStr_47;
			if (branch_Bool_30) {
				INT v48 = WRAP_I63(2LL);
				INT v49 = int_add(v8, v48);
				STR* v50;
				STRLIT(v50, "-", 1);
				STR* v51;
				mw_std_str_ZPlusStr_pushZ_strZBang(v50, v7, &v51);
				STR* v52;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v14, v51, &v52);
				branch_ZPlusStr_47 = v52;
				branch_Byte_46 = v14;
				branch_Int_45 = v49;
			} else {
				branch_ZPlusStr_47 = v7;
				branch_Byte_46 = v14;
				branch_Int_45 = v8;
			}
			branch_ArgpOption_13 = in_ArgpOption_3;
			branch_Int_12 = branch_Int_45;
			branch_ZPlusStr_11 = branch_ZPlusStr_47;
			branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			decref(v9);
			branch_ArgpOption_13 = in_ArgpOption_3;
			branch_Int_12 = v8;
			branch_ZPlusStr_11 = v7;
			branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
		} break;
	}
	incref(MKTUP(branch_ArgpOption_13, 5));
	VAL v53 = branch_ArgpOption_13->cells[1];
	incref(v53);
	decref(MKTUP(branch_ArgpOption_13, 5));
	bool v54 = mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk(v53);
	TUP* branch_ArgpOption_55;
	bool branch_Bool_56;
	if (v54) {
		incref(MKTUP(branch_ArgpOption_13, 5));
		VAL v57 = branch_ArgpOption_13->cells[0];
		incref(v57);
		decref(MKTUP(branch_ArgpOption_13, 5));
		int64_t v58 = get_data_tag(v57);
		decref(v57);
		INT v59 = WRAP_I63(0LL);
		INT v60 = i64_to_int(v58);
		bool v61 = int_eq(v60, v59);
		bool v62 = !v61;
		branch_Bool_56 = v62;
		branch_ArgpOption_55 = branch_ArgpOption_13;
	} else {
		bool v63 = false;
		branch_Bool_56 = v63;
		branch_ArgpOption_55 = branch_ArgpOption_13;
	}
	STR* branch_ZPlusStr_64;
	INT branch_Int_65;
	if (branch_Bool_56) {
		STR* v66;
		STRLIT(v66, ", ", 2);
		STR* v67;
		mw_std_str_ZPlusStr_pushZ_strZBang(v66, branch_ZPlusStr_11, &v67);
		INT v68 = WRAP_I63(2LL);
		INT v69 = int_add(branch_Int_12, v68);
		branch_Int_65 = v69;
		branch_ZPlusStr_64 = v67;
	} else {
		branch_Int_65 = branch_Int_12;
		branch_ZPlusStr_64 = branch_ZPlusStr_11;
	}
	incref(MKTUP(branch_ArgpOption_55, 5));
	VAL v70 = branch_ArgpOption_55->cells[0];
	incref(v70);
	decref(MKTUP(branch_ArgpOption_55, 5));
	INT branch_Int_71;
	STR* branch_ZPlusStr_72;
	TUP* branch_ArgpOption_73;
	switch (get_data_tag(v70)) {
		case 1LL: { // Some
			VAL v74 = mtp_std_maybe_Maybe_1_Some(v70);
			incref(v74);
			uint64_t v75 = str_size(value_str(v74));
			INT v76 = u64_to_int(v75);
			INT v77 = WRAP_I63(2LL);
			INT v78 = int_add(branch_Int_65, v77);
			INT v79 = int_add(v76, v78);
			STR* v80;
			STRLIT(v80, "--", 2);
			STR* v81;
			mw_std_str_ZPlusStr_pushZ_strZBang(v80, branch_ZPlusStr_64, &v81);
			STR* v82;
			mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v74), v81, &v82);
			incref(MKTUP(branch_ArgpOption_55, 5));
			VAL v83 = branch_ArgpOption_55->cells[2];
			incref(v83);
			decref(MKTUP(branch_ArgpOption_55, 5));
			INT branch_Int_84;
			STR* branch_ZPlusStr_85;
			switch (get_data_tag(v83)) {
				case 1LL: { // Some
					VAL v86 = mtp_std_maybe_Maybe_1_Some(v83);
					incref(v86);
					uint64_t v87 = str_size(value_str(v86));
					INT v88 = u64_to_int(v87);
					INT v89 = WRAP_I63(1LL);
					INT v90 = int_add(v79, v89);
					INT v91 = int_add(v88, v90);
					STR* v92;
					STRLIT(v92, " ", 1);
					STR* v93;
					mw_std_str_ZPlusStr_pushZ_strZBang(v92, v82, &v93);
					STR* v94;
					mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v86), v93, &v94);
					branch_ZPlusStr_85 = v94;
					branch_Int_84 = v91;
				} break;
				case 0LL: { // None
					branch_ZPlusStr_85 = v82;
					branch_Int_84 = v79;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ArgpOption_73 = branch_ArgpOption_55;
			branch_ZPlusStr_72 = branch_ZPlusStr_85;
			branch_Int_71 = branch_Int_84;
		} break;
		case 0LL: { // None
			branch_ArgpOption_73 = branch_ArgpOption_55;
			branch_ZPlusStr_72 = branch_ZPlusStr_64;
			branch_Int_71 = branch_Int_65;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKTUP(branch_ArgpOption_73, 5));
	VAL v95 = branch_ArgpOption_73->cells[3];
	incref(v95);
	decref(MKTUP(branch_ArgpOption_73, 5));
	INT branch_Int_96;
	TUP* branch_ZPlusArgumentParser_97;
	STR* branch_ZPlusStr_98;
	switch (get_data_tag(v95)) {
		case 1LL: { // Some
			VAL v99 = mtp_std_maybe_Maybe_1_Some(v95);
			incref(MKINT(branch_Int_71));
			TUP* v100 = value_tup(branch_ZPlusArgumentParser_10->cells[1], 6);
			incref(MKTUP(v100, 6));
			INT v101 = value_int(v100->cells[4]);
			incref(MKINT(v101));
			decref(MKTUP(v100, 6));
			incref(MKINT(branch_Int_71));
			incref(MKINT(v101));
			bool v102 = int_lt(branch_Int_71, v101);
			STR* branch_Str_103;
			INT branch_Int_104;
			STR* branch_ZPlusStr_105;
			TUP* branch_ZPlusArgumentParser_106;
			if (v102) {
				INT v107 = int_sub(v101, branch_Int_71);
				INT v108 = WRAP_I63(0LL);
				VAL v109 = mw_std_prim_Int_range(v108, v107);
				bool v110 = true;
				STR* v111 = branch_ZPlusStr_72;
				TUP* v112 = branch_ZPlusArgumentParser_10;
				VAL v113 = v109;
				bool v114 = v110;
				bool v115 = v110;
				while (v115) {
					STR* v116 = v111;
					TUP* v117 = v112;
					VAL v118 = v113;
					bool v119 = v114;
					STR* branch_ZPlusStr_120;
					VAL branch_z_x1_121;
					VAL branch_List_122;
					bool branch_Bool_123;
					switch (get_data_tag(v118)) {
						case 1LL: { // Cons
							VAL v124;
							VAL v125 = mtp_std_list_List_1_Cons(v118, &v124);
							decref(v125);
							STR* v126;
							STRLIT(v126, " ", 1);
							STR* v127;
							mw_std_str_ZPlusStr_pushZ_strZBang(v126, v116, &v127);
							bool v128 = true;
							branch_Bool_123 = v128;
							branch_List_122 = v124;
							branch_z_x1_121 = MKTUP(v117, 2);
							branch_ZPlusStr_120 = v127;
						} break;
						case 0LL: { // Nil
							VAL v129 = MKI64(0LL /* Nil */);
							bool v130 = false;
							branch_Bool_123 = v130;
							branch_List_122 = v129;
							branch_z_x1_121 = MKTUP(v117, 2);
							branch_ZPlusStr_120 = v116;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v115 = branch_Bool_123;
					v114 = branch_Bool_123;
					v113 = branch_List_122;
					v112 = value_tup(branch_z_x1_121, 2);
					v111 = branch_ZPlusStr_120;
				}
				decref(v113);
				branch_ZPlusArgumentParser_106 = v112;
				branch_ZPlusStr_105 = v111;
				branch_Int_104 = branch_Int_71;
				branch_Str_103 = value_str(v99);
			} else {
				decref(MKINT(v101));
				decref(MKINT(branch_Int_71));
				branch_ZPlusArgumentParser_106 = branch_ZPlusArgumentParser_10;
				branch_ZPlusStr_105 = branch_ZPlusStr_72;
				branch_Int_104 = branch_Int_71;
				branch_Str_103 = value_str(v99);
			}
			STR* v131;
			STRLIT(v131, "    ", 4);
			STR* v132;
			mw_std_str_ZPlusStr_pushZ_strZBang(v131, branch_ZPlusStr_105, &v132);
			STR* v133;
			mw_std_str_ZPlusStr_pushZ_strZBang(branch_Str_103, v132, &v133);
			branch_ZPlusStr_98 = v133;
			branch_ZPlusArgumentParser_97 = branch_ZPlusArgumentParser_106;
			branch_Int_96 = branch_Int_104;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_98 = branch_ZPlusStr_72;
			branch_ZPlusArgumentParser_97 = branch_ZPlusArgumentParser_10;
			branch_Int_96 = branch_Int_71;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKINT(branch_Int_96));
	STR* v134;
	STRLIT(v134, "\n", 1);
	STR* v135;
	mw_std_str_ZPlusStr_pushZ_strZBang(v134, branch_ZPlusStr_98, &v135);
	decref(MKTUP(branch_ArgpOption_73, 5));
	*out_ZPlusStr_5 = v135;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_97;
}
static TUP* mw_argZ_parser_parse_checkZ_shortZ_flag (TUP* in_ZPlusArgumentParser_1, TUP* in_ArgpOption_2, STR* in_Str_3, TUP* *out_ZPlusArgumentParser_4, bool *out_Bool_6) {
	incref(MKTUP(in_ArgpOption_2, 5));
	VAL v7 = in_ArgpOption_2->cells[1];
	incref(v7);
	decref(MKTUP(in_ArgpOption_2, 5));
	TUP* branch_ZPlusArgumentParser_8;
	TUP* branch_ArgpOption_9;
	bool branch_Bool_10;
	switch (get_data_tag(v7)) {
		case 0LL: { // Short
			int64_t v11 = mtp_argZ_parser_types_ArgpOptionType_Short(v7);
			INT v12 = WRAP_I63(0LL);
			int64_t v13 = mw_std_prim_Str_byteZAt(v12, in_Str_3);
			INT v14 = i64_to_int(v11);
			uint64_t v15 = int_to_u64(v14);
			uint8_t v16 = (uint8_t)(v15);
			INT v17 = i64_to_int(v13);
			uint64_t v18 = int_to_u64(v17);
			uint8_t v19 = (uint8_t)(v18);
			uint64_t v20 = (uint64_t)(v19);
			uint32_t v21 = (uint32_t)(v20);
			uint64_t v22 = (uint64_t)(v16);
			uint32_t v23 = (uint32_t)(v22);
			uint64_t v24 = (uint64_t)(v23);
			uint64_t v25 = (uint64_t)(v21);
			bool v26 = (v24 == v25);
			branch_Bool_10 = v26;
			branch_ArgpOption_9 = in_ArgpOption_2;
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			decref(v7);
			decref(MKSTR(in_Str_3));
			bool v27 = false;
			branch_Bool_10 = v27;
			branch_ArgpOption_9 = in_ArgpOption_2;
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
	}
	*out_Bool_6 = branch_Bool_10;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_8;
	return branch_ArgpOption_9;
}
static TUP* mw_argZ_parser_parse_checkZ_longZ_flag (TUP* in_ZPlusArgumentParser_1, TUP* in_ArgpOption_2, STR* in_Str_3, TUP* *out_ZPlusArgumentParser_4, bool *out_Bool_6) {
	incref(MKTUP(in_ArgpOption_2, 5));
	VAL v7 = in_ArgpOption_2->cells[0];
	incref(v7);
	decref(MKTUP(in_ArgpOption_2, 5));
	TUP* branch_ZPlusArgumentParser_8;
	TUP* branch_ArgpOption_9;
	bool branch_Bool_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			bool v12 = (str_cmp(in_Str_3, value_str(v11)) == 0);
			branch_Bool_10 = v12;
			branch_ArgpOption_9 = in_ArgpOption_2;
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		case 0LL: { // None
			decref(MKSTR(in_Str_3));
			bool v13 = false;
			branch_Bool_10 = v13;
			branch_ArgpOption_9 = in_ArgpOption_2;
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Bool_6 = branch_Bool_10;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_8;
	return branch_ArgpOption_9;
}
static VAL mw_argZ_parser_parse_parseZ_flags (TUP* in_ZPlusArgumentParser_1, STR* in_Str_2, TUP* *out_ZPlusArgumentParser_3) {
	incref(MKSTR(in_Str_2));
	uint64_t v5 = str_size(in_Str_2);
	INT v6 = u64_to_int(v5);
	INT v7 = WRAP_I63(2LL);
	bool v8 = int_le(v7, v6);
	STR* branch_Str_9;
	bool branch_Bool_10;
	if (v8) {
		INT v11 = WRAP_I63(1LL);
		incref(MKSTR(in_Str_2));
		int64_t v12 = mw_std_prim_Str_byteZAt(v11, in_Str_2);
		int64_t v13 = 45LL /* B'-' */;
		INT v14 = i64_to_int(v12);
		uint64_t v15 = int_to_u64(v14);
		uint8_t v16 = (uint8_t)(v15);
		INT v17 = i64_to_int(v13);
		uint64_t v18 = int_to_u64(v17);
		uint8_t v19 = (uint8_t)(v18);
		uint64_t v20 = (uint64_t)(v19);
		uint32_t v21 = (uint32_t)(v20);
		uint64_t v22 = (uint64_t)(v16);
		uint32_t v23 = (uint32_t)(v22);
		uint64_t v24 = (uint64_t)(v23);
		uint64_t v25 = (uint64_t)(v21);
		bool v26 = (v24 == v25);
		branch_Bool_10 = v26;
		branch_Str_9 = in_Str_2;
	} else {
		bool v27 = false;
		branch_Bool_10 = v27;
		branch_Str_9 = in_Str_2;
	}
	STR* branch_Str_28;
	TUP* branch_ZPlusArgumentParser_29;
	VAL branch_Maybe_30;
	if (branch_Bool_10) {
		INT v31 = WRAP_I63(2LL);
		incref(MKSTR(branch_Str_9));
		STR* v32 = mw_std_prelude_unsafe_1_sp27(v31, branch_Str_9);
		TUP* v33 = value_tup(in_ZPlusArgumentParser_1->cells[0], 4);
		incref(MKTUP(v33, 4));
		VAL v34 = v33->cells[0];
		incref(v34);
		decref(MKTUP(v33, 4));
		VAL v35 = MKI64(0LL /* None */);
		bool v36 = true;
		TUP* v37 = in_ZPlusArgumentParser_1;
		STR* v38 = v32;
		VAL v39 = v35;
		VAL v40 = v34;
		bool v41 = v36;
		bool v42 = v36;
		while (v42) {
			TUP* v43 = v37;
			STR* v44 = v38;
			VAL v45 = v39;
			VAL v46 = v40;
			bool v47 = v41;
			VAL v48;
			VAL v49 = mw_std_list_List_1_uncons(v46, &v48);
			STR* branch_Str_50;
			TUP* branch_ZPlusArgumentParser_51;
			VAL branch_Maybe_52;
			VAL branch_List_53;
			bool branch_Bool_54;
			switch (get_data_tag(v49)) {
				case 1LL: { // Some
					VAL v55 = mtp_std_maybe_Maybe_1_Some(v49);
					incref(v55);
					incref(MKSTR(v44));
					TUP* v56;
					bool v57;
					TUP* v58 = mw_argZ_parser_parse_checkZ_longZ_flag(v43, value_tup(v55, 5), v44, &v56, &v57);
					decref(MKTUP(v58, 5));
					STR* branch_Str_59;
					TUP* branch_ZPlusArgumentParser_60;
					VAL branch_Maybe_61;
					if (v57) {
						VAL v62 = mtw_std_maybe_Maybe_1_Some(v55);
						branch_Maybe_61 = v62;
						branch_ZPlusArgumentParser_60 = v56;
						branch_Str_59 = v44;
					} else {
						decref(v55);
						VAL v63 = MKI64(0LL /* None */);
						branch_Maybe_61 = v63;
						branch_ZPlusArgumentParser_60 = v56;
						branch_Str_59 = v44;
					}
					STR* branch_Str_64;
					TUP* branch_ZPlusArgumentParser_65;
					VAL branch_Maybe_66;
					VAL branch_List_67;
					switch (get_data_tag(branch_Maybe_61)) {
						case 0LL: { // None
							branch_List_67 = v48;
							branch_Maybe_66 = v45;
							branch_ZPlusArgumentParser_65 = branch_ZPlusArgumentParser_60;
							branch_Str_64 = branch_Str_59;
						} break;
						default: {
							decref(v48);
							decref(v45);
							VAL v68 = MKI64(0LL /* Nil */);
							branch_List_67 = v68;
							branch_Maybe_66 = branch_Maybe_61;
							branch_ZPlusArgumentParser_65 = branch_ZPlusArgumentParser_60;
							branch_Str_64 = branch_Str_59;
						} break;
					}
					bool v69 = true;
					branch_Bool_54 = v69;
					branch_List_53 = branch_List_67;
					branch_Maybe_52 = branch_Maybe_66;
					branch_ZPlusArgumentParser_51 = branch_ZPlusArgumentParser_65;
					branch_Str_50 = branch_Str_64;
				} break;
				case 0LL: { // None
					bool v70 = false;
					branch_Bool_54 = v70;
					branch_List_53 = v48;
					branch_Maybe_52 = v45;
					branch_ZPlusArgumentParser_51 = v43;
					branch_Str_50 = v44;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v42 = branch_Bool_54;
			v41 = branch_Bool_54;
			v40 = branch_List_53;
			v39 = branch_Maybe_52;
			v38 = branch_Str_50;
			v37 = branch_ZPlusArgumentParser_51;
		}
		decref(v40);
		decref(MKSTR(v38));
		TUP* branch_ZPlusArgumentParser_71;
		VAL branch_Maybe_72;
		switch (get_data_tag(v39)) {
			case 1LL: { // Some
				VAL v73 = mtp_std_maybe_Maybe_1_Some(v39);
				incref(v73);
				VAL v74 = VTUP(v73)->cells[2];
				incref(v74);
				decref(v73);
				TUP* branch_ZPlusArgumentParser_75;
				switch (get_data_tag(v74)) {
					case 1LL: { // Some
						VAL v76 = mtp_std_maybe_Maybe_1_Some(v74);
						bool v77 = true;
						TUP* v78 = value_tup(v37->cells[1], 6);
						incref(MKTUP(v78, 6));
						TUP* v79 = mw_argZ_parser_state_State_1_parsingZAskZBang(v77, v78);
						TUP* v80 = value_tup(v37->cells[1], 6);
						decref(MKTUP(v80, 6));
						v37->cells[1] = MKTUP(v79, 6);
						decref(v76);
						VAL v81 = mtw_std_maybe_Maybe_1_Some(v73);
						TUP* v82 = value_tup(v37->cells[1], 6);
						incref(MKTUP(v82, 6));
						TUP* v83 = mw_argZ_parser_state_State_1_optionZ_optionZBang(v81, v82);
						TUP* v84 = value_tup(v37->cells[1], 6);
						decref(MKTUP(v84, 6));
						v37->cells[1] = MKTUP(v83, 6);
						branch_ZPlusArgumentParser_75 = v37;
					} break;
					case 0LL: { // None
						VAL v85 = VTUP(v73)->cells[1];
						incref(v85);
						decref(v73);
						TUP* v86 = value_tup(v37->cells[1], 6);
						incref(MKTUP(v86, 6));
						VAL v87 = v86->cells[0];
						incref(v87);
						decref(MKTUP(v86, 6));
						VAL v88 = MKI64(0LL /* None */);
						TUP* v89;
						VAL v90 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(v37, &v89);
						push_value(v87);
						push_value(v88);
						push_value(v85);
						push_resource(MKTUP(v89, 2));
						run_value(v90);
						TUP* r91 = value_tup(pop_resource(), 2);
						TUP* v92 = value_tup(r91->cells[1], 6);
						incref(MKTUP(v92, 6));
						VAL v93 = pop_value();
						VAL v94 = tup_replace(MKTUP(v92, 6), 0, v93);
						TUP* v95 = value_tup(r91->cells[1], 6);
						decref(MKTUP(v95, 6));
						r91->cells[1] = v94;
						branch_ZPlusArgumentParser_75 = r91;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v96 = MKI64(0LL /* None */);
				branch_Maybe_72 = v96;
				branch_ZPlusArgumentParser_71 = branch_ZPlusArgumentParser_75;
			} break;
			case 0LL: { // None
				VAL v97 = MKI64(4LL /* UnknownArg */);
				VAL v98 = mtw_std_maybe_Maybe_1_Some(v97);
				branch_Maybe_72 = v98;
				branch_ZPlusArgumentParser_71 = v37;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Maybe_30 = branch_Maybe_72;
		branch_ZPlusArgumentParser_29 = branch_ZPlusArgumentParser_71;
		branch_Str_28 = branch_Str_9;
	} else {
		INT v99 = WRAP_I63(1LL);
		incref(MKSTR(branch_Str_9));
		STR* v100 = mw_std_prelude_unsafe_1_sp27(v99, branch_Str_9);
		TUP* v101 = value_tup(in_ZPlusArgumentParser_1->cells[0], 4);
		incref(MKTUP(v101, 4));
		VAL v102 = v101->cells[0];
		incref(v102);
		decref(MKTUP(v101, 4));
		VAL v103 = MKI64(0LL /* None */);
		bool v104 = true;
		TUP* v105 = in_ZPlusArgumentParser_1;
		STR* v106 = v100;
		VAL v107 = v103;
		VAL v108 = v102;
		bool v109 = v104;
		bool v110 = v104;
		while (v110) {
			TUP* v111 = v105;
			STR* v112 = v106;
			VAL v113 = v107;
			VAL v114 = v108;
			bool v115 = v109;
			VAL v116;
			VAL v117 = mw_std_list_List_1_uncons(v114, &v116);
			STR* branch_Str_118;
			TUP* branch_ZPlusArgumentParser_119;
			VAL branch_Maybe_120;
			VAL branch_List_121;
			bool branch_Bool_122;
			switch (get_data_tag(v117)) {
				case 1LL: { // Some
					VAL v123 = mtp_std_maybe_Maybe_1_Some(v117);
					incref(v123);
					incref(MKSTR(v112));
					TUP* v124;
					bool v125;
					TUP* v126 = mw_argZ_parser_parse_checkZ_shortZ_flag(v111, value_tup(v123, 5), v112, &v124, &v125);
					decref(MKTUP(v126, 5));
					STR* branch_Str_127;
					TUP* branch_ZPlusArgumentParser_128;
					VAL branch_Maybe_129;
					if (v125) {
						VAL v130 = mtw_std_maybe_Maybe_1_Some(v123);
						branch_Maybe_129 = v130;
						branch_ZPlusArgumentParser_128 = v124;
						branch_Str_127 = v112;
					} else {
						decref(v123);
						VAL v131 = MKI64(0LL /* None */);
						branch_Maybe_129 = v131;
						branch_ZPlusArgumentParser_128 = v124;
						branch_Str_127 = v112;
					}
					STR* branch_Str_132;
					TUP* branch_ZPlusArgumentParser_133;
					VAL branch_Maybe_134;
					VAL branch_List_135;
					switch (get_data_tag(branch_Maybe_129)) {
						case 0LL: { // None
							branch_List_135 = v116;
							branch_Maybe_134 = v113;
							branch_ZPlusArgumentParser_133 = branch_ZPlusArgumentParser_128;
							branch_Str_132 = branch_Str_127;
						} break;
						default: {
							decref(v116);
							decref(v113);
							VAL v136 = MKI64(0LL /* Nil */);
							branch_List_135 = v136;
							branch_Maybe_134 = branch_Maybe_129;
							branch_ZPlusArgumentParser_133 = branch_ZPlusArgumentParser_128;
							branch_Str_132 = branch_Str_127;
						} break;
					}
					bool v137 = true;
					branch_Bool_122 = v137;
					branch_List_121 = branch_List_135;
					branch_Maybe_120 = branch_Maybe_134;
					branch_ZPlusArgumentParser_119 = branch_ZPlusArgumentParser_133;
					branch_Str_118 = branch_Str_132;
				} break;
				case 0LL: { // None
					bool v138 = false;
					branch_Bool_122 = v138;
					branch_List_121 = v116;
					branch_Maybe_120 = v113;
					branch_ZPlusArgumentParser_119 = v111;
					branch_Str_118 = v112;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v110 = branch_Bool_122;
			v109 = branch_Bool_122;
			v108 = branch_List_121;
			v107 = branch_Maybe_120;
			v106 = branch_Str_118;
			v105 = branch_ZPlusArgumentParser_119;
		}
		decref(v108);
		decref(MKSTR(v106));
		TUP* branch_ZPlusArgumentParser_139;
		VAL branch_Maybe_140;
		switch (get_data_tag(v107)) {
			case 1LL: { // Some
				VAL v141 = mtp_std_maybe_Maybe_1_Some(v107);
				incref(v141);
				VAL v142 = VTUP(v141)->cells[2];
				incref(v142);
				decref(v141);
				TUP* branch_ZPlusArgumentParser_143;
				switch (get_data_tag(v142)) {
					case 1LL: { // Some
						VAL v144 = mtp_std_maybe_Maybe_1_Some(v142);
						bool v145 = true;
						TUP* v146 = value_tup(v105->cells[1], 6);
						incref(MKTUP(v146, 6));
						TUP* v147 = mw_argZ_parser_state_State_1_parsingZAskZBang(v145, v146);
						TUP* v148 = value_tup(v105->cells[1], 6);
						decref(MKTUP(v148, 6));
						v105->cells[1] = MKTUP(v147, 6);
						decref(v144);
						VAL v149 = mtw_std_maybe_Maybe_1_Some(v141);
						TUP* v150 = value_tup(v105->cells[1], 6);
						incref(MKTUP(v150, 6));
						TUP* v151 = mw_argZ_parser_state_State_1_optionZ_optionZBang(v149, v150);
						TUP* v152 = value_tup(v105->cells[1], 6);
						decref(MKTUP(v152, 6));
						v105->cells[1] = MKTUP(v151, 6);
						branch_ZPlusArgumentParser_143 = v105;
					} break;
					case 0LL: { // None
						VAL v153 = VTUP(v141)->cells[1];
						incref(v153);
						decref(v141);
						TUP* v154 = value_tup(v105->cells[1], 6);
						incref(MKTUP(v154, 6));
						VAL v155 = v154->cells[0];
						incref(v155);
						decref(MKTUP(v154, 6));
						VAL v156 = MKI64(0LL /* None */);
						TUP* v157;
						VAL v158 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(v105, &v157);
						push_value(v155);
						push_value(v156);
						push_value(v153);
						push_resource(MKTUP(v157, 2));
						run_value(v158);
						TUP* r159 = value_tup(pop_resource(), 2);
						TUP* v160 = value_tup(r159->cells[1], 6);
						incref(MKTUP(v160, 6));
						VAL v161 = pop_value();
						VAL v162 = tup_replace(MKTUP(v160, 6), 0, v161);
						TUP* v163 = value_tup(r159->cells[1], 6);
						decref(MKTUP(v163, 6));
						r159->cells[1] = v162;
						branch_ZPlusArgumentParser_143 = r159;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v164 = MKI64(0LL /* None */);
				branch_Maybe_140 = v164;
				branch_ZPlusArgumentParser_139 = branch_ZPlusArgumentParser_143;
			} break;
			case 0LL: { // None
				VAL v165 = MKI64(4LL /* UnknownArg */);
				VAL v166 = mtw_std_maybe_Maybe_1_Some(v165);
				branch_Maybe_140 = v166;
				branch_ZPlusArgumentParser_139 = v105;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Maybe_30 = branch_Maybe_140;
		branch_ZPlusArgumentParser_29 = branch_ZPlusArgumentParser_139;
		branch_Str_28 = branch_Str_9;
	}
	decref(MKSTR(branch_Str_28));
	*out_ZPlusArgumentParser_3 = branch_ZPlusArgumentParser_29;
	return branch_Maybe_30;
}
static VAL mw_argZ_parser_parse_doZ_positionalZ_option (TUP* in_ZPlusArgumentParser_1, STR* in_Str_2, TUP* *out_ZPlusArgumentParser_3) {
	TUP* v5 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
	incref(MKTUP(v5, 6));
	VAL v6 = v5->cells[0];
	incref(v6);
	decref(MKTUP(v5, 6));
	VAL v7 = mtw_std_maybe_Maybe_1_Some(MKSTR(in_Str_2));
	VAL v8 = MKI64(2LL /* Positional */);
	TUP* v9;
	VAL v10 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(in_ZPlusArgumentParser_1, &v9);
	push_value(v6);
	push_value(v7);
	push_value(v8);
	push_resource(MKTUP(v9, 2));
	run_value(v10);
	TUP* r11 = value_tup(pop_resource(), 2);
	TUP* v12 = value_tup(r11->cells[1], 6);
	incref(MKTUP(v12, 6));
	VAL v13 = pop_value();
	VAL v14 = tup_replace(MKTUP(v12, 6), 0, v13);
	TUP* v15 = value_tup(r11->cells[1], 6);
	decref(MKTUP(v15, 6));
	r11->cells[1] = v14;
	VAL v16 = MKI64(0LL /* None */);
	TUP* v17 = value_tup(r11->cells[1], 6);
	incref(MKTUP(v17, 6));
	INT v18 = value_int(v17->cells[3]);
	incref(MKINT(v18));
	decref(MKTUP(v17, 6));
	INT v19 = WRAP_I63(1LL);
	INT v20 = int_add(v18, v19);
	TUP* v21 = value_tup(r11->cells[1], 6);
	incref(MKTUP(v21, 6));
	VAL v22 = tup_replace(MKTUP(v21, 6), 3, MKINT(v20));
	TUP* v23 = value_tup(r11->cells[1], 6);
	decref(MKTUP(v23, 6));
	r11->cells[1] = v22;
	*out_ZPlusArgumentParser_3 = r11;
	return v16;
}
static VAL mw_argZ_parser_parse_parseZ_args (VAL in_a_1, TUP* in_ArgumentParser_2) {
	TUP* v4 = mw_argZ_parser_state_State_1_init(in_a_1);
	TUP* v5;
	mtw_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser(in_ArgumentParser_2, v4, &v5);
	TUP* v6 = value_tup(v5->cells[0], 4);
	incref(MKTUP(v6, 4));
	VAL v7 = v6->cells[0];
	incref(v7);
	decref(MKTUP(v6, 4));
	bool v8 = true;
	TUP* v9 = v5;
	VAL v10 = v7;
	bool v11 = v8;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		VAL v14 = v10;
		bool v15 = v11;
		TUP* branch_ZPlusArgumentParser_16;
		VAL branch_List_17;
		bool branch_Bool_18;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v19;
				VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
				INT v21 = WRAP_I63(0LL);
				incref(v20);
				VAL v22 = VTUP(v20)->cells[1];
				incref(v22);
				decref(v20);
				TUP* branch_ZPlusArgumentParser_23;
				TUP* branch_ArgpOption_24;
				INT branch_Int_25;
				switch (get_data_tag(v22)) {
					case 0LL: { // Short
						int64_t v26 = mtp_argZ_parser_types_ArgpOptionType_Short(v22);
						INT v27 = WRAP_I63(2LL);
						INT v28 = int_add(v21, v27);
						branch_Int_25 = v28;
						branch_ArgpOption_24 = value_tup(v20, 5);
						branch_ZPlusArgumentParser_23 = v13;
					} break;
					default: {
						decref(v22);
						branch_Int_25 = v21;
						branch_ArgpOption_24 = value_tup(v20, 5);
						branch_ZPlusArgumentParser_23 = v13;
					} break;
				}
				incref(MKTUP(branch_ArgpOption_24, 5));
				VAL v29 = branch_ArgpOption_24->cells[0];
				incref(v29);
				decref(MKTUP(branch_ArgpOption_24, 5));
				INT branch_Int_30;
				switch (get_data_tag(v29)) {
					case 1LL: { // Some
						VAL v31 = mtp_std_maybe_Maybe_1_Some(v29);
						uint64_t v32 = str_size(value_str(v31));
						INT v33 = u64_to_int(v32);
						INT v34 = WRAP_I63(3LL);
						INT v35 = int_add(branch_Int_25, v34);
						INT v36 = int_add(v33, v35);
						branch_Int_30 = v36;
					} break;
					case 0LL: { // None
						branch_Int_30 = branch_Int_25;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v37 = branch_ArgpOption_24->cells[2];
				incref(v37);
				decref(MKTUP(branch_ArgpOption_24, 5));
				INT branch_Int_38;
				switch (get_data_tag(v37)) {
					case 1LL: { // Some
						VAL v39 = mtp_std_maybe_Maybe_1_Some(v37);
						uint64_t v40 = str_size(value_str(v39));
						INT v41 = u64_to_int(v40);
						INT v42 = WRAP_I63(1LL);
						INT v43 = int_add(branch_Int_30, v42);
						INT v44 = int_add(v41, v43);
						branch_Int_38 = v44;
					} break;
					case 0LL: { // None
						branch_Int_38 = branch_Int_30;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				incref(MKINT(branch_Int_38));
				TUP* v45 = value_tup(branch_ZPlusArgumentParser_23->cells[1], 6);
				incref(MKTUP(v45, 6));
				INT v46 = value_int(v45->cells[4]);
				incref(MKINT(v46));
				decref(MKTUP(v45, 6));
				bool v47 = int_lt(v46, branch_Int_38);
				TUP* branch_ZPlusArgumentParser_48;
				if (v47) {
					TUP* v49 = value_tup(branch_ZPlusArgumentParser_23->cells[1], 6);
					incref(MKTUP(v49, 6));
					VAL v50 = tup_replace(MKTUP(v49, 6), 4, MKINT(branch_Int_38));
					TUP* v51 = value_tup(branch_ZPlusArgumentParser_23->cells[1], 6);
					decref(MKTUP(v51, 6));
					branch_ZPlusArgumentParser_23->cells[1] = v50;
					branch_ZPlusArgumentParser_48 = branch_ZPlusArgumentParser_23;
				} else {
					decref(MKINT(branch_Int_38));
					branch_ZPlusArgumentParser_48 = branch_ZPlusArgumentParser_23;
				}
				bool v52 = true;
				branch_Bool_18 = v52;
				branch_List_17 = v19;
				branch_ZPlusArgumentParser_16 = branch_ZPlusArgumentParser_48;
			} break;
			case 0LL: { // Nil
				VAL v53 = MKI64(0LL /* Nil */);
				bool v54 = false;
				branch_Bool_18 = v54;
				branch_List_17 = v53;
				branch_ZPlusArgumentParser_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_18;
		v11 = branch_Bool_18;
		v10 = branch_List_17;
		v9 = branch_ZPlusArgumentParser_16;
	}
	decref(v10);
	TUP* v55 = value_tup(v9->cells[1], 6);
	incref(MKTUP(v55, 6));
	VAL v56 = mw_argZ_parser_state_State_1_argv(v55);
	bool v57 = true;
	TUP* v58 = v9;
	VAL v59 = v56;
	bool v60 = v57;
	bool v61 = v57;
	while (v61) {
		TUP* v62 = v58;
		VAL v63 = v59;
		bool v64 = v60;
		TUP* branch_ZPlusArgumentParser_65;
		VAL branch_List_66;
		bool branch_Bool_67;
		switch (get_data_tag(v63)) {
			case 1LL: { // Cons
				VAL v68;
				VAL v69 = mtp_std_list_List_1_Cons(v63, &v68);
				incref(v69);
				uint64_t v70 = str_size(value_str(v69));
				INT v71 = u64_to_int(v70);
				INT v72 = WRAP_I63(1LL);
				bool v73 = int_lt(v72, v71);
				TUP* branch_ZPlusArgumentParser_74;
				VAL branch_Maybe_75;
				if (v73) {
					INT v76 = WRAP_I63(0LL);
					incref(v69);
					int64_t v77 = mw_std_prim_Str_byteZAt(v76, value_str(v69));
					int64_t v78 = 45LL /* B'-' */;
					INT v79 = i64_to_int(v77);
					uint64_t v80 = int_to_u64(v79);
					uint8_t v81 = (uint8_t)(v80);
					INT v82 = i64_to_int(v78);
					uint64_t v83 = int_to_u64(v82);
					uint8_t v84 = (uint8_t)(v83);
					uint64_t v85 = (uint64_t)(v84);
					uint32_t v86 = (uint32_t)(v85);
					uint64_t v87 = (uint64_t)(v81);
					uint32_t v88 = (uint32_t)(v87);
					uint64_t v89 = (uint64_t)(v88);
					uint64_t v90 = (uint64_t)(v86);
					bool v91 = (v89 == v90);
					TUP* branch_ZPlusArgumentParser_92;
					VAL branch_Maybe_93;
					if (v91) {
						TUP* v94 = value_tup(v62->cells[1], 6);
						incref(MKTUP(v94, 6));
						bool v95 = mw_argZ_parser_state_State_1_parsingZAsk(v94);
						TUP* branch_ZPlusArgumentParser_96;
						VAL branch_Maybe_97;
						if (v95) {
							decref(v69);
							TUP* v98 = value_tup(v62->cells[1], 6);
							incref(MKTUP(v98, 6));
							VAL v99 = mw_argZ_parser_state_State_1_optionZ_option(v98);
							TUP* branch_ZPlusArgumentParser_100;
							VAL branch_Maybe_101;
							switch (get_data_tag(v99)) {
								case 1LL: { // Some
									VAL v102 = mtp_std_maybe_Maybe_1_Some(v99);
									VAL v103 = VTUP(v102)->cells[2];
									incref(v103);
									decref(v102);
									TUP* branch_ZPlusArgumentParser_104;
									VAL branch_Maybe_105;
									switch (get_data_tag(v103)) {
										case 1LL: { // Some
											VAL v106 = mtp_std_maybe_Maybe_1_Some(v103);
											decref(v106);
											VAL v107 = MKI64(0LL /* MissingArgValue */);
											VAL v108 = mtw_std_maybe_Maybe_1_Some(v107);
											branch_Maybe_105 = v108;
											branch_ZPlusArgumentParser_104 = v62;
										} break;
										case 0LL: { // None
											bool v109 = false;
											TUP* v110 = value_tup(v62->cells[1], 6);
											incref(MKTUP(v110, 6));
											TUP* v111 = mw_argZ_parser_state_State_1_parsingZAskZBang(v109, v110);
											TUP* v112 = value_tup(v62->cells[1], 6);
											decref(MKTUP(v112, 6));
											v62->cells[1] = MKTUP(v111, 6);
											VAL v113 = MKI64(0LL /* None */);
											branch_Maybe_105 = v113;
											branch_ZPlusArgumentParser_104 = v62;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_Maybe_101 = branch_Maybe_105;
									branch_ZPlusArgumentParser_100 = branch_ZPlusArgumentParser_104;
								} break;
								case 0LL: { // None
									VAL v114 = MKI64(0LL /* MissingArgValue */);
									VAL v115 = mtw_std_maybe_Maybe_1_Some(v114);
									branch_Maybe_101 = v115;
									branch_ZPlusArgumentParser_100 = v62;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							branch_Maybe_97 = branch_Maybe_101;
							branch_ZPlusArgumentParser_96 = branch_ZPlusArgumentParser_100;
						} else {
							TUP* v116;
							VAL v117 = mw_argZ_parser_parse_parseZ_flags(v62, value_str(v69), &v116);
							branch_Maybe_97 = v117;
							branch_ZPlusArgumentParser_96 = v116;
						}
						branch_Maybe_93 = branch_Maybe_97;
						branch_ZPlusArgumentParser_92 = branch_ZPlusArgumentParser_96;
					} else {
						TUP* v118 = value_tup(v62->cells[1], 6);
						incref(MKTUP(v118, 6));
						bool v119 = mw_argZ_parser_state_State_1_parsingZAsk(v118);
						VAL branch_Maybe_120;
						TUP* branch_ZPlusArgumentParser_121;
						if (v119) {
							TUP* v122 = value_tup(v62->cells[1], 6);
							incref(MKTUP(v122, 6));
							VAL v123 = mw_argZ_parser_state_State_1_optionZ_option(v122);
							TUP* branch_ZPlusArgumentParser_124;
							VAL branch_Maybe_125;
							switch (get_data_tag(v123)) {
								case 1LL: { // Some
									VAL v126 = mtp_std_maybe_Maybe_1_Some(v123);
									incref(v126);
									VAL v127 = VTUP(v126)->cells[2];
									incref(v127);
									decref(v126);
									TUP* branch_ZPlusArgumentParser_128;
									VAL branch_Maybe_129;
									switch (get_data_tag(v127)) {
										case 1LL: { // Some
											VAL v130 = mtp_std_maybe_Maybe_1_Some(v127);
											decref(v130);
											TUP* v131 = value_tup(v62->cells[1], 6);
											incref(MKTUP(v131, 6));
											VAL v132 = v131->cells[0];
											incref(v132);
											decref(MKTUP(v131, 6));
											VAL v133 = mtw_std_maybe_Maybe_1_Some(v69);
											VAL v134 = VTUP(v126)->cells[1];
											incref(v134);
											decref(v126);
											TUP* v135;
											VAL v136 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(v62, &v135);
											push_value(v132);
											push_value(v133);
											push_value(v134);
											push_resource(MKTUP(v135, 2));
											run_value(v136);
											TUP* r137 = value_tup(pop_resource(), 2);
											VAL v138 = pop_value();
											TUP* v139 = value_tup(r137->cells[1], 6);
											incref(MKTUP(v139, 6));
											VAL v140 = tup_replace(MKTUP(v139, 6), 0, v138);
											TUP* v141 = value_tup(r137->cells[1], 6);
											decref(MKTUP(v141, 6));
											r137->cells[1] = v140;
											VAL v142 = MKI64(0LL /* None */);
											branch_Maybe_129 = v142;
											branch_ZPlusArgumentParser_128 = r137;
										} break;
										case 0LL: { // None
											decref(v126);
											decref(v69);
											VAL v143 = MKI64(4LL /* UnknownArg */);
											VAL v144 = mtw_std_maybe_Maybe_1_Some(v143);
											branch_Maybe_129 = v144;
											branch_ZPlusArgumentParser_128 = v62;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_Maybe_125 = branch_Maybe_129;
									branch_ZPlusArgumentParser_124 = branch_ZPlusArgumentParser_128;
								} break;
								case 0LL: { // None
									decref(v69);
									VAL v145 = MKI64(4LL /* UnknownArg */);
									VAL v146 = mtw_std_maybe_Maybe_1_Some(v145);
									branch_Maybe_125 = v146;
									branch_ZPlusArgumentParser_124 = v62;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							bool v147 = false;
							TUP* v148 = value_tup(branch_ZPlusArgumentParser_124->cells[1], 6);
							incref(MKTUP(v148, 6));
							TUP* v149 = mw_argZ_parser_state_State_1_parsingZAskZBang(v147, v148);
							TUP* v150 = value_tup(branch_ZPlusArgumentParser_124->cells[1], 6);
							decref(MKTUP(v150, 6));
							branch_ZPlusArgumentParser_124->cells[1] = MKTUP(v149, 6);
							branch_ZPlusArgumentParser_121 = branch_ZPlusArgumentParser_124;
							branch_Maybe_120 = branch_Maybe_125;
						} else {
							TUP* v151;
							VAL v152 = mw_argZ_parser_parse_doZ_positionalZ_option(v62, value_str(v69), &v151);
							branch_ZPlusArgumentParser_121 = v151;
							branch_Maybe_120 = v152;
						}
						branch_Maybe_93 = branch_Maybe_120;
						branch_ZPlusArgumentParser_92 = branch_ZPlusArgumentParser_121;
					}
					branch_Maybe_75 = branch_Maybe_93;
					branch_ZPlusArgumentParser_74 = branch_ZPlusArgumentParser_92;
				} else {
					decref(v69);
					VAL v153 = MKI64(0LL /* None */);
					branch_Maybe_75 = v153;
					branch_ZPlusArgumentParser_74 = v62;
				}
				TUP* branch_ZPlusArgumentParser_154;
				switch (get_data_tag(branch_Maybe_75)) {
					case 1LL: { // Some
						VAL v155 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_75);
						VAL v156 = mtw_std_maybe_Maybe_1_Some(v155);
						TUP* v157 = value_tup(branch_ZPlusArgumentParser_74->cells[1], 6);
						incref(MKTUP(v157, 6));
						VAL v158 = tup_replace(MKTUP(v157, 6), 5, v156);
						TUP* v159 = value_tup(branch_ZPlusArgumentParser_74->cells[1], 6);
						decref(MKTUP(v159, 6));
						branch_ZPlusArgumentParser_74->cells[1] = v158;
						branch_ZPlusArgumentParser_154 = branch_ZPlusArgumentParser_74;
					} break;
					case 0LL: { // None
						branch_ZPlusArgumentParser_154 = branch_ZPlusArgumentParser_74;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v160 = true;
				branch_Bool_67 = v160;
				branch_List_66 = v68;
				branch_ZPlusArgumentParser_65 = branch_ZPlusArgumentParser_154;
			} break;
			case 0LL: { // Nil
				VAL v161 = MKI64(0LL /* Nil */);
				bool v162 = false;
				branch_Bool_67 = v162;
				branch_List_66 = v161;
				branch_ZPlusArgumentParser_65 = v62;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v61 = branch_Bool_67;
		v60 = branch_Bool_67;
		v59 = branch_List_66;
		v58 = branch_ZPlusArgumentParser_65;
	}
	decref(v59);
	TUP* v163 = value_tup(v58->cells[1], 6);
	incref(MKTUP(v163, 6));
	bool v164 = mw_argZ_parser_state_State_1_parsingZAsk(v163);
	TUP* branch_ZPlusArgumentParser_165;
	if (v164) {
		VAL v166 = MKI64(0LL /* MissingArgValue */);
		VAL v167 = mtw_std_maybe_Maybe_1_Some(v166);
		TUP* v168 = value_tup(v58->cells[1], 6);
		incref(MKTUP(v168, 6));
		VAL v169 = tup_replace(MKTUP(v168, 6), 5, v167);
		TUP* v170 = value_tup(v58->cells[1], 6);
		decref(MKTUP(v170, 6));
		v58->cells[1] = v169;
		branch_ZPlusArgumentParser_165 = v58;
	} else {
		branch_ZPlusArgumentParser_165 = v58;
	}
	TUP* v171 = value_tup(branch_ZPlusArgumentParser_165->cells[1], 6);
	incref(MKTUP(v171, 6));
	VAL v172 = v171->cells[0];
	incref(v172);
	decref(MKTUP(v171, 6));
	VAL v173 = MKI64(0LL /* None */);
	VAL v174 = MKI64(3LL /* End */);
	TUP* v175;
	VAL v176 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(branch_ZPlusArgumentParser_165, &v175);
	push_value(v172);
	push_value(v173);
	push_value(v174);
	push_resource(MKTUP(v175, 2));
	run_value(v176);
	TUP* r177 = value_tup(pop_resource(), 2);
	VAL v178 = pop_value();
	TUP* v179 = value_tup(r177->cells[1], 6);
	incref(MKTUP(v179, 6));
	VAL v180 = tup_replace(MKTUP(v179, 6), 0, v178);
	TUP* v181 = value_tup(r177->cells[1], 6);
	decref(MKTUP(v181, 6));
	r177->cells[1] = v180;
	TUP* v182 = value_tup(r177->cells[1], 6);
	incref(MKTUP(v182, 6));
	VAL v183 = v182->cells[0];
	incref(v183);
	decref(MKTUP(v182, 6));
	TUP* v184 = value_tup(r177->cells[1], 6);
	incref(MKTUP(v184, 6));
	VAL v185 = v184->cells[5];
	incref(v185);
	decref(MKTUP(v184, 6));
	TUP* branch_ZPlusArgumentParser_186;
	VAL branch_Result_187;
	switch (get_data_tag(v185)) {
		case 1LL: { // Some
			VAL v188 = mtp_std_maybe_Maybe_1_Some(v185);
			TUP* v189;
			STR* v190 = mw_argZ_parser_types_ZPlusArgumentParser_1_usage(r177, &v189);
			TUP* v191 = tup_new(2);
			v191->size = 2;
			v191->cells[1] = MKSTR(v190);
			v191->cells[0] = v188;
			VAL v192 = mtw_std_result_Result_2_Err(MKTUP(v191, 2));
			decref(v183);
			branch_Result_187 = v192;
			branch_ZPlusArgumentParser_186 = v189;
		} break;
		case 0LL: { // None
			VAL v193 = mtw_std_result_Result_2_Ok(v183);
			branch_Result_187 = v193;
			branch_ZPlusArgumentParser_186 = r177;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop(branch_ZPlusArgumentParser_186);
	return branch_Result_187;
}
static STR* mw_argZ_parser_parse_readZ_fromZ_argv (INT in_Int_1) {
	incref(MKINT(in_Int_1));
	INT v5 = WRAP_I63(0LL);
	bool v6 = int_le(v5, in_Int_1);
	STR* branch_Str_7;
	if (v6) {
		uint64_t v8 = sizeof(void*);
		INT v9 = u64_to_int(v8);
		INT v10 = int_mul(in_Int_1, v9);
		void* v11 = global_argv;
		int64_t v12 = int_to_i64(v10);
		void* v13 = (void*)(v12 + (char*)v11);
		void* v14 = *(void**)v13;
		uint64_t v15 = mext_std_ctypes_CStr_numZ_bytesZ_raw(v14);
		INT v16 = u64_to_int(v15);
		uint64_t v17 = int_to_u64(v16);
		STR* v18 = str_make(v14, v17);
		branch_Str_7 = v18;
	} else {
		decref(MKINT(in_Int_1));
		STR* v19;
		STRLIT(v19, "", 0);
		branch_Str_7 = v19;
	}
	return branch_Str_7;
}
static VAL mw_argZ_parser_parse_argvZ_toZ_str (void) {
	INT v2 = WRAP_I63(1LL);
	uint64_t v3 = global_argc;
	INT v4 = u64_to_int(v3);
	INT v5 = WRAP_I63(1LL);
	INT v6 = int_sub(v4, v5);
	VAL v7 = mw_std_prim_Int_range(v2, v6);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	VAL v11 = v9;
	VAL v12 = v7;
	bool v13 = v10;
	bool v14 = v10;
	while (v14) {
		VAL v15 = v11;
		VAL v16 = v12;
		bool v17 = v13;
		VAL branch_ZPlusLister_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v16, &v21);
				STR* v23 = mw_std_prelude_unsafe_1_sp28(value_int(v22));
				VAL v24;
				mw_std_list_ZPlusLister_1_pushZBang(MKSTR(v23), v15, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusLister_18 = v24;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusLister_18 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_20;
		v13 = branch_Bool_20;
		v12 = branch_List_19;
		v11 = branch_ZPlusLister_18;
	}
	decref(v12);
	VAL v28 = mw_std_list_ZPlusLister_1_doneZBang(v11);
	return v28;
}
static TUP* mw_mirth_options_Options_Default (void) {
	bool v2 = false;
	STR* v3;
	STRLIT(v3, "mirth.mth", 9);
	VAL v4 = MKI64(0LL /* None */);
	STR* v5;
	STRLIT(v5, "main", 4);
	VAL v6 = mtw_std_maybe_Maybe_1_Some(MKSTR(v5));
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8 = MKI64(0LL /* Nil */);
	TUP* v9 = mtw_mirth_options_Options_Options(v3, v4, v6, v7, v8, v2);
	return v9;
}
static TUP* mw_mirth_options_parseZ_packageZ_def (STR* in_Str_1) {
	int64_t v3 = 58LL /* BCOLON */;
	incref(MKSTR(in_Str_1));
	TUP* v4 = mw_std_prim_Str_splitZ_byte(v3, in_Str_1);
	VAL v5 = mw_std_list_Nest_1_pairZAsk(v4);
	STR* branch_Str_6;
	VAL branch_z_x1_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_z_x1_7 = v8;
			branch_Str_6 = in_Str_1;
		} break;
		case 0LL: { // None
			STR* v9;
			STRLIT(v9, "Invalid package path: ", 22);
			incref(MKSTR(in_Str_1));
			STR* v10 = str_cat(v9, in_Str_1);
			do_panic(v10);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v13 = value_tup(branch_z_x1_7, 2)->cells[0];
	VAL v14 = value_tup(branch_z_x1_7, 2)->cells[1];
	tup_decref_outer(value_tup(branch_z_x1_7, 2),2);
	TUP* v15 = tup_new(2);
	v15->size = 2;
	v15->cells[1] = v14;
	v15->cells[0] = v13;
	decref(MKSTR(branch_Str_6));
	return v15;
}
static TUP* mw_mirth_options_compilerZ_parseZ_args (TUP* in_ZPlusArgumentParser_1, TUP* in_Options_2, VAL in_Maybe_3, VAL in_ArgpOptionType_4, TUP* *out_ZPlusArgumentParser_5) {
	TUP* branch_ZPlusArgumentParser_7;
	TUP* branch_Options_8;
	switch (get_data_tag(in_ArgpOptionType_4)) {
		case 0LL: { // Short
			int64_t v9 = mtp_argZ_parser_types_ArgpOptionType_Short(in_ArgpOptionType_4);
			TUP* branch_ZPlusArgumentParser_10;
			TUP* branch_Options_11;
			switch (v9) {
				case 111LL: { // B'o'
					VAL branch_Maybe_12;
					switch (get_data_tag(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v13 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							VAL v14 = mtw_std_maybe_Maybe_1_Some(v13);
							branch_Maybe_12 = v14;
						} break;
						case 0LL: { // None
							VAL v15 = MKI64(0LL /* None */);
							branch_Maybe_12 = v15;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					VAL v16 = tup_replace(MKTUP(in_Options_2, 6), 1, branch_Maybe_12);
					branch_Options_11 = value_tup(v16, 6);
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 101LL: { // B'e'
					VAL v17 = tup_replace(MKTUP(in_Options_2, 6), 2, in_Maybe_3);
					branch_Options_11 = value_tup(v17, 6);
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 99LL: { // B'c'
					decref(in_Maybe_3);
					VAL v18 = MKI64(0LL /* None */);
					VAL v19 = tup_replace(MKTUP(in_Options_2, 6), 2, v18);
					branch_Options_11 = value_tup(v19, 6);
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 112LL: { // B'p'
					TUP* branch_Options_20;
					switch (get_data_tag(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v21 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							TUP* v22 = mw_mirth_options_parseZ_packageZ_def(value_str(v21));
							incref(MKTUP(in_Options_2, 6));
							VAL v23 = in_Options_2->cells[3];
							incref(v23);
							decref(MKTUP(in_Options_2, 6));
							VAL v24 = mtw_std_list_List_1_Cons(MKTUP(v22, 2), v23);
							VAL v25 = tup_replace(MKTUP(in_Options_2, 6), 3, v24);
							branch_Options_20 = value_tup(v25, 6);
						} break;
						case 0LL: { // None
							branch_Options_20 = in_Options_2;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Options_11 = branch_Options_20;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 80LL: { // B'P'
					TUP* branch_Options_26;
					switch (get_data_tag(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v27 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							incref(MKTUP(in_Options_2, 6));
							VAL v28 = in_Options_2->cells[4];
							incref(v28);
							decref(MKTUP(in_Options_2, 6));
							VAL v29 = mtw_std_list_List_1_Cons(v27, v28);
							VAL v30 = tup_replace(MKTUP(in_Options_2, 6), 4, v29);
							branch_Options_26 = value_tup(v30, 6);
						} break;
						case 0LL: { // None
							branch_Options_26 = in_Options_2;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Options_11 = branch_Options_26;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				default: {
					decref(in_Maybe_3);
					VAL v31 = MKI64(4LL /* UnknownArg */);
					VAL v32 = mtw_std_maybe_Maybe_1_Some(v31);
					TUP* v33 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
					incref(MKTUP(v33, 6));
					VAL v34 = tup_replace(MKTUP(v33, 6), 5, v32);
					TUP* v35 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
					decref(MKTUP(v35, 6));
					in_ZPlusArgumentParser_1->cells[1] = v34;
					branch_Options_11 = in_Options_2;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
			}
			branch_Options_8 = branch_Options_11;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_10;
		} break;
		case 2LL: { // Positional
			TUP* v36 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
			incref(MKTUP(v36, 6));
			INT v37 = value_int(v36->cells[3]);
			incref(MKINT(v37));
			decref(MKTUP(v36, 6));
			INT v38 = WRAP_I63(0LL);
			bool v39 = int_eq(v37, v38);
			TUP* branch_ZPlusArgumentParser_40;
			TUP* branch_Options_41;
			if (v39) {
				TUP* branch_Options_42;
				switch (get_data_tag(in_Maybe_3)) {
					case 1LL: { // Some
						VAL v43 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
						VAL v44 = tup_replace(MKTUP(in_Options_2, 6), 0, v43);
						branch_Options_42 = value_tup(v44, 6);
					} break;
					case 0LL: { // None
						branch_Options_42 = in_Options_2;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Options_41 = branch_Options_42;
				branch_ZPlusArgumentParser_40 = in_ZPlusArgumentParser_1;
			} else {
				decref(in_Maybe_3);
				VAL v45 = MKI64(2LL /* TooManyArgs */);
				VAL v46 = mtw_std_maybe_Maybe_1_Some(v45);
				TUP* v47 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
				incref(MKTUP(v47, 6));
				VAL v48 = tup_replace(MKTUP(v47, 6), 5, v46);
				TUP* v49 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
				decref(MKTUP(v49, 6));
				in_ZPlusArgumentParser_1->cells[1] = v48;
				branch_Options_41 = in_Options_2;
				branch_ZPlusArgumentParser_40 = in_ZPlusArgumentParser_1;
			}
			branch_Options_8 = branch_Options_41;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_40;
		} break;
		case 1LL: { // LongOnly
			STR* v50 = mtp_argZ_parser_types_ArgpOptionType_LongOnly(in_ArgpOptionType_4);
			incref(MKSTR(v50));
			STR* v51;
			STRLIT(v51, "debug", 5);
			bool v52 = (str_cmp(v50, v51) == 0);
			TUP* branch_ZPlusArgumentParser_53;
			TUP* branch_Options_54;
			if (v52) {
				decref(MKSTR(v50));
				decref(in_Maybe_3);
				bool v55 = true;
				VAL v56 = tup_replace(MKTUP(in_Options_2, 6), 5, MKBOOL(v55));
				branch_Options_54 = value_tup(v56, 6);
				branch_ZPlusArgumentParser_53 = in_ZPlusArgumentParser_1;
			} else {
				decref(MKSTR(v50));
				decref(in_Maybe_3);
				VAL v57 = MKI64(4LL /* UnknownArg */);
				VAL v58 = mtw_std_maybe_Maybe_1_Some(v57);
				TUP* v59 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
				incref(MKTUP(v59, 6));
				VAL v60 = tup_replace(MKTUP(v59, 6), 5, v58);
				TUP* v61 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
				decref(MKTUP(v61, 6));
				in_ZPlusArgumentParser_1->cells[1] = v60;
				branch_Options_54 = in_Options_2;
				branch_ZPlusArgumentParser_53 = in_ZPlusArgumentParser_1;
			}
			branch_Options_8 = branch_Options_54;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_53;
		} break;
		case 3LL: { // End
			TUP* v62 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
			incref(MKTUP(v62, 6));
			INT v63 = value_int(v62->cells[3]);
			incref(MKINT(v63));
			decref(MKTUP(v62, 6));
			INT v64 = WRAP_I63(1LL);
			bool v65 = int_lt(v63, v64);
			TUP* branch_ZPlusArgumentParser_66;
			if (v65) {
				VAL v67 = MKI64(3LL /* TooFewArgs */);
				VAL v68 = mtw_std_maybe_Maybe_1_Some(v67);
				TUP* v69 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
				incref(MKTUP(v69, 6));
				VAL v70 = tup_replace(MKTUP(v69, 6), 5, v68);
				TUP* v71 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
				decref(MKTUP(v71, 6));
				in_ZPlusArgumentParser_1->cells[1] = v70;
				branch_ZPlusArgumentParser_66 = in_ZPlusArgumentParser_1;
			} else {
				branch_ZPlusArgumentParser_66 = in_ZPlusArgumentParser_1;
			}
			TUP* v72 = value_tup(branch_ZPlusArgumentParser_66->cells[1], 6);
			incref(MKTUP(v72, 6));
			VAL v73 = v72->cells[0];
			incref(v73);
			decref(MKTUP(v72, 6));
			VAL v74 = VTUP(v73)->cells[1];
			incref(v74);
			decref(v73);
			int64_t v75 = get_data_tag(v74);
			decref(v74);
			INT v76 = WRAP_I63(0LL);
			INT v77 = i64_to_int(v75);
			bool v78 = int_eq(v77, v76);
			bool v79 = !v78;
			TUP* branch_ZPlusArgumentParser_80;
			if (v79) {
				branch_ZPlusArgumentParser_80 = branch_ZPlusArgumentParser_66;
			} else {
				TUP* v81 = value_tup(branch_ZPlusArgumentParser_66->cells[1], 6);
				incref(MKTUP(v81, 6));
				VAL v82 = v81->cells[0];
				incref(v82);
				decref(MKTUP(v81, 6));
				VAL v83 = VTUP(v82)->cells[2];
				incref(v83);
				decref(v82);
				int64_t v84 = get_data_tag(v83);
				decref(v83);
				INT v85 = WRAP_I63(0LL);
				INT v86 = i64_to_int(v84);
				bool v87 = int_eq(v86, v85);
				bool v88 = !v87;
				TUP* branch_ZPlusArgumentParser_89;
				if (v88) {
					STR* v90;
					STRLIT(v90, "output-file", 11);
					VAL v91 = mtw_argZ_parser_types_ArgumentParsingError_MissingArg(v90);
					VAL v92 = mtw_std_maybe_Maybe_1_Some(v91);
					TUP* v93 = value_tup(branch_ZPlusArgumentParser_66->cells[1], 6);
					incref(MKTUP(v93, 6));
					VAL v94 = tup_replace(MKTUP(v93, 6), 5, v92);
					TUP* v95 = value_tup(branch_ZPlusArgumentParser_66->cells[1], 6);
					decref(MKTUP(v95, 6));
					branch_ZPlusArgumentParser_66->cells[1] = v94;
					branch_ZPlusArgumentParser_89 = branch_ZPlusArgumentParser_66;
				} else {
					branch_ZPlusArgumentParser_89 = branch_ZPlusArgumentParser_66;
				}
				branch_ZPlusArgumentParser_80 = branch_ZPlusArgumentParser_89;
			}
			decref(in_Maybe_3);
			branch_Options_8 = in_Options_2;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_80;
		} break;
		default: {
			decref(in_ArgpOptionType_4);
			decref(in_Maybe_3);
			VAL v96 = MKI64(4LL /* UnknownArg */);
			VAL v97 = mtw_std_maybe_Maybe_1_Some(v96);
			TUP* v98 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
			incref(MKTUP(v98, 6));
			VAL v99 = tup_replace(MKTUP(v98, 6), 5, v97);
			TUP* v100 = value_tup(in_ZPlusArgumentParser_1->cells[1], 6);
			decref(MKTUP(v100, 6));
			in_ZPlusArgumentParser_1->cells[1] = v99;
			branch_Options_8 = in_Options_2;
			branch_ZPlusArgumentParser_7 = in_ZPlusArgumentParser_1;
		} break;
	}
	*out_ZPlusArgumentParser_5 = branch_ZPlusArgumentParser_7;
	return branch_Options_8;
}
static VAL mw_mirth_options_parseZ_optionsZBang (void) {
	TUP* v4 = mw_mirth_options_Options_Default();
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6;
	mw_std_list_List_1_buildZBang(v5, &v6);
	STR* v7;
	STRLIT(v7, "output-file", 11);
	VAL v8 = mtw_std_maybe_Maybe_1_Some(MKSTR(v7));
	int64_t v9 = 111LL /* B'o' */;
	VAL v10 = mtw_argZ_parser_types_ArgpOptionType_Short(v9);
	STR* v11;
	STRLIT(v11, "OUTPUT_FILE", 11);
	VAL v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
	STR* v13;
	STRLIT(v13, "Test argument", 13);
	VAL v14 = mtw_std_maybe_Maybe_1_Some(MKSTR(v13));
	VAL v15 = MKI64(0LL /* None */);
	TUP* v16 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v8, v10, v12, v14, v15);
	VAL v17;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v16, 5), v6, &v17);
	STR* v18;
	STRLIT(v18, "compile-only", 12);
	VAL v19 = mtw_std_maybe_Maybe_1_Some(MKSTR(v18));
	int64_t v20 = 99LL /* B'c' */;
	VAL v21 = mtw_argZ_parser_types_ArgpOptionType_Short(v20);
	VAL v22 = MKI64(0LL /* None */);
	STR* v23;
	STRLIT(v23, "Compile code without running codegen step", 41);
	VAL v24 = mtw_std_maybe_Maybe_1_Some(MKSTR(v23));
	VAL v25 = MKI64(0LL /* None */);
	TUP* v26 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v19, v21, v22, v24, v25);
	VAL v27;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v26, 5), v17, &v27);
	STR* v28;
	STRLIT(v28, "entry-point", 11);
	VAL v29 = mtw_std_maybe_Maybe_1_Some(MKSTR(v28));
	int64_t v30 = 101LL /* B'e' */;
	VAL v31 = mtw_argZ_parser_types_ArgpOptionType_Short(v30);
	STR* v32;
	STRLIT(v32, "ENTRY_POINT", 11);
	VAL v33 = mtw_std_maybe_Maybe_1_Some(MKSTR(v32));
	STR* v34;
	STRLIT(v34, "Custom entry point word for compilation", 39);
	VAL v35 = mtw_std_maybe_Maybe_1_Some(MKSTR(v34));
	VAL v36 = MKI64(0LL /* None */);
	TUP* v37 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v29, v31, v33, v35, v36);
	VAL v38;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v37, 5), v27, &v38);
	STR* v39;
	STRLIT(v39, "package", 7);
	VAL v40 = mtw_std_maybe_Maybe_1_Some(MKSTR(v39));
	int64_t v41 = 112LL /* B'p' */;
	VAL v42 = mtw_argZ_parser_types_ArgpOptionType_Short(v41);
	STR* v43;
	STRLIT(v43, "(PACKAGE:PATH)*", 15);
	VAL v44 = mtw_std_maybe_Maybe_1_Some(MKSTR(v43));
	STR* v45;
	STRLIT(v45, "Package locations", 17);
	VAL v46 = mtw_std_maybe_Maybe_1_Some(MKSTR(v45));
	VAL v47 = MKI64(0LL /* None */);
	TUP* v48 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v40, v42, v44, v46, v47);
	VAL v49;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v48, 5), v38, &v49);
	STR* v50;
	STRLIT(v50, "package-search-path", 19);
	VAL v51 = mtw_std_maybe_Maybe_1_Some(MKSTR(v50));
	int64_t v52 = 80LL /* B'P' */;
	VAL v53 = mtw_argZ_parser_types_ArgpOptionType_Short(v52);
	STR* v54;
	STRLIT(v54, "SEARCH_PATH*", 12);
	VAL v55 = mtw_std_maybe_Maybe_1_Some(MKSTR(v54));
	STR* v56;
	STRLIT(v56, "Package search paths", 20);
	VAL v57 = mtw_std_maybe_Maybe_1_Some(MKSTR(v56));
	VAL v58 = MKI64(0LL /* None */);
	TUP* v59 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v51, v53, v55, v57, v58);
	VAL v60;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v59, 5), v49, &v60);
	STR* v61;
	STRLIT(v61, "debug", 5);
	VAL v62 = mtw_std_maybe_Maybe_1_Some(MKSTR(v61));
	STR* v63;
	STRLIT(v63, "debug", 5);
	VAL v64 = mtw_argZ_parser_types_ArgpOptionType_LongOnly(v63);
	VAL v65 = MKI64(0LL /* None */);
	STR* v66;
	STRLIT(v66, "Emit debugging information during codegen", 41);
	VAL v67 = mtw_std_maybe_Maybe_1_Some(MKSTR(v66));
	VAL v68 = MKI64(0LL /* None */);
	TUP* v69 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v62, v64, v65, v67, v68);
	VAL v70;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v69, 5), v60, &v70);
	VAL v71 = mw_std_list_ZPlusLister_1_doneZBang(v70);
	FNPTR v72 = &mb_mirth_options_parseZ_optionsZBang_1;
	STR* v73;
	STRLIT(v73, "input-file", 10);
	VAL v74 = mtw_std_maybe_Maybe_1_Some(MKSTR(v73));
	STR* v75;
	STRLIT(v75, "Mirth Compiler", 14);
	TUP* v76 = mtw_argZ_parser_types_ArgumentParser_1_ArgumentParser(v71, MKFNPTR(v72), v74, v75);
	VAL v77 = mw_argZ_parser_parse_parseZ_args(MKTUP(v4, 6), v76);
	return v77;
}
static uint64_t mw_mirth_label_Label_allocZBang (void) {
	void* v2 = mbuf_mirth_label_Label_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_label_Label_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_label_Label_index (uint64_t in_Label_1) {
	return in_Label_1;
}
static uint64_t mw_mirth_label_Label_name (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_label_Label_ZTildename, in_Label_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static STR* mw_mirth_label_Label_ZToStr (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_label_Label_name(in_ZPlusMirth_1, in_Label_2, &v5);
	TUP* v7;
	STR* v8 = mw_mirth_name_Name_ZToStr(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_label_Label_ZEqual (uint64_t in_Label_1, uint64_t in_Label_2) {
	uint64_t v4 = mw_mirth_label_Label_index(in_Label_1);
	uint64_t v5 = mw_mirth_label_Label_index(in_Label_2);
	bool v6 = (v4 == v5);
	return v6;
}
static void mw_mirth_label_Label_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	uint64_t v7 = mw_mirth_label_Label_name(in_ZPlusMirth_1, in_Label_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static uint64_t mw_mirth_label_Label_newZBang (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_name_Name_ZTildelabel, in_Name_2);
	bool v6 = mut_is_set(v5);
	uint64_t branch_Name_7;
	uint64_t branch_Label_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Label_8 = value_u64(v9);
		branch_Name_7 = in_Name_2;
	} else {
		uint64_t v10 = mw_mirth_label_Label_allocZBang();
		void* v11 = field_mut(&mfld_mirth_label_Label_ZTildename, v10);
		mut_set(MKU64(in_Name_2), v11);
		mut_set(MKU64(v10), v5);
		branch_Label_8 = v10;
		branch_Name_7 = in_Name_2;
	}
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return branch_Label_8;
}
static bool mw_mirth_label_Label_isZ_resourceZ_labelZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_label_Label_name(in_ZPlusMirth_1, in_Label_2, &v5);
	TUP* v7;
	int64_t v8 = mw_mirth_name_Name_head(v5, v6, &v7);
	int64_t v9 = 43LL /* B'+' */;
	INT v10 = i64_to_int(v8);
	uint64_t v11 = int_to_u64(v10);
	uint8_t v12 = (uint8_t)(v11);
	INT v13 = i64_to_int(v9);
	uint64_t v14 = int_to_u64(v13);
	uint8_t v15 = (uint8_t)(v14);
	uint64_t v16 = (uint64_t)(v15);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(v12);
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint64_t v21 = (uint64_t)(v17);
	bool v22 = (v20 == v21);
	*out_ZPlusMirth_3 = v7;
	return v22;
}
static VAL mw_std_map_Map_2_Nil (void) {
	VAL v2 = MKI64(0LL /* Nil */);
	return v2;
}
static INT mw_std_map_Map_2_len (VAL in_Map_1) {
	INT v3 = mw_std_list_List_1_len(in_Map_1);
	return v3;
}
static VAL mw_std_map_Map_2_insert (TUP* in_KeyValuePair_1, VAL in_Map_2) {
	incref(in_Map_2);
	VAL v4 = mw_std_list_List_1_cons(MKTUP(in_KeyValuePair_1, 2), in_Map_2);
	decref(in_Map_2);
	return v4;
}
static uint64_t mw_mirth_var_Var_allocZBang (void) {
	void* v2 = mbuf_mirth_var_Var_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_var_Var_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_var_Var_index (uint64_t in_Var_1) {
	return in_Var_1;
}
static uint64_t mw_mirth_var_Var_name (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_var_Var_ZTildename, in_Var_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_var_Var_type (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_var_Var_ZTildetype, in_Var_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_var_Var_autoZ_runZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_var_Var_ZTildeautoZ_runZAsk, in_Var_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static void mw_mirth_var_Var_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	uint64_t v7 = mw_mirth_var_Var_name(in_ZPlusMirth_1, in_Var_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_var_Var_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	STR* v7;
	mw_mirth_var_Var_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, in_Var_3, &v6, &v7);
	*out_ZPlusStr_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static bool mw_mirth_var_Var_isZ_stackZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_var_Var_type(in_ZPlusMirth_1, in_Var_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_Type_primZAsk(v5, v6, &v7);
	bool branch_Bool_9;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v8);
			int64_t v11 = 2LL /* STACK */;
			bool v12 = mw_mirth_type_PrimType_ZEqual(value_i64(v10), v11);
			branch_Bool_9 = v12;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_9 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = v7;
	return branch_Bool_9;
}
static bool mw_mirth_var_Var_isZ_physicalZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_var_Var_type(in_ZPlusMirth_1, in_Var_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_type_Type_isZ_physicalZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static uint64_t mw_mirth_var_Var_NewZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4) {
	uint64_t v6 = mw_mirth_var_Var_allocZBang();
	void* v7 = field_mut(&mfld_mirth_var_Var_ZTildename, v6);
	mut_set(MKU64(in_Name_3), v7);
	void* v8 = field_mut(&mfld_mirth_var_Var_ZTildetype, v6);
	mut_set(in_Type_2, v8);
	VAL v9 = MKI64(0LL /* None */);
	void* v10 = field_mut(&mfld_mirth_var_Var_ZTildeautoZ_runZAsk, v6);
	mut_set(v9, v10);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_var_Var_NewAutoRunZBang (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4) {
	incref(MKTUP(in_ArrowType_2, 2));
	VAL v6 = mtw_mirth_type_Type_Arrow(in_ArrowType_2);
	TUP* v7;
	uint64_t v8 = mw_mirth_var_Var_NewZBang(in_ZPlusMirth_1, v6, in_Name_3, &v7);
	VAL v9 = mtw_std_maybe_Maybe_1_Some(MKTUP(in_ArrowType_2, 2));
	void* v10 = field_mut(&mfld_mirth_var_Var_ZTildeautoZ_runZAsk, v8);
	mut_set(v9, v10);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static VAL mw_mirth_var_Var_NewInCtx (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Type_3, STR* in_Str_4, TUP* *out_ZPlusMirth_5, uint64_t *out_Var_7) {
	TUP* v8;
	uint64_t v9 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, in_Str_4, &v8);
	TUP* v10;
	uint64_t v11 = mw_mirth_var_Var_NewZBang(v8, in_Type_3, v9, &v10);
	VAL v12 = mw_mirth_var_Ctx_new(in_Ctx_2, v11);
	*out_Var_7 = v11;
	*out_ZPlusMirth_5 = v10;
	return v12;
}
static VAL mw_std_list_List_1_ZToCtx (VAL in_List_1) {
	return in_List_1;
}
static VAL mw_mirth_var_Ctx_ZToList (VAL in_Ctx_1) {
	return in_Ctx_1;
}
static VAL mw_mirth_var_Ctx_L0 (void) {
	VAL v2 = MKI64(0LL /* Nil */);
	return v2;
}
static VAL mw_mirth_var_Ctx_new (VAL in_Ctx_1, uint64_t in_Var_2) {
	VAL v4 = mw_mirth_var_Ctx_ZToList(in_Ctx_1);
	VAL v5 = mw_std_list_List_1_Snoc(v4, MKU64(in_Var_2));
	VAL v6 = mw_std_list_List_1_ZToCtx(v5);
	return v6;
}
static VAL mw_mirth_var_Ctx_lookup (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, VAL in_Ctx_3, TUP* *out_ZPlusMirth_4) {
	VAL v6 = mw_mirth_var_Ctx_ZToList(in_Ctx_3);
	VAL v7 = mw_std_list_List_1_reverse(v6);
	VAL v8 = MKI64(0LL /* None */);
	bool v9 = true;
	TUP* v10 = in_ZPlusMirth_1;
	uint64_t v11 = in_Name_2;
	VAL v12 = v8;
	VAL v13 = v7;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		TUP* v16 = v10;
		uint64_t v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		bool v20 = v14;
		VAL v21;
		VAL v22 = mw_std_list_List_1_uncons(v19, &v21);
		TUP* branch_ZPlusMirth_23;
		uint64_t branch_Name_24;
		VAL branch_Maybe_25;
		VAL branch_List_26;
		bool branch_Bool_27;
		switch (get_data_tag(v22)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v22);
				incref(v28);
				TUP* v29;
				uint64_t v30 = mw_mirth_var_Var_name(v16, value_u64(v28), &v29);
				bool v31 = mw_mirth_name_Name_ZEqual(v17, v30);
				TUP* branch_ZPlusMirth_32;
				uint64_t branch_Name_33;
				VAL branch_Maybe_34;
				if (v31) {
					VAL v35 = mtw_std_maybe_Maybe_1_Some(v28);
					branch_Maybe_34 = v35;
					branch_Name_33 = v17;
					branch_ZPlusMirth_32 = v29;
				} else {
					decref(v28);
					VAL v36 = MKI64(0LL /* None */);
					branch_Maybe_34 = v36;
					branch_Name_33 = v17;
					branch_ZPlusMirth_32 = v29;
				}
				TUP* branch_ZPlusMirth_37;
				uint64_t branch_Name_38;
				VAL branch_Maybe_39;
				VAL branch_List_40;
				switch (get_data_tag(branch_Maybe_34)) {
					case 0LL: { // None
						branch_List_40 = v21;
						branch_Maybe_39 = v18;
						branch_Name_38 = branch_Name_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
					default: {
						decref(v21);
						decref(v18);
						VAL v41 = MKI64(0LL /* Nil */);
						branch_List_40 = v41;
						branch_Maybe_39 = branch_Maybe_34;
						branch_Name_38 = branch_Name_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
				}
				bool v42 = true;
				branch_Bool_27 = v42;
				branch_List_26 = branch_List_40;
				branch_Maybe_25 = branch_Maybe_39;
				branch_Name_24 = branch_Name_38;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_37;
			} break;
			case 0LL: { // None
				bool v43 = false;
				branch_Bool_27 = v43;
				branch_List_26 = v21;
				branch_Maybe_25 = v18;
				branch_Name_24 = v17;
				branch_ZPlusMirth_23 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_27;
		v14 = branch_Bool_27;
		v13 = branch_List_26;
		v12 = branch_Maybe_25;
		v11 = branch_Name_24;
		v10 = branch_ZPlusMirth_23;
	}
	decref(v13);
	*out_ZPlusMirth_4 = v10;
	return v12;
}
static VAL mw_mirth_var_Ctx_freshZ_nameZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Name_5) {
	INT v6 = WRAP_I63(1LL);
	STR* v7;
	STRLIT(v7, "_x1", 3);
	TUP* v8;
	uint64_t v9 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v7, &v8);
	bool v10 = true;
	TUP* v11 = v8;
	VAL v12 = in_Ctx_2;
	INT v13 = v6;
	uint64_t v14 = v9;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		TUP* v17 = v11;
		VAL v18 = v12;
		INT v19 = v13;
		uint64_t v20 = v14;
		bool v21 = v15;
		incref(v18);
		TUP* v22;
		VAL v23 = mw_mirth_var_Ctx_lookup(v17, v20, v18, &v22);
		INT branch_Int_24;
		TUP* branch_ZPlusMirth_25;
		uint64_t branch_Name_26;
		bool branch_Bool_27;
		switch (get_data_tag(v23)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v23);
				decref(v28);
				INT v29 = WRAP_I63(1LL);
				INT v30 = int_add(v19, v29);
				incref(MKINT(v30));
				STR* v31;
				STRLIT(v31, "", 0);
				STR* v32;
				STRLIT(v32, "_x", 2);
				STR* v33;
				mw_std_str_ZPlusStr_pushZ_strZBang(v32, v31, &v33);
				STR* v34 = int_to_str(v30);
				STR* v35;
				mw_std_str_ZPlusStr_pushZ_strZBang(v34, v33, &v35);
				TUP* v36;
				uint64_t v37 = mw_std_prim_Str_ZToName(v22, v35, &v36);
				bool v38 = true;
				branch_Bool_27 = v38;
				branch_Name_26 = v37;
				branch_ZPlusMirth_25 = v36;
				branch_Int_24 = v30;
			} break;
			case 0LL: { // None
				bool v39 = false;
				branch_Bool_27 = v39;
				branch_Name_26 = v20;
				branch_ZPlusMirth_25 = v22;
				branch_Int_24 = v19;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_27;
		v15 = branch_Bool_27;
		v14 = branch_Name_26;
		v13 = branch_Int_24;
		v12 = v18;
		v11 = branch_ZPlusMirth_25;
	}
	decref(MKINT(v13));
	*out_Name_5 = v14;
	*out_ZPlusMirth_3 = v11;
	return v12;
}
static VAL mw_mirth_var_Ctx_freshZ_varZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Ctx_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Var_6) {
	TUP* v7;
	uint64_t v8;
	VAL v9 = mw_mirth_var_Ctx_freshZ_nameZBang(in_ZPlusMirth_1, in_Ctx_3, &v7, &v8);
	TUP* v10;
	uint64_t v11 = mw_mirth_var_Var_NewZBang(v7, in_Type_2, v8, &v10);
	VAL v12 = mw_mirth_var_Ctx_new(v9, v11);
	*out_Var_6 = v11;
	*out_ZPlusMirth_4 = v10;
	return v12;
}
static VAL mw_mirth_var_Var_unifyZBang (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4) {
	uint64_t v6 = mw_mirth_var_Var_index(in_Var_2);
	uint64_t v7 = mw_mirth_var_Var_index(in_Var_3);
	bool v8 = (v6 == v7);
	TUP* branch_ZPlusMirth_9;
	VAL branch_Type_10;
	if (v8) {
		VAL v11 = mtw_mirth_type_Type_Var(in_Var_2);
		branch_Type_10 = v11;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		VAL v12 = mtw_mirth_type_Type_Var(in_Var_2);
		VAL v13 = mtw_mirth_type_Type_Var(in_Var_3);
		TUP* v14;
		VAL v15 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v12, v13, &v14);
		branch_Type_10 = v15;
		branch_ZPlusMirth_9 = v14;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Type_10;
}
static VAL mw_mirth_var_Var_kind (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_var_Var_type(in_ZPlusMirth_1, in_Var_2, &v5);
	VAL v7 = mw_mirth_type_Type_ZToKind(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_var_Var_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6) {
	incref(in_Subst_2);
	bool v7 = mw_mirth_type_Subst_hasZ_varZAsk(in_Var_3, in_Subst_2);
	TUP* branch_ZPlusMirth_8;
	VAL branch_Subst_9;
	VAL branch_Type_10;
	if (v7) {
		incref(in_Subst_2);
		VAL v11 = mw_mirth_type_Subst_getZ_var(in_Var_3, in_Subst_2);
		branch_Type_10 = v11;
		branch_Subst_9 = in_Subst_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		TUP* v12;
		VAL v13 = mw_mirth_var_Var_kind(in_ZPlusMirth_1, in_Var_3, &v12);
		TUP* v14;
		uint64_t v15 = mw_mirth_type_MetaVar_NewZBang(v12, v13, &v14);
		VAL v16 = mtw_mirth_type_Type_Meta(v15);
		incref(v16);
		VAL v17 = mw_mirth_type_Subst_cons(v16, in_Var_3, in_Subst_2);
		branch_Type_10 = v16;
		branch_Subst_9 = v17;
		branch_ZPlusMirth_8 = v14;
	}
	*out_Type_6 = branch_Type_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Subst_9;
}
static VAL mw_mirth_var_Var_sortZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_var_Var_type(in_ZPlusMirth_1, in_Var_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_Type_ZToSortZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static VAL mw_mirth_type_Type_ZToSortZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			TUP* v8;
			VAL v9 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v7, &v8);
			TUP* branch_ZPlusMirth_10;
			VAL branch_Maybe_11;
			switch (get_data_tag(v9)) {
				case 0LL: { // None
					VAL v12 = MKI64(0LL /* None */);
					branch_Maybe_11 = v12;
					branch_ZPlusMirth_10 = v8;
				} break;
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
					TUP* v14;
					VAL v15 = mw_mirth_type_Type_expand(v8, v13, &v14);
					incref(v15);
					VAL v16 = mtw_std_maybe_Maybe_1_Some(v15);
					void* v17 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v7);
					mut_set(v16, v17);
					TUP* v18;
					VAL v19 = mw_mirth_type_Type_ZToSortZAsk(v14, v15, &v18);
					branch_Maybe_11 = v19;
					branch_ZPlusMirth_10 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_11;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_10;
		} break;
		case 2LL: { // Prim
			int64_t v20 = mtp_mirth_type_Type_Prim(in_Type_2);
			TUP* v21;
			VAL v22 = mw_mirth_type_PrimType_ZToSortZAsk(in_ZPlusMirth_1, v20, &v21);
			branch_Maybe_6 = v22;
			branch_ZPlusMirth_5 = v21;
		} break;
		default: {
			decref(in_Type_2);
			VAL v23 = MKI64(0LL /* None */);
			branch_Maybe_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_type_PrimType_ZToSortZAsk (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (in_PrimType_2) {
		case 1LL: { // TYPE
			int64_t v7 = 0LL /* Type */;
			VAL v8 = mtw_std_maybe_Maybe_1_Some(MKI64(v7));
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // STACK
			int64_t v9 = 2LL /* Stack */;
			VAL v10 = mtw_std_maybe_Maybe_1_Some(MKI64(v9));
			branch_Maybe_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // RESOURCE
			int64_t v11 = 1LL /* Resource */;
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKI64(v11));
			branch_Maybe_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static uint64_t mw_mirth_external_External_allocZBang (void) {
	void* v2 = mbuf_mirth_external_External_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_external_External_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_external_External_index (uint64_t in_External_1) {
	return in_External_1;
}
static VAL mw_mirth_external_External_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildeqname, in_External_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static TUP* mw_mirth_external_External_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildeqname, in_External_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static uint64_t mw_mirth_external_External_name (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildename, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_external_External_arity (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildearity, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static STR* mw_mirth_external_External_symbol (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildesymbol, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_str(v6);
}
static uint64_t mw_mirth_external_External_head (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildehead, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_external_External_sig (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildesig, in_External_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_external_External_ctxZ_type (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	void* v6 = field_mut(&mfld_mirth_external_External_ZTildectxZ_type, in_External_2);
	TUP* v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = value_tup(v8, 2)->cells[0];
	VAL v10 = value_tup(v8, 2)->cells[1];
	tup_decref_outer(value_tup(v8, 2),2);
	*out_ArrowType_5 = value_tup(v10, 2);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static TUP* mw_mirth_external_External_type (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6;
	VAL v7 = mw_mirth_external_External_ctxZ_type(in_ZPlusMirth_1, in_External_2, &v5, &v6);
	decref(v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static TUP* mw_mirth_external_External_ctype (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildectype, in_External_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 2);
}
static bool mw_mirth_external_External_ZEqual (uint64_t in_External_1, uint64_t in_External_2) {
	uint64_t v4 = mw_mirth_external_External_index(in_External_1);
	uint64_t v5 = mw_mirth_external_External_index(in_External_2);
	bool v6 = (v4 == v5);
	return v6;
}
static uint64_t mw_mirth_external_ExternalBlock_allocZBang (void) {
	void* v2 = mbuf_mirth_external_ExternalBlock_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_external_ExternalBlock_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static VAL mw_mirth_external_ExternalBlock_parts (TUP* in_ZPlusMirth_1, uint64_t in_ExternalBlock_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_ExternalBlock_ZTildeparts, in_ExternalBlock_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_word_Word_allocZBang (void) {
	void* v2 = mbuf_mirth_word_Word_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_word_Word_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_word_Word_index (uint64_t in_Word_1) {
	return in_Word_1;
}
static VAL mw_mirth_word_Word_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildeqname, in_Word_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static TUP* mw_mirth_word_Word_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildeqname, in_Word_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static VAL mw_mirth_word_Word_namespaceZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, in_Word_2, &v5);
	VAL v7 = v6->cells[0];
	incref(v7);
	decref(MKTUP(v6, 3));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_word_Word_doc (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildedoc, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_word_Word_name (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildename, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_word_Word_head (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildehead, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_word_Word_sigZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildesigZAsk, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_word_Word_body (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildebody, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_word_Word_arity (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildearity, in_Word_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static VAL mw_mirth_word_Word_params (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildeparams, in_Word_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_List_8;
	if (v6) {
		TUP* v9;
		VAL v10 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v9);
		branch_List_8 = v10;
		branch_ZPlusMirth_7 = v9;
	} else {
		VAL v11 = MKI64(0LL /* Nil */);
		branch_List_8 = v11;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static TUP* mw_mirth_word_Word_arrow (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildearrow, in_Word_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 7);
}
static bool mw_mirth_word_Word_inferringZ_typeZAsk (uint64_t in_Word_1) {
	void* v3 = field_mut(&mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk, in_Word_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	bool v5 = mw_std_maybe_Maybe_1_unwrap_1_sp11(v4);
	return v5;
}
static uint64_t mw_mirth_word_Word_NewZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, uint64_t in_Token_4, uint64_t in_Name_5, INT in_Nat_6, VAL in_Maybe_7, TUP* *out_ZPlusMirth_8) {
	uint64_t v10 = mw_mirth_word_Word_allocZBang();
	void* v11 = field_mut(&mfld_mirth_word_Word_ZTildedoc, v10);
	mut_set(in_Maybe_7, v11);
	void* v12 = field_mut(&mfld_mirth_word_Word_ZTildename, v10);
	mut_set(MKU64(in_Name_5), v12);
	void* v13 = field_mut(&mfld_mirth_word_Word_ZTildehead, v10);
	mut_set(MKU64(in_Token_2), v13);
	void* v14 = field_mut(&mfld_mirth_word_Word_ZTildebody, v10);
	mut_set(MKU64(in_Token_4), v14);
	void* v15 = field_mut(&mfld_mirth_word_Word_ZTildearity, v10);
	mut_set(MKINT(in_Nat_6), v15);
	void* v16 = field_mut(&mfld_mirth_word_Word_ZTildesigZAsk, v10);
	mut_set(in_Maybe_3, v16);
	VAL v17 = mtw_mirth_def_Def_Word(v10);
	TUP* v18;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v17, &v18);
	*out_ZPlusMirth_8 = v18;
	return v10;
}
static STR* mw_mirth_word_Word_cname (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildecname, in_Word_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Word_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Word_8 = in_Word_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, in_Word_2, &v11);
		TUP* v13;
		STR* v14 = mw_mirth_name_QName_mangled(v11, v12, &v13);
		STR* v15;
		STRLIT(v15, "", 0);
		STR* v16;
		STRLIT(v16, "mw_", 3);
		STR* v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(v16, v15, &v17);
		STR* v18;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v17, &v18);
		incref(MKSTR(v18));
		mut_set(MKSTR(v18), v5);
		branch_Str_9 = v18;
		branch_Word_8 = in_Word_2;
		branch_ZPlusMirth_7 = v13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static VAL mw_mirth_word_Word_ctxZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	void* v6 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, in_Word_2);
	TUP* v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = value_tup(v8, 2)->cells[0];
	VAL v10 = value_tup(v8, 2)->cells[1];
	tup_decref_outer(value_tup(v8, 2),2);
	*out_ArrowType_5 = value_tup(v10, 2);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static TUP* mw_mirth_word_Word_type (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6;
	VAL v7 = mw_mirth_word_Word_ctxZ_type(in_ZPlusMirth_1, in_Word_2, &v5, &v6);
	decref(v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_word_Word_preferZ_inlineZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk, in_Word_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	bool v7 = mw_std_maybe_Maybe_1_unwrap_1_sp11(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static void mw_mirth_word_Word_makeZ_inlineZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	bool v4 = true;
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk, in_Word_2);
	mut_set(MKBOOL(v4), v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static bool mw_mirth_word_Word_ZEqual (uint64_t in_Word_1, uint64_t in_Word_2) {
	uint64_t v4 = mw_mirth_word_Word_index(in_Word_1);
	uint64_t v5 = mw_mirth_word_Word_index(in_Word_2);
	bool v6 = (v4 == v5);
	return v6;
}
static INT mw_mirth_word_Word_incZ_numZ_blocksZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildenumZ_blocks, in_Word_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	TUP* branch_ZPlusMirth_7;
	INT branch_Int_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v9);
			INT v10 = WRAP_I63(1LL);
			INT v11 = int_add(value_int(v9), v10);
			void* v12 = field_mut(&mfld_mirth_word_Word_ZTildenumZ_blocks, in_Word_2);
			mut_set(MKINT(v11), v12);
			branch_Int_8 = value_int(v9);
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			INT v13 = WRAP_I63(1LL);
			void* v14 = field_mut(&mfld_mirth_word_Word_ZTildenumZ_blocks, in_Word_2);
			mut_set(MKINT(v13), v14);
			INT v15 = WRAP_I63(0LL);
			branch_Int_8 = v15;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Int_8;
}
static uint64_t mw_mirth_typedef_TypeDef_allocZBang (void) {
	void* v2 = mbuf_mirth_typedef_TypeDef_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_typedef_TypeDef_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_typedef_TypeDef_index (uint64_t in_TypeDef_1) {
	return in_TypeDef_1;
}
static VAL mw_mirth_typedef_TypeDef_headZAsk (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeheadZAsk, in_TypeDef_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_typedef_TypeDef_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeqname, in_TypeDef_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static TUP* mw_mirth_typedef_TypeDef_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeqname, in_TypeDef_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static VAL mw_mirth_typedef_TypeDef_namespace (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6 = mw_mirth_typedef_TypeDef_qnameZ_hard(in_ZPlusMirth_1, in_TypeDef_2, &v5);
	VAL v7 = v6->cells[0];
	incref(v7);
	decref(MKTUP(v6, 3));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static uint64_t mw_mirth_typedef_TypeDef_name (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildename, in_TypeDef_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_typedef_TypeDef_target (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildetarget, in_TypeDef_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_typedef_TypeDef_params (TUP* in_ZPlusMirth_1, uint64_t in_TypeDef_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v5;
}
static bool mw_mirth_typedef_TypeDef_ZEqual (uint64_t in_TypeDef_1, uint64_t in_TypeDef_2) {
	uint64_t v4 = mw_mirth_typedef_TypeDef_index(in_TypeDef_1);
	uint64_t v5 = mw_mirth_typedef_TypeDef_index(in_TypeDef_2);
	bool v6 = (v4 == v5);
	return v6;
}
static uint64_t mw_mirth_typedef_TypeDef_newZBang (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Name_3, VAL in_PropState_4, TUP* *out_ZPlusMirth_5) {
	uint64_t v7 = mw_mirth_typedef_TypeDef_allocZBang();
	void* v8 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeheadZAsk, v7);
	mut_set(in_Maybe_2, v8);
	void* v9 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildename, v7);
	mut_set(MKU64(in_Name_3), v9);
	VAL v10 = mtw_mirth_mirth_PropLabel_TypeDefQName(v7);
	TUP* v11 = mtw_mirth_mirth_Prop_1_Prop(v10, in_PropState_4);
	void* v12 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildeqname, v7);
	mut_set(MKTUP(v11, 2), v12);
	VAL v13 = mtw_mirth_def_Def_Type(v7);
	TUP* v14;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v13, &v14);
	*out_ZPlusMirth_5 = v14;
	return v7;
}
static void mw_mirth_mirth_ZPlusMirth_defZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_QName_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	VAL v5 = MKI64(0LL /* None */);
	incref(MKTUP(in_QName_2, 3));
	uint64_t v6 = value_u64(in_QName_2->cells[1]);
	decref(MKTUP(in_QName_2, 3));
	VAL v7 = mtw_mirth_mirth_PropState_1_Ready(MKTUP(in_QName_2, 3));
	TUP* v8;
	uint64_t v9 = mw_mirth_typedef_TypeDef_newZBang(in_ZPlusMirth_1, v5, v6, v7, &v8);
	VAL v10 = mtw_mirth_mirth_PropLabel_TypeDefTarget(v9);
	TUP* v11;
	TUP* v12 = mw_mirth_mirth_PropLabel_prop(v8, in_Type_3, v10, &v11);
	void* v13 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildetarget, v9);
	mut_set(MKTUP(v12, 2), v13);
	*out_ZPlusMirth_4 = v11;
}
static uint64_t mw_mirth_package_Package_allocZBang (void) {
	void* v2 = mbuf_mirth_package_Package_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_package_Package_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_package_Package_index (uint64_t in_Package_1) {
	return in_Package_1;
}
static uint64_t mw_mirth_package_Package_name (TUP* in_ZPlusMirth_1, uint64_t in_Package_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_package_Package_ZTildename, in_Package_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static TUP* mw_mirth_package_Package_qname (TUP* in_ZPlusMirth_1, uint64_t in_Package_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Root */);
	TUP* v6;
	uint64_t v7 = mw_mirth_package_Package_name(in_ZPlusMirth_1, in_Package_2, &v6);
	INT v8 = WRAP_I63(0LL);
	TUP* v9 = mw_mirth_name_QName_Mk(v5, v7, v8);
	*out_ZPlusMirth_3 = v6;
	return v9;
}
static VAL mw_mirth_package_Package_path (TUP* in_ZPlusMirth_1, uint64_t in_Package_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_package_Package_ZTildepath, in_Package_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static void mw_mirth_package_Package_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Package_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	uint64_t v7 = mw_mirth_package_Package_name(in_ZPlusMirth_1, in_Package_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static uint64_t mw_mirth_package_Package_Std (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v4 = value_tup(in_ZPlusMirth_1->cells[2], 42);
	incref(MKTUP(v4, 42));
	uint64_t v5 = value_u64(v4->cells[0]);
	decref(MKTUP(v4, 42));
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v5;
}
static VAL mw_mirth_package_Package_pathZ_orZ_search (TUP* in_ZPlusMirth_1, uint64_t in_Package_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	VAL v8 = mw_mirth_package_Package_path(in_ZPlusMirth_1, in_Package_2, &v7);
	TUP* branch_ZPlusMirth_9;
	VAL branch_Maybe_10;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
			branch_Maybe_10 = v12;
			branch_ZPlusMirth_9 = v7;
		} break;
		case 0LL: { // None
			VAL v13 = v7->cells[4];
			incref(v13);
			VAL v14 = MKI64(0LL /* Nil */);
			VAL v15;
			mw_std_list_List_1_buildZBang(v14, &v15);
			bool v16 = true;
			TUP* v17 = v7;
			uint64_t v18 = in_Package_2;
			VAL v19 = v15;
			VAL v20 = v13;
			bool v21 = v16;
			bool v22 = v16;
			while (v22) {
				TUP* v23 = v17;
				uint64_t v24 = v18;
				VAL v25 = v19;
				VAL v26 = v20;
				bool v27 = v21;
				uint64_t branch_Package_28;
				TUP* branch_ZPlusMirth_29;
				VAL branch_ZPlusLister_30;
				VAL branch_List_31;
				bool branch_Bool_32;
				switch (get_data_tag(v26)) {
					case 1LL: { // Cons
						VAL v33;
						VAL v34 = mtp_std_list_List_1_Cons(v26, &v33);
						TUP* v35;
						uint64_t v36 = mw_mirth_package_Package_name(v23, v24, &v35);
						TUP* v37;
						STR* v38 = mw_mirth_name_Name_ZToStr(v35, v36, &v37);
						STR* v39 = mw_std_path_Path_join(value_str(v34), v38);
						VAL v40;
						mw_std_list_ZPlusLister_1_pushZBang(MKSTR(v39), v25, &v40);
						bool v41 = true;
						branch_Bool_32 = v41;
						branch_List_31 = v33;
						branch_ZPlusLister_30 = v40;
						branch_ZPlusMirth_29 = v37;
						branch_Package_28 = v24;
					} break;
					case 0LL: { // Nil
						VAL v42 = MKI64(0LL /* Nil */);
						bool v43 = false;
						branch_Bool_32 = v43;
						branch_List_31 = v42;
						branch_ZPlusLister_30 = v25;
						branch_ZPlusMirth_29 = v23;
						branch_Package_28 = v24;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v22 = branch_Bool_32;
				v21 = branch_Bool_32;
				v20 = branch_List_31;
				v19 = branch_ZPlusLister_30;
				v18 = branch_Package_28;
				v17 = branch_ZPlusMirth_29;
			}
			decref(v20);
			VAL v44 = mw_std_list_ZPlusLister_1_doneZBang(v19);
			VAL v45 = MKI64(0LL /* None */);
			bool v46 = true;
			TUP* v47 = v17;
			VAL v48 = v45;
			VAL v49 = v44;
			bool v50 = v46;
			bool v51 = v46;
			while (v51) {
				TUP* v52 = v47;
				VAL v53 = v48;
				VAL v54 = v49;
				bool v55 = v50;
				VAL v56;
				VAL v57 = mw_std_list_List_1_uncons(v54, &v56);
				VAL branch_z_x1_58;
				VAL branch_Maybe_59;
				VAL branch_List_60;
				bool branch_Bool_61;
				switch (get_data_tag(v57)) {
					case 1LL: { // Some
						VAL v62 = mtp_std_maybe_Maybe_1_Some(v57);
						incref(v62);
						bool v63 = mw_std_prim_ZPlusWorld_isZ_directoryZAsk(value_str(v62));
						VAL branch_z_x1_64;
						VAL branch_Maybe_65;
						if (v63) {
							VAL v66 = mtw_std_maybe_Maybe_1_Some(v62);
							branch_Maybe_65 = v66;
							branch_z_x1_64 = MKTUP(v52, 10);
						} else {
							decref(v62);
							VAL v67 = MKI64(0LL /* None */);
							branch_Maybe_65 = v67;
							branch_z_x1_64 = MKTUP(v52, 10);
						}
						VAL branch_z_x1_68;
						VAL branch_Maybe_69;
						VAL branch_List_70;
						switch (get_data_tag(branch_Maybe_65)) {
							case 0LL: { // None
								branch_List_70 = v56;
								branch_Maybe_69 = v53;
								branch_z_x1_68 = branch_z_x1_64;
							} break;
							default: {
								decref(v56);
								decref(v53);
								VAL v71 = MKI64(0LL /* Nil */);
								branch_List_70 = v71;
								branch_Maybe_69 = branch_Maybe_65;
								branch_z_x1_68 = branch_z_x1_64;
							} break;
						}
						bool v72 = true;
						branch_Bool_61 = v72;
						branch_List_60 = branch_List_70;
						branch_Maybe_59 = branch_Maybe_69;
						branch_z_x1_58 = branch_z_x1_68;
					} break;
					case 0LL: { // None
						bool v73 = false;
						branch_Bool_61 = v73;
						branch_List_60 = v56;
						branch_Maybe_59 = v53;
						branch_z_x1_58 = MKTUP(v52, 10);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v51 = branch_Bool_61;
				v50 = branch_Bool_61;
				v49 = branch_List_60;
				v48 = branch_Maybe_59;
				v47 = value_tup(branch_z_x1_58, 10);
			}
			decref(v49);
			incref(v48);
			void* v74 = field_mut(&mfld_mirth_package_Package_ZTildepath, v18);
			mut_set(v48, v74);
			branch_Maybe_10 = v48;
			branch_ZPlusMirth_9 = v47;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Maybe_10;
}
static void mw_mirth_package_Package_pathZBang (TUP* in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Package_3, TUP* *out_ZPlusMirth_4) {
	TUP* v5;
	VAL v6 = mw_mirth_package_Package_path(in_ZPlusMirth_1, in_Package_3, &v5);
	TUP* branch_ZPlusMirth_7;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(MKSTR(in_Path_2));
			incref(v8);
			bool v9 = (str_cmp(in_Path_2, value_str(v8)) == 0);
			TUP* branch_ZPlusMirth_10;
			if (v9) {
				decref(v8);
				decref(MKSTR(in_Path_2));
				branch_ZPlusMirth_10 = v5;
			} else {
				STR* v11;
				STRLIT(v11, "", 0);
				STR* v12;
				STRLIT(v12, "Tried to set different path for the same package ", 49);
				STR* v13;
				mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
				STR* v14;
				STRLIT(v14, "(package = ", 11);
				STR* v15;
				mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
				TUP* v16;
				STR* v17;
				mw_mirth_package_Package_nameZThen(v5, v15, in_Package_3, &v16, &v17);
				STR* v18;
				STRLIT(v18, ", path 1 = ", 11);
				STR* v19;
				mw_std_str_ZPlusStr_pushZ_strZBang(v18, v17, &v19);
				STR* v20;
				mw_std_prim_Str_reprZThen(in_Path_2, v19, &v20);
				STR* v21;
				STRLIT(v21, ", path 2 = ", 11);
				STR* v22;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v22);
				STR* v23;
				mw_std_prim_Str_reprZThen(value_str(v8), v22, &v23);
				STR* v24;
				STRLIT(v24, ").", 2);
				STR* v25;
				mw_std_str_ZPlusStr_pushZ_strZBang(v24, v23, &v25);
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v16, v25);
			}
			branch_ZPlusMirth_7 = branch_ZPlusMirth_10;
		} break;
		case 0LL: { // None
			VAL v27 = mtw_std_maybe_Maybe_1_Some(MKSTR(in_Path_2));
			void* v28 = field_mut(&mfld_mirth_package_Package_ZTildepath, in_Package_3);
			mut_set(v27, v28);
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static uint64_t mw_mirth_package_Package_NewZBang (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4) {
	uint64_t v6 = mw_mirth_package_Package_allocZBang();
	void* v7 = field_mut(&mfld_mirth_package_Package_ZTildename, v6);
	mut_set(MKU64(in_Name_3), v7);
	void* v8 = field_mut(&mfld_mirth_package_Package_ZTildepath, v6);
	mut_set(in_Maybe_2, v8);
	VAL v9 = mtw_mirth_def_Def_Package(v6);
	TUP* v10;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v9, &v10);
	*out_ZPlusMirth_4 = v10;
	return v6;
}
static uint64_t mw_mirth_package_Package_NewZ_OrZ_PathZBang (TUP* in_ZPlusMirth_1, STR* in_Path_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_package_Package_FindZAsk(in_ZPlusMirth_1, in_Name_3, &v6);
	uint64_t branch_Package_8;
	TUP* branch_ZPlusMirth_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			incref(v10);
			TUP* v11;
			mw_mirth_package_Package_pathZBang(v6, in_Path_2, value_u64(v10), &v11);
			branch_ZPlusMirth_9 = v11;
			branch_Package_8 = value_u64(v10);
		} break;
		case 0LL: { // None
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(in_Path_2));
			TUP* v13;
			uint64_t v14 = mw_mirth_package_Package_NewZBang(v6, v12, in_Name_3, &v13);
			branch_ZPlusMirth_9 = v13;
			branch_Package_8 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Package_8;
}
static VAL mw_mirth_package_Package_FindZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Root */);
	INT v6 = WRAP_I63(0LL);
	TUP* v7 = mw_mirth_name_QName_Mk(v5, in_Name_2, v6);
	TUP* v8;
	VAL v9 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, v7, &v8);
	VAL branch_Maybe_10;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v9);
			VAL v12 = mw_mirth_def_Def_packageZAsk(v11);
			branch_Maybe_10 = v12;
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_10 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = v8;
	return branch_Maybe_10;
}
static uint64_t mw_mirth_package_Package_FindZ_OrZ_NewZBang (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_package_Package_FindZAsk(in_ZPlusMirth_1, in_Name_2, &v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Name_8;
	uint64_t branch_Package_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_Package_9 = value_u64(v10);
			branch_Name_8 = in_Name_2;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			VAL v11 = MKI64(0LL /* None */);
			TUP* v12;
			uint64_t v13 = mw_mirth_package_Package_NewZBang(v5, v11, in_Name_2, &v12);
			branch_Package_9 = v13;
			branch_Name_8 = in_Name_2;
			branch_ZPlusMirth_7 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Package_9;
}
static bool mw_mirth_package_Package_ZEqual (uint64_t in_Package_1, uint64_t in_Package_2) {
	uint64_t v4 = mw_mirth_package_Package_index(in_Package_1);
	uint64_t v5 = mw_mirth_package_Package_index(in_Package_2);
	bool v6 = (v4 == v5);
	return v6;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_packagesZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v3 = value_tup(in_ZPlusMirth_1->cells[2], 42);
	incref(MKTUP(v3, 42));
	uint64_t v4 = value_u64(v3->cells[0]);
	decref(MKTUP(v3, 42));
	STR* v5;
	STRLIT(v5, "std", 3);
	TUP* v6;
	uint64_t v7 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v5, &v6);
	void* v8 = field_mut(&mfld_mirth_package_Package_ZTildename, v4);
	mut_set(MKU64(v7), v8);
	VAL v9 = MKI64(0LL /* None */);
	void* v10 = field_mut(&mfld_mirth_package_Package_ZTildepath, v4);
	mut_set(v9, v10);
	VAL v11 = mtw_mirth_def_Def_Package(v4);
	TUP* v12;
	mw_mirth_def_Def_register(v6, v11, &v12);
	*out_ZPlusMirth_2 = v12;
}
static void mw_mirth_match_Match_thaw (TUP* in_Match_1, TUP* *out_ZPlusMatch_2) {
	VAL v3;
	uint64_t v4;
	uint64_t v5;
	VAL v6;
	VAL v7;
	VAL v8;
	VAL v9;
	mtp_mirth_match_Match_Match(in_Match_1, &v3, &v4, &v5, &v6, &v7, &v8, &v9);
	TUP* v10;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v3, v4, v5, v6, v7, v8, v9, &v10);
	*out_ZPlusMatch_2 = v10;
}
static bool mw_mirth_match_Match_isZ_exhaustiveZAsk (TUP* in_ZPlusMirth_1, TUP* in_Match_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_Match_2, 7));
	TUP* v5;
	bool v6 = mw_mirth_match_Match_hasZ_defaultZ_caseZAsk(in_ZPlusMirth_1, in_Match_2, &v5);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_Match_8;
	bool branch_Bool_9;
	if (v6) {
		bool v10 = true;
		branch_Bool_9 = v10;
		branch_Match_8 = in_Match_2;
		branch_ZPlusMirth_7 = v5;
	} else {
		incref(MKTUP(in_Match_2, 7));
		TUP* v11;
		VAL v12 = mw_mirth_match_Match_scrutineeZ_dataZAsk(v5, in_Match_2, &v11);
		TUP* branch_ZPlusMirth_13;
		TUP* branch_Match_14;
		bool branch_Bool_15;
		switch (get_data_tag(v12)) {
			case 1LL: { // Some
				VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
				TUP* v17;
				INT v18 = mw_mirth_data_Data_numZ_tags(v11, value_u64(v16), &v17);
				incref(MKTUP(in_Match_2, 7));
				VAL v19 = in_Match_2->cells[6];
				incref(v19);
				decref(MKTUP(in_Match_2, 7));
				INT v20 = mw_std_list_List_1_len(v19);
				bool v21 = int_eq(v18, v20);
				branch_Bool_15 = v21;
				branch_Match_14 = in_Match_2;
				branch_ZPlusMirth_13 = v17;
			} break;
			case 0LL: { // None
				incref(MKTUP(in_Match_2, 7));
				VAL v22 = in_Match_2->cells[6];
				incref(v22);
				decref(MKTUP(in_Match_2, 7));
				INT v23 = mw_std_list_List_1_len(v22);
				INT v24 = WRAP_I63(0LL);
				bool v25 = int_lt(v24, v23);
				branch_Bool_15 = v25;
				branch_Match_14 = in_Match_2;
				branch_ZPlusMirth_13 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Bool_9 = branch_Bool_15;
		branch_Match_8 = branch_Match_14;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_13;
	}
	decref(MKTUP(branch_Match_8, 7));
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_9;
}
static bool mw_mirth_match_Match_hasZ_defaultZ_caseZAsk (TUP* in_ZPlusMirth_1, TUP* in_Match_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = in_Match_2->cells[6];
	incref(v5);
	decref(MKTUP(in_Match_2, 7));
	VAL v6 = MKI64(0LL /* None */);
	bool v7 = true;
	VAL v8 = v6;
	VAL v9 = v5;
	bool v10 = v7;
	bool v11 = v7;
	while (v11) {
		VAL v12 = v8;
		VAL v13 = v9;
		bool v14 = v10;
		VAL v15;
		VAL v16 = mw_std_list_List_1_uncons(v13, &v15);
		VAL branch_Maybe_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v16)) {
			case 1LL: { // Some
				VAL v20 = mtp_std_maybe_Maybe_1_Some(v16);
				incref(v20);
				bool v21 = mw_mirth_match_Case_isZ_defaultZ_caseZAsk(value_tup(v20, 2));
				VAL branch_Maybe_22;
				if (v21) {
					VAL v23 = mtw_std_maybe_Maybe_1_Some(v20);
					branch_Maybe_22 = v23;
				} else {
					decref(v20);
					VAL v24 = MKI64(0LL /* None */);
					branch_Maybe_22 = v24;
				}
				VAL branch_Maybe_25;
				VAL branch_List_26;
				switch (get_data_tag(branch_Maybe_22)) {
					case 0LL: { // None
						branch_List_26 = v15;
						branch_Maybe_25 = v12;
					} break;
					default: {
						decref(v15);
						decref(v12);
						VAL v27 = MKI64(0LL /* Nil */);
						branch_List_26 = v27;
						branch_Maybe_25 = branch_Maybe_22;
					} break;
				}
				bool v28 = true;
				branch_Bool_19 = v28;
				branch_List_18 = branch_List_26;
				branch_Maybe_17 = branch_Maybe_25;
			} break;
			case 0LL: { // None
				bool v29 = false;
				branch_Bool_19 = v29;
				branch_List_18 = v15;
				branch_Maybe_17 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_Maybe_17;
	}
	decref(v9);
	int64_t v30 = get_data_tag(v8);
	decref(v8);
	INT v31 = WRAP_I63(0LL);
	INT v32 = i64_to_int(v30);
	bool v33 = int_eq(v32, v31);
	bool v34 = !v33;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v34;
}
static VAL mw_mirth_match_Match_scrutineeZ_dataZAsk (TUP* in_ZPlusMirth_1, TUP* in_Match_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = in_Match_2->cells[6];
	incref(v5);
	decref(MKTUP(in_Match_2, 7));
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	VAL v9 = v7;
	VAL v10 = v5;
	bool v11 = v8;
	bool v12 = v8;
	while (v12) {
		VAL v13 = v9;
		VAL v14 = v10;
		bool v15 = v11;
		VAL branch_ZPlusLister_16;
		VAL branch_List_17;
		bool branch_Bool_18;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v19;
				VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
				incref(v20);
				bool v21 = mw_mirth_match_Case_isZ_defaultZ_caseZAsk(value_tup(v20, 2));
				bool v22 = !v21;
				VAL branch_ZPlusLister_23;
				if (v22) {
					VAL v24;
					mw_std_list_ZPlusLister_1_pushZBang(v20, v13, &v24);
					branch_ZPlusLister_23 = v24;
				} else {
					decref(v20);
					branch_ZPlusLister_23 = v13;
				}
				bool v25 = true;
				branch_Bool_18 = v25;
				branch_List_17 = v19;
				branch_ZPlusLister_16 = branch_ZPlusLister_23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_18 = v27;
				branch_List_17 = v26;
				branch_ZPlusLister_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_18;
		v11 = branch_Bool_18;
		v10 = branch_List_17;
		v9 = branch_ZPlusLister_16;
	}
	decref(v10);
	VAL v28 = mw_std_list_ZPlusLister_1_doneZBang(v9);
	incref(v28);
	VAL v29 = mw_std_list_List_1_first(v28);
	VAL branch_Maybe_30;
	switch (get_data_tag(v29)) {
		case 1LL: { // Some
			VAL v31 = mtp_std_maybe_Maybe_1_Some(v29);
			TUP* v32 = value_tup(VTUP(v31)->cells[0], 9);
			incref(MKTUP(v32, 9));
			decref(v31);
			VAL v33 = mw_mirth_match_Pattern_singleZ_tagZAsk(v32);
			branch_Maybe_30 = v33;
		} break;
		case 0LL: { // None
			VAL v34 = MKI64(0LL /* None */);
			branch_Maybe_30 = v34;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_35;
	VAL branch_Maybe_36;
	switch (get_data_tag(branch_Maybe_30)) {
		case 1LL: { // Some
			VAL v37 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_30);
			TUP* v38;
			uint64_t v39 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, value_u64(v37), &v38);
			VAL v40 = mtw_std_maybe_Maybe_1_Some(MKU64(v39));
			branch_Maybe_36 = v40;
			branch_ZPlusMirth_35 = v38;
		} break;
		case 0LL: { // None
			VAL v41 = MKI64(0LL /* None */);
			branch_Maybe_36 = v41;
			branch_ZPlusMirth_35 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_42;
	VAL branch_Maybe_43;
	switch (get_data_tag(branch_Maybe_36)) {
		case 1LL: { // Some
			VAL v44 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_36);
			VAL v45 = MKI64(0LL /* None */);
			bool v46 = true;
			TUP* v47 = branch_ZPlusMirth_35;
			VAL v48 = v44;
			VAL v49 = v45;
			VAL v50 = v28;
			bool v51 = v46;
			bool v52 = v46;
			while (v52) {
				TUP* v53 = v47;
				VAL v54 = v48;
				VAL v55 = v49;
				VAL v56 = v50;
				bool v57 = v51;
				VAL v58;
				VAL v59 = mw_std_list_List_1_uncons(v56, &v58);
				uint64_t branch_Data_60;
				TUP* branch_ZPlusMirth_61;
				VAL branch_Maybe_62;
				VAL branch_List_63;
				bool branch_Bool_64;
				switch (get_data_tag(v59)) {
					case 1LL: { // Some
						VAL v65 = mtp_std_maybe_Maybe_1_Some(v59);
						incref(v65);
						TUP* v66 = value_tup(VTUP(v65)->cells[0], 9);
						incref(MKTUP(v66, 9));
						decref(v65);
						VAL v67 = mw_mirth_match_Pattern_singleZ_tagZAsk(v66);
						uint64_t branch_Data_68;
						TUP* branch_ZPlusMirth_69;
						bool branch_Bool_70;
						switch (get_data_tag(v67)) {
							case 1LL: { // Some
								VAL v71 = mtp_std_maybe_Maybe_1_Some(v67);
								incref(v54);
								TUP* v72;
								uint64_t v73 = mw_mirth_data_Tag_data(v53, value_u64(v71), &v72);
								bool v74 = mw_mirth_data_Data_ZEqual(value_u64(v54), v73);
								branch_Bool_70 = v74;
								branch_ZPlusMirth_69 = v72;
								branch_Data_68 = value_u64(v54);
							} break;
							case 0LL: { // None
								bool v75 = false;
								branch_Bool_70 = v75;
								branch_ZPlusMirth_69 = v53;
								branch_Data_68 = value_u64(v54);
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						bool v76 = !branch_Bool_70;
						uint64_t branch_Data_77;
						TUP* branch_ZPlusMirth_78;
						VAL branch_Maybe_79;
						if (v76) {
							VAL v80 = mtw_std_maybe_Maybe_1_Some(v65);
							branch_Maybe_79 = v80;
							branch_ZPlusMirth_78 = branch_ZPlusMirth_69;
							branch_Data_77 = branch_Data_68;
						} else {
							decref(v65);
							VAL v81 = MKI64(0LL /* None */);
							branch_Maybe_79 = v81;
							branch_ZPlusMirth_78 = branch_ZPlusMirth_69;
							branch_Data_77 = branch_Data_68;
						}
						uint64_t branch_Data_82;
						TUP* branch_ZPlusMirth_83;
						VAL branch_Maybe_84;
						VAL branch_List_85;
						switch (get_data_tag(branch_Maybe_79)) {
							case 0LL: { // None
								branch_List_85 = v58;
								branch_Maybe_84 = v55;
								branch_ZPlusMirth_83 = branch_ZPlusMirth_78;
								branch_Data_82 = branch_Data_77;
							} break;
							default: {
								decref(v58);
								decref(v55);
								VAL v86 = MKI64(0LL /* Nil */);
								branch_List_85 = v86;
								branch_Maybe_84 = branch_Maybe_79;
								branch_ZPlusMirth_83 = branch_ZPlusMirth_78;
								branch_Data_82 = branch_Data_77;
							} break;
						}
						bool v87 = true;
						branch_Bool_64 = v87;
						branch_List_63 = branch_List_85;
						branch_Maybe_62 = branch_Maybe_84;
						branch_ZPlusMirth_61 = branch_ZPlusMirth_83;
						branch_Data_60 = branch_Data_82;
					} break;
					case 0LL: { // None
						bool v88 = false;
						branch_Bool_64 = v88;
						branch_List_63 = v58;
						branch_Maybe_62 = v55;
						branch_ZPlusMirth_61 = v53;
						branch_Data_60 = value_u64(v54);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v52 = branch_Bool_64;
				v51 = branch_Bool_64;
				v50 = branch_List_63;
				v49 = branch_Maybe_62;
				v48 = MKU64(branch_Data_60);
				v47 = branch_ZPlusMirth_61;
			}
			decref(v50);
			int64_t v89 = get_data_tag(v49);
			decref(v49);
			INT v90 = WRAP_I63(0LL);
			INT v91 = i64_to_int(v89);
			bool v92 = int_eq(v91, v90);
			TUP* branch_ZPlusMirth_93;
			VAL branch_Maybe_94;
			if (v92) {
				VAL v95 = mtw_std_maybe_Maybe_1_Some(v48);
				branch_Maybe_94 = v95;
				branch_ZPlusMirth_93 = v47;
			} else {
				decref(v48);
				VAL v96 = MKI64(0LL /* None */);
				branch_Maybe_94 = v96;
				branch_ZPlusMirth_93 = v47;
			}
			branch_Maybe_43 = branch_Maybe_94;
			branch_ZPlusMirth_42 = branch_ZPlusMirth_93;
		} break;
		case 0LL: { // None
			decref(v28);
			VAL v97 = MKI64(0LL /* None */);
			branch_Maybe_43 = v97;
			branch_ZPlusMirth_42 = branch_ZPlusMirth_35;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_42;
	return branch_Maybe_43;
}
static TUP* mw_mirth_match_ZPlusMatch_freezze (TUP* in_ZPlusMatch_1) {
	VAL v3;
	uint64_t v4;
	uint64_t v5;
	VAL v6;
	VAL v7;
	VAL v8;
	VAL v9;
	mtp_mirth_match_ZPlusMatch_ZPlusMatch(in_ZPlusMatch_1, &v3, &v4, &v5, &v6, &v7, &v8, &v9);
	TUP* v10 = mtw_mirth_match_Match_Match(v3, v4, v5, v6, v7, v8, v9);
	return v10;
}
static void mw_mirth_match_ZPlusMatch_addZ_case (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* in_Case_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusMatch_5) {
	incref(MKTUP(in_Case_3, 2));
	TUP* v6;
	bool v7 = mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk(in_ZPlusMatch_2, in_Case_3, &v6);
	TUP* branch_ZPlusMatch_8;
	TUP* branch_ZPlusMirth_9;
	if (v7) {
		TUP* v10 = value_tup(in_Case_3->cells[0], 9);
		incref(MKTUP(v10, 9));
		decref(MKTUP(in_Case_3, 2));
		uint64_t v11 = value_u64(v10->cells[1]);
		decref(MKTUP(v10, 9));
		STR* v12;
		STRLIT(v12, "Case is unreachable.", 20);
		TUP* v13;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusMirth_1, v11, v12, &v13);
		branch_ZPlusMirth_9 = v13;
		branch_ZPlusMatch_8 = v6;
	} else {
		VAL v14 = v6->cells[6];
		incref(v14);
		VAL v15 = mw_std_list_List_1_Snoc(v14, MKTUP(in_Case_3, 2));
		VAL v16 = v6->cells[6];
		decref(v16);
		v6->cells[6] = v15;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
		branch_ZPlusMatch_8 = v6;
	}
	*out_ZPlusMatch_5 = branch_ZPlusMatch_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static bool mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk (TUP* in_ZPlusMatch_1, TUP* in_Case_2, TUP* *out_ZPlusMatch_3) {
	VAL v5 = in_ZPlusMatch_1->cells[6];
	incref(v5);
	VAL v6 = MKI64(0LL /* None */);
	bool v7 = true;
	TUP* v8 = in_Case_2;
	VAL v9 = v6;
	VAL v10 = v5;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		VAL v17;
		VAL v18 = mw_std_list_List_1_uncons(v15, &v17);
		TUP* branch_Case_19;
		VAL branch_Maybe_20;
		VAL branch_List_21;
		bool branch_Bool_22;
		switch (get_data_tag(v18)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v18);
				incref(v23);
				incref(MKTUP(v13, 2));
				bool v24 = mw_mirth_match_Case_coversZAsk(v13, value_tup(v23, 2));
				TUP* branch_Case_25;
				VAL branch_Maybe_26;
				if (v24) {
					VAL v27 = mtw_std_maybe_Maybe_1_Some(v23);
					branch_Maybe_26 = v27;
					branch_Case_25 = v13;
				} else {
					decref(v23);
					VAL v28 = MKI64(0LL /* None */);
					branch_Maybe_26 = v28;
					branch_Case_25 = v13;
				}
				TUP* branch_Case_29;
				VAL branch_Maybe_30;
				VAL branch_List_31;
				switch (get_data_tag(branch_Maybe_26)) {
					case 0LL: { // None
						branch_List_31 = v17;
						branch_Maybe_30 = v14;
						branch_Case_29 = branch_Case_25;
					} break;
					default: {
						decref(v17);
						decref(v14);
						VAL v32 = MKI64(0LL /* Nil */);
						branch_List_31 = v32;
						branch_Maybe_30 = branch_Maybe_26;
						branch_Case_29 = branch_Case_25;
					} break;
				}
				bool v33 = true;
				branch_Bool_22 = v33;
				branch_List_21 = branch_List_31;
				branch_Maybe_20 = branch_Maybe_30;
				branch_Case_19 = branch_Case_29;
			} break;
			case 0LL: { // None
				bool v34 = false;
				branch_Bool_22 = v34;
				branch_List_21 = v17;
				branch_Maybe_20 = v14;
				branch_Case_19 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_22;
		v11 = branch_Bool_22;
		v10 = branch_List_21;
		v9 = branch_Maybe_20;
		v8 = branch_Case_19;
	}
	decref(v10);
	decref(MKTUP(v8, 2));
	int64_t v35 = get_data_tag(v9);
	decref(v9);
	INT v36 = WRAP_I63(0LL);
	INT v37 = i64_to_int(v35);
	bool v38 = int_eq(v37, v36);
	bool v39 = !v38;
	*out_ZPlusMatch_3 = in_ZPlusMatch_1;
	return v39;
}
static bool mw_mirth_match_Case_coversZAsk (TUP* in_Case_1, TUP* in_Case_2) {
	TUP* v4 = value_tup(in_Case_1->cells[0], 9);
	incref(MKTUP(v4, 9));
	decref(MKTUP(in_Case_1, 2));
	TUP* v5 = value_tup(in_Case_2->cells[0], 9);
	incref(MKTUP(v5, 9));
	decref(MKTUP(in_Case_2, 2));
	bool v6 = mw_mirth_match_Pattern_coversZAsk(v4, v5);
	return v6;
}
static bool mw_mirth_match_Case_isZ_defaultZ_caseZAsk (TUP* in_Case_1) {
	TUP* v3 = value_tup(in_Case_1->cells[0], 9);
	incref(MKTUP(v3, 9));
	decref(MKTUP(in_Case_1, 2));
	bool v4 = mw_mirth_match_Pattern_isZ_defaultZAsk(v3);
	return v4;
}
static void mw_mirth_match_Pattern_thaw (TUP* in_Pattern_1, TUP* *out_ZPlusPattern_2) {
	*out_ZPlusPattern_2 = in_Pattern_1;
}
static VAL mw_mirth_match_Pattern_dom (TUP* in_Pattern_1) {
	incref(MKTUP(in_Pattern_1, 9));
	VAL v3 = in_Pattern_1->cells[6];
	incref(v3);
	decref(MKTUP(in_Pattern_1, 9));
	VAL v4 = in_Pattern_1->cells[5];
	incref(v4);
	decref(MKTUP(in_Pattern_1, 9));
	bool v5 = true;
	VAL v6 = v3;
	VAL v7 = v4;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		VAL v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		VAL branch_StackType_13;
		VAL branch_List_14;
		bool branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL v18 = mtw_mirth_type_StackType_Cons(v10, v17);
				bool v19 = true;
				branch_Bool_15 = v19;
				branch_List_14 = v16;
				branch_StackType_13 = v18;
			} break;
			case 0LL: { // Nil
				VAL v20 = MKI64(0LL /* Nil */);
				bool v21 = false;
				branch_Bool_15 = v21;
				branch_List_14 = v20;
				branch_StackType_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_StackType_13;
	}
	decref(v7);
	return v6;
}
static VAL mw_mirth_match_Pattern_singleZ_tagZAsk (TUP* in_Pattern_1) {
	VAL v3 = in_Pattern_1->cells[8];
	incref(v3);
	decref(MKTUP(in_Pattern_1, 9));
	VAL v4 = mw_std_list_List_1_singleZAsk(v3);
	VAL branch_Maybe_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			VAL v7 = VTUP(v6)->cells[6];
			incref(v7);
			decref(v6);
			VAL v8 = mw_mirth_match_PatternOp_ZDivTag(v7);
			branch_Maybe_5 = v8;
		} break;
		case 0LL: { // None
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_5 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_5;
}
static bool mw_mirth_match_Pattern_isZ_defaultZAsk (TUP* in_Pattern_1) {
	VAL v3 = in_Pattern_1->cells[8];
	incref(v3);
	decref(MKTUP(in_Pattern_1, 9));
	VAL v4 = MKI64(0LL /* None */);
	bool v5 = true;
	VAL v6 = v4;
	VAL v7 = v3;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		VAL v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		VAL v13;
		VAL v14 = mw_std_list_List_1_uncons(v11, &v13);
		VAL branch_Maybe_15;
		VAL branch_List_16;
		bool branch_Bool_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				incref(v18);
				VAL v19 = VTUP(v18)->cells[6];
				incref(v19);
				decref(v18);
				bool v20 = mw_mirth_match_PatternOp_ZDivUnderscore(v19);
				bool v21 = !v20;
				VAL branch_Maybe_22;
				if (v21) {
					VAL v23 = mtw_std_maybe_Maybe_1_Some(v18);
					branch_Maybe_22 = v23;
				} else {
					decref(v18);
					VAL v24 = MKI64(0LL /* None */);
					branch_Maybe_22 = v24;
				}
				VAL branch_Maybe_25;
				VAL branch_List_26;
				switch (get_data_tag(branch_Maybe_22)) {
					case 0LL: { // None
						branch_List_26 = v13;
						branch_Maybe_25 = v10;
					} break;
					default: {
						decref(v13);
						decref(v10);
						VAL v27 = MKI64(0LL /* Nil */);
						branch_List_26 = v27;
						branch_Maybe_25 = branch_Maybe_22;
					} break;
				}
				bool v28 = true;
				branch_Bool_17 = v28;
				branch_List_16 = branch_List_26;
				branch_Maybe_15 = branch_Maybe_25;
			} break;
			case 0LL: { // None
				bool v29 = false;
				branch_Bool_17 = v29;
				branch_List_16 = v13;
				branch_Maybe_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_17;
		v8 = branch_Bool_17;
		v7 = branch_List_16;
		v6 = branch_Maybe_15;
	}
	decref(v7);
	int64_t v30 = get_data_tag(v6);
	decref(v6);
	INT v31 = WRAP_I63(0LL);
	INT v32 = i64_to_int(v30);
	bool v33 = int_eq(v32, v31);
	return v33;
}
static bool mw_mirth_match_Pattern_coversZAsk (TUP* in_Pattern_1, TUP* in_Pattern_2) {
	VAL v4 = in_Pattern_1->cells[8];
	incref(v4);
	decref(MKTUP(in_Pattern_1, 9));
	VAL v5 = mw_std_list_List_1_singleZAsk(v4);
	VAL v6 = in_Pattern_2->cells[8];
	incref(v6);
	decref(MKTUP(in_Pattern_2, 9));
	VAL v7 = mw_std_list_List_1_singleZAsk(v6);
	VAL v8 = mw_std_maybe_Maybe_1_zzip(v5, v7);
	bool branch_Bool_9;
	switch (get_data_tag(v8)) {
		case 0LL: { // None
			bool v10 = false;
			branch_Bool_9 = v10;
		} break;
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v12 = value_tup(v11, 2)->cells[0];
			VAL v13 = value_tup(v11, 2)->cells[1];
			tup_decref_outer(value_tup(v11, 2),2);
			VAL v14 = VTUP(v13)->cells[6];
			incref(v14);
			decref(v13);
			bool branch_Bool_15;
			switch (get_data_tag(v14)) {
				case 0LL: { // Underscore
					decref(v12);
					bool v16 = true;
					branch_Bool_15 = v16;
				} break;
				case 1LL: { // Tag
					uint64_t v17 = mtp_mirth_match_PatternOp_Tag(v14);
					VAL v18 = VTUP(v12)->cells[6];
					incref(v18);
					decref(v12);
					bool branch_Bool_19;
					switch (get_data_tag(v18)) {
						case 0LL: { // Underscore
							bool v20 = false;
							branch_Bool_19 = v20;
						} break;
						case 1LL: { // Tag
							uint64_t v21 = mtp_mirth_match_PatternOp_Tag(v18);
							bool v22 = mw_mirth_data_Tag_ZEqual(v17, v21);
							branch_Bool_19 = v22;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_15 = branch_Bool_19;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_9 = branch_Bool_15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_9;
}
static TUP* mw_mirth_match_ZPlusPattern_freezze (TUP* in_ZPlusPattern_1) {
	return in_ZPlusPattern_1;
}
static void mw_mirth_match_ZPlusPattern_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, VAL in_PatternOp_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusPattern_5) {
	TUP* branch_ZPlusMirth_6;
	TUP* branch_ZPlusPattern_7;
	switch (get_data_tag(in_PatternOp_3)) {
		case 0LL: { // Underscore
			TUP* v8;
			TUP* v9;
			mw_mirth_match_ZPlusPattern_underscoreZBang(in_ZPlusMirth_1, in_ZPlusPattern_2, &v8, &v9);
			branch_ZPlusPattern_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // Tag
			uint64_t v10 = mtp_mirth_match_PatternOp_Tag(in_PatternOp_3);
			TUP* v11;
			TUP* v12;
			mw_mirth_match_ZPlusPattern_tagZBang(in_ZPlusMirth_1, in_ZPlusPattern_2, v10, &v11, &v12);
			branch_ZPlusPattern_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusPattern_5 = branch_ZPlusPattern_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_match_ZPlusPattern_underscoreZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusPattern_4) {
	incref(MKTUP(in_ZPlusPattern_2, 9));
	uint64_t v5 = value_u64(in_ZPlusPattern_2->cells[1]);
	decref(MKTUP(in_ZPlusPattern_2, 9));
	incref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v6 = in_ZPlusPattern_2->cells[4];
	incref(v6);
	decref(MKTUP(in_ZPlusPattern_2, 9));
	incref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v7 = in_ZPlusPattern_2->cells[6];
	incref(v7);
	decref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v8 = mw_mirth_type_Subst_Nil();
	VAL v9 = MKI64(0LL /* Underscore */);
	incref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v10 = in_ZPlusPattern_2->cells[6];
	incref(v10);
	decref(MKTUP(in_ZPlusPattern_2, 9));
	TUP* v11;
	VAL v12 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, v10, &v11);
	uint64_t branch_Token_13;
	VAL branch_Ctx_14;
	VAL branch_StackType_15;
	VAL branch_Subst_16;
	VAL branch_PatternOp_17;
	TUP* branch_ZPlusPattern_18;
	TUP* branch_ZPlusMirth_19;
	VAL branch_StackType_20;
	VAL branch_Type_21;
	switch (get_data_tag(v12)) {
		case 0LL: { // None
			incref(MKTUP(in_ZPlusPattern_2, 9));
			uint64_t v22 = value_u64(in_ZPlusPattern_2->cells[1]);
			decref(MKTUP(in_ZPlusPattern_2, 9));
			STR* v23;
			STRLIT(v23, "pattern expects something on stack", 34);
			TUP* v24;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v11, v22, v23, &v24);
			VAL v25 = MKI64(0LL /* Error */);
			VAL v26 = MKI64(0LL /* Error */);
			branch_Type_21 = v26;
			branch_StackType_20 = v25;
			branch_ZPlusMirth_19 = v24;
			branch_ZPlusPattern_18 = in_ZPlusPattern_2;
			branch_PatternOp_17 = v9;
			branch_Subst_16 = v8;
			branch_StackType_15 = v7;
			branch_Ctx_14 = v6;
			branch_Token_13 = v5;
		} break;
		case 1LL: { // Some
			VAL v27 = mtp_std_maybe_Maybe_1_Some(v12);
			VAL v28 = value_tup(v27, 2)->cells[0];
			VAL v29 = value_tup(v27, 2)->cells[1];
			tup_decref_outer(value_tup(v27, 2),2);
			branch_Type_21 = v29;
			branch_StackType_20 = v28;
			branch_ZPlusMirth_19 = v11;
			branch_ZPlusPattern_18 = in_ZPlusPattern_2;
			branch_PatternOp_17 = v9;
			branch_Subst_16 = v8;
			branch_StackType_15 = v7;
			branch_Ctx_14 = v6;
			branch_Token_13 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_Type_21);
	incref(MKTUP(branch_ZPlusPattern_18, 9));
	incref(MKTUP(branch_ZPlusPattern_18, 9));
	VAL v30 = branch_ZPlusPattern_18->cells[5];
	incref(v30);
	decref(MKTUP(branch_ZPlusPattern_18, 9));
	VAL v31 = mw_std_list_List_1_cons(branch_Type_21, v30);
	VAL v32 = tup_replace(MKTUP(branch_ZPlusPattern_18, 9), 5, v31);
	decref(MKTUP(branch_ZPlusPattern_18, 9));
	VAL v33 = MKI64(0LL /* Nil */);
	VAL v34 = mw_std_list_List_1_cons(branch_Type_21, v33);
	incref(branch_StackType_20);
	incref(v32);
	VAL v35 = tup_replace(v32, 6, branch_StackType_20);
	decref(v32);
	TUP* v36 = mtw_mirth_match_PatternAtom_PatternAtom(branch_Token_13, branch_Ctx_14, v34, branch_StackType_20, branch_StackType_15, branch_Subst_16, branch_PatternOp_17);
	incref(v35);
	incref(v35);
	VAL v37 = VTUP(v35)->cells[8];
	incref(v37);
	decref(v35);
	VAL v38 = mw_std_list_List_1_cons(MKTUP(v36, 7), v37);
	VAL v39 = tup_replace(v35, 8, v38);
	decref(v35);
	*out_ZPlusPattern_4 = value_tup(v39, 9);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_19;
}
static void mw_mirth_match_ZPlusPattern_tagZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusPattern_5) {
	VAL v6 = mtw_mirth_match_PatternOp_Tag(in_Tag_3);
	VAL v7 = MKI64(0LL /* Nil */);
	incref(MKTUP(in_ZPlusPattern_2, 9));
	uint64_t v8 = value_u64(in_ZPlusPattern_2->cells[1]);
	decref(MKTUP(in_ZPlusPattern_2, 9));
	incref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v9 = in_ZPlusPattern_2->cells[4];
	incref(v9);
	decref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v10 = mw_mirth_type_Subst_Nil();
	TUP* v11;
	TUP* v12 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_3, &v11);
	TUP* v13;
	TUP* v14;
	VAL v15 = mw_mirth_type_ArrowType_freshenZ_sig(v11, v10, v12, &v13, &v14);
	VAL v16;
	VAL v17;
	mtp_mirth_type_ArrowType_ArrowType(v14, &v16, &v17);
	incref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v18 = in_ZPlusPattern_2->cells[6];
	incref(v18);
	decref(MKTUP(in_ZPlusPattern_2, 9));
	TUP* v19;
	VAL v20 = mw_mirth_type_StackType_unifyZBang(v13, v18, v17, &v19);
	incref(v16);
	incref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v21 = tup_replace(MKTUP(in_ZPlusPattern_2, 9), 6, v16);
	decref(MKTUP(in_ZPlusPattern_2, 9));
	TUP* v22 = mtw_mirth_match_PatternAtom_PatternAtom(v8, v9, v7, v16, v20, v15, v6);
	incref(v21);
	incref(v21);
	VAL v23 = VTUP(v21)->cells[8];
	incref(v23);
	decref(v21);
	VAL v24 = mw_std_list_List_1_cons(MKTUP(v22, 7), v23);
	VAL v25 = tup_replace(v21, 8, v24);
	decref(v21);
	*out_ZPlusPattern_5 = value_tup(v25, 9);
	*out_ZPlusMirth_4 = v19;
}
static VAL mw_mirth_match_PatternOp_ZDivTag (VAL in_PatternOp_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_PatternOp_1)) {
		case 1LL: { // Tag
			uint64_t v4 = mtp_mirth_match_PatternOp_Tag(in_PatternOp_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_PatternOp_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static bool mw_mirth_match_PatternOp_ZDivUnderscore (VAL in_PatternOp_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_PatternOp_1)) {
		case 0LL: { // Underscore
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_PatternOp_1);
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static void mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang (TUP* in_ZPlusLexer_1, uint64_t in_Token_2, TUP* *out_ZPlusLexer_3) {
	VAL v4 = in_ZPlusLexer_1->cells[4];
	incref(v4);
	VAL v5 = mw_std_list_List_1_cons(MKU64(in_Token_2), v4);
	VAL v6 = in_ZPlusLexer_1->cells[4];
	decref(v6);
	in_ZPlusLexer_1->cells[4] = v5;
	*out_ZPlusLexer_3 = in_ZPlusLexer_1;
}
static VAL mw_mirth_lexer_ZPlusLexer_stackZ_popZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	VAL v4 = in_ZPlusLexer_1->cells[4];
	incref(v4);
	VAL v5;
	VAL v6 = mw_std_list_List_1_uncons(v4, &v5);
	VAL v7 = in_ZPlusLexer_1->cells[4];
	decref(v7);
	in_ZPlusLexer_1->cells[4] = v5;
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v6;
}
static void mw_mirth_lexer_ZPlusLexer_stackZ_drop (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	VAL v3 = in_ZPlusLexer_1->cells[4];
	incref(v3);
	VAL v4 = mw_std_list_List_1_tail(v3);
	VAL v5 = in_ZPlusLexer_1->cells[4];
	decref(v5);
	in_ZPlusLexer_1->cells[4] = v4;
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
}
static VAL mw_mirth_lexer_ZPlusLexer_stackZ_peek (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	VAL v4 = in_ZPlusLexer_1->cells[4];
	incref(v4);
	VAL v5 = mw_std_list_List_1_head(v4);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v5;
}
static void mw_mirth_lexer_ZPlusLexer_StartZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Module_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusLexer_5) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(1LL);
	INT v8 = WRAP_I63(1LL);
	VAL v9 = MKI64(0LL /* None */);
	VAL v10 = MKI64(0LL /* Nil */);
	TUP* v11;
	uint64_t v12 = mw_mirth_token_Token_allocZ_noneZBang(in_ZPlusMirth_1, &v11);
	TUP* v13;
	mtw_mirth_lexer_ZPlusLexer_ZPlusLexer(in_Module_3, v7, v8, v9, v10, v12, v12, in_Str_2, v6, &v13);
	*out_ZPlusLexer_5 = v13;
	*out_ZPlusMirth_4 = v11;
}
static uint64_t mw_mirth_lexer_ZPlusLexer_stopZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* None */);
	TUP* v6;
	mw_mirth_lexer_ZPlusLexer_emitZBang(in_ZPlusLexer_2, v5, &v6);
	uint64_t v7;
	INT v8;
	INT v9;
	VAL v10;
	VAL v11;
	uint64_t v12;
	uint64_t v13;
	STR* v14;
	INT v15;
	mtp_mirth_lexer_ZPlusLexer_ZPlusLexer(v6, &v7, &v8, &v9, &v10, &v11, &v12, &v13, &v14, &v15);
	VAL v16;
	VAL v17 = mw_std_list_List_1_uncons(v11, &v16);
	decref(v16);
	TUP* branch_ZPlusMirth_18;
	switch (get_data_tag(v17)) {
		case 1LL: { // Some
			VAL v19 = mtp_std_maybe_Maybe_1_Some(v17);
			STR* v20;
			STRLIT(v20, "Mismatched token.", 17);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, value_u64(v19), v20);
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_18 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKINT(v9));
	decref(MKINT(v8));
	TUP* v22;
	uint64_t v23 = mw_mirth_token_Token_allocZ_noneZBang(branch_ZPlusMirth_18, &v22);
	void* v24 = field_mut(&mfld_mirth_module_Module_ZTildeend, v7);
	mut_set(MKU64(v23), v24);
	uint64_t v25 = mw_mirth_token_Token_succ(v12);
	void* v26 = field_mut(&mfld_mirth_module_Module_ZTildestart, v7);
	mut_set(MKU64(v25), v26);
	decref(v10);
	decref(MKSTR(v14));
	decref(MKINT(v15));
	*out_ZPlusMirth_3 = v22;
	return v7;
}
static TUP* mw_mirth_lexer_ZPlusLexer_lexerZ_location (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	uint64_t v4 = value_u64(in_ZPlusLexer_1->cells[0]);
	INT v5 = value_int(in_ZPlusLexer_1->cells[1]);
	incref(MKINT(v5));
	INT v6 = value_int(in_ZPlusLexer_1->cells[2]);
	incref(MKINT(v6));
	TUP* v7 = mtw_mirth_location_Location_Location(v4, v5, v6);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v7;
}
static void mw_mirth_lexer_ZPlusLexer_lexerZ_warningZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusLexer_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_lexer_ZPlusLexer_lexerZ_location(in_ZPlusLexer_2, &v6);
	TUP* v8;
	mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang(in_ZPlusMirth_1, v7, in_Str_3, &v8);
	*out_ZPlusLexer_5 = v6;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang (STR* in_Str_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusLexer_3) {
	TUP* v4;
	TUP* v5 = mw_mirth_lexer_ZPlusLexer_lexerZ_location(in_ZPlusLexer_3, &v4);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(in_ZPlusMirth_2, v5, in_Str_1);
}
static bool mw_mirth_lexer_ZPlusLexer_doneZAsk (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	STR* v4 = value_str(in_ZPlusLexer_1->cells[7]);
	incref(MKSTR(v4));
	uint64_t v5 = str_size(v4);
	INT v6 = u64_to_int(v5);
	INT v7 = value_int(in_ZPlusLexer_1->cells[8]);
	incref(MKINT(v7));
	bool v8 = int_le(v6, v7);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v8;
}
static int64_t mw_mirth_lexer_ZPlusLexer_peek (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	INT v4 = value_int(in_ZPlusLexer_1->cells[8]);
	incref(MKINT(v4));
	STR* v5 = value_str(in_ZPlusLexer_1->cells[7]);
	incref(MKSTR(v5));
	int64_t v6 = mw_std_prim_Str_byteZAt(v4, v5);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
	return v6;
}
static void mw_mirth_lexer_ZPlusLexer_moveZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	INT v3 = value_int(in_ZPlusLexer_1->cells[8]);
	incref(MKINT(v3));
	INT v4 = WRAP_I63(1LL);
	INT v5 = int_add(v3, v4);
	INT v6 = value_int(in_ZPlusLexer_1->cells[8]);
	decref(MKINT(v6));
	in_ZPlusLexer_1->cells[8] = MKINT(v5);
	INT v7 = value_int(in_ZPlusLexer_1->cells[2]);
	incref(MKINT(v7));
	INT v8 = WRAP_I63(1LL);
	INT v9 = mw_mirth_location_Col_natZPlus(v8, v7);
	INT v10 = value_int(in_ZPlusLexer_1->cells[2]);
	decref(MKINT(v10));
	in_ZPlusLexer_1->cells[2] = MKINT(v9);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
}
static void mw_mirth_lexer_ZPlusLexer_newlineZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	INT v3 = WRAP_I63(0LL);
	INT v4 = value_int(in_ZPlusLexer_1->cells[2]);
	decref(MKINT(v4));
	in_ZPlusLexer_1->cells[2] = MKINT(v3);
	INT v5 = value_int(in_ZPlusLexer_1->cells[1]);
	incref(MKINT(v5));
	INT v6 = WRAP_I63(1LL);
	INT v7 = mw_mirth_location_Row_natZPlus(v6, v5);
	INT v8 = value_int(in_ZPlusLexer_1->cells[1]);
	decref(MKINT(v8));
	in_ZPlusLexer_1->cells[1] = MKINT(v7);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
}
static uint64_t mw_mirth_lexer_ZPlusLexer_makeZBang (TUP* in_ZPlusLexer_1, VAL in_TokenValue_2, TUP* *out_ZPlusLexer_3) {
	uint64_t v5 = mw_mirth_token_Token_allocZBang();
	void* v6 = field_mut(&mfld_mirth_token_Token_ZTildevalue, v5);
	mut_set(in_TokenValue_2, v6);
	uint64_t v7 = value_u64(in_ZPlusLexer_1->cells[0]);
	void* v8 = field_mut(&mfld_mirth_token_Token_ZTildemodule, v5);
	mut_set(MKU64(v7), v8);
	INT v9 = value_int(in_ZPlusLexer_1->cells[1]);
	incref(MKINT(v9));
	void* v10 = field_mut(&mfld_mirth_token_Token_ZTilderow, v5);
	mut_set(MKINT(v9), v10);
	INT v11 = value_int(in_ZPlusLexer_1->cells[2]);
	incref(MKINT(v11));
	void* v12 = field_mut(&mfld_mirth_token_Token_ZTildecol, v5);
	mut_set(MKINT(v11), v12);
	VAL v13 = in_ZPlusLexer_1->cells[3];
	incref(v13);
	void* v14 = field_mut(&mfld_mirth_token_Token_ZTildedoc, v5);
	mut_set(v13, v14);
	VAL v15 = MKI64(0LL /* None */);
	VAL v16 = in_ZPlusLexer_1->cells[3];
	decref(v16);
	in_ZPlusLexer_1->cells[3] = v15;
	in_ZPlusLexer_1->cells[6] = MKU64(v5);
	*out_ZPlusLexer_3 = in_ZPlusLexer_1;
	return v5;
}
static void mw_mirth_lexer_ZPlusLexer_emitZBang (TUP* in_ZPlusLexer_1, VAL in_TokenValue_2, TUP* *out_ZPlusLexer_3) {
	TUP* v4;
	uint64_t v5 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusLexer_1, in_TokenValue_2, &v4);
	*out_ZPlusLexer_3 = v4;
}
static void mw_mirth_lexer_ZPlusLexer_nextZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	TUP* v5;
	int64_t v6 = mw_mirth_lexer_ZPlusLexer_peek(in_ZPlusLexer_2, &v5);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusLexer_8;
	switch (v6) {
		case 10LL: { // BLF
			TUP* v9;
			mw_mirth_lexer_ZPlusLexer_newlineZBang(v5, &v9);
			TUP* v10;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v9, &v10);
			branch_ZPlusLexer_8 = v10;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 32LL: { // BSPACE
			TUP* v11;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v5, &v11);
			branch_ZPlusLexer_8 = v11;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // BHT
			TUP* v12;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v5, &v12);
			branch_ZPlusLexer_8 = v12;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // BVT
			TUP* v13;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v5, &v13);
			branch_ZPlusLexer_8 = v13;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // BCR
			TUP* v14;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v5, &v14);
			branch_ZPlusLexer_8 = v14;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 35LL: { // BHASH
			TUP* v15;
			mw_mirth_lexer_ZPlusLexer_skipZ_commentZBang(v5, &v15);
			branch_ZPlusLexer_8 = v15;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 44LL: { // BCOMMA
			TUP* v16;
			TUP* v17;
			mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(in_ZPlusMirth_1, v5, &v16, &v17);
			VAL v18 = MKI64(1LL /* Comma */);
			TUP* v19;
			mw_mirth_lexer_ZPlusLexer_emitZBang(v17, v18, &v19);
			TUP* v20;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v19, &v20);
			branch_ZPlusLexer_8 = v20;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 41LL: { // BRPAREN
			TUP* v21;
			TUP* v22;
			mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(in_ZPlusMirth_1, v5, &v21, &v22);
			TUP* v23;
			TUP* v24;
			mw_mirth_lexer_ZPlusLexer_emitZ_rparenZBang(v21, v22, &v23, &v24);
			TUP* v25;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v24, &v25);
			branch_ZPlusLexer_8 = v25;
			branch_ZPlusMirth_7 = v23;
		} break;
		case 93LL: { // BRSQUARE
			TUP* v26;
			TUP* v27;
			mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(in_ZPlusMirth_1, v5, &v26, &v27);
			TUP* v28;
			TUP* v29;
			mw_mirth_lexer_ZPlusLexer_emitZ_rsquareZBang(v26, v27, &v28, &v29);
			TUP* v30;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v29, &v30);
			branch_ZPlusLexer_8 = v30;
			branch_ZPlusMirth_7 = v28;
		} break;
		case 125LL: { // BRCURLY
			TUP* v31;
			TUP* v32;
			mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(in_ZPlusMirth_1, v5, &v31, &v32);
			TUP* v33;
			TUP* v34;
			mw_mirth_lexer_ZPlusLexer_emitZ_rcurlyZBang(v31, v32, &v33, &v34);
			TUP* v35;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v34, &v35);
			branch_ZPlusLexer_8 = v35;
			branch_ZPlusMirth_7 = v33;
		} break;
		case 58LL: { // BCOLON
			TUP* v36;
			TUP* v37;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_argsZBang(in_ZPlusMirth_1, v5, &v36, &v37);
			TUP* v38;
			mw_mirth_lexer_ZPlusLexer_emitZ_lcolonZBang(v37, &v38);
			TUP* v39;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v38, &v39);
			branch_ZPlusLexer_8 = v39;
			branch_ZPlusMirth_7 = v36;
		} break;
		case 40LL: { // BLPAREN
			TUP* v40;
			TUP* v41;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_argsZBang(in_ZPlusMirth_1, v5, &v40, &v41);
			TUP* v42;
			mw_mirth_lexer_ZPlusLexer_emitZ_lparenZBang(v41, &v42);
			TUP* v43;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v42, &v43);
			branch_ZPlusLexer_8 = v43;
			branch_ZPlusMirth_7 = v40;
		} break;
		case 91LL: { // BLSQUARE
			TUP* v44;
			TUP* v45;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang(in_ZPlusMirth_1, v5, &v44, &v45);
			TUP* v46;
			mw_mirth_lexer_ZPlusLexer_emitZ_lsquareZBang(v45, &v46);
			TUP* v47;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v46, &v47);
			branch_ZPlusLexer_8 = v47;
			branch_ZPlusMirth_7 = v44;
		} break;
		case 123LL: { // BLCURLY
			TUP* v48;
			TUP* v49;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang(in_ZPlusMirth_1, v5, &v48, &v49);
			TUP* v50;
			mw_mirth_lexer_ZPlusLexer_emitZ_lcurlyZBang(v49, &v50);
			TUP* v51;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v50, &v51);
			branch_ZPlusLexer_8 = v51;
			branch_ZPlusMirth_7 = v48;
		} break;
		case 34LL: { // BQUOTE
			TUP* v52;
			TUP* v53;
			mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang(in_ZPlusMirth_1, v5, &v52, &v53);
			TUP* v54;
			TUP* v55;
			mw_mirth_lexer_ZPlusLexer_emitZ_stringZBang(v52, v53, &v54, &v55);
			TUP* v56;
			mw_mirth_lexer_ZPlusLexer_moveZBang(v55, &v56);
			branch_ZPlusLexer_8 = v56;
			branch_ZPlusMirth_7 = v54;
		} break;
		case 0LL: { // BNUL
			branch_ZPlusLexer_8 = v5;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			bool v57 = mw_std_byte_Byte_isZ_nameZ_byte(v6);
			TUP* branch_ZPlusMirth_58;
			TUP* branch_ZPlusLexer_59;
			if (v57) {
				TUP* v60;
				TUP* v61;
				mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang(in_ZPlusMirth_1, v5, &v60, &v61);
				TUP* v62;
				TUP* v63;
				mw_mirth_lexer_ZPlusLexer_emitZ_nameZBang(v60, v61, &v62, &v63);
				branch_ZPlusLexer_59 = v63;
				branch_ZPlusMirth_58 = v62;
			} else {
				STR* v64;
				STRLIT(v64, "Unrecognized byte.", 18);
				mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v64, in_ZPlusMirth_1, v5);
			}
			branch_ZPlusLexer_8 = branch_ZPlusLexer_59;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_58;
		} break;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static void mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	bool v5 = true;
	TUP* v6 = in_ZPlusMirth_1;
	TUP* v7 = in_ZPlusLexer_2;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		TUP* v10 = v6;
		TUP* v11 = v7;
		bool v12 = v8;
		TUP* v13;
		VAL v14 = mw_mirth_lexer_ZPlusLexer_stackZ_peek(v11, &v13);
		TUP* branch_ZPlusMirth_15;
		VAL branch_z_x1_16;
		VAL branch_Maybe_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				incref(v18);
				TUP* v19;
				bool v20 = mw_mirth_token_Token_lcolonZ_openZAsk(v10, value_u64(v18), &v19);
				TUP* branch_ZPlusMirth_21;
				VAL branch_z_x1_22;
				VAL branch_Maybe_23;
				if (v20) {
					VAL v24 = mtw_std_maybe_Maybe_1_Some(v18);
					branch_Maybe_23 = v24;
					branch_z_x1_22 = MKTUP(v13, 9);
					branch_ZPlusMirth_21 = v19;
				} else {
					decref(v18);
					VAL v25 = MKI64(0LL /* None */);
					branch_Maybe_23 = v25;
					branch_z_x1_22 = MKTUP(v13, 9);
					branch_ZPlusMirth_21 = v19;
				}
				branch_Maybe_17 = branch_Maybe_23;
				branch_z_x1_16 = branch_z_x1_22;
				branch_ZPlusMirth_15 = branch_ZPlusMirth_21;
			} break;
			case 0LL: { // None
				VAL v26 = MKI64(0LL /* None */);
				branch_Maybe_17 = v26;
				branch_z_x1_16 = MKTUP(v13, 9);
				branch_ZPlusMirth_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		TUP* branch_ZPlusLexer_27;
		bool branch_Bool_28;
		switch (get_data_tag(branch_Maybe_17)) {
			case 1LL: { // Some
				VAL v29 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_17);
				TUP* v30;
				mw_mirth_lexer_ZPlusLexer_stackZ_drop(value_tup(branch_z_x1_16, 9), &v30);
				incref(v29);
				VAL v31 = mtw_mirth_token_TokenValue_RColon(value_u64(v29));
				TUP* v32;
				uint64_t v33 = mw_mirth_lexer_ZPlusLexer_makeZBang(v30, v31, &v32);
				VAL v34 = mtw_mirth_token_TokenValue_LColon(v33);
				void* v35 = field_mut(&mfld_mirth_token_Token_ZTildevalue, value_u64(v29));
				mut_set(v34, v35);
				bool v36 = true;
				branch_Bool_28 = v36;
				branch_ZPlusLexer_27 = v32;
			} break;
			case 0LL: { // None
				bool v37 = false;
				branch_Bool_28 = v37;
				branch_ZPlusLexer_27 = value_tup(branch_z_x1_16, 9);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_28;
		v8 = branch_Bool_28;
		v7 = branch_ZPlusLexer_27;
		v6 = branch_ZPlusMirth_15;
	}
	*out_ZPlusLexer_4 = v7;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	uint64_t v5 = value_u64(in_ZPlusLexer_2->cells[6]);
	TUP* v6;
	bool v7 = mw_mirth_token_Token_lcolonZ_openZAsk(in_ZPlusMirth_1, v5, &v6);
	TUP* branch_ZPlusLexer_8;
	TUP* branch_ZPlusMirth_9;
	if (v7) {
		branch_ZPlusMirth_9 = v6;
		branch_ZPlusLexer_8 = in_ZPlusLexer_2;
	} else {
		TUP* v10;
		TUP* v11;
		mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(v6, in_ZPlusLexer_2, &v10, &v11);
		branch_ZPlusMirth_9 = v10;
		branch_ZPlusLexer_8 = v11;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
}
static void mw_mirth_lexer_ZPlusLexer_prepareZ_forZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	uint64_t v5 = value_u64(in_ZPlusLexer_2->cells[6]);
	TUP* v6;
	bool v7 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(in_ZPlusMirth_1, v5, &v6);
	TUP* branch_ZPlusLexer_8;
	TUP* branch_ZPlusMirth_9;
	if (v7) {
		branch_ZPlusMirth_9 = v6;
		branch_ZPlusLexer_8 = in_ZPlusLexer_2;
	} else {
		TUP* v10;
		TUP* v11;
		mw_mirth_lexer_ZPlusLexer_closeZ_colonsZBang(v6, in_ZPlusLexer_2, &v10, &v11);
		branch_ZPlusMirth_9 = v10;
		branch_ZPlusLexer_8 = v11;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_lcolonZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	VAL v3 = MKI64(5LL /* LColonOpen */);
	TUP* v4;
	uint64_t v5 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusLexer_1, v3, &v4);
	TUP* v6;
	mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang(v4, v5, &v6);
	*out_ZPlusLexer_2 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_lparenZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	VAL v3 = MKI64(2LL /* LParenOpen */);
	TUP* v4;
	uint64_t v5 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusLexer_1, v3, &v4);
	TUP* v6;
	mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang(v4, v5, &v6);
	*out_ZPlusLexer_2 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_lcurlyZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	VAL v3 = MKI64(4LL /* LCurlyOpen */);
	TUP* v4;
	uint64_t v5 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusLexer_1, v3, &v4);
	TUP* v6;
	mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang(v4, v5, &v6);
	*out_ZPlusLexer_2 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_lsquareZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	VAL v3 = MKI64(3LL /* LSquareOpen */);
	TUP* v4;
	uint64_t v5 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusLexer_1, v3, &v4);
	TUP* v6;
	mw_mirth_lexer_ZPlusLexer_stackZ_pushZBang(v4, v5, &v6);
	*out_ZPlusLexer_2 = v6;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_rparenZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	TUP* v5;
	VAL v6 = mw_mirth_lexer_ZPlusLexer_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v10);
			TUP* v11;
			VAL v12 = mw_mirth_token_Token_value(in_ZPlusMirth_1, value_u64(v10), &v11);
			bool v13 = mw_mirth_token_TokenValue_lparenZ_openZAsk(v12);
			TUP* branch_ZPlusMirth_14;
			VAL branch_z_x1_15;
			VAL branch_Maybe_16;
			if (v13) {
				VAL v17 = mtw_std_maybe_Maybe_1_Some(v10);
				branch_Maybe_16 = v17;
				branch_z_x1_15 = MKTUP(v5, 9);
				branch_ZPlusMirth_14 = v11;
			} else {
				decref(v10);
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_16 = v18;
				branch_z_x1_15 = MKTUP(v5, 9);
				branch_ZPlusMirth_14 = v11;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_z_x1_8 = branch_z_x1_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		case 0LL: { // None
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_9 = v19;
			branch_z_x1_8 = MKTUP(v5, 9);
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_20;
	TUP* branch_ZPlusLexer_21;
	VAL branch_z_x1_22;
	switch (get_data_tag(branch_Maybe_9)) {
		case 1LL: { // Some
			VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_9);
			branch_z_x1_22 = v23;
			branch_ZPlusLexer_21 = value_tup(branch_z_x1_8, 9);
			branch_ZPlusMirth_20 = branch_ZPlusMirth_7;
		} break;
		case 0LL: { // None
			STR* v24;
			STRLIT(v24, "Mismatched right parenthesis.", 29);
			mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v24, branch_ZPlusMirth_7, value_tup(branch_z_x1_8, 9));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x1_22);
	VAL v28 = mtw_mirth_token_TokenValue_RParen(value_u64(branch_z_x1_22));
	TUP* v29;
	uint64_t v30 = mw_mirth_lexer_ZPlusLexer_makeZBang(branch_ZPlusLexer_21, v28, &v29);
	VAL v31 = mtw_mirth_token_TokenValue_LParen(v30);
	void* v32 = field_mut(&mfld_mirth_token_Token_ZTildevalue, value_u64(branch_z_x1_22));
	mut_set(v31, v32);
	*out_ZPlusLexer_4 = v29;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_20;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_rcurlyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	TUP* v5;
	VAL v6 = mw_mirth_lexer_ZPlusLexer_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v10);
			TUP* v11;
			VAL v12 = mw_mirth_token_Token_value(in_ZPlusMirth_1, value_u64(v10), &v11);
			bool v13 = mw_mirth_token_TokenValue_lcurlyZ_openZAsk(v12);
			TUP* branch_ZPlusMirth_14;
			VAL branch_z_x1_15;
			VAL branch_Maybe_16;
			if (v13) {
				VAL v17 = mtw_std_maybe_Maybe_1_Some(v10);
				branch_Maybe_16 = v17;
				branch_z_x1_15 = MKTUP(v5, 9);
				branch_ZPlusMirth_14 = v11;
			} else {
				decref(v10);
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_16 = v18;
				branch_z_x1_15 = MKTUP(v5, 9);
				branch_ZPlusMirth_14 = v11;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_z_x1_8 = branch_z_x1_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		case 0LL: { // None
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_9 = v19;
			branch_z_x1_8 = MKTUP(v5, 9);
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_20;
	TUP* branch_ZPlusLexer_21;
	VAL branch_z_x1_22;
	switch (get_data_tag(branch_Maybe_9)) {
		case 1LL: { // Some
			VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_9);
			branch_z_x1_22 = v23;
			branch_ZPlusLexer_21 = value_tup(branch_z_x1_8, 9);
			branch_ZPlusMirth_20 = branch_ZPlusMirth_7;
		} break;
		case 0LL: { // None
			STR* v24;
			STRLIT(v24, "Mismatched right curly brace.", 29);
			mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v24, branch_ZPlusMirth_7, value_tup(branch_z_x1_8, 9));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x1_22);
	VAL v28 = mtw_mirth_token_TokenValue_RCurly(value_u64(branch_z_x1_22));
	TUP* v29;
	uint64_t v30 = mw_mirth_lexer_ZPlusLexer_makeZBang(branch_ZPlusLexer_21, v28, &v29);
	VAL v31 = mtw_mirth_token_TokenValue_LCurly(v30);
	void* v32 = field_mut(&mfld_mirth_token_Token_ZTildevalue, value_u64(branch_z_x1_22));
	mut_set(v31, v32);
	*out_ZPlusLexer_4 = v29;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_20;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_rsquareZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	TUP* v5;
	VAL v6 = mw_mirth_lexer_ZPlusLexer_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v10);
			TUP* v11;
			VAL v12 = mw_mirth_token_Token_value(in_ZPlusMirth_1, value_u64(v10), &v11);
			bool v13 = mw_mirth_token_TokenValue_lsquareZ_openZAsk(v12);
			TUP* branch_ZPlusMirth_14;
			VAL branch_z_x1_15;
			VAL branch_Maybe_16;
			if (v13) {
				VAL v17 = mtw_std_maybe_Maybe_1_Some(v10);
				branch_Maybe_16 = v17;
				branch_z_x1_15 = MKTUP(v5, 9);
				branch_ZPlusMirth_14 = v11;
			} else {
				decref(v10);
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_16 = v18;
				branch_z_x1_15 = MKTUP(v5, 9);
				branch_ZPlusMirth_14 = v11;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_z_x1_8 = branch_z_x1_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		case 0LL: { // None
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_9 = v19;
			branch_z_x1_8 = MKTUP(v5, 9);
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_20;
	TUP* branch_ZPlusLexer_21;
	VAL branch_z_x1_22;
	switch (get_data_tag(branch_Maybe_9)) {
		case 1LL: { // Some
			VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_9);
			branch_z_x1_22 = v23;
			branch_ZPlusLexer_21 = value_tup(branch_z_x1_8, 9);
			branch_ZPlusMirth_20 = branch_ZPlusMirth_7;
		} break;
		case 0LL: { // None
			STR* v24;
			STRLIT(v24, "Mismatched right square bracket.", 32);
			mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v24, branch_ZPlusMirth_7, value_tup(branch_z_x1_8, 9));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x1_22);
	VAL v28 = mtw_mirth_token_TokenValue_RSquare(value_u64(branch_z_x1_22));
	TUP* v29;
	uint64_t v30 = mw_mirth_lexer_ZPlusLexer_makeZBang(branch_ZPlusLexer_21, v28, &v29);
	VAL v31 = mtw_mirth_token_TokenValue_LSquare(v30);
	void* v32 = field_mut(&mfld_mirth_token_Token_ZTildevalue, value_u64(branch_z_x1_22));
	mut_set(v31, v32);
	*out_ZPlusLexer_4 = v29;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_20;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	uint64_t v5 = value_u64(in_ZPlusLexer_2->cells[0]);
	INT v6 = value_int(in_ZPlusLexer_2->cells[1]);
	incref(MKINT(v6));
	INT v7 = value_int(in_ZPlusLexer_2->cells[2]);
	incref(MKINT(v7));
	STR* v8;
	STRLIT(v8, "", 0);
	TUP* v9;
	int64_t v10 = mw_mirth_lexer_ZPlusLexer_peek(in_ZPlusLexer_2, &v9);
	bool v11 = mw_std_byte_Byte_isZ_nameZ_byte(v10);
	TUP* v12 = in_ZPlusMirth_1;
	uint64_t v13 = v5;
	INT v14 = v6;
	INT v15 = v7;
	STR* v16 = v8;
	TUP* v17 = v9;
	int64_t v18 = v10;
	bool v19 = v11;
	while (v19) {
		TUP* v20 = v12;
		uint64_t v21 = v13;
		INT v22 = v14;
		INT v23 = v15;
		STR* v24 = v16;
		TUP* v25 = v17;
		int64_t v26 = v18;
		STR* v27;
		mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v26, v24, &v27);
		TUP* v28;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v25, &v28);
		TUP* v29;
		int64_t v30 = mw_mirth_lexer_ZPlusLexer_peek(v28, &v29);
		bool v31 = mw_std_byte_Byte_isZ_nameZ_byte(v30);
		v19 = v31;
		v18 = v30;
		v17 = v29;
		v16 = v27;
		v15 = v23;
		v14 = v22;
		v13 = v21;
		v12 = v20;
	}
	STR* v32;
	TUP* v33;
	bool v34 = mw_mirth_lexer_ZPlusLexer_isZ_docZ_startZAsk(v16, v17, &v32, &v33);
	TUP* branch_ZPlusMirth_35;
	STR* branch_ZPlusStr_36;
	TUP* branch_ZPlusLexer_37;
	if (v34) {
		decref(MKINT(v15));
		decref(MKINT(v14));
		TUP* v38;
		mw_mirth_lexer_ZPlusLexer_skipZ_docZBang(v33, &v38);
		branch_ZPlusLexer_37 = v38;
		branch_ZPlusStr_36 = v32;
		branch_ZPlusMirth_35 = v12;
	} else {
		uint64_t v39 = mw_mirth_token_Token_allocZBang();
		void* v40 = field_mut(&mfld_mirth_token_Token_ZTildecol, v39);
		mut_set(MKINT(v15), v40);
		void* v41 = field_mut(&mfld_mirth_token_Token_ZTilderow, v39);
		mut_set(MKINT(v14), v41);
		void* v42 = field_mut(&mfld_mirth_token_Token_ZTildemodule, v39);
		mut_set(MKU64(v13), v42);
		TUP* v43;
		STR* v44;
		TUP* v45;
		VAL v46;
		uint64_t v47 = mw_mirth_lexer_ZPlusLexer_floatZ_tokenZAsk(v12, v32, v33, v39, &v43, &v44, &v45, &v46);
		VAL v48 = mw_std_maybe_Maybe_1_map_1_sp11(v46);
		STR* branch_ZPlusStr_49;
		TUP* branch_ZPlusLexer_50;
		VAL branch_Maybe_51;
		switch (get_data_tag(v48)) {
			case 0LL: { // None
				STR* v52;
				TUP* v53;
				VAL v54 = mw_mirth_lexer_ZPlusLexer_intZ_tokenZAsk(v44, v45, &v52, &v53);
				branch_Maybe_51 = v54;
				branch_ZPlusLexer_50 = v53;
				branch_ZPlusStr_49 = v52;
			} break;
			default: {
				branch_Maybe_51 = v48;
				branch_ZPlusLexer_50 = v45;
				branch_ZPlusStr_49 = v44;
			} break;
		}
		TUP* branch_ZPlusMirth_55;
		STR* branch_ZPlusStr_56;
		TUP* branch_ZPlusLexer_57;
		VAL branch_Maybe_58;
		switch (get_data_tag(branch_Maybe_51)) {
			case 0LL: { // None
				TUP* v59;
				STR* v60;
				TUP* v61;
				VAL v62 = mw_mirth_lexer_ZPlusLexer_dnameZ_tokenZAsk(v43, branch_ZPlusStr_49, branch_ZPlusLexer_50, &v59, &v60, &v61);
				VAL v63 = mw_std_maybe_Maybe_1_map_1_sp11(v62);
				branch_Maybe_58 = v63;
				branch_ZPlusLexer_57 = v61;
				branch_ZPlusStr_56 = v60;
				branch_ZPlusMirth_55 = v59;
			} break;
			default: {
				branch_Maybe_58 = branch_Maybe_51;
				branch_ZPlusLexer_57 = branch_ZPlusLexer_50;
				branch_ZPlusStr_56 = branch_ZPlusStr_49;
				branch_ZPlusMirth_55 = v43;
			} break;
		}
		TUP* branch_ZPlusMirth_64;
		STR* branch_ZPlusStr_65;
		TUP* branch_ZPlusLexer_66;
		VAL branch_Maybe_67;
		switch (get_data_tag(branch_Maybe_58)) {
			case 0LL: { // None
				TUP* v68;
				STR* v69;
				TUP* v70;
				VAL v71 = mw_mirth_lexer_ZPlusLexer_labelZ_tokenZAsk(branch_ZPlusMirth_55, branch_ZPlusStr_56, branch_ZPlusLexer_57, &v68, &v69, &v70);
				VAL v72 = mw_std_maybe_Maybe_1_map_1_sp11(v71);
				branch_Maybe_67 = v72;
				branch_ZPlusLexer_66 = v70;
				branch_ZPlusStr_65 = v69;
				branch_ZPlusMirth_64 = v68;
			} break;
			default: {
				branch_Maybe_67 = branch_Maybe_58;
				branch_ZPlusLexer_66 = branch_ZPlusLexer_57;
				branch_ZPlusStr_65 = branch_ZPlusStr_56;
				branch_ZPlusMirth_64 = branch_ZPlusMirth_55;
			} break;
		}
		TUP* branch_ZPlusMirth_73;
		STR* branch_ZPlusStr_74;
		TUP* branch_ZPlusLexer_75;
		VAL branch_Result_76;
		switch (get_data_tag(branch_Maybe_67)) {
			case 1LL: { // Some
				VAL v77 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_67);
				branch_Result_76 = v77;
				branch_ZPlusLexer_75 = branch_ZPlusLexer_66;
				branch_ZPlusStr_74 = branch_ZPlusStr_65;
				branch_ZPlusMirth_73 = branch_ZPlusMirth_64;
			} break;
			case 0LL: { // None
				TUP* v78;
				STR* v79;
				TUP* v80;
				VAL v81 = mw_mirth_lexer_ZPlusLexer_nameZ_token(branch_ZPlusMirth_64, branch_ZPlusStr_65, branch_ZPlusLexer_66, &v78, &v79, &v80);
				VAL v82 = mtw_std_result_Result_2_Ok(v81);
				branch_Result_76 = v82;
				branch_ZPlusLexer_75 = v80;
				branch_ZPlusStr_74 = v79;
				branch_ZPlusMirth_73 = v78;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		uint64_t branch_Token_83;
		TUP* branch_ZPlusMirth_84;
		VAL branch_z_x1_85;
		VAL branch_z_x2_86;
		VAL branch_z_x3_87;
		switch (get_data_tag(branch_Result_76)) {
			case 1LL: { // Ok
				VAL v88 = mtp_std_result_Result_2_Ok(branch_Result_76);
				branch_z_x3_87 = v88;
				branch_z_x2_86 = MKTUP(branch_ZPlusLexer_75, 9);
				branch_z_x1_85 = MKSTR(branch_ZPlusStr_74);
				branch_ZPlusMirth_84 = branch_ZPlusMirth_73;
				branch_Token_83 = v47;
			} break;
			case 0LL: { // Err
				VAL v89 = mtp_std_result_Result_2_Err(branch_Result_76);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_73, v47, value_str(v89));
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		void* v93 = field_mut(&mfld_mirth_token_Token_ZTildevalue, branch_Token_83);
		mut_set(branch_z_x3_87, v93);
		VAL v94 = VTUP(branch_z_x2_86)->cells[3];
		incref(v94);
		void* v95 = field_mut(&mfld_mirth_token_Token_ZTildedoc, branch_Token_83);
		mut_set(v94, v95);
		VTUP(branch_z_x2_86)->cells[6] = MKU64(branch_Token_83);
		VAL v96 = MKI64(0LL /* None */);
		VAL v97 = VTUP(branch_z_x2_86)->cells[3];
		decref(v97);
		VTUP(branch_z_x2_86)->cells[3] = v96;
		branch_ZPlusLexer_37 = value_tup(branch_z_x2_86, 9);
		branch_ZPlusStr_36 = value_str(branch_z_x1_85);
		branch_ZPlusMirth_35 = branch_ZPlusMirth_84;
	}
	decref(MKSTR(branch_ZPlusStr_36));
	*out_ZPlusLexer_4 = branch_ZPlusLexer_37;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_35;
}
static void mw_mirth_lexer_ZPlusLexer_emitZ_stringZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusLexer_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusLexer_4) {
	VAL v5 = MKI64(0LL /* None */);
	TUP* v6;
	uint64_t v7 = mw_mirth_lexer_ZPlusLexer_makeZBang(in_ZPlusLexer_2, v5, &v6);
	TUP* v8;
	mw_mirth_lexer_ZPlusLexer_moveZBang(v6, &v8);
	STR* v9;
	STRLIT(v9, "", 0);
	TUP* v10;
	int64_t v11 = mw_mirth_lexer_ZPlusLexer_peek(v8, &v10);
	bool v12 = mw_std_byte_Byte_isZ_stringZ_end(v11);
	bool v13 = !v12;
	TUP* v14 = in_ZPlusMirth_1;
	STR* v15 = v9;
	TUP* v16 = v10;
	int64_t v17 = v11;
	bool v18 = v13;
	while (v18) {
		TUP* v19 = v14;
		STR* v20 = v15;
		TUP* v21 = v16;
		int64_t v22 = v17;
		TUP* v23;
		STR* v24;
		TUP* v25;
		mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_byteZBang(v19, v20, v21, v22, &v23, &v24, &v25);
		TUP* v26;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v25, &v26);
		TUP* v27;
		int64_t v28 = mw_mirth_lexer_ZPlusLexer_peek(v26, &v27);
		bool v29 = mw_std_byte_Byte_isZ_stringZ_end(v28);
		bool v30 = !v29;
		v18 = v30;
		v17 = v28;
		v16 = v27;
		v15 = v24;
		v14 = v23;
	}
	int64_t v31 = 34LL /* BQUOTE */;
	INT v32 = i64_to_int(v17);
	uint64_t v33 = int_to_u64(v32);
	uint8_t v34 = (uint8_t)(v33);
	INT v35 = i64_to_int(v31);
	uint64_t v36 = int_to_u64(v35);
	uint8_t v37 = (uint8_t)(v36);
	uint64_t v38 = (uint64_t)(v37);
	uint32_t v39 = (uint32_t)(v38);
	uint64_t v40 = (uint64_t)(v34);
	uint32_t v41 = (uint32_t)(v40);
	uint64_t v42 = (uint64_t)(v41);
	uint64_t v43 = (uint64_t)(v39);
	bool v44 = (v42 == v43);
	TUP* branch_ZPlusMirth_45;
	VAL branch_z_x1_46;
	TUP* branch_ZPlusLexer_47;
	if (v44) {
		branch_ZPlusLexer_47 = v16;
		branch_z_x1_46 = MKSTR(v15);
		branch_ZPlusMirth_45 = v14;
	} else {
		STR* v48;
		STRLIT(v48, "String literal is missing end quote (\").", 40);
		mw_mirth_lexer_ZPlusLexer_lexerZ_fatalZ_errorZBang(v48, v14, v16);
	}
	VAL v51 = mtw_mirth_token_TokenValue_Str(value_str(branch_z_x1_46));
	void* v52 = field_mut(&mfld_mirth_token_Token_ZTildevalue, v7);
	mut_set(v51, v52);
	*out_ZPlusLexer_4 = branch_ZPlusLexer_47;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_45;
}
static void mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_byteZBang (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, int64_t in_Byte_4, TUP* *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, TUP* *out_ZPlusLexer_7) {
	TUP* branch_ZPlusMirth_8;
	STR* branch_ZPlusStr_9;
	TUP* branch_ZPlusLexer_10;
	switch (in_Byte_4) {
		case 92LL: { // B'\'
			TUP* v11;
			mw_mirth_lexer_ZPlusLexer_moveZBang(in_ZPlusLexer_3, &v11);
			TUP* v12;
			int64_t v13 = mw_mirth_lexer_ZPlusLexer_peek(v11, &v12);
			TUP* v14;
			STR* v15;
			TUP* v16;
			mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_escapeZ_byteZBang(in_ZPlusMirth_1, in_ZPlusStr_2, v12, v13, &v14, &v15, &v16);
			branch_ZPlusLexer_10 = v16;
			branch_ZPlusStr_9 = v15;
			branch_ZPlusMirth_8 = v14;
		} break;
		default: {
			STR* v17;
			mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(in_Byte_4, in_ZPlusStr_2, &v17);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v17;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusLexer_7 = branch_ZPlusLexer_10;
	*out_ZPlusStr_6 = branch_ZPlusStr_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_lexer_ZPlusLexer_pushZ_stringZ_escapeZ_byteZBang (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, int64_t in_Byte_4, TUP* *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, TUP* *out_ZPlusLexer_7) {
	TUP* branch_ZPlusMirth_8;
	STR* branch_ZPlusStr_9;
	TUP* branch_ZPlusLexer_10;
	switch (in_Byte_4) {
		case 10LL: { // BLF
			TUP* v11;
			mw_mirth_lexer_ZPlusLexer_newlineZBang(in_ZPlusLexer_3, &v11);
			branch_ZPlusLexer_10 = v11;
			branch_ZPlusStr_9 = in_ZPlusStr_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 110LL: { // B'n'
			int64_t v12 = 10LL /* BLF */;
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v12, in_ZPlusStr_2, &v13);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v13;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 114LL: { // B'r'
			int64_t v14 = 13LL /* BCR */;
			STR* v15;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v14, in_ZPlusStr_2, &v15);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v15;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 116LL: { // B't'
			int64_t v16 = 9LL /* BHT */;
			STR* v17;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v16, in_ZPlusStr_2, &v17);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v17;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 92LL: { // B'\'
			int64_t v18 = 92LL /* B'\' */;
			STR* v19;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v18, in_ZPlusStr_2, &v19);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 34LL: { // BQUOTE
			int64_t v20 = 34LL /* BQUOTE */;
			STR* v21;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v20, in_ZPlusStr_2, &v21);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v21;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			STR* v22;
			mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(in_Byte_4, in_ZPlusStr_2, &v22);
			STR* v23;
			STRLIT(v23, "Unknown character escape sequence.", 34);
			TUP* v24;
			TUP* v25;
			mw_mirth_lexer_ZPlusLexer_lexerZ_warningZBang(in_ZPlusMirth_1, in_ZPlusLexer_3, v23, &v24, &v25);
			branch_ZPlusLexer_10 = v25;
			branch_ZPlusStr_9 = v22;
			branch_ZPlusMirth_8 = v24;
		} break;
	}
	*out_ZPlusLexer_7 = branch_ZPlusLexer_10;
	*out_ZPlusStr_6 = branch_ZPlusStr_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_lexer_ZPlusLexer_skipZ_commentZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	TUP* v3;
	bool v4 = mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk(in_ZPlusLexer_1, &v3);
	bool v5 = !v4;
	TUP* v6 = v3;
	bool v7 = v5;
	while (v7) {
		TUP* v8 = v6;
		TUP* v9;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v8, &v9);
		TUP* v10;
		bool v11 = mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk(v9, &v10);
		bool v12 = !v11;
		v7 = v12;
		v6 = v10;
	}
	TUP* v13;
	int64_t v14 = mw_mirth_lexer_ZPlusLexer_peek(v6, &v13);
	int64_t v15 = 10LL /* BLF */;
	INT v16 = i64_to_int(v14);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	INT v19 = i64_to_int(v15);
	uint64_t v20 = int_to_u64(v19);
	uint8_t v21 = (uint8_t)(v20);
	uint64_t v22 = (uint64_t)(v21);
	uint32_t v23 = (uint32_t)(v22);
	uint64_t v24 = (uint64_t)(v18);
	uint32_t v25 = (uint32_t)(v24);
	uint64_t v26 = (uint64_t)(v25);
	uint64_t v27 = (uint64_t)(v23);
	bool v28 = (v26 == v27);
	TUP* branch_ZPlusLexer_29;
	if (v28) {
		TUP* v30;
		mw_mirth_lexer_ZPlusLexer_newlineZBang(v13, &v30);
		TUP* v31;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v30, &v31);
		branch_ZPlusLexer_29 = v31;
	} else {
		branch_ZPlusLexer_29 = v13;
	}
	*out_ZPlusLexer_2 = branch_ZPlusLexer_29;
}
static void mw_mirth_lexer_ZPlusLexer_skipZ_docZBang (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	VAL v3 = in_ZPlusLexer_1->cells[3];
	incref(v3);
	STR* branch_Str_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			branch_Str_4 = value_str(v5);
		} break;
		case 0LL: { // None
			STR* v6;
			STRLIT(v6, "", 0);
			branch_Str_4 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v7;
	bool v8 = mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk(in_ZPlusLexer_1, &v7);
	bool v9 = !v8;
	TUP* v10 = v7;
	STR* v11 = branch_Str_4;
	bool v12 = v9;
	while (v12) {
		TUP* v13 = v10;
		STR* v14 = v11;
		TUP* v15;
		int64_t v16 = mw_mirth_lexer_ZPlusLexer_peek(v13, &v15);
		STR* v17;
		mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v16, v14, &v17);
		TUP* v18;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v15, &v18);
		TUP* v19;
		bool v20 = mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk(v18, &v19);
		bool v21 = !v20;
		v12 = v21;
		v11 = v17;
		v10 = v19;
	}
	TUP* v22;
	int64_t v23 = mw_mirth_lexer_ZPlusLexer_peek(v10, &v22);
	int64_t v24 = 10LL /* BLF */;
	INT v25 = i64_to_int(v23);
	uint64_t v26 = int_to_u64(v25);
	uint8_t v27 = (uint8_t)(v26);
	INT v28 = i64_to_int(v24);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	uint32_t v32 = (uint32_t)(v31);
	uint64_t v33 = (uint64_t)(v27);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint64_t v36 = (uint64_t)(v32);
	bool v37 = (v35 == v36);
	STR* branch_ZPlusStr_38;
	TUP* branch_ZPlusLexer_39;
	if (v37) {
		TUP* v40;
		mw_mirth_lexer_ZPlusLexer_newlineZBang(v22, &v40);
		TUP* v41;
		int64_t v42 = mw_mirth_lexer_ZPlusLexer_peek(v40, &v41);
		STR* v43;
		mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v42, v11, &v43);
		TUP* v44;
		mw_mirth_lexer_ZPlusLexer_moveZBang(v41, &v44);
		branch_ZPlusLexer_39 = v44;
		branch_ZPlusStr_38 = v43;
	} else {
		branch_ZPlusLexer_39 = v22;
		branch_ZPlusStr_38 = v11;
	}
	VAL v45 = mtw_std_maybe_Maybe_1_Some(MKSTR(branch_ZPlusStr_38));
	VAL v46 = branch_ZPlusLexer_39->cells[3];
	decref(v46);
	branch_ZPlusLexer_39->cells[3] = v45;
	*out_ZPlusLexer_2 = branch_ZPlusLexer_39;
}
static bool mw_mirth_lexer_ZPlusLexer_commentZ_endZAsk (TUP* in_ZPlusLexer_1, TUP* *out_ZPlusLexer_2) {
	TUP* v4;
	bool v5 = mw_mirth_lexer_ZPlusLexer_doneZAsk(in_ZPlusLexer_1, &v4);
	TUP* branch_ZPlusLexer_6;
	bool branch_Bool_7;
	if (v5) {
		bool v8 = true;
		branch_Bool_7 = v8;
		branch_ZPlusLexer_6 = v4;
	} else {
		TUP* v9;
		int64_t v10 = mw_mirth_lexer_ZPlusLexer_peek(v4, &v9);
		int64_t v11 = 10LL /* BLF */;
		INT v12 = i64_to_int(v10);
		uint64_t v13 = int_to_u64(v12);
		uint8_t v14 = (uint8_t)(v13);
		INT v15 = i64_to_int(v11);
		uint64_t v16 = int_to_u64(v15);
		uint8_t v17 = (uint8_t)(v16);
		uint64_t v18 = (uint64_t)(v17);
		uint32_t v19 = (uint32_t)(v18);
		uint64_t v20 = (uint64_t)(v14);
		uint32_t v21 = (uint32_t)(v20);
		uint64_t v22 = (uint64_t)(v21);
		uint64_t v23 = (uint64_t)(v19);
		bool v24 = (v22 == v23);
		branch_Bool_7 = v24;
		branch_ZPlusLexer_6 = v9;
	}
	*out_ZPlusLexer_2 = branch_ZPlusLexer_6;
	return branch_Bool_7;
}
static VAL mw_mirth_lexer_ZPlusLexer_nameZ_token (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	incref(MKSTR(in_ZPlusStr_2));
	TUP* v8;
	uint64_t v9 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, in_ZPlusStr_2, &v8);
	VAL v10 = mtw_mirth_token_TokenValue_Name(v9);
	*out_ZPlusLexer_6 = in_ZPlusLexer_3;
	*out_ZPlusStr_5 = in_ZPlusStr_2;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	TUP* v8;
	STR* v9;
	TUP* v10;
	VAL v11 = mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_tokenZAsk(in_ZPlusMirth_1, in_ZPlusStr_2, in_ZPlusLexer_3, &v8, &v9, &v10);
	TUP* branch_ZPlusMirth_12;
	STR* branch_ZPlusStr_13;
	TUP* branch_ZPlusLexer_14;
	VAL branch_Maybe_15;
	switch (get_data_tag(v11)) {
		case 0LL: { // None
			TUP* v16;
			STR* v17;
			TUP* v18;
			VAL v19 = mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_rZ_tokenZAsk(v8, v9, v10, &v16, &v17, &v18);
			branch_Maybe_15 = v19;
			branch_ZPlusLexer_14 = v18;
			branch_ZPlusStr_13 = v17;
			branch_ZPlusMirth_12 = v16;
		} break;
		default: {
			branch_Maybe_15 = v11;
			branch_ZPlusLexer_14 = v10;
			branch_ZPlusStr_13 = v9;
			branch_ZPlusMirth_12 = v8;
		} break;
	}
	TUP* branch_ZPlusMirth_20;
	STR* branch_ZPlusStr_21;
	TUP* branch_ZPlusLexer_22;
	VAL branch_Maybe_23;
	switch (get_data_tag(branch_Maybe_15)) {
		case 0LL: { // None
			TUP* v24;
			STR* v25;
			TUP* v26;
			VAL v27 = mw_mirth_lexer_ZPlusLexer_labelZ_popZ_tokenZAsk(branch_ZPlusMirth_12, branch_ZPlusStr_13, branch_ZPlusLexer_14, &v24, &v25, &v26);
			branch_Maybe_23 = v27;
			branch_ZPlusLexer_22 = v26;
			branch_ZPlusStr_21 = v25;
			branch_ZPlusMirth_20 = v24;
		} break;
		default: {
			branch_Maybe_23 = branch_Maybe_15;
			branch_ZPlusLexer_22 = branch_ZPlusLexer_14;
			branch_ZPlusStr_21 = branch_ZPlusStr_13;
			branch_ZPlusMirth_20 = branch_ZPlusMirth_12;
		} break;
	}
	TUP* branch_ZPlusMirth_28;
	STR* branch_ZPlusStr_29;
	TUP* branch_ZPlusLexer_30;
	VAL branch_Maybe_31;
	switch (get_data_tag(branch_Maybe_23)) {
		case 0LL: { // None
			TUP* v32;
			STR* v33;
			TUP* v34;
			VAL v35 = mw_mirth_lexer_ZPlusLexer_labelZ_popZ_rZ_tokenZAsk(branch_ZPlusMirth_20, branch_ZPlusStr_21, branch_ZPlusLexer_22, &v32, &v33, &v34);
			branch_Maybe_31 = v35;
			branch_ZPlusLexer_30 = v34;
			branch_ZPlusStr_29 = v33;
			branch_ZPlusMirth_28 = v32;
		} break;
		default: {
			branch_Maybe_31 = branch_Maybe_23;
			branch_ZPlusLexer_30 = branch_ZPlusLexer_22;
			branch_ZPlusStr_29 = branch_ZPlusStr_21;
			branch_ZPlusMirth_28 = branch_ZPlusMirth_20;
		} break;
	}
	TUP* branch_ZPlusMirth_36;
	STR* branch_ZPlusStr_37;
	TUP* branch_ZPlusLexer_38;
	VAL branch_Maybe_39;
	switch (get_data_tag(branch_Maybe_31)) {
		case 0LL: { // None
			TUP* v40;
			STR* v41;
			TUP* v42;
			VAL v43 = mw_mirth_lexer_ZPlusLexer_labelZ_getZ_tokenZAsk(branch_ZPlusMirth_28, branch_ZPlusStr_29, branch_ZPlusLexer_30, &v40, &v41, &v42);
			branch_Maybe_39 = v43;
			branch_ZPlusLexer_38 = v42;
			branch_ZPlusStr_37 = v41;
			branch_ZPlusMirth_36 = v40;
		} break;
		default: {
			branch_Maybe_39 = branch_Maybe_31;
			branch_ZPlusLexer_38 = branch_ZPlusLexer_30;
			branch_ZPlusStr_37 = branch_ZPlusStr_29;
			branch_ZPlusMirth_36 = branch_ZPlusMirth_28;
		} break;
	}
	TUP* branch_ZPlusMirth_44;
	STR* branch_ZPlusStr_45;
	TUP* branch_ZPlusLexer_46;
	VAL branch_Maybe_47;
	switch (get_data_tag(branch_Maybe_39)) {
		case 0LL: { // None
			TUP* v48;
			STR* v49;
			TUP* v50;
			VAL v51 = mw_mirth_lexer_ZPlusLexer_labelZ_setZ_tokenZAsk(branch_ZPlusMirth_36, branch_ZPlusStr_37, branch_ZPlusLexer_38, &v48, &v49, &v50);
			branch_Maybe_47 = v51;
			branch_ZPlusLexer_46 = v50;
			branch_ZPlusStr_45 = v49;
			branch_ZPlusMirth_44 = v48;
		} break;
		default: {
			branch_Maybe_47 = branch_Maybe_39;
			branch_ZPlusLexer_46 = branch_ZPlusLexer_38;
			branch_ZPlusStr_45 = branch_ZPlusStr_37;
			branch_ZPlusMirth_44 = branch_ZPlusMirth_36;
		} break;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_46;
	*out_ZPlusStr_5 = branch_ZPlusStr_45;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_44;
	return branch_Maybe_47;
}
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_popZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 97LL /* B'a' */;
	int64_t v11 = 122LL /* B'z' */;
	INT v12 = i64_to_int(v10);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	INT v15 = i64_to_int(v9);
	uint64_t v16 = int_to_u64(v15);
	uint8_t v17 = (uint8_t)(v16);
	uint64_t v18 = (uint64_t)(v17);
	uint32_t v19 = (uint32_t)(v18);
	uint64_t v20 = (uint64_t)(v14);
	uint32_t v21 = (uint32_t)(v20);
	uint64_t v22 = (uint64_t)(v21);
	uint64_t v23 = (uint64_t)(v19);
	bool v24 = (v22 <= v23);
	bool branch_Bool_25;
	if (v24) {
		INT v26 = i64_to_int(v9);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		INT v29 = i64_to_int(v11);
		uint64_t v30 = int_to_u64(v29);
		uint8_t v31 = (uint8_t)(v30);
		uint64_t v32 = (uint64_t)(v31);
		uint32_t v33 = (uint32_t)(v32);
		uint64_t v34 = (uint64_t)(v28);
		uint32_t v35 = (uint32_t)(v34);
		uint64_t v36 = (uint64_t)(v35);
		uint64_t v37 = (uint64_t)(v33);
		bool v38 = (v36 <= v37);
		branch_Bool_25 = v38;
	} else {
		bool v39 = false;
		branch_Bool_25 = v39;
	}
	STR* branch_ZPlusStr_40;
	bool branch_Bool_41;
	if (branch_Bool_25) {
		STR* v42;
		int64_t v43 = mw_std_str_ZPlusStr_lastZ_byte(v8, &v42);
		int64_t v44 = 62LL /* B'>' */;
		INT v45 = i64_to_int(v43);
		uint64_t v46 = int_to_u64(v45);
		uint8_t v47 = (uint8_t)(v46);
		INT v48 = i64_to_int(v44);
		uint64_t v49 = int_to_u64(v48);
		uint8_t v50 = (uint8_t)(v49);
		uint64_t v51 = (uint64_t)(v50);
		uint32_t v52 = (uint32_t)(v51);
		uint64_t v53 = (uint64_t)(v47);
		uint32_t v54 = (uint32_t)(v53);
		uint64_t v55 = (uint64_t)(v54);
		uint64_t v56 = (uint64_t)(v52);
		bool v57 = (v55 == v56);
		branch_Bool_41 = v57;
		branch_ZPlusStr_40 = v42;
	} else {
		bool v58 = false;
		branch_Bool_41 = v58;
		branch_ZPlusStr_40 = v8;
	}
	TUP* branch_ZPlusLexer_59;
	STR* branch_ZPlusStr_60;
	TUP* branch_ZPlusMirth_61;
	VAL branch_Maybe_62;
	if (branch_Bool_41) {
		STR* v63;
		STR* v64 = mw_std_prelude_unsafe_1_sp22(branch_ZPlusStr_40, &v63);
		TUP* v65;
		uint64_t v66 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v64, &v65);
		TUP* v67;
		uint64_t v68 = mw_mirth_label_Label_newZBang(v65, v66, &v67);
		VAL v69 = mtw_mirth_token_TokenValue_LabelPop(v68);
		VAL v70 = mtw_std_maybe_Maybe_1_Some(v69);
		branch_Maybe_62 = v70;
		branch_ZPlusMirth_61 = v67;
		branch_ZPlusStr_60 = v63;
		branch_ZPlusLexer_59 = in_ZPlusLexer_3;
	} else {
		VAL v71 = MKI64(0LL /* None */);
		branch_Maybe_62 = v71;
		branch_ZPlusMirth_61 = in_ZPlusMirth_1;
		branch_ZPlusStr_60 = branch_ZPlusStr_40;
		branch_ZPlusLexer_59 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_59;
	*out_ZPlusStr_5 = branch_ZPlusStr_60;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_61;
	return branch_Maybe_62;
}
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_popZ_rZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 43LL /* B'+' */;
	INT v11 = i64_to_int(v9);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	INT v14 = i64_to_int(v10);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v13);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (v21 == v22);
	STR* branch_ZPlusStr_24;
	bool branch_Bool_25;
	if (v23) {
		STR* v26;
		int64_t v27 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v26);
		int64_t v28 = 97LL /* B'a' */;
		int64_t v29 = 122LL /* B'z' */;
		INT v30 = i64_to_int(v28);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		INT v33 = i64_to_int(v27);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		uint64_t v36 = (uint64_t)(v35);
		uint32_t v37 = (uint32_t)(v36);
		uint64_t v38 = (uint64_t)(v32);
		uint32_t v39 = (uint32_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint64_t v41 = (uint64_t)(v37);
		bool v42 = (v40 <= v41);
		bool branch_Bool_43;
		if (v42) {
			INT v44 = i64_to_int(v27);
			uint64_t v45 = int_to_u64(v44);
			uint8_t v46 = (uint8_t)(v45);
			INT v47 = i64_to_int(v29);
			uint64_t v48 = int_to_u64(v47);
			uint8_t v49 = (uint8_t)(v48);
			uint64_t v50 = (uint64_t)(v49);
			uint32_t v51 = (uint32_t)(v50);
			uint64_t v52 = (uint64_t)(v46);
			uint32_t v53 = (uint32_t)(v52);
			uint64_t v54 = (uint64_t)(v53);
			uint64_t v55 = (uint64_t)(v51);
			bool v56 = (v54 <= v55);
			branch_Bool_43 = v56;
		} else {
			bool v57 = false;
			branch_Bool_43 = v57;
		}
		STR* branch_ZPlusStr_58;
		bool branch_Bool_59;
		if (branch_Bool_43) {
			STR* v60;
			int64_t v61 = mw_std_str_ZPlusStr_lastZ_byte(v26, &v60);
			int64_t v62 = 62LL /* B'>' */;
			INT v63 = i64_to_int(v61);
			uint64_t v64 = int_to_u64(v63);
			uint8_t v65 = (uint8_t)(v64);
			INT v66 = i64_to_int(v62);
			uint64_t v67 = int_to_u64(v66);
			uint8_t v68 = (uint8_t)(v67);
			uint64_t v69 = (uint64_t)(v68);
			uint32_t v70 = (uint32_t)(v69);
			uint64_t v71 = (uint64_t)(v65);
			uint32_t v72 = (uint32_t)(v71);
			uint64_t v73 = (uint64_t)(v72);
			uint64_t v74 = (uint64_t)(v70);
			bool v75 = (v73 == v74);
			branch_Bool_59 = v75;
			branch_ZPlusStr_58 = v60;
		} else {
			bool v76 = false;
			branch_Bool_59 = v76;
			branch_ZPlusStr_58 = v26;
		}
		branch_Bool_25 = branch_Bool_59;
		branch_ZPlusStr_24 = branch_ZPlusStr_58;
	} else {
		bool v77 = false;
		branch_Bool_25 = v77;
		branch_ZPlusStr_24 = v8;
	}
	TUP* branch_ZPlusLexer_78;
	STR* branch_ZPlusStr_79;
	TUP* branch_ZPlusMirth_80;
	VAL branch_Maybe_81;
	if (branch_Bool_25) {
		STR* v82;
		STR* v83 = mw_std_prelude_unsafe_1_sp22(branch_ZPlusStr_24, &v82);
		TUP* v84;
		uint64_t v85 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v83, &v84);
		TUP* v86;
		uint64_t v87 = mw_mirth_label_Label_newZBang(v84, v85, &v86);
		VAL v88 = mtw_mirth_token_TokenValue_LabelPopR(v87);
		VAL v89 = mtw_std_maybe_Maybe_1_Some(v88);
		branch_Maybe_81 = v89;
		branch_ZPlusMirth_80 = v86;
		branch_ZPlusStr_79 = v82;
		branch_ZPlusLexer_78 = in_ZPlusLexer_3;
	} else {
		VAL v90 = MKI64(0LL /* None */);
		branch_Maybe_81 = v90;
		branch_ZPlusMirth_80 = in_ZPlusMirth_1;
		branch_ZPlusStr_79 = branch_ZPlusStr_24;
		branch_ZPlusLexer_78 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_78;
	*out_ZPlusStr_5 = branch_ZPlusStr_79;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_80;
	return branch_Maybe_81;
}
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 62LL /* B'>' */;
	INT v11 = i64_to_int(v9);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	INT v14 = i64_to_int(v10);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v13);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (v21 == v22);
	STR* branch_ZPlusStr_24;
	bool branch_Bool_25;
	if (v23) {
		STR* v26;
		int64_t v27 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v26);
		int64_t v28 = 97LL /* B'a' */;
		int64_t v29 = 122LL /* B'z' */;
		INT v30 = i64_to_int(v28);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		INT v33 = i64_to_int(v27);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		uint64_t v36 = (uint64_t)(v35);
		uint32_t v37 = (uint32_t)(v36);
		uint64_t v38 = (uint64_t)(v32);
		uint32_t v39 = (uint32_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint64_t v41 = (uint64_t)(v37);
		bool v42 = (v40 <= v41);
		bool branch_Bool_43;
		if (v42) {
			INT v44 = i64_to_int(v27);
			uint64_t v45 = int_to_u64(v44);
			uint8_t v46 = (uint8_t)(v45);
			INT v47 = i64_to_int(v29);
			uint64_t v48 = int_to_u64(v47);
			uint8_t v49 = (uint8_t)(v48);
			uint64_t v50 = (uint64_t)(v49);
			uint32_t v51 = (uint32_t)(v50);
			uint64_t v52 = (uint64_t)(v46);
			uint32_t v53 = (uint32_t)(v52);
			uint64_t v54 = (uint64_t)(v53);
			uint64_t v55 = (uint64_t)(v51);
			bool v56 = (v54 <= v55);
			branch_Bool_43 = v56;
		} else {
			bool v57 = false;
			branch_Bool_43 = v57;
		}
		branch_Bool_25 = branch_Bool_43;
		branch_ZPlusStr_24 = v26;
	} else {
		bool v58 = false;
		branch_Bool_25 = v58;
		branch_ZPlusStr_24 = v8;
	}
	TUP* branch_ZPlusLexer_59;
	STR* branch_ZPlusStr_60;
	TUP* branch_ZPlusMirth_61;
	VAL branch_Maybe_62;
	if (branch_Bool_25) {
		STR* v63;
		STR* v64 = mw_std_prelude_unsafe_1_sp21(branch_ZPlusStr_24, &v63);
		TUP* v65;
		uint64_t v66 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v64, &v65);
		TUP* v67;
		uint64_t v68 = mw_mirth_label_Label_newZBang(v65, v66, &v67);
		VAL v69 = mtw_mirth_token_TokenValue_LabelPush(v68);
		VAL v70 = mtw_std_maybe_Maybe_1_Some(v69);
		branch_Maybe_62 = v70;
		branch_ZPlusMirth_61 = v67;
		branch_ZPlusStr_60 = v63;
		branch_ZPlusLexer_59 = in_ZPlusLexer_3;
	} else {
		VAL v71 = MKI64(0LL /* None */);
		branch_Maybe_62 = v71;
		branch_ZPlusMirth_61 = in_ZPlusMirth_1;
		branch_ZPlusStr_60 = branch_ZPlusStr_24;
		branch_ZPlusLexer_59 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_59;
	*out_ZPlusStr_5 = branch_ZPlusStr_60;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_61;
	return branch_Maybe_62;
}
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_pushZ_rZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	int64_t v8 = 0LL /* +Unsafe */;
	STR* v9;
	STR* v10 = mw_std_str_ZPlusStr_firstZ_twoZ_bytes(in_ZPlusStr_2, &v9);
	STR* v11;
	STRLIT(v11, ">+", 2);
	bool v12 = (str_cmp(v10, v11) == 0);
	STR* branch_ZPlusStr_13;
	bool branch_Bool_14;
	if (v12) {
		STR* v15;
		int64_t v16 = mw_std_str_ZPlusStr_thirdZ_byte(v9, &v15);
		int64_t v17 = 97LL /* B'a' */;
		int64_t v18 = 122LL /* B'z' */;
		INT v19 = i64_to_int(v17);
		uint64_t v20 = int_to_u64(v19);
		uint8_t v21 = (uint8_t)(v20);
		INT v22 = i64_to_int(v16);
		uint64_t v23 = int_to_u64(v22);
		uint8_t v24 = (uint8_t)(v23);
		uint64_t v25 = (uint64_t)(v24);
		uint32_t v26 = (uint32_t)(v25);
		uint64_t v27 = (uint64_t)(v21);
		uint32_t v28 = (uint32_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint64_t v30 = (uint64_t)(v26);
		bool v31 = (v29 <= v30);
		bool branch_Bool_32;
		if (v31) {
			INT v33 = i64_to_int(v16);
			uint64_t v34 = int_to_u64(v33);
			uint8_t v35 = (uint8_t)(v34);
			INT v36 = i64_to_int(v18);
			uint64_t v37 = int_to_u64(v36);
			uint8_t v38 = (uint8_t)(v37);
			uint64_t v39 = (uint64_t)(v38);
			uint32_t v40 = (uint32_t)(v39);
			uint64_t v41 = (uint64_t)(v35);
			uint32_t v42 = (uint32_t)(v41);
			uint64_t v43 = (uint64_t)(v42);
			uint64_t v44 = (uint64_t)(v40);
			bool v45 = (v43 <= v44);
			branch_Bool_32 = v45;
		} else {
			bool v46 = false;
			branch_Bool_32 = v46;
		}
		branch_Bool_14 = branch_Bool_32;
		branch_ZPlusStr_13 = v15;
	} else {
		bool v47 = false;
		branch_Bool_14 = v47;
		branch_ZPlusStr_13 = v9;
	}
	TUP* branch_ZPlusLexer_48;
	STR* branch_ZPlusStr_49;
	TUP* branch_ZPlusMirth_50;
	VAL branch_Maybe_51;
	if (branch_Bool_14) {
		STR* v52;
		STR* v53 = mw_std_prelude_unsafe_1_sp21(branch_ZPlusStr_13, &v52);
		TUP* v54;
		uint64_t v55 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v53, &v54);
		TUP* v56;
		uint64_t v57 = mw_mirth_label_Label_newZBang(v54, v55, &v56);
		VAL v58 = mtw_mirth_token_TokenValue_LabelPushR(v57);
		VAL v59 = mtw_std_maybe_Maybe_1_Some(v58);
		branch_Maybe_51 = v59;
		branch_ZPlusMirth_50 = v56;
		branch_ZPlusStr_49 = v52;
		branch_ZPlusLexer_48 = in_ZPlusLexer_3;
	} else {
		VAL v60 = MKI64(0LL /* None */);
		branch_Maybe_51 = v60;
		branch_ZPlusMirth_50 = in_ZPlusMirth_1;
		branch_ZPlusStr_49 = branch_ZPlusStr_13;
		branch_ZPlusLexer_48 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_48;
	*out_ZPlusStr_5 = branch_ZPlusStr_49;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_50;
	return branch_Maybe_51;
}
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_getZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 64LL /* B'@' */;
	INT v11 = i64_to_int(v9);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	INT v14 = i64_to_int(v10);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v13);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (v21 == v22);
	STR* branch_ZPlusStr_24;
	bool branch_Bool_25;
	if (v23) {
		STR* v26;
		int64_t v27 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v26);
		int64_t v28 = 97LL /* B'a' */;
		int64_t v29 = 122LL /* B'z' */;
		INT v30 = i64_to_int(v28);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		INT v33 = i64_to_int(v27);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		uint64_t v36 = (uint64_t)(v35);
		uint32_t v37 = (uint32_t)(v36);
		uint64_t v38 = (uint64_t)(v32);
		uint32_t v39 = (uint32_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint64_t v41 = (uint64_t)(v37);
		bool v42 = (v40 <= v41);
		bool branch_Bool_43;
		if (v42) {
			INT v44 = i64_to_int(v27);
			uint64_t v45 = int_to_u64(v44);
			uint8_t v46 = (uint8_t)(v45);
			INT v47 = i64_to_int(v29);
			uint64_t v48 = int_to_u64(v47);
			uint8_t v49 = (uint8_t)(v48);
			uint64_t v50 = (uint64_t)(v49);
			uint32_t v51 = (uint32_t)(v50);
			uint64_t v52 = (uint64_t)(v46);
			uint32_t v53 = (uint32_t)(v52);
			uint64_t v54 = (uint64_t)(v53);
			uint64_t v55 = (uint64_t)(v51);
			bool v56 = (v54 <= v55);
			branch_Bool_43 = v56;
		} else {
			bool v57 = false;
			branch_Bool_43 = v57;
		}
		STR* branch_ZPlusStr_58;
		bool branch_Bool_59;
		if (branch_Bool_43) {
			bool v60 = true;
			branch_Bool_59 = v60;
			branch_ZPlusStr_58 = v26;
		} else {
			STR* v61;
			int64_t v62 = mw_std_str_ZPlusStr_secondZ_byte(v26, &v61);
			int64_t v63 = 43LL /* B'+' */;
			INT v64 = i64_to_int(v62);
			uint64_t v65 = int_to_u64(v64);
			uint8_t v66 = (uint8_t)(v65);
			INT v67 = i64_to_int(v63);
			uint64_t v68 = int_to_u64(v67);
			uint8_t v69 = (uint8_t)(v68);
			uint64_t v70 = (uint64_t)(v69);
			uint32_t v71 = (uint32_t)(v70);
			uint64_t v72 = (uint64_t)(v66);
			uint32_t v73 = (uint32_t)(v72);
			uint64_t v74 = (uint64_t)(v73);
			uint64_t v75 = (uint64_t)(v71);
			bool v76 = (v74 == v75);
			STR* branch_ZPlusStr_77;
			bool branch_Bool_78;
			if (v76) {
				STR* v79;
				int64_t v80 = mw_std_str_ZPlusStr_thirdZ_byte(v61, &v79);
				int64_t v81 = 97LL /* B'a' */;
				int64_t v82 = 122LL /* B'z' */;
				INT v83 = i64_to_int(v81);
				uint64_t v84 = int_to_u64(v83);
				uint8_t v85 = (uint8_t)(v84);
				INT v86 = i64_to_int(v80);
				uint64_t v87 = int_to_u64(v86);
				uint8_t v88 = (uint8_t)(v87);
				uint64_t v89 = (uint64_t)(v88);
				uint32_t v90 = (uint32_t)(v89);
				uint64_t v91 = (uint64_t)(v85);
				uint32_t v92 = (uint32_t)(v91);
				uint64_t v93 = (uint64_t)(v92);
				uint64_t v94 = (uint64_t)(v90);
				bool v95 = (v93 <= v94);
				bool branch_Bool_96;
				if (v95) {
					INT v97 = i64_to_int(v80);
					uint64_t v98 = int_to_u64(v97);
					uint8_t v99 = (uint8_t)(v98);
					INT v100 = i64_to_int(v82);
					uint64_t v101 = int_to_u64(v100);
					uint8_t v102 = (uint8_t)(v101);
					uint64_t v103 = (uint64_t)(v102);
					uint32_t v104 = (uint32_t)(v103);
					uint64_t v105 = (uint64_t)(v99);
					uint32_t v106 = (uint32_t)(v105);
					uint64_t v107 = (uint64_t)(v106);
					uint64_t v108 = (uint64_t)(v104);
					bool v109 = (v107 <= v108);
					branch_Bool_96 = v109;
				} else {
					bool v110 = false;
					branch_Bool_96 = v110;
				}
				branch_Bool_78 = branch_Bool_96;
				branch_ZPlusStr_77 = v79;
			} else {
				bool v111 = false;
				branch_Bool_78 = v111;
				branch_ZPlusStr_77 = v61;
			}
			branch_Bool_59 = branch_Bool_78;
			branch_ZPlusStr_58 = branch_ZPlusStr_77;
		}
		branch_Bool_25 = branch_Bool_59;
		branch_ZPlusStr_24 = branch_ZPlusStr_58;
	} else {
		bool v112 = false;
		branch_Bool_25 = v112;
		branch_ZPlusStr_24 = v8;
	}
	TUP* branch_ZPlusLexer_113;
	STR* branch_ZPlusStr_114;
	TUP* branch_ZPlusMirth_115;
	VAL branch_Maybe_116;
	if (branch_Bool_25) {
		STR* v117;
		STR* v118 = mw_std_prelude_unsafe_1_sp21(branch_ZPlusStr_24, &v117);
		TUP* v119;
		uint64_t v120 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v118, &v119);
		TUP* v121;
		uint64_t v122 = mw_mirth_label_Label_newZBang(v119, v120, &v121);
		VAL v123 = mtw_mirth_token_TokenValue_LabelGet(v122);
		VAL v124 = mtw_std_maybe_Maybe_1_Some(v123);
		branch_Maybe_116 = v124;
		branch_ZPlusMirth_115 = v121;
		branch_ZPlusStr_114 = v117;
		branch_ZPlusLexer_113 = in_ZPlusLexer_3;
	} else {
		VAL v125 = MKI64(0LL /* None */);
		branch_Maybe_116 = v125;
		branch_ZPlusMirth_115 = in_ZPlusMirth_1;
		branch_ZPlusStr_114 = branch_ZPlusStr_24;
		branch_ZPlusLexer_113 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_113;
	*out_ZPlusStr_5 = branch_ZPlusStr_114;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_115;
	return branch_Maybe_116;
}
static VAL mw_mirth_lexer_ZPlusLexer_labelZ_setZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_2, &v8);
	int64_t v10 = 33LL /* B'!' */;
	INT v11 = i64_to_int(v9);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	INT v14 = i64_to_int(v10);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v13);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (v21 == v22);
	STR* branch_ZPlusStr_24;
	bool branch_Bool_25;
	if (v23) {
		STR* v26;
		int64_t v27 = mw_std_str_ZPlusStr_secondZ_byte(v8, &v26);
		int64_t v28 = 97LL /* B'a' */;
		int64_t v29 = 122LL /* B'z' */;
		INT v30 = i64_to_int(v28);
		uint64_t v31 = int_to_u64(v30);
		uint8_t v32 = (uint8_t)(v31);
		INT v33 = i64_to_int(v27);
		uint64_t v34 = int_to_u64(v33);
		uint8_t v35 = (uint8_t)(v34);
		uint64_t v36 = (uint64_t)(v35);
		uint32_t v37 = (uint32_t)(v36);
		uint64_t v38 = (uint64_t)(v32);
		uint32_t v39 = (uint32_t)(v38);
		uint64_t v40 = (uint64_t)(v39);
		uint64_t v41 = (uint64_t)(v37);
		bool v42 = (v40 <= v41);
		bool branch_Bool_43;
		if (v42) {
			INT v44 = i64_to_int(v27);
			uint64_t v45 = int_to_u64(v44);
			uint8_t v46 = (uint8_t)(v45);
			INT v47 = i64_to_int(v29);
			uint64_t v48 = int_to_u64(v47);
			uint8_t v49 = (uint8_t)(v48);
			uint64_t v50 = (uint64_t)(v49);
			uint32_t v51 = (uint32_t)(v50);
			uint64_t v52 = (uint64_t)(v46);
			uint32_t v53 = (uint32_t)(v52);
			uint64_t v54 = (uint64_t)(v53);
			uint64_t v55 = (uint64_t)(v51);
			bool v56 = (v54 <= v55);
			branch_Bool_43 = v56;
		} else {
			bool v57 = false;
			branch_Bool_43 = v57;
		}
		STR* branch_ZPlusStr_58;
		bool branch_Bool_59;
		if (branch_Bool_43) {
			bool v60 = true;
			branch_Bool_59 = v60;
			branch_ZPlusStr_58 = v26;
		} else {
			STR* v61;
			int64_t v62 = mw_std_str_ZPlusStr_secondZ_byte(v26, &v61);
			int64_t v63 = 43LL /* B'+' */;
			INT v64 = i64_to_int(v62);
			uint64_t v65 = int_to_u64(v64);
			uint8_t v66 = (uint8_t)(v65);
			INT v67 = i64_to_int(v63);
			uint64_t v68 = int_to_u64(v67);
			uint8_t v69 = (uint8_t)(v68);
			uint64_t v70 = (uint64_t)(v69);
			uint32_t v71 = (uint32_t)(v70);
			uint64_t v72 = (uint64_t)(v66);
			uint32_t v73 = (uint32_t)(v72);
			uint64_t v74 = (uint64_t)(v73);
			uint64_t v75 = (uint64_t)(v71);
			bool v76 = (v74 == v75);
			STR* branch_ZPlusStr_77;
			bool branch_Bool_78;
			if (v76) {
				STR* v79;
				int64_t v80 = mw_std_str_ZPlusStr_thirdZ_byte(v61, &v79);
				int64_t v81 = 97LL /* B'a' */;
				int64_t v82 = 122LL /* B'z' */;
				INT v83 = i64_to_int(v81);
				uint64_t v84 = int_to_u64(v83);
				uint8_t v85 = (uint8_t)(v84);
				INT v86 = i64_to_int(v80);
				uint64_t v87 = int_to_u64(v86);
				uint8_t v88 = (uint8_t)(v87);
				uint64_t v89 = (uint64_t)(v88);
				uint32_t v90 = (uint32_t)(v89);
				uint64_t v91 = (uint64_t)(v85);
				uint32_t v92 = (uint32_t)(v91);
				uint64_t v93 = (uint64_t)(v92);
				uint64_t v94 = (uint64_t)(v90);
				bool v95 = (v93 <= v94);
				bool branch_Bool_96;
				if (v95) {
					INT v97 = i64_to_int(v80);
					uint64_t v98 = int_to_u64(v97);
					uint8_t v99 = (uint8_t)(v98);
					INT v100 = i64_to_int(v82);
					uint64_t v101 = int_to_u64(v100);
					uint8_t v102 = (uint8_t)(v101);
					uint64_t v103 = (uint64_t)(v102);
					uint32_t v104 = (uint32_t)(v103);
					uint64_t v105 = (uint64_t)(v99);
					uint32_t v106 = (uint32_t)(v105);
					uint64_t v107 = (uint64_t)(v106);
					uint64_t v108 = (uint64_t)(v104);
					bool v109 = (v107 <= v108);
					branch_Bool_96 = v109;
				} else {
					bool v110 = false;
					branch_Bool_96 = v110;
				}
				branch_Bool_78 = branch_Bool_96;
				branch_ZPlusStr_77 = v79;
			} else {
				bool v111 = false;
				branch_Bool_78 = v111;
				branch_ZPlusStr_77 = v61;
			}
			branch_Bool_59 = branch_Bool_78;
			branch_ZPlusStr_58 = branch_ZPlusStr_77;
		}
		branch_Bool_25 = branch_Bool_59;
		branch_ZPlusStr_24 = branch_ZPlusStr_58;
	} else {
		bool v112 = false;
		branch_Bool_25 = v112;
		branch_ZPlusStr_24 = v8;
	}
	TUP* branch_ZPlusLexer_113;
	STR* branch_ZPlusStr_114;
	TUP* branch_ZPlusMirth_115;
	VAL branch_Maybe_116;
	if (branch_Bool_25) {
		STR* v117;
		STR* v118 = mw_std_prelude_unsafe_1_sp21(branch_ZPlusStr_24, &v117);
		TUP* v119;
		uint64_t v120 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v118, &v119);
		TUP* v121;
		uint64_t v122 = mw_mirth_label_Label_newZBang(v119, v120, &v121);
		VAL v123 = mtw_mirth_token_TokenValue_LabelSet(v122);
		VAL v124 = mtw_std_maybe_Maybe_1_Some(v123);
		branch_Maybe_116 = v124;
		branch_ZPlusMirth_115 = v121;
		branch_ZPlusStr_114 = v117;
		branch_ZPlusLexer_113 = in_ZPlusLexer_3;
	} else {
		VAL v125 = MKI64(0LL /* None */);
		branch_Maybe_116 = v125;
		branch_ZPlusMirth_115 = in_ZPlusMirth_1;
		branch_ZPlusStr_114 = branch_ZPlusStr_24;
		branch_ZPlusLexer_113 = in_ZPlusLexer_3;
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_113;
	*out_ZPlusStr_5 = branch_ZPlusStr_114;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_115;
	return branch_Maybe_116;
}
static VAL mw_mirth_lexer_ZPlusLexer_dnameZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5, TUP* *out_ZPlusLexer_6) {
	int64_t v8 = 46LL /* BDOT */;
	STR* v9;
	TUP* v10 = mw_std_str_ZPlusStr_splitZ_byte(v8, in_ZPlusStr_2, &v9);
	VAL v11;
	VAL v12 = mw_std_list_Nest_1_uncons(v10, &v11);
	VAL v13 = mw_std_list_List_1_ZToNestZAsk(v11);
	TUP* branch_ZPlusMirth_14;
	TUP* branch_ZPlusLexer_15;
	STR* branch_ZPlusStr_16;
	VAL branch_Maybe_17;
	switch (get_data_tag(v13)) {
		case 0LL: { // None
			decref(v12);
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_17 = v18;
			branch_ZPlusStr_16 = v9;
			branch_ZPlusLexer_15 = in_ZPlusLexer_3;
			branch_ZPlusMirth_14 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v19 = mtp_std_maybe_Maybe_1_Some(v13);
			incref(v12);
			uint64_t v20 = str_size(value_str(v12));
			INT v21 = u64_to_int(v20);
			INT v22 = WRAP_I63(0LL);
			bool v23 = int_eq(v21, v22);
			TUP* branch_ZPlusMirth_24;
			TUP* branch_ZPlusLexer_25;
			STR* branch_ZPlusStr_26;
			VAL branch_Maybe_27;
			if (v23) {
				decref(v12);
				VAL v28 = MKI64(0LL /* None */);
				branch_Maybe_27 = v28;
				branch_ZPlusStr_26 = v9;
				branch_ZPlusLexer_25 = in_ZPlusLexer_3;
				branch_ZPlusMirth_24 = in_ZPlusMirth_1;
			} else {
				TUP* v29;
				uint64_t v30 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, value_str(v12), &v29);
				VAL v31 = mtw_std_maybe_Maybe_1_Some(MKU64(v30));
				branch_Maybe_27 = v31;
				branch_ZPlusStr_26 = v9;
				branch_ZPlusLexer_25 = in_ZPlusLexer_3;
				branch_ZPlusMirth_24 = v29;
			}
			VAL v32;
			VAL v33 = mw_std_list_Nest_1_uncons(value_tup(v19, 2), &v32);
			TUP* v34;
			uint64_t v35 = mw_std_prim_Str_ZToName(branch_ZPlusMirth_24, value_str(v33), &v34);
			VAL v36 = MKI64(0LL /* Nil */);
			VAL v37;
			mw_std_list_List_1_buildZBang(v36, &v37);
			bool v38 = true;
			TUP* v39 = v34;
			TUP* v40 = branch_ZPlusLexer_25;
			STR* v41 = branch_ZPlusStr_26;
			VAL v42 = v37;
			VAL v43 = v32;
			bool v44 = v38;
			bool v45 = v38;
			while (v45) {
				TUP* v46 = v39;
				TUP* v47 = v40;
				STR* v48 = v41;
				VAL v49 = v42;
				VAL v50 = v43;
				bool v51 = v44;
				TUP* branch_ZPlusMirth_52;
				VAL branch_z_x1_53;
				VAL branch_z_x2_54;
				VAL branch_ZPlusLister_55;
				VAL branch_List_56;
				bool branch_Bool_57;
				switch (get_data_tag(v50)) {
					case 1LL: { // Cons
						VAL v58;
						VAL v59 = mtp_std_list_List_1_Cons(v50, &v58);
						TUP* v60;
						uint64_t v61 = mw_std_prim_Str_ZToName(v46, value_str(v59), &v60);
						VAL v62;
						mw_std_list_ZPlusLister_1_pushZBang(MKU64(v61), v49, &v62);
						bool v63 = true;
						branch_Bool_57 = v63;
						branch_List_56 = v58;
						branch_ZPlusLister_55 = v62;
						branch_z_x2_54 = MKSTR(v48);
						branch_z_x1_53 = MKTUP(v47, 9);
						branch_ZPlusMirth_52 = v60;
					} break;
					case 0LL: { // Nil
						VAL v64 = MKI64(0LL /* Nil */);
						bool v65 = false;
						branch_Bool_57 = v65;
						branch_List_56 = v64;
						branch_ZPlusLister_55 = v49;
						branch_z_x2_54 = MKSTR(v48);
						branch_z_x1_53 = MKTUP(v47, 9);
						branch_ZPlusMirth_52 = v46;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v45 = branch_Bool_57;
				v44 = branch_Bool_57;
				v43 = branch_List_56;
				v42 = branch_ZPlusLister_55;
				v41 = value_str(branch_z_x2_54);
				v40 = value_tup(branch_z_x1_53, 9);
				v39 = branch_ZPlusMirth_52;
			}
			decref(v43);
			VAL v66 = mw_std_list_ZPlusLister_1_doneZBang(v42);
			TUP* v67 = mw_std_list_List_1_consZPlus(MKU64(v35), v66);
			TUP* v68 = mtw_mirth_name_DName_DName(branch_Maybe_27, v67);
			VAL v69 = mtw_mirth_token_TokenValue_DName(v68);
			VAL v70 = mtw_std_maybe_Maybe_1_Some(v69);
			branch_Maybe_17 = v70;
			branch_ZPlusStr_16 = v41;
			branch_ZPlusLexer_15 = v40;
			branch_ZPlusMirth_14 = v39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLexer_6 = branch_ZPlusLexer_15;
	*out_ZPlusStr_5 = branch_ZPlusStr_16;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_14;
	return branch_Maybe_17;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_docZ_startZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	incref(MKSTR(in_ZPlusStr_1));
	STR* v6;
	STRLIT(v6, "|||", 3);
	bool v7 = (str_cmp(in_ZPlusStr_1, v6) == 0);
	*out_ZPlusLexer_4 = in_ZPlusLexer_2;
	*out_ZPlusStr_3 = in_ZPlusStr_1;
	return v7;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_floatZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_byteZAt(v7, in_ZPlusStr_1, &v8);
	int64_t v10 = 45LL /* B'-' */;
	INT v11 = i64_to_int(v9);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	INT v14 = i64_to_int(v10);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v13);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (v21 == v22);
	int64_t v24 = 43LL /* B'+' */;
	INT v25 = i64_to_int(v9);
	uint64_t v26 = int_to_u64(v25);
	uint8_t v27 = (uint8_t)(v26);
	INT v28 = i64_to_int(v24);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	uint32_t v32 = (uint32_t)(v31);
	uint64_t v33 = (uint64_t)(v27);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint64_t v36 = (uint64_t)(v32);
	bool v37 = (v35 == v36);
	bool v38 = (v23 || v37);
	INT branch_Sizze_39;
	TUP* branch_ZPlusLexer_40;
	STR* branch_ZPlusStr_41;
	INT branch_Offset_42;
	if (v38) {
		INT v43 = WRAP_I63(1LL);
		INT v44 = int_add(v7, v43);
		branch_Offset_42 = v44;
		branch_ZPlusStr_41 = v8;
		branch_ZPlusLexer_40 = in_ZPlusLexer_2;
		branch_Sizze_39 = v6;
	} else {
		branch_Offset_42 = v7;
		branch_ZPlusStr_41 = v8;
		branch_ZPlusLexer_40 = in_ZPlusLexer_2;
		branch_Sizze_39 = v6;
	}
	incref(MKINT(branch_Offset_42));
	STR* v45;
	int64_t v46 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_42, branch_ZPlusStr_41, &v45);
	int64_t v47 = 48LL /* B'0' */;
	int64_t v48 = 57LL /* B'9' */;
	INT v49 = i64_to_int(v47);
	uint64_t v50 = int_to_u64(v49);
	uint8_t v51 = (uint8_t)(v50);
	INT v52 = i64_to_int(v46);
	uint64_t v53 = int_to_u64(v52);
	uint8_t v54 = (uint8_t)(v53);
	uint64_t v55 = (uint64_t)(v54);
	uint32_t v56 = (uint32_t)(v55);
	uint64_t v57 = (uint64_t)(v51);
	uint32_t v58 = (uint32_t)(v57);
	uint64_t v59 = (uint64_t)(v58);
	uint64_t v60 = (uint64_t)(v56);
	bool v61 = (v59 <= v60);
	bool branch_Bool_62;
	if (v61) {
		INT v63 = i64_to_int(v46);
		uint64_t v64 = int_to_u64(v63);
		uint8_t v65 = (uint8_t)(v64);
		INT v66 = i64_to_int(v48);
		uint64_t v67 = int_to_u64(v66);
		uint8_t v68 = (uint8_t)(v67);
		uint64_t v69 = (uint64_t)(v68);
		uint32_t v70 = (uint32_t)(v69);
		uint64_t v71 = (uint64_t)(v65);
		uint32_t v72 = (uint32_t)(v71);
		uint64_t v73 = (uint64_t)(v72);
		uint64_t v74 = (uint64_t)(v70);
		bool v75 = (v73 <= v74);
		branch_Bool_62 = v75;
	} else {
		bool v76 = false;
		branch_Bool_62 = v76;
	}
	INT v77 = branch_Sizze_39;
	TUP* v78 = branch_ZPlusLexer_40;
	INT v79 = branch_Offset_42;
	STR* v80 = v45;
	bool v81 = branch_Bool_62;
	while (v81) {
		INT v82 = v77;
		TUP* v83 = v78;
		INT v84 = v79;
		STR* v85 = v80;
		INT v86 = WRAP_I63(1LL);
		INT v87 = int_add(v82, v86);
		INT v88 = WRAP_I63(1LL);
		INT v89 = int_add(v84, v88);
		incref(MKINT(v89));
		STR* v90;
		int64_t v91 = mw_std_str_ZPlusStr_byteZAt(v89, v85, &v90);
		int64_t v92 = 48LL /* B'0' */;
		int64_t v93 = 57LL /* B'9' */;
		INT v94 = i64_to_int(v92);
		uint64_t v95 = int_to_u64(v94);
		uint8_t v96 = (uint8_t)(v95);
		INT v97 = i64_to_int(v91);
		uint64_t v98 = int_to_u64(v97);
		uint8_t v99 = (uint8_t)(v98);
		uint64_t v100 = (uint64_t)(v99);
		uint32_t v101 = (uint32_t)(v100);
		uint64_t v102 = (uint64_t)(v96);
		uint32_t v103 = (uint32_t)(v102);
		uint64_t v104 = (uint64_t)(v103);
		uint64_t v105 = (uint64_t)(v101);
		bool v106 = (v104 <= v105);
		bool branch_Bool_107;
		if (v106) {
			INT v108 = i64_to_int(v91);
			uint64_t v109 = int_to_u64(v108);
			uint8_t v110 = (uint8_t)(v109);
			INT v111 = i64_to_int(v93);
			uint64_t v112 = int_to_u64(v111);
			uint8_t v113 = (uint8_t)(v112);
			uint64_t v114 = (uint64_t)(v113);
			uint32_t v115 = (uint32_t)(v114);
			uint64_t v116 = (uint64_t)(v110);
			uint32_t v117 = (uint32_t)(v116);
			uint64_t v118 = (uint64_t)(v117);
			uint64_t v119 = (uint64_t)(v115);
			bool v120 = (v118 <= v119);
			branch_Bool_107 = v120;
		} else {
			bool v121 = false;
			branch_Bool_107 = v121;
		}
		v81 = branch_Bool_107;
		v80 = v90;
		v79 = v89;
		v78 = v83;
		v77 = v87;
	}
	incref(MKINT(v79));
	STR* v122;
	int64_t v123 = mw_std_str_ZPlusStr_byteZAt(v79, v80, &v122);
	int64_t v124 = 46LL /* BDOT */;
	INT v125 = i64_to_int(v123);
	uint64_t v126 = int_to_u64(v125);
	uint8_t v127 = (uint8_t)(v126);
	INT v128 = i64_to_int(v124);
	uint64_t v129 = int_to_u64(v128);
	uint8_t v130 = (uint8_t)(v129);
	uint64_t v131 = (uint64_t)(v130);
	uint32_t v132 = (uint32_t)(v131);
	uint64_t v133 = (uint64_t)(v127);
	uint32_t v134 = (uint32_t)(v133);
	uint64_t v135 = (uint64_t)(v134);
	uint64_t v136 = (uint64_t)(v132);
	bool v137 = (v135 == v136);
	TUP* branch_ZPlusLexer_138;
	STR* branch_ZPlusStr_139;
	bool branch_Bool_140;
	if (v137) {
		INT v141 = WRAP_I63(1LL);
		INT v142 = int_add(v77, v141);
		INT v143 = WRAP_I63(1LL);
		INT v144 = int_add(v79, v143);
		incref(MKINT(v144));
		STR* v145;
		int64_t v146 = mw_std_str_ZPlusStr_byteZAt(v144, v122, &v145);
		int64_t v147 = 48LL /* B'0' */;
		int64_t v148 = 57LL /* B'9' */;
		INT v149 = i64_to_int(v147);
		uint64_t v150 = int_to_u64(v149);
		uint8_t v151 = (uint8_t)(v150);
		INT v152 = i64_to_int(v146);
		uint64_t v153 = int_to_u64(v152);
		uint8_t v154 = (uint8_t)(v153);
		uint64_t v155 = (uint64_t)(v154);
		uint32_t v156 = (uint32_t)(v155);
		uint64_t v157 = (uint64_t)(v151);
		uint32_t v158 = (uint32_t)(v157);
		uint64_t v159 = (uint64_t)(v158);
		uint64_t v160 = (uint64_t)(v156);
		bool v161 = (v159 <= v160);
		bool branch_Bool_162;
		if (v161) {
			INT v163 = i64_to_int(v146);
			uint64_t v164 = int_to_u64(v163);
			uint8_t v165 = (uint8_t)(v164);
			INT v166 = i64_to_int(v148);
			uint64_t v167 = int_to_u64(v166);
			uint8_t v168 = (uint8_t)(v167);
			uint64_t v169 = (uint64_t)(v168);
			uint32_t v170 = (uint32_t)(v169);
			uint64_t v171 = (uint64_t)(v165);
			uint32_t v172 = (uint32_t)(v171);
			uint64_t v173 = (uint64_t)(v172);
			uint64_t v174 = (uint64_t)(v170);
			bool v175 = (v173 <= v174);
			branch_Bool_162 = v175;
		} else {
			bool v176 = false;
			branch_Bool_162 = v176;
		}
		TUP* v177 = v78;
		INT v178 = v142;
		INT v179 = v144;
		STR* v180 = v145;
		bool v181 = branch_Bool_162;
		while (v181) {
			TUP* v182 = v177;
			INT v183 = v178;
			INT v184 = v179;
			STR* v185 = v180;
			INT v186 = WRAP_I63(1LL);
			INT v187 = int_add(v183, v186);
			INT v188 = WRAP_I63(1LL);
			INT v189 = int_add(v184, v188);
			incref(MKINT(v189));
			STR* v190;
			int64_t v191 = mw_std_str_ZPlusStr_byteZAt(v189, v185, &v190);
			int64_t v192 = 48LL /* B'0' */;
			int64_t v193 = 57LL /* B'9' */;
			INT v194 = i64_to_int(v192);
			uint64_t v195 = int_to_u64(v194);
			uint8_t v196 = (uint8_t)(v195);
			INT v197 = i64_to_int(v191);
			uint64_t v198 = int_to_u64(v197);
			uint8_t v199 = (uint8_t)(v198);
			uint64_t v200 = (uint64_t)(v199);
			uint32_t v201 = (uint32_t)(v200);
			uint64_t v202 = (uint64_t)(v196);
			uint32_t v203 = (uint32_t)(v202);
			uint64_t v204 = (uint64_t)(v203);
			uint64_t v205 = (uint64_t)(v201);
			bool v206 = (v204 <= v205);
			bool branch_Bool_207;
			if (v206) {
				INT v208 = i64_to_int(v191);
				uint64_t v209 = int_to_u64(v208);
				uint8_t v210 = (uint8_t)(v209);
				INT v211 = i64_to_int(v193);
				uint64_t v212 = int_to_u64(v211);
				uint8_t v213 = (uint8_t)(v212);
				uint64_t v214 = (uint64_t)(v213);
				uint32_t v215 = (uint32_t)(v214);
				uint64_t v216 = (uint64_t)(v210);
				uint32_t v217 = (uint32_t)(v216);
				uint64_t v218 = (uint64_t)(v217);
				uint64_t v219 = (uint64_t)(v215);
				bool v220 = (v218 <= v219);
				branch_Bool_207 = v220;
			} else {
				bool v221 = false;
				branch_Bool_207 = v221;
			}
			v181 = branch_Bool_207;
			v180 = v190;
			v179 = v189;
			v178 = v187;
			v177 = v182;
		}
		INT v222 = WRAP_I63(3LL);
		bool v223 = int_le(v222, v178);
		incref(MKSTR(v180));
		uint64_t v224 = str_size(v180);
		INT v225 = u64_to_int(v224);
		bool v226 = int_eq(v179, v225);
		bool v227 = (v223 && v226);
		branch_Bool_140 = v227;
		branch_ZPlusStr_139 = v180;
		branch_ZPlusLexer_138 = v177;
	} else {
		decref(MKINT(v79));
		decref(MKINT(v77));
		bool v228 = false;
		branch_Bool_140 = v228;
		branch_ZPlusStr_139 = v122;
		branch_ZPlusLexer_138 = v78;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_138;
	*out_ZPlusStr_3 = branch_ZPlusStr_139;
	return branch_Bool_140;
}
static uint64_t mw_mirth_lexer_ZPlusLexer_floatZ_tokenZAsk (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ZPlusLexer_3, uint64_t in_Token_4, TUP* *out_ZPlusMirth_5, STR* *out_ZPlusStr_6, TUP* *out_ZPlusLexer_7, VAL *out_Maybe_9) {
	STR* v10;
	TUP* v11;
	bool v12 = mw_mirth_lexer_ZPlusLexer_isZ_floatZAsk(in_ZPlusStr_2, in_ZPlusLexer_3, &v10, &v11);
	uint64_t branch_Token_13;
	TUP* branch_ZPlusMirth_14;
	STR* branch_ZPlusStr_15;
	VAL branch_z_x1_16;
	VAL branch_Maybe_17;
	if (v12) {
		incref(MKSTR(v10));
		VAL v18 = mw_std_prim_Str_ZToF64ZAsk(v10);
		uint64_t branch_Token_19;
		TUP* branch_ZPlusMirth_20;
		VAL branch_z_x1_21;
		VAL branch_z_x2_22;
		VAL branch_z_x3_23;
		switch (get_data_tag(v18)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v18);
				branch_z_x3_23 = v24;
				branch_z_x2_22 = MKSTR(v10);
				branch_z_x1_21 = MKTUP(v11, 9);
				branch_ZPlusMirth_20 = in_ZPlusMirth_1;
				branch_Token_19 = in_Token_4;
			} break;
			case 0LL: { // None
				STR* v25;
				STRLIT(v25, "[lexer] bug: failed to parse float literal", 42);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_4, v25);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL v29 = mtw_mirth_token_TokenValue_F64(value_f64(branch_z_x3_23));
		VAL v30 = mtw_std_maybe_Maybe_1_Some(v29);
		branch_Maybe_17 = v30;
		branch_z_x1_16 = branch_z_x1_21;
		branch_ZPlusStr_15 = value_str(branch_z_x2_22);
		branch_ZPlusMirth_14 = branch_ZPlusMirth_20;
		branch_Token_13 = branch_Token_19;
	} else {
		VAL v31 = MKI64(0LL /* None */);
		branch_Maybe_17 = v31;
		branch_z_x1_16 = MKTUP(v11, 9);
		branch_ZPlusStr_15 = v10;
		branch_ZPlusMirth_14 = in_ZPlusMirth_1;
		branch_Token_13 = in_Token_4;
	}
	*out_Maybe_9 = branch_Maybe_17;
	*out_ZPlusLexer_7 = value_tup(branch_z_x1_16, 9);
	*out_ZPlusStr_6 = branch_ZPlusStr_15;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_14;
	return branch_Token_13;
}
static VAL mw_mirth_lexer_ZPlusLexer_intZ_tokenZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	VAL v6 = MKI64(0LL /* None */);
	STR* branch_ZPlusStr_7;
	TUP* branch_ZPlusLexer_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v6)) {
		case 0LL: { // None
			STR* v10;
			TUP* v11;
			bool v12 = mw_mirth_lexer_ZPlusLexer_isZ_decZ_intZAsk(in_ZPlusStr_1, in_ZPlusLexer_2, &v10, &v11);
			STR* branch_ZPlusStr_13;
			TUP* branch_ZPlusLexer_14;
			VAL branch_Maybe_15;
			if (v12) {
				STR* v16;
				TUP* v17;
				VAL v18 = mw_mirth_lexer_ZPlusLexer_decZ_intZAsk(v10, v11, &v16, &v17);
				VAL v19 = mtw_std_maybe_Maybe_1_Some(v18);
				branch_Maybe_15 = v19;
				branch_ZPlusLexer_14 = v17;
				branch_ZPlusStr_13 = v16;
			} else {
				VAL v20 = MKI64(0LL /* None */);
				branch_Maybe_15 = v20;
				branch_ZPlusLexer_14 = v11;
				branch_ZPlusStr_13 = v10;
			}
			branch_Maybe_9 = branch_Maybe_15;
			branch_ZPlusLexer_8 = branch_ZPlusLexer_14;
			branch_ZPlusStr_7 = branch_ZPlusStr_13;
		} break;
		default: {
			branch_Maybe_9 = v6;
			branch_ZPlusLexer_8 = in_ZPlusLexer_2;
			branch_ZPlusStr_7 = in_ZPlusStr_1;
		} break;
	}
	STR* branch_ZPlusStr_21;
	TUP* branch_ZPlusLexer_22;
	VAL branch_Maybe_23;
	switch (get_data_tag(branch_Maybe_9)) {
		case 0LL: { // None
			STR* v24;
			TUP* v25;
			bool v26 = mw_mirth_lexer_ZPlusLexer_isZ_hexZ_intZAsk(branch_ZPlusStr_7, branch_ZPlusLexer_8, &v24, &v25);
			STR* branch_ZPlusStr_27;
			TUP* branch_ZPlusLexer_28;
			VAL branch_Maybe_29;
			if (v26) {
				STR* v30;
				TUP* v31;
				VAL v32 = mw_mirth_lexer_ZPlusLexer_hexZ_intZAsk(v24, v25, &v30, &v31);
				VAL v33 = mtw_std_maybe_Maybe_1_Some(v32);
				branch_Maybe_29 = v33;
				branch_ZPlusLexer_28 = v31;
				branch_ZPlusStr_27 = v30;
			} else {
				VAL v34 = MKI64(0LL /* None */);
				branch_Maybe_29 = v34;
				branch_ZPlusLexer_28 = v25;
				branch_ZPlusStr_27 = v24;
			}
			branch_Maybe_23 = branch_Maybe_29;
			branch_ZPlusLexer_22 = branch_ZPlusLexer_28;
			branch_ZPlusStr_21 = branch_ZPlusStr_27;
		} break;
		default: {
			branch_Maybe_23 = branch_Maybe_9;
			branch_ZPlusLexer_22 = branch_ZPlusLexer_8;
			branch_ZPlusStr_21 = branch_ZPlusStr_7;
		} break;
	}
	STR* branch_ZPlusStr_35;
	TUP* branch_ZPlusLexer_36;
	VAL branch_Maybe_37;
	switch (get_data_tag(branch_Maybe_23)) {
		case 0LL: { // None
			STR* v38;
			TUP* v39;
			bool v40 = mw_mirth_lexer_ZPlusLexer_isZ_octZ_intZAsk(branch_ZPlusStr_21, branch_ZPlusLexer_22, &v38, &v39);
			STR* branch_ZPlusStr_41;
			TUP* branch_ZPlusLexer_42;
			VAL branch_Maybe_43;
			if (v40) {
				STR* v44;
				TUP* v45;
				VAL v46 = mw_mirth_lexer_ZPlusLexer_octZ_intZAsk(v38, v39, &v44, &v45);
				VAL v47 = mtw_std_maybe_Maybe_1_Some(v46);
				branch_Maybe_43 = v47;
				branch_ZPlusLexer_42 = v45;
				branch_ZPlusStr_41 = v44;
			} else {
				VAL v48 = MKI64(0LL /* None */);
				branch_Maybe_43 = v48;
				branch_ZPlusLexer_42 = v39;
				branch_ZPlusStr_41 = v38;
			}
			branch_Maybe_37 = branch_Maybe_43;
			branch_ZPlusLexer_36 = branch_ZPlusLexer_42;
			branch_ZPlusStr_35 = branch_ZPlusStr_41;
		} break;
		default: {
			branch_Maybe_37 = branch_Maybe_23;
			branch_ZPlusLexer_36 = branch_ZPlusLexer_22;
			branch_ZPlusStr_35 = branch_ZPlusStr_21;
		} break;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_36;
	*out_ZPlusStr_3 = branch_ZPlusStr_35;
	return branch_Maybe_37;
}
static VAL mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, INT in_Offset_3, STR* *out_ZPlusStr_4, TUP* *out_ZPlusLexer_5) {
	int64_t v7 = 0LL /* +Unsafe */;
	STR* v8;
	STR* v9 = mw_std_str_ZPlusStr_dropZ_slice(in_ZPlusStr_1, in_Offset_3, &v8);
	VAL v10 = MKI64(0LL /* None */);
	STR* branch_Str_11;
	VAL branch_Maybe_12;
	switch (get_data_tag(v10)) {
		case 0LL: { // None
			incref(MKSTR(v9));
			STR* v13;
			STRLIT(v13, "", 0);
			bool v14 = (str_cmp(v9, v13) == 0);
			VAL branch_Maybe_15;
			if (v14) {
				int64_t v16 = 0LL /* Int */;
				VAL v17 = mtw_std_maybe_Maybe_1_Some(MKI64(v16));
				branch_Maybe_15 = v17;
			} else {
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_15 = v18;
			}
			branch_Maybe_12 = branch_Maybe_15;
			branch_Str_11 = v9;
		} break;
		default: {
			branch_Maybe_12 = v10;
			branch_Str_11 = v9;
		} break;
	}
	STR* branch_Str_19;
	VAL branch_Maybe_20;
	switch (get_data_tag(branch_Maybe_12)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_11));
			STR* v21;
			STRLIT(v21, "u8", 2);
			bool v22 = (str_cmp(branch_Str_11, v21) == 0);
			VAL branch_Maybe_23;
			if (v22) {
				int64_t v24 = 1LL /* U8 */;
				VAL v25 = mtw_std_maybe_Maybe_1_Some(MKI64(v24));
				branch_Maybe_23 = v25;
			} else {
				VAL v26 = MKI64(0LL /* None */);
				branch_Maybe_23 = v26;
			}
			branch_Maybe_20 = branch_Maybe_23;
			branch_Str_19 = branch_Str_11;
		} break;
		default: {
			branch_Maybe_20 = branch_Maybe_12;
			branch_Str_19 = branch_Str_11;
		} break;
	}
	STR* branch_Str_27;
	VAL branch_Maybe_28;
	switch (get_data_tag(branch_Maybe_20)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_19));
			STR* v29;
			STRLIT(v29, "u16", 3);
			bool v30 = (str_cmp(branch_Str_19, v29) == 0);
			VAL branch_Maybe_31;
			if (v30) {
				int64_t v32 = 2LL /* U16 */;
				VAL v33 = mtw_std_maybe_Maybe_1_Some(MKI64(v32));
				branch_Maybe_31 = v33;
			} else {
				VAL v34 = MKI64(0LL /* None */);
				branch_Maybe_31 = v34;
			}
			branch_Maybe_28 = branch_Maybe_31;
			branch_Str_27 = branch_Str_19;
		} break;
		default: {
			branch_Maybe_28 = branch_Maybe_20;
			branch_Str_27 = branch_Str_19;
		} break;
	}
	STR* branch_Str_35;
	VAL branch_Maybe_36;
	switch (get_data_tag(branch_Maybe_28)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_27));
			STR* v37;
			STRLIT(v37, "u32", 3);
			bool v38 = (str_cmp(branch_Str_27, v37) == 0);
			VAL branch_Maybe_39;
			if (v38) {
				int64_t v40 = 3LL /* U32 */;
				VAL v41 = mtw_std_maybe_Maybe_1_Some(MKI64(v40));
				branch_Maybe_39 = v41;
			} else {
				VAL v42 = MKI64(0LL /* None */);
				branch_Maybe_39 = v42;
			}
			branch_Maybe_36 = branch_Maybe_39;
			branch_Str_35 = branch_Str_27;
		} break;
		default: {
			branch_Maybe_36 = branch_Maybe_28;
			branch_Str_35 = branch_Str_27;
		} break;
	}
	STR* branch_Str_43;
	VAL branch_Maybe_44;
	switch (get_data_tag(branch_Maybe_36)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_35));
			STR* v45;
			STRLIT(v45, "u64", 3);
			bool v46 = (str_cmp(branch_Str_35, v45) == 0);
			VAL branch_Maybe_47;
			if (v46) {
				int64_t v48 = 4LL /* U64 */;
				VAL v49 = mtw_std_maybe_Maybe_1_Some(MKI64(v48));
				branch_Maybe_47 = v49;
			} else {
				VAL v50 = MKI64(0LL /* None */);
				branch_Maybe_47 = v50;
			}
			branch_Maybe_44 = branch_Maybe_47;
			branch_Str_43 = branch_Str_35;
		} break;
		default: {
			branch_Maybe_44 = branch_Maybe_36;
			branch_Str_43 = branch_Str_35;
		} break;
	}
	STR* branch_Str_51;
	VAL branch_Maybe_52;
	switch (get_data_tag(branch_Maybe_44)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_43));
			STR* v53;
			STRLIT(v53, "i8", 2);
			bool v54 = (str_cmp(branch_Str_43, v53) == 0);
			VAL branch_Maybe_55;
			if (v54) {
				int64_t v56 = 5LL /* I8 */;
				VAL v57 = mtw_std_maybe_Maybe_1_Some(MKI64(v56));
				branch_Maybe_55 = v57;
			} else {
				VAL v58 = MKI64(0LL /* None */);
				branch_Maybe_55 = v58;
			}
			branch_Maybe_52 = branch_Maybe_55;
			branch_Str_51 = branch_Str_43;
		} break;
		default: {
			branch_Maybe_52 = branch_Maybe_44;
			branch_Str_51 = branch_Str_43;
		} break;
	}
	STR* branch_Str_59;
	VAL branch_Maybe_60;
	switch (get_data_tag(branch_Maybe_52)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_51));
			STR* v61;
			STRLIT(v61, "i16", 3);
			bool v62 = (str_cmp(branch_Str_51, v61) == 0);
			VAL branch_Maybe_63;
			if (v62) {
				int64_t v64 = 6LL /* I16 */;
				VAL v65 = mtw_std_maybe_Maybe_1_Some(MKI64(v64));
				branch_Maybe_63 = v65;
			} else {
				VAL v66 = MKI64(0LL /* None */);
				branch_Maybe_63 = v66;
			}
			branch_Maybe_60 = branch_Maybe_63;
			branch_Str_59 = branch_Str_51;
		} break;
		default: {
			branch_Maybe_60 = branch_Maybe_52;
			branch_Str_59 = branch_Str_51;
		} break;
	}
	STR* branch_Str_67;
	VAL branch_Maybe_68;
	switch (get_data_tag(branch_Maybe_60)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_59));
			STR* v69;
			STRLIT(v69, "i32", 3);
			bool v70 = (str_cmp(branch_Str_59, v69) == 0);
			VAL branch_Maybe_71;
			if (v70) {
				int64_t v72 = 7LL /* I32 */;
				VAL v73 = mtw_std_maybe_Maybe_1_Some(MKI64(v72));
				branch_Maybe_71 = v73;
			} else {
				VAL v74 = MKI64(0LL /* None */);
				branch_Maybe_71 = v74;
			}
			branch_Maybe_68 = branch_Maybe_71;
			branch_Str_67 = branch_Str_59;
		} break;
		default: {
			branch_Maybe_68 = branch_Maybe_60;
			branch_Str_67 = branch_Str_59;
		} break;
	}
	STR* branch_Str_75;
	VAL branch_Maybe_76;
	switch (get_data_tag(branch_Maybe_68)) {
		case 0LL: { // None
			incref(MKSTR(branch_Str_67));
			STR* v77;
			STRLIT(v77, "i64", 3);
			bool v78 = (str_cmp(branch_Str_67, v77) == 0);
			VAL branch_Maybe_79;
			if (v78) {
				int64_t v80 = 8LL /* I64 */;
				VAL v81 = mtw_std_maybe_Maybe_1_Some(MKI64(v80));
				branch_Maybe_79 = v81;
			} else {
				VAL v82 = MKI64(0LL /* None */);
				branch_Maybe_79 = v82;
			}
			branch_Maybe_76 = branch_Maybe_79;
			branch_Str_75 = branch_Str_67;
		} break;
		default: {
			branch_Maybe_76 = branch_Maybe_68;
			branch_Str_75 = branch_Str_67;
		} break;
	}
	decref(MKSTR(branch_Str_75));
	*out_ZPlusLexer_5 = in_ZPlusLexer_2;
	*out_ZPlusStr_4 = v8;
	return branch_Maybe_76;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_decZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_byteZAt(v7, in_ZPlusStr_1, &v8);
	int64_t v10 = 45LL /* B'-' */;
	INT v11 = i64_to_int(v9);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	INT v14 = i64_to_int(v10);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v13);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (v21 == v22);
	int64_t v24 = 43LL /* B'+' */;
	INT v25 = i64_to_int(v9);
	uint64_t v26 = int_to_u64(v25);
	uint8_t v27 = (uint8_t)(v26);
	INT v28 = i64_to_int(v24);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	uint32_t v32 = (uint32_t)(v31);
	uint64_t v33 = (uint64_t)(v27);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint64_t v36 = (uint64_t)(v32);
	bool v37 = (v35 == v36);
	bool v38 = (v23 || v37);
	INT branch_Sizze_39;
	TUP* branch_ZPlusLexer_40;
	STR* branch_ZPlusStr_41;
	INT branch_Offset_42;
	if (v38) {
		INT v43 = WRAP_I63(1LL);
		INT v44 = int_add(v7, v43);
		branch_Offset_42 = v44;
		branch_ZPlusStr_41 = v8;
		branch_ZPlusLexer_40 = in_ZPlusLexer_2;
		branch_Sizze_39 = v6;
	} else {
		branch_Offset_42 = v7;
		branch_ZPlusStr_41 = v8;
		branch_ZPlusLexer_40 = in_ZPlusLexer_2;
		branch_Sizze_39 = v6;
	}
	incref(MKINT(branch_Sizze_39));
	INT v45 = WRAP_I63(0LL);
	bool v46 = int_lt(v45, branch_Sizze_39);
	INT branch_Offset_47;
	bool branch_Bool_48;
	STR* branch_ZPlusStr_49;
	VAL branch_z_x1_50;
	if (v46) {
		incref(MKINT(branch_Offset_42));
		STR* v51;
		int64_t v52 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_42, branch_ZPlusStr_41, &v51);
		int64_t v53 = 95LL /* B'_' */;
		INT v54 = i64_to_int(v52);
		uint64_t v55 = int_to_u64(v54);
		uint8_t v56 = (uint8_t)(v55);
		INT v57 = i64_to_int(v53);
		uint64_t v58 = int_to_u64(v57);
		uint8_t v59 = (uint8_t)(v58);
		uint64_t v60 = (uint64_t)(v59);
		uint32_t v61 = (uint32_t)(v60);
		uint64_t v62 = (uint64_t)(v56);
		uint32_t v63 = (uint32_t)(v62);
		uint64_t v64 = (uint64_t)(v63);
		uint64_t v65 = (uint64_t)(v61);
		bool v66 = (v64 == v65);
		branch_z_x1_50 = MKTUP(branch_ZPlusLexer_40, 9);
		branch_ZPlusStr_49 = v51;
		branch_Bool_48 = v66;
		branch_Offset_47 = branch_Offset_42;
	} else {
		bool v67 = false;
		branch_z_x1_50 = MKTUP(branch_ZPlusLexer_40, 9);
		branch_ZPlusStr_49 = branch_ZPlusStr_41;
		branch_Bool_48 = v67;
		branch_Offset_47 = branch_Offset_42;
	}
	INT branch_Offset_68;
	bool branch_Bool_69;
	STR* branch_ZPlusStr_70;
	VAL branch_z_x1_71;
	if (branch_Bool_48) {
		incref(MKINT(branch_Offset_47));
		INT v72 = WRAP_I63(1LL);
		INT v73 = int_add(branch_Offset_47, v72);
		STR* v74;
		int64_t v75 = mw_std_str_ZPlusStr_byteZAt(v73, branch_ZPlusStr_49, &v74);
		int64_t v76 = 48LL /* B'0' */;
		int64_t v77 = 57LL /* B'9' */;
		INT v78 = i64_to_int(v76);
		uint64_t v79 = int_to_u64(v78);
		uint8_t v80 = (uint8_t)(v79);
		INT v81 = i64_to_int(v75);
		uint64_t v82 = int_to_u64(v81);
		uint8_t v83 = (uint8_t)(v82);
		uint64_t v84 = (uint64_t)(v83);
		uint32_t v85 = (uint32_t)(v84);
		uint64_t v86 = (uint64_t)(v80);
		uint32_t v87 = (uint32_t)(v86);
		uint64_t v88 = (uint64_t)(v87);
		uint64_t v89 = (uint64_t)(v85);
		bool v90 = (v88 <= v89);
		bool branch_Bool_91;
		if (v90) {
			INT v92 = i64_to_int(v75);
			uint64_t v93 = int_to_u64(v92);
			uint8_t v94 = (uint8_t)(v93);
			INT v95 = i64_to_int(v77);
			uint64_t v96 = int_to_u64(v95);
			uint8_t v97 = (uint8_t)(v96);
			uint64_t v98 = (uint64_t)(v97);
			uint32_t v99 = (uint32_t)(v98);
			uint64_t v100 = (uint64_t)(v94);
			uint32_t v101 = (uint32_t)(v100);
			uint64_t v102 = (uint64_t)(v101);
			uint64_t v103 = (uint64_t)(v99);
			bool v104 = (v102 <= v103);
			branch_Bool_91 = v104;
		} else {
			bool v105 = false;
			branch_Bool_91 = v105;
		}
		branch_z_x1_71 = branch_z_x1_50;
		branch_ZPlusStr_70 = v74;
		branch_Bool_69 = branch_Bool_91;
		branch_Offset_68 = branch_Offset_47;
	} else {
		bool v106 = false;
		branch_z_x1_71 = branch_z_x1_50;
		branch_ZPlusStr_70 = branch_ZPlusStr_49;
		branch_Bool_69 = v106;
		branch_Offset_68 = branch_Offset_47;
	}
	INT branch_Sizze_107;
	STR* branch_ZPlusStr_108;
	VAL branch_z_x1_109;
	INT branch_Offset_110;
	bool branch_Bool_111;
	if (branch_Bool_69) {
		INT v112 = WRAP_I63(1LL);
		INT v113 = int_add(branch_Offset_68, v112);
		bool v114 = true;
		branch_Bool_111 = v114;
		branch_Offset_110 = v113;
		branch_z_x1_109 = branch_z_x1_71;
		branch_ZPlusStr_108 = branch_ZPlusStr_70;
		branch_Sizze_107 = branch_Sizze_39;
	} else {
		incref(MKINT(branch_Offset_68));
		STR* v115;
		int64_t v116 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_68, branch_ZPlusStr_70, &v115);
		int64_t v117 = 48LL /* B'0' */;
		int64_t v118 = 57LL /* B'9' */;
		INT v119 = i64_to_int(v117);
		uint64_t v120 = int_to_u64(v119);
		uint8_t v121 = (uint8_t)(v120);
		INT v122 = i64_to_int(v116);
		uint64_t v123 = int_to_u64(v122);
		uint8_t v124 = (uint8_t)(v123);
		uint64_t v125 = (uint64_t)(v124);
		uint32_t v126 = (uint32_t)(v125);
		uint64_t v127 = (uint64_t)(v121);
		uint32_t v128 = (uint32_t)(v127);
		uint64_t v129 = (uint64_t)(v128);
		uint64_t v130 = (uint64_t)(v126);
		bool v131 = (v129 <= v130);
		bool branch_Bool_132;
		if (v131) {
			INT v133 = i64_to_int(v116);
			uint64_t v134 = int_to_u64(v133);
			uint8_t v135 = (uint8_t)(v134);
			INT v136 = i64_to_int(v118);
			uint64_t v137 = int_to_u64(v136);
			uint8_t v138 = (uint8_t)(v137);
			uint64_t v139 = (uint64_t)(v138);
			uint32_t v140 = (uint32_t)(v139);
			uint64_t v141 = (uint64_t)(v135);
			uint32_t v142 = (uint32_t)(v141);
			uint64_t v143 = (uint64_t)(v142);
			uint64_t v144 = (uint64_t)(v140);
			bool v145 = (v143 <= v144);
			branch_Bool_132 = v145;
		} else {
			bool v146 = false;
			branch_Bool_132 = v146;
		}
		branch_Bool_111 = branch_Bool_132;
		branch_Offset_110 = branch_Offset_68;
		branch_z_x1_109 = branch_z_x1_71;
		branch_ZPlusStr_108 = v115;
		branch_Sizze_107 = branch_Sizze_39;
	}
	INT v147 = branch_Sizze_107;
	INT v148 = branch_Offset_110;
	VAL v149 = branch_z_x1_109;
	STR* v150 = branch_ZPlusStr_108;
	bool v151 = branch_Bool_111;
	while (v151) {
		INT v152 = v147;
		INT v153 = v148;
		VAL v154 = v149;
		STR* v155 = v150;
		INT v156 = WRAP_I63(1LL);
		INT v157 = int_add(v152, v156);
		INT v158 = WRAP_I63(1LL);
		INT v159 = int_add(v153, v158);
		incref(MKINT(v157));
		INT v160 = WRAP_I63(0LL);
		bool v161 = int_lt(v160, v157);
		INT branch_Offset_162;
		bool branch_Bool_163;
		STR* branch_ZPlusStr_164;
		VAL branch_z_x1_165;
		if (v161) {
			incref(MKINT(v159));
			STR* v166;
			int64_t v167 = mw_std_str_ZPlusStr_byteZAt(v159, v155, &v166);
			int64_t v168 = 95LL /* B'_' */;
			INT v169 = i64_to_int(v167);
			uint64_t v170 = int_to_u64(v169);
			uint8_t v171 = (uint8_t)(v170);
			INT v172 = i64_to_int(v168);
			uint64_t v173 = int_to_u64(v172);
			uint8_t v174 = (uint8_t)(v173);
			uint64_t v175 = (uint64_t)(v174);
			uint32_t v176 = (uint32_t)(v175);
			uint64_t v177 = (uint64_t)(v171);
			uint32_t v178 = (uint32_t)(v177);
			uint64_t v179 = (uint64_t)(v178);
			uint64_t v180 = (uint64_t)(v176);
			bool v181 = (v179 == v180);
			branch_z_x1_165 = v154;
			branch_ZPlusStr_164 = v166;
			branch_Bool_163 = v181;
			branch_Offset_162 = v159;
		} else {
			bool v182 = false;
			branch_z_x1_165 = v154;
			branch_ZPlusStr_164 = v155;
			branch_Bool_163 = v182;
			branch_Offset_162 = v159;
		}
		INT branch_Offset_183;
		bool branch_Bool_184;
		STR* branch_ZPlusStr_185;
		VAL branch_z_x1_186;
		if (branch_Bool_163) {
			incref(MKINT(branch_Offset_162));
			INT v187 = WRAP_I63(1LL);
			INT v188 = int_add(branch_Offset_162, v187);
			STR* v189;
			int64_t v190 = mw_std_str_ZPlusStr_byteZAt(v188, branch_ZPlusStr_164, &v189);
			int64_t v191 = 48LL /* B'0' */;
			int64_t v192 = 57LL /* B'9' */;
			INT v193 = i64_to_int(v191);
			uint64_t v194 = int_to_u64(v193);
			uint8_t v195 = (uint8_t)(v194);
			INT v196 = i64_to_int(v190);
			uint64_t v197 = int_to_u64(v196);
			uint8_t v198 = (uint8_t)(v197);
			uint64_t v199 = (uint64_t)(v198);
			uint32_t v200 = (uint32_t)(v199);
			uint64_t v201 = (uint64_t)(v195);
			uint32_t v202 = (uint32_t)(v201);
			uint64_t v203 = (uint64_t)(v202);
			uint64_t v204 = (uint64_t)(v200);
			bool v205 = (v203 <= v204);
			bool branch_Bool_206;
			if (v205) {
				INT v207 = i64_to_int(v190);
				uint64_t v208 = int_to_u64(v207);
				uint8_t v209 = (uint8_t)(v208);
				INT v210 = i64_to_int(v192);
				uint64_t v211 = int_to_u64(v210);
				uint8_t v212 = (uint8_t)(v211);
				uint64_t v213 = (uint64_t)(v212);
				uint32_t v214 = (uint32_t)(v213);
				uint64_t v215 = (uint64_t)(v209);
				uint32_t v216 = (uint32_t)(v215);
				uint64_t v217 = (uint64_t)(v216);
				uint64_t v218 = (uint64_t)(v214);
				bool v219 = (v217 <= v218);
				branch_Bool_206 = v219;
			} else {
				bool v220 = false;
				branch_Bool_206 = v220;
			}
			branch_z_x1_186 = branch_z_x1_165;
			branch_ZPlusStr_185 = v189;
			branch_Bool_184 = branch_Bool_206;
			branch_Offset_183 = branch_Offset_162;
		} else {
			bool v221 = false;
			branch_z_x1_186 = branch_z_x1_165;
			branch_ZPlusStr_185 = branch_ZPlusStr_164;
			branch_Bool_184 = v221;
			branch_Offset_183 = branch_Offset_162;
		}
		INT branch_Sizze_222;
		STR* branch_ZPlusStr_223;
		VAL branch_z_x1_224;
		INT branch_Offset_225;
		bool branch_Bool_226;
		if (branch_Bool_184) {
			INT v227 = WRAP_I63(1LL);
			INT v228 = int_add(branch_Offset_183, v227);
			bool v229 = true;
			branch_Bool_226 = v229;
			branch_Offset_225 = v228;
			branch_z_x1_224 = branch_z_x1_186;
			branch_ZPlusStr_223 = branch_ZPlusStr_185;
			branch_Sizze_222 = v157;
		} else {
			incref(MKINT(branch_Offset_183));
			STR* v230;
			int64_t v231 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_183, branch_ZPlusStr_185, &v230);
			int64_t v232 = 48LL /* B'0' */;
			int64_t v233 = 57LL /* B'9' */;
			INT v234 = i64_to_int(v232);
			uint64_t v235 = int_to_u64(v234);
			uint8_t v236 = (uint8_t)(v235);
			INT v237 = i64_to_int(v231);
			uint64_t v238 = int_to_u64(v237);
			uint8_t v239 = (uint8_t)(v238);
			uint64_t v240 = (uint64_t)(v239);
			uint32_t v241 = (uint32_t)(v240);
			uint64_t v242 = (uint64_t)(v236);
			uint32_t v243 = (uint32_t)(v242);
			uint64_t v244 = (uint64_t)(v243);
			uint64_t v245 = (uint64_t)(v241);
			bool v246 = (v244 <= v245);
			bool branch_Bool_247;
			if (v246) {
				INT v248 = i64_to_int(v231);
				uint64_t v249 = int_to_u64(v248);
				uint8_t v250 = (uint8_t)(v249);
				INT v251 = i64_to_int(v233);
				uint64_t v252 = int_to_u64(v251);
				uint8_t v253 = (uint8_t)(v252);
				uint64_t v254 = (uint64_t)(v253);
				uint32_t v255 = (uint32_t)(v254);
				uint64_t v256 = (uint64_t)(v250);
				uint32_t v257 = (uint32_t)(v256);
				uint64_t v258 = (uint64_t)(v257);
				uint64_t v259 = (uint64_t)(v255);
				bool v260 = (v258 <= v259);
				branch_Bool_247 = v260;
			} else {
				bool v261 = false;
				branch_Bool_247 = v261;
			}
			branch_Bool_226 = branch_Bool_247;
			branch_Offset_225 = branch_Offset_183;
			branch_z_x1_224 = branch_z_x1_186;
			branch_ZPlusStr_223 = v230;
			branch_Sizze_222 = v157;
		}
		v151 = branch_Bool_226;
		v150 = branch_ZPlusStr_223;
		v149 = branch_z_x1_224;
		v148 = branch_Offset_225;
		v147 = branch_Sizze_222;
	}
	INT v262 = WRAP_I63(0LL);
	bool v263 = int_lt(v262, v147);
	INT branch_Offset_264;
	bool branch_Bool_265;
	TUP* branch_ZPlusLexer_266;
	STR* branch_ZPlusStr_267;
	if (v263) {
		incref(MKINT(v148));
		STR* v268;
		TUP* v269;
		VAL v270 = mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk(v150, value_tup(v149, 9), v148, &v268, &v269);
		int64_t v271 = get_data_tag(v270);
		decref(v270);
		INT v272 = WRAP_I63(0LL);
		INT v273 = i64_to_int(v271);
		bool v274 = int_eq(v273, v272);
		bool v275 = !v274;
		branch_ZPlusStr_267 = v268;
		branch_ZPlusLexer_266 = v269;
		branch_Bool_265 = v275;
		branch_Offset_264 = v148;
	} else {
		bool v276 = false;
		branch_ZPlusStr_267 = v150;
		branch_ZPlusLexer_266 = value_tup(v149, 9);
		branch_Bool_265 = v276;
		branch_Offset_264 = v148;
	}
	decref(MKINT(branch_Offset_264));
	*out_ZPlusLexer_4 = branch_ZPlusLexer_266;
	*out_ZPlusStr_3 = branch_ZPlusStr_267;
	return branch_Bool_265;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_hexZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_byteZAt(v7, in_ZPlusStr_1, &v8);
	int64_t v10 = 45LL /* B'-' */;
	INT v11 = i64_to_int(v9);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	INT v14 = i64_to_int(v10);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v13);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (v21 == v22);
	int64_t v24 = 43LL /* B'+' */;
	INT v25 = i64_to_int(v9);
	uint64_t v26 = int_to_u64(v25);
	uint8_t v27 = (uint8_t)(v26);
	INT v28 = i64_to_int(v24);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	uint32_t v32 = (uint32_t)(v31);
	uint64_t v33 = (uint64_t)(v27);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint64_t v36 = (uint64_t)(v32);
	bool v37 = (v35 == v36);
	bool v38 = (v23 || v37);
	INT branch_Sizze_39;
	TUP* branch_ZPlusLexer_40;
	STR* branch_ZPlusStr_41;
	INT branch_Offset_42;
	if (v38) {
		INT v43 = WRAP_I63(1LL);
		INT v44 = int_add(v7, v43);
		branch_Offset_42 = v44;
		branch_ZPlusStr_41 = v8;
		branch_ZPlusLexer_40 = in_ZPlusLexer_2;
		branch_Sizze_39 = v6;
	} else {
		branch_Offset_42 = v7;
		branch_ZPlusStr_41 = v8;
		branch_ZPlusLexer_40 = in_ZPlusLexer_2;
		branch_Sizze_39 = v6;
	}
	incref(MKINT(branch_Offset_42));
	STR* v45;
	int64_t v46 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_42, branch_ZPlusStr_41, &v45);
	int64_t v47 = 48LL /* B'0' */;
	INT v48 = i64_to_int(v46);
	uint64_t v49 = int_to_u64(v48);
	uint8_t v50 = (uint8_t)(v49);
	INT v51 = i64_to_int(v47);
	uint64_t v52 = int_to_u64(v51);
	uint8_t v53 = (uint8_t)(v52);
	uint64_t v54 = (uint64_t)(v53);
	uint32_t v55 = (uint32_t)(v54);
	uint64_t v56 = (uint64_t)(v50);
	uint32_t v57 = (uint32_t)(v56);
	uint64_t v58 = (uint64_t)(v57);
	uint64_t v59 = (uint64_t)(v55);
	bool v60 = (v58 == v59);
	TUP* branch_ZPlusLexer_61;
	STR* branch_ZPlusStr_62;
	bool branch_Bool_63;
	if (v60) {
		INT v64 = WRAP_I63(1LL);
		INT v65 = int_add(branch_Offset_42, v64);
		incref(MKINT(v65));
		STR* v66;
		int64_t v67 = mw_std_str_ZPlusStr_byteZAt(v65, v45, &v66);
		int64_t v68 = 120LL /* B'x' */;
		INT v69 = i64_to_int(v67);
		uint64_t v70 = int_to_u64(v69);
		uint8_t v71 = (uint8_t)(v70);
		INT v72 = i64_to_int(v68);
		uint64_t v73 = int_to_u64(v72);
		uint8_t v74 = (uint8_t)(v73);
		uint64_t v75 = (uint64_t)(v74);
		uint32_t v76 = (uint32_t)(v75);
		uint64_t v77 = (uint64_t)(v71);
		uint32_t v78 = (uint32_t)(v77);
		uint64_t v79 = (uint64_t)(v78);
		uint64_t v80 = (uint64_t)(v76);
		bool v81 = (v79 == v80);
		TUP* branch_ZPlusLexer_82;
		STR* branch_ZPlusStr_83;
		bool branch_Bool_84;
		if (v81) {
			INT v85 = WRAP_I63(1LL);
			INT v86 = int_add(v65, v85);
			incref(MKINT(branch_Sizze_39));
			INT v87 = WRAP_I63(0LL);
			bool v88 = int_lt(v87, branch_Sizze_39);
			INT branch_Offset_89;
			bool branch_Bool_90;
			STR* branch_ZPlusStr_91;
			VAL branch_z_x1_92;
			if (v88) {
				incref(MKINT(v86));
				STR* v93;
				int64_t v94 = mw_std_str_ZPlusStr_byteZAt(v86, v66, &v93);
				int64_t v95 = 95LL /* B'_' */;
				INT v96 = i64_to_int(v94);
				uint64_t v97 = int_to_u64(v96);
				uint8_t v98 = (uint8_t)(v97);
				INT v99 = i64_to_int(v95);
				uint64_t v100 = int_to_u64(v99);
				uint8_t v101 = (uint8_t)(v100);
				uint64_t v102 = (uint64_t)(v101);
				uint32_t v103 = (uint32_t)(v102);
				uint64_t v104 = (uint64_t)(v98);
				uint32_t v105 = (uint32_t)(v104);
				uint64_t v106 = (uint64_t)(v105);
				uint64_t v107 = (uint64_t)(v103);
				bool v108 = (v106 == v107);
				branch_z_x1_92 = MKTUP(branch_ZPlusLexer_40, 9);
				branch_ZPlusStr_91 = v93;
				branch_Bool_90 = v108;
				branch_Offset_89 = v86;
			} else {
				bool v109 = false;
				branch_z_x1_92 = MKTUP(branch_ZPlusLexer_40, 9);
				branch_ZPlusStr_91 = v66;
				branch_Bool_90 = v109;
				branch_Offset_89 = v86;
			}
			INT branch_Offset_110;
			bool branch_Bool_111;
			STR* branch_ZPlusStr_112;
			VAL branch_z_x1_113;
			if (branch_Bool_90) {
				incref(MKINT(branch_Offset_89));
				INT v114 = WRAP_I63(1LL);
				INT v115 = int_add(branch_Offset_89, v114);
				STR* v116;
				int64_t v117 = mw_std_str_ZPlusStr_byteZAt(v115, branch_ZPlusStr_91, &v116);
				int64_t v118 = 48LL /* B'0' */;
				int64_t v119 = 57LL /* B'9' */;
				INT v120 = i64_to_int(v118);
				uint64_t v121 = int_to_u64(v120);
				uint8_t v122 = (uint8_t)(v121);
				INT v123 = i64_to_int(v117);
				uint64_t v124 = int_to_u64(v123);
				uint8_t v125 = (uint8_t)(v124);
				uint64_t v126 = (uint64_t)(v125);
				uint32_t v127 = (uint32_t)(v126);
				uint64_t v128 = (uint64_t)(v122);
				uint32_t v129 = (uint32_t)(v128);
				uint64_t v130 = (uint64_t)(v129);
				uint64_t v131 = (uint64_t)(v127);
				bool v132 = (v130 <= v131);
				bool branch_Bool_133;
				if (v132) {
					INT v134 = i64_to_int(v117);
					uint64_t v135 = int_to_u64(v134);
					uint8_t v136 = (uint8_t)(v135);
					INT v137 = i64_to_int(v119);
					uint64_t v138 = int_to_u64(v137);
					uint8_t v139 = (uint8_t)(v138);
					uint64_t v140 = (uint64_t)(v139);
					uint32_t v141 = (uint32_t)(v140);
					uint64_t v142 = (uint64_t)(v136);
					uint32_t v143 = (uint32_t)(v142);
					uint64_t v144 = (uint64_t)(v143);
					uint64_t v145 = (uint64_t)(v141);
					bool v146 = (v144 <= v145);
					branch_Bool_133 = v146;
				} else {
					bool v147 = false;
					branch_Bool_133 = v147;
				}
				bool branch_Bool_148;
				if (branch_Bool_133) {
					bool v149 = true;
					branch_Bool_148 = v149;
				} else {
					int64_t v150 = 65LL /* B'A' */;
					int64_t v151 = 70LL /* B'F' */;
					INT v152 = i64_to_int(v150);
					uint64_t v153 = int_to_u64(v152);
					uint8_t v154 = (uint8_t)(v153);
					INT v155 = i64_to_int(v117);
					uint64_t v156 = int_to_u64(v155);
					uint8_t v157 = (uint8_t)(v156);
					uint64_t v158 = (uint64_t)(v157);
					uint32_t v159 = (uint32_t)(v158);
					uint64_t v160 = (uint64_t)(v154);
					uint32_t v161 = (uint32_t)(v160);
					uint64_t v162 = (uint64_t)(v161);
					uint64_t v163 = (uint64_t)(v159);
					bool v164 = (v162 <= v163);
					bool branch_Bool_165;
					if (v164) {
						INT v166 = i64_to_int(v117);
						uint64_t v167 = int_to_u64(v166);
						uint8_t v168 = (uint8_t)(v167);
						INT v169 = i64_to_int(v151);
						uint64_t v170 = int_to_u64(v169);
						uint8_t v171 = (uint8_t)(v170);
						uint64_t v172 = (uint64_t)(v171);
						uint32_t v173 = (uint32_t)(v172);
						uint64_t v174 = (uint64_t)(v168);
						uint32_t v175 = (uint32_t)(v174);
						uint64_t v176 = (uint64_t)(v175);
						uint64_t v177 = (uint64_t)(v173);
						bool v178 = (v176 <= v177);
						branch_Bool_165 = v178;
					} else {
						bool v179 = false;
						branch_Bool_165 = v179;
					}
					bool branch_Bool_180;
					if (branch_Bool_165) {
						bool v181 = true;
						branch_Bool_180 = v181;
					} else {
						int64_t v182 = 97LL /* B'a' */;
						int64_t v183 = 102LL /* B'f' */;
						INT v184 = i64_to_int(v182);
						uint64_t v185 = int_to_u64(v184);
						uint8_t v186 = (uint8_t)(v185);
						INT v187 = i64_to_int(v117);
						uint64_t v188 = int_to_u64(v187);
						uint8_t v189 = (uint8_t)(v188);
						uint64_t v190 = (uint64_t)(v189);
						uint32_t v191 = (uint32_t)(v190);
						uint64_t v192 = (uint64_t)(v186);
						uint32_t v193 = (uint32_t)(v192);
						uint64_t v194 = (uint64_t)(v193);
						uint64_t v195 = (uint64_t)(v191);
						bool v196 = (v194 <= v195);
						bool branch_Bool_197;
						if (v196) {
							INT v198 = i64_to_int(v117);
							uint64_t v199 = int_to_u64(v198);
							uint8_t v200 = (uint8_t)(v199);
							INT v201 = i64_to_int(v183);
							uint64_t v202 = int_to_u64(v201);
							uint8_t v203 = (uint8_t)(v202);
							uint64_t v204 = (uint64_t)(v203);
							uint32_t v205 = (uint32_t)(v204);
							uint64_t v206 = (uint64_t)(v200);
							uint32_t v207 = (uint32_t)(v206);
							uint64_t v208 = (uint64_t)(v207);
							uint64_t v209 = (uint64_t)(v205);
							bool v210 = (v208 <= v209);
							branch_Bool_197 = v210;
						} else {
							bool v211 = false;
							branch_Bool_197 = v211;
						}
						branch_Bool_180 = branch_Bool_197;
					}
					branch_Bool_148 = branch_Bool_180;
				}
				branch_z_x1_113 = branch_z_x1_92;
				branch_ZPlusStr_112 = v116;
				branch_Bool_111 = branch_Bool_148;
				branch_Offset_110 = branch_Offset_89;
			} else {
				bool v212 = false;
				branch_z_x1_113 = branch_z_x1_92;
				branch_ZPlusStr_112 = branch_ZPlusStr_91;
				branch_Bool_111 = v212;
				branch_Offset_110 = branch_Offset_89;
			}
			INT branch_Sizze_213;
			STR* branch_ZPlusStr_214;
			VAL branch_z_x1_215;
			INT branch_Offset_216;
			bool branch_Bool_217;
			if (branch_Bool_111) {
				INT v218 = WRAP_I63(1LL);
				INT v219 = int_add(branch_Offset_110, v218);
				bool v220 = true;
				branch_Bool_217 = v220;
				branch_Offset_216 = v219;
				branch_z_x1_215 = branch_z_x1_113;
				branch_ZPlusStr_214 = branch_ZPlusStr_112;
				branch_Sizze_213 = branch_Sizze_39;
			} else {
				incref(MKINT(branch_Offset_110));
				STR* v221;
				int64_t v222 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_110, branch_ZPlusStr_112, &v221);
				int64_t v223 = 48LL /* B'0' */;
				int64_t v224 = 57LL /* B'9' */;
				INT v225 = i64_to_int(v223);
				uint64_t v226 = int_to_u64(v225);
				uint8_t v227 = (uint8_t)(v226);
				INT v228 = i64_to_int(v222);
				uint64_t v229 = int_to_u64(v228);
				uint8_t v230 = (uint8_t)(v229);
				uint64_t v231 = (uint64_t)(v230);
				uint32_t v232 = (uint32_t)(v231);
				uint64_t v233 = (uint64_t)(v227);
				uint32_t v234 = (uint32_t)(v233);
				uint64_t v235 = (uint64_t)(v234);
				uint64_t v236 = (uint64_t)(v232);
				bool v237 = (v235 <= v236);
				bool branch_Bool_238;
				if (v237) {
					INT v239 = i64_to_int(v222);
					uint64_t v240 = int_to_u64(v239);
					uint8_t v241 = (uint8_t)(v240);
					INT v242 = i64_to_int(v224);
					uint64_t v243 = int_to_u64(v242);
					uint8_t v244 = (uint8_t)(v243);
					uint64_t v245 = (uint64_t)(v244);
					uint32_t v246 = (uint32_t)(v245);
					uint64_t v247 = (uint64_t)(v241);
					uint32_t v248 = (uint32_t)(v247);
					uint64_t v249 = (uint64_t)(v248);
					uint64_t v250 = (uint64_t)(v246);
					bool v251 = (v249 <= v250);
					branch_Bool_238 = v251;
				} else {
					bool v252 = false;
					branch_Bool_238 = v252;
				}
				bool branch_Bool_253;
				if (branch_Bool_238) {
					bool v254 = true;
					branch_Bool_253 = v254;
				} else {
					int64_t v255 = 65LL /* B'A' */;
					int64_t v256 = 70LL /* B'F' */;
					INT v257 = i64_to_int(v255);
					uint64_t v258 = int_to_u64(v257);
					uint8_t v259 = (uint8_t)(v258);
					INT v260 = i64_to_int(v222);
					uint64_t v261 = int_to_u64(v260);
					uint8_t v262 = (uint8_t)(v261);
					uint64_t v263 = (uint64_t)(v262);
					uint32_t v264 = (uint32_t)(v263);
					uint64_t v265 = (uint64_t)(v259);
					uint32_t v266 = (uint32_t)(v265);
					uint64_t v267 = (uint64_t)(v266);
					uint64_t v268 = (uint64_t)(v264);
					bool v269 = (v267 <= v268);
					bool branch_Bool_270;
					if (v269) {
						INT v271 = i64_to_int(v222);
						uint64_t v272 = int_to_u64(v271);
						uint8_t v273 = (uint8_t)(v272);
						INT v274 = i64_to_int(v256);
						uint64_t v275 = int_to_u64(v274);
						uint8_t v276 = (uint8_t)(v275);
						uint64_t v277 = (uint64_t)(v276);
						uint32_t v278 = (uint32_t)(v277);
						uint64_t v279 = (uint64_t)(v273);
						uint32_t v280 = (uint32_t)(v279);
						uint64_t v281 = (uint64_t)(v280);
						uint64_t v282 = (uint64_t)(v278);
						bool v283 = (v281 <= v282);
						branch_Bool_270 = v283;
					} else {
						bool v284 = false;
						branch_Bool_270 = v284;
					}
					bool branch_Bool_285;
					if (branch_Bool_270) {
						bool v286 = true;
						branch_Bool_285 = v286;
					} else {
						int64_t v287 = 97LL /* B'a' */;
						int64_t v288 = 102LL /* B'f' */;
						INT v289 = i64_to_int(v287);
						uint64_t v290 = int_to_u64(v289);
						uint8_t v291 = (uint8_t)(v290);
						INT v292 = i64_to_int(v222);
						uint64_t v293 = int_to_u64(v292);
						uint8_t v294 = (uint8_t)(v293);
						uint64_t v295 = (uint64_t)(v294);
						uint32_t v296 = (uint32_t)(v295);
						uint64_t v297 = (uint64_t)(v291);
						uint32_t v298 = (uint32_t)(v297);
						uint64_t v299 = (uint64_t)(v298);
						uint64_t v300 = (uint64_t)(v296);
						bool v301 = (v299 <= v300);
						bool branch_Bool_302;
						if (v301) {
							INT v303 = i64_to_int(v222);
							uint64_t v304 = int_to_u64(v303);
							uint8_t v305 = (uint8_t)(v304);
							INT v306 = i64_to_int(v288);
							uint64_t v307 = int_to_u64(v306);
							uint8_t v308 = (uint8_t)(v307);
							uint64_t v309 = (uint64_t)(v308);
							uint32_t v310 = (uint32_t)(v309);
							uint64_t v311 = (uint64_t)(v305);
							uint32_t v312 = (uint32_t)(v311);
							uint64_t v313 = (uint64_t)(v312);
							uint64_t v314 = (uint64_t)(v310);
							bool v315 = (v313 <= v314);
							branch_Bool_302 = v315;
						} else {
							bool v316 = false;
							branch_Bool_302 = v316;
						}
						branch_Bool_285 = branch_Bool_302;
					}
					branch_Bool_253 = branch_Bool_285;
				}
				branch_Bool_217 = branch_Bool_253;
				branch_Offset_216 = branch_Offset_110;
				branch_z_x1_215 = branch_z_x1_113;
				branch_ZPlusStr_214 = v221;
				branch_Sizze_213 = branch_Sizze_39;
			}
			INT v317 = branch_Sizze_213;
			INT v318 = branch_Offset_216;
			VAL v319 = branch_z_x1_215;
			STR* v320 = branch_ZPlusStr_214;
			bool v321 = branch_Bool_217;
			while (v321) {
				INT v322 = v317;
				INT v323 = v318;
				VAL v324 = v319;
				STR* v325 = v320;
				INT v326 = WRAP_I63(1LL);
				INT v327 = int_add(v322, v326);
				INT v328 = WRAP_I63(1LL);
				INT v329 = int_add(v323, v328);
				incref(MKINT(v327));
				INT v330 = WRAP_I63(0LL);
				bool v331 = int_lt(v330, v327);
				INT branch_Offset_332;
				bool branch_Bool_333;
				STR* branch_ZPlusStr_334;
				VAL branch_z_x1_335;
				if (v331) {
					incref(MKINT(v329));
					STR* v336;
					int64_t v337 = mw_std_str_ZPlusStr_byteZAt(v329, v325, &v336);
					int64_t v338 = 95LL /* B'_' */;
					INT v339 = i64_to_int(v337);
					uint64_t v340 = int_to_u64(v339);
					uint8_t v341 = (uint8_t)(v340);
					INT v342 = i64_to_int(v338);
					uint64_t v343 = int_to_u64(v342);
					uint8_t v344 = (uint8_t)(v343);
					uint64_t v345 = (uint64_t)(v344);
					uint32_t v346 = (uint32_t)(v345);
					uint64_t v347 = (uint64_t)(v341);
					uint32_t v348 = (uint32_t)(v347);
					uint64_t v349 = (uint64_t)(v348);
					uint64_t v350 = (uint64_t)(v346);
					bool v351 = (v349 == v350);
					branch_z_x1_335 = v324;
					branch_ZPlusStr_334 = v336;
					branch_Bool_333 = v351;
					branch_Offset_332 = v329;
				} else {
					bool v352 = false;
					branch_z_x1_335 = v324;
					branch_ZPlusStr_334 = v325;
					branch_Bool_333 = v352;
					branch_Offset_332 = v329;
				}
				INT branch_Offset_353;
				bool branch_Bool_354;
				STR* branch_ZPlusStr_355;
				VAL branch_z_x1_356;
				if (branch_Bool_333) {
					incref(MKINT(branch_Offset_332));
					INT v357 = WRAP_I63(1LL);
					INT v358 = int_add(branch_Offset_332, v357);
					STR* v359;
					int64_t v360 = mw_std_str_ZPlusStr_byteZAt(v358, branch_ZPlusStr_334, &v359);
					int64_t v361 = 48LL /* B'0' */;
					int64_t v362 = 57LL /* B'9' */;
					INT v363 = i64_to_int(v361);
					uint64_t v364 = int_to_u64(v363);
					uint8_t v365 = (uint8_t)(v364);
					INT v366 = i64_to_int(v360);
					uint64_t v367 = int_to_u64(v366);
					uint8_t v368 = (uint8_t)(v367);
					uint64_t v369 = (uint64_t)(v368);
					uint32_t v370 = (uint32_t)(v369);
					uint64_t v371 = (uint64_t)(v365);
					uint32_t v372 = (uint32_t)(v371);
					uint64_t v373 = (uint64_t)(v372);
					uint64_t v374 = (uint64_t)(v370);
					bool v375 = (v373 <= v374);
					bool branch_Bool_376;
					if (v375) {
						INT v377 = i64_to_int(v360);
						uint64_t v378 = int_to_u64(v377);
						uint8_t v379 = (uint8_t)(v378);
						INT v380 = i64_to_int(v362);
						uint64_t v381 = int_to_u64(v380);
						uint8_t v382 = (uint8_t)(v381);
						uint64_t v383 = (uint64_t)(v382);
						uint32_t v384 = (uint32_t)(v383);
						uint64_t v385 = (uint64_t)(v379);
						uint32_t v386 = (uint32_t)(v385);
						uint64_t v387 = (uint64_t)(v386);
						uint64_t v388 = (uint64_t)(v384);
						bool v389 = (v387 <= v388);
						branch_Bool_376 = v389;
					} else {
						bool v390 = false;
						branch_Bool_376 = v390;
					}
					bool branch_Bool_391;
					if (branch_Bool_376) {
						bool v392 = true;
						branch_Bool_391 = v392;
					} else {
						int64_t v393 = 65LL /* B'A' */;
						int64_t v394 = 70LL /* B'F' */;
						INT v395 = i64_to_int(v393);
						uint64_t v396 = int_to_u64(v395);
						uint8_t v397 = (uint8_t)(v396);
						INT v398 = i64_to_int(v360);
						uint64_t v399 = int_to_u64(v398);
						uint8_t v400 = (uint8_t)(v399);
						uint64_t v401 = (uint64_t)(v400);
						uint32_t v402 = (uint32_t)(v401);
						uint64_t v403 = (uint64_t)(v397);
						uint32_t v404 = (uint32_t)(v403);
						uint64_t v405 = (uint64_t)(v404);
						uint64_t v406 = (uint64_t)(v402);
						bool v407 = (v405 <= v406);
						bool branch_Bool_408;
						if (v407) {
							INT v409 = i64_to_int(v360);
							uint64_t v410 = int_to_u64(v409);
							uint8_t v411 = (uint8_t)(v410);
							INT v412 = i64_to_int(v394);
							uint64_t v413 = int_to_u64(v412);
							uint8_t v414 = (uint8_t)(v413);
							uint64_t v415 = (uint64_t)(v414);
							uint32_t v416 = (uint32_t)(v415);
							uint64_t v417 = (uint64_t)(v411);
							uint32_t v418 = (uint32_t)(v417);
							uint64_t v419 = (uint64_t)(v418);
							uint64_t v420 = (uint64_t)(v416);
							bool v421 = (v419 <= v420);
							branch_Bool_408 = v421;
						} else {
							bool v422 = false;
							branch_Bool_408 = v422;
						}
						bool branch_Bool_423;
						if (branch_Bool_408) {
							bool v424 = true;
							branch_Bool_423 = v424;
						} else {
							int64_t v425 = 97LL /* B'a' */;
							int64_t v426 = 102LL /* B'f' */;
							INT v427 = i64_to_int(v425);
							uint64_t v428 = int_to_u64(v427);
							uint8_t v429 = (uint8_t)(v428);
							INT v430 = i64_to_int(v360);
							uint64_t v431 = int_to_u64(v430);
							uint8_t v432 = (uint8_t)(v431);
							uint64_t v433 = (uint64_t)(v432);
							uint32_t v434 = (uint32_t)(v433);
							uint64_t v435 = (uint64_t)(v429);
							uint32_t v436 = (uint32_t)(v435);
							uint64_t v437 = (uint64_t)(v436);
							uint64_t v438 = (uint64_t)(v434);
							bool v439 = (v437 <= v438);
							bool branch_Bool_440;
							if (v439) {
								INT v441 = i64_to_int(v360);
								uint64_t v442 = int_to_u64(v441);
								uint8_t v443 = (uint8_t)(v442);
								INT v444 = i64_to_int(v426);
								uint64_t v445 = int_to_u64(v444);
								uint8_t v446 = (uint8_t)(v445);
								uint64_t v447 = (uint64_t)(v446);
								uint32_t v448 = (uint32_t)(v447);
								uint64_t v449 = (uint64_t)(v443);
								uint32_t v450 = (uint32_t)(v449);
								uint64_t v451 = (uint64_t)(v450);
								uint64_t v452 = (uint64_t)(v448);
								bool v453 = (v451 <= v452);
								branch_Bool_440 = v453;
							} else {
								bool v454 = false;
								branch_Bool_440 = v454;
							}
							branch_Bool_423 = branch_Bool_440;
						}
						branch_Bool_391 = branch_Bool_423;
					}
					branch_z_x1_356 = branch_z_x1_335;
					branch_ZPlusStr_355 = v359;
					branch_Bool_354 = branch_Bool_391;
					branch_Offset_353 = branch_Offset_332;
				} else {
					bool v455 = false;
					branch_z_x1_356 = branch_z_x1_335;
					branch_ZPlusStr_355 = branch_ZPlusStr_334;
					branch_Bool_354 = v455;
					branch_Offset_353 = branch_Offset_332;
				}
				INT branch_Sizze_456;
				STR* branch_ZPlusStr_457;
				VAL branch_z_x1_458;
				INT branch_Offset_459;
				bool branch_Bool_460;
				if (branch_Bool_354) {
					INT v461 = WRAP_I63(1LL);
					INT v462 = int_add(branch_Offset_353, v461);
					bool v463 = true;
					branch_Bool_460 = v463;
					branch_Offset_459 = v462;
					branch_z_x1_458 = branch_z_x1_356;
					branch_ZPlusStr_457 = branch_ZPlusStr_355;
					branch_Sizze_456 = v327;
				} else {
					incref(MKINT(branch_Offset_353));
					STR* v464;
					int64_t v465 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_353, branch_ZPlusStr_355, &v464);
					int64_t v466 = 48LL /* B'0' */;
					int64_t v467 = 57LL /* B'9' */;
					INT v468 = i64_to_int(v466);
					uint64_t v469 = int_to_u64(v468);
					uint8_t v470 = (uint8_t)(v469);
					INT v471 = i64_to_int(v465);
					uint64_t v472 = int_to_u64(v471);
					uint8_t v473 = (uint8_t)(v472);
					uint64_t v474 = (uint64_t)(v473);
					uint32_t v475 = (uint32_t)(v474);
					uint64_t v476 = (uint64_t)(v470);
					uint32_t v477 = (uint32_t)(v476);
					uint64_t v478 = (uint64_t)(v477);
					uint64_t v479 = (uint64_t)(v475);
					bool v480 = (v478 <= v479);
					bool branch_Bool_481;
					if (v480) {
						INT v482 = i64_to_int(v465);
						uint64_t v483 = int_to_u64(v482);
						uint8_t v484 = (uint8_t)(v483);
						INT v485 = i64_to_int(v467);
						uint64_t v486 = int_to_u64(v485);
						uint8_t v487 = (uint8_t)(v486);
						uint64_t v488 = (uint64_t)(v487);
						uint32_t v489 = (uint32_t)(v488);
						uint64_t v490 = (uint64_t)(v484);
						uint32_t v491 = (uint32_t)(v490);
						uint64_t v492 = (uint64_t)(v491);
						uint64_t v493 = (uint64_t)(v489);
						bool v494 = (v492 <= v493);
						branch_Bool_481 = v494;
					} else {
						bool v495 = false;
						branch_Bool_481 = v495;
					}
					bool branch_Bool_496;
					if (branch_Bool_481) {
						bool v497 = true;
						branch_Bool_496 = v497;
					} else {
						int64_t v498 = 65LL /* B'A' */;
						int64_t v499 = 70LL /* B'F' */;
						INT v500 = i64_to_int(v498);
						uint64_t v501 = int_to_u64(v500);
						uint8_t v502 = (uint8_t)(v501);
						INT v503 = i64_to_int(v465);
						uint64_t v504 = int_to_u64(v503);
						uint8_t v505 = (uint8_t)(v504);
						uint64_t v506 = (uint64_t)(v505);
						uint32_t v507 = (uint32_t)(v506);
						uint64_t v508 = (uint64_t)(v502);
						uint32_t v509 = (uint32_t)(v508);
						uint64_t v510 = (uint64_t)(v509);
						uint64_t v511 = (uint64_t)(v507);
						bool v512 = (v510 <= v511);
						bool branch_Bool_513;
						if (v512) {
							INT v514 = i64_to_int(v465);
							uint64_t v515 = int_to_u64(v514);
							uint8_t v516 = (uint8_t)(v515);
							INT v517 = i64_to_int(v499);
							uint64_t v518 = int_to_u64(v517);
							uint8_t v519 = (uint8_t)(v518);
							uint64_t v520 = (uint64_t)(v519);
							uint32_t v521 = (uint32_t)(v520);
							uint64_t v522 = (uint64_t)(v516);
							uint32_t v523 = (uint32_t)(v522);
							uint64_t v524 = (uint64_t)(v523);
							uint64_t v525 = (uint64_t)(v521);
							bool v526 = (v524 <= v525);
							branch_Bool_513 = v526;
						} else {
							bool v527 = false;
							branch_Bool_513 = v527;
						}
						bool branch_Bool_528;
						if (branch_Bool_513) {
							bool v529 = true;
							branch_Bool_528 = v529;
						} else {
							int64_t v530 = 97LL /* B'a' */;
							int64_t v531 = 102LL /* B'f' */;
							INT v532 = i64_to_int(v530);
							uint64_t v533 = int_to_u64(v532);
							uint8_t v534 = (uint8_t)(v533);
							INT v535 = i64_to_int(v465);
							uint64_t v536 = int_to_u64(v535);
							uint8_t v537 = (uint8_t)(v536);
							uint64_t v538 = (uint64_t)(v537);
							uint32_t v539 = (uint32_t)(v538);
							uint64_t v540 = (uint64_t)(v534);
							uint32_t v541 = (uint32_t)(v540);
							uint64_t v542 = (uint64_t)(v541);
							uint64_t v543 = (uint64_t)(v539);
							bool v544 = (v542 <= v543);
							bool branch_Bool_545;
							if (v544) {
								INT v546 = i64_to_int(v465);
								uint64_t v547 = int_to_u64(v546);
								uint8_t v548 = (uint8_t)(v547);
								INT v549 = i64_to_int(v531);
								uint64_t v550 = int_to_u64(v549);
								uint8_t v551 = (uint8_t)(v550);
								uint64_t v552 = (uint64_t)(v551);
								uint32_t v553 = (uint32_t)(v552);
								uint64_t v554 = (uint64_t)(v548);
								uint32_t v555 = (uint32_t)(v554);
								uint64_t v556 = (uint64_t)(v555);
								uint64_t v557 = (uint64_t)(v553);
								bool v558 = (v556 <= v557);
								branch_Bool_545 = v558;
							} else {
								bool v559 = false;
								branch_Bool_545 = v559;
							}
							branch_Bool_528 = branch_Bool_545;
						}
						branch_Bool_496 = branch_Bool_528;
					}
					branch_Bool_460 = branch_Bool_496;
					branch_Offset_459 = branch_Offset_353;
					branch_z_x1_458 = branch_z_x1_356;
					branch_ZPlusStr_457 = v464;
					branch_Sizze_456 = v327;
				}
				v321 = branch_Bool_460;
				v320 = branch_ZPlusStr_457;
				v319 = branch_z_x1_458;
				v318 = branch_Offset_459;
				v317 = branch_Sizze_456;
			}
			INT v560 = WRAP_I63(0LL);
			bool v561 = int_lt(v560, v317);
			INT branch_Offset_562;
			bool branch_Bool_563;
			TUP* branch_ZPlusLexer_564;
			STR* branch_ZPlusStr_565;
			if (v561) {
				incref(MKINT(v318));
				STR* v566;
				TUP* v567;
				VAL v568 = mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk(v320, value_tup(v319, 9), v318, &v566, &v567);
				int64_t v569 = get_data_tag(v568);
				decref(v568);
				INT v570 = WRAP_I63(0LL);
				INT v571 = i64_to_int(v569);
				bool v572 = int_eq(v571, v570);
				bool v573 = !v572;
				branch_ZPlusStr_565 = v566;
				branch_ZPlusLexer_564 = v567;
				branch_Bool_563 = v573;
				branch_Offset_562 = v318;
			} else {
				bool v574 = false;
				branch_ZPlusStr_565 = v320;
				branch_ZPlusLexer_564 = value_tup(v319, 9);
				branch_Bool_563 = v574;
				branch_Offset_562 = v318;
			}
			decref(MKINT(branch_Offset_562));
			branch_Bool_84 = branch_Bool_563;
			branch_ZPlusStr_83 = branch_ZPlusStr_565;
			branch_ZPlusLexer_82 = branch_ZPlusLexer_564;
		} else {
			decref(MKINT(v65));
			decref(MKINT(branch_Sizze_39));
			bool v575 = false;
			branch_Bool_84 = v575;
			branch_ZPlusStr_83 = v66;
			branch_ZPlusLexer_82 = branch_ZPlusLexer_40;
		}
		branch_Bool_63 = branch_Bool_84;
		branch_ZPlusStr_62 = branch_ZPlusStr_83;
		branch_ZPlusLexer_61 = branch_ZPlusLexer_82;
	} else {
		decref(MKINT(branch_Offset_42));
		decref(MKINT(branch_Sizze_39));
		bool v576 = false;
		branch_Bool_63 = v576;
		branch_ZPlusStr_62 = v45;
		branch_ZPlusLexer_61 = branch_ZPlusLexer_40;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_61;
	*out_ZPlusStr_3 = branch_ZPlusStr_62;
	return branch_Bool_63;
}
static bool mw_mirth_lexer_ZPlusLexer_isZ_octZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	incref(MKINT(v7));
	STR* v8;
	int64_t v9 = mw_std_str_ZPlusStr_byteZAt(v7, in_ZPlusStr_1, &v8);
	int64_t v10 = 45LL /* B'-' */;
	INT v11 = i64_to_int(v9);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	INT v14 = i64_to_int(v10);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	uint64_t v17 = (uint64_t)(v16);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v13);
	uint32_t v20 = (uint32_t)(v19);
	uint64_t v21 = (uint64_t)(v20);
	uint64_t v22 = (uint64_t)(v18);
	bool v23 = (v21 == v22);
	int64_t v24 = 43LL /* B'+' */;
	INT v25 = i64_to_int(v9);
	uint64_t v26 = int_to_u64(v25);
	uint8_t v27 = (uint8_t)(v26);
	INT v28 = i64_to_int(v24);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	uint32_t v32 = (uint32_t)(v31);
	uint64_t v33 = (uint64_t)(v27);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint64_t v36 = (uint64_t)(v32);
	bool v37 = (v35 == v36);
	bool v38 = (v23 || v37);
	INT branch_Sizze_39;
	TUP* branch_ZPlusLexer_40;
	STR* branch_ZPlusStr_41;
	INT branch_Offset_42;
	if (v38) {
		INT v43 = WRAP_I63(1LL);
		INT v44 = int_add(v7, v43);
		branch_Offset_42 = v44;
		branch_ZPlusStr_41 = v8;
		branch_ZPlusLexer_40 = in_ZPlusLexer_2;
		branch_Sizze_39 = v6;
	} else {
		branch_Offset_42 = v7;
		branch_ZPlusStr_41 = v8;
		branch_ZPlusLexer_40 = in_ZPlusLexer_2;
		branch_Sizze_39 = v6;
	}
	incref(MKINT(branch_Offset_42));
	STR* v45;
	int64_t v46 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_42, branch_ZPlusStr_41, &v45);
	int64_t v47 = 48LL /* B'0' */;
	INT v48 = i64_to_int(v46);
	uint64_t v49 = int_to_u64(v48);
	uint8_t v50 = (uint8_t)(v49);
	INT v51 = i64_to_int(v47);
	uint64_t v52 = int_to_u64(v51);
	uint8_t v53 = (uint8_t)(v52);
	uint64_t v54 = (uint64_t)(v53);
	uint32_t v55 = (uint32_t)(v54);
	uint64_t v56 = (uint64_t)(v50);
	uint32_t v57 = (uint32_t)(v56);
	uint64_t v58 = (uint64_t)(v57);
	uint64_t v59 = (uint64_t)(v55);
	bool v60 = (v58 == v59);
	TUP* branch_ZPlusLexer_61;
	STR* branch_ZPlusStr_62;
	bool branch_Bool_63;
	if (v60) {
		INT v64 = WRAP_I63(1LL);
		INT v65 = int_add(branch_Offset_42, v64);
		incref(MKINT(v65));
		STR* v66;
		int64_t v67 = mw_std_str_ZPlusStr_byteZAt(v65, v45, &v66);
		int64_t v68 = 111LL /* B'o' */;
		INT v69 = i64_to_int(v67);
		uint64_t v70 = int_to_u64(v69);
		uint8_t v71 = (uint8_t)(v70);
		INT v72 = i64_to_int(v68);
		uint64_t v73 = int_to_u64(v72);
		uint8_t v74 = (uint8_t)(v73);
		uint64_t v75 = (uint64_t)(v74);
		uint32_t v76 = (uint32_t)(v75);
		uint64_t v77 = (uint64_t)(v71);
		uint32_t v78 = (uint32_t)(v77);
		uint64_t v79 = (uint64_t)(v78);
		uint64_t v80 = (uint64_t)(v76);
		bool v81 = (v79 == v80);
		TUP* branch_ZPlusLexer_82;
		STR* branch_ZPlusStr_83;
		bool branch_Bool_84;
		if (v81) {
			INT v85 = WRAP_I63(1LL);
			INT v86 = int_add(v65, v85);
			incref(MKINT(branch_Sizze_39));
			INT v87 = WRAP_I63(0LL);
			bool v88 = int_lt(v87, branch_Sizze_39);
			INT branch_Offset_89;
			bool branch_Bool_90;
			STR* branch_ZPlusStr_91;
			VAL branch_z_x1_92;
			if (v88) {
				incref(MKINT(v86));
				STR* v93;
				int64_t v94 = mw_std_str_ZPlusStr_byteZAt(v86, v66, &v93);
				int64_t v95 = 95LL /* B'_' */;
				INT v96 = i64_to_int(v94);
				uint64_t v97 = int_to_u64(v96);
				uint8_t v98 = (uint8_t)(v97);
				INT v99 = i64_to_int(v95);
				uint64_t v100 = int_to_u64(v99);
				uint8_t v101 = (uint8_t)(v100);
				uint64_t v102 = (uint64_t)(v101);
				uint32_t v103 = (uint32_t)(v102);
				uint64_t v104 = (uint64_t)(v98);
				uint32_t v105 = (uint32_t)(v104);
				uint64_t v106 = (uint64_t)(v105);
				uint64_t v107 = (uint64_t)(v103);
				bool v108 = (v106 == v107);
				branch_z_x1_92 = MKTUP(branch_ZPlusLexer_40, 9);
				branch_ZPlusStr_91 = v93;
				branch_Bool_90 = v108;
				branch_Offset_89 = v86;
			} else {
				bool v109 = false;
				branch_z_x1_92 = MKTUP(branch_ZPlusLexer_40, 9);
				branch_ZPlusStr_91 = v66;
				branch_Bool_90 = v109;
				branch_Offset_89 = v86;
			}
			INT branch_Offset_110;
			bool branch_Bool_111;
			STR* branch_ZPlusStr_112;
			VAL branch_z_x1_113;
			if (branch_Bool_90) {
				incref(MKINT(branch_Offset_89));
				INT v114 = WRAP_I63(1LL);
				INT v115 = int_add(branch_Offset_89, v114);
				STR* v116;
				int64_t v117 = mw_std_str_ZPlusStr_byteZAt(v115, branch_ZPlusStr_91, &v116);
				int64_t v118 = 48LL /* B'0' */;
				int64_t v119 = 55LL /* B'7' */;
				INT v120 = i64_to_int(v118);
				uint64_t v121 = int_to_u64(v120);
				uint8_t v122 = (uint8_t)(v121);
				INT v123 = i64_to_int(v117);
				uint64_t v124 = int_to_u64(v123);
				uint8_t v125 = (uint8_t)(v124);
				uint64_t v126 = (uint64_t)(v125);
				uint32_t v127 = (uint32_t)(v126);
				uint64_t v128 = (uint64_t)(v122);
				uint32_t v129 = (uint32_t)(v128);
				uint64_t v130 = (uint64_t)(v129);
				uint64_t v131 = (uint64_t)(v127);
				bool v132 = (v130 <= v131);
				bool branch_Bool_133;
				if (v132) {
					INT v134 = i64_to_int(v117);
					uint64_t v135 = int_to_u64(v134);
					uint8_t v136 = (uint8_t)(v135);
					INT v137 = i64_to_int(v119);
					uint64_t v138 = int_to_u64(v137);
					uint8_t v139 = (uint8_t)(v138);
					uint64_t v140 = (uint64_t)(v139);
					uint32_t v141 = (uint32_t)(v140);
					uint64_t v142 = (uint64_t)(v136);
					uint32_t v143 = (uint32_t)(v142);
					uint64_t v144 = (uint64_t)(v143);
					uint64_t v145 = (uint64_t)(v141);
					bool v146 = (v144 <= v145);
					branch_Bool_133 = v146;
				} else {
					bool v147 = false;
					branch_Bool_133 = v147;
				}
				branch_z_x1_113 = branch_z_x1_92;
				branch_ZPlusStr_112 = v116;
				branch_Bool_111 = branch_Bool_133;
				branch_Offset_110 = branch_Offset_89;
			} else {
				bool v148 = false;
				branch_z_x1_113 = branch_z_x1_92;
				branch_ZPlusStr_112 = branch_ZPlusStr_91;
				branch_Bool_111 = v148;
				branch_Offset_110 = branch_Offset_89;
			}
			STR* branch_ZPlusStr_149;
			VAL branch_z_x1_150;
			INT branch_Sizze_151;
			INT branch_Offset_152;
			bool branch_Bool_153;
			if (branch_Bool_111) {
				INT v154 = WRAP_I63(1LL);
				INT v155 = int_add(branch_Offset_110, v154);
				bool v156 = true;
				branch_Bool_153 = v156;
				branch_Offset_152 = v155;
				branch_Sizze_151 = branch_Sizze_39;
				branch_z_x1_150 = branch_z_x1_113;
				branch_ZPlusStr_149 = branch_ZPlusStr_112;
			} else {
				incref(MKINT(branch_Offset_110));
				STR* v157;
				int64_t v158 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_110, branch_ZPlusStr_112, &v157);
				int64_t v159 = 48LL /* B'0' */;
				int64_t v160 = 55LL /* B'7' */;
				INT v161 = i64_to_int(v159);
				uint64_t v162 = int_to_u64(v161);
				uint8_t v163 = (uint8_t)(v162);
				INT v164 = i64_to_int(v158);
				uint64_t v165 = int_to_u64(v164);
				uint8_t v166 = (uint8_t)(v165);
				uint64_t v167 = (uint64_t)(v166);
				uint32_t v168 = (uint32_t)(v167);
				uint64_t v169 = (uint64_t)(v163);
				uint32_t v170 = (uint32_t)(v169);
				uint64_t v171 = (uint64_t)(v170);
				uint64_t v172 = (uint64_t)(v168);
				bool v173 = (v171 <= v172);
				bool branch_Bool_174;
				if (v173) {
					INT v175 = i64_to_int(v158);
					uint64_t v176 = int_to_u64(v175);
					uint8_t v177 = (uint8_t)(v176);
					INT v178 = i64_to_int(v160);
					uint64_t v179 = int_to_u64(v178);
					uint8_t v180 = (uint8_t)(v179);
					uint64_t v181 = (uint64_t)(v180);
					uint32_t v182 = (uint32_t)(v181);
					uint64_t v183 = (uint64_t)(v177);
					uint32_t v184 = (uint32_t)(v183);
					uint64_t v185 = (uint64_t)(v184);
					uint64_t v186 = (uint64_t)(v182);
					bool v187 = (v185 <= v186);
					branch_Bool_174 = v187;
				} else {
					bool v188 = false;
					branch_Bool_174 = v188;
				}
				branch_Bool_153 = branch_Bool_174;
				branch_Offset_152 = branch_Offset_110;
				branch_Sizze_151 = branch_Sizze_39;
				branch_z_x1_150 = branch_z_x1_113;
				branch_ZPlusStr_149 = v157;
			}
			INT v189 = branch_Sizze_151;
			INT v190 = branch_Offset_152;
			VAL v191 = branch_z_x1_150;
			STR* v192 = branch_ZPlusStr_149;
			bool v193 = branch_Bool_153;
			while (v193) {
				INT v194 = v189;
				INT v195 = v190;
				VAL v196 = v191;
				STR* v197 = v192;
				INT v198 = WRAP_I63(1LL);
				INT v199 = int_add(v194, v198);
				INT v200 = WRAP_I63(1LL);
				INT v201 = int_add(v195, v200);
				incref(MKINT(v199));
				INT v202 = WRAP_I63(0LL);
				bool v203 = int_lt(v202, v199);
				INT branch_Offset_204;
				bool branch_Bool_205;
				STR* branch_ZPlusStr_206;
				VAL branch_z_x1_207;
				if (v203) {
					incref(MKINT(v201));
					STR* v208;
					int64_t v209 = mw_std_str_ZPlusStr_byteZAt(v201, v197, &v208);
					int64_t v210 = 95LL /* B'_' */;
					INT v211 = i64_to_int(v209);
					uint64_t v212 = int_to_u64(v211);
					uint8_t v213 = (uint8_t)(v212);
					INT v214 = i64_to_int(v210);
					uint64_t v215 = int_to_u64(v214);
					uint8_t v216 = (uint8_t)(v215);
					uint64_t v217 = (uint64_t)(v216);
					uint32_t v218 = (uint32_t)(v217);
					uint64_t v219 = (uint64_t)(v213);
					uint32_t v220 = (uint32_t)(v219);
					uint64_t v221 = (uint64_t)(v220);
					uint64_t v222 = (uint64_t)(v218);
					bool v223 = (v221 == v222);
					branch_z_x1_207 = v196;
					branch_ZPlusStr_206 = v208;
					branch_Bool_205 = v223;
					branch_Offset_204 = v201;
				} else {
					bool v224 = false;
					branch_z_x1_207 = v196;
					branch_ZPlusStr_206 = v197;
					branch_Bool_205 = v224;
					branch_Offset_204 = v201;
				}
				INT branch_Offset_225;
				bool branch_Bool_226;
				STR* branch_ZPlusStr_227;
				VAL branch_z_x1_228;
				if (branch_Bool_205) {
					incref(MKINT(branch_Offset_204));
					INT v229 = WRAP_I63(1LL);
					INT v230 = int_add(branch_Offset_204, v229);
					STR* v231;
					int64_t v232 = mw_std_str_ZPlusStr_byteZAt(v230, branch_ZPlusStr_206, &v231);
					int64_t v233 = 48LL /* B'0' */;
					int64_t v234 = 55LL /* B'7' */;
					INT v235 = i64_to_int(v233);
					uint64_t v236 = int_to_u64(v235);
					uint8_t v237 = (uint8_t)(v236);
					INT v238 = i64_to_int(v232);
					uint64_t v239 = int_to_u64(v238);
					uint8_t v240 = (uint8_t)(v239);
					uint64_t v241 = (uint64_t)(v240);
					uint32_t v242 = (uint32_t)(v241);
					uint64_t v243 = (uint64_t)(v237);
					uint32_t v244 = (uint32_t)(v243);
					uint64_t v245 = (uint64_t)(v244);
					uint64_t v246 = (uint64_t)(v242);
					bool v247 = (v245 <= v246);
					bool branch_Bool_248;
					if (v247) {
						INT v249 = i64_to_int(v232);
						uint64_t v250 = int_to_u64(v249);
						uint8_t v251 = (uint8_t)(v250);
						INT v252 = i64_to_int(v234);
						uint64_t v253 = int_to_u64(v252);
						uint8_t v254 = (uint8_t)(v253);
						uint64_t v255 = (uint64_t)(v254);
						uint32_t v256 = (uint32_t)(v255);
						uint64_t v257 = (uint64_t)(v251);
						uint32_t v258 = (uint32_t)(v257);
						uint64_t v259 = (uint64_t)(v258);
						uint64_t v260 = (uint64_t)(v256);
						bool v261 = (v259 <= v260);
						branch_Bool_248 = v261;
					} else {
						bool v262 = false;
						branch_Bool_248 = v262;
					}
					branch_z_x1_228 = branch_z_x1_207;
					branch_ZPlusStr_227 = v231;
					branch_Bool_226 = branch_Bool_248;
					branch_Offset_225 = branch_Offset_204;
				} else {
					bool v263 = false;
					branch_z_x1_228 = branch_z_x1_207;
					branch_ZPlusStr_227 = branch_ZPlusStr_206;
					branch_Bool_226 = v263;
					branch_Offset_225 = branch_Offset_204;
				}
				STR* branch_ZPlusStr_264;
				VAL branch_z_x1_265;
				INT branch_Sizze_266;
				INT branch_Offset_267;
				bool branch_Bool_268;
				if (branch_Bool_226) {
					INT v269 = WRAP_I63(1LL);
					INT v270 = int_add(branch_Offset_225, v269);
					bool v271 = true;
					branch_Bool_268 = v271;
					branch_Offset_267 = v270;
					branch_Sizze_266 = v199;
					branch_z_x1_265 = branch_z_x1_228;
					branch_ZPlusStr_264 = branch_ZPlusStr_227;
				} else {
					incref(MKINT(branch_Offset_225));
					STR* v272;
					int64_t v273 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_225, branch_ZPlusStr_227, &v272);
					int64_t v274 = 48LL /* B'0' */;
					int64_t v275 = 55LL /* B'7' */;
					INT v276 = i64_to_int(v274);
					uint64_t v277 = int_to_u64(v276);
					uint8_t v278 = (uint8_t)(v277);
					INT v279 = i64_to_int(v273);
					uint64_t v280 = int_to_u64(v279);
					uint8_t v281 = (uint8_t)(v280);
					uint64_t v282 = (uint64_t)(v281);
					uint32_t v283 = (uint32_t)(v282);
					uint64_t v284 = (uint64_t)(v278);
					uint32_t v285 = (uint32_t)(v284);
					uint64_t v286 = (uint64_t)(v285);
					uint64_t v287 = (uint64_t)(v283);
					bool v288 = (v286 <= v287);
					bool branch_Bool_289;
					if (v288) {
						INT v290 = i64_to_int(v273);
						uint64_t v291 = int_to_u64(v290);
						uint8_t v292 = (uint8_t)(v291);
						INT v293 = i64_to_int(v275);
						uint64_t v294 = int_to_u64(v293);
						uint8_t v295 = (uint8_t)(v294);
						uint64_t v296 = (uint64_t)(v295);
						uint32_t v297 = (uint32_t)(v296);
						uint64_t v298 = (uint64_t)(v292);
						uint32_t v299 = (uint32_t)(v298);
						uint64_t v300 = (uint64_t)(v299);
						uint64_t v301 = (uint64_t)(v297);
						bool v302 = (v300 <= v301);
						branch_Bool_289 = v302;
					} else {
						bool v303 = false;
						branch_Bool_289 = v303;
					}
					branch_Bool_268 = branch_Bool_289;
					branch_Offset_267 = branch_Offset_225;
					branch_Sizze_266 = v199;
					branch_z_x1_265 = branch_z_x1_228;
					branch_ZPlusStr_264 = v272;
				}
				v193 = branch_Bool_268;
				v192 = branch_ZPlusStr_264;
				v191 = branch_z_x1_265;
				v190 = branch_Offset_267;
				v189 = branch_Sizze_266;
			}
			INT v304 = WRAP_I63(0LL);
			bool v305 = int_lt(v304, v189);
			INT branch_Offset_306;
			bool branch_Bool_307;
			TUP* branch_ZPlusLexer_308;
			STR* branch_ZPlusStr_309;
			if (v305) {
				incref(MKINT(v190));
				STR* v310;
				TUP* v311;
				VAL v312 = mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk(v192, value_tup(v191, 9), v190, &v310, &v311);
				int64_t v313 = get_data_tag(v312);
				decref(v312);
				INT v314 = WRAP_I63(0LL);
				INT v315 = i64_to_int(v313);
				bool v316 = int_eq(v315, v314);
				bool v317 = !v316;
				branch_ZPlusStr_309 = v310;
				branch_ZPlusLexer_308 = v311;
				branch_Bool_307 = v317;
				branch_Offset_306 = v190;
			} else {
				bool v318 = false;
				branch_ZPlusStr_309 = v192;
				branch_ZPlusLexer_308 = value_tup(v191, 9);
				branch_Bool_307 = v318;
				branch_Offset_306 = v190;
			}
			decref(MKINT(branch_Offset_306));
			branch_Bool_84 = branch_Bool_307;
			branch_ZPlusStr_83 = branch_ZPlusStr_309;
			branch_ZPlusLexer_82 = branch_ZPlusLexer_308;
		} else {
			decref(MKINT(v65));
			decref(MKINT(branch_Sizze_39));
			bool v319 = false;
			branch_Bool_84 = v319;
			branch_ZPlusStr_83 = v66;
			branch_ZPlusLexer_82 = branch_ZPlusLexer_40;
		}
		branch_Bool_63 = branch_Bool_84;
		branch_ZPlusStr_62 = branch_ZPlusStr_83;
		branch_ZPlusLexer_61 = branch_ZPlusLexer_82;
	} else {
		decref(MKINT(branch_Offset_42));
		decref(MKINT(branch_Sizze_39));
		bool v320 = false;
		branch_Bool_63 = v320;
		branch_ZPlusStr_62 = v45;
		branch_ZPlusLexer_61 = branch_ZPlusLexer_40;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_61;
	*out_ZPlusStr_3 = branch_ZPlusStr_62;
	return branch_Bool_63;
}
static INT mw_mirth_lexer_ZPlusLexer_intZ_sign (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4, INT *out_Int_6, INT *out_Offset_7) {
	INT v8 = WRAP_I63(0LL);
	STR* v9;
	int64_t v10 = mw_std_str_ZPlusStr_byteZAt(v8, in_ZPlusStr_1, &v9);
	INT v11;
	INT v12;
	INT v13 = mw_mirth_lexer_ZPlusLexer_byteZ_signZ_valueZ_index(v10, &v11, &v12);
	*out_Offset_7 = v12;
	*out_Int_6 = v11;
	*out_ZPlusLexer_4 = in_ZPlusLexer_2;
	*out_ZPlusStr_3 = v9;
	return v13;
}
static INT mw_mirth_lexer_ZPlusLexer_byteZ_signZ_valueZ_index (int64_t in_Byte_1, INT *out_Int_3, INT *out_Offset_4) {
	INT branch_Int_5;
	INT branch_Int_6;
	INT branch_Offset_7;
	switch (in_Byte_1) {
		case 45LL: { // B'-'
			INT v8 = WRAP_I63(-1LL);
			INT v9 = WRAP_I63(0LL);
			INT v10 = WRAP_I63(1LL);
			branch_Offset_7 = v10;
			branch_Int_6 = v9;
			branch_Int_5 = v8;
		} break;
		case 43LL: { // B'+'
			INT v11 = WRAP_I63(1LL);
			INT v12 = WRAP_I63(0LL);
			INT v13 = WRAP_I63(1LL);
			branch_Offset_7 = v13;
			branch_Int_6 = v12;
			branch_Int_5 = v11;
		} break;
		default: {
			INT v14 = WRAP_I63(1LL);
			INT v15 = WRAP_I63(0LL);
			INT v16 = WRAP_I63(0LL);
			branch_Offset_7 = v16;
			branch_Int_6 = v15;
			branch_Int_5 = v14;
		} break;
	}
	*out_Offset_4 = branch_Offset_7;
	*out_Int_3 = branch_Int_6;
	return branch_Int_5;
}
static VAL mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, INT in_Int_3, INT in_Int_4, INT in_Offset_5, STR* *out_ZPlusStr_6, TUP* *out_ZPlusLexer_7) {
	INT v9 = int_mul(in_Int_3, in_Int_4);
	STR* v10;
	TUP* v11;
	VAL v12 = mw_mirth_lexer_ZPlusLexer_intZ_suffixZAsk(in_ZPlusStr_1, in_ZPlusLexer_2, in_Offset_5, &v10, &v11);
	VAL branch_Result_13;
	switch (get_data_tag(v12)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v12);
			VAL v15 = mw_mirth_lexer_IntSuffix_convert(v9, value_i64(v14));
			branch_Result_13 = v15;
		} break;
		case 0LL: { // None
			decref(MKINT(v9));
			STR* v16;
			STRLIT(v16, "Invalid integer token.", 22);
			VAL v17 = mtw_std_result_Result_2_Err(MKSTR(v16));
			branch_Result_13 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLexer_7 = v11;
	*out_ZPlusStr_6 = v10;
	return branch_Result_13;
}
static VAL mw_mirth_lexer_ZPlusLexer_decZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	STR* v6;
	TUP* v7;
	INT v8;
	INT v9;
	INT v10 = mw_mirth_lexer_ZPlusLexer_intZ_sign(in_ZPlusStr_1, in_ZPlusLexer_2, &v6, &v7, &v8, &v9);
	incref(MKINT(v9));
	STR* v11;
	int64_t v12 = mw_std_str_ZPlusStr_byteZAt(v9, v6, &v11);
	int64_t v13 = 95LL /* B'_' */;
	INT v14 = i64_to_int(v12);
	uint64_t v15 = int_to_u64(v14);
	uint8_t v16 = (uint8_t)(v15);
	INT v17 = i64_to_int(v13);
	uint64_t v18 = int_to_u64(v17);
	uint8_t v19 = (uint8_t)(v18);
	uint64_t v20 = (uint64_t)(v19);
	uint32_t v21 = (uint32_t)(v20);
	uint64_t v22 = (uint64_t)(v16);
	uint32_t v23 = (uint32_t)(v22);
	uint64_t v24 = (uint64_t)(v23);
	uint64_t v25 = (uint64_t)(v21);
	bool v26 = (v24 == v25);
	INT branch_Offset_27;
	if (v26) {
		INT v28 = WRAP_I63(1LL);
		INT v29 = int_add(v9, v28);
		branch_Offset_27 = v29;
	} else {
		branch_Offset_27 = v9;
	}
	incref(MKINT(branch_Offset_27));
	STR* v30;
	int64_t v31 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_27, v11, &v30);
	int64_t v32 = 48LL /* B'0' */;
	int64_t v33 = 57LL /* B'9' */;
	INT v34 = i64_to_int(v32);
	uint64_t v35 = int_to_u64(v34);
	uint8_t v36 = (uint8_t)(v35);
	INT v37 = i64_to_int(v31);
	uint64_t v38 = int_to_u64(v37);
	uint8_t v39 = (uint8_t)(v38);
	uint64_t v40 = (uint64_t)(v39);
	uint32_t v41 = (uint32_t)(v40);
	uint64_t v42 = (uint64_t)(v36);
	uint32_t v43 = (uint32_t)(v42);
	uint64_t v44 = (uint64_t)(v43);
	uint64_t v45 = (uint64_t)(v41);
	bool v46 = (v44 <= v45);
	bool branch_Bool_47;
	if (v46) {
		INT v48 = i64_to_int(v31);
		uint64_t v49 = int_to_u64(v48);
		uint8_t v50 = (uint8_t)(v49);
		INT v51 = i64_to_int(v33);
		uint64_t v52 = int_to_u64(v51);
		uint8_t v53 = (uint8_t)(v52);
		uint64_t v54 = (uint64_t)(v53);
		uint32_t v55 = (uint32_t)(v54);
		uint64_t v56 = (uint64_t)(v50);
		uint32_t v57 = (uint32_t)(v56);
		uint64_t v58 = (uint64_t)(v57);
		uint64_t v59 = (uint64_t)(v55);
		bool v60 = (v58 <= v59);
		branch_Bool_47 = v60;
	} else {
		bool v61 = false;
		branch_Bool_47 = v61;
	}
	INT v62 = v10;
	INT v63 = v8;
	INT v64 = branch_Offset_27;
	STR* v65 = v30;
	TUP* v66 = v7;
	bool v67 = branch_Bool_47;
	while (v67) {
		INT v68 = v62;
		INT v69 = v63;
		INT v70 = v64;
		STR* v71 = v65;
		TUP* v72 = v66;
		incref(MKINT(v70));
		STR* v73;
		int64_t v74 = mw_std_str_ZPlusStr_byteZAt(v70, v71, &v73);
		INT v75 = i64_to_int(v74);
		INT v76 = WRAP_I63(10LL);
		INT v77 = int_mul(v69, v76);
		INT v78 = WRAP_I63(48LL);
		INT v79 = int_sub(v75, v78);
		INT v80 = int_add(v77, v79);
		INT v81 = WRAP_I63(1LL);
		INT v82 = int_add(v70, v81);
		incref(MKINT(v82));
		STR* v83;
		int64_t v84 = mw_std_str_ZPlusStr_byteZAt(v82, v73, &v83);
		int64_t v85 = 95LL /* B'_' */;
		INT v86 = i64_to_int(v84);
		uint64_t v87 = int_to_u64(v86);
		uint8_t v88 = (uint8_t)(v87);
		INT v89 = i64_to_int(v85);
		uint64_t v90 = int_to_u64(v89);
		uint8_t v91 = (uint8_t)(v90);
		uint64_t v92 = (uint64_t)(v91);
		uint32_t v93 = (uint32_t)(v92);
		uint64_t v94 = (uint64_t)(v88);
		uint32_t v95 = (uint32_t)(v94);
		uint64_t v96 = (uint64_t)(v95);
		uint64_t v97 = (uint64_t)(v93);
		bool v98 = (v96 == v97);
		INT branch_Offset_99;
		if (v98) {
			INT v100 = WRAP_I63(1LL);
			INT v101 = int_add(v82, v100);
			branch_Offset_99 = v101;
		} else {
			branch_Offset_99 = v82;
		}
		incref(MKINT(branch_Offset_99));
		STR* v102;
		int64_t v103 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_99, v83, &v102);
		int64_t v104 = 48LL /* B'0' */;
		int64_t v105 = 57LL /* B'9' */;
		INT v106 = i64_to_int(v104);
		uint64_t v107 = int_to_u64(v106);
		uint8_t v108 = (uint8_t)(v107);
		INT v109 = i64_to_int(v103);
		uint64_t v110 = int_to_u64(v109);
		uint8_t v111 = (uint8_t)(v110);
		uint64_t v112 = (uint64_t)(v111);
		uint32_t v113 = (uint32_t)(v112);
		uint64_t v114 = (uint64_t)(v108);
		uint32_t v115 = (uint32_t)(v114);
		uint64_t v116 = (uint64_t)(v115);
		uint64_t v117 = (uint64_t)(v113);
		bool v118 = (v116 <= v117);
		bool branch_Bool_119;
		if (v118) {
			INT v120 = i64_to_int(v103);
			uint64_t v121 = int_to_u64(v120);
			uint8_t v122 = (uint8_t)(v121);
			INT v123 = i64_to_int(v105);
			uint64_t v124 = int_to_u64(v123);
			uint8_t v125 = (uint8_t)(v124);
			uint64_t v126 = (uint64_t)(v125);
			uint32_t v127 = (uint32_t)(v126);
			uint64_t v128 = (uint64_t)(v122);
			uint32_t v129 = (uint32_t)(v128);
			uint64_t v130 = (uint64_t)(v129);
			uint64_t v131 = (uint64_t)(v127);
			bool v132 = (v130 <= v131);
			branch_Bool_119 = v132;
		} else {
			bool v133 = false;
			branch_Bool_119 = v133;
		}
		v67 = branch_Bool_119;
		v66 = v72;
		v65 = v102;
		v64 = branch_Offset_99;
		v63 = v80;
		v62 = v68;
	}
	STR* v134;
	TUP* v135;
	VAL v136 = mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal(v65, v66, v62, v63, v64, &v134, &v135);
	*out_ZPlusLexer_4 = v135;
	*out_ZPlusStr_3 = v134;
	return v136;
}
static VAL mw_mirth_lexer_ZPlusLexer_hexZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	STR* v6;
	TUP* v7;
	INT v8;
	INT v9;
	INT v10 = mw_mirth_lexer_ZPlusLexer_intZ_sign(in_ZPlusStr_1, in_ZPlusLexer_2, &v6, &v7, &v8, &v9);
	INT v11 = WRAP_I63(2LL);
	INT v12 = int_add(v9, v11);
	incref(MKINT(v12));
	STR* v13;
	int64_t v14 = mw_std_str_ZPlusStr_byteZAt(v12, v6, &v13);
	int64_t v15 = 95LL /* B'_' */;
	INT v16 = i64_to_int(v14);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	INT v19 = i64_to_int(v15);
	uint64_t v20 = int_to_u64(v19);
	uint8_t v21 = (uint8_t)(v20);
	uint64_t v22 = (uint64_t)(v21);
	uint32_t v23 = (uint32_t)(v22);
	uint64_t v24 = (uint64_t)(v18);
	uint32_t v25 = (uint32_t)(v24);
	uint64_t v26 = (uint64_t)(v25);
	uint64_t v27 = (uint64_t)(v23);
	bool v28 = (v26 == v27);
	INT branch_Offset_29;
	if (v28) {
		INT v30 = WRAP_I63(1LL);
		INT v31 = int_add(v12, v30);
		branch_Offset_29 = v31;
	} else {
		branch_Offset_29 = v12;
	}
	incref(MKINT(branch_Offset_29));
	STR* v32;
	int64_t v33 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_29, v13, &v32);
	int64_t v34 = 48LL /* B'0' */;
	int64_t v35 = 57LL /* B'9' */;
	INT v36 = i64_to_int(v34);
	uint64_t v37 = int_to_u64(v36);
	uint8_t v38 = (uint8_t)(v37);
	INT v39 = i64_to_int(v33);
	uint64_t v40 = int_to_u64(v39);
	uint8_t v41 = (uint8_t)(v40);
	uint64_t v42 = (uint64_t)(v41);
	uint32_t v43 = (uint32_t)(v42);
	uint64_t v44 = (uint64_t)(v38);
	uint32_t v45 = (uint32_t)(v44);
	uint64_t v46 = (uint64_t)(v45);
	uint64_t v47 = (uint64_t)(v43);
	bool v48 = (v46 <= v47);
	bool branch_Bool_49;
	if (v48) {
		INT v50 = i64_to_int(v33);
		uint64_t v51 = int_to_u64(v50);
		uint8_t v52 = (uint8_t)(v51);
		INT v53 = i64_to_int(v35);
		uint64_t v54 = int_to_u64(v53);
		uint8_t v55 = (uint8_t)(v54);
		uint64_t v56 = (uint64_t)(v55);
		uint32_t v57 = (uint32_t)(v56);
		uint64_t v58 = (uint64_t)(v52);
		uint32_t v59 = (uint32_t)(v58);
		uint64_t v60 = (uint64_t)(v59);
		uint64_t v61 = (uint64_t)(v57);
		bool v62 = (v60 <= v61);
		branch_Bool_49 = v62;
	} else {
		bool v63 = false;
		branch_Bool_49 = v63;
	}
	bool branch_Bool_64;
	if (branch_Bool_49) {
		bool v65 = true;
		branch_Bool_64 = v65;
	} else {
		int64_t v66 = 65LL /* B'A' */;
		int64_t v67 = 70LL /* B'F' */;
		INT v68 = i64_to_int(v66);
		uint64_t v69 = int_to_u64(v68);
		uint8_t v70 = (uint8_t)(v69);
		INT v71 = i64_to_int(v33);
		uint64_t v72 = int_to_u64(v71);
		uint8_t v73 = (uint8_t)(v72);
		uint64_t v74 = (uint64_t)(v73);
		uint32_t v75 = (uint32_t)(v74);
		uint64_t v76 = (uint64_t)(v70);
		uint32_t v77 = (uint32_t)(v76);
		uint64_t v78 = (uint64_t)(v77);
		uint64_t v79 = (uint64_t)(v75);
		bool v80 = (v78 <= v79);
		bool branch_Bool_81;
		if (v80) {
			INT v82 = i64_to_int(v33);
			uint64_t v83 = int_to_u64(v82);
			uint8_t v84 = (uint8_t)(v83);
			INT v85 = i64_to_int(v67);
			uint64_t v86 = int_to_u64(v85);
			uint8_t v87 = (uint8_t)(v86);
			uint64_t v88 = (uint64_t)(v87);
			uint32_t v89 = (uint32_t)(v88);
			uint64_t v90 = (uint64_t)(v84);
			uint32_t v91 = (uint32_t)(v90);
			uint64_t v92 = (uint64_t)(v91);
			uint64_t v93 = (uint64_t)(v89);
			bool v94 = (v92 <= v93);
			branch_Bool_81 = v94;
		} else {
			bool v95 = false;
			branch_Bool_81 = v95;
		}
		bool branch_Bool_96;
		if (branch_Bool_81) {
			bool v97 = true;
			branch_Bool_96 = v97;
		} else {
			int64_t v98 = 97LL /* B'a' */;
			int64_t v99 = 102LL /* B'f' */;
			INT v100 = i64_to_int(v98);
			uint64_t v101 = int_to_u64(v100);
			uint8_t v102 = (uint8_t)(v101);
			INT v103 = i64_to_int(v33);
			uint64_t v104 = int_to_u64(v103);
			uint8_t v105 = (uint8_t)(v104);
			uint64_t v106 = (uint64_t)(v105);
			uint32_t v107 = (uint32_t)(v106);
			uint64_t v108 = (uint64_t)(v102);
			uint32_t v109 = (uint32_t)(v108);
			uint64_t v110 = (uint64_t)(v109);
			uint64_t v111 = (uint64_t)(v107);
			bool v112 = (v110 <= v111);
			bool branch_Bool_113;
			if (v112) {
				INT v114 = i64_to_int(v33);
				uint64_t v115 = int_to_u64(v114);
				uint8_t v116 = (uint8_t)(v115);
				INT v117 = i64_to_int(v99);
				uint64_t v118 = int_to_u64(v117);
				uint8_t v119 = (uint8_t)(v118);
				uint64_t v120 = (uint64_t)(v119);
				uint32_t v121 = (uint32_t)(v120);
				uint64_t v122 = (uint64_t)(v116);
				uint32_t v123 = (uint32_t)(v122);
				uint64_t v124 = (uint64_t)(v123);
				uint64_t v125 = (uint64_t)(v121);
				bool v126 = (v124 <= v125);
				branch_Bool_113 = v126;
			} else {
				bool v127 = false;
				branch_Bool_113 = v127;
			}
			branch_Bool_96 = branch_Bool_113;
		}
		branch_Bool_64 = branch_Bool_96;
	}
	INT v128 = v10;
	INT v129 = v8;
	INT v130 = branch_Offset_29;
	STR* v131 = v32;
	TUP* v132 = v7;
	bool v133 = branch_Bool_64;
	while (v133) {
		INT v134 = v128;
		INT v135 = v129;
		INT v136 = v130;
		STR* v137 = v131;
		TUP* v138 = v132;
		incref(MKINT(v136));
		STR* v139;
		int64_t v140 = mw_std_str_ZPlusStr_byteZAt(v136, v137, &v139);
		INT v141 = WRAP_I63(16LL);
		INT v142 = int_mul(v135, v141);
		INT v143 = mw_mirth_lexer_ZPlusLexer_hexdigitZ_value(v140);
		INT v144 = int_add(v142, v143);
		INT v145 = WRAP_I63(1LL);
		INT v146 = int_add(v136, v145);
		incref(MKINT(v146));
		STR* v147;
		int64_t v148 = mw_std_str_ZPlusStr_byteZAt(v146, v139, &v147);
		int64_t v149 = 95LL /* B'_' */;
		INT v150 = i64_to_int(v148);
		uint64_t v151 = int_to_u64(v150);
		uint8_t v152 = (uint8_t)(v151);
		INT v153 = i64_to_int(v149);
		uint64_t v154 = int_to_u64(v153);
		uint8_t v155 = (uint8_t)(v154);
		uint64_t v156 = (uint64_t)(v155);
		uint32_t v157 = (uint32_t)(v156);
		uint64_t v158 = (uint64_t)(v152);
		uint32_t v159 = (uint32_t)(v158);
		uint64_t v160 = (uint64_t)(v159);
		uint64_t v161 = (uint64_t)(v157);
		bool v162 = (v160 == v161);
		INT branch_Offset_163;
		if (v162) {
			INT v164 = WRAP_I63(1LL);
			INT v165 = int_add(v146, v164);
			branch_Offset_163 = v165;
		} else {
			branch_Offset_163 = v146;
		}
		incref(MKINT(branch_Offset_163));
		STR* v166;
		int64_t v167 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_163, v147, &v166);
		int64_t v168 = 48LL /* B'0' */;
		int64_t v169 = 57LL /* B'9' */;
		INT v170 = i64_to_int(v168);
		uint64_t v171 = int_to_u64(v170);
		uint8_t v172 = (uint8_t)(v171);
		INT v173 = i64_to_int(v167);
		uint64_t v174 = int_to_u64(v173);
		uint8_t v175 = (uint8_t)(v174);
		uint64_t v176 = (uint64_t)(v175);
		uint32_t v177 = (uint32_t)(v176);
		uint64_t v178 = (uint64_t)(v172);
		uint32_t v179 = (uint32_t)(v178);
		uint64_t v180 = (uint64_t)(v179);
		uint64_t v181 = (uint64_t)(v177);
		bool v182 = (v180 <= v181);
		bool branch_Bool_183;
		if (v182) {
			INT v184 = i64_to_int(v167);
			uint64_t v185 = int_to_u64(v184);
			uint8_t v186 = (uint8_t)(v185);
			INT v187 = i64_to_int(v169);
			uint64_t v188 = int_to_u64(v187);
			uint8_t v189 = (uint8_t)(v188);
			uint64_t v190 = (uint64_t)(v189);
			uint32_t v191 = (uint32_t)(v190);
			uint64_t v192 = (uint64_t)(v186);
			uint32_t v193 = (uint32_t)(v192);
			uint64_t v194 = (uint64_t)(v193);
			uint64_t v195 = (uint64_t)(v191);
			bool v196 = (v194 <= v195);
			branch_Bool_183 = v196;
		} else {
			bool v197 = false;
			branch_Bool_183 = v197;
		}
		bool branch_Bool_198;
		if (branch_Bool_183) {
			bool v199 = true;
			branch_Bool_198 = v199;
		} else {
			int64_t v200 = 65LL /* B'A' */;
			int64_t v201 = 70LL /* B'F' */;
			INT v202 = i64_to_int(v200);
			uint64_t v203 = int_to_u64(v202);
			uint8_t v204 = (uint8_t)(v203);
			INT v205 = i64_to_int(v167);
			uint64_t v206 = int_to_u64(v205);
			uint8_t v207 = (uint8_t)(v206);
			uint64_t v208 = (uint64_t)(v207);
			uint32_t v209 = (uint32_t)(v208);
			uint64_t v210 = (uint64_t)(v204);
			uint32_t v211 = (uint32_t)(v210);
			uint64_t v212 = (uint64_t)(v211);
			uint64_t v213 = (uint64_t)(v209);
			bool v214 = (v212 <= v213);
			bool branch_Bool_215;
			if (v214) {
				INT v216 = i64_to_int(v167);
				uint64_t v217 = int_to_u64(v216);
				uint8_t v218 = (uint8_t)(v217);
				INT v219 = i64_to_int(v201);
				uint64_t v220 = int_to_u64(v219);
				uint8_t v221 = (uint8_t)(v220);
				uint64_t v222 = (uint64_t)(v221);
				uint32_t v223 = (uint32_t)(v222);
				uint64_t v224 = (uint64_t)(v218);
				uint32_t v225 = (uint32_t)(v224);
				uint64_t v226 = (uint64_t)(v225);
				uint64_t v227 = (uint64_t)(v223);
				bool v228 = (v226 <= v227);
				branch_Bool_215 = v228;
			} else {
				bool v229 = false;
				branch_Bool_215 = v229;
			}
			bool branch_Bool_230;
			if (branch_Bool_215) {
				bool v231 = true;
				branch_Bool_230 = v231;
			} else {
				int64_t v232 = 97LL /* B'a' */;
				int64_t v233 = 102LL /* B'f' */;
				INT v234 = i64_to_int(v232);
				uint64_t v235 = int_to_u64(v234);
				uint8_t v236 = (uint8_t)(v235);
				INT v237 = i64_to_int(v167);
				uint64_t v238 = int_to_u64(v237);
				uint8_t v239 = (uint8_t)(v238);
				uint64_t v240 = (uint64_t)(v239);
				uint32_t v241 = (uint32_t)(v240);
				uint64_t v242 = (uint64_t)(v236);
				uint32_t v243 = (uint32_t)(v242);
				uint64_t v244 = (uint64_t)(v243);
				uint64_t v245 = (uint64_t)(v241);
				bool v246 = (v244 <= v245);
				bool branch_Bool_247;
				if (v246) {
					INT v248 = i64_to_int(v167);
					uint64_t v249 = int_to_u64(v248);
					uint8_t v250 = (uint8_t)(v249);
					INT v251 = i64_to_int(v233);
					uint64_t v252 = int_to_u64(v251);
					uint8_t v253 = (uint8_t)(v252);
					uint64_t v254 = (uint64_t)(v253);
					uint32_t v255 = (uint32_t)(v254);
					uint64_t v256 = (uint64_t)(v250);
					uint32_t v257 = (uint32_t)(v256);
					uint64_t v258 = (uint64_t)(v257);
					uint64_t v259 = (uint64_t)(v255);
					bool v260 = (v258 <= v259);
					branch_Bool_247 = v260;
				} else {
					bool v261 = false;
					branch_Bool_247 = v261;
				}
				branch_Bool_230 = branch_Bool_247;
			}
			branch_Bool_198 = branch_Bool_230;
		}
		v133 = branch_Bool_198;
		v132 = v138;
		v131 = v166;
		v130 = branch_Offset_163;
		v129 = v144;
		v128 = v134;
	}
	STR* v262;
	TUP* v263;
	VAL v264 = mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal(v131, v132, v128, v129, v130, &v262, &v263);
	*out_ZPlusLexer_4 = v263;
	*out_ZPlusStr_3 = v262;
	return v264;
}
static VAL mw_mirth_lexer_ZPlusLexer_octZ_intZAsk (STR* in_ZPlusStr_1, TUP* in_ZPlusLexer_2, STR* *out_ZPlusStr_3, TUP* *out_ZPlusLexer_4) {
	STR* v6;
	TUP* v7;
	INT v8;
	INT v9;
	INT v10 = mw_mirth_lexer_ZPlusLexer_intZ_sign(in_ZPlusStr_1, in_ZPlusLexer_2, &v6, &v7, &v8, &v9);
	INT v11 = WRAP_I63(2LL);
	INT v12 = int_add(v9, v11);
	incref(MKINT(v12));
	STR* v13;
	int64_t v14 = mw_std_str_ZPlusStr_byteZAt(v12, v6, &v13);
	int64_t v15 = 95LL /* B'_' */;
	INT v16 = i64_to_int(v14);
	uint64_t v17 = int_to_u64(v16);
	uint8_t v18 = (uint8_t)(v17);
	INT v19 = i64_to_int(v15);
	uint64_t v20 = int_to_u64(v19);
	uint8_t v21 = (uint8_t)(v20);
	uint64_t v22 = (uint64_t)(v21);
	uint32_t v23 = (uint32_t)(v22);
	uint64_t v24 = (uint64_t)(v18);
	uint32_t v25 = (uint32_t)(v24);
	uint64_t v26 = (uint64_t)(v25);
	uint64_t v27 = (uint64_t)(v23);
	bool v28 = (v26 == v27);
	INT branch_Offset_29;
	if (v28) {
		INT v30 = WRAP_I63(1LL);
		INT v31 = int_add(v12, v30);
		branch_Offset_29 = v31;
	} else {
		branch_Offset_29 = v12;
	}
	incref(MKINT(branch_Offset_29));
	STR* v32;
	int64_t v33 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_29, v13, &v32);
	int64_t v34 = 48LL /* B'0' */;
	int64_t v35 = 55LL /* B'7' */;
	INT v36 = i64_to_int(v34);
	uint64_t v37 = int_to_u64(v36);
	uint8_t v38 = (uint8_t)(v37);
	INT v39 = i64_to_int(v33);
	uint64_t v40 = int_to_u64(v39);
	uint8_t v41 = (uint8_t)(v40);
	uint64_t v42 = (uint64_t)(v41);
	uint32_t v43 = (uint32_t)(v42);
	uint64_t v44 = (uint64_t)(v38);
	uint32_t v45 = (uint32_t)(v44);
	uint64_t v46 = (uint64_t)(v45);
	uint64_t v47 = (uint64_t)(v43);
	bool v48 = (v46 <= v47);
	bool branch_Bool_49;
	if (v48) {
		INT v50 = i64_to_int(v33);
		uint64_t v51 = int_to_u64(v50);
		uint8_t v52 = (uint8_t)(v51);
		INT v53 = i64_to_int(v35);
		uint64_t v54 = int_to_u64(v53);
		uint8_t v55 = (uint8_t)(v54);
		uint64_t v56 = (uint64_t)(v55);
		uint32_t v57 = (uint32_t)(v56);
		uint64_t v58 = (uint64_t)(v52);
		uint32_t v59 = (uint32_t)(v58);
		uint64_t v60 = (uint64_t)(v59);
		uint64_t v61 = (uint64_t)(v57);
		bool v62 = (v60 <= v61);
		branch_Bool_49 = v62;
	} else {
		bool v63 = false;
		branch_Bool_49 = v63;
	}
	INT v64 = v10;
	INT v65 = v8;
	INT v66 = branch_Offset_29;
	STR* v67 = v32;
	TUP* v68 = v7;
	bool v69 = branch_Bool_49;
	while (v69) {
		INT v70 = v64;
		INT v71 = v65;
		INT v72 = v66;
		STR* v73 = v67;
		TUP* v74 = v68;
		incref(MKINT(v72));
		STR* v75;
		int64_t v76 = mw_std_str_ZPlusStr_byteZAt(v72, v73, &v75);
		INT v77 = i64_to_int(v76);
		INT v78 = WRAP_I63(8LL);
		INT v79 = int_mul(v71, v78);
		INT v80 = WRAP_I63(48LL);
		INT v81 = int_sub(v77, v80);
		INT v82 = int_add(v79, v81);
		INT v83 = WRAP_I63(1LL);
		INT v84 = int_add(v72, v83);
		incref(MKINT(v84));
		STR* v85;
		int64_t v86 = mw_std_str_ZPlusStr_byteZAt(v84, v75, &v85);
		int64_t v87 = 95LL /* B'_' */;
		INT v88 = i64_to_int(v86);
		uint64_t v89 = int_to_u64(v88);
		uint8_t v90 = (uint8_t)(v89);
		INT v91 = i64_to_int(v87);
		uint64_t v92 = int_to_u64(v91);
		uint8_t v93 = (uint8_t)(v92);
		uint64_t v94 = (uint64_t)(v93);
		uint32_t v95 = (uint32_t)(v94);
		uint64_t v96 = (uint64_t)(v90);
		uint32_t v97 = (uint32_t)(v96);
		uint64_t v98 = (uint64_t)(v97);
		uint64_t v99 = (uint64_t)(v95);
		bool v100 = (v98 == v99);
		INT branch_Offset_101;
		if (v100) {
			INT v102 = WRAP_I63(1LL);
			INT v103 = int_add(v84, v102);
			branch_Offset_101 = v103;
		} else {
			branch_Offset_101 = v84;
		}
		incref(MKINT(branch_Offset_101));
		STR* v104;
		int64_t v105 = mw_std_str_ZPlusStr_byteZAt(branch_Offset_101, v85, &v104);
		int64_t v106 = 48LL /* B'0' */;
		int64_t v107 = 55LL /* B'7' */;
		INT v108 = i64_to_int(v106);
		uint64_t v109 = int_to_u64(v108);
		uint8_t v110 = (uint8_t)(v109);
		INT v111 = i64_to_int(v105);
		uint64_t v112 = int_to_u64(v111);
		uint8_t v113 = (uint8_t)(v112);
		uint64_t v114 = (uint64_t)(v113);
		uint32_t v115 = (uint32_t)(v114);
		uint64_t v116 = (uint64_t)(v110);
		uint32_t v117 = (uint32_t)(v116);
		uint64_t v118 = (uint64_t)(v117);
		uint64_t v119 = (uint64_t)(v115);
		bool v120 = (v118 <= v119);
		bool branch_Bool_121;
		if (v120) {
			INT v122 = i64_to_int(v105);
			uint64_t v123 = int_to_u64(v122);
			uint8_t v124 = (uint8_t)(v123);
			INT v125 = i64_to_int(v107);
			uint64_t v126 = int_to_u64(v125);
			uint8_t v127 = (uint8_t)(v126);
			uint64_t v128 = (uint64_t)(v127);
			uint32_t v129 = (uint32_t)(v128);
			uint64_t v130 = (uint64_t)(v124);
			uint32_t v131 = (uint32_t)(v130);
			uint64_t v132 = (uint64_t)(v131);
			uint64_t v133 = (uint64_t)(v129);
			bool v134 = (v132 <= v133);
			branch_Bool_121 = v134;
		} else {
			bool v135 = false;
			branch_Bool_121 = v135;
		}
		v69 = branch_Bool_121;
		v68 = v74;
		v67 = v104;
		v66 = branch_Offset_101;
		v65 = v82;
		v64 = v70;
	}
	STR* v136;
	TUP* v137;
	VAL v138 = mw_mirth_lexer_ZPlusLexer_finishZ_intZ_literal(v67, v68, v64, v65, v66, &v136, &v137);
	*out_ZPlusLexer_4 = v137;
	*out_ZPlusStr_3 = v136;
	return v138;
}
static INT mw_mirth_lexer_ZPlusLexer_hexdigitZ_value (int64_t in_Byte_1) {
	int64_t v3 = 48LL /* B'0' */;
	int64_t v4 = 57LL /* B'9' */;
	INT v5 = i64_to_int(v3);
	uint64_t v6 = int_to_u64(v5);
	uint8_t v7 = (uint8_t)(v6);
	INT v8 = i64_to_int(in_Byte_1);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	uint64_t v11 = (uint64_t)(v10);
	uint32_t v12 = (uint32_t)(v11);
	uint64_t v13 = (uint64_t)(v7);
	uint32_t v14 = (uint32_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint64_t v16 = (uint64_t)(v12);
	bool v17 = (v15 <= v16);
	bool branch_Bool_18;
	if (v17) {
		INT v19 = i64_to_int(in_Byte_1);
		uint64_t v20 = int_to_u64(v19);
		uint8_t v21 = (uint8_t)(v20);
		INT v22 = i64_to_int(v4);
		uint64_t v23 = int_to_u64(v22);
		uint8_t v24 = (uint8_t)(v23);
		uint64_t v25 = (uint64_t)(v24);
		uint32_t v26 = (uint32_t)(v25);
		uint64_t v27 = (uint64_t)(v21);
		uint32_t v28 = (uint32_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint64_t v30 = (uint64_t)(v26);
		bool v31 = (v29 <= v30);
		branch_Bool_18 = v31;
	} else {
		bool v32 = false;
		branch_Bool_18 = v32;
	}
	INT branch_Int_33;
	if (branch_Bool_18) {
		INT v34 = i64_to_int(in_Byte_1);
		INT v35 = WRAP_I63(48LL);
		INT v36 = int_sub(v34, v35);
		branch_Int_33 = v36;
	} else {
		int64_t v37 = mw_std_byte_Byte_toZ_upper(in_Byte_1);
		INT v38 = i64_to_int(v37);
		INT v39 = WRAP_I63(55LL);
		INT v40 = int_sub(v38, v39);
		branch_Int_33 = v40;
	}
	return branch_Int_33;
}
static VAL mw_mirth_lexer_IntSuffix_convert (INT in_Int_1, int64_t in_IntSuffix_2) {
	VAL branch_Result_4;
	switch (in_IntSuffix_2) {
		case 0LL: { // Int
			VAL v5 = mtw_mirth_token_TokenValue_Int(in_Int_1);
			VAL v6 = mtw_std_result_Result_2_Ok(v5);
			branch_Result_4 = v6;
		} break;
		case 1LL: { // U8
			incref(MKINT(in_Int_1));
			INT v7 = WRAP_I63(0LL);
			INT v8 = WRAP_I63(255LL);
			incref(MKINT(in_Int_1));
			bool v9 = int_le(v7, in_Int_1);
			bool branch_Bool_10;
			if (v9) {
				bool v11 = int_le(in_Int_1, v8);
				branch_Bool_10 = v11;
			} else {
				decref(MKINT(v8));
				decref(MKINT(in_Int_1));
				bool v12 = false;
				branch_Bool_10 = v12;
			}
			VAL branch_Result_13;
			if (branch_Bool_10) {
				uint64_t v14 = int_to_u64(in_Int_1);
				uint8_t v15 = (uint8_t)(v14);
				VAL v16 = mtw_mirth_token_TokenValue_U8(v15);
				VAL v17 = mtw_std_result_Result_2_Ok(v16);
				branch_Result_13 = v17;
			} else {
				STR* v18;
				STRLIT(v18, "", 0);
				STR* v19 = int_to_str(in_Int_1);
				STR* v20;
				mw_std_str_ZPlusStr_pushZ_strZBang(v19, v18, &v20);
				STR* v21;
				STRLIT(v21, " is outside of U8 range.", 24);
				STR* v22;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v22);
				VAL v23 = mtw_std_result_Result_2_Err(MKSTR(v22));
				branch_Result_13 = v23;
			}
			branch_Result_4 = branch_Result_13;
		} break;
		case 2LL: { // U16
			incref(MKINT(in_Int_1));
			INT v24 = WRAP_I63(0LL);
			INT v25 = WRAP_I63(65535LL);
			incref(MKINT(in_Int_1));
			bool v26 = int_le(v24, in_Int_1);
			bool branch_Bool_27;
			if (v26) {
				bool v28 = int_le(in_Int_1, v25);
				branch_Bool_27 = v28;
			} else {
				decref(MKINT(v25));
				decref(MKINT(in_Int_1));
				bool v29 = false;
				branch_Bool_27 = v29;
			}
			VAL branch_Result_30;
			if (branch_Bool_27) {
				uint64_t v31 = int_to_u64(in_Int_1);
				uint16_t v32 = (uint16_t)(v31);
				VAL v33 = mtw_mirth_token_TokenValue_U16(v32);
				VAL v34 = mtw_std_result_Result_2_Ok(v33);
				branch_Result_30 = v34;
			} else {
				STR* v35;
				STRLIT(v35, "", 0);
				STR* v36 = int_to_str(in_Int_1);
				STR* v37;
				mw_std_str_ZPlusStr_pushZ_strZBang(v36, v35, &v37);
				STR* v38;
				STRLIT(v38, " is outside of U16 range.", 25);
				STR* v39;
				mw_std_str_ZPlusStr_pushZ_strZBang(v38, v37, &v39);
				VAL v40 = mtw_std_result_Result_2_Err(MKSTR(v39));
				branch_Result_30 = v40;
			}
			branch_Result_4 = branch_Result_30;
		} break;
		case 3LL: { // U32
			incref(MKINT(in_Int_1));
			INT v41 = WRAP_I63(0LL);
			uint32_t v42 = 4294967295;
			uint64_t v43 = (uint64_t)(v42);
			INT v44 = u64_to_int(v43);
			incref(MKINT(in_Int_1));
			bool v45 = int_le(v41, in_Int_1);
			bool branch_Bool_46;
			if (v45) {
				bool v47 = int_le(in_Int_1, v44);
				branch_Bool_46 = v47;
			} else {
				decref(MKINT(v44));
				decref(MKINT(in_Int_1));
				bool v48 = false;
				branch_Bool_46 = v48;
			}
			VAL branch_Result_49;
			if (branch_Bool_46) {
				uint64_t v50 = int_to_u64(in_Int_1);
				uint32_t v51 = (uint32_t)(v50);
				VAL v52 = mtw_mirth_token_TokenValue_U32(v51);
				VAL v53 = mtw_std_result_Result_2_Ok(v52);
				branch_Result_49 = v53;
			} else {
				STR* v54;
				STRLIT(v54, "", 0);
				STR* v55 = int_to_str(in_Int_1);
				STR* v56;
				mw_std_str_ZPlusStr_pushZ_strZBang(v55, v54, &v56);
				STR* v57;
				STRLIT(v57, " is outside of U32 range.", 25);
				STR* v58;
				mw_std_str_ZPlusStr_pushZ_strZBang(v57, v56, &v58);
				VAL v59 = mtw_std_result_Result_2_Err(MKSTR(v58));
				branch_Result_49 = v59;
			}
			branch_Result_4 = branch_Result_49;
		} break;
		case 4LL: { // U64
			incref(MKINT(in_Int_1));
			INT v60 = WRAP_I63(0LL);
			INT v61 = WRAP_I63(-1LL);
			uint64_t v62 = int_to_u64(v61);
			INT v63 = u64_to_int(v62);
			incref(MKINT(in_Int_1));
			bool v64 = int_le(v60, in_Int_1);
			bool branch_Bool_65;
			if (v64) {
				bool v66 = int_le(in_Int_1, v63);
				branch_Bool_65 = v66;
			} else {
				decref(MKINT(v63));
				decref(MKINT(in_Int_1));
				bool v67 = false;
				branch_Bool_65 = v67;
			}
			VAL branch_Result_68;
			if (branch_Bool_65) {
				uint64_t v69 = int_to_u64(in_Int_1);
				VAL v70 = mtw_mirth_token_TokenValue_U64(v69);
				VAL v71 = mtw_std_result_Result_2_Ok(v70);
				branch_Result_68 = v71;
			} else {
				STR* v72;
				STRLIT(v72, "", 0);
				STR* v73 = int_to_str(in_Int_1);
				STR* v74;
				mw_std_str_ZPlusStr_pushZ_strZBang(v73, v72, &v74);
				STR* v75;
				STRLIT(v75, " is outside of U64 range.", 25);
				STR* v76;
				mw_std_str_ZPlusStr_pushZ_strZBang(v75, v74, &v76);
				VAL v77 = mtw_std_result_Result_2_Err(MKSTR(v76));
				branch_Result_68 = v77;
			}
			branch_Result_4 = branch_Result_68;
		} break;
		case 5LL: { // I8
			incref(MKINT(in_Int_1));
			int8_t v78 = -128;
			int8_t v79 = 127;
			int64_t v80 = (int64_t)(v78);
			INT v81 = i64_to_int(v80);
			int64_t v82 = (int64_t)(v79);
			INT v83 = i64_to_int(v82);
			incref(MKINT(in_Int_1));
			bool v84 = int_le(v81, in_Int_1);
			bool branch_Bool_85;
			if (v84) {
				bool v86 = int_le(in_Int_1, v83);
				branch_Bool_85 = v86;
			} else {
				decref(MKINT(v83));
				decref(MKINT(in_Int_1));
				bool v87 = false;
				branch_Bool_85 = v87;
			}
			VAL branch_Result_88;
			if (branch_Bool_85) {
				int64_t v89 = int_to_i64(in_Int_1);
				int8_t v90 = (int8_t)(v89);
				VAL v91 = mtw_mirth_token_TokenValue_I8(v90);
				VAL v92 = mtw_std_result_Result_2_Ok(v91);
				branch_Result_88 = v92;
			} else {
				STR* v93;
				STRLIT(v93, "", 0);
				STR* v94 = int_to_str(in_Int_1);
				STR* v95;
				mw_std_str_ZPlusStr_pushZ_strZBang(v94, v93, &v95);
				STR* v96;
				STRLIT(v96, " is outside of I8 range.", 24);
				STR* v97;
				mw_std_str_ZPlusStr_pushZ_strZBang(v96, v95, &v97);
				VAL v98 = mtw_std_result_Result_2_Err(MKSTR(v97));
				branch_Result_88 = v98;
			}
			branch_Result_4 = branch_Result_88;
		} break;
		case 6LL: { // I16
			incref(MKINT(in_Int_1));
			int16_t v99 = -32768;
			int16_t v100 = 32767;
			int64_t v101 = (int64_t)(v99);
			INT v102 = i64_to_int(v101);
			int64_t v103 = (int64_t)(v100);
			INT v104 = i64_to_int(v103);
			incref(MKINT(in_Int_1));
			bool v105 = int_le(v102, in_Int_1);
			bool branch_Bool_106;
			if (v105) {
				bool v107 = int_le(in_Int_1, v104);
				branch_Bool_106 = v107;
			} else {
				decref(MKINT(v104));
				decref(MKINT(in_Int_1));
				bool v108 = false;
				branch_Bool_106 = v108;
			}
			VAL branch_Result_109;
			if (branch_Bool_106) {
				int64_t v110 = int_to_i64(in_Int_1);
				int16_t v111 = (int16_t)(v110);
				VAL v112 = mtw_mirth_token_TokenValue_I16(v111);
				VAL v113 = mtw_std_result_Result_2_Ok(v112);
				branch_Result_109 = v113;
			} else {
				STR* v114;
				STRLIT(v114, "", 0);
				STR* v115 = int_to_str(in_Int_1);
				STR* v116;
				mw_std_str_ZPlusStr_pushZ_strZBang(v115, v114, &v116);
				STR* v117;
				STRLIT(v117, " is outside of I16 range.", 25);
				STR* v118;
				mw_std_str_ZPlusStr_pushZ_strZBang(v117, v116, &v118);
				VAL v119 = mtw_std_result_Result_2_Err(MKSTR(v118));
				branch_Result_109 = v119;
			}
			branch_Result_4 = branch_Result_109;
		} break;
		case 7LL: { // I32
			incref(MKINT(in_Int_1));
			int32_t v120 = INT32_MIN;
			int32_t v121 = 2147483647;
			int64_t v122 = (int64_t)(v120);
			INT v123 = i64_to_int(v122);
			int64_t v124 = (int64_t)(v121);
			INT v125 = i64_to_int(v124);
			incref(MKINT(in_Int_1));
			bool v126 = int_le(v123, in_Int_1);
			bool branch_Bool_127;
			if (v126) {
				bool v128 = int_le(in_Int_1, v125);
				branch_Bool_127 = v128;
			} else {
				decref(MKINT(v125));
				decref(MKINT(in_Int_1));
				bool v129 = false;
				branch_Bool_127 = v129;
			}
			VAL branch_Result_130;
			if (branch_Bool_127) {
				int64_t v131 = int_to_i64(in_Int_1);
				int32_t v132 = (int32_t)(v131);
				VAL v133 = mtw_mirth_token_TokenValue_I32(v132);
				VAL v134 = mtw_std_result_Result_2_Ok(v133);
				branch_Result_130 = v134;
			} else {
				STR* v135;
				STRLIT(v135, "", 0);
				STR* v136 = int_to_str(in_Int_1);
				STR* v137;
				mw_std_str_ZPlusStr_pushZ_strZBang(v136, v135, &v137);
				STR* v138;
				STRLIT(v138, " is outside of I32 range.", 25);
				STR* v139;
				mw_std_str_ZPlusStr_pushZ_strZBang(v138, v137, &v139);
				VAL v140 = mtw_std_result_Result_2_Err(MKSTR(v139));
				branch_Result_130 = v140;
			}
			branch_Result_4 = branch_Result_130;
		} break;
		case 8LL: { // I64
			incref(MKINT(in_Int_1));
			int64_t v141 = INT64_MIN;
			int64_t v142 = 9223372036854775807LL;
			INT v143 = i64_to_int(v141);
			INT v144 = i64_to_int(v142);
			incref(MKINT(in_Int_1));
			bool v145 = int_le(v143, in_Int_1);
			bool branch_Bool_146;
			if (v145) {
				bool v147 = int_le(in_Int_1, v144);
				branch_Bool_146 = v147;
			} else {
				decref(MKINT(v144));
				decref(MKINT(in_Int_1));
				bool v148 = false;
				branch_Bool_146 = v148;
			}
			VAL branch_Result_149;
			if (branch_Bool_146) {
				int64_t v150 = int_to_i64(in_Int_1);
				VAL v151 = mtw_mirth_token_TokenValue_I64(v150);
				VAL v152 = mtw_std_result_Result_2_Ok(v151);
				branch_Result_149 = v152;
			} else {
				STR* v153;
				STRLIT(v153, "", 0);
				STR* v154 = int_to_str(in_Int_1);
				STR* v155;
				mw_std_str_ZPlusStr_pushZ_strZBang(v154, v153, &v155);
				STR* v156;
				STRLIT(v156, " is outside of I64 range.", 25);
				STR* v157;
				mw_std_str_ZPlusStr_pushZ_strZBang(v156, v155, &v157);
				VAL v158 = mtw_std_result_Result_2_Err(MKSTR(v157));
				branch_Result_149 = v158;
			}
			branch_Result_4 = branch_Result_149;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Result_4;
}
static uint64_t mw_mirth_mirth_ZPlusMirth_runZ_lexerZBang (TUP* in_ZPlusMirth_1, STR* in_Path_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	uint64_t v8 = mw_mirth_module_Module_NewZBang(in_ZPlusMirth_1, in_Path_2, &v7);
	TUP* v9;
	STR* v10 = mw_mirth_module_Module_sourceZ_path(v7, v8, &v9);
	VAL v11 = mw_std_prim_ZPlusWorld_readZ_pathZBang(v10);
	TUP* branch_ZPlusMirth_12;
	uint64_t branch_Module_13;
	switch (get_data_tag(v11)) {
		case 1LL: { // Ok
			VAL v14 = mtp_std_result_Result_2_Ok(v11);
			TUP* v15;
			TUP* v16;
			mw_mirth_lexer_ZPlusLexer_StartZBang(v9, value_str(v14), v8, &v15, &v16);
			TUP* v17;
			bool v18 = mw_mirth_lexer_ZPlusLexer_doneZAsk(v16, &v17);
			bool v19 = !v18;
			TUP* v20 = v15;
			TUP* v21 = v17;
			bool v22 = v19;
			while (v22) {
				TUP* v23 = v20;
				TUP* v24 = v21;
				TUP* v25;
				TUP* v26;
				mw_mirth_lexer_ZPlusLexer_nextZBang(v23, v24, &v25, &v26);
				TUP* v27;
				bool v28 = mw_mirth_lexer_ZPlusLexer_doneZAsk(v26, &v27);
				bool v29 = !v28;
				v22 = v29;
				v21 = v27;
				v20 = v25;
			}
			TUP* v30;
			uint64_t v31 = mw_mirth_lexer_ZPlusLexer_stopZBang(v20, v21, &v30);
			branch_Module_13 = v31;
			branch_ZPlusMirth_12 = v30;
		} break;
		case 0LL: { // Err
			VAL v32 = mtp_std_result_Result_2_Err(v11);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(v32, v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return branch_Module_13;
}
static uint64_t mw_mirth_macro_Macro_allocZBang (void) {
	void* v2 = mbuf_mirth_macro_Macro_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_macro_Macro_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_macro_Macro_index (uint64_t in_Macro_1) {
	return in_Macro_1;
}
static uint64_t mw_mirth_macro_Macro_name (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_ZTildename, in_Macro_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static TUP* mw_mirth_macro_Macro_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_ZTildeqname, in_Macro_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static VAL mw_mirth_macro_Macro_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_ZTildeqname, in_Macro_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static INT mw_mirth_macro_Macro_arity (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_ZTildearity, in_Macro_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static VAL mw_mirth_macro_Macro_headZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_ZTildehead, in_Macro_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_macro_Macro_action (TUP* in_ZPlusMirth_1, uint64_t in_Macro_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_macro_Macro_ZTildeaction, in_Macro_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static INT mw_mirth_macro_Macro_ZToInt (uint64_t in_Macro_1) {
	uint64_t v3 = mw_mirth_macro_Macro_index(in_Macro_1);
	INT v4 = u64_to_int(v3);
	return v4;
}
static bool mw_mirth_macro_Macro_ZEqual (uint64_t in_Macro_1, uint64_t in_Macro_2) {
	INT v4 = mw_mirth_macro_Macro_ZToInt(in_Macro_1);
	INT v5 = mw_mirth_macro_Macro_ZToInt(in_Macro_2);
	bool v6 = int_eq(v4, v5);
	return v6;
}
static uint64_t mw_mirth_macro_Macro_Prim (TUP* in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, VAL in_MacroAction_4, TUP* *out_ZPlusMirth_5) {
	uint64_t v7 = mw_mirth_macro_Macro_allocZBang();
	void* v8 = field_mut(&mfld_mirth_macro_Macro_ZTildeaction, v7);
	mut_set(in_MacroAction_4, v8);
	incref(MKSTR(in_Str_2));
	TUP* v9;
	uint64_t v10 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, in_Str_2, &v9);
	void* v11 = field_mut(&mfld_mirth_macro_Macro_ZTildename, v7);
	mut_set(MKU64(v10), v11);
	incref(MKINT(in_Int_3));
	void* v12 = field_mut(&mfld_mirth_macro_Macro_ZTildearity, v7);
	mut_set(MKINT(in_Int_3), v12);
	TUP* v13;
	TUP* v14 = mw_mirth_name_QName_Prim(v9, in_Str_2, in_Int_3, &v13);
	VAL v15 = mtw_mirth_mirth_PropLabel_MacroQName(v7);
	TUP* v16;
	TUP* v17 = mw_mirth_mirth_PropLabel_prop(v13, MKTUP(v14, 3), v15, &v16);
	void* v18 = field_mut(&mfld_mirth_macro_Macro_ZTildeqname, v7);
	mut_set(MKTUP(v17, 2), v18);
	*out_ZPlusMirth_5 = v16;
	return v7;
}
static VAL mw_mirth_macro_MacroAction_declZAsk (VAL in_MacroAction_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_MacroAction_1)) {
		case 0LL: { // Decl
			VAL v4 = mtp_mirth_macro_MacroAction_Decl(in_MacroAction_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_MacroAction_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_macro_MacroAction_arrowZAsk (VAL in_MacroAction_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_MacroAction_1)) {
		case 1LL: { // Arrow
			VAL v4 = mtp_mirth_macro_MacroAction_Arrow(in_MacroAction_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_MacroAction_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static bool mw_mirth_macro_MacroAction_callableZAsk (VAL in_MacroAction_1) {
	VAL v3 = mw_mirth_macro_MacroAction_arrowZAsk(in_MacroAction_1);
	int64_t v4 = get_data_tag(v3);
	decref(v3);
	INT v5 = WRAP_I63(0LL);
	INT v6 = i64_to_int(v4);
	bool v7 = int_eq(v6, v5);
	bool v8 = !v7;
	return v8;
}
static uint64_t mw_mirth_mirth_ZPlusMirth_moduleZ_statementZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	STR* v5;
	STRLIT(v5, "'module' statement outside of module header.", 44);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v5);
	return 0; /* unreachable */
}
static uint64_t mw_mirth_mirth_ZPlusMirth_importZ_statementZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	STR* v5;
	STRLIT(v5, "'import' statement outside of module header.", 44);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v5);
	return 0; /* unreachable */
}
static void mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang (STR* in_Str_1, INT in_Int_2, VAL in__3, TUP* in_ZPlusMirth_4, TUP* *out_ZPlusMirth_5) {
	VAL v6 = mtw_mirth_macro_MacroAction_Decl(in__3);
	TUP* v7;
	uint64_t v8 = mw_mirth_macro_Macro_Prim(in_ZPlusMirth_4, in_Str_1, in_Int_2, v6, &v7);
	VAL v9 = mtw_mirth_def_Def_Macro(v8);
	TUP* v10;
	mw_mirth_def_Def_register(v7, v9, &v10);
	*out_ZPlusMirth_5 = v10;
}
static void mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang (STR* in_Str_1, INT in_Int_2, VAL in__3, TUP* in_ZPlusMirth_4, TUP* *out_ZPlusMirth_5) {
	VAL v6 = mtw_mirth_macro_MacroAction_Arrow(in__3);
	TUP* v7;
	uint64_t v8 = mw_mirth_macro_Macro_Prim(in_ZPlusMirth_4, in_Str_1, in_Int_2, v6, &v7);
	VAL v9 = mtw_mirth_def_Def_Macro(v8);
	TUP* v10;
	mw_mirth_def_Def_register(v7, v9, &v10);
	*out_ZPlusMirth_5 = v10;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_macrosZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	STR* v3;
	STRLIT(v3, "module", 6);
	INT v4 = WRAP_I63(-1LL);
	FNPTR v5 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_0;
	TUP* v6;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v3, v4, MKFNPTR(v5), in_ZPlusMirth_1, &v6);
	STR* v7;
	STRLIT(v7, "import", 6);
	INT v8 = WRAP_I63(-1LL);
	FNPTR v9 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_1;
	TUP* v10;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v7, v8, MKFNPTR(v9), v6, &v10);
	STR* v11;
	STRLIT(v11, "patch", 5);
	INT v12 = WRAP_I63(-1LL);
	FNPTR v13 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_2;
	TUP* v14;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v11, v12, MKFNPTR(v13), v10, &v14);
	STR* v15;
	STRLIT(v15, "alias", 5);
	INT v16 = WRAP_I63(-1LL);
	FNPTR v17 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_3;
	TUP* v18;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v15, v16, MKFNPTR(v17), v14, &v18);
	STR* v19;
	STRLIT(v19, "inline", 6);
	INT v20 = WRAP_I63(-1LL);
	FNPTR v21 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_4;
	TUP* v22;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v19, v20, MKFNPTR(v21), v18, &v22);
	STR* v23;
	STRLIT(v23, "def", 3);
	INT v24 = WRAP_I63(-1LL);
	FNPTR v25 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_5;
	TUP* v26;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v23, v24, MKFNPTR(v25), v22, &v26);
	STR* v27;
	STRLIT(v27, "def-missing", 11);
	INT v28 = WRAP_I63(-1LL);
	FNPTR v29 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_6;
	TUP* v30;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v27, v28, MKFNPTR(v29), v26, &v30);
	STR* v31;
	STRLIT(v31, "def-type", 8);
	INT v32 = WRAP_I63(-1LL);
	FNPTR v33 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_7;
	TUP* v34;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v31, v32, MKFNPTR(v33), v30, &v34);
	STR* v35;
	STRLIT(v35, "external", 8);
	INT v36 = WRAP_I63(-1LL);
	FNPTR v37 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_8;
	TUP* v38;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v35, v36, MKFNPTR(v37), v34, &v38);
	STR* v39;
	STRLIT(v39, "buffer", 6);
	INT v40 = WRAP_I63(-1LL);
	FNPTR v41 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_9;
	TUP* v42;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v39, v40, MKFNPTR(v41), v38, &v42);
	STR* v43;
	STRLIT(v43, "table", 5);
	INT v44 = WRAP_I63(-1LL);
	FNPTR v45 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_10;
	TUP* v46;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v43, v44, MKFNPTR(v45), v42, &v46);
	STR* v47;
	STRLIT(v47, "field", 5);
	INT v48 = WRAP_I63(-1LL);
	FNPTR v49 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_11;
	TUP* v50;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v47, v48, MKFNPTR(v49), v46, &v50);
	STR* v51;
	STRLIT(v51, "data", 4);
	INT v52 = WRAP_I63(-1LL);
	FNPTR v53 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_12;
	TUP* v54;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v51, v52, MKFNPTR(v53), v50, &v54);
	STR* v55;
	STRLIT(v55, "struct", 6);
	INT v56 = WRAP_I63(-1LL);
	FNPTR v57 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_13;
	TUP* v58;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v55, v56, MKFNPTR(v57), v54, &v58);
	STR* v59;
	STRLIT(v59, "embed-str", 9);
	INT v60 = WRAP_I63(-1LL);
	FNPTR v61 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_14;
	TUP* v62;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v59, v60, MKFNPTR(v61), v58, &v62);
	STR* v63;
	STRLIT(v63, "max-mirth-revision", 18);
	INT v64 = WRAP_I63(-1LL);
	FNPTR v65 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_15;
	TUP* v66;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v63, v64, MKFNPTR(v65), v62, &v66);
	STR* v67;
	STRLIT(v67, "min-mirth-revision", 18);
	INT v68 = WRAP_I63(-1LL);
	FNPTR v69 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_16;
	TUP* v70;
	mw_mirth_mirth_ZPlusMirth_primZ_declZ_macroZBang(v67, v68, MKFNPTR(v69), v66, &v70);
	STR* v71;
	STRLIT(v71, "match", 5);
	INT v72 = WRAP_I63(-1LL);
	FNPTR v73 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_17;
	TUP* v74;
	mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang(v71, v72, MKFNPTR(v73), v70, &v74);
	STR* v75;
	STRLIT(v75, "\\", 1);
	INT v76 = WRAP_I63(-1LL);
	FNPTR v77 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_18;
	TUP* v78;
	mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang(v75, v76, MKFNPTR(v77), v74, &v78);
	STR* v79;
	STRLIT(v79, "ldip", 4);
	INT v80 = WRAP_I63(-1LL);
	FNPTR v81 = &mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_19;
	TUP* v82;
	mw_mirth_mirth_ZPlusMirth_primZ_wordZ_macroZBang(v79, v80, MKFNPTR(v81), v78, &v82);
	*out_ZPlusMirth_2 = v82;
}
static VAL mw_mirth_version_mirthZ_revision (void) {
	INT v2 = WRAP_I63(20250329001LL);
	return MKINT(v2);
}
static void mw_mirth_elab_ZPlusTypeElab_rdrop (TUP* in_ZPlusTypeElab_1) {
	VAL v2;
	uint64_t v3;
	bool v4;
	bool v5;
	mtp_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(in_ZPlusTypeElab_1, &v2, &v3, &v4, &v5);
	decref(v2);
}
static void mw_mirth_elab_ZPlusTypeElab_StartZBang (uint64_t in_Token_1, TUP* *out_ZPlusTypeElab_2) {
	VAL v3 = mw_mirth_var_Ctx_L0();
	bool v4 = false;
	bool v5 = true;
	TUP* v6;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v3, in_Token_1, v4, v5, &v6);
	*out_ZPlusTypeElab_2 = v6;
}
static TUP* mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v8;
	bool v9 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, v7, &v8);
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusTypeElab_11;
	if (v9) {
		uint64_t v12 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		STR* v13;
		STRLIT(v13, "expected type signature", 23);
		TUP* v14;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v8, v12, v13, &v14);
		branch_ZPlusTypeElab_11 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_10 = v14;
	} else {
		branch_ZPlusTypeElab_11 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_10 = v8;
	}
	incref(in_StackType_3);
	TUP* v15;
	TUP* v16;
	VAL v17 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang(branch_ZPlusMirth_10, branch_ZPlusTypeElab_11, in_StackType_3, &v15, &v16);
	incref(in_StackType_3);
	TUP* v18;
	TUP* v19;
	VAL v20 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v15, v16, in_StackType_3, &v18, &v19);
	uint64_t v21 = value_u64(v19->cells[1]);
	TUP* v22;
	bool v23 = mw_mirth_token_Token_vdashZAsk(v18, v21, &v22);
	VAL branch_List_24;
	VAL branch_StackType_25;
	TUP* branch_ZPlusMirth_26;
	TUP* branch_ZPlusTypeElab_27;
	VAL branch_StackType_28;
	if (v23) {
		decref(in_StackType_3);
		uint64_t v29 = value_u64(v19->cells[1]);
		uint64_t v30 = mw_mirth_token_Token_succ(v29);
		v19->cells[1] = MKU64(v30);
		incref(v20);
		TUP* v31;
		TUP* v32;
		VAL v33 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang(v22, v19, v20, &v31, &v32);
		VAL v34 = mw_std_list_List_1_cat(v17, v33);
		incref(v20);
		TUP* v35;
		TUP* v36;
		VAL v37 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v31, v32, v20, &v35, &v36);
		branch_StackType_28 = v37;
		branch_ZPlusTypeElab_27 = v36;
		branch_ZPlusMirth_26 = v35;
		branch_StackType_25 = v20;
		branch_List_24 = v34;
	} else {
		branch_StackType_28 = v20;
		branch_ZPlusTypeElab_27 = v19;
		branch_ZPlusMirth_26 = v22;
		branch_StackType_25 = in_StackType_3;
		branch_List_24 = v17;
	}
	uint64_t v38 = value_u64(branch_ZPlusTypeElab_27->cells[1]);
	TUP* v39;
	bool v40 = mw_mirth_token_Token_sigZ_dashesZAsk(branch_ZPlusMirth_26, v38, &v39);
	VAL branch_List_41;
	VAL branch_StackType_42;
	VAL branch_StackType_43;
	TUP* branch_ZPlusMirth_44;
	TUP* branch_ZPlusTypeElab_45;
	VAL branch_StackType_46;
	if (v40) {
		uint64_t v47 = value_u64(branch_ZPlusTypeElab_27->cells[1]);
		uint64_t v48 = mw_mirth_token_Token_succ(v47);
		branch_ZPlusTypeElab_27->cells[1] = MKU64(v48);
		incref(branch_StackType_25);
		TUP* v49;
		TUP* v50;
		VAL v51 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v39, branch_ZPlusTypeElab_27, branch_StackType_25, &v49, &v50);
		branch_StackType_46 = v51;
		branch_ZPlusTypeElab_45 = v50;
		branch_ZPlusMirth_44 = v49;
		branch_StackType_43 = branch_StackType_25;
		branch_StackType_42 = branch_StackType_28;
		branch_List_41 = branch_List_24;
	} else {
		incref(branch_StackType_25);
		branch_StackType_46 = branch_StackType_28;
		branch_ZPlusTypeElab_45 = branch_ZPlusTypeElab_27;
		branch_ZPlusMirth_44 = v39;
		branch_StackType_43 = branch_StackType_25;
		branch_StackType_42 = branch_StackType_25;
		branch_List_41 = branch_List_24;
	}
	uint64_t v52 = value_u64(branch_ZPlusTypeElab_45->cells[1]);
	TUP* v53;
	bool v54 = mw_mirth_token_Token_runZ_endZAsk(branch_ZPlusMirth_44, v52, &v53);
	TUP* branch_ZPlusMirth_55;
	TUP* branch_ZPlusTypeElab_56;
	if (v54) {
		branch_ZPlusTypeElab_56 = branch_ZPlusTypeElab_45;
		branch_ZPlusMirth_55 = v53;
	} else {
		uint64_t v57 = value_u64(branch_ZPlusTypeElab_45->cells[1]);
		STR* v58;
		STRLIT(v58, "expected right paren or comma", 29);
		TUP* v59;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v53, v57, v58, &v59);
		branch_ZPlusTypeElab_56 = branch_ZPlusTypeElab_45;
		branch_ZPlusMirth_55 = v59;
	}
	VAL v60 = mw_std_list_List_1_for_1_sp71(branch_StackType_42, branch_List_41);
	TUP* v61 = mw_mirth_type_TZ_ZTo(v60, branch_StackType_46);
	decref(branch_StackType_43);
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_56;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_55;
	return v61;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_lparenZAsk(in_ZPlusMirth_1, v7, &v8);
	int64_t v10 = get_data_tag(v9);
	decref(v9);
	INT v11 = WRAP_I63(0LL);
	INT v12 = i64_to_int(v10);
	bool v13 = int_eq(v12, v11);
	bool v14 = !v13;
	VAL branch_StackType_15;
	TUP* branch_ZPlusMirth_16;
	TUP* branch_ZPlusTypeElab_17;
	VAL branch_List_18;
	if (v14) {
		uint64_t v19 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		TUP* v20;
		uint64_t v21 = mw_mirth_token_Token_next(v8, v19, &v20);
		uint64_t v22 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		TUP* v23;
		VAL v24 = mw_mirth_token_Token_args(v20, v22, &v23);
		VAL v25 = MKI64(0LL /* Nil */);
		VAL v26;
		mw_std_list_List_1_buildZBang(v25, &v26);
		bool v27 = true;
		TUP* v28 = v23;
		VAL v29 = in_StackType_3;
		TUP* v30 = in_ZPlusTypeElab_2;
		VAL v31 = v26;
		VAL v32 = v24;
		bool v33 = v27;
		bool v34 = v27;
		while (v34) {
			TUP* v35 = v28;
			VAL v36 = v29;
			TUP* v37 = v30;
			VAL v38 = v31;
			VAL v39 = v32;
			bool v40 = v33;
			VAL branch_StackType_41;
			TUP* branch_ZPlusMirth_42;
			TUP* branch_ZPlusTypeElab_43;
			VAL branch_ZPlusLister_44;
			VAL branch_List_45;
			bool branch_Bool_46;
			switch (get_data_tag(v39)) {
				case 1LL: { // Cons
					VAL v47;
					VAL v48 = mtp_std_list_List_1_Cons(v39, &v47);
					v37->cells[1] = v48;
					incref(v36);
					TUP* v49;
					TUP* v50;
					TUP* v51 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v35, v37, v36, &v49, &v50);
					VAL v52 = mtw_mirth_type_Type_Arrow(v51);
					VAL v53;
					mw_std_list_ZPlusLister_1_pushZBang(v52, v38, &v53);
					bool v54 = true;
					branch_Bool_46 = v54;
					branch_List_45 = v47;
					branch_ZPlusLister_44 = v53;
					branch_ZPlusTypeElab_43 = v50;
					branch_ZPlusMirth_42 = v49;
					branch_StackType_41 = v36;
				} break;
				case 0LL: { // Nil
					VAL v55 = MKI64(0LL /* Nil */);
					bool v56 = false;
					branch_Bool_46 = v56;
					branch_List_45 = v55;
					branch_ZPlusLister_44 = v38;
					branch_ZPlusTypeElab_43 = v37;
					branch_ZPlusMirth_42 = v35;
					branch_StackType_41 = v36;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v34 = branch_Bool_46;
			v33 = branch_Bool_46;
			v32 = branch_List_45;
			v31 = branch_ZPlusLister_44;
			v30 = branch_ZPlusTypeElab_43;
			v29 = branch_StackType_41;
			v28 = branch_ZPlusMirth_42;
		}
		decref(v32);
		VAL v57 = mw_std_list_ZPlusLister_1_doneZBang(v31);
		v30->cells[1] = MKU64(v21);
		branch_List_18 = v57;
		branch_ZPlusTypeElab_17 = v30;
		branch_ZPlusMirth_16 = v28;
		branch_StackType_15 = v29;
	} else {
		VAL v58 = MKI64(0LL /* Nil */);
		branch_List_18 = v58;
		branch_ZPlusTypeElab_17 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_16 = v8;
		branch_StackType_15 = in_StackType_3;
	}
	decref(branch_StackType_15);
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_17;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_16;
	return branch_List_18;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	TUP* v7;
	TUP* v8;
	VAL v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_baseZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_StackType_3, &v7, &v8);
	TUP* v10;
	TUP* v11;
	VAL v12 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang(v7, v8, v9, &v10, &v11);
	*out_ZPlusTypeElab_5 = v11;
	*out_ZPlusMirth_4 = v10;
	return v12;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_baseZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_sigZ_stackZ_varZAsk(in_ZPlusMirth_1, v7, &v8);
	VAL branch_StackType_10;
	TUP* branch_ZPlusMirth_11;
	TUP* branch_ZPlusTypeElab_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			TUP* v14;
			TUP* v15;
			VAL v16 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang(v8, in_ZPlusTypeElab_2, value_u64(v13), &v14, &v15);
			TUP* v17;
			VAL v18;
			VAL v19 = mw_mirth_type_StackType_splitZ_parts(v14, in_StackType_3, &v17, &v18);
			TUP* v20;
			bool v21 = mw_mirth_type_StackTypeBase_unitZAsk(v17, v19, &v20);
			TUP* branch_ZPlusMirth_22;
			TUP* branch_ZPlusTypeElab_23;
			if (v21) {
				branch_ZPlusTypeElab_23 = v15;
				branch_ZPlusMirth_22 = v20;
			} else {
				uint64_t v24 = value_u64(v15->cells[1]);
				STR* v25;
				STRLIT(v25, "Duplicate stack base, context already provided a stack base.", 60);
				TUP* v26;
				mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v20, v24, v25, &v26);
				branch_ZPlusTypeElab_23 = v15;
				branch_ZPlusMirth_22 = v26;
			}
			bool v27 = true;
			VAL v28 = v16;
			VAL v29 = v18;
			bool v30 = v27;
			bool v31 = v27;
			while (v31) {
				VAL v32 = v28;
				VAL v33 = v29;
				bool v34 = v30;
				VAL branch_StackType_35;
				VAL branch_List_36;
				bool branch_Bool_37;
				switch (get_data_tag(v33)) {
					case 1LL: { // Cons
						VAL v38;
						VAL v39 = mtp_std_list_List_1_Cons(v33, &v38);
						VAL v40 = mw_mirth_type_StackTypePart_cons(v32, v39);
						bool v41 = true;
						branch_Bool_37 = v41;
						branch_List_36 = v38;
						branch_StackType_35 = v40;
					} break;
					case 0LL: { // Nil
						VAL v42 = MKI64(0LL /* Nil */);
						bool v43 = false;
						branch_Bool_37 = v43;
						branch_List_36 = v42;
						branch_StackType_35 = v32;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v31 = branch_Bool_37;
				v30 = branch_Bool_37;
				v29 = branch_List_36;
				v28 = branch_StackType_35;
			}
			decref(v29);
			branch_ZPlusTypeElab_12 = branch_ZPlusTypeElab_23;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_22;
			branch_StackType_10 = v28;
		} break;
		case 0LL: { // None
			branch_ZPlusTypeElab_12 = in_ZPlusTypeElab_2;
			branch_ZPlusMirth_11 = v8;
			branch_StackType_10 = in_StackType_3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_StackType_10;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v8;
	bool v9 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(in_ZPlusMirth_1, v7, &v8);
	bool v10 = !v9;
	VAL v11 = in_StackType_3;
	TUP* v12 = v8;
	TUP* v13 = in_ZPlusTypeElab_2;
	bool v14 = v10;
	while (v14) {
		VAL v15 = v11;
		TUP* v16 = v12;
		TUP* v17 = v13;
		TUP* v18;
		TUP* v19;
		VAL v20 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(v16, v17, &v18, &v19);
		VAL v21 = mw_mirth_type_StackTypePart_cons(v15, v20);
		uint64_t v22 = value_u64(v19->cells[1]);
		TUP* v23;
		bool v24 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v18, v22, &v23);
		bool v25 = !v24;
		v14 = v25;
		v13 = v19;
		v12 = v23;
		v11 = v21;
	}
	*out_ZPlusTypeElab_5 = v13;
	*out_ZPlusMirth_4 = v12;
	return v11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v7;
	TUP* v8;
	VAL v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v7, &v8);
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusTypeElab_11;
	VAL branch_Type_12;
	switch (get_data_tag(v9)) {
		case 0LL: { // Cons
			VAL v13 = mtp_mirth_type_StackTypePart_Cons(v9);
			branch_Type_12 = v13;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v7;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v14;
			VAL v15 = mtp_mirth_type_StackTypePart_ConsLabel(v9, &v14);
			decref(v15);
			STR* v16;
			STRLIT(v16, "Expected type, not label.", 25);
			TUP* v17;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v16, &v17);
			VAL v18 = MKI64(0LL /* Error */);
			branch_Type_12 = v18;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v17;
		} break;
		case 2LL: { // With
			VAL v19 = mtp_mirth_type_StackTypePart_With(v9);
			decref(v19);
			STR* v20;
			STRLIT(v20, "Expected type, not resource.", 28);
			TUP* v21;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v20, &v21);
			VAL v22 = MKI64(0LL /* Error */);
			branch_Type_12 = v22;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v21;
		} break;
		case 3LL: { // WithLabel
			uint64_t v23;
			VAL v24 = mtp_mirth_type_StackTypePart_WithLabel(v9, &v23);
			decref(v24);
			STR* v25;
			STRLIT(v25, "Expected type, not labelled resource.", 37);
			TUP* v26;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v25, &v26);
			VAL v27 = MKI64(0LL /* Error */);
			branch_Type_12 = v27;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_11;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_Type_12;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4) {
	TUP* v6;
	TUP* v7;
	VAL v8 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_atomZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v6, &v7);
	uint64_t v9 = value_u64(v7->cells[1]);
	TUP* v10;
	bool v11 = mw_mirth_token_Token_argZ_endZAsk(v6, v9, &v10);
	TUP* branch_ZPlusMirth_12;
	TUP* branch_ZPlusTypeElab_13;
	if (v11) {
		branch_ZPlusTypeElab_13 = v7;
		branch_ZPlusMirth_12 = v10;
	} else {
		uint64_t v14 = value_u64(v7->cells[1]);
		STR* v15;
		STRLIT(v15, "Unexpected token after type.", 28);
		TUP* v16;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v10, v14, v15, &v16);
		branch_ZPlusTypeElab_13 = v7;
		branch_ZPlusMirth_12 = v16;
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_13;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return v8;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v7;
	TUP* v8;
	VAL v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v7, &v8);
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusTypeElab_11;
	VAL branch_Resource_12;
	switch (get_data_tag(v9)) {
		case 0LL: { // Cons
			VAL v13 = mtp_mirth_type_StackTypePart_Cons(v9);
			decref(v13);
			STR* v14;
			STRLIT(v14, "Expected resource, not type.", 28);
			TUP* v15;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v14, &v15);
			VAL v16 = MKI64(0LL /* Error */);
			branch_Resource_12 = v16;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v15;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v17;
			VAL v18 = mtp_mirth_type_StackTypePart_ConsLabel(v9, &v17);
			decref(v18);
			STR* v19;
			STRLIT(v19, "Expected resource, not label.", 29);
			TUP* v20;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v19, &v20);
			VAL v21 = MKI64(0LL /* Error */);
			branch_Resource_12 = v21;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v20;
		} break;
		case 2LL: { // With
			VAL v22 = mtp_mirth_type_StackTypePart_With(v9);
			branch_Resource_12 = v22;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v7;
		} break;
		case 3LL: { // WithLabel
			uint64_t v23;
			VAL v24 = mtp_mirth_type_StackTypePart_WithLabel(v9, &v23);
			decref(v24);
			STR* v25;
			STRLIT(v25, "Expected resource, not label.", 29);
			TUP* v26;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v7, v6, v25, &v26);
			VAL v27 = MKI64(0LL /* Error */);
			branch_Resource_12 = v27;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v28 = value_u64(branch_ZPlusTypeElab_11->cells[1]);
	TUP* v29;
	bool v30 = mw_mirth_token_Token_argZ_endZAsk(branch_ZPlusMirth_10, v28, &v29);
	TUP* branch_ZPlusMirth_31;
	TUP* branch_ZPlusTypeElab_32;
	if (v30) {
		branch_ZPlusTypeElab_32 = branch_ZPlusTypeElab_11;
		branch_ZPlusMirth_31 = v29;
	} else {
		uint64_t v33 = value_u64(branch_ZPlusTypeElab_11->cells[1]);
		STR* v34;
		STRLIT(v34, "Unexpected token after resource.", 32);
		TUP* v35;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v29, v33, v34, &v35);
		branch_ZPlusTypeElab_32 = branch_ZPlusTypeElab_11;
		branch_ZPlusMirth_31 = v35;
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_32;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_31;
	return branch_Resource_12;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_sigZ_labelZAsk(in_ZPlusMirth_1, v6, &v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusTypeElab_10;
	VAL branch_StackTypePart_11;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v8);
			TUP* v13;
			TUP* v14;
			VAL v15 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang(v7, in_ZPlusTypeElab_2, value_u64(v12), &v13, &v14);
			branch_StackTypePart_11 = v15;
			branch_ZPlusTypeElab_10 = v14;
			branch_ZPlusMirth_9 = v13;
		} break;
		case 0LL: { // None
			uint64_t v16 = value_u64(in_ZPlusTypeElab_2->cells[1]);
			TUP* v17;
			VAL v18 = mw_mirth_token_Token_sigZ_typeZ_varZAsk(v7, v16, &v17);
			TUP* branch_ZPlusMirth_19;
			TUP* branch_ZPlusTypeElab_20;
			VAL branch_StackTypePart_21;
			switch (get_data_tag(v18)) {
				case 1LL: { // Some
					VAL v22 = mtp_std_maybe_Maybe_1_Some(v18);
					TUP* v23;
					TUP* v24;
					VAL v25 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang(v17, in_ZPlusTypeElab_2, value_u64(v22), &v23, &v24);
					VAL v26 = mtw_mirth_type_StackTypePart_Cons(v25);
					branch_StackTypePart_21 = v26;
					branch_ZPlusTypeElab_20 = v24;
					branch_ZPlusMirth_19 = v23;
				} break;
				case 0LL: { // None
					uint64_t v27 = value_u64(in_ZPlusTypeElab_2->cells[1]);
					TUP* v28;
					VAL v29 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v17, v27, &v28);
					TUP* branch_ZPlusMirth_30;
					TUP* branch_ZPlusTypeElab_31;
					VAL branch_StackTypePart_32;
					switch (get_data_tag(v29)) {
						case 1LL: { // Some
							VAL v33 = mtp_std_maybe_Maybe_1_Some(v29);
							TUP* v34;
							TUP* v35;
							VAL v36 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang(v28, in_ZPlusTypeElab_2, v33, &v34, &v35);
							VAL v37 = mtw_mirth_type_StackTypePart_Cons(v36);
							branch_StackTypePart_32 = v37;
							branch_ZPlusTypeElab_31 = v35;
							branch_ZPlusMirth_30 = v34;
						} break;
						case 0LL: { // None
							uint64_t v38 = value_u64(in_ZPlusTypeElab_2->cells[1]);
							TUP* v39;
							VAL v40 = mw_mirth_token_Token_sigZ_resourceZ_varZAsk(v28, v38, &v39);
							TUP* branch_ZPlusMirth_41;
							TUP* branch_ZPlusTypeElab_42;
							VAL branch_StackTypePart_43;
							switch (get_data_tag(v40)) {
								case 1LL: { // Some
									VAL v44 = mtp_std_maybe_Maybe_1_Some(v40);
									TUP* v45;
									TUP* v46;
									VAL v47 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang(v39, in_ZPlusTypeElab_2, value_u64(v44), &v45, &v46);
									VAL v48 = mtw_mirth_type_StackTypePart_With(v47);
									branch_StackTypePart_43 = v48;
									branch_ZPlusTypeElab_42 = v46;
									branch_ZPlusMirth_41 = v45;
								} break;
								case 0LL: { // None
									uint64_t v49 = value_u64(in_ZPlusTypeElab_2->cells[1]);
									TUP* v50;
									VAL v51 = mw_mirth_token_Token_sigZ_resourceZ_conZAsk(v39, v49, &v50);
									TUP* branch_ZPlusMirth_52;
									TUP* branch_ZPlusTypeElab_53;
									VAL branch_StackTypePart_54;
									switch (get_data_tag(v51)) {
										case 1LL: { // Some
											VAL v55 = mtp_std_maybe_Maybe_1_Some(v51);
											TUP* v56;
											TUP* v57;
											VAL v58 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang(v50, in_ZPlusTypeElab_2, v55, &v56, &v57);
											VAL v59 = mtw_mirth_type_StackTypePart_With(v58);
											branch_StackTypePart_54 = v59;
											branch_ZPlusTypeElab_53 = v57;
											branch_ZPlusMirth_52 = v56;
										} break;
										case 0LL: { // None
											uint64_t v60 = value_u64(in_ZPlusTypeElab_2->cells[1]);
											TUP* v61;
											bool v62 = mw_mirth_token_Token_patZ_underscoreZAsk(v50, v60, &v61);
											TUP* branch_ZPlusMirth_63;
											TUP* branch_ZPlusTypeElab_64;
											VAL branch_StackTypePart_65;
											if (v62) {
												TUP* v66;
												TUP* v67;
												VAL v68 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang(v61, in_ZPlusTypeElab_2, &v66, &v67);
												VAL v69 = mtw_mirth_type_StackTypePart_Cons(v68);
												branch_StackTypePart_65 = v69;
												branch_ZPlusTypeElab_64 = v67;
												branch_ZPlusMirth_63 = v66;
											} else {
												uint64_t v70 = value_u64(in_ZPlusTypeElab_2->cells[1]);
												TUP* v71;
												VAL v72 = mw_mirth_token_Token_sigZ_typeZ_holeZAsk(v61, v70, &v71);
												TUP* branch_ZPlusMirth_73;
												TUP* branch_ZPlusTypeElab_74;
												VAL branch_StackTypePart_75;
												switch (get_data_tag(v72)) {
													case 1LL: { // Some
														VAL v76 = mtp_std_maybe_Maybe_1_Some(v72);
														TUP* v77;
														TUP* v78;
														VAL v79 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang(v71, in_ZPlusTypeElab_2, value_u64(v76), &v77, &v78);
														VAL v80 = mtw_mirth_type_StackTypePart_Cons(v79);
														branch_StackTypePart_75 = v80;
														branch_ZPlusTypeElab_74 = v78;
														branch_ZPlusMirth_73 = v77;
													} break;
													case 0LL: { // None
														uint64_t v81 = value_u64(in_ZPlusTypeElab_2->cells[1]);
														TUP* v82;
														VAL v83 = mw_mirth_token_Token_lsquareZAsk(v71, v81, &v82);
														int64_t v84 = get_data_tag(v83);
														decref(v83);
														INT v85 = WRAP_I63(0LL);
														INT v86 = i64_to_int(v84);
														bool v87 = int_eq(v86, v85);
														bool v88 = !v87;
														TUP* branch_ZPlusMirth_89;
														TUP* branch_ZPlusTypeElab_90;
														VAL branch_StackTypePart_91;
														if (v88) {
															TUP* v92;
															TUP* v93;
															VAL v94 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang(v82, in_ZPlusTypeElab_2, &v92, &v93);
															VAL v95 = mtw_mirth_type_StackTypePart_Cons(v94);
															branch_StackTypePart_91 = v95;
															branch_ZPlusTypeElab_90 = v93;
															branch_ZPlusMirth_89 = v92;
														} else {
															uint64_t v96 = value_u64(in_ZPlusTypeElab_2->cells[1]);
															STR* v97;
															STRLIT(v97, "Expected type, got unknown token.", 33);
															TUP* v98;
															mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v82, v96, v97, &v98);
															uint64_t v99 = value_u64(in_ZPlusTypeElab_2->cells[1]);
															TUP* v100;
															uint64_t v101 = mw_mirth_token_Token_next(v98, v99, &v100);
															in_ZPlusTypeElab_2->cells[1] = MKU64(v101);
															VAL v102 = MKI64(0LL /* Error */);
															VAL v103 = mtw_mirth_type_StackTypePart_Cons(v102);
															branch_StackTypePart_91 = v103;
															branch_ZPlusTypeElab_90 = in_ZPlusTypeElab_2;
															branch_ZPlusMirth_89 = v100;
														}
														branch_StackTypePart_75 = branch_StackTypePart_91;
														branch_ZPlusTypeElab_74 = branch_ZPlusTypeElab_90;
														branch_ZPlusMirth_73 = branch_ZPlusMirth_89;
													} break;
													default: {
														do_panic(str_make("unexpected fallthrough in match\n", 32));
													}
												}
												branch_StackTypePart_65 = branch_StackTypePart_75;
												branch_ZPlusTypeElab_64 = branch_ZPlusTypeElab_74;
												branch_ZPlusMirth_63 = branch_ZPlusMirth_73;
											}
											branch_StackTypePart_54 = branch_StackTypePart_65;
											branch_ZPlusTypeElab_53 = branch_ZPlusTypeElab_64;
											branch_ZPlusMirth_52 = branch_ZPlusMirth_63;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_StackTypePart_43 = branch_StackTypePart_54;
									branch_ZPlusTypeElab_42 = branch_ZPlusTypeElab_53;
									branch_ZPlusMirth_41 = branch_ZPlusMirth_52;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							branch_StackTypePart_32 = branch_StackTypePart_43;
							branch_ZPlusTypeElab_31 = branch_ZPlusTypeElab_42;
							branch_ZPlusMirth_30 = branch_ZPlusMirth_41;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackTypePart_21 = branch_StackTypePart_32;
					branch_ZPlusTypeElab_20 = branch_ZPlusTypeElab_31;
					branch_ZPlusMirth_19 = branch_ZPlusMirth_30;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_StackTypePart_11 = branch_StackTypePart_21;
			branch_ZPlusTypeElab_10 = branch_ZPlusTypeElab_20;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_StackTypePart_11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v8;
	uint64_t v9 = mw_mirth_token_Token_next(in_ZPlusMirth_1, v7, &v8);
	uint64_t v10 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v11;
	uint64_t v12 = mw_mirth_token_Token_argsZ_1(v8, v10, &v11);
	in_ZPlusTypeElab_2->cells[1] = MKU64(v12);
	TUP* v13;
	bool v14 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v11, in_Label_3, &v13);
	TUP* branch_ZPlusMirth_15;
	TUP* branch_ZPlusTypeElab_16;
	VAL branch_StackTypePart_17;
	if (v14) {
		TUP* v18;
		TUP* v19;
		VAL v20 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang(v13, in_ZPlusTypeElab_2, &v18, &v19);
		VAL v21 = mtw_mirth_type_StackTypePart_WithLabel(v20, in_Label_3);
		branch_StackTypePart_17 = v21;
		branch_ZPlusTypeElab_16 = v19;
		branch_ZPlusMirth_15 = v18;
	} else {
		TUP* v22;
		TUP* v23;
		VAL v24 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(v13, in_ZPlusTypeElab_2, &v22, &v23);
		VAL v25 = mtw_mirth_type_StackTypePart_ConsLabel(v24, in_Label_3);
		branch_StackTypePart_17 = v25;
		branch_ZPlusTypeElab_16 = v23;
		branch_ZPlusMirth_15 = v22;
	}
	branch_ZPlusTypeElab_16->cells[1] = MKU64(v9);
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_16;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_15;
	return branch_StackTypePart_17;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	VAL v7 = mw_mirth_type_Type_STACK();
	TUP* v8;
	TUP* v9;
	VAL v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	VAL branch_StackType_11;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
			VAL v13 = mtw_mirth_type_StackType_Var(value_u64(v12));
			branch_StackType_11 = v13;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* Error */);
			branch_StackType_11 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return branch_StackType_11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	VAL v7 = mw_mirth_type_Type_TYPE();
	TUP* v8;
	TUP* v9;
	VAL v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	VAL v11 = mw_std_maybe_Maybe_1_ifZAsk_2_sp81(v10);
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	VAL v7 = mw_mirth_type_Type_RESOURCE();
	TUP* v8;
	TUP* v9;
	VAL v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	VAL v11 = mw_std_maybe_Maybe_1_ifZAsk_2_sp81(v10);
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusTypeElab_6) {
	uint64_t v8 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v9;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, v8, &v9);
	VAL v10 = in_ZPlusTypeElab_2->cells[0];
	incref(v10);
	TUP* v11;
	VAL v12 = mw_mirth_var_Ctx_lookup(v9, in_Name_3, v10, &v11);
	TUP* branch_ZPlusMirth_13;
	TUP* branch_ZPlusTypeElab_14;
	VAL branch_Maybe_15;
	switch (get_data_tag(v12)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
			incref(v16);
			TUP* v17;
			VAL v18 = mw_mirth_var_Var_type(v11, value_u64(v16), &v17);
			TUP* v19;
			VAL v20 = mw_mirth_type_Type_unifyZBang(v17, in_Type_4, v18, &v19);
			decref(v20);
			VAL v21 = mtw_std_maybe_Maybe_1_Some(v16);
			branch_Maybe_15 = v21;
			branch_ZPlusTypeElab_14 = in_ZPlusTypeElab_2;
			branch_ZPlusMirth_13 = v19;
		} break;
		case 0LL: { // None
			bool v22 = value_bool(in_ZPlusTypeElab_2->cells[3]);
			TUP* branch_ZPlusMirth_23;
			TUP* branch_ZPlusTypeElab_24;
			VAL branch_Maybe_25;
			if (v22) {
				VAL v26 = in_ZPlusTypeElab_2->cells[0];
				incref(v26);
				TUP* v27;
				uint64_t v28 = mw_mirth_var_Var_NewZBang(v11, in_Type_4, in_Name_3, &v27);
				VAL v29 = mw_mirth_var_Ctx_new(v26, v28);
				VAL v30 = in_ZPlusTypeElab_2->cells[0];
				decref(v30);
				in_ZPlusTypeElab_2->cells[0] = v29;
				VAL v31 = mtw_std_maybe_Maybe_1_Some(MKU64(v28));
				branch_Maybe_25 = v31;
				branch_ZPlusTypeElab_24 = in_ZPlusTypeElab_2;
				branch_ZPlusMirth_23 = v27;
			} else {
				STR* v32;
				STRLIT(v32, "Implicit type variable not allowed here.", 40);
				TUP* v33;
				mw_mirth_mirth_ZPlusMirth_errorZBang(v11, v32, &v33);
				decref(in_Type_4);
				VAL v34 = MKI64(0LL /* None */);
				branch_Maybe_25 = v34;
				branch_ZPlusTypeElab_24 = in_ZPlusTypeElab_2;
				branch_ZPlusMirth_23 = v33;
			}
			branch_Maybe_15 = branch_Maybe_25;
			branch_ZPlusTypeElab_14 = branch_ZPlusTypeElab_24;
			branch_ZPlusMirth_13 = branch_ZPlusMirth_23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v35 = value_u64(branch_ZPlusTypeElab_14->cells[1]);
	TUP* v36;
	mw_mirth_token_Token_argsZ_0(branch_ZPlusMirth_13, v35, &v36);
	uint64_t v37 = value_u64(branch_ZPlusTypeElab_14->cells[1]);
	uint64_t v38 = mw_mirth_token_Token_succ(v37);
	branch_ZPlusTypeElab_14->cells[1] = MKU64(v38);
	*out_ZPlusTypeElab_6 = branch_ZPlusTypeElab_14;
	*out_ZPlusMirth_5 = v36;
	return branch_Maybe_15;
}
static VAL mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Either_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5, VAL *out_List_7) {
	bool v8 = false;
	bool v9 = false;
	uint64_t v10 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	STR* v11;
	STRLIT(v11, "type", 4);
	TUP* v12;
	TUP* v13;
	mw_mirth_elab_ZPlusResolveDef_BeginZBang(v11, v10, in_Either_3, v9, v8, in_ZPlusMirth_1, &v12, &v13);
	VAL v14 = v13->cells[3];
	incref(v14);
	VAL v15 = MKI64(0LL /* Nil */);
	VAL v16 = MKI64(0LL /* Nil */);
	bool v17 = true;
	TUP* v18 = v12;
	TUP* v19 = v13;
	VAL v20 = v15;
	VAL v21 = v16;
	VAL v22 = v14;
	bool v23 = v17;
	bool v24 = v17;
	while (v24) {
		TUP* v25 = v18;
		TUP* v26 = v19;
		VAL v27 = v20;
		VAL v28 = v21;
		VAL v29 = v22;
		bool v30 = v23;
		TUP* branch_ZPlusMirth_31;
		VAL branch_z_x1_32;
		VAL branch_List_33;
		VAL branch_List_34;
		VAL branch_List_35;
		bool branch_Bool_36;
		switch (get_data_tag(v29)) {
			case 1LL: { // Cons
				VAL v37;
				VAL v38 = mtp_std_list_List_1_Cons(v29, &v37);
				incref(v38);
				TUP* v39;
				bool v40 = mw_mirth_def_Def_definesZ_aZ_typeZAsk(v25, v38, &v39);
				TUP* branch_ZPlusMirth_41;
				VAL branch_z_x1_42;
				VAL branch_Either_43;
				if (v40) {
					VAL v44 = mtw_std_either_Either_2_Right(v38);
					branch_Either_43 = v44;
					branch_z_x1_42 = MKTUP(v26, 7);
					branch_ZPlusMirth_41 = v39;
				} else {
					VAL v45 = mtw_mirth_elab_RejectedDef_WrongSort(v38);
					VAL v46 = mtw_std_either_Either_2_Left(v45);
					branch_Either_43 = v46;
					branch_z_x1_42 = MKTUP(v26, 7);
					branch_ZPlusMirth_41 = v39;
				}
				TUP* branch_ZPlusMirth_47;
				VAL branch_z_x1_48;
				VAL branch_List_49;
				VAL branch_List_50;
				switch (get_data_tag(branch_Either_43)) {
					case 0LL: { // Left
						VAL v51 = mtp_std_either_Either_2_Left(branch_Either_43);
						VAL v52 = mw_std_list_List_1_cons(v51, v27);
						branch_List_50 = v28;
						branch_List_49 = v52;
						branch_z_x1_48 = branch_z_x1_42;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_41;
					} break;
					case 1LL: { // Right
						VAL v53 = mtp_std_either_Either_2_Right(branch_Either_43);
						VAL v54 = mw_std_list_List_1_cons(v53, v28);
						branch_List_50 = v54;
						branch_List_49 = v27;
						branch_z_x1_48 = branch_z_x1_42;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_41;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v55 = true;
				branch_Bool_36 = v55;
				branch_List_35 = v37;
				branch_List_34 = branch_List_50;
				branch_List_33 = branch_List_49;
				branch_z_x1_32 = branch_z_x1_48;
				branch_ZPlusMirth_31 = branch_ZPlusMirth_47;
			} break;
			case 0LL: { // Nil
				VAL v56 = MKI64(0LL /* Nil */);
				bool v57 = false;
				branch_Bool_36 = v57;
				branch_List_35 = v56;
				branch_List_34 = v28;
				branch_List_33 = v27;
				branch_z_x1_32 = MKTUP(v26, 7);
				branch_ZPlusMirth_31 = v25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_36;
		v23 = branch_Bool_36;
		v22 = branch_List_35;
		v21 = branch_List_34;
		v20 = branch_List_33;
		v19 = value_tup(branch_z_x1_32, 7);
		v18 = branch_ZPlusMirth_31;
	}
	decref(v22);
	VAL v58 = mw_std_list_List_1_reverse(v20);
	VAL v59 = mw_std_list_List_1_reverse(v21);
	VAL v60 = v19->cells[4];
	incref(v60);
	VAL v61 = mw_std_list_List_1_cat(v58, v60);
	VAL v62 = v19->cells[4];
	decref(v62);
	v19->cells[4] = v61;
	VAL v63 = v19->cells[3];
	decref(v63);
	v19->cells[3] = v59;
	TUP* v64;
	TUP* v65;
	mw_mirth_elab_ZPlusResolveDef_filterZ_arity(v18, v19, &v64, &v65);
	TUP* v66;
	TUP* v67;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v64, v65, &v66, &v67);
	VAL v68 = MKI64(0LL /* Nil */);
	TUP* v69;
	TUP* v70;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v66, v67, v68, &v69, &v70);
	TUP* v71;
	VAL v72 = mw_mirth_elab_ZPlusResolveDef_endZBang(v69, v70, &v71);
	VAL branch_Type_73;
	TUP* branch_ZPlusMirth_74;
	VAL branch_List_75;
	TUP* branch_ZPlusTypeElab_76;
	switch (get_data_tag(v72)) {
		case 1LL: { // Some
			VAL v77 = mtp_std_maybe_Maybe_1_Some(v72);
			VAL branch_Type_78;
			TUP* branch_ZPlusMirth_79;
			VAL branch_List_80;
			TUP* branch_ZPlusTypeElab_81;
			switch (get_data_tag(v77)) {
				case 3LL: { // Data
					uint64_t v82 = mtp_mirth_def_Def_Data(v77);
					VAL v83 = mtw_mirth_type_Type_Data(v82);
					TUP* v84;
					VAL v85 = mw_mirth_data_Data_params(v71, v82, &v84);
					branch_ZPlusTypeElab_81 = in_ZPlusTypeElab_2;
					branch_List_80 = v85;
					branch_ZPlusMirth_79 = v84;
					branch_Type_78 = v83;
				} break;
				case 4LL: { // Table
					uint64_t v86 = mtp_mirth_def_Def_Table(v77);
					VAL v87 = mtw_mirth_type_Type_Table(v86);
					VAL v88 = MKI64(0LL /* Nil */);
					branch_ZPlusTypeElab_81 = in_ZPlusTypeElab_2;
					branch_List_80 = v88;
					branch_ZPlusMirth_79 = v71;
					branch_Type_78 = v87;
				} break;
				case 5LL: { // Type
					uint64_t v89 = mtp_mirth_def_Def_Type(v77);
					TUP* v90;
					VAL v91 = mw_mirth_typedef_TypeDef_target(v71, v89, &v90);
					TUP* v92;
					VAL v93 = mw_mirth_typedef_TypeDef_params(v90, v89, &v92);
					branch_ZPlusTypeElab_81 = in_ZPlusTypeElab_2;
					branch_List_80 = v93;
					branch_ZPlusMirth_79 = v92;
					branch_Type_78 = v91;
				} break;
				default: {
					decref(v77);
					uint64_t v94 = value_u64(in_ZPlusTypeElab_2->cells[1]);
					STR* v95;
					STRLIT(v95, "compiler bug: resolve-type-con-name! doesn't understand type", 60);
					TUP* v96;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v71, v94, v95, &v96);
					VAL v97 = MKI64(0LL /* Error */);
					VAL v98 = MKI64(0LL /* Nil */);
					branch_ZPlusTypeElab_81 = in_ZPlusTypeElab_2;
					branch_List_80 = v98;
					branch_ZPlusMirth_79 = v96;
					branch_Type_78 = v97;
				} break;
			}
			branch_ZPlusTypeElab_76 = branch_ZPlusTypeElab_81;
			branch_List_75 = branch_List_80;
			branch_ZPlusMirth_74 = branch_ZPlusMirth_79;
			branch_Type_73 = branch_Type_78;
		} break;
		case 0LL: { // None
			VAL v99 = MKI64(0LL /* Error */);
			VAL v100 = MKI64(0LL /* Nil */);
			branch_ZPlusTypeElab_76 = in_ZPlusTypeElab_2;
			branch_List_75 = v100;
			branch_ZPlusMirth_74 = v71;
			branch_Type_73 = v99;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_7 = branch_List_75;
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_76;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_74;
	return branch_Type_73;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Either_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	incref(in_Either_3);
	VAL v7 = mw_std_either_Either_2_leftZAsk(in_Either_3);
	TUP* branch_ZPlusMirth_8;
	bool branch_Bool_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v11;
			STR* v12 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v10), &v11);
			STR* v13;
			STRLIT(v13, "Mut", 3);
			bool v14 = (str_cmp(v12, v13) == 0);
			branch_Bool_9 = v14;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			bool v15 = false;
			branch_Bool_9 = v15;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_16;
	VAL branch_Type_17;
	TUP* branch_ZPlusTypeElab_18;
	if (branch_Bool_9) {
		decref(in_Either_3);
		uint64_t v19 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		TUP* v20;
		uint64_t v21 = mw_mirth_token_Token_next(branch_ZPlusMirth_8, v19, &v20);
		uint64_t v22 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		TUP* v23;
		uint64_t v24 = mw_mirth_token_Token_argsZ_1(v20, v22, &v23);
		in_ZPlusTypeElab_2->cells[1] = MKU64(v24);
		TUP* v25;
		TUP* v26;
		VAL v27 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(v23, in_ZPlusTypeElab_2, &v25, &v26);
		VAL v28 = mtw_mirth_type_Type_Mut(v27);
		v26->cells[1] = MKU64(v21);
		branch_ZPlusTypeElab_18 = v26;
		branch_Type_17 = v28;
		branch_ZPlusMirth_16 = v25;
	} else {
		TUP* v29;
		TUP* v30;
		VAL v31;
		VAL v32 = mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang(branch_ZPlusMirth_8, in_ZPlusTypeElab_2, in_Either_3, &v29, &v30, &v31);
		TUP* v33;
		TUP* v34;
		VAL v35 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang(v29, v30, v32, v31, &v33, &v34);
		uint64_t v36 = value_u64(v34->cells[1]);
		TUP* v37;
		uint64_t v38 = mw_mirth_token_Token_next(v33, v36, &v37);
		v34->cells[1] = MKU64(v38);
		branch_ZPlusTypeElab_18 = v34;
		branch_Type_17 = v35;
		branch_ZPlusMirth_16 = v37;
	}
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_18;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_16;
	return branch_Type_17;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Either_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	TUP* v7;
	TUP* v8;
	VAL v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Either_3, &v7, &v8);
	*out_ZPlusTypeElab_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return v9;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Type_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusTypeElab_6) {
	uint64_t v8 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v9;
	VAL v10 = mw_mirth_token_Token_args(in_ZPlusMirth_1, v8, &v9);
	bool v11 = true;
	TUP* v12 = v9;
	VAL v13 = in_Type_3;
	VAL v14 = in_List_4;
	TUP* v15 = in_ZPlusTypeElab_2;
	VAL v16 = v10;
	bool v17 = v11;
	bool v18 = v11;
	while (v18) {
		TUP* v19 = v12;
		VAL v20 = v13;
		VAL v21 = v14;
		TUP* v22 = v15;
		VAL v23 = v16;
		bool v24 = v17;
		TUP* branch_ZPlusMirth_25;
		VAL branch_Type_26;
		VAL branch_List_27;
		TUP* branch_ZPlusTypeElab_28;
		VAL branch_List_29;
		bool branch_Bool_30;
		switch (get_data_tag(v23)) {
			case 1LL: { // Cons
				VAL v31;
				VAL v32 = mtp_std_list_List_1_Cons(v23, &v31);
				uint64_t v33 = value_u64(v22->cells[1]);
				v22->cells[1] = v32;
				TUP* v34;
				TUP* v35;
				VAL v36;
				VAL v37 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_appZBang(v19, v22, v20, v21, &v34, &v35, &v36);
				v35->cells[1] = MKU64(v33);
				bool v38 = true;
				branch_Bool_30 = v38;
				branch_List_29 = v31;
				branch_ZPlusTypeElab_28 = v35;
				branch_List_27 = v36;
				branch_Type_26 = v37;
				branch_ZPlusMirth_25 = v34;
			} break;
			case 0LL: { // Nil
				VAL v39 = MKI64(0LL /* Nil */);
				bool v40 = false;
				branch_Bool_30 = v40;
				branch_List_29 = v39;
				branch_ZPlusTypeElab_28 = v22;
				branch_List_27 = v21;
				branch_Type_26 = v20;
				branch_ZPlusMirth_25 = v19;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_30;
		v17 = branch_Bool_30;
		v16 = branch_List_29;
		v15 = branch_ZPlusTypeElab_28;
		v14 = branch_List_27;
		v13 = branch_Type_26;
		v12 = branch_ZPlusMirth_25;
	}
	decref(v16);
	decref(v14);
	*out_ZPlusTypeElab_6 = v15;
	*out_ZPlusMirth_5 = v12;
	return v13;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_appZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, VAL in_Type_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusTypeElab_6, VAL *out_List_8) {
	VAL v9;
	VAL v10 = mw_std_list_List_1_uncons(in_List_4, &v9);
	TUP* branch_ZPlusMirth_11;
	TUP* branch_ZPlusTypeElab_12;
	VAL branch_Type_13;
	VAL branch_List_14;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(v10);
			TUP* v16;
			VAL v17 = mw_mirth_var_Var_sortZAsk(in_ZPlusMirth_1, value_u64(v15), &v16);
			TUP* branch_ZPlusMirth_18;
			TUP* branch_ZPlusTypeElab_19;
			VAL branch_z_x1_20;
			switch (get_data_tag(v17)) {
				case 1LL: { // Some
					VAL v21 = mtp_std_maybe_Maybe_1_Some(v17);
					branch_z_x1_20 = v21;
					branch_ZPlusTypeElab_19 = in_ZPlusTypeElab_2;
					branch_ZPlusMirth_18 = v16;
				} break;
				case 0LL: { // None
					uint64_t v22 = value_u64(in_ZPlusTypeElab_2->cells[1]);
					STR* v23;
					STRLIT(v23, "Type parameter has unknown sort.", 32);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v16, v22, v23);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL branch_Type_26;
			VAL branch_List_27;
			TUP* branch_ZPlusMirth_28;
			TUP* branch_ZPlusTypeElab_29;
			VAL branch_Type_30;
			switch (get_data_tag(branch_z_x1_20)) {
				case 1LL: { // Resource
					TUP* v31;
					TUP* v32;
					VAL v33 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang(branch_ZPlusMirth_18, branch_ZPlusTypeElab_19, &v31, &v32);
					VAL v34 = mw_mirth_type_Resource_ZToType(v33);
					branch_Type_30 = v34;
					branch_ZPlusTypeElab_29 = v32;
					branch_ZPlusMirth_28 = v31;
					branch_List_27 = v9;
					branch_Type_26 = in_Type_3;
				} break;
				case 2LL: { // Stack
					VAL v35 = mw_mirth_type_T0();
					TUP* v36;
					TUP* v37;
					VAL v38 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(branch_ZPlusMirth_18, branch_ZPlusTypeElab_19, v35, &v36, &v37);
					VAL v39 = mw_mirth_type_StackType_ZToType(v38);
					branch_Type_30 = v39;
					branch_ZPlusTypeElab_29 = v37;
					branch_ZPlusMirth_28 = v36;
					branch_List_27 = v9;
					branch_Type_26 = in_Type_3;
				} break;
				case 0LL: { // Type
					TUP* v40;
					TUP* v41;
					VAL v42 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(branch_ZPlusMirth_18, branch_ZPlusTypeElab_19, &v40, &v41);
					branch_Type_30 = v42;
					branch_ZPlusTypeElab_29 = v41;
					branch_ZPlusMirth_28 = v40;
					branch_List_27 = v9;
					branch_Type_26 = in_Type_3;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v43 = mtw_mirth_type_Type_App(branch_Type_26, branch_Type_30);
			branch_List_14 = branch_List_27;
			branch_Type_13 = v43;
			branch_ZPlusTypeElab_12 = branch_ZPlusTypeElab_29;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_28;
		} break;
		case 0LL: { // None
			decref(v9);
			TUP* v44;
			VAL v45 = mw_mirth_type_Type_tyconZAsk(in_ZPlusMirth_1, in_Type_3, &v44);
			TUP* branch_ZPlusMirth_46;
			TUP* branch_ZPlusTypeElab_47;
			switch (get_data_tag(v45)) {
				case 1LL: { // Some
					VAL v48 = mtp_std_maybe_Maybe_1_Some(v45);
					uint64_t v49 = value_u64(in_ZPlusTypeElab_2->cells[1]);
					STR* v50;
					STRLIT(v50, "", 0);
					STR* v51;
					STRLIT(v51, "Too many type arguments to ", 27);
					STR* v52;
					mw_std_str_ZPlusStr_pushZ_strZBang(v51, v50, &v52);
					TUP* v53;
					STR* v54;
					mw_mirth_tycon_Tycon_qnameZThen(v44, v52, v48, &v53, &v54);
					TUP* v55;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v53, v49, v54, &v55);
					branch_ZPlusTypeElab_47 = in_ZPlusTypeElab_2;
					branch_ZPlusMirth_46 = v55;
				} break;
				case 0LL: { // None
					branch_ZPlusTypeElab_47 = in_ZPlusTypeElab_2;
					branch_ZPlusMirth_46 = v44;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v56 = MKI64(0LL /* Error */);
			VAL v57 = MKI64(0LL /* Nil */);
			branch_List_14 = v57;
			branch_Type_13 = v56;
			branch_ZPlusTypeElab_12 = branch_ZPlusTypeElab_47;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_46;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_8 = branch_List_14;
	*out_ZPlusTypeElab_6 = branch_ZPlusTypeElab_12;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_11;
	return branch_Type_13;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusTypeElab_5) {
	bool v7 = value_bool(in_ZPlusTypeElab_2->cells[2]);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusTypeElab_9;
	VAL branch_Type_10;
	if (v7) {
		uint64_t v11 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		TUP* v12;
		mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, v11, &v12);
		VAL v13 = mtw_mirth_type_Type_Hole(in_Name_3);
		branch_Type_10 = v13;
		branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_8 = v12;
	} else {
		uint64_t v14 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		STR* v15;
		STRLIT(v15, "type holes are not allowed here", 31);
		TUP* v16;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusMirth_1, v14, v15, &v16);
		VAL v17 = MKI64(0LL /* Error */);
		branch_Type_10 = v17;
		branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_8 = v16;
	}
	uint64_t v18 = value_u64(branch_ZPlusTypeElab_9->cells[1]);
	TUP* v19;
	uint64_t v20 = mw_mirth_token_Token_next(branch_ZPlusMirth_8, v18, &v19);
	branch_ZPlusTypeElab_9->cells[1] = MKU64(v20);
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_9;
	*out_ZPlusMirth_4 = v19;
	return branch_Type_10;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4) {
	bool v6 = value_bool(in_ZPlusTypeElab_2->cells[2]);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusTypeElab_8;
	VAL branch_Type_9;
	if (v6) {
		uint64_t v10 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		TUP* v11;
		mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, v10, &v11);
		VAL v12 = MKI64(1LL /* Ignore */);
		branch_Type_9 = v12;
		branch_ZPlusTypeElab_8 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_7 = v11;
	} else {
		uint64_t v13 = value_u64(in_ZPlusTypeElab_2->cells[1]);
		STR* v14;
		STRLIT(v14, "underscore is not allowed here", 30);
		TUP* v15;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusMirth_1, v13, v14, &v15);
		VAL v16 = MKI64(0LL /* Error */);
		branch_Type_9 = v16;
		branch_ZPlusTypeElab_8 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_7 = v15;
	}
	uint64_t v17 = value_u64(branch_ZPlusTypeElab_8->cells[1]);
	TUP* v18;
	uint64_t v19 = mw_mirth_token_Token_next(branch_ZPlusMirth_7, v17, &v18);
	branch_ZPlusTypeElab_8->cells[1] = MKU64(v19);
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_8;
	*out_ZPlusMirth_3 = v18;
	return branch_Type_9;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusTypeElab_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v7;
	uint64_t v8 = mw_mirth_token_Token_next(in_ZPlusMirth_1, v6, &v7);
	uint64_t v9 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v10;
	uint64_t v11 = mw_mirth_token_Token_argsZ_1(v7, v9, &v10);
	in_ZPlusTypeElab_2->cells[1] = MKU64(v11);
	uint64_t v12 = value_u64(in_ZPlusTypeElab_2->cells[1]);
	TUP* v13;
	bool v14 = mw_mirth_token_Token_sigZ_hasZ_vdashZ_orZ_dashesZAsk(v10, v12, &v13);
	TUP* branch_ZPlusMirth_15;
	TUP* branch_ZPlusTypeElab_16;
	VAL branch_Type_17;
	if (v14) {
		VAL v18 = mw_mirth_type_T0();
		TUP* v19;
		TUP* v20;
		TUP* v21 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v13, in_ZPlusTypeElab_2, v18, &v19, &v20);
		VAL v22 = mtw_mirth_type_Type_Arrow(v21);
		branch_Type_17 = v22;
		branch_ZPlusTypeElab_16 = v20;
		branch_ZPlusMirth_15 = v19;
	} else {
		VAL v23 = mw_mirth_type_T0();
		TUP* v24;
		TUP* v25;
		VAL v26 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v13, in_ZPlusTypeElab_2, v23, &v24, &v25);
		VAL v27 = mw_mirth_type_StackType_ZToType(v26);
		branch_Type_17 = v27;
		branch_ZPlusTypeElab_16 = v25;
		branch_ZPlusMirth_15 = v24;
	}
	branch_ZPlusTypeElab_16->cells[1] = MKU64(v8);
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_16;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_15;
	return branch_Type_17;
}
static void mw_mirth_elab_ZPlusResolveDef_rdrop (TUP* in_ZPlusResolveDef_1) {
	STR* v2;
	uint64_t v3;
	VAL v4;
	VAL v5;
	VAL v6;
	bool v7;
	bool v8;
	mtp_mirth_elab_ZPlusResolveDef_ZPlusResolveDef(in_ZPlusResolveDef_1, &v2, &v3, &v4, &v5, &v6, &v7, &v8);
	decref(v4);
	decref(MKSTR(v2));
	decref(v6);
	decref(v5);
}
static void mw_mirth_elab_ZPlusResolveDef_BeginZBang (STR* in_Str_1, uint64_t in_Token_2, VAL in_Either_3, bool in_Bool_4, bool in_Bool_5, TUP* in_ZPlusMirth_6, TUP* *out_ZPlusMirth_7, TUP* *out_ZPlusResolveDef_8) {
	STR* branch_Str_9;
	uint64_t branch_Token_10;
	bool branch_Bool_11;
	TUP* branch_ZPlusMirth_12;
	bool branch_Bool_13;
	VAL branch_Either_14;
	uint64_t branch_Name_15;
	if (in_Bool_4) {
		incref(in_Either_3);
		VAL v16 = mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk(in_Either_3);
		TUP* branch_ZPlusMirth_17;
		uint64_t branch_Token_18;
		VAL branch_z_x1_19;
		switch (get_data_tag(v16)) {
			case 1LL: { // Some
				VAL v20 = mtp_std_maybe_Maybe_1_Some(v16);
				branch_z_x1_19 = v20;
				branch_Token_18 = in_Token_2;
				branch_ZPlusMirth_17 = in_ZPlusMirth_6;
			} break;
			case 0LL: { // None
				STR* v21;
				STRLIT(v21, "Expected a namespace.", 21);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_6, in_Token_2, v21);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Name_15 = value_u64(branch_z_x1_19);
		branch_Either_14 = in_Either_3;
		branch_Bool_13 = in_Bool_4;
		branch_ZPlusMirth_12 = branch_ZPlusMirth_17;
		branch_Bool_11 = in_Bool_5;
		branch_Token_10 = branch_Token_18;
		branch_Str_9 = in_Str_1;
	} else {
		incref(in_Either_3);
		uint64_t v24 = mw_mirth_token_nameZDivdnameZ_lastZ_name(in_Either_3);
		branch_Name_15 = v24;
		branch_Either_14 = in_Either_3;
		branch_Bool_13 = in_Bool_4;
		branch_ZPlusMirth_12 = in_ZPlusMirth_6;
		branch_Bool_11 = in_Bool_5;
		branch_Token_10 = in_Token_2;
		branch_Str_9 = in_Str_1;
	}
	TUP* v25;
	VAL v26 = mw_mirth_name_Name_defs(branch_ZPlusMirth_12, branch_Name_15, &v25);
	VAL v27 = MKI64(0LL /* Nil */);
	TUP* v28;
	mtw_mirth_elab_ZPlusResolveDef_ZPlusResolveDef(branch_Str_9, branch_Token_10, branch_Either_14, v26, v27, branch_Bool_13, branch_Bool_11, &v28);
	*out_ZPlusResolveDef_8 = v28;
	*out_ZPlusMirth_7 = v25;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_arity (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusResolveDef_4) {
	uint64_t v5 = value_u64(in_ZPlusResolveDef_2->cells[1]);
	TUP* v6;
	INT v7 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, v5, &v6);
	VAL v8 = in_ZPlusResolveDef_2->cells[3];
	incref(v8);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10 = MKI64(0LL /* Nil */);
	bool v11 = true;
	TUP* v12 = v6;
	TUP* v13 = in_ZPlusResolveDef_2;
	INT v14 = v7;
	VAL v15 = v9;
	VAL v16 = v10;
	VAL v17 = v8;
	bool v18 = v11;
	bool v19 = v11;
	while (v19) {
		TUP* v20 = v12;
		TUP* v21 = v13;
		INT v22 = v14;
		VAL v23 = v15;
		VAL v24 = v16;
		VAL v25 = v17;
		bool v26 = v18;
		INT branch_Nat_27;
		TUP* branch_ZPlusMirth_28;
		VAL branch_z_x1_29;
		VAL branch_List_30;
		VAL branch_List_31;
		VAL branch_List_32;
		bool branch_Bool_33;
		switch (get_data_tag(v25)) {
			case 1LL: { // Cons
				VAL v34;
				VAL v35 = mtp_std_list_List_1_Cons(v25, &v34);
				incref(MKINT(v22));
				incref(v35);
				TUP* v36;
				TUP* v37 = mw_mirth_def_Def_qnameZ_hard(v20, v35, &v36);
				INT v38 = value_int(v37->cells[2]);
				incref(MKINT(v38));
				decref(MKTUP(v37, 3));
				bool v39 = mw_mirth_elab_arityZ_compatibleZAsk(v22, v38);
				INT branch_Nat_40;
				TUP* branch_ZPlusMirth_41;
				VAL branch_z_x1_42;
				VAL branch_Either_43;
				if (v39) {
					VAL v44 = mtw_std_either_Either_2_Right(v35);
					branch_Either_43 = v44;
					branch_z_x1_42 = MKTUP(v21, 7);
					branch_ZPlusMirth_41 = v36;
					branch_Nat_40 = v22;
				} else {
					VAL v45 = mtw_mirth_elab_RejectedDef_WrongArity(v35);
					VAL v46 = mtw_std_either_Either_2_Left(v45);
					branch_Either_43 = v46;
					branch_z_x1_42 = MKTUP(v21, 7);
					branch_ZPlusMirth_41 = v36;
					branch_Nat_40 = v22;
				}
				INT branch_Nat_47;
				TUP* branch_ZPlusMirth_48;
				VAL branch_z_x1_49;
				VAL branch_List_50;
				VAL branch_List_51;
				switch (get_data_tag(branch_Either_43)) {
					case 0LL: { // Left
						VAL v52 = mtp_std_either_Either_2_Left(branch_Either_43);
						VAL v53 = mw_std_list_List_1_cons(v52, v23);
						branch_List_51 = v24;
						branch_List_50 = v53;
						branch_z_x1_49 = branch_z_x1_42;
						branch_ZPlusMirth_48 = branch_ZPlusMirth_41;
						branch_Nat_47 = branch_Nat_40;
					} break;
					case 1LL: { // Right
						VAL v54 = mtp_std_either_Either_2_Right(branch_Either_43);
						VAL v55 = mw_std_list_List_1_cons(v54, v24);
						branch_List_51 = v55;
						branch_List_50 = v23;
						branch_z_x1_49 = branch_z_x1_42;
						branch_ZPlusMirth_48 = branch_ZPlusMirth_41;
						branch_Nat_47 = branch_Nat_40;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v56 = true;
				branch_Bool_33 = v56;
				branch_List_32 = v34;
				branch_List_31 = branch_List_51;
				branch_List_30 = branch_List_50;
				branch_z_x1_29 = branch_z_x1_49;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_48;
				branch_Nat_27 = branch_Nat_47;
			} break;
			case 0LL: { // Nil
				VAL v57 = MKI64(0LL /* Nil */);
				bool v58 = false;
				branch_Bool_33 = v58;
				branch_List_32 = v57;
				branch_List_31 = v24;
				branch_List_30 = v23;
				branch_z_x1_29 = MKTUP(v21, 7);
				branch_ZPlusMirth_28 = v20;
				branch_Nat_27 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_33;
		v18 = branch_Bool_33;
		v17 = branch_List_32;
		v16 = branch_List_31;
		v15 = branch_List_30;
		v14 = branch_Nat_27;
		v13 = value_tup(branch_z_x1_29, 7);
		v12 = branch_ZPlusMirth_28;
	}
	decref(v17);
	VAL v59 = mw_std_list_List_1_reverse(v15);
	VAL v60 = mw_std_list_List_1_reverse(v16);
	VAL v61 = v13->cells[4];
	incref(v61);
	VAL v62 = mw_std_list_List_1_cat(v59, v61);
	VAL v63 = v13->cells[4];
	decref(v63);
	v13->cells[4] = v62;
	VAL v64 = v13->cells[3];
	decref(v64);
	v13->cells[3] = v60;
	decref(MKINT(v14));
	*out_ZPlusResolveDef_4 = v13;
	*out_ZPlusMirth_3 = v12;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusResolveDef_4) {
	uint64_t v5 = value_u64(in_ZPlusResolveDef_2->cells[1]);
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_dnameZAsk(in_ZPlusMirth_1, v5, &v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusResolveDef_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v11 = in_ZPlusResolveDef_2->cells[3];
			incref(v11);
			VAL v12 = MKI64(0LL /* Nil */);
			VAL v13 = MKI64(0LL /* Nil */);
			bool v14 = true;
			TUP* v15 = v6;
			TUP* v16 = in_ZPlusResolveDef_2;
			VAL v17 = v10;
			VAL v18 = v12;
			VAL v19 = v13;
			VAL v20 = v11;
			bool v21 = v14;
			bool v22 = v14;
			while (v22) {
				TUP* v23 = v15;
				TUP* v24 = v16;
				VAL v25 = v17;
				VAL v26 = v18;
				VAL v27 = v19;
				VAL v28 = v20;
				bool v29 = v21;
				TUP* branch_DName_30;
				TUP* branch_ZPlusMirth_31;
				TUP* branch_ZPlusResolveDef_32;
				VAL branch_List_33;
				VAL branch_List_34;
				VAL branch_List_35;
				bool branch_Bool_36;
				switch (get_data_tag(v28)) {
					case 1LL: { // Cons
						VAL v37;
						VAL v38 = mtp_std_list_List_1_Cons(v28, &v37);
						incref(v25);
						incref(v38);
						TUP* v39;
						TUP* v40 = mw_mirth_def_Def_qnameZ_hard(v23, v38, &v39);
						TUP* v41;
						TUP* v42;
						VAL v43 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v39, v24, value_tup(v25, 2), v40, &v41, &v42);
						bool v44 = mw_std_list_List_1_emptyZAsk(v43);
						bool v45 = !v44;
						TUP* branch_DName_46;
						TUP* branch_ZPlusMirth_47;
						TUP* branch_ZPlusResolveDef_48;
						VAL branch_Either_49;
						if (v45) {
							VAL v50 = mtw_std_either_Either_2_Right(v38);
							branch_Either_49 = v50;
							branch_ZPlusResolveDef_48 = v42;
							branch_ZPlusMirth_47 = v41;
							branch_DName_46 = value_tup(v25, 2);
						} else {
							VAL v51 = mtw_mirth_elab_RejectedDef_WrongQualifier(v38);
							VAL v52 = mtw_std_either_Either_2_Left(v51);
							branch_Either_49 = v52;
							branch_ZPlusResolveDef_48 = v42;
							branch_ZPlusMirth_47 = v41;
							branch_DName_46 = value_tup(v25, 2);
						}
						TUP* branch_DName_53;
						TUP* branch_ZPlusMirth_54;
						TUP* branch_ZPlusResolveDef_55;
						VAL branch_List_56;
						VAL branch_List_57;
						switch (get_data_tag(branch_Either_49)) {
							case 0LL: { // Left
								VAL v58 = mtp_std_either_Either_2_Left(branch_Either_49);
								VAL v59 = mw_std_list_List_1_cons(v58, v26);
								branch_List_57 = v27;
								branch_List_56 = v59;
								branch_ZPlusResolveDef_55 = branch_ZPlusResolveDef_48;
								branch_ZPlusMirth_54 = branch_ZPlusMirth_47;
								branch_DName_53 = branch_DName_46;
							} break;
							case 1LL: { // Right
								VAL v60 = mtp_std_either_Either_2_Right(branch_Either_49);
								VAL v61 = mw_std_list_List_1_cons(v60, v27);
								branch_List_57 = v61;
								branch_List_56 = v26;
								branch_ZPlusResolveDef_55 = branch_ZPlusResolveDef_48;
								branch_ZPlusMirth_54 = branch_ZPlusMirth_47;
								branch_DName_53 = branch_DName_46;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						bool v62 = true;
						branch_Bool_36 = v62;
						branch_List_35 = v37;
						branch_List_34 = branch_List_57;
						branch_List_33 = branch_List_56;
						branch_ZPlusResolveDef_32 = branch_ZPlusResolveDef_55;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_54;
						branch_DName_30 = branch_DName_53;
					} break;
					case 0LL: { // Nil
						VAL v63 = MKI64(0LL /* Nil */);
						bool v64 = false;
						branch_Bool_36 = v64;
						branch_List_35 = v63;
						branch_List_34 = v27;
						branch_List_33 = v26;
						branch_ZPlusResolveDef_32 = v24;
						branch_ZPlusMirth_31 = v23;
						branch_DName_30 = value_tup(v25, 2);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v22 = branch_Bool_36;
				v21 = branch_Bool_36;
				v20 = branch_List_35;
				v19 = branch_List_34;
				v18 = branch_List_33;
				v17 = MKTUP(branch_DName_30, 2);
				v16 = branch_ZPlusResolveDef_32;
				v15 = branch_ZPlusMirth_31;
			}
			decref(v20);
			VAL v65 = mw_std_list_List_1_reverse(v18);
			VAL v66 = mw_std_list_List_1_reverse(v19);
			VAL v67 = v16->cells[4];
			incref(v67);
			VAL v68 = mw_std_list_List_1_cat(v65, v67);
			VAL v69 = v16->cells[4];
			decref(v69);
			v16->cells[4] = v68;
			VAL v70 = v16->cells[3];
			decref(v70);
			v16->cells[3] = v66;
			decref(v17);
			branch_ZPlusResolveDef_9 = v16;
			branch_ZPlusMirth_8 = v15;
		} break;
		case 0LL: { // None
			branch_ZPlusResolveDef_9 = in_ZPlusResolveDef_2;
			branch_ZPlusMirth_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusResolveDef_4 = branch_ZPlusResolveDef_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_roots (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusResolveDef_5) {
	VAL v6 = in_ZPlusResolveDef_2->cells[2];
	incref(v6);
	TUP* branch_ZPlusMirth_7;
	VAL branch_List_8;
	TUP* branch_ZPlusResolveDef_9;
	switch (get_data_tag(v6)) {
		case 0LL: { // Left
			VAL v10 = mtp_std_either_Either_2_Left(v6);
			VAL v11 = in_ZPlusResolveDef_2->cells[3];
			incref(v11);
			VAL v12 = MKI64(0LL /* Nil */);
			VAL v13 = MKI64(0LL /* Nil */);
			bool v14 = true;
			VAL v15 = v10;
			VAL v16 = in_List_3;
			TUP* v17 = in_ZPlusMirth_1;
			TUP* v18 = in_ZPlusResolveDef_2;
			VAL v19 = v12;
			VAL v20 = v13;
			VAL v21 = v11;
			bool v22 = v14;
			bool v23 = v14;
			while (v23) {
				VAL v24 = v15;
				VAL v25 = v16;
				TUP* v26 = v17;
				TUP* v27 = v18;
				VAL v28 = v19;
				VAL v29 = v20;
				VAL v30 = v21;
				bool v31 = v22;
				uint64_t branch_Name_32;
				TUP* branch_ZPlusMirth_33;
				TUP* branch_ZPlusResolveDef_34;
				VAL branch_List_35;
				VAL branch_List_36;
				VAL branch_List_37;
				VAL branch_List_38;
				bool branch_Bool_39;
				switch (get_data_tag(v30)) {
					case 1LL: { // Cons
						VAL v40;
						VAL v41 = mtp_std_list_List_1_Cons(v30, &v40);
						incref(v41);
						TUP* v42;
						TUP* v43 = mw_mirth_def_Def_qnameZ_hard(v26, v41, &v42);
						VAL v44 = v43->cells[0];
						incref(v44);
						decref(MKTUP(v43, 3));
						incref(v25);
						bool v45 = mw_std_list_List_1_member_sp5(v44, v25);
						TUP* branch_ZPlusMirth_46;
						VAL branch_Def_47;
						TUP* branch_ZPlusResolveDef_48;
						bool branch_Bool_49;
						if (v45) {
							bool v50 = true;
							branch_Bool_49 = v50;
							branch_ZPlusResolveDef_48 = v27;
							branch_Def_47 = v41;
							branch_ZPlusMirth_46 = v42;
						} else {
							uint64_t v51 = value_u64(v27->cells[1]);
							incref(v41);
							TUP* v52;
							bool v53 = mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk(v42, v51, v41, &v52);
							branch_Bool_49 = v53;
							branch_ZPlusResolveDef_48 = v27;
							branch_Def_47 = v41;
							branch_ZPlusMirth_46 = v52;
						}
						uint64_t branch_Name_54;
						TUP* branch_ZPlusMirth_55;
						TUP* branch_ZPlusResolveDef_56;
						VAL branch_List_57;
						VAL branch_Either_58;
						if (branch_Bool_49) {
							VAL v59 = mtw_std_either_Either_2_Right(branch_Def_47);
							branch_Either_58 = v59;
							branch_List_57 = v25;
							branch_ZPlusResolveDef_56 = branch_ZPlusResolveDef_48;
							branch_ZPlusMirth_55 = branch_ZPlusMirth_46;
							branch_Name_54 = value_u64(v24);
						} else {
							incref(branch_Def_47);
							TUP* v60;
							TUP* v61 = mw_mirth_def_Def_qnameZ_hard(branch_ZPlusMirth_46, branch_Def_47, &v60);
							VAL v62 = v61->cells[0];
							incref(v62);
							decref(MKTUP(v61, 3));
							uint64_t branch_Name_63;
							TUP* branch_ZPlusMirth_64;
							TUP* branch_ZPlusResolveDef_65;
							VAL branch_List_66;
							VAL branch_RejectedDef_67;
							switch (get_data_tag(v62)) {
								case 3LL: { // Tycon
									VAL v68 = mtp_mirth_name_Namespace_Tycon(v62);
									decref(v68);
									incref(v24);
									TUP* v69;
									bool v70 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(v60, value_u64(v24), &v69);
									uint64_t branch_Name_71;
									TUP* branch_ZPlusMirth_72;
									TUP* branch_ZPlusResolveDef_73;
									VAL branch_List_74;
									VAL branch_RejectedDef_75;
									if (v70) {
										incref(v25);
										bool v76 = mw_std_list_List_1_emptyZAsk(v25);
										uint64_t branch_Name_77;
										TUP* branch_ZPlusMirth_78;
										TUP* branch_ZPlusResolveDef_79;
										VAL branch_List_80;
										VAL branch_RejectedDef_81;
										if (v76) {
											VAL v82 = mtw_mirth_elab_RejectedDef_MethodNotAvailable(branch_Def_47);
											branch_RejectedDef_81 = v82;
											branch_List_80 = v25;
											branch_ZPlusResolveDef_79 = branch_ZPlusResolveDef_48;
											branch_ZPlusMirth_78 = v69;
											branch_Name_77 = value_u64(v24);
										} else {
											incref(v25);
											VAL v83 = mtw_mirth_elab_RejectedDef_MethodWrongType(branch_Def_47, v25);
											branch_RejectedDef_81 = v83;
											branch_List_80 = v25;
											branch_ZPlusResolveDef_79 = branch_ZPlusResolveDef_48;
											branch_ZPlusMirth_78 = v69;
											branch_Name_77 = value_u64(v24);
										}
										branch_RejectedDef_75 = branch_RejectedDef_81;
										branch_List_74 = branch_List_80;
										branch_ZPlusResolveDef_73 = branch_ZPlusResolveDef_79;
										branch_ZPlusMirth_72 = branch_ZPlusMirth_78;
										branch_Name_71 = branch_Name_77;
									} else {
										VAL v84 = mtw_mirth_elab_RejectedDef_NotImported(branch_Def_47);
										branch_RejectedDef_75 = v84;
										branch_List_74 = v25;
										branch_ZPlusResolveDef_73 = branch_ZPlusResolveDef_48;
										branch_ZPlusMirth_72 = v69;
										branch_Name_71 = value_u64(v24);
									}
									branch_RejectedDef_67 = branch_RejectedDef_75;
									branch_List_66 = branch_List_74;
									branch_ZPlusResolveDef_65 = branch_ZPlusResolveDef_73;
									branch_ZPlusMirth_64 = branch_ZPlusMirth_72;
									branch_Name_63 = branch_Name_71;
								} break;
								default: {
									decref(v62);
									VAL v85 = mtw_mirth_elab_RejectedDef_NotImported(branch_Def_47);
									branch_RejectedDef_67 = v85;
									branch_List_66 = v25;
									branch_ZPlusResolveDef_65 = branch_ZPlusResolveDef_48;
									branch_ZPlusMirth_64 = v60;
									branch_Name_63 = value_u64(v24);
								} break;
							}
							VAL v86 = mtw_std_either_Either_2_Left(branch_RejectedDef_67);
							branch_Either_58 = v86;
							branch_List_57 = branch_List_66;
							branch_ZPlusResolveDef_56 = branch_ZPlusResolveDef_65;
							branch_ZPlusMirth_55 = branch_ZPlusMirth_64;
							branch_Name_54 = branch_Name_63;
						}
						uint64_t branch_Name_87;
						TUP* branch_ZPlusMirth_88;
						TUP* branch_ZPlusResolveDef_89;
						VAL branch_List_90;
						VAL branch_List_91;
						VAL branch_List_92;
						switch (get_data_tag(branch_Either_58)) {
							case 0LL: { // Left
								VAL v93 = mtp_std_either_Either_2_Left(branch_Either_58);
								VAL v94 = mw_std_list_List_1_cons(v93, v28);
								branch_List_92 = v29;
								branch_List_91 = v94;
								branch_List_90 = branch_List_57;
								branch_ZPlusResolveDef_89 = branch_ZPlusResolveDef_56;
								branch_ZPlusMirth_88 = branch_ZPlusMirth_55;
								branch_Name_87 = branch_Name_54;
							} break;
							case 1LL: { // Right
								VAL v95 = mtp_std_either_Either_2_Right(branch_Either_58);
								VAL v96 = mw_std_list_List_1_cons(v95, v29);
								branch_List_92 = v96;
								branch_List_91 = v28;
								branch_List_90 = branch_List_57;
								branch_ZPlusResolveDef_89 = branch_ZPlusResolveDef_56;
								branch_ZPlusMirth_88 = branch_ZPlusMirth_55;
								branch_Name_87 = branch_Name_54;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						bool v97 = true;
						branch_Bool_39 = v97;
						branch_List_38 = v40;
						branch_List_37 = branch_List_92;
						branch_List_36 = branch_List_91;
						branch_List_35 = branch_List_90;
						branch_ZPlusResolveDef_34 = branch_ZPlusResolveDef_89;
						branch_ZPlusMirth_33 = branch_ZPlusMirth_88;
						branch_Name_32 = branch_Name_87;
					} break;
					case 0LL: { // Nil
						VAL v98 = MKI64(0LL /* Nil */);
						bool v99 = false;
						branch_Bool_39 = v99;
						branch_List_38 = v98;
						branch_List_37 = v29;
						branch_List_36 = v28;
						branch_List_35 = v25;
						branch_ZPlusResolveDef_34 = v27;
						branch_ZPlusMirth_33 = v26;
						branch_Name_32 = value_u64(v24);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v23 = branch_Bool_39;
				v22 = branch_Bool_39;
				v21 = branch_List_38;
				v20 = branch_List_37;
				v19 = branch_List_36;
				v18 = branch_ZPlusResolveDef_34;
				v17 = branch_ZPlusMirth_33;
				v16 = branch_List_35;
				v15 = MKU64(branch_Name_32);
			}
			decref(v21);
			VAL v100 = mw_std_list_List_1_reverse(v19);
			VAL v101 = mw_std_list_List_1_reverse(v20);
			VAL v102 = v18->cells[4];
			incref(v102);
			VAL v103 = mw_std_list_List_1_cat(v100, v102);
			VAL v104 = v18->cells[4];
			decref(v104);
			v18->cells[4] = v103;
			VAL v105 = v18->cells[3];
			decref(v105);
			v18->cells[3] = v101;
			decref(v15);
			branch_ZPlusResolveDef_9 = v18;
			branch_List_8 = v16;
			branch_ZPlusMirth_7 = v17;
		} break;
		case 1LL: { // Right
			VAL v106 = mtp_std_either_Either_2_Right(v6);
			incref(v106);
			bool v107 = mw_mirth_name_DName_isZ_relativeZAsk(value_tup(v106, 2));
			TUP* branch_ZPlusResolveDef_108;
			bool branch_Bool_109;
			if (v107) {
				bool v110 = value_bool(in_ZPlusResolveDef_2->cells[5]);
				bool v111 = !v110;
				branch_Bool_109 = v111;
				branch_ZPlusResolveDef_108 = in_ZPlusResolveDef_2;
			} else {
				bool v112 = false;
				branch_Bool_109 = v112;
				branch_ZPlusResolveDef_108 = in_ZPlusResolveDef_2;
			}
			TUP* branch_ZPlusMirth_113;
			VAL branch_List_114;
			TUP* branch_DName_115;
			TUP* branch_ZPlusResolveDef_116;
			if (branch_Bool_109) {
				VAL v117 = branch_ZPlusResolveDef_108->cells[3];
				incref(v117);
				VAL v118 = MKI64(0LL /* Nil */);
				VAL v119 = MKI64(0LL /* Nil */);
				bool v120 = true;
				VAL v121 = in_List_3;
				TUP* v122 = in_ZPlusMirth_1;
				TUP* v123 = branch_ZPlusResolveDef_108;
				VAL v124 = v106;
				VAL v125 = v118;
				VAL v126 = v119;
				VAL v127 = v117;
				bool v128 = v120;
				bool v129 = v120;
				while (v129) {
					VAL v130 = v121;
					TUP* v131 = v122;
					TUP* v132 = v123;
					VAL v133 = v124;
					VAL v134 = v125;
					VAL v135 = v126;
					VAL v136 = v127;
					bool v137 = v128;
					VAL branch_List_138;
					TUP* branch_DName_139;
					TUP* branch_ZPlusMirth_140;
					TUP* branch_ZPlusResolveDef_141;
					VAL branch_List_142;
					VAL branch_List_143;
					VAL branch_List_144;
					bool branch_Bool_145;
					switch (get_data_tag(v136)) {
						case 1LL: { // Cons
							VAL v146;
							VAL v147 = mtp_std_list_List_1_Cons(v136, &v146);
							incref(v133);
							incref(v147);
							TUP* v148;
							TUP* v149 = mw_mirth_def_Def_qnameZ_hard(v131, v147, &v148);
							TUP* v150;
							TUP* v151;
							VAL v152 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v148, v132, value_tup(v133, 2), v149, &v150, &v151);
							VAL v153 = MKI64(0LL /* None */);
							bool v154 = true;
							VAL v155 = v130;
							VAL v156 = v153;
							VAL v157 = v152;
							bool v158 = v154;
							bool v159 = v154;
							while (v159) {
								VAL v160 = v155;
								VAL v161 = v156;
								VAL v162 = v157;
								bool v163 = v158;
								VAL v164;
								VAL v165 = mw_std_list_List_1_uncons(v162, &v164);
								VAL branch_List_166;
								VAL branch_Maybe_167;
								VAL branch_List_168;
								bool branch_Bool_169;
								switch (get_data_tag(v165)) {
									case 1LL: { // Some
										VAL v170 = mtp_std_maybe_Maybe_1_Some(v165);
										incref(v170);
										incref(v160);
										bool v171 = mw_std_list_List_1_member_sp5(v170, v160);
										VAL branch_List_172;
										VAL branch_Maybe_173;
										if (v171) {
											VAL v174 = mtw_std_maybe_Maybe_1_Some(v170);
											branch_Maybe_173 = v174;
											branch_List_172 = v160;
										} else {
											decref(v170);
											VAL v175 = MKI64(0LL /* None */);
											branch_Maybe_173 = v175;
											branch_List_172 = v160;
										}
										VAL branch_List_176;
										VAL branch_Maybe_177;
										VAL branch_List_178;
										switch (get_data_tag(branch_Maybe_173)) {
											case 0LL: { // None
												branch_List_178 = v164;
												branch_Maybe_177 = v161;
												branch_List_176 = branch_List_172;
											} break;
											default: {
												decref(v164);
												decref(v161);
												VAL v179 = MKI64(0LL /* Nil */);
												branch_List_178 = v179;
												branch_Maybe_177 = branch_Maybe_173;
												branch_List_176 = branch_List_172;
											} break;
										}
										bool v180 = true;
										branch_Bool_169 = v180;
										branch_List_168 = branch_List_178;
										branch_Maybe_167 = branch_Maybe_177;
										branch_List_166 = branch_List_176;
									} break;
									case 0LL: { // None
										bool v181 = false;
										branch_Bool_169 = v181;
										branch_List_168 = v164;
										branch_Maybe_167 = v161;
										branch_List_166 = v160;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								v159 = branch_Bool_169;
								v158 = branch_Bool_169;
								v157 = branch_List_168;
								v156 = branch_Maybe_167;
								v155 = branch_List_166;
							}
							decref(v157);
							int64_t v182 = get_data_tag(v156);
							decref(v156);
							INT v183 = WRAP_I63(0LL);
							INT v184 = i64_to_int(v182);
							bool v185 = int_eq(v184, v183);
							bool v186 = !v185;
							VAL branch_List_187;
							TUP* branch_DName_188;
							TUP* branch_ZPlusMirth_189;
							TUP* branch_ZPlusResolveDef_190;
							VAL branch_Either_191;
							if (v186) {
								VAL v192 = mtw_std_either_Either_2_Right(v147);
								branch_Either_191 = v192;
								branch_ZPlusResolveDef_190 = v151;
								branch_ZPlusMirth_189 = v150;
								branch_DName_188 = value_tup(v133, 2);
								branch_List_187 = v155;
							} else {
								incref(v155);
								bool v193 = mw_std_list_List_1_emptyZAsk(v155);
								TUP* branch_DName_194;
								TUP* branch_ZPlusMirth_195;
								TUP* branch_ZPlusResolveDef_196;
								VAL branch_List_197;
								VAL branch_RejectedDef_198;
								if (v193) {
									VAL v199 = mtw_mirth_elab_RejectedDef_MethodNotAvailable(v147);
									branch_RejectedDef_198 = v199;
									branch_List_197 = v155;
									branch_ZPlusResolveDef_196 = v151;
									branch_ZPlusMirth_195 = v150;
									branch_DName_194 = value_tup(v133, 2);
								} else {
									incref(v155);
									VAL v200 = mtw_mirth_elab_RejectedDef_MethodWrongType(v147, v155);
									branch_RejectedDef_198 = v200;
									branch_List_197 = v155;
									branch_ZPlusResolveDef_196 = v151;
									branch_ZPlusMirth_195 = v150;
									branch_DName_194 = value_tup(v133, 2);
								}
								VAL v201 = mtw_std_either_Either_2_Left(branch_RejectedDef_198);
								branch_Either_191 = v201;
								branch_ZPlusResolveDef_190 = branch_ZPlusResolveDef_196;
								branch_ZPlusMirth_189 = branch_ZPlusMirth_195;
								branch_DName_188 = branch_DName_194;
								branch_List_187 = branch_List_197;
							}
							VAL branch_List_202;
							TUP* branch_DName_203;
							TUP* branch_ZPlusMirth_204;
							TUP* branch_ZPlusResolveDef_205;
							VAL branch_List_206;
							VAL branch_List_207;
							switch (get_data_tag(branch_Either_191)) {
								case 0LL: { // Left
									VAL v208 = mtp_std_either_Either_2_Left(branch_Either_191);
									VAL v209 = mw_std_list_List_1_cons(v208, v134);
									branch_List_207 = v135;
									branch_List_206 = v209;
									branch_ZPlusResolveDef_205 = branch_ZPlusResolveDef_190;
									branch_ZPlusMirth_204 = branch_ZPlusMirth_189;
									branch_DName_203 = branch_DName_188;
									branch_List_202 = branch_List_187;
								} break;
								case 1LL: { // Right
									VAL v210 = mtp_std_either_Either_2_Right(branch_Either_191);
									VAL v211 = mw_std_list_List_1_cons(v210, v135);
									branch_List_207 = v211;
									branch_List_206 = v134;
									branch_ZPlusResolveDef_205 = branch_ZPlusResolveDef_190;
									branch_ZPlusMirth_204 = branch_ZPlusMirth_189;
									branch_DName_203 = branch_DName_188;
									branch_List_202 = branch_List_187;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							bool v212 = true;
							branch_Bool_145 = v212;
							branch_List_144 = v146;
							branch_List_143 = branch_List_207;
							branch_List_142 = branch_List_206;
							branch_ZPlusResolveDef_141 = branch_ZPlusResolveDef_205;
							branch_ZPlusMirth_140 = branch_ZPlusMirth_204;
							branch_DName_139 = branch_DName_203;
							branch_List_138 = branch_List_202;
						} break;
						case 0LL: { // Nil
							VAL v213 = MKI64(0LL /* Nil */);
							bool v214 = false;
							branch_Bool_145 = v214;
							branch_List_144 = v213;
							branch_List_143 = v135;
							branch_List_142 = v134;
							branch_ZPlusResolveDef_141 = v132;
							branch_ZPlusMirth_140 = v131;
							branch_DName_139 = value_tup(v133, 2);
							branch_List_138 = v130;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v129 = branch_Bool_145;
					v128 = branch_Bool_145;
					v127 = branch_List_144;
					v126 = branch_List_143;
					v125 = branch_List_142;
					v124 = MKTUP(branch_DName_139, 2);
					v123 = branch_ZPlusResolveDef_141;
					v122 = branch_ZPlusMirth_140;
					v121 = branch_List_138;
				}
				decref(v127);
				VAL v215 = mw_std_list_List_1_reverse(v125);
				VAL v216 = mw_std_list_List_1_reverse(v126);
				VAL v217 = v123->cells[4];
				incref(v217);
				VAL v218 = mw_std_list_List_1_cat(v215, v217);
				VAL v219 = v123->cells[4];
				decref(v219);
				v123->cells[4] = v218;
				VAL v220 = v123->cells[3];
				decref(v220);
				v123->cells[3] = v216;
				branch_ZPlusResolveDef_116 = v123;
				branch_DName_115 = value_tup(v124, 2);
				branch_List_114 = v121;
				branch_ZPlusMirth_113 = v122;
			} else {
				VAL v221 = branch_ZPlusResolveDef_108->cells[3];
				incref(v221);
				VAL v222 = MKI64(0LL /* Nil */);
				VAL v223 = MKI64(0LL /* Nil */);
				bool v224 = true;
				TUP* v225 = in_ZPlusMirth_1;
				TUP* v226 = branch_ZPlusResolveDef_108;
				VAL v227 = v106;
				VAL v228 = v222;
				VAL v229 = v223;
				VAL v230 = v221;
				bool v231 = v224;
				bool v232 = v224;
				while (v232) {
					TUP* v233 = v225;
					TUP* v234 = v226;
					VAL v235 = v227;
					VAL v236 = v228;
					VAL v237 = v229;
					VAL v238 = v230;
					bool v239 = v231;
					TUP* branch_DName_240;
					TUP* branch_ZPlusMirth_241;
					TUP* branch_ZPlusResolveDef_242;
					VAL branch_List_243;
					VAL branch_List_244;
					VAL branch_List_245;
					bool branch_Bool_246;
					switch (get_data_tag(v238)) {
						case 1LL: { // Cons
							VAL v247;
							VAL v248 = mtp_std_list_List_1_Cons(v238, &v247);
							incref(v235);
							incref(v248);
							TUP* v249;
							TUP* v250 = mw_mirth_def_Def_qnameZ_hard(v233, v248, &v249);
							TUP* v251;
							TUP* v252;
							VAL v253 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v249, v234, value_tup(v235, 2), v250, &v251, &v252);
							VAL v254 = MKI64(0LL /* None */);
							bool v255 = true;
							TUP* v256 = v251;
							TUP* v257 = v252;
							VAL v258 = v254;
							VAL v259 = v253;
							bool v260 = v255;
							bool v261 = v255;
							while (v261) {
								TUP* v262 = v256;
								TUP* v263 = v257;
								VAL v264 = v258;
								VAL v265 = v259;
								bool v266 = v260;
								VAL v267;
								VAL v268 = mw_std_list_List_1_uncons(v265, &v267);
								TUP* branch_ZPlusMirth_269;
								TUP* branch_ZPlusResolveDef_270;
								VAL branch_Maybe_271;
								VAL branch_List_272;
								bool branch_Bool_273;
								switch (get_data_tag(v268)) {
									case 1LL: { // Some
										VAL v274 = mtp_std_maybe_Maybe_1_Some(v268);
										incref(v274);
										uint64_t v275 = value_u64(v263->cells[1]);
										TUP* v276;
										bool v277 = mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk(v262, v275, v274, &v276);
										TUP* branch_ZPlusMirth_278;
										TUP* branch_ZPlusResolveDef_279;
										VAL branch_Maybe_280;
										if (v277) {
											VAL v281 = mtw_std_maybe_Maybe_1_Some(v274);
											branch_Maybe_280 = v281;
											branch_ZPlusResolveDef_279 = v263;
											branch_ZPlusMirth_278 = v276;
										} else {
											decref(v274);
											VAL v282 = MKI64(0LL /* None */);
											branch_Maybe_280 = v282;
											branch_ZPlusResolveDef_279 = v263;
											branch_ZPlusMirth_278 = v276;
										}
										TUP* branch_ZPlusMirth_283;
										TUP* branch_ZPlusResolveDef_284;
										VAL branch_Maybe_285;
										VAL branch_List_286;
										switch (get_data_tag(branch_Maybe_280)) {
											case 0LL: { // None
												branch_List_286 = v267;
												branch_Maybe_285 = v264;
												branch_ZPlusResolveDef_284 = branch_ZPlusResolveDef_279;
												branch_ZPlusMirth_283 = branch_ZPlusMirth_278;
											} break;
											default: {
												decref(v267);
												decref(v264);
												VAL v287 = MKI64(0LL /* Nil */);
												branch_List_286 = v287;
												branch_Maybe_285 = branch_Maybe_280;
												branch_ZPlusResolveDef_284 = branch_ZPlusResolveDef_279;
												branch_ZPlusMirth_283 = branch_ZPlusMirth_278;
											} break;
										}
										bool v288 = true;
										branch_Bool_273 = v288;
										branch_List_272 = branch_List_286;
										branch_Maybe_271 = branch_Maybe_285;
										branch_ZPlusResolveDef_270 = branch_ZPlusResolveDef_284;
										branch_ZPlusMirth_269 = branch_ZPlusMirth_283;
									} break;
									case 0LL: { // None
										bool v289 = false;
										branch_Bool_273 = v289;
										branch_List_272 = v267;
										branch_Maybe_271 = v264;
										branch_ZPlusResolveDef_270 = v263;
										branch_ZPlusMirth_269 = v262;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								v261 = branch_Bool_273;
								v260 = branch_Bool_273;
								v259 = branch_List_272;
								v258 = branch_Maybe_271;
								v257 = branch_ZPlusResolveDef_270;
								v256 = branch_ZPlusMirth_269;
							}
							decref(v259);
							int64_t v290 = get_data_tag(v258);
							decref(v258);
							INT v291 = WRAP_I63(0LL);
							INT v292 = i64_to_int(v290);
							bool v293 = int_eq(v292, v291);
							bool v294 = !v293;
							TUP* branch_DName_295;
							TUP* branch_ZPlusMirth_296;
							TUP* branch_ZPlusResolveDef_297;
							VAL branch_Either_298;
							if (v294) {
								VAL v299 = mtw_std_either_Either_2_Right(v248);
								branch_Either_298 = v299;
								branch_ZPlusResolveDef_297 = v257;
								branch_ZPlusMirth_296 = v256;
								branch_DName_295 = value_tup(v235, 2);
							} else {
								VAL v300 = mtw_mirth_elab_RejectedDef_NotImported(v248);
								VAL v301 = mtw_std_either_Either_2_Left(v300);
								branch_Either_298 = v301;
								branch_ZPlusResolveDef_297 = v257;
								branch_ZPlusMirth_296 = v256;
								branch_DName_295 = value_tup(v235, 2);
							}
							TUP* branch_DName_302;
							TUP* branch_ZPlusMirth_303;
							TUP* branch_ZPlusResolveDef_304;
							VAL branch_List_305;
							VAL branch_List_306;
							switch (get_data_tag(branch_Either_298)) {
								case 0LL: { // Left
									VAL v307 = mtp_std_either_Either_2_Left(branch_Either_298);
									VAL v308 = mw_std_list_List_1_cons(v307, v236);
									branch_List_306 = v237;
									branch_List_305 = v308;
									branch_ZPlusResolveDef_304 = branch_ZPlusResolveDef_297;
									branch_ZPlusMirth_303 = branch_ZPlusMirth_296;
									branch_DName_302 = branch_DName_295;
								} break;
								case 1LL: { // Right
									VAL v309 = mtp_std_either_Either_2_Right(branch_Either_298);
									VAL v310 = mw_std_list_List_1_cons(v309, v237);
									branch_List_306 = v310;
									branch_List_305 = v236;
									branch_ZPlusResolveDef_304 = branch_ZPlusResolveDef_297;
									branch_ZPlusMirth_303 = branch_ZPlusMirth_296;
									branch_DName_302 = branch_DName_295;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							bool v311 = true;
							branch_Bool_246 = v311;
							branch_List_245 = v247;
							branch_List_244 = branch_List_306;
							branch_List_243 = branch_List_305;
							branch_ZPlusResolveDef_242 = branch_ZPlusResolveDef_304;
							branch_ZPlusMirth_241 = branch_ZPlusMirth_303;
							branch_DName_240 = branch_DName_302;
						} break;
						case 0LL: { // Nil
							VAL v312 = MKI64(0LL /* Nil */);
							bool v313 = false;
							branch_Bool_246 = v313;
							branch_List_245 = v312;
							branch_List_244 = v237;
							branch_List_243 = v236;
							branch_ZPlusResolveDef_242 = v234;
							branch_ZPlusMirth_241 = v233;
							branch_DName_240 = value_tup(v235, 2);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v232 = branch_Bool_246;
					v231 = branch_Bool_246;
					v230 = branch_List_245;
					v229 = branch_List_244;
					v228 = branch_List_243;
					v227 = MKTUP(branch_DName_240, 2);
					v226 = branch_ZPlusResolveDef_242;
					v225 = branch_ZPlusMirth_241;
				}
				decref(v230);
				VAL v314 = mw_std_list_List_1_reverse(v228);
				VAL v315 = mw_std_list_List_1_reverse(v229);
				VAL v316 = v226->cells[4];
				incref(v316);
				VAL v317 = mw_std_list_List_1_cat(v314, v316);
				VAL v318 = v226->cells[4];
				decref(v318);
				v226->cells[4] = v317;
				VAL v319 = v226->cells[3];
				decref(v319);
				v226->cells[3] = v315;
				branch_ZPlusResolveDef_116 = v226;
				branch_DName_115 = value_tup(v227, 2);
				branch_List_114 = in_List_3;
				branch_ZPlusMirth_113 = v225;
			}
			decref(MKTUP(branch_DName_115, 2));
			branch_ZPlusResolveDef_9 = branch_ZPlusResolveDef_116;
			branch_List_8 = branch_List_114;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_113;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(branch_List_8);
	*out_ZPlusResolveDef_5 = branch_ZPlusResolveDef_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static VAL mw_mirth_elab_ZPlusResolveDef_endZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = in_ZPlusResolveDef_2->cells[3];
	incref(v5);
	TUP* branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 0LL: { // Nil
			TUP* v8;
			mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown(in_ZPlusMirth_1, in_ZPlusResolveDef_2, &v8);
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // Cons
			VAL v10;
			VAL v11 = mtp_std_list_List_1_Cons(v5, &v10);
			TUP* branch_ZPlusMirth_12;
			VAL branch_Maybe_13;
			switch (get_data_tag(v10)) {
				case 0LL: { // Nil
					mw_mirth_elab_ZPlusResolveDef_rdrop(in_ZPlusResolveDef_2);
					VAL v14 = mtw_std_maybe_Maybe_1_Some(v11);
					branch_Maybe_13 = v14;
					branch_ZPlusMirth_12 = in_ZPlusMirth_1;
				} break;
				default: {
					VAL v15 = MKI64(0LL /* Nil */);
					VAL v16;
					mw_std_list_List_1_buildZBang(v15, &v16);
					bool v17 = true;
					TUP* v18 = in_ZPlusMirth_1;
					TUP* v19 = in_ZPlusResolveDef_2;
					VAL v20 = v11;
					VAL v21 = v16;
					VAL v22 = v10;
					bool v23 = v17;
					bool v24 = v17;
					while (v24) {
						TUP* v25 = v18;
						TUP* v26 = v19;
						VAL v27 = v20;
						VAL v28 = v21;
						VAL v29 = v22;
						bool v30 = v23;
						VAL branch_Def_31;
						TUP* branch_ZPlusMirth_32;
						VAL branch_z_x1_33;
						VAL branch_ZPlusLister_34;
						VAL branch_List_35;
						bool branch_Bool_36;
						switch (get_data_tag(v29)) {
							case 1LL: { // Cons
								VAL v37;
								VAL v38 = mtp_std_list_List_1_Cons(v29, &v37);
								incref(v38);
								incref(v27);
								TUP* v39;
								bool v40 = mw_mirth_def_Def_sameZ_resolvedZAsk(v25, v38, v27, &v39);
								bool v41 = !v40;
								VAL branch_Def_42;
								TUP* branch_ZPlusMirth_43;
								VAL branch_z_x1_44;
								VAL branch_ZPlusLister_45;
								if (v41) {
									VAL v46;
									mw_std_list_ZPlusLister_1_pushZBang(v38, v28, &v46);
									branch_ZPlusLister_45 = v46;
									branch_z_x1_44 = MKTUP(v26, 7);
									branch_ZPlusMirth_43 = v39;
									branch_Def_42 = v27;
								} else {
									decref(v38);
									branch_ZPlusLister_45 = v28;
									branch_z_x1_44 = MKTUP(v26, 7);
									branch_ZPlusMirth_43 = v39;
									branch_Def_42 = v27;
								}
								bool v47 = true;
								branch_Bool_36 = v47;
								branch_List_35 = v37;
								branch_ZPlusLister_34 = branch_ZPlusLister_45;
								branch_z_x1_33 = branch_z_x1_44;
								branch_ZPlusMirth_32 = branch_ZPlusMirth_43;
								branch_Def_31 = branch_Def_42;
							} break;
							case 0LL: { // Nil
								VAL v48 = MKI64(0LL /* Nil */);
								bool v49 = false;
								branch_Bool_36 = v49;
								branch_List_35 = v48;
								branch_ZPlusLister_34 = v28;
								branch_z_x1_33 = MKTUP(v26, 7);
								branch_ZPlusMirth_32 = v25;
								branch_Def_31 = v27;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v24 = branch_Bool_36;
						v23 = branch_Bool_36;
						v22 = branch_List_35;
						v21 = branch_ZPlusLister_34;
						v20 = branch_Def_31;
						v19 = value_tup(branch_z_x1_33, 7);
						v18 = branch_ZPlusMirth_32;
					}
					decref(v22);
					VAL v50 = mw_std_list_ZPlusLister_1_doneZBang(v21);
					TUP* branch_ZPlusMirth_51;
					VAL branch_Maybe_52;
					switch (get_data_tag(v50)) {
						case 0LL: { // Nil
							mw_mirth_elab_ZPlusResolveDef_rdrop(v19);
							VAL v53 = mtw_std_maybe_Maybe_1_Some(v20);
							branch_Maybe_52 = v53;
							branch_ZPlusMirth_51 = v18;
						} break;
						default: {
							decref(v50);
							decref(v20);
							TUP* v54;
							mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous(v18, v19, &v54);
							VAL v55 = MKI64(0LL /* None */);
							branch_Maybe_52 = v55;
							branch_ZPlusMirth_51 = v54;
						} break;
					}
					branch_Maybe_13 = branch_Maybe_52;
					branch_ZPlusMirth_12 = branch_ZPlusMirth_51;
				} break;
			}
			branch_Maybe_7 = branch_Maybe_13;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3) {
	bool v4 = value_bool(in_ZPlusResolveDef_2->cells[6]);
	TUP* branch_ZPlusMirth_5;
	TUP* branch_ZPlusResolveDef_6;
	if (v4) {
		uint64_t v7 = value_u64(in_ZPlusResolveDef_2->cells[1]);
		STR* v8;
		STRLIT(v8, "", 0);
		STR* v9;
		STRLIT(v9, "Can't resolve ", 14);
		STR* v10;
		mw_std_str_ZPlusStr_pushZ_strZBang(v9, v8, &v10);
		STR* v11 = value_str(in_ZPlusResolveDef_2->cells[0]);
		incref(MKSTR(v11));
		STR* v12;
		mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
		STR* v13;
		STRLIT(v13, " due to previous errors. Candidates are:", 40);
		STR* v14;
		mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
		STR* v15;
		STRLIT(v15, " ", 1);
		VAL v16 = in_ZPlusResolveDef_2->cells[3];
		incref(v16);
		TUP* v17;
		VAL v18;
		STR* v19;
		STR* v20 = mw_std_list_List_1_for_1_sp75(in_ZPlusMirth_1, MKTUP(in_ZPlusResolveDef_2, 7), v14, v15, v16, &v17, &v18, &v19);
		decref(MKSTR(v20));
		TUP* v21;
		mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(v17, v7, v19, &v21);
		branch_ZPlusResolveDef_6 = value_tup(v18, 7);
		branch_ZPlusMirth_5 = v21;
	} else {
		uint64_t v22 = value_u64(in_ZPlusResolveDef_2->cells[1]);
		STR* v23;
		STRLIT(v23, "", 0);
		STR* v24;
		STRLIT(v24, "Ambiguous ", 10);
		STR* v25;
		mw_std_str_ZPlusStr_pushZ_strZBang(v24, v23, &v25);
		STR* v26 = value_str(in_ZPlusResolveDef_2->cells[0]);
		incref(MKSTR(v26));
		STR* v27;
		mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
		STR* v28;
		STRLIT(v28, ". Can't decide between:", 23);
		STR* v29;
		mw_std_str_ZPlusStr_pushZ_strZBang(v28, v27, &v29);
		STR* v30;
		STRLIT(v30, " ", 1);
		VAL v31 = in_ZPlusResolveDef_2->cells[3];
		incref(v31);
		TUP* v32;
		VAL v33;
		STR* v34;
		STR* v35 = mw_std_list_List_1_for_1_sp75(in_ZPlusMirth_1, MKTUP(in_ZPlusResolveDef_2, 7), v29, v30, v31, &v32, &v33, &v34);
		decref(MKSTR(v35));
		TUP* v36;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v32, v22, v34, &v36);
		branch_ZPlusResolveDef_6 = value_tup(v33, 7);
		branch_ZPlusMirth_5 = v36;
	}
	mw_mirth_elab_ZPlusResolveDef_rdrop(branch_ZPlusResolveDef_6);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
}
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* *out_ZPlusMirth_3) {
	uint64_t v4 = value_u64(in_ZPlusResolveDef_2->cells[1]);
	STR* v5;
	STRLIT(v5, "", 0);
	VAL v6 = in_ZPlusResolveDef_2->cells[4];
	incref(v6);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusResolveDef_8;
	STR* branch_ZPlusStr_9;
	switch (get_data_tag(v6)) {
		case 0LL: { // Nil
			STR* v10;
			STRLIT(v10, "Unknown ", 8);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(v10, v5, &v11);
			STR* v12 = value_str(in_ZPlusResolveDef_2->cells[0]);
			incref(MKSTR(v12));
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			STR* v14;
			STRLIT(v14, " name, possibly a misspelling.", 30);
			STR* v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
			branch_ZPlusStr_9 = v15;
			branch_ZPlusResolveDef_8 = in_ZPlusResolveDef_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Cons
			VAL v16;
			VAL v17 = mtp_std_list_List_1_Cons(v6, &v16);
			TUP* branch_ZPlusMirth_18;
			TUP* branch_ZPlusResolveDef_19;
			STR* branch_ZPlusStr_20;
			switch (get_data_tag(v16)) {
				case 0LL: { // Nil
					TUP* branch_ZPlusMirth_21;
					TUP* branch_ZPlusResolveDef_22;
					STR* branch_ZPlusStr_23;
					switch (get_data_tag(v17)) {
						case 0LL: { // WrongSort
							VAL v24 = mtp_mirth_elab_RejectedDef_WrongSort(v17);
							STR* v25;
							STRLIT(v25, "Expected a ", 11);
							STR* v26;
							mw_std_str_ZPlusStr_pushZ_strZBang(v25, v5, &v26);
							STR* v27 = value_str(in_ZPlusResolveDef_2->cells[0]);
							incref(MKSTR(v27));
							STR* v28;
							mw_std_str_ZPlusStr_pushZ_strZBang(v27, v26, &v28);
							STR* v29;
							STRLIT(v29, ", but ", 6);
							STR* v30;
							mw_std_str_ZPlusStr_pushZ_strZBang(v29, v28, &v30);
							TUP* v31;
							STR* v32;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v30, v24, &v31, &v32);
							STR* v33;
							STRLIT(v33, " is not a ", 10);
							STR* v34;
							mw_std_str_ZPlusStr_pushZ_strZBang(v33, v32, &v34);
							STR* v35 = value_str(in_ZPlusResolveDef_2->cells[0]);
							incref(MKSTR(v35));
							STR* v36;
							mw_std_str_ZPlusStr_pushZ_strZBang(v35, v34, &v36);
							STR* v37;
							STRLIT(v37, ".", 1);
							STR* v38;
							mw_std_str_ZPlusStr_pushZ_strZBang(v37, v36, &v38);
							branch_ZPlusStr_23 = v38;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v31;
						} break;
						case 2LL: { // NotVisible
							VAL v39 = mtp_mirth_elab_RejectedDef_NotVisible(v17);
							STR* v40;
							STRLIT(v40, "Not visible in current scope: ", 30);
							STR* v41;
							mw_std_str_ZPlusStr_pushZ_strZBang(v40, v5, &v41);
							TUP* v42;
							STR* v43;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v41, v39, &v42, &v43);
							branch_ZPlusStr_23 = v43;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v42;
						} break;
						case 3LL: { // NotImported
							VAL v44 = mtp_mirth_elab_RejectedDef_NotImported(v17);
							STR* v45;
							STRLIT(v45, "Not imported in current scope: ", 31);
							STR* v46;
							mw_std_str_ZPlusStr_pushZ_strZBang(v45, v5, &v46);
							TUP* v47;
							STR* v48;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v46, v44, &v47, &v48);
							branch_ZPlusStr_23 = v48;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v47;
						} break;
						case 1LL: { // WrongArity
							VAL v49 = mtp_mirth_elab_RejectedDef_WrongArity(v17);
							TUP* v50;
							TUP* v51 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v49, &v50);
							incref(MKTUP(v51, 3));
							TUP* v52;
							STR* v53;
							mw_mirth_name_QName_qnameZThen(v50, v5, v51, &v52, &v53);
							STR* v54;
							STRLIT(v54, " expects ", 9);
							STR* v55;
							mw_std_str_ZPlusStr_pushZ_strZBang(v54, v53, &v55);
							INT v56 = value_int(v51->cells[2]);
							incref(MKINT(v56));
							decref(MKTUP(v51, 3));
							STR* v57 = int_to_str(v56);
							STR* v58;
							mw_std_str_ZPlusStr_pushZ_strZBang(v57, v55, &v58);
							STR* v59;
							STRLIT(v59, " arguments, but got ", 20);
							STR* v60;
							mw_std_str_ZPlusStr_pushZ_strZBang(v59, v58, &v60);
							uint64_t v61 = value_u64(in_ZPlusResolveDef_2->cells[1]);
							TUP* v62;
							INT v63 = mw_mirth_token_Token_numZ_args(v52, v61, &v62);
							STR* v64 = int_to_str(v63);
							STR* v65;
							mw_std_str_ZPlusStr_pushZ_strZBang(v64, v60, &v65);
							STR* v66;
							STRLIT(v66, ".", 1);
							STR* v67;
							mw_std_str_ZPlusStr_pushZ_strZBang(v66, v65, &v67);
							branch_ZPlusStr_23 = v67;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v62;
						} break;
						case 4LL: { // WrongQualifier
							VAL v68 = mtp_mirth_elab_RejectedDef_WrongQualifier(v17);
							STR* v69;
							STRLIT(v69, "Qualified name not found. Perhaps you meant: ", 45);
							STR* v70;
							mw_std_str_ZPlusStr_pushZ_strZBang(v69, v5, &v70);
							TUP* v71;
							STR* v72;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v70, v68, &v71, &v72);
							branch_ZPlusStr_23 = v72;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v71;
						} break;
						case 5LL: { // WrongConstructor
							VAL v73 = mtp_mirth_elab_RejectedDef_WrongConstructor(v17);
							STR* v74;
							STRLIT(v74, "Constructor is for a different type: ", 37);
							STR* v75;
							mw_std_str_ZPlusStr_pushZ_strZBang(v74, v5, &v75);
							TUP* v76;
							STR* v77;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v75, v73, &v76, &v77);
							branch_ZPlusStr_23 = v77;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v76;
						} break;
						case 7LL: { // MethodWrongType
							VAL v78;
							VAL v79 = mtp_mirth_elab_RejectedDef_MethodWrongType(v17, &v78);
							STR* v80;
							STRLIT(v80, "Method ", 7);
							STR* v81;
							mw_std_str_ZPlusStr_pushZ_strZBang(v80, v5, &v81);
							TUP* v82;
							STR* v83;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v81, v79, &v82, &v83);
							STR* v84;
							STRLIT(v84, " does not match [", 17);
							STR* v85;
							mw_std_str_ZPlusStr_pushZ_strZBang(v84, v83, &v85);
							TUP* v86;
							VAL v87;
							STR* v88;
							mw_std_list_List_1_for_2_sp3(v82, MKTUP(in_ZPlusResolveDef_2, 7), v85, v78, &v86, &v87, &v88);
							STR* v89;
							STRLIT(v89, "]", 1);
							STR* v90;
							mw_std_str_ZPlusStr_pushZ_strZBang(v89, v88, &v90);
							branch_ZPlusStr_23 = v90;
							branch_ZPlusResolveDef_22 = value_tup(v87, 7);
							branch_ZPlusMirth_21 = v86;
						} break;
						case 6LL: { // MethodNotAvailable
							VAL v91 = mtp_mirth_elab_RejectedDef_MethodNotAvailable(v17);
							STR* v92;
							STRLIT(v92, "Method is not available for current stack: ", 43);
							STR* v93;
							mw_std_str_ZPlusStr_pushZ_strZBang(v92, v5, &v93);
							TUP* v94;
							STR* v95;
							mw_mirth_def_Def_qnameZThen(in_ZPlusMirth_1, v93, v91, &v94, &v95);
							branch_ZPlusStr_23 = v95;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v94;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusStr_20 = branch_ZPlusStr_23;
					branch_ZPlusResolveDef_19 = branch_ZPlusResolveDef_22;
					branch_ZPlusMirth_18 = branch_ZPlusMirth_21;
				} break;
				default: {
					VAL v96 = mw_std_list_List_1_cons(v17, v16);
					STR* v97;
					STRLIT(v97, "Multiple definitions for name, but none are suitable:", 53);
					STR* v98;
					mw_std_str_ZPlusStr_pushZ_strZBang(v97, v5, &v98);
					VAL v99 = MKI64(0LL /* Nil */);
					incref(v96);
					VAL v100 = MKI64(0LL /* Nil */);
					VAL v101;
					mw_std_list_List_1_buildZBang(v100, &v101);
					bool v102 = true;
					VAL v103 = v99;
					VAL v104 = v101;
					VAL v105 = v96;
					bool v106 = v102;
					bool v107 = v102;
					while (v107) {
						VAL v108 = v103;
						VAL v109 = v104;
						VAL v110 = v105;
						bool v111 = v106;
						VAL branch_List_112;
						VAL branch_ZPlusLister_113;
						VAL branch_List_114;
						bool branch_Bool_115;
						switch (get_data_tag(v110)) {
							case 1LL: { // Cons
								VAL v116;
								VAL v117 = mtp_std_list_List_1_Cons(v110, &v116);
								VAL branch_List_118;
								VAL branch_Maybe_119;
								switch (get_data_tag(v117)) {
									case 7LL: { // MethodWrongType
										VAL v120;
										VAL v121 = mtp_mirth_elab_RejectedDef_MethodWrongType(v117, &v120);
										decref(v108);
										VAL v122 = mtw_std_maybe_Maybe_1_Some(v121);
										branch_Maybe_119 = v122;
										branch_List_118 = v120;
									} break;
									default: {
										decref(v117);
										VAL v123 = MKI64(0LL /* None */);
										branch_Maybe_119 = v123;
										branch_List_118 = v108;
									} break;
								}
								VAL v124;
								mw_std_maybe_Maybe_1_for_1_sp9(v109, branch_Maybe_119, &v124);
								bool v125 = true;
								branch_Bool_115 = v125;
								branch_List_114 = v116;
								branch_ZPlusLister_113 = v124;
								branch_List_112 = branch_List_118;
							} break;
							case 0LL: { // Nil
								VAL v126 = MKI64(0LL /* Nil */);
								bool v127 = false;
								branch_Bool_115 = v127;
								branch_List_114 = v126;
								branch_ZPlusLister_113 = v109;
								branch_List_112 = v108;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v107 = branch_Bool_115;
						v106 = branch_Bool_115;
						v105 = branch_List_114;
						v104 = branch_ZPlusLister_113;
						v103 = branch_List_112;
					}
					decref(v105);
					VAL v128 = mw_std_list_ZPlusLister_1_doneZBang(v104);
					STR* v129;
					STRLIT(v129, " ", 1);
					VAL v130 = mw_std_list_List_1_ZToNestZAsk(v128);
					TUP* branch_ZPlusMirth_131;
					TUP* branch_ZPlusResolveDef_132;
					VAL branch_List_133;
					STR* branch_ZPlusStr_134;
					STR* branch_Str_135;
					switch (get_data_tag(v130)) {
						case 1LL: { // Some
							VAL v136 = mtp_std_maybe_Maybe_1_Some(v130);
							STR* v137;
							mw_std_str_ZPlusStr_pushZ_strZBang(v129, v98, &v137);
							STR* v138;
							STRLIT(v138, "Method ", 7);
							STR* v139;
							mw_std_str_ZPlusStr_pushZ_strZBang(v138, v137, &v139);
							VAL v140 = in_ZPlusResolveDef_2->cells[2];
							incref(v140);
							uint64_t v141 = mw_std_either_Either_2_left_1_sp1(v140);
							TUP* v142;
							STR* v143;
							mw_mirth_name_Name_nameZThen(in_ZPlusMirth_1, v139, v141, &v142, &v143);
							STR* v144;
							STRLIT(v144, " is for different type \xE2\x80\x93\xC2\xA0\x65xpected one of", 43);
							STR* v145;
							mw_std_str_ZPlusStr_pushZ_strZBang(v144, v143, &v145);
							VAL v146;
							VAL v147 = mw_std_list_Nest_1_uncons(value_tup(v136, 2), &v146);
							STR* v148;
							STRLIT(v148, " ", 1);
							STR* v149;
							mw_std_str_ZPlusStr_pushZ_strZBang(v148, v145, &v149);
							TUP* v150;
							TUP* v151 = mw_mirth_def_Def_qnameZ_hard(v142, v147, &v150);
							VAL v152 = v151->cells[0];
							incref(v152);
							decref(MKTUP(v151, 3));
							TUP* v153;
							STR* v154;
							mw_mirth_name_Namespace_qnameZThen(v150, v149, v152, &v153, &v154);
							bool v155 = true;
							TUP* v156 = v153;
							TUP* v157 = in_ZPlusResolveDef_2;
							STR* v158 = v154;
							VAL v159 = v146;
							bool v160 = v155;
							bool v161 = v155;
							while (v161) {
								TUP* v162 = v156;
								TUP* v163 = v157;
								STR* v164 = v158;
								VAL v165 = v159;
								bool v166 = v160;
								TUP* branch_ZPlusMirth_167;
								VAL branch_z_x1_168;
								STR* branch_ZPlusStr_169;
								VAL branch_List_170;
								bool branch_Bool_171;
								switch (get_data_tag(v165)) {
									case 1LL: { // Cons
										VAL v172;
										VAL v173 = mtp_std_list_List_1_Cons(v165, &v172);
										STR* v174;
										STRLIT(v174, " ", 1);
										STR* v175;
										mw_std_str_ZPlusStr_pushZ_strZBang(v174, v164, &v175);
										TUP* v176;
										TUP* v177 = mw_mirth_def_Def_qnameZ_hard(v162, v173, &v176);
										VAL v178 = v177->cells[0];
										incref(v178);
										decref(MKTUP(v177, 3));
										TUP* v179;
										STR* v180;
										mw_mirth_name_Namespace_qnameZThen(v176, v175, v178, &v179, &v180);
										bool v181 = true;
										branch_Bool_171 = v181;
										branch_List_170 = v172;
										branch_ZPlusStr_169 = v180;
										branch_z_x1_168 = MKTUP(v163, 7);
										branch_ZPlusMirth_167 = v179;
									} break;
									case 0LL: { // Nil
										VAL v182 = MKI64(0LL /* Nil */);
										bool v183 = false;
										branch_Bool_171 = v183;
										branch_List_170 = v182;
										branch_ZPlusStr_169 = v164;
										branch_z_x1_168 = MKTUP(v163, 7);
										branch_ZPlusMirth_167 = v162;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								v161 = branch_Bool_171;
								v160 = branch_Bool_171;
								v159 = branch_List_170;
								v158 = branch_ZPlusStr_169;
								v157 = value_tup(branch_z_x1_168, 7);
								v156 = branch_ZPlusMirth_167;
							}
							decref(v159);
							STR* v184;
							STRLIT(v184, " but got [", 10);
							STR* v185;
							mw_std_str_ZPlusStr_pushZ_strZBang(v184, v158, &v185);
							incref(v103);
							TUP* v186;
							VAL v187;
							STR* v188;
							mw_std_list_List_1_for_2_sp3(v156, MKTUP(v157, 7), v185, v103, &v186, &v187, &v188);
							STR* v189;
							STRLIT(v189, "]", 1);
							STR* v190;
							mw_std_str_ZPlusStr_pushZ_strZBang(v189, v188, &v190);
							STR* v191;
							STRLIT(v191, ", ", 2);
							branch_Str_135 = v191;
							branch_ZPlusStr_134 = v190;
							branch_List_133 = v103;
							branch_ZPlusResolveDef_132 = value_tup(v187, 7);
							branch_ZPlusMirth_131 = v186;
						} break;
						case 0LL: { // None
							branch_Str_135 = v129;
							branch_ZPlusStr_134 = v98;
							branch_List_133 = v103;
							branch_ZPlusResolveDef_132 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_131 = in_ZPlusMirth_1;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					decref(branch_List_133);
					VAL v192 = MKI64(0LL /* Nil */);
					VAL v193;
					mw_std_list_List_1_buildZBang(v192, &v193);
					bool v194 = true;
					VAL v195 = v193;
					VAL v196 = v96;
					bool v197 = v194;
					bool v198 = v194;
					while (v198) {
						VAL v199 = v195;
						VAL v200 = v196;
						bool v201 = v197;
						VAL branch_ZPlusLister_202;
						VAL branch_List_203;
						bool branch_Bool_204;
						switch (get_data_tag(v200)) {
							case 1LL: { // Cons
								VAL v205;
								VAL v206 = mtp_std_list_List_1_Cons(v200, &v205);
								VAL branch_Maybe_207;
								switch (get_data_tag(v206)) {
									case 7LL: { // MethodWrongType
										VAL v208;
										VAL v209 = mtp_mirth_elab_RejectedDef_MethodWrongType(v206, &v208);
										decref(v208);
										decref(v209);
										VAL v210 = MKI64(0LL /* None */);
										branch_Maybe_207 = v210;
									} break;
									default: {
										VAL v211 = mtw_std_maybe_Maybe_1_Some(v206);
										branch_Maybe_207 = v211;
									} break;
								}
								VAL v212;
								mw_std_maybe_Maybe_1_for_1_sp9(v199, branch_Maybe_207, &v212);
								bool v213 = true;
								branch_Bool_204 = v213;
								branch_List_203 = v205;
								branch_ZPlusLister_202 = v212;
							} break;
							case 0LL: { // Nil
								VAL v214 = MKI64(0LL /* Nil */);
								bool v215 = false;
								branch_Bool_204 = v215;
								branch_List_203 = v214;
								branch_ZPlusLister_202 = v199;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v198 = branch_Bool_204;
						v197 = branch_Bool_204;
						v196 = branch_List_203;
						v195 = branch_ZPlusLister_202;
					}
					decref(v196);
					VAL v216 = mw_std_list_ZPlusLister_1_doneZBang(v195);
					bool v217 = true;
					TUP* v218 = branch_ZPlusMirth_131;
					TUP* v219 = branch_ZPlusResolveDef_132;
					STR* v220 = branch_ZPlusStr_134;
					STR* v221 = branch_Str_135;
					VAL v222 = v216;
					bool v223 = v217;
					bool v224 = v217;
					while (v224) {
						TUP* v225 = v218;
						TUP* v226 = v219;
						STR* v227 = v220;
						STR* v228 = v221;
						VAL v229 = v222;
						bool v230 = v223;
						TUP* branch_ZPlusMirth_231;
						TUP* branch_ZPlusResolveDef_232;
						STR* branch_ZPlusStr_233;
						STR* branch_Str_234;
						VAL branch_List_235;
						bool branch_Bool_236;
						switch (get_data_tag(v229)) {
							case 1LL: { // Cons
								VAL v237;
								VAL v238 = mtp_std_list_List_1_Cons(v229, &v237);
								STR* v239;
								mw_std_str_ZPlusStr_pushZ_strZBang(v228, v227, &v239);
								TUP* branch_ZPlusMirth_240;
								TUP* branch_ZPlusResolveDef_241;
								STR* branch_ZPlusStr_242;
								switch (get_data_tag(v238)) {
									case 0LL: { // WrongSort
										VAL v243 = mtp_mirth_elab_RejectedDef_WrongSort(v238);
										TUP* v244;
										STR* v245;
										mw_mirth_def_Def_qnameZThen(v225, v239, v243, &v244, &v245);
										STR* v246;
										STRLIT(v246, " is not a ", 10);
										STR* v247;
										mw_std_str_ZPlusStr_pushZ_strZBang(v246, v245, &v247);
										STR* v248 = value_str(v226->cells[0]);
										incref(MKSTR(v248));
										STR* v249;
										mw_std_str_ZPlusStr_pushZ_strZBang(v248, v247, &v249);
										branch_ZPlusStr_242 = v249;
										branch_ZPlusResolveDef_241 = v226;
										branch_ZPlusMirth_240 = v244;
									} break;
									case 2LL: { // NotVisible
										VAL v250 = mtp_mirth_elab_RejectedDef_NotVisible(v238);
										TUP* v251;
										STR* v252;
										mw_mirth_def_Def_qnameZThen(v225, v239, v250, &v251, &v252);
										STR* v253;
										STRLIT(v253, " is not visible in current scope", 32);
										STR* v254;
										mw_std_str_ZPlusStr_pushZ_strZBang(v253, v252, &v254);
										branch_ZPlusStr_242 = v254;
										branch_ZPlusResolveDef_241 = v226;
										branch_ZPlusMirth_240 = v251;
									} break;
									case 3LL: { // NotImported
										VAL v255 = mtp_mirth_elab_RejectedDef_NotImported(v238);
										TUP* v256;
										STR* v257;
										mw_mirth_def_Def_qnameZThen(v225, v239, v255, &v256, &v257);
										STR* v258;
										STRLIT(v258, " is not imported in current scope", 33);
										STR* v259;
										mw_std_str_ZPlusStr_pushZ_strZBang(v258, v257, &v259);
										branch_ZPlusStr_242 = v259;
										branch_ZPlusResolveDef_241 = v226;
										branch_ZPlusMirth_240 = v256;
									} break;
									case 1LL: { // WrongArity
										VAL v260 = mtp_mirth_elab_RejectedDef_WrongArity(v238);
										TUP* v261;
										TUP* v262 = mw_mirth_def_Def_qnameZ_hard(v225, v260, &v261);
										incref(MKTUP(v262, 3));
										TUP* v263;
										STR* v264;
										mw_mirth_name_QName_qnameZThen(v261, v239, v262, &v263, &v264);
										STR* v265;
										STRLIT(v265, " expects ", 9);
										STR* v266;
										mw_std_str_ZPlusStr_pushZ_strZBang(v265, v264, &v266);
										INT v267 = value_int(v262->cells[2]);
										incref(MKINT(v267));
										decref(MKTUP(v262, 3));
										STR* v268 = int_to_str(v267);
										STR* v269;
										mw_std_str_ZPlusStr_pushZ_strZBang(v268, v266, &v269);
										STR* v270;
										STRLIT(v270, " arguments", 10);
										STR* v271;
										mw_std_str_ZPlusStr_pushZ_strZBang(v270, v269, &v271);
										branch_ZPlusStr_242 = v271;
										branch_ZPlusResolveDef_241 = v226;
										branch_ZPlusMirth_240 = v263;
									} break;
									case 4LL: { // WrongQualifier
										VAL v272 = mtp_mirth_elab_RejectedDef_WrongQualifier(v238);
										TUP* v273;
										STR* v274;
										mw_mirth_def_Def_qnameZThen(v225, v239, v272, &v273, &v274);
										STR* v275;
										STRLIT(v275, " doesn't match the given qualified name", 39);
										STR* v276;
										mw_std_str_ZPlusStr_pushZ_strZBang(v275, v274, &v276);
										branch_ZPlusStr_242 = v276;
										branch_ZPlusResolveDef_241 = v226;
										branch_ZPlusMirth_240 = v273;
									} break;
									case 5LL: { // WrongConstructor
										VAL v277 = mtp_mirth_elab_RejectedDef_WrongConstructor(v238);
										TUP* v278;
										STR* v279;
										mw_mirth_def_Def_qnameZThen(v225, v239, v277, &v278, &v279);
										STR* v280;
										STRLIT(v280, " is constructor for a different type", 36);
										STR* v281;
										mw_std_str_ZPlusStr_pushZ_strZBang(v280, v279, &v281);
										branch_ZPlusStr_242 = v281;
										branch_ZPlusResolveDef_241 = v226;
										branch_ZPlusMirth_240 = v278;
									} break;
									case 7LL: { // MethodWrongType
										VAL v282;
										VAL v283 = mtp_mirth_elab_RejectedDef_MethodWrongType(v238, &v282);
										mw_std_prelude_impossibleZBang();
									} break;
									case 6LL: { // MethodNotAvailable
										VAL v284 = mtp_mirth_elab_RejectedDef_MethodNotAvailable(v238);
										TUP* v285;
										STR* v286;
										mw_mirth_def_Def_qnameZThen(v225, v239, v284, &v285, &v286);
										STR* v287;
										STRLIT(v287, " is not avaliable for current stack", 35);
										STR* v288;
										mw_std_str_ZPlusStr_pushZ_strZBang(v287, v286, &v288);
										branch_ZPlusStr_242 = v288;
										branch_ZPlusResolveDef_241 = v226;
										branch_ZPlusMirth_240 = v285;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								STR* v289;
								STRLIT(v289, ", ", 2);
								bool v290 = true;
								branch_Bool_236 = v290;
								branch_List_235 = v237;
								branch_Str_234 = v289;
								branch_ZPlusStr_233 = branch_ZPlusStr_242;
								branch_ZPlusResolveDef_232 = branch_ZPlusResolveDef_241;
								branch_ZPlusMirth_231 = branch_ZPlusMirth_240;
							} break;
							case 0LL: { // Nil
								VAL v291 = MKI64(0LL /* Nil */);
								bool v292 = false;
								branch_Bool_236 = v292;
								branch_List_235 = v291;
								branch_Str_234 = v228;
								branch_ZPlusStr_233 = v227;
								branch_ZPlusResolveDef_232 = v226;
								branch_ZPlusMirth_231 = v225;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v224 = branch_Bool_236;
						v223 = branch_Bool_236;
						v222 = branch_List_235;
						v221 = branch_Str_234;
						v220 = branch_ZPlusStr_233;
						v219 = branch_ZPlusResolveDef_232;
						v218 = branch_ZPlusMirth_231;
					}
					decref(v222);
					decref(MKSTR(v221));
					branch_ZPlusStr_20 = v220;
					branch_ZPlusResolveDef_19 = v219;
					branch_ZPlusMirth_18 = v218;
				} break;
			}
			branch_ZPlusStr_9 = branch_ZPlusStr_20;
			branch_ZPlusResolveDef_8 = branch_ZPlusResolveDef_19;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v293;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(branch_ZPlusMirth_7, v4, branch_ZPlusStr_9, &v293);
	mw_mirth_elab_ZPlusResolveDef_rdrop(branch_ZPlusResolveDef_8);
	*out_ZPlusMirth_3 = v293;
}
static bool mw_mirth_name_QName_punningZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_QName_2, 3));
	VAL v5 = in_QName_2->cells[0];
	incref(v5);
	decref(MKTUP(in_QName_2, 3));
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(v5)) {
		case 3LL: { // Tycon
			VAL v8 = mtp_mirth_name_Namespace_Tycon(v5);
			TUP* v9;
			uint64_t v10 = mw_mirth_tycon_Tycon_name(in_ZPlusMirth_1, v8, &v9);
			uint64_t v11 = value_u64(in_QName_2->cells[1]);
			decref(MKTUP(in_QName_2, 3));
			bool v12 = mw_mirth_name_Name_ZEqual(v10, v11);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		default: {
			decref(v5);
			decref(MKTUP(in_QName_2, 3));
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_def_Def_punningZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_name_QName_punningZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Def_3, TUP* *out_ZPlusMirth_4) {
	incref(in_Def_3);
	TUP* v6;
	TUP* v7 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_3, &v6);
	VAL v8 = v7->cells[0];
	incref(v8);
	decref(MKTUP(v7, 3));
	TUP* branch_ZPlusMirth_9;
	bool branch_Bool_10;
	switch (get_data_tag(v8)) {
		case 0LL: { // Root
			decref(in_Def_3);
			bool v11 = true;
			branch_Bool_10 = v11;
			branch_ZPlusMirth_9 = v6;
		} break;
		case 1LL: { // Package
			uint64_t v12 = mtp_mirth_name_Namespace_Package(v8);
			decref(in_Def_3);
			bool v13 = true;
			branch_Bool_10 = v13;
			branch_ZPlusMirth_9 = v6;
		} break;
		case 2LL: { // Module
			uint64_t v14 = mtp_mirth_name_Namespace_Module(v8);
			decref(in_Def_3);
			TUP* v15;
			bool v16 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(v6, in_Token_2, v14, &v15);
			branch_Bool_10 = v16;
			branch_ZPlusMirth_9 = v15;
		} break;
		case 3LL: { // Tycon
			VAL v17 = mtp_mirth_name_Namespace_Tycon(v8);
			TUP* v18;
			bool v19 = mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk(v6, in_Token_2, v17, &v18);
			TUP* branch_ZPlusMirth_20;
			bool branch_Bool_21;
			if (v19) {
				TUP* v22;
				bool v23 = mw_mirth_def_Def_punningZAsk(v18, in_Def_3, &v22);
				branch_Bool_21 = v23;
				branch_ZPlusMirth_20 = v22;
			} else {
				decref(in_Def_3);
				bool v24 = false;
				branch_Bool_21 = v24;
				branch_ZPlusMirth_20 = v18;
			}
			branch_Bool_10 = branch_Bool_21;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_20;
		} break;
		case 4LL: { // Word
			uint64_t v25 = mtp_mirth_name_Namespace_Word(v8);
			decref(in_Def_3);
			bool v26 = false;
			branch_Bool_10 = v26;
			branch_ZPlusMirth_9 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static bool mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Tycon_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(in_Tycon_3)) {
		case 0LL: { // Data
			uint64_t v8 = mtp_mirth_tycon_Tycon_Data(in_Tycon_3);
			TUP* v9;
			VAL v10 = mw_mirth_data_Data_headZAsk(in_ZPlusMirth_1, v8, &v9);
			TUP* branch_ZPlusMirth_11;
			bool branch_Bool_12;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					TUP* v14;
					uint64_t v15 = mw_mirth_token_Token_module(v9, value_u64(v13), &v14);
					TUP* v16;
					bool v17 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(v14, in_Token_2, v15, &v16);
					branch_Bool_12 = v17;
					branch_ZPlusMirth_11 = v16;
				} break;
				case 0LL: { // None
					bool v18 = true;
					branch_Bool_12 = v18;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_7 = branch_Bool_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 1LL: { // Table
			uint64_t v19 = mtp_mirth_tycon_Tycon_Table(in_Tycon_3);
			TUP* v20;
			uint64_t v21 = mw_mirth_table_Table_head(in_ZPlusMirth_1, v19, &v20);
			TUP* v22;
			uint64_t v23 = mw_mirth_token_Token_module(v20, v21, &v22);
			TUP* v24;
			bool v25 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(v22, in_Token_2, v23, &v24);
			branch_Bool_7 = v25;
			branch_ZPlusMirth_6 = v24;
		} break;
		case 2LL: { // Prim
			int64_t v26 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_3);
			bool v27 = true;
			branch_Bool_7 = v27;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Namespace_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(in_Namespace_3)) {
		case 0LL: { // Root
			bool v8 = true;
			branch_Bool_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v9 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			bool v10 = true;
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Module
			uint64_t v11 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			TUP* v12;
			bool v13 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(in_ZPlusMirth_1, in_Token_2, v11, &v12);
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 3LL: { // Tycon
			VAL v14 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			TUP* v15;
			TUP* v16 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v14, &v15);
			VAL v17 = v16->cells[0];
			incref(v17);
			decref(MKTUP(v16, 3));
			TUP* v18;
			bool v19 = mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk(v15, in_Token_2, v17, &v18);
			branch_Bool_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 4LL: { // Word
			uint64_t v20 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			bool v21 = false;
			branch_Bool_7 = v21;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static VAL mw_mirth_name_QName_climbZ_upZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4) {
	incref(MKTUP(in_QName_3, 3));
	uint64_t v6 = value_u64(in_QName_3->cells[1]);
	decref(MKTUP(in_QName_3, 3));
	bool v7 = mw_mirth_name_Name_ZEqual(v6, in_Name_2);
	TUP* branch_ZPlusMirth_8;
	uint64_t branch_Name_9;
	TUP* branch_QName_10;
	VAL branch_List_11;
	if (v7) {
		incref(MKTUP(in_QName_3, 3));
		VAL v12 = in_QName_3->cells[0];
		incref(v12);
		decref(MKTUP(in_QName_3, 3));
		VAL v13 = MKI64(0LL /* Nil */);
		VAL v14 = mw_std_list_List_1_cons(v12, v13);
		branch_List_11 = v14;
		branch_QName_10 = in_QName_3;
		branch_Name_9 = in_Name_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		VAL v15 = MKI64(0LL /* Nil */);
		branch_List_11 = v15;
		branch_QName_10 = in_QName_3;
		branch_Name_9 = in_Name_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	TUP* v16;
	VAL v17 = mw_mirth_name_Name_defs(branch_ZPlusMirth_8, branch_Name_9, &v16);
	bool v18 = true;
	VAL v19 = branch_List_11;
	TUP* v20 = branch_QName_10;
	TUP* v21 = v16;
	VAL v22 = v17;
	bool v23 = v18;
	bool v24 = v18;
	while (v24) {
		VAL v25 = v19;
		TUP* v26 = v20;
		TUP* v27 = v21;
		VAL v28 = v22;
		bool v29 = v23;
		TUP* branch_QName_30;
		TUP* branch_ZPlusMirth_31;
		VAL branch_List_32;
		VAL branch_List_33;
		bool branch_Bool_34;
		switch (get_data_tag(v28)) {
			case 1LL: { // Cons
				VAL v35;
				VAL v36 = mtp_std_list_List_1_Cons(v28, &v35);
				TUP* branch_QName_37;
				TUP* branch_ZPlusMirth_38;
				VAL branch_List_39;
				switch (get_data_tag(v36)) {
					case 0LL: { // Alias
						uint64_t v40 = mtp_mirth_def_Def_Alias(v36);
						void* v41 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v40);
						TUP* v42;
						VAL v43 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v27, v41, &v42);
						TUP* branch_ZPlusMirth_44;
						TUP* branch_QName_45;
						bool branch_Bool_46;
						switch (get_data_tag(v43)) {
							case 1LL: { // Some
								VAL v47 = mtp_std_maybe_Maybe_1_Some(v43);
								TUP* v48;
								TUP* v49 = mw_mirth_def_Def_qnameZ_hard(v42, v47, &v48);
								incref(MKTUP(v26, 3));
								bool v50 = mw_mirth_name_QName_ZEqual(v49, v26);
								branch_Bool_46 = v50;
								branch_QName_45 = v26;
								branch_ZPlusMirth_44 = v48;
							} break;
							case 0LL: { // None
								bool v51 = false;
								branch_Bool_46 = v51;
								branch_QName_45 = v26;
								branch_ZPlusMirth_44 = v42;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						TUP* branch_QName_52;
						TUP* branch_ZPlusMirth_53;
						VAL branch_List_54;
						if (branch_Bool_46) {
							TUP* v55;
							VAL v56 = mw_mirth_alias_Alias_namespaceZ_hard(branch_ZPlusMirth_44, v40, &v55);
							VAL v57 = mw_std_list_List_1_cons(v56, v25);
							branch_List_54 = v57;
							branch_ZPlusMirth_53 = v55;
							branch_QName_52 = branch_QName_45;
						} else {
							branch_List_54 = v25;
							branch_ZPlusMirth_53 = branch_ZPlusMirth_44;
							branch_QName_52 = branch_QName_45;
						}
						branch_List_39 = branch_List_54;
						branch_ZPlusMirth_38 = branch_ZPlusMirth_53;
						branch_QName_37 = branch_QName_52;
					} break;
					case 5LL: { // Type
						uint64_t v58 = mtp_mirth_def_Def_Type(v36);
						TUP* v59;
						VAL v60 = mw_mirth_typedef_TypeDef_target(v27, v58, &v59);
						TUP* v61;
						VAL v62 = mw_mirth_type_Type_tyconZAsk(v59, v60, &v61);
						TUP* branch_ZPlusMirth_63;
						TUP* branch_QName_64;
						bool branch_Bool_65;
						switch (get_data_tag(v62)) {
							case 1LL: { // Some
								VAL v66 = mtp_std_maybe_Maybe_1_Some(v62);
								TUP* v67;
								TUP* v68 = mw_mirth_tycon_Tycon_qnameZ_hard(v61, v66, &v67);
								incref(MKTUP(v26, 3));
								bool v69 = mw_mirth_name_QName_ZEqual(v68, v26);
								branch_Bool_65 = v69;
								branch_QName_64 = v26;
								branch_ZPlusMirth_63 = v67;
							} break;
							case 0LL: { // None
								bool v70 = false;
								branch_Bool_65 = v70;
								branch_QName_64 = v26;
								branch_ZPlusMirth_63 = v61;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						TUP* branch_QName_71;
						TUP* branch_ZPlusMirth_72;
						VAL branch_List_73;
						if (branch_Bool_65) {
							TUP* v74;
							VAL v75 = mw_mirth_typedef_TypeDef_namespace(branch_ZPlusMirth_63, v58, &v74);
							VAL v76 = mw_std_list_List_1_cons(v75, v25);
							branch_List_73 = v76;
							branch_ZPlusMirth_72 = v74;
							branch_QName_71 = branch_QName_64;
						} else {
							branch_List_73 = v25;
							branch_ZPlusMirth_72 = branch_ZPlusMirth_63;
							branch_QName_71 = branch_QName_64;
						}
						branch_List_39 = branch_List_73;
						branch_ZPlusMirth_38 = branch_ZPlusMirth_72;
						branch_QName_37 = branch_QName_71;
					} break;
					default: {
						decref(v36);
						branch_List_39 = v25;
						branch_ZPlusMirth_38 = v27;
						branch_QName_37 = v26;
					} break;
				}
				bool v77 = true;
				branch_Bool_34 = v77;
				branch_List_33 = v35;
				branch_List_32 = branch_List_39;
				branch_ZPlusMirth_31 = branch_ZPlusMirth_38;
				branch_QName_30 = branch_QName_37;
			} break;
			case 0LL: { // Nil
				VAL v78 = MKI64(0LL /* Nil */);
				bool v79 = false;
				branch_Bool_34 = v79;
				branch_List_33 = v78;
				branch_List_32 = v25;
				branch_ZPlusMirth_31 = v27;
				branch_QName_30 = v26;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_34;
		v23 = branch_Bool_34;
		v22 = branch_List_33;
		v21 = branch_ZPlusMirth_31;
		v20 = branch_QName_30;
		v19 = branch_List_32;
	}
	decref(v22);
	decref(MKTUP(v20, 3));
	*out_ZPlusMirth_4 = v21;
	return v19;
}
static VAL mw_mirth_name_QName_climbZ_upZ_dnameZAsk (TUP* in_ZPlusMirth_1, TUP* in_ZPlusResolveDef_2, TUP* in_DName_3, TUP* in_QName_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusResolveDef_6) {
	incref(MKTUP(in_DName_3, 2));
	VAL v8 = mw_mirth_name_DName_rootZAsk(in_DName_3);
	VAL v9 = mw_std_maybe_Maybe_1_ZToList(v8);
	TUP* v10 = mw_mirth_name_DName_parts(in_DName_3);
	VAL v11;
	VAL v12 = mw_std_list_Nest_1_unsnoc(v10, &v11);
	VAL v13 = mw_std_list_List_1_cat(v9, v12);
	bool v14 = value_bool(in_ZPlusResolveDef_2->cells[5]);
	TUP* branch_ZPlusMirth_15;
	TUP* branch_ZPlusResolveDef_16;
	VAL branch_List_17;
	VAL branch_z_x1_18;
	if (v14) {
		decref(v11);
		VAL v19;
		VAL v20 = mw_std_list_List_1_unsnoc(v13, &v19);
		TUP* branch_ZPlusMirth_21;
		TUP* branch_ZPlusResolveDef_22;
		VAL branch_z_x1_23;
		switch (get_data_tag(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				branch_z_x1_23 = v24;
				branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
				branch_ZPlusMirth_21 = in_ZPlusMirth_1;
			} break;
			case 0LL: { // None
				uint64_t v25 = value_u64(in_ZPlusResolveDef_2->cells[1]);
				STR* v26;
				STRLIT(v26, "Error, expected a namespace in QName.climb-up-dname?", 52);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v25, v26);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_z_x1_18 = branch_z_x1_23;
		branch_List_17 = v20;
		branch_ZPlusResolveDef_16 = branch_ZPlusResolveDef_22;
		branch_ZPlusMirth_15 = branch_ZPlusMirth_21;
	} else {
		branch_z_x1_18 = v11;
		branch_List_17 = v13;
		branch_ZPlusResolveDef_16 = in_ZPlusResolveDef_2;
		branch_ZPlusMirth_15 = in_ZPlusMirth_1;
	}
	TUP* v29;
	VAL v30 = mw_mirth_name_QName_climbZ_upZ_nameZAsk(branch_ZPlusMirth_15, value_u64(branch_z_x1_18), in_QName_4, &v29);
	VAL v31 = mw_std_list_List_1_reverse(branch_List_17);
	bool v32 = true;
	TUP* v33 = v29;
	TUP* v34 = branch_ZPlusResolveDef_16;
	VAL v35 = v30;
	VAL v36 = v31;
	bool v37 = v32;
	bool v38 = v32;
	while (v38) {
		TUP* v39 = v33;
		TUP* v40 = v34;
		VAL v41 = v35;
		VAL v42 = v36;
		bool v43 = v37;
		TUP* branch_ZPlusMirth_44;
		VAL branch_z_x1_45;
		VAL branch_List_46;
		VAL branch_List_47;
		bool branch_Bool_48;
		switch (get_data_tag(v42)) {
			case 1LL: { // Cons
				VAL v49;
				VAL v50 = mtp_std_list_List_1_Cons(v42, &v49);
				VAL v51 = MKI64(0LL /* Nil */);
				VAL v52;
				mw_std_list_List_1_buildZBang(v51, &v52);
				bool v53 = true;
				VAL v54 = v50;
				TUP* v55 = v39;
				TUP* v56 = v40;
				VAL v57 = v52;
				VAL v58 = v41;
				bool v59 = v53;
				bool v60 = v53;
				while (v60) {
					VAL v61 = v54;
					TUP* v62 = v55;
					TUP* v63 = v56;
					VAL v64 = v57;
					VAL v65 = v58;
					bool v66 = v59;
					uint64_t branch_Name_67;
					TUP* branch_ZPlusMirth_68;
					VAL branch_z_x1_69;
					VAL branch_ZPlusLister_70;
					VAL branch_List_71;
					bool branch_Bool_72;
					switch (get_data_tag(v65)) {
						case 1LL: { // Cons
							VAL v73;
							VAL v74 = mtp_std_list_List_1_Cons(v65, &v73);
							TUP* v75;
							VAL v76 = mw_mirth_name_Namespace_qname(v62, v74, &v75);
							uint64_t branch_Name_77;
							TUP* branch_ZPlusMirth_78;
							VAL branch_List_79;
							VAL branch_z_x1_80;
							switch (get_data_tag(v76)) {
								case 1LL: { // Some
									VAL v81 = mtp_std_maybe_Maybe_1_Some(v76);
									incref(v61);
									TUP* v82;
									VAL v83 = mw_mirth_name_QName_climbZ_upZ_nameZAsk(v75, value_u64(v61), value_tup(v81, 3), &v82);
									branch_z_x1_80 = MKTUP(v63, 7);
									branch_List_79 = v83;
									branch_ZPlusMirth_78 = v82;
									branch_Name_77 = value_u64(v61);
								} break;
								case 0LL: { // None
									VAL v84 = MKI64(0LL /* Nil */);
									branch_z_x1_80 = MKTUP(v63, 7);
									branch_List_79 = v84;
									branch_ZPlusMirth_78 = v75;
									branch_Name_77 = value_u64(v61);
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							VAL v85;
							mw_std_list_List_1_for_1_sp49(v64, branch_List_79, &v85);
							bool v86 = true;
							branch_Bool_72 = v86;
							branch_List_71 = v73;
							branch_ZPlusLister_70 = v85;
							branch_z_x1_69 = branch_z_x1_80;
							branch_ZPlusMirth_68 = branch_ZPlusMirth_78;
							branch_Name_67 = branch_Name_77;
						} break;
						case 0LL: { // Nil
							VAL v87 = MKI64(0LL /* Nil */);
							bool v88 = false;
							branch_Bool_72 = v88;
							branch_List_71 = v87;
							branch_ZPlusLister_70 = v64;
							branch_z_x1_69 = MKTUP(v63, 7);
							branch_ZPlusMirth_68 = v62;
							branch_Name_67 = value_u64(v61);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v60 = branch_Bool_72;
					v59 = branch_Bool_72;
					v58 = branch_List_71;
					v57 = branch_ZPlusLister_70;
					v56 = value_tup(branch_z_x1_69, 7);
					v55 = branch_ZPlusMirth_68;
					v54 = MKU64(branch_Name_67);
				}
				decref(v58);
				VAL v89 = mw_std_list_ZPlusLister_1_doneZBang(v57);
				decref(v54);
				bool v90 = true;
				branch_Bool_48 = v90;
				branch_List_47 = v49;
				branch_List_46 = v89;
				branch_z_x1_45 = MKTUP(v56, 7);
				branch_ZPlusMirth_44 = v55;
			} break;
			case 0LL: { // Nil
				VAL v91 = MKI64(0LL /* Nil */);
				bool v92 = false;
				branch_Bool_48 = v92;
				branch_List_47 = v91;
				branch_List_46 = v41;
				branch_z_x1_45 = MKTUP(v40, 7);
				branch_ZPlusMirth_44 = v39;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v38 = branch_Bool_48;
		v37 = branch_Bool_48;
		v36 = branch_List_47;
		v35 = branch_List_46;
		v34 = value_tup(branch_z_x1_45, 7);
		v33 = branch_ZPlusMirth_44;
	}
	decref(v36);
	*out_ZPlusResolveDef_6 = v34;
	*out_ZPlusMirth_5 = v33;
	return v35;
}
static VAL mw_mirth_elab_elabZ_typeZ_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, uint64_t in_Token_4, TUP* *out_ZPlusMirth_5, uint64_t *out_Token_7) {
	TUP* v8 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v8, 2));
	incref(MKTUP(v8, 2));
	VAL v9 = v8->cells[0];
	incref(v9);
	decref(MKTUP(v8, 2));
	VAL v10 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_4));
	VAL v11 = tup_replace(MKTUP(v8, 2), 0, v10);
	TUP* v12 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	decref(MKTUP(v12, 2));
	in_ZPlusMirth_1->cells[6] = v11;
	TUP* v13;
	VAL v14 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, in_Type_3, &v13);
	TUP* v15 = value_tup(v13->cells[6], 2);
	incref(MKTUP(v15, 2));
	VAL v16 = tup_replace(MKTUP(v15, 2), 0, v9);
	TUP* v17 = value_tup(v13->cells[6], 2);
	decref(MKTUP(v17, 2));
	v13->cells[6] = v16;
	*out_Token_7 = in_Token_4;
	*out_ZPlusMirth_5 = v13;
	return v14;
}
static VAL mw_mirth_elab_elabZ_simpleZ_typeZ_argZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_var_Ctx_L0();
	bool v6 = false;
	bool v7 = false;
	TUP* v8;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v5, in_Token_2, v6, v7, &v8);
	TUP* v9;
	TUP* v10;
	VAL v11 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(in_ZPlusMirth_1, v8, &v9, &v10);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v10);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static VAL mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4) {
	bool v6 = false;
	bool v7 = false;
	TUP* v8;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(in_Ctx_2, in_Token_3, v6, v7, &v8);
	TUP* v9;
	TUP* v10;
	VAL v11 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_atomZBang(in_ZPlusMirth_1, v8, &v9, &v10);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v10);
	*out_ZPlusMirth_4 = v9;
	return v11;
}
static uint64_t mw_mirth_elab_ZPlusAB_abZ_tokenZAt (TUP* in_ZPlusAB_1, TUP* *out_ZPlusAB_2) {
	incref(MKTUP(in_ZPlusAB_1, 7));
	uint64_t v4 = value_u64(in_ZPlusAB_1->cells[2]);
	decref(MKTUP(in_ZPlusAB_1, 7));
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static void mw_mirth_elab_ZPlusAB_abZ_tokenZBang (TUP* in_ZPlusAB_1, uint64_t in_Token_2, TUP* *out_ZPlusAB_3) {
	incref(MKTUP(in_ZPlusAB_1, 7));
	VAL v4 = tup_replace(MKTUP(in_ZPlusAB_1, 7), 2, MKU64(in_Token_2));
	decref(MKTUP(in_ZPlusAB_1, 7));
	*out_ZPlusAB_3 = value_tup(v4, 7);
}
static VAL mw_mirth_elab_ZPlusAB_abZ_typeZAt (TUP* in_ZPlusAB_1, TUP* *out_ZPlusAB_2) {
	incref(MKTUP(in_ZPlusAB_1, 7));
	VAL v4 = in_ZPlusAB_1->cells[5];
	incref(v4);
	decref(MKTUP(in_ZPlusAB_1, 7));
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static void mw_mirth_elab_ZPlusAB_abZ_typeZBang (TUP* in_ZPlusAB_1, VAL in_StackType_2, TUP* *out_ZPlusAB_3) {
	incref(MKTUP(in_ZPlusAB_1, 7));
	VAL v4 = tup_replace(MKTUP(in_ZPlusAB_1, 7), 5, in_StackType_2);
	decref(MKTUP(in_ZPlusAB_1, 7));
	*out_ZPlusAB_3 = value_tup(v4, 7);
}
static VAL mw_mirth_elab_ZPlusAB_abZ_ctxZAt (TUP* in_ZPlusAB_1, TUP* *out_ZPlusAB_2) {
	incref(MKTUP(in_ZPlusAB_1, 7));
	VAL v4 = in_ZPlusAB_1->cells[3];
	incref(v4);
	decref(MKTUP(in_ZPlusAB_1, 7));
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static VAL mw_mirth_elab_ZPlusAB_abZ_homeZAt (TUP* in_ZPlusAB_1, TUP* *out_ZPlusAB_2) {
	incref(MKTUP(in_ZPlusAB_1, 7));
	VAL v4 = in_ZPlusAB_1->cells[0];
	incref(v4);
	decref(MKTUP(in_ZPlusAB_1, 7));
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static bool mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZAsk (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	incref(in_List_3);
	bool v7 = mw_std_list_List_1_emptyZAsk(in_List_3);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusAB_9;
	bool branch_Bool_10;
	if (v7) {
		decref(in_List_3);
		bool v11 = false;
		branch_Bool_10 = v11;
		branch_ZPlusAB_9 = in_ZPlusAB_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		TUP* v12;
		VAL v13 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v12);
		TUP* v14;
		VAL v15 = mw_mirth_type_StackType_topZ_resourceZ_tycons(in_ZPlusMirth_1, v13, &v14);
		VAL v16 = mw_std_list_List_1_reverse(v15);
		VAL v17 = mw_std_list_List_1_reverse(in_List_3);
		TUP* v18;
		TUP* v19;
		bool v20 = mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZ_aux(v14, v12, v16, v17, &v18, &v19);
		branch_Bool_10 = v20;
		branch_ZPlusAB_9 = v19;
		branch_ZPlusMirth_8 = v18;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Bool_10;
}
static bool mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZ_aux (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6) {
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusAB_9;
	bool branch_Bool_10;
	switch (get_data_tag(in_List_4)) {
		case 0LL: { // Nil
			decref(in_List_3);
			bool v11 = false;
			branch_Bool_10 = v11;
			branch_ZPlusAB_9 = in_ZPlusAB_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Cons
			VAL v12;
			VAL v13 = mtp_std_list_List_1_Cons(in_List_4, &v12);
			TUP* branch_ZPlusMirth_14;
			TUP* branch_ZPlusAB_15;
			bool branch_Bool_16;
			switch (get_data_tag(in_List_3)) {
				case 0LL: { // Nil
					decref(v13);
					decref(v12);
					bool v17 = false;
					branch_Bool_16 = v17;
					branch_ZPlusAB_15 = in_ZPlusAB_2;
					branch_ZPlusMirth_14 = in_ZPlusMirth_1;
				} break;
				case 1LL: { // Cons
					VAL v18;
					VAL v19 = mtp_std_list_List_1_Cons(in_List_3, &v18);
					incref(v13);
					bool v20 = mw_mirth_tycon_Tycon_ZEqual(v19, v13);
					TUP* branch_ZPlusMirth_21;
					TUP* branch_ZPlusAB_22;
					bool branch_Bool_23;
					if (v20) {
						decref(v13);
						TUP* v24;
						TUP* v25;
						bool v26 = mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZ_aux(in_ZPlusMirth_1, in_ZPlusAB_2, v18, v12, &v24, &v25);
						branch_Bool_23 = v26;
						branch_ZPlusAB_22 = v25;
						branch_ZPlusMirth_21 = v24;
					} else {
						decref(v12);
						VAL v27 = MKI64(0LL /* None */);
						bool v28 = true;
						VAL v29 = v13;
						VAL v30 = v27;
						VAL v31 = v18;
						bool v32 = v28;
						bool v33 = v28;
						while (v33) {
							VAL v34 = v29;
							VAL v35 = v30;
							VAL v36 = v31;
							bool v37 = v32;
							VAL v38;
							VAL v39 = mw_std_list_List_1_uncons(v36, &v38);
							VAL branch_Tycon_40;
							VAL branch_Maybe_41;
							VAL branch_List_42;
							bool branch_Bool_43;
							switch (get_data_tag(v39)) {
								case 1LL: { // Some
									VAL v44 = mtp_std_maybe_Maybe_1_Some(v39);
									incref(v44);
									incref(v34);
									bool v45 = mw_mirth_tycon_Tycon_ZEqual(v34, v44);
									VAL branch_Tycon_46;
									VAL branch_Maybe_47;
									if (v45) {
										VAL v48 = mtw_std_maybe_Maybe_1_Some(v44);
										branch_Maybe_47 = v48;
										branch_Tycon_46 = v34;
									} else {
										decref(v44);
										VAL v49 = MKI64(0LL /* None */);
										branch_Maybe_47 = v49;
										branch_Tycon_46 = v34;
									}
									VAL branch_Tycon_50;
									VAL branch_Maybe_51;
									VAL branch_List_52;
									switch (get_data_tag(branch_Maybe_47)) {
										case 0LL: { // None
											branch_List_52 = v38;
											branch_Maybe_51 = v35;
											branch_Tycon_50 = branch_Tycon_46;
										} break;
										default: {
											decref(v38);
											decref(v35);
											VAL v53 = MKI64(0LL /* Nil */);
											branch_List_52 = v53;
											branch_Maybe_51 = branch_Maybe_47;
											branch_Tycon_50 = branch_Tycon_46;
										} break;
									}
									bool v54 = true;
									branch_Bool_43 = v54;
									branch_List_42 = branch_List_52;
									branch_Maybe_41 = branch_Maybe_51;
									branch_Tycon_40 = branch_Tycon_50;
								} break;
								case 0LL: { // None
									bool v55 = false;
									branch_Bool_43 = v55;
									branch_List_42 = v38;
									branch_Maybe_41 = v35;
									branch_Tycon_40 = v34;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							v33 = branch_Bool_43;
							v32 = branch_Bool_43;
							v31 = branch_List_42;
							v30 = branch_Maybe_41;
							v29 = branch_Tycon_40;
						}
						decref(v31);
						decref(v29);
						int64_t v56 = get_data_tag(v30);
						decref(v30);
						INT v57 = WRAP_I63(0LL);
						INT v58 = i64_to_int(v56);
						bool v59 = int_eq(v58, v57);
						bool v60 = !v59;
						branch_Bool_23 = v60;
						branch_ZPlusAB_22 = in_ZPlusAB_2;
						branch_ZPlusMirth_21 = in_ZPlusMirth_1;
					}
					branch_Bool_16 = branch_Bool_23;
					branch_ZPlusAB_15 = branch_ZPlusAB_22;
					branch_ZPlusMirth_14 = branch_ZPlusMirth_21;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_10 = branch_Bool_16;
			branch_ZPlusAB_9 = branch_ZPlusAB_15;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Bool_10;
}
static void mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	incref(in_List_3);
	TUP* v6;
	TUP* v7;
	bool v8 = mw_mirth_elab_ZPlusAB_worthZ_slidingZ_forZAsk(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, &v6, &v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusAB_10;
	if (v8) {
		VAL v11;
		VAL v12 = mw_std_list_List_1_unsnoc(in_List_3, &v11);
		VAL branch_z_x1_13;
		switch (get_data_tag(v11)) {
			case 1LL: { // Some
				VAL v14 = mtp_std_maybe_Maybe_1_Some(v11);
				branch_z_x1_13 = v14;
			} break;
			case 0LL: { // None
				STR* v15;
				STRLIT(v15, "logic error: expected resource for sliding", 42);
				do_panic(v15);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		TUP* v17;
		TUP* v18;
		bool v19 = mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconZ_toZ_topZBang(v6, v7, branch_z_x1_13, &v17, &v18);
		TUP* branch_ZPlusMirth_20;
		TUP* branch_ZPlusAB_21;
		if (v19) {
			TUP* v22;
			VAL v23 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v18, &v22);
			TUP* v24;
			VAL v25 = mw_mirth_type_StackType_forceZ_withZAskZBang(v17, v23, &v24);
			VAL v26 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v25);
			TUP* v27;
			VAL v28 = mw_mirth_type_StackType_FreshZBang(v24, &v27);
			TUP* v29 = mw_mirth_type_TZ_ZTo(v26, v28);
			TUP* v30;
			VAL v31 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v22, &v30);
			TUP* v32;
			uint64_t v33 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v30, &v32);
			TUP* v34;
			VAL v35 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v32, &v34);
			VAL v36;
			VAL v37;
			mtp_mirth_type_ArrowType_ArrowType(v29, &v36, &v37);
			incref(v36);
			VAL v38 = MKI64(0LL /* Nil */);
			TUP* v39 = mtw_mirth_arrow_Arrow_Arrow(v35, v33, v33, v31, v36, v36, v38);
			TUP* v40;
			TUP* v41;
			mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang(v27, v39, v12, &v40, &v41);
			TUP* v42;
			TUP* v43;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v40, v41, v37, &v42, &v43);
			TUP* v44;
			uint64_t v45 = mw_mirth_arrow_Block_newZBang(v42, v43, &v44);
			VAL v46 = MKI64(0LL /* Nil */);
			VAL v47 = mw_std_list_List_1_cons(MKU64(v45), v46);
			int64_t v48 = 6LL /* RDip */;
			TUP* v49;
			TUP* v50;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v44, v34, v47, v48, &v49, &v50);
			branch_ZPlusAB_21 = v50;
			branch_ZPlusMirth_20 = v49;
		} else {
			decref(v12);
			branch_ZPlusAB_21 = v18;
			branch_ZPlusMirth_20 = v17;
		}
		branch_ZPlusAB_10 = branch_ZPlusAB_21;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_20;
	} else {
		decref(in_List_3);
		branch_ZPlusAB_10 = v7;
		branch_ZPlusMirth_9 = v6;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static bool mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconZ_toZ_topZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Tycon_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v7;
	VAL v8 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk(in_ZPlusMirth_1, v8, &v9);
	TUP* branch_ZPlusMirth_11;
	TUP* branch_ZPlusAB_12;
	bool branch_Bool_13;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			incref(in_Tycon_3);
			bool v15 = mw_mirth_tycon_Tycon_ZEqual(v14, in_Tycon_3);
			TUP* branch_ZPlusMirth_16;
			TUP* branch_ZPlusAB_17;
			bool branch_Bool_18;
			if (v15) {
				decref(in_Tycon_3);
				bool v19 = true;
				branch_Bool_18 = v19;
				branch_ZPlusAB_17 = v7;
				branch_ZPlusMirth_16 = v9;
			} else {
				TUP* v20;
				VAL v21 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v7, &v20);
				TUP* v22;
				VAL v23 = mw_mirth_type_StackType_forceZ_withZAskZBang(v9, v21, &v22);
				VAL v24 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v23);
				TUP* v25;
				VAL v26 = mw_mirth_type_StackType_FreshZBang(v22, &v25);
				TUP* v27 = mw_mirth_type_TZ_ZTo(v24, v26);
				TUP* v28;
				VAL v29 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v20, &v28);
				TUP* v30;
				uint64_t v31 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v28, &v30);
				TUP* v32;
				VAL v33 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v30, &v32);
				VAL v34;
				VAL v35;
				mtp_mirth_type_ArrowType_ArrowType(v27, &v34, &v35);
				incref(v34);
				VAL v36 = MKI64(0LL /* Nil */);
				TUP* v37 = mtw_mirth_arrow_Arrow_Arrow(v33, v31, v31, v29, v34, v34, v36);
				TUP* v38;
				TUP* v39;
				bool v40 = mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconZ_toZ_topZBang(v25, v37, in_Tycon_3, &v38, &v39);
				TUP* v41;
				TUP* v42;
				mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v38, v39, v35, &v41, &v42);
				TUP* v43;
				uint64_t v44 = mw_mirth_arrow_Block_newZBang(v41, v42, &v43);
				VAL v45 = MKI64(0LL /* Nil */);
				VAL v46 = mw_std_list_List_1_cons(MKU64(v44), v45);
				int64_t v47 = 6LL /* RDip */;
				TUP* v48;
				TUP* v49;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v43, v32, v46, v47, &v48, &v49);
				TUP* branch_ZPlusMirth_50;
				TUP* branch_ZPlusAB_51;
				bool branch_Bool_52;
				if (v40) {
					VAL v53 = MKI64(0LL /* Nil */);
					int64_t v54 = 4LL /* RSwap */;
					TUP* v55;
					TUP* v56;
					mw_mirth_elab_ZPlusAB_abZ_primZBang(v48, v49, v53, v54, &v55, &v56);
					bool v57 = true;
					branch_Bool_52 = v57;
					branch_ZPlusAB_51 = v56;
					branch_ZPlusMirth_50 = v55;
				} else {
					bool v58 = false;
					branch_Bool_52 = v58;
					branch_ZPlusAB_51 = v49;
					branch_ZPlusMirth_50 = v48;
				}
				branch_Bool_18 = branch_Bool_52;
				branch_ZPlusAB_17 = branch_ZPlusAB_51;
				branch_ZPlusMirth_16 = branch_ZPlusMirth_50;
			}
			branch_Bool_13 = branch_Bool_18;
			branch_ZPlusAB_12 = branch_ZPlusAB_17;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_16;
		} break;
		case 0LL: { // None
			decref(in_Tycon_3);
			bool v59 = false;
			branch_Bool_13 = v59;
			branch_ZPlusAB_12 = v7;
			branch_ZPlusMirth_11 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_Bool_13;
}
static void mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v6;
	uint64_t v7 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v6);
	TUP* v8;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, v7, &v8);
	incref(in_StackType_3);
	TUP* v9;
	VAL v10 = mw_mirth_type_StackType_topZ_resourceZ_tycons(v8, in_StackType_3, &v9);
	TUP* v11;
	TUP* v12;
	mw_mirth_elab_ZPlusAB_abZ_slideZ_resourceZ_tyconsZ_toZ_topZBang(v9, v6, v10, &v11, &v12);
	TUP* v13;
	VAL v14 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v12, &v13);
	TUP* v15;
	VAL v16 = mw_mirth_type_StackType_unifyZBang(v11, v14, in_StackType_3, &v15);
	TUP* v17;
	mw_mirth_elab_ZPlusAB_abZ_typeZBang(v13, v16, &v17);
	*out_ZPlusAB_5 = v17;
	*out_ZPlusMirth_4 = v15;
}
static void mw_mirth_elab_ZPlusAB_abZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	incref(MKTUP(in_Atom_3, 8));
	uint64_t v6 = value_u64(in_Atom_3->cells[1]);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v7;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(in_ZPlusAB_2, v6, &v7);
	incref(MKTUP(in_Atom_3, 8));
	VAL v8 = in_Atom_3->cells[6];
	incref(v8);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_typeZBang(v7, v8, &v9);
	incref(MKTUP(v9, 7));
	incref(MKTUP(v9, 7));
	VAL v10 = v9->cells[6];
	incref(v10);
	decref(MKTUP(v9, 7));
	VAL v11 = mw_std_list_List_1_Snoc(v10, MKTUP(in_Atom_3, 8));
	VAL v12 = tup_replace(MKTUP(v9, 7), 6, v11);
	decref(MKTUP(v9, 7));
	*out_ZPlusAB_5 = value_tup(v12, 7);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_elab_ZPlusAB_abZ_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, VAL in_Op_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6) {
	TUP* v7;
	VAL v8 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_2, &v7);
	TUP* v9;
	uint64_t v10 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v9);
	TUP* v11;
	VAL v12 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v9, &v11);
	incref(in_Op_4);
	TUP* v13;
	VAL v14;
	VAL v15 = mw_mirth_elab_elabZ_opZ_freshZ_sigZBang(in_ZPlusMirth_1, in_Op_4, &v13, &v14);
	TUP* v16;
	TUP* v17;
	VAL v18;
	VAL v19;
	VAL v20 = mw_mirth_elab_ZPlusAB_abZ_expandZ_opsigZBang(v13, v11, in_List_3, v14, &v16, &v17, &v18, &v19);
	TUP* v21 = mtw_mirth_arrow_Atom_Atom(v12, v10, v8, in_Op_4, v18, v20, v19, v15);
	TUP* v22;
	TUP* v23;
	mw_mirth_elab_ZPlusAB_abZ_atomZBang(v16, v17, v21, &v22, &v23);
	*out_ZPlusAB_6 = v23;
	*out_ZPlusMirth_5 = v22;
}
static VAL mw_mirth_elab_ZPlusAB_abZ_expandZ_opsigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, VAL in_OpSig_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6, VAL *out_List_7, VAL *out_StackType_9) {
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusAB_11;
	VAL branch_List_12;
	VAL branch_StackType_13;
	VAL branch_StackType_14;
	switch (get_data_tag(in_OpSig_4)) {
		case 0LL: { // Id
			TUP* v15;
			VAL v16 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v15);
			incref(v16);
			branch_StackType_14 = v16;
			branch_StackType_13 = v16;
			branch_List_12 = in_List_3;
			branch_ZPlusAB_11 = v15;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Push
			VAL v17 = mtp_mirth_elab_OpSig_Push(in_OpSig_4);
			TUP* v18;
			VAL v19 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v18);
			incref(v19);
			VAL v20 = mtw_mirth_type_StackType_Cons(v19, v17);
			branch_StackType_14 = v20;
			branch_StackType_13 = v19;
			branch_List_12 = in_List_3;
			branch_ZPlusAB_11 = v18;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Apply
			TUP* v21 = mtp_mirth_elab_OpSig_Apply(in_OpSig_4);
			VAL v22;
			VAL v23;
			mtp_mirth_type_ArrowType_ArrowType(v21, &v22, &v23);
			incref(in_List_3);
			VAL v24 = mw_std_list_List_1_reverse(in_List_3);
			VAL v25 = MKI64(0LL /* Nil */);
			VAL v26;
			mw_std_list_List_1_buildZBang(v25, &v26);
			bool v27 = true;
			TUP* v28 = in_ZPlusMirth_1;
			TUP* v29 = in_ZPlusAB_2;
			VAL v30 = v22;
			VAL v31 = v26;
			VAL v32 = v24;
			bool v33 = v27;
			bool v34 = v27;
			while (v34) {
				TUP* v35 = v28;
				TUP* v36 = v29;
				VAL v37 = v30;
				VAL v38 = v31;
				VAL v39 = v32;
				bool v40 = v33;
				TUP* branch_ZPlusMirth_41;
				TUP* branch_ZPlusAB_42;
				VAL branch_StackType_43;
				VAL branch_ZPlusLister_44;
				VAL branch_List_45;
				bool branch_Bool_46;
				switch (get_data_tag(v39)) {
					case 1LL: { // Cons
						VAL v47;
						VAL v48 = mtp_std_list_List_1_Cons(v39, &v47);
						TUP* v49;
						VAL v50 = mw_mirth_type_StackType_forceZ_consZAskZBang(v35, v37, &v49);
						TUP* branch_ZPlusMirth_51;
						TUP* branch_ZPlusAB_52;
						VAL branch_z_x1_53;
						switch (get_data_tag(v50)) {
							case 1LL: { // Some
								VAL v54 = mtp_std_maybe_Maybe_1_Some(v50);
								branch_z_x1_53 = v54;
								branch_ZPlusAB_52 = v36;
								branch_ZPlusMirth_51 = v49;
							} break;
							case 0LL: { // None
								TUP* v55;
								uint64_t v56 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v36, &v55);
								STR* v57;
								STRLIT(v57, "Expected arg type in type signature.", 36);
								mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v49, v57);
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						VAL v59 = value_tup(branch_z_x1_53, 2)->cells[0];
						VAL v60 = value_tup(branch_z_x1_53, 2)->cells[1];
						tup_decref_outer(value_tup(branch_z_x1_53, 2),2);
						TUP* v61 = tup_new(2);
						v61->size = 2;
						v61->cells[1] = v48;
						v61->cells[0] = v60;
						VAL v62;
						mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v61, 2), v38, &v62);
						bool v63 = true;
						branch_Bool_46 = v63;
						branch_List_45 = v47;
						branch_ZPlusLister_44 = v62;
						branch_StackType_43 = v59;
						branch_ZPlusAB_42 = branch_ZPlusAB_52;
						branch_ZPlusMirth_41 = branch_ZPlusMirth_51;
					} break;
					case 0LL: { // Nil
						VAL v64 = MKI64(0LL /* Nil */);
						bool v65 = false;
						branch_Bool_46 = v65;
						branch_List_45 = v64;
						branch_ZPlusLister_44 = v38;
						branch_StackType_43 = v37;
						branch_ZPlusAB_42 = v36;
						branch_ZPlusMirth_41 = v35;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v34 = branch_Bool_46;
				v33 = branch_Bool_46;
				v32 = branch_List_45;
				v31 = branch_ZPlusLister_44;
				v30 = branch_StackType_43;
				v29 = branch_ZPlusAB_42;
				v28 = branch_ZPlusMirth_41;
			}
			decref(v32);
			VAL v66 = mw_std_list_ZPlusLister_1_doneZBang(v31);
			incref(v30);
			TUP* v67;
			TUP* v68;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v28, v29, v30, &v67, &v68);
			VAL v69 = mw_std_list_List_1_reverse(v66);
			bool v70 = true;
			TUP* v71 = v67;
			TUP* v72 = v68;
			VAL v73 = v69;
			bool v74 = v70;
			bool v75 = v70;
			while (v75) {
				TUP* v76 = v71;
				TUP* v77 = v72;
				VAL v78 = v73;
				bool v79 = v74;
				TUP* branch_ZPlusMirth_80;
				TUP* branch_ZPlusAB_81;
				VAL branch_List_82;
				bool branch_Bool_83;
				switch (get_data_tag(v78)) {
					case 1LL: { // Cons
						VAL v84;
						VAL v85 = mtp_std_list_List_1_Cons(v78, &v84);
						VAL v86 = value_tup(v85, 2)->cells[0];
						VAL v87 = value_tup(v85, 2)->cells[1];
						tup_decref_outer(value_tup(v85, 2),2);
						TUP* v88;
						TUP* v89;
						mw_mirth_elab_ZPlusAB_abZ_argZ_unifyZ_typeZBang(v76, v77, v86, value_u64(v87), &v88, &v89);
						bool v90 = true;
						branch_Bool_83 = v90;
						branch_List_82 = v84;
						branch_ZPlusAB_81 = v89;
						branch_ZPlusMirth_80 = v88;
					} break;
					case 0LL: { // Nil
						VAL v91 = MKI64(0LL /* Nil */);
						bool v92 = false;
						branch_Bool_83 = v92;
						branch_List_82 = v91;
						branch_ZPlusAB_81 = v77;
						branch_ZPlusMirth_80 = v76;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v75 = branch_Bool_83;
				v74 = branch_Bool_83;
				v73 = branch_List_82;
				v72 = branch_ZPlusAB_81;
				v71 = branch_ZPlusMirth_80;
			}
			decref(v73);
			branch_StackType_14 = v23;
			branch_StackType_13 = v30;
			branch_List_12 = in_List_3;
			branch_ZPlusAB_11 = v72;
			branch_ZPlusMirth_10 = v71;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_StackType_9 = branch_StackType_14;
	*out_List_7 = branch_List_12;
	*out_ZPlusAB_6 = branch_ZPlusAB_11;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_10;
	return branch_StackType_13;
}
static void mw_mirth_elab_ZPlusAB_abZ_argZ_unifyZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Type_3, uint64_t in_Arg_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6) {
	TUP* v7;
	VAL v8 = mw_mirth_type_Type_unifyZ_blockZBang(in_ZPlusMirth_1, in_Arg_4, in_Type_3, &v7);
	decref(v8);
	*out_ZPlusAB_6 = in_ZPlusAB_2;
	*out_ZPlusMirth_5 = v7;
}
static void mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_PushValue_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_Push(in_PushValue_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_intZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, INT in_Int_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_PushValue_Int(in_Int_3);
	TUP* v7;
	TUP* v8;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_ZPlusAB_abZ_strZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_PushValue_Str(in_Str_3);
	TUP* v7;
	TUP* v8;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_ZPlusAB_abZ_bufferZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Buffer_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_Buffer(in_Buffer_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_fieldZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Field_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_Field(in_Field_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_Var(in_Var_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_primZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, int64_t in_Prim_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6) {
	VAL v7 = mtw_mirth_arrow_Op_Prim(in_Prim_4);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v7, &v8, &v9);
	*out_ZPlusAB_6 = v9;
	*out_ZPlusMirth_5 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_List_3, uint64_t in_Word_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6) {
	VAL v7 = mtw_mirth_arrow_Op_Word(in_Word_4);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, in_List_3, v7, &v8, &v9);
	*out_ZPlusAB_6 = v9;
	*out_ZPlusMirth_5 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_externalZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_External_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_External(in_External_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_LabelPush(in_Label_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_LabelPop(in_Label_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_LabelPushR(in_Label_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_mirth_arrow_Op_LabelPopR(in_Label_3);
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, v7, &v8, &v9);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, v6, &v7);
	bool v9 = !v8;
	TUP* v10 = v7;
	TUP* v11 = v5;
	bool v12 = v9;
	while (v12) {
		TUP* v13 = v10;
		TUP* v14 = v11;
		TUP* v15;
		TUP* v16;
		mw_mirth_elab_ZPlusAB_elabZ_atomZBang(v13, v14, &v15, &v16);
		TUP* v17;
		uint64_t v18 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v16, &v17);
		TUP* v19;
		uint64_t v20 = mw_mirth_token_Token_next(v15, v18, &v19);
		TUP* v21;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v17, v20, &v21);
		TUP* v22;
		uint64_t v23 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v21, &v22);
		TUP* v24;
		bool v25 = mw_mirth_token_Token_runZ_endZAsk(v19, v23, &v24);
		bool v26 = !v25;
		v12 = v26;
		v11 = v22;
		v10 = v24;
	}
	*out_ZPlusAB_4 = v11;
	*out_ZPlusMirth_3 = v10;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_value(in_ZPlusMirth_1, v6, &v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusAB_10;
	switch (get_data_tag(v8)) {
		case 26LL: { // Name
			uint64_t v11 = mtp_mirth_token_TokenValue_Name(v8);
			TUP* v12;
			TUP* v13;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_nameZBang(v7, v5, v11, &v12, &v13);
			branch_ZPlusAB_10 = v13;
			branch_ZPlusMirth_9 = v12;
		} break;
		case 27LL: { // DName
			TUP* v14 = mtp_mirth_token_TokenValue_DName(v8);
			TUP* v15;
			TUP* v16;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_dnameZBang(v7, v5, v14, &v15, &v16);
			branch_ZPlusAB_10 = v16;
			branch_ZPlusMirth_9 = v15;
		} break;
		case 25LL: { // Str
			STR* v17 = mtp_mirth_token_TokenValue_Str(v8);
			TUP* v18;
			TUP* v19;
			mw_mirth_elab_ZPlusAB_abZ_strZBang(v7, v5, v17, &v18, &v19);
			branch_ZPlusAB_10 = v19;
			branch_ZPlusMirth_9 = v18;
		} break;
		case 14LL: { // Int
			INT v20 = mtp_mirth_token_TokenValue_Int(v8);
			TUP* v21;
			TUP* v22;
			mw_mirth_elab_ZPlusAB_abZ_intZBang(v7, v5, v20, &v21, &v22);
			branch_ZPlusAB_10 = v22;
			branch_ZPlusMirth_9 = v21;
		} break;
		case 15LL: { // U8
			uint8_t v23 = mtp_mirth_token_TokenValue_U8(v8);
			VAL v24 = mtw_mirth_arrow_PushValue_U8(v23);
			TUP* v25;
			TUP* v26;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v24, &v25, &v26);
			branch_ZPlusAB_10 = v26;
			branch_ZPlusMirth_9 = v25;
		} break;
		case 16LL: { // U16
			uint16_t v27 = mtp_mirth_token_TokenValue_U16(v8);
			VAL v28 = mtw_mirth_arrow_PushValue_U16(v27);
			TUP* v29;
			TUP* v30;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v28, &v29, &v30);
			branch_ZPlusAB_10 = v30;
			branch_ZPlusMirth_9 = v29;
		} break;
		case 17LL: { // U32
			uint32_t v31 = mtp_mirth_token_TokenValue_U32(v8);
			VAL v32 = mtw_mirth_arrow_PushValue_U32(v31);
			TUP* v33;
			TUP* v34;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v32, &v33, &v34);
			branch_ZPlusAB_10 = v34;
			branch_ZPlusMirth_9 = v33;
		} break;
		case 18LL: { // U64
			uint64_t v35 = mtp_mirth_token_TokenValue_U64(v8);
			VAL v36 = mtw_mirth_arrow_PushValue_U64(v35);
			TUP* v37;
			TUP* v38;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v36, &v37, &v38);
			branch_ZPlusAB_10 = v38;
			branch_ZPlusMirth_9 = v37;
		} break;
		case 19LL: { // I8
			int8_t v39 = mtp_mirth_token_TokenValue_I8(v8);
			VAL v40 = mtw_mirth_arrow_PushValue_I8(v39);
			TUP* v41;
			TUP* v42;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v40, &v41, &v42);
			branch_ZPlusAB_10 = v42;
			branch_ZPlusMirth_9 = v41;
		} break;
		case 20LL: { // I16
			int16_t v43 = mtp_mirth_token_TokenValue_I16(v8);
			VAL v44 = mtw_mirth_arrow_PushValue_I16(v43);
			TUP* v45;
			TUP* v46;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v44, &v45, &v46);
			branch_ZPlusAB_10 = v46;
			branch_ZPlusMirth_9 = v45;
		} break;
		case 21LL: { // I32
			int32_t v47 = mtp_mirth_token_TokenValue_I32(v8);
			VAL v48 = mtw_mirth_arrow_PushValue_I32(v47);
			TUP* v49;
			TUP* v50;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v48, &v49, &v50);
			branch_ZPlusAB_10 = v50;
			branch_ZPlusMirth_9 = v49;
		} break;
		case 22LL: { // I64
			int64_t v51 = mtp_mirth_token_TokenValue_I64(v8);
			VAL v52 = mtw_mirth_arrow_PushValue_I64(v51);
			TUP* v53;
			TUP* v54;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v52, &v53, &v54);
			branch_ZPlusAB_10 = v54;
			branch_ZPlusMirth_9 = v53;
		} break;
		case 24LL: { // F32
			float v55 = mtp_mirth_token_TokenValue_F32(v8);
			VAL v56 = mtw_mirth_arrow_PushValue_F32(v55);
			TUP* v57;
			TUP* v58;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v56, &v57, &v58);
			branch_ZPlusAB_10 = v58;
			branch_ZPlusMirth_9 = v57;
		} break;
		case 23LL: { // F64
			double v59 = mtp_mirth_token_TokenValue_F64(v8);
			VAL v60 = mtw_mirth_arrow_PushValue_F64(v59);
			TUP* v61;
			TUP* v62;
			mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v7, v5, v60, &v61, &v62);
			branch_ZPlusAB_10 = v62;
			branch_ZPlusMirth_9 = v61;
		} break;
		case 8LL: { // LSquare
			uint64_t v63 = mtp_mirth_token_TokenValue_LSquare(v8);
			TUP* v64;
			TUP* v65;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_blockZBang(v7, v5, &v64, &v65);
			branch_ZPlusAB_10 = v65;
			branch_ZPlusMirth_9 = v64;
		} break;
		case 10LL: { // LCurly
			uint64_t v66 = mtp_mirth_token_TokenValue_LCurly(v8);
			TUP* v67;
			TUP* v68;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_assertZBang(v7, v5, &v67, &v68);
			branch_ZPlusAB_10 = v68;
			branch_ZPlusMirth_9 = v67;
		} break;
		case 29LL: { // LabelPush
			uint64_t v69 = mtp_mirth_token_TokenValue_LabelPush(v8);
			TUP* v70;
			uint64_t v71 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v5, &v70);
			TUP* v72;
			mw_mirth_token_Token_argsZ_0(v7, v71, &v72);
			TUP* v73;
			TUP* v74;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v72, v70, v69, &v73, &v74);
			branch_ZPlusAB_10 = v74;
			branch_ZPlusMirth_9 = v73;
		} break;
		case 28LL: { // LabelPop
			uint64_t v75 = mtp_mirth_token_TokenValue_LabelPop(v8);
			TUP* v76;
			uint64_t v77 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v5, &v76);
			TUP* v78;
			mw_mirth_token_Token_argsZ_0(v7, v77, &v78);
			TUP* v79;
			TUP* v80;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v78, v76, v75, &v79, &v80);
			branch_ZPlusAB_10 = v80;
			branch_ZPlusMirth_9 = v79;
		} break;
		case 31LL: { // LabelPushR
			uint64_t v81 = mtp_mirth_token_TokenValue_LabelPushR(v8);
			TUP* v82;
			uint64_t v83 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v5, &v82);
			TUP* v84;
			mw_mirth_token_Token_argsZ_0(v7, v83, &v84);
			TUP* v85;
			TUP* v86;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v84, v82, v81, &v85, &v86);
			branch_ZPlusAB_10 = v86;
			branch_ZPlusMirth_9 = v85;
		} break;
		case 30LL: { // LabelPopR
			uint64_t v87 = mtp_mirth_token_TokenValue_LabelPopR(v8);
			TUP* v88;
			uint64_t v89 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v5, &v88);
			TUP* v90;
			mw_mirth_token_Token_argsZ_0(v7, v89, &v90);
			TUP* v91;
			TUP* v92;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v90, v88, v87, &v91, &v92);
			branch_ZPlusAB_10 = v92;
			branch_ZPlusMirth_9 = v91;
		} break;
		case 32LL: { // LabelGet
			uint64_t v93 = mtp_mirth_token_TokenValue_LabelGet(v8);
			TUP* v94;
			TUP* v95;
			mw_mirth_elab_ZPlusAB_elabZ_labelZ_getZBang(v7, v5, v93, &v94, &v95);
			branch_ZPlusAB_10 = v95;
			branch_ZPlusMirth_9 = v94;
		} break;
		case 33LL: { // LabelSet
			uint64_t v96 = mtp_mirth_token_TokenValue_LabelSet(v8);
			TUP* v97;
			TUP* v98;
			mw_mirth_elab_ZPlusAB_elabZ_labelZ_setZBang(v7, v5, v96, &v97, &v98);
			branch_ZPlusAB_10 = v98;
			branch_ZPlusMirth_9 = v97;
		} break;
		default: {
			TUP* v99;
			uint64_t v100 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v5, &v99);
			STR* v101;
			STRLIT(v101, "Unexpected token in elab-atom!", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v7, v100, v101);
		} break;
	}
	*out_ZPlusAB_4 = branch_ZPlusAB_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
}
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_getZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v6;
	bool v7 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_ZPlusMirth_1, in_Label_3, &v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusAB_9;
	if (v7) {
		TUP* v10;
		TUP* v11;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v6, in_ZPlusAB_2, in_Label_3, &v10, &v11);
		TUP* v12;
		uint64_t v13 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v11, &v12);
		TUP* v14;
		uint64_t v15 = mw_mirth_token_Token_argsZ_1(v10, v13, &v14);
		TUP* v16;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v12, v15, &v16);
		TUP* v17;
		TUP* v18;
		mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v14, v16, &v17, &v18);
		TUP* v19;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v18, v13, &v19);
		TUP* v20;
		TUP* v21;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v17, v19, in_Label_3, &v20, &v21);
		branch_ZPlusAB_9 = v21;
		branch_ZPlusMirth_8 = v20;
	} else {
		TUP* v22;
		TUP* v23;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v6, in_ZPlusAB_2, in_Label_3, &v22, &v23);
		TUP* v24;
		uint64_t v25 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v23, &v24);
		TUP* v26;
		INT v27 = mw_mirth_token_Token_numZ_args(v22, v25, &v26);
		INT v28 = WRAP_I63(0LL);
		bool v29 = int_eq(v27, v28);
		uint64_t branch_Label_30;
		TUP* branch_ZPlusMirth_31;
		TUP* branch_ZPlusAB_32;
		if (v29) {
			VAL v33 = MKI64(0LL /* Nil */);
			int64_t v34 = 1LL /* Dup */;
			TUP* v35;
			TUP* v36;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v26, v24, v33, v34, &v35, &v36);
			branch_ZPlusAB_32 = v36;
			branch_ZPlusMirth_31 = v35;
			branch_Label_30 = in_Label_3;
		} else {
			TUP* v37;
			uint64_t v38 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v24, &v37);
			TUP* v39;
			uint64_t v40 = mw_mirth_token_Token_argsZ_1(v26, v38, &v39);
			TUP* v41;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v37, v40, &v41);
			TUP* v42;
			TUP* v43;
			mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v39, v41, &v42, &v43);
			TUP* v44;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v43, v38, &v44);
			branch_ZPlusAB_32 = v44;
			branch_ZPlusMirth_31 = v42;
			branch_Label_30 = in_Label_3;
		}
		TUP* v45;
		TUP* v46;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(branch_ZPlusMirth_31, branch_ZPlusAB_32, branch_Label_30, &v45, &v46);
		branch_ZPlusAB_9 = v46;
		branch_ZPlusMirth_8 = v45;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_labelZ_setZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v6;
	bool v7 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_ZPlusMirth_1, in_Label_3, &v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusAB_9;
	if (v7) {
		TUP* v10;
		TUP* v11;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v6, in_ZPlusAB_2, in_Label_3, &v10, &v11);
		TUP* v12;
		uint64_t v13 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v11, &v12);
		TUP* v14;
		uint64_t v15 = mw_mirth_token_Token_argsZ_1(v10, v13, &v14);
		TUP* v16;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v12, v15, &v16);
		TUP* v17;
		TUP* v18;
		mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v14, v16, &v17, &v18);
		TUP* v19;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v18, v13, &v19);
		TUP* v20;
		TUP* v21;
		mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v17, v19, in_Label_3, &v20, &v21);
		branch_ZPlusAB_9 = v21;
		branch_ZPlusMirth_8 = v20;
	} else {
		TUP* v22;
		uint64_t v23 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v22);
		TUP* v24;
		INT v25 = mw_mirth_token_Token_numZ_args(v6, v23, &v24);
		INT v26 = WRAP_I63(0LL);
		bool v27 = int_eq(v25, v26);
		TUP* branch_ZPlusMirth_28;
		TUP* branch_ZPlusAB_29;
		if (v27) {
			TUP* v30;
			TUP* v31;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v24, v22, in_Label_3, &v30, &v31);
			VAL v32 = MKI64(0LL /* Nil */);
			int64_t v33 = 2LL /* Drop */;
			TUP* v34;
			TUP* v35;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v30, v31, v32, v33, &v34, &v35);
			TUP* v36;
			TUP* v37;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v34, v35, in_Label_3, &v36, &v37);
			branch_ZPlusAB_29 = v37;
			branch_ZPlusMirth_28 = v36;
		} else {
			TUP* v38;
			TUP* v39;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v24, v22, in_Label_3, &v38, &v39);
			TUP* v40;
			uint64_t v41 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v39, &v40);
			TUP* v42;
			uint64_t v43 = mw_mirth_token_Token_argsZ_1(v38, v41, &v42);
			TUP* v44;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v40, v43, &v44);
			TUP* v45;
			TUP* v46;
			mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v42, v44, &v45, &v46);
			TUP* v47;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v46, v41, &v47);
			TUP* v48;
			TUP* v49;
			mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v45, v47, in_Label_3, &v48, &v49);
			branch_ZPlusAB_29 = v49;
			branch_ZPlusMirth_28 = v48;
		}
		branch_ZPlusAB_9 = branch_ZPlusAB_29;
		branch_ZPlusMirth_8 = branch_ZPlusMirth_28;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(in_ZPlusMirth_1, v6, &v7);
	TUP* v9;
	TUP* v10;
	uint64_t v11 = mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang(v7, v5, v8, &v9, &v10);
	VAL v12 = mtw_mirth_arrow_Op_BlockPush(v11);
	VAL v13 = MKI64(0LL /* Nil */);
	TUP* v14;
	TUP* v15;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v9, v10, v13, v12, &v14, &v15);
	*out_ZPlusAB_4 = v15;
	*out_ZPlusMirth_3 = v14;
}
static uint64_t mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v7;
	VAL v8 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_2, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v7, &v9);
	uint64_t v11 = mw_mirth_arrow_Block_allocZBang();
	void* v12 = field_mut(&mfld_mirth_arrow_Block_ZTildehome, v11);
	mut_set(v10, v12);
	void* v13 = field_mut(&mfld_mirth_arrow_Block_ZTildetoken, v11);
	mut_set(MKU64(in_Token_3), v13);
	void* v14 = field_mut(&mfld_mirth_arrow_Block_ZTildectx, v11);
	mut_set(v8, v14);
	TUP* v15;
	mw_mirth_arrow_Block_registerZ_homeZBang(in_ZPlusMirth_1, v11, &v15);
	TUP* v16;
	VAL v17 = mw_mirth_type_StackType_FreshZBang(v15, &v16);
	void* v18 = field_mut(&mfld_mirth_arrow_Block_ZTildedom, v11);
	mut_set(v17, v18);
	TUP* v19;
	VAL v20 = mw_mirth_type_StackType_FreshZBang(v16, &v19);
	void* v21 = field_mut(&mfld_mirth_arrow_Block_ZTildecod, v11);
	mut_set(v20, v21);
	VAL v22 = mtw_mirth_mirth_PropLabel_BlockArrow(v11);
	TUP* v23 = value_tup(v19->cells[6], 2);
	incref(MKTUP(v23, 2));
	FNPTR v24 = &mb_mirth_mirth_PropLabel_prop_1_sp3_0;
	VAL v25 = mtw_mirth_mirth_PropState_1_Delay(v23, MKU64(v11), MKFNPTR(v24));
	TUP* v26 = mtw_mirth_mirth_Prop_1_Prop(v22, v25);
	void* v27 = field_mut(&mfld_mirth_arrow_Block_ZTildearrow, v11);
	mut_set(MKTUP(v26, 2), v27);
	*out_ZPlusAB_5 = v9;
	*out_ZPlusMirth_4 = v19;
	return v11;
}
static VAL mw_mirth_elab_ZPlusAB_elabZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v6;
	uint64_t v7 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_args(in_ZPlusMirth_1, v7, &v8);
	VAL v10 = MKI64(0LL /* Nil */);
	VAL v11;
	mw_std_list_List_1_buildZBang(v10, &v11);
	bool v12 = true;
	TUP* v13 = v8;
	TUP* v14 = v6;
	VAL v15 = v11;
	VAL v16 = v9;
	bool v17 = v12;
	bool v18 = v12;
	while (v18) {
		TUP* v19 = v13;
		TUP* v20 = v14;
		VAL v21 = v15;
		VAL v22 = v16;
		bool v23 = v17;
		TUP* branch_ZPlusMirth_24;
		TUP* branch_ZPlusAB_25;
		VAL branch_ZPlusLister_26;
		VAL branch_List_27;
		bool branch_Bool_28;
		switch (get_data_tag(v22)) {
			case 1LL: { // Cons
				VAL v29;
				VAL v30 = mtp_std_list_List_1_Cons(v22, &v29);
				TUP* v31;
				TUP* v32;
				uint64_t v33 = mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang(v19, v20, value_u64(v30), &v31, &v32);
				VAL v34;
				mw_std_list_ZPlusLister_1_pushZBang(MKU64(v33), v21, &v34);
				bool v35 = true;
				branch_Bool_28 = v35;
				branch_List_27 = v29;
				branch_ZPlusLister_26 = v34;
				branch_ZPlusAB_25 = v32;
				branch_ZPlusMirth_24 = v31;
			} break;
			case 0LL: { // Nil
				VAL v36 = MKI64(0LL /* Nil */);
				bool v37 = false;
				branch_Bool_28 = v37;
				branch_List_27 = v36;
				branch_ZPlusLister_26 = v21;
				branch_ZPlusAB_25 = v20;
				branch_ZPlusMirth_24 = v19;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_28;
		v17 = branch_Bool_28;
		v16 = branch_List_27;
		v15 = branch_ZPlusLister_26;
		v14 = branch_ZPlusAB_25;
		v13 = branch_ZPlusMirth_24;
	}
	decref(v16);
	VAL v38 = mw_std_list_ZPlusLister_1_doneZBang(v15);
	*out_ZPlusAB_4 = v14;
	*out_ZPlusMirth_3 = v13;
	return v38;
}
static VAL mw_mirth_elab_ZPlusAB_elabZ_wordZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5, uint64_t *out_Word_7) {
	TUP* v8;
	TUP* v9;
	VAL v10 = mw_mirth_elab_ZPlusAB_elabZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v8, &v9);
	incref(v10);
	INT v11 = mw_std_list_List_1_len(v10);
	TUP* v12;
	INT v13 = mw_mirth_word_Word_arity(v8, in_Word_3, &v12);
	bool v14 = int_lt(v11, v13);
	TUP* branch_ZPlusMirth_15;
	TUP* branch_ZPlusAB_16;
	VAL branch_List_17;
	uint64_t branch_Word_18;
	if (v14) {
		incref(v10);
		INT v19 = mw_std_list_List_1_len(v10);
		TUP* v20;
		VAL v21 = mw_mirth_word_Word_params(v12, in_Word_3, &v20);
		VAL v22 = mw_std_list_List_1_dropZ_slice(v19, v21);
		VAL v23 = MKI64(0LL /* Nil */);
		VAL v24;
		mw_std_list_List_1_buildZBang(v23, &v24);
		bool v25 = true;
		TUP* v26 = v20;
		TUP* v27 = v9;
		VAL v28 = v24;
		VAL v29 = v22;
		bool v30 = v25;
		bool v31 = v25;
		while (v31) {
			TUP* v32 = v26;
			TUP* v33 = v27;
			VAL v34 = v28;
			VAL v35 = v29;
			bool v36 = v30;
			TUP* branch_ZPlusMirth_37;
			TUP* branch_ZPlusAB_38;
			VAL branch_ZPlusLister_39;
			VAL branch_List_40;
			bool branch_Bool_41;
			switch (get_data_tag(v35)) {
				case 1LL: { // Cons
					VAL v42;
					VAL v43 = mtp_std_list_List_1_Cons(v35, &v42);
					VAL v44 = VTUP(v43)->cells[1];
					incref(v44);
					decref(v43);
					TUP* branch_ZPlusMirth_45;
					TUP* branch_ZPlusAB_46;
					uint64_t branch_Arg_47;
					switch (get_data_tag(v44)) {
						case 1LL: { // Some
							VAL v48 = mtp_std_maybe_Maybe_1_Some(v44);
							TUP* v49;
							uint64_t v50 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v33, &v49);
							TUP* v51;
							TUP* v52 = mw_mirth_token_Token_location(v32, v50, &v51);
							TUP* v53;
							uint64_t v54 = mw_mirth_token_Token_cloneZ_runZBang(v51, v52, value_u64(v48), &v53);
							TUP* v55;
							TUP* v56;
							uint64_t v57 = mw_mirth_elab_ZPlusAB_elabZ_blockZ_atZBang(v53, v49, v54, &v55, &v56);
							branch_Arg_47 = v57;
							branch_ZPlusAB_46 = v56;
							branch_ZPlusMirth_45 = v55;
						} break;
						case 0LL: { // None
							TUP* v58;
							uint64_t v59 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v33, &v58);
							STR* v60;
							STRLIT(v60, "word parameter is missing, has no default implementation", 56);
							mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v32, v59, v60);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					VAL v63;
					mw_std_list_ZPlusLister_1_pushZBang(MKU64(branch_Arg_47), v34, &v63);
					bool v64 = true;
					branch_Bool_41 = v64;
					branch_List_40 = v42;
					branch_ZPlusLister_39 = v63;
					branch_ZPlusAB_38 = branch_ZPlusAB_46;
					branch_ZPlusMirth_37 = branch_ZPlusMirth_45;
				} break;
				case 0LL: { // Nil
					VAL v65 = MKI64(0LL /* Nil */);
					bool v66 = false;
					branch_Bool_41 = v66;
					branch_List_40 = v65;
					branch_ZPlusLister_39 = v34;
					branch_ZPlusAB_38 = v33;
					branch_ZPlusMirth_37 = v32;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v31 = branch_Bool_41;
			v30 = branch_Bool_41;
			v29 = branch_List_40;
			v28 = branch_ZPlusLister_39;
			v27 = branch_ZPlusAB_38;
			v26 = branch_ZPlusMirth_37;
		}
		decref(v29);
		VAL v67 = mw_std_list_ZPlusLister_1_doneZBang(v28);
		VAL v68 = mw_std_list_List_1_cat(v10, v67);
		branch_Word_18 = in_Word_3;
		branch_List_17 = v68;
		branch_ZPlusAB_16 = v27;
		branch_ZPlusMirth_15 = v26;
	} else {
		branch_Word_18 = in_Word_3;
		branch_List_17 = v10;
		branch_ZPlusAB_16 = v9;
		branch_ZPlusMirth_15 = v12;
	}
	*out_Word_7 = branch_Word_18;
	*out_ZPlusAB_5 = branch_ZPlusAB_16;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_15;
	return branch_List_17;
}
static void mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, v6, &v7);
	*out_ZPlusAB_4 = v5;
	*out_ZPlusMirth_3 = v7;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v6;
	VAL v7 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_var_Ctx_lookup(in_ZPlusMirth_1, in_Name_3, v7, &v8);
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusAB_11;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v9);
			TUP* v13;
			TUP* v14;
			mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang(v8, v6, &v13, &v14);
			TUP* v15;
			TUP* v16;
			mw_mirth_elab_ZPlusAB_abZ_varZBang(v13, v14, value_u64(v12), &v15, &v16);
			branch_ZPlusAB_11 = v16;
			branch_ZPlusMirth_10 = v15;
		} break;
		case 0LL: { // None
			VAL v17 = mtw_std_either_Either_2_Left(MKU64(in_Name_3));
			TUP* v18;
			TUP* v19;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_resolveZ_defZBang(v8, v6, v17, &v18, &v19);
			branch_ZPlusAB_11 = v19;
			branch_ZPlusMirth_10 = v18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_dnameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* in_DName_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	VAL v6 = mtw_std_either_Either_2_Right(MKTUP(in_DName_3, 2));
	TUP* v7;
	TUP* v8;
	mw_mirth_elab_ZPlusAB_elabZ_atomZ_resolveZ_defZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v6, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static bool mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (get_data_tag(v6)) {
		case 26LL: { // Name
			uint64_t v9 = mtp_mirth_token_TokenValue_Name(v6);
			TUP* v10;
			bool v11 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(v5, v9, &v10);
			branch_Bool_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 27LL: { // DName
			TUP* v12 = mtp_mirth_token_TokenValue_DName(v6);
			bool v13 = mw_mirth_name_DName_isZ_relativeZAsk(v12);
			branch_Bool_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(v6);
			bool v14 = false;
			branch_Bool_8 = v14;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_resolveZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Either_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v6;
	VAL v7 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v6);
	TUP* v8;
	bool v9 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(in_ZPlusMirth_1, v7, &v8);
	bool v10 = !v9;
	TUP* v11;
	uint64_t v12 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v6, &v11);
	STR* v13;
	STRLIT(v13, "word", 4);
	bool v14 = false;
	TUP* v15;
	TUP* v16;
	mw_mirth_elab_ZPlusResolveDef_BeginZBang(v13, v12, in_Either_3, v14, v10, v8, &v15, &v16);
	VAL v17 = v16->cells[3];
	incref(v17);
	VAL v18 = MKI64(0LL /* Nil */);
	VAL v19 = MKI64(0LL /* Nil */);
	bool v20 = true;
	TUP* v21 = v15;
	TUP* v22 = v16;
	VAL v23 = v18;
	VAL v24 = v19;
	VAL v25 = v17;
	bool v26 = v20;
	bool v27 = v20;
	while (v27) {
		TUP* v28 = v21;
		TUP* v29 = v22;
		VAL v30 = v23;
		VAL v31 = v24;
		VAL v32 = v25;
		bool v33 = v26;
		TUP* branch_ZPlusMirth_34;
		VAL branch_z_x1_35;
		VAL branch_List_36;
		VAL branch_List_37;
		VAL branch_List_38;
		bool branch_Bool_39;
		switch (get_data_tag(v32)) {
			case 1LL: { // Cons
				VAL v40;
				VAL v41 = mtp_std_list_List_1_Cons(v32, &v40);
				incref(v41);
				TUP* v42;
				bool v43 = mw_mirth_def_Def_callableZAsk(v28, v41, &v42);
				TUP* branch_ZPlusMirth_44;
				VAL branch_z_x1_45;
				VAL branch_Either_46;
				if (v43) {
					VAL v47 = mtw_std_either_Either_2_Right(v41);
					branch_Either_46 = v47;
					branch_z_x1_45 = MKTUP(v29, 7);
					branch_ZPlusMirth_44 = v42;
				} else {
					VAL v48 = mtw_mirth_elab_RejectedDef_WrongSort(v41);
					VAL v49 = mtw_std_either_Either_2_Left(v48);
					branch_Either_46 = v49;
					branch_z_x1_45 = MKTUP(v29, 7);
					branch_ZPlusMirth_44 = v42;
				}
				TUP* branch_ZPlusMirth_50;
				VAL branch_z_x1_51;
				VAL branch_List_52;
				VAL branch_List_53;
				switch (get_data_tag(branch_Either_46)) {
					case 0LL: { // Left
						VAL v54 = mtp_std_either_Either_2_Left(branch_Either_46);
						VAL v55 = mw_std_list_List_1_cons(v54, v30);
						branch_List_53 = v31;
						branch_List_52 = v55;
						branch_z_x1_51 = branch_z_x1_45;
						branch_ZPlusMirth_50 = branch_ZPlusMirth_44;
					} break;
					case 1LL: { // Right
						VAL v56 = mtp_std_either_Either_2_Right(branch_Either_46);
						VAL v57 = mw_std_list_List_1_cons(v56, v31);
						branch_List_53 = v57;
						branch_List_52 = v30;
						branch_z_x1_51 = branch_z_x1_45;
						branch_ZPlusMirth_50 = branch_ZPlusMirth_44;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v58 = true;
				branch_Bool_39 = v58;
				branch_List_38 = v40;
				branch_List_37 = branch_List_53;
				branch_List_36 = branch_List_52;
				branch_z_x1_35 = branch_z_x1_51;
				branch_ZPlusMirth_34 = branch_ZPlusMirth_50;
			} break;
			case 0LL: { // Nil
				VAL v59 = MKI64(0LL /* Nil */);
				bool v60 = false;
				branch_Bool_39 = v60;
				branch_List_38 = v59;
				branch_List_37 = v31;
				branch_List_36 = v30;
				branch_z_x1_35 = MKTUP(v29, 7);
				branch_ZPlusMirth_34 = v28;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v27 = branch_Bool_39;
		v26 = branch_Bool_39;
		v25 = branch_List_38;
		v24 = branch_List_37;
		v23 = branch_List_36;
		v22 = value_tup(branch_z_x1_35, 7);
		v21 = branch_ZPlusMirth_34;
	}
	decref(v25);
	VAL v61 = mw_std_list_List_1_reverse(v23);
	VAL v62 = mw_std_list_List_1_reverse(v24);
	VAL v63 = v22->cells[4];
	incref(v63);
	VAL v64 = mw_std_list_List_1_cat(v61, v63);
	VAL v65 = v22->cells[4];
	decref(v65);
	v22->cells[4] = v64;
	VAL v66 = v22->cells[3];
	decref(v66);
	v22->cells[3] = v62;
	TUP* v67;
	TUP* v68;
	mw_mirth_elab_ZPlusResolveDef_filterZ_arity(v21, v22, &v67, &v68);
	TUP* v69;
	TUP* v70;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v67, v68, &v69, &v70);
	uint64_t v71 = value_u64(v70->cells[1]);
	TUP* v72;
	bool v73 = mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk(v69, v71, &v72);
	TUP* branch_ZPlusAB_74;
	TUP* branch_ZPlusMirth_75;
	TUP* branch_ZPlusResolveDef_76;
	if (v73) {
		TUP* v77;
		VAL v78 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v11, &v77);
		TUP* v79;
		bool v80 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v72, v78, &v79);
		TUP* branch_ZPlusAB_81;
		TUP* branch_ZPlusMirth_82;
		TUP* branch_ZPlusResolveDef_83;
		if (v80) {
			TUP* v84;
			VAL v85 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v77, &v84);
			TUP* v86;
			VAL v87 = mw_mirth_type_StackType_topZ_namespaces(v79, v85, &v86);
			TUP* v88;
			TUP* v89;
			mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v86, v70, v87, &v88, &v89);
			branch_ZPlusResolveDef_83 = v89;
			branch_ZPlusMirth_82 = v88;
			branch_ZPlusAB_81 = v84;
		} else {
			branch_ZPlusResolveDef_83 = v70;
			branch_ZPlusMirth_82 = v79;
			branch_ZPlusAB_81 = v77;
		}
		branch_ZPlusResolveDef_76 = branch_ZPlusResolveDef_83;
		branch_ZPlusMirth_75 = branch_ZPlusMirth_82;
		branch_ZPlusAB_74 = branch_ZPlusAB_81;
	} else {
		VAL v90 = MKI64(0LL /* Nil */);
		TUP* v91;
		TUP* v92;
		mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v72, v70, v90, &v91, &v92);
		branch_ZPlusResolveDef_76 = v92;
		branch_ZPlusMirth_75 = v91;
		branch_ZPlusAB_74 = v11;
	}
	TUP* v93;
	VAL v94 = mw_mirth_elab_ZPlusResolveDef_endZBang(branch_ZPlusMirth_75, branch_ZPlusResolveDef_76, &v93);
	TUP* branch_ZPlusMirth_95;
	TUP* branch_ZPlusAB_96;
	switch (get_data_tag(v94)) {
		case 0LL: { // None
			TUP* v97;
			TUP* v98;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_failedZBang(v93, branch_ZPlusAB_74, &v97, &v98);
			branch_ZPlusAB_96 = v98;
			branch_ZPlusMirth_95 = v97;
		} break;
		case 1LL: { // Some
			VAL v99 = mtp_std_maybe_Maybe_1_Some(v94);
			TUP* v100;
			TUP* v101;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_defZBang(v93, branch_ZPlusAB_74, v99, &v100, &v101);
			branch_ZPlusAB_96 = v101;
			branch_ZPlusMirth_95 = v100;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_96;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_95;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_failedZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	VAL v5 = MKI64(0LL /* Error */);
	TUP* v6;
	mw_mirth_elab_ZPlusAB_abZ_typeZBang(in_ZPlusAB_2, v5, &v6);
	*out_ZPlusAB_4 = v6;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Def_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* branch_ZPlusMirth_6;
	TUP* branch_ZPlusAB_7;
	switch (get_data_tag(in_Def_3)) {
		case 0LL: { // Alias
			uint64_t v8 = mtp_mirth_def_Def_Alias(in_Def_3);
			TUP* v9;
			VAL v10 = mw_mirth_alias_Alias_target(in_ZPlusMirth_1, v8, &v9);
			TUP* v11;
			TUP* v12;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_defZBang(v9, in_ZPlusAB_2, v10, &v11, &v12);
			branch_ZPlusAB_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 9LL: { // Buffer
			uint64_t v13 = mtp_mirth_def_Def_Buffer(in_Def_3);
			TUP* v14;
			TUP* v15;
			mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v14, &v15);
			TUP* v16;
			TUP* v17;
			mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v14, v15, v13, &v16, &v17);
			branch_ZPlusAB_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 10LL: { // External
			uint64_t v18 = mtp_mirth_def_Def_External(in_Def_3);
			TUP* v19;
			TUP* v20;
			mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v19, &v20);
			TUP* v21;
			TUP* v22;
			mw_mirth_elab_ZPlusAB_abZ_externalZBang(v19, v20, v18, &v21, &v22);
			branch_ZPlusAB_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		case 11LL: { // Field
			uint64_t v23 = mtp_mirth_def_Def_Field(in_Def_3);
			TUP* v24;
			TUP* v25;
			mw_mirth_elab_ZPlusAB_elabZ_noZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v24, &v25);
			TUP* v26;
			TUP* v27;
			mw_mirth_elab_ZPlusAB_abZ_fieldZBang(v24, v25, v23, &v26, &v27);
			branch_ZPlusAB_7 = v27;
			branch_ZPlusMirth_6 = v26;
		} break;
		case 8LL: { // Word
			uint64_t v28 = mtp_mirth_def_Def_Word(in_Def_3);
			TUP* v29;
			TUP* v30;
			uint64_t v31;
			VAL v32 = mw_mirth_elab_ZPlusAB_elabZ_wordZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v28, &v29, &v30, &v31);
			TUP* v33;
			TUP* v34;
			mw_mirth_elab_ZPlusAB_abZ_wordZBang(v29, v30, v32, v31, &v33, &v34);
			branch_ZPlusAB_7 = v34;
			branch_ZPlusMirth_6 = v33;
		} break;
		case 6LL: { // Tag
			uint64_t v35 = mtp_mirth_def_Def_Tag(in_Def_3);
			TUP* v36;
			TUP* v37;
			VAL v38 = mw_mirth_elab_ZPlusAB_elabZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v36, &v37);
			VAL v39 = mtw_mirth_arrow_Op_Tag(v35);
			TUP* v40;
			TUP* v41;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(v36, v37, v38, v39, &v40, &v41);
			branch_ZPlusAB_7 = v41;
			branch_ZPlusMirth_6 = v40;
		} break;
		case 7LL: { // Prim
			int64_t v42 = mtp_mirth_def_Def_Prim(in_Def_3);
			TUP* v43;
			TUP* v44;
			mw_mirth_elab_ZPlusAB_elabZ_primZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v42, &v43, &v44);
			branch_ZPlusAB_7 = v44;
			branch_ZPlusMirth_6 = v43;
		} break;
		case 12LL: { // Macro
			uint64_t v45 = mtp_mirth_def_Def_Macro(in_Def_3);
			TUP* v46;
			TUP* v47;
			mw_mirth_elab_ZPlusAB_elabZ_macroZBang(in_ZPlusMirth_1, in_ZPlusAB_2, v45, &v46, &v47);
			branch_ZPlusAB_7 = v47;
			branch_ZPlusMirth_6 = v46;
		} break;
		default: {
			TUP* v48;
			TUP* v49 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_3, &v48);
			TUP* v50;
			TUP* v51;
			mw_mirth_elab_ZPlusAB_elabZ_atomZ_notZ_callableZBang(v48, in_ZPlusAB_2, v49, &v50, &v51);
			branch_ZPlusAB_7 = v51;
			branch_ZPlusMirth_6 = v50;
		} break;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_notZ_callableZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v6;
	VAL v7 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v6);
	TUP* v8;
	bool v9 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(in_ZPlusMirth_1, v7, &v8);
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusAB_11;
	if (v9) {
		TUP* v12;
		uint64_t v13 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v6, &v12);
		STR* v14;
		STRLIT(v14, "", 0);
		STR* v15;
		STRLIT(v15, "Not callable: ", 14);
		STR* v16;
		mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
		TUP* v17;
		STR* v18;
		mw_mirth_name_QName_qnameZThen(v8, v16, in_QName_3, &v17, &v18);
		TUP* v19;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v17, v13, v18, &v19);
		branch_ZPlusAB_11 = v12;
		branch_ZPlusMirth_10 = v19;
	} else {
		decref(MKTUP(in_QName_3, 3));
		branch_ZPlusAB_11 = v6;
		branch_ZPlusMirth_10 = v8;
	}
	TUP* v20;
	TUP* v21;
	mw_mirth_elab_ZPlusAB_elabZ_atomZ_failedZBang(branch_ZPlusMirth_10, branch_ZPlusAB_11, &v20, &v21);
	*out_ZPlusAB_5 = v21;
	*out_ZPlusMirth_4 = v20;
}
static void mw_mirth_elab_ZPlusAB_elabZ_macroZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Macro_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v6;
	VAL v7 = mw_mirth_macro_Macro_action(in_ZPlusMirth_1, in_Macro_3, &v6);
	VAL v8 = mw_mirth_macro_MacroAction_arrowZAsk(v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusAB_10;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			push_resource(MKTUP(v6, 10));
			push_resource(MKTUP(in_ZPlusAB_2, 7));
			run_value(v11);
			TUP* r12 = value_tup(pop_resource(), 7);
			branch_ZPlusAB_10 = r12;
			TUP* r13 = value_tup(pop_resource(), 10);
			branch_ZPlusMirth_9 = r13;
		} break;
		case 0LL: { // None
			TUP* v14;
			uint64_t v15 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v14);
			STR* v16;
			STRLIT(v16, "macro cannot be invoked here", 28);
			TUP* v17;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, v15, v16, &v17);
			VAL v18 = MKI64(0LL /* Error */);
			TUP* v19;
			mw_mirth_elab_ZPlusAB_abZ_typeZBang(v14, v18, &v19);
			branch_ZPlusAB_10 = v19;
			branch_ZPlusMirth_9 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_elab_ZPlusAB_elabZ_primZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, int64_t in_Prim_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v6;
	TUP* v7;
	VAL v8 = mw_mirth_elab_ZPlusAB_elabZ_argsZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v6, &v7);
	TUP* v9;
	TUP* v10;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v6, v7, v8, in_Prim_3, &v9, &v10);
	*out_ZPlusAB_5 = v10;
	*out_ZPlusMirth_4 = v9;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_assertZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(in_ZPlusMirth_1, v6, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v5, &v9);
	bool v11 = true;
	bool v12 = false;
	TUP* v13;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v10, v8, v11, v12, &v13);
	VAL v14 = mw_mirth_type_T0();
	TUP* v15;
	TUP* v16;
	VAL v17 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v7, v13, v14, &v15, &v16);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v16);
	TUP* v18;
	uint64_t v19 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v9, &v18);
	TUP* v20;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(v15, v19, &v20);
	TUP* v21;
	VAL v22 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v18, &v21);
	TUP* v23;
	VAL v24 = mw_mirth_type_StackType_unifyZBang(v20, v22, v17, &v23);
	decref(v24);
	*out_ZPlusAB_4 = v21;
	*out_ZPlusMirth_3 = v23;
}
static void mw_mirth_elab_ZPlusAB_elabZ_parseZ_ldipZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4, VAL *out_Maybe_5, uint64_t *out_Token_6) {
	TUP* v7;
	uint64_t v8 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v7);
	TUP* v9;
	uint64_t v10 = mw_mirth_token_Token_next(in_ZPlusMirth_1, v8, &v9);
	TUP* v11;
	VAL v12 = mw_mirth_token_Token_lcurlyZAsk(v9, v10, &v11);
	int64_t v13 = get_data_tag(v12);
	decref(v12);
	INT v14 = WRAP_I63(0LL);
	INT v15 = i64_to_int(v13);
	bool v16 = int_eq(v15, v14);
	bool v17 = !v16;
	VAL branch_Maybe_18;
	uint64_t branch_Token_19;
	TUP* branch_ZPlusMirth_20;
	TUP* branch_ZPlusAB_21;
	if (v17) {
		TUP* v22;
		uint64_t v23 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v22);
		TUP* v24;
		INT v25 = mw_mirth_token_Token_numZ_args(v11, v23, &v24);
		INT v26 = WRAP_I63(0LL);
		bool v27 = int_eq(v25, v26);
		TUP* branch_ZPlusMirth_28;
		TUP* branch_ZPlusAB_29;
		VAL branch_Maybe_30;
		if (v27) {
			VAL v31 = MKI64(0LL /* None */);
			branch_Maybe_30 = v31;
			branch_ZPlusAB_29 = v22;
			branch_ZPlusMirth_28 = v24;
		} else {
			TUP* v32;
			uint64_t v33 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v22, &v32);
			TUP* v34;
			uint64_t v35 = mw_mirth_token_Token_argsZ_1(v24, v33, &v34);
			VAL v36 = mtw_std_maybe_Maybe_1_Some(MKU64(v35));
			branch_Maybe_30 = v36;
			branch_ZPlusAB_29 = v32;
			branch_ZPlusMirth_28 = v34;
		}
		TUP* v37;
		uint64_t v38 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(branch_ZPlusAB_29, &v37);
		TUP* v39;
		uint64_t v40 = mw_mirth_token_Token_next(branch_ZPlusMirth_28, v38, &v39);
		uint64_t v41 = mw_mirth_token_Token_succ(v40);
		TUP* v42;
		uint64_t v43 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v37, &v42);
		TUP* v44;
		uint64_t v45 = mw_mirth_token_Token_next(v39, v43, &v44);
		TUP* v46;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v42, v45, &v46);
		branch_ZPlusAB_21 = v46;
		branch_ZPlusMirth_20 = v44;
		branch_Token_19 = v41;
		branch_Maybe_18 = branch_Maybe_30;
	} else {
		TUP* v47;
		uint64_t v48 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v47);
		TUP* v49;
		INT v50 = mw_mirth_token_Token_numZ_args(v11, v48, &v49);
		incref(MKINT(v50));
		INT v51 = WRAP_I63(0LL);
		bool v52 = int_eq(v50, v51);
		VAL branch_Maybe_53;
		TUP* branch_ZPlusMirth_54;
		uint64_t branch_Token_55;
		TUP* branch_ZPlusAB_56;
		if (v52) {
			TUP* v57;
			uint64_t v58 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v47, &v57);
			STR* v59;
			STRLIT(v59, "Missing ldip body: ldip { ... }", 31);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v49, v58, v59);
		} else {
			INT v63 = WRAP_I63(1LL);
			bool v64 = int_eq(v50, v63);
			VAL branch_Maybe_65;
			TUP* branch_ZPlusMirth_66;
			TUP* branch_ZPlusAB_67;
			uint64_t branch_Token_68;
			if (v64) {
				VAL v69 = MKI64(0LL /* None */);
				TUP* v70;
				uint64_t v71 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v47, &v70);
				TUP* v72;
				uint64_t v73 = mw_mirth_token_Token_argsZ_1(v49, v71, &v72);
				branch_Token_68 = v73;
				branch_ZPlusAB_67 = v70;
				branch_ZPlusMirth_66 = v72;
				branch_Maybe_65 = v69;
			} else {
				TUP* v74;
				uint64_t v75 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v47, &v74);
				TUP* v76;
				uint64_t v77;
				uint64_t v78 = mw_mirth_token_Token_argsZ_2(v49, v75, &v76, &v77);
				VAL v79 = mtw_std_maybe_Maybe_1_Some(MKU64(v78));
				branch_Token_68 = v77;
				branch_ZPlusAB_67 = v74;
				branch_ZPlusMirth_66 = v76;
				branch_Maybe_65 = v79;
			}
			branch_ZPlusAB_56 = branch_ZPlusAB_67;
			branch_Token_55 = branch_Token_68;
			branch_ZPlusMirth_54 = branch_ZPlusMirth_66;
			branch_Maybe_53 = branch_Maybe_65;
		}
		branch_ZPlusAB_21 = branch_ZPlusAB_56;
		branch_ZPlusMirth_20 = branch_ZPlusMirth_54;
		branch_Token_19 = branch_Token_55;
		branch_Maybe_18 = branch_Maybe_53;
	}
	TUP* branch_ZPlusMirth_80;
	VAL branch_z_x1_81;
	VAL branch_Maybe_82;
	switch (get_data_tag(branch_Maybe_18)) {
		case 1LL: { // Some
			VAL v83 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_18);
			TUP* v84;
			VAL v85 = mw_mirth_token_Token_runZ_tokens(branch_ZPlusMirth_20, value_u64(v83), &v84);
			VAL v86 = MKI64(0LL /* Nil */);
			VAL v87;
			mw_std_list_List_1_buildZBang(v86, &v87);
			bool v88 = true;
			TUP* v89 = v84;
			VAL v90 = v87;
			VAL v91 = v85;
			bool v92 = v88;
			bool v93 = v88;
			while (v93) {
				TUP* v94 = v89;
				VAL v95 = v90;
				VAL v96 = v91;
				bool v97 = v92;
				TUP* branch_ZPlusMirth_98;
				VAL branch_ZPlusLister_99;
				VAL branch_List_100;
				bool branch_Bool_101;
				switch (get_data_tag(v96)) {
					case 1LL: { // Cons
						VAL v102;
						VAL v103 = mtp_std_list_List_1_Cons(v96, &v102);
						incref(v103);
						TUP* v104;
						mw_mirth_token_Token_argsZ_0(v94, value_u64(v103), &v104);
						incref(v103);
						TUP* v105;
						VAL v106 = mw_mirth_token_Token_nameZAsk(v104, value_u64(v103), &v105);
						TUP* branch_ZPlusMirth_107;
						uint64_t branch_Token_108;
						VAL branch_z_x1_109;
						switch (get_data_tag(v106)) {
							case 1LL: { // Some
								VAL v110 = mtp_std_maybe_Maybe_1_Some(v106);
								branch_z_x1_109 = v110;
								branch_Token_108 = value_u64(v103);
								branch_ZPlusMirth_107 = v105;
							} break;
							case 0LL: { // None
								STR* v111;
								STRLIT(v111, "Expected label name.", 20);
								mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v105, value_u64(v103), v111);
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						incref(branch_z_x1_109);
						TUP* v115;
						bool v116 = mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk(branch_ZPlusMirth_107, value_u64(branch_z_x1_109), &v115);
						uint64_t branch_Token_117;
						TUP* branch_ZPlusMirth_118;
						uint64_t branch_Name_119;
						if (v116) {
							branch_Name_119 = value_u64(branch_z_x1_109);
							branch_ZPlusMirth_118 = v115;
							branch_Token_117 = branch_Token_108;
						} else {
							STR* v120;
							STRLIT(v120, "", 0);
							STR* v121;
							STRLIT(v121, "Invalid label name: ", 20);
							STR* v122;
							mw_std_str_ZPlusStr_pushZ_strZBang(v121, v120, &v122);
							TUP* v123;
							STR* v124;
							mw_mirth_name_Name_nameZThen(v115, v122, value_u64(branch_z_x1_109), &v123, &v124);
							mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v123, branch_Token_108, v124);
						}
						TUP* v128;
						uint64_t v129 = mw_mirth_label_Label_newZBang(branch_ZPlusMirth_118, branch_Name_119, &v128);
						VAL v130;
						mw_std_list_ZPlusLister_1_pushZBang(MKU64(v129), v95, &v130);
						bool v131 = true;
						branch_Bool_101 = v131;
						branch_List_100 = v102;
						branch_ZPlusLister_99 = v130;
						branch_ZPlusMirth_98 = v128;
					} break;
					case 0LL: { // Nil
						VAL v132 = MKI64(0LL /* Nil */);
						bool v133 = false;
						branch_Bool_101 = v133;
						branch_List_100 = v132;
						branch_ZPlusLister_99 = v95;
						branch_ZPlusMirth_98 = v94;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v93 = branch_Bool_101;
				v92 = branch_Bool_101;
				v91 = branch_List_100;
				v90 = branch_ZPlusLister_99;
				v89 = branch_ZPlusMirth_98;
			}
			decref(v91);
			VAL v134 = mw_std_list_ZPlusLister_1_doneZBang(v90);
			VAL v135 = mtw_std_maybe_Maybe_1_Some(v134);
			branch_Maybe_82 = v135;
			branch_z_x1_81 = MKTUP(branch_ZPlusAB_21, 7);
			branch_ZPlusMirth_80 = v89;
		} break;
		case 0LL: { // None
			VAL v136 = MKI64(0LL /* None */);
			branch_Maybe_82 = v136;
			branch_z_x1_81 = MKTUP(branch_ZPlusAB_21, 7);
			branch_ZPlusMirth_80 = branch_ZPlusMirth_20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Token_6 = branch_Token_19;
	*out_Maybe_5 = branch_Maybe_82;
	*out_ZPlusAB_4 = value_tup(branch_z_x1_81, 7);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_80;
}
static void mw_mirth_elab_ZPlusAB_elabZ_ldipZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	TUP* v6;
	VAL v7;
	uint64_t v8;
	mw_mirth_elab_ZPlusAB_elabZ_parseZ_ldipZBang(in_ZPlusMirth_1, in_ZPlusAB_2, &v5, &v6, &v7, &v8);
	TUP* v9;
	uint64_t v10 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v6, &v9);
	TUP* branch_ZPlusMirth_11;
	TUP* branch_ZPlusAB_12;
	VAL branch_List_13;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_List_13 = v14;
			branch_ZPlusAB_12 = v9;
			branch_ZPlusMirth_11 = v5;
		} break;
		case 0LL: { // None
			TUP* v15;
			VAL v16 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v9, &v15);
			TUP* v17;
			VAL v18 = mw_mirth_type_StackType_labelZ_names(v5, v16, &v17);
			VAL v19 = MKI64(0LL /* Nil */);
			bool v20 = true;
			VAL v21 = v19;
			VAL v22 = v18;
			bool v23 = v20;
			bool v24 = v20;
			while (v24) {
				VAL v25 = v21;
				VAL v26 = v22;
				bool v27 = v23;
				VAL branch_List_28;
				VAL branch_List_29;
				bool branch_Bool_30;
				switch (get_data_tag(v26)) {
					case 1LL: { // Cons
						VAL v31;
						VAL v32 = mtp_std_list_List_1_Cons(v26, &v31);
						incref(v32);
						incref(v25);
						bool v33 = mw_std_list_List_1_member_sp6(value_u64(v32), v25);
						VAL branch_List_34;
						if (v33) {
							decref(v32);
							branch_List_34 = v25;
						} else {
							VAL v35 = mw_std_list_List_1_cons(v32, v25);
							branch_List_34 = v35;
						}
						bool v36 = true;
						branch_Bool_30 = v36;
						branch_List_29 = v31;
						branch_List_28 = branch_List_34;
					} break;
					case 0LL: { // Nil
						VAL v37 = MKI64(0LL /* Nil */);
						bool v38 = false;
						branch_Bool_30 = v38;
						branch_List_29 = v37;
						branch_List_28 = v25;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v24 = branch_Bool_30;
				v23 = branch_Bool_30;
				v22 = branch_List_29;
				v21 = branch_List_28;
			}
			decref(v22);
			branch_List_13 = v21;
			branch_ZPlusAB_12 = v15;
			branch_ZPlusMirth_11 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v39;
	TUP* v40;
	mw_mirth_elab_ZPlusAB_abZ_ldipZBang_1_sp1(branch_ZPlusMirth_11, branch_ZPlusAB_12, v8, branch_List_13, &v39, &v40);
	TUP* v41;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v40, v10, &v41);
	*out_ZPlusAB_4 = v41;
	*out_ZPlusMirth_3 = v39;
}
static void mw_mirth_elab_ZPlusAB_elabZ_atomZ_matchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	TUP* v7;
	uint64_t v8 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v7);
	uint64_t v9 = mw_mirth_token_Token_succ(v8);
	TUP* v10;
	VAL v11 = mw_mirth_token_Token_lcurlyZAsk(v5, v9, &v10);
	int64_t v12 = get_data_tag(v11);
	decref(v11);
	INT v13 = WRAP_I63(0LL);
	INT v14 = i64_to_int(v12);
	bool v15 = int_eq(v14, v13);
	bool v16 = !v15;
	TUP* branch_ZPlusMirth_17;
	uint64_t branch_Token_18;
	TUP* branch_ZPlusAB_19;
	if (v16) {
		TUP* v20;
		uint64_t v21 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v20);
		uint64_t v22 = mw_mirth_token_Token_succ(v21);
		uint64_t v23 = mw_mirth_token_Token_succ(v22);
		TUP* v24;
		uint64_t v25 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v20, &v24);
		uint64_t v26 = mw_mirth_token_Token_succ(v25);
		TUP* v27;
		mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v24, v26, &v27);
		branch_ZPlusAB_19 = v27;
		branch_Token_18 = v23;
		branch_ZPlusMirth_17 = v10;
	} else {
		TUP* v28;
		uint64_t v29 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v28);
		TUP* v30;
		TUP* v31 = mw_mirth_token_Token_argsZPlus(v10, v29, &v30);
		VAL v32 = mw_std_list_Nest_1_first(v31);
		branch_ZPlusAB_19 = v28;
		branch_Token_18 = value_u64(v32);
		branch_ZPlusMirth_17 = v30;
	}
	TUP* v33;
	TUP* v34;
	mw_mirth_elab_ZPlusAB_elabZ_matchZ_atZBang(branch_ZPlusMirth_17, branch_ZPlusAB_19, v6, branch_Token_18, &v33, &v34);
	*out_ZPlusAB_4 = v34;
	*out_ZPlusMirth_3 = v33;
}
static void mw_mirth_elab_ZPlusAB_elabZ_matchZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_StackType_3, uint64_t in_Token_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6) {
	TUP* v7;
	VAL v8 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_2, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v7, &v9);
	TUP* v11;
	uint64_t v12 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v9, &v11);
	TUP* v13;
	VAL v14 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v11, &v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v14, v12, in_Token_4, v8, v10, in_StackType_3, v15, &v16);
	TUP* v17;
	TUP* v18;
	mw_mirth_elab_elabZ_matchZ_casesZBang(in_ZPlusMirth_1, v16, &v17, &v18);
	TUP* v19;
	TUP* v20;
	mw_mirth_elab_elabZ_matchZ_exhaustiveZBang(v17, v18, &v19, &v20);
	TUP* v21 = mw_mirth_match_ZPlusMatch_freezze(v20);
	VAL v22 = mtw_mirth_arrow_Op_Match(v21);
	VAL v23 = MKI64(0LL /* Nil */);
	TUP* v24;
	TUP* v25;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v19, v13, v23, v22, &v24, &v25);
	*out_ZPlusAB_6 = v25;
	*out_ZPlusMirth_5 = v24;
}
static bool mw_mirth_elab_arityZ_compatibleZAsk (INT in_Int_1, INT in_Int_2) {
	incref(MKINT(in_Int_2));
	INT v4 = WRAP_I63(-1LL);
	bool v5 = int_eq(in_Int_2, v4);
	bool v6 = int_eq(in_Int_1, in_Int_2);
	bool v7 = (v6 || v5);
	return v7;
}
static VAL mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5, uint64_t *out_Token_6, VAL *out_Home_7, uint64_t *out_Word_8) {
	void* v9 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, in_Word_2);
	TUP* v10;
	VAL v11 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v9, &v10);
	uint64_t branch_Word_12;
	TUP* branch_ZPlusMirth_13;
	VAL branch_Ctx_14;
	TUP* branch_ArrowType_15;
	switch (get_data_tag(v11)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v11);
			VAL v17 = value_tup(v16, 2)->cells[0];
			VAL v18 = value_tup(v16, 2)->cells[1];
			tup_decref_outer(value_tup(v16, 2),2);
			branch_ArrowType_15 = value_tup(v18, 2);
			branch_Ctx_14 = v17;
			branch_ZPlusMirth_13 = v10;
			branch_Word_12 = in_Word_2;
		} break;
		case 0LL: { // None
			TUP* v19;
			uint64_t v20;
			TUP* v21;
			VAL v22 = mw_mirth_elab_guessZ_initialZ_ctxZ_type(v10, in_Word_2, &v19, &v20, &v21);
			branch_ArrowType_15 = v21;
			branch_Ctx_14 = v22;
			branch_ZPlusMirth_13 = v19;
			branch_Word_12 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v23;
	uint64_t v24 = mw_mirth_word_Word_body(branch_ZPlusMirth_13, branch_Word_12, &v23);
	VAL v25 = mtw_mirth_arrow_Home_Word(branch_Word_12);
	*out_Word_8 = branch_Word_12;
	*out_Home_7 = v25;
	*out_Token_6 = v24;
	*out_ArrowType_5 = branch_ArrowType_15;
	*out_ZPlusMirth_3 = v23;
	return branch_Ctx_14;
}
static TUP* mw_mirth_elab_finalizzeZ_wordZ_arrow (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4) {
	bool v6 = mw_mirth_word_Word_inferringZ_typeZAsk(in_Word_3);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Word_8;
	TUP* branch_Arrow_9;
	if (v6) {
		incref(MKTUP(in_Arrow_2, 7));
		TUP* v10;
		VAL v11 = mw_mirth_arrow_Arrow_ctxZ_type(in_Arrow_2, &v10);
		TUP* v12;
		TUP* v13;
		VAL v14 = mw_mirth_type_ArrowType_rigidifyZ_sigZBang(in_ZPlusMirth_1, v11, v10, &v12, &v13);
		incref(v14);
		incref(MKTUP(v13, 2));
		TUP* v15 = tup_new(2);
		v15->size = 2;
		v15->cells[1] = MKTUP(v13, 2);
		v15->cells[0] = v14;
		VAL v16 = mtw_mirth_mirth_PropLabel_WordType(in_Word_3);
		TUP* v17;
		TUP* v18 = mw_mirth_mirth_PropLabel_prop(v12, MKTUP(v15, 2), v16, &v17);
		void* v19 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, in_Word_3);
		mut_set(MKTUP(v18, 2), v19);
		bool v20 = false;
		void* v21 = field_mut(&mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk, in_Word_3);
		mut_set(MKBOOL(v20), v21);
		VAL v22;
		VAL v23;
		mtp_mirth_type_ArrowType_ArrowType(v13, &v22, &v23);
		VAL v24 = tup_replace(MKTUP(in_Arrow_2, 7), 5, v23);
		VAL v25 = tup_replace(v24, 4, v22);
		VAL v26 = tup_replace(v25, 3, v14);
		branch_Arrow_9 = value_tup(v26, 7);
		branch_Word_8 = in_Word_3;
		branch_ZPlusMirth_7 = v17;
	} else {
		branch_Arrow_9 = in_Arrow_2;
		branch_Word_8 = in_Word_3;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Arrow_9;
}
static VAL mw_mirth_elab_guessZ_initialZ_ctxZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Word_4, TUP* *out_ArrowType_6) {
	VAL v7 = mw_mirth_var_Ctx_L0();
	TUP* v8;
	VAL v9 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v8);
	TUP* v10;
	VAL v11 = mw_mirth_type_StackType_FreshZBang(v8, &v10);
	TUP* v12;
	VAL v13 = mw_mirth_word_Word_namespaceZ_hard(v10, in_Word_2, &v12);
	VAL branch_Ctx_14;
	VAL branch_StackType_15;
	uint64_t branch_Word_16;
	TUP* branch_ZPlusMirth_17;
	VAL branch_StackType_18;
	switch (get_data_tag(v13)) {
		case 3LL: { // Tycon
			VAL v19 = mtp_mirth_name_Namespace_Tycon(v13);
			TUP* v20;
			VAL v21 = mw_mirth_tycon_Tycon_fullZ_typeZ_fresh(v12, v19, &v20);
			TUP* v22;
			uint64_t v23 = mw_mirth_word_Word_name(v20, in_Word_2, &v22);
			TUP* v24;
			bool v25 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(v22, v23, &v24);
			VAL branch_Ctx_26;
			VAL branch_StackType_27;
			uint64_t branch_Word_28;
			TUP* branch_ZPlusMirth_29;
			VAL branch_StackType_30;
			if (v25) {
				VAL v31 = mw_mirth_type_TZMulZPlus(v9, v21);
				branch_StackType_30 = v31;
				branch_ZPlusMirth_29 = v24;
				branch_Word_28 = in_Word_2;
				branch_StackType_27 = v11;
				branch_Ctx_26 = v7;
			} else {
				VAL v32 = mw_mirth_type_TZMulZPlus(v11, v21);
				branch_StackType_30 = v9;
				branch_ZPlusMirth_29 = v24;
				branch_Word_28 = in_Word_2;
				branch_StackType_27 = v32;
				branch_Ctx_26 = v7;
			}
			branch_StackType_18 = branch_StackType_30;
			branch_ZPlusMirth_17 = branch_ZPlusMirth_29;
			branch_Word_16 = branch_Word_28;
			branch_StackType_15 = branch_StackType_27;
			branch_Ctx_14 = branch_Ctx_26;
		} break;
		case 2LL: { // Module
			uint64_t v33 = mtp_mirth_name_Namespace_Module(v13);
			TUP* v34;
			uint64_t v35 = mw_mirth_word_Word_name(v12, in_Word_2, &v34);
			TUP* v36;
			STR* v37 = mw_mirth_name_Name_ZToStr(v34, v35, &v36);
			STR* v38;
			STRLIT(v38, "main", 4);
			bool v39 = (str_cmp(v37, v38) == 0);
			VAL branch_StackType_40;
			VAL branch_StackType_41;
			if (v39) {
				VAL v42 = mw_mirth_type_T0();
				VAL v43 = mw_mirth_type_Resource_World();
				VAL v44 = mw_mirth_type_TZPlus(v42, v43);
				decref(v9);
				VAL v45 = mw_mirth_type_T0();
				VAL v46 = mw_mirth_type_Resource_World();
				VAL v47 = mw_mirth_type_TZPlus(v45, v46);
				decref(v11);
				branch_StackType_41 = v47;
				branch_StackType_40 = v44;
			} else {
				branch_StackType_41 = v11;
				branch_StackType_40 = v9;
			}
			branch_StackType_18 = branch_StackType_40;
			branch_ZPlusMirth_17 = v36;
			branch_Word_16 = in_Word_2;
			branch_StackType_15 = branch_StackType_41;
			branch_Ctx_14 = v7;
		} break;
		default: {
			decref(v13);
			branch_StackType_18 = v9;
			branch_ZPlusMirth_17 = v12;
			branch_Word_16 = in_Word_2;
			branch_StackType_15 = v11;
			branch_Ctx_14 = v7;
		} break;
	}
	TUP* v48;
	INT v49 = mw_mirth_word_Word_arity(branch_ZPlusMirth_17, branch_Word_16, &v48);
	incref(MKINT(v49));
	INT v50 = WRAP_I63(0LL);
	bool v51 = int_lt(v50, v49);
	TUP* v52 = v48;
	VAL v53 = branch_StackType_18;
	INT v54 = v49;
	bool v55 = v51;
	while (v55) {
		TUP* v56 = v52;
		VAL v57 = v53;
		INT v58 = v54;
		TUP* v59;
		TUP* v60 = mw_mirth_type_ArrowType_FreshZBang(v56, &v59);
		VAL v61 = mtw_mirth_type_Type_Arrow(v60);
		VAL v62 = mw_mirth_type_TZMul(v57, v61);
		INT v63 = WRAP_I63(1LL);
		INT v64 = int_sub(v58, v63);
		incref(MKINT(v64));
		INT v65 = WRAP_I63(0LL);
		bool v66 = int_le(v65, v64);
		INT branch_Nat_67;
		if (v66) {
			branch_Nat_67 = v64;
		} else {
			decref(MKINT(v64));
			INT v68 = WRAP_I63(0LL);
			branch_Nat_67 = v68;
		}
		incref(MKINT(branch_Nat_67));
		INT v69 = WRAP_I63(0LL);
		bool v70 = int_lt(v69, branch_Nat_67);
		v55 = v70;
		v54 = branch_Nat_67;
		v53 = v62;
		v52 = v59;
	}
	decref(MKINT(v54));
	TUP* v71 = mw_mirth_type_TZ_ZTo(v53, branch_StackType_15);
	incref(branch_Ctx_14);
	incref(MKTUP(v71, 2));
	TUP* v72 = tup_new(2);
	v72->size = 2;
	v72->cells[1] = MKTUP(v71, 2);
	v72->cells[0] = branch_Ctx_14;
	VAL v73 = mtw_mirth_mirth_PropLabel_WordType(branch_Word_16);
	TUP* v74;
	TUP* v75 = mw_mirth_mirth_PropLabel_prop(v52, MKTUP(v72, 2), v73, &v74);
	void* v76 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, branch_Word_16);
	mut_set(MKTUP(v75, 2), v76);
	bool v77 = true;
	void* v78 = field_mut(&mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk, branch_Word_16);
	mut_set(MKBOOL(v77), v78);
	*out_ArrowType_6 = v71;
	*out_Word_4 = branch_Word_16;
	*out_ZPlusMirth_3 = v74;
	return branch_Ctx_14;
}
static VAL mw_mirth_arrow_PushValue_type (TUP* in_ZPlusMirth_1, VAL in_PushValue_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Type_6;
	switch (get_data_tag(in_PushValue_2)) {
		case 0LL: { // Str
			STR* v7 = mtp_mirth_arrow_PushValue_Str(in_PushValue_2);
			VAL v8 = mtw_mirth_type_Value_Str(v7);
			VAL v9 = mtw_mirth_type_Type_Value(v8);
			branch_Type_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Int
			INT v10 = mtp_mirth_arrow_PushValue_Int(in_PushValue_2);
			VAL v11 = mtw_mirth_type_Value_Int(v10);
			VAL v12 = mtw_mirth_type_Type_Value(v11);
			branch_Type_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // U8
			uint8_t v13 = mtp_mirth_arrow_PushValue_U8(in_PushValue_2);
			VAL v14 = mw_mirth_type_Type_U8();
			branch_Type_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // U16
			uint16_t v15 = mtp_mirth_arrow_PushValue_U16(in_PushValue_2);
			VAL v16 = mw_mirth_type_Type_U16();
			branch_Type_6 = v16;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // U32
			uint32_t v17 = mtp_mirth_arrow_PushValue_U32(in_PushValue_2);
			VAL v18 = mw_mirth_type_Type_U32();
			branch_Type_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // U64
			uint64_t v19 = mtp_mirth_arrow_PushValue_U64(in_PushValue_2);
			VAL v20 = mw_mirth_type_Type_U64();
			branch_Type_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // I8
			int8_t v21 = mtp_mirth_arrow_PushValue_I8(in_PushValue_2);
			VAL v22 = mw_mirth_type_Type_I8();
			branch_Type_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // I16
			int16_t v23 = mtp_mirth_arrow_PushValue_I16(in_PushValue_2);
			VAL v24 = mw_mirth_type_Type_I16();
			branch_Type_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // I32
			int32_t v25 = mtp_mirth_arrow_PushValue_I32(in_PushValue_2);
			VAL v26 = mw_mirth_type_Type_I32();
			branch_Type_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // I64
			int64_t v27 = mtp_mirth_arrow_PushValue_I64(in_PushValue_2);
			VAL v28 = mw_mirth_type_Type_I64();
			branch_Type_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // F32
			float v29 = mtp_mirth_arrow_PushValue_F32(in_PushValue_2);
			VAL v30 = mw_mirth_type_Type_F32();
			branch_Type_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // F64
			double v31 = mtp_mirth_arrow_PushValue_F64(in_PushValue_2);
			VAL v32 = mtw_mirth_type_Value_F64(v31);
			VAL v33 = mtw_mirth_type_Type_Value(v32);
			branch_Type_6 = v33;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Type_6;
}
static VAL mw_mirth_elab_elabZ_opZ_freshZ_sigZBang (TUP* in_ZPlusMirth_1, VAL in_Op_2, TUP* *out_ZPlusMirth_3, VAL *out_OpSig_5) {
	VAL v6 = mw_mirth_type_Subst_Nil();
	VAL branch_Subst_7;
	TUP* branch_ZPlusMirth_8;
	VAL branch_OpSig_9;
	switch (get_data_tag(in_Op_2)) {
		case 5LL: { // Push
			VAL v10 = mtp_mirth_arrow_Op_Push(in_Op_2);
			TUP* v11;
			VAL v12 = mw_mirth_arrow_PushValue_type(in_ZPlusMirth_1, v10, &v11);
			VAL v13 = mtw_mirth_elab_OpSig_Push(v12);
			branch_OpSig_9 = v13;
			branch_ZPlusMirth_8 = v11;
			branch_Subst_7 = v6;
		} break;
		case 3LL: { // Buffer
			uint64_t v14 = mtp_mirth_arrow_Op_Buffer(in_Op_2);
			VAL v15 = mw_mirth_type_Type_Ptr();
			VAL v16 = mtw_mirth_elab_OpSig_Push(v15);
			branch_OpSig_9 = v16;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Subst_7 = v6;
		} break;
		case 6LL: { // Tag
			uint64_t v17 = mtp_mirth_arrow_Op_Tag(in_Op_2);
			TUP* v18;
			TUP* v19 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, v17, &v18);
			TUP* v20;
			TUP* v21;
			VAL v22 = mw_mirth_type_ArrowType_freshenZ_sig(v18, v6, v19, &v20, &v21);
			VAL v23 = mtw_mirth_elab_OpSig_Apply(v21);
			branch_OpSig_9 = v23;
			branch_ZPlusMirth_8 = v20;
			branch_Subst_7 = v22;
		} break;
		case 1LL: { // Word
			uint64_t v24 = mtp_mirth_arrow_Op_Word(in_Op_2);
			bool v25 = mw_mirth_word_Word_inferringZ_typeZAsk(v24);
			VAL branch_Subst_26;
			TUP* branch_ZPlusMirth_27;
			TUP* branch_ArrowType_28;
			if (v25) {
				TUP* v29;
				TUP* v30 = mw_mirth_word_Word_type(in_ZPlusMirth_1, v24, &v29);
				branch_ArrowType_28 = v30;
				branch_ZPlusMirth_27 = v29;
				branch_Subst_26 = v6;
			} else {
				TUP* v31;
				TUP* v32 = mw_mirth_word_Word_type(in_ZPlusMirth_1, v24, &v31);
				TUP* v33;
				TUP* v34;
				VAL v35 = mw_mirth_type_ArrowType_freshenZ_sig(v31, v6, v32, &v33, &v34);
				branch_ArrowType_28 = v34;
				branch_ZPlusMirth_27 = v33;
				branch_Subst_26 = v35;
			}
			VAL v36 = mtw_mirth_elab_OpSig_Apply(branch_ArrowType_28);
			branch_OpSig_9 = v36;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_27;
			branch_Subst_7 = branch_Subst_26;
		} break;
		case 0LL: { // Prim
			int64_t v37 = mtp_mirth_arrow_Op_Prim(in_Op_2);
			TUP* v38;
			TUP* v39 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v37, &v38);
			TUP* v40;
			TUP* v41;
			VAL v42 = mw_mirth_type_ArrowType_freshenZ_sig(v38, v6, v39, &v40, &v41);
			VAL v43 = mtw_mirth_elab_OpSig_Apply(v41);
			branch_OpSig_9 = v43;
			branch_ZPlusMirth_8 = v40;
			branch_Subst_7 = v42;
		} break;
		case 2LL: { // External
			uint64_t v44 = mtp_mirth_arrow_Op_External(in_Op_2);
			TUP* v45;
			TUP* v46 = mw_mirth_external_External_type(in_ZPlusMirth_1, v44, &v45);
			TUP* v47;
			TUP* v48;
			VAL v49 = mw_mirth_type_ArrowType_freshenZ_sig(v45, v6, v46, &v47, &v48);
			VAL v50 = mtw_mirth_elab_OpSig_Apply(v48);
			branch_OpSig_9 = v50;
			branch_ZPlusMirth_8 = v47;
			branch_Subst_7 = v49;
		} break;
		case 4LL: { // Field
			uint64_t v51 = mtp_mirth_arrow_Op_Field(in_Op_2);
			TUP* v52;
			TUP* v53 = mw_mirth_table_Field_type(in_ZPlusMirth_1, v51, &v52);
			TUP* v54;
			TUP* v55;
			VAL v56 = mw_mirth_type_ArrowType_freshenZ_sig(v52, v6, v53, &v54, &v55);
			VAL v57 = mtw_mirth_elab_OpSig_Apply(v55);
			branch_OpSig_9 = v57;
			branch_ZPlusMirth_8 = v54;
			branch_Subst_7 = v56;
		} break;
		case 10LL: { // BlockPush
			uint64_t v58 = mtp_mirth_arrow_Op_BlockPush(in_Op_2);
			VAL v59 = mw_mirth_elab_elabZ_blockZ_sigZBang(v58);
			branch_OpSig_9 = v59;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Subst_7 = v6;
		} break;
		case 11LL: { // BlockRun
			uint64_t v60 = mtp_mirth_arrow_Op_BlockRun(in_Op_2);
			TUP* v61;
			TUP* v62 = mw_mirth_arrow_Block_type(in_ZPlusMirth_1, v60, &v61);
			TUP* v63;
			TUP* v64 = mw_mirth_type_ArrowType_semifreshenZ_sig(v61, v62, &v63);
			VAL v65 = mtw_mirth_elab_OpSig_Apply(v64);
			branch_OpSig_9 = v65;
			branch_ZPlusMirth_8 = v63;
			branch_Subst_7 = v6;
		} break;
		case 9LL: { // Var
			uint64_t v66 = mtp_mirth_arrow_Op_Var(in_Op_2);
			TUP* v67;
			VAL v68 = mw_mirth_elab_elabZ_varZ_sigZBang(in_ZPlusMirth_1, v66, &v67);
			branch_OpSig_9 = v68;
			branch_ZPlusMirth_8 = v67;
			branch_Subst_7 = v6;
		} break;
		case 7LL: { // Match
			TUP* v69 = mtp_mirth_arrow_Op_Match(in_Op_2);
			VAL v70 = mw_mirth_elab_elabZ_matchZ_sigZBang(v69);
			branch_OpSig_9 = v70;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Subst_7 = v6;
		} break;
		case 8LL: { // Lambda
			TUP* v71 = mtp_mirth_arrow_Op_Lambda(in_Op_2);
			VAL v72 = mw_mirth_elab_elabZ_lambdaZ_sigZBang(v71);
			branch_OpSig_9 = v72;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Subst_7 = v6;
		} break;
		case 12LL: { // LabelPush
			uint64_t v73 = mtp_mirth_arrow_Op_LabelPush(in_Op_2);
			TUP* v74;
			VAL v75 = mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang(in_ZPlusMirth_1, v73, &v74);
			branch_OpSig_9 = v75;
			branch_ZPlusMirth_8 = v74;
			branch_Subst_7 = v6;
		} break;
		case 13LL: { // LabelPop
			uint64_t v76 = mtp_mirth_arrow_Op_LabelPop(in_Op_2);
			TUP* v77;
			VAL v78 = mw_mirth_elab_elabZ_labelZ_popZ_sigZBang(in_ZPlusMirth_1, v76, &v77);
			branch_OpSig_9 = v78;
			branch_ZPlusMirth_8 = v77;
			branch_Subst_7 = v6;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v79 = mtp_mirth_arrow_Op_LabelPushR(in_Op_2);
			TUP* v80;
			VAL v81 = mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang(in_ZPlusMirth_1, v79, &v80);
			branch_OpSig_9 = v81;
			branch_ZPlusMirth_8 = v80;
			branch_Subst_7 = v6;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v82 = mtp_mirth_arrow_Op_LabelPopR(in_Op_2);
			TUP* v83;
			VAL v84 = mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang(in_ZPlusMirth_1, v82, &v83);
			branch_OpSig_9 = v84;
			branch_ZPlusMirth_8 = v83;
			branch_Subst_7 = v6;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v85 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_2);
			TUP* v86;
			TUP* v87 = mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type(in_ZPlusMirth_1, v85, &v86);
			TUP* v88;
			TUP* v89;
			VAL v90 = mw_mirth_type_ArrowType_freshenZ_sig(v86, v6, v87, &v88, &v89);
			VAL v91 = mtw_mirth_elab_OpSig_Apply(v89);
			branch_OpSig_9 = v91;
			branch_ZPlusMirth_8 = v88;
			branch_Subst_7 = v90;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v92 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_2);
			TUP* v93;
			TUP* v94 = mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type(in_ZPlusMirth_1, v92, &v93);
			TUP* v95;
			TUP* v96;
			VAL v97 = mw_mirth_type_ArrowType_freshenZ_sig(v93, v6, v94, &v95, &v96);
			VAL v98 = mtw_mirth_elab_OpSig_Apply(v96);
			branch_OpSig_9 = v98;
			branch_ZPlusMirth_8 = v95;
			branch_Subst_7 = v97;
		} break;
		case 18LL: { // DataGetLabel
			TUP* v99 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_2);
			TUP* v100;
			TUP* v101 = mw_mirth_elab_dataZ_getZ_labelZ_type(in_ZPlusMirth_1, v99, &v100);
			TUP* v102;
			TUP* v103;
			VAL v104 = mw_mirth_type_ArrowType_freshenZ_sig(v100, v6, v101, &v102, &v103);
			VAL v105 = mtw_mirth_elab_OpSig_Apply(v103);
			branch_OpSig_9 = v105;
			branch_ZPlusMirth_8 = v102;
			branch_Subst_7 = v104;
		} break;
		case 19LL: { // DataSetLabel
			TUP* v106 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_2);
			TUP* v107;
			TUP* v108 = mw_mirth_elab_dataZ_setZ_labelZ_type(in_ZPlusMirth_1, v106, &v107);
			TUP* v109;
			TUP* v110;
			VAL v111 = mw_mirth_type_ArrowType_freshenZ_sig(v107, v6, v108, &v109, &v110);
			VAL v112 = mtw_mirth_elab_OpSig_Apply(v110);
			branch_OpSig_9 = v112;
			branch_ZPlusMirth_8 = v109;
			branch_Subst_7 = v111;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v113 = mtp_mirth_arrow_Op_TableToIndex(in_Op_2);
			TUP* v114;
			TUP* v115 = mw_mirth_elab_tableZ_toZ_indexZ_type(in_ZPlusMirth_1, v113, &v114);
			TUP* v116;
			TUP* v117;
			VAL v118 = mw_mirth_type_ArrowType_freshenZ_sig(v114, v6, v115, &v116, &v117);
			VAL v119 = mtw_mirth_elab_OpSig_Apply(v117);
			branch_OpSig_9 = v119;
			branch_ZPlusMirth_8 = v116;
			branch_Subst_7 = v118;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v120 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_2);
			TUP* v121;
			TUP* v122 = mw_mirth_elab_tableZ_fromZ_indexZ_type(in_ZPlusMirth_1, v120, &v121);
			TUP* v123;
			TUP* v124;
			VAL v125 = mw_mirth_type_ArrowType_freshenZ_sig(v121, v6, v122, &v123, &v124);
			VAL v126 = mtw_mirth_elab_OpSig_Apply(v124);
			branch_OpSig_9 = v126;
			branch_ZPlusMirth_8 = v123;
			branch_Subst_7 = v125;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_OpSig_5 = branch_OpSig_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_Subst_7;
}
static TUP* mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, in_Data_2, &v5);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ArrowType_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Left
			VAL v9 = mtp_std_either_Either_2_Left(v6);
			VAL v10 = mw_mirth_type_T1(v9);
			VAL v11 = mw_mirth_type_Type_I64();
			VAL v12 = mw_mirth_type_T1(v11);
			TUP* v13 = mw_mirth_type_TZ_ZTo(v10, v12);
			branch_ArrowType_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Right
			VAL v14 = mtp_std_either_Either_2_Right(v6);
			VAL v15 = mw_mirth_type_T0();
			incref(v14);
			VAL v16 = mw_mirth_type_TZPlus(v15, v14);
			VAL v17 = mw_mirth_type_Type_I64();
			VAL v18 = mw_mirth_type_T1(v17);
			VAL v19 = mw_mirth_type_TZPlus(v18, v14);
			TUP* v20 = mw_mirth_type_TZ_ZTo(v16, v19);
			branch_ArrowType_8 = v20;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_ArrowType_8;
}
static TUP* mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_type_Type_I64();
	VAL v6 = mw_mirth_type_T1(v5);
	VAL v7 = mw_mirth_type_T0();
	TUP* v8;
	VAL v9 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, in_Data_2, &v8);
	VAL v10 = mw_mirth_type_TZMulZPlus(v7, v9);
	TUP* v11 = mw_mirth_type_TZ_ZTo(v6, v10);
	*out_ZPlusMirth_3 = v8;
	return v11;
}
static TUP* mw_mirth_elab_tableZ_toZ_indexZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mtw_mirth_type_Type_Table(in_Table_2);
	VAL v6 = mw_mirth_type_T1(v5);
	VAL v7 = mw_mirth_type_Type_U64();
	VAL v8 = mw_mirth_type_T1(v7);
	TUP* v9 = mw_mirth_type_TZ_ZTo(v6, v8);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v9;
}
static TUP* mw_mirth_elab_tableZ_fromZ_indexZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mtw_mirth_type_Type_Table(in_Table_2);
	VAL v6 = mw_mirth_type_T1(v5);
	VAL v7 = mw_mirth_type_Type_U64();
	VAL v8 = mw_mirth_type_T1(v7);
	TUP* v9 = mw_mirth_type_TZ_ZTo(v8, v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v9;
}
static VAL mw_mirth_elab_elabZ_blockZ_sigZBang (uint64_t in_Block_1) {
	VAL v3 = mtw_mirth_type_Value_Block(in_Block_1);
	VAL v4 = mtw_mirth_type_Type_Value(v3);
	VAL v5 = mtw_mirth_elab_OpSig_Push(v4);
	return v5;
}
static VAL mw_mirth_elab_elabZ_matchZ_sigZBang (TUP* in_Match_1) {
	incref(MKTUP(in_Match_1, 7));
	VAL v3 = in_Match_1->cells[4];
	incref(v3);
	decref(MKTUP(in_Match_1, 7));
	VAL v4 = in_Match_1->cells[5];
	incref(v4);
	decref(MKTUP(in_Match_1, 7));
	TUP* v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	VAL v6 = mtw_mirth_elab_OpSig_Apply(v5);
	return v6;
}
static VAL mw_mirth_elab_elabZ_lambdaZ_sigZBang (TUP* in_Lambda_1) {
	incref(MKTUP(in_Lambda_1, 5));
	VAL v3 = in_Lambda_1->cells[2];
	incref(v3);
	decref(MKTUP(in_Lambda_1, 5));
	VAL v4 = mw_mirth_arrow_Lambda_cod(in_Lambda_1);
	TUP* v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	VAL v6 = mtw_mirth_elab_OpSig_Apply(v5);
	return v6;
}
static VAL mw_mirth_elab_elabZ_varZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_var_Var_autoZ_runZAsk(in_ZPlusMirth_1, in_Var_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_OpSig_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			TUP* v11 = mw_mirth_type_ArrowType_semifreshenZ_sig(v5, value_tup(v9, 2), &v10);
			VAL v12 = mtw_mirth_elab_OpSig_Apply(v11);
			branch_OpSig_8 = v12;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			TUP* v13;
			VAL v14 = mw_mirth_var_Var_type(v5, in_Var_2, &v13);
			VAL v15 = mtw_mirth_elab_OpSig_Push(v14);
			branch_OpSig_8 = v15;
			branch_ZPlusMirth_7 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_OpSig_8;
}
static VAL mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_Type_FreshZBang(v5, &v7);
	incref(v6);
	incref(v8);
	VAL v9 = mtw_mirth_type_StackType_ConsLabel(v6, v8, in_Label_2);
	VAL v10 = mtw_mirth_type_StackType_Cons(v6, v8);
	TUP* v11 = mw_mirth_type_TZ_ZTo(v10, v9);
	VAL v12 = mtw_mirth_elab_OpSig_Apply(v11);
	*out_ZPlusMirth_3 = v7;
	return v12;
}
static VAL mw_mirth_elab_elabZ_labelZ_popZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_Type_FreshZBang(v5, &v7);
	incref(v6);
	incref(v8);
	VAL v9 = mtw_mirth_type_StackType_ConsLabel(v6, v8, in_Label_2);
	VAL v10 = mtw_mirth_type_StackType_Cons(v6, v8);
	TUP* v11 = mw_mirth_type_TZ_ZTo(v9, v10);
	VAL v12 = mtw_mirth_elab_OpSig_Apply(v11);
	*out_ZPlusMirth_3 = v7;
	return v12;
}
static VAL mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_Resource_FreshZBang(v5, &v7);
	incref(v6);
	incref(v8);
	VAL v9 = mtw_mirth_type_StackType_WithLabel(v6, v8, in_Label_2);
	VAL v10 = mtw_mirth_type_StackType_With(v6, v8);
	TUP* v11 = mw_mirth_type_TZ_ZTo(v10, v9);
	VAL v12 = mtw_mirth_elab_OpSig_Apply(v11);
	*out_ZPlusMirth_3 = v7;
	return v12;
}
static VAL mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_Resource_FreshZBang(v5, &v7);
	incref(v6);
	incref(v8);
	VAL v9 = mtw_mirth_type_StackType_WithLabel(v6, v8, in_Label_2);
	VAL v10 = mtw_mirth_type_StackType_With(v6, v8);
	TUP* v11 = mw_mirth_type_TZ_ZTo(v9, v10);
	VAL v12 = mtw_mirth_elab_OpSig_Apply(v11);
	*out_ZPlusMirth_3 = v7;
	return v12;
}
static TUP* mw_mirth_elab_elabZ_arrowZ_homZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, VAL in_StackType_4, uint64_t in_Token_5, VAL in_Home_6, TUP* *out_ZPlusMirth_7) {
	TUP* v9 = mw_mirth_type_TZ_ZTo(in_StackType_3, in_StackType_4);
	VAL v10;
	VAL v11;
	mtp_mirth_type_ArrowType_ArrowType(v9, &v10, &v11);
	incref(v10);
	VAL v12 = MKI64(0LL /* Nil */);
	TUP* v13 = mtw_mirth_arrow_Arrow_Arrow(in_Home_6, in_Token_5, in_Token_5, in_Ctx_2, v10, v10, v12);
	TUP* v14;
	TUP* v15;
	mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(in_ZPlusMirth_1, v13, &v14, &v15);
	TUP* v16;
	TUP* v17;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v14, v15, v11, &v16, &v17);
	*out_ZPlusMirth_7 = v16;
	return v17;
}
static void mw_mirth_elab_elabZ_matchZ_casesZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(in_ZPlusMatch_2->cells[2]);
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_lcurlyZAsk(in_ZPlusMirth_1, v5, &v6);
	int64_t v8 = get_data_tag(v7);
	decref(v7);
	INT v9 = WRAP_I63(0LL);
	INT v10 = i64_to_int(v8);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	TUP* branch_ZPlusMirth_13;
	TUP* branch_ZPlusMatch_14;
	if (v12) {
		TUP* v15;
		TUP* v16;
		mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang(v6, in_ZPlusMatch_2, &v15, &v16);
		branch_ZPlusMatch_14 = v16;
		branch_ZPlusMirth_13 = v15;
	} else {
		TUP* v17;
		TUP* v18;
		mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang(v6, in_ZPlusMatch_2, &v17, &v18);
		branch_ZPlusMatch_14 = v18;
		branch_ZPlusMirth_13 = v17;
	}
	*out_ZPlusMatch_4 = branch_ZPlusMatch_14;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_13;
}
static void mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(in_ZPlusMatch_2->cells[2]);
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_runZ_tokens(in_ZPlusMirth_1, v5, &v6);
	bool v8 = true;
	TUP* v9 = v6;
	TUP* v10 = in_ZPlusMatch_2;
	VAL v11 = v7;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		TUP* v14 = v9;
		TUP* v15 = v10;
		VAL v16 = v11;
		bool v17 = v12;
		TUP* branch_ZPlusMirth_18;
		TUP* branch_ZPlusMatch_19;
		VAL branch_List_20;
		bool branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				incref(v23);
				TUP* v24;
				VAL v25 = mw_mirth_token_Token_lcurlyZAsk(v14, value_u64(v23), &v24);
				int64_t v26 = get_data_tag(v25);
				decref(v25);
				INT v27 = WRAP_I63(0LL);
				INT v28 = i64_to_int(v26);
				bool v29 = int_eq(v28, v27);
				bool v30 = !v29;
				TUP* branch_ZPlusMirth_31;
				uint64_t branch_Token_32;
				VAL branch_z_x1_33;
				if (v30) {
					branch_z_x1_33 = MKTUP(v15, 7);
					branch_Token_32 = value_u64(v23);
					branch_ZPlusMirth_31 = v24;
				} else {
					STR* v34;
					STRLIT(v34, "Expected a pattern match case of the form { ... -> ... }", 56);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v24, value_u64(v23), v34);
				}
				TUP* v37;
				uint64_t v38 = mw_mirth_token_Token_argsZ_1(branch_ZPlusMirth_31, branch_Token_32, &v37);
				TUP* v39;
				TUP* v40;
				uint64_t v41 = mw_mirth_elab_elabZ_matchZ_caseZBang(v38, v37, value_tup(branch_z_x1_33, 7), &v39, &v40);
				bool v42 = true;
				branch_Bool_21 = v42;
				branch_List_20 = v22;
				branch_ZPlusMatch_19 = v40;
				branch_ZPlusMirth_18 = v39;
			} break;
			case 0LL: { // Nil
				VAL v43 = MKI64(0LL /* Nil */);
				bool v44 = false;
				branch_Bool_21 = v44;
				branch_List_20 = v43;
				branch_ZPlusMatch_19 = v15;
				branch_ZPlusMirth_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusMatch_19;
		v9 = branch_ZPlusMirth_18;
	}
	decref(v11);
	*out_ZPlusMatch_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(in_ZPlusMatch_2->cells[2]);
	TUP* v6;
	bool v7 = mw_mirth_token_Token_argsZ_endZAsk(in_ZPlusMirth_1, v5, &v6);
	bool v8 = !v7;
	uint64_t v9 = v5;
	TUP* v10 = v6;
	TUP* v11 = in_ZPlusMatch_2;
	bool v12 = v8;
	while (v12) {
		uint64_t v13 = v9;
		TUP* v14 = v10;
		TUP* v15 = v11;
		TUP* v16;
		TUP* v17;
		uint64_t v18 = mw_mirth_elab_elabZ_matchZ_caseZBang(v13, v14, v15, &v16, &v17);
		TUP* v19;
		bool v20 = mw_mirth_token_Token_argsZ_endZAsk(v16, v18, &v19);
		bool v21 = !v20;
		v12 = v21;
		v11 = v17;
		v10 = v19;
		v9 = v18;
	}
	*out_ZPlusMatch_4 = v11;
	*out_ZPlusMirth_3 = v10;
}
static uint64_t mw_mirth_elab_elabZ_matchZ_caseZBang (uint64_t in_Token_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusMatch_3, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusMatch_6) {
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_runZ_arrowZAsk(in_ZPlusMirth_2, in_Token_1, &v7);
	TUP* branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	VAL branch_z_x1_11;
	VAL branch_z_x2_12;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v8);
			branch_z_x2_12 = v13;
			branch_z_x1_11 = MKTUP(in_ZPlusMatch_3, 7);
			branch_Token_10 = in_Token_1;
			branch_ZPlusMirth_9 = v7;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "Expected pattern match case ... -> ...", 38);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v7, in_Token_1, v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x2_12);
	bool v18 = mw_mirth_token_Token_ZEqual(branch_Token_10, value_u64(branch_z_x2_12));
	TUP* branch_ZPlusMirth_19;
	uint64_t branch_Token_20;
	VAL branch_z_x1_21;
	if (v18) {
		STR* v22;
		STRLIT(v22, "expected pattern", 16);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_9, value_u64(branch_z_x2_12), v22);
	} else {
		branch_z_x1_21 = branch_z_x1_11;
		branch_Token_20 = value_u64(branch_z_x2_12);
		branch_ZPlusMirth_19 = branch_ZPlusMirth_9;
	}
	TUP* v25;
	uint64_t v26 = mw_mirth_token_Token_prev(branch_ZPlusMirth_19, branch_Token_20, &v25);
	bool v27 = mw_mirth_token_Token_ZEqual(branch_Token_10, v26);
	TUP* branch_ZPlusMirth_28;
	uint64_t branch_Token_29;
	VAL branch_z_x1_30;
	if (v27) {
		branch_z_x1_30 = branch_z_x1_21;
		branch_Token_29 = branch_Token_20;
		branch_ZPlusMirth_28 = v25;
	} else {
		STR* v31;
		STRLIT(v31, "multi-part pattern not supported", 32);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v25, branch_Token_20, v31);
	}
	TUP* v34;
	VAL v35 = mw_mirth_token_Token_patZ_tokens(branch_ZPlusMirth_28, branch_Token_10, &v34);
	TUP* v36;
	uint64_t v37 = mw_mirth_token_Token_prev(v34, branch_Token_29, &v36);
	uint64_t v38 = mw_mirth_token_Token_succ(branch_Token_29);
	VAL v39 = VTUP(branch_z_x1_30)->cells[0];
	incref(v39);
	VAL v40 = VTUP(branch_z_x1_30)->cells[3];
	incref(v40);
	incref(v40);
	VAL v41 = MKI64(0LL /* Nil */);
	VAL v42 = VTUP(branch_z_x1_30)->cells[4];
	incref(v42);
	incref(v42);
	VAL v43 = MKI64(0LL /* Nil */);
	TUP* v44 = mtw_mirth_match_Pattern_Pattern(v39, v37, v37, v40, v40, v41, v42, v42, v43);
	TUP* v45;
	mw_mirth_match_Pattern_thaw(v44, &v45);
	TUP* v46;
	TUP* v47;
	mw_mirth_elab_elabZ_patternZBang(v36, v45, v35, &v46, &v47);
	TUP* v48 = mw_mirth_match_ZPlusPattern_freezze(v47);
	incref(MKTUP(v48, 9));
	VAL v49 = v48->cells[4];
	incref(v49);
	decref(MKTUP(v48, 9));
	incref(MKTUP(v48, 9));
	VAL v50 = mw_mirth_match_Pattern_dom(v48);
	VAL v51 = VTUP(branch_z_x1_30)->cells[5];
	incref(v51);
	TUP* v52 = mw_mirth_type_TZ_ZTo(v50, v51);
	VAL v53 = VTUP(branch_z_x1_30)->cells[0];
	incref(v53);
	VAL v54;
	VAL v55;
	mtp_mirth_type_ArrowType_ArrowType(v52, &v54, &v55);
	incref(v54);
	VAL v56 = MKI64(0LL /* Nil */);
	TUP* v57 = mtw_mirth_arrow_Arrow_Arrow(v53, v38, v38, v49, v54, v54, v56);
	TUP* v58;
	TUP* v59;
	mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v46, v57, &v58, &v59);
	TUP* v60;
	uint64_t v61 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v59, &v60);
	TUP* v62;
	bool v63 = mw_mirth_token_Token_commaZAsk(v58, v61, &v62);
	uint64_t branch_Token_64;
	if (v63) {
		uint64_t v65 = mw_mirth_token_Token_succ(v61);
		branch_Token_64 = v65;
	} else {
		branch_Token_64 = v61;
	}
	TUP* v66;
	TUP* v67;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v62, v60, v55, &v66, &v67);
	TUP* v68 = mtw_mirth_match_Case_Case(v48, v67);
	TUP* v69;
	TUP* v70;
	mw_mirth_match_ZPlusMatch_addZ_case(v66, value_tup(branch_z_x1_30, 7), v68, &v69, &v70);
	*out_ZPlusMatch_6 = v70;
	*out_ZPlusMirth_5 = v69;
	return branch_Token_64;
}
static void mw_mirth_elab_elabZ_patternZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusPattern_5) {
	VAL v6 = mw_std_list_List_1_reverse(in_List_3);
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusPattern_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusPattern_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				TUP* v23;
				TUP* v24;
				mw_mirth_elab_elabZ_patternZ_atomZBang(v13, v14, value_u64(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusPattern_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusPattern_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusPattern_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusPattern_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_elabZ_patternZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusPattern_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusPattern_5) {
	incref(MKTUP(in_ZPlusPattern_2, 9));
	VAL v6 = tup_replace(MKTUP(in_ZPlusPattern_2, 9), 1, MKU64(in_Token_3));
	decref(MKTUP(in_ZPlusPattern_2, 9));
	TUP* v7;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, in_Token_3, &v7);
	TUP* v8;
	bool v9 = mw_mirth_token_Token_patZ_underscoreZAsk(v7, in_Token_3, &v8);
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusPattern_11;
	if (v9) {
		TUP* v12;
		TUP* v13;
		mw_mirth_match_ZPlusPattern_underscoreZBang(v8, value_tup(v6, 9), &v12, &v13);
		branch_ZPlusPattern_11 = v13;
		branch_ZPlusMirth_10 = v12;
	} else {
		TUP* v14;
		VAL v15 = mw_mirth_token_Token_nameZDivdnameZAsk(v8, in_Token_3, &v14);
		TUP* branch_ZPlusMirth_16;
		TUP* branch_ZPlusPattern_17;
		switch (get_data_tag(v15)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v15);
				STR* v19;
				STRLIT(v19, "constructor", 11);
				incref(v6);
				VAL v20 = VTUP(v6)->cells[6];
				incref(v20);
				decref(v6);
				TUP* v21;
				bool v22 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v14, v20, &v21);
				bool v23 = !v22;
				bool v24 = false;
				TUP* v25;
				TUP* v26;
				mw_mirth_elab_ZPlusResolveDef_BeginZBang(v19, in_Token_3, v18, v24, v23, v21, &v25, &v26);
				VAL v27 = v26->cells[3];
				incref(v27);
				VAL v28 = MKI64(0LL /* Nil */);
				VAL v29 = MKI64(0LL /* Nil */);
				bool v30 = true;
				VAL v31 = v28;
				VAL v32 = v29;
				VAL v33 = v27;
				bool v34 = v30;
				bool v35 = v30;
				while (v35) {
					VAL v36 = v31;
					VAL v37 = v32;
					VAL v38 = v33;
					bool v39 = v34;
					VAL branch_List_40;
					VAL branch_List_41;
					VAL branch_List_42;
					bool branch_Bool_43;
					switch (get_data_tag(v38)) {
						case 1LL: { // Cons
							VAL v44;
							VAL v45 = mtp_std_list_List_1_Cons(v38, &v44);
							incref(v45);
							VAL v46 = mw_mirth_def_Def_tagZAsk(v45);
							int64_t v47 = get_data_tag(v46);
							decref(v46);
							INT v48 = WRAP_I63(0LL);
							INT v49 = i64_to_int(v47);
							bool v50 = int_eq(v49, v48);
							bool v51 = !v50;
							VAL branch_Either_52;
							if (v51) {
								VAL v53 = mtw_std_either_Either_2_Right(v45);
								branch_Either_52 = v53;
							} else {
								VAL v54 = mtw_mirth_elab_RejectedDef_WrongSort(v45);
								VAL v55 = mtw_std_either_Either_2_Left(v54);
								branch_Either_52 = v55;
							}
							VAL branch_List_56;
							VAL branch_List_57;
							switch (get_data_tag(branch_Either_52)) {
								case 0LL: { // Left
									VAL v58 = mtp_std_either_Either_2_Left(branch_Either_52);
									VAL v59 = mw_std_list_List_1_cons(v58, v36);
									branch_List_57 = v37;
									branch_List_56 = v59;
								} break;
								case 1LL: { // Right
									VAL v60 = mtp_std_either_Either_2_Right(branch_Either_52);
									VAL v61 = mw_std_list_List_1_cons(v60, v37);
									branch_List_57 = v61;
									branch_List_56 = v36;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							bool v62 = true;
							branch_Bool_43 = v62;
							branch_List_42 = v44;
							branch_List_41 = branch_List_57;
							branch_List_40 = branch_List_56;
						} break;
						case 0LL: { // Nil
							VAL v63 = MKI64(0LL /* Nil */);
							bool v64 = false;
							branch_Bool_43 = v64;
							branch_List_42 = v63;
							branch_List_41 = v37;
							branch_List_40 = v36;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v35 = branch_Bool_43;
					v34 = branch_Bool_43;
					v33 = branch_List_42;
					v32 = branch_List_41;
					v31 = branch_List_40;
				}
				decref(v33);
				VAL v65 = mw_std_list_List_1_reverse(v31);
				VAL v66 = mw_std_list_List_1_reverse(v32);
				VAL v67 = v26->cells[4];
				incref(v67);
				VAL v68 = mw_std_list_List_1_cat(v65, v67);
				VAL v69 = v26->cells[4];
				decref(v69);
				v26->cells[4] = v68;
				VAL v70 = v26->cells[3];
				decref(v70);
				v26->cells[3] = v66;
				TUP* v71;
				TUP* v72;
				mw_mirth_elab_ZPlusResolveDef_filterZ_arity(v25, v26, &v71, &v72);
				TUP* v73;
				TUP* v74;
				mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v71, v72, &v73, &v74);
				incref(v6);
				VAL v75 = VTUP(v6)->cells[6];
				incref(v75);
				decref(v6);
				TUP* v76;
				bool v77 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v73, v75, &v76);
				TUP* branch_ZPlusPattern_78;
				TUP* branch_ZPlusMirth_79;
				TUP* branch_ZPlusResolveDef_80;
				if (v77) {
					incref(v6);
					VAL v81 = VTUP(v6)->cells[6];
					incref(v81);
					decref(v6);
					TUP* v82;
					VAL v83 = mw_mirth_type_StackType_topZ_namespaces(v76, v81, &v82);
					uint64_t v84 = value_u64(v74->cells[1]);
					TUP* v85;
					VAL v86 = mw_mirth_token_Token_nameZAsk(v82, v84, &v85);
					int64_t v87 = get_data_tag(v86);
					decref(v86);
					INT v88 = WRAP_I63(0LL);
					INT v89 = i64_to_int(v87);
					bool v90 = int_eq(v89, v88);
					bool v91 = !v90;
					TUP* branch_ZPlusMirth_92;
					TUP* branch_ZPlusResolveDef_93;
					if (v91) {
						VAL v94 = v74->cells[3];
						incref(v94);
						VAL v95 = MKI64(0LL /* Nil */);
						VAL v96 = MKI64(0LL /* Nil */);
						bool v97 = true;
						TUP* v98 = v85;
						TUP* v99 = v74;
						VAL v100 = v83;
						VAL v101 = v95;
						VAL v102 = v96;
						VAL v103 = v94;
						bool v104 = v97;
						bool v105 = v97;
						while (v105) {
							TUP* v106 = v98;
							TUP* v107 = v99;
							VAL v108 = v100;
							VAL v109 = v101;
							VAL v110 = v102;
							VAL v111 = v103;
							bool v112 = v104;
							VAL branch_List_113;
							TUP* branch_ZPlusMirth_114;
							VAL branch_z_x1_115;
							VAL branch_List_116;
							VAL branch_List_117;
							VAL branch_List_118;
							bool branch_Bool_119;
							switch (get_data_tag(v111)) {
								case 1LL: { // Cons
									VAL v120;
									VAL v121 = mtp_std_list_List_1_Cons(v111, &v120);
									incref(v108);
									incref(v121);
									TUP* v122;
									TUP* v123 = mw_mirth_def_Def_qnameZ_hard(v106, v121, &v122);
									VAL v124 = v123->cells[0];
									incref(v124);
									decref(MKTUP(v123, 3));
									bool v125 = mw_std_list_List_1_member_sp5(v124, v108);
									VAL branch_List_126;
									TUP* branch_ZPlusMirth_127;
									VAL branch_z_x1_128;
									VAL branch_Either_129;
									if (v125) {
										VAL v130 = mtw_std_either_Either_2_Right(v121);
										branch_Either_129 = v130;
										branch_z_x1_128 = MKTUP(v107, 7);
										branch_ZPlusMirth_127 = v122;
										branch_List_126 = v108;
									} else {
										VAL v131 = mtw_mirth_elab_RejectedDef_WrongConstructor(v121);
										VAL v132 = mtw_std_either_Either_2_Left(v131);
										branch_Either_129 = v132;
										branch_z_x1_128 = MKTUP(v107, 7);
										branch_ZPlusMirth_127 = v122;
										branch_List_126 = v108;
									}
									VAL branch_List_133;
									TUP* branch_ZPlusMirth_134;
									VAL branch_z_x1_135;
									VAL branch_List_136;
									VAL branch_List_137;
									switch (get_data_tag(branch_Either_129)) {
										case 0LL: { // Left
											VAL v138 = mtp_std_either_Either_2_Left(branch_Either_129);
											VAL v139 = mw_std_list_List_1_cons(v138, v109);
											branch_List_137 = v110;
											branch_List_136 = v139;
											branch_z_x1_135 = branch_z_x1_128;
											branch_ZPlusMirth_134 = branch_ZPlusMirth_127;
											branch_List_133 = branch_List_126;
										} break;
										case 1LL: { // Right
											VAL v140 = mtp_std_either_Either_2_Right(branch_Either_129);
											VAL v141 = mw_std_list_List_1_cons(v140, v110);
											branch_List_137 = v141;
											branch_List_136 = v109;
											branch_z_x1_135 = branch_z_x1_128;
											branch_ZPlusMirth_134 = branch_ZPlusMirth_127;
											branch_List_133 = branch_List_126;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									bool v142 = true;
									branch_Bool_119 = v142;
									branch_List_118 = v120;
									branch_List_117 = branch_List_137;
									branch_List_116 = branch_List_136;
									branch_z_x1_115 = branch_z_x1_135;
									branch_ZPlusMirth_114 = branch_ZPlusMirth_134;
									branch_List_113 = branch_List_133;
								} break;
								case 0LL: { // Nil
									VAL v143 = MKI64(0LL /* Nil */);
									bool v144 = false;
									branch_Bool_119 = v144;
									branch_List_118 = v143;
									branch_List_117 = v110;
									branch_List_116 = v109;
									branch_z_x1_115 = MKTUP(v107, 7);
									branch_ZPlusMirth_114 = v106;
									branch_List_113 = v108;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							v105 = branch_Bool_119;
							v104 = branch_Bool_119;
							v103 = branch_List_118;
							v102 = branch_List_117;
							v101 = branch_List_116;
							v100 = branch_List_113;
							v99 = value_tup(branch_z_x1_115, 7);
							v98 = branch_ZPlusMirth_114;
						}
						decref(v103);
						VAL v145 = mw_std_list_List_1_reverse(v101);
						VAL v146 = mw_std_list_List_1_reverse(v102);
						VAL v147 = v99->cells[4];
						incref(v147);
						VAL v148 = mw_std_list_List_1_cat(v145, v147);
						VAL v149 = v99->cells[4];
						decref(v149);
						v99->cells[4] = v148;
						VAL v150 = v99->cells[3];
						decref(v150);
						v99->cells[3] = v146;
						decref(v100);
						branch_ZPlusResolveDef_93 = v99;
						branch_ZPlusMirth_92 = v98;
					} else {
						TUP* v151;
						TUP* v152;
						mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v85, v74, v83, &v151, &v152);
						branch_ZPlusResolveDef_93 = v152;
						branch_ZPlusMirth_92 = v151;
					}
					branch_ZPlusResolveDef_80 = branch_ZPlusResolveDef_93;
					branch_ZPlusMirth_79 = branch_ZPlusMirth_92;
					branch_ZPlusPattern_78 = value_tup(v6, 9);
				} else {
					branch_ZPlusResolveDef_80 = v74;
					branch_ZPlusMirth_79 = v76;
					branch_ZPlusPattern_78 = value_tup(v6, 9);
				}
				TUP* v153;
				VAL v154 = mw_mirth_elab_ZPlusResolveDef_endZBang(branch_ZPlusMirth_79, branch_ZPlusResolveDef_80, &v153);
				VAL branch_Maybe_155;
				switch (get_data_tag(v154)) {
					case 1LL: { // Some
						VAL v156 = mtp_std_maybe_Maybe_1_Some(v154);
						VAL v157 = mw_mirth_def_Def_tagZAsk(v156);
						branch_Maybe_155 = v157;
					} break;
					case 0LL: { // None
						VAL v158 = MKI64(0LL /* None */);
						branch_Maybe_155 = v158;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				TUP* branch_ZPlusMirth_159;
				TUP* branch_ZPlusPattern_160;
				switch (get_data_tag(branch_Maybe_155)) {
					case 1LL: { // Some
						VAL v161 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_155);
						TUP* v162;
						TUP* v163;
						mw_mirth_match_ZPlusPattern_tagZBang(v153, branch_ZPlusPattern_78, value_u64(v161), &v162, &v163);
						branch_ZPlusPattern_160 = v163;
						branch_ZPlusMirth_159 = v162;
					} break;
					case 0LL: { // None
						VAL v164 = MKI64(0LL /* Error */);
						incref(MKTUP(branch_ZPlusPattern_78, 9));
						VAL v165 = tup_replace(MKTUP(branch_ZPlusPattern_78, 9), 6, v164);
						decref(MKTUP(branch_ZPlusPattern_78, 9));
						branch_ZPlusPattern_160 = value_tup(v165, 9);
						branch_ZPlusMirth_159 = v153;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusPattern_17 = branch_ZPlusPattern_160;
				branch_ZPlusMirth_16 = branch_ZPlusMirth_159;
			} break;
			case 0LL: { // None
				STR* v166;
				STRLIT(v166, "Expected constructor name.", 26);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, in_Token_3, v166);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusPattern_11 = branch_ZPlusPattern_17;
		branch_ZPlusMirth_10 = branch_ZPlusMirth_16;
	}
	*out_ZPlusPattern_5 = branch_ZPlusPattern_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static VAL mw_mirth_elab_elabZ_expandZ_tensorZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6, uint64_t *out_Token_7) {
	TUP* v8;
	VAL v9 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, in_StackType_2, &v8);
	TUP* branch_ZPlusMirth_10;
	VAL branch_StackType_11;
	VAL branch_Type_12;
	uint64_t branch_Token_13;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v9);
			VAL v15 = value_tup(v14, 2)->cells[0];
			VAL v16 = value_tup(v14, 2)->cells[1];
			tup_decref_outer(value_tup(v14, 2),2);
			branch_Token_13 = in_Token_3;
			branch_Type_12 = v16;
			branch_StackType_11 = v15;
			branch_ZPlusMirth_10 = v8;
		} break;
		case 0LL: { // None
			VAL v17 = MKI64(0LL /* Error */);
			VAL v18 = MKI64(0LL /* Error */);
			STR* v19;
			STRLIT(v19, "expected tuple type", 19);
			TUP* v20;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v8, in_Token_3, v19, &v20);
			branch_Token_13 = in_Token_3;
			branch_Type_12 = v18;
			branch_StackType_11 = v17;
			branch_ZPlusMirth_10 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Token_7 = branch_Token_13;
	*out_Type_6 = branch_Type_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_StackType_11;
}
static uint64_t mw_mirth_elab_elabZ_lambdaZ_paramZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_patternZ_varZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	uint64_t branch_Token_8;
	TUP* branch_ZPlusMirth_9;
	VAL branch_Maybe_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v12;
			mw_mirth_token_Token_argsZ_0(v6, in_Token_2, &v12);
			TUP* v13;
			uint64_t v14 = mw_mirth_token_Token_next(v12, in_Token_2, &v13);
			TUP* v15;
			VAL v16 = mw_mirth_type_Type_FreshZBang(v13, &v15);
			TUP* v17;
			uint64_t v18 = mw_mirth_var_Var_NewZBang(v15, v16, value_u64(v11), &v17);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(MKU64(v18));
			branch_Maybe_10 = v19;
			branch_ZPlusMirth_9 = v17;
			branch_Token_8 = v14;
		} break;
		case 0LL: { // None
			TUP* v20;
			VAL v21 = mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk(v6, in_Token_2, &v20);
			uint64_t branch_Token_22;
			TUP* branch_ZPlusMirth_23;
			VAL branch_Maybe_24;
			switch (get_data_tag(v21)) {
				case 1LL: { // Some
					VAL v25 = mtp_std_maybe_Maybe_1_Some(v21);
					uint64_t v26 = mw_mirth_token_Token_succ(in_Token_2);
					TUP* v27;
					mw_mirth_token_Token_argsZ_0(v20, v26, &v27);
					TUP* v28;
					uint64_t v29 = mw_mirth_token_Token_next(v27, in_Token_2, &v28);
					TUP* v30;
					TUP* v31 = mw_mirth_type_ArrowType_FreshZBang(v28, &v30);
					TUP* v32;
					uint64_t v33 = mw_mirth_var_Var_NewAutoRunZBang(v30, v31, value_u64(v25), &v32);
					VAL v34 = mtw_std_maybe_Maybe_1_Some(MKU64(v33));
					branch_Maybe_24 = v34;
					branch_ZPlusMirth_23 = v32;
					branch_Token_22 = v29;
				} break;
				case 0LL: { // None
					VAL v35 = MKI64(0LL /* None */);
					branch_Maybe_24 = v35;
					branch_ZPlusMirth_23 = v20;
					branch_Token_22 = in_Token_2;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_10 = branch_Maybe_24;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_23;
			branch_Token_8 = branch_Token_22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_5 = branch_Maybe_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Token_8;
}
static void mw_mirth_elab_elabZ_atomZ_lambdaZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	uint64_t v6 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10;
	mw_std_list_List_1_buildZBang(v9, &v10);
	bool v11 = true;
	TUP* v12 = v7;
	uint64_t v13 = v8;
	TUP* v14 = v5;
	VAL v15 = v10;
	bool v16 = v11;
	bool v17 = v11;
	while (v17) {
		TUP* v18 = v12;
		uint64_t v19 = v13;
		TUP* v20 = v14;
		VAL v21 = v15;
		bool v22 = v16;
		TUP* v23;
		VAL v24;
		uint64_t v25 = mw_mirth_elab_elabZ_lambdaZ_paramZAsk(v18, v19, &v23, &v24);
		VAL v26;
		bool v27 = mw_std_maybe_Maybe_1_ifZAsk_2_sp58(v21, v24, &v26);
		v17 = v27;
		v16 = v27;
		v15 = v26;
		v14 = v20;
		v13 = v25;
		v12 = v23;
	}
	VAL v28 = mw_std_list_ZPlusLister_1_doneZBang(v15);
	TUP* v29;
	uint64_t v30 = mw_mirth_elab_expectZ_tokenZ_arrow(v12, v13, &v29);
	uint64_t v31 = mw_mirth_token_Token_succ(v30);
	TUP* v32;
	VAL v33 = mw_mirth_type_StackType_FreshZBang(v29, &v32);
	incref(v28);
	TUP* v34;
	VAL v35 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v14, &v34);
	TUP* v36;
	VAL v37 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v34, &v36);
	TUP* v38;
	TUP* v39;
	VAL v40;
	VAL v41 = mw_std_list_List_1_reverseZ_for_1_sp10(v32, v36, v35, v37, v28, &v38, &v39, &v40);
	TUP* v42 = mw_mirth_type_TZ_ZTo(v40, v33);
	TUP* v43;
	VAL v44 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v39, &v43);
	VAL v45;
	VAL v46;
	mtp_mirth_type_ArrowType_ArrowType(v42, &v45, &v46);
	incref(v45);
	VAL v47 = MKI64(0LL /* Nil */);
	TUP* v48 = mtw_mirth_arrow_Arrow_Arrow(v44, v31, v31, v41, v45, v45, v47);
	TUP* v49;
	TUP* v50;
	mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v38, v48, &v49, &v50);
	TUP* v51;
	TUP* v52;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v49, v50, v46, &v51, &v52);
	TUP* v53;
	VAL v54 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v43, &v53);
	TUP* v55;
	VAL v56 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v53, &v55);
	TUP* v57;
	uint64_t v58 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v55, &v57);
	TUP* v59 = mtw_mirth_arrow_Lambda_Lambda(v58, v54, v56, v28, v52);
	VAL v60 = mtw_mirth_arrow_Op_Lambda(v59);
	VAL v61 = MKI64(0LL /* Nil */);
	TUP* v62;
	TUP* v63;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v51, v57, v61, v60, &v62, &v63);
	*out_ZPlusAB_4 = v63;
	*out_ZPlusMirth_3 = v62;
}
static void mw_mirth_elab_elabZ_matchZ_exhaustiveZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusMatch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusMatch_4) {
	TUP* v5 = mw_mirth_match_ZPlusMatch_freezze(in_ZPlusMatch_2);
	incref(MKTUP(v5, 7));
	TUP* v6;
	bool v7 = mw_mirth_match_Match_isZ_exhaustiveZAsk(in_ZPlusMirth_1, v5, &v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_Match_9;
	if (v7) {
		branch_Match_9 = v5;
		branch_ZPlusMirth_8 = v6;
	} else {
		incref(MKTUP(v5, 7));
		uint64_t v10 = value_u64(v5->cells[1]);
		decref(MKTUP(v5, 7));
		STR* v11;
		STRLIT(v11, "Pattern match not exhaustive.", 29);
		TUP* v12;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, v10, v11, &v12);
		branch_Match_9 = v5;
		branch_ZPlusMirth_8 = v12;
	}
	TUP* v13;
	mw_mirth_match_Match_thaw(branch_Match_9, &v13);
	*out_ZPlusMatch_4 = v13;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
}
static uint64_t mw_mirth_elab_elabZ_moduleZBang (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	uint64_t v8 = mw_mirth_module_Module_start(in_ZPlusMirth_1, in_Module_2, &v7);
	TUP* v9;
	uint64_t v10 = mw_mirth_elab_elabZ_moduleZ_headerZBang(v7, v8, &v9);
	VAL v11 = mtw_mirth_name_Namespace_Module(in_Module_2);
	VAL v12 = MKI64(0LL /* DefiningNamespace */);
	TUP* v13;
	TUP* v14 = mw_mirth_mirth_PropLabel_prop(v9, v11, v12, &v13);
	VAL v15 = mtw_std_maybe_Maybe_1_Some(MKTUP(v14, 2));
	TUP* v16 = value_tup(v13->cells[6], 2);
	incref(MKTUP(v16, 2));
	incref(MKTUP(v16, 2));
	VAL v17 = v16->cells[1];
	incref(v17);
	decref(MKTUP(v16, 2));
	VAL v18 = tup_replace(MKTUP(v16, 2), 1, v15);
	TUP* v19 = value_tup(v13->cells[6], 2);
	decref(MKTUP(v19, 2));
	v13->cells[6] = v18;
	TUP* v20;
	uint64_t v21 = mw_mirth_elab_elabZ_declsZBang(v13, v10, &v20);
	TUP* v22;
	bool v23 = mw_mirth_token_Token_moduleZ_endZAsk(v20, v21, &v22);
	TUP* branch_ZPlusMirth_24;
	uint64_t branch_Token_25;
	if (v23) {
		branch_Token_25 = v21;
		branch_ZPlusMirth_24 = v22;
	} else {
		STR* v26;
		STRLIT(v26, "Unexpected token in module.", 27);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, v21, v26);
	}
	TUP* v29 = value_tup(branch_ZPlusMirth_24->cells[6], 2);
	incref(MKTUP(v29, 2));
	VAL v30 = tup_replace(MKTUP(v29, 2), 1, v17);
	TUP* v31 = value_tup(branch_ZPlusMirth_24->cells[6], 2);
	decref(MKTUP(v31, 2));
	branch_ZPlusMirth_24->cells[6] = v30;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_24;
	return in_Module_2;
}
static TUP* mw_mirth_elab_elabZ_moduleZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6;
	uint64_t v7 = mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang(in_ZPlusMirth_1, in_Token_2, &v5, &v6);
	VAL v8 = mtw_mirth_name_Namespace_Package(v7);
	INT v9 = WRAP_I63(0LL);
	TUP* v10 = mw_mirth_name_QName_Mk(v8, v6, v9);
	*out_ZPlusMirth_3 = v5;
	return v10;
}
static uint64_t mw_mirth_elab_parseZ_moduleZ_headerZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_ModuleHeader_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* v8;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(v6, in_Token_2, &v8);
	TUP* v9;
	bool v10 = mw_mirth_token_Token_moduleZ_headerZAsk(v8, in_Token_2, &v9);
	TUP* branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		branch_Token_12 = in_Token_2;
		branch_ZPlusMirth_11 = v9;
	} else {
		STR* v13;
		STRLIT(v13, "Expected module header.", 23);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v9, in_Token_2, v13);
	}
	TUP* v16;
	INT v17 = mw_mirth_token_Token_numZ_args(branch_ZPlusMirth_11, branch_Token_12, &v16);
	INT v18 = WRAP_I63(0LL);
	bool v19 = int_lt(v18, v17);
	VAL branch_Maybe_20;
	uint64_t branch_Token_21;
	uint64_t branch_Name_22;
	uint64_t branch_Package_23;
	uint64_t branch_Token_24;
	TUP* branch_ZPlusMirth_25;
	if (v19) {
		TUP* v26;
		uint64_t v27 = mw_mirth_token_Token_next(v16, branch_Token_12, &v26);
		TUP* v28;
		uint64_t v29 = mw_mirth_token_Token_argsZ_1(v26, branch_Token_12, &v28);
		TUP* v30;
		uint64_t v31;
		uint64_t v32 = mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang(v28, v29, &v30, &v31);
		TUP* v33;
		uint64_t v34 = mw_mirth_token_Token_next(v30, v29, &v33);
		TUP* v35;
		bool v36 = mw_mirth_token_Token_argZ_endZAsk(v33, v34, &v35);
		TUP* branch_ZPlusMirth_37;
		uint64_t branch_Token_38;
		if (v36) {
			branch_Token_38 = v34;
			branch_ZPlusMirth_37 = v35;
		} else {
			STR* v39;
			STRLIT(v39, "Expected end of argument.", 25);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v35, v34, v39);
		}
		branch_ZPlusMirth_25 = branch_ZPlusMirth_37;
		branch_Token_24 = v29;
		branch_Package_23 = v32;
		branch_Name_22 = v31;
		branch_Token_21 = v27;
		branch_Maybe_20 = v7;
	} else {
		uint64_t v42 = mw_mirth_token_Token_succ(branch_Token_12);
		TUP* v43;
		uint64_t v44;
		uint64_t v45 = mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang(v16, v42, &v43, &v44);
		TUP* v46;
		uint64_t v47 = mw_mirth_token_Token_next(v43, v42, &v46);
		branch_ZPlusMirth_25 = v46;
		branch_Token_24 = v42;
		branch_Package_23 = v45;
		branch_Name_22 = v44;
		branch_Token_21 = v47;
		branch_Maybe_20 = v7;
	}
	VAL v48 = MKI64(0LL /* Nil */);
	TUP* v49;
	bool v50 = mw_mirth_token_Token_moduleZ_importZAsk(branch_ZPlusMirth_25, branch_Token_21, &v49);
	VAL v51 = branch_Maybe_20;
	uint64_t v52 = branch_Name_22;
	uint64_t v53 = branch_Package_23;
	uint64_t v54 = branch_Token_24;
	VAL v55 = v48;
	uint64_t v56 = branch_Token_21;
	TUP* v57 = v49;
	bool v58 = v50;
	while (v58) {
		VAL v59 = v51;
		uint64_t v60 = v52;
		uint64_t v61 = v53;
		uint64_t v62 = v54;
		VAL v63 = v55;
		uint64_t v64 = v56;
		TUP* v65 = v57;
		TUP* v66;
		uint64_t v67;
		uint64_t v68 = mw_mirth_elab_parseZ_moduleZ_import(v65, v64, &v66, &v67);
		VAL v69 = mw_std_list_List_1_cons(MKU64(v67), v63);
		TUP* v70;
		bool v71 = mw_mirth_token_Token_moduleZ_importZAsk(v66, v68, &v70);
		v58 = v71;
		v57 = v70;
		v56 = v68;
		v55 = v69;
		v54 = v62;
		v53 = v61;
		v52 = v60;
		v51 = v59;
	}
	VAL v72 = mw_std_list_List_1_reverse(v55);
	TUP* v73;
	bool v74 = mw_mirth_token_Token_sigZ_dashesZAsk(v57, v56, &v73);
	uint64_t branch_Token_75;
	if (v74) {
		uint64_t v76 = mw_mirth_token_Token_succ(v56);
		branch_Token_75 = v76;
	} else {
		branch_Token_75 = v56;
	}
	TUP* v77 = mtw_mirth_elab_ModuleHeader_ModuleHeader(v51, v53, v52, v54, v72);
	*out_ModuleHeader_5 = v77;
	*out_ZPlusMirth_3 = v73;
	return branch_Token_75;
}
static uint64_t mw_mirth_elab_parseZ_moduleZ_packageZ_nameZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Name_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_nameZDivdnameZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	int64_t v8 = get_data_tag(v7);
	decref(v7);
	INT v9 = WRAP_I63(0LL);
	INT v10 = i64_to_int(v8);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	TUP* branch_ZPlusMirth_13;
	uint64_t branch_Token_14;
	if (v12) {
		branch_Token_14 = in_Token_2;
		branch_ZPlusMirth_13 = v6;
	} else {
		STR* v15;
		STRLIT(v15, "Expected module name.", 21);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v6, in_Token_2, v15);
	}
	TUP* v18;
	VAL v19 = mw_mirth_token_Token_dnameZAsk(branch_ZPlusMirth_13, branch_Token_14, &v18);
	TUP* branch_ZPlusMirth_20;
	uint64_t branch_Token_21;
	VAL branch_z_x1_22;
	switch (get_data_tag(v19)) {
		case 1LL: { // Some
			VAL v23 = mtp_std_maybe_Maybe_1_Some(v19);
			branch_z_x1_22 = v23;
			branch_Token_21 = branch_Token_14;
			branch_ZPlusMirth_20 = v18;
		} break;
		case 0LL: { // None
			STR* v24;
			STRLIT(v24, "Invalid module name: Module name must include package, for example \"package.module\"", 83);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v18, branch_Token_14, v24);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v28;
	mw_mirth_token_Token_argsZ_0(branch_ZPlusMirth_20, branch_Token_21, &v28);
	incref(branch_z_x1_22);
	VAL v29 = mw_mirth_name_DName_rootZAsk(value_tup(branch_z_x1_22, 2));
	TUP* branch_ZPlusMirth_30;
	uint64_t branch_Token_31;
	VAL branch_z_x1_32;
	VAL branch_z_x2_33;
	switch (get_data_tag(v29)) {
		case 1LL: { // Some
			VAL v34 = mtp_std_maybe_Maybe_1_Some(v29);
			branch_z_x2_33 = v34;
			branch_z_x1_32 = branch_z_x1_22;
			branch_Token_31 = branch_Token_21;
			branch_ZPlusMirth_30 = v28;
		} break;
		case 0LL: { // None
			decref(branch_z_x1_22);
			STR* v35;
			STRLIT(v35, "Invalid module name: Package name is missing.", 45);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v28, branch_Token_21, v35);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v40 = mw_mirth_name_DName_parts(value_tup(branch_z_x1_32, 2));
	VAL v41 = mw_std_list_Nest_1_singleZAsk(v40);
	TUP* branch_ZPlusMirth_42;
	uint64_t branch_Token_43;
	VAL branch_z_x1_44;
	VAL branch_z_x2_45;
	switch (get_data_tag(v41)) {
		case 1LL: { // Some
			VAL v46 = mtp_std_maybe_Maybe_1_Some(v41);
			branch_z_x2_45 = v46;
			branch_z_x1_44 = branch_z_x2_33;
			branch_Token_43 = branch_Token_31;
			branch_ZPlusMirth_42 = branch_ZPlusMirth_30;
		} break;
		case 0LL: { // None
			decref(branch_z_x2_33);
			STR* v47;
			STRLIT(v47, "Expected module name. (3)", 25);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_30, branch_Token_31, v47);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v52;
	uint64_t v53 = mw_mirth_package_Package_FindZ_OrZ_NewZBang(branch_ZPlusMirth_42, value_u64(branch_z_x1_44), &v52);
	*out_Name_5 = value_u64(branch_z_x2_45);
	*out_ZPlusMirth_3 = v52;
	return v53;
}
static uint64_t mw_mirth_elab_elabZ_moduleZ_headerZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	uint64_t v8 = mw_mirth_token_Token_module(in_ZPlusMirth_1, in_Token_2, &v7);
	TUP* v9;
	TUP* v10;
	uint64_t v11 = mw_mirth_elab_parseZ_moduleZ_headerZBang(v7, in_Token_2, &v9, &v10);
	VAL v12;
	uint64_t v13;
	uint64_t v14;
	uint64_t v15;
	VAL v16;
	mtp_mirth_elab_ModuleHeader_ModuleHeader(v10, &v12, &v13, &v14, &v15, &v16);
	void* v17 = field_mut(&mfld_mirth_module_Module_ZTildename, v8);
	mut_set(MKU64(v14), v17);
	void* v18 = field_mut(&mfld_mirth_module_Module_ZTildedoc, v8);
	mut_set(v12, v18);
	void* v19 = field_mut(&mfld_mirth_module_Module_ZTildepackage, v8);
	mut_set(MKU64(v13), v19);
	TUP* v20;
	TUP* v21 = mw_mirth_module_Module_qname(v9, v8, &v20);
	TUP* v22;
	bool v23 = mw_mirth_name_QName_definedZ_softZAsk(v20, v21, &v22);
	TUP* branch_ZPlusMirth_24;
	uint64_t branch_Token_25;
	if (v23) {
		STR* v26;
		STRLIT(v26, "Module name already taken.", 26);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, v15, v26);
	} else {
		branch_Token_25 = v15;
		branch_ZPlusMirth_24 = v22;
	}
	void* v28 = field_mut(&mfld_mirth_module_Module_ZTildehead, v8);
	mut_set(MKU64(branch_Token_25), v28);
	VAL v29 = mtw_mirth_def_Def_Module(v8);
	TUP* v30;
	mw_mirth_def_Def_register(branch_ZPlusMirth_24, v29, &v30);
	TUP* v31;
	mw_mirth_elab_checkZ_moduleZ_path(v30, v11, v8, &v31);
	bool v32 = true;
	TUP* v33 = v31;
	VAL v34 = v16;
	bool v35 = v32;
	bool v36 = v32;
	while (v36) {
		TUP* v37 = v33;
		VAL v38 = v34;
		bool v39 = v35;
		TUP* branch_ZPlusMirth_40;
		VAL branch_List_41;
		bool branch_Bool_42;
		switch (get_data_tag(v38)) {
			case 1LL: { // Cons
				VAL v43;
				VAL v44 = mtp_std_list_List_1_Cons(v38, &v43);
				TUP* v45;
				mw_mirth_elab_processZ_moduleZ_importZBang(v37, value_u64(v44), &v45);
				bool v46 = true;
				branch_Bool_42 = v46;
				branch_List_41 = v43;
				branch_ZPlusMirth_40 = v45;
			} break;
			case 0LL: { // Nil
				VAL v47 = MKI64(0LL /* Nil */);
				bool v48 = false;
				branch_Bool_42 = v48;
				branch_List_41 = v47;
				branch_ZPlusMirth_40 = v37;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v36 = branch_Bool_42;
		v35 = branch_Bool_42;
		v34 = branch_List_41;
		v33 = branch_ZPlusMirth_40;
	}
	decref(v34);
	*out_ZPlusMirth_3 = v33;
	return v11;
}
static void mw_mirth_elab_checkZ_moduleZ_path (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, TUP* *out_ZPlusMirth_4) {
	TUP* v7;
	STR* v8 = mw_mirth_module_Module_path(in_ZPlusMirth_1, in_Module_3, &v7);
	VAL v9;
	STR* v10 = mw_std_path_Path_splitZ_last(v8, &v9);
	TUP* branch_ZPlusMirth_11;
	switch (get_data_tag(v9)) {
		case 0LL: { // None
			TUP* v12;
			TUP* v13 = mw_mirth_module_Module_qname(v7, in_Module_3, &v12);
			TUP* v14;
			STR* v15 = mw_mirth_name_QName_toZ_moduleZ_path(v13, v12, &v14);
			incref(MKSTR(v10));
			incref(MKSTR(v15));
			bool v16 = (str_cmp(v10, v15) == 0);
			TUP* branch_ZPlusMirth_17;
			uint64_t branch_Token_18;
			STR* branch_Path_19;
			STR* branch_Path_20;
			if (v16) {
				branch_Path_20 = v15;
				branch_Path_19 = v10;
				branch_Token_18 = in_Token_2;
				branch_ZPlusMirth_17 = v14;
			} else {
				STR* v21;
				STRLIT(v21, "Expected module name to match path.\n", 36);
				STR* v22 = str_cat(v21, v15);
				STR* v23;
				STRLIT(v23, "\n", 1);
				STR* v24 = str_cat(v22, v23);
				STR* v25 = str_cat(v24, v10);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, in_Token_2, v25);
			}
			decref(MKSTR(branch_Path_20));
			decref(MKSTR(branch_Path_19));
			branch_ZPlusMirth_11 = branch_ZPlusMirth_17;
		} break;
		case 1LL: { // Some
			VAL v30 = mtp_std_maybe_Maybe_1_Some(v9);
			incref(v30);
			uint64_t v31 = str_size(value_str(v30));
			INT v32 = u64_to_int(v31);
			VAL v33 = MKI64(0LL /* None */);
			incref(v33);
			int64_t v34 = get_data_tag(v33);
			decref(v33);
			INT v35 = WRAP_I63(0LL);
			INT v36 = i64_to_int(v34);
			bool v37 = int_eq(v36, v35);
			INT branch_Offset_38;
			VAL branch_z_x1_39;
			bool branch_Bool_40;
			if (v37) {
				incref(MKINT(v32));
				INT v41 = WRAP_I63(0LL);
				bool v42 = int_lt(v41, v32);
				branch_Bool_40 = v42;
				branch_z_x1_39 = v33;
				branch_Offset_38 = v32;
			} else {
				bool v43 = false;
				branch_Bool_40 = v43;
				branch_z_x1_39 = v33;
				branch_Offset_38 = v32;
			}
			VAL v44 = v30;
			INT v45 = branch_Offset_38;
			VAL v46 = branch_z_x1_39;
			bool v47 = branch_Bool_40;
			while (v47) {
				VAL v48 = v44;
				INT v49 = v45;
				VAL v50 = v46;
				decref(v50);
				INT v51 = WRAP_I63(1LL);
				INT v52 = int_sub(v49, v51);
				incref(MKINT(v52));
				STR* v53;
				int64_t v54 = mw_std_str_ZPlusStr_byteZAt(v52, value_str(v48), &v53);
				int64_t v55 = 46LL /* BDOT */;
				INT v56 = i64_to_int(v54);
				uint64_t v57 = int_to_u64(v56);
				uint8_t v58 = (uint8_t)(v57);
				INT v59 = i64_to_int(v55);
				uint64_t v60 = int_to_u64(v59);
				uint8_t v61 = (uint8_t)(v60);
				uint64_t v62 = (uint64_t)(v61);
				uint32_t v63 = (uint32_t)(v62);
				uint64_t v64 = (uint64_t)(v58);
				uint32_t v65 = (uint32_t)(v64);
				uint64_t v66 = (uint64_t)(v65);
				uint64_t v67 = (uint64_t)(v63);
				bool v68 = (v66 == v67);
				STR* branch_ZPlusStr_69;
				INT branch_Offset_70;
				VAL branch_Maybe_71;
				if (v68) {
					incref(MKINT(v52));
					VAL v72 = mtw_std_maybe_Maybe_1_Some(MKINT(v52));
					branch_Maybe_71 = v72;
					branch_Offset_70 = v52;
					branch_ZPlusStr_69 = v53;
				} else {
					VAL v73 = MKI64(0LL /* None */);
					branch_Maybe_71 = v73;
					branch_Offset_70 = v52;
					branch_ZPlusStr_69 = v53;
				}
				incref(branch_Maybe_71);
				int64_t v74 = get_data_tag(branch_Maybe_71);
				decref(branch_Maybe_71);
				INT v75 = WRAP_I63(0LL);
				INT v76 = i64_to_int(v74);
				bool v77 = int_eq(v76, v75);
				INT branch_Offset_78;
				VAL branch_z_x1_79;
				bool branch_Bool_80;
				if (v77) {
					incref(MKINT(branch_Offset_70));
					INT v81 = WRAP_I63(0LL);
					bool v82 = int_lt(v81, branch_Offset_70);
					branch_Bool_80 = v82;
					branch_z_x1_79 = branch_Maybe_71;
					branch_Offset_78 = branch_Offset_70;
				} else {
					bool v83 = false;
					branch_Bool_80 = v83;
					branch_z_x1_79 = branch_Maybe_71;
					branch_Offset_78 = branch_Offset_70;
				}
				v47 = branch_Bool_80;
				v46 = branch_z_x1_79;
				v45 = branch_Offset_78;
				v44 = MKSTR(branch_ZPlusStr_69);
			}
			decref(MKINT(v45));
			VAL v84;
			STR* v85 = mw_std_maybe_Maybe_1_map_1_sp10(value_str(v44), v46, &v84);
			STR* v86;
			STRLIT(v86, "mth", 3);
			VAL v87 = mtw_std_maybe_Maybe_1_Some(MKSTR(v86));
			bool branch_Bool_88;
			switch (get_data_tag(v87)) {
				case 0LL: { // None
					int64_t v89 = get_data_tag(v84);
					decref(v84);
					INT v90 = WRAP_I63(0LL);
					INT v91 = i64_to_int(v89);
					bool v92 = int_eq(v91, v90);
					branch_Bool_88 = v92;
				} break;
				case 1LL: { // Some
					VAL v93 = mtp_std_maybe_Maybe_1_Some(v87);
					bool branch_Bool_94;
					switch (get_data_tag(v84)) {
						case 1LL: { // Some
							VAL v95 = mtp_std_maybe_Maybe_1_Some(v84);
							bool v96 = (str_cmp(value_str(v95), value_str(v93)) == 0);
							branch_Bool_94 = v96;
						} break;
						case 0LL: { // None
							decref(v93);
							bool v97 = false;
							branch_Bool_94 = v97;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_88 = branch_Bool_94;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			TUP* branch_ZPlusMirth_98;
			uint64_t branch_Token_99;
			VAL branch_z_x1_100;
			VAL branch_z_x2_101;
			VAL branch_z_x3_102;
			if (branch_Bool_88) {
				branch_z_x3_102 = MKSTR(v85);
				branch_z_x2_101 = MKSTR(v10);
				branch_z_x1_100 = MKU64(in_Module_3);
				branch_Token_99 = in_Token_2;
				branch_ZPlusMirth_98 = v7;
			} else {
				STR* v103;
				STRLIT(v103, "Expected .mth extension for mirth file.", 39);
				TUP* v104;
				mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(v7, in_Token_2, v103, &v104);
				branch_z_x3_102 = MKSTR(v85);
				branch_z_x2_101 = MKSTR(v10);
				branch_z_x1_100 = MKU64(in_Module_3);
				branch_Token_99 = in_Token_2;
				branch_ZPlusMirth_98 = v104;
			}
			incref(branch_z_x1_100);
			TUP* v105;
			uint64_t v106 = mw_mirth_module_Module_name(branch_ZPlusMirth_98, value_u64(branch_z_x1_100), &v105);
			TUP* v107;
			STR* v108 = mw_mirth_name_Name_ZToStr(v105, v106, &v107);
			bool v109 = (str_cmp(value_str(branch_z_x3_102), v108) == 0);
			TUP* branch_ZPlusMirth_110;
			uint64_t branch_Token_111;
			VAL branch_z_x1_112;
			VAL branch_z_x2_113;
			if (v109) {
				branch_z_x2_113 = branch_z_x2_101;
				branch_z_x1_112 = branch_z_x1_100;
				branch_Token_111 = branch_Token_99;
				branch_ZPlusMirth_110 = v107;
			} else {
				TUP* v114;
				uint64_t v115 = mw_mirth_token_Token_module(v107, branch_Token_99, &v114);
				TUP* v116;
				uint64_t v117 = mw_mirth_module_Module_head(v114, v115, &v116);
				STR* v118;
				STRLIT(v118, "Expected module name to match file name.", 40);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v116, v117, v118);
			}
			incref(branch_z_x1_112);
			TUP* v120;
			uint64_t v121 = mw_mirth_module_Module_package(branch_ZPlusMirth_110, value_u64(branch_z_x1_112), &v120);
			TUP* v122;
			mw_mirth_package_Package_pathZBang(v120, value_str(branch_z_x2_113), v121, &v122);
			decref(branch_z_x1_112);
			branch_ZPlusMirth_11 = v122;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static uint64_t mw_mirth_elab_elabZ_declsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	bool v8 = mw_mirth_token_Token_argZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	bool v9 = !v8;
	TUP* v10;
	bool v11 = mw_mirth_token_Token_moduleZ_endZAsk(v7, in_Token_2, &v10);
	bool v12 = !v11;
	bool v13 = (v9 && v12);
	uint64_t v14 = in_Token_2;
	TUP* v15 = v10;
	bool v16 = v13;
	while (v16) {
		uint64_t v17 = v14;
		TUP* v18 = v15;
		TUP* v19;
		uint64_t v20 = mw_mirth_elab_elabZ_declZBang(v18, v17, &v19);
		TUP* v21;
		bool v22 = mw_mirth_token_Token_argZ_endZAsk(v19, v20, &v21);
		bool v23 = !v22;
		TUP* v24;
		bool v25 = mw_mirth_token_Token_moduleZ_endZAsk(v21, v20, &v24);
		bool v26 = !v25;
		bool v27 = (v23 && v26);
		v16 = v27;
		v15 = v24;
		v14 = v20;
	}
	*out_ZPlusMirth_3 = v15;
	return v14;
}
static uint64_t mw_mirth_elab_elabZ_declZ_orZ_declZ_blockZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_lcurlyZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	TUP* branch_ZPlusMirth_14;
	uint64_t branch_Token_15;
	if (v13) {
		TUP* v16;
		uint64_t v17 = mw_mirth_elab_elabZ_declZ_blockZBang(v7, in_Token_2, &v16);
		branch_Token_15 = v17;
		branch_ZPlusMirth_14 = v16;
	} else {
		TUP* v18;
		uint64_t v19 = mw_mirth_elab_elabZ_declZBang(v7, in_Token_2, &v18);
		branch_Token_15 = v19;
		branch_ZPlusMirth_14 = v18;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
	return branch_Token_15;
}
static uint64_t mw_mirth_elab_elabZ_declZ_blockZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_lcurlyZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	TUP* v9;
	uint64_t v10 = mw_std_maybe_Maybe_1_else_1_sp3(v7, in_Token_2, v8, &v9);
	uint64_t v11 = mw_mirth_token_Token_succ(v10);
	TUP* v12;
	uint64_t v13 = mw_mirth_elab_elabZ_declsZBang(v9, v11, &v12);
	TUP* v14;
	VAL v15 = mw_mirth_token_Token_rcurlyZAsk(v12, v13, &v14);
	int64_t v16 = get_data_tag(v15);
	decref(v15);
	INT v17 = WRAP_I63(0LL);
	INT v18 = i64_to_int(v16);
	bool v19 = int_eq(v18, v17);
	bool v20 = !v19;
	TUP* branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	if (v20) {
		branch_Token_22 = v13;
		branch_ZPlusMirth_21 = v14;
	} else {
		STR* v23;
		STRLIT(v23, "Expected end of declaration block.", 34);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, v13, v23);
	}
	uint64_t v26 = mw_mirth_token_Token_succ(branch_Token_22);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_21;
	return v26;
}
static uint64_t mw_mirth_elab_skipZ_declZ_blockZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_lcurlyZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	uint64_t v8 = mw_std_maybe_Maybe_1_else_1_sp3(v5, in_Token_2, v6, &v7);
	TUP* v9;
	uint64_t v10 = mw_mirth_token_Token_next(v7, v8, &v9);
	*out_ZPlusMirth_3 = v9;
	return v10;
}
static uint64_t mw_mirth_elab_elabZ_declZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, in_Token_2, &v7);
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_nameZAsk(v7, in_Token_2, &v8);
	TUP* v10;
	VAL v11;
	uint64_t v12 = mw_std_maybe_Maybe_1_unwrap_1_sp18(v8, in_Token_2, v9, &v10, &v11);
	TUP* v13;
	VAL v14 = mw_mirth_name_Name_defs(v10, value_u64(v11), &v13);
	VAL v15 = MKI64(0LL /* None */);
	bool v16 = true;
	TUP* v17 = v13;
	VAL v18 = v15;
	VAL v19 = v14;
	bool v20 = v16;
	bool v21 = v16;
	while (v21) {
		TUP* v22 = v17;
		VAL v23 = v18;
		VAL v24 = v19;
		bool v25 = v20;
		VAL v26;
		VAL v27 = mw_std_list_List_1_uncons(v24, &v26);
		TUP* branch_ZPlusMirth_28;
		VAL branch_Maybe_29;
		VAL branch_List_30;
		bool branch_Bool_31;
		switch (get_data_tag(v27)) {
			case 1LL: { // Some
				VAL v32 = mtp_std_maybe_Maybe_1_Some(v27);
				VAL v33 = mw_mirth_def_Def_macroZAsk(v32);
				TUP* branch_ZPlusMirth_34;
				VAL branch_Maybe_35;
				switch (get_data_tag(v33)) {
					case 1LL: { // Some
						VAL v36 = mtp_std_maybe_Maybe_1_Some(v33);
						TUP* v37;
						VAL v38 = mw_mirth_macro_Macro_action(v22, value_u64(v36), &v37);
						VAL v39 = mw_mirth_macro_MacroAction_declZAsk(v38);
						branch_Maybe_35 = v39;
						branch_ZPlusMirth_34 = v37;
					} break;
					case 0LL: { // None
						VAL v40 = MKI64(0LL /* None */);
						branch_Maybe_35 = v40;
						branch_ZPlusMirth_34 = v22;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				TUP* branch_ZPlusMirth_41;
				VAL branch_Maybe_42;
				VAL branch_List_43;
				switch (get_data_tag(branch_Maybe_35)) {
					case 0LL: { // None
						branch_List_43 = v26;
						branch_Maybe_42 = v23;
						branch_ZPlusMirth_41 = branch_ZPlusMirth_34;
					} break;
					default: {
						decref(v26);
						decref(v23);
						VAL v44 = MKI64(0LL /* Nil */);
						branch_List_43 = v44;
						branch_Maybe_42 = branch_Maybe_35;
						branch_ZPlusMirth_41 = branch_ZPlusMirth_34;
					} break;
				}
				bool v45 = true;
				branch_Bool_31 = v45;
				branch_List_30 = branch_List_43;
				branch_Maybe_29 = branch_Maybe_42;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_41;
			} break;
			case 0LL: { // None
				bool v46 = false;
				branch_Bool_31 = v46;
				branch_List_30 = v26;
				branch_Maybe_29 = v23;
				branch_ZPlusMirth_28 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_31;
		v20 = branch_Bool_31;
		v19 = branch_List_30;
		v18 = branch_Maybe_29;
		v17 = branch_ZPlusMirth_28;
	}
	decref(v19);
	TUP* v47;
	VAL v48;
	uint64_t v49 = mw_std_maybe_Maybe_1_unwrap_1_sp18(v17, v12, v18, &v47, &v48);
	push_resource(MKI64(0));
	push_resource(MKTUP(v47, 10));
	push_value(MKU64(v49));
	run_value(v48);
	uint64_t v50 = value_u64(pop_value());
	TUP* r51 = value_tup(pop_resource(), 10);
	*out_ZPlusMirth_3 = r51;
	int64_t r52 = (pop_resource(), 0);
	return v50;
}
static uint64_t mw_mirth_elab_loadZ_module (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Module_6) {
	incref(MKTUP(in_QName_3, 3));
	TUP* v9;
	VAL v10 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, in_QName_3, &v9);
	uint64_t branch_Token_11;
	TUP* branch_ZPlusMirth_12;
	uint64_t branch_Module_13;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			VAL v15 = mw_mirth_def_Def_moduleZAsk(v14);
			TUP* branch_ZPlusMirth_16;
			uint64_t branch_Token_17;
			VAL branch_z_x1_18;
			VAL branch_z_x2_19;
			switch (get_data_tag(v15)) {
				case 1LL: { // Some
					VAL v20 = mtp_std_maybe_Maybe_1_Some(v15);
					branch_z_x2_19 = v20;
					branch_z_x1_18 = MKTUP(in_QName_3, 3);
					branch_Token_17 = in_Token_2;
					branch_ZPlusMirth_16 = v9;
				} break;
				case 0LL: { // None
					decref(MKTUP(in_QName_3, 3));
					STR* v21;
					STRLIT(v21, "module name already taken", 25);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v9, in_Token_2, v21);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(branch_z_x1_18);
			branch_Module_13 = value_u64(branch_z_x2_19);
			branch_ZPlusMirth_12 = branch_ZPlusMirth_16;
			branch_Token_11 = branch_Token_17;
		} break;
		case 0LL: { // None
			TUP* v26;
			STR* v27 = mw_mirth_name_QName_toZ_moduleZ_path(in_QName_3, v9, &v26);
			TUP* v28;
			uint64_t v29 = mw_mirth_mirth_ZPlusMirth_runZ_lexerZBang(v26, v27, &v28);
			TUP* v30;
			uint64_t v31 = mw_mirth_elab_elabZ_moduleZBang(v28, v29, &v30);
			branch_Module_13 = v31;
			branch_ZPlusMirth_12 = v30;
			branch_Token_11 = in_Token_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Module_6 = branch_Module_13;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
	return branch_Token_11;
}
static uint64_t mw_mirth_elab_parseZ_moduleZ_import (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_ModuleImport_5) {
	TUP* v6;
	bool v7 = mw_mirth_token_Token_moduleZ_importZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	if (v7) {
		branch_Token_9 = in_Token_2;
		branch_ZPlusMirth_8 = v6;
	} else {
		STR* v10;
		STRLIT(v10, "Expected import statement.", 26);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v6, in_Token_2, v10);
	}
	TUP* v13;
	INT v14 = mw_mirth_token_Token_numZ_args(branch_ZPlusMirth_8, branch_Token_9, &v13);
	INT v15 = WRAP_I63(0LL);
	bool v16 = int_lt(v15, v14);
	uint64_t branch_Token_17;
	uint64_t branch_Token_18;
	TUP* branch_ZPlusMirth_19;
	if (v16) {
		TUP* v20;
		uint64_t v21 = mw_mirth_token_Token_next(v13, branch_Token_9, &v20);
		TUP* v22;
		uint64_t v23 = mw_mirth_token_Token_argsZ_1(v20, branch_Token_9, &v22);
		uint64_t v24 = mw_mirth_token_Token_succ(v23);
		TUP* v25;
		bool v26 = mw_mirth_token_Token_argZ_endZAsk(v22, v24, &v25);
		TUP* branch_ZPlusMirth_27;
		uint64_t branch_Token_28;
		if (v26) {
			branch_Token_28 = v23;
			branch_ZPlusMirth_27 = v25;
		} else {
			uint64_t v29 = mw_mirth_token_Token_succ(v23);
			STR* v30;
			STRLIT(v30, "expected arg end", 16);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v25, v29, v30);
		}
		branch_ZPlusMirth_19 = branch_ZPlusMirth_27;
		branch_Token_18 = branch_Token_28;
		branch_Token_17 = v21;
	} else {
		uint64_t v32 = mw_mirth_token_Token_succ(branch_Token_9);
		TUP* v33;
		uint64_t v34 = mw_mirth_token_Token_next(v13, v32, &v33);
		branch_ZPlusMirth_19 = v33;
		branch_Token_18 = v32;
		branch_Token_17 = v34;
	}
	*out_ModuleImport_5 = branch_Token_18;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_19;
	return branch_Token_17;
}
static void mw_mirth_elab_processZ_moduleZ_importZBang (TUP* in_ZPlusMirth_1, uint64_t in_ModuleImport_2, TUP* *out_ZPlusMirth_3) {
	TUP* v6 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v6, 2));
	incref(MKTUP(v6, 2));
	VAL v7 = v6->cells[0];
	incref(v7);
	decref(MKTUP(v6, 2));
	VAL v8 = mtw_std_maybe_Maybe_1_Some(MKU64(in_ModuleImport_2));
	VAL v9 = tup_replace(MKTUP(v6, 2), 0, v8);
	TUP* v10 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	decref(MKTUP(v10, 2));
	in_ZPlusMirth_1->cells[6] = v9;
	TUP* v11;
	TUP* v12 = mw_mirth_elab_elabZ_moduleZ_qname(in_ZPlusMirth_1, in_ModuleImport_2, &v11);
	TUP* v13;
	uint64_t v14;
	uint64_t v15 = mw_mirth_elab_loadZ_module(v11, in_ModuleImport_2, v12, &v13, &v14);
	TUP* v16 = value_tup(v13->cells[6], 2);
	incref(MKTUP(v16, 2));
	VAL v17 = tup_replace(MKTUP(v16, 2), 0, v7);
	TUP* v18 = value_tup(v13->cells[6], 2);
	decref(MKTUP(v18, 2));
	v13->cells[6] = v17;
	TUP* v19;
	uint64_t v20 = mw_mirth_token_Token_module(v13, v15, &v19);
	void* v21 = field_mut(&mfld_mirth_module_Module_ZTildeimports, v20);
	VAL v22 = mut_get(v21);
	VAL v23 = mw_std_list_List_1_cons(MKU64(v14), v22);
	mut_set(v23, v21);
	*out_ZPlusMirth_3 = v19;
}
static uint64_t mw_mirth_elab_parseZ_data (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_SyntaxData_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* v8;
	INT v9 = mw_mirth_token_Token_numZ_args(v6, in_Token_2, &v8);
	INT v10 = WRAP_I63(0LL);
	bool v11 = int_lt(v10, v9);
	VAL branch_Maybe_12;
	uint64_t branch_SyntaxDataHeader_13;
	VAL branch_List_14;
	VAL branch_Maybe_15;
	TUP* branch_ZPlusMirth_16;
	uint64_t branch_Token_17;
	if (v11) {
		uint64_t v18 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v19;
		VAL v20 = mw_mirth_token_Token_lparenZAsk(v8, v18, &v19);
		int64_t v21 = get_data_tag(v20);
		decref(v20);
		INT v22 = WRAP_I63(0LL);
		INT v23 = i64_to_int(v21);
		bool v24 = int_eq(v23, v22);
		bool v25 = !v24;
		TUP* branch_ZPlusMirth_26;
		uint64_t branch_Token_27;
		if (v25) {
			branch_Token_27 = v18;
			branch_ZPlusMirth_26 = v19;
		} else {
			STR* v28;
			STRLIT(v28, "expected left parenthesis '('", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v19, v18, v28);
		}
		uint64_t v31 = mw_mirth_token_Token_succ(branch_Token_27);
		TUP* v32;
		uint64_t v33;
		uint64_t v34 = mw_mirth_elab_parseZ_dataZ_header(branch_ZPlusMirth_26, v31, &v32, &v33);
		TUP* v35;
		bool v36 = mw_mirth_token_Token_commaZAsk(v32, v34, &v35);
		uint64_t branch_Token_37;
		if (v36) {
			uint64_t v38 = mw_mirth_token_Token_succ(v34);
			branch_Token_37 = v38;
		} else {
			branch_Token_37 = v34;
		}
		TUP* v39;
		VAL v40;
		uint64_t v41 = mw_mirth_elab_parseZ_dataZ_tags(v35, branch_Token_37, &v39, &v40);
		TUP* v42;
		VAL v43;
		uint64_t v44 = mw_mirth_elab_parseZ_dataZ_declsZBang(v39, v41, &v42, &v43);
		TUP* v45;
		VAL v46 = mw_mirth_token_Token_rparenZAsk(v42, v44, &v45);
		int64_t v47 = get_data_tag(v46);
		decref(v46);
		INT v48 = WRAP_I63(0LL);
		INT v49 = i64_to_int(v47);
		bool v50 = int_eq(v49, v48);
		bool v51 = !v50;
		TUP* branch_ZPlusMirth_52;
		uint64_t branch_Token_53;
		if (v51) {
			branch_Token_53 = v44;
			branch_ZPlusMirth_52 = v45;
		} else {
			STR* v54;
			STRLIT(v54, "expected right parenthesis ')'", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v45, v44, v54);
		}
		uint64_t v57 = mw_mirth_token_Token_succ(branch_Token_53);
		branch_Token_17 = v57;
		branch_ZPlusMirth_16 = branch_ZPlusMirth_52;
		branch_Maybe_15 = v43;
		branch_List_14 = v40;
		branch_SyntaxDataHeader_13 = v33;
		branch_Maybe_12 = v7;
	} else {
		uint64_t v58 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v59;
		uint64_t v60;
		uint64_t v61 = mw_mirth_elab_parseZ_dataZ_header(v8, v58, &v59, &v60);
		TUP* v62;
		VAL v63 = mw_mirth_token_Token_lcurlyZAsk(v59, v61, &v62);
		TUP* v64;
		uint64_t v65 = mw_std_maybe_Maybe_1_else_1_sp6(v62, v61, v63, &v64);
		uint64_t v66 = mw_mirth_token_Token_succ(v65);
		TUP* v67;
		VAL v68;
		uint64_t v69 = mw_mirth_elab_parseZ_dataZ_tags(v64, v66, &v67, &v68);
		TUP* v70;
		VAL v71;
		uint64_t v72 = mw_mirth_elab_parseZ_dataZ_declsZBang(v67, v69, &v70, &v71);
		TUP* v73;
		VAL v74 = mw_mirth_token_Token_rcurlyZAsk(v70, v72, &v73);
		TUP* v75;
		uint64_t v76 = mw_std_maybe_Maybe_1_else_1_sp7(v73, v72, v74, &v75);
		uint64_t v77 = mw_mirth_token_Token_succ(v76);
		branch_Token_17 = v77;
		branch_ZPlusMirth_16 = v75;
		branch_Maybe_15 = v71;
		branch_List_14 = v68;
		branch_SyntaxDataHeader_13 = v60;
		branch_Maybe_12 = v7;
	}
	TUP* v78 = mtw_mirth_elab_SyntaxData_SyntaxData(branch_Maybe_12, branch_SyntaxDataHeader_13, branch_List_14, branch_Maybe_15);
	*out_SyntaxData_5 = v78;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_16;
	return branch_Token_17;
}
static uint64_t mw_mirth_elab_parseZ_dataZ_header (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_SyntaxDataHeader_5) {
	TUP* v6;
	uint64_t v7 = mw_mirth_token_Token_next(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_lastZ_nameZAsk(v6, in_Token_2, &v8);
	TUP* v10;
	bool v11 = mw_std_maybe_Maybe_1_has_1_sp14(v8, v9, &v10);
	TUP* branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		branch_Token_13 = in_Token_2;
		branch_ZPlusMirth_12 = v10;
	} else {
		STR* v14;
		STRLIT(v14, "Expected type name.", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v10, in_Token_2, v14);
	}
	*out_SyntaxDataHeader_5 = branch_Token_13;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return v7;
}
static uint64_t mw_mirth_elab_parseZ_dataZ_tags (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	TUP* v8;
	bool v9 = mw_mirth_elab_dataZ_tagsZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v8);
	bool v10 = !v9;
	uint64_t v11 = in_Token_2;
	TUP* v12 = v8;
	VAL v13 = v7;
	bool v14 = v10;
	while (v14) {
		uint64_t v15 = v11;
		TUP* v16 = v12;
		VAL v17 = v13;
		TUP* v18;
		TUP* v19;
		uint64_t v20 = mw_mirth_elab_parseZ_dataZ_tag(v16, v15, &v18, &v19);
		VAL v21;
		mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v19, 5), v17, &v21);
		TUP* v22;
		bool v23 = mw_mirth_elab_dataZ_tagsZ_endZAsk(v18, v20, &v22);
		bool v24 = !v23;
		v14 = v24;
		v13 = v21;
		v12 = v22;
		v11 = v20;
	}
	VAL v25 = mw_std_list_ZPlusLister_1_doneZBang(v13);
	*out_List_5 = v25;
	*out_ZPlusMirth_3 = v12;
	return v11;
}
static bool mw_mirth_elab_dataZ_tagsZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_argsZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	bool branch_Bool_9;
	if (v6) {
		bool v10 = true;
		branch_Bool_9 = v10;
		branch_Token_8 = in_Token_2;
		branch_ZPlusMirth_7 = v5;
	} else {
		TUP* v11;
		bool v12 = mw_mirth_token_Token_sigZ_dashesZAsk(v5, in_Token_2, &v11);
		branch_Bool_9 = v12;
		branch_Token_8 = in_Token_2;
		branch_ZPlusMirth_7 = v11;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_9;
}
static uint64_t mw_mirth_elab_parseZ_dataZ_tag (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_SyntaxDataTag_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_intZAsk(v6, in_Token_2, &v8);
	incref(v9);
	int64_t v10 = get_data_tag(v9);
	decref(v9);
	INT v11 = WRAP_I63(0LL);
	INT v12 = i64_to_int(v10);
	bool v13 = int_eq(v12, v11);
	bool v14 = !v13;
	uint64_t branch_Token_15;
	if (v14) {
		uint64_t v16 = mw_mirth_token_Token_succ(in_Token_2);
		branch_Token_15 = v16;
	} else {
		branch_Token_15 = in_Token_2;
	}
	TUP* v17;
	VAL v18 = mw_mirth_token_Token_nameZAsk(v8, branch_Token_15, &v17);
	TUP* v19;
	VAL v20 = mw_std_maybe_Maybe_1_filter_1_sp22(v17, v18, &v19);
	TUP* branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	VAL branch_z_x1_23;
	switch (get_data_tag(v20)) {
		case 1LL: { // Some
			VAL v24 = mtp_std_maybe_Maybe_1_Some(v20);
			branch_z_x1_23 = v24;
			branch_Token_22 = branch_Token_15;
			branch_ZPlusMirth_21 = v19;
		} break;
		case 0LL: { // None
			STR* v25;
			STRLIT(v25, "Expected constructor name.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v19, branch_Token_15, v25);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v29 = mw_mirth_token_Token_succ(branch_Token_22);
	TUP* v30;
	bool v31 = mw_mirth_token_Token_arrowZAsk(branch_ZPlusMirth_21, v29, &v30);
	VAL branch_Maybe_32;
	uint64_t branch_Token_33;
	VAL branch_Maybe_34;
	uint64_t branch_Name_35;
	VAL branch_Maybe_36;
	uint64_t branch_Token_37;
	TUP* branch_ZPlusMirth_38;
	if (v31) {
		uint64_t v39 = mw_mirth_token_Token_succ(v29);
		VAL v40 = mtw_std_maybe_Maybe_1_Some(MKU64(v39));
		TUP* v41;
		uint64_t v42 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(v30, v39, &v41);
		TUP* v43;
		bool v44 = mw_mirth_token_Token_argZ_endZAsk(v41, v42, &v43);
		TUP* branch_ZPlusMirth_45;
		uint64_t branch_Token_46;
		if (v44) {
			branch_Token_46 = v42;
			branch_ZPlusMirth_45 = v43;
		} else {
			STR* v47;
			STRLIT(v47, "Expected comma.", 15);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v43, v42, v47);
		}
		branch_ZPlusMirth_38 = branch_ZPlusMirth_45;
		branch_Token_37 = branch_Token_46;
		branch_Maybe_36 = v40;
		branch_Name_35 = value_u64(branch_z_x1_23);
		branch_Maybe_34 = v9;
		branch_Token_33 = in_Token_2;
		branch_Maybe_32 = v7;
	} else {
		TUP* v50;
		VAL v51 = mw_mirth_token_Token_lsquareZAsk(v30, v29, &v50);
		int64_t v52 = get_data_tag(v51);
		decref(v51);
		INT v53 = WRAP_I63(0LL);
		INT v54 = i64_to_int(v52);
		bool v55 = int_eq(v54, v53);
		bool v56 = !v55;
		VAL branch_Maybe_57;
		TUP* branch_ZPlusMirth_58;
		uint64_t branch_Token_59;
		if (v56) {
			uint64_t v60 = mw_mirth_token_Token_succ(v29);
			VAL v61 = mtw_std_maybe_Maybe_1_Some(MKU64(v60));
			TUP* v62;
			uint64_t v63 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(v50, v60, &v62);
			TUP* v64;
			VAL v65 = mw_mirth_token_Token_rsquareZAsk(v62, v63, &v64);
			int64_t v66 = get_data_tag(v65);
			decref(v65);
			INT v67 = WRAP_I63(0LL);
			INT v68 = i64_to_int(v66);
			bool v69 = int_eq(v68, v67);
			bool v70 = !v69;
			TUP* branch_ZPlusMirth_71;
			uint64_t branch_Token_72;
			if (v70) {
				branch_Token_72 = v63;
				branch_ZPlusMirth_71 = v64;
			} else {
				STR* v73;
				STRLIT(v73, "Expected right square bracket ']'", 33);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v64, v63, v73);
			}
			uint64_t v76 = mw_mirth_token_Token_succ(branch_Token_72);
			branch_Token_59 = v76;
			branch_ZPlusMirth_58 = branch_ZPlusMirth_71;
			branch_Maybe_57 = v61;
		} else {
			VAL v77 = MKI64(0LL /* None */);
			branch_Token_59 = v29;
			branch_ZPlusMirth_58 = v50;
			branch_Maybe_57 = v77;
		}
		branch_ZPlusMirth_38 = branch_ZPlusMirth_58;
		branch_Token_37 = branch_Token_59;
		branch_Maybe_36 = branch_Maybe_57;
		branch_Name_35 = value_u64(branch_z_x1_23);
		branch_Maybe_34 = v9;
		branch_Token_33 = in_Token_2;
		branch_Maybe_32 = v7;
	}
	TUP* v78;
	bool v79 = mw_mirth_token_Token_commaZAsk(branch_ZPlusMirth_38, branch_Token_37, &v78);
	uint64_t branch_Token_80;
	if (v79) {
		uint64_t v81 = mw_mirth_token_Token_succ(branch_Token_37);
		branch_Token_80 = v81;
	} else {
		branch_Token_80 = branch_Token_37;
	}
	TUP* v82 = mtw_mirth_elab_SyntaxDataTag_SyntaxDataTag(branch_Maybe_32, branch_Token_33, branch_Maybe_34, branch_Name_35, branch_Maybe_36);
	*out_SyntaxDataTag_5 = v82;
	*out_ZPlusMirth_3 = v78;
	return branch_Token_80;
}
static uint64_t mw_mirth_elab_parseZ_struct (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_SyntaxData_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* v8;
	INT v9 = mw_mirth_token_Token_numZ_args(v6, in_Token_2, &v8);
	INT v10 = WRAP_I63(0LL);
	bool v11 = int_lt(v10, v9);
	VAL branch_Maybe_12;
	uint64_t branch_SyntaxDataHeader_13;
	VAL branch_List_14;
	VAL branch_Maybe_15;
	TUP* branch_ZPlusMirth_16;
	uint64_t branch_Token_17;
	if (v11) {
		uint64_t v18 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v19;
		VAL v20 = mw_mirth_token_Token_lparenZAsk(v8, v18, &v19);
		int64_t v21 = get_data_tag(v20);
		decref(v20);
		INT v22 = WRAP_I63(0LL);
		INT v23 = i64_to_int(v21);
		bool v24 = int_eq(v23, v22);
		bool v25 = !v24;
		TUP* branch_ZPlusMirth_26;
		uint64_t branch_Token_27;
		if (v25) {
			STR* v28;
			STRLIT(v28, "Expected left parenthesis '('", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v19, v18, v28);
		} else {
			branch_Token_27 = v18;
			branch_ZPlusMirth_26 = v19;
		}
		uint64_t v31 = mw_mirth_token_Token_succ(branch_Token_27);
		TUP* v32;
		uint64_t v33;
		uint64_t v34 = mw_mirth_elab_parseZ_dataZ_header(branch_ZPlusMirth_26, v31, &v32, &v33);
		TUP* v35;
		bool v36 = mw_mirth_token_Token_commaZAsk(v32, v34, &v35);
		uint64_t branch_Token_37;
		if (v36) {
			uint64_t v38 = mw_mirth_token_Token_succ(v34);
			branch_Token_37 = v38;
		} else {
			branch_Token_37 = v34;
		}
		TUP* v39;
		uint64_t v40;
		TUP* v41;
		uint64_t v42 = mw_mirth_elab_parseZ_structZ_tag(v35, branch_Token_37, v33, &v39, &v40, &v41);
		VAL v43 = MKI64(0LL /* Nil */);
		VAL v44 = mw_std_list_List_1_cons(MKTUP(v41, 5), v43);
		TUP* v45;
		VAL v46;
		uint64_t v47 = mw_mirth_elab_parseZ_dataZ_declsZBang(v39, v42, &v45, &v46);
		TUP* v48;
		VAL v49 = mw_mirth_token_Token_rparenZAsk(v45, v47, &v48);
		int64_t v50 = get_data_tag(v49);
		decref(v49);
		INT v51 = WRAP_I63(0LL);
		INT v52 = i64_to_int(v50);
		bool v53 = int_eq(v52, v51);
		bool v54 = !v53;
		TUP* branch_ZPlusMirth_55;
		uint64_t branch_Token_56;
		if (v54) {
			STR* v57;
			STRLIT(v57, "Expected right parenthesis ')'", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v48, v47, v57);
		} else {
			branch_Token_56 = v47;
			branch_ZPlusMirth_55 = v48;
		}
		uint64_t v60 = mw_mirth_token_Token_succ(branch_Token_56);
		branch_Token_17 = v60;
		branch_ZPlusMirth_16 = branch_ZPlusMirth_55;
		branch_Maybe_15 = v46;
		branch_List_14 = v44;
		branch_SyntaxDataHeader_13 = v40;
		branch_Maybe_12 = v7;
	} else {
		uint64_t v61 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v62;
		uint64_t v63;
		uint64_t v64 = mw_mirth_elab_parseZ_dataZ_header(v8, v61, &v62, &v63);
		TUP* v65;
		VAL v66 = mw_mirth_token_Token_lcurlyZAsk(v62, v64, &v65);
		TUP* v67;
		uint64_t v68 = mw_std_maybe_Maybe_1_else_1_sp6(v65, v64, v66, &v67);
		uint64_t v69 = mw_mirth_token_Token_succ(v68);
		TUP* v70;
		uint64_t v71;
		TUP* v72;
		uint64_t v73 = mw_mirth_elab_parseZ_structZ_tag(v67, v69, v63, &v70, &v71, &v72);
		VAL v74 = MKI64(0LL /* Nil */);
		VAL v75 = mw_std_list_List_1_cons(MKTUP(v72, 5), v74);
		TUP* v76;
		VAL v77;
		uint64_t v78 = mw_mirth_elab_parseZ_dataZ_declsZBang(v70, v73, &v76, &v77);
		TUP* v79;
		VAL v80 = mw_mirth_token_Token_rcurlyZAsk(v76, v78, &v79);
		TUP* v81;
		uint64_t v82 = mw_std_maybe_Maybe_1_else_1_sp7(v79, v78, v80, &v81);
		uint64_t v83 = mw_mirth_token_Token_succ(v82);
		branch_Token_17 = v83;
		branch_ZPlusMirth_16 = v81;
		branch_Maybe_15 = v77;
		branch_List_14 = v75;
		branch_SyntaxDataHeader_13 = v71;
		branch_Maybe_12 = v7;
	}
	TUP* v84 = mtw_mirth_elab_SyntaxData_SyntaxData(branch_Maybe_12, branch_SyntaxDataHeader_13, branch_List_14, branch_Maybe_15);
	*out_SyntaxData_5 = v84;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_16;
	return branch_Token_17;
}
static uint64_t mw_mirth_elab_parseZ_dataZ_declsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5) {
	TUP* v6;
	bool v7 = mw_mirth_token_Token_sigZ_dashesZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	VAL branch_Maybe_10;
	if (v7) {
		uint64_t v11 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v12;
		bool v13 = mw_mirth_token_Token_argZ_endZAsk(v6, v11, &v12);
		bool v14 = !v13;
		uint64_t v15 = v11;
		uint64_t v16 = v11;
		TUP* v17 = v12;
		bool v18 = v14;
		while (v18) {
			uint64_t v19 = v15;
			uint64_t v20 = v16;
			TUP* v21 = v17;
			TUP* v22;
			uint64_t v23 = mw_mirth_token_Token_next(v21, v20, &v22);
			TUP* v24;
			bool v25 = mw_mirth_token_Token_argZ_endZAsk(v22, v23, &v24);
			bool v26 = !v25;
			v18 = v26;
			v17 = v24;
			v16 = v23;
			v15 = v19;
		}
		VAL v27 = mtw_std_maybe_Maybe_1_Some(MKU64(v15));
		branch_Maybe_10 = v27;
		branch_Token_9 = v16;
		branch_ZPlusMirth_8 = v17;
	} else {
		VAL v28 = MKI64(0LL /* None */);
		branch_Maybe_10 = v28;
		branch_Token_9 = in_Token_2;
		branch_ZPlusMirth_8 = v6;
	}
	*out_Maybe_5 = branch_Maybe_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_Token_9;
}
static uint64_t mw_mirth_elab_parseZ_structZ_tag (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_SyntaxDataHeader_3, TUP* *out_ZPlusMirth_4, uint64_t *out_SyntaxDataHeader_6, TUP* *out_SyntaxDataTag_7) {
	VAL v8 = MKI64(0LL /* None */);
	TUP* v9;
	VAL v10 = mw_mirth_token_Token_lastZ_nameZAsk(in_ZPlusMirth_1, in_SyntaxDataHeader_3, &v9);
	TUP* v11;
	VAL v12 = mw_std_maybe_Maybe_1_filter_1_sp22(v9, v10, &v11);
	TUP* branch_ZPlusMirth_13;
	uint64_t branch_SyntaxDataHeader_14;
	VAL branch_z_x1_15;
	switch (get_data_tag(v12)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
			branch_z_x1_15 = v16;
			branch_SyntaxDataHeader_14 = in_SyntaxDataHeader_3;
			branch_ZPlusMirth_13 = v11;
		} break;
		case 0LL: { // None
			STR* v17;
			STRLIT(v17, "Expected constructor name.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v11, in_SyntaxDataHeader_3, v17);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v20 = MKI64(0LL /* None */);
	VAL v21 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_2));
	TUP* v22;
	uint64_t v23 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(branch_ZPlusMirth_13, in_Token_2, &v22);
	TUP* v24 = mtw_mirth_elab_SyntaxDataTag_SyntaxDataTag(v8, in_SyntaxDataHeader_3, v20, value_u64(branch_z_x1_15), v21);
	*out_SyntaxDataTag_7 = v24;
	*out_SyntaxDataHeader_6 = branch_SyntaxDataHeader_14;
	*out_ZPlusMirth_4 = v22;
	return v23;
}
static uint64_t mw_mirth_elab_elabZ_dataZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_4) {
	TUP* v7;
	TUP* v8;
	uint64_t v9 = mw_mirth_elab_parseZ_data(in_ZPlusMirth_1, in_Token_2, &v7, &v8);
	TUP* v10;
	mw_mirth_elab_elabZ_dataZ_auxZBang(v7, v8, &v10);
	*out_ZPlusMirth_4 = v10;
	return v9;
}
static uint64_t mw_mirth_elab_elabZ_structZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_4) {
	TUP* v7;
	TUP* v8;
	uint64_t v9 = mw_mirth_elab_parseZ_struct(in_ZPlusMirth_1, in_Token_2, &v7, &v8);
	TUP* v10;
	mw_mirth_elab_elabZ_dataZ_auxZBang(v7, v8, &v10);
	*out_ZPlusMirth_4 = v10;
	return v9;
}
static void mw_mirth_elab_elabZ_dataZ_auxZBang (TUP* in_ZPlusMirth_1, TUP* in_SyntaxData_2, TUP* *out_ZPlusMirth_3) {
	VAL v6;
	uint64_t v7;
	VAL v8;
	VAL v9;
	mtp_mirth_elab_SyntaxData_SyntaxData(in_SyntaxData_2, &v6, &v7, &v8, &v9);
	uint64_t v10 = mw_mirth_data_Data_allocZBang();
	VAL v11 = MKI64(0LL /* Nil */);
	void* v12 = field_mut(&mfld_mirth_data_Data_ZTildetags, v10);
	mut_set(v11, v12);
	void* v13 = field_mut(&mfld_mirth_data_Data_ZTildedoc, v10);
	mut_set(v6, v13);
	TUP* v14;
	uint64_t v15 = mw_mirth_elab_elabZ_dataZ_headerZBang(in_ZPlusMirth_1, v10, v7, &v14);
	bool v16 = true;
	TUP* v17 = v14;
	uint64_t v18 = v15;
	VAL v19 = v8;
	bool v20 = v16;
	bool v21 = v16;
	while (v21) {
		TUP* v22 = v17;
		uint64_t v23 = v18;
		VAL v24 = v19;
		bool v25 = v20;
		TUP* branch_ZPlusMirth_26;
		uint64_t branch_Data_27;
		VAL branch_List_28;
		bool branch_Bool_29;
		switch (get_data_tag(v24)) {
			case 1LL: { // Cons
				VAL v30;
				VAL v31 = mtp_std_list_List_1_Cons(v24, &v30);
				TUP* v32;
				uint64_t v33 = mw_mirth_elab_elabZ_dataZ_tagZBang(v22, v23, value_tup(v31, 5), &v32);
				bool v34 = true;
				branch_Bool_29 = v34;
				branch_List_28 = v30;
				branch_Data_27 = v33;
				branch_ZPlusMirth_26 = v32;
			} break;
			case 0LL: { // Nil
				VAL v35 = MKI64(0LL /* Nil */);
				bool v36 = false;
				branch_Bool_29 = v36;
				branch_List_28 = v35;
				branch_Data_27 = v23;
				branch_ZPlusMirth_26 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_29;
		v20 = branch_Bool_29;
		v19 = branch_List_28;
		v18 = branch_Data_27;
		v17 = branch_ZPlusMirth_26;
	}
	decref(v19);
	TUP* branch_ZPlusMirth_37;
	uint64_t branch_Data_38;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v39 = mtp_std_maybe_Maybe_1_Some(v9);
			TUP* v40;
			uint64_t v41 = mw_mirth_elab_elabZ_dataZ_declsZBang(v17, v18, value_u64(v39), &v40);
			branch_Data_38 = v41;
			branch_ZPlusMirth_37 = v40;
		} break;
		case 0LL: { // None
			branch_Data_38 = v18;
			branch_ZPlusMirth_37 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v42;
	mw_mirth_elab_elabZ_dataZ_doneZBang(branch_ZPlusMirth_37, branch_Data_38, &v42);
	*out_ZPlusMirth_3 = v42;
}
static uint64_t mw_mirth_elab_elabZ_dataZ_headerZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_SyntaxDataHeader_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_lastZ_nameZAsk(in_ZPlusMirth_1, in_SyntaxDataHeader_3, &v6);
	TUP* v8;
	bool v9 = mw_std_maybe_Maybe_1_has_1_sp14(v6, v7, &v8);
	TUP* branch_ZPlusMirth_10;
	uint64_t branch_Token_11;
	if (v9) {
		branch_Token_11 = in_SyntaxDataHeader_3;
		branch_ZPlusMirth_10 = v8;
	} else {
		STR* v12;
		STRLIT(v12, "Expected type name.", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v8, in_SyntaxDataHeader_3, v12);
	}
	TUP* v14;
	uint64_t v15;
	uint64_t v16;
	INT v17;
	VAL v18;
	mw_mirth_elab_elabZ_defZ_head(branch_ZPlusMirth_10, branch_Token_11, &v14, &v15, &v16, &v17, &v18);
	VAL v19 = mtw_std_maybe_Maybe_1_Some(MKU64(v15));
	void* v20 = field_mut(&mfld_mirth_data_Data_ZTildeheadZAsk, in_Data_2);
	mut_set(v19, v20);
	void* v21 = field_mut(&mfld_mirth_data_Data_ZTildearity, in_Data_2);
	mut_set(MKINT(v17), v21);
	void* v22 = field_mut(&mfld_mirth_data_Data_ZTildename, in_Data_2);
	mut_set(MKU64(v16), v22);
	VAL v23 = mtw_mirth_mirth_PropLabel_DataQName(in_Data_2);
	TUP* v24 = mtw_mirth_mirth_Prop_1_Prop(v23, v18);
	void* v25 = field_mut(&mfld_mirth_data_Data_ZTildeqname, in_Data_2);
	mut_set(MKTUP(v24, 2), v25);
	TUP* v26;
	VAL v27 = mw_mirth_token_Token_args(v14, v15, &v26);
	VAL v28 = mtw_mirth_mirth_PropLabel_DataParams(in_Data_2);
	TUP* v29 = value_tup(v26->cells[6], 2);
	incref(MKTUP(v29, 2));
	FNPTR v30 = &mb_mirth_mirth_PropLabel_prop_1_sp15_0;
	VAL v31 = mtw_mirth_mirth_PropState_1_Delay(v29, v27, MKFNPTR(v30));
	TUP* v32 = mtw_mirth_mirth_Prop_1_Prop(v28, v31);
	void* v33 = field_mut(&mfld_mirth_data_Data_ZTildeparams, in_Data_2);
	mut_set(MKTUP(v32, 2), v33);
	VAL v34 = mtw_mirth_def_Def_Data(in_Data_2);
	TUP* v35;
	mw_mirth_def_Def_register(v26, v34, &v35);
	*out_ZPlusMirth_4 = v35;
	return in_Data_2;
}
static VAL mw_mirth_elab_elabZ_dataZ_paramsZBang (TUP* in_ZPlusMirth_1, VAL in_List_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_var_Ctx_L0();
	bool v6 = true;
	VAL v7 = v5;
	TUP* v8 = in_ZPlusMirth_1;
	VAL v9 = in_List_2;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		VAL v12 = v7;
		TUP* v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		TUP* branch_ZPlusMirth_16;
		VAL branch_Ctx_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				incref(v21);
				TUP* v22;
				VAL v23 = mw_mirth_token_Token_nameZAsk(v13, value_u64(v21), &v22);
				TUP* branch_ZPlusMirth_24;
				uint64_t branch_Token_25;
				VAL branch_z_x1_26;
				switch (get_data_tag(v23)) {
					case 1LL: { // Some
						VAL v27 = mtp_std_maybe_Maybe_1_Some(v23);
						branch_z_x1_26 = v27;
						branch_Token_25 = value_u64(v21);
						branch_ZPlusMirth_24 = v22;
					} break;
					case 0LL: { // None
						STR* v28;
						STRLIT(v28, "Expected a parameter name.", 26);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v22, value_u64(v21), v28);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				incref(v12);
				TUP* v32;
				VAL v33 = mw_mirth_var_Ctx_lookup(branch_ZPlusMirth_24, value_u64(branch_z_x1_26), v12, &v32);
				int64_t v34 = get_data_tag(v33);
				decref(v33);
				INT v35 = WRAP_I63(0LL);
				INT v36 = i64_to_int(v34);
				bool v37 = int_eq(v36, v35);
				bool v38 = !v37;
				TUP* branch_ZPlusMirth_39;
				uint64_t branch_Token_40;
				if (v38) {
					STR* v41;
					STRLIT(v41, "Duplicate parameter name.", 25);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v32, branch_Token_25, v41);
				} else {
					branch_Token_40 = branch_Token_25;
					branch_ZPlusMirth_39 = v32;
				}
				VAL v44 = MKI64(0LL /* None */);
				uint64_t branch_Token_45;
				TUP* branch_ZPlusMirth_46;
				VAL branch_Maybe_47;
				switch (get_data_tag(v44)) {
					case 0LL: { // None
						TUP* v48;
						VAL v49 = mw_mirth_token_Token_sigZ_typeZ_varZAsk(branch_ZPlusMirth_39, branch_Token_40, &v48);
						TUP* branch_ZPlusMirth_50;
						VAL branch_Maybe_51;
						switch (get_data_tag(v49)) {
							case 1LL: { // Some
								VAL v52 = mtp_std_maybe_Maybe_1_Some(v49);
								VAL v53 = mw_mirth_type_Type_TYPE();
								TUP* v54;
								uint64_t v55 = mw_mirth_var_Var_NewZBang(v48, v53, value_u64(v52), &v54);
								VAL v56 = mtw_std_maybe_Maybe_1_Some(MKU64(v55));
								branch_Maybe_51 = v56;
								branch_ZPlusMirth_50 = v54;
							} break;
							case 0LL: { // None
								VAL v57 = MKI64(0LL /* None */);
								branch_Maybe_51 = v57;
								branch_ZPlusMirth_50 = v48;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_47 = branch_Maybe_51;
						branch_ZPlusMirth_46 = branch_ZPlusMirth_50;
						branch_Token_45 = branch_Token_40;
					} break;
					default: {
						branch_Maybe_47 = v44;
						branch_ZPlusMirth_46 = branch_ZPlusMirth_39;
						branch_Token_45 = branch_Token_40;
					} break;
				}
				uint64_t branch_Token_58;
				TUP* branch_ZPlusMirth_59;
				VAL branch_Maybe_60;
				switch (get_data_tag(branch_Maybe_47)) {
					case 0LL: { // None
						TUP* v61;
						VAL v62 = mw_mirth_token_Token_sigZ_resourceZ_varZAsk(branch_ZPlusMirth_46, branch_Token_45, &v61);
						TUP* branch_ZPlusMirth_63;
						VAL branch_Maybe_64;
						switch (get_data_tag(v62)) {
							case 1LL: { // Some
								VAL v65 = mtp_std_maybe_Maybe_1_Some(v62);
								VAL v66 = mw_mirth_type_Type_RESOURCE();
								TUP* v67;
								uint64_t v68 = mw_mirth_var_Var_NewZBang(v61, v66, value_u64(v65), &v67);
								VAL v69 = mtw_std_maybe_Maybe_1_Some(MKU64(v68));
								branch_Maybe_64 = v69;
								branch_ZPlusMirth_63 = v67;
							} break;
							case 0LL: { // None
								VAL v70 = MKI64(0LL /* None */);
								branch_Maybe_64 = v70;
								branch_ZPlusMirth_63 = v61;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_60 = branch_Maybe_64;
						branch_ZPlusMirth_59 = branch_ZPlusMirth_63;
						branch_Token_58 = branch_Token_45;
					} break;
					default: {
						branch_Maybe_60 = branch_Maybe_47;
						branch_ZPlusMirth_59 = branch_ZPlusMirth_46;
						branch_Token_58 = branch_Token_45;
					} break;
				}
				uint64_t branch_Token_71;
				TUP* branch_ZPlusMirth_72;
				VAL branch_Maybe_73;
				switch (get_data_tag(branch_Maybe_60)) {
					case 0LL: { // None
						TUP* v74;
						VAL v75 = mw_mirth_token_Token_sigZ_stackZ_varZAsk(branch_ZPlusMirth_59, branch_Token_58, &v74);
						TUP* branch_ZPlusMirth_76;
						VAL branch_Maybe_77;
						switch (get_data_tag(v75)) {
							case 1LL: { // Some
								VAL v78 = mtp_std_maybe_Maybe_1_Some(v75);
								VAL v79 = mw_mirth_type_Type_STACK();
								TUP* v80;
								uint64_t v81 = mw_mirth_var_Var_NewZBang(v74, v79, value_u64(v78), &v80);
								VAL v82 = mtw_std_maybe_Maybe_1_Some(MKU64(v81));
								branch_Maybe_77 = v82;
								branch_ZPlusMirth_76 = v80;
							} break;
							case 0LL: { // None
								VAL v83 = MKI64(0LL /* None */);
								branch_Maybe_77 = v83;
								branch_ZPlusMirth_76 = v74;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_73 = branch_Maybe_77;
						branch_ZPlusMirth_72 = branch_ZPlusMirth_76;
						branch_Token_71 = branch_Token_58;
					} break;
					default: {
						branch_Maybe_73 = branch_Maybe_60;
						branch_ZPlusMirth_72 = branch_ZPlusMirth_59;
						branch_Token_71 = branch_Token_58;
					} break;
				}
				TUP* branch_ZPlusMirth_84;
				uint64_t branch_Token_85;
				VAL branch_z_x1_86;
				switch (get_data_tag(branch_Maybe_73)) {
					case 1LL: { // Some
						VAL v87 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_73);
						branch_z_x1_86 = v87;
						branch_Token_85 = branch_Token_71;
						branch_ZPlusMirth_84 = branch_ZPlusMirth_72;
					} break;
					case 0LL: { // None
						STR* v88;
						STRLIT(v88, "Invalid parameter name.", 23);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_72, branch_Token_71, v88);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v92 = mw_mirth_var_Ctx_new(v12, value_u64(branch_z_x1_86));
				bool v93 = true;
				branch_Bool_19 = v93;
				branch_List_18 = v20;
				branch_Ctx_17 = v92;
				branch_ZPlusMirth_16 = branch_ZPlusMirth_84;
			} break;
			case 0LL: { // Nil
				VAL v94 = MKI64(0LL /* Nil */);
				bool v95 = false;
				branch_Bool_19 = v95;
				branch_List_18 = v94;
				branch_Ctx_17 = v12;
				branch_ZPlusMirth_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusMirth_16;
		v7 = branch_Ctx_17;
	}
	decref(v9);
	VAL v96 = mw_mirth_var_Ctx_ZToList(v7);
	*out_ZPlusMirth_3 = v8;
	return v96;
}
static uint64_t mw_mirth_elab_elabZ_dataZ_tagZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* in_SyntaxDataTag_3, TUP* *out_ZPlusMirth_4) {
	uint64_t v6 = mw_mirth_data_Tag_allocZBang();
	incref(MKTUP(in_SyntaxDataTag_3, 5));
	VAL v7 = in_SyntaxDataTag_3->cells[0];
	incref(v7);
	decref(MKTUP(in_SyntaxDataTag_3, 5));
	void* v8 = field_mut(&mfld_mirth_data_Tag_ZTildedoc, v6);
	mut_set(v7, v8);
	incref(MKTUP(in_SyntaxDataTag_3, 5));
	uint64_t v9 = value_u64(in_SyntaxDataTag_3->cells[3]);
	decref(MKTUP(in_SyntaxDataTag_3, 5));
	INT v10 = WRAP_I63(0LL);
	TUP* v11;
	TUP* v12 = mw_mirth_mirth_ZPlusMirth_dataZ_qname(in_ZPlusMirth_1, in_Data_2, v9, v10, &v11);
	void* v13 = field_mut(&mfld_mirth_data_Tag_ZTildeqname, v6);
	mut_set(MKTUP(v12, 3), v13);
	incref(MKTUP(in_SyntaxDataTag_3, 5));
	VAL v14 = in_SyntaxDataTag_3->cells[4];
	incref(v14);
	decref(MKTUP(in_SyntaxDataTag_3, 5));
	void* v15 = field_mut(&mfld_mirth_data_Tag_ZTildesigZAsk, v6);
	mut_set(v14, v15);
	incref(MKTUP(in_SyntaxDataTag_3, 5));
	VAL v16 = in_SyntaxDataTag_3->cells[2];
	incref(v16);
	decref(MKTUP(in_SyntaxDataTag_3, 5));
	uint64_t branch_Tag_17;
	switch (get_data_tag(v16)) {
		case 1LL: { // Some
			VAL v18 = mtp_std_maybe_Maybe_1_Some(v16);
			void* v19 = field_mut(&mfld_mirth_data_Tag_ZTildevalue, v6);
			mut_set(v18, v19);
			branch_Tag_17 = v6;
		} break;
		case 0LL: { // None
			branch_Tag_17 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	void* v20 = field_mut(&mfld_mirth_data_Tag_ZTildedata, branch_Tag_17);
	mut_set(MKU64(in_Data_2), v20);
	TUP* v21;
	mw_mirth_data_Data_addZ_tagZBang(v11, branch_Tag_17, in_Data_2, &v21);
	VAL v22 = mtw_mirth_def_Def_Tag(branch_Tag_17);
	TUP* v23;
	mw_mirth_def_Def_register(v21, v22, &v23);
	incref(MKTUP(in_SyntaxDataTag_3, 5));
	uint64_t v24 = value_u64(in_SyntaxDataTag_3->cells[1]);
	decref(MKTUP(in_SyntaxDataTag_3, 5));
	VAL v25 = mtw_mirth_mirth_PropLabel_TagType(branch_Tag_17);
	TUP* v26 = tup_new(2);
	v26->size = 2;
	v26->cells[1] = MKU64(branch_Tag_17);
	v26->cells[0] = MKU64(v24);
	TUP* v27 = value_tup(v23->cells[6], 2);
	incref(MKTUP(v27, 2));
	FNPTR v28 = &mb_mirth_mirth_PropLabel_prop_1_sp14_3;
	VAL v29 = mtw_mirth_mirth_PropState_1_Delay(v27, MKTUP(v26, 2), MKFNPTR(v28));
	TUP* v30 = mtw_mirth_mirth_Prop_1_Prop(v25, v29);
	void* v31 = field_mut(&mfld_mirth_data_Tag_ZTildectxZ_type, branch_Tag_17);
	mut_set(MKTUP(v30, 2), v31);
	TUP* v32;
	INT v33 = mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig(v23, branch_Tag_17, &v32);
	void* v34 = field_mut(&mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs, branch_Tag_17);
	mut_set(MKINT(v33), v34);
	TUP* v35;
	INT v36 = mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig(v32, branch_Tag_17, &v35);
	void* v37 = field_mut(&mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs, branch_Tag_17);
	mut_set(MKINT(v36), v37);
	TUP* v38;
	VAL v39 = mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig(v35, branch_Tag_17, &v38);
	void* v40 = field_mut(&mfld_mirth_data_Tag_ZTildelabelZ_inputs, branch_Tag_17);
	mut_set(v39, v40);
	TUP* v41;
	bool v42 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v38, branch_Tag_17, &v41);
	bool v43 = !v42;
	uint64_t branch_Tag_44;
	TUP* branch_ZPlusMirth_45;
	if (v43) {
		TUP* v46;
		VAL v47 = mw_mirth_data_Tag_sigZAsk(v41, branch_Tag_17, &v46);
		TUP* branch_ZPlusMirth_48;
		switch (get_data_tag(v47)) {
			case 1LL: { // Some
				VAL v49 = mtp_std_maybe_Maybe_1_Some(v47);
				TUP* v50;
				VAL v51 = mw_mirth_token_Token_runZ_tokens(v46, value_u64(v49), &v50);
				VAL v52 = MKI64(0LL /* None */);
				bool v53 = true;
				TUP* v54 = v50;
				VAL v55 = v52;
				VAL v56 = v51;
				bool v57 = v53;
				bool v58 = v53;
				while (v58) {
					TUP* v59 = v54;
					VAL v60 = v55;
					VAL v61 = v56;
					bool v62 = v57;
					VAL v63;
					VAL v64 = mw_std_list_List_1_uncons(v61, &v63);
					TUP* branch_ZPlusMirth_65;
					VAL branch_Maybe_66;
					VAL branch_List_67;
					bool branch_Bool_68;
					switch (get_data_tag(v64)) {
						case 1LL: { // Some
							VAL v69 = mtp_std_maybe_Maybe_1_Some(v64);
							incref(v69);
							incref(v69);
							TUP* v70;
							VAL v71 = mw_mirth_token_Token_sigZ_resourceZ_conZAsk(v59, value_u64(v69), &v70);
							int64_t v72 = get_data_tag(v71);
							decref(v71);
							INT v73 = WRAP_I63(0LL);
							INT v74 = i64_to_int(v72);
							bool v75 = int_eq(v74, v73);
							bool v76 = !v75;
							TUP* branch_ZPlusMirth_77;
							bool branch_Bool_78;
							if (v76) {
								decref(v69);
								bool v79 = true;
								branch_Bool_78 = v79;
								branch_ZPlusMirth_77 = v70;
							} else {
								TUP* v80;
								VAL v81 = mw_mirth_token_Token_sigZ_resourceZ_varZAsk(v70, value_u64(v69), &v80);
								int64_t v82 = get_data_tag(v81);
								decref(v81);
								INT v83 = WRAP_I63(0LL);
								INT v84 = i64_to_int(v82);
								bool v85 = int_eq(v84, v83);
								bool v86 = !v85;
								branch_Bool_78 = v86;
								branch_ZPlusMirth_77 = v80;
							}
							TUP* branch_ZPlusMirth_87;
							VAL branch_Maybe_88;
							if (branch_Bool_78) {
								VAL v89 = mtw_std_maybe_Maybe_1_Some(v69);
								branch_Maybe_88 = v89;
								branch_ZPlusMirth_87 = branch_ZPlusMirth_77;
							} else {
								decref(v69);
								VAL v90 = MKI64(0LL /* None */);
								branch_Maybe_88 = v90;
								branch_ZPlusMirth_87 = branch_ZPlusMirth_77;
							}
							TUP* branch_ZPlusMirth_91;
							VAL branch_Maybe_92;
							VAL branch_List_93;
							switch (get_data_tag(branch_Maybe_88)) {
								case 0LL: { // None
									branch_List_93 = v63;
									branch_Maybe_92 = v60;
									branch_ZPlusMirth_91 = branch_ZPlusMirth_87;
								} break;
								default: {
									decref(v63);
									decref(v60);
									VAL v94 = MKI64(0LL /* Nil */);
									branch_List_93 = v94;
									branch_Maybe_92 = branch_Maybe_88;
									branch_ZPlusMirth_91 = branch_ZPlusMirth_87;
								} break;
							}
							bool v95 = true;
							branch_Bool_68 = v95;
							branch_List_67 = branch_List_93;
							branch_Maybe_66 = branch_Maybe_92;
							branch_ZPlusMirth_65 = branch_ZPlusMirth_91;
						} break;
						case 0LL: { // None
							bool v96 = false;
							branch_Bool_68 = v96;
							branch_List_67 = v63;
							branch_Maybe_66 = v60;
							branch_ZPlusMirth_65 = v59;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v58 = branch_Bool_68;
					v57 = branch_Bool_68;
					v56 = branch_List_67;
					v55 = branch_Maybe_66;
					v54 = branch_ZPlusMirth_65;
				}
				decref(v56);
				TUP* branch_ZPlusMirth_97;
				switch (get_data_tag(v55)) {
					case 1LL: { // Some
						VAL v98 = mtp_std_maybe_Maybe_1_Some(v55);
						STR* v99;
						STRLIT(v99, "Value type cannot contain resource.", 35);
						TUP* v100;
						mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v54, value_u64(v98), v99, &v100);
						branch_ZPlusMirth_97 = v100;
					} break;
					case 0LL: { // None
						branch_ZPlusMirth_97 = v54;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusMirth_48 = branch_ZPlusMirth_97;
			} break;
			case 0LL: { // None
				branch_ZPlusMirth_48 = v46;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusMirth_45 = branch_ZPlusMirth_48;
		branch_Tag_44 = branch_Tag_17;
	} else {
		branch_ZPlusMirth_45 = v41;
		branch_Tag_44 = branch_Tag_17;
	}
	decref(MKTUP(in_SyntaxDataTag_3, 5));
	*out_ZPlusMirth_4 = branch_ZPlusMirth_45;
	return in_Data_2;
}
static uint64_t mw_mirth_elab_elabZ_dataZ_declsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4) {
	VAL v8 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_3));
	VAL v9 = mtw_mirth_tycon_Tycon_Data(in_Data_2);
	VAL v10 = mtw_mirth_name_Namespace_Tycon(v9);
	VAL v11 = MKI64(0LL /* DefiningNamespace */);
	TUP* v12;
	TUP* v13 = mw_mirth_mirth_PropLabel_prop(in_ZPlusMirth_1, v10, v11, &v12);
	VAL v14 = mtw_std_maybe_Maybe_1_Some(MKTUP(v13, 2));
	TUP* v15 = mtw_mirth_mirth_LexicalState_LexicalState(v8, v14);
	TUP* v16 = value_tup(v12->cells[6], 2);
	incref(MKTUP(v16, 2));
	TUP* v17 = value_tup(v12->cells[6], 2);
	decref(MKTUP(v17, 2));
	v12->cells[6] = MKTUP(v15, 2);
	TUP* v18;
	bool v19 = mw_mirth_token_Token_argZ_endZAsk(v12, in_Token_3, &v18);
	bool v20 = !v19;
	uint64_t v21 = in_Token_3;
	TUP* v22 = v18;
	bool v23 = v20;
	while (v23) {
		uint64_t v24 = v21;
		TUP* v25 = v22;
		TUP* v26;
		uint64_t v27 = mw_mirth_elab_elabZ_declZBang(v25, v24, &v26);
		TUP* v28;
		bool v29 = mw_mirth_token_Token_argZ_endZAsk(v26, v27, &v28);
		bool v30 = !v29;
		v23 = v30;
		v22 = v28;
		v21 = v27;
	}
	TUP* v31 = value_tup(v22->cells[6], 2);
	decref(MKTUP(v31, 2));
	v22->cells[6] = MKTUP(v16, 2);
	*out_ZPlusMirth_4 = v22;
	return in_Data_2;
}
static uint64_t mw_mirth_elab_dataZ_wordZ_newZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, STR* in_Str_3, INT in_Nat_4, VAL in_Maybe_5, TUP* *out_ZPlusMirth_6) {
	incref(MKINT(in_Nat_4));
	incref(MKSTR(in_Str_3));
	TUP* v8;
	uint64_t v9 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, in_Str_3, &v8);
	TUP* v10;
	VAL v11 = mw_mirth_data_Data_headZAsk(v8, in_Data_2, &v10);
	TUP* branch_ZPlusMirth_12;
	VAL branch_z_x1_13;
	switch (get_data_tag(v11)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v11);
			branch_z_x1_13 = v14;
			branch_ZPlusMirth_12 = v10;
		} break;
		case 0LL: { // None
			STR* v15;
			STRLIT(v15, "Missing data token information.", 31);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v10, v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x1_13);
	TUP* v18;
	TUP* v19 = mw_mirth_mirth_ZPlusMirth_dataZ_wordZ_qname(branch_ZPlusMirth_12, in_Data_2, in_Str_3, in_Nat_4, &v18);
	VAL v20 = MKI64(0LL /* None */);
	TUP* v21;
	uint64_t v22 = mw_mirth_word_Word_NewZBang(v18, value_u64(branch_z_x1_13), v20, value_u64(branch_z_x1_13), v9, in_Nat_4, in_Maybe_5, &v21);
	VAL v23 = mtw_mirth_mirth_PropLabel_WordQName(v22);
	TUP* v24;
	TUP* v25 = mw_mirth_mirth_PropLabel_prop(v21, MKTUP(v19, 3), v23, &v24);
	void* v26 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v22);
	mut_set(MKTUP(v25, 2), v26);
	*out_ZPlusMirth_6 = v24;
	return v22;
}
static void mw_mirth_elab_elabZ_dataZ_doneZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	bool v5 = mw_mirth_data_Data_isZ_valueZ_typeZAsk(in_ZPlusMirth_1, in_Data_2, &v4);
	uint64_t branch_Data_6;
	TUP* branch_ZPlusMirth_7;
	if (v5) {
		VAL v8 = MKI64(0LL /* None */);
		STR* v9;
		STRLIT(v9, "enum-value", 10);
		INT v10 = WRAP_I63(0LL);
		TUP* v11;
		uint64_t v12 = mw_mirth_elab_dataZ_wordZ_newZBang(v4, in_Data_2, v9, v10, v8, &v11);
		TUP* v13;
		VAL v14 = mw_mirth_data_Data_params(v11, in_Data_2, &v13);
		VAL v15 = mw_std_list_List_1_ZToCtx(v14);
		TUP* v16;
		TUP* v17 = mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type(v13, in_Data_2, &v16);
		VAL v18 = mtw_mirth_mirth_PropLabel_WordType(v12);
		TUP* v19;
		TUP* v20 = mw_mirth_mirth_PropLabel_prop2(v16, v15, MKTUP(v17, 2), v18, &v19);
		void* v21 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v12);
		mut_set(MKTUP(v20, 2), v21);
		TUP* v22;
		TUP* v23;
		uint64_t v24;
		VAL v25;
		uint64_t v26;
		VAL v27 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v19, v12, &v22, &v23, &v24, &v25, &v26);
		VAL v28;
		VAL v29;
		mtp_mirth_type_ArrowType_ArrowType(v23, &v28, &v29);
		incref(v28);
		VAL v30 = MKI64(0LL /* Nil */);
		TUP* v31 = mtw_mirth_arrow_Arrow_Arrow(v25, v24, v24, v27, v28, v28, v30);
		VAL v32 = MKI64(0LL /* Nil */);
		VAL v33 = mtw_mirth_arrow_Op_DataGetEnumValue(in_Data_2);
		TUP* v34;
		TUP* v35;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v22, v31, v32, v33, &v34, &v35);
		TUP* v36;
		TUP* v37;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v34, v35, v29, &v36, &v37);
		TUP* v38;
		TUP* v39 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v36, v37, v26, &v38);
		VAL v40 = mtw_mirth_mirth_PropLabel_WordArrow(v12);
		TUP* v41;
		TUP* v42 = mw_mirth_mirth_PropLabel_prop(v38, MKTUP(v39, 7), v40, &v41);
		void* v43 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v12);
		mut_set(MKTUP(v42, 2), v43);
		TUP* v44;
		mw_mirth_word_Word_makeZ_inlineZBang(v41, v12, &v44);
		branch_ZPlusMirth_7 = v44;
		branch_Data_6 = in_Data_2;
	} else {
		branch_ZPlusMirth_7 = v4;
		branch_Data_6 = in_Data_2;
	}
	TUP* v45;
	bool v46 = mw_mirth_data_Data_isZ_enumZAsk(branch_ZPlusMirth_7, branch_Data_6, &v45);
	uint64_t branch_Data_47;
	TUP* branch_ZPlusMirth_48;
	if (v46) {
		VAL v49 = MKI64(0LL /* None */);
		STR* v50;
		STRLIT(v50, "from-enum-value-unsafe", 22);
		INT v51 = WRAP_I63(0LL);
		TUP* v52;
		uint64_t v53 = mw_mirth_elab_dataZ_wordZ_newZBang(v45, branch_Data_6, v50, v51, v49, &v52);
		TUP* v54;
		VAL v55 = mw_mirth_data_Data_params(v52, branch_Data_6, &v54);
		VAL v56 = mw_std_list_List_1_ZToCtx(v55);
		TUP* v57;
		TUP* v58 = mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type(v54, branch_Data_6, &v57);
		VAL v59 = mtw_mirth_mirth_PropLabel_WordType(v53);
		TUP* v60;
		TUP* v61 = mw_mirth_mirth_PropLabel_prop2(v57, v56, MKTUP(v58, 2), v59, &v60);
		void* v62 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v53);
		mut_set(MKTUP(v61, 2), v62);
		TUP* v63;
		TUP* v64;
		uint64_t v65;
		VAL v66;
		uint64_t v67;
		VAL v68 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v60, v53, &v63, &v64, &v65, &v66, &v67);
		VAL v69;
		VAL v70;
		mtp_mirth_type_ArrowType_ArrowType(v64, &v69, &v70);
		incref(v69);
		VAL v71 = MKI64(0LL /* Nil */);
		TUP* v72 = mtw_mirth_arrow_Arrow_Arrow(v66, v65, v65, v68, v69, v69, v71);
		VAL v73 = MKI64(0LL /* Nil */);
		VAL v74 = mtw_mirth_arrow_Op_DataFromEnumValue(branch_Data_6);
		TUP* v75;
		TUP* v76;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v63, v72, v73, v74, &v75, &v76);
		TUP* v77;
		TUP* v78;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v75, v76, v70, &v77, &v78);
		TUP* v79;
		TUP* v80 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v77, v78, v67, &v79);
		VAL v81 = mtw_mirth_mirth_PropLabel_WordArrow(v53);
		TUP* v82;
		TUP* v83 = mw_mirth_mirth_PropLabel_prop(v79, MKTUP(v80, 7), v81, &v82);
		void* v84 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v53);
		mut_set(MKTUP(v83, 2), v84);
		TUP* v85;
		mw_mirth_word_Word_makeZ_inlineZBang(v82, v53, &v85);
		branch_ZPlusMirth_48 = v85;
		branch_Data_47 = branch_Data_6;
	} else {
		branch_ZPlusMirth_48 = v45;
		branch_Data_47 = branch_Data_6;
	}
	TUP* v86;
	VAL v87 = mw_mirth_data_Data_tags(branch_ZPlusMirth_48, branch_Data_47, &v86);
	VAL v88 = mw_std_list_List_1_singleZAsk(v87);
	uint64_t branch_Data_89;
	TUP* branch_ZPlusMirth_90;
	switch (get_data_tag(v88)) {
		case 1LL: { // Some
			VAL v91 = mtp_std_maybe_Maybe_1_Some(v88);
			VAL v92 = MKI64(0LL /* None */);
			STR* v93;
			STRLIT(v93, "/", 1);
			incref(v91);
			TUP* v94;
			uint64_t v95 = mw_mirth_data_Tag_name(v86, value_u64(v91), &v94);
			TUP* v96;
			STR* v97 = mw_mirth_name_Name_ZToStr(v94, v95, &v96);
			STR* v98 = str_cat(v93, v97);
			INT v99 = WRAP_I63(0LL);
			TUP* v100;
			uint64_t v101 = mw_mirth_elab_dataZ_wordZ_newZBang(v96, branch_Data_47, v98, v99, v92, &v100);
			VAL v102 = mtw_std_maybe_Maybe_1_Some(MKU64(v101));
			incref(v91);
			void* v103 = field_mut(&mfld_mirth_data_Tag_ZTildeuntag, value_u64(v91));
			mut_set(v102, v103);
			incref(v91);
			VAL v104 = mtw_mirth_mirth_PropLabel_WordType(v101);
			TUP* v105 = value_tup(v100->cells[6], 2);
			incref(MKTUP(v105, 2));
			FNPTR v106 = &mb_mirth_mirth_PropLabel_prop_1_sp5_0;
			VAL v107 = mtw_mirth_mirth_PropState_1_Delay(v105, v91, MKFNPTR(v106));
			TUP* v108 = mtw_mirth_mirth_Prop_1_Prop(v104, v107);
			void* v109 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v101);
			mut_set(MKTUP(v108, 2), v109);
			incref(v91);
			VAL v110 = mtw_mirth_mirth_PropLabel_WordArrow(v101);
			TUP* v111 = tup_new(2);
			v111->size = 2;
			v111->cells[1] = MKU64(v101);
			v111->cells[0] = v91;
			TUP* v112 = value_tup(v100->cells[6], 2);
			incref(MKTUP(v112, 2));
			FNPTR v113 = &mb_mirth_mirth_PropLabel_prop_1_sp13_9;
			VAL v114 = mtw_mirth_mirth_PropState_1_Delay(v112, MKTUP(v111, 2), MKFNPTR(v113));
			TUP* v115 = mtw_mirth_mirth_Prop_1_Prop(v110, v114);
			void* v116 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v101);
			mut_set(MKTUP(v115, 2), v116);
			TUP* v117;
			mw_mirth_word_Word_makeZ_inlineZBang(v100, v101, &v117);
			incref(v91);
			TUP* v118;
			mw_mirth_elab_createZ_projectorsZBang(v117, value_u64(v91), &v118);
			decref(v91);
			branch_ZPlusMirth_90 = v118;
			branch_Data_89 = branch_Data_47;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_90 = v86;
			branch_Data_89 = branch_Data_47;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v119 = mtw_mirth_mirth_PropLabel_DataCType(branch_Data_89);
	TUP* v120 = value_tup(branch_ZPlusMirth_90->cells[6], 2);
	incref(MKTUP(v120, 2));
	FNPTR v121 = &mb_mirth_mirth_PropLabel_prop_1_sp4_6;
	VAL v122 = mtw_mirth_mirth_PropState_1_Delay(v120, MKU64(branch_Data_89), MKFNPTR(v121));
	TUP* v123 = mtw_mirth_mirth_Prop_1_Prop(v119, v122);
	void* v124 = field_mut(&mfld_mirth_data_Data_ZTildectypeZAsk, branch_Data_89);
	mut_set(MKTUP(v123, 2), v124);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_90;
}
static VAL mw_mirth_data_Tag_outputZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildeoutputZ_type, in_Tag_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	VAL branch_Either_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Either_9 = v10;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_2, &v11);
		VAL v13 = v12->cells[1];
		incref(v13);
		decref(MKTUP(v12, 2));
		TUP* v14;
		VAL v15 = mw_mirth_type_StackType_expand(v11, v13, &v14);
		uint64_t branch_Tag_16;
		TUP* branch_ZPlusMirth_17;
		VAL branch_Either_18;
		switch (get_data_tag(v15)) {
			case 5LL: { // Cons
				VAL v19;
				VAL v20 = mtp_mirth_type_StackType_Cons(v15, &v19);
				decref(v20);
				VAL v21 = mtw_std_either_Either_2_Left(v19);
				branch_Either_18 = v21;
				branch_ZPlusMirth_17 = v14;
				branch_Tag_16 = in_Tag_2;
			} break;
			case 7LL: { // With
				VAL v22;
				VAL v23 = mtp_mirth_type_StackType_With(v15, &v22);
				decref(v23);
				VAL v24 = mtw_std_either_Either_2_Right(v22);
				branch_Either_18 = v24;
				branch_ZPlusMirth_17 = v14;
				branch_Tag_16 = in_Tag_2;
			} break;
			default: {
				decref(v15);
				STR* v25;
				STRLIT(v25, "", 0);
				STR* v26;
				STRLIT(v26, "Unexpected output type for constructor ", 39);
				STR* v27;
				mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
				TUP* v28;
				STR* v29;
				mw_mirth_data_Tag_qnameZThen(v14, v27, in_Tag_2, &v28, &v29);
				TUP* v30;
				uint64_t v31 = mw_mirth_data_Tag_data(v28, in_Tag_2, &v30);
				TUP* v32;
				VAL v33 = mw_mirth_data_Data_headZAsk(v30, v31, &v32);
				TUP* v34;
				mw_std_maybe_Maybe_1_ifZAsk_2_sp50(v32, v29, v33, &v34);
				VAL v35 = MKI64(0LL /* Error */);
				TUP* v36;
				uint64_t v37 = mw_mirth_data_Tag_data(v34, in_Tag_2, &v36);
				TUP* v38;
				bool v39 = mw_mirth_data_Data_isZ_resourceZAsk(v36, v37, &v38);
				uint64_t branch_Tag_40;
				TUP* branch_ZPlusMirth_41;
				VAL branch_Either_42;
				if (v39) {
					VAL v43 = mtw_std_either_Either_2_Right(v35);
					branch_Either_42 = v43;
					branch_ZPlusMirth_41 = v38;
					branch_Tag_40 = in_Tag_2;
				} else {
					VAL v44 = mtw_std_either_Either_2_Left(v35);
					branch_Either_42 = v44;
					branch_ZPlusMirth_41 = v38;
					branch_Tag_40 = in_Tag_2;
				}
				branch_Either_18 = branch_Either_42;
				branch_ZPlusMirth_17 = branch_ZPlusMirth_41;
				branch_Tag_16 = branch_Tag_40;
			} break;
		}
		incref(branch_Either_18);
		mut_set(branch_Either_18, v5);
		branch_Either_9 = branch_Either_18;
		branch_Tag_8 = branch_Tag_16;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_17;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Either_9;
}
static VAL mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, in_Tag_3, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_Either_9;
	switch (get_data_tag(v7)) {
		case 0LL: { // Left
			VAL v10 = mtp_std_either_Either_2_Left(v7);
			TUP* v11;
			VAL v12 = mw_mirth_type_Type_exceptZ_field(v6, in_Label_2, in_Tag_3, v10, &v11);
			VAL v13 = mtw_std_either_Either_2_Left(v12);
			branch_Either_9 = v13;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 1LL: { // Right
			VAL v14 = mtp_std_either_Either_2_Right(v7);
			TUP* v15;
			VAL v16 = mw_mirth_type_Resource_exceptZ_field(v6, in_Label_2, in_Tag_3, v14, &v15);
			VAL v17 = mtw_std_either_Either_2_Right(v16);
			branch_Either_9 = v17;
			branch_ZPlusMirth_8 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Either_9;
}
static VAL mw_mirth_data_Tag_projectZ_inputZ_label (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	TUP* v7 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_3, &v6);
	VAL v8 = v7->cells[0];
	incref(v8);
	decref(MKTUP(v7, 2));
	TUP* v9;
	VAL v10 = mw_mirth_type_StackType_labelZ_topZAsk(v6, in_Label_2, v8, &v9);
	*out_ZPlusMirth_4 = v9;
	return v10;
}
static VAL mw_mirth_data_Tag_projectZ_tagZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_projectZ_inputZ_label(in_ZPlusMirth_1, in_Label_2, in_Tag_3, &v6);
	VAL branch_Maybe_8;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v10 = mtw_mirth_data_TagField_TagField(in_Tag_3, in_Label_2, v9);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v10, 3));
			branch_Maybe_8 = v11;
		} break;
		case 0LL: { // None
			VAL v12 = MKI64(0LL /* None */);
			branch_Maybe_8 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = v6;
	return branch_Maybe_8;
}
static TUP* mw_mirth_elab_dataZ_getZ_labelZ_type (TUP* in_ZPlusMirth_1, TUP* in_TagField_2, TUP* *out_ZPlusMirth_3) {
	uint64_t v5;
	uint64_t v6;
	VAL v7;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v5, &v6, &v7);
	uint64_t branch_Label_8;
	uint64_t branch_Tag_9;
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ArrowType_11;
	switch (get_data_tag(v7)) {
		case 0LL: { // Left
			VAL v12 = mtp_std_either_Either_2_Left(v7);
			VAL v13 = mw_mirth_type_T0();
			TUP* v14;
			VAL v15 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v14);
			VAL v16 = mw_mirth_type_TZMulZPlus(v13, v15);
			VAL v17 = mw_mirth_type_T1(v12);
			TUP* v18;
			uint64_t v19 = mw_mirth_data_Tag_data(v14, v5, &v18);
			TUP* v20;
			bool v21 = mw_mirth_data_Data_isZ_resourceZAsk(v18, v19, &v20);
			uint64_t branch_Tag_22;
			TUP* branch_ZPlusMirth_23;
			VAL branch_StackType_24;
			if (v21) {
				TUP* v25;
				VAL v26 = mw_mirth_data_Tag_outputZ_type(v20, v5, &v25);
				VAL v27 = mw_mirth_type_TZMulZPlus(v17, v26);
				branch_StackType_24 = v27;
				branch_ZPlusMirth_23 = v25;
				branch_Tag_22 = v5;
			} else {
				branch_StackType_24 = v17;
				branch_ZPlusMirth_23 = v20;
				branch_Tag_22 = v5;
			}
			TUP* v28 = mw_mirth_type_TZ_ZTo(v16, branch_StackType_24);
			branch_ArrowType_11 = v28;
			branch_ZPlusMirth_10 = branch_ZPlusMirth_23;
			branch_Tag_9 = branch_Tag_22;
			branch_Label_8 = v6;
		} break;
		case 1LL: { // Right
			VAL v29 = mtp_std_either_Either_2_Right(v7);
			VAL v30 = mw_mirth_type_T0();
			TUP* v31;
			VAL v32 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v31);
			VAL v33 = mw_mirth_type_TZMulZPlus(v30, v32);
			VAL v34 = mw_mirth_type_T0();
			VAL v35 = mw_mirth_type_TZPlus(v34, v29);
			TUP* v36;
			VAL v37 = mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field(v31, v6, v5, &v36);
			VAL v38 = mw_mirth_type_TZMulZPlus(v35, v37);
			TUP* v39 = mw_mirth_type_TZ_ZTo(v33, v38);
			branch_ArrowType_11 = v39;
			branch_ZPlusMirth_10 = v36;
			branch_Tag_9 = v5;
			branch_Label_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_ArrowType_11;
}
static TUP* mw_mirth_elab_dataZ_setZ_labelZ_type (TUP* in_ZPlusMirth_1, TUP* in_TagField_2, TUP* *out_ZPlusMirth_3) {
	uint64_t v5;
	uint64_t v6;
	VAL v7;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v5, &v6, &v7);
	uint64_t branch_Label_8;
	uint64_t branch_Tag_9;
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ArrowType_11;
	switch (get_data_tag(v7)) {
		case 0LL: { // Left
			VAL v12 = mtp_std_either_Either_2_Left(v7);
			VAL v13 = mw_mirth_type_T1(v12);
			TUP* v14;
			VAL v15 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v14);
			VAL v16 = mw_mirth_type_TZMulZPlus(v13, v15);
			VAL v17 = mw_mirth_type_T0();
			TUP* v18;
			VAL v19 = mw_mirth_data_Tag_outputZ_type(v14, v5, &v18);
			VAL v20 = mw_mirth_type_TZMulZPlus(v17, v19);
			TUP* v21 = mw_mirth_type_TZ_ZTo(v16, v20);
			branch_ArrowType_11 = v21;
			branch_ZPlusMirth_10 = v18;
			branch_Tag_9 = v5;
			branch_Label_8 = v6;
		} break;
		case 1LL: { // Right
			VAL v22 = mtp_std_either_Either_2_Right(v7);
			VAL v23 = mw_mirth_type_T0();
			VAL v24 = mw_mirth_type_TZPlus(v23, v22);
			TUP* v25;
			VAL v26 = mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field(in_ZPlusMirth_1, v6, v5, &v25);
			VAL v27 = mw_mirth_type_TZMulZPlus(v24, v26);
			VAL v28 = mw_mirth_type_T0();
			TUP* v29;
			VAL v30 = mw_mirth_data_Tag_outputZ_type(v25, v5, &v29);
			VAL v31 = mw_mirth_type_TZMulZPlus(v28, v30);
			TUP* v32 = mw_mirth_type_TZ_ZTo(v27, v31);
			branch_ArrowType_11 = v32;
			branch_ZPlusMirth_10 = v29;
			branch_Tag_9 = v5;
			branch_Label_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_ArrowType_11;
}
static void mw_mirth_elab_createZ_projectorsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	uint64_t v5 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v4);
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_labelZ_inputs(v4, in_Tag_2, &v6);
	VAL v8 = mw_std_list_List_1_reverse(v7);
	bool v9 = true;
	uint64_t v10 = in_Tag_2;
	TUP* v11 = v6;
	uint64_t v12 = v5;
	VAL v13 = v8;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		uint64_t v16 = v10;
		TUP* v17 = v11;
		uint64_t v18 = v12;
		VAL v19 = v13;
		bool v20 = v14;
		uint64_t branch_Tag_21;
		uint64_t branch_Data_22;
		TUP* branch_ZPlusMirth_23;
		VAL branch_List_24;
		bool branch_Bool_25;
		switch (get_data_tag(v19)) {
			case 1LL: { // Cons
				VAL v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				incref(v27);
				TUP* v28;
				uint64_t v29 = mw_mirth_label_Label_name(v17, value_u64(v27), &v28);
				INT v30 = WRAP_I63(0LL);
				TUP* v31;
				TUP* v32 = mw_mirth_mirth_ZPlusMirth_dataZ_qname(v28, v18, v29, v30, &v31);
				TUP* v33;
				bool v34 = mw_mirth_name_QName_undefinedZ_softZAsk(v31, v32, &v33);
				uint64_t branch_Tag_35;
				uint64_t branch_Label_36;
				uint64_t branch_Data_37;
				TUP* branch_ZPlusMirth_38;
				if (v34) {
					VAL v39 = MKI64(0LL /* None */);
					incref(v27);
					TUP* v40;
					STR* v41 = mw_mirth_label_Label_ZToStr(v33, value_u64(v27), &v40);
					INT v42 = WRAP_I63(0LL);
					TUP* v43;
					uint64_t v44 = mw_mirth_elab_dataZ_wordZ_newZBang(v40, v18, v41, v42, v39, &v43);
					VAL v45 = MKI64(0LL /* None */);
					incref(v27);
					TUP* v46;
					STR* v47 = mw_mirth_label_Label_ZToStr(v43, value_u64(v27), &v46);
					STR* v48;
					STRLIT(v48, "!", 1);
					STR* v49 = str_cat(v47, v48);
					INT v50 = WRAP_I63(0LL);
					TUP* v51;
					uint64_t v52 = mw_mirth_elab_dataZ_wordZ_newZBang(v46, v18, v49, v50, v45, &v51);
					VAL v53 = MKI64(0LL /* None */);
					incref(v27);
					TUP* v54;
					STR* v55 = mw_mirth_label_Label_ZToStr(v51, value_u64(v27), &v54);
					INT v56 = WRAP_I63(1LL);
					TUP* v57;
					uint64_t v58 = mw_mirth_elab_dataZ_wordZ_newZBang(v54, v18, v55, v56, v53, &v57);
					TUP* v59;
					mw_mirth_word_Word_makeZ_inlineZBang(v57, v44, &v59);
					incref(v27);
					VAL v60 = mtw_mirth_mirth_PropLabel_WordType(v44);
					TUP* v61 = tup_new(2);
					v61->size = 2;
					v61->cells[1] = v27;
					v61->cells[0] = MKU64(v16);
					TUP* v62 = value_tup(v59->cells[6], 2);
					incref(MKTUP(v62, 2));
					FNPTR v63 = &mb_mirth_mirth_PropLabel_prop_1_sp12_3;
					VAL v64 = mtw_mirth_mirth_PropState_1_Delay(v62, MKTUP(v61, 2), MKFNPTR(v63));
					TUP* v65 = mtw_mirth_mirth_Prop_1_Prop(v60, v64);
					void* v66 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v44);
					mut_set(MKTUP(v65, 2), v66);
					incref(v27);
					VAL v67 = mtw_mirth_mirth_PropLabel_WordArrow(v44);
					TUP* v68 = tup_new(3);
					v68->size = 3;
					v68->cells[2] = MKU64(v44);
					v68->cells[1] = v27;
					v68->cells[0] = MKU64(v16);
					TUP* v69 = value_tup(v59->cells[6], 2);
					incref(MKTUP(v69, 2));
					FNPTR v70 = &mb_mirth_mirth_PropLabel_prop_1_sp11_5;
					VAL v71 = mtw_mirth_mirth_PropState_1_Delay(v69, MKTUP(v68, 3), MKFNPTR(v70));
					TUP* v72 = mtw_mirth_mirth_Prop_1_Prop(v67, v71);
					void* v73 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v44);
					mut_set(MKTUP(v72, 2), v73);
					TUP* v74;
					mw_mirth_word_Word_makeZ_inlineZBang(v59, v52, &v74);
					incref(v27);
					VAL v75 = mtw_mirth_mirth_PropLabel_WordType(v52);
					TUP* v76 = tup_new(2);
					v76->size = 2;
					v76->cells[1] = v27;
					v76->cells[0] = MKU64(v16);
					TUP* v77 = value_tup(v74->cells[6], 2);
					incref(MKTUP(v77, 2));
					FNPTR v78 = &mb_mirth_mirth_PropLabel_prop_1_sp10_3;
					VAL v79 = mtw_mirth_mirth_PropState_1_Delay(v77, MKTUP(v76, 2), MKFNPTR(v78));
					TUP* v80 = mtw_mirth_mirth_Prop_1_Prop(v75, v79);
					void* v81 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v52);
					mut_set(MKTUP(v80, 2), v81);
					incref(v27);
					VAL v82 = mtw_mirth_mirth_PropLabel_WordArrow(v52);
					TUP* v83 = tup_new(3);
					v83->size = 3;
					v83->cells[2] = MKU64(v52);
					v83->cells[1] = v27;
					v83->cells[0] = MKU64(v16);
					TUP* v84 = value_tup(v74->cells[6], 2);
					incref(MKTUP(v84, 2));
					FNPTR v85 = &mb_mirth_mirth_PropLabel_prop_1_sp9_5;
					VAL v86 = mtw_mirth_mirth_PropState_1_Delay(v84, MKTUP(v83, 3), MKFNPTR(v85));
					TUP* v87 = mtw_mirth_mirth_Prop_1_Prop(v82, v86);
					void* v88 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v52);
					mut_set(MKTUP(v87, 2), v88);
					TUP* v89;
					mw_mirth_word_Word_makeZ_inlineZBang(v74, v58, &v89);
					incref(v27);
					VAL v90 = mtw_mirth_mirth_PropLabel_WordType(v58);
					TUP* v91 = tup_new(2);
					v91->size = 2;
					v91->cells[1] = v27;
					v91->cells[0] = MKU64(v16);
					TUP* v92 = value_tup(v89->cells[6], 2);
					incref(MKTUP(v92, 2));
					FNPTR v93 = &mb_mirth_mirth_PropLabel_prop_1_sp8_1;
					VAL v94 = mtw_mirth_mirth_PropState_1_Delay(v92, MKTUP(v91, 2), MKFNPTR(v93));
					TUP* v95 = mtw_mirth_mirth_Prop_1_Prop(v90, v94);
					void* v96 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v58);
					mut_set(MKTUP(v95, 2), v96);
					VAL v97 = mtw_mirth_mirth_PropLabel_WordParams(v58);
					TUP* v98 = value_tup(v89->cells[6], 2);
					incref(MKTUP(v98, 2));
					FNPTR v99 = &mb_mirth_mirth_PropLabel_prop_1_sp6_2;
					VAL v100 = mtw_mirth_mirth_PropState_1_Delay(v98, MKU64(v58), MKFNPTR(v99));
					TUP* v101 = mtw_mirth_mirth_Prop_1_Prop(v97, v100);
					void* v102 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v58);
					mut_set(MKTUP(v101, 2), v102);
					VAL v103 = mtw_mirth_mirth_PropLabel_WordArrow(v58);
					TUP* v104 = tup_new(4);
					v104->size = 4;
					v104->cells[3] = MKU64(v58);
					v104->cells[2] = MKU64(v52);
					v104->cells[1] = MKU64(v44);
					v104->cells[0] = MKU64(v18);
					TUP* v105 = value_tup(v89->cells[6], 2);
					incref(MKTUP(v105, 2));
					FNPTR v106 = &mb_mirth_mirth_PropLabel_prop_1_sp7_11;
					VAL v107 = mtw_mirth_mirth_PropState_1_Delay(v105, MKTUP(v104, 4), MKFNPTR(v106));
					TUP* v108 = mtw_mirth_mirth_Prop_1_Prop(v103, v107);
					void* v109 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v58);
					mut_set(MKTUP(v108, 2), v109);
					branch_ZPlusMirth_38 = v89;
					branch_Data_37 = v18;
					branch_Label_36 = value_u64(v27);
					branch_Tag_35 = v16;
				} else {
					branch_ZPlusMirth_38 = v33;
					branch_Data_37 = v18;
					branch_Label_36 = value_u64(v27);
					branch_Tag_35 = v16;
				}
				bool v110 = true;
				branch_Bool_25 = v110;
				branch_List_24 = v26;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_38;
				branch_Data_22 = branch_Data_37;
				branch_Tag_21 = branch_Tag_35;
			} break;
			case 0LL: { // Nil
				VAL v111 = MKI64(0LL /* Nil */);
				bool v112 = false;
				branch_Bool_25 = v112;
				branch_List_24 = v111;
				branch_ZPlusMirth_23 = v17;
				branch_Data_22 = v18;
				branch_Tag_21 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		v12 = branch_Data_22;
		v11 = branch_ZPlusMirth_23;
		v10 = branch_Tag_21;
	}
	decref(v13);
	*out_ZPlusMirth_3 = v11;
}
static uint64_t mw_mirth_elab_expectZ_tokenZ_arrow (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_arrowZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	if (v6) {
		branch_Token_8 = in_Token_2;
		branch_ZPlusMirth_7 = v5;
	} else {
		STR* v9;
		STRLIT(v9, "Expected arrow.", 15);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, in_Token_2, v9);
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static uint64_t mw_mirth_elab_elabZ_defZ_missingZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_args(in_ZPlusMirth_1, in_Token_2, &v5);
	INT v7 = mw_std_list_List_1_len(v6);
	INT v8 = WRAP_I63(3LL);
	bool v9 = int_lt(v7, v8);
	TUP* branch_ZPlusMirth_10;
	uint64_t branch_Token_11;
	if (v9) {
		STR* v12;
		STRLIT(v12, "def-missing expects at least three arguments", 44);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, in_Token_2, v12);
	} else {
		branch_Token_11 = in_Token_2;
		branch_ZPlusMirth_10 = v5;
	}
	uint64_t v15 = mw_mirth_token_Token_succ(branch_Token_11);
	uint64_t v16 = mw_mirth_token_Token_succ(v15);
	TUP* v17;
	TUP* v18 = mw_mirth_elab_elabZ_defZ_qname(branch_ZPlusMirth_10, v16, &v17);
	TUP* v19;
	bool v20 = mw_mirth_name_QName_definedZ_hardZAsk(v17, v18, &v19);
	TUP* branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	if (v20) {
		TUP* v23;
		uint64_t v24 = mw_mirth_token_Token_next(v19, branch_Token_11, &v23);
		branch_Token_22 = v24;
		branch_ZPlusMirth_21 = v23;
	} else {
		TUP* v25;
		uint64_t v26 = mw_mirth_elab_elabZ_defZBang(v19, branch_Token_11, &v25);
		branch_Token_22 = v26;
		branch_ZPlusMirth_21 = v25;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_21;
	return branch_Token_22;
}
static uint64_t mw_mirth_elab_elabZ_inlineZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	bool v7 = true;
	bool v8 = value_bool(in_ZPlusMirth_1->cells[5]);
	in_ZPlusMirth_1->cells[5] = MKBOOL(v7);
	TUP* v9;
	INT v10 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v9);
	INT v11 = WRAP_I63(0LL);
	bool v12 = int_lt(v11, v10);
	uint64_t branch_Token_13;
	TUP* branch_ZPlusMirth_14;
	if (v12) {
		TUP* v15;
		uint64_t v16 = mw_mirth_token_Token_next(v9, in_Token_2, &v15);
		TUP* v17;
		uint64_t v18 = mw_mirth_token_Token_argsZ_1(v15, in_Token_2, &v17);
		TUP* v19;
		uint64_t v20 = mw_mirth_elab_elabZ_declsZBang(v17, v18, &v19);
		branch_ZPlusMirth_14 = v19;
		branch_Token_13 = v16;
	} else {
		uint64_t v21 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v22;
		uint64_t v23 = mw_mirth_elab_elabZ_declZ_orZ_declZ_blockZBang(v9, v21, &v22);
		branch_ZPlusMirth_14 = v22;
		branch_Token_13 = v23;
	}
	branch_ZPlusMirth_14->cells[5] = MKBOOL(v8);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
	return branch_Token_13;
}
static uint64_t mw_mirth_elab_elabZ_patchZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, in_Token_2, &v7);
	uint64_t v8 = mw_mirth_token_Token_succ(in_Token_2);
	TUP* v9;
	mw_mirth_token_Token_argsZ_0(v7, v8, &v9);
	TUP* v10;
	VAL v11 = mw_mirth_token_Token_nameZDivdnameZAsk(v9, v8, &v10);
	TUP* branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	VAL branch_z_x1_14;
	switch (get_data_tag(v11)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(v11);
			branch_z_x1_14 = v15;
			branch_Token_13 = v8;
			branch_ZPlusMirth_12 = v10;
		} break;
		case 0LL: { // None
			STR* v16;
			STRLIT(v16, "Expected a type constructor.", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v10, v8, v16);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v20 = MKI64(0LL /* DefiningNamespace */);
	TUP* v21 = tup_new(2);
	v21->size = 2;
	v21->cells[1] = branch_z_x1_14;
	v21->cells[0] = MKU64(branch_Token_13);
	TUP* v22 = value_tup(branch_ZPlusMirth_12->cells[6], 2);
	incref(MKTUP(v22, 2));
	FNPTR v23 = &mb_mirth_mirth_PropLabel_prop_1_sp49_1;
	VAL v24 = mtw_mirth_mirth_PropState_1_Delay(v22, MKTUP(v21, 2), MKFNPTR(v23));
	TUP* v25 = mtw_mirth_mirth_Prop_1_Prop(v20, v24);
	VAL v26 = mtw_std_maybe_Maybe_1_Some(MKTUP(v25, 2));
	TUP* v27 = value_tup(branch_ZPlusMirth_12->cells[6], 2);
	incref(MKTUP(v27, 2));
	incref(MKTUP(v27, 2));
	VAL v28 = v27->cells[1];
	incref(v28);
	decref(MKTUP(v27, 2));
	VAL v29 = tup_replace(MKTUP(v27, 2), 1, v26);
	TUP* v30 = value_tup(branch_ZPlusMirth_12->cells[6], 2);
	decref(MKTUP(v30, 2));
	branch_ZPlusMirth_12->cells[6] = v29;
	uint64_t v31 = mw_mirth_token_Token_succ(branch_Token_13);
	TUP* v32;
	uint64_t v33 = mw_mirth_elab_elabZ_declZ_blockZBang(branch_ZPlusMirth_12, v31, &v32);
	TUP* v34 = value_tup(v32->cells[6], 2);
	incref(MKTUP(v34, 2));
	VAL v35 = tup_replace(MKTUP(v34, 2), 1, v28);
	TUP* v36 = value_tup(v32->cells[6], 2);
	decref(MKTUP(v36, 2));
	v32->cells[6] = v35;
	*out_ZPlusMirth_3 = v32;
	return v33;
}
static uint64_t mw_mirth_elab_elabZ_maxZ_mirthZ_revisionZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, in_Token_2, &v7);
	uint64_t v8 = mw_mirth_token_Token_succ(in_Token_2);
	TUP* v9;
	VAL v10 = mw_mirth_token_Token_intZAsk(v7, v8, &v9);
	TUP* v11;
	VAL v12;
	uint64_t v13 = mw_std_maybe_Maybe_1_elseZAsk_1_sp7(v9, v8, v10, &v11, &v12);
	VAL v14 = mw_mirth_version_mirthZ_revision();
	bool v15 = int_le(value_int(v14), value_int(v12));
	TUP* branch_ZPlusMirth_16;
	uint64_t branch_Token_17;
	if (v15) {
		uint64_t v18 = mw_mirth_token_Token_succ(v13);
		TUP* v19;
		uint64_t v20 = mw_mirth_elab_elabZ_declZ_blockZBang(v11, v18, &v19);
		branch_Token_17 = v20;
		branch_ZPlusMirth_16 = v19;
	} else {
		uint64_t v21 = mw_mirth_token_Token_succ(v13);
		TUP* v22;
		uint64_t v23 = mw_mirth_elab_skipZ_declZ_blockZBang(v11, v21, &v22);
		branch_Token_17 = v23;
		branch_ZPlusMirth_16 = v22;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_16;
	return branch_Token_17;
}
static uint64_t mw_mirth_elab_elabZ_minZ_mirthZ_revisionZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	mw_mirth_token_Token_argsZ_0(in_ZPlusMirth_1, in_Token_2, &v7);
	uint64_t v8 = mw_mirth_token_Token_succ(in_Token_2);
	TUP* v9;
	VAL v10 = mw_mirth_token_Token_intZAsk(v7, v8, &v9);
	TUP* v11;
	VAL v12;
	uint64_t v13 = mw_std_maybe_Maybe_1_elseZAsk_1_sp7(v9, v8, v10, &v11, &v12);
	VAL v14 = mw_mirth_version_mirthZ_revision();
	bool v15 = int_le(value_int(v12), value_int(v14));
	TUP* branch_ZPlusMirth_16;
	uint64_t branch_Token_17;
	if (v15) {
		uint64_t v18 = mw_mirth_token_Token_succ(v13);
		TUP* v19;
		uint64_t v20 = mw_mirth_elab_elabZ_declZ_blockZBang(v11, v18, &v19);
		branch_Token_17 = v20;
		branch_ZPlusMirth_16 = v19;
	} else {
		uint64_t v21 = mw_mirth_token_Token_succ(v13);
		TUP* v22;
		uint64_t v23 = mw_mirth_elab_skipZ_declZ_blockZBang(v11, v21, &v22);
		branch_Token_17 = v23;
		branch_ZPlusMirth_16 = v22;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_16;
	return branch_Token_17;
}
static uint64_t mw_mirth_elab_parseZ_def (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_SyntaxDef_5) {
	TUP* v6;
	mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_doc(v6, in_Token_2, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_token_Token_args(v7, in_Token_2, &v9);
	bool v11 = mw_std_list_List_1_emptyZAsk(v10);
	VAL branch_Maybe_12;
	uint64_t branch_Token_13;
	VAL branch_Maybe_14;
	TUP* branch_Nest_15;
	TUP* branch_ZPlusMirth_16;
	uint64_t branch_Token_17;
	if (v11) {
		TUP* v18;
		uint64_t v19 = mw_mirth_token_Token_next(v9, in_Token_2, &v18);
		TUP* v20;
		uint64_t v21 = mw_mirth_token_Token_next(v18, v19, &v20);
		TUP* v22;
		VAL v23 = mw_mirth_token_Token_lsquareZAsk(v20, v21, &v22);
		int64_t v24 = get_data_tag(v23);
		decref(v23);
		INT v25 = WRAP_I63(0LL);
		INT v26 = i64_to_int(v24);
		bool v27 = int_eq(v26, v25);
		bool v28 = !v27;
		VAL branch_Maybe_29;
		TUP* branch_ZPlusMirth_30;
		uint64_t branch_Token_31;
		if (v28) {
			TUP* v32;
			uint64_t v33 = mw_mirth_token_Token_argsZ_1(v22, v21, &v32);
			VAL v34 = mtw_std_maybe_Maybe_1_Some(MKU64(v33));
			TUP* v35;
			uint64_t v36 = mw_mirth_token_Token_next(v32, v21, &v35);
			branch_Token_31 = v36;
			branch_ZPlusMirth_30 = v35;
			branch_Maybe_29 = v34;
		} else {
			VAL v37 = MKI64(0LL /* None */);
			branch_Token_31 = v21;
			branch_ZPlusMirth_30 = v22;
			branch_Maybe_29 = v37;
		}
		TUP* v38;
		VAL v39 = mw_mirth_token_Token_lcurlyZAsk(branch_ZPlusMirth_30, branch_Token_31, &v38);
		int64_t v40 = get_data_tag(v39);
		decref(v39);
		INT v41 = WRAP_I63(0LL);
		INT v42 = i64_to_int(v40);
		bool v43 = int_eq(v42, v41);
		bool v44 = !v43;
		TUP* branch_ZPlusMirth_45;
		uint64_t branch_Token_46;
		if (v44) {
			branch_Token_46 = branch_Token_31;
			branch_ZPlusMirth_45 = v38;
		} else {
			STR* v47;
			STRLIT(v47, "expected { ... }", 16);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v38, branch_Token_31, v47);
		}
		TUP* v50;
		TUP* v51 = mw_mirth_token_Token_argsZPlus(branch_ZPlusMirth_45, branch_Token_46, &v50);
		TUP* v52;
		uint64_t v53 = mw_mirth_token_Token_next(v50, branch_Token_46, &v52);
		branch_Token_17 = v53;
		branch_ZPlusMirth_16 = v52;
		branch_Nest_15 = v51;
		branch_Maybe_14 = branch_Maybe_29;
		branch_Token_13 = v19;
		branch_Maybe_12 = v8;
	} else {
		TUP* v54;
		uint64_t v55 = mw_mirth_token_Token_next(v9, in_Token_2, &v54);
		TUP* v56;
		VAL v57 = mw_mirth_token_Token_args(v54, in_Token_2, &v56);
		incref(v57);
		INT v58 = mw_std_list_List_1_len(v57);
		INT v59 = WRAP_I63(3LL);
		bool v60 = int_lt(v58, v59);
		TUP* branch_ZPlusMirth_61;
		uint64_t branch_Token_62;
		VAL branch_z_x1_63;
		if (v60) {
			decref(v57);
			STR* v64;
			STRLIT(v64, "def(...) expects at least three arguments", 41);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v56, in_Token_2, v64);
		} else {
			branch_z_x1_63 = v57;
			branch_Token_62 = in_Token_2;
			branch_ZPlusMirth_61 = v56;
		}
		VAL v68 = mw_std_list_List_1_ZToNestZAsk(branch_z_x1_63);
		VAL v69 = mw_std_maybe_Maybe_1_unwrap_1_sp1(v68);
		VAL v70;
		VAL v71 = mw_std_list_Nest_1_uncons(value_tup(v69, 2), &v70);
		VAL v72 = mw_std_list_List_1_ZToNestZAsk(v70);
		VAL v73 = mw_std_maybe_Maybe_1_unwrap_1_sp1(v72);
		VAL v74;
		VAL v75 = mw_std_list_Nest_1_uncons(value_tup(v73, 2), &v74);
		VAL v76 = mtw_std_maybe_Maybe_1_Some(v75);
		VAL v77 = mw_std_list_List_1_ZToNestZAsk(v74);
		VAL v78 = mw_std_maybe_Maybe_1_unwrap_1_sp1(v77);
		incref(v71);
		TUP* v79;
		uint64_t v80 = mw_mirth_token_Token_next(branch_ZPlusMirth_61, value_u64(v71), &v79);
		TUP* v81;
		bool v82 = mw_mirth_token_Token_argZ_endZAsk(v79, v80, &v81);
		TUP* branch_ZPlusMirth_83;
		uint64_t branch_Token_84;
		if (v82) {
			branch_Token_84 = value_u64(v71);
			branch_ZPlusMirth_83 = v81;
		} else {
			incref(v71);
			TUP* v85;
			uint64_t v86 = mw_mirth_token_Token_next(v81, value_u64(v71), &v85);
			STR* v87;
			STRLIT(v87, "expected comma after word name", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v85, v86, v87);
		}
		branch_Token_17 = v55;
		branch_ZPlusMirth_16 = branch_ZPlusMirth_83;
		branch_Nest_15 = value_tup(v78, 2);
		branch_Maybe_14 = v76;
		branch_Token_13 = branch_Token_84;
		branch_Maybe_12 = v8;
	}
	VAL v89;
	VAL v90 = mw_std_list_Nest_1_uncons(branch_Nest_15, &v89);
	bool v91 = mw_std_list_List_1_emptyZAsk(v89);
	TUP* branch_ZPlusMirth_92;
	uint64_t branch_Token_93;
	bool branch_Bool_94;
	if (v91) {
		bool v95 = true;
		branch_Bool_94 = v95;
		branch_Token_93 = value_u64(v90);
		branch_ZPlusMirth_92 = branch_ZPlusMirth_16;
	} else {
		incref(v90);
		TUP* v96;
		VAL v97 = mw_mirth_token_Token_runZ_arrowZAsk(branch_ZPlusMirth_16, value_u64(v90), &v96);
		int64_t v98 = get_data_tag(v97);
		decref(v97);
		INT v99 = WRAP_I63(0LL);
		INT v100 = i64_to_int(v98);
		bool v101 = int_eq(v100, v99);
		bool v102 = !v101;
		branch_Bool_94 = v102;
		branch_Token_93 = value_u64(v90);
		branch_ZPlusMirth_92 = v96;
	}
	TUP* branch_ZPlusMirth_103;
	uint64_t branch_Token_104;
	if (branch_Bool_94) {
		branch_Token_104 = branch_Token_93;
		branch_ZPlusMirth_103 = branch_ZPlusMirth_92;
	} else {
		STR* v105;
		STRLIT(v105, "expected match case", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_92, branch_Token_93, v105);
	}
	TUP* v108 = mtw_mirth_elab_SyntaxDef_SyntaxDef(branch_Maybe_12, branch_Token_13, branch_Maybe_14, branch_Token_104);
	*out_SyntaxDef_5 = v108;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_103;
	return branch_Token_17;
}
static uint64_t mw_mirth_elab_elabZ_defZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6;
	uint64_t v7 = mw_mirth_elab_parseZ_def(in_ZPlusMirth_1, in_Token_2, &v5, &v6);
	VAL v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	mtp_mirth_elab_SyntaxDef_SyntaxDef(v6, &v8, &v9, &v10, &v11);
	TUP* v12;
	uint64_t v13;
	uint64_t v14;
	INT v15;
	VAL v16;
	mw_mirth_elab_elabZ_defZ_head(v5, v9, &v12, &v13, &v14, &v15, &v16);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_NewZBang(v12, v13, v10, v11, v14, v15, v8, &v17);
	VAL v19 = mtw_mirth_mirth_PropLabel_WordQName(v18);
	TUP* v20 = mtw_mirth_mirth_Prop_1_Prop(v19, v16);
	void* v21 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v18);
	mut_set(MKTUP(v20, 2), v21);
	bool v22 = value_bool(v17->cells[5]);
	void* v23 = field_mut(&mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk, v18);
	mut_set(MKBOOL(v22), v23);
	VAL v24 = mtw_mirth_mirth_PropLabel_WordType(v18);
	TUP* v25 = value_tup(v17->cells[6], 2);
	incref(MKTUP(v25, 2));
	FNPTR v26 = &mb_mirth_mirth_PropLabel_prop_1_sp45_1;
	VAL v27 = mtw_mirth_mirth_PropState_1_Delay(v25, MKU64(v18), MKFNPTR(v26));
	TUP* v28 = mtw_mirth_mirth_Prop_1_Prop(v24, v27);
	void* v29 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v18);
	mut_set(MKTUP(v28, 2), v29);
	VAL v30 = mtw_mirth_mirth_PropLabel_WordParams(v18);
	TUP* v31 = value_tup(v17->cells[6], 2);
	incref(MKTUP(v31, 2));
	FNPTR v32 = &mb_mirth_mirth_PropLabel_prop_1_sp46_0;
	VAL v33 = mtw_mirth_mirth_PropState_1_Delay(v31, MKU64(v18), MKFNPTR(v32));
	TUP* v34 = mtw_mirth_mirth_Prop_1_Prop(v30, v33);
	void* v35 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v18);
	mut_set(MKTUP(v34, 2), v35);
	VAL v36 = mtw_mirth_mirth_PropLabel_WordArrow(v18);
	TUP* v37 = value_tup(v17->cells[6], 2);
	incref(MKTUP(v37, 2));
	FNPTR v38 = &mb_mirth_mirth_PropLabel_prop_1_sp47_6;
	VAL v39 = mtw_mirth_mirth_PropState_1_Delay(v37, MKU64(v18), MKFNPTR(v38));
	TUP* v40 = mtw_mirth_mirth_Prop_1_Prop(v36, v39);
	void* v41 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v18);
	mut_set(MKTUP(v40, 2), v41);
	*out_ZPlusMirth_3 = v17;
	return v7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4) {
	VAL v5 = in_Arrow_3->cells[6];
	incref(v5);
	decref(MKTUP(in_Arrow_3, 7));
	bool v6 = true;
	TUP* v7 = in_ZPlusMirth_1;
	uint64_t v8 = in_Word_2;
	VAL v9 = v5;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		TUP* v12 = v7;
		uint64_t v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		uint64_t branch_Word_16;
		TUP* branch_ZPlusMirth_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				TUP* v22;
				mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang(v12, v13, value_tup(v21, 8), &v22);
				bool v23 = true;
				branch_Bool_19 = v23;
				branch_List_18 = v20;
				branch_ZPlusMirth_17 = v22;
				branch_Word_16 = v13;
			} break;
			case 0LL: { // Nil
				VAL v24 = MKI64(0LL /* Nil */);
				bool v25 = false;
				branch_Bool_19 = v25;
				branch_List_18 = v24;
				branch_ZPlusMirth_17 = v12;
				branch_Word_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_Word_16;
		v7 = branch_ZPlusMirth_17;
	}
	decref(v9);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4) {
	TUP* v5;
	bool v6 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Word_2, &v5);
	TUP* branch_ZPlusMirth_7;
	if (v6) {
		incref(MKTUP(in_Atom_3, 8));
		VAL v8 = in_Atom_3->cells[3];
		incref(v8);
		decref(MKTUP(in_Atom_3, 8));
		TUP* v9;
		mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang(v5, in_Word_2, v8, &v9);
		VAL v10 = in_Atom_3->cells[4];
		incref(v10);
		decref(MKTUP(in_Atom_3, 8));
		bool v11 = true;
		TUP* v12 = v9;
		uint64_t v13 = in_Word_2;
		VAL v14 = v10;
		bool v15 = v11;
		bool v16 = v11;
		while (v16) {
			TUP* v17 = v12;
			uint64_t v18 = v13;
			VAL v19 = v14;
			bool v20 = v15;
			uint64_t branch_Word_21;
			TUP* branch_ZPlusMirth_22;
			VAL branch_List_23;
			bool branch_Bool_24;
			switch (get_data_tag(v19)) {
				case 1LL: { // Cons
					VAL v25;
					VAL v26 = mtp_std_list_List_1_Cons(v19, &v25);
					TUP* v27;
					mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang(v17, v18, value_u64(v26), &v27);
					bool v28 = true;
					branch_Bool_24 = v28;
					branch_List_23 = v25;
					branch_ZPlusMirth_22 = v27;
					branch_Word_21 = v18;
				} break;
				case 0LL: { // Nil
					VAL v29 = MKI64(0LL /* Nil */);
					bool v30 = false;
					branch_Bool_24 = v30;
					branch_List_23 = v29;
					branch_ZPlusMirth_22 = v17;
					branch_Word_21 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v16 = branch_Bool_24;
			v15 = branch_Bool_24;
			v14 = branch_List_23;
			v13 = branch_Word_21;
			v12 = branch_ZPlusMirth_22;
		}
		decref(v14);
		branch_ZPlusMirth_7 = v12;
	} else {
		decref(MKTUP(in_Atom_3, 8));
		branch_ZPlusMirth_7 = v5;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4) {
	TUP* v5;
	TUP* v6 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Arg_3, &v5);
	TUP* v7;
	mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v5, in_Word_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, VAL in_Op_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_5;
	switch (get_data_tag(in_Op_3)) {
		case 11LL: { // BlockRun
			uint64_t v6 = mtp_mirth_arrow_Op_BlockRun(in_Op_3);
			TUP* v7;
			TUP* v8 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v6, &v7);
			TUP* v9;
			mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v7, in_Word_2, v8, &v9);
			branch_ZPlusMirth_5 = v9;
		} break;
		case 1LL: { // Word
			uint64_t v10 = mtp_mirth_arrow_Op_Word(in_Op_3);
			bool v11 = mw_mirth_word_Word_ZEqual(in_Word_2, v10);
			TUP* branch_ZPlusMirth_12;
			if (v11) {
				TUP* v13;
				mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang(in_ZPlusMirth_1, in_Word_2, &v13);
				branch_ZPlusMirth_12 = v13;
			} else {
				TUP* v14;
				bool v15 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, v10, &v14);
				TUP* branch_ZPlusMirth_16;
				if (v15) {
					void* v17 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v10);
					TUP* v18;
					VAL v19 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v14, v17, &v18);
					TUP* branch_ZPlusMirth_20;
					switch (get_data_tag(v19)) {
						case 1LL: { // Some
							VAL v21 = mtp_std_maybe_Maybe_1_Some(v19);
							TUP* v22;
							mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v18, in_Word_2, value_tup(v21, 7), &v22);
							branch_ZPlusMirth_20 = v22;
						} break;
						case 0LL: { // None
							TUP* v23;
							mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang(v18, in_Word_2, &v23);
							branch_ZPlusMirth_20 = v23;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusMirth_16 = branch_ZPlusMirth_20;
				} else {
					branch_ZPlusMirth_16 = v14;
				}
				branch_ZPlusMirth_12 = branch_ZPlusMirth_16;
			}
			branch_ZPlusMirth_5 = branch_ZPlusMirth_12;
		} break;
		case 7LL: { // Match
			TUP* v24 = mtp_mirth_arrow_Op_Match(in_Op_3);
			VAL v25 = v24->cells[6];
			incref(v25);
			decref(MKTUP(v24, 7));
			bool v26 = true;
			TUP* v27 = in_ZPlusMirth_1;
			uint64_t v28 = in_Word_2;
			VAL v29 = v25;
			bool v30 = v26;
			bool v31 = v26;
			while (v31) {
				TUP* v32 = v27;
				uint64_t v33 = v28;
				VAL v34 = v29;
				bool v35 = v30;
				uint64_t branch_Word_36;
				TUP* branch_ZPlusMirth_37;
				VAL branch_List_38;
				bool branch_Bool_39;
				switch (get_data_tag(v34)) {
					case 1LL: { // Cons
						VAL v40;
						VAL v41 = mtp_std_list_List_1_Cons(v34, &v40);
						TUP* v42 = value_tup(VTUP(v41)->cells[1], 7);
						incref(MKTUP(v42, 7));
						decref(v41);
						TUP* v43;
						mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v32, v33, v42, &v43);
						bool v44 = true;
						branch_Bool_39 = v44;
						branch_List_38 = v40;
						branch_ZPlusMirth_37 = v43;
						branch_Word_36 = v33;
					} break;
					case 0LL: { // Nil
						VAL v45 = MKI64(0LL /* Nil */);
						bool v46 = false;
						branch_Bool_39 = v46;
						branch_List_38 = v45;
						branch_ZPlusMirth_37 = v32;
						branch_Word_36 = v33;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v31 = branch_Bool_39;
				v30 = branch_Bool_39;
				v29 = branch_List_38;
				v28 = branch_Word_36;
				v27 = branch_ZPlusMirth_37;
			}
			decref(v29);
			branch_ZPlusMirth_5 = v27;
		} break;
		case 8LL: { // Lambda
			TUP* v47 = mtp_mirth_arrow_Op_Lambda(in_Op_3);
			TUP* v48 = value_tup(v47->cells[4], 7);
			incref(MKTUP(v48, 7));
			decref(MKTUP(v47, 5));
			TUP* v49;
			mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(in_ZPlusMirth_1, in_Word_2, v48, &v49);
			branch_ZPlusMirth_5 = v49;
		} break;
		default: {
			decref(in_Op_3);
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_5;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	bool v5 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Word_2, &v4);
	TUP* branch_ZPlusMirth_6;
	if (v5) {
		bool v7 = false;
		void* v8 = field_mut(&mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk, in_Word_2);
		mut_set(MKBOOL(v7), v8);
		TUP* v9;
		uint64_t v10 = mw_mirth_word_Word_head(v4, in_Word_2, &v9);
		STR* v11;
		STRLIT(v11, "recursive word cannot be inlined", 32);
		TUP* v12;
		mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(v9, v10, v11, &v12);
		branch_ZPlusMirth_6 = v12;
	} else {
		branch_ZPlusMirth_6 = v4;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
}
static VAL mw_mirth_elab_elabZ_defZ_paramsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	TUP* v6;
	TUP* v7 = mw_mirth_word_Word_type(in_ZPlusMirth_1, in_Word_2, &v6);
	TUP* v8;
	uint64_t v9 = mw_mirth_word_Word_head(v6, in_Word_2, &v8);
	VAL v10;
	VAL v11;
	mtp_mirth_type_ArrowType_ArrowType(v7, &v10, &v11);
	decref(v11);
	TUP* v12;
	VAL v13 = mw_mirth_token_Token_args(v8, v9, &v12);
	VAL v14 = mw_std_list_List_1_reverse(v13);
	bool v15 = true;
	VAL v16 = v5;
	VAL v17 = v10;
	TUP* v18 = v12;
	VAL v19 = v14;
	bool v20 = v15;
	bool v21 = v15;
	while (v21) {
		VAL v22 = v16;
		VAL v23 = v17;
		TUP* v24 = v18;
		VAL v25 = v19;
		bool v26 = v20;
		TUP* branch_ZPlusMirth_27;
		VAL branch_List_28;
		VAL branch_StackType_29;
		VAL branch_List_30;
		bool branch_Bool_31;
		switch (get_data_tag(v25)) {
			case 1LL: { // Cons
				VAL v32;
				VAL v33 = mtp_std_list_List_1_Cons(v25, &v32);
				incref(v33);
				TUP* v34;
				VAL v35 = mw_mirth_token_Token_sigZ_paramZ_nameZAsk(v24, value_u64(v33), &v34);
				TUP* branch_ZPlusMirth_36;
				uint64_t branch_Token_37;
				VAL branch_z_x1_38;
				switch (get_data_tag(v35)) {
					case 1LL: { // Some
						VAL v39 = mtp_std_maybe_Maybe_1_Some(v35);
						branch_z_x1_38 = v39;
						branch_Token_37 = value_u64(v33);
						branch_ZPlusMirth_36 = v34;
					} break;
					case 0LL: { // None
						STR* v40;
						STRLIT(v40, "expected parameter name", 23);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v34, value_u64(v33), v40);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				uint64_t v44 = mw_mirth_token_Token_succ(branch_Token_37);
				TUP* v45;
				bool v46 = mw_mirth_token_Token_runZ_endZAsk(branch_ZPlusMirth_36, v44, &v45);
				VAL branch_List_47;
				VAL branch_StackType_48;
				uint64_t branch_Name_49;
				uint64_t branch_Token_50;
				TUP* branch_ZPlusMirth_51;
				VAL branch_Maybe_52;
				if (v46) {
					VAL v53 = MKI64(0LL /* None */);
					branch_Maybe_52 = v53;
					branch_ZPlusMirth_51 = v45;
					branch_Token_50 = branch_Token_37;
					branch_Name_49 = value_u64(branch_z_x1_38);
					branch_StackType_48 = v23;
					branch_List_47 = v22;
				} else {
					TUP* v54;
					VAL v55 = mw_mirth_token_Token_lcurlyZAsk(v45, v44, &v54);
					int64_t v56 = get_data_tag(v55);
					decref(v55);
					INT v57 = WRAP_I63(0LL);
					INT v58 = i64_to_int(v56);
					bool v59 = int_eq(v58, v57);
					bool v60 = !v59;
					VAL branch_Maybe_61;
					TUP* branch_ZPlusMirth_62;
					if (v60) {
						uint64_t v63 = mw_mirth_token_Token_succ(v44);
						VAL v64 = mtw_std_maybe_Maybe_1_Some(MKU64(v63));
						TUP* v65;
						uint64_t v66 = mw_mirth_token_Token_next(v54, v44, &v65);
						TUP* v67;
						bool v68 = mw_mirth_token_Token_runZ_endZAsk(v65, v66, &v67);
						VAL branch_Maybe_69;
						TUP* branch_ZPlusMirth_70;
						if (v68) {
							branch_ZPlusMirth_70 = v67;
							branch_Maybe_69 = v64;
						} else {
							STR* v71;
							STRLIT(v71, "expected right paren or comma", 29);
							mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v67, v66, v71);
						}
						branch_ZPlusMirth_62 = branch_ZPlusMirth_70;
						branch_Maybe_61 = branch_Maybe_69;
					} else {
						STR* v73;
						STRLIT(v73, "expected right paren, left curly, or comma", 42);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v54, v44, v73);
					}
					branch_Maybe_52 = branch_Maybe_61;
					branch_ZPlusMirth_51 = branch_ZPlusMirth_62;
					branch_Token_50 = branch_Token_37;
					branch_Name_49 = value_u64(branch_z_x1_38);
					branch_StackType_48 = v23;
					branch_List_47 = v22;
				}
				TUP* v76;
				VAL v77;
				uint64_t v78;
				VAL v79 = mw_mirth_elab_elabZ_expandZ_tensorZBang(branch_ZPlusMirth_51, branch_StackType_48, branch_Token_50, &v76, &v77, &v78);
				TUP* v80;
				VAL v81 = mw_mirth_type_Type_arrowZAsk(v76, v77, &v80);
				TUP* branch_ZPlusMirth_82;
				uint64_t branch_Token_83;
				VAL branch_z_x1_84;
				switch (get_data_tag(v81)) {
					case 1LL: { // Some
						VAL v85 = mtp_std_maybe_Maybe_1_Some(v81);
						branch_z_x1_84 = v85;
						branch_Token_83 = v78;
						branch_ZPlusMirth_82 = v80;
					} break;
					case 0LL: { // None
						STR* v86;
						STRLIT(v86, "need function type for param", 28);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v80, v78, v86);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				TUP* v90;
				uint64_t v91 = mw_mirth_var_Var_NewAutoRunZBang(branch_ZPlusMirth_82, value_tup(branch_z_x1_84, 2), branch_Name_49, &v90);
				TUP* v92 = mtw_mirth_word_Param_Param(v91, branch_Maybe_52);
				VAL v93 = mw_std_list_List_1_cons(MKTUP(v92, 2), branch_List_47);
				bool v94 = true;
				branch_Bool_31 = v94;
				branch_List_30 = v32;
				branch_StackType_29 = v79;
				branch_List_28 = v93;
				branch_ZPlusMirth_27 = v90;
			} break;
			case 0LL: { // Nil
				VAL v95 = MKI64(0LL /* Nil */);
				bool v96 = false;
				branch_Bool_31 = v96;
				branch_List_30 = v95;
				branch_StackType_29 = v23;
				branch_List_28 = v22;
				branch_ZPlusMirth_27 = v24;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_31;
		v20 = branch_Bool_31;
		v19 = branch_List_30;
		v18 = branch_ZPlusMirth_27;
		v17 = branch_StackType_29;
		v16 = branch_List_28;
	}
	decref(v19);
	decref(v17);
	*out_ZPlusMirth_3 = v18;
	return v16;
}
static VAL mw_mirth_elab_elabZ_defZ_bodyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v7;
	uint64_t v8 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(in_ZPlusAB_2, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_token_Token_runZ_arrowZAsk(in_ZPlusMirth_1, v8, &v9);
	int64_t v11 = get_data_tag(v10);
	decref(v10);
	INT v12 = WRAP_I63(0LL);
	INT v13 = i64_to_int(v11);
	bool v14 = int_eq(v13, v12);
	bool v15 = !v14;
	TUP* branch_ZPlusMirth_16;
	TUP* branch_ZPlusAB_17;
	bool branch_Bool_18;
	if (v15) {
		bool v19 = true;
		branch_Bool_18 = v19;
		branch_ZPlusAB_17 = v7;
		branch_ZPlusMirth_16 = v9;
	} else {
		TUP* v20;
		uint64_t v21 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v20);
		TUP* v22;
		VAL v23 = mw_mirth_token_Token_lcurlyZAsk(v9, v21, &v22);
		int64_t v24 = get_data_tag(v23);
		decref(v23);
		INT v25 = WRAP_I63(0LL);
		INT v26 = i64_to_int(v24);
		bool v27 = int_eq(v26, v25);
		bool v28 = !v27;
		branch_Bool_18 = v28;
		branch_ZPlusAB_17 = v20;
		branch_ZPlusMirth_16 = v22;
	}
	VAL branch_StackType_29;
	TUP* branch_ZPlusMirth_30;
	TUP* branch_ZPlusAB_31;
	if (branch_Bool_18) {
		incref(in_StackType_3);
		TUP* v32;
		uint64_t v33 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(branch_ZPlusAB_17, &v32);
		TUP* v34;
		TUP* v35;
		mw_mirth_elab_ZPlusAB_elabZ_matchZ_atZBang(branch_ZPlusMirth_16, v32, in_StackType_3, v33, &v34, &v35);
		branch_ZPlusAB_31 = v35;
		branch_ZPlusMirth_30 = v34;
		branch_StackType_29 = in_StackType_3;
	} else {
		TUP* v36;
		TUP* v37;
		mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(branch_ZPlusMirth_16, branch_ZPlusAB_17, &v36, &v37);
		branch_ZPlusAB_31 = v37;
		branch_ZPlusMirth_30 = v36;
		branch_StackType_29 = in_StackType_3;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_31;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_30;
	return branch_StackType_29;
}
static uint64_t mw_mirth_elab_parseZ_externalZ_decl (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5, VAL *out_Maybe_6) {
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v7);
	uint64_t v9 = mw_mirth_token_Token_succ(in_Token_2);
	TUP* v10;
	INT v11 = mw_mirth_token_Token_numZ_args(v7, v9, &v10);
	INT v12 = WRAP_I63(0LL);
	bool v13 = int_lt(v12, v11);
	TUP* branch_ZPlusMirth_14;
	uint64_t branch_Token_15;
	bool branch_Bool_16;
	if (v13) {
		bool v17 = true;
		branch_Bool_16 = v17;
		branch_Token_15 = v9;
		branch_ZPlusMirth_14 = v10;
	} else {
		TUP* v18;
		VAL v19 = mw_mirth_token_Token_lcurlyZAsk(v10, v9, &v18);
		int64_t v20 = get_data_tag(v19);
		decref(v19);
		INT v21 = WRAP_I63(0LL);
		INT v22 = i64_to_int(v20);
		bool v23 = int_eq(v22, v21);
		bool v24 = !v23;
		branch_Bool_16 = v24;
		branch_Token_15 = v9;
		branch_ZPlusMirth_14 = v18;
	}
	VAL branch_Maybe_25;
	TUP* branch_ZPlusMirth_26;
	uint64_t branch_Token_27;
	VAL branch_List_28;
	if (branch_Bool_16) {
		VAL v29 = MKI64(0LL /* Nil */);
		VAL v30;
		mw_std_list_List_1_buildZBang(v29, &v30);
		uint64_t v31 = mw_mirth_token_Token_succ(branch_Token_15);
		TUP* v32;
		bool v33 = mw_mirth_token_Token_argsZ_endZAsk(branch_ZPlusMirth_14, v31, &v32);
		bool v34 = !v33;
		uint64_t v35 = v31;
		TUP* v36 = v32;
		VAL v37 = v30;
		bool v38 = v34;
		while (v38) {
			uint64_t v39 = v35;
			TUP* v40 = v36;
			VAL v41 = v37;
			TUP* v42;
			VAL v43;
			uint64_t v44 = mw_mirth_elab_parseZ_externalZ_declZ_part(v40, v39, &v42, &v43);
			VAL v45;
			mw_std_list_ZPlusLister_1_pushZBang(v43, v41, &v45);
			TUP* v46;
			bool v47 = mw_mirth_token_Token_argsZ_endZAsk(v42, v44, &v46);
			bool v48 = !v47;
			v38 = v48;
			v37 = v45;
			v36 = v46;
			v35 = v44;
		}
		uint64_t v49 = mw_mirth_token_Token_succ(v35);
		VAL v50 = mw_std_list_ZPlusLister_1_doneZBang(v37);
		branch_List_28 = v50;
		branch_Token_27 = v49;
		branch_ZPlusMirth_26 = v36;
		branch_Maybe_25 = v8;
	} else {
		TUP* v51;
		VAL v52;
		uint64_t v53 = mw_mirth_elab_parseZ_externalZ_declZ_word(branch_ZPlusMirth_14, branch_Token_15, v8, &v51, &v52);
		VAL v54 = MKI64(0LL /* Nil */);
		VAL v55 = mw_std_list_List_1_cons(v52, v54);
		VAL v56 = MKI64(0LL /* None */);
		branch_List_28 = v55;
		branch_Token_27 = v53;
		branch_ZPlusMirth_26 = v51;
		branch_Maybe_25 = v56;
	}
	*out_Maybe_6 = branch_Maybe_25;
	*out_List_5 = branch_List_28;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_26;
	return branch_Token_27;
}
static uint64_t mw_mirth_elab_parseZ_externalZ_declZ_part (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_ExternalDeclPart_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_strZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	VAL branch_ExternalDeclPart_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			uint64_t v12 = mw_mirth_token_Token_succ(in_Token_2);
			VAL v13 = mtw_mirth_elab_ExternalDeclPart_EDPCode(in_Token_2, value_str(v11));
			branch_ExternalDeclPart_10 = v13;
			branch_Token_9 = v12;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 0LL: { // None
			TUP* v14;
			VAL v15 = mw_mirth_token_Token_doc(v6, in_Token_2, &v14);
			TUP* v16;
			VAL v17;
			uint64_t v18 = mw_mirth_elab_parseZ_externalZ_declZ_word(v14, in_Token_2, v15, &v16, &v17);
			branch_ExternalDeclPart_10 = v17;
			branch_Token_9 = v18;
			branch_ZPlusMirth_8 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v19;
	bool v20 = mw_mirth_token_Token_commaZAsk(branch_ZPlusMirth_8, branch_Token_9, &v19);
	uint64_t branch_Token_21;
	if (v20) {
		uint64_t v22 = mw_mirth_token_Token_succ(branch_Token_9);
		branch_Token_21 = v22;
	} else {
		branch_Token_21 = branch_Token_9;
	}
	*out_ExternalDeclPart_5 = branch_ExternalDeclPart_10;
	*out_ZPlusMirth_3 = v19;
	return branch_Token_21;
}
static uint64_t mw_mirth_elab_parseZ_externalZ_declZ_word (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, VAL *out_ExternalDeclPart_6) {
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_nameZDivdnameZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	TUP* branch_ZPlusMirth_14;
	uint64_t branch_Token_15;
	if (v13) {
		branch_Token_15 = in_Token_2;
		branch_ZPlusMirth_14 = v7;
	} else {
		STR* v16;
		STRLIT(v16, "expected external word name", 27);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v7, in_Token_2, v16);
	}
	uint64_t v19 = mw_mirth_token_Token_succ(branch_Token_15);
	TUP* v20;
	bool v21 = mw_mirth_token_Token_arrowZAsk(branch_ZPlusMirth_14, v19, &v20);
	VAL branch_Maybe_22;
	uint64_t branch_Token_23;
	TUP* branch_ZPlusMirth_24;
	VAL branch_Maybe_25;
	uint64_t branch_Token_26;
	if (v21) {
		uint64_t v27 = mw_mirth_token_Token_succ(v19);
		TUP* v28;
		VAL v29 = mw_mirth_token_Token_nameZAsk(v20, v27, &v28);
		int64_t v30 = get_data_tag(v29);
		decref(v29);
		INT v31 = WRAP_I63(0LL);
		INT v32 = i64_to_int(v30);
		bool v33 = int_eq(v32, v31);
		bool v34 = !v33;
		TUP* branch_ZPlusMirth_35;
		uint64_t branch_Token_36;
		if (v34) {
			branch_Token_36 = v27;
			branch_ZPlusMirth_35 = v28;
		} else {
			STR* v37;
			STRLIT(v37, "expected external symbol name", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v28, v27, v37);
		}
		VAL v40 = mtw_std_maybe_Maybe_1_Some(MKU64(branch_Token_36));
		uint64_t v41 = mw_mirth_token_Token_succ(branch_Token_36);
		branch_Token_26 = v41;
		branch_Maybe_25 = v40;
		branch_ZPlusMirth_24 = branch_ZPlusMirth_35;
		branch_Token_23 = in_Token_2;
		branch_Maybe_22 = in_Maybe_3;
	} else {
		VAL v42 = MKI64(0LL /* None */);
		branch_Token_26 = v19;
		branch_Maybe_25 = v42;
		branch_ZPlusMirth_24 = v20;
		branch_Token_23 = in_Token_2;
		branch_Maybe_22 = in_Maybe_3;
	}
	TUP* v43;
	VAL v44 = mw_mirth_token_Token_lsquareZAsk(branch_ZPlusMirth_24, branch_Token_26, &v43);
	int64_t v45 = get_data_tag(v44);
	decref(v44);
	INT v46 = WRAP_I63(0LL);
	INT v47 = i64_to_int(v45);
	bool v48 = int_eq(v47, v46);
	bool v49 = !v48;
	uint64_t branch_Token_50;
	TUP* branch_ZPlusMirth_51;
	uint64_t branch_Token_52;
	if (v49) {
		TUP* v53;
		uint64_t v54 = mw_mirth_token_Token_argsZ_1(v43, branch_Token_26, &v53);
		TUP* v55;
		uint64_t v56 = mw_mirth_token_Token_next(v53, branch_Token_26, &v55);
		branch_Token_52 = v56;
		branch_ZPlusMirth_51 = v55;
		branch_Token_50 = v54;
	} else {
		TUP* v57;
		bool v58 = mw_mirth_token_Token_commaZAsk(v43, branch_Token_26, &v57);
		TUP* branch_ZPlusMirth_59;
		uint64_t branch_Token_60;
		if (v58) {
			branch_Token_60 = branch_Token_26;
			branch_ZPlusMirth_59 = v57;
		} else {
			STR* v61;
			STRLIT(v61, "expected type signature", 23);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v57, branch_Token_26, v61);
		}
		uint64_t v64 = mw_mirth_token_Token_succ(branch_Token_60);
		TUP* v65;
		bool v66 = mw_mirth_token_Token_argZ_endZAsk(branch_ZPlusMirth_59, v64, &v65);
		TUP* branch_ZPlusMirth_67;
		uint64_t branch_Token_68;
		if (v66) {
			STR* v69;
			STRLIT(v69, "expected type signature", 23);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v65, v64, v69);
		} else {
			branch_Token_68 = v64;
			branch_ZPlusMirth_67 = v65;
		}
		TUP* v72;
		uint64_t v73 = mw_mirth_token_Token_nextZ_argZ_end(branch_ZPlusMirth_67, branch_Token_68, &v72);
		branch_Token_52 = v73;
		branch_ZPlusMirth_51 = v72;
		branch_Token_50 = branch_Token_68;
	}
	VAL v74 = mtw_mirth_elab_ExternalDeclPart_EDPDef(branch_Maybe_22, branch_Token_23, branch_Maybe_25, branch_Token_50);
	*out_ExternalDeclPart_6 = v74;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_51;
	return branch_Token_52;
}
static uint64_t mw_mirth_elab_elabZ_externalZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6;
	VAL v7;
	uint64_t v8 = mw_mirth_elab_parseZ_externalZ_decl(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10;
	mw_std_list_List_1_buildZBang(v9, &v10);
	bool v11 = true;
	TUP* v12 = v5;
	VAL v13 = v10;
	VAL v14 = v6;
	bool v15 = v11;
	bool v16 = v11;
	while (v16) {
		TUP* v17 = v12;
		VAL v18 = v13;
		VAL v19 = v14;
		bool v20 = v15;
		TUP* branch_ZPlusMirth_21;
		VAL branch_ZPlusLister_22;
		VAL branch_List_23;
		bool branch_Bool_24;
		switch (get_data_tag(v19)) {
			case 1LL: { // Cons
				VAL v25;
				VAL v26 = mtp_std_list_List_1_Cons(v19, &v25);
				TUP* v27;
				VAL v28 = mw_mirth_elab_elabZ_externalZ_blockZ_partZBang(v17, v26, &v27);
				VAL v29;
				mw_std_list_ZPlusLister_1_pushZBang(v28, v18, &v29);
				bool v30 = true;
				branch_Bool_24 = v30;
				branch_List_23 = v25;
				branch_ZPlusLister_22 = v29;
				branch_ZPlusMirth_21 = v27;
			} break;
			case 0LL: { // Nil
				VAL v31 = MKI64(0LL /* Nil */);
				bool v32 = false;
				branch_Bool_24 = v32;
				branch_List_23 = v31;
				branch_ZPlusLister_22 = v18;
				branch_ZPlusMirth_21 = v17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_24;
		v15 = branch_Bool_24;
		v14 = branch_List_23;
		v13 = branch_ZPlusLister_22;
		v12 = branch_ZPlusMirth_21;
	}
	decref(v14);
	VAL v33 = mw_std_list_ZPlusLister_1_doneZBang(v13);
	uint64_t v34 = mw_mirth_external_ExternalBlock_allocZBang();
	void* v35 = field_mut(&mfld_mirth_external_ExternalBlock_ZTildedoc, v34);
	mut_set(v7, v35);
	void* v36 = field_mut(&mfld_mirth_external_ExternalBlock_ZTildetoken, v34);
	mut_set(MKU64(in_Token_2), v36);
	void* v37 = field_mut(&mfld_mirth_external_ExternalBlock_ZTildeparts, v34);
	mut_set(v33, v37);
	*out_ZPlusMirth_3 = v12;
	return v8;
}
static VAL mw_mirth_elab_elabZ_externalZ_blockZ_partZBang (TUP* in_ZPlusMirth_1, VAL in_ExternalDeclPart_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_ExternalBlockPart_6;
	switch (get_data_tag(in_ExternalDeclPart_2)) {
		case 0LL: { // EDPCode
			uint64_t v7;
			STR* v8;
			mtp_mirth_elab_ExternalDeclPart_EDPCode(in_ExternalDeclPart_2, &v7, &v8);
			VAL v9 = mtw_mirth_external_ExternalBlockPart_EBPCode(v8);
			branch_ExternalBlockPart_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // EDPDef
			VAL v10;
			uint64_t v11;
			VAL v12;
			uint64_t v13;
			mtp_mirth_elab_ExternalDeclPart_EDPDef(in_ExternalDeclPart_2, &v10, &v11, &v12, &v13);
			TUP* v14;
			uint64_t v15 = mw_mirth_elab_elabZ_externalZ_defZBang(in_ZPlusMirth_1, v10, v11, v12, v13, &v14);
			VAL v16 = mtw_mirth_external_ExternalBlockPart_EBPDef(v15);
			branch_ExternalBlockPart_6 = v16;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_ExternalBlockPart_6;
}
static uint64_t mw_mirth_elab_elabZ_externalZ_defZBang (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Token_3, VAL in_Maybe_4, uint64_t in_Token_5, TUP* *out_ZPlusMirth_6) {
	TUP* v8;
	uint64_t v9;
	uint64_t v10;
	INT v11;
	VAL v12;
	mw_mirth_elab_elabZ_defZ_head(in_ZPlusMirth_1, in_Token_3, &v8, &v9, &v10, &v11, &v12);
	TUP* branch_ZPlusMirth_13;
	VAL branch_Maybe_14;
	switch (get_data_tag(in_Maybe_4)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(in_Maybe_4);
			TUP* v16;
			VAL v17 = mw_mirth_token_Token_nameZAsk(v8, value_u64(v15), &v16);
			branch_Maybe_14 = v17;
			branch_ZPlusMirth_13 = v16;
		} break;
		case 0LL: { // None
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_14 = v18;
			branch_ZPlusMirth_13 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_z_x1_19;
	VAL branch_z_x1_20;
	switch (get_data_tag(branch_Maybe_14)) {
		case 1LL: { // Some
			VAL v21 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_14);
			branch_z_x1_20 = v21;
			branch_z_x1_19 = MKU64(v10);
		} break;
		case 0LL: { // None
			branch_z_x1_20 = MKU64(v10);
			branch_z_x1_19 = MKU64(v10);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v22;
	STR* v23 = mw_mirth_name_Name_ZToStr(branch_ZPlusMirth_13, value_u64(branch_z_x1_20), &v22);
	uint64_t v24 = mw_mirth_external_External_allocZBang();
	void* v25 = field_mut(&mfld_mirth_external_External_ZTildedoc, v24);
	mut_set(in_Maybe_2, v25);
	void* v26 = field_mut(&mfld_mirth_external_External_ZTildename, v24);
	mut_set(branch_z_x1_19, v26);
	void* v27 = field_mut(&mfld_mirth_external_External_ZTildearity, v24);
	mut_set(MKINT(v11), v27);
	VAL v28 = mtw_mirth_mirth_PropLabel_ExternalQName(v24);
	TUP* v29 = mtw_mirth_mirth_Prop_1_Prop(v28, v12);
	void* v30 = field_mut(&mfld_mirth_external_External_ZTildeqname, v24);
	mut_set(MKTUP(v29, 2), v30);
	void* v31 = field_mut(&mfld_mirth_external_External_ZTildesymbol, v24);
	mut_set(MKSTR(v23), v31);
	void* v32 = field_mut(&mfld_mirth_external_External_ZTildesig, v24);
	mut_set(MKU64(in_Token_5), v32);
	void* v33 = field_mut(&mfld_mirth_external_External_ZTildehead, v24);
	mut_set(MKU64(v9), v33);
	VAL v34 = mtw_mirth_mirth_PropLabel_ExternalType(v24);
	TUP* v35 = value_tup(v22->cells[6], 2);
	incref(MKTUP(v35, 2));
	FNPTR v36 = &mb_mirth_mirth_PropLabel_prop_1_sp42_1;
	VAL v37 = mtw_mirth_mirth_PropState_1_Delay(v35, MKU64(v24), MKFNPTR(v36));
	TUP* v38 = mtw_mirth_mirth_Prop_1_Prop(v34, v37);
	void* v39 = field_mut(&mfld_mirth_external_External_ZTildectxZ_type, v24);
	mut_set(MKTUP(v38, 2), v39);
	VAL v40 = mtw_mirth_mirth_PropLabel_ExternalCType(v24);
	TUP* v41 = value_tup(v22->cells[6], 2);
	incref(MKTUP(v41, 2));
	FNPTR v42 = &mb_mirth_mirth_PropLabel_prop_1_sp43_0;
	VAL v43 = mtw_mirth_mirth_PropState_1_Delay(v41, MKU64(v24), MKFNPTR(v42));
	TUP* v44 = mtw_mirth_mirth_Prop_1_Prop(v40, v43);
	void* v45 = field_mut(&mfld_mirth_external_External_ZTildectype, v24);
	mut_set(MKTUP(v44, 2), v45);
	VAL v46 = mtw_mirth_def_Def_External(v24);
	TUP* v47;
	mw_mirth_def_Def_register(v22, v46, &v47);
	*out_ZPlusMirth_6 = v47;
	return v24;
}
static TUP* mw_mirth_elab_elabZ_externalZ_ctype (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_external_External_head(in_ZPlusMirth_1, in_External_2, &v5);
	TUP* v7 = value_tup(v5->cells[6], 2);
	incref(MKTUP(v7, 2));
	incref(MKTUP(v7, 2));
	VAL v8 = v7->cells[0];
	incref(v8);
	decref(MKTUP(v7, 2));
	VAL v9 = mtw_std_maybe_Maybe_1_Some(MKU64(v6));
	VAL v10 = tup_replace(MKTUP(v7, 2), 0, v9);
	TUP* v11 = value_tup(v5->cells[6], 2);
	decref(MKTUP(v11, 2));
	v5->cells[6] = v10;
	TUP* v12;
	TUP* v13 = mw_mirth_external_External_type(v5, in_External_2, &v12);
	TUP* v14;
	TUP* v15 = mw_mirth_type_ArrowType_ctype(v12, v13, &v14);
	incref(MKTUP(v15, 2));
	TUP* v16 = value_tup(v15->cells[1], 2);
	incref(MKTUP(v16, 2));
	decref(MKTUP(v15, 2));
	VAL v17 = v16->cells[1];
	incref(v17);
	decref(MKTUP(v16, 2));
	VAL v18 = MKI64(0LL /* Nil */);
	VAL v19;
	mw_std_list_List_1_buildZBang(v18, &v19);
	bool v20 = true;
	VAL v21 = v19;
	VAL v22 = v17;
	bool v23 = v20;
	bool v24 = v20;
	while (v24) {
		VAL v25 = v21;
		VAL v26 = v22;
		bool v27 = v23;
		VAL branch_ZPlusLister_28;
		VAL branch_List_29;
		bool branch_Bool_30;
		switch (get_data_tag(v26)) {
			case 1LL: { // Cons
				VAL v31;
				VAL v32 = mtp_std_list_List_1_Cons(v26, &v31);
				incref(v32);
				incref(v32);
				VAL v33 = mw_mirth_type_CTypeStackPart_labelZAsk(v32);
				int64_t v34 = get_data_tag(v33);
				decref(v33);
				INT v35 = WRAP_I63(0LL);
				INT v36 = i64_to_int(v34);
				bool v37 = int_eq(v36, v35);
				VAL v38 = mw_mirth_type_CTypeStackPart_ctype(v32);
				bool v39 = mw_mirth_type_CType_phantomZAsk(v38);
				bool v40 = !v39;
				bool v41 = (v37 && v40);
				VAL branch_ZPlusLister_42;
				if (v41) {
					VAL v43;
					mw_std_list_ZPlusLister_1_pushZBang(v32, v25, &v43);
					branch_ZPlusLister_42 = v43;
				} else {
					decref(v32);
					branch_ZPlusLister_42 = v25;
				}
				bool v44 = true;
				branch_Bool_30 = v44;
				branch_List_29 = v31;
				branch_ZPlusLister_28 = branch_ZPlusLister_42;
			} break;
			case 0LL: { // Nil
				VAL v45 = MKI64(0LL /* Nil */);
				bool v46 = false;
				branch_Bool_30 = v46;
				branch_List_29 = v45;
				branch_ZPlusLister_28 = v25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_30;
		v23 = branch_Bool_30;
		v22 = branch_List_29;
		v21 = branch_ZPlusLister_28;
	}
	decref(v22);
	VAL v47 = mw_std_list_ZPlusLister_1_doneZBang(v21);
	INT v48 = mw_std_list_List_1_len(v47);
	INT v49 = WRAP_I63(1LL);
	bool v50 = int_lt(v49, v48);
	TUP* branch_ZPlusMirth_51;
	if (v50) {
		STR* v52;
		STRLIT(v52, "External has too many outputs.", 30);
		TUP* v53;
		mw_mirth_mirth_ZPlusMirth_errorZBang(v14, v52, &v53);
		branch_ZPlusMirth_51 = v53;
	} else {
		branch_ZPlusMirth_51 = v14;
	}
	incref(MKTUP(v15, 2));
	TUP* v54 = value_tup(v15->cells[0], 2);
	incref(MKTUP(v54, 2));
	decref(MKTUP(v15, 2));
	VAL v55 = v54->cells[1];
	incref(v55);
	decref(MKTUP(v54, 2));
	VAL v56 = mw_std_list_List_1_filterZ_some_1_sp6(v55);
	incref(MKTUP(v15, 2));
	TUP* v57 = value_tup(v15->cells[1], 2);
	incref(MKTUP(v57, 2));
	decref(MKTUP(v15, 2));
	VAL v58 = v57->cells[1];
	incref(v58);
	decref(MKTUP(v57, 2));
	VAL v59 = mw_std_list_List_1_filterZ_some_1_sp6(v58);
	VAL v60 = MKI64(0LL /* Nil */);
	VAL v61;
	mw_std_list_List_1_buildZBang(v60, &v61);
	bool v62 = true;
	VAL v63 = v56;
	VAL v64 = v61;
	VAL v65 = v59;
	bool v66 = v62;
	bool v67 = v62;
	while (v67) {
		VAL v68 = v63;
		VAL v69 = v64;
		VAL v70 = v65;
		bool v71 = v66;
		VAL branch_List_72;
		VAL branch_ZPlusLister_73;
		VAL branch_List_74;
		bool branch_Bool_75;
		switch (get_data_tag(v70)) {
			case 1LL: { // Cons
				VAL v76;
				VAL v77 = mtp_std_list_List_1_Cons(v70, &v76);
				incref(v77);
				incref(v68);
				bool v78 = mw_std_list_List_1_member_sp6(value_u64(v77), v68);
				bool v79 = !v78;
				VAL branch_List_80;
				VAL branch_ZPlusLister_81;
				if (v79) {
					VAL v82;
					mw_std_list_ZPlusLister_1_pushZBang(v77, v69, &v82);
					branch_ZPlusLister_81 = v82;
					branch_List_80 = v68;
				} else {
					decref(v77);
					branch_ZPlusLister_81 = v69;
					branch_List_80 = v68;
				}
				bool v83 = true;
				branch_Bool_75 = v83;
				branch_List_74 = v76;
				branch_ZPlusLister_73 = branch_ZPlusLister_81;
				branch_List_72 = branch_List_80;
			} break;
			case 0LL: { // Nil
				VAL v84 = MKI64(0LL /* Nil */);
				bool v85 = false;
				branch_Bool_75 = v85;
				branch_List_74 = v84;
				branch_ZPlusLister_73 = v69;
				branch_List_72 = v68;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v67 = branch_Bool_75;
		v66 = branch_Bool_75;
		v65 = branch_List_74;
		v64 = branch_ZPlusLister_73;
		v63 = branch_List_72;
	}
	decref(v65);
	VAL v86 = mw_std_list_ZPlusLister_1_doneZBang(v64);
	decref(v63);
	bool v87 = true;
	TUP* v88 = branch_ZPlusMirth_51;
	VAL v89 = v86;
	bool v90 = v87;
	bool v91 = v87;
	while (v91) {
		TUP* v92 = v88;
		VAL v93 = v89;
		bool v94 = v90;
		TUP* branch_ZPlusMirth_95;
		VAL branch_List_96;
		bool branch_Bool_97;
		switch (get_data_tag(v93)) {
			case 1LL: { // Cons
				VAL v98;
				VAL v99 = mtp_std_list_List_1_Cons(v93, &v98);
				STR* v100;
				STRLIT(v100, "", 0);
				STR* v101;
				STRLIT(v101, "Output label ", 13);
				STR* v102;
				mw_std_str_ZPlusStr_pushZ_strZBang(v101, v100, &v102);
				TUP* v103;
				STR* v104;
				mw_mirth_label_Label_nameZThen(v92, v102, value_u64(v99), &v103, &v104);
				STR* v105;
				STRLIT(v105, " not present in input", 21);
				STR* v106;
				mw_std_str_ZPlusStr_pushZ_strZBang(v105, v104, &v106);
				TUP* v107;
				mw_mirth_mirth_ZPlusMirth_errorZBang(v103, v106, &v107);
				bool v108 = true;
				branch_Bool_97 = v108;
				branch_List_96 = v98;
				branch_ZPlusMirth_95 = v107;
			} break;
			case 0LL: { // Nil
				VAL v109 = MKI64(0LL /* Nil */);
				bool v110 = false;
				branch_Bool_97 = v110;
				branch_List_96 = v109;
				branch_ZPlusMirth_95 = v92;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v91 = branch_Bool_97;
		v90 = branch_Bool_97;
		v89 = branch_List_96;
		v88 = branch_ZPlusMirth_95;
	}
	decref(v89);
	TUP* v111 = value_tup(v88->cells[6], 2);
	incref(MKTUP(v111, 2));
	VAL v112 = tup_replace(MKTUP(v111, 2), 0, v8);
	TUP* v113 = value_tup(v88->cells[6], 2);
	decref(MKTUP(v113, 2));
	v88->cells[6] = v112;
	*out_ZPlusMirth_3 = v88;
	return v15;
}
static uint64_t mw_mirth_elab_parseZ_defZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, VAL *out_Maybe_7) {
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v8);
	TUP* v10;
	INT v11 = mw_mirth_token_Token_numZ_args(v8, in_Token_2, &v10);
	INT v12 = WRAP_I63(0LL);
	bool v13 = int_lt(v12, v11);
	VAL branch_Maybe_14;
	uint64_t branch_Token_15;
	uint64_t branch_Token_16;
	uint64_t branch_Token_17;
	TUP* branch_ZPlusMirth_18;
	if (v13) {
		TUP* v19;
		uint64_t v20 = mw_mirth_token_Token_next(v10, in_Token_2, &v19);
		TUP* v21;
		uint64_t v22;
		uint64_t v23 = mw_mirth_token_Token_argsZ_2(v19, in_Token_2, &v21, &v22);
		TUP* v24;
		mw_mirth_token_Token_argsZ_0(v21, v23, &v24);
		TUP* v25;
		VAL v26 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v24, v23, &v25);
		TUP* v27;
		uint64_t v28;
		mw_std_maybe_Maybe_1_else_1_sp17(v25, v23, v26, &v27, &v28);
		TUP* v29;
		uint64_t v30 = mw_mirth_token_Token_next(v27, v28, &v29);
		TUP* v31;
		bool v32 = mw_mirth_token_Token_argZ_endZAsk(v29, v30, &v31);
		TUP* branch_ZPlusMirth_33;
		uint64_t branch_Token_34;
		if (v32) {
			branch_Token_34 = v28;
			branch_ZPlusMirth_33 = v31;
		} else {
			TUP* v35;
			uint64_t v36 = mw_mirth_token_Token_next(v31, v28, &v35);
			STR* v37;
			STRLIT(v37, "expected comma", 14);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v35, v36, v37);
		}
		TUP* v39;
		uint64_t v40 = mw_mirth_token_Token_next(branch_ZPlusMirth_33, v22, &v39);
		TUP* v41;
		bool v42 = mw_mirth_token_Token_argZ_endZAsk(v39, v40, &v41);
		TUP* branch_ZPlusMirth_43;
		uint64_t branch_Token_44;
		if (v42) {
			branch_Token_44 = v22;
			branch_ZPlusMirth_43 = v41;
		} else {
			TUP* v45;
			uint64_t v46 = mw_mirth_token_Token_next(v41, v22, &v45);
			STR* v47;
			STRLIT(v47, "expected end of args", 20);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v45, v46, v47);
		}
		branch_ZPlusMirth_18 = branch_ZPlusMirth_43;
		branch_Token_17 = branch_Token_44;
		branch_Token_16 = branch_Token_34;
		branch_Token_15 = v20;
		branch_Maybe_14 = v9;
	} else {
		uint64_t v49 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v50;
		uint64_t v51 = mw_mirth_token_Token_next(v10, v49, &v50);
		TUP* v52;
		uint64_t v53 = mw_mirth_token_Token_next(v50, v51, &v52);
		TUP* v54;
		mw_mirth_token_Token_argsZ_0(v52, v49, &v54);
		TUP* v55;
		VAL v56 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v54, v49, &v55);
		TUP* v57;
		uint64_t v58;
		mw_std_maybe_Maybe_1_else_1_sp17(v55, v49, v56, &v57, &v58);
		branch_ZPlusMirth_18 = v57;
		branch_Token_17 = v51;
		branch_Token_16 = v58;
		branch_Token_15 = v53;
		branch_Maybe_14 = v9;
	}
	*out_Maybe_7 = branch_Maybe_14;
	*out_Token_6 = branch_Token_17;
	*out_Token_5 = branch_Token_16;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_18;
	return branch_Token_15;
}
static uint64_t mw_mirth_elab_elabZ_defZ_typeZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6;
	uint64_t v7;
	VAL v8;
	uint64_t v9 = mw_mirth_elab_parseZ_defZ_type(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8);
	TUP* v10;
	uint64_t v11;
	uint64_t v12;
	INT v13;
	VAL v14;
	mw_mirth_elab_elabZ_defZ_head(v5, v6, &v10, &v11, &v12, &v13, &v14);
	VAL v15 = mtw_std_maybe_Maybe_1_Some(MKU64(v11));
	decref(MKINT(v13));
	TUP* v16;
	uint64_t v17 = mw_mirth_typedef_TypeDef_newZBang(v10, v15, v12, v14, &v16);
	void* v18 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildedoc, v17);
	mut_set(v8, v18);
	VAL v19 = mtw_mirth_mirth_PropLabel_TypeDefTarget(v17);
	TUP* v20 = value_tup(v16->cells[6], 2);
	incref(MKTUP(v20, 2));
	FNPTR v21 = &mb_mirth_mirth_PropLabel_prop_1_sp44_0;
	VAL v22 = mtw_mirth_mirth_PropState_1_Delay(v20, MKU64(v7), MKFNPTR(v21));
	TUP* v23 = mtw_mirth_mirth_Prop_1_Prop(v19, v22);
	void* v24 = field_mut(&mfld_mirth_typedef_TypeDef_ZTildetarget, v17);
	mut_set(MKTUP(v23, 2), v24);
	*out_ZPlusMirth_3 = v16;
	return v9;
}
static TUP* mw_mirth_elab_elabZ_entryZ_point (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_QName_2, 3));
	TUP* v5;
	VAL v6 = mw_mirth_name_QName_defZ_hardZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	VAL branch_Maybe_7;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
			VAL v9 = mw_mirth_def_Def_wordZAsk(v8);
			branch_Maybe_7 = v9;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_7 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_11;
	TUP* branch_QName_12;
	VAL branch_z_x1_13;
	switch (get_data_tag(branch_Maybe_7)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_7);
			branch_z_x1_13 = v14;
			branch_QName_12 = in_QName_2;
			branch_ZPlusMirth_11 = v5;
		} break;
		case 0LL: { // None
			incref(MKTUP(in_QName_2, 3));
			VAL v15 = in_QName_2->cells[0];
			incref(v15);
			decref(MKTUP(in_QName_2, 3));
			TUP* v16;
			VAL v17 = mw_mirth_name_Namespace_moduleZAsk(v5, v15, &v16);
			TUP* branch_ZPlusMirth_18;
			switch (get_data_tag(v17)) {
				case 1LL: { // Some
					VAL v19 = mtp_std_maybe_Maybe_1_Some(v17);
					TUP* v20;
					uint64_t v21 = mw_mirth_module_Module_start(v16, value_u64(v19), &v20);
					TUP* v22;
					mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang(v20, v21, &v22);
					branch_ZPlusMirth_18 = v22;
				} break;
				case 0LL: { // None
					branch_ZPlusMirth_18 = v16;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			STR* v23;
			STRLIT(v23, "", 0);
			STR* v24;
			STRLIT(v24, "Can't find entry point ", 23);
			STR* v25;
			mw_std_str_ZPlusStr_pushZ_strZBang(v24, v23, &v25);
			TUP* v26;
			STR* v27;
			mw_mirth_name_QName_qnameZThen(branch_ZPlusMirth_18, v25, in_QName_2, &v26, &v27);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v26, v27);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKTUP(branch_QName_12, 3));
	incref(branch_z_x1_13);
	VAL v31 = mw_mirth_var_Ctx_L0();
	VAL v32 = mw_mirth_type_T0();
	VAL v33 = mw_mirth_type_Resource_World();
	VAL v34 = mw_mirth_type_TZPlus(v32, v33);
	VAL v35 = mw_mirth_type_T0();
	VAL v36 = mw_mirth_type_Resource_World();
	VAL v37 = mw_mirth_type_TZPlus(v35, v36);
	TUP* v38 = mw_mirth_type_TZ_ZTo(v34, v37);
	TUP* v39;
	uint64_t v40 = mw_mirth_word_Word_head(branch_ZPlusMirth_11, value_u64(branch_z_x1_13), &v39);
	VAL v41 = mtw_mirth_arrow_Home_Main(v40);
	VAL v42;
	VAL v43;
	mtp_mirth_type_ArrowType_ArrowType(v38, &v42, &v43);
	incref(v42);
	VAL v44 = MKI64(0LL /* Nil */);
	TUP* v45 = mtw_mirth_arrow_Arrow_Arrow(v41, v40, v40, v31, v42, v42, v44);
	VAL v46 = MKI64(0LL /* Nil */);
	TUP* v47;
	TUP* v48;
	mw_mirth_elab_ZPlusAB_abZ_wordZBang(v39, v45, v46, value_u64(branch_z_x1_13), &v47, &v48);
	TUP* v49;
	TUP* v50;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v47, v48, v43, &v49, &v50);
	*out_ZPlusMirth_3 = v49;
	return v50;
}
static uint64_t mw_mirth_elab_elabZ_embedZ_strZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	VAL v8 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v7);
	TUP* v9;
	uint64_t v10 = mw_mirth_token_Token_next(v7, in_Token_2, &v9);
	TUP* v11;
	uint64_t v12;
	uint64_t v13 = mw_mirth_token_Token_argsZ_2(v9, in_Token_2, &v11, &v12);
	TUP* v14;
	uint64_t v15;
	uint64_t v16;
	INT v17;
	VAL v18;
	mw_mirth_elab_elabZ_defZ_head(v11, v13, &v14, &v15, &v16, &v17, &v18);
	incref(MKINT(v17));
	INT v19 = WRAP_I63(0LL);
	bool v20 = int_eq(v17, v19);
	TUP* branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	if (v20) {
		branch_Token_22 = v15;
		branch_ZPlusMirth_21 = v14;
	} else {
		STR* v23;
		STRLIT(v23, "expected no arguments", 21);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, v15, v23);
	}
	VAL v25 = MKI64(0LL /* None */);
	TUP* v26;
	VAL v27 = mw_mirth_token_Token_strZAsk(branch_ZPlusMirth_21, v12, &v26);
	TUP* branch_ZPlusMirth_28;
	uint64_t branch_Token_29;
	VAL branch_z_x1_30;
	switch (get_data_tag(v27)) {
		case 1LL: { // Some
			VAL v31 = mtp_std_maybe_Maybe_1_Some(v27);
			branch_z_x1_30 = v31;
			branch_Token_29 = v12;
			branch_ZPlusMirth_28 = v26;
		} break;
		case 0LL: { // None
			STR* v32;
			STRLIT(v32, "expected source path", 20);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v26, v12, v32);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v36;
	mw_std_prim_ZPlusWorld_openZ_fileZBang(value_str(branch_z_x1_30), &v36);
	TUP* branch_ZPlusMirth_37;
	VAL branch_z_x1_38;
	switch (get_data_tag(v36)) {
		case 1LL: { // +Ok
			VAL v39;
			mtp_std_result_ZPlusResult_2_ZPlusOk(v36, &v39);
			branch_z_x1_38 = v39;
			branch_ZPlusMirth_37 = branch_ZPlusMirth_28;
		} break;
		case 0LL: { // +Err
			VAL v40 = mtp_std_result_ZPlusResult_2_ZPlusErr(v36);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(v40, branch_ZPlusMirth_28);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v44;
	STR* v45 = mw_std_file_ZPlusFile_readZ_fileZBang(value_tup(branch_z_x1_38, 2), &v44);
	VAL v46 = mw_std_file_ZPlusFile_closeZ_fileZBang(v44);
	TUP* branch_ZPlusMirth_47;
	switch (get_data_tag(v46)) {
		case 1LL: { // Some
			VAL v48 = mtp_std_maybe_Maybe_1_Some(v46);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(v48, branch_ZPlusMirth_37);
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_47 = branch_ZPlusMirth_37;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v51;
	uint64_t v52 = mw_mirth_word_Word_NewZBang(branch_ZPlusMirth_47, branch_Token_22, v25, v12, v16, v17, v8, &v51);
	VAL v53 = mtw_mirth_mirth_PropLabel_WordQName(v52);
	TUP* v54 = mtw_mirth_mirth_Prop_1_Prop(v53, v18);
	void* v55 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v52);
	mut_set(MKTUP(v54, 2), v55);
	VAL v56 = mw_mirth_var_Ctx_L0();
	VAL v57 = mw_mirth_type_T0();
	VAL v58 = mw_mirth_type_Type_Str();
	VAL v59 = mw_mirth_type_T1(v58);
	TUP* v60 = mw_mirth_type_TZ_ZTo(v57, v59);
	VAL v61 = mtw_mirth_mirth_PropLabel_WordType(v52);
	TUP* v62;
	TUP* v63 = mw_mirth_mirth_PropLabel_prop2(v51, v56, MKTUP(v60, 2), v61, &v62);
	void* v64 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v52);
	mut_set(MKTUP(v63, 2), v64);
	TUP* v65;
	TUP* v66;
	uint64_t v67;
	VAL v68;
	uint64_t v69;
	VAL v70 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v62, v52, &v65, &v66, &v67, &v68, &v69);
	VAL v71;
	VAL v72;
	mtp_mirth_type_ArrowType_ArrowType(v66, &v71, &v72);
	incref(v71);
	VAL v73 = MKI64(0LL /* Nil */);
	TUP* v74 = mtw_mirth_arrow_Arrow_Arrow(v68, v67, v67, v70, v71, v71, v73);
	TUP* v75;
	TUP* v76;
	mw_mirth_elab_ZPlusAB_abZ_strZBang(v65, v74, v45, &v75, &v76);
	TUP* v77;
	TUP* v78;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v75, v76, v72, &v77, &v78);
	TUP* v79;
	TUP* v80 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v77, v78, v69, &v79);
	VAL v81 = mtw_mirth_mirth_PropLabel_WordArrow(v52);
	TUP* v82;
	TUP* v83 = mw_mirth_mirth_PropLabel_prop(v79, MKTUP(v80, 7), v81, &v82);
	void* v84 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v52);
	mut_set(MKTUP(v83, 2), v84);
	*out_ZPlusMirth_3 = v82;
	return v10;
}
static void mw_mirth_elab_typecheckZ_everythingZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	uint64_t v3 = 1ULL;
	void* v4 = mbuf_mirth_name_Name_NumBuffer;
	uint64_t v5 = *(uint64_t*)v4;
	bool v6 = (v3 <= v5);
	TUP* v7 = in_ZPlusMirth_1;
	uint64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		TUP* v10 = v7;
		uint64_t v11 = v8;
		TUP* v12;
		VAL v13 = mw_mirth_name_Name_defs(v10, v11, &v12);
		bool v14 = true;
		TUP* v15 = v12;
		VAL v16 = v13;
		bool v17 = v14;
		bool v18 = v14;
		while (v18) {
			TUP* v19 = v15;
			VAL v20 = v16;
			bool v21 = v17;
			TUP* branch_ZPlusMirth_22;
			VAL branch_List_23;
			bool branch_Bool_24;
			switch (get_data_tag(v20)) {
				case 1LL: { // Cons
					VAL v25;
					VAL v26 = mtp_std_list_List_1_Cons(v20, &v25);
					incref(v26);
					TUP* v27;
					TUP* v28 = mw_mirth_def_Def_qnameZ_hard(v19, v26, &v27);
					decref(MKTUP(v28, 3));
					TUP* v29;
					mw_mirth_def_Def_typecheckZBang(v27, v26, &v29);
					bool v30 = true;
					branch_Bool_24 = v30;
					branch_List_23 = v25;
					branch_ZPlusMirth_22 = v29;
				} break;
				case 0LL: { // Nil
					VAL v31 = MKI64(0LL /* Nil */);
					bool v32 = false;
					branch_Bool_24 = v32;
					branch_List_23 = v31;
					branch_ZPlusMirth_22 = v19;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v18 = branch_Bool_24;
			v17 = branch_Bool_24;
			v16 = branch_List_23;
			v15 = branch_ZPlusMirth_22;
		}
		decref(v16);
		uint64_t v33 = 1ULL;
		uint64_t v34 = (v11 + v33);
		void* v35 = mbuf_mirth_name_Name_NumBuffer;
		uint64_t v36 = *(uint64_t*)v35;
		bool v37 = (v34 <= v36);
		v9 = v37;
		v8 = v34;
		v7 = v15;
	}
	uint64_t v38 = 1ULL;
	void* v39 = mbuf_mirth_arrow_Block_NumBuffer;
	uint64_t v40 = *(uint64_t*)v39;
	bool v41 = (v38 <= v40);
	TUP* v42 = v7;
	uint64_t v43 = v38;
	bool v44 = v41;
	while (v44) {
		TUP* v45 = v42;
		uint64_t v46 = v43;
		TUP* v47;
		mw_mirth_arrow_Block_typecheckZBang(v45, v46, &v47);
		uint64_t v48 = 1ULL;
		uint64_t v49 = (v46 + v48);
		void* v50 = mbuf_mirth_arrow_Block_NumBuffer;
		uint64_t v51 = *(uint64_t*)v50;
		bool v52 = (v49 <= v51);
		v44 = v52;
		v43 = v49;
		v42 = v47;
	}
	uint64_t v53 = 1ULL;
	void* v54 = mbuf_mirth_external_External_NumBuffer;
	uint64_t v55 = *(uint64_t*)v54;
	bool v56 = (v53 <= v55);
	TUP* v57 = v42;
	uint64_t v58 = v53;
	bool v59 = v56;
	while (v59) {
		TUP* v60 = v57;
		uint64_t v61 = v58;
		TUP* v62;
		TUP* v63 = mw_mirth_external_External_ctype(v60, v61, &v62);
		decref(MKTUP(v63, 2));
		uint64_t v64 = 1ULL;
		uint64_t v65 = (v61 + v64);
		void* v66 = mbuf_mirth_external_External_NumBuffer;
		uint64_t v67 = *(uint64_t*)v66;
		bool v68 = (v65 <= v67);
		v59 = v68;
		v58 = v65;
		v57 = v62;
	}
	*out_ZPlusMirth_2 = v57;
}
static VAL mw_mirth_elab_resolveZ_defZ_namespace (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Either_3, bool in_Bool_4, TUP* *out_ZPlusMirth_5) {
	STR* v7;
	STRLIT(v7, "namespace", 9);
	bool v8 = false;
	TUP* v9;
	TUP* v10;
	mw_mirth_elab_ZPlusResolveDef_BeginZBang(v7, in_Token_2, in_Either_3, in_Bool_4, v8, in_ZPlusMirth_1, &v9, &v10);
	VAL v11 = v10->cells[3];
	incref(v11);
	VAL v12 = MKI64(0LL /* Nil */);
	VAL v13 = MKI64(0LL /* Nil */);
	bool v14 = true;
	TUP* v15 = v9;
	TUP* v16 = v10;
	VAL v17 = v12;
	VAL v18 = v13;
	VAL v19 = v11;
	bool v20 = v14;
	bool v21 = v14;
	while (v21) {
		TUP* v22 = v15;
		TUP* v23 = v16;
		VAL v24 = v17;
		VAL v25 = v18;
		VAL v26 = v19;
		bool v27 = v20;
		TUP* branch_ZPlusMirth_28;
		VAL branch_z_x1_29;
		VAL branch_List_30;
		VAL branch_List_31;
		VAL branch_List_32;
		bool branch_Bool_33;
		switch (get_data_tag(v26)) {
			case 1LL: { // Cons
				VAL v34;
				VAL v35 = mtp_std_list_List_1_Cons(v26, &v34);
				incref(v35);
				TUP* v36;
				VAL v37 = mw_mirth_def_Def_asZ_defZ_namespaceZAsk(v22, v35, &v36);
				int64_t v38 = get_data_tag(v37);
				decref(v37);
				INT v39 = WRAP_I63(0LL);
				INT v40 = i64_to_int(v38);
				bool v41 = int_eq(v40, v39);
				bool v42 = !v41;
				TUP* branch_ZPlusMirth_43;
				VAL branch_z_x1_44;
				VAL branch_Either_45;
				if (v42) {
					VAL v46 = mtw_std_either_Either_2_Right(v35);
					branch_Either_45 = v46;
					branch_z_x1_44 = MKTUP(v23, 7);
					branch_ZPlusMirth_43 = v36;
				} else {
					VAL v47 = mtw_mirth_elab_RejectedDef_WrongSort(v35);
					VAL v48 = mtw_std_either_Either_2_Left(v47);
					branch_Either_45 = v48;
					branch_z_x1_44 = MKTUP(v23, 7);
					branch_ZPlusMirth_43 = v36;
				}
				TUP* branch_ZPlusMirth_49;
				VAL branch_z_x1_50;
				VAL branch_List_51;
				VAL branch_List_52;
				switch (get_data_tag(branch_Either_45)) {
					case 0LL: { // Left
						VAL v53 = mtp_std_either_Either_2_Left(branch_Either_45);
						VAL v54 = mw_std_list_List_1_cons(v53, v24);
						branch_List_52 = v25;
						branch_List_51 = v54;
						branch_z_x1_50 = branch_z_x1_44;
						branch_ZPlusMirth_49 = branch_ZPlusMirth_43;
					} break;
					case 1LL: { // Right
						VAL v55 = mtp_std_either_Either_2_Right(branch_Either_45);
						VAL v56 = mw_std_list_List_1_cons(v55, v25);
						branch_List_52 = v56;
						branch_List_51 = v24;
						branch_z_x1_50 = branch_z_x1_44;
						branch_ZPlusMirth_49 = branch_ZPlusMirth_43;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v57 = true;
				branch_Bool_33 = v57;
				branch_List_32 = v34;
				branch_List_31 = branch_List_52;
				branch_List_30 = branch_List_51;
				branch_z_x1_29 = branch_z_x1_50;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_49;
			} break;
			case 0LL: { // Nil
				VAL v58 = MKI64(0LL /* Nil */);
				bool v59 = false;
				branch_Bool_33 = v59;
				branch_List_32 = v58;
				branch_List_31 = v25;
				branch_List_30 = v24;
				branch_z_x1_29 = MKTUP(v23, 7);
				branch_ZPlusMirth_28 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_33;
		v20 = branch_Bool_33;
		v19 = branch_List_32;
		v18 = branch_List_31;
		v17 = branch_List_30;
		v16 = value_tup(branch_z_x1_29, 7);
		v15 = branch_ZPlusMirth_28;
	}
	decref(v19);
	VAL v60 = mw_std_list_List_1_reverse(v17);
	VAL v61 = mw_std_list_List_1_reverse(v18);
	VAL v62 = v16->cells[4];
	incref(v62);
	VAL v63 = mw_std_list_List_1_cat(v60, v62);
	VAL v64 = v16->cells[4];
	decref(v64);
	v16->cells[4] = v63;
	VAL v65 = v16->cells[3];
	decref(v65);
	v16->cells[3] = v61;
	TUP* v66;
	TUP* v67;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v15, v16, &v66, &v67);
	VAL v68 = MKI64(0LL /* Nil */);
	TUP* v69;
	TUP* v70;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v66, v67, v68, &v69, &v70);
	TUP* v71;
	VAL v72 = mw_mirth_elab_ZPlusResolveDef_endZBang(v69, v70, &v71);
	TUP* v73;
	VAL v74 = mw_std_maybe_Maybe_1_bind_1_sp13(v71, v72, &v73);
	*out_ZPlusMirth_5 = v73;
	return v74;
}
static TUP* mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* in_DName_3, INT in_Int_4, TUP* *out_ZPlusMirth_5) {
	incref(MKTUP(in_DName_3, 2));
	VAL v7 = mtw_std_either_Either_2_Right(MKTUP(in_DName_3, 2));
	incref(MKTUP(in_DName_3, 2));
	VAL v8 = mw_mirth_name_DName_rootZAsk(in_DName_3);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	TUP* branch_ZPlusMirth_14;
	uint64_t branch_Token_15;
	VAL branch_z_x1_16;
	if (v13) {
		branch_z_x1_16 = MKTUP(in_DName_3, 2);
		branch_Token_15 = in_Token_2;
		branch_ZPlusMirth_14 = in_ZPlusMirth_1;
	} else {
		decref(MKTUP(in_DName_3, 2));
		STR* v17;
		STRLIT(v17, "relative name not allowed", 25);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v17);
	}
	uint64_t v21 = mw_mirth_name_DName_lastZ_name(value_tup(branch_z_x1_16, 2));
	bool v22 = true;
	TUP* v23;
	VAL v24 = mw_mirth_elab_resolveZ_defZ_namespace(branch_ZPlusMirth_14, branch_Token_15, v7, v22, &v23);
	TUP* v25;
	VAL v26 = mw_std_maybe_Maybe_1_unwrap_1_sp36(v23, v24, &v25);
	TUP* v27 = mtw_mirth_name_QName_QName(v26, v21, in_Int_4);
	*out_ZPlusMirth_5 = v25;
	return v27;
}
static bool mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Module_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	uint64_t v7 = mw_mirth_token_Token_module(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* v8;
	bool v9 = mw_mirth_module_Module_visible(v6, in_Module_3, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static bool mw_mirth_token_Token_isZ_defaultZ_paramZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_nameZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	INT v8 = WRAP_I63(0LL);
	INT v9 = i64_to_int(v7);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	uint64_t branch_Token_12;
	TUP* branch_ZPlusMirth_13;
	bool branch_Bool_14;
	if (v11) {
		uint64_t v15 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v16;
		VAL v17 = mw_mirth_token_Token_lcurlyZAsk(v5, v15, &v16);
		int64_t v18 = get_data_tag(v17);
		decref(v17);
		INT v19 = WRAP_I63(0LL);
		INT v20 = i64_to_int(v18);
		bool v21 = int_eq(v20, v19);
		bool v22 = !v21;
		branch_Bool_14 = v22;
		branch_ZPlusMirth_13 = v16;
		branch_Token_12 = in_Token_2;
	} else {
		bool v23 = false;
		branch_Bool_14 = v23;
		branch_ZPlusMirth_13 = v5;
		branch_Token_12 = in_Token_2;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_13;
	return branch_Bool_14;
}
static TUP* mw_mirth_elab_elabZ_defZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_args(in_ZPlusMirth_1, in_Token_2, &v5);
	incref(v6);
	VAL v7 = MKI64(0LL /* None */);
	bool v8 = true;
	TUP* v9 = v5;
	VAL v10 = v7;
	VAL v11 = v6;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		TUP* v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		bool v17 = v12;
		VAL v18;
		VAL v19 = mw_std_list_List_1_uncons(v16, &v18);
		TUP* branch_ZPlusMirth_20;
		VAL branch_Maybe_21;
		VAL branch_List_22;
		bool branch_Bool_23;
		switch (get_data_tag(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				incref(v24);
				TUP* v25;
				bool v26 = mw_mirth_token_Token_isZ_defaultZ_paramZAsk(v14, value_u64(v24), &v25);
				TUP* branch_ZPlusMirth_27;
				VAL branch_Maybe_28;
				if (v26) {
					VAL v29 = mtw_std_maybe_Maybe_1_Some(v24);
					branch_Maybe_28 = v29;
					branch_ZPlusMirth_27 = v25;
				} else {
					decref(v24);
					VAL v30 = MKI64(0LL /* None */);
					branch_Maybe_28 = v30;
					branch_ZPlusMirth_27 = v25;
				}
				TUP* branch_ZPlusMirth_31;
				VAL branch_Maybe_32;
				VAL branch_List_33;
				switch (get_data_tag(branch_Maybe_28)) {
					case 0LL: { // None
						branch_List_33 = v18;
						branch_Maybe_32 = v15;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_27;
					} break;
					default: {
						decref(v18);
						decref(v15);
						VAL v34 = MKI64(0LL /* Nil */);
						branch_List_33 = v34;
						branch_Maybe_32 = branch_Maybe_28;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_27;
					} break;
				}
				bool v35 = true;
				branch_Bool_23 = v35;
				branch_List_22 = branch_List_33;
				branch_Maybe_21 = branch_Maybe_32;
				branch_ZPlusMirth_20 = branch_ZPlusMirth_31;
			} break;
			case 0LL: { // None
				bool v36 = false;
				branch_Bool_23 = v36;
				branch_List_22 = v18;
				branch_Maybe_21 = v15;
				branch_ZPlusMirth_20 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_23;
		v12 = branch_Bool_23;
		v11 = branch_List_22;
		v10 = branch_Maybe_21;
		v9 = branch_ZPlusMirth_20;
	}
	decref(v11);
	int64_t v37 = get_data_tag(v10);
	decref(v10);
	INT v38 = WRAP_I63(0LL);
	INT v39 = i64_to_int(v37);
	bool v40 = int_eq(v39, v38);
	bool v41 = !v40;
	uint64_t branch_Token_42;
	TUP* branch_ZPlusMirth_43;
	VAL branch__44;
	if (v41) {
		decref(v6);
		INT v45 = WRAP_I63(-1LL);
		branch__44 = MKINT(v45);
		branch_ZPlusMirth_43 = v9;
		branch_Token_42 = in_Token_2;
	} else {
		INT v46 = mw_std_list_List_1_len(v6);
		branch__44 = MKINT(v46);
		branch_ZPlusMirth_43 = v9;
		branch_Token_42 = in_Token_2;
	}
	TUP* v47;
	VAL v48 = mw_mirth_token_Token_nameZDivdnameZAsk(branch_ZPlusMirth_43, branch_Token_42, &v47);
	TUP* branch_ZPlusMirth_49;
	uint64_t branch_Token_50;
	VAL branch_z_x1_51;
	switch (get_data_tag(v48)) {
		case 1LL: { // Some
			VAL v52 = mtp_std_maybe_Maybe_1_Some(v48);
			branch_z_x1_51 = v52;
			branch_Token_50 = branch_Token_42;
			branch_ZPlusMirth_49 = v47;
		} break;
		case 0LL: { // None
			STR* v53;
			STRLIT(v53, "expected name", 13);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v47, branch_Token_42, v53);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_57;
	TUP* branch_QName_58;
	switch (get_data_tag(branch_z_x1_51)) {
		case 0LL: { // Left
			VAL v59 = mtp_std_either_Either_2_Left(branch_z_x1_51);
			TUP* v60;
			VAL v61 = mw_mirth_elab_definingZ_namespaceZ_orZ_error(branch_ZPlusMirth_49, branch_Token_50, &v60);
			TUP* v62 = mtw_mirth_name_QName_QName(v61, value_u64(v59), value_int(branch__44));
			branch_QName_58 = v62;
			branch_ZPlusMirth_57 = v60;
		} break;
		case 1LL: { // Right
			VAL v63 = mtp_std_either_Either_2_Right(branch_z_x1_51);
			TUP* v64;
			TUP* v65 = mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname(branch_ZPlusMirth_49, branch_Token_50, value_tup(v63, 2), value_int(branch__44), &v64);
			branch_QName_58 = v65;
			branch_ZPlusMirth_57 = v64;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_57;
	return branch_QName_58;
}
static VAL mw_mirth_elab_definingZ_namespaceZ_orZ_error (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v5, 2));
	incref(MKTUP(v5, 2));
	VAL v6 = v5->cells[1];
	incref(v6);
	decref(MKTUP(v5, 2));
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_9 = v10;
			branch_Token_8 = in_Token_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "error: no namespace for definition", 34);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v15;
	TUP* v16;
	VAL v17 = mw_mirth_mirth_Prop_1_compute(branch_ZPlusMirth_7, value_tup(branch_z_x1_9, 2), &v15, &v16);
	VAL v18 = mtw_std_maybe_Maybe_1_Some(MKTUP(v16, 2));
	VAL v19 = tup_replace(MKTUP(v5, 2), 1, v18);
	TUP* v20 = value_tup(v15->cells[6], 2);
	decref(MKTUP(v20, 2));
	v15->cells[6] = v19;
	TUP* branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	VAL branch_z_x1_23;
	switch (get_data_tag(v17)) {
		case 1LL: { // Some
			VAL v24 = mtp_std_maybe_Maybe_1_Some(v17);
			branch_z_x1_23 = v24;
			branch_Token_22 = branch_Token_8;
			branch_ZPlusMirth_21 = v15;
		} break;
		case 0LL: { // None
			STR* v25;
			STRLIT(v25, "error: couldn't compute namespace for definition", 48);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v15, branch_Token_8, v25);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_21;
	return branch_z_x1_23;
}
static TUP* mw_mirth_elab_elabZ_defZ_qnameZ_undefined (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6 = mw_mirth_elab_elabZ_defZ_qname(in_ZPlusMirth_1, in_Token_2, &v5);
	incref(MKTUP(v6, 3));
	TUP* v7;
	bool v8 = mw_mirth_name_QName_definedZ_softZAsk(v5, v6, &v7);
	TUP* branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	VAL branch_z_x1_11;
	if (v8) {
		decref(MKTUP(v6, 3));
		STR* v12;
		STRLIT(v12, "name already defined", 20);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v7, in_Token_2, v12);
	} else {
		branch_z_x1_11 = MKTUP(v6, 3);
		branch_Token_10 = in_Token_2;
		branch_ZPlusMirth_9 = v7;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return value_tup(branch_z_x1_11, 3);
}
static void mw_mirth_elab_elabZ_defZ_head (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_4, uint64_t *out_Name_5, INT *out_Nat_6, VAL *out_PropState_7) {
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_nameZDivdnameZAsk(in_ZPlusMirth_1, in_Token_2, &v8);
	TUP* branch_ZPlusMirth_10;
	uint64_t branch_Token_11;
	VAL branch_z_x1_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x1_12 = v13;
			branch_Token_11 = in_Token_2;
			branch_ZPlusMirth_10 = v8;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "expected name", 13);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v8, in_Token_2, v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t branch_Name_17;
	switch (get_data_tag(branch_z_x1_12)) {
		case 0LL: { // Left
			VAL v18 = mtp_std_either_Either_2_Left(branch_z_x1_12);
			branch_Name_17 = value_u64(v18);
		} break;
		case 1LL: { // Right
			VAL v19 = mtp_std_either_Either_2_Right(branch_z_x1_12);
			TUP* v20 = mw_mirth_name_DName_parts(value_tup(v19, 2));
			VAL v21 = mw_std_list_Nest_1_last(v20);
			branch_Name_17 = value_u64(v21);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v22;
	INT v23 = mw_mirth_token_Token_numZ_args(branch_ZPlusMirth_10, branch_Token_11, &v22);
	TUP* v24 = value_tup(v22->cells[6], 2);
	incref(MKTUP(v24, 2));
	FNPTR v25 = &mb_mirth_elab_elabZ_defZ_head_3;
	VAL v26 = mtw_mirth_mirth_PropState_1_Delay(v24, MKU64(branch_Token_11), MKFNPTR(v25));
	*out_PropState_7 = v26;
	*out_Nat_6 = v23;
	*out_Name_5 = branch_Name_17;
	*out_Token_4 = branch_Token_11;
	*out_ZPlusMirth_3 = v22;
}
static uint64_t mw_mirth_buffer_Buffer_allocZBang (void) {
	void* v2 = mbuf_mirth_buffer_Buffer_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_buffer_Buffer_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_buffer_Buffer_index (uint64_t in_Buffer_1) {
	return in_Buffer_1;
}
static uint64_t mw_mirth_buffer_Buffer_head (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildehead, in_Buffer_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_buffer_Buffer_sizze (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildesizze, in_Buffer_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static uint64_t mw_mirth_buffer_Buffer_name (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildename, in_Buffer_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_buffer_Buffer_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildeqname, in_Buffer_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static TUP* mw_mirth_buffer_Buffer_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildeqname, in_Buffer_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static bool mw_mirth_buffer_Buffer_ZEqual (uint64_t in_Buffer_1, uint64_t in_Buffer_2) {
	uint64_t v4 = mw_mirth_buffer_Buffer_index(in_Buffer_1);
	uint64_t v5 = mw_mirth_buffer_Buffer_index(in_Buffer_2);
	bool v6 = (v4 == v5);
	return v6;
}
static uint64_t mw_mirth_buffer_Buffer_NewZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, INT in_Sizze_3, uint64_t in_Name_4, VAL in_Maybe_5, TUP* *out_ZPlusMirth_6) {
	uint64_t v8 = mw_mirth_buffer_Buffer_allocZBang();
	void* v9 = field_mut(&mfld_mirth_buffer_Buffer_ZTildedoc, v8);
	mut_set(in_Maybe_5, v9);
	void* v10 = field_mut(&mfld_mirth_buffer_Buffer_ZTildesizze, v8);
	mut_set(MKINT(in_Sizze_3), v10);
	void* v11 = field_mut(&mfld_mirth_buffer_Buffer_ZTildename, v8);
	mut_set(MKU64(in_Name_4), v11);
	void* v12 = field_mut(&mfld_mirth_buffer_Buffer_ZTildehead, v8);
	mut_set(MKU64(in_Token_2), v12);
	*out_ZPlusMirth_6 = in_ZPlusMirth_1;
	return v8;
}
static uint64_t mw_mirth_buffer_parseZ_buffer (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, VAL *out_Maybe_6, INT *out_Sizze_7) {
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v8);
	TUP* v10;
	INT v11 = mw_mirth_token_Token_numZ_args(v8, in_Token_2, &v10);
	INT v12 = WRAP_I63(0LL);
	bool v13 = int_lt(v12, v11);
	VAL branch_Maybe_14;
	uint64_t branch_Token_15;
	uint64_t branch_Token_16;
	INT branch_Int_17;
	uint64_t branch_Token_18;
	TUP* branch_ZPlusMirth_19;
	if (v13) {
		TUP* v20;
		uint64_t v21 = mw_mirth_token_Token_next(v10, in_Token_2, &v20);
		TUP* v22;
		uint64_t v23;
		uint64_t v24 = mw_mirth_token_Token_argsZ_2(v20, in_Token_2, &v22, &v23);
		TUP* v25;
		mw_mirth_token_Token_argsZ_0(v22, v24, &v25);
		TUP* v26;
		VAL v27 = mw_mirth_token_Token_nameZDivdnameZAsk(v25, v24, &v26);
		TUP* v28;
		uint64_t v29;
		mw_std_maybe_Maybe_1_else_1_sp14(v26, v24, v27, &v28, &v29);
		TUP* v30;
		uint64_t v31 = mw_mirth_token_Token_next(v28, v29, &v30);
		TUP* v32;
		bool v33 = mw_mirth_token_Token_argZ_endZAsk(v30, v31, &v32);
		TUP* branch_ZPlusMirth_34;
		uint64_t branch_Token_35;
		if (v33) {
			branch_Token_35 = v29;
			branch_ZPlusMirth_34 = v32;
		} else {
			TUP* v36;
			uint64_t v37 = mw_mirth_token_Token_next(v32, v29, &v36);
			STR* v38;
			STRLIT(v38, "Expected comma.", 15);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v36, v37, v38);
		}
		TUP* v40;
		VAL v41 = mw_mirth_token_Token_intZAsk(branch_ZPlusMirth_34, v23, &v40);
		TUP* v42;
		uint64_t v43;
		VAL v44 = mw_std_maybe_Maybe_1_elseZAsk_1_sp8(v40, v23, v41, &v42, &v43);
		TUP* v45;
		uint64_t v46 = mw_mirth_token_Token_next(v42, v43, &v45);
		TUP* v47;
		bool v48 = mw_mirth_token_Token_argsZ_endZAsk(v45, v46, &v47);
		TUP* branch_ZPlusMirth_49;
		uint64_t branch_Token_50;
		if (v48) {
			branch_Token_50 = v43;
			branch_ZPlusMirth_49 = v47;
		} else {
			TUP* v51;
			uint64_t v52 = mw_mirth_token_Token_next(v47, v43, &v51);
			STR* v53;
			STRLIT(v53, "Expected end of arguments.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v51, v52, v53);
		}
		branch_ZPlusMirth_19 = branch_ZPlusMirth_49;
		branch_Token_18 = branch_Token_50;
		branch_Int_17 = value_int(v44);
		branch_Token_16 = branch_Token_35;
		branch_Token_15 = v21;
		branch_Maybe_14 = v9;
	} else {
		uint64_t v55 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v56;
		uint64_t v57 = mw_mirth_token_Token_next(v10, v55, &v56);
		TUP* v58;
		uint64_t v59 = mw_mirth_token_Token_next(v56, v57, &v58);
		TUP* v60;
		VAL v61 = mw_mirth_token_Token_nameZDivdnameZAsk(v58, v55, &v60);
		TUP* v62;
		uint64_t v63;
		mw_std_maybe_Maybe_1_else_1_sp14(v60, v55, v61, &v62, &v63);
		TUP* v64;
		VAL v65 = mw_mirth_token_Token_intZAsk(v62, v57, &v64);
		TUP* v66;
		uint64_t v67;
		VAL v68 = mw_std_maybe_Maybe_1_elseZAsk_1_sp8(v64, v57, v65, &v66, &v67);
		branch_ZPlusMirth_19 = v66;
		branch_Token_18 = v67;
		branch_Int_17 = value_int(v68);
		branch_Token_16 = v63;
		branch_Token_15 = v59;
		branch_Maybe_14 = v9;
	}
	incref(MKINT(branch_Int_17));
	INT v69 = WRAP_I63(0LL);
	bool v70 = int_lt(v69, branch_Int_17);
	INT branch_Int_71;
	TUP* branch_ZPlusMirth_72;
	uint64_t branch_Token_73;
	if (v70) {
		branch_Token_73 = branch_Token_18;
		branch_ZPlusMirth_72 = branch_ZPlusMirth_19;
		branch_Int_71 = branch_Int_17;
	} else {
		STR* v74;
		STRLIT(v74, "Buffer size must be positive.", 29);
		TUP* v75;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(branch_ZPlusMirth_19, branch_Token_18, v74, &v75);
		INT v76 = WRAP_I63(8LL);
		decref(MKINT(branch_Int_17));
		branch_Token_73 = branch_Token_18;
		branch_ZPlusMirth_72 = v75;
		branch_Int_71 = v76;
	}
	*out_Sizze_7 = branch_Int_71;
	*out_Maybe_6 = branch_Maybe_14;
	*out_Token_5 = branch_Token_16;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_72;
	return branch_Token_15;
}
static uint64_t mw_mirth_buffer_elabZ_bufferZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6;
	VAL v7;
	INT v8;
	uint64_t v9 = mw_mirth_buffer_parseZ_buffer(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8);
	TUP* v10;
	uint64_t v11;
	uint64_t v12;
	INT v13;
	VAL v14;
	mw_mirth_elab_elabZ_defZ_head(v5, v6, &v10, &v11, &v12, &v13, &v14);
	decref(MKINT(v13));
	TUP* v15;
	uint64_t v16 = mw_mirth_buffer_Buffer_NewZBang(v10, v11, v8, v12, v7, &v15);
	VAL v17 = mtw_mirth_mirth_PropLabel_BufferQName(v16);
	TUP* v18 = mtw_mirth_mirth_Prop_1_Prop(v17, v14);
	void* v19 = field_mut(&mfld_mirth_buffer_Buffer_ZTildeqname, v16);
	mut_set(MKTUP(v18, 2), v19);
	VAL v20 = mtw_mirth_def_Def_Buffer(v16);
	TUP* v21;
	mw_mirth_def_Def_register(v15, v20, &v21);
	*out_ZPlusMirth_3 = v21;
	return v9;
}
static VAL mw_mirth_table_StateOwner_ctx (TUP* in_ZPlusMirth_1, VAL in_StateOwner_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Ctx_6;
	switch (get_data_tag(in_StateOwner_2)) {
		case 0LL: { // Error
			VAL v7 = mw_mirth_var_Ctx_L0();
			branch_Ctx_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Default
			VAL v8 = mw_mirth_var_Ctx_L0();
			branch_Ctx_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Resource
			VAL v9;
			VAL v10 = mtp_mirth_table_StateOwner_Resource(in_StateOwner_2, &v9);
			decref(v9);
			branch_Ctx_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Ctx_6;
}
static VAL mw_mirth_table_StateOwner_push (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StateOwner_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	VAL branch_StackType_7;
	switch (get_data_tag(in_StateOwner_3)) {
		case 0LL: { // Error
			decref(in_StackType_2);
			VAL v8 = MKI64(0LL /* Error */);
			branch_StackType_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Default
			branch_StackType_7 = in_StackType_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Resource
			VAL v9;
			VAL v10 = mtp_mirth_table_StateOwner_Resource(in_StateOwner_3, &v9);
			decref(v10);
			VAL v11 = mw_mirth_type_TZPlus(in_StackType_2, v9);
			branch_StackType_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_StackType_7;
}
static uint64_t mw_mirth_mirth_ZPlusMirth_parseZ_owner (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_nameZDivdnameZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	int64_t v8 = get_data_tag(v7);
	decref(v7);
	INT v9 = WRAP_I63(0LL);
	INT v10 = i64_to_int(v8);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	uint64_t branch_Token_13;
	TUP* branch_ZPlusMirth_14;
	bool branch_Bool_15;
	if (v12) {
		TUP* v16;
		uint64_t v17 = mw_mirth_token_Token_next(v6, in_Token_2, &v16);
		TUP* v18;
		bool v19 = mw_mirth_token_Token_vdashZAsk(v16, v17, &v18);
		branch_Bool_15 = v19;
		branch_ZPlusMirth_14 = v18;
		branch_Token_13 = in_Token_2;
	} else {
		bool v20 = false;
		branch_Bool_15 = v20;
		branch_ZPlusMirth_14 = v6;
		branch_Token_13 = in_Token_2;
	}
	TUP* branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	VAL branch_Maybe_23;
	if (branch_Bool_15) {
		TUP* v24;
		uint64_t v25 = mw_mirth_token_Token_next(branch_ZPlusMirth_14, branch_Token_13, &v24);
		uint64_t v26 = mw_mirth_token_Token_succ(v25);
		VAL v27 = mtw_std_maybe_Maybe_1_Some(MKU64(branch_Token_13));
		branch_Maybe_23 = v27;
		branch_Token_22 = v26;
		branch_ZPlusMirth_21 = v24;
	} else {
		VAL v28 = MKI64(0LL /* None */);
		branch_Maybe_23 = v28;
		branch_Token_22 = branch_Token_13;
		branch_ZPlusMirth_21 = branch_ZPlusMirth_14;
	}
	*out_Maybe_5 = branch_Maybe_23;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_21;
	return branch_Token_22;
}
static VAL mw_mirth_mirth_ZPlusMirth_resolveZ_owner (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_StateOwner_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 0LL: { // None
			VAL v7 = MKI64(1LL /* Default */);
			branch_StateOwner_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			TUP* v9;
			mw_mirth_elab_ZPlusTypeElab_StartZBang(value_u64(v8), &v9);
			uint64_t v10 = value_u64(v9->cells[1]);
			TUP* v11;
			VAL v12 = mw_mirth_token_Token_sigZ_resourceZ_conZAsk(in_ZPlusMirth_1, v10, &v11);
			TUP* branch_ZPlusMirth_13;
			TUP* branch_ZPlusTypeElab_14;
			VAL branch_StateOwner_15;
			switch (get_data_tag(v12)) {
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					TUP* v17;
					TUP* v18;
					VAL v19 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang(v11, v9, v16, &v17, &v18);
					incref(v19);
					TUP* v20;
					bool v21 = mw_mirth_type_Resource_canZ_ownZ_stateZAsk(v17, v19, &v20);
					TUP* branch_ZPlusMirth_22;
					TUP* branch_ZPlusTypeElab_23;
					VAL branch_StateOwner_24;
					if (v21) {
						VAL v25 = v18->cells[0];
						incref(v25);
						VAL v26 = mtw_mirth_table_StateOwner_Resource(v25, v19);
						branch_StateOwner_24 = v26;
						branch_ZPlusTypeElab_23 = v18;
						branch_ZPlusMirth_22 = v20;
					} else {
						uint64_t v27 = value_u64(v18->cells[1]);
						STR* v28;
						STRLIT(v28, "Resource cannot own state.", 26);
						TUP* v29;
						mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v20, v27, v28, &v29);
						decref(v19);
						VAL v30 = MKI64(0LL /* Error */);
						branch_StateOwner_24 = v30;
						branch_ZPlusTypeElab_23 = v18;
						branch_ZPlusMirth_22 = v29;
					}
					branch_StateOwner_15 = branch_StateOwner_24;
					branch_ZPlusTypeElab_14 = branch_ZPlusTypeElab_23;
					branch_ZPlusMirth_13 = branch_ZPlusMirth_22;
				} break;
				case 0LL: { // None
					uint64_t v31 = value_u64(v9->cells[1]);
					STR* v32;
					STRLIT(v32, "Expected a resource name.", 25);
					TUP* v33;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v11, v31, v32, &v33);
					VAL v34 = MKI64(0LL /* Error */);
					branch_StateOwner_15 = v34;
					branch_ZPlusTypeElab_14 = v9;
					branch_ZPlusMirth_13 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			mw_mirth_elab_ZPlusTypeElab_rdrop(branch_ZPlusTypeElab_14);
			branch_StateOwner_6 = branch_StateOwner_15;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_StateOwner_6;
}
static uint64_t mw_mirth_table_Table_allocZBang (void) {
	void* v2 = mbuf_mirth_table_Table_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_table_Table_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_table_Table_index (uint64_t in_Table_1) {
	return in_Table_1;
}
static uint64_t mw_mirth_table_Table_head (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildehead, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_table_Table_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeqname, in_Table_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static TUP* mw_mirth_table_Table_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeqname, in_Table_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static uint64_t mw_mirth_table_Table_name (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildename, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_table_Table_owner (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeowner, in_Table_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static uint64_t mw_mirth_table_Table_numZ_buffer (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildenumZ_buffer, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_table_Table_allocZ_word (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeallocZ_word, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_table_Table_inlineZ_fields (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Table_ZTildeinlineZ_fields, in_Table_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static bool mw_mirth_table_Table_ZEqual (uint64_t in_Table_1, uint64_t in_Table_2) {
	uint64_t v4 = mw_mirth_table_Table_index(in_Table_1);
	uint64_t v5 = mw_mirth_table_Table_index(in_Table_2);
	bool v6 = (v4 == v5);
	return v6;
}
static VAL mw_mirth_table_Table_unifyZBang (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, uint64_t in_Table_3, TUP* *out_ZPlusMirth_4) {
	bool v6 = mw_mirth_table_Table_ZEqual(in_Table_2, in_Table_3);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Type_8;
	if (v6) {
		VAL v9 = mw_mirth_table_Table_ZToType(in_Table_2);
		branch_Type_8 = v9;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v10 = mw_mirth_table_Table_ZToType(in_Table_2);
		VAL v11 = mw_mirth_table_Table_ZToType(in_Table_3);
		TUP* v12;
		VAL v13 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v10, v11, &v12);
		branch_Type_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static VAL mw_mirth_table_Table_ZToType (uint64_t in_Table_1) {
	VAL v3 = mtw_mirth_type_Type_Table(in_Table_1);
	return v3;
}
static VAL mw_mirth_table_Table_ZToTycon (uint64_t in_Table_1) {
	VAL v3 = mtw_mirth_tycon_Tycon_Table(in_Table_1);
	return v3;
}
static VAL mw_mirth_table_Table_ZToNamespace (uint64_t in_Table_1) {
	VAL v3 = mw_mirth_table_Table_ZToTycon(in_Table_1);
	VAL v4 = mw_mirth_tycon_Tycon_ZToNamespace(v3);
	return v4;
}
static void mw_mirth_table_Table_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Table_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_table_Table_qnameZ_hard(in_ZPlusMirth_1, in_Table_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_QName_qnameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static VAL mw_mirth_table_Table_constructorZ_fields (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_table_Table_inlineZ_fields(in_ZPlusMirth_1, in_Table_2, &v5);
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	TUP* v10 = v5;
	VAL v11 = v8;
	VAL v12 = v6;
	bool v13 = v9;
	bool v14 = v9;
	while (v14) {
		TUP* v15 = v10;
		VAL v16 = v11;
		VAL v17 = v12;
		bool v18 = v13;
		TUP* branch_ZPlusMirth_19;
		VAL branch_ZPlusLister_20;
		VAL branch_List_21;
		bool branch_Bool_22;
		switch (get_data_tag(v17)) {
			case 1LL: { // Cons
				VAL v23;
				VAL v24 = mtp_std_list_List_1_Cons(v17, &v23);
				incref(v24);
				incref(v24);
				TUP* v25;
				bool v26 = mw_mirth_table_Field_isZ_rawZAsk(v15, value_u64(v24), &v25);
				bool v27 = !v26;
				TUP* branch_ZPlusMirth_28;
				bool branch_Bool_29;
				if (v27) {
					TUP* v30;
					VAL v31 = mw_mirth_table_Field_default(v25, value_u64(v24), &v30);
					int64_t v32 = get_data_tag(v31);
					decref(v31);
					INT v33 = WRAP_I63(0LL);
					INT v34 = i64_to_int(v32);
					bool v35 = int_eq(v34, v33);
					branch_Bool_29 = v35;
					branch_ZPlusMirth_28 = v30;
				} else {
					decref(v24);
					bool v36 = false;
					branch_Bool_29 = v36;
					branch_ZPlusMirth_28 = v25;
				}
				TUP* branch_ZPlusMirth_37;
				VAL branch_ZPlusLister_38;
				if (branch_Bool_29) {
					VAL v39;
					mw_std_list_ZPlusLister_1_pushZBang(v24, v16, &v39);
					branch_ZPlusLister_38 = v39;
					branch_ZPlusMirth_37 = branch_ZPlusMirth_28;
				} else {
					decref(v24);
					branch_ZPlusLister_38 = v16;
					branch_ZPlusMirth_37 = branch_ZPlusMirth_28;
				}
				bool v40 = true;
				branch_Bool_22 = v40;
				branch_List_21 = v23;
				branch_ZPlusLister_20 = branch_ZPlusLister_38;
				branch_ZPlusMirth_19 = branch_ZPlusMirth_37;
			} break;
			case 0LL: { // Nil
				VAL v41 = MKI64(0LL /* Nil */);
				bool v42 = false;
				branch_Bool_22 = v42;
				branch_List_21 = v41;
				branch_ZPlusLister_20 = v16;
				branch_ZPlusMirth_19 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_22;
		v13 = branch_Bool_22;
		v12 = branch_List_21;
		v11 = branch_ZPlusLister_20;
		v10 = branch_ZPlusMirth_19;
	}
	decref(v12);
	VAL v43 = mw_std_list_ZPlusLister_1_doneZBang(v11);
	*out_ZPlusMirth_3 = v10;
	return v43;
}
static uint64_t mw_mirth_table_Field_allocZBang (void) {
	void* v2 = mbuf_mirth_table_Field_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_table_Field_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_table_Field_index (uint64_t in_Field_1) {
	return in_Field_1;
}
static uint64_t mw_mirth_table_Field_head (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildehead, in_Field_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_table_Field_default (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildedefault, in_Field_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_table_Field_name (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildename, in_Field_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_table_Field_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildeqname, in_Field_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static TUP* mw_mirth_table_Field_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildeqname, in_Field_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static VAL mw_mirth_table_Field_namespace (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6 = mw_mirth_table_Field_qnameZ_hard(in_ZPlusMirth_1, in_Field_2, &v5);
	VAL v7 = v6->cells[0];
	incref(v7);
	decref(MKTUP(v6, 3));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_table_Field_owner (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildeowner, in_Field_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_table_Field_indexZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildeindexZ_type, in_Field_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_table_Field_valueZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildevalueZ_type, in_Field_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_table_Field_basis (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_type_T0();
	TUP* v6;
	VAL v7 = mw_mirth_table_Field_owner(in_ZPlusMirth_1, in_Field_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_table_StateOwner_push(v6, v5, v7, &v8);
	*out_ZPlusMirth_3 = v8;
	return v9;
}
static VAL mw_mirth_table_Field_dom (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_table_Field_basis(in_ZPlusMirth_1, in_Field_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_table_Field_indexZ_type(v5, in_Field_2, &v7);
	VAL v9 = mw_mirth_type_TZMul(v6, v8);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static VAL mw_mirth_table_Field_cod (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_table_Field_basis(in_ZPlusMirth_1, in_Field_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_table_Field_valueZ_type(v5, in_Field_2, &v7);
	VAL v9 = mtw_mirth_type_Type_Mut(v8);
	VAL v10 = mw_mirth_type_TZMul(v6, v9);
	*out_ZPlusMirth_3 = v7;
	return v10;
}
static TUP* mw_mirth_table_Field_type (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_table_Field_dom(in_ZPlusMirth_1, in_Field_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_table_Field_cod(v5, in_Field_2, &v7);
	TUP* v9 = mw_mirth_type_TZ_ZTo(v6, v8);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static bool mw_mirth_table_Field_ZEqual (uint64_t in_Field_1, uint64_t in_Field_2) {
	uint64_t v4 = mw_mirth_table_Field_index(in_Field_1);
	uint64_t v5 = mw_mirth_table_Field_index(in_Field_2);
	bool v6 = (v4 == v5);
	return v6;
}
static bool mw_mirth_table_Field_isZ_rawZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_table_Field_name(in_ZPlusMirth_1, in_Field_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_name_Name_couldZ_beZ_rawZ_fieldZ_nameZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static TUP* mw_mirth_table_tableZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, STR* in_Str_3, INT in_Int_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7;
	uint64_t v8 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, in_Str_3, &v7);
	VAL v9 = mtw_mirth_tycon_Tycon_Table(in_Table_2);
	VAL v10 = mtw_mirth_name_Namespace_Tycon(v9);
	TUP* v11 = mtw_mirth_name_QName_QName(v10, v8, in_Int_4);
	*out_ZPlusMirth_5 = v7;
	return v11;
}
static uint64_t mw_mirth_table_tableZ_newZBang (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, VAL in_PropState_5, VAL in_Maybe_6, TUP* *out_ZPlusMirth_7) {
	uint64_t v9 = mw_mirth_table_Table_allocZBang();
	VAL v10 = mtw_mirth_mirth_PropLabel_TableQName(v9);
	TUP* v11 = mtw_mirth_mirth_Prop_1_Prop(v10, in_PropState_5);
	void* v12 = field_mut(&mfld_mirth_table_Table_ZTildeqname, v9);
	mut_set(MKTUP(v11, 2), v12);
	VAL v13 = mtw_mirth_mirth_PropLabel_TableOwner(v9);
	TUP* v14 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v14, 2));
	FNPTR v15 = &mb_mirth_mirth_PropLabel_prop_1_sp26_0;
	VAL v16 = mtw_mirth_mirth_PropState_1_Delay(v14, in_Maybe_2, MKFNPTR(v15));
	TUP* v17 = mtw_mirth_mirth_Prop_1_Prop(v13, v16);
	void* v18 = field_mut(&mfld_mirth_table_Table_ZTildeowner, v9);
	mut_set(MKTUP(v17, 2), v18);
	void* v19 = field_mut(&mfld_mirth_table_Table_ZTildehead, v9);
	mut_set(MKU64(in_Token_3), v19);
	void* v20 = field_mut(&mfld_mirth_table_Table_ZTildename, v9);
	mut_set(MKU64(in_Name_4), v20);
	void* v21 = field_mut(&mfld_mirth_table_Table_ZTildedoc, v9);
	mut_set(in_Maybe_6, v21);
	VAL v22 = MKI64(0LL /* Nil */);
	void* v23 = field_mut(&mfld_mirth_table_Table_ZTildeinlineZ_fields, v9);
	mut_set(v22, v23);
	VAL v24 = mtw_mirth_def_Def_Table(v9);
	TUP* v25;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v24, &v25);
	VAL v26 = MKI64(0LL /* None */);
	TUP* v27;
	uint64_t v28 = mw_mirth_table_Table_head(v25, v9, &v27);
	STR* v29;
	STRLIT(v29, "NumBuffer", 9);
	TUP* v30;
	uint64_t v31 = mw_std_prim_Str_ZToName(v27, v29, &v30);
	INT v32 = WRAP_I63(8LL);
	TUP* v33;
	uint64_t v34 = mw_mirth_buffer_Buffer_NewZBang(v30, v28, v32, v31, v26, &v33);
	void* v35 = field_mut(&mfld_mirth_table_Table_ZTildenumZ_buffer, v9);
	mut_set(MKU64(v34), v35);
	STR* v36;
	STRLIT(v36, "NumBuffer", 9);
	INT v37 = WRAP_I63(0LL);
	TUP* v38;
	TUP* v39 = mw_mirth_table_tableZ_qname(v33, v9, v36, v37, &v38);
	VAL v40 = mtw_mirth_mirth_PropLabel_BufferQName(v34);
	TUP* v41;
	TUP* v42 = mw_mirth_mirth_PropLabel_prop(v38, MKTUP(v39, 3), v40, &v41);
	void* v43 = field_mut(&mfld_mirth_buffer_Buffer_ZTildeqname, v34);
	mut_set(MKTUP(v42, 2), v43);
	VAL v44 = mtw_mirth_def_Def_Buffer(v34);
	TUP* v45;
	mw_mirth_def_Def_register(v41, v44, &v45);
	STR* v46;
	STRLIT(v46, "Return Nil, the zero-th element of the table.", 45);
	VAL v47 = mtw_std_maybe_Maybe_1_Some(MKSTR(v46));
	TUP* v48;
	uint64_t v49 = mw_mirth_table_Table_head(v45, v9, &v48);
	STR* v50;
	STRLIT(v50, "Nil", 3);
	VAL v51 = MKI64(0LL /* Nil */);
	uint64_t v52;
	TUP* v53;
	uint64_t v54 = mw_mirth_word_Word_BuildZBang_3_sp3(v9, v49, v49, v47, v48, v50, v51, &v52, &v53);
	STR* v55;
	STRLIT(v55, "Return Nil, the 0th element of the table.", 41);
	VAL v56 = mtw_std_maybe_Maybe_1_Some(MKSTR(v55));
	TUP* v57;
	uint64_t v58 = mw_mirth_table_Table_head(v53, v52, &v57);
	STR* v59;
	STRLIT(v59, "nil", 3);
	VAL v60 = MKI64(0LL /* Nil */);
	uint64_t v61;
	TUP* v62;
	uint64_t v63 = mw_mirth_word_Word_BuildZBang_3_sp3(v52, v58, v58, v56, v57, v59, v60, &v61, &v62);
	STR* v64;
	STRLIT(v64, "Allocate a table element, without setting any fields.", 53);
	VAL v65 = mtw_std_maybe_Maybe_1_Some(MKSTR(v64));
	TUP* v66;
	uint64_t v67 = mw_mirth_table_Table_head(v62, v61, &v66);
	STR* v68;
	STRLIT(v68, "Alloc!", 6);
	VAL v69 = MKI64(0LL /* Nil */);
	uint64_t v70;
	TUP* v71;
	uint64_t v72 = mw_mirth_word_Word_BuildZBang_3_sp4(v61, v67, v67, v65, v66, v68, v69, &v70, &v71);
	STR* v73;
	STRLIT(v73, "Allocate a table element, without setting any fields.", 53);
	VAL v74 = mtw_std_maybe_Maybe_1_Some(MKSTR(v73));
	TUP* v75;
	uint64_t v76 = mw_mirth_table_Table_head(v71, v70, &v75);
	STR* v77;
	STRLIT(v77, "alloc!", 6);
	VAL v78 = MKI64(0LL /* Nil */);
	uint64_t v79;
	TUP* v80;
	uint64_t v81 = mw_mirth_word_Word_BuildZBang_3_sp4(v70, v76, v76, v74, v75, v77, v78, &v79, &v80);
	void* v82 = field_mut(&mfld_mirth_table_Table_ZTildeallocZ_word, v79);
	mut_set(MKU64(v81), v82);
	STR* v83;
	STRLIT(v83, "Create a table element and supply field values.", 47);
	VAL v84 = mtw_std_maybe_Maybe_1_Some(MKSTR(v83));
	TUP* v85;
	uint64_t v86 = mw_mirth_table_Table_head(v80, v79, &v85);
	STR* v87;
	STRLIT(v87, "Make!", 5);
	VAL v88 = MKI64(0LL /* Nil */);
	incref(v88);
	INT v89 = mw_std_list_List_1_len(v88);
	TUP* v90;
	uint64_t v91 = mw_std_prim_Str_ZToName(v85, v87, &v90);
	VAL v92 = MKI64(0LL /* None */);
	TUP* v93;
	uint64_t v94 = mw_mirth_word_Word_NewZBang(v90, v86, v92, v86, v91, v89, v84, &v93);
	VAL v95 = mtw_mirth_mirth_PropLabel_WordQName(v94);
	TUP* v96;
	TUP* v97 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v93, v79, v94, v95, &v96);
	void* v98 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v94);
	mut_set(MKTUP(v97, 2), v98);
	VAL v99 = mtw_mirth_mirth_PropLabel_WordType(v94);
	TUP* v100 = value_tup(v96->cells[6], 2);
	incref(MKTUP(v100, 2));
	FNPTR v101 = &mb_mirth_mirth_PropLabel_prop_1_sp37_2;
	VAL v102 = mtw_mirth_mirth_PropState_1_Delay(v100, MKU64(v79), MKFNPTR(v101));
	TUP* v103 = mtw_mirth_mirth_Prop_1_Prop(v99, v102);
	void* v104 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v94);
	mut_set(MKTUP(v103, 2), v104);
	VAL v105 = mtw_mirth_mirth_PropLabel_WordParams(v94);
	TUP* v106;
	TUP* v107 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v96, v88, v94, v105, &v106);
	void* v108 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v94);
	mut_set(MKTUP(v107, 2), v108);
	VAL v109 = mtw_mirth_mirth_PropLabel_WordArrow(v94);
	TUP* v110 = tup_new(2);
	v110->size = 2;
	v110->cells[1] = MKU64(v94);
	v110->cells[0] = MKU64(v79);
	TUP* v111 = value_tup(v106->cells[6], 2);
	incref(MKTUP(v111, 2));
	FNPTR v112 = &mb_mirth_mirth_PropLabel_prop_1_sp38_47;
	VAL v113 = mtw_mirth_mirth_PropState_1_Delay(v111, MKTUP(v110, 2), MKFNPTR(v112));
	TUP* v114 = mtw_mirth_mirth_Prop_1_Prop(v109, v113);
	void* v115 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v94);
	mut_set(MKTUP(v114, 2), v115);
	STR* v116;
	STRLIT(v116, "Turn a table element into a U64 index.", 38);
	VAL v117 = mtw_std_maybe_Maybe_1_Some(MKSTR(v116));
	TUP* v118;
	uint64_t v119 = mw_mirth_table_Table_head(v106, v79, &v118);
	STR* v120;
	STRLIT(v120, "index", 5);
	VAL v121 = MKI64(0LL /* Nil */);
	incref(v121);
	INT v122 = mw_std_list_List_1_len(v121);
	TUP* v123;
	uint64_t v124 = mw_std_prim_Str_ZToName(v118, v120, &v123);
	VAL v125 = MKI64(0LL /* None */);
	TUP* v126;
	uint64_t v127 = mw_mirth_word_Word_NewZBang(v123, v119, v125, v119, v124, v122, v117, &v126);
	VAL v128 = mtw_mirth_mirth_PropLabel_WordQName(v127);
	TUP* v129;
	TUP* v130 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v126, v79, v127, v128, &v129);
	void* v131 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v127);
	mut_set(MKTUP(v130, 2), v131);
	VAL v132 = mtw_mirth_mirth_PropLabel_WordType(v127);
	TUP* v133 = value_tup(v129->cells[6], 2);
	incref(MKTUP(v133, 2));
	FNPTR v134 = &mb_mirth_mirth_PropLabel_prop_1_sp35_1;
	VAL v135 = mtw_mirth_mirth_PropState_1_Delay(v133, MKU64(v79), MKFNPTR(v134));
	TUP* v136 = mtw_mirth_mirth_Prop_1_Prop(v132, v135);
	void* v137 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v127);
	mut_set(MKTUP(v136, 2), v137);
	VAL v138 = mtw_mirth_mirth_PropLabel_WordParams(v127);
	TUP* v139;
	TUP* v140 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v129, v121, v127, v138, &v139);
	void* v141 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v127);
	mut_set(MKTUP(v140, 2), v141);
	VAL v142 = mtw_mirth_mirth_PropLabel_WordArrow(v127);
	TUP* v143 = tup_new(2);
	v143->size = 2;
	v143->cells[1] = MKU64(v127);
	v143->cells[0] = MKU64(v79);
	TUP* v144 = value_tup(v139->cells[6], 2);
	incref(MKTUP(v144, 2));
	FNPTR v145 = &mb_mirth_mirth_PropLabel_prop_1_sp36_13;
	VAL v146 = mtw_mirth_mirth_PropState_1_Delay(v144, MKTUP(v143, 2), MKFNPTR(v145));
	TUP* v147 = mtw_mirth_mirth_Prop_1_Prop(v142, v146);
	void* v148 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v127);
	mut_set(MKTUP(v147, 2), v148);
	STR* v149;
	STRLIT(v149, "Turn a U64 index into a table element. If out of bounds, Nil is returned.", 73);
	VAL v150 = mtw_std_maybe_Maybe_1_Some(MKSTR(v149));
	TUP* v151;
	uint64_t v152 = mw_mirth_table_Table_head(v139, v79, &v151);
	STR* v153;
	STRLIT(v153, "from-index", 10);
	VAL v154 = MKI64(0LL /* Nil */);
	incref(v154);
	INT v155 = mw_std_list_List_1_len(v154);
	TUP* v156;
	uint64_t v157 = mw_std_prim_Str_ZToName(v151, v153, &v156);
	VAL v158 = MKI64(0LL /* None */);
	TUP* v159;
	uint64_t v160 = mw_mirth_word_Word_NewZBang(v156, v152, v158, v152, v157, v155, v150, &v159);
	VAL v161 = mtw_mirth_mirth_PropLabel_WordQName(v160);
	TUP* v162;
	TUP* v163 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v159, v79, v160, v161, &v162);
	void* v164 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v160);
	mut_set(MKTUP(v163, 2), v164);
	VAL v165 = mtw_mirth_mirth_PropLabel_WordType(v160);
	TUP* v166 = value_tup(v162->cells[6], 2);
	incref(MKTUP(v166, 2));
	FNPTR v167 = &mb_mirth_mirth_PropLabel_prop_1_sp33_1;
	VAL v168 = mtw_mirth_mirth_PropState_1_Delay(v166, MKU64(v79), MKFNPTR(v167));
	TUP* v169 = mtw_mirth_mirth_Prop_1_Prop(v165, v168);
	void* v170 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v160);
	mut_set(MKTUP(v169, 2), v170);
	VAL v171 = mtw_mirth_mirth_PropLabel_WordParams(v160);
	TUP* v172;
	TUP* v173 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v162, v154, v160, v171, &v172);
	void* v174 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v160);
	mut_set(MKTUP(v173, 2), v174);
	VAL v175 = mtw_mirth_mirth_PropLabel_WordArrow(v160);
	TUP* v176 = tup_new(2);
	v176->size = 2;
	v176->cells[1] = MKU64(v160);
	v176->cells[0] = MKU64(v79);
	TUP* v177 = value_tup(v172->cells[6], 2);
	incref(MKTUP(v177, 2));
	FNPTR v178 = &mb_mirth_mirth_PropLabel_prop_1_sp34_25;
	VAL v179 = mtw_mirth_mirth_PropState_1_Delay(v177, MKTUP(v176, 2), MKFNPTR(v178));
	TUP* v180 = mtw_mirth_mirth_Prop_1_Prop(v175, v179);
	void* v181 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v160);
	mut_set(MKTUP(v180, 2), v181);
	STR* v182;
	STRLIT(v182, "Return next table element if it exists. Otherwise return Nil.", 61);
	VAL v183 = mtw_std_maybe_Maybe_1_Some(MKSTR(v182));
	TUP* v184;
	uint64_t v185 = mw_mirth_table_Table_head(v172, v79, &v184);
	STR* v186;
	STRLIT(v186, "succ", 4);
	VAL v187 = MKI64(0LL /* Nil */);
	incref(v187);
	INT v188 = mw_std_list_List_1_len(v187);
	TUP* v189;
	uint64_t v190 = mw_std_prim_Str_ZToName(v184, v186, &v189);
	VAL v191 = MKI64(0LL /* None */);
	TUP* v192;
	uint64_t v193 = mw_mirth_word_Word_NewZBang(v189, v185, v191, v185, v190, v188, v183, &v192);
	VAL v194 = mtw_mirth_mirth_PropLabel_WordQName(v193);
	TUP* v195;
	TUP* v196 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v192, v79, v193, v194, &v195);
	void* v197 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v193);
	mut_set(MKTUP(v196, 2), v197);
	VAL v198 = mtw_mirth_mirth_PropLabel_WordType(v193);
	TUP* v199;
	TUP* v200 = mw_mirth_mirth_PropLabel_prop_1_sp30(v79, v195, v198, &v199);
	void* v201 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v193);
	mut_set(MKTUP(v200, 2), v201);
	VAL v202 = mtw_mirth_mirth_PropLabel_WordParams(v193);
	TUP* v203;
	TUP* v204 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v199, v187, v193, v202, &v203);
	void* v205 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v193);
	mut_set(MKTUP(v204, 2), v205);
	VAL v206 = mtw_mirth_mirth_PropLabel_WordArrow(v193);
	TUP* v207 = tup_new(2);
	v207->size = 2;
	v207->cells[1] = MKU64(v193);
	v207->cells[0] = MKU64(v79);
	TUP* v208 = value_tup(v203->cells[6], 2);
	incref(MKTUP(v208, 2));
	FNPTR v209 = &mb_mirth_mirth_PropLabel_prop_1_sp32_25;
	VAL v210 = mtw_mirth_mirth_PropState_1_Delay(v208, MKTUP(v207, 2), MKFNPTR(v209));
	TUP* v211 = mtw_mirth_mirth_Prop_1_Prop(v206, v210);
	void* v212 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v193);
	mut_set(MKTUP(v211, 2), v212);
	STR* v213;
	STRLIT(v213, "Return previous table element if it exists. Otherwise return Nil.", 65);
	VAL v214 = mtw_std_maybe_Maybe_1_Some(MKSTR(v213));
	TUP* v215;
	uint64_t v216 = mw_mirth_table_Table_head(v203, v79, &v215);
	STR* v217;
	STRLIT(v217, "pred", 4);
	VAL v218 = MKI64(0LL /* Nil */);
	incref(v218);
	INT v219 = mw_std_list_List_1_len(v218);
	TUP* v220;
	uint64_t v221 = mw_std_prim_Str_ZToName(v215, v217, &v220);
	VAL v222 = MKI64(0LL /* None */);
	TUP* v223;
	uint64_t v224 = mw_mirth_word_Word_NewZBang(v220, v216, v222, v216, v221, v219, v214, &v223);
	VAL v225 = mtw_mirth_mirth_PropLabel_WordQName(v224);
	TUP* v226;
	TUP* v227 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v223, v79, v224, v225, &v226);
	void* v228 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v224);
	mut_set(MKTUP(v227, 2), v228);
	VAL v229 = mtw_mirth_mirth_PropLabel_WordType(v224);
	TUP* v230;
	TUP* v231 = mw_mirth_mirth_PropLabel_prop_1_sp30(v79, v226, v229, &v230);
	void* v232 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v224);
	mut_set(MKTUP(v231, 2), v232);
	VAL v233 = mtw_mirth_mirth_PropLabel_WordParams(v224);
	TUP* v234;
	TUP* v235 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v230, v218, v224, v233, &v234);
	void* v236 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v224);
	mut_set(MKTUP(v235, 2), v236);
	VAL v237 = mtw_mirth_mirth_PropLabel_WordArrow(v224);
	TUP* v238 = tup_new(2);
	v238->size = 2;
	v238->cells[1] = MKU64(v224);
	v238->cells[0] = MKU64(v79);
	TUP* v239 = value_tup(v234->cells[6], 2);
	incref(MKTUP(v239, 2));
	FNPTR v240 = &mb_mirth_mirth_PropLabel_prop_1_sp31_17;
	VAL v241 = mtw_mirth_mirth_PropState_1_Delay(v239, MKTUP(v238, 2), MKFNPTR(v240));
	TUP* v242 = mtw_mirth_mirth_Prop_1_Prop(v237, v241);
	void* v243 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v224);
	mut_set(MKTUP(v242, 2), v243);
	STR* v244;
	STRLIT(v244, "Iterate through all table elements, skipping Nil.", 49);
	VAL v245 = mtw_std_maybe_Maybe_1_Some(MKSTR(v244));
	TUP* v246;
	uint64_t v247 = mw_mirth_table_Table_head(v234, v79, &v246);
	STR* v248;
	STRLIT(v248, "for", 3);
	STR* v249;
	STRLIT(v249, "f", 1);
	VAL v250 = MKI64(0LL /* Nil */);
	VAL v251 = mw_std_list_List_1_cons(MKSTR(v249), v250);
	incref(v251);
	INT v252 = mw_std_list_List_1_len(v251);
	TUP* v253;
	uint64_t v254 = mw_std_prim_Str_ZToName(v246, v248, &v253);
	VAL v255 = MKI64(0LL /* None */);
	TUP* v256;
	uint64_t v257 = mw_mirth_word_Word_NewZBang(v253, v247, v255, v247, v254, v252, v245, &v256);
	VAL v258 = mtw_mirth_mirth_PropLabel_WordQName(v257);
	TUP* v259;
	TUP* v260 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v256, v79, v257, v258, &v259);
	void* v261 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v257);
	mut_set(MKTUP(v260, 2), v261);
	VAL v262 = mtw_mirth_mirth_PropLabel_WordType(v257);
	TUP* v263 = value_tup(v259->cells[6], 2);
	incref(MKTUP(v263, 2));
	FNPTR v264 = &mb_mirth_mirth_PropLabel_prop_1_sp27_0;
	VAL v265 = mtw_mirth_mirth_PropState_1_Delay(v263, MKU64(v79), MKFNPTR(v264));
	TUP* v266 = mtw_mirth_mirth_Prop_1_Prop(v262, v265);
	void* v267 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v257);
	mut_set(MKTUP(v266, 2), v267);
	VAL v268 = mtw_mirth_mirth_PropLabel_WordParams(v257);
	TUP* v269;
	TUP* v270 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v259, v251, v257, v268, &v269);
	void* v271 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v257);
	mut_set(MKTUP(v270, 2), v271);
	VAL v272 = mtw_mirth_mirth_PropLabel_WordArrow(v257);
	TUP* v273 = tup_new(2);
	v273->size = 2;
	v273->cells[1] = MKU64(v257);
	v273->cells[0] = MKU64(v79);
	TUP* v274 = value_tup(v269->cells[6], 2);
	incref(MKTUP(v274, 2));
	FNPTR v275 = &mb_mirth_mirth_PropLabel_prop_1_sp28_29;
	VAL v276 = mtw_mirth_mirth_PropState_1_Delay(v274, MKTUP(v273, 2), MKFNPTR(v275));
	TUP* v277 = mtw_mirth_mirth_Prop_1_Prop(v272, v276);
	void* v278 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v257);
	mut_set(MKTUP(v277, 2), v278);
	*out_ZPlusMirth_7 = v269;
	return v79;
}
static uint64_t mw_mirth_table_parseZ_tableZ_decl (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5, uint64_t *out_Token_6, VAL *out_Maybe_7, VAL *out_List_8, VAL *out_Maybe_9) {
	TUP* v10;
	VAL v11 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v10);
	TUP* v12;
	INT v13 = mw_mirth_token_Token_numZ_args(v10, in_Token_2, &v12);
	INT v14 = WRAP_I63(0LL);
	bool v15 = int_lt(v14, v13);
	VAL branch_Maybe_16;
	uint64_t branch_Token_17;
	VAL branch_Maybe_18;
	VAL branch_Maybe_19;
	uint64_t branch_Token_20;
	TUP* branch_ZPlusMirth_21;
	if (v15) {
		TUP* v22;
		uint64_t v23 = mw_mirth_token_Token_next(v12, in_Token_2, &v22);
		TUP* v24;
		INT v25 = mw_mirth_token_Token_numZ_args(v22, in_Token_2, &v24);
		INT v26 = WRAP_I63(1LL);
		bool v27 = int_eq(v25, v26);
		VAL branch_Maybe_28;
		uint64_t branch_Token_29;
		TUP* branch_ZPlusMirth_30;
		uint64_t branch_Token_31;
		VAL branch_Maybe_32;
		if (v27) {
			TUP* v33;
			uint64_t v34 = mw_mirth_token_Token_argsZ_1(v24, in_Token_2, &v33);
			VAL v35 = MKI64(0LL /* None */);
			branch_Maybe_32 = v35;
			branch_Token_31 = v34;
			branch_ZPlusMirth_30 = v33;
			branch_Token_29 = v23;
			branch_Maybe_28 = v11;
		} else {
			TUP* v36;
			uint64_t v37;
			uint64_t v38 = mw_mirth_token_Token_argsZ_2(v24, in_Token_2, &v36, &v37);
			VAL v39 = mtw_std_maybe_Maybe_1_Some(MKU64(v37));
			branch_Maybe_32 = v39;
			branch_Token_31 = v38;
			branch_ZPlusMirth_30 = v36;
			branch_Token_29 = v23;
			branch_Maybe_28 = v11;
		}
		TUP* v40;
		VAL v41;
		uint64_t v42 = mw_mirth_mirth_ZPlusMirth_parseZ_owner(branch_ZPlusMirth_30, branch_Token_31, &v40, &v41);
		TUP* v43;
		VAL v44 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v40, v42, &v43);
		TUP* v45;
		uint64_t v46;
		mw_std_maybe_Maybe_1_else_1_sp13(v43, v42, v44, &v45, &v46);
		TUP* v47;
		mw_mirth_token_Token_argsZ_0(v45, v46, &v47);
		uint64_t v48 = mw_mirth_token_Token_succ(v46);
		TUP* v49;
		bool v50 = mw_mirth_token_Token_argZ_endZAsk(v47, v48, &v49);
		TUP* branch_ZPlusMirth_51;
		uint64_t branch_Token_52;
		if (v50) {
			branch_Token_52 = v46;
			branch_ZPlusMirth_51 = v49;
		} else {
			uint64_t v53 = mw_mirth_token_Token_succ(v46);
			STR* v54;
			STRLIT(v54, "expected end of argument after table name", 41);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v49, v53, v54);
		}
		branch_ZPlusMirth_21 = branch_ZPlusMirth_51;
		branch_Token_20 = branch_Token_52;
		branch_Maybe_19 = v41;
		branch_Maybe_18 = branch_Maybe_32;
		branch_Token_17 = branch_Token_29;
		branch_Maybe_16 = branch_Maybe_28;
	} else {
		uint64_t v56 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v57;
		VAL v58;
		uint64_t v59 = mw_mirth_mirth_ZPlusMirth_parseZ_owner(v12, v56, &v57, &v58);
		TUP* v60;
		VAL v61 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v57, v59, &v60);
		TUP* v62;
		uint64_t v63;
		mw_std_maybe_Maybe_1_else_1_sp13(v60, v59, v61, &v62, &v63);
		TUP* v64;
		mw_mirth_token_Token_argsZ_0(v62, v63, &v64);
		TUP* v65;
		uint64_t v66 = mw_mirth_token_Token_next(v64, v59, &v65);
		TUP* v67;
		VAL v68 = mw_mirth_token_Token_lcurlyZAsk(v65, v66, &v67);
		int64_t v69 = get_data_tag(v68);
		decref(v68);
		INT v70 = WRAP_I63(0LL);
		INT v71 = i64_to_int(v69);
		bool v72 = int_eq(v71, v70);
		bool v73 = !v72;
		TUP* branch_ZPlusMirth_74;
		uint64_t branch_Token_75;
		VAL branch_Maybe_76;
		if (v73) {
			TUP* v77;
			uint64_t v78 = mw_mirth_token_Token_next(v67, v66, &v77);
			uint64_t v79 = mw_mirth_token_Token_succ(v66);
			VAL v80 = mtw_std_maybe_Maybe_1_Some(MKU64(v79));
			branch_Maybe_76 = v80;
			branch_Token_75 = v78;
			branch_ZPlusMirth_74 = v77;
		} else {
			VAL v81 = MKI64(0LL /* None */);
			branch_Maybe_76 = v81;
			branch_Token_75 = v66;
			branch_ZPlusMirth_74 = v67;
		}
		branch_ZPlusMirth_21 = branch_ZPlusMirth_74;
		branch_Token_20 = v63;
		branch_Maybe_19 = v58;
		branch_Maybe_18 = branch_Maybe_76;
		branch_Token_17 = branch_Token_75;
		branch_Maybe_16 = v11;
	}
	VAL branch_List_82;
	TUP* branch_ZPlusMirth_83;
	VAL branch_Maybe_84;
	switch (get_data_tag(branch_Maybe_18)) {
		case 1LL: { // Some
			VAL v85 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_18);
			VAL v86 = MKI64(0LL /* Nil */);
			VAL v87;
			mw_std_list_List_1_buildZBang(v86, &v87);
			incref(v85);
			TUP* v88;
			bool v89 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(branch_ZPlusMirth_21, value_u64(v85), &v88);
			bool v90 = !v89;
			VAL v91 = v85;
			TUP* v92 = v88;
			VAL v93 = v87;
			bool v94 = v90;
			while (v94) {
				VAL v95 = v91;
				TUP* v96 = v92;
				VAL v97 = v93;
				TUP* v98;
				TUP* v99;
				uint64_t v100 = mw_mirth_table_parseZ_inlineZ_fieldZBang(v96, value_u64(v95), &v98, &v99);
				VAL v101;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v99, 5), v97, &v101);
				TUP* v102;
				bool v103 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v98, v100, &v102);
				bool v104 = !v103;
				v94 = v104;
				v93 = v101;
				v92 = v102;
				v91 = MKU64(v100);
			}
			VAL v105 = mw_std_list_ZPlusLister_1_doneZBang(v93);
			incref(v91);
			TUP* v106;
			bool v107 = mw_mirth_token_Token_sigZ_dashesZAsk(v92, value_u64(v91), &v106);
			VAL branch_List_108;
			TUP* branch_ZPlusMirth_109;
			VAL branch_Maybe_110;
			if (v107) {
				uint64_t v111 = mw_mirth_token_Token_succ(value_u64(v91));
				VAL v112 = mtw_std_maybe_Maybe_1_Some(MKU64(v111));
				branch_Maybe_110 = v112;
				branch_ZPlusMirth_109 = v106;
				branch_List_108 = v105;
			} else {
				incref(v91);
				TUP* v113;
				bool v114 = mw_mirth_token_Token_argZ_endZAsk(v106, value_u64(v91), &v113);
				TUP* branch_ZPlusMirth_115;
				uint64_t branch_Token_116;
				if (v114) {
					branch_Token_116 = value_u64(v91);
					branch_ZPlusMirth_115 = v113;
				} else {
					STR* v117;
					STRLIT(v117, "Invalid syntax.", 15);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v113, value_u64(v91), v117);
				}
				VAL v120 = MKI64(0LL /* None */);
				branch_Maybe_110 = v120;
				branch_ZPlusMirth_109 = branch_ZPlusMirth_115;
				branch_List_108 = v105;
			}
			branch_Maybe_84 = branch_Maybe_110;
			branch_ZPlusMirth_83 = branch_ZPlusMirth_109;
			branch_List_82 = branch_List_108;
		} break;
		case 0LL: { // None
			VAL v121 = MKI64(0LL /* Nil */);
			VAL v122 = MKI64(0LL /* None */);
			branch_Maybe_84 = v122;
			branch_ZPlusMirth_83 = branch_ZPlusMirth_21;
			branch_List_82 = v121;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_9 = branch_Maybe_84;
	*out_List_8 = branch_List_82;
	*out_Maybe_7 = branch_Maybe_16;
	*out_Token_6 = branch_Token_20;
	*out_Maybe_5 = branch_Maybe_19;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_83;
	return branch_Token_17;
}
static uint64_t mw_mirth_table_elabZ_tableZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v7;
	VAL v8;
	uint64_t v9;
	VAL v10;
	VAL v11;
	VAL v12;
	uint64_t v13 = mw_mirth_table_parseZ_tableZ_decl(in_ZPlusMirth_1, in_Token_2, &v7, &v8, &v9, &v10, &v11, &v12);
	TUP* v14;
	uint64_t v15;
	uint64_t v16;
	INT v17;
	VAL v18;
	mw_mirth_elab_elabZ_defZ_head(v7, v9, &v14, &v15, &v16, &v17, &v18);
	decref(MKINT(v17));
	TUP* v19;
	uint64_t v20 = mw_mirth_table_tableZ_newZBang(v14, v8, v15, v16, v18, v10, &v19);
	bool v21 = true;
	TUP* v22 = v19;
	uint64_t v23 = v20;
	VAL v24 = v11;
	bool v25 = v21;
	bool v26 = v21;
	while (v26) {
		TUP* v27 = v22;
		uint64_t v28 = v23;
		VAL v29 = v24;
		bool v30 = v25;
		TUP* branch_ZPlusMirth_31;
		uint64_t branch_Table_32;
		VAL branch_List_33;
		bool branch_Bool_34;
		switch (get_data_tag(v29)) {
			case 1LL: { // Cons
				VAL v35;
				VAL v36 = mtp_std_list_List_1_Cons(v29, &v35);
				TUP* v37;
				uint64_t v38;
				mw_mirth_table_elabZ_inlineZ_fieldZBang(v27, v28, value_tup(v36, 5), &v37, &v38);
				bool v39 = true;
				branch_Bool_34 = v39;
				branch_List_33 = v35;
				branch_Table_32 = v38;
				branch_ZPlusMirth_31 = v37;
			} break;
			case 0LL: { // Nil
				VAL v40 = MKI64(0LL /* Nil */);
				bool v41 = false;
				branch_Bool_34 = v41;
				branch_List_33 = v40;
				branch_Table_32 = v28;
				branch_ZPlusMirth_31 = v27;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v26 = branch_Bool_34;
		v25 = branch_Bool_34;
		v24 = branch_List_33;
		v23 = branch_Table_32;
		v22 = branch_ZPlusMirth_31;
	}
	decref(v24);
	uint64_t branch_Table_42;
	TUP* branch_ZPlusMirth_43;
	switch (get_data_tag(v12)) {
		case 1LL: { // Some
			VAL v44 = mtp_std_maybe_Maybe_1_Some(v12);
			VAL v45 = mw_mirth_table_Table_ZToNamespace(v23);
			VAL v46 = MKI64(0LL /* DefiningNamespace */);
			TUP* v47;
			TUP* v48 = mw_mirth_mirth_PropLabel_prop(v22, v45, v46, &v47);
			VAL v49 = mtw_std_maybe_Maybe_1_Some(MKTUP(v48, 2));
			TUP* v50 = value_tup(v47->cells[6], 2);
			incref(MKTUP(v50, 2));
			incref(MKTUP(v50, 2));
			VAL v51 = v50->cells[1];
			incref(v51);
			decref(MKTUP(v50, 2));
			VAL v52 = tup_replace(MKTUP(v50, 2), 1, v49);
			TUP* v53 = value_tup(v47->cells[6], 2);
			decref(MKTUP(v53, 2));
			v47->cells[6] = v52;
			TUP* v54;
			uint64_t v55 = mw_mirth_elab_elabZ_declsZBang(v47, value_u64(v44), &v54);
			TUP* v56 = value_tup(v54->cells[6], 2);
			incref(MKTUP(v56, 2));
			VAL v57 = tup_replace(MKTUP(v56, 2), 1, v51);
			TUP* v58 = value_tup(v54->cells[6], 2);
			decref(MKTUP(v58, 2));
			v54->cells[6] = v57;
			branch_ZPlusMirth_43 = v54;
			branch_Table_42 = v23;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_43 = v22;
			branch_Table_42 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_43;
	return v13;
}
static uint64_t mw_mirth_table_parseZ_inlineZ_fieldZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, TUP* *out_InlineFieldSyntax_5) {
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_token_Token_nameZAsk(v6, in_Token_2, &v8);
	TUP* branch_ZPlusMirth_10;
	uint64_t branch_Token_11;
	VAL branch_z_x1_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x1_12 = v13;
			branch_Token_11 = in_Token_2;
			branch_ZPlusMirth_10 = v8;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "Expected field name.", 20);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v8, in_Token_2, v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x1_12);
	TUP* v17;
	bool v18 = mw_mirth_name_Name_couldZ_beZ_fieldZ_nameZAsk(branch_ZPlusMirth_10, value_u64(branch_z_x1_12), &v17);
	TUP* branch_ZPlusMirth_19;
	uint64_t branch_Token_20;
	if (v18) {
		branch_Token_20 = branch_Token_11;
		branch_ZPlusMirth_19 = v17;
	} else {
		STR* v21;
		STRLIT(v21, "Invalid field name, must start with lowercase letter or tilde.", 62);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v17, branch_Token_11, v21);
	}
	uint64_t v23 = mw_mirth_token_Token_succ(branch_Token_20);
	TUP* v24;
	VAL v25 = mw_mirth_token_Token_lcolonZAsk(branch_ZPlusMirth_19, v23, &v24);
	int64_t v26 = get_data_tag(v25);
	decref(v25);
	INT v27 = WRAP_I63(0LL);
	INT v28 = i64_to_int(v26);
	bool v29 = int_eq(v28, v27);
	bool v30 = !v29;
	TUP* branch_ZPlusMirth_31;
	uint64_t branch_Token_32;
	if (v30) {
		branch_Token_32 = branch_Token_20;
		branch_ZPlusMirth_31 = v24;
	} else {
		uint64_t v33 = mw_mirth_token_Token_succ(branch_Token_20);
		STR* v34;
		STRLIT(v34, "Invalid syntax, expected `: Type` after field name.", 51);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v24, v33, v34);
	}
	uint64_t v36 = mw_mirth_token_Token_succ(branch_Token_32);
	uint64_t v37 = mw_mirth_token_Token_succ(v36);
	TUP* v38;
	uint64_t v39 = mw_mirth_token_Token_next(branch_ZPlusMirth_31, in_Token_2, &v38);
	TUP* v40;
	VAL v41 = mw_mirth_token_Token_lcurlyZAsk(v38, v39, &v40);
	uint64_t branch_Token_42;
	VAL branch_Maybe_43;
	switch (get_data_tag(v41)) {
		case 1LL: { // Some
			VAL v44 = mtp_std_maybe_Maybe_1_Some(v41);
			uint64_t v45 = mw_mirth_token_Token_succ(value_u64(v44));
			uint64_t v46 = mw_mirth_token_Token_succ(v39);
			VAL v47 = mtw_std_maybe_Maybe_1_Some(MKU64(v46));
			branch_Maybe_43 = v47;
			branch_Token_42 = v45;
		} break;
		case 0LL: { // None
			VAL v48 = MKI64(0LL /* None */);
			branch_Maybe_43 = v48;
			branch_Token_42 = v39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v49 = mtw_mirth_table_InlineFieldSyntax_InlineFieldSyntax(v7, branch_Token_32, value_u64(branch_z_x1_12), v37, branch_Maybe_43);
	*out_InlineFieldSyntax_5 = v49;
	*out_ZPlusMirth_3 = v40;
	return branch_Token_42;
}
static void mw_mirth_table_elabZ_inlineZ_fieldZBang (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, TUP* in_InlineFieldSyntax_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Table_5) {
	VAL v6;
	uint64_t v7;
	uint64_t v8;
	uint64_t v9;
	VAL v10;
	mtp_mirth_table_InlineFieldSyntax_InlineFieldSyntax(in_InlineFieldSyntax_3, &v6, &v7, &v8, &v9, &v10);
	uint64_t v11 = mw_mirth_table_Field_allocZBang();
	void* v12 = field_mut(&mfld_mirth_table_Field_ZTildedoc, v11);
	mut_set(v6, v12);
	void* v13 = field_mut(&mfld_mirth_table_Field_ZTildename, v11);
	mut_set(MKU64(v8), v13);
	void* v14 = field_mut(&mfld_mirth_table_Field_ZTildehead, v11);
	mut_set(MKU64(v7), v14);
	void* v15 = field_mut(&mfld_mirth_table_Field_ZTildedefault, v11);
	mut_set(v10, v15);
	TUP* v16;
	uint64_t v17 = mw_mirth_table_Field_name(in_ZPlusMirth_1, v11, &v16);
	TUP* v18;
	STR* v19 = mw_mirth_name_Name_ZToStr(v16, v17, &v18);
	INT v20 = WRAP_I63(0LL);
	TUP* v21;
	TUP* v22 = mw_mirth_table_tableZ_qname(v18, in_Table_2, v19, v20, &v21);
	VAL v23 = mtw_mirth_mirth_PropLabel_FieldQName(v11);
	TUP* v24;
	TUP* v25 = mw_mirth_mirth_PropLabel_prop(v21, MKTUP(v22, 3), v23, &v24);
	void* v26 = field_mut(&mfld_mirth_table_Field_ZTildeqname, v11);
	mut_set(MKTUP(v25, 2), v26);
	VAL v27 = mw_mirth_table_Table_ZToType(in_Table_2);
	VAL v28 = mtw_mirth_mirth_PropLabel_FieldIndexType(v11);
	TUP* v29;
	TUP* v30 = mw_mirth_mirth_PropLabel_prop(v24, v27, v28, &v29);
	void* v31 = field_mut(&mfld_mirth_table_Field_ZTildeindexZ_type, v11);
	mut_set(MKTUP(v30, 2), v31);
	VAL v32 = mtw_mirth_mirth_PropLabel_FieldValueType(v11);
	TUP* v33 = tup_new(2);
	v33->size = 2;
	v33->cells[1] = MKU64(v9);
	v33->cells[0] = MKU64(v11);
	TUP* v34 = value_tup(v29->cells[6], 2);
	incref(MKTUP(v34, 2));
	FNPTR v35 = &mb_mirth_mirth_PropLabel_prop_1_sp25_1;
	VAL v36 = mtw_mirth_mirth_PropState_1_Delay(v34, MKTUP(v33, 2), MKFNPTR(v35));
	TUP* v37 = mtw_mirth_mirth_Prop_1_Prop(v32, v36);
	void* v38 = field_mut(&mfld_mirth_table_Field_ZTildevalueZ_type, v11);
	mut_set(MKTUP(v37, 2), v38);
	VAL v39 = mtw_mirth_mirth_PropLabel_FieldOwner(v11);
	TUP* v40 = value_tup(v29->cells[6], 2);
	incref(MKTUP(v40, 2));
	FNPTR v41 = &mb_mirth_mirth_PropLabel_prop_1_sp24_0;
	VAL v42 = mtw_mirth_mirth_PropState_1_Delay(v40, MKU64(in_Table_2), MKFNPTR(v41));
	TUP* v43 = mtw_mirth_mirth_Prop_1_Prop(v39, v42);
	void* v44 = field_mut(&mfld_mirth_table_Field_ZTildeowner, v11);
	mut_set(MKTUP(v43, 2), v44);
	TUP* v45;
	uint64_t v46;
	mw_mirth_table_prepareZ_fieldZ_defsZBang(v29, v11, &v45, &v46);
	void* v47 = field_mut(&mfld_mirth_table_Table_ZTildeinlineZ_fields, in_Table_2);
	VAL v48 = mut_get(v47);
	VAL v49 = mw_std_list_List_1_Snoc(v48, MKU64(v46));
	mut_set(v49, v47);
	*out_Table_5 = in_Table_2;
	*out_ZPlusMirth_4 = v45;
}
static uint64_t mw_mirth_table_parseZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, VAL *out_Maybe_5, VAL *out_Maybe_6, uint64_t *out_Token_7, uint64_t *out_Token_8, uint64_t *out_Token_9, VAL *out_Maybe_10) {
	TUP* v11;
	VAL v12 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v11);
	TUP* v13;
	uint64_t v14 = mw_mirth_token_Token_next(v11, in_Token_2, &v13);
	TUP* v15;
	INT v16 = mw_mirth_token_Token_numZ_args(v13, in_Token_2, &v15);
	INT v17 = WRAP_I63(4LL);
	bool v18 = int_eq(v16, v17);
	VAL branch_Maybe_19;
	uint64_t branch_Token_20;
	TUP* branch_ZPlusMirth_21;
	uint64_t branch_Token_22;
	uint64_t branch_Token_23;
	uint64_t branch_Token_24;
	VAL branch_Maybe_25;
	if (v18) {
		TUP* v26;
		uint64_t v27;
		uint64_t v28;
		uint64_t v29;
		uint64_t v30 = mw_mirth_token_Token_argsZ_4(v15, in_Token_2, &v26, &v27, &v28, &v29);
		VAL v31 = mtw_std_maybe_Maybe_1_Some(MKU64(v29));
		branch_Maybe_25 = v31;
		branch_Token_24 = v28;
		branch_Token_23 = v27;
		branch_Token_22 = v30;
		branch_ZPlusMirth_21 = v26;
		branch_Token_20 = v14;
		branch_Maybe_19 = v12;
	} else {
		TUP* v32;
		uint64_t v33;
		uint64_t v34;
		uint64_t v35 = mw_mirth_token_Token_argsZ_3(v15, in_Token_2, &v32, &v33, &v34);
		VAL v36 = MKI64(0LL /* None */);
		branch_Maybe_25 = v36;
		branch_Token_24 = v34;
		branch_Token_23 = v33;
		branch_Token_22 = v35;
		branch_ZPlusMirth_21 = v32;
		branch_Token_20 = v14;
		branch_Maybe_19 = v12;
	}
	TUP* v37;
	VAL v38;
	uint64_t v39 = mw_mirth_mirth_ZPlusMirth_parseZ_owner(branch_ZPlusMirth_21, branch_Token_22, &v37, &v38);
	TUP* v40;
	VAL v41 = mw_mirth_token_Token_nameZDivdnameZAsk(v37, v39, &v40);
	int64_t v42 = get_data_tag(v41);
	decref(v41);
	INT v43 = WRAP_I63(0LL);
	INT v44 = i64_to_int(v42);
	bool v45 = int_eq(v44, v43);
	bool v46 = !v45;
	TUP* branch_ZPlusMirth_47;
	uint64_t branch_Token_48;
	if (v46) {
		branch_Token_48 = v39;
		branch_ZPlusMirth_47 = v40;
	} else {
		STR* v49;
		STRLIT(v49, "Expected field name.", 20);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v40, v39, v49);
	}
	TUP* v51;
	VAL v52 = mw_mirth_token_Token_lastZ_nameZAsk(branch_ZPlusMirth_47, branch_Token_48, &v51);
	TUP* branch_ZPlusMirth_53;
	bool branch_Bool_54;
	switch (get_data_tag(v52)) {
		case 1LL: { // Some
			VAL v55 = mtp_std_maybe_Maybe_1_Some(v52);
			TUP* v56;
			bool v57 = mw_mirth_name_Name_couldZ_beZ_fieldZ_nameZAsk(v51, value_u64(v55), &v56);
			branch_Bool_54 = v57;
			branch_ZPlusMirth_53 = v56;
		} break;
		case 0LL: { // None
			bool v58 = false;
			branch_Bool_54 = v58;
			branch_ZPlusMirth_53 = v51;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_59;
	uint64_t branch_Token_60;
	if (branch_Bool_54) {
		branch_Token_60 = branch_Token_48;
		branch_ZPlusMirth_59 = branch_ZPlusMirth_53;
	} else {
		STR* v61;
		STRLIT(v61, "Invalid field name, must start with lowercase letter or tilde.", 62);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_ZPlusMirth_53, branch_Token_48, v61);
	}
	TUP* v63;
	mw_mirth_token_Token_argsZ_0(branch_ZPlusMirth_59, branch_Token_60, &v63);
	*out_Maybe_10 = branch_Maybe_25;
	*out_Token_9 = branch_Token_24;
	*out_Token_8 = branch_Token_23;
	*out_Token_7 = branch_Token_60;
	*out_Maybe_6 = v38;
	*out_Maybe_5 = branch_Maybe_19;
	*out_ZPlusMirth_3 = v63;
	return branch_Token_20;
}
static uint64_t mw_mirth_table_elabZ_fieldZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6;
	VAL v7;
	uint64_t v8;
	uint64_t v9;
	uint64_t v10;
	VAL v11;
	uint64_t v12 = mw_mirth_table_parseZ_field(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8, &v9, &v10, &v11);
	TUP* v13;
	uint64_t v14;
	uint64_t v15;
	INT v16;
	VAL v17;
	mw_mirth_elab_elabZ_defZ_head(v5, v8, &v13, &v14, &v15, &v16, &v17);
	uint64_t v18 = mw_mirth_table_Field_allocZBang();
	void* v19 = field_mut(&mfld_mirth_table_Field_ZTildedoc, v18);
	mut_set(v6, v19);
	void* v20 = field_mut(&mfld_mirth_table_Field_ZTildename, v18);
	mut_set(MKU64(v15), v20);
	void* v21 = field_mut(&mfld_mirth_table_Field_ZTildehead, v18);
	mut_set(MKU64(v14), v21);
	void* v22 = field_mut(&mfld_mirth_table_Field_ZTildedefault, v18);
	mut_set(v11, v22);
	INT v23 = WRAP_I63(0LL);
	bool v24 = int_eq(v16, v23);
	TUP* branch_ZPlusMirth_25;
	uint64_t branch_Field_26;
	if (v24) {
		branch_Field_26 = v18;
		branch_ZPlusMirth_25 = v13;
	} else {
		TUP* v27;
		uint64_t v28 = mw_mirth_table_Field_head(v13, v18, &v27);
		STR* v29;
		STRLIT(v29, "Field cannot take arguments.", 28);
		TUP* v30;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v27, v28, v29, &v30);
		branch_Field_26 = v18;
		branch_ZPlusMirth_25 = v30;
	}
	VAL v31 = mtw_mirth_mirth_PropLabel_FieldQName(branch_Field_26);
	TUP* v32 = mtw_mirth_mirth_Prop_1_Prop(v31, v17);
	void* v33 = field_mut(&mfld_mirth_table_Field_ZTildeqname, branch_Field_26);
	mut_set(MKTUP(v32, 2), v33);
	VAL v34 = mtw_mirth_mirth_PropLabel_FieldIndexType(branch_Field_26);
	TUP* v35;
	TUP* v36 = mw_mirth_mirth_PropLabel_prop_1_sp16(v9, branch_ZPlusMirth_25, v34, &v35);
	void* v37 = field_mut(&mfld_mirth_table_Field_ZTildeindexZ_type, branch_Field_26);
	mut_set(MKTUP(v36, 2), v37);
	VAL v38 = mtw_mirth_mirth_PropLabel_FieldValueType(branch_Field_26);
	TUP* v39;
	TUP* v40 = mw_mirth_mirth_PropLabel_prop_1_sp16(v10, v35, v38, &v39);
	void* v41 = field_mut(&mfld_mirth_table_Field_ZTildevalueZ_type, branch_Field_26);
	mut_set(MKTUP(v40, 2), v41);
	VAL v42 = mtw_mirth_mirth_PropLabel_FieldOwner(branch_Field_26);
	TUP* v43 = tup_new(2);
	v43->size = 2;
	v43->cells[1] = v7;
	v43->cells[0] = MKU64(branch_Field_26);
	TUP* v44 = value_tup(v39->cells[6], 2);
	incref(MKTUP(v44, 2));
	FNPTR v45 = &mb_mirth_mirth_PropLabel_prop_1_sp23_4;
	VAL v46 = mtw_mirth_mirth_PropState_1_Delay(v44, MKTUP(v43, 2), MKFNPTR(v45));
	TUP* v47 = mtw_mirth_mirth_Prop_1_Prop(v42, v46);
	void* v48 = field_mut(&mfld_mirth_table_Field_ZTildeowner, branch_Field_26);
	mut_set(MKTUP(v47, 2), v48);
	TUP* v49;
	uint64_t v50;
	mw_mirth_table_prepareZ_fieldZ_defsZBang(v39, branch_Field_26, &v49, &v50);
	*out_ZPlusMirth_3 = v49;
	return v12;
}
static void mw_mirth_table_prepareZ_fieldZ_defsZBang (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Field_4) {
	TUP* v5;
	bool v6 = mw_mirth_table_Field_isZ_rawZAsk(in_ZPlusMirth_1, in_Field_2, &v5);
	uint64_t branch_Field_7;
	TUP* branch_ZPlusMirth_8;
	if (v6) {
		VAL v9 = mtw_mirth_def_Def_Field(in_Field_2);
		TUP* v10;
		mw_mirth_def_Def_register(v5, v9, &v10);
		TUP* v11;
		VAL v12 = mw_mirth_table_Field_default(v10, in_Field_2, &v11);
		TUP* branch_ZPlusMirth_13;
		switch (get_data_tag(v12)) {
			case 1LL: { // Some
				VAL v14 = mtp_std_maybe_Maybe_1_Some(v12);
				STR* v15;
				STRLIT(v15, "Raw field cannot have a default value.", 38);
				TUP* v16;
				mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v11, value_u64(v14), v15, &v16);
				branch_ZPlusMirth_13 = v16;
			} break;
			case 0LL: { // None
				branch_ZPlusMirth_13 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusMirth_8 = branch_ZPlusMirth_13;
		branch_Field_7 = in_Field_2;
	} else {
		STR* v17;
		STRLIT(v17, "Get field value.", 16);
		VAL v18 = mtw_std_maybe_Maybe_1_Some(MKSTR(v17));
		TUP* v19;
		uint64_t v20 = mw_mirth_table_Field_head(v5, in_Field_2, &v19);
		TUP* v21;
		uint64_t v22 = mw_mirth_table_Field_name(v19, in_Field_2, &v21);
		TUP* v23;
		STR* v24 = mw_mirth_name_Name_ZToStr(v21, v22, &v23);
		VAL v25 = MKI64(0LL /* Nil */);
		incref(v25);
		INT v26 = mw_std_list_List_1_len(v25);
		TUP* v27;
		uint64_t v28 = mw_std_prim_Str_ZToName(v23, v24, &v27);
		VAL v29 = MKI64(0LL /* None */);
		TUP* v30;
		uint64_t v31 = mw_mirth_word_Word_NewZBang(v27, v20, v29, v20, v28, v26, v18, &v30);
		VAL v32 = mtw_mirth_mirth_PropLabel_WordQName(v31);
		TUP* v33;
		TUP* v34 = mw_mirth_mirth_PropLabel_prop2_1_sp7(v30, in_Field_2, v31, v32, &v33);
		void* v35 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v31);
		mut_set(MKTUP(v34, 2), v35);
		VAL v36 = mtw_mirth_mirth_PropLabel_WordType(v31);
		TUP* v37 = value_tup(v33->cells[6], 2);
		incref(MKTUP(v37, 2));
		FNPTR v38 = &mb_mirth_mirth_PropLabel_prop_1_sp21_0;
		VAL v39 = mtw_mirth_mirth_PropState_1_Delay(v37, MKU64(in_Field_2), MKFNPTR(v38));
		TUP* v40 = mtw_mirth_mirth_Prop_1_Prop(v36, v39);
		void* v41 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v31);
		mut_set(MKTUP(v40, 2), v41);
		VAL v42 = mtw_mirth_mirth_PropLabel_WordParams(v31);
		TUP* v43;
		TUP* v44 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v33, v25, v31, v42, &v43);
		void* v45 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v31);
		mut_set(MKTUP(v44, 2), v45);
		VAL v46 = mtw_mirth_mirth_PropLabel_WordArrow(v31);
		TUP* v47 = tup_new(2);
		v47->size = 2;
		v47->cells[1] = MKU64(v31);
		v47->cells[0] = MKU64(in_Field_2);
		TUP* v48 = value_tup(v43->cells[6], 2);
		incref(MKTUP(v48, 2));
		FNPTR v49 = &mb_mirth_mirth_PropLabel_prop_1_sp22_36;
		VAL v50 = mtw_mirth_mirth_PropState_1_Delay(v48, MKTUP(v47, 2), MKFNPTR(v49));
		TUP* v51 = mtw_mirth_mirth_Prop_1_Prop(v46, v50);
		void* v52 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v31);
		mut_set(MKTUP(v51, 2), v52);
		STR* v53;
		STRLIT(v53, "Set field value.", 16);
		VAL v54 = mtw_std_maybe_Maybe_1_Some(MKSTR(v53));
		TUP* v55;
		uint64_t v56 = mw_mirth_table_Field_head(v43, in_Field_2, &v55);
		TUP* v57;
		uint64_t v58 = mw_mirth_table_Field_name(v55, in_Field_2, &v57);
		TUP* v59;
		STR* v60 = mw_mirth_name_Name_ZToStr(v57, v58, &v59);
		STR* v61;
		STRLIT(v61, "!", 1);
		STR* v62 = str_cat(v60, v61);
		VAL v63 = MKI64(0LL /* Nil */);
		incref(v63);
		INT v64 = mw_std_list_List_1_len(v63);
		TUP* v65;
		uint64_t v66 = mw_std_prim_Str_ZToName(v59, v62, &v65);
		VAL v67 = MKI64(0LL /* None */);
		TUP* v68;
		uint64_t v69 = mw_mirth_word_Word_NewZBang(v65, v56, v67, v56, v66, v64, v54, &v68);
		VAL v70 = mtw_mirth_mirth_PropLabel_WordQName(v69);
		TUP* v71;
		TUP* v72 = mw_mirth_mirth_PropLabel_prop2_1_sp7(v68, in_Field_2, v69, v70, &v71);
		void* v73 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v69);
		mut_set(MKTUP(v72, 2), v73);
		VAL v74 = mtw_mirth_mirth_PropLabel_WordType(v69);
		TUP* v75 = value_tup(v71->cells[6], 2);
		incref(MKTUP(v75, 2));
		FNPTR v76 = &mb_mirth_mirth_PropLabel_prop_1_sp17_0;
		VAL v77 = mtw_mirth_mirth_PropState_1_Delay(v75, MKU64(in_Field_2), MKFNPTR(v76));
		TUP* v78 = mtw_mirth_mirth_Prop_1_Prop(v74, v77);
		void* v79 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v69);
		mut_set(MKTUP(v78, 2), v79);
		VAL v80 = mtw_mirth_mirth_PropLabel_WordParams(v69);
		TUP* v81;
		TUP* v82 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v71, v63, v69, v80, &v81);
		void* v83 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v69);
		mut_set(MKTUP(v82, 2), v83);
		VAL v84 = mtw_mirth_mirth_PropLabel_WordArrow(v69);
		TUP* v85 = tup_new(2);
		v85->size = 2;
		v85->cells[1] = MKU64(v69);
		v85->cells[0] = MKU64(in_Field_2);
		TUP* v86 = value_tup(v81->cells[6], 2);
		incref(MKTUP(v86, 2));
		FNPTR v87 = &mb_mirth_mirth_PropLabel_prop_1_sp18_14;
		VAL v88 = mtw_mirth_mirth_PropState_1_Delay(v86, MKTUP(v85, 2), MKFNPTR(v87));
		TUP* v89 = mtw_mirth_mirth_Prop_1_Prop(v84, v88);
		void* v90 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v69);
		mut_set(MKTUP(v89, 2), v90);
		branch_ZPlusMirth_8 = v81;
		branch_Field_7 = in_Field_2;
	}
	*out_Field_4 = branch_Field_7;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
}
static VAL mw_mirth_tycon_Tycon_ZToNamespace (VAL in_Tycon_1) {
	VAL v3 = mtw_mirth_name_Namespace_Tycon(in_Tycon_1);
	return v3;
}
static VAL mw_mirth_tycon_Tycon_tableZAsk (VAL in_Tycon_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Tycon_1)) {
		case 1LL: { // Table
			uint64_t v4 = mtp_mirth_tycon_Tycon_Table(in_Tycon_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Tycon_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static uint64_t mw_mirth_tycon_Tycon_name (TUP* in_ZPlusMirth_1, VAL in_Tycon_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	uint64_t branch_Name_6;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			TUP* v8;
			uint64_t v9 = mw_mirth_data_Data_name(in_ZPlusMirth_1, v7, &v8);
			branch_Name_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 1LL: { // Table
			uint64_t v10 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			TUP* v11;
			uint64_t v12 = mw_mirth_table_Table_name(in_ZPlusMirth_1, v10, &v11);
			branch_Name_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 2LL: { // Prim
			int64_t v13 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			TUP* v14;
			TUP* v15 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, v13, &v14);
			uint64_t v16 = value_u64(v15->cells[1]);
			decref(MKTUP(v15, 3));
			branch_Name_6 = v16;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Name_6;
}
static TUP* mw_mirth_tycon_Tycon_qnameZ_hard (TUP* in_ZPlusMirth_1, VAL in_Tycon_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	TUP* branch_QName_6;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			TUP* v8;
			TUP* v9 = mw_mirth_data_Data_qnameZ_hard(in_ZPlusMirth_1, v7, &v8);
			branch_QName_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 1LL: { // Table
			uint64_t v10 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			TUP* v11;
			TUP* v12 = mw_mirth_table_Table_qnameZ_hard(in_ZPlusMirth_1, v10, &v11);
			branch_QName_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 2LL: { // Prim
			int64_t v13 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			TUP* v14;
			TUP* v15 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, v13, &v14);
			branch_QName_6 = v15;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static void mw_mirth_tycon_Tycon_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Tycon_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (get_data_tag(in_Tycon_3)) {
		case 0LL: { // Data
			uint64_t v8 = mtp_mirth_tycon_Tycon_Data(in_Tycon_3);
			TUP* v9;
			STR* v10;
			mw_mirth_data_Data_qnameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v8, &v9, &v10);
			branch_ZPlusStr_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // Table
			uint64_t v11 = mtp_mirth_tycon_Tycon_Table(in_Tycon_3);
			TUP* v12;
			STR* v13;
			mw_mirth_table_Table_qnameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v11, &v12, &v13);
			branch_ZPlusStr_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // Prim
			int64_t v14 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_3);
			TUP* v15;
			TUP* v16 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, v14, &v15);
			TUP* v17;
			STR* v18;
			mw_mirth_name_QName_qnameZThen(v15, in_ZPlusStr_2, v16, &v17, &v18);
			branch_ZPlusStr_7 = v18;
			branch_ZPlusMirth_6 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static bool mw_mirth_tycon_Tycon_ZEqual (VAL in_Tycon_1, VAL in_Tycon_2) {
	bool branch_Bool_4;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v5 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			bool branch_Bool_6;
			switch (get_data_tag(in_Tycon_1)) {
				case 0LL: { // Data
					uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_1);
					bool v8 = mw_mirth_data_Data_ZEqual(v7, v5);
					branch_Bool_6 = v8;
				} break;
				default: {
					decref(in_Tycon_1);
					bool v9 = false;
					branch_Bool_6 = v9;
				} break;
			}
			branch_Bool_4 = branch_Bool_6;
		} break;
		case 1LL: { // Table
			uint64_t v10 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			bool branch_Bool_11;
			switch (get_data_tag(in_Tycon_1)) {
				case 1LL: { // Table
					uint64_t v12 = mtp_mirth_tycon_Tycon_Table(in_Tycon_1);
					bool v13 = mw_mirth_table_Table_ZEqual(v12, v10);
					branch_Bool_11 = v13;
				} break;
				default: {
					decref(in_Tycon_1);
					bool v14 = false;
					branch_Bool_11 = v14;
				} break;
			}
			branch_Bool_4 = branch_Bool_11;
		} break;
		case 2LL: { // Prim
			int64_t v15 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			bool branch_Bool_16;
			switch (get_data_tag(in_Tycon_1)) {
				case 2LL: { // Prim
					int64_t v17 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_1);
					bool v18 = mw_mirth_type_PrimType_ZEqual(v17, v15);
					branch_Bool_16 = v18;
				} break;
				default: {
					decref(in_Tycon_1);
					bool v19 = false;
					branch_Bool_16 = v19;
				} break;
			}
			branch_Bool_4 = branch_Bool_16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static VAL mw_mirth_tycon_Tycon_fullZ_typeZ_fresh (TUP* in_ZPlusMirth_1, VAL in_Tycon_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Either_6;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			VAL v8 = mw_mirth_type_Subst_Nil();
			TUP* v9;
			VAL v10 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, v7, &v9);
			TUP* branch_ZPlusMirth_11;
			VAL branch_Subst_12;
			VAL branch_Either_13;
			switch (get_data_tag(v10)) {
				case 0LL: { // Left
					VAL v14 = mtp_std_either_Either_2_Left(v10);
					TUP* v15;
					VAL v16;
					VAL v17 = mw_mirth_type_Type_freshen(v9, v8, v14, &v15, &v16);
					VAL v18 = mtw_std_either_Either_2_Left(v16);
					branch_Either_13 = v18;
					branch_Subst_12 = v17;
					branch_ZPlusMirth_11 = v15;
				} break;
				case 1LL: { // Right
					VAL v19 = mtp_std_either_Either_2_Right(v10);
					TUP* v20;
					VAL v21;
					VAL v22 = mw_mirth_type_Resource_freshen(v9, v8, v19, &v20, &v21);
					VAL v23 = mtw_std_either_Either_2_Right(v21);
					branch_Either_13 = v23;
					branch_Subst_12 = v22;
					branch_ZPlusMirth_11 = v20;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(branch_Subst_12);
			branch_Either_6 = branch_Either_13;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // Prim
			int64_t v24 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			VAL v25 = mtw_mirth_type_Type_Prim(v24);
			bool v26 = mw_mirth_type_PrimType_isZ_resourceZAsk(v24);
			TUP* branch_ZPlusMirth_27;
			VAL branch_Either_28;
			if (v26) {
				VAL v29 = mtw_std_either_Either_2_Right(v25);
				branch_Either_28 = v29;
				branch_ZPlusMirth_27 = in_ZPlusMirth_1;
			} else {
				VAL v30 = mtw_std_either_Either_2_Left(v25);
				branch_Either_28 = v30;
				branch_ZPlusMirth_27 = in_ZPlusMirth_1;
			}
			branch_Either_6 = branch_Either_28;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_27;
		} break;
		case 1LL: { // Table
			uint64_t v31 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			VAL v32 = mtw_mirth_type_Type_Table(v31);
			VAL v33 = mtw_std_either_Either_2_Left(v32);
			branch_Either_6 = v33;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Either_6;
}
static bool mw_mirth_tycon_Tycon_canZ_ownZ_stateZAsk (TUP* in_ZPlusMirth_1, VAL in_Tycon_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // Data
			uint64_t v7 = mtp_mirth_tycon_Tycon_Data(in_Tycon_2);
			TUP* v8;
			bool v9 = mw_mirth_data_Data_canZ_ownZ_stateZAsk(in_ZPlusMirth_1, v7, &v8);
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Prim
			int64_t v10 = mtp_mirth_tycon_Tycon_Prim(in_Tycon_2);
			TUP* v11;
			bool v12 = mw_mirth_type_PrimType_canZ_ownZ_stateZAsk(in_ZPlusMirth_1, v10, &v11);
			branch_Bool_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 1LL: { // Table
			uint64_t v13 = mtp_mirth_tycon_Tycon_Table(in_Tycon_2);
			bool v14 = false;
			branch_Bool_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static uint64_t mw_mirth_data_Data_allocZBang (void) {
	void* v2 = mbuf_mirth_data_Data_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_data_Data_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_data_Data_index (uint64_t in_Data_1) {
	return in_Data_1;
}
static VAL mw_mirth_data_Data_headZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeheadZAsk, in_Data_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_data_Data_name (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildename, in_Data_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_data_Data_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeqname, in_Data_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static TUP* mw_mirth_data_Data_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeqname, in_Data_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static INT mw_mirth_data_Data_arity (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildearity, in_Data_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static VAL mw_mirth_data_Data_params (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeparams, in_Data_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_data_Data_tags (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildetags, in_Data_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_Data_ctypeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildectypeZAsk, in_Data_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static void mw_mirth_data_Data_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	uint64_t v7 = mw_mirth_data_Data_name(in_ZPlusMirth_1, in_Data_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_data_Data_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_data_Data_qnameZ_hard(in_ZPlusMirth_1, in_Data_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_QName_qnameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static bool mw_mirth_data_Data_ZEqual (uint64_t in_Data_1, uint64_t in_Data_2) {
	uint64_t v4 = mw_mirth_data_Data_index(in_Data_1);
	uint64_t v5 = mw_mirth_data_Data_index(in_Data_2);
	bool v6 = (v4 == v5);
	return v6;
}
static INT mw_mirth_data_Data_numZ_tags (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, in_Data_2, &v5);
	INT v7 = mw_std_list_List_1_len(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static void mw_mirth_data_Data_addZ_tagZBang (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildevalue, in_Tag_2);
	bool v6 = mut_is_set(v5);
	uint64_t branch_Data_7;
	INT branch_Int_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Int_8 = value_int(v9);
		branch_Data_7 = in_Data_3;
	} else {
		void* v10 = field_mut(&mfld_mirth_data_Data_ZTildelastZ_tagZ_value, in_Data_3);
		VAL v11 = mw_std_prelude_ZAtZAsk(v10);
		INT branch_Int_12;
		switch (get_data_tag(v11)) {
			case 1LL: { // Some
				VAL v13 = mtp_std_maybe_Maybe_1_Some(v11);
				INT v14 = WRAP_I63(1LL);
				INT v15 = int_add(value_int(v13), v14);
				branch_Int_12 = v15;
			} break;
			case 0LL: { // None
				INT v16 = WRAP_I63(0LL);
				branch_Int_12 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKINT(branch_Int_12));
		mut_set(MKINT(branch_Int_12), v5);
		branch_Int_8 = branch_Int_12;
		branch_Data_7 = in_Data_3;
	}
	TUP* v17;
	VAL v18 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, branch_Data_7, &v17);
	VAL v19 = MKI64(0LL /* None */);
	bool v20 = true;
	INT v21 = branch_Int_8;
	TUP* v22 = v17;
	VAL v23 = v19;
	VAL v24 = v18;
	bool v25 = v20;
	bool v26 = v20;
	while (v26) {
		INT v27 = v21;
		TUP* v28 = v22;
		VAL v29 = v23;
		VAL v30 = v24;
		bool v31 = v25;
		VAL v32;
		VAL v33 = mw_std_list_List_1_uncons(v30, &v32);
		TUP* branch_ZPlusMirth_34;
		INT branch_Int_35;
		VAL branch_Maybe_36;
		VAL branch_List_37;
		bool branch_Bool_38;
		switch (get_data_tag(v33)) {
			case 1LL: { // Some
				VAL v39 = mtp_std_maybe_Maybe_1_Some(v33);
				incref(v39);
				TUP* v40;
				INT v41 = mw_mirth_data_Tag_value(v28, value_u64(v39), &v40);
				incref(MKINT(v27));
				bool v42 = int_eq(v41, v27);
				TUP* branch_ZPlusMirth_43;
				INT branch_Int_44;
				VAL branch_Maybe_45;
				if (v42) {
					VAL v46 = mtw_std_maybe_Maybe_1_Some(v39);
					branch_Maybe_45 = v46;
					branch_Int_44 = v27;
					branch_ZPlusMirth_43 = v40;
				} else {
					decref(v39);
					VAL v47 = MKI64(0LL /* None */);
					branch_Maybe_45 = v47;
					branch_Int_44 = v27;
					branch_ZPlusMirth_43 = v40;
				}
				TUP* branch_ZPlusMirth_48;
				INT branch_Int_49;
				VAL branch_Maybe_50;
				VAL branch_List_51;
				switch (get_data_tag(branch_Maybe_45)) {
					case 0LL: { // None
						branch_List_51 = v32;
						branch_Maybe_50 = v29;
						branch_Int_49 = branch_Int_44;
						branch_ZPlusMirth_48 = branch_ZPlusMirth_43;
					} break;
					default: {
						decref(v32);
						decref(v29);
						VAL v52 = MKI64(0LL /* Nil */);
						branch_List_51 = v52;
						branch_Maybe_50 = branch_Maybe_45;
						branch_Int_49 = branch_Int_44;
						branch_ZPlusMirth_48 = branch_ZPlusMirth_43;
					} break;
				}
				bool v53 = true;
				branch_Bool_38 = v53;
				branch_List_37 = branch_List_51;
				branch_Maybe_36 = branch_Maybe_50;
				branch_Int_35 = branch_Int_49;
				branch_ZPlusMirth_34 = branch_ZPlusMirth_48;
			} break;
			case 0LL: { // None
				bool v54 = false;
				branch_Bool_38 = v54;
				branch_List_37 = v32;
				branch_Maybe_36 = v29;
				branch_Int_35 = v27;
				branch_ZPlusMirth_34 = v28;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v26 = branch_Bool_38;
		v25 = branch_Bool_38;
		v24 = branch_List_37;
		v23 = branch_Maybe_36;
		v22 = branch_ZPlusMirth_34;
		v21 = branch_Int_35;
	}
	decref(v24);
	uint64_t branch_Tag_55;
	uint64_t branch_Data_56;
	TUP* branch_ZPlusMirth_57;
	switch (get_data_tag(v23)) {
		case 1LL: { // Some
			VAL v58 = mtp_std_maybe_Maybe_1_Some(v23);
			STR* v59;
			STRLIT(v59, "", 0);
			STR* v60;
			STRLIT(v60, "Constructors ", 13);
			STR* v61;
			mw_std_str_ZPlusStr_pushZ_strZBang(v60, v59, &v61);
			TUP* v62;
			STR* v63;
			mw_mirth_data_Tag_nameZThen(v22, v61, value_u64(v58), &v62, &v63);
			STR* v64;
			STRLIT(v64, " and ", 5);
			STR* v65;
			mw_std_str_ZPlusStr_pushZ_strZBang(v64, v63, &v65);
			TUP* v66;
			STR* v67;
			mw_mirth_data_Tag_nameZThen(v62, v65, in_Tag_2, &v66, &v67);
			STR* v68;
			STRLIT(v68, " have the same tag value.", 25);
			STR* v69;
			mw_std_str_ZPlusStr_pushZ_strZBang(v68, v67, &v69);
			TUP* v70;
			VAL v71 = mw_mirth_data_Data_headZAsk(v66, branch_Data_7, &v70);
			TUP* v72;
			mw_std_maybe_Maybe_1_ifZAsk_2_sp50(v70, v69, v71, &v72);
			branch_ZPlusMirth_57 = v72;
			branch_Data_56 = branch_Data_7;
			branch_Tag_55 = in_Tag_2;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_57 = v22;
			branch_Data_56 = branch_Data_7;
			branch_Tag_55 = in_Tag_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	void* v73 = field_mut(&mfld_mirth_data_Data_ZTildelastZ_tagZ_value, branch_Data_56);
	mut_set(MKINT(v21), v73);
	void* v74 = field_mut(&mfld_mirth_data_Data_ZTildetags, branch_Data_56);
	VAL v75 = mut_get(v74);
	VAL v76 = mw_std_list_List_1_Snoc(v75, MKU64(branch_Tag_55));
	mut_set(v76, v74);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_57;
}
static bool mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_data_Data_isZ_enumZAsk(in_ZPlusMirth_1, in_Data_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_data_Data_isZ_unitZAsk(v5, in_Data_2, &v7);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	bool v14 = (v13 || v6);
	*out_ZPlusMirth_3 = v7;
	return v14;
}
static VAL mw_mirth_data_Data_isZ_unitZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeisZ_unitZAsk, in_Data_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Data_8;
	VAL branch_Maybe_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Maybe_9 = v10;
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		VAL v12 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, in_Data_2, &v11);
		VAL v13 = mw_std_list_List_1_singleZAsk(v12);
		TUP* branch_ZPlusMirth_14;
		VAL branch_Maybe_15;
		switch (get_data_tag(v13)) {
			case 1LL: { // Some
				VAL v16 = mtp_std_maybe_Maybe_1_Some(v13);
				incref(v16);
				TUP* v17;
				INT v18 = mw_mirth_data_Tag_numZ_totalZ_inputs(v11, value_u64(v16), &v17);
				INT v19 = WRAP_I63(0LL);
				bool v20 = int_eq(v18, v19);
				TUP* branch_ZPlusMirth_21;
				VAL branch_Maybe_22;
				if (v20) {
					VAL v23 = mtw_std_maybe_Maybe_1_Some(v16);
					branch_Maybe_22 = v23;
					branch_ZPlusMirth_21 = v17;
				} else {
					decref(v16);
					VAL v24 = MKI64(0LL /* None */);
					branch_Maybe_22 = v24;
					branch_ZPlusMirth_21 = v17;
				}
				branch_Maybe_15 = branch_Maybe_22;
				branch_ZPlusMirth_14 = branch_ZPlusMirth_21;
			} break;
			case 0LL: { // None
				VAL v25 = MKI64(0LL /* None */);
				branch_Maybe_15 = v25;
				branch_ZPlusMirth_14 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(branch_Maybe_15);
		mut_set(branch_Maybe_15, v5);
		branch_Maybe_9 = branch_Maybe_15;
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_9;
}
static bool mw_mirth_data_Data_isZ_enumZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeisZ_enumZAsk, in_Data_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Data_8;
	bool branch_Bool_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Bool_9 = value_bool(v10);
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		VAL v12 = mw_mirth_data_Data_isZ_unitZAsk(in_ZPlusMirth_1, in_Data_2, &v11);
		int64_t v13 = get_data_tag(v12);
		decref(v12);
		INT v14 = WRAP_I63(0LL);
		INT v15 = i64_to_int(v13);
		bool v16 = int_eq(v15, v14);
		uint64_t branch_Data_17;
		TUP* branch_ZPlusMirth_18;
		bool branch_Bool_19;
		if (v16) {
			TUP* v20;
			VAL v21 = mw_mirth_data_Data_tags(v11, in_Data_2, &v20);
			VAL v22 = MKI64(0LL /* None */);
			bool v23 = true;
			TUP* v24 = v20;
			VAL v25 = v22;
			VAL v26 = v21;
			bool v27 = v23;
			bool v28 = v23;
			while (v28) {
				TUP* v29 = v24;
				VAL v30 = v25;
				VAL v31 = v26;
				bool v32 = v27;
				VAL v33;
				VAL v34 = mw_std_list_List_1_uncons(v31, &v33);
				TUP* branch_ZPlusMirth_35;
				VAL branch_Maybe_36;
				VAL branch_List_37;
				bool branch_Bool_38;
				switch (get_data_tag(v34)) {
					case 1LL: { // Some
						VAL v39 = mtp_std_maybe_Maybe_1_Some(v34);
						incref(v39);
						TUP* v40;
						INT v41 = mw_mirth_data_Tag_numZ_totalZ_inputs(v29, value_u64(v39), &v40);
						INT v42 = WRAP_I63(0LL);
						bool v43 = int_eq(v41, v42);
						bool v44 = !v43;
						TUP* branch_ZPlusMirth_45;
						VAL branch_Maybe_46;
						if (v44) {
							VAL v47 = mtw_std_maybe_Maybe_1_Some(v39);
							branch_Maybe_46 = v47;
							branch_ZPlusMirth_45 = v40;
						} else {
							decref(v39);
							VAL v48 = MKI64(0LL /* None */);
							branch_Maybe_46 = v48;
							branch_ZPlusMirth_45 = v40;
						}
						TUP* branch_ZPlusMirth_49;
						VAL branch_Maybe_50;
						VAL branch_List_51;
						switch (get_data_tag(branch_Maybe_46)) {
							case 0LL: { // None
								branch_List_51 = v33;
								branch_Maybe_50 = v30;
								branch_ZPlusMirth_49 = branch_ZPlusMirth_45;
							} break;
							default: {
								decref(v33);
								decref(v30);
								VAL v52 = MKI64(0LL /* Nil */);
								branch_List_51 = v52;
								branch_Maybe_50 = branch_Maybe_46;
								branch_ZPlusMirth_49 = branch_ZPlusMirth_45;
							} break;
						}
						bool v53 = true;
						branch_Bool_38 = v53;
						branch_List_37 = branch_List_51;
						branch_Maybe_36 = branch_Maybe_50;
						branch_ZPlusMirth_35 = branch_ZPlusMirth_49;
					} break;
					case 0LL: { // None
						bool v54 = false;
						branch_Bool_38 = v54;
						branch_List_37 = v33;
						branch_Maybe_36 = v30;
						branch_ZPlusMirth_35 = v29;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v28 = branch_Bool_38;
				v27 = branch_Bool_38;
				v26 = branch_List_37;
				v25 = branch_Maybe_36;
				v24 = branch_ZPlusMirth_35;
			}
			decref(v26);
			int64_t v55 = get_data_tag(v25);
			decref(v25);
			INT v56 = WRAP_I63(0LL);
			INT v57 = i64_to_int(v55);
			bool v58 = int_eq(v57, v56);
			branch_Bool_19 = v58;
			branch_ZPlusMirth_18 = v24;
			branch_Data_17 = in_Data_2;
		} else {
			bool v59 = false;
			branch_Bool_19 = v59;
			branch_ZPlusMirth_18 = v11;
			branch_Data_17 = in_Data_2;
		}
		mut_set(MKBOOL(branch_Bool_19), v5);
		branch_Bool_9 = branch_Bool_19;
		branch_Data_8 = branch_Data_17;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_18;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_9;
}
static VAL mw_mirth_data_Data_singleZ_tagZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, in_Data_2, &v5);
	VAL v7 = mw_std_list_List_1_singleZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_data_Data_semiZ_transparentZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildesemiZ_transparentZAsk, in_Data_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Data_8;
	VAL branch_Maybe_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Maybe_9 = v10;
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		VAL v12 = mw_mirth_data_Data_tags(in_ZPlusMirth_1, in_Data_2, &v11);
		VAL v13 = mw_std_list_List_1_singleZAsk(v12);
		TUP* branch_ZPlusMirth_14;
		VAL branch_Maybe_15;
		switch (get_data_tag(v13)) {
			case 1LL: { // Some
				VAL v16 = mtp_std_maybe_Maybe_1_Some(v13);
				incref(v16);
				TUP* v17;
				VAL v18 = mw_mirth_data_Tag_inputs(v11, value_u64(v16), &v17);
				VAL v19 = mw_std_list_List_1_singleZAsk(v18);
				uint64_t branch_Tag_20;
				VAL branch_Maybe_21;
				switch (get_data_tag(v19)) {
					case 1LL: { // Some
						VAL v22 = mtp_std_maybe_Maybe_1_Some(v19);
						incref(v16);
						TUP* v23 = mtw_mirth_data_SemiTransparentData_SemiTransparentData(value_u64(v16), v22);
						VAL v24 = mtw_std_maybe_Maybe_1_Some(MKTUP(v23, 2));
						branch_Maybe_21 = v24;
						branch_Tag_20 = value_u64(v16);
					} break;
					case 0LL: { // None
						VAL v25 = MKI64(0LL /* None */);
						branch_Maybe_21 = v25;
						branch_Tag_20 = value_u64(v16);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_15 = branch_Maybe_21;
				branch_ZPlusMirth_14 = v17;
			} break;
			case 0LL: { // None
				VAL v26 = MKI64(0LL /* None */);
				branch_Maybe_15 = v26;
				branch_ZPlusMirth_14 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(branch_Maybe_15);
		mut_set(branch_Maybe_15, v5);
		branch_Maybe_9 = branch_Maybe_15;
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_9;
}
static bool mw_mirth_data_Data_isZ_resourceZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Data_ZTildeisZ_resourceZAsk, in_Data_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Data_8;
	bool branch_Bool_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Bool_9 = value_bool(v10);
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		uint64_t v12 = mw_mirth_data_Data_name(in_ZPlusMirth_1, in_Data_2, &v11);
		TUP* v13;
		bool v14 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(v11, v12, &v13);
		mut_set(MKBOOL(v14), v5);
		branch_Bool_9 = v14;
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = v13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_9;
}
static bool mw_mirth_data_Data_isZ_valueZ_typeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_data_Data_isZ_resourceZAsk(in_ZPlusMirth_1, in_Data_2, &v5);
	bool v7 = !v6;
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_data_Data_fullZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mtw_mirth_type_Type_Data(in_Data_2);
	TUP* v6;
	VAL v7 = mw_mirth_data_Data_params(in_ZPlusMirth_1, in_Data_2, &v6);
	bool v8 = true;
	VAL v9 = v5;
	VAL v10 = v7;
	bool v11 = v8;
	bool v12 = v8;
	while (v12) {
		VAL v13 = v9;
		VAL v14 = v10;
		bool v15 = v11;
		VAL branch_Type_16;
		VAL branch_List_17;
		bool branch_Bool_18;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v19;
				VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
				VAL v21 = mtw_mirth_type_Type_Var(value_u64(v20));
				VAL v22 = mtw_mirth_type_Type_App(v13, v21);
				bool v23 = true;
				branch_Bool_18 = v23;
				branch_List_17 = v19;
				branch_Type_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v24 = MKI64(0LL /* Nil */);
				bool v25 = false;
				branch_Bool_18 = v25;
				branch_List_17 = v24;
				branch_Type_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_18;
		v11 = branch_Bool_18;
		v10 = branch_List_17;
		v9 = branch_Type_16;
	}
	decref(v10);
	TUP* v26;
	bool v27 = mw_mirth_data_Data_isZ_valueZ_typeZAsk(v6, in_Data_2, &v26);
	TUP* branch_ZPlusMirth_28;
	VAL branch_Either_29;
	if (v27) {
		VAL v30 = mtw_std_either_Either_2_Left(v9);
		branch_Either_29 = v30;
		branch_ZPlusMirth_28 = v26;
	} else {
		VAL v31 = mtw_std_either_Either_2_Right(v9);
		branch_Either_29 = v31;
		branch_ZPlusMirth_28 = v26;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_28;
	return branch_Either_29;
}
static bool mw_mirth_data_Data_canZ_ownZ_stateZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_data_Data_isZ_resourceZAsk(in_ZPlusMirth_1, in_Data_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		TUP* v9;
		VAL v10 = mw_mirth_data_Data_singleZ_tagZAsk(v5, in_Data_2, &v9);
		int64_t v11 = get_data_tag(v10);
		decref(v10);
		INT v12 = WRAP_I63(0LL);
		INT v13 = i64_to_int(v11);
		bool v14 = int_eq(v13, v12);
		bool v15 = !v14;
		branch_Bool_8 = v15;
		branch_ZPlusMirth_7 = v9;
	} else {
		bool v16 = false;
		branch_Bool_8 = v16;
		branch_ZPlusMirth_7 = v5;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static VAL mw_mirth_data_Data_unifyZBang (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4) {
	bool v6 = mw_mirth_data_Data_ZEqual(in_Data_2, in_Data_3);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Type_8;
	if (v6) {
		VAL v9 = mtw_mirth_type_Type_Data(in_Data_2);
		branch_Type_8 = v9;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v10 = mtw_mirth_type_Type_Data(in_Data_2);
		VAL v11 = mtw_mirth_type_Type_Data(in_Data_3);
		TUP* v12;
		VAL v13 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v10, v11, &v12);
		branch_Type_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static VAL mw_mirth_data_Data_ctype1ZAsk (TUP* in_ZPlusMirth_1, VAL in_CType_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6 = value_tup(in_ZPlusMirth_1->cells[2], 42);
	incref(MKTUP(v6, 42));
	uint64_t v7 = value_u64(v6->cells[32]);
	decref(MKTUP(v6, 42));
	bool v8 = mw_mirth_data_Data_ZEqual(in_Data_3, v7);
	TUP* branch_ZPlusMirth_9;
	VAL branch_Maybe_10;
	if (v8) {
		VAL v11 = mw_mirth_type_CType_ptr(in_CType_2);
		VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
		branch_Maybe_10 = v12;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		TUP* v13 = value_tup(in_ZPlusMirth_1->cells[2], 42);
		incref(MKTUP(v13, 42));
		uint64_t v14 = value_u64(v13->cells[34]);
		decref(MKTUP(v13, 42));
		bool v15 = mw_mirth_data_Data_ZEqual(in_Data_3, v14);
		TUP* branch_ZPlusMirth_16;
		VAL branch_Maybe_17;
		if (v15) {
			VAL v18 = mw_mirth_type_CType_const(in_CType_2);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(v18);
			branch_Maybe_17 = v19;
			branch_ZPlusMirth_16 = in_ZPlusMirth_1;
		} else {
			TUP* v20 = value_tup(in_ZPlusMirth_1->cells[2], 42);
			incref(MKTUP(v20, 42));
			uint64_t v21 = value_u64(v20->cells[36]);
			decref(MKTUP(v20, 42));
			bool v22 = mw_mirth_data_Data_ZEqual(in_Data_3, v21);
			TUP* branch_ZPlusMirth_23;
			VAL branch_Maybe_24;
			if (v22) {
				VAL v25 = mw_mirth_type_CType_restrict(in_CType_2);
				VAL v26 = mtw_std_maybe_Maybe_1_Some(v25);
				branch_Maybe_24 = v26;
				branch_ZPlusMirth_23 = in_ZPlusMirth_1;
			} else {
				TUP* v27 = value_tup(in_ZPlusMirth_1->cells[2], 42);
				incref(MKTUP(v27, 42));
				uint64_t v28 = value_u64(v27->cells[38]);
				decref(MKTUP(v27, 42));
				bool v29 = mw_mirth_data_Data_ZEqual(in_Data_3, v28);
				TUP* branch_ZPlusMirth_30;
				VAL branch_Maybe_31;
				if (v29) {
					VAL v32 = mw_mirth_type_CType_volatile(in_CType_2);
					VAL v33 = mtw_std_maybe_Maybe_1_Some(v32);
					branch_Maybe_31 = v33;
					branch_ZPlusMirth_30 = in_ZPlusMirth_1;
				} else {
					decref(in_CType_2);
					VAL v34 = MKI64(0LL /* None */);
					branch_Maybe_31 = v34;
					branch_ZPlusMirth_30 = in_ZPlusMirth_1;
				}
				branch_Maybe_24 = branch_Maybe_31;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_30;
			}
			branch_Maybe_17 = branch_Maybe_24;
			branch_ZPlusMirth_16 = branch_ZPlusMirth_23;
		}
		branch_Maybe_10 = branch_Maybe_17;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_16;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Maybe_10;
}
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, VAL in_List_3, uint64_t in_Data_4, VAL in_List_5, VAL in_Maybe_6, TUP* *out_ZPlusMirth_7) {
	incref(in_List_3);
	INT v8 = mw_std_list_List_1_len(in_List_3);
	incref(MKINT(v8));
	void* v9 = field_mut(&mfld_mirth_data_Data_ZTildearity, in_Data_4);
	mut_set(MKINT(v8), v9);
	incref(MKSTR(in_Str_2));
	TUP* v10;
	uint64_t v11 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, in_Str_2, &v10);
	void* v12 = field_mut(&mfld_mirth_data_Data_ZTildename, in_Data_4);
	mut_set(MKU64(v11), v12);
	TUP* v13;
	TUP* v14 = mw_mirth_name_QName_Prim(v10, in_Str_2, v8, &v13);
	VAL v15 = mtw_mirth_mirth_PropLabel_DataQName(in_Data_4);
	TUP* v16;
	TUP* v17 = mw_mirth_mirth_PropLabel_prop(v13, MKTUP(v14, 3), v15, &v16);
	void* v18 = field_mut(&mfld_mirth_data_Data_ZTildeqname, in_Data_4);
	mut_set(MKTUP(v17, 2), v18);
	VAL v19 = mtw_mirth_mirth_PropLabel_DataCType(in_Data_4);
	TUP* v20;
	TUP* v21 = mw_mirth_mirth_PropLabel_prop(v16, in_Maybe_6, v19, &v20);
	void* v22 = field_mut(&mfld_mirth_data_Data_ZTildectypeZAsk, in_Data_4);
	mut_set(MKTUP(v21, 2), v22);
	incref(in_List_5);
	bool v23 = true;
	uint64_t v24 = in_Data_4;
	VAL v25 = in_List_5;
	bool v26 = v23;
	bool v27 = v23;
	while (v27) {
		uint64_t v28 = v24;
		VAL v29 = v25;
		bool v30 = v26;
		uint64_t branch_Data_31;
		VAL branch_List_32;
		bool branch_Bool_33;
		switch (get_data_tag(v29)) {
			case 1LL: { // Cons
				VAL v34;
				VAL v35 = mtp_std_list_List_1_Cons(v29, &v34);
				void* v36 = field_mut(&mfld_mirth_data_Tag_ZTildedata, value_u64(v35));
				mut_set(MKU64(v28), v36);
				bool v37 = true;
				branch_Bool_33 = v37;
				branch_List_32 = v34;
				branch_Data_31 = v28;
			} break;
			case 0LL: { // Nil
				VAL v38 = MKI64(0LL /* Nil */);
				bool v39 = false;
				branch_Bool_33 = v39;
				branch_List_32 = v38;
				branch_Data_31 = v28;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v27 = branch_Bool_33;
		v26 = branch_Bool_33;
		v25 = branch_List_32;
		v24 = branch_Data_31;
	}
	decref(v25);
	void* v40 = field_mut(&mfld_mirth_data_Data_ZTildetags, v24);
	mut_set(in_List_5, v40);
	VAL v41 = mtw_mirth_mirth_PropLabel_DataParams(v24);
	TUP* v42;
	TUP* v43 = mw_mirth_mirth_PropLabel_prop(v20, in_List_3, v41, &v42);
	void* v44 = field_mut(&mfld_mirth_data_Data_ZTildeparams, v24);
	mut_set(MKTUP(v43, 2), v44);
	VAL v45 = MKI64(0LL /* None */);
	void* v46 = field_mut(&mfld_mirth_data_Data_ZTildeheadZAsk, v24);
	mut_set(v45, v46);
	VAL v47 = mtw_mirth_def_Def_Data(v24);
	TUP* v48;
	mw_mirth_def_Def_register(v42, v47, &v48);
	*out_ZPlusMirth_7 = v48;
}
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, VAL in_List_4, uint64_t in_Tag_5, TUP* *out_ZPlusMirth_6) {
	TUP* v7;
	uint64_t v8 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_5, &v7);
	INT v9 = WRAP_I63(0LL);
	TUP* v10;
	TUP* v11 = mw_mirth_mirth_ZPlusMirth_dataZ_wordZ_qname(v7, v8, in_Str_2, v9, &v10);
	void* v12 = field_mut(&mfld_mirth_data_Tag_ZTildeqname, in_Tag_5);
	mut_set(MKTUP(v11, 3), v12);
	void* v13 = field_mut(&mfld_mirth_data_Tag_ZTildevalue, in_Tag_5);
	mut_set(MKINT(in_Int_3), v13);
	incref(in_List_4);
	INT v14 = mw_std_list_List_1_len(in_List_4);
	void* v15 = field_mut(&mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs, in_Tag_5);
	mut_set(MKINT(v14), v15);
	INT v16 = WRAP_I63(0LL);
	void* v17 = field_mut(&mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs, in_Tag_5);
	mut_set(MKINT(v16), v17);
	VAL v18 = MKI64(0LL /* Nil */);
	void* v19 = field_mut(&mfld_mirth_data_Tag_ZTildelabelZ_inputs, in_Tag_5);
	mut_set(v18, v19);
	TUP* v20;
	uint64_t v21 = mw_mirth_data_Tag_data(v10, in_Tag_5, &v20);
	TUP* v22;
	VAL v23 = mw_mirth_data_Data_params(v20, v21, &v22);
	VAL v24 = mw_std_list_List_1_ZToCtx(v23);
	VAL v25 = mw_mirth_type_T0();
	VAL v26 = mw_std_list_List_1_for_1_sp71(v25, in_List_4);
	VAL v27 = mw_mirth_type_T0();
	TUP* v28;
	uint64_t v29 = mw_mirth_data_Tag_data(v22, in_Tag_5, &v28);
	TUP* v30;
	VAL v31 = mw_mirth_data_Data_fullZ_type(v28, v29, &v30);
	VAL v32 = mw_mirth_type_TZMulZPlus(v27, v31);
	TUP* v33 = mw_mirth_type_TZ_ZTo(v26, v32);
	VAL v34 = mtw_mirth_mirth_PropLabel_TagType(in_Tag_5);
	TUP* v35;
	TUP* v36 = mw_mirth_mirth_PropLabel_prop2(v30, v24, MKTUP(v33, 2), v34, &v35);
	void* v37 = field_mut(&mfld_mirth_data_Tag_ZTildectxZ_type, in_Tag_5);
	mut_set(MKTUP(v36, 2), v37);
	VAL v38 = mtw_mirth_def_Def_Tag(in_Tag_5);
	TUP* v39;
	mw_mirth_def_Def_register(v35, v38, &v39);
	*out_ZPlusMirth_6 = v39;
}
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Data_3, STR* in_Str_4, uint64_t in_Tag_5, STR* in_Str_6, TUP* *out_ZPlusMirth_7) {
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10 = mw_std_list_List_1_cons(MKU64(in_Tag_5), v9);
	VAL v11 = mtw_mirth_type_CType_Int(in_Str_6);
	VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
	TUP* v13;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(in_ZPlusMirth_1, in_Str_2, v8, in_Data_3, v10, v12, &v13);
	INT v14 = WRAP_I63(0LL);
	VAL v15 = mw_mirth_type_Type_I64();
	VAL v16 = MKI64(0LL /* Nil */);
	VAL v17 = mw_std_list_List_1_cons(v15, v16);
	TUP* v18;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v13, in_Str_4, v14, v17, in_Tag_5, &v18);
	*out_ZPlusMirth_7 = v18;
}
static void mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Data_3, STR* in_Str_4, uint64_t in_Tag_5, STR* in_Str_6, TUP* *out_ZPlusMirth_7) {
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10 = mw_std_list_List_1_cons(MKU64(in_Tag_5), v9);
	VAL v11 = mtw_mirth_type_CType_UInt(in_Str_6);
	VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
	TUP* v13;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(in_ZPlusMirth_1, in_Str_2, v8, in_Data_3, v10, v12, &v13);
	INT v14 = WRAP_I63(0LL);
	VAL v15 = mw_mirth_type_Type_U64();
	VAL v16 = MKI64(0LL /* Nil */);
	VAL v17 = mw_std_list_List_1_cons(v15, v16);
	TUP* v18;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v13, in_Str_4, v14, v17, in_Tag_5, &v18);
	*out_ZPlusMirth_7 = v18;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_dataZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	VAL v3 = mw_mirth_type_Type_TYPE();
	STR* v4;
	STRLIT(v4, "a", 1);
	TUP* v5;
	uint64_t v6 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v4, &v5);
	TUP* v7;
	uint64_t v8 = mw_mirth_var_Var_NewZBang(v5, v3, v6, &v7);
	STR* v9;
	STRLIT(v9, "CPtr", 4);
	VAL v10 = MKI64(0LL /* Nil */);
	VAL v11 = mw_std_list_List_1_cons(MKU64(v8), v10);
	TUP* v12 = value_tup(v7->cells[2], 42);
	incref(MKTUP(v12, 42));
	uint64_t v13 = value_u64(v12->cells[32]);
	decref(MKTUP(v12, 42));
	TUP* v14 = value_tup(v7->cells[2], 42);
	incref(MKTUP(v14, 42));
	uint64_t v15 = value_u64(v14->cells[33]);
	decref(MKTUP(v14, 42));
	VAL v16 = MKI64(0LL /* Nil */);
	VAL v17 = mw_std_list_List_1_cons(MKU64(v15), v16);
	VAL v18 = MKI64(0LL /* None */);
	TUP* v19;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v7, v9, v11, v13, v17, v18, &v19);
	STR* v20;
	STRLIT(v20, "CPtr", 4);
	INT v21 = WRAP_I63(0LL);
	VAL v22 = mw_mirth_type_Type_Ptr();
	VAL v23 = MKI64(0LL /* Nil */);
	VAL v24 = mw_std_list_List_1_cons(v22, v23);
	TUP* v25 = value_tup(v19->cells[2], 42);
	incref(MKTUP(v25, 42));
	uint64_t v26 = value_u64(v25->cells[33]);
	decref(MKTUP(v25, 42));
	TUP* v27;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v19, v20, v21, v24, v26, &v27);
	STR* v28;
	STRLIT(v28, "CConst", 6);
	VAL v29 = MKI64(0LL /* Nil */);
	VAL v30 = mw_std_list_List_1_cons(MKU64(v8), v29);
	TUP* v31 = value_tup(v27->cells[2], 42);
	incref(MKTUP(v31, 42));
	uint64_t v32 = value_u64(v31->cells[34]);
	decref(MKTUP(v31, 42));
	TUP* v33 = value_tup(v27->cells[2], 42);
	incref(MKTUP(v33, 42));
	uint64_t v34 = value_u64(v33->cells[35]);
	decref(MKTUP(v33, 42));
	VAL v35 = MKI64(0LL /* Nil */);
	VAL v36 = mw_std_list_List_1_cons(MKU64(v34), v35);
	VAL v37 = MKI64(0LL /* None */);
	TUP* v38;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v27, v28, v30, v32, v36, v37, &v38);
	STR* v39;
	STRLIT(v39, "CConst", 6);
	INT v40 = WRAP_I63(0LL);
	VAL v41 = mtw_mirth_type_Type_Var(v8);
	VAL v42 = MKI64(0LL /* Nil */);
	VAL v43 = mw_std_list_List_1_cons(v41, v42);
	TUP* v44 = value_tup(v38->cells[2], 42);
	incref(MKTUP(v44, 42));
	uint64_t v45 = value_u64(v44->cells[35]);
	decref(MKTUP(v44, 42));
	TUP* v46;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v38, v39, v40, v43, v45, &v46);
	STR* v47;
	STRLIT(v47, "CRestrict", 9);
	VAL v48 = MKI64(0LL /* Nil */);
	VAL v49 = mw_std_list_List_1_cons(MKU64(v8), v48);
	TUP* v50 = value_tup(v46->cells[2], 42);
	incref(MKTUP(v50, 42));
	uint64_t v51 = value_u64(v50->cells[36]);
	decref(MKTUP(v50, 42));
	TUP* v52 = value_tup(v46->cells[2], 42);
	incref(MKTUP(v52, 42));
	uint64_t v53 = value_u64(v52->cells[37]);
	decref(MKTUP(v52, 42));
	VAL v54 = MKI64(0LL /* Nil */);
	VAL v55 = mw_std_list_List_1_cons(MKU64(v53), v54);
	VAL v56 = MKI64(0LL /* None */);
	TUP* v57;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v46, v47, v49, v51, v55, v56, &v57);
	STR* v58;
	STRLIT(v58, "CRestrict", 9);
	INT v59 = WRAP_I63(0LL);
	VAL v60 = mtw_mirth_type_Type_Var(v8);
	VAL v61 = MKI64(0LL /* Nil */);
	VAL v62 = mw_std_list_List_1_cons(v60, v61);
	TUP* v63 = value_tup(v57->cells[2], 42);
	incref(MKTUP(v63, 42));
	uint64_t v64 = value_u64(v63->cells[37]);
	decref(MKTUP(v63, 42));
	TUP* v65;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v57, v58, v59, v62, v64, &v65);
	STR* v66;
	STRLIT(v66, "CVolatile", 9);
	VAL v67 = MKI64(0LL /* Nil */);
	VAL v68 = mw_std_list_List_1_cons(MKU64(v8), v67);
	TUP* v69 = value_tup(v65->cells[2], 42);
	incref(MKTUP(v69, 42));
	uint64_t v70 = value_u64(v69->cells[38]);
	decref(MKTUP(v69, 42));
	TUP* v71 = value_tup(v65->cells[2], 42);
	incref(MKTUP(v71, 42));
	uint64_t v72 = value_u64(v71->cells[39]);
	decref(MKTUP(v71, 42));
	VAL v73 = MKI64(0LL /* Nil */);
	VAL v74 = mw_std_list_List_1_cons(MKU64(v72), v73);
	VAL v75 = MKI64(0LL /* None */);
	TUP* v76;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v65, v66, v68, v70, v74, v75, &v76);
	STR* v77;
	STRLIT(v77, "CVolatile", 9);
	INT v78 = WRAP_I63(0LL);
	VAL v79 = mtw_mirth_type_Type_Var(v8);
	VAL v80 = MKI64(0LL /* Nil */);
	VAL v81 = mw_std_list_List_1_cons(v79, v80);
	TUP* v82 = value_tup(v76->cells[2], 42);
	incref(MKTUP(v82, 42));
	uint64_t v83 = value_u64(v82->cells[39]);
	decref(MKTUP(v82, 42));
	TUP* v84;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v76, v77, v78, v81, v83, &v84);
	STR* v85;
	STRLIT(v85, "CVoid", 5);
	VAL v86 = MKI64(0LL /* Nil */);
	TUP* v87 = value_tup(v84->cells[2], 42);
	incref(MKTUP(v87, 42));
	uint64_t v88 = value_u64(v87->cells[40]);
	decref(MKTUP(v87, 42));
	TUP* v89 = value_tup(v84->cells[2], 42);
	incref(MKTUP(v89, 42));
	uint64_t v90 = value_u64(v89->cells[41]);
	decref(MKTUP(v89, 42));
	VAL v91 = MKI64(0LL /* Nil */);
	VAL v92 = mw_std_list_List_1_cons(MKU64(v90), v91);
	STR* v93;
	STRLIT(v93, "void", 4);
	VAL v94 = mtw_mirth_type_CType_Void(v93);
	VAL v95 = mtw_std_maybe_Maybe_1_Some(v94);
	TUP* v96;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_dataZBang(v84, v85, v86, v88, v92, v95, &v96);
	STR* v97;
	STRLIT(v97, "CVoid", 5);
	INT v98 = WRAP_I63(0LL);
	VAL v99 = MKI64(0LL /* Nil */);
	TUP* v100 = value_tup(v96->cells[2], 42);
	incref(MKTUP(v100, 42));
	uint64_t v101 = value_u64(v100->cells[41]);
	decref(MKTUP(v100, 42));
	TUP* v102;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_tagZBang(v96, v97, v98, v99, v101, &v102);
	STR* v103;
	STRLIT(v103, "CChar", 5);
	TUP* v104 = value_tup(v102->cells[2], 42);
	incref(MKTUP(v104, 42));
	uint64_t v105 = value_u64(v104->cells[2]);
	decref(MKTUP(v104, 42));
	STR* v106;
	STRLIT(v106, "CChar", 5);
	TUP* v107 = value_tup(v102->cells[2], 42);
	incref(MKTUP(v107, 42));
	uint64_t v108 = value_u64(v107->cells[3]);
	decref(MKTUP(v107, 42));
	STR* v109;
	STRLIT(v109, "char", 4);
	TUP* v110;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v102, v103, v105, v106, v108, v109, &v110);
	STR* v111;
	STRLIT(v111, "CIChar", 6);
	TUP* v112 = value_tup(v110->cells[2], 42);
	incref(MKTUP(v112, 42));
	uint64_t v113 = value_u64(v112->cells[4]);
	decref(MKTUP(v112, 42));
	STR* v114;
	STRLIT(v114, "CIChar", 6);
	TUP* v115 = value_tup(v110->cells[2], 42);
	incref(MKTUP(v115, 42));
	uint64_t v116 = value_u64(v115->cells[5]);
	decref(MKTUP(v115, 42));
	STR* v117;
	STRLIT(v117, "signed char", 11);
	TUP* v118;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v110, v111, v113, v114, v116, v117, &v118);
	STR* v119;
	STRLIT(v119, "CShort", 6);
	TUP* v120 = value_tup(v118->cells[2], 42);
	incref(MKTUP(v120, 42));
	uint64_t v121 = value_u64(v120->cells[6]);
	decref(MKTUP(v120, 42));
	STR* v122;
	STRLIT(v122, "CShort", 6);
	TUP* v123 = value_tup(v118->cells[2], 42);
	incref(MKTUP(v123, 42));
	uint64_t v124 = value_u64(v123->cells[7]);
	decref(MKTUP(v123, 42));
	STR* v125;
	STRLIT(v125, "short", 5);
	TUP* v126;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v118, v119, v121, v122, v124, v125, &v126);
	STR* v127;
	STRLIT(v127, "CInt", 4);
	TUP* v128 = value_tup(v126->cells[2], 42);
	incref(MKTUP(v128, 42));
	uint64_t v129 = value_u64(v128->cells[8]);
	decref(MKTUP(v128, 42));
	STR* v130;
	STRLIT(v130, "CInt", 4);
	TUP* v131 = value_tup(v126->cells[2], 42);
	incref(MKTUP(v131, 42));
	uint64_t v132 = value_u64(v131->cells[9]);
	decref(MKTUP(v131, 42));
	STR* v133;
	STRLIT(v133, "int", 3);
	TUP* v134;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v126, v127, v129, v130, v132, v133, &v134);
	STR* v135;
	STRLIT(v135, "CLong", 5);
	TUP* v136 = value_tup(v134->cells[2], 42);
	incref(MKTUP(v136, 42));
	uint64_t v137 = value_u64(v136->cells[10]);
	decref(MKTUP(v136, 42));
	STR* v138;
	STRLIT(v138, "CLong", 5);
	TUP* v139 = value_tup(v134->cells[2], 42);
	incref(MKTUP(v139, 42));
	uint64_t v140 = value_u64(v139->cells[11]);
	decref(MKTUP(v139, 42));
	STR* v141;
	STRLIT(v141, "long", 4);
	TUP* v142;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v134, v135, v137, v138, v140, v141, &v142);
	STR* v143;
	STRLIT(v143, "CLongLong", 9);
	TUP* v144 = value_tup(v142->cells[2], 42);
	incref(MKTUP(v144, 42));
	uint64_t v145 = value_u64(v144->cells[12]);
	decref(MKTUP(v144, 42));
	STR* v146;
	STRLIT(v146, "CLongLong", 9);
	TUP* v147 = value_tup(v142->cells[2], 42);
	incref(MKTUP(v147, 42));
	uint64_t v148 = value_u64(v147->cells[13]);
	decref(MKTUP(v147, 42));
	STR* v149;
	STRLIT(v149, "long long", 9);
	TUP* v150;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v142, v143, v145, v146, v148, v149, &v150);
	STR* v151;
	STRLIT(v151, "CISize", 6);
	TUP* v152 = value_tup(v150->cells[2], 42);
	incref(MKTUP(v152, 42));
	uint64_t v153 = value_u64(v152->cells[14]);
	decref(MKTUP(v152, 42));
	STR* v154;
	STRLIT(v154, "CISize", 6);
	TUP* v155 = value_tup(v150->cells[2], 42);
	incref(MKTUP(v155, 42));
	uint64_t v156 = value_u64(v155->cells[15]);
	decref(MKTUP(v155, 42));
	STR* v157;
	STRLIT(v157, "ssize_t", 7);
	TUP* v158;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v150, v151, v153, v154, v156, v157, &v158);
	STR* v159;
	STRLIT(v159, "CIntPtr", 7);
	TUP* v160 = value_tup(v158->cells[2], 42);
	incref(MKTUP(v160, 42));
	uint64_t v161 = value_u64(v160->cells[16]);
	decref(MKTUP(v160, 42));
	STR* v162;
	STRLIT(v162, "CIntPtr", 7);
	TUP* v163 = value_tup(v158->cells[2], 42);
	incref(MKTUP(v163, 42));
	uint64_t v164 = value_u64(v163->cells[17]);
	decref(MKTUP(v163, 42));
	STR* v165;
	STRLIT(v165, "intptr_t", 8);
	TUP* v166;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_intlikeZBang(v158, v159, v161, v162, v164, v165, &v166);
	STR* v167;
	STRLIT(v167, "CUChar", 6);
	TUP* v168 = value_tup(v166->cells[2], 42);
	incref(MKTUP(v168, 42));
	uint64_t v169 = value_u64(v168->cells[18]);
	decref(MKTUP(v168, 42));
	STR* v170;
	STRLIT(v170, "CUChar", 6);
	TUP* v171 = value_tup(v166->cells[2], 42);
	incref(MKTUP(v171, 42));
	uint64_t v172 = value_u64(v171->cells[19]);
	decref(MKTUP(v171, 42));
	STR* v173;
	STRLIT(v173, "unsigned char", 13);
	TUP* v174;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v166, v167, v169, v170, v172, v173, &v174);
	STR* v175;
	STRLIT(v175, "CUShort", 7);
	TUP* v176 = value_tup(v174->cells[2], 42);
	incref(MKTUP(v176, 42));
	uint64_t v177 = value_u64(v176->cells[20]);
	decref(MKTUP(v176, 42));
	STR* v178;
	STRLIT(v178, "CUShort", 7);
	TUP* v179 = value_tup(v174->cells[2], 42);
	incref(MKTUP(v179, 42));
	uint64_t v180 = value_u64(v179->cells[21]);
	decref(MKTUP(v179, 42));
	STR* v181;
	STRLIT(v181, "unsigned short", 14);
	TUP* v182;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v174, v175, v177, v178, v180, v181, &v182);
	STR* v183;
	STRLIT(v183, "CUInt", 5);
	TUP* v184 = value_tup(v182->cells[2], 42);
	incref(MKTUP(v184, 42));
	uint64_t v185 = value_u64(v184->cells[22]);
	decref(MKTUP(v184, 42));
	STR* v186;
	STRLIT(v186, "CUInt", 5);
	TUP* v187 = value_tup(v182->cells[2], 42);
	incref(MKTUP(v187, 42));
	uint64_t v188 = value_u64(v187->cells[23]);
	decref(MKTUP(v187, 42));
	STR* v189;
	STRLIT(v189, "unsigned int", 12);
	TUP* v190;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v182, v183, v185, v186, v188, v189, &v190);
	STR* v191;
	STRLIT(v191, "CULong", 6);
	TUP* v192 = value_tup(v190->cells[2], 42);
	incref(MKTUP(v192, 42));
	uint64_t v193 = value_u64(v192->cells[24]);
	decref(MKTUP(v192, 42));
	STR* v194;
	STRLIT(v194, "CULong", 6);
	TUP* v195 = value_tup(v190->cells[2], 42);
	incref(MKTUP(v195, 42));
	uint64_t v196 = value_u64(v195->cells[25]);
	decref(MKTUP(v195, 42));
	STR* v197;
	STRLIT(v197, "unsigned long", 13);
	TUP* v198;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v190, v191, v193, v194, v196, v197, &v198);
	STR* v199;
	STRLIT(v199, "CULongLong", 10);
	TUP* v200 = value_tup(v198->cells[2], 42);
	incref(MKTUP(v200, 42));
	uint64_t v201 = value_u64(v200->cells[26]);
	decref(MKTUP(v200, 42));
	STR* v202;
	STRLIT(v202, "CULongLong", 10);
	TUP* v203 = value_tup(v198->cells[2], 42);
	incref(MKTUP(v203, 42));
	uint64_t v204 = value_u64(v203->cells[27]);
	decref(MKTUP(v203, 42));
	STR* v205;
	STRLIT(v205, "unsigned long long", 18);
	TUP* v206;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v198, v199, v201, v202, v204, v205, &v206);
	STR* v207;
	STRLIT(v207, "CUSize", 6);
	TUP* v208 = value_tup(v206->cells[2], 42);
	incref(MKTUP(v208, 42));
	uint64_t v209 = value_u64(v208->cells[28]);
	decref(MKTUP(v208, 42));
	STR* v210;
	STRLIT(v210, "CUSize", 6);
	TUP* v211 = value_tup(v206->cells[2], 42);
	incref(MKTUP(v211, 42));
	uint64_t v212 = value_u64(v211->cells[29]);
	decref(MKTUP(v211, 42));
	STR* v213;
	STRLIT(v213, "size_t", 6);
	TUP* v214;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v206, v207, v209, v210, v212, v213, &v214);
	STR* v215;
	STRLIT(v215, "CUIntPtr", 8);
	TUP* v216 = value_tup(v214->cells[2], 42);
	incref(MKTUP(v216, 42));
	uint64_t v217 = value_u64(v216->cells[30]);
	decref(MKTUP(v216, 42));
	STR* v218;
	STRLIT(v218, "CUIntPtr", 8);
	TUP* v219 = value_tup(v214->cells[2], 42);
	incref(MKTUP(v219, 42));
	uint64_t v220 = value_u64(v219->cells[31]);
	decref(MKTUP(v219, 42));
	STR* v221;
	STRLIT(v221, "uintptr_t", 9);
	TUP* v222;
	mw_mirth_mirth_ZPlusMirth_makeZ_primZ_uintlikeZBang(v214, v215, v217, v218, v220, v221, &v222);
	*out_ZPlusMirth_2 = v222;
}
static TUP* mw_mirth_mirth_ZPlusMirth_dataZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, uint64_t in_Name_3, INT in_Int_4, TUP* *out_ZPlusMirth_5) {
	VAL v7 = mtw_mirth_tycon_Tycon_Data(in_Data_2);
	VAL v8 = mtw_mirth_name_Namespace_Tycon(v7);
	TUP* v9 = mtw_mirth_name_QName_QName(v8, in_Name_3, in_Int_4);
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
	return v9;
}
static TUP* mw_mirth_mirth_ZPlusMirth_dataZ_wordZ_qname (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, STR* in_Str_3, INT in_Nat_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7;
	uint64_t v8 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, in_Str_3, &v7);
	TUP* v9;
	TUP* v10 = mw_mirth_mirth_ZPlusMirth_dataZ_qname(v7, in_Data_2, v8, in_Nat_4, &v9);
	*out_ZPlusMirth_5 = v9;
	return v10;
}
static uint64_t mw_mirth_data_Tag_allocZBang (void) {
	void* v2 = mbuf_mirth_data_Tag_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_data_Tag_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_data_Tag_index (uint64_t in_Tag_1) {
	return in_Tag_1;
}
static uint64_t mw_mirth_data_Tag_data (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildedata, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static TUP* mw_mirth_data_Tag_qname (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildeqname, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_tup(v6, 3);
}
static uint64_t mw_mirth_data_Tag_name (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, in_Tag_2, &v5);
	uint64_t v7 = value_u64(v6->cells[1]);
	decref(MKTUP(v6, 3));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static INT mw_mirth_data_Tag_value (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildevalue, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static VAL mw_mirth_data_Tag_labelZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildelabelZ_inputs, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static INT mw_mirth_data_Tag_numZ_typeZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static INT mw_mirth_data_Tag_numZ_resourceZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static VAL mw_mirth_data_Tag_sigZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildesigZAsk, in_Tag_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_Tag_ctxZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	void* v6 = field_mut(&mfld_mirth_data_Tag_ZTildectxZ_type, in_Tag_2);
	TUP* v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = value_tup(v8, 2)->cells[0];
	VAL v10 = value_tup(v8, 2)->cells[1];
	tup_decref_outer(value_tup(v8, 2),2);
	*out_ArrowType_5 = value_tup(v10, 2);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static VAL mw_mirth_data_Tag_ctx (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_ctxZ_type(in_ZPlusMirth_1, in_Tag_2, &v5, &v6);
	decref(MKTUP(v6, 2));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static TUP* mw_mirth_data_Tag_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_ctxZ_type(in_ZPlusMirth_1, in_Tag_2, &v5, &v6);
	decref(v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static void mw_mirth_data_Tag_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	uint64_t v7 = mw_mirth_data_Tag_name(in_ZPlusMirth_1, in_Tag_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_Name_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_data_Tag_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, in_Tag_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_QName_qnameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static bool mw_mirth_data_Tag_onlyZ_tagZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_data_Data_tags(v5, v6, &v7);
	VAL v9 = mw_std_list_List_1_singleZAsk(v8);
	int64_t v10 = get_data_tag(v9);
	decref(v9);
	INT v11 = WRAP_I63(0LL);
	INT v12 = i64_to_int(v10);
	bool v13 = int_eq(v12, v11);
	bool v14 = !v13;
	*out_ZPlusMirth_3 = v7;
	return v14;
}
static VAL mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_data_Tag_sigZAsk(in_ZPlusMirth_1, in_Tag_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_List_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			VAL v11 = mw_mirth_token_Token_runZ_tokens(v5, value_u64(v9), &v10);
			VAL v12 = MKI64(0LL /* Nil */);
			VAL v13;
			mw_std_list_List_1_buildZBang(v12, &v13);
			bool v14 = true;
			TUP* v15 = v10;
			VAL v16 = v13;
			VAL v17 = v11;
			bool v18 = v14;
			bool v19 = v14;
			while (v19) {
				TUP* v20 = v15;
				VAL v21 = v16;
				VAL v22 = v17;
				bool v23 = v18;
				TUP* branch_ZPlusMirth_24;
				VAL branch_ZPlusLister_25;
				VAL branch_List_26;
				bool branch_Bool_27;
				switch (get_data_tag(v22)) {
					case 1LL: { // Cons
						VAL v28;
						VAL v29 = mtp_std_list_List_1_Cons(v22, &v28);
						TUP* v30;
						VAL v31 = mw_mirth_token_Token_sigZ_labelZAsk(v20, value_u64(v29), &v30);
						VAL v32;
						mw_std_maybe_Maybe_1_for_1_sp9(v21, v31, &v32);
						bool v33 = true;
						branch_Bool_27 = v33;
						branch_List_26 = v28;
						branch_ZPlusLister_25 = v32;
						branch_ZPlusMirth_24 = v30;
					} break;
					case 0LL: { // Nil
						VAL v34 = MKI64(0LL /* Nil */);
						bool v35 = false;
						branch_Bool_27 = v35;
						branch_List_26 = v34;
						branch_ZPlusLister_25 = v21;
						branch_ZPlusMirth_24 = v20;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v19 = branch_Bool_27;
				v18 = branch_Bool_27;
				v17 = branch_List_26;
				v16 = branch_ZPlusLister_25;
				v15 = branch_ZPlusMirth_24;
			}
			decref(v17);
			VAL v36 = mw_std_list_ZPlusLister_1_doneZBang(v16);
			branch_List_8 = v36;
			branch_ZPlusMirth_7 = v15;
		} break;
		case 0LL: { // None
			VAL v37 = MKI64(0LL /* Nil */);
			branch_List_8 = v37;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_8;
}
static INT mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_data_Tag_sigZAsk(in_ZPlusMirth_1, in_Tag_2, &v5);
	TUP* branch_ZPlusMirth_7;
	INT branch_Nat_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			INT v11 = mw_mirth_token_Token_runZ_length(v5, value_u64(v9), &v10);
			TUP* v12;
			INT v13 = mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig(v10, in_Tag_2, &v12);
			INT v14 = int_sub(v11, v13);
			incref(MKINT(v14));
			INT v15 = WRAP_I63(0LL);
			bool v16 = int_le(v15, v14);
			INT branch_Nat_17;
			if (v16) {
				branch_Nat_17 = v14;
			} else {
				decref(MKINT(v14));
				INT v18 = WRAP_I63(0LL);
				branch_Nat_17 = v18;
			}
			TUP* v19;
			VAL v20 = mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig(v12, in_Tag_2, &v19);
			INT v21 = mw_std_list_List_1_len(v20);
			INT v22 = int_sub(branch_Nat_17, v21);
			incref(MKINT(v22));
			INT v23 = WRAP_I63(0LL);
			bool v24 = int_le(v23, v22);
			INT branch_Nat_25;
			if (v24) {
				branch_Nat_25 = v22;
			} else {
				decref(MKINT(v22));
				INT v26 = WRAP_I63(0LL);
				branch_Nat_25 = v26;
			}
			branch_Nat_8 = branch_Nat_25;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 0LL: { // None
			INT v27 = WRAP_I63(0LL);
			branch_Nat_8 = v27;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Nat_8;
}
static INT mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_data_Tag_sigZAsk(in_ZPlusMirth_1, in_Tag_2, &v5);
	TUP* branch_ZPlusMirth_7;
	INT branch_Nat_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			VAL v11 = mw_mirth_token_Token_runZ_tokens(v5, value_u64(v9), &v10);
			VAL v12 = MKI64(0LL /* Nil */);
			VAL v13;
			mw_std_list_List_1_buildZBang(v12, &v13);
			bool v14 = true;
			TUP* v15 = v10;
			VAL v16 = v13;
			VAL v17 = v11;
			bool v18 = v14;
			bool v19 = v14;
			while (v19) {
				TUP* v20 = v15;
				VAL v21 = v16;
				VAL v22 = v17;
				bool v23 = v18;
				TUP* branch_ZPlusMirth_24;
				VAL branch_ZPlusLister_25;
				VAL branch_List_26;
				bool branch_Bool_27;
				switch (get_data_tag(v22)) {
					case 1LL: { // Cons
						VAL v28;
						VAL v29 = mtp_std_list_List_1_Cons(v22, &v28);
						incref(v29);
						TUP* v30;
						bool v31 = mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk(v20, value_u64(v29), &v30);
						bool v32 = !v31;
						TUP* branch_ZPlusMirth_33;
						VAL branch_ZPlusLister_34;
						if (v32) {
							VAL v35;
							mw_std_list_ZPlusLister_1_pushZBang(v29, v21, &v35);
							branch_ZPlusLister_34 = v35;
							branch_ZPlusMirth_33 = v30;
						} else {
							decref(v29);
							branch_ZPlusLister_34 = v21;
							branch_ZPlusMirth_33 = v30;
						}
						bool v36 = true;
						branch_Bool_27 = v36;
						branch_List_26 = v28;
						branch_ZPlusLister_25 = branch_ZPlusLister_34;
						branch_ZPlusMirth_24 = branch_ZPlusMirth_33;
					} break;
					case 0LL: { // Nil
						VAL v37 = MKI64(0LL /* Nil */);
						bool v38 = false;
						branch_Bool_27 = v38;
						branch_List_26 = v37;
						branch_ZPlusLister_25 = v21;
						branch_ZPlusMirth_24 = v20;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v19 = branch_Bool_27;
				v18 = branch_Bool_27;
				v17 = branch_List_26;
				v16 = branch_ZPlusLister_25;
				v15 = branch_ZPlusMirth_24;
			}
			decref(v17);
			VAL v39 = mw_std_list_ZPlusLister_1_doneZBang(v16);
			VAL v40 = MKI64(0LL /* Nil */);
			VAL v41;
			mw_std_list_List_1_buildZBang(v40, &v41);
			bool v42 = true;
			TUP* v43 = v15;
			VAL v44 = v41;
			VAL v45 = v39;
			bool v46 = v42;
			bool v47 = v42;
			while (v47) {
				TUP* v48 = v43;
				VAL v49 = v44;
				VAL v50 = v45;
				bool v51 = v46;
				TUP* branch_ZPlusMirth_52;
				VAL branch_ZPlusLister_53;
				VAL branch_List_54;
				bool branch_Bool_55;
				switch (get_data_tag(v50)) {
					case 1LL: { // Cons
						VAL v56;
						VAL v57 = mtp_std_list_List_1_Cons(v50, &v56);
						TUP* v58;
						VAL v59 = mw_mirth_token_Token_nameZAsk(v48, value_u64(v57), &v58);
						VAL v60;
						mw_std_maybe_Maybe_1_for_1_sp9(v49, v59, &v60);
						bool v61 = true;
						branch_Bool_55 = v61;
						branch_List_54 = v56;
						branch_ZPlusLister_53 = v60;
						branch_ZPlusMirth_52 = v58;
					} break;
					case 0LL: { // Nil
						VAL v62 = MKI64(0LL /* Nil */);
						bool v63 = false;
						branch_Bool_55 = v63;
						branch_List_54 = v62;
						branch_ZPlusLister_53 = v49;
						branch_ZPlusMirth_52 = v48;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v47 = branch_Bool_55;
				v46 = branch_Bool_55;
				v45 = branch_List_54;
				v44 = branch_ZPlusLister_53;
				v43 = branch_ZPlusMirth_52;
			}
			decref(v45);
			VAL v64 = mw_std_list_ZPlusLister_1_doneZBang(v44);
			VAL v65 = MKI64(0LL /* Nil */);
			VAL v66;
			mw_std_list_List_1_buildZBang(v65, &v66);
			bool v67 = true;
			TUP* v68 = v43;
			VAL v69 = v66;
			VAL v70 = v64;
			bool v71 = v67;
			bool v72 = v67;
			while (v72) {
				TUP* v73 = v68;
				VAL v74 = v69;
				VAL v75 = v70;
				bool v76 = v71;
				TUP* branch_ZPlusMirth_77;
				VAL branch_ZPlusLister_78;
				VAL branch_List_79;
				bool branch_Bool_80;
				switch (get_data_tag(v75)) {
					case 1LL: { // Cons
						VAL v81;
						VAL v82 = mtp_std_list_List_1_Cons(v75, &v81);
						incref(v82);
						incref(v82);
						TUP* v83;
						bool v84 = mw_mirth_name_Name_couldZ_beZ_resourceZ_var(v73, value_u64(v82), &v83);
						TUP* branch_ZPlusMirth_85;
						bool branch_Bool_86;
						if (v84) {
							decref(v82);
							bool v87 = true;
							branch_Bool_86 = v87;
							branch_ZPlusMirth_85 = v83;
						} else {
							TUP* v88;
							bool v89 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(v83, value_u64(v82), &v88);
							branch_Bool_86 = v89;
							branch_ZPlusMirth_85 = v88;
						}
						TUP* branch_ZPlusMirth_90;
						VAL branch_ZPlusLister_91;
						if (branch_Bool_86) {
							VAL v92;
							mw_std_list_ZPlusLister_1_pushZBang(v82, v74, &v92);
							branch_ZPlusLister_91 = v92;
							branch_ZPlusMirth_90 = branch_ZPlusMirth_85;
						} else {
							decref(v82);
							branch_ZPlusLister_91 = v74;
							branch_ZPlusMirth_90 = branch_ZPlusMirth_85;
						}
						bool v93 = true;
						branch_Bool_80 = v93;
						branch_List_79 = v81;
						branch_ZPlusLister_78 = branch_ZPlusLister_91;
						branch_ZPlusMirth_77 = branch_ZPlusMirth_90;
					} break;
					case 0LL: { // Nil
						VAL v94 = MKI64(0LL /* Nil */);
						bool v95 = false;
						branch_Bool_80 = v95;
						branch_List_79 = v94;
						branch_ZPlusLister_78 = v74;
						branch_ZPlusMirth_77 = v73;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v72 = branch_Bool_80;
				v71 = branch_Bool_80;
				v70 = branch_List_79;
				v69 = branch_ZPlusLister_78;
				v68 = branch_ZPlusMirth_77;
			}
			decref(v70);
			VAL v96 = mw_std_list_ZPlusLister_1_doneZBang(v69);
			INT v97 = mw_std_list_List_1_len(v96);
			branch_Nat_8 = v97;
			branch_ZPlusMirth_7 = v68;
		} break;
		case 0LL: { // None
			INT v98 = WRAP_I63(0LL);
			branch_Nat_8 = v98;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Nat_8;
}
static INT mw_mirth_data_Tag_numZ_labelZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildenumZ_labelZ_inputs, in_Tag_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	INT branch_Nat_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Nat_9 = value_int(v10);
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		VAL v12 = mw_mirth_data_Tag_labelZ_inputs(in_ZPlusMirth_1, in_Tag_2, &v11);
		INT v13 = mw_std_list_List_1_len(v12);
		incref(MKINT(v13));
		mut_set(MKINT(v13), v5);
		branch_Nat_9 = v13;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v11;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Nat_9;
}
static INT mw_mirth_data_Tag_numZ_totalZ_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	INT v6 = mw_mirth_data_Tag_numZ_labelZ_inputs(in_ZPlusMirth_1, in_Tag_2, &v5);
	TUP* v7;
	INT v8 = mw_mirth_data_Tag_numZ_typeZ_inputs(v5, in_Tag_2, &v7);
	INT v9 = int_add(v6, v8);
	TUP* v10;
	INT v11 = mw_mirth_data_Tag_numZ_resourceZ_inputs(v7, in_Tag_2, &v10);
	INT v12 = int_add(v9, v11);
	*out_ZPlusMirth_3 = v10;
	return v12;
}
static VAL mw_mirth_data_Tag_inputs (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildeinputs, in_Tag_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	VAL branch_List_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_List_9 = v10;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_2, &v11);
		VAL v13 = v12->cells[0];
		incref(v13);
		decref(MKTUP(v12, 2));
		TUP* v14;
		VAL v15;
		VAL v16 = mw_mirth_type_StackType_splitZ_parts(v11, v13, &v14, &v15);
		decref(v16);
		incref(v15);
		mut_set(v15, v5);
		branch_List_9 = v15;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v14;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_9;
}
static VAL mw_mirth_data_Tag_semiZ_transparentZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_data_Data_semiZ_transparentZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_data_Tag_outputsZ_resourceZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_data_Data_isZ_resourceZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_data_Tag_ZEqual (uint64_t in_Tag_1, uint64_t in_Tag_2) {
	uint64_t v4 = mw_mirth_data_Tag_index(in_Tag_1);
	uint64_t v5 = mw_mirth_data_Tag_index(in_Tag_2);
	bool v6 = (v4 == v5);
	return v6;
}
static bool mw_mirth_data_Tag_preferZ_inlineZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_data_Tag_data(in_ZPlusMirth_1, in_Tag_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_data_Data_semiZ_transparentZAsk(v5, v6, &v7);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	TUP* branch_ZPlusMirth_14;
	uint64_t branch_Tag_15;
	bool branch_Bool_16;
	if (v13) {
		bool v17 = true;
		branch_Bool_16 = v17;
		branch_Tag_15 = in_Tag_2;
		branch_ZPlusMirth_14 = v7;
	} else {
		TUP* v18;
		INT v19 = mw_mirth_data_Tag_numZ_totalZ_inputs(v7, in_Tag_2, &v18);
		INT v20 = WRAP_I63(0LL);
		bool v21 = int_eq(v19, v20);
		branch_Bool_16 = v21;
		branch_Tag_15 = in_Tag_2;
		branch_ZPlusMirth_14 = v18;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
	return branch_Bool_16;
}
static bool mw_mirth_data_DataPartial_ZEqual (TUP* in_DataPartial_1, TUP* in_DataPartial_2) {
	uint64_t v4;
	uint64_t v5;
	mtp_mirth_data_DataPartial_DataPartial(in_DataPartial_2, &v4, &v5);
	uint64_t v6;
	uint64_t v7;
	mtp_mirth_data_DataPartial_DataPartial(in_DataPartial_1, &v6, &v7);
	bool v8 = mw_mirth_data_Data_ZEqual(v6, v4);
	bool v9 = mw_mirth_label_Label_ZEqual(v7, v5);
	bool v10 = (v8 && v9);
	return v10;
}
static VAL mw_mirth_data_DataPartial_unifyZBang (TUP* in_ZPlusMirth_1, TUP* in_DataPartial_2, TUP* in_DataPartial_3, TUP* *out_ZPlusMirth_4) {
	incref(MKTUP(in_DataPartial_2, 2));
	incref(MKTUP(in_DataPartial_3, 2));
	bool v6 = mw_mirth_data_DataPartial_ZEqual(in_DataPartial_2, in_DataPartial_3);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Type_8;
	if (v6) {
		decref(MKTUP(in_DataPartial_3, 2));
		VAL v9 = mtw_mirth_type_Type_DataPartial(in_DataPartial_2);
		branch_Type_8 = v9;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v10 = mtw_mirth_type_Type_DataPartial(in_DataPartial_2);
		VAL v11 = mtw_mirth_type_Type_DataPartial(in_DataPartial_3);
		TUP* v12;
		VAL v13 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v10, v11, &v12);
		branch_Type_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static VAL mw_mirth_arrow_Arrow_ctxZ_type (TUP* in_Arrow_1, TUP* *out_ArrowType_3) {
	incref(MKTUP(in_Arrow_1, 7));
	VAL v4 = in_Arrow_1->cells[3];
	incref(v4);
	decref(MKTUP(in_Arrow_1, 7));
	TUP* v5 = mw_mirth_arrow_Arrow_type(in_Arrow_1);
	*out_ArrowType_3 = v5;
	return v4;
}
static TUP* mw_mirth_arrow_Arrow_type (TUP* in_Arrow_1) {
	incref(MKTUP(in_Arrow_1, 7));
	VAL v3 = in_Arrow_1->cells[4];
	incref(v3);
	decref(MKTUP(in_Arrow_1, 7));
	VAL v4 = in_Arrow_1->cells[5];
	incref(v4);
	decref(MKTUP(in_Arrow_1, 7));
	TUP* v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	return v5;
}
static VAL mw_mirth_arrow_Arrow_toZ_runZ_var (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = in_Arrow_2->cells[6];
	incref(v5);
	decref(MKTUP(in_Arrow_2, 7));
	VAL v6 = mw_std_list_List_1_singleZAsk(v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			VAL v11 = mw_mirth_arrow_Atom_toZ_runZ_var(in_ZPlusMirth_1, value_tup(v9, 8), &v10);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			VAL v12 = MKI64(0LL /* None */);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_arrow_Arrow_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = in_Arrow_2->cells[6];
	incref(v5);
	decref(MKTUP(in_Arrow_2, 7));
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	TUP* v9 = in_ZPlusMirth_1;
	VAL v10 = v7;
	VAL v11 = v5;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		TUP* v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		bool v17 = v12;
		TUP* branch_ZPlusMirth_18;
		VAL branch_ZPlusLister_19;
		VAL branch_List_20;
		bool branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				TUP* v24;
				VAL v25 = mw_mirth_arrow_Atom_freeZ_vars(v14, value_tup(v23, 8), &v24);
				VAL v26;
				mw_std_list_ZPlusLister_1_pushZBang(v25, v15, &v26);
				bool v27 = true;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				VAL v28 = MKI64(0LL /* Nil */);
				bool v29 = false;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusLister_19 = v15;
				branch_ZPlusMirth_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusLister_19;
		v9 = branch_ZPlusMirth_18;
	}
	decref(v11);
	VAL v30 = mw_std_list_ZPlusLister_1_doneZBang(v10);
	VAL v31 = mw_std_list_List_1_unions_sp1(v30);
	*out_ZPlusMirth_3 = v9;
	return v31;
}
static VAL mw_mirth_arrow_Atom_toZ_runZ_var (TUP* in_ZPlusMirth_1, TUP* in_Atom_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = in_Atom_2->cells[3];
	incref(v5);
	decref(MKTUP(in_Atom_2, 8));
	TUP* v6;
	VAL v7 = mw_mirth_arrow_Op_toZ_runZ_var(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_arrow_Atom_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Atom_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_Atom_2, 8));
	VAL v5 = in_Atom_2->cells[4];
	incref(v5);
	decref(MKTUP(in_Atom_2, 8));
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	TUP* v9 = in_ZPlusMirth_1;
	VAL v10 = v7;
	VAL v11 = v5;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		TUP* v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		bool v17 = v12;
		TUP* branch_ZPlusMirth_18;
		VAL branch_ZPlusLister_19;
		VAL branch_List_20;
		bool branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				TUP* v24;
				VAL v25 = mw_mirth_arrow_Arg_freeZ_vars(v14, value_u64(v23), &v24);
				VAL v26;
				mw_std_list_ZPlusLister_1_pushZBang(v25, v15, &v26);
				bool v27 = true;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				VAL v28 = MKI64(0LL /* Nil */);
				bool v29 = false;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusLister_19 = v15;
				branch_ZPlusMirth_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusLister_19;
		v9 = branch_ZPlusMirth_18;
	}
	decref(v11);
	VAL v30 = mw_std_list_ZPlusLister_1_doneZBang(v10);
	VAL v31 = mw_std_list_List_1_unions_sp1(v30);
	VAL v32 = in_Atom_2->cells[3];
	incref(v32);
	decref(MKTUP(in_Atom_2, 8));
	TUP* v33;
	VAL v34 = mw_mirth_arrow_Op_freeZ_vars(v9, v32, &v33);
	VAL v35 = mw_std_list_List_1_union_sp1(v31, v34);
	*out_ZPlusMirth_3 = v33;
	return v35;
}
static VAL mw_mirth_arrow_Arg_freeZ_vars (TUP* in_ZPlusMirth_1, uint64_t in_Arg_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, in_Arg_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_arrow_PushValue_ZEqual (VAL in_PushValue_1, VAL in_PushValue_2) {
	bool branch_Bool_4;
	switch (get_data_tag(in_PushValue_2)) {
		case 0LL: { // Str
			STR* v5 = mtp_mirth_arrow_PushValue_Str(in_PushValue_2);
			bool branch_Bool_6;
			switch (get_data_tag(in_PushValue_1)) {
				case 0LL: { // Str
					STR* v7 = mtp_mirth_arrow_PushValue_Str(in_PushValue_1);
					bool v8 = (str_cmp(v7, v5) == 0);
					branch_Bool_6 = v8;
				} break;
				default: {
					decref(in_PushValue_1);
					decref(MKSTR(v5));
					bool v9 = false;
					branch_Bool_6 = v9;
				} break;
			}
			branch_Bool_4 = branch_Bool_6;
		} break;
		case 1LL: { // Int
			INT v10 = mtp_mirth_arrow_PushValue_Int(in_PushValue_2);
			bool branch_Bool_11;
			switch (get_data_tag(in_PushValue_1)) {
				case 1LL: { // Int
					INT v12 = mtp_mirth_arrow_PushValue_Int(in_PushValue_1);
					bool v13 = int_eq(v12, v10);
					branch_Bool_11 = v13;
				} break;
				default: {
					decref(in_PushValue_1);
					decref(MKINT(v10));
					bool v14 = false;
					branch_Bool_11 = v14;
				} break;
			}
			branch_Bool_4 = branch_Bool_11;
		} break;
		case 2LL: { // U8
			uint8_t v15 = mtp_mirth_arrow_PushValue_U8(in_PushValue_2);
			bool branch_Bool_16;
			switch (get_data_tag(in_PushValue_1)) {
				case 2LL: { // U8
					uint8_t v17 = mtp_mirth_arrow_PushValue_U8(in_PushValue_1);
					uint64_t v18 = (uint64_t)(v15);
					uint32_t v19 = (uint32_t)(v18);
					uint64_t v20 = (uint64_t)(v17);
					uint32_t v21 = (uint32_t)(v20);
					uint64_t v22 = (uint64_t)(v21);
					uint64_t v23 = (uint64_t)(v19);
					bool v24 = (v22 == v23);
					branch_Bool_16 = v24;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v25 = false;
					branch_Bool_16 = v25;
				} break;
			}
			branch_Bool_4 = branch_Bool_16;
		} break;
		case 3LL: { // U16
			uint16_t v26 = mtp_mirth_arrow_PushValue_U16(in_PushValue_2);
			bool branch_Bool_27;
			switch (get_data_tag(in_PushValue_1)) {
				case 3LL: { // U16
					uint16_t v28 = mtp_mirth_arrow_PushValue_U16(in_PushValue_1);
					uint64_t v29 = (uint64_t)(v26);
					uint32_t v30 = (uint32_t)(v29);
					uint64_t v31 = (uint64_t)(v28);
					uint32_t v32 = (uint32_t)(v31);
					uint64_t v33 = (uint64_t)(v32);
					uint64_t v34 = (uint64_t)(v30);
					bool v35 = (v33 == v34);
					branch_Bool_27 = v35;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v36 = false;
					branch_Bool_27 = v36;
				} break;
			}
			branch_Bool_4 = branch_Bool_27;
		} break;
		case 4LL: { // U32
			uint32_t v37 = mtp_mirth_arrow_PushValue_U32(in_PushValue_2);
			bool branch_Bool_38;
			switch (get_data_tag(in_PushValue_1)) {
				case 4LL: { // U32
					uint32_t v39 = mtp_mirth_arrow_PushValue_U32(in_PushValue_1);
					uint64_t v40 = (uint64_t)(v39);
					uint64_t v41 = (uint64_t)(v37);
					bool v42 = (v40 == v41);
					branch_Bool_38 = v42;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v43 = false;
					branch_Bool_38 = v43;
				} break;
			}
			branch_Bool_4 = branch_Bool_38;
		} break;
		case 5LL: { // U64
			uint64_t v44 = mtp_mirth_arrow_PushValue_U64(in_PushValue_2);
			bool branch_Bool_45;
			switch (get_data_tag(in_PushValue_1)) {
				case 5LL: { // U64
					uint64_t v46 = mtp_mirth_arrow_PushValue_U64(in_PushValue_1);
					bool v47 = (v46 == v44);
					branch_Bool_45 = v47;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v48 = false;
					branch_Bool_45 = v48;
				} break;
			}
			branch_Bool_4 = branch_Bool_45;
		} break;
		case 6LL: { // I8
			int8_t v49 = mtp_mirth_arrow_PushValue_I8(in_PushValue_2);
			bool branch_Bool_50;
			switch (get_data_tag(in_PushValue_1)) {
				case 6LL: { // I8
					int8_t v51 = mtp_mirth_arrow_PushValue_I8(in_PushValue_1);
					int64_t v52 = (int64_t)(v49);
					int64_t v53 = (int64_t)(v51);
					bool v54 = (v53 == v52);
					branch_Bool_50 = v54;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v55 = false;
					branch_Bool_50 = v55;
				} break;
			}
			branch_Bool_4 = branch_Bool_50;
		} break;
		case 7LL: { // I16
			int16_t v56 = mtp_mirth_arrow_PushValue_I16(in_PushValue_2);
			bool branch_Bool_57;
			switch (get_data_tag(in_PushValue_1)) {
				case 7LL: { // I16
					int16_t v58 = mtp_mirth_arrow_PushValue_I16(in_PushValue_1);
					int64_t v59 = (int64_t)(v56);
					int64_t v60 = (int64_t)(v58);
					bool v61 = (v60 == v59);
					branch_Bool_57 = v61;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v62 = false;
					branch_Bool_57 = v62;
				} break;
			}
			branch_Bool_4 = branch_Bool_57;
		} break;
		case 8LL: { // I32
			int32_t v63 = mtp_mirth_arrow_PushValue_I32(in_PushValue_2);
			bool branch_Bool_64;
			switch (get_data_tag(in_PushValue_1)) {
				case 8LL: { // I32
					int32_t v65 = mtp_mirth_arrow_PushValue_I32(in_PushValue_1);
					int64_t v66 = (int64_t)(v63);
					int64_t v67 = (int64_t)(v65);
					bool v68 = (v67 == v66);
					branch_Bool_64 = v68;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v69 = false;
					branch_Bool_64 = v69;
				} break;
			}
			branch_Bool_4 = branch_Bool_64;
		} break;
		case 9LL: { // I64
			int64_t v70 = mtp_mirth_arrow_PushValue_I64(in_PushValue_2);
			bool branch_Bool_71;
			switch (get_data_tag(in_PushValue_1)) {
				case 9LL: { // I64
					int64_t v72 = mtp_mirth_arrow_PushValue_I64(in_PushValue_1);
					bool v73 = (v72 == v70);
					branch_Bool_71 = v73;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v74 = false;
					branch_Bool_71 = v74;
				} break;
			}
			branch_Bool_4 = branch_Bool_71;
		} break;
		case 10LL: { // F32
			float v75 = mtp_mirth_arrow_PushValue_F32(in_PushValue_2);
			bool branch_Bool_76;
			switch (get_data_tag(in_PushValue_1)) {
				case 10LL: { // F32
					float v77 = mtp_mirth_arrow_PushValue_F32(in_PushValue_1);
					bool v78 = (v77 == v75);
					branch_Bool_76 = v78;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v79 = false;
					branch_Bool_76 = v79;
				} break;
			}
			branch_Bool_4 = branch_Bool_76;
		} break;
		case 11LL: { // F64
			double v80 = mtp_mirth_arrow_PushValue_F64(in_PushValue_2);
			bool branch_Bool_81;
			switch (get_data_tag(in_PushValue_1)) {
				case 11LL: { // F64
					double v82 = mtp_mirth_arrow_PushValue_F64(in_PushValue_1);
					bool v83 = (v82 == v80);
					branch_Bool_81 = v83;
				} break;
				default: {
					decref(in_PushValue_1);
					bool v84 = false;
					branch_Bool_81 = v84;
				} break;
			}
			branch_Bool_4 = branch_Bool_81;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static VAL mw_mirth_arrow_Op_toZ_runZ_var (TUP* in_ZPlusMirth_1, VAL in_Op_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Op_2)) {
		case 9LL: { // Var
			uint64_t v7 = mtp_mirth_arrow_Op_Var(in_Op_2);
			TUP* v8;
			VAL v9 = mw_mirth_var_Var_autoZ_runZAsk(in_ZPlusMirth_1, v7, &v8);
			int64_t v10 = get_data_tag(v9);
			decref(v9);
			INT v11 = WRAP_I63(0LL);
			INT v12 = i64_to_int(v10);
			bool v13 = int_eq(v12, v11);
			bool v14 = !v13;
			VAL branch_Maybe_15;
			if (v14) {
				VAL v16 = mtw_std_maybe_Maybe_1_Some(MKU64(v7));
				branch_Maybe_15 = v16;
			} else {
				VAL v17 = MKI64(0LL /* None */);
				branch_Maybe_15 = v17;
			}
			branch_Maybe_6 = branch_Maybe_15;
			branch_ZPlusMirth_5 = v8;
		} break;
		default: {
			decref(in_Op_2);
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_arrow_Op_freeZ_vars (TUP* in_ZPlusMirth_1, VAL in_Op_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_List_6;
	switch (get_data_tag(in_Op_2)) {
		case 0LL: { // Prim
			int64_t v7 = mtp_mirth_arrow_Op_Prim(in_Op_2);
			VAL v8 = MKI64(0LL /* Nil */);
			branch_List_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Word
			uint64_t v9 = mtp_mirth_arrow_Op_Word(in_Op_2);
			VAL v10 = MKI64(0LL /* Nil */);
			branch_List_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // External
			uint64_t v11 = mtp_mirth_arrow_Op_External(in_Op_2);
			VAL v12 = MKI64(0LL /* Nil */);
			branch_List_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Buffer
			uint64_t v13 = mtp_mirth_arrow_Op_Buffer(in_Op_2);
			VAL v14 = MKI64(0LL /* Nil */);
			branch_List_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Field
			uint64_t v15 = mtp_mirth_arrow_Op_Field(in_Op_2);
			VAL v16 = MKI64(0LL /* Nil */);
			branch_List_6 = v16;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Push
			VAL v17 = mtp_mirth_arrow_Op_Push(in_Op_2);
			decref(v17);
			VAL v18 = MKI64(0LL /* Nil */);
			branch_List_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v19 = mtp_mirth_arrow_Op_Tag(in_Op_2);
			VAL v20 = MKI64(0LL /* Nil */);
			branch_List_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Match
			TUP* v21 = mtp_mirth_arrow_Op_Match(in_Op_2);
			TUP* v22;
			VAL v23 = mw_mirth_match_Match_freeZ_vars(in_ZPlusMirth_1, v21, &v22);
			branch_List_6 = v23;
			branch_ZPlusMirth_5 = v22;
		} break;
		case 8LL: { // Lambda
			TUP* v24 = mtp_mirth_arrow_Op_Lambda(in_Op_2);
			TUP* v25;
			VAL v26 = mw_mirth_arrow_Lambda_freeZ_vars(in_ZPlusMirth_1, v24, &v25);
			branch_List_6 = v26;
			branch_ZPlusMirth_5 = v25;
		} break;
		case 9LL: { // Var
			uint64_t v27 = mtp_mirth_arrow_Op_Var(in_Op_2);
			VAL v28 = MKI64(0LL /* Nil */);
			VAL v29 = mw_std_list_List_1_cons(MKU64(v27), v28);
			branch_List_6 = v29;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v30 = mtp_mirth_arrow_Op_BlockPush(in_Op_2);
			TUP* v31;
			VAL v32 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, v30, &v31);
			branch_List_6 = v32;
			branch_ZPlusMirth_5 = v31;
		} break;
		case 11LL: { // BlockRun
			uint64_t v33 = mtp_mirth_arrow_Op_BlockRun(in_Op_2);
			TUP* v34;
			VAL v35 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, v33, &v34);
			branch_List_6 = v35;
			branch_ZPlusMirth_5 = v34;
		} break;
		case 12LL: { // LabelPush
			uint64_t v36 = mtp_mirth_arrow_Op_LabelPush(in_Op_2);
			VAL v37 = MKI64(0LL /* Nil */);
			branch_List_6 = v37;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // LabelPop
			uint64_t v38 = mtp_mirth_arrow_Op_LabelPop(in_Op_2);
			VAL v39 = MKI64(0LL /* Nil */);
			branch_List_6 = v39;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v40 = mtp_mirth_arrow_Op_LabelPushR(in_Op_2);
			VAL v41 = MKI64(0LL /* Nil */);
			branch_List_6 = v41;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v42 = mtp_mirth_arrow_Op_LabelPopR(in_Op_2);
			VAL v43 = MKI64(0LL /* Nil */);
			branch_List_6 = v43;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v44 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_2);
			VAL v45 = MKI64(0LL /* Nil */);
			branch_List_6 = v45;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v46 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_2);
			VAL v47 = MKI64(0LL /* Nil */);
			branch_List_6 = v47;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // DataGetLabel
			TUP* v48 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_2);
			decref(MKTUP(v48, 3));
			VAL v49 = MKI64(0LL /* Nil */);
			branch_List_6 = v49;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // DataSetLabel
			TUP* v50 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_2);
			decref(MKTUP(v50, 3));
			VAL v51 = MKI64(0LL /* Nil */);
			branch_List_6 = v51;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v52 = mtp_mirth_arrow_Op_TableToIndex(in_Op_2);
			VAL v53 = MKI64(0LL /* Nil */);
			branch_List_6 = v53;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v54 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_2);
			VAL v55 = MKI64(0LL /* Nil */);
			branch_List_6 = v55;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_List_6;
}
static VAL mw_mirth_arrow_Lambda_cod (TUP* in_Lambda_1) {
	TUP* v3 = value_tup(in_Lambda_1->cells[4], 7);
	incref(MKTUP(v3, 7));
	decref(MKTUP(in_Lambda_1, 5));
	VAL v4 = v3->cells[5];
	incref(v4);
	decref(MKTUP(v3, 7));
	return v4;
}
static VAL mw_mirth_arrow_Lambda_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Lambda_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_Lambda_2, 5));
	TUP* v5 = value_tup(in_Lambda_2->cells[4], 7);
	incref(MKTUP(v5, 7));
	decref(MKTUP(in_Lambda_2, 5));
	TUP* v6;
	VAL v7 = mw_mirth_arrow_Arrow_freeZ_vars(in_ZPlusMirth_1, v5, &v6);
	VAL v8 = in_Lambda_2->cells[3];
	incref(v8);
	decref(MKTUP(in_Lambda_2, 5));
	VAL v9 = mw_std_list_List_1_difference_sp1(v7, v8);
	*out_ZPlusMirth_3 = v6;
	return v9;
}
static uint64_t mw_mirth_arrow_Block_allocZBang (void) {
	void* v2 = mbuf_mirth_arrow_Block_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_arrow_Block_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_arrow_Block_index (uint64_t in_Block_1) {
	return in_Block_1;
}
static VAL mw_mirth_arrow_Block_ctx (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildectx, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_arrow_Block_token (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildetoken, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_arrow_Block_dom (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildedom, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_arrow_Block_cod (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildecod, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_arrow_Block_home (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildehome, in_Block_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static TUP* mw_mirth_arrow_Block_type (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_arrow_Block_dom(in_ZPlusMirth_1, in_Block_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_arrow_Block_cod(v5, in_Block_2, &v7);
	TUP* v9 = mw_mirth_type_TZ_ZTo(v6, v8);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static TUP* mw_mirth_arrow_Block_arrow (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildearrow, in_Block_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 7);
}
static bool mw_mirth_arrow_Block_ZEqual (uint64_t in_Block_1, uint64_t in_Block_2) {
	uint64_t v4 = mw_mirth_arrow_Block_index(in_Block_1);
	uint64_t v5 = mw_mirth_arrow_Block_index(in_Block_2);
	bool v6 = (v4 == v5);
	return v6;
}
static void mw_mirth_arrow_Block_registerZ_homeZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	VAL v5 = mw_mirth_arrow_Block_home(in_ZPlusMirth_1, in_Block_2, &v4);
	TUP* branch_ZPlusMirth_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Word
			uint64_t v7 = mtp_mirth_arrow_Home_Word(v5);
			TUP* v8;
			INT v9 = mw_mirth_word_Word_incZ_numZ_blocksZBang(v4, v7, &v8);
			void* v10 = field_mut(&mfld_mirth_arrow_Block_ZTildehomeZ_index, in_Block_2);
			mut_set(MKINT(v9), v10);
			branch_ZPlusMirth_6 = v8;
		} break;
		case 0LL: { // Main
			uint64_t v11 = mtp_mirth_arrow_Home_Main(v5);
			branch_ZPlusMirth_6 = v4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
}
static STR* mw_mirth_arrow_Block_cname (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildecname, in_Block_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Block_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		VAL v12 = mw_mirth_arrow_Block_home(in_ZPlusMirth_1, in_Block_2, &v11);
		TUP* branch_ZPlusMirth_13;
		uint64_t branch_Block_14;
		STR* branch_Str_15;
		switch (get_data_tag(v12)) {
			case 1LL: { // Word
				uint64_t v16 = mtp_mirth_arrow_Home_Word(v12);
				TUP* v17;
				TUP* v18 = mw_mirth_word_Word_qnameZ_hard(v11, v16, &v17);
				TUP* v19;
				STR* v20 = mw_mirth_name_QName_mangled(v17, v18, &v19);
				STR* v21;
				STRLIT(v21, "", 0);
				STR* v22;
				STRLIT(v22, "mb_", 3);
				STR* v23;
				mw_std_str_ZPlusStr_pushZ_strZBang(v22, v21, &v23);
				STR* v24;
				mw_std_str_ZPlusStr_pushZ_strZBang(v20, v23, &v24);
				STR* v25;
				STRLIT(v25, "_", 1);
				STR* v26;
				mw_std_str_ZPlusStr_pushZ_strZBang(v25, v24, &v26);
				void* v27 = field_mut(&mfld_mirth_arrow_Block_ZTildehomeZ_index, in_Block_2);
				VAL v28 = mut_get(v27);
				STR* v29 = int_to_str(value_int(v28));
				STR* v30;
				mw_std_str_ZPlusStr_pushZ_strZBang(v29, v26, &v30);
				branch_Str_15 = v30;
				branch_Block_14 = in_Block_2;
				branch_ZPlusMirth_13 = v19;
			} break;
			case 0LL: { // Main
				uint64_t v31 = mtp_mirth_arrow_Home_Main(v12);
				STR* v32;
				STRLIT(v32, "", 0);
				STR* v33;
				STRLIT(v33, "mb_", 3);
				STR* v34;
				mw_std_str_ZPlusStr_pushZ_strZBang(v33, v32, &v34);
				uint64_t v35 = mw_mirth_arrow_Block_index(in_Block_2);
				INT v36 = u64_to_int(v35);
				STR* v37 = int_to_str(v36);
				STR* v38;
				mw_std_str_ZPlusStr_pushZ_strZBang(v37, v34, &v38);
				branch_Str_15 = v38;
				branch_Block_14 = in_Block_2;
				branch_ZPlusMirth_13 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(MKSTR(branch_Str_15));
		mut_set(MKSTR(branch_Str_15), v5);
		branch_Str_9 = branch_Str_15;
		branch_Block_8 = branch_Block_14;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static uint64_t mw_mirth_arrow_Block_newZBang (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_arrow_Block_allocZBang();
	incref(MKTUP(in_Arrow_2, 7));
	VAL v6 = in_Arrow_2->cells[0];
	incref(v6);
	decref(MKTUP(in_Arrow_2, 7));
	void* v7 = field_mut(&mfld_mirth_arrow_Block_ZTildehome, v5);
	mut_set(v6, v7);
	TUP* v8;
	mw_mirth_arrow_Block_registerZ_homeZBang(in_ZPlusMirth_1, v5, &v8);
	incref(MKTUP(in_Arrow_2, 7));
	VAL v9 = in_Arrow_2->cells[3];
	incref(v9);
	decref(MKTUP(in_Arrow_2, 7));
	void* v10 = field_mut(&mfld_mirth_arrow_Block_ZTildectx, v5);
	mut_set(v9, v10);
	incref(MKTUP(in_Arrow_2, 7));
	uint64_t v11 = value_u64(in_Arrow_2->cells[1]);
	decref(MKTUP(in_Arrow_2, 7));
	void* v12 = field_mut(&mfld_mirth_arrow_Block_ZTildetoken, v5);
	mut_set(MKU64(v11), v12);
	incref(MKTUP(in_Arrow_2, 7));
	VAL v13 = in_Arrow_2->cells[4];
	incref(v13);
	decref(MKTUP(in_Arrow_2, 7));
	void* v14 = field_mut(&mfld_mirth_arrow_Block_ZTildedom, v5);
	mut_set(v13, v14);
	incref(MKTUP(in_Arrow_2, 7));
	VAL v15 = in_Arrow_2->cells[5];
	incref(v15);
	decref(MKTUP(in_Arrow_2, 7));
	void* v16 = field_mut(&mfld_mirth_arrow_Block_ZTildecod, v5);
	mut_set(v15, v16);
	VAL v17 = mtw_mirth_mirth_PropLabel_BlockArrow(v5);
	TUP* v18;
	TUP* v19 = mw_mirth_mirth_PropLabel_prop(v8, MKTUP(in_Arrow_2, 7), v17, &v18);
	void* v20 = field_mut(&mfld_mirth_arrow_Block_ZTildearrow, v5);
	mut_set(MKTUP(v19, 2), v20);
	*out_ZPlusMirth_3 = v18;
	return v5;
}
static void mw_mirth_arrow_Block_typecheckZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	TUP* v5 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v4);
	decref(MKTUP(v5, 7));
	*out_ZPlusMirth_3 = v4;
}
static TUP* mw_mirth_arrow_blockZ_unifyZ_typeZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	TUP* v7 = mw_mirth_arrow_Block_type(in_ZPlusMirth_1, in_Block_2, &v6);
	TUP* v8;
	TUP* v9 = mw_mirth_type_ArrowType_unifyZBang(v6, v7, in_ArrowType_3, &v8);
	decref(MKTUP(v9, 2));
	TUP* v10;
	TUP* v11 = mw_mirth_arrow_Block_arrow(v8, in_Block_2, &v10);
	TUP* v12 = mw_mirth_arrow_Arrow_type(v11);
	*out_ZPlusMirth_4 = v10;
	return v12;
}
static VAL mw_mirth_arrow_Block_toZ_runZ_var (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_arrow_Arrow_toZ_runZ_var(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static VAL mw_mirth_arrow_Block_freeZ_vars (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_arrow_Block_ZTildefreeZ_vars, in_Block_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Block_8;
	VAL branch_List_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_List_9 = v10;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v11);
		TUP* v13;
		VAL v14 = mw_mirth_arrow_Arrow_freeZ_vars(v11, v12, &v13);
		incref(v14);
		mut_set(v14, v5);
		branch_List_9 = v14;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = v13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_9;
}
static VAL mw_mirth_match_Match_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Match_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = in_Match_2->cells[6];
	incref(v5);
	decref(MKTUP(in_Match_2, 7));
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7;
	mw_std_list_List_1_buildZBang(v6, &v7);
	bool v8 = true;
	TUP* v9 = in_ZPlusMirth_1;
	VAL v10 = v7;
	VAL v11 = v5;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		TUP* v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		bool v17 = v12;
		TUP* branch_ZPlusMirth_18;
		VAL branch_ZPlusLister_19;
		VAL branch_List_20;
		bool branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				TUP* v24;
				VAL v25 = mw_mirth_match_Case_freeZ_vars(v14, value_tup(v23, 2), &v24);
				VAL v26;
				mw_std_list_ZPlusLister_1_pushZBang(v25, v15, &v26);
				bool v27 = true;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusLister_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				VAL v28 = MKI64(0LL /* Nil */);
				bool v29 = false;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusLister_19 = v15;
				branch_ZPlusMirth_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusLister_19;
		v9 = branch_ZPlusMirth_18;
	}
	decref(v11);
	VAL v30 = mw_std_list_ZPlusLister_1_doneZBang(v10);
	VAL v31 = mw_std_list_List_1_unions_sp1(v30);
	*out_ZPlusMirth_3 = v9;
	return v31;
}
static VAL mw_mirth_match_Case_freeZ_vars (TUP* in_ZPlusMirth_1, TUP* in_Case_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5 = value_tup(in_Case_2->cells[1], 7);
	incref(MKTUP(v5, 7));
	decref(MKTUP(in_Case_2, 2));
	TUP* v6;
	VAL v7 = mw_mirth_arrow_Arrow_freeZ_vars(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_type_Type_NewInCtx (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6) {
	VAL v7 = mw_mirth_type_Type_TYPE();
	TUP* v8;
	uint64_t v9;
	VAL v10 = mw_mirth_var_Var_NewInCtx(in_ZPlusMirth_1, in_Ctx_2, v7, in_Str_3, &v8, &v9);
	VAL v11 = mtw_mirth_type_Type_Var(v9);
	*out_Type_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_type_Type_FreshZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	VAL v4 = mw_mirth_type_Kind_TYPE();
	TUP* v5;
	uint64_t v6 = mw_mirth_type_MetaVar_NewZBang(in_ZPlusMirth_1, v4, &v5);
	VAL v7 = mtw_mirth_type_Type_Meta(v6);
	*out_ZPlusMirth_2 = v5;
	return v7;
}
static VAL mw_mirth_type_Type_TYPE (void) {
	int64_t v2 = 1LL /* TYPE */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_STACK (void) {
	int64_t v2 = 2LL /* STACK */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_RESOURCE (void) {
	int64_t v2 = 3LL /* RESOURCE */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_Bool (void) {
	int64_t v2 = 4LL /* Bool */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_Int (void) {
	int64_t v2 = 5LL /* Int */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_U8 (void) {
	int64_t v2 = 6LL /* U8 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_U16 (void) {
	int64_t v2 = 7LL /* U16 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_U32 (void) {
	int64_t v2 = 8LL /* U32 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_U64 (void) {
	int64_t v2 = 9LL /* U64 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_I8 (void) {
	int64_t v2 = 10LL /* I8 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_I16 (void) {
	int64_t v2 = 11LL /* I16 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_I32 (void) {
	int64_t v2 = 12LL /* I32 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_I64 (void) {
	int64_t v2 = 13LL /* I64 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_F32 (void) {
	int64_t v2 = 14LL /* F32 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_F64 (void) {
	int64_t v2 = 15LL /* F64 */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_Ptr (void) {
	int64_t v2 = 16LL /* Ptr */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_Str (void) {
	int64_t v2 = 17LL /* Str */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_World (void) {
	int64_t v2 = 18LL /* World */;
	VAL v3 = mtw_mirth_type_Type_Prim(v2);
	return v3;
}
static VAL mw_mirth_type_Type_Unit (void) {
	VAL v2 = MKI64(2LL /* Unit */);
	VAL v3 = mtw_mirth_type_Type_Stack(v2);
	return v3;
}
static VAL mw_mirth_type_Type_tyconZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Type_2)) {
		case 0LL: { // Error
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v9 = mtp_mirth_type_Type_Prim(in_Type_2);
			VAL v10 = mtw_mirth_tycon_Tycon_Prim(v9);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(v10);
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Meta
			uint64_t v12 = mtp_mirth_type_Type_Meta(in_Type_2);
			TUP* v13;
			VAL v14 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v12, &v13);
			TUP* branch_ZPlusMirth_15;
			VAL branch_Maybe_16;
			switch (get_data_tag(v14)) {
				case 0LL: { // None
					VAL v17 = MKI64(0LL /* None */);
					branch_Maybe_16 = v17;
					branch_ZPlusMirth_15 = v13;
				} break;
				case 1LL: { // Some
					VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
					TUP* v19;
					VAL v20 = mw_mirth_type_Type_expand(v13, v18, &v19);
					incref(v20);
					VAL v21 = mtw_std_maybe_Maybe_1_Some(v20);
					void* v22 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v12);
					mut_set(v21, v22);
					TUP* v23;
					VAL v24 = mw_mirth_type_Type_tyconZAsk(v19, v20, &v23);
					branch_Maybe_16 = v24;
					branch_ZPlusMirth_15 = v23;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_16;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_15;
		} break;
		case 4LL: { // Hole
			uint64_t v25 = mtp_mirth_type_Type_Hole(in_Type_2);
			VAL v26 = MKI64(0LL /* None */);
			branch_Maybe_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v27 = mtp_mirth_type_Type_Var(in_Type_2);
			VAL v28 = MKI64(0LL /* None */);
			branch_Maybe_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v29 = mtp_mirth_type_Type_Table(in_Type_2);
			VAL v30 = mtw_mirth_tycon_Tycon_Table(v29);
			VAL v31 = mtw_std_maybe_Maybe_1_Some(v30);
			branch_Maybe_6 = v31;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v32 = mtp_mirth_type_Type_Data(in_Type_2);
			VAL v33 = mtw_mirth_tycon_Tycon_Data(v32);
			VAL v34 = mtw_std_maybe_Maybe_1_Some(v33);
			branch_Maybe_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			TUP* v35 = mtp_mirth_type_Type_DataPartial(in_Type_2);
			uint64_t v36 = value_u64(v35->cells[0]);
			decref(MKTUP(v35, 2));
			VAL v37 = mtw_mirth_tycon_Tycon_Data(v36);
			VAL v38 = mtw_std_maybe_Maybe_1_Some(v37);
			branch_Maybe_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // Arrow
			TUP* v39 = mtp_mirth_type_Type_Arrow(in_Type_2);
			decref(MKTUP(v39, 2));
			VAL v40 = MKI64(0LL /* None */);
			branch_Maybe_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			VAL v41 = mtp_mirth_type_Type_Stack(in_Type_2);
			decref(v41);
			VAL v42 = MKI64(0LL /* None */);
			branch_Maybe_6 = v42;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // App
			VAL v43;
			VAL v44 = mtp_mirth_type_Type_App(in_Type_2, &v43);
			decref(v43);
			TUP* v45;
			VAL v46 = mw_mirth_type_Type_tyconZAsk(in_ZPlusMirth_1, v44, &v45);
			branch_Maybe_6 = v46;
			branch_ZPlusMirth_5 = v45;
		} break;
		case 12LL: { // Mut
			VAL v47 = mtp_mirth_type_Type_Mut(in_Type_2);
			TUP* v48;
			VAL v49 = mw_mirth_type_Type_tyconZAsk(in_ZPlusMirth_1, v47, &v48);
			branch_Maybe_6 = v49;
			branch_ZPlusMirth_5 = v48;
		} break;
		case 13LL: { // Value
			VAL v50 = mtp_mirth_type_Type_Value(in_Type_2);
			VAL v51 = mw_mirth_type_Value_tyconZAsk(v50);
			branch_Maybe_6 = v51;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static bool mw_mirth_type_Type_errorZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Error
			bool v9 = true;
			branch_Bool_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(v6);
			bool v10 = false;
			branch_Bool_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static VAL mw_mirth_type_Type_arrowZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 10LL: { // Arrow
			TUP* v9 = mtp_mirth_type_Type_Arrow(v6);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(MKTUP(v9, 2));
			branch_Maybe_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(v6);
			VAL v11 = MKI64(0LL /* None */);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_Type_primZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 2LL: { // Prim
			int64_t v9 = mtp_mirth_type_Type_Prim(v6);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(MKI64(v9));
			branch_Maybe_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(v6);
			VAL v11 = MKI64(0LL /* None */);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static bool mw_mirth_type_Type_unitZ_stackZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			TUP* v8;
			bool v9 = mw_mirth_type_MetaVar_unitZ_stackZAsk(in_ZPlusMirth_1, v7, &v8);
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 9LL: { // Stack
			VAL v10 = mtp_mirth_type_Type_Stack(in_Type_2);
			TUP* v11;
			bool v12 = mw_mirth_type_StackType_unitZAsk(in_ZPlusMirth_1, v10, &v11);
			branch_Bool_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		default: {
			decref(in_Type_2);
			bool v13 = false;
			branch_Bool_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_type_Type_metaZEqual (uint64_t in_MetaVar_1, VAL in_Type_2) {
	bool branch_Bool_4;
	switch (get_data_tag(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v5 = mtp_mirth_type_Type_Meta(in_Type_2);
			bool v6 = mw_mirth_type_MetaVar_ZEqual(in_MetaVar_1, v5);
			branch_Bool_4 = v6;
		} break;
		default: {
			decref(in_Type_2);
			bool v7 = false;
			branch_Bool_4 = v7;
		} break;
	}
	return branch_Bool_4;
}
static bool mw_mirth_type_Type_isZ_physicalZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			TUP* v8;
			VAL v9 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v7, &v8);
			TUP* branch_ZPlusMirth_10;
			bool branch_Bool_11;
			switch (get_data_tag(v9)) {
				case 0LL: { // None
					STR* v12;
					STRLIT(v12, "[bug] unbound meta at Type.is-physical?", 39);
					do_panic(v12);
				} break;
				case 1LL: { // Some
					VAL v15 = mtp_std_maybe_Maybe_1_Some(v9);
					TUP* v16;
					VAL v17 = mw_mirth_type_Type_expand(v8, v15, &v16);
					incref(v17);
					VAL v18 = mtw_std_maybe_Maybe_1_Some(v17);
					void* v19 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v7);
					mut_set(v18, v19);
					TUP* v20;
					bool v21 = mw_mirth_type_Type_isZ_physicalZAsk(v16, v17, &v20);
					branch_Bool_11 = v21;
					branch_ZPlusMirth_10 = v20;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_6 = branch_Bool_11;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_10;
		} break;
		case 2LL: { // Prim
			int64_t v22 = mtp_mirth_type_Type_Prim(in_Type_2);
			bool v23 = mw_mirth_type_PrimType_isZ_physicalZAsk(v22);
			branch_Bool_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			decref(in_Type_2);
			bool v24 = true;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static VAL mw_mirth_type_Type_expand (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Type_6;
	switch (get_data_tag(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			TUP* v8;
			VAL v9 = mw_mirth_type_MetaVar_expand(in_ZPlusMirth_1, v7, &v8);
			branch_Type_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		default: {
			branch_Type_6 = in_Type_2;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Type_6;
}
static VAL mw_mirth_type_Type_unifyZ_failedZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	STR* v6;
	STRLIT(v6, "", 0);
	STR* v7;
	STRLIT(v7, "Failed to unify ", 16);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	TUP* v9;
	STR* v10;
	mw_mirth_type_Type_typeZThen(in_ZPlusMirth_1, v8, in_Type_2, &v9, &v10);
	STR* v11;
	STRLIT(v11, " with ", 6);
	STR* v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
	TUP* v13;
	STR* v14;
	mw_mirth_type_Type_typeZThen(v9, v12, in_Type_3, &v13, &v14);
	TUP* v15;
	mw_mirth_mirth_ZPlusMirth_errorZBang(v13, v14, &v15);
	VAL v16 = MKI64(0LL /* Error */);
	*out_ZPlusMirth_4 = v15;
	return v16;
}
static VAL mw_mirth_type_Type_unifyZ_simpleZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	VAL branch_Type_7;
	switch (get_data_tag(in_Type_3)) {
		case 5LL: { // Var
			uint64_t v8 = mtp_mirth_type_Type_Var(in_Type_3);
			TUP* branch_ZPlusMirth_9;
			VAL branch_Type_10;
			switch (get_data_tag(in_Type_2)) {
				case 5LL: { // Var
					uint64_t v11 = mtp_mirth_type_Type_Var(in_Type_2);
					TUP* v12;
					VAL v13 = mw_mirth_var_Var_unifyZBang(in_ZPlusMirth_1, v8, v11, &v12);
					branch_Type_10 = v13;
					branch_ZPlusMirth_9 = v12;
				} break;
				default: {
					VAL v14 = mtw_mirth_type_Type_Var(v8);
					TUP* v15;
					VAL v16 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v14, in_Type_2, &v15);
					branch_Type_10 = v16;
					branch_ZPlusMirth_9 = v15;
				} break;
			}
			branch_Type_7 = branch_Type_10;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_9;
		} break;
		case 2LL: { // Prim
			int64_t v17 = mtp_mirth_type_Type_Prim(in_Type_3);
			TUP* branch_ZPlusMirth_18;
			VAL branch_Type_19;
			switch (get_data_tag(in_Type_2)) {
				case 2LL: { // Prim
					int64_t v20 = mtp_mirth_type_Type_Prim(in_Type_2);
					TUP* v21;
					VAL v22 = mw_mirth_type_PrimType_unifyZBang(in_ZPlusMirth_1, v17, v20, &v21);
					branch_Type_19 = v22;
					branch_ZPlusMirth_18 = v21;
				} break;
				default: {
					VAL v23 = mtw_mirth_type_Type_Prim(v17);
					TUP* v24;
					VAL v25 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v23, in_Type_2, &v24);
					branch_Type_19 = v25;
					branch_ZPlusMirth_18 = v24;
				} break;
			}
			branch_Type_7 = branch_Type_19;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_18;
		} break;
		case 7LL: { // Data
			uint64_t v26 = mtp_mirth_type_Type_Data(in_Type_3);
			TUP* branch_ZPlusMirth_27;
			VAL branch_Type_28;
			switch (get_data_tag(in_Type_2)) {
				case 7LL: { // Data
					uint64_t v29 = mtp_mirth_type_Type_Data(in_Type_2);
					TUP* v30;
					VAL v31 = mw_mirth_data_Data_unifyZBang(in_ZPlusMirth_1, v26, v29, &v30);
					branch_Type_28 = v31;
					branch_ZPlusMirth_27 = v30;
				} break;
				default: {
					VAL v32 = mtw_mirth_type_Type_Data(v26);
					TUP* v33;
					VAL v34 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v32, in_Type_2, &v33);
					branch_Type_28 = v34;
					branch_ZPlusMirth_27 = v33;
				} break;
			}
			branch_Type_7 = branch_Type_28;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_27;
		} break;
		case 8LL: { // DataPartial
			TUP* v35 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			TUP* branch_ZPlusMirth_36;
			VAL branch_Type_37;
			switch (get_data_tag(in_Type_2)) {
				case 8LL: { // DataPartial
					TUP* v38 = mtp_mirth_type_Type_DataPartial(in_Type_2);
					TUP* v39;
					VAL v40 = mw_mirth_data_DataPartial_unifyZBang(in_ZPlusMirth_1, v35, v38, &v39);
					branch_Type_37 = v40;
					branch_ZPlusMirth_36 = v39;
				} break;
				default: {
					VAL v41 = mtw_mirth_type_Type_DataPartial(v35);
					TUP* v42;
					VAL v43 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v41, in_Type_2, &v42);
					branch_Type_37 = v43;
					branch_ZPlusMirth_36 = v42;
				} break;
			}
			branch_Type_7 = branch_Type_37;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_36;
		} break;
		case 6LL: { // Table
			uint64_t v44 = mtp_mirth_type_Type_Table(in_Type_3);
			TUP* branch_ZPlusMirth_45;
			VAL branch_Type_46;
			switch (get_data_tag(in_Type_2)) {
				case 6LL: { // Table
					uint64_t v47 = mtp_mirth_type_Type_Table(in_Type_2);
					TUP* v48;
					VAL v49 = mw_mirth_table_Table_unifyZBang(in_ZPlusMirth_1, v44, v47, &v48);
					branch_Type_46 = v49;
					branch_ZPlusMirth_45 = v48;
				} break;
				default: {
					VAL v50 = mtw_mirth_type_Type_Table(v44);
					TUP* v51;
					VAL v52 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v50, in_Type_2, &v51);
					branch_Type_46 = v52;
					branch_ZPlusMirth_45 = v51;
				} break;
			}
			branch_Type_7 = branch_Type_46;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_45;
		} break;
		case 9LL: { // Stack
			VAL v53 = mtp_mirth_type_Type_Stack(in_Type_3);
			TUP* branch_ZPlusMirth_54;
			VAL branch_Type_55;
			switch (get_data_tag(in_Type_2)) {
				case 9LL: { // Stack
					VAL v56 = mtp_mirth_type_Type_Stack(in_Type_2);
					TUP* v57;
					VAL v58 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, v53, v56, &v57);
					VAL v59 = mw_mirth_type_StackType_ZToType(v58);
					branch_Type_55 = v59;
					branch_ZPlusMirth_54 = v57;
				} break;
				default: {
					VAL v60 = mtw_mirth_type_Type_Stack(v53);
					TUP* v61;
					VAL v62 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v60, in_Type_2, &v61);
					branch_Type_55 = v62;
					branch_ZPlusMirth_54 = v61;
				} break;
			}
			branch_Type_7 = branch_Type_55;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_54;
		} break;
		case 10LL: { // Arrow
			TUP* v63 = mtp_mirth_type_Type_Arrow(in_Type_3);
			TUP* branch_ZPlusMirth_64;
			VAL branch_Type_65;
			switch (get_data_tag(in_Type_2)) {
				case 10LL: { // Arrow
					TUP* v66 = mtp_mirth_type_Type_Arrow(in_Type_2);
					TUP* v67;
					TUP* v68 = mw_mirth_type_ArrowType_unifyZBang(in_ZPlusMirth_1, v63, v66, &v67);
					VAL v69 = mtw_mirth_type_Type_Arrow(v68);
					branch_Type_65 = v69;
					branch_ZPlusMirth_64 = v67;
				} break;
				default: {
					VAL v70 = mtw_mirth_type_Type_Arrow(v63);
					TUP* v71;
					VAL v72 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v70, in_Type_2, &v71);
					branch_Type_65 = v72;
					branch_ZPlusMirth_64 = v71;
				} break;
			}
			branch_Type_7 = branch_Type_65;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_64;
		} break;
		case 11LL: { // App
			VAL v73;
			VAL v74 = mtp_mirth_type_Type_App(in_Type_3, &v73);
			TUP* branch_ZPlusMirth_75;
			VAL branch_Type_76;
			switch (get_data_tag(in_Type_2)) {
				case 11LL: { // App
					VAL v77;
					VAL v78 = mtp_mirth_type_Type_App(in_Type_2, &v77);
					TUP* v79;
					VAL v80;
					VAL v81 = mw_mirth_type_Type_unify2ZBang(in_ZPlusMirth_1, v74, v73, v78, v77, &v79, &v80);
					VAL v82 = mtw_mirth_type_Type_App(v81, v80);
					branch_Type_76 = v82;
					branch_ZPlusMirth_75 = v79;
				} break;
				default: {
					VAL v83 = mtw_mirth_type_Type_App(v74, v73);
					TUP* v84;
					VAL v85 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v83, in_Type_2, &v84);
					branch_Type_76 = v85;
					branch_ZPlusMirth_75 = v84;
				} break;
			}
			branch_Type_7 = branch_Type_76;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_75;
		} break;
		case 12LL: { // Mut
			VAL v86 = mtp_mirth_type_Type_Mut(in_Type_3);
			TUP* branch_ZPlusMirth_87;
			VAL branch_Type_88;
			switch (get_data_tag(in_Type_2)) {
				case 12LL: { // Mut
					VAL v89 = mtp_mirth_type_Type_Mut(in_Type_2);
					TUP* v90;
					VAL v91 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, v86, v89, &v90);
					VAL v92 = mtw_mirth_type_Type_Mut(v91);
					branch_Type_88 = v92;
					branch_ZPlusMirth_87 = v90;
				} break;
				default: {
					VAL v93 = mtw_mirth_type_Type_Mut(v86);
					TUP* v94;
					VAL v95 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v93, in_Type_2, &v94);
					branch_Type_88 = v95;
					branch_ZPlusMirth_87 = v94;
				} break;
			}
			branch_Type_7 = branch_Type_88;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_87;
		} break;
		default: {
			TUP* v96;
			VAL v97 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_Type_2, in_Type_3, &v96);
			branch_Type_7 = v97;
			branch_ZPlusMirth_6 = v96;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Type_7;
}
static VAL mw_mirth_type_Type_unifyZ_auxZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	VAL branch_Type_7;
	switch (get_data_tag(in_Type_3)) {
		case 0LL: { // Error
			TUP* v8;
			VAL v9 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_Type_2, &v8);
			branch_Type_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // Ignore
			branch_Type_7 = in_Type_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v10 = mtp_mirth_type_Type_Hole(in_Type_3);
			TUP* v11;
			VAL v12 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_Type_2, v10, &v11);
			branch_Type_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 3LL: { // Meta
			uint64_t v13 = mtp_mirth_type_Type_Meta(in_Type_3);
			TUP* branch_ZPlusMirth_14;
			VAL branch_Type_15;
			switch (get_data_tag(in_Type_2)) {
				case 0LL: { // Error
					TUP* v16;
					VAL v17 = mw_mirth_type_MetaVar_unifyZ_errorZBang(in_ZPlusMirth_1, v13, &v16);
					branch_Type_15 = v17;
					branch_ZPlusMirth_14 = v16;
				} break;
				case 1LL: { // Ignore
					VAL v18 = mtw_mirth_type_Type_Meta(v13);
					branch_Type_15 = v18;
					branch_ZPlusMirth_14 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // Hole
					uint64_t v19 = mtp_mirth_type_Type_Hole(in_Type_2);
					VAL v20 = mtw_mirth_type_Type_Meta(v13);
					TUP* v21;
					VAL v22 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, v20, v19, &v21);
					branch_Type_15 = v22;
					branch_ZPlusMirth_14 = v21;
				} break;
				case 3LL: { // Meta
					uint64_t v23 = mtp_mirth_type_Type_Meta(in_Type_2);
					VAL v24 = mtw_mirth_type_Type_Meta(v13);
					TUP* v25;
					VAL v26 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, v24, v23, &v25);
					branch_Type_15 = v26;
					branch_ZPlusMirth_14 = v25;
				} break;
				case 13LL: { // Value
					VAL v27 = mtp_mirth_type_Type_Value(in_Type_2);
					VAL v28 = mtw_mirth_type_Type_Meta(v13);
					TUP* v29;
					VAL v30 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, v28, v27, &v29);
					branch_Type_15 = v30;
					branch_ZPlusMirth_14 = v29;
				} break;
				default: {
					TUP* v31;
					VAL v32 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_Type_2, v13, &v31);
					branch_Type_15 = v32;
					branch_ZPlusMirth_14 = v31;
				} break;
			}
			branch_Type_7 = branch_Type_15;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_14;
		} break;
		case 13LL: { // Value
			VAL v33 = mtp_mirth_type_Type_Value(in_Type_3);
			TUP* branch_ZPlusMirth_34;
			VAL branch_Type_35;
			switch (get_data_tag(in_Type_2)) {
				case 0LL: { // Error
					TUP* v36;
					VAL v37 = mw_mirth_type_Value_unifyZ_errorZBang(in_ZPlusMirth_1, v33, &v36);
					branch_Type_35 = v37;
					branch_ZPlusMirth_34 = v36;
				} break;
				case 1LL: { // Ignore
					VAL v38 = mtw_mirth_type_Type_Value(v33);
					branch_Type_35 = v38;
					branch_ZPlusMirth_34 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // Hole
					uint64_t v39 = mtp_mirth_type_Type_Hole(in_Type_2);
					VAL v40 = mtw_mirth_type_Type_Value(v33);
					TUP* v41;
					VAL v42 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, v40, v39, &v41);
					branch_Type_35 = v42;
					branch_ZPlusMirth_34 = v41;
				} break;
				case 3LL: { // Meta
					uint64_t v43 = mtp_mirth_type_Type_Meta(in_Type_2);
					VAL v44 = mtw_mirth_type_Type_Value(v33);
					TUP* v45;
					VAL v46 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, v44, v43, &v45);
					branch_Type_35 = v46;
					branch_ZPlusMirth_34 = v45;
				} break;
				case 13LL: { // Value
					VAL v47 = mtp_mirth_type_Type_Value(in_Type_2);
					TUP* v48;
					VAL v49 = mw_mirth_type_Value_unifyZBang(in_ZPlusMirth_1, v33, v47, &v48);
					branch_Type_35 = v49;
					branch_ZPlusMirth_34 = v48;
				} break;
				default: {
					TUP* v50;
					VAL v51 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, in_Type_2, v33, &v50);
					branch_Type_35 = v51;
					branch_ZPlusMirth_34 = v50;
				} break;
			}
			branch_Type_7 = branch_Type_35;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_34;
		} break;
		default: {
			TUP* branch_ZPlusMirth_52;
			VAL branch_Type_53;
			switch (get_data_tag(in_Type_2)) {
				case 0LL: { // Error
					TUP* v54;
					VAL v55 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_Type_3, &v54);
					branch_Type_53 = v55;
					branch_ZPlusMirth_52 = v54;
				} break;
				case 1LL: { // Ignore
					branch_Type_53 = in_Type_3;
					branch_ZPlusMirth_52 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // Hole
					uint64_t v56 = mtp_mirth_type_Type_Hole(in_Type_2);
					TUP* v57;
					VAL v58 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_Type_3, v56, &v57);
					branch_Type_53 = v58;
					branch_ZPlusMirth_52 = v57;
				} break;
				case 3LL: { // Meta
					uint64_t v59 = mtp_mirth_type_Type_Meta(in_Type_2);
					TUP* v60;
					VAL v61 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_Type_3, v59, &v60);
					branch_Type_53 = v61;
					branch_ZPlusMirth_52 = v60;
				} break;
				case 13LL: { // Value
					VAL v62 = mtp_mirth_type_Type_Value(in_Type_2);
					TUP* v63;
					VAL v64 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, in_Type_3, v62, &v63);
					branch_Type_53 = v64;
					branch_ZPlusMirth_52 = v63;
				} break;
				default: {
					TUP* v65;
					VAL v66 = mw_mirth_type_Type_unifyZ_simpleZBang(in_ZPlusMirth_1, in_Type_3, in_Type_2, &v65);
					branch_Type_53 = v66;
					branch_ZPlusMirth_52 = v65;
				} break;
			}
			branch_Type_7 = branch_Type_53;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_52;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Type_7;
}
static VAL mw_mirth_type_Type_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Type_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Error
			VAL v9 = MKI64(0LL /* Error */);
			branch_Type_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			VAL v10 = MKI64(0LL /* Error */);
			branch_Type_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 4LL: { // Hole
			uint64_t v11 = mtp_mirth_type_Type_Hole(v6);
			VAL v12 = MKI64(0LL /* Error */);
			TUP* v13;
			VAL v14 = mw_mirth_type_typeZ_holeZ_unifyZBang(v5, v12, v11, &v13);
			branch_Type_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 3LL: { // Meta
			uint64_t v15 = mtp_mirth_type_Type_Meta(v6);
			TUP* v16;
			VAL v17 = mw_mirth_type_MetaVar_unifyZ_errorZBang(v5, v15, &v16);
			branch_Type_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 13LL: { // Value
			VAL v18 = mtp_mirth_type_Type_Value(v6);
			TUP* v19;
			VAL v20 = mw_mirth_type_Value_unifyZ_errorZBang(v5, v18, &v19);
			branch_Type_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 5LL: { // Var
			uint64_t v21 = mtp_mirth_type_Type_Var(v6);
			VAL v22 = MKI64(0LL /* Error */);
			branch_Type_8 = v22;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Prim
			int64_t v23 = mtp_mirth_type_Type_Prim(v6);
			VAL v24 = MKI64(0LL /* Error */);
			branch_Type_8 = v24;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 7LL: { // Data
			uint64_t v25 = mtp_mirth_type_Type_Data(v6);
			VAL v26 = MKI64(0LL /* Error */);
			branch_Type_8 = v26;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 8LL: { // DataPartial
			TUP* v27 = mtp_mirth_type_Type_DataPartial(v6);
			decref(MKTUP(v27, 2));
			VAL v28 = MKI64(0LL /* Error */);
			branch_Type_8 = v28;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 6LL: { // Table
			uint64_t v29 = mtp_mirth_type_Type_Table(v6);
			VAL v30 = MKI64(0LL /* Error */);
			branch_Type_8 = v30;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 9LL: { // Stack
			VAL v31 = mtp_mirth_type_Type_Stack(v6);
			TUP* v32;
			VAL v33 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v31, &v32);
			decref(v33);
			VAL v34 = MKI64(0LL /* Error */);
			branch_Type_8 = v34;
			branch_ZPlusMirth_7 = v32;
		} break;
		case 10LL: { // Arrow
			TUP* v35 = mtp_mirth_type_Type_Arrow(v6);
			TUP* v36;
			TUP* v37 = mw_mirth_type_ArrowType_unifyZ_errorZBang(v5, v35, &v36);
			decref(MKTUP(v37, 2));
			VAL v38 = MKI64(0LL /* Error */);
			branch_Type_8 = v38;
			branch_ZPlusMirth_7 = v36;
		} break;
		case 11LL: { // App
			VAL v39;
			VAL v40 = mtp_mirth_type_Type_App(v6, &v39);
			TUP* v41;
			VAL v42 = mw_mirth_type_Type_unifyZ_errorZBang(v5, v40, &v41);
			decref(v42);
			TUP* v43;
			VAL v44 = mw_mirth_type_Type_unifyZ_errorZBang(v41, v39, &v43);
			decref(v44);
			VAL v45 = MKI64(0LL /* Error */);
			branch_Type_8 = v45;
			branch_ZPlusMirth_7 = v43;
		} break;
		case 12LL: { // Mut
			VAL v46 = mtp_mirth_type_Type_Mut(v6);
			TUP* v47;
			VAL v48 = mw_mirth_type_Type_unifyZ_errorZBang(v5, v46, &v47);
			decref(v48);
			VAL v49 = MKI64(0LL /* Error */);
			branch_Type_8 = v49;
			branch_ZPlusMirth_7 = v47;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static VAL mw_mirth_type_Type_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_type_Type_expand(v6, in_Type_3, &v8);
	TUP* v10;
	VAL v11 = mw_mirth_type_Type_unifyZ_auxZBang(v8, v7, v9, &v10);
	*out_ZPlusMirth_4 = v10;
	return v11;
}
static VAL mw_mirth_type_Type_unifyZ_blockZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_3, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_Type_9;
	switch (get_data_tag(v7)) {
		case 0LL: { // Error
			VAL v10 = MKI64(0LL /* Error */);
			VAL v11 = MKI64(0LL /* Error */);
			TUP* v12 = mw_mirth_type_TZ_ZTo(v10, v11);
			TUP* v13;
			TUP* v14 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(v6, in_Block_2, v12, &v13);
			decref(MKTUP(v14, 2));
			VAL v15 = MKI64(0LL /* Error */);
			branch_Type_9 = v15;
			branch_ZPlusMirth_8 = v13;
		} break;
		case 3LL: { // Meta
			uint64_t v16 = mtp_mirth_type_Type_Meta(v7);
			TUP* v17;
			TUP* v18 = mw_mirth_arrow_Block_type(v6, in_Block_2, &v17);
			VAL v19 = mtw_mirth_type_Type_Arrow(v18);
			TUP* v20;
			VAL v21 = mw_mirth_type_MetaVar_unifyZBang(v17, v19, v16, &v20);
			decref(v21);
			TUP* v22;
			TUP* v23 = mw_mirth_arrow_Block_arrow(v20, in_Block_2, &v22);
			TUP* v24 = mw_mirth_arrow_Arrow_type(v23);
			VAL v25 = mtw_mirth_type_Type_Arrow(v24);
			branch_Type_9 = v25;
			branch_ZPlusMirth_8 = v22;
		} break;
		case 10LL: { // Arrow
			TUP* v26 = mtp_mirth_type_Type_Arrow(v7);
			TUP* v27;
			TUP* v28 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(v6, in_Block_2, v26, &v27);
			VAL v29 = mtw_mirth_type_Type_Arrow(v28);
			branch_Type_9 = v29;
			branch_ZPlusMirth_8 = v27;
		} break;
		default: {
			TUP* v30;
			TUP* v31 = mw_mirth_arrow_Block_type(v6, in_Block_2, &v30);
			VAL v32 = mtw_mirth_type_Type_Arrow(v31);
			TUP* v33;
			VAL v34 = mw_mirth_type_Type_unifyZBang(v30, v32, v7, &v33);
			branch_Type_9 = v34;
			branch_ZPlusMirth_8 = v33;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Type_9;
}
static VAL mw_mirth_type_Type_unify2ZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4, VAL in_Type_5, TUP* *out_ZPlusMirth_6, VAL *out_Type_8) {
	TUP* v9;
	VAL v10 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, in_Type_4, &v9);
	TUP* v11;
	VAL v12 = mw_mirth_type_Type_unifyZBang(v9, in_Type_3, in_Type_5, &v11);
	*out_Type_8 = v12;
	*out_ZPlusMirth_6 = v11;
	return v10;
}
static bool mw_mirth_type_Type_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(in_Type_3)) {
		case 3LL: { // Meta
			uint64_t v8 = mtp_mirth_type_Type_Meta(in_Type_3);
			TUP* v9;
			bool v10 = mw_mirth_type_MetaVar_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v8, &v9);
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // Error
			bool v11 = false;
			branch_Bool_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v12 = false;
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v13 = mtp_mirth_type_Type_Prim(in_Type_3);
			bool v14 = false;
			branch_Bool_7 = v14;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v15 = mtp_mirth_type_Type_Var(in_Type_3);
			bool v16 = false;
			branch_Bool_7 = v16;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v17 = mtp_mirth_type_Type_Hole(in_Type_3);
			bool v18 = false;
			branch_Bool_7 = v18;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			VAL v19 = mtp_mirth_type_Type_Stack(in_Type_3);
			TUP* v20;
			bool v21 = mw_mirth_type_StackType_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v19, &v20);
			branch_Bool_7 = v21;
			branch_ZPlusMirth_6 = v20;
		} break;
		case 10LL: { // Arrow
			TUP* v22 = mtp_mirth_type_Type_Arrow(in_Type_3);
			TUP* v23;
			bool v24 = mw_mirth_type_ArrowType_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v22, &v23);
			branch_Bool_7 = v24;
			branch_ZPlusMirth_6 = v23;
		} break;
		case 11LL: { // App
			VAL v25;
			VAL v26 = mtp_mirth_type_Type_App(in_Type_3, &v25);
			TUP* v27;
			bool v28 = mw_mirth_type_Type_hasZ_meta2ZAsk(in_ZPlusMirth_1, in_MetaVar_2, v26, v25, &v27);
			branch_Bool_7 = v28;
			branch_ZPlusMirth_6 = v27;
		} break;
		case 7LL: { // Data
			uint64_t v29 = mtp_mirth_type_Type_Data(in_Type_3);
			bool v30 = false;
			branch_Bool_7 = v30;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			TUP* v31 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			decref(MKTUP(v31, 2));
			bool v32 = false;
			branch_Bool_7 = v32;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v33 = mtp_mirth_type_Type_Table(in_Type_3);
			bool v34 = false;
			branch_Bool_7 = v34;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // Value
			VAL v35 = mtp_mirth_type_Type_Value(in_Type_3);
			TUP* v36;
			bool v37 = mw_mirth_type_Value_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v35, &v36);
			branch_Bool_7 = v37;
			branch_ZPlusMirth_6 = v36;
		} break;
		case 12LL: { // Mut
			VAL v38 = mtp_mirth_type_Type_Mut(in_Type_3);
			TUP* v39;
			bool v40 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v38, &v39);
			branch_Bool_7 = v40;
			branch_ZPlusMirth_6 = v39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_type_Type_hasZ_meta2ZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_Type_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7;
	bool v8 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, in_Type_4, &v7);
	TUP* branch_ZPlusMirth_9;
	bool branch_Bool_10;
	if (v8) {
		decref(in_Type_3);
		bool v11 = true;
		branch_Bool_10 = v11;
		branch_ZPlusMirth_9 = v7;
	} else {
		TUP* v12;
		bool v13 = mw_mirth_type_Type_hasZ_metaZAsk(v7, in_MetaVar_2, in_Type_3, &v12);
		branch_Bool_10 = v13;
		branch_ZPlusMirth_9 = v12;
	}
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static bool mw_mirth_type_Type_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(in_Type_3)) {
		case 0LL: { // Error
			bool v8 = true;
			branch_Bool_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v9 = true;
			branch_Bool_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v10 = mtp_mirth_type_Type_Var(in_Type_3);
			uint64_t v11 = mw_mirth_var_Var_index(in_Var_2);
			uint64_t v12 = mw_mirth_var_Var_index(v10);
			bool v13 = (v11 == v12);
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Meta
			uint64_t v14 = mtp_mirth_type_Type_Meta(in_Type_3);
			TUP* v15;
			bool v16 = mw_mirth_type_MetaVar_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v14, &v15);
			branch_Bool_7 = v16;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 2LL: { // Prim
			int64_t v17 = mtp_mirth_type_Type_Prim(in_Type_3);
			bool v18 = false;
			branch_Bool_7 = v18;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v19 = mtp_mirth_type_Type_Hole(in_Type_3);
			bool v20 = false;
			branch_Bool_7 = v20;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			VAL v21 = mtp_mirth_type_Type_Stack(in_Type_3);
			TUP* v22;
			bool v23 = mw_mirth_type_StackType_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v21, &v22);
			branch_Bool_7 = v23;
			branch_ZPlusMirth_6 = v22;
		} break;
		case 10LL: { // Arrow
			TUP* v24 = mtp_mirth_type_Type_Arrow(in_Type_3);
			TUP* v25;
			bool v26 = mw_mirth_type_ArrowType_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v24, &v25);
			branch_Bool_7 = v26;
			branch_ZPlusMirth_6 = v25;
		} break;
		case 11LL: { // App
			VAL v27;
			VAL v28 = mtp_mirth_type_Type_App(in_Type_3, &v27);
			TUP* v29;
			bool v30 = mw_mirth_type_Type_hasZ_var2ZAsk(in_ZPlusMirth_1, in_Var_2, v28, v27, &v29);
			branch_Bool_7 = v30;
			branch_ZPlusMirth_6 = v29;
		} break;
		case 7LL: { // Data
			uint64_t v31 = mtp_mirth_type_Type_Data(in_Type_3);
			bool v32 = false;
			branch_Bool_7 = v32;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			TUP* v33 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			decref(MKTUP(v33, 2));
			bool v34 = false;
			branch_Bool_7 = v34;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v35 = mtp_mirth_type_Type_Table(in_Type_3);
			bool v36 = false;
			branch_Bool_7 = v36;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // Value
			VAL v37 = mtp_mirth_type_Type_Value(in_Type_3);
			TUP* v38;
			bool v39 = mw_mirth_type_Value_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v37, &v38);
			branch_Bool_7 = v39;
			branch_ZPlusMirth_6 = v38;
		} break;
		case 12LL: { // Mut
			VAL v40 = mtp_mirth_type_Type_Mut(in_Type_3);
			TUP* v41;
			bool v42 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v40, &v41);
			branch_Bool_7 = v42;
			branch_ZPlusMirth_6 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_type_Type_hasZ_var2ZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_Type_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7;
	bool v8 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, in_Type_4, &v7);
	TUP* branch_ZPlusMirth_9;
	bool branch_Bool_10;
	if (v8) {
		decref(in_Type_3);
		bool v11 = true;
		branch_Bool_10 = v11;
		branch_ZPlusMirth_9 = v7;
	} else {
		TUP* v12;
		bool v13 = mw_mirth_type_Type_hasZ_varZAsk(v7, in_Var_2, in_Type_3, &v12);
		branch_Bool_10 = v13;
		branch_ZPlusMirth_9 = v12;
	}
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static void mw_mirth_type_Type_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (get_data_tag(in_Type_3)) {
		case 0LL: { // Error
			STR* v8;
			STRLIT(v8, "<ERROR>", 7);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			STR* v10;
			STRLIT(v10, "_", 1);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(v10, in_ZPlusStr_2, &v11);
			branch_ZPlusStr_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v12 = mtp_mirth_type_Type_Prim(in_Type_3);
			TUP* v13;
			STR* v14;
			mw_mirth_type_PrimType_typeZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v12, &v13, &v14);
			branch_ZPlusStr_7 = v14;
			branch_ZPlusMirth_6 = v13;
		} break;
		case 5LL: { // Var
			uint64_t v15 = mtp_mirth_type_Type_Var(in_Type_3);
			TUP* v16;
			STR* v17;
			mw_mirth_var_Var_typeZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v15, &v16, &v17);
			branch_ZPlusStr_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 3LL: { // Meta
			uint64_t v18 = mtp_mirth_type_Type_Meta(in_Type_3);
			TUP* v19;
			STR* v20;
			mw_mirth_type_MetaVar_typeZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v18, &v19, &v20);
			branch_ZPlusStr_7 = v20;
			branch_ZPlusMirth_6 = v19;
		} break;
		case 9LL: { // Stack
			VAL v21 = mtp_mirth_type_Type_Stack(in_Type_3);
			STR* v22;
			STRLIT(v22, "[", 1);
			STR* v23;
			mw_std_str_ZPlusStr_pushZ_strZBang(v22, in_ZPlusStr_2, &v23);
			TUP* v24;
			STR* v25;
			mw_mirth_type_StackType_stackZThen(in_ZPlusMirth_1, v23, v21, &v24, &v25);
			STR* v26;
			STRLIT(v26, "]", 1);
			STR* v27;
			mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
			branch_ZPlusStr_7 = v27;
			branch_ZPlusMirth_6 = v24;
		} break;
		case 10LL: { // Arrow
			TUP* v28 = mtp_mirth_type_Type_Arrow(in_Type_3);
			STR* v29;
			STRLIT(v29, "[", 1);
			STR* v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, in_ZPlusStr_2, &v30);
			TUP* v31;
			STR* v32;
			mw_mirth_type_ArrowType_sigZThen(in_ZPlusMirth_1, v30, v28, &v31, &v32);
			STR* v33;
			STRLIT(v33, "]", 1);
			STR* v34;
			mw_std_str_ZPlusStr_pushZ_strZBang(v33, v32, &v34);
			branch_ZPlusStr_7 = v34;
			branch_ZPlusMirth_6 = v31;
		} break;
		case 7LL: { // Data
			uint64_t v35 = mtp_mirth_type_Type_Data(in_Type_3);
			TUP* v36;
			STR* v37;
			mw_mirth_data_Data_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v35, &v36, &v37);
			branch_ZPlusStr_7 = v37;
			branch_ZPlusMirth_6 = v36;
		} break;
		case 8LL: { // DataPartial
			TUP* v38 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			incref(MKTUP(v38, 2));
			uint64_t v39 = value_u64(v38->cells[0]);
			decref(MKTUP(v38, 2));
			TUP* v40;
			STR* v41;
			mw_mirth_data_Data_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v39, &v40, &v41);
			STR* v42;
			STRLIT(v42, "/", 1);
			STR* v43;
			mw_std_str_ZPlusStr_pushZ_strZBang(v42, v41, &v43);
			uint64_t v44 = value_u64(v38->cells[1]);
			decref(MKTUP(v38, 2));
			TUP* v45;
			STR* v46;
			mw_mirth_label_Label_nameZThen(v40, v43, v44, &v45, &v46);
			branch_ZPlusStr_7 = v46;
			branch_ZPlusMirth_6 = v45;
		} break;
		case 6LL: { // Table
			uint64_t v47 = mtp_mirth_type_Type_Table(in_Type_3);
			TUP* v48;
			uint64_t v49 = mw_mirth_table_Table_name(in_ZPlusMirth_1, v47, &v48);
			TUP* v50;
			STR* v51;
			mw_mirth_name_Name_nameZThen(v48, in_ZPlusStr_2, v49, &v50, &v51);
			branch_ZPlusStr_7 = v51;
			branch_ZPlusMirth_6 = v50;
		} break;
		case 4LL: { // Hole
			uint64_t v52 = mtp_mirth_type_Type_Hole(in_Type_3);
			TUP* v53;
			STR* v54;
			mw_mirth_name_Name_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v52, &v53, &v54);
			branch_ZPlusStr_7 = v54;
			branch_ZPlusMirth_6 = v53;
		} break;
		case 11LL: { // App
			VAL v55;
			VAL v56 = mtp_mirth_type_Type_App(in_Type_3, &v55);
			TUP* v57;
			STR* v58;
			mw_mirth_type_Type_appZ_typeZThenZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v56, v55, &v57, &v58);
			branch_ZPlusStr_7 = v58;
			branch_ZPlusMirth_6 = v57;
		} break;
		case 13LL: { // Value
			VAL v59 = mtp_mirth_type_Type_Value(in_Type_3);
			TUP* v60;
			VAL v61 = mw_mirth_type_Value_type(in_ZPlusMirth_1, v59, &v60);
			TUP* v62;
			STR* v63;
			mw_mirth_type_Type_typeZThen(v60, in_ZPlusStr_2, v61, &v62, &v63);
			branch_ZPlusStr_7 = v63;
			branch_ZPlusMirth_6 = v62;
		} break;
		case 12LL: { // Mut
			VAL v64 = mtp_mirth_type_Type_Mut(in_Type_3);
			STR* v65;
			STRLIT(v65, "Mut(", 4);
			STR* v66;
			mw_std_str_ZPlusStr_pushZ_strZBang(v65, in_ZPlusStr_2, &v66);
			TUP* v67;
			STR* v68;
			mw_mirth_type_Type_typeZThen(in_ZPlusMirth_1, v66, v64, &v67, &v68);
			STR* v69;
			STRLIT(v69, ")", 1);
			STR* v70;
			mw_std_str_ZPlusStr_pushZ_strZBang(v69, v68, &v70);
			branch_ZPlusStr_7 = v70;
			branch_ZPlusMirth_6 = v67;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static VAL mw_mirth_type_Type_appZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 11LL: { // App
			VAL v9;
			VAL v10 = mtp_mirth_type_Type_App(v6, &v9);
			TUP* v11 = tup_new(2);
			v11->size = 2;
			v11->cells[1] = v9;
			v11->cells[0] = v10;
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(v6);
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_Type_splitZ_args (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	bool v7 = true;
	VAL v8 = v6;
	TUP* v9 = in_ZPlusMirth_1;
	VAL v10 = in_Type_2;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		VAL v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		incref(v15);
		TUP* v17;
		VAL v18 = mw_mirth_type_Type_appZAsk(v14, v15, &v17);
		VAL branch_z_x2_19;
		VAL branch_List_20;
		bool branch_Bool_21;
		switch (get_data_tag(v18)) {
			case 1LL: { // Some
				VAL v22 = mtp_std_maybe_Maybe_1_Some(v18);
				decref(v15);
				VAL v23 = value_tup(v22, 2)->cells[0];
				VAL v24 = value_tup(v22, 2)->cells[1];
				tup_decref_outer(value_tup(v22, 2),2);
				VAL v25 = mw_std_list_List_1_cons(v24, v13);
				bool v26 = true;
				branch_Bool_21 = v26;
				branch_List_20 = v25;
				branch_z_x2_19 = v23;
			} break;
			case 0LL: { // None
				bool v27 = false;
				branch_Bool_21 = v27;
				branch_List_20 = v13;
				branch_z_x2_19 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_21;
		v11 = branch_Bool_21;
		v10 = branch_z_x2_19;
		v9 = v17;
		v8 = branch_List_20;
	}
	*out_List_5 = v8;
	*out_ZPlusMirth_3 = v9;
	return v10;
}
static void mw_mirth_type_Type_appZ_typeZThenZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Type_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5, STR* *out_ZPlusStr_6) {
	TUP* v7;
	VAL v8;
	VAL v9 = mw_mirth_type_Type_splitZ_args(in_ZPlusMirth_1, in_Type_3, &v7, &v8);
	TUP* v10;
	STR* v11;
	mw_mirth_type_Type_typeZThen(v7, in_ZPlusStr_2, v9, &v10, &v11);
	STR* v12;
	STRLIT(v12, "(", 1);
	STR* v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
	bool v14 = true;
	TUP* v15 = v10;
	STR* v16 = v13;
	VAL v17 = v8;
	bool v18 = v14;
	bool v19 = v14;
	while (v19) {
		TUP* v20 = v15;
		STR* v21 = v16;
		VAL v22 = v17;
		bool v23 = v18;
		TUP* branch_ZPlusMirth_24;
		STR* branch_ZPlusStr_25;
		VAL branch_List_26;
		bool branch_Bool_27;
		switch (get_data_tag(v22)) {
			case 1LL: { // Cons
				VAL v28;
				VAL v29 = mtp_std_list_List_1_Cons(v22, &v28);
				TUP* v30;
				STR* v31;
				mw_mirth_type_Type_typeZThen(v20, v21, v29, &v30, &v31);
				STR* v32;
				STRLIT(v32, ", ", 2);
				STR* v33;
				mw_std_str_ZPlusStr_pushZ_strZBang(v32, v31, &v33);
				bool v34 = true;
				branch_Bool_27 = v34;
				branch_List_26 = v28;
				branch_ZPlusStr_25 = v33;
				branch_ZPlusMirth_24 = v30;
			} break;
			case 0LL: { // Nil
				VAL v35 = MKI64(0LL /* Nil */);
				bool v36 = false;
				branch_Bool_27 = v36;
				branch_List_26 = v35;
				branch_ZPlusStr_25 = v21;
				branch_ZPlusMirth_24 = v20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_27;
		v18 = branch_Bool_27;
		v17 = branch_List_26;
		v16 = branch_ZPlusStr_25;
		v15 = branch_ZPlusMirth_24;
	}
	decref(v17);
	TUP* v37;
	STR* v38;
	mw_mirth_type_Type_typeZThen(v15, v16, in_Type_4, &v37, &v38);
	STR* v39;
	STRLIT(v39, ")", 1);
	STR* v40;
	mw_std_str_ZPlusStr_pushZ_strZBang(v39, v38, &v40);
	*out_ZPlusStr_6 = v40;
	*out_ZPlusMirth_5 = v37;
}
static VAL mw_mirth_type_Type_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6) {
	TUP* branch_ZPlusMirth_7;
	VAL branch_Subst_8;
	VAL branch_Type_9;
	switch (get_data_tag(in_Type_3)) {
		case 0LL: { // Error
			VAL v10 = MKI64(0LL /* Error */);
			branch_Type_9 = v10;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			VAL v11 = MKI64(1LL /* Ignore */);
			branch_Type_9 = v11;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v12 = mtp_mirth_type_Type_Prim(in_Type_3);
			VAL v13 = mtw_mirth_type_Type_Prim(v12);
			branch_Type_9 = v13;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v14 = mtp_mirth_type_Type_Hole(in_Type_3);
			VAL v15 = mtw_mirth_type_Type_Hole(v14);
			branch_Type_9 = v15;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v16 = mtp_mirth_type_Type_Data(in_Type_3);
			VAL v17 = mtw_mirth_type_Type_Data(v16);
			branch_Type_9 = v17;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			TUP* v18 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			VAL v19 = mtw_mirth_type_Type_DataPartial(v18);
			branch_Type_9 = v19;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v20 = mtp_mirth_type_Type_Table(in_Type_3);
			VAL v21 = mtw_mirth_type_Type_Table(v20);
			branch_Type_9 = v21;
			branch_Subst_8 = in_Subst_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // Value
			VAL v22 = mtp_mirth_type_Type_Value(in_Type_3);
			TUP* v23;
			VAL v24 = mw_mirth_type_Value_type(in_ZPlusMirth_1, v22, &v23);
			TUP* v25;
			VAL v26;
			VAL v27 = mw_mirth_type_Type_freshen(v23, in_Subst_2, v24, &v25, &v26);
			branch_Type_9 = v26;
			branch_Subst_8 = v27;
			branch_ZPlusMirth_7 = v25;
		} break;
		case 5LL: { // Var
			uint64_t v28 = mtp_mirth_type_Type_Var(in_Type_3);
			TUP* v29;
			VAL v30;
			VAL v31 = mw_mirth_var_Var_freshen(in_ZPlusMirth_1, in_Subst_2, v28, &v29, &v30);
			branch_Type_9 = v30;
			branch_Subst_8 = v31;
			branch_ZPlusMirth_7 = v29;
		} break;
		case 3LL: { // Meta
			uint64_t v32 = mtp_mirth_type_Type_Meta(in_Type_3);
			TUP* v33;
			VAL v34;
			VAL v35 = mw_mirth_type_MetaVar_freshen(in_ZPlusMirth_1, in_Subst_2, v32, &v33, &v34);
			branch_Type_9 = v34;
			branch_Subst_8 = v35;
			branch_ZPlusMirth_7 = v33;
		} break;
		case 9LL: { // Stack
			VAL v36 = mtp_mirth_type_Type_Stack(in_Type_3);
			TUP* v37;
			VAL v38;
			VAL v39 = mw_mirth_type_StackType_freshen(in_ZPlusMirth_1, in_Subst_2, v36, &v37, &v38);
			VAL v40 = mtw_mirth_type_Type_Stack(v38);
			branch_Type_9 = v40;
			branch_Subst_8 = v39;
			branch_ZPlusMirth_7 = v37;
		} break;
		case 10LL: { // Arrow
			TUP* v41 = mtp_mirth_type_Type_Arrow(in_Type_3);
			TUP* v42;
			TUP* v43;
			VAL v44 = mw_mirth_type_ArrowType_freshen(in_ZPlusMirth_1, in_Subst_2, v41, &v42, &v43);
			VAL v45 = mtw_mirth_type_Type_Arrow(v43);
			branch_Type_9 = v45;
			branch_Subst_8 = v44;
			branch_ZPlusMirth_7 = v42;
		} break;
		case 11LL: { // App
			VAL v46;
			VAL v47 = mtp_mirth_type_Type_App(in_Type_3, &v46);
			TUP* v48;
			VAL v49;
			VAL v50;
			VAL v51 = mw_mirth_type_Type_freshen2(in_ZPlusMirth_1, in_Subst_2, v47, v46, &v48, &v49, &v50);
			VAL v52 = mtw_mirth_type_Type_App(v49, v50);
			branch_Type_9 = v52;
			branch_Subst_8 = v51;
			branch_ZPlusMirth_7 = v48;
		} break;
		case 12LL: { // Mut
			VAL v53 = mtp_mirth_type_Type_Mut(in_Type_3);
			TUP* v54;
			VAL v55;
			VAL v56 = mw_mirth_type_Type_freshen(in_ZPlusMirth_1, in_Subst_2, v53, &v54, &v55);
			VAL v57 = mtw_mirth_type_Type_Mut(v55);
			branch_Type_9 = v57;
			branch_Subst_8 = v56;
			branch_ZPlusMirth_7 = v54;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Subst_8;
}
static VAL mw_mirth_type_Type_freshen2 (TUP* in_ZPlusMirth_1, VAL in_Subst_2, VAL in_Type_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5, VAL *out_Type_7, VAL *out_Type_8) {
	TUP* v9;
	VAL v10;
	VAL v11 = mw_mirth_type_Type_freshen(in_ZPlusMirth_1, in_Subst_2, in_Type_3, &v9, &v10);
	TUP* v12;
	VAL v13;
	VAL v14 = mw_mirth_type_Type_freshen(v9, v11, in_Type_4, &v12, &v13);
	*out_Type_8 = v13;
	*out_Type_7 = v10;
	*out_ZPlusMirth_5 = v12;
	return v14;
}
static VAL mw_mirth_type_Type_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6) {
	TUP* branch_ZPlusMirth_7;
	VAL branch_Ctx_8;
	VAL branch_Type_9;
	switch (get_data_tag(in_Type_3)) {
		case 3LL: { // Meta
			uint64_t v10 = mtp_mirth_type_Type_Meta(in_Type_3);
			TUP* v11;
			VAL v12;
			VAL v13 = mw_mirth_type_MetaVar_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v10, &v11, &v12);
			branch_Type_9 = v12;
			branch_Ctx_8 = v13;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 0LL: { // Error
			VAL v14 = MKI64(0LL /* Error */);
			branch_Type_9 = v14;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			VAL v15 = MKI64(1LL /* Ignore */);
			branch_Type_9 = v15;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v16 = mtp_mirth_type_Type_Prim(in_Type_3);
			VAL v17 = mtw_mirth_type_Type_Prim(v16);
			branch_Type_9 = v17;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Hole
			uint64_t v18 = mtp_mirth_type_Type_Hole(in_Type_3);
			VAL v19 = mtw_mirth_type_Type_Hole(v18);
			branch_Type_9 = v19;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v20 = mtp_mirth_type_Type_Var(in_Type_3);
			VAL v21 = mtw_mirth_type_Type_Var(v20);
			branch_Type_9 = v21;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v22 = mtp_mirth_type_Type_Table(in_Type_3);
			VAL v23 = mtw_mirth_type_Type_Table(v22);
			branch_Type_9 = v23;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v24 = mtp_mirth_type_Type_Data(in_Type_3);
			VAL v25 = mtw_mirth_type_Type_Data(v24);
			branch_Type_9 = v25;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DataPartial
			TUP* v26 = mtp_mirth_type_Type_DataPartial(in_Type_3);
			VAL v27 = mtw_mirth_type_Type_DataPartial(v26);
			branch_Type_9 = v27;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // App
			VAL v28;
			VAL v29 = mtp_mirth_type_Type_App(in_Type_3, &v28);
			TUP* v30;
			VAL v31;
			VAL v32 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v29, &v30, &v31);
			TUP* v33;
			VAL v34;
			VAL v35 = mw_mirth_type_Type_rigidifyZBang(v30, v32, v28, &v33, &v34);
			VAL v36 = mtw_mirth_type_Type_App(v31, v34);
			branch_Type_9 = v36;
			branch_Ctx_8 = v35;
			branch_ZPlusMirth_7 = v33;
		} break;
		case 9LL: { // Stack
			VAL v37 = mtp_mirth_type_Type_Stack(in_Type_3);
			TUP* v38;
			VAL v39;
			VAL v40 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v37, &v38, &v39);
			VAL v41 = mtw_mirth_type_Type_Stack(v39);
			branch_Type_9 = v41;
			branch_Ctx_8 = v40;
			branch_ZPlusMirth_7 = v38;
		} break;
		case 10LL: { // Arrow
			TUP* v42 = mtp_mirth_type_Type_Arrow(in_Type_3);
			TUP* v43;
			TUP* v44;
			VAL v45 = mw_mirth_type_ArrowType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v42, &v43, &v44);
			VAL v46 = mtw_mirth_type_Type_Arrow(v44);
			branch_Type_9 = v46;
			branch_Ctx_8 = v45;
			branch_ZPlusMirth_7 = v43;
		} break;
		case 13LL: { // Value
			VAL v47 = mtp_mirth_type_Type_Value(in_Type_3);
			TUP* v48;
			VAL v49;
			VAL v50 = mw_mirth_type_Value_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v47, &v48, &v49);
			branch_Type_9 = v49;
			branch_Ctx_8 = v50;
			branch_ZPlusMirth_7 = v48;
		} break;
		case 12LL: { // Mut
			VAL v51 = mtp_mirth_type_Type_Mut(in_Type_3);
			TUP* v52;
			VAL v53;
			VAL v54 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v51, &v52, &v53);
			VAL v55 = mtw_mirth_type_Type_Mut(v53);
			branch_Type_9 = v55;
			branch_Ctx_8 = v54;
			branch_ZPlusMirth_7 = v52;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static VAL mw_mirth_type_Type_exceptZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL in_Type_4, TUP* *out_ZPlusMirth_5) {
	TUP* branch_ZPlusMirth_7;
	VAL branch_Type_8;
	switch (get_data_tag(in_Type_4)) {
		case 3LL: { // Meta
			uint64_t v9 = mtp_mirth_type_Type_Meta(in_Type_4);
			TUP* v10;
			VAL v11 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v9, &v10);
			TUP* branch_ZPlusMirth_12;
			VAL branch_Type_13;
			switch (get_data_tag(v11)) {
				case 0LL: { // None
					STR* v14;
					STRLIT(v14, "Type.except-field on metavar", 28);
					do_panic(v14);
				} break;
				case 1LL: { // Some
					VAL v17 = mtp_std_maybe_Maybe_1_Some(v11);
					TUP* v18;
					VAL v19 = mw_mirth_type_Type_expand(v10, v17, &v18);
					incref(v19);
					VAL v20 = mtw_std_maybe_Maybe_1_Some(v19);
					void* v21 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v9);
					mut_set(v20, v21);
					TUP* v22;
					VAL v23 = mw_mirth_type_Type_exceptZ_field(v18, in_Label_2, in_Tag_3, v19, &v22);
					branch_Type_13 = v23;
					branch_ZPlusMirth_12 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_8 = branch_Type_13;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
		} break;
		case 7LL: { // Data
			uint64_t v24 = mtp_mirth_type_Type_Data(in_Type_4);
			TUP* v25 = mtw_mirth_data_DataPartial_DataPartial(v24, in_Label_2);
			VAL v26 = mtw_mirth_type_Type_DataPartial(v25);
			branch_Type_8 = v26;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // App
			VAL v27;
			VAL v28 = mtp_mirth_type_Type_App(in_Type_4, &v27);
			TUP* v29;
			VAL v30 = mw_mirth_type_Type_exceptZ_field(in_ZPlusMirth_1, in_Label_2, in_Tag_3, v28, &v29);
			VAL v31 = mtw_mirth_type_Type_App(v30, v27);
			branch_Type_8 = v31;
			branch_ZPlusMirth_7 = v29;
		} break;
		default: {
			STR* v32;
			STRLIT(v32, "Type.except-field on unexpected type", 36);
			do_panic(v32);
		} break;
	}
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static VAL mw_mirth_type_Type_ctype (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	incref(in_Type_2);
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_ctypeZAsk(in_ZPlusMirth_1, in_Type_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_CType_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			decref(in_Type_2);
			branch_CType_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "", 0);
			TUP* v11;
			STR* v12;
			mw_mirth_type_Type_typeZThen(v5, v10, in_Type_2, &v11, &v12);
			STR* v13;
			STRLIT(v13, " doesn't have a C representation.", 33);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
			TUP* v15;
			mw_mirth_mirth_ZPlusMirth_errorZBang(v11, v14, &v15);
			STR* v16;
			STRLIT(v16, "void", 4);
			VAL v17 = mtw_mirth_type_CType_Void(v16);
			branch_CType_8 = v17;
			branch_ZPlusMirth_7 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_CType_8;
}
static VAL mw_mirth_type_Type_ctypeZAsk (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 2LL: { // Prim
			int64_t v9 = mtp_mirth_type_Type_Prim(v6);
			TUP* v10;
			VAL v11 = mw_mirth_type_PrimType_ctypeZAsk(v5, v9, &v10);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 7LL: { // Data
			uint64_t v12 = mtp_mirth_type_Type_Data(v6);
			TUP* v13;
			VAL v14 = mw_mirth_data_Data_ctypeZAsk(v5, v12, &v13);
			branch_Maybe_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 10LL: { // Arrow
			TUP* v15 = mtp_mirth_type_Type_Arrow(v6);
			decref(MKTUP(v15, 2));
			STR* v16;
			STRLIT(v16, "FNPTR", 5);
			VAL v17 = mtw_mirth_type_CType_FnPtr(v16);
			VAL v18 = mtw_std_maybe_Maybe_1_Some(v17);
			branch_Maybe_8 = v18;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 11LL: { // App
			VAL v19;
			VAL v20 = mtp_mirth_type_Type_App(v6, &v19);
			TUP* v21;
			VAL v22 = mw_mirth_type_Type_ctypeZAsk(v5, v19, &v21);
			VAL branch_Type_23;
			TUP* branch_ZPlusMirth_24;
			VAL branch_Maybe_25;
			switch (get_data_tag(v22)) {
				case 1LL: { // Some
					VAL v26 = mtp_std_maybe_Maybe_1_Some(v22);
					incref(v20);
					TUP* v27;
					VAL v28 = mw_mirth_type_Type_ctype1ZAsk(v21, v26, v20, &v27);
					branch_Maybe_25 = v28;
					branch_ZPlusMirth_24 = v27;
					branch_Type_23 = v20;
				} break;
				case 0LL: { // None
					VAL v29 = MKI64(0LL /* None */);
					branch_Maybe_25 = v29;
					branch_ZPlusMirth_24 = v21;
					branch_Type_23 = v20;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(branch_Type_23);
			branch_Maybe_8 = branch_Maybe_25;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_24;
		} break;
		default: {
			decref(v6);
			VAL v30 = MKI64(0LL /* None */);
			branch_Maybe_8 = v30;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_Type_ctype1ZAsk (TUP* in_ZPlusMirth_1, VAL in_CType_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_Type_expand(in_ZPlusMirth_1, in_Type_3, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v7)) {
		case 7LL: { // Data
			uint64_t v10 = mtp_mirth_type_Type_Data(v7);
			TUP* v11;
			VAL v12 = mw_mirth_data_Data_ctype1ZAsk(v6, in_CType_2, v10, &v11);
			branch_Maybe_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		default: {
			decref(v7);
			decref(in_CType_2);
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_9 = v13;
			branch_ZPlusMirth_8 = v6;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static VAL mw_mirth_type_Value_tyconZAsk (VAL in_Value_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Value_1)) {
		case 0LL: { // Int
			INT v4 = mtp_mirth_type_Value_Int(in_Value_1);
			decref(MKINT(v4));
			int64_t v5 = 5LL /* Int */;
			VAL v6 = mtw_mirth_tycon_Tycon_Prim(v5);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		case 1LL: { // F64
			double v8 = mtp_mirth_type_Value_F64(in_Value_1);
			int64_t v9 = 15LL /* F64 */;
			VAL v10 = mtw_mirth_tycon_Tycon_Prim(v9);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(v10);
			branch_Maybe_3 = v11;
		} break;
		case 2LL: { // Str
			STR* v12 = mtp_mirth_type_Value_Str(in_Value_1);
			decref(MKSTR(v12));
			int64_t v13 = 17LL /* Str */;
			VAL v14 = mtw_mirth_tycon_Tycon_Prim(v13);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
			branch_Maybe_3 = v15;
		} break;
		case 3LL: { // Block
			uint64_t v16 = mtp_mirth_type_Value_Block(in_Value_1);
			VAL v17 = MKI64(0LL /* None */);
			branch_Maybe_3 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_type_Value_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Value_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	VAL branch_Type_7;
	switch (get_data_tag(in_Value_2)) {
		case 0LL: { // Int
			INT v8 = mtp_mirth_type_Value_Int(in_Value_2);
			TUP* branch_ZPlusMirth_9;
			VAL branch_Type_10;
			switch (get_data_tag(in_Value_3)) {
				case 0LL: { // Int
					INT v11 = mtp_mirth_type_Value_Int(in_Value_3);
					incref(MKINT(v8));
					incref(MKINT(v11));
					bool v12 = int_eq(v8, v11);
					TUP* branch_ZPlusMirth_13;
					VAL branch_Type_14;
					if (v12) {
						decref(MKINT(v11));
						VAL v15 = mtw_mirth_type_Value_Int(v8);
						VAL v16 = mtw_mirth_type_Type_Value(v15);
						branch_Type_14 = v16;
						branch_ZPlusMirth_13 = in_ZPlusMirth_1;
					} else {
						decref(MKINT(v11));
						decref(MKINT(v8));
						VAL v17 = mw_mirth_type_Type_Int();
						branch_Type_14 = v17;
						branch_ZPlusMirth_13 = in_ZPlusMirth_1;
					}
					branch_Type_10 = branch_Type_14;
					branch_ZPlusMirth_9 = branch_ZPlusMirth_13;
				} break;
				case 2LL: { // Str
					STR* v18 = mtp_mirth_type_Value_Str(in_Value_3);
					decref(MKSTR(v18));
					decref(MKINT(v8));
					STR* v19;
					STRLIT(v19, "Can't unify int value with string value.", 40);
					TUP* v20;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v19, &v20);
					VAL v21 = MKI64(0LL /* Error */);
					branch_Type_10 = v21;
					branch_ZPlusMirth_9 = v20;
				} break;
				case 1LL: { // F64
					double v22 = mtp_mirth_type_Value_F64(in_Value_3);
					decref(MKINT(v8));
					STR* v23;
					STRLIT(v23, "Can't unify int value with float value.", 39);
					TUP* v24;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v23, &v24);
					VAL v25 = MKI64(0LL /* Error */);
					branch_Type_10 = v25;
					branch_ZPlusMirth_9 = v24;
				} break;
				case 3LL: { // Block
					uint64_t v26 = mtp_mirth_type_Value_Block(in_Value_3);
					decref(MKINT(v8));
					STR* v27;
					STRLIT(v27, "Can't unify int value with block.", 33);
					TUP* v28;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v27, &v28);
					VAL v29 = MKI64(0LL /* Error */);
					branch_Type_10 = v29;
					branch_ZPlusMirth_9 = v28;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_7 = branch_Type_10;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_9;
		} break;
		case 2LL: { // Str
			STR* v30 = mtp_mirth_type_Value_Str(in_Value_2);
			TUP* branch_ZPlusMirth_31;
			VAL branch_Type_32;
			switch (get_data_tag(in_Value_3)) {
				case 2LL: { // Str
					STR* v33 = mtp_mirth_type_Value_Str(in_Value_3);
					incref(MKSTR(v30));
					incref(MKSTR(v33));
					bool v34 = (str_cmp(v30, v33) == 0);
					TUP* branch_ZPlusMirth_35;
					VAL branch_Type_36;
					if (v34) {
						decref(MKSTR(v33));
						VAL v37 = mtw_mirth_type_Value_Str(v30);
						VAL v38 = mtw_mirth_type_Type_Value(v37);
						branch_Type_36 = v38;
						branch_ZPlusMirth_35 = in_ZPlusMirth_1;
					} else {
						decref(MKSTR(v33));
						decref(MKSTR(v30));
						VAL v39 = mw_mirth_type_Type_Str();
						branch_Type_36 = v39;
						branch_ZPlusMirth_35 = in_ZPlusMirth_1;
					}
					branch_Type_32 = branch_Type_36;
					branch_ZPlusMirth_31 = branch_ZPlusMirth_35;
				} break;
				case 0LL: { // Int
					INT v40 = mtp_mirth_type_Value_Int(in_Value_3);
					decref(MKINT(v40));
					decref(MKSTR(v30));
					STR* v41;
					STRLIT(v41, "Can't unify string value with int value.", 40);
					TUP* v42;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v41, &v42);
					VAL v43 = MKI64(0LL /* Error */);
					branch_Type_32 = v43;
					branch_ZPlusMirth_31 = v42;
				} break;
				case 1LL: { // F64
					double v44 = mtp_mirth_type_Value_F64(in_Value_3);
					decref(MKSTR(v30));
					STR* v45;
					STRLIT(v45, "Can't unify string value with float value.", 42);
					TUP* v46;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v45, &v46);
					VAL v47 = MKI64(0LL /* Error */);
					branch_Type_32 = v47;
					branch_ZPlusMirth_31 = v46;
				} break;
				case 3LL: { // Block
					uint64_t v48 = mtp_mirth_type_Value_Block(in_Value_3);
					decref(MKSTR(v30));
					STR* v49;
					STRLIT(v49, "Can't unify string value with block.", 36);
					TUP* v50;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v49, &v50);
					VAL v51 = MKI64(0LL /* Error */);
					branch_Type_32 = v51;
					branch_ZPlusMirth_31 = v50;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_7 = branch_Type_32;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_31;
		} break;
		case 1LL: { // F64
			double v52 = mtp_mirth_type_Value_F64(in_Value_2);
			TUP* branch_ZPlusMirth_53;
			VAL branch_Type_54;
			switch (get_data_tag(in_Value_3)) {
				case 1LL: { // F64
					double v55 = mtp_mirth_type_Value_F64(in_Value_3);
					bool v56 = (v52 == v55);
					TUP* branch_ZPlusMirth_57;
					VAL branch_Type_58;
					if (v56) {
						VAL v59 = mtw_mirth_type_Value_F64(v52);
						VAL v60 = mtw_mirth_type_Type_Value(v59);
						branch_Type_58 = v60;
						branch_ZPlusMirth_57 = in_ZPlusMirth_1;
					} else {
						VAL v61 = mw_mirth_type_Type_F64();
						branch_Type_58 = v61;
						branch_ZPlusMirth_57 = in_ZPlusMirth_1;
					}
					branch_Type_54 = branch_Type_58;
					branch_ZPlusMirth_53 = branch_ZPlusMirth_57;
				} break;
				case 0LL: { // Int
					INT v62 = mtp_mirth_type_Value_Int(in_Value_3);
					decref(MKINT(v62));
					STR* v63;
					STRLIT(v63, "Can't unify float value with int value.", 39);
					TUP* v64;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v63, &v64);
					VAL v65 = MKI64(0LL /* Error */);
					branch_Type_54 = v65;
					branch_ZPlusMirth_53 = v64;
				} break;
				case 3LL: { // Block
					uint64_t v66 = mtp_mirth_type_Value_Block(in_Value_3);
					STR* v67;
					STRLIT(v67, "Can't unify float value with block.", 35);
					TUP* v68;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v67, &v68);
					VAL v69 = MKI64(0LL /* Error */);
					branch_Type_54 = v69;
					branch_ZPlusMirth_53 = v68;
				} break;
				case 2LL: { // Str
					STR* v70 = mtp_mirth_type_Value_Str(in_Value_3);
					decref(MKSTR(v70));
					STR* v71;
					STRLIT(v71, "Can't unify float value with string value.", 42);
					TUP* v72;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v71, &v72);
					VAL v73 = MKI64(0LL /* Error */);
					branch_Type_54 = v73;
					branch_ZPlusMirth_53 = v72;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_7 = branch_Type_54;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_53;
		} break;
		case 3LL: { // Block
			uint64_t v74 = mtp_mirth_type_Value_Block(in_Value_2);
			TUP* branch_ZPlusMirth_75;
			VAL branch_Type_76;
			switch (get_data_tag(in_Value_3)) {
				case 3LL: { // Block
					uint64_t v77 = mtp_mirth_type_Value_Block(in_Value_3);
					bool v78 = mw_mirth_arrow_Block_ZEqual(v74, v77);
					TUP* branch_ZPlusMirth_79;
					VAL branch_Type_80;
					if (v78) {
						VAL v81 = mtw_mirth_type_Value_Block(v74);
						VAL v82 = mtw_mirth_type_Type_Value(v81);
						branch_Type_80 = v82;
						branch_ZPlusMirth_79 = in_ZPlusMirth_1;
					} else {
						TUP* v83;
						TUP* v84 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v77, &v83);
						TUP* v85 = mw_mirth_arrow_Arrow_type(v84);
						TUP* v86;
						TUP* v87 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(v83, v74, v85, &v86);
						VAL v88 = mtw_mirth_type_Type_Arrow(v87);
						branch_Type_80 = v88;
						branch_ZPlusMirth_79 = v86;
					}
					branch_Type_76 = branch_Type_80;
					branch_ZPlusMirth_75 = branch_ZPlusMirth_79;
				} break;
				case 0LL: { // Int
					INT v89 = mtp_mirth_type_Value_Int(in_Value_3);
					decref(MKINT(v89));
					STR* v90;
					STRLIT(v90, "Can't unify block with int value.", 33);
					TUP* v91;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v90, &v91);
					VAL v92 = MKI64(0LL /* Error */);
					branch_Type_76 = v92;
					branch_ZPlusMirth_75 = v91;
				} break;
				case 1LL: { // F64
					double v93 = mtp_mirth_type_Value_F64(in_Value_3);
					STR* v94;
					STRLIT(v94, "Can't unify block with float value.", 35);
					TUP* v95;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v94, &v95);
					VAL v96 = MKI64(0LL /* Error */);
					branch_Type_76 = v96;
					branch_ZPlusMirth_75 = v95;
				} break;
				case 2LL: { // Str
					STR* v97 = mtp_mirth_type_Value_Str(in_Value_3);
					decref(MKSTR(v97));
					STR* v98;
					STRLIT(v98, "Can't unify block with string value.", 36);
					TUP* v99;
					mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, v98, &v99);
					VAL v100 = MKI64(0LL /* Error */);
					branch_Type_76 = v100;
					branch_ZPlusMirth_75 = v99;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_7 = branch_Type_76;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_75;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Type_7;
}
static VAL mw_mirth_type_Value_unifyZ_typeZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	VAL branch_Type_7;
	switch (get_data_tag(in_Value_3)) {
		case 0LL: { // Int
			INT v8 = mtp_mirth_type_Value_Int(in_Value_3);
			decref(MKINT(v8));
			VAL v9 = mw_mirth_type_Type_Int();
			TUP* v10;
			VAL v11 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, v9, &v10);
			branch_Type_7 = v11;
			branch_ZPlusMirth_6 = v10;
		} break;
		case 2LL: { // Str
			STR* v12 = mtp_mirth_type_Value_Str(in_Value_3);
			decref(MKSTR(v12));
			VAL v13 = mw_mirth_type_Type_Str();
			TUP* v14;
			VAL v15 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, v13, &v14);
			branch_Type_7 = v15;
			branch_ZPlusMirth_6 = v14;
		} break;
		case 1LL: { // F64
			double v16 = mtp_mirth_type_Value_F64(in_Value_3);
			VAL v17 = mw_mirth_type_Type_F64();
			TUP* v18;
			VAL v19 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Type_2, v17, &v18);
			branch_Type_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 3LL: { // Block
			uint64_t v20 = mtp_mirth_type_Value_Block(in_Value_3);
			TUP* v21;
			VAL v22 = mw_mirth_type_Type_unifyZ_blockZBang(in_ZPlusMirth_1, v20, in_Type_2, &v21);
			branch_Type_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Type_7;
}
static VAL mw_mirth_type_Value_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, VAL in_Value_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Type_6;
	switch (get_data_tag(in_Value_2)) {
		case 0LL: { // Int
			INT v7 = mtp_mirth_type_Value_Int(in_Value_2);
			decref(MKINT(v7));
			VAL v8 = MKI64(0LL /* Error */);
			branch_Type_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Str
			STR* v9 = mtp_mirth_type_Value_Str(in_Value_2);
			decref(MKSTR(v9));
			VAL v10 = MKI64(0LL /* Error */);
			branch_Type_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // F64
			double v11 = mtp_mirth_type_Value_F64(in_Value_2);
			VAL v12 = MKI64(0LL /* Error */);
			branch_Type_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Block
			uint64_t v13 = mtp_mirth_type_Value_Block(in_Value_2);
			VAL v14 = MKI64(0LL /* Error */);
			TUP* v15;
			VAL v16 = mw_mirth_type_Type_unifyZ_blockZBang(in_ZPlusMirth_1, v13, v14, &v15);
			branch_Type_6 = v16;
			branch_ZPlusMirth_5 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Type_6;
}
static bool mw_mirth_type_Value_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_Value_type(in_ZPlusMirth_1, in_Value_3, &v6);
	TUP* v8;
	bool v9 = mw_mirth_type_Type_hasZ_metaZAsk(v6, in_MetaVar_2, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static bool mw_mirth_type_Value_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_Value_type(in_ZPlusMirth_1, in_Value_3, &v6);
	TUP* v8;
	bool v9 = mw_mirth_type_Type_hasZ_varZAsk(v6, in_Var_2, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static VAL mw_mirth_type_Value_type (TUP* in_ZPlusMirth_1, VAL in_Value_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Type_6;
	switch (get_data_tag(in_Value_2)) {
		case 0LL: { // Int
			INT v7 = mtp_mirth_type_Value_Int(in_Value_2);
			decref(MKINT(v7));
			VAL v8 = mw_mirth_type_Type_Int();
			branch_Type_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // F64
			double v9 = mtp_mirth_type_Value_F64(in_Value_2);
			VAL v10 = mw_mirth_type_Type_F64();
			branch_Type_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Str
			STR* v11 = mtp_mirth_type_Value_Str(in_Value_2);
			decref(MKSTR(v11));
			VAL v12 = mw_mirth_type_Type_Str();
			branch_Type_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Block
			uint64_t v13 = mtp_mirth_type_Value_Block(in_Value_2);
			TUP* v14;
			TUP* v15 = mw_mirth_arrow_Block_type(in_ZPlusMirth_1, v13, &v14);
			VAL v16 = mtw_mirth_type_Type_Arrow(v15);
			branch_Type_6 = v16;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Type_6;
}
static VAL mw_mirth_type_Value_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Value_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6) {
	TUP* branch_ZPlusMirth_7;
	VAL branch_Ctx_8;
	VAL branch_Type_9;
	switch (get_data_tag(in_Value_3)) {
		case 0LL: { // Int
			INT v10 = mtp_mirth_type_Value_Int(in_Value_3);
			VAL v11 = mtw_mirth_type_Value_Int(v10);
			VAL v12 = mtw_mirth_type_Type_Value(v11);
			branch_Type_9 = v12;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Str
			STR* v13 = mtp_mirth_type_Value_Str(in_Value_3);
			VAL v14 = mtw_mirth_type_Value_Str(v13);
			VAL v15 = mtw_mirth_type_Type_Value(v14);
			branch_Type_9 = v15;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // F64
			double v16 = mtp_mirth_type_Value_F64(in_Value_3);
			VAL v17 = mtw_mirth_type_Value_F64(v16);
			VAL v18 = mtw_mirth_type_Type_Value(v17);
			branch_Type_9 = v18;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Block
			uint64_t v19 = mtp_mirth_type_Value_Block(in_Value_3);
			TUP* v20;
			TUP* v21 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v19, &v20);
			TUP* v22 = mw_mirth_arrow_Arrow_type(v21);
			TUP* v23;
			TUP* v24;
			VAL v25 = mw_mirth_type_ArrowType_rigidifyZBang(v20, in_Ctx_2, v22, &v23, &v24);
			VAL v26 = mtw_mirth_type_Type_Arrow(v24);
			branch_Type_9 = v26;
			branch_Ctx_8 = v25;
			branch_ZPlusMirth_7 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static bool mw_mirth_type_PrimType_isZ_resourceZAsk (int64_t in_PrimType_1) {
	bool branch_Bool_3;
	switch (in_PrimType_1) {
		case 18LL: { // World
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_type_PrimType_isZ_physicalZAsk (int64_t in_PrimType_1) {
	bool branch_Bool_3;
	switch (in_PrimType_1) {
		case 0LL: { // KIND
			bool v4 = false;
			branch_Bool_3 = v4;
		} break;
		case 1LL: { // TYPE
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
		case 2LL: { // STACK
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
		case 3LL: { // RESOURCE
			bool v7 = false;
			branch_Bool_3 = v7;
		} break;
		default: {
			bool v8 = true;
			branch_Bool_3 = v8;
		} break;
	}
	return branch_Bool_3;
}
static TUP* mw_mirth_type_PrimType_tyconZ_qname (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	TUP* branch_QName_6;
	switch (in_PrimType_2) {
		case 0LL: { // KIND
			STR* v7;
			STRLIT(v7, "KIND", 4);
			INT v8 = WRAP_I63(0LL);
			TUP* v9;
			TUP* v10 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v7, v8, &v9);
			branch_QName_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		case 1LL: { // TYPE
			STR* v11;
			STRLIT(v11, "TYPE", 4);
			INT v12 = WRAP_I63(0LL);
			TUP* v13;
			TUP* v14 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v11, v12, &v13);
			branch_QName_6 = v14;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 2LL: { // STACK
			STR* v15;
			STRLIT(v15, "STACK", 5);
			INT v16 = WRAP_I63(0LL);
			TUP* v17;
			TUP* v18 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v15, v16, &v17);
			branch_QName_6 = v18;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 3LL: { // RESOURCE
			STR* v19;
			STRLIT(v19, "RESOURCE", 8);
			INT v20 = WRAP_I63(0LL);
			TUP* v21;
			TUP* v22 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v19, v20, &v21);
			branch_QName_6 = v22;
			branch_ZPlusMirth_5 = v21;
		} break;
		case 4LL: { // Bool
			STR* v23;
			STRLIT(v23, "Bool", 4);
			INT v24 = WRAP_I63(0LL);
			TUP* v25;
			TUP* v26 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v23, v24, &v25);
			branch_QName_6 = v26;
			branch_ZPlusMirth_5 = v25;
		} break;
		case 5LL: { // Int
			STR* v27;
			STRLIT(v27, "Int", 3);
			INT v28 = WRAP_I63(0LL);
			TUP* v29;
			TUP* v30 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v27, v28, &v29);
			branch_QName_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 6LL: { // U8
			STR* v31;
			STRLIT(v31, "U8", 2);
			INT v32 = WRAP_I63(0LL);
			TUP* v33;
			TUP* v34 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v31, v32, &v33);
			branch_QName_6 = v34;
			branch_ZPlusMirth_5 = v33;
		} break;
		case 7LL: { // U16
			STR* v35;
			STRLIT(v35, "U16", 3);
			INT v36 = WRAP_I63(0LL);
			TUP* v37;
			TUP* v38 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v35, v36, &v37);
			branch_QName_6 = v38;
			branch_ZPlusMirth_5 = v37;
		} break;
		case 8LL: { // U32
			STR* v39;
			STRLIT(v39, "U32", 3);
			INT v40 = WRAP_I63(0LL);
			TUP* v41;
			TUP* v42 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v39, v40, &v41);
			branch_QName_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 9LL: { // U64
			STR* v43;
			STRLIT(v43, "U64", 3);
			INT v44 = WRAP_I63(0LL);
			TUP* v45;
			TUP* v46 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v43, v44, &v45);
			branch_QName_6 = v46;
			branch_ZPlusMirth_5 = v45;
		} break;
		case 10LL: { // I8
			STR* v47;
			STRLIT(v47, "I8", 2);
			INT v48 = WRAP_I63(0LL);
			TUP* v49;
			TUP* v50 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v47, v48, &v49);
			branch_QName_6 = v50;
			branch_ZPlusMirth_5 = v49;
		} break;
		case 11LL: { // I16
			STR* v51;
			STRLIT(v51, "I16", 3);
			INT v52 = WRAP_I63(0LL);
			TUP* v53;
			TUP* v54 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v51, v52, &v53);
			branch_QName_6 = v54;
			branch_ZPlusMirth_5 = v53;
		} break;
		case 12LL: { // I32
			STR* v55;
			STRLIT(v55, "I32", 3);
			INT v56 = WRAP_I63(0LL);
			TUP* v57;
			TUP* v58 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v55, v56, &v57);
			branch_QName_6 = v58;
			branch_ZPlusMirth_5 = v57;
		} break;
		case 13LL: { // I64
			STR* v59;
			STRLIT(v59, "I64", 3);
			INT v60 = WRAP_I63(0LL);
			TUP* v61;
			TUP* v62 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v59, v60, &v61);
			branch_QName_6 = v62;
			branch_ZPlusMirth_5 = v61;
		} break;
		case 14LL: { // F32
			STR* v63;
			STRLIT(v63, "F32", 3);
			INT v64 = WRAP_I63(0LL);
			TUP* v65;
			TUP* v66 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v63, v64, &v65);
			branch_QName_6 = v66;
			branch_ZPlusMirth_5 = v65;
		} break;
		case 15LL: { // F64
			STR* v67;
			STRLIT(v67, "F64", 3);
			INT v68 = WRAP_I63(0LL);
			TUP* v69;
			TUP* v70 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v67, v68, &v69);
			branch_QName_6 = v70;
			branch_ZPlusMirth_5 = v69;
		} break;
		case 17LL: { // Str
			STR* v71;
			STRLIT(v71, "Str", 3);
			INT v72 = WRAP_I63(0LL);
			TUP* v73;
			TUP* v74 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v71, v72, &v73);
			branch_QName_6 = v74;
			branch_ZPlusMirth_5 = v73;
		} break;
		case 16LL: { // Ptr
			STR* v75;
			STRLIT(v75, "Ptr", 3);
			INT v76 = WRAP_I63(0LL);
			TUP* v77;
			TUP* v78 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v75, v76, &v77);
			branch_QName_6 = v78;
			branch_ZPlusMirth_5 = v77;
		} break;
		case 18LL: { // World
			STR* v79;
			STRLIT(v79, "+World", 6);
			INT v80 = WRAP_I63(0LL);
			TUP* v81;
			TUP* v82 = mw_mirth_name_QName_Prim(in_ZPlusMirth_1, v79, v80, &v81);
			branch_QName_6 = v82;
			branch_ZPlusMirth_5 = v81;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static INT mw_mirth_type_PrimType_ZToInt (int64_t in_PrimType_1) {
	INT v3 = i64_to_int(in_PrimType_1);
	return v3;
}
static bool mw_mirth_type_PrimType_ZEqual (int64_t in_PrimType_1, int64_t in_PrimType_2) {
	INT v4 = mw_mirth_type_PrimType_ZToInt(in_PrimType_1);
	INT v5 = mw_mirth_type_PrimType_ZToInt(in_PrimType_2);
	bool v6 = int_eq(v4, v5);
	return v6;
}
static VAL mw_mirth_type_PrimType_unifyZBang (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, int64_t in_PrimType_3, TUP* *out_ZPlusMirth_4) {
	bool v6 = mw_mirth_type_PrimType_ZEqual(in_PrimType_2, in_PrimType_3);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Type_8;
	if (v6) {
		VAL v9 = mtw_mirth_type_Type_Prim(in_PrimType_2);
		branch_Type_8 = v9;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v10 = mtw_mirth_type_Type_Prim(in_PrimType_2);
		VAL v11 = mtw_mirth_type_Type_Prim(in_PrimType_3);
		TUP* v12;
		VAL v13 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v10, v11, &v12);
		branch_Type_8 = v13;
		branch_ZPlusMirth_7 = v12;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static void mw_mirth_type_PrimType_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, int64_t in_PrimType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, in_PrimType_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_QName_nameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static VAL mw_mirth_type_PrimType_ctypeZAsk (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (in_PrimType_2) {
		case 16LL: { // Ptr
			STR* v7;
			STRLIT(v7, "void*", 5);
			VAL v8 = mtw_mirth_type_CType_Ptr(v7);
			VAL v9 = mtw_std_maybe_Maybe_1_Some(v8);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // World
			STR* v10;
			STRLIT(v10, "void", 4);
			VAL v11 = mtw_mirth_type_CType_Void(v10);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
			branch_Maybe_6 = v12;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Bool
			STR* v13;
			STRLIT(v13, "_Bool", 5);
			VAL v14 = mtw_mirth_type_CType_UInt(v13);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
			branch_Maybe_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // U8
			STR* v16;
			STRLIT(v16, "uint8_t", 7);
			VAL v17 = mtw_mirth_type_CType_UInt(v16);
			VAL v18 = mtw_std_maybe_Maybe_1_Some(v17);
			branch_Maybe_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // U16
			STR* v19;
			STRLIT(v19, "uint16_t", 8);
			VAL v20 = mtw_mirth_type_CType_UInt(v19);
			VAL v21 = mtw_std_maybe_Maybe_1_Some(v20);
			branch_Maybe_6 = v21;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // U32
			STR* v22;
			STRLIT(v22, "uint32_t", 8);
			VAL v23 = mtw_mirth_type_CType_UInt(v22);
			VAL v24 = mtw_std_maybe_Maybe_1_Some(v23);
			branch_Maybe_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // U64
			STR* v25;
			STRLIT(v25, "uint64_t", 8);
			VAL v26 = mtw_mirth_type_CType_UInt(v25);
			VAL v27 = mtw_std_maybe_Maybe_1_Some(v26);
			branch_Maybe_6 = v27;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // I8
			STR* v28;
			STRLIT(v28, "int8_t", 6);
			VAL v29 = mtw_mirth_type_CType_Int(v28);
			VAL v30 = mtw_std_maybe_Maybe_1_Some(v29);
			branch_Maybe_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // I16
			STR* v31;
			STRLIT(v31, "int16_t", 7);
			VAL v32 = mtw_mirth_type_CType_Int(v31);
			VAL v33 = mtw_std_maybe_Maybe_1_Some(v32);
			branch_Maybe_6 = v33;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // I32
			STR* v34;
			STRLIT(v34, "int32_t", 7);
			VAL v35 = mtw_mirth_type_CType_Int(v34);
			VAL v36 = mtw_std_maybe_Maybe_1_Some(v35);
			branch_Maybe_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // I64
			STR* v37;
			STRLIT(v37, "int64_t", 7);
			VAL v38 = mtw_mirth_type_CType_Int(v37);
			VAL v39 = mtw_std_maybe_Maybe_1_Some(v38);
			branch_Maybe_6 = v39;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // F32
			STR* v40;
			STRLIT(v40, "float", 5);
			VAL v41 = mtw_mirth_type_CType_F32(v40);
			VAL v42 = mtw_std_maybe_Maybe_1_Some(v41);
			branch_Maybe_6 = v42;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // F64
			STR* v43;
			STRLIT(v43, "double", 6);
			VAL v44 = mtw_mirth_type_CType_F64(v43);
			VAL v45 = mtw_std_maybe_Maybe_1_Some(v44);
			branch_Maybe_6 = v45;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			VAL v46 = MKI64(0LL /* None */);
			branch_Maybe_6 = v46;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static bool mw_mirth_type_PrimType_canZ_ownZ_stateZAsk (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (in_PrimType_2) {
		case 18LL: { // World
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			bool v8 = false;
			branch_Bool_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang (TUP* in_ZPlusMirth_1, int64_t in_PrimType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	TUP* v5 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, in_PrimType_2, &v4);
	VAL v6 = mtw_mirth_type_Type_Prim(in_PrimType_2);
	TUP* v7;
	mw_mirth_mirth_ZPlusMirth_defZ_typeZBang(v4, v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_typesZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	int64_t v3 = 4LL /* Bool */;
	TUP* v4;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(in_ZPlusMirth_1, v3, &v4);
	int64_t v5 = 5LL /* Int */;
	TUP* v6;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v4, v5, &v6);
	int64_t v7 = 6LL /* U8 */;
	TUP* v8;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v6, v7, &v8);
	int64_t v9 = 7LL /* U16 */;
	TUP* v10;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v8, v9, &v10);
	int64_t v11 = 8LL /* U32 */;
	TUP* v12;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v10, v11, &v12);
	int64_t v13 = 9LL /* U64 */;
	TUP* v14;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v12, v13, &v14);
	int64_t v15 = 10LL /* I8 */;
	TUP* v16;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v14, v15, &v16);
	int64_t v17 = 11LL /* I16 */;
	TUP* v18;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v16, v17, &v18);
	int64_t v19 = 12LL /* I32 */;
	TUP* v20;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v18, v19, &v20);
	int64_t v21 = 13LL /* I64 */;
	TUP* v22;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v20, v21, &v22);
	int64_t v23 = 14LL /* F32 */;
	TUP* v24;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v22, v23, &v24);
	int64_t v25 = 15LL /* F64 */;
	TUP* v26;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v24, v25, &v26);
	int64_t v27 = 16LL /* Ptr */;
	TUP* v28;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v26, v27, &v28);
	int64_t v29 = 17LL /* Str */;
	TUP* v30;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v28, v29, &v30);
	int64_t v31 = 18LL /* World */;
	TUP* v32;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v30, v31, &v32);
	TUP* v33;
	mw_mirth_mirth_ZPlusMirth_initZ_dataZBang(v32, &v33);
	*out_ZPlusMirth_2 = v33;
}
static VAL mw_mirth_type_TZPlus (VAL in_StackType_1, VAL in_Resource_2) {
	VAL v4 = mtw_mirth_type_StackType_With(in_StackType_1, in_Resource_2);
	return v4;
}
static VAL mw_mirth_type_TZMul (VAL in_StackType_1, VAL in_Type_2) {
	VAL v4 = mtw_mirth_type_StackType_Cons(in_StackType_1, in_Type_2);
	return v4;
}
static VAL mw_mirth_type_TZMulZPlus (VAL in_StackType_1, VAL in_Either_2) {
	VAL branch_StackType_4;
	switch (get_data_tag(in_Either_2)) {
		case 0LL: { // Left
			VAL v5 = mtp_std_either_Either_2_Left(in_Either_2);
			VAL v6 = mw_mirth_type_TZMul(in_StackType_1, v5);
			branch_StackType_4 = v6;
		} break;
		case 1LL: { // Right
			VAL v7 = mtp_std_either_Either_2_Right(in_Either_2);
			VAL v8 = mw_mirth_type_TZPlus(in_StackType_1, v7);
			branch_StackType_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_StackType_4;
}
static TUP* mw_mirth_type_TZ_ZTo (VAL in_StackType_1, VAL in_StackType_2) {
	TUP* v4 = mtw_mirth_type_ArrowType_ArrowType(in_StackType_1, in_StackType_2);
	return v4;
}
static VAL mw_mirth_type_T0 (void) {
	VAL v2 = MKI64(2LL /* Unit */);
	return v2;
}
static VAL mw_mirth_type_T1 (VAL in_Type_1) {
	VAL v3 = mw_mirth_type_T0();
	VAL v4 = mw_mirth_type_TZMul(v3, in_Type_1);
	return v4;
}
static VAL mw_mirth_type_T2 (VAL in_Type_1, VAL in_Type_2) {
	VAL v4 = mw_mirth_type_T1(in_Type_1);
	VAL v5 = mw_mirth_type_TZMul(v4, in_Type_2);
	return v5;
}
static VAL mw_mirth_type_T3 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3) {
	VAL v5 = mw_mirth_type_T2(in_Type_1, in_Type_2);
	VAL v6 = mw_mirth_type_TZMul(v5, in_Type_3);
	return v6;
}
static VAL mw_mirth_type_T4 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4) {
	VAL v6 = mw_mirth_type_T3(in_Type_1, in_Type_2, in_Type_3);
	VAL v7 = mw_mirth_type_TZMul(v6, in_Type_4);
	return v7;
}
static VAL mw_mirth_type_T5 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4, VAL in_Type_5) {
	VAL v7 = mw_mirth_type_T4(in_Type_1, in_Type_2, in_Type_3, in_Type_4);
	VAL v8 = mw_mirth_type_TZMul(v7, in_Type_5);
	return v8;
}
static VAL mw_mirth_type_Kind_TYPE (void) {
	VAL v2 = mw_mirth_type_Type_TYPE();
	return v2;
}
static VAL mw_mirth_type_Kind_STACK (void) {
	VAL v2 = mw_mirth_type_Type_STACK();
	return v2;
}
static VAL mw_mirth_type_Kind_RESOURCE (void) {
	VAL v2 = mw_mirth_type_Type_RESOURCE();
	return v2;
}
static VAL mw_mirth_type_Kind_ZToType (VAL in_Kind_1) {
	return in_Kind_1;
}
static VAL mw_mirth_type_Type_ZToKind (VAL in_Type_1) {
	return in_Type_1;
}
static uint64_t mw_mirth_type_MetaVar_allocZBang (void) {
	void* v2 = mbuf_mirth_type_MetaVar_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_type_MetaVar_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_type_MetaVar_index (uint64_t in_MetaVar_1) {
	return in_MetaVar_1;
}
static VAL mw_mirth_type_MetaVar_typeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, in_MetaVar_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_type_MetaVar_kind (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_type_MetaVar_ZTildekind, in_MetaVar_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_type_MetaVar_NewZBang (TUP* in_ZPlusMirth_1, VAL in_Kind_2, TUP* *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_type_MetaVar_allocZBang();
	void* v6 = field_mut(&mfld_mirth_type_MetaVar_ZTildekind, v5);
	mut_set(in_Kind_2, v6);
	VAL v7 = MKI64(0LL /* None */);
	void* v8 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v5);
	mut_set(v7, v8);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v5;
}
static bool mw_mirth_type_MetaVar_unitZ_stackZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			bool v11 = mw_mirth_type_Type_unitZ_stackZAsk(v5, v9, &v10);
			branch_Bool_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			bool v12 = false;
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static bool mw_mirth_type_MetaVar_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v6);
	TUP* branch_ZPlusMirth_8;
	bool branch_Bool_9;
	switch (get_data_tag(v7)) {
		case 0LL: { // None
			bool v10 = mw_mirth_type_MetaVar_ZEqual(in_MetaVar_2, in_MetaVar_3);
			branch_Bool_9 = v10;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v12;
			bool v13 = mw_mirth_type_Type_hasZ_metaZAsk(v6, in_MetaVar_2, v11, &v12);
			branch_Bool_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Bool_9;
}
static bool mw_mirth_type_MetaVar_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v6);
	TUP* branch_ZPlusMirth_8;
	bool branch_Bool_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v11;
			bool v12 = mw_mirth_type_Type_hasZ_varZAsk(v6, in_Var_2, v10, &v11);
			branch_Bool_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_9 = v13;
			branch_ZPlusMirth_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Bool_9;
}
static void mw_mirth_type_MetaVar_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	VAL v7 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v6);
	TUP* branch_ZPlusMirth_8;
	STR* branch_ZPlusStr_9;
	switch (get_data_tag(v7)) {
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "?", 1);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(v10, in_ZPlusStr_2, &v11);
			uint64_t v12 = mw_mirth_type_MetaVar_index(in_MetaVar_3);
			INT v13 = u64_to_int(v12);
			STR* v14 = int_to_str(v13);
			STR* v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(v14, v11, &v15);
			branch_ZPlusStr_9 = v15;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v17;
			STR* v18;
			mw_mirth_type_Type_typeZThen(v6, in_ZPlusStr_2, v16, &v17, &v18);
			branch_ZPlusStr_9 = v18;
			branch_ZPlusMirth_8 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static VAL mw_mirth_type_MetaVar_expand (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Type_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // None
			VAL v9 = mtw_mirth_type_Type_Meta(in_MetaVar_2);
			branch_Type_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v11;
			VAL v12 = mw_mirth_type_Type_expand(v5, v10, &v11);
			incref(v12);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(v12);
			void* v14 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, in_MetaVar_2);
			mut_set(v13, v14);
			branch_Type_8 = v12;
			branch_ZPlusMirth_7 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static VAL mw_mirth_type_MetaVar_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_Type_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v11;
			VAL v12 = mw_mirth_type_Type_unifyZBang(v6, in_Type_2, v10, &v11);
			branch_Type_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			incref(in_Type_2);
			bool v13 = mw_mirth_type_Type_metaZEqual(in_MetaVar_3, in_Type_2);
			TUP* branch_ZPlusMirth_14;
			VAL branch_Type_15;
			if (v13) {
				branch_Type_15 = in_Type_2;
				branch_ZPlusMirth_14 = v6;
			} else {
				incref(in_Type_2);
				TUP* v16;
				bool v17 = mw_mirth_type_Type_hasZ_metaZAsk(v6, in_MetaVar_3, in_Type_2, &v16);
				TUP* branch_ZPlusMirth_18;
				VAL branch_Type_19;
				if (v17) {
					VAL v20 = mtw_mirth_type_Type_Meta(in_MetaVar_3);
					TUP* v21;
					VAL v22 = mw_mirth_type_Type_unifyZ_failedZBang(v16, in_Type_2, v20, &v21);
					branch_Type_19 = v22;
					branch_ZPlusMirth_18 = v21;
				} else {
					incref(in_Type_2);
					VAL v23 = mtw_std_maybe_Maybe_1_Some(in_Type_2);
					void* v24 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, in_MetaVar_3);
					mut_set(v23, v24);
					branch_Type_19 = in_Type_2;
					branch_ZPlusMirth_18 = v16;
				}
				branch_Type_15 = branch_Type_19;
				branch_ZPlusMirth_14 = branch_ZPlusMirth_18;
			}
			branch_Type_9 = branch_Type_15;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Type_9;
}
static VAL mw_mirth_type_MetaVar_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Type_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			VAL v11 = mw_mirth_type_Type_unifyZ_errorZBang(v5, v9, &v10);
			branch_Type_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			VAL v12 = MKI64(0LL /* Error */);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(v12);
			void* v14 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, in_MetaVar_2);
			mut_set(v13, v14);
			VAL v15 = MKI64(0LL /* Error */);
			branch_Type_8 = v15;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Type_8;
}
static bool mw_mirth_type_MetaVar_ZEqual (uint64_t in_MetaVar_1, uint64_t in_MetaVar_2) {
	uint64_t v4 = mw_mirth_type_MetaVar_index(in_MetaVar_1);
	uint64_t v5 = mw_mirth_type_MetaVar_index(in_MetaVar_2);
	bool v6 = (v4 == v5);
	return v6;
}
static VAL mw_mirth_type_MetaVar_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6) {
	TUP* v7;
	VAL v8 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v7);
	VAL branch_Subst_9;
	TUP* branch_ZPlusMirth_10;
	VAL branch_Type_11;
	switch (get_data_tag(v8)) {
		case 0LL: { // None
			TUP* v12;
			VAL v13 = mw_mirth_type_MetaVar_kind(v7, in_MetaVar_3, &v12);
			TUP* v14;
			uint64_t v15 = mw_mirth_type_MetaVar_NewZBang(v12, v13, &v14);
			VAL v16 = mtw_mirth_type_Type_Meta(v15);
			branch_Type_11 = v16;
			branch_ZPlusMirth_10 = v14;
			branch_Subst_9 = in_Subst_2;
		} break;
		case 1LL: { // Some
			VAL v17 = mtp_std_maybe_Maybe_1_Some(v8);
			TUP* v18;
			VAL v19 = mw_mirth_type_Type_expand(v7, v17, &v18);
			incref(v19);
			VAL v20 = mtw_std_maybe_Maybe_1_Some(v19);
			void* v21 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, in_MetaVar_3);
			mut_set(v20, v21);
			TUP* v22;
			VAL v23;
			VAL v24 = mw_mirth_type_Type_freshen(v18, in_Subst_2, v19, &v22, &v23);
			branch_Type_11 = v23;
			branch_ZPlusMirth_10 = v22;
			branch_Subst_9 = v24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Subst_9;
}
static VAL mw_mirth_type_MetaVar_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, uint64_t in_MetaVar_3, TUP* *out_ZPlusMirth_4, VAL *out_Type_6) {
	TUP* v7;
	VAL v8 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, in_MetaVar_3, &v7);
	TUP* branch_ZPlusMirth_9;
	VAL branch_Ctx_10;
	VAL branch_Type_11;
	switch (get_data_tag(v8)) {
		case 0LL: { // None
			TUP* v12;
			VAL v13 = mw_mirth_type_MetaVar_kind(v7, in_MetaVar_3, &v12);
			VAL v14 = mw_mirth_type_Kind_ZToType(v13);
			TUP* v15;
			uint64_t v16;
			VAL v17 = mw_mirth_var_Ctx_freshZ_varZBang(v12, v14, in_Ctx_2, &v15, &v16);
			VAL v18 = mtw_mirth_type_Type_Var(v16);
			incref(v18);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(v18);
			void* v20 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, in_MetaVar_3);
			mut_set(v19, v20);
			branch_Type_11 = v18;
			branch_Ctx_10 = v17;
			branch_ZPlusMirth_9 = v15;
		} break;
		case 1LL: { // Some
			VAL v21 = mtp_std_maybe_Maybe_1_Some(v8);
			TUP* v22;
			VAL v23;
			VAL v24 = mw_mirth_type_Type_rigidifyZBang(v7, in_Ctx_2, v21, &v22, &v23);
			branch_Type_11 = v23;
			branch_Ctx_10 = v24;
			branch_ZPlusMirth_9 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Ctx_10;
}
static VAL mw_mirth_type_typeZ_holeZ_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Type_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4) {
	STR* v6;
	STRLIT(v6, "", 0);
	VAL v7 = mtw_mirth_type_Type_Hole(in_Name_3);
	TUP* v8;
	STR* v9;
	mw_mirth_type_Type_typeZThen(in_ZPlusMirth_1, v6, v7, &v8, &v9);
	STR* v10;
	STRLIT(v10, " ~ ", 3);
	STR* v11;
	mw_std_str_ZPlusStr_pushZ_strZBang(v10, v9, &v11);
	incref(in_Type_2);
	TUP* v12;
	STR* v13;
	mw_mirth_type_Type_typeZThen(v8, v11, in_Type_2, &v12, &v13);
	STR* v14;
	STRLIT(v14, "\n", 1);
	STR* v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
	TUP* v16;
	mw_mirth_mirth_ZPlusMirth_infoZBang(v12, v15, &v16);
	*out_ZPlusMirth_4 = v16;
	return in_Type_2;
}
static VAL mw_mirth_type_Resource_NewInCtx (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, VAL *out_Resource_6) {
	VAL v7 = mw_mirth_type_Type_RESOURCE();
	TUP* v8;
	uint64_t v9;
	VAL v10 = mw_mirth_var_Var_NewInCtx(in_ZPlusMirth_1, in_Ctx_2, v7, in_Str_3, &v8, &v9);
	VAL v11 = mtw_mirth_type_Type_Var(v9);
	*out_Resource_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_type_Resource_FreshZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	VAL v4 = mw_mirth_type_Kind_RESOURCE();
	TUP* v5;
	uint64_t v6 = mw_mirth_type_MetaVar_NewZBang(in_ZPlusMirth_1, v4, &v5);
	VAL v7 = mtw_mirth_type_Type_Meta(v6);
	*out_ZPlusMirth_2 = v5;
	return v7;
}
static VAL mw_mirth_type_Resource_World (void) {
	VAL v2 = mw_mirth_type_Type_World();
	return v2;
}
static VAL mw_mirth_type_Resource_ZToType (VAL in_Resource_1) {
	return in_Resource_1;
}
static VAL mw_mirth_type_Type_ZToResource (VAL in_Type_1) {
	return in_Type_1;
}
static bool mw_mirth_type_Resource_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4) {
	VAL v6 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	TUP* v7;
	bool v8 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static bool mw_mirth_type_Resource_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4) {
	VAL v6 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	TUP* v7;
	bool v8 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static VAL mw_mirth_type_Resource_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_Resource_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4) {
	VAL v6 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	VAL v7 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	TUP* v8;
	VAL v9 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, v6, v7, &v8);
	VAL v10 = mw_mirth_type_Type_ZToResource(v9);
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_type_Resource_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	TUP* v6;
	VAL v7 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, v5, &v6);
	VAL v8 = mw_mirth_type_Type_ZToResource(v7);
	*out_ZPlusMirth_3 = v6;
	return v8;
}
static void mw_mirth_type_Resource_typeZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	VAL v6 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	TUP* v7;
	STR* v8;
	mw_mirth_type_Type_typeZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v7, &v8);
	*out_ZPlusStr_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static VAL mw_mirth_type_Resource_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4, VAL *out_Resource_6) {
	VAL v7 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	TUP* v8;
	VAL v9;
	VAL v10 = mw_mirth_type_Type_freshen(in_ZPlusMirth_1, in_Subst_2, v7, &v8, &v9);
	VAL v11 = mw_mirth_type_Type_ZToResource(v9);
	*out_Resource_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_type_Resource_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4, VAL *out_Resource_6) {
	VAL v7 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	TUP* v8;
	VAL v9;
	VAL v10 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v7, &v8, &v9);
	VAL v11 = mw_mirth_type_Type_ZToResource(v9);
	*out_Resource_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_type_Resource_tyconZAsk (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	TUP* v6;
	VAL v7 = mw_mirth_type_Type_tyconZAsk(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static bool mw_mirth_type_Resource_canZ_ownZ_stateZAsk (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Resource_tyconZAsk(in_ZPlusMirth_1, in_Resource_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			bool v11 = mw_mirth_tycon_Tycon_canZ_ownZ_stateZAsk(v5, v9, &v10);
			branch_Bool_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			bool v12 = false;
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static VAL mw_mirth_type_Resource_exceptZ_field (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL in_Resource_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7;
	VAL v8 = mw_mirth_type_Type_exceptZ_field(in_ZPlusMirth_1, in_Label_2, in_Tag_3, in_Resource_4, &v7);
	*out_ZPlusMirth_5 = v7;
	return v8;
}
static VAL mw_mirth_type_Resource_ctype (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_ctype(in_ZPlusMirth_1, in_Resource_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_type_Resource_ctypeZAsk (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_Type_ctypeZAsk(in_ZPlusMirth_1, in_Resource_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_type_StackType_NewInCtx (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, VAL *out_StackType_6) {
	VAL v7 = mw_mirth_type_Type_STACK();
	TUP* v8;
	uint64_t v9;
	VAL v10 = mw_mirth_var_Var_NewInCtx(in_ZPlusMirth_1, in_Ctx_2, v7, in_Str_3, &v8, &v9);
	VAL v11 = mtw_mirth_type_StackType_Var(v9);
	*out_StackType_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_type_StackType_FreshZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	VAL v4 = mw_mirth_type_Kind_STACK();
	TUP* v5;
	uint64_t v6 = mw_mirth_type_MetaVar_NewZBang(in_ZPlusMirth_1, v4, &v5);
	VAL v7 = mtw_mirth_type_StackType_Meta(v6);
	*out_ZPlusMirth_2 = v5;
	return v7;
}
static VAL mw_mirth_type_Type_ZToStackType (VAL in_Type_1) {
	VAL branch_StackType_3;
	switch (get_data_tag(in_Type_1)) {
		case 0LL: { // Error
			VAL v4 = MKI64(0LL /* Error */);
			branch_StackType_3 = v4;
		} break;
		case 1LL: { // Ignore
			VAL v5 = MKI64(1LL /* Ignore */);
			branch_StackType_3 = v5;
		} break;
		case 5LL: { // Var
			uint64_t v6 = mtp_mirth_type_Type_Var(in_Type_1);
			VAL v7 = mtw_mirth_type_StackType_Var(v6);
			branch_StackType_3 = v7;
		} break;
		case 3LL: { // Meta
			uint64_t v8 = mtp_mirth_type_Type_Meta(in_Type_1);
			VAL v9 = mtw_mirth_type_StackType_Meta(v8);
			branch_StackType_3 = v9;
		} break;
		case 9LL: { // Stack
			VAL v10 = mtp_mirth_type_Type_Stack(in_Type_1);
			branch_StackType_3 = v10;
		} break;
		default: {
			STR* v11;
			STRLIT(v11, "kind error! expected stack type, got regular type.", 50);
			do_panic(v11);
		} break;
	}
	return branch_StackType_3;
}
static VAL mw_mirth_type_StackType_ZToType (VAL in_StackType_1) {
	VAL branch_Type_3;
	switch (get_data_tag(in_StackType_1)) {
		case 0LL: { // Error
			VAL v4 = MKI64(0LL /* Error */);
			branch_Type_3 = v4;
		} break;
		case 1LL: { // Ignore
			VAL v5 = MKI64(1LL /* Ignore */);
			branch_Type_3 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v6 = mtp_mirth_type_StackType_Var(in_StackType_1);
			VAL v7 = mtw_mirth_type_Type_Var(v6);
			branch_Type_3 = v7;
		} break;
		case 4LL: { // Meta
			uint64_t v8 = mtp_mirth_type_StackType_Meta(in_StackType_1);
			VAL v9 = mtw_mirth_type_Type_Meta(v8);
			branch_Type_3 = v9;
		} break;
		default: {
			VAL v10 = mtw_mirth_type_Type_Stack(in_StackType_1);
			branch_Type_3 = v10;
		} break;
	}
	return branch_Type_3;
}
static VAL mw_mirth_type_StackType_expand (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_StackType_6;
	switch (get_data_tag(in_StackType_2)) {
		case 4LL: { // Meta
			uint64_t v7 = mtp_mirth_type_StackType_Meta(in_StackType_2);
			TUP* v8;
			VAL v9 = mw_mirth_type_MetaVar_expand(in_ZPlusMirth_1, v7, &v8);
			VAL v10 = mw_mirth_type_Type_ZToStackType(v9);
			branch_StackType_6 = v10;
			branch_ZPlusMirth_5 = v8;
		} break;
		default: {
			branch_StackType_6 = in_StackType_2;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_StackType_6;
}
static bool mw_mirth_type_StackType_unitZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_StackType_2)) {
		case 2LL: { // Unit
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v8 = mtp_mirth_type_StackType_Meta(in_StackType_2);
			TUP* v9;
			bool v10 = mw_mirth_type_MetaVar_unitZ_stackZAsk(in_ZPlusMirth_1, v8, &v9);
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		default: {
			decref(in_StackType_2);
			bool v11 = false;
			branch_Bool_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static VAL mw_mirth_type_StackType_labelZ_names (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6 = mtw_std_either_Either_2_Right(in_StackType_2);
	bool v7 = true;
	VAL v8 = v5;
	TUP* v9 = in_ZPlusMirth_1;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		VAL v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		incref(v15);
		VAL v17 = mw_std_either_Either_2_rightZAsk(v15);
		VAL branch_List_18;
		TUP* branch_ZPlusMirth_19;
		VAL branch_Either_20;
		bool branch_Bool_21;
		switch (get_data_tag(v17)) {
			case 1LL: { // Some
				VAL v22 = mtp_std_maybe_Maybe_1_Some(v17);
				decref(v15);
				TUP* v23;
				VAL v24 = mw_mirth_type_StackType_expand(v14, v22, &v23);
				VAL branch_List_25;
				TUP* branch_ZPlusMirth_26;
				VAL branch_Either_27;
				switch (get_data_tag(v24)) {
					case 0LL: { // Error
						VAL v28 = MKI64(0LL /* Error */);
						VAL v29 = mtw_std_either_Either_2_Left(v28);
						branch_Either_27 = v29;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 1LL: { // Ignore
						VAL v30 = MKI64(1LL /* Ignore */);
						VAL v31 = mtw_std_either_Either_2_Left(v30);
						branch_Either_27 = v31;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 3LL: { // Var
						uint64_t v32 = mtp_mirth_type_StackType_Var(v24);
						VAL v33 = mtw_mirth_type_StackTypeBase_Var(v32);
						VAL v34 = mtw_std_either_Either_2_Left(v33);
						branch_Either_27 = v34;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 4LL: { // Meta
						uint64_t v35 = mtp_mirth_type_StackType_Meta(v24);
						VAL v36 = mtw_mirth_type_StackTypeBase_Meta(v35);
						VAL v37 = mtw_std_either_Either_2_Left(v36);
						branch_Either_27 = v37;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 2LL: { // Unit
						VAL v38 = MKI64(2LL /* Unit */);
						VAL v39 = mtw_std_either_Either_2_Left(v38);
						branch_Either_27 = v39;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 5LL: { // Cons
						VAL v40;
						VAL v41 = mtp_mirth_type_StackType_Cons(v24, &v40);
						decref(v40);
						VAL v42 = mtw_std_either_Either_2_Right(v41);
						branch_Either_27 = v42;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 7LL: { // With
						VAL v43;
						VAL v44 = mtp_mirth_type_StackType_With(v24, &v43);
						decref(v43);
						VAL v45 = mtw_std_either_Either_2_Right(v44);
						branch_Either_27 = v45;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v13;
					} break;
					case 6LL: { // ConsLabel
						VAL v46;
						uint64_t v47;
						VAL v48 = mtp_mirth_type_StackType_ConsLabel(v24, &v46, &v47);
						decref(v46);
						VAL v49 = mw_std_list_List_1_cons(MKU64(v47), v13);
						VAL v50 = mtw_std_either_Either_2_Right(v48);
						branch_Either_27 = v50;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v49;
					} break;
					case 8LL: { // WithLabel
						VAL v51;
						uint64_t v52;
						VAL v53 = mtp_mirth_type_StackType_WithLabel(v24, &v51, &v52);
						decref(v51);
						VAL v54 = mw_std_list_List_1_cons(MKU64(v52), v13);
						VAL v55 = mtw_std_either_Either_2_Right(v53);
						branch_Either_27 = v55;
						branch_ZPlusMirth_26 = v23;
						branch_List_25 = v54;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v56 = true;
				branch_Bool_21 = v56;
				branch_Either_20 = branch_Either_27;
				branch_ZPlusMirth_19 = branch_ZPlusMirth_26;
				branch_List_18 = branch_List_25;
			} break;
			case 0LL: { // None
				bool v57 = false;
				branch_Bool_21 = v57;
				branch_Either_20 = v15;
				branch_ZPlusMirth_19 = v14;
				branch_List_18 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_21;
		v11 = branch_Bool_21;
		v10 = branch_Either_20;
		v9 = branch_ZPlusMirth_19;
		v8 = branch_List_18;
	}
	VAL v58 = mw_std_either_Either_2_leftZAsk(v10);
	VAL v59 = mw_std_maybe_Maybe_1_unwrap_1_sp1(v58);
	decref(v59);
	*out_ZPlusMirth_3 = v9;
	return v8;
}
static VAL mw_mirth_type_StackType_split4 (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5, VAL *out_List_6, VAL *out_List_7) {
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10 = MKI64(0LL /* Nil */);
	VAL v11 = mtw_std_either_Either_2_Right(in_StackType_2);
	bool v12 = true;
	VAL v13 = v8;
	VAL v14 = v9;
	VAL v15 = v10;
	TUP* v16 = in_ZPlusMirth_1;
	VAL v17 = v11;
	bool v18 = v12;
	bool v19 = v12;
	while (v19) {
		VAL v20 = v13;
		VAL v21 = v14;
		VAL v22 = v15;
		TUP* v23 = v16;
		VAL v24 = v17;
		bool v25 = v18;
		incref(v24);
		VAL v26 = mw_std_either_Either_2_rightZAsk(v24);
		VAL branch_List_27;
		VAL branch_List_28;
		VAL branch_List_29;
		TUP* branch_ZPlusMirth_30;
		VAL branch_Either_31;
		bool branch_Bool_32;
		switch (get_data_tag(v26)) {
			case 1LL: { // Some
				VAL v33 = mtp_std_maybe_Maybe_1_Some(v26);
				decref(v24);
				TUP* v34;
				VAL v35 = mw_mirth_type_StackType_expand(v23, v33, &v34);
				VAL branch_List_36;
				VAL branch_List_37;
				VAL branch_List_38;
				TUP* branch_ZPlusMirth_39;
				VAL branch_Either_40;
				switch (get_data_tag(v35)) {
					case 0LL: { // Error
						VAL v41 = MKI64(0LL /* Error */);
						VAL v42 = mtw_std_either_Either_2_Left(v41);
						branch_Either_40 = v42;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 1LL: { // Ignore
						VAL v43 = MKI64(1LL /* Ignore */);
						VAL v44 = mtw_std_either_Either_2_Left(v43);
						branch_Either_40 = v44;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 3LL: { // Var
						uint64_t v45 = mtp_mirth_type_StackType_Var(v35);
						VAL v46 = mtw_mirth_type_StackTypeBase_Var(v45);
						VAL v47 = mtw_std_either_Either_2_Left(v46);
						branch_Either_40 = v47;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 4LL: { // Meta
						uint64_t v48 = mtp_mirth_type_StackType_Meta(v35);
						VAL v49 = mtw_mirth_type_StackTypeBase_Meta(v48);
						VAL v50 = mtw_std_either_Either_2_Left(v49);
						branch_Either_40 = v50;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 2LL: { // Unit
						VAL v51 = MKI64(2LL /* Unit */);
						VAL v52 = mtw_std_either_Either_2_Left(v51);
						branch_Either_40 = v52;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 5LL: { // Cons
						VAL v53;
						VAL v54 = mtp_mirth_type_StackType_Cons(v35, &v53);
						VAL v55 = mw_std_list_List_1_cons(v53, v22);
						VAL v56 = mtw_std_either_Either_2_Right(v54);
						branch_Either_40 = v56;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v55;
						branch_List_37 = v21;
						branch_List_36 = v20;
					} break;
					case 7LL: { // With
						VAL v57;
						VAL v58 = mtp_mirth_type_StackType_With(v35, &v57);
						VAL v59 = mw_std_list_List_1_cons(v57, v21);
						VAL v60 = mtw_std_either_Either_2_Right(v58);
						branch_Either_40 = v60;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v59;
						branch_List_36 = v20;
					} break;
					case 6LL: { // ConsLabel
						VAL v61;
						uint64_t v62;
						VAL v63 = mtp_mirth_type_StackType_ConsLabel(v35, &v61, &v62);
						VAL v64 = mtw_std_either_Either_2_Left(v61);
						TUP* v65 = tup_new(2);
						v65->size = 2;
						v65->cells[1] = MKU64(v62);
						v65->cells[0] = v64;
						VAL v66 = mw_std_list_List_1_cons(MKTUP(v65, 2), v20);
						VAL v67 = mtw_std_either_Either_2_Right(v63);
						branch_Either_40 = v67;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v66;
					} break;
					case 8LL: { // WithLabel
						VAL v68;
						uint64_t v69;
						VAL v70 = mtp_mirth_type_StackType_WithLabel(v35, &v68, &v69);
						VAL v71 = mtw_std_either_Either_2_Right(v68);
						TUP* v72 = tup_new(2);
						v72->size = 2;
						v72->cells[1] = MKU64(v69);
						v72->cells[0] = v71;
						VAL v73 = mw_std_list_List_1_cons(MKTUP(v72, 2), v20);
						VAL v74 = mtw_std_either_Either_2_Right(v70);
						branch_Either_40 = v74;
						branch_ZPlusMirth_39 = v34;
						branch_List_38 = v22;
						branch_List_37 = v21;
						branch_List_36 = v73;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v75 = true;
				branch_Bool_32 = v75;
				branch_Either_31 = branch_Either_40;
				branch_ZPlusMirth_30 = branch_ZPlusMirth_39;
				branch_List_29 = branch_List_38;
				branch_List_28 = branch_List_37;
				branch_List_27 = branch_List_36;
			} break;
			case 0LL: { // None
				bool v76 = false;
				branch_Bool_32 = v76;
				branch_Either_31 = v24;
				branch_ZPlusMirth_30 = v23;
				branch_List_29 = v22;
				branch_List_28 = v21;
				branch_List_27 = v20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_32;
		v18 = branch_Bool_32;
		v17 = branch_Either_31;
		v16 = branch_ZPlusMirth_30;
		v15 = branch_List_29;
		v14 = branch_List_28;
		v13 = branch_List_27;
	}
	VAL v77 = mw_std_either_Either_2_leftZAsk(v17);
	VAL v78 = mw_std_maybe_Maybe_1_unwrap_1_sp1(v77);
	*out_List_7 = v14;
	*out_List_6 = v15;
	*out_List_5 = v13;
	*out_ZPlusMirth_3 = v16;
	return v78;
}
static VAL mw_mirth_type_StackType_base (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mtw_std_either_Either_2_Right(in_StackType_2);
	bool v6 = true;
	TUP* v7 = in_ZPlusMirth_1;
	VAL v8 = v5;
	bool v9 = v6;
	bool v10 = v6;
	while (v10) {
		TUP* v11 = v7;
		VAL v12 = v8;
		bool v13 = v9;
		incref(v12);
		VAL v14 = mw_std_either_Either_2_rightZAsk(v12);
		TUP* branch_ZPlusMirth_15;
		VAL branch_Either_16;
		bool branch_Bool_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				decref(v12);
				TUP* v19;
				VAL v20 = mw_mirth_type_StackType_expand(v11, v18, &v19);
				TUP* branch_ZPlusMirth_21;
				VAL branch_Either_22;
				switch (get_data_tag(v20)) {
					case 0LL: { // Error
						VAL v23 = MKI64(0LL /* Error */);
						VAL v24 = mtw_std_either_Either_2_Left(v23);
						branch_Either_22 = v24;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 1LL: { // Ignore
						VAL v25 = MKI64(1LL /* Ignore */);
						VAL v26 = mtw_std_either_Either_2_Left(v25);
						branch_Either_22 = v26;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 3LL: { // Var
						uint64_t v27 = mtp_mirth_type_StackType_Var(v20);
						VAL v28 = mtw_mirth_type_StackTypeBase_Var(v27);
						VAL v29 = mtw_std_either_Either_2_Left(v28);
						branch_Either_22 = v29;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 4LL: { // Meta
						uint64_t v30 = mtp_mirth_type_StackType_Meta(v20);
						VAL v31 = mtw_mirth_type_StackTypeBase_Meta(v30);
						VAL v32 = mtw_std_either_Either_2_Left(v31);
						branch_Either_22 = v32;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 2LL: { // Unit
						VAL v33 = MKI64(2LL /* Unit */);
						VAL v34 = mtw_std_either_Either_2_Left(v33);
						branch_Either_22 = v34;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 5LL: { // Cons
						VAL v35;
						VAL v36 = mtp_mirth_type_StackType_Cons(v20, &v35);
						decref(v35);
						VAL v37 = mtw_std_either_Either_2_Right(v36);
						branch_Either_22 = v37;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 7LL: { // With
						VAL v38;
						VAL v39 = mtp_mirth_type_StackType_With(v20, &v38);
						decref(v38);
						VAL v40 = mtw_std_either_Either_2_Right(v39);
						branch_Either_22 = v40;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 6LL: { // ConsLabel
						VAL v41;
						uint64_t v42;
						VAL v43 = mtp_mirth_type_StackType_ConsLabel(v20, &v41, &v42);
						decref(v41);
						VAL v44 = mtw_std_either_Either_2_Right(v43);
						branch_Either_22 = v44;
						branch_ZPlusMirth_21 = v19;
					} break;
					case 8LL: { // WithLabel
						VAL v45;
						uint64_t v46;
						VAL v47 = mtp_mirth_type_StackType_WithLabel(v20, &v45, &v46);
						decref(v45);
						VAL v48 = mtw_std_either_Either_2_Right(v47);
						branch_Either_22 = v48;
						branch_ZPlusMirth_21 = v19;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v49 = true;
				branch_Bool_17 = v49;
				branch_Either_16 = branch_Either_22;
				branch_ZPlusMirth_15 = branch_ZPlusMirth_21;
			} break;
			case 0LL: { // None
				bool v50 = false;
				branch_Bool_17 = v50;
				branch_Either_16 = v12;
				branch_ZPlusMirth_15 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_17;
		v9 = branch_Bool_17;
		v8 = branch_Either_16;
		v7 = branch_ZPlusMirth_15;
	}
	VAL v51 = mw_std_either_Either_2_leftZAsk(v8);
	VAL v52 = mw_std_maybe_Maybe_1_unwrap_1_sp1(v51);
	*out_ZPlusMirth_3 = v7;
	return v52;
}
static VAL mw_mirth_type_StackType_labelZ_topZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v7)) {
		case 5LL: { // Cons
			VAL v10;
			VAL v11 = mtp_mirth_type_StackType_Cons(v7, &v10);
			decref(v10);
			TUP* v12;
			VAL v13 = mw_mirth_type_StackType_labelZ_topZAsk(v6, in_Label_2, v11, &v12);
			branch_Maybe_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 7LL: { // With
			VAL v14;
			VAL v15 = mtp_mirth_type_StackType_With(v7, &v14);
			decref(v14);
			TUP* v16;
			VAL v17 = mw_mirth_type_StackType_labelZ_topZAsk(v6, in_Label_2, v15, &v16);
			branch_Maybe_9 = v17;
			branch_ZPlusMirth_8 = v16;
		} break;
		case 6LL: { // ConsLabel
			VAL v18;
			uint64_t v19;
			VAL v20 = mtp_mirth_type_StackType_ConsLabel(v7, &v18, &v19);
			bool v21 = mw_mirth_label_Label_ZEqual(in_Label_2, v19);
			TUP* branch_ZPlusMirth_22;
			VAL branch_Maybe_23;
			if (v21) {
				decref(v20);
				VAL v24 = mtw_std_either_Either_2_Left(v18);
				VAL v25 = mtw_std_maybe_Maybe_1_Some(v24);
				branch_Maybe_23 = v25;
				branch_ZPlusMirth_22 = v6;
			} else {
				decref(v18);
				TUP* v26;
				VAL v27 = mw_mirth_type_StackType_labelZ_topZAsk(v6, in_Label_2, v20, &v26);
				branch_Maybe_23 = v27;
				branch_ZPlusMirth_22 = v26;
			}
			branch_Maybe_9 = branch_Maybe_23;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_22;
		} break;
		case 8LL: { // WithLabel
			VAL v28;
			uint64_t v29;
			VAL v30 = mtp_mirth_type_StackType_WithLabel(v7, &v28, &v29);
			bool v31 = mw_mirth_label_Label_ZEqual(in_Label_2, v29);
			TUP* branch_ZPlusMirth_32;
			VAL branch_Maybe_33;
			if (v31) {
				decref(v30);
				VAL v34 = mtw_std_either_Either_2_Right(v28);
				VAL v35 = mtw_std_maybe_Maybe_1_Some(v34);
				branch_Maybe_33 = v35;
				branch_ZPlusMirth_32 = v6;
			} else {
				decref(v28);
				TUP* v36;
				VAL v37 = mw_mirth_type_StackType_labelZ_topZAsk(v6, in_Label_2, v30, &v36);
				branch_Maybe_33 = v37;
				branch_ZPlusMirth_32 = v36;
			}
			branch_Maybe_9 = branch_Maybe_33;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_32;
		} break;
		default: {
			decref(v7);
			VAL v38 = MKI64(0LL /* None */);
			branch_Maybe_9 = v38;
			branch_ZPlusMirth_8 = v6;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static VAL mw_mirth_type_StackType_topZ_typeZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 7LL: { // With
			VAL v9;
			VAL v10 = mtp_mirth_type_StackType_With(v6, &v9);
			decref(v9);
			TUP* v11;
			VAL v12 = mw_mirth_type_StackType_topZ_typeZAsk(v5, v10, &v11);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 5LL: { // Cons
			VAL v13;
			VAL v14 = mtp_mirth_type_StackType_Cons(v6, &v13);
			decref(v14);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(v13);
			branch_Maybe_8 = v15;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 6LL: { // ConsLabel
			VAL v16;
			uint64_t v17;
			VAL v18 = mtp_mirth_type_StackType_ConsLabel(v6, &v16, &v17);
			decref(v16);
			TUP* v19;
			VAL v20 = mw_mirth_type_StackType_topZ_typeZAsk(v5, v18, &v19);
			branch_Maybe_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 8LL: { // WithLabel
			VAL v21;
			uint64_t v22;
			VAL v23 = mtp_mirth_type_StackType_WithLabel(v6, &v21, &v22);
			decref(v21);
			TUP* v24;
			VAL v25 = mw_mirth_type_StackType_topZ_typeZAsk(v5, v23, &v24);
			branch_Maybe_8 = v25;
			branch_ZPlusMirth_7 = v24;
		} break;
		default: {
			decref(v6);
			VAL v26 = MKI64(0LL /* None */);
			branch_Maybe_8 = v26;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_StackType_topZ_tyconZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_topZ_typeZAsk(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			VAL v11 = mw_mirth_type_Type_tyconZAsk(v5, v9, &v10);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			VAL v12 = MKI64(0LL /* None */);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_StackType_topZ_resourceZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 7LL: { // With
			VAL v9;
			VAL v10 = mtp_mirth_type_StackType_With(v6, &v9);
			decref(v10);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 5LL: { // Cons
			VAL v12;
			VAL v13 = mtp_mirth_type_StackType_Cons(v6, &v12);
			decref(v12);
			TUP* v14;
			VAL v15 = mw_mirth_type_StackType_topZ_resourceZAsk(v5, v13, &v14);
			branch_Maybe_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 6LL: { // ConsLabel
			VAL v16;
			uint64_t v17;
			VAL v18 = mtp_mirth_type_StackType_ConsLabel(v6, &v16, &v17);
			decref(v16);
			TUP* v19;
			VAL v20 = mw_mirth_type_StackType_topZ_resourceZAsk(v5, v18, &v19);
			branch_Maybe_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 8LL: { // WithLabel
			VAL v21;
			uint64_t v22;
			VAL v23 = mtp_mirth_type_StackType_WithLabel(v6, &v21, &v22);
			decref(v21);
			TUP* v24;
			VAL v25 = mw_mirth_type_StackType_topZ_resourceZAsk(v5, v23, &v24);
			branch_Maybe_8 = v25;
			branch_ZPlusMirth_7 = v24;
		} break;
		default: {
			decref(v6);
			VAL v26 = MKI64(0LL /* None */);
			branch_Maybe_8 = v26;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_topZ_resourceZAsk(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			VAL v10 = mw_mirth_type_Resource_ZToType(v9);
			TUP* v11;
			VAL v12 = mw_mirth_type_Type_tyconZAsk(v5, v10, &v11);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_StackType_topZ_resourceZ_tycons (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	bool v6 = true;
	VAL v7 = v5;
	TUP* v8 = in_ZPlusMirth_1;
	VAL v9 = in_StackType_2;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		VAL v12 = v7;
		TUP* v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		TUP* v16;
		VAL v17 = mw_mirth_type_StackType_expand(v13, v14, &v16);
		VAL branch_StackType_18;
		TUP* branch_ZPlusMirth_19;
		VAL branch_List_20;
		bool branch_Bool_21;
		switch (get_data_tag(v17)) {
			case 7LL: { // With
				VAL v22;
				VAL v23 = mtp_mirth_type_StackType_With(v17, &v22);
				VAL v24 = mw_mirth_type_Resource_ZToType(v22);
				TUP* v25;
				VAL v26 = mw_mirth_type_Type_tyconZAsk(v16, v24, &v25);
				VAL branch_List_27;
				bool branch_Bool_28;
				switch (get_data_tag(v26)) {
					case 1LL: { // Some
						VAL v29 = mtp_std_maybe_Maybe_1_Some(v26);
						VAL v30 = mw_std_list_List_1_cons(v29, v12);
						bool v31 = true;
						branch_Bool_28 = v31;
						branch_List_27 = v30;
					} break;
					case 0LL: { // None
						bool v32 = false;
						branch_Bool_28 = v32;
						branch_List_27 = v12;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Bool_21 = branch_Bool_28;
				branch_List_20 = branch_List_27;
				branch_ZPlusMirth_19 = v25;
				branch_StackType_18 = v23;
			} break;
			case 5LL: { // Cons
				VAL v33;
				VAL v34 = mtp_mirth_type_StackType_Cons(v17, &v33);
				decref(v33);
				bool v35 = true;
				branch_Bool_21 = v35;
				branch_List_20 = v12;
				branch_ZPlusMirth_19 = v16;
				branch_StackType_18 = v34;
			} break;
			case 8LL: { // WithLabel
				VAL v36;
				uint64_t v37;
				VAL v38 = mtp_mirth_type_StackType_WithLabel(v17, &v36, &v37);
				decref(v36);
				bool v39 = true;
				branch_Bool_21 = v39;
				branch_List_20 = v12;
				branch_ZPlusMirth_19 = v16;
				branch_StackType_18 = v38;
			} break;
			case 6LL: { // ConsLabel
				VAL v40;
				uint64_t v41;
				VAL v42 = mtp_mirth_type_StackType_ConsLabel(v17, &v40, &v41);
				decref(v40);
				bool v43 = true;
				branch_Bool_21 = v43;
				branch_List_20 = v12;
				branch_ZPlusMirth_19 = v16;
				branch_StackType_18 = v42;
			} break;
			default: {
				bool v44 = false;
				branch_Bool_21 = v44;
				branch_List_20 = v12;
				branch_ZPlusMirth_19 = v16;
				branch_StackType_18 = v17;
			} break;
		}
		v11 = branch_Bool_21;
		v10 = branch_Bool_21;
		v9 = branch_StackType_18;
		v8 = branch_ZPlusMirth_19;
		v7 = branch_List_20;
	}
	decref(v9);
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static VAL mw_mirth_type_StackType_topZ_namespaces (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6;
	mw_std_list_List_1_buildZBang(v5, &v6);
	incref(in_StackType_2);
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_topZ_tyconZAsk(in_ZPlusMirth_1, in_StackType_2, &v7);
	VAL branch_ZPlusLister_9;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v11 = mtw_mirth_name_Namespace_Tycon(v10);
			VAL v12;
			mw_std_list_ZPlusLister_1_pushZBang(v11, v6, &v12);
			branch_ZPlusLister_9 = v12;
		} break;
		case 0LL: { // None
			branch_ZPlusLister_9 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v13;
	VAL v14 = mw_mirth_type_StackType_topZ_resourceZ_tycons(v7, in_StackType_2, &v13);
	bool v15 = true;
	VAL v16 = branch_ZPlusLister_9;
	VAL v17 = v14;
	bool v18 = v15;
	bool v19 = v15;
	while (v19) {
		VAL v20 = v16;
		VAL v21 = v17;
		bool v22 = v18;
		VAL branch_ZPlusLister_23;
		VAL branch_List_24;
		bool branch_Bool_25;
		switch (get_data_tag(v21)) {
			case 1LL: { // Cons
				VAL v26;
				VAL v27 = mtp_std_list_List_1_Cons(v21, &v26);
				VAL v28 = mtw_mirth_name_Namespace_Tycon(v27);
				VAL v29;
				mw_std_list_ZPlusLister_1_pushZBang(v28, v20, &v29);
				bool v30 = true;
				branch_Bool_25 = v30;
				branch_List_24 = v26;
				branch_ZPlusLister_23 = v29;
			} break;
			case 0LL: { // Nil
				VAL v31 = MKI64(0LL /* Nil */);
				bool v32 = false;
				branch_Bool_25 = v32;
				branch_List_24 = v31;
				branch_ZPlusLister_23 = v20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_25;
		v18 = branch_Bool_25;
		v17 = branch_List_24;
		v16 = branch_ZPlusLister_23;
	}
	decref(v17);
	VAL v33 = mw_std_list_ZPlusLister_1_doneZBang(v16);
	*out_ZPlusMirth_3 = v13;
	return v33;
}
static bool mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	incref(in_StackType_2);
	TUP* v5;
	bool v6 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(in_ZPlusMirth_1, in_StackType_2, &v5);
	VAL branch_StackType_7;
	TUP* branch_ZPlusMirth_8;
	bool branch_Bool_9;
	if (v6) {
		incref(in_StackType_2);
		TUP* v10;
		bool v11 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v5, in_StackType_2, &v10);
		branch_Bool_9 = v11;
		branch_ZPlusMirth_8 = v10;
		branch_StackType_7 = in_StackType_2;
	} else {
		bool v12 = false;
		branch_Bool_9 = v12;
		branch_ZPlusMirth_8 = v5;
		branch_StackType_7 = in_StackType_2;
	}
	decref(branch_StackType_7);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_Bool_9;
}
static bool mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (get_data_tag(v6)) {
		case 5LL: { // Cons
			VAL v9;
			VAL v10 = mtp_mirth_type_StackType_Cons(v6, &v9);
			decref(v10);
			TUP* v11;
			bool v12 = mw_mirth_type_Type_errorZAsk(v5, v9, &v11);
			bool v13 = !v12;
			branch_Bool_8 = v13;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 6LL: { // ConsLabel
			VAL v14;
			uint64_t v15;
			VAL v16 = mtp_mirth_type_StackType_ConsLabel(v6, &v14, &v15);
			decref(v14);
			TUP* v17;
			bool v18 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v5, v16, &v17);
			branch_Bool_8 = v18;
			branch_ZPlusMirth_7 = v17;
		} break;
		case 7LL: { // With
			VAL v19;
			VAL v20 = mtp_mirth_type_StackType_With(v6, &v19);
			decref(v19);
			TUP* v21;
			bool v22 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v5, v20, &v21);
			branch_Bool_8 = v22;
			branch_ZPlusMirth_7 = v21;
		} break;
		case 8LL: { // WithLabel
			VAL v23;
			uint64_t v24;
			VAL v25 = mtp_mirth_type_StackType_WithLabel(v6, &v23, &v24);
			decref(v23);
			TUP* v26;
			bool v27 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v5, v25, &v26);
			branch_Bool_8 = v27;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 4LL: { // Meta
			uint64_t v28 = mtp_mirth_type_StackType_Meta(v6);
			bool v29 = true;
			branch_Bool_8 = v29;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v30 = mtp_mirth_type_StackType_Var(v6);
			bool v31 = true;
			branch_Bool_8 = v31;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			bool v32 = true;
			branch_Bool_8 = v32;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // Error
			bool v33 = false;
			branch_Bool_8 = v33;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			bool v34 = false;
			branch_Bool_8 = v34;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static bool mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (get_data_tag(v6)) {
		case 5LL: { // Cons
			VAL v9;
			VAL v10 = mtp_mirth_type_StackType_Cons(v6, &v9);
			decref(v9);
			TUP* v11;
			bool v12 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v5, v10, &v11);
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 6LL: { // ConsLabel
			VAL v13;
			uint64_t v14;
			VAL v15 = mtp_mirth_type_StackType_ConsLabel(v6, &v13, &v14);
			decref(v13);
			TUP* v16;
			bool v17 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v5, v15, &v16);
			branch_Bool_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 7LL: { // With
			VAL v18;
			VAL v19 = mtp_mirth_type_StackType_With(v6, &v18);
			decref(v19);
			TUP* v20;
			bool v21 = mw_mirth_type_Type_errorZAsk(v5, v18, &v20);
			bool v22 = !v21;
			branch_Bool_8 = v22;
			branch_ZPlusMirth_7 = v20;
		} break;
		case 8LL: { // WithLabel
			VAL v23;
			uint64_t v24;
			VAL v25 = mtp_mirth_type_StackType_WithLabel(v6, &v23, &v24);
			decref(v23);
			TUP* v26;
			bool v27 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v5, v25, &v26);
			branch_Bool_8 = v27;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 4LL: { // Meta
			uint64_t v28 = mtp_mirth_type_StackType_Meta(v6);
			bool v29 = true;
			branch_Bool_8 = v29;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v30 = mtp_mirth_type_StackType_Var(v6);
			bool v31 = true;
			branch_Bool_8 = v31;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			bool v32 = true;
			branch_Bool_8 = v32;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // Error
			bool v33 = false;
			branch_Bool_8 = v33;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			bool v34 = false;
			branch_Bool_8 = v34;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static bool mw_mirth_type_StackType_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(in_StackType_3)) {
		case 4LL: { // Meta
			uint64_t v8 = mtp_mirth_type_StackType_Meta(in_StackType_3);
			TUP* v9;
			bool v10 = mw_mirth_type_MetaVar_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v8, &v9);
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // Error
			bool v11 = false;
			branch_Bool_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v12 = false;
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Var
			uint64_t v13 = mtp_mirth_type_StackType_Var(in_StackType_3);
			bool v14 = false;
			branch_Bool_7 = v14;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			bool v15 = false;
			branch_Bool_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			VAL v16;
			VAL v17 = mtp_mirth_type_StackType_Cons(in_StackType_3, &v16);
			TUP* v18;
			bool v19 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v16, &v18);
			TUP* branch_ZPlusMirth_20;
			bool branch_Bool_21;
			if (v19) {
				decref(v17);
				bool v22 = true;
				branch_Bool_21 = v22;
				branch_ZPlusMirth_20 = v18;
			} else {
				TUP* v23;
				bool v24 = mw_mirth_type_StackType_hasZ_metaZAsk(v18, in_MetaVar_2, v17, &v23);
				branch_Bool_21 = v24;
				branch_ZPlusMirth_20 = v23;
			}
			branch_Bool_7 = branch_Bool_21;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_20;
		} break;
		case 6LL: { // ConsLabel
			VAL v25;
			uint64_t v26;
			VAL v27 = mtp_mirth_type_StackType_ConsLabel(in_StackType_3, &v25, &v26);
			TUP* v28;
			bool v29 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v25, &v28);
			TUP* branch_ZPlusMirth_30;
			bool branch_Bool_31;
			if (v29) {
				decref(v27);
				bool v32 = true;
				branch_Bool_31 = v32;
				branch_ZPlusMirth_30 = v28;
			} else {
				TUP* v33;
				bool v34 = mw_mirth_type_StackType_hasZ_metaZAsk(v28, in_MetaVar_2, v27, &v33);
				branch_Bool_31 = v34;
				branch_ZPlusMirth_30 = v33;
			}
			branch_Bool_7 = branch_Bool_31;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_30;
		} break;
		case 7LL: { // With
			VAL v35;
			VAL v36 = mtp_mirth_type_StackType_With(in_StackType_3, &v35);
			TUP* v37;
			bool v38 = mw_mirth_type_Resource_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v35, &v37);
			TUP* branch_ZPlusMirth_39;
			bool branch_Bool_40;
			if (v38) {
				decref(v36);
				bool v41 = true;
				branch_Bool_40 = v41;
				branch_ZPlusMirth_39 = v37;
			} else {
				TUP* v42;
				bool v43 = mw_mirth_type_StackType_hasZ_metaZAsk(v37, in_MetaVar_2, v36, &v42);
				branch_Bool_40 = v43;
				branch_ZPlusMirth_39 = v42;
			}
			branch_Bool_7 = branch_Bool_40;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_39;
		} break;
		case 8LL: { // WithLabel
			VAL v44;
			uint64_t v45;
			VAL v46 = mtp_mirth_type_StackType_WithLabel(in_StackType_3, &v44, &v45);
			TUP* v47;
			bool v48 = mw_mirth_type_Resource_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v44, &v47);
			TUP* branch_ZPlusMirth_49;
			bool branch_Bool_50;
			if (v48) {
				decref(v46);
				bool v51 = true;
				branch_Bool_50 = v51;
				branch_ZPlusMirth_49 = v47;
			} else {
				TUP* v52;
				bool v53 = mw_mirth_type_StackType_hasZ_metaZAsk(v47, in_MetaVar_2, v46, &v52);
				branch_Bool_50 = v53;
				branch_ZPlusMirth_49 = v52;
			}
			branch_Bool_7 = branch_Bool_50;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_49;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_type_StackType_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(in_StackType_3)) {
		case 0LL: { // Error
			bool v8 = false;
			branch_Bool_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v9 = false;
			branch_Bool_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			bool v10 = false;
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v11 = mtp_mirth_type_StackType_Meta(in_StackType_3);
			TUP* v12;
			bool v13 = mw_mirth_type_MetaVar_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v11, &v12);
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 3LL: { // Var
			uint64_t v14 = mtp_mirth_type_StackType_Var(in_StackType_3);
			uint64_t v15 = mw_mirth_var_Var_index(in_Var_2);
			uint64_t v16 = mw_mirth_var_Var_index(v14);
			bool v17 = (v15 == v16);
			branch_Bool_7 = v17;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			VAL v18;
			VAL v19 = mtp_mirth_type_StackType_Cons(in_StackType_3, &v18);
			TUP* v20;
			bool v21 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v18, &v20);
			TUP* branch_ZPlusMirth_22;
			bool branch_Bool_23;
			if (v21) {
				decref(v19);
				bool v24 = true;
				branch_Bool_23 = v24;
				branch_ZPlusMirth_22 = v20;
			} else {
				TUP* v25;
				bool v26 = mw_mirth_type_StackType_hasZ_varZAsk(v20, in_Var_2, v19, &v25);
				branch_Bool_23 = v26;
				branch_ZPlusMirth_22 = v25;
			}
			branch_Bool_7 = branch_Bool_23;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_22;
		} break;
		case 7LL: { // With
			VAL v27;
			VAL v28 = mtp_mirth_type_StackType_With(in_StackType_3, &v27);
			TUP* v29;
			bool v30 = mw_mirth_type_Resource_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v27, &v29);
			TUP* branch_ZPlusMirth_31;
			bool branch_Bool_32;
			if (v30) {
				decref(v28);
				bool v33 = true;
				branch_Bool_32 = v33;
				branch_ZPlusMirth_31 = v29;
			} else {
				TUP* v34;
				bool v35 = mw_mirth_type_StackType_hasZ_varZAsk(v29, in_Var_2, v28, &v34);
				branch_Bool_32 = v35;
				branch_ZPlusMirth_31 = v34;
			}
			branch_Bool_7 = branch_Bool_32;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_31;
		} break;
		case 6LL: { // ConsLabel
			VAL v36;
			uint64_t v37;
			VAL v38 = mtp_mirth_type_StackType_ConsLabel(in_StackType_3, &v36, &v37);
			TUP* v39;
			bool v40 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v36, &v39);
			TUP* branch_ZPlusMirth_41;
			bool branch_Bool_42;
			if (v40) {
				decref(v38);
				bool v43 = true;
				branch_Bool_42 = v43;
				branch_ZPlusMirth_41 = v39;
			} else {
				TUP* v44;
				bool v45 = mw_mirth_type_StackType_hasZ_varZAsk(v39, in_Var_2, v38, &v44);
				branch_Bool_42 = v45;
				branch_ZPlusMirth_41 = v44;
			}
			branch_Bool_7 = branch_Bool_42;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_41;
		} break;
		case 8LL: { // WithLabel
			VAL v46;
			uint64_t v47;
			VAL v48 = mtp_mirth_type_StackType_WithLabel(in_StackType_3, &v46, &v47);
			TUP* v49;
			bool v50 = mw_mirth_type_Resource_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v46, &v49);
			TUP* branch_ZPlusMirth_51;
			bool branch_Bool_52;
			if (v50) {
				decref(v48);
				bool v53 = true;
				branch_Bool_52 = v53;
				branch_ZPlusMirth_51 = v49;
			} else {
				TUP* v54;
				bool v55 = mw_mirth_type_StackType_hasZ_varZAsk(v49, in_Var_2, v48, &v54);
				branch_Bool_52 = v55;
				branch_ZPlusMirth_51 = v54;
			}
			branch_Bool_7 = branch_Bool_52;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_51;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static VAL mw_mirth_type_StackType_unifyZ_failedZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4) {
	VAL v6 = mw_mirth_type_StackType_ZToType(in_StackType_2);
	VAL v7 = mw_mirth_type_StackType_ZToType(in_StackType_3);
	TUP* v8;
	VAL v9 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, v6, v7, &v8);
	VAL v10 = mw_mirth_type_Type_ZToStackType(v9);
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_type_StackType_unifyZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_StackType_9;
	switch (get_data_tag(v7)) {
		case 0LL: { // Error
			TUP* v10;
			VAL v11 = mw_mirth_type_StackType_unifyZ_errorZBang(v6, in_StackType_3, &v10);
			branch_StackType_9 = v11;
			branch_ZPlusMirth_8 = v10;
		} break;
		case 1LL: { // Ignore
			branch_StackType_9 = in_StackType_3;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 4LL: { // Meta
			uint64_t v12 = mtp_mirth_type_StackType_Meta(v7);
			TUP* v13;
			VAL v14 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v13);
			TUP* branch_ZPlusMirth_15;
			VAL branch_StackType_16;
			switch (get_data_tag(v14)) {
				case 0LL: { // Error
					VAL v17 = mtw_mirth_type_StackType_Meta(v12);
					TUP* v18;
					VAL v19 = mw_mirth_type_StackType_unifyZ_errorZBang(v13, v17, &v18);
					branch_StackType_16 = v19;
					branch_ZPlusMirth_15 = v18;
				} break;
				case 1LL: { // Ignore
					VAL v20 = mtw_mirth_type_StackType_Meta(v12);
					branch_StackType_16 = v20;
					branch_ZPlusMirth_15 = v13;
				} break;
				case 4LL: { // Meta
					uint64_t v21 = mtp_mirth_type_StackType_Meta(v14);
					VAL v22 = mtw_mirth_type_Type_Meta(v12);
					TUP* v23;
					VAL v24 = mw_mirth_type_MetaVar_unifyZBang(v13, v22, v21, &v23);
					VAL v25 = mw_mirth_type_Type_ZToStackType(v24);
					branch_StackType_16 = v25;
					branch_ZPlusMirth_15 = v23;
				} break;
				default: {
					VAL v26 = mw_mirth_type_StackType_ZToType(v14);
					TUP* v27;
					VAL v28 = mw_mirth_type_MetaVar_unifyZBang(v13, v26, v12, &v27);
					VAL v29 = mw_mirth_type_Type_ZToStackType(v28);
					branch_StackType_16 = v29;
					branch_ZPlusMirth_15 = v27;
				} break;
			}
			branch_StackType_9 = branch_StackType_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
		} break;
		case 3LL: { // Var
			uint64_t v30 = mtp_mirth_type_StackType_Var(v7);
			TUP* v31;
			VAL v32 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v31);
			TUP* branch_ZPlusMirth_33;
			VAL branch_StackType_34;
			switch (get_data_tag(v32)) {
				case 0LL: { // Error
					VAL v35 = MKI64(0LL /* Error */);
					branch_StackType_34 = v35;
					branch_ZPlusMirth_33 = v31;
				} break;
				case 1LL: { // Ignore
					VAL v36 = mtw_mirth_type_StackType_Var(v30);
					branch_StackType_34 = v36;
					branch_ZPlusMirth_33 = v31;
				} break;
				case 4LL: { // Meta
					uint64_t v37 = mtp_mirth_type_StackType_Meta(v32);
					VAL v38 = mtw_mirth_type_Type_Var(v30);
					TUP* v39;
					VAL v40 = mw_mirth_type_MetaVar_unifyZBang(v31, v38, v37, &v39);
					VAL v41 = mw_mirth_type_Type_ZToStackType(v40);
					branch_StackType_34 = v41;
					branch_ZPlusMirth_33 = v39;
				} break;
				case 3LL: { // Var
					uint64_t v42 = mtp_mirth_type_StackType_Var(v32);
					TUP* v43;
					VAL v44 = mw_mirth_var_Var_unifyZBang(v31, v30, v42, &v43);
					VAL v45 = mw_mirth_type_Type_ZToStackType(v44);
					branch_StackType_34 = v45;
					branch_ZPlusMirth_33 = v43;
				} break;
				default: {
					VAL v46 = mtw_mirth_type_StackType_Var(v30);
					TUP* v47;
					VAL v48 = mw_mirth_type_StackType_unifyZ_failedZBang(v31, v46, v32, &v47);
					branch_StackType_34 = v48;
					branch_ZPlusMirth_33 = v47;
				} break;
			}
			branch_StackType_9 = branch_StackType_34;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_33;
		} break;
		case 2LL: { // Unit
			TUP* v49;
			VAL v50 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v49);
			TUP* branch_ZPlusMirth_51;
			VAL branch_StackType_52;
			switch (get_data_tag(v50)) {
				case 0LL: { // Error
					VAL v53 = MKI64(0LL /* Error */);
					branch_StackType_52 = v53;
					branch_ZPlusMirth_51 = v49;
				} break;
				case 4LL: { // Meta
					uint64_t v54 = mtp_mirth_type_StackType_Meta(v50);
					VAL v55 = MKI64(2LL /* Unit */);
					VAL v56 = mw_mirth_type_StackType_ZToType(v55);
					TUP* v57;
					VAL v58 = mw_mirth_type_MetaVar_unifyZBang(v49, v56, v54, &v57);
					VAL v59 = mw_mirth_type_Type_ZToStackType(v58);
					branch_StackType_52 = v59;
					branch_ZPlusMirth_51 = v57;
				} break;
				case 1LL: { // Ignore
					VAL v60 = MKI64(2LL /* Unit */);
					branch_StackType_52 = v60;
					branch_ZPlusMirth_51 = v49;
				} break;
				case 2LL: { // Unit
					VAL v61 = MKI64(2LL /* Unit */);
					branch_StackType_52 = v61;
					branch_ZPlusMirth_51 = v49;
				} break;
				default: {
					VAL v62 = MKI64(2LL /* Unit */);
					TUP* v63;
					VAL v64 = mw_mirth_type_StackType_unifyZ_failedZBang(v49, v50, v62, &v63);
					branch_StackType_52 = v64;
					branch_ZPlusMirth_51 = v63;
				} break;
			}
			branch_StackType_9 = branch_StackType_52;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_51;
		} break;
		case 5LL: { // Cons
			VAL v65;
			VAL v66 = mtp_mirth_type_StackType_Cons(v7, &v65);
			TUP* v67;
			VAL v68 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v67);
			TUP* branch_ZPlusMirth_69;
			VAL branch_StackType_70;
			switch (get_data_tag(v68)) {
				case 0LL: { // Error
					VAL v71 = mtw_mirth_type_StackType_Cons(v66, v65);
					TUP* v72;
					VAL v73 = mw_mirth_type_StackType_unifyZ_errorZBang(v67, v71, &v72);
					branch_StackType_70 = v73;
					branch_ZPlusMirth_69 = v72;
				} break;
				case 4LL: { // Meta
					uint64_t v74 = mtp_mirth_type_StackType_Meta(v68);
					VAL v75 = mtw_mirth_type_StackType_Cons(v66, v65);
					VAL v76 = mw_mirth_type_StackType_ZToType(v75);
					TUP* v77;
					VAL v78 = mw_mirth_type_MetaVar_unifyZBang(v67, v76, v74, &v77);
					VAL v79 = mw_mirth_type_Type_ZToStackType(v78);
					branch_StackType_70 = v79;
					branch_ZPlusMirth_69 = v77;
				} break;
				case 1LL: { // Ignore
					VAL v80 = mtw_mirth_type_StackType_Cons(v66, v65);
					branch_StackType_70 = v80;
					branch_ZPlusMirth_69 = v67;
				} break;
				default: {
					incref(v68);
					TUP* v81;
					VAL v82 = mw_mirth_type_StackType_forceZ_consZAskZBang(v67, v68, &v81);
					TUP* branch_ZPlusMirth_83;
					VAL branch_StackType_84;
					switch (get_data_tag(v82)) {
						case 1LL: { // Some
							VAL v85 = mtp_std_maybe_Maybe_1_Some(v82);
							decref(v68);
							VAL v86 = value_tup(v85, 2)->cells[0];
							VAL v87 = value_tup(v85, 2)->cells[1];
							tup_decref_outer(value_tup(v85, 2),2);
							TUP* v88;
							VAL v89 = mw_mirth_type_StackType_unifyZBang(v81, v66, v86, &v88);
							TUP* v90;
							VAL v91 = mw_mirth_type_Type_unifyZBang(v88, v65, v87, &v90);
							VAL v92 = mtw_mirth_type_StackType_Cons(v89, v91);
							branch_StackType_84 = v92;
							branch_ZPlusMirth_83 = v90;
						} break;
						case 0LL: { // None
							VAL v93 = mtw_mirth_type_StackType_Cons(v66, v65);
							TUP* v94;
							VAL v95 = mw_mirth_type_StackType_unifyZ_failedZBang(v81, v93, v68, &v94);
							branch_StackType_84 = v95;
							branch_ZPlusMirth_83 = v94;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_70 = branch_StackType_84;
					branch_ZPlusMirth_69 = branch_ZPlusMirth_83;
				} break;
			}
			branch_StackType_9 = branch_StackType_70;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_69;
		} break;
		case 7LL: { // With
			VAL v96;
			VAL v97 = mtp_mirth_type_StackType_With(v7, &v96);
			TUP* v98;
			VAL v99 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v98);
			TUP* branch_ZPlusMirth_100;
			VAL branch_StackType_101;
			switch (get_data_tag(v99)) {
				case 0LL: { // Error
					VAL v102 = mtw_mirth_type_StackType_With(v97, v96);
					TUP* v103;
					VAL v104 = mw_mirth_type_StackType_unifyZ_errorZBang(v98, v102, &v103);
					branch_StackType_101 = v104;
					branch_ZPlusMirth_100 = v103;
				} break;
				case 4LL: { // Meta
					uint64_t v105 = mtp_mirth_type_StackType_Meta(v99);
					VAL v106 = mtw_mirth_type_StackType_With(v97, v96);
					VAL v107 = mw_mirth_type_StackType_ZToType(v106);
					TUP* v108;
					VAL v109 = mw_mirth_type_MetaVar_unifyZBang(v98, v107, v105, &v108);
					VAL v110 = mw_mirth_type_Type_ZToStackType(v109);
					branch_StackType_101 = v110;
					branch_ZPlusMirth_100 = v108;
				} break;
				case 1LL: { // Ignore
					VAL v111 = mtw_mirth_type_StackType_With(v97, v96);
					branch_StackType_101 = v111;
					branch_ZPlusMirth_100 = v98;
				} break;
				default: {
					incref(v99);
					TUP* v112;
					VAL v113 = mw_mirth_type_StackType_forceZ_withZAskZBang(v98, v99, &v112);
					TUP* branch_ZPlusMirth_114;
					VAL branch_StackType_115;
					switch (get_data_tag(v113)) {
						case 1LL: { // Some
							VAL v116 = mtp_std_maybe_Maybe_1_Some(v113);
							decref(v99);
							VAL v117 = value_tup(v116, 2)->cells[0];
							VAL v118 = value_tup(v116, 2)->cells[1];
							tup_decref_outer(value_tup(v116, 2),2);
							TUP* v119;
							VAL v120 = mw_mirth_type_StackType_unifyZBang(v112, v97, v117, &v119);
							TUP* v121;
							VAL v122 = mw_mirth_type_Resource_unifyZBang(v119, v96, v118, &v121);
							VAL v123 = mtw_mirth_type_StackType_With(v120, v122);
							branch_StackType_115 = v123;
							branch_ZPlusMirth_114 = v121;
						} break;
						case 0LL: { // None
							VAL v124 = mtw_mirth_type_StackType_With(v97, v96);
							TUP* v125;
							VAL v126 = mw_mirth_type_StackType_unifyZ_failedZBang(v112, v124, v99, &v125);
							branch_StackType_115 = v126;
							branch_ZPlusMirth_114 = v125;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_101 = branch_StackType_115;
					branch_ZPlusMirth_100 = branch_ZPlusMirth_114;
				} break;
			}
			branch_StackType_9 = branch_StackType_101;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_100;
		} break;
		case 6LL: { // ConsLabel
			VAL v127;
			uint64_t v128;
			VAL v129 = mtp_mirth_type_StackType_ConsLabel(v7, &v127, &v128);
			TUP* v130;
			VAL v131 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v130);
			TUP* branch_ZPlusMirth_132;
			VAL branch_StackType_133;
			switch (get_data_tag(v131)) {
				case 0LL: { // Error
					VAL v134 = mtw_mirth_type_StackType_ConsLabel(v129, v127, v128);
					TUP* v135;
					VAL v136 = mw_mirth_type_StackType_unifyZ_errorZBang(v130, v134, &v135);
					branch_StackType_133 = v136;
					branch_ZPlusMirth_132 = v135;
				} break;
				case 4LL: { // Meta
					uint64_t v137 = mtp_mirth_type_StackType_Meta(v131);
					VAL v138 = mtw_mirth_type_StackType_ConsLabel(v129, v127, v128);
					VAL v139 = mw_mirth_type_StackType_ZToType(v138);
					TUP* v140;
					VAL v141 = mw_mirth_type_MetaVar_unifyZBang(v130, v139, v137, &v140);
					VAL v142 = mw_mirth_type_Type_ZToStackType(v141);
					branch_StackType_133 = v142;
					branch_ZPlusMirth_132 = v140;
				} break;
				case 1LL: { // Ignore
					VAL v143 = mtw_mirth_type_StackType_ConsLabel(v129, v127, v128);
					branch_StackType_133 = v143;
					branch_ZPlusMirth_132 = v130;
				} break;
				default: {
					incref(v131);
					TUP* v144;
					VAL v145 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v130, v128, v131, &v144);
					TUP* branch_ZPlusMirth_146;
					VAL branch_StackType_147;
					switch (get_data_tag(v145)) {
						case 1LL: { // Some
							VAL v148 = mtp_std_maybe_Maybe_1_Some(v145);
							decref(v131);
							VAL v149 = value_tup(v148, 2)->cells[0];
							VAL v150 = value_tup(v148, 2)->cells[1];
							tup_decref_outer(value_tup(v148, 2),2);
							TUP* v151;
							VAL v152 = mw_mirth_type_StackType_unifyZBang(v144, v129, v149, &v151);
							TUP* v153;
							VAL v154 = mw_mirth_type_Type_unifyZBang(v151, v127, v150, &v153);
							VAL v155 = mtw_mirth_type_StackType_ConsLabel(v152, v154, v128);
							branch_StackType_147 = v155;
							branch_ZPlusMirth_146 = v153;
						} break;
						case 0LL: { // None
							VAL v156 = mtw_mirth_type_StackType_ConsLabel(v129, v127, v128);
							TUP* v157;
							VAL v158 = mw_mirth_type_StackType_unifyZ_failedZBang(v144, v156, v131, &v157);
							branch_StackType_147 = v158;
							branch_ZPlusMirth_146 = v157;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_133 = branch_StackType_147;
					branch_ZPlusMirth_132 = branch_ZPlusMirth_146;
				} break;
			}
			branch_StackType_9 = branch_StackType_133;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_132;
		} break;
		case 8LL: { // WithLabel
			VAL v159;
			uint64_t v160;
			VAL v161 = mtp_mirth_type_StackType_WithLabel(v7, &v159, &v160);
			TUP* v162;
			VAL v163 = mw_mirth_type_StackType_expand(v6, in_StackType_3, &v162);
			TUP* branch_ZPlusMirth_164;
			VAL branch_StackType_165;
			switch (get_data_tag(v163)) {
				case 0LL: { // Error
					VAL v166 = mtw_mirth_type_StackType_WithLabel(v161, v159, v160);
					TUP* v167;
					VAL v168 = mw_mirth_type_StackType_unifyZ_errorZBang(v162, v166, &v167);
					branch_StackType_165 = v168;
					branch_ZPlusMirth_164 = v167;
				} break;
				case 4LL: { // Meta
					uint64_t v169 = mtp_mirth_type_StackType_Meta(v163);
					VAL v170 = mtw_mirth_type_StackType_WithLabel(v161, v159, v160);
					VAL v171 = mw_mirth_type_StackType_ZToType(v170);
					TUP* v172;
					VAL v173 = mw_mirth_type_MetaVar_unifyZBang(v162, v171, v169, &v172);
					VAL v174 = mw_mirth_type_Type_ZToStackType(v173);
					branch_StackType_165 = v174;
					branch_ZPlusMirth_164 = v172;
				} break;
				case 1LL: { // Ignore
					VAL v175 = mtw_mirth_type_StackType_WithLabel(v161, v159, v160);
					branch_StackType_165 = v175;
					branch_ZPlusMirth_164 = v162;
				} break;
				default: {
					incref(v163);
					TUP* v176;
					VAL v177 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v162, v160, v163, &v176);
					TUP* branch_ZPlusMirth_178;
					VAL branch_StackType_179;
					switch (get_data_tag(v177)) {
						case 1LL: { // Some
							VAL v180 = mtp_std_maybe_Maybe_1_Some(v177);
							decref(v163);
							VAL v181 = value_tup(v180, 2)->cells[0];
							VAL v182 = value_tup(v180, 2)->cells[1];
							tup_decref_outer(value_tup(v180, 2),2);
							TUP* v183;
							VAL v184 = mw_mirth_type_StackType_unifyZBang(v176, v161, v181, &v183);
							TUP* v185;
							VAL v186 = mw_mirth_type_Resource_unifyZBang(v183, v159, v182, &v185);
							VAL v187 = mtw_mirth_type_StackType_WithLabel(v184, v186, v160);
							branch_StackType_179 = v187;
							branch_ZPlusMirth_178 = v185;
						} break;
						case 0LL: { // None
							VAL v188 = mtw_mirth_type_StackType_WithLabel(v161, v159, v160);
							TUP* v189;
							VAL v190 = mw_mirth_type_StackType_unifyZ_failedZBang(v176, v188, v163, &v189);
							branch_StackType_179 = v190;
							branch_ZPlusMirth_178 = v189;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_165 = branch_StackType_179;
					branch_ZPlusMirth_164 = branch_ZPlusMirth_178;
				} break;
			}
			branch_StackType_9 = branch_StackType_165;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_164;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_StackType_9;
}
static VAL mw_mirth_type_StackType_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_StackType_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Error
			VAL v9 = MKI64(0LL /* Error */);
			branch_StackType_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			VAL v10 = MKI64(0LL /* Error */);
			branch_StackType_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			VAL v11 = MKI64(0LL /* Error */);
			branch_StackType_8 = v11;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 4LL: { // Meta
			uint64_t v12 = mtp_mirth_type_StackType_Meta(v6);
			TUP* v13;
			VAL v14 = mw_mirth_type_MetaVar_unifyZ_errorZBang(v5, v12, &v13);
			VAL v15 = mw_mirth_type_Type_ZToStackType(v14);
			branch_StackType_8 = v15;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 3LL: { // Var
			uint64_t v16 = mtp_mirth_type_StackType_Var(v6);
			VAL v17 = MKI64(0LL /* Error */);
			branch_StackType_8 = v17;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 5LL: { // Cons
			VAL v18;
			VAL v19 = mtp_mirth_type_StackType_Cons(v6, &v18);
			TUP* v20;
			VAL v21 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v19, &v20);
			decref(v21);
			TUP* v22;
			VAL v23 = mw_mirth_type_Type_unifyZ_errorZBang(v20, v18, &v22);
			decref(v23);
			VAL v24 = MKI64(0LL /* Error */);
			branch_StackType_8 = v24;
			branch_ZPlusMirth_7 = v22;
		} break;
		case 7LL: { // With
			VAL v25;
			VAL v26 = mtp_mirth_type_StackType_With(v6, &v25);
			TUP* v27;
			VAL v28 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v26, &v27);
			decref(v28);
			TUP* v29;
			VAL v30 = mw_mirth_type_Resource_unifyZ_errorZBang(v27, v25, &v29);
			decref(v30);
			VAL v31 = MKI64(0LL /* Error */);
			branch_StackType_8 = v31;
			branch_ZPlusMirth_7 = v29;
		} break;
		case 6LL: { // ConsLabel
			VAL v32;
			uint64_t v33;
			VAL v34 = mtp_mirth_type_StackType_ConsLabel(v6, &v32, &v33);
			TUP* v35;
			VAL v36 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v34, &v35);
			decref(v36);
			TUP* v37;
			VAL v38 = mw_mirth_type_Type_unifyZ_errorZBang(v35, v32, &v37);
			decref(v38);
			VAL v39 = MKI64(0LL /* Error */);
			branch_StackType_8 = v39;
			branch_ZPlusMirth_7 = v37;
		} break;
		case 8LL: { // WithLabel
			VAL v40;
			uint64_t v41;
			VAL v42 = mtp_mirth_type_StackType_WithLabel(v6, &v40, &v41);
			TUP* v43;
			VAL v44 = mw_mirth_type_StackType_unifyZ_errorZBang(v5, v42, &v43);
			decref(v44);
			TUP* v45;
			VAL v46 = mw_mirth_type_Resource_unifyZ_errorZBang(v43, v40, &v45);
			decref(v46);
			VAL v47 = MKI64(0LL /* Error */);
			branch_StackType_8 = v47;
			branch_ZPlusMirth_7 = v45;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_StackType_8;
}
static VAL mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v7)) {
		case 0LL: { // Error
			VAL v10 = MKI64(0LL /* Error */);
			VAL v11 = MKI64(0LL /* Error */);
			TUP* v12 = tup_new(2);
			v12->size = 2;
			v12->cells[1] = v11;
			v12->cells[0] = v10;
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12, 2));
			branch_Maybe_9 = v13;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 1LL: { // Ignore
			VAL v14 = MKI64(1LL /* Ignore */);
			VAL v15 = MKI64(1LL /* Ignore */);
			TUP* v16 = tup_new(2);
			v16->size = 2;
			v16->cells[1] = v15;
			v16->cells[0] = v14;
			VAL v17 = mtw_std_maybe_Maybe_1_Some(MKTUP(v16, 2));
			branch_Maybe_9 = v17;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 2LL: { // Unit
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_9 = v18;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 3LL: { // Var
			uint64_t v19 = mtp_mirth_type_StackType_Var(v7);
			VAL v20 = MKI64(0LL /* None */);
			branch_Maybe_9 = v20;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 7LL: { // With
			VAL v21;
			VAL v22 = mtp_mirth_type_StackType_With(v7, &v21);
			TUP* v23;
			VAL v24 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v6, in_Label_2, v22, &v23);
			VAL v25;
			VAL v26 = mw_std_maybe_Maybe_1_map_1_sp3(v21, v24, &v25);
			decref(v26);
			branch_Maybe_9 = v25;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 5LL: { // Cons
			VAL v27;
			VAL v28 = mtp_mirth_type_StackType_Cons(v7, &v27);
			TUP* v29;
			VAL v30 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v6, in_Label_2, v28, &v29);
			VAL v31;
			VAL v32 = mw_std_maybe_Maybe_1_map_1_sp4(v27, v30, &v31);
			decref(v32);
			branch_Maybe_9 = v31;
			branch_ZPlusMirth_8 = v29;
		} break;
		case 6LL: { // ConsLabel
			VAL v33;
			uint64_t v34;
			VAL v35 = mtp_mirth_type_StackType_ConsLabel(v7, &v33, &v34);
			bool v36 = mw_mirth_label_Label_ZEqual(in_Label_2, v34);
			TUP* branch_ZPlusMirth_37;
			VAL branch_Maybe_38;
			if (v36) {
				TUP* v39 = tup_new(2);
				v39->size = 2;
				v39->cells[1] = v33;
				v39->cells[0] = v35;
				VAL v40 = mtw_std_maybe_Maybe_1_Some(MKTUP(v39, 2));
				branch_Maybe_38 = v40;
				branch_ZPlusMirth_37 = v6;
			} else {
				TUP* v41;
				VAL v42 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v6, in_Label_2, v35, &v41);
				TUP* branch_ZPlusMirth_43;
				VAL branch_Maybe_44;
				switch (get_data_tag(v42)) {
					case 1LL: { // Some
						VAL v45 = mtp_std_maybe_Maybe_1_Some(v42);
						VAL v46 = value_tup(v45, 2)->cells[0];
						VAL v47 = value_tup(v45, 2)->cells[1];
						tup_decref_outer(value_tup(v45, 2),2);
						VAL v48 = mtw_mirth_type_StackType_ConsLabel(v46, v33, v34);
						TUP* v49 = tup_new(2);
						v49->size = 2;
						v49->cells[1] = v47;
						v49->cells[0] = v48;
						VAL v50 = mtw_std_maybe_Maybe_1_Some(MKTUP(v49, 2));
						branch_Maybe_44 = v50;
						branch_ZPlusMirth_43 = v41;
					} break;
					case 0LL: { // None
						decref(v33);
						VAL v51 = MKI64(0LL /* None */);
						branch_Maybe_44 = v51;
						branch_ZPlusMirth_43 = v41;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_38 = branch_Maybe_44;
				branch_ZPlusMirth_37 = branch_ZPlusMirth_43;
			}
			branch_Maybe_9 = branch_Maybe_38;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_37;
		} break;
		case 8LL: { // WithLabel
			VAL v52;
			uint64_t v53;
			VAL v54 = mtp_mirth_type_StackType_WithLabel(v7, &v52, &v53);
			bool v55 = mw_mirth_label_Label_ZEqual(in_Label_2, v53);
			TUP* branch_ZPlusMirth_56;
			VAL branch_Maybe_57;
			if (v55) {
				decref(v52);
				decref(v54);
				VAL v58 = MKI64(0LL /* None */);
				branch_Maybe_57 = v58;
				branch_ZPlusMirth_56 = v6;
			} else {
				TUP* v59;
				VAL v60 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v6, in_Label_2, v54, &v59);
				TUP* branch_ZPlusMirth_61;
				VAL branch_Maybe_62;
				switch (get_data_tag(v60)) {
					case 1LL: { // Some
						VAL v63 = mtp_std_maybe_Maybe_1_Some(v60);
						VAL v64 = value_tup(v63, 2)->cells[0];
						VAL v65 = value_tup(v63, 2)->cells[1];
						tup_decref_outer(value_tup(v63, 2),2);
						VAL v66 = mtw_mirth_type_StackType_WithLabel(v64, v52, v53);
						TUP* v67 = tup_new(2);
						v67->size = 2;
						v67->cells[1] = v65;
						v67->cells[0] = v66;
						VAL v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(v67, 2));
						branch_Maybe_62 = v68;
						branch_ZPlusMirth_61 = v59;
					} break;
					case 0LL: { // None
						decref(v52);
						VAL v69 = MKI64(0LL /* None */);
						branch_Maybe_62 = v69;
						branch_ZPlusMirth_61 = v59;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_57 = branch_Maybe_62;
				branch_ZPlusMirth_56 = branch_ZPlusMirth_61;
			}
			branch_Maybe_9 = branch_Maybe_57;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_56;
		} break;
		case 4LL: { // Meta
			uint64_t v70 = mtp_mirth_type_StackType_Meta(v7);
			TUP* v71;
			VAL v72 = mw_mirth_type_StackType_FreshZBang(v6, &v71);
			TUP* v73;
			VAL v74 = mw_mirth_type_Type_FreshZBang(v71, &v73);
			incref(v72);
			incref(v74);
			VAL v75 = mtw_mirth_type_StackType_ConsLabel(v72, v74, in_Label_2);
			VAL v76 = mw_mirth_type_StackType_ZToType(v75);
			VAL v77 = mtw_std_maybe_Maybe_1_Some(v76);
			void* v78 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v70);
			mut_set(v77, v78);
			TUP* v79 = tup_new(2);
			v79->size = 2;
			v79->cells[1] = v74;
			v79->cells[0] = v72;
			VAL v80 = mtw_std_maybe_Maybe_1_Some(MKTUP(v79, 2));
			branch_Maybe_9 = v80;
			branch_ZPlusMirth_8 = v73;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static VAL mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang (TUP* in_ZPlusMirth_1, uint64_t in_Label_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v7)) {
		case 0LL: { // Error
			VAL v10 = MKI64(0LL /* Error */);
			VAL v11 = MKI64(0LL /* Error */);
			TUP* v12 = tup_new(2);
			v12->size = 2;
			v12->cells[1] = v11;
			v12->cells[0] = v10;
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12, 2));
			branch_Maybe_9 = v13;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 1LL: { // Ignore
			VAL v14 = MKI64(1LL /* Ignore */);
			VAL v15 = MKI64(1LL /* Ignore */);
			TUP* v16 = tup_new(2);
			v16->size = 2;
			v16->cells[1] = v15;
			v16->cells[0] = v14;
			VAL v17 = mtw_std_maybe_Maybe_1_Some(MKTUP(v16, 2));
			branch_Maybe_9 = v17;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 2LL: { // Unit
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_9 = v18;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 3LL: { // Var
			uint64_t v19 = mtp_mirth_type_StackType_Var(v7);
			VAL v20 = MKI64(0LL /* None */);
			branch_Maybe_9 = v20;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 7LL: { // With
			VAL v21;
			VAL v22 = mtp_mirth_type_StackType_With(v7, &v21);
			TUP* v23;
			VAL v24 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v6, in_Label_2, v22, &v23);
			VAL v25;
			VAL v26 = mw_std_maybe_Maybe_1_map_1_sp3(v21, v24, &v25);
			decref(v26);
			branch_Maybe_9 = v25;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 5LL: { // Cons
			VAL v27;
			VAL v28 = mtp_mirth_type_StackType_Cons(v7, &v27);
			TUP* v29;
			VAL v30 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v6, in_Label_2, v28, &v29);
			VAL v31;
			VAL v32 = mw_std_maybe_Maybe_1_map_1_sp4(v27, v30, &v31);
			decref(v32);
			branch_Maybe_9 = v31;
			branch_ZPlusMirth_8 = v29;
		} break;
		case 6LL: { // ConsLabel
			VAL v33;
			uint64_t v34;
			VAL v35 = mtp_mirth_type_StackType_ConsLabel(v7, &v33, &v34);
			bool v36 = mw_mirth_label_Label_ZEqual(in_Label_2, v34);
			TUP* branch_ZPlusMirth_37;
			VAL branch_Maybe_38;
			if (v36) {
				decref(v33);
				decref(v35);
				VAL v39 = MKI64(0LL /* None */);
				branch_Maybe_38 = v39;
				branch_ZPlusMirth_37 = v6;
			} else {
				TUP* v40;
				VAL v41 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v6, in_Label_2, v35, &v40);
				TUP* branch_ZPlusMirth_42;
				VAL branch_Maybe_43;
				switch (get_data_tag(v41)) {
					case 1LL: { // Some
						VAL v44 = mtp_std_maybe_Maybe_1_Some(v41);
						VAL v45 = value_tup(v44, 2)->cells[0];
						VAL v46 = value_tup(v44, 2)->cells[1];
						tup_decref_outer(value_tup(v44, 2),2);
						VAL v47 = mtw_mirth_type_StackType_ConsLabel(v45, v33, v34);
						TUP* v48 = tup_new(2);
						v48->size = 2;
						v48->cells[1] = v46;
						v48->cells[0] = v47;
						VAL v49 = mtw_std_maybe_Maybe_1_Some(MKTUP(v48, 2));
						branch_Maybe_43 = v49;
						branch_ZPlusMirth_42 = v40;
					} break;
					case 0LL: { // None
						decref(v33);
						VAL v50 = MKI64(0LL /* None */);
						branch_Maybe_43 = v50;
						branch_ZPlusMirth_42 = v40;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_38 = branch_Maybe_43;
				branch_ZPlusMirth_37 = branch_ZPlusMirth_42;
			}
			branch_Maybe_9 = branch_Maybe_38;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_37;
		} break;
		case 8LL: { // WithLabel
			VAL v51;
			uint64_t v52;
			VAL v53 = mtp_mirth_type_StackType_WithLabel(v7, &v51, &v52);
			bool v54 = mw_mirth_label_Label_ZEqual(in_Label_2, v52);
			TUP* branch_ZPlusMirth_55;
			VAL branch_Maybe_56;
			if (v54) {
				TUP* v57 = tup_new(2);
				v57->size = 2;
				v57->cells[1] = v51;
				v57->cells[0] = v53;
				VAL v58 = mtw_std_maybe_Maybe_1_Some(MKTUP(v57, 2));
				branch_Maybe_56 = v58;
				branch_ZPlusMirth_55 = v6;
			} else {
				TUP* v59;
				VAL v60 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v6, in_Label_2, v53, &v59);
				TUP* branch_ZPlusMirth_61;
				VAL branch_Maybe_62;
				switch (get_data_tag(v60)) {
					case 1LL: { // Some
						VAL v63 = mtp_std_maybe_Maybe_1_Some(v60);
						VAL v64 = value_tup(v63, 2)->cells[0];
						VAL v65 = value_tup(v63, 2)->cells[1];
						tup_decref_outer(value_tup(v63, 2),2);
						VAL v66 = mtw_mirth_type_StackType_WithLabel(v64, v51, v52);
						TUP* v67 = tup_new(2);
						v67->size = 2;
						v67->cells[1] = v65;
						v67->cells[0] = v66;
						VAL v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(v67, 2));
						branch_Maybe_62 = v68;
						branch_ZPlusMirth_61 = v59;
					} break;
					case 0LL: { // None
						decref(v51);
						VAL v69 = MKI64(0LL /* None */);
						branch_Maybe_62 = v69;
						branch_ZPlusMirth_61 = v59;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_56 = branch_Maybe_62;
				branch_ZPlusMirth_55 = branch_ZPlusMirth_61;
			}
			branch_Maybe_9 = branch_Maybe_56;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_55;
		} break;
		case 4LL: { // Meta
			uint64_t v70 = mtp_mirth_type_StackType_Meta(v7);
			TUP* v71;
			VAL v72 = mw_mirth_type_StackType_FreshZBang(v6, &v71);
			TUP* v73;
			VAL v74 = mw_mirth_type_Resource_FreshZBang(v71, &v73);
			incref(v72);
			incref(v74);
			VAL v75 = mtw_mirth_type_StackType_WithLabel(v72, v74, in_Label_2);
			VAL v76 = mw_mirth_type_StackType_ZToType(v75);
			VAL v77 = mtw_std_maybe_Maybe_1_Some(v76);
			void* v78 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v70);
			mut_set(v77, v78);
			TUP* v79 = tup_new(2);
			v79->size = 2;
			v79->cells[1] = v74;
			v79->cells[0] = v72;
			VAL v80 = mtw_std_maybe_Maybe_1_Some(MKTUP(v79, 2));
			branch_Maybe_9 = v80;
			branch_ZPlusMirth_8 = v73;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static VAL mw_mirth_type_StackType_forceZ_consZAskZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Error
			VAL v9 = MKI64(0LL /* Error */);
			VAL v10 = MKI64(0LL /* Error */);
			TUP* v11 = tup_new(2);
			v11->size = 2;
			v11->cells[1] = v10;
			v11->cells[0] = v9;
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			VAL v13 = MKI64(1LL /* Ignore */);
			VAL v14 = MKI64(1LL /* Ignore */);
			TUP* v15 = tup_new(2);
			v15->size = 2;
			v15->cells[1] = v14;
			v15->cells[0] = v13;
			VAL v16 = mtw_std_maybe_Maybe_1_Some(MKTUP(v15, 2));
			branch_Maybe_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			VAL v17 = MKI64(0LL /* None */);
			branch_Maybe_8 = v17;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v18 = mtp_mirth_type_StackType_Var(v6);
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_8 = v19;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 5LL: { // Cons
			VAL v20;
			VAL v21 = mtp_mirth_type_StackType_Cons(v6, &v20);
			TUP* v22 = tup_new(2);
			v22->size = 2;
			v22->cells[1] = v20;
			v22->cells[0] = v21;
			VAL v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(v22, 2));
			branch_Maybe_8 = v23;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 7LL: { // With
			VAL v24;
			VAL v25 = mtp_mirth_type_StackType_With(v6, &v24);
			TUP* v26;
			VAL v27 = mw_mirth_type_StackType_forceZ_consZAskZBang(v5, v25, &v26);
			VAL v28;
			VAL v29 = mw_std_maybe_Maybe_1_map_1_sp3(v24, v27, &v28);
			decref(v29);
			branch_Maybe_8 = v28;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 6LL: { // ConsLabel
			VAL v30;
			uint64_t v31;
			VAL v32 = mtp_mirth_type_StackType_ConsLabel(v6, &v30, &v31);
			TUP* v33;
			VAL v34 = mw_mirth_type_StackType_forceZ_consZAskZBang(v5, v32, &v33);
			TUP* branch_ZPlusMirth_35;
			VAL branch_Maybe_36;
			switch (get_data_tag(v34)) {
				case 1LL: { // Some
					VAL v37 = mtp_std_maybe_Maybe_1_Some(v34);
					VAL v38 = value_tup(v37, 2)->cells[0];
					VAL v39 = value_tup(v37, 2)->cells[1];
					tup_decref_outer(value_tup(v37, 2),2);
					VAL v40 = mtw_mirth_type_StackType_ConsLabel(v38, v30, v31);
					TUP* v41 = tup_new(2);
					v41->size = 2;
					v41->cells[1] = v39;
					v41->cells[0] = v40;
					VAL v42 = mtw_std_maybe_Maybe_1_Some(MKTUP(v41, 2));
					branch_Maybe_36 = v42;
					branch_ZPlusMirth_35 = v33;
				} break;
				case 0LL: { // None
					decref(v30);
					VAL v43 = MKI64(0LL /* None */);
					branch_Maybe_36 = v43;
					branch_ZPlusMirth_35 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_8 = branch_Maybe_36;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_35;
		} break;
		case 8LL: { // WithLabel
			VAL v44;
			uint64_t v45;
			VAL v46 = mtp_mirth_type_StackType_WithLabel(v6, &v44, &v45);
			TUP* v47;
			VAL v48 = mw_mirth_type_StackType_forceZ_consZAskZBang(v5, v46, &v47);
			TUP* branch_ZPlusMirth_49;
			VAL branch_Maybe_50;
			switch (get_data_tag(v48)) {
				case 1LL: { // Some
					VAL v51 = mtp_std_maybe_Maybe_1_Some(v48);
					VAL v52 = value_tup(v51, 2)->cells[0];
					VAL v53 = value_tup(v51, 2)->cells[1];
					tup_decref_outer(value_tup(v51, 2),2);
					VAL v54 = mtw_mirth_type_StackType_WithLabel(v52, v44, v45);
					TUP* v55 = tup_new(2);
					v55->size = 2;
					v55->cells[1] = v53;
					v55->cells[0] = v54;
					VAL v56 = mtw_std_maybe_Maybe_1_Some(MKTUP(v55, 2));
					branch_Maybe_50 = v56;
					branch_ZPlusMirth_49 = v47;
				} break;
				case 0LL: { // None
					decref(v44);
					VAL v57 = MKI64(0LL /* None */);
					branch_Maybe_50 = v57;
					branch_ZPlusMirth_49 = v47;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_8 = branch_Maybe_50;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_49;
		} break;
		case 4LL: { // Meta
			uint64_t v58 = mtp_mirth_type_StackType_Meta(v6);
			TUP* v59;
			VAL v60 = mw_mirth_type_StackType_FreshZBang(v5, &v59);
			TUP* v61;
			VAL v62 = mw_mirth_type_Type_FreshZBang(v59, &v61);
			incref(v60);
			incref(v62);
			VAL v63 = mtw_mirth_type_StackType_Cons(v60, v62);
			VAL v64 = mw_mirth_type_StackType_ZToType(v63);
			VAL v65 = mtw_std_maybe_Maybe_1_Some(v64);
			void* v66 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v58);
			mut_set(v65, v66);
			TUP* v67 = tup_new(2);
			v67->size = 2;
			v67->cells[1] = v62;
			v67->cells[0] = v60;
			VAL v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(v67, 2));
			branch_Maybe_8 = v68;
			branch_ZPlusMirth_7 = v61;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_StackType_forceZ_withZAskZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Error
			VAL v9 = MKI64(0LL /* Error */);
			VAL v10 = MKI64(0LL /* Error */);
			TUP* v11 = tup_new(2);
			v11->size = 2;
			v11->cells[1] = v10;
			v11->cells[0] = v9;
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Ignore
			VAL v13 = MKI64(1LL /* Ignore */);
			VAL v14 = MKI64(1LL /* Ignore */);
			TUP* v15 = tup_new(2);
			v15->size = 2;
			v15->cells[1] = v14;
			v15->cells[0] = v13;
			VAL v16 = mtw_std_maybe_Maybe_1_Some(MKTUP(v15, 2));
			branch_Maybe_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 2LL: { // Unit
			VAL v17 = MKI64(0LL /* None */);
			branch_Maybe_8 = v17;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 3LL: { // Var
			uint64_t v18 = mtp_mirth_type_StackType_Var(v6);
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_8 = v19;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 7LL: { // With
			VAL v20;
			VAL v21 = mtp_mirth_type_StackType_With(v6, &v20);
			TUP* v22 = tup_new(2);
			v22->size = 2;
			v22->cells[1] = v20;
			v22->cells[0] = v21;
			VAL v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(v22, 2));
			branch_Maybe_8 = v23;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 5LL: { // Cons
			VAL v24;
			VAL v25 = mtp_mirth_type_StackType_Cons(v6, &v24);
			TUP* v26;
			VAL v27 = mw_mirth_type_StackType_forceZ_withZAskZBang(v5, v25, &v26);
			VAL v28;
			VAL v29 = mw_std_maybe_Maybe_1_map_1_sp4(v24, v27, &v28);
			decref(v29);
			branch_Maybe_8 = v28;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 6LL: { // ConsLabel
			VAL v30;
			uint64_t v31;
			VAL v32 = mtp_mirth_type_StackType_ConsLabel(v6, &v30, &v31);
			TUP* v33;
			VAL v34 = mw_mirth_type_StackType_forceZ_withZAskZBang(v5, v32, &v33);
			TUP* branch_ZPlusMirth_35;
			VAL branch_Maybe_36;
			switch (get_data_tag(v34)) {
				case 1LL: { // Some
					VAL v37 = mtp_std_maybe_Maybe_1_Some(v34);
					VAL v38 = value_tup(v37, 2)->cells[0];
					VAL v39 = value_tup(v37, 2)->cells[1];
					tup_decref_outer(value_tup(v37, 2),2);
					VAL v40 = mtw_mirth_type_StackType_ConsLabel(v38, v30, v31);
					TUP* v41 = tup_new(2);
					v41->size = 2;
					v41->cells[1] = v39;
					v41->cells[0] = v40;
					VAL v42 = mtw_std_maybe_Maybe_1_Some(MKTUP(v41, 2));
					branch_Maybe_36 = v42;
					branch_ZPlusMirth_35 = v33;
				} break;
				case 0LL: { // None
					decref(v30);
					VAL v43 = MKI64(0LL /* None */);
					branch_Maybe_36 = v43;
					branch_ZPlusMirth_35 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_8 = branch_Maybe_36;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_35;
		} break;
		case 8LL: { // WithLabel
			VAL v44;
			uint64_t v45;
			VAL v46 = mtp_mirth_type_StackType_WithLabel(v6, &v44, &v45);
			TUP* v47;
			VAL v48 = mw_mirth_type_StackType_forceZ_withZAskZBang(v5, v46, &v47);
			TUP* branch_ZPlusMirth_49;
			VAL branch_Maybe_50;
			switch (get_data_tag(v48)) {
				case 1LL: { // Some
					VAL v51 = mtp_std_maybe_Maybe_1_Some(v48);
					VAL v52 = value_tup(v51, 2)->cells[0];
					VAL v53 = value_tup(v51, 2)->cells[1];
					tup_decref_outer(value_tup(v51, 2),2);
					VAL v54 = mtw_mirth_type_StackType_WithLabel(v52, v44, v45);
					TUP* v55 = tup_new(2);
					v55->size = 2;
					v55->cells[1] = v53;
					v55->cells[0] = v54;
					VAL v56 = mtw_std_maybe_Maybe_1_Some(MKTUP(v55, 2));
					branch_Maybe_50 = v56;
					branch_ZPlusMirth_49 = v47;
				} break;
				case 0LL: { // None
					decref(v44);
					VAL v57 = MKI64(0LL /* None */);
					branch_Maybe_50 = v57;
					branch_ZPlusMirth_49 = v47;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_8 = branch_Maybe_50;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_49;
		} break;
		case 4LL: { // Meta
			uint64_t v58 = mtp_mirth_type_StackType_Meta(v6);
			TUP* v59;
			VAL v60 = mw_mirth_type_StackType_FreshZBang(v5, &v59);
			TUP* v61;
			VAL v62 = mw_mirth_type_Resource_FreshZBang(v59, &v61);
			incref(v60);
			incref(v62);
			VAL v63 = mtw_mirth_type_StackType_With(v60, v62);
			VAL v64 = mw_mirth_type_StackType_ZToType(v63);
			VAL v65 = mtw_std_maybe_Maybe_1_Some(v64);
			void* v66 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v58);
			mut_set(v65, v66);
			TUP* v67 = tup_new(2);
			v67->size = 2;
			v67->cells[1] = v62;
			v67->cells[0] = v60;
			VAL v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(v67, 2));
			branch_Maybe_8 = v68;
			branch_ZPlusMirth_7 = v61;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static void mw_mirth_type_StackType_domZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	incref(v7);
	TUP* v8;
	bool v9 = mw_mirth_type_StackType_unitZAsk(v6, v7, &v8);
	STR* branch_ZPlusStr_10;
	TUP* branch_ZPlusMirth_11;
	if (v9) {
		decref(v7);
		branch_ZPlusMirth_11 = v8;
		branch_ZPlusStr_10 = in_ZPlusStr_2;
	} else {
		TUP* v12;
		STR* v13;
		mw_mirth_type_StackType_stackZThen(v8, in_ZPlusStr_2, v7, &v12, &v13);
		STR* v14;
		STRLIT(v14, " ", 1);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		branch_ZPlusMirth_11 = v12;
		branch_ZPlusStr_10 = v15;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_type_StackType_codZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	incref(v7);
	TUP* v8;
	bool v9 = mw_mirth_type_StackType_unitZAsk(v6, v7, &v8);
	STR* branch_ZPlusStr_10;
	TUP* branch_ZPlusMirth_11;
	if (v9) {
		decref(v7);
		branch_ZPlusMirth_11 = v8;
		branch_ZPlusStr_10 = in_ZPlusStr_2;
	} else {
		STR* v12;
		STRLIT(v12, " ", 1);
		STR* v13;
		mw_std_str_ZPlusStr_pushZ_strZBang(v12, in_ZPlusStr_2, &v13);
		TUP* v14;
		STR* v15;
		mw_mirth_type_StackType_stackZThen(v8, v13, v7, &v14, &v15);
		branch_ZPlusMirth_11 = v14;
		branch_ZPlusStr_10 = v15;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_type_StackType_stackZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	VAL v7;
	VAL v8;
	VAL v9;
	VAL v10 = mw_mirth_type_StackType_split4(in_ZPlusMirth_1, in_StackType_3, &v6, &v7, &v8, &v9);
	TUP* v11;
	STR* v12;
	bool v13 = mw_mirth_type_StackTypeBase_baseZThen(v6, in_ZPlusStr_2, v10, &v11, &v12);
	bool v14 = true;
	TUP* v15 = v11;
	STR* v16 = v12;
	bool v17 = v13;
	VAL v18 = v7;
	bool v19 = v14;
	bool v20 = v14;
	while (v20) {
		TUP* v21 = v15;
		STR* v22 = v16;
		bool v23 = v17;
		VAL v24 = v18;
		bool v25 = v19;
		TUP* branch_ZPlusMirth_26;
		STR* branch_ZPlusStr_27;
		bool branch_Bool_28;
		VAL branch_List_29;
		bool branch_Bool_30;
		switch (get_data_tag(v24)) {
			case 1LL: { // Cons
				VAL v31;
				VAL v32 = mtp_std_list_List_1_Cons(v24, &v31);
				STR* branch_ZPlusStr_33;
				if (v23) {
					STR* v34;
					STRLIT(v34, " ", 1);
					STR* v35;
					mw_std_str_ZPlusStr_pushZ_strZBang(v34, v22, &v35);
					branch_ZPlusStr_33 = v35;
				} else {
					branch_ZPlusStr_33 = v22;
				}
				VAL v36 = value_tup(v32, 2)->cells[0];
				VAL v37 = value_tup(v32, 2)->cells[1];
				tup_decref_outer(value_tup(v32, 2),2);
				TUP* v38;
				STR* v39;
				mw_mirth_label_Label_nameZThen(v21, branch_ZPlusStr_33, value_u64(v37), &v38, &v39);
				STR* v40;
				STRLIT(v40, ":", 1);
				STR* v41;
				mw_std_str_ZPlusStr_pushZ_strZBang(v40, v39, &v41);
				TUP* branch_ZPlusMirth_42;
				STR* branch_ZPlusStr_43;
				switch (get_data_tag(v36)) {
					case 0LL: { // Left
						VAL v44 = mtp_std_either_Either_2_Left(v36);
						TUP* v45;
						STR* v46;
						mw_mirth_type_Type_typeZThen(v38, v41, v44, &v45, &v46);
						branch_ZPlusStr_43 = v46;
						branch_ZPlusMirth_42 = v45;
					} break;
					case 1LL: { // Right
						VAL v47 = mtp_std_either_Either_2_Right(v36);
						TUP* v48;
						STR* v49;
						mw_mirth_type_Resource_typeZThen(v38, v41, v47, &v48, &v49);
						branch_ZPlusStr_43 = v49;
						branch_ZPlusMirth_42 = v48;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v50 = true;
				bool v51 = true;
				branch_Bool_30 = v51;
				branch_List_29 = v31;
				branch_Bool_28 = v50;
				branch_ZPlusStr_27 = branch_ZPlusStr_43;
				branch_ZPlusMirth_26 = branch_ZPlusMirth_42;
			} break;
			case 0LL: { // Nil
				VAL v52 = MKI64(0LL /* Nil */);
				bool v53 = false;
				branch_Bool_30 = v53;
				branch_List_29 = v52;
				branch_Bool_28 = v23;
				branch_ZPlusStr_27 = v22;
				branch_ZPlusMirth_26 = v21;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v20 = branch_Bool_30;
		v19 = branch_Bool_30;
		v18 = branch_List_29;
		v17 = branch_Bool_28;
		v16 = branch_ZPlusStr_27;
		v15 = branch_ZPlusMirth_26;
	}
	decref(v18);
	bool v54 = true;
	TUP* v55 = v15;
	STR* v56 = v16;
	bool v57 = v17;
	VAL v58 = v9;
	bool v59 = v54;
	bool v60 = v54;
	while (v60) {
		TUP* v61 = v55;
		STR* v62 = v56;
		bool v63 = v57;
		VAL v64 = v58;
		bool v65 = v59;
		TUP* branch_ZPlusMirth_66;
		STR* branch_ZPlusStr_67;
		bool branch_Bool_68;
		VAL branch_List_69;
		bool branch_Bool_70;
		switch (get_data_tag(v64)) {
			case 1LL: { // Cons
				VAL v71;
				VAL v72 = mtp_std_list_List_1_Cons(v64, &v71);
				STR* branch_ZPlusStr_73;
				if (v63) {
					STR* v74;
					STRLIT(v74, " ", 1);
					STR* v75;
					mw_std_str_ZPlusStr_pushZ_strZBang(v74, v62, &v75);
					branch_ZPlusStr_73 = v75;
				} else {
					branch_ZPlusStr_73 = v62;
				}
				TUP* v76;
				STR* v77;
				mw_mirth_type_Resource_typeZThen(v61, branch_ZPlusStr_73, v72, &v76, &v77);
				bool v78 = true;
				bool v79 = true;
				branch_Bool_70 = v79;
				branch_List_69 = v71;
				branch_Bool_68 = v78;
				branch_ZPlusStr_67 = v77;
				branch_ZPlusMirth_66 = v76;
			} break;
			case 0LL: { // Nil
				VAL v80 = MKI64(0LL /* Nil */);
				bool v81 = false;
				branch_Bool_70 = v81;
				branch_List_69 = v80;
				branch_Bool_68 = v63;
				branch_ZPlusStr_67 = v62;
				branch_ZPlusMirth_66 = v61;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v60 = branch_Bool_70;
		v59 = branch_Bool_70;
		v58 = branch_List_69;
		v57 = branch_Bool_68;
		v56 = branch_ZPlusStr_67;
		v55 = branch_ZPlusMirth_66;
	}
	decref(v58);
	bool v82 = true;
	TUP* v83 = v55;
	STR* v84 = v56;
	bool v85 = v57;
	VAL v86 = v8;
	bool v87 = v82;
	bool v88 = v82;
	while (v88) {
		TUP* v89 = v83;
		STR* v90 = v84;
		bool v91 = v85;
		VAL v92 = v86;
		bool v93 = v87;
		TUP* branch_ZPlusMirth_94;
		STR* branch_ZPlusStr_95;
		bool branch_Bool_96;
		VAL branch_List_97;
		bool branch_Bool_98;
		switch (get_data_tag(v92)) {
			case 1LL: { // Cons
				VAL v99;
				VAL v100 = mtp_std_list_List_1_Cons(v92, &v99);
				STR* branch_ZPlusStr_101;
				if (v91) {
					STR* v102;
					STRLIT(v102, " ", 1);
					STR* v103;
					mw_std_str_ZPlusStr_pushZ_strZBang(v102, v90, &v103);
					branch_ZPlusStr_101 = v103;
				} else {
					branch_ZPlusStr_101 = v90;
				}
				TUP* v104;
				STR* v105;
				mw_mirth_type_Type_typeZThen(v89, branch_ZPlusStr_101, v100, &v104, &v105);
				bool v106 = true;
				bool v107 = true;
				branch_Bool_98 = v107;
				branch_List_97 = v99;
				branch_Bool_96 = v106;
				branch_ZPlusStr_95 = v105;
				branch_ZPlusMirth_94 = v104;
			} break;
			case 0LL: { // Nil
				VAL v108 = MKI64(0LL /* Nil */);
				bool v109 = false;
				branch_Bool_98 = v109;
				branch_List_97 = v108;
				branch_Bool_96 = v91;
				branch_ZPlusStr_95 = v90;
				branch_ZPlusMirth_94 = v89;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v88 = branch_Bool_98;
		v87 = branch_Bool_98;
		v86 = branch_List_97;
		v85 = branch_Bool_96;
		v84 = branch_ZPlusStr_95;
		v83 = branch_ZPlusMirth_94;
	}
	decref(v86);
	*out_ZPlusStr_5 = v84;
	*out_ZPlusMirth_4 = v83;
}
static VAL mw_mirth_type_StackType_semifreshen (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, VAL *out_StackType_6) {
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v7);
	TUP* branch_ZPlusMirth_9;
	VAL branch_StackType_10;
	VAL branch_StackType_11;
	switch (get_data_tag(v8)) {
		case 2LL: { // Unit
			incref(in_StackType_2);
			branch_StackType_11 = in_StackType_2;
			branch_StackType_10 = in_StackType_2;
			branch_ZPlusMirth_9 = v7;
		} break;
		case 5LL: { // Cons
			VAL v12;
			VAL v13 = mtp_mirth_type_StackType_Cons(v8, &v12);
			TUP* v14;
			VAL v15;
			VAL v16 = mw_mirth_type_StackType_semifreshen(v7, in_StackType_2, v13, &v14, &v15);
			VAL v17 = mtw_mirth_type_StackType_Cons(v15, v12);
			branch_StackType_11 = v17;
			branch_StackType_10 = v16;
			branch_ZPlusMirth_9 = v14;
		} break;
		case 7LL: { // With
			VAL v18;
			VAL v19 = mtp_mirth_type_StackType_With(v8, &v18);
			TUP* v20;
			VAL v21;
			VAL v22 = mw_mirth_type_StackType_semifreshen(v7, in_StackType_2, v19, &v20, &v21);
			VAL v23 = mtw_mirth_type_StackType_With(v21, v18);
			branch_StackType_11 = v23;
			branch_StackType_10 = v22;
			branch_ZPlusMirth_9 = v20;
		} break;
		case 6LL: { // ConsLabel
			VAL v24;
			uint64_t v25;
			VAL v26 = mtp_mirth_type_StackType_ConsLabel(v8, &v24, &v25);
			TUP* v27;
			VAL v28;
			VAL v29 = mw_mirth_type_StackType_semifreshen(v7, in_StackType_2, v26, &v27, &v28);
			VAL v30 = mtw_mirth_type_StackType_ConsLabel(v28, v24, v25);
			branch_StackType_11 = v30;
			branch_StackType_10 = v29;
			branch_ZPlusMirth_9 = v27;
		} break;
		case 8LL: { // WithLabel
			VAL v31;
			uint64_t v32;
			VAL v33 = mtp_mirth_type_StackType_WithLabel(v8, &v31, &v32);
			TUP* v34;
			VAL v35;
			VAL v36 = mw_mirth_type_StackType_semifreshen(v7, in_StackType_2, v33, &v34, &v35);
			VAL v37 = mtw_mirth_type_StackType_WithLabel(v35, v31, v32);
			branch_StackType_11 = v37;
			branch_StackType_10 = v36;
			branch_ZPlusMirth_9 = v34;
		} break;
		default: {
			STR* v38;
			STRLIT(v38, "expected unit-based stack in semifreshen!", 41);
			do_panic(v38);
		} break;
	}
	*out_StackType_6 = branch_StackType_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_StackType_10;
}
static VAL mw_mirth_type_StackType_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, VAL *out_StackType_6) {
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v7);
	VAL branch_Subst_9;
	TUP* branch_ZPlusMirth_10;
	VAL branch_StackType_11;
	switch (get_data_tag(v8)) {
		case 2LL: { // Unit
			VAL v12 = MKI64(2LL /* Unit */);
			branch_StackType_11 = v12;
			branch_ZPlusMirth_10 = v7;
			branch_Subst_9 = in_Subst_2;
		} break;
		case 5LL: { // Cons
			VAL v13;
			VAL v14 = mtp_mirth_type_StackType_Cons(v8, &v13);
			TUP* v15;
			VAL v16;
			VAL v17 = mw_mirth_type_StackType_freshen(v7, in_Subst_2, v14, &v15, &v16);
			TUP* v18;
			VAL v19;
			VAL v20 = mw_mirth_type_Type_freshen(v15, v17, v13, &v18, &v19);
			VAL v21 = mtw_mirth_type_StackType_Cons(v16, v19);
			branch_StackType_11 = v21;
			branch_ZPlusMirth_10 = v18;
			branch_Subst_9 = v20;
		} break;
		case 7LL: { // With
			VAL v22;
			VAL v23 = mtp_mirth_type_StackType_With(v8, &v22);
			TUP* v24;
			VAL v25;
			VAL v26 = mw_mirth_type_StackType_freshen(v7, in_Subst_2, v23, &v24, &v25);
			TUP* v27;
			VAL v28;
			VAL v29 = mw_mirth_type_Resource_freshen(v24, v26, v22, &v27, &v28);
			VAL v30 = mtw_mirth_type_StackType_With(v25, v28);
			branch_StackType_11 = v30;
			branch_ZPlusMirth_10 = v27;
			branch_Subst_9 = v29;
		} break;
		case 6LL: { // ConsLabel
			VAL v31;
			uint64_t v32;
			VAL v33 = mtp_mirth_type_StackType_ConsLabel(v8, &v31, &v32);
			TUP* v34;
			VAL v35;
			VAL v36 = mw_mirth_type_StackType_freshen(v7, in_Subst_2, v33, &v34, &v35);
			TUP* v37;
			VAL v38;
			VAL v39 = mw_mirth_type_Type_freshen(v34, v36, v31, &v37, &v38);
			VAL v40 = mtw_mirth_type_StackType_ConsLabel(v35, v38, v32);
			branch_StackType_11 = v40;
			branch_ZPlusMirth_10 = v37;
			branch_Subst_9 = v39;
		} break;
		case 8LL: { // WithLabel
			VAL v41;
			uint64_t v42;
			VAL v43 = mtp_mirth_type_StackType_WithLabel(v8, &v41, &v42);
			TUP* v44;
			VAL v45;
			VAL v46 = mw_mirth_type_StackType_freshen(v7, in_Subst_2, v43, &v44, &v45);
			TUP* v47;
			VAL v48;
			VAL v49 = mw_mirth_type_Resource_freshen(v44, v46, v41, &v47, &v48);
			VAL v50 = mtw_mirth_type_StackType_WithLabel(v45, v48, v42);
			branch_StackType_11 = v50;
			branch_ZPlusMirth_10 = v47;
			branch_Subst_9 = v49;
		} break;
		default: {
			VAL v51 = mw_mirth_type_StackType_ZToType(v8);
			TUP* v52;
			VAL v53;
			VAL v54 = mw_mirth_type_Type_freshen(v7, in_Subst_2, v51, &v52, &v53);
			VAL v55 = mw_mirth_type_Type_ZToStackType(v53);
			branch_StackType_11 = v55;
			branch_ZPlusMirth_10 = v52;
			branch_Subst_9 = v54;
		} break;
	}
	*out_StackType_6 = branch_StackType_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Subst_9;
}
static VAL mw_mirth_type_StackType_freshenZ_aux (TUP* in_ZPlusMirth_1, VAL in_StackType_2, VAL in_Subst_3, VAL in_StackType_4, TUP* *out_ZPlusMirth_5, VAL *out_Subst_7, VAL *out_StackType_8) {
	TUP* v9;
	VAL v10 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_4, &v9);
	TUP* branch_ZPlusMirth_11;
	VAL branch_StackType_12;
	VAL branch_Subst_13;
	VAL branch_StackType_14;
	switch (get_data_tag(v10)) {
		case 2LL: { // Unit
			incref(in_StackType_2);
			branch_StackType_14 = in_StackType_2;
			branch_Subst_13 = in_Subst_3;
			branch_StackType_12 = in_StackType_2;
			branch_ZPlusMirth_11 = v9;
		} break;
		case 5LL: { // Cons
			VAL v15;
			VAL v16 = mtp_mirth_type_StackType_Cons(v10, &v15);
			TUP* v17;
			VAL v18;
			VAL v19;
			VAL v20 = mw_mirth_type_StackType_freshenZ_aux(v9, in_StackType_2, in_Subst_3, v16, &v17, &v18, &v19);
			TUP* v21;
			VAL v22;
			VAL v23 = mw_mirth_type_Type_freshen(v17, v18, v15, &v21, &v22);
			VAL v24 = mtw_mirth_type_StackType_Cons(v19, v22);
			branch_StackType_14 = v24;
			branch_Subst_13 = v23;
			branch_StackType_12 = v20;
			branch_ZPlusMirth_11 = v21;
		} break;
		case 7LL: { // With
			VAL v25;
			VAL v26 = mtp_mirth_type_StackType_With(v10, &v25);
			TUP* v27;
			VAL v28;
			VAL v29;
			VAL v30 = mw_mirth_type_StackType_freshenZ_aux(v9, in_StackType_2, in_Subst_3, v26, &v27, &v28, &v29);
			TUP* v31;
			VAL v32;
			VAL v33 = mw_mirth_type_Resource_freshen(v27, v28, v25, &v31, &v32);
			VAL v34 = mtw_mirth_type_StackType_With(v29, v32);
			branch_StackType_14 = v34;
			branch_Subst_13 = v33;
			branch_StackType_12 = v30;
			branch_ZPlusMirth_11 = v31;
		} break;
		case 6LL: { // ConsLabel
			VAL v35;
			uint64_t v36;
			VAL v37 = mtp_mirth_type_StackType_ConsLabel(v10, &v35, &v36);
			TUP* v38;
			VAL v39;
			VAL v40;
			VAL v41 = mw_mirth_type_StackType_freshenZ_aux(v9, in_StackType_2, in_Subst_3, v37, &v38, &v39, &v40);
			TUP* v42;
			VAL v43;
			VAL v44 = mw_mirth_type_Type_freshen(v38, v39, v35, &v42, &v43);
			VAL v45 = mtw_mirth_type_StackType_ConsLabel(v40, v43, v36);
			branch_StackType_14 = v45;
			branch_Subst_13 = v44;
			branch_StackType_12 = v41;
			branch_ZPlusMirth_11 = v42;
		} break;
		case 8LL: { // WithLabel
			VAL v46;
			uint64_t v47;
			VAL v48 = mtp_mirth_type_StackType_WithLabel(v10, &v46, &v47);
			TUP* v49;
			VAL v50;
			VAL v51;
			VAL v52 = mw_mirth_type_StackType_freshenZ_aux(v9, in_StackType_2, in_Subst_3, v48, &v49, &v50, &v51);
			TUP* v53;
			VAL v54;
			VAL v55 = mw_mirth_type_Resource_freshen(v49, v50, v46, &v53, &v54);
			VAL v56 = mtw_mirth_type_StackType_WithLabel(v51, v54, v47);
			branch_StackType_14 = v56;
			branch_Subst_13 = v55;
			branch_StackType_12 = v52;
			branch_ZPlusMirth_11 = v53;
		} break;
		default: {
			VAL v57 = mw_mirth_type_StackType_ZToType(v10);
			TUP* v58;
			VAL v59;
			VAL v60 = mw_mirth_type_Type_freshen(v9, in_Subst_3, v57, &v58, &v59);
			VAL v61 = mw_mirth_type_Type_ZToStackType(v59);
			branch_StackType_14 = v61;
			branch_Subst_13 = v60;
			branch_StackType_12 = in_StackType_2;
			branch_ZPlusMirth_11 = v58;
		} break;
	}
	*out_StackType_8 = branch_StackType_14;
	*out_Subst_7 = branch_Subst_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_11;
	return branch_StackType_12;
}
static VAL mw_mirth_type_StackType_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, VAL *out_StackType_6) {
	TUP* branch_ZPlusMirth_7;
	VAL branch_Ctx_8;
	VAL branch_StackType_9;
	switch (get_data_tag(in_StackType_3)) {
		case 0LL: { // Error
			VAL v10 = MKI64(0LL /* Error */);
			branch_StackType_9 = v10;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			VAL v11 = MKI64(1LL /* Ignore */);
			branch_StackType_9 = v11;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			VAL v12 = MKI64(2LL /* Unit */);
			branch_StackType_9 = v12;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v13 = mtp_mirth_type_StackType_Meta(in_StackType_3);
			TUP* v14;
			VAL v15;
			VAL v16 = mw_mirth_type_MetaVar_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v13, &v14, &v15);
			VAL v17 = mw_mirth_type_Type_ZToStackType(v15);
			branch_StackType_9 = v17;
			branch_Ctx_8 = v16;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 3LL: { // Var
			uint64_t v18 = mtp_mirth_type_StackType_Var(in_StackType_3);
			VAL v19 = mtw_mirth_type_StackType_Var(v18);
			branch_StackType_9 = v19;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			VAL v20;
			VAL v21 = mtp_mirth_type_StackType_Cons(in_StackType_3, &v20);
			TUP* v22;
			VAL v23;
			VAL v24 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v21, &v22, &v23);
			TUP* v25;
			VAL v26;
			VAL v27 = mw_mirth_type_Type_rigidifyZBang(v22, v24, v20, &v25, &v26);
			VAL v28 = mtw_mirth_type_StackType_Cons(v23, v26);
			branch_StackType_9 = v28;
			branch_Ctx_8 = v27;
			branch_ZPlusMirth_7 = v25;
		} break;
		case 6LL: { // ConsLabel
			VAL v29;
			uint64_t v30;
			VAL v31 = mtp_mirth_type_StackType_ConsLabel(in_StackType_3, &v29, &v30);
			TUP* v32;
			VAL v33;
			VAL v34 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v31, &v32, &v33);
			TUP* v35;
			VAL v36;
			VAL v37 = mw_mirth_type_Type_rigidifyZBang(v32, v34, v29, &v35, &v36);
			VAL v38 = mtw_mirth_type_StackType_ConsLabel(v33, v36, v30);
			branch_StackType_9 = v38;
			branch_Ctx_8 = v37;
			branch_ZPlusMirth_7 = v35;
		} break;
		case 7LL: { // With
			VAL v39;
			VAL v40 = mtp_mirth_type_StackType_With(in_StackType_3, &v39);
			TUP* v41;
			VAL v42;
			VAL v43 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v40, &v41, &v42);
			TUP* v44;
			VAL v45;
			VAL v46 = mw_mirth_type_Resource_rigidifyZBang(v41, v43, v39, &v44, &v45);
			VAL v47 = mtw_mirth_type_StackType_With(v42, v45);
			branch_StackType_9 = v47;
			branch_Ctx_8 = v46;
			branch_ZPlusMirth_7 = v44;
		} break;
		case 8LL: { // WithLabel
			VAL v48;
			uint64_t v49;
			VAL v50 = mtp_mirth_type_StackType_WithLabel(in_StackType_3, &v48, &v49);
			TUP* v51;
			VAL v52;
			VAL v53 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v50, &v51, &v52);
			TUP* v54;
			VAL v55;
			VAL v56 = mw_mirth_type_Resource_rigidifyZBang(v51, v53, v48, &v54, &v55);
			VAL v57 = mtw_mirth_type_StackType_WithLabel(v52, v55, v49);
			branch_StackType_9 = v57;
			branch_Ctx_8 = v56;
			branch_ZPlusMirth_7 = v54;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_StackType_6 = branch_StackType_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static VAL mw_mirth_type_StackType_linearZ_baseZ_metaZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_StackType_2)) {
		case 0LL: { // Error
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v10 = mtp_mirth_type_StackType_Meta(in_StackType_2);
			TUP* v11;
			VAL v12 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v10, &v11);
			TUP* branch_ZPlusMirth_13;
			VAL branch_Maybe_14;
			switch (get_data_tag(v12)) {
				case 0LL: { // None
					VAL v15 = mtw_std_maybe_Maybe_1_Some(MKU64(v10));
					branch_Maybe_14 = v15;
					branch_ZPlusMirth_13 = v11;
				} break;
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					TUP* v17;
					VAL v18 = mw_mirth_type_Type_expand(v11, v16, &v17);
					incref(v18);
					VAL v19 = mtw_std_maybe_Maybe_1_Some(v18);
					void* v20 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v10);
					mut_set(v19, v20);
					VAL v21 = mw_mirth_type_Type_ZToStackType(v18);
					TUP* v22;
					VAL v23 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v17, v21, &v22);
					branch_Maybe_14 = v23;
					branch_ZPlusMirth_13 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_14;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_13;
		} break;
		case 3LL: { // Var
			uint64_t v24 = mtp_mirth_type_StackType_Var(in_StackType_2);
			VAL v25 = MKI64(0LL /* None */);
			branch_Maybe_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			VAL v26;
			VAL v27 = mtp_mirth_type_StackType_Cons(in_StackType_2, &v26);
			TUP* v28;
			VAL v29 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v27, &v28);
			TUP* v30;
			VAL v31;
			VAL v32 = mw_std_maybe_Maybe_1_filter_1_sp6(v28, v26, v29, &v30, &v31);
			decref(v32);
			branch_Maybe_6 = v31;
			branch_ZPlusMirth_5 = v30;
		} break;
		case 7LL: { // With
			VAL v33;
			VAL v34 = mtp_mirth_type_StackType_With(in_StackType_2, &v33);
			TUP* v35;
			VAL v36 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v34, &v35);
			TUP* v37;
			VAL v38;
			VAL v39 = mw_std_maybe_Maybe_1_filter_1_sp7(v35, v33, v36, &v37, &v38);
			decref(v39);
			branch_Maybe_6 = v38;
			branch_ZPlusMirth_5 = v37;
		} break;
		case 6LL: { // ConsLabel
			VAL v40;
			uint64_t v41;
			VAL v42 = mtp_mirth_type_StackType_ConsLabel(in_StackType_2, &v40, &v41);
			TUP* v43;
			VAL v44 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v42, &v43);
			TUP* v45;
			VAL v46;
			VAL v47 = mw_std_maybe_Maybe_1_filter_1_sp6(v43, v40, v44, &v45, &v46);
			decref(v47);
			branch_Maybe_6 = v46;
			branch_ZPlusMirth_5 = v45;
		} break;
		case 8LL: { // WithLabel
			VAL v48;
			uint64_t v49;
			VAL v50 = mtp_mirth_type_StackType_WithLabel(in_StackType_2, &v48, &v49);
			TUP* v51;
			VAL v52 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v50, &v51);
			TUP* v53;
			VAL v54;
			VAL v55 = mw_std_maybe_Maybe_1_filter_1_sp7(v51, v48, v52, &v53, &v54);
			decref(v55);
			branch_Maybe_6 = v54;
			branch_ZPlusMirth_5 = v53;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_type_StackType_linearZ_baseZ_varZAsk (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_StackType_2)) {
		case 0LL: { // Error
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v10 = mtp_mirth_type_StackType_Meta(in_StackType_2);
			TUP* v11;
			VAL v12 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v10, &v11);
			TUP* branch_ZPlusMirth_13;
			VAL branch_Maybe_14;
			switch (get_data_tag(v12)) {
				case 0LL: { // None
					VAL v15 = MKI64(0LL /* None */);
					branch_Maybe_14 = v15;
					branch_ZPlusMirth_13 = v11;
				} break;
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					TUP* v17;
					VAL v18 = mw_mirth_type_Type_expand(v11, v16, &v17);
					incref(v18);
					VAL v19 = mtw_std_maybe_Maybe_1_Some(v18);
					void* v20 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v10);
					mut_set(v19, v20);
					VAL v21 = mw_mirth_type_Type_ZToStackType(v18);
					TUP* v22;
					VAL v23 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v17, v21, &v22);
					branch_Maybe_14 = v23;
					branch_ZPlusMirth_13 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_14;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_13;
		} break;
		case 3LL: { // Var
			uint64_t v24 = mtp_mirth_type_StackType_Var(in_StackType_2);
			VAL v25 = mtw_std_maybe_Maybe_1_Some(MKU64(v24));
			branch_Maybe_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			VAL v26;
			VAL v27 = mtp_mirth_type_StackType_Cons(in_StackType_2, &v26);
			TUP* v28;
			VAL v29 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(in_ZPlusMirth_1, v27, &v28);
			TUP* v30;
			VAL v31;
			VAL v32 = mw_std_maybe_Maybe_1_filter_1_sp2(v28, v26, v29, &v30, &v31);
			decref(v32);
			branch_Maybe_6 = v31;
			branch_ZPlusMirth_5 = v30;
		} break;
		case 7LL: { // With
			VAL v33;
			VAL v34 = mtp_mirth_type_StackType_With(in_StackType_2, &v33);
			TUP* v35;
			VAL v36 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(in_ZPlusMirth_1, v34, &v35);
			TUP* v37;
			VAL v38;
			VAL v39 = mw_std_maybe_Maybe_1_filter_1_sp3(v35, v33, v36, &v37, &v38);
			decref(v39);
			branch_Maybe_6 = v38;
			branch_ZPlusMirth_5 = v37;
		} break;
		case 6LL: { // ConsLabel
			VAL v40;
			uint64_t v41;
			VAL v42 = mtp_mirth_type_StackType_ConsLabel(in_StackType_2, &v40, &v41);
			TUP* v43;
			VAL v44 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(in_ZPlusMirth_1, v42, &v43);
			TUP* v45;
			VAL v46;
			VAL v47 = mw_std_maybe_Maybe_1_filter_1_sp2(v43, v40, v44, &v45, &v46);
			decref(v47);
			branch_Maybe_6 = v46;
			branch_ZPlusMirth_5 = v45;
		} break;
		case 8LL: { // WithLabel
			VAL v48;
			uint64_t v49;
			VAL v50 = mtp_mirth_type_StackType_WithLabel(in_StackType_2, &v48, &v49);
			TUP* v51;
			VAL v52 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(in_ZPlusMirth_1, v50, &v51);
			TUP* v53;
			VAL v54;
			VAL v55 = mw_std_maybe_Maybe_1_filter_1_sp3(v51, v48, v52, &v53, &v54);
			decref(v55);
			branch_Maybe_6 = v54;
			branch_ZPlusMirth_5 = v53;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_type_StackType_splitZ_parts (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3, VAL *out_List_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_std_either_Either_2_Right(in_StackType_2);
	bool v8 = true;
	VAL v9 = v6;
	TUP* v10 = in_ZPlusMirth_1;
	VAL v11 = v7;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		VAL v14 = v9;
		TUP* v15 = v10;
		VAL v16 = v11;
		bool v17 = v12;
		incref(v16);
		VAL v18 = mw_std_either_Either_2_rightZAsk(v16);
		VAL branch_List_19;
		TUP* branch_ZPlusMirth_20;
		VAL branch_Either_21;
		bool branch_Bool_22;
		switch (get_data_tag(v18)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v18);
				decref(v16);
				TUP* v24;
				VAL v25 = mw_mirth_type_StackType_expand(v15, v23, &v24);
				VAL branch_List_26;
				TUP* branch_ZPlusMirth_27;
				VAL branch_Either_28;
				switch (get_data_tag(v25)) {
					case 0LL: { // Error
						VAL v29 = MKI64(0LL /* Error */);
						VAL v30 = mtw_std_either_Either_2_Left(v29);
						branch_Either_28 = v30;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 1LL: { // Ignore
						VAL v31 = MKI64(1LL /* Ignore */);
						VAL v32 = mtw_std_either_Either_2_Left(v31);
						branch_Either_28 = v32;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 3LL: { // Var
						uint64_t v33 = mtp_mirth_type_StackType_Var(v25);
						VAL v34 = mtw_mirth_type_StackTypeBase_Var(v33);
						VAL v35 = mtw_std_either_Either_2_Left(v34);
						branch_Either_28 = v35;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 4LL: { // Meta
						uint64_t v36 = mtp_mirth_type_StackType_Meta(v25);
						VAL v37 = mtw_mirth_type_StackTypeBase_Meta(v36);
						VAL v38 = mtw_std_either_Either_2_Left(v37);
						branch_Either_28 = v38;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 2LL: { // Unit
						VAL v39 = MKI64(2LL /* Unit */);
						VAL v40 = mtw_std_either_Either_2_Left(v39);
						branch_Either_28 = v40;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v14;
					} break;
					case 5LL: { // Cons
						VAL v41;
						VAL v42 = mtp_mirth_type_StackType_Cons(v25, &v41);
						VAL v43 = mtw_mirth_type_StackTypePart_Cons(v41);
						VAL v44 = mw_std_list_List_1_cons(v43, v14);
						VAL v45 = mtw_std_either_Either_2_Right(v42);
						branch_Either_28 = v45;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v44;
					} break;
					case 7LL: { // With
						VAL v46;
						VAL v47 = mtp_mirth_type_StackType_With(v25, &v46);
						VAL v48 = mtw_mirth_type_StackTypePart_With(v46);
						VAL v49 = mw_std_list_List_1_cons(v48, v14);
						VAL v50 = mtw_std_either_Either_2_Right(v47);
						branch_Either_28 = v50;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v49;
					} break;
					case 6LL: { // ConsLabel
						VAL v51;
						uint64_t v52;
						VAL v53 = mtp_mirth_type_StackType_ConsLabel(v25, &v51, &v52);
						VAL v54 = mtw_mirth_type_StackTypePart_ConsLabel(v51, v52);
						VAL v55 = mw_std_list_List_1_cons(v54, v14);
						VAL v56 = mtw_std_either_Either_2_Right(v53);
						branch_Either_28 = v56;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v55;
					} break;
					case 8LL: { // WithLabel
						VAL v57;
						uint64_t v58;
						VAL v59 = mtp_mirth_type_StackType_WithLabel(v25, &v57, &v58);
						VAL v60 = mtw_mirth_type_StackTypePart_WithLabel(v57, v58);
						VAL v61 = mw_std_list_List_1_cons(v60, v14);
						VAL v62 = mtw_std_either_Either_2_Right(v59);
						branch_Either_28 = v62;
						branch_ZPlusMirth_27 = v24;
						branch_List_26 = v61;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v63 = true;
				branch_Bool_22 = v63;
				branch_Either_21 = branch_Either_28;
				branch_ZPlusMirth_20 = branch_ZPlusMirth_27;
				branch_List_19 = branch_List_26;
			} break;
			case 0LL: { // None
				bool v64 = false;
				branch_Bool_22 = v64;
				branch_Either_21 = v16;
				branch_ZPlusMirth_20 = v15;
				branch_List_19 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_22;
		v12 = branch_Bool_22;
		v11 = branch_Either_21;
		v10 = branch_ZPlusMirth_20;
		v9 = branch_List_19;
	}
	VAL v65 = mw_std_either_Either_2_leftZAsk(v11);
	VAL v66 = mw_std_maybe_Maybe_1_unwrap_1_sp1(v65);
	*out_List_5 = v9;
	*out_ZPlusMirth_3 = v10;
	return v66;
}
static TUP* mw_mirth_type_StackType_ctype (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6;
	VAL v7 = mw_mirth_type_StackType_splitZ_parts(in_ZPlusMirth_1, in_StackType_2, &v5, &v6);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	TUP* v11 = v5;
	VAL v12 = v9;
	VAL v13 = v6;
	bool v14 = v10;
	bool v15 = v10;
	while (v15) {
		TUP* v16 = v11;
		VAL v17 = v12;
		VAL v18 = v13;
		bool v19 = v14;
		TUP* branch_ZPlusMirth_20;
		VAL branch_ZPlusLister_21;
		VAL branch_List_22;
		bool branch_Bool_23;
		switch (get_data_tag(v18)) {
			case 1LL: { // Cons
				VAL v24;
				VAL v25 = mtp_std_list_List_1_Cons(v18, &v24);
				TUP* v26;
				VAL v27 = mw_mirth_type_StackTypePart_ctype(v16, v25, &v26);
				VAL v28;
				mw_std_list_ZPlusLister_1_pushZBang(v27, v17, &v28);
				bool v29 = true;
				branch_Bool_23 = v29;
				branch_List_22 = v24;
				branch_ZPlusLister_21 = v28;
				branch_ZPlusMirth_20 = v26;
			} break;
			case 0LL: { // Nil
				VAL v30 = MKI64(0LL /* Nil */);
				bool v31 = false;
				branch_Bool_23 = v31;
				branch_List_22 = v30;
				branch_ZPlusLister_21 = v17;
				branch_ZPlusMirth_20 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_23;
		v14 = branch_Bool_23;
		v13 = branch_List_22;
		v12 = branch_ZPlusLister_21;
		v11 = branch_ZPlusMirth_20;
	}
	decref(v13);
	VAL v32 = mw_std_list_ZPlusLister_1_doneZBang(v12);
	TUP* v33;
	VAL v34 = mw_mirth_type_StackTypeBase_ctypeZAsk(v11, v7, &v33);
	TUP* v35 = mtw_mirth_type_CTypeStack_CTypeStack(v34, v32);
	*out_ZPlusMirth_3 = v33;
	return v35;
}
static bool mw_mirth_type_StackTypeBase_unitZAsk (TUP* in_ZPlusMirth_1, VAL in_StackTypeBase_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_StackTypeBase_2)) {
		case 2LL: { // Unit
			bool v7 = true;
			branch_Bool_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v8 = mtp_mirth_type_StackTypeBase_Meta(in_StackTypeBase_2);
			TUP* v9;
			bool v10 = mw_mirth_type_MetaVar_unitZ_stackZAsk(in_ZPlusMirth_1, v8, &v9);
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		default: {
			decref(in_StackTypeBase_2);
			bool v11 = false;
			branch_Bool_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_type_StackTypeBase_baseZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_StackTypeBase_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* branch_ZPlusMirth_7;
	STR* branch_ZPlusStr_8;
	bool branch_Bool_9;
	switch (get_data_tag(in_StackTypeBase_3)) {
		case 2LL: { // Unit
			bool v10 = false;
			branch_Bool_9 = v10;
			branch_ZPlusStr_8 = in_ZPlusStr_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v11 = mtp_mirth_type_StackTypeBase_Meta(in_StackTypeBase_3);
			STR* v12;
			STRLIT(v12, "*", 1);
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, in_ZPlusStr_2, &v13);
			TUP* v14;
			STR* v15;
			mw_mirth_type_MetaVar_typeZThen(in_ZPlusMirth_1, v13, v11, &v14, &v15);
			bool v16 = true;
			branch_Bool_9 = v16;
			branch_ZPlusStr_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 3LL: { // Var
			uint64_t v17 = mtp_mirth_type_StackTypeBase_Var(in_StackTypeBase_3);
			TUP* v18;
			bool v19 = mw_mirth_var_Var_isZ_stackZAsk(in_ZPlusMirth_1, v17, &v18);
			STR* branch_ZPlusStr_20;
			if (v19) {
				branch_ZPlusStr_20 = in_ZPlusStr_2;
			} else {
				STR* v21;
				STRLIT(v21, "* ", 2);
				STR* v22;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, in_ZPlusStr_2, &v22);
				branch_ZPlusStr_20 = v22;
			}
			TUP* v23;
			STR* v24;
			mw_mirth_var_Var_typeZThen(v18, branch_ZPlusStr_20, v17, &v23, &v24);
			bool v25 = true;
			branch_Bool_9 = v25;
			branch_ZPlusStr_8 = v24;
			branch_ZPlusMirth_7 = v23;
		} break;
		case 0LL: { // Error
			STR* v26;
			STRLIT(v26, "*<ERROR>", 8);
			STR* v27;
			mw_std_str_ZPlusStr_pushZ_strZBang(v26, in_ZPlusStr_2, &v27);
			bool v28 = true;
			branch_Bool_9 = v28;
			branch_ZPlusStr_8 = v27;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			STR* v29;
			STRLIT(v29, "*_", 2);
			STR* v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, in_ZPlusStr_2, &v30);
			bool v31 = true;
			branch_Bool_9 = v31;
			branch_ZPlusStr_8 = v30;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Bool_9;
}
static VAL mw_mirth_type_StackTypeBase_ctypeZAsk (TUP* in_ZPlusMirth_1, VAL in_StackTypeBase_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_StackTypeBase_2)) {
		case 0LL: { // Error
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Unit
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v10 = mtp_mirth_type_StackTypeBase_Meta(in_StackTypeBase_2);
			VAL v11 = MKI64(0LL /* None */);
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Var
			uint64_t v12 = mtp_mirth_type_StackTypeBase_Var(in_StackTypeBase_2);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v12));
			branch_Maybe_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_type_StackTypePart_cons (VAL in_StackType_1, VAL in_StackTypePart_2) {
	VAL branch_StackType_4;
	switch (get_data_tag(in_StackTypePart_2)) {
		case 0LL: { // Cons
			VAL v5 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_2);
			VAL v6 = mtw_mirth_type_StackType_Cons(in_StackType_1, v5);
			branch_StackType_4 = v6;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v7;
			VAL v8 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_2, &v7);
			VAL v9 = mtw_mirth_type_StackType_ConsLabel(in_StackType_1, v8, v7);
			branch_StackType_4 = v9;
		} break;
		case 2LL: { // With
			VAL v10 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_2);
			VAL v11 = mtw_mirth_type_StackType_With(in_StackType_1, v10);
			branch_StackType_4 = v11;
		} break;
		case 3LL: { // WithLabel
			uint64_t v12;
			VAL v13 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_2, &v12);
			VAL v14 = mtw_mirth_type_StackType_WithLabel(in_StackType_1, v13, v12);
			branch_StackType_4 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_StackType_4;
}
static VAL mw_mirth_type_StackTypePart_typeZDivresource (VAL in_StackTypePart_1) {
	VAL branch_Either_3;
	switch (get_data_tag(in_StackTypePart_1)) {
		case 0LL: { // Cons
			VAL v4 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_1);
			VAL v5 = mtw_std_either_Either_2_Left(v4);
			branch_Either_3 = v5;
		} break;
		case 2LL: { // With
			VAL v6 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_1);
			VAL v7 = mtw_std_either_Either_2_Right(v6);
			branch_Either_3 = v7;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v8;
			VAL v9 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_1, &v8);
			VAL v10 = mtw_std_either_Either_2_Left(v9);
			branch_Either_3 = v10;
		} break;
		case 3LL: { // WithLabel
			uint64_t v11;
			VAL v12 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_1, &v11);
			VAL v13 = mtw_std_either_Either_2_Right(v12);
			branch_Either_3 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Either_3;
}
static VAL mw_mirth_type_StackTypePart_label (VAL in_StackTypePart_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_StackTypePart_1)) {
		case 0LL: { // Cons
			VAL v4 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_1);
			decref(v4);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 2LL: { // With
			VAL v6 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_1);
			decref(v6);
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_3 = v7;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v8;
			VAL v9 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_1, &v8);
			decref(v9);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(MKU64(v8));
			branch_Maybe_3 = v10;
		} break;
		case 3LL: { // WithLabel
			uint64_t v11;
			VAL v12 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_1, &v11);
			decref(v12);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v11));
			branch_Maybe_3 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_type_StackTypePart_ctype (TUP* in_ZPlusMirth_1, VAL in_StackTypePart_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_CTypeStackPart_6;
	switch (get_data_tag(in_StackTypePart_2)) {
		case 0LL: { // Cons
			VAL v7 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_2);
			TUP* v8;
			VAL v9 = mw_mirth_type_Type_ctype(in_ZPlusMirth_1, v7, &v8);
			VAL v10 = mtw_mirth_type_CTypeStackPart_Cons(v9);
			branch_CTypeStackPart_6 = v10;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v11;
			VAL v12 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_2, &v11);
			TUP* v13;
			VAL v14 = mw_mirth_type_Type_ctype(in_ZPlusMirth_1, v12, &v13);
			VAL v15 = mtw_mirth_type_CTypeStackPart_ConsLabel(v14, v11);
			branch_CTypeStackPart_6 = v15;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 2LL: { // With
			VAL v16 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_2);
			TUP* v17;
			VAL v18 = mw_mirth_type_Resource_ctype(in_ZPlusMirth_1, v16, &v17);
			VAL v19 = mtw_mirth_type_CTypeStackPart_With(v18);
			branch_CTypeStackPart_6 = v19;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 3LL: { // WithLabel
			uint64_t v20;
			VAL v21 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_2, &v20);
			TUP* v22;
			VAL v23 = mw_mirth_type_Resource_ctype(in_ZPlusMirth_1, v21, &v22);
			VAL v24 = mtw_mirth_type_CTypeStackPart_WithLabel(v23, v20);
			branch_CTypeStackPart_6 = v24;
			branch_ZPlusMirth_5 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_CTypeStackPart_6;
}
static TUP* mw_mirth_type_ArrowType_FreshZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v4;
	VAL v5 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v4);
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_FreshZBang(v4, &v6);
	TUP* v8 = mw_mirth_type_TZ_ZTo(v5, v7);
	*out_ZPlusMirth_2 = v6;
	return v8;
}
static TUP* mw_mirth_type_ArrowType_invert (TUP* in_ArrowType_1) {
	VAL v3;
	VAL v4;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_1, &v3, &v4);
	TUP* v5 = mtw_mirth_type_ArrowType_ArrowType(v4, v3);
	return v5;
}
static TUP* mw_mirth_type_ArrowType_unifyZBang (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v6, &v7);
	VAL v8;
	VAL v9;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v8, &v9);
	TUP* v10;
	VAL v11 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, v8, v6, &v10);
	TUP* v12;
	VAL v13 = mw_mirth_type_StackType_unifyZBang(v10, v9, v7, &v12);
	TUP* v14 = mtw_mirth_type_ArrowType_ArrowType(v11, v13);
	*out_ZPlusMirth_4 = v12;
	return v14;
}
static TUP* mw_mirth_type_ArrowType_unifyZ_errorZBang (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_ArrowType_2, 2));
	VAL v5 = in_ArrowType_2->cells[0];
	incref(v5);
	decref(MKTUP(in_ArrowType_2, 2));
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, v5, &v6);
	VAL v8 = tup_replace(MKTUP(in_ArrowType_2, 2), 0, v7);
	incref(v8);
	VAL v9 = VTUP(v8)->cells[1];
	incref(v9);
	decref(v8);
	TUP* v10;
	VAL v11 = mw_mirth_type_StackType_unifyZ_errorZBang(v6, v9, &v10);
	VAL v12 = tup_replace(v8, 1, v11);
	*out_ZPlusMirth_3 = v10;
	return value_tup(v12, 2);
}
static bool mw_mirth_type_ArrowType_hasZ_metaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_MetaVar_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v6, &v7);
	TUP* v8;
	bool v9 = mw_mirth_type_StackType_hasZ_metaZAsk(in_ZPlusMirth_1, in_MetaVar_2, v6, &v8);
	TUP* branch_ZPlusMirth_10;
	bool branch_Bool_11;
	if (v9) {
		decref(v7);
		bool v12 = true;
		branch_Bool_11 = v12;
		branch_ZPlusMirth_10 = v8;
	} else {
		TUP* v13;
		bool v14 = mw_mirth_type_StackType_hasZ_metaZAsk(v8, in_MetaVar_2, v7, &v13);
		branch_Bool_11 = v14;
		branch_ZPlusMirth_10 = v13;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Bool_11;
}
static bool mw_mirth_type_ArrowType_hasZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Var_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v6, &v7);
	TUP* v8;
	bool v9 = mw_mirth_type_StackType_hasZ_varZAsk(in_ZPlusMirth_1, in_Var_2, v6, &v8);
	TUP* branch_ZPlusMirth_10;
	bool branch_Bool_11;
	if (v9) {
		decref(v7);
		bool v12 = true;
		branch_Bool_11 = v12;
		branch_ZPlusMirth_10 = v8;
	} else {
		TUP* v13;
		bool v14 = mw_mirth_type_StackType_hasZ_varZAsk(v8, in_Var_2, v7, &v13);
		branch_Bool_11 = v14;
		branch_ZPlusMirth_10 = v13;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Bool_11;
}
static void mw_mirth_type_ArrowType_sigZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	VAL v6;
	VAL v7;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v6, &v7);
	TUP* v8;
	STR* v9;
	mw_mirth_type_StackType_domZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v8, &v9);
	STR* v10;
	STRLIT(v10, "--", 2);
	STR* v11;
	mw_std_str_ZPlusStr_pushZ_strZBang(v10, v9, &v11);
	TUP* v12;
	STR* v13;
	mw_mirth_type_StackType_codZThen(v8, v11, v7, &v12, &v13);
	*out_ZPlusStr_5 = v13;
	*out_ZPlusMirth_4 = v12;
}
static TUP* mw_mirth_type_ArrowType_semifreshenZ_sig (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_ArrowType_2, 2));
	TUP* v5;
	bool v6 = mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk(in_ZPlusMirth_1, in_ArrowType_2, &v5);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ArrowType_8;
	if (v6) {
		TUP* v9;
		TUP* v10 = mw_mirth_type_ArrowType_semifreshenZ_aux(v5, in_ArrowType_2, &v9);
		branch_ArrowType_8 = v10;
		branch_ZPlusMirth_7 = v9;
	} else {
		branch_ArrowType_8 = in_ArrowType_2;
		branch_ZPlusMirth_7 = v5;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_ArrowType_8;
}
static TUP* mw_mirth_type_ArrowType_semifreshenZ_aux (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v5, &v6);
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v7);
	TUP* v9;
	VAL v10;
	VAL v11 = mw_mirth_type_StackType_semifreshen(v7, v8, v6, &v9, &v10);
	TUP* v12;
	VAL v13;
	VAL v14 = mw_mirth_type_StackType_semifreshen(v9, v11, v5, &v12, &v13);
	TUP* v15 = mtw_mirth_type_ArrowType_ArrowType(v13, v10);
	decref(v14);
	*out_ZPlusMirth_3 = v12;
	return v15;
}
static bool mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v5, &v6);
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_base(in_ZPlusMirth_1, v5, &v7);
	TUP* v9;
	bool v10 = mw_mirth_type_StackTypeBase_unitZAsk(v7, v8, &v9);
	VAL branch_StackType_11;
	TUP* branch_ZPlusMirth_12;
	bool branch_Bool_13;
	if (v10) {
		incref(v6);
		TUP* v14;
		VAL v15 = mw_mirth_type_StackType_base(v9, v6, &v14);
		TUP* v16;
		bool v17 = mw_mirth_type_StackTypeBase_unitZAsk(v14, v15, &v16);
		branch_Bool_13 = v17;
		branch_ZPlusMirth_12 = v16;
		branch_StackType_11 = v6;
	} else {
		bool v18 = false;
		branch_Bool_13 = v18;
		branch_ZPlusMirth_12 = v9;
		branch_StackType_11 = v6;
	}
	decref(branch_StackType_11);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return branch_Bool_13;
}
static VAL mw_mirth_type_ArrowType_freshenZ_sig (TUP* in_ZPlusMirth_1, VAL in_Subst_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6) {
	incref(MKTUP(in_ArrowType_3, 2));
	TUP* v7;
	bool v8 = mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk(in_ZPlusMirth_1, in_ArrowType_3, &v7);
	TUP* branch_ZPlusMirth_9;
	VAL branch_Subst_10;
	TUP* branch_ArrowType_11;
	if (v8) {
		TUP* v12;
		TUP* v13;
		VAL v14 = mw_mirth_type_ArrowType_freshenZ_sigZ_aux(v7, in_Subst_2, in_ArrowType_3, &v12, &v13);
		branch_ArrowType_11 = v13;
		branch_Subst_10 = v14;
		branch_ZPlusMirth_9 = v12;
	} else {
		TUP* v15;
		TUP* v16;
		VAL v17 = mw_mirth_type_ArrowType_freshen(v7, in_Subst_2, in_ArrowType_3, &v15, &v16);
		branch_ArrowType_11 = v16;
		branch_Subst_10 = v17;
		branch_ZPlusMirth_9 = v15;
	}
	*out_ArrowType_6 = branch_ArrowType_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Subst_10;
}
static VAL mw_mirth_type_ArrowType_freshenZ_sigZ_aux (TUP* in_ZPlusMirth_1, VAL in_Subst_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6) {
	VAL v7;
	VAL v8;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v7, &v8);
	TUP* v9;
	VAL v10 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v9);
	TUP* v11;
	VAL v12;
	VAL v13;
	VAL v14 = mw_mirth_type_StackType_freshenZ_aux(v9, v10, in_Subst_2, v7, &v11, &v12, &v13);
	TUP* v15;
	VAL v16;
	VAL v17;
	VAL v18 = mw_mirth_type_StackType_freshenZ_aux(v11, v14, v12, v8, &v15, &v16, &v17);
	TUP* v19 = mtw_mirth_type_ArrowType_ArrowType(v13, v17);
	decref(v18);
	*out_ArrowType_6 = v19;
	*out_ZPlusMirth_4 = v15;
	return v16;
}
static VAL mw_mirth_type_ArrowType_freshen (TUP* in_ZPlusMirth_1, VAL in_Subst_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6) {
	VAL v7;
	VAL v8;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v7, &v8);
	TUP* v9;
	VAL v10;
	VAL v11 = mw_mirth_type_StackType_freshen(in_ZPlusMirth_1, in_Subst_2, v7, &v9, &v10);
	TUP* v12;
	VAL v13;
	VAL v14 = mw_mirth_type_StackType_freshen(v9, v11, v8, &v12, &v13);
	TUP* v15 = mtw_mirth_type_ArrowType_ArrowType(v10, v13);
	*out_ArrowType_6 = v15;
	*out_ZPlusMirth_4 = v12;
	return v14;
}
static VAL mw_mirth_type_ArrowType_rigidifyZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6) {
	VAL v7;
	VAL v8;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_3, &v7, &v8);
	TUP* v9;
	VAL v10;
	VAL v11 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v7, &v9, &v10);
	TUP* v12;
	VAL v13;
	VAL v14 = mw_mirth_type_StackType_rigidifyZBang(v9, v11, v8, &v12, &v13);
	TUP* v15 = mtw_mirth_type_ArrowType_ArrowType(v10, v13);
	*out_ArrowType_6 = v15;
	*out_ZPlusMirth_4 = v12;
	return v14;
}
static VAL mw_mirth_type_ArrowType_rigidifyZ_sigZBang (TUP* in_ZPlusMirth_1, VAL in_Ctx_2, TUP* in_ArrowType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ArrowType_6) {
	incref(MKTUP(in_ArrowType_3, 2));
	VAL v7 = in_ArrowType_3->cells[0];
	incref(v7);
	decref(MKTUP(in_ArrowType_3, 2));
	TUP* v8;
	VAL v9 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(in_ZPlusMirth_1, v7, &v8);
	TUP* branch_ArrowType_10;
	TUP* branch_ZPlusMirth_11;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v9);
			incref(MKTUP(in_ArrowType_3, 2));
			VAL v13 = in_ArrowType_3->cells[1];
			incref(v13);
			decref(MKTUP(in_ArrowType_3, 2));
			TUP* v14;
			VAL v15 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v8, v13, &v14);
			uint64_t branch_MetaVar_16;
			switch (get_data_tag(v15)) {
				case 1LL: { // Some
					VAL v17 = mtp_std_maybe_Maybe_1_Some(v15);
					incref(v12);
					bool v18 = mw_mirth_type_MetaVar_ZEqual(value_u64(v17), value_u64(v12));
					uint64_t branch_MetaVar_19;
					if (v18) {
						VAL v20 = mw_mirth_type_Type_Unit();
						VAL v21 = mtw_std_maybe_Maybe_1_Some(v20);
						incref(v12);
						void* v22 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, value_u64(v12));
						mut_set(v21, v22);
						branch_MetaVar_19 = value_u64(v12);
					} else {
						branch_MetaVar_19 = value_u64(v12);
					}
					branch_MetaVar_16 = branch_MetaVar_19;
				} break;
				case 0LL: { // None
					branch_MetaVar_16 = value_u64(v12);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusMirth_11 = v14;
			branch_ArrowType_10 = in_ArrowType_3;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_11 = v8;
			branch_ArrowType_10 = in_ArrowType_3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v23;
	TUP* v24;
	VAL v25 = mw_mirth_type_ArrowType_rigidifyZBang(branch_ZPlusMirth_11, in_Ctx_2, branch_ArrowType_10, &v23, &v24);
	*out_ArrowType_6 = v24;
	*out_ZPlusMirth_4 = v23;
	return v25;
}
static TUP* mw_mirth_type_ArrowType_ctype (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v5, &v6);
	TUP* v7;
	TUP* v8 = mw_mirth_type_StackType_ctype(in_ZPlusMirth_1, v5, &v7);
	TUP* v9;
	TUP* v10 = mw_mirth_type_StackType_ctype(v7, v6, &v9);
	TUP* v11 = mtw_mirth_type_CTypeArrow_CTypeArrow(v8, v10);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static VAL mw_mirth_type_Subst_Nil (void) {
	VAL v2 = mw_std_map_Map_2_Nil();
	return v2;
}
static VAL mw_mirth_type_Subst_cons (VAL in_Type_1, uint64_t in_Var_2, VAL in_Subst_3) {
	TUP* v5 = mtw_std_map_KeyValuePair_2_KeyValuePair(MKU64(in_Var_2), in_Type_1);
	incref(in_Subst_3);
	VAL v6 = mw_std_map_Map_2_insert(v5, in_Subst_3);
	decref(in_Subst_3);
	return v6;
}
static VAL mw_mirth_type_Subst_lookupZ_var (uint64_t in_Var_1, VAL in_Subst_2) {
	VAL v4 = mw_std_map_Map_2_lookup_sp2(in_Var_1, in_Subst_2);
	return v4;
}
static bool mw_mirth_type_Subst_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Subst_2) {
	VAL v4 = mw_mirth_type_Subst_lookupZ_var(in_Var_1, in_Subst_2);
	int64_t v5 = get_data_tag(v4);
	decref(v4);
	INT v6 = WRAP_I63(0LL);
	INT v7 = i64_to_int(v5);
	bool v8 = int_eq(v7, v6);
	bool v9 = !v8;
	return v9;
}
static VAL mw_mirth_type_Subst_getZ_var (uint64_t in_Var_1, VAL in_Subst_2) {
	VAL v4 = mw_mirth_type_Subst_lookupZ_var(in_Var_1, in_Subst_2);
	VAL branch_Type_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			branch_Type_5 = v6;
		} break;
		case 0LL: { // None
			VAL v7 = MKI64(0LL /* Error */);
			branch_Type_5 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Type_5;
}
static STR* mw_mirth_type_CType_cname (VAL in_CType_1) {
	STR* branch_Str_3;
	switch (get_data_tag(in_CType_1)) {
		case 0LL: { // UInt
			STR* v4 = mtp_mirth_type_CType_UInt(in_CType_1);
			branch_Str_3 = v4;
		} break;
		case 1LL: { // Int
			STR* v5 = mtp_mirth_type_CType_Int(in_CType_1);
			branch_Str_3 = v5;
		} break;
		case 2LL: { // F32
			STR* v6 = mtp_mirth_type_CType_F32(in_CType_1);
			branch_Str_3 = v6;
		} break;
		case 3LL: { // F64
			STR* v7 = mtp_mirth_type_CType_F64(in_CType_1);
			branch_Str_3 = v7;
		} break;
		case 4LL: { // Ptr
			STR* v8 = mtp_mirth_type_CType_Ptr(in_CType_1);
			branch_Str_3 = v8;
		} break;
		case 5LL: { // FnPtr
			STR* v9 = mtp_mirth_type_CType_FnPtr(in_CType_1);
			branch_Str_3 = v9;
		} break;
		case 6LL: { // Void
			STR* v10 = mtp_mirth_type_CType_Void(in_CType_1);
			branch_Str_3 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static VAL mw_mirth_type_CType_qualify (STR* in_Str_1, VAL in_CType_2) {
	VAL branch_CType_4;
	switch (get_data_tag(in_CType_2)) {
		case 0LL: { // UInt
			STR* v5 = mtp_mirth_type_CType_UInt(in_CType_2);
			STR* v6 = mw_std_prim_Str_Str_1_sp72(in_Str_1, v5);
			VAL v7 = mtw_mirth_type_CType_UInt(v6);
			branch_CType_4 = v7;
		} break;
		case 1LL: { // Int
			STR* v8 = mtp_mirth_type_CType_Int(in_CType_2);
			STR* v9 = mw_std_prim_Str_Str_1_sp72(in_Str_1, v8);
			VAL v10 = mtw_mirth_type_CType_Int(v9);
			branch_CType_4 = v10;
		} break;
		case 2LL: { // F32
			STR* v11 = mtp_mirth_type_CType_F32(in_CType_2);
			STR* v12 = mw_std_prim_Str_Str_1_sp72(in_Str_1, v11);
			VAL v13 = mtw_mirth_type_CType_F32(v12);
			branch_CType_4 = v13;
		} break;
		case 3LL: { // F64
			STR* v14 = mtp_mirth_type_CType_F64(in_CType_2);
			STR* v15 = mw_std_prim_Str_Str_1_sp72(in_Str_1, v14);
			VAL v16 = mtw_mirth_type_CType_F64(v15);
			branch_CType_4 = v16;
		} break;
		case 6LL: { // Void
			STR* v17 = mtp_mirth_type_CType_Void(in_CType_2);
			STR* v18 = mw_std_prim_Str_Str_1_sp72(in_Str_1, v17);
			VAL v19 = mtw_mirth_type_CType_Void(v18);
			branch_CType_4 = v19;
		} break;
		case 4LL: { // Ptr
			STR* v20 = mtp_mirth_type_CType_Ptr(in_CType_2);
			STR* v21 = mw_std_prim_Str_Str_1_sp73(in_Str_1, v20);
			VAL v22 = mtw_mirth_type_CType_Ptr(v21);
			branch_CType_4 = v22;
		} break;
		case 5LL: { // FnPtr
			STR* v23 = mtp_mirth_type_CType_FnPtr(in_CType_2);
			STR* v24 = mw_std_prim_Str_Str_1_sp73(in_Str_1, v23);
			VAL v25 = mtw_mirth_type_CType_FnPtr(v24);
			branch_CType_4 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_CType_4;
}
static VAL mw_mirth_type_CType_const (VAL in_CType_1) {
	STR* v3;
	STRLIT(v3, "const", 5);
	VAL v4 = mw_mirth_type_CType_qualify(v3, in_CType_1);
	return v4;
}
static VAL mw_mirth_type_CType_restrict (VAL in_CType_1) {
	STR* v3;
	STRLIT(v3, "restrict", 8);
	VAL v4 = mw_mirth_type_CType_qualify(v3, in_CType_1);
	return v4;
}
static VAL mw_mirth_type_CType_volatile (VAL in_CType_1) {
	STR* v3;
	STRLIT(v3, "volatile", 8);
	VAL v4 = mw_mirth_type_CType_qualify(v3, in_CType_1);
	return v4;
}
static VAL mw_mirth_type_CType_ptr (VAL in_CType_1) {
	STR* v3 = mw_mirth_type_CType_cname(in_CType_1);
	STR* v4;
	STRLIT(v4, " *", 2);
	STR* v5 = str_cat(v3, v4);
	VAL v6 = mtw_mirth_type_CType_Ptr(v5);
	return v6;
}
static bool mw_mirth_type_CType_phantomZAsk (VAL in_CType_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_CType_1)) {
		case 6LL: { // Void
			STR* v4 = mtp_mirth_type_CType_Void(in_CType_1);
			decref(MKSTR(v4));
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		default: {
			decref(in_CType_1);
			bool v6 = false;
			branch_Bool_3 = v6;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_type_CTypeStackPart_ctype (VAL in_CTypeStackPart_1) {
	VAL branch_CType_3;
	switch (get_data_tag(in_CTypeStackPart_1)) {
		case 0LL: { // Cons
			VAL v4 = mtp_mirth_type_CTypeStackPart_Cons(in_CTypeStackPart_1);
			branch_CType_3 = v4;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v5;
			VAL v6 = mtp_mirth_type_CTypeStackPart_ConsLabel(in_CTypeStackPart_1, &v5);
			branch_CType_3 = v6;
		} break;
		case 2LL: { // With
			VAL v7 = mtp_mirth_type_CTypeStackPart_With(in_CTypeStackPart_1);
			branch_CType_3 = v7;
		} break;
		case 3LL: { // WithLabel
			uint64_t v8;
			VAL v9 = mtp_mirth_type_CTypeStackPart_WithLabel(in_CTypeStackPart_1, &v8);
			branch_CType_3 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_CType_3;
}
static VAL mw_mirth_type_CTypeStackPart_labelZAsk (VAL in_CTypeStackPart_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_CTypeStackPart_1)) {
		case 0LL: { // Cons
			VAL v4 = mtp_mirth_type_CTypeStackPart_Cons(in_CTypeStackPart_1);
			decref(v4);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v6;
			VAL v7 = mtp_mirth_type_CTypeStackPart_ConsLabel(in_CTypeStackPart_1, &v6);
			decref(v7);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(MKU64(v6));
			branch_Maybe_3 = v8;
		} break;
		case 2LL: { // With
			VAL v9 = mtp_mirth_type_CTypeStackPart_With(in_CTypeStackPart_1);
			decref(v9);
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_3 = v10;
		} break;
		case 3LL: { // WithLabel
			uint64_t v11;
			VAL v12 = mtp_mirth_type_CTypeStackPart_WithLabel(in_CTypeStackPart_1, &v11);
			decref(v12);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v11));
			branch_Maybe_3 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_prim_Prim_Min (void) {
	int64_t v2 = 0LL /* Id */;
	return v2;
}
static int64_t mw_mirth_prim_Prim_Max (void) {
	int64_t v2 = 175LL /* SysArgv */;
	return v2;
}
static INT mw_mirth_prim_Prim_ZToInt (int64_t in_Prim_1) {
	INT v3 = i64_to_int(in_Prim_1);
	return v3;
}
static bool mw_mirth_prim_Prim_ZEqual (int64_t in_Prim_1, int64_t in_Prim_2) {
	INT v4 = mw_mirth_prim_Prim_ZToInt(in_Prim_1);
	INT v5 = mw_mirth_prim_Prim_ZToInt(in_Prim_2);
	bool v6 = int_eq(v4, v5);
	return v6;
}
static uint64_t mw_mirth_prim_Prim_name (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3) {
	STR* v5 = mw_mirth_prim_Prim_str(in_Prim_2);
	TUP* v6;
	uint64_t v7 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static TUP* mw_mirth_prim_Prim_qname (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_prim_Prim_namespace(in_ZPlusMirth_1, in_Prim_2, &v5);
	INT v7;
	STR* v8 = mw_mirth_prim_Prim_strZ_arity(in_Prim_2, &v7);
	TUP* v9;
	uint64_t v10 = mw_std_prim_Str_ZToName(v5, v8, &v9);
	TUP* v11 = mw_mirth_name_QName_Mk(v6, v10, v7);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static VAL mw_mirth_prim_Prim_namespace (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_name_Namespace_Prim(in_ZPlusMirth_1, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static void mw_mirth_prim_Prim_registerZBang (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3) {
	VAL v4 = mtw_mirth_def_Def_Prim(in_Prim_2);
	TUP* v5;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v4, &v5);
	*out_ZPlusMirth_3 = v5;
}
static INT mw_mirth_prim_Prim_arity (int64_t in_Prim_1) {
	INT v3;
	STR* v4 = mw_mirth_prim_Prim_strZ_arity(in_Prim_1, &v3);
	decref(MKSTR(v4));
	return v3;
}
static STR* mw_mirth_prim_Prim_str (int64_t in_Prim_1) {
	INT v3;
	STR* v4 = mw_mirth_prim_Prim_strZ_arity(in_Prim_1, &v3);
	decref(MKINT(v3));
	return v4;
}
static STR* mw_mirth_prim_Prim_strZ_arity (int64_t in_Prim_1, INT *out_Int_3) {
	STR* branch_Str_4;
	INT branch_Int_5;
	switch (in_Prim_1) {
		case 0LL: { // Id
			STR* v6;
			STRLIT(v6, "prim-id", 7);
			INT v7 = WRAP_I63(0LL);
			branch_Int_5 = v7;
			branch_Str_4 = v6;
		} break;
		case 1LL: { // Dup
			STR* v8;
			STRLIT(v8, "prim-dup", 8);
			INT v9 = WRAP_I63(0LL);
			branch_Int_5 = v9;
			branch_Str_4 = v8;
		} break;
		case 2LL: { // Drop
			STR* v10;
			STRLIT(v10, "prim-drop", 9);
			INT v11 = WRAP_I63(0LL);
			branch_Int_5 = v11;
			branch_Str_4 = v10;
		} break;
		case 3LL: { // Swap
			STR* v12;
			STRLIT(v12, "prim-swap", 9);
			INT v13 = WRAP_I63(0LL);
			branch_Int_5 = v13;
			branch_Str_4 = v12;
		} break;
		case 4LL: { // RSwap
			STR* v14;
			STRLIT(v14, "prim-rswap", 10);
			INT v15 = WRAP_I63(0LL);
			branch_Int_5 = v15;
			branch_Str_4 = v14;
		} break;
		case 5LL: { // Dip
			STR* v16;
			STRLIT(v16, "prim-dip", 8);
			INT v17 = WRAP_I63(1LL);
			branch_Int_5 = v17;
			branch_Str_4 = v16;
		} break;
		case 6LL: { // RDip
			STR* v18;
			STRLIT(v18, "prim-rdip", 9);
			INT v19 = WRAP_I63(1LL);
			branch_Int_5 = v19;
			branch_Str_4 = v18;
		} break;
		case 7LL: { // If
			STR* v20;
			STRLIT(v20, "prim-if", 7);
			INT v21 = WRAP_I63(2LL);
			branch_Int_5 = v21;
			branch_Str_4 = v20;
		} break;
		case 8LL: { // While
			STR* v22;
			STRLIT(v22, "prim-while", 10);
			INT v23 = WRAP_I63(2LL);
			branch_Int_5 = v23;
			branch_Str_4 = v22;
		} break;
		case 9LL: { // Debug
			STR* v24;
			STRLIT(v24, "prim-debug", 10);
			INT v25 = WRAP_I63(0LL);
			branch_Int_5 = v25;
			branch_Str_4 = v24;
		} break;
		case 10LL: { // Panic
			STR* v26;
			STRLIT(v26, "prim-panic", 10);
			INT v27 = WRAP_I63(0LL);
			branch_Int_5 = v27;
			branch_Str_4 = v26;
		} break;
		case 11LL: { // Run
			STR* v28;
			STRLIT(v28, "prim-run", 8);
			INT v29 = WRAP_I63(0LL);
			branch_Int_5 = v29;
			branch_Str_4 = v28;
		} break;
		case 12LL: { // IntEq
			STR* v30;
			STRLIT(v30, "prim-int-eq", 11);
			INT v31 = WRAP_I63(0LL);
			branch_Int_5 = v31;
			branch_Str_4 = v30;
		} break;
		case 13LL: { // IntLt
			STR* v32;
			STRLIT(v32, "prim-int-lt", 11);
			INT v33 = WRAP_I63(0LL);
			branch_Int_5 = v33;
			branch_Str_4 = v32;
		} break;
		case 14LL: { // IntLe
			STR* v34;
			STRLIT(v34, "prim-int-le", 11);
			INT v35 = WRAP_I63(0LL);
			branch_Int_5 = v35;
			branch_Str_4 = v34;
		} break;
		case 15LL: { // IntGt
			STR* v36;
			STRLIT(v36, "prim-int-gt", 11);
			INT v37 = WRAP_I63(0LL);
			branch_Int_5 = v37;
			branch_Str_4 = v36;
		} break;
		case 16LL: { // IntGe
			STR* v38;
			STRLIT(v38, "prim-int-ge", 11);
			INT v39 = WRAP_I63(0LL);
			branch_Int_5 = v39;
			branch_Str_4 = v38;
		} break;
		case 17LL: { // IntNe
			STR* v40;
			STRLIT(v40, "prim-int-ne", 11);
			INT v41 = WRAP_I63(0LL);
			branch_Int_5 = v41;
			branch_Str_4 = v40;
		} break;
		case 18LL: { // IntAdd
			STR* v42;
			STRLIT(v42, "prim-int-add", 12);
			INT v43 = WRAP_I63(0LL);
			branch_Int_5 = v43;
			branch_Str_4 = v42;
		} break;
		case 19LL: { // IntSub
			STR* v44;
			STRLIT(v44, "prim-int-sub", 12);
			INT v45 = WRAP_I63(0LL);
			branch_Int_5 = v45;
			branch_Str_4 = v44;
		} break;
		case 20LL: { // IntMul
			STR* v46;
			STRLIT(v46, "prim-int-mul", 12);
			INT v47 = WRAP_I63(0LL);
			branch_Int_5 = v47;
			branch_Str_4 = v46;
		} break;
		case 21LL: { // IntDivMod
			STR* v48;
			STRLIT(v48, "prim-int-divmod", 15);
			INT v49 = WRAP_I63(0LL);
			branch_Int_5 = v49;
			branch_Str_4 = v48;
		} break;
		case 22LL: { // IntToStr
			STR* v50;
			STRLIT(v50, "prim-int-to-str", 15);
			INT v51 = WRAP_I63(0LL);
			branch_Int_5 = v51;
			branch_Str_4 = v50;
		} break;
		case 24LL: { // IntToU64
			STR* v52;
			STRLIT(v52, "prim-int-to-u64", 15);
			INT v53 = WRAP_I63(0LL);
			branch_Int_5 = v53;
			branch_Str_4 = v52;
		} break;
		case 23LL: { // IntToI64
			STR* v54;
			STRLIT(v54, "prim-int-to-i64", 15);
			INT v55 = WRAP_I63(0LL);
			branch_Int_5 = v55;
			branch_Str_4 = v54;
		} break;
		case 25LL: { // IntToF32
			STR* v56;
			STRLIT(v56, "prim-int-to-f32", 15);
			INT v57 = WRAP_I63(0LL);
			branch_Int_5 = v57;
			branch_Str_4 = v56;
		} break;
		case 26LL: { // IntToF64
			STR* v58;
			STRLIT(v58, "prim-int-to-f64", 15);
			INT v59 = WRAP_I63(0LL);
			branch_Int_5 = v59;
			branch_Str_4 = v58;
		} break;
		case 27LL: { // U8Get
			STR* v60;
			STRLIT(v60, "prim-u8-get", 11);
			INT v61 = WRAP_I63(0LL);
			branch_Int_5 = v61;
			branch_Str_4 = v60;
		} break;
		case 28LL: { // U8Set
			STR* v62;
			STRLIT(v62, "prim-u8-set", 11);
			INT v63 = WRAP_I63(0LL);
			branch_Int_5 = v63;
			branch_Str_4 = v62;
		} break;
		case 29LL: { // U8ToU64
			STR* v64;
			STRLIT(v64, "prim-u8-to-u64", 14);
			INT v65 = WRAP_I63(0LL);
			branch_Int_5 = v65;
			branch_Str_4 = v64;
		} break;
		case 30LL: { // U16Get
			STR* v66;
			STRLIT(v66, "prim-u16-get", 12);
			INT v67 = WRAP_I63(0LL);
			branch_Int_5 = v67;
			branch_Str_4 = v66;
		} break;
		case 31LL: { // U16Set
			STR* v68;
			STRLIT(v68, "prim-u16-set", 12);
			INT v69 = WRAP_I63(0LL);
			branch_Int_5 = v69;
			branch_Str_4 = v68;
		} break;
		case 32LL: { // U16ToU64
			STR* v70;
			STRLIT(v70, "prim-u16-to-u64", 15);
			INT v71 = WRAP_I63(0LL);
			branch_Int_5 = v71;
			branch_Str_4 = v70;
		} break;
		case 33LL: { // U32Get
			STR* v72;
			STRLIT(v72, "prim-u32-get", 12);
			INT v73 = WRAP_I63(0LL);
			branch_Int_5 = v73;
			branch_Str_4 = v72;
		} break;
		case 34LL: { // U32Set
			STR* v74;
			STRLIT(v74, "prim-u32-set", 12);
			INT v75 = WRAP_I63(0LL);
			branch_Int_5 = v75;
			branch_Str_4 = v74;
		} break;
		case 35LL: { // U32ToU64
			STR* v76;
			STRLIT(v76, "prim-u32-to-u64", 15);
			INT v77 = WRAP_I63(0LL);
			branch_Int_5 = v77;
			branch_Str_4 = v76;
		} break;
		case 36LL: { // U64Get
			STR* v78;
			STRLIT(v78, "prim-u64-get", 12);
			INT v79 = WRAP_I63(0LL);
			branch_Int_5 = v79;
			branch_Str_4 = v78;
		} break;
		case 37LL: { // U64Set
			STR* v80;
			STRLIT(v80, "prim-u64-set", 12);
			INT v81 = WRAP_I63(0LL);
			branch_Int_5 = v81;
			branch_Str_4 = v80;
		} break;
		case 38LL: { // U64Eq
			STR* v82;
			STRLIT(v82, "prim-u64-eq", 11);
			INT v83 = WRAP_I63(0LL);
			branch_Int_5 = v83;
			branch_Str_4 = v82;
		} break;
		case 39LL: { // U64Lt
			STR* v84;
			STRLIT(v84, "prim-u64-lt", 11);
			INT v85 = WRAP_I63(0LL);
			branch_Int_5 = v85;
			branch_Str_4 = v84;
		} break;
		case 40LL: { // U64Le
			STR* v86;
			STRLIT(v86, "prim-u64-le", 11);
			INT v87 = WRAP_I63(0LL);
			branch_Int_5 = v87;
			branch_Str_4 = v86;
		} break;
		case 41LL: { // U64Gt
			STR* v88;
			STRLIT(v88, "prim-u64-gt", 11);
			INT v89 = WRAP_I63(0LL);
			branch_Int_5 = v89;
			branch_Str_4 = v88;
		} break;
		case 42LL: { // U64Ge
			STR* v90;
			STRLIT(v90, "prim-u64-ge", 11);
			INT v91 = WRAP_I63(0LL);
			branch_Int_5 = v91;
			branch_Str_4 = v90;
		} break;
		case 43LL: { // U64Ne
			STR* v92;
			STRLIT(v92, "prim-u64-ne", 11);
			INT v93 = WRAP_I63(0LL);
			branch_Int_5 = v93;
			branch_Str_4 = v92;
		} break;
		case 44LL: { // U64Add
			STR* v94;
			STRLIT(v94, "prim-u64-add", 12);
			INT v95 = WRAP_I63(0LL);
			branch_Int_5 = v95;
			branch_Str_4 = v94;
		} break;
		case 45LL: { // U64Sub
			STR* v96;
			STRLIT(v96, "prim-u64-sub", 12);
			INT v97 = WRAP_I63(0LL);
			branch_Int_5 = v97;
			branch_Str_4 = v96;
		} break;
		case 46LL: { // U64Mul
			STR* v98;
			STRLIT(v98, "prim-u64-mul", 12);
			INT v99 = WRAP_I63(0LL);
			branch_Int_5 = v99;
			branch_Str_4 = v98;
		} break;
		case 47LL: { // U64Div
			STR* v100;
			STRLIT(v100, "prim-u64-div", 12);
			INT v101 = WRAP_I63(0LL);
			branch_Int_5 = v101;
			branch_Str_4 = v100;
		} break;
		case 48LL: { // U64Mod
			STR* v102;
			STRLIT(v102, "prim-u64-mod", 12);
			INT v103 = WRAP_I63(0LL);
			branch_Int_5 = v103;
			branch_Str_4 = v102;
		} break;
		case 49LL: { // U64And
			STR* v104;
			STRLIT(v104, "prim-u64-and", 12);
			INT v105 = WRAP_I63(0LL);
			branch_Int_5 = v105;
			branch_Str_4 = v104;
		} break;
		case 50LL: { // U64Or
			STR* v106;
			STRLIT(v106, "prim-u64-or", 11);
			INT v107 = WRAP_I63(0LL);
			branch_Int_5 = v107;
			branch_Str_4 = v106;
		} break;
		case 51LL: { // U64Xor
			STR* v108;
			STRLIT(v108, "prim-u64-xor", 12);
			INT v109 = WRAP_I63(0LL);
			branch_Int_5 = v109;
			branch_Str_4 = v108;
		} break;
		case 52LL: { // U64Shl
			STR* v110;
			STRLIT(v110, "prim-u64-shl", 12);
			INT v111 = WRAP_I63(0LL);
			branch_Int_5 = v111;
			branch_Str_4 = v110;
		} break;
		case 53LL: { // U64Shr
			STR* v112;
			STRLIT(v112, "prim-u64-shr", 12);
			INT v113 = WRAP_I63(0LL);
			branch_Int_5 = v113;
			branch_Str_4 = v112;
		} break;
		case 54LL: { // U64ToInt
			STR* v114;
			STRLIT(v114, "prim-u64-to-int", 15);
			INT v115 = WRAP_I63(0LL);
			branch_Int_5 = v115;
			branch_Str_4 = v114;
		} break;
		case 55LL: { // U64ToStr
			STR* v116;
			STRLIT(v116, "prim-u64-to-str", 15);
			INT v117 = WRAP_I63(0LL);
			branch_Int_5 = v117;
			branch_Str_4 = v116;
		} break;
		case 56LL: { // U64ToU8
			STR* v118;
			STRLIT(v118, "prim-u64-to-u8", 14);
			INT v119 = WRAP_I63(0LL);
			branch_Int_5 = v119;
			branch_Str_4 = v118;
		} break;
		case 57LL: { // U64ToU16
			STR* v120;
			STRLIT(v120, "prim-u64-to-u16", 15);
			INT v121 = WRAP_I63(0LL);
			branch_Int_5 = v121;
			branch_Str_4 = v120;
		} break;
		case 58LL: { // U64ToU32
			STR* v122;
			STRLIT(v122, "prim-u64-to-u32", 15);
			INT v123 = WRAP_I63(0LL);
			branch_Int_5 = v123;
			branch_Str_4 = v122;
		} break;
		case 59LL: { // U64ToI8
			STR* v124;
			STRLIT(v124, "prim-u64-to-i8", 14);
			INT v125 = WRAP_I63(0LL);
			branch_Int_5 = v125;
			branch_Str_4 = v124;
		} break;
		case 60LL: { // U64ToI16
			STR* v126;
			STRLIT(v126, "prim-u64-to-i16", 15);
			INT v127 = WRAP_I63(0LL);
			branch_Int_5 = v127;
			branch_Str_4 = v126;
		} break;
		case 61LL: { // U64ToI32
			STR* v128;
			STRLIT(v128, "prim-u64-to-i32", 15);
			INT v129 = WRAP_I63(0LL);
			branch_Int_5 = v129;
			branch_Str_4 = v128;
		} break;
		case 62LL: { // U64ToI64
			STR* v130;
			STRLIT(v130, "prim-u64-to-i64", 15);
			INT v131 = WRAP_I63(0LL);
			branch_Int_5 = v131;
			branch_Str_4 = v130;
		} break;
		case 63LL: { // U64ToF32
			STR* v132;
			STRLIT(v132, "prim-u64-to-f32", 15);
			INT v133 = WRAP_I63(0LL);
			branch_Int_5 = v133;
			branch_Str_4 = v132;
		} break;
		case 64LL: { // U64ToF64
			STR* v134;
			STRLIT(v134, "prim-u64-to-f64", 15);
			INT v135 = WRAP_I63(0LL);
			branch_Int_5 = v135;
			branch_Str_4 = v134;
		} break;
		case 65LL: { // I8Get
			STR* v136;
			STRLIT(v136, "prim-i8-get", 11);
			INT v137 = WRAP_I63(0LL);
			branch_Int_5 = v137;
			branch_Str_4 = v136;
		} break;
		case 66LL: { // I8Set
			STR* v138;
			STRLIT(v138, "prim-i8-set", 11);
			INT v139 = WRAP_I63(0LL);
			branch_Int_5 = v139;
			branch_Str_4 = v138;
		} break;
		case 67LL: { // I8ToI64
			STR* v140;
			STRLIT(v140, "prim-i8-to-i64", 14);
			INT v141 = WRAP_I63(0LL);
			branch_Int_5 = v141;
			branch_Str_4 = v140;
		} break;
		case 68LL: { // I16Get
			STR* v142;
			STRLIT(v142, "prim-i16-get", 12);
			INT v143 = WRAP_I63(0LL);
			branch_Int_5 = v143;
			branch_Str_4 = v142;
		} break;
		case 69LL: { // I16Set
			STR* v144;
			STRLIT(v144, "prim-i16-set", 12);
			INT v145 = WRAP_I63(0LL);
			branch_Int_5 = v145;
			branch_Str_4 = v144;
		} break;
		case 70LL: { // I16ToI64
			STR* v146;
			STRLIT(v146, "prim-i16-to-i64", 15);
			INT v147 = WRAP_I63(0LL);
			branch_Int_5 = v147;
			branch_Str_4 = v146;
		} break;
		case 71LL: { // I32Get
			STR* v148;
			STRLIT(v148, "prim-i32-get", 12);
			INT v149 = WRAP_I63(0LL);
			branch_Int_5 = v149;
			branch_Str_4 = v148;
		} break;
		case 72LL: { // I32Set
			STR* v150;
			STRLIT(v150, "prim-i32-set", 12);
			INT v151 = WRAP_I63(0LL);
			branch_Int_5 = v151;
			branch_Str_4 = v150;
		} break;
		case 73LL: { // I32ToI64
			STR* v152;
			STRLIT(v152, "prim-i32-to-i64", 15);
			INT v153 = WRAP_I63(0LL);
			branch_Int_5 = v153;
			branch_Str_4 = v152;
		} break;
		case 74LL: { // I64Get
			STR* v154;
			STRLIT(v154, "prim-i64-get", 12);
			INT v155 = WRAP_I63(0LL);
			branch_Int_5 = v155;
			branch_Str_4 = v154;
		} break;
		case 75LL: { // I64Set
			STR* v156;
			STRLIT(v156, "prim-i64-set", 12);
			INT v157 = WRAP_I63(0LL);
			branch_Int_5 = v157;
			branch_Str_4 = v156;
		} break;
		case 76LL: { // I64Eq
			STR* v158;
			STRLIT(v158, "prim-i64-eq", 11);
			INT v159 = WRAP_I63(0LL);
			branch_Int_5 = v159;
			branch_Str_4 = v158;
		} break;
		case 77LL: { // I64Lt
			STR* v160;
			STRLIT(v160, "prim-i64-lt", 11);
			INT v161 = WRAP_I63(0LL);
			branch_Int_5 = v161;
			branch_Str_4 = v160;
		} break;
		case 78LL: { // I64Le
			STR* v162;
			STRLIT(v162, "prim-i64-le", 11);
			INT v163 = WRAP_I63(0LL);
			branch_Int_5 = v163;
			branch_Str_4 = v162;
		} break;
		case 79LL: { // I64Gt
			STR* v164;
			STRLIT(v164, "prim-i64-gt", 11);
			INT v165 = WRAP_I63(0LL);
			branch_Int_5 = v165;
			branch_Str_4 = v164;
		} break;
		case 80LL: { // I64Ge
			STR* v166;
			STRLIT(v166, "prim-i64-ge", 11);
			INT v167 = WRAP_I63(0LL);
			branch_Int_5 = v167;
			branch_Str_4 = v166;
		} break;
		case 81LL: { // I64Ne
			STR* v168;
			STRLIT(v168, "prim-i64-ne", 11);
			INT v169 = WRAP_I63(0LL);
			branch_Int_5 = v169;
			branch_Str_4 = v168;
		} break;
		case 82LL: { // I64Add
			STR* v170;
			STRLIT(v170, "prim-i64-add", 12);
			INT v171 = WRAP_I63(0LL);
			branch_Int_5 = v171;
			branch_Str_4 = v170;
		} break;
		case 83LL: { // I64Sub
			STR* v172;
			STRLIT(v172, "prim-i64-sub", 12);
			INT v173 = WRAP_I63(0LL);
			branch_Int_5 = v173;
			branch_Str_4 = v172;
		} break;
		case 84LL: { // I64Mul
			STR* v174;
			STRLIT(v174, "prim-i64-mul", 12);
			INT v175 = WRAP_I63(0LL);
			branch_Int_5 = v175;
			branch_Str_4 = v174;
		} break;
		case 85LL: { // I64Div
			STR* v176;
			STRLIT(v176, "prim-i64-div", 12);
			INT v177 = WRAP_I63(0LL);
			branch_Int_5 = v177;
			branch_Str_4 = v176;
		} break;
		case 86LL: { // I64Mod
			STR* v178;
			STRLIT(v178, "prim-i64-mod", 12);
			INT v179 = WRAP_I63(0LL);
			branch_Int_5 = v179;
			branch_Str_4 = v178;
		} break;
		case 87LL: { // I64ToInt
			STR* v180;
			STRLIT(v180, "prim-i64-to-int", 15);
			INT v181 = WRAP_I63(0LL);
			branch_Int_5 = v181;
			branch_Str_4 = v180;
		} break;
		case 88LL: { // I64ToStr
			STR* v182;
			STRLIT(v182, "prim-i64-to-str", 15);
			INT v183 = WRAP_I63(0LL);
			branch_Int_5 = v183;
			branch_Str_4 = v182;
		} break;
		case 89LL: { // I64ToU8
			STR* v184;
			STRLIT(v184, "prim-i64-to-u8", 14);
			INT v185 = WRAP_I63(0LL);
			branch_Int_5 = v185;
			branch_Str_4 = v184;
		} break;
		case 90LL: { // I64ToU16
			STR* v186;
			STRLIT(v186, "prim-i64-to-u16", 15);
			INT v187 = WRAP_I63(0LL);
			branch_Int_5 = v187;
			branch_Str_4 = v186;
		} break;
		case 91LL: { // I64ToU32
			STR* v188;
			STRLIT(v188, "prim-i64-to-u32", 15);
			INT v189 = WRAP_I63(0LL);
			branch_Int_5 = v189;
			branch_Str_4 = v188;
		} break;
		case 92LL: { // I64ToU64
			STR* v190;
			STRLIT(v190, "prim-i64-to-u64", 15);
			INT v191 = WRAP_I63(0LL);
			branch_Int_5 = v191;
			branch_Str_4 = v190;
		} break;
		case 93LL: { // I64ToI8
			STR* v192;
			STRLIT(v192, "prim-i64-to-i8", 14);
			INT v193 = WRAP_I63(0LL);
			branch_Int_5 = v193;
			branch_Str_4 = v192;
		} break;
		case 94LL: { // I64ToI16
			STR* v194;
			STRLIT(v194, "prim-i64-to-i16", 15);
			INT v195 = WRAP_I63(0LL);
			branch_Int_5 = v195;
			branch_Str_4 = v194;
		} break;
		case 95LL: { // I64ToI32
			STR* v196;
			STRLIT(v196, "prim-i64-to-i32", 15);
			INT v197 = WRAP_I63(0LL);
			branch_Int_5 = v197;
			branch_Str_4 = v196;
		} break;
		case 96LL: { // I64ToF32
			STR* v198;
			STRLIT(v198, "prim-i64-to-f32", 15);
			INT v199 = WRAP_I63(0LL);
			branch_Int_5 = v199;
			branch_Str_4 = v198;
		} break;
		case 97LL: { // I64ToF64
			STR* v200;
			STRLIT(v200, "prim-i64-to-f64", 15);
			INT v201 = WRAP_I63(0LL);
			branch_Int_5 = v201;
			branch_Str_4 = v200;
		} break;
		case 98LL: { // F32Eq
			STR* v202;
			STRLIT(v202, "prim-f32-eq", 11);
			INT v203 = WRAP_I63(0LL);
			branch_Int_5 = v203;
			branch_Str_4 = v202;
		} break;
		case 99LL: { // F32Lt
			STR* v204;
			STRLIT(v204, "prim-f32-lt", 11);
			INT v205 = WRAP_I63(0LL);
			branch_Int_5 = v205;
			branch_Str_4 = v204;
		} break;
		case 100LL: { // F32Le
			STR* v206;
			STRLIT(v206, "prim-f32-le", 11);
			INT v207 = WRAP_I63(0LL);
			branch_Int_5 = v207;
			branch_Str_4 = v206;
		} break;
		case 101LL: { // F32Gt
			STR* v208;
			STRLIT(v208, "prim-f32-gt", 11);
			INT v209 = WRAP_I63(0LL);
			branch_Int_5 = v209;
			branch_Str_4 = v208;
		} break;
		case 102LL: { // F32Ge
			STR* v210;
			STRLIT(v210, "prim-f32-ge", 11);
			INT v211 = WRAP_I63(0LL);
			branch_Int_5 = v211;
			branch_Str_4 = v210;
		} break;
		case 103LL: { // F32Ne
			STR* v212;
			STRLIT(v212, "prim-f32-ne", 11);
			INT v213 = WRAP_I63(0LL);
			branch_Int_5 = v213;
			branch_Str_4 = v212;
		} break;
		case 104LL: { // F32Add
			STR* v214;
			STRLIT(v214, "prim-f32-add", 12);
			INT v215 = WRAP_I63(0LL);
			branch_Int_5 = v215;
			branch_Str_4 = v214;
		} break;
		case 105LL: { // F32Sub
			STR* v216;
			STRLIT(v216, "prim-f32-sub", 12);
			INT v217 = WRAP_I63(0LL);
			branch_Int_5 = v217;
			branch_Str_4 = v216;
		} break;
		case 106LL: { // F32Mul
			STR* v218;
			STRLIT(v218, "prim-f32-mul", 12);
			INT v219 = WRAP_I63(0LL);
			branch_Int_5 = v219;
			branch_Str_4 = v218;
		} break;
		case 107LL: { // F32Div
			STR* v220;
			STRLIT(v220, "prim-f32-div", 12);
			INT v221 = WRAP_I63(0LL);
			branch_Int_5 = v221;
			branch_Str_4 = v220;
		} break;
		case 108LL: { // F32ToInt
			STR* v222;
			STRLIT(v222, "prim-f32-to-int", 15);
			INT v223 = WRAP_I63(0LL);
			branch_Int_5 = v223;
			branch_Str_4 = v222;
		} break;
		case 109LL: { // F32ToStr
			STR* v224;
			STRLIT(v224, "prim-f32-to-str", 15);
			INT v225 = WRAP_I63(0LL);
			branch_Int_5 = v225;
			branch_Str_4 = v224;
		} break;
		case 110LL: { // F32ToF64
			STR* v226;
			STRLIT(v226, "prim-f32-to-f64", 15);
			INT v227 = WRAP_I63(0LL);
			branch_Int_5 = v227;
			branch_Str_4 = v226;
		} break;
		case 111LL: { // F32Get
			STR* v228;
			STRLIT(v228, "prim-f32-get", 12);
			INT v229 = WRAP_I63(0LL);
			branch_Int_5 = v229;
			branch_Str_4 = v228;
		} break;
		case 112LL: { // F32Set
			STR* v230;
			STRLIT(v230, "prim-f32-set", 12);
			INT v231 = WRAP_I63(0LL);
			branch_Int_5 = v231;
			branch_Str_4 = v230;
		} break;
		case 113LL: { // F64Eq
			STR* v232;
			STRLIT(v232, "prim-f64-eq", 11);
			INT v233 = WRAP_I63(0LL);
			branch_Int_5 = v233;
			branch_Str_4 = v232;
		} break;
		case 114LL: { // F64Lt
			STR* v234;
			STRLIT(v234, "prim-f64-lt", 11);
			INT v235 = WRAP_I63(0LL);
			branch_Int_5 = v235;
			branch_Str_4 = v234;
		} break;
		case 115LL: { // F64Le
			STR* v236;
			STRLIT(v236, "prim-f64-le", 11);
			INT v237 = WRAP_I63(0LL);
			branch_Int_5 = v237;
			branch_Str_4 = v236;
		} break;
		case 116LL: { // F64Gt
			STR* v238;
			STRLIT(v238, "prim-f64-gt", 11);
			INT v239 = WRAP_I63(0LL);
			branch_Int_5 = v239;
			branch_Str_4 = v238;
		} break;
		case 117LL: { // F64Ge
			STR* v240;
			STRLIT(v240, "prim-f64-ge", 11);
			INT v241 = WRAP_I63(0LL);
			branch_Int_5 = v241;
			branch_Str_4 = v240;
		} break;
		case 118LL: { // F64Ne
			STR* v242;
			STRLIT(v242, "prim-f64-ne", 11);
			INT v243 = WRAP_I63(0LL);
			branch_Int_5 = v243;
			branch_Str_4 = v242;
		} break;
		case 119LL: { // F64Add
			STR* v244;
			STRLIT(v244, "prim-f64-add", 12);
			INT v245 = WRAP_I63(0LL);
			branch_Int_5 = v245;
			branch_Str_4 = v244;
		} break;
		case 120LL: { // F64Sub
			STR* v246;
			STRLIT(v246, "prim-f64-sub", 12);
			INT v247 = WRAP_I63(0LL);
			branch_Int_5 = v247;
			branch_Str_4 = v246;
		} break;
		case 121LL: { // F64Mul
			STR* v248;
			STRLIT(v248, "prim-f64-mul", 12);
			INT v249 = WRAP_I63(0LL);
			branch_Int_5 = v249;
			branch_Str_4 = v248;
		} break;
		case 122LL: { // F64Div
			STR* v250;
			STRLIT(v250, "prim-f64-div", 12);
			INT v251 = WRAP_I63(0LL);
			branch_Int_5 = v251;
			branch_Str_4 = v250;
		} break;
		case 123LL: { // F64ToInt
			STR* v252;
			STRLIT(v252, "prim-f64-to-int", 15);
			INT v253 = WRAP_I63(0LL);
			branch_Int_5 = v253;
			branch_Str_4 = v252;
		} break;
		case 124LL: { // F64ToStr
			STR* v254;
			STRLIT(v254, "prim-f64-to-str", 15);
			INT v255 = WRAP_I63(0LL);
			branch_Int_5 = v255;
			branch_Str_4 = v254;
		} break;
		case 125LL: { // F64ToF32
			STR* v256;
			STRLIT(v256, "prim-f64-to-f32", 15);
			INT v257 = WRAP_I63(0LL);
			branch_Int_5 = v257;
			branch_Str_4 = v256;
		} break;
		case 126LL: { // F64Get
			STR* v258;
			STRLIT(v258, "prim-f64-get", 12);
			INT v259 = WRAP_I63(0LL);
			branch_Int_5 = v259;
			branch_Str_4 = v258;
		} break;
		case 127LL: { // F64Set
			STR* v260;
			STRLIT(v260, "prim-f64-set", 12);
			INT v261 = WRAP_I63(0LL);
			branch_Int_5 = v261;
			branch_Str_4 = v260;
		} break;
		case 128LL: { // BoolTrue
			STR* v262;
			STRLIT(v262, "prim-bool-true", 14);
			INT v263 = WRAP_I63(0LL);
			branch_Int_5 = v263;
			branch_Str_4 = v262;
		} break;
		case 129LL: { // BoolFalse
			STR* v264;
			STRLIT(v264, "prim-bool-false", 15);
			INT v265 = WRAP_I63(0LL);
			branch_Int_5 = v265;
			branch_Str_4 = v264;
		} break;
		case 130LL: { // BoolAnd
			STR* v266;
			STRLIT(v266, "prim-bool-and", 13);
			INT v267 = WRAP_I63(0LL);
			branch_Int_5 = v267;
			branch_Str_4 = v266;
		} break;
		case 131LL: { // BoolOr
			STR* v268;
			STRLIT(v268, "prim-bool-or", 12);
			INT v269 = WRAP_I63(0LL);
			branch_Int_5 = v269;
			branch_Str_4 = v268;
		} break;
		case 132LL: { // BoolNot
			STR* v270;
			STRLIT(v270, "prim-bool-not", 13);
			INT v271 = WRAP_I63(0LL);
			branch_Int_5 = v271;
			branch_Str_4 = v270;
		} break;
		case 133LL: { // TupPack0
			STR* v272;
			STRLIT(v272, "prim-tup-pack0", 14);
			INT v273 = WRAP_I63(0LL);
			branch_Int_5 = v273;
			branch_Str_4 = v272;
		} break;
		case 134LL: { // TupPack1
			STR* v274;
			STRLIT(v274, "prim-tup-pack1", 14);
			INT v275 = WRAP_I63(0LL);
			branch_Int_5 = v275;
			branch_Str_4 = v274;
		} break;
		case 135LL: { // TupPack2
			STR* v276;
			STRLIT(v276, "prim-tup-pack2", 14);
			INT v277 = WRAP_I63(0LL);
			branch_Int_5 = v277;
			branch_Str_4 = v276;
		} break;
		case 136LL: { // TupPack3
			STR* v278;
			STRLIT(v278, "prim-tup-pack3", 14);
			INT v279 = WRAP_I63(0LL);
			branch_Int_5 = v279;
			branch_Str_4 = v278;
		} break;
		case 137LL: { // TupPack4
			STR* v280;
			STRLIT(v280, "prim-tup-pack4", 14);
			INT v281 = WRAP_I63(0LL);
			branch_Int_5 = v281;
			branch_Str_4 = v280;
		} break;
		case 138LL: { // TupPack5
			STR* v282;
			STRLIT(v282, "prim-tup-pack5", 14);
			INT v283 = WRAP_I63(0LL);
			branch_Int_5 = v283;
			branch_Str_4 = v282;
		} break;
		case 139LL: { // TupUnpack0
			STR* v284;
			STRLIT(v284, "prim-tup-unpack0", 16);
			INT v285 = WRAP_I63(0LL);
			branch_Int_5 = v285;
			branch_Str_4 = v284;
		} break;
		case 140LL: { // TupUnpack1
			STR* v286;
			STRLIT(v286, "prim-tup-unpack1", 16);
			INT v287 = WRAP_I63(0LL);
			branch_Int_5 = v287;
			branch_Str_4 = v286;
		} break;
		case 141LL: { // TupUnpack2
			STR* v288;
			STRLIT(v288, "prim-tup-unpack2", 16);
			INT v289 = WRAP_I63(0LL);
			branch_Int_5 = v289;
			branch_Str_4 = v288;
		} break;
		case 142LL: { // TupUnpack3
			STR* v290;
			STRLIT(v290, "prim-tup-unpack3", 16);
			INT v291 = WRAP_I63(0LL);
			branch_Int_5 = v291;
			branch_Str_4 = v290;
		} break;
		case 143LL: { // TupUnpack4
			STR* v292;
			STRLIT(v292, "prim-tup-unpack4", 16);
			INT v293 = WRAP_I63(0LL);
			branch_Int_5 = v293;
			branch_Str_4 = v292;
		} break;
		case 144LL: { // TupUnpack5
			STR* v294;
			STRLIT(v294, "prim-tup-unpack5", 16);
			INT v295 = WRAP_I63(0LL);
			branch_Int_5 = v295;
			branch_Str_4 = v294;
		} break;
		case 145LL: { // MutGet
			STR* v296;
			STRLIT(v296, "prim-mut-get", 12);
			INT v297 = WRAP_I63(0LL);
			branch_Int_5 = v297;
			branch_Str_4 = v296;
		} break;
		case 146LL: { // MutSet
			STR* v298;
			STRLIT(v298, "prim-mut-set", 12);
			INT v299 = WRAP_I63(0LL);
			branch_Int_5 = v299;
			branch_Str_4 = v298;
		} break;
		case 147LL: { // MutIsSet
			STR* v300;
			STRLIT(v300, "prim-mut-is-set", 15);
			INT v301 = WRAP_I63(0LL);
			branch_Int_5 = v301;
			branch_Str_4 = v300;
		} break;
		case 148LL: { // PtrNil
			STR* v302;
			STRLIT(v302, "prim-ptr-nil", 12);
			INT v303 = WRAP_I63(0LL);
			branch_Int_5 = v303;
			branch_Str_4 = v302;
		} break;
		case 149LL: { // PtrEq
			STR* v304;
			STRLIT(v304, "prim-ptr-eq", 11);
			INT v305 = WRAP_I63(0LL);
			branch_Int_5 = v305;
			branch_Str_4 = v304;
		} break;
		case 150LL: { // PtrAdd
			STR* v306;
			STRLIT(v306, "prim-ptr-add", 12);
			INT v307 = WRAP_I63(0LL);
			branch_Int_5 = v307;
			branch_Str_4 = v306;
		} break;
		case 151LL: { // PtrSize
			STR* v308;
			STRLIT(v308, "prim-ptr-size", 13);
			INT v309 = WRAP_I63(0LL);
			branch_Int_5 = v309;
			branch_Str_4 = v308;
		} break;
		case 152LL: { // PtrAlloc
			STR* v310;
			STRLIT(v310, "prim-ptr-alloc", 14);
			INT v311 = WRAP_I63(0LL);
			branch_Int_5 = v311;
			branch_Str_4 = v310;
		} break;
		case 153LL: { // PtrRealloc
			STR* v312;
			STRLIT(v312, "prim-ptr-realloc", 16);
			INT v313 = WRAP_I63(0LL);
			branch_Int_5 = v313;
			branch_Str_4 = v312;
		} break;
		case 154LL: { // PtrFree
			STR* v314;
			STRLIT(v314, "prim-ptr-free", 13);
			INT v315 = WRAP_I63(0LL);
			branch_Int_5 = v315;
			branch_Str_4 = v314;
		} break;
		case 155LL: { // PtrCopy
			STR* v316;
			STRLIT(v316, "prim-ptr-copy", 13);
			INT v317 = WRAP_I63(0LL);
			branch_Int_5 = v317;
			branch_Str_4 = v316;
		} break;
		case 156LL: { // PtrFill
			STR* v318;
			STRLIT(v318, "prim-ptr-fill", 13);
			INT v319 = WRAP_I63(0LL);
			branch_Int_5 = v319;
			branch_Str_4 = v318;
		} break;
		case 157LL: { // PtrGet
			STR* v320;
			STRLIT(v320, "prim-ptr-get", 12);
			INT v321 = WRAP_I63(0LL);
			branch_Int_5 = v321;
			branch_Str_4 = v320;
		} break;
		case 158LL: { // PtrSet
			STR* v322;
			STRLIT(v322, "prim-ptr-set", 12);
			INT v323 = WRAP_I63(0LL);
			branch_Int_5 = v323;
			branch_Str_4 = v322;
		} break;
		case 159LL: { // StrCopy
			STR* v324;
			STRLIT(v324, "prim-str-copy", 13);
			INT v325 = WRAP_I63(0LL);
			branch_Int_5 = v325;
			branch_Str_4 = v324;
		} break;
		case 160LL: { // StrNumBytes
			STR* v326;
			STRLIT(v326, "prim-str-num-bytes", 18);
			INT v327 = WRAP_I63(0LL);
			branch_Int_5 = v327;
			branch_Str_4 = v326;
		} break;
		case 161LL: { // StrBase
			STR* v328;
			STRLIT(v328, "prim-str-base", 13);
			INT v329 = WRAP_I63(0LL);
			branch_Int_5 = v329;
			branch_Str_4 = v328;
		} break;
		case 162LL: { // StrCat
			STR* v330;
			STRLIT(v330, "prim-str-cat", 12);
			INT v331 = WRAP_I63(0LL);
			branch_Int_5 = v331;
			branch_Str_4 = v330;
		} break;
		case 163LL: { // StrCmp
			STR* v332;
			STRLIT(v332, "prim-str-cmp", 12);
			INT v333 = WRAP_I63(0LL);
			branch_Int_5 = v333;
			branch_Str_4 = v332;
		} break;
		case 164LL: { // StrEq
			STR* v334;
			STRLIT(v334, "prim-str-eq", 11);
			INT v335 = WRAP_I63(0LL);
			branch_Int_5 = v335;
			branch_Str_4 = v334;
		} break;
		case 165LL: { // StrLt
			STR* v336;
			STRLIT(v336, "prim-str-lt", 11);
			INT v337 = WRAP_I63(0LL);
			branch_Int_5 = v337;
			branch_Str_4 = v336;
		} break;
		case 166LL: { // StrLe
			STR* v338;
			STRLIT(v338, "prim-str-le", 11);
			INT v339 = WRAP_I63(0LL);
			branch_Int_5 = v339;
			branch_Str_4 = v338;
		} break;
		case 167LL: { // StrGt
			STR* v340;
			STRLIT(v340, "prim-str-gt", 11);
			INT v341 = WRAP_I63(0LL);
			branch_Int_5 = v341;
			branch_Str_4 = v340;
		} break;
		case 168LL: { // StrGe
			STR* v342;
			STRLIT(v342, "prim-str-ge", 11);
			INT v343 = WRAP_I63(0LL);
			branch_Int_5 = v343;
			branch_Str_4 = v342;
		} break;
		case 169LL: { // StrNe
			STR* v344;
			STRLIT(v344, "prim-str-ne", 11);
			INT v345 = WRAP_I63(0LL);
			branch_Int_5 = v345;
			branch_Str_4 = v344;
		} break;
		case 171LL: { // StrToF32
			STR* v346;
			STRLIT(v346, "prim-str-to-f32", 15);
			INT v347 = WRAP_I63(0LL);
			branch_Int_5 = v347;
			branch_Str_4 = v346;
		} break;
		case 170LL: { // StrToF64
			STR* v348;
			STRLIT(v348, "prim-str-to-f64", 15);
			INT v349 = WRAP_I63(0LL);
			branch_Int_5 = v349;
			branch_Str_4 = v348;
		} break;
		case 172LL: { // SysOs
			STR* v350;
			STRLIT(v350, "prim-sys-os", 11);
			INT v351 = WRAP_I63(0LL);
			branch_Int_5 = v351;
			branch_Str_4 = v350;
		} break;
		case 173LL: { // SysArch
			STR* v352;
			STRLIT(v352, "prim-sys-arch", 13);
			INT v353 = WRAP_I63(0LL);
			branch_Int_5 = v353;
			branch_Str_4 = v352;
		} break;
		case 174LL: { // SysArgc
			STR* v354;
			STRLIT(v354, "prim-sys-argc", 13);
			INT v355 = WRAP_I63(0LL);
			branch_Int_5 = v355;
			branch_Str_4 = v354;
		} break;
		case 175LL: { // SysArgv
			STR* v356;
			STRLIT(v356, "prim-sys-argv", 13);
			INT v357 = WRAP_I63(0LL);
			branch_Int_5 = v357;
			branch_Str_4 = v356;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Int_3 = branch_Int_5;
	return branch_Str_4;
}
static VAL mw_mirth_prim_Prim_ctxZ_type (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	void* v6 = field_mut(&mfld_mirth_prim_Prim_ZTildectxZ_type, ((uint64_t)in_Prim_2));
	bool v7 = mut_is_set(v6);
	TUP* branch_ZPlusMirth_8;
	int64_t branch_Prim_9;
	TUP* branch__10;
	if (v7) {
		VAL v11 = mut_get(v6);
		branch__10 = value_tup(v11, 2);
		branch_Prim_9 = in_Prim_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		TUP* v12;
		TUP* v13;
		VAL v14 = mw_mirth_prim_Prim_computeZ_ctxZ_type(in_ZPlusMirth_1, in_Prim_2, &v12, &v13);
		TUP* v15 = tup_new(2);
		v15->size = 2;
		v15->cells[1] = MKTUP(v13, 2);
		v15->cells[0] = v14;
		incref(MKTUP(v15, 2));
		mut_set(MKTUP(v15, 2), v6);
		branch__10 = v15;
		branch_Prim_9 = in_Prim_2;
		branch_ZPlusMirth_8 = v12;
	}
	VAL v16 = branch__10->cells[0];
	VAL v17 = branch__10->cells[1];
	tup_decref_outer(branch__10,2);
	*out_ArrowType_5 = value_tup(v17, 2);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return v16;
}
static TUP* mw_mirth_prim_Prim_type (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6;
	VAL v7 = mw_mirth_prim_Prim_ctxZ_type(in_ZPlusMirth_1, in_Prim_2, &v5, &v6);
	decref(v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_prim_Prim_computeZ_ctxZ_type (TUP* in_ZPlusMirth_1, int64_t in_Prim_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	TUP* branch_ZPlusMirth_6;
	VAL branch_Ctx_7;
	TUP* branch_ArrowType_8;
	switch (in_Prim_2) {
		case 0LL: { // Id
			VAL v9 = mw_mirth_var_Ctx_L0();
			VAL v10 = mw_mirth_type_T0();
			VAL v11 = mw_mirth_type_T0();
			TUP* v12 = mw_mirth_type_TZ_ZTo(v10, v11);
			branch_ArrowType_8 = v12;
			branch_Ctx_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Dup
			VAL v13 = mw_mirth_var_Ctx_L0();
			STR* v14;
			STRLIT(v14, "a", 1);
			TUP* v15;
			VAL v16;
			VAL v17 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v13, v14, &v15, &v16);
			incref(v16);
			VAL v18 = mw_mirth_type_T1(v16);
			incref(v16);
			incref(v16);
			VAL v19 = mw_mirth_type_T2(v16, v16);
			TUP* v20 = mw_mirth_type_TZ_ZTo(v18, v19);
			decref(v16);
			branch_ArrowType_8 = v20;
			branch_Ctx_7 = v17;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 2LL: { // Drop
			VAL v21 = mw_mirth_var_Ctx_L0();
			STR* v22;
			STRLIT(v22, "a", 1);
			TUP* v23;
			VAL v24;
			VAL v25 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v21, v22, &v23, &v24);
			incref(v24);
			VAL v26 = mw_mirth_type_T1(v24);
			VAL v27 = mw_mirth_type_T0();
			TUP* v28 = mw_mirth_type_TZ_ZTo(v26, v27);
			decref(v24);
			branch_ArrowType_8 = v28;
			branch_Ctx_7 = v25;
			branch_ZPlusMirth_6 = v23;
		} break;
		case 3LL: { // Swap
			VAL v29 = mw_mirth_var_Ctx_L0();
			STR* v30;
			STRLIT(v30, "a", 1);
			TUP* v31;
			VAL v32;
			VAL v33 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v29, v30, &v31, &v32);
			STR* v34;
			STRLIT(v34, "b", 1);
			TUP* v35;
			VAL v36;
			VAL v37 = mw_mirth_type_Type_NewInCtx(v31, v33, v34, &v35, &v36);
			incref(v32);
			incref(v36);
			VAL v38 = mw_mirth_type_T2(v32, v36);
			incref(v36);
			incref(v32);
			VAL v39 = mw_mirth_type_T2(v36, v32);
			TUP* v40 = mw_mirth_type_TZ_ZTo(v38, v39);
			decref(v36);
			decref(v32);
			branch_ArrowType_8 = v40;
			branch_Ctx_7 = v37;
			branch_ZPlusMirth_6 = v35;
		} break;
		case 4LL: { // RSwap
			VAL v41 = mw_mirth_var_Ctx_L0();
			STR* v42;
			STRLIT(v42, "+a", 2);
			TUP* v43;
			VAL v44;
			VAL v45 = mw_mirth_type_Resource_NewInCtx(in_ZPlusMirth_1, v41, v42, &v43, &v44);
			STR* v46;
			STRLIT(v46, "+b", 2);
			TUP* v47;
			VAL v48;
			VAL v49 = mw_mirth_type_Resource_NewInCtx(v43, v45, v46, &v47, &v48);
			VAL v50 = mw_mirth_type_T0();
			incref(v44);
			VAL v51 = mw_mirth_type_TZPlus(v50, v44);
			incref(v48);
			VAL v52 = mw_mirth_type_TZPlus(v51, v48);
			VAL v53 = mw_mirth_type_T0();
			incref(v48);
			VAL v54 = mw_mirth_type_TZPlus(v53, v48);
			incref(v44);
			VAL v55 = mw_mirth_type_TZPlus(v54, v44);
			TUP* v56 = mw_mirth_type_TZ_ZTo(v52, v55);
			decref(v48);
			decref(v44);
			branch_ArrowType_8 = v56;
			branch_Ctx_7 = v49;
			branch_ZPlusMirth_6 = v47;
		} break;
		case 5LL: { // Dip
			VAL v57 = mw_mirth_var_Ctx_L0();
			STR* v58;
			STRLIT(v58, "*a", 2);
			TUP* v59;
			VAL v60;
			VAL v61 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v57, v58, &v59, &v60);
			STR* v62;
			STRLIT(v62, "*b", 2);
			TUP* v63;
			VAL v64;
			VAL v65 = mw_mirth_type_StackType_NewInCtx(v59, v61, v62, &v63, &v64);
			STR* v66;
			STRLIT(v66, "x", 1);
			TUP* v67;
			VAL v68;
			VAL v69 = mw_mirth_type_Type_NewInCtx(v63, v65, v66, &v67, &v68);
			incref(v60);
			incref(v68);
			VAL v70 = mw_mirth_type_TZMul(v60, v68);
			incref(v60);
			incref(v64);
			TUP* v71 = mw_mirth_type_TZ_ZTo(v60, v64);
			VAL v72 = mtw_mirth_type_Type_Arrow(v71);
			VAL v73 = mw_mirth_type_TZMul(v70, v72);
			incref(v64);
			incref(v68);
			VAL v74 = mw_mirth_type_TZMul(v64, v68);
			TUP* v75 = mw_mirth_type_TZ_ZTo(v73, v74);
			decref(v68);
			decref(v64);
			decref(v60);
			branch_ArrowType_8 = v75;
			branch_Ctx_7 = v69;
			branch_ZPlusMirth_6 = v67;
		} break;
		case 6LL: { // RDip
			VAL v76 = mw_mirth_var_Ctx_L0();
			STR* v77;
			STRLIT(v77, "*a", 2);
			TUP* v78;
			VAL v79;
			VAL v80 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v76, v77, &v78, &v79);
			STR* v81;
			STRLIT(v81, "*b", 2);
			TUP* v82;
			VAL v83;
			VAL v84 = mw_mirth_type_StackType_NewInCtx(v78, v80, v81, &v82, &v83);
			STR* v85;
			STRLIT(v85, "x", 1);
			TUP* v86;
			VAL v87;
			VAL v88 = mw_mirth_type_Resource_NewInCtx(v82, v84, v85, &v86, &v87);
			incref(v79);
			incref(v87);
			VAL v89 = mw_mirth_type_TZPlus(v79, v87);
			incref(v79);
			incref(v83);
			TUP* v90 = mw_mirth_type_TZ_ZTo(v79, v83);
			VAL v91 = mtw_mirth_type_Type_Arrow(v90);
			VAL v92 = mw_mirth_type_TZMul(v89, v91);
			incref(v83);
			incref(v87);
			VAL v93 = mw_mirth_type_TZPlus(v83, v87);
			TUP* v94 = mw_mirth_type_TZ_ZTo(v92, v93);
			decref(v87);
			decref(v83);
			decref(v79);
			branch_ArrowType_8 = v94;
			branch_Ctx_7 = v88;
			branch_ZPlusMirth_6 = v86;
		} break;
		case 7LL: { // If
			VAL v95 = mw_mirth_var_Ctx_L0();
			STR* v96;
			STRLIT(v96, "*a", 2);
			TUP* v97;
			VAL v98;
			VAL v99 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v95, v96, &v97, &v98);
			STR* v100;
			STRLIT(v100, "*b", 2);
			TUP* v101;
			VAL v102;
			VAL v103 = mw_mirth_type_StackType_NewInCtx(v97, v99, v100, &v101, &v102);
			incref(v98);
			VAL v104 = mw_mirth_type_Type_Bool();
			VAL v105 = mw_mirth_type_TZMul(v98, v104);
			incref(v98);
			incref(v102);
			TUP* v106 = mw_mirth_type_TZ_ZTo(v98, v102);
			VAL v107 = mtw_mirth_type_Type_Arrow(v106);
			VAL v108 = mw_mirth_type_TZMul(v105, v107);
			incref(v98);
			incref(v102);
			TUP* v109 = mw_mirth_type_TZ_ZTo(v98, v102);
			VAL v110 = mtw_mirth_type_Type_Arrow(v109);
			VAL v111 = mw_mirth_type_TZMul(v108, v110);
			incref(v102);
			TUP* v112 = mw_mirth_type_TZ_ZTo(v111, v102);
			decref(v102);
			decref(v98);
			branch_ArrowType_8 = v112;
			branch_Ctx_7 = v103;
			branch_ZPlusMirth_6 = v101;
		} break;
		case 8LL: { // While
			VAL v113 = mw_mirth_var_Ctx_L0();
			STR* v114;
			STRLIT(v114, "*a", 2);
			TUP* v115;
			VAL v116;
			VAL v117 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v113, v114, &v115, &v116);
			incref(v116);
			incref(v116);
			incref(v116);
			VAL v118 = mw_mirth_type_Type_Bool();
			VAL v119 = mw_mirth_type_TZMul(v116, v118);
			TUP* v120 = mw_mirth_type_TZ_ZTo(v116, v119);
			VAL v121 = mtw_mirth_type_Type_Arrow(v120);
			VAL v122 = mw_mirth_type_TZMul(v116, v121);
			incref(v116);
			incref(v116);
			TUP* v123 = mw_mirth_type_TZ_ZTo(v116, v116);
			VAL v124 = mtw_mirth_type_Type_Arrow(v123);
			VAL v125 = mw_mirth_type_TZMul(v122, v124);
			incref(v116);
			TUP* v126 = mw_mirth_type_TZ_ZTo(v125, v116);
			decref(v116);
			branch_ArrowType_8 = v126;
			branch_Ctx_7 = v117;
			branch_ZPlusMirth_6 = v115;
		} break;
		case 9LL: { // Debug
			VAL v127 = mw_mirth_var_Ctx_L0();
			VAL v128 = mw_mirth_type_T0();
			VAL v129 = mw_mirth_type_T0();
			TUP* v130 = mw_mirth_type_TZ_ZTo(v128, v129);
			branch_ArrowType_8 = v130;
			branch_Ctx_7 = v127;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // Panic
			VAL v131 = mw_mirth_var_Ctx_L0();
			STR* v132;
			STRLIT(v132, "*a", 2);
			TUP* v133;
			VAL v134;
			VAL v135 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v131, v132, &v133, &v134);
			STR* v136;
			STRLIT(v136, "*b", 2);
			TUP* v137;
			VAL v138;
			VAL v139 = mw_mirth_type_StackType_NewInCtx(v133, v135, v136, &v137, &v138);
			incref(v134);
			VAL v140 = mw_mirth_type_Type_Str();
			VAL v141 = mw_mirth_type_TZMul(v134, v140);
			incref(v138);
			TUP* v142 = mw_mirth_type_TZ_ZTo(v141, v138);
			decref(v138);
			decref(v134);
			branch_ArrowType_8 = v142;
			branch_Ctx_7 = v139;
			branch_ZPlusMirth_6 = v137;
		} break;
		case 11LL: { // Run
			VAL v143 = mw_mirth_var_Ctx_L0();
			STR* v144;
			STRLIT(v144, "*a", 2);
			TUP* v145;
			VAL v146;
			VAL v147 = mw_mirth_type_StackType_NewInCtx(in_ZPlusMirth_1, v143, v144, &v145, &v146);
			STR* v148;
			STRLIT(v148, "*b", 2);
			TUP* v149;
			VAL v150;
			VAL v151 = mw_mirth_type_StackType_NewInCtx(v145, v147, v148, &v149, &v150);
			incref(v146);
			incref(v146);
			incref(v150);
			TUP* v152 = mw_mirth_type_TZ_ZTo(v146, v150);
			VAL v153 = mtw_mirth_type_Type_Arrow(v152);
			VAL v154 = mw_mirth_type_TZMul(v146, v153);
			incref(v150);
			TUP* v155 = mw_mirth_type_TZ_ZTo(v154, v150);
			decref(v150);
			decref(v146);
			branch_ArrowType_8 = v155;
			branch_Ctx_7 = v151;
			branch_ZPlusMirth_6 = v149;
		} break;
		case 12LL: { // IntEq
			VAL v156 = mw_mirth_var_Ctx_L0();
			VAL v157 = mw_mirth_type_Type_Int();
			VAL v158 = mw_mirth_type_Type_Int();
			VAL v159 = mw_mirth_type_T2(v157, v158);
			VAL v160 = mw_mirth_type_Type_Bool();
			VAL v161 = mw_mirth_type_T1(v160);
			TUP* v162 = mw_mirth_type_TZ_ZTo(v159, v161);
			branch_ArrowType_8 = v162;
			branch_Ctx_7 = v156;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // IntLt
			VAL v163 = mw_mirth_var_Ctx_L0();
			VAL v164 = mw_mirth_type_Type_Int();
			VAL v165 = mw_mirth_type_Type_Int();
			VAL v166 = mw_mirth_type_T2(v164, v165);
			VAL v167 = mw_mirth_type_Type_Bool();
			VAL v168 = mw_mirth_type_T1(v167);
			TUP* v169 = mw_mirth_type_TZ_ZTo(v166, v168);
			branch_ArrowType_8 = v169;
			branch_Ctx_7 = v163;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // IntLe
			VAL v170 = mw_mirth_var_Ctx_L0();
			VAL v171 = mw_mirth_type_Type_Int();
			VAL v172 = mw_mirth_type_Type_Int();
			VAL v173 = mw_mirth_type_T2(v171, v172);
			VAL v174 = mw_mirth_type_Type_Bool();
			VAL v175 = mw_mirth_type_T1(v174);
			TUP* v176 = mw_mirth_type_TZ_ZTo(v173, v175);
			branch_ArrowType_8 = v176;
			branch_Ctx_7 = v170;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // IntGt
			VAL v177 = mw_mirth_var_Ctx_L0();
			VAL v178 = mw_mirth_type_Type_Int();
			VAL v179 = mw_mirth_type_Type_Int();
			VAL v180 = mw_mirth_type_T2(v178, v179);
			VAL v181 = mw_mirth_type_Type_Bool();
			VAL v182 = mw_mirth_type_T1(v181);
			TUP* v183 = mw_mirth_type_TZ_ZTo(v180, v182);
			branch_ArrowType_8 = v183;
			branch_Ctx_7 = v177;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // IntGe
			VAL v184 = mw_mirth_var_Ctx_L0();
			VAL v185 = mw_mirth_type_Type_Int();
			VAL v186 = mw_mirth_type_Type_Int();
			VAL v187 = mw_mirth_type_T2(v185, v186);
			VAL v188 = mw_mirth_type_Type_Bool();
			VAL v189 = mw_mirth_type_T1(v188);
			TUP* v190 = mw_mirth_type_TZ_ZTo(v187, v189);
			branch_ArrowType_8 = v190;
			branch_Ctx_7 = v184;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // IntNe
			VAL v191 = mw_mirth_var_Ctx_L0();
			VAL v192 = mw_mirth_type_Type_Int();
			VAL v193 = mw_mirth_type_Type_Int();
			VAL v194 = mw_mirth_type_T2(v192, v193);
			VAL v195 = mw_mirth_type_Type_Bool();
			VAL v196 = mw_mirth_type_T1(v195);
			TUP* v197 = mw_mirth_type_TZ_ZTo(v194, v196);
			branch_ArrowType_8 = v197;
			branch_Ctx_7 = v191;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // IntAdd
			VAL v198 = mw_mirth_var_Ctx_L0();
			VAL v199 = mw_mirth_type_Type_Int();
			VAL v200 = mw_mirth_type_Type_Int();
			VAL v201 = mw_mirth_type_T2(v199, v200);
			VAL v202 = mw_mirth_type_Type_Int();
			VAL v203 = mw_mirth_type_T1(v202);
			TUP* v204 = mw_mirth_type_TZ_ZTo(v201, v203);
			branch_ArrowType_8 = v204;
			branch_Ctx_7 = v198;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // IntSub
			VAL v205 = mw_mirth_var_Ctx_L0();
			VAL v206 = mw_mirth_type_Type_Int();
			VAL v207 = mw_mirth_type_Type_Int();
			VAL v208 = mw_mirth_type_T2(v206, v207);
			VAL v209 = mw_mirth_type_Type_Int();
			VAL v210 = mw_mirth_type_T1(v209);
			TUP* v211 = mw_mirth_type_TZ_ZTo(v208, v210);
			branch_ArrowType_8 = v211;
			branch_Ctx_7 = v205;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // IntMul
			VAL v212 = mw_mirth_var_Ctx_L0();
			VAL v213 = mw_mirth_type_Type_Int();
			VAL v214 = mw_mirth_type_Type_Int();
			VAL v215 = mw_mirth_type_T2(v213, v214);
			VAL v216 = mw_mirth_type_Type_Int();
			VAL v217 = mw_mirth_type_T1(v216);
			TUP* v218 = mw_mirth_type_TZ_ZTo(v215, v217);
			branch_ArrowType_8 = v218;
			branch_Ctx_7 = v212;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // IntDivMod
			VAL v219 = mw_mirth_var_Ctx_L0();
			VAL v220 = mw_mirth_type_Type_Int();
			VAL v221 = mw_mirth_type_Type_Int();
			VAL v222 = mw_mirth_type_T2(v220, v221);
			VAL v223 = mw_mirth_type_Type_Int();
			VAL v224 = mw_mirth_type_Type_Int();
			VAL v225 = mw_mirth_type_T2(v223, v224);
			TUP* v226 = mw_mirth_type_TZ_ZTo(v222, v225);
			branch_ArrowType_8 = v226;
			branch_Ctx_7 = v219;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 22LL: { // IntToStr
			VAL v227 = mw_mirth_var_Ctx_L0();
			VAL v228 = mw_mirth_type_Type_Int();
			VAL v229 = mw_mirth_type_T1(v228);
			VAL v230 = mw_mirth_type_Type_Str();
			VAL v231 = mw_mirth_type_T1(v230);
			TUP* v232 = mw_mirth_type_TZ_ZTo(v229, v231);
			branch_ArrowType_8 = v232;
			branch_Ctx_7 = v227;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 24LL: { // IntToU64
			VAL v233 = mw_mirth_var_Ctx_L0();
			VAL v234 = mw_mirth_type_Type_Int();
			VAL v235 = mw_mirth_type_T1(v234);
			VAL v236 = mw_mirth_type_Type_U64();
			VAL v237 = mw_mirth_type_T1(v236);
			TUP* v238 = mw_mirth_type_TZ_ZTo(v235, v237);
			branch_ArrowType_8 = v238;
			branch_Ctx_7 = v233;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 23LL: { // IntToI64
			VAL v239 = mw_mirth_var_Ctx_L0();
			VAL v240 = mw_mirth_type_Type_Int();
			VAL v241 = mw_mirth_type_T1(v240);
			VAL v242 = mw_mirth_type_Type_I64();
			VAL v243 = mw_mirth_type_T1(v242);
			TUP* v244 = mw_mirth_type_TZ_ZTo(v241, v243);
			branch_ArrowType_8 = v244;
			branch_Ctx_7 = v239;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 25LL: { // IntToF32
			VAL v245 = mw_mirth_var_Ctx_L0();
			VAL v246 = mw_mirth_type_Type_Int();
			VAL v247 = mw_mirth_type_T1(v246);
			VAL v248 = mw_mirth_type_Type_F32();
			VAL v249 = mw_mirth_type_T1(v248);
			TUP* v250 = mw_mirth_type_TZ_ZTo(v247, v249);
			branch_ArrowType_8 = v250;
			branch_Ctx_7 = v245;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 26LL: { // IntToF64
			VAL v251 = mw_mirth_var_Ctx_L0();
			VAL v252 = mw_mirth_type_Type_Int();
			VAL v253 = mw_mirth_type_T1(v252);
			VAL v254 = mw_mirth_type_Type_F64();
			VAL v255 = mw_mirth_type_T1(v254);
			TUP* v256 = mw_mirth_type_TZ_ZTo(v253, v255);
			branch_ArrowType_8 = v256;
			branch_Ctx_7 = v251;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 27LL: { // U8Get
			VAL v257 = mw_mirth_var_Ctx_L0();
			VAL v258 = mw_mirth_type_Type_Ptr();
			VAL v259 = mw_mirth_type_T1(v258);
			VAL v260 = mw_mirth_type_Type_U8();
			VAL v261 = mw_mirth_type_T1(v260);
			TUP* v262 = mw_mirth_type_TZ_ZTo(v259, v261);
			branch_ArrowType_8 = v262;
			branch_Ctx_7 = v257;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 28LL: { // U8Set
			VAL v263 = mw_mirth_var_Ctx_L0();
			VAL v264 = mw_mirth_type_Type_U8();
			VAL v265 = mw_mirth_type_Type_Ptr();
			VAL v266 = mw_mirth_type_T2(v264, v265);
			VAL v267 = mw_mirth_type_T0();
			TUP* v268 = mw_mirth_type_TZ_ZTo(v266, v267);
			branch_ArrowType_8 = v268;
			branch_Ctx_7 = v263;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 29LL: { // U8ToU64
			VAL v269 = mw_mirth_var_Ctx_L0();
			VAL v270 = mw_mirth_type_Type_U8();
			VAL v271 = mw_mirth_type_T1(v270);
			VAL v272 = mw_mirth_type_Type_U64();
			VAL v273 = mw_mirth_type_T1(v272);
			TUP* v274 = mw_mirth_type_TZ_ZTo(v271, v273);
			branch_ArrowType_8 = v274;
			branch_Ctx_7 = v269;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 30LL: { // U16Get
			VAL v275 = mw_mirth_var_Ctx_L0();
			VAL v276 = mw_mirth_type_Type_Ptr();
			VAL v277 = mw_mirth_type_T1(v276);
			VAL v278 = mw_mirth_type_Type_U16();
			VAL v279 = mw_mirth_type_T1(v278);
			TUP* v280 = mw_mirth_type_TZ_ZTo(v277, v279);
			branch_ArrowType_8 = v280;
			branch_Ctx_7 = v275;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 31LL: { // U16Set
			VAL v281 = mw_mirth_var_Ctx_L0();
			VAL v282 = mw_mirth_type_Type_U16();
			VAL v283 = mw_mirth_type_Type_Ptr();
			VAL v284 = mw_mirth_type_T2(v282, v283);
			VAL v285 = mw_mirth_type_T0();
			TUP* v286 = mw_mirth_type_TZ_ZTo(v284, v285);
			branch_ArrowType_8 = v286;
			branch_Ctx_7 = v281;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 32LL: { // U16ToU64
			VAL v287 = mw_mirth_var_Ctx_L0();
			VAL v288 = mw_mirth_type_Type_U16();
			VAL v289 = mw_mirth_type_T1(v288);
			VAL v290 = mw_mirth_type_Type_U64();
			VAL v291 = mw_mirth_type_T1(v290);
			TUP* v292 = mw_mirth_type_TZ_ZTo(v289, v291);
			branch_ArrowType_8 = v292;
			branch_Ctx_7 = v287;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 33LL: { // U32Get
			VAL v293 = mw_mirth_var_Ctx_L0();
			VAL v294 = mw_mirth_type_Type_Ptr();
			VAL v295 = mw_mirth_type_T1(v294);
			VAL v296 = mw_mirth_type_Type_U32();
			VAL v297 = mw_mirth_type_T1(v296);
			TUP* v298 = mw_mirth_type_TZ_ZTo(v295, v297);
			branch_ArrowType_8 = v298;
			branch_Ctx_7 = v293;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 34LL: { // U32Set
			VAL v299 = mw_mirth_var_Ctx_L0();
			VAL v300 = mw_mirth_type_Type_U32();
			VAL v301 = mw_mirth_type_Type_Ptr();
			VAL v302 = mw_mirth_type_T2(v300, v301);
			VAL v303 = mw_mirth_type_T0();
			TUP* v304 = mw_mirth_type_TZ_ZTo(v302, v303);
			branch_ArrowType_8 = v304;
			branch_Ctx_7 = v299;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 35LL: { // U32ToU64
			VAL v305 = mw_mirth_var_Ctx_L0();
			VAL v306 = mw_mirth_type_Type_U32();
			VAL v307 = mw_mirth_type_T1(v306);
			VAL v308 = mw_mirth_type_Type_U64();
			VAL v309 = mw_mirth_type_T1(v308);
			TUP* v310 = mw_mirth_type_TZ_ZTo(v307, v309);
			branch_ArrowType_8 = v310;
			branch_Ctx_7 = v305;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 36LL: { // U64Get
			VAL v311 = mw_mirth_var_Ctx_L0();
			VAL v312 = mw_mirth_type_Type_Ptr();
			VAL v313 = mw_mirth_type_T1(v312);
			VAL v314 = mw_mirth_type_Type_U64();
			VAL v315 = mw_mirth_type_T1(v314);
			TUP* v316 = mw_mirth_type_TZ_ZTo(v313, v315);
			branch_ArrowType_8 = v316;
			branch_Ctx_7 = v311;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 37LL: { // U64Set
			VAL v317 = mw_mirth_var_Ctx_L0();
			VAL v318 = mw_mirth_type_Type_U64();
			VAL v319 = mw_mirth_type_Type_Ptr();
			VAL v320 = mw_mirth_type_T2(v318, v319);
			VAL v321 = mw_mirth_type_T0();
			TUP* v322 = mw_mirth_type_TZ_ZTo(v320, v321);
			branch_ArrowType_8 = v322;
			branch_Ctx_7 = v317;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 38LL: { // U64Eq
			VAL v323 = mw_mirth_var_Ctx_L0();
			VAL v324 = mw_mirth_type_Type_U64();
			VAL v325 = mw_mirth_type_Type_U64();
			VAL v326 = mw_mirth_type_T2(v324, v325);
			VAL v327 = mw_mirth_type_Type_Bool();
			VAL v328 = mw_mirth_type_T1(v327);
			TUP* v329 = mw_mirth_type_TZ_ZTo(v326, v328);
			branch_ArrowType_8 = v329;
			branch_Ctx_7 = v323;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 39LL: { // U64Lt
			VAL v330 = mw_mirth_var_Ctx_L0();
			VAL v331 = mw_mirth_type_Type_U64();
			VAL v332 = mw_mirth_type_Type_U64();
			VAL v333 = mw_mirth_type_T2(v331, v332);
			VAL v334 = mw_mirth_type_Type_Bool();
			VAL v335 = mw_mirth_type_T1(v334);
			TUP* v336 = mw_mirth_type_TZ_ZTo(v333, v335);
			branch_ArrowType_8 = v336;
			branch_Ctx_7 = v330;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 40LL: { // U64Le
			VAL v337 = mw_mirth_var_Ctx_L0();
			VAL v338 = mw_mirth_type_Type_U64();
			VAL v339 = mw_mirth_type_Type_U64();
			VAL v340 = mw_mirth_type_T2(v338, v339);
			VAL v341 = mw_mirth_type_Type_Bool();
			VAL v342 = mw_mirth_type_T1(v341);
			TUP* v343 = mw_mirth_type_TZ_ZTo(v340, v342);
			branch_ArrowType_8 = v343;
			branch_Ctx_7 = v337;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 41LL: { // U64Gt
			VAL v344 = mw_mirth_var_Ctx_L0();
			VAL v345 = mw_mirth_type_Type_U64();
			VAL v346 = mw_mirth_type_Type_U64();
			VAL v347 = mw_mirth_type_T2(v345, v346);
			VAL v348 = mw_mirth_type_Type_Bool();
			VAL v349 = mw_mirth_type_T1(v348);
			TUP* v350 = mw_mirth_type_TZ_ZTo(v347, v349);
			branch_ArrowType_8 = v350;
			branch_Ctx_7 = v344;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 42LL: { // U64Ge
			VAL v351 = mw_mirth_var_Ctx_L0();
			VAL v352 = mw_mirth_type_Type_U64();
			VAL v353 = mw_mirth_type_Type_U64();
			VAL v354 = mw_mirth_type_T2(v352, v353);
			VAL v355 = mw_mirth_type_Type_Bool();
			VAL v356 = mw_mirth_type_T1(v355);
			TUP* v357 = mw_mirth_type_TZ_ZTo(v354, v356);
			branch_ArrowType_8 = v357;
			branch_Ctx_7 = v351;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 43LL: { // U64Ne
			VAL v358 = mw_mirth_var_Ctx_L0();
			VAL v359 = mw_mirth_type_Type_U64();
			VAL v360 = mw_mirth_type_Type_U64();
			VAL v361 = mw_mirth_type_T2(v359, v360);
			VAL v362 = mw_mirth_type_Type_Bool();
			VAL v363 = mw_mirth_type_T1(v362);
			TUP* v364 = mw_mirth_type_TZ_ZTo(v361, v363);
			branch_ArrowType_8 = v364;
			branch_Ctx_7 = v358;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 44LL: { // U64Add
			VAL v365 = mw_mirth_var_Ctx_L0();
			VAL v366 = mw_mirth_type_Type_U64();
			VAL v367 = mw_mirth_type_Type_U64();
			VAL v368 = mw_mirth_type_T2(v366, v367);
			VAL v369 = mw_mirth_type_Type_U64();
			VAL v370 = mw_mirth_type_T1(v369);
			TUP* v371 = mw_mirth_type_TZ_ZTo(v368, v370);
			branch_ArrowType_8 = v371;
			branch_Ctx_7 = v365;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 45LL: { // U64Sub
			VAL v372 = mw_mirth_var_Ctx_L0();
			VAL v373 = mw_mirth_type_Type_U64();
			VAL v374 = mw_mirth_type_Type_U64();
			VAL v375 = mw_mirth_type_T2(v373, v374);
			VAL v376 = mw_mirth_type_Type_U64();
			VAL v377 = mw_mirth_type_T1(v376);
			TUP* v378 = mw_mirth_type_TZ_ZTo(v375, v377);
			branch_ArrowType_8 = v378;
			branch_Ctx_7 = v372;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 46LL: { // U64Mul
			VAL v379 = mw_mirth_var_Ctx_L0();
			VAL v380 = mw_mirth_type_Type_U64();
			VAL v381 = mw_mirth_type_Type_U64();
			VAL v382 = mw_mirth_type_T2(v380, v381);
			VAL v383 = mw_mirth_type_Type_U64();
			VAL v384 = mw_mirth_type_T1(v383);
			TUP* v385 = mw_mirth_type_TZ_ZTo(v382, v384);
			branch_ArrowType_8 = v385;
			branch_Ctx_7 = v379;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 47LL: { // U64Div
			VAL v386 = mw_mirth_var_Ctx_L0();
			VAL v387 = mw_mirth_type_Type_U64();
			VAL v388 = mw_mirth_type_Type_U64();
			VAL v389 = mw_mirth_type_T2(v387, v388);
			VAL v390 = mw_mirth_type_Type_U64();
			VAL v391 = mw_mirth_type_T1(v390);
			TUP* v392 = mw_mirth_type_TZ_ZTo(v389, v391);
			branch_ArrowType_8 = v392;
			branch_Ctx_7 = v386;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 48LL: { // U64Mod
			VAL v393 = mw_mirth_var_Ctx_L0();
			VAL v394 = mw_mirth_type_Type_U64();
			VAL v395 = mw_mirth_type_Type_U64();
			VAL v396 = mw_mirth_type_T2(v394, v395);
			VAL v397 = mw_mirth_type_Type_U64();
			VAL v398 = mw_mirth_type_T1(v397);
			TUP* v399 = mw_mirth_type_TZ_ZTo(v396, v398);
			branch_ArrowType_8 = v399;
			branch_Ctx_7 = v393;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 49LL: { // U64And
			VAL v400 = mw_mirth_var_Ctx_L0();
			VAL v401 = mw_mirth_type_Type_U64();
			VAL v402 = mw_mirth_type_Type_U64();
			VAL v403 = mw_mirth_type_T2(v401, v402);
			VAL v404 = mw_mirth_type_Type_U64();
			VAL v405 = mw_mirth_type_T1(v404);
			TUP* v406 = mw_mirth_type_TZ_ZTo(v403, v405);
			branch_ArrowType_8 = v406;
			branch_Ctx_7 = v400;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 50LL: { // U64Or
			VAL v407 = mw_mirth_var_Ctx_L0();
			VAL v408 = mw_mirth_type_Type_U64();
			VAL v409 = mw_mirth_type_Type_U64();
			VAL v410 = mw_mirth_type_T2(v408, v409);
			VAL v411 = mw_mirth_type_Type_U64();
			VAL v412 = mw_mirth_type_T1(v411);
			TUP* v413 = mw_mirth_type_TZ_ZTo(v410, v412);
			branch_ArrowType_8 = v413;
			branch_Ctx_7 = v407;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 51LL: { // U64Xor
			VAL v414 = mw_mirth_var_Ctx_L0();
			VAL v415 = mw_mirth_type_Type_U64();
			VAL v416 = mw_mirth_type_Type_U64();
			VAL v417 = mw_mirth_type_T2(v415, v416);
			VAL v418 = mw_mirth_type_Type_U64();
			VAL v419 = mw_mirth_type_T1(v418);
			TUP* v420 = mw_mirth_type_TZ_ZTo(v417, v419);
			branch_ArrowType_8 = v420;
			branch_Ctx_7 = v414;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 52LL: { // U64Shl
			VAL v421 = mw_mirth_var_Ctx_L0();
			VAL v422 = mw_mirth_type_Type_U64();
			VAL v423 = mw_mirth_type_Type_U64();
			VAL v424 = mw_mirth_type_T2(v422, v423);
			VAL v425 = mw_mirth_type_Type_U64();
			VAL v426 = mw_mirth_type_T1(v425);
			TUP* v427 = mw_mirth_type_TZ_ZTo(v424, v426);
			branch_ArrowType_8 = v427;
			branch_Ctx_7 = v421;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 53LL: { // U64Shr
			VAL v428 = mw_mirth_var_Ctx_L0();
			VAL v429 = mw_mirth_type_Type_U64();
			VAL v430 = mw_mirth_type_Type_U64();
			VAL v431 = mw_mirth_type_T2(v429, v430);
			VAL v432 = mw_mirth_type_Type_U64();
			VAL v433 = mw_mirth_type_T1(v432);
			TUP* v434 = mw_mirth_type_TZ_ZTo(v431, v433);
			branch_ArrowType_8 = v434;
			branch_Ctx_7 = v428;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 54LL: { // U64ToInt
			VAL v435 = mw_mirth_var_Ctx_L0();
			VAL v436 = mw_mirth_type_Type_U64();
			VAL v437 = mw_mirth_type_T1(v436);
			VAL v438 = mw_mirth_type_Type_Int();
			VAL v439 = mw_mirth_type_T1(v438);
			TUP* v440 = mw_mirth_type_TZ_ZTo(v437, v439);
			branch_ArrowType_8 = v440;
			branch_Ctx_7 = v435;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 55LL: { // U64ToStr
			VAL v441 = mw_mirth_var_Ctx_L0();
			VAL v442 = mw_mirth_type_Type_U64();
			VAL v443 = mw_mirth_type_T1(v442);
			VAL v444 = mw_mirth_type_Type_Str();
			VAL v445 = mw_mirth_type_T1(v444);
			TUP* v446 = mw_mirth_type_TZ_ZTo(v443, v445);
			branch_ArrowType_8 = v446;
			branch_Ctx_7 = v441;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 56LL: { // U64ToU8
			VAL v447 = mw_mirth_var_Ctx_L0();
			VAL v448 = mw_mirth_type_Type_U64();
			VAL v449 = mw_mirth_type_T1(v448);
			VAL v450 = mw_mirth_type_Type_U8();
			VAL v451 = mw_mirth_type_T1(v450);
			TUP* v452 = mw_mirth_type_TZ_ZTo(v449, v451);
			branch_ArrowType_8 = v452;
			branch_Ctx_7 = v447;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 57LL: { // U64ToU16
			VAL v453 = mw_mirth_var_Ctx_L0();
			VAL v454 = mw_mirth_type_Type_U64();
			VAL v455 = mw_mirth_type_T1(v454);
			VAL v456 = mw_mirth_type_Type_U16();
			VAL v457 = mw_mirth_type_T1(v456);
			TUP* v458 = mw_mirth_type_TZ_ZTo(v455, v457);
			branch_ArrowType_8 = v458;
			branch_Ctx_7 = v453;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 58LL: { // U64ToU32
			VAL v459 = mw_mirth_var_Ctx_L0();
			VAL v460 = mw_mirth_type_Type_U64();
			VAL v461 = mw_mirth_type_T1(v460);
			VAL v462 = mw_mirth_type_Type_U32();
			VAL v463 = mw_mirth_type_T1(v462);
			TUP* v464 = mw_mirth_type_TZ_ZTo(v461, v463);
			branch_ArrowType_8 = v464;
			branch_Ctx_7 = v459;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 59LL: { // U64ToI8
			VAL v465 = mw_mirth_var_Ctx_L0();
			VAL v466 = mw_mirth_type_Type_U64();
			VAL v467 = mw_mirth_type_T1(v466);
			VAL v468 = mw_mirth_type_Type_I8();
			VAL v469 = mw_mirth_type_T1(v468);
			TUP* v470 = mw_mirth_type_TZ_ZTo(v467, v469);
			branch_ArrowType_8 = v470;
			branch_Ctx_7 = v465;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 60LL: { // U64ToI16
			VAL v471 = mw_mirth_var_Ctx_L0();
			VAL v472 = mw_mirth_type_Type_U64();
			VAL v473 = mw_mirth_type_T1(v472);
			VAL v474 = mw_mirth_type_Type_I16();
			VAL v475 = mw_mirth_type_T1(v474);
			TUP* v476 = mw_mirth_type_TZ_ZTo(v473, v475);
			branch_ArrowType_8 = v476;
			branch_Ctx_7 = v471;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 61LL: { // U64ToI32
			VAL v477 = mw_mirth_var_Ctx_L0();
			VAL v478 = mw_mirth_type_Type_U64();
			VAL v479 = mw_mirth_type_T1(v478);
			VAL v480 = mw_mirth_type_Type_I32();
			VAL v481 = mw_mirth_type_T1(v480);
			TUP* v482 = mw_mirth_type_TZ_ZTo(v479, v481);
			branch_ArrowType_8 = v482;
			branch_Ctx_7 = v477;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 62LL: { // U64ToI64
			VAL v483 = mw_mirth_var_Ctx_L0();
			VAL v484 = mw_mirth_type_Type_U64();
			VAL v485 = mw_mirth_type_T1(v484);
			VAL v486 = mw_mirth_type_Type_I64();
			VAL v487 = mw_mirth_type_T1(v486);
			TUP* v488 = mw_mirth_type_TZ_ZTo(v485, v487);
			branch_ArrowType_8 = v488;
			branch_Ctx_7 = v483;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 63LL: { // U64ToF32
			VAL v489 = mw_mirth_var_Ctx_L0();
			VAL v490 = mw_mirth_type_Type_U64();
			VAL v491 = mw_mirth_type_T1(v490);
			VAL v492 = mw_mirth_type_Type_F32();
			VAL v493 = mw_mirth_type_T1(v492);
			TUP* v494 = mw_mirth_type_TZ_ZTo(v491, v493);
			branch_ArrowType_8 = v494;
			branch_Ctx_7 = v489;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 64LL: { // U64ToF64
			VAL v495 = mw_mirth_var_Ctx_L0();
			VAL v496 = mw_mirth_type_Type_U64();
			VAL v497 = mw_mirth_type_T1(v496);
			VAL v498 = mw_mirth_type_Type_F64();
			VAL v499 = mw_mirth_type_T1(v498);
			TUP* v500 = mw_mirth_type_TZ_ZTo(v497, v499);
			branch_ArrowType_8 = v500;
			branch_Ctx_7 = v495;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 65LL: { // I8Get
			VAL v501 = mw_mirth_var_Ctx_L0();
			VAL v502 = mw_mirth_type_Type_Ptr();
			VAL v503 = mw_mirth_type_T1(v502);
			VAL v504 = mw_mirth_type_Type_I8();
			VAL v505 = mw_mirth_type_T1(v504);
			TUP* v506 = mw_mirth_type_TZ_ZTo(v503, v505);
			branch_ArrowType_8 = v506;
			branch_Ctx_7 = v501;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 66LL: { // I8Set
			VAL v507 = mw_mirth_var_Ctx_L0();
			VAL v508 = mw_mirth_type_Type_I8();
			VAL v509 = mw_mirth_type_Type_Ptr();
			VAL v510 = mw_mirth_type_T2(v508, v509);
			VAL v511 = mw_mirth_type_T0();
			TUP* v512 = mw_mirth_type_TZ_ZTo(v510, v511);
			branch_ArrowType_8 = v512;
			branch_Ctx_7 = v507;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 67LL: { // I8ToI64
			VAL v513 = mw_mirth_var_Ctx_L0();
			VAL v514 = mw_mirth_type_Type_I8();
			VAL v515 = mw_mirth_type_T1(v514);
			VAL v516 = mw_mirth_type_Type_I64();
			VAL v517 = mw_mirth_type_T1(v516);
			TUP* v518 = mw_mirth_type_TZ_ZTo(v515, v517);
			branch_ArrowType_8 = v518;
			branch_Ctx_7 = v513;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 68LL: { // I16Get
			VAL v519 = mw_mirth_var_Ctx_L0();
			VAL v520 = mw_mirth_type_Type_Ptr();
			VAL v521 = mw_mirth_type_T1(v520);
			VAL v522 = mw_mirth_type_Type_I16();
			VAL v523 = mw_mirth_type_T1(v522);
			TUP* v524 = mw_mirth_type_TZ_ZTo(v521, v523);
			branch_ArrowType_8 = v524;
			branch_Ctx_7 = v519;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 69LL: { // I16Set
			VAL v525 = mw_mirth_var_Ctx_L0();
			VAL v526 = mw_mirth_type_Type_I16();
			VAL v527 = mw_mirth_type_Type_Ptr();
			VAL v528 = mw_mirth_type_T2(v526, v527);
			VAL v529 = mw_mirth_type_T0();
			TUP* v530 = mw_mirth_type_TZ_ZTo(v528, v529);
			branch_ArrowType_8 = v530;
			branch_Ctx_7 = v525;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 70LL: { // I16ToI64
			VAL v531 = mw_mirth_var_Ctx_L0();
			VAL v532 = mw_mirth_type_Type_I16();
			VAL v533 = mw_mirth_type_T1(v532);
			VAL v534 = mw_mirth_type_Type_I64();
			VAL v535 = mw_mirth_type_T1(v534);
			TUP* v536 = mw_mirth_type_TZ_ZTo(v533, v535);
			branch_ArrowType_8 = v536;
			branch_Ctx_7 = v531;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 71LL: { // I32Get
			VAL v537 = mw_mirth_var_Ctx_L0();
			VAL v538 = mw_mirth_type_Type_Ptr();
			VAL v539 = mw_mirth_type_T1(v538);
			VAL v540 = mw_mirth_type_Type_I32();
			VAL v541 = mw_mirth_type_T1(v540);
			TUP* v542 = mw_mirth_type_TZ_ZTo(v539, v541);
			branch_ArrowType_8 = v542;
			branch_Ctx_7 = v537;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 72LL: { // I32Set
			VAL v543 = mw_mirth_var_Ctx_L0();
			VAL v544 = mw_mirth_type_Type_I32();
			VAL v545 = mw_mirth_type_Type_Ptr();
			VAL v546 = mw_mirth_type_T2(v544, v545);
			VAL v547 = mw_mirth_type_T0();
			TUP* v548 = mw_mirth_type_TZ_ZTo(v546, v547);
			branch_ArrowType_8 = v548;
			branch_Ctx_7 = v543;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 73LL: { // I32ToI64
			VAL v549 = mw_mirth_var_Ctx_L0();
			VAL v550 = mw_mirth_type_Type_I32();
			VAL v551 = mw_mirth_type_T1(v550);
			VAL v552 = mw_mirth_type_Type_I64();
			VAL v553 = mw_mirth_type_T1(v552);
			TUP* v554 = mw_mirth_type_TZ_ZTo(v551, v553);
			branch_ArrowType_8 = v554;
			branch_Ctx_7 = v549;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 74LL: { // I64Get
			VAL v555 = mw_mirth_var_Ctx_L0();
			VAL v556 = mw_mirth_type_Type_Ptr();
			VAL v557 = mw_mirth_type_T1(v556);
			VAL v558 = mw_mirth_type_Type_I64();
			VAL v559 = mw_mirth_type_T1(v558);
			TUP* v560 = mw_mirth_type_TZ_ZTo(v557, v559);
			branch_ArrowType_8 = v560;
			branch_Ctx_7 = v555;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 75LL: { // I64Set
			VAL v561 = mw_mirth_var_Ctx_L0();
			VAL v562 = mw_mirth_type_Type_I64();
			VAL v563 = mw_mirth_type_Type_Ptr();
			VAL v564 = mw_mirth_type_T2(v562, v563);
			VAL v565 = mw_mirth_type_T0();
			TUP* v566 = mw_mirth_type_TZ_ZTo(v564, v565);
			branch_ArrowType_8 = v566;
			branch_Ctx_7 = v561;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 76LL: { // I64Eq
			VAL v567 = mw_mirth_var_Ctx_L0();
			VAL v568 = mw_mirth_type_Type_I64();
			VAL v569 = mw_mirth_type_Type_I64();
			VAL v570 = mw_mirth_type_T2(v568, v569);
			VAL v571 = mw_mirth_type_Type_Bool();
			VAL v572 = mw_mirth_type_T1(v571);
			TUP* v573 = mw_mirth_type_TZ_ZTo(v570, v572);
			branch_ArrowType_8 = v573;
			branch_Ctx_7 = v567;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 77LL: { // I64Lt
			VAL v574 = mw_mirth_var_Ctx_L0();
			VAL v575 = mw_mirth_type_Type_I64();
			VAL v576 = mw_mirth_type_Type_I64();
			VAL v577 = mw_mirth_type_T2(v575, v576);
			VAL v578 = mw_mirth_type_Type_Bool();
			VAL v579 = mw_mirth_type_T1(v578);
			TUP* v580 = mw_mirth_type_TZ_ZTo(v577, v579);
			branch_ArrowType_8 = v580;
			branch_Ctx_7 = v574;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 78LL: { // I64Le
			VAL v581 = mw_mirth_var_Ctx_L0();
			VAL v582 = mw_mirth_type_Type_I64();
			VAL v583 = mw_mirth_type_Type_I64();
			VAL v584 = mw_mirth_type_T2(v582, v583);
			VAL v585 = mw_mirth_type_Type_Bool();
			VAL v586 = mw_mirth_type_T1(v585);
			TUP* v587 = mw_mirth_type_TZ_ZTo(v584, v586);
			branch_ArrowType_8 = v587;
			branch_Ctx_7 = v581;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 79LL: { // I64Gt
			VAL v588 = mw_mirth_var_Ctx_L0();
			VAL v589 = mw_mirth_type_Type_I64();
			VAL v590 = mw_mirth_type_Type_I64();
			VAL v591 = mw_mirth_type_T2(v589, v590);
			VAL v592 = mw_mirth_type_Type_Bool();
			VAL v593 = mw_mirth_type_T1(v592);
			TUP* v594 = mw_mirth_type_TZ_ZTo(v591, v593);
			branch_ArrowType_8 = v594;
			branch_Ctx_7 = v588;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 80LL: { // I64Ge
			VAL v595 = mw_mirth_var_Ctx_L0();
			VAL v596 = mw_mirth_type_Type_I64();
			VAL v597 = mw_mirth_type_Type_I64();
			VAL v598 = mw_mirth_type_T2(v596, v597);
			VAL v599 = mw_mirth_type_Type_Bool();
			VAL v600 = mw_mirth_type_T1(v599);
			TUP* v601 = mw_mirth_type_TZ_ZTo(v598, v600);
			branch_ArrowType_8 = v601;
			branch_Ctx_7 = v595;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 81LL: { // I64Ne
			VAL v602 = mw_mirth_var_Ctx_L0();
			VAL v603 = mw_mirth_type_Type_I64();
			VAL v604 = mw_mirth_type_Type_I64();
			VAL v605 = mw_mirth_type_T2(v603, v604);
			VAL v606 = mw_mirth_type_Type_Bool();
			VAL v607 = mw_mirth_type_T1(v606);
			TUP* v608 = mw_mirth_type_TZ_ZTo(v605, v607);
			branch_ArrowType_8 = v608;
			branch_Ctx_7 = v602;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 82LL: { // I64Add
			VAL v609 = mw_mirth_var_Ctx_L0();
			VAL v610 = mw_mirth_type_Type_I64();
			VAL v611 = mw_mirth_type_Type_I64();
			VAL v612 = mw_mirth_type_T2(v610, v611);
			VAL v613 = mw_mirth_type_Type_I64();
			VAL v614 = mw_mirth_type_T1(v613);
			TUP* v615 = mw_mirth_type_TZ_ZTo(v612, v614);
			branch_ArrowType_8 = v615;
			branch_Ctx_7 = v609;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 83LL: { // I64Sub
			VAL v616 = mw_mirth_var_Ctx_L0();
			VAL v617 = mw_mirth_type_Type_I64();
			VAL v618 = mw_mirth_type_Type_I64();
			VAL v619 = mw_mirth_type_T2(v617, v618);
			VAL v620 = mw_mirth_type_Type_I64();
			VAL v621 = mw_mirth_type_T1(v620);
			TUP* v622 = mw_mirth_type_TZ_ZTo(v619, v621);
			branch_ArrowType_8 = v622;
			branch_Ctx_7 = v616;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 84LL: { // I64Mul
			VAL v623 = mw_mirth_var_Ctx_L0();
			VAL v624 = mw_mirth_type_Type_I64();
			VAL v625 = mw_mirth_type_Type_I64();
			VAL v626 = mw_mirth_type_T2(v624, v625);
			VAL v627 = mw_mirth_type_Type_I64();
			VAL v628 = mw_mirth_type_T1(v627);
			TUP* v629 = mw_mirth_type_TZ_ZTo(v626, v628);
			branch_ArrowType_8 = v629;
			branch_Ctx_7 = v623;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 85LL: { // I64Div
			VAL v630 = mw_mirth_var_Ctx_L0();
			VAL v631 = mw_mirth_type_Type_I64();
			VAL v632 = mw_mirth_type_Type_I64();
			VAL v633 = mw_mirth_type_T2(v631, v632);
			VAL v634 = mw_mirth_type_Type_I64();
			VAL v635 = mw_mirth_type_T1(v634);
			TUP* v636 = mw_mirth_type_TZ_ZTo(v633, v635);
			branch_ArrowType_8 = v636;
			branch_Ctx_7 = v630;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 86LL: { // I64Mod
			VAL v637 = mw_mirth_var_Ctx_L0();
			VAL v638 = mw_mirth_type_Type_I64();
			VAL v639 = mw_mirth_type_Type_I64();
			VAL v640 = mw_mirth_type_T2(v638, v639);
			VAL v641 = mw_mirth_type_Type_I64();
			VAL v642 = mw_mirth_type_T1(v641);
			TUP* v643 = mw_mirth_type_TZ_ZTo(v640, v642);
			branch_ArrowType_8 = v643;
			branch_Ctx_7 = v637;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 87LL: { // I64ToInt
			VAL v644 = mw_mirth_var_Ctx_L0();
			VAL v645 = mw_mirth_type_Type_I64();
			VAL v646 = mw_mirth_type_T1(v645);
			VAL v647 = mw_mirth_type_Type_Int();
			VAL v648 = mw_mirth_type_T1(v647);
			TUP* v649 = mw_mirth_type_TZ_ZTo(v646, v648);
			branch_ArrowType_8 = v649;
			branch_Ctx_7 = v644;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 88LL: { // I64ToStr
			VAL v650 = mw_mirth_var_Ctx_L0();
			VAL v651 = mw_mirth_type_Type_I64();
			VAL v652 = mw_mirth_type_T1(v651);
			VAL v653 = mw_mirth_type_Type_Str();
			VAL v654 = mw_mirth_type_T1(v653);
			TUP* v655 = mw_mirth_type_TZ_ZTo(v652, v654);
			branch_ArrowType_8 = v655;
			branch_Ctx_7 = v650;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 89LL: { // I64ToU8
			VAL v656 = mw_mirth_var_Ctx_L0();
			VAL v657 = mw_mirth_type_Type_I64();
			VAL v658 = mw_mirth_type_T1(v657);
			VAL v659 = mw_mirth_type_Type_U8();
			VAL v660 = mw_mirth_type_T1(v659);
			TUP* v661 = mw_mirth_type_TZ_ZTo(v658, v660);
			branch_ArrowType_8 = v661;
			branch_Ctx_7 = v656;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 90LL: { // I64ToU16
			VAL v662 = mw_mirth_var_Ctx_L0();
			VAL v663 = mw_mirth_type_Type_I64();
			VAL v664 = mw_mirth_type_T1(v663);
			VAL v665 = mw_mirth_type_Type_U16();
			VAL v666 = mw_mirth_type_T1(v665);
			TUP* v667 = mw_mirth_type_TZ_ZTo(v664, v666);
			branch_ArrowType_8 = v667;
			branch_Ctx_7 = v662;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 91LL: { // I64ToU32
			VAL v668 = mw_mirth_var_Ctx_L0();
			VAL v669 = mw_mirth_type_Type_I64();
			VAL v670 = mw_mirth_type_T1(v669);
			VAL v671 = mw_mirth_type_Type_U32();
			VAL v672 = mw_mirth_type_T1(v671);
			TUP* v673 = mw_mirth_type_TZ_ZTo(v670, v672);
			branch_ArrowType_8 = v673;
			branch_Ctx_7 = v668;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 92LL: { // I64ToU64
			VAL v674 = mw_mirth_var_Ctx_L0();
			VAL v675 = mw_mirth_type_Type_I64();
			VAL v676 = mw_mirth_type_T1(v675);
			VAL v677 = mw_mirth_type_Type_U64();
			VAL v678 = mw_mirth_type_T1(v677);
			TUP* v679 = mw_mirth_type_TZ_ZTo(v676, v678);
			branch_ArrowType_8 = v679;
			branch_Ctx_7 = v674;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 93LL: { // I64ToI8
			VAL v680 = mw_mirth_var_Ctx_L0();
			VAL v681 = mw_mirth_type_Type_I64();
			VAL v682 = mw_mirth_type_T1(v681);
			VAL v683 = mw_mirth_type_Type_I8();
			VAL v684 = mw_mirth_type_T1(v683);
			TUP* v685 = mw_mirth_type_TZ_ZTo(v682, v684);
			branch_ArrowType_8 = v685;
			branch_Ctx_7 = v680;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 94LL: { // I64ToI16
			VAL v686 = mw_mirth_var_Ctx_L0();
			VAL v687 = mw_mirth_type_Type_I64();
			VAL v688 = mw_mirth_type_T1(v687);
			VAL v689 = mw_mirth_type_Type_I16();
			VAL v690 = mw_mirth_type_T1(v689);
			TUP* v691 = mw_mirth_type_TZ_ZTo(v688, v690);
			branch_ArrowType_8 = v691;
			branch_Ctx_7 = v686;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 95LL: { // I64ToI32
			VAL v692 = mw_mirth_var_Ctx_L0();
			VAL v693 = mw_mirth_type_Type_I64();
			VAL v694 = mw_mirth_type_T1(v693);
			VAL v695 = mw_mirth_type_Type_I32();
			VAL v696 = mw_mirth_type_T1(v695);
			TUP* v697 = mw_mirth_type_TZ_ZTo(v694, v696);
			branch_ArrowType_8 = v697;
			branch_Ctx_7 = v692;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 96LL: { // I64ToF32
			VAL v698 = mw_mirth_var_Ctx_L0();
			VAL v699 = mw_mirth_type_Type_I64();
			VAL v700 = mw_mirth_type_T1(v699);
			VAL v701 = mw_mirth_type_Type_F32();
			VAL v702 = mw_mirth_type_T1(v701);
			TUP* v703 = mw_mirth_type_TZ_ZTo(v700, v702);
			branch_ArrowType_8 = v703;
			branch_Ctx_7 = v698;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 97LL: { // I64ToF64
			VAL v704 = mw_mirth_var_Ctx_L0();
			VAL v705 = mw_mirth_type_Type_I64();
			VAL v706 = mw_mirth_type_T1(v705);
			VAL v707 = mw_mirth_type_Type_F64();
			VAL v708 = mw_mirth_type_T1(v707);
			TUP* v709 = mw_mirth_type_TZ_ZTo(v706, v708);
			branch_ArrowType_8 = v709;
			branch_Ctx_7 = v704;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 98LL: { // F32Eq
			VAL v710 = mw_mirth_var_Ctx_L0();
			VAL v711 = mw_mirth_type_Type_F32();
			VAL v712 = mw_mirth_type_Type_F32();
			VAL v713 = mw_mirth_type_T2(v711, v712);
			VAL v714 = mw_mirth_type_Type_Bool();
			VAL v715 = mw_mirth_type_T1(v714);
			TUP* v716 = mw_mirth_type_TZ_ZTo(v713, v715);
			branch_ArrowType_8 = v716;
			branch_Ctx_7 = v710;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 99LL: { // F32Lt
			VAL v717 = mw_mirth_var_Ctx_L0();
			VAL v718 = mw_mirth_type_Type_F32();
			VAL v719 = mw_mirth_type_Type_F32();
			VAL v720 = mw_mirth_type_T2(v718, v719);
			VAL v721 = mw_mirth_type_Type_Bool();
			VAL v722 = mw_mirth_type_T1(v721);
			TUP* v723 = mw_mirth_type_TZ_ZTo(v720, v722);
			branch_ArrowType_8 = v723;
			branch_Ctx_7 = v717;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 100LL: { // F32Le
			VAL v724 = mw_mirth_var_Ctx_L0();
			VAL v725 = mw_mirth_type_Type_F32();
			VAL v726 = mw_mirth_type_Type_F32();
			VAL v727 = mw_mirth_type_T2(v725, v726);
			VAL v728 = mw_mirth_type_Type_Bool();
			VAL v729 = mw_mirth_type_T1(v728);
			TUP* v730 = mw_mirth_type_TZ_ZTo(v727, v729);
			branch_ArrowType_8 = v730;
			branch_Ctx_7 = v724;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 101LL: { // F32Gt
			VAL v731 = mw_mirth_var_Ctx_L0();
			VAL v732 = mw_mirth_type_Type_F32();
			VAL v733 = mw_mirth_type_Type_F32();
			VAL v734 = mw_mirth_type_T2(v732, v733);
			VAL v735 = mw_mirth_type_Type_Bool();
			VAL v736 = mw_mirth_type_T1(v735);
			TUP* v737 = mw_mirth_type_TZ_ZTo(v734, v736);
			branch_ArrowType_8 = v737;
			branch_Ctx_7 = v731;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 102LL: { // F32Ge
			VAL v738 = mw_mirth_var_Ctx_L0();
			VAL v739 = mw_mirth_type_Type_F32();
			VAL v740 = mw_mirth_type_Type_F32();
			VAL v741 = mw_mirth_type_T2(v739, v740);
			VAL v742 = mw_mirth_type_Type_Bool();
			VAL v743 = mw_mirth_type_T1(v742);
			TUP* v744 = mw_mirth_type_TZ_ZTo(v741, v743);
			branch_ArrowType_8 = v744;
			branch_Ctx_7 = v738;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 103LL: { // F32Ne
			VAL v745 = mw_mirth_var_Ctx_L0();
			VAL v746 = mw_mirth_type_Type_F32();
			VAL v747 = mw_mirth_type_Type_F32();
			VAL v748 = mw_mirth_type_T2(v746, v747);
			VAL v749 = mw_mirth_type_Type_Bool();
			VAL v750 = mw_mirth_type_T1(v749);
			TUP* v751 = mw_mirth_type_TZ_ZTo(v748, v750);
			branch_ArrowType_8 = v751;
			branch_Ctx_7 = v745;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 104LL: { // F32Add
			VAL v752 = mw_mirth_var_Ctx_L0();
			VAL v753 = mw_mirth_type_Type_F32();
			VAL v754 = mw_mirth_type_Type_F32();
			VAL v755 = mw_mirth_type_T2(v753, v754);
			VAL v756 = mw_mirth_type_Type_F32();
			VAL v757 = mw_mirth_type_T1(v756);
			TUP* v758 = mw_mirth_type_TZ_ZTo(v755, v757);
			branch_ArrowType_8 = v758;
			branch_Ctx_7 = v752;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 105LL: { // F32Sub
			VAL v759 = mw_mirth_var_Ctx_L0();
			VAL v760 = mw_mirth_type_Type_F32();
			VAL v761 = mw_mirth_type_Type_F32();
			VAL v762 = mw_mirth_type_T2(v760, v761);
			VAL v763 = mw_mirth_type_Type_F32();
			VAL v764 = mw_mirth_type_T1(v763);
			TUP* v765 = mw_mirth_type_TZ_ZTo(v762, v764);
			branch_ArrowType_8 = v765;
			branch_Ctx_7 = v759;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 106LL: { // F32Mul
			VAL v766 = mw_mirth_var_Ctx_L0();
			VAL v767 = mw_mirth_type_Type_F32();
			VAL v768 = mw_mirth_type_Type_F32();
			VAL v769 = mw_mirth_type_T2(v767, v768);
			VAL v770 = mw_mirth_type_Type_F32();
			VAL v771 = mw_mirth_type_T1(v770);
			TUP* v772 = mw_mirth_type_TZ_ZTo(v769, v771);
			branch_ArrowType_8 = v772;
			branch_Ctx_7 = v766;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 107LL: { // F32Div
			VAL v773 = mw_mirth_var_Ctx_L0();
			VAL v774 = mw_mirth_type_Type_F32();
			VAL v775 = mw_mirth_type_Type_F32();
			VAL v776 = mw_mirth_type_T2(v774, v775);
			VAL v777 = mw_mirth_type_Type_F32();
			VAL v778 = mw_mirth_type_T1(v777);
			TUP* v779 = mw_mirth_type_TZ_ZTo(v776, v778);
			branch_ArrowType_8 = v779;
			branch_Ctx_7 = v773;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 108LL: { // F32ToInt
			VAL v780 = mw_mirth_var_Ctx_L0();
			VAL v781 = mw_mirth_type_Type_F32();
			VAL v782 = mw_mirth_type_T1(v781);
			VAL v783 = mw_mirth_type_Type_Int();
			VAL v784 = mw_mirth_type_T1(v783);
			TUP* v785 = mw_mirth_type_TZ_ZTo(v782, v784);
			branch_ArrowType_8 = v785;
			branch_Ctx_7 = v780;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 109LL: { // F32ToStr
			VAL v786 = mw_mirth_var_Ctx_L0();
			VAL v787 = mw_mirth_type_Type_F32();
			VAL v788 = mw_mirth_type_T1(v787);
			VAL v789 = mw_mirth_type_Type_Str();
			VAL v790 = mw_mirth_type_T1(v789);
			TUP* v791 = mw_mirth_type_TZ_ZTo(v788, v790);
			branch_ArrowType_8 = v791;
			branch_Ctx_7 = v786;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 110LL: { // F32ToF64
			VAL v792 = mw_mirth_var_Ctx_L0();
			VAL v793 = mw_mirth_type_Type_F32();
			VAL v794 = mw_mirth_type_T1(v793);
			VAL v795 = mw_mirth_type_Type_F64();
			VAL v796 = mw_mirth_type_T1(v795);
			TUP* v797 = mw_mirth_type_TZ_ZTo(v794, v796);
			branch_ArrowType_8 = v797;
			branch_Ctx_7 = v792;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 111LL: { // F32Get
			VAL v798 = mw_mirth_var_Ctx_L0();
			VAL v799 = mw_mirth_type_Type_Ptr();
			VAL v800 = mw_mirth_type_T1(v799);
			VAL v801 = mw_mirth_type_Type_F32();
			VAL v802 = mw_mirth_type_T1(v801);
			TUP* v803 = mw_mirth_type_TZ_ZTo(v800, v802);
			branch_ArrowType_8 = v803;
			branch_Ctx_7 = v798;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 112LL: { // F32Set
			VAL v804 = mw_mirth_var_Ctx_L0();
			VAL v805 = mw_mirth_type_Type_F32();
			VAL v806 = mw_mirth_type_Type_Ptr();
			VAL v807 = mw_mirth_type_T2(v805, v806);
			VAL v808 = mw_mirth_type_T0();
			TUP* v809 = mw_mirth_type_TZ_ZTo(v807, v808);
			branch_ArrowType_8 = v809;
			branch_Ctx_7 = v804;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 113LL: { // F64Eq
			VAL v810 = mw_mirth_var_Ctx_L0();
			VAL v811 = mw_mirth_type_Type_F64();
			VAL v812 = mw_mirth_type_Type_F64();
			VAL v813 = mw_mirth_type_T2(v811, v812);
			VAL v814 = mw_mirth_type_Type_Bool();
			VAL v815 = mw_mirth_type_T1(v814);
			TUP* v816 = mw_mirth_type_TZ_ZTo(v813, v815);
			branch_ArrowType_8 = v816;
			branch_Ctx_7 = v810;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 114LL: { // F64Lt
			VAL v817 = mw_mirth_var_Ctx_L0();
			VAL v818 = mw_mirth_type_Type_F64();
			VAL v819 = mw_mirth_type_Type_F64();
			VAL v820 = mw_mirth_type_T2(v818, v819);
			VAL v821 = mw_mirth_type_Type_Bool();
			VAL v822 = mw_mirth_type_T1(v821);
			TUP* v823 = mw_mirth_type_TZ_ZTo(v820, v822);
			branch_ArrowType_8 = v823;
			branch_Ctx_7 = v817;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 115LL: { // F64Le
			VAL v824 = mw_mirth_var_Ctx_L0();
			VAL v825 = mw_mirth_type_Type_F64();
			VAL v826 = mw_mirth_type_Type_F64();
			VAL v827 = mw_mirth_type_T2(v825, v826);
			VAL v828 = mw_mirth_type_Type_Bool();
			VAL v829 = mw_mirth_type_T1(v828);
			TUP* v830 = mw_mirth_type_TZ_ZTo(v827, v829);
			branch_ArrowType_8 = v830;
			branch_Ctx_7 = v824;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 116LL: { // F64Gt
			VAL v831 = mw_mirth_var_Ctx_L0();
			VAL v832 = mw_mirth_type_Type_F64();
			VAL v833 = mw_mirth_type_Type_F64();
			VAL v834 = mw_mirth_type_T2(v832, v833);
			VAL v835 = mw_mirth_type_Type_Bool();
			VAL v836 = mw_mirth_type_T1(v835);
			TUP* v837 = mw_mirth_type_TZ_ZTo(v834, v836);
			branch_ArrowType_8 = v837;
			branch_Ctx_7 = v831;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 117LL: { // F64Ge
			VAL v838 = mw_mirth_var_Ctx_L0();
			VAL v839 = mw_mirth_type_Type_F64();
			VAL v840 = mw_mirth_type_Type_F64();
			VAL v841 = mw_mirth_type_T2(v839, v840);
			VAL v842 = mw_mirth_type_Type_Bool();
			VAL v843 = mw_mirth_type_T1(v842);
			TUP* v844 = mw_mirth_type_TZ_ZTo(v841, v843);
			branch_ArrowType_8 = v844;
			branch_Ctx_7 = v838;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 118LL: { // F64Ne
			VAL v845 = mw_mirth_var_Ctx_L0();
			VAL v846 = mw_mirth_type_Type_F64();
			VAL v847 = mw_mirth_type_Type_F64();
			VAL v848 = mw_mirth_type_T2(v846, v847);
			VAL v849 = mw_mirth_type_Type_Bool();
			VAL v850 = mw_mirth_type_T1(v849);
			TUP* v851 = mw_mirth_type_TZ_ZTo(v848, v850);
			branch_ArrowType_8 = v851;
			branch_Ctx_7 = v845;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 119LL: { // F64Add
			VAL v852 = mw_mirth_var_Ctx_L0();
			VAL v853 = mw_mirth_type_Type_F64();
			VAL v854 = mw_mirth_type_Type_F64();
			VAL v855 = mw_mirth_type_T2(v853, v854);
			VAL v856 = mw_mirth_type_Type_F64();
			VAL v857 = mw_mirth_type_T1(v856);
			TUP* v858 = mw_mirth_type_TZ_ZTo(v855, v857);
			branch_ArrowType_8 = v858;
			branch_Ctx_7 = v852;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 120LL: { // F64Sub
			VAL v859 = mw_mirth_var_Ctx_L0();
			VAL v860 = mw_mirth_type_Type_F64();
			VAL v861 = mw_mirth_type_Type_F64();
			VAL v862 = mw_mirth_type_T2(v860, v861);
			VAL v863 = mw_mirth_type_Type_F64();
			VAL v864 = mw_mirth_type_T1(v863);
			TUP* v865 = mw_mirth_type_TZ_ZTo(v862, v864);
			branch_ArrowType_8 = v865;
			branch_Ctx_7 = v859;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 121LL: { // F64Mul
			VAL v866 = mw_mirth_var_Ctx_L0();
			VAL v867 = mw_mirth_type_Type_F64();
			VAL v868 = mw_mirth_type_Type_F64();
			VAL v869 = mw_mirth_type_T2(v867, v868);
			VAL v870 = mw_mirth_type_Type_F64();
			VAL v871 = mw_mirth_type_T1(v870);
			TUP* v872 = mw_mirth_type_TZ_ZTo(v869, v871);
			branch_ArrowType_8 = v872;
			branch_Ctx_7 = v866;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 122LL: { // F64Div
			VAL v873 = mw_mirth_var_Ctx_L0();
			VAL v874 = mw_mirth_type_Type_F64();
			VAL v875 = mw_mirth_type_Type_F64();
			VAL v876 = mw_mirth_type_T2(v874, v875);
			VAL v877 = mw_mirth_type_Type_F64();
			VAL v878 = mw_mirth_type_T1(v877);
			TUP* v879 = mw_mirth_type_TZ_ZTo(v876, v878);
			branch_ArrowType_8 = v879;
			branch_Ctx_7 = v873;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 123LL: { // F64ToInt
			VAL v880 = mw_mirth_var_Ctx_L0();
			VAL v881 = mw_mirth_type_Type_F64();
			VAL v882 = mw_mirth_type_T1(v881);
			VAL v883 = mw_mirth_type_Type_Int();
			VAL v884 = mw_mirth_type_T1(v883);
			TUP* v885 = mw_mirth_type_TZ_ZTo(v882, v884);
			branch_ArrowType_8 = v885;
			branch_Ctx_7 = v880;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 124LL: { // F64ToStr
			VAL v886 = mw_mirth_var_Ctx_L0();
			VAL v887 = mw_mirth_type_Type_F64();
			VAL v888 = mw_mirth_type_T1(v887);
			VAL v889 = mw_mirth_type_Type_Str();
			VAL v890 = mw_mirth_type_T1(v889);
			TUP* v891 = mw_mirth_type_TZ_ZTo(v888, v890);
			branch_ArrowType_8 = v891;
			branch_Ctx_7 = v886;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 125LL: { // F64ToF32
			VAL v892 = mw_mirth_var_Ctx_L0();
			VAL v893 = mw_mirth_type_Type_F64();
			VAL v894 = mw_mirth_type_T1(v893);
			VAL v895 = mw_mirth_type_Type_F32();
			VAL v896 = mw_mirth_type_T1(v895);
			TUP* v897 = mw_mirth_type_TZ_ZTo(v894, v896);
			branch_ArrowType_8 = v897;
			branch_Ctx_7 = v892;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 126LL: { // F64Get
			VAL v898 = mw_mirth_var_Ctx_L0();
			VAL v899 = mw_mirth_type_Type_Ptr();
			VAL v900 = mw_mirth_type_T1(v899);
			VAL v901 = mw_mirth_type_Type_F64();
			VAL v902 = mw_mirth_type_T1(v901);
			TUP* v903 = mw_mirth_type_TZ_ZTo(v900, v902);
			branch_ArrowType_8 = v903;
			branch_Ctx_7 = v898;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 127LL: { // F64Set
			VAL v904 = mw_mirth_var_Ctx_L0();
			VAL v905 = mw_mirth_type_Type_F64();
			VAL v906 = mw_mirth_type_Type_Ptr();
			VAL v907 = mw_mirth_type_T2(v905, v906);
			VAL v908 = mw_mirth_type_T0();
			TUP* v909 = mw_mirth_type_TZ_ZTo(v907, v908);
			branch_ArrowType_8 = v909;
			branch_Ctx_7 = v904;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 128LL: { // BoolTrue
			VAL v910 = mw_mirth_var_Ctx_L0();
			VAL v911 = mw_mirth_type_T0();
			VAL v912 = mw_mirth_type_Type_Bool();
			VAL v913 = mw_mirth_type_T1(v912);
			TUP* v914 = mw_mirth_type_TZ_ZTo(v911, v913);
			branch_ArrowType_8 = v914;
			branch_Ctx_7 = v910;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 129LL: { // BoolFalse
			VAL v915 = mw_mirth_var_Ctx_L0();
			VAL v916 = mw_mirth_type_T0();
			VAL v917 = mw_mirth_type_Type_Bool();
			VAL v918 = mw_mirth_type_T1(v917);
			TUP* v919 = mw_mirth_type_TZ_ZTo(v916, v918);
			branch_ArrowType_8 = v919;
			branch_Ctx_7 = v915;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 130LL: { // BoolAnd
			VAL v920 = mw_mirth_var_Ctx_L0();
			VAL v921 = mw_mirth_type_Type_Bool();
			VAL v922 = mw_mirth_type_Type_Bool();
			VAL v923 = mw_mirth_type_T2(v921, v922);
			VAL v924 = mw_mirth_type_Type_Bool();
			VAL v925 = mw_mirth_type_T1(v924);
			TUP* v926 = mw_mirth_type_TZ_ZTo(v923, v925);
			branch_ArrowType_8 = v926;
			branch_Ctx_7 = v920;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 131LL: { // BoolOr
			VAL v927 = mw_mirth_var_Ctx_L0();
			VAL v928 = mw_mirth_type_Type_Bool();
			VAL v929 = mw_mirth_type_Type_Bool();
			VAL v930 = mw_mirth_type_T2(v928, v929);
			VAL v931 = mw_mirth_type_Type_Bool();
			VAL v932 = mw_mirth_type_T1(v931);
			TUP* v933 = mw_mirth_type_TZ_ZTo(v930, v932);
			branch_ArrowType_8 = v933;
			branch_Ctx_7 = v927;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 132LL: { // BoolNot
			VAL v934 = mw_mirth_var_Ctx_L0();
			VAL v935 = mw_mirth_type_Type_Bool();
			VAL v936 = mw_mirth_type_T1(v935);
			VAL v937 = mw_mirth_type_Type_Bool();
			VAL v938 = mw_mirth_type_T1(v937);
			TUP* v939 = mw_mirth_type_TZ_ZTo(v936, v938);
			branch_ArrowType_8 = v939;
			branch_Ctx_7 = v934;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 133LL: { // TupPack0
			VAL v940 = mw_mirth_var_Ctx_L0();
			VAL v941 = mw_mirth_type_T0();
			incref(v941);
			VAL v942 = mw_mirth_type_StackType_ZToType(v941);
			VAL v943 = mw_mirth_type_T1(v942);
			TUP* v944 = mw_mirth_type_TZ_ZTo(v941, v943);
			branch_ArrowType_8 = v944;
			branch_Ctx_7 = v940;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 134LL: { // TupPack1
			VAL v945 = mw_mirth_var_Ctx_L0();
			STR* v946;
			STRLIT(v946, "a", 1);
			TUP* v947;
			VAL v948;
			VAL v949 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v945, v946, &v947, &v948);
			VAL v950 = mw_mirth_type_T1(v948);
			incref(v950);
			VAL v951 = mw_mirth_type_StackType_ZToType(v950);
			VAL v952 = mw_mirth_type_T1(v951);
			TUP* v953 = mw_mirth_type_TZ_ZTo(v950, v952);
			branch_ArrowType_8 = v953;
			branch_Ctx_7 = v949;
			branch_ZPlusMirth_6 = v947;
		} break;
		case 135LL: { // TupPack2
			VAL v954 = mw_mirth_var_Ctx_L0();
			STR* v955;
			STRLIT(v955, "a", 1);
			TUP* v956;
			VAL v957;
			VAL v958 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v954, v955, &v956, &v957);
			STR* v959;
			STRLIT(v959, "b", 1);
			TUP* v960;
			VAL v961;
			VAL v962 = mw_mirth_type_Type_NewInCtx(v956, v958, v959, &v960, &v961);
			VAL v963 = mw_mirth_type_T2(v957, v961);
			incref(v963);
			VAL v964 = mw_mirth_type_StackType_ZToType(v963);
			VAL v965 = mw_mirth_type_T1(v964);
			TUP* v966 = mw_mirth_type_TZ_ZTo(v963, v965);
			branch_ArrowType_8 = v966;
			branch_Ctx_7 = v962;
			branch_ZPlusMirth_6 = v960;
		} break;
		case 136LL: { // TupPack3
			VAL v967 = mw_mirth_var_Ctx_L0();
			STR* v968;
			STRLIT(v968, "a", 1);
			TUP* v969;
			VAL v970;
			VAL v971 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v967, v968, &v969, &v970);
			STR* v972;
			STRLIT(v972, "b", 1);
			TUP* v973;
			VAL v974;
			VAL v975 = mw_mirth_type_Type_NewInCtx(v969, v971, v972, &v973, &v974);
			STR* v976;
			STRLIT(v976, "c", 1);
			TUP* v977;
			VAL v978;
			VAL v979 = mw_mirth_type_Type_NewInCtx(v973, v975, v976, &v977, &v978);
			VAL v980 = mw_mirth_type_T3(v970, v974, v978);
			incref(v980);
			VAL v981 = mw_mirth_type_StackType_ZToType(v980);
			VAL v982 = mw_mirth_type_T1(v981);
			TUP* v983 = mw_mirth_type_TZ_ZTo(v980, v982);
			branch_ArrowType_8 = v983;
			branch_Ctx_7 = v979;
			branch_ZPlusMirth_6 = v977;
		} break;
		case 137LL: { // TupPack4
			VAL v984 = mw_mirth_var_Ctx_L0();
			STR* v985;
			STRLIT(v985, "a", 1);
			TUP* v986;
			VAL v987;
			VAL v988 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v984, v985, &v986, &v987);
			STR* v989;
			STRLIT(v989, "b", 1);
			TUP* v990;
			VAL v991;
			VAL v992 = mw_mirth_type_Type_NewInCtx(v986, v988, v989, &v990, &v991);
			STR* v993;
			STRLIT(v993, "c", 1);
			TUP* v994;
			VAL v995;
			VAL v996 = mw_mirth_type_Type_NewInCtx(v990, v992, v993, &v994, &v995);
			STR* v997;
			STRLIT(v997, "d", 1);
			TUP* v998;
			VAL v999;
			VAL v1000 = mw_mirth_type_Type_NewInCtx(v994, v996, v997, &v998, &v999);
			VAL v1001 = mw_mirth_type_T4(v987, v991, v995, v999);
			incref(v1001);
			VAL v1002 = mw_mirth_type_StackType_ZToType(v1001);
			VAL v1003 = mw_mirth_type_T1(v1002);
			TUP* v1004 = mw_mirth_type_TZ_ZTo(v1001, v1003);
			branch_ArrowType_8 = v1004;
			branch_Ctx_7 = v1000;
			branch_ZPlusMirth_6 = v998;
		} break;
		case 138LL: { // TupPack5
			VAL v1005 = mw_mirth_var_Ctx_L0();
			STR* v1006;
			STRLIT(v1006, "a", 1);
			TUP* v1007;
			VAL v1008;
			VAL v1009 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1005, v1006, &v1007, &v1008);
			STR* v1010;
			STRLIT(v1010, "b", 1);
			TUP* v1011;
			VAL v1012;
			VAL v1013 = mw_mirth_type_Type_NewInCtx(v1007, v1009, v1010, &v1011, &v1012);
			STR* v1014;
			STRLIT(v1014, "c", 1);
			TUP* v1015;
			VAL v1016;
			VAL v1017 = mw_mirth_type_Type_NewInCtx(v1011, v1013, v1014, &v1015, &v1016);
			STR* v1018;
			STRLIT(v1018, "d", 1);
			TUP* v1019;
			VAL v1020;
			VAL v1021 = mw_mirth_type_Type_NewInCtx(v1015, v1017, v1018, &v1019, &v1020);
			STR* v1022;
			STRLIT(v1022, "e", 1);
			TUP* v1023;
			VAL v1024;
			VAL v1025 = mw_mirth_type_Type_NewInCtx(v1019, v1021, v1022, &v1023, &v1024);
			VAL v1026 = mw_mirth_type_T5(v1008, v1012, v1016, v1020, v1024);
			incref(v1026);
			VAL v1027 = mw_mirth_type_StackType_ZToType(v1026);
			VAL v1028 = mw_mirth_type_T1(v1027);
			TUP* v1029 = mw_mirth_type_TZ_ZTo(v1026, v1028);
			branch_ArrowType_8 = v1029;
			branch_Ctx_7 = v1025;
			branch_ZPlusMirth_6 = v1023;
		} break;
		case 139LL: { // TupUnpack0
			VAL v1030 = mw_mirth_var_Ctx_L0();
			VAL v1031 = mw_mirth_type_T0();
			incref(v1031);
			VAL v1032 = mw_mirth_type_StackType_ZToType(v1031);
			VAL v1033 = mw_mirth_type_T1(v1032);
			TUP* v1034 = mw_mirth_type_TZ_ZTo(v1033, v1031);
			branch_ArrowType_8 = v1034;
			branch_Ctx_7 = v1030;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 140LL: { // TupUnpack1
			VAL v1035 = mw_mirth_var_Ctx_L0();
			STR* v1036;
			STRLIT(v1036, "a", 1);
			TUP* v1037;
			VAL v1038;
			VAL v1039 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1035, v1036, &v1037, &v1038);
			VAL v1040 = mw_mirth_type_T1(v1038);
			incref(v1040);
			VAL v1041 = mw_mirth_type_StackType_ZToType(v1040);
			VAL v1042 = mw_mirth_type_T1(v1041);
			TUP* v1043 = mw_mirth_type_TZ_ZTo(v1042, v1040);
			branch_ArrowType_8 = v1043;
			branch_Ctx_7 = v1039;
			branch_ZPlusMirth_6 = v1037;
		} break;
		case 141LL: { // TupUnpack2
			VAL v1044 = mw_mirth_var_Ctx_L0();
			STR* v1045;
			STRLIT(v1045, "a", 1);
			TUP* v1046;
			VAL v1047;
			VAL v1048 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1044, v1045, &v1046, &v1047);
			STR* v1049;
			STRLIT(v1049, "b", 1);
			TUP* v1050;
			VAL v1051;
			VAL v1052 = mw_mirth_type_Type_NewInCtx(v1046, v1048, v1049, &v1050, &v1051);
			VAL v1053 = mw_mirth_type_T2(v1047, v1051);
			incref(v1053);
			VAL v1054 = mw_mirth_type_StackType_ZToType(v1053);
			VAL v1055 = mw_mirth_type_T1(v1054);
			TUP* v1056 = mw_mirth_type_TZ_ZTo(v1055, v1053);
			branch_ArrowType_8 = v1056;
			branch_Ctx_7 = v1052;
			branch_ZPlusMirth_6 = v1050;
		} break;
		case 142LL: { // TupUnpack3
			VAL v1057 = mw_mirth_var_Ctx_L0();
			STR* v1058;
			STRLIT(v1058, "a", 1);
			TUP* v1059;
			VAL v1060;
			VAL v1061 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1057, v1058, &v1059, &v1060);
			STR* v1062;
			STRLIT(v1062, "b", 1);
			TUP* v1063;
			VAL v1064;
			VAL v1065 = mw_mirth_type_Type_NewInCtx(v1059, v1061, v1062, &v1063, &v1064);
			STR* v1066;
			STRLIT(v1066, "c", 1);
			TUP* v1067;
			VAL v1068;
			VAL v1069 = mw_mirth_type_Type_NewInCtx(v1063, v1065, v1066, &v1067, &v1068);
			VAL v1070 = mw_mirth_type_T3(v1060, v1064, v1068);
			incref(v1070);
			VAL v1071 = mw_mirth_type_StackType_ZToType(v1070);
			VAL v1072 = mw_mirth_type_T1(v1071);
			TUP* v1073 = mw_mirth_type_TZ_ZTo(v1072, v1070);
			branch_ArrowType_8 = v1073;
			branch_Ctx_7 = v1069;
			branch_ZPlusMirth_6 = v1067;
		} break;
		case 143LL: { // TupUnpack4
			VAL v1074 = mw_mirth_var_Ctx_L0();
			STR* v1075;
			STRLIT(v1075, "a", 1);
			TUP* v1076;
			VAL v1077;
			VAL v1078 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1074, v1075, &v1076, &v1077);
			STR* v1079;
			STRLIT(v1079, "b", 1);
			TUP* v1080;
			VAL v1081;
			VAL v1082 = mw_mirth_type_Type_NewInCtx(v1076, v1078, v1079, &v1080, &v1081);
			STR* v1083;
			STRLIT(v1083, "c", 1);
			TUP* v1084;
			VAL v1085;
			VAL v1086 = mw_mirth_type_Type_NewInCtx(v1080, v1082, v1083, &v1084, &v1085);
			STR* v1087;
			STRLIT(v1087, "d", 1);
			TUP* v1088;
			VAL v1089;
			VAL v1090 = mw_mirth_type_Type_NewInCtx(v1084, v1086, v1087, &v1088, &v1089);
			VAL v1091 = mw_mirth_type_T4(v1077, v1081, v1085, v1089);
			incref(v1091);
			VAL v1092 = mw_mirth_type_StackType_ZToType(v1091);
			VAL v1093 = mw_mirth_type_T1(v1092);
			TUP* v1094 = mw_mirth_type_TZ_ZTo(v1093, v1091);
			branch_ArrowType_8 = v1094;
			branch_Ctx_7 = v1090;
			branch_ZPlusMirth_6 = v1088;
		} break;
		case 144LL: { // TupUnpack5
			VAL v1095 = mw_mirth_var_Ctx_L0();
			STR* v1096;
			STRLIT(v1096, "a", 1);
			TUP* v1097;
			VAL v1098;
			VAL v1099 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1095, v1096, &v1097, &v1098);
			STR* v1100;
			STRLIT(v1100, "b", 1);
			TUP* v1101;
			VAL v1102;
			VAL v1103 = mw_mirth_type_Type_NewInCtx(v1097, v1099, v1100, &v1101, &v1102);
			STR* v1104;
			STRLIT(v1104, "c", 1);
			TUP* v1105;
			VAL v1106;
			VAL v1107 = mw_mirth_type_Type_NewInCtx(v1101, v1103, v1104, &v1105, &v1106);
			STR* v1108;
			STRLIT(v1108, "d", 1);
			TUP* v1109;
			VAL v1110;
			VAL v1111 = mw_mirth_type_Type_NewInCtx(v1105, v1107, v1108, &v1109, &v1110);
			STR* v1112;
			STRLIT(v1112, "e", 1);
			TUP* v1113;
			VAL v1114;
			VAL v1115 = mw_mirth_type_Type_NewInCtx(v1109, v1111, v1112, &v1113, &v1114);
			VAL v1116 = mw_mirth_type_T5(v1098, v1102, v1106, v1110, v1114);
			incref(v1116);
			VAL v1117 = mw_mirth_type_StackType_ZToType(v1116);
			VAL v1118 = mw_mirth_type_T1(v1117);
			TUP* v1119 = mw_mirth_type_TZ_ZTo(v1118, v1116);
			branch_ArrowType_8 = v1119;
			branch_Ctx_7 = v1115;
			branch_ZPlusMirth_6 = v1113;
		} break;
		case 145LL: { // MutGet
			VAL v1120 = mw_mirth_var_Ctx_L0();
			STR* v1121;
			STRLIT(v1121, "a", 1);
			TUP* v1122;
			VAL v1123;
			VAL v1124 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1120, v1121, &v1122, &v1123);
			incref(v1123);
			VAL v1125 = mtw_mirth_type_Type_Mut(v1123);
			VAL v1126 = mw_mirth_type_T1(v1125);
			incref(v1123);
			VAL v1127 = mw_mirth_type_T1(v1123);
			TUP* v1128 = mw_mirth_type_TZ_ZTo(v1126, v1127);
			decref(v1123);
			branch_ArrowType_8 = v1128;
			branch_Ctx_7 = v1124;
			branch_ZPlusMirth_6 = v1122;
		} break;
		case 146LL: { // MutSet
			VAL v1129 = mw_mirth_var_Ctx_L0();
			STR* v1130;
			STRLIT(v1130, "a", 1);
			TUP* v1131;
			VAL v1132;
			VAL v1133 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1129, v1130, &v1131, &v1132);
			incref(v1132);
			incref(v1132);
			VAL v1134 = mtw_mirth_type_Type_Mut(v1132);
			VAL v1135 = mw_mirth_type_T2(v1132, v1134);
			VAL v1136 = mw_mirth_type_T0();
			TUP* v1137 = mw_mirth_type_TZ_ZTo(v1135, v1136);
			decref(v1132);
			branch_ArrowType_8 = v1137;
			branch_Ctx_7 = v1133;
			branch_ZPlusMirth_6 = v1131;
		} break;
		case 147LL: { // MutIsSet
			VAL v1138 = mw_mirth_var_Ctx_L0();
			STR* v1139;
			STRLIT(v1139, "a", 1);
			TUP* v1140;
			VAL v1141;
			VAL v1142 = mw_mirth_type_Type_NewInCtx(in_ZPlusMirth_1, v1138, v1139, &v1140, &v1141);
			incref(v1141);
			VAL v1143 = mtw_mirth_type_Type_Mut(v1141);
			VAL v1144 = mw_mirth_type_T1(v1143);
			VAL v1145 = mw_mirth_type_Type_Bool();
			VAL v1146 = mw_mirth_type_T1(v1145);
			TUP* v1147 = mw_mirth_type_TZ_ZTo(v1144, v1146);
			decref(v1141);
			branch_ArrowType_8 = v1147;
			branch_Ctx_7 = v1142;
			branch_ZPlusMirth_6 = v1140;
		} break;
		case 148LL: { // PtrNil
			VAL v1148 = mw_mirth_var_Ctx_L0();
			VAL v1149 = mw_mirth_type_T0();
			VAL v1150 = mw_mirth_type_Type_Ptr();
			VAL v1151 = mw_mirth_type_T1(v1150);
			TUP* v1152 = mw_mirth_type_TZ_ZTo(v1149, v1151);
			branch_ArrowType_8 = v1152;
			branch_Ctx_7 = v1148;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 149LL: { // PtrEq
			VAL v1153 = mw_mirth_var_Ctx_L0();
			VAL v1154 = mw_mirth_type_Type_Ptr();
			VAL v1155 = mw_mirth_type_Type_Ptr();
			VAL v1156 = mw_mirth_type_T2(v1154, v1155);
			VAL v1157 = mw_mirth_type_Type_Bool();
			VAL v1158 = mw_mirth_type_T1(v1157);
			TUP* v1159 = mw_mirth_type_TZ_ZTo(v1156, v1158);
			branch_ArrowType_8 = v1159;
			branch_Ctx_7 = v1153;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 150LL: { // PtrAdd
			VAL v1160 = mw_mirth_var_Ctx_L0();
			VAL v1161 = mw_mirth_type_Type_I64();
			VAL v1162 = mw_mirth_type_Type_Ptr();
			VAL v1163 = mw_mirth_type_T2(v1161, v1162);
			VAL v1164 = mw_mirth_type_Type_Ptr();
			VAL v1165 = mw_mirth_type_T1(v1164);
			TUP* v1166 = mw_mirth_type_TZ_ZTo(v1163, v1165);
			branch_ArrowType_8 = v1166;
			branch_Ctx_7 = v1160;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 151LL: { // PtrSize
			VAL v1167 = mw_mirth_var_Ctx_L0();
			VAL v1168 = mw_mirth_type_T0();
			VAL v1169 = mw_mirth_type_Type_U64();
			VAL v1170 = mw_mirth_type_T1(v1169);
			TUP* v1171 = mw_mirth_type_TZ_ZTo(v1168, v1170);
			branch_ArrowType_8 = v1171;
			branch_Ctx_7 = v1167;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 152LL: { // PtrAlloc
			VAL v1172 = mw_mirth_var_Ctx_L0();
			VAL v1173 = mw_mirth_type_Type_U64();
			VAL v1174 = mw_mirth_type_T1(v1173);
			VAL v1175 = mw_mirth_type_Type_Ptr();
			VAL v1176 = mw_mirth_type_T1(v1175);
			TUP* v1177 = mw_mirth_type_TZ_ZTo(v1174, v1176);
			branch_ArrowType_8 = v1177;
			branch_Ctx_7 = v1172;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 153LL: { // PtrRealloc
			VAL v1178 = mw_mirth_var_Ctx_L0();
			VAL v1179 = mw_mirth_type_Type_Ptr();
			VAL v1180 = mw_mirth_type_Type_U64();
			VAL v1181 = mw_mirth_type_T2(v1179, v1180);
			VAL v1182 = mw_mirth_type_Type_Ptr();
			VAL v1183 = mw_mirth_type_T1(v1182);
			TUP* v1184 = mw_mirth_type_TZ_ZTo(v1181, v1183);
			branch_ArrowType_8 = v1184;
			branch_Ctx_7 = v1178;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 154LL: { // PtrFree
			VAL v1185 = mw_mirth_var_Ctx_L0();
			VAL v1186 = mw_mirth_type_Type_Ptr();
			VAL v1187 = mw_mirth_type_T1(v1186);
			VAL v1188 = mw_mirth_type_T0();
			TUP* v1189 = mw_mirth_type_TZ_ZTo(v1187, v1188);
			branch_ArrowType_8 = v1189;
			branch_Ctx_7 = v1185;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 155LL: { // PtrCopy
			VAL v1190 = mw_mirth_var_Ctx_L0();
			VAL v1191 = mw_mirth_type_Type_Ptr();
			VAL v1192 = mw_mirth_type_Type_U64();
			VAL v1193 = mw_mirth_type_Type_Ptr();
			VAL v1194 = mw_mirth_type_T3(v1191, v1192, v1193);
			VAL v1195 = mw_mirth_type_T0();
			TUP* v1196 = mw_mirth_type_TZ_ZTo(v1194, v1195);
			branch_ArrowType_8 = v1196;
			branch_Ctx_7 = v1190;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 156LL: { // PtrFill
			VAL v1197 = mw_mirth_var_Ctx_L0();
			VAL v1198 = mw_mirth_type_Type_U8();
			VAL v1199 = mw_mirth_type_Type_U64();
			VAL v1200 = mw_mirth_type_Type_Ptr();
			VAL v1201 = mw_mirth_type_T3(v1198, v1199, v1200);
			VAL v1202 = mw_mirth_type_T0();
			TUP* v1203 = mw_mirth_type_TZ_ZTo(v1201, v1202);
			branch_ArrowType_8 = v1203;
			branch_Ctx_7 = v1197;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 157LL: { // PtrGet
			VAL v1204 = mw_mirth_var_Ctx_L0();
			VAL v1205 = mw_mirth_type_Type_Ptr();
			VAL v1206 = mw_mirth_type_T1(v1205);
			VAL v1207 = mw_mirth_type_Type_Ptr();
			VAL v1208 = mw_mirth_type_T1(v1207);
			TUP* v1209 = mw_mirth_type_TZ_ZTo(v1206, v1208);
			branch_ArrowType_8 = v1209;
			branch_Ctx_7 = v1204;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 158LL: { // PtrSet
			VAL v1210 = mw_mirth_var_Ctx_L0();
			VAL v1211 = mw_mirth_type_Type_Ptr();
			VAL v1212 = mw_mirth_type_Type_Ptr();
			VAL v1213 = mw_mirth_type_T2(v1211, v1212);
			VAL v1214 = mw_mirth_type_T0();
			TUP* v1215 = mw_mirth_type_TZ_ZTo(v1213, v1214);
			branch_ArrowType_8 = v1215;
			branch_Ctx_7 = v1210;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 159LL: { // StrCopy
			VAL v1216 = mw_mirth_var_Ctx_L0();
			VAL v1217 = mw_mirth_type_Type_Ptr();
			VAL v1218 = mw_mirth_type_Type_U64();
			VAL v1219 = mw_mirth_type_T2(v1217, v1218);
			VAL v1220 = mw_mirth_type_Type_Str();
			VAL v1221 = mw_mirth_type_T1(v1220);
			TUP* v1222 = mw_mirth_type_TZ_ZTo(v1219, v1221);
			branch_ArrowType_8 = v1222;
			branch_Ctx_7 = v1216;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 160LL: { // StrNumBytes
			VAL v1223 = mw_mirth_var_Ctx_L0();
			VAL v1224 = mw_mirth_type_Type_Str();
			VAL v1225 = mw_mirth_type_T1(v1224);
			VAL v1226 = mw_mirth_type_Type_U64();
			VAL v1227 = mw_mirth_type_T1(v1226);
			TUP* v1228 = mw_mirth_type_TZ_ZTo(v1225, v1227);
			branch_ArrowType_8 = v1228;
			branch_Ctx_7 = v1223;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 161LL: { // StrBase
			VAL v1229 = mw_mirth_var_Ctx_L0();
			VAL v1230 = mw_mirth_type_Type_Str();
			VAL v1231 = mw_mirth_type_T1(v1230);
			VAL v1232 = mw_mirth_type_Type_Ptr();
			VAL v1233 = mw_mirth_type_T1(v1232);
			TUP* v1234 = mw_mirth_type_TZ_ZTo(v1231, v1233);
			branch_ArrowType_8 = v1234;
			branch_Ctx_7 = v1229;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 162LL: { // StrCat
			VAL v1235 = mw_mirth_var_Ctx_L0();
			VAL v1236 = mw_mirth_type_Type_Str();
			VAL v1237 = mw_mirth_type_Type_Str();
			VAL v1238 = mw_mirth_type_T2(v1236, v1237);
			VAL v1239 = mw_mirth_type_Type_Str();
			VAL v1240 = mw_mirth_type_T1(v1239);
			TUP* v1241 = mw_mirth_type_TZ_ZTo(v1238, v1240);
			branch_ArrowType_8 = v1241;
			branch_Ctx_7 = v1235;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 163LL: { // StrCmp
			VAL v1242 = mw_mirth_var_Ctx_L0();
			VAL v1243 = mw_mirth_type_Type_Str();
			VAL v1244 = mw_mirth_type_Type_Str();
			VAL v1245 = mw_mirth_type_T2(v1243, v1244);
			VAL v1246 = mw_mirth_type_Type_I64();
			VAL v1247 = mw_mirth_type_T1(v1246);
			TUP* v1248 = mw_mirth_type_TZ_ZTo(v1245, v1247);
			branch_ArrowType_8 = v1248;
			branch_Ctx_7 = v1242;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 164LL: { // StrEq
			VAL v1249 = mw_mirth_var_Ctx_L0();
			VAL v1250 = mw_mirth_type_Type_Str();
			VAL v1251 = mw_mirth_type_Type_Str();
			VAL v1252 = mw_mirth_type_T2(v1250, v1251);
			VAL v1253 = mw_mirth_type_Type_Bool();
			VAL v1254 = mw_mirth_type_T1(v1253);
			TUP* v1255 = mw_mirth_type_TZ_ZTo(v1252, v1254);
			branch_ArrowType_8 = v1255;
			branch_Ctx_7 = v1249;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 165LL: { // StrLt
			VAL v1256 = mw_mirth_var_Ctx_L0();
			VAL v1257 = mw_mirth_type_Type_Str();
			VAL v1258 = mw_mirth_type_Type_Str();
			VAL v1259 = mw_mirth_type_T2(v1257, v1258);
			VAL v1260 = mw_mirth_type_Type_Bool();
			VAL v1261 = mw_mirth_type_T1(v1260);
			TUP* v1262 = mw_mirth_type_TZ_ZTo(v1259, v1261);
			branch_ArrowType_8 = v1262;
			branch_Ctx_7 = v1256;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 166LL: { // StrLe
			VAL v1263 = mw_mirth_var_Ctx_L0();
			VAL v1264 = mw_mirth_type_Type_Str();
			VAL v1265 = mw_mirth_type_Type_Str();
			VAL v1266 = mw_mirth_type_T2(v1264, v1265);
			VAL v1267 = mw_mirth_type_Type_Bool();
			VAL v1268 = mw_mirth_type_T1(v1267);
			TUP* v1269 = mw_mirth_type_TZ_ZTo(v1266, v1268);
			branch_ArrowType_8 = v1269;
			branch_Ctx_7 = v1263;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 167LL: { // StrGt
			VAL v1270 = mw_mirth_var_Ctx_L0();
			VAL v1271 = mw_mirth_type_Type_Str();
			VAL v1272 = mw_mirth_type_Type_Str();
			VAL v1273 = mw_mirth_type_T2(v1271, v1272);
			VAL v1274 = mw_mirth_type_Type_Bool();
			VAL v1275 = mw_mirth_type_T1(v1274);
			TUP* v1276 = mw_mirth_type_TZ_ZTo(v1273, v1275);
			branch_ArrowType_8 = v1276;
			branch_Ctx_7 = v1270;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 168LL: { // StrGe
			VAL v1277 = mw_mirth_var_Ctx_L0();
			VAL v1278 = mw_mirth_type_Type_Str();
			VAL v1279 = mw_mirth_type_Type_Str();
			VAL v1280 = mw_mirth_type_T2(v1278, v1279);
			VAL v1281 = mw_mirth_type_Type_Bool();
			VAL v1282 = mw_mirth_type_T1(v1281);
			TUP* v1283 = mw_mirth_type_TZ_ZTo(v1280, v1282);
			branch_ArrowType_8 = v1283;
			branch_Ctx_7 = v1277;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 169LL: { // StrNe
			VAL v1284 = mw_mirth_var_Ctx_L0();
			VAL v1285 = mw_mirth_type_Type_Str();
			VAL v1286 = mw_mirth_type_Type_Str();
			VAL v1287 = mw_mirth_type_T2(v1285, v1286);
			VAL v1288 = mw_mirth_type_Type_Bool();
			VAL v1289 = mw_mirth_type_T1(v1288);
			TUP* v1290 = mw_mirth_type_TZ_ZTo(v1287, v1289);
			branch_ArrowType_8 = v1290;
			branch_Ctx_7 = v1284;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 171LL: { // StrToF32
			VAL v1291 = mw_mirth_var_Ctx_L0();
			VAL v1292 = mw_mirth_type_Type_Str();
			VAL v1293 = mw_mirth_type_T1(v1292);
			VAL v1294 = mw_mirth_type_Type_F32();
			VAL v1295 = mw_mirth_type_Type_Str();
			VAL v1296 = mw_mirth_type_T2(v1294, v1295);
			TUP* v1297 = mw_mirth_type_TZ_ZTo(v1293, v1296);
			branch_ArrowType_8 = v1297;
			branch_Ctx_7 = v1291;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 170LL: { // StrToF64
			VAL v1298 = mw_mirth_var_Ctx_L0();
			VAL v1299 = mw_mirth_type_Type_Str();
			VAL v1300 = mw_mirth_type_T1(v1299);
			VAL v1301 = mw_mirth_type_Type_F64();
			VAL v1302 = mw_mirth_type_Type_Str();
			VAL v1303 = mw_mirth_type_T2(v1301, v1302);
			TUP* v1304 = mw_mirth_type_TZ_ZTo(v1300, v1303);
			branch_ArrowType_8 = v1304;
			branch_Ctx_7 = v1298;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 172LL: { // SysOs
			VAL v1305 = mw_mirth_var_Ctx_L0();
			VAL v1306 = mw_mirth_type_T0();
			VAL v1307 = mw_mirth_type_Type_I64();
			VAL v1308 = mw_mirth_type_T1(v1307);
			TUP* v1309 = mw_mirth_type_TZ_ZTo(v1306, v1308);
			branch_ArrowType_8 = v1309;
			branch_Ctx_7 = v1305;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 173LL: { // SysArch
			VAL v1310 = mw_mirth_var_Ctx_L0();
			VAL v1311 = mw_mirth_type_T0();
			VAL v1312 = mw_mirth_type_Type_I64();
			VAL v1313 = mw_mirth_type_T1(v1312);
			TUP* v1314 = mw_mirth_type_TZ_ZTo(v1311, v1313);
			branch_ArrowType_8 = v1314;
			branch_Ctx_7 = v1310;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 174LL: { // SysArgc
			VAL v1315 = mw_mirth_var_Ctx_L0();
			VAL v1316 = mw_mirth_type_T0();
			VAL v1317 = mw_mirth_type_Type_U64();
			VAL v1318 = mw_mirth_type_T1(v1317);
			TUP* v1319 = mw_mirth_type_TZ_ZTo(v1316, v1318);
			branch_ArrowType_8 = v1319;
			branch_Ctx_7 = v1315;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 175LL: { // SysArgv
			VAL v1320 = mw_mirth_var_Ctx_L0();
			VAL v1321 = mw_mirth_type_T0();
			VAL v1322 = mw_mirth_type_Type_Ptr();
			VAL v1323 = mw_mirth_type_T1(v1322);
			TUP* v1324 = mw_mirth_type_TZ_ZTo(v1321, v1323);
			branch_ArrowType_8 = v1324;
			branch_Ctx_7 = v1320;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ArrowType_5 = branch_ArrowType_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Ctx_7;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_primsZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	int64_t v3 = mw_mirth_prim_Prim_Min();
	INT v4 = mw_mirth_prim_Prim_ZToInt(v3);
	incref(MKINT(v4));
	int64_t v5 = mw_mirth_prim_Prim_Max();
	INT v6 = mw_mirth_prim_Prim_ZToInt(v5);
	bool v7 = int_le(v4, v6);
	TUP* v8 = in_ZPlusMirth_1;
	INT v9 = v4;
	bool v10 = v7;
	while (v10) {
		TUP* v11 = v8;
		INT v12 = v9;
		incref(MKINT(v12));
		int64_t v13 = int_to_i64(v12);
		TUP* v14;
		mw_mirth_prim_Prim_registerZBang(v11, v13, &v14);
		INT v15 = WRAP_I63(1LL);
		INT v16 = int_add(v12, v15);
		incref(MKINT(v16));
		int64_t v17 = mw_mirth_prim_Prim_Max();
		INT v18 = mw_mirth_prim_Prim_ZToInt(v17);
		bool v19 = int_le(v16, v18);
		v10 = v19;
		v9 = v16;
		v8 = v14;
	}
	decref(MKINT(v9));
	*out_ZPlusMirth_2 = v8;
}
static bool mw_mirth_token_TokenValue_noneZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 0LL: { // None
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_commaZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 1LL: { // Comma
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_lparenZ_openZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 2LL: { // LParenOpen
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_lsquareZ_openZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 3LL: { // LSquareOpen
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_lcurlyZ_openZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 4LL: { // LCurlyOpen
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_lcolonZ_openZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 5LL: { // LColonOpen
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_token_TokenValue_lparenZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 6LL: { // LParen
			uint64_t v4 = mtp_mirth_token_TokenValue_LParen(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_rparenZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 7LL: { // RParen
			uint64_t v4 = mtp_mirth_token_TokenValue_RParen(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_lsquareZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 8LL: { // LSquare
			uint64_t v4 = mtp_mirth_token_TokenValue_LSquare(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_rsquareZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 9LL: { // RSquare
			uint64_t v4 = mtp_mirth_token_TokenValue_RSquare(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_lcurlyZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 10LL: { // LCurly
			uint64_t v4 = mtp_mirth_token_TokenValue_LCurly(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_rcurlyZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 11LL: { // RCurly
			uint64_t v4 = mtp_mirth_token_TokenValue_RCurly(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_lcolonZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 12LL: { // LColon
			uint64_t v4 = mtp_mirth_token_TokenValue_LColon(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 6LL: { // LParen
			uint64_t v4 = mtp_mirth_token_TokenValue_LParen(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		case 12LL: { // LColon
			uint64_t v6 = mtp_mirth_token_TokenValue_LColon(in_TokenValue_1);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(MKU64(v6));
			branch_Maybe_3 = v7;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_3 = v8;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_intZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 14LL: { // Int
			INT v4 = mtp_mirth_token_TokenValue_Int(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKINT(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_strZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 25LL: { // Str
			STR* v4 = mtp_mirth_token_TokenValue_Str(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKSTR(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_nameZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 26LL: { // Name
			uint64_t v4 = mtp_mirth_token_TokenValue_Name(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_dnameZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 27LL: { // DName
			TUP* v4 = mtp_mirth_token_TokenValue_DName(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKTUP(v4, 2));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_nameZDivdnameZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 26LL: { // Name
			uint64_t v4 = mtp_mirth_token_TokenValue_Name(in_TokenValue_1);
			VAL v5 = mtw_std_either_Either_2_Left(MKU64(v4));
			VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_3 = v6;
		} break;
		case 27LL: { // DName
			TUP* v7 = mtp_mirth_token_TokenValue_DName(in_TokenValue_1);
			VAL v8 = mtw_std_either_Either_2_Right(MKTUP(v7, 2));
			VAL v9 = mtw_std_maybe_Maybe_1_Some(v8);
			branch_Maybe_3 = v9;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_3 = v10;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_lastZ_nameZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 26LL: { // Name
			uint64_t v4 = mtp_mirth_token_TokenValue_Name(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		case 27LL: { // DName
			TUP* v6 = mtp_mirth_token_TokenValue_DName(in_TokenValue_1);
			uint64_t v7 = mw_mirth_name_DName_lastZ_name(v6);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(MKU64(v7));
			branch_Maybe_3 = v8;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_3 = v9;
		} break;
	}
	return branch_Maybe_3;
}
static bool mw_mirth_token_TokenValue_argZ_endZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 1LL: { // Comma
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		case 7LL: { // RParen
			uint64_t v5 = mtp_mirth_token_TokenValue_RParen(in_TokenValue_1);
			bool v6 = true;
			branch_Bool_3 = v6;
		} break;
		case 11LL: { // RCurly
			uint64_t v7 = mtp_mirth_token_TokenValue_RCurly(in_TokenValue_1);
			bool v8 = true;
			branch_Bool_3 = v8;
		} break;
		case 9LL: { // RSquare
			uint64_t v9 = mtp_mirth_token_TokenValue_RSquare(in_TokenValue_1);
			bool v10 = true;
			branch_Bool_3 = v10;
		} break;
		case 13LL: { // RColon
			uint64_t v11 = mtp_mirth_token_TokenValue_RColon(in_TokenValue_1);
			bool v12 = true;
			branch_Bool_3 = v12;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v13 = false;
			branch_Bool_3 = v13;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_leftZ_enclosureZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 6LL: { // LParen
			uint64_t v4 = mtp_mirth_token_TokenValue_LParen(in_TokenValue_1);
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 8LL: { // LSquare
			uint64_t v6 = mtp_mirth_token_TokenValue_LSquare(in_TokenValue_1);
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 10LL: { // LCurly
			uint64_t v8 = mtp_mirth_token_TokenValue_LCurly(in_TokenValue_1);
			bool v9 = true;
			branch_Bool_3 = v9;
		} break;
		case 12LL: { // LColon
			uint64_t v10 = mtp_mirth_token_TokenValue_LColon(in_TokenValue_1);
			bool v11 = true;
			branch_Bool_3 = v11;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_rightZ_enclosureZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 7LL: { // RParen
			uint64_t v4 = mtp_mirth_token_TokenValue_RParen(in_TokenValue_1);
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 9LL: { // RSquare
			uint64_t v6 = mtp_mirth_token_TokenValue_RSquare(in_TokenValue_1);
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 11LL: { // RCurly
			uint64_t v8 = mtp_mirth_token_TokenValue_RCurly(in_TokenValue_1);
			bool v9 = true;
			branch_Bool_3 = v9;
		} break;
		case 13LL: { // RColon
			uint64_t v10 = mtp_mirth_token_TokenValue_RColon(in_TokenValue_1);
			bool v11 = true;
			branch_Bool_3 = v11;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
	}
	return branch_Bool_3;
}
static bool mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk (VAL in_TokenValue_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 26LL: { // Name
			uint64_t v4 = mtp_mirth_token_TokenValue_Name(in_TokenValue_1);
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 27LL: { // DName
			TUP* v6 = mtp_mirth_token_TokenValue_DName(in_TokenValue_1);
			decref(MKTUP(v6, 2));
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 32LL: { // LabelGet
			uint64_t v8 = mtp_mirth_token_TokenValue_LabelGet(in_TokenValue_1);
			bool v9 = true;
			branch_Bool_3 = v9;
		} break;
		case 33LL: { // LabelSet
			uint64_t v10 = mtp_mirth_token_TokenValue_LabelSet(in_TokenValue_1);
			bool v11 = true;
			branch_Bool_3 = v11;
		} break;
		default: {
			decref(in_TokenValue_1);
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v8);
			uint64_t v9 = mw_std_either_Either_2_left_1_sp1(v8);
			TUP* v10;
			bool v11 = mw_mirth_name_Name_couldZ_beZ_typeZ_con(in_ZPlusMirth_1, v9, &v10);
			TUP* branch_ZPlusMirth_12;
			VAL branch_Maybe_13;
			if (v11) {
				VAL v14 = mtw_std_maybe_Maybe_1_Some(v8);
				branch_Maybe_13 = v14;
				branch_ZPlusMirth_12 = v10;
			} else {
				decref(v8);
				VAL v15 = MKI64(0LL /* None */);
				branch_Maybe_13 = v15;
				branch_ZPlusMirth_12 = v10;
			}
			branch_Maybe_7 = branch_Maybe_13;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_12;
		} break;
		case 0LL: { // None
			VAL v16 = MKI64(0LL /* None */);
			branch_Maybe_7 = v16;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static VAL mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v8);
			uint64_t v9 = mw_std_either_Either_2_left_1_sp1(v8);
			TUP* v10;
			bool v11 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(in_ZPlusMirth_1, v9, &v10);
			TUP* branch_ZPlusMirth_12;
			VAL branch_Maybe_13;
			if (v11) {
				VAL v14 = mtw_std_maybe_Maybe_1_Some(v8);
				branch_Maybe_13 = v14;
				branch_ZPlusMirth_12 = v10;
			} else {
				decref(v8);
				VAL v15 = MKI64(0LL /* None */);
				branch_Maybe_13 = v15;
				branch_ZPlusMirth_12 = v10;
			}
			branch_Maybe_7 = branch_Maybe_13;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_12;
		} break;
		case 0LL: { // None
			VAL v16 = MKI64(0LL /* None */);
			branch_Maybe_7 = v16;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v8);
			TUP* v9;
			bool v10 = mw_mirth_name_Name_isZ_typeZ_hole(in_ZPlusMirth_1, value_u64(v8), &v9);
			TUP* branch_ZPlusMirth_11;
			VAL branch_Maybe_12;
			if (v10) {
				VAL v13 = mtw_std_maybe_Maybe_1_Some(v8);
				branch_Maybe_12 = v13;
				branch_ZPlusMirth_11 = v9;
			} else {
				decref(v8);
				VAL v14 = MKI64(0LL /* None */);
				branch_Maybe_12 = v14;
				branch_ZPlusMirth_11 = v9;
			}
			branch_Maybe_7 = branch_Maybe_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 0LL: { // None
			VAL v15 = MKI64(0LL /* None */);
			branch_Maybe_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v8);
			TUP* v9;
			bool v10 = mw_mirth_name_Name_couldZ_beZ_typeZ_var(in_ZPlusMirth_1, value_u64(v8), &v9);
			TUP* branch_ZPlusMirth_11;
			VAL branch_Maybe_12;
			if (v10) {
				VAL v13 = mtw_std_maybe_Maybe_1_Some(v8);
				branch_Maybe_12 = v13;
				branch_ZPlusMirth_11 = v9;
			} else {
				decref(v8);
				VAL v14 = MKI64(0LL /* None */);
				branch_Maybe_12 = v14;
				branch_ZPlusMirth_11 = v9;
			}
			branch_Maybe_7 = branch_Maybe_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 0LL: { // None
			VAL v15 = MKI64(0LL /* None */);
			branch_Maybe_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static VAL mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk(in_ZPlusMirth_1, in_TokenValue_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v8);
			TUP* v9;
			bool v10 = mw_mirth_name_Name_couldZ_beZ_stackZ_var(in_ZPlusMirth_1, value_u64(v8), &v9);
			TUP* branch_ZPlusMirth_11;
			VAL branch_Maybe_12;
			if (v10) {
				VAL v13 = mtw_std_maybe_Maybe_1_Some(v8);
				branch_Maybe_12 = v13;
				branch_ZPlusMirth_11 = v9;
			} else {
				decref(v8);
				VAL v14 = MKI64(0LL /* None */);
				branch_Maybe_12 = v14;
				branch_ZPlusMirth_11 = v9;
			}
			branch_Maybe_7 = branch_Maybe_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 0LL: { // None
			VAL v15 = MKI64(0LL /* None */);
			branch_Maybe_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static VAL mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v8);
			TUP* v9;
			bool v10 = mw_mirth_name_Name_couldZ_beZ_resourceZ_var(in_ZPlusMirth_1, value_u64(v8), &v9);
			TUP* branch_ZPlusMirth_11;
			VAL branch_Maybe_12;
			if (v10) {
				VAL v13 = mtw_std_maybe_Maybe_1_Some(v8);
				branch_Maybe_12 = v13;
				branch_ZPlusMirth_11 = v9;
			} else {
				decref(v8);
				VAL v14 = MKI64(0LL /* None */);
				branch_Maybe_12 = v14;
				branch_ZPlusMirth_11 = v9;
			}
			branch_Maybe_7 = branch_Maybe_12;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_11;
		} break;
		case 0LL: { // None
			VAL v15 = MKI64(0LL /* None */);
			branch_Maybe_7 = v15;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static bool mw_mirth_token_TokenValue_sigZ_dashesZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			TUP* v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "--", 2);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_vdashZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			TUP* v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "|-", 2);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_arrowZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			TUP* v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "->", 2);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_patZ_underscoreZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			TUP* v9;
			bool v10 = mw_mirth_name_Name_isZ_underscore(in_ZPlusMirth_1, value_u64(v8), &v9);
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v11 = false;
			branch_Bool_7 = v11;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_moduleZ_headerZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			TUP* v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "module", 6);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_token_TokenValue_moduleZ_importZAsk (TUP* in_ZPlusMirth_1, VAL in_TokenValue_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_2);
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			TUP* v9;
			STR* v10 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, value_u64(v8), &v9);
			STR* v11;
			STRLIT(v11, "import", 6);
			bool v12 = (str_cmp(v10, v11) == 0);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			bool v13 = false;
			branch_Bool_7 = v13;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static uint64_t mw_mirth_token_nameZDivdnameZ_lastZ_name (VAL in_Either_1) {
	uint64_t branch_Name_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			branch_Name_3 = value_u64(v4);
		} break;
		case 1LL: { // Right
			VAL v5 = mtp_std_either_Either_2_Right(in_Either_1);
			uint64_t v6 = mw_mirth_name_DName_lastZ_name(value_tup(v5, 2));
			branch_Name_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Name_3;
}
static VAL mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk (VAL in_Either_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			decref(v4);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			VAL v7 = mw_mirth_name_DName_penultimateZ_nameZAsk(value_tup(v6, 2));
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static uint64_t mw_mirth_token_Token_allocZBang (void) {
	void* v2 = mbuf_mirth_token_Token_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_token_Token_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_token_Token_index (uint64_t in_Token_1) {
	return in_Token_1;
}
static uint64_t mw_mirth_token_Token_fromZ_index (uint64_t in_U64_1) {
	void* v3 = mbuf_mirth_token_Token_NumBuffer;
	uint64_t v4 = *(uint64_t*)v3;
	bool v5 = (in_U64_1 <= v4);
	uint64_t branch_U64_6;
	if (v5) {
		branch_U64_6 = in_U64_1;
	} else {
		uint64_t v7 = 0ULL;
		branch_U64_6 = v7;
	}
	return branch_U64_6;
}
static uint64_t mw_mirth_token_Token_succ (uint64_t in_Token_1) {
	void* v3 = mbuf_mirth_token_Token_NumBuffer;
	uint64_t v4 = *(uint64_t*)v3;
	bool v5 = (in_Token_1 < v4);
	uint64_t branch_U64_6;
	if (v5) {
		uint64_t v7 = 1ULL;
		uint64_t v8 = (in_Token_1 + v7);
		branch_U64_6 = v8;
	} else {
		uint64_t v9 = 0ULL;
		branch_U64_6 = v9;
	}
	return branch_U64_6;
}
static uint64_t mw_mirth_token_Token_pred (uint64_t in_Token_1) {
	uint64_t v3 = 0ULL;
	bool v4 = (in_Token_1 == v3);
	uint64_t branch_U64_5;
	if (v4) {
		branch_U64_5 = in_Token_1;
	} else {
		uint64_t v6 = 1ULL;
		uint64_t v7 = (in_Token_1 - v6);
		branch_U64_5 = v7;
	}
	return branch_U64_5;
}
static bool mw_mirth_token_Token_ZEqual (uint64_t in_Token_1, uint64_t in_Token_2) {
	uint64_t v4 = mw_mirth_token_Token_index(in_Token_1);
	uint64_t v5 = mw_mirth_token_Token_index(in_Token_2);
	bool v6 = (v4 == v5);
	return v6;
}
static VAL mw_mirth_token_Token_value (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_ZTildevalue, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static uint64_t mw_mirth_token_Token_module (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_ZTildemodule, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_token_Token_col (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_ZTildecol, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static INT mw_mirth_token_Token_row (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_ZTilderow, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static VAL mw_mirth_token_Token_doc (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_token_Token_ZTildedoc, in_Token_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static bool mw_mirth_token_Token_noneZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_noneZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_commaZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_commaZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_lcolonZ_openZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_lcolonZ_openZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_lparenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_lparenZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_rparenZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_rparenZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_lsquareZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_lsquareZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_rsquareZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_rsquareZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_lcurlyZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_lcurlyZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_rcurlyZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_rcurlyZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_lcolonZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_lcolonZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_intZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_intZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_strZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_strZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_nameZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_dnameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_dnameZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_nameZDivdnameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_lastZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_mirth_token_TokenValue_lastZ_nameZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_argZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_argZ_endZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_leftZ_enclosureZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_leftZ_enclosureZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static bool mw_mirth_token_Token_rightZ_enclosureZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_rightZ_enclosureZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_token_Token_sigZ_typeZ_conZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static VAL mw_mirth_token_Token_sigZ_typeZ_holeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static VAL mw_mirth_token_Token_sigZ_typeZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static VAL mw_mirth_token_Token_sigZ_paramZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static VAL mw_mirth_token_Token_sigZ_stackZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static VAL mw_mirth_token_Token_sigZ_resourceZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static VAL mw_mirth_token_Token_sigZ_resourceZ_conZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_sigZ_dashesZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_TokenValue_sigZ_dashesZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_vdashZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_TokenValue_vdashZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_arrowZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_TokenValue_arrowZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_patZ_underscoreZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_TokenValue_patZ_underscoreZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_moduleZ_headerZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_TokenValue_moduleZ_headerZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_moduleZ_importZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_TokenValue_moduleZ_importZAsk(v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
	return v8;
}
static bool mw_mirth_token_Token_canZ_takeZ_argsZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static uint64_t mw_mirth_token_Token_allocZ_noneZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	uint64_t v4 = mw_mirth_token_Token_allocZBang();
	VAL v5 = MKI64(0LL /* None */);
	void* v6 = field_mut(&mfld_mirth_token_Token_ZTildedoc, v4);
	mut_set(v5, v6);
	VAL v7 = MKI64(0LL /* None */);
	void* v8 = field_mut(&mfld_mirth_token_Token_ZTildevalue, v4);
	mut_set(v7, v8);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v4;
}
static TUP* mw_mirth_token_Token_location (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_token_Token_module(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	INT v8 = mw_mirth_token_Token_row(v5, in_Token_2, &v7);
	TUP* v9;
	INT v10 = mw_mirth_token_Token_col(v7, in_Token_2, &v9);
	TUP* v11 = mtw_mirth_location_Location_Location(v6, v8, v10);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static void mw_mirth_token_Token_locationZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4) {
	uint64_t v5;
	INT v6;
	INT v7;
	mtp_mirth_location_Location_Location(in_Location_2, &v5, &v6, &v7);
	void* v8 = field_mut(&mfld_mirth_token_Token_ZTildemodule, in_Token_3);
	mut_set(MKU64(v5), v8);
	void* v9 = field_mut(&mfld_mirth_token_Token_ZTilderow, in_Token_3);
	mut_set(MKINT(v6), v9);
	void* v10 = field_mut(&mfld_mirth_token_Token_ZTildecol, in_Token_3);
	mut_set(MKINT(v7), v10);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_token_Token_next (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	switch (get_data_tag(v6)) {
		case 6LL: { // LParen
			uint64_t v9 = mtp_mirth_token_TokenValue_LParen(v6);
			uint64_t v10 = mw_mirth_token_Token_succ(v9);
			branch_Token_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 8LL: { // LSquare
			uint64_t v11 = mtp_mirth_token_TokenValue_LSquare(v6);
			uint64_t v12 = mw_mirth_token_Token_succ(v11);
			branch_Token_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 10LL: { // LCurly
			uint64_t v13 = mtp_mirth_token_TokenValue_LCurly(v6);
			uint64_t v14 = mw_mirth_token_Token_succ(v13);
			branch_Token_8 = v14;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 12LL: { // LColon
			uint64_t v15 = mtp_mirth_token_TokenValue_LColon(v6);
			uint64_t v16 = mw_mirth_token_Token_succ(v15);
			branch_Token_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			bool v17 = mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk(v6);
			uint64_t branch_Token_18;
			TUP* branch_ZPlusMirth_19;
			if (v17) {
				uint64_t v20 = mw_mirth_token_Token_succ(in_Token_2);
				TUP* v21;
				VAL v22 = mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk(v5, v20, &v21);
				uint64_t branch_Token_23;
				switch (get_data_tag(v22)) {
					case 1LL: { // Some
						VAL v24 = mtp_std_maybe_Maybe_1_Some(v22);
						uint64_t v25 = mw_mirth_token_Token_succ(value_u64(v24));
						branch_Token_23 = v25;
					} break;
					case 0LL: { // None
						branch_Token_23 = v20;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusMirth_19 = v21;
				branch_Token_18 = branch_Token_23;
			} else {
				uint64_t v26 = mw_mirth_token_Token_succ(in_Token_2);
				branch_ZPlusMirth_19 = v5;
				branch_Token_18 = v26;
			}
			branch_Token_8 = branch_Token_18;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_19;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static uint64_t mw_mirth_token_Token_prev (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_token_Token_pred(in_Token_2);
	TUP* v6;
	VAL v7 = mw_mirth_token_Token_value(in_ZPlusMirth_1, v5, &v6);
	TUP* branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	switch (get_data_tag(v7)) {
		case 9LL: { // RSquare
			uint64_t v10 = mtp_mirth_token_TokenValue_RSquare(v7);
			branch_Token_9 = v10;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 11LL: { // RCurly
			uint64_t v11 = mtp_mirth_token_TokenValue_RCurly(v7);
			branch_Token_9 = v11;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 7LL: { // RParen
			uint64_t v12 = mtp_mirth_token_TokenValue_RParen(v7);
			uint64_t v13 = mw_mirth_token_Token_pred(v12);
			TUP* v14;
			bool v15 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(v6, v13, &v14);
			uint64_t branch_Token_16;
			if (v15) {
				uint64_t v17 = mw_mirth_token_Token_pred(v12);
				branch_Token_16 = v17;
			} else {
				branch_Token_16 = v12;
			}
			branch_Token_9 = branch_Token_16;
			branch_ZPlusMirth_8 = v14;
		} break;
		case 13LL: { // RColon
			uint64_t v18 = mtp_mirth_token_TokenValue_RColon(v7);
			uint64_t v19 = mw_mirth_token_Token_pred(v18);
			TUP* v20;
			bool v21 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(v6, v19, &v20);
			uint64_t branch_Token_22;
			if (v21) {
				uint64_t v23 = mw_mirth_token_Token_pred(v18);
				branch_Token_22 = v23;
			} else {
				branch_Token_22 = v18;
			}
			branch_Token_9 = branch_Token_22;
			branch_ZPlusMirth_8 = v20;
		} break;
		default: {
			decref(v7);
			branch_Token_9 = v5;
			branch_ZPlusMirth_8 = v6;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_Token_9;
}
static uint64_t mw_mirth_token_Token_nextZ_argZ_end (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_argZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = !v6;
	uint64_t v8 = in_Token_2;
	TUP* v9 = v5;
	bool v10 = v7;
	while (v10) {
		uint64_t v11 = v8;
		TUP* v12 = v9;
		TUP* v13;
		uint64_t v14 = mw_mirth_token_Token_next(v12, v11, &v13);
		TUP* v15;
		bool v16 = mw_mirth_token_Token_argZ_endZAsk(v13, v14, &v15);
		bool v17 = !v16;
		v10 = v17;
		v9 = v15;
		v8 = v14;
	}
	*out_ZPlusMirth_3 = v9;
	return v8;
}
static uint64_t mw_mirth_token_Token_argsZ_start (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	uint64_t branch_Token_7;
	TUP* branch_ZPlusMirth_8;
	bool branch_Bool_9;
	if (v6) {
		uint64_t v10 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v11;
		VAL v12 = mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk(v5, v10, &v11);
		int64_t v13 = get_data_tag(v12);
		decref(v12);
		INT v14 = WRAP_I63(0LL);
		INT v15 = i64_to_int(v13);
		bool v16 = int_eq(v15, v14);
		bool v17 = !v16;
		branch_Bool_9 = v17;
		branch_ZPlusMirth_8 = v11;
		branch_Token_7 = in_Token_2;
	} else {
		bool v18 = false;
		branch_Bool_9 = v18;
		branch_ZPlusMirth_8 = v5;
		branch_Token_7 = in_Token_2;
	}
	uint64_t branch_Token_19;
	if (branch_Bool_9) {
		uint64_t v20 = mw_mirth_token_Token_succ(branch_Token_7);
		branch_Token_19 = v20;
	} else {
		branch_Token_19 = branch_Token_7;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_Token_19;
}
static bool mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_nameZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			TUP* v10;
			bool v11 = mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk(v5, value_u64(v9), &v10);
			branch_Bool_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 0LL: { // None
			bool v12 = false;
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t branch_Token_13;
	TUP* branch_ZPlusMirth_14;
	bool branch_Bool_15;
	if (branch_Bool_8) {
		uint64_t v16 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v17;
		VAL v18 = mw_mirth_token_Token_lcolonZAsk(branch_ZPlusMirth_7, v16, &v17);
		int64_t v19 = get_data_tag(v18);
		decref(v18);
		INT v20 = WRAP_I63(0LL);
		INT v21 = i64_to_int(v19);
		bool v22 = int_eq(v21, v20);
		bool v23 = !v22;
		branch_Bool_15 = v23;
		branch_ZPlusMirth_14 = v17;
		branch_Token_13 = in_Token_2;
	} else {
		bool v24 = false;
		branch_Bool_15 = v24;
		branch_ZPlusMirth_14 = branch_ZPlusMirth_7;
		branch_Token_13 = in_Token_2;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
	return branch_Bool_15;
}
static VAL mw_mirth_token_Token_sigZ_labelZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_nameZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	uint64_t branch_Token_7;
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v10);
			TUP* v11;
			bool v12 = mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk(v5, value_u64(v10), &v11);
			uint64_t branch_Token_13;
			TUP* branch_ZPlusMirth_14;
			bool branch_Bool_15;
			if (v12) {
				uint64_t v16 = mw_mirth_token_Token_succ(in_Token_2);
				TUP* v17;
				VAL v18 = mw_mirth_token_Token_lcolonZAsk(v11, v16, &v17);
				int64_t v19 = get_data_tag(v18);
				decref(v18);
				INT v20 = WRAP_I63(0LL);
				INT v21 = i64_to_int(v19);
				bool v22 = int_eq(v21, v20);
				bool v23 = !v22;
				branch_Bool_15 = v23;
				branch_ZPlusMirth_14 = v17;
				branch_Token_13 = in_Token_2;
			} else {
				bool v24 = false;
				branch_Bool_15 = v24;
				branch_ZPlusMirth_14 = v11;
				branch_Token_13 = in_Token_2;
			}
			uint64_t branch_Token_25;
			TUP* branch_ZPlusMirth_26;
			VAL branch_Maybe_27;
			if (branch_Bool_15) {
				VAL v28 = mtw_std_maybe_Maybe_1_Some(v10);
				branch_Maybe_27 = v28;
				branch_ZPlusMirth_26 = branch_ZPlusMirth_14;
				branch_Token_25 = branch_Token_13;
			} else {
				decref(v10);
				VAL v29 = MKI64(0LL /* None */);
				branch_Maybe_27 = v29;
				branch_ZPlusMirth_26 = branch_ZPlusMirth_14;
				branch_Token_25 = branch_Token_13;
			}
			branch_Maybe_9 = branch_Maybe_27;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_26;
			branch_Token_7 = branch_Token_25;
		} break;
		case 0LL: { // None
			VAL v30 = MKI64(0LL /* None */);
			branch_Maybe_9 = v30;
			branch_ZPlusMirth_8 = v5;
			branch_Token_7 = in_Token_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* branch_ZPlusMirth_31;
	VAL branch_Maybe_32;
	switch (get_data_tag(branch_Maybe_9)) {
		case 1LL: { // Some
			VAL v33 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_9);
			TUP* v34;
			uint64_t v35 = mw_mirth_label_Label_newZBang(branch_ZPlusMirth_8, value_u64(v33), &v34);
			VAL v36 = mtw_std_maybe_Maybe_1_Some(MKU64(v35));
			branch_Maybe_32 = v36;
			branch_ZPlusMirth_31 = v34;
		} break;
		case 0LL: { // None
			VAL v37 = MKI64(0LL /* None */);
			branch_Maybe_32 = v37;
			branch_ZPlusMirth_31 = branch_ZPlusMirth_8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_31;
	return branch_Maybe_32;
}
static VAL mw_mirth_token_Token_patternZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_nameZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v9);
			TUP* v10;
			bool v11 = mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk(v5, value_u64(v9), &v10);
			TUP* branch_ZPlusMirth_12;
			VAL branch_Maybe_13;
			if (v11) {
				VAL v14 = mtw_std_maybe_Maybe_1_Some(v9);
				branch_Maybe_13 = v14;
				branch_ZPlusMirth_12 = v10;
			} else {
				decref(v9);
				VAL v15 = MKI64(0LL /* None */);
				branch_Maybe_13 = v15;
				branch_ZPlusMirth_12 = v10;
			}
			branch_Maybe_8 = branch_Maybe_13;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
		} break;
		case 0LL: { // None
			VAL v16 = MKI64(0LL /* None */);
			branch_Maybe_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_lsquareZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	INT v8 = WRAP_I63(0LL);
	INT v9 = i64_to_int(v7);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	uint64_t v12 = mw_mirth_token_Token_succ(in_Token_2);
	uint64_t v13 = mw_mirth_token_Token_succ(v12);
	TUP* v14;
	VAL v15 = mw_mirth_token_Token_rsquareZAsk(v5, v13, &v14);
	int64_t v16 = get_data_tag(v15);
	decref(v15);
	INT v17 = WRAP_I63(0LL);
	INT v18 = i64_to_int(v16);
	bool v19 = int_eq(v18, v17);
	bool v20 = !v19;
	bool v21 = (v11 && v20);
	TUP* branch_ZPlusMirth_22;
	VAL branch_Maybe_23;
	if (v21) {
		uint64_t v24 = mw_mirth_token_Token_succ(in_Token_2);
		TUP* v25;
		VAL v26 = mw_mirth_token_Token_patternZ_varZAsk(v14, v24, &v25);
		branch_Maybe_23 = v26;
		branch_ZPlusMirth_22 = v25;
	} else {
		VAL v27 = MKI64(0LL /* None */);
		branch_Maybe_23 = v27;
		branch_ZPlusMirth_22 = v14;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_22;
	return branch_Maybe_23;
}
static void mw_mirth_token_Token_argsZ_0 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	INT v5 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v4);
	INT v6 = WRAP_I63(0LL);
	bool v7 = int_eq(v5, v6);
	TUP* branch_ZPlusMirth_8;
	if (v7) {
		branch_ZPlusMirth_8 = v4;
	} else {
		STR* v9;
		STRLIT(v9, "expected no args", 16);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v4, in_Token_2, v9);
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
}
static uint64_t mw_mirth_token_Token_argsZ_1 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	INT v6 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v5);
	INT v7 = WRAP_I63(1LL);
	bool v8 = int_eq(v6, v7);
	TUP* branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	if (v8) {
		TUP* v11;
		uint64_t v12 = mw_mirth_token_Token_argsZ_start(v5, in_Token_2, &v11);
		uint64_t v13 = mw_mirth_token_Token_succ(v12);
		branch_Token_10 = v13;
		branch_ZPlusMirth_9 = v11;
	} else {
		TUP* v14;
		INT v15 = mw_mirth_token_Token_numZ_args(v5, in_Token_2, &v14);
		INT v16 = WRAP_I63(1LL);
		bool v17 = int_lt(v15, v16);
		TUP* branch_ZPlusMirth_18;
		uint64_t branch_Token_19;
		if (v17) {
			STR* v20;
			STRLIT(v20, "expected 1 arg, got none", 24);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, in_Token_2, v20);
		} else {
			STR* v23;
			STRLIT(v23, "expected 1 arg, got too many", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, in_Token_2, v23);
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Token_10;
}
static uint64_t mw_mirth_token_Token_argsZ_2 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5) {
	TUP* v6;
	INT v7 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v6);
	INT v8 = WRAP_I63(2LL);
	bool v9 = int_eq(v7, v8);
	uint64_t branch_Token_10;
	TUP* branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v9) {
		TUP* v13;
		uint64_t v14 = mw_mirth_token_Token_argsZ_start(v6, in_Token_2, &v13);
		uint64_t v15 = mw_mirth_token_Token_succ(v14);
		TUP* v16;
		uint64_t v17 = mw_mirth_token_Token_nextZ_argZ_end(v13, v15, &v16);
		uint64_t v18 = mw_mirth_token_Token_succ(v17);
		branch_Token_12 = v18;
		branch_ZPlusMirth_11 = v16;
		branch_Token_10 = v15;
	} else {
		TUP* v19;
		INT v20 = mw_mirth_token_Token_numZ_args(v6, in_Token_2, &v19);
		INT v21 = WRAP_I63(2LL);
		bool v22 = int_lt(v20, v21);
		uint64_t branch_Token_23;
		TUP* branch_ZPlusMirth_24;
		uint64_t branch_Token_25;
		if (v22) {
			STR* v26;
			STRLIT(v26, "expected 2 args, got too few", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v19, in_Token_2, v26);
		} else {
			STR* v30;
			STRLIT(v30, "expected 2 args, got too many", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v19, in_Token_2, v30);
		}
	}
	*out_Token_5 = branch_Token_12;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_11;
	return branch_Token_10;
}
static uint64_t mw_mirth_token_Token_argsZ_3 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6) {
	TUP* v7;
	INT v8 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v7);
	INT v9 = WRAP_I63(3LL);
	bool v10 = int_eq(v8, v9);
	uint64_t branch_Token_11;
	uint64_t branch_Token_12;
	TUP* branch_ZPlusMirth_13;
	uint64_t branch_Token_14;
	if (v10) {
		TUP* v15;
		uint64_t v16 = mw_mirth_token_Token_argsZ_start(v7, in_Token_2, &v15);
		uint64_t v17 = mw_mirth_token_Token_succ(v16);
		TUP* v18;
		uint64_t v19 = mw_mirth_token_Token_nextZ_argZ_end(v15, v17, &v18);
		uint64_t v20 = mw_mirth_token_Token_succ(v19);
		TUP* v21;
		uint64_t v22 = mw_mirth_token_Token_nextZ_argZ_end(v18, v20, &v21);
		uint64_t v23 = mw_mirth_token_Token_succ(v22);
		branch_Token_14 = v23;
		branch_ZPlusMirth_13 = v21;
		branch_Token_12 = v20;
		branch_Token_11 = v17;
	} else {
		TUP* v24;
		INT v25 = mw_mirth_token_Token_numZ_args(v7, in_Token_2, &v24);
		INT v26 = WRAP_I63(3LL);
		bool v27 = int_lt(v25, v26);
		uint64_t branch_Token_28;
		uint64_t branch_Token_29;
		TUP* branch_ZPlusMirth_30;
		uint64_t branch_Token_31;
		if (v27) {
			STR* v32;
			STRLIT(v32, "expected 3 args, got too few", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v24, in_Token_2, v32);
		} else {
			STR* v37;
			STRLIT(v37, "expected 3 args, got too many", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v24, in_Token_2, v37);
		}
	}
	*out_Token_6 = branch_Token_14;
	*out_Token_5 = branch_Token_12;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_13;
	return branch_Token_11;
}
static uint64_t mw_mirth_token_Token_argsZ_4 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, uint64_t *out_Token_7) {
	TUP* v8;
	INT v9 = mw_mirth_token_Token_numZ_args(in_ZPlusMirth_1, in_Token_2, &v8);
	INT v10 = WRAP_I63(4LL);
	bool v11 = int_eq(v9, v10);
	uint64_t branch_Token_12;
	uint64_t branch_Token_13;
	uint64_t branch_Token_14;
	TUP* branch_ZPlusMirth_15;
	uint64_t branch_Token_16;
	if (v11) {
		TUP* v17;
		uint64_t v18 = mw_mirth_token_Token_argsZ_start(v8, in_Token_2, &v17);
		uint64_t v19 = mw_mirth_token_Token_succ(v18);
		TUP* v20;
		uint64_t v21 = mw_mirth_token_Token_nextZ_argZ_end(v17, v19, &v20);
		uint64_t v22 = mw_mirth_token_Token_succ(v21);
		TUP* v23;
		uint64_t v24 = mw_mirth_token_Token_nextZ_argZ_end(v20, v22, &v23);
		uint64_t v25 = mw_mirth_token_Token_succ(v24);
		TUP* v26;
		uint64_t v27 = mw_mirth_token_Token_nextZ_argZ_end(v23, v25, &v26);
		uint64_t v28 = mw_mirth_token_Token_succ(v27);
		branch_Token_16 = v28;
		branch_ZPlusMirth_15 = v26;
		branch_Token_14 = v25;
		branch_Token_13 = v22;
		branch_Token_12 = v19;
	} else {
		TUP* v29;
		INT v30 = mw_mirth_token_Token_numZ_args(v8, in_Token_2, &v29);
		INT v31 = WRAP_I63(4LL);
		bool v32 = int_lt(v30, v31);
		uint64_t branch_Token_33;
		uint64_t branch_Token_34;
		uint64_t branch_Token_35;
		TUP* branch_ZPlusMirth_36;
		uint64_t branch_Token_37;
		if (v32) {
			STR* v38;
			STRLIT(v38, "expected 4 args, got too few", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v29, in_Token_2, v38);
		} else {
			STR* v44;
			STRLIT(v44, "expected 4 args, got too many", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v29, in_Token_2, v44);
		}
	}
	*out_Token_7 = branch_Token_16;
	*out_Token_6 = branch_Token_14;
	*out_Token_5 = branch_Token_13;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_15;
	return branch_Token_12;
}
static INT mw_mirth_token_Token_numZ_args (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_token_Token_argsZ_start(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_Token_leftZ_enclosureZAsk(v5, v6, &v7);
	TUP* branch_ZPlusMirth_9;
	INT branch_Nat_10;
	if (v8) {
		INT v11 = WRAP_I63(0LL);
		TUP* v12;
		bool v13 = mw_mirth_token_Token_argsZ_endZAsk(v7, v6, &v12);
		bool v14 = !v13;
		INT v15 = v11;
		uint64_t v16 = v6;
		TUP* v17 = v12;
		bool v18 = v14;
		while (v18) {
			INT v19 = v15;
			uint64_t v20 = v16;
			TUP* v21 = v17;
			INT v22 = WRAP_I63(1LL);
			INT v23 = int_add(v19, v22);
			uint64_t v24 = mw_mirth_token_Token_succ(v20);
			TUP* v25;
			uint64_t v26 = mw_mirth_token_Token_nextZ_argZ_end(v21, v24, &v25);
			TUP* v27;
			bool v28 = mw_mirth_token_Token_argsZ_endZAsk(v25, v26, &v27);
			bool v29 = !v28;
			v18 = v29;
			v17 = v27;
			v16 = v26;
			v15 = v23;
		}
		branch_Nat_10 = v15;
		branch_ZPlusMirth_9 = v17;
	} else {
		INT v30 = WRAP_I63(0LL);
		branch_Nat_10 = v30;
		branch_ZPlusMirth_9 = v7;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Nat_10;
}
static VAL mw_mirth_token_Token_args (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_token_Token_argsZ_start(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_Token_leftZ_enclosureZAsk(v5, v6, &v7);
	TUP* branch_ZPlusMirth_9;
	VAL branch_List_10;
	if (v8) {
		VAL v11 = MKI64(0LL /* Nil */);
		VAL v12;
		mw_std_list_List_1_buildZBang(v11, &v12);
		TUP* v13;
		bool v14 = mw_mirth_token_Token_argsZ_endZAsk(v7, v6, &v13);
		bool v15 = !v14;
		uint64_t v16 = v6;
		TUP* v17 = v13;
		VAL v18 = v12;
		bool v19 = v15;
		while (v19) {
			uint64_t v20 = v16;
			TUP* v21 = v17;
			VAL v22 = v18;
			uint64_t v23 = mw_mirth_token_Token_succ(v20);
			TUP* v24;
			uint64_t v25 = mw_mirth_token_Token_nextZ_argZ_end(v21, v23, &v24);
			VAL v26;
			mw_std_list_ZPlusLister_1_pushZBang(MKU64(v23), v22, &v26);
			TUP* v27;
			bool v28 = mw_mirth_token_Token_argsZ_endZAsk(v24, v25, &v27);
			bool v29 = !v28;
			v19 = v29;
			v18 = v26;
			v17 = v27;
			v16 = v25;
		}
		VAL v30 = mw_std_list_ZPlusLister_1_doneZBang(v18);
		branch_List_10 = v30;
		branch_ZPlusMirth_9 = v17;
	} else {
		VAL v31 = MKI64(0LL /* Nil */);
		branch_List_10 = v31;
		branch_ZPlusMirth_9 = v7;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_List_10;
}
static bool mw_mirth_token_Token_argsZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_commaZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	uint64_t branch_Token_7;
	if (v6) {
		uint64_t v8 = mw_mirth_token_Token_succ(in_Token_2);
		branch_Token_7 = v8;
	} else {
		branch_Token_7 = in_Token_2;
	}
	TUP* v9;
	bool v10 = mw_mirth_token_Token_rightZ_enclosureZAsk(v5, branch_Token_7, &v9);
	*out_ZPlusMirth_3 = v9;
	return v10;
}
static TUP* mw_mirth_token_Token_argsZPlus (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_args(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = mw_std_list_List_1_ZToNestZAsk(v6);
	TUP* branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	VAL branch_z_x1_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_z_x1_10 = v11;
			branch_Token_9 = in_Token_2;
			branch_ZPlusMirth_8 = v5;
		} break;
		case 0LL: { // None
			STR* v12;
			STRLIT(v12, "expected 1 or more args, got none", 33);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, in_Token_2, v12);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return value_tup(branch_z_x1_10, 2);
}
static bool mw_mirth_token_Token_moduleZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_noneZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_token_Token_runZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_value(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // None
			bool v9 = true;
			branch_Bool_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Comma
			bool v10 = true;
			branch_Bool_8 = v10;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 7LL: { // RParen
			uint64_t v11 = mtp_mirth_token_TokenValue_RParen(v6);
			bool v12 = true;
			branch_Bool_8 = v12;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 9LL: { // RSquare
			uint64_t v13 = mtp_mirth_token_TokenValue_RSquare(v6);
			bool v14 = true;
			branch_Bool_8 = v14;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 11LL: { // RCurly
			uint64_t v15 = mtp_mirth_token_TokenValue_RCurly(v6);
			bool v16 = true;
			branch_Bool_8 = v16;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 13LL: { // RColon
			uint64_t v17 = mtp_mirth_token_TokenValue_RColon(v6);
			bool v18 = true;
			branch_Bool_8 = v18;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			decref(v6);
			bool v19 = false;
			branch_Bool_8 = v19;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static uint64_t mw_mirth_token_Token_toZ_runZ_end (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = !v6;
	uint64_t v8 = in_Token_2;
	TUP* v9 = v5;
	bool v10 = v7;
	while (v10) {
		uint64_t v11 = v8;
		TUP* v12 = v9;
		TUP* v13;
		uint64_t v14 = mw_mirth_token_Token_next(v12, v11, &v13);
		TUP* v15;
		bool v16 = mw_mirth_token_Token_runZ_endZAsk(v13, v14, &v15);
		bool v17 = !v16;
		v10 = v17;
		v9 = v15;
		v8 = v14;
	}
	*out_ZPlusMirth_3 = v9;
	return v8;
}
static VAL mw_mirth_token_Token_runZ_tokens (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6;
	mw_std_list_List_1_buildZBang(v5, &v6);
	TUP* v7;
	bool v8 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v7);
	bool v9 = !v8;
	uint64_t v10 = in_Token_2;
	TUP* v11 = v7;
	VAL v12 = v6;
	bool v13 = v9;
	while (v13) {
		uint64_t v14 = v10;
		TUP* v15 = v11;
		VAL v16 = v12;
		TUP* v17;
		uint64_t v18 = mw_mirth_token_Token_next(v15, v14, &v17);
		VAL v19;
		mw_std_list_ZPlusLister_1_pushZBang(MKU64(v14), v16, &v19);
		TUP* v20;
		bool v21 = mw_mirth_token_Token_runZ_endZAsk(v17, v18, &v20);
		bool v22 = !v21;
		v13 = v22;
		v12 = v19;
		v11 = v20;
		v10 = v18;
	}
	VAL v23 = mw_std_list_ZPlusLister_1_doneZBang(v12);
	*out_ZPlusMirth_3 = v11;
	return v23;
}
static INT mw_mirth_token_Token_runZ_length (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	INT v5 = WRAP_I63(0LL);
	TUP* v6;
	bool v7 = mw_mirth_token_Token_runZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v6);
	bool v8 = !v7;
	INT v9 = v5;
	uint64_t v10 = in_Token_2;
	TUP* v11 = v6;
	bool v12 = v8;
	while (v12) {
		INT v13 = v9;
		uint64_t v14 = v10;
		TUP* v15 = v11;
		TUP* v16;
		uint64_t v17 = mw_mirth_token_Token_next(v15, v14, &v16);
		INT v18 = WRAP_I63(1LL);
		INT v19 = int_add(v13, v18);
		TUP* v20;
		bool v21 = mw_mirth_token_Token_runZ_endZAsk(v16, v17, &v20);
		bool v22 = !v21;
		v12 = v22;
		v11 = v20;
		v10 = v17;
		v9 = v19;
	}
	*out_ZPlusMirth_3 = v11;
	return v9;
}
static VAL mw_mirth_token_Token_runZ_arrowZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_runZ_tokens(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = MKI64(0LL /* None */);
	bool v8 = true;
	TUP* v9 = v5;
	VAL v10 = v7;
	VAL v11 = v6;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		TUP* v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		bool v17 = v12;
		VAL v18;
		VAL v19 = mw_std_list_List_1_uncons(v16, &v18);
		TUP* branch_ZPlusMirth_20;
		VAL branch_Maybe_21;
		VAL branch_List_22;
		bool branch_Bool_23;
		switch (get_data_tag(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				incref(v24);
				TUP* v25;
				bool v26 = mw_mirth_token_Token_arrowZAsk(v14, value_u64(v24), &v25);
				TUP* branch_ZPlusMirth_27;
				VAL branch_Maybe_28;
				if (v26) {
					VAL v29 = mtw_std_maybe_Maybe_1_Some(v24);
					branch_Maybe_28 = v29;
					branch_ZPlusMirth_27 = v25;
				} else {
					decref(v24);
					VAL v30 = MKI64(0LL /* None */);
					branch_Maybe_28 = v30;
					branch_ZPlusMirth_27 = v25;
				}
				TUP* branch_ZPlusMirth_31;
				VAL branch_Maybe_32;
				VAL branch_List_33;
				switch (get_data_tag(branch_Maybe_28)) {
					case 0LL: { // None
						branch_List_33 = v18;
						branch_Maybe_32 = v15;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_27;
					} break;
					default: {
						decref(v18);
						decref(v15);
						VAL v34 = MKI64(0LL /* Nil */);
						branch_List_33 = v34;
						branch_Maybe_32 = branch_Maybe_28;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_27;
					} break;
				}
				bool v35 = true;
				branch_Bool_23 = v35;
				branch_List_22 = branch_List_33;
				branch_Maybe_21 = branch_Maybe_32;
				branch_ZPlusMirth_20 = branch_ZPlusMirth_31;
			} break;
			case 0LL: { // None
				bool v36 = false;
				branch_Bool_23 = v36;
				branch_List_22 = v18;
				branch_Maybe_21 = v15;
				branch_ZPlusMirth_20 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_23;
		v12 = branch_Bool_23;
		v11 = branch_List_22;
		v10 = branch_Maybe_21;
		v9 = branch_ZPlusMirth_20;
	}
	decref(v11);
	*out_ZPlusMirth_3 = v9;
	return v10;
}
static bool mw_mirth_token_Token_sigZ_stackZ_endZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_sigZ_dashesZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	if (v6) {
		bool v9 = true;
		branch_Bool_8 = v9;
		branch_ZPlusMirth_7 = v5;
	} else {
		TUP* v10;
		bool v11 = mw_mirth_token_Token_vdashZAsk(v5, in_Token_2, &v10);
		TUP* branch_ZPlusMirth_12;
		bool branch_Bool_13;
		if (v11) {
			bool v14 = true;
			branch_Bool_13 = v14;
			branch_ZPlusMirth_12 = v10;
		} else {
			TUP* v15;
			bool v16 = mw_mirth_token_Token_runZ_endZAsk(v10, in_Token_2, &v15);
			branch_Bool_13 = v16;
			branch_ZPlusMirth_12 = v15;
		}
		branch_Bool_8 = branch_Bool_13;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static uint64_t mw_mirth_token_Token_sigZ_nextZ_stackZ_end (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	bool v6 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(in_ZPlusMirth_1, in_Token_2, &v5);
	bool v7 = !v6;
	uint64_t v8 = in_Token_2;
	TUP* v9 = v5;
	bool v10 = v7;
	while (v10) {
		uint64_t v11 = v8;
		TUP* v12 = v9;
		TUP* v13;
		uint64_t v14 = mw_mirth_token_Token_next(v12, v11, &v13);
		TUP* v15;
		bool v16 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v13, v14, &v15);
		bool v17 = !v16;
		v10 = v17;
		v9 = v15;
		v8 = v14;
	}
	*out_ZPlusMirth_3 = v9;
	return v8;
}
static bool mw_mirth_token_Token_sigZ_hasZ_vdashZ_orZ_dashesZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	bool v8 = mw_mirth_token_Token_sigZ_dashesZAsk(v5, v6, &v7);
	TUP* branch_ZPlusMirth_9;
	bool branch_Bool_10;
	if (v8) {
		bool v11 = true;
		branch_Bool_10 = v11;
		branch_ZPlusMirth_9 = v7;
	} else {
		TUP* v12;
		bool v13 = mw_mirth_token_Token_vdashZAsk(v7, v6, &v12);
		branch_Bool_10 = v13;
		branch_ZPlusMirth_9 = v12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static VAL mw_mirth_token_Token_patZ_tokens (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_token_Token_runZ_tokens(in_ZPlusMirth_1, in_Token_2, &v5);
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	TUP* v10 = v5;
	VAL v11 = v6;
	VAL v12 = v8;
	bool v13 = v9;
	bool v14 = v9;
	while (v14) {
		TUP* v15 = v10;
		VAL v16 = v11;
		VAL v17 = v12;
		bool v18 = v13;
		VAL v19;
		VAL v20 = mw_std_list_List_1_uncons(v16, &v19);
		TUP* branch_ZPlusMirth_21;
		VAL branch_Maybe_22;
		switch (get_data_tag(v20)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v20);
				incref(v23);
				TUP* v24;
				bool v25 = mw_mirth_token_Token_arrowZAsk(v15, value_u64(v23), &v24);
				bool v26 = !v25;
				TUP* branch_ZPlusMirth_27;
				VAL branch_Maybe_28;
				if (v26) {
					VAL v29 = mtw_std_maybe_Maybe_1_Some(v23);
					branch_Maybe_28 = v29;
					branch_ZPlusMirth_27 = v24;
				} else {
					decref(v23);
					VAL v30 = MKI64(0LL /* None */);
					branch_Maybe_28 = v30;
					branch_ZPlusMirth_27 = v24;
				}
				branch_Maybe_22 = branch_Maybe_28;
				branch_ZPlusMirth_21 = branch_ZPlusMirth_27;
			} break;
			case 0LL: { // None
				VAL v31 = MKI64(0LL /* None */);
				branch_Maybe_22 = v31;
				branch_ZPlusMirth_21 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL v32;
		bool v33 = mw_std_maybe_Maybe_1_ifZAsk_2_sp58(v17, branch_Maybe_22, &v32);
		v14 = v33;
		v13 = v33;
		v12 = v32;
		v11 = v19;
		v10 = branch_ZPlusMirth_21;
	}
	VAL v34 = mw_std_list_ZPlusLister_1_doneZBang(v12);
	decref(v11);
	*out_ZPlusMirth_3 = v10;
	return v34;
}
static uint64_t mw_mirth_token_Token_cloneZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	uint64_t v7 = mw_mirth_token_Token_toZ_runZ_end(in_ZPlusMirth_1, in_Token_3, &v6);
	TUP* v8;
	uint64_t v9 = mw_mirth_token_Token_allocZ_noneZBang(v6, &v8);
	incref(MKTUP(in_Location_2, 3));
	TUP* v10;
	mw_mirth_token_Token_locationZBang(v8, in_Location_2, v9, &v10);
	uint64_t v11 = mw_mirth_token_Token_index(v7);
	INT v12 = u64_to_int(v11);
	uint64_t v13 = mw_mirth_token_Token_index(in_Token_3);
	INT v14 = u64_to_int(v13);
	INT v15 = int_sub(v12, v14);
	incref(MKINT(v15));
	INT v16 = WRAP_I63(0LL);
	bool v17 = int_le(v16, v15);
	INT branch_Nat_18;
	if (v17) {
		branch_Nat_18 = v15;
	} else {
		decref(MKINT(v15));
		INT v19 = WRAP_I63(0LL);
		branch_Nat_18 = v19;
	}
	INT v20 = WRAP_I63(1LL);
	INT v21 = int_add(branch_Nat_18, v20);
	incref(MKINT(v21));
	INT v22 = WRAP_I63(0LL);
	bool v23 = int_lt(v22, v21);
	TUP* v24 = v10;
	TUP* v25 = in_Location_2;
	INT v26 = v21;
	bool v27 = v23;
	while (v27) {
		TUP* v28 = v24;
		TUP* v29 = v25;
		INT v30 = v26;
		incref(MKTUP(v29, 3));
		TUP* v31;
		uint64_t v32 = mw_mirth_token_Token_allocZ_noneZBang(v28, &v31);
		TUP* v33;
		mw_mirth_token_Token_locationZBang(v31, v29, v32, &v33);
		INT v34 = WRAP_I63(1LL);
		INT v35 = int_sub(v30, v34);
		incref(MKINT(v35));
		INT v36 = WRAP_I63(0LL);
		bool v37 = int_le(v36, v35);
		INT branch_Nat_38;
		if (v37) {
			branch_Nat_38 = v35;
		} else {
			decref(MKINT(v35));
			INT v39 = WRAP_I63(0LL);
			branch_Nat_38 = v39;
		}
		incref(MKINT(branch_Nat_38));
		INT v40 = WRAP_I63(0LL);
		bool v41 = int_lt(v40, branch_Nat_38);
		v27 = v41;
		v26 = branch_Nat_38;
		v25 = v29;
		v24 = v33;
	}
	decref(MKINT(v26));
	uint64_t v42 = mw_mirth_token_Token_succ(v9);
	uint64_t v43 = mw_mirth_token_Token_index(in_Token_3);
	uint64_t v44 = mw_mirth_token_Token_index(v7);
	bool v45 = (v43 < v44);
	TUP* v46 = v25;
	TUP* v47 = v24;
	uint64_t v48 = v42;
	uint64_t v49 = v42;
	uint64_t v50 = in_Token_3;
	uint64_t v51 = in_Token_3;
	uint64_t v52 = v7;
	bool v53 = v45;
	while (v53) {
		TUP* v54 = v46;
		TUP* v55 = v47;
		uint64_t v56 = v48;
		uint64_t v57 = v49;
		uint64_t v58 = v50;
		uint64_t v59 = v51;
		uint64_t v60 = v52;
		TUP* v61;
		VAL v62 = mw_mirth_token_Token_value(v55, v59, &v61);
		uint64_t branch_Token_63;
		uint64_t branch_Token_64;
		VAL branch_TokenValue_65;
		switch (get_data_tag(v62)) {
			case 6LL: { // LParen
				uint64_t v66 = mtp_mirth_token_TokenValue_LParen(v62);
				uint64_t v67 = mw_mirth_token_Token_index(v66);
				INT v68 = u64_to_int(v67);
				uint64_t v69 = mw_mirth_token_Token_index(v56);
				INT v70 = u64_to_int(v69);
				INT v71 = int_add(v68, v70);
				INT v72 = WRAP_I63(1LL);
				INT v73 = int_add(v71, v72);
				uint64_t v74 = mw_mirth_token_Token_index(v59);
				INT v75 = u64_to_int(v74);
				INT v76 = int_sub(v73, v75);
				INT v77 = WRAP_I63(0LL);
				INT v78 = WRAP_I63(-1LL);
				uint64_t v79 = int_to_u64(v78);
				INT v80 = u64_to_int(v79);
				incref(MKINT(v76));
				incref(MKINT(v77));
				bool v81 = int_lt(v76, v77);
				INT branch_Int_82;
				if (v81) {
					decref(MKINT(v76));
					branch_Int_82 = v77;
				} else {
					decref(MKINT(v77));
					branch_Int_82 = v76;
				}
				incref(MKINT(branch_Int_82));
				incref(MKINT(v80));
				bool v83 = int_lt(v80, branch_Int_82);
				INT branch_Int_84;
				if (v83) {
					decref(MKINT(branch_Int_82));
					branch_Int_84 = v80;
				} else {
					decref(MKINT(v80));
					branch_Int_84 = branch_Int_82;
				}
				uint64_t v85 = int_to_u64(branch_Int_84);
				uint64_t v86 = mw_mirth_token_Token_fromZ_index(v85);
				VAL v87 = mtw_mirth_token_TokenValue_LParen(v86);
				branch_TokenValue_65 = v87;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
			case 7LL: { // RParen
				uint64_t v88 = mtp_mirth_token_TokenValue_RParen(v62);
				uint64_t v89 = mw_mirth_token_Token_index(v88);
				INT v90 = u64_to_int(v89);
				uint64_t v91 = mw_mirth_token_Token_index(v56);
				INT v92 = u64_to_int(v91);
				INT v93 = int_add(v90, v92);
				INT v94 = WRAP_I63(1LL);
				INT v95 = int_add(v93, v94);
				uint64_t v96 = mw_mirth_token_Token_index(v59);
				INT v97 = u64_to_int(v96);
				INT v98 = int_sub(v95, v97);
				INT v99 = WRAP_I63(0LL);
				INT v100 = WRAP_I63(-1LL);
				uint64_t v101 = int_to_u64(v100);
				INT v102 = u64_to_int(v101);
				incref(MKINT(v98));
				incref(MKINT(v99));
				bool v103 = int_lt(v98, v99);
				INT branch_Int_104;
				if (v103) {
					decref(MKINT(v98));
					branch_Int_104 = v99;
				} else {
					decref(MKINT(v99));
					branch_Int_104 = v98;
				}
				incref(MKINT(branch_Int_104));
				incref(MKINT(v102));
				bool v105 = int_lt(v102, branch_Int_104);
				INT branch_Int_106;
				if (v105) {
					decref(MKINT(branch_Int_104));
					branch_Int_106 = v102;
				} else {
					decref(MKINT(v102));
					branch_Int_106 = branch_Int_104;
				}
				uint64_t v107 = int_to_u64(branch_Int_106);
				uint64_t v108 = mw_mirth_token_Token_fromZ_index(v107);
				VAL v109 = mtw_mirth_token_TokenValue_RParen(v108);
				branch_TokenValue_65 = v109;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
			case 10LL: { // LCurly
				uint64_t v110 = mtp_mirth_token_TokenValue_LCurly(v62);
				uint64_t v111 = mw_mirth_token_Token_index(v110);
				INT v112 = u64_to_int(v111);
				uint64_t v113 = mw_mirth_token_Token_index(v56);
				INT v114 = u64_to_int(v113);
				INT v115 = int_add(v112, v114);
				INT v116 = WRAP_I63(1LL);
				INT v117 = int_add(v115, v116);
				uint64_t v118 = mw_mirth_token_Token_index(v59);
				INT v119 = u64_to_int(v118);
				INT v120 = int_sub(v117, v119);
				INT v121 = WRAP_I63(0LL);
				INT v122 = WRAP_I63(-1LL);
				uint64_t v123 = int_to_u64(v122);
				INT v124 = u64_to_int(v123);
				incref(MKINT(v120));
				incref(MKINT(v121));
				bool v125 = int_lt(v120, v121);
				INT branch_Int_126;
				if (v125) {
					decref(MKINT(v120));
					branch_Int_126 = v121;
				} else {
					decref(MKINT(v121));
					branch_Int_126 = v120;
				}
				incref(MKINT(branch_Int_126));
				incref(MKINT(v124));
				bool v127 = int_lt(v124, branch_Int_126);
				INT branch_Int_128;
				if (v127) {
					decref(MKINT(branch_Int_126));
					branch_Int_128 = v124;
				} else {
					decref(MKINT(v124));
					branch_Int_128 = branch_Int_126;
				}
				uint64_t v129 = int_to_u64(branch_Int_128);
				uint64_t v130 = mw_mirth_token_Token_fromZ_index(v129);
				VAL v131 = mtw_mirth_token_TokenValue_LCurly(v130);
				branch_TokenValue_65 = v131;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
			case 11LL: { // RCurly
				uint64_t v132 = mtp_mirth_token_TokenValue_RCurly(v62);
				uint64_t v133 = mw_mirth_token_Token_index(v132);
				INT v134 = u64_to_int(v133);
				uint64_t v135 = mw_mirth_token_Token_index(v56);
				INT v136 = u64_to_int(v135);
				INT v137 = int_add(v134, v136);
				INT v138 = WRAP_I63(1LL);
				INT v139 = int_add(v137, v138);
				uint64_t v140 = mw_mirth_token_Token_index(v59);
				INT v141 = u64_to_int(v140);
				INT v142 = int_sub(v139, v141);
				INT v143 = WRAP_I63(0LL);
				INT v144 = WRAP_I63(-1LL);
				uint64_t v145 = int_to_u64(v144);
				INT v146 = u64_to_int(v145);
				incref(MKINT(v142));
				incref(MKINT(v143));
				bool v147 = int_lt(v142, v143);
				INT branch_Int_148;
				if (v147) {
					decref(MKINT(v142));
					branch_Int_148 = v143;
				} else {
					decref(MKINT(v143));
					branch_Int_148 = v142;
				}
				incref(MKINT(branch_Int_148));
				incref(MKINT(v146));
				bool v149 = int_lt(v146, branch_Int_148);
				INT branch_Int_150;
				if (v149) {
					decref(MKINT(branch_Int_148));
					branch_Int_150 = v146;
				} else {
					decref(MKINT(v146));
					branch_Int_150 = branch_Int_148;
				}
				uint64_t v151 = int_to_u64(branch_Int_150);
				uint64_t v152 = mw_mirth_token_Token_fromZ_index(v151);
				VAL v153 = mtw_mirth_token_TokenValue_RCurly(v152);
				branch_TokenValue_65 = v153;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
			case 8LL: { // LSquare
				uint64_t v154 = mtp_mirth_token_TokenValue_LSquare(v62);
				uint64_t v155 = mw_mirth_token_Token_index(v154);
				INT v156 = u64_to_int(v155);
				uint64_t v157 = mw_mirth_token_Token_index(v56);
				INT v158 = u64_to_int(v157);
				INT v159 = int_add(v156, v158);
				INT v160 = WRAP_I63(1LL);
				INT v161 = int_add(v159, v160);
				uint64_t v162 = mw_mirth_token_Token_index(v59);
				INT v163 = u64_to_int(v162);
				INT v164 = int_sub(v161, v163);
				INT v165 = WRAP_I63(0LL);
				INT v166 = WRAP_I63(-1LL);
				uint64_t v167 = int_to_u64(v166);
				INT v168 = u64_to_int(v167);
				incref(MKINT(v164));
				incref(MKINT(v165));
				bool v169 = int_lt(v164, v165);
				INT branch_Int_170;
				if (v169) {
					decref(MKINT(v164));
					branch_Int_170 = v165;
				} else {
					decref(MKINT(v165));
					branch_Int_170 = v164;
				}
				incref(MKINT(branch_Int_170));
				incref(MKINT(v168));
				bool v171 = int_lt(v168, branch_Int_170);
				INT branch_Int_172;
				if (v171) {
					decref(MKINT(branch_Int_170));
					branch_Int_172 = v168;
				} else {
					decref(MKINT(v168));
					branch_Int_172 = branch_Int_170;
				}
				uint64_t v173 = int_to_u64(branch_Int_172);
				uint64_t v174 = mw_mirth_token_Token_fromZ_index(v173);
				VAL v175 = mtw_mirth_token_TokenValue_LSquare(v174);
				branch_TokenValue_65 = v175;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
			case 9LL: { // RSquare
				uint64_t v176 = mtp_mirth_token_TokenValue_RSquare(v62);
				uint64_t v177 = mw_mirth_token_Token_index(v176);
				INT v178 = u64_to_int(v177);
				uint64_t v179 = mw_mirth_token_Token_index(v56);
				INT v180 = u64_to_int(v179);
				INT v181 = int_add(v178, v180);
				INT v182 = WRAP_I63(1LL);
				INT v183 = int_add(v181, v182);
				uint64_t v184 = mw_mirth_token_Token_index(v59);
				INT v185 = u64_to_int(v184);
				INT v186 = int_sub(v183, v185);
				INT v187 = WRAP_I63(0LL);
				INT v188 = WRAP_I63(-1LL);
				uint64_t v189 = int_to_u64(v188);
				INT v190 = u64_to_int(v189);
				incref(MKINT(v186));
				incref(MKINT(v187));
				bool v191 = int_lt(v186, v187);
				INT branch_Int_192;
				if (v191) {
					decref(MKINT(v186));
					branch_Int_192 = v187;
				} else {
					decref(MKINT(v187));
					branch_Int_192 = v186;
				}
				incref(MKINT(branch_Int_192));
				incref(MKINT(v190));
				bool v193 = int_lt(v190, branch_Int_192);
				INT branch_Int_194;
				if (v193) {
					decref(MKINT(branch_Int_192));
					branch_Int_194 = v190;
				} else {
					decref(MKINT(v190));
					branch_Int_194 = branch_Int_192;
				}
				uint64_t v195 = int_to_u64(branch_Int_194);
				uint64_t v196 = mw_mirth_token_Token_fromZ_index(v195);
				VAL v197 = mtw_mirth_token_TokenValue_RSquare(v196);
				branch_TokenValue_65 = v197;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
			case 12LL: { // LColon
				uint64_t v198 = mtp_mirth_token_TokenValue_LColon(v62);
				uint64_t v199 = mw_mirth_token_Token_index(v198);
				INT v200 = u64_to_int(v199);
				uint64_t v201 = mw_mirth_token_Token_index(v56);
				INT v202 = u64_to_int(v201);
				INT v203 = int_add(v200, v202);
				INT v204 = WRAP_I63(1LL);
				INT v205 = int_add(v203, v204);
				uint64_t v206 = mw_mirth_token_Token_index(v59);
				INT v207 = u64_to_int(v206);
				INT v208 = int_sub(v205, v207);
				INT v209 = WRAP_I63(0LL);
				INT v210 = WRAP_I63(-1LL);
				uint64_t v211 = int_to_u64(v210);
				INT v212 = u64_to_int(v211);
				incref(MKINT(v208));
				incref(MKINT(v209));
				bool v213 = int_lt(v208, v209);
				INT branch_Int_214;
				if (v213) {
					decref(MKINT(v208));
					branch_Int_214 = v209;
				} else {
					decref(MKINT(v209));
					branch_Int_214 = v208;
				}
				incref(MKINT(branch_Int_214));
				incref(MKINT(v212));
				bool v215 = int_lt(v212, branch_Int_214);
				INT branch_Int_216;
				if (v215) {
					decref(MKINT(branch_Int_214));
					branch_Int_216 = v212;
				} else {
					decref(MKINT(v212));
					branch_Int_216 = branch_Int_214;
				}
				uint64_t v217 = int_to_u64(branch_Int_216);
				uint64_t v218 = mw_mirth_token_Token_fromZ_index(v217);
				VAL v219 = mtw_mirth_token_TokenValue_LColon(v218);
				branch_TokenValue_65 = v219;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
			case 13LL: { // RColon
				uint64_t v220 = mtp_mirth_token_TokenValue_RColon(v62);
				uint64_t v221 = mw_mirth_token_Token_index(v220);
				INT v222 = u64_to_int(v221);
				uint64_t v223 = mw_mirth_token_Token_index(v56);
				INT v224 = u64_to_int(v223);
				INT v225 = int_add(v222, v224);
				INT v226 = WRAP_I63(1LL);
				INT v227 = int_add(v225, v226);
				uint64_t v228 = mw_mirth_token_Token_index(v59);
				INT v229 = u64_to_int(v228);
				INT v230 = int_sub(v227, v229);
				INT v231 = WRAP_I63(0LL);
				INT v232 = WRAP_I63(-1LL);
				uint64_t v233 = int_to_u64(v232);
				INT v234 = u64_to_int(v233);
				incref(MKINT(v230));
				incref(MKINT(v231));
				bool v235 = int_lt(v230, v231);
				INT branch_Int_236;
				if (v235) {
					decref(MKINT(v230));
					branch_Int_236 = v231;
				} else {
					decref(MKINT(v231));
					branch_Int_236 = v230;
				}
				incref(MKINT(branch_Int_236));
				incref(MKINT(v234));
				bool v237 = int_lt(v234, branch_Int_236);
				INT branch_Int_238;
				if (v237) {
					decref(MKINT(branch_Int_236));
					branch_Int_238 = v234;
				} else {
					decref(MKINT(v234));
					branch_Int_238 = branch_Int_236;
				}
				uint64_t v239 = int_to_u64(branch_Int_238);
				uint64_t v240 = mw_mirth_token_Token_fromZ_index(v239);
				VAL v241 = mtw_mirth_token_TokenValue_RColon(v240);
				branch_TokenValue_65 = v241;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
			default: {
				branch_TokenValue_65 = v62;
				branch_Token_64 = v59;
				branch_Token_63 = v56;
			} break;
		}
		void* v242 = field_mut(&mfld_mirth_token_Token_ZTildevalue, v57);
		mut_set(branch_TokenValue_65, v242);
		uint64_t v243 = mw_mirth_token_Token_succ(branch_Token_64);
		uint64_t v244 = mw_mirth_token_Token_succ(v57);
		uint64_t v245 = mw_mirth_token_Token_index(v243);
		uint64_t v246 = mw_mirth_token_Token_index(v60);
		bool v247 = (v245 < v246);
		v53 = v247;
		v52 = v60;
		v51 = v243;
		v50 = v58;
		v49 = v244;
		v48 = branch_Token_63;
		v47 = v61;
		v46 = v54;
	}
	decref(MKTUP(v46, 3));
	*out_ZPlusMirth_4 = v47;
	return v48;
}
static uint64_t mw_mirth_alias_Alias_allocZBang (void) {
	void* v2 = mbuf_mirth_alias_Alias_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_alias_Alias_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_alias_Alias_index (uint64_t in_Alias_1) {
	return in_Alias_1;
}
static uint64_t mw_mirth_alias_Alias_head (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildehead, in_Alias_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_alias_Alias_qnameZ_soft (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildeqname, in_Alias_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL v7 = mw_std_maybe_Maybe_1_bind_1_sp6(v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v7;
}
static TUP* mw_mirth_alias_Alias_qnameZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildeqname, in_Alias_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return value_tup(v7, 3);
}
static VAL mw_mirth_alias_Alias_namespaceZ_hard (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	TUP* v6 = mw_mirth_alias_Alias_qnameZ_hard(in_ZPlusMirth_1, in_Alias_2, &v5);
	VAL v7 = v6->cells[0];
	incref(v7);
	decref(MKTUP(v6, 3));
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static uint64_t mw_mirth_alias_Alias_name (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildename, in_Alias_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static INT mw_mirth_alias_Alias_arity (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildearity, in_Alias_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_int(v6);
}
static VAL mw_mirth_alias_Alias_target (TUP* in_ZPlusMirth_1, uint64_t in_Alias_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, in_Alias_2);
	TUP* v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static bool mw_mirth_alias_Alias_ZEqual (uint64_t in_Alias_1, uint64_t in_Alias_2) {
	uint64_t v4 = mw_mirth_alias_Alias_index(in_Alias_1);
	uint64_t v5 = mw_mirth_alias_Alias_index(in_Alias_2);
	bool v6 = (v4 == v5);
	return v6;
}
static uint64_t mw_mirth_alias_Alias_newZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Name_3, INT in_Int_4, VAL in_Maybe_5, TUP* *out_ZPlusMirth_6) {
	uint64_t v8 = mw_mirth_alias_Alias_allocZBang();
	void* v9 = field_mut(&mfld_mirth_alias_Alias_ZTildedoc, v8);
	mut_set(in_Maybe_5, v9);
	void* v10 = field_mut(&mfld_mirth_alias_Alias_ZTildename, v8);
	mut_set(MKU64(in_Name_3), v10);
	void* v11 = field_mut(&mfld_mirth_alias_Alias_ZTildehead, v8);
	mut_set(MKU64(in_Token_2), v11);
	void* v12 = field_mut(&mfld_mirth_alias_Alias_ZTildearity, v8);
	mut_set(MKINT(in_Int_4), v12);
	VAL v13 = mtw_mirth_def_Def_Alias(v8);
	TUP* v14;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v13, &v14);
	*out_ZPlusMirth_6 = v14;
	return v8;
}
static uint64_t mw_mirth_alias_parseZ_alias (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, VAL *out_Either_7, VAL *out_Maybe_8) {
	TUP* v9;
	VAL v10 = mw_mirth_token_Token_doc(in_ZPlusMirth_1, in_Token_2, &v9);
	uint64_t v11 = mw_mirth_token_Token_succ(in_Token_2);
	TUP* v12;
	VAL v13 = mw_mirth_token_Token_lparenZAsk(v9, v11, &v12);
	int64_t v14 = get_data_tag(v13);
	decref(v13);
	INT v15 = WRAP_I63(0LL);
	INT v16 = i64_to_int(v14);
	bool v17 = int_eq(v16, v15);
	bool v18 = !v17;
	VAL branch_Maybe_19;
	bool branch_Bool_20;
	uint64_t branch_Token_21;
	TUP* branch_ZPlusMirth_22;
	uint64_t branch_Token_23;
	uint64_t branch_Token_24;
	if (v18) {
		TUP* v25;
		uint64_t v26 = mw_mirth_token_Token_next(v12, in_Token_2, &v25);
		TUP* v27;
		uint64_t v28;
		uint64_t v29 = mw_mirth_token_Token_argsZ_2(v25, in_Token_2, &v27, &v28);
		branch_Token_24 = v29;
		branch_Token_23 = v28;
		branch_ZPlusMirth_22 = v27;
		branch_Token_21 = v26;
		branch_Bool_20 = v18;
		branch_Maybe_19 = v10;
	} else {
		TUP* v30;
		uint64_t v31 = mw_mirth_token_Token_next(v12, in_Token_2, &v30);
		TUP* v32;
		uint64_t v33 = mw_mirth_token_Token_next(v30, v31, &v32);
		TUP* v34;
		uint64_t v35 = mw_mirth_token_Token_next(v32, v33, &v34);
		branch_Token_24 = v31;
		branch_Token_23 = v33;
		branch_ZPlusMirth_22 = v34;
		branch_Token_21 = v35;
		branch_Bool_20 = v18;
		branch_Maybe_19 = v10;
	}
	TUP* v36;
	VAL v37 = mw_mirth_token_Token_nameZDivdnameZAsk(branch_ZPlusMirth_22, branch_Token_24, &v36);
	int64_t v38 = get_data_tag(v37);
	decref(v37);
	INT v39 = WRAP_I63(0LL);
	INT v40 = i64_to_int(v38);
	bool v41 = int_eq(v40, v39);
	bool v42 = !v41;
	TUP* branch_ZPlusMirth_43;
	uint64_t branch_Token_44;
	if (v42) {
		branch_Token_44 = branch_Token_24;
		branch_ZPlusMirth_43 = v36;
	} else {
		STR* v45;
		STRLIT(v45, "expected alias name", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v36, branch_Token_24, v45);
	}
	TUP* v47;
	VAL v48 = mw_mirth_token_Token_nameZDivdnameZAsk(branch_ZPlusMirth_43, branch_Token_23, &v47);
	TUP* branch_ZPlusMirth_49;
	uint64_t branch_Token_50;
	VAL branch_z_x1_51;
	switch (get_data_tag(v48)) {
		case 1LL: { // Some
			VAL v52 = mtp_std_maybe_Maybe_1_Some(v48);
			branch_z_x1_51 = v52;
			branch_Token_50 = branch_Token_23;
			branch_ZPlusMirth_49 = v47;
		} break;
		case 0LL: { // None
			STR* v53;
			STRLIT(v53, "expected alias target, which must be a name", 43);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v47, branch_Token_23, v53);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v56;
	mw_mirth_token_Token_argsZ_0(branch_ZPlusMirth_49, branch_Token_50, &v56);
	uint64_t branch_Token_57;
	uint64_t branch_Token_58;
	TUP* branch_ZPlusMirth_59;
	if (branch_Bool_20) {
		TUP* v60;
		uint64_t v61 = mw_mirth_token_Token_next(v56, branch_Token_44, &v60);
		TUP* v62;
		bool v63 = mw_mirth_token_Token_argZ_endZAsk(v60, v61, &v62);
		TUP* branch_ZPlusMirth_64;
		uint64_t branch_Token_65;
		if (v63) {
			branch_Token_65 = branch_Token_44;
			branch_ZPlusMirth_64 = v62;
		} else {
			STR* v66;
			STRLIT(v66, "expected comma after alias name", 31);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v62, branch_Token_44, v66);
		}
		uint64_t v68 = mw_mirth_token_Token_succ(branch_Token_50);
		TUP* v69;
		bool v70 = mw_mirth_token_Token_argZ_endZAsk(branch_ZPlusMirth_64, v68, &v69);
		TUP* branch_ZPlusMirth_71;
		uint64_t branch_Token_72;
		if (v70) {
			branch_Token_72 = branch_Token_65;
			branch_ZPlusMirth_71 = v69;
		} else {
			STR* v73;
			STRLIT(v73, "expected end of arguments after alias target", 44);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v69, branch_Token_65, v73);
		}
		branch_ZPlusMirth_59 = branch_ZPlusMirth_71;
		branch_Token_58 = branch_Token_50;
		branch_Token_57 = branch_Token_72;
	} else {
		branch_ZPlusMirth_59 = v56;
		branch_Token_58 = branch_Token_50;
		branch_Token_57 = branch_Token_44;
	}
	*out_Maybe_8 = branch_Maybe_19;
	*out_Either_7 = branch_z_x1_51;
	*out_Token_6 = branch_Token_58;
	*out_Token_5 = branch_Token_57;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_59;
	return branch_Token_21;
}
static uint64_t mw_mirth_alias_elabZ_aliasZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6;
	uint64_t v7;
	VAL v8;
	VAL v9;
	uint64_t v10 = mw_mirth_alias_parseZ_alias(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8, &v9);
	TUP* v11;
	uint64_t v12;
	uint64_t v13;
	INT v14;
	VAL v15;
	mw_mirth_elab_elabZ_defZ_head(v5, v6, &v11, &v12, &v13, &v14, &v15);
	TUP* v16;
	uint64_t v17 = mw_mirth_alias_Alias_newZBang(v11, v12, v13, v14, v9, &v16);
	VAL v18 = mtw_mirth_mirth_PropLabel_AliasQName(v17);
	TUP* v19 = mtw_mirth_mirth_Prop_1_Prop(v18, v15);
	void* v20 = field_mut(&mfld_mirth_alias_Alias_ZTildeqname, v17);
	mut_set(MKTUP(v19, 2), v20);
	VAL v21 = mtw_mirth_mirth_PropLabel_AliasTarget(v17);
	TUP* v22 = tup_new(3);
	v22->size = 3;
	v22->cells[2] = MKU64(v17);
	v22->cells[1] = MKU64(v7);
	v22->cells[0] = v8;
	TUP* v23 = value_tup(v16->cells[6], 2);
	incref(MKTUP(v23, 2));
	FNPTR v24 = &mb_mirth_mirth_PropLabel_prop_1_sp48_10;
	VAL v25 = mtw_mirth_mirth_PropState_1_Delay(v23, MKTUP(v22, 3), MKFNPTR(v24));
	TUP* v26 = mtw_mirth_mirth_Prop_1_Prop(v21, v25);
	void* v27 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v17);
	mut_set(MKTUP(v26, 2), v27);
	*out_ZPlusMirth_3 = v16;
	return v10;
}
static VAL mw_mirth_def_Def_packageZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 2LL: { // Package
			uint64_t v4 = mtp_mirth_def_Def_Package(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_moduleZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 1LL: { // Module
			uint64_t v4 = mtp_mirth_def_Def_Module(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_aliasZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 0LL: { // Alias
			uint64_t v4 = mtp_mirth_def_Def_Alias(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_dataZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 3LL: { // Data
			uint64_t v4 = mtp_mirth_def_Def_Data(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_tableZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 4LL: { // Table
			uint64_t v4 = mtp_mirth_def_Def_Table(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_typedefZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 5LL: { // Type
			uint64_t v4 = mtp_mirth_def_Def_Type(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_tagZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 6LL: { // Tag
			uint64_t v4 = mtp_mirth_def_Def_Tag(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_primZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 7LL: { // Prim
			int64_t v4 = mtp_mirth_def_Def_Prim(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKI64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_wordZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 8LL: { // Word
			uint64_t v4 = mtp_mirth_def_Def_Word(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_bufferZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 9LL: { // Buffer
			uint64_t v4 = mtp_mirth_def_Def_Buffer(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_externalZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 10LL: { // External
			uint64_t v4 = mtp_mirth_def_Def_External(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_fieldZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 11LL: { // Field
			uint64_t v4 = mtp_mirth_def_Def_Field(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_macroZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 12LL: { // Macro
			uint64_t v4 = mtp_mirth_def_Def_Macro(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static bool mw_mirth_def_Def_ZEqual (VAL in_Def_1, VAL in_Def_2) {
	bool branch_Bool_4;
	switch (get_data_tag(in_Def_2)) {
		case 2LL: { // Package
			uint64_t v5 = mtp_mirth_def_Def_Package(in_Def_2);
			VAL v6 = mtw_std_maybe_Maybe_1_Some(MKU64(v5));
			VAL v7 = mw_mirth_def_Def_packageZAsk(in_Def_1);
			bool branch_Bool_8;
			switch (get_data_tag(v7)) {
				case 0LL: { // None
					int64_t v9 = get_data_tag(v6);
					decref(v6);
					INT v10 = WRAP_I63(0LL);
					INT v11 = i64_to_int(v9);
					bool v12 = int_eq(v11, v10);
					branch_Bool_8 = v12;
				} break;
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v7);
					bool branch_Bool_14;
					switch (get_data_tag(v6)) {
						case 1LL: { // Some
							VAL v15 = mtp_std_maybe_Maybe_1_Some(v6);
							bool v16 = mw_mirth_package_Package_ZEqual(value_u64(v15), value_u64(v13));
							branch_Bool_14 = v16;
						} break;
						case 0LL: { // None
							decref(v13);
							bool v17 = false;
							branch_Bool_14 = v17;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_8 = branch_Bool_14;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_8;
		} break;
		case 1LL: { // Module
			uint64_t v18 = mtp_mirth_def_Def_Module(in_Def_2);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(MKU64(v18));
			VAL v20 = mw_mirth_def_Def_moduleZAsk(in_Def_1);
			bool branch_Bool_21;
			switch (get_data_tag(v20)) {
				case 0LL: { // None
					int64_t v22 = get_data_tag(v19);
					decref(v19);
					INT v23 = WRAP_I63(0LL);
					INT v24 = i64_to_int(v22);
					bool v25 = int_eq(v24, v23);
					branch_Bool_21 = v25;
				} break;
				case 1LL: { // Some
					VAL v26 = mtp_std_maybe_Maybe_1_Some(v20);
					bool branch_Bool_27;
					switch (get_data_tag(v19)) {
						case 1LL: { // Some
							VAL v28 = mtp_std_maybe_Maybe_1_Some(v19);
							bool v29 = mw_mirth_module_Module_ZEqual(value_u64(v28), value_u64(v26));
							branch_Bool_27 = v29;
						} break;
						case 0LL: { // None
							decref(v26);
							bool v30 = false;
							branch_Bool_27 = v30;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_21 = branch_Bool_27;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_21;
		} break;
		case 0LL: { // Alias
			uint64_t v31 = mtp_mirth_def_Def_Alias(in_Def_2);
			VAL v32 = mtw_std_maybe_Maybe_1_Some(MKU64(v31));
			VAL v33 = mw_mirth_def_Def_aliasZAsk(in_Def_1);
			bool branch_Bool_34;
			switch (get_data_tag(v33)) {
				case 0LL: { // None
					int64_t v35 = get_data_tag(v32);
					decref(v32);
					INT v36 = WRAP_I63(0LL);
					INT v37 = i64_to_int(v35);
					bool v38 = int_eq(v37, v36);
					branch_Bool_34 = v38;
				} break;
				case 1LL: { // Some
					VAL v39 = mtp_std_maybe_Maybe_1_Some(v33);
					bool branch_Bool_40;
					switch (get_data_tag(v32)) {
						case 1LL: { // Some
							VAL v41 = mtp_std_maybe_Maybe_1_Some(v32);
							bool v42 = mw_mirth_alias_Alias_ZEqual(value_u64(v41), value_u64(v39));
							branch_Bool_40 = v42;
						} break;
						case 0LL: { // None
							decref(v39);
							bool v43 = false;
							branch_Bool_40 = v43;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_34 = branch_Bool_40;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_34;
		} break;
		case 3LL: { // Data
			uint64_t v44 = mtp_mirth_def_Def_Data(in_Def_2);
			VAL v45 = mtw_std_maybe_Maybe_1_Some(MKU64(v44));
			VAL v46 = mw_mirth_def_Def_dataZAsk(in_Def_1);
			bool branch_Bool_47;
			switch (get_data_tag(v46)) {
				case 0LL: { // None
					int64_t v48 = get_data_tag(v45);
					decref(v45);
					INT v49 = WRAP_I63(0LL);
					INT v50 = i64_to_int(v48);
					bool v51 = int_eq(v50, v49);
					branch_Bool_47 = v51;
				} break;
				case 1LL: { // Some
					VAL v52 = mtp_std_maybe_Maybe_1_Some(v46);
					bool branch_Bool_53;
					switch (get_data_tag(v45)) {
						case 1LL: { // Some
							VAL v54 = mtp_std_maybe_Maybe_1_Some(v45);
							bool v55 = mw_mirth_data_Data_ZEqual(value_u64(v54), value_u64(v52));
							branch_Bool_53 = v55;
						} break;
						case 0LL: { // None
							decref(v52);
							bool v56 = false;
							branch_Bool_53 = v56;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_47 = branch_Bool_53;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_47;
		} break;
		case 4LL: { // Table
			uint64_t v57 = mtp_mirth_def_Def_Table(in_Def_2);
			VAL v58 = mtw_std_maybe_Maybe_1_Some(MKU64(v57));
			VAL v59 = mw_mirth_def_Def_tableZAsk(in_Def_1);
			bool branch_Bool_60;
			switch (get_data_tag(v59)) {
				case 0LL: { // None
					int64_t v61 = get_data_tag(v58);
					decref(v58);
					INT v62 = WRAP_I63(0LL);
					INT v63 = i64_to_int(v61);
					bool v64 = int_eq(v63, v62);
					branch_Bool_60 = v64;
				} break;
				case 1LL: { // Some
					VAL v65 = mtp_std_maybe_Maybe_1_Some(v59);
					bool branch_Bool_66;
					switch (get_data_tag(v58)) {
						case 1LL: { // Some
							VAL v67 = mtp_std_maybe_Maybe_1_Some(v58);
							bool v68 = mw_mirth_table_Table_ZEqual(value_u64(v67), value_u64(v65));
							branch_Bool_66 = v68;
						} break;
						case 0LL: { // None
							decref(v65);
							bool v69 = false;
							branch_Bool_66 = v69;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_60 = branch_Bool_66;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_60;
		} break;
		case 5LL: { // Type
			uint64_t v70 = mtp_mirth_def_Def_Type(in_Def_2);
			VAL v71 = mtw_std_maybe_Maybe_1_Some(MKU64(v70));
			VAL v72 = mw_mirth_def_Def_typedefZAsk(in_Def_1);
			bool branch_Bool_73;
			switch (get_data_tag(v72)) {
				case 0LL: { // None
					int64_t v74 = get_data_tag(v71);
					decref(v71);
					INT v75 = WRAP_I63(0LL);
					INT v76 = i64_to_int(v74);
					bool v77 = int_eq(v76, v75);
					branch_Bool_73 = v77;
				} break;
				case 1LL: { // Some
					VAL v78 = mtp_std_maybe_Maybe_1_Some(v72);
					bool branch_Bool_79;
					switch (get_data_tag(v71)) {
						case 1LL: { // Some
							VAL v80 = mtp_std_maybe_Maybe_1_Some(v71);
							bool v81 = mw_mirth_typedef_TypeDef_ZEqual(value_u64(v80), value_u64(v78));
							branch_Bool_79 = v81;
						} break;
						case 0LL: { // None
							decref(v78);
							bool v82 = false;
							branch_Bool_79 = v82;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_73 = branch_Bool_79;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_73;
		} break;
		case 6LL: { // Tag
			uint64_t v83 = mtp_mirth_def_Def_Tag(in_Def_2);
			VAL v84 = mtw_std_maybe_Maybe_1_Some(MKU64(v83));
			VAL v85 = mw_mirth_def_Def_tagZAsk(in_Def_1);
			bool branch_Bool_86;
			switch (get_data_tag(v85)) {
				case 0LL: { // None
					int64_t v87 = get_data_tag(v84);
					decref(v84);
					INT v88 = WRAP_I63(0LL);
					INT v89 = i64_to_int(v87);
					bool v90 = int_eq(v89, v88);
					branch_Bool_86 = v90;
				} break;
				case 1LL: { // Some
					VAL v91 = mtp_std_maybe_Maybe_1_Some(v85);
					bool branch_Bool_92;
					switch (get_data_tag(v84)) {
						case 1LL: { // Some
							VAL v93 = mtp_std_maybe_Maybe_1_Some(v84);
							bool v94 = mw_mirth_data_Tag_ZEqual(value_u64(v93), value_u64(v91));
							branch_Bool_92 = v94;
						} break;
						case 0LL: { // None
							decref(v91);
							bool v95 = false;
							branch_Bool_92 = v95;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_86 = branch_Bool_92;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_86;
		} break;
		case 7LL: { // Prim
			int64_t v96 = mtp_mirth_def_Def_Prim(in_Def_2);
			VAL v97 = mtw_std_maybe_Maybe_1_Some(MKI64(v96));
			VAL v98 = mw_mirth_def_Def_primZAsk(in_Def_1);
			bool branch_Bool_99;
			switch (get_data_tag(v98)) {
				case 0LL: { // None
					int64_t v100 = get_data_tag(v97);
					decref(v97);
					INT v101 = WRAP_I63(0LL);
					INT v102 = i64_to_int(v100);
					bool v103 = int_eq(v102, v101);
					branch_Bool_99 = v103;
				} break;
				case 1LL: { // Some
					VAL v104 = mtp_std_maybe_Maybe_1_Some(v98);
					bool branch_Bool_105;
					switch (get_data_tag(v97)) {
						case 1LL: { // Some
							VAL v106 = mtp_std_maybe_Maybe_1_Some(v97);
							bool v107 = mw_mirth_prim_Prim_ZEqual(value_i64(v106), value_i64(v104));
							branch_Bool_105 = v107;
						} break;
						case 0LL: { // None
							decref(v104);
							bool v108 = false;
							branch_Bool_105 = v108;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_99 = branch_Bool_105;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_99;
		} break;
		case 8LL: { // Word
			uint64_t v109 = mtp_mirth_def_Def_Word(in_Def_2);
			VAL v110 = mtw_std_maybe_Maybe_1_Some(MKU64(v109));
			VAL v111 = mw_mirth_def_Def_wordZAsk(in_Def_1);
			bool branch_Bool_112;
			switch (get_data_tag(v111)) {
				case 0LL: { // None
					int64_t v113 = get_data_tag(v110);
					decref(v110);
					INT v114 = WRAP_I63(0LL);
					INT v115 = i64_to_int(v113);
					bool v116 = int_eq(v115, v114);
					branch_Bool_112 = v116;
				} break;
				case 1LL: { // Some
					VAL v117 = mtp_std_maybe_Maybe_1_Some(v111);
					bool branch_Bool_118;
					switch (get_data_tag(v110)) {
						case 1LL: { // Some
							VAL v119 = mtp_std_maybe_Maybe_1_Some(v110);
							bool v120 = mw_mirth_word_Word_ZEqual(value_u64(v119), value_u64(v117));
							branch_Bool_118 = v120;
						} break;
						case 0LL: { // None
							decref(v117);
							bool v121 = false;
							branch_Bool_118 = v121;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_112 = branch_Bool_118;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_112;
		} break;
		case 9LL: { // Buffer
			uint64_t v122 = mtp_mirth_def_Def_Buffer(in_Def_2);
			VAL v123 = mtw_std_maybe_Maybe_1_Some(MKU64(v122));
			VAL v124 = mw_mirth_def_Def_bufferZAsk(in_Def_1);
			bool branch_Bool_125;
			switch (get_data_tag(v124)) {
				case 0LL: { // None
					int64_t v126 = get_data_tag(v123);
					decref(v123);
					INT v127 = WRAP_I63(0LL);
					INT v128 = i64_to_int(v126);
					bool v129 = int_eq(v128, v127);
					branch_Bool_125 = v129;
				} break;
				case 1LL: { // Some
					VAL v130 = mtp_std_maybe_Maybe_1_Some(v124);
					bool branch_Bool_131;
					switch (get_data_tag(v123)) {
						case 1LL: { // Some
							VAL v132 = mtp_std_maybe_Maybe_1_Some(v123);
							bool v133 = mw_mirth_buffer_Buffer_ZEqual(value_u64(v132), value_u64(v130));
							branch_Bool_131 = v133;
						} break;
						case 0LL: { // None
							decref(v130);
							bool v134 = false;
							branch_Bool_131 = v134;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_125 = branch_Bool_131;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_125;
		} break;
		case 10LL: { // External
			uint64_t v135 = mtp_mirth_def_Def_External(in_Def_2);
			VAL v136 = mtw_std_maybe_Maybe_1_Some(MKU64(v135));
			VAL v137 = mw_mirth_def_Def_externalZAsk(in_Def_1);
			bool branch_Bool_138;
			switch (get_data_tag(v137)) {
				case 0LL: { // None
					int64_t v139 = get_data_tag(v136);
					decref(v136);
					INT v140 = WRAP_I63(0LL);
					INT v141 = i64_to_int(v139);
					bool v142 = int_eq(v141, v140);
					branch_Bool_138 = v142;
				} break;
				case 1LL: { // Some
					VAL v143 = mtp_std_maybe_Maybe_1_Some(v137);
					bool branch_Bool_144;
					switch (get_data_tag(v136)) {
						case 1LL: { // Some
							VAL v145 = mtp_std_maybe_Maybe_1_Some(v136);
							bool v146 = mw_mirth_external_External_ZEqual(value_u64(v145), value_u64(v143));
							branch_Bool_144 = v146;
						} break;
						case 0LL: { // None
							decref(v143);
							bool v147 = false;
							branch_Bool_144 = v147;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_138 = branch_Bool_144;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_138;
		} break;
		case 11LL: { // Field
			uint64_t v148 = mtp_mirth_def_Def_Field(in_Def_2);
			VAL v149 = mtw_std_maybe_Maybe_1_Some(MKU64(v148));
			VAL v150 = mw_mirth_def_Def_fieldZAsk(in_Def_1);
			bool branch_Bool_151;
			switch (get_data_tag(v150)) {
				case 0LL: { // None
					int64_t v152 = get_data_tag(v149);
					decref(v149);
					INT v153 = WRAP_I63(0LL);
					INT v154 = i64_to_int(v152);
					bool v155 = int_eq(v154, v153);
					branch_Bool_151 = v155;
				} break;
				case 1LL: { // Some
					VAL v156 = mtp_std_maybe_Maybe_1_Some(v150);
					bool branch_Bool_157;
					switch (get_data_tag(v149)) {
						case 1LL: { // Some
							VAL v158 = mtp_std_maybe_Maybe_1_Some(v149);
							bool v159 = mw_mirth_table_Field_ZEqual(value_u64(v158), value_u64(v156));
							branch_Bool_157 = v159;
						} break;
						case 0LL: { // None
							decref(v156);
							bool v160 = false;
							branch_Bool_157 = v160;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_151 = branch_Bool_157;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_151;
		} break;
		case 12LL: { // Macro
			uint64_t v161 = mtp_mirth_def_Def_Macro(in_Def_2);
			VAL v162 = mtw_std_maybe_Maybe_1_Some(MKU64(v161));
			VAL v163 = mw_mirth_def_Def_macroZAsk(in_Def_1);
			bool branch_Bool_164;
			switch (get_data_tag(v163)) {
				case 0LL: { // None
					int64_t v165 = get_data_tag(v162);
					decref(v162);
					INT v166 = WRAP_I63(0LL);
					INT v167 = i64_to_int(v165);
					bool v168 = int_eq(v167, v166);
					branch_Bool_164 = v168;
				} break;
				case 1LL: { // Some
					VAL v169 = mtp_std_maybe_Maybe_1_Some(v163);
					bool branch_Bool_170;
					switch (get_data_tag(v162)) {
						case 1LL: { // Some
							VAL v171 = mtp_std_maybe_Maybe_1_Some(v162);
							bool v172 = mw_mirth_macro_Macro_ZEqual(value_u64(v171), value_u64(v169));
							branch_Bool_170 = v172;
						} break;
						case 0LL: { // None
							decref(v169);
							bool v173 = false;
							branch_Bool_170 = v173;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_164 = branch_Bool_170;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_164;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static void mw_mirth_def_Def_typecheckZBang (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_4;
	switch (get_data_tag(in_Def_2)) {
		case 2LL: { // Package
			uint64_t v5 = mtp_mirth_def_Def_Package(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v6 = mtp_mirth_def_Def_Module(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			TUP* v8;
			VAL v9 = mw_mirth_alias_Alias_target(in_ZPlusMirth_1, v7, &v8);
			TUP* v10;
			mw_mirth_def_Def_typecheckZBang(v8, v9, &v10);
			branch_ZPlusMirth_4 = v10;
		} break;
		case 3LL: { // Data
			uint64_t v11 = mtp_mirth_def_Def_Data(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v12 = mtp_mirth_def_Def_Table(in_Def_2);
			TUP* v13;
			VAL v14 = mw_mirth_table_Table_owner(in_ZPlusMirth_1, v12, &v13);
			decref(v14);
			branch_ZPlusMirth_4 = v13;
		} break;
		case 5LL: { // Type
			uint64_t v15 = mtp_mirth_def_Def_Type(in_Def_2);
			TUP* v16;
			VAL v17 = mw_mirth_typedef_TypeDef_target(in_ZPlusMirth_1, v15, &v16);
			decref(v17);
			branch_ZPlusMirth_4 = v16;
		} break;
		case 6LL: { // Tag
			uint64_t v18 = mtp_mirth_def_Def_Tag(in_Def_2);
			TUP* v19;
			TUP* v20 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, v18, &v19);
			decref(MKTUP(v20, 2));
			branch_ZPlusMirth_4 = v19;
		} break;
		case 7LL: { // Prim
			int64_t v21 = mtp_mirth_def_Def_Prim(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Word
			uint64_t v22 = mtp_mirth_def_Def_Word(in_Def_2);
			TUP* v23;
			TUP* v24 = mw_mirth_word_Word_type(in_ZPlusMirth_1, v22, &v23);
			decref(MKTUP(v24, 2));
			TUP* v25;
			TUP* v26 = mw_mirth_word_Word_arrow(v23, v22, &v25);
			decref(MKTUP(v26, 7));
			branch_ZPlusMirth_4 = v25;
		} break;
		case 9LL: { // Buffer
			uint64_t v27 = mtp_mirth_def_Def_Buffer(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v28 = mtp_mirth_def_Def_External(in_Def_2);
			TUP* v29;
			TUP* v30 = mw_mirth_external_External_type(in_ZPlusMirth_1, v28, &v29);
			decref(MKTUP(v30, 2));
			branch_ZPlusMirth_4 = v29;
		} break;
		case 11LL: { // Field
			uint64_t v31 = mtp_mirth_def_Def_Field(in_Def_2);
			TUP* v32;
			TUP* v33 = mw_mirth_table_Field_type(in_ZPlusMirth_1, v31, &v32);
			decref(MKTUP(v33, 2));
			branch_ZPlusMirth_4 = v32;
		} break;
		case 12LL: { // Macro
			uint64_t v34 = mtp_mirth_def_Def_Macro(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_4;
}
static bool mw_mirth_def_Def_callableZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			void* v8 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v7);
			TUP* v9;
			VAL v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v8, &v9);
			TUP* branch_ZPlusMirth_11;
			bool branch_Bool_12;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					TUP* v14;
					bool v15 = mw_mirth_def_Def_callableZAsk(v9, v13, &v14);
					branch_Bool_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					bool v16 = false;
					branch_Bool_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_6 = branch_Bool_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // Package
			uint64_t v17 = mtp_mirth_def_Def_Package(in_Def_2);
			bool v18 = false;
			branch_Bool_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v19 = mtp_mirth_def_Def_Module(in_Def_2);
			bool v20 = false;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Buffer
			uint64_t v21 = mtp_mirth_def_Def_Buffer(in_Def_2);
			bool v22 = true;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Prim
			int64_t v23 = mtp_mirth_def_Def_Prim(in_Def_2);
			bool v24 = true;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v25 = mtp_mirth_def_Def_Data(in_Def_2);
			bool v26 = false;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v27 = mtp_mirth_def_Def_Table(in_Def_2);
			bool v28 = false;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v29 = mtp_mirth_def_Def_Type(in_Def_2);
			bool v30 = false;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v31 = mtp_mirth_def_Def_External(in_Def_2);
			bool v32 = true;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Word
			uint64_t v33 = mtp_mirth_def_Def_Word(in_Def_2);
			bool v34 = true;
			branch_Bool_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // Field
			uint64_t v35 = mtp_mirth_def_Def_Field(in_Def_2);
			bool v36 = true;
			branch_Bool_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v37 = mtp_mirth_def_Def_Tag(in_Def_2);
			bool v38 = true;
			branch_Bool_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // Macro
			uint64_t v39 = mtp_mirth_def_Def_Macro(in_Def_2);
			TUP* v40;
			VAL v41 = mw_mirth_macro_Macro_action(in_ZPlusMirth_1, v39, &v40);
			bool v42 = mw_mirth_macro_MacroAction_callableZAsk(v41);
			branch_Bool_6 = v42;
			branch_ZPlusMirth_5 = v40;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_def_Def_definesZ_aZ_typeZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			void* v8 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v7);
			TUP* v9;
			VAL v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v8, &v9);
			TUP* branch_ZPlusMirth_11;
			bool branch_Bool_12;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					TUP* v14;
					bool v15 = mw_mirth_def_Def_definesZ_aZ_typeZAsk(v9, v13, &v14);
					branch_Bool_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					bool v16 = false;
					branch_Bool_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_6 = branch_Bool_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // Package
			uint64_t v17 = mtp_mirth_def_Def_Package(in_Def_2);
			bool v18 = false;
			branch_Bool_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v19 = mtp_mirth_def_Def_Module(in_Def_2);
			bool v20 = false;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Buffer
			uint64_t v21 = mtp_mirth_def_Def_Buffer(in_Def_2);
			bool v22 = false;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Prim
			int64_t v23 = mtp_mirth_def_Def_Prim(in_Def_2);
			bool v24 = false;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v25 = mtp_mirth_def_Def_Data(in_Def_2);
			bool v26 = true;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v27 = mtp_mirth_def_Def_Table(in_Def_2);
			bool v28 = true;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v29 = mtp_mirth_def_Def_Type(in_Def_2);
			bool v30 = true;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v31 = mtp_mirth_def_Def_External(in_Def_2);
			bool v32 = false;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Word
			uint64_t v33 = mtp_mirth_def_Def_Word(in_Def_2);
			bool v34 = false;
			branch_Bool_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // Field
			uint64_t v35 = mtp_mirth_def_Def_Field(in_Def_2);
			bool v36 = false;
			branch_Bool_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v37 = mtp_mirth_def_Def_Tag(in_Def_2);
			bool v38 = false;
			branch_Bool_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // Macro
			uint64_t v39 = mtp_mirth_def_Def_Macro(in_Def_2);
			bool v40 = false;
			branch_Bool_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static bool mw_mirth_def_Def_sameZ_resolvedZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, VAL in_Def_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_def_Def_resolve(in_ZPlusMirth_1, in_Def_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_def_Def_resolve(v6, in_Def_3, &v8);
	bool v10 = mw_mirth_def_Def_ZEqual(v7, v9);
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_def_Def_resolve (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	bool v5 = true;
	TUP* v6 = in_ZPlusMirth_1;
	VAL v7 = in_Def_2;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		TUP* v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		incref(v11);
		VAL v13 = mw_mirth_def_Def_aliasZAsk(v11);
		TUP* branch_ZPlusMirth_14;
		VAL branch_Maybe_15;
		switch (get_data_tag(v13)) {
			case 1LL: { // Some
				VAL v16 = mtp_std_maybe_Maybe_1_Some(v13);
				void* v17 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, value_u64(v16));
				TUP* v18;
				VAL v19 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v10, v17, &v18);
				branch_Maybe_15 = v19;
				branch_ZPlusMirth_14 = v18;
			} break;
			case 0LL: { // None
				VAL v20 = MKI64(0LL /* None */);
				branch_Maybe_15 = v20;
				branch_ZPlusMirth_14 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL branch_z_x1_21;
		bool branch_Bool_22;
		switch (get_data_tag(branch_Maybe_15)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_15);
				decref(v11);
				bool v24 = true;
				branch_Bool_22 = v24;
				branch_z_x1_21 = v23;
			} break;
			case 0LL: { // None
				bool v25 = false;
				branch_Bool_22 = v25;
				branch_z_x1_21 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_22;
		v8 = branch_Bool_22;
		v7 = branch_z_x1_21;
		v6 = branch_ZPlusMirth_14;
	}
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static uint64_t mw_mirth_def_Def_name (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	uint64_t branch_Name_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			TUP* v8;
			uint64_t v9 = mw_mirth_alias_Alias_name(in_ZPlusMirth_1, v7, &v8);
			branch_Name_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Package
			uint64_t v10 = mtp_mirth_def_Def_Package(in_Def_2);
			TUP* v11;
			uint64_t v12 = mw_mirth_package_Package_name(in_ZPlusMirth_1, v10, &v11);
			branch_Name_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 1LL: { // Module
			uint64_t v13 = mtp_mirth_def_Def_Module(in_Def_2);
			TUP* v14;
			uint64_t v15 = mw_mirth_module_Module_name(in_ZPlusMirth_1, v13, &v14);
			branch_Name_6 = v15;
			branch_ZPlusMirth_5 = v14;
		} break;
		case 9LL: { // Buffer
			uint64_t v16 = mtp_mirth_def_Def_Buffer(in_Def_2);
			TUP* v17;
			uint64_t v18 = mw_mirth_buffer_Buffer_name(in_ZPlusMirth_1, v16, &v17);
			branch_Name_6 = v18;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 7LL: { // Prim
			int64_t v19 = mtp_mirth_def_Def_Prim(in_Def_2);
			TUP* v20;
			uint64_t v21 = mw_mirth_prim_Prim_name(in_ZPlusMirth_1, v19, &v20);
			branch_Name_6 = v21;
			branch_ZPlusMirth_5 = v20;
		} break;
		case 3LL: { // Data
			uint64_t v22 = mtp_mirth_def_Def_Data(in_Def_2);
			TUP* v23;
			uint64_t v24 = mw_mirth_data_Data_name(in_ZPlusMirth_1, v22, &v23);
			branch_Name_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		case 4LL: { // Table
			uint64_t v25 = mtp_mirth_def_Def_Table(in_Def_2);
			TUP* v26;
			uint64_t v27 = mw_mirth_table_Table_name(in_ZPlusMirth_1, v25, &v26);
			branch_Name_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 5LL: { // Type
			uint64_t v28 = mtp_mirth_def_Def_Type(in_Def_2);
			TUP* v29;
			uint64_t v30 = mw_mirth_typedef_TypeDef_name(in_ZPlusMirth_1, v28, &v29);
			branch_Name_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 10LL: { // External
			uint64_t v31 = mtp_mirth_def_Def_External(in_Def_2);
			TUP* v32;
			uint64_t v33 = mw_mirth_external_External_name(in_ZPlusMirth_1, v31, &v32);
			branch_Name_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		case 8LL: { // Word
			uint64_t v34 = mtp_mirth_def_Def_Word(in_Def_2);
			TUP* v35;
			uint64_t v36 = mw_mirth_word_Word_name(in_ZPlusMirth_1, v34, &v35);
			branch_Name_6 = v36;
			branch_ZPlusMirth_5 = v35;
		} break;
		case 11LL: { // Field
			uint64_t v37 = mtp_mirth_def_Def_Field(in_Def_2);
			TUP* v38;
			uint64_t v39 = mw_mirth_table_Field_name(in_ZPlusMirth_1, v37, &v38);
			branch_Name_6 = v39;
			branch_ZPlusMirth_5 = v38;
		} break;
		case 6LL: { // Tag
			uint64_t v40 = mtp_mirth_def_Def_Tag(in_Def_2);
			TUP* v41;
			uint64_t v42 = mw_mirth_data_Tag_name(in_ZPlusMirth_1, v40, &v41);
			branch_Name_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 12LL: { // Macro
			uint64_t v43 = mtp_mirth_def_Def_Macro(in_Def_2);
			TUP* v44;
			uint64_t v45 = mw_mirth_macro_Macro_name(in_ZPlusMirth_1, v43, &v44);
			branch_Name_6 = v45;
			branch_ZPlusMirth_5 = v44;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Name_6;
}
static INT mw_mirth_def_Def_arity (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	INT branch_Int_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			TUP* v8;
			INT v9 = mw_mirth_alias_Alias_arity(in_ZPlusMirth_1, v7, &v8);
			branch_Int_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Package
			uint64_t v10 = mtp_mirth_def_Def_Package(in_Def_2);
			INT v11 = WRAP_I63(0LL);
			branch_Int_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v12 = mtp_mirth_def_Def_Module(in_Def_2);
			INT v13 = WRAP_I63(0LL);
			branch_Int_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Buffer
			uint64_t v14 = mtp_mirth_def_Def_Buffer(in_Def_2);
			INT v15 = WRAP_I63(0LL);
			branch_Int_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Prim
			int64_t v16 = mtp_mirth_def_Def_Prim(in_Def_2);
			INT v17 = mw_mirth_prim_Prim_arity(v16);
			branch_Int_6 = v17;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v18 = mtp_mirth_def_Def_Data(in_Def_2);
			TUP* v19;
			INT v20 = mw_mirth_data_Data_arity(in_ZPlusMirth_1, v18, &v19);
			branch_Int_6 = v20;
			branch_ZPlusMirth_5 = v19;
		} break;
		case 4LL: { // Table
			uint64_t v21 = mtp_mirth_def_Def_Table(in_Def_2);
			INT v22 = WRAP_I63(0LL);
			branch_Int_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v23 = mtp_mirth_def_Def_Type(in_Def_2);
			INT v24 = WRAP_I63(0LL);
			branch_Int_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // External
			uint64_t v25 = mtp_mirth_def_Def_External(in_Def_2);
			TUP* v26;
			INT v27 = mw_mirth_external_External_arity(in_ZPlusMirth_1, v25, &v26);
			branch_Int_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 8LL: { // Word
			uint64_t v28 = mtp_mirth_def_Def_Word(in_Def_2);
			TUP* v29;
			INT v30 = mw_mirth_word_Word_arity(in_ZPlusMirth_1, v28, &v29);
			branch_Int_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 11LL: { // Field
			uint64_t v31 = mtp_mirth_def_Def_Field(in_Def_2);
			INT v32 = WRAP_I63(0LL);
			branch_Int_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v33 = mtp_mirth_def_Def_Tag(in_Def_2);
			INT v34 = WRAP_I63(0LL);
			branch_Int_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // Macro
			uint64_t v35 = mtp_mirth_def_Def_Macro(in_Def_2);
			TUP* v36;
			INT v37 = mw_mirth_macro_Macro_arity(in_ZPlusMirth_1, v35, &v36);
			branch_Int_6 = v37;
			branch_ZPlusMirth_5 = v36;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Int_6;
}
static VAL mw_mirth_def_Def_qnameZ_soft (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			TUP* v8;
			VAL v9 = mw_mirth_alias_Alias_qnameZ_soft(in_ZPlusMirth_1, v7, &v8);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Package
			uint64_t v10 = mtp_mirth_def_Def_Package(in_Def_2);
			TUP* v11;
			TUP* v12 = mw_mirth_package_Package_qname(in_ZPlusMirth_1, v10, &v11);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12, 3));
			branch_Maybe_6 = v13;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 1LL: { // Module
			uint64_t v14 = mtp_mirth_def_Def_Module(in_Def_2);
			TUP* v15;
			TUP* v16 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v14, &v15);
			VAL v17 = mtw_std_maybe_Maybe_1_Some(MKTUP(v16, 3));
			branch_Maybe_6 = v17;
			branch_ZPlusMirth_5 = v15;
		} break;
		case 9LL: { // Buffer
			uint64_t v18 = mtp_mirth_def_Def_Buffer(in_Def_2);
			TUP* v19;
			VAL v20 = mw_mirth_buffer_Buffer_qnameZ_soft(in_ZPlusMirth_1, v18, &v19);
			branch_Maybe_6 = v20;
			branch_ZPlusMirth_5 = v19;
		} break;
		case 7LL: { // Prim
			int64_t v21 = mtp_mirth_def_Def_Prim(in_Def_2);
			TUP* v22;
			TUP* v23 = mw_mirth_prim_Prim_qname(in_ZPlusMirth_1, v21, &v22);
			VAL v24 = mtw_std_maybe_Maybe_1_Some(MKTUP(v23, 3));
			branch_Maybe_6 = v24;
			branch_ZPlusMirth_5 = v22;
		} break;
		case 3LL: { // Data
			uint64_t v25 = mtp_mirth_def_Def_Data(in_Def_2);
			TUP* v26;
			VAL v27 = mw_mirth_data_Data_qnameZ_soft(in_ZPlusMirth_1, v25, &v26);
			branch_Maybe_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 4LL: { // Table
			uint64_t v28 = mtp_mirth_def_Def_Table(in_Def_2);
			TUP* v29;
			VAL v30 = mw_mirth_table_Table_qnameZ_soft(in_ZPlusMirth_1, v28, &v29);
			branch_Maybe_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 5LL: { // Type
			uint64_t v31 = mtp_mirth_def_Def_Type(in_Def_2);
			TUP* v32;
			VAL v33 = mw_mirth_typedef_TypeDef_qnameZ_soft(in_ZPlusMirth_1, v31, &v32);
			branch_Maybe_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		case 10LL: { // External
			uint64_t v34 = mtp_mirth_def_Def_External(in_Def_2);
			TUP* v35;
			VAL v36 = mw_mirth_external_External_qnameZ_soft(in_ZPlusMirth_1, v34, &v35);
			branch_Maybe_6 = v36;
			branch_ZPlusMirth_5 = v35;
		} break;
		case 8LL: { // Word
			uint64_t v37 = mtp_mirth_def_Def_Word(in_Def_2);
			TUP* v38;
			VAL v39 = mw_mirth_word_Word_qnameZ_soft(in_ZPlusMirth_1, v37, &v38);
			branch_Maybe_6 = v39;
			branch_ZPlusMirth_5 = v38;
		} break;
		case 11LL: { // Field
			uint64_t v40 = mtp_mirth_def_Def_Field(in_Def_2);
			TUP* v41;
			VAL v42 = mw_mirth_table_Field_qnameZ_soft(in_ZPlusMirth_1, v40, &v41);
			branch_Maybe_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 6LL: { // Tag
			uint64_t v43 = mtp_mirth_def_Def_Tag(in_Def_2);
			TUP* v44;
			TUP* v45 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, v43, &v44);
			VAL v46 = mtw_std_maybe_Maybe_1_Some(MKTUP(v45, 3));
			branch_Maybe_6 = v46;
			branch_ZPlusMirth_5 = v44;
		} break;
		case 12LL: { // Macro
			uint64_t v47 = mtp_mirth_def_Def_Macro(in_Def_2);
			TUP* v48;
			VAL v49 = mw_mirth_macro_Macro_qnameZ_soft(in_ZPlusMirth_1, v47, &v48);
			branch_Maybe_6 = v49;
			branch_ZPlusMirth_5 = v48;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static TUP* mw_mirth_def_Def_qnameZ_hard (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	TUP* branch_QName_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			TUP* v8;
			TUP* v9 = mw_mirth_alias_Alias_qnameZ_hard(in_ZPlusMirth_1, v7, &v8);
			branch_QName_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // Package
			uint64_t v10 = mtp_mirth_def_Def_Package(in_Def_2);
			TUP* v11;
			TUP* v12 = mw_mirth_package_Package_qname(in_ZPlusMirth_1, v10, &v11);
			branch_QName_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 1LL: { // Module
			uint64_t v13 = mtp_mirth_def_Def_Module(in_Def_2);
			TUP* v14;
			TUP* v15 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v13, &v14);
			branch_QName_6 = v15;
			branch_ZPlusMirth_5 = v14;
		} break;
		case 9LL: { // Buffer
			uint64_t v16 = mtp_mirth_def_Def_Buffer(in_Def_2);
			TUP* v17;
			TUP* v18 = mw_mirth_buffer_Buffer_qnameZ_hard(in_ZPlusMirth_1, v16, &v17);
			branch_QName_6 = v18;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 7LL: { // Prim
			int64_t v19 = mtp_mirth_def_Def_Prim(in_Def_2);
			TUP* v20;
			TUP* v21 = mw_mirth_prim_Prim_qname(in_ZPlusMirth_1, v19, &v20);
			branch_QName_6 = v21;
			branch_ZPlusMirth_5 = v20;
		} break;
		case 3LL: { // Data
			uint64_t v22 = mtp_mirth_def_Def_Data(in_Def_2);
			TUP* v23;
			TUP* v24 = mw_mirth_data_Data_qnameZ_hard(in_ZPlusMirth_1, v22, &v23);
			branch_QName_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		case 4LL: { // Table
			uint64_t v25 = mtp_mirth_def_Def_Table(in_Def_2);
			TUP* v26;
			TUP* v27 = mw_mirth_table_Table_qnameZ_hard(in_ZPlusMirth_1, v25, &v26);
			branch_QName_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 5LL: { // Type
			uint64_t v28 = mtp_mirth_def_Def_Type(in_Def_2);
			TUP* v29;
			TUP* v30 = mw_mirth_typedef_TypeDef_qnameZ_hard(in_ZPlusMirth_1, v28, &v29);
			branch_QName_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 10LL: { // External
			uint64_t v31 = mtp_mirth_def_Def_External(in_Def_2);
			TUP* v32;
			TUP* v33 = mw_mirth_external_External_qnameZ_hard(in_ZPlusMirth_1, v31, &v32);
			branch_QName_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		case 8LL: { // Word
			uint64_t v34 = mtp_mirth_def_Def_Word(in_Def_2);
			TUP* v35;
			TUP* v36 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, v34, &v35);
			branch_QName_6 = v36;
			branch_ZPlusMirth_5 = v35;
		} break;
		case 11LL: { // Field
			uint64_t v37 = mtp_mirth_def_Def_Field(in_Def_2);
			TUP* v38;
			TUP* v39 = mw_mirth_table_Field_qnameZ_hard(in_ZPlusMirth_1, v37, &v38);
			branch_QName_6 = v39;
			branch_ZPlusMirth_5 = v38;
		} break;
		case 6LL: { // Tag
			uint64_t v40 = mtp_mirth_def_Def_Tag(in_Def_2);
			TUP* v41;
			TUP* v42 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, v40, &v41);
			branch_QName_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 12LL: { // Macro
			uint64_t v43 = mtp_mirth_def_Def_Macro(in_Def_2);
			TUP* v44;
			TUP* v45 = mw_mirth_macro_Macro_qnameZ_hard(in_ZPlusMirth_1, v43, &v44);
			branch_QName_6 = v45;
			branch_ZPlusMirth_5 = v44;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static VAL mw_mirth_def_Def_asZ_namespaceZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			void* v8 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v7);
			TUP* v9;
			VAL v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v8, &v9);
			TUP* branch_ZPlusMirth_11;
			VAL branch_Maybe_12;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					TUP* v14;
					VAL v15 = mw_mirth_def_Def_asZ_namespaceZAsk(v9, v13, &v14);
					branch_Maybe_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					VAL v16 = MKI64(0LL /* None */);
					branch_Maybe_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // Package
			uint64_t v17 = mtp_mirth_def_Def_Package(in_Def_2);
			VAL v18 = mtw_mirth_name_Namespace_Package(v17);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(v18);
			branch_Maybe_6 = v19;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Module
			uint64_t v20 = mtp_mirth_def_Def_Module(in_Def_2);
			VAL v21 = mtw_mirth_name_Namespace_Module(v20);
			VAL v22 = mtw_std_maybe_Maybe_1_Some(v21);
			branch_Maybe_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Data
			uint64_t v23 = mtp_mirth_def_Def_Data(in_Def_2);
			VAL v24 = mtw_mirth_tycon_Tycon_Data(v23);
			VAL v25 = mtw_mirth_name_Namespace_Tycon(v24);
			VAL v26 = mtw_std_maybe_Maybe_1_Some(v25);
			branch_Maybe_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Table
			uint64_t v27 = mtp_mirth_def_Def_Table(in_Def_2);
			VAL v28 = mtw_mirth_tycon_Tycon_Table(v27);
			VAL v29 = mtw_mirth_name_Namespace_Tycon(v28);
			VAL v30 = mtw_std_maybe_Maybe_1_Some(v29);
			branch_Maybe_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Type
			uint64_t v31 = mtp_mirth_def_Def_Type(in_Def_2);
			TUP* v32;
			VAL v33 = mw_mirth_typedef_TypeDef_target(in_ZPlusMirth_1, v31, &v32);
			TUP* v34;
			VAL v35 = mw_mirth_type_Type_tyconZAsk(v32, v33, &v34);
			VAL branch_Maybe_36;
			switch (get_data_tag(v35)) {
				case 1LL: { // Some
					VAL v37 = mtp_std_maybe_Maybe_1_Some(v35);
					VAL v38 = mtw_mirth_name_Namespace_Tycon(v37);
					VAL v39 = mtw_std_maybe_Maybe_1_Some(v38);
					branch_Maybe_36 = v39;
				} break;
				case 0LL: { // None
					VAL v40 = MKI64(0LL /* None */);
					branch_Maybe_36 = v40;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_36;
			branch_ZPlusMirth_5 = v34;
		} break;
		case 8LL: { // Word
			uint64_t v41 = mtp_mirth_def_Def_Word(in_Def_2);
			VAL v42 = mtw_mirth_name_Namespace_Word(v41);
			VAL v43 = mtw_std_maybe_Maybe_1_Some(v42);
			branch_Maybe_6 = v43;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			decref(in_Def_2);
			VAL v44 = MKI64(0LL /* None */);
			branch_Maybe_6 = v44;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_def_Def_asZ_defZ_namespaceZAsk (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // Alias
			uint64_t v7 = mtp_mirth_def_Def_Alias(in_Def_2);
			void* v8 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v7);
			TUP* v9;
			VAL v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, v8, &v9);
			TUP* v11;
			VAL v12 = mw_std_maybe_Maybe_1_bind_1_sp13(v9, v10, &v11);
			branch_Maybe_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 8LL: { // Word
			uint64_t v13 = mtp_mirth_def_Def_Word(in_Def_2);
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			TUP* v15;
			VAL v16 = mw_mirth_def_Def_asZ_namespaceZAsk(in_ZPlusMirth_1, in_Def_2, &v15);
			branch_Maybe_6 = v16;
			branch_ZPlusMirth_5 = v15;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static void mw_mirth_def_Def_register (TUP* in_ZPlusMirth_1, VAL in_Def_2, TUP* *out_ZPlusMirth_3) {
	incref(in_Def_2);
	TUP* v4;
	VAL v5 = mw_mirth_def_Def_qnameZ_soft(in_ZPlusMirth_1, in_Def_2, &v4);
	TUP* branch_ZPlusMirth_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v7);
			TUP* v8;
			bool v9 = mw_mirth_name_QName_undefinedZ_softZAsk(v4, value_tup(v7, 3), &v8);
			TUP* branch_ZPlusMirth_10;
			TUP* branch_QName_11;
			if (v9) {
				branch_QName_11 = value_tup(v7, 3);
				branch_ZPlusMirth_10 = v8;
			} else {
				STR* v12;
				STRLIT(v12, "", 0);
				STR* v13;
				STRLIT(v13, "Already defined: ", 17);
				STR* v14;
				mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
				TUP* v15;
				STR* v16;
				mw_mirth_name_QName_qnameZThen(v8, v14, value_tup(v7, 3), &v15, &v16);
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v15, v16);
			}
			decref(MKTUP(branch_QName_11, 3));
			branch_ZPlusMirth_6 = branch_ZPlusMirth_10;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_6 = v4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(in_Def_2);
	TUP* v19;
	uint64_t v20 = mw_mirth_def_Def_name(branch_ZPlusMirth_6, in_Def_2, &v19);
	void* v21 = field_mut(&mfld_mirth_name_Name_ZTildedefs, v20);
	VAL v22 = mut_get(v21);
	VAL v23 = mw_std_list_List_1_cons(in_Def_2, v22);
	mut_set(v23, v21);
	*out_ZPlusMirth_3 = v19;
}
static void mw_mirth_def_Def_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Def_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_name_QName_qnameZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static uint64_t mw_mirth_name_Name_allocZBang (void) {
	void* v2 = mbuf_mirth_name_Name_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_name_Name_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_name_Name_index (uint64_t in_Name_1) {
	return in_Name_1;
}
static uint64_t mw_mirth_name_Name_fromZ_index (uint64_t in_U64_1) {
	void* v3 = mbuf_mirth_name_Name_NumBuffer;
	uint64_t v4 = *(uint64_t*)v3;
	bool v5 = (in_U64_1 <= v4);
	uint64_t branch_U64_6;
	if (v5) {
		branch_U64_6 = in_U64_1;
	} else {
		uint64_t v7 = 0ULL;
		branch_U64_6 = v7;
	}
	return branch_U64_6;
}
static STR* mw_mirth_name_Name_ZToStr (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_name_Name_ZTildeStr, in_Name_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_str(v6);
}
static void mw_mirth_name_Name_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	STR* v7 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, in_Name_3, &v6);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, in_ZPlusStr_2, &v8);
	*out_ZPlusStr_5 = v8;
	*out_ZPlusMirth_4 = v6;
}
static VAL mw_mirth_name_Name_defs (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_name_Name_ZTildedefs, in_Name_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static STR* mw_mirth_name_Name_mangled (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_name_Name_ZTildemangled, in_Name_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Name_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Name_8 = in_Name_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		STR* v12 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, in_Name_2, &v11);
		STR* v13 = mw_std_prim_Str_zzencode(v12);
		incref(MKSTR(v13));
		mut_set(MKSTR(v13), v5);
		branch_Str_9 = v13;
		branch_Name_8 = in_Name_2;
		branch_ZPlusMirth_7 = v11;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static void mw_mirth_name_Name_mangledZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Name_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	STR* v7 = mw_mirth_name_Name_mangled(in_ZPlusMirth_1, in_Name_3, &v6);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, in_ZPlusStr_2, &v8);
	*out_ZPlusStr_5 = v8;
	*out_ZPlusMirth_4 = v6;
}
static bool mw_mirth_name_Name_ZEqual (uint64_t in_Name_1, uint64_t in_Name_2) {
	uint64_t v4 = mw_mirth_name_Name_index(in_Name_1);
	uint64_t v5 = mw_mirth_name_Name_index(in_Name_2);
	bool v6 = (v4 == v5);
	return v6;
}
static void mw_mirth_name_ZPlusNameHashMap_new (TUP* *out_ZPlusNameHashMap_1) {
	INT v2 = WRAP_I63(524288LL);
	TUP* v3;
	mw_std_buffer_ZPlusBuffer_new(v2, &v3);
	*out_ZPlusNameHashMap_1 = v3;
}
static void mw_mirth_name_ZPlusNameHashMap_rdrop (TUP* in_ZPlusNameHashMap_1) {
	mw_std_buffer_ZPlusBuffer_rdrop(in_ZPlusNameHashMap_1);
}
static INT mw_mirth_name_ZPlusNameHashMap_nameZ_idZAt (TUP* in_ZPlusNameHashMap_1, uint64_t in_Hash_2, TUP* *out_ZPlusNameHashMap_3) {
	INT v5 = mw_mirth_name_Hash_nameZ_index(in_Hash_2);
	int64_t v6 = 0;
	TUP* v7;
	int64_t v8 = mw_std_buffer_ZPlusBuffer_ZAtI64(v5, in_ZPlusNameHashMap_1, &v7);
	INT v9 = i64_to_int(v8);
	*out_ZPlusNameHashMap_3 = v7;
	return v9;
}
static void mw_mirth_name_ZPlusNameHashMap_nameZ_idZBang (TUP* in_ZPlusNameHashMap_1, int64_t in_I64_2, uint64_t in_Hash_3, TUP* *out_ZPlusNameHashMap_4) {
	INT v5 = mw_mirth_name_Hash_nameZ_index(in_Hash_3);
	int64_t v6 = 0;
	TUP* v7;
	mw_std_buffer_ZPlusBuffer_ZBangI64(in_I64_2, v5, in_ZPlusNameHashMap_1, &v7);
	*out_ZPlusNameHashMap_4 = v7;
}
static uint64_t mw_mirth_name_Hash_next (uint64_t in_Hash_1) {
	uint64_t v3 = 1ULL;
	uint64_t v4 = (in_Hash_1 + v3);
	return v4;
}
static INT mw_mirth_name_Hash_nameZ_index (uint64_t in_Hash_1) {
	uint16_t v3 = (uint16_t)(in_Hash_1);
	uint64_t v4 = (uint64_t)(v3);
	INT v5 = u64_to_int(v4);
	return v5;
}
static VAL mw_mirth_name_Hash_nameZAt (TUP* in_ZPlusMirth_1, uint64_t in_Hash_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5 = value_tup(in_ZPlusMirth_1->cells[9], 2);
	TUP* v6;
	INT v7 = mw_mirth_name_ZPlusNameHashMap_nameZ_idZAt(v5, in_Hash_2, &v6);
	in_ZPlusMirth_1->cells[9] = MKTUP(v6, 2);
	incref(MKINT(v7));
	INT v8 = WRAP_I63(0LL);
	bool v9 = int_eq(v7, v8);
	TUP* branch_ZPlusMirth_10;
	VAL branch_Maybe_11;
	if (v9) {
		decref(MKINT(v7));
		VAL v12 = MKI64(0LL /* None */);
		branch_Maybe_11 = v12;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
	} else {
		INT v13 = WRAP_I63(0LL);
		INT v14 = WRAP_I63(-1LL);
		uint64_t v15 = int_to_u64(v14);
		INT v16 = u64_to_int(v15);
		incref(MKINT(v7));
		incref(MKINT(v13));
		bool v17 = int_lt(v7, v13);
		INT branch_Int_18;
		if (v17) {
			decref(MKINT(v7));
			branch_Int_18 = v13;
		} else {
			decref(MKINT(v13));
			branch_Int_18 = v7;
		}
		incref(MKINT(branch_Int_18));
		incref(MKINT(v16));
		bool v19 = int_lt(v16, branch_Int_18);
		INT branch_Int_20;
		if (v19) {
			decref(MKINT(branch_Int_18));
			branch_Int_20 = v16;
		} else {
			decref(MKINT(v16));
			branch_Int_20 = branch_Int_18;
		}
		uint64_t v21 = int_to_u64(branch_Int_20);
		uint64_t v22 = mw_mirth_name_Name_fromZ_index(v21);
		VAL v23 = mtw_std_maybe_Maybe_1_Some(MKU64(v22));
		branch_Maybe_11 = v23;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_Maybe_11;
}
static void mw_mirth_name_Hash_nameZBang (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, uint64_t in_Hash_3, TUP* *out_ZPlusMirth_4) {
	uint64_t v5 = mw_mirth_name_Name_index(in_Name_2);
	INT v6 = u64_to_int(v5);
	int64_t v7 = INT64_MIN;
	int64_t v8 = 9223372036854775807LL;
	INT v9 = i64_to_int(v7);
	INT v10 = i64_to_int(v8);
	incref(MKINT(v6));
	incref(MKINT(v9));
	bool v11 = int_lt(v6, v9);
	INT branch_Int_12;
	if (v11) {
		decref(MKINT(v6));
		branch_Int_12 = v9;
	} else {
		decref(MKINT(v9));
		branch_Int_12 = v6;
	}
	incref(MKINT(branch_Int_12));
	incref(MKINT(v10));
	bool v13 = int_lt(v10, branch_Int_12);
	INT branch_Int_14;
	if (v13) {
		decref(MKINT(branch_Int_12));
		branch_Int_14 = v10;
	} else {
		decref(MKINT(v10));
		branch_Int_14 = branch_Int_12;
	}
	int64_t v15 = int_to_i64(branch_Int_14);
	TUP* v16 = value_tup(in_ZPlusMirth_1->cells[9], 2);
	TUP* v17;
	mw_mirth_name_ZPlusNameHashMap_nameZ_idZBang(v16, v15, in_Hash_3, &v17);
	in_ZPlusMirth_1->cells[9] = MKTUP(v17, 2);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static STR* mw_mirth_name_Hash_keepZ_goingZAsk (TUP* in_ZPlusMirth_1, STR* in_Str_2, uint64_t in_Hash_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Hash_6, bool *out_Bool_7) {
	TUP* v8;
	VAL v9 = mw_mirth_name_Hash_nameZAt(in_ZPlusMirth_1, in_Hash_3, &v8);
	TUP* branch_ZPlusMirth_10;
	STR* branch_Str_11;
	VAL branch_z_x1_12;
	bool branch_Bool_13;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v9);
			TUP* v15;
			STR* v16 = mw_mirth_name_Name_ZToStr(v8, value_u64(v14), &v15);
			incref(MKSTR(in_Str_2));
			bool v17 = (str_cmp(v16, in_Str_2) == 0);
			bool v18 = !v17;
			branch_Bool_13 = v18;
			branch_z_x1_12 = MKU64(in_Hash_3);
			branch_Str_11 = in_Str_2;
			branch_ZPlusMirth_10 = v15;
		} break;
		case 0LL: { // None
			bool v19 = false;
			branch_Bool_13 = v19;
			branch_z_x1_12 = MKU64(in_Hash_3);
			branch_Str_11 = in_Str_2;
			branch_ZPlusMirth_10 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Bool_7 = branch_Bool_13;
	*out_Hash_6 = value_u64(branch_z_x1_12);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Str_11;
}
static uint64_t mw_std_prim_Str_hash (STR* in_Str_1) {
	uint64_t v3 = 0ULL;
	incref(MKSTR(in_Str_1));
	incref(MKSTR(in_Str_1));
	void* v4 = str_base(in_Str_1);
	uint64_t v5 = str_size(in_Str_1);
	INT v6 = u64_to_int(v5);
	incref(MKINT(v6));
	INT v7 = WRAP_I63(0LL);
	bool v8 = int_le(v7, v6);
	INT branch_Nat_9;
	if (v8) {
		branch_Nat_9 = v6;
	} else {
		decref(MKINT(v6));
		INT v10 = WRAP_I63(0LL);
		branch_Nat_9 = v10;
	}
	incref(MKINT(branch_Nat_9));
	INT v11 = WRAP_I63(0LL);
	bool v12 = int_lt(v11, branch_Nat_9);
	uint64_t v13 = v3;
	void* v14 = v4;
	INT v15 = branch_Nat_9;
	bool v16 = v12;
	while (v16) {
		uint64_t v17 = v13;
		void* v18 = v14;
		INT v19 = v15;
		int64_t v20 = mw_std_prelude_unsafe_1_sp12(v18);
		INT v21 = i64_to_int(v20);
		uint64_t v22 = int_to_u64(v21);
		uint64_t v23 = 17592723177729ULL;
		uint64_t v24 = (v22 * v23);
		uint64_t v25 = 7ULL;
		uint64_t v26 = u64_shl(v17, v25);
		uint64_t v27 = (v24 ^ v26);
		uint64_t v28 = 29ULL;
		uint64_t v29 = u64_shr(v17, v28);
		uint64_t v30 = (v27 ^ v29);
		INT v31 = WRAP_I63(1LL);
		void* v32 = mw_std_prelude_unsafe_1_sp5(v31, v18);
		INT v33 = WRAP_I63(1LL);
		INT v34 = int_sub(v19, v33);
		incref(MKINT(v34));
		INT v35 = WRAP_I63(0LL);
		bool v36 = int_le(v35, v34);
		INT branch_Nat_37;
		if (v36) {
			branch_Nat_37 = v34;
		} else {
			decref(MKINT(v34));
			INT v38 = WRAP_I63(0LL);
			branch_Nat_37 = v38;
		}
		incref(MKINT(branch_Nat_37));
		INT v39 = WRAP_I63(0LL);
		bool v40 = int_lt(v39, branch_Nat_37);
		v16 = v40;
		v15 = branch_Nat_37;
		v14 = v32;
		v13 = v30;
	}
	decref(MKINT(v15));
	decref(MKSTR(in_Str_1));
	return v13;
}
static uint64_t mw_std_prim_Str_ZToName (TUP* in_ZPlusMirth_1, STR* in_Str_2, TUP* *out_ZPlusMirth_3) {
	incref(MKSTR(in_Str_2));
	uint64_t v5 = mw_std_prim_Str_hash(in_Str_2);
	TUP* v6;
	uint64_t v7;
	bool v8;
	STR* v9 = mw_mirth_name_Hash_keepZ_goingZAsk(in_ZPlusMirth_1, in_Str_2, v5, &v6, &v7, &v8);
	TUP* v10 = v6;
	STR* v11 = v9;
	uint64_t v12 = v7;
	bool v13 = v8;
	while (v13) {
		TUP* v14 = v10;
		STR* v15 = v11;
		uint64_t v16 = v12;
		uint64_t v17 = mw_mirth_name_Hash_next(v16);
		TUP* v18;
		uint64_t v19;
		bool v20;
		STR* v21 = mw_mirth_name_Hash_keepZ_goingZAsk(v14, v15, v17, &v18, &v19, &v20);
		v13 = v20;
		v12 = v19;
		v11 = v21;
		v10 = v18;
	}
	TUP* v22;
	VAL v23 = mw_mirth_name_Hash_nameZAt(v10, v12, &v22);
	TUP* branch_ZPlusMirth_24;
	uint64_t branch_Name_25;
	switch (get_data_tag(v23)) {
		case 1LL: { // Some
			VAL v26 = mtp_std_maybe_Maybe_1_Some(v23);
			decref(MKSTR(v11));
			branch_Name_25 = value_u64(v26);
			branch_ZPlusMirth_24 = v22;
		} break;
		case 0LL: { // None
			uint64_t v27 = mw_mirth_name_Name_allocZBang();
			TUP* v28;
			mw_mirth_name_Hash_nameZBang(v22, v27, v12, &v28);
			void* v29 = field_mut(&mfld_mirth_name_Name_ZTildeStr, v27);
			mut_set(MKSTR(v11), v29);
			VAL v30 = MKI64(0LL /* Nil */);
			void* v31 = field_mut(&mfld_mirth_name_Name_ZTildedefs, v27);
			mut_set(v30, v31);
			branch_Name_25 = v27;
			branch_ZPlusMirth_24 = v28;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_24;
	return branch_Name_25;
}
static int64_t mw_mirth_name_Name_head (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	STR* v6 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, in_Name_2, &v5);
	INT v7 = WRAP_I63(0LL);
	int64_t v8 = mw_std_prim_Str_byteZAt(v7, v6);
	*out_ZPlusMirth_3 = v5;
	return v8;
}
static int64_t mw_mirth_name_Name_tailZ_head (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	STR* v6 = mw_mirth_name_Name_ZToStr(in_ZPlusMirth_1, in_Name_2, &v5);
	INT v7 = WRAP_I63(1LL);
	int64_t v8 = mw_std_prim_Str_byteZAt(v7, v6);
	*out_ZPlusMirth_3 = v5;
	return v8;
}
static bool mw_mirth_name_Name_canZ_beZ_relativeZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 65LL /* B'A' */;
	int64_t v8 = 90LL /* B'Z' */;
	INT v9 = i64_to_int(v7);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	INT v12 = i64_to_int(v6);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v11);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint64_t v20 = (uint64_t)(v16);
	bool v21 = (v19 <= v20);
	bool branch_Bool_22;
	if (v21) {
		INT v23 = i64_to_int(v6);
		uint64_t v24 = int_to_u64(v23);
		uint8_t v25 = (uint8_t)(v24);
		INT v26 = i64_to_int(v8);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(v25);
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (v33 <= v34);
		branch_Bool_22 = v35;
	} else {
		bool v36 = false;
		branch_Bool_22 = v36;
	}
	bool v37 = !branch_Bool_22;
	*out_ZPlusMirth_3 = v5;
	return v37;
}
static bool mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	INT v9 = i64_to_int(v7);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	INT v12 = i64_to_int(v6);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v11);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint64_t v20 = (uint64_t)(v16);
	bool v21 = (v19 <= v20);
	bool branch_Bool_22;
	if (v21) {
		INT v23 = i64_to_int(v6);
		uint64_t v24 = int_to_u64(v23);
		uint8_t v25 = (uint8_t)(v24);
		INT v26 = i64_to_int(v8);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(v25);
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (v33 <= v34);
		branch_Bool_22 = v35;
	} else {
		bool v36 = false;
		branch_Bool_22 = v36;
	}
	TUP* branch_ZPlusMirth_37;
	uint64_t branch_Name_38;
	bool branch_Bool_39;
	if (branch_Bool_22) {
		bool v40 = true;
		branch_Bool_39 = v40;
		branch_Name_38 = in_Name_2;
		branch_ZPlusMirth_37 = v5;
	} else {
		TUP* v41;
		int64_t v42 = mw_mirth_name_Name_head(v5, in_Name_2, &v41);
		int64_t v43 = 43LL /* B'+' */;
		INT v44 = i64_to_int(v42);
		uint64_t v45 = int_to_u64(v44);
		uint8_t v46 = (uint8_t)(v45);
		INT v47 = i64_to_int(v43);
		uint64_t v48 = int_to_u64(v47);
		uint8_t v49 = (uint8_t)(v48);
		uint64_t v50 = (uint64_t)(v49);
		uint32_t v51 = (uint32_t)(v50);
		uint64_t v52 = (uint64_t)(v46);
		uint32_t v53 = (uint32_t)(v52);
		uint64_t v54 = (uint64_t)(v53);
		uint64_t v55 = (uint64_t)(v51);
		bool v56 = (v54 == v55);
		uint64_t branch_Name_57;
		TUP* branch_ZPlusMirth_58;
		bool branch_Bool_59;
		if (v56) {
			TUP* v60;
			int64_t v61 = mw_mirth_name_Name_tailZ_head(v41, in_Name_2, &v60);
			int64_t v62 = 97LL /* B'a' */;
			int64_t v63 = 122LL /* B'z' */;
			INT v64 = i64_to_int(v62);
			uint64_t v65 = int_to_u64(v64);
			uint8_t v66 = (uint8_t)(v65);
			INT v67 = i64_to_int(v61);
			uint64_t v68 = int_to_u64(v67);
			uint8_t v69 = (uint8_t)(v68);
			uint64_t v70 = (uint64_t)(v69);
			uint32_t v71 = (uint32_t)(v70);
			uint64_t v72 = (uint64_t)(v66);
			uint32_t v73 = (uint32_t)(v72);
			uint64_t v74 = (uint64_t)(v73);
			uint64_t v75 = (uint64_t)(v71);
			bool v76 = (v74 <= v75);
			bool branch_Bool_77;
			if (v76) {
				INT v78 = i64_to_int(v61);
				uint64_t v79 = int_to_u64(v78);
				uint8_t v80 = (uint8_t)(v79);
				INT v81 = i64_to_int(v63);
				uint64_t v82 = int_to_u64(v81);
				uint8_t v83 = (uint8_t)(v82);
				uint64_t v84 = (uint64_t)(v83);
				uint32_t v85 = (uint32_t)(v84);
				uint64_t v86 = (uint64_t)(v80);
				uint32_t v87 = (uint32_t)(v86);
				uint64_t v88 = (uint64_t)(v87);
				uint64_t v89 = (uint64_t)(v85);
				bool v90 = (v88 <= v89);
				branch_Bool_77 = v90;
			} else {
				bool v91 = false;
				branch_Bool_77 = v91;
			}
			branch_Bool_59 = branch_Bool_77;
			branch_ZPlusMirth_58 = v60;
			branch_Name_57 = in_Name_2;
		} else {
			bool v92 = false;
			branch_Bool_59 = v92;
			branch_ZPlusMirth_58 = v41;
			branch_Name_57 = in_Name_2;
		}
		branch_Bool_39 = branch_Bool_59;
		branch_Name_38 = branch_Name_57;
		branch_ZPlusMirth_37 = branch_ZPlusMirth_58;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_37;
	return branch_Bool_39;
}
static bool mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	INT v9 = i64_to_int(v7);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	INT v12 = i64_to_int(v6);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v11);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint64_t v20 = (uint64_t)(v16);
	bool v21 = (v19 <= v20);
	bool branch_Bool_22;
	if (v21) {
		INT v23 = i64_to_int(v6);
		uint64_t v24 = int_to_u64(v23);
		uint8_t v25 = (uint8_t)(v24);
		INT v26 = i64_to_int(v8);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(v25);
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (v33 <= v34);
		branch_Bool_22 = v35;
	} else {
		bool v36 = false;
		branch_Bool_22 = v36;
	}
	*out_ZPlusMirth_3 = v5;
	return branch_Bool_22;
}
static bool mw_mirth_name_Name_couldZ_beZ_typeZ_var (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	INT v9 = i64_to_int(v7);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	INT v12 = i64_to_int(v6);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v11);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint64_t v20 = (uint64_t)(v16);
	bool v21 = (v19 <= v20);
	bool branch_Bool_22;
	if (v21) {
		INT v23 = i64_to_int(v6);
		uint64_t v24 = int_to_u64(v23);
		uint8_t v25 = (uint8_t)(v24);
		INT v26 = i64_to_int(v8);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(v25);
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (v33 <= v34);
		branch_Bool_22 = v35;
	} else {
		bool v36 = false;
		branch_Bool_22 = v36;
	}
	*out_ZPlusMirth_3 = v5;
	return branch_Bool_22;
}
static bool mw_mirth_name_Name_couldZ_beZ_typeZ_con (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 65LL /* B'A' */;
	int64_t v8 = 90LL /* B'Z' */;
	INT v9 = i64_to_int(v7);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	INT v12 = i64_to_int(v6);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v11);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint64_t v20 = (uint64_t)(v16);
	bool v21 = (v19 <= v20);
	bool branch_Bool_22;
	if (v21) {
		INT v23 = i64_to_int(v6);
		uint64_t v24 = int_to_u64(v23);
		uint8_t v25 = (uint8_t)(v24);
		INT v26 = i64_to_int(v8);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(v25);
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (v33 <= v34);
		branch_Bool_22 = v35;
	} else {
		bool v36 = false;
		branch_Bool_22 = v36;
	}
	*out_ZPlusMirth_3 = v5;
	return branch_Bool_22;
}
static bool mw_mirth_name_Name_isZ_typeZ_hole (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 63LL /* B'?' */;
	INT v8 = i64_to_int(v6);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	INT v11 = i64_to_int(v7);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	uint64_t v14 = (uint64_t)(v13);
	uint32_t v15 = (uint32_t)(v14);
	uint64_t v16 = (uint64_t)(v10);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(v17);
	uint64_t v19 = (uint64_t)(v15);
	bool v20 = (v18 == v19);
	TUP* v21;
	int64_t v22 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v21);
	int64_t v23 = 0LL /* BNUL */;
	INT v24 = i64_to_int(v22);
	uint64_t v25 = int_to_u64(v24);
	uint8_t v26 = (uint8_t)(v25);
	INT v27 = i64_to_int(v23);
	uint64_t v28 = int_to_u64(v27);
	uint8_t v29 = (uint8_t)(v28);
	uint64_t v30 = (uint64_t)(v29);
	uint32_t v31 = (uint32_t)(v30);
	uint64_t v32 = (uint64_t)(v26);
	uint32_t v33 = (uint32_t)(v32);
	uint64_t v34 = (uint64_t)(v33);
	uint64_t v35 = (uint64_t)(v31);
	bool v36 = (v34 == v35);
	int64_t v37 = 97LL /* B'a' */;
	int64_t v38 = 122LL /* B'z' */;
	INT v39 = i64_to_int(v37);
	uint64_t v40 = int_to_u64(v39);
	uint8_t v41 = (uint8_t)(v40);
	INT v42 = i64_to_int(v22);
	uint64_t v43 = int_to_u64(v42);
	uint8_t v44 = (uint8_t)(v43);
	uint64_t v45 = (uint64_t)(v44);
	uint32_t v46 = (uint32_t)(v45);
	uint64_t v47 = (uint64_t)(v41);
	uint32_t v48 = (uint32_t)(v47);
	uint64_t v49 = (uint64_t)(v48);
	uint64_t v50 = (uint64_t)(v46);
	bool v51 = (v49 <= v50);
	bool branch_Bool_52;
	if (v51) {
		INT v53 = i64_to_int(v22);
		uint64_t v54 = int_to_u64(v53);
		uint8_t v55 = (uint8_t)(v54);
		INT v56 = i64_to_int(v38);
		uint64_t v57 = int_to_u64(v56);
		uint8_t v58 = (uint8_t)(v57);
		uint64_t v59 = (uint64_t)(v58);
		uint32_t v60 = (uint32_t)(v59);
		uint64_t v61 = (uint64_t)(v55);
		uint32_t v62 = (uint32_t)(v61);
		uint64_t v63 = (uint64_t)(v62);
		uint64_t v64 = (uint64_t)(v60);
		bool v65 = (v63 <= v64);
		branch_Bool_52 = v65;
	} else {
		bool v66 = false;
		branch_Bool_52 = v66;
	}
	bool v67 = (v36 || branch_Bool_52);
	bool v68 = (v20 && v67);
	*out_ZPlusMirth_3 = v21;
	return v68;
}
static bool mw_mirth_name_Name_isZ_underscore (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 95LL /* B'_' */;
	INT v8 = i64_to_int(v6);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	INT v11 = i64_to_int(v7);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	uint64_t v14 = (uint64_t)(v13);
	uint32_t v15 = (uint32_t)(v14);
	uint64_t v16 = (uint64_t)(v10);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(v17);
	uint64_t v19 = (uint64_t)(v15);
	bool v20 = (v18 == v19);
	TUP* v21;
	int64_t v22 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v21);
	int64_t v23 = 0LL /* BNUL */;
	INT v24 = i64_to_int(v22);
	uint64_t v25 = int_to_u64(v24);
	uint8_t v26 = (uint8_t)(v25);
	INT v27 = i64_to_int(v23);
	uint64_t v28 = int_to_u64(v27);
	uint8_t v29 = (uint8_t)(v28);
	uint64_t v30 = (uint64_t)(v29);
	uint32_t v31 = (uint32_t)(v30);
	uint64_t v32 = (uint64_t)(v26);
	uint32_t v33 = (uint32_t)(v32);
	uint64_t v34 = (uint64_t)(v33);
	uint64_t v35 = (uint64_t)(v31);
	bool v36 = (v34 == v35);
	bool v37 = (v20 && v36);
	*out_ZPlusMirth_3 = v21;
	return v37;
}
static bool mw_mirth_name_Name_couldZ_beZ_stackZ_var (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 42LL /* B'*' */;
	INT v8 = i64_to_int(v6);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	INT v11 = i64_to_int(v7);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	uint64_t v14 = (uint64_t)(v13);
	uint32_t v15 = (uint32_t)(v14);
	uint64_t v16 = (uint64_t)(v10);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(v17);
	uint64_t v19 = (uint64_t)(v15);
	bool v20 = (v18 == v19);
	TUP* v21;
	int64_t v22 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v21);
	int64_t v23 = 97LL /* B'a' */;
	int64_t v24 = 122LL /* B'z' */;
	INT v25 = i64_to_int(v23);
	uint64_t v26 = int_to_u64(v25);
	uint8_t v27 = (uint8_t)(v26);
	INT v28 = i64_to_int(v22);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	uint32_t v32 = (uint32_t)(v31);
	uint64_t v33 = (uint64_t)(v27);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint64_t v36 = (uint64_t)(v32);
	bool v37 = (v35 <= v36);
	bool branch_Bool_38;
	if (v37) {
		INT v39 = i64_to_int(v22);
		uint64_t v40 = int_to_u64(v39);
		uint8_t v41 = (uint8_t)(v40);
		INT v42 = i64_to_int(v24);
		uint64_t v43 = int_to_u64(v42);
		uint8_t v44 = (uint8_t)(v43);
		uint64_t v45 = (uint64_t)(v44);
		uint32_t v46 = (uint32_t)(v45);
		uint64_t v47 = (uint64_t)(v41);
		uint32_t v48 = (uint32_t)(v47);
		uint64_t v49 = (uint64_t)(v48);
		uint64_t v50 = (uint64_t)(v46);
		bool v51 = (v49 <= v50);
		branch_Bool_38 = v51;
	} else {
		bool v52 = false;
		branch_Bool_38 = v52;
	}
	bool v53 = (v20 && branch_Bool_38);
	*out_ZPlusMirth_3 = v21;
	return v53;
}
static bool mw_mirth_name_Name_couldZ_beZ_resourceZ_var (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 43LL /* B'+' */;
	INT v8 = i64_to_int(v6);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	INT v11 = i64_to_int(v7);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	uint64_t v14 = (uint64_t)(v13);
	uint32_t v15 = (uint32_t)(v14);
	uint64_t v16 = (uint64_t)(v10);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(v17);
	uint64_t v19 = (uint64_t)(v15);
	bool v20 = (v18 == v19);
	TUP* v21;
	int64_t v22 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v21);
	int64_t v23 = 97LL /* B'a' */;
	int64_t v24 = 122LL /* B'z' */;
	INT v25 = i64_to_int(v23);
	uint64_t v26 = int_to_u64(v25);
	uint8_t v27 = (uint8_t)(v26);
	INT v28 = i64_to_int(v22);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	uint32_t v32 = (uint32_t)(v31);
	uint64_t v33 = (uint64_t)(v27);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint64_t v36 = (uint64_t)(v32);
	bool v37 = (v35 <= v36);
	bool branch_Bool_38;
	if (v37) {
		INT v39 = i64_to_int(v22);
		uint64_t v40 = int_to_u64(v39);
		uint8_t v41 = (uint8_t)(v40);
		INT v42 = i64_to_int(v24);
		uint64_t v43 = int_to_u64(v42);
		uint8_t v44 = (uint8_t)(v43);
		uint64_t v45 = (uint64_t)(v44);
		uint32_t v46 = (uint32_t)(v45);
		uint64_t v47 = (uint64_t)(v41);
		uint32_t v48 = (uint32_t)(v47);
		uint64_t v49 = (uint64_t)(v48);
		uint64_t v50 = (uint64_t)(v46);
		bool v51 = (v49 <= v50);
		branch_Bool_38 = v51;
	} else {
		bool v52 = false;
		branch_Bool_38 = v52;
	}
	bool v53 = (v20 && branch_Bool_38);
	*out_ZPlusMirth_3 = v21;
	return v53;
}
static bool mw_mirth_name_Name_couldZ_beZ_resourceZ_con (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 43LL /* B'+' */;
	INT v8 = i64_to_int(v6);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	INT v11 = i64_to_int(v7);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	uint64_t v14 = (uint64_t)(v13);
	uint32_t v15 = (uint32_t)(v14);
	uint64_t v16 = (uint64_t)(v10);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(v17);
	uint64_t v19 = (uint64_t)(v15);
	bool v20 = (v18 == v19);
	TUP* v21;
	int64_t v22 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v21);
	int64_t v23 = 65LL /* B'A' */;
	int64_t v24 = 90LL /* B'Z' */;
	INT v25 = i64_to_int(v23);
	uint64_t v26 = int_to_u64(v25);
	uint8_t v27 = (uint8_t)(v26);
	INT v28 = i64_to_int(v22);
	uint64_t v29 = int_to_u64(v28);
	uint8_t v30 = (uint8_t)(v29);
	uint64_t v31 = (uint64_t)(v30);
	uint32_t v32 = (uint32_t)(v31);
	uint64_t v33 = (uint64_t)(v27);
	uint32_t v34 = (uint32_t)(v33);
	uint64_t v35 = (uint64_t)(v34);
	uint64_t v36 = (uint64_t)(v32);
	bool v37 = (v35 <= v36);
	bool branch_Bool_38;
	if (v37) {
		INT v39 = i64_to_int(v22);
		uint64_t v40 = int_to_u64(v39);
		uint8_t v41 = (uint8_t)(v40);
		INT v42 = i64_to_int(v24);
		uint64_t v43 = int_to_u64(v42);
		uint8_t v44 = (uint8_t)(v43);
		uint64_t v45 = (uint64_t)(v44);
		uint32_t v46 = (uint32_t)(v45);
		uint64_t v47 = (uint64_t)(v41);
		uint32_t v48 = (uint32_t)(v47);
		uint64_t v49 = (uint64_t)(v48);
		uint64_t v50 = (uint64_t)(v46);
		bool v51 = (v49 <= v50);
		branch_Bool_38 = v51;
	} else {
		bool v52 = false;
		branch_Bool_38 = v52;
	}
	bool v53 = (v20 && branch_Bool_38);
	*out_ZPlusMirth_3 = v21;
	return v53;
}
static bool mw_mirth_name_Name_couldZ_beZ_rawZ_fieldZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 126LL /* B'~' */;
	INT v8 = i64_to_int(v6);
	uint64_t v9 = int_to_u64(v8);
	uint8_t v10 = (uint8_t)(v9);
	INT v11 = i64_to_int(v7);
	uint64_t v12 = int_to_u64(v11);
	uint8_t v13 = (uint8_t)(v12);
	uint64_t v14 = (uint64_t)(v13);
	uint32_t v15 = (uint32_t)(v14);
	uint64_t v16 = (uint64_t)(v10);
	uint32_t v17 = (uint32_t)(v16);
	uint64_t v18 = (uint64_t)(v17);
	uint64_t v19 = (uint64_t)(v15);
	bool v20 = (v18 == v19);
	*out_ZPlusMirth_3 = v5;
	return v20;
}
static bool mw_mirth_name_Name_couldZ_beZ_fieldZ_nameZAsk (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	INT v9 = i64_to_int(v7);
	uint64_t v10 = int_to_u64(v9);
	uint8_t v11 = (uint8_t)(v10);
	INT v12 = i64_to_int(v6);
	uint64_t v13 = int_to_u64(v12);
	uint8_t v14 = (uint8_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	uint32_t v16 = (uint32_t)(v15);
	uint64_t v17 = (uint64_t)(v11);
	uint32_t v18 = (uint32_t)(v17);
	uint64_t v19 = (uint64_t)(v18);
	uint64_t v20 = (uint64_t)(v16);
	bool v21 = (v19 <= v20);
	bool branch_Bool_22;
	if (v21) {
		INT v23 = i64_to_int(v6);
		uint64_t v24 = int_to_u64(v23);
		uint8_t v25 = (uint8_t)(v24);
		INT v26 = i64_to_int(v8);
		uint64_t v27 = int_to_u64(v26);
		uint8_t v28 = (uint8_t)(v27);
		uint64_t v29 = (uint64_t)(v28);
		uint32_t v30 = (uint32_t)(v29);
		uint64_t v31 = (uint64_t)(v25);
		uint32_t v32 = (uint32_t)(v31);
		uint64_t v33 = (uint64_t)(v32);
		uint64_t v34 = (uint64_t)(v30);
		bool v35 = (v33 <= v34);
		branch_Bool_22 = v35;
	} else {
		bool v36 = false;
		branch_Bool_22 = v36;
	}
	TUP* branch_ZPlusMirth_37;
	bool branch_Bool_38;
	if (branch_Bool_22) {
		bool v39 = true;
		branch_Bool_38 = v39;
		branch_ZPlusMirth_37 = v5;
	} else {
		TUP* v40;
		bool v41 = mw_mirth_name_Name_couldZ_beZ_rawZ_fieldZ_nameZAsk(v5, in_Name_2, &v40);
		branch_Bool_38 = v41;
		branch_ZPlusMirth_37 = v40;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_37;
	return branch_Bool_38;
}
static bool mw_mirth_name_Name_couldZ_beZ_constructor (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	int64_t v6 = mw_mirth_name_Name_head(in_ZPlusMirth_1, in_Name_2, &v5);
	TUP* branch_ZPlusMirth_7;
	bool branch_Bool_8;
	switch (v6) {
		case 43LL: { // B'+'
			TUP* v9;
			int64_t v10 = mw_mirth_name_Name_tailZ_head(v5, in_Name_2, &v9);
			int64_t v11 = 65LL /* B'A' */;
			int64_t v12 = 90LL /* B'Z' */;
			INT v13 = i64_to_int(v11);
			uint64_t v14 = int_to_u64(v13);
			uint8_t v15 = (uint8_t)(v14);
			INT v16 = i64_to_int(v10);
			uint64_t v17 = int_to_u64(v16);
			uint8_t v18 = (uint8_t)(v17);
			uint64_t v19 = (uint64_t)(v18);
			uint32_t v20 = (uint32_t)(v19);
			uint64_t v21 = (uint64_t)(v15);
			uint32_t v22 = (uint32_t)(v21);
			uint64_t v23 = (uint64_t)(v22);
			uint64_t v24 = (uint64_t)(v20);
			bool v25 = (v23 <= v24);
			bool branch_Bool_26;
			if (v25) {
				INT v27 = i64_to_int(v10);
				uint64_t v28 = int_to_u64(v27);
				uint8_t v29 = (uint8_t)(v28);
				INT v30 = i64_to_int(v12);
				uint64_t v31 = int_to_u64(v30);
				uint8_t v32 = (uint8_t)(v31);
				uint64_t v33 = (uint64_t)(v32);
				uint32_t v34 = (uint32_t)(v33);
				uint64_t v35 = (uint64_t)(v29);
				uint32_t v36 = (uint32_t)(v35);
				uint64_t v37 = (uint64_t)(v36);
				uint64_t v38 = (uint64_t)(v34);
				bool v39 = (v37 <= v38);
				branch_Bool_26 = v39;
			} else {
				bool v40 = false;
				branch_Bool_26 = v40;
			}
			branch_Bool_8 = branch_Bool_26;
			branch_ZPlusMirth_7 = v9;
		} break;
		default: {
			int64_t v41 = 65LL /* B'A' */;
			int64_t v42 = 90LL /* B'Z' */;
			INT v43 = i64_to_int(v41);
			uint64_t v44 = int_to_u64(v43);
			uint8_t v45 = (uint8_t)(v44);
			INT v46 = i64_to_int(v6);
			uint64_t v47 = int_to_u64(v46);
			uint8_t v48 = (uint8_t)(v47);
			uint64_t v49 = (uint64_t)(v48);
			uint32_t v50 = (uint32_t)(v49);
			uint64_t v51 = (uint64_t)(v45);
			uint32_t v52 = (uint32_t)(v51);
			uint64_t v53 = (uint64_t)(v52);
			uint64_t v54 = (uint64_t)(v50);
			bool v55 = (v53 <= v54);
			bool branch_Bool_56;
			if (v55) {
				INT v57 = i64_to_int(v6);
				uint64_t v58 = int_to_u64(v57);
				uint8_t v59 = (uint8_t)(v58);
				INT v60 = i64_to_int(v42);
				uint64_t v61 = int_to_u64(v60);
				uint8_t v62 = (uint8_t)(v61);
				uint64_t v63 = (uint64_t)(v62);
				uint32_t v64 = (uint32_t)(v63);
				uint64_t v65 = (uint64_t)(v59);
				uint32_t v66 = (uint32_t)(v65);
				uint64_t v67 = (uint64_t)(v66);
				uint64_t v68 = (uint64_t)(v64);
				bool v69 = (v67 <= v68);
				branch_Bool_56 = v69;
			} else {
				bool v70 = false;
				branch_Bool_56 = v70;
			}
			branch_Bool_8 = branch_Bool_56;
			branch_ZPlusMirth_7 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Bool_8;
}
static bool mw_mirth_name_Namespace_ZEqual (VAL in_Namespace_1, VAL in_Namespace_2) {
	bool branch_Bool_4;
	switch (get_data_tag(in_Namespace_2)) {
		case 0LL: { // Root
			bool branch_Bool_5;
			switch (get_data_tag(in_Namespace_1)) {
				case 0LL: { // Root
					bool v6 = true;
					branch_Bool_5 = v6;
				} break;
				default: {
					decref(in_Namespace_1);
					bool v7 = false;
					branch_Bool_5 = v7;
				} break;
			}
			branch_Bool_4 = branch_Bool_5;
		} break;
		case 1LL: { // Package
			uint64_t v8 = mtp_mirth_name_Namespace_Package(in_Namespace_2);
			bool branch_Bool_9;
			switch (get_data_tag(in_Namespace_1)) {
				case 1LL: { // Package
					uint64_t v10 = mtp_mirth_name_Namespace_Package(in_Namespace_1);
					bool v11 = mw_mirth_package_Package_ZEqual(v10, v8);
					branch_Bool_9 = v11;
				} break;
				default: {
					decref(in_Namespace_1);
					bool v12 = false;
					branch_Bool_9 = v12;
				} break;
			}
			branch_Bool_4 = branch_Bool_9;
		} break;
		case 2LL: { // Module
			uint64_t v13 = mtp_mirth_name_Namespace_Module(in_Namespace_2);
			bool branch_Bool_14;
			switch (get_data_tag(in_Namespace_1)) {
				case 2LL: { // Module
					uint64_t v15 = mtp_mirth_name_Namespace_Module(in_Namespace_1);
					bool v16 = mw_mirth_module_Module_ZEqual(v15, v13);
					branch_Bool_14 = v16;
				} break;
				default: {
					decref(in_Namespace_1);
					bool v17 = false;
					branch_Bool_14 = v17;
				} break;
			}
			branch_Bool_4 = branch_Bool_14;
		} break;
		case 3LL: { // Tycon
			VAL v18 = mtp_mirth_name_Namespace_Tycon(in_Namespace_2);
			bool branch_Bool_19;
			switch (get_data_tag(in_Namespace_1)) {
				case 3LL: { // Tycon
					VAL v20 = mtp_mirth_name_Namespace_Tycon(in_Namespace_1);
					bool v21 = mw_mirth_tycon_Tycon_ZEqual(v20, v18);
					branch_Bool_19 = v21;
				} break;
				default: {
					decref(in_Namespace_1);
					decref(v18);
					bool v22 = false;
					branch_Bool_19 = v22;
				} break;
			}
			branch_Bool_4 = branch_Bool_19;
		} break;
		case 4LL: { // Word
			uint64_t v23 = mtp_mirth_name_Namespace_Word(in_Namespace_2);
			bool branch_Bool_24;
			switch (get_data_tag(in_Namespace_1)) {
				case 4LL: { // Word
					uint64_t v25 = mtp_mirth_name_Namespace_Word(in_Namespace_1);
					bool v26 = mw_mirth_word_Word_ZEqual(v25, v23);
					branch_Bool_24 = v26;
				} break;
				default: {
					decref(in_Namespace_1);
					bool v27 = false;
					branch_Bool_24 = v27;
				} break;
			}
			branch_Bool_4 = branch_Bool_24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static VAL mw_mirth_name_Namespace_qname (TUP* in_ZPlusMirth_1, VAL in_Namespace_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Namespace_2)) {
		case 0LL: { // Root
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v8 = mtp_mirth_name_Namespace_Package(in_Namespace_2);
			TUP* v9;
			TUP* v10 = mw_mirth_package_Package_qname(in_ZPlusMirth_1, v8, &v9);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v10, 3));
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = v9;
		} break;
		case 2LL: { // Module
			uint64_t v12 = mtp_mirth_name_Namespace_Module(in_Namespace_2);
			TUP* v13;
			TUP* v14 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v12, &v13);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(MKTUP(v14, 3));
			branch_Maybe_6 = v15;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 3LL: { // Tycon
			VAL v16 = mtp_mirth_name_Namespace_Tycon(in_Namespace_2);
			TUP* v17;
			TUP* v18 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v16, &v17);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18, 3));
			branch_Maybe_6 = v19;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 4LL: { // Word
			uint64_t v20 = mtp_mirth_name_Namespace_Word(in_Namespace_2);
			TUP* v21;
			TUP* v22 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, v20, &v21);
			VAL v23 = mtw_std_maybe_Maybe_1_Some(MKTUP(v22, 3));
			branch_Maybe_6 = v23;
			branch_ZPlusMirth_5 = v21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_name_Namespace_moduleZAsk (TUP* in_ZPlusMirth_1, VAL in_Namespace_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Namespace_2)) {
		case 0LL: { // Root
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v8 = mtp_mirth_name_Namespace_Package(in_Namespace_2);
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Module
			uint64_t v10 = mtp_mirth_name_Namespace_Module(in_Namespace_2);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(MKU64(v10));
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Tycon
			VAL v12 = mtp_mirth_name_Namespace_Tycon(in_Namespace_2);
			TUP* v13;
			TUP* v14 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v12, &v13);
			VAL v15 = v14->cells[0];
			incref(v15);
			decref(MKTUP(v14, 3));
			TUP* v16;
			VAL v17 = mw_mirth_name_Namespace_moduleZAsk(v13, v15, &v16);
			branch_Maybe_6 = v17;
			branch_ZPlusMirth_5 = v16;
		} break;
		case 4LL: { // Word
			uint64_t v18 = mtp_mirth_name_Namespace_Word(in_Namespace_2);
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_6 = v19;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_name_Namespace_Prim (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v4;
	uint64_t v5 = mw_mirth_module_Module_Prim(in_ZPlusMirth_1, &v4);
	VAL v6 = mtw_mirth_name_Namespace_Module(v5);
	*out_ZPlusMirth_2 = v4;
	return v6;
}
static void mw_mirth_name_Namespace_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Namespace_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (get_data_tag(in_Namespace_3)) {
		case 0LL: { // Root
			STR* v8;
			STRLIT(v8, "<root>", 6);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v10 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			TUP* v11;
			STR* v12;
			mw_mirth_package_Package_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v10, &v11, &v12);
			branch_ZPlusStr_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 2LL: { // Module
			uint64_t v13 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			TUP* v14;
			uint64_t v15 = mw_mirth_module_Module_name(in_ZPlusMirth_1, v13, &v14);
			TUP* v16;
			STR* v17;
			mw_mirth_name_Name_nameZThen(v14, in_ZPlusStr_2, v15, &v16, &v17);
			branch_ZPlusStr_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 3LL: { // Tycon
			VAL v18 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			TUP* v19;
			uint64_t v20 = mw_mirth_tycon_Tycon_name(in_ZPlusMirth_1, v18, &v19);
			TUP* v21;
			STR* v22;
			mw_mirth_name_Name_nameZThen(v19, in_ZPlusStr_2, v20, &v21, &v22);
			branch_ZPlusStr_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		case 4LL: { // Word
			uint64_t v23 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			TUP* v24;
			uint64_t v25 = mw_mirth_word_Word_name(in_ZPlusMirth_1, v23, &v24);
			TUP* v26;
			STR* v27;
			mw_mirth_name_Name_nameZThen(v24, in_ZPlusStr_2, v25, &v26, &v27);
			branch_ZPlusStr_7 = v27;
			branch_ZPlusMirth_6 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_name_Namespace_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Namespace_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (get_data_tag(in_Namespace_3)) {
		case 0LL: { // Root
			STR* v8;
			STRLIT(v8, "<root>", 6);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v10 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			TUP* v11;
			STR* v12;
			mw_mirth_package_Package_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v10, &v11, &v12);
			branch_ZPlusStr_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 2LL: { // Module
			uint64_t v13 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			TUP* v14;
			TUP* v15 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v13, &v14);
			TUP* v16;
			STR* v17;
			mw_mirth_name_QName_qnameZThen(v14, in_ZPlusStr_2, v15, &v16, &v17);
			branch_ZPlusStr_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 3LL: { // Tycon
			VAL v18 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			TUP* v19;
			TUP* v20 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v18, &v19);
			TUP* v21;
			STR* v22;
			mw_mirth_name_QName_qnameZThen(v19, in_ZPlusStr_2, v20, &v21, &v22);
			branch_ZPlusStr_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		case 4LL: { // Word
			uint64_t v23 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			TUP* v24;
			TUP* v25 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, v23, &v24);
			TUP* v26;
			STR* v27;
			mw_mirth_name_QName_qnameZThen(v24, in_ZPlusStr_2, v25, &v26, &v27);
			branch_ZPlusStr_7 = v27;
			branch_ZPlusMirth_6 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_name_Namespace_mangledZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Namespace_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (get_data_tag(in_Namespace_3)) {
		case 0LL: { // Root
			STR* v8;
			STRLIT(v8, "__root__", 8);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Package
			uint64_t v10 = mtp_mirth_name_Namespace_Package(in_Namespace_3);
			TUP* v11;
			uint64_t v12 = mw_mirth_package_Package_name(in_ZPlusMirth_1, v10, &v11);
			TUP* v13;
			STR* v14;
			mw_mirth_name_Name_mangledZThen(v11, in_ZPlusStr_2, v12, &v13, &v14);
			branch_ZPlusStr_7 = v14;
			branch_ZPlusMirth_6 = v13;
		} break;
		case 2LL: { // Module
			uint64_t v15 = mtp_mirth_name_Namespace_Module(in_Namespace_3);
			TUP* v16;
			TUP* v17 = mw_mirth_module_Module_qname(in_ZPlusMirth_1, v15, &v16);
			TUP* v18;
			STR* v19;
			mw_mirth_name_QName_mangledZThen(v16, in_ZPlusStr_2, v17, &v18, &v19);
			branch_ZPlusStr_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 3LL: { // Tycon
			VAL v20 = mtp_mirth_name_Namespace_Tycon(in_Namespace_3);
			TUP* v21;
			TUP* v22 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v20, &v21);
			TUP* v23;
			STR* v24;
			mw_mirth_name_QName_mangledZThen(v21, in_ZPlusStr_2, v22, &v23, &v24);
			branch_ZPlusStr_7 = v24;
			branch_ZPlusMirth_6 = v23;
		} break;
		case 4LL: { // Word
			uint64_t v25 = mtp_mirth_name_Namespace_Word(in_Namespace_3);
			TUP* v26;
			TUP* v27 = mw_mirth_word_Word_qnameZ_hard(in_ZPlusMirth_1, v25, &v26);
			TUP* v28;
			STR* v29;
			mw_mirth_name_QName_mangledZThen(v26, in_ZPlusStr_2, v27, &v28, &v29);
			branch_ZPlusStr_7 = v29;
			branch_ZPlusMirth_6 = v28;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static TUP* mw_mirth_name_QName_Mk (VAL in_Namespace_1, uint64_t in_Name_2, INT in_Int_3) {
	TUP* v5 = mtw_mirth_name_QName_QName(in_Namespace_1, in_Name_2, in_Int_3);
	return v5;
}
static bool mw_mirth_name_QName_ZEqual (TUP* in_QName_1, TUP* in_QName_2) {
	VAL v4;
	uint64_t v5;
	INT v6;
	mtp_mirth_name_QName_QName(in_QName_2, &v4, &v5, &v6);
	VAL v7;
	uint64_t v8;
	INT v9;
	mtp_mirth_name_QName_QName(in_QName_1, &v7, &v8, &v9);
	bool v10 = mw_mirth_name_Name_ZEqual(v8, v5);
	bool v11 = int_eq(v9, v6);
	bool v12 = (v10 && v11);
	bool v13 = mw_mirth_name_Namespace_ZEqual(v7, v4);
	bool v14 = (v12 && v13);
	return v14;
}
static VAL mw_mirth_name_QName_defZ_hardZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_QName_2, 3));
	uint64_t v5 = value_u64(in_QName_2->cells[1]);
	decref(MKTUP(in_QName_2, 3));
	TUP* v6;
	VAL v7 = mw_mirth_name_Name_defs(in_ZPlusMirth_1, v5, &v6);
	VAL v8 = MKI64(0LL /* None */);
	bool v9 = true;
	TUP* v10 = v6;
	TUP* v11 = in_QName_2;
	VAL v12 = v8;
	VAL v13 = v7;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		TUP* v16 = v10;
		TUP* v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		bool v20 = v14;
		VAL v21;
		VAL v22 = mw_std_list_List_1_uncons(v19, &v21);
		TUP* branch_ZPlusMirth_23;
		TUP* branch_QName_24;
		VAL branch_Maybe_25;
		VAL branch_List_26;
		bool branch_Bool_27;
		switch (get_data_tag(v22)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v22);
				incref(v28);
				incref(MKTUP(v17, 3));
				TUP* v29;
				TUP* v30 = mw_mirth_def_Def_qnameZ_hard(v16, v28, &v29);
				bool v31 = mw_mirth_name_QName_ZEqual(v17, v30);
				TUP* branch_ZPlusMirth_32;
				TUP* branch_QName_33;
				VAL branch_Maybe_34;
				if (v31) {
					VAL v35 = mtw_std_maybe_Maybe_1_Some(v28);
					branch_Maybe_34 = v35;
					branch_QName_33 = v17;
					branch_ZPlusMirth_32 = v29;
				} else {
					decref(v28);
					VAL v36 = MKI64(0LL /* None */);
					branch_Maybe_34 = v36;
					branch_QName_33 = v17;
					branch_ZPlusMirth_32 = v29;
				}
				TUP* branch_ZPlusMirth_37;
				TUP* branch_QName_38;
				VAL branch_Maybe_39;
				VAL branch_List_40;
				switch (get_data_tag(branch_Maybe_34)) {
					case 0LL: { // None
						branch_List_40 = v21;
						branch_Maybe_39 = v18;
						branch_QName_38 = branch_QName_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
					default: {
						decref(v21);
						decref(v18);
						VAL v41 = MKI64(0LL /* Nil */);
						branch_List_40 = v41;
						branch_Maybe_39 = branch_Maybe_34;
						branch_QName_38 = branch_QName_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
				}
				bool v42 = true;
				branch_Bool_27 = v42;
				branch_List_26 = branch_List_40;
				branch_Maybe_25 = branch_Maybe_39;
				branch_QName_24 = branch_QName_38;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_37;
			} break;
			case 0LL: { // None
				bool v43 = false;
				branch_Bool_27 = v43;
				branch_List_26 = v21;
				branch_Maybe_25 = v18;
				branch_QName_24 = v17;
				branch_ZPlusMirth_23 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_27;
		v14 = branch_Bool_27;
		v13 = branch_List_26;
		v12 = branch_Maybe_25;
		v11 = branch_QName_24;
		v10 = branch_ZPlusMirth_23;
	}
	decref(v13);
	decref(MKTUP(v11, 3));
	*out_ZPlusMirth_3 = v10;
	return v12;
}
static bool mw_mirth_name_QName_definedZ_hardZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_name_QName_defZ_hardZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	INT v8 = WRAP_I63(0LL);
	INT v9 = i64_to_int(v7);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	*out_ZPlusMirth_3 = v5;
	return v11;
}
static VAL mw_mirth_name_QName_defZ_softZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3) {
	incref(MKTUP(in_QName_2, 3));
	uint64_t v5 = value_u64(in_QName_2->cells[1]);
	decref(MKTUP(in_QName_2, 3));
	TUP* v6;
	VAL v7 = mw_mirth_name_Name_defs(in_ZPlusMirth_1, v5, &v6);
	VAL v8 = mtw_std_maybe_Maybe_1_Some(MKTUP(in_QName_2, 3));
	VAL v9 = MKI64(0LL /* None */);
	bool v10 = true;
	TUP* v11 = v6;
	VAL v12 = v8;
	VAL v13 = v9;
	VAL v14 = v7;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		TUP* v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		VAL v20 = v14;
		bool v21 = v15;
		VAL v22;
		VAL v23 = mw_std_list_List_1_uncons(v20, &v22);
		TUP* branch_ZPlusMirth_24;
		VAL branch_Maybe_25;
		VAL branch_Maybe_26;
		VAL branch_List_27;
		bool branch_Bool_28;
		switch (get_data_tag(v23)) {
			case 1LL: { // Some
				VAL v29 = mtp_std_maybe_Maybe_1_Some(v23);
				incref(v29);
				incref(v18);
				TUP* v30;
				VAL v31 = mw_mirth_def_Def_qnameZ_soft(v17, v29, &v30);
				bool branch_Bool_32;
				switch (get_data_tag(v31)) {
					case 0LL: { // None
						int64_t v33 = get_data_tag(v18);
						decref(v18);
						INT v34 = WRAP_I63(0LL);
						INT v35 = i64_to_int(v33);
						bool v36 = int_eq(v35, v34);
						branch_Bool_32 = v36;
					} break;
					case 1LL: { // Some
						VAL v37 = mtp_std_maybe_Maybe_1_Some(v31);
						bool branch_Bool_38;
						switch (get_data_tag(v18)) {
							case 1LL: { // Some
								VAL v39 = mtp_std_maybe_Maybe_1_Some(v18);
								bool v40 = mw_mirth_name_QName_ZEqual(value_tup(v39, 3), value_tup(v37, 3));
								branch_Bool_38 = v40;
							} break;
							case 0LL: { // None
								decref(v37);
								bool v41 = false;
								branch_Bool_38 = v41;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Bool_32 = branch_Bool_38;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				TUP* branch_ZPlusMirth_42;
				VAL branch_Maybe_43;
				VAL branch_Maybe_44;
				if (branch_Bool_32) {
					VAL v45 = mtw_std_maybe_Maybe_1_Some(v29);
					branch_Maybe_44 = v45;
					branch_Maybe_43 = v18;
					branch_ZPlusMirth_42 = v30;
				} else {
					decref(v29);
					VAL v46 = MKI64(0LL /* None */);
					branch_Maybe_44 = v46;
					branch_Maybe_43 = v18;
					branch_ZPlusMirth_42 = v30;
				}
				TUP* branch_ZPlusMirth_47;
				VAL branch_Maybe_48;
				VAL branch_Maybe_49;
				VAL branch_List_50;
				switch (get_data_tag(branch_Maybe_44)) {
					case 0LL: { // None
						branch_List_50 = v22;
						branch_Maybe_49 = v19;
						branch_Maybe_48 = branch_Maybe_43;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_42;
					} break;
					default: {
						decref(v22);
						decref(v19);
						VAL v51 = MKI64(0LL /* Nil */);
						branch_List_50 = v51;
						branch_Maybe_49 = branch_Maybe_44;
						branch_Maybe_48 = branch_Maybe_43;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_42;
					} break;
				}
				bool v52 = true;
				branch_Bool_28 = v52;
				branch_List_27 = branch_List_50;
				branch_Maybe_26 = branch_Maybe_49;
				branch_Maybe_25 = branch_Maybe_48;
				branch_ZPlusMirth_24 = branch_ZPlusMirth_47;
			} break;
			case 0LL: { // None
				bool v53 = false;
				branch_Bool_28 = v53;
				branch_List_27 = v22;
				branch_Maybe_26 = v19;
				branch_Maybe_25 = v18;
				branch_ZPlusMirth_24 = v17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_28;
		v15 = branch_Bool_28;
		v14 = branch_List_27;
		v13 = branch_Maybe_26;
		v12 = branch_Maybe_25;
		v11 = branch_ZPlusMirth_24;
	}
	decref(v14);
	decref(v12);
	*out_ZPlusMirth_3 = v11;
	return v13;
}
static bool mw_mirth_name_QName_definedZ_softZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	INT v8 = WRAP_I63(0LL);
	INT v9 = i64_to_int(v7);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	*out_ZPlusMirth_3 = v5;
	return v11;
}
static bool mw_mirth_name_QName_undefinedZ_softZAsk (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	INT v8 = WRAP_I63(0LL);
	INT v9 = i64_to_int(v7);
	bool v10 = int_eq(v9, v8);
	*out_ZPlusMirth_3 = v5;
	return v10;
}
static TUP* mw_mirth_name_QName_Prim (TUP* in_ZPlusMirth_1, STR* in_Str_2, INT in_Int_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	uint64_t v7 = mw_std_prim_Str_ZToName(in_ZPlusMirth_1, in_Str_2, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_name_Namespace_Prim(v6, &v8);
	TUP* v10 = mtw_mirth_name_QName_QName(v9, v7, in_Int_3);
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static void mw_mirth_name_QName_nameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	uint64_t v6 = value_u64(in_QName_3->cells[1]);
	decref(MKTUP(in_QName_3, 3));
	TUP* v7;
	STR* v8;
	mw_mirth_name_Name_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v7, &v8);
	*out_ZPlusStr_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_name_QName_nameZDivarityZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	incref(MKTUP(in_QName_3, 3));
	TUP* v6;
	STR* v7;
	mw_mirth_name_QName_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, in_QName_3, &v6, &v7);
	INT v8 = value_int(in_QName_3->cells[2]);
	incref(MKINT(v8));
	decref(MKTUP(in_QName_3, 3));
	incref(MKINT(v8));
	INT v9 = WRAP_I63(0LL);
	bool v10 = int_lt(v9, v8);
	INT branch_Int_11;
	STR* branch_ZPlusStr_12;
	if (v10) {
		STR* v13;
		STRLIT(v13, "/", 1);
		STR* v14;
		mw_std_str_ZPlusStr_pushZ_strZBang(v13, v7, &v14);
		incref(MKINT(v8));
		STR* v15 = int_to_str(v8);
		STR* v16;
		mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
		branch_ZPlusStr_12 = v16;
		branch_Int_11 = v8;
	} else {
		branch_ZPlusStr_12 = v7;
		branch_Int_11 = v8;
	}
	decref(MKINT(branch_Int_11));
	*out_ZPlusStr_5 = branch_ZPlusStr_12;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_name_QName_qnameZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	incref(MKTUP(in_QName_3, 3));
	VAL v6 = in_QName_3->cells[0];
	incref(v6);
	decref(MKTUP(in_QName_3, 3));
	TUP* v7;
	STR* v8;
	mw_mirth_name_Namespace_qnameZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v7, &v8);
	STR* v9;
	STRLIT(v9, ".", 1);
	STR* v10;
	mw_std_str_ZPlusStr_pushZ_strZBang(v9, v8, &v10);
	TUP* v11;
	STR* v12;
	mw_mirth_name_QName_nameZDivarityZThen(v7, v10, in_QName_3, &v11, &v12);
	*out_ZPlusStr_5 = v12;
	*out_ZPlusMirth_4 = v11;
}
static STR* mw_mirth_name_QName_mangled (TUP* in_ZPlusMirth_1, TUP* in_QName_2, TUP* *out_ZPlusMirth_3) {
	STR* v5;
	STRLIT(v5, "", 0);
	TUP* v6;
	STR* v7;
	mw_mirth_name_QName_mangledZThen(in_ZPlusMirth_1, v5, in_QName_2, &v6, &v7);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static void mw_mirth_name_QName_mangledZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_QName_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	VAL v6;
	uint64_t v7;
	INT v8;
	mtp_mirth_name_QName_QName(in_QName_3, &v6, &v7, &v8);
	TUP* v9;
	STR* v10;
	mw_mirth_name_Namespace_mangledZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v6, &v9, &v10);
	STR* v11;
	STRLIT(v11, "_", 1);
	STR* v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
	TUP* v13;
	STR* v14;
	mw_mirth_name_Name_mangledZThen(v9, v12, v7, &v13, &v14);
	incref(MKINT(v8));
	INT v15 = WRAP_I63(0LL);
	bool v16 = int_lt(v15, v8);
	TUP* branch_ZPlusMirth_17;
	STR* branch_ZPlusStr_18;
	if (v16) {
		STR* v19;
		STRLIT(v19, "_", 1);
		STR* v20;
		mw_std_str_ZPlusStr_pushZ_strZBang(v19, v14, &v20);
		STR* v21 = int_to_str(v8);
		STR* v22;
		mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v22);
		branch_ZPlusStr_18 = v22;
		branch_ZPlusMirth_17 = v13;
	} else {
		decref(MKINT(v8));
		branch_ZPlusStr_18 = v14;
		branch_ZPlusMirth_17 = v13;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_18;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_17;
}
static STR* mw_mirth_name_QName_toZ_moduleZ_path (TUP* in_QName_1, TUP* in_ZPlusMirth_2, TUP* *out_ZPlusMirth_4) {
	incref(MKTUP(in_QName_1, 3));
	VAL v7 = in_QName_1->cells[0];
	incref(v7);
	decref(MKTUP(in_QName_1, 3));
	STR* branch_Path_8;
	TUP* branch_ZPlusMirth_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Package
			uint64_t v10 = mtp_mirth_name_Namespace_Package(v7);
			TUP* v11;
			VAL v12 = mw_mirth_package_Package_pathZ_orZ_search(in_ZPlusMirth_2, v10, &v11);
			TUP* branch_ZPlusMirth_13;
			uint64_t branch_Package_14;
			VAL branch_z_x1_15;
			switch (get_data_tag(v12)) {
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					branch_z_x1_15 = v16;
					branch_Package_14 = v10;
					branch_ZPlusMirth_13 = v11;
				} break;
				case 0LL: { // None
					STR* v17;
					STRLIT(v17, "False path defined for package ", 31);
					TUP* v18;
					uint64_t v19 = mw_mirth_package_Package_name(v11, v10, &v18);
					TUP* v20;
					STR* v21 = mw_mirth_name_Name_ZToStr(v18, v19, &v20);
					mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v20, v21);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			uint64_t v24 = value_u64(in_QName_1->cells[1]);
			decref(MKTUP(in_QName_1, 3));
			TUP* v25;
			STR* v26 = mw_mirth_name_Name_ZToStr(branch_ZPlusMirth_13, v24, &v25);
			STR* v27;
			STRLIT(v27, ".mth", 4);
			STR* v28 = str_cat(v26, v27);
			STR* v29 = mw_std_path_Path_join(value_str(branch_z_x1_15), v28);
			branch_ZPlusMirth_9 = v25;
			branch_Path_8 = v29;
		} break;
		default: {
			decref(v7);
			STR* v30;
			STRLIT(v30, "expected module name in QName.to-module-path", 44);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_2, v30);
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Path_8;
}
static VAL mw_mirth_name_DName_rootZAsk (TUP* in_DName_1) {
	TUP* v3;
	VAL v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	decref(MKTUP(v3, 2));
	return v4;
}
static TUP* mw_mirth_name_DName_parts (TUP* in_DName_1) {
	TUP* v3;
	VAL v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	decref(v4);
	return v3;
}
static uint64_t mw_mirth_name_DName_lastZ_name (TUP* in_DName_1) {
	TUP* v3 = mw_mirth_name_DName_parts(in_DName_1);
	VAL v4 = mw_std_list_Nest_1_last(v3);
	return value_u64(v4);
}
static VAL mw_mirth_name_DName_penultimateZ_nameZAsk (TUP* in_DName_1) {
	TUP* v3;
	VAL v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	VAL v5;
	VAL v6 = mw_std_list_Nest_1_unsnoc(v3, &v5);
	decref(v5);
	VAL v7 = mw_std_list_List_1_last(v6);
	VAL branch_Maybe_8;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(v4);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_8 = v10;
		} break;
		case 0LL: { // None
			branch_Maybe_8 = v4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_8;
}
static bool mw_mirth_name_DName_isZ_relativeZAsk (TUP* in_DName_1) {
	VAL v3 = mw_mirth_name_DName_rootZAsk(in_DName_1);
	int64_t v4 = get_data_tag(v3);
	decref(v3);
	INT v5 = WRAP_I63(0LL);
	INT v6 = i64_to_int(v4);
	bool v7 = int_eq(v6, v5);
	return v7;
}
static uint64_t mw_mirth_module_Module_allocZBang (void) {
	void* v2 = mbuf_mirth_module_Module_NumBuffer;
	uint64_t v3 = *(uint64_t*)v2;
	uint64_t v4 = 1ULL;
	uint64_t v5 = (v3 + v4);
	void* v6 = mbuf_mirth_module_Module_NumBuffer;
	*(uint64_t*)v6 = v5;
	return v5;
}
static uint64_t mw_mirth_module_Module_index (uint64_t in_Module_1) {
	return in_Module_1;
}
static uint64_t mw_mirth_module_Module_package (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_ZTildepackage, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_module_Module_name (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_ZTildename, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static TUP* mw_mirth_module_Module_qname (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	uint64_t v6 = mw_mirth_module_Module_package(in_ZPlusMirth_1, in_Module_2, &v5);
	VAL v7 = mtw_mirth_name_Namespace_Package(v6);
	TUP* v8;
	uint64_t v9 = mw_mirth_module_Module_name(v5, in_Module_2, &v8);
	INT v10 = WRAP_I63(0LL);
	TUP* v11 = mw_mirth_name_QName_Mk(v7, v9, v10);
	*out_ZPlusMirth_3 = v8;
	return v11;
}
static STR* mw_mirth_module_Module_path (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_ZTildepath, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_str(v6);
}
static uint64_t mw_mirth_module_Module_start (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_ZTildestart, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static uint64_t mw_mirth_module_Module_head (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_ZTildehead, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return value_u64(v6);
}
static VAL mw_mirth_module_Module_imports (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_module_Module_ZTildeimports, in_Module_2);
	VAL v6 = mut_get(v5);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static bool mw_mirth_module_Module_ZEqual (uint64_t in_Module_1, uint64_t in_Module_2) {
	uint64_t v4 = mw_mirth_module_Module_index(in_Module_1);
	uint64_t v5 = mw_mirth_module_Module_index(in_Module_2);
	bool v6 = (v4 == v5);
	return v6;
}
static uint64_t mw_mirth_module_Module_Prim (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v4 = value_tup(in_ZPlusMirth_1->cells[2], 42);
	incref(MKTUP(v4, 42));
	uint64_t v5 = value_u64(v4->cells[1]);
	decref(MKTUP(v4, 42));
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v5;
}
static uint64_t mw_mirth_module_Module_NewZBang (TUP* in_ZPlusMirth_1, STR* in_Path_2, TUP* *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_module_Module_allocZBang();
	TUP* v6;
	uint64_t v7 = mw_mirth_module_Module_Prim(in_ZPlusMirth_1, &v6);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mw_std_list_List_1_cons(MKU64(v7), v8);
	void* v10 = field_mut(&mfld_mirth_module_Module_ZTildeimports, v5);
	mut_set(v9, v10);
	void* v11 = field_mut(&mfld_mirth_module_Module_ZTildepath, v5);
	mut_set(MKSTR(in_Path_2), v11);
	*out_ZPlusMirth_3 = v6;
	return v5;
}
static STR* mw_mirth_module_Module_sourceZ_path (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	STR* v6 = mw_mirth_module_Module_path(in_ZPlusMirth_1, in_Module_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static bool mw_mirth_module_Module_visible (TUP* in_ZPlusMirth_1, uint64_t in_Module_2, uint64_t in_Module_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	VAL v7 = mw_mirth_module_Module_imports(in_ZPlusMirth_1, in_Module_3, &v6);
	VAL v8 = mw_std_list_List_1_cons(MKU64(in_Module_3), v7);
	VAL v9 = MKI64(0LL /* None */);
	bool v10 = true;
	uint64_t v11 = in_Module_2;
	VAL v12 = v9;
	VAL v13 = v8;
	bool v14 = v10;
	bool v15 = v10;
	while (v15) {
		uint64_t v16 = v11;
		VAL v17 = v12;
		VAL v18 = v13;
		bool v19 = v14;
		VAL v20;
		VAL v21 = mw_std_list_List_1_uncons(v18, &v20);
		uint64_t branch_Module_22;
		VAL branch_Maybe_23;
		VAL branch_List_24;
		bool branch_Bool_25;
		switch (get_data_tag(v21)) {
			case 1LL: { // Some
				VAL v26 = mtp_std_maybe_Maybe_1_Some(v21);
				incref(v26);
				bool v27 = mw_mirth_module_Module_ZEqual(v16, value_u64(v26));
				uint64_t branch_Module_28;
				VAL branch_Maybe_29;
				if (v27) {
					VAL v30 = mtw_std_maybe_Maybe_1_Some(v26);
					branch_Maybe_29 = v30;
					branch_Module_28 = v16;
				} else {
					decref(v26);
					VAL v31 = MKI64(0LL /* None */);
					branch_Maybe_29 = v31;
					branch_Module_28 = v16;
				}
				uint64_t branch_Module_32;
				VAL branch_Maybe_33;
				VAL branch_List_34;
				switch (get_data_tag(branch_Maybe_29)) {
					case 0LL: { // None
						branch_List_34 = v20;
						branch_Maybe_33 = v17;
						branch_Module_32 = branch_Module_28;
					} break;
					default: {
						decref(v20);
						decref(v17);
						VAL v35 = MKI64(0LL /* Nil */);
						branch_List_34 = v35;
						branch_Maybe_33 = branch_Maybe_29;
						branch_Module_32 = branch_Module_28;
					} break;
				}
				bool v36 = true;
				branch_Bool_25 = v36;
				branch_List_24 = branch_List_34;
				branch_Maybe_23 = branch_Maybe_33;
				branch_Module_22 = branch_Module_32;
			} break;
			case 0LL: { // None
				bool v37 = false;
				branch_Bool_25 = v37;
				branch_List_24 = v20;
				branch_Maybe_23 = v17;
				branch_Module_22 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		v12 = branch_Maybe_23;
		v11 = branch_Module_22;
	}
	decref(v13);
	int64_t v38 = get_data_tag(v12);
	decref(v12);
	INT v39 = WRAP_I63(0LL);
	INT v40 = i64_to_int(v38);
	bool v41 = int_eq(v40, v39);
	bool v42 = !v41;
	*out_ZPlusMirth_4 = v6;
	return v42;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_modulesZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v3 = value_tup(in_ZPlusMirth_1->cells[2], 42);
	incref(MKTUP(v3, 42));
	uint64_t v4 = value_u64(v3->cells[1]);
	decref(MKTUP(v3, 42));
	VAL v5 = MKI64(0LL /* Nil */);
	void* v6 = field_mut(&mfld_mirth_module_Module_ZTildeimports, v4);
	mut_set(v5, v6);
	STR* v7;
	STRLIT(v7, "<prim>", 6);
	void* v8 = field_mut(&mfld_mirth_module_Module_ZTildepath, v4);
	mut_set(MKSTR(v7), v8);
	TUP* v9;
	uint64_t v10 = mw_mirth_package_Package_Std(in_ZPlusMirth_1, &v9);
	void* v11 = field_mut(&mfld_mirth_module_Module_ZTildepackage, v4);
	mut_set(MKU64(v10), v11);
	STR* v12;
	STRLIT(v12, "prim", 4);
	TUP* v13;
	uint64_t v14 = mw_std_prim_Str_ZToName(v9, v12, &v13);
	void* v15 = field_mut(&mfld_mirth_module_Module_ZTildename, v4);
	mut_set(MKU64(v14), v15);
	VAL v16 = MKI64(0LL /* None */);
	void* v17 = field_mut(&mfld_mirth_module_Module_ZTildedoc, v4);
	mut_set(v16, v17);
	VAL v18 = mtw_mirth_def_Def_Module(v4);
	TUP* v19;
	mw_mirth_def_Def_register(v13, v18, &v19);
	*out_ZPlusMirth_2 = v19;
}
static INT mw_mirth_location_Row_ZToInt (INT in_Row_1) {
	return in_Row_1;
}
static void mw_mirth_location_Row_intZThen (STR* in_ZPlusStr_1, INT in_Row_2, STR* *out_ZPlusStr_3) {
	INT v4 = mw_mirth_location_Row_ZToInt(in_Row_2);
	STR* v5 = int_to_str(v4);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(v5, in_ZPlusStr_1, &v6);
	*out_ZPlusStr_3 = v6;
}
static INT mw_mirth_location_Row_natZPlus (INT in_Nat_1, INT in_Row_2) {
	INT v4 = int_add(in_Row_2, in_Nat_1);
	return v4;
}
static INT mw_mirth_location_Col_ZToInt (INT in_Col_1) {
	return in_Col_1;
}
static void mw_mirth_location_Col_intZThen (STR* in_ZPlusStr_1, INT in_Col_2, STR* *out_ZPlusStr_3) {
	INT v4 = mw_mirth_location_Col_ZToInt(in_Col_2);
	STR* v5 = int_to_str(v4);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(v5, in_ZPlusStr_1, &v6);
	*out_ZPlusStr_3 = v6;
}
static INT mw_mirth_location_Col_natZPlus (INT in_Nat_1, INT in_Col_2) {
	INT v4 = int_add(in_Col_2, in_Nat_1);
	return v4;
}
static void mw_mirth_location_Location_emitZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_Location_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	uint64_t v6;
	INT v7;
	INT v8;
	mtp_mirth_location_Location_Location(in_Location_3, &v6, &v7, &v8);
	TUP* v9;
	STR* v10 = mw_mirth_module_Module_sourceZ_path(in_ZPlusMirth_1, v6, &v9);
	STR* v11;
	mw_std_str_ZPlusStr_pushZ_strZBang(v10, in_ZPlusStr_2, &v11);
	STR* v12;
	STRLIT(v12, ":", 1);
	STR* v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
	STR* v14;
	mw_mirth_location_Row_intZThen(v13, v7, &v14);
	STR* v15;
	STRLIT(v15, ":", 1);
	STR* v16;
	mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
	STR* v17;
	mw_mirth_location_Col_intZThen(v16, v8, &v17);
	*out_ZPlusStr_5 = v17;
	*out_ZPlusMirth_4 = v9;
}
static TUP* mw_mirth_mirth_Builtin_AllocZBang (void) {
	uint64_t v2 = mw_mirth_package_Package_allocZBang();
	uint64_t v3 = mw_mirth_module_Module_allocZBang();
	uint64_t v4 = mw_mirth_data_Data_allocZBang();
	uint64_t v5 = mw_mirth_data_Tag_allocZBang();
	uint64_t v6 = mw_mirth_data_Data_allocZBang();
	uint64_t v7 = mw_mirth_data_Tag_allocZBang();
	uint64_t v8 = mw_mirth_data_Data_allocZBang();
	uint64_t v9 = mw_mirth_data_Tag_allocZBang();
	uint64_t v10 = mw_mirth_data_Data_allocZBang();
	uint64_t v11 = mw_mirth_data_Tag_allocZBang();
	uint64_t v12 = mw_mirth_data_Data_allocZBang();
	uint64_t v13 = mw_mirth_data_Tag_allocZBang();
	uint64_t v14 = mw_mirth_data_Data_allocZBang();
	uint64_t v15 = mw_mirth_data_Tag_allocZBang();
	uint64_t v16 = mw_mirth_data_Data_allocZBang();
	uint64_t v17 = mw_mirth_data_Tag_allocZBang();
	uint64_t v18 = mw_mirth_data_Data_allocZBang();
	uint64_t v19 = mw_mirth_data_Tag_allocZBang();
	uint64_t v20 = mw_mirth_data_Data_allocZBang();
	uint64_t v21 = mw_mirth_data_Tag_allocZBang();
	uint64_t v22 = mw_mirth_data_Data_allocZBang();
	uint64_t v23 = mw_mirth_data_Tag_allocZBang();
	uint64_t v24 = mw_mirth_data_Data_allocZBang();
	uint64_t v25 = mw_mirth_data_Tag_allocZBang();
	uint64_t v26 = mw_mirth_data_Data_allocZBang();
	uint64_t v27 = mw_mirth_data_Tag_allocZBang();
	uint64_t v28 = mw_mirth_data_Data_allocZBang();
	uint64_t v29 = mw_mirth_data_Tag_allocZBang();
	uint64_t v30 = mw_mirth_data_Data_allocZBang();
	uint64_t v31 = mw_mirth_data_Tag_allocZBang();
	uint64_t v32 = mw_mirth_data_Data_allocZBang();
	uint64_t v33 = mw_mirth_data_Tag_allocZBang();
	uint64_t v34 = mw_mirth_data_Data_allocZBang();
	uint64_t v35 = mw_mirth_data_Tag_allocZBang();
	uint64_t v36 = mw_mirth_data_Data_allocZBang();
	uint64_t v37 = mw_mirth_data_Tag_allocZBang();
	uint64_t v38 = mw_mirth_data_Data_allocZBang();
	uint64_t v39 = mw_mirth_data_Tag_allocZBang();
	uint64_t v40 = mw_mirth_data_Data_allocZBang();
	uint64_t v41 = mw_mirth_data_Tag_allocZBang();
	uint64_t v42 = mw_mirth_data_Data_allocZBang();
	uint64_t v43 = mw_mirth_data_Tag_allocZBang();
	TUP* v44 = mtw_mirth_mirth_Builtin_Builtin(v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20, v21, v22, v23, v24, v25, v26, v27, v28, v29, v30, v31, v32, v33, v34, v35, v36, v37, v38, v39, v40, v41, v42, v43);
	return v44;
}
static void mw_mirth_mirth_ZPlusMirth_InitZBang (TUP* *out_ZPlusMirth_1) {
	INT v2 = WRAP_I63(0LL);
	INT v3 = WRAP_I63(0LL);
	bool v4 = false;
	TUP* v5 = mw_mirth_mirth_Builtin_AllocZBang();
	VAL v6 = MKI64(0LL /* None */);
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8;
	mw_std_list_ZPlusLister_1_ZPlusNil(&v8);
	VAL v9;
	mw_std_list_ZPlusLister_1_ZPlusNil(&v9);
	VAL v10 = MKI64(0LL /* None */);
	VAL v11 = MKI64(0LL /* None */);
	TUP* v12 = mtw_mirth_mirth_LexicalState_LexicalState(v10, v11);
	TUP* v13;
	mw_mirth_name_ZPlusNameHashMap_new(&v13);
	TUP* v14;
	mtw_mirth_mirth_ZPlusMirth_ZPlusMirth(v2, v3, v5, v6, v7, v4, v12, v8, v9, v13, &v14);
	TUP* v15;
	mw_mirth_mirth_ZPlusMirth_initZ_packagesZBang(v14, &v15);
	TUP* v16;
	mw_mirth_mirth_ZPlusMirth_initZ_modulesZBang(v15, &v16);
	TUP* v17;
	mw_mirth_mirth_ZPlusMirth_initZ_typesZBang(v16, &v17);
	TUP* v18;
	mw_mirth_mirth_ZPlusMirth_initZ_primsZBang(v17, &v18);
	TUP* v19;
	mw_mirth_mirth_ZPlusMirth_initZ_macrosZBang(v18, &v19);
	*out_ZPlusMirth_1 = v19;
}
static void mw_mirth_mirth_ZPlusMirth_quitZBang (TUP* in_ZPlusMirth_1) {
	INT v2;
	INT v3;
	TUP* v4;
	VAL v5;
	VAL v6;
	bool v7;
	TUP* v8;
	VAL v9;
	VAL v10;
	TUP* v11;
	mtp_mirth_mirth_ZPlusMirth_ZPlusMirth(in_ZPlusMirth_1, &v2, &v3, &v4, &v5, &v6, &v7, &v8, &v9, &v10, &v11);
	decref(MKINT(v2));
	decref(MKINT(v3));
	decref(MKTUP(v4, 42));
	decref(v5);
	decref(v6);
	decref(MKTUP(v8, 2));
	mw_std_list_ZPlusLister_1_rdrop(v9);
	mw_std_list_ZPlusLister_1_rdrop(v10);
	mw_mirth_name_ZPlusNameHashMap_rdrop(v11);
}
static VAL mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	VAL v6 = in_ZPlusMirth_1->cells[3];
	incref(v6);
	VAL branch_z_x1_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			STR* v10;
			STRLIT(v10, "lib", 3);
			STR* v11 = mw_std_path_Path_join(value_str(v9), v10);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
			branch_Maybe_8 = v12;
			branch_z_x1_7 = MKTUP(in_ZPlusMirth_1, 10);
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_8 = v13;
			branch_z_x1_7 = MKTUP(in_ZPlusMirth_1, 10);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_2 = value_tup(branch_z_x1_7, 10);
	return branch_Maybe_8;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3, int64_t in_Severity_4, TUP* *out_ZPlusMirth_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_Str_7;
	TUP* branch_Location_8;
	int64_t branch_Severity_9;
	switch (in_Severity_4) {
		case 0LL: { // Info
			branch_Severity_9 = in_Severity_4;
			branch_Location_8 = in_Location_2;
			branch_Str_7 = in_Str_3;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Warning
			INT v10 = value_int(in_ZPlusMirth_1->cells[1]);
			incref(MKINT(v10));
			INT v11 = WRAP_I63(1LL);
			INT v12 = int_add(v10, v11);
			INT v13 = value_int(in_ZPlusMirth_1->cells[1]);
			decref(MKINT(v13));
			in_ZPlusMirth_1->cells[1] = MKINT(v12);
			branch_Severity_9 = in_Severity_4;
			branch_Location_8 = in_Location_2;
			branch_Str_7 = in_Str_3;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Error
			INT v14 = value_int(in_ZPlusMirth_1->cells[0]);
			incref(MKINT(v14));
			INT v15 = WRAP_I63(1LL);
			INT v16 = int_add(v14, v15);
			INT v17 = value_int(in_ZPlusMirth_1->cells[0]);
			decref(MKINT(v17));
			in_ZPlusMirth_1->cells[0] = MKINT(v16);
			branch_Severity_9 = in_Severity_4;
			branch_Location_8 = in_Location_2;
			branch_Str_7 = in_Str_3;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v18 = mtw_mirth_mirth_Diagnostic_Diagnostic(branch_Severity_9, branch_Location_8, branch_Str_7);
	VAL v19 = branch_ZPlusMirth_6->cells[7];
	VAL v20;
	mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v18, 3), v19, &v20);
	branch_ZPlusMirth_6->cells[7] = v20;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4) {
	int64_t v5 = 0LL /* Info */;
	TUP* v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_ZPlusMirth_1, in_Location_2, in_Str_3, v5, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4) {
	int64_t v5 = 1LL /* Warning */;
	TUP* v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_ZPlusMirth_1, in_Location_2, in_Str_3, v5, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4) {
	int64_t v5 = 2LL /* Error */;
	TUP* v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_ZPlusMirth_1, in_Location_2, in_Str_3, v5, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang (TUP* in_ZPlusMirth_1, TUP* in_Location_2, STR* in_Str_3) {
	TUP* v4;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(in_ZPlusMirth_1, in_Location_2, in_Str_3, &v4);
	mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(v4);
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4) {
	TUP* v5;
	TUP* v6 = mw_mirth_token_Token_location(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang(v5, v6, in_Str_3, &v7);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4) {
	TUP* v5;
	TUP* v6 = mw_mirth_token_Token_location(in_ZPlusMirth_1, in_Token_2, &v5);
	TUP* v7;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(v5, v6, in_Str_3, &v7);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, STR* in_Str_3) {
	TUP* v4;
	TUP* v5 = mw_mirth_token_Token_location(in_ZPlusMirth_1, in_Token_2, &v4);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(v4, v5, in_Str_3);
}
static void mw_mirth_mirth_ZPlusMirth_errorZ_tokenZBang (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, TUP* *out_ZPlusMirth_3) {
	VAL v4 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_2));
	TUP* v5 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v5, 2));
	VAL v6 = tup_replace(MKTUP(v5, 2), 0, v4);
	TUP* v7 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	decref(MKTUP(v7, 2));
	in_ZPlusMirth_1->cells[6] = v6;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static TUP* mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v4 = value_tup(in_ZPlusMirth_1->cells[2], 42);
	incref(MKTUP(v4, 42));
	uint64_t v5 = value_u64(v4->cells[1]);
	decref(MKTUP(v4, 42));
	INT v6 = WRAP_I63(0LL);
	INT v7 = WRAP_I63(0LL);
	TUP* v8 = mtw_mirth_location_Location_Location(v5, v6, v7);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v8;
}
static TUP* mw_mirth_mirth_ZPlusMirth_errorZ_location (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v4 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v4, 2));
	VAL v5 = v4->cells[0];
	incref(v5);
	decref(MKTUP(v4, 2));
	TUP* branch_ZPlusMirth_6;
	TUP* branch_Location_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			TUP* v9;
			TUP* v10 = mw_mirth_token_Token_location(in_ZPlusMirth_1, value_u64(v8), &v9);
			branch_Location_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			TUP* v11;
			TUP* v12 = mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location(in_ZPlusMirth_1, &v11);
			branch_Location_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_2 = branch_ZPlusMirth_6;
	return branch_Location_7;
}
static void mw_mirth_mirth_ZPlusMirth_infoZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	TUP* v5 = mw_mirth_mirth_ZPlusMirth_errorZ_location(in_ZPlusMirth_1, &v4);
	TUP* v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang(v4, v5, in_Str_2, &v6);
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_errorZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2, TUP* *out_ZPlusMirth_3) {
	TUP* v4;
	TUP* v5 = mw_mirth_mirth_ZPlusMirth_errorZ_location(in_ZPlusMirth_1, &v4);
	TUP* v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(v4, v5, in_Str_2, &v6);
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang (TUP* in_ZPlusMirth_1, STR* in_Str_2) {
	TUP* v3;
	TUP* v4 = mw_mirth_mirth_ZPlusMirth_errorZ_location(in_ZPlusMirth_1, &v3);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(v3, v4, in_Str_2);
}
static void mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang (VAL in_IOError_1, TUP* in_ZPlusMirth_2) {
	STR* v4 = mw_std_file_IOError_message(in_IOError_1);
	mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_2, v4);
}
static void mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang (TUP* in_ZPlusMirth_1) {
	TUP* v2;
	VAL v3 = mw_mirth_mirth_ZPlusMirth_popZ_diagnosticsZBang(in_ZPlusMirth_1, &v2);
	STR* v4;
	STRLIT(v4, "", 0);
	bool v5 = true;
	TUP* v6 = v2;
	STR* v7 = v4;
	VAL v8 = v3;
	bool v9 = v5;
	bool v10 = v5;
	while (v10) {
		TUP* v11 = v6;
		STR* v12 = v7;
		VAL v13 = v8;
		bool v14 = v9;
		TUP* branch_ZPlusMirth_15;
		STR* branch_ZPlusStr_16;
		VAL branch_List_17;
		bool branch_Bool_18;
		switch (get_data_tag(v13)) {
			case 1LL: { // Cons
				VAL v19;
				VAL v20 = mtp_std_list_List_1_Cons(v13, &v19);
				TUP* v21;
				STR* v22;
				mw_mirth_mirth_Diagnostic_diagnosticZThen(v11, v12, value_tup(v20, 3), &v21, &v22);
				STR* v23;
				STRLIT(v23, "\n", 1);
				STR* v24;
				mw_std_str_ZPlusStr_pushZ_strZBang(v23, v22, &v24);
				bool v25 = true;
				branch_Bool_18 = v25;
				branch_List_17 = v19;
				branch_ZPlusStr_16 = v24;
				branch_ZPlusMirth_15 = v21;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_18 = v27;
				branch_List_17 = v26;
				branch_ZPlusStr_16 = v12;
				branch_ZPlusMirth_15 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_18;
		v9 = branch_Bool_18;
		v8 = branch_List_17;
		v7 = branch_ZPlusStr_16;
		v6 = branch_ZPlusMirth_15;
	}
	decref(v8);
	VAL v28 = MKI64(31LL /* FGRed */);
	STR* v29;
	mw_std_terminal_Sgr_emitZThen(v28, v7, &v29);
	STR* v30;
	STRLIT(v30, "Fatal error. Stopping early.", 28);
	STR* v31;
	mw_std_str_ZPlusStr_pushZ_strZBang(v30, v29, &v31);
	VAL v32 = MKI64(0LL /* Reset */);
	STR* v33;
	mw_std_terminal_Sgr_emitZThen(v32, v31, &v33);
	do_panic(v33);
}
static void mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	TUP* v5;
	VAL v6 = mw_mirth_mirth_ZPlusMirth_popZ_diagnosticsZBang(in_ZPlusMirth_1, &v5);
	bool v7 = true;
	TUP* v8 = v5;
	VAL v9 = v6;
	bool v10 = v7;
	bool v11 = v7;
	while (v11) {
		TUP* v12 = v8;
		VAL v13 = v9;
		bool v14 = v10;
		TUP* branch_ZPlusMirth_15;
		VAL branch_List_16;
		bool branch_Bool_17;
		switch (get_data_tag(v13)) {
			case 1LL: { // Cons
				VAL v18;
				VAL v19 = mtp_std_list_List_1_Cons(v13, &v18);
				STR* v20;
				STRLIT(v20, "", 0);
				TUP* v21;
				STR* v22;
				mw_mirth_mirth_Diagnostic_diagnosticZThen(v12, v20, value_tup(v19, 3), &v21, &v22);
				mw_std_prim_ZPlusWorld_trace(v22);
				bool v23 = true;
				branch_Bool_17 = v23;
				branch_List_16 = v18;
				branch_ZPlusMirth_15 = v21;
			} break;
			case 0LL: { // Nil
				VAL v24 = MKI64(0LL /* Nil */);
				bool v25 = false;
				branch_Bool_17 = v25;
				branch_List_16 = v24;
				branch_ZPlusMirth_15 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_17;
		v10 = branch_Bool_17;
		v9 = branch_List_16;
		v8 = branch_ZPlusMirth_15;
	}
	decref(v9);
	*out_ZPlusMirth_2 = v8;
}
static VAL mw_mirth_mirth_ZPlusMirth_popZ_diagnosticsZBang (TUP* in_ZPlusMirth_1, TUP* *out_ZPlusMirth_2) {
	VAL v4 = in_ZPlusMirth_1->cells[7];
	VAL v5;
	VAL v6 = mw_std_list_ZPlusLister_1_popZ_allZBang(v4, &v5);
	in_ZPlusMirth_1->cells[7] = v5;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static void mw_mirth_mirth_Diagnostic_diagnosticZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, TUP* in_Diagnostic_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	int64_t v6;
	TUP* v7;
	STR* v8;
	mtp_mirth_mirth_Diagnostic_Diagnostic(in_Diagnostic_3, &v6, &v7, &v8);
	TUP* v9;
	STR* v10;
	mw_mirth_location_Location_emitZThen(in_ZPlusMirth_1, in_ZPlusStr_2, v7, &v9, &v10);
	STR* v11;
	STRLIT(v11, ": ", 2);
	STR* v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
	STR* v13 = mw_mirth_mirth_Severity_ZToStr(v6);
	STR* v14;
	mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
	STR* v15;
	STRLIT(v15, ": ", 2);
	STR* v16;
	mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
	STR* v17;
	mw_std_str_ZPlusStr_pushZ_strZBang(v8, v16, &v17);
	*out_ZPlusStr_5 = v17;
	*out_ZPlusMirth_4 = v9;
}
static STR* mw_mirth_mirth_Severity_ZToStr (int64_t in_Severity_1) {
	STR* branch_Str_3;
	switch (in_Severity_1) {
		case 0LL: { // Info
			STR* v4;
			STRLIT(v4, "info", 4);
			branch_Str_3 = v4;
		} break;
		case 1LL: { // Warning
			STR* v5;
			STRLIT(v5, "warning", 7);
			branch_Str_3 = v5;
		} break;
		case 2LL: { // Error
			STR* v6;
			STRLIT(v6, "error", 5);
			branch_Str_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static VAL mw_mirth_mirth_Prop_1_readyZAsk (TUP* in_Prop_1) {
	VAL v3 = in_Prop_1->cells[1];
	incref(v3);
	decref(MKTUP(in_Prop_1, 2));
	VAL v4 = mw_mirth_mirth_PropState_1_readyZAsk(v3);
	return v4;
}
static VAL mw_mirth_mirth_Prop_1_compute (TUP* in_ZPlusMirth_1, TUP* in_Prop_2, TUP* *out_ZPlusMirth_3, TUP* *out_Prop_5) {
	incref(MKTUP(in_Prop_2, 2));
	VAL v6 = in_Prop_2->cells[1];
	incref(v6);
	decref(MKTUP(in_Prop_2, 2));
	TUP* v7;
	VAL v8;
	VAL v9 = mw_mirth_mirth_PropState_1_compute(in_ZPlusMirth_1, v6, &v7, &v8);
	VAL v10 = tup_replace(MKTUP(in_Prop_2, 2), 1, v8);
	*out_Prop_5 = value_tup(v10, 2);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static VAL mw_mirth_mirth_Prop_1_tryZ_forceZBang (TUP* in_ZPlusMirth_1, void* in_MutProp_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mut_get(in_MutProp_2);
	incref(v5);
	VAL v6 = VTUP(v5)->cells[1];
	incref(v6);
	decref(v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Ready
			VAL v9 = mtp_mirth_mirth_PropState_1_Ready(v6);
			decref(v5);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_8 = v10;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Delay
			VAL v11;
			VAL v12;
			TUP* v13 = mtp_mirth_mirth_PropState_1_Delay(v6, &v11, &v12);
			VAL v14 = VTUP(v5)->cells[0];
			incref(v14);
			decref(v5);
			VAL v15 = in_ZPlusMirth_1->cells[8];
			VAL v16;
			mw_std_list_ZPlusLister_1_pushZBang(v14, v15, &v16);
			in_ZPlusMirth_1->cells[8] = v16;
			TUP* v17 = value_tup(in_ZPlusMirth_1->cells[6], 2);
			incref(MKTUP(v17, 2));
			TUP* v18 = value_tup(in_ZPlusMirth_1->cells[6], 2);
			decref(MKTUP(v18, 2));
			in_ZPlusMirth_1->cells[6] = MKTUP(v13, 2);
			VAL v19 = MKI64(2LL /* Computing */);
			VAL v20 = mut_get(in_MutProp_2);
			VAL v21 = tup_replace(v20, 1, v19);
			mut_set(v21, in_MutProp_2);
			push_resource(MKTUP(in_ZPlusMirth_1, 10));
			push_value(v11);
			run_value(v12);
			VAL v22 = pop_value();
			incref(v22);
			VAL v23 = mtw_mirth_mirth_PropState_1_Ready(v22);
			VAL v24 = mut_get(in_MutProp_2);
			VAL v25 = tup_replace(v24, 1, v23);
			mut_set(v25, in_MutProp_2);
			VAL v26 = mtw_std_maybe_Maybe_1_Some(v22);
			TUP* r27 = value_tup(pop_resource(), 10);
			TUP* v28 = value_tup(r27->cells[6], 2);
			decref(MKTUP(v28, 2));
			r27->cells[6] = MKTUP(v17, 2);
			VAL v29 = r27->cells[8];
			VAL v30;
			VAL v31 = mw_std_list_ZPlusLister_1_popZBang(v29, &v30);
			r27->cells[8] = v30;
			decref(v31);
			branch_Maybe_8 = v26;
			branch_ZPlusMirth_7 = r27;
		} break;
		case 2LL: { // Computing
			decref(v5);
			VAL v32 = MKI64(0LL /* None */);
			branch_Maybe_8 = v32;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_mirth_Prop_1_forceZBang (TUP* in_ZPlusMirth_1, void* in_MutProp_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_ZPlusMirth_1, in_MutProp_2, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			VAL v10 = v5->cells[8];
			incref(v10);
			v5->cells[8] = v10;
			STR* v11;
			STRLIT(v11, "", 0);
			STR* v12;
			STRLIT(v12, "Recursive prop detected:", 24);
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			VAL v14 = mw_std_list_List_1_reverse(v10);
			bool v15 = true;
			TUP* v16 = v5;
			STR* v17 = v13;
			VAL v18 = v14;
			bool v19 = v15;
			bool v20 = v15;
			while (v20) {
				TUP* v21 = v16;
				STR* v22 = v17;
				VAL v23 = v18;
				bool v24 = v19;
				TUP* branch_ZPlusMirth_25;
				STR* branch_ZPlusStr_26;
				VAL branch_List_27;
				bool branch_Bool_28;
				switch (get_data_tag(v23)) {
					case 1LL: { // Cons
						VAL v29;
						VAL v30 = mtp_std_list_List_1_Cons(v23, &v29);
						STR* v31;
						STRLIT(v31, "\n  - ", 5);
						STR* v32;
						mw_std_str_ZPlusStr_pushZ_strZBang(v31, v22, &v32);
						TUP* v33;
						STR* v34;
						mw_mirth_mirth_PropLabel_traceZThen(v21, v32, v30, &v33, &v34);
						bool v35 = true;
						branch_Bool_28 = v35;
						branch_List_27 = v29;
						branch_ZPlusStr_26 = v34;
						branch_ZPlusMirth_25 = v33;
					} break;
					case 0LL: { // Nil
						VAL v36 = MKI64(0LL /* Nil */);
						bool v37 = false;
						branch_Bool_28 = v37;
						branch_List_27 = v36;
						branch_ZPlusStr_26 = v22;
						branch_ZPlusMirth_25 = v21;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v20 = branch_Bool_28;
				v19 = branch_Bool_28;
				v18 = branch_List_27;
				v17 = branch_ZPlusStr_26;
				v16 = branch_ZPlusMirth_25;
			}
			decref(v18);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v16, v17);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_z_x1_8;
}
static VAL mw_mirth_mirth_PropState_1_readyZAsk (VAL in_PropState_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_PropState_1)) {
		case 0LL: { // Ready
			VAL v4 = mtp_mirth_mirth_PropState_1_Ready(in_PropState_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_PropState_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_mirth_PropState_1_compute (TUP* in_ZPlusMirth_1, VAL in_PropState_2, TUP* *out_ZPlusMirth_3, VAL *out_PropState_5) {
	incref(in_PropState_2);
	TUP* branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	VAL branch_PropState_8;
	switch (get_data_tag(in_PropState_2)) {
		case 0LL: { // Ready
			VAL v9 = mtp_mirth_mirth_PropState_1_Ready(in_PropState_2);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_PropState_8 = in_PropState_2;
			branch_Maybe_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Delay
			VAL v11;
			VAL v12;
			TUP* v13 = mtp_mirth_mirth_PropState_1_Delay(in_PropState_2, &v11, &v12);
			decref(in_PropState_2);
			TUP* v14 = value_tup(in_ZPlusMirth_1->cells[6], 2);
			incref(MKTUP(v14, 2));
			TUP* v15 = value_tup(in_ZPlusMirth_1->cells[6], 2);
			decref(MKTUP(v15, 2));
			in_ZPlusMirth_1->cells[6] = MKTUP(v13, 2);
			push_value(v11);
			push_resource(MKTUP(in_ZPlusMirth_1, 10));
			run_value(v12);
			TUP* r16 = value_tup(pop_resource(), 10);
			TUP* v17 = value_tup(r16->cells[6], 2);
			decref(MKTUP(v17, 2));
			r16->cells[6] = MKTUP(v14, 2);
			VAL v18 = pop_value();
			incref(v18);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(v18);
			VAL v20 = mtw_mirth_mirth_PropState_1_Ready(v18);
			branch_PropState_8 = v20;
			branch_Maybe_7 = v19;
			branch_ZPlusMirth_6 = r16;
		} break;
		case 2LL: { // Computing
			VAL v21 = MKI64(0LL /* None */);
			branch_PropState_8 = in_PropState_2;
			branch_Maybe_7 = v21;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_PropState_5 = branch_PropState_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static void mw_mirth_mirth_PropLabel_traceZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (get_data_tag(in_PropLabel_3)) {
		case 0LL: { // DefiningNamespace
			STR* v8;
			STRLIT(v8, "defining namespace", 18);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v8, in_ZPlusStr_2, &v9);
			branch_ZPlusStr_7 = v9;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DataQName
			uint64_t v10 = mtp_mirth_mirth_PropLabel_DataQName(in_PropLabel_3);
			STR* v11;
			STRLIT(v11, "data qname at ", 14);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v11, in_ZPlusStr_2, &v12);
			TUP* v13;
			VAL v14 = mw_mirth_data_Data_headZAsk(in_ZPlusMirth_1, v10, &v13);
			TUP* v15;
			STR* v16;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v13, v12, v14, &v15, &v16);
			branch_ZPlusStr_7 = v16;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 2LL: { // DataParams
			uint64_t v17 = mtp_mirth_mirth_PropLabel_DataParams(in_PropLabel_3);
			STR* v18;
			STRLIT(v18, "data params at ", 15);
			STR* v19;
			mw_std_str_ZPlusStr_pushZ_strZBang(v18, in_ZPlusStr_2, &v19);
			TUP* v20;
			VAL v21 = mw_mirth_data_Data_headZAsk(in_ZPlusMirth_1, v17, &v20);
			TUP* v22;
			STR* v23;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v20, v19, v21, &v22, &v23);
			branch_ZPlusStr_7 = v23;
			branch_ZPlusMirth_6 = v22;
		} break;
		case 3LL: { // DataCType
			uint64_t v24 = mtp_mirth_mirth_PropLabel_DataCType(in_PropLabel_3);
			STR* v25;
			STRLIT(v25, "data ctype at ", 14);
			STR* v26;
			mw_std_str_ZPlusStr_pushZ_strZBang(v25, in_ZPlusStr_2, &v26);
			TUP* v27;
			VAL v28 = mw_mirth_data_Data_headZAsk(in_ZPlusMirth_1, v24, &v27);
			TUP* v29;
			STR* v30;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v27, v26, v28, &v29, &v30);
			branch_ZPlusStr_7 = v30;
			branch_ZPlusMirth_6 = v29;
		} break;
		case 4LL: { // TagType
			uint64_t v31 = mtp_mirth_mirth_PropLabel_TagType(in_PropLabel_3);
			STR* v32;
			STRLIT(v32, "tag ctype at ", 13);
			STR* v33;
			mw_std_str_ZPlusStr_pushZ_strZBang(v32, in_ZPlusStr_2, &v33);
			TUP* v34;
			VAL v35 = mw_mirth_data_Tag_sigZAsk(in_ZPlusMirth_1, v31, &v34);
			TUP* v36;
			STR* v37;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v34, v33, v35, &v36, &v37);
			branch_ZPlusStr_7 = v37;
			branch_ZPlusMirth_6 = v36;
		} break;
		case 5LL: { // TableQName
			uint64_t v38 = mtp_mirth_mirth_PropLabel_TableQName(in_PropLabel_3);
			STR* v39;
			STRLIT(v39, "table qname at ", 15);
			STR* v40;
			mw_std_str_ZPlusStr_pushZ_strZBang(v39, in_ZPlusStr_2, &v40);
			TUP* v41;
			uint64_t v42 = mw_mirth_table_Table_head(in_ZPlusMirth_1, v38, &v41);
			TUP* v43;
			STR* v44;
			mw_mirth_token_Token_locationZThen(v41, v40, v42, &v43, &v44);
			branch_ZPlusStr_7 = v44;
			branch_ZPlusMirth_6 = v43;
		} break;
		case 6LL: { // TypeDefQName
			uint64_t v45 = mtp_mirth_mirth_PropLabel_TypeDefQName(in_PropLabel_3);
			STR* v46;
			STRLIT(v46, "type qname at ", 14);
			STR* v47;
			mw_std_str_ZPlusStr_pushZ_strZBang(v46, in_ZPlusStr_2, &v47);
			TUP* v48;
			VAL v49 = mw_mirth_typedef_TypeDef_headZAsk(in_ZPlusMirth_1, v45, &v48);
			TUP* v50;
			STR* v51;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v48, v47, v49, &v50, &v51);
			branch_ZPlusStr_7 = v51;
			branch_ZPlusMirth_6 = v50;
		} break;
		case 7LL: { // TypeDefTarget
			uint64_t v52 = mtp_mirth_mirth_PropLabel_TypeDefTarget(in_PropLabel_3);
			STR* v53;
			STRLIT(v53, "type target at ", 15);
			STR* v54;
			mw_std_str_ZPlusStr_pushZ_strZBang(v53, in_ZPlusStr_2, &v54);
			TUP* v55;
			VAL v56 = mw_mirth_typedef_TypeDef_headZAsk(in_ZPlusMirth_1, v52, &v55);
			TUP* v57;
			STR* v58;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v55, v54, v56, &v57, &v58);
			branch_ZPlusStr_7 = v58;
			branch_ZPlusMirth_6 = v57;
		} break;
		case 8LL: { // WordQName
			uint64_t v59 = mtp_mirth_mirth_PropLabel_WordQName(in_PropLabel_3);
			STR* v60;
			STRLIT(v60, "word qname at ", 14);
			STR* v61;
			mw_std_str_ZPlusStr_pushZ_strZBang(v60, in_ZPlusStr_2, &v61);
			TUP* v62;
			uint64_t v63 = mw_mirth_word_Word_head(in_ZPlusMirth_1, v59, &v62);
			TUP* v64;
			STR* v65;
			mw_mirth_token_Token_locationZThen(v62, v61, v63, &v64, &v65);
			branch_ZPlusStr_7 = v65;
			branch_ZPlusMirth_6 = v64;
		} break;
		case 9LL: { // WordType
			uint64_t v66 = mtp_mirth_mirth_PropLabel_WordType(in_PropLabel_3);
			STR* v67;
			STRLIT(v67, "word type at ", 13);
			STR* v68;
			mw_std_str_ZPlusStr_pushZ_strZBang(v67, in_ZPlusStr_2, &v68);
			TUP* v69;
			uint64_t v70 = mw_mirth_word_Word_head(in_ZPlusMirth_1, v66, &v69);
			TUP* v71;
			STR* v72;
			mw_mirth_token_Token_locationZThen(v69, v68, v70, &v71, &v72);
			branch_ZPlusStr_7 = v72;
			branch_ZPlusMirth_6 = v71;
		} break;
		case 10LL: { // WordParams
			uint64_t v73 = mtp_mirth_mirth_PropLabel_WordParams(in_PropLabel_3);
			STR* v74;
			STRLIT(v74, "word params at ", 15);
			STR* v75;
			mw_std_str_ZPlusStr_pushZ_strZBang(v74, in_ZPlusStr_2, &v75);
			TUP* v76;
			uint64_t v77 = mw_mirth_word_Word_head(in_ZPlusMirth_1, v73, &v76);
			TUP* v78;
			STR* v79;
			mw_mirth_token_Token_locationZThen(v76, v75, v77, &v78, &v79);
			branch_ZPlusStr_7 = v79;
			branch_ZPlusMirth_6 = v78;
		} break;
		case 11LL: { // WordArrow
			uint64_t v80 = mtp_mirth_mirth_PropLabel_WordArrow(in_PropLabel_3);
			STR* v81;
			STRLIT(v81, "word arrow at ", 14);
			STR* v82;
			mw_std_str_ZPlusStr_pushZ_strZBang(v81, in_ZPlusStr_2, &v82);
			TUP* v83;
			uint64_t v84 = mw_mirth_word_Word_head(in_ZPlusMirth_1, v80, &v83);
			TUP* v85;
			STR* v86;
			mw_mirth_token_Token_locationZThen(v83, v82, v84, &v85, &v86);
			branch_ZPlusStr_7 = v86;
			branch_ZPlusMirth_6 = v85;
		} break;
		case 12LL: { // BlockArrow
			uint64_t v87 = mtp_mirth_mirth_PropLabel_BlockArrow(in_PropLabel_3);
			STR* v88;
			STRLIT(v88, "block arrow at ", 15);
			STR* v89;
			mw_std_str_ZPlusStr_pushZ_strZBang(v88, in_ZPlusStr_2, &v89);
			TUP* v90;
			uint64_t v91 = mw_mirth_arrow_Block_token(in_ZPlusMirth_1, v87, &v90);
			TUP* v92;
			STR* v93;
			mw_mirth_token_Token_locationZThen(v90, v89, v91, &v92, &v93);
			branch_ZPlusStr_7 = v93;
			branch_ZPlusMirth_6 = v92;
		} break;
		case 13LL: { // AliasQName
			uint64_t v94 = mtp_mirth_mirth_PropLabel_AliasQName(in_PropLabel_3);
			STR* v95;
			STRLIT(v95, "alias qname at ", 15);
			STR* v96;
			mw_std_str_ZPlusStr_pushZ_strZBang(v95, in_ZPlusStr_2, &v96);
			TUP* v97;
			uint64_t v98 = mw_mirth_alias_Alias_head(in_ZPlusMirth_1, v94, &v97);
			TUP* v99;
			STR* v100;
			mw_mirth_token_Token_locationZThen(v97, v96, v98, &v99, &v100);
			branch_ZPlusStr_7 = v100;
			branch_ZPlusMirth_6 = v99;
		} break;
		case 14LL: { // AliasTarget
			uint64_t v101 = mtp_mirth_mirth_PropLabel_AliasTarget(in_PropLabel_3);
			STR* v102;
			STRLIT(v102, "alias target at ", 16);
			STR* v103;
			mw_std_str_ZPlusStr_pushZ_strZBang(v102, in_ZPlusStr_2, &v103);
			TUP* v104;
			uint64_t v105 = mw_mirth_alias_Alias_head(in_ZPlusMirth_1, v101, &v104);
			TUP* v106;
			STR* v107;
			mw_mirth_token_Token_locationZThen(v104, v103, v105, &v106, &v107);
			branch_ZPlusStr_7 = v107;
			branch_ZPlusMirth_6 = v106;
		} break;
		case 15LL: { // ExternalQName
			uint64_t v108 = mtp_mirth_mirth_PropLabel_ExternalQName(in_PropLabel_3);
			STR* v109;
			STRLIT(v109, "external qname at ", 18);
			STR* v110;
			mw_std_str_ZPlusStr_pushZ_strZBang(v109, in_ZPlusStr_2, &v110);
			TUP* v111;
			uint64_t v112 = mw_mirth_external_External_head(in_ZPlusMirth_1, v108, &v111);
			TUP* v113;
			STR* v114;
			mw_mirth_token_Token_locationZThen(v111, v110, v112, &v113, &v114);
			branch_ZPlusStr_7 = v114;
			branch_ZPlusMirth_6 = v113;
		} break;
		case 16LL: { // ExternalType
			uint64_t v115 = mtp_mirth_mirth_PropLabel_ExternalType(in_PropLabel_3);
			STR* v116;
			STRLIT(v116, "external type at ", 17);
			STR* v117;
			mw_std_str_ZPlusStr_pushZ_strZBang(v116, in_ZPlusStr_2, &v117);
			TUP* v118;
			uint64_t v119 = mw_mirth_external_External_head(in_ZPlusMirth_1, v115, &v118);
			TUP* v120;
			STR* v121;
			mw_mirth_token_Token_locationZThen(v118, v117, v119, &v120, &v121);
			branch_ZPlusStr_7 = v121;
			branch_ZPlusMirth_6 = v120;
		} break;
		case 17LL: { // ExternalCType
			uint64_t v122 = mtp_mirth_mirth_PropLabel_ExternalCType(in_PropLabel_3);
			STR* v123;
			STRLIT(v123, "external ctype at ", 18);
			STR* v124;
			mw_std_str_ZPlusStr_pushZ_strZBang(v123, in_ZPlusStr_2, &v124);
			TUP* v125;
			uint64_t v126 = mw_mirth_external_External_head(in_ZPlusMirth_1, v122, &v125);
			TUP* v127;
			STR* v128;
			mw_mirth_token_Token_locationZThen(v125, v124, v126, &v127, &v128);
			branch_ZPlusStr_7 = v128;
			branch_ZPlusMirth_6 = v127;
		} break;
		case 18LL: { // BufferQName
			uint64_t v129 = mtp_mirth_mirth_PropLabel_BufferQName(in_PropLabel_3);
			STR* v130;
			STRLIT(v130, "buffer qname at ", 16);
			STR* v131;
			mw_std_str_ZPlusStr_pushZ_strZBang(v130, in_ZPlusStr_2, &v131);
			TUP* v132;
			uint64_t v133 = mw_mirth_buffer_Buffer_head(in_ZPlusMirth_1, v129, &v132);
			TUP* v134;
			STR* v135;
			mw_mirth_token_Token_locationZThen(v132, v131, v133, &v134, &v135);
			branch_ZPlusStr_7 = v135;
			branch_ZPlusMirth_6 = v134;
		} break;
		case 19LL: { // TableOwner
			uint64_t v136 = mtp_mirth_mirth_PropLabel_TableOwner(in_PropLabel_3);
			STR* v137;
			STRLIT(v137, "table owner at ", 15);
			STR* v138;
			mw_std_str_ZPlusStr_pushZ_strZBang(v137, in_ZPlusStr_2, &v138);
			TUP* v139;
			uint64_t v140 = mw_mirth_table_Table_head(in_ZPlusMirth_1, v136, &v139);
			TUP* v141;
			STR* v142;
			mw_mirth_token_Token_locationZThen(v139, v138, v140, &v141, &v142);
			branch_ZPlusStr_7 = v142;
			branch_ZPlusMirth_6 = v141;
		} break;
		case 20LL: { // FieldOwner
			uint64_t v143 = mtp_mirth_mirth_PropLabel_FieldOwner(in_PropLabel_3);
			STR* v144;
			STRLIT(v144, "field owner at ", 15);
			STR* v145;
			mw_std_str_ZPlusStr_pushZ_strZBang(v144, in_ZPlusStr_2, &v145);
			TUP* v146;
			uint64_t v147 = mw_mirth_table_Field_head(in_ZPlusMirth_1, v143, &v146);
			TUP* v148;
			STR* v149;
			mw_mirth_token_Token_locationZThen(v146, v145, v147, &v148, &v149);
			branch_ZPlusStr_7 = v149;
			branch_ZPlusMirth_6 = v148;
		} break;
		case 21LL: { // FieldQName
			uint64_t v150 = mtp_mirth_mirth_PropLabel_FieldQName(in_PropLabel_3);
			STR* v151;
			STRLIT(v151, "field qname at ", 15);
			STR* v152;
			mw_std_str_ZPlusStr_pushZ_strZBang(v151, in_ZPlusStr_2, &v152);
			TUP* v153;
			uint64_t v154 = mw_mirth_table_Field_head(in_ZPlusMirth_1, v150, &v153);
			TUP* v155;
			STR* v156;
			mw_mirth_token_Token_locationZThen(v153, v152, v154, &v155, &v156);
			branch_ZPlusStr_7 = v156;
			branch_ZPlusMirth_6 = v155;
		} break;
		case 22LL: { // FieldValueType
			uint64_t v157 = mtp_mirth_mirth_PropLabel_FieldValueType(in_PropLabel_3);
			STR* v158;
			STRLIT(v158, "field value type at ", 20);
			STR* v159;
			mw_std_str_ZPlusStr_pushZ_strZBang(v158, in_ZPlusStr_2, &v159);
			TUP* v160;
			uint64_t v161 = mw_mirth_table_Field_head(in_ZPlusMirth_1, v157, &v160);
			TUP* v162;
			STR* v163;
			mw_mirth_token_Token_locationZThen(v160, v159, v161, &v162, &v163);
			branch_ZPlusStr_7 = v163;
			branch_ZPlusMirth_6 = v162;
		} break;
		case 23LL: { // FieldIndexType
			uint64_t v164 = mtp_mirth_mirth_PropLabel_FieldIndexType(in_PropLabel_3);
			STR* v165;
			STRLIT(v165, "field index type at ", 20);
			STR* v166;
			mw_std_str_ZPlusStr_pushZ_strZBang(v165, in_ZPlusStr_2, &v166);
			TUP* v167;
			uint64_t v168 = mw_mirth_table_Field_head(in_ZPlusMirth_1, v164, &v167);
			TUP* v169;
			STR* v170;
			mw_mirth_token_Token_locationZThen(v167, v166, v168, &v169, &v170);
			branch_ZPlusStr_7 = v170;
			branch_ZPlusMirth_6 = v169;
		} break;
		case 24LL: { // MacroQName
			uint64_t v171 = mtp_mirth_mirth_PropLabel_MacroQName(in_PropLabel_3);
			STR* v172;
			STRLIT(v172, "macro qname at ", 15);
			STR* v173;
			mw_std_str_ZPlusStr_pushZ_strZBang(v172, in_ZPlusStr_2, &v173);
			TUP* v174;
			VAL v175 = mw_mirth_macro_Macro_headZAsk(in_ZPlusMirth_1, v171, &v174);
			TUP* v176;
			STR* v177;
			mw_std_maybe_Maybe_1_locationZAskZThen_sp1(v174, v173, v175, &v176, &v177);
			branch_ZPlusStr_7 = v177;
			branch_ZPlusMirth_6 = v176;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static TUP* mw_mirth_mirth_PropLabel_prop (TUP* in_ZPlusMirth_1, VAL in_b_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4) {
	VAL v6 = mtw_mirth_mirth_PropState_1_Ready(in_b_2);
	TUP* v7 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_3, v6);
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return v7;
}
static TUP* mw_mirth_mirth_PropLabel_prop2 (TUP* in_ZPlusMirth_1, VAL in_b1_2, VAL in_b2_3, VAL in_PropLabel_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7 = tup_new(2);
	v7->size = 2;
	v7->cells[1] = in_b2_3;
	v7->cells[0] = in_b1_2;
	TUP* v8;
	TUP* v9 = mw_mirth_mirth_PropLabel_prop(in_ZPlusMirth_1, MKTUP(v7, 2), in_PropLabel_4, &v8);
	*out_ZPlusMirth_5 = v8;
	return v9;
}
static void mw_mirth_token_Token_locationZThen (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, uint64_t in_Token_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_token_Token_location(in_ZPlusMirth_1, in_Token_3, &v6);
	TUP* v8;
	STR* v9;
	mw_mirth_location_Location_emitZThen(v6, in_ZPlusStr_2, v7, &v8, &v9);
	*out_ZPlusStr_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static TUP* mw_mirth_specializzer_runZ_specializzerZBang (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* *out_ZPlusMirth_3) {
	VAL v5;
	mw_mirth_specializzer_ZPlusSPCheck_InitZBang(&v5);
	TUP* v6;
	VAL v7;
	TUP* v8 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(in_ZPlusMirth_1, v5, in_Arrow_2, &v6, &v7);
	TUP* v9;
	VAL v10;
	mw_mirth_specializzer_ZPlusSPCheck_checkZ_transitiveZBang(v6, v7, &v9, &v10);
	mw_mirth_specializzer_ZPlusSPCheck_quitZBang(v10);
	*out_ZPlusMirth_3 = v9;
	return v8;
}
static void mw_mirth_specializzer_ZPlusSPCheck_InitZBang (VAL *out_ZPlusSPCheck_1) {
	VAL v2 = MKI64(0LL /* Nil */);
	*out_ZPlusSPCheck_1 = v2;
}
static void mw_mirth_specializzer_ZPlusSPCheck_quitZBang (VAL in_ZPlusSPCheck_1) {
	decref(in_ZPlusSPCheck_1);
}
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_transitiveZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* *out_ZPlusMirth_3, VAL *out_ZPlusSPCheck_4) {
	bool v5 = true;
	TUP* v6 = in_ZPlusMirth_1;
	VAL v7 = in_ZPlusSPCheck_2;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		TUP* v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		incref(v11);
		VAL v13;
		VAL v14 = mw_std_list_List_1_uncons(v11, &v13);
		decref(v11);
		TUP* branch_ZPlusMirth_15;
		VAL branch_ZPlusSPCheck_16;
		bool branch_Bool_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				TUP* v19;
				VAL v20;
				mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang(v10, v13, v18, &v19, &v20);
				bool v21 = true;
				branch_Bool_17 = v21;
				branch_ZPlusSPCheck_16 = v20;
				branch_ZPlusMirth_15 = v19;
			} break;
			case 0LL: { // None
				bool v22 = false;
				branch_Bool_17 = v22;
				branch_ZPlusSPCheck_16 = v13;
				branch_ZPlusMirth_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_17;
		v8 = branch_Bool_17;
		v7 = branch_ZPlusSPCheck_16;
		v6 = branch_ZPlusMirth_15;
	}
	*out_ZPlusSPCheck_4 = v7;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, VAL in_SPCheckItem_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5) {
	TUP* branch_ZPlusMirth_6;
	VAL branch_ZPlusSPCheck_7;
	switch (get_data_tag(in_SPCheckItem_3)) {
		case 0LL: { // Word
			uint64_t v8 = mtp_mirth_specializzer_SPCheckItem_Word(in_SPCheckItem_3);
			TUP* v9;
			TUP* v10 = mw_mirth_word_Word_arrow(in_ZPlusMirth_1, v8, &v9);
			TUP* v11;
			VAL v12;
			TUP* v13 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(v9, in_ZPlusSPCheck_2, v10, &v11, &v12);
			VAL v14 = mtw_mirth_mirth_PropLabel_WordArrow(v8);
			TUP* v15;
			TUP* v16 = mw_mirth_mirth_PropLabel_prop(v11, MKTUP(v13, 7), v14, &v15);
			void* v17 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v8);
			mut_set(MKTUP(v16, 2), v17);
			branch_ZPlusSPCheck_7 = v12;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 1LL: { // Block
			uint64_t v18 = mtp_mirth_specializzer_SPCheckItem_Block(in_SPCheckItem_3);
			TUP* v19;
			TUP* v20 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v18, &v19);
			TUP* v21;
			VAL v22;
			TUP* v23 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(v19, in_ZPlusSPCheck_2, v20, &v21, &v22);
			VAL v24 = mtw_mirth_mirth_PropLabel_BlockArrow(v18);
			TUP* v25;
			TUP* v26 = mw_mirth_mirth_PropLabel_prop(v21, MKTUP(v23, 7), v24, &v25);
			void* v27 = field_mut(&mfld_mirth_arrow_Block_ZTildearrow, v18);
			mut_set(MKTUP(v26, 2), v27);
			branch_ZPlusSPCheck_7 = v22;
			branch_ZPlusMirth_6 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_5 = branch_ZPlusSPCheck_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static TUP* mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Arrow_3, 7));
	VAL v7 = in_Arrow_3->cells[6];
	incref(v7);
	decref(MKTUP(in_Arrow_3, 7));
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	TUP* v11 = in_ZPlusMirth_1;
	VAL v12 = in_ZPlusSPCheck_2;
	VAL v13 = v9;
	VAL v14 = v7;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		TUP* v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		VAL v20 = v14;
		bool v21 = v15;
		TUP* branch_ZPlusMirth_22;
		VAL branch_ZPlusSPCheck_23;
		VAL branch_ZPlusLister_24;
		VAL branch_List_25;
		bool branch_Bool_26;
		switch (get_data_tag(v20)) {
			case 1LL: { // Cons
				VAL v27;
				VAL v28 = mtp_std_list_List_1_Cons(v20, &v27);
				TUP* v29;
				VAL v30;
				VAL v31 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang(v17, v18, value_tup(v28, 8), &v29, &v30);
				VAL v32;
				mw_std_list_List_1_for_1_sp49(v19, v31, &v32);
				bool v33 = true;
				branch_Bool_26 = v33;
				branch_List_25 = v27;
				branch_ZPlusLister_24 = v32;
				branch_ZPlusSPCheck_23 = v30;
				branch_ZPlusMirth_22 = v29;
			} break;
			case 0LL: { // Nil
				VAL v34 = MKI64(0LL /* Nil */);
				bool v35 = false;
				branch_Bool_26 = v35;
				branch_List_25 = v34;
				branch_ZPlusLister_24 = v19;
				branch_ZPlusSPCheck_23 = v18;
				branch_ZPlusMirth_22 = v17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_26;
		v15 = branch_Bool_26;
		v14 = branch_List_25;
		v13 = branch_ZPlusLister_24;
		v12 = branch_ZPlusSPCheck_23;
		v11 = branch_ZPlusMirth_22;
	}
	decref(v14);
	VAL v36 = mw_std_list_ZPlusLister_1_doneZBang(v13);
	VAL v37 = tup_replace(MKTUP(in_Arrow_3, 7), 6, v36);
	*out_ZPlusSPCheck_5 = v12;
	*out_ZPlusMirth_4 = v11;
	return value_tup(v37, 7);
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Atom_3, 8));
	VAL v7 = in_Atom_3->cells[3];
	incref(v7);
	decref(MKTUP(in_Atom_3, 8));
	TUP* branch_ZPlusMirth_8;
	VAL branch_ZPlusSPCheck_9;
	VAL branch_List_10;
	switch (get_data_tag(v7)) {
		case 0LL: { // Prim
			int64_t v11 = mtp_mirth_arrow_Op_Prim(v7);
			VAL v12;
			VAL v13 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang(in_ZPlusSPCheck_2, in_Atom_3, v11, &v12);
			branch_List_10 = v13;
			branch_ZPlusSPCheck_9 = v12;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Word
			uint64_t v14 = mtp_mirth_arrow_Op_Word(v7);
			TUP* v15;
			VAL v16;
			VAL v17 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, in_Atom_3, v14, &v15, &v16);
			branch_List_10 = v17;
			branch_ZPlusSPCheck_9 = v16;
			branch_ZPlusMirth_8 = v15;
		} break;
		case 2LL: { // External
			uint64_t v18 = mtp_mirth_arrow_Op_External(v7);
			VAL v19 = MKI64(0LL /* Nil */);
			VAL v20 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v19);
			branch_List_10 = v20;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Buffer
			uint64_t v21 = mtp_mirth_arrow_Op_Buffer(v7);
			VAL v22 = MKI64(0LL /* Nil */);
			VAL v23 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v22);
			branch_List_10 = v23;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Field
			uint64_t v24 = mtp_mirth_arrow_Op_Field(v7);
			VAL v25 = MKI64(0LL /* Nil */);
			VAL v26 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v25);
			branch_List_10 = v26;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Push
			VAL v27 = mtp_mirth_arrow_Op_Push(v7);
			decref(v27);
			VAL v28 = MKI64(0LL /* Nil */);
			VAL v29 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v28);
			branch_List_10 = v29;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v30 = mtp_mirth_arrow_Op_Tag(v7);
			VAL v31 = MKI64(0LL /* Nil */);
			VAL v32 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v31);
			branch_List_10 = v32;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Match
			TUP* v33 = mtp_mirth_arrow_Op_Match(v7);
			TUP* v34;
			VAL v35;
			TUP* v36 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v33, &v34, &v35);
			VAL v37 = mtw_mirth_arrow_Op_Match(v36);
			VAL v38 = tup_replace(MKTUP(in_Atom_3, 8), 3, v37);
			VAL v39 = MKI64(0LL /* Nil */);
			VAL v40 = mw_std_list_List_1_cons(v38, v39);
			branch_List_10 = v40;
			branch_ZPlusSPCheck_9 = v35;
			branch_ZPlusMirth_8 = v34;
		} break;
		case 8LL: { // Lambda
			TUP* v41 = mtp_mirth_arrow_Op_Lambda(v7);
			TUP* v42;
			VAL v43;
			TUP* v44 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v41, &v42, &v43);
			VAL v45 = mtw_mirth_arrow_Op_Lambda(v44);
			VAL v46 = tup_replace(MKTUP(in_Atom_3, 8), 3, v45);
			VAL v47 = MKI64(0LL /* Nil */);
			VAL v48 = mw_std_list_List_1_cons(v46, v47);
			branch_List_10 = v48;
			branch_ZPlusSPCheck_9 = v43;
			branch_ZPlusMirth_8 = v42;
		} break;
		case 9LL: { // Var
			uint64_t v49 = mtp_mirth_arrow_Op_Var(v7);
			VAL v50 = MKI64(0LL /* Nil */);
			VAL v51 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v50);
			branch_List_10 = v51;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v52 = mtp_mirth_arrow_Op_BlockPush(v7);
			VAL v53;
			mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(in_ZPlusSPCheck_2, v52, &v53);
			VAL v54 = MKI64(0LL /* Nil */);
			VAL v55 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v54);
			branch_List_10 = v55;
			branch_ZPlusSPCheck_9 = v53;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // BlockRun
			uint64_t v56 = mtp_mirth_arrow_Op_BlockRun(v7);
			VAL v57;
			mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(in_ZPlusSPCheck_2, v56, &v57);
			VAL v58 = MKI64(0LL /* Nil */);
			VAL v59 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v58);
			branch_List_10 = v59;
			branch_ZPlusSPCheck_9 = v57;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // LabelPush
			uint64_t v60 = mtp_mirth_arrow_Op_LabelPush(v7);
			VAL v61 = MKI64(0LL /* Nil */);
			VAL v62 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v61);
			branch_List_10 = v62;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // LabelPop
			uint64_t v63 = mtp_mirth_arrow_Op_LabelPop(v7);
			VAL v64 = MKI64(0LL /* Nil */);
			VAL v65 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v64);
			branch_List_10 = v65;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v66 = mtp_mirth_arrow_Op_LabelPushR(v7);
			VAL v67 = MKI64(0LL /* Nil */);
			VAL v68 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v67);
			branch_List_10 = v68;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v69 = mtp_mirth_arrow_Op_LabelPopR(v7);
			VAL v70 = MKI64(0LL /* Nil */);
			VAL v71 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v70);
			branch_List_10 = v71;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v72 = mtp_mirth_arrow_Op_DataGetEnumValue(v7);
			VAL v73 = MKI64(0LL /* Nil */);
			VAL v74 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v73);
			branch_List_10 = v74;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v75 = mtp_mirth_arrow_Op_DataFromEnumValue(v7);
			VAL v76 = MKI64(0LL /* Nil */);
			VAL v77 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v76);
			branch_List_10 = v77;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // DataGetLabel
			TUP* v78 = mtp_mirth_arrow_Op_DataGetLabel(v7);
			decref(MKTUP(v78, 3));
			VAL v79 = MKI64(0LL /* Nil */);
			VAL v80 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v79);
			branch_List_10 = v80;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // DataSetLabel
			TUP* v81 = mtp_mirth_arrow_Op_DataSetLabel(v7);
			decref(MKTUP(v81, 3));
			VAL v82 = MKI64(0LL /* Nil */);
			VAL v83 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v82);
			branch_List_10 = v83;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v84 = mtp_mirth_arrow_Op_TableToIndex(v7);
			VAL v85 = MKI64(0LL /* Nil */);
			VAL v86 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v85);
			branch_List_10 = v86;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v87 = mtp_mirth_arrow_Op_TableFromIndex(v7);
			VAL v88 = MKI64(0LL /* Nil */);
			VAL v89 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v88);
			branch_List_10 = v89;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_5 = branch_ZPlusSPCheck_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_List_10;
}
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang (VAL in_ZPlusSPCheck_1, uint64_t in_Arg_2, VAL *out_ZPlusSPCheck_3) {
	VAL v4;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(in_ZPlusSPCheck_1, in_Arg_2, &v4);
	*out_ZPlusSPCheck_3 = v4;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang (VAL in_ZPlusSPCheck_1, TUP* in_Atom_2, int64_t in_Prim_3, VAL *out_ZPlusSPCheck_4) {
	incref(MKTUP(in_Atom_2, 8));
	VAL v6 = in_Atom_2->cells[4];
	incref(v6);
	decref(MKTUP(in_Atom_2, 8));
	VAL v7;
	mw_std_list_List_1_for_1_sp64(in_ZPlusSPCheck_1, v6, &v7);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mw_std_list_List_1_cons(MKTUP(in_Atom_2, 8), v8);
	*out_ZPlusSPCheck_4 = v7;
	return v9;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Atom_3, uint64_t in_Word_4, TUP* *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6) {
	VAL v8;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang(in_ZPlusSPCheck_2, in_Word_4, &v8);
	incref(MKTUP(in_Atom_3, 8));
	VAL v9 = in_Atom_3->cells[4];
	incref(v9);
	decref(MKTUP(in_Atom_3, 8));
	VAL v10 = mw_std_list_List_1_ZToNestZAsk(v9);
	TUP* branch_ZPlusMirth_11;
	VAL branch_ZPlusSPCheck_12;
	VAL branch_List_13;
	switch (get_data_tag(v10)) {
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* Nil */);
			VAL v15 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v14);
			branch_List_13 = v15;
			branch_ZPlusSPCheck_12 = v8;
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v10);
			incref(v16);
			VAL v17 = mw_std_list_Nest_1_ZToList(value_tup(v16, 2));
			VAL v18 = MKI64(0LL /* None */);
			bool v19 = true;
			TUP* v20 = in_ZPlusMirth_1;
			VAL v21 = v18;
			VAL v22 = v17;
			bool v23 = v19;
			bool v24 = v19;
			while (v24) {
				TUP* v25 = v20;
				VAL v26 = v21;
				VAL v27 = v22;
				bool v28 = v23;
				VAL v29;
				VAL v30 = mw_std_list_List_1_uncons(v27, &v29);
				TUP* branch_ZPlusMirth_31;
				VAL branch_Maybe_32;
				VAL branch_List_33;
				bool branch_Bool_34;
				switch (get_data_tag(v30)) {
					case 1LL: { // Some
						VAL v35 = mtp_std_maybe_Maybe_1_Some(v30);
						incref(v35);
						TUP* v36;
						VAL v37 = mw_mirth_arrow_Arg_freeZ_vars(v25, value_u64(v35), &v36);
						VAL v38 = MKI64(0LL /* None */);
						bool v39 = true;
						TUP* v40 = v36;
						VAL v41 = v38;
						VAL v42 = v37;
						bool v43 = v39;
						bool v44 = v39;
						while (v44) {
							TUP* v45 = v40;
							VAL v46 = v41;
							VAL v47 = v42;
							bool v48 = v43;
							VAL v49;
							VAL v50 = mw_std_list_List_1_uncons(v47, &v49);
							TUP* branch_ZPlusMirth_51;
							VAL branch_Maybe_52;
							VAL branch_List_53;
							bool branch_Bool_54;
							switch (get_data_tag(v50)) {
								case 1LL: { // Some
									VAL v55 = mtp_std_maybe_Maybe_1_Some(v50);
									incref(v55);
									TUP* v56;
									bool v57 = mw_mirth_var_Var_isZ_physicalZAsk(v45, value_u64(v55), &v56);
									TUP* branch_ZPlusMirth_58;
									VAL branch_Maybe_59;
									if (v57) {
										VAL v60 = mtw_std_maybe_Maybe_1_Some(v55);
										branch_Maybe_59 = v60;
										branch_ZPlusMirth_58 = v56;
									} else {
										decref(v55);
										VAL v61 = MKI64(0LL /* None */);
										branch_Maybe_59 = v61;
										branch_ZPlusMirth_58 = v56;
									}
									TUP* branch_ZPlusMirth_62;
									VAL branch_Maybe_63;
									VAL branch_List_64;
									switch (get_data_tag(branch_Maybe_59)) {
										case 0LL: { // None
											branch_List_64 = v49;
											branch_Maybe_63 = v46;
											branch_ZPlusMirth_62 = branch_ZPlusMirth_58;
										} break;
										default: {
											decref(v49);
											decref(v46);
											VAL v65 = MKI64(0LL /* Nil */);
											branch_List_64 = v65;
											branch_Maybe_63 = branch_Maybe_59;
											branch_ZPlusMirth_62 = branch_ZPlusMirth_58;
										} break;
									}
									bool v66 = true;
									branch_Bool_54 = v66;
									branch_List_53 = branch_List_64;
									branch_Maybe_52 = branch_Maybe_63;
									branch_ZPlusMirth_51 = branch_ZPlusMirth_62;
								} break;
								case 0LL: { // None
									bool v67 = false;
									branch_Bool_54 = v67;
									branch_List_53 = v49;
									branch_Maybe_52 = v46;
									branch_ZPlusMirth_51 = v45;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							v44 = branch_Bool_54;
							v43 = branch_Bool_54;
							v42 = branch_List_53;
							v41 = branch_Maybe_52;
							v40 = branch_ZPlusMirth_51;
						}
						decref(v42);
						int64_t v68 = get_data_tag(v41);
						decref(v41);
						INT v69 = WRAP_I63(0LL);
						INT v70 = i64_to_int(v68);
						bool v71 = int_eq(v70, v69);
						bool v72 = !v71;
						TUP* branch_ZPlusMirth_73;
						VAL branch_Maybe_74;
						if (v72) {
							VAL v75 = mtw_std_maybe_Maybe_1_Some(v35);
							branch_Maybe_74 = v75;
							branch_ZPlusMirth_73 = v40;
						} else {
							decref(v35);
							VAL v76 = MKI64(0LL /* None */);
							branch_Maybe_74 = v76;
							branch_ZPlusMirth_73 = v40;
						}
						TUP* branch_ZPlusMirth_77;
						VAL branch_Maybe_78;
						VAL branch_List_79;
						switch (get_data_tag(branch_Maybe_74)) {
							case 0LL: { // None
								branch_List_79 = v29;
								branch_Maybe_78 = v26;
								branch_ZPlusMirth_77 = branch_ZPlusMirth_73;
							} break;
							default: {
								decref(v29);
								decref(v26);
								VAL v80 = MKI64(0LL /* Nil */);
								branch_List_79 = v80;
								branch_Maybe_78 = branch_Maybe_74;
								branch_ZPlusMirth_77 = branch_ZPlusMirth_73;
							} break;
						}
						bool v81 = true;
						branch_Bool_34 = v81;
						branch_List_33 = branch_List_79;
						branch_Maybe_32 = branch_Maybe_78;
						branch_ZPlusMirth_31 = branch_ZPlusMirth_77;
					} break;
					case 0LL: { // None
						bool v82 = false;
						branch_Bool_34 = v82;
						branch_List_33 = v29;
						branch_Maybe_32 = v26;
						branch_ZPlusMirth_31 = v25;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v24 = branch_Bool_34;
				v23 = branch_Bool_34;
				v22 = branch_List_33;
				v21 = branch_Maybe_32;
				v20 = branch_ZPlusMirth_31;
			}
			decref(v22);
			int64_t v83 = get_data_tag(v21);
			decref(v21);
			INT v84 = WRAP_I63(0LL);
			INT v85 = i64_to_int(v83);
			bool v86 = int_eq(v85, v84);
			bool v87 = !v86;
			TUP* branch_ZPlusMirth_88;
			VAL branch_ZPlusSPCheck_89;
			VAL branch_List_90;
			if (v87) {
				incref(v16);
				VAL v91;
				VAL v92 = mw_std_list_Nest_1_uncons(value_tup(v16, 2), &v91);
				VAL v93;
				mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang(v8, value_u64(v92), &v93);
				VAL v94;
				mw_std_list_List_1_for_1_sp64(v93, v91, &v94);
				decref(v16);
				VAL v95 = MKI64(0LL /* Nil */);
				VAL v96 = mw_std_list_List_1_cons(MKTUP(in_Atom_3, 8), v95);
				branch_List_90 = v96;
				branch_ZPlusSPCheck_89 = v94;
				branch_ZPlusMirth_88 = v20;
			} else {
				TUP* v97;
				uint64_t v98 = mw_mirth_specializzer_specializzeZ_wordZBang(v20, value_tup(v16, 2), in_Word_4, &v97);
				VAL v99;
				mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang(v8, v98, &v99);
				VAL v100 = mtw_mirth_arrow_Op_Word(v98);
				VAL v101 = tup_replace(MKTUP(in_Atom_3, 8), 3, v100);
				VAL v102 = MKI64(0LL /* Nil */);
				VAL v103 = tup_replace(v101, 4, v102);
				VAL v104 = MKI64(0LL /* Nil */);
				VAL v105 = mw_std_list_List_1_cons(v103, v104);
				branch_List_90 = v105;
				branch_ZPlusSPCheck_89 = v99;
				branch_ZPlusMirth_88 = v97;
			}
			branch_List_13 = branch_List_90;
			branch_ZPlusSPCheck_12 = branch_ZPlusSPCheck_89;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_88;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_6 = branch_ZPlusSPCheck_12;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_11;
	return branch_List_13;
}
static TUP* mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Match_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Match_3, 7));
	VAL v7 = in_Match_3->cells[6];
	incref(v7);
	decref(MKTUP(in_Match_3, 7));
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	TUP* v11 = in_ZPlusMirth_1;
	VAL v12 = in_ZPlusSPCheck_2;
	VAL v13 = v9;
	VAL v14 = v7;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		TUP* v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		VAL v20 = v14;
		bool v21 = v15;
		TUP* branch_ZPlusMirth_22;
		VAL branch_ZPlusSPCheck_23;
		VAL branch_ZPlusLister_24;
		VAL branch_List_25;
		bool branch_Bool_26;
		switch (get_data_tag(v20)) {
			case 1LL: { // Cons
				VAL v27;
				VAL v28 = mtp_std_list_List_1_Cons(v20, &v27);
				TUP* v29;
				VAL v30;
				TUP* v31 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang(v17, v18, value_tup(v28, 2), &v29, &v30);
				VAL v32;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v31, 2), v19, &v32);
				bool v33 = true;
				branch_Bool_26 = v33;
				branch_List_25 = v27;
				branch_ZPlusLister_24 = v32;
				branch_ZPlusSPCheck_23 = v30;
				branch_ZPlusMirth_22 = v29;
			} break;
			case 0LL: { // Nil
				VAL v34 = MKI64(0LL /* Nil */);
				bool v35 = false;
				branch_Bool_26 = v35;
				branch_List_25 = v34;
				branch_ZPlusLister_24 = v19;
				branch_ZPlusSPCheck_23 = v18;
				branch_ZPlusMirth_22 = v17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_26;
		v15 = branch_Bool_26;
		v14 = branch_List_25;
		v13 = branch_ZPlusLister_24;
		v12 = branch_ZPlusSPCheck_23;
		v11 = branch_ZPlusMirth_22;
	}
	decref(v14);
	VAL v36 = mw_std_list_ZPlusLister_1_doneZBang(v13);
	VAL v37 = tup_replace(MKTUP(in_Match_3, 7), 6, v36);
	*out_ZPlusSPCheck_5 = v12;
	*out_ZPlusMirth_4 = v11;
	return value_tup(v37, 7);
}
static TUP* mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Case_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Case_3, 2));
	TUP* v7 = value_tup(in_Case_3->cells[1], 7);
	incref(MKTUP(v7, 7));
	decref(MKTUP(in_Case_3, 2));
	TUP* v8;
	VAL v9;
	TUP* v10 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v7, &v8, &v9);
	VAL v11 = tup_replace(MKTUP(in_Case_3, 2), 1, MKTUP(v10, 7));
	*out_ZPlusSPCheck_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return value_tup(v11, 2);
}
static TUP* mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, TUP* in_Lambda_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5) {
	incref(MKTUP(in_Lambda_3, 5));
	TUP* v7 = value_tup(in_Lambda_3->cells[4], 7);
	incref(MKTUP(v7, 7));
	decref(MKTUP(in_Lambda_3, 5));
	TUP* v8;
	VAL v9;
	TUP* v10 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(in_ZPlusMirth_1, in_ZPlusSPCheck_2, v7, &v8, &v9);
	VAL v11 = tup_replace(MKTUP(in_Lambda_3, 5), 4, MKTUP(v10, 7));
	*out_ZPlusSPCheck_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return value_tup(v11, 5);
}
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang (VAL in_ZPlusSPCheck_1, uint64_t in_Word_2, VAL *out_ZPlusSPCheck_3) {
	VAL v4 = mtw_mirth_specializzer_SPCheckItem_Word(in_Word_2);
	VAL v5;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_itemZBang(in_ZPlusSPCheck_1, v4, &v5);
	*out_ZPlusSPCheck_3 = v5;
}
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang (VAL in_ZPlusSPCheck_1, uint64_t in_Block_2, VAL *out_ZPlusSPCheck_3) {
	VAL v4 = mtw_mirth_specializzer_SPCheckItem_Block(in_Block_2);
	VAL v5;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_itemZBang(in_ZPlusSPCheck_1, v4, &v5);
	*out_ZPlusSPCheck_3 = v5;
}
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_itemZBang (VAL in_ZPlusSPCheck_1, VAL in_SPCheckItem_2, VAL *out_ZPlusSPCheck_3) {
	incref(in_SPCheckItem_2);
	VAL v4;
	bool v5 = mw_mirth_specializzer_ZPlusSPCheck_checkedZBang(in_ZPlusSPCheck_1, in_SPCheckItem_2, &v4);
	VAL branch_ZPlusSPCheck_6;
	if (v5) {
		decref(in_SPCheckItem_2);
		branch_ZPlusSPCheck_6 = v4;
	} else {
		incref(v4);
		VAL v7 = mw_std_list_List_1_cons(in_SPCheckItem_2, v4);
		decref(v4);
		branch_ZPlusSPCheck_6 = v7;
	}
	*out_ZPlusSPCheck_3 = branch_ZPlusSPCheck_6;
}
static bool mw_mirth_specializzer_ZPlusSPCheck_checkedZBang (VAL in_ZPlusSPCheck_1, VAL in_SPCheckItem_2, VAL *out_ZPlusSPCheck_3) {
	VAL branch_ZPlusSPCheck_5;
	void* branch_MutBool_6;
	switch (get_data_tag(in_SPCheckItem_2)) {
		case 0LL: { // Word
			uint64_t v7 = mtp_mirth_specializzer_SPCheckItem_Word(in_SPCheckItem_2);
			void* v8 = field_mut(&mfld_mirth_word_Word_ZTildespZ_checked, v7);
			branch_MutBool_6 = v8;
			branch_ZPlusSPCheck_5 = in_ZPlusSPCheck_1;
		} break;
		case 1LL: { // Block
			uint64_t v9 = mtp_mirth_specializzer_SPCheckItem_Block(in_SPCheckItem_2);
			void* v10 = field_mut(&mfld_mirth_arrow_Block_ZTildespZ_checked, v9);
			branch_MutBool_6 = v10;
			branch_ZPlusSPCheck_5 = in_ZPlusSPCheck_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v11 = mw_std_prelude_ZAtZAsk(branch_MutBool_6);
	bool v12 = mw_std_maybe_Maybe_1_unwrap_1_sp11(v11);
	bool v13 = true;
	mut_set(MKBOOL(v13), branch_MutBool_6);
	*out_ZPlusSPCheck_3 = branch_ZPlusSPCheck_5;
	return v12;
}
static bool mw_mirth_arrow_Arg_similar (TUP* in_ZPlusMirth_1, uint64_t in_Arg_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6;
	bool v7 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, in_Arg_2, in_Arg_3, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static bool mw_mirth_arrow_Block_similar (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4) {
	bool v6 = mw_mirth_arrow_Block_ZEqual(in_Block_2, in_Block_3);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Block_8;
	uint64_t branch_Block_9;
	bool branch_Bool_10;
	if (v6) {
		bool v11 = true;
		branch_Bool_10 = v11;
		branch_Block_9 = in_Block_3;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v12;
		TUP* v13 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v12);
		TUP* v14;
		TUP* v15 = mw_mirth_arrow_Block_arrow(v12, in_Block_3, &v14);
		TUP* v16;
		bool v17 = mw_mirth_arrow_Arrow_similar(v14, v13, v15, &v16);
		branch_Bool_10 = v17;
		branch_Block_9 = in_Block_3;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = v16;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Bool_10;
}
static bool mw_mirth_arrow_Arrow_similar (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4) {
	VAL v6 = in_Arrow_2->cells[6];
	incref(v6);
	decref(MKTUP(in_Arrow_2, 7));
	VAL v7 = in_Arrow_3->cells[6];
	incref(v7);
	decref(MKTUP(in_Arrow_3, 7));
	bool v8 = true;
	VAL v9;
	VAL v10 = mw_std_list_List_1_uncons(v6, &v9);
	VAL v11;
	VAL v12 = mw_std_list_List_1_uncons(v7, &v11);
	TUP* branch_ZPlusMirth_13;
	bool branch_Bool_14;
	switch (get_data_tag(v12)) {
		case 0LL: { // None
			int64_t v15 = get_data_tag(v10);
			decref(v10);
			INT v16 = WRAP_I63(0LL);
			INT v17 = i64_to_int(v15);
			bool v18 = int_eq(v17, v16);
			branch_Bool_14 = v18;
			branch_ZPlusMirth_13 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v19 = mtp_std_maybe_Maybe_1_Some(v12);
			TUP* branch_ZPlusMirth_20;
			bool branch_Bool_21;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v22 = mtp_std_maybe_Maybe_1_Some(v10);
					TUP* v23;
					bool v24 = mw_mirth_arrow_Atom_similar(in_ZPlusMirth_1, value_tup(v22, 8), value_tup(v19, 8), &v23);
					branch_Bool_21 = v24;
					branch_ZPlusMirth_20 = v23;
				} break;
				case 0LL: { // None
					decref(v19);
					bool v25 = false;
					branch_Bool_21 = v25;
					branch_ZPlusMirth_20 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_14 = branch_Bool_21;
			branch_ZPlusMirth_13 = branch_ZPlusMirth_20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v26 = (branch_Bool_14 && v8);
	incref(v9);
	bool v27 = mw_std_list_List_1_emptyZAsk(v9);
	incref(v11);
	bool v28 = mw_std_list_List_1_emptyZAsk(v11);
	bool v29 = (v27 && v28);
	bool v30 = !v29;
	bool v31 = (v30 && v26);
	TUP* v32 = branch_ZPlusMirth_13;
	VAL v33 = v9;
	VAL v34 = v11;
	bool v35 = v26;
	bool v36 = v31;
	while (v36) {
		TUP* v37 = v32;
		VAL v38 = v33;
		VAL v39 = v34;
		bool v40 = v35;
		VAL v41;
		VAL v42 = mw_std_list_List_1_uncons(v38, &v41);
		VAL v43;
		VAL v44 = mw_std_list_List_1_uncons(v39, &v43);
		TUP* branch_ZPlusMirth_45;
		bool branch_Bool_46;
		switch (get_data_tag(v44)) {
			case 0LL: { // None
				int64_t v47 = get_data_tag(v42);
				decref(v42);
				INT v48 = WRAP_I63(0LL);
				INT v49 = i64_to_int(v47);
				bool v50 = int_eq(v49, v48);
				branch_Bool_46 = v50;
				branch_ZPlusMirth_45 = v37;
			} break;
			case 1LL: { // Some
				VAL v51 = mtp_std_maybe_Maybe_1_Some(v44);
				TUP* branch_ZPlusMirth_52;
				bool branch_Bool_53;
				switch (get_data_tag(v42)) {
					case 1LL: { // Some
						VAL v54 = mtp_std_maybe_Maybe_1_Some(v42);
						TUP* v55;
						bool v56 = mw_mirth_arrow_Atom_similar(v37, value_tup(v54, 8), value_tup(v51, 8), &v55);
						branch_Bool_53 = v56;
						branch_ZPlusMirth_52 = v55;
					} break;
					case 0LL: { // None
						decref(v51);
						bool v57 = false;
						branch_Bool_53 = v57;
						branch_ZPlusMirth_52 = v37;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Bool_46 = branch_Bool_53;
				branch_ZPlusMirth_45 = branch_ZPlusMirth_52;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		bool v58 = (branch_Bool_46 && v40);
		incref(v41);
		bool v59 = mw_std_list_List_1_emptyZAsk(v41);
		incref(v43);
		bool v60 = mw_std_list_List_1_emptyZAsk(v43);
		bool v61 = (v59 && v60);
		bool v62 = !v61;
		bool v63 = (v62 && v58);
		v36 = v63;
		v35 = v58;
		v34 = v43;
		v33 = v41;
		v32 = branch_ZPlusMirth_45;
	}
	decref(v34);
	decref(v33);
	*out_ZPlusMirth_4 = v32;
	return v35;
}
static bool mw_mirth_arrow_Atom_similar (TUP* in_ZPlusMirth_1, TUP* in_Atom_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4) {
	incref(MKTUP(in_Atom_2, 8));
	incref(MKTUP(in_Atom_3, 8));
	VAL v6 = in_Atom_2->cells[3];
	incref(v6);
	decref(MKTUP(in_Atom_2, 8));
	VAL v7 = in_Atom_3->cells[3];
	incref(v7);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v8;
	bool v9 = mw_mirth_arrow_Op_similar(in_ZPlusMirth_1, v6, v7, &v8);
	TUP* branch_ZPlusMirth_10;
	TUP* branch_Atom_11;
	TUP* branch_Atom_12;
	bool branch_Bool_13;
	if (v9) {
		incref(MKTUP(in_Atom_2, 8));
		incref(MKTUP(in_Atom_3, 8));
		VAL v14 = in_Atom_2->cells[4];
		incref(v14);
		decref(MKTUP(in_Atom_2, 8));
		VAL v15 = in_Atom_3->cells[4];
		incref(v15);
		decref(MKTUP(in_Atom_3, 8));
		TUP* v16;
		bool v17 = mw_std_list_List_1_ZEqual_sp1(v8, v14, v15, &v16);
		branch_Bool_13 = v17;
		branch_Atom_12 = in_Atom_3;
		branch_Atom_11 = in_Atom_2;
		branch_ZPlusMirth_10 = v16;
	} else {
		bool v18 = false;
		branch_Bool_13 = v18;
		branch_Atom_12 = in_Atom_3;
		branch_Atom_11 = in_Atom_2;
		branch_ZPlusMirth_10 = v8;
	}
	decref(MKTUP(branch_Atom_12, 8));
	decref(MKTUP(branch_Atom_11, 8));
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Bool_13;
}
static bool mw_mirth_arrow_Op_similar (TUP* in_ZPlusMirth_1, VAL in_Op_2, VAL in_Op_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_6;
	bool branch_Bool_7;
	switch (get_data_tag(in_Op_3)) {
		case 0LL: { // Prim
			int64_t v8 = mtp_mirth_arrow_Op_Prim(in_Op_3);
			TUP* branch_ZPlusMirth_9;
			bool branch_Bool_10;
			switch (get_data_tag(in_Op_2)) {
				case 0LL: { // Prim
					int64_t v11 = mtp_mirth_arrow_Op_Prim(in_Op_2);
					bool v12 = mw_mirth_prim_Prim_ZEqual(v8, v11);
					branch_Bool_10 = v12;
					branch_ZPlusMirth_9 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v13 = false;
					branch_Bool_10 = v13;
					branch_ZPlusMirth_9 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_10;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_9;
		} break;
		case 1LL: { // Word
			uint64_t v14 = mtp_mirth_arrow_Op_Word(in_Op_3);
			TUP* branch_ZPlusMirth_15;
			bool branch_Bool_16;
			switch (get_data_tag(in_Op_2)) {
				case 1LL: { // Word
					uint64_t v17 = mtp_mirth_arrow_Op_Word(in_Op_2);
					bool v18 = mw_mirth_word_Word_ZEqual(v14, v17);
					branch_Bool_16 = v18;
					branch_ZPlusMirth_15 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v19 = false;
					branch_Bool_16 = v19;
					branch_ZPlusMirth_15 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_16;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_15;
		} break;
		case 2LL: { // External
			uint64_t v20 = mtp_mirth_arrow_Op_External(in_Op_3);
			TUP* branch_ZPlusMirth_21;
			bool branch_Bool_22;
			switch (get_data_tag(in_Op_2)) {
				case 2LL: { // External
					uint64_t v23 = mtp_mirth_arrow_Op_External(in_Op_2);
					bool v24 = mw_mirth_external_External_ZEqual(v20, v23);
					branch_Bool_22 = v24;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v25 = false;
					branch_Bool_22 = v25;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_22;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_21;
		} break;
		case 3LL: { // Buffer
			uint64_t v26 = mtp_mirth_arrow_Op_Buffer(in_Op_3);
			TUP* branch_ZPlusMirth_27;
			bool branch_Bool_28;
			switch (get_data_tag(in_Op_2)) {
				case 3LL: { // Buffer
					uint64_t v29 = mtp_mirth_arrow_Op_Buffer(in_Op_2);
					bool v30 = mw_mirth_buffer_Buffer_ZEqual(v26, v29);
					branch_Bool_28 = v30;
					branch_ZPlusMirth_27 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v31 = false;
					branch_Bool_28 = v31;
					branch_ZPlusMirth_27 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_28;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_27;
		} break;
		case 4LL: { // Field
			uint64_t v32 = mtp_mirth_arrow_Op_Field(in_Op_3);
			TUP* branch_ZPlusMirth_33;
			bool branch_Bool_34;
			switch (get_data_tag(in_Op_2)) {
				case 4LL: { // Field
					uint64_t v35 = mtp_mirth_arrow_Op_Field(in_Op_2);
					bool v36 = mw_mirth_table_Field_ZEqual(v32, v35);
					branch_Bool_34 = v36;
					branch_ZPlusMirth_33 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v37 = false;
					branch_Bool_34 = v37;
					branch_ZPlusMirth_33 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_34;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_33;
		} break;
		case 5LL: { // Push
			VAL v38 = mtp_mirth_arrow_Op_Push(in_Op_3);
			TUP* branch_ZPlusMirth_39;
			bool branch_Bool_40;
			switch (get_data_tag(in_Op_2)) {
				case 5LL: { // Push
					VAL v41 = mtp_mirth_arrow_Op_Push(in_Op_2);
					bool v42 = mw_mirth_arrow_PushValue_ZEqual(v38, v41);
					branch_Bool_40 = v42;
					branch_ZPlusMirth_39 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					decref(v38);
					bool v43 = false;
					branch_Bool_40 = v43;
					branch_ZPlusMirth_39 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_40;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_39;
		} break;
		case 6LL: { // Tag
			uint64_t v44 = mtp_mirth_arrow_Op_Tag(in_Op_3);
			TUP* branch_ZPlusMirth_45;
			bool branch_Bool_46;
			switch (get_data_tag(in_Op_2)) {
				case 6LL: { // Tag
					uint64_t v47 = mtp_mirth_arrow_Op_Tag(in_Op_2);
					bool v48 = mw_mirth_data_Tag_ZEqual(v44, v47);
					branch_Bool_46 = v48;
					branch_ZPlusMirth_45 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v49 = false;
					branch_Bool_46 = v49;
					branch_ZPlusMirth_45 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_46;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_45;
		} break;
		case 7LL: { // Match
			TUP* v50 = mtp_mirth_arrow_Op_Match(in_Op_3);
			decref(MKTUP(v50, 7));
			decref(in_Op_2);
			bool v51 = false;
			branch_Bool_7 = v51;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Lambda
			TUP* v52 = mtp_mirth_arrow_Op_Lambda(in_Op_3);
			decref(MKTUP(v52, 5));
			decref(in_Op_2);
			bool v53 = false;
			branch_Bool_7 = v53;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Var
			uint64_t v54 = mtp_mirth_arrow_Op_Var(in_Op_3);
			decref(in_Op_2);
			bool v55 = false;
			branch_Bool_7 = v55;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v56 = mtp_mirth_arrow_Op_BlockPush(in_Op_3);
			TUP* branch_ZPlusMirth_57;
			bool branch_Bool_58;
			switch (get_data_tag(in_Op_2)) {
				case 10LL: { // BlockPush
					uint64_t v59 = mtp_mirth_arrow_Op_BlockPush(in_Op_2);
					TUP* v60;
					bool v61 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, v56, v59, &v60);
					branch_Bool_58 = v61;
					branch_ZPlusMirth_57 = v60;
				} break;
				default: {
					decref(in_Op_2);
					bool v62 = false;
					branch_Bool_58 = v62;
					branch_ZPlusMirth_57 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_58;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_57;
		} break;
		case 11LL: { // BlockRun
			uint64_t v63 = mtp_mirth_arrow_Op_BlockRun(in_Op_3);
			TUP* branch_ZPlusMirth_64;
			bool branch_Bool_65;
			switch (get_data_tag(in_Op_2)) {
				case 11LL: { // BlockRun
					uint64_t v66 = mtp_mirth_arrow_Op_BlockRun(in_Op_2);
					TUP* v67;
					bool v68 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, v63, v66, &v67);
					branch_Bool_65 = v68;
					branch_ZPlusMirth_64 = v67;
				} break;
				default: {
					decref(in_Op_2);
					bool v69 = false;
					branch_Bool_65 = v69;
					branch_ZPlusMirth_64 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_65;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_64;
		} break;
		case 12LL: { // LabelPush
			uint64_t v70 = mtp_mirth_arrow_Op_LabelPush(in_Op_3);
			TUP* branch_ZPlusMirth_71;
			bool branch_Bool_72;
			switch (get_data_tag(in_Op_2)) {
				case 12LL: { // LabelPush
					uint64_t v73 = mtp_mirth_arrow_Op_LabelPush(in_Op_2);
					bool v74 = mw_mirth_label_Label_ZEqual(v70, v73);
					branch_Bool_72 = v74;
					branch_ZPlusMirth_71 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v75 = false;
					branch_Bool_72 = v75;
					branch_ZPlusMirth_71 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_72;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_71;
		} break;
		case 13LL: { // LabelPop
			uint64_t v76 = mtp_mirth_arrow_Op_LabelPop(in_Op_3);
			TUP* branch_ZPlusMirth_77;
			bool branch_Bool_78;
			switch (get_data_tag(in_Op_2)) {
				case 13LL: { // LabelPop
					uint64_t v79 = mtp_mirth_arrow_Op_LabelPop(in_Op_2);
					bool v80 = mw_mirth_label_Label_ZEqual(v76, v79);
					branch_Bool_78 = v80;
					branch_ZPlusMirth_77 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v81 = false;
					branch_Bool_78 = v81;
					branch_ZPlusMirth_77 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_78;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_77;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v82 = mtp_mirth_arrow_Op_LabelPushR(in_Op_3);
			TUP* branch_ZPlusMirth_83;
			bool branch_Bool_84;
			switch (get_data_tag(in_Op_2)) {
				case 14LL: { // LabelPushR
					uint64_t v85 = mtp_mirth_arrow_Op_LabelPushR(in_Op_2);
					bool v86 = mw_mirth_label_Label_ZEqual(v82, v85);
					branch_Bool_84 = v86;
					branch_ZPlusMirth_83 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v87 = false;
					branch_Bool_84 = v87;
					branch_ZPlusMirth_83 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_84;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_83;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v88 = mtp_mirth_arrow_Op_LabelPopR(in_Op_3);
			TUP* branch_ZPlusMirth_89;
			bool branch_Bool_90;
			switch (get_data_tag(in_Op_2)) {
				case 15LL: { // LabelPopR
					uint64_t v91 = mtp_mirth_arrow_Op_LabelPopR(in_Op_2);
					bool v92 = mw_mirth_label_Label_ZEqual(v88, v91);
					branch_Bool_90 = v92;
					branch_ZPlusMirth_89 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v93 = false;
					branch_Bool_90 = v93;
					branch_ZPlusMirth_89 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_90;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_89;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v94 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_3);
			TUP* branch_ZPlusMirth_95;
			bool branch_Bool_96;
			switch (get_data_tag(in_Op_2)) {
				case 16LL: { // DataGetEnumValue
					uint64_t v97 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_2);
					bool v98 = mw_mirth_data_Data_ZEqual(v94, v97);
					branch_Bool_96 = v98;
					branch_ZPlusMirth_95 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v99 = false;
					branch_Bool_96 = v99;
					branch_ZPlusMirth_95 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_96;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_95;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v100 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_3);
			TUP* branch_ZPlusMirth_101;
			bool branch_Bool_102;
			switch (get_data_tag(in_Op_2)) {
				case 17LL: { // DataFromEnumValue
					uint64_t v103 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_2);
					bool v104 = mw_mirth_data_Data_ZEqual(v100, v103);
					branch_Bool_102 = v104;
					branch_ZPlusMirth_101 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v105 = false;
					branch_Bool_102 = v105;
					branch_ZPlusMirth_101 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_102;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_101;
		} break;
		case 18LL: { // DataGetLabel
			TUP* v106 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_3);
			TUP* branch_ZPlusMirth_107;
			bool branch_Bool_108;
			switch (get_data_tag(in_Op_2)) {
				case 18LL: { // DataGetLabel
					TUP* v109 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_2);
					bool v110 = mw_mirth_data_TagField_similar(v106, v109);
					branch_Bool_108 = v110;
					branch_ZPlusMirth_107 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					decref(MKTUP(v106, 3));
					bool v111 = false;
					branch_Bool_108 = v111;
					branch_ZPlusMirth_107 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_108;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_107;
		} break;
		case 19LL: { // DataSetLabel
			TUP* v112 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_3);
			TUP* branch_ZPlusMirth_113;
			bool branch_Bool_114;
			switch (get_data_tag(in_Op_2)) {
				case 19LL: { // DataSetLabel
					TUP* v115 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_2);
					bool v116 = mw_mirth_data_TagField_similar(v112, v115);
					branch_Bool_114 = v116;
					branch_ZPlusMirth_113 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					decref(MKTUP(v112, 3));
					bool v117 = false;
					branch_Bool_114 = v117;
					branch_ZPlusMirth_113 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_114;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_113;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v118 = mtp_mirth_arrow_Op_TableToIndex(in_Op_3);
			TUP* branch_ZPlusMirth_119;
			bool branch_Bool_120;
			switch (get_data_tag(in_Op_2)) {
				case 20LL: { // TableToIndex
					uint64_t v121 = mtp_mirth_arrow_Op_TableToIndex(in_Op_2);
					bool v122 = mw_mirth_table_Table_ZEqual(v118, v121);
					branch_Bool_120 = v122;
					branch_ZPlusMirth_119 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v123 = false;
					branch_Bool_120 = v123;
					branch_ZPlusMirth_119 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_120;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_119;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v124 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_3);
			TUP* branch_ZPlusMirth_125;
			bool branch_Bool_126;
			switch (get_data_tag(in_Op_2)) {
				case 21LL: { // TableFromIndex
					uint64_t v127 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_2);
					bool v128 = mw_mirth_table_Table_ZEqual(v124, v127);
					branch_Bool_126 = v128;
					branch_ZPlusMirth_125 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					bool v129 = false;
					branch_Bool_126 = v129;
					branch_ZPlusMirth_125 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_126;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_125;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static bool mw_mirth_data_TagField_similar (TUP* in_TagField_1, TUP* in_TagField_2) {
	uint64_t v4;
	uint64_t v5;
	VAL v6;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v4, &v5, &v6);
	uint64_t v7;
	uint64_t v8;
	VAL v9;
	mtp_mirth_data_TagField_TagField(in_TagField_1, &v7, &v8, &v9);
	bool v10 = mw_mirth_label_Label_ZEqual(v8, v5);
	bool v11 = mw_mirth_data_Tag_ZEqual(v7, v4);
	bool v12 = (v10 && v11);
	decref(v6);
	decref(v9);
	return v12;
}
static bool mw_mirth_specializzer_SPKey_similar (TUP* in_ZPlusMirth_1, TUP* in_SPKey_2, TUP* in_SPKey_3, TUP* *out_ZPlusMirth_4) {
	VAL v6 = mw_std_list_Nest_1_ZToList(in_SPKey_2);
	VAL v7 = mw_std_list_Nest_1_ZToList(in_SPKey_3);
	TUP* v8;
	bool v9 = mw_std_list_List_1_ZEqual_sp1(in_ZPlusMirth_1, v6, v7, &v8);
	*out_ZPlusMirth_4 = v8;
	return v9;
}
static VAL mw_mirth_word_Word_spZ_synthed (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_word_Word_ZTildespZ_synthed, in_Word_2);
	VAL v6 = mw_std_prelude_ZAtZAsk(v5);
	VAL branch_Map_7;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_Map_7 = v8;
		} break;
		case 0LL: { // None
			VAL v9 = mw_std_map_Map_2_Nil();
			branch_Map_7 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return branch_Map_7;
}
static uint64_t mw_mirth_specializzer_specializzeZ_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_SPKey_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4) {
	incref(MKTUP(in_SPKey_2, 2));
	TUP* v6;
	VAL v7 = mw_mirth_word_Word_spZ_synthed(in_ZPlusMirth_1, in_Word_3, &v6);
	VAL v8 = MKI64(0LL /* None */);
	bool v9 = true;
	TUP* v10 = v6;
	TUP* v11 = in_SPKey_2;
	VAL v12 = v8;
	VAL v13 = v7;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		TUP* v16 = v10;
		TUP* v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		bool v20 = v14;
		VAL v21;
		VAL v22 = mw_std_list_List_1_uncons(v19, &v21);
		TUP* branch_ZPlusMirth_23;
		TUP* branch_SPKey_24;
		VAL branch_Maybe_25;
		VAL branch_List_26;
		bool branch_Bool_27;
		switch (get_data_tag(v22)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v22);
				incref(v28);
				incref(MKTUP(v17, 2));
				VAL v29 = VTUP(v28)->cells[0];
				incref(v29);
				decref(v28);
				TUP* v30;
				bool v31 = mw_mirth_specializzer_SPKey_similar(v16, v17, value_tup(v29, 2), &v30);
				TUP* branch_ZPlusMirth_32;
				TUP* branch_SPKey_33;
				VAL branch_Maybe_34;
				if (v31) {
					VAL v35 = mtw_std_maybe_Maybe_1_Some(v28);
					branch_Maybe_34 = v35;
					branch_SPKey_33 = v17;
					branch_ZPlusMirth_32 = v30;
				} else {
					decref(v28);
					VAL v36 = MKI64(0LL /* None */);
					branch_Maybe_34 = v36;
					branch_SPKey_33 = v17;
					branch_ZPlusMirth_32 = v30;
				}
				TUP* branch_ZPlusMirth_37;
				TUP* branch_SPKey_38;
				VAL branch_Maybe_39;
				VAL branch_List_40;
				switch (get_data_tag(branch_Maybe_34)) {
					case 0LL: { // None
						branch_List_40 = v21;
						branch_Maybe_39 = v18;
						branch_SPKey_38 = branch_SPKey_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
					default: {
						decref(v21);
						decref(v18);
						VAL v41 = MKI64(0LL /* Nil */);
						branch_List_40 = v41;
						branch_Maybe_39 = branch_Maybe_34;
						branch_SPKey_38 = branch_SPKey_33;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_32;
					} break;
				}
				bool v42 = true;
				branch_Bool_27 = v42;
				branch_List_26 = branch_List_40;
				branch_Maybe_25 = branch_Maybe_39;
				branch_SPKey_24 = branch_SPKey_38;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_37;
			} break;
			case 0LL: { // None
				bool v43 = false;
				branch_Bool_27 = v43;
				branch_List_26 = v21;
				branch_Maybe_25 = v18;
				branch_SPKey_24 = v17;
				branch_ZPlusMirth_23 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_27;
		v14 = branch_Bool_27;
		v13 = branch_List_26;
		v12 = branch_Maybe_25;
		v11 = branch_SPKey_24;
		v10 = branch_ZPlusMirth_23;
	}
	decref(v13);
	decref(MKTUP(v11, 2));
	VAL v44 = mw_std_maybe_Maybe_1_map_1_sp9(v12);
	TUP* branch_SPKey_45;
	uint64_t branch_Word_46;
	TUP* branch_ZPlusMirth_47;
	uint64_t branch_Word_48;
	switch (get_data_tag(v44)) {
		case 1LL: { // Some
			VAL v49 = mtp_std_maybe_Maybe_1_Some(v44);
			TUP* v50;
			bool v51 = mw_mirth_word_Word_preferZ_inlineZAsk(v10, in_Word_3, &v50);
			incref(v49);
			void* v52 = field_mut(&mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk, value_u64(v49));
			mut_set(MKBOOL(v51), v52);
			branch_Word_48 = value_u64(v49);
			branch_ZPlusMirth_47 = v50;
			branch_Word_46 = in_Word_3;
			branch_SPKey_45 = in_SPKey_2;
		} break;
		case 0LL: { // None
			TUP* v53;
			uint64_t v54 = mw_mirth_word_Word_head(v10, in_Word_3, &v53);
			VAL v55 = MKI64(0LL /* None */);
			TUP* v56;
			uint64_t v57 = mw_mirth_word_Word_body(v53, in_Word_3, &v56);
			TUP* v58;
			VAL v59 = mw_mirth_word_Word_spZ_synthed(v56, in_Word_3, &v58);
			INT v60 = mw_std_map_Map_2_len(v59);
			INT v61 = WRAP_I63(1LL);
			INT v62 = int_add(v60, v61);
			STR* v63;
			STRLIT(v63, "", 0);
			STR* v64;
			STRLIT(v64, "sp", 2);
			STR* v65;
			mw_std_str_ZPlusStr_pushZ_strZBang(v64, v63, &v65);
			STR* v66 = int_to_str(v62);
			STR* v67;
			mw_std_str_ZPlusStr_pushZ_strZBang(v66, v65, &v67);
			TUP* v68;
			uint64_t v69 = mw_std_prim_Str_ZToName(v58, v67, &v68);
			INT v70 = WRAP_I63(0LL);
			TUP* v71;
			VAL v72 = mw_mirth_word_Word_doc(v68, in_Word_3, &v71);
			TUP* v73;
			uint64_t v74 = mw_mirth_word_Word_NewZBang(v71, v54, v55, v57, v69, v70, v72, &v73);
			VAL v75 = mtw_mirth_name_Namespace_Word(in_Word_3);
			TUP* v76;
			uint64_t v77 = mw_mirth_word_Word_name(v73, v74, &v76);
			INT v78 = WRAP_I63(0LL);
			TUP* v79 = mw_mirth_name_QName_Mk(v75, v77, v78);
			VAL v80 = mtw_mirth_mirth_PropLabel_WordQName(v74);
			TUP* v81;
			TUP* v82 = mw_mirth_mirth_PropLabel_prop(v76, MKTUP(v79, 3), v80, &v81);
			void* v83 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v74);
			mut_set(MKTUP(v82, 2), v83);
			incref(MKTUP(in_SPKey_2, 2));
			TUP* v84 = mtw_std_map_KeyValuePair_2_KeyValuePair(MKTUP(in_SPKey_2, 2), MKU64(v74));
			TUP* v85;
			VAL v86 = mw_mirth_word_Word_spZ_synthed(v81, in_Word_3, &v85);
			VAL v87 = mw_std_map_Map_2_insert(v84, v86);
			void* v88 = field_mut(&mfld_mirth_word_Word_ZTildespZ_synthed, in_Word_3);
			mut_set(v87, v88);
			VAL v89 = mtw_mirth_mirth_PropLabel_WordType(v74);
			TUP* v90 = value_tup(v85->cells[6], 2);
			incref(MKTUP(v90, 2));
			FNPTR v91 = &mb_mirth_mirth_PropLabel_prop_1_sp1_0;
			VAL v92 = mtw_mirth_mirth_PropState_1_Delay(v90, MKU64(v74), MKFNPTR(v91));
			TUP* v93 = mtw_mirth_mirth_Prop_1_Prop(v89, v92);
			void* v94 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v74);
			mut_set(MKTUP(v93, 2), v94);
			bool v95 = true;
			void* v96 = field_mut(&mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk, v74);
			mut_set(MKBOOL(v95), v96);
			incref(MKTUP(in_SPKey_2, 2));
			VAL v97 = mtw_mirth_mirth_PropLabel_WordArrow(v74);
			TUP* v98 = tup_new(3);
			v98->size = 3;
			v98->cells[2] = MKU64(v74);
			v98->cells[1] = MKU64(in_Word_3);
			v98->cells[0] = MKTUP(in_SPKey_2, 2);
			TUP* v99 = value_tup(v85->cells[6], 2);
			incref(MKTUP(v99, 2));
			FNPTR v100 = &mb_mirth_mirth_PropLabel_prop_1_sp2_2;
			VAL v101 = mtw_mirth_mirth_PropState_1_Delay(v99, MKTUP(v98, 3), MKFNPTR(v100));
			TUP* v102 = mtw_mirth_mirth_Prop_1_Prop(v97, v101);
			void* v103 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v74);
			mut_set(MKTUP(v102, 2), v103);
			TUP* v104;
			TUP* v105 = mw_mirth_word_Word_type(v85, v74, &v104);
			decref(MKTUP(v105, 2));
			branch_Word_48 = v74;
			branch_ZPlusMirth_47 = v104;
			branch_Word_46 = in_Word_3;
			branch_SPKey_45 = in_SPKey_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKTUP(branch_SPKey_45, 2));
	*out_ZPlusMirth_4 = branch_ZPlusMirth_47;
	return branch_Word_48;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	VAL v6 = in_Arrow_3->cells[6];
	incref(v6);
	decref(MKTUP(in_Arrow_3, 7));
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusSPSynth_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusSPSynth_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				TUP* v23;
				TUP* v24;
				mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang(v13, v14, value_tup(v22, 8), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusSPSynth_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusSPSynth_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusSPSynth_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusSPSynth_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	incref(MKTUP(in_Atom_3, 8));
	uint64_t v6 = value_u64(in_Atom_3->cells[1]);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v7;
	uint64_t v8;
	VAL v9;
	TUP* v10;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v7, &v8, &v9, &v10);
	TUP* v11;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v10, v6, &v11);
	TUP* v12;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v7, v8, v9, v11, &v12);
	incref(MKTUP(in_Atom_3, 8));
	VAL v13 = in_Atom_3->cells[4];
	incref(v13);
	decref(MKTUP(in_Atom_3, 8));
	VAL v14 = MKI64(0LL /* Nil */);
	VAL v15;
	mw_std_list_List_1_buildZBang(v14, &v15);
	bool v16 = true;
	TUP* v17 = in_ZPlusMirth_1;
	TUP* v18 = v12;
	VAL v19 = v15;
	VAL v20 = v13;
	bool v21 = v16;
	bool v22 = v16;
	while (v22) {
		TUP* v23 = v17;
		TUP* v24 = v18;
		VAL v25 = v19;
		VAL v26 = v20;
		bool v27 = v21;
		TUP* branch_ZPlusMirth_28;
		TUP* branch_ZPlusSPSynth_29;
		VAL branch_ZPlusLister_30;
		VAL branch_List_31;
		bool branch_Bool_32;
		switch (get_data_tag(v26)) {
			case 1LL: { // Cons
				VAL v33;
				VAL v34 = mtp_std_list_List_1_Cons(v26, &v33);
				TUP* v35;
				TUP* v36;
				uint64_t v37 = mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang(v23, v24, value_u64(v34), &v35, &v36);
				VAL v38;
				mw_std_list_ZPlusLister_1_pushZBang(MKU64(v37), v25, &v38);
				bool v39 = true;
				branch_Bool_32 = v39;
				branch_List_31 = v33;
				branch_ZPlusLister_30 = v38;
				branch_ZPlusSPSynth_29 = v36;
				branch_ZPlusMirth_28 = v35;
			} break;
			case 0LL: { // Nil
				VAL v40 = MKI64(0LL /* Nil */);
				bool v41 = false;
				branch_Bool_32 = v41;
				branch_List_31 = v40;
				branch_ZPlusLister_30 = v25;
				branch_ZPlusSPSynth_29 = v24;
				branch_ZPlusMirth_28 = v23;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v22 = branch_Bool_32;
		v21 = branch_Bool_32;
		v20 = branch_List_31;
		v19 = branch_ZPlusLister_30;
		v18 = branch_ZPlusSPSynth_29;
		v17 = branch_ZPlusMirth_28;
	}
	decref(v20);
	VAL v42 = mw_std_list_ZPlusLister_1_doneZBang(v19);
	VAL v43 = in_Atom_3->cells[3];
	incref(v43);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v44;
	TUP* v45;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang(v17, v18, v42, v43, &v44, &v45);
	*out_ZPlusSPSynth_5 = v45;
	*out_ZPlusMirth_4 = v44;
}
static uint64_t mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	TUP* v7;
	TUP* v8;
	uint64_t v9 = mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, in_Arg_3, &v7, &v8);
	*out_ZPlusSPSynth_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return v9;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, VAL in_List_3, VAL in_Op_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusSPSynth_6) {
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusSPSynth_8;
	switch (get_data_tag(in_Op_4)) {
		case 7LL: { // Match
			TUP* v9 = mtp_mirth_arrow_Op_Match(in_Op_4);
			decref(in_List_3);
			TUP* v10;
			TUP* v11;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v9, &v10, &v11);
			branch_ZPlusSPSynth_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 8LL: { // Lambda
			TUP* v12 = mtp_mirth_arrow_Op_Lambda(in_Op_4);
			decref(in_List_3);
			TUP* v13;
			TUP* v14;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v12, &v13, &v14);
			branch_ZPlusSPSynth_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 10LL: { // BlockPush
			uint64_t v15 = mtp_mirth_arrow_Op_BlockPush(in_Op_4);
			decref(in_List_3);
			TUP* v16;
			TUP* v17;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v15, &v16, &v17);
			branch_ZPlusSPSynth_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 11LL: { // BlockRun
			uint64_t v18 = mtp_mirth_arrow_Op_BlockRun(in_Op_4);
			decref(in_List_3);
			TUP* v19;
			TUP* v20;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v18, &v19, &v20);
			branch_ZPlusSPSynth_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 9LL: { // Var
			uint64_t v21 = mtp_mirth_arrow_Op_Var(in_Op_4);
			decref(in_List_3);
			TUP* v22;
			TUP* v23;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v21, &v22, &v23);
			branch_ZPlusSPSynth_8 = v23;
			branch_ZPlusMirth_7 = v22;
		} break;
		default: {
			TUP* v24;
			uint64_t v25;
			VAL v26;
			TUP* v27;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v24, &v25, &v26, &v27);
			TUP* v28;
			TUP* v29;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_1, v27, in_List_3, in_Op_4, &v28, &v29);
			TUP* v30;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v24, v25, v26, v29, &v30);
			branch_ZPlusSPSynth_8 = v30;
			branch_ZPlusMirth_7 = v28;
		} break;
	}
	*out_ZPlusSPSynth_6 = branch_ZPlusSPSynth_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_type_ArrowType_FreshZBang(in_ZPlusMirth_1, &v6);
	TUP* v8;
	uint64_t v9;
	VAL v10;
	TUP* v11;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v8, &v9, &v10, &v11);
	TUP* v12;
	uint64_t v13 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v11, &v12);
	TUP* v14;
	VAL v15 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v12, &v14);
	TUP* v16;
	VAL v17 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v14, &v16);
	TUP* v18;
	uint64_t v19;
	VAL v20;
	TUP* v21;
	TUP* v22 = mw_mirth_elab_abZ_buildZ_homZBang_1_sp4(v6, in_Block_3, v8, v9, v10, v15, v7, v13, v17, &v18, &v19, &v20, &v21);
	TUP* v23;
	uint64_t v24 = mw_mirth_arrow_Block_newZBang(v21, v22, &v23);
	VAL v25 = mtw_mirth_arrow_Op_BlockPush(v24);
	VAL v26 = MKI64(0LL /* Nil */);
	TUP* v27;
	TUP* v28;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v23, v16, v26, v25, &v27, &v28);
	TUP* v29;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v18, v19, v20, v28, &v29);
	*out_ZPlusSPSynth_5 = v29;
	*out_ZPlusMirth_4 = v27;
}
static uint64_t mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	TUP* v7;
	TUP* v8 = mw_mirth_type_ArrowType_FreshZBang(in_ZPlusMirth_1, &v7);
	TUP* v9;
	uint64_t v10;
	VAL v11;
	TUP* v12;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v9, &v10, &v11, &v12);
	TUP* v13;
	VAL v14 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v12, &v13);
	TUP* v15;
	uint64_t v16 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v13, &v15);
	TUP* v17;
	VAL v18 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v15, &v17);
	TUP* v19;
	uint64_t v20;
	VAL v21;
	TUP* v22;
	TUP* v23 = mw_mirth_elab_abZ_buildZ_homZBang_1_sp4(v7, in_Block_3, v9, v10, v11, v14, v8, v16, v18, &v19, &v20, &v21, &v22);
	TUP* v24;
	uint64_t v25 = mw_mirth_arrow_Block_newZBang(v22, v23, &v24);
	TUP* v26;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v19, v20, v21, v17, &v26);
	*out_ZPlusSPSynth_5 = v26;
	*out_ZPlusMirth_4 = v24;
	return v25;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_3, &v6);
	TUP* v8;
	TUP* v9;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(v6, in_ZPlusSPSynth_2, v7, &v8, &v9);
	*out_ZPlusSPSynth_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	VAL v6 = in_ZPlusSPSynth_2->cells[2];
	incref(v6);
	VAL v7 = mw_std_map_Map_2_lookup_sp2(in_Var_3, v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusSPSynth_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v11;
			TUP* v12;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, value_u64(v10), &v11, &v12);
			branch_ZPlusSPSynth_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			TUP* v13;
			uint64_t v14;
			VAL v15;
			TUP* v16;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v13, &v14, &v15, &v16);
			TUP* v17;
			TUP* v18;
			mw_mirth_elab_ZPlusAB_abZ_varZBang(in_ZPlusMirth_1, v16, in_Var_3, &v17, &v18);
			TUP* v19;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v13, v14, v15, v18, &v19);
			branch_ZPlusSPSynth_9 = v19;
			branch_ZPlusMirth_8 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPSynth_5 = branch_ZPlusSPSynth_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, TUP* in_Match_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v6);
	incref(MKTUP(in_Match_3, 7));
	uint64_t v8 = value_u64(in_Match_3->cells[2]);
	decref(MKTUP(in_Match_3, 7));
	VAL v9 = in_Match_3->cells[6];
	incref(v9);
	decref(MKTUP(in_Match_3, 7));
	TUP* v10;
	uint64_t v11;
	VAL v12;
	TUP* v13;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v10, &v11, &v12, &v13);
	TUP* v14;
	VAL v15 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v13, &v14);
	TUP* v16;
	VAL v17 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v14, &v16);
	TUP* v18;
	uint64_t v19 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v16, &v18);
	TUP* v20;
	VAL v21 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v18, &v20);
	VAL v22 = MKI64(0LL /* Nil */);
	TUP* v23;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v21, v19, v8, v15, v17, v7, v22, &v23);
	bool v24 = true;
	TUP* v25 = v10;
	uint64_t v26 = v11;
	VAL v27 = v12;
	TUP* v28 = v6;
	TUP* v29 = v23;
	VAL v30 = v9;
	bool v31 = v24;
	bool v32 = v24;
	while (v32) {
		TUP* v33 = v25;
		uint64_t v34 = v26;
		VAL v35 = v27;
		TUP* v36 = v28;
		TUP* v37 = v29;
		VAL v38 = v30;
		bool v39 = v31;
		TUP* branch_SPKey_40;
		uint64_t branch_Word_41;
		VAL branch_Map_42;
		TUP* branch_ZPlusMirth_43;
		TUP* branch_ZPlusMatch_44;
		VAL branch_List_45;
		bool branch_Bool_46;
		switch (get_data_tag(v38)) {
			case 1LL: { // Cons
				VAL v47;
				VAL v48 = mtp_std_list_List_1_Cons(v38, &v47);
				incref(v48);
				TUP* v49 = value_tup(VTUP(v48)->cells[0], 9);
				incref(MKTUP(v49, 9));
				decref(v48);
				uint64_t v50 = value_u64(v49->cells[1]);
				decref(MKTUP(v49, 9));
				incref(v48);
				TUP* v51 = value_tup(VTUP(v48)->cells[1], 7);
				incref(MKTUP(v51, 7));
				decref(v48);
				uint64_t v52 = value_u64(v51->cells[1]);
				decref(MKTUP(v51, 7));
				VAL v53 = v37->cells[0];
				incref(v53);
				VAL v54 = v37->cells[3];
				incref(v54);
				incref(v54);
				VAL v55 = MKI64(0LL /* Nil */);
				VAL v56 = v37->cells[4];
				incref(v56);
				incref(v56);
				VAL v57 = MKI64(0LL /* Nil */);
				TUP* v58 = mtw_mirth_match_Pattern_Pattern(v53, v50, v50, v54, v54, v55, v56, v56, v57);
				TUP* v59;
				mw_mirth_match_Pattern_thaw(v58, &v59);
				incref(v48);
				TUP* v60 = value_tup(VTUP(v48)->cells[0], 9);
				incref(MKTUP(v60, 9));
				decref(v48);
				VAL v61 = v60->cells[8];
				incref(v61);
				decref(MKTUP(v60, 9));
				VAL v62 = mw_std_list_List_1_reverse(v61);
				bool v63 = true;
				TUP* v64 = v36;
				TUP* v65 = v59;
				VAL v66 = v62;
				bool v67 = v63;
				bool v68 = v63;
				while (v68) {
					TUP* v69 = v64;
					TUP* v70 = v65;
					VAL v71 = v66;
					bool v72 = v67;
					TUP* branch_ZPlusMirth_73;
					TUP* branch_ZPlusPattern_74;
					VAL branch_List_75;
					bool branch_Bool_76;
					switch (get_data_tag(v71)) {
						case 1LL: { // Cons
							VAL v77;
							VAL v78 = mtp_std_list_List_1_Cons(v71, &v77);
							VAL v79 = VTUP(v78)->cells[6];
							incref(v79);
							decref(v78);
							TUP* v80;
							TUP* v81;
							mw_mirth_match_ZPlusPattern_opZBang(v69, v70, v79, &v80, &v81);
							bool v82 = true;
							branch_Bool_76 = v82;
							branch_List_75 = v77;
							branch_ZPlusPattern_74 = v81;
							branch_ZPlusMirth_73 = v80;
						} break;
						case 0LL: { // Nil
							VAL v83 = MKI64(0LL /* Nil */);
							bool v84 = false;
							branch_Bool_76 = v84;
							branch_List_75 = v83;
							branch_ZPlusPattern_74 = v70;
							branch_ZPlusMirth_73 = v69;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v68 = branch_Bool_76;
					v67 = branch_Bool_76;
					v66 = branch_List_75;
					v65 = branch_ZPlusPattern_74;
					v64 = branch_ZPlusMirth_73;
				}
				decref(v66);
				TUP* v85 = mw_mirth_match_ZPlusPattern_freezze(v65);
				incref(MKTUP(v85, 9));
				VAL v86 = v85->cells[4];
				incref(v86);
				decref(MKTUP(v85, 9));
				incref(MKTUP(v85, 9));
				VAL v87 = mw_mirth_match_Pattern_dom(v85);
				VAL v88 = v37->cells[5];
				incref(v88);
				TUP* v89 = mw_mirth_type_TZ_ZTo(v87, v88);
				VAL v90 = v37->cells[0];
				incref(v90);
				VAL v91;
				VAL v92;
				mtp_mirth_type_ArrowType_ArrowType(v89, &v91, &v92);
				incref(v91);
				VAL v93 = MKI64(0LL /* Nil */);
				TUP* v94 = mtw_mirth_arrow_Arrow_Arrow(v90, v52, v52, v86, v91, v91, v93);
				TUP* v95;
				mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v33, v34, v35, v94, &v95);
				TUP* v96 = value_tup(VTUP(v48)->cells[1], 7);
				incref(MKTUP(v96, 7));
				decref(v48);
				TUP* v97;
				TUP* v98;
				mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(v64, v95, v96, &v97, &v98);
				TUP* v99;
				uint64_t v100;
				VAL v101;
				TUP* v102;
				mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v98, &v99, &v100, &v101, &v102);
				TUP* v103;
				TUP* v104;
				mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v97, v102, v92, &v103, &v104);
				TUP* v105 = mtw_mirth_match_Case_Case(v85, v104);
				TUP* v106;
				TUP* v107;
				mw_mirth_match_ZPlusMatch_addZ_case(v103, v37, v105, &v106, &v107);
				bool v108 = true;
				branch_Bool_46 = v108;
				branch_List_45 = v47;
				branch_ZPlusMatch_44 = v107;
				branch_ZPlusMirth_43 = v106;
				branch_Map_42 = v101;
				branch_Word_41 = v100;
				branch_SPKey_40 = v99;
			} break;
			case 0LL: { // Nil
				VAL v109 = MKI64(0LL /* Nil */);
				bool v110 = false;
				branch_Bool_46 = v110;
				branch_List_45 = v109;
				branch_ZPlusMatch_44 = v37;
				branch_ZPlusMirth_43 = v36;
				branch_Map_42 = v35;
				branch_Word_41 = v34;
				branch_SPKey_40 = v33;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v32 = branch_Bool_46;
		v31 = branch_Bool_46;
		v30 = branch_List_45;
		v29 = branch_ZPlusMatch_44;
		v28 = branch_ZPlusMirth_43;
		v27 = branch_Map_42;
		v26 = branch_Word_41;
		v25 = branch_SPKey_40;
	}
	decref(v30);
	TUP* v111 = mw_mirth_match_ZPlusMatch_freezze(v29);
	VAL v112 = mtw_mirth_arrow_Op_Match(v111);
	VAL v113 = MKI64(0LL /* Nil */);
	TUP* v114;
	TUP* v115;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v28, v20, v113, v112, &v114, &v115);
	TUP* v116;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v25, v26, v27, v115, &v116);
	*out_ZPlusSPSynth_5 = v116;
	*out_ZPlusMirth_4 = v114;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusSPSynth_2, TUP* in_Lambda_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusSPSynth_5) {
	incref(MKTUP(in_Lambda_3, 5));
	VAL v6 = in_Lambda_3->cells[3];
	incref(v6);
	decref(MKTUP(in_Lambda_3, 5));
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_FreshZBang(in_ZPlusMirth_1, &v7);
	TUP* v9;
	uint64_t v10;
	VAL v11;
	TUP* v12;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_ZPlusSPSynth_2, &v9, &v10, &v11, &v12);
	TUP* v13;
	uint64_t v14 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v12, &v13);
	incref(v6);
	TUP* v15;
	VAL v16 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v13, &v15);
	TUP* v17;
	VAL v18 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v15, &v17);
	TUP* v19;
	TUP* v20;
	VAL v21;
	VAL v22 = mw_std_list_List_1_reverseZ_for_1_sp10(v7, v17, v16, v18, v6, &v19, &v20, &v21);
	TUP* v23 = mw_mirth_type_TZ_ZTo(v21, v8);
	TUP* v24;
	VAL v25 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v20, &v24);
	VAL v26;
	VAL v27;
	mtp_mirth_type_ArrowType_ArrowType(v23, &v26, &v27);
	incref(v26);
	VAL v28 = MKI64(0LL /* Nil */);
	TUP* v29 = mtw_mirth_arrow_Arrow_Arrow(v25, v14, v14, v22, v26, v26, v28);
	TUP* v30;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v9, v10, v11, v29, &v30);
	TUP* v31 = value_tup(in_Lambda_3->cells[4], 7);
	incref(MKTUP(v31, 7));
	decref(MKTUP(in_Lambda_3, 5));
	TUP* v32;
	TUP* v33;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(v19, v30, v31, &v32, &v33);
	TUP* v34;
	uint64_t v35;
	VAL v36;
	TUP* v37;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v33, &v34, &v35, &v36, &v37);
	TUP* v38;
	TUP* v39;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v32, v37, v27, &v38, &v39);
	TUP* v40;
	VAL v41 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v24, &v40);
	TUP* v42;
	VAL v43 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v40, &v42);
	TUP* v44;
	uint64_t v45 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v42, &v44);
	TUP* v46 = mtw_mirth_arrow_Lambda_Lambda(v45, v41, v43, v6, v39);
	VAL v47 = mtw_mirth_arrow_Op_Lambda(v46);
	VAL v48 = MKI64(0LL /* Nil */);
	TUP* v49;
	TUP* v50;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v38, v44, v48, v47, &v49, &v50);
	TUP* v51;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v34, v35, v36, v50, &v51);
	*out_ZPlusSPSynth_5 = v51;
	*out_ZPlusMirth_4 = v49;
}
static void mw_mirth_specializzer_synthZ_specializzedZ_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* in_SPKey_3, uint64_t in_Word_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6) {
	TUP* v7;
	TUP* v8 = mw_mirth_word_Word_arrow(in_ZPlusMirth_1, in_Word_4, &v7);
	VAL v9 = v8->cells[6];
	incref(v9);
	decref(MKTUP(v8, 7));
	VAL v10 = mw_std_list_List_1_singleZAsk(v9);
	TUP* branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	VAL branch_z_x2_13;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			branch_z_x2_13 = v14;
			branch_z_x1_12 = MKTUP(in_ZPlusAB_2, 7);
			branch_ZPlusMirth_11 = v7;
		} break;
		case 0LL: { // None
			STR* v15;
			STRLIT(v15, "unexpected shape for synth-specialized-word!", 44);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v7, v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v18 = VTUP(branch_z_x2_13)->cells[3];
	incref(v18);
	decref(branch_z_x2_13);
	TUP* branch_ZPlusMirth_19;
	TUP* branch_ZPlusAB_20;
	switch (get_data_tag(v18)) {
		case 8LL: { // Lambda
			TUP* v21 = mtp_mirth_arrow_Op_Lambda(v18);
			incref(MKTUP(v21, 5));
			VAL v22 = v21->cells[3];
			incref(v22);
			decref(MKTUP(v21, 5));
			incref(MKTUP(in_SPKey_3, 2));
			VAL v23 = mw_std_list_Nest_1_ZToList(in_SPKey_3);
			incref(v22);
			incref(v23);
			INT v24 = mw_std_list_List_1_len(v22);
			INT v25 = mw_std_list_List_1_len(v23);
			bool v26 = int_eq(v24, v25);
			TUP* branch_ZPlusMirth_27;
			VAL branch_z_x1_28;
			if (v26) {
				branch_z_x1_28 = branch_z_x1_12;
				branch_ZPlusMirth_27 = branch_ZPlusMirth_11;
			} else {
				STR* v29;
				STRLIT(v29, "wrong number of lambda params in synth-specialized-word!", 56);
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(branch_ZPlusMirth_11, v29);
			}
			VAL v31 = MKI64(0LL /* Nil */);
			VAL v32;
			mw_std_list_List_1_buildZBang(v31, &v32);
			bool v33 = true;
			VAL v34 = v22;
			VAL v35 = v23;
			VAL v36 = v32;
			bool v37 = v33;
			bool v38 = v33;
			while (v38) {
				VAL v39 = v34;
				VAL v40 = v35;
				VAL v41 = v36;
				bool v42 = v37;
				VAL v43;
				VAL v44 = mw_std_list_List_1_uncons(v40, &v43);
				VAL v45;
				VAL v46 = mw_std_list_List_1_uncons(v39, &v45);
				VAL branch_Maybe_47;
				switch (get_data_tag(v44)) {
					case 0LL: { // None
						decref(v46);
						VAL v48 = MKI64(0LL /* None */);
						branch_Maybe_47 = v48;
					} break;
					case 1LL: { // Some
						VAL v49 = mtp_std_maybe_Maybe_1_Some(v44);
						VAL branch_Maybe_50;
						switch (get_data_tag(v46)) {
							case 0LL: { // None
								decref(v49);
								VAL v51 = MKI64(0LL /* None */);
								branch_Maybe_50 = v51;
							} break;
							case 1LL: { // Some
								VAL v52 = mtp_std_maybe_Maybe_1_Some(v46);
								TUP* v53 = mtw_std_map_KeyValuePair_2_KeyValuePair(v52, v49);
								VAL v54 = mtw_std_maybe_Maybe_1_Some(MKTUP(v53, 2));
								branch_Maybe_50 = v54;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_47 = branch_Maybe_50;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v55;
				bool v56 = mw_std_maybe_Maybe_1_ifZAsk_2_sp58(v41, branch_Maybe_47, &v55);
				v38 = v56;
				v37 = v56;
				v36 = v55;
				v35 = v43;
				v34 = v45;
			}
			VAL v57 = mw_std_list_ZPlusLister_1_doneZBang(v36);
			decref(v35);
			decref(v34);
			TUP* v58;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_SPKey_3, in_Word_4, v57, value_tup(branch_z_x1_28, 7), &v58);
			TUP* v59 = value_tup(v21->cells[4], 7);
			incref(MKTUP(v59, 7));
			decref(MKTUP(v21, 5));
			TUP* v60;
			TUP* v61;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(branch_ZPlusMirth_27, v58, v59, &v60, &v61);
			TUP* v62;
			uint64_t v63;
			VAL v64;
			TUP* v65;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v61, &v62, &v63, &v64, &v65);
			decref(v64);
			decref(MKTUP(v62, 2));
			branch_ZPlusAB_20 = v65;
			branch_ZPlusMirth_19 = v60;
		} break;
		default: {
			STR* v66;
			STRLIT(v66, "unexpected shape", 16);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(branch_ZPlusMirth_11, v66);
		} break;
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_20;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_19;
}
static INT mw_std_set_SETz_INITIALz_SIZZE (void) {
	INT v2 = WRAP_I63(256LL);
	return v2;
}
static void mw_std_set_ZPlusSet_Empty (TUP* *out_ZPlusSet_1) {
	INT v2 = mw_std_set_SETz_INITIALz_SIZZE();
	TUP* v3;
	mw_std_buffer_ZPlusBuffer_new(v2, &v3);
	*out_ZPlusSet_1 = v3;
}
static void mw_std_set_ZPlusSet_rdrop (TUP* in_ZPlusSet_1) {
	mw_std_buffer_ZPlusBuffer_rdrop(in_ZPlusSet_1);
}
static INT mw_std_set_ZPlusSet_offsetZ_mask (INT in_Nat_1, TUP* in_ZPlusSet_2, uint8_t *out_U8_4, TUP* *out_ZPlusSet_5) {
	INT v6 = WRAP_I63(8LL);
	INT v7;
	INT v8 = int_divmod(in_Nat_1, v6, &v7);
	uint64_t v9 = int_to_u64(v7);
	uint8_t v10 = (uint8_t)(v9);
	uint8_t v11 = 1;
	uint64_t v12 = (uint64_t)(v11);
	uint64_t v13 = (uint64_t)(v10);
	uint64_t v14 = u64_shl(v12, v13);
	uint8_t v15 = (uint8_t)(v14);
	*out_ZPlusSet_5 = in_ZPlusSet_2;
	*out_U8_4 = v15;
	return v8;
}
static bool mw_std_set_ZPlusSet_memberZAsk (INT in_Nat_1, TUP* in_ZPlusSet_2, TUP* *out_ZPlusSet_4) {
	uint8_t v5;
	TUP* v6;
	INT v7 = mw_std_set_ZPlusSet_offsetZ_mask(in_Nat_1, in_ZPlusSet_2, &v5, &v6);
	int64_t v8 = 0;
	TUP* v9;
	uint8_t v10 = mw_std_buffer_ZPlusBuffer_ZAtU8(v7, v6, &v9);
	uint64_t v11 = (uint64_t)(v5);
	uint64_t v12 = (uint64_t)(v10);
	uint64_t v13 = (v11 & v12);
	uint8_t v14 = (uint8_t)(v13);
	uint64_t v15 = (uint64_t)(v14);
	INT v16 = u64_to_int(v15);
	INT v17 = WRAP_I63(0LL);
	bool v18 = int_eq(v16, v17);
	bool v19 = !v18;
	*out_ZPlusSet_4 = v9;
	return v19;
}
static void mw_std_set_ZPlusSet_insertZBang (INT in_Nat_1, TUP* in_ZPlusSet_2, TUP* *out_ZPlusSet_3) {
	uint8_t v4;
	TUP* v5;
	INT v6 = mw_std_set_ZPlusSet_offsetZ_mask(in_Nat_1, in_ZPlusSet_2, &v4, &v5);
	int64_t v7 = 0;
	incref(MKINT(v6));
	TUP* v8;
	uint8_t v9 = mw_std_buffer_ZPlusBuffer_ZAtU8(v6, v5, &v8);
	uint64_t v10 = (uint64_t)(v4);
	uint64_t v11 = (uint64_t)(v9);
	uint64_t v12 = (v10 | v11);
	uint8_t v13 = (uint8_t)(v12);
	TUP* v14;
	mw_std_buffer_ZPlusBuffer_ZBangU8(v13, v6, v8, &v14);
	*out_ZPlusSet_3 = v14;
}
static INT mw_mirth_need_Need_ZToNat (VAL in_Need_1) {
	INT branch_Nat_3;
	switch (get_data_tag(in_Need_1)) {
		case 0LL: { // Word
			uint64_t v4 = mtp_mirth_need_Need_Word(in_Need_1);
			uint64_t v5 = mw_mirth_word_Word_index(v4);
			INT v6 = WRAP_I63(5LL);
			INT v7 = u64_to_int(v5);
			INT v8 = int_mul(v7, v6);
			branch_Nat_3 = v8;
		} break;
		case 1LL: { // Block
			uint64_t v9 = mtp_mirth_need_Need_Block(in_Need_1);
			uint64_t v10 = mw_mirth_arrow_Block_index(v9);
			INT v11 = WRAP_I63(5LL);
			INT v12 = u64_to_int(v10);
			INT v13 = int_mul(v12, v11);
			INT v14 = WRAP_I63(1LL);
			INT v15 = int_add(v13, v14);
			branch_Nat_3 = v15;
		} break;
		case 2LL: { // TagWord
			uint64_t v16 = mtp_mirth_need_Need_TagWord(in_Need_1);
			uint64_t v17 = mw_mirth_data_Tag_index(v16);
			INT v18 = WRAP_I63(5LL);
			INT v19 = u64_to_int(v17);
			INT v20 = int_mul(v19, v18);
			INT v21 = WRAP_I63(2LL);
			INT v22 = int_add(v20, v21);
			branch_Nat_3 = v22;
		} break;
		case 3LL: { // TagPattern
			uint64_t v23 = mtp_mirth_need_Need_TagPattern(in_Need_1);
			uint64_t v24 = mw_mirth_data_Tag_index(v23);
			INT v25 = WRAP_I63(5LL);
			INT v26 = u64_to_int(v24);
			INT v27 = int_mul(v26, v25);
			INT v28 = WRAP_I63(3LL);
			INT v29 = int_add(v27, v28);
			branch_Nat_3 = v29;
		} break;
		case 4LL: { // Label
			uint64_t v30 = mtp_mirth_need_Need_Label(in_Need_1);
			uint64_t v31 = mw_mirth_label_Label_index(v30);
			INT v32 = WRAP_I63(5LL);
			INT v33 = u64_to_int(v31);
			INT v34 = int_mul(v33, v32);
			INT v35 = WRAP_I63(4LL);
			INT v36 = int_add(v34, v35);
			branch_Nat_3 = v36;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Nat_3;
}
static void mw_mirth_need_ZPlusNeeds_New (TUP* *out_ZPlusNeeds_1) {
	VAL v2 = MKI64(0LL /* Nil */);
	TUP* v3;
	mw_std_set_ZPlusSet_Empty(&v3);
	TUP* v4;
	mtw_mirth_need_ZPlusNeeds_ZPlusNeeds(v2, v3, &v4);
	*out_ZPlusNeeds_1 = v4;
}
static void mw_mirth_need_ZPlusNeeds_rdrop (TUP* in_ZPlusNeeds_1) {
	VAL v2;
	TUP* v3;
	mtp_mirth_need_ZPlusNeeds_ZPlusNeeds(in_ZPlusNeeds_1, &v2, &v3);
	mw_std_set_ZPlusSet_rdrop(v3);
	decref(v2);
}
static bool mw_mirth_need_Need_neededZAsk (TUP* in_ZPlusNeeds_1, VAL in_Need_2, TUP* *out_ZPlusNeeds_3) {
	INT v5 = mw_mirth_need_Need_ZToNat(in_Need_2);
	TUP* v6 = value_tup(in_ZPlusNeeds_1->cells[1], 2);
	TUP* v7;
	bool v8 = mw_std_set_ZPlusSet_memberZAsk(v5, v6, &v7);
	in_ZPlusNeeds_1->cells[1] = MKTUP(v7, 2);
	*out_ZPlusNeeds_3 = in_ZPlusNeeds_1;
	return v8;
}
static bool mw_mirth_word_Word_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Word_2, TUP* *out_ZPlusNeeds_3) {
	VAL v5 = mtw_mirth_need_Need_Word(in_Word_2);
	TUP* v6;
	bool v7 = mw_mirth_need_Need_neededZAsk(in_ZPlusNeeds_1, v5, &v6);
	*out_ZPlusNeeds_3 = v6;
	return v7;
}
static bool mw_mirth_arrow_Block_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Block_2, TUP* *out_ZPlusNeeds_3) {
	VAL v5 = mtw_mirth_need_Need_Block(in_Block_2);
	TUP* v6;
	bool v7 = mw_mirth_need_Need_neededZAsk(in_ZPlusNeeds_1, v5, &v6);
	*out_ZPlusNeeds_3 = v6;
	return v7;
}
static bool mw_mirth_data_Tag_wordZ_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Tag_2, TUP* *out_ZPlusNeeds_3) {
	VAL v5 = mtw_mirth_need_Need_TagWord(in_Tag_2);
	TUP* v6;
	bool v7 = mw_mirth_need_Need_neededZAsk(in_ZPlusNeeds_1, v5, &v6);
	*out_ZPlusNeeds_3 = v6;
	return v7;
}
static bool mw_mirth_data_Tag_patZ_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Tag_2, TUP* *out_ZPlusNeeds_3) {
	VAL v5 = mtw_mirth_need_Need_TagPattern(in_Tag_2);
	TUP* v6;
	bool v7 = mw_mirth_need_Need_neededZAsk(in_ZPlusNeeds_1, v5, &v6);
	*out_ZPlusNeeds_3 = v6;
	return v7;
}
static bool mw_mirth_label_Label_neededZAsk (TUP* in_ZPlusNeeds_1, uint64_t in_Label_2, TUP* *out_ZPlusNeeds_3) {
	VAL v5 = mtw_mirth_need_Need_Label(in_Label_2);
	TUP* v6;
	bool v7 = mw_mirth_need_Need_neededZAsk(in_ZPlusNeeds_1, v5, &v6);
	*out_ZPlusNeeds_3 = v6;
	return v7;
}
static void mw_mirth_need_ZPlusNeeds_needZBang (TUP* in_ZPlusNeeds_1, VAL in_Need_2, TUP* *out_ZPlusNeeds_3) {
	incref(in_Need_2);
	TUP* v4;
	bool v5 = mw_mirth_need_Need_neededZAsk(in_ZPlusNeeds_1, in_Need_2, &v4);
	TUP* branch_ZPlusNeeds_6;
	if (v5) {
		decref(in_Need_2);
		branch_ZPlusNeeds_6 = v4;
	} else {
		incref(in_Need_2);
		INT v7 = mw_mirth_need_Need_ZToNat(in_Need_2);
		TUP* v8 = value_tup(v4->cells[1], 2);
		TUP* v9;
		mw_std_set_ZPlusSet_insertZBang(v7, v8, &v9);
		v4->cells[1] = MKTUP(v9, 2);
		VAL v10 = v4->cells[0];
		incref(v10);
		VAL v11 = mtw_std_list_List_1_Cons(in_Need_2, v10);
		VAL v12 = v4->cells[0];
		decref(v12);
		v4->cells[0] = v11;
		branch_ZPlusNeeds_6 = v4;
	}
	*out_ZPlusNeeds_3 = branch_ZPlusNeeds_6;
}
static void mw_mirth_need_ZPlusNeeds_needZ_wordZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Word_2, TUP* *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_Word(in_Word_2);
	TUP* v5;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusNeeds_1, v4, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_needZ_blockZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Block_2, TUP* *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_Block(in_Block_2);
	TUP* v5;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusNeeds_1, v4, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Tag_2, TUP* *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_TagWord(in_Tag_2);
	TUP* v5;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusNeeds_1, v4, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Tag_2, TUP* *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_TagPattern(in_Tag_2);
	TUP* v5;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusNeeds_1, v4, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_needZ_labelZBang (TUP* in_ZPlusNeeds_1, uint64_t in_Label_2, TUP* *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_Label(in_Label_2);
	TUP* v5;
	mw_mirth_need_ZPlusNeeds_needZBang(in_ZPlusNeeds_1, v4, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_Arrow_3, &v6, &v7);
	TUP* v8;
	TUP* v9;
	mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang(v6, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusNeeds_4) {
	bool v5 = true;
	TUP* v6 = in_ZPlusMirth_1;
	TUP* v7 = in_ZPlusNeeds_2;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		TUP* v10 = v6;
		TUP* v11 = v7;
		bool v12 = v8;
		VAL v13 = v11->cells[0];
		incref(v13);
		VAL v14;
		VAL v15 = mw_std_list_List_1_uncons(v13, &v14);
		VAL v16 = v11->cells[0];
		decref(v16);
		v11->cells[0] = v14;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusNeeds_18;
		bool branch_Bool_19;
		switch (get_data_tag(v15)) {
			case 1LL: { // Some
				VAL v20 = mtp_std_maybe_Maybe_1_Some(v15);
				TUP* v21;
				TUP* v22;
				mw_mirth_need_ZPlusNeeds_runZ_needZBang(v10, v11, v20, &v21, &v22);
				bool v23 = true;
				branch_Bool_19 = v23;
				branch_ZPlusNeeds_18 = v22;
				branch_ZPlusMirth_17 = v21;
			} break;
			case 0LL: { // None
				bool v24 = false;
				branch_Bool_19 = v24;
				branch_ZPlusNeeds_18 = v11;
				branch_ZPlusMirth_17 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_19;
		v8 = branch_Bool_19;
		v7 = branch_ZPlusNeeds_18;
		v6 = branch_ZPlusMirth_17;
	}
	*out_ZPlusNeeds_4 = v7;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_needZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_Need_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	TUP* branch_ZPlusMirth_6;
	TUP* branch_ZPlusNeeds_7;
	switch (get_data_tag(in_Need_3)) {
		case 1LL: { // Block
			uint64_t v8 = mtp_mirth_need_Need_Block(in_Need_3);
			TUP* v9;
			TUP* v10;
			mw_mirth_need_ZPlusNeeds_runZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v8, &v9, &v10);
			branch_ZPlusNeeds_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // Word
			uint64_t v11 = mtp_mirth_need_Need_Word(in_Need_3);
			TUP* v12;
			TUP* v13;
			mw_mirth_need_ZPlusNeeds_runZ_wordZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v11, &v12, &v13);
			branch_ZPlusNeeds_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // TagWord
			uint64_t v14 = mtp_mirth_need_Need_TagWord(in_Need_3);
			branch_ZPlusNeeds_7 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // TagPattern
			uint64_t v15 = mtp_mirth_need_Need_TagPattern(in_Need_3);
			branch_ZPlusNeeds_7 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Label
			uint64_t v16 = mtp_mirth_need_Need_Label(in_Need_3);
			branch_ZPlusNeeds_7 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	bool v6 = true;
	TUP* v7 = in_ZPlusMirth_1;
	TUP* v8 = in_ZPlusNeeds_2;
	VAL v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		TUP* v12 = v7;
		TUP* v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		TUP* branch_ZPlusMirth_16;
		TUP* branch_ZPlusNeeds_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				TUP* v22;
				TUP* v23;
				mw_mirth_need_ZPlusNeeds_runZ_argZBang(v12, v13, value_u64(v21), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusNeeds_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v25 = MKI64(0LL /* Nil */);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusNeeds_17 = v13;
				branch_ZPlusMirth_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusNeeds_17;
		v7 = branch_ZPlusMirth_16;
	}
	decref(v9);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_need_ZPlusNeeds_runZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_Arg_3, &v6, &v7);
	*out_ZPlusNeeds_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_3, &v6);
	TUP* v8;
	TUP* v9;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v6, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_word_Word_arrow(in_ZPlusMirth_1, in_Word_3, &v6);
	TUP* v8;
	TUP* v9;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v6, in_ZPlusNeeds_2, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_arrowZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	VAL v6 = in_Arrow_3->cells[6];
	incref(v6);
	decref(MKTUP(in_Arrow_3, 7));
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusNeeds_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusNeeds_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				TUP* v23;
				TUP* v24;
				mw_mirth_need_ZPlusNeeds_runZ_atomZBang(v13, v14, value_tup(v22, 8), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusNeeds_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	incref(MKTUP(in_Atom_3, 8));
	VAL v6 = in_Atom_3->cells[4];
	incref(v6);
	decref(MKTUP(in_Atom_3, 8));
	VAL v7 = in_Atom_3->cells[3];
	incref(v7);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v8;
	TUP* v9;
	mw_mirth_need_ZPlusNeeds_runZ_opZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, VAL in_Op_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusNeeds_6) {
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusNeeds_8;
	switch (get_data_tag(in_Op_4)) {
		case 5LL: { // Push
			VAL v9 = mtp_mirth_arrow_Op_Push(in_Op_4);
			decref(v9);
			decref(in_List_3);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Word
			uint64_t v10 = mtp_mirth_arrow_Op_Word(in_Op_4);
			TUP* v11;
			bool v12 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, v10, &v11);
			VAL branch_List_13;
			TUP* branch_ZPlusMirth_14;
			TUP* branch_ZPlusNeeds_15;
			if (v12) {
				TUP* v16;
				TUP* v17;
				mw_mirth_need_ZPlusNeeds_runZ_wordZBang(v11, in_ZPlusNeeds_2, v10, &v16, &v17);
				branch_ZPlusNeeds_15 = v17;
				branch_ZPlusMirth_14 = v16;
				branch_List_13 = in_List_3;
			} else {
				TUP* v18;
				mw_mirth_need_ZPlusNeeds_needZ_wordZBang(in_ZPlusNeeds_2, v10, &v18);
				branch_ZPlusNeeds_15 = v18;
				branch_ZPlusMirth_14 = v11;
				branch_List_13 = in_List_3;
			}
			TUP* v19;
			TUP* v20;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(branch_ZPlusMirth_14, branch_ZPlusNeeds_15, branch_List_13, &v19, &v20);
			branch_ZPlusNeeds_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		case 2LL: { // External
			uint64_t v21 = mtp_mirth_arrow_Op_External(in_Op_4);
			TUP* v22;
			TUP* v23;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v22, &v23);
			branch_ZPlusNeeds_8 = v23;
			branch_ZPlusMirth_7 = v22;
		} break;
		case 3LL: { // Buffer
			uint64_t v24 = mtp_mirth_arrow_Op_Buffer(in_Op_4);
			TUP* v25;
			TUP* v26;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v25, &v26);
			branch_ZPlusNeeds_8 = v26;
			branch_ZPlusMirth_7 = v25;
		} break;
		case 4LL: { // Field
			uint64_t v27 = mtp_mirth_arrow_Op_Field(in_Op_4);
			TUP* v28;
			TUP* v29;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v28, &v29);
			branch_ZPlusNeeds_8 = v29;
			branch_ZPlusMirth_7 = v28;
		} break;
		case 6LL: { // Tag
			uint64_t v30 = mtp_mirth_arrow_Op_Tag(in_Op_4);
			TUP* v31;
			mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang(in_ZPlusNeeds_2, v30, &v31);
			TUP* v32;
			TUP* v33;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, v31, in_List_3, &v32, &v33);
			branch_ZPlusNeeds_8 = v33;
			branch_ZPlusMirth_7 = v32;
		} break;
		case 0LL: { // Prim
			int64_t v34 = mtp_mirth_arrow_Op_Prim(in_Op_4);
			TUP* v35;
			TUP* v36;
			mw_mirth_need_ZPlusNeeds_runZ_primZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v34, &v35, &v36);
			branch_ZPlusNeeds_8 = v36;
			branch_ZPlusMirth_7 = v35;
		} break;
		case 7LL: { // Match
			TUP* v37 = mtp_mirth_arrow_Op_Match(in_Op_4);
			decref(in_List_3);
			TUP* v38;
			TUP* v39;
			mw_mirth_need_ZPlusNeeds_runZ_matchZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v37, &v38, &v39);
			branch_ZPlusNeeds_8 = v39;
			branch_ZPlusMirth_7 = v38;
		} break;
		case 8LL: { // Lambda
			TUP* v40 = mtp_mirth_arrow_Op_Lambda(in_Op_4);
			decref(in_List_3);
			TUP* v41;
			TUP* v42;
			mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v40, &v41, &v42);
			branch_ZPlusNeeds_8 = v42;
			branch_ZPlusMirth_7 = v41;
		} break;
		case 9LL: { // Var
			uint64_t v43 = mtp_mirth_arrow_Op_Var(in_Op_4);
			decref(in_List_3);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v44 = mtp_mirth_arrow_Op_BlockPush(in_Op_4);
			decref(in_List_3);
			TUP* v45;
			TUP* v46;
			mw_mirth_need_ZPlusNeeds_pushZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v44, &v45, &v46);
			branch_ZPlusNeeds_8 = v46;
			branch_ZPlusMirth_7 = v45;
		} break;
		case 11LL: { // BlockRun
			uint64_t v47 = mtp_mirth_arrow_Op_BlockRun(in_Op_4);
			decref(in_List_3);
			TUP* v48;
			TUP* v49;
			mw_mirth_need_ZPlusNeeds_runZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v47, &v48, &v49);
			branch_ZPlusNeeds_8 = v49;
			branch_ZPlusMirth_7 = v48;
		} break;
		case 12LL: { // LabelPush
			uint64_t v50 = mtp_mirth_arrow_Op_LabelPush(in_Op_4);
			decref(in_List_3);
			TUP* v51;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusNeeds_2, v50, &v51);
			branch_ZPlusNeeds_8 = v51;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // LabelPop
			uint64_t v52 = mtp_mirth_arrow_Op_LabelPop(in_Op_4);
			decref(in_List_3);
			TUP* v53;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusNeeds_2, v52, &v53);
			branch_ZPlusNeeds_8 = v53;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v54 = mtp_mirth_arrow_Op_LabelPushR(in_Op_4);
			decref(in_List_3);
			TUP* v55;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusNeeds_2, v54, &v55);
			branch_ZPlusNeeds_8 = v55;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v56 = mtp_mirth_arrow_Op_LabelPopR(in_Op_4);
			decref(in_List_3);
			TUP* v57;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusNeeds_2, v56, &v57);
			branch_ZPlusNeeds_8 = v57;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v58 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_4);
			decref(in_List_3);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v59 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_4);
			decref(in_List_3);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // DataGetLabel
			TUP* v60 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_4);
			decref(in_List_3);
			uint64_t v61 = value_u64(v60->cells[1]);
			decref(MKTUP(v60, 3));
			TUP* v62;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusNeeds_2, v61, &v62);
			branch_ZPlusNeeds_8 = v62;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // DataSetLabel
			TUP* v63 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_4);
			decref(in_List_3);
			uint64_t v64 = value_u64(v63->cells[1]);
			decref(MKTUP(v63, 3));
			TUP* v65;
			mw_mirth_need_ZPlusNeeds_needZ_labelZBang(in_ZPlusNeeds_2, v64, &v65);
			branch_ZPlusNeeds_8 = v65;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v66 = mtp_mirth_arrow_Op_TableToIndex(in_Op_4);
			decref(in_List_3);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v67 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_4);
			decref(in_List_3);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_6 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_primZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, int64_t in_Prim_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusNeeds_6) {
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusNeeds_8;
	switch (in_Prim_4) {
		case 5LL: { // Dip
			incref(in_List_3);
			VAL v9 = mw_std_list_List_1_singleZAsk(in_List_3);
			TUP* v10;
			TUP* v11;
			mw_std_maybe_Maybe_1_if_2_sp6(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v9, &v10, &v11);
			branch_ZPlusNeeds_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 6LL: { // RDip
			incref(in_List_3);
			VAL v12 = mw_std_list_List_1_singleZAsk(in_List_3);
			TUP* v13;
			TUP* v14;
			mw_std_maybe_Maybe_1_if_2_sp6(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v12, &v13, &v14);
			branch_ZPlusNeeds_8 = v14;
			branch_ZPlusMirth_7 = v13;
		} break;
		case 7LL: { // If
			incref(in_List_3);
			VAL v15 = mw_std_list_List_1_pairZAsk(in_List_3);
			TUP* v16;
			TUP* v17;
			mw_std_maybe_Maybe_1_if_2_sp6(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v15, &v16, &v17);
			branch_ZPlusNeeds_8 = v17;
			branch_ZPlusMirth_7 = v16;
		} break;
		case 8LL: { // While
			incref(in_List_3);
			VAL v18 = mw_std_list_List_1_pairZAsk(in_List_3);
			TUP* v19;
			TUP* v20;
			mw_std_maybe_Maybe_1_if_2_sp6(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, v18, &v19, &v20);
			branch_ZPlusNeeds_8 = v20;
			branch_ZPlusMirth_7 = v19;
		} break;
		default: {
			TUP* v21;
			TUP* v22;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v21, &v22);
			branch_ZPlusNeeds_8 = v22;
			branch_ZPlusMirth_7 = v21;
		} break;
	}
	*out_ZPlusNeeds_6 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_matchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Match_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	VAL v6 = in_Match_3->cells[6];
	incref(v6);
	decref(MKTUP(in_Match_3, 7));
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusNeeds_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusNeeds_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				TUP* v23;
				TUP* v24;
				mw_mirth_need_ZPlusNeeds_runZ_caseZBang(v13, v14, value_tup(v22, 2), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusNeeds_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_caseZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Case_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	incref(MKTUP(in_Case_3, 2));
	TUP* v6 = value_tup(in_Case_3->cells[0], 9);
	incref(MKTUP(v6, 9));
	decref(MKTUP(in_Case_3, 2));
	TUP* v7;
	TUP* v8;
	mw_mirth_need_ZPlusNeeds_runZ_patternZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	TUP* v9 = value_tup(in_Case_3->cells[1], 7);
	incref(MKTUP(v9, 7));
	decref(MKTUP(in_Case_3, 2));
	TUP* v10;
	TUP* v11;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v7, v8, v9, &v10, &v11);
	*out_ZPlusNeeds_5 = v11;
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Lambda_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	TUP* v6 = value_tup(in_Lambda_3->cells[4], 7);
	incref(MKTUP(v6, 7));
	decref(MKTUP(in_Lambda_3, 5));
	TUP* v7;
	TUP* v8;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, v6, &v7, &v8);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_patternZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_Pattern_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	VAL v6 = in_Pattern_3->cells[8];
	incref(v6);
	decref(MKTUP(in_Pattern_3, 9));
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusNeeds_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusNeeds_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				TUP* v23;
				TUP* v24;
				mw_mirth_need_ZPlusNeeds_runZ_patatomZBang(v13, v14, value_tup(v22, 7), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusNeeds_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_patatomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, TUP* in_PatternAtom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	VAL v6 = in_PatternAtom_3->cells[6];
	incref(v6);
	decref(MKTUP(in_PatternAtom_3, 7));
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusNeeds_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Underscore
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Tag
			uint64_t v9 = mtp_mirth_match_PatternOp_Tag(v6);
			TUP* v10;
			mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang(in_ZPlusNeeds_2, v9, &v10);
			branch_ZPlusNeeds_8 = v10;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_argsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	bool v6 = true;
	TUP* v7 = in_ZPlusMirth_1;
	TUP* v8 = in_ZPlusNeeds_2;
	VAL v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		TUP* v12 = v7;
		TUP* v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		TUP* branch_ZPlusMirth_16;
		TUP* branch_ZPlusNeeds_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				TUP* v22;
				TUP* v23;
				mw_mirth_need_ZPlusNeeds_pushZ_argZBang(v12, v13, value_u64(v21), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusNeeds_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v25 = MKI64(0LL /* Nil */);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusNeeds_17 = v13;
				branch_ZPlusMirth_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusNeeds_17;
		v7 = branch_ZPlusMirth_16;
	}
	decref(v9);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_need_ZPlusNeeds_pushZ_blockZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_Arg_3, &v6, &v7);
	*out_ZPlusNeeds_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusNeeds_5) {
	TUP* v6;
	VAL v7 = mw_mirth_arrow_Block_toZ_runZ_var(in_ZPlusMirth_1, in_Block_3, &v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusNeeds_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(v10);
			branch_ZPlusNeeds_9 = in_ZPlusNeeds_2;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 0LL: { // None
			TUP* v11;
			mw_mirth_need_ZPlusNeeds_needZ_blockZBang(in_ZPlusNeeds_2, in_Block_3, &v11);
			branch_ZPlusNeeds_9 = v11;
			branch_ZPlusMirth_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_ZPlusC99_put (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	bool v6 = value_bool(in_ZPlusC99_2->cells[3]);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusC99_8;
	if (v6) {
		TUP* v9 = value_tup(in_ZPlusC99_2->cells[5], 3);
		TUP* v10;
		mw_std_output_ZPlusOutput_put(in_Str_3, v9, &v10);
		in_ZPlusC99_2->cells[5] = MKTUP(v10, 3);
		branch_ZPlusC99_8 = in_ZPlusC99_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		decref(MKSTR(in_Str_3));
		branch_ZPlusC99_8 = in_ZPlusC99_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_ZPlusC99_putZ_byte (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, int64_t in_Byte_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	bool v6 = value_bool(in_ZPlusC99_2->cells[3]);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusC99_8;
	if (v6) {
		TUP* v9 = value_tup(in_ZPlusC99_2->cells[5], 3);
		TUP* v10;
		mw_std_output_ZPlusOutput_putZ_byte(in_Byte_3, v9, &v10);
		in_ZPlusC99_2->cells[5] = MKTUP(v10, 3);
		branch_ZPlusC99_8 = in_ZPlusC99_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		branch_ZPlusC99_8 = in_ZPlusC99_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_ZPlusC99_line (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	bool v5 = value_bool(in_ZPlusC99_2->cells[3]);
	TUP* branch_ZPlusC99_6;
	if (v5) {
		TUP* v7 = value_tup(in_ZPlusC99_2->cells[5], 3);
		TUP* v8;
		mw_std_output_ZPlusOutput_line(v7, &v8);
		in_ZPlusC99_2->cells[5] = MKTUP(v8, 3);
		branch_ZPlusC99_6 = in_ZPlusC99_2;
	} else {
		branch_ZPlusC99_6 = in_ZPlusC99_2;
	}
	*out_ZPlusC99_4 = branch_ZPlusC99_6;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_runZ_outputZ_c99ZBang (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* in_C99z_Options_3, TUP* *out_ZPlusMirth_4) {
	INT v7 = value_int(in_ZPlusMirth_1->cells[0]);
	incref(MKINT(v7));
	INT v8 = WRAP_I63(0LL);
	bool v9 = int_lt(v8, v7);
	TUP* branch_ZPlusMirth_10;
	if (v9) {
		STR* v11;
		STRLIT(v11, "There were errors, so codegen stopped.", 38);
		mw_std_prim_ZPlusWorld_trace(v11);
		mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(in_ZPlusMirth_1);
		decref(MKTUP(in_C99z_Options_3, 2));
		decref(MKTUP(in_Arrow_2, 7));
	} else {
		TUP* v13;
		TUP* v14;
		TUP* v15 = mw_mirth_c99_c99Z_startZBang(in_ZPlusMirth_1, in_Arrow_2, in_C99z_Options_3, &v13, &v14);
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_c99Z_headerZBang(v13, v14, &v16, &v17);
		TUP* v18;
		TUP* v19;
		mw_mirth_c99_c99Z_labelZ_defsZBang(v16, v17, &v18, &v19);
		TUP* v20;
		TUP* v21;
		mw_mirth_c99_c99Z_fieldZ_defsZBang(v18, v19, &v20, &v21);
		TUP* v22;
		TUP* v23;
		mw_mirth_c99_c99Z_tagZ_defsZBang(v20, v21, &v22, &v23);
		TUP* v24;
		TUP* v25;
		mw_mirth_c99_c99Z_buffersZBang(v22, v23, &v24, &v25);
		TUP* v26;
		TUP* v27;
		mw_mirth_c99_c99Z_externalZ_blocksZBang(v24, v25, &v26, &v27);
		TUP* v28;
		TUP* v29;
		mw_mirth_c99_c99Z_wordZ_sigsZBang(v26, v27, &v28, &v29);
		TUP* v30;
		TUP* v31;
		mw_mirth_c99_c99Z_blockZ_sigsZBang(v28, v29, &v30, &v31);
		TUP* v32;
		TUP* v33;
		mw_mirth_c99_c99Z_mainZBang(v30, v31, v15, &v32, &v33);
		TUP* v34;
		TUP* v35;
		mw_mirth_c99_c99Z_wordZ_defsZBang(v32, v33, &v34, &v35);
		TUP* v36;
		TUP* v37;
		mw_mirth_c99_c99Z_blockZ_defsZBang(v34, v35, &v36, &v37);
		TUP* v38;
		mw_mirth_c99_c99Z_endZBang(v36, v37, &v38);
		branch_ZPlusMirth_10 = v38;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static TUP* mw_mirth_c99_c99Z_startZBang (TUP* in_ZPlusMirth_1, TUP* in_Arrow_2, TUP* in_C99z_Options_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_6) {
	INT v9 = WRAP_I63(0LL);
	INT v10 = WRAP_I63(0LL);
	bool v11 = true;
	TUP* v12;
	mw_mirth_need_ZPlusNeeds_New(&v12);
	incref(MKTUP(in_Arrow_2, 7));
	TUP* v13;
	TUP* v14;
	mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang(in_ZPlusMirth_1, v12, in_Arrow_2, &v13, &v14);
	incref(MKTUP(in_C99z_Options_3, 2));
	STR* v15 = value_str(in_C99z_Options_3->cells[0]);
	incref(MKSTR(v15));
	decref(MKTUP(in_C99z_Options_3, 2));
	VAL v16;
	mw_std_prim_ZPlusWorld_createZ_fileZBang(v15, &v16);
	TUP* branch_ZPlusMirth_17;
	VAL branch_z_x1_18;
	switch (get_data_tag(v16)) {
		case 1LL: { // +Ok
			VAL v19;
			mtp_std_result_ZPlusResult_2_ZPlusOk(v16, &v19);
			branch_z_x1_18 = v19;
			branch_ZPlusMirth_17 = v13;
		} break;
		case 0LL: { // +Err
			VAL v20 = mtp_std_result_ZPlusResult_2_ZPlusErr(v16);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(v20, v13);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v24;
	mw_std_output_ZPlusOutput_startZBang(value_tup(branch_z_x1_18, 2), &v24);
	TUP* v25;
	mtw_mirth_c99_ZPlusC99_ZPlusC99(in_C99z_Options_3, v9, v10, v11, v14, v24, &v25);
	*out_ZPlusC99_6 = v25;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_17;
	return in_Arrow_2;
}
static void mw_mirth_c99_c99Z_endZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3) {
	TUP* v6;
	INT v7;
	INT v8;
	bool v9;
	TUP* v10;
	TUP* v11;
	mtp_mirth_c99_ZPlusC99_ZPlusC99(in_ZPlusC99_2, &v6, &v7, &v8, &v9, &v10, &v11);
	decref(MKTUP(v6, 2));
	decref(MKINT(v8));
	decref(MKINT(v7));
	mw_mirth_need_ZPlusNeeds_rdrop(v10);
	TUP* v12;
	mw_std_output_ZPlusOutput_endZBang(v11, &v12);
	VAL v13 = mw_std_file_ZPlusFile_closeZ_fileZBang(v12);
	TUP* branch_ZPlusMirth_14;
	switch (get_data_tag(v13)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(v13);
			mw_mirth_mirth_ZPlusMirth_ioZ_errorZBang(v15, in_ZPlusMirth_1);
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_14 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
}
static void mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	INT v5 = WRAP_I63(0LL);
	INT v6 = value_int(in_ZPlusC99_2->cells[2]);
	decref(MKINT(v6));
	in_ZPlusC99_2->cells[2] = MKINT(v5);
	*out_ZPlusC99_4 = in_ZPlusC99_2;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static INT mw_mirth_c99_ZPlusC99_freshZ_natZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	INT v6 = value_int(in_ZPlusC99_2->cells[2]);
	incref(MKINT(v6));
	incref(MKINT(v6));
	INT v7 = WRAP_I63(1LL);
	INT v8 = int_add(v6, v7);
	INT v9 = value_int(in_ZPlusC99_2->cells[2]);
	decref(MKINT(v9));
	in_ZPlusC99_2->cells[2] = MKINT(v8);
	*out_ZPlusC99_4 = in_ZPlusC99_2;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v6;
}
static STR* mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v7;
	TUP* v8;
	INT v9 = mw_mirth_c99_ZPlusC99_freshZ_natZBang(in_ZPlusMirth_1, in_ZPlusC99_2, &v7, &v8);
	STR* v10 = int_to_str(v9);
	STR* v11 = str_cat(in_Str_3, v10);
	*out_ZPlusC99_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return v11;
}
static STR* mw_mirth_c99_ZPlusC99_freshZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	STR* v6;
	STRLIT(v6, "v", 1);
	TUP* v7;
	TUP* v8;
	STR* v9 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	*out_ZPlusC99_4 = v8;
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static STR* mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	STR* v6;
	STRLIT(v6, "r", 1);
	TUP* v7;
	TUP* v8;
	STR* v9 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	*out_ZPlusC99_4 = v8;
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static STR* mw_mirth_data_Tag_wordZ_cname (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildewordZ_cname, in_Tag_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, in_Tag_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mtw_", 4);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		TUP* v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v16;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static STR* mw_mirth_data_Tag_patZ_cname (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildepatZ_cname, in_Tag_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_data_Tag_qname(in_ZPlusMirth_1, in_Tag_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mtp_", 4);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		TUP* v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v16;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static STR* mw_mirth_buffer_Buffer_cname (TUP* in_ZPlusMirth_1, uint64_t in_Buffer_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_buffer_Buffer_ZTildecname, in_Buffer_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Buffer_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Buffer_8 = in_Buffer_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_buffer_Buffer_qnameZ_hard(in_ZPlusMirth_1, in_Buffer_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mbuf_", 5);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		TUP* v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_Buffer_8 = in_Buffer_2;
		branch_ZPlusMirth_7 = v16;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static STR* mw_mirth_table_Field_cname (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_table_Field_ZTildecname, in_Field_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Field_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Field_8 = in_Field_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_table_Field_qnameZ_hard(in_ZPlusMirth_1, in_Field_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mfld_", 5);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		TUP* v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_Field_8 = in_Field_2;
		branch_ZPlusMirth_7 = v16;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static STR* mw_mirth_external_External_cname (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_external_External_ZTildecname, in_External_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_External_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_External_8 = in_External_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		TUP* v12 = mw_mirth_external_External_qnameZ_hard(in_ZPlusMirth_1, in_External_2, &v11);
		STR* v13;
		STRLIT(v13, "", 0);
		STR* v14;
		STRLIT(v14, "mext_", 5);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v13, &v15);
		TUP* v16;
		STR* v17;
		mw_mirth_name_QName_mangledZThen(v11, v15, v12, &v16, &v17);
		incref(MKSTR(v17));
		mut_set(MKSTR(v17), v5);
		branch_Str_9 = v17;
		branch_External_8 = in_External_2;
		branch_ZPlusMirth_7 = v16;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static STR* mw_mirth_c99_c99Z_headerZ_str (void) {
	STR* v2;
	STRLIT(v2,
		"/* MIRTH HEADER */\n"
		"// #line 3 \"src/mirth.h\"\n"
		"\n"
		"#if defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__)\n"
		"#define MIRTH_WINDOWS 1\n"
		"#elif defined(__linux__)\n"
		"#define MIRTH_LINUX 1\n"
		"#elif defined(__APPLE__)\n"
		"#define MIRTH_MACOS 1\n"
		"#else\n"
		"#error \"Platform not supported.\"\n"
		"#endif\n"
		"\n"
		"#if defined(__x86_64__) || defined(_M_X64)\n"
		"#define MIRTH_AMD64\n"
		"#elif defined(i386) || defined(__i386__) || defined(__i386) || defined(_M_IX86)\n"
		"#define MIRTH_I386\n"
		"#elif defined(__aarch64__) || defined(_M_ARM64)\n"
		"#define MIRTH_ARM64\n"
		"#else\n"
		"#error \"Architecture not supported.\"\n"
		"#endif\n"
		"\n"
		"#include <stdint.h>\n"
		"#include <stdbool.h>\n"
		"#include <stddef.h>\n"
		"#include <float.h>\n"
		"\n"
		"extern void* malloc(size_t);\n"
		"extern void* calloc(size_t, size_t);\n"
		"extern void* realloc(void*, size_t);\n"
		"extern void* memset(void*, int, size_t);\n"
		"extern void* memcpy(void*, const void*, size_t);\n"
		"extern void* memmove(void*, const void*, size_t);\n"
		"extern int memcmp(const void*, const void*, size_t);\n"
		"extern int strcmp(const char*, const char*);\n"
		"extern size_t strlen(const char*);\n"
		"extern void free(void*);\n"
		"extern int read(int, void*, size_t);\n"
		"extern int write(int, const char*, size_t);\n"
		"extern int close(int);\n"
		"extern int open(const char*, int, ...);\n"
		"extern void exit(int);\n"
		"extern int sprintf (char * s, const char * format, ...);\n"
		"extern float strtof(const char* str, char** endptr);\n"
		"extern double strtod(const char* str, char** endptr);\n"
		"\n"
		"typedef struct INT { int64_t val; } INT;\n"
		"typedef uint64_t TAG;\n"
		"\n"
		"typedef uint32_t REFS;\n"
		"typedef uint64_t USIZE;\n"
		"typedef void (*FNPTR)(void);\n"
		"\n"
		"typedef union DATA {\n"
		"    USIZE usize;\n"
		"    uint64_t u64;\n"
		"    uint32_t u32;\n"
		"    uint16_t u16;\n"
		"    uint8_t u8;\n"
		"    int64_t i64;\n"
		"    int32_t i32;\n"
		"    int16_t i16;\n"
		"    int8_t i8;\n"
		"    float f32;\n"
		"    double f64;\n"
		"    void* ptr;\n"
		"    FNPTR fnptr;\n"
		"    REFS* refs;\n"
		"    INT iint;\n"
		"    struct STR* str;\n"
		"    struct TUP* tup;\n"
		"} DATA;\n"
		"\n"
		"typedef struct VAL {\n"
		"    DATA data;\n"
		"    TAG tag;\n"
		"} VAL;\n"
		"\n"
		"typedef struct TYPE {\n"
		"    const char* name;\n"
		"    uint64_t flags;\n"
		"    void (*free)(VAL v);\n"
		"    void (*trace_)(VAL v, int fd);\n"
		"    void (*run)(VAL v);\n"
		"} TYPE;\n"
		"\n"
		"\n"
		"#define REFS_FLAG 0x0001\n"
		"#define PTRMK(e,p,t) (((uint64_t)(e) << 48) | (uint64_t)(p) | (uint64_t)(t))\n"
		"#define PTRPTR(p) ((void*)(uintptr_t)((uint64_t)(p) & 0xFFFFFFFFFFFC))\n"
		"#define PTRTAG(p) ((uint64_t)(p) & 0x3)\n"
		"#define PTREXTRA(p) ((uint64_t)(p) >> 48)\n"
		"\n"
		"static void default_free   (VAL v);\n"
		"static void default_trace_ (VAL v, int fd);\n"
		"static void default_run    (VAL v);\n"
		"\n"
		"static void bool_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_BOOL = { .name = \"Bool\", .trace_ = bool_trace_ };\n"
		"\n"
		"static void int_trace_ (VAL v, int fd);\n"
		"static void int_free (VAL v);\n"
		"static TYPE TYPE_INT = { .name = \"Int\", .trace_ = int_trace_, .free = int_free };\n"
		"\n"
		"static void i64_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_I64 = { .name = \"I64\", .trace_ = i64_trace_ };\n"
		"\n"
		"static void i32_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_I32 = { .name = \"I32\", .trace_ = i32_trace_ };\n"
		"\n"
		"static void i16_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_I16 = { .name = \"I16\", .trace_ = i16_trace_ };\n"
		"\n"
		"static void i8_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_I8 = { .name = \"I8\", .trace_ = i8_trace_ };\n"
		"\n"
		"static void u64_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_U64 = { .name = \"U64\", .trace_ = u64_trace_ };\n"
		"\n"
		"static void u32_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_U32 = { .name = \"U32\", .trace_ = u32_trace_ };\n"
		"\n"
		"static void u16_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_U16 = { .name = \"U16\", .trace_ = u16_trace_ };\n"
		"\n"
		"static void u8_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_U8 = { .name = \"U8\", .trace_ = u8_trace_ };\n"
		"\n"
		"static void f64_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_F64 = { .name = \"F64\", .trace_ = f64_trace_ };\n"
		"\n"
		"static void f32_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_F32 = { .name = \"F32\", .trace_ = f32_trace_ };\n"
		"\n"
		"static void ptr_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_PTR = { .name = \"Ptr\", .trace_ = ptr_trace_ };\n"
		"\n"
		"static void fnptr_run (VAL v);\n"
		"static TYPE TYPE_FNPTR = { .name = \"FnPtr\", .run = fnptr_run };\n"
		"\n"
		"static void str_free (VAL v);\n"
		"static void str_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_STR = { .name = \"Str\", .flags=REFS_FLAG, .trace_ = str_trace_, .free=str_free };\n"
		"\n"
		"static void tup_free (VAL v);\n"
		"static void tup_trace_ (VAL v, int fd);\n"
		"static void tup_run (VAL v);\n"
		"static TYPE TYPE_TUP = { .name = \"Tup\", .flags = REFS_FLAG, .free = tup_free, .trace_ = tup_trace_, .run = tup_run };\n"
		"\n"
		"#define TAG_BOOL  ((TAG)&TYPE_BOOL)\n"
		"#define TAG_I64   ((TAG)&TYPE_I64)\n"
		"#define TAG_I32   ((TAG)&TYPE_I32)\n"
		"#define TAG_I16   ((TAG)&TYPE_I16)\n"
		"#define TAG_I8    ((TAG)&TYPE_I8)\n"
		"#define TAG_U64   ((TAG)&TYPE_U64)\n"
		"#define TAG_U32   ((TAG)&TYPE_U32)\n"
		"#define TAG_U16   ((TAG)&TYPE_U16)\n"
		"#define TAG_U8    ((TAG)&TYPE_U8)\n"
		"#define TAG_F64   ((TAG)&TYPE_F64)\n"
		"#define TAG_F32   ((TAG)&TYPE_F32)\n"
		"#define TAG_PTR   ((TAG)&TYPE_PTR)\n"
		"#define TAG_FNPTR ((TAG)&TYPE_FNPTR)\n"
		"#define TAG_INT   (REFS_FLAG | (TAG)&TYPE_INT)\n"
		"#define TAG_STR   (REFS_FLAG | (TAG)&TYPE_STR)\n"
		"#define TAG_TUP   (REFS_FLAG | (TAG)&TYPE_TUP)\n"
		"\n"
		"#define VALEQ(v1,v2) (((v1).tag == (v2).tag) && ((v1).data.u64 == (v2).data.u64))\n"
		"\n"
		"#define VTYPE(v) ((const TYPE*)(PTRPTR((v).tag)))\n"
		"#define VREFS(v) (*(REFS*)PTRPTR((v).data.u64))\n"
		"#define HAS_REFS(v) (((v).tag & REFS_FLAG) && PTRPTR((v).data.u64) && (PTRTAG((v).data.u64) == 0))\n"
		"\n"
		"#define VINT(v)   ((v).data.iint)\n"
		"#define VI64(v)   ((v).data.i64)\n"
		"#define VI32(v)   ((v).data.i32)\n"
		"#define VI16(v)   ((v).data.i16)\n"
		"#define VI8(v)    ((v).data.i8)\n"
		"#define VU64(v)   ((v).data.u64)\n"
		"#define VU32(v)   ((v).data.u32)\n"
		"#define VU16(v)   ((v).data.u16)\n"
		"#define VU8(v)    ((v).data.u8)\n"
		"#define VBOOL(v)  ((_Bool)((v).data.u64))\n"
		"#define VF32(v)   ((v).data.f32)\n"
		"#define VF64(v)   ((v).data.f64)\n"
		"#define VPTR(v)   ((v).data.ptr)\n"
		"#define VFNPTR(v) ((v).data.fnptr)\n"
		"\n"
		"#define IS_VAL(v)   (1)\n"
		"#define IS_INT(v)   ((v).tag == TAG_INT)\n"
		"#define IS_I64(v)   ((v).tag == TAG_I64)\n"
		"#define IS_I32(v)   ((v).tag == TAG_I32)\n"
		"#define IS_I16(v)   ((v).tag == TAG_I16)\n"
		"#define IS_I8(v)    ((v).tag == TAG_I8)\n"
		"#define IS_U64(v)   ((v).tag == TAG_U64)\n"
		"#define IS_U32(v)   ((v).tag == TAG_U32)\n"
		"#define IS_U16(v)   ((v).tag == TAG_U16)\n"
		"#define IS_U8(v)    ((v).tag == TAG_U8)\n"
		"#define IS_BOOL(v)  ((v).tag == TAG_BOOL)\n"
		"#define IS_F32(v)   ((v).tag == TAG_F32)\n"
		"#define IS_F64(v)   ((v).tag == TAG_F64)\n"
		"#define IS_PTR(v)   ((v).tag == TAG_PTR)\n"
		"#define IS_FNPTR(v) ((v).tag == TAG_FNPTR)\n"
		"#define IS_STR(v)   ((v).tag == TAG_STR)\n"
		"#define IS_TUP(v)   ((v).tag == TAG_TUP)\n"
		"#define IS_NIL(v)   (IS_TUP(v) && (VTUPLEN(v) == 0))\n"
		"\n"
		"#define MKVAL(x)   (x)\n"
		"#define MKBOOL(x)  ((VAL){.tag=TAG_BOOL, .data={.u64=(x)}})\n"
		"#define MKI64(x)   ((VAL){.tag=TAG_I64, .data={.i64=(x)}})\n"
		"#define MKI32(x)   ((VAL){.tag=TAG_I32, .data={.i64=(x)}})\n"
		"#define MKI16(x)   ((VAL){.tag=TAG_I16, .data={.i64=(x)}})\n"
		"#define MKI8(x)    ((VAL){.tag=TAG_I8, .data={.i64=(x)}})\n"
		"#define MKU64(x)   ((VAL){.tag=TAG_U64, .data={.u64=(x)}})\n"
		"#define MKU32(x)   ((VAL){.tag=TAG_U32, .data={.u64=(x)}})\n"
		"#define MKU16(x)   ((VAL){.tag=TAG_U16, .data={.u64=(x)}})\n"
		"#define MKU8(x)    ((VAL){.tag=TAG_U8, .data={.u64=(x)}})\n"
		"#define MKF32(x)   ((VAL){.tag=TAG_F32, .data={.f32=(x)}})\n"
		"#define MKF64(x)   ((VAL){.tag=TAG_F64, .data={.f64=(x)}})\n"
		"#define MKPTR(x)   ((VAL){.tag=TAG_PTR, .data={.ptr=(x)}})\n"
		"#define MKFNPTR(x) ((VAL){.tag=TAG_FNPTR, .data={.fnptr=(x)}})\n"
		"\n"
		"#define VSTR(v)    (((v).data.str))\n"
		"#define MKSTR(x)   ((VAL){.tag=TAG_STR, .data={.str=(x)}})\n"
		"\n"
		"#define VTUP(v)    (((v).data.tup))\n"
		"#define VTUPLEN(v) (tup_len_(VTUP(v)))\n"
		"#define MKTUP(x,n) ((VAL){.tag=TAG_TUP, .data={.tup=(x)}})\n"
		"#define MKNIL      ((VAL){.tag=TAG_TUP, .data={.tup=NULL}})\n"
		"\n"
		"#define INT63_MIN (-0x4000000000000000LL)\n"
		"#define INT63_MAX ( 0x3FFFFFFFFFFFFFFFLL)\n"
		"\n"
		"#define IS_I63(x) ((x).val & 1)\n"
		"#define WRAP_I63(x) ((INT){ .val = 1+2*(int64_t)(x) })\n"
		"#define GET_I63(x) ((((x).val)-1)/2)\n"
		"\n"
		"#define IS_BIG(x) (!IS_I63(x))\n"
		"#define WRAP_BIG(x) ((INT){ .val = (intptr_t)(x) })\n"
		"#define GET_BIG(x) ((struct BIG*)(intptr_t)((x).val))\n"
		"\n"
		"#define MKINT(x) ((VAL){.tag=TAG_INT, .data={.iint=(x)}})\n"
		"\n"
		"#define IS_INT_I63(x) (IS_INT(x) && IS_I63((x).data.iint))\n"
		"#define MKINT_I63(x) (MKINT(WRAP_I63(x)))\n"
		"#define VINT_I63(x) (GET_I63((x).data.iint))\n"
		"\n"
		"#define IS_INT_BIG(x) (IS_INT(x) && IS_BIG((x).data.iint))\n"
		"#define MKINT_BIG(x) (MKINT(WRAP_BIG(x)))\n"
		"#define VINT_BIG(x) (GET_BIG((x).data.iint))\n"
		"\n"
		"#define TUP_LEN_MAX 0x3FFF\n"
		"\n"
		"#define STRLIT(v,x,n) \\\n"
		"    do { \\\n"
		"        static STR* mval = 0; \\\n"
		"        if (!mval) mval = str_make(x,n); \\\n"
		"        incref(MKSTR(mval)); \\\n"
		"        v = mval; \\\n"
		"    } while(0)\n"
		"\n"
		"typedef uint16_t TUPLEN;\n"
		"typedef struct TUP {\n"
		"    REFS refs;\n"
		"    TUPLEN cap;\n"
		"    TUPLEN size;\n"
		"    VAL cells[];\n"
		"} TUP;\n"
		"\n"
		"typedef struct STR {\n"
		"    REFS refs;\n"
		"    USIZE cap;\n"
		"    USIZE size;\n"
		"    char data[];\n"
		"} STR;\n"
		"\n"
		"#define ANY\n"
		"#define BIG_S(z) { REFS refs; USIZE cap; USIZE size; uint32_t radix[z]; }\n"
		"typedef struct BIG BIG_S(ANY) BIG;\n"
		"\n"
		"#define STACK_MAX 0x80000\n"
		"static USIZE stack_counter = STACK_MAX;\n"
		"static VAL stack [STACK_MAX] = {0};\n"
		"static USIZE rstack_counter = STACK_MAX;\n"
		"static VAL rstack [STACK_MAX] = {0};\n"
		"\n"
		"static int global_argc;\n"
		"static char** global_argv;\n"
		"\n"
		"static void push_value(VAL v);\n"
		"static void trace_stack(void);\n"
		"static void trace_rstack(void);\n"
		"\n"
		"#if MIRTH_DEBUG\n"
		"    typedef struct LOC {\n"
		"        const char* word;\n"
		"        const char* path;\n"
		"        USIZE line, col;\n"
		"        const char* atom;\n"
		"    } LOC;\n"
		"    static USIZE fstack_counter = 0;\n"
		"    static LOC fstack [STACK_MAX] = {\n"
		"        {\n"
		"            .word=\"<word>\",\n"
		"            .path=\"<path>\",\n"
		"            .line=0, .col=0,\n"
		"            .atom=\"<atom>\"\n"
		"        },\n"
		"    };\n"
		"\n"
		"    #define WORD_ENTER(_w,_p,_l,_c) \\\n"
		"        do { \\\n"
		"            fstack[fstack_counter].word = (_w); \\\n"
		"            fstack[fstack_counter].path = (_p); \\\n"
		"            fstack[fstack_counter].line = (_l); \\\n"
		"            fstack[fstack_counter].col = (_c); \\\n"
		"            fstack[fstack_counter].atom = \"\"; \\\n"
		"            fstack_counter++; \\\n"
		"        } while(0)\n"
		"\n"
		"    #define WORD_ATOM(_l,_c,_n) \\\n"
		"        do { \\\n"
		"            if (fstack_counter > 0) { \\\n"
		"                fstack[fstack_counter-1].line = (_l); \\\n"
		"                fstack[fstack_counter-1].col = (_c); \\\n"
		"                fstack[fstack_counter-1].atom = (_n); \\\n"
		"            } \\\n"
		"        } while(0)\n"
		"\n"
		"    #define WORD_EXIT \\\n"
		"        do { \\\n"
		"            if (fstack_counter == 0) { \\\n"
		"                TRACE(\"mismatched WORD_EXIT\\n\"); \\\n"
		"                exit(1); \\\n"
		"            } \\\n"
		"            fstack_counter--; \\\n"
		"        } while(0)\n"
		"#endif\n"
		"\n"
		"#define TRACE(x) write(2,x,strlen(x))\n"
		"#define _STR(x) #x\n"
		"#define STR(x) _STR(x)\n"
		"\n"
		"#define EXPECT(test,msg) \\\n"
		"    do { \\\n"
		"        if (!(test)) { \\\n"
		"            TRACE(msg \"\\n\"); \\\n"
		"            trace_stack(); \\\n"
		"            trace_rstack(); \\\n"
		"            exit(1); \\\n"
		"        } \\\n"
		"    } while(0)\n"
		"\n"
		"#define EXPECT1(test,msg,v1) \\\n"
		"    do { \\\n"
		"        if (!(test)) { \\\n"
		"            TRACE(msg \"\\n\"); \\\n"
		"            push_value(v1); \\\n"
		"            trace_stack(); \\\n"
		"            trace_rstack(); \\\n"
		"            exit(1); \\\n"
		"        } \\\n"
		"    } while(0)\n"
		"\n"
		"#define EXPECT2(test,msg,v1,v2) \\\n"
		"    do { \\\n"
		"        if (!(test)) { \\\n"
		"            TRACE(msg \"\\n\"); \\\n"
		"            push_value(v1); \\\n"
		"            push_value(v2); \\\n"
		"            trace_stack(); \\\n"
		"            trace_rstack(); \\\n"
		"            exit(1); \\\n"
		"        } \\\n"
		"    } while(0)\n"
		"\n"
		"#define ASSERT(test) \\\n"
		"    EXPECT(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\")\n"
		"#define ASSERT1(test,v) \\\n"
		"    EXPECT1(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\", v)\n"
		"#define ASSERT2(test,v1,v2) \\\n"
		"    EXPECT2(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\", v1, v2)\n"
		"\n"
		"#define incref(v) do { if (HAS_REFS(v)) VREFS(v)++; } while(0)\n"
		"#define decref(v) do { if (HAS_REFS(v)) if (!--VREFS(v)) free_value(v); } while(0)\n"
		"static void free_value(VAL v) {\n"
		"    ASSERT(VTYPE(v));\n"
		"    ASSERT1(VTYPE(v)->free,v);\n"
		"    ASSERT1(HAS_REFS(v),v);\n"
		"    ASSERT1(VREFS(v) == 0,v);\n"
		"    VTYPE(v)->free(v);\n"
		"}\n"
		"\n"
		"static void str_free (VAL v) {\n"
		"    STR* str = VSTR(v);\n"
		"    free(str);\n"
		"}\n"
		"\n"
		"static void tup_free (VAL v) {\n"
		"    TUP* tup = VTUP(v);\n"
		"    if (tup) {\n"
		"        for (TUPLEN i = 0; i < tup->size; i++) {\n"
		"            decref(tup->cells[i]);\n"
		"        }\n"
		"        free(tup);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void tup_decref_outer(TUP* tup, size_t n) {\n"
		"    ASSERT(tup);\n"
		"    ASSERT(tup->size == n);\n"
		"    if (tup->refs == 1) {\n"
		"        free(tup);\n"
		"    } else {\n"
		"        for (size_t i = 0; i < n; i++) {\n"
		"            incref(tup->cells[i]);\n"
		"        }\n"
		"        if (!--tup->refs) tup_free(MKTUP(tup,n));\n"
		"    }\n"
		"}\n"
		"\n"
		"static TUPLEN tup_len_ (TUP* tup) {\n"
		"    if (tup) {\n"
		"        return tup->size;\n"
		"    } else {\n"
		"        return 0;\n"
		"    }\n"
		"}\n"
		"\n"
		"static uint64_t value_u64 (VAL v) { ASSERT1(IS_U64(v),v); return VU64(v); }\n"
		"static uint32_t value_u32 (VAL v) { ASSERT1(IS_U32(v),v); return VU32(v); }\n"
		"static uint16_t value_u16 (VAL v) { ASSERT1(IS_U16(v),v); return VU16(v); }\n"
		"static uint8_t  value_u8  (VAL v) { ASSERT1(IS_U8(v) ,v); return VU8(v) ; }\n"
		"\n"
		"static INT value_int (VAL v) { ASSERT1(IS_INT(v),v); return VINT(v); }\n"
		"static int64_t value_i64 (VAL v) { ASSERT1(IS_I64(v),v); return VI64(v); }\n"
		"static int32_t value_i32 (VAL v) { ASSERT1(IS_I32(v),v); return VI32(v); }\n"
		"static int16_t value_i16 (VAL v) { ASSERT1(IS_I16(v),v); return VI16(v); }\n"
		"static int8_t  value_i8  (VAL v) { ASSERT1(IS_I8(v) ,v); return VI8(v) ; }\n"
		"static bool value_bool (VAL v) { ASSERT1(IS_BOOL(v),v); return VBOOL(v); }\n"
		"\n"
		"static double value_f64 (VAL v) { ASSERT1(IS_F64(v), v); return VF64(v); }\n"
		"static float value_f32 (VAL v) { ASSERT1(IS_F32(v), v); return VF32(v); }\n"
		"\n"
		"static void* value_ptr (VAL v) { ASSERT1(IS_PTR(v),v); return VPTR(v); }\n"
		"static FNPTR value_fnptr (VAL v) { ASSERT1(IS_FNPTR(v),v); return VFNPTR(v); }\n"
		"static STR* value_str (VAL v) { ASSERT1(IS_STR(v),v); return VSTR(v); }\n"
		"static TUP* value_tup (VAL v, TUPLEN n) { ASSERT1(IS_TUP(v) && (VTUPLEN(v) == n), v); return VTUP(v); }\n"
		"\n"
		"static void push_value (VAL x) { ASSERT(stack_counter > 0); stack[--stack_counter] = x; }\n"
		"static void push_resource (VAL x) { ASSERT(rstack_counter > 0); rstack[--rstack_counter] = x; }\n"
		"static VAL pop_value (void) { ASSERT(stack_counter < STACK_MAX); return stack[stack_counter++]; }\n"
		"static VAL pop_resource (void) { ASSERT(rstack_counter < STACK_MAX); return rstack[rstack_counter++]; }\n"
		"\n"
		"// Create a TUP with at least min(cap_hint, TUP_LEN_MAX) capacity.\n"
		"static TUP* tup_new (TUPLEN cap_hint) {\n"
		"    if (cap_hint < 3) cap_hint = 3;\n"
		"    if (cap_hint > TUP_LEN_MAX) cap_hint = TUP_LEN_MAX;\n"
		"    TUP *new_tup = calloc(1, sizeof(TUP) + sizeof(VAL)*(USIZE)cap_hint);\n"
		"    ASSERT(new_tup);\n"
		"    new_tup->refs = 1;\n"
		"    new_tup->cap = cap_hint;\n"
		"    return new_tup;\n"
		"}\n"
		"\n"
		"static VAL tup_replace (VAL tup, TUPLEN i, VAL v) {\n"
		"    ASSERT(IS_TUP(tup));\n"
		"    TUPLEN n = VTUPLEN(tup);\n"
		"    ASSERT(i < n);\n"
		"    if (VTUP(tup)->refs > 1) {\n"
		"        TUP* newtup = tup_new(n);\n"
		"        newtup->size = n;\n"
		"        memcpy(newtup->cells, VTUP(tup)->cells, n*sizeof(VAL));\n"
		"        for (TUPLEN j=0; j<n; j++) incref(newtup->cells[j]);\n"
		"        decref(tup);\n"
		"        tup = MKTUP(newtup, n);\n"
		"    }\n"
		"    VAL u = VTUP(tup)->cells[i];\n"
		"    VTUP(tup)->cells[i] = v;\n"
		"    decref(u);\n"
		"    return tup;\n"
		"}\n"
		"\n"
		"typedef struct STACK {\n"
		"    size_t cap;\n"
		"    size_t len;\n"
		"    VAL* val;\n"
		"} STACK;\n"
		"\n"
		"static VAL lpop(STACK* stk) {\n"
		"    ASSERT(stk->len > 0);\n"
		"    return stk->val[--stk->len];\n"
		"}\n"
		"static void lpush(STACK* stk, VAL val) {\n"
		"    if (stk->len >= stk->cap) {\n"
		"        stk->cap = stk->cap * 2 + 4;\n"
		"        VAL* newval = realloc(stk->val, stk->cap * sizeof(VAL));\n"
		"        ASSERT(newval);\n"
		"        stk->val = newval;\n"
		"    }\n"
		"    stk->val[stk->len++] = val;\n"
		"}\n"
		"\n"
		"static STR* str_alloc (USIZE cap) {\n"
		"    ASSERT(cap <= SIZE_MAX - sizeof(STR) - 4);\n"
		"    STR* str = calloc(1, (size_t)(cap + sizeof(STR) + 4));\n"
		"    EXPECT(str, \"failed to allocate string\");\n"
		"    str->refs = 1;\n"
		"    str->cap = cap;\n"
		"    return str;\n"
		"}\n"
		"\n"
		"static STR* str_make (const char* data, USIZE size) {\n"
		"    ASSERT(data);\n"
		"    ASSERT(size <= SIZE_MAX - sizeof(STR) - 4);\n"
		"    STR* str = str_alloc(size);\n"
		"    str->size = size;\n"
		"    memcpy(str->data, data, (size_t)size);\n"
		"    return str;\n"
		"}\n"
		"#define mkstr(x,n) MKSTR(str_make((x), (n)))\n"
		"\n"
		"static STR* str_pushn (STR* s, const char* p, USIZE n2) {\n"
		"    if (n2 == 0) return s;\n"
		"    ASSERT(s && p);\n"
		"    ASSERT(n2 <= SIZE_MAX);\n"
		"    USIZE m = s->cap;\n"
		"    USIZE n1 = s->size;\n"
		"    ASSERT(n1 <= SIZE_MAX-n2);\n"
		"    ASSERT(4 <= SIZE_MAX-n1-n2);\n"
		"    if ((s->refs == 1) && (n1 + n2 + 4 <= m)) {\n"
		"        memcpy(s->data + n1, p, (size_t)n2);\n"
		"        s->size += n2;\n"
		"        ASSERT(s->size + 4 <= s->cap);\n"
		"        return s;\n"
		"    } else {\n"
		"        USIZE m2 = n1 + n2 + 4;\n"
		"        if ((s->refs == 1) && (m <= SIZE_MAX-m) && (m2 < m*2)) m2 = m*2;\n"
		"        STR* str = str_alloc(m2);\n"
		"        str->size = n1+n2;\n"
		"        memcpy(str->data, s->data, (size_t)n1);\n"
		"        memcpy(str->data+n1, p, (size_t)n2);\n"
		"        decref(MKSTR(s));\n"
		"        return str;\n"
		"    }\n"
		"}\n"
		"\n"
		"static STR* str_cat (STR* s1, STR* s2) {\n"
		"    EXPECT(s1 && s2, \"invalid strings in prim-str-cat\");\n"
		"    STR* out = str_pushn(s1, s2->data, s2->size);\n"
		"    decref(MKSTR(s2));\n"
		"    return out;\n"
		"}\n"
		"\n"
		"static USIZE get_data_tag(VAL v) {\n"
		"    if (IS_TUP(v)) {\n"
		"        ASSERT(VTUPLEN(v) > 0);\n"
		"        return VU64(VTUP(v)->cells[0]);\n"
		"    } else {\n"
		"        return VU64(v);\n"
		"    }\n"
		"}\n"
		"\n"
		"static int str_cmp(STR* s1, STR* s2) {\n"
		"    ASSERT(s1 && s2);\n"
		"    USIZE n1 = s1->size;\n"
		"    USIZE n2 = s2->size;\n"
		"    USIZE n = (n1 < n2 ? n1 : n2);\n"
		"    ASSERT(n < SIZE_MAX);\n"
		"    int r = memcmp(s1->data, s2->data, (size_t)n);\n"
		"    decref(MKSTR(s1));\n"
		"    decref(MKSTR(s2));\n"
		"    if (r) return r;\n"
		"    if (n1 < n2) return -1;\n"
		"    if (n1 > n2) return 1;\n"
		"    return 0;\n"
		"}\n"
		"\n"
		"static STR* str_drop (STR* in, size_t num_bytes) {\n"
		"    ASSERT(in);\n"
		"    if (num_bytes > in->size) {\n"
		"        num_bytes = in->size;\n"
		"    }\n"
		"    size_t remaining = in->size - num_bytes;\n"
		"    char* slice = in->data + num_bytes;\n"
		"\n"
		"    if (in->refs == 1) {\n"
		"        if (remaining > 0) memmove(in->data, slice, remaining);\n"
		"        memset(in->data + remaining, 0, in->cap - remaining);\n"
		"        in->size = remaining;\n"
		"        return in;\n"
		"    } else {\n"
		"        STR* out = str_make(slice, remaining);\n"
		"        decref(MKSTR(in));\n"
		"        return out;\n"
		"    }\n"
		"}\n"
		"\n"
		"static float str_to_f32 (STR* in, STR** out) {\n"
		"    ASSERT(in); ASSERT(out);\n"
		"    ASSERT(in->data[in->size] == 0);\n"
		"    char *endptr = NULL;\n"
		"    float val = strtof(in->data, &endptr);\n"
		"    ASSERT(endptr);\n"
		"    ASSERT(endptr >= in->data);\n"
		"    size_t consumed = endptr - in->data;\n"
		"    *out = str_drop(in, consumed);\n"
		"    return val;\n"
		"}\n"
		"\n"
		"static double str_to_f64 (STR* in, STR** out) {\n"
		"    ASSERT(in); ASSERT(out);\n"
		"    ASSERT(in->data[in->size] == 0);\n"
		"    char *endptr = NULL;\n"
		"    double val = strtod(in->data, &endptr);\n"
		"    ASSERT(endptr);\n"
		"    ASSERT(endptr >= in->data);\n"
		"    size_t consumed = endptr - in->data;\n"
		"    *out = str_drop(in, consumed);\n"
		"    return val;\n"
		"}\n"
		"\n"
		"static void tup_run(VAL v) {\n"
		"    ASSERT(VTUPLEN(v)>0);\n"
		"    VAL h = VTUP(v)->cells[0];\n"
		"    ASSERT(IS_FNPTR(h));\n"
		"    push_value(v);\n"
		"    VFNPTR(h)();\n"
		"}\n"
		"\n"
		"static void fnptr_run(VAL v) {\n"
		"    VFNPTR(v)();\n"
		"}\n"
		"\n"
		"static void run_value(VAL v) {\n"
		"    ASSERT(VTYPE(v));\n"
		"    ASSERT1(VTYPE(v)->run, v);\n"
		"    VTYPE(v)->run(v);\n"
		"}\n"
		"\n"
		"void int_free(VAL x) {\n"
		"    if (IS_INT_BIG(x)) {\n"
		"        free(VINT_BIG(x));\n"
		"    }\n"
		"}\n"
		"\n"
		"BIG* big_alloc(size_t cap) {\n"
		"    ASSERT(cap >= 2);\n"
		"    BIG* out = calloc(1, sizeof(*out) + cap*sizeof(*out->radix) + 4);\n"
		"    EXPECT(out, \"Ran out of memory.\");\n"
		"    out->refs = 1;\n"
		"    out->cap = cap;\n"
		"    out->size = 0;\n"
		"    return out;\n"
		"}\n"
		"\n"
		"#define SIGN_BIT(x) ((x) & 0x80000000)\n"
		"#define NEXT_RADIX(x) (SIGN_BIT(x) ? (uint32_t)0xFFFFFFFF : (uint32_t)0)\n"
		"#define SIGN_RADIX(a) (NEXT_RADIX((a)->radix[(a)->size-1]))\n"
		"\n"
		"#define LO_RADIX(x) ((uint32_t)(x))\n"
		"#define HI_RADIX(x) ((uint32_t)(((uint64_t)(x)) >> 32))\n"
		"\n"
		"static void big_incref (BIG* a) { a->refs++; }\n"
		"static void big_decref (BIG* a) { if (!--a->refs) free(a); }\n"
		"\n"
		"// expand (or clone) to make room for n radixes, returns unique a\n"
		"static BIG* big_reserve (BIG* a, size_t n) {\n"
		"    ASSERT(a);\n"
		"    if ((a->refs == 1) && (a->cap >= n))\n"
		"        return a;\n"
		"    if (n < a->cap*2) n = a->cap*2;\n"
		"    if (a->refs == 1) {\n"
		"        BIG* b = realloc(a, sizeof(*b) + n*sizeof(*b->radix) + 4);\n"
		"        EXPECT(b, \"Ran out of memory.\");\n"
		"        b->cap = n;\n"
		"        return b;\n"
		"    } else {\n"
		"        BIG* b = big_alloc(n);\n"
		"        b->size = a->size;\n"
		"        memcpy(b->radix, a->radix, a->size*sizeof(a->radix[0]));\n"
		"        big_decref(a);\n"
		"        return b;\n"
		"    }\n"
		"}\n"
		"\n"
		"#define FITS_I63(x) ((INT63_MIN <= (int64_t)(x)) && ((int64_t)(x) <= INT63_MAX))\n"
		"\n"
		"static INT i64_to_int(int64_t x) {\n"
		"    if (FITS_I63(x)) {\n"
		"        return WRAP_I63(x);\n"
		"    } else {\n"
		"        BIG* big = big_alloc(3);\n"
		"        big->size = 2;\n"
		"        uint64_t y = (uint64_t)x;\n"
		"        big->radix[0] = LO_RADIX(y);\n"
		"        big->radix[1] = HI_RADIX(y);\n"
		"        return WRAP_BIG(big);\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT u64_to_int(uint64_t x) {\n"
		"    if (x <= (uint64_t)INT64_MAX) {\n"
		"        return i64_to_int((int64_t)x);\n"
		"    } else {\n"
		"        BIG* big = big_alloc(4);\n"
		"        big->size = 3;\n"
		"        big->radix[0] = LO_RADIX(x);\n"
		"        big->radix[1] = HI_RADIX(x);\n"
		"        big->radix[2] = 0;\n"
		"        return WRAP_BIG(big);\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT big_normalize (BIG* a) {\n"
		"    ASSERT(a); ASSERT(a->refs == 1); ASSERT(a->size >= 1);\n"
		"    while ((a->size > 2) && (NEXT_RADIX(a->radix[a->size-2]) == a->radix[a->size-1]))\n"
		"        a->size--;\n"
		"    if (a->size == 2) {\n"
		"        uint64_t u = (uint64_t)(a->radix[0]) | ((uint64_t)(a->radix[1]) << 32);\n"
		"        int64_t i = (int64_t)u;\n"
		"        if (FITS_I63(i)) {\n"
		"            free(a);\n"
		"            return WRAP_I63(i);\n"
		"        }\n"
		"    }\n"
		"    if (a->size == 1) {\n"
		"        int64_t i = a->radix[0];\n"
		"        free(a);\n"
		"        return WRAP_I63(i);\n"
		"    }\n"
		"    return WRAP_BIG(a);\n"
		"}\n"
		"\n"
		"static INT big_i63_add (BIG* a, int64_t b) {\n"
		"    ASSERT(a); ASSERT(a->size >= 2);\n"
		"    if (b == 0) return WRAP_BIG(a);\n"
		"    a = big_reserve(a, a->size+1);\n"
		"\n"
		"    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);\n"
		"\n"
		"    uint32_t b0 = LO_RADIX(b);\n"
		"    uint32_t b1 = HI_RADIX(b);\n"
		"    uint32_t bn = NEXT_RADIX(b1);\n"
		"\n"
		"    uint64_t r0 = (uint64_t)(a->radix[0]) + (uint64_t)(b0);\n"
		"    uint64_t r1 = (uint64_t)(a->radix[1]) + (uint64_t)(b1) + (uint64_t)HI_RADIX(r0);\n"
		"\n"
		"    a->radix[0] = LO_RADIX(r0);\n"
		"    a->radix[1] = LO_RADIX(r1);\n"
		"    uint32_t c = HI_RADIX(r1);\n"
		"    for (size_t i = 2; i < a->size; i++) {\n"
		"        uint64_t r = (uint64_t)(a->radix[i]) + (uint64_t)bn + (uint64_t)c;\n"
		"        a->radix[i] = LO_RADIX(r);\n"
		"        c = HI_RADIX(r);\n"
		"    }\n"
		"    a->radix[a->size++] = an + bn + c;\n"
		"    return big_normalize(a);\n"
		"}\n"
		"\n"
		"static INT big_big_add (BIG* a, BIG* b) {\n"
		"    ASSERT(a); ASSERT(b);\n"
		"    if (b->size > a->size) { BIG*t=a; a=b; b=t; }\n"
		"    a = big_reserve(a, a->size+1);\n"
		"    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);\n"
		"    uint32_t bn = NEXT_RADIX(b->radix[b->size-1]);\n"
		"    uint32_t c = 0;\n"
		"    size_t i=0;\n"
		"    for (; i < b->size; i++) {\n"
		"        uint64_t r = (uint64_t)a->radix[i] + (uint64_t)b->radix[i] + (uint64_t)c;\n"
		"        a->radix[i] = LO_RADIX(r);\n"
		"        c = HI_RADIX(r);\n"
		"    }\n"
		"    for (; i < a->size; i++) {\n"
		"        uint64_t r = (uint64_t)a->radix[i] + (uint64_t)bn + (uint64_t)c;\n"
		"        a->radix[i] = LO_RADIX(r);\n"
		"        c = HI_RADIX(r);\n"
		"    }\n"
		"    a->radix[a->size++] = an + bn + c;\n"
		"    big_decref(b);\n"
		"    return big_normalize(a);\n"
		"}\n"
		"\n"
		"static INT int_add(INT a, INT b) {\n"
		"    if (IS_I63(a)) {\n"
		"        if (IS_I63(b)) {\n"
		"            return i64_to_int(GET_I63(a) + GET_I63(b));\n"
		"        } else {\n"
		"            return big_i63_add(GET_BIG(b), GET_I63(a));\n"
		"        }\n"
		"    } else {\n"
		"        if (IS_I63(b)) {\n"
		"            return big_i63_add(GET_BIG(a), GET_I63(b));\n"
		"        } else {\n"
		"            return big_big_add(GET_BIG(a), GET_BIG(b));\n"
		"        }\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT big_negate(BIG* a) {\n"
		"    ASSERT(a);\n"
		"    a = big_reserve(a, a->size+1);\n"
		"    uint32_t an = NEXT_RADIX(a->radix[a->size-1]);\n"
		"    uint32_t c = 1;\n"
		"    for (size_t i=0; i < a->size; i++) {\n"
		"        uint64_t r = (uint64_t)(~(uint32_t)(a->radix[i])) + (uint64_t)c;\n"
		"        a->radix[i] = LO_RADIX(r);\n"
		"        c = HI_RADIX(r);\n"
		"    }\n"
		"    a->radix[a->size++] = ~an + c;\n"
		"    return big_normalize(a);\n"
		"}\n"
		"\n"
		"static INT int_negate(INT a) {\n"
		"    if (IS_I63(a)) {\n"
		"        return i64_to_int(-GET_I63(a));\n"
		"    } else {\n"
		"        return big_negate(GET_BIG(a));\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT int_sub(INT a, INT b) {\n"
		"    if (IS_I63(a) && IS_I63(b)) {\n"
		"        return i64_to_int(GET_I63(a) - GET_I63(b));\n"
		"    } else {\n"
		"        return int_add(a, int_negate(b));\n"
		"    }\n"
		"}\n"
		"\n"
		"static uint64_t int_to_u64(INT a) {\n"
		"    if (IS_I63(a)) {\n"
		"        return (uint64_t)GET_I63(a);\n"
		"    } else {\n"
		"        BIG* b = GET_BIG(a);\n"
		"        ASSERT(b && b->size >= 2);\n"
		"        uint64_t r = (uint64_t)(b->radix[0]) | ((uint64_t)(b->radix[1]) << 32);\n"
		"        big_decref(b);\n"
		"        return r;\n"
		"    }\n"
		"}\n"
		"static int64_t int_to_i64(INT a) { return (int64_t)int_to_u64(a); }\n"
		"\n"
		"static INT i63_i63_mul (int64_t a, int64_t b) {\n"
		"    if ((b == 0) ||\n"
		"        ((b > 0) && (INT63_MIN/b <= a) && (a <= INT63_MAX/b)) ||\n"
		"        ((b < 0) && (INT63_MAX/b <= a) && (a <= INT63_MIN/b)))\n"
		"    {\n"
		"        return WRAP_I63(a * b);\n"
		"    }\n"
		"\n"
		"    bool negate = (a < 0) ^ (b < 0);\n"
		"    if (a < 0) a = -a;\n"
		"    if (b < 0) b = -b;\n"
		"\n"
		"    uint64_t a0 = LO_RADIX(a);\n"
		"    uint64_t a1 = HI_RADIX(a);\n"
		"    uint64_t b0 = LO_RADIX(b);\n"
		"    uint64_t b1 = HI_RADIX(b);\n"
		"\n"
		"    uint64_t r0 = a0 * b0;\n"
		"    uint64_t r1 = a1 * b0 + a0 * b1 + HI_RADIX(r0);\n"
		"    uint64_t r2 = a1 * b1 + HI_RADIX(r1);\n"
		"    uint64_t r3 = HI_RADIX(r2);\n"
		"\n"
		"    BIG* c = big_alloc(5);\n"
		"    c->size = 4;\n"
		"    c->radix[0] = LO_RADIX(r0);\n"
		"    c->radix[1] = LO_RADIX(r1);\n"
		"    c->radix[2] = LO_RADIX(r2);\n"
		"    c->radix[3] = LO_RADIX(r3);\n"
		"    INT x = big_normalize(c);\n"
		"    return negate ? int_negate(x) : x;\n"
		"}\n"
		"\n"
		"static void big_u32_mul_shift_accum_(BIG* accum, BIG* a, uint32_t x, size_t shift) {\n"
		"    if (x == 0) return;\n"
		"    uint32_t mul_carry = 0;\n"
		"    uint32_t add_carry = 0;\n"
		"    uint32_t an = SIGN_RADIX(a);\n"
		"    for (size_t i=0; i + shift < accum->size; i++) {\n"
		"        uint32_t ar = (i < a->size) ? a->radix[i] : an;\n"
		"        uint64_t mul_result = (uint64_t)ar * (uint64_t)x + (uint64_t)mul_carry;\n"
		"        uint64_t add_result = (uint64_t)accum->radix[i+shift] + (uint64_t)LO_RADIX(mul_result) + (uint64_t)add_carry;\n"
		"        accum->radix[i+shift] = LO_RADIX(add_result);\n"
		"        mul_carry = HI_RADIX(mul_result);\n"
		"        add_carry = HI_RADIX(add_result);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void big_negate_shift_accum_(BIG* accum, BIG* a, size_t shift) {\n"
		"    uint32_t carry = 1;\n"
		"    uint32_t an = SIGN_RADIX(a);\n"
		"    for (size_t i = 0; i+shift < accum->size; i++) {\n"
		"        uint32_t ar = (i < a->size) ? a->radix[i] : an;\n"
		"        uint64_t result = (uint64_t)accum->radix[i+shift] + (uint64_t)(~ar) + (uint64_t)carry;\n"
		"        accum->radix[i+shift] = LO_RADIX(result);\n"
		"        carry = HI_RADIX(result);\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT big_i63_mul (BIG* a, int64_t b) {\n"
		"    if (b == 0) { big_decref(a); return WRAP_I63(0); }\n"
		"    if (b == 1) { return WRAP_BIG(a); }\n"
		"    if (b == -1) { return big_negate(a); }\n"
		"    BIG* accum = big_alloc(a->size + 3);\n"
		"    accum->size = a->size + 2;\n"
		"    big_u32_mul_shift_accum_(accum, a, LO_RADIX(b), 0);\n"
		"    big_u32_mul_shift_accum_(accum, a, HI_RADIX(b), 1);\n"
		"    uint32_t bn = NEXT_RADIX(HI_RADIX(b));\n"
		"    if (b < 0) { big_negate_shift_accum_(accum, a, 2); }\n"
		"    big_decref(a);\n"
		"    return big_normalize(accum);\n"
		"}\n"
		"\n"
		"static INT big_big_mul (BIG* a, BIG* b) {\n"
		"\n"
		"    if (a->size > b->size) { BIG*t=a; a=b; b=t; }\n"
		"    BIG* accum = big_alloc(a->size + b->size + 1);\n"
		"    accum->size = a->size + b->size;\n"
		"    for (size_t i = 0; i < b->size; i++) {\n"
		"        big_u32_mul_shift_accum_(accum, a, b->radix[i], i);\n"
		"    }\n"
		"    if (SIGN_RADIX(b)) {\n"
		"        big_negate_shift_accum_(accum, a, b->size);\n"
		"    }\n"
		"    big_decref(a);\n"
		"    big_decref(b);\n"
		"    return big_normalize(accum);\n"
		"}\n"
		"\n"
		"static INT int_mul(INT a, INT b) {\n"
		"    if (IS_I63(a)) {\n"
		"        if (IS_I63(b)) {\n"
		"            return i63_i63_mul(GET_I63(a),GET_I63(b));\n"
		"        } else {\n"
		"            return big_i63_mul(GET_BIG(b),GET_I63(a));\n"
		"        }\n"
		"    } else {\n"
		"        if (IS_I63(b)) {\n"
		"            return big_i63_mul(GET_BIG(a),GET_I63(b));\n"
		"        } else {\n"
		"            return big_big_mul(GET_BIG(a),GET_BIG(b));\n"
		"        }\n"
		"    }\n"
		"}\n"
		"\n"
		"static void int_incref(INT a) { if (IS_BIG(a)) big_incref(GET_BIG(a)); }\n"
		"static void int_decref(INT a) { if (IS_BIG(a)) big_decref(GET_BIG(a)); }\n"
		"static bool int_is_zero_(INT a) { return a.val == WRAP_I63(0).val; }\n"
		"static bool int_is_negative_(INT a) {\n"
		"    return IS_I63(a) ? (GET_I63(a) < 0) : (SIGN_RADIX(GET_BIG(a)) != 0);\n"
		"}\n"
		"\n"
		"static int64_t i64_div(int64_t, int64_t);\n"
		"static int64_t i64_mod(int64_t, int64_t);\n"
		"\n"
		"static void big_u32_shift_udivmod(BIG* a, uint32_t bhead, size_t bshift, INT* q, INT* r) {\n"
		"    ASSERT(bhead >= 1); ASSERT(a && (a->size > bshift));\n"
		"    BIG* accum = big_alloc(a->size - bshift + 2); // quatient in accum\n"
		"    accum->size = a->size - bshift;\n"
		"    a = big_reserve(a, a->size); // remainder in a\n"
		"    uint64_t ar = 0;\n"
		"    for (size_t i = a->size - bshift; i --> 0;) {\n"
		"        ar = (ar << 32) | (uint64_t)a->radix[i + bshift];\n"
		"        a->radix[i+bshift] = 0;\n"
		"        uint64_t rq = ar / (uint64_t)bhead;\n"
		"        ar = ar % (uint64_t)bhead;\n"
		"        accum->radix[i] = rq;\n"
		"    }\n"
		"    a->radix[bshift] = ar;\n"
		"    *r = big_normalize(a);\n"
		"    *q = big_normalize(accum);\n"
		"}\n"
		"\n"
		"static void big_u64_add_at_accum_(BIG* accum, uint64_t b, size_t shift) {\n"
		"    for(size_t i = shift; b && (i < accum->size); i++) {\n"
		"        uint32_t ar = accum->radix[i];\n"
		"        uint32_t br = LO_RADIX(b);\n"
		"        accum->radix[i] = ar + br;\n"
		"        b = HI_RADIX(b);\n"
		"        if (ar > UINT32_MAX - br)\n"
		"            b++;\n"
		"    }\n"
		"}\n"
		"\n"
		"static void big_succ_at_accum_(BIG* a, size_t i) {\n"
		"    while (i < a->size) {\n"
		"        if (++a->radix[i]) break;\n"
		"        i++;\n"
		"    }\n"
		"}\n"
		"\n"
		"static void big_pred_at_accum_(BIG* a, size_t i) {\n"
		"    while (i < a->size) {\n"
		"        if (a->radix[i]--) break;\n"
		"        i++;\n"
		"    }\n"
		"}\n"
		"\n"
		"static void big_pos_u32_mul_sub_shift_accum_(BIG* a, INT b, uint32_t scale, size_t shift) {\n"
		"    size_t bsize;\n"
		"    uint32_t *bradix;\n"
		"    uint32_t bradix_temp[2] = {0};\n"
		"    if (IS_I63(b)) {\n"
		"        int64_t ib = GET_I63(b);\n"
		"        ASSERT(ib >= 0);\n"
		"        bsize = 2;\n"
		"        bradix = bradix_temp;\n"
		"        bradix_temp[0] = LO_RADIX(ib);\n"
		"        bradix_temp[1] = HI_RADIX(ib);\n"
		"    } else {\n"
		"        BIG* bb = GET_BIG(b);\n"
		"        bsize = bb->size;\n"
		"        bradix = bb->radix;\n"
		"    }\n"
		"\n"
		"    uint64_t borrow = 0;\n"
		"    size_t i = 0;\n"
		"    for (; i < bsize; i++) {\n"
		"        ASSERT(i+shift < a->size);\n"
		"        uint64_t br = (uint64_t)scale * (uint64_t)bradix[i];\n"
		"        ASSERT(borrow <= UINT64_MAX - br);\n"
		"        br += borrow;\n"
		"        uint64_t ahi = (i+shift+1 < a->size) ? a->radix[i+shift+1] : 0;\n"
		"        uint64_t alo = a->radix[i+shift];\n"
		"        uint64_t ar = (ahi << 32) | alo;\n"
		"        borrow = (ar < br) ? (uint64_t)0x100000000 : (uint64_t)0;\n"
		"        ar -= br;\n"
		"        a->radix[i+shift] = LO_RADIX(ar);\n"
		"        if (i+shift+1 < a->size) {\n"
		"            a->radix[i+shift+1] = HI_RADIX(ar);\n"
		"        }\n"
		"    }\n"
		"    if (borrow) {\n"
		"        big_pred_at_accum_(a, i+shift+1);\n"
		"    }\n"
		"}\n"
		"\n"
		"static uint32_t big_get_u32_ (BIG* a, size_t i) {\n"
		"    if (i >= a->size) {\n"
		"        return SIGN_RADIX(a);\n"
		"    } else {\n"
		"        return a->radix[i];\n"
		"    }\n"
		"}\n"
		"static uint64_t big_get_u64_ (BIG* a, size_t i) {\n"
		"    uint64_t hi = (uint64_t)big_get_u32_(a,i+1);\n"
		"    uint64_t lo = (uint64_t)big_get_u32_(a,i);\n"
		"    return (hi << 32) | lo;\n"
		"}\n"
		"\n"
		"static int big_pos_ucmp_(BIG* a, INT b) {\n"
		"    size_t bsize;\n"
		"    uint32_t *bradix;\n"
		"    uint32_t bradix_temp[2] = {0};\n"
		"    if (IS_I63(b)) {\n"
		"        int64_t ib = GET_I63(b);\n"
		"        ASSERT(ib >= 0);\n"
		"        bsize = 2;\n"
		"        bradix = bradix_temp;\n"
		"        bradix_temp[0] = LO_RADIX(ib);\n"
		"        bradix_temp[1] = HI_RADIX(ib);\n"
		"    } else {\n"
		"        BIG* bb = GET_BIG(b);\n"
		"        bsize = bb->size;\n"
		"        bradix = bb->radix;\n"
		"    }\n"
		"    for(size_t i = a->size; i --> bsize;) {\n"
		"        if (a->radix[i]) return -1;\n"
		"    }\n"
		"    for(size_t i = bsize; i --> a->size;) {\n"
		"        if (bradix[i]) return 1;\n"
		"    }\n"
		"    for (size_t i = ((bsize < a->size) ? bsize : a->size); i --> 0;) {\n"
		"        uint32_t ar = a->radix[i];\n"
		"        uint32_t br = bradix[i];\n"
		"        if (ar != br) {\n"
		"            return (ar > br) - (ar < br);\n"
		"        }\n"
		"    }\n"
		"    return 0;\n"
		"}\n"
		"\n"
		"static void big_pos_imperfect_udivmod(BIG* a, INT b, uint32_t bhead, size_t bshift, INT* q, INT* r) {\n"
		"    ASSERT(bhead >= 1);\n"
		"    ASSERT(a && (a->size > bshift));\n"
		"    BIG* accum = big_alloc(a->size - bshift + 2); // quotient in accum\n"
		"    accum->size = a->size - bshift;\n"
		"    a = big_reserve(a, a->size); // remainder in a;\n"
		"    for (size_t i = a->size - bshift; i --> 0;) {\n"
		"        while (1) {\n"
		"            uint64_t ar = big_get_u64_(a, i+bshift);\n"
		"            uint64_t n = ar / (1 + (uint64_t)bhead);\n"
		"            if (!n) break;\n"
		"            big_u64_add_at_accum_(accum,n,i);\n"
		"            big_pos_u32_mul_sub_shift_accum_(a,b,n,i);\n"
		"        }\n"
		"    }\n"
		"    if (big_pos_ucmp_(a,b) >= 0) {\n"
		"        big_pos_u32_mul_sub_shift_accum_(a,b,1,0);\n"
		"        big_succ_at_accum_(accum,0);\n"
		"        ASSERT(big_pos_ucmp_(a,b) < 0);\n"
		"    }\n"
		"    int_decref(b);\n"
		"    *r = big_normalize(a);\n"
		"    *q = big_normalize(accum);\n"
		"}\n"
		"\n"
		"static void big_pos_udivmod(BIG* a, INT b, INT *q, INT *r) {\n"
		"    size_t bshift;\n"
		"    uint32_t bhead;\n"
		"    bool bperfect = true;\n"
		"    if (IS_BIG(b)) {\n"
		"        BIG* bb = GET_BIG(b);\n"
		"        bshift = bb->size-1;\n"
		"        bhead = bb->radix[bshift];\n"
		"        if (bhead == 0) {\n"
		"            ASSERT(bshift > 0);\n"
		"            bshift--;\n"
		"            bhead = bb->radix[bshift];\n"
		"        }\n"
		"        for (size_t i = 0; i < bshift; i++) {\n"
		"            if (bb->radix[i]) { bperfect=false; break; }\n"
		"        }\n"
		"    } else {\n"
		"        int64_t ib = GET_I63(b);\n"
		"        ASSERT(ib > 1);\n"
		"        uint64_t ub = (uint64_t)ib;\n"
		"        if (ub <= (uint64_t)UINT32_MAX) {\n"
		"            bshift = 0;\n"
		"            bhead = ub;\n"
		"            bperfect = true;\n"
		"        } else {\n"
		"            bshift = 1;\n"
		"            bhead = HI_RADIX(ub);\n"
		"            bperfect = LO_RADIX(ub) == 0;\n"
		"        }\n"
		"    }\n"
		"    if (bshift >= a->size) {\n"
		"        *q = WRAP_I63(0);\n"
		"        *r = WRAP_BIG(a);\n"
		"        int_decref(b);\n"
		"    } else if (bperfect) {\n"
		"        int_decref(b);\n"
		"        big_u32_shift_udivmod(a, bhead, bshift, q, r);\n"
		"    } else {\n"
		"        big_pos_imperfect_udivmod(a, b, bhead, bshift, q, r);\n"
		"    }\n"
		"}\n"
		"\n"
		"static INT int_divmod(INT a, INT b, INT *r) {\n"
		"    EXPECT(!int_is_zero_(b), \"Division by zero.\");\n"
		"    if (int_is_zero_(a)) { int_decref(b); *r = a; return a; }\n"
		"    if (GET_I63(b) == 1) { *r = WRAP_I63(0); return a; }\n"
		"    if (GET_I63(b) == -1) { *r = WRAP_I63(0); return int_negate(a); }\n"
		"    if (IS_I63(a) || (GET_BIG(a)->size == 2)) {\n"
		"        if (IS_I63(b) || GET_BIG(b)->size == 2) {\n"
		"            int64_t ia = int_to_i64(a);\n"
		"            int64_t ib = int_to_i64(b);\n"
		"            ASSERT((ib != 0) && (ib != -1));\n"
		"            int64_t iq = ia / ib;\n"
		"            int64_t ir = ia % ib;\n"
		"            if (ir && ((ia < 0) ^ (ib < 0))) {\n"
		"                iq -= 1;\n"
		"                ir += ib;\n"
		"            }\n"
		"            *r = i64_to_int(ir);\n"
		"            return i64_to_int(iq);\n"
		"        } else {\n"
		"            BIG* bb = GET_BIG(b);\n"
		"            bool an = int_is_negative_(a);\n"
		"            bool bn = SIGN_RADIX(bb) != 0;\n"
		"            if (an ^ bn) {\n"
		"                *r = int_add(a, b);\n"
		"                return WRAP_I63(-1);\n"
		"            } else {\n"
		"                big_decref(bb);\n"
		"                *r = a;\n"
		"                return WRAP_I63(0);\n"
		"            }\n"
		"        }\n"
		"    } else {\n"
		"        bool an = int_is_negative_(a);\n"
		"        bool bn = int_is_negative_(b);\n"
		"        INT ma = an ? int_negate(a) : a;\n"
		"        INT mb = bn ? int_negate(b) : b;\n"
		"        ASSERT(IS_BIG(ma));\n"
		"        INT mq, mr;\n"
		"        int_incref(mb);\n"
		"        big_pos_udivmod(GET_BIG(ma),mb,&mq,&mr);\n"
		"        if (an ^ bn) {\n"
		"            if (int_is_zero_(mr)) {\n"
		"                int_decref(mb);\n"
		"                mq = int_negate(mq);\n"
		"            } else {\n"
		"                mr = int_sub(mb, mr);\n"
		"                mq = int_negate(int_add(mq, WRAP_I63(1)));\n"
		"            }\n"
		"        } else {\n"
		"            int_decref(mb);\n"
		"        }\n"
		"        if (bn) mr = int_negate(mr);\n"
		"        *r = mr;\n"
		"        return mq;\n"
		"    }\n"
		"}\n"
		"\n"
		"static double int_to_f64(INT a) {\n"
		"    if (IS_I63(a)) {\n"
		"        return (double)GET_I63(a);\n"
		"    } else {\n"
		"        BIG* b = GET_BIG(a);\n"
		"        ASSERT(b && b->size);\n"
		"        bool negative = SIGN_BIT(b->radix[b->size-1]);\n"
		"        double r = 0.0;\n"
		"        for (size_t i = b->size; i --> 0;) {\n"
		"            uint32_t br = b->radix[i];\n"
		"            if (negative) br = ~br;\n"
		"            r *= (double)0x100000000;\n"
		"            r += (double)br;\n"
		"        }\n"
		"        if (negative) r = -(r + 1.0);\n"
		"        big_decref(b);\n"
		"        return r;\n"
		"    }\n"
		"}\n"
		"\n"
		"static float int_to_f32(INT a) { return (float)int_to_f64(a); }\n"
		"\n"
		"static bool big_negative_(BIG* a) {\n"
		"    ASSERT(a && (a->size > 0));\n"
		"    return SIGN_BIT(a->radix[a->size-1]);\n"
		"}\n"
		"\n"
		"static int big_cmp_(BIG* a, BIG* b) {\n"
		"    ASSERT(a); ASSERT(b);\n"
		"    bool an = big_negative_(a);\n"
		"    bool bn = big_negative_(b);\n"
		"    if (an && !bn) return -1;\n"
		"    if (!an && bn) return  1;\n"
		"    if (a->size != b->size) {\n"
		"        int i = (a->size < b->size) ? -1 : +1;\n"
		"        return an ? -i : i;\n"
		"    }\n"
		"    for (size_t i = a->size; i --> 0;) {\n"
		"        int64_t ar = a->radix[i];\n"
		"        int64_t br = b->radix[i];\n"
		"        if (ar != br) {\n"
		"            return (ar < br) ? -1 : +1;\n"
		"            // negative doesn't matter here, since they are both either negative or positive.\n"
		"            // think of comparing these as if adding a large constant to make them both non negative.\n"
		"        }\n"
		"    }\n"
		"    return 0;\n"
		"}\n"
		"\n"
		"static int int_cmp(INT a, INT b) {\n"
		"    if (IS_I63(a)) {\n"
		"        if (IS_I63(b)) {\n"
		"            int64_t ia = GET_I63(a);\n"
		"            int64_t ib = GET_I63(b);\n"
		"            if (ia < ib) return -1;\n"
		"            if (ia > ib) return +1;\n"
		"            return 0;\n"
		"        } else {\n"
		"            bool n = big_negative_(GET_BIG(b));\n"
		"            big_decref(GET_BIG(b));\n"
		"            return n ? 1 : -1;\n"
		"        }\n"
		"    } else {\n"
		"        if (IS_I63(b)) {\n"
		"            bool n = big_negative_(GET_BIG(a));\n"
		"            big_decref(GET_BIG(a));\n"
		"            return n ? -1 : 1;\n"
		"        } else {\n"
		"            int i = big_cmp_(GET_BIG(a), GET_BIG(b));\n"
		"            big_decref(GET_BIG(a));\n"
		"            big_decref(GET_BIG(b));\n"
		"            return i;\n"
		"        }\n"
		"    }\n"
		"}\n"
		"\n"
		"static bool int_eq(INT a, INT b) { return int_cmp(a,b) == 0; }\n"
		"static bool int_lt(INT a, INT b) { return int_cmp(a,b) <  0; }\n"
		"static bool int_le(INT a, INT b) { return int_cmp(a,b) <= 0; }\n"
		"static bool int_gt(INT a, INT b) { return int_cmp(a,b) >  0; }\n"
		"static bool int_ge(INT a, INT b) { return int_cmp(a,b) >= 0; }\n"
		"static bool int_ne(INT a, INT b) { return int_cmp(a,b) != 0; }\n"
		"\n"
		"\n"
		"static STR* i64_to_str(int64_t);\n"
		"static STR* u64_to_str(uint64_t);\n"
		"static STR* int_to_str(INT a) {\n"
		"    if (IS_I63(a) || (GET_BIG(a)->size == 2)) {\n"
		"        return i64_to_str(int_to_i64(a));\n"
		"    } else if ((GET_BIG(a)->size == 3) && (GET_BIG(a)->radix[2] == 0)) {\n"
		"        return u64_to_str(int_to_u64(a));\n"
		"    } else {\n"
		"        STR *s = str_alloc(GET_BIG(a)->size * 10);\n"
		"        if (SIGN_RADIX(GET_BIG(a))) {\n"
		"            a = int_negate(a);\n"
		"            ASSERT(IS_BIG(a));\n"
		"            s = str_pushn(s, \"-\", 1);\n"
		"        }\n"
		"        s = str_pushn(s,\"0x\",2);\n"
		"        BIG* b = GET_BIG(a);\n"
		"        size_t i = b->radix[b->size-1] ? b->size : b->size-1;\n"
		"        while (i --> 0) {\n"
		"            uint32_t r = b->radix[i];\n"
		"            char c[10] = \"00000000_\";\n"
		"            int j = 8;\n"
		"            while (j --> 0) {\n"
		"                uint32_t h = r & 0xF;\n"
		"                c[j] = (h > 9) ? h + 'A' - 10 : h + '0';\n"
		"                r = r >> 4;\n"
		"            }\n"
		"            s = str_pushn(s,c,8+(i>0));\n"
		"        }\n"
		"        big_decref(b);\n"
		"        return s;\n"
		"    }\n"
		"}\n"
		"\n"
		"static int64_t i64_add (int64_t a, int64_t b) {\n"
		"    EXPECT(((b >= 0) && (a <= INT64_MAX - b))\n"
		"        || ((b <  0) && (a >= INT64_MIN - b)),\n"
		"        \"overflow during integer addition\");\n"
		"    return a + b;\n"
		"}\n"
		"\n"
		"static int64_t i64_sub (int64_t a, int64_t b) {\n"
		"    EXPECT(((b >= 0) && (a >= INT64_MIN + b))\n"
		"        || ((b <  0) && (a <= INT64_MAX + b)),\n"
		"        \"overflow during integer subtraction\");\n"
		"    return a - b;\n"
		"}\n"
		"\n"
		"static int64_t i64_mul (int64_t a, int64_t b) {\n"
		"    EXPECT((a == 0) || (b == 0) ||\n"
		"        ((a > 0) && (b > 0) && (a <= INT64_MAX/b)) ||\n"
		"        ((a > 0) && (b < 0) && (b >= INT64_MIN/a)) ||\n"
		"        ((a < 0) && (b > 0) && (a >= INT64_MIN/b)) ||\n"
		"        ((a < 0) && (b < 0) && (a >= INT64_MAX/b)),\n"
		"        \"overflow during integer multiplication\"\n"
		"    );\n"
		"    return a * b;\n"
		"}\n"
		"\n"
		"static int64_t i64_div (int64_t a, int64_t b) {\n"
		"    EXPECT(b != 0, \"divide by zero\");\n"
		"    EXPECT(!((b == -1) && (a == INT64_MIN)), \"overflow during integer division\");\n"
		"    int64_t r = a % b;\n"
		"    int64_t q = a / b;\n"
		"    if (((a < 0) ^ (b < 0)) && r) q--;\n"
		"    return q;\n"
		"}\n"
		"\n"
		"static int64_t i64_mod (int64_t a, int64_t b) {\n"
		"    EXPECT(b != 0, \"divide by zero\");\n"
		"    EXPECT(!((b == -1) && (a == INT64_MIN)), \"overflow during integer division\");\n"
		"    int64_t r = a % b;\n"
		"    int64_t q = a / b;\n"
		"    if (((a < 0) ^ (b < 0)) && r) r += b;\n"
		"    return r;\n"
		"}\n"
		"\n"
		"static uint64_t u64_div (uint64_t a, uint64_t b) {\n"
		"    EXPECT(b != 0, \"divide by zero\");\n"
		"    return a / b;\n"
		"}\n"
		"\n"
		"static uint64_t u64_mod (uint64_t a, uint64_t b) {\n"
		"    EXPECT(b != 0, \"divide by zero\");\n"
		"    return a % b;\n"
		"}\n"
		"\n"
		"static uint64_t u64_shl (uint64_t a, uint64_t b) {\n"
		"    if (b >= 64) return 0;\n"
		"    return (a << b);\n"
		"}\n"
		"\n"
		"static uint64_t u64_shr (uint64_t a, uint64_t b) {\n"
		"    if (b >= 64) return 0;\n"
		"    return (a >> b);\n"
		"}\n"
		"\n"
		"static STR* f32_to_str (float d) {\n"
		"    char result[DBL_DIG+32] = {0};\n"
		"    int len = sprintf(result, \"%.*g\", DBL_DIG, d);\n"
		"    return str_make(result, len);\n"
		"}\n"
		"\n"
		"static STR* f64_to_str (double d) {\n"
		"    char result[DBL_DIG+32] = {0};\n"
		"    int len = sprintf(result, \"%.*g\", DBL_DIG, d);\n"
		"    return str_make(result, len);\n"
		"}\n"
		"\n"
		"void u64_repr(uint64_t x, char* c, size_t m, char** out_ptr, size_t *out_size) {\n"
		"    ASSERT(m >= 4);\n"
		"    memset(c, 0, m);\n"
		"    char* p = c+(m-1);\n"
		"    size_t n = 0;\n"
		"    do {\n"
		"        *--p = '0' + (x % 10);\n"
		"        x /= 10;\n"
		"        n++;\n"
		"    } while (x && (p > c));\n"
		"    *out_ptr = p;\n"
		"    *out_size = n;\n"
		"}\n"
		"\n"
		"void i64_repr(int64_t y, char* c, size_t m, char** out_ptr, size_t *out_size) {\n"
		"    ASSERT(m >= 5);\n"
		"    c[0] = 0;\n"
		"    char* p;\n"
		"    size_t n;\n"
		"    uint64_t x;\n"
		"    if (y < 0) {\n"
		"        if (y == INT64_MIN) {\n"
		"            x = 1+(uint64_t)INT64_MAX;\n"
		"        } else {\n"
		"            x = (uint64_t)-y;\n"
		"        }\n"
		"    } else {\n"
		"        x = (uint64_t)y;\n"
		"    }\n"
		"    u64_repr(x,c+1,m-1,&p,&n);\n"
		"    if (y<0) { *--p = '-'; n++; }\n"
		"    *out_ptr = p;\n"
		"    *out_size = n;\n"
		"}\n"
		"\n"
		"void i64_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI64(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void i32_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI32(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void i16_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI16(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void  i8_trace_(VAL v, int fd) { char c[32], *p; size_t n; i64_repr(VI8(v),  c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void u64_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU64(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void u32_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU32(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void u16_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU16(v), c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"void  u8_trace_(VAL v, int fd) { char c[32], *p; size_t n; u64_repr(VU8(v),  c, sizeof(c), &p, &n); write(fd, p, n); }\n"
		"\n"
		"void bool_trace_(VAL v, int fd) { if (VBOOL(v)) { write(fd, \"True\", 4); } else { write(fd, \"False\", 5); } }\n"
		"\n"
		"void int_trace_(VAL v, int fd) {\n"
		"    ASSERT(IS_INT(v));\n"
		"    INT x = VINT(v);\n"
		"    incref(v);\n"
		"    STR* s = int_to_str(x);\n"
		"    write(fd, s->data, s->size);\n"
		"    decref(MKSTR(s));\n"
		"}\n"
		"\n"
		"void f32_trace_(VAL v, int fd) { (void)v; write(fd, \"<F32>\", 5); }\n"
		"void f64_trace_(VAL v, int fd) { (void)v; write(fd, \"<F64>\", 5); }\n"
		"void ptr_trace_(VAL v, int fd) { (void)v; write(fd, \"<Ptr>\", 5); }\n"
		"\n"
		"static STR* u64_to_str (uint64_t x) {\n"
		"    bool cache = (x <= 255);\n"
		"    static STR* scache[256] = {0};\n"
		"    if (cache && scache[x]) {\n"
		"        STR* s = scache[x];\n"
		"        incref(MKSTR(s));\n"
		"        return s;\n"
		"    } else {\n"
		"        char c[32];\n"
		"        char* p; size_t n;\n"
		"        u64_repr(x,c,sizeof(c),&p,&n);\n"
		"        STR* s = str_make(p,n);\n"
		"        if (cache) {\n"
		"            scache[x] = s;\n"
		"            incref(MKSTR(s));\n"
		"        }\n"
		"        return s;\n"
		"    }\n"
		"}\n"
		"\n"
		"static STR* i64_to_str (int64_t x) {\n"
		"    bool cache = (-128 <= x) && (x < 128);\n"
		"    static STR* scache[256] = {0};\n"
		"    if (cache && scache[x+128]) {\n"
		"        STR* s = scache[x+128];\n"
		"        incref(MKSTR(s));\n"
		"        return s;\n"
		"    } else {\n"
		"        char c[32];\n"
		"        char* p; size_t n;\n"
		"        i64_repr(x,c,sizeof(c),&p,&n);\n"
		"        STR* s = str_make(p,n);\n"
		"        if (cache) {\n"
		"            scache[x+128] = s;\n"
		"            incref(MKSTR(s));\n"
		"        }\n"
		"        return s;\n"
		"    }\n"
		"}\n"
		"\n"
		"void str_trace_(VAL v, int fd) {\n"
		"    STR* str = VSTR(v);\n"
		"    ASSERT(str->size <= SIZE_MAX);\n"
		"    write(fd, \"\\\"\", 1);\n"
		"    USIZE i0 = 0;\n"
		"    char xb[4]={'\\\\','x'};\n"
		"    USIZE i;\n"
		"    for (i = 0; i < str->size; i++) {\n"
		"        const char* c = NULL; size_t n=0;\n"
		"        uint8_t v=str->data[i];\n"
		"        switch(v) {\n"
		"            case '\\n': c=\"\\\\n\"; n=2; break;\n"
		"            case '\\r': c=\"\\\\r\"; n=2; break;\n"
		"            case '\\t': c=\"\\\\t\"; n=2; break;\n"
		"            case '\\\\': c=\"\\\\\\\\\"; n=2; break;\n"
		"            case '\\\"': c=\"\\\\\\\"\"; n=2; break;\n"
		"            default:\n"
		"                if (!((' ' <= v) && (v < 0x7F))) {\n"
		"                    xb[2] = '0' + (v&15) + ('A'-'9'-1)*((v&15) > 9);\n"
		"                    xb[3] = '0' + (v/16) + ('A'-'9'-1)*((v/16) > 9);\n"
		"                    c=xb; n=4;\n"
		"                }\n"
		"        }\n"
		"        if ((n > 0) && (i0 < i)) {\n"
		"            write(fd, str->data+i0, (size_t)(i-i0));\n"
		"            i0=i+1;\n"
		"        }\n"
		"        write(fd, c, n);\n"
		"    }\n"
		"    if (i0 < i) write(fd, str->data+i0, (size_t)(i-i0));\n"
		"    write(fd, \"\\\"\", 1);\n"
		"}\n"
		"\n"
		"static void value_trace_(VAL v, int fd) {\n"
		"    if (VTYPE(v) && VTYPE(v)->trace_) {\n"
		"        VTYPE(v)->trace_(v,fd);\n"
		"    } else if (VTYPE(v)) {\n"
		"        const char* name = VTYPE(v)->name;\n"
		"        write(fd, \"<\", 1);\n"
		"        write(fd, name, strlen(name));\n"
		"        write(fd, \">\", 1);\n"
		"    } else {\n"
		"        write(fd, \"<NULL>\", 6);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void tup_trace_(VAL v, int fd) {\n"
		"    TUPLEN len = VTUPLEN(v);\n"
		"    TUP* tup = VTUP(v);\n"
		"    if (len == 0) {\n"
		"        write(fd, \"[]\", 2);\n"
		"    } else {\n"
		"        write(fd, \"[ \", 2);\n"
		"        for(TUPLEN i = 0; i < len; i++) {\n"
		"            if (i > 0) write(fd, \" \", 1);\n"
		"            value_trace_(tup->cells[i], fd);\n"
		"        }\n"
		"        write(fd, \" ]\", 2);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void trace_stack (void) {\n"
		"    TRACE(\"??\");\n"
		"    for (long i = STACK_MAX-1; i >= (long)stack_counter; i--) {\n"
		"        TRACE(\" \");\n"
		"        value_trace_(stack[i], 2);\n"
		"    }\n"
		"    TRACE(\"\\n\");\n"
		"}\n"
		"\n"
		"static void trace_rstack (void) {\n"
		"    #if MIRTH_DEBUG\n"
		"        TRACE(\"call stack:\\n\");\n"
		"        for (USIZE i = fstack_counter; i --> 1;) {\n"
		"            TRACE(\"    \");\n"
		"            if (fstack[i-1].atom && *fstack[i-1].atom && strcmp(fstack[i-1].atom, fstack[i].word)) {\n"
		"                TRACE(fstack[i-1].atom);\n"
		"                TRACE(\" -> \");\n"
		"            }\n"
		"            TRACE(fstack[i].word);\n"
		"            TRACE(\" at \");\n"
		"            TRACE(fstack[i-1].path);\n"
		"            TRACE(\":\");\n"
		"            i64_trace_(MKI64(fstack[i-1].line), 2);\n"
		"            TRACE(\":\");\n"
		"            i64_trace_(MKI64(fstack[i-1].col), 2);\n"
		"            TRACE(\"\\n\");\n"
		"        }\n"
		"    #endif\n"
		"}\n"
		"\n"
		"static void do_panic(STR* m) {\n"
		"    if (m) {\n"
		"        size_t n = (m->size < SIZE_MAX) ? (size_t)(m->size) : SIZE_MAX;\n"
		"        write(2, m->data, n);\n"
		"        TRACE(\"\\n\");\n"
		"    } else {\n"
		"        TRACE(\"panic!\\n\");\n"
		"    }\n"
		"    trace_stack();\n"
		"    trace_rstack();\n"
		"    exit(1);\n"
		"}\n"
		"\n"
		"#if defined(MIRTH_WINDOWS)\n"
		"#define RUNNING_OS 1\n"
		"#elif defined(MIRTH_LINUX)\n"
		"#define RUNNING_OS 2\n"
		"#elif defined(MIRTH_MACOS)\n"
		"#define RUNNING_OS 3\n"
		"#else\n"
		"#define RUNNING_OS 0\n"
		"#endif\n"
		"\n"
		"#if defined(MIRTH_I386)\n"
		"#define RUNNING_ARCH 1\n"
		"#elif defined(MIRTH_AMD64)\n"
		"#define RUNNING_ARCH 2\n"
		"#elif defined(MIRTH_ARM64)\n"
		"#define RUNNING_ARCH 3\n"
		"#else\n"
		"#define RUNNING_ARCH 0\n"
		"#endif\n"
		"\n"
		"static void* ptr_alloc (uint64_t n) {\n"
		"    EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), \"invalid size in prim-ptr-alloc\");\n"
		"    void* p = malloc((size_t)n);\n"
		"    EXPECT(p, \"failed to allocate in prim-ptr-alloc\");\n"
		"    return p;\n"
		"}\n"
		"\n"
		"static void* ptr_realloc (void* p, uint64_t n) {\n"
		"    EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), \"invalid size in prim-ptr-realloc\");\n"
		"    void* p2 = realloc(p, (size_t)n);\n"
		"    EXPECT(p2, \"failed to reallocate in prim-ptr-realloc\");\n"
		"    return p2;\n"
		"}\n"
		"\n"
		"static void ptr_copy (void* src, uint64_t len, void* dst) {\n"
		"    if (len > 0) {\n"
		"        EXPECT(len <= SIZE_MAX, \"invalid size in prim-ptr-copy\");\n"
		"        EXPECT(src && dst, \"invalid pointer in prim-ptr-copy\");\n"
		"        memcpy(dst, src, (size_t)len);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void ptr_fill (uint8_t val, uint64_t len, void* dst) {\n"
		"    if (len > 0) {\n"
		"        EXPECT(len <= SIZE_MAX, \"invalid size in prim-ptr-fill\");\n"
		"        EXPECT(dst, \"invalid pointer in prim-ptr-fill\");\n"
		"        memset(dst, (int)val, (size_t)len);\n"
		"    }\n"
		"}\n"
		"\n"
		"static void* str_base (STR* s) {\n"
		"    EXPECT(s && (s->refs > 1), \"invalid string for prim-str-base\");\n"
		"    s->refs--;\n"
		"    return s->data;\n"
		"}\n"
		"\n"
		"static uint64_t str_size (STR* s) {\n"
		"    EXPECT(s, \"invalid string for prim-str-size\");\n"
		"    uint64_t n = s->size;\n"
		"    decref(MKSTR(s));\n"
		"    return n;\n"
		"}\n"
		"\n"
		"static VAL mut_get (void* mut) {\n"
		"    EXPECT(mut, \"invalid pointer in prim-mut-get\");\n"
		"    VAL v = *(VAL*)mut;\n"
		"    EXPECT(v.tag, \"tried to read uninitialized value\");\n"
		"    incref(v);\n"
		"    return v;\n"
		"}\n"
		"\n"
		"static void mut_set (VAL newval, void* mut) {\n"
		"    EXPECT(mut, \"invalid pointer in prim-mut-set\");\n"
		"    VAL oldval = *(VAL*)mut;\n"
		"    *(VAL*)mut = newval;\n"
		"    if (oldval.tag) {\n"
		"        decref(oldval);\n"
		"    }\n"
		"}\n"
		"\n"
		"static bool mut_is_set (void* mut) {\n"
		"    EXPECT(mut, \"invalid pointer in prim-mut-is-set\");\n"
		"    VAL val = *(VAL*)mut;\n"
		"    return (val.tag != 0);\n"
		"}\n"
		"\n"
		"typedef struct FIELD { size_t num_blocks; VAL** blocks; } FIELD;\n"
		"\n"
		"static VAL* field_mut(FIELD* field, uint64_t index) {\n"
		"    ASSERT(field);\n"
		"    size_t block_size = 1024;\n"
		"    size_t block_i = index / block_size;\n"
		"    size_t block_j = index % block_size;\n"
		"    if (block_i >= field->num_blocks) {\n"
		"        ASSERT(field->num_blocks <= SIZE_MAX - 4 - block_i);\n"
		"        size_t new_num_blocks = field->num_blocks + block_i + 4;\n"
		"        VAL** new_blocks = realloc(field->blocks, sizeof(VAL*) * new_num_blocks);\n"
		"        ASSERT(new_blocks);\n"
		"        memset(new_blocks + field->num_blocks, 0, sizeof(VAL*) * (new_num_blocks - field->num_blocks));\n"
		"        field->blocks = new_blocks;\n"
		"        field->num_blocks = new_num_blocks;\n"
		"    }\n"
		"    if(!field->blocks[block_i]) {\n"
		"        field->blocks[block_i] = calloc(block_size, sizeof(VAL));\n"
		"        ASSERT(field->blocks[block_i]);\n"
		"    }\n"
		"    return field->blocks[block_i] + block_j;\n"
		"}\n"
		"\n"
		"/* GENERATED C99 */\n",
		50295
	);
	return v2;
}
static void mw_mirth_c99_c99Z_headerZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	STR* v5;
	STRLIT(v5, "#define MIRTH_DEBUG ", 20);
	TUP* v6;
	TUP* v7;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v5, &v6, &v7);
	TUP* v8 = value_tup(v7->cells[0], 2);
	incref(MKTUP(v8, 2));
	bool v9 = value_bool(v8->cells[1]);
	decref(MKTUP(v8, 2));
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusC99_11;
	VAL branch__12;
	if (v9) {
		STR* v13;
		STRLIT(v13, "1", 1);
		branch__12 = MKSTR(v13);
		branch_ZPlusC99_11 = v7;
		branch_ZPlusMirth_10 = v6;
	} else {
		STR* v14;
		STRLIT(v14, "0", 1);
		branch__12 = MKSTR(v14);
		branch_ZPlusC99_11 = v7;
		branch_ZPlusMirth_10 = v6;
	}
	TUP* v15;
	TUP* v16;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_10, branch_ZPlusC99_11, value_str(branch__12), &v15, &v16);
	TUP* v17;
	TUP* v18;
	mw_mirth_c99_ZPlusC99_line(v15, v16, &v17, &v18);
	STR* v19 = mw_mirth_c99_c99Z_headerZ_str();
	TUP* v20;
	TUP* v21;
	mw_mirth_c99_ZPlusC99_put(v17, v18, v19, &v20, &v21);
	TUP* v22;
	TUP* v23;
	mw_mirth_c99_ZPlusC99_line(v20, v21, &v22, &v23);
	*out_ZPlusC99_4 = v23;
	*out_ZPlusMirth_3 = v22;
}
static void mw_mirth_c99_c99Z_buffersZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_buffer_Buffer_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_c99Z_bufferZBang(v13, v14, v15, &v16, &v17);
		uint64_t v18 = 1ULL;
		uint64_t v19 = (v15 + v18);
		void* v20 = mbuf_mirth_buffer_Buffer_NumBuffer;
		uint64_t v21 = *(uint64_t*)v20;
		bool v22 = (v19 <= v21);
		v12 = v22;
		v11 = v19;
		v10 = v17;
		v9 = v16;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_bufferZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Buffer_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	STR* v6;
	STRLIT(v6, "static char ", 12);
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	TUP* v9;
	STR* v10 = mw_mirth_buffer_Buffer_cname(v7, in_Buffer_3, &v9);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_put(v9, v8, v10, &v11, &v12);
	STR* v13;
	STRLIT(v13, "[", 1);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	TUP* v16;
	INT v17 = mw_mirth_buffer_Buffer_sizze(v14, in_Buffer_3, &v16);
	STR* v18 = int_to_str(v17);
	TUP* v19;
	TUP* v20;
	mw_mirth_c99_ZPlusC99_put(v16, v15, v18, &v19, &v20);
	STR* v21;
	STRLIT(v21, "] = {0};", 8);
	TUP* v22;
	TUP* v23;
	mw_mirth_c99_ZPlusC99_put(v19, v20, v21, &v22, &v23);
	TUP* v24;
	TUP* v25;
	mw_mirth_c99_ZPlusC99_line(v22, v23, &v24, &v25);
	*out_ZPlusC99_5 = v25;
	*out_ZPlusMirth_4 = v24;
}
static void mw_mirth_c99_c99Z_bufferZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Buffer_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = MKI64(16LL /* PTR */);
	incref(v6);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	INT v8 = WRAP_I63(0LL);
	INT v9 = i64_to_int(v7);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	uint64_t branch_Buffer_12;
	VAL branch_C99ReprType_13;
	bool branch_Bool_14;
	TUP* branch_ZPlusMirth_15;
	STR* branch_Str_16;
	TUP* branch_ZPlusC99Branch_17;
	if (v11) {
		TUP* v18 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v19;
		TUP* v20;
		STR* v21 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v18, &v19, &v20);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v20, 6);
		branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_2;
		branch_Str_16 = v21;
		branch_ZPlusMirth_15 = v19;
		branch_Bool_14 = v11;
		branch_C99ReprType_13 = v6;
		branch_Buffer_12 = in_Buffer_3;
	} else {
		STR* v22;
		STRLIT(v22, "0", 1);
		branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_2;
		branch_Str_16 = v22;
		branch_ZPlusMirth_15 = in_ZPlusMirth_1;
		branch_Bool_14 = v11;
		branch_C99ReprType_13 = v6;
		branch_Buffer_12 = in_Buffer_3;
	}
	bool v23 = value_bool(branch_ZPlusC99Branch_17->cells[3]);
	bool v24 = (branch_Bool_14 && v23);
	TUP* v25 = value_tup(branch_ZPlusC99Branch_17->cells[0], 6);
	bool v26 = value_bool(v25->cells[3]);
	bool v27 = (v24 && v26);
	v25->cells[3] = MKBOOL(v27);
	TUP* v28;
	TUP* v29;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_15, v25, &v28, &v29);
	incref(branch_C99ReprType_13);
	STR* v30 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_13);
	TUP* v31;
	TUP* v32;
	mw_mirth_c99_ZPlusC99_put(v28, v29, v30, &v31, &v32);
	STR* v33;
	STRLIT(v33, " ", 1);
	TUP* v34;
	TUP* v35;
	mw_mirth_c99_ZPlusC99_put(v31, v32, v33, &v34, &v35);
	incref(MKSTR(branch_Str_16));
	TUP* v36;
	TUP* v37;
	mw_mirth_c99_ZPlusC99_put(v34, v35, branch_Str_16, &v36, &v37);
	STR* v38;
	STRLIT(v38, " = ", 3);
	TUP* v39;
	TUP* v40;
	mw_mirth_c99_ZPlusC99_put(v36, v37, v38, &v39, &v40);
	TUP* v41;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_13, branch_Str_16, &v41);
	TUP* v42;
	STR* v43 = mw_mirth_buffer_Buffer_cname(v39, branch_Buffer_12, &v42);
	TUP* v44;
	TUP* v45;
	mw_mirth_c99_ZPlusC99_put(v42, v40, v43, &v44, &v45);
	STR* v46;
	STRLIT(v46, ";", 1);
	TUP* v47;
	TUP* v48;
	mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
	TUP* v49;
	TUP* v50;
	mw_mirth_c99_ZPlusC99_line(v47, v48, &v49, &v50);
	v50->cells[3] = MKBOOL(v26);
	branch_ZPlusC99Branch_17->cells[0] = MKTUP(v50, 6);
	TUP* v51;
	TUP* v52;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v49, branch_ZPlusC99Branch_17, v41, &v51, &v52);
	*out_ZPlusC99Branch_5 = v52;
	*out_ZPlusMirth_4 = v51;
}
static void mw_mirth_c99_c99Z_tagZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_data_Tag_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_c99Z_tagZ_defZBang(v13, v14, v15, &v16, &v17);
		uint64_t v18 = 1ULL;
		uint64_t v19 = (v15 + v18);
		void* v20 = mbuf_mirth_data_Tag_NumBuffer;
		uint64_t v21 = *(uint64_t*)v20;
		bool v22 = (v19 <= v21);
		v12 = v22;
		v11 = v19;
		v10 = v17;
		v9 = v16;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_tagZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	bool v7 = mw_mirth_data_Tag_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Tag_3, &v6);
	TUP* branch_ZPlusC99_8;
	TUP* branch_ZPlusMirth_9;
	uint64_t branch_Tag_10;
	if (v7) {
		branch_Tag_10 = in_Tag_3;
		branch_ZPlusMirth_9 = v6;
		branch_ZPlusC99_8 = in_ZPlusC99_2;
	} else {
		TUP* v11 = value_tup(in_ZPlusC99_2->cells[4], 2);
		TUP* v12;
		bool v13 = mw_mirth_data_Tag_wordZ_neededZAsk(v11, in_Tag_3, &v12);
		in_ZPlusC99_2->cells[4] = MKTUP(v12, 2);
		uint64_t branch_Tag_14;
		TUP* branch_ZPlusMirth_15;
		TUP* branch_ZPlusC99_16;
		if (v13) {
			TUP* v17;
			TUP* v18;
			TUP* v19 = mw_mirth_data_Tag_wordZ_c99Z_api(v6, in_ZPlusC99_2, in_Tag_3, &v17, &v18);
			TUP* v20;
			TUP* v21;
			TUP* v22 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp91(v19, v17, v18, &v20, &v21);
			INT v23 = value_int(v21->cells[1]);
			incref(MKINT(v23));
			INT v24 = WRAP_I63(1LL);
			INT v25 = int_add(v23, v24);
			INT v26 = value_int(v21->cells[1]);
			decref(MKINT(v26));
			v21->cells[1] = MKINT(v25);
			incref(MKTUP(v22, 8));
			TUP* v27;
			TUP* v28;
			mw_mirth_c99_c99Z_apiZ_enterZBang(v20, v21, v22, &v27, &v28);
			TUP* v29;
			TUP* v30;
			mw_mirth_c99_c99Z_tagZ_bodyZBang(v27, v28, in_Tag_3, &v29, &v30);
			TUP* v31;
			TUP* v32;
			mw_mirth_c99_c99Z_apiZ_exitZBang(v29, v30, v22, &v31, &v32);
			INT v33 = value_int(v32->cells[1]);
			incref(MKINT(v33));
			INT v34 = WRAP_I63(1LL);
			INT v35 = int_sub(v33, v34);
			incref(MKINT(v35));
			INT v36 = WRAP_I63(0LL);
			bool v37 = int_le(v36, v35);
			INT branch_Nat_38;
			if (v37) {
				branch_Nat_38 = v35;
			} else {
				decref(MKINT(v35));
				INT v39 = WRAP_I63(0LL);
				branch_Nat_38 = v39;
			}
			INT v40 = value_int(v32->cells[1]);
			decref(MKINT(v40));
			v32->cells[1] = MKINT(branch_Nat_38);
			TUP* v41;
			TUP* v42;
			mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v31, v32, &v41, &v42);
			branch_ZPlusC99_16 = v42;
			branch_ZPlusMirth_15 = v41;
			branch_Tag_14 = in_Tag_3;
		} else {
			branch_ZPlusC99_16 = in_ZPlusC99_2;
			branch_ZPlusMirth_15 = v6;
			branch_Tag_14 = in_Tag_3;
		}
		TUP* v43 = value_tup(branch_ZPlusC99_16->cells[4], 2);
		TUP* v44;
		bool v45 = mw_mirth_data_Tag_patZ_neededZAsk(v43, branch_Tag_14, &v44);
		branch_ZPlusC99_16->cells[4] = MKTUP(v44, 2);
		uint64_t branch_Tag_46;
		TUP* branch_ZPlusMirth_47;
		TUP* branch_ZPlusC99_48;
		if (v45) {
			TUP* v49;
			TUP* v50;
			TUP* v51 = mw_mirth_data_Tag_patZ_c99Z_api(branch_ZPlusMirth_15, branch_ZPlusC99_16, branch_Tag_14, &v49, &v50);
			TUP* v52;
			TUP* v53;
			TUP* v54 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp91(v51, v49, v50, &v52, &v53);
			INT v55 = value_int(v53->cells[1]);
			incref(MKINT(v55));
			INT v56 = WRAP_I63(1LL);
			INT v57 = int_add(v55, v56);
			INT v58 = value_int(v53->cells[1]);
			decref(MKINT(v58));
			v53->cells[1] = MKINT(v57);
			incref(MKTUP(v54, 8));
			TUP* v59;
			TUP* v60;
			mw_mirth_c99_c99Z_apiZ_enterZBang(v52, v53, v54, &v59, &v60);
			TUP* v61;
			TUP* v62;
			mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang(v59, v60, branch_Tag_14, &v61, &v62);
			TUP* v63;
			TUP* v64;
			mw_mirth_c99_c99Z_apiZ_exitZBang(v61, v62, v54, &v63, &v64);
			INT v65 = value_int(v64->cells[1]);
			incref(MKINT(v65));
			INT v66 = WRAP_I63(1LL);
			INT v67 = int_sub(v65, v66);
			incref(MKINT(v67));
			INT v68 = WRAP_I63(0LL);
			bool v69 = int_le(v68, v67);
			INT branch_Nat_70;
			if (v69) {
				branch_Nat_70 = v67;
			} else {
				decref(MKINT(v67));
				INT v71 = WRAP_I63(0LL);
				branch_Nat_70 = v71;
			}
			INT v72 = value_int(v64->cells[1]);
			decref(MKINT(v72));
			v64->cells[1] = MKINT(branch_Nat_70);
			TUP* v73;
			TUP* v74;
			mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v63, v64, &v73, &v74);
			branch_ZPlusC99_48 = v74;
			branch_ZPlusMirth_47 = v73;
			branch_Tag_46 = branch_Tag_14;
		} else {
			branch_ZPlusC99_48 = branch_ZPlusC99_16;
			branch_ZPlusMirth_47 = branch_ZPlusMirth_15;
			branch_Tag_46 = branch_Tag_14;
		}
		branch_Tag_10 = branch_Tag_46;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_47;
		branch_ZPlusC99_8 = branch_ZPlusC99_48;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_c99Z_tagZ_bodyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_semiZ_transparentZAsk(in_ZPlusMirth_1, in_Tag_3, &v6);
	uint64_t branch_Tag_8;
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v12 = VTUP(v11)->cells[1];
			incref(v12);
			decref(v11);
			uint64_t branch_Tag_13;
			TUP* branch_ZPlusMirth_14;
			TUP* branch_ZPlusC99Branch_15;
			switch (get_data_tag(v12)) {
				case 1LL: { // ConsLabel
					uint64_t v16;
					VAL v17 = mtp_mirth_type_StackTypePart_ConsLabel(v12, &v16);
					TUP* v18;
					TUP* v19;
					VAL v20 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v17, &v18, &v19);
					TUP* v21;
					TUP* v22;
					TUP* v23;
					mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v18, v19, v20, v16, &v21, &v22, &v23);
					TUP* v24;
					bool v25 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v21, in_Tag_3, &v24);
					uint64_t branch_Tag_26;
					TUP* branch_ZPlusMirth_27;
					TUP* branch_ZPlusC99Branch_28;
					if (v25) {
						TUP* v29;
						mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v23, &v29);
						TUP* v30;
						TUP* v31;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v24, v22, v29, &v30, &v31);
						branch_ZPlusC99Branch_28 = v31;
						branch_ZPlusMirth_27 = v30;
						branch_Tag_26 = in_Tag_3;
					} else {
						TUP* v32;
						TUP* v33;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v24, v22, v23, &v32, &v33);
						branch_ZPlusC99Branch_28 = v33;
						branch_ZPlusMirth_27 = v32;
						branch_Tag_26 = in_Tag_3;
					}
					branch_ZPlusC99Branch_15 = branch_ZPlusC99Branch_28;
					branch_ZPlusMirth_14 = branch_ZPlusMirth_27;
					branch_Tag_13 = branch_Tag_26;
				} break;
				case 3LL: { // WithLabel
					uint64_t v34;
					VAL v35 = mtp_mirth_type_StackTypePart_WithLabel(v12, &v34);
					TUP* v36;
					TUP* v37;
					VAL v38 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v35, &v36, &v37);
					TUP* v39;
					TUP* v40;
					TUP* v41;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v36, v37, v38, v34, &v39, &v40, &v41);
					TUP* v42;
					TUP* v43;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v39, v40, v41, &v42, &v43);
					branch_ZPlusC99Branch_15 = v43;
					branch_ZPlusMirth_14 = v42;
					branch_Tag_13 = in_Tag_3;
				} break;
				case 0LL: { // Cons
					VAL v44 = mtp_mirth_type_StackTypePart_Cons(v12);
					TUP* v45;
					TUP* v46;
					VAL v47 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v44, &v45, &v46);
					TUP* v48;
					TUP* v49;
					TUP* v50;
					mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v45, v46, v47, &v48, &v49, &v50);
					TUP* v51;
					bool v52 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v48, in_Tag_3, &v51);
					uint64_t branch_Tag_53;
					TUP* branch_ZPlusMirth_54;
					TUP* branch_ZPlusC99Branch_55;
					if (v52) {
						TUP* v56;
						mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v50, &v56);
						TUP* v57;
						TUP* v58;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v51, v49, v56, &v57, &v58);
						branch_ZPlusC99Branch_55 = v58;
						branch_ZPlusMirth_54 = v57;
						branch_Tag_53 = in_Tag_3;
					} else {
						TUP* v59;
						TUP* v60;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v51, v49, v50, &v59, &v60);
						branch_ZPlusC99Branch_55 = v60;
						branch_ZPlusMirth_54 = v59;
						branch_Tag_53 = in_Tag_3;
					}
					branch_ZPlusC99Branch_15 = branch_ZPlusC99Branch_55;
					branch_ZPlusMirth_14 = branch_ZPlusMirth_54;
					branch_Tag_13 = branch_Tag_53;
				} break;
				case 2LL: { // With
					VAL v61 = mtp_mirth_type_StackTypePart_With(v12);
					TUP* v62;
					TUP* v63;
					VAL v64 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v61, &v62, &v63);
					TUP* v65;
					TUP* v66;
					TUP* v67;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v62, v63, v64, &v65, &v66, &v67);
					TUP* v68;
					TUP* v69;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v65, v66, v67, &v68, &v69);
					branch_ZPlusC99Branch_15 = v69;
					branch_ZPlusMirth_14 = v68;
					branch_Tag_13 = in_Tag_3;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusC99Branch_10 = branch_ZPlusC99Branch_15;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_14;
			branch_Tag_8 = branch_Tag_13;
		} break;
		case 0LL: { // None
			TUP* v70;
			INT v71 = mw_mirth_data_Tag_numZ_totalZ_inputs(v6, in_Tag_3, &v70);
			INT v72 = WRAP_I63(0LL);
			bool v73 = int_eq(v71, v72);
			uint64_t branch_Tag_74;
			TUP* branch_ZPlusMirth_75;
			TUP* branch_ZPlusC99Branch_76;
			if (v73) {
				TUP* v77;
				uint64_t v78 = mw_mirth_data_Tag_data(v70, in_Tag_3, &v77);
				TUP* v79;
				bool v80 = mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk(v77, v78, &v79);
				TUP* branch_ZPlusC99Branch_81;
				uint64_t branch_Tag_82;
				TUP* branch_ZPlusMirth_83;
				VAL branch_C99ReprType_84;
				STR* branch_Str_85;
				STR* branch_Str_86;
				if (v80) {
					VAL v87 = MKI64(5LL /* I64 */);
					STR* v88;
					STRLIT(v88, "", 0);
					STR* v89;
					STRLIT(v89, "", 0);
					branch_Str_86 = v89;
					branch_Str_85 = v88;
					branch_C99ReprType_84 = v87;
					branch_ZPlusMirth_83 = v79;
					branch_Tag_82 = in_Tag_3;
					branch_ZPlusC99Branch_81 = in_ZPlusC99Branch_2;
				} else {
					VAL v90 = MKI64(1LL /* VAL */);
					STR* v91;
					STRLIT(v91, "MKI64(", 6);
					STR* v92;
					STRLIT(v92, ")", 1);
					branch_Str_86 = v92;
					branch_Str_85 = v91;
					branch_C99ReprType_84 = v90;
					branch_ZPlusMirth_83 = v79;
					branch_Tag_82 = in_Tag_3;
					branch_ZPlusC99Branch_81 = in_ZPlusC99Branch_2;
				}
				TUP* v93;
				bool v94 = mw_mirth_data_Tag_outputsZ_resourceZAsk(branch_ZPlusMirth_83, branch_Tag_82, &v93);
				uint64_t branch_Tag_95;
				TUP* branch_ZPlusMirth_96;
				TUP* branch_ZPlusC99Branch_97;
				if (v94) {
					incref(branch_C99ReprType_84);
					int64_t v98 = get_data_tag(branch_C99ReprType_84);
					decref(branch_C99ReprType_84);
					INT v99 = WRAP_I63(0LL);
					INT v100 = i64_to_int(v98);
					bool v101 = int_eq(v100, v99);
					bool v102 = !v101;
					STR* branch_Str_103;
					uint64_t branch_Tag_104;
					STR* branch_Str_105;
					VAL branch_C99ReprType_106;
					bool branch_Bool_107;
					TUP* branch_ZPlusMirth_108;
					STR* branch_Str_109;
					TUP* branch_ZPlusC99Branch_110;
					if (v102) {
						TUP* v111 = value_tup(branch_ZPlusC99Branch_81->cells[0], 6);
						TUP* v112;
						TUP* v113;
						STR* v114 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v93, v111, &v112, &v113);
						branch_ZPlusC99Branch_81->cells[0] = MKTUP(v113, 6);
						branch_ZPlusC99Branch_110 = branch_ZPlusC99Branch_81;
						branch_Str_109 = v114;
						branch_ZPlusMirth_108 = v112;
						branch_Bool_107 = v102;
						branch_C99ReprType_106 = branch_C99ReprType_84;
						branch_Str_105 = branch_Str_85;
						branch_Tag_104 = branch_Tag_82;
						branch_Str_103 = branch_Str_86;
					} else {
						STR* v115;
						STRLIT(v115, "0", 1);
						branch_ZPlusC99Branch_110 = branch_ZPlusC99Branch_81;
						branch_Str_109 = v115;
						branch_ZPlusMirth_108 = v93;
						branch_Bool_107 = v102;
						branch_C99ReprType_106 = branch_C99ReprType_84;
						branch_Str_105 = branch_Str_85;
						branch_Tag_104 = branch_Tag_82;
						branch_Str_103 = branch_Str_86;
					}
					bool v116 = value_bool(branch_ZPlusC99Branch_110->cells[3]);
					bool v117 = (branch_Bool_107 && v116);
					TUP* v118 = value_tup(branch_ZPlusC99Branch_110->cells[0], 6);
					bool v119 = value_bool(v118->cells[3]);
					bool v120 = (v117 && v119);
					v118->cells[3] = MKBOOL(v120);
					TUP* v121;
					TUP* v122;
					mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_108, v118, &v121, &v122);
					incref(branch_C99ReprType_106);
					STR* v123 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_106);
					TUP* v124;
					TUP* v125;
					mw_mirth_c99_ZPlusC99_put(v121, v122, v123, &v124, &v125);
					STR* v126;
					STRLIT(v126, " ", 1);
					TUP* v127;
					TUP* v128;
					mw_mirth_c99_ZPlusC99_put(v124, v125, v126, &v127, &v128);
					incref(MKSTR(branch_Str_109));
					TUP* v129;
					TUP* v130;
					mw_mirth_c99_ZPlusC99_put(v127, v128, branch_Str_109, &v129, &v130);
					STR* v131;
					STRLIT(v131, " = ", 3);
					TUP* v132;
					TUP* v133;
					mw_mirth_c99_ZPlusC99_put(v129, v130, v131, &v132, &v133);
					TUP* v134;
					mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_106, branch_Str_109, &v134);
					TUP* v135;
					TUP* v136;
					mw_mirth_c99_ZPlusC99_put(v132, v133, branch_Str_105, &v135, &v136);
					TUP* v137;
					STR* v138 = mw_mirth_data_Tag_valueZ_show(v135, branch_Tag_104, &v137);
					TUP* v139;
					TUP* v140;
					mw_mirth_c99_ZPlusC99_put(v137, v136, v138, &v139, &v140);
					STR* v141;
					STRLIT(v141, "LL /* ", 6);
					TUP* v142;
					TUP* v143;
					mw_mirth_c99_ZPlusC99_put(v139, v140, v141, &v142, &v143);
					TUP* v144;
					uint64_t v145 = mw_mirth_data_Tag_name(v142, branch_Tag_104, &v144);
					TUP* v146;
					STR* v147 = mw_mirth_name_Name_ZToStr(v144, v145, &v146);
					TUP* v148;
					TUP* v149;
					mw_mirth_c99_ZPlusC99_put(v146, v143, v147, &v148, &v149);
					STR* v150;
					STRLIT(v150, " */", 3);
					TUP* v151;
					TUP* v152;
					mw_mirth_c99_ZPlusC99_put(v148, v149, v150, &v151, &v152);
					TUP* v153;
					TUP* v154;
					mw_mirth_c99_ZPlusC99_put(v151, v152, branch_Str_103, &v153, &v154);
					STR* v155;
					STRLIT(v155, ";", 1);
					TUP* v156;
					TUP* v157;
					mw_mirth_c99_ZPlusC99_put(v153, v154, v155, &v156, &v157);
					TUP* v158;
					TUP* v159;
					mw_mirth_c99_ZPlusC99_line(v156, v157, &v158, &v159);
					v159->cells[3] = MKBOOL(v119);
					branch_ZPlusC99Branch_110->cells[0] = MKTUP(v159, 6);
					TUP* v160;
					TUP* v161;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v158, branch_ZPlusC99Branch_110, v134, &v160, &v161);
					branch_ZPlusC99Branch_97 = v161;
					branch_ZPlusMirth_96 = v160;
					branch_Tag_95 = branch_Tag_104;
				} else {
					incref(branch_C99ReprType_84);
					int64_t v162 = get_data_tag(branch_C99ReprType_84);
					decref(branch_C99ReprType_84);
					INT v163 = WRAP_I63(0LL);
					INT v164 = i64_to_int(v162);
					bool v165 = int_eq(v164, v163);
					bool v166 = !v165;
					STR* branch_Str_167;
					uint64_t branch_Tag_168;
					STR* branch_Str_169;
					VAL branch_C99ReprType_170;
					bool branch_Bool_171;
					TUP* branch_ZPlusMirth_172;
					STR* branch_Str_173;
					TUP* branch_ZPlusC99Branch_174;
					if (v166) {
						TUP* v175 = value_tup(branch_ZPlusC99Branch_81->cells[0], 6);
						TUP* v176;
						TUP* v177;
						STR* v178 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v93, v175, &v176, &v177);
						branch_ZPlusC99Branch_81->cells[0] = MKTUP(v177, 6);
						branch_ZPlusC99Branch_174 = branch_ZPlusC99Branch_81;
						branch_Str_173 = v178;
						branch_ZPlusMirth_172 = v176;
						branch_Bool_171 = v166;
						branch_C99ReprType_170 = branch_C99ReprType_84;
						branch_Str_169 = branch_Str_85;
						branch_Tag_168 = branch_Tag_82;
						branch_Str_167 = branch_Str_86;
					} else {
						STR* v179;
						STRLIT(v179, "0", 1);
						branch_ZPlusC99Branch_174 = branch_ZPlusC99Branch_81;
						branch_Str_173 = v179;
						branch_ZPlusMirth_172 = v93;
						branch_Bool_171 = v166;
						branch_C99ReprType_170 = branch_C99ReprType_84;
						branch_Str_169 = branch_Str_85;
						branch_Tag_168 = branch_Tag_82;
						branch_Str_167 = branch_Str_86;
					}
					bool v180 = value_bool(branch_ZPlusC99Branch_174->cells[3]);
					bool v181 = (branch_Bool_171 && v180);
					TUP* v182 = value_tup(branch_ZPlusC99Branch_174->cells[0], 6);
					bool v183 = value_bool(v182->cells[3]);
					bool v184 = (v181 && v183);
					v182->cells[3] = MKBOOL(v184);
					TUP* v185;
					TUP* v186;
					mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_172, v182, &v185, &v186);
					incref(branch_C99ReprType_170);
					STR* v187 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_170);
					TUP* v188;
					TUP* v189;
					mw_mirth_c99_ZPlusC99_put(v185, v186, v187, &v188, &v189);
					STR* v190;
					STRLIT(v190, " ", 1);
					TUP* v191;
					TUP* v192;
					mw_mirth_c99_ZPlusC99_put(v188, v189, v190, &v191, &v192);
					incref(MKSTR(branch_Str_173));
					TUP* v193;
					TUP* v194;
					mw_mirth_c99_ZPlusC99_put(v191, v192, branch_Str_173, &v193, &v194);
					STR* v195;
					STRLIT(v195, " = ", 3);
					TUP* v196;
					TUP* v197;
					mw_mirth_c99_ZPlusC99_put(v193, v194, v195, &v196, &v197);
					TUP* v198;
					mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_170, branch_Str_173, &v198);
					TUP* v199;
					TUP* v200;
					mw_mirth_c99_ZPlusC99_put(v196, v197, branch_Str_169, &v199, &v200);
					TUP* v201;
					STR* v202 = mw_mirth_data_Tag_valueZ_show(v199, branch_Tag_168, &v201);
					TUP* v203;
					TUP* v204;
					mw_mirth_c99_ZPlusC99_put(v201, v200, v202, &v203, &v204);
					STR* v205;
					STRLIT(v205, "LL /* ", 6);
					TUP* v206;
					TUP* v207;
					mw_mirth_c99_ZPlusC99_put(v203, v204, v205, &v206, &v207);
					TUP* v208;
					uint64_t v209 = mw_mirth_data_Tag_name(v206, branch_Tag_168, &v208);
					TUP* v210;
					STR* v211 = mw_mirth_name_Name_ZToStr(v208, v209, &v210);
					TUP* v212;
					TUP* v213;
					mw_mirth_c99_ZPlusC99_put(v210, v207, v211, &v212, &v213);
					STR* v214;
					STRLIT(v214, " */", 3);
					TUP* v215;
					TUP* v216;
					mw_mirth_c99_ZPlusC99_put(v212, v213, v214, &v215, &v216);
					TUP* v217;
					TUP* v218;
					mw_mirth_c99_ZPlusC99_put(v215, v216, branch_Str_167, &v217, &v218);
					STR* v219;
					STRLIT(v219, ";", 1);
					TUP* v220;
					TUP* v221;
					mw_mirth_c99_ZPlusC99_put(v217, v218, v219, &v220, &v221);
					TUP* v222;
					TUP* v223;
					mw_mirth_c99_ZPlusC99_line(v220, v221, &v222, &v223);
					v223->cells[3] = MKBOOL(v183);
					branch_ZPlusC99Branch_174->cells[0] = MKTUP(v223, 6);
					TUP* v224;
					TUP* v225;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v222, branch_ZPlusC99Branch_174, v198, &v224, &v225);
					branch_ZPlusC99Branch_97 = v225;
					branch_ZPlusMirth_96 = v224;
					branch_Tag_95 = branch_Tag_168;
				}
				branch_ZPlusC99Branch_76 = branch_ZPlusC99Branch_97;
				branch_ZPlusMirth_75 = branch_ZPlusMirth_96;
				branch_Tag_74 = branch_Tag_95;
			} else {
				TUP* v226;
				VAL v227 = mw_mirth_data_Tag_inputs(v70, in_Tag_3, &v226);
				VAL v228 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Tag_3));
				TUP* branch_ZPlusMirth_229;
				VAL branch_Maybe_230;
				switch (get_data_tag(v228)) {
					case 1LL: { // Some
						VAL v231 = mtp_std_maybe_Maybe_1_Some(v228);
						incref(v231);
						TUP* v232;
						bool v233 = mw_mirth_data_Tag_onlyZ_tagZAsk(v226, value_u64(v231), &v232);
						bool v234 = !v233;
						TUP* branch_ZPlusMirth_235;
						VAL branch_Maybe_236;
						if (v234) {
							VAL v237 = mtw_std_maybe_Maybe_1_Some(v231);
							branch_Maybe_236 = v237;
							branch_ZPlusMirth_235 = v232;
						} else {
							decref(v231);
							VAL v238 = MKI64(0LL /* None */);
							branch_Maybe_236 = v238;
							branch_ZPlusMirth_235 = v232;
						}
						branch_Maybe_230 = branch_Maybe_236;
						branch_ZPlusMirth_229 = branch_ZPlusMirth_235;
					} break;
					case 0LL: { // None
						VAL v239 = MKI64(0LL /* None */);
						branch_Maybe_230 = v239;
						branch_ZPlusMirth_229 = v226;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				TUP* v240;
				TUP* v241;
				TUP* v242;
				mw_mirth_c99_c99Z_packZ_tupleZBang(branch_ZPlusMirth_229, in_ZPlusC99Branch_2, branch_Maybe_230, v227, &v240, &v241, &v242);
				TUP* v243;
				bool v244 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v240, in_Tag_3, &v243);
				uint64_t branch_Tag_245;
				TUP* branch_ZPlusMirth_246;
				TUP* branch_ZPlusC99Branch_247;
				if (v244) {
					TUP* v248;
					TUP* v249;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v243, v241, v242, &v248, &v249);
					branch_ZPlusC99Branch_247 = v249;
					branch_ZPlusMirth_246 = v248;
					branch_Tag_245 = in_Tag_3;
				} else {
					TUP* v250;
					mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v242, &v250);
					TUP* v251;
					TUP* v252;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v243, v241, v250, &v251, &v252);
					branch_ZPlusC99Branch_247 = v252;
					branch_ZPlusMirth_246 = v251;
					branch_Tag_245 = in_Tag_3;
				}
				branch_ZPlusC99Branch_76 = branch_ZPlusC99Branch_247;
				branch_ZPlusMirth_75 = branch_ZPlusMirth_246;
				branch_Tag_74 = branch_Tag_245;
			}
			branch_ZPlusC99Branch_10 = branch_ZPlusC99Branch_76;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_75;
			branch_Tag_8 = branch_Tag_74;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_semiZ_transparentZAsk(in_ZPlusMirth_1, in_Tag_3, &v6);
	uint64_t branch_Tag_8;
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v12 = VTUP(v11)->cells[1];
			incref(v12);
			decref(v11);
			uint64_t branch_Tag_13;
			TUP* branch_ZPlusMirth_14;
			TUP* branch_ZPlusC99Branch_15;
			switch (get_data_tag(v12)) {
				case 1LL: { // ConsLabel
					uint64_t v16;
					VAL v17 = mtp_mirth_type_StackTypePart_ConsLabel(v12, &v16);
					TUP* v18;
					TUP* v19;
					VAL v20 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v17, &v18, &v19);
					TUP* v21;
					bool v22 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v18, in_Tag_3, &v21);
					uint64_t branch_Label_23;
					uint64_t branch_Tag_24;
					TUP* branch_ZPlusMirth_25;
					TUP* branch_ZPlusC99Branch_26;
					TUP* branch_ZPlusC99Value_27;
					if (v22) {
						TUP* v28;
						TUP* v29;
						TUP* v30;
						mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v21, v19, v20, &v28, &v29, &v30);
						TUP* v31;
						mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v30, &v31);
						branch_ZPlusC99Value_27 = v31;
						branch_ZPlusC99Branch_26 = v29;
						branch_ZPlusMirth_25 = v28;
						branch_Tag_24 = in_Tag_3;
						branch_Label_23 = v16;
					} else {
						TUP* v32;
						TUP* v33;
						TUP* v34;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v21, v19, v20, &v32, &v33, &v34);
						branch_ZPlusC99Value_27 = v34;
						branch_ZPlusC99Branch_26 = v33;
						branch_ZPlusMirth_25 = v32;
						branch_Tag_24 = in_Tag_3;
						branch_Label_23 = v16;
					}
					TUP* v35;
					TUP* v36;
					mw_mirth_c99_pushZ_valueZ_labelZBang(branch_ZPlusMirth_25, branch_ZPlusC99Branch_26, branch_Label_23, branch_ZPlusC99Value_27, &v35, &v36);
					branch_ZPlusC99Branch_15 = v36;
					branch_ZPlusMirth_14 = v35;
					branch_Tag_13 = branch_Tag_24;
				} break;
				case 3LL: { // WithLabel
					uint64_t v37;
					VAL v38 = mtp_mirth_type_StackTypePart_WithLabel(v12, &v37);
					TUP* v39;
					TUP* v40;
					VAL v41 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v38, &v39, &v40);
					TUP* v42;
					TUP* v43;
					TUP* v44;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v39, v40, v41, &v42, &v43, &v44);
					TUP* v45;
					TUP* v46;
					mw_mirth_c99_pushZ_resourceZ_labelZBang(v42, v43, v37, v44, &v45, &v46);
					branch_ZPlusC99Branch_15 = v46;
					branch_ZPlusMirth_14 = v45;
					branch_Tag_13 = in_Tag_3;
				} break;
				case 0LL: { // Cons
					VAL v47 = mtp_mirth_type_StackTypePart_Cons(v12);
					TUP* v48;
					TUP* v49;
					VAL v50 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v47, &v48, &v49);
					TUP* v51;
					bool v52 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v48, in_Tag_3, &v51);
					uint64_t branch_Tag_53;
					TUP* branch_ZPlusMirth_54;
					TUP* branch_ZPlusC99Branch_55;
					TUP* branch_ZPlusC99Value_56;
					if (v52) {
						TUP* v57;
						TUP* v58;
						TUP* v59;
						mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v51, v49, v50, &v57, &v58, &v59);
						TUP* v60;
						mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v59, &v60);
						branch_ZPlusC99Value_56 = v60;
						branch_ZPlusC99Branch_55 = v58;
						branch_ZPlusMirth_54 = v57;
						branch_Tag_53 = in_Tag_3;
					} else {
						TUP* v61;
						TUP* v62;
						TUP* v63;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v51, v49, v50, &v61, &v62, &v63);
						branch_ZPlusC99Value_56 = v63;
						branch_ZPlusC99Branch_55 = v62;
						branch_ZPlusMirth_54 = v61;
						branch_Tag_53 = in_Tag_3;
					}
					TUP* v64;
					TUP* v65;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusMirth_54, branch_ZPlusC99Branch_55, branch_ZPlusC99Value_56, &v64, &v65);
					branch_ZPlusC99Branch_15 = v65;
					branch_ZPlusMirth_14 = v64;
					branch_Tag_13 = branch_Tag_53;
				} break;
				case 2LL: { // With
					VAL v66 = mtp_mirth_type_StackTypePart_With(v12);
					TUP* v67;
					TUP* v68;
					VAL v69 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v66, &v67, &v68);
					TUP* v70;
					TUP* v71;
					TUP* v72;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v67, v68, v69, &v70, &v71, &v72);
					TUP* v73;
					TUP* v74;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v70, v71, v72, &v73, &v74);
					branch_ZPlusC99Branch_15 = v74;
					branch_ZPlusMirth_14 = v73;
					branch_Tag_13 = in_Tag_3;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusC99Branch_10 = branch_ZPlusC99Branch_15;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_14;
			branch_Tag_8 = branch_Tag_13;
		} break;
		case 0LL: { // None
			TUP* v75;
			INT v76 = mw_mirth_data_Tag_numZ_totalZ_inputs(v6, in_Tag_3, &v75);
			INT v77 = WRAP_I63(0LL);
			bool v78 = int_eq(v76, v77);
			uint64_t branch_Tag_79;
			TUP* branch_ZPlusMirth_80;
			TUP* branch_ZPlusC99Branch_81;
			if (v78) {
				TUP* v82;
				uint64_t v83 = mw_mirth_data_Tag_data(v75, in_Tag_3, &v82);
				TUP* v84;
				TUP* v85;
				VAL v86;
				mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v82, in_ZPlusC99Branch_2, v83, &v84, &v85, &v86);
				mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop(v86);
				branch_ZPlusC99Branch_81 = v85;
				branch_ZPlusMirth_80 = v84;
				branch_Tag_79 = in_Tag_3;
			} else {
				TUP* v87;
				VAL v88 = mw_mirth_data_Tag_inputs(v75, in_Tag_3, &v87);
				TUP* v89;
				uint64_t v90 = mw_mirth_data_Tag_data(v87, in_Tag_3, &v89);
				TUP* v91;
				TUP* v92;
				VAL v93;
				mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v89, in_ZPlusC99Branch_2, v90, &v91, &v92, &v93);
				TUP* v94;
				mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang(v93, &v94);
				VAL v95 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Tag_3));
				TUP* branch_ZPlusMirth_96;
				VAL branch_z_x1_97;
				VAL branch_z_x2_98;
				VAL branch_Maybe_99;
				switch (get_data_tag(v95)) {
					case 1LL: { // Some
						VAL v100 = mtp_std_maybe_Maybe_1_Some(v95);
						incref(v100);
						TUP* v101;
						bool v102 = mw_mirth_data_Tag_onlyZ_tagZAsk(v91, value_u64(v100), &v101);
						bool v103 = !v102;
						TUP* branch_ZPlusMirth_104;
						VAL branch_z_x1_105;
						VAL branch_z_x2_106;
						VAL branch_Maybe_107;
						if (v103) {
							VAL v108 = mtw_std_maybe_Maybe_1_Some(v100);
							branch_Maybe_107 = v108;
							branch_z_x2_106 = MKTUP(v94, 2);
							branch_z_x1_105 = MKTUP(v92, 4);
							branch_ZPlusMirth_104 = v101;
						} else {
							decref(v100);
							VAL v109 = MKI64(0LL /* None */);
							branch_Maybe_107 = v109;
							branch_z_x2_106 = MKTUP(v94, 2);
							branch_z_x1_105 = MKTUP(v92, 4);
							branch_ZPlusMirth_104 = v101;
						}
						branch_Maybe_99 = branch_Maybe_107;
						branch_z_x2_98 = branch_z_x2_106;
						branch_z_x1_97 = branch_z_x1_105;
						branch_ZPlusMirth_96 = branch_ZPlusMirth_104;
					} break;
					case 0LL: { // None
						VAL v110 = MKI64(0LL /* None */);
						branch_Maybe_99 = v110;
						branch_z_x2_98 = MKTUP(v94, 2);
						branch_z_x1_97 = MKTUP(v92, 4);
						branch_ZPlusMirth_96 = v91;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				TUP* v111;
				TUP* v112;
				mw_mirth_c99_c99Z_unpackZ_tupleZBang(branch_ZPlusMirth_96, value_tup(branch_z_x1_97, 4), value_tup(branch_z_x2_98, 2), branch_Maybe_99, v88, &v111, &v112);
				branch_ZPlusC99Branch_81 = v112;
				branch_ZPlusMirth_80 = v111;
				branch_Tag_79 = in_Tag_3;
			}
			branch_ZPlusC99Branch_10 = branch_ZPlusC99Branch_81;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_80;
			branch_Tag_8 = branch_Tag_79;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_ZPlusC99_tagZ_valueZ_put (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	STR* v7 = mw_mirth_data_Tag_valueZ_show(in_ZPlusMirth_1, in_Tag_3, &v6);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99_put(v6, in_ZPlusC99_2, v7, &v8, &v9);
	STR* v10;
	STRLIT(v10, "LL /* ", 6);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_put(v8, v9, v10, &v11, &v12);
	TUP* v13;
	uint64_t v14 = mw_mirth_data_Tag_name(v11, in_Tag_3, &v13);
	TUP* v15;
	STR* v16 = mw_mirth_name_Name_ZToStr(v13, v14, &v15);
	TUP* v17;
	TUP* v18;
	mw_mirth_c99_ZPlusC99_put(v15, v12, v16, &v17, &v18);
	STR* v19;
	STRLIT(v19, " */", 3);
	TUP* v20;
	TUP* v21;
	mw_mirth_c99_ZPlusC99_put(v17, v18, v19, &v20, &v21);
	*out_ZPlusC99_5 = v21;
	*out_ZPlusMirth_4 = v20;
}
static void mw_mirth_c99_c99Z_packZ_tupleZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_Maybe_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Resource_7) {
	incref(in_Maybe_3);
	int64_t v8 = get_data_tag(in_Maybe_3);
	decref(in_Maybe_3);
	INT v9 = i64_to_int(v8);
	incref(in_List_4);
	INT v10 = mw_std_list_List_1_len(in_List_4);
	INT v11 = int_add(v9, v10);
	incref(MKINT(v11));
	VAL v12 = mtw_mirth_c99_C99ReprType_TUP(v11);
	incref(v12);
	int64_t v13 = get_data_tag(v12);
	decref(v12);
	INT v14 = WRAP_I63(0LL);
	INT v15 = i64_to_int(v13);
	bool v16 = int_eq(v15, v14);
	bool v17 = !v16;
	INT branch_Nat_18;
	VAL branch_C99ReprType_19;
	bool branch_Bool_20;
	TUP* branch_ZPlusMirth_21;
	STR* branch_Str_22;
	TUP* branch_ZPlusC99Branch_23;
	if (v17) {
		TUP* v24 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v25;
		TUP* v26;
		STR* v27 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v24, &v25, &v26);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v26, 6);
		branch_ZPlusC99Branch_23 = in_ZPlusC99Branch_2;
		branch_Str_22 = v27;
		branch_ZPlusMirth_21 = v25;
		branch_Bool_20 = v17;
		branch_C99ReprType_19 = v12;
		branch_Nat_18 = v11;
	} else {
		STR* v28;
		STRLIT(v28, "0", 1);
		branch_ZPlusC99Branch_23 = in_ZPlusC99Branch_2;
		branch_Str_22 = v28;
		branch_ZPlusMirth_21 = in_ZPlusMirth_1;
		branch_Bool_20 = v17;
		branch_C99ReprType_19 = v12;
		branch_Nat_18 = v11;
	}
	bool v29 = value_bool(branch_ZPlusC99Branch_23->cells[3]);
	bool v30 = (branch_Bool_20 && v29);
	TUP* v31 = value_tup(branch_ZPlusC99Branch_23->cells[0], 6);
	bool v32 = value_bool(v31->cells[3]);
	bool v33 = (v30 && v32);
	v31->cells[3] = MKBOOL(v33);
	TUP* v34;
	TUP* v35;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_21, v31, &v34, &v35);
	incref(branch_C99ReprType_19);
	STR* v36 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_19);
	TUP* v37;
	TUP* v38;
	mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
	STR* v39;
	STRLIT(v39, " ", 1);
	TUP* v40;
	TUP* v41;
	mw_mirth_c99_ZPlusC99_put(v37, v38, v39, &v40, &v41);
	incref(MKSTR(branch_Str_22));
	TUP* v42;
	TUP* v43;
	mw_mirth_c99_ZPlusC99_put(v40, v41, branch_Str_22, &v42, &v43);
	STR* v44;
	STRLIT(v44, " = ", 3);
	TUP* v45;
	TUP* v46;
	mw_mirth_c99_ZPlusC99_put(v42, v43, v44, &v45, &v46);
	TUP* v47;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_19, branch_Str_22, &v47);
	STR* v48;
	STRLIT(v48, "tup_new(", 8);
	TUP* v49;
	TUP* v50;
	mw_mirth_c99_ZPlusC99_put(v45, v46, v48, &v49, &v50);
	incref(MKINT(branch_Nat_18));
	STR* v51 = int_to_str(branch_Nat_18);
	TUP* v52;
	TUP* v53;
	mw_mirth_c99_ZPlusC99_put(v49, v50, v51, &v52, &v53);
	STR* v54;
	STRLIT(v54, ")", 1);
	TUP* v55;
	TUP* v56;
	mw_mirth_c99_ZPlusC99_put(v52, v53, v54, &v55, &v56);
	STR* v57;
	STRLIT(v57, ";", 1);
	TUP* v58;
	TUP* v59;
	mw_mirth_c99_ZPlusC99_put(v55, v56, v57, &v58, &v59);
	TUP* v60;
	TUP* v61;
	mw_mirth_c99_ZPlusC99_line(v58, v59, &v60, &v61);
	v61->cells[3] = MKBOOL(v32);
	branch_ZPlusC99Branch_23->cells[0] = MKTUP(v61, 6);
	STR* v62 = value_str(v47->cells[1]);
	incref(MKSTR(v62));
	bool v63 = value_bool(branch_ZPlusC99Branch_23->cells[3]);
	TUP* v64 = value_tup(branch_ZPlusC99Branch_23->cells[0], 6);
	bool v65 = value_bool(v64->cells[3]);
	bool v66 = (v63 && v65);
	v64->cells[3] = MKBOOL(v66);
	TUP* v67;
	TUP* v68;
	mw_mirth_c99_ZPlusC99_indent(v60, v64, &v67, &v68);
	incref(MKSTR(v62));
	TUP* v69;
	TUP* v70;
	mw_mirth_c99_ZPlusC99_put(v67, v68, v62, &v69, &v70);
	STR* v71;
	STRLIT(v71, "->size = ", 9);
	TUP* v72;
	TUP* v73;
	mw_mirth_c99_ZPlusC99_put(v69, v70, v71, &v72, &v73);
	incref(MKINT(branch_Nat_18));
	STR* v74 = int_to_str(branch_Nat_18);
	TUP* v75;
	TUP* v76;
	mw_mirth_c99_ZPlusC99_put(v72, v73, v74, &v75, &v76);
	STR* v77;
	STRLIT(v77, ";", 1);
	TUP* v78;
	TUP* v79;
	mw_mirth_c99_ZPlusC99_put(v75, v76, v77, &v78, &v79);
	TUP* v80;
	TUP* v81;
	mw_mirth_c99_ZPlusC99_line(v78, v79, &v80, &v81);
	v81->cells[3] = MKBOOL(v65);
	branch_ZPlusC99Branch_23->cells[0] = MKTUP(v81, 6);
	INT v82 = WRAP_I63(1LL);
	INT v83 = int_sub(branch_Nat_18, v82);
	incref(MKINT(v83));
	INT v84 = WRAP_I63(0LL);
	bool v85 = int_le(v84, v83);
	INT branch_Nat_86;
	if (v85) {
		branch_Nat_86 = v83;
	} else {
		decref(MKINT(v83));
		INT v87 = WRAP_I63(0LL);
		branch_Nat_86 = v87;
	}
	VAL v88 = mw_std_list_List_1_reverse(in_List_4);
	bool v89 = true;
	INT v90 = branch_Nat_86;
	STR* v91 = v62;
	TUP* v92 = v80;
	TUP* v93 = branch_ZPlusC99Branch_23;
	VAL v94 = v88;
	bool v95 = v89;
	bool v96 = v89;
	while (v96) {
		INT v97 = v90;
		STR* v98 = v91;
		TUP* v99 = v92;
		TUP* v100 = v93;
		VAL v101 = v94;
		bool v102 = v95;
		STR* branch_Str_103;
		TUP* branch_ZPlusMirth_104;
		TUP* branch_ZPlusC99Branch_105;
		INT branch_Nat_106;
		VAL branch_List_107;
		bool branch_Bool_108;
		switch (get_data_tag(v101)) {
			case 1LL: { // Cons
				VAL v109;
				VAL v110 = mtp_std_list_List_1_Cons(v101, &v109);
				INT branch_Nat_111;
				STR* branch_Str_112;
				TUP* branch_ZPlusMirth_113;
				TUP* branch_ZPlusC99Branch_114;
				STR* branch_Str_115;
				switch (get_data_tag(v110)) {
					case 0LL: { // Cons
						VAL v116 = mtp_mirth_type_StackTypePart_Cons(v110);
						TUP* v117;
						TUP* v118;
						VAL v119 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v99, v100, v116, &v117, &v118);
						TUP* v120;
						TUP* v121;
						TUP* v122;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v117, v118, v119, &v120, &v121, &v122);
						STR* v123 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v122);
						branch_Str_115 = v123;
						branch_ZPlusC99Branch_114 = v121;
						branch_ZPlusMirth_113 = v120;
						branch_Str_112 = v98;
						branch_Nat_111 = v97;
					} break;
					case 2LL: { // With
						VAL v124 = mtp_mirth_type_StackTypePart_With(v110);
						TUP* v125;
						TUP* v126;
						VAL v127 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v99, v100, v124, &v125, &v126);
						TUP* v128;
						TUP* v129;
						TUP* v130;
						mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v125, v126, v127, &v128, &v129, &v130);
						STR* v131 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v130);
						branch_Str_115 = v131;
						branch_ZPlusC99Branch_114 = v129;
						branch_ZPlusMirth_113 = v128;
						branch_Str_112 = v98;
						branch_Nat_111 = v97;
					} break;
					case 1LL: { // ConsLabel
						uint64_t v132;
						VAL v133 = mtp_mirth_type_StackTypePart_ConsLabel(v110, &v132);
						TUP* v134;
						TUP* v135;
						VAL v136 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v99, v100, v133, &v134, &v135);
						TUP* v137;
						TUP* v138;
						TUP* v139;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v134, v135, v136, v132, &v137, &v138, &v139);
						STR* v140 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v139);
						branch_Str_115 = v140;
						branch_ZPlusC99Branch_114 = v138;
						branch_ZPlusMirth_113 = v137;
						branch_Str_112 = v98;
						branch_Nat_111 = v97;
					} break;
					case 3LL: { // WithLabel
						uint64_t v141;
						VAL v142 = mtp_mirth_type_StackTypePart_WithLabel(v110, &v141);
						TUP* v143;
						TUP* v144;
						VAL v145 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v99, v100, v142, &v143, &v144);
						TUP* v146;
						TUP* v147;
						TUP* v148;
						mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v143, v144, v145, v141, &v146, &v147, &v148);
						STR* v149 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v148);
						branch_Str_115 = v149;
						branch_ZPlusC99Branch_114 = v147;
						branch_ZPlusMirth_113 = v146;
						branch_Str_112 = v98;
						branch_Nat_111 = v97;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v150 = value_bool(branch_ZPlusC99Branch_114->cells[3]);
				TUP* v151 = value_tup(branch_ZPlusC99Branch_114->cells[0], 6);
				bool v152 = value_bool(v151->cells[3]);
				bool v153 = (v150 && v152);
				v151->cells[3] = MKBOOL(v153);
				TUP* v154;
				TUP* v155;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_113, v151, &v154, &v155);
				incref(MKSTR(branch_Str_112));
				TUP* v156;
				TUP* v157;
				mw_mirth_c99_ZPlusC99_put(v154, v155, branch_Str_112, &v156, &v157);
				STR* v158;
				STRLIT(v158, "->cells[", 8);
				TUP* v159;
				TUP* v160;
				mw_mirth_c99_ZPlusC99_put(v156, v157, v158, &v159, &v160);
				incref(MKINT(branch_Nat_111));
				STR* v161 = int_to_str(branch_Nat_111);
				TUP* v162;
				TUP* v163;
				mw_mirth_c99_ZPlusC99_put(v159, v160, v161, &v162, &v163);
				STR* v164;
				STRLIT(v164, "] = ", 4);
				TUP* v165;
				TUP* v166;
				mw_mirth_c99_ZPlusC99_put(v162, v163, v164, &v165, &v166);
				TUP* v167;
				TUP* v168;
				mw_mirth_c99_ZPlusC99_put(v165, v166, branch_Str_115, &v167, &v168);
				STR* v169;
				STRLIT(v169, ";", 1);
				TUP* v170;
				TUP* v171;
				mw_mirth_c99_ZPlusC99_put(v167, v168, v169, &v170, &v171);
				TUP* v172;
				TUP* v173;
				mw_mirth_c99_ZPlusC99_line(v170, v171, &v172, &v173);
				v173->cells[3] = MKBOOL(v152);
				branch_ZPlusC99Branch_114->cells[0] = MKTUP(v173, 6);
				INT v174 = WRAP_I63(1LL);
				INT v175 = int_sub(branch_Nat_111, v174);
				incref(MKINT(v175));
				INT v176 = WRAP_I63(0LL);
				bool v177 = int_le(v176, v175);
				INT branch_Nat_178;
				if (v177) {
					branch_Nat_178 = v175;
				} else {
					decref(MKINT(v175));
					INT v179 = WRAP_I63(0LL);
					branch_Nat_178 = v179;
				}
				bool v180 = true;
				branch_Bool_108 = v180;
				branch_List_107 = v109;
				branch_Nat_106 = branch_Nat_178;
				branch_ZPlusC99Branch_105 = branch_ZPlusC99Branch_114;
				branch_ZPlusMirth_104 = v172;
				branch_Str_103 = branch_Str_112;
			} break;
			case 0LL: { // Nil
				VAL v181 = MKI64(0LL /* Nil */);
				bool v182 = false;
				branch_Bool_108 = v182;
				branch_List_107 = v181;
				branch_Nat_106 = v97;
				branch_ZPlusC99Branch_105 = v100;
				branch_ZPlusMirth_104 = v99;
				branch_Str_103 = v98;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v96 = branch_Bool_108;
		v95 = branch_Bool_108;
		v94 = branch_List_107;
		v93 = branch_ZPlusC99Branch_105;
		v92 = branch_ZPlusMirth_104;
		v91 = branch_Str_103;
		v90 = branch_Nat_106;
	}
	decref(v94);
	decref(MKINT(v90));
	STR* branch_Str_183;
	TUP* branch_ZPlusMirth_184;
	TUP* branch_ZPlusC99Branch_185;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v186 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			bool v187 = value_bool(v93->cells[3]);
			TUP* v188 = value_tup(v93->cells[0], 6);
			bool v189 = value_bool(v188->cells[3]);
			bool v190 = (v187 && v189);
			v188->cells[3] = MKBOOL(v190);
			TUP* v191;
			TUP* v192;
			mw_mirth_c99_ZPlusC99_indent(v92, v188, &v191, &v192);
			incref(MKSTR(v91));
			TUP* v193;
			TUP* v194;
			mw_mirth_c99_ZPlusC99_put(v191, v192, v91, &v193, &v194);
			STR* v195;
			STRLIT(v195, "->cells[0] = MKI64(", 19);
			TUP* v196;
			TUP* v197;
			mw_mirth_c99_ZPlusC99_put(v193, v194, v195, &v196, &v197);
			TUP* v198;
			TUP* v199;
			mw_mirth_c99_ZPlusC99_tagZ_valueZ_put(v196, v197, value_u64(v186), &v198, &v199);
			STR* v200;
			STRLIT(v200, ");", 2);
			TUP* v201;
			TUP* v202;
			mw_mirth_c99_ZPlusC99_put(v198, v199, v200, &v201, &v202);
			TUP* v203;
			TUP* v204;
			mw_mirth_c99_ZPlusC99_line(v201, v202, &v203, &v204);
			v204->cells[3] = MKBOOL(v189);
			v93->cells[0] = MKTUP(v204, 6);
			branch_ZPlusC99Branch_185 = v93;
			branch_ZPlusMirth_184 = v203;
			branch_Str_183 = v91;
		} break;
		case 0LL: { // None
			branch_ZPlusC99Branch_185 = v93;
			branch_ZPlusMirth_184 = v92;
			branch_Str_183 = v91;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(MKSTR(branch_Str_183));
	*out_ZPlusC99Resource_7 = v47;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_185;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_184;
}
static void mw_mirth_c99_c99Z_unpackZ_tupleZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, VAL in_Maybe_4, VAL in_List_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7) {
	incref(in_Maybe_4);
	int64_t v8 = get_data_tag(in_Maybe_4);
	decref(in_Maybe_4);
	INT v9 = i64_to_int(v8);
	incref(in_List_5);
	INT v10 = mw_std_list_List_1_len(in_List_5);
	INT v11 = int_add(v9, v10);
	VAL v12 = mtw_mirth_c99_C99ReprType_TUP(v11);
	STR* v13 = mw_mirth_c99_ZPlusC99Resource_consumeZ_as(v12, in_ZPlusC99Resource_3);
	int64_t v14 = get_data_tag(in_Maybe_4);
	decref(in_Maybe_4);
	INT v15 = i64_to_int(v14);
	bool v16 = true;
	TUP* v17 = in_ZPlusMirth_1;
	TUP* v18 = in_ZPlusC99Branch_2;
	INT v19 = v15;
	STR* v20 = v13;
	VAL v21 = in_List_5;
	bool v22 = v16;
	bool v23 = v16;
	while (v23) {
		TUP* v24 = v17;
		TUP* v25 = v18;
		INT v26 = v19;
		STR* v27 = v20;
		VAL v28 = v21;
		bool v29 = v22;
		STR* branch_Str_30;
		TUP* branch_ZPlusMirth_31;
		TUP* branch_ZPlusC99Branch_32;
		INT branch_Nat_33;
		VAL branch_List_34;
		bool branch_Bool_35;
		switch (get_data_tag(v28)) {
			case 1LL: { // Cons
				VAL v36;
				VAL v37 = mtp_std_list_List_1_Cons(v28, &v36);
				STR* v38;
				STRLIT(v38, "", 0);
				incref(MKSTR(v27));
				STR* v39;
				mw_std_str_ZPlusStr_pushZ_strZBang(v27, v38, &v39);
				STR* v40;
				STRLIT(v40, "->cells[", 8);
				STR* v41;
				mw_std_str_ZPlusStr_pushZ_strZBang(v40, v39, &v41);
				incref(MKINT(v26));
				STR* v42 = int_to_str(v26);
				STR* v43;
				mw_std_str_ZPlusStr_pushZ_strZBang(v42, v41, &v43);
				STR* v44;
				STRLIT(v44, "]", 1);
				STR* v45;
				mw_std_str_ZPlusStr_pushZ_strZBang(v44, v43, &v45);
				STR* branch_Str_46;
				INT branch_Nat_47;
				TUP* branch_ZPlusMirth_48;
				TUP* branch_ZPlusC99Branch_49;
				switch (get_data_tag(v37)) {
					case 0LL: { // Cons
						VAL v50 = mtp_mirth_type_StackTypePart_Cons(v37);
						TUP* v51;
						TUP* v52;
						VAL v53 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v24, v25, v50, &v51, &v52);
						incref(v53);
						TUP* v54;
						TUP* v55;
						TUP* v56;
						mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp9(v45, v53, v51, v52, v53, &v54, &v55, &v56);
						TUP* v57;
						TUP* v58;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v54, v55, v56, &v57, &v58);
						branch_ZPlusC99Branch_49 = v58;
						branch_ZPlusMirth_48 = v57;
						branch_Nat_47 = v26;
						branch_Str_46 = v27;
					} break;
					case 2LL: { // With
						VAL v59 = mtp_mirth_type_StackTypePart_With(v37);
						TUP* v60;
						TUP* v61;
						VAL v62 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v24, v25, v59, &v60, &v61);
						incref(v62);
						TUP* v63;
						TUP* v64;
						TUP* v65;
						mw_mirth_c99_C99ReprType_resourceZ_expressionZBang_1_sp5(v45, v62, v60, v61, v62, &v63, &v64, &v65);
						TUP* v66;
						TUP* v67;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v63, v64, v65, &v66, &v67);
						branch_ZPlusC99Branch_49 = v67;
						branch_ZPlusMirth_48 = v66;
						branch_Nat_47 = v26;
						branch_Str_46 = v27;
					} break;
					case 1LL: { // ConsLabel
						uint64_t v68;
						VAL v69 = mtp_mirth_type_StackTypePart_ConsLabel(v37, &v68);
						TUP* v70;
						TUP* v71;
						VAL v72 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v24, v25, v69, &v70, &v71);
						incref(v72);
						TUP* v73;
						TUP* v74;
						TUP* v75;
						mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp9(v45, v72, v70, v71, v72, &v73, &v74, &v75);
						TUP* v76;
						TUP* v77;
						mw_mirth_c99_pushZ_valueZ_labelZBang(v73, v74, v68, v75, &v76, &v77);
						branch_ZPlusC99Branch_49 = v77;
						branch_ZPlusMirth_48 = v76;
						branch_Nat_47 = v26;
						branch_Str_46 = v27;
					} break;
					case 3LL: { // WithLabel
						uint64_t v78;
						VAL v79 = mtp_mirth_type_StackTypePart_WithLabel(v37, &v78);
						TUP* v80;
						TUP* v81;
						VAL v82 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v24, v25, v79, &v80, &v81);
						incref(v82);
						TUP* v83;
						TUP* v84;
						TUP* v85;
						mw_mirth_c99_C99ReprType_resourceZ_expressionZBang_1_sp5(v45, v82, v80, v81, v82, &v83, &v84, &v85);
						TUP* v86;
						TUP* v87;
						mw_mirth_c99_pushZ_resourceZ_labelZBang(v83, v84, v78, v85, &v86, &v87);
						branch_ZPlusC99Branch_49 = v87;
						branch_ZPlusMirth_48 = v86;
						branch_Nat_47 = v26;
						branch_Str_46 = v27;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				INT v88 = WRAP_I63(1LL);
				INT v89 = int_add(branch_Nat_47, v88);
				bool v90 = true;
				branch_Bool_35 = v90;
				branch_List_34 = v36;
				branch_Nat_33 = v89;
				branch_ZPlusC99Branch_32 = branch_ZPlusC99Branch_49;
				branch_ZPlusMirth_31 = branch_ZPlusMirth_48;
				branch_Str_30 = branch_Str_46;
			} break;
			case 0LL: { // Nil
				VAL v91 = MKI64(0LL /* Nil */);
				bool v92 = false;
				branch_Bool_35 = v92;
				branch_List_34 = v91;
				branch_Nat_33 = v26;
				branch_ZPlusC99Branch_32 = v25;
				branch_ZPlusMirth_31 = v24;
				branch_Str_30 = v27;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v23 = branch_Bool_35;
		v22 = branch_Bool_35;
		v21 = branch_List_34;
		v20 = branch_Str_30;
		v19 = branch_Nat_33;
		v18 = branch_ZPlusC99Branch_32;
		v17 = branch_ZPlusMirth_31;
	}
	decref(v21);
	bool v93 = value_bool(v18->cells[3]);
	TUP* v94 = value_tup(v18->cells[0], 6);
	bool v95 = value_bool(v94->cells[3]);
	bool v96 = (v93 && v95);
	v94->cells[3] = MKBOOL(v96);
	TUP* v97;
	TUP* v98;
	mw_mirth_c99_ZPlusC99_indent(v17, v94, &v97, &v98);
	STR* v99;
	STRLIT(v99, "tup_decref_outer(", 17);
	TUP* v100;
	TUP* v101;
	mw_mirth_c99_ZPlusC99_put(v97, v98, v99, &v100, &v101);
	TUP* v102;
	TUP* v103;
	mw_mirth_c99_ZPlusC99_put(v100, v101, v20, &v102, &v103);
	STR* v104;
	STRLIT(v104, ",", 1);
	TUP* v105;
	TUP* v106;
	mw_mirth_c99_ZPlusC99_put(v102, v103, v104, &v105, &v106);
	STR* v107 = int_to_str(v19);
	TUP* v108;
	TUP* v109;
	mw_mirth_c99_ZPlusC99_put(v105, v106, v107, &v108, &v109);
	STR* v110;
	STRLIT(v110, ");", 2);
	TUP* v111;
	TUP* v112;
	mw_mirth_c99_ZPlusC99_put(v108, v109, v110, &v111, &v112);
	TUP* v113;
	TUP* v114;
	mw_mirth_c99_ZPlusC99_line(v111, v112, &v113, &v114);
	v114->cells[3] = MKBOOL(v95);
	v18->cells[0] = MKTUP(v114, 6);
	*out_ZPlusC99Branch_7 = v18;
	*out_ZPlusMirth_6 = v113;
}
static INT mw_mirth_c99_c99Z_tagZ_labelZ_index (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6) {
	TUP* v8;
	VAL v9 = mw_mirth_data_Tag_inputs(in_ZPlusMirth_1, in_Tag_3, &v8);
	incref(v9);
	INT v10 = mw_std_list_List_1_len(v9);
	TUP* v11;
	bool v12 = mw_mirth_data_Tag_onlyZ_tagZAsk(v8, in_Tag_3, &v11);
	uint64_t branch_Label_13;
	TUP* branch_ZPlusC99_14;
	VAL branch_List_15;
	INT branch_Nat_16;
	TUP* branch_ZPlusMirth_17;
	if (v12) {
		branch_ZPlusMirth_17 = v11;
		branch_Nat_16 = v10;
		branch_List_15 = v9;
		branch_ZPlusC99_14 = in_ZPlusC99_2;
		branch_Label_13 = in_Label_4;
	} else {
		INT v18 = WRAP_I63(1LL);
		INT v19 = int_add(v10, v18);
		branch_ZPlusMirth_17 = v11;
		branch_Nat_16 = v19;
		branch_List_15 = v9;
		branch_ZPlusC99_14 = in_ZPlusC99_2;
		branch_Label_13 = in_Label_4;
	}
	VAL v20 = mw_std_list_List_1_reverse(branch_List_15);
	VAL v21 = MKI64(0LL /* None */);
	bool v22 = true;
	uint64_t v23 = branch_Label_13;
	INT v24 = branch_Nat_16;
	VAL v25 = v21;
	VAL v26 = v20;
	bool v27 = v22;
	bool v28 = v22;
	while (v28) {
		uint64_t v29 = v23;
		INT v30 = v24;
		VAL v31 = v25;
		VAL v32 = v26;
		bool v33 = v27;
		VAL v34;
		VAL v35 = mw_std_list_List_1_uncons(v32, &v34);
		INT branch_Nat_36;
		uint64_t branch_Label_37;
		VAL branch_Maybe_38;
		VAL branch_List_39;
		bool branch_Bool_40;
		switch (get_data_tag(v35)) {
			case 1LL: { // Some
				VAL v41 = mtp_std_maybe_Maybe_1_Some(v35);
				incref(v41);
				INT v42 = WRAP_I63(1LL);
				INT v43 = int_sub(v30, v42);
				incref(MKINT(v43));
				INT v44 = WRAP_I63(0LL);
				bool v45 = int_le(v44, v43);
				INT branch_Nat_46;
				if (v45) {
					branch_Nat_46 = v43;
				} else {
					decref(MKINT(v43));
					INT v47 = WRAP_I63(0LL);
					branch_Nat_46 = v47;
				}
				VAL v48 = mw_mirth_type_StackTypePart_label(v41);
				uint64_t branch_Label_49;
				bool branch_Bool_50;
				switch (get_data_tag(v48)) {
					case 1LL: { // Some
						VAL v51 = mtp_std_maybe_Maybe_1_Some(v48);
						bool v52 = mw_mirth_label_Label_ZEqual(value_u64(v51), v29);
						branch_Bool_50 = v52;
						branch_Label_49 = v29;
					} break;
					case 0LL: { // None
						bool v53 = false;
						branch_Bool_50 = v53;
						branch_Label_49 = v29;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				INT branch_Nat_54;
				uint64_t branch_Label_55;
				VAL branch_Maybe_56;
				if (branch_Bool_50) {
					VAL v57 = mtw_std_maybe_Maybe_1_Some(v41);
					branch_Maybe_56 = v57;
					branch_Label_55 = branch_Label_49;
					branch_Nat_54 = branch_Nat_46;
				} else {
					decref(v41);
					VAL v58 = MKI64(0LL /* None */);
					branch_Maybe_56 = v58;
					branch_Label_55 = branch_Label_49;
					branch_Nat_54 = branch_Nat_46;
				}
				INT branch_Nat_59;
				uint64_t branch_Label_60;
				VAL branch_Maybe_61;
				VAL branch_List_62;
				switch (get_data_tag(branch_Maybe_56)) {
					case 0LL: { // None
						branch_List_62 = v34;
						branch_Maybe_61 = v31;
						branch_Label_60 = branch_Label_55;
						branch_Nat_59 = branch_Nat_54;
					} break;
					default: {
						decref(v34);
						decref(v31);
						VAL v63 = MKI64(0LL /* Nil */);
						branch_List_62 = v63;
						branch_Maybe_61 = branch_Maybe_56;
						branch_Label_60 = branch_Label_55;
						branch_Nat_59 = branch_Nat_54;
					} break;
				}
				bool v64 = true;
				branch_Bool_40 = v64;
				branch_List_39 = branch_List_62;
				branch_Maybe_38 = branch_Maybe_61;
				branch_Label_37 = branch_Label_60;
				branch_Nat_36 = branch_Nat_59;
			} break;
			case 0LL: { // None
				bool v65 = false;
				branch_Bool_40 = v65;
				branch_List_39 = v34;
				branch_Maybe_38 = v31;
				branch_Label_37 = v29;
				branch_Nat_36 = v30;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v28 = branch_Bool_40;
		v27 = branch_Bool_40;
		v26 = branch_List_39;
		v25 = branch_Maybe_38;
		v24 = branch_Nat_36;
		v23 = branch_Label_37;
	}
	decref(v26);
	decref(v25);
	*out_ZPlusC99_6 = branch_ZPlusC99_14;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_17;
	return v24;
}
static void mw_mirth_c99_c99Z_tagZ_getZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_TagField_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	uint64_t v6;
	uint64_t v7;
	VAL v8;
	mtp_mirth_data_TagField_TagField(in_TagField_3, &v6, &v7, &v8);
	TUP* v9;
	VAL v10 = mw_mirth_data_Tag_semiZ_transparentZAsk(in_ZPlusMirth_1, v6, &v9);
	int64_t v11 = get_data_tag(v10);
	decref(v10);
	INT v12 = WRAP_I63(0LL);
	INT v13 = i64_to_int(v11);
	bool v14 = int_eq(v13, v12);
	bool v15 = !v14;
	uint64_t branch_Label_16;
	uint64_t branch_Tag_17;
	TUP* branch_ZPlusMirth_18;
	TUP* branch_ZPlusC99Branch_19;
	if (v15) {
		uint64_t branch_Label_20;
		uint64_t branch_Tag_21;
		TUP* branch_ZPlusMirth_22;
		TUP* branch_ZPlusC99Branch_23;
		switch (get_data_tag(v8)) {
			case 0LL: { // Left
				VAL v24 = mtp_std_either_Either_2_Left(v8);
				TUP* v25;
				bool v26 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v9, v6, &v25);
				uint64_t branch_Label_27;
				uint64_t branch_Tag_28;
				TUP* branch_ZPlusMirth_29;
				TUP* branch_ZPlusC99Branch_30;
				if (v26) {
					TUP* v31;
					TUP* v32;
					VAL v33 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v25, in_ZPlusC99Branch_2, v24, &v31, &v32);
					TUP* v34;
					TUP* v35;
					TUP* v36;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v31, v32, v33, &v34, &v35, &v36);
					TUP* v37;
					TUP* v38;
					TUP* v39;
					TUP* v40;
					mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang(v34, v35, v36, &v37, &v38, &v39, &v40);
					TUP* v41;
					TUP* v42;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v37, v38, v39, &v41, &v42);
					TUP* v43;
					TUP* v44;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v41, v42, v40, &v43, &v44);
					branch_ZPlusC99Branch_30 = v44;
					branch_ZPlusMirth_29 = v43;
					branch_Tag_28 = v6;
					branch_Label_27 = v7;
				} else {
					decref(v24);
					branch_ZPlusC99Branch_30 = in_ZPlusC99Branch_2;
					branch_ZPlusMirth_29 = v25;
					branch_Tag_28 = v6;
					branch_Label_27 = v7;
				}
				branch_ZPlusC99Branch_23 = branch_ZPlusC99Branch_30;
				branch_ZPlusMirth_22 = branch_ZPlusMirth_29;
				branch_Tag_21 = branch_Tag_28;
				branch_Label_20 = branch_Label_27;
			} break;
			case 1LL: { // Right
				VAL v45 = mtp_std_either_Either_2_Right(v8);
				decref(v45);
				VAL v46 = MKI64(5LL /* I64 */);
				incref(v46);
				int64_t v47 = get_data_tag(v46);
				decref(v46);
				INT v48 = WRAP_I63(0LL);
				INT v49 = i64_to_int(v47);
				bool v50 = int_eq(v49, v48);
				bool v51 = !v50;
				VAL branch_C99ReprType_52;
				bool branch_Bool_53;
				TUP* branch_ZPlusMirth_54;
				STR* branch_Str_55;
				TUP* branch_ZPlusC99Branch_56;
				if (v51) {
					TUP* v57 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
					TUP* v58;
					TUP* v59;
					STR* v60 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v9, v57, &v58, &v59);
					in_ZPlusC99Branch_2->cells[0] = MKTUP(v59, 6);
					branch_ZPlusC99Branch_56 = in_ZPlusC99Branch_2;
					branch_Str_55 = v60;
					branch_ZPlusMirth_54 = v58;
					branch_Bool_53 = v51;
					branch_C99ReprType_52 = v46;
				} else {
					STR* v61;
					STRLIT(v61, "0", 1);
					branch_ZPlusC99Branch_56 = in_ZPlusC99Branch_2;
					branch_Str_55 = v61;
					branch_ZPlusMirth_54 = v9;
					branch_Bool_53 = v51;
					branch_C99ReprType_52 = v46;
				}
				bool v62 = value_bool(branch_ZPlusC99Branch_56->cells[3]);
				bool v63 = (branch_Bool_53 && v62);
				TUP* v64 = value_tup(branch_ZPlusC99Branch_56->cells[0], 6);
				bool v65 = value_bool(v64->cells[3]);
				bool v66 = (v63 && v65);
				v64->cells[3] = MKBOOL(v66);
				TUP* v67;
				TUP* v68;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_54, v64, &v67, &v68);
				incref(branch_C99ReprType_52);
				STR* v69 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_52);
				TUP* v70;
				TUP* v71;
				mw_mirth_c99_ZPlusC99_put(v67, v68, v69, &v70, &v71);
				STR* v72;
				STRLIT(v72, " ", 1);
				TUP* v73;
				TUP* v74;
				mw_mirth_c99_ZPlusC99_put(v70, v71, v72, &v73, &v74);
				incref(MKSTR(branch_Str_55));
				TUP* v75;
				TUP* v76;
				mw_mirth_c99_ZPlusC99_put(v73, v74, branch_Str_55, &v75, &v76);
				STR* v77;
				STRLIT(v77, " = ", 3);
				TUP* v78;
				TUP* v79;
				mw_mirth_c99_ZPlusC99_put(v75, v76, v77, &v78, &v79);
				TUP* v80;
				mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_52, branch_Str_55, &v80);
				STR* v81;
				STRLIT(v81, "0", 1);
				TUP* v82;
				TUP* v83;
				mw_mirth_c99_ZPlusC99_put(v78, v79, v81, &v82, &v83);
				STR* v84;
				STRLIT(v84, ";", 1);
				TUP* v85;
				TUP* v86;
				mw_mirth_c99_ZPlusC99_put(v82, v83, v84, &v85, &v86);
				TUP* v87;
				TUP* v88;
				mw_mirth_c99_ZPlusC99_line(v85, v86, &v87, &v88);
				v88->cells[3] = MKBOOL(v65);
				branch_ZPlusC99Branch_56->cells[0] = MKTUP(v88, 6);
				TUP* v89;
				TUP* v90;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v87, branch_ZPlusC99Branch_56, v80, &v89, &v90);
				branch_ZPlusC99Branch_23 = v90;
				branch_ZPlusMirth_22 = v89;
				branch_Tag_21 = v6;
				branch_Label_20 = v7;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_19 = branch_ZPlusC99Branch_23;
		branch_ZPlusMirth_18 = branch_ZPlusMirth_22;
		branch_Tag_17 = branch_Tag_21;
		branch_Label_16 = branch_Label_20;
	} else {
		TUP* v91;
		uint64_t v92 = mw_mirth_data_Tag_data(v9, v6, &v91);
		TUP* v93;
		TUP* v94;
		VAL v95;
		mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v91, in_ZPlusC99Branch_2, v92, &v93, &v94, &v95);
		VAL v96;
		VAL v97;
		mw_mirth_c99_ZPlusC99ValueZDivResource_rdup(v95, &v96, &v97);
		STR* v98 = mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_TUP(v96);
		STR* branch_Str_99;
		uint64_t branch_Tag_100;
		uint64_t branch_Label_101;
		TUP* branch_ZPlusMirth_102;
		TUP* branch_ZPlusC99Branch_103;
		switch (get_data_tag(v8)) {
			case 0LL: { // Left
				VAL v104 = mtp_std_either_Either_2_Left(v8);
				TUP* v105;
				TUP* v106;
				VAL v107 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v93, v94, v104, &v105, &v106);
				incref(v107);
				incref(v107);
				int64_t v108 = get_data_tag(v107);
				decref(v107);
				INT v109 = WRAP_I63(0LL);
				INT v110 = i64_to_int(v108);
				bool v111 = int_eq(v110, v109);
				bool v112 = !v111;
				uint64_t branch_Label_113;
				uint64_t branch_Tag_114;
				STR* branch_Str_115;
				VAL branch_C99ReprType_116;
				VAL branch_C99ReprType_117;
				bool branch_Bool_118;
				TUP* branch_ZPlusMirth_119;
				STR* branch_Str_120;
				TUP* branch_ZPlusC99Branch_121;
				if (v112) {
					TUP* v122 = value_tup(v106->cells[0], 6);
					TUP* v123;
					TUP* v124;
					STR* v125 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v105, v122, &v123, &v124);
					v106->cells[0] = MKTUP(v124, 6);
					branch_ZPlusC99Branch_121 = v106;
					branch_Str_120 = v125;
					branch_ZPlusMirth_119 = v123;
					branch_Bool_118 = v112;
					branch_C99ReprType_117 = v107;
					branch_C99ReprType_116 = v107;
					branch_Str_115 = v98;
					branch_Tag_114 = v6;
					branch_Label_113 = v7;
				} else {
					STR* v126;
					STRLIT(v126, "0", 1);
					branch_ZPlusC99Branch_121 = v106;
					branch_Str_120 = v126;
					branch_ZPlusMirth_119 = v105;
					branch_Bool_118 = v112;
					branch_C99ReprType_117 = v107;
					branch_C99ReprType_116 = v107;
					branch_Str_115 = v98;
					branch_Tag_114 = v6;
					branch_Label_113 = v7;
				}
				bool v127 = value_bool(branch_ZPlusC99Branch_121->cells[3]);
				bool v128 = (branch_Bool_118 && v127);
				TUP* v129 = value_tup(branch_ZPlusC99Branch_121->cells[0], 6);
				bool v130 = value_bool(v129->cells[3]);
				bool v131 = (v128 && v130);
				v129->cells[3] = MKBOOL(v131);
				TUP* v132;
				TUP* v133;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_119, v129, &v132, &v133);
				incref(branch_C99ReprType_117);
				STR* v134 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_117);
				TUP* v135;
				TUP* v136;
				mw_mirth_c99_ZPlusC99_put(v132, v133, v134, &v135, &v136);
				STR* v137;
				STRLIT(v137, " ", 1);
				TUP* v138;
				TUP* v139;
				mw_mirth_c99_ZPlusC99_put(v135, v136, v137, &v138, &v139);
				incref(MKSTR(branch_Str_120));
				TUP* v140;
				TUP* v141;
				mw_mirth_c99_ZPlusC99_put(v138, v139, branch_Str_120, &v140, &v141);
				STR* v142;
				STRLIT(v142, " = ", 3);
				TUP* v143;
				TUP* v144;
				mw_mirth_c99_ZPlusC99_put(v140, v141, v142, &v143, &v144);
				TUP* v145;
				mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_117, branch_Str_120, &v145);
				STR* v146;
				uint64_t v147;
				uint64_t v148;
				TUP* v149;
				TUP* v150;
				mw_mirth_c99_C99ReprType_vZ_macro_1_sp1(branch_Label_113, branch_Tag_114, branch_Str_115, v143, v144, branch_C99ReprType_116, &v146, &v147, &v148, &v149, &v150);
				STR* v151;
				STRLIT(v151, ";", 1);
				TUP* v152;
				TUP* v153;
				mw_mirth_c99_ZPlusC99_put(v149, v150, v151, &v152, &v153);
				TUP* v154;
				TUP* v155;
				mw_mirth_c99_ZPlusC99_line(v152, v153, &v154, &v155);
				v155->cells[3] = MKBOOL(v130);
				branch_ZPlusC99Branch_121->cells[0] = MKTUP(v155, 6);
				TUP* v156;
				TUP* v157;
				TUP* v158;
				mw_mirth_c99_ZPlusC99Value_keepZ_valueZBang(v154, branch_ZPlusC99Branch_121, v145, &v156, &v157, &v158);
				TUP* v159;
				TUP* v160;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v156, v157, v158, &v159, &v160);
				TUP* branch_ZPlusMirth_161;
				TUP* branch_ZPlusC99Branch_162;
				switch (get_data_tag(v97)) {
					case 0LL: { // +Left
						VAL v163;
						mtp_std_either_ZPlusEither_2_ZPlusLeft(v97, &v163);
						TUP* v164;
						TUP* v165;
						mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v159, v160, value_tup(v163, 2), &v164, &v165);
						branch_ZPlusC99Branch_162 = v165;
						branch_ZPlusMirth_161 = v164;
					} break;
					case 1LL: { // +Right
						VAL v166;
						mtp_std_either_ZPlusEither_2_ZPlusRight(v97, &v166);
						TUP* v167;
						TUP* v168;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v159, v160, value_tup(v166, 2), &v167, &v168);
						branch_ZPlusC99Branch_162 = v168;
						branch_ZPlusMirth_161 = v167;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusC99Branch_103 = branch_ZPlusC99Branch_162;
				branch_ZPlusMirth_102 = branch_ZPlusMirth_161;
				branch_Label_101 = v148;
				branch_Tag_100 = v147;
				branch_Str_99 = v146;
			} break;
			case 1LL: { // Right
				VAL v169 = mtp_std_either_Either_2_Right(v8);
				TUP* v170;
				TUP* v171;
				VAL v172 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v93, v94, v169, &v170, &v171);
				incref(v172);
				incref(v172);
				int64_t v173 = get_data_tag(v172);
				decref(v172);
				INT v174 = WRAP_I63(0LL);
				INT v175 = i64_to_int(v173);
				bool v176 = int_eq(v175, v174);
				bool v177 = !v176;
				uint64_t branch_Label_178;
				uint64_t branch_Tag_179;
				STR* branch_Str_180;
				VAL branch_C99ReprType_181;
				VAL branch_C99ReprType_182;
				bool branch_Bool_183;
				TUP* branch_ZPlusMirth_184;
				STR* branch_Str_185;
				TUP* branch_ZPlusC99Branch_186;
				if (v177) {
					TUP* v187 = value_tup(v171->cells[0], 6);
					TUP* v188;
					TUP* v189;
					STR* v190 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v170, v187, &v188, &v189);
					v171->cells[0] = MKTUP(v189, 6);
					branch_ZPlusC99Branch_186 = v171;
					branch_Str_185 = v190;
					branch_ZPlusMirth_184 = v188;
					branch_Bool_183 = v177;
					branch_C99ReprType_182 = v172;
					branch_C99ReprType_181 = v172;
					branch_Str_180 = v98;
					branch_Tag_179 = v6;
					branch_Label_178 = v7;
				} else {
					STR* v191;
					STRLIT(v191, "0", 1);
					branch_ZPlusC99Branch_186 = v171;
					branch_Str_185 = v191;
					branch_ZPlusMirth_184 = v170;
					branch_Bool_183 = v177;
					branch_C99ReprType_182 = v172;
					branch_C99ReprType_181 = v172;
					branch_Str_180 = v98;
					branch_Tag_179 = v6;
					branch_Label_178 = v7;
				}
				bool v192 = value_bool(branch_ZPlusC99Branch_186->cells[3]);
				bool v193 = (branch_Bool_183 && v192);
				TUP* v194 = value_tup(branch_ZPlusC99Branch_186->cells[0], 6);
				bool v195 = value_bool(v194->cells[3]);
				bool v196 = (v193 && v195);
				v194->cells[3] = MKBOOL(v196);
				TUP* v197;
				TUP* v198;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_184, v194, &v197, &v198);
				incref(branch_C99ReprType_182);
				STR* v199 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_182);
				TUP* v200;
				TUP* v201;
				mw_mirth_c99_ZPlusC99_put(v197, v198, v199, &v200, &v201);
				STR* v202;
				STRLIT(v202, " ", 1);
				TUP* v203;
				TUP* v204;
				mw_mirth_c99_ZPlusC99_put(v200, v201, v202, &v203, &v204);
				incref(MKSTR(branch_Str_185));
				TUP* v205;
				TUP* v206;
				mw_mirth_c99_ZPlusC99_put(v203, v204, branch_Str_185, &v205, &v206);
				STR* v207;
				STRLIT(v207, " = ", 3);
				TUP* v208;
				TUP* v209;
				mw_mirth_c99_ZPlusC99_put(v205, v206, v207, &v208, &v209);
				TUP* v210;
				mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_182, branch_Str_185, &v210);
				STR* v211;
				uint64_t v212;
				uint64_t v213;
				TUP* v214;
				TUP* v215;
				mw_mirth_c99_C99ReprType_vZ_macro_1_sp1(branch_Label_178, branch_Tag_179, branch_Str_180, v208, v209, branch_C99ReprType_181, &v211, &v212, &v213, &v214, &v215);
				STR* v216;
				STRLIT(v216, ";", 1);
				TUP* v217;
				TUP* v218;
				mw_mirth_c99_ZPlusC99_put(v214, v215, v216, &v217, &v218);
				TUP* v219;
				TUP* v220;
				mw_mirth_c99_ZPlusC99_line(v217, v218, &v219, &v220);
				v220->cells[3] = MKBOOL(v195);
				branch_ZPlusC99Branch_186->cells[0] = MKTUP(v220, 6);
				TUP* v221;
				TUP* v222;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v219, branch_ZPlusC99Branch_186, v210, &v221, &v222);
				TUP* v223;
				TUP* v224;
				mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang(v221, v222, v97, &v223, &v224);
				branch_ZPlusC99Branch_103 = v224;
				branch_ZPlusMirth_102 = v223;
				branch_Label_101 = v213;
				branch_Tag_100 = v212;
				branch_Str_99 = v211;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		decref(MKSTR(branch_Str_99));
		branch_ZPlusC99Branch_19 = branch_ZPlusC99Branch_103;
		branch_ZPlusMirth_18 = branch_ZPlusMirth_102;
		branch_Tag_17 = branch_Tag_100;
		branch_Label_16 = branch_Label_101;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_19;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_18;
}
static void mw_mirth_c99_c99Z_tagZ_setZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_TagField_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	uint64_t v6;
	uint64_t v7;
	VAL v8;
	mtp_mirth_data_TagField_TagField(in_TagField_3, &v6, &v7, &v8);
	TUP* v9;
	VAL v10 = mw_mirth_data_Tag_semiZ_transparentZAsk(in_ZPlusMirth_1, v6, &v9);
	int64_t v11 = get_data_tag(v10);
	decref(v10);
	INT v12 = WRAP_I63(0LL);
	INT v13 = i64_to_int(v11);
	bool v14 = int_eq(v13, v12);
	bool v15 = !v14;
	uint64_t branch_Label_16;
	uint64_t branch_Tag_17;
	TUP* branch_ZPlusMirth_18;
	TUP* branch_ZPlusC99Branch_19;
	if (v15) {
		uint64_t branch_Label_20;
		uint64_t branch_Tag_21;
		TUP* branch_ZPlusMirth_22;
		TUP* branch_ZPlusC99Branch_23;
		switch (get_data_tag(v8)) {
			case 0LL: { // Left
				VAL v24 = mtp_std_either_Either_2_Left(v8);
				TUP* v25;
				uint64_t v26 = mw_mirth_data_Tag_data(v9, v6, &v25);
				TUP* v27;
				TUP* v28;
				VAL v29;
				mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v25, in_ZPlusC99Branch_2, v26, &v27, &v28, &v29);
				TUP* branch_ZPlusMirth_30;
				TUP* branch_ZPlusC99Branch_31;
				switch (get_data_tag(v29)) {
					case 0LL: { // +Left
						VAL v32;
						mtp_std_either_ZPlusEither_2_ZPlusLeft(v29, &v32);
						decref(v24);
						TUP* v33;
						TUP* v34;
						mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v27, v28, value_tup(v32, 2), &v33, &v34);
						branch_ZPlusC99Branch_31 = v34;
						branch_ZPlusMirth_30 = v33;
					} break;
					case 1LL: { // +Right
						VAL v35;
						mtp_std_either_ZPlusEither_2_ZPlusRight(v29, &v35);
						TUP* v36;
						TUP* v37;
						mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang(v27, v28, value_tup(v35, 2), &v36, &v37);
						TUP* v38;
						TUP* v39;
						VAL v40 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v36, v37, v24, &v38, &v39);
						TUP* v41;
						TUP* v42;
						TUP* v43;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v38, v39, v40, &v41, &v42, &v43);
						TUP* v44;
						mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v43, &v44);
						TUP* v45;
						TUP* v46;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v41, v42, v44, &v45, &v46);
						branch_ZPlusC99Branch_31 = v46;
						branch_ZPlusMirth_30 = v45;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusC99Branch_23 = branch_ZPlusC99Branch_31;
				branch_ZPlusMirth_22 = branch_ZPlusMirth_30;
				branch_Tag_21 = v6;
				branch_Label_20 = v7;
			} break;
			case 1LL: { // Right
				VAL v47 = mtp_std_either_Either_2_Right(v8);
				VAL v48 = MKI64(5LL /* I64 */);
				TUP* v49;
				TUP* v50;
				TUP* v51;
				mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v9, in_ZPlusC99Branch_2, v48, &v49, &v50, &v51);
				mw_mirth_c99_ZPlusC99Resource_rdrop(v51);
				decref(v47);
				branch_ZPlusC99Branch_23 = v50;
				branch_ZPlusMirth_22 = v49;
				branch_Tag_21 = v6;
				branch_Label_20 = v7;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_19 = branch_ZPlusC99Branch_23;
		branch_ZPlusMirth_18 = branch_ZPlusMirth_22;
		branch_Tag_17 = branch_Tag_21;
		branch_Label_16 = branch_Label_20;
	} else {
		TUP* v52;
		uint64_t v53 = mw_mirth_data_Tag_data(v9, v6, &v52);
		TUP* v54;
		TUP* v55;
		VAL v56;
		mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(v52, in_ZPlusC99Branch_2, v53, &v54, &v55, &v56);
		incref(v8);
		uint64_t branch_Label_57;
		uint64_t branch_Tag_58;
		VAL branch_ZPlusC99ValueZDivResource_59;
		VAL branch_Either_60;
		TUP* branch_ZPlusMirth_61;
		TUP* branch_ZPlusC99Branch_62;
		STR* branch_Str_63;
		switch (get_data_tag(v8)) {
			case 0LL: { // Left
				VAL v64 = mtp_std_either_Either_2_Left(v8);
				TUP* v65;
				TUP* v66;
				VAL v67 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v54, v55, v64, &v65, &v66);
				TUP* v68;
				TUP* v69;
				TUP* v70;
				mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v65, v66, v67, &v68, &v69, &v70);
				STR* v71 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v70);
				branch_Str_63 = v71;
				branch_ZPlusC99Branch_62 = v69;
				branch_ZPlusMirth_61 = v68;
				branch_Either_60 = v8;
				branch_ZPlusC99ValueZDivResource_59 = v56;
				branch_Tag_58 = v6;
				branch_Label_57 = v7;
			} break;
			case 1LL: { // Right
				VAL v72 = mtp_std_either_Either_2_Right(v8);
				TUP* v73;
				TUP* v74;
				VAL v75 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v54, v55, v72, &v73, &v74);
				TUP* v76;
				TUP* v77;
				TUP* v78;
				mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v73, v74, v75, &v76, &v77, &v78);
				STR* v79 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v78);
				branch_Str_63 = v79;
				branch_ZPlusC99Branch_62 = v77;
				branch_ZPlusMirth_61 = v76;
				branch_Either_60 = v8;
				branch_ZPlusC99ValueZDivResource_59 = v56;
				branch_Tag_58 = v6;
				branch_Label_57 = v7;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		uint64_t branch_Tag_80;
		uint64_t branch_Label_81;
		TUP* branch_ZPlusMirth_82;
		TUP* branch_ZPlusC99Branch_83;
		switch (get_data_tag(branch_ZPlusC99ValueZDivResource_59)) {
			case 0LL: { // +Left
				VAL v84;
				mtp_std_either_ZPlusEither_2_ZPlusLeft(branch_ZPlusC99ValueZDivResource_59, &v84);
				STR* v85 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(value_tup(v84, 2));
				VAL v86 = MKI64(1LL /* VAL */);
				incref(v86);
				int64_t v87 = get_data_tag(v86);
				decref(v86);
				INT v88 = WRAP_I63(0LL);
				INT v89 = i64_to_int(v87);
				bool v90 = int_eq(v89, v88);
				bool v91 = !v90;
				STR* branch_Str_92;
				uint64_t branch_Label_93;
				uint64_t branch_Tag_94;
				STR* branch_Str_95;
				VAL branch_C99ReprType_96;
				bool branch_Bool_97;
				TUP* branch_ZPlusMirth_98;
				STR* branch_Str_99;
				TUP* branch_ZPlusC99Branch_100;
				if (v91) {
					TUP* v101 = value_tup(branch_ZPlusC99Branch_62->cells[0], 6);
					TUP* v102;
					TUP* v103;
					STR* v104 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(branch_ZPlusMirth_61, v101, &v102, &v103);
					branch_ZPlusC99Branch_62->cells[0] = MKTUP(v103, 6);
					branch_ZPlusC99Branch_100 = branch_ZPlusC99Branch_62;
					branch_Str_99 = v104;
					branch_ZPlusMirth_98 = v102;
					branch_Bool_97 = v91;
					branch_C99ReprType_96 = v86;
					branch_Str_95 = v85;
					branch_Tag_94 = branch_Tag_58;
					branch_Label_93 = branch_Label_57;
					branch_Str_92 = branch_Str_63;
				} else {
					STR* v105;
					STRLIT(v105, "0", 1);
					branch_ZPlusC99Branch_100 = branch_ZPlusC99Branch_62;
					branch_Str_99 = v105;
					branch_ZPlusMirth_98 = branch_ZPlusMirth_61;
					branch_Bool_97 = v91;
					branch_C99ReprType_96 = v86;
					branch_Str_95 = v85;
					branch_Tag_94 = branch_Tag_58;
					branch_Label_93 = branch_Label_57;
					branch_Str_92 = branch_Str_63;
				}
				bool v106 = value_bool(branch_ZPlusC99Branch_100->cells[3]);
				bool v107 = (branch_Bool_97 && v106);
				TUP* v108 = value_tup(branch_ZPlusC99Branch_100->cells[0], 6);
				bool v109 = value_bool(v108->cells[3]);
				bool v110 = (v107 && v109);
				v108->cells[3] = MKBOOL(v110);
				TUP* v111;
				TUP* v112;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_98, v108, &v111, &v112);
				incref(branch_C99ReprType_96);
				STR* v113 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_96);
				TUP* v114;
				TUP* v115;
				mw_mirth_c99_ZPlusC99_put(v111, v112, v113, &v114, &v115);
				STR* v116;
				STRLIT(v116, " ", 1);
				TUP* v117;
				TUP* v118;
				mw_mirth_c99_ZPlusC99_put(v114, v115, v116, &v117, &v118);
				incref(MKSTR(branch_Str_99));
				TUP* v119;
				TUP* v120;
				mw_mirth_c99_ZPlusC99_put(v117, v118, branch_Str_99, &v119, &v120);
				STR* v121;
				STRLIT(v121, " = ", 3);
				TUP* v122;
				TUP* v123;
				mw_mirth_c99_ZPlusC99_put(v119, v120, v121, &v122, &v123);
				TUP* v124;
				mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_96, branch_Str_99, &v124);
				STR* v125;
				STRLIT(v125, "tup_replace(", 12);
				TUP* v126;
				TUP* v127;
				mw_mirth_c99_ZPlusC99_put(v122, v123, v125, &v126, &v127);
				TUP* v128;
				TUP* v129;
				mw_mirth_c99_ZPlusC99_put(v126, v127, branch_Str_95, &v128, &v129);
				STR* v130;
				STRLIT(v130, ", ", 2);
				TUP* v131;
				TUP* v132;
				mw_mirth_c99_ZPlusC99_put(v128, v129, v130, &v131, &v132);
				TUP* v133;
				TUP* v134;
				INT v135 = mw_mirth_c99_c99Z_tagZ_labelZ_index(v131, v132, branch_Tag_94, branch_Label_93, &v133, &v134);
				STR* v136 = int_to_str(v135);
				TUP* v137;
				TUP* v138;
				mw_mirth_c99_ZPlusC99_put(v133, v134, v136, &v137, &v138);
				STR* v139;
				STRLIT(v139, ", ", 2);
				TUP* v140;
				TUP* v141;
				mw_mirth_c99_ZPlusC99_put(v137, v138, v139, &v140, &v141);
				TUP* v142;
				TUP* v143;
				mw_mirth_c99_ZPlusC99_put(v140, v141, branch_Str_92, &v142, &v143);
				STR* v144;
				STRLIT(v144, ")", 1);
				TUP* v145;
				TUP* v146;
				mw_mirth_c99_ZPlusC99_put(v142, v143, v144, &v145, &v146);
				STR* v147;
				STRLIT(v147, ";", 1);
				TUP* v148;
				TUP* v149;
				mw_mirth_c99_ZPlusC99_put(v145, v146, v147, &v148, &v149);
				TUP* v150;
				TUP* v151;
				mw_mirth_c99_ZPlusC99_line(v148, v149, &v150, &v151);
				v151->cells[3] = MKBOOL(v109);
				branch_ZPlusC99Branch_100->cells[0] = MKTUP(v151, 6);
				TUP* v152;
				TUP* v153;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v150, branch_ZPlusC99Branch_100, v124, &v152, &v153);
				decref(branch_Either_60);
				branch_ZPlusC99Branch_83 = v153;
				branch_ZPlusMirth_82 = v152;
				branch_Label_81 = branch_Label_93;
				branch_Tag_80 = branch_Tag_94;
			} break;
			case 1LL: { // +Right
				VAL v154;
				mtp_std_either_ZPlusEither_2_ZPlusRight(branch_ZPlusC99ValueZDivResource_59, &v154);
				TUP* v155;
				TUP* v156;
				mw_mirth_c99_ZPlusC99Resource_rdup(value_tup(v154, 2), &v155, &v156);
				STR* v157 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_TUP(v155);
				STR* branch_Str_158;
				uint64_t branch_Label_159;
				uint64_t branch_Tag_160;
				TUP* branch_ZPlusC99Resource_161;
				STR* branch_Str_162;
				TUP* branch_ZPlusMirth_163;
				TUP* branch_ZPlusC99Branch_164;
				switch (get_data_tag(branch_Either_60)) {
					case 0LL: { // Left
						VAL v165 = mtp_std_either_Either_2_Left(branch_Either_60);
						TUP* v166;
						TUP* v167;
						VAL v168 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(branch_ZPlusMirth_61, branch_ZPlusC99Branch_62, v165, &v166, &v167);
						incref(v168);
						bool v169 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(v168);
						VAL branch_C99ReprType_170;
						STR* branch_Str_171;
						uint64_t branch_Tag_172;
						uint64_t branch_Label_173;
						TUP* branch_ZPlusMirth_174;
						TUP* branch_ZPlusC99Branch_175;
						if (v169) {
							incref(v168);
							incref(v168);
							incref(v168);
							int64_t v176 = get_data_tag(v168);
							decref(v168);
							INT v177 = WRAP_I63(0LL);
							INT v178 = i64_to_int(v176);
							bool v179 = int_eq(v178, v177);
							bool v180 = !v179;
							uint64_t branch_Label_181;
							uint64_t branch_Tag_182;
							STR* branch_Str_183;
							VAL branch_C99ReprType_184;
							VAL branch_C99ReprType_185;
							bool branch_Bool_186;
							TUP* branch_ZPlusMirth_187;
							STR* branch_Str_188;
							TUP* branch_ZPlusC99Branch_189;
							if (v180) {
								TUP* v190 = value_tup(v167->cells[0], 6);
								TUP* v191;
								TUP* v192;
								STR* v193 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v166, v190, &v191, &v192);
								v167->cells[0] = MKTUP(v192, 6);
								branch_ZPlusC99Branch_189 = v167;
								branch_Str_188 = v193;
								branch_ZPlusMirth_187 = v191;
								branch_Bool_186 = v180;
								branch_C99ReprType_185 = v168;
								branch_C99ReprType_184 = v168;
								branch_Str_183 = v157;
								branch_Tag_182 = branch_Tag_58;
								branch_Label_181 = branch_Label_57;
							} else {
								STR* v194;
								STRLIT(v194, "0", 1);
								branch_ZPlusC99Branch_189 = v167;
								branch_Str_188 = v194;
								branch_ZPlusMirth_187 = v166;
								branch_Bool_186 = v180;
								branch_C99ReprType_185 = v168;
								branch_C99ReprType_184 = v168;
								branch_Str_183 = v157;
								branch_Tag_182 = branch_Tag_58;
								branch_Label_181 = branch_Label_57;
							}
							bool v195 = value_bool(branch_ZPlusC99Branch_189->cells[3]);
							bool v196 = (branch_Bool_186 && v195);
							TUP* v197 = value_tup(branch_ZPlusC99Branch_189->cells[0], 6);
							bool v198 = value_bool(v197->cells[3]);
							bool v199 = (v196 && v198);
							v197->cells[3] = MKBOOL(v199);
							TUP* v200;
							TUP* v201;
							mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_187, v197, &v200, &v201);
							incref(branch_C99ReprType_185);
							STR* v202 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_185);
							TUP* v203;
							TUP* v204;
							mw_mirth_c99_ZPlusC99_put(v200, v201, v202, &v203, &v204);
							STR* v205;
							STRLIT(v205, " ", 1);
							TUP* v206;
							TUP* v207;
							mw_mirth_c99_ZPlusC99_put(v203, v204, v205, &v206, &v207);
							incref(MKSTR(branch_Str_188));
							TUP* v208;
							TUP* v209;
							mw_mirth_c99_ZPlusC99_put(v206, v207, branch_Str_188, &v208, &v209);
							STR* v210;
							STRLIT(v210, " = ", 3);
							TUP* v211;
							TUP* v212;
							mw_mirth_c99_ZPlusC99_put(v208, v209, v210, &v211, &v212);
							TUP* v213;
							mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_185, branch_Str_188, &v213);
							STR* v214;
							uint64_t v215;
							uint64_t v216;
							TUP* v217;
							TUP* v218;
							mw_mirth_c99_C99ReprType_vZ_macro_1_sp1(branch_Label_181, branch_Tag_182, branch_Str_183, v211, v212, branch_C99ReprType_184, &v214, &v215, &v216, &v217, &v218);
							STR* v219;
							STRLIT(v219, ";", 1);
							TUP* v220;
							TUP* v221;
							mw_mirth_c99_ZPlusC99_put(v217, v218, v219, &v220, &v221);
							TUP* v222;
							TUP* v223;
							mw_mirth_c99_ZPlusC99_line(v220, v221, &v222, &v223);
							v223->cells[3] = MKBOOL(v198);
							branch_ZPlusC99Branch_189->cells[0] = MKTUP(v223, 6);
							TUP* v224;
							TUP* v225;
							mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v222, branch_ZPlusC99Branch_189, v213, &v224, &v225);
							branch_ZPlusC99Branch_175 = v225;
							branch_ZPlusMirth_174 = v224;
							branch_Label_173 = v216;
							branch_Tag_172 = v215;
							branch_Str_171 = v214;
							branch_C99ReprType_170 = v168;
						} else {
							branch_ZPlusC99Branch_175 = v167;
							branch_ZPlusMirth_174 = v166;
							branch_Label_173 = branch_Label_57;
							branch_Tag_172 = branch_Tag_58;
							branch_Str_171 = v157;
							branch_C99ReprType_170 = v168;
						}
						decref(branch_C99ReprType_170);
						branch_ZPlusC99Branch_164 = branch_ZPlusC99Branch_175;
						branch_ZPlusMirth_163 = branch_ZPlusMirth_174;
						branch_Str_162 = branch_Str_171;
						branch_ZPlusC99Resource_161 = v156;
						branch_Tag_160 = branch_Tag_172;
						branch_Label_159 = branch_Label_173;
						branch_Str_158 = branch_Str_63;
					} break;
					case 1LL: { // Right
						VAL v226 = mtp_std_either_Either_2_Right(branch_Either_60);
						decref(v226);
						branch_ZPlusC99Branch_164 = branch_ZPlusC99Branch_62;
						branch_ZPlusMirth_163 = branch_ZPlusMirth_61;
						branch_Str_162 = v157;
						branch_ZPlusC99Resource_161 = v156;
						branch_Tag_160 = branch_Tag_58;
						branch_Label_159 = branch_Label_57;
						branch_Str_158 = branch_Str_63;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v227 = value_bool(branch_ZPlusC99Branch_164->cells[3]);
				TUP* v228 = value_tup(branch_ZPlusC99Branch_164->cells[0], 6);
				bool v229 = value_bool(v228->cells[3]);
				bool v230 = (v227 && v229);
				v228->cells[3] = MKBOOL(v230);
				TUP* v231;
				TUP* v232;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_163, v228, &v231, &v232);
				incref(MKSTR(branch_Str_162));
				TUP* v233;
				TUP* v234;
				mw_mirth_c99_ZPlusC99_put(v231, v232, branch_Str_162, &v233, &v234);
				STR* v235;
				STRLIT(v235, "->cells[", 8);
				TUP* v236;
				TUP* v237;
				mw_mirth_c99_ZPlusC99_put(v233, v234, v235, &v236, &v237);
				TUP* v238;
				TUP* v239;
				INT v240 = mw_mirth_c99_c99Z_tagZ_labelZ_index(v236, v237, branch_Tag_160, branch_Label_159, &v238, &v239);
				STR* v241 = int_to_str(v240);
				TUP* v242;
				TUP* v243;
				mw_mirth_c99_ZPlusC99_put(v238, v239, v241, &v242, &v243);
				STR* v244;
				STRLIT(v244, "] = ", 4);
				TUP* v245;
				TUP* v246;
				mw_mirth_c99_ZPlusC99_put(v242, v243, v244, &v245, &v246);
				TUP* v247;
				TUP* v248;
				mw_mirth_c99_ZPlusC99_put(v245, v246, branch_Str_158, &v247, &v248);
				STR* v249;
				STRLIT(v249, ";", 1);
				TUP* v250;
				TUP* v251;
				mw_mirth_c99_ZPlusC99_put(v247, v248, v249, &v250, &v251);
				TUP* v252;
				TUP* v253;
				mw_mirth_c99_ZPlusC99_line(v250, v251, &v252, &v253);
				v253->cells[3] = MKBOOL(v229);
				branch_ZPlusC99Branch_164->cells[0] = MKTUP(v253, 6);
				TUP* v254;
				TUP* v255;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v252, branch_ZPlusC99Branch_164, branch_ZPlusC99Resource_161, &v254, &v255);
				decref(MKSTR(branch_Str_162));
				branch_ZPlusC99Branch_83 = v255;
				branch_ZPlusMirth_82 = v254;
				branch_Label_81 = branch_Label_159;
				branch_Tag_80 = branch_Tag_160;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_19 = branch_ZPlusC99Branch_83;
		branch_ZPlusMirth_18 = branch_ZPlusMirth_82;
		branch_Tag_17 = branch_Tag_80;
		branch_Label_16 = branch_Label_81;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_19;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_18;
}
static void mw_mirth_c99_c99Z_externalZ_blocksZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_external_ExternalBlock_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_c99Z_externalZ_blockZBang(v13, v14, v15, &v16, &v17);
		uint64_t v18 = 1ULL;
		uint64_t v19 = (v15 + v18);
		void* v20 = mbuf_mirth_external_ExternalBlock_NumBuffer;
		uint64_t v21 = *(uint64_t*)v20;
		bool v22 = (v19 <= v21);
		v12 = v22;
		v11 = v19;
		v10 = v17;
		v9 = v16;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_externalZ_blockZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_ExternalBlock_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	VAL v7 = mw_mirth_external_ExternalBlock_parts(in_ZPlusMirth_1, in_ExternalBlock_3, &v6);
	bool v8 = true;
	TUP* v9 = in_ZPlusC99_2;
	TUP* v10 = v6;
	VAL v11 = v7;
	bool v12 = v8;
	bool v13 = v8;
	while (v13) {
		TUP* v14 = v9;
		TUP* v15 = v10;
		VAL v16 = v11;
		bool v17 = v12;
		TUP* branch_ZPlusC99_18;
		TUP* branch_ZPlusMirth_19;
		VAL branch_List_20;
		bool branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				TUP* branch_ZPlusMirth_24;
				TUP* branch_ZPlusC99_25;
				switch (get_data_tag(v23)) {
					case 0LL: { // EBPCode
						STR* v26 = mtp_mirth_external_ExternalBlockPart_EBPCode(v23);
						TUP* v27;
						TUP* v28;
						mw_mirth_c99_ZPlusC99_put(v15, v14, v26, &v27, &v28);
						TUP* v29;
						TUP* v30;
						mw_mirth_c99_ZPlusC99_line(v27, v28, &v29, &v30);
						branch_ZPlusC99_25 = v30;
						branch_ZPlusMirth_24 = v29;
					} break;
					case 1LL: { // EBPDef
						uint64_t v31 = mtp_mirth_external_ExternalBlockPart_EBPDef(v23);
						TUP* v32;
						TUP* v33;
						mw_mirth_c99_c99Z_externalZ_defZBang(v15, v14, v31, &v32, &v33);
						branch_ZPlusC99_25 = v33;
						branch_ZPlusMirth_24 = v32;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v34 = true;
				branch_Bool_21 = v34;
				branch_List_20 = v22;
				branch_ZPlusMirth_19 = branch_ZPlusMirth_24;
				branch_ZPlusC99_18 = branch_ZPlusC99_25;
			} break;
			case 0LL: { // Nil
				VAL v35 = MKI64(0LL /* Nil */);
				bool v36 = false;
				branch_Bool_21 = v36;
				branch_List_20 = v35;
				branch_ZPlusMirth_19 = v15;
				branch_ZPlusC99_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusMirth_19;
		v9 = branch_ZPlusC99_18;
	}
	decref(v11);
	*out_ZPlusC99_5 = v9;
	*out_ZPlusMirth_4 = v10;
}
static STR* mw_mirth_external_External_cnameZ_type (TUP* in_ZPlusMirth_1, uint64_t in_External_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	TUP* v6;
	STR* v7 = mw_mirth_external_External_cname(in_ZPlusMirth_1, in_External_2, &v6);
	TUP* v8;
	TUP* v9 = mw_mirth_external_External_type(v6, in_External_2, &v8);
	*out_ArrowType_5 = v9;
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static TUP* mw_mirth_external_External_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_External_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	void* v7 = field_mut(&mfld_mirth_external_External_ZTildec99Z_api, in_External_3);
	bool v8 = mut_is_set(v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99_10;
	uint64_t branch_External_11;
	TUP* branch_C99API_12;
	if (v8) {
		VAL v13 = mut_get(v7);
		branch_C99API_12 = value_tup(v13, 8);
		branch_External_11 = in_External_3;
		branch_ZPlusC99_10 = in_ZPlusC99_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		TUP* v14;
		TUP* v15;
		STR* v16 = mw_mirth_external_External_cnameZ_type(in_ZPlusMirth_1, in_External_3, &v14, &v15);
		TUP* v17;
		TUP* v18;
		TUP* v19 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, in_ZPlusC99_2, v16, v15, &v17, &v18);
		incref(MKTUP(v19, 8));
		mut_set(MKTUP(v19, 8), v7);
		branch_C99API_12 = v19;
		branch_External_11 = in_External_3;
		branch_ZPlusC99_10 = v18;
		branch_ZPlusMirth_9 = v17;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_C99API_12;
}
static void mw_mirth_c99_c99Z_externalZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, uint64_t in_External_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	TUP* v7 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	TUP* v8;
	TUP* v9;
	TUP* v10 = mw_mirth_external_External_c99Z_api(in_ZPlusMirth_1, v7, in_External_4, &v8, &v9);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v9, 6);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_c99Z_smartZ_callZBang(v8, in_ZPlusC99Branch_2, in_List_3, v10, &v11, &v12);
	*out_ZPlusC99Branch_6 = v12;
	*out_ZPlusMirth_5 = v11;
}
static void mw_mirth_c99_c99Z_externalZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_External_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_external_External_ctype(in_ZPlusMirth_1, in_External_3, &v6);
	incref(MKTUP(v7, 2));
	TUP* v8 = value_tup(v7->cells[1], 2);
	incref(MKTUP(v8, 2));
	decref(MKTUP(v7, 2));
	VAL v9 = v8->cells[1];
	incref(v9);
	decref(MKTUP(v8, 2));
	VAL v10 = MKI64(0LL /* None */);
	bool v11 = true;
	VAL v12 = v10;
	VAL v13 = v9;
	bool v14 = v11;
	bool v15 = v11;
	while (v15) {
		VAL v16 = v12;
		VAL v17 = v13;
		bool v18 = v14;
		VAL v19;
		VAL v20 = mw_std_list_List_1_uncons(v17, &v19);
		VAL branch_Maybe_21;
		VAL branch_List_22;
		bool branch_Bool_23;
		switch (get_data_tag(v20)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v20);
				incref(v24);
				incref(v24);
				VAL v25 = mw_mirth_type_CTypeStackPart_labelZAsk(v24);
				int64_t v26 = get_data_tag(v25);
				decref(v25);
				INT v27 = WRAP_I63(0LL);
				INT v28 = i64_to_int(v26);
				bool v29 = int_eq(v28, v27);
				bool branch_Bool_30;
				if (v29) {
					VAL v31 = mw_mirth_type_CTypeStackPart_ctype(v24);
					bool v32 = mw_mirth_type_CType_phantomZAsk(v31);
					bool v33 = !v32;
					branch_Bool_30 = v33;
				} else {
					decref(v24);
					bool v34 = false;
					branch_Bool_30 = v34;
				}
				VAL branch_Maybe_35;
				if (branch_Bool_30) {
					VAL v36 = mtw_std_maybe_Maybe_1_Some(v24);
					branch_Maybe_35 = v36;
				} else {
					decref(v24);
					VAL v37 = MKI64(0LL /* None */);
					branch_Maybe_35 = v37;
				}
				VAL branch_Maybe_38;
				VAL branch_List_39;
				switch (get_data_tag(branch_Maybe_35)) {
					case 0LL: { // None
						branch_List_39 = v19;
						branch_Maybe_38 = v16;
					} break;
					default: {
						decref(v19);
						decref(v16);
						VAL v40 = MKI64(0LL /* Nil */);
						branch_List_39 = v40;
						branch_Maybe_38 = branch_Maybe_35;
					} break;
				}
				bool v41 = true;
				branch_Bool_23 = v41;
				branch_List_22 = branch_List_39;
				branch_Maybe_21 = branch_Maybe_38;
			} break;
			case 0LL: { // None
				bool v42 = false;
				branch_Bool_23 = v42;
				branch_List_22 = v19;
				branch_Maybe_21 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_23;
		v14 = branch_Bool_23;
		v13 = branch_List_22;
		v12 = branch_Maybe_21;
	}
	decref(v13);
	incref(v12);
	VAL branch_CType_43;
	switch (get_data_tag(v12)) {
		case 1LL: { // Some
			VAL v44 = mtp_std_maybe_Maybe_1_Some(v12);
			VAL v45 = mw_mirth_type_CTypeStackPart_ctype(v44);
			branch_CType_43 = v45;
		} break;
		case 0LL: { // None
			STR* v46;
			STRLIT(v46, "void", 4);
			VAL v47 = mtw_mirth_type_CType_Void(v46);
			branch_CType_43 = v47;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v48 = mw_mirth_type_CType_cname(branch_CType_43);
	TUP* v49;
	TUP* v50;
	mw_mirth_c99_ZPlusC99_put(v6, in_ZPlusC99_2, v48, &v49, &v50);
	STR* v51;
	STRLIT(v51, " ", 1);
	TUP* v52;
	TUP* v53;
	mw_mirth_c99_ZPlusC99_put(v49, v50, v51, &v52, &v53);
	TUP* v54;
	STR* v55 = mw_mirth_external_External_symbol(v52, in_External_3, &v54);
	TUP* v56;
	TUP* v57;
	mw_mirth_c99_ZPlusC99_put(v54, v53, v55, &v56, &v57);
	STR* v58;
	STRLIT(v58, " (", 2);
	TUP* v59;
	TUP* v60;
	mw_mirth_c99_ZPlusC99_put(v56, v57, v58, &v59, &v60);
	incref(MKTUP(v7, 2));
	TUP* v61 = value_tup(v7->cells[0], 2);
	incref(MKTUP(v61, 2));
	decref(MKTUP(v7, 2));
	VAL v62 = v61->cells[1];
	incref(v62);
	decref(MKTUP(v61, 2));
	VAL v63 = MKI64(0LL /* Nil */);
	VAL v64;
	mw_std_list_List_1_buildZBang(v63, &v64);
	bool v65 = true;
	VAL v66 = v64;
	VAL v67 = v62;
	bool v68 = v65;
	bool v69 = v65;
	while (v69) {
		VAL v70 = v66;
		VAL v71 = v67;
		bool v72 = v68;
		VAL branch_ZPlusLister_73;
		VAL branch_List_74;
		bool branch_Bool_75;
		switch (get_data_tag(v71)) {
			case 1LL: { // Cons
				VAL v76;
				VAL v77 = mtp_std_list_List_1_Cons(v71, &v76);
				incref(v77);
				VAL v78 = mw_mirth_type_CTypeStackPart_ctype(v77);
				bool v79 = mw_mirth_type_CType_phantomZAsk(v78);
				bool v80 = !v79;
				VAL branch_ZPlusLister_81;
				if (v80) {
					VAL v82;
					mw_std_list_ZPlusLister_1_pushZBang(v77, v70, &v82);
					branch_ZPlusLister_81 = v82;
				} else {
					decref(v77);
					branch_ZPlusLister_81 = v70;
				}
				bool v83 = true;
				branch_Bool_75 = v83;
				branch_List_74 = v76;
				branch_ZPlusLister_73 = branch_ZPlusLister_81;
			} break;
			case 0LL: { // Nil
				VAL v84 = MKI64(0LL /* Nil */);
				bool v85 = false;
				branch_Bool_75 = v85;
				branch_List_74 = v84;
				branch_ZPlusLister_73 = v70;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v69 = branch_Bool_75;
		v68 = branch_Bool_75;
		v67 = branch_List_74;
		v66 = branch_ZPlusLister_73;
	}
	decref(v67);
	VAL v86 = mw_std_list_ZPlusLister_1_doneZBang(v66);
	VAL branch_Maybe_87;
	uint64_t branch_External_88;
	TUP* branch_CTypeArrow_89;
	TUP* branch_ZPlusMirth_90;
	TUP* branch_ZPlusC99_91;
	switch (get_data_tag(v86)) {
		case 0LL: { // Nil
			STR* v92;
			STRLIT(v92, "void", 4);
			TUP* v93;
			TUP* v94;
			mw_mirth_c99_ZPlusC99_put(v59, v60, v92, &v93, &v94);
			branch_ZPlusC99_91 = v94;
			branch_ZPlusMirth_90 = v93;
			branch_CTypeArrow_89 = v7;
			branch_External_88 = in_External_3;
			branch_Maybe_87 = v12;
		} break;
		default: {
			VAL v95;
			VAL v96 = mw_std_list_List_1_uncons(v86, &v95);
			TUP* branch_ZPlusMirth_97;
			TUP* branch_ZPlusC99_98;
			switch (get_data_tag(v96)) {
				case 1LL: { // Some
					VAL v99 = mtp_std_maybe_Maybe_1_Some(v96);
					VAL v100 = mw_mirth_type_CTypeStackPart_ctype(v99);
					STR* v101 = mw_mirth_type_CType_cname(v100);
					TUP* v102;
					TUP* v103;
					mw_mirth_c99_ZPlusC99_put(v59, v60, v101, &v102, &v103);
					branch_ZPlusC99_98 = v103;
					branch_ZPlusMirth_97 = v102;
				} break;
				case 0LL: { // None
					branch_ZPlusC99_98 = v60;
					branch_ZPlusMirth_97 = v59;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			bool v104 = true;
			TUP* v105 = branch_ZPlusMirth_97;
			TUP* v106 = branch_ZPlusC99_98;
			VAL v107 = v95;
			bool v108 = v104;
			bool v109 = v104;
			while (v109) {
				TUP* v110 = v105;
				TUP* v111 = v106;
				VAL v112 = v107;
				bool v113 = v108;
				TUP* branch_ZPlusMirth_114;
				TUP* branch_ZPlusC99_115;
				VAL branch_List_116;
				bool branch_Bool_117;
				switch (get_data_tag(v112)) {
					case 1LL: { // Cons
						VAL v118;
						VAL v119 = mtp_std_list_List_1_Cons(v112, &v118);
						STR* v120;
						STRLIT(v120, ", ", 2);
						TUP* v121;
						TUP* v122;
						mw_mirth_c99_ZPlusC99_put(v110, v111, v120, &v121, &v122);
						VAL v123 = mw_mirth_type_CTypeStackPart_ctype(v119);
						STR* v124 = mw_mirth_type_CType_cname(v123);
						TUP* v125;
						TUP* v126;
						mw_mirth_c99_ZPlusC99_put(v121, v122, v124, &v125, &v126);
						bool v127 = true;
						branch_Bool_117 = v127;
						branch_List_116 = v118;
						branch_ZPlusC99_115 = v126;
						branch_ZPlusMirth_114 = v125;
					} break;
					case 0LL: { // Nil
						VAL v128 = MKI64(0LL /* Nil */);
						bool v129 = false;
						branch_Bool_117 = v129;
						branch_List_116 = v128;
						branch_ZPlusC99_115 = v111;
						branch_ZPlusMirth_114 = v110;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v109 = branch_Bool_117;
				v108 = branch_Bool_117;
				v107 = branch_List_116;
				v106 = branch_ZPlusC99_115;
				v105 = branch_ZPlusMirth_114;
			}
			decref(v107);
			branch_ZPlusC99_91 = v106;
			branch_ZPlusMirth_90 = v105;
			branch_CTypeArrow_89 = v7;
			branch_External_88 = in_External_3;
			branch_Maybe_87 = v12;
		} break;
	}
	STR* v130;
	STRLIT(v130, ");", 2);
	TUP* v131;
	TUP* v132;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_90, branch_ZPlusC99_91, v130, &v131, &v132);
	TUP* v133;
	TUP* v134;
	mw_mirth_c99_ZPlusC99_line(v131, v132, &v133, &v134);
	TUP* v135;
	TUP* v136;
	TUP* v137 = mw_mirth_external_External_c99Z_api(v133, v134, branch_External_88, &v135, &v136);
	TUP* v138;
	TUP* v139;
	TUP* v140 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp91(v137, v135, v136, &v138, &v139);
	INT v141 = value_int(v139->cells[1]);
	incref(MKINT(v141));
	INT v142 = WRAP_I63(1LL);
	INT v143 = int_add(v141, v142);
	INT v144 = value_int(v139->cells[1]);
	decref(MKINT(v144));
	v139->cells[1] = MKINT(v143);
	incref(MKTUP(v140, 8));
	TUP* v145;
	TUP* v146;
	mw_mirth_c99_c99Z_apiZ_enterZBang(v138, v139, v140, &v145, &v146);
	incref(MKTUP(branch_CTypeArrow_89, 2));
	TUP* v147 = value_tup(branch_CTypeArrow_89->cells[0], 2);
	incref(MKTUP(v147, 2));
	decref(MKTUP(branch_CTypeArrow_89, 2));
	VAL v148 = v147->cells[1];
	incref(v148);
	decref(MKTUP(v147, 2));
	incref(v148);
	INT v149 = mw_std_list_List_1_len(v148);
	VAL v150 = mw_std_list_List_1_reverse(v148);
	bool v151 = true;
	INT v152 = v149;
	TUP* v153 = v145;
	TUP* v154 = v146;
	VAL v155 = v150;
	bool v156 = v151;
	bool v157 = v151;
	while (v157) {
		INT v158 = v152;
		TUP* v159 = v153;
		TUP* v160 = v154;
		VAL v161 = v155;
		bool v162 = v156;
		TUP* branch_ZPlusMirth_163;
		TUP* branch_ZPlusC99Branch_164;
		INT branch_Nat_165;
		VAL branch_List_166;
		bool branch_Bool_167;
		switch (get_data_tag(v161)) {
			case 1LL: { // Cons
				VAL v168;
				VAL v169 = mtp_std_list_List_1_Cons(v161, &v168);
				incref(v169);
				TUP* v170;
				TUP* v171;
				STR* v172 = mw_mirth_type_CTypeStackPart_c99Z_pop(v159, v160, v169, &v170, &v171);
				incref(v169);
				VAL v173 = mw_mirth_type_CTypeStackPart_ctype(v169);
				bool v174 = mw_mirth_type_CType_phantomZAsk(v173);
				INT branch_Nat_175;
				TUP* branch_ZPlusMirth_176;
				TUP* branch_ZPlusC99Branch_177;
				VAL branch_CTypeStackPart_178;
				if (v174) {
					decref(MKSTR(v172));
					branch_CTypeStackPart_178 = v169;
					branch_ZPlusC99Branch_177 = v171;
					branch_ZPlusMirth_176 = v170;
					branch_Nat_175 = v158;
				} else {
					bool v179 = value_bool(v171->cells[3]);
					TUP* v180 = value_tup(v171->cells[0], 6);
					bool v181 = value_bool(v180->cells[3]);
					bool v182 = (v179 && v181);
					v180->cells[3] = MKBOOL(v182);
					TUP* v183;
					TUP* v184;
					mw_mirth_c99_ZPlusC99_indent(v170, v180, &v183, &v184);
					incref(v169);
					VAL v185 = mw_mirth_type_CTypeStackPart_ctype(v169);
					STR* v186 = mw_mirth_type_CType_cname(v185);
					TUP* v187;
					TUP* v188;
					mw_mirth_c99_ZPlusC99_put(v183, v184, v186, &v187, &v188);
					STR* v189;
					STRLIT(v189, " ", 1);
					TUP* v190;
					TUP* v191;
					mw_mirth_c99_ZPlusC99_put(v187, v188, v189, &v190, &v191);
					incref(v169);
					TUP* v192;
					TUP* v193;
					INT v194;
					STR* v195 = mw_mirth_type_CTypeStackPart_c99Z_argZ_name(v190, v191, v158, v169, &v192, &v193, &v194);
					TUP* v196;
					TUP* v197;
					mw_mirth_c99_ZPlusC99_put(v192, v193, v195, &v196, &v197);
					STR* v198;
					STRLIT(v198, " = (", 4);
					TUP* v199;
					TUP* v200;
					mw_mirth_c99_ZPlusC99_put(v196, v197, v198, &v199, &v200);
					incref(v169);
					VAL v201 = mw_mirth_type_CTypeStackPart_ctype(v169);
					STR* v202 = mw_mirth_type_CType_cname(v201);
					TUP* v203;
					TUP* v204;
					mw_mirth_c99_ZPlusC99_put(v199, v200, v202, &v203, &v204);
					STR* v205;
					STRLIT(v205, ")(", 2);
					TUP* v206;
					TUP* v207;
					mw_mirth_c99_ZPlusC99_put(v203, v204, v205, &v206, &v207);
					TUP* v208;
					TUP* v209;
					mw_mirth_c99_ZPlusC99_put(v206, v207, v172, &v208, &v209);
					STR* v210;
					STRLIT(v210, ");", 2);
					TUP* v211;
					TUP* v212;
					mw_mirth_c99_ZPlusC99_put(v208, v209, v210, &v211, &v212);
					TUP* v213;
					TUP* v214;
					mw_mirth_c99_ZPlusC99_line(v211, v212, &v213, &v214);
					v214->cells[3] = MKBOOL(v181);
					v171->cells[0] = MKTUP(v214, 6);
					branch_CTypeStackPart_178 = v169;
					branch_ZPlusC99Branch_177 = v171;
					branch_ZPlusMirth_176 = v213;
					branch_Nat_175 = v194;
				}
				decref(branch_CTypeStackPart_178);
				INT v215 = WRAP_I63(1LL);
				INT v216 = int_sub(branch_Nat_175, v215);
				incref(MKINT(v216));
				INT v217 = WRAP_I63(0LL);
				bool v218 = int_le(v217, v216);
				INT branch_Nat_219;
				if (v218) {
					branch_Nat_219 = v216;
				} else {
					decref(MKINT(v216));
					INT v220 = WRAP_I63(0LL);
					branch_Nat_219 = v220;
				}
				bool v221 = true;
				branch_Bool_167 = v221;
				branch_List_166 = v168;
				branch_Nat_165 = branch_Nat_219;
				branch_ZPlusC99Branch_164 = branch_ZPlusC99Branch_177;
				branch_ZPlusMirth_163 = branch_ZPlusMirth_176;
			} break;
			case 0LL: { // Nil
				VAL v222 = MKI64(0LL /* Nil */);
				bool v223 = false;
				branch_Bool_167 = v223;
				branch_List_166 = v222;
				branch_Nat_165 = v158;
				branch_ZPlusC99Branch_164 = v160;
				branch_ZPlusMirth_163 = v159;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v157 = branch_Bool_167;
		v156 = branch_Bool_167;
		v155 = branch_List_166;
		v154 = branch_ZPlusC99Branch_164;
		v153 = branch_ZPlusMirth_163;
		v152 = branch_Nat_165;
	}
	decref(v155);
	bool v224 = value_bool(v154->cells[3]);
	TUP* v225 = value_tup(v154->cells[0], 6);
	bool v226 = value_bool(v225->cells[3]);
	bool v227 = (v224 && v226);
	v225->cells[3] = MKBOOL(v227);
	TUP* v228;
	TUP* v229;
	mw_mirth_c99_ZPlusC99_indent(v153, v225, &v228, &v229);
	incref(branch_Maybe_87);
	TUP* branch_ZPlusMirth_230;
	TUP* branch_ZPlusC99_231;
	switch (get_data_tag(branch_Maybe_87)) {
		case 1LL: { // Some
			VAL v232 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_87);
			VAL v233 = mw_mirth_type_CTypeStackPart_ctype(v232);
			STR* v234 = mw_mirth_type_CType_cname(v233);
			TUP* v235;
			TUP* v236;
			mw_mirth_c99_ZPlusC99_put(v228, v229, v234, &v235, &v236);
			STR* v237;
			STRLIT(v237, " Y = ", 5);
			TUP* v238;
			TUP* v239;
			mw_mirth_c99_ZPlusC99_put(v235, v236, v237, &v238, &v239);
			branch_ZPlusC99_231 = v239;
			branch_ZPlusMirth_230 = v238;
		} break;
		case 0LL: { // None
			branch_ZPlusC99_231 = v229;
			branch_ZPlusMirth_230 = v228;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v240;
	STR* v241 = mw_mirth_external_External_symbol(branch_ZPlusMirth_230, branch_External_88, &v240);
	TUP* v242;
	TUP* v243;
	mw_mirth_c99_ZPlusC99_put(v240, branch_ZPlusC99_231, v241, &v242, &v243);
	STR* v244;
	STRLIT(v244, "(", 1);
	TUP* v245;
	TUP* v246;
	mw_mirth_c99_ZPlusC99_put(v242, v243, v244, &v245, &v246);
	INT v247 = WRAP_I63(1LL);
	decref(MKINT(v152));
	incref(MKTUP(branch_CTypeArrow_89, 2));
	TUP* v248 = value_tup(branch_CTypeArrow_89->cells[0], 2);
	incref(MKTUP(v248, 2));
	decref(MKTUP(branch_CTypeArrow_89, 2));
	VAL v249 = v248->cells[1];
	incref(v249);
	decref(MKTUP(v248, 2));
	VAL v250 = MKI64(0LL /* Nil */);
	VAL v251;
	mw_std_list_List_1_buildZBang(v250, &v251);
	bool v252 = true;
	TUP* v253 = v245;
	TUP* v254 = v246;
	INT v255 = v247;
	VAL v256 = v251;
	VAL v257 = v249;
	bool v258 = v252;
	bool v259 = v252;
	while (v259) {
		TUP* v260 = v253;
		TUP* v261 = v254;
		INT v262 = v255;
		VAL v263 = v256;
		VAL v264 = v257;
		bool v265 = v258;
		TUP* branch_ZPlusMirth_266;
		TUP* branch_ZPlusC99_267;
		INT branch_Nat_268;
		VAL branch_ZPlusLister_269;
		VAL branch_List_270;
		bool branch_Bool_271;
		switch (get_data_tag(v264)) {
			case 1LL: { // Cons
				VAL v272;
				VAL v273 = mtp_std_list_List_1_Cons(v264, &v272);
				incref(v273);
				VAL v274 = mw_mirth_type_CTypeStackPart_ctype(v273);
				bool v275 = mw_mirth_type_CType_phantomZAsk(v274);
				TUP* branch_ZPlusMirth_276;
				TUP* branch_ZPlusC99_277;
				INT branch_Nat_278;
				VAL branch_Maybe_279;
				if (v275) {
					decref(v273);
					VAL v280 = MKI64(0LL /* None */);
					branch_Maybe_279 = v280;
					branch_Nat_278 = v262;
					branch_ZPlusC99_277 = v261;
					branch_ZPlusMirth_276 = v260;
				} else {
					TUP* v281;
					TUP* v282;
					INT v283;
					STR* v284 = mw_mirth_type_CTypeStackPart_c99Z_argZ_name(v260, v261, v262, v273, &v281, &v282, &v283);
					VAL v285 = mtw_std_maybe_Maybe_1_Some(MKSTR(v284));
					branch_Maybe_279 = v285;
					branch_Nat_278 = v283;
					branch_ZPlusC99_277 = v282;
					branch_ZPlusMirth_276 = v281;
				}
				INT v286 = WRAP_I63(1LL);
				INT v287 = int_add(branch_Nat_278, v286);
				VAL v288;
				mw_std_maybe_Maybe_1_for_1_sp9(v263, branch_Maybe_279, &v288);
				bool v289 = true;
				branch_Bool_271 = v289;
				branch_List_270 = v272;
				branch_ZPlusLister_269 = v288;
				branch_Nat_268 = v287;
				branch_ZPlusC99_267 = branch_ZPlusC99_277;
				branch_ZPlusMirth_266 = branch_ZPlusMirth_276;
			} break;
			case 0LL: { // Nil
				VAL v290 = MKI64(0LL /* Nil */);
				bool v291 = false;
				branch_Bool_271 = v291;
				branch_List_270 = v290;
				branch_ZPlusLister_269 = v263;
				branch_Nat_268 = v262;
				branch_ZPlusC99_267 = v261;
				branch_ZPlusMirth_266 = v260;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v259 = branch_Bool_271;
		v258 = branch_Bool_271;
		v257 = branch_List_270;
		v256 = branch_ZPlusLister_269;
		v255 = branch_Nat_268;
		v254 = branch_ZPlusC99_267;
		v253 = branch_ZPlusMirth_266;
	}
	decref(v257);
	VAL v292 = mw_std_list_ZPlusLister_1_doneZBang(v256);
	VAL v293;
	VAL v294 = mw_std_list_List_1_uncons(v292, &v293);
	TUP* branch_ZPlusMirth_295;
	TUP* branch_ZPlusC99_296;
	switch (get_data_tag(v294)) {
		case 1LL: { // Some
			VAL v297 = mtp_std_maybe_Maybe_1_Some(v294);
			TUP* v298;
			TUP* v299;
			mw_mirth_c99_ZPlusC99_put(v253, v254, value_str(v297), &v298, &v299);
			branch_ZPlusC99_296 = v299;
			branch_ZPlusMirth_295 = v298;
		} break;
		case 0LL: { // None
			branch_ZPlusC99_296 = v254;
			branch_ZPlusMirth_295 = v253;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v300 = true;
	TUP* v301 = branch_ZPlusMirth_295;
	TUP* v302 = branch_ZPlusC99_296;
	VAL v303 = v293;
	bool v304 = v300;
	bool v305 = v300;
	while (v305) {
		TUP* v306 = v301;
		TUP* v307 = v302;
		VAL v308 = v303;
		bool v309 = v304;
		TUP* branch_ZPlusMirth_310;
		TUP* branch_ZPlusC99_311;
		VAL branch_List_312;
		bool branch_Bool_313;
		switch (get_data_tag(v308)) {
			case 1LL: { // Cons
				VAL v314;
				VAL v315 = mtp_std_list_List_1_Cons(v308, &v314);
				STR* v316;
				STRLIT(v316, ", ", 2);
				TUP* v317;
				TUP* v318;
				mw_mirth_c99_ZPlusC99_put(v306, v307, v316, &v317, &v318);
				TUP* v319;
				TUP* v320;
				mw_mirth_c99_ZPlusC99_put(v317, v318, value_str(v315), &v319, &v320);
				bool v321 = true;
				branch_Bool_313 = v321;
				branch_List_312 = v314;
				branch_ZPlusC99_311 = v320;
				branch_ZPlusMirth_310 = v319;
			} break;
			case 0LL: { // Nil
				VAL v322 = MKI64(0LL /* Nil */);
				bool v323 = false;
				branch_Bool_313 = v323;
				branch_List_312 = v322;
				branch_ZPlusC99_311 = v307;
				branch_ZPlusMirth_310 = v306;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v305 = branch_Bool_313;
		v304 = branch_Bool_313;
		v303 = branch_List_312;
		v302 = branch_ZPlusC99_311;
		v301 = branch_ZPlusMirth_310;
	}
	decref(v303);
	STR* v324;
	STRLIT(v324, ");", 2);
	TUP* v325;
	TUP* v326;
	mw_mirth_c99_ZPlusC99_put(v301, v302, v324, &v325, &v326);
	TUP* v327;
	TUP* v328;
	mw_mirth_c99_ZPlusC99_line(v325, v326, &v327, &v328);
	v328->cells[3] = MKBOOL(v226);
	v154->cells[0] = MKTUP(v328, 6);
	incref(MKTUP(branch_CTypeArrow_89, 2));
	TUP* v329 = value_tup(branch_CTypeArrow_89->cells[1], 2);
	incref(MKTUP(v329, 2));
	decref(MKTUP(branch_CTypeArrow_89, 2));
	VAL v330 = v329->cells[1];
	incref(v330);
	decref(MKTUP(v329, 2));
	bool v331 = true;
	TUP* v332 = v327;
	TUP* v333 = v154;
	VAL v334 = v330;
	bool v335 = v331;
	bool v336 = v331;
	while (v336) {
		TUP* v337 = v332;
		TUP* v338 = v333;
		VAL v339 = v334;
		bool v340 = v335;
		TUP* branch_ZPlusMirth_341;
		TUP* branch_ZPlusC99Branch_342;
		VAL branch_List_343;
		bool branch_Bool_344;
		switch (get_data_tag(v339)) {
			case 1LL: { // Cons
				VAL v345;
				VAL v346 = mtp_std_list_List_1_Cons(v339, &v345);
				incref(v346);
				incref(v346);
				VAL v347 = mw_mirth_type_CTypeStackPart_ctype(v346);
				bool v348 = mw_mirth_type_CType_phantomZAsk(v347);
				TUP* branch_ZPlusMirth_349;
				VAL branch_z_x1_350;
				VAL branch__351;
				if (v348) {
					decref(v346);
					STR* v352;
					STRLIT(v352, "0", 1);
					branch__351 = MKSTR(v352);
					branch_z_x1_350 = MKTUP(v338, 4);
					branch_ZPlusMirth_349 = v337;
				} else {
					VAL v353 = mw_mirth_type_CTypeStackPart_labelZAsk(v346);
					VAL branch_z_x1_354;
					TUP* branch_ZPlusMirth_355;
					STR* branch_Str_356;
					switch (get_data_tag(v353)) {
						case 1LL: { // Some
							VAL v357 = mtp_std_maybe_Maybe_1_Some(v353);
							TUP* v358;
							uint64_t v359 = mw_mirth_label_Label_name(v337, value_u64(v357), &v358);
							TUP* v360;
							STR* v361 = mw_mirth_name_Name_mangled(v358, v359, &v360);
							branch_Str_356 = v361;
							branch_ZPlusMirth_355 = v360;
							branch_z_x1_354 = MKTUP(v338, 4);
						} break;
						case 0LL: { // None
							STR* v362;
							STRLIT(v362, "Y", 1);
							branch_Str_356 = v362;
							branch_ZPlusMirth_355 = v337;
							branch_z_x1_354 = MKTUP(v338, 4);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch__351 = MKSTR(branch_Str_356);
					branch_z_x1_350 = branch_z_x1_354;
					branch_ZPlusMirth_349 = branch_ZPlusMirth_355;
				}
				TUP* v363;
				TUP* v364;
				mw_mirth_type_CTypeStackPart_c99Z_push(branch_ZPlusMirth_349, value_tup(branch_z_x1_350, 4), value_str(branch__351), v346, &v363, &v364);
				bool v365 = true;
				branch_Bool_344 = v365;
				branch_List_343 = v345;
				branch_ZPlusC99Branch_342 = v364;
				branch_ZPlusMirth_341 = v363;
			} break;
			case 0LL: { // Nil
				VAL v366 = MKI64(0LL /* Nil */);
				bool v367 = false;
				branch_Bool_344 = v367;
				branch_List_343 = v366;
				branch_ZPlusC99Branch_342 = v338;
				branch_ZPlusMirth_341 = v337;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v336 = branch_Bool_344;
		v335 = branch_Bool_344;
		v334 = branch_List_343;
		v333 = branch_ZPlusC99Branch_342;
		v332 = branch_ZPlusMirth_341;
	}
	decref(v334);
	TUP* v368;
	TUP* v369;
	mw_mirth_c99_c99Z_apiZ_exitZBang(v332, v333, v140, &v368, &v369);
	INT v370 = value_int(v369->cells[1]);
	incref(MKINT(v370));
	INT v371 = WRAP_I63(1LL);
	INT v372 = int_sub(v370, v371);
	incref(MKINT(v372));
	INT v373 = WRAP_I63(0LL);
	bool v374 = int_le(v373, v372);
	INT branch_Nat_375;
	if (v374) {
		branch_Nat_375 = v372;
	} else {
		decref(MKINT(v372));
		INT v376 = WRAP_I63(0LL);
		branch_Nat_375 = v376;
	}
	INT v377 = value_int(v369->cells[1]);
	decref(MKINT(v377));
	v369->cells[1] = MKINT(branch_Nat_375);
	TUP* v378;
	TUP* v379;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v368, v369, &v378, &v379);
	decref(MKINT(v255));
	decref(branch_Maybe_87);
	decref(MKTUP(branch_CTypeArrow_89, 2));
	*out_ZPlusC99_5 = v379;
	*out_ZPlusMirth_4 = v378;
}
static STR* mw_mirth_type_CTypeStackPart_c99Z_argZ_name (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, INT in_Nat_3, VAL in_CTypeStackPart_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6, INT *out_Nat_7) {
	VAL v9 = mw_mirth_type_CTypeStackPart_labelZAsk(in_CTypeStackPart_4);
	INT branch_Nat_10;
	VAL branch_z_x1_11;
	TUP* branch_ZPlusMirth_12;
	STR* branch_Str_13;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v9);
			TUP* v15;
			uint64_t v16 = mw_mirth_label_Label_name(in_ZPlusMirth_1, value_u64(v14), &v15);
			TUP* v17;
			STR* v18 = mw_mirth_name_Name_mangled(v15, v16, &v17);
			branch_Str_13 = v18;
			branch_ZPlusMirth_12 = v17;
			branch_z_x1_11 = MKTUP(in_ZPlusC99_2, 6);
			branch_Nat_10 = in_Nat_3;
		} break;
		case 0LL: { // None
			STR* v19;
			STRLIT(v19, "", 0);
			STR* v20;
			STRLIT(v20, "X", 1);
			STR* v21;
			mw_std_str_ZPlusStr_pushZ_strZBang(v20, v19, &v21);
			incref(MKINT(in_Nat_3));
			STR* v22 = int_to_str(in_Nat_3);
			STR* v23;
			mw_std_str_ZPlusStr_pushZ_strZBang(v22, v21, &v23);
			branch_Str_13 = v23;
			branch_ZPlusMirth_12 = in_ZPlusMirth_1;
			branch_z_x1_11 = MKTUP(in_ZPlusC99_2, 6);
			branch_Nat_10 = in_Nat_3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Nat_7 = branch_Nat_10;
	*out_ZPlusC99_6 = value_tup(branch_z_x1_11, 6);
	*out_ZPlusMirth_5 = branch_ZPlusMirth_12;
	return branch_Str_13;
}
static VAL mw_mirth_type_CType_ZToC99ReprType (VAL in_CType_1) {
	VAL branch_C99ReprType_3;
	switch (get_data_tag(in_CType_1)) {
		case 0LL: { // UInt
			STR* v4 = mtp_mirth_type_CType_UInt(in_CType_1);
			decref(MKSTR(v4));
			VAL v5 = MKI64(9LL /* U64 */);
			branch_C99ReprType_3 = v5;
		} break;
		case 1LL: { // Int
			STR* v6 = mtp_mirth_type_CType_Int(in_CType_1);
			decref(MKSTR(v6));
			VAL v7 = MKI64(5LL /* I64 */);
			branch_C99ReprType_3 = v7;
		} break;
		case 2LL: { // F32
			STR* v8 = mtp_mirth_type_CType_F32(in_CType_1);
			decref(MKSTR(v8));
			VAL v9 = MKI64(14LL /* F32 */);
			branch_C99ReprType_3 = v9;
		} break;
		case 3LL: { // F64
			STR* v10 = mtp_mirth_type_CType_F64(in_CType_1);
			decref(MKSTR(v10));
			VAL v11 = MKI64(13LL /* F64 */);
			branch_C99ReprType_3 = v11;
		} break;
		case 4LL: { // Ptr
			STR* v12 = mtp_mirth_type_CType_Ptr(in_CType_1);
			decref(MKSTR(v12));
			VAL v13 = MKI64(16LL /* PTR */);
			branch_C99ReprType_3 = v13;
		} break;
		case 5LL: { // FnPtr
			STR* v14 = mtp_mirth_type_CType_FnPtr(in_CType_1);
			decref(MKSTR(v14));
			VAL v15 = MKI64(17LL /* FNPTR */);
			branch_C99ReprType_3 = v15;
		} break;
		case 6LL: { // Void
			STR* v16 = mtp_mirth_type_CType_Void(in_CType_1);
			decref(MKSTR(v16));
			VAL v17 = MKI64(0LL /* Void */);
			branch_C99ReprType_3 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_C99ReprType_3;
}
static STR* mw_mirth_type_CTypeStackPart_c99Z_pop (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_CTypeStackPart_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusC99Branch_8;
	STR* branch_Str_9;
	switch (get_data_tag(in_CTypeStackPart_3)) {
		case 0LL: { // Cons
			VAL v10 = mtp_mirth_type_CTypeStackPart_Cons(in_CTypeStackPart_3);
			VAL v11 = mw_mirth_type_CType_ZToC99ReprType(v10);
			incref(v11);
			TUP* v12;
			TUP* v13;
			TUP* v14;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v11, &v12, &v13, &v14);
			STR* v15 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v11, v14);
			branch_Str_9 = v15;
			branch_ZPlusC99Branch_8 = v13;
			branch_ZPlusMirth_7 = v12;
		} break;
		case 2LL: { // With
			VAL v16 = mtp_mirth_type_CTypeStackPart_With(in_CTypeStackPart_3);
			VAL v17 = mw_mirth_type_CType_ZToC99ReprType(v16);
			incref(v17);
			TUP* v18;
			TUP* v19;
			TUP* v20;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v17, &v18, &v19, &v20);
			TUP* v21;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v20, &v21);
			STR* v22 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v17, v21);
			branch_Str_9 = v22;
			branch_ZPlusC99Branch_8 = v19;
			branch_ZPlusMirth_7 = v18;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v23;
			VAL v24 = mtp_mirth_type_CTypeStackPart_ConsLabel(in_CTypeStackPart_3, &v23);
			VAL v25 = mw_mirth_type_CType_ZToC99ReprType(v24);
			incref(v25);
			TUP* v26;
			TUP* v27;
			TUP* v28;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v25, v23, &v26, &v27, &v28);
			STR* v29 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v25, v28);
			branch_Str_9 = v29;
			branch_ZPlusC99Branch_8 = v27;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 3LL: { // WithLabel
			uint64_t v30;
			VAL v31 = mtp_mirth_type_CTypeStackPart_WithLabel(in_CTypeStackPart_3, &v30);
			VAL v32 = mw_mirth_type_CType_ZToC99ReprType(v31);
			incref(v32);
			TUP* v33;
			TUP* v34;
			TUP* v35;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v32, v30, &v33, &v34, &v35);
			TUP* v36;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v35, &v36);
			STR* v37 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v32, v36);
			branch_Str_9 = v37;
			branch_ZPlusC99Branch_8 = v34;
			branch_ZPlusMirth_7 = v33;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static void mw_mirth_type_CTypeStackPart_c99Z_push (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, VAL in_CTypeStackPart_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusC99Branch_8;
	switch (get_data_tag(in_CTypeStackPart_4)) {
		case 0LL: { // Cons
			VAL v9 = mtp_mirth_type_CTypeStackPart_Cons(in_CTypeStackPart_4);
			VAL v10 = mw_mirth_type_CType_ZToC99ReprType(v9);
			incref(v10);
			TUP* v11;
			TUP* v12;
			TUP* v13;
			mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp38(in_Str_3, v10, in_ZPlusMirth_1, in_ZPlusC99Branch_2, v10, &v11, &v12, &v13);
			TUP* v14;
			TUP* v15;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v11, v12, v13, &v14, &v15);
			branch_ZPlusC99Branch_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 2LL: { // With
			VAL v16 = mtp_mirth_type_CTypeStackPart_With(in_CTypeStackPart_4);
			VAL v17 = mw_mirth_type_CType_ZToC99ReprType(v16);
			incref(v17);
			incref(v17);
			int64_t v18 = get_data_tag(v17);
			decref(v17);
			INT v19 = WRAP_I63(0LL);
			INT v20 = i64_to_int(v18);
			bool v21 = int_eq(v20, v19);
			bool v22 = !v21;
			STR* branch_Str_23;
			VAL branch_C99ReprType_24;
			VAL branch_C99ReprType_25;
			bool branch_Bool_26;
			TUP* branch_ZPlusMirth_27;
			STR* branch_Str_28;
			TUP* branch_ZPlusC99Branch_29;
			if (v22) {
				TUP* v30 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v31;
				TUP* v32;
				STR* v33 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v30, &v31, &v32);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v32, 6);
				branch_ZPlusC99Branch_29 = in_ZPlusC99Branch_2;
				branch_Str_28 = v33;
				branch_ZPlusMirth_27 = v31;
				branch_Bool_26 = v22;
				branch_C99ReprType_25 = v17;
				branch_C99ReprType_24 = v17;
				branch_Str_23 = in_Str_3;
			} else {
				STR* v34;
				STRLIT(v34, "0", 1);
				branch_ZPlusC99Branch_29 = in_ZPlusC99Branch_2;
				branch_Str_28 = v34;
				branch_ZPlusMirth_27 = in_ZPlusMirth_1;
				branch_Bool_26 = v22;
				branch_C99ReprType_25 = v17;
				branch_C99ReprType_24 = v17;
				branch_Str_23 = in_Str_3;
			}
			bool v35 = value_bool(branch_ZPlusC99Branch_29->cells[3]);
			bool v36 = (branch_Bool_26 && v35);
			TUP* v37 = value_tup(branch_ZPlusC99Branch_29->cells[0], 6);
			bool v38 = value_bool(v37->cells[3]);
			bool v39 = (v36 && v38);
			v37->cells[3] = MKBOOL(v39);
			TUP* v40;
			TUP* v41;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_27, v37, &v40, &v41);
			incref(branch_C99ReprType_25);
			STR* v42 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_25);
			TUP* v43;
			TUP* v44;
			mw_mirth_c99_ZPlusC99_put(v40, v41, v42, &v43, &v44);
			STR* v45;
			STRLIT(v45, " ", 1);
			TUP* v46;
			TUP* v47;
			mw_mirth_c99_ZPlusC99_put(v43, v44, v45, &v46, &v47);
			incref(MKSTR(branch_Str_28));
			TUP* v48;
			TUP* v49;
			mw_mirth_c99_ZPlusC99_put(v46, v47, branch_Str_28, &v48, &v49);
			STR* v50;
			STRLIT(v50, " = ", 3);
			TUP* v51;
			TUP* v52;
			mw_mirth_c99_ZPlusC99_put(v48, v49, v50, &v51, &v52);
			TUP* v53;
			mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_25, branch_Str_28, &v53);
			STR* v54;
			STRLIT(v54, "(", 1);
			TUP* v55;
			TUP* v56;
			mw_mirth_c99_ZPlusC99_put(v51, v52, v54, &v55, &v56);
			STR* v57 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_24);
			TUP* v58;
			TUP* v59;
			mw_mirth_c99_ZPlusC99_put(v55, v56, v57, &v58, &v59);
			STR* v60;
			STRLIT(v60, ")(", 2);
			TUP* v61;
			TUP* v62;
			mw_mirth_c99_ZPlusC99_put(v58, v59, v60, &v61, &v62);
			TUP* v63;
			TUP* v64;
			mw_mirth_c99_ZPlusC99_put(v61, v62, branch_Str_23, &v63, &v64);
			STR* v65;
			STRLIT(v65, ")", 1);
			TUP* v66;
			TUP* v67;
			mw_mirth_c99_ZPlusC99_put(v63, v64, v65, &v66, &v67);
			STR* v68;
			STRLIT(v68, ";", 1);
			TUP* v69;
			TUP* v70;
			mw_mirth_c99_ZPlusC99_put(v66, v67, v68, &v69, &v70);
			TUP* v71;
			TUP* v72;
			mw_mirth_c99_ZPlusC99_line(v69, v70, &v71, &v72);
			v72->cells[3] = MKBOOL(v38);
			branch_ZPlusC99Branch_29->cells[0] = MKTUP(v72, 6);
			TUP* v73;
			TUP* v74;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v71, branch_ZPlusC99Branch_29, v53, &v73, &v74);
			branch_ZPlusC99Branch_8 = v74;
			branch_ZPlusMirth_7 = v73;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v75;
			VAL v76 = mtp_mirth_type_CTypeStackPart_ConsLabel(in_CTypeStackPart_4, &v75);
			VAL v77 = mw_mirth_type_CType_ZToC99ReprType(v76);
			incref(v77);
			TUP* v78;
			TUP* v79;
			mw_mirth_c99_pushZ_labelZ_expressionZBang_1_sp3(in_Str_3, v77, in_ZPlusMirth_1, in_ZPlusC99Branch_2, v77, v75, &v78, &v79);
			branch_ZPlusC99Branch_8 = v79;
			branch_ZPlusMirth_7 = v78;
		} break;
		case 3LL: { // WithLabel
			uint64_t v80;
			VAL v81 = mtp_mirth_type_CTypeStackPart_WithLabel(in_CTypeStackPart_4, &v80);
			VAL v82 = mw_mirth_type_CType_ZToC99ReprType(v81);
			incref(v82);
			TUP* v83;
			TUP* v84;
			mw_mirth_c99_pushZ_labelZ_expressionZBang_1_sp3(in_Str_3, v82, in_ZPlusMirth_1, in_ZPlusC99Branch_2, v82, v80, &v83, &v84);
			branch_ZPlusC99Branch_8 = v84;
			branch_ZPlusMirth_7 = v83;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_ZPlusC99_indent (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	INT v5 = value_int(in_ZPlusC99_2->cells[1]);
	incref(MKINT(v5));
	incref(MKINT(v5));
	INT v6 = WRAP_I63(0LL);
	bool v7 = int_lt(v6, v5);
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusC99_2;
	INT v10 = v5;
	bool v11 = v7;
	while (v11) {
		TUP* v12 = v8;
		TUP* v13 = v9;
		INT v14 = v10;
		STR* v15;
		STRLIT(v15, "\t", 1);
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_ZPlusC99_put(v12, v13, v15, &v16, &v17);
		INT v18 = WRAP_I63(1LL);
		INT v19 = int_sub(v14, v18);
		incref(MKINT(v19));
		INT v20 = WRAP_I63(0LL);
		bool v21 = int_le(v20, v19);
		INT branch_Nat_22;
		if (v21) {
			branch_Nat_22 = v19;
		} else {
			decref(MKINT(v19));
			INT v23 = WRAP_I63(0LL);
			branch_Nat_22 = v23;
		}
		incref(MKINT(branch_Nat_22));
		INT v24 = WRAP_I63(0LL);
		bool v25 = int_lt(v24, branch_Nat_22);
		v11 = v25;
		v10 = branch_Nat_22;
		v9 = v17;
		v8 = v16;
	}
	decref(MKINT(v10));
	*out_ZPlusC99_4 = v9;
	*out_ZPlusMirth_3 = v8;
}
static VAL mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix (int64_t in_C99APIArgMode_1) {
	VAL branch__3;
	switch (in_C99APIArgMode_1) {
		case 0LL: { // In
			STR* v4;
			STRLIT(v4, "in_", 3);
			branch__3 = MKSTR(v4);
		} break;
		case 1LL: { // Out
			STR* v5;
			STRLIT(v5, "out_", 4);
			branch__3 = MKSTR(v5);
		} break;
		case 2LL: { // InOut
			STR* v6;
			STRLIT(v6, "inout_", 6);
			branch__3 = MKSTR(v6);
		} break;
		case 3LL: { // Branch
			STR* v7;
			STRLIT(v7, "branch_", 7);
			branch__3 = MKSTR(v7);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch__3;
}
static bool mw_mirth_c99_C99APIArg_isZ_physicalZAsk (TUP* in_C99APIArg_1) {
	VAL v3 = in_C99APIArg_1->cells[2];
	incref(v3);
	decref(MKTUP(in_C99APIArg_1, 4));
	int64_t v4 = get_data_tag(v3);
	decref(v3);
	INT v5 = WRAP_I63(0LL);
	INT v6 = i64_to_int(v4);
	bool v7 = int_eq(v6, v5);
	bool v8 = !v7;
	return v8;
}
static bool mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk (TUP* in_C99APIArg_1) {
	incref(MKTUP(in_C99APIArg_1, 4));
	bool v3 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_C99APIArg_1);
	bool branch_Bool_4;
	if (v3) {
		VAL v5 = in_C99APIArg_1->cells[1];
		incref(v5);
		decref(MKTUP(in_C99APIArg_1, 4));
		bool branch_Bool_6;
		switch (get_data_tag(v5)) {
			case 0LL: { // Value
				bool v7 = true;
				branch_Bool_6 = v7;
			} break;
			case 1LL: { // ValueLabel
				uint64_t v8 = mtp_mirth_c99_C99APIArgSource_ValueLabel(v5);
				bool v9 = false;
				branch_Bool_6 = v9;
			} break;
			default: {
				decref(v5);
				bool v10 = false;
				branch_Bool_6 = v10;
			} break;
		}
		branch_Bool_4 = branch_Bool_6;
	} else {
		decref(MKTUP(in_C99APIArg_1, 4));
		bool v11 = false;
		branch_Bool_4 = v11;
	}
	return branch_Bool_4;
}
static STR* mw_mirth_c99_C99APIArg_popZ_consumeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3, 4));
	VAL v7 = in_C99APIArg_3->cells[2];
	incref(v7);
	decref(MKTUP(in_C99APIArg_3, 4));
	incref(v7);
	VAL v8 = in_C99APIArg_3->cells[1];
	incref(v8);
	decref(MKTUP(in_C99APIArg_3, 4));
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	STR* branch_Str_11;
	switch (get_data_tag(v8)) {
		case 0LL: { // Value
			TUP* v12;
			TUP* v13;
			TUP* v14;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v12, &v13, &v14);
			STR* v15 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v7, v14);
			branch_Str_11 = v15;
			branch_ZPlusC99Branch_10 = v13;
			branch_ZPlusMirth_9 = v12;
		} break;
		case 2LL: { // Resource
			TUP* v16;
			TUP* v17;
			TUP* v18;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v16, &v17, &v18);
			TUP* v19;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v18, &v19);
			STR* v20 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v7, v19);
			branch_Str_11 = v20;
			branch_ZPlusC99Branch_10 = v17;
			branch_ZPlusMirth_9 = v16;
		} break;
		case 1LL: { // ValueLabel
			uint64_t v21 = mtp_mirth_c99_C99APIArgSource_ValueLabel(v8);
			TUP* v22;
			TUP* v23;
			TUP* v24;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, v21, &v22, &v23, &v24);
			STR* v25 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v7, v24);
			branch_Str_11 = v25;
			branch_ZPlusC99Branch_10 = v23;
			branch_ZPlusMirth_9 = v22;
		} break;
		case 3LL: { // ResourceLabel
			uint64_t v26 = mtp_mirth_c99_C99APIArgSource_ResourceLabel(v8);
			TUP* v27;
			TUP* v28;
			TUP* v29;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, v26, &v27, &v28, &v29);
			TUP* v30;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v29, &v30);
			STR* v31 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v7, v30);
			branch_Str_11 = v31;
			branch_ZPlusC99Branch_10 = v28;
			branch_ZPlusMirth_9 = v27;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Str_11;
}
static VAL mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3, 4));
	TUP* v7;
	TUP* v8;
	STR* v9 = mw_mirth_c99_C99APIArg_popZ_consumeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99APIArg_3, &v7, &v8);
	bool v10 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_C99APIArg_3);
	TUP* branch_ZPlusMirth_11;
	TUP* branch_ZPlusC99Branch_12;
	VAL branch_Maybe_13;
	if (v10) {
		VAL v14 = mtw_std_maybe_Maybe_1_Some(MKSTR(v9));
		branch_Maybe_13 = v14;
		branch_ZPlusC99Branch_12 = v8;
		branch_ZPlusMirth_11 = v7;
	} else {
		decref(MKSTR(v9));
		VAL v15 = MKI64(0LL /* None */);
		branch_Maybe_13 = v15;
		branch_ZPlusC99Branch_12 = v8;
		branch_ZPlusMirth_11 = v7;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_Maybe_13;
}
static void mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3, 4));
	TUP* v6;
	TUP* v7;
	VAL v8 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99APIArg_3, &v6, &v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			bool v12 = value_bool(v7->cells[3]);
			TUP* v13 = value_tup(v7->cells[0], 6);
			bool v14 = value_bool(v13->cells[3]);
			bool v15 = (v12 && v14);
			v13->cells[3] = MKBOOL(v15);
			TUP* v16;
			TUP* v17;
			mw_mirth_c99_ZPlusC99_indent(v6, v13, &v16, &v17);
			STR* v18 = value_str(in_C99APIArg_3->cells[3]);
			incref(MKSTR(v18));
			decref(MKTUP(in_C99APIArg_3, 4));
			TUP* v19;
			TUP* v20;
			mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
			STR* v21;
			STRLIT(v21, " = ", 3);
			TUP* v22;
			TUP* v23;
			mw_mirth_c99_ZPlusC99_put(v19, v20, v21, &v22, &v23);
			TUP* v24;
			TUP* v25;
			mw_mirth_c99_ZPlusC99_put(v22, v23, value_str(v11), &v24, &v25);
			STR* v26;
			STRLIT(v26, ";", 1);
			TUP* v27;
			TUP* v28;
			mw_mirth_c99_ZPlusC99_put(v24, v25, v26, &v27, &v28);
			TUP* v29;
			TUP* v30;
			mw_mirth_c99_ZPlusC99_line(v27, v28, &v29, &v30);
			v30->cells[3] = MKBOOL(v14);
			v7->cells[0] = MKTUP(v30, 6);
			branch_ZPlusC99Branch_10 = v7;
			branch_ZPlusMirth_9 = v29;
		} break;
		case 0LL: { // None
			decref(MKTUP(in_C99APIArg_3, 4));
			branch_ZPlusC99Branch_10 = v7;
			branch_ZPlusMirth_9 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	int64_t v6;
	VAL v7;
	VAL v8;
	STR* v9;
	mtp_mirth_c99_C99APIArg_C99APIArg(in_C99APIArg_3, &v6, &v7, &v8, &v9);
	TUP* v10;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v8, v9, &v10);
	TUP* branch_ZPlusMirth_11;
	TUP* branch_ZPlusC99Branch_12;
	switch (get_data_tag(v7)) {
		case 0LL: { // Value
			TUP* v13;
			TUP* v14;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v10, &v13, &v14);
			branch_ZPlusC99Branch_12 = v14;
			branch_ZPlusMirth_11 = v13;
		} break;
		case 1LL: { // ValueLabel
			uint64_t v15 = mtp_mirth_c99_C99APIArgSource_ValueLabel(v7);
			TUP* v16;
			TUP* v17;
			mw_mirth_c99_pushZ_valueZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v15, v10, &v16, &v17);
			branch_ZPlusC99Branch_12 = v17;
			branch_ZPlusMirth_11 = v16;
		} break;
		case 2LL: { // Resource
			TUP* v18;
			mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v10, &v18);
			TUP* v19;
			TUP* v20;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v18, &v19, &v20);
			branch_ZPlusC99Branch_12 = v20;
			branch_ZPlusMirth_11 = v19;
		} break;
		case 3LL: { // ResourceLabel
			uint64_t v21 = mtp_mirth_c99_C99APIArgSource_ResourceLabel(v7);
			TUP* v22;
			mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v10, &v22);
			TUP* v23;
			TUP* v24;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v21, v22, &v23, &v24);
			branch_ZPlusC99Branch_12 = v24;
			branch_ZPlusMirth_11 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static STR* mw_mirth_c99_nameZ_argZ_prefix (TUP* in_ZPlusMirth_1, uint64_t in_Name_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	STR* v6 = mw_mirth_name_Name_mangled(in_ZPlusMirth_1, in_Name_2, &v5);
	STR* v7;
	STRLIT(v7, "_", 1);
	STR* v8 = str_cat(v6, v7);
	*out_ZPlusMirth_3 = v5;
	return v8;
}
static STR* mw_mirth_c99_typeZ_argZ_prefix (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	STR* branch_Str_6;
	switch (get_data_tag(in_Type_2)) {
		case 3LL: { // Meta
			uint64_t v7 = mtp_mirth_type_Type_Meta(in_Type_2);
			TUP* v8;
			VAL v9 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v7, &v8);
			TUP* branch_ZPlusMirth_10;
			VAL branch__11;
			switch (get_data_tag(v9)) {
				case 0LL: { // None
					STR* v12;
					STRLIT(v12, "", 0);
					branch__11 = MKSTR(v12);
					branch_ZPlusMirth_10 = v8;
				} break;
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
					TUP* v14;
					VAL v15 = mw_mirth_type_Type_expand(v8, v13, &v14);
					incref(v15);
					VAL v16 = mtw_std_maybe_Maybe_1_Some(v15);
					void* v17 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v7);
					mut_set(v16, v17);
					TUP* v18;
					STR* v19 = mw_mirth_c99_typeZ_argZ_prefix(v14, v15, &v18);
					branch__11 = MKSTR(v19);
					branch_ZPlusMirth_10 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Str_6 = value_str(branch__11);
			branch_ZPlusMirth_5 = branch_ZPlusMirth_10;
		} break;
		case 5LL: { // Var
			uint64_t v20 = mtp_mirth_type_Type_Var(in_Type_2);
			TUP* v21;
			uint64_t v22 = mw_mirth_var_Var_name(in_ZPlusMirth_1, v20, &v21);
			TUP* v23;
			STR* v24 = mw_mirth_c99_nameZ_argZ_prefix(v21, v22, &v23);
			branch_Str_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		case 6LL: { // Table
			uint64_t v25 = mtp_mirth_type_Type_Table(in_Type_2);
			TUP* v26;
			uint64_t v27 = mw_mirth_table_Table_name(in_ZPlusMirth_1, v25, &v26);
			TUP* v28;
			STR* v29 = mw_mirth_c99_nameZ_argZ_prefix(v26, v27, &v28);
			branch_Str_6 = v29;
			branch_ZPlusMirth_5 = v28;
		} break;
		case 7LL: { // Data
			uint64_t v30 = mtp_mirth_type_Type_Data(in_Type_2);
			TUP* v31;
			uint64_t v32 = mw_mirth_data_Data_name(in_ZPlusMirth_1, v30, &v31);
			TUP* v33;
			STR* v34 = mw_mirth_c99_nameZ_argZ_prefix(v31, v32, &v33);
			branch_Str_6 = v34;
			branch_ZPlusMirth_5 = v33;
		} break;
		case 8LL: { // DataPartial
			TUP* v35 = mtp_mirth_type_Type_DataPartial(in_Type_2);
			uint64_t v36 = value_u64(v35->cells[0]);
			decref(MKTUP(v35, 2));
			TUP* v37;
			uint64_t v38 = mw_mirth_data_Data_name(in_ZPlusMirth_1, v36, &v37);
			TUP* v39;
			STR* v40 = mw_mirth_c99_nameZ_argZ_prefix(v37, v38, &v39);
			branch_Str_6 = v40;
			branch_ZPlusMirth_5 = v39;
		} break;
		case 11LL: { // App
			VAL v41;
			VAL v42 = mtp_mirth_type_Type_App(in_Type_2, &v41);
			decref(v41);
			TUP* v43;
			STR* v44 = mw_mirth_c99_typeZ_argZ_prefix(in_ZPlusMirth_1, v42, &v43);
			branch_Str_6 = v44;
			branch_ZPlusMirth_5 = v43;
		} break;
		case 12LL: { // Mut
			VAL v45 = mtp_mirth_type_Type_Mut(in_Type_2);
			STR* v46;
			STRLIT(v46, "Mut", 3);
			TUP* v47;
			STR* v48 = mw_mirth_c99_typeZ_argZ_prefix(in_ZPlusMirth_1, v45, &v47);
			STR* v49 = str_cat(v46, v48);
			branch_Str_6 = v49;
			branch_ZPlusMirth_5 = v47;
		} break;
		case 2LL: { // Prim
			int64_t v50 = mtp_mirth_type_Type_Prim(in_Type_2);
			TUP* branch_ZPlusMirth_51;
			VAL branch__52;
			switch (v50) {
				case 0LL: { // KIND
					STR* v53;
					STRLIT(v53, "KIND_", 5);
					branch__52 = MKSTR(v53);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 1LL: { // TYPE
					STR* v54;
					STRLIT(v54, "TYPE_", 5);
					branch__52 = MKSTR(v54);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 2LL: { // STACK
					STR* v55;
					STRLIT(v55, "STACK_", 6);
					branch__52 = MKSTR(v55);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 3LL: { // RESOURCE
					STR* v56;
					STRLIT(v56, "RESOURCE_", 9);
					branch__52 = MKSTR(v56);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // Bool
					STR* v57;
					STRLIT(v57, "Bool_", 5);
					branch__52 = MKSTR(v57);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 5LL: { // Int
					STR* v58;
					STRLIT(v58, "Int_", 4);
					branch__52 = MKSTR(v58);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 6LL: { // U8
					STR* v59;
					STRLIT(v59, "U8_", 3);
					branch__52 = MKSTR(v59);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 7LL: { // U16
					STR* v60;
					STRLIT(v60, "U16_", 4);
					branch__52 = MKSTR(v60);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 8LL: { // U32
					STR* v61;
					STRLIT(v61, "U32_", 4);
					branch__52 = MKSTR(v61);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 9LL: { // U64
					STR* v62;
					STRLIT(v62, "U64_", 4);
					branch__52 = MKSTR(v62);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 10LL: { // I8
					STR* v63;
					STRLIT(v63, "I8_", 3);
					branch__52 = MKSTR(v63);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 11LL: { // I16
					STR* v64;
					STRLIT(v64, "I16_", 4);
					branch__52 = MKSTR(v64);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 12LL: { // I32
					STR* v65;
					STRLIT(v65, "I32_", 4);
					branch__52 = MKSTR(v65);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 13LL: { // I64
					STR* v66;
					STRLIT(v66, "I64_", 4);
					branch__52 = MKSTR(v66);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 14LL: { // F32
					STR* v67;
					STRLIT(v67, "F32_", 4);
					branch__52 = MKSTR(v67);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 15LL: { // F64
					STR* v68;
					STRLIT(v68, "F64_", 4);
					branch__52 = MKSTR(v68);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 16LL: { // Ptr
					STR* v69;
					STRLIT(v69, "Ptr_", 4);
					branch__52 = MKSTR(v69);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 17LL: { // Str
					STR* v70;
					STRLIT(v70, "Str_", 4);
					branch__52 = MKSTR(v70);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				case 18LL: { // World
					STR* v71;
					STRLIT(v71, "World_", 6);
					branch__52 = MKSTR(v71);
					branch_ZPlusMirth_51 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Str_6 = value_str(branch__52);
			branch_ZPlusMirth_5 = branch_ZPlusMirth_51;
		} break;
		default: {
			decref(in_Type_2);
			STR* v72;
			STRLIT(v72, "_", 1);
			branch_Str_6 = v72;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Str_6;
}
static STR* mw_mirth_c99_freshZ_argZ_nameZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, int64_t in_C99APIArgMode_3, VAL in_C99ReprType_4, VAL in_Type_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99_7, int64_t *out_C99APIArgMode_8, VAL *out_C99ReprType_9) {
	incref(in_C99ReprType_4);
	int64_t v11 = get_data_tag(in_C99ReprType_4);
	decref(in_C99ReprType_4);
	INT v12 = WRAP_I63(0LL);
	INT v13 = i64_to_int(v11);
	bool v14 = int_eq(v13, v12);
	bool v15 = !v14;
	VAL branch_C99ReprType_16;
	int64_t branch_C99APIArgMode_17;
	TUP* branch_ZPlusMirth_18;
	TUP* branch_ZPlusC99_19;
	STR* branch_Str_20;
	if (v15) {
		VAL v21 = mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix(in_C99APIArgMode_3);
		TUP* v22;
		STR* v23 = mw_mirth_c99_typeZ_argZ_prefix(in_ZPlusMirth_1, in_Type_5, &v22);
		STR* v24 = str_cat(value_str(v21), v23);
		TUP* v25;
		TUP* v26;
		STR* v27 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(v22, in_ZPlusC99_2, v24, &v25, &v26);
		branch_Str_20 = v27;
		branch_ZPlusC99_19 = v26;
		branch_ZPlusMirth_18 = v25;
		branch_C99APIArgMode_17 = in_C99APIArgMode_3;
		branch_C99ReprType_16 = in_C99ReprType_4;
	} else {
		decref(in_Type_5);
		STR* v28;
		STRLIT(v28, "0", 1);
		branch_Str_20 = v28;
		branch_ZPlusC99_19 = in_ZPlusC99_2;
		branch_ZPlusMirth_18 = in_ZPlusMirth_1;
		branch_C99APIArgMode_17 = in_C99APIArgMode_3;
		branch_C99ReprType_16 = in_C99ReprType_4;
	}
	*out_C99ReprType_9 = branch_C99ReprType_16;
	*out_C99APIArgMode_8 = branch_C99APIArgMode_17;
	*out_ZPlusC99_7 = branch_ZPlusC99_19;
	*out_ZPlusMirth_6 = branch_ZPlusMirth_18;
	return branch_Str_20;
}
static VAL mw_mirth_c99_consZ_freshZ_argZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, int64_t in_C99APIArgMode_3, VAL in_List_4, VAL in_Type_5, VAL in_C99APIArgSource_6, TUP* *out_ZPlusMirth_7, TUP* *out_ZPlusC99_8, int64_t *out_C99APIArgMode_9) {
	incref(in_Type_5);
	TUP* v11;
	VAL v12 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, in_Type_5, &v11);
	TUP* v13;
	TUP* v14;
	int64_t v15;
	VAL v16;
	STR* v17 = mw_mirth_c99_freshZ_argZ_nameZBang(v11, in_ZPlusC99_2, in_C99APIArgMode_3, v12, in_Type_5, &v13, &v14, &v15, &v16);
	TUP* v18 = mtw_mirth_c99_C99APIArg_C99APIArg(v15, in_C99APIArgSource_6, v16, v17);
	VAL v19 = mw_std_list_List_1_cons(MKTUP(v18, 4), in_List_4);
	*out_C99APIArgMode_9 = v15;
	*out_ZPlusC99_8 = v14;
	*out_ZPlusMirth_7 = v13;
	return v19;
}
static VAL mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, int64_t in_C99APIArgMode_3, VAL in_StackType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6, int64_t *out_C99APIArgMode_7, bool *out_Bool_8) {
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusC99_11;
	int64_t branch_C99APIArgMode_12;
	bool branch_Bool_13;
	VAL branch_List_14;
	switch (get_data_tag(in_StackType_4)) {
		case 2LL: { // Unit
			bool v15 = false;
			VAL v16 = MKI64(0LL /* Nil */);
			branch_List_14 = v16;
			branch_Bool_13 = v15;
			branch_C99APIArgMode_12 = in_C99APIArgMode_3;
			branch_ZPlusC99_11 = in_ZPlusC99_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Error
			bool v17 = true;
			VAL v18 = MKI64(0LL /* Nil */);
			branch_List_14 = v18;
			branch_Bool_13 = v17;
			branch_C99APIArgMode_12 = in_C99APIArgMode_3;
			branch_ZPlusC99_11 = in_ZPlusC99_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			bool v19 = true;
			VAL v20 = MKI64(0LL /* Nil */);
			branch_List_14 = v20;
			branch_Bool_13 = v19;
			branch_C99APIArgMode_12 = in_C99APIArgMode_3;
			branch_ZPlusC99_11 = in_ZPlusC99_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Meta
			uint64_t v21 = mtp_mirth_type_StackType_Meta(in_StackType_4);
			TUP* v22;
			VAL v23 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v21, &v22);
			int64_t branch_C99APIArgMode_24;
			bool branch_Bool_25;
			VAL branch_List_26;
			TUP* branch_ZPlusMirth_27;
			TUP* branch_ZPlusC99_28;
			switch (get_data_tag(v23)) {
				case 0LL: { // None
					bool v29 = true;
					VAL v30 = MKI64(0LL /* Nil */);
					branch_ZPlusC99_28 = in_ZPlusC99_2;
					branch_ZPlusMirth_27 = v22;
					branch_List_26 = v30;
					branch_Bool_25 = v29;
					branch_C99APIArgMode_24 = in_C99APIArgMode_3;
				} break;
				case 1LL: { // Some
					VAL v31 = mtp_std_maybe_Maybe_1_Some(v23);
					TUP* v32;
					VAL v33 = mw_mirth_type_Type_expand(v22, v31, &v32);
					incref(v33);
					VAL v34 = mtw_std_maybe_Maybe_1_Some(v33);
					void* v35 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v21);
					mut_set(v34, v35);
					VAL v36 = mw_mirth_type_Type_ZToStackType(v33);
					TUP* v37;
					TUP* v38;
					int64_t v39;
					bool v40;
					VAL v41 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(v32, in_ZPlusC99_2, in_C99APIArgMode_3, v36, &v37, &v38, &v39, &v40);
					branch_ZPlusC99_28 = v38;
					branch_ZPlusMirth_27 = v37;
					branch_List_26 = v41;
					branch_Bool_25 = v40;
					branch_C99APIArgMode_24 = v39;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_List_14 = branch_List_26;
			branch_Bool_13 = branch_Bool_25;
			branch_C99APIArgMode_12 = branch_C99APIArgMode_24;
			branch_ZPlusC99_11 = branch_ZPlusC99_28;
			branch_ZPlusMirth_10 = branch_ZPlusMirth_27;
		} break;
		case 3LL: { // Var
			uint64_t v42 = mtp_mirth_type_StackType_Var(in_StackType_4);
			bool v43 = true;
			VAL v44 = MKI64(0LL /* Nil */);
			branch_List_14 = v44;
			branch_Bool_13 = v43;
			branch_C99APIArgMode_12 = in_C99APIArgMode_3;
			branch_ZPlusC99_11 = in_ZPlusC99_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Cons
			VAL v45;
			VAL v46 = mtp_mirth_type_StackType_Cons(in_StackType_4, &v45);
			VAL v47 = MKI64(0LL /* Value */);
			TUP* v48;
			TUP* v49;
			int64_t v50;
			bool v51;
			VAL v52 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_3, v46, &v48, &v49, &v50, &v51);
			TUP* v53;
			TUP* v54;
			int64_t v55;
			VAL v56 = mw_mirth_c99_consZ_freshZ_argZBang(v48, v49, v50, v52, v45, v47, &v53, &v54, &v55);
			branch_List_14 = v56;
			branch_Bool_13 = v51;
			branch_C99APIArgMode_12 = v55;
			branch_ZPlusC99_11 = v54;
			branch_ZPlusMirth_10 = v53;
		} break;
		case 7LL: { // With
			VAL v57;
			VAL v58 = mtp_mirth_type_StackType_With(in_StackType_4, &v57);
			VAL v59 = MKI64(2LL /* Resource */);
			VAL v60 = mw_mirth_type_Resource_ZToType(v57);
			TUP* v61;
			TUP* v62;
			int64_t v63;
			bool v64;
			VAL v65 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_3, v58, &v61, &v62, &v63, &v64);
			TUP* v66;
			TUP* v67;
			int64_t v68;
			VAL v69 = mw_mirth_c99_consZ_freshZ_argZBang(v61, v62, v63, v65, v60, v59, &v66, &v67, &v68);
			branch_List_14 = v69;
			branch_Bool_13 = v64;
			branch_C99APIArgMode_12 = v68;
			branch_ZPlusC99_11 = v67;
			branch_ZPlusMirth_10 = v66;
		} break;
		case 6LL: { // ConsLabel
			VAL v70;
			uint64_t v71;
			VAL v72 = mtp_mirth_type_StackType_ConsLabel(in_StackType_4, &v70, &v71);
			VAL v73 = mtw_mirth_c99_C99APIArgSource_ValueLabel(v71);
			TUP* v74;
			TUP* v75;
			int64_t v76;
			bool v77;
			VAL v78 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_3, v72, &v74, &v75, &v76, &v77);
			TUP* v79;
			TUP* v80;
			int64_t v81;
			VAL v82 = mw_mirth_c99_consZ_freshZ_argZBang(v74, v75, v76, v78, v70, v73, &v79, &v80, &v81);
			branch_List_14 = v82;
			branch_Bool_13 = v77;
			branch_C99APIArgMode_12 = v81;
			branch_ZPlusC99_11 = v80;
			branch_ZPlusMirth_10 = v79;
		} break;
		case 8LL: { // WithLabel
			VAL v83;
			uint64_t v84;
			VAL v85 = mtp_mirth_type_StackType_WithLabel(in_StackType_4, &v83, &v84);
			VAL v86 = mtw_mirth_c99_C99APIArgSource_ResourceLabel(v84);
			VAL v87 = mw_mirth_type_Resource_ZToType(v83);
			TUP* v88;
			TUP* v89;
			int64_t v90;
			bool v91;
			VAL v92 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_3, v85, &v88, &v89, &v90, &v91);
			TUP* v93;
			TUP* v94;
			int64_t v95;
			VAL v96 = mw_mirth_c99_consZ_freshZ_argZBang(v88, v89, v90, v92, v87, v86, &v93, &v94, &v95);
			branch_List_14 = v96;
			branch_Bool_13 = v91;
			branch_C99APIArgMode_12 = v95;
			branch_ZPlusC99_11 = v94;
			branch_ZPlusMirth_10 = v93;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Bool_8 = branch_Bool_13;
	*out_C99APIArgMode_7 = branch_C99APIArgMode_12;
	*out_ZPlusC99_6 = branch_ZPlusC99_11;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_10;
	return branch_List_14;
}
static VAL mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, VAL in_StackType_3, int64_t in_C99APIArgMode_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6, bool *out_Bool_7) {
	TUP* v9;
	TUP* v10;
	int64_t v11;
	bool v12;
	VAL v13 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_ZPlusMirth_1, in_ZPlusC99_2, in_C99APIArgMode_4, in_StackType_3, &v9, &v10, &v11, &v12);
	VAL v14 = mw_std_list_List_1_reverse(v13);
	*out_Bool_7 = v12;
	*out_ZPlusC99_6 = v10;
	*out_ZPlusMirth_5 = v9;
	return v14;
}
static TUP* mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* in_ArrowType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6) {
	INT v8 = WRAP_I63(1LL);
	INT v9 = value_int(in_ZPlusC99_2->cells[2]);
	incref(MKINT(v9));
	INT v10 = value_int(in_ZPlusC99_2->cells[2]);
	decref(MKINT(v10));
	in_ZPlusC99_2->cells[2] = MKINT(v8);
	incref(MKTUP(in_ArrowType_4, 2));
	VAL v11 = in_ArrowType_4->cells[0];
	incref(v11);
	decref(MKTUP(in_ArrowType_4, 2));
	int64_t v12 = 0LL /* In */;
	TUP* v13;
	TUP* v14;
	bool v15;
	VAL v16 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(in_ZPlusMirth_1, in_ZPlusC99_2, v11, v12, &v13, &v14, &v15);
	incref(MKTUP(in_ArrowType_4, 2));
	VAL v17 = in_ArrowType_4->cells[1];
	incref(v17);
	decref(MKTUP(in_ArrowType_4, 2));
	int64_t v18 = 1LL /* Out */;
	TUP* v19;
	TUP* v20;
	bool v21;
	VAL v22 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(v13, v14, v17, v18, &v19, &v20, &v21);
	VAL v23 = MKI64(0LL /* Nil */);
	VAL v24;
	mw_std_list_List_1_buildZBang(v23, &v24);
	bool v25 = true;
	VAL v26 = v24;
	VAL v27 = v22;
	bool v28 = v25;
	bool v29 = v25;
	while (v29) {
		VAL v30 = v26;
		VAL v31 = v27;
		bool v32 = v28;
		VAL branch_ZPlusLister_33;
		VAL branch_List_34;
		bool branch_Bool_35;
		switch (get_data_tag(v31)) {
			case 1LL: { // Cons
				VAL v36;
				VAL v37 = mtp_std_list_List_1_Cons(v31, &v36);
				incref(v37);
				bool v38 = mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk(value_tup(v37, 4));
				VAL branch_ZPlusLister_39;
				VAL branch_List_40;
				bool branch_Bool_41;
				if (v38) {
					VAL v42 = mw_std_list_List_1_cons(v37, v36);
					bool v43 = false;
					branch_Bool_41 = v43;
					branch_List_40 = v42;
					branch_ZPlusLister_39 = v30;
				} else {
					VAL v44;
					mw_std_list_ZPlusLister_1_pushZBang(v37, v30, &v44);
					bool v45 = true;
					branch_Bool_41 = v45;
					branch_List_40 = v36;
					branch_ZPlusLister_39 = v44;
				}
				branch_Bool_35 = branch_Bool_41;
				branch_List_34 = branch_List_40;
				branch_ZPlusLister_33 = branch_ZPlusLister_39;
			} break;
			case 0LL: { // Nil
				VAL v46 = MKI64(0LL /* Nil */);
				bool v47 = false;
				branch_Bool_35 = v47;
				branch_List_34 = v46;
				branch_ZPlusLister_33 = v30;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v29 = branch_Bool_35;
		v28 = branch_Bool_35;
		v27 = branch_List_34;
		v26 = branch_ZPlusLister_33;
	}
	VAL v48 = mw_std_list_ZPlusLister_1_doneZBang(v26);
	VAL v49;
	VAL v50 = mw_std_list_List_1_uncons(v27, &v49);
	INT v51 = value_int(v20->cells[2]);
	incref(MKINT(v51));
	INT v52 = value_int(v20->cells[2]);
	decref(MKINT(v52));
	v20->cells[2] = MKINT(v9);
	decref(MKINT(v51));
	bool v53 = (v21 || v15);
	incref(MKTUP(in_ArrowType_4, 2));
	VAL v54 = in_ArrowType_4->cells[1];
	incref(v54);
	decref(MKTUP(in_ArrowType_4, 2));
	TUP* v55;
	VAL v56 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v19, v54, &v55);
	TUP* branch_ArrowType_57;
	TUP* branch_ZPlusMirth_58;
	bool branch_Bool_59;
	switch (get_data_tag(v56)) {
		case 1LL: { // Some
			VAL v60 = mtp_std_maybe_Maybe_1_Some(v56);
			incref(MKTUP(in_ArrowType_4, 2));
			VAL v61 = in_ArrowType_4->cells[0];
			incref(v61);
			decref(MKTUP(in_ArrowType_4, 2));
			TUP* v62;
			VAL v63 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v55, v61, &v62);
			bool branch_Bool_64;
			switch (get_data_tag(v63)) {
				case 1LL: { // Some
					VAL v65 = mtp_std_maybe_Maybe_1_Some(v63);
					uint64_t v66 = mw_mirth_var_Var_index(value_u64(v60));
					uint64_t v67 = mw_mirth_var_Var_index(value_u64(v65));
					bool v68 = (v66 == v67);
					bool v69 = !v68;
					branch_Bool_64 = v69;
				} break;
				case 0LL: { // None
					decref(v60);
					bool v70 = false;
					branch_Bool_64 = v70;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_59 = branch_Bool_64;
			branch_ZPlusMirth_58 = v62;
			branch_ArrowType_57 = in_ArrowType_4;
		} break;
		case 0LL: { // None
			bool v71 = false;
			branch_Bool_59 = v71;
			branch_ZPlusMirth_58 = v55;
			branch_ArrowType_57 = in_ArrowType_4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v72 = !branch_Bool_59;
	bool v73 = (v72 && v53);
	TUP* v74 = mtw_mirth_c99_C99API_C99API(in_Str_3, branch_ArrowType_57, v16, v48, v50, v49, v73, branch_Bool_59);
	*out_ZPlusC99_6 = v20;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_58;
	return v74;
}
static TUP* mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3, 4));
	bool v7 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_C99APIArg_3);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	TUP* branch_C99APIArg_10;
	if (v7) {
		incref(MKTUP(in_C99APIArg_3, 4));
		VAL v11 = in_C99APIArg_3->cells[2];
		incref(v11);
		decref(MKTUP(in_C99APIArg_3, 4));
		TUP* v12;
		TUP* v13;
		TUP* v14;
		mw_mirth_c99_C99ReprType_newZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v11, &v12, &v13, &v14);
		STR* v15 = mw_mirth_c99_ZPlusC99Value_consume(v14);
		VAL v16 = tup_replace(MKTUP(in_C99APIArg_3, 4), 3, MKSTR(v15));
		branch_C99APIArg_10 = value_tup(v16, 4);
		branch_ZPlusC99Branch_9 = v13;
		branch_ZPlusMirth_8 = v12;
	} else {
		STR* v17;
		STRLIT(v17, "0", 1);
		VAL v18 = tup_replace(MKTUP(in_C99APIArg_3, 4), 3, MKSTR(v17));
		branch_C99APIArg_10 = value_tup(v18, 4);
		branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_C99APIArg_10;
}
static void mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99APIArg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99APIArg_3, 4));
	bool v6 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_C99APIArg_3);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusC99Branch_8;
	if (v6) {
		bool v9 = value_bool(in_ZPlusC99Branch_2->cells[3]);
		TUP* v10 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		bool v11 = value_bool(v10->cells[3]);
		bool v12 = (v9 && v11);
		v10->cells[3] = MKBOOL(v12);
		TUP* v13;
		TUP* v14;
		mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v10, &v13, &v14);
		incref(MKTUP(in_C99APIArg_3, 4));
		VAL v15 = in_C99APIArg_3->cells[2];
		incref(v15);
		decref(MKTUP(in_C99APIArg_3, 4));
		STR* v16 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v15);
		TUP* v17;
		TUP* v18;
		mw_mirth_c99_ZPlusC99_put(v13, v14, v16, &v17, &v18);
		STR* v19;
		STRLIT(v19, " ", 1);
		TUP* v20;
		TUP* v21;
		mw_mirth_c99_ZPlusC99_put(v17, v18, v19, &v20, &v21);
		incref(MKTUP(in_C99APIArg_3, 4));
		STR* v22 = value_str(in_C99APIArg_3->cells[3]);
		incref(MKSTR(v22));
		decref(MKTUP(in_C99APIArg_3, 4));
		TUP* v23;
		TUP* v24;
		mw_mirth_c99_ZPlusC99_put(v20, v21, v22, &v23, &v24);
		STR* v25;
		STRLIT(v25, ";", 1);
		TUP* v26;
		TUP* v27;
		mw_mirth_c99_ZPlusC99_put(v23, v24, v25, &v26, &v27);
		TUP* v28;
		TUP* v29;
		mw_mirth_c99_ZPlusC99_line(v26, v27, &v28, &v29);
		v29->cells[3] = MKBOOL(v11);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v29, 6);
		decref(MKTUP(in_C99APIArg_3, 4));
		branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_7 = v28;
	} else {
		decref(MKTUP(in_C99APIArg_3, 4));
		branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static TUP* mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, TUP* in_C99APIArg_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	TUP* v8 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	TUP* v9;
	TUP* v10;
	STR* v11 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v8, &v9, &v10);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v10, 6);
	VAL v12 = tup_replace(MKTUP(in_C99APIArg_4, 4), 3, MKSTR(v11));
	bool v13 = value_bool(in_ZPlusC99Branch_2->cells[3]);
	TUP* v14 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	bool v15 = value_bool(v14->cells[3]);
	bool v16 = (v13 && v15);
	v14->cells[3] = MKBOOL(v16);
	TUP* v17;
	TUP* v18;
	mw_mirth_c99_ZPlusC99_indent(v9, v14, &v17, &v18);
	incref(v12);
	VAL v19 = VTUP(v12)->cells[2];
	incref(v19);
	decref(v12);
	STR* v20 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v19);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_put(v17, v18, v20, &v21, &v22);
	STR* v23;
	STRLIT(v23, " ", 1);
	TUP* v24;
	TUP* v25;
	mw_mirth_c99_ZPlusC99_put(v21, v22, v23, &v24, &v25);
	incref(v12);
	STR* v26 = value_str(VTUP(v12)->cells[3]);
	incref(MKSTR(v26));
	decref(v12);
	TUP* v27;
	TUP* v28;
	mw_mirth_c99_ZPlusC99_put(v24, v25, v26, &v27, &v28);
	STR* v29;
	STRLIT(v29, " = ", 3);
	TUP* v30;
	TUP* v31;
	mw_mirth_c99_ZPlusC99_put(v27, v28, v29, &v30, &v31);
	TUP* v32;
	TUP* v33;
	mw_mirth_c99_ZPlusC99_put(v30, v31, in_Str_3, &v32, &v33);
	STR* v34;
	STRLIT(v34, ";", 1);
	TUP* v35;
	TUP* v36;
	mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
	TUP* v37;
	TUP* v38;
	mw_mirth_c99_ZPlusC99_line(v35, v36, &v37, &v38);
	v38->cells[3] = MKBOOL(v15);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v38, 6);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_5 = v37;
	return value_tup(v12, 4);
}
static void mw_mirth_c99_c99Z_smartZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* in_C99API_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_c99Z_argsZ_pushZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_List_3, &v7, &v8);
	incref(MKTUP(in_C99API_4, 8));
	VAL v9 = in_C99API_4->cells[2];
	incref(v9);
	decref(MKTUP(in_C99API_4, 8));
	VAL v10 = mw_std_list_List_1_reverse(v9);
	VAL v11 = MKI64(0LL /* Nil */);
	VAL v12;
	mw_std_list_List_1_buildZBang(v11, &v12);
	bool v13 = true;
	TUP* v14 = v7;
	TUP* v15 = v8;
	VAL v16 = v12;
	VAL v17 = v10;
	bool v18 = v13;
	bool v19 = v13;
	while (v19) {
		TUP* v20 = v14;
		TUP* v21 = v15;
		VAL v22 = v16;
		VAL v23 = v17;
		bool v24 = v18;
		TUP* branch_ZPlusMirth_25;
		TUP* branch_ZPlusC99Branch_26;
		VAL branch_ZPlusLister_27;
		VAL branch_List_28;
		bool branch_Bool_29;
		switch (get_data_tag(v23)) {
			case 1LL: { // Cons
				VAL v30;
				VAL v31 = mtp_std_list_List_1_Cons(v23, &v30);
				TUP* v32;
				TUP* v33;
				VAL v34 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(v20, v21, value_tup(v31, 4), &v32, &v33);
				VAL v35;
				mw_std_list_ZPlusLister_1_pushZBang(v34, v22, &v35);
				bool v36 = true;
				branch_Bool_29 = v36;
				branch_List_28 = v30;
				branch_ZPlusLister_27 = v35;
				branch_ZPlusC99Branch_26 = v33;
				branch_ZPlusMirth_25 = v32;
			} break;
			case 0LL: { // Nil
				VAL v37 = MKI64(0LL /* Nil */);
				bool v38 = false;
				branch_Bool_29 = v38;
				branch_List_28 = v37;
				branch_ZPlusLister_27 = v22;
				branch_ZPlusC99Branch_26 = v21;
				branch_ZPlusMirth_25 = v20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_29;
		v18 = branch_Bool_29;
		v17 = branch_List_28;
		v16 = branch_ZPlusLister_27;
		v15 = branch_ZPlusC99Branch_26;
		v14 = branch_ZPlusMirth_25;
	}
	decref(v17);
	VAL v39 = mw_std_list_ZPlusLister_1_doneZBang(v16);
	VAL v40 = mw_std_list_List_1_reverse(v39);
	incref(MKTUP(in_C99API_4, 8));
	bool v41 = value_bool(in_C99API_4->cells[6]);
	decref(MKTUP(in_C99API_4, 8));
	TUP* branch_ZPlusMirth_42;
	TUP* branch_ZPlusC99Branch_43;
	if (v41) {
		TUP* v44;
		TUP* v45;
		mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(v14, v15, &v44, &v45);
		branch_ZPlusC99Branch_43 = v45;
		branch_ZPlusMirth_42 = v44;
	} else {
		branch_ZPlusC99Branch_43 = v15;
		branch_ZPlusMirth_42 = v14;
	}
	incref(MKTUP(in_C99API_4, 8));
	VAL v46 = in_C99API_4->cells[3];
	incref(v46);
	decref(MKTUP(in_C99API_4, 8));
	TUP* v47;
	TUP* v48;
	VAL v49 = mw_std_list_List_1_map_1_sp3(branch_ZPlusMirth_42, branch_ZPlusC99Branch_43, v46, &v47, &v48);
	incref(MKTUP(in_C99API_4, 8));
	VAL v50 = in_C99API_4->cells[5];
	incref(v50);
	decref(MKTUP(in_C99API_4, 8));
	TUP* v51;
	TUP* v52;
	VAL v53 = mw_std_list_List_1_map_1_sp3(v47, v48, v50, &v51, &v52);
	STR* v54;
	STRLIT(v54, "", 0);
	incref(MKTUP(in_C99API_4, 8));
	STR* v55 = value_str(in_C99API_4->cells[0]);
	incref(MKSTR(v55));
	decref(MKTUP(in_C99API_4, 8));
	STR* v56;
	mw_std_str_ZPlusStr_pushZ_strZBang(v55, v54, &v56);
	STR* v57;
	STRLIT(v57, "(", 1);
	STR* v58;
	mw_std_str_ZPlusStr_pushZ_strZBang(v57, v56, &v58);
	STR* v59;
	STRLIT(v59, "", 0);
	bool v60 = true;
	STR* v61 = v58;
	STR* v62 = v59;
	VAL v63 = v40;
	bool v64 = v60;
	bool v65 = v60;
	while (v65) {
		STR* v66 = v61;
		STR* v67 = v62;
		VAL v68 = v63;
		bool v69 = v64;
		STR* branch_ZPlusStr_70;
		STR* branch_Str_71;
		VAL branch_List_72;
		bool branch_Bool_73;
		switch (get_data_tag(v68)) {
			case 1LL: { // Cons
				VAL v74;
				VAL v75 = mtp_std_list_List_1_Cons(v68, &v74);
				STR* branch_Str_76;
				STR* branch_ZPlusStr_77;
				switch (get_data_tag(v75)) {
					case 1LL: { // Some
						VAL v78 = mtp_std_maybe_Maybe_1_Some(v75);
						STR* v79;
						mw_std_str_ZPlusStr_pushZ_strZBang(v67, v66, &v79);
						STR* v80;
						STRLIT(v80, ", ", 2);
						STR* v81;
						mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v78), v79, &v81);
						branch_ZPlusStr_77 = v81;
						branch_Str_76 = v80;
					} break;
					case 0LL: { // None
						branch_ZPlusStr_77 = v66;
						branch_Str_76 = v67;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v82 = true;
				branch_Bool_73 = v82;
				branch_List_72 = v74;
				branch_Str_71 = branch_Str_76;
				branch_ZPlusStr_70 = branch_ZPlusStr_77;
			} break;
			case 0LL: { // Nil
				VAL v83 = MKI64(0LL /* Nil */);
				bool v84 = false;
				branch_Bool_73 = v84;
				branch_List_72 = v83;
				branch_Str_71 = v67;
				branch_ZPlusStr_70 = v66;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v65 = branch_Bool_73;
		v64 = branch_Bool_73;
		v63 = branch_List_72;
		v62 = branch_Str_71;
		v61 = branch_ZPlusStr_70;
	}
	decref(v63);
	incref(v49);
	incref(v53);
	VAL v85 = mw_std_list_List_1_cat(v49, v53);
	bool v86 = true;
	STR* v87 = v61;
	STR* v88 = v62;
	VAL v89 = v85;
	bool v90 = v86;
	bool v91 = v86;
	while (v91) {
		STR* v92 = v87;
		STR* v93 = v88;
		VAL v94 = v89;
		bool v95 = v90;
		STR* branch_Str_96;
		STR* branch_ZPlusStr_97;
		VAL branch_List_98;
		bool branch_Bool_99;
		switch (get_data_tag(v94)) {
			case 1LL: { // Cons
				VAL v100;
				VAL v101 = mtp_std_list_List_1_Cons(v94, &v100);
				incref(v101);
				bool v102 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(value_tup(v101, 4));
				STR* branch_Str_103;
				STR* branch_ZPlusStr_104;
				if (v102) {
					STR* v105;
					mw_std_str_ZPlusStr_pushZ_strZBang(v93, v92, &v105);
					STR* v106;
					STRLIT(v106, ", ", 2);
					STR* v107;
					STRLIT(v107, "&", 1);
					STR* v108;
					mw_std_str_ZPlusStr_pushZ_strZBang(v107, v105, &v108);
					STR* v109 = value_str(VTUP(v101)->cells[3]);
					incref(MKSTR(v109));
					decref(v101);
					STR* v110;
					mw_std_str_ZPlusStr_pushZ_strZBang(v109, v108, &v110);
					branch_ZPlusStr_104 = v110;
					branch_Str_103 = v106;
				} else {
					decref(v101);
					branch_ZPlusStr_104 = v92;
					branch_Str_103 = v93;
				}
				bool v111 = true;
				branch_Bool_99 = v111;
				branch_List_98 = v100;
				branch_ZPlusStr_97 = branch_ZPlusStr_104;
				branch_Str_96 = branch_Str_103;
			} break;
			case 0LL: { // Nil
				VAL v112 = MKI64(0LL /* Nil */);
				bool v113 = false;
				branch_Bool_99 = v113;
				branch_List_98 = v112;
				branch_ZPlusStr_97 = v92;
				branch_Str_96 = v93;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v91 = branch_Bool_99;
		v90 = branch_Bool_99;
		v89 = branch_List_98;
		v88 = branch_Str_96;
		v87 = branch_ZPlusStr_97;
	}
	decref(v89);
	decref(MKSTR(v88));
	STR* v114;
	STRLIT(v114, ")", 1);
	STR* v115;
	mw_std_str_ZPlusStr_pushZ_strZBang(v114, v87, &v115);
	incref(MKTUP(in_C99API_4, 8));
	VAL v116 = in_C99API_4->cells[4];
	incref(v116);
	decref(MKTUP(in_C99API_4, 8));
	TUP* branch_C99API_117;
	TUP* branch_ZPlusMirth_118;
	TUP* branch_ZPlusC99Branch_119;
	VAL branch_Maybe_120;
	switch (get_data_tag(v116)) {
		case 1LL: { // Some
			VAL v121 = mtp_std_maybe_Maybe_1_Some(v116);
			incref(MKTUP(in_C99API_4, 8));
			bool v122 = value_bool(in_C99API_4->cells[7]);
			decref(MKTUP(in_C99API_4, 8));
			TUP* branch_C99API_123;
			TUP* branch_ZPlusMirth_124;
			TUP* branch_ZPlusC99Branch_125;
			VAL branch_Maybe_126;
			if (v122) {
				bool v127 = value_bool(v52->cells[3]);
				TUP* v128 = value_tup(v52->cells[0], 6);
				bool v129 = value_bool(v128->cells[3]);
				bool v130 = (v127 && v129);
				v128->cells[3] = MKBOOL(v130);
				TUP* v131;
				TUP* v132;
				mw_mirth_c99_ZPlusC99_indent(v51, v128, &v131, &v132);
				STR* v133;
				STRLIT(v133, "(void)", 6);
				TUP* v134;
				TUP* v135;
				mw_mirth_c99_ZPlusC99_put(v131, v132, v133, &v134, &v135);
				TUP* v136;
				TUP* v137;
				mw_mirth_c99_ZPlusC99_put(v134, v135, v115, &v136, &v137);
				STR* v138;
				STRLIT(v138, ";", 1);
				TUP* v139;
				TUP* v140;
				mw_mirth_c99_ZPlusC99_put(v136, v137, v138, &v139, &v140);
				TUP* v141;
				TUP* v142;
				mw_mirth_c99_ZPlusC99_line(v139, v140, &v141, &v142);
				v142->cells[3] = MKBOOL(v129);
				v52->cells[0] = MKTUP(v142, 6);
				VAL v143 = mtw_std_maybe_Maybe_1_Some(v121);
				branch_Maybe_126 = v143;
				branch_ZPlusC99Branch_125 = v52;
				branch_ZPlusMirth_124 = v141;
				branch_C99API_123 = in_C99API_4;
			} else {
				TUP* v144;
				TUP* v145;
				TUP* v146 = mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang(v51, v52, v115, value_tup(v121, 4), &v144, &v145);
				VAL v147 = mtw_std_maybe_Maybe_1_Some(MKTUP(v146, 4));
				branch_Maybe_126 = v147;
				branch_ZPlusC99Branch_125 = v145;
				branch_ZPlusMirth_124 = v144;
				branch_C99API_123 = in_C99API_4;
			}
			branch_Maybe_120 = branch_Maybe_126;
			branch_ZPlusC99Branch_119 = branch_ZPlusC99Branch_125;
			branch_ZPlusMirth_118 = branch_ZPlusMirth_124;
			branch_C99API_117 = branch_C99API_123;
		} break;
		case 0LL: { // None
			bool v148 = value_bool(v52->cells[3]);
			TUP* v149 = value_tup(v52->cells[0], 6);
			bool v150 = value_bool(v149->cells[3]);
			bool v151 = (v148 && v150);
			v149->cells[3] = MKBOOL(v151);
			TUP* v152;
			TUP* v153;
			mw_mirth_c99_ZPlusC99_indent(v51, v149, &v152, &v153);
			TUP* v154;
			TUP* v155;
			mw_mirth_c99_ZPlusC99_put(v152, v153, v115, &v154, &v155);
			STR* v156;
			STRLIT(v156, ";", 1);
			TUP* v157;
			TUP* v158;
			mw_mirth_c99_ZPlusC99_put(v154, v155, v156, &v157, &v158);
			TUP* v159;
			TUP* v160;
			mw_mirth_c99_ZPlusC99_line(v157, v158, &v159, &v160);
			v160->cells[3] = MKBOOL(v150);
			v52->cells[0] = MKTUP(v160, 6);
			VAL v161 = MKI64(0LL /* None */);
			branch_Maybe_120 = v161;
			branch_ZPlusC99Branch_119 = v52;
			branch_ZPlusMirth_118 = v159;
			branch_C99API_117 = in_C99API_4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v162 = value_bool(branch_C99API_117->cells[7]);
	decref(MKTUP(branch_C99API_117, 8));
	bool v163 = !v162;
	bool v164 = value_bool(branch_ZPlusC99Branch_119->cells[3]);
	bool v165 = (v163 && v164);
	branch_ZPlusC99Branch_119->cells[3] = MKBOOL(v165);
	TUP* v166;
	TUP* v167;
	mw_std_list_List_1_for_1_sp14(branch_ZPlusMirth_118, branch_ZPlusC99Branch_119, v49, &v166, &v167);
	TUP* branch_ZPlusMirth_168;
	TUP* branch_ZPlusC99Branch_169;
	switch (get_data_tag(branch_Maybe_120)) {
		case 1LL: { // Some
			VAL v170 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_120);
			TUP* v171;
			TUP* v172;
			mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang(v166, v167, value_tup(v170, 4), &v171, &v172);
			branch_ZPlusC99Branch_169 = v172;
			branch_ZPlusMirth_168 = v171;
		} break;
		case 0LL: { // None
			branch_ZPlusC99Branch_169 = v167;
			branch_ZPlusMirth_168 = v166;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v173;
	TUP* v174;
	mw_std_list_List_1_for_1_sp14(branch_ZPlusMirth_168, branch_ZPlusC99Branch_169, v53, &v173, &v174);
	*out_ZPlusC99Branch_6 = v174;
	*out_ZPlusMirth_5 = v173;
}
static void mw_mirth_c99_ZPlusC99_smartZ_sigZ_put (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* in_C99API_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	STR* v6;
	STRLIT(v6, "static ", 7);
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	incref(MKTUP(in_C99API_3, 8));
	VAL v9 = in_C99API_3->cells[4];
	incref(v9);
	decref(MKTUP(in_C99API_3, 8));
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusC99_11;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v9);
			VAL v13 = VTUP(v12)->cells[2];
			incref(v13);
			decref(v12);
			STR* v14 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v13);
			TUP* v15;
			TUP* v16;
			mw_mirth_c99_ZPlusC99_put(v7, v8, v14, &v15, &v16);
			branch_ZPlusC99_11 = v16;
			branch_ZPlusMirth_10 = v15;
		} break;
		case 0LL: { // None
			STR* v17;
			STRLIT(v17, "void", 4);
			TUP* v18;
			TUP* v19;
			mw_mirth_c99_ZPlusC99_put(v7, v8, v17, &v18, &v19);
			branch_ZPlusC99_11 = v19;
			branch_ZPlusMirth_10 = v18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v20;
	STRLIT(v20, " ", 1);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_10, branch_ZPlusC99_11, v20, &v21, &v22);
	incref(MKTUP(in_C99API_3, 8));
	STR* v23 = value_str(in_C99API_3->cells[0]);
	incref(MKSTR(v23));
	decref(MKTUP(in_C99API_3, 8));
	TUP* v24;
	TUP* v25;
	mw_mirth_c99_ZPlusC99_put(v21, v22, v23, &v24, &v25);
	STR* v26;
	STRLIT(v26, " (", 2);
	TUP* v27;
	TUP* v28;
	mw_mirth_c99_ZPlusC99_put(v24, v25, v26, &v27, &v28);
	STR* v29;
	STRLIT(v29, "", 0);
	incref(MKTUP(in_C99API_3, 8));
	VAL v30 = in_C99API_3->cells[2];
	incref(v30);
	decref(MKTUP(in_C99API_3, 8));
	VAL v31 = mw_std_list_List_1_filter_1_sp4(v30);
	bool v32 = true;
	TUP* v33 = v27;
	TUP* v34 = v28;
	STR* v35 = v29;
	VAL v36 = v31;
	bool v37 = v32;
	bool v38 = v32;
	while (v38) {
		TUP* v39 = v33;
		TUP* v40 = v34;
		STR* v41 = v35;
		VAL v42 = v36;
		bool v43 = v37;
		STR* branch_Str_44;
		TUP* branch_ZPlusMirth_45;
		TUP* branch_ZPlusC99_46;
		VAL branch_List_47;
		bool branch_Bool_48;
		switch (get_data_tag(v42)) {
			case 1LL: { // Cons
				VAL v49;
				VAL v50 = mtp_std_list_List_1_Cons(v42, &v49);
				TUP* v51;
				TUP* v52;
				mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v51, &v52);
				STR* v53;
				STRLIT(v53, ", ", 2);
				incref(v50);
				VAL v54 = VTUP(v50)->cells[2];
				incref(v54);
				decref(v50);
				STR* v55 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v54);
				TUP* v56;
				TUP* v57;
				mw_mirth_c99_ZPlusC99_put(v51, v52, v55, &v56, &v57);
				STR* v58;
				STRLIT(v58, " ", 1);
				TUP* v59;
				TUP* v60;
				mw_mirth_c99_ZPlusC99_put(v56, v57, v58, &v59, &v60);
				STR* v61 = value_str(VTUP(v50)->cells[3]);
				incref(MKSTR(v61));
				decref(v50);
				TUP* v62;
				TUP* v63;
				mw_mirth_c99_ZPlusC99_put(v59, v60, v61, &v62, &v63);
				bool v64 = true;
				branch_Bool_48 = v64;
				branch_List_47 = v49;
				branch_ZPlusC99_46 = v63;
				branch_ZPlusMirth_45 = v62;
				branch_Str_44 = v53;
			} break;
			case 0LL: { // Nil
				VAL v65 = MKI64(0LL /* Nil */);
				bool v66 = false;
				branch_Bool_48 = v66;
				branch_List_47 = v65;
				branch_ZPlusC99_46 = v40;
				branch_ZPlusMirth_45 = v39;
				branch_Str_44 = v41;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v38 = branch_Bool_48;
		v37 = branch_Bool_48;
		v36 = branch_List_47;
		v35 = branch_Str_44;
		v34 = branch_ZPlusC99_46;
		v33 = branch_ZPlusMirth_45;
	}
	decref(v36);
	incref(MKTUP(in_C99API_3, 8));
	VAL v67 = in_C99API_3->cells[3];
	incref(v67);
	decref(MKTUP(in_C99API_3, 8));
	incref(MKTUP(in_C99API_3, 8));
	VAL v68 = in_C99API_3->cells[5];
	incref(v68);
	decref(MKTUP(in_C99API_3, 8));
	VAL v69 = mw_std_list_List_1_cat(v67, v68);
	VAL v70 = mw_std_list_List_1_filter_1_sp4(v69);
	bool v71 = true;
	TUP* v72 = v33;
	TUP* v73 = v34;
	STR* v74 = v35;
	VAL v75 = v70;
	bool v76 = v71;
	bool v77 = v71;
	while (v77) {
		TUP* v78 = v72;
		TUP* v79 = v73;
		STR* v80 = v74;
		VAL v81 = v75;
		bool v82 = v76;
		STR* branch_Str_83;
		TUP* branch_ZPlusMirth_84;
		TUP* branch_ZPlusC99_85;
		VAL branch_List_86;
		bool branch_Bool_87;
		switch (get_data_tag(v81)) {
			case 1LL: { // Cons
				VAL v88;
				VAL v89 = mtp_std_list_List_1_Cons(v81, &v88);
				TUP* v90;
				TUP* v91;
				mw_mirth_c99_ZPlusC99_put(v78, v79, v80, &v90, &v91);
				STR* v92;
				STRLIT(v92, ", ", 2);
				incref(v89);
				VAL v93 = VTUP(v89)->cells[2];
				incref(v93);
				decref(v89);
				STR* v94 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v93);
				TUP* v95;
				TUP* v96;
				mw_mirth_c99_ZPlusC99_put(v90, v91, v94, &v95, &v96);
				STR* v97;
				STRLIT(v97, " *", 2);
				TUP* v98;
				TUP* v99;
				mw_mirth_c99_ZPlusC99_put(v95, v96, v97, &v98, &v99);
				STR* v100 = value_str(VTUP(v89)->cells[3]);
				incref(MKSTR(v100));
				decref(v89);
				TUP* v101;
				TUP* v102;
				mw_mirth_c99_ZPlusC99_put(v98, v99, v100, &v101, &v102);
				bool v103 = true;
				branch_Bool_87 = v103;
				branch_List_86 = v88;
				branch_ZPlusC99_85 = v102;
				branch_ZPlusMirth_84 = v101;
				branch_Str_83 = v92;
			} break;
			case 0LL: { // Nil
				VAL v104 = MKI64(0LL /* Nil */);
				bool v105 = false;
				branch_Bool_87 = v105;
				branch_List_86 = v104;
				branch_ZPlusC99_85 = v79;
				branch_ZPlusMirth_84 = v78;
				branch_Str_83 = v80;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v77 = branch_Bool_87;
		v76 = branch_Bool_87;
		v75 = branch_List_86;
		v74 = branch_Str_83;
		v73 = branch_ZPlusC99_85;
		v72 = branch_ZPlusMirth_84;
	}
	decref(v75);
	uint64_t v106 = str_size(v74);
	INT v107 = u64_to_int(v106);
	INT v108 = WRAP_I63(0LL);
	bool v109 = int_eq(v107, v108);
	TUP* branch_ZPlusMirth_110;
	TUP* branch_ZPlusC99_111;
	if (v109) {
		STR* v112;
		STRLIT(v112, "void", 4);
		TUP* v113;
		TUP* v114;
		mw_mirth_c99_ZPlusC99_put(v72, v73, v112, &v113, &v114);
		branch_ZPlusC99_111 = v114;
		branch_ZPlusMirth_110 = v113;
	} else {
		branch_ZPlusC99_111 = v73;
		branch_ZPlusMirth_110 = v72;
	}
	STR* v115;
	STRLIT(v115, ")", 1);
	TUP* v116;
	TUP* v117;
	mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_110, branch_ZPlusC99_111, v115, &v116, &v117);
	decref(MKTUP(in_C99API_3, 8));
	*out_ZPlusC99_5 = v117;
	*out_ZPlusMirth_4 = v116;
}
static void mw_mirth_c99_c99Z_smartZ_sigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* in_C99API_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99_smartZ_sigZ_put(v6, v7, in_C99API_3, &v8, &v9);
	STR* v10;
	STRLIT(v10, ";", 1);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_put(v8, v9, v10, &v11, &v12);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99_line(v11, v12, &v13, &v14);
	*out_ZPlusC99_5 = v14;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_c99Z_apiZ_enterZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* in_C99API_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_C99API_3, 8));
	VAL v6 = in_C99API_3->cells[2];
	incref(v6);
	decref(MKTUP(in_C99API_3, 8));
	INT v7 = mw_std_list_List_1_len(v6);
	incref(MKTUP(in_C99API_3, 8));
	VAL v8 = in_C99API_3->cells[3];
	incref(v8);
	decref(MKTUP(in_C99API_3, 8));
	INT v9 = mw_std_list_List_1_len(v8);
	INT v10 = int_add(v7, v9);
	incref(MKTUP(in_C99API_3, 8));
	VAL v11 = in_C99API_3->cells[5];
	incref(v11);
	decref(MKTUP(in_C99API_3, 8));
	INT v12 = mw_std_list_List_1_len(v11);
	INT v13 = int_add(v10, v12);
	incref(MKTUP(in_C99API_3, 8));
	VAL v14 = in_C99API_3->cells[4];
	incref(v14);
	decref(MKTUP(in_C99API_3, 8));
	int64_t v15 = get_data_tag(v14);
	decref(v14);
	INT v16 = WRAP_I63(0LL);
	INT v17 = i64_to_int(v15);
	bool v18 = int_eq(v17, v16);
	bool v19 = !v18;
	INT branch_Nat_20;
	if (v19) {
		INT v21 = WRAP_I63(1LL);
		INT v22 = int_add(v13, v21);
		branch_Nat_20 = v22;
	} else {
		branch_Nat_20 = v13;
	}
	INT v23 = WRAP_I63(1LL);
	INT v24 = int_add(branch_Nat_20, v23);
	INT v25 = value_int(in_ZPlusC99_2->cells[2]);
	decref(MKINT(v25));
	in_ZPlusC99_2->cells[2] = MKINT(v24);
	bool v26 = true;
	VAL v27 = MKI64(0LL /* Nil */);
	TUP* v28;
	TUP* v29;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v26, v27, &v28, &v29);
	incref(MKTUP(in_C99API_3, 8));
	VAL v30 = in_C99API_3->cells[2];
	incref(v30);
	decref(MKTUP(in_C99API_3, 8));
	TUP* v31;
	TUP* v32;
	mw_std_list_List_1_for_1_sp14(v28, v29, v30, &v31, &v32);
	decref(MKTUP(in_C99API_3, 8));
	*out_ZPlusC99Branch_5 = v32;
	*out_ZPlusMirth_4 = v31;
}
static void mw_mirth_c99_c99Z_apiZ_exitZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_C99API_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	incref(MKTUP(in_C99API_3, 8));
	VAL v6 = in_C99API_3->cells[5];
	incref(v6);
	decref(MKTUP(in_C99API_3, 8));
	TUP* v7;
	TUP* v8;
	mw_std_list_List_1_reverseZ_for_1_sp7(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8);
	incref(MKTUP(in_C99API_3, 8));
	VAL v9 = in_C99API_3->cells[4];
	incref(v9);
	decref(MKTUP(in_C99API_3, 8));
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusC99Branch_11;
	VAL branch_Maybe_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			TUP* v14;
			TUP* v15;
			STR* v16 = mw_mirth_c99_C99APIArg_popZ_consumeZBang(v7, v8, value_tup(v13, 4), &v14, &v15);
			VAL v17 = mtw_std_maybe_Maybe_1_Some(MKSTR(v16));
			branch_Maybe_12 = v17;
			branch_ZPlusC99Branch_11 = v15;
			branch_ZPlusMirth_10 = v14;
		} break;
		case 0LL: { // None
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_12 = v18;
			branch_ZPlusC99Branch_11 = v8;
			branch_ZPlusMirth_10 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(MKTUP(in_C99API_3, 8));
	VAL v19 = in_C99API_3->cells[3];
	incref(v19);
	decref(MKTUP(in_C99API_3, 8));
	TUP* v20;
	TUP* v21;
	mw_std_list_List_1_reverseZ_for_1_sp7(branch_ZPlusMirth_10, branch_ZPlusC99Branch_11, v19, &v20, &v21);
	TUP* v22;
	TUP* v23;
	bool v24;
	VAL v25;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v20, v21, &v22, &v23, &v24, &v25);
	TUP* branch_C99API_26;
	TUP* branch_ZPlusMirth_27;
	TUP* branch_ZPlusC99_28;
	VAL branch_List_29;
	if (v24) {
		TUP* branch_ZPlusMirth_30;
		TUP* branch_ZPlusC99_31;
		switch (get_data_tag(branch_Maybe_12)) {
			case 1LL: { // Some
				VAL v32 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_12);
				TUP* v33;
				TUP* v34;
				mw_mirth_c99_ZPlusC99_indent(v22, v23, &v33, &v34);
				STR* v35;
				STRLIT(v35, "return ", 7);
				TUP* v36;
				TUP* v37;
				mw_mirth_c99_ZPlusC99_put(v33, v34, v35, &v36, &v37);
				TUP* v38;
				TUP* v39;
				mw_mirth_c99_ZPlusC99_put(v36, v37, value_str(v32), &v38, &v39);
				STR* v40;
				STRLIT(v40, ";", 1);
				TUP* v41;
				TUP* v42;
				mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
				TUP* v43;
				TUP* v44;
				mw_mirth_c99_ZPlusC99_line(v41, v42, &v43, &v44);
				branch_ZPlusC99_31 = v44;
				branch_ZPlusMirth_30 = v43;
			} break;
			case 0LL: { // None
				branch_ZPlusC99_31 = v23;
				branch_ZPlusMirth_30 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_List_29 = v25;
		branch_ZPlusC99_28 = branch_ZPlusC99_31;
		branch_ZPlusMirth_27 = branch_ZPlusMirth_30;
		branch_C99API_26 = in_C99API_3;
	} else {
		decref(branch_Maybe_12);
		incref(MKTUP(in_C99API_3, 8));
		VAL v45 = in_C99API_3->cells[4];
		incref(v45);
		decref(MKTUP(in_C99API_3, 8));
		TUP* branch_ZPlusMirth_46;
		TUP* branch_ZPlusC99_47;
		switch (get_data_tag(v45)) {
			case 1LL: { // Some
				VAL v48 = mtp_std_maybe_Maybe_1_Some(v45);
				VAL v49 = VTUP(v48)->cells[2];
				incref(v49);
				decref(v48);
				STR* v50 = mw_mirth_c99_C99ReprType_dummyZ_value(v49);
				TUP* v51;
				TUP* v52;
				mw_mirth_c99_ZPlusC99_indent(v22, v23, &v51, &v52);
				STR* v53;
				STRLIT(v53, "return ", 7);
				TUP* v54;
				TUP* v55;
				mw_mirth_c99_ZPlusC99_put(v51, v52, v53, &v54, &v55);
				TUP* v56;
				TUP* v57;
				mw_mirth_c99_ZPlusC99_put(v54, v55, v50, &v56, &v57);
				STR* v58;
				STRLIT(v58, "; /* unreachable */", 19);
				TUP* v59;
				TUP* v60;
				mw_mirth_c99_ZPlusC99_put(v56, v57, v58, &v59, &v60);
				TUP* v61;
				TUP* v62;
				mw_mirth_c99_ZPlusC99_line(v59, v60, &v61, &v62);
				branch_ZPlusC99_47 = v62;
				branch_ZPlusMirth_46 = v61;
			} break;
			case 0LL: { // None
				branch_ZPlusC99_47 = v23;
				branch_ZPlusMirth_46 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_List_29 = v25;
		branch_ZPlusC99_28 = branch_ZPlusC99_47;
		branch_ZPlusMirth_27 = branch_ZPlusMirth_46;
		branch_C99API_26 = in_C99API_3;
	}
	decref(MKTUP(branch_C99API_26, 8));
	decref(branch_List_29);
	*out_ZPlusC99_5 = branch_ZPlusC99_28;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_27;
}
static void mw_mirth_c99_c99Z_codipZ_arrowZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_Arrow_3, 7));
	TUP* v6 = mw_mirth_arrow_Arrow_type(in_Arrow_3);
	VAL v7;
	VAL v8;
	mtp_mirth_type_ArrowType_ArrowType(v6, &v7, &v8);
	TUP* v9;
	VAL v10;
	VAL v11 = mw_mirth_type_StackType_splitZ_parts(in_ZPlusMirth_1, v8, &v9, &v10);
	TUP* v12;
	VAL v13;
	VAL v14 = mw_mirth_type_StackType_splitZ_parts(v9, v7, &v12, &v13);
	TUP* v15;
	bool v16 = mw_mirth_type_StackTypeBase_unitZAsk(v12, v11, &v15);
	TUP* v17;
	bool v18 = mw_mirth_type_StackTypeBase_unitZAsk(v15, v14, &v17);
	bool v19 = (v16 && v18);
	TUP* branch_ZPlusMirth_20;
	TUP* branch_ZPlusC99Branch_21;
	if (v19) {
		TUP* v22;
		TUP* v23;
		VAL v24;
		mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang(v17, in_ZPlusC99Branch_2, v13, &v22, &v23, &v24);
		VAL v25 = v23->cells[1];
		VAL v26 = MKI64(0LL /* +Nil */);
		v23->cells[1] = v26;
		TUP* v27;
		TUP* v28;
		mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang(v22, v23, v24, &v27, &v28);
		TUP* v29;
		TUP* v30;
		mw_mirth_c99_c99Z_arrowZBang(v27, v28, in_Arrow_3, &v29, &v30);
		TUP* v31;
		TUP* v32;
		VAL v33;
		mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang(v29, v30, v10, &v31, &v32, &v33);
		VAL v34 = v32->cells[1];
		mw_mirth_c99_ZPlusC99Stack_rdrop(v34);
		v32->cells[1] = v25;
		TUP* v35;
		TUP* v36;
		mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang(v31, v32, v33, &v35, &v36);
		branch_ZPlusC99Branch_21 = v36;
		branch_ZPlusMirth_20 = v35;
	} else {
		decref(v13);
		decref(v10);
		TUP* v37;
		TUP* v38;
		mw_mirth_c99_c99Z_arrowZBang(v17, in_ZPlusC99Branch_2, in_Arrow_3, &v37, &v38);
		branch_ZPlusC99Branch_21 = v38;
		branch_ZPlusMirth_20 = v37;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_21;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_20;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, VAL *out_ZPlusC99Stack_6) {
	VAL v7 = MKI64(0LL /* +Nil */);
	VAL v8 = mw_std_list_List_1_reverse(in_List_3);
	bool v9 = true;
	TUP* v10 = in_ZPlusMirth_1;
	TUP* v11 = in_ZPlusC99Branch_2;
	VAL v12 = v7;
	VAL v13 = v8;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		TUP* v16 = v10;
		TUP* v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		bool v20 = v14;
		TUP* branch_ZPlusMirth_21;
		TUP* branch_ZPlusC99Branch_22;
		VAL branch_ZPlusC99Stack_23;
		VAL branch_List_24;
		bool branch_Bool_25;
		switch (get_data_tag(v19)) {
			case 1LL: { // Cons
				VAL v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				TUP* v28;
				TUP* v29;
				VAL v30;
				mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZBang(v16, v17, v18, v27, &v28, &v29, &v30);
				bool v31 = true;
				branch_Bool_25 = v31;
				branch_List_24 = v26;
				branch_ZPlusC99Stack_23 = v30;
				branch_ZPlusC99Branch_22 = v29;
				branch_ZPlusMirth_21 = v28;
			} break;
			case 0LL: { // Nil
				VAL v32 = MKI64(0LL /* Nil */);
				bool v33 = false;
				branch_Bool_25 = v33;
				branch_List_24 = v32;
				branch_ZPlusC99Stack_23 = v18;
				branch_ZPlusC99Branch_22 = v17;
				branch_ZPlusMirth_21 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		v12 = branch_ZPlusC99Stack_23;
		v11 = branch_ZPlusC99Branch_22;
		v10 = branch_ZPlusMirth_21;
	}
	decref(v13);
	*out_ZPlusC99Stack_6 = v12;
	*out_ZPlusC99Branch_5 = v11;
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, VAL in_StackTypePart_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, VAL *out_ZPlusC99Stack_7) {
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	VAL branch_ZPlusC99Stack_10;
	switch (get_data_tag(in_StackTypePart_4)) {
		case 0LL: { // Cons
			VAL v11 = mtp_mirth_type_StackTypePart_Cons(in_StackTypePart_4);
			TUP* v12;
			TUP* v13;
			VAL v14 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v11, &v12, &v13);
			TUP* v15;
			TUP* v16;
			TUP* v17;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v12, v13, v14, &v15, &v16, &v17);
			VAL v18;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_3, v17, &v18);
			branch_ZPlusC99Stack_10 = v18;
			branch_ZPlusC99Branch_9 = v16;
			branch_ZPlusMirth_8 = v15;
		} break;
		case 2LL: { // With
			VAL v19 = mtp_mirth_type_StackTypePart_With(in_StackTypePart_4);
			TUP* v20;
			TUP* v21;
			VAL v22 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v19, &v20, &v21);
			TUP* v23;
			TUP* v24;
			TUP* v25;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v20, v21, v22, &v23, &v24, &v25);
			VAL v26;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_3, v25, &v26);
			branch_ZPlusC99Stack_10 = v26;
			branch_ZPlusC99Branch_9 = v24;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 1LL: { // ConsLabel
			uint64_t v27;
			VAL v28 = mtp_mirth_type_StackTypePart_ConsLabel(in_StackTypePart_4, &v27);
			TUP* v29;
			TUP* v30;
			VAL v31 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v28, &v29, &v30);
			TUP* v32;
			TUP* v33;
			TUP* v34;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v29, v30, v31, v27, &v32, &v33, &v34);
			VAL v35;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_3, v34, v27, &v35);
			branch_ZPlusC99Stack_10 = v35;
			branch_ZPlusC99Branch_9 = v33;
			branch_ZPlusMirth_8 = v32;
		} break;
		case 3LL: { // WithLabel
			uint64_t v36;
			VAL v37 = mtp_mirth_type_StackTypePart_WithLabel(in_StackTypePart_4, &v36);
			TUP* v38;
			TUP* v39;
			VAL v40 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v37, &v38, &v39);
			TUP* v41;
			TUP* v42;
			TUP* v43;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v38, v39, v40, v36, &v41, &v42, &v43);
			VAL v44;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_3, v43, v36, &v44);
			branch_ZPlusC99Stack_10 = v44;
			branch_ZPlusC99Branch_9 = v42;
			branch_ZPlusMirth_8 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_7 = branch_ZPlusC99Stack_10;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang (TUP* in_ZPlusMirth_1, VAL in_ZPlusC99Stack_2, VAL in_ZPlusC99Stack_3, TUP* *out_ZPlusMirth_4, VAL *out_ZPlusC99Stack_5) {
	bool v6 = true;
	VAL v7 = in_ZPlusC99Stack_2;
	VAL v8 = in_ZPlusC99Stack_3;
	bool v9 = v6;
	bool v10 = v6;
	while (v10) {
		VAL v11 = v7;
		VAL v12 = v8;
		bool v13 = v9;
		VAL branch_ZPlusC99Stack_14;
		VAL branch_ZPlusC99Stack_15;
		bool branch_Bool_16;
		switch (get_data_tag(v12)) {
			case 0LL: { // +Nil
				VAL v17 = MKI64(0LL /* +Nil */);
				bool v18 = false;
				branch_Bool_16 = v18;
				branch_ZPlusC99Stack_15 = v17;
				branch_ZPlusC99Stack_14 = v11;
			} break;
			case 1LL: { // +Cons
				VAL v19;
				TUP* v20;
				mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(v12, &v19, &v20);
				VAL v21;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v11, v20, &v21);
				bool v22 = true;
				branch_Bool_16 = v22;
				branch_ZPlusC99Stack_15 = v19;
				branch_ZPlusC99Stack_14 = v21;
			} break;
			case 2LL: { // +With
				VAL v23;
				TUP* v24;
				mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(v12, &v23, &v24);
				VAL v25;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v11, v24, &v25);
				bool v26 = true;
				branch_Bool_16 = v26;
				branch_ZPlusC99Stack_15 = v23;
				branch_ZPlusC99Stack_14 = v25;
			} break;
			case 3LL: { // +ConsLabel
				VAL v27;
				TUP* v28;
				uint64_t v29 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v12, &v27, &v28);
				VAL v30;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v11, v28, v29, &v30);
				bool v31 = true;
				branch_Bool_16 = v31;
				branch_ZPlusC99Stack_15 = v27;
				branch_ZPlusC99Stack_14 = v30;
			} break;
			case 4LL: { // +WithLabel
				VAL v32;
				TUP* v33;
				uint64_t v34 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v12, &v32, &v33);
				VAL v35;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v11, v33, v34, &v35);
				bool v36 = true;
				branch_Bool_16 = v36;
				branch_ZPlusC99Stack_15 = v32;
				branch_ZPlusC99Stack_14 = v35;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_16;
		v9 = branch_Bool_16;
		v8 = branch_ZPlusC99Stack_15;
		v7 = branch_ZPlusC99Stack_14;
	}
	mw_mirth_c99_ZPlusC99Stack_rdrop(v8);
	*out_ZPlusC99Stack_5 = v7;
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = in_ZPlusC99Branch_2->cells[1];
	TUP* v7;
	VAL v8;
	mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang(in_ZPlusMirth_1, v6, in_ZPlusC99Stack_3, &v7, &v8);
	in_ZPlusC99Branch_2->cells[1] = v8;
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_c99Z_arrowZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = in_Arrow_3->cells[6];
	incref(v6);
	decref(MKTUP(in_Arrow_3, 7));
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusC99Branch_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusC99Branch_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				TUP* v23;
				TUP* v24;
				mw_mirth_c99_c99Z_atomZBang(v13, v14, value_tup(v22, 8), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusC99Branch_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusC99Branch_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusC99Branch_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_c99_c99Z_atomZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	TUP* v7 = value_tup(v6->cells[0], 2);
	incref(MKTUP(v7, 2));
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v6, 6);
	bool v8 = value_bool(v7->cells[1]);
	decref(MKTUP(v7, 2));
	TUP* branch_Atom_9;
	bool branch_Bool_10;
	TUP* branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	if (v8) {
		incref(MKTUP(in_Atom_3, 8));
		VAL v13 = in_Atom_3->cells[3];
		incref(v13);
		decref(MKTUP(in_Atom_3, 8));
		TUP* v14;
		bool v15 = mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk(in_ZPlusMirth_1, v13, &v14);
		branch_z_x1_12 = MKTUP(in_ZPlusC99Branch_2, 4);
		branch_ZPlusMirth_11 = v14;
		branch_Bool_10 = v15;
		branch_Atom_9 = in_Atom_3;
	} else {
		bool v16 = false;
		branch_z_x1_12 = MKTUP(in_ZPlusC99Branch_2, 4);
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		branch_Bool_10 = v16;
		branch_Atom_9 = in_Atom_3;
	}
	TUP* branch_Atom_17;
	TUP* branch_ZPlusMirth_18;
	TUP* branch_ZPlusC99Branch_19;
	if (branch_Bool_10) {
		TUP* v20 = value_tup(VTUP(branch_z_x1_12)->cells[0], 6);
		TUP* v21;
		TUP* v22;
		mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_11, v20, &v21, &v22);
		STR* v23;
		STRLIT(v23, "WORD_ATOM(", 10);
		TUP* v24;
		TUP* v25;
		mw_mirth_c99_ZPlusC99_put(v21, v22, v23, &v24, &v25);
		incref(MKTUP(branch_Atom_9, 8));
		uint64_t v26 = value_u64(branch_Atom_9->cells[1]);
		decref(MKTUP(branch_Atom_9, 8));
		TUP* v27;
		INT v28 = mw_mirth_token_Token_row(v24, v26, &v27);
		INT v29 = mw_mirth_location_Row_ZToInt(v28);
		STR* v30 = int_to_str(v29);
		TUP* v31;
		TUP* v32;
		mw_mirth_c99_ZPlusC99_put(v27, v25, v30, &v31, &v32);
		STR* v33;
		STRLIT(v33, ", ", 2);
		TUP* v34;
		TUP* v35;
		mw_mirth_c99_ZPlusC99_put(v31, v32, v33, &v34, &v35);
		incref(MKTUP(branch_Atom_9, 8));
		uint64_t v36 = value_u64(branch_Atom_9->cells[1]);
		decref(MKTUP(branch_Atom_9, 8));
		TUP* v37;
		INT v38 = mw_mirth_token_Token_col(v34, v36, &v37);
		INT v39 = mw_mirth_location_Col_ZToInt(v38);
		STR* v40 = int_to_str(v39);
		TUP* v41;
		TUP* v42;
		mw_mirth_c99_ZPlusC99_put(v37, v35, v40, &v41, &v42);
		STR* v43;
		STRLIT(v43, ", ", 2);
		TUP* v44;
		TUP* v45;
		mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
		incref(MKTUP(branch_Atom_9, 8));
		uint64_t v46 = value_u64(branch_Atom_9->cells[1]);
		decref(MKTUP(branch_Atom_9, 8));
		TUP* v47;
		VAL v48 = mw_mirth_token_Token_nameZAsk(v44, v46, &v47);
		TUP* branch_ZPlusMirth_49;
		STR* branch_Str_50;
		switch (get_data_tag(v48)) {
			case 1LL: { // Some
				VAL v51 = mtp_std_maybe_Maybe_1_Some(v48);
				TUP* v52;
				STR* v53 = mw_mirth_name_Name_ZToStr(v47, value_u64(v51), &v52);
				branch_Str_50 = v53;
				branch_ZPlusMirth_49 = v52;
			} break;
			case 0LL: { // None
				STR* v54;
				STRLIT(v54, "", 0);
				branch_Str_50 = v54;
				branch_ZPlusMirth_49 = v47;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		TUP* v55;
		TUP* v56;
		mw_mirth_c99_ZPlusC99_putZ_cstr(branch_ZPlusMirth_49, v45, branch_Str_50, &v55, &v56);
		STR* v57;
		STRLIT(v57, ");", 2);
		TUP* v58;
		TUP* v59;
		mw_mirth_c99_ZPlusC99_put(v55, v56, v57, &v58, &v59);
		TUP* v60;
		TUP* v61;
		mw_mirth_c99_ZPlusC99_line(v58, v59, &v60, &v61);
		VTUP(branch_z_x1_12)->cells[0] = MKTUP(v61, 6);
		branch_ZPlusC99Branch_19 = value_tup(branch_z_x1_12, 4);
		branch_ZPlusMirth_18 = v60;
		branch_Atom_17 = branch_Atom_9;
	} else {
		branch_ZPlusC99Branch_19 = value_tup(branch_z_x1_12, 4);
		branch_ZPlusMirth_18 = branch_ZPlusMirth_11;
		branch_Atom_17 = branch_Atom_9;
	}
	incref(MKTUP(branch_Atom_17, 8));
	VAL v62 = branch_Atom_17->cells[3];
	incref(v62);
	decref(MKTUP(branch_Atom_17, 8));
	TUP* v63;
	TUP* v64;
	mw_mirth_c99_c99Z_atomZ_opZBang(branch_ZPlusMirth_18, branch_ZPlusC99Branch_19, branch_Atom_17, v62, &v63, &v64);
	*out_ZPlusC99Branch_5 = v64;
	*out_ZPlusMirth_4 = v63;
}
static bool mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk (TUP* in_ZPlusMirth_1, VAL in_Op_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_Op_2)) {
		case 5LL: { // Push
			VAL v7 = mtp_mirth_arrow_Op_Push(in_Op_2);
			decref(v7);
			bool v8 = false;
			branch_Bool_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Word
			uint64_t v9 = mtp_mirth_arrow_Op_Word(in_Op_2);
			TUP* v10;
			bool v11 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, v9, &v10);
			bool v12 = !v11;
			branch_Bool_6 = v12;
			branch_ZPlusMirth_5 = v10;
		} break;
		case 2LL: { // External
			uint64_t v13 = mtp_mirth_arrow_Op_External(in_Op_2);
			bool v14 = true;
			branch_Bool_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Buffer
			uint64_t v15 = mtp_mirth_arrow_Op_Buffer(in_Op_2);
			bool v16 = false;
			branch_Bool_6 = v16;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // Field
			uint64_t v17 = mtp_mirth_arrow_Op_Field(in_Op_2);
			bool v18 = false;
			branch_Bool_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Tag
			uint64_t v19 = mtp_mirth_arrow_Op_Tag(in_Op_2);
			bool v20 = false;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // Prim
			int64_t v21 = mtp_mirth_arrow_Op_Prim(in_Op_2);
			bool v22 = true;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Match
			TUP* v23 = mtp_mirth_arrow_Op_Match(in_Op_2);
			decref(MKTUP(v23, 7));
			bool v24 = false;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // Lambda
			TUP* v25 = mtp_mirth_arrow_Op_Lambda(in_Op_2);
			decref(MKTUP(v25, 5));
			bool v26 = false;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Var
			uint64_t v27 = mtp_mirth_arrow_Op_Var(in_Op_2);
			bool v28 = false;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // BlockPush
			uint64_t v29 = mtp_mirth_arrow_Op_BlockPush(in_Op_2);
			bool v30 = false;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // BlockRun
			uint64_t v31 = mtp_mirth_arrow_Op_BlockRun(in_Op_2);
			bool v32 = false;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // LabelPush
			uint64_t v33 = mtp_mirth_arrow_Op_LabelPush(in_Op_2);
			bool v34 = false;
			branch_Bool_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // LabelPop
			uint64_t v35 = mtp_mirth_arrow_Op_LabelPop(in_Op_2);
			bool v36 = false;
			branch_Bool_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v37 = mtp_mirth_arrow_Op_LabelPushR(in_Op_2);
			bool v38 = false;
			branch_Bool_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v39 = mtp_mirth_arrow_Op_LabelPopR(in_Op_2);
			bool v40 = false;
			branch_Bool_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v41 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_2);
			bool v42 = false;
			branch_Bool_6 = v42;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v43 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_2);
			bool v44 = false;
			branch_Bool_6 = v44;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // DataGetLabel
			TUP* v45 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_2);
			decref(MKTUP(v45, 3));
			bool v46 = false;
			branch_Bool_6 = v46;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // DataSetLabel
			TUP* v47 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_2);
			decref(MKTUP(v47, 3));
			bool v48 = false;
			branch_Bool_6 = v48;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v49 = mtp_mirth_arrow_Op_TableToIndex(in_Op_2);
			bool v50 = false;
			branch_Bool_6 = v50;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v51 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_2);
			bool v52 = false;
			branch_Bool_6 = v52;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static void mw_mirth_c99_c99Z_atomZ_opZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, VAL in_Op_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusC99Branch_8;
	switch (get_data_tag(in_Op_4)) {
		case 5LL: { // Push
			VAL v9 = mtp_mirth_arrow_Op_Push(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v10;
			TUP* v11;
			mw_mirth_c99_c99Z_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v9, &v10, &v11);
			branch_ZPlusC99Branch_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 1LL: { // Word
			uint64_t v12 = mtp_mirth_arrow_Op_Word(in_Op_4);
			VAL v13 = in_Atom_3->cells[4];
			incref(v13);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v14;
			TUP* v15;
			mw_mirth_c99_c99Z_wordZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v13, v12, &v14, &v15);
			branch_ZPlusC99Branch_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 2LL: { // External
			uint64_t v16 = mtp_mirth_arrow_Op_External(in_Op_4);
			VAL v17 = in_Atom_3->cells[4];
			incref(v17);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v18;
			TUP* v19;
			mw_mirth_c99_c99Z_externalZ_callZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v17, v16, &v18, &v19);
			branch_ZPlusC99Branch_8 = v19;
			branch_ZPlusMirth_7 = v18;
		} break;
		case 3LL: { // Buffer
			uint64_t v20 = mtp_mirth_arrow_Op_Buffer(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v21;
			TUP* v22;
			mw_mirth_c99_c99Z_bufferZ_callZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v20, &v21, &v22);
			branch_ZPlusC99Branch_8 = v22;
			branch_ZPlusMirth_7 = v21;
		} break;
		case 4LL: { // Field
			uint64_t v23 = mtp_mirth_arrow_Op_Field(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v24;
			TUP* v25;
			mw_mirth_c99_c99Z_fieldZ_callZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v23, &v24, &v25);
			branch_ZPlusC99Branch_8 = v25;
			branch_ZPlusMirth_7 = v24;
		} break;
		case 6LL: { // Tag
			uint64_t v26 = mtp_mirth_arrow_Op_Tag(in_Op_4);
			VAL v27 = in_Atom_3->cells[4];
			incref(v27);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v28;
			TUP* v29;
			mw_mirth_c99_c99Z_tagZ_callZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v27, v26, &v28, &v29);
			branch_ZPlusC99Branch_8 = v29;
			branch_ZPlusMirth_7 = v28;
		} break;
		case 0LL: { // Prim
			int64_t v30 = mtp_mirth_arrow_Op_Prim(in_Op_4);
			TUP* v31;
			TUP* v32;
			mw_mirth_c99_c99Z_primZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v30, &v31, &v32);
			branch_ZPlusC99Branch_8 = v32;
			branch_ZPlusMirth_7 = v31;
		} break;
		case 7LL: { // Match
			TUP* v33 = mtp_mirth_arrow_Op_Match(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v34;
			TUP* v35;
			mw_mirth_c99_c99Z_matchZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v33, &v34, &v35);
			branch_ZPlusC99Branch_8 = v35;
			branch_ZPlusMirth_7 = v34;
		} break;
		case 8LL: { // Lambda
			TUP* v36 = mtp_mirth_arrow_Op_Lambda(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v37;
			TUP* v38;
			mw_mirth_c99_c99Z_lambdaZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v36, &v37, &v38);
			branch_ZPlusC99Branch_8 = v38;
			branch_ZPlusMirth_7 = v37;
		} break;
		case 9LL: { // Var
			uint64_t v39 = mtp_mirth_arrow_Op_Var(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v40;
			TUP* v41;
			mw_mirth_c99_c99Z_varZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v39, &v40, &v41);
			branch_ZPlusC99Branch_8 = v41;
			branch_ZPlusMirth_7 = v40;
		} break;
		case 10LL: { // BlockPush
			uint64_t v42 = mtp_mirth_arrow_Op_BlockPush(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v43;
			TUP* v44;
			mw_mirth_c99_c99Z_blockZ_pushZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v42, &v43, &v44);
			branch_ZPlusC99Branch_8 = v44;
			branch_ZPlusMirth_7 = v43;
		} break;
		case 11LL: { // BlockRun
			uint64_t v45 = mtp_mirth_arrow_Op_BlockRun(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v46;
			TUP* v47;
			mw_mirth_c99_c99Z_blockZ_runZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v45, &v46, &v47);
			branch_ZPlusC99Branch_8 = v47;
			branch_ZPlusMirth_7 = v46;
		} break;
		case 12LL: { // LabelPush
			uint64_t v48 = mtp_mirth_arrow_Op_LabelPush(in_Op_4);
			TUP* v49;
			TUP* v50;
			mw_mirth_c99_c99Z_labelZ_pushZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v48, &v49, &v50);
			branch_ZPlusC99Branch_8 = v50;
			branch_ZPlusMirth_7 = v49;
		} break;
		case 13LL: { // LabelPop
			uint64_t v51 = mtp_mirth_arrow_Op_LabelPop(in_Op_4);
			TUP* v52;
			TUP* v53;
			mw_mirth_c99_c99Z_labelZ_popZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v51, &v52, &v53);
			branch_ZPlusC99Branch_8 = v53;
			branch_ZPlusMirth_7 = v52;
		} break;
		case 14LL: { // LabelPushR
			uint64_t v54 = mtp_mirth_arrow_Op_LabelPushR(in_Op_4);
			TUP* v55;
			TUP* v56;
			mw_mirth_c99_c99Z_labelZ_pushZ_rZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v54, &v55, &v56);
			branch_ZPlusC99Branch_8 = v56;
			branch_ZPlusMirth_7 = v55;
		} break;
		case 15LL: { // LabelPopR
			uint64_t v57 = mtp_mirth_arrow_Op_LabelPopR(in_Op_4);
			TUP* v58;
			TUP* v59;
			mw_mirth_c99_c99Z_labelZ_popZ_rZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Atom_3, v57, &v58, &v59);
			branch_ZPlusC99Branch_8 = v59;
			branch_ZPlusMirth_7 = v58;
		} break;
		case 16LL: { // DataGetEnumValue
			uint64_t v60 = mtp_mirth_arrow_Op_DataGetEnumValue(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v61;
			TUP* v62;
			mw_mirth_c99_c99Z_getZ_enumZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v60, &v61, &v62);
			branch_ZPlusC99Branch_8 = v62;
			branch_ZPlusMirth_7 = v61;
		} break;
		case 17LL: { // DataFromEnumValue
			uint64_t v63 = mtp_mirth_arrow_Op_DataFromEnumValue(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v64;
			TUP* v65;
			mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v63, &v64, &v65);
			branch_ZPlusC99Branch_8 = v65;
			branch_ZPlusMirth_7 = v64;
		} break;
		case 18LL: { // DataGetLabel
			TUP* v66 = mtp_mirth_arrow_Op_DataGetLabel(in_Op_4);
			TUP* v67;
			TUP* v68;
			mw_mirth_c99_c99Z_tagZ_getZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v66, &v67, &v68);
			decref(MKTUP(in_Atom_3, 8));
			branch_ZPlusC99Branch_8 = v68;
			branch_ZPlusMirth_7 = v67;
		} break;
		case 19LL: { // DataSetLabel
			TUP* v69 = mtp_mirth_arrow_Op_DataSetLabel(in_Op_4);
			TUP* v70;
			TUP* v71;
			mw_mirth_c99_c99Z_tagZ_setZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v69, &v70, &v71);
			decref(MKTUP(in_Atom_3, 8));
			branch_ZPlusC99Branch_8 = v71;
			branch_ZPlusMirth_7 = v70;
		} break;
		case 20LL: { // TableToIndex
			uint64_t v72 = mtp_mirth_arrow_Op_TableToIndex(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // TableFromIndex
			uint64_t v73 = mtp_mirth_arrow_Op_TableFromIndex(in_Op_4);
			decref(MKTUP(in_Atom_3, 8));
			branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_c99Z_pushZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_PushValue_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* branch_ZPlusMirth_6;
	TUP* branch_ZPlusC99Branch_7;
	switch (get_data_tag(in_PushValue_3)) {
		case 0LL: { // Str
			STR* v8 = mtp_mirth_arrow_PushValue_Str(in_PushValue_3);
			TUP* v9;
			TUP* v10;
			mw_mirth_c99_c99Z_strZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v8, &v9, &v10);
			branch_ZPlusC99Branch_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // Int
			INT v11 = mtp_mirth_arrow_PushValue_Int(in_PushValue_3);
			TUP* v12;
			TUP* v13;
			mw_mirth_c99_c99Z_intZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v11, &v12, &v13);
			branch_ZPlusC99Branch_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // U8
			uint8_t v14 = mtp_mirth_arrow_PushValue_U8(in_PushValue_3);
			VAL v15 = MKI64(12LL /* U8 */);
			incref(v15);
			int64_t v16 = get_data_tag(v15);
			decref(v15);
			INT v17 = WRAP_I63(0LL);
			INT v18 = i64_to_int(v16);
			bool v19 = int_eq(v18, v17);
			bool v20 = !v19;
			uint8_t branch_U8_21;
			VAL branch_C99ReprType_22;
			bool branch_Bool_23;
			TUP* branch_ZPlusMirth_24;
			STR* branch_Str_25;
			TUP* branch_ZPlusC99Branch_26;
			if (v20) {
				TUP* v27 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v28;
				TUP* v29;
				STR* v30 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v27, &v28, &v29);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v29, 6);
				branch_ZPlusC99Branch_26 = in_ZPlusC99Branch_2;
				branch_Str_25 = v30;
				branch_ZPlusMirth_24 = v28;
				branch_Bool_23 = v20;
				branch_C99ReprType_22 = v15;
				branch_U8_21 = v14;
			} else {
				STR* v31;
				STRLIT(v31, "0", 1);
				branch_ZPlusC99Branch_26 = in_ZPlusC99Branch_2;
				branch_Str_25 = v31;
				branch_ZPlusMirth_24 = in_ZPlusMirth_1;
				branch_Bool_23 = v20;
				branch_C99ReprType_22 = v15;
				branch_U8_21 = v14;
			}
			bool v32 = value_bool(branch_ZPlusC99Branch_26->cells[3]);
			bool v33 = (branch_Bool_23 && v32);
			TUP* v34 = value_tup(branch_ZPlusC99Branch_26->cells[0], 6);
			bool v35 = value_bool(v34->cells[3]);
			bool v36 = (v33 && v35);
			v34->cells[3] = MKBOOL(v36);
			TUP* v37;
			TUP* v38;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_24, v34, &v37, &v38);
			incref(branch_C99ReprType_22);
			STR* v39 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_22);
			TUP* v40;
			TUP* v41;
			mw_mirth_c99_ZPlusC99_put(v37, v38, v39, &v40, &v41);
			STR* v42;
			STRLIT(v42, " ", 1);
			TUP* v43;
			TUP* v44;
			mw_mirth_c99_ZPlusC99_put(v40, v41, v42, &v43, &v44);
			incref(MKSTR(branch_Str_25));
			TUP* v45;
			TUP* v46;
			mw_mirth_c99_ZPlusC99_put(v43, v44, branch_Str_25, &v45, &v46);
			STR* v47;
			STRLIT(v47, " = ", 3);
			TUP* v48;
			TUP* v49;
			mw_mirth_c99_ZPlusC99_put(v45, v46, v47, &v48, &v49);
			TUP* v50;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_22, branch_Str_25, &v50);
			uint64_t v51 = (uint64_t)(branch_U8_21);
			INT v52 = u64_to_int(v51);
			STR* v53 = int_to_str(v52);
			TUP* v54;
			TUP* v55;
			mw_mirth_c99_ZPlusC99_put(v48, v49, v53, &v54, &v55);
			STR* v56;
			STRLIT(v56, ";", 1);
			TUP* v57;
			TUP* v58;
			mw_mirth_c99_ZPlusC99_put(v54, v55, v56, &v57, &v58);
			TUP* v59;
			TUP* v60;
			mw_mirth_c99_ZPlusC99_line(v57, v58, &v59, &v60);
			v60->cells[3] = MKBOOL(v35);
			branch_ZPlusC99Branch_26->cells[0] = MKTUP(v60, 6);
			TUP* v61;
			TUP* v62;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v59, branch_ZPlusC99Branch_26, v50, &v61, &v62);
			branch_ZPlusC99Branch_7 = v62;
			branch_ZPlusMirth_6 = v61;
		} break;
		case 3LL: { // U16
			uint16_t v63 = mtp_mirth_arrow_PushValue_U16(in_PushValue_3);
			VAL v64 = MKI64(11LL /* U16 */);
			incref(v64);
			int64_t v65 = get_data_tag(v64);
			decref(v64);
			INT v66 = WRAP_I63(0LL);
			INT v67 = i64_to_int(v65);
			bool v68 = int_eq(v67, v66);
			bool v69 = !v68;
			uint16_t branch_U16_70;
			VAL branch_C99ReprType_71;
			bool branch_Bool_72;
			TUP* branch_ZPlusMirth_73;
			STR* branch_Str_74;
			TUP* branch_ZPlusC99Branch_75;
			if (v69) {
				TUP* v76 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v77;
				TUP* v78;
				STR* v79 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v76, &v77, &v78);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v78, 6);
				branch_ZPlusC99Branch_75 = in_ZPlusC99Branch_2;
				branch_Str_74 = v79;
				branch_ZPlusMirth_73 = v77;
				branch_Bool_72 = v69;
				branch_C99ReprType_71 = v64;
				branch_U16_70 = v63;
			} else {
				STR* v80;
				STRLIT(v80, "0", 1);
				branch_ZPlusC99Branch_75 = in_ZPlusC99Branch_2;
				branch_Str_74 = v80;
				branch_ZPlusMirth_73 = in_ZPlusMirth_1;
				branch_Bool_72 = v69;
				branch_C99ReprType_71 = v64;
				branch_U16_70 = v63;
			}
			bool v81 = value_bool(branch_ZPlusC99Branch_75->cells[3]);
			bool v82 = (branch_Bool_72 && v81);
			TUP* v83 = value_tup(branch_ZPlusC99Branch_75->cells[0], 6);
			bool v84 = value_bool(v83->cells[3]);
			bool v85 = (v82 && v84);
			v83->cells[3] = MKBOOL(v85);
			TUP* v86;
			TUP* v87;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_73, v83, &v86, &v87);
			incref(branch_C99ReprType_71);
			STR* v88 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_71);
			TUP* v89;
			TUP* v90;
			mw_mirth_c99_ZPlusC99_put(v86, v87, v88, &v89, &v90);
			STR* v91;
			STRLIT(v91, " ", 1);
			TUP* v92;
			TUP* v93;
			mw_mirth_c99_ZPlusC99_put(v89, v90, v91, &v92, &v93);
			incref(MKSTR(branch_Str_74));
			TUP* v94;
			TUP* v95;
			mw_mirth_c99_ZPlusC99_put(v92, v93, branch_Str_74, &v94, &v95);
			STR* v96;
			STRLIT(v96, " = ", 3);
			TUP* v97;
			TUP* v98;
			mw_mirth_c99_ZPlusC99_put(v94, v95, v96, &v97, &v98);
			TUP* v99;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_71, branch_Str_74, &v99);
			uint64_t v100 = (uint64_t)(branch_U16_70);
			INT v101 = u64_to_int(v100);
			STR* v102 = int_to_str(v101);
			TUP* v103;
			TUP* v104;
			mw_mirth_c99_ZPlusC99_put(v97, v98, v102, &v103, &v104);
			STR* v105;
			STRLIT(v105, ";", 1);
			TUP* v106;
			TUP* v107;
			mw_mirth_c99_ZPlusC99_put(v103, v104, v105, &v106, &v107);
			TUP* v108;
			TUP* v109;
			mw_mirth_c99_ZPlusC99_line(v106, v107, &v108, &v109);
			v109->cells[3] = MKBOOL(v84);
			branch_ZPlusC99Branch_75->cells[0] = MKTUP(v109, 6);
			TUP* v110;
			TUP* v111;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v108, branch_ZPlusC99Branch_75, v99, &v110, &v111);
			branch_ZPlusC99Branch_7 = v111;
			branch_ZPlusMirth_6 = v110;
		} break;
		case 4LL: { // U32
			uint32_t v112 = mtp_mirth_arrow_PushValue_U32(in_PushValue_3);
			VAL v113 = MKI64(10LL /* U32 */);
			incref(v113);
			int64_t v114 = get_data_tag(v113);
			decref(v113);
			INT v115 = WRAP_I63(0LL);
			INT v116 = i64_to_int(v114);
			bool v117 = int_eq(v116, v115);
			bool v118 = !v117;
			uint32_t branch_U32_119;
			VAL branch_C99ReprType_120;
			bool branch_Bool_121;
			TUP* branch_ZPlusMirth_122;
			STR* branch_Str_123;
			TUP* branch_ZPlusC99Branch_124;
			if (v118) {
				TUP* v125 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v126;
				TUP* v127;
				STR* v128 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v125, &v126, &v127);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v127, 6);
				branch_ZPlusC99Branch_124 = in_ZPlusC99Branch_2;
				branch_Str_123 = v128;
				branch_ZPlusMirth_122 = v126;
				branch_Bool_121 = v118;
				branch_C99ReprType_120 = v113;
				branch_U32_119 = v112;
			} else {
				STR* v129;
				STRLIT(v129, "0", 1);
				branch_ZPlusC99Branch_124 = in_ZPlusC99Branch_2;
				branch_Str_123 = v129;
				branch_ZPlusMirth_122 = in_ZPlusMirth_1;
				branch_Bool_121 = v118;
				branch_C99ReprType_120 = v113;
				branch_U32_119 = v112;
			}
			bool v130 = value_bool(branch_ZPlusC99Branch_124->cells[3]);
			bool v131 = (branch_Bool_121 && v130);
			TUP* v132 = value_tup(branch_ZPlusC99Branch_124->cells[0], 6);
			bool v133 = value_bool(v132->cells[3]);
			bool v134 = (v131 && v133);
			v132->cells[3] = MKBOOL(v134);
			TUP* v135;
			TUP* v136;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_122, v132, &v135, &v136);
			incref(branch_C99ReprType_120);
			STR* v137 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_120);
			TUP* v138;
			TUP* v139;
			mw_mirth_c99_ZPlusC99_put(v135, v136, v137, &v138, &v139);
			STR* v140;
			STRLIT(v140, " ", 1);
			TUP* v141;
			TUP* v142;
			mw_mirth_c99_ZPlusC99_put(v138, v139, v140, &v141, &v142);
			incref(MKSTR(branch_Str_123));
			TUP* v143;
			TUP* v144;
			mw_mirth_c99_ZPlusC99_put(v141, v142, branch_Str_123, &v143, &v144);
			STR* v145;
			STRLIT(v145, " = ", 3);
			TUP* v146;
			TUP* v147;
			mw_mirth_c99_ZPlusC99_put(v143, v144, v145, &v146, &v147);
			TUP* v148;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_120, branch_Str_123, &v148);
			uint64_t v149 = (uint64_t)(branch_U32_119);
			INT v150 = u64_to_int(v149);
			STR* v151 = int_to_str(v150);
			TUP* v152;
			TUP* v153;
			mw_mirth_c99_ZPlusC99_put(v146, v147, v151, &v152, &v153);
			STR* v154;
			STRLIT(v154, ";", 1);
			TUP* v155;
			TUP* v156;
			mw_mirth_c99_ZPlusC99_put(v152, v153, v154, &v155, &v156);
			TUP* v157;
			TUP* v158;
			mw_mirth_c99_ZPlusC99_line(v155, v156, &v157, &v158);
			v158->cells[3] = MKBOOL(v133);
			branch_ZPlusC99Branch_124->cells[0] = MKTUP(v158, 6);
			TUP* v159;
			TUP* v160;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v157, branch_ZPlusC99Branch_124, v148, &v159, &v160);
			branch_ZPlusC99Branch_7 = v160;
			branch_ZPlusMirth_6 = v159;
		} break;
		case 5LL: { // U64
			uint64_t v161 = mtp_mirth_arrow_PushValue_U64(in_PushValue_3);
			VAL v162 = MKI64(9LL /* U64 */);
			incref(v162);
			int64_t v163 = get_data_tag(v162);
			decref(v162);
			INT v164 = WRAP_I63(0LL);
			INT v165 = i64_to_int(v163);
			bool v166 = int_eq(v165, v164);
			bool v167 = !v166;
			uint64_t branch_U64_168;
			VAL branch_C99ReprType_169;
			bool branch_Bool_170;
			TUP* branch_ZPlusMirth_171;
			STR* branch_Str_172;
			TUP* branch_ZPlusC99Branch_173;
			if (v167) {
				TUP* v174 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v175;
				TUP* v176;
				STR* v177 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v174, &v175, &v176);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v176, 6);
				branch_ZPlusC99Branch_173 = in_ZPlusC99Branch_2;
				branch_Str_172 = v177;
				branch_ZPlusMirth_171 = v175;
				branch_Bool_170 = v167;
				branch_C99ReprType_169 = v162;
				branch_U64_168 = v161;
			} else {
				STR* v178;
				STRLIT(v178, "0", 1);
				branch_ZPlusC99Branch_173 = in_ZPlusC99Branch_2;
				branch_Str_172 = v178;
				branch_ZPlusMirth_171 = in_ZPlusMirth_1;
				branch_Bool_170 = v167;
				branch_C99ReprType_169 = v162;
				branch_U64_168 = v161;
			}
			bool v179 = value_bool(branch_ZPlusC99Branch_173->cells[3]);
			bool v180 = (branch_Bool_170 && v179);
			TUP* v181 = value_tup(branch_ZPlusC99Branch_173->cells[0], 6);
			bool v182 = value_bool(v181->cells[3]);
			bool v183 = (v180 && v182);
			v181->cells[3] = MKBOOL(v183);
			TUP* v184;
			TUP* v185;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_171, v181, &v184, &v185);
			incref(branch_C99ReprType_169);
			STR* v186 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_169);
			TUP* v187;
			TUP* v188;
			mw_mirth_c99_ZPlusC99_put(v184, v185, v186, &v187, &v188);
			STR* v189;
			STRLIT(v189, " ", 1);
			TUP* v190;
			TUP* v191;
			mw_mirth_c99_ZPlusC99_put(v187, v188, v189, &v190, &v191);
			incref(MKSTR(branch_Str_172));
			TUP* v192;
			TUP* v193;
			mw_mirth_c99_ZPlusC99_put(v190, v191, branch_Str_172, &v192, &v193);
			STR* v194;
			STRLIT(v194, " = ", 3);
			TUP* v195;
			TUP* v196;
			mw_mirth_c99_ZPlusC99_put(v192, v193, v194, &v195, &v196);
			TUP* v197;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_169, branch_Str_172, &v197);
			INT v198 = u64_to_int(branch_U64_168);
			STR* v199 = int_to_str(v198);
			TUP* v200;
			TUP* v201;
			mw_mirth_c99_ZPlusC99_put(v195, v196, v199, &v200, &v201);
			STR* v202;
			STRLIT(v202, "ULL", 3);
			TUP* v203;
			TUP* v204;
			mw_mirth_c99_ZPlusC99_put(v200, v201, v202, &v203, &v204);
			STR* v205;
			STRLIT(v205, ";", 1);
			TUP* v206;
			TUP* v207;
			mw_mirth_c99_ZPlusC99_put(v203, v204, v205, &v206, &v207);
			TUP* v208;
			TUP* v209;
			mw_mirth_c99_ZPlusC99_line(v206, v207, &v208, &v209);
			v209->cells[3] = MKBOOL(v182);
			branch_ZPlusC99Branch_173->cells[0] = MKTUP(v209, 6);
			TUP* v210;
			TUP* v211;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v208, branch_ZPlusC99Branch_173, v197, &v210, &v211);
			branch_ZPlusC99Branch_7 = v211;
			branch_ZPlusMirth_6 = v210;
		} break;
		case 6LL: { // I8
			int8_t v212 = mtp_mirth_arrow_PushValue_I8(in_PushValue_3);
			VAL v213 = MKI64(8LL /* I8 */);
			incref(v213);
			int64_t v214 = get_data_tag(v213);
			decref(v213);
			INT v215 = WRAP_I63(0LL);
			INT v216 = i64_to_int(v214);
			bool v217 = int_eq(v216, v215);
			bool v218 = !v217;
			int8_t branch_I8_219;
			VAL branch_C99ReprType_220;
			bool branch_Bool_221;
			TUP* branch_ZPlusMirth_222;
			STR* branch_Str_223;
			TUP* branch_ZPlusC99Branch_224;
			if (v218) {
				TUP* v225 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v226;
				TUP* v227;
				STR* v228 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v225, &v226, &v227);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v227, 6);
				branch_ZPlusC99Branch_224 = in_ZPlusC99Branch_2;
				branch_Str_223 = v228;
				branch_ZPlusMirth_222 = v226;
				branch_Bool_221 = v218;
				branch_C99ReprType_220 = v213;
				branch_I8_219 = v212;
			} else {
				STR* v229;
				STRLIT(v229, "0", 1);
				branch_ZPlusC99Branch_224 = in_ZPlusC99Branch_2;
				branch_Str_223 = v229;
				branch_ZPlusMirth_222 = in_ZPlusMirth_1;
				branch_Bool_221 = v218;
				branch_C99ReprType_220 = v213;
				branch_I8_219 = v212;
			}
			bool v230 = value_bool(branch_ZPlusC99Branch_224->cells[3]);
			bool v231 = (branch_Bool_221 && v230);
			TUP* v232 = value_tup(branch_ZPlusC99Branch_224->cells[0], 6);
			bool v233 = value_bool(v232->cells[3]);
			bool v234 = (v231 && v233);
			v232->cells[3] = MKBOOL(v234);
			TUP* v235;
			TUP* v236;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_222, v232, &v235, &v236);
			incref(branch_C99ReprType_220);
			STR* v237 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_220);
			TUP* v238;
			TUP* v239;
			mw_mirth_c99_ZPlusC99_put(v235, v236, v237, &v238, &v239);
			STR* v240;
			STRLIT(v240, " ", 1);
			TUP* v241;
			TUP* v242;
			mw_mirth_c99_ZPlusC99_put(v238, v239, v240, &v241, &v242);
			incref(MKSTR(branch_Str_223));
			TUP* v243;
			TUP* v244;
			mw_mirth_c99_ZPlusC99_put(v241, v242, branch_Str_223, &v243, &v244);
			STR* v245;
			STRLIT(v245, " = ", 3);
			TUP* v246;
			TUP* v247;
			mw_mirth_c99_ZPlusC99_put(v243, v244, v245, &v246, &v247);
			TUP* v248;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_220, branch_Str_223, &v248);
			int64_t v249 = (int64_t)(branch_I8_219);
			INT v250 = i64_to_int(v249);
			STR* v251 = int_to_str(v250);
			TUP* v252;
			TUP* v253;
			mw_mirth_c99_ZPlusC99_put(v246, v247, v251, &v252, &v253);
			STR* v254;
			STRLIT(v254, ";", 1);
			TUP* v255;
			TUP* v256;
			mw_mirth_c99_ZPlusC99_put(v252, v253, v254, &v255, &v256);
			TUP* v257;
			TUP* v258;
			mw_mirth_c99_ZPlusC99_line(v255, v256, &v257, &v258);
			v258->cells[3] = MKBOOL(v233);
			branch_ZPlusC99Branch_224->cells[0] = MKTUP(v258, 6);
			TUP* v259;
			TUP* v260;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v257, branch_ZPlusC99Branch_224, v248, &v259, &v260);
			branch_ZPlusC99Branch_7 = v260;
			branch_ZPlusMirth_6 = v259;
		} break;
		case 7LL: { // I16
			int16_t v261 = mtp_mirth_arrow_PushValue_I16(in_PushValue_3);
			VAL v262 = MKI64(7LL /* I16 */);
			incref(v262);
			int64_t v263 = get_data_tag(v262);
			decref(v262);
			INT v264 = WRAP_I63(0LL);
			INT v265 = i64_to_int(v263);
			bool v266 = int_eq(v265, v264);
			bool v267 = !v266;
			int16_t branch_I16_268;
			VAL branch_C99ReprType_269;
			bool branch_Bool_270;
			TUP* branch_ZPlusMirth_271;
			STR* branch_Str_272;
			TUP* branch_ZPlusC99Branch_273;
			if (v267) {
				TUP* v274 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v275;
				TUP* v276;
				STR* v277 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v274, &v275, &v276);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v276, 6);
				branch_ZPlusC99Branch_273 = in_ZPlusC99Branch_2;
				branch_Str_272 = v277;
				branch_ZPlusMirth_271 = v275;
				branch_Bool_270 = v267;
				branch_C99ReprType_269 = v262;
				branch_I16_268 = v261;
			} else {
				STR* v278;
				STRLIT(v278, "0", 1);
				branch_ZPlusC99Branch_273 = in_ZPlusC99Branch_2;
				branch_Str_272 = v278;
				branch_ZPlusMirth_271 = in_ZPlusMirth_1;
				branch_Bool_270 = v267;
				branch_C99ReprType_269 = v262;
				branch_I16_268 = v261;
			}
			bool v279 = value_bool(branch_ZPlusC99Branch_273->cells[3]);
			bool v280 = (branch_Bool_270 && v279);
			TUP* v281 = value_tup(branch_ZPlusC99Branch_273->cells[0], 6);
			bool v282 = value_bool(v281->cells[3]);
			bool v283 = (v280 && v282);
			v281->cells[3] = MKBOOL(v283);
			TUP* v284;
			TUP* v285;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_271, v281, &v284, &v285);
			incref(branch_C99ReprType_269);
			STR* v286 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_269);
			TUP* v287;
			TUP* v288;
			mw_mirth_c99_ZPlusC99_put(v284, v285, v286, &v287, &v288);
			STR* v289;
			STRLIT(v289, " ", 1);
			TUP* v290;
			TUP* v291;
			mw_mirth_c99_ZPlusC99_put(v287, v288, v289, &v290, &v291);
			incref(MKSTR(branch_Str_272));
			TUP* v292;
			TUP* v293;
			mw_mirth_c99_ZPlusC99_put(v290, v291, branch_Str_272, &v292, &v293);
			STR* v294;
			STRLIT(v294, " = ", 3);
			TUP* v295;
			TUP* v296;
			mw_mirth_c99_ZPlusC99_put(v292, v293, v294, &v295, &v296);
			TUP* v297;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_269, branch_Str_272, &v297);
			int64_t v298 = (int64_t)(branch_I16_268);
			INT v299 = i64_to_int(v298);
			STR* v300 = int_to_str(v299);
			TUP* v301;
			TUP* v302;
			mw_mirth_c99_ZPlusC99_put(v295, v296, v300, &v301, &v302);
			STR* v303;
			STRLIT(v303, ";", 1);
			TUP* v304;
			TUP* v305;
			mw_mirth_c99_ZPlusC99_put(v301, v302, v303, &v304, &v305);
			TUP* v306;
			TUP* v307;
			mw_mirth_c99_ZPlusC99_line(v304, v305, &v306, &v307);
			v307->cells[3] = MKBOOL(v282);
			branch_ZPlusC99Branch_273->cells[0] = MKTUP(v307, 6);
			TUP* v308;
			TUP* v309;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v306, branch_ZPlusC99Branch_273, v297, &v308, &v309);
			branch_ZPlusC99Branch_7 = v309;
			branch_ZPlusMirth_6 = v308;
		} break;
		case 8LL: { // I32
			int32_t v310 = mtp_mirth_arrow_PushValue_I32(in_PushValue_3);
			VAL v311 = MKI64(6LL /* I32 */);
			incref(v311);
			int64_t v312 = get_data_tag(v311);
			decref(v311);
			INT v313 = WRAP_I63(0LL);
			INT v314 = i64_to_int(v312);
			bool v315 = int_eq(v314, v313);
			bool v316 = !v315;
			int32_t branch_I32_317;
			VAL branch_C99ReprType_318;
			bool branch_Bool_319;
			TUP* branch_ZPlusMirth_320;
			STR* branch_Str_321;
			TUP* branch_ZPlusC99Branch_322;
			if (v316) {
				TUP* v323 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v324;
				TUP* v325;
				STR* v326 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v323, &v324, &v325);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v325, 6);
				branch_ZPlusC99Branch_322 = in_ZPlusC99Branch_2;
				branch_Str_321 = v326;
				branch_ZPlusMirth_320 = v324;
				branch_Bool_319 = v316;
				branch_C99ReprType_318 = v311;
				branch_I32_317 = v310;
			} else {
				STR* v327;
				STRLIT(v327, "0", 1);
				branch_ZPlusC99Branch_322 = in_ZPlusC99Branch_2;
				branch_Str_321 = v327;
				branch_ZPlusMirth_320 = in_ZPlusMirth_1;
				branch_Bool_319 = v316;
				branch_C99ReprType_318 = v311;
				branch_I32_317 = v310;
			}
			bool v328 = value_bool(branch_ZPlusC99Branch_322->cells[3]);
			bool v329 = (branch_Bool_319 && v328);
			TUP* v330 = value_tup(branch_ZPlusC99Branch_322->cells[0], 6);
			bool v331 = value_bool(v330->cells[3]);
			bool v332 = (v329 && v331);
			v330->cells[3] = MKBOOL(v332);
			TUP* v333;
			TUP* v334;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_320, v330, &v333, &v334);
			incref(branch_C99ReprType_318);
			STR* v335 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_318);
			TUP* v336;
			TUP* v337;
			mw_mirth_c99_ZPlusC99_put(v333, v334, v335, &v336, &v337);
			STR* v338;
			STRLIT(v338, " ", 1);
			TUP* v339;
			TUP* v340;
			mw_mirth_c99_ZPlusC99_put(v336, v337, v338, &v339, &v340);
			incref(MKSTR(branch_Str_321));
			TUP* v341;
			TUP* v342;
			mw_mirth_c99_ZPlusC99_put(v339, v340, branch_Str_321, &v341, &v342);
			STR* v343;
			STRLIT(v343, " = ", 3);
			TUP* v344;
			TUP* v345;
			mw_mirth_c99_ZPlusC99_put(v341, v342, v343, &v344, &v345);
			TUP* v346;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_318, branch_Str_321, &v346);
			int32_t v347 = INT32_MIN;
			int64_t v348 = (int64_t)(v347);
			int64_t v349 = (int64_t)(branch_I32_317);
			bool v350 = (v349 == v348);
			TUP* branch_ZPlusMirth_351;
			TUP* branch_ZPlusC99_352;
			if (v350) {
				STR* v353;
				STRLIT(v353, "INT32_MIN", 9);
				TUP* v354;
				TUP* v355;
				mw_mirth_c99_ZPlusC99_put(v344, v345, v353, &v354, &v355);
				branch_ZPlusC99_352 = v355;
				branch_ZPlusMirth_351 = v354;
			} else {
				int64_t v356 = (int64_t)(branch_I32_317);
				INT v357 = i64_to_int(v356);
				STR* v358 = int_to_str(v357);
				TUP* v359;
				TUP* v360;
				mw_mirth_c99_ZPlusC99_put(v344, v345, v358, &v359, &v360);
				branch_ZPlusC99_352 = v360;
				branch_ZPlusMirth_351 = v359;
			}
			STR* v361;
			STRLIT(v361, ";", 1);
			TUP* v362;
			TUP* v363;
			mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_351, branch_ZPlusC99_352, v361, &v362, &v363);
			TUP* v364;
			TUP* v365;
			mw_mirth_c99_ZPlusC99_line(v362, v363, &v364, &v365);
			v365->cells[3] = MKBOOL(v331);
			branch_ZPlusC99Branch_322->cells[0] = MKTUP(v365, 6);
			TUP* v366;
			TUP* v367;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v364, branch_ZPlusC99Branch_322, v346, &v366, &v367);
			branch_ZPlusC99Branch_7 = v367;
			branch_ZPlusMirth_6 = v366;
		} break;
		case 9LL: { // I64
			int64_t v368 = mtp_mirth_arrow_PushValue_I64(in_PushValue_3);
			VAL v369 = MKI64(5LL /* I64 */);
			incref(v369);
			int64_t v370 = get_data_tag(v369);
			decref(v369);
			INT v371 = WRAP_I63(0LL);
			INT v372 = i64_to_int(v370);
			bool v373 = int_eq(v372, v371);
			bool v374 = !v373;
			int64_t branch_I64_375;
			VAL branch_C99ReprType_376;
			bool branch_Bool_377;
			TUP* branch_ZPlusMirth_378;
			STR* branch_Str_379;
			TUP* branch_ZPlusC99Branch_380;
			if (v374) {
				TUP* v381 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v382;
				TUP* v383;
				STR* v384 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v381, &v382, &v383);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v383, 6);
				branch_ZPlusC99Branch_380 = in_ZPlusC99Branch_2;
				branch_Str_379 = v384;
				branch_ZPlusMirth_378 = v382;
				branch_Bool_377 = v374;
				branch_C99ReprType_376 = v369;
				branch_I64_375 = v368;
			} else {
				STR* v385;
				STRLIT(v385, "0", 1);
				branch_ZPlusC99Branch_380 = in_ZPlusC99Branch_2;
				branch_Str_379 = v385;
				branch_ZPlusMirth_378 = in_ZPlusMirth_1;
				branch_Bool_377 = v374;
				branch_C99ReprType_376 = v369;
				branch_I64_375 = v368;
			}
			bool v386 = value_bool(branch_ZPlusC99Branch_380->cells[3]);
			bool v387 = (branch_Bool_377 && v386);
			TUP* v388 = value_tup(branch_ZPlusC99Branch_380->cells[0], 6);
			bool v389 = value_bool(v388->cells[3]);
			bool v390 = (v387 && v389);
			v388->cells[3] = MKBOOL(v390);
			TUP* v391;
			TUP* v392;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_378, v388, &v391, &v392);
			incref(branch_C99ReprType_376);
			STR* v393 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_376);
			TUP* v394;
			TUP* v395;
			mw_mirth_c99_ZPlusC99_put(v391, v392, v393, &v394, &v395);
			STR* v396;
			STRLIT(v396, " ", 1);
			TUP* v397;
			TUP* v398;
			mw_mirth_c99_ZPlusC99_put(v394, v395, v396, &v397, &v398);
			incref(MKSTR(branch_Str_379));
			TUP* v399;
			TUP* v400;
			mw_mirth_c99_ZPlusC99_put(v397, v398, branch_Str_379, &v399, &v400);
			STR* v401;
			STRLIT(v401, " = ", 3);
			TUP* v402;
			TUP* v403;
			mw_mirth_c99_ZPlusC99_put(v399, v400, v401, &v402, &v403);
			TUP* v404;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_376, branch_Str_379, &v404);
			int64_t v405 = INT64_MIN;
			bool v406 = (branch_I64_375 == v405);
			TUP* branch_ZPlusMirth_407;
			TUP* branch_ZPlusC99_408;
			if (v406) {
				STR* v409;
				STRLIT(v409, "INT64_MIN", 9);
				TUP* v410;
				TUP* v411;
				mw_mirth_c99_ZPlusC99_put(v402, v403, v409, &v410, &v411);
				branch_ZPlusC99_408 = v411;
				branch_ZPlusMirth_407 = v410;
			} else {
				INT v412 = i64_to_int(branch_I64_375);
				STR* v413 = int_to_str(v412);
				TUP* v414;
				TUP* v415;
				mw_mirth_c99_ZPlusC99_put(v402, v403, v413, &v414, &v415);
				STR* v416;
				STRLIT(v416, "LL", 2);
				TUP* v417;
				TUP* v418;
				mw_mirth_c99_ZPlusC99_put(v414, v415, v416, &v417, &v418);
				branch_ZPlusC99_408 = v418;
				branch_ZPlusMirth_407 = v417;
			}
			STR* v419;
			STRLIT(v419, ";", 1);
			TUP* v420;
			TUP* v421;
			mw_mirth_c99_ZPlusC99_put(branch_ZPlusMirth_407, branch_ZPlusC99_408, v419, &v420, &v421);
			TUP* v422;
			TUP* v423;
			mw_mirth_c99_ZPlusC99_line(v420, v421, &v422, &v423);
			v423->cells[3] = MKBOOL(v389);
			branch_ZPlusC99Branch_380->cells[0] = MKTUP(v423, 6);
			TUP* v424;
			TUP* v425;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v422, branch_ZPlusC99Branch_380, v404, &v424, &v425);
			branch_ZPlusC99Branch_7 = v425;
			branch_ZPlusMirth_6 = v424;
		} break;
		case 10LL: { // F32
			float v426 = mtp_mirth_arrow_PushValue_F32(in_PushValue_3);
			VAL v427 = MKI64(14LL /* F32 */);
			incref(v427);
			int64_t v428 = get_data_tag(v427);
			decref(v427);
			INT v429 = WRAP_I63(0LL);
			INT v430 = i64_to_int(v428);
			bool v431 = int_eq(v430, v429);
			bool v432 = !v431;
			float branch_F32_433;
			VAL branch_C99ReprType_434;
			bool branch_Bool_435;
			TUP* branch_ZPlusMirth_436;
			STR* branch_Str_437;
			TUP* branch_ZPlusC99Branch_438;
			if (v432) {
				TUP* v439 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v440;
				TUP* v441;
				STR* v442 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v439, &v440, &v441);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v441, 6);
				branch_ZPlusC99Branch_438 = in_ZPlusC99Branch_2;
				branch_Str_437 = v442;
				branch_ZPlusMirth_436 = v440;
				branch_Bool_435 = v432;
				branch_C99ReprType_434 = v427;
				branch_F32_433 = v426;
			} else {
				STR* v443;
				STRLIT(v443, "0", 1);
				branch_ZPlusC99Branch_438 = in_ZPlusC99Branch_2;
				branch_Str_437 = v443;
				branch_ZPlusMirth_436 = in_ZPlusMirth_1;
				branch_Bool_435 = v432;
				branch_C99ReprType_434 = v427;
				branch_F32_433 = v426;
			}
			bool v444 = value_bool(branch_ZPlusC99Branch_438->cells[3]);
			bool v445 = (branch_Bool_435 && v444);
			TUP* v446 = value_tup(branch_ZPlusC99Branch_438->cells[0], 6);
			bool v447 = value_bool(v446->cells[3]);
			bool v448 = (v445 && v447);
			v446->cells[3] = MKBOOL(v448);
			TUP* v449;
			TUP* v450;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_436, v446, &v449, &v450);
			incref(branch_C99ReprType_434);
			STR* v451 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_434);
			TUP* v452;
			TUP* v453;
			mw_mirth_c99_ZPlusC99_put(v449, v450, v451, &v452, &v453);
			STR* v454;
			STRLIT(v454, " ", 1);
			TUP* v455;
			TUP* v456;
			mw_mirth_c99_ZPlusC99_put(v452, v453, v454, &v455, &v456);
			incref(MKSTR(branch_Str_437));
			TUP* v457;
			TUP* v458;
			mw_mirth_c99_ZPlusC99_put(v455, v456, branch_Str_437, &v457, &v458);
			STR* v459;
			STRLIT(v459, " = ", 3);
			TUP* v460;
			TUP* v461;
			mw_mirth_c99_ZPlusC99_put(v457, v458, v459, &v460, &v461);
			TUP* v462;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_434, branch_Str_437, &v462);
			STR* v463 = f32_to_str(branch_F32_433);
			TUP* v464;
			TUP* v465;
			mw_mirth_c99_ZPlusC99_put(v460, v461, v463, &v464, &v465);
			STR* v466;
			STRLIT(v466, ";", 1);
			TUP* v467;
			TUP* v468;
			mw_mirth_c99_ZPlusC99_put(v464, v465, v466, &v467, &v468);
			TUP* v469;
			TUP* v470;
			mw_mirth_c99_ZPlusC99_line(v467, v468, &v469, &v470);
			v470->cells[3] = MKBOOL(v447);
			branch_ZPlusC99Branch_438->cells[0] = MKTUP(v470, 6);
			TUP* v471;
			TUP* v472;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v469, branch_ZPlusC99Branch_438, v462, &v471, &v472);
			branch_ZPlusC99Branch_7 = v472;
			branch_ZPlusMirth_6 = v471;
		} break;
		case 11LL: { // F64
			double v473 = mtp_mirth_arrow_PushValue_F64(in_PushValue_3);
			VAL v474 = MKI64(13LL /* F64 */);
			incref(v474);
			int64_t v475 = get_data_tag(v474);
			decref(v474);
			INT v476 = WRAP_I63(0LL);
			INT v477 = i64_to_int(v475);
			bool v478 = int_eq(v477, v476);
			bool v479 = !v478;
			double branch_F64_480;
			VAL branch_C99ReprType_481;
			bool branch_Bool_482;
			TUP* branch_ZPlusMirth_483;
			STR* branch_Str_484;
			TUP* branch_ZPlusC99Branch_485;
			if (v479) {
				TUP* v486 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v487;
				TUP* v488;
				STR* v489 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v486, &v487, &v488);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v488, 6);
				branch_ZPlusC99Branch_485 = in_ZPlusC99Branch_2;
				branch_Str_484 = v489;
				branch_ZPlusMirth_483 = v487;
				branch_Bool_482 = v479;
				branch_C99ReprType_481 = v474;
				branch_F64_480 = v473;
			} else {
				STR* v490;
				STRLIT(v490, "0", 1);
				branch_ZPlusC99Branch_485 = in_ZPlusC99Branch_2;
				branch_Str_484 = v490;
				branch_ZPlusMirth_483 = in_ZPlusMirth_1;
				branch_Bool_482 = v479;
				branch_C99ReprType_481 = v474;
				branch_F64_480 = v473;
			}
			bool v491 = value_bool(branch_ZPlusC99Branch_485->cells[3]);
			bool v492 = (branch_Bool_482 && v491);
			TUP* v493 = value_tup(branch_ZPlusC99Branch_485->cells[0], 6);
			bool v494 = value_bool(v493->cells[3]);
			bool v495 = (v492 && v494);
			v493->cells[3] = MKBOOL(v495);
			TUP* v496;
			TUP* v497;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_483, v493, &v496, &v497);
			incref(branch_C99ReprType_481);
			STR* v498 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_481);
			TUP* v499;
			TUP* v500;
			mw_mirth_c99_ZPlusC99_put(v496, v497, v498, &v499, &v500);
			STR* v501;
			STRLIT(v501, " ", 1);
			TUP* v502;
			TUP* v503;
			mw_mirth_c99_ZPlusC99_put(v499, v500, v501, &v502, &v503);
			incref(MKSTR(branch_Str_484));
			TUP* v504;
			TUP* v505;
			mw_mirth_c99_ZPlusC99_put(v502, v503, branch_Str_484, &v504, &v505);
			STR* v506;
			STRLIT(v506, " = ", 3);
			TUP* v507;
			TUP* v508;
			mw_mirth_c99_ZPlusC99_put(v504, v505, v506, &v507, &v508);
			TUP* v509;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_481, branch_Str_484, &v509);
			STR* v510 = f64_to_str(branch_F64_480);
			TUP* v511;
			TUP* v512;
			mw_mirth_c99_ZPlusC99_put(v507, v508, v510, &v511, &v512);
			STR* v513;
			STRLIT(v513, ";", 1);
			TUP* v514;
			TUP* v515;
			mw_mirth_c99_ZPlusC99_put(v511, v512, v513, &v514, &v515);
			TUP* v516;
			TUP* v517;
			mw_mirth_c99_ZPlusC99_line(v514, v515, &v516, &v517);
			v517->cells[3] = MKBOOL(v494);
			branch_ZPlusC99Branch_485->cells[0] = MKTUP(v517, 6);
			TUP* v518;
			TUP* v519;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v516, branch_ZPlusC99Branch_485, v509, &v518, &v519);
			branch_ZPlusC99Branch_7 = v519;
			branch_ZPlusMirth_6 = v518;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_c99Z_getZ_enumZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	bool v7 = mw_mirth_data_Data_isZ_enumZAsk(in_ZPlusMirth_1, in_Data_3, &v6);
	TUP* branch_ZPlusC99Branch_8;
	TUP* branch_ZPlusMirth_9;
	uint64_t branch_Data_10;
	if (v7) {
		branch_Data_10 = in_Data_3;
		branch_ZPlusMirth_9 = v6;
		branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
	} else {
		VAL v11 = mtw_mirth_type_Type_Data(in_Data_3);
		TUP* v12;
		TUP* v13;
		VAL v14 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v11, &v12, &v13);
		TUP* v15;
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v12, v13, v14, &v15, &v16, &v17);
		TUP* v18;
		VAL v19 = mw_mirth_data_Data_isZ_unitZAsk(v15, in_Data_3, &v18);
		TUP* branch_ZPlusC99Value_20;
		uint64_t branch_Data_21;
		TUP* branch_ZPlusMirth_22;
		TUP* branch_ZPlusC99Branch_23;
		switch (get_data_tag(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				VAL v25 = MKI64(5LL /* I64 */);
				incref(v25);
				int64_t v26 = get_data_tag(v25);
				decref(v25);
				INT v27 = WRAP_I63(0LL);
				INT v28 = i64_to_int(v26);
				bool v29 = int_eq(v28, v27);
				bool v30 = !v29;
				uint64_t branch_Tag_31;
				VAL branch_C99ReprType_32;
				bool branch_Bool_33;
				TUP* branch_ZPlusMirth_34;
				STR* branch_Str_35;
				TUP* branch_ZPlusC99Branch_36;
				if (v30) {
					TUP* v37 = value_tup(v16->cells[0], 6);
					TUP* v38;
					TUP* v39;
					STR* v40 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v18, v37, &v38, &v39);
					v16->cells[0] = MKTUP(v39, 6);
					branch_ZPlusC99Branch_36 = v16;
					branch_Str_35 = v40;
					branch_ZPlusMirth_34 = v38;
					branch_Bool_33 = v30;
					branch_C99ReprType_32 = v25;
					branch_Tag_31 = value_u64(v24);
				} else {
					STR* v41;
					STRLIT(v41, "0", 1);
					branch_ZPlusC99Branch_36 = v16;
					branch_Str_35 = v41;
					branch_ZPlusMirth_34 = v18;
					branch_Bool_33 = v30;
					branch_C99ReprType_32 = v25;
					branch_Tag_31 = value_u64(v24);
				}
				bool v42 = value_bool(branch_ZPlusC99Branch_36->cells[3]);
				bool v43 = (branch_Bool_33 && v42);
				TUP* v44 = value_tup(branch_ZPlusC99Branch_36->cells[0], 6);
				bool v45 = value_bool(v44->cells[3]);
				bool v46 = (v43 && v45);
				v44->cells[3] = MKBOOL(v46);
				TUP* v47;
				TUP* v48;
				mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_34, v44, &v47, &v48);
				incref(branch_C99ReprType_32);
				STR* v49 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_32);
				TUP* v50;
				TUP* v51;
				mw_mirth_c99_ZPlusC99_put(v47, v48, v49, &v50, &v51);
				STR* v52;
				STRLIT(v52, " ", 1);
				TUP* v53;
				TUP* v54;
				mw_mirth_c99_ZPlusC99_put(v50, v51, v52, &v53, &v54);
				incref(MKSTR(branch_Str_35));
				TUP* v55;
				TUP* v56;
				mw_mirth_c99_ZPlusC99_put(v53, v54, branch_Str_35, &v55, &v56);
				STR* v57;
				STRLIT(v57, " = ", 3);
				TUP* v58;
				TUP* v59;
				mw_mirth_c99_ZPlusC99_put(v55, v56, v57, &v58, &v59);
				TUP* v60;
				mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_32, branch_Str_35, &v60);
				TUP* v61;
				STR* v62 = mw_mirth_data_Tag_valueZ_show(v58, branch_Tag_31, &v61);
				TUP* v63;
				TUP* v64;
				mw_mirth_c99_ZPlusC99_put(v61, v59, v62, &v63, &v64);
				STR* v65;
				STRLIT(v65, "LL", 2);
				TUP* v66;
				TUP* v67;
				mw_mirth_c99_ZPlusC99_put(v63, v64, v65, &v66, &v67);
				STR* v68;
				STRLIT(v68, ";", 1);
				TUP* v69;
				TUP* v70;
				mw_mirth_c99_ZPlusC99_put(v66, v67, v68, &v69, &v70);
				TUP* v71;
				TUP* v72;
				mw_mirth_c99_ZPlusC99_line(v69, v70, &v71, &v72);
				v72->cells[3] = MKBOOL(v45);
				branch_ZPlusC99Branch_36->cells[0] = MKTUP(v72, 6);
				TUP* v73;
				TUP* v74;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v71, branch_ZPlusC99Branch_36, v60, &v73, &v74);
				branch_ZPlusC99Branch_23 = v74;
				branch_ZPlusMirth_22 = v73;
				branch_Data_21 = in_Data_3;
				branch_ZPlusC99Value_20 = v17;
			} break;
			case 0LL: { // None
				TUP* v75;
				VAL v76 = mw_mirth_data_Data_semiZ_transparentZAsk(v18, in_Data_3, &v75);
				TUP* branch_ZPlusC99Value_77;
				TUP* branch_ZPlusMirth_78;
				TUP* branch_ZPlusC99Branch_79;
				switch (get_data_tag(v76)) {
					case 1LL: { // Some
						VAL v80 = mtp_std_maybe_Maybe_1_Some(v76);
						VAL v81 = MKI64(5LL /* I64 */);
						incref(v81);
						int64_t v82 = get_data_tag(v81);
						decref(v81);
						INT v83 = WRAP_I63(0LL);
						INT v84 = i64_to_int(v82);
						bool v85 = int_eq(v84, v83);
						bool v86 = !v85;
						TUP* branch_SemiTransparentData_87;
						VAL branch_C99ReprType_88;
						bool branch_Bool_89;
						TUP* branch_ZPlusMirth_90;
						STR* branch_Str_91;
						TUP* branch_ZPlusC99Branch_92;
						if (v86) {
							TUP* v93 = value_tup(v16->cells[0], 6);
							TUP* v94;
							TUP* v95;
							STR* v96 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v75, v93, &v94, &v95);
							v16->cells[0] = MKTUP(v95, 6);
							branch_ZPlusC99Branch_92 = v16;
							branch_Str_91 = v96;
							branch_ZPlusMirth_90 = v94;
							branch_Bool_89 = v86;
							branch_C99ReprType_88 = v81;
							branch_SemiTransparentData_87 = value_tup(v80, 2);
						} else {
							STR* v97;
							STRLIT(v97, "0", 1);
							branch_ZPlusC99Branch_92 = v16;
							branch_Str_91 = v97;
							branch_ZPlusMirth_90 = v75;
							branch_Bool_89 = v86;
							branch_C99ReprType_88 = v81;
							branch_SemiTransparentData_87 = value_tup(v80, 2);
						}
						bool v98 = value_bool(branch_ZPlusC99Branch_92->cells[3]);
						bool v99 = (branch_Bool_89 && v98);
						TUP* v100 = value_tup(branch_ZPlusC99Branch_92->cells[0], 6);
						bool v101 = value_bool(v100->cells[3]);
						bool v102 = (v99 && v101);
						v100->cells[3] = MKBOOL(v102);
						TUP* v103;
						TUP* v104;
						mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_90, v100, &v103, &v104);
						incref(branch_C99ReprType_88);
						STR* v105 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_88);
						TUP* v106;
						TUP* v107;
						mw_mirth_c99_ZPlusC99_put(v103, v104, v105, &v106, &v107);
						STR* v108;
						STRLIT(v108, " ", 1);
						TUP* v109;
						TUP* v110;
						mw_mirth_c99_ZPlusC99_put(v106, v107, v108, &v109, &v110);
						incref(MKSTR(branch_Str_91));
						TUP* v111;
						TUP* v112;
						mw_mirth_c99_ZPlusC99_put(v109, v110, branch_Str_91, &v111, &v112);
						STR* v113;
						STRLIT(v113, " = ", 3);
						TUP* v114;
						TUP* v115;
						mw_mirth_c99_ZPlusC99_put(v111, v112, v113, &v114, &v115);
						TUP* v116;
						mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_88, branch_Str_91, &v116);
						uint64_t v117 = value_u64(branch_SemiTransparentData_87->cells[0]);
						decref(MKTUP(branch_SemiTransparentData_87, 2));
						TUP* v118;
						STR* v119 = mw_mirth_data_Tag_valueZ_show(v114, v117, &v118);
						TUP* v120;
						TUP* v121;
						mw_mirth_c99_ZPlusC99_put(v118, v115, v119, &v120, &v121);
						STR* v122;
						STRLIT(v122, "LL", 2);
						TUP* v123;
						TUP* v124;
						mw_mirth_c99_ZPlusC99_put(v120, v121, v122, &v123, &v124);
						STR* v125;
						STRLIT(v125, ";", 1);
						TUP* v126;
						TUP* v127;
						mw_mirth_c99_ZPlusC99_put(v123, v124, v125, &v126, &v127);
						TUP* v128;
						TUP* v129;
						mw_mirth_c99_ZPlusC99_line(v126, v127, &v128, &v129);
						v129->cells[3] = MKBOOL(v101);
						branch_ZPlusC99Branch_92->cells[0] = MKTUP(v129, 6);
						TUP* v130;
						TUP* v131;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v128, branch_ZPlusC99Branch_92, v116, &v130, &v131);
						branch_ZPlusC99Branch_79 = v131;
						branch_ZPlusMirth_78 = v130;
						branch_ZPlusC99Value_77 = v17;
					} break;
					case 0LL: { // None
						VAL v132 = MKI64(5LL /* I64 */);
						incref(v132);
						int64_t v133 = get_data_tag(v132);
						decref(v132);
						INT v134 = WRAP_I63(0LL);
						INT v135 = i64_to_int(v133);
						bool v136 = int_eq(v135, v134);
						bool v137 = !v136;
						TUP* branch_ZPlusC99Value_138;
						VAL branch_C99ReprType_139;
						bool branch_Bool_140;
						TUP* branch_ZPlusMirth_141;
						STR* branch_Str_142;
						TUP* branch_ZPlusC99Branch_143;
						if (v137) {
							TUP* v144 = value_tup(v16->cells[0], 6);
							TUP* v145;
							TUP* v146;
							STR* v147 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v75, v144, &v145, &v146);
							v16->cells[0] = MKTUP(v146, 6);
							branch_ZPlusC99Branch_143 = v16;
							branch_Str_142 = v147;
							branch_ZPlusMirth_141 = v145;
							branch_Bool_140 = v137;
							branch_C99ReprType_139 = v132;
							branch_ZPlusC99Value_138 = v17;
						} else {
							STR* v148;
							STRLIT(v148, "0", 1);
							branch_ZPlusC99Branch_143 = v16;
							branch_Str_142 = v148;
							branch_ZPlusMirth_141 = v75;
							branch_Bool_140 = v137;
							branch_C99ReprType_139 = v132;
							branch_ZPlusC99Value_138 = v17;
						}
						bool v149 = value_bool(branch_ZPlusC99Branch_143->cells[3]);
						bool v150 = (branch_Bool_140 && v149);
						TUP* v151 = value_tup(branch_ZPlusC99Branch_143->cells[0], 6);
						bool v152 = value_bool(v151->cells[3]);
						bool v153 = (v150 && v152);
						v151->cells[3] = MKBOOL(v153);
						TUP* v154;
						TUP* v155;
						mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_141, v151, &v154, &v155);
						incref(branch_C99ReprType_139);
						STR* v156 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_139);
						TUP* v157;
						TUP* v158;
						mw_mirth_c99_ZPlusC99_put(v154, v155, v156, &v157, &v158);
						STR* v159;
						STRLIT(v159, " ", 1);
						TUP* v160;
						TUP* v161;
						mw_mirth_c99_ZPlusC99_put(v157, v158, v159, &v160, &v161);
						incref(MKSTR(branch_Str_142));
						TUP* v162;
						TUP* v163;
						mw_mirth_c99_ZPlusC99_put(v160, v161, branch_Str_142, &v162, &v163);
						STR* v164;
						STRLIT(v164, " = ", 3);
						TUP* v165;
						TUP* v166;
						mw_mirth_c99_ZPlusC99_put(v162, v163, v164, &v165, &v166);
						TUP* v167;
						mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_139, branch_Str_142, &v167);
						STR* v168;
						STRLIT(v168, "get_data_tag(", 13);
						TUP* v169;
						TUP* v170;
						mw_mirth_c99_ZPlusC99_put(v165, v166, v168, &v169, &v170);
						TUP* v171;
						TUP* v172;
						mw_mirth_c99_ZPlusC99Value_rdup(branch_ZPlusC99Value_138, &v171, &v172);
						STR* v173 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v171);
						TUP* v174;
						TUP* v175;
						mw_mirth_c99_ZPlusC99_put(v169, v170, v173, &v174, &v175);
						STR* v176;
						STRLIT(v176, ")", 1);
						TUP* v177;
						TUP* v178;
						mw_mirth_c99_ZPlusC99_put(v174, v175, v176, &v177, &v178);
						STR* v179;
						STRLIT(v179, ";", 1);
						TUP* v180;
						TUP* v181;
						mw_mirth_c99_ZPlusC99_put(v177, v178, v179, &v180, &v181);
						TUP* v182;
						TUP* v183;
						mw_mirth_c99_ZPlusC99_line(v180, v181, &v182, &v183);
						v183->cells[3] = MKBOOL(v152);
						branch_ZPlusC99Branch_143->cells[0] = MKTUP(v183, 6);
						TUP* v184;
						TUP* v185;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v182, branch_ZPlusC99Branch_143, v167, &v184, &v185);
						branch_ZPlusC99Branch_79 = v185;
						branch_ZPlusMirth_78 = v184;
						branch_ZPlusC99Value_77 = v172;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusC99Branch_23 = branch_ZPlusC99Branch_79;
				branch_ZPlusMirth_22 = branch_ZPlusMirth_78;
				branch_Data_21 = in_Data_3;
				branch_ZPlusC99Value_20 = branch_ZPlusC99Value_77;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		TUP* v186;
		TUP* v187;
		mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(branch_ZPlusMirth_22, branch_ZPlusC99Branch_23, branch_ZPlusC99Value_20, &v186, &v187);
		branch_Data_10 = branch_Data_21;
		branch_ZPlusMirth_9 = v186;
		branch_ZPlusC99Branch_8 = v187;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	bool v7 = mw_mirth_data_Data_isZ_enumZAsk(in_ZPlusMirth_1, in_Data_3, &v6);
	TUP* branch_ZPlusMirth_8;
	if (v7) {
		branch_ZPlusMirth_8 = v6;
	} else {
		STR* v9;
		STRLIT(v9, "_.from-enum-value-unsafe on non-enum", 36);
		mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v6, v9);
	}
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_wordZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, uint64_t in_Word_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	TUP* v7;
	bool v8 = mw_mirth_word_Word_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Word_4, &v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	if (v8) {
		TUP* v11;
		TUP* v12;
		mw_mirth_c99_c99Z_argsZ_pushZBang(v7, in_ZPlusC99Branch_2, in_List_3, &v11, &v12);
		TUP* v13;
		TUP* v14 = mw_mirth_word_Word_arrow(v11, in_Word_4, &v13);
		TUP* v15;
		TUP* v16;
		mw_mirth_c99_c99Z_codipZ_arrowZBang(v13, v12, v14, &v15, &v16);
		branch_ZPlusC99Branch_10 = v16;
		branch_ZPlusMirth_9 = v15;
	} else {
		TUP* v17 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v18;
		TUP* v19;
		TUP* v20 = mw_mirth_word_Word_c99Z_api(v7, v17, in_Word_4, &v18, &v19);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v19, 6);
		TUP* v21;
		TUP* v22;
		mw_mirth_c99_c99Z_smartZ_callZBang(v18, in_ZPlusC99Branch_2, in_List_3, v20, &v21, &v22);
		branch_ZPlusC99Branch_10 = v22;
		branch_ZPlusMirth_9 = v21;
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
}
static STR* mw_mirth_data_Tag_valueZ_show (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3) {
	void* v5 = field_mut(&mfld_mirth_data_Tag_ZTildevalueZ_show, in_Tag_2);
	bool v6 = mut_is_set(v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	STR* branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = value_str(v10);
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		TUP* v11;
		INT v12 = mw_mirth_data_Tag_value(in_ZPlusMirth_1, in_Tag_2, &v11);
		STR* v13 = int_to_str(v12);
		incref(MKSTR(v13));
		mut_set(MKSTR(v13), v5);
		branch_Str_9 = v13;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v11;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static void mw_mirth_c99_c99Z_tagZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, uint64_t in_Tag_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	TUP* v7;
	bool v8 = mw_mirth_data_Tag_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Tag_4, &v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	if (v8) {
		decref(in_List_3);
		TUP* v11;
		TUP* v12;
		mw_mirth_c99_c99Z_tagZ_bodyZBang(v7, in_ZPlusC99Branch_2, in_Tag_4, &v11, &v12);
		branch_ZPlusC99Branch_10 = v12;
		branch_ZPlusMirth_9 = v11;
	} else {
		TUP* v13 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v14;
		TUP* v15;
		TUP* v16 = mw_mirth_data_Tag_wordZ_c99Z_api(v7, v13, in_Tag_4, &v14, &v15);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v15, 6);
		TUP* v17;
		TUP* v18;
		mw_mirth_c99_c99Z_smartZ_callZBang(v14, in_ZPlusC99Branch_2, in_List_3, v16, &v17, &v18);
		branch_ZPlusC99Branch_10 = v18;
		branch_ZPlusMirth_9 = v17;
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_c99Z_reverseZ_tagZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	bool v7 = mw_mirth_data_Tag_preferZ_inlineZAsk(in_ZPlusMirth_1, in_Tag_3, &v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	if (v7) {
		TUP* v10;
		TUP* v11;
		mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang(v6, in_ZPlusC99Branch_2, in_Tag_3, &v10, &v11);
		branch_ZPlusC99Branch_9 = v11;
		branch_ZPlusMirth_8 = v10;
	} else {
		VAL v12 = MKI64(0LL /* Nil */);
		TUP* v13 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v14;
		TUP* v15;
		TUP* v16 = mw_mirth_data_Tag_patZ_c99Z_api(v6, v13, in_Tag_3, &v14, &v15);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v15, 6);
		TUP* v17;
		TUP* v18;
		mw_mirth_c99_c99Z_smartZ_callZBang(v14, in_ZPlusC99Branch_2, v12, v16, &v17, &v18);
		branch_ZPlusC99Branch_9 = v18;
		branch_ZPlusMirth_8 = v17;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_labelZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_label_Label_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16 = value_tup(v14->cells[4], 2);
		TUP* v17;
		bool v18 = mw_mirth_label_Label_neededZAsk(v16, v15, &v17);
		v14->cells[4] = MKTUP(v17, 2);
		TUP* branch_ZPlusMirth_19;
		TUP* branch_ZPlusC99_20;
		if (v18) {
			TUP* v21;
			TUP* v22;
			mw_mirth_c99_c99Z_labelZ_defZBang(v13, v14, v15, &v21, &v22);
			branch_ZPlusC99_20 = v22;
			branch_ZPlusMirth_19 = v21;
		} else {
			branch_ZPlusC99_20 = v14;
			branch_ZPlusMirth_19 = v13;
		}
		uint64_t v23 = 1ULL;
		uint64_t v24 = (v15 + v23);
		void* v25 = mbuf_mirth_label_Label_NumBuffer;
		uint64_t v26 = *(uint64_t*)v25;
		bool v27 = (v24 <= v26);
		v12 = v27;
		v11 = v24;
		v10 = branch_ZPlusC99_20;
		v9 = branch_ZPlusMirth_19;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_labelZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Label_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	STR* v6;
	STRLIT(v6, "static STACK lbl_", 17);
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	TUP* v9;
	uint64_t v10 = mw_mirth_label_Label_name(v7, in_Label_3, &v9);
	TUP* v11;
	STR* v12 = mw_mirth_name_Name_mangled(v9, v10, &v11);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99_put(v11, v8, v12, &v13, &v14);
	STR* v15;
	STRLIT(v15, " = {0};", 7);
	TUP* v16;
	TUP* v17;
	mw_mirth_c99_ZPlusC99_put(v13, v14, v15, &v16, &v17);
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99_line(v16, v17, &v18, &v19);
	*out_ZPlusC99_5 = v19;
	*out_ZPlusMirth_4 = v18;
}
static void mw_mirth_c99_pushZ_valueZ_labelZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, TUP* in_ZPlusC99Value_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	STR* v7 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_4);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1(v7, in_Label_3, in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v8, &v9);
	*out_ZPlusC99Branch_6 = v9;
	*out_ZPlusMirth_5 = v8;
}
static void mw_mirth_c99_pushZ_valueZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, TUP* in_ZPlusC99Value_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	VAL v7 = in_ZPlusC99Branch_2->cells[1];
	VAL v8;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v7, in_ZPlusC99Value_4, in_Label_3, &v8);
	in_ZPlusC99Branch_2->cells[1] = v8;
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, TUP* in_ZPlusC99Resource_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	STR* v7 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(in_ZPlusC99Resource_4);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1(v7, in_Label_3, in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v8, &v9);
	*out_ZPlusC99Branch_6 = v9;
	*out_ZPlusMirth_5 = v8;
}
static void mw_mirth_c99_pushZ_resourceZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, TUP* in_ZPlusC99Resource_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	VAL v7 = in_ZPlusC99Branch_2->cells[1];
	VAL v8;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v7, in_ZPlusC99Resource_4, in_Label_3, &v8);
	in_ZPlusC99Branch_2->cells[1] = v8;
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_popZ_valueZ_labelZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Value_7) {
	incref(in_C99ReprType_3);
	incref(in_C99ReprType_3);
	int64_t v8 = get_data_tag(in_C99ReprType_3);
	decref(in_C99ReprType_3);
	INT v9 = WRAP_I63(0LL);
	INT v10 = i64_to_int(v8);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	uint64_t branch_Label_13;
	VAL branch_C99ReprType_14;
	VAL branch_C99ReprType_15;
	bool branch_Bool_16;
	TUP* branch_ZPlusMirth_17;
	STR* branch_Str_18;
	TUP* branch_ZPlusC99Branch_19;
	if (v12) {
		TUP* v20 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v21;
		TUP* v22;
		STR* v23 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v20, &v21, &v22);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v22, 6);
		branch_ZPlusC99Branch_19 = in_ZPlusC99Branch_2;
		branch_Str_18 = v23;
		branch_ZPlusMirth_17 = v21;
		branch_Bool_16 = v12;
		branch_C99ReprType_15 = in_C99ReprType_3;
		branch_C99ReprType_14 = in_C99ReprType_3;
		branch_Label_13 = in_Label_4;
	} else {
		STR* v24;
		STRLIT(v24, "0", 1);
		branch_ZPlusC99Branch_19 = in_ZPlusC99Branch_2;
		branch_Str_18 = v24;
		branch_ZPlusMirth_17 = in_ZPlusMirth_1;
		branch_Bool_16 = v12;
		branch_C99ReprType_15 = in_C99ReprType_3;
		branch_C99ReprType_14 = in_C99ReprType_3;
		branch_Label_13 = in_Label_4;
	}
	bool v25 = value_bool(branch_ZPlusC99Branch_19->cells[3]);
	bool v26 = (branch_Bool_16 && v25);
	TUP* v27 = value_tup(branch_ZPlusC99Branch_19->cells[0], 6);
	bool v28 = value_bool(v27->cells[3]);
	bool v29 = (v26 && v28);
	v27->cells[3] = MKBOOL(v29);
	TUP* v30;
	TUP* v31;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_17, v27, &v30, &v31);
	incref(branch_C99ReprType_15);
	STR* v32 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_15);
	TUP* v33;
	TUP* v34;
	mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
	STR* v35;
	STRLIT(v35, " ", 1);
	TUP* v36;
	TUP* v37;
	mw_mirth_c99_ZPlusC99_put(v33, v34, v35, &v36, &v37);
	incref(MKSTR(branch_Str_18));
	TUP* v38;
	TUP* v39;
	mw_mirth_c99_ZPlusC99_put(v36, v37, branch_Str_18, &v38, &v39);
	STR* v40;
	STRLIT(v40, " = ", 3);
	TUP* v41;
	TUP* v42;
	mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
	TUP* v43;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_15, branch_Str_18, &v43);
	TUP* v44;
	TUP* v45;
	mw_mirth_c99_C99ReprType_vZ_macro_1_sp4(branch_Label_13, v41, v42, branch_C99ReprType_14, &v44, &v45);
	STR* v46;
	STRLIT(v46, ";", 1);
	TUP* v47;
	TUP* v48;
	mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
	TUP* v49;
	TUP* v50;
	mw_mirth_c99_ZPlusC99_line(v47, v48, &v49, &v50);
	v50->cells[3] = MKBOOL(v28);
	branch_ZPlusC99Branch_19->cells[0] = MKTUP(v50, 6);
	*out_ZPlusC99Value_7 = v43;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_19;
	*out_ZPlusMirth_5 = v49;
}
static void mw_mirth_c99_popZ_resourceZ_labelZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Resource_7) {
	incref(in_C99ReprType_3);
	incref(in_C99ReprType_3);
	int64_t v8 = get_data_tag(in_C99ReprType_3);
	decref(in_C99ReprType_3);
	INT v9 = WRAP_I63(0LL);
	INT v10 = i64_to_int(v8);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	uint64_t branch_Label_13;
	VAL branch_C99ReprType_14;
	VAL branch_C99ReprType_15;
	bool branch_Bool_16;
	TUP* branch_ZPlusMirth_17;
	STR* branch_Str_18;
	TUP* branch_ZPlusC99Branch_19;
	if (v12) {
		TUP* v20 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v21;
		TUP* v22;
		STR* v23 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v20, &v21, &v22);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v22, 6);
		branch_ZPlusC99Branch_19 = in_ZPlusC99Branch_2;
		branch_Str_18 = v23;
		branch_ZPlusMirth_17 = v21;
		branch_Bool_16 = v12;
		branch_C99ReprType_15 = in_C99ReprType_3;
		branch_C99ReprType_14 = in_C99ReprType_3;
		branch_Label_13 = in_Label_4;
	} else {
		STR* v24;
		STRLIT(v24, "0", 1);
		branch_ZPlusC99Branch_19 = in_ZPlusC99Branch_2;
		branch_Str_18 = v24;
		branch_ZPlusMirth_17 = in_ZPlusMirth_1;
		branch_Bool_16 = v12;
		branch_C99ReprType_15 = in_C99ReprType_3;
		branch_C99ReprType_14 = in_C99ReprType_3;
		branch_Label_13 = in_Label_4;
	}
	bool v25 = value_bool(branch_ZPlusC99Branch_19->cells[3]);
	bool v26 = (branch_Bool_16 && v25);
	TUP* v27 = value_tup(branch_ZPlusC99Branch_19->cells[0], 6);
	bool v28 = value_bool(v27->cells[3]);
	bool v29 = (v26 && v28);
	v27->cells[3] = MKBOOL(v29);
	TUP* v30;
	TUP* v31;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_17, v27, &v30, &v31);
	incref(branch_C99ReprType_15);
	STR* v32 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_15);
	TUP* v33;
	TUP* v34;
	mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
	STR* v35;
	STRLIT(v35, " ", 1);
	TUP* v36;
	TUP* v37;
	mw_mirth_c99_ZPlusC99_put(v33, v34, v35, &v36, &v37);
	incref(MKSTR(branch_Str_18));
	TUP* v38;
	TUP* v39;
	mw_mirth_c99_ZPlusC99_put(v36, v37, branch_Str_18, &v38, &v39);
	STR* v40;
	STRLIT(v40, " = ", 3);
	TUP* v41;
	TUP* v42;
	mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
	TUP* v43;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_15, branch_Str_18, &v43);
	TUP* v44;
	TUP* v45;
	mw_mirth_c99_C99ReprType_vZ_macro_1_sp4(branch_Label_13, v41, v42, branch_C99ReprType_14, &v44, &v45);
	STR* v46;
	STRLIT(v46, ";", 1);
	TUP* v47;
	TUP* v48;
	mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
	TUP* v49;
	TUP* v50;
	mw_mirth_c99_ZPlusC99_line(v47, v48, &v49, &v50);
	v50->cells[3] = MKBOOL(v28);
	branch_ZPlusC99Branch_19->cells[0] = MKTUP(v50, 6);
	*out_ZPlusC99Resource_7 = v43;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_19;
	*out_ZPlusMirth_5 = v49;
}
static void mw_mirth_c99_c99Z_labelZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	VAL v7 = in_Atom_3->cells[5];
	incref(v7);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v8;
	TUP* v9;
	TUP* v10;
	VAL v11 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v8, &v9, &v10);
	decref(v11);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_pushZ_valueZ_labelZBang(v8, v9, in_Label_4, v10, &v12, &v13);
	*out_ZPlusC99Branch_6 = v13;
	*out_ZPlusMirth_5 = v12;
}
static void mw_mirth_c99_c99Z_labelZ_pushZ_rZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	VAL v7 = in_Atom_3->cells[5];
	incref(v7);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v8;
	TUP* v9;
	TUP* v10;
	VAL v11 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v8, &v9, &v10);
	decref(v11);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_pushZ_resourceZ_labelZBang(v8, v9, in_Label_4, v10, &v12, &v13);
	*out_ZPlusC99Branch_6 = v13;
	*out_ZPlusMirth_5 = v12;
}
static void mw_mirth_c99_c99Z_labelZ_popZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	VAL v7 = in_Atom_3->cells[5];
	incref(v7);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v8;
	TUP* v9;
	TUP* v10;
	VAL v11 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Label_4, v7, &v8, &v9, &v10);
	decref(v11);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v8, v9, v10, &v12, &v13);
	*out_ZPlusC99Branch_6 = v13;
	*out_ZPlusMirth_5 = v12;
}
static void mw_mirth_c99_c99Z_labelZ_popZ_rZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	VAL v7 = in_Atom_3->cells[5];
	incref(v7);
	decref(MKTUP(in_Atom_3, 8));
	TUP* v8;
	TUP* v9;
	TUP* v10;
	VAL v11 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Label_4, v7, &v8, &v9, &v10);
	decref(v11);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v8, v9, v10, &v12, &v13);
	*out_ZPlusC99Branch_6 = v13;
	*out_ZPlusMirth_5 = v12;
}
static INT mw_std_prim_Int_I63Min (void) {
	INT v2 = WRAP_I63(-4611686018427387904LL);
	return v2;
}
static INT mw_std_prim_Int_I63Max (void) {
	INT v2 = WRAP_I63(4611686018427387903LL);
	return v2;
}
static bool mw_std_prim_Int_inZ_i63Z_rangeZAsk (INT in_Int_1) {
	INT v3 = mw_std_prim_Int_I63Min();
	INT v4 = mw_std_prim_Int_I63Max();
	incref(MKINT(in_Int_1));
	bool v5 = int_le(v3, in_Int_1);
	bool branch_Bool_6;
	if (v5) {
		bool v7 = int_le(in_Int_1, v4);
		branch_Bool_6 = v7;
	} else {
		decref(MKINT(v4));
		decref(MKINT(in_Int_1));
		bool v8 = false;
		branch_Bool_6 = v8;
	}
	return branch_Bool_6;
}
static VAL mw_std_prim_Int_c99Z_radixes (INT in_Int_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	bool v5 = true;
	VAL v6 = v4;
	INT v7 = in_Int_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		VAL v10 = v6;
		INT v11 = v7;
		bool v12 = v8;
		INT v13 = WRAP_I63(4294967296LL);
		INT v14;
		INT v15 = int_divmod(v11, v13, &v14);
		uint64_t v16 = int_to_u64(v14);
		uint32_t v17 = (uint32_t)(v16);
		VAL v18;
		mw_std_list_ZPlusLister_1_pushZBang(MKU32(v17), v10, &v18);
		uint32_t v19 = 2147483648;
		uint64_t v20 = (uint64_t)(v17);
		uint64_t v21 = (uint64_t)(v19);
		uint64_t v22 = (v20 & v21);
		uint32_t v23 = (uint32_t)(v22);
		INT v24 = WRAP_I63(0LL);
		uint64_t v25 = (uint64_t)(v23);
		INT v26 = u64_to_int(v25);
		bool v27 = int_eq(v26, v24);
		VAL branch_ZPlusLister_28;
		INT branch_Int_29;
		bool branch_Bool_30;
		if (v27) {
			incref(MKINT(v15));
			INT v31 = WRAP_I63(0LL);
			bool v32 = int_eq(v15, v31);
			bool v33 = !v32;
			branch_Bool_30 = v33;
			branch_Int_29 = v15;
			branch_ZPlusLister_28 = v18;
		} else {
			incref(MKINT(v15));
			INT v34 = WRAP_I63(-1LL);
			bool v35 = int_eq(v15, v34);
			bool v36 = !v35;
			branch_Bool_30 = v36;
			branch_Int_29 = v15;
			branch_ZPlusLister_28 = v18;
		}
		v9 = branch_Bool_30;
		v8 = branch_Bool_30;
		v7 = branch_Int_29;
		v6 = branch_ZPlusLister_28;
	}
	decref(MKINT(v7));
	VAL v37 = mw_std_list_ZPlusLister_1_doneZBang(v6);
	return v37;
}
static void mw_mirth_c99_c99Z_intZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, INT in_Int_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKINT(in_Int_3));
	bool v6 = mw_std_prim_Int_inZ_i63Z_rangeZAsk(in_Int_3);
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusC99Branch_8;
	if (v6) {
		VAL v9 = MKI64(4LL /* Int */);
		incref(v9);
		int64_t v10 = get_data_tag(v9);
		decref(v9);
		INT v11 = WRAP_I63(0LL);
		INT v12 = i64_to_int(v10);
		bool v13 = int_eq(v12, v11);
		bool v14 = !v13;
		INT branch_Int_15;
		VAL branch_C99ReprType_16;
		bool branch_Bool_17;
		TUP* branch_ZPlusMirth_18;
		STR* branch_Str_19;
		TUP* branch_ZPlusC99Branch_20;
		if (v14) {
			TUP* v21 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
			TUP* v22;
			TUP* v23;
			STR* v24 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v21, &v22, &v23);
			in_ZPlusC99Branch_2->cells[0] = MKTUP(v23, 6);
			branch_ZPlusC99Branch_20 = in_ZPlusC99Branch_2;
			branch_Str_19 = v24;
			branch_ZPlusMirth_18 = v22;
			branch_Bool_17 = v14;
			branch_C99ReprType_16 = v9;
			branch_Int_15 = in_Int_3;
		} else {
			STR* v25;
			STRLIT(v25, "0", 1);
			branch_ZPlusC99Branch_20 = in_ZPlusC99Branch_2;
			branch_Str_19 = v25;
			branch_ZPlusMirth_18 = in_ZPlusMirth_1;
			branch_Bool_17 = v14;
			branch_C99ReprType_16 = v9;
			branch_Int_15 = in_Int_3;
		}
		bool v26 = value_bool(branch_ZPlusC99Branch_20->cells[3]);
		bool v27 = (branch_Bool_17 && v26);
		TUP* v28 = value_tup(branch_ZPlusC99Branch_20->cells[0], 6);
		bool v29 = value_bool(v28->cells[3]);
		bool v30 = (v27 && v29);
		v28->cells[3] = MKBOOL(v30);
		TUP* v31;
		TUP* v32;
		mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_18, v28, &v31, &v32);
		incref(branch_C99ReprType_16);
		STR* v33 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_16);
		TUP* v34;
		TUP* v35;
		mw_mirth_c99_ZPlusC99_put(v31, v32, v33, &v34, &v35);
		STR* v36;
		STRLIT(v36, " ", 1);
		TUP* v37;
		TUP* v38;
		mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
		incref(MKSTR(branch_Str_19));
		TUP* v39;
		TUP* v40;
		mw_mirth_c99_ZPlusC99_put(v37, v38, branch_Str_19, &v39, &v40);
		STR* v41;
		STRLIT(v41, " = ", 3);
		TUP* v42;
		TUP* v43;
		mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
		TUP* v44;
		mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_16, branch_Str_19, &v44);
		STR* v45;
		STRLIT(v45, "WRAP_I63(", 9);
		TUP* v46;
		TUP* v47;
		mw_mirth_c99_ZPlusC99_put(v42, v43, v45, &v46, &v47);
		STR* v48 = int_to_str(branch_Int_15);
		TUP* v49;
		TUP* v50;
		mw_mirth_c99_ZPlusC99_put(v46, v47, v48, &v49, &v50);
		STR* v51;
		STRLIT(v51, "LL)", 3);
		TUP* v52;
		TUP* v53;
		mw_mirth_c99_ZPlusC99_put(v49, v50, v51, &v52, &v53);
		STR* v54;
		STRLIT(v54, ";", 1);
		TUP* v55;
		TUP* v56;
		mw_mirth_c99_ZPlusC99_put(v52, v53, v54, &v55, &v56);
		TUP* v57;
		TUP* v58;
		mw_mirth_c99_ZPlusC99_line(v55, v56, &v57, &v58);
		v58->cells[3] = MKBOOL(v29);
		branch_ZPlusC99Branch_20->cells[0] = MKTUP(v58, 6);
		TUP* v59;
		TUP* v60;
		mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v57, branch_ZPlusC99Branch_20, v44, &v59, &v60);
		branch_ZPlusC99Branch_8 = v60;
		branch_ZPlusMirth_7 = v59;
	} else {
		VAL v61 = mw_std_prim_Int_c99Z_radixes(in_Int_3);
		incref(v61);
		INT v62 = mw_std_list_List_1_len(v61);
		STR* v63 = int_to_str(v62);
		TUP* v64 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v65;
		TUP* v66;
		STR* v67 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v64, &v65, &v66);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v66, 6);
		bool v68 = value_bool(in_ZPlusC99Branch_2->cells[3]);
		TUP* v69 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		bool v70 = value_bool(v69->cells[3]);
		bool v71 = (v68 && v70);
		v69->cells[3] = MKBOOL(v71);
		TUP* v72;
		TUP* v73;
		mw_mirth_c99_ZPlusC99_indent(v65, v69, &v72, &v73);
		STR* v74;
		STRLIT(v74, "static struct BIG_S(", 20);
		TUP* v75;
		TUP* v76;
		mw_mirth_c99_ZPlusC99_put(v72, v73, v74, &v75, &v76);
		incref(MKSTR(v63));
		TUP* v77;
		TUP* v78;
		mw_mirth_c99_ZPlusC99_put(v75, v76, v63, &v77, &v78);
		STR* v79;
		STRLIT(v79, ") ", 2);
		TUP* v80;
		TUP* v81;
		mw_mirth_c99_ZPlusC99_put(v77, v78, v79, &v80, &v81);
		incref(MKSTR(v67));
		TUP* v82;
		TUP* v83;
		mw_mirth_c99_ZPlusC99_put(v80, v81, v67, &v82, &v83);
		STR* v84;
		STRLIT(v84, " = { .refs=100, .cap=", 21);
		TUP* v85;
		TUP* v86;
		mw_mirth_c99_ZPlusC99_put(v82, v83, v84, &v85, &v86);
		incref(MKSTR(v63));
		TUP* v87;
		TUP* v88;
		mw_mirth_c99_ZPlusC99_put(v85, v86, v63, &v87, &v88);
		STR* v89;
		STRLIT(v89, ", .size=", 8);
		TUP* v90;
		TUP* v91;
		mw_mirth_c99_ZPlusC99_put(v87, v88, v89, &v90, &v91);
		TUP* v92;
		TUP* v93;
		mw_mirth_c99_ZPlusC99_put(v90, v91, v63, &v92, &v93);
		STR* v94;
		STRLIT(v94, ", .radix={", 10);
		TUP* v95;
		TUP* v96;
		mw_mirth_c99_ZPlusC99_put(v92, v93, v94, &v95, &v96);
		bool v97 = true;
		TUP* v98 = v95;
		TUP* v99 = v96;
		VAL v100 = v61;
		bool v101 = v97;
		bool v102 = v97;
		while (v102) {
			TUP* v103 = v98;
			TUP* v104 = v99;
			VAL v105 = v100;
			bool v106 = v101;
			TUP* branch_ZPlusMirth_107;
			TUP* branch_ZPlusC99_108;
			VAL branch_List_109;
			bool branch_Bool_110;
			switch (get_data_tag(v105)) {
				case 1LL: { // Cons
					VAL v111;
					VAL v112 = mtp_std_list_List_1_Cons(v105, &v111);
					STR* v113;
					STRLIT(v113, "", 0);
					uint64_t v114 = (uint64_t)(value_u32(v112));
					INT v115 = u64_to_int(v114);
					STR* v116;
					STRLIT(v116, "0x", 2);
					STR* v117;
					mw_std_str_ZPlusStr_pushZ_strZBang(v116, v113, &v117);
					INT v118 = mw_std_number_Base_Hex();
					STR* v119;
					mw_std_number_Base_digitsZThen(v117, v115, v118, &v119);
					TUP* v120;
					TUP* v121;
					mw_mirth_c99_ZPlusC99_put(v103, v104, v119, &v120, &v121);
					STR* v122;
					STRLIT(v122, ",", 1);
					TUP* v123;
					TUP* v124;
					mw_mirth_c99_ZPlusC99_put(v120, v121, v122, &v123, &v124);
					bool v125 = true;
					branch_Bool_110 = v125;
					branch_List_109 = v111;
					branch_ZPlusC99_108 = v124;
					branch_ZPlusMirth_107 = v123;
				} break;
				case 0LL: { // Nil
					VAL v126 = MKI64(0LL /* Nil */);
					bool v127 = false;
					branch_Bool_110 = v127;
					branch_List_109 = v126;
					branch_ZPlusC99_108 = v104;
					branch_ZPlusMirth_107 = v103;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v102 = branch_Bool_110;
			v101 = branch_Bool_110;
			v100 = branch_List_109;
			v99 = branch_ZPlusC99_108;
			v98 = branch_ZPlusMirth_107;
		}
		decref(v100);
		STR* v128;
		STRLIT(v128, "} };", 4);
		TUP* v129;
		TUP* v130;
		mw_mirth_c99_ZPlusC99_put(v98, v99, v128, &v129, &v130);
		TUP* v131;
		TUP* v132;
		mw_mirth_c99_ZPlusC99_line(v129, v130, &v131, &v132);
		v132->cells[3] = MKBOOL(v70);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v132, 6);
		bool v133 = value_bool(in_ZPlusC99Branch_2->cells[3]);
		TUP* v134 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		bool v135 = value_bool(v134->cells[3]);
		bool v136 = (v133 && v135);
		v134->cells[3] = MKBOOL(v136);
		TUP* v137;
		TUP* v138;
		mw_mirth_c99_ZPlusC99_indent(v131, v134, &v137, &v138);
		incref(MKSTR(v67));
		TUP* v139;
		TUP* v140;
		mw_mirth_c99_ZPlusC99_put(v137, v138, v67, &v139, &v140);
		STR* v141;
		STRLIT(v141, ".refs++;", 8);
		TUP* v142;
		TUP* v143;
		mw_mirth_c99_ZPlusC99_put(v139, v140, v141, &v142, &v143);
		TUP* v144;
		TUP* v145;
		mw_mirth_c99_ZPlusC99_line(v142, v143, &v144, &v145);
		v145->cells[3] = MKBOOL(v135);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v145, 6);
		VAL v146 = MKI64(4LL /* Int */);
		STR* v147;
		STRLIT(v147, "", 0);
		STR* v148;
		STRLIT(v148, "WRAP_BIG(&", 10);
		STR* v149;
		mw_std_str_ZPlusStr_pushZ_strZBang(v148, v147, &v149);
		STR* v150;
		mw_std_str_ZPlusStr_pushZ_strZBang(v67, v149, &v150);
		STR* v151;
		STRLIT(v151, ")", 1);
		STR* v152;
		mw_std_str_ZPlusStr_pushZ_strZBang(v151, v150, &v152);
		TUP* v153;
		mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v146, v152, &v153);
		TUP* v154;
		TUP* v155;
		mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v144, in_ZPlusC99Branch_2, v153, &v154, &v155);
		branch_ZPlusC99Branch_8 = v155;
		branch_ZPlusMirth_7 = v154;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_c99Z_strZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = MKI64(2LL /* STR */);
	TUP* v7;
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_C99ReprType_newZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8, &v9);
	incref(MKSTR(in_Str_3));
	uint64_t v10 = str_size(in_Str_3);
	INT v11 = u64_to_int(v10);
	INT v12 = WRAP_I63(4090LL);
	bool v13 = int_lt(v12, v11);
	TUP* branch_ZPlusC99Value_14;
	STR* branch_Str_15;
	TUP* branch_ZPlusMirth_16;
	TUP* branch_ZPlusC99Branch_17;
	if (v13) {
		bool v18 = value_bool(v8->cells[3]);
		TUP* v19 = value_tup(v8->cells[0], 6);
		bool v20 = value_bool(v19->cells[3]);
		bool v21 = (v18 && v20);
		v19->cells[3] = MKBOOL(v21);
		TUP* v22;
		TUP* v23;
		mw_mirth_c99_ZPlusC99_indent(v7, v19, &v22, &v23);
		STR* v24;
		STRLIT(v24, "STRLIT(", 7);
		TUP* v25;
		TUP* v26;
		mw_mirth_c99_ZPlusC99_put(v22, v23, v24, &v25, &v26);
		TUP* v27;
		TUP* v28;
		mw_mirth_c99_ZPlusC99Value_rdup(v9, &v27, &v28);
		STR* v29 = mw_mirth_c99_ZPlusC99Value_consume(v27);
		TUP* v30;
		TUP* v31;
		mw_mirth_c99_ZPlusC99_put(v25, v26, v29, &v30, &v31);
		STR* v32;
		STRLIT(v32, ",", 1);
		TUP* v33;
		TUP* v34;
		mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
		TUP* v35;
		TUP* v36;
		mw_mirth_c99_ZPlusC99_line(v33, v34, &v35, &v36);
		v36->cells[3] = MKBOOL(v20);
		v8->cells[0] = MKTUP(v36, 6);
		TUP* v37 = value_tup(v8->cells[0], 6);
		INT v38 = value_int(v37->cells[1]);
		incref(MKINT(v38));
		INT v39 = WRAP_I63(1LL);
		INT v40 = int_add(v38, v39);
		INT v41 = value_int(v37->cells[1]);
		decref(MKINT(v41));
		v37->cells[1] = MKINT(v40);
		v8->cells[0] = MKTUP(v37, 6);
		bool v42 = value_bool(v8->cells[3]);
		TUP* v43 = value_tup(v8->cells[0], 6);
		bool v44 = value_bool(v43->cells[3]);
		bool v45 = (v42 && v44);
		v43->cells[3] = MKBOOL(v45);
		TUP* v46;
		TUP* v47;
		mw_mirth_c99_ZPlusC99_indent(v35, v43, &v46, &v47);
		incref(MKSTR(in_Str_3));
		TUP* v48;
		TUP* v49;
		mw_mirth_c99_ZPlusC99_putZ_cstrZ_long(v46, v47, in_Str_3, &v48, &v49);
		STR* v50;
		STRLIT(v50, ",", 1);
		TUP* v51;
		TUP* v52;
		mw_mirth_c99_ZPlusC99_put(v48, v49, v50, &v51, &v52);
		TUP* v53;
		TUP* v54;
		mw_mirth_c99_ZPlusC99_line(v51, v52, &v53, &v54);
		v54->cells[3] = MKBOOL(v44);
		v8->cells[0] = MKTUP(v54, 6);
		bool v55 = value_bool(v8->cells[3]);
		TUP* v56 = value_tup(v8->cells[0], 6);
		bool v57 = value_bool(v56->cells[3]);
		bool v58 = (v55 && v57);
		v56->cells[3] = MKBOOL(v58);
		TUP* v59;
		TUP* v60;
		mw_mirth_c99_ZPlusC99_indent(v53, v56, &v59, &v60);
		incref(MKSTR(in_Str_3));
		uint64_t v61 = str_size(in_Str_3);
		INT v62 = u64_to_int(v61);
		STR* v63 = int_to_str(v62);
		TUP* v64;
		TUP* v65;
		mw_mirth_c99_ZPlusC99_put(v59, v60, v63, &v64, &v65);
		TUP* v66;
		TUP* v67;
		mw_mirth_c99_ZPlusC99_line(v64, v65, &v66, &v67);
		v67->cells[3] = MKBOOL(v57);
		v8->cells[0] = MKTUP(v67, 6);
		TUP* v68 = value_tup(v8->cells[0], 6);
		INT v69 = value_int(v68->cells[1]);
		incref(MKINT(v69));
		INT v70 = WRAP_I63(1LL);
		INT v71 = int_sub(v69, v70);
		incref(MKINT(v71));
		INT v72 = WRAP_I63(0LL);
		bool v73 = int_le(v72, v71);
		INT branch_Nat_74;
		if (v73) {
			branch_Nat_74 = v71;
		} else {
			decref(MKINT(v71));
			INT v75 = WRAP_I63(0LL);
			branch_Nat_74 = v75;
		}
		INT v76 = value_int(v68->cells[1]);
		decref(MKINT(v76));
		v68->cells[1] = MKINT(branch_Nat_74);
		v8->cells[0] = MKTUP(v68, 6);
		bool v77 = value_bool(v8->cells[3]);
		TUP* v78 = value_tup(v8->cells[0], 6);
		bool v79 = value_bool(v78->cells[3]);
		bool v80 = (v77 && v79);
		v78->cells[3] = MKBOOL(v80);
		TUP* v81;
		TUP* v82;
		mw_mirth_c99_ZPlusC99_indent(v66, v78, &v81, &v82);
		STR* v83;
		STRLIT(v83, ");", 2);
		TUP* v84;
		TUP* v85;
		mw_mirth_c99_ZPlusC99_put(v81, v82, v83, &v84, &v85);
		TUP* v86;
		TUP* v87;
		mw_mirth_c99_ZPlusC99_line(v84, v85, &v86, &v87);
		v87->cells[3] = MKBOOL(v79);
		v8->cells[0] = MKTUP(v87, 6);
		branch_ZPlusC99Branch_17 = v8;
		branch_ZPlusMirth_16 = v86;
		branch_Str_15 = in_Str_3;
		branch_ZPlusC99Value_14 = v28;
	} else {
		bool v88 = value_bool(v8->cells[3]);
		TUP* v89 = value_tup(v8->cells[0], 6);
		bool v90 = value_bool(v89->cells[3]);
		bool v91 = (v88 && v90);
		v89->cells[3] = MKBOOL(v91);
		TUP* v92;
		TUP* v93;
		mw_mirth_c99_ZPlusC99_indent(v7, v89, &v92, &v93);
		STR* v94;
		STRLIT(v94, "STRLIT(", 7);
		TUP* v95;
		TUP* v96;
		mw_mirth_c99_ZPlusC99_put(v92, v93, v94, &v95, &v96);
		TUP* v97;
		TUP* v98;
		mw_mirth_c99_ZPlusC99Value_rdup(v9, &v97, &v98);
		STR* v99 = mw_mirth_c99_ZPlusC99Value_consume(v97);
		TUP* v100;
		TUP* v101;
		mw_mirth_c99_ZPlusC99_put(v95, v96, v99, &v100, &v101);
		STR* v102;
		STRLIT(v102, ", ", 2);
		TUP* v103;
		TUP* v104;
		mw_mirth_c99_ZPlusC99_put(v100, v101, v102, &v103, &v104);
		incref(MKSTR(in_Str_3));
		TUP* v105;
		TUP* v106;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v103, v104, in_Str_3, &v105, &v106);
		STR* v107;
		STRLIT(v107, ", ", 2);
		TUP* v108;
		TUP* v109;
		mw_mirth_c99_ZPlusC99_put(v105, v106, v107, &v108, &v109);
		incref(MKSTR(in_Str_3));
		uint64_t v110 = str_size(in_Str_3);
		INT v111 = u64_to_int(v110);
		STR* v112 = int_to_str(v111);
		TUP* v113;
		TUP* v114;
		mw_mirth_c99_ZPlusC99_put(v108, v109, v112, &v113, &v114);
		STR* v115;
		STRLIT(v115, ");", 2);
		TUP* v116;
		TUP* v117;
		mw_mirth_c99_ZPlusC99_put(v113, v114, v115, &v116, &v117);
		TUP* v118;
		TUP* v119;
		mw_mirth_c99_ZPlusC99_line(v116, v117, &v118, &v119);
		v119->cells[3] = MKBOOL(v90);
		v8->cells[0] = MKTUP(v119, 6);
		branch_ZPlusC99Branch_17 = v8;
		branch_ZPlusMirth_16 = v118;
		branch_Str_15 = in_Str_3;
		branch_ZPlusC99Value_14 = v98;
	}
	decref(MKSTR(branch_Str_15));
	TUP* v120;
	TUP* v121;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusMirth_16, branch_ZPlusC99Branch_17, branch_ZPlusC99Value_14, &v120, &v121);
	*out_ZPlusC99Branch_5 = v121;
	*out_ZPlusMirth_4 = v120;
}
static void mw_mirth_c99_ZPlusC99_putZ_cstrZ_long (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	bool v6 = false;
	int64_t v7 = 34LL /* BQUOTE */;
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99_putZ_byte(in_ZPlusMirth_1, in_ZPlusC99_2, v7, &v8, &v9);
	int64_t v10 = 0LL /* BNUL */;
	incref(MKSTR(in_Str_3));
	incref(MKSTR(in_Str_3));
	void* v11 = str_base(in_Str_3);
	uint64_t v12 = str_size(in_Str_3);
	INT v13 = u64_to_int(v12);
	incref(MKINT(v13));
	INT v14 = WRAP_I63(0LL);
	bool v15 = int_le(v14, v13);
	INT branch_Nat_16;
	if (v15) {
		branch_Nat_16 = v13;
	} else {
		decref(MKINT(v13));
		INT v17 = WRAP_I63(0LL);
		branch_Nat_16 = v17;
	}
	incref(MKINT(branch_Nat_16));
	INT v18 = WRAP_I63(0LL);
	bool v19 = int_lt(v18, branch_Nat_16);
	bool v20 = v6;
	TUP* v21 = v8;
	TUP* v22 = v9;
	int64_t v23 = v10;
	void* v24 = v11;
	INT v25 = branch_Nat_16;
	bool v26 = v19;
	while (v26) {
		bool v27 = v20;
		TUP* v28 = v21;
		TUP* v29 = v22;
		int64_t v30 = v23;
		void* v31 = v24;
		INT v32 = v25;
		int64_t v33 = mw_std_prelude_unsafe_1_sp12(v31);
		int64_t v34 = 10LL /* BLF */;
		INT v35 = i64_to_int(v30);
		uint64_t v36 = int_to_u64(v35);
		uint8_t v37 = (uint8_t)(v36);
		INT v38 = i64_to_int(v34);
		uint64_t v39 = int_to_u64(v38);
		uint8_t v40 = (uint8_t)(v39);
		uint64_t v41 = (uint64_t)(v40);
		uint32_t v42 = (uint32_t)(v41);
		uint64_t v43 = (uint64_t)(v37);
		uint32_t v44 = (uint32_t)(v43);
		uint64_t v45 = (uint64_t)(v44);
		uint64_t v46 = (uint64_t)(v42);
		bool v47 = (v45 == v46);
		TUP* branch_ZPlusMirth_48;
		TUP* branch_ZPlusC99_49;
		if (v47) {
			int64_t v50 = 34LL /* BQUOTE */;
			TUP* v51;
			TUP* v52;
			mw_mirth_c99_ZPlusC99_putZ_byte(v28, v29, v50, &v51, &v52);
			TUP* v53;
			TUP* v54;
			mw_mirth_c99_ZPlusC99_line(v51, v52, &v53, &v54);
			TUP* v55;
			TUP* v56;
			mw_mirth_c99_ZPlusC99_indent(v53, v54, &v55, &v56);
			int64_t v57 = 34LL /* BQUOTE */;
			TUP* v58;
			TUP* v59;
			mw_mirth_c99_ZPlusC99_putZ_byte(v55, v56, v57, &v58, &v59);
			branch_ZPlusC99_49 = v59;
			branch_ZPlusMirth_48 = v58;
		} else {
			branch_ZPlusC99_49 = v29;
			branch_ZPlusMirth_48 = v28;
		}
		TUP* v60;
		TUP* v61;
		bool v62;
		mw_mirth_c99_c99Z_stringZ_byteZBang(branch_ZPlusMirth_48, branch_ZPlusC99_49, v27, v33, &v60, &v61, &v62);
		INT v63 = WRAP_I63(1LL);
		void* v64 = mw_std_prelude_unsafe_1_sp5(v63, v31);
		INT v65 = WRAP_I63(1LL);
		INT v66 = int_sub(v32, v65);
		incref(MKINT(v66));
		INT v67 = WRAP_I63(0LL);
		bool v68 = int_le(v67, v66);
		INT branch_Nat_69;
		if (v68) {
			branch_Nat_69 = v66;
		} else {
			decref(MKINT(v66));
			INT v70 = WRAP_I63(0LL);
			branch_Nat_69 = v70;
		}
		incref(MKINT(branch_Nat_69));
		INT v71 = WRAP_I63(0LL);
		bool v72 = int_lt(v71, branch_Nat_69);
		v26 = v72;
		v25 = branch_Nat_69;
		v24 = v64;
		v23 = v33;
		v22 = v61;
		v21 = v60;
		v20 = v62;
	}
	decref(MKINT(v25));
	decref(MKSTR(in_Str_3));
	int64_t v73 = 34LL /* BQUOTE */;
	TUP* v74;
	TUP* v75;
	mw_mirth_c99_ZPlusC99_putZ_byte(v21, v22, v73, &v74, &v75);
	*out_ZPlusC99_5 = v75;
	*out_ZPlusMirth_4 = v74;
}
static void mw_mirth_c99_ZPlusC99_putZ_cstr (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, STR* in_Str_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	bool v6 = false;
	int64_t v7 = 34LL /* BQUOTE */;
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99_putZ_byte(in_ZPlusMirth_1, in_ZPlusC99_2, v7, &v8, &v9);
	incref(MKSTR(in_Str_3));
	incref(MKSTR(in_Str_3));
	void* v10 = str_base(in_Str_3);
	uint64_t v11 = str_size(in_Str_3);
	INT v12 = u64_to_int(v11);
	incref(MKINT(v12));
	INT v13 = WRAP_I63(0LL);
	bool v14 = int_le(v13, v12);
	INT branch_Nat_15;
	if (v14) {
		branch_Nat_15 = v12;
	} else {
		decref(MKINT(v12));
		INT v16 = WRAP_I63(0LL);
		branch_Nat_15 = v16;
	}
	incref(MKINT(branch_Nat_15));
	INT v17 = WRAP_I63(0LL);
	bool v18 = int_lt(v17, branch_Nat_15);
	TUP* v19 = v8;
	TUP* v20 = v9;
	bool v21 = v6;
	void* v22 = v10;
	INT v23 = branch_Nat_15;
	bool v24 = v18;
	while (v24) {
		TUP* v25 = v19;
		TUP* v26 = v20;
		bool v27 = v21;
		void* v28 = v22;
		INT v29 = v23;
		int64_t v30 = mw_std_prelude_unsafe_1_sp12(v28);
		TUP* v31;
		TUP* v32;
		bool v33;
		mw_mirth_c99_c99Z_stringZ_byteZBang(v25, v26, v27, v30, &v31, &v32, &v33);
		INT v34 = WRAP_I63(1LL);
		void* v35 = mw_std_prelude_unsafe_1_sp5(v34, v28);
		INT v36 = WRAP_I63(1LL);
		INT v37 = int_sub(v29, v36);
		incref(MKINT(v37));
		INT v38 = WRAP_I63(0LL);
		bool v39 = int_le(v38, v37);
		INT branch_Nat_40;
		if (v39) {
			branch_Nat_40 = v37;
		} else {
			decref(MKINT(v37));
			INT v41 = WRAP_I63(0LL);
			branch_Nat_40 = v41;
		}
		incref(MKINT(branch_Nat_40));
		INT v42 = WRAP_I63(0LL);
		bool v43 = int_lt(v42, branch_Nat_40);
		v24 = v43;
		v23 = branch_Nat_40;
		v22 = v35;
		v21 = v33;
		v20 = v32;
		v19 = v31;
	}
	decref(MKINT(v23));
	decref(MKSTR(in_Str_3));
	int64_t v44 = 34LL /* BQUOTE */;
	TUP* v45;
	TUP* v46;
	mw_mirth_c99_ZPlusC99_putZ_byte(v19, v20, v44, &v45, &v46);
	*out_ZPlusC99_5 = v46;
	*out_ZPlusMirth_4 = v45;
}
static void mw_mirth_c99_c99Z_stringZ_byteZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, bool in_Bool_3, int64_t in_Byte_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6, bool *out_Bool_7) {
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99_9;
	bool branch_Bool_10;
	switch (in_Byte_4) {
		case 92LL: { // B'\'
			STR* v11;
			STRLIT(v11, "\\\\", 2);
			TUP* v12;
			TUP* v13;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v11, &v12, &v13);
			bool v14 = false;
			branch_Bool_10 = v14;
			branch_ZPlusC99_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 34LL: { // BQUOTE
			STR* v15;
			STRLIT(v15, "\\\"", 2);
			TUP* v16;
			TUP* v17;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v15, &v16, &v17);
			bool v18 = false;
			branch_Bool_10 = v18;
			branch_ZPlusC99_9 = v17;
			branch_ZPlusMirth_8 = v16;
		} break;
		case 9LL: { // BHT
			STR* v19;
			STRLIT(v19, "\\t", 2);
			TUP* v20;
			TUP* v21;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v19, &v20, &v21);
			bool v22 = false;
			branch_Bool_10 = v22;
			branch_ZPlusC99_9 = v21;
			branch_ZPlusMirth_8 = v20;
		} break;
		case 10LL: { // BLF
			STR* v23;
			STRLIT(v23, "\\n", 2);
			TUP* v24;
			TUP* v25;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v23, &v24, &v25);
			bool v26 = false;
			branch_Bool_10 = v26;
			branch_ZPlusC99_9 = v25;
			branch_ZPlusMirth_8 = v24;
		} break;
		case 13LL: { // BCR
			STR* v27;
			STRLIT(v27, "\\r", 2);
			TUP* v28;
			TUP* v29;
			mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v27, &v28, &v29);
			bool v30 = false;
			branch_Bool_10 = v30;
			branch_ZPlusC99_9 = v29;
			branch_ZPlusMirth_8 = v28;
		} break;
		default: {
			int64_t v31 = 32LL /* BSPACE */;
			int64_t v32 = 126LL /* B'~' */;
			INT v33 = i64_to_int(v31);
			uint64_t v34 = int_to_u64(v33);
			uint8_t v35 = (uint8_t)(v34);
			INT v36 = i64_to_int(in_Byte_4);
			uint64_t v37 = int_to_u64(v36);
			uint8_t v38 = (uint8_t)(v37);
			uint64_t v39 = (uint64_t)(v38);
			uint32_t v40 = (uint32_t)(v39);
			uint64_t v41 = (uint64_t)(v35);
			uint32_t v42 = (uint32_t)(v41);
			uint64_t v43 = (uint64_t)(v42);
			uint64_t v44 = (uint64_t)(v40);
			bool v45 = (v43 <= v44);
			bool branch_Bool_46;
			if (v45) {
				INT v47 = i64_to_int(in_Byte_4);
				uint64_t v48 = int_to_u64(v47);
				uint8_t v49 = (uint8_t)(v48);
				INT v50 = i64_to_int(v32);
				uint64_t v51 = int_to_u64(v50);
				uint8_t v52 = (uint8_t)(v51);
				uint64_t v53 = (uint64_t)(v52);
				uint32_t v54 = (uint32_t)(v53);
				uint64_t v55 = (uint64_t)(v49);
				uint32_t v56 = (uint32_t)(v55);
				uint64_t v57 = (uint64_t)(v56);
				uint64_t v58 = (uint64_t)(v54);
				bool v59 = (v57 <= v58);
				branch_Bool_46 = v59;
			} else {
				bool v60 = false;
				branch_Bool_46 = v60;
			}
			int64_t branch_Byte_61;
			bool branch_Bool_62;
			bool branch_Bool_63;
			if (branch_Bool_46) {
				int64_t v64 = 48LL /* B'0' */;
				int64_t v65 = 57LL /* B'9' */;
				INT v66 = i64_to_int(v64);
				uint64_t v67 = int_to_u64(v66);
				uint8_t v68 = (uint8_t)(v67);
				INT v69 = i64_to_int(in_Byte_4);
				uint64_t v70 = int_to_u64(v69);
				uint8_t v71 = (uint8_t)(v70);
				uint64_t v72 = (uint64_t)(v71);
				uint32_t v73 = (uint32_t)(v72);
				uint64_t v74 = (uint64_t)(v68);
				uint32_t v75 = (uint32_t)(v74);
				uint64_t v76 = (uint64_t)(v75);
				uint64_t v77 = (uint64_t)(v73);
				bool v78 = (v76 <= v77);
				bool branch_Bool_79;
				if (v78) {
					INT v80 = i64_to_int(in_Byte_4);
					uint64_t v81 = int_to_u64(v80);
					uint8_t v82 = (uint8_t)(v81);
					INT v83 = i64_to_int(v65);
					uint64_t v84 = int_to_u64(v83);
					uint8_t v85 = (uint8_t)(v84);
					uint64_t v86 = (uint64_t)(v85);
					uint32_t v87 = (uint32_t)(v86);
					uint64_t v88 = (uint64_t)(v82);
					uint32_t v89 = (uint32_t)(v88);
					uint64_t v90 = (uint64_t)(v89);
					uint64_t v91 = (uint64_t)(v87);
					bool v92 = (v90 <= v91);
					branch_Bool_79 = v92;
				} else {
					bool v93 = false;
					branch_Bool_79 = v93;
				}
				bool branch_Bool_94;
				if (branch_Bool_79) {
					bool v95 = true;
					branch_Bool_94 = v95;
				} else {
					int64_t v96 = 65LL /* B'A' */;
					int64_t v97 = 70LL /* B'F' */;
					INT v98 = i64_to_int(v96);
					uint64_t v99 = int_to_u64(v98);
					uint8_t v100 = (uint8_t)(v99);
					INT v101 = i64_to_int(in_Byte_4);
					uint64_t v102 = int_to_u64(v101);
					uint8_t v103 = (uint8_t)(v102);
					uint64_t v104 = (uint64_t)(v103);
					uint32_t v105 = (uint32_t)(v104);
					uint64_t v106 = (uint64_t)(v100);
					uint32_t v107 = (uint32_t)(v106);
					uint64_t v108 = (uint64_t)(v107);
					uint64_t v109 = (uint64_t)(v105);
					bool v110 = (v108 <= v109);
					bool branch_Bool_111;
					if (v110) {
						INT v112 = i64_to_int(in_Byte_4);
						uint64_t v113 = int_to_u64(v112);
						uint8_t v114 = (uint8_t)(v113);
						INT v115 = i64_to_int(v97);
						uint64_t v116 = int_to_u64(v115);
						uint8_t v117 = (uint8_t)(v116);
						uint64_t v118 = (uint64_t)(v117);
						uint32_t v119 = (uint32_t)(v118);
						uint64_t v120 = (uint64_t)(v114);
						uint32_t v121 = (uint32_t)(v120);
						uint64_t v122 = (uint64_t)(v121);
						uint64_t v123 = (uint64_t)(v119);
						bool v124 = (v122 <= v123);
						branch_Bool_111 = v124;
					} else {
						bool v125 = false;
						branch_Bool_111 = v125;
					}
					bool branch_Bool_126;
					if (branch_Bool_111) {
						bool v127 = true;
						branch_Bool_126 = v127;
					} else {
						int64_t v128 = 97LL /* B'a' */;
						int64_t v129 = 102LL /* B'f' */;
						INT v130 = i64_to_int(v128);
						uint64_t v131 = int_to_u64(v130);
						uint8_t v132 = (uint8_t)(v131);
						INT v133 = i64_to_int(in_Byte_4);
						uint64_t v134 = int_to_u64(v133);
						uint8_t v135 = (uint8_t)(v134);
						uint64_t v136 = (uint64_t)(v135);
						uint32_t v137 = (uint32_t)(v136);
						uint64_t v138 = (uint64_t)(v132);
						uint32_t v139 = (uint32_t)(v138);
						uint64_t v140 = (uint64_t)(v139);
						uint64_t v141 = (uint64_t)(v137);
						bool v142 = (v140 <= v141);
						bool branch_Bool_143;
						if (v142) {
							INT v144 = i64_to_int(in_Byte_4);
							uint64_t v145 = int_to_u64(v144);
							uint8_t v146 = (uint8_t)(v145);
							INT v147 = i64_to_int(v129);
							uint64_t v148 = int_to_u64(v147);
							uint8_t v149 = (uint8_t)(v148);
							uint64_t v150 = (uint64_t)(v149);
							uint32_t v151 = (uint32_t)(v150);
							uint64_t v152 = (uint64_t)(v146);
							uint32_t v153 = (uint32_t)(v152);
							uint64_t v154 = (uint64_t)(v153);
							uint64_t v155 = (uint64_t)(v151);
							bool v156 = (v154 <= v155);
							branch_Bool_143 = v156;
						} else {
							bool v157 = false;
							branch_Bool_143 = v157;
						}
						branch_Bool_126 = branch_Bool_143;
					}
					branch_Bool_94 = branch_Bool_126;
				}
				bool v158 = (branch_Bool_94 && in_Bool_3);
				bool v159 = !v158;
				branch_Bool_63 = v159;
				branch_Bool_62 = in_Bool_3;
				branch_Byte_61 = in_Byte_4;
			} else {
				bool v160 = false;
				branch_Bool_63 = v160;
				branch_Bool_62 = in_Bool_3;
				branch_Byte_61 = in_Byte_4;
			}
			TUP* branch_ZPlusMirth_161;
			TUP* branch_ZPlusC99_162;
			bool branch_Bool_163;
			if (branch_Bool_63) {
				TUP* v164;
				TUP* v165;
				mw_mirth_c99_ZPlusC99_putZ_byte(in_ZPlusMirth_1, in_ZPlusC99_2, branch_Byte_61, &v164, &v165);
				bool v166 = false;
				branch_Bool_163 = v166;
				branch_ZPlusC99_162 = v165;
				branch_ZPlusMirth_161 = v164;
			} else {
				STR* v167;
				STRLIT(v167, "\\x", 2);
				TUP* v168;
				TUP* v169;
				mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v167, &v168, &v169);
				int64_t v170;
				int64_t v171 = mw_std_byte_Byte_toZ_hexdigits(branch_Byte_61, &v170);
				TUP* v172;
				TUP* v173;
				mw_mirth_c99_ZPlusC99_putZ_byte(v168, v169, v171, &v172, &v173);
				TUP* v174;
				TUP* v175;
				mw_mirth_c99_ZPlusC99_putZ_byte(v172, v173, v170, &v174, &v175);
				bool v176 = true;
				branch_Bool_163 = v176;
				branch_ZPlusC99_162 = v175;
				branch_ZPlusMirth_161 = v174;
			}
			branch_Bool_10 = branch_Bool_163;
			branch_ZPlusC99_9 = branch_ZPlusC99_162;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_161;
		} break;
	}
	*out_Bool_7 = branch_Bool_10;
	*out_ZPlusC99_6 = branch_ZPlusC99_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static bool mw_mirth_c99_C99ReprType_ZEqual (VAL in_C99ReprType_1, VAL in_C99ReprType_2) {
	bool branch_Bool_4;
	switch (get_data_tag(in_C99ReprType_2)) {
		case 3LL: { // TUP
			INT v5 = mtp_mirth_c99_C99ReprType_TUP(in_C99ReprType_2);
			bool branch_Bool_6;
			switch (get_data_tag(in_C99ReprType_1)) {
				case 3LL: { // TUP
					INT v7 = mtp_mirth_c99_C99ReprType_TUP(in_C99ReprType_1);
					bool v8 = int_eq(v5, v7);
					branch_Bool_6 = v8;
				} break;
				default: {
					decref(in_C99ReprType_1);
					decref(MKINT(v5));
					bool v9 = false;
					branch_Bool_6 = v9;
				} break;
			}
			branch_Bool_4 = branch_Bool_6;
		} break;
		default: {
			int64_t v10 = get_data_tag(in_C99ReprType_1);
			decref(in_C99ReprType_1);
			int64_t v11 = get_data_tag(in_C99ReprType_2);
			decref(in_C99ReprType_2);
			bool v12 = (v10 == v11);
			branch_Bool_4 = v12;
		} break;
	}
	return branch_Bool_4;
}
static bool mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk (VAL in_C99ReprType_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // VAL
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		case 2LL: { // STR
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 3LL: { // TUP
			INT v6 = mtp_mirth_c99_C99ReprType_TUP(in_C99ReprType_1);
			decref(MKINT(v6));
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 4LL: { // Int
			bool v8 = true;
			branch_Bool_3 = v8;
		} break;
		case 0LL: { // Void
			bool v9 = false;
			branch_Bool_3 = v9;
		} break;
		case 5LL: { // I64
			bool v10 = false;
			branch_Bool_3 = v10;
		} break;
		case 6LL: { // I32
			bool v11 = false;
			branch_Bool_3 = v11;
		} break;
		case 7LL: { // I16
			bool v12 = false;
			branch_Bool_3 = v12;
		} break;
		case 8LL: { // I8
			bool v13 = false;
			branch_Bool_3 = v13;
		} break;
		case 9LL: { // U64
			bool v14 = false;
			branch_Bool_3 = v14;
		} break;
		case 10LL: { // U32
			bool v15 = false;
			branch_Bool_3 = v15;
		} break;
		case 11LL: { // U16
			bool v16 = false;
			branch_Bool_3 = v16;
		} break;
		case 12LL: { // U8
			bool v17 = false;
			branch_Bool_3 = v17;
		} break;
		case 13LL: { // F64
			bool v18 = false;
			branch_Bool_3 = v18;
		} break;
		case 14LL: { // F32
			bool v19 = false;
			branch_Bool_3 = v19;
		} break;
		case 15LL: { // Bool
			bool v20 = false;
			branch_Bool_3 = v20;
		} break;
		case 16LL: { // PTR
			bool v21 = false;
			branch_Bool_3 = v21;
		} break;
		case 17LL: { // FNPTR
			bool v22 = false;
			branch_Bool_3 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_3;
}
static bool mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk (VAL in_C99ReprType_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 5LL: { // I64
			bool v4 = true;
			branch_Bool_3 = v4;
		} break;
		case 6LL: { // I32
			bool v5 = true;
			branch_Bool_3 = v5;
		} break;
		case 7LL: { // I16
			bool v6 = true;
			branch_Bool_3 = v6;
		} break;
		case 8LL: { // I8
			bool v7 = true;
			branch_Bool_3 = v7;
		} break;
		case 9LL: { // U64
			bool v8 = true;
			branch_Bool_3 = v8;
		} break;
		case 10LL: { // U32
			bool v9 = true;
			branch_Bool_3 = v9;
		} break;
		case 11LL: { // U16
			bool v10 = true;
			branch_Bool_3 = v10;
		} break;
		case 12LL: { // U8
			bool v11 = true;
			branch_Bool_3 = v11;
		} break;
		case 15LL: { // Bool
			bool v12 = true;
			branch_Bool_3 = v12;
		} break;
		default: {
			decref(in_C99ReprType_1);
			bool v13 = false;
			branch_Bool_3 = v13;
		} break;
	}
	return branch_Bool_3;
}
static STR* mw_mirth_c99_C99ReprType_dummyZ_value (VAL in_C99ReprType_1) {
	STR* branch_Str_3;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // VAL
			STR* v4;
			STRLIT(v4, "(VAL){0}", 8);
			branch_Str_3 = v4;
		} break;
		case 2LL: { // STR
			STR* v5;
			STRLIT(v5, "NULL", 4);
			branch_Str_3 = v5;
		} break;
		case 0LL: { // Void
			STR* v6;
			STRLIT(v6, "0", 1);
			branch_Str_3 = v6;
		} break;
		case 4LL: { // Int
			STR* v7;
			STRLIT(v7, "WRAP_I63(0)", 11);
			branch_Str_3 = v7;
		} break;
		case 5LL: { // I64
			STR* v8;
			STRLIT(v8, "0", 1);
			branch_Str_3 = v8;
		} break;
		case 6LL: { // I32
			STR* v9;
			STRLIT(v9, "0", 1);
			branch_Str_3 = v9;
		} break;
		case 7LL: { // I16
			STR* v10;
			STRLIT(v10, "0", 1);
			branch_Str_3 = v10;
		} break;
		case 8LL: { // I8
			STR* v11;
			STRLIT(v11, "0", 1);
			branch_Str_3 = v11;
		} break;
		case 9LL: { // U64
			STR* v12;
			STRLIT(v12, "0", 1);
			branch_Str_3 = v12;
		} break;
		case 10LL: { // U32
			STR* v13;
			STRLIT(v13, "0", 1);
			branch_Str_3 = v13;
		} break;
		case 11LL: { // U16
			STR* v14;
			STRLIT(v14, "0", 1);
			branch_Str_3 = v14;
		} break;
		case 12LL: { // U8
			STR* v15;
			STRLIT(v15, "0", 1);
			branch_Str_3 = v15;
		} break;
		case 13LL: { // F64
			STR* v16;
			STRLIT(v16, "0.0", 3);
			branch_Str_3 = v16;
		} break;
		case 14LL: { // F32
			STR* v17;
			STRLIT(v17, "0.0", 3);
			branch_Str_3 = v17;
		} break;
		case 15LL: { // Bool
			STR* v18;
			STRLIT(v18, "0", 1);
			branch_Str_3 = v18;
		} break;
		case 16LL: { // PTR
			STR* v19;
			STRLIT(v19, "NULL", 4);
			branch_Str_3 = v19;
		} break;
		case 17LL: { // FNPTR
			STR* v20;
			STRLIT(v20, "NULL", 4);
			branch_Str_3 = v20;
		} break;
		case 3LL: { // TUP
			INT v21 = mtp_mirth_c99_C99ReprType_TUP(in_C99ReprType_1);
			decref(MKINT(v21));
			STR* v22;
			STRLIT(v22, "NULL", 4);
			branch_Str_3 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static STR* mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type (VAL in_C99ReprType_1) {
	STR* branch_Str_3;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // VAL
			STR* v4;
			STRLIT(v4, "VAL", 3);
			branch_Str_3 = v4;
		} break;
		case 2LL: { // STR
			STR* v5;
			STRLIT(v5, "STR*", 4);
			branch_Str_3 = v5;
		} break;
		case 4LL: { // Int
			STR* v6;
			STRLIT(v6, "INT", 3);
			branch_Str_3 = v6;
		} break;
		case 0LL: { // Void
			STR* v7;
			STRLIT(v7, "int64_t", 7);
			branch_Str_3 = v7;
		} break;
		case 5LL: { // I64
			STR* v8;
			STRLIT(v8, "int64_t", 7);
			branch_Str_3 = v8;
		} break;
		case 6LL: { // I32
			STR* v9;
			STRLIT(v9, "int32_t", 7);
			branch_Str_3 = v9;
		} break;
		case 7LL: { // I16
			STR* v10;
			STRLIT(v10, "int16_t", 7);
			branch_Str_3 = v10;
		} break;
		case 8LL: { // I8
			STR* v11;
			STRLIT(v11, "int8_t", 6);
			branch_Str_3 = v11;
		} break;
		case 9LL: { // U64
			STR* v12;
			STRLIT(v12, "uint64_t", 8);
			branch_Str_3 = v12;
		} break;
		case 10LL: { // U32
			STR* v13;
			STRLIT(v13, "uint32_t", 8);
			branch_Str_3 = v13;
		} break;
		case 11LL: { // U16
			STR* v14;
			STRLIT(v14, "uint16_t", 8);
			branch_Str_3 = v14;
		} break;
		case 12LL: { // U8
			STR* v15;
			STRLIT(v15, "uint8_t", 7);
			branch_Str_3 = v15;
		} break;
		case 13LL: { // F64
			STR* v16;
			STRLIT(v16, "double", 6);
			branch_Str_3 = v16;
		} break;
		case 14LL: { // F32
			STR* v17;
			STRLIT(v17, "float", 5);
			branch_Str_3 = v17;
		} break;
		case 15LL: { // Bool
			STR* v18;
			STRLIT(v18, "bool", 4);
			branch_Str_3 = v18;
		} break;
		case 16LL: { // PTR
			STR* v19;
			STRLIT(v19, "void*", 5);
			branch_Str_3 = v19;
		} break;
		case 17LL: { // FNPTR
			STR* v20;
			STRLIT(v20, "FNPTR", 5);
			branch_Str_3 = v20;
		} break;
		case 3LL: { // TUP
			INT v21 = mtp_mirth_c99_C99ReprType_TUP(in_C99ReprType_1);
			decref(MKINT(v21));
			STR* v22;
			STRLIT(v22, "TUP*", 4);
			branch_Str_3 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static STR* mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix (VAL in_C99ReprType_1, STR* *out_Str_3) {
	STR* branch_Str_4;
	STR* branch_Str_5;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // VAL
			STR* v6;
			STRLIT(v6, "", 0);
			STR* v7;
			STRLIT(v7, "", 0);
			branch_Str_5 = v7;
			branch_Str_4 = v6;
		} break;
		case 2LL: { // STR
			STR* v8;
			STRLIT(v8, "value_str(", 10);
			STR* v9;
			STRLIT(v9, ")", 1);
			branch_Str_5 = v9;
			branch_Str_4 = v8;
		} break;
		case 4LL: { // Int
			STR* v10;
			STRLIT(v10, "value_int(", 10);
			STR* v11;
			STRLIT(v11, ")", 1);
			branch_Str_5 = v11;
			branch_Str_4 = v10;
		} break;
		case 0LL: { // Void
			STR* v12;
			STRLIT(v12, "(", 1);
			STR* v13;
			STRLIT(v13, ", 0)", 4);
			branch_Str_5 = v13;
			branch_Str_4 = v12;
		} break;
		case 5LL: { // I64
			STR* v14;
			STRLIT(v14, "value_i64(", 10);
			STR* v15;
			STRLIT(v15, ")", 1);
			branch_Str_5 = v15;
			branch_Str_4 = v14;
		} break;
		case 6LL: { // I32
			STR* v16;
			STRLIT(v16, "value_i32(", 10);
			STR* v17;
			STRLIT(v17, ")", 1);
			branch_Str_5 = v17;
			branch_Str_4 = v16;
		} break;
		case 7LL: { // I16
			STR* v18;
			STRLIT(v18, "value_i16(", 10);
			STR* v19;
			STRLIT(v19, ")", 1);
			branch_Str_5 = v19;
			branch_Str_4 = v18;
		} break;
		case 8LL: { // I8
			STR* v20;
			STRLIT(v20, "value_i8(", 9);
			STR* v21;
			STRLIT(v21, ")", 1);
			branch_Str_5 = v21;
			branch_Str_4 = v20;
		} break;
		case 9LL: { // U64
			STR* v22;
			STRLIT(v22, "value_u64(", 10);
			STR* v23;
			STRLIT(v23, ")", 1);
			branch_Str_5 = v23;
			branch_Str_4 = v22;
		} break;
		case 10LL: { // U32
			STR* v24;
			STRLIT(v24, "value_u32(", 10);
			STR* v25;
			STRLIT(v25, ")", 1);
			branch_Str_5 = v25;
			branch_Str_4 = v24;
		} break;
		case 11LL: { // U16
			STR* v26;
			STRLIT(v26, "value_u16(", 10);
			STR* v27;
			STRLIT(v27, ")", 1);
			branch_Str_5 = v27;
			branch_Str_4 = v26;
		} break;
		case 12LL: { // U8
			STR* v28;
			STRLIT(v28, "value_u8(", 9);
			STR* v29;
			STRLIT(v29, ")", 1);
			branch_Str_5 = v29;
			branch_Str_4 = v28;
		} break;
		case 13LL: { // F64
			STR* v30;
			STRLIT(v30, "value_f64(", 10);
			STR* v31;
			STRLIT(v31, ")", 1);
			branch_Str_5 = v31;
			branch_Str_4 = v30;
		} break;
		case 14LL: { // F32
			STR* v32;
			STRLIT(v32, "value_f32(", 10);
			STR* v33;
			STRLIT(v33, ")", 1);
			branch_Str_5 = v33;
			branch_Str_4 = v32;
		} break;
		case 15LL: { // Bool
			STR* v34;
			STRLIT(v34, "value_bool(", 11);
			STR* v35;
			STRLIT(v35, ")", 1);
			branch_Str_5 = v35;
			branch_Str_4 = v34;
		} break;
		case 16LL: { // PTR
			STR* v36;
			STRLIT(v36, "value_ptr(", 10);
			STR* v37;
			STRLIT(v37, ")", 1);
			branch_Str_5 = v37;
			branch_Str_4 = v36;
		} break;
		case 17LL: { // FNPTR
			STR* v38;
			STRLIT(v38, "value_fnptr(", 12);
			STR* v39;
			STRLIT(v39, ")", 1);
			branch_Str_5 = v39;
			branch_Str_4 = v38;
		} break;
		case 3LL: { // TUP
			INT v40 = mtp_mirth_c99_C99ReprType_TUP(in_C99ReprType_1);
			STR* v41;
			STRLIT(v41, "value_tup(", 10);
			STR* v42;
			STRLIT(v42, "", 0);
			STR* v43;
			STRLIT(v43, ", ", 2);
			STR* v44;
			mw_std_str_ZPlusStr_pushZ_strZBang(v43, v42, &v44);
			STR* v45 = int_to_str(v40);
			STR* v46;
			mw_std_str_ZPlusStr_pushZ_strZBang(v45, v44, &v46);
			STR* v47;
			STRLIT(v47, ")", 1);
			STR* v48;
			mw_std_str_ZPlusStr_pushZ_strZBang(v47, v46, &v48);
			branch_Str_5 = v48;
			branch_Str_4 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Str_3 = branch_Str_5;
	return branch_Str_4;
}
static STR* mw_mirth_c99_C99ReprType_mkZ_macro (STR* in_Str_1, VAL in_C99ReprType_2) {
	STR* branch_Str_4;
	switch (get_data_tag(in_C99ReprType_2)) {
		case 1LL: { // VAL
			branch_Str_4 = in_Str_1;
		} break;
		case 2LL: { // STR
			STR* v5;
			STRLIT(v5, "", 0);
			STR* v6;
			STRLIT(v6, "MKSTR(", 6);
			STR* v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(v6, v5, &v7);
			STR* v8;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v7, &v8);
			STR* v9;
			STRLIT(v9, ")", 1);
			STR* v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(v9, v8, &v10);
			branch_Str_4 = v10;
		} break;
		case 4LL: { // Int
			STR* v11;
			STRLIT(v11, "", 0);
			STR* v12;
			STRLIT(v12, "MKINT(", 6);
			STR* v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			STR* v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v13, &v14);
			STR* v15;
			STRLIT(v15, ")", 1);
			STR* v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(v15, v14, &v16);
			branch_Str_4 = v16;
		} break;
		case 0LL: { // Void
			STR* v17 = mw_std_prim_Str_Str_1_sp7(in_Str_1);
			branch_Str_4 = v17;
		} break;
		case 5LL: { // I64
			STR* v18 = mw_std_prim_Str_Str_1_sp7(in_Str_1);
			branch_Str_4 = v18;
		} break;
		case 6LL: { // I32
			STR* v19;
			STRLIT(v19, "", 0);
			STR* v20;
			STRLIT(v20, "MKI32(", 6);
			STR* v21;
			mw_std_str_ZPlusStr_pushZ_strZBang(v20, v19, &v21);
			STR* v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v21, &v22);
			STR* v23;
			STRLIT(v23, ")", 1);
			STR* v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(v23, v22, &v24);
			branch_Str_4 = v24;
		} break;
		case 7LL: { // I16
			STR* v25;
			STRLIT(v25, "", 0);
			STR* v26;
			STRLIT(v26, "MKI16(", 6);
			STR* v27;
			mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
			STR* v28;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v27, &v28);
			STR* v29;
			STRLIT(v29, ")", 1);
			STR* v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, v28, &v30);
			branch_Str_4 = v30;
		} break;
		case 8LL: { // I8
			STR* v31;
			STRLIT(v31, "", 0);
			STR* v32;
			STRLIT(v32, "MKI8(", 5);
			STR* v33;
			mw_std_str_ZPlusStr_pushZ_strZBang(v32, v31, &v33);
			STR* v34;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v33, &v34);
			STR* v35;
			STRLIT(v35, ")", 1);
			STR* v36;
			mw_std_str_ZPlusStr_pushZ_strZBang(v35, v34, &v36);
			branch_Str_4 = v36;
		} break;
		case 9LL: { // U64
			STR* v37;
			STRLIT(v37, "", 0);
			STR* v38;
			STRLIT(v38, "MKU64(", 6);
			STR* v39;
			mw_std_str_ZPlusStr_pushZ_strZBang(v38, v37, &v39);
			STR* v40;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v39, &v40);
			STR* v41;
			STRLIT(v41, ")", 1);
			STR* v42;
			mw_std_str_ZPlusStr_pushZ_strZBang(v41, v40, &v42);
			branch_Str_4 = v42;
		} break;
		case 10LL: { // U32
			STR* v43;
			STRLIT(v43, "", 0);
			STR* v44;
			STRLIT(v44, "MKU32(", 6);
			STR* v45;
			mw_std_str_ZPlusStr_pushZ_strZBang(v44, v43, &v45);
			STR* v46;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v45, &v46);
			STR* v47;
			STRLIT(v47, ")", 1);
			STR* v48;
			mw_std_str_ZPlusStr_pushZ_strZBang(v47, v46, &v48);
			branch_Str_4 = v48;
		} break;
		case 11LL: { // U16
			STR* v49;
			STRLIT(v49, "", 0);
			STR* v50;
			STRLIT(v50, "MKU16(", 6);
			STR* v51;
			mw_std_str_ZPlusStr_pushZ_strZBang(v50, v49, &v51);
			STR* v52;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v51, &v52);
			STR* v53;
			STRLIT(v53, ")", 1);
			STR* v54;
			mw_std_str_ZPlusStr_pushZ_strZBang(v53, v52, &v54);
			branch_Str_4 = v54;
		} break;
		case 12LL: { // U8
			STR* v55;
			STRLIT(v55, "", 0);
			STR* v56;
			STRLIT(v56, "MKU8(", 5);
			STR* v57;
			mw_std_str_ZPlusStr_pushZ_strZBang(v56, v55, &v57);
			STR* v58;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v57, &v58);
			STR* v59;
			STRLIT(v59, ")", 1);
			STR* v60;
			mw_std_str_ZPlusStr_pushZ_strZBang(v59, v58, &v60);
			branch_Str_4 = v60;
		} break;
		case 13LL: { // F64
			STR* v61;
			STRLIT(v61, "", 0);
			STR* v62;
			STRLIT(v62, "MKF64(", 6);
			STR* v63;
			mw_std_str_ZPlusStr_pushZ_strZBang(v62, v61, &v63);
			STR* v64;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v63, &v64);
			STR* v65;
			STRLIT(v65, ")", 1);
			STR* v66;
			mw_std_str_ZPlusStr_pushZ_strZBang(v65, v64, &v66);
			branch_Str_4 = v66;
		} break;
		case 14LL: { // F32
			STR* v67;
			STRLIT(v67, "", 0);
			STR* v68;
			STRLIT(v68, "MKF32(", 6);
			STR* v69;
			mw_std_str_ZPlusStr_pushZ_strZBang(v68, v67, &v69);
			STR* v70;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v69, &v70);
			STR* v71;
			STRLIT(v71, ")", 1);
			STR* v72;
			mw_std_str_ZPlusStr_pushZ_strZBang(v71, v70, &v72);
			branch_Str_4 = v72;
		} break;
		case 15LL: { // Bool
			STR* v73;
			STRLIT(v73, "", 0);
			STR* v74;
			STRLIT(v74, "MKBOOL(", 7);
			STR* v75;
			mw_std_str_ZPlusStr_pushZ_strZBang(v74, v73, &v75);
			STR* v76;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v75, &v76);
			STR* v77;
			STRLIT(v77, ")", 1);
			STR* v78;
			mw_std_str_ZPlusStr_pushZ_strZBang(v77, v76, &v78);
			branch_Str_4 = v78;
		} break;
		case 16LL: { // PTR
			STR* v79;
			STRLIT(v79, "", 0);
			STR* v80;
			STRLIT(v80, "MKPTR(", 6);
			STR* v81;
			mw_std_str_ZPlusStr_pushZ_strZBang(v80, v79, &v81);
			STR* v82;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v81, &v82);
			STR* v83;
			STRLIT(v83, ")", 1);
			STR* v84;
			mw_std_str_ZPlusStr_pushZ_strZBang(v83, v82, &v84);
			branch_Str_4 = v84;
		} break;
		case 17LL: { // FNPTR
			STR* v85;
			STRLIT(v85, "", 0);
			STR* v86;
			STRLIT(v86, "MKFNPTR(", 8);
			STR* v87;
			mw_std_str_ZPlusStr_pushZ_strZBang(v86, v85, &v87);
			STR* v88;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v87, &v88);
			STR* v89;
			STRLIT(v89, ")", 1);
			STR* v90;
			mw_std_str_ZPlusStr_pushZ_strZBang(v89, v88, &v90);
			branch_Str_4 = v90;
		} break;
		case 3LL: { // TUP
			INT v91 = mtp_mirth_c99_C99ReprType_TUP(in_C99ReprType_2);
			STR* v92;
			STRLIT(v92, "", 0);
			STR* v93;
			STRLIT(v93, "MKTUP(", 6);
			STR* v94;
			mw_std_str_ZPlusStr_pushZ_strZBang(v93, v92, &v94);
			STR* v95;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v94, &v95);
			STR* v96;
			STRLIT(v96, ", ", 2);
			STR* v97;
			mw_std_str_ZPlusStr_pushZ_strZBang(v96, v95, &v97);
			STR* v98 = int_to_str(v91);
			STR* v99;
			mw_std_str_ZPlusStr_pushZ_strZBang(v98, v97, &v99);
			STR* v100;
			STRLIT(v100, ")", 1);
			STR* v101;
			mw_std_str_ZPlusStr_pushZ_strZBang(v100, v99, &v101);
			branch_Str_4 = v101;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_4;
}
static VAL mw_mirth_type_Resource_c99Z_repr (TUP* in_ZPlusMirth_1, VAL in_Resource_2, TUP* *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	TUP* v6;
	VAL v7 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_type_Type_c99Z_repr (TUP* in_ZPlusMirth_1, VAL in_Type_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_C99ReprType_6;
	switch (get_data_tag(in_Type_2)) {
		case 0LL: { // Error
			VAL v7 = MKI64(1LL /* VAL */);
			branch_C99ReprType_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Ignore
			VAL v8 = MKI64(1LL /* VAL */);
			branch_C99ReprType_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Prim
			int64_t v9 = mtp_mirth_type_Type_Prim(in_Type_2);
			VAL v10 = mw_mirth_type_PrimType_c99Z_repr(v9);
			branch_C99ReprType_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // Meta
			uint64_t v11 = mtp_mirth_type_Type_Meta(in_Type_2);
			TUP* v12;
			VAL v13 = mw_mirth_type_MetaVar_typeZAsk(in_ZPlusMirth_1, v11, &v12);
			TUP* branch_ZPlusMirth_14;
			VAL branch_C99ReprType_15;
			switch (get_data_tag(v13)) {
				case 0LL: { // None
					VAL v16 = MKI64(1LL /* VAL */);
					branch_C99ReprType_15 = v16;
					branch_ZPlusMirth_14 = v12;
				} break;
				case 1LL: { // Some
					VAL v17 = mtp_std_maybe_Maybe_1_Some(v13);
					TUP* v18;
					VAL v19 = mw_mirth_type_Type_expand(v12, v17, &v18);
					incref(v19);
					VAL v20 = mtw_std_maybe_Maybe_1_Some(v19);
					void* v21 = field_mut(&mfld_mirth_type_MetaVar_ZTildetypeZAsk, v11);
					mut_set(v20, v21);
					TUP* v22;
					VAL v23 = mw_mirth_type_Type_c99Z_repr(v18, v19, &v22);
					branch_C99ReprType_15 = v23;
					branch_ZPlusMirth_14 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_C99ReprType_6 = branch_C99ReprType_15;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_14;
		} break;
		case 4LL: { // Hole
			uint64_t v24 = mtp_mirth_type_Type_Hole(in_Type_2);
			VAL v25 = MKI64(1LL /* VAL */);
			branch_C99ReprType_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // Var
			uint64_t v26 = mtp_mirth_type_Type_Var(in_Type_2);
			VAL v27 = MKI64(1LL /* VAL */);
			branch_C99ReprType_6 = v27;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // Table
			uint64_t v28 = mtp_mirth_type_Type_Table(in_Type_2);
			VAL v29 = MKI64(9LL /* U64 */);
			branch_C99ReprType_6 = v29;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // Data
			uint64_t v30 = mtp_mirth_type_Type_Data(in_Type_2);
			TUP* v31;
			VAL v32 = mw_mirth_data_Data_c99Z_repr(in_ZPlusMirth_1, v30, &v31);
			branch_C99ReprType_6 = v32;
			branch_ZPlusMirth_5 = v31;
		} break;
		case 8LL: { // DataPartial
			TUP* v33 = mtp_mirth_type_Type_DataPartial(in_Type_2);
			uint64_t v34 = value_u64(v33->cells[0]);
			decref(MKTUP(v33, 2));
			TUP* v35;
			VAL v36 = mw_mirth_data_Data_c99Z_repr(in_ZPlusMirth_1, v34, &v35);
			branch_C99ReprType_6 = v36;
			branch_ZPlusMirth_5 = v35;
		} break;
		case 10LL: { // Arrow
			TUP* v37 = mtp_mirth_type_Type_Arrow(in_Type_2);
			decref(MKTUP(v37, 2));
			VAL v38 = MKI64(1LL /* VAL */);
			branch_C99ReprType_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // Stack
			VAL v39 = mtp_mirth_type_Type_Stack(in_Type_2);
			TUP* v40;
			VAL v41 = mw_mirth_type_StackType_tupleZ_c99Z_repr(in_ZPlusMirth_1, v39, &v40);
			branch_C99ReprType_6 = v41;
			branch_ZPlusMirth_5 = v40;
		} break;
		case 11LL: { // App
			VAL v42;
			VAL v43 = mtp_mirth_type_Type_App(in_Type_2, &v42);
			decref(v42);
			TUP* v44;
			VAL v45 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, v43, &v44);
			branch_C99ReprType_6 = v45;
			branch_ZPlusMirth_5 = v44;
		} break;
		case 12LL: { // Mut
			VAL v46 = mtp_mirth_type_Type_Mut(in_Type_2);
			decref(v46);
			VAL v47 = MKI64(16LL /* PTR */);
			branch_C99ReprType_6 = v47;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // Value
			VAL v48 = mtp_mirth_type_Type_Value(in_Type_2);
			decref(v48);
			VAL v49 = MKI64(1LL /* VAL */);
			branch_C99ReprType_6 = v49;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_C99ReprType_6;
}
static VAL mw_mirth_type_StackType_tupleZ_c99Z_repr (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6;
	VAL v7 = mw_mirth_type_StackType_splitZ_parts(in_ZPlusMirth_1, in_StackType_2, &v5, &v6);
	TUP* branch_ZPlusMirth_8;
	VAL branch_C99ReprType_9;
	switch (get_data_tag(v7)) {
		case 2LL: { // Unit
			INT v10 = mw_std_list_List_1_len(v6);
			incref(MKINT(v10));
			INT v11 = WRAP_I63(0LL);
			bool v12 = int_eq(v10, v11);
			TUP* branch_ZPlusMirth_13;
			VAL branch_C99ReprType_14;
			if (v12) {
				decref(MKINT(v10));
				VAL v15 = MKI64(0LL /* Void */);
				branch_C99ReprType_14 = v15;
				branch_ZPlusMirth_13 = v5;
			} else {
				VAL v16 = mtw_mirth_c99_C99ReprType_TUP(v10);
				branch_C99ReprType_14 = v16;
				branch_ZPlusMirth_13 = v5;
			}
			branch_C99ReprType_9 = branch_C99ReprType_14;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_13;
		} break;
		default: {
			decref(v7);
			decref(v6);
			VAL v17 = MKI64(1LL /* VAL */);
			branch_C99ReprType_9 = v17;
			branch_ZPlusMirth_8 = v5;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_C99ReprType_9;
}
static VAL mw_mirth_type_PrimType_c99Z_repr (int64_t in_PrimType_1) {
	VAL branch_C99ReprType_3;
	switch (in_PrimType_1) {
		case 0LL: { // KIND
			VAL v4 = MKI64(1LL /* VAL */);
			branch_C99ReprType_3 = v4;
		} break;
		case 1LL: { // TYPE
			VAL v5 = MKI64(1LL /* VAL */);
			branch_C99ReprType_3 = v5;
		} break;
		case 2LL: { // STACK
			VAL v6 = MKI64(1LL /* VAL */);
			branch_C99ReprType_3 = v6;
		} break;
		case 3LL: { // RESOURCE
			VAL v7 = MKI64(1LL /* VAL */);
			branch_C99ReprType_3 = v7;
		} break;
		case 4LL: { // Bool
			VAL v8 = MKI64(15LL /* Bool */);
			branch_C99ReprType_3 = v8;
		} break;
		case 5LL: { // Int
			VAL v9 = MKI64(4LL /* Int */);
			branch_C99ReprType_3 = v9;
		} break;
		case 6LL: { // U8
			VAL v10 = MKI64(12LL /* U8 */);
			branch_C99ReprType_3 = v10;
		} break;
		case 7LL: { // U16
			VAL v11 = MKI64(11LL /* U16 */);
			branch_C99ReprType_3 = v11;
		} break;
		case 8LL: { // U32
			VAL v12 = MKI64(10LL /* U32 */);
			branch_C99ReprType_3 = v12;
		} break;
		case 9LL: { // U64
			VAL v13 = MKI64(9LL /* U64 */);
			branch_C99ReprType_3 = v13;
		} break;
		case 10LL: { // I8
			VAL v14 = MKI64(8LL /* I8 */);
			branch_C99ReprType_3 = v14;
		} break;
		case 11LL: { // I16
			VAL v15 = MKI64(7LL /* I16 */);
			branch_C99ReprType_3 = v15;
		} break;
		case 12LL: { // I32
			VAL v16 = MKI64(6LL /* I32 */);
			branch_C99ReprType_3 = v16;
		} break;
		case 13LL: { // I64
			VAL v17 = MKI64(5LL /* I64 */);
			branch_C99ReprType_3 = v17;
		} break;
		case 14LL: { // F32
			VAL v18 = MKI64(14LL /* F32 */);
			branch_C99ReprType_3 = v18;
		} break;
		case 15LL: { // F64
			VAL v19 = MKI64(13LL /* F64 */);
			branch_C99ReprType_3 = v19;
		} break;
		case 17LL: { // Str
			VAL v20 = MKI64(2LL /* STR */);
			branch_C99ReprType_3 = v20;
		} break;
		case 16LL: { // Ptr
			VAL v21 = MKI64(16LL /* PTR */);
			branch_C99ReprType_3 = v21;
		} break;
		case 18LL: { // World
			VAL v22 = MKI64(0LL /* Void */);
			branch_C99ReprType_3 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_C99ReprType_3;
}
static VAL mw_mirth_data_Data_c99Z_repr (TUP* in_ZPlusMirth_1, uint64_t in_Data_2, TUP* *out_ZPlusMirth_3) {
	TUP* v5;
	VAL v6 = mw_mirth_data_Data_isZ_unitZAsk(in_ZPlusMirth_1, in_Data_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	INT v8 = WRAP_I63(0LL);
	INT v9 = i64_to_int(v7);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	TUP* branch_ZPlusMirth_12;
	uint64_t branch_Data_13;
	VAL branch_C99ReprType_14;
	if (v11) {
		VAL v15 = MKI64(0LL /* Void */);
		branch_C99ReprType_14 = v15;
		branch_Data_13 = in_Data_2;
		branch_ZPlusMirth_12 = v5;
	} else {
		TUP* v16;
		bool v17 = mw_mirth_data_Data_isZ_enumZAsk(v5, in_Data_2, &v16);
		uint64_t branch_Data_18;
		TUP* branch_ZPlusMirth_19;
		VAL branch_C99ReprType_20;
		if (v17) {
			VAL v21 = MKI64(5LL /* I64 */);
			branch_C99ReprType_20 = v21;
			branch_ZPlusMirth_19 = v16;
			branch_Data_18 = in_Data_2;
		} else {
			TUP* v22;
			VAL v23 = mw_mirth_data_Data_semiZ_transparentZAsk(v16, in_Data_2, &v22);
			uint64_t branch_Data_24;
			TUP* branch_ZPlusMirth_25;
			VAL branch_C99ReprType_26;
			switch (get_data_tag(v23)) {
				case 1LL: { // Some
					VAL v27 = mtp_std_maybe_Maybe_1_Some(v23);
					VAL v28 = VTUP(v27)->cells[1];
					incref(v28);
					decref(v27);
					VAL v29 = mw_mirth_type_StackTypePart_typeZDivresource(v28);
					TUP* branch_ZPlusMirth_30;
					VAL branch_C99ReprType_31;
					switch (get_data_tag(v29)) {
						case 0LL: { // Left
							VAL v32 = mtp_std_either_Either_2_Left(v29);
							TUP* v33;
							VAL v34 = mw_mirth_type_Type_c99Z_repr(v22, v32, &v33);
							branch_C99ReprType_31 = v34;
							branch_ZPlusMirth_30 = v33;
						} break;
						case 1LL: { // Right
							VAL v35 = mtp_std_either_Either_2_Right(v29);
							TUP* v36;
							VAL v37 = mw_mirth_type_Resource_c99Z_repr(v22, v35, &v36);
							branch_C99ReprType_31 = v37;
							branch_ZPlusMirth_30 = v36;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_C99ReprType_26 = branch_C99ReprType_31;
					branch_ZPlusMirth_25 = branch_ZPlusMirth_30;
					branch_Data_24 = in_Data_2;
				} break;
				case 0LL: { // None
					TUP* v38;
					VAL v39 = mw_mirth_data_Data_singleZ_tagZAsk(v22, in_Data_2, &v38);
					TUP* branch_ZPlusMirth_40;
					VAL branch_C99ReprType_41;
					switch (get_data_tag(v39)) {
						case 1LL: { // Some
							VAL v42 = mtp_std_maybe_Maybe_1_Some(v39);
							TUP* v43;
							VAL v44 = mw_mirth_data_Tag_inputs(v38, value_u64(v42), &v43);
							INT v45 = mw_std_list_List_1_len(v44);
							VAL v46 = mtw_mirth_c99_C99ReprType_TUP(v45);
							branch_C99ReprType_41 = v46;
							branch_ZPlusMirth_40 = v43;
						} break;
						case 0LL: { // None
							VAL v47 = MKI64(1LL /* VAL */);
							branch_C99ReprType_41 = v47;
							branch_ZPlusMirth_40 = v38;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_C99ReprType_26 = branch_C99ReprType_41;
					branch_ZPlusMirth_25 = branch_ZPlusMirth_40;
					branch_Data_24 = in_Data_2;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_C99ReprType_20 = branch_C99ReprType_26;
			branch_ZPlusMirth_19 = branch_ZPlusMirth_25;
			branch_Data_18 = branch_Data_24;
		}
		branch_C99ReprType_14 = branch_C99ReprType_20;
		branch_Data_13 = branch_Data_18;
		branch_ZPlusMirth_12 = branch_ZPlusMirth_19;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_12;
	return branch_C99ReprType_14;
}
static void mw_mirth_c99_ZPlusC99Value_rdup (TUP* in_ZPlusC99Value_1, TUP* *out_ZPlusC99Value_2, TUP* *out_ZPlusC99Value_3) {
	VAL v4 = in_ZPlusC99Value_1->cells[0];
	incref(v4);
	STR* v5 = value_str(in_ZPlusC99Value_1->cells[1]);
	incref(MKSTR(v5));
	TUP* v6;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v4, v5, &v6);
	*out_ZPlusC99Value_3 = v6;
	*out_ZPlusC99Value_2 = in_ZPlusC99Value_1;
}
static void mw_mirth_c99_ZPlusC99Value_rdrop (TUP* in_ZPlusC99Value_1) {
	VAL v2;
	STR* v3;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v2, &v3);
	decref(v2);
	decref(MKSTR(v3));
}
static void mw_mirth_c99_C99ReprType_newZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6) {
	TUP* v7 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	TUP* v8;
	TUP* v9;
	STR* v10 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v7, &v8, &v9);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v9, 6);
	bool v11 = value_bool(in_ZPlusC99Branch_2->cells[3]);
	TUP* v12 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	bool v13 = value_bool(v12->cells[3]);
	bool v14 = (v11 && v13);
	v12->cells[3] = MKBOOL(v14);
	TUP* v15;
	TUP* v16;
	mw_mirth_c99_ZPlusC99_indent(v8, v12, &v15, &v16);
	incref(in_C99ReprType_3);
	STR* v17 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_3);
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99_put(v15, v16, v17, &v18, &v19);
	STR* v20;
	STRLIT(v20, " ", 1);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_put(v18, v19, v20, &v21, &v22);
	incref(MKSTR(v10));
	TUP* v23;
	TUP* v24;
	mw_mirth_c99_ZPlusC99_put(v21, v22, v10, &v23, &v24);
	STR* v25;
	STRLIT(v25, ";", 1);
	TUP* v26;
	TUP* v27;
	mw_mirth_c99_ZPlusC99_put(v23, v24, v25, &v26, &v27);
	TUP* v28;
	TUP* v29;
	mw_mirth_c99_ZPlusC99_line(v26, v27, &v28, &v29);
	v29->cells[3] = MKBOOL(v13);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v29, 6);
	TUP* v30;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_C99ReprType_3, v10, &v30);
	*out_ZPlusC99Value_6 = v30;
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v28;
}
static void mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6) {
	TUP* v7 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	TUP* v8;
	TUP* v9;
	STR* v10 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v7, &v8, &v9);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v9, 6);
	bool v11 = value_bool(in_ZPlusC99Branch_2->cells[3]);
	TUP* v12 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	bool v13 = value_bool(v12->cells[3]);
	bool v14 = (v11 && v13);
	v12->cells[3] = MKBOOL(v14);
	TUP* v15;
	TUP* v16;
	mw_mirth_c99_ZPlusC99_indent(v8, v12, &v15, &v16);
	incref(in_C99ReprType_3);
	STR* v17 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_3);
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99_put(v15, v16, v17, &v18, &v19);
	STR* v20;
	STRLIT(v20, " ", 1);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_put(v18, v19, v20, &v21, &v22);
	incref(MKSTR(v10));
	TUP* v23;
	TUP* v24;
	mw_mirth_c99_ZPlusC99_put(v21, v22, v10, &v23, &v24);
	STR* v25;
	STRLIT(v25, " = ", 3);
	TUP* v26;
	TUP* v27;
	mw_mirth_c99_ZPlusC99_put(v23, v24, v25, &v26, &v27);
	incref(in_C99ReprType_3);
	STR* v28;
	STR* v29 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_3, &v28);
	TUP* v30;
	TUP* v31;
	mw_mirth_c99_ZPlusC99_put(v26, v27, v29, &v30, &v31);
	STR* v32;
	STRLIT(v32, "pop_value()", 11);
	TUP* v33;
	TUP* v34;
	mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
	TUP* v35;
	TUP* v36;
	mw_mirth_c99_ZPlusC99_put(v33, v34, v28, &v35, &v36);
	STR* v37;
	STRLIT(v37, ";", 1);
	TUP* v38;
	TUP* v39;
	mw_mirth_c99_ZPlusC99_put(v35, v36, v37, &v38, &v39);
	TUP* v40;
	TUP* v41;
	mw_mirth_c99_ZPlusC99_line(v38, v39, &v40, &v41);
	v41->cells[3] = MKBOOL(v13);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v41, 6);
	TUP* v42;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_C99ReprType_3, v10, &v42);
	*out_ZPlusC99Value_6 = v42;
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v40;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	STR* v6 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_3);
	bool v7 = value_bool(in_ZPlusC99Branch_2->cells[3]);
	TUP* v8 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	bool v9 = value_bool(v8->cells[3]);
	bool v10 = (v7 && v9);
	v8->cells[3] = MKBOOL(v10);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v8, &v11, &v12);
	STR* v13;
	STRLIT(v13, "push_value(", 11);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	TUP* v16;
	TUP* v17;
	mw_mirth_c99_ZPlusC99_put(v14, v15, v6, &v16, &v17);
	STR* v18;
	STRLIT(v18, ");", 2);
	TUP* v19;
	TUP* v20;
	mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_line(v19, v20, &v21, &v22);
	v22->cells[3] = MKBOOL(v9);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v22, 6);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v21;
}
static STR* mw_mirth_c99_ZPlusC99Value_consume (TUP* in_ZPlusC99Value_1) {
	VAL v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v3, &v4);
	decref(v3);
	return v4;
}
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL (TUP* in_ZPlusC99Value_1) {
	VAL v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v3, &v4);
	STR* v5 = mw_mirth_c99_C99ReprType_mkZ_macro(v4, v3);
	return v5;
}
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_TUP (TUP* in_ZPlusC99Value_1) {
	TUP* v3;
	mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(in_ZPlusC99Value_1, &v3);
	STR* v4 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_TUP(v3);
	return v4;
}
static STR* mw_mirth_c99_ZPlusC99Value_consumeZ_as (VAL in_C99ReprType_1, TUP* in_ZPlusC99Value_2) {
	STR* branch_Str_4;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // VAL
			STR* v5 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_2);
			branch_Str_4 = v5;
		} break;
		case 0LL: { // Void
			mw_mirth_c99_ZPlusC99Value_rdrop(in_ZPlusC99Value_2);
			STR* v6;
			STRLIT(v6, "0", 1);
			branch_Str_4 = v6;
		} break;
		default: {
			VAL v7;
			STR* v8;
			mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_2, &v7, &v8);
			incref(v7);
			VAL branch_C99ReprType_9;
			STR* branch_Str_10;
			switch (get_data_tag(v7)) {
				case 1LL: { // VAL
					STR* v11;
					STRLIT(v11, "", 0);
					STR* v12;
					STR* v13 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_1, &v12);
					STR* v14;
					mw_std_str_ZPlusStr_pushZ_strZBang(v13, v11, &v14);
					STR* v15;
					mw_std_str_ZPlusStr_pushZ_strZBang(v8, v14, &v15);
					STR* v16;
					mw_std_str_ZPlusStr_pushZ_strZBang(v12, v15, &v16);
					branch_Str_10 = v16;
					branch_C99ReprType_9 = v7;
				} break;
				default: {
					incref(in_C99ReprType_1);
					bool v17 = mw_mirth_c99_C99ReprType_ZEqual(v7, in_C99ReprType_1);
					VAL branch_C99ReprType_18;
					STR* branch_Str_19;
					if (v17) {
						decref(in_C99ReprType_1);
						branch_Str_19 = v8;
						branch_C99ReprType_18 = v7;
					} else {
						incref(in_C99ReprType_1);
						bool v20 = mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk(in_C99ReprType_1);
						incref(v7);
						bool v21 = mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk(v7);
						bool v22 = (v20 && v21);
						VAL branch_C99ReprType_23;
						STR* branch_Str_24;
						if (v22) {
							STR* v25;
							STRLIT(v25, "", 0);
							STR* v26;
							STRLIT(v26, "((", 2);
							STR* v27;
							mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
							STR* v28 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_1);
							STR* v29;
							mw_std_str_ZPlusStr_pushZ_strZBang(v28, v27, &v29);
							STR* v30;
							STRLIT(v30, ")", 1);
							STR* v31;
							mw_std_str_ZPlusStr_pushZ_strZBang(v30, v29, &v31);
							STR* v32;
							mw_std_str_ZPlusStr_pushZ_strZBang(v8, v31, &v32);
							STR* v33;
							STRLIT(v33, ")", 1);
							STR* v34;
							mw_std_str_ZPlusStr_pushZ_strZBang(v33, v32, &v34);
							branch_Str_24 = v34;
							branch_C99ReprType_23 = v7;
						} else {
							STR* v35;
							STRLIT(v35, "", 0);
							STR* v36;
							STRLIT(v36, "(\n#error \"attempted to cast ", 28);
							STR* v37;
							mw_std_str_ZPlusStr_pushZ_strZBang(v36, v35, &v37);
							STR* v38;
							mw_std_str_ZPlusStr_pushZ_strZBang(v8, v37, &v38);
							STR* v39;
							STRLIT(v39, " to incompatible C99 repr type ", 31);
							STR* v40;
							mw_std_str_ZPlusStr_pushZ_strZBang(v39, v38, &v40);
							STR* v41 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_1);
							STR* v42;
							mw_std_str_ZPlusStr_pushZ_strZBang(v41, v40, &v42);
							STR* v43;
							STRLIT(v43, "\"\n", 2);
							STR* v44;
							mw_std_str_ZPlusStr_pushZ_strZBang(v43, v42, &v44);
							branch_Str_24 = v44;
							branch_C99ReprType_23 = v7;
						}
						branch_Str_19 = branch_Str_24;
						branch_C99ReprType_18 = branch_C99ReprType_23;
					}
					branch_Str_10 = branch_Str_19;
					branch_C99ReprType_9 = branch_C99ReprType_18;
				} break;
			}
			decref(branch_C99ReprType_9);
			branch_Str_4 = branch_Str_10;
		} break;
	}
	return branch_Str_4;
}
static void mw_mirth_c99_ZPlusC99Value_keepZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6) {
	VAL v7 = in_ZPlusC99Value_3->cells[0];
	incref(v7);
	bool v8 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	TUP* branch_ZPlusC99Value_11;
	if (v8) {
		TUP* v12;
		TUP* v13;
		mw_mirth_c99_ZPlusC99Value_rdup(in_ZPlusC99Value_3, &v12, &v13);
		STR* v14 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v13);
		TUP* v15 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v15, &v16, &v17);
		STR* v18;
		STRLIT(v18, "incref(", 7);
		TUP* v19;
		TUP* v20;
		mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
		TUP* v21;
		TUP* v22;
		mw_mirth_c99_ZPlusC99_put(v19, v20, v14, &v21, &v22);
		STR* v23;
		STRLIT(v23, ");", 2);
		TUP* v24;
		TUP* v25;
		mw_mirth_c99_ZPlusC99_put(v21, v22, v23, &v24, &v25);
		TUP* v26;
		TUP* v27;
		mw_mirth_c99_ZPlusC99_line(v24, v25, &v26, &v27);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v27, 6);
		branch_ZPlusC99Value_11 = v12;
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = v26;
	} else {
		branch_ZPlusC99Value_11 = in_ZPlusC99Value_3;
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99Value_6 = branch_ZPlusC99Value_11;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = in_ZPlusC99Value_3->cells[0];
	incref(v6);
	bool v7 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	if (v7) {
		STR* v10 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_3);
		TUP* v11 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		TUP* v12;
		TUP* v13;
		mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v11, &v12, &v13);
		STR* v14;
		STRLIT(v14, "decref(", 7);
		TUP* v15;
		TUP* v16;
		mw_mirth_c99_ZPlusC99_put(v12, v13, v14, &v15, &v16);
		TUP* v17;
		TUP* v18;
		mw_mirth_c99_ZPlusC99_put(v15, v16, v10, &v17, &v18);
		STR* v19;
		STRLIT(v19, ");", 2);
		TUP* v20;
		TUP* v21;
		mw_mirth_c99_ZPlusC99_put(v17, v18, v19, &v20, &v21);
		TUP* v22;
		TUP* v23;
		mw_mirth_c99_ZPlusC99_line(v20, v21, &v22, &v23);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v23, 6);
		branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_8 = v22;
	} else {
		mw_mirth_c99_ZPlusC99Value_rdrop(in_ZPlusC99Value_3);
		branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6, TUP* *out_ZPlusC99Value_7) {
	TUP* v8;
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99Value_keepZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_ZPlusC99Value_3, &v8, &v9, &v10);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99Value_rdup(v10, &v11, &v12);
	*out_ZPlusC99Value_7 = v12;
	*out_ZPlusC99Value_6 = v11;
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static STR* mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Value_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Value_4) {
	TUP* v6;
	mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(in_ZPlusC99Value_2, &v6);
	TUP* v7;
	STR* v8 = mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag(v6, &v7);
	TUP* v9;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v7, &v9);
	*out_ZPlusC99Value_4 = v9;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v8;
}
static void mw_mirth_c99_ZPlusC99Resource_rdup (TUP* in_ZPlusC99Resource_1, TUP* *out_ZPlusC99Resource_2, TUP* *out_ZPlusC99Resource_3) {
	VAL v4 = in_ZPlusC99Resource_1->cells[0];
	incref(v4);
	STR* v5 = value_str(in_ZPlusC99Resource_1->cells[1]);
	incref(MKSTR(v5));
	TUP* v6;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(v4, v5, &v6);
	*out_ZPlusC99Resource_3 = v6;
	*out_ZPlusC99Resource_2 = in_ZPlusC99Resource_1;
}
static void mw_mirth_c99_ZPlusC99Resource_rdrop (TUP* in_ZPlusC99Resource_1) {
	STR* v2 = mw_mirth_c99_ZPlusC99Resource_consume(in_ZPlusC99Resource_1);
	decref(MKSTR(v2));
}
static void mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang (TUP* in_ZPlusC99Value_1, TUP* *out_ZPlusC99Resource_2) {
	VAL v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v3, &v4);
	TUP* v5;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(v3, v4, &v5);
	*out_ZPlusC99Resource_2 = v5;
}
static void mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang (TUP* in_ZPlusC99Resource_1, TUP* *out_ZPlusC99Value_2) {
	VAL v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	TUP* v5;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v3, v4, &v5);
	*out_ZPlusC99Value_2 = v5;
}
static void mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(in_ZPlusC99Resource_3, &v6);
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8);
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Resource_6, TUP* *out_ZPlusC99Value_7) {
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99Resource_rdup(in_ZPlusC99Resource_3, &v8, &v9);
	TUP* v10;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v9, &v10);
	TUP* v11;
	TUP* v12;
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v10, &v11, &v12, &v13, &v14);
	mw_mirth_c99_ZPlusC99Value_rdrop(v14);
	*out_ZPlusC99Value_7 = v13;
	*out_ZPlusC99Resource_6 = v8;
	*out_ZPlusC99Branch_5 = v12;
	*out_ZPlusMirth_4 = v11;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consume (TUP* in_ZPlusC99Resource_1) {
	VAL v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	decref(v3);
	return v4;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_as (VAL in_C99ReprType_1, TUP* in_ZPlusC99Resource_2) {
	TUP* v4;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(in_ZPlusC99Resource_2, &v4);
	STR* v5 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_1, v4);
	return v5;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL (TUP* in_ZPlusC99Resource_1) {
	VAL v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	STR* v5 = mw_mirth_c99_C99ReprType_mkZ_macro(v4, v3);
	return v5;
}
static STR* mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_TUP (TUP* in_ZPlusC99Resource_1) {
	VAL v3;
	STR* v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	STR* branch_Str_5;
	switch (get_data_tag(v3)) {
		case 1LL: { // VAL
			STR* v6;
			STRLIT(v6, "", 0);
			STR* v7;
			STRLIT(v7, "VTUP(", 5);
			STR* v8;
			mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
			STR* v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(v4, v8, &v9);
			STR* v10;
			STRLIT(v10, ")", 1);
			STR* v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(v10, v9, &v11);
			branch_Str_5 = v11;
		} break;
		case 3LL: { // TUP
			INT v12 = mtp_mirth_c99_C99ReprType_TUP(v3);
			decref(MKINT(v12));
			branch_Str_5 = v4;
		} break;
		default: {
			decref(v3);
			STR* v13;
			STRLIT(v13, "c99: tried to consume non-tuple as tuple", 40);
			do_panic(v13);
		} break;
	}
	return branch_Str_5;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Resource_6) {
	TUP* v7 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	TUP* v8;
	TUP* v9;
	STR* v10 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(in_ZPlusMirth_1, v7, &v8, &v9);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v9, 6);
	bool v11 = value_bool(in_ZPlusC99Branch_2->cells[3]);
	TUP* v12 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	bool v13 = value_bool(v12->cells[3]);
	bool v14 = (v11 && v13);
	v12->cells[3] = MKBOOL(v14);
	TUP* v15;
	TUP* v16;
	mw_mirth_c99_ZPlusC99_indent(v8, v12, &v15, &v16);
	incref(in_C99ReprType_3);
	STR* v17 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_3);
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99_put(v15, v16, v17, &v18, &v19);
	STR* v20;
	STRLIT(v20, " ", 1);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_put(v18, v19, v20, &v21, &v22);
	incref(MKSTR(v10));
	TUP* v23;
	TUP* v24;
	mw_mirth_c99_ZPlusC99_put(v21, v22, v10, &v23, &v24);
	STR* v25;
	STRLIT(v25, " = ", 3);
	TUP* v26;
	TUP* v27;
	mw_mirth_c99_ZPlusC99_put(v23, v24, v25, &v26, &v27);
	incref(in_C99ReprType_3);
	STR* v28;
	STR* v29 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_3, &v28);
	TUP* v30;
	TUP* v31;
	mw_mirth_c99_ZPlusC99_put(v26, v27, v29, &v30, &v31);
	STR* v32;
	STRLIT(v32, "pop_resource()", 14);
	TUP* v33;
	TUP* v34;
	mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
	TUP* v35;
	TUP* v36;
	mw_mirth_c99_ZPlusC99_put(v33, v34, v28, &v35, &v36);
	STR* v37;
	STRLIT(v37, ";", 1);
	TUP* v38;
	TUP* v39;
	mw_mirth_c99_ZPlusC99_put(v35, v36, v37, &v38, &v39);
	TUP* v40;
	TUP* v41;
	mw_mirth_c99_ZPlusC99_line(v38, v39, &v40, &v41);
	v41->cells[3] = MKBOOL(v13);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v41, 6);
	TUP* v42;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_C99ReprType_3, v10, &v42);
	*out_ZPlusC99Resource_6 = v42;
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v40;
}
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	STR* v6 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(in_ZPlusC99Resource_3);
	bool v7 = value_bool(in_ZPlusC99Branch_2->cells[3]);
	TUP* v8 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	bool v9 = value_bool(v8->cells[3]);
	bool v10 = (v7 && v9);
	v8->cells[3] = MKBOOL(v10);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v8, &v11, &v12);
	STR* v13;
	STRLIT(v13, "push_resource(", 14);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	TUP* v16;
	TUP* v17;
	mw_mirth_c99_ZPlusC99_put(v14, v15, v6, &v16, &v17);
	STR* v18;
	STRLIT(v18, ");", 2);
	TUP* v19;
	TUP* v20;
	mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_line(v19, v20, &v21, &v22);
	v22->cells[3] = MKBOOL(v9);
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v22, 6);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v21;
}
static STR* mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag (TUP* in_ZPlusC99Resource_1, TUP* *out_ZPlusC99Resource_2) {
	VAL v4 = in_ZPlusC99Resource_1->cells[0];
	incref(v4);
	bool v5 = mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk(v4);
	STR* branch_Str_6;
	TUP* branch_ZPlusC99Resource_7;
	if (v5) {
		STR* v8 = value_str(in_ZPlusC99Resource_1->cells[1]);
		incref(MKSTR(v8));
		branch_ZPlusC99Resource_7 = in_ZPlusC99Resource_1;
		branch_Str_6 = v8;
	} else {
		TUP* v9;
		TUP* v10;
		mw_mirth_c99_ZPlusC99Resource_rdup(in_ZPlusC99Resource_1, &v9, &v10);
		STR* v11 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v10);
		STR* v12;
		STRLIT(v12, "", 0);
		STR* v13;
		STRLIT(v13, "get_data_tag(", 13);
		STR* v14;
		mw_std_str_ZPlusStr_pushZ_strZBang(v13, v12, &v14);
		STR* v15;
		mw_std_str_ZPlusStr_pushZ_strZBang(v11, v14, &v15);
		STR* v16;
		STRLIT(v16, ")", 1);
		STR* v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(v16, v15, &v17);
		branch_ZPlusC99Resource_7 = v9;
		branch_Str_6 = v17;
	}
	*out_ZPlusC99Resource_2 = branch_ZPlusC99Resource_7;
	return branch_Str_6;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdup (VAL in_ZPlusC99ValueZDivResource_1, VAL *out_ZPlusC99ValueZDivResource_2, VAL *out_ZPlusC99ValueZDivResource_3) {
	VAL branch_ZPlusEither_4;
	VAL branch_ZPlusEither_5;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v6;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v6);
			TUP* v7;
			TUP* v8;
			mw_mirth_c99_ZPlusC99Value_rdup(value_tup(v6, 2), &v7, &v8);
			VAL v9;
			mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(v7, 2), &v9);
			VAL v10;
			mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(v8, 2), &v10);
			branch_ZPlusEither_5 = v10;
			branch_ZPlusEither_4 = v9;
		} break;
		case 1LL: { // +Right
			VAL v11;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v11);
			TUP* v12;
			TUP* v13;
			mw_mirth_c99_ZPlusC99Resource_rdup(value_tup(v11, 2), &v12, &v13);
			VAL v14;
			mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(v12, 2), &v14);
			VAL v15;
			mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(v13, 2), &v15);
			branch_ZPlusEither_5 = v15;
			branch_ZPlusEither_4 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99ValueZDivResource_3 = branch_ZPlusEither_5;
	*out_ZPlusC99ValueZDivResource_2 = branch_ZPlusEither_4;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop (VAL in_ZPlusC99ValueZDivResource_1) {
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v2;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v2);
			mw_mirth_c99_ZPlusC99Value_rdrop(value_tup(v2, 2));
		} break;
		case 1LL: { // +Right
			VAL v3;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v3);
			mw_mirth_c99_ZPlusC99Resource_rdrop(value_tup(v3, 2));
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99ValueZDivResource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* branch_ZPlusMirth_6;
	TUP* branch_ZPlusC99Branch_7;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_3)) {
		case 0LL: { // +Left
			VAL v8;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_3, &v8);
			TUP* v9;
			TUP* v10;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_tup(v8, 2), &v9, &v10);
			branch_ZPlusC99Branch_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 1LL: { // +Right
			VAL v11;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_3, &v11);
			TUP* v12;
			TUP* v13;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_tup(v11, 2), &v12, &v13);
			branch_ZPlusC99Branch_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static STR* mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag (TUP* in_ZPlusMirth_1, VAL in_ZPlusC99ValueZDivResource_2, TUP* *out_ZPlusMirth_3, VAL *out_ZPlusC99ValueZDivResource_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_Str_7;
	VAL branch_ZPlusEither_8;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_2)) {
		case 0LL: { // +Left
			VAL v9;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_2, &v9);
			TUP* v10;
			TUP* v11;
			STR* v12 = mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag(in_ZPlusMirth_1, value_tup(v9, 2), &v10, &v11);
			VAL v13;
			mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(v11, 2), &v13);
			branch_ZPlusEither_8 = v13;
			branch_Str_7 = v12;
			branch_ZPlusMirth_6 = v10;
		} break;
		case 1LL: { // +Right
			VAL v14;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_2, &v14);
			TUP* v15;
			STR* v16 = mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag(value_tup(v14, 2), &v15);
			VAL v17;
			mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(v15, 2), &v17);
			branch_ZPlusEither_8 = v17;
			branch_Str_7 = v16;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99ValueZDivResource_5 = branch_ZPlusEither_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Str_7;
}
static STR* mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_TUP (VAL in_ZPlusC99ValueZDivResource_1) {
	STR* branch_Str_3;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v4;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v4);
			STR* v5 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_TUP(value_tup(v4, 2));
			branch_Str_3 = v5;
		} break;
		case 1LL: { // +Right
			VAL v6;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v6);
			STR* v7 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_TUP(value_tup(v6, 2));
			branch_Str_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_turnZ_intoZ_resourceZBang (VAL in_ZPlusC99ValueZDivResource_1, TUP* *out_ZPlusC99Resource_2) {
	TUP* branch_ZPlusC99Resource_3;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v4;
			mtp_std_either_ZPlusEither_2_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v4);
			TUP* v5;
			mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(value_tup(v4, 2), &v5);
			branch_ZPlusC99Resource_3 = v5;
		} break;
		case 1LL: { // +Right
			VAL v6;
			mtp_std_either_ZPlusEither_2_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v6);
			branch_ZPlusC99Resource_3 = value_tup(v6, 2);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Resource_2 = branch_ZPlusC99Resource_3;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Data_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, VAL *out_ZPlusC99ValueZDivResource_6) {
	TUP* v7;
	bool v8 = mw_mirth_data_Data_isZ_resourceZAsk(in_ZPlusMirth_1, in_Data_3, &v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	VAL branch_ZPlusC99ValueZDivResource_11;
	if (v8) {
		TUP* v12;
		VAL v13 = mw_mirth_data_Data_c99Z_repr(v7, in_Data_3, &v12);
		TUP* v14;
		TUP* v15;
		TUP* v16;
		mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v12, in_ZPlusC99Branch_2, v13, &v14, &v15, &v16);
		VAL v17;
		mtw_std_either_ZPlusEither_2_ZPlusRight(MKTUP(v16, 2), &v17);
		branch_ZPlusC99ValueZDivResource_11 = v17;
		branch_ZPlusC99Branch_10 = v15;
		branch_ZPlusMirth_9 = v14;
	} else {
		TUP* v18;
		VAL v19 = mw_mirth_data_Data_c99Z_repr(v7, in_Data_3, &v18);
		TUP* v20;
		TUP* v21;
		TUP* v22;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v18, in_ZPlusC99Branch_2, v19, &v20, &v21, &v22);
		VAL v23;
		mtw_std_either_ZPlusEither_2_ZPlusLeft(MKTUP(v22, 2), &v23);
		branch_ZPlusC99ValueZDivResource_11 = v23;
		branch_ZPlusC99Branch_10 = v21;
		branch_ZPlusMirth_9 = v20;
	}
	*out_ZPlusC99ValueZDivResource_6 = branch_ZPlusC99ValueZDivResource_11;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Branch_4) {
	TUP* v5;
	VAL v6;
	VAL v7;
	bool v8;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(in_ZPlusC99Branch_2, &v5, &v6, &v7, &v8);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, v5, v6, v8, v7, &v9, &v10);
	*out_ZPlusC99Branch_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, VAL in_ZPlusC99Stack_3, bool in_Bool_4, VAL in_List_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7) {
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	switch (get_data_tag(in_ZPlusC99Stack_3)) {
		case 0LL: { // +Nil
			TUP* v10;
			TUP* v11;
			mw_mirth_c99_ZPlusC99_startZ_branchZBang(in_ZPlusMirth_1, in_ZPlusC99_2, in_Bool_4, in_List_5, &v10, &v11);
			branch_ZPlusC99Branch_9 = v11;
			branch_ZPlusMirth_8 = v10;
		} break;
		case 1LL: { // +Cons
			VAL v12;
			TUP* v13;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_3, &v12, &v13);
			TUP* v14;
			TUP* v15;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v12, in_Bool_4, in_List_5, &v14, &v15);
			VAL v16 = v13->cells[0];
			incref(v16);
			TUP* v17;
			TUP* v18;
			TUP* v19;
			mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp22(v13, v14, v15, v16, &v17, &v18, &v19);
			TUP* v20;
			TUP* v21;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v17, v18, v19, &v20, &v21);
			branch_ZPlusC99Branch_9 = v21;
			branch_ZPlusMirth_8 = v20;
		} break;
		case 2LL: { // +With
			VAL v22;
			TUP* v23;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_3, &v22, &v23);
			TUP* v24;
			TUP* v25;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v22, in_Bool_4, in_List_5, &v24, &v25);
			VAL v26 = v23->cells[0];
			incref(v26);
			incref(v26);
			int64_t v27 = get_data_tag(v26);
			decref(v26);
			INT v28 = WRAP_I63(0LL);
			INT v29 = i64_to_int(v27);
			bool v30 = int_eq(v29, v28);
			bool v31 = !v30;
			TUP* branch_ZPlusC99Resource_32;
			VAL branch_C99ReprType_33;
			bool branch_Bool_34;
			TUP* branch_ZPlusMirth_35;
			STR* branch_Str_36;
			TUP* branch_ZPlusC99Branch_37;
			if (v31) {
				TUP* v38 = value_tup(v25->cells[0], 6);
				TUP* v39;
				TUP* v40;
				STR* v41 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v24, v38, &v39, &v40);
				v25->cells[0] = MKTUP(v40, 6);
				branch_ZPlusC99Branch_37 = v25;
				branch_Str_36 = v41;
				branch_ZPlusMirth_35 = v39;
				branch_Bool_34 = v31;
				branch_C99ReprType_33 = v26;
				branch_ZPlusC99Resource_32 = v23;
			} else {
				STR* v42;
				STRLIT(v42, "0", 1);
				branch_ZPlusC99Branch_37 = v25;
				branch_Str_36 = v42;
				branch_ZPlusMirth_35 = v24;
				branch_Bool_34 = v31;
				branch_C99ReprType_33 = v26;
				branch_ZPlusC99Resource_32 = v23;
			}
			bool v43 = value_bool(branch_ZPlusC99Branch_37->cells[3]);
			bool v44 = (branch_Bool_34 && v43);
			TUP* v45 = value_tup(branch_ZPlusC99Branch_37->cells[0], 6);
			bool v46 = value_bool(v45->cells[3]);
			bool v47 = (v44 && v46);
			v45->cells[3] = MKBOOL(v47);
			TUP* v48;
			TUP* v49;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_35, v45, &v48, &v49);
			incref(branch_C99ReprType_33);
			STR* v50 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_33);
			TUP* v51;
			TUP* v52;
			mw_mirth_c99_ZPlusC99_put(v48, v49, v50, &v51, &v52);
			STR* v53;
			STRLIT(v53, " ", 1);
			TUP* v54;
			TUP* v55;
			mw_mirth_c99_ZPlusC99_put(v51, v52, v53, &v54, &v55);
			incref(MKSTR(branch_Str_36));
			TUP* v56;
			TUP* v57;
			mw_mirth_c99_ZPlusC99_put(v54, v55, branch_Str_36, &v56, &v57);
			STR* v58;
			STRLIT(v58, " = ", 3);
			TUP* v59;
			TUP* v60;
			mw_mirth_c99_ZPlusC99_put(v56, v57, v58, &v59, &v60);
			TUP* v61;
			mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_33, branch_Str_36, &v61);
			STR* v62 = mw_mirth_c99_ZPlusC99Resource_consume(branch_ZPlusC99Resource_32);
			TUP* v63;
			TUP* v64;
			mw_mirth_c99_ZPlusC99_put(v59, v60, v62, &v63, &v64);
			STR* v65;
			STRLIT(v65, ";", 1);
			TUP* v66;
			TUP* v67;
			mw_mirth_c99_ZPlusC99_put(v63, v64, v65, &v66, &v67);
			TUP* v68;
			TUP* v69;
			mw_mirth_c99_ZPlusC99_line(v66, v67, &v68, &v69);
			v69->cells[3] = MKBOOL(v46);
			branch_ZPlusC99Branch_37->cells[0] = MKTUP(v69, 6);
			TUP* v70;
			TUP* v71;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v68, branch_ZPlusC99Branch_37, v61, &v70, &v71);
			branch_ZPlusC99Branch_9 = v71;
			branch_ZPlusMirth_8 = v70;
		} break;
		case 3LL: { // +ConsLabel
			VAL v72;
			TUP* v73;
			uint64_t v74 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_3, &v72, &v73);
			TUP* v75;
			TUP* v76;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v72, in_Bool_4, in_List_5, &v75, &v76);
			VAL v77 = v73->cells[0];
			incref(v77);
			TUP* v78;
			TUP* v79;
			TUP* v80;
			mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp22(v73, v75, v76, v77, &v78, &v79, &v80);
			TUP* v81;
			bool v82 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v78, v74, &v81);
			TUP* branch_ZPlusMirth_83;
			TUP* branch_ZPlusC99Branch_84;
			if (v82) {
				TUP* v85;
				mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v80, &v85);
				TUP* v86;
				TUP* v87;
				mw_mirth_c99_pushZ_resourceZ_labelZBang(v81, v79, v74, v85, &v86, &v87);
				branch_ZPlusC99Branch_84 = v87;
				branch_ZPlusMirth_83 = v86;
			} else {
				TUP* v88;
				TUP* v89;
				mw_mirth_c99_pushZ_valueZ_labelZBang(v81, v79, v74, v80, &v88, &v89);
				branch_ZPlusC99Branch_84 = v89;
				branch_ZPlusMirth_83 = v88;
			}
			branch_ZPlusC99Branch_9 = branch_ZPlusC99Branch_84;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_83;
		} break;
		case 4LL: { // +WithLabel
			VAL v90;
			TUP* v91;
			uint64_t v92 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_3, &v90, &v91);
			TUP* v93;
			TUP* v94;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusMirth_1, in_ZPlusC99_2, v90, in_Bool_4, in_List_5, &v93, &v94);
			VAL v95 = v91->cells[0];
			incref(v95);
			incref(v95);
			int64_t v96 = get_data_tag(v95);
			decref(v95);
			INT v97 = WRAP_I63(0LL);
			INT v98 = i64_to_int(v96);
			bool v99 = int_eq(v98, v97);
			bool v100 = !v99;
			TUP* branch_ZPlusC99Resource_101;
			VAL branch_C99ReprType_102;
			bool branch_Bool_103;
			TUP* branch_ZPlusMirth_104;
			STR* branch_Str_105;
			TUP* branch_ZPlusC99Branch_106;
			if (v100) {
				TUP* v107 = value_tup(v94->cells[0], 6);
				TUP* v108;
				TUP* v109;
				STR* v110 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v93, v107, &v108, &v109);
				v94->cells[0] = MKTUP(v109, 6);
				branch_ZPlusC99Branch_106 = v94;
				branch_Str_105 = v110;
				branch_ZPlusMirth_104 = v108;
				branch_Bool_103 = v100;
				branch_C99ReprType_102 = v95;
				branch_ZPlusC99Resource_101 = v91;
			} else {
				STR* v111;
				STRLIT(v111, "0", 1);
				branch_ZPlusC99Branch_106 = v94;
				branch_Str_105 = v111;
				branch_ZPlusMirth_104 = v93;
				branch_Bool_103 = v100;
				branch_C99ReprType_102 = v95;
				branch_ZPlusC99Resource_101 = v91;
			}
			bool v112 = value_bool(branch_ZPlusC99Branch_106->cells[3]);
			bool v113 = (branch_Bool_103 && v112);
			TUP* v114 = value_tup(branch_ZPlusC99Branch_106->cells[0], 6);
			bool v115 = value_bool(v114->cells[3]);
			bool v116 = (v113 && v115);
			v114->cells[3] = MKBOOL(v116);
			TUP* v117;
			TUP* v118;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_104, v114, &v117, &v118);
			incref(branch_C99ReprType_102);
			STR* v119 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_102);
			TUP* v120;
			TUP* v121;
			mw_mirth_c99_ZPlusC99_put(v117, v118, v119, &v120, &v121);
			STR* v122;
			STRLIT(v122, " ", 1);
			TUP* v123;
			TUP* v124;
			mw_mirth_c99_ZPlusC99_put(v120, v121, v122, &v123, &v124);
			incref(MKSTR(branch_Str_105));
			TUP* v125;
			TUP* v126;
			mw_mirth_c99_ZPlusC99_put(v123, v124, branch_Str_105, &v125, &v126);
			STR* v127;
			STRLIT(v127, " = ", 3);
			TUP* v128;
			TUP* v129;
			mw_mirth_c99_ZPlusC99_put(v125, v126, v127, &v128, &v129);
			TUP* v130;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_102, branch_Str_105, &v130);
			STR* v131 = mw_mirth_c99_ZPlusC99Resource_consume(branch_ZPlusC99Resource_101);
			TUP* v132;
			TUP* v133;
			mw_mirth_c99_ZPlusC99_put(v128, v129, v131, &v132, &v133);
			STR* v134;
			STRLIT(v134, ";", 1);
			TUP* v135;
			TUP* v136;
			mw_mirth_c99_ZPlusC99_put(v132, v133, v134, &v135, &v136);
			TUP* v137;
			TUP* v138;
			mw_mirth_c99_ZPlusC99_line(v135, v136, &v137, &v138);
			v138->cells[3] = MKBOOL(v115);
			branch_ZPlusC99Branch_106->cells[0] = MKTUP(v138, 6);
			TUP* v139;
			bool v140 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v137, v92, &v139);
			TUP* branch_ZPlusMirth_141;
			TUP* branch_ZPlusC99Branch_142;
			if (v140) {
				TUP* v143;
				mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v130, &v143);
				TUP* v144;
				TUP* v145;
				mw_mirth_c99_pushZ_resourceZ_labelZBang(v139, branch_ZPlusC99Branch_106, v92, v143, &v144, &v145);
				branch_ZPlusC99Branch_142 = v145;
				branch_ZPlusMirth_141 = v144;
			} else {
				TUP* v146;
				TUP* v147;
				mw_mirth_c99_pushZ_valueZ_labelZBang(v139, branch_ZPlusC99Branch_106, v92, v130, &v146, &v147);
				branch_ZPlusC99Branch_142 = v147;
				branch_ZPlusMirth_141 = v146;
			}
			branch_ZPlusC99Branch_9 = branch_ZPlusC99Branch_142;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_141;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_7 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_6 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* branch_ZPlusMirth_6;
	TUP* branch_ZPlusC99Branch_7;
	switch (get_data_tag(in_ZPlusC99Stack_3)) {
		case 0LL: { // +Nil
			TUP* v8;
			TUP* v9;
			mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v8, &v9);
			branch_ZPlusC99Branch_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // +Cons
			VAL v10;
			TUP* v11;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_3, &v10, &v11);
			VAL v12 = v11->cells[0];
			incref(v12);
			incref(v12);
			TUP* v13;
			TUP* v14;
			TUP* v15;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v12, &v13, &v14, &v15);
			STR* v16 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v12, v15);
			STR* v17 = value_str(v11->cells[1]);
			incref(MKSTR(v17));
			VAL v18 = v11->cells[0];
			incref(v18);
			int64_t v19 = get_data_tag(v18);
			decref(v18);
			INT v20 = WRAP_I63(0LL);
			INT v21 = i64_to_int(v19);
			bool v22 = int_eq(v21, v20);
			bool v23 = !v22;
			bool v24 = value_bool(v14->cells[3]);
			bool v25 = (v23 && v24);
			TUP* v26 = value_tup(v14->cells[0], 6);
			bool v27 = value_bool(v26->cells[3]);
			bool v28 = (v25 && v27);
			v26->cells[3] = MKBOOL(v28);
			TUP* v29;
			TUP* v30;
			mw_mirth_c99_ZPlusC99_indent(v13, v26, &v29, &v30);
			TUP* v31;
			TUP* v32;
			mw_mirth_c99_ZPlusC99_put(v29, v30, v17, &v31, &v32);
			STR* v33;
			STRLIT(v33, " = ", 3);
			TUP* v34;
			TUP* v35;
			mw_mirth_c99_ZPlusC99_put(v31, v32, v33, &v34, &v35);
			TUP* v36;
			TUP* v37;
			mw_mirth_c99_ZPlusC99_put(v34, v35, v16, &v36, &v37);
			STR* v38;
			STRLIT(v38, ";", 1);
			TUP* v39;
			TUP* v40;
			mw_mirth_c99_ZPlusC99_put(v36, v37, v38, &v39, &v40);
			TUP* v41;
			TUP* v42;
			mw_mirth_c99_ZPlusC99_line(v39, v40, &v41, &v42);
			v42->cells[3] = MKBOOL(v27);
			v14->cells[0] = MKTUP(v42, 6);
			TUP* v43;
			TUP* v44;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v41, v14, v10, &v43, &v44);
			TUP* v45;
			TUP* v46;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v43, v44, v11, &v45, &v46);
			branch_ZPlusC99Branch_7 = v46;
			branch_ZPlusMirth_6 = v45;
		} break;
		case 2LL: { // +With
			VAL v47;
			TUP* v48;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_3, &v47, &v48);
			VAL v49 = v48->cells[0];
			incref(v49);
			incref(v49);
			TUP* v50;
			TUP* v51;
			TUP* v52;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v49, &v50, &v51, &v52);
			TUP* v53;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v52, &v53);
			STR* v54 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v49, v53);
			STR* v55 = value_str(v48->cells[1]);
			incref(MKSTR(v55));
			VAL v56 = v48->cells[0];
			incref(v56);
			int64_t v57 = get_data_tag(v56);
			decref(v56);
			INT v58 = WRAP_I63(0LL);
			INT v59 = i64_to_int(v57);
			bool v60 = int_eq(v59, v58);
			bool v61 = !v60;
			bool v62 = value_bool(v51->cells[3]);
			bool v63 = (v61 && v62);
			TUP* v64 = value_tup(v51->cells[0], 6);
			bool v65 = value_bool(v64->cells[3]);
			bool v66 = (v63 && v65);
			v64->cells[3] = MKBOOL(v66);
			TUP* v67;
			TUP* v68;
			mw_mirth_c99_ZPlusC99_indent(v50, v64, &v67, &v68);
			TUP* v69;
			TUP* v70;
			mw_mirth_c99_ZPlusC99_put(v67, v68, v55, &v69, &v70);
			STR* v71;
			STRLIT(v71, " = ", 3);
			TUP* v72;
			TUP* v73;
			mw_mirth_c99_ZPlusC99_put(v69, v70, v71, &v72, &v73);
			TUP* v74;
			TUP* v75;
			mw_mirth_c99_ZPlusC99_put(v72, v73, v54, &v74, &v75);
			STR* v76;
			STRLIT(v76, ";", 1);
			TUP* v77;
			TUP* v78;
			mw_mirth_c99_ZPlusC99_put(v74, v75, v76, &v77, &v78);
			TUP* v79;
			TUP* v80;
			mw_mirth_c99_ZPlusC99_line(v77, v78, &v79, &v80);
			v80->cells[3] = MKBOOL(v65);
			v51->cells[0] = MKTUP(v80, 6);
			TUP* v81;
			TUP* v82;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v79, v51, v47, &v81, &v82);
			TUP* v83;
			TUP* v84;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v81, v82, v48, &v83, &v84);
			branch_ZPlusC99Branch_7 = v84;
			branch_ZPlusMirth_6 = v83;
		} break;
		case 3LL: { // +ConsLabel
			VAL v85;
			TUP* v86;
			uint64_t v87 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_3, &v85, &v86);
			VAL v88 = v86->cells[0];
			incref(v88);
			incref(v88);
			TUP* v89;
			TUP* v90;
			TUP* v91;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v88, v87, &v89, &v90, &v91);
			STR* v92 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v88, v91);
			STR* v93 = value_str(v86->cells[1]);
			incref(MKSTR(v93));
			VAL v94 = v86->cells[0];
			incref(v94);
			int64_t v95 = get_data_tag(v94);
			decref(v94);
			INT v96 = WRAP_I63(0LL);
			INT v97 = i64_to_int(v95);
			bool v98 = int_eq(v97, v96);
			bool v99 = !v98;
			bool v100 = value_bool(v90->cells[3]);
			bool v101 = (v99 && v100);
			TUP* v102 = value_tup(v90->cells[0], 6);
			bool v103 = value_bool(v102->cells[3]);
			bool v104 = (v101 && v103);
			v102->cells[3] = MKBOOL(v104);
			TUP* v105;
			TUP* v106;
			mw_mirth_c99_ZPlusC99_indent(v89, v102, &v105, &v106);
			TUP* v107;
			TUP* v108;
			mw_mirth_c99_ZPlusC99_put(v105, v106, v93, &v107, &v108);
			STR* v109;
			STRLIT(v109, " = ", 3);
			TUP* v110;
			TUP* v111;
			mw_mirth_c99_ZPlusC99_put(v107, v108, v109, &v110, &v111);
			TUP* v112;
			TUP* v113;
			mw_mirth_c99_ZPlusC99_put(v110, v111, v92, &v112, &v113);
			STR* v114;
			STRLIT(v114, ";", 1);
			TUP* v115;
			TUP* v116;
			mw_mirth_c99_ZPlusC99_put(v112, v113, v114, &v115, &v116);
			TUP* v117;
			TUP* v118;
			mw_mirth_c99_ZPlusC99_line(v115, v116, &v117, &v118);
			v118->cells[3] = MKBOOL(v103);
			v90->cells[0] = MKTUP(v118, 6);
			TUP* v119;
			TUP* v120;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v117, v90, v85, &v119, &v120);
			TUP* v121;
			TUP* v122;
			mw_mirth_c99_pushZ_valueZ_labelZBang(v119, v120, v87, v86, &v121, &v122);
			branch_ZPlusC99Branch_7 = v122;
			branch_ZPlusMirth_6 = v121;
		} break;
		case 4LL: { // +WithLabel
			VAL v123;
			TUP* v124;
			uint64_t v125 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_3, &v123, &v124);
			VAL v126 = v124->cells[0];
			incref(v126);
			incref(v126);
			TUP* v127;
			TUP* v128;
			TUP* v129;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v126, v125, &v127, &v128, &v129);
			TUP* v130;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v129, &v130);
			STR* v131 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v126, v130);
			STR* v132 = value_str(v124->cells[1]);
			incref(MKSTR(v132));
			VAL v133 = v124->cells[0];
			incref(v133);
			int64_t v134 = get_data_tag(v133);
			decref(v133);
			INT v135 = WRAP_I63(0LL);
			INT v136 = i64_to_int(v134);
			bool v137 = int_eq(v136, v135);
			bool v138 = !v137;
			bool v139 = value_bool(v128->cells[3]);
			bool v140 = (v138 && v139);
			TUP* v141 = value_tup(v128->cells[0], 6);
			bool v142 = value_bool(v141->cells[3]);
			bool v143 = (v140 && v142);
			v141->cells[3] = MKBOOL(v143);
			TUP* v144;
			TUP* v145;
			mw_mirth_c99_ZPlusC99_indent(v127, v141, &v144, &v145);
			TUP* v146;
			TUP* v147;
			mw_mirth_c99_ZPlusC99_put(v144, v145, v132, &v146, &v147);
			STR* v148;
			STRLIT(v148, " = ", 3);
			TUP* v149;
			TUP* v150;
			mw_mirth_c99_ZPlusC99_put(v146, v147, v148, &v149, &v150);
			TUP* v151;
			TUP* v152;
			mw_mirth_c99_ZPlusC99_put(v149, v150, v131, &v151, &v152);
			STR* v153;
			STRLIT(v153, ";", 1);
			TUP* v154;
			TUP* v155;
			mw_mirth_c99_ZPlusC99_put(v151, v152, v153, &v154, &v155);
			TUP* v156;
			TUP* v157;
			mw_mirth_c99_ZPlusC99_line(v154, v155, &v156, &v157);
			v157->cells[3] = MKBOOL(v142);
			v128->cells[0] = MKTUP(v157, 6);
			TUP* v158;
			TUP* v159;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v156, v128, v123, &v158, &v159);
			TUP* v160;
			TUP* v161;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(v158, v159, v125, v124, &v160, &v161);
			branch_ZPlusC99Branch_7 = v161;
			branch_ZPlusMirth_6 = v160;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusMaybe_2, VAL *out_ZPlusC99Stack_3) {
	VAL branch_ZPlusMaybe_4;
	VAL branch_ZPlusC99Stack_5;
	switch (get_data_tag(in_ZPlusC99Stack_1)) {
		case 0LL: { // +Nil
			VAL v6 = MKI64(0LL /* +None */);
			VAL v7 = MKI64(0LL /* +Nil */);
			branch_ZPlusC99Stack_5 = v7;
			branch_ZPlusMaybe_4 = v6;
		} break;
		case 1LL: { // +Cons
			VAL v8;
			TUP* v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_1, &v8, &v9);
			VAL v10;
			mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v9, 2), &v10);
			branch_ZPlusC99Stack_5 = v8;
			branch_ZPlusMaybe_4 = v10;
		} break;
		case 2LL: { // +With
			VAL v11;
			TUP* v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_1, &v11, &v12);
			VAL v13;
			VAL v14;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v11, &v13, &v14);
			VAL v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v14, v12, &v15);
			branch_ZPlusC99Stack_5 = v15;
			branch_ZPlusMaybe_4 = v13;
		} break;
		case 3LL: { // +ConsLabel
			VAL v16;
			TUP* v17;
			uint64_t v18 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_1, &v16, &v17);
			VAL v19;
			VAL v20;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v16, &v19, &v20);
			VAL v21;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v20, v17, v18, &v21);
			branch_ZPlusC99Stack_5 = v21;
			branch_ZPlusMaybe_4 = v19;
		} break;
		case 4LL: { // +WithLabel
			VAL v22;
			TUP* v23;
			uint64_t v24 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_1, &v22, &v23);
			VAL v25;
			VAL v26;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v22, &v25, &v26);
			VAL v27;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v26, v23, v24, &v27);
			branch_ZPlusC99Stack_5 = v27;
			branch_ZPlusMaybe_4 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusMaybe_2 = branch_ZPlusMaybe_4;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusMaybe_2, VAL *out_ZPlusC99Stack_3) {
	VAL branch_ZPlusMaybe_4;
	VAL branch_ZPlusC99Stack_5;
	switch (get_data_tag(in_ZPlusC99Stack_1)) {
		case 0LL: { // +Nil
			VAL v6 = MKI64(0LL /* +None */);
			VAL v7 = MKI64(0LL /* +Nil */);
			branch_ZPlusC99Stack_5 = v7;
			branch_ZPlusMaybe_4 = v6;
		} break;
		case 2LL: { // +With
			VAL v8;
			TUP* v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_1, &v8, &v9);
			VAL v10;
			mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v9, 2), &v10);
			branch_ZPlusC99Stack_5 = v8;
			branch_ZPlusMaybe_4 = v10;
		} break;
		case 1LL: { // +Cons
			VAL v11;
			TUP* v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_1, &v11, &v12);
			VAL v13;
			VAL v14;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v11, &v13, &v14);
			VAL v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v14, v12, &v15);
			branch_ZPlusC99Stack_5 = v15;
			branch_ZPlusMaybe_4 = v13;
		} break;
		case 3LL: { // +ConsLabel
			VAL v16;
			TUP* v17;
			uint64_t v18 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_1, &v16, &v17);
			VAL v19;
			VAL v20;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v16, &v19, &v20);
			VAL v21;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v20, v17, v18, &v21);
			branch_ZPlusC99Stack_5 = v21;
			branch_ZPlusMaybe_4 = v19;
		} break;
		case 4LL: { // +WithLabel
			VAL v22;
			TUP* v23;
			uint64_t v24 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_1, &v22, &v23);
			VAL v25;
			VAL v26;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v22, &v25, &v26);
			VAL v27;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v26, v23, v24, &v27);
			branch_ZPlusC99Stack_5 = v27;
			branch_ZPlusMaybe_4 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusMaybe_2 = branch_ZPlusMaybe_4;
}
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk (uint64_t in_Label_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusMaybe_4, VAL *out_ZPlusC99Stack_5) {
	uint64_t branch_Label_6;
	VAL branch_ZPlusMaybe_7;
	VAL branch_ZPlusC99Stack_8;
	switch (get_data_tag(in_ZPlusC99Stack_2)) {
		case 0LL: { // +Nil
			VAL v9 = MKI64(0LL /* +None */);
			VAL v10 = MKI64(0LL /* +Nil */);
			branch_ZPlusC99Stack_8 = v10;
			branch_ZPlusMaybe_7 = v9;
			branch_Label_6 = in_Label_1;
		} break;
		case 1LL: { // +Cons
			VAL v11;
			TUP* v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_2, &v11, &v12);
			VAL v13;
			VAL v14;
			uint64_t v15 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_1, v11, &v13, &v14);
			VAL v16;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v14, v12, &v16);
			branch_ZPlusC99Stack_8 = v16;
			branch_ZPlusMaybe_7 = v13;
			branch_Label_6 = v15;
		} break;
		case 2LL: { // +With
			VAL v17;
			TUP* v18;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_2, &v17, &v18);
			VAL v19;
			VAL v20;
			uint64_t v21 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_1, v17, &v19, &v20);
			VAL v22;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v20, v18, &v22);
			branch_ZPlusC99Stack_8 = v22;
			branch_ZPlusMaybe_7 = v19;
			branch_Label_6 = v21;
		} break;
		case 4LL: { // +WithLabel
			VAL v23;
			TUP* v24;
			uint64_t v25 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_2, &v23, &v24);
			VAL v26;
			VAL v27;
			uint64_t v28 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_1, v23, &v26, &v27);
			VAL v29;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v27, v24, v25, &v29);
			branch_ZPlusC99Stack_8 = v29;
			branch_ZPlusMaybe_7 = v26;
			branch_Label_6 = v28;
		} break;
		case 3LL: { // +ConsLabel
			VAL v30;
			TUP* v31;
			uint64_t v32 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_2, &v30, &v31);
			bool v33 = mw_mirth_label_Label_ZEqual(in_Label_1, v32);
			uint64_t branch_Label_34;
			VAL branch_ZPlusMaybe_35;
			VAL branch_ZPlusC99Stack_36;
			if (v33) {
				VAL v37;
				mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v31, 2), &v37);
				branch_ZPlusC99Stack_36 = v30;
				branch_ZPlusMaybe_35 = v37;
				branch_Label_34 = in_Label_1;
			} else {
				VAL v38;
				VAL v39;
				uint64_t v40 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_1, v30, &v38, &v39);
				VAL v41;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v39, v31, v32, &v41);
				branch_ZPlusC99Stack_36 = v41;
				branch_ZPlusMaybe_35 = v38;
				branch_Label_34 = v40;
			}
			branch_ZPlusC99Stack_8 = branch_ZPlusC99Stack_36;
			branch_ZPlusMaybe_7 = branch_ZPlusMaybe_35;
			branch_Label_6 = branch_Label_34;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_5 = branch_ZPlusC99Stack_8;
	*out_ZPlusMaybe_4 = branch_ZPlusMaybe_7;
	return branch_Label_6;
}
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk (uint64_t in_Label_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusMaybe_4, VAL *out_ZPlusC99Stack_5) {
	uint64_t branch_Label_6;
	VAL branch_ZPlusMaybe_7;
	VAL branch_ZPlusC99Stack_8;
	switch (get_data_tag(in_ZPlusC99Stack_2)) {
		case 0LL: { // +Nil
			VAL v9 = MKI64(0LL /* +None */);
			VAL v10 = MKI64(0LL /* +Nil */);
			branch_ZPlusC99Stack_8 = v10;
			branch_ZPlusMaybe_7 = v9;
			branch_Label_6 = in_Label_1;
		} break;
		case 1LL: { // +Cons
			VAL v11;
			TUP* v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_2, &v11, &v12);
			VAL v13;
			VAL v14;
			uint64_t v15 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_1, v11, &v13, &v14);
			VAL v16;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v14, v12, &v16);
			branch_ZPlusC99Stack_8 = v16;
			branch_ZPlusMaybe_7 = v13;
			branch_Label_6 = v15;
		} break;
		case 2LL: { // +With
			VAL v17;
			TUP* v18;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_2, &v17, &v18);
			VAL v19;
			VAL v20;
			uint64_t v21 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_1, v17, &v19, &v20);
			VAL v22;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v20, v18, &v22);
			branch_ZPlusC99Stack_8 = v22;
			branch_ZPlusMaybe_7 = v19;
			branch_Label_6 = v21;
		} break;
		case 3LL: { // +ConsLabel
			VAL v23;
			TUP* v24;
			uint64_t v25 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_2, &v23, &v24);
			VAL v26;
			VAL v27;
			uint64_t v28 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_1, v23, &v26, &v27);
			VAL v29;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v27, v24, v25, &v29);
			branch_ZPlusC99Stack_8 = v29;
			branch_ZPlusMaybe_7 = v26;
			branch_Label_6 = v28;
		} break;
		case 4LL: { // +WithLabel
			VAL v30;
			TUP* v31;
			uint64_t v32 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_2, &v30, &v31);
			bool v33 = mw_mirth_label_Label_ZEqual(in_Label_1, v32);
			uint64_t branch_Label_34;
			VAL branch_ZPlusMaybe_35;
			VAL branch_ZPlusC99Stack_36;
			if (v33) {
				VAL v37;
				mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v31, 2), &v37);
				branch_ZPlusC99Stack_36 = v30;
				branch_ZPlusMaybe_35 = v37;
				branch_Label_34 = in_Label_1;
			} else {
				VAL v38;
				VAL v39;
				uint64_t v40 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_1, v30, &v38, &v39);
				VAL v41;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v39, v31, v32, &v41);
				branch_ZPlusC99Stack_36 = v41;
				branch_ZPlusMaybe_35 = v38;
				branch_Label_34 = v40;
			}
			branch_ZPlusC99Stack_8 = branch_ZPlusC99Stack_36;
			branch_ZPlusMaybe_7 = branch_ZPlusMaybe_35;
			branch_Label_6 = branch_Label_34;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_5 = branch_ZPlusC99Stack_8;
	*out_ZPlusMaybe_4 = branch_ZPlusMaybe_7;
	return branch_Label_6;
}
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* branch_ZPlusMirth_6;
	TUP* branch_ZPlusC99Branch_7;
	switch (get_data_tag(in_ZPlusC99Stack_3)) {
		case 0LL: { // +Nil
			branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // +Cons
			VAL v8;
			TUP* v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_3, &v8, &v9);
			TUP* v10;
			TUP* v11;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v8, &v10, &v11);
			TUP* v12;
			TUP* v13;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang(v10, v11, v9, &v12, &v13);
			branch_ZPlusC99Branch_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // +With
			VAL v14;
			TUP* v15;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_3, &v14, &v15);
			TUP* v16;
			TUP* v17;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v14, &v16, &v17);
			TUP* v18;
			TUP* v19;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang(v16, v17, v15, &v18, &v19);
			branch_ZPlusC99Branch_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 3LL: { // +ConsLabel
			VAL v20;
			TUP* v21;
			uint64_t v22 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_3, &v20, &v21);
			TUP* v23;
			TUP* v24;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v20, &v23, &v24);
			TUP* v25;
			TUP* v26;
			mw_mirth_c99_pushZ_valueZ_labelZ_directZBang(v23, v24, v22, v21, &v25, &v26);
			branch_ZPlusC99Branch_7 = v26;
			branch_ZPlusMirth_6 = v25;
		} break;
		case 4LL: { // +WithLabel
			VAL v27;
			TUP* v28;
			uint64_t v29 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_3, &v27, &v28);
			TUP* v30;
			TUP* v31;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v27, &v30, &v31);
			TUP* v32;
			TUP* v33;
			mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang(v30, v31, v29, v28, &v32, &v33);
			branch_ZPlusC99Branch_7 = v33;
			branch_ZPlusMirth_6 = v32;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_ZPlusC99Stack_rdup (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, VAL *out_ZPlusC99Stack_3) {
	VAL branch_ZPlusC99Stack_4;
	VAL branch_ZPlusC99Stack_5;
	switch (get_data_tag(in_ZPlusC99Stack_1)) {
		case 0LL: { // +Nil
			VAL v6 = MKI64(0LL /* +Nil */);
			VAL v7 = MKI64(0LL /* +Nil */);
			branch_ZPlusC99Stack_5 = v7;
			branch_ZPlusC99Stack_4 = v6;
		} break;
		case 1LL: { // +Cons
			VAL v8;
			TUP* v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_1, &v8, &v9);
			VAL v10;
			VAL v11;
			mw_mirth_c99_ZPlusC99Stack_rdup(v8, &v10, &v11);
			TUP* v12;
			TUP* v13;
			mw_mirth_c99_ZPlusC99Value_rdup(v9, &v12, &v13);
			VAL v14;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v11, v13, &v14);
			VAL v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v10, v12, &v15);
			branch_ZPlusC99Stack_5 = v14;
			branch_ZPlusC99Stack_4 = v15;
		} break;
		case 2LL: { // +With
			VAL v16;
			TUP* v17;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_1, &v16, &v17);
			VAL v18;
			VAL v19;
			mw_mirth_c99_ZPlusC99Stack_rdup(v16, &v18, &v19);
			TUP* v20;
			TUP* v21;
			mw_mirth_c99_ZPlusC99Resource_rdup(v17, &v20, &v21);
			VAL v22;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v19, v21, &v22);
			VAL v23;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v18, v20, &v23);
			branch_ZPlusC99Stack_5 = v22;
			branch_ZPlusC99Stack_4 = v23;
		} break;
		case 3LL: { // +ConsLabel
			VAL v24;
			TUP* v25;
			uint64_t v26 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_1, &v24, &v25);
			VAL v27;
			VAL v28;
			mw_mirth_c99_ZPlusC99Stack_rdup(v24, &v27, &v28);
			TUP* v29;
			TUP* v30;
			mw_mirth_c99_ZPlusC99Value_rdup(v25, &v29, &v30);
			VAL v31;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v28, v30, v26, &v31);
			VAL v32;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(v27, v29, v26, &v32);
			branch_ZPlusC99Stack_5 = v31;
			branch_ZPlusC99Stack_4 = v32;
		} break;
		case 4LL: { // +WithLabel
			VAL v33;
			TUP* v34;
			uint64_t v35 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_1, &v33, &v34);
			VAL v36;
			VAL v37;
			mw_mirth_c99_ZPlusC99Stack_rdup(v33, &v36, &v37);
			TUP* v38;
			TUP* v39;
			mw_mirth_c99_ZPlusC99Resource_rdup(v34, &v38, &v39);
			VAL v40;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v37, v39, v35, &v40);
			VAL v41;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(v36, v38, v35, &v41);
			branch_ZPlusC99Stack_5 = v40;
			branch_ZPlusC99Stack_4 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusC99Stack_2 = branch_ZPlusC99Stack_4;
}
static void mw_mirth_c99_ZPlusC99Stack_rdrop (VAL in_ZPlusC99Stack_1) {
	switch (get_data_tag(in_ZPlusC99Stack_1)) {
		case 0LL: { // +Nil
		} break;
		case 1LL: { // +Cons
			VAL v2;
			TUP* v3;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusCons(in_ZPlusC99Stack_1, &v2, &v3);
			mw_mirth_c99_ZPlusC99Value_rdrop(v3);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v2);
		} break;
		case 2LL: { // +With
			VAL v4;
			TUP* v5;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusWith(in_ZPlusC99Stack_1, &v4, &v5);
			mw_mirth_c99_ZPlusC99Resource_rdrop(v5);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v4);
		} break;
		case 3LL: { // +ConsLabel
			VAL v6;
			TUP* v7;
			uint64_t v8 = mtp_mirth_c99_ZPlusC99Stack_ZPlusConsLabel(in_ZPlusC99Stack_1, &v6, &v7);
			mw_mirth_c99_ZPlusC99Value_rdrop(v7);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v6);
		} break;
		case 4LL: { // +WithLabel
			VAL v9;
			TUP* v10;
			uint64_t v11 = mtp_mirth_c99_ZPlusC99Stack_ZPlusWithLabel(in_ZPlusC99Stack_1, &v9, &v10);
			mw_mirth_c99_ZPlusC99Resource_rdrop(v10);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
}
static void mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang (TUP* in_ZPlusMirth_1, VAL in_StackType_2, TUP* in_ZPlusC99Branch_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99BranchSplit_5) {
	int64_t v6 = 3LL /* Branch */;
	TUP* v7 = value_tup(in_ZPlusC99Branch_3->cells[0], 6);
	TUP* v8;
	TUP* v9;
	bool v10;
	VAL v11 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(in_ZPlusMirth_1, v7, in_StackType_2, v6, &v8, &v9, &v10);
	in_ZPlusC99Branch_3->cells[0] = MKTUP(v9, 6);
	incref(v11);
	bool v12 = true;
	TUP* v13 = v8;
	TUP* v14 = in_ZPlusC99Branch_3;
	VAL v15 = v11;
	bool v16 = v12;
	bool v17 = v12;
	while (v17) {
		TUP* v18 = v13;
		TUP* v19 = v14;
		VAL v20 = v15;
		bool v21 = v16;
		TUP* branch_ZPlusMirth_22;
		TUP* branch_ZPlusC99Branch_23;
		VAL branch_List_24;
		bool branch_Bool_25;
		switch (get_data_tag(v20)) {
			case 1LL: { // Cons
				VAL v26;
				VAL v27 = mtp_std_list_List_1_Cons(v20, &v26);
				TUP* v28;
				TUP* v29;
				mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang(v18, v19, value_tup(v27, 4), &v28, &v29);
				bool v30 = true;
				branch_Bool_25 = v30;
				branch_List_24 = v26;
				branch_ZPlusC99Branch_23 = v29;
				branch_ZPlusMirth_22 = v28;
			} break;
			case 0LL: { // Nil
				VAL v31 = MKI64(0LL /* Nil */);
				bool v32 = false;
				branch_Bool_25 = v32;
				branch_List_24 = v31;
				branch_ZPlusC99Branch_23 = v19;
				branch_ZPlusMirth_22 = v18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v17 = branch_Bool_25;
		v16 = branch_Bool_25;
		v15 = branch_List_24;
		v14 = branch_ZPlusC99Branch_23;
		v13 = branch_ZPlusMirth_22;
	}
	decref(v15);
	TUP* v33;
	VAL v34;
	VAL v35;
	bool v36;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v14, &v33, &v34, &v35, &v36);
	bool v37 = false;
	TUP* v38;
	mtw_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit(v33, v34, v35, v11, v36, v37, &v38);
	*out_ZPlusC99BranchSplit_5 = v38;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Branch_4) {
	TUP* v5;
	VAL v6;
	VAL v7;
	VAL v8;
	bool v9;
	bool v10;
	mtp_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit(in_ZPlusC99BranchSplit_2, &v5, &v6, &v7, &v8, &v9, &v10);
	mw_mirth_c99_ZPlusC99Stack_rdrop(v6);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(in_ZPlusMirth_1, v5, v10, v7, &v11, &v12);
	TUP* v13;
	TUP* v14;
	mw_std_list_List_1_for_1_sp14(v11, v12, v8, &v13, &v14);
	*out_ZPlusC99Branch_4 = v14;
	*out_ZPlusMirth_3 = v13;
}
static VAL mw_mirth_c99_ZPlusC99Branch_varZ_lookup (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v7 = in_ZPlusC99Branch_2->cells[2];
	incref(v7);
	VAL v8 = MKI64(0LL /* None */);
	bool v9 = true;
	uint64_t v10 = in_Var_3;
	VAL v11 = v8;
	VAL v12 = v7;
	bool v13 = v9;
	bool v14 = v9;
	while (v14) {
		uint64_t v15 = v10;
		VAL v16 = v11;
		VAL v17 = v12;
		bool v18 = v13;
		VAL v19;
		VAL v20 = mw_std_list_List_1_uncons(v17, &v19);
		uint64_t branch_Var_21;
		VAL branch_Maybe_22;
		VAL branch_List_23;
		bool branch_Bool_24;
		switch (get_data_tag(v20)) {
			case 1LL: { // Some
				VAL v25 = mtp_std_maybe_Maybe_1_Some(v20);
				incref(v25);
				uint64_t v26 = value_u64(VTUP(v25)->cells[0]);
				decref(v25);
				uint64_t v27 = mw_mirth_var_Var_index(v15);
				uint64_t v28 = mw_mirth_var_Var_index(v26);
				bool v29 = (v27 == v28);
				uint64_t branch_Var_30;
				VAL branch_Maybe_31;
				if (v29) {
					VAL v32 = mtw_std_maybe_Maybe_1_Some(v25);
					branch_Maybe_31 = v32;
					branch_Var_30 = v15;
				} else {
					decref(v25);
					VAL v33 = MKI64(0LL /* None */);
					branch_Maybe_31 = v33;
					branch_Var_30 = v15;
				}
				uint64_t branch_Var_34;
				VAL branch_Maybe_35;
				VAL branch_List_36;
				switch (get_data_tag(branch_Maybe_31)) {
					case 0LL: { // None
						branch_List_36 = v19;
						branch_Maybe_35 = v16;
						branch_Var_34 = branch_Var_30;
					} break;
					default: {
						decref(v19);
						decref(v16);
						VAL v37 = MKI64(0LL /* Nil */);
						branch_List_36 = v37;
						branch_Maybe_35 = branch_Maybe_31;
						branch_Var_34 = branch_Var_30;
					} break;
				}
				bool v38 = true;
				branch_Bool_24 = v38;
				branch_List_23 = branch_List_36;
				branch_Maybe_22 = branch_Maybe_35;
				branch_Var_21 = branch_Var_34;
			} break;
			case 0LL: { // None
				bool v39 = false;
				branch_Bool_24 = v39;
				branch_List_23 = v19;
				branch_Maybe_22 = v16;
				branch_Var_21 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_24;
		v13 = branch_Bool_24;
		v12 = branch_List_23;
		v11 = branch_Maybe_22;
		v10 = branch_Var_21;
	}
	decref(v12);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
	return v11;
}
static void mw_mirth_c99_ZPlusC99Branch_varZ_getZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6) {
	TUP* v7;
	TUP* v8;
	VAL v9 = mw_mirth_c99_ZPlusC99Branch_varZ_lookup(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Var_3, &v7, &v8);
	TUP* branch_ZPlusMirth_10;
	VAL branch_z_x1_11;
	VAL branch_z_x2_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x2_12 = v13;
			branch_z_x1_11 = MKTUP(v8, 4);
			branch_ZPlusMirth_10 = v7;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "[c99] variable unexpectedly missing from environment", 52);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v7, v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v17;
	STR* v18;
	VAL v19;
	mtp_mirth_c99_C99Var_C99Var(value_tup(branch_z_x2_12, 3), &v17, &v18, &v19);
	TUP* v20;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v19, v18, &v20);
	*out_ZPlusC99Value_6 = v20;
	*out_ZPlusC99Branch_5 = value_tup(branch_z_x1_11, 4);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6) {
	TUP* v7;
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99Branch_varZ_getZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Var_3, &v7, &v8, &v9);
	TUP* v10;
	TUP* v11;
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(v7, v8, v9, &v10, &v11, &v12, &v13);
	mw_mirth_c99_ZPlusC99Value_rdrop(v13);
	*out_ZPlusC99Value_6 = v12;
	*out_ZPlusC99Branch_5 = v11;
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* in_ZPlusC99Value_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	VAL v7;
	STR* v8;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_4, &v7, &v8);
	TUP* v9 = mtw_mirth_c99_C99Var_C99Var(in_Var_3, v8, v7);
	VAL v10 = in_ZPlusC99Branch_2->cells[2];
	incref(v10);
	VAL v11 = mw_std_list_List_1_cons(MKTUP(v9, 3), v10);
	VAL v12 = in_ZPlusC99Branch_2->cells[2];
	decref(v12);
	in_ZPlusC99Branch_2->cells[2] = v11;
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
}
static uint64_t mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Branch_4, TUP* *out_ZPlusC99Value_6) {
	VAL v7 = in_ZPlusC99Branch_2->cells[2];
	incref(v7);
	VAL v8;
	VAL v9 = mw_std_list_List_1_uncons(v7, &v8);
	VAL v10 = in_ZPlusC99Branch_2->cells[2];
	decref(v10);
	in_ZPlusC99Branch_2->cells[2] = v8;
	TUP* branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	VAL branch_z_x2_13;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x2_13 = v14;
			branch_z_x1_12 = MKTUP(in_ZPlusC99Branch_2, 4);
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v15;
			STRLIT(v15, "[c99] variable environment unexpectedly empty", 45);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v18;
	STR* v19;
	VAL v20;
	mtp_mirth_c99_C99Var_C99Var(value_tup(branch_z_x2_13, 3), &v18, &v19, &v20);
	TUP* v21;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v20, v19, &v21);
	*out_ZPlusC99Value_6 = v21;
	*out_ZPlusC99Branch_4 = value_tup(branch_z_x1_12, 4);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_11;
	return v18;
}
static void mw_mirth_c99_ZPlusC99_startZ_branchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, bool in_Bool_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	VAL v7 = MKI64(0LL /* +Nil */);
	TUP* v8;
	mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(in_ZPlusC99_2, v7, in_List_4, in_Bool_3, &v8);
	*out_ZPlusC99Branch_6 = v8;
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4, bool *out_Bool_5, VAL *out_List_6) {
	VAL v7 = in_ZPlusC99Branch_2->cells[1];
	VAL v8 = MKI64(0LL /* +Nil */);
	in_ZPlusC99Branch_2->cells[1] = v8;
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v7, &v9, &v10);
	TUP* v11;
	VAL v12;
	VAL v13;
	bool v14;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v10, &v11, &v12, &v13, &v14);
	mw_mirth_c99_ZPlusC99Stack_rdrop(v12);
	*out_List_6 = v13;
	*out_Bool_5 = v14;
	*out_ZPlusC99_4 = v11;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99Branch_4) {
	TUP* v5;
	TUP* v6;
	bool v7;
	VAL v8;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v5, &v6, &v7, &v8);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(v5, v6, v7, v8, &v9, &v10);
	*out_ZPlusC99Branch_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_6) {
	VAL v7 = in_ZPlusC99Branch_2->cells[1];
	VAL v8;
	VAL v9;
	mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v7, &v8, &v9);
	in_ZPlusC99Branch_2->cells[1] = v9;
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusC99Branch_11;
	TUP* branch_ZPlusC99Value_12;
	switch (get_data_tag(v8)) {
		case 1LL: { // +Some
			VAL v13;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v8, &v13);
			decref(in_C99ReprType_3);
			branch_ZPlusC99Value_12 = value_tup(v13, 2);
			branch_ZPlusC99Branch_11 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // +None
			TUP* v14;
			TUP* v15;
			TUP* v16;
			mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_3, &v14, &v15, &v16);
			branch_ZPlusC99Value_12 = v16;
			branch_ZPlusC99Branch_11 = v15;
			branch_ZPlusMirth_10 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Value_6 = branch_ZPlusC99Value_12;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Value_7) {
	VAL v8 = in_ZPlusC99Branch_2->cells[1];
	VAL v9;
	VAL v10;
	uint64_t v11 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_4, v8, &v9, &v10);
	in_ZPlusC99Branch_2->cells[1] = v10;
	TUP* branch_ZPlusMirth_12;
	TUP* branch_ZPlusC99Branch_13;
	TUP* branch_ZPlusC99Value_14;
	switch (get_data_tag(v9)) {
		case 1LL: { // +Some
			VAL v15;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v9, &v15);
			decref(in_C99ReprType_3);
			branch_ZPlusC99Value_14 = value_tup(v15, 2);
			branch_ZPlusC99Branch_13 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_12 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // +None
			TUP* v16;
			TUP* v17;
			TUP* v18;
			mw_mirth_c99_popZ_valueZ_labelZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_3, v11, &v16, &v17, &v18);
			branch_ZPlusC99Value_14 = v18;
			branch_ZPlusC99Branch_13 = v17;
			branch_ZPlusMirth_12 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Value_7 = branch_ZPlusC99Value_14;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_12;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Resource_6) {
	VAL v7 = in_ZPlusC99Branch_2->cells[1];
	VAL v8;
	VAL v9;
	mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v7, &v8, &v9);
	in_ZPlusC99Branch_2->cells[1] = v9;
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusC99Branch_11;
	TUP* branch_ZPlusC99Resource_12;
	switch (get_data_tag(v8)) {
		case 1LL: { // +Some
			VAL v13;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v8, &v13);
			decref(in_C99ReprType_3);
			branch_ZPlusC99Resource_12 = value_tup(v13, 2);
			branch_ZPlusC99Branch_11 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // +None
			TUP* v14;
			TUP* v15;
			TUP* v16;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_3, &v14, &v15, &v16);
			branch_ZPlusC99Resource_12 = v16;
			branch_ZPlusC99Branch_11 = v15;
			branch_ZPlusMirth_10 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Resource_6 = branch_ZPlusC99Resource_12;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_C99ReprType_3, uint64_t in_Label_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Resource_7) {
	VAL v8 = in_ZPlusC99Branch_2->cells[1];
	VAL v9;
	VAL v10;
	uint64_t v11 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_4, v8, &v9, &v10);
	in_ZPlusC99Branch_2->cells[1] = v10;
	TUP* branch_ZPlusMirth_12;
	TUP* branch_ZPlusC99Branch_13;
	TUP* branch_ZPlusC99Resource_14;
	switch (get_data_tag(v9)) {
		case 1LL: { // +Some
			VAL v15;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v9, &v15);
			decref(in_C99ReprType_3);
			branch_ZPlusC99Resource_14 = value_tup(v15, 2);
			branch_ZPlusC99Branch_13 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_12 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // +None
			TUP* v16;
			TUP* v17;
			TUP* v18;
			mw_mirth_c99_popZ_resourceZ_labelZ_directZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_3, v11, &v16, &v17, &v18);
			branch_ZPlusC99Resource_14 = v18;
			branch_ZPlusC99Branch_13 = v17;
			branch_ZPlusMirth_12 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Resource_7 = branch_ZPlusC99Resource_14;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_12;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = in_ZPlusC99Branch_2->cells[1];
	VAL v7;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusCons(v6, in_ZPlusC99Value_3, &v7);
	in_ZPlusC99Branch_2->cells[1] = v7;
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = in_ZPlusC99Branch_2->cells[1];
	VAL v7;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusWith(v6, in_ZPlusC99Resource_3, &v7);
	in_ZPlusC99Branch_2->cells[1] = v7;
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = in_ZPlusMirth_1;
}
static VAL mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_Type_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v7;
	VAL v8 = mw_mirth_type_Type_c99Z_repr(in_ZPlusMirth_1, in_Type_3, &v7);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static VAL mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_Resource_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v7;
	VAL v8 = mw_mirth_type_Resource_c99Z_repr(in_ZPlusMirth_1, in_Resource_3, &v7);
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	*out_ZPlusMirth_4 = v7;
	return v8;
}
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Value_7) {
	TUP* v8;
	VAL v9 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, in_StackType_3, &v8);
	TUP* v10;
	VAL v11 = mw_std_maybe_Maybe_1_unwrap_1_sp3(v8, v9, &v10);
	VAL v12 = value_tup(v11, 2)->cells[0];
	VAL v13 = value_tup(v11, 2)->cells[1];
	tup_decref_outer(value_tup(v11, 2),2);
	TUP* v14;
	TUP* v15;
	VAL v16 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v10, in_ZPlusC99Branch_2, v13, &v14, &v15);
	TUP* v17;
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v14, v15, v16, &v17, &v18, &v19);
	*out_ZPlusC99Value_7 = v19;
	*out_ZPlusC99Branch_5 = v18;
	*out_ZPlusMirth_4 = v17;
	return v12;
}
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, TUP* *out_ZPlusC99Resource_7) {
	TUP* v8;
	VAL v9 = mw_mirth_type_StackType_forceZ_withZAskZBang(in_ZPlusMirth_1, in_StackType_3, &v8);
	TUP* v10;
	VAL v11 = mw_std_maybe_Maybe_1_unwrap_1_sp3(v8, v9, &v10);
	VAL v12 = value_tup(v11, 2)->cells[0];
	VAL v13 = value_tup(v11, 2)->cells[1];
	tup_decref_outer(value_tup(v11, 2),2);
	TUP* v14;
	TUP* v15;
	VAL v16 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v10, in_ZPlusC99Branch_2, v13, &v14, &v15);
	TUP* v17;
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v14, v15, v16, &v17, &v18, &v19);
	*out_ZPlusC99Resource_7 = v19;
	*out_ZPlusC99Branch_5 = v18;
	*out_ZPlusMirth_4 = v17;
	return v12;
}
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, VAL in_StackType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Value_8) {
	TUP* v9;
	VAL v10 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(in_ZPlusMirth_1, in_Label_3, in_StackType_4, &v9);
	TUP* v11;
	VAL v12 = mw_std_maybe_Maybe_1_unwrap_1_sp3(v9, v10, &v11);
	VAL v13 = value_tup(v12, 2)->cells[0];
	VAL v14 = value_tup(v12, 2)->cells[1];
	tup_decref_outer(value_tup(v12, 2),2);
	TUP* v15;
	TUP* v16;
	VAL v17 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v11, in_ZPlusC99Branch_2, v14, &v15, &v16);
	TUP* v18;
	TUP* v19;
	TUP* v20;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v15, v16, v17, in_Label_3, &v18, &v19, &v20);
	*out_ZPlusC99Value_8 = v20;
	*out_ZPlusC99Branch_6 = v19;
	*out_ZPlusMirth_5 = v18;
	return v13;
}
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Label_3, VAL in_StackType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Resource_8) {
	TUP* v9;
	VAL v10 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(in_ZPlusMirth_1, in_Label_3, in_StackType_4, &v9);
	TUP* v11;
	VAL v12 = mw_std_maybe_Maybe_1_unwrap_1_sp3(v9, v10, &v11);
	VAL v13 = value_tup(v12, 2)->cells[0];
	VAL v14 = value_tup(v12, 2)->cells[1];
	tup_decref_outer(value_tup(v12, 2),2);
	TUP* v15;
	TUP* v16;
	VAL v17 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v11, in_ZPlusC99Branch_2, v14, &v15, &v16);
	TUP* v18;
	TUP* v19;
	TUP* v20;
	mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v15, v16, v17, in_Label_3, &v18, &v19, &v20);
	*out_ZPlusC99Resource_8 = v20;
	*out_ZPlusC99Branch_6 = v19;
	*out_ZPlusMirth_5 = v18;
	return v13;
}
static void mw_mirth_c99_c99Z_primZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Atom_3, int64_t in_Prim_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusC99Branch_8;
	switch (in_Prim_4) {
		case 0LL: { // Id
			decref(MKTUP(in_Atom_3, 8));
			branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // Drop
			VAL v9 = in_Atom_3->cells[5];
			incref(v9);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v10;
			TUP* v11;
			TUP* v12;
			VAL v13 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v9, &v10, &v11, &v12);
			decref(v13);
			TUP* v14;
			TUP* v15;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v10, v11, v12, &v14, &v15);
			branch_ZPlusC99Branch_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 1LL: { // Dup
			VAL v16 = in_Atom_3->cells[5];
			incref(v16);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v17;
			TUP* v18;
			TUP* v19;
			VAL v20 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v16, &v17, &v18, &v19);
			decref(v20);
			TUP* v21;
			TUP* v22;
			TUP* v23;
			TUP* v24;
			mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(v17, v18, v19, &v21, &v22, &v23, &v24);
			TUP* v25;
			TUP* v26;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v21, v22, v23, &v25, &v26);
			TUP* v27;
			TUP* v28;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v25, v26, v24, &v27, &v28);
			branch_ZPlusC99Branch_8 = v28;
			branch_ZPlusMirth_7 = v27;
		} break;
		case 3LL: { // Swap
			VAL v29 = in_Atom_3->cells[5];
			incref(v29);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v30;
			TUP* v31;
			TUP* v32;
			VAL v33 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v29, &v30, &v31, &v32);
			TUP* v34;
			TUP* v35;
			TUP* v36;
			VAL v37 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(v30, v31, v33, &v34, &v35, &v36);
			decref(v37);
			TUP* v38;
			TUP* v39;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v34, v35, v32, &v38, &v39);
			TUP* v40;
			TUP* v41;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v38, v39, v36, &v40, &v41);
			branch_ZPlusC99Branch_8 = v41;
			branch_ZPlusMirth_7 = v40;
		} break;
		case 4LL: { // RSwap
			VAL v42 = in_Atom_3->cells[5];
			incref(v42);
			decref(MKTUP(in_Atom_3, 8));
			TUP* v43;
			TUP* v44;
			TUP* v45;
			VAL v46 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v42, &v43, &v44, &v45);
			TUP* v47;
			TUP* v48;
			TUP* v49;
			VAL v50 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(v43, v44, v46, &v47, &v48, &v49);
			decref(v50);
			TUP* v51;
			TUP* v52;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v47, v48, v45, &v51, &v52);
			TUP* v53;
			TUP* v54;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v51, v52, v49, &v53, &v54);
			branch_ZPlusC99Branch_8 = v54;
			branch_ZPlusMirth_7 = v53;
		} break;
		case 5LL: { // Dip
			incref(MKTUP(in_Atom_3, 8));
			VAL v55 = in_Atom_3->cells[4];
			incref(v55);
			decref(MKTUP(in_Atom_3, 8));
			VAL v56 = mw_std_list_List_1_singleZAsk(v55);
			TUP* branch_ZPlusMirth_57;
			VAL branch_z_x1_58;
			TUP* branch_Atom_59;
			VAL branch_z_x2_60;
			switch (get_data_tag(v56)) {
				case 1LL: { // Some
					VAL v61 = mtp_std_maybe_Maybe_1_Some(v56);
					branch_z_x2_60 = v61;
					branch_Atom_59 = in_Atom_3;
					branch_z_x1_58 = MKTUP(in_ZPlusC99Branch_2, 4);
					branch_ZPlusMirth_57 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v62 = value_u64(in_Atom_3->cells[1]);
					decref(MKTUP(in_Atom_3, 8));
					STR* v63;
					STRLIT(v63, "unexpected number of arguments to Dip", 37);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v62, v63);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v67 = branch_Atom_59->cells[5];
			incref(v67);
			decref(MKTUP(branch_Atom_59, 8));
			TUP* v68;
			TUP* v69;
			TUP* v70;
			VAL v71 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(branch_ZPlusMirth_57, value_tup(branch_z_x1_58, 4), v67, &v68, &v69, &v70);
			decref(v71);
			TUP* v72;
			TUP* v73;
			mw_mirth_c99_c99Z_argZ_runZBang(v68, v69, value_u64(branch_z_x2_60), &v72, &v73);
			TUP* v74;
			TUP* v75;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v72, v73, v70, &v74, &v75);
			branch_ZPlusC99Branch_8 = v75;
			branch_ZPlusMirth_7 = v74;
		} break;
		case 6LL: { // RDip
			incref(MKTUP(in_Atom_3, 8));
			VAL v76 = in_Atom_3->cells[4];
			incref(v76);
			decref(MKTUP(in_Atom_3, 8));
			VAL v77 = mw_std_list_List_1_singleZAsk(v76);
			TUP* branch_ZPlusMirth_78;
			VAL branch_z_x1_79;
			TUP* branch_Atom_80;
			VAL branch_z_x2_81;
			switch (get_data_tag(v77)) {
				case 1LL: { // Some
					VAL v82 = mtp_std_maybe_Maybe_1_Some(v77);
					branch_z_x2_81 = v82;
					branch_Atom_80 = in_Atom_3;
					branch_z_x1_79 = MKTUP(in_ZPlusC99Branch_2, 4);
					branch_ZPlusMirth_78 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v83 = value_u64(in_Atom_3->cells[1]);
					decref(MKTUP(in_Atom_3, 8));
					STR* v84;
					STRLIT(v84, "unexpected number of arguments to RDip", 38);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v83, v84);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v88 = branch_Atom_80->cells[5];
			incref(v88);
			decref(MKTUP(branch_Atom_80, 8));
			TUP* v89;
			TUP* v90;
			TUP* v91;
			VAL v92 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(branch_ZPlusMirth_78, value_tup(branch_z_x1_79, 4), v88, &v89, &v90, &v91);
			decref(v92);
			TUP* v93;
			TUP* v94;
			mw_mirth_c99_c99Z_argZ_runZBang(v89, v90, value_u64(branch_z_x2_81), &v93, &v94);
			TUP* v95;
			TUP* v96;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v93, v94, v91, &v95, &v96);
			branch_ZPlusC99Branch_8 = v96;
			branch_ZPlusMirth_7 = v95;
		} break;
		case 7LL: { // If
			incref(MKTUP(in_Atom_3, 8));
			VAL v97 = in_Atom_3->cells[4];
			incref(v97);
			decref(MKTUP(in_Atom_3, 8));
			VAL v98 = mw_std_list_List_1_pairZAsk(v97);
			TUP* branch_ZPlusMirth_99;
			VAL branch_z_x1_100;
			TUP* branch_Atom_101;
			VAL branch_z_x2_102;
			switch (get_data_tag(v98)) {
				case 1LL: { // Some
					VAL v103 = mtp_std_maybe_Maybe_1_Some(v98);
					branch_z_x2_102 = v103;
					branch_Atom_101 = in_Atom_3;
					branch_z_x1_100 = MKTUP(in_ZPlusC99Branch_2, 4);
					branch_ZPlusMirth_99 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v104 = value_u64(in_Atom_3->cells[1]);
					decref(MKTUP(in_Atom_3, 8));
					STR* v105;
					STRLIT(v105, "unexpected number of arguments to If", 36);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v104, v105);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v109 = value_tup(branch_z_x2_102, 2)->cells[0];
			VAL v110 = value_tup(branch_z_x2_102, 2)->cells[1];
			tup_decref_outer(value_tup(branch_z_x2_102, 2),2);
			VAL v111 = MKI64(15LL /* Bool */);
			TUP* v112;
			TUP* v113;
			TUP* v114;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(branch_ZPlusMirth_99, value_tup(branch_z_x1_100, 4), v111, &v112, &v113, &v114);
			VAL v115 = branch_Atom_101->cells[6];
			incref(v115);
			decref(MKTUP(branch_Atom_101, 8));
			TUP* v116;
			TUP* v117;
			mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang(v112, v115, v113, &v116, &v117);
			bool v118 = value_bool(v117->cells[4]);
			TUP* v119 = value_tup(v117->cells[0], 6);
			bool v120 = value_bool(v119->cells[3]);
			bool v121 = (v118 && v120);
			v119->cells[3] = MKBOOL(v121);
			TUP* v122;
			TUP* v123;
			mw_mirth_c99_ZPlusC99_indent(v116, v119, &v122, &v123);
			STR* v124;
			STRLIT(v124, "if (", 4);
			TUP* v125;
			TUP* v126;
			mw_mirth_c99_ZPlusC99_put(v122, v123, v124, &v125, &v126);
			VAL v127 = MKI64(15LL /* Bool */);
			STR* v128 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v127, v114);
			TUP* v129;
			TUP* v130;
			mw_mirth_c99_ZPlusC99_put(v125, v126, v128, &v129, &v130);
			STR* v131;
			STRLIT(v131, ") {", 3);
			TUP* v132;
			TUP* v133;
			mw_mirth_c99_ZPlusC99_put(v129, v130, v131, &v132, &v133);
			TUP* v134;
			TUP* v135;
			mw_mirth_c99_ZPlusC99_line(v132, v133, &v134, &v135);
			v135->cells[3] = MKBOOL(v120);
			v117->cells[0] = MKTUP(v135, 6);
			TUP* v136 = value_tup(v117->cells[0], 6);
			INT v137 = value_int(v136->cells[1]);
			incref(MKINT(v137));
			INT v138 = WRAP_I63(1LL);
			INT v139 = int_add(v137, v138);
			INT v140 = value_int(v136->cells[1]);
			decref(MKINT(v140));
			v136->cells[1] = MKINT(v139);
			v117->cells[0] = MKTUP(v136, 6);
			VAL v141 = v117->cells[1];
			VAL v142;
			VAL v143;
			mw_mirth_c99_ZPlusC99Stack_rdup(v141, &v142, &v143);
			v117->cells[1] = v142;
			VAL v144 = v117->cells[3];
			incref(v144);
			bool v145 = value_bool(v117->cells[4]);
			VAL v146 = v117->cells[2];
			incref(v146);
			TUP* v147 = value_tup(v117->cells[0], 6);
			TUP* v148;
			mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v147, v143, v146, v145, &v148);
			TUP* v149;
			TUP* v150;
			mw_mirth_c99_c99Z_argZ_runZBang(v134, v148, value_u64(v109), &v149, &v150);
			TUP* v151;
			TUP* v152;
			mw_std_list_List_1_reverseZ_for_1_sp5(v149, v150, v144, &v151, &v152);
			TUP* v153;
			TUP* v154;
			bool v155;
			VAL v156;
			mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v151, v152, &v153, &v154, &v155, &v156);
			v117->cells[0] = MKTUP(v154, 6);
			decref(v156);
			bool v157 = value_bool(v117->cells[5]);
			bool v158 = (v155 || v157);
			v117->cells[5] = MKBOOL(v158);
			TUP* v159 = value_tup(v117->cells[0], 6);
			INT v160 = value_int(v159->cells[1]);
			incref(MKINT(v160));
			INT v161 = WRAP_I63(1LL);
			INT v162 = int_sub(v160, v161);
			incref(MKINT(v162));
			INT v163 = WRAP_I63(0LL);
			bool v164 = int_le(v163, v162);
			INT branch_Nat_165;
			if (v164) {
				branch_Nat_165 = v162;
			} else {
				decref(MKINT(v162));
				INT v166 = WRAP_I63(0LL);
				branch_Nat_165 = v166;
			}
			INT v167 = value_int(v159->cells[1]);
			decref(MKINT(v167));
			v159->cells[1] = MKINT(branch_Nat_165);
			v117->cells[0] = MKTUP(v159, 6);
			bool v168 = value_bool(v117->cells[4]);
			TUP* v169 = value_tup(v117->cells[0], 6);
			bool v170 = value_bool(v169->cells[3]);
			bool v171 = (v168 && v170);
			v169->cells[3] = MKBOOL(v171);
			TUP* v172;
			TUP* v173;
			mw_mirth_c99_ZPlusC99_indent(v153, v169, &v172, &v173);
			STR* v174;
			STRLIT(v174, "} else {", 8);
			TUP* v175;
			TUP* v176;
			mw_mirth_c99_ZPlusC99_put(v172, v173, v174, &v175, &v176);
			TUP* v177;
			TUP* v178;
			mw_mirth_c99_ZPlusC99_line(v175, v176, &v177, &v178);
			v178->cells[3] = MKBOOL(v170);
			v117->cells[0] = MKTUP(v178, 6);
			TUP* v179 = value_tup(v117->cells[0], 6);
			INT v180 = value_int(v179->cells[1]);
			incref(MKINT(v180));
			INT v181 = WRAP_I63(1LL);
			INT v182 = int_add(v180, v181);
			INT v183 = value_int(v179->cells[1]);
			decref(MKINT(v183));
			v179->cells[1] = MKINT(v182);
			v117->cells[0] = MKTUP(v179, 6);
			VAL v184 = v117->cells[1];
			VAL v185;
			VAL v186;
			mw_mirth_c99_ZPlusC99Stack_rdup(v184, &v185, &v186);
			v117->cells[1] = v185;
			VAL v187 = v117->cells[3];
			incref(v187);
			bool v188 = value_bool(v117->cells[4]);
			VAL v189 = v117->cells[2];
			incref(v189);
			TUP* v190 = value_tup(v117->cells[0], 6);
			TUP* v191;
			mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v190, v186, v189, v188, &v191);
			TUP* v192;
			TUP* v193;
			mw_mirth_c99_c99Z_argZ_runZBang(v177, v191, value_u64(v110), &v192, &v193);
			TUP* v194;
			TUP* v195;
			mw_std_list_List_1_reverseZ_for_1_sp5(v192, v193, v187, &v194, &v195);
			TUP* v196;
			TUP* v197;
			bool v198;
			VAL v199;
			mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v194, v195, &v196, &v197, &v198, &v199);
			v117->cells[0] = MKTUP(v197, 6);
			decref(v199);
			bool v200 = value_bool(v117->cells[5]);
			bool v201 = (v198 || v200);
			v117->cells[5] = MKBOOL(v201);
			TUP* v202 = value_tup(v117->cells[0], 6);
			INT v203 = value_int(v202->cells[1]);
			incref(MKINT(v203));
			INT v204 = WRAP_I63(1LL);
			INT v205 = int_sub(v203, v204);
			incref(MKINT(v205));
			INT v206 = WRAP_I63(0LL);
			bool v207 = int_le(v206, v205);
			INT branch_Nat_208;
			if (v207) {
				branch_Nat_208 = v205;
			} else {
				decref(MKINT(v205));
				INT v209 = WRAP_I63(0LL);
				branch_Nat_208 = v209;
			}
			INT v210 = value_int(v202->cells[1]);
			decref(MKINT(v210));
			v202->cells[1] = MKINT(branch_Nat_208);
			v117->cells[0] = MKTUP(v202, 6);
			TUP* v211;
			TUP* v212;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(v196, v117, &v211, &v212);
			TUP* v213;
			TUP* v214;
			mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang(v211, v212, &v213, &v214);
			branch_ZPlusC99Branch_8 = v214;
			branch_ZPlusMirth_7 = v213;
		} break;
		case 8LL: { // While
			incref(MKTUP(in_Atom_3, 8));
			VAL v215 = in_Atom_3->cells[4];
			incref(v215);
			decref(MKTUP(in_Atom_3, 8));
			VAL v216 = mw_std_list_List_1_pairZAsk(v215);
			TUP* branch_ZPlusMirth_217;
			VAL branch_z_x1_218;
			TUP* branch_Atom_219;
			VAL branch_z_x2_220;
			switch (get_data_tag(v216)) {
				case 1LL: { // Some
					VAL v221 = mtp_std_maybe_Maybe_1_Some(v216);
					branch_z_x2_220 = v221;
					branch_Atom_219 = in_Atom_3;
					branch_z_x1_218 = MKTUP(in_ZPlusC99Branch_2, 4);
					branch_ZPlusMirth_217 = in_ZPlusMirth_1;
				} break;
				case 0LL: { // None
					uint64_t v222 = value_u64(in_Atom_3->cells[1]);
					decref(MKTUP(in_Atom_3, 8));
					STR* v223;
					STRLIT(v223, "unexpected number of arguments to While", 39);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v222, v223);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(MKTUP(branch_Atom_219, 8));
			VAL v227 = value_tup(branch_z_x2_220, 2)->cells[0];
			VAL v228 = value_tup(branch_z_x2_220, 2)->cells[1];
			tup_decref_outer(value_tup(branch_z_x2_220, 2),2);
			incref(v227);
			TUP* v229;
			TUP* v230;
			mw_mirth_c99_c99Z_argZ_runZBang(branch_ZPlusMirth_217, value_tup(branch_z_x1_218, 4), value_u64(v227), &v229, &v230);
			VAL v231 = MKI64(15LL /* Bool */);
			TUP* v232;
			TUP* v233;
			TUP* v234;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v229, v230, v231, &v232, &v233, &v234);
			TUP* v235;
			TUP* v236;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v232, v233, v234, &v235, &v236);
			TUP* v237;
			TUP* v238;
			mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang(v235, v236, &v237, &v238);
			VAL v239 = v238->cells[1];
			VAL v240;
			VAL v241;
			mw_mirth_c99_ZPlusC99Stack_rdup(v239, &v240, &v241);
			v238->cells[1] = v240;
			VAL v242 = MKI64(15LL /* Bool */);
			incref(v242);
			TUP* v243;
			TUP* v244;
			TUP* v245;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v237, v238, v242, &v243, &v244, &v245);
			STR* v246 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v242, v245);
			bool v247 = value_bool(v244->cells[3]);
			TUP* v248 = value_tup(v244->cells[0], 6);
			bool v249 = value_bool(v248->cells[3]);
			bool v250 = (v247 && v249);
			v248->cells[3] = MKBOOL(v250);
			TUP* v251;
			TUP* v252;
			mw_mirth_c99_ZPlusC99_indent(v243, v248, &v251, &v252);
			STR* v253;
			STRLIT(v253, "while (", 7);
			TUP* v254;
			TUP* v255;
			mw_mirth_c99_ZPlusC99_put(v251, v252, v253, &v254, &v255);
			TUP* v256;
			TUP* v257;
			mw_mirth_c99_ZPlusC99_put(v254, v255, v246, &v256, &v257);
			STR* v258;
			STRLIT(v258, ") {", 3);
			TUP* v259;
			TUP* v260;
			mw_mirth_c99_ZPlusC99_put(v256, v257, v258, &v259, &v260);
			TUP* v261;
			TUP* v262;
			mw_mirth_c99_ZPlusC99_line(v259, v260, &v261, &v262);
			v262->cells[3] = MKBOOL(v249);
			v244->cells[0] = MKTUP(v262, 6);
			TUP* v263 = value_tup(v244->cells[0], 6);
			INT v264 = value_int(v263->cells[1]);
			incref(MKINT(v264));
			INT v265 = WRAP_I63(1LL);
			INT v266 = int_add(v264, v265);
			INT v267 = value_int(v263->cells[1]);
			decref(MKINT(v267));
			v263->cells[1] = MKINT(v266);
			v244->cells[0] = MKTUP(v263, 6);
			TUP* v268;
			TUP* v269;
			mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang(v261, v244, &v268, &v269);
			TUP* v270;
			TUP* v271;
			mw_mirth_c99_c99Z_argZ_runZBang(v268, v269, value_u64(v228), &v270, &v271);
			TUP* v272;
			TUP* v273;
			mw_mirth_c99_c99Z_argZ_runZBang(v270, v271, value_u64(v227), &v272, &v273);
			TUP* v274;
			TUP* v275;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v272, v273, v241, &v274, &v275);
			TUP* v276 = value_tup(v275->cells[0], 6);
			INT v277 = value_int(v276->cells[1]);
			incref(MKINT(v277));
			INT v278 = WRAP_I63(1LL);
			INT v279 = int_sub(v277, v278);
			incref(MKINT(v279));
			INT v280 = WRAP_I63(0LL);
			bool v281 = int_le(v280, v279);
			INT branch_Nat_282;
			if (v281) {
				branch_Nat_282 = v279;
			} else {
				decref(MKINT(v279));
				INT v283 = WRAP_I63(0LL);
				branch_Nat_282 = v283;
			}
			INT v284 = value_int(v276->cells[1]);
			decref(MKINT(v284));
			v276->cells[1] = MKINT(branch_Nat_282);
			v275->cells[0] = MKTUP(v276, 6);
			bool v285 = value_bool(v275->cells[3]);
			TUP* v286 = value_tup(v275->cells[0], 6);
			TUP* v287;
			TUP* v288;
			mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23(v274, v285, v286, &v287, &v288);
			v275->cells[0] = MKTUP(v288, 6);
			VAL v289 = MKI64(15LL /* Bool */);
			TUP* v290;
			TUP* v291;
			TUP* v292;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v287, v275, v289, &v290, &v291, &v292);
			mw_mirth_c99_ZPlusC99Value_rdrop(v292);
			branch_ZPlusC99Branch_8 = v291;
			branch_ZPlusMirth_7 = v290;
		} break;
		case 9LL: { // Debug
			decref(MKTUP(in_Atom_3, 8));
			TUP* v293;
			TUP* v294;
			mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v293, &v294);
			bool v295 = value_bool(v294->cells[3]);
			TUP* v296 = value_tup(v294->cells[0], 6);
			bool v297 = value_bool(v296->cells[3]);
			bool v298 = (v295 && v297);
			v296->cells[3] = MKBOOL(v298);
			TUP* v299;
			TUP* v300;
			mw_mirth_c99_ZPlusC99_indent(v293, v296, &v299, &v300);
			STR* v301;
			STRLIT(v301, "trace_stack();", 14);
			TUP* v302;
			TUP* v303;
			mw_mirth_c99_ZPlusC99_put(v299, v300, v301, &v302, &v303);
			TUP* v304;
			TUP* v305;
			mw_mirth_c99_ZPlusC99_line(v302, v303, &v304, &v305);
			v305->cells[3] = MKBOOL(v297);
			v294->cells[0] = MKTUP(v305, 6);
			branch_ZPlusC99Branch_8 = v294;
			branch_ZPlusMirth_7 = v304;
		} break;
		case 10LL: { // Panic
			decref(MKTUP(in_Atom_3, 8));
			VAL v306 = MKI64(2LL /* STR */);
			incref(v306);
			TUP* v307;
			TUP* v308;
			TUP* v309;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v306, &v307, &v308, &v309);
			STR* v310 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v306, v309);
			bool v311 = value_bool(v308->cells[3]);
			TUP* v312 = value_tup(v308->cells[0], 6);
			bool v313 = value_bool(v312->cells[3]);
			bool v314 = (v311 && v313);
			v312->cells[3] = MKBOOL(v314);
			TUP* v315;
			TUP* v316;
			mw_mirth_c99_ZPlusC99_indent(v307, v312, &v315, &v316);
			STR* v317;
			STRLIT(v317, "do_panic(", 9);
			TUP* v318;
			TUP* v319;
			mw_mirth_c99_ZPlusC99_put(v315, v316, v317, &v318, &v319);
			TUP* v320;
			TUP* v321;
			mw_mirth_c99_ZPlusC99_put(v318, v319, v310, &v320, &v321);
			STR* v322;
			STRLIT(v322, ");", 2);
			TUP* v323;
			TUP* v324;
			mw_mirth_c99_ZPlusC99_put(v320, v321, v322, &v323, &v324);
			TUP* v325;
			TUP* v326;
			mw_mirth_c99_ZPlusC99_line(v323, v324, &v325, &v326);
			v326->cells[3] = MKBOOL(v313);
			v308->cells[0] = MKTUP(v326, 6);
			VAL v327 = v308->cells[1];
			mw_mirth_c99_ZPlusC99Stack_rdrop(v327);
			VAL v328 = MKI64(0LL /* +Nil */);
			v308->cells[1] = v328;
			bool v329 = false;
			v308->cells[3] = MKBOOL(v329);
			branch_ZPlusC99Branch_8 = v308;
			branch_ZPlusMirth_7 = v325;
		} break;
		case 11LL: { // Run
			incref(MKTUP(in_Atom_3, 8));
			VAL v330 = in_Atom_3->cells[4];
			incref(v330);
			decref(MKTUP(in_Atom_3, 8));
			bool v331 = mw_std_list_List_1_emptyZAsk(v330);
			TUP* branch_ZPlusMirth_332;
			VAL branch_z_x1_333;
			TUP* branch_Atom_334;
			if (v331) {
				branch_Atom_334 = in_Atom_3;
				branch_z_x1_333 = MKTUP(in_ZPlusC99Branch_2, 4);
				branch_ZPlusMirth_332 = in_ZPlusMirth_1;
			} else {
				uint64_t v335 = value_u64(in_Atom_3->cells[1]);
				decref(MKTUP(in_Atom_3, 8));
				STR* v336;
				STRLIT(v336, "expected no arguments to prim-core-run", 38);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v335, v336);
			}
			decref(MKTUP(branch_Atom_334, 8));
			VAL v339 = MKI64(1LL /* VAL */);
			TUP* v340;
			TUP* v341;
			TUP* v342;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(branch_ZPlusMirth_332, value_tup(branch_z_x1_333, 4), v339, &v340, &v341, &v342);
			TUP* v343;
			TUP* v344;
			mw_mirth_c99_ZPlusC99Value_runZ_valueZBang(v340, v341, v342, &v343, &v344);
			branch_ZPlusC99Branch_8 = v344;
			branch_ZPlusMirth_7 = v343;
		} break;
		case 12LL: { // IntEq
			decref(MKTUP(in_Atom_3, 8));
			STR* v345;
			STRLIT(v345, "int_eq(", 7);
			VAL v346 = MKI64(4LL /* Int */);
			STR* v347;
			STRLIT(v347, ", ", 2);
			VAL v348 = MKI64(4LL /* Int */);
			STR* v349;
			STRLIT(v349, ")", 1);
			bool v350 = false;
			VAL v351 = MKI64(15LL /* Bool */);
			VAL v352 = mtw_std_maybe_Maybe_1_Some(v351);
			TUP* v353;
			TUP* v354;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v345, v346, v347, v348, v349, v350, v352, &v353, &v354);
			branch_ZPlusC99Branch_8 = v354;
			branch_ZPlusMirth_7 = v353;
		} break;
		case 13LL: { // IntLt
			decref(MKTUP(in_Atom_3, 8));
			STR* v355;
			STRLIT(v355, "int_lt(", 7);
			VAL v356 = MKI64(4LL /* Int */);
			STR* v357;
			STRLIT(v357, ", ", 2);
			VAL v358 = MKI64(4LL /* Int */);
			STR* v359;
			STRLIT(v359, ")", 1);
			bool v360 = false;
			VAL v361 = MKI64(15LL /* Bool */);
			VAL v362 = mtw_std_maybe_Maybe_1_Some(v361);
			TUP* v363;
			TUP* v364;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v355, v356, v357, v358, v359, v360, v362, &v363, &v364);
			branch_ZPlusC99Branch_8 = v364;
			branch_ZPlusMirth_7 = v363;
		} break;
		case 14LL: { // IntLe
			decref(MKTUP(in_Atom_3, 8));
			STR* v365;
			STRLIT(v365, "int_le(", 7);
			VAL v366 = MKI64(4LL /* Int */);
			STR* v367;
			STRLIT(v367, ", ", 2);
			VAL v368 = MKI64(4LL /* Int */);
			STR* v369;
			STRLIT(v369, ")", 1);
			bool v370 = false;
			VAL v371 = MKI64(15LL /* Bool */);
			VAL v372 = mtw_std_maybe_Maybe_1_Some(v371);
			TUP* v373;
			TUP* v374;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v365, v366, v367, v368, v369, v370, v372, &v373, &v374);
			branch_ZPlusC99Branch_8 = v374;
			branch_ZPlusMirth_7 = v373;
		} break;
		case 15LL: { // IntGt
			decref(MKTUP(in_Atom_3, 8));
			STR* v375;
			STRLIT(v375, "int_gt(", 7);
			VAL v376 = MKI64(4LL /* Int */);
			STR* v377;
			STRLIT(v377, ", ", 2);
			VAL v378 = MKI64(4LL /* Int */);
			STR* v379;
			STRLIT(v379, ")", 1);
			bool v380 = false;
			VAL v381 = MKI64(15LL /* Bool */);
			VAL v382 = mtw_std_maybe_Maybe_1_Some(v381);
			TUP* v383;
			TUP* v384;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v375, v376, v377, v378, v379, v380, v382, &v383, &v384);
			branch_ZPlusC99Branch_8 = v384;
			branch_ZPlusMirth_7 = v383;
		} break;
		case 16LL: { // IntGe
			decref(MKTUP(in_Atom_3, 8));
			STR* v385;
			STRLIT(v385, "int_ge(", 7);
			VAL v386 = MKI64(4LL /* Int */);
			STR* v387;
			STRLIT(v387, ", ", 2);
			VAL v388 = MKI64(4LL /* Int */);
			STR* v389;
			STRLIT(v389, ")", 1);
			bool v390 = false;
			VAL v391 = MKI64(15LL /* Bool */);
			VAL v392 = mtw_std_maybe_Maybe_1_Some(v391);
			TUP* v393;
			TUP* v394;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v385, v386, v387, v388, v389, v390, v392, &v393, &v394);
			branch_ZPlusC99Branch_8 = v394;
			branch_ZPlusMirth_7 = v393;
		} break;
		case 17LL: { // IntNe
			decref(MKTUP(in_Atom_3, 8));
			STR* v395;
			STRLIT(v395, "int_ne(", 7);
			VAL v396 = MKI64(4LL /* Int */);
			STR* v397;
			STRLIT(v397, ", ", 2);
			VAL v398 = MKI64(4LL /* Int */);
			STR* v399;
			STRLIT(v399, ")", 1);
			bool v400 = false;
			VAL v401 = MKI64(15LL /* Bool */);
			VAL v402 = mtw_std_maybe_Maybe_1_Some(v401);
			TUP* v403;
			TUP* v404;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v395, v396, v397, v398, v399, v400, v402, &v403, &v404);
			branch_ZPlusC99Branch_8 = v404;
			branch_ZPlusMirth_7 = v403;
		} break;
		case 18LL: { // IntAdd
			decref(MKTUP(in_Atom_3, 8));
			STR* v405;
			STRLIT(v405, "int_add(", 8);
			VAL v406 = MKI64(4LL /* Int */);
			STR* v407;
			STRLIT(v407, ", ", 2);
			VAL v408 = MKI64(4LL /* Int */);
			STR* v409;
			STRLIT(v409, ")", 1);
			bool v410 = false;
			VAL v411 = MKI64(4LL /* Int */);
			VAL v412 = mtw_std_maybe_Maybe_1_Some(v411);
			TUP* v413;
			TUP* v414;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v405, v406, v407, v408, v409, v410, v412, &v413, &v414);
			branch_ZPlusC99Branch_8 = v414;
			branch_ZPlusMirth_7 = v413;
		} break;
		case 19LL: { // IntSub
			decref(MKTUP(in_Atom_3, 8));
			STR* v415;
			STRLIT(v415, "int_sub(", 8);
			VAL v416 = MKI64(4LL /* Int */);
			STR* v417;
			STRLIT(v417, ", ", 2);
			VAL v418 = MKI64(4LL /* Int */);
			STR* v419;
			STRLIT(v419, ")", 1);
			bool v420 = false;
			VAL v421 = MKI64(4LL /* Int */);
			VAL v422 = mtw_std_maybe_Maybe_1_Some(v421);
			TUP* v423;
			TUP* v424;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v415, v416, v417, v418, v419, v420, v422, &v423, &v424);
			branch_ZPlusC99Branch_8 = v424;
			branch_ZPlusMirth_7 = v423;
		} break;
		case 20LL: { // IntMul
			decref(MKTUP(in_Atom_3, 8));
			STR* v425;
			STRLIT(v425, "int_mul(", 8);
			VAL v426 = MKI64(4LL /* Int */);
			STR* v427;
			STRLIT(v427, ", ", 2);
			VAL v428 = MKI64(4LL /* Int */);
			STR* v429;
			STRLIT(v429, ")", 1);
			bool v430 = false;
			VAL v431 = MKI64(4LL /* Int */);
			VAL v432 = mtw_std_maybe_Maybe_1_Some(v431);
			TUP* v433;
			TUP* v434;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v425, v426, v427, v428, v429, v430, v432, &v433, &v434);
			branch_ZPlusC99Branch_8 = v434;
			branch_ZPlusMirth_7 = v433;
		} break;
		case 21LL: { // IntDivMod
			VAL v435 = in_Atom_3->cells[4];
			incref(v435);
			decref(MKTUP(in_Atom_3, 8));
			STR* v436;
			STRLIT(v436, "int_divmod", 10);
			int64_t v437 = 21LL /* IntDivMod */;
			TUP* v438;
			TUP* v439 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v437, &v438);
			TUP* v440 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
			TUP* v441;
			TUP* v442;
			TUP* v443 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v438, v440, v436, v439, &v441, &v442);
			in_ZPlusC99Branch_2->cells[0] = MKTUP(v442, 6);
			TUP* v444;
			TUP* v445;
			mw_mirth_c99_c99Z_smartZ_callZBang(v441, in_ZPlusC99Branch_2, v435, v443, &v444, &v445);
			branch_ZPlusC99Branch_8 = v445;
			branch_ZPlusMirth_7 = v444;
		} break;
		case 24LL: { // IntToU64
			decref(MKTUP(in_Atom_3, 8));
			STR* v446;
			STRLIT(v446, "int_to_u64(", 11);
			VAL v447 = MKI64(4LL /* Int */);
			STR* v448;
			STRLIT(v448, ")", 1);
			VAL v449 = MKI64(9LL /* U64 */);
			VAL v450 = mtw_std_maybe_Maybe_1_Some(v449);
			TUP* v451;
			TUP* v452;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v446, v447, v448, v450, &v451, &v452);
			branch_ZPlusC99Branch_8 = v452;
			branch_ZPlusMirth_7 = v451;
		} break;
		case 23LL: { // IntToI64
			decref(MKTUP(in_Atom_3, 8));
			STR* v453;
			STRLIT(v453, "int_to_i64(", 11);
			VAL v454 = MKI64(4LL /* Int */);
			STR* v455;
			STRLIT(v455, ")", 1);
			VAL v456 = MKI64(5LL /* I64 */);
			VAL v457 = mtw_std_maybe_Maybe_1_Some(v456);
			TUP* v458;
			TUP* v459;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v453, v454, v455, v457, &v458, &v459);
			branch_ZPlusC99Branch_8 = v459;
			branch_ZPlusMirth_7 = v458;
		} break;
		case 25LL: { // IntToF32
			decref(MKTUP(in_Atom_3, 8));
			STR* v460;
			STRLIT(v460, "int_to_f32(", 11);
			VAL v461 = MKI64(4LL /* Int */);
			STR* v462;
			STRLIT(v462, ")", 1);
			VAL v463 = MKI64(14LL /* F32 */);
			VAL v464 = mtw_std_maybe_Maybe_1_Some(v463);
			TUP* v465;
			TUP* v466;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v460, v461, v462, v464, &v465, &v466);
			branch_ZPlusC99Branch_8 = v466;
			branch_ZPlusMirth_7 = v465;
		} break;
		case 26LL: { // IntToF64
			decref(MKTUP(in_Atom_3, 8));
			STR* v467;
			STRLIT(v467, "int_to_f64(", 11);
			VAL v468 = MKI64(4LL /* Int */);
			STR* v469;
			STRLIT(v469, ")", 1);
			VAL v470 = MKI64(13LL /* F64 */);
			VAL v471 = mtw_std_maybe_Maybe_1_Some(v470);
			TUP* v472;
			TUP* v473;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v467, v468, v469, v471, &v472, &v473);
			branch_ZPlusC99Branch_8 = v473;
			branch_ZPlusMirth_7 = v472;
		} break;
		case 22LL: { // IntToStr
			decref(MKTUP(in_Atom_3, 8));
			STR* v474;
			STRLIT(v474, "int_to_str(", 11);
			VAL v475 = MKI64(4LL /* Int */);
			STR* v476;
			STRLIT(v476, ")", 1);
			VAL v477 = MKI64(2LL /* STR */);
			VAL v478 = mtw_std_maybe_Maybe_1_Some(v477);
			TUP* v479;
			TUP* v480;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v474, v475, v476, v478, &v479, &v480);
			branch_ZPlusC99Branch_8 = v480;
			branch_ZPlusMirth_7 = v479;
		} break;
		case 27LL: { // U8Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v481;
			STRLIT(v481, "*(uint8_t*)", 11);
			VAL v482 = MKI64(16LL /* PTR */);
			STR* v483;
			STRLIT(v483, "", 0);
			VAL v484 = MKI64(12LL /* U8 */);
			VAL v485 = mtw_std_maybe_Maybe_1_Some(v484);
			TUP* v486;
			TUP* v487;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v481, v482, v483, v485, &v486, &v487);
			branch_ZPlusC99Branch_8 = v487;
			branch_ZPlusMirth_7 = v486;
		} break;
		case 28LL: { // U8Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v488;
			STRLIT(v488, "*(uint8_t*)", 11);
			VAL v489 = MKI64(16LL /* PTR */);
			STR* v490;
			STRLIT(v490, " = ", 3);
			VAL v491 = MKI64(12LL /* U8 */);
			STR* v492;
			STRLIT(v492, ";", 1);
			bool v493 = true;
			VAL v494 = MKI64(0LL /* None */);
			TUP* v495;
			TUP* v496;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v488, v489, v490, v491, v492, v493, v494, &v495, &v496);
			branch_ZPlusC99Branch_8 = v496;
			branch_ZPlusMirth_7 = v495;
		} break;
		case 29LL: { // U8ToU64
			decref(MKTUP(in_Atom_3, 8));
			STR* v497;
			STRLIT(v497, "(uint64_t)(", 11);
			VAL v498 = MKI64(12LL /* U8 */);
			STR* v499;
			STRLIT(v499, ")", 1);
			VAL v500 = MKI64(9LL /* U64 */);
			VAL v501 = mtw_std_maybe_Maybe_1_Some(v500);
			TUP* v502;
			TUP* v503;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v497, v498, v499, v501, &v502, &v503);
			branch_ZPlusC99Branch_8 = v503;
			branch_ZPlusMirth_7 = v502;
		} break;
		case 30LL: { // U16Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v504;
			STRLIT(v504, "*(uint16_t*)", 12);
			VAL v505 = MKI64(16LL /* PTR */);
			STR* v506;
			STRLIT(v506, "", 0);
			VAL v507 = MKI64(11LL /* U16 */);
			VAL v508 = mtw_std_maybe_Maybe_1_Some(v507);
			TUP* v509;
			TUP* v510;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v504, v505, v506, v508, &v509, &v510);
			branch_ZPlusC99Branch_8 = v510;
			branch_ZPlusMirth_7 = v509;
		} break;
		case 31LL: { // U16Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v511;
			STRLIT(v511, "*(uint16_t*)", 12);
			VAL v512 = MKI64(16LL /* PTR */);
			STR* v513;
			STRLIT(v513, " = ", 3);
			VAL v514 = MKI64(11LL /* U16 */);
			STR* v515;
			STRLIT(v515, ";", 1);
			bool v516 = true;
			VAL v517 = MKI64(0LL /* None */);
			TUP* v518;
			TUP* v519;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v511, v512, v513, v514, v515, v516, v517, &v518, &v519);
			branch_ZPlusC99Branch_8 = v519;
			branch_ZPlusMirth_7 = v518;
		} break;
		case 32LL: { // U16ToU64
			decref(MKTUP(in_Atom_3, 8));
			STR* v520;
			STRLIT(v520, "(uint64_t)(", 11);
			VAL v521 = MKI64(11LL /* U16 */);
			STR* v522;
			STRLIT(v522, ")", 1);
			VAL v523 = MKI64(9LL /* U64 */);
			VAL v524 = mtw_std_maybe_Maybe_1_Some(v523);
			TUP* v525;
			TUP* v526;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v520, v521, v522, v524, &v525, &v526);
			branch_ZPlusC99Branch_8 = v526;
			branch_ZPlusMirth_7 = v525;
		} break;
		case 33LL: { // U32Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v527;
			STRLIT(v527, "*(uint32_t*)", 12);
			VAL v528 = MKI64(16LL /* PTR */);
			STR* v529;
			STRLIT(v529, "", 0);
			VAL v530 = MKI64(10LL /* U32 */);
			VAL v531 = mtw_std_maybe_Maybe_1_Some(v530);
			TUP* v532;
			TUP* v533;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v527, v528, v529, v531, &v532, &v533);
			branch_ZPlusC99Branch_8 = v533;
			branch_ZPlusMirth_7 = v532;
		} break;
		case 34LL: { // U32Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v534;
			STRLIT(v534, "*(uint32_t*)", 12);
			VAL v535 = MKI64(16LL /* PTR */);
			STR* v536;
			STRLIT(v536, " = ", 3);
			VAL v537 = MKI64(10LL /* U32 */);
			STR* v538;
			STRLIT(v538, ";", 1);
			bool v539 = true;
			VAL v540 = MKI64(0LL /* None */);
			TUP* v541;
			TUP* v542;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v534, v535, v536, v537, v538, v539, v540, &v541, &v542);
			branch_ZPlusC99Branch_8 = v542;
			branch_ZPlusMirth_7 = v541;
		} break;
		case 35LL: { // U32ToU64
			decref(MKTUP(in_Atom_3, 8));
			STR* v543;
			STRLIT(v543, "(uint64_t)(", 11);
			VAL v544 = MKI64(10LL /* U32 */);
			STR* v545;
			STRLIT(v545, ")", 1);
			VAL v546 = MKI64(9LL /* U64 */);
			VAL v547 = mtw_std_maybe_Maybe_1_Some(v546);
			TUP* v548;
			TUP* v549;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v543, v544, v545, v547, &v548, &v549);
			branch_ZPlusC99Branch_8 = v549;
			branch_ZPlusMirth_7 = v548;
		} break;
		case 36LL: { // U64Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v550;
			STRLIT(v550, "*(uint64_t*)", 12);
			VAL v551 = MKI64(16LL /* PTR */);
			STR* v552;
			STRLIT(v552, "", 0);
			VAL v553 = MKI64(9LL /* U64 */);
			VAL v554 = mtw_std_maybe_Maybe_1_Some(v553);
			TUP* v555;
			TUP* v556;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v550, v551, v552, v554, &v555, &v556);
			branch_ZPlusC99Branch_8 = v556;
			branch_ZPlusMirth_7 = v555;
		} break;
		case 37LL: { // U64Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v557;
			STRLIT(v557, "*(uint64_t*)", 12);
			VAL v558 = MKI64(16LL /* PTR */);
			STR* v559;
			STRLIT(v559, " = ", 3);
			VAL v560 = MKI64(9LL /* U64 */);
			STR* v561;
			STRLIT(v561, ";", 1);
			bool v562 = true;
			VAL v563 = MKI64(0LL /* None */);
			TUP* v564;
			TUP* v565;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v557, v558, v559, v560, v561, v562, v563, &v564, &v565);
			branch_ZPlusC99Branch_8 = v565;
			branch_ZPlusMirth_7 = v564;
		} break;
		case 38LL: { // U64Eq
			decref(MKTUP(in_Atom_3, 8));
			STR* v566;
			STRLIT(v566, "(", 1);
			VAL v567 = MKI64(9LL /* U64 */);
			STR* v568;
			STRLIT(v568, " == ", 4);
			VAL v569 = MKI64(9LL /* U64 */);
			STR* v570;
			STRLIT(v570, ")", 1);
			bool v571 = false;
			VAL v572 = MKI64(15LL /* Bool */);
			VAL v573 = mtw_std_maybe_Maybe_1_Some(v572);
			TUP* v574;
			TUP* v575;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v566, v567, v568, v569, v570, v571, v573, &v574, &v575);
			branch_ZPlusC99Branch_8 = v575;
			branch_ZPlusMirth_7 = v574;
		} break;
		case 39LL: { // U64Lt
			decref(MKTUP(in_Atom_3, 8));
			STR* v576;
			STRLIT(v576, "(", 1);
			VAL v577 = MKI64(9LL /* U64 */);
			STR* v578;
			STRLIT(v578, " < ", 3);
			VAL v579 = MKI64(9LL /* U64 */);
			STR* v580;
			STRLIT(v580, ")", 1);
			bool v581 = false;
			VAL v582 = MKI64(15LL /* Bool */);
			VAL v583 = mtw_std_maybe_Maybe_1_Some(v582);
			TUP* v584;
			TUP* v585;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v576, v577, v578, v579, v580, v581, v583, &v584, &v585);
			branch_ZPlusC99Branch_8 = v585;
			branch_ZPlusMirth_7 = v584;
		} break;
		case 40LL: { // U64Le
			decref(MKTUP(in_Atom_3, 8));
			STR* v586;
			STRLIT(v586, "(", 1);
			VAL v587 = MKI64(9LL /* U64 */);
			STR* v588;
			STRLIT(v588, " <= ", 4);
			VAL v589 = MKI64(9LL /* U64 */);
			STR* v590;
			STRLIT(v590, ")", 1);
			bool v591 = false;
			VAL v592 = MKI64(15LL /* Bool */);
			VAL v593 = mtw_std_maybe_Maybe_1_Some(v592);
			TUP* v594;
			TUP* v595;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v586, v587, v588, v589, v590, v591, v593, &v594, &v595);
			branch_ZPlusC99Branch_8 = v595;
			branch_ZPlusMirth_7 = v594;
		} break;
		case 41LL: { // U64Gt
			decref(MKTUP(in_Atom_3, 8));
			STR* v596;
			STRLIT(v596, "(", 1);
			VAL v597 = MKI64(9LL /* U64 */);
			STR* v598;
			STRLIT(v598, " > ", 3);
			VAL v599 = MKI64(9LL /* U64 */);
			STR* v600;
			STRLIT(v600, ")", 1);
			bool v601 = false;
			VAL v602 = MKI64(15LL /* Bool */);
			VAL v603 = mtw_std_maybe_Maybe_1_Some(v602);
			TUP* v604;
			TUP* v605;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v596, v597, v598, v599, v600, v601, v603, &v604, &v605);
			branch_ZPlusC99Branch_8 = v605;
			branch_ZPlusMirth_7 = v604;
		} break;
		case 42LL: { // U64Ge
			decref(MKTUP(in_Atom_3, 8));
			STR* v606;
			STRLIT(v606, "(", 1);
			VAL v607 = MKI64(9LL /* U64 */);
			STR* v608;
			STRLIT(v608, " >= ", 4);
			VAL v609 = MKI64(9LL /* U64 */);
			STR* v610;
			STRLIT(v610, ")", 1);
			bool v611 = false;
			VAL v612 = MKI64(15LL /* Bool */);
			VAL v613 = mtw_std_maybe_Maybe_1_Some(v612);
			TUP* v614;
			TUP* v615;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v606, v607, v608, v609, v610, v611, v613, &v614, &v615);
			branch_ZPlusC99Branch_8 = v615;
			branch_ZPlusMirth_7 = v614;
		} break;
		case 43LL: { // U64Ne
			decref(MKTUP(in_Atom_3, 8));
			STR* v616;
			STRLIT(v616, "(", 1);
			VAL v617 = MKI64(9LL /* U64 */);
			STR* v618;
			STRLIT(v618, " != ", 4);
			VAL v619 = MKI64(9LL /* U64 */);
			STR* v620;
			STRLIT(v620, ")", 1);
			bool v621 = false;
			VAL v622 = MKI64(15LL /* Bool */);
			VAL v623 = mtw_std_maybe_Maybe_1_Some(v622);
			TUP* v624;
			TUP* v625;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v616, v617, v618, v619, v620, v621, v623, &v624, &v625);
			branch_ZPlusC99Branch_8 = v625;
			branch_ZPlusMirth_7 = v624;
		} break;
		case 44LL: { // U64Add
			decref(MKTUP(in_Atom_3, 8));
			STR* v626;
			STRLIT(v626, "(", 1);
			VAL v627 = MKI64(9LL /* U64 */);
			STR* v628;
			STRLIT(v628, " + ", 3);
			VAL v629 = MKI64(9LL /* U64 */);
			STR* v630;
			STRLIT(v630, ")", 1);
			bool v631 = false;
			VAL v632 = MKI64(9LL /* U64 */);
			VAL v633 = mtw_std_maybe_Maybe_1_Some(v632);
			TUP* v634;
			TUP* v635;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v626, v627, v628, v629, v630, v631, v633, &v634, &v635);
			branch_ZPlusC99Branch_8 = v635;
			branch_ZPlusMirth_7 = v634;
		} break;
		case 45LL: { // U64Sub
			decref(MKTUP(in_Atom_3, 8));
			STR* v636;
			STRLIT(v636, "(", 1);
			VAL v637 = MKI64(9LL /* U64 */);
			STR* v638;
			STRLIT(v638, " - ", 3);
			VAL v639 = MKI64(9LL /* U64 */);
			STR* v640;
			STRLIT(v640, ")", 1);
			bool v641 = false;
			VAL v642 = MKI64(9LL /* U64 */);
			VAL v643 = mtw_std_maybe_Maybe_1_Some(v642);
			TUP* v644;
			TUP* v645;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v636, v637, v638, v639, v640, v641, v643, &v644, &v645);
			branch_ZPlusC99Branch_8 = v645;
			branch_ZPlusMirth_7 = v644;
		} break;
		case 46LL: { // U64Mul
			decref(MKTUP(in_Atom_3, 8));
			STR* v646;
			STRLIT(v646, "(", 1);
			VAL v647 = MKI64(9LL /* U64 */);
			STR* v648;
			STRLIT(v648, " * ", 3);
			VAL v649 = MKI64(9LL /* U64 */);
			STR* v650;
			STRLIT(v650, ")", 1);
			bool v651 = false;
			VAL v652 = MKI64(9LL /* U64 */);
			VAL v653 = mtw_std_maybe_Maybe_1_Some(v652);
			TUP* v654;
			TUP* v655;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v646, v647, v648, v649, v650, v651, v653, &v654, &v655);
			branch_ZPlusC99Branch_8 = v655;
			branch_ZPlusMirth_7 = v654;
		} break;
		case 47LL: { // U64Div
			decref(MKTUP(in_Atom_3, 8));
			STR* v656;
			STRLIT(v656, "u64_div(", 8);
			VAL v657 = MKI64(9LL /* U64 */);
			STR* v658;
			STRLIT(v658, ", ", 2);
			VAL v659 = MKI64(9LL /* U64 */);
			STR* v660;
			STRLIT(v660, ")", 1);
			bool v661 = false;
			VAL v662 = MKI64(9LL /* U64 */);
			VAL v663 = mtw_std_maybe_Maybe_1_Some(v662);
			TUP* v664;
			TUP* v665;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v656, v657, v658, v659, v660, v661, v663, &v664, &v665);
			branch_ZPlusC99Branch_8 = v665;
			branch_ZPlusMirth_7 = v664;
		} break;
		case 48LL: { // U64Mod
			decref(MKTUP(in_Atom_3, 8));
			STR* v666;
			STRLIT(v666, "u64_mod(", 8);
			VAL v667 = MKI64(9LL /* U64 */);
			STR* v668;
			STRLIT(v668, ", ", 2);
			VAL v669 = MKI64(9LL /* U64 */);
			STR* v670;
			STRLIT(v670, ")", 1);
			bool v671 = false;
			VAL v672 = MKI64(9LL /* U64 */);
			VAL v673 = mtw_std_maybe_Maybe_1_Some(v672);
			TUP* v674;
			TUP* v675;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v666, v667, v668, v669, v670, v671, v673, &v674, &v675);
			branch_ZPlusC99Branch_8 = v675;
			branch_ZPlusMirth_7 = v674;
		} break;
		case 49LL: { // U64And
			decref(MKTUP(in_Atom_3, 8));
			STR* v676;
			STRLIT(v676, "(", 1);
			VAL v677 = MKI64(9LL /* U64 */);
			STR* v678;
			STRLIT(v678, " & ", 3);
			VAL v679 = MKI64(9LL /* U64 */);
			STR* v680;
			STRLIT(v680, ")", 1);
			bool v681 = false;
			VAL v682 = MKI64(9LL /* U64 */);
			VAL v683 = mtw_std_maybe_Maybe_1_Some(v682);
			TUP* v684;
			TUP* v685;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v676, v677, v678, v679, v680, v681, v683, &v684, &v685);
			branch_ZPlusC99Branch_8 = v685;
			branch_ZPlusMirth_7 = v684;
		} break;
		case 51LL: { // U64Xor
			decref(MKTUP(in_Atom_3, 8));
			STR* v686;
			STRLIT(v686, "(", 1);
			VAL v687 = MKI64(9LL /* U64 */);
			STR* v688;
			STRLIT(v688, " ^ ", 3);
			VAL v689 = MKI64(9LL /* U64 */);
			STR* v690;
			STRLIT(v690, ")", 1);
			bool v691 = false;
			VAL v692 = MKI64(9LL /* U64 */);
			VAL v693 = mtw_std_maybe_Maybe_1_Some(v692);
			TUP* v694;
			TUP* v695;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v686, v687, v688, v689, v690, v691, v693, &v694, &v695);
			branch_ZPlusC99Branch_8 = v695;
			branch_ZPlusMirth_7 = v694;
		} break;
		case 50LL: { // U64Or
			decref(MKTUP(in_Atom_3, 8));
			STR* v696;
			STRLIT(v696, "(", 1);
			VAL v697 = MKI64(9LL /* U64 */);
			STR* v698;
			STRLIT(v698, " | ", 3);
			VAL v699 = MKI64(9LL /* U64 */);
			STR* v700;
			STRLIT(v700, ")", 1);
			bool v701 = false;
			VAL v702 = MKI64(9LL /* U64 */);
			VAL v703 = mtw_std_maybe_Maybe_1_Some(v702);
			TUP* v704;
			TUP* v705;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v696, v697, v698, v699, v700, v701, v703, &v704, &v705);
			branch_ZPlusC99Branch_8 = v705;
			branch_ZPlusMirth_7 = v704;
		} break;
		case 52LL: { // U64Shl
			decref(MKTUP(in_Atom_3, 8));
			STR* v706;
			STRLIT(v706, "u64_shl(", 8);
			VAL v707 = MKI64(9LL /* U64 */);
			STR* v708;
			STRLIT(v708, ", ", 2);
			VAL v709 = MKI64(9LL /* U64 */);
			STR* v710;
			STRLIT(v710, ")", 1);
			bool v711 = false;
			VAL v712 = MKI64(9LL /* U64 */);
			VAL v713 = mtw_std_maybe_Maybe_1_Some(v712);
			TUP* v714;
			TUP* v715;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v706, v707, v708, v709, v710, v711, v713, &v714, &v715);
			branch_ZPlusC99Branch_8 = v715;
			branch_ZPlusMirth_7 = v714;
		} break;
		case 53LL: { // U64Shr
			decref(MKTUP(in_Atom_3, 8));
			STR* v716;
			STRLIT(v716, "u64_shr(", 8);
			VAL v717 = MKI64(9LL /* U64 */);
			STR* v718;
			STRLIT(v718, ", ", 2);
			VAL v719 = MKI64(9LL /* U64 */);
			STR* v720;
			STRLIT(v720, ")", 1);
			bool v721 = false;
			VAL v722 = MKI64(9LL /* U64 */);
			VAL v723 = mtw_std_maybe_Maybe_1_Some(v722);
			TUP* v724;
			TUP* v725;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v716, v717, v718, v719, v720, v721, v723, &v724, &v725);
			branch_ZPlusC99Branch_8 = v725;
			branch_ZPlusMirth_7 = v724;
		} break;
		case 54LL: { // U64ToInt
			decref(MKTUP(in_Atom_3, 8));
			STR* v726;
			STRLIT(v726, "u64_to_int(", 11);
			VAL v727 = MKI64(9LL /* U64 */);
			STR* v728;
			STRLIT(v728, ")", 1);
			VAL v729 = MKI64(4LL /* Int */);
			VAL v730 = mtw_std_maybe_Maybe_1_Some(v729);
			TUP* v731;
			TUP* v732;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v726, v727, v728, v730, &v731, &v732);
			branch_ZPlusC99Branch_8 = v732;
			branch_ZPlusMirth_7 = v731;
		} break;
		case 55LL: { // U64ToStr
			decref(MKTUP(in_Atom_3, 8));
			STR* v733;
			STRLIT(v733, "u64_to_str(", 11);
			VAL v734 = MKI64(9LL /* U64 */);
			STR* v735;
			STRLIT(v735, ")", 1);
			VAL v736 = MKI64(2LL /* STR */);
			VAL v737 = mtw_std_maybe_Maybe_1_Some(v736);
			TUP* v738;
			TUP* v739;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v733, v734, v735, v737, &v738, &v739);
			branch_ZPlusC99Branch_8 = v739;
			branch_ZPlusMirth_7 = v738;
		} break;
		case 56LL: { // U64ToU8
			decref(MKTUP(in_Atom_3, 8));
			STR* v740;
			STRLIT(v740, "(uint8_t)(", 10);
			VAL v741 = MKI64(9LL /* U64 */);
			STR* v742;
			STRLIT(v742, ")", 1);
			VAL v743 = MKI64(12LL /* U8 */);
			VAL v744 = mtw_std_maybe_Maybe_1_Some(v743);
			TUP* v745;
			TUP* v746;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v740, v741, v742, v744, &v745, &v746);
			branch_ZPlusC99Branch_8 = v746;
			branch_ZPlusMirth_7 = v745;
		} break;
		case 57LL: { // U64ToU16
			decref(MKTUP(in_Atom_3, 8));
			STR* v747;
			STRLIT(v747, "(uint16_t)(", 11);
			VAL v748 = MKI64(9LL /* U64 */);
			STR* v749;
			STRLIT(v749, ")", 1);
			VAL v750 = MKI64(11LL /* U16 */);
			VAL v751 = mtw_std_maybe_Maybe_1_Some(v750);
			TUP* v752;
			TUP* v753;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v747, v748, v749, v751, &v752, &v753);
			branch_ZPlusC99Branch_8 = v753;
			branch_ZPlusMirth_7 = v752;
		} break;
		case 58LL: { // U64ToU32
			decref(MKTUP(in_Atom_3, 8));
			STR* v754;
			STRLIT(v754, "(uint32_t)(", 11);
			VAL v755 = MKI64(9LL /* U64 */);
			STR* v756;
			STRLIT(v756, ")", 1);
			VAL v757 = MKI64(10LL /* U32 */);
			VAL v758 = mtw_std_maybe_Maybe_1_Some(v757);
			TUP* v759;
			TUP* v760;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v754, v755, v756, v758, &v759, &v760);
			branch_ZPlusC99Branch_8 = v760;
			branch_ZPlusMirth_7 = v759;
		} break;
		case 59LL: { // U64ToI8
			decref(MKTUP(in_Atom_3, 8));
			STR* v761;
			STRLIT(v761, "(int8_t)(", 9);
			VAL v762 = MKI64(9LL /* U64 */);
			STR* v763;
			STRLIT(v763, ")", 1);
			VAL v764 = MKI64(8LL /* I8 */);
			VAL v765 = mtw_std_maybe_Maybe_1_Some(v764);
			TUP* v766;
			TUP* v767;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v761, v762, v763, v765, &v766, &v767);
			branch_ZPlusC99Branch_8 = v767;
			branch_ZPlusMirth_7 = v766;
		} break;
		case 60LL: { // U64ToI16
			decref(MKTUP(in_Atom_3, 8));
			STR* v768;
			STRLIT(v768, "(int16_t)(", 10);
			VAL v769 = MKI64(9LL /* U64 */);
			STR* v770;
			STRLIT(v770, ")", 1);
			VAL v771 = MKI64(7LL /* I16 */);
			VAL v772 = mtw_std_maybe_Maybe_1_Some(v771);
			TUP* v773;
			TUP* v774;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v768, v769, v770, v772, &v773, &v774);
			branch_ZPlusC99Branch_8 = v774;
			branch_ZPlusMirth_7 = v773;
		} break;
		case 61LL: { // U64ToI32
			decref(MKTUP(in_Atom_3, 8));
			STR* v775;
			STRLIT(v775, "(int32_t)(", 10);
			VAL v776 = MKI64(9LL /* U64 */);
			STR* v777;
			STRLIT(v777, ")", 1);
			VAL v778 = MKI64(6LL /* I32 */);
			VAL v779 = mtw_std_maybe_Maybe_1_Some(v778);
			TUP* v780;
			TUP* v781;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v775, v776, v777, v779, &v780, &v781);
			branch_ZPlusC99Branch_8 = v781;
			branch_ZPlusMirth_7 = v780;
		} break;
		case 62LL: { // U64ToI64
			decref(MKTUP(in_Atom_3, 8));
			STR* v782;
			STRLIT(v782, "(int64_t)(", 10);
			VAL v783 = MKI64(9LL /* U64 */);
			STR* v784;
			STRLIT(v784, ")", 1);
			VAL v785 = MKI64(5LL /* I64 */);
			VAL v786 = mtw_std_maybe_Maybe_1_Some(v785);
			TUP* v787;
			TUP* v788;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v782, v783, v784, v786, &v787, &v788);
			branch_ZPlusC99Branch_8 = v788;
			branch_ZPlusMirth_7 = v787;
		} break;
		case 63LL: { // U64ToF32
			decref(MKTUP(in_Atom_3, 8));
			STR* v789;
			STRLIT(v789, "(float)(", 8);
			VAL v790 = MKI64(9LL /* U64 */);
			STR* v791;
			STRLIT(v791, ")", 1);
			VAL v792 = MKI64(14LL /* F32 */);
			VAL v793 = mtw_std_maybe_Maybe_1_Some(v792);
			TUP* v794;
			TUP* v795;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v789, v790, v791, v793, &v794, &v795);
			branch_ZPlusC99Branch_8 = v795;
			branch_ZPlusMirth_7 = v794;
		} break;
		case 64LL: { // U64ToF64
			decref(MKTUP(in_Atom_3, 8));
			STR* v796;
			STRLIT(v796, "(double)(", 9);
			VAL v797 = MKI64(9LL /* U64 */);
			STR* v798;
			STRLIT(v798, ")", 1);
			VAL v799 = MKI64(13LL /* F64 */);
			VAL v800 = mtw_std_maybe_Maybe_1_Some(v799);
			TUP* v801;
			TUP* v802;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v796, v797, v798, v800, &v801, &v802);
			branch_ZPlusC99Branch_8 = v802;
			branch_ZPlusMirth_7 = v801;
		} break;
		case 65LL: { // I8Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v803;
			STRLIT(v803, "*(int8_t*)", 10);
			VAL v804 = MKI64(16LL /* PTR */);
			STR* v805;
			STRLIT(v805, "", 0);
			VAL v806 = MKI64(8LL /* I8 */);
			VAL v807 = mtw_std_maybe_Maybe_1_Some(v806);
			TUP* v808;
			TUP* v809;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v803, v804, v805, v807, &v808, &v809);
			branch_ZPlusC99Branch_8 = v809;
			branch_ZPlusMirth_7 = v808;
		} break;
		case 66LL: { // I8Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v810;
			STRLIT(v810, "*(int8_t*)", 10);
			VAL v811 = MKI64(16LL /* PTR */);
			STR* v812;
			STRLIT(v812, " = ", 3);
			VAL v813 = MKI64(8LL /* I8 */);
			STR* v814;
			STRLIT(v814, ";", 1);
			bool v815 = true;
			VAL v816 = MKI64(0LL /* None */);
			TUP* v817;
			TUP* v818;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v810, v811, v812, v813, v814, v815, v816, &v817, &v818);
			branch_ZPlusC99Branch_8 = v818;
			branch_ZPlusMirth_7 = v817;
		} break;
		case 67LL: { // I8ToI64
			decref(MKTUP(in_Atom_3, 8));
			STR* v819;
			STRLIT(v819, "(int64_t)(", 10);
			VAL v820 = MKI64(8LL /* I8 */);
			STR* v821;
			STRLIT(v821, ")", 1);
			VAL v822 = MKI64(5LL /* I64 */);
			VAL v823 = mtw_std_maybe_Maybe_1_Some(v822);
			TUP* v824;
			TUP* v825;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v819, v820, v821, v823, &v824, &v825);
			branch_ZPlusC99Branch_8 = v825;
			branch_ZPlusMirth_7 = v824;
		} break;
		case 68LL: { // I16Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v826;
			STRLIT(v826, "*(int16_t*)", 11);
			VAL v827 = MKI64(16LL /* PTR */);
			STR* v828;
			STRLIT(v828, "", 0);
			VAL v829 = MKI64(7LL /* I16 */);
			VAL v830 = mtw_std_maybe_Maybe_1_Some(v829);
			TUP* v831;
			TUP* v832;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v826, v827, v828, v830, &v831, &v832);
			branch_ZPlusC99Branch_8 = v832;
			branch_ZPlusMirth_7 = v831;
		} break;
		case 69LL: { // I16Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v833;
			STRLIT(v833, "*(int16_t*)", 11);
			VAL v834 = MKI64(16LL /* PTR */);
			STR* v835;
			STRLIT(v835, " = ", 3);
			VAL v836 = MKI64(7LL /* I16 */);
			STR* v837;
			STRLIT(v837, ";", 1);
			bool v838 = true;
			VAL v839 = MKI64(0LL /* None */);
			TUP* v840;
			TUP* v841;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v833, v834, v835, v836, v837, v838, v839, &v840, &v841);
			branch_ZPlusC99Branch_8 = v841;
			branch_ZPlusMirth_7 = v840;
		} break;
		case 70LL: { // I16ToI64
			decref(MKTUP(in_Atom_3, 8));
			STR* v842;
			STRLIT(v842, "(int64_t)(", 10);
			VAL v843 = MKI64(7LL /* I16 */);
			STR* v844;
			STRLIT(v844, ")", 1);
			VAL v845 = MKI64(5LL /* I64 */);
			VAL v846 = mtw_std_maybe_Maybe_1_Some(v845);
			TUP* v847;
			TUP* v848;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v842, v843, v844, v846, &v847, &v848);
			branch_ZPlusC99Branch_8 = v848;
			branch_ZPlusMirth_7 = v847;
		} break;
		case 71LL: { // I32Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v849;
			STRLIT(v849, "*(int32_t*)", 11);
			VAL v850 = MKI64(16LL /* PTR */);
			STR* v851;
			STRLIT(v851, "", 0);
			VAL v852 = MKI64(6LL /* I32 */);
			VAL v853 = mtw_std_maybe_Maybe_1_Some(v852);
			TUP* v854;
			TUP* v855;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v849, v850, v851, v853, &v854, &v855);
			branch_ZPlusC99Branch_8 = v855;
			branch_ZPlusMirth_7 = v854;
		} break;
		case 72LL: { // I32Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v856;
			STRLIT(v856, "*(int32_t*)", 11);
			VAL v857 = MKI64(16LL /* PTR */);
			STR* v858;
			STRLIT(v858, " = ", 3);
			VAL v859 = MKI64(6LL /* I32 */);
			STR* v860;
			STRLIT(v860, ";", 1);
			bool v861 = true;
			VAL v862 = MKI64(0LL /* None */);
			TUP* v863;
			TUP* v864;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v856, v857, v858, v859, v860, v861, v862, &v863, &v864);
			branch_ZPlusC99Branch_8 = v864;
			branch_ZPlusMirth_7 = v863;
		} break;
		case 73LL: { // I32ToI64
			decref(MKTUP(in_Atom_3, 8));
			STR* v865;
			STRLIT(v865, "(int64_t)(", 10);
			VAL v866 = MKI64(6LL /* I32 */);
			STR* v867;
			STRLIT(v867, ")", 1);
			VAL v868 = MKI64(5LL /* I64 */);
			VAL v869 = mtw_std_maybe_Maybe_1_Some(v868);
			TUP* v870;
			TUP* v871;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v865, v866, v867, v869, &v870, &v871);
			branch_ZPlusC99Branch_8 = v871;
			branch_ZPlusMirth_7 = v870;
		} break;
		case 74LL: { // I64Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v872;
			STRLIT(v872, "*(int64_t*)", 11);
			VAL v873 = MKI64(16LL /* PTR */);
			STR* v874;
			STRLIT(v874, "", 0);
			VAL v875 = MKI64(5LL /* I64 */);
			VAL v876 = mtw_std_maybe_Maybe_1_Some(v875);
			TUP* v877;
			TUP* v878;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v872, v873, v874, v876, &v877, &v878);
			branch_ZPlusC99Branch_8 = v878;
			branch_ZPlusMirth_7 = v877;
		} break;
		case 75LL: { // I64Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v879;
			STRLIT(v879, "*(int64_t*)", 11);
			VAL v880 = MKI64(16LL /* PTR */);
			STR* v881;
			STRLIT(v881, " = ", 3);
			VAL v882 = MKI64(5LL /* I64 */);
			STR* v883;
			STRLIT(v883, ";", 1);
			bool v884 = true;
			VAL v885 = MKI64(0LL /* None */);
			TUP* v886;
			TUP* v887;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v879, v880, v881, v882, v883, v884, v885, &v886, &v887);
			branch_ZPlusC99Branch_8 = v887;
			branch_ZPlusMirth_7 = v886;
		} break;
		case 76LL: { // I64Eq
			decref(MKTUP(in_Atom_3, 8));
			STR* v888;
			STRLIT(v888, "(", 1);
			VAL v889 = MKI64(5LL /* I64 */);
			STR* v890;
			STRLIT(v890, " == ", 4);
			VAL v891 = MKI64(5LL /* I64 */);
			STR* v892;
			STRLIT(v892, ")", 1);
			bool v893 = false;
			VAL v894 = MKI64(15LL /* Bool */);
			VAL v895 = mtw_std_maybe_Maybe_1_Some(v894);
			TUP* v896;
			TUP* v897;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v888, v889, v890, v891, v892, v893, v895, &v896, &v897);
			branch_ZPlusC99Branch_8 = v897;
			branch_ZPlusMirth_7 = v896;
		} break;
		case 77LL: { // I64Lt
			decref(MKTUP(in_Atom_3, 8));
			STR* v898;
			STRLIT(v898, "(", 1);
			VAL v899 = MKI64(5LL /* I64 */);
			STR* v900;
			STRLIT(v900, " < ", 3);
			VAL v901 = MKI64(5LL /* I64 */);
			STR* v902;
			STRLIT(v902, ")", 1);
			bool v903 = false;
			VAL v904 = MKI64(15LL /* Bool */);
			VAL v905 = mtw_std_maybe_Maybe_1_Some(v904);
			TUP* v906;
			TUP* v907;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v898, v899, v900, v901, v902, v903, v905, &v906, &v907);
			branch_ZPlusC99Branch_8 = v907;
			branch_ZPlusMirth_7 = v906;
		} break;
		case 78LL: { // I64Le
			decref(MKTUP(in_Atom_3, 8));
			STR* v908;
			STRLIT(v908, "(", 1);
			VAL v909 = MKI64(5LL /* I64 */);
			STR* v910;
			STRLIT(v910, " <= ", 4);
			VAL v911 = MKI64(5LL /* I64 */);
			STR* v912;
			STRLIT(v912, ")", 1);
			bool v913 = false;
			VAL v914 = MKI64(15LL /* Bool */);
			VAL v915 = mtw_std_maybe_Maybe_1_Some(v914);
			TUP* v916;
			TUP* v917;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v908, v909, v910, v911, v912, v913, v915, &v916, &v917);
			branch_ZPlusC99Branch_8 = v917;
			branch_ZPlusMirth_7 = v916;
		} break;
		case 79LL: { // I64Gt
			decref(MKTUP(in_Atom_3, 8));
			STR* v918;
			STRLIT(v918, "(", 1);
			VAL v919 = MKI64(5LL /* I64 */);
			STR* v920;
			STRLIT(v920, " > ", 3);
			VAL v921 = MKI64(5LL /* I64 */);
			STR* v922;
			STRLIT(v922, ")", 1);
			bool v923 = false;
			VAL v924 = MKI64(15LL /* Bool */);
			VAL v925 = mtw_std_maybe_Maybe_1_Some(v924);
			TUP* v926;
			TUP* v927;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v918, v919, v920, v921, v922, v923, v925, &v926, &v927);
			branch_ZPlusC99Branch_8 = v927;
			branch_ZPlusMirth_7 = v926;
		} break;
		case 80LL: { // I64Ge
			decref(MKTUP(in_Atom_3, 8));
			STR* v928;
			STRLIT(v928, "(", 1);
			VAL v929 = MKI64(5LL /* I64 */);
			STR* v930;
			STRLIT(v930, " >= ", 4);
			VAL v931 = MKI64(5LL /* I64 */);
			STR* v932;
			STRLIT(v932, ")", 1);
			bool v933 = false;
			VAL v934 = MKI64(15LL /* Bool */);
			VAL v935 = mtw_std_maybe_Maybe_1_Some(v934);
			TUP* v936;
			TUP* v937;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v928, v929, v930, v931, v932, v933, v935, &v936, &v937);
			branch_ZPlusC99Branch_8 = v937;
			branch_ZPlusMirth_7 = v936;
		} break;
		case 81LL: { // I64Ne
			decref(MKTUP(in_Atom_3, 8));
			STR* v938;
			STRLIT(v938, "(", 1);
			VAL v939 = MKI64(5LL /* I64 */);
			STR* v940;
			STRLIT(v940, " != ", 4);
			VAL v941 = MKI64(5LL /* I64 */);
			STR* v942;
			STRLIT(v942, ")", 1);
			bool v943 = false;
			VAL v944 = MKI64(15LL /* Bool */);
			VAL v945 = mtw_std_maybe_Maybe_1_Some(v944);
			TUP* v946;
			TUP* v947;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v938, v939, v940, v941, v942, v943, v945, &v946, &v947);
			branch_ZPlusC99Branch_8 = v947;
			branch_ZPlusMirth_7 = v946;
		} break;
		case 82LL: { // I64Add
			decref(MKTUP(in_Atom_3, 8));
			STR* v948;
			STRLIT(v948, "i64_add(", 8);
			VAL v949 = MKI64(5LL /* I64 */);
			STR* v950;
			STRLIT(v950, ", ", 2);
			VAL v951 = MKI64(5LL /* I64 */);
			STR* v952;
			STRLIT(v952, ")", 1);
			bool v953 = false;
			VAL v954 = MKI64(5LL /* I64 */);
			VAL v955 = mtw_std_maybe_Maybe_1_Some(v954);
			TUP* v956;
			TUP* v957;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v948, v949, v950, v951, v952, v953, v955, &v956, &v957);
			branch_ZPlusC99Branch_8 = v957;
			branch_ZPlusMirth_7 = v956;
		} break;
		case 83LL: { // I64Sub
			decref(MKTUP(in_Atom_3, 8));
			STR* v958;
			STRLIT(v958, "i64_sub(", 8);
			VAL v959 = MKI64(5LL /* I64 */);
			STR* v960;
			STRLIT(v960, ", ", 2);
			VAL v961 = MKI64(5LL /* I64 */);
			STR* v962;
			STRLIT(v962, ")", 1);
			bool v963 = false;
			VAL v964 = MKI64(5LL /* I64 */);
			VAL v965 = mtw_std_maybe_Maybe_1_Some(v964);
			TUP* v966;
			TUP* v967;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v958, v959, v960, v961, v962, v963, v965, &v966, &v967);
			branch_ZPlusC99Branch_8 = v967;
			branch_ZPlusMirth_7 = v966;
		} break;
		case 84LL: { // I64Mul
			decref(MKTUP(in_Atom_3, 8));
			STR* v968;
			STRLIT(v968, "i64_mul(", 8);
			VAL v969 = MKI64(5LL /* I64 */);
			STR* v970;
			STRLIT(v970, ", ", 2);
			VAL v971 = MKI64(5LL /* I64 */);
			STR* v972;
			STRLIT(v972, ")", 1);
			bool v973 = false;
			VAL v974 = MKI64(5LL /* I64 */);
			VAL v975 = mtw_std_maybe_Maybe_1_Some(v974);
			TUP* v976;
			TUP* v977;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v968, v969, v970, v971, v972, v973, v975, &v976, &v977);
			branch_ZPlusC99Branch_8 = v977;
			branch_ZPlusMirth_7 = v976;
		} break;
		case 85LL: { // I64Div
			decref(MKTUP(in_Atom_3, 8));
			STR* v978;
			STRLIT(v978, "i64_div(", 8);
			VAL v979 = MKI64(5LL /* I64 */);
			STR* v980;
			STRLIT(v980, ", ", 2);
			VAL v981 = MKI64(5LL /* I64 */);
			STR* v982;
			STRLIT(v982, ")", 1);
			bool v983 = false;
			VAL v984 = MKI64(5LL /* I64 */);
			VAL v985 = mtw_std_maybe_Maybe_1_Some(v984);
			TUP* v986;
			TUP* v987;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v978, v979, v980, v981, v982, v983, v985, &v986, &v987);
			branch_ZPlusC99Branch_8 = v987;
			branch_ZPlusMirth_7 = v986;
		} break;
		case 86LL: { // I64Mod
			decref(MKTUP(in_Atom_3, 8));
			STR* v988;
			STRLIT(v988, "i64_mod(", 8);
			VAL v989 = MKI64(5LL /* I64 */);
			STR* v990;
			STRLIT(v990, ", ", 2);
			VAL v991 = MKI64(5LL /* I64 */);
			STR* v992;
			STRLIT(v992, ")", 1);
			bool v993 = false;
			VAL v994 = MKI64(5LL /* I64 */);
			VAL v995 = mtw_std_maybe_Maybe_1_Some(v994);
			TUP* v996;
			TUP* v997;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v988, v989, v990, v991, v992, v993, v995, &v996, &v997);
			branch_ZPlusC99Branch_8 = v997;
			branch_ZPlusMirth_7 = v996;
		} break;
		case 87LL: { // I64ToInt
			decref(MKTUP(in_Atom_3, 8));
			STR* v998;
			STRLIT(v998, "i64_to_int(", 11);
			VAL v999 = MKI64(5LL /* I64 */);
			STR* v1000;
			STRLIT(v1000, ")", 1);
			VAL v1001 = MKI64(4LL /* Int */);
			VAL v1002 = mtw_std_maybe_Maybe_1_Some(v1001);
			TUP* v1003;
			TUP* v1004;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v998, v999, v1000, v1002, &v1003, &v1004);
			branch_ZPlusC99Branch_8 = v1004;
			branch_ZPlusMirth_7 = v1003;
		} break;
		case 88LL: { // I64ToStr
			decref(MKTUP(in_Atom_3, 8));
			STR* v1005;
			STRLIT(v1005, "i64_to_str(", 11);
			VAL v1006 = MKI64(5LL /* I64 */);
			STR* v1007;
			STRLIT(v1007, ")", 1);
			VAL v1008 = MKI64(2LL /* STR */);
			VAL v1009 = mtw_std_maybe_Maybe_1_Some(v1008);
			TUP* v1010;
			TUP* v1011;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1005, v1006, v1007, v1009, &v1010, &v1011);
			branch_ZPlusC99Branch_8 = v1011;
			branch_ZPlusMirth_7 = v1010;
		} break;
		case 89LL: { // I64ToU8
			decref(MKTUP(in_Atom_3, 8));
			STR* v1012;
			STRLIT(v1012, "(uint8_t)(", 10);
			VAL v1013 = MKI64(5LL /* I64 */);
			STR* v1014;
			STRLIT(v1014, ")", 1);
			VAL v1015 = MKI64(12LL /* U8 */);
			VAL v1016 = mtw_std_maybe_Maybe_1_Some(v1015);
			TUP* v1017;
			TUP* v1018;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1012, v1013, v1014, v1016, &v1017, &v1018);
			branch_ZPlusC99Branch_8 = v1018;
			branch_ZPlusMirth_7 = v1017;
		} break;
		case 90LL: { // I64ToU16
			decref(MKTUP(in_Atom_3, 8));
			STR* v1019;
			STRLIT(v1019, "(uint16_t)(", 11);
			VAL v1020 = MKI64(5LL /* I64 */);
			STR* v1021;
			STRLIT(v1021, ")", 1);
			VAL v1022 = MKI64(11LL /* U16 */);
			VAL v1023 = mtw_std_maybe_Maybe_1_Some(v1022);
			TUP* v1024;
			TUP* v1025;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1019, v1020, v1021, v1023, &v1024, &v1025);
			branch_ZPlusC99Branch_8 = v1025;
			branch_ZPlusMirth_7 = v1024;
		} break;
		case 91LL: { // I64ToU32
			decref(MKTUP(in_Atom_3, 8));
			STR* v1026;
			STRLIT(v1026, "(uint32_t)(", 11);
			VAL v1027 = MKI64(5LL /* I64 */);
			STR* v1028;
			STRLIT(v1028, ")", 1);
			VAL v1029 = MKI64(10LL /* U32 */);
			VAL v1030 = mtw_std_maybe_Maybe_1_Some(v1029);
			TUP* v1031;
			TUP* v1032;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1026, v1027, v1028, v1030, &v1031, &v1032);
			branch_ZPlusC99Branch_8 = v1032;
			branch_ZPlusMirth_7 = v1031;
		} break;
		case 92LL: { // I64ToU64
			decref(MKTUP(in_Atom_3, 8));
			STR* v1033;
			STRLIT(v1033, "(uint64_t)(", 11);
			VAL v1034 = MKI64(5LL /* I64 */);
			STR* v1035;
			STRLIT(v1035, ")", 1);
			VAL v1036 = MKI64(9LL /* U64 */);
			VAL v1037 = mtw_std_maybe_Maybe_1_Some(v1036);
			TUP* v1038;
			TUP* v1039;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1033, v1034, v1035, v1037, &v1038, &v1039);
			branch_ZPlusC99Branch_8 = v1039;
			branch_ZPlusMirth_7 = v1038;
		} break;
		case 93LL: { // I64ToI8
			decref(MKTUP(in_Atom_3, 8));
			STR* v1040;
			STRLIT(v1040, "(int8_t)(", 9);
			VAL v1041 = MKI64(5LL /* I64 */);
			STR* v1042;
			STRLIT(v1042, ")", 1);
			VAL v1043 = MKI64(8LL /* I8 */);
			VAL v1044 = mtw_std_maybe_Maybe_1_Some(v1043);
			TUP* v1045;
			TUP* v1046;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1040, v1041, v1042, v1044, &v1045, &v1046);
			branch_ZPlusC99Branch_8 = v1046;
			branch_ZPlusMirth_7 = v1045;
		} break;
		case 94LL: { // I64ToI16
			decref(MKTUP(in_Atom_3, 8));
			STR* v1047;
			STRLIT(v1047, "(int16_t)(", 10);
			VAL v1048 = MKI64(5LL /* I64 */);
			STR* v1049;
			STRLIT(v1049, ")", 1);
			VAL v1050 = MKI64(7LL /* I16 */);
			VAL v1051 = mtw_std_maybe_Maybe_1_Some(v1050);
			TUP* v1052;
			TUP* v1053;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1047, v1048, v1049, v1051, &v1052, &v1053);
			branch_ZPlusC99Branch_8 = v1053;
			branch_ZPlusMirth_7 = v1052;
		} break;
		case 95LL: { // I64ToI32
			decref(MKTUP(in_Atom_3, 8));
			STR* v1054;
			STRLIT(v1054, "(int32_t)(", 10);
			VAL v1055 = MKI64(5LL /* I64 */);
			STR* v1056;
			STRLIT(v1056, ")", 1);
			VAL v1057 = MKI64(6LL /* I32 */);
			VAL v1058 = mtw_std_maybe_Maybe_1_Some(v1057);
			TUP* v1059;
			TUP* v1060;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1054, v1055, v1056, v1058, &v1059, &v1060);
			branch_ZPlusC99Branch_8 = v1060;
			branch_ZPlusMirth_7 = v1059;
		} break;
		case 96LL: { // I64ToF32
			decref(MKTUP(in_Atom_3, 8));
			STR* v1061;
			STRLIT(v1061, "(float)(", 8);
			VAL v1062 = MKI64(5LL /* I64 */);
			STR* v1063;
			STRLIT(v1063, ")", 1);
			VAL v1064 = MKI64(14LL /* F32 */);
			VAL v1065 = mtw_std_maybe_Maybe_1_Some(v1064);
			TUP* v1066;
			TUP* v1067;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1061, v1062, v1063, v1065, &v1066, &v1067);
			branch_ZPlusC99Branch_8 = v1067;
			branch_ZPlusMirth_7 = v1066;
		} break;
		case 97LL: { // I64ToF64
			decref(MKTUP(in_Atom_3, 8));
			STR* v1068;
			STRLIT(v1068, "(double)(", 9);
			VAL v1069 = MKI64(5LL /* I64 */);
			STR* v1070;
			STRLIT(v1070, ")", 1);
			VAL v1071 = MKI64(13LL /* F64 */);
			VAL v1072 = mtw_std_maybe_Maybe_1_Some(v1071);
			TUP* v1073;
			TUP* v1074;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1068, v1069, v1070, v1072, &v1073, &v1074);
			branch_ZPlusC99Branch_8 = v1074;
			branch_ZPlusMirth_7 = v1073;
		} break;
		case 98LL: { // F32Eq
			decref(MKTUP(in_Atom_3, 8));
			STR* v1075;
			STRLIT(v1075, "(", 1);
			VAL v1076 = MKI64(14LL /* F32 */);
			STR* v1077;
			STRLIT(v1077, " == ", 4);
			VAL v1078 = MKI64(14LL /* F32 */);
			STR* v1079;
			STRLIT(v1079, ")", 1);
			bool v1080 = false;
			VAL v1081 = MKI64(15LL /* Bool */);
			VAL v1082 = mtw_std_maybe_Maybe_1_Some(v1081);
			TUP* v1083;
			TUP* v1084;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1075, v1076, v1077, v1078, v1079, v1080, v1082, &v1083, &v1084);
			branch_ZPlusC99Branch_8 = v1084;
			branch_ZPlusMirth_7 = v1083;
		} break;
		case 99LL: { // F32Lt
			decref(MKTUP(in_Atom_3, 8));
			STR* v1085;
			STRLIT(v1085, "(", 1);
			VAL v1086 = MKI64(14LL /* F32 */);
			STR* v1087;
			STRLIT(v1087, " < ", 3);
			VAL v1088 = MKI64(14LL /* F32 */);
			STR* v1089;
			STRLIT(v1089, ")", 1);
			bool v1090 = false;
			VAL v1091 = MKI64(15LL /* Bool */);
			VAL v1092 = mtw_std_maybe_Maybe_1_Some(v1091);
			TUP* v1093;
			TUP* v1094;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1085, v1086, v1087, v1088, v1089, v1090, v1092, &v1093, &v1094);
			branch_ZPlusC99Branch_8 = v1094;
			branch_ZPlusMirth_7 = v1093;
		} break;
		case 100LL: { // F32Le
			decref(MKTUP(in_Atom_3, 8));
			STR* v1095;
			STRLIT(v1095, "(", 1);
			VAL v1096 = MKI64(14LL /* F32 */);
			STR* v1097;
			STRLIT(v1097, " <= ", 4);
			VAL v1098 = MKI64(14LL /* F32 */);
			STR* v1099;
			STRLIT(v1099, ")", 1);
			bool v1100 = false;
			VAL v1101 = MKI64(15LL /* Bool */);
			VAL v1102 = mtw_std_maybe_Maybe_1_Some(v1101);
			TUP* v1103;
			TUP* v1104;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1095, v1096, v1097, v1098, v1099, v1100, v1102, &v1103, &v1104);
			branch_ZPlusC99Branch_8 = v1104;
			branch_ZPlusMirth_7 = v1103;
		} break;
		case 101LL: { // F32Gt
			decref(MKTUP(in_Atom_3, 8));
			STR* v1105;
			STRLIT(v1105, "(", 1);
			VAL v1106 = MKI64(14LL /* F32 */);
			STR* v1107;
			STRLIT(v1107, " > ", 3);
			VAL v1108 = MKI64(14LL /* F32 */);
			STR* v1109;
			STRLIT(v1109, ")", 1);
			bool v1110 = false;
			VAL v1111 = MKI64(15LL /* Bool */);
			VAL v1112 = mtw_std_maybe_Maybe_1_Some(v1111);
			TUP* v1113;
			TUP* v1114;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1105, v1106, v1107, v1108, v1109, v1110, v1112, &v1113, &v1114);
			branch_ZPlusC99Branch_8 = v1114;
			branch_ZPlusMirth_7 = v1113;
		} break;
		case 102LL: { // F32Ge
			decref(MKTUP(in_Atom_3, 8));
			STR* v1115;
			STRLIT(v1115, "(", 1);
			VAL v1116 = MKI64(14LL /* F32 */);
			STR* v1117;
			STRLIT(v1117, " >= ", 4);
			VAL v1118 = MKI64(14LL /* F32 */);
			STR* v1119;
			STRLIT(v1119, ")", 1);
			bool v1120 = false;
			VAL v1121 = MKI64(15LL /* Bool */);
			VAL v1122 = mtw_std_maybe_Maybe_1_Some(v1121);
			TUP* v1123;
			TUP* v1124;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1115, v1116, v1117, v1118, v1119, v1120, v1122, &v1123, &v1124);
			branch_ZPlusC99Branch_8 = v1124;
			branch_ZPlusMirth_7 = v1123;
		} break;
		case 103LL: { // F32Ne
			decref(MKTUP(in_Atom_3, 8));
			STR* v1125;
			STRLIT(v1125, "(", 1);
			VAL v1126 = MKI64(14LL /* F32 */);
			STR* v1127;
			STRLIT(v1127, " != ", 4);
			VAL v1128 = MKI64(14LL /* F32 */);
			STR* v1129;
			STRLIT(v1129, ")", 1);
			bool v1130 = false;
			VAL v1131 = MKI64(15LL /* Bool */);
			VAL v1132 = mtw_std_maybe_Maybe_1_Some(v1131);
			TUP* v1133;
			TUP* v1134;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1125, v1126, v1127, v1128, v1129, v1130, v1132, &v1133, &v1134);
			branch_ZPlusC99Branch_8 = v1134;
			branch_ZPlusMirth_7 = v1133;
		} break;
		case 104LL: { // F32Add
			decref(MKTUP(in_Atom_3, 8));
			STR* v1135;
			STRLIT(v1135, "(", 1);
			VAL v1136 = MKI64(14LL /* F32 */);
			STR* v1137;
			STRLIT(v1137, " + ", 3);
			VAL v1138 = MKI64(14LL /* F32 */);
			STR* v1139;
			STRLIT(v1139, ")", 1);
			bool v1140 = false;
			VAL v1141 = MKI64(14LL /* F32 */);
			VAL v1142 = mtw_std_maybe_Maybe_1_Some(v1141);
			TUP* v1143;
			TUP* v1144;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1135, v1136, v1137, v1138, v1139, v1140, v1142, &v1143, &v1144);
			branch_ZPlusC99Branch_8 = v1144;
			branch_ZPlusMirth_7 = v1143;
		} break;
		case 105LL: { // F32Sub
			decref(MKTUP(in_Atom_3, 8));
			STR* v1145;
			STRLIT(v1145, "(", 1);
			VAL v1146 = MKI64(14LL /* F32 */);
			STR* v1147;
			STRLIT(v1147, " - ", 3);
			VAL v1148 = MKI64(14LL /* F32 */);
			STR* v1149;
			STRLIT(v1149, ")", 1);
			bool v1150 = false;
			VAL v1151 = MKI64(14LL /* F32 */);
			VAL v1152 = mtw_std_maybe_Maybe_1_Some(v1151);
			TUP* v1153;
			TUP* v1154;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1145, v1146, v1147, v1148, v1149, v1150, v1152, &v1153, &v1154);
			branch_ZPlusC99Branch_8 = v1154;
			branch_ZPlusMirth_7 = v1153;
		} break;
		case 106LL: { // F32Mul
			decref(MKTUP(in_Atom_3, 8));
			STR* v1155;
			STRLIT(v1155, "(", 1);
			VAL v1156 = MKI64(14LL /* F32 */);
			STR* v1157;
			STRLIT(v1157, " * ", 3);
			VAL v1158 = MKI64(14LL /* F32 */);
			STR* v1159;
			STRLIT(v1159, ")", 1);
			bool v1160 = false;
			VAL v1161 = MKI64(14LL /* F32 */);
			VAL v1162 = mtw_std_maybe_Maybe_1_Some(v1161);
			TUP* v1163;
			TUP* v1164;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1155, v1156, v1157, v1158, v1159, v1160, v1162, &v1163, &v1164);
			branch_ZPlusC99Branch_8 = v1164;
			branch_ZPlusMirth_7 = v1163;
		} break;
		case 107LL: { // F32Div
			decref(MKTUP(in_Atom_3, 8));
			STR* v1165;
			STRLIT(v1165, "(", 1);
			VAL v1166 = MKI64(14LL /* F32 */);
			STR* v1167;
			STRLIT(v1167, " / ", 3);
			VAL v1168 = MKI64(14LL /* F32 */);
			STR* v1169;
			STRLIT(v1169, ")", 1);
			bool v1170 = false;
			VAL v1171 = MKI64(14LL /* F32 */);
			VAL v1172 = mtw_std_maybe_Maybe_1_Some(v1171);
			TUP* v1173;
			TUP* v1174;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1165, v1166, v1167, v1168, v1169, v1170, v1172, &v1173, &v1174);
			branch_ZPlusC99Branch_8 = v1174;
			branch_ZPlusMirth_7 = v1173;
		} break;
		case 108LL: { // F32ToInt
			decref(MKTUP(in_Atom_3, 8));
			STR* v1175;
			STRLIT(v1175, "f32_to_int(", 11);
			VAL v1176 = MKI64(14LL /* F32 */);
			STR* v1177;
			STRLIT(v1177, ")", 1);
			VAL v1178 = MKI64(4LL /* Int */);
			VAL v1179 = mtw_std_maybe_Maybe_1_Some(v1178);
			TUP* v1180;
			TUP* v1181;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1175, v1176, v1177, v1179, &v1180, &v1181);
			branch_ZPlusC99Branch_8 = v1181;
			branch_ZPlusMirth_7 = v1180;
		} break;
		case 110LL: { // F32ToF64
			decref(MKTUP(in_Atom_3, 8));
			STR* v1182;
			STRLIT(v1182, "(double)", 8);
			VAL v1183 = MKI64(14LL /* F32 */);
			STR* v1184;
			STRLIT(v1184, "", 0);
			VAL v1185 = MKI64(13LL /* F64 */);
			VAL v1186 = mtw_std_maybe_Maybe_1_Some(v1185);
			TUP* v1187;
			TUP* v1188;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1182, v1183, v1184, v1186, &v1187, &v1188);
			branch_ZPlusC99Branch_8 = v1188;
			branch_ZPlusMirth_7 = v1187;
		} break;
		case 109LL: { // F32ToStr
			decref(MKTUP(in_Atom_3, 8));
			STR* v1189;
			STRLIT(v1189, "f32_to_str(", 11);
			VAL v1190 = MKI64(14LL /* F32 */);
			STR* v1191;
			STRLIT(v1191, ")", 1);
			VAL v1192 = MKI64(2LL /* STR */);
			VAL v1193 = mtw_std_maybe_Maybe_1_Some(v1192);
			TUP* v1194;
			TUP* v1195;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1189, v1190, v1191, v1193, &v1194, &v1195);
			branch_ZPlusC99Branch_8 = v1195;
			branch_ZPlusMirth_7 = v1194;
		} break;
		case 111LL: { // F32Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v1196;
			STRLIT(v1196, "*(float*)", 9);
			VAL v1197 = MKI64(16LL /* PTR */);
			STR* v1198;
			STRLIT(v1198, "", 0);
			VAL v1199 = MKI64(14LL /* F32 */);
			VAL v1200 = mtw_std_maybe_Maybe_1_Some(v1199);
			TUP* v1201;
			TUP* v1202;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1196, v1197, v1198, v1200, &v1201, &v1202);
			branch_ZPlusC99Branch_8 = v1202;
			branch_ZPlusMirth_7 = v1201;
		} break;
		case 112LL: { // F32Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v1203;
			STRLIT(v1203, "*(float*)", 9);
			VAL v1204 = MKI64(16LL /* PTR */);
			STR* v1205;
			STRLIT(v1205, " = ", 3);
			VAL v1206 = MKI64(14LL /* F32 */);
			STR* v1207;
			STRLIT(v1207, ";", 1);
			bool v1208 = true;
			VAL v1209 = MKI64(0LL /* None */);
			TUP* v1210;
			TUP* v1211;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1203, v1204, v1205, v1206, v1207, v1208, v1209, &v1210, &v1211);
			branch_ZPlusC99Branch_8 = v1211;
			branch_ZPlusMirth_7 = v1210;
		} break;
		case 113LL: { // F64Eq
			decref(MKTUP(in_Atom_3, 8));
			STR* v1212;
			STRLIT(v1212, "(", 1);
			VAL v1213 = MKI64(13LL /* F64 */);
			STR* v1214;
			STRLIT(v1214, " == ", 4);
			VAL v1215 = MKI64(13LL /* F64 */);
			STR* v1216;
			STRLIT(v1216, ")", 1);
			bool v1217 = false;
			VAL v1218 = MKI64(15LL /* Bool */);
			VAL v1219 = mtw_std_maybe_Maybe_1_Some(v1218);
			TUP* v1220;
			TUP* v1221;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1212, v1213, v1214, v1215, v1216, v1217, v1219, &v1220, &v1221);
			branch_ZPlusC99Branch_8 = v1221;
			branch_ZPlusMirth_7 = v1220;
		} break;
		case 114LL: { // F64Lt
			decref(MKTUP(in_Atom_3, 8));
			STR* v1222;
			STRLIT(v1222, "(", 1);
			VAL v1223 = MKI64(13LL /* F64 */);
			STR* v1224;
			STRLIT(v1224, " < ", 3);
			VAL v1225 = MKI64(13LL /* F64 */);
			STR* v1226;
			STRLIT(v1226, ")", 1);
			bool v1227 = false;
			VAL v1228 = MKI64(15LL /* Bool */);
			VAL v1229 = mtw_std_maybe_Maybe_1_Some(v1228);
			TUP* v1230;
			TUP* v1231;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1222, v1223, v1224, v1225, v1226, v1227, v1229, &v1230, &v1231);
			branch_ZPlusC99Branch_8 = v1231;
			branch_ZPlusMirth_7 = v1230;
		} break;
		case 115LL: { // F64Le
			decref(MKTUP(in_Atom_3, 8));
			STR* v1232;
			STRLIT(v1232, "(", 1);
			VAL v1233 = MKI64(13LL /* F64 */);
			STR* v1234;
			STRLIT(v1234, " <= ", 4);
			VAL v1235 = MKI64(13LL /* F64 */);
			STR* v1236;
			STRLIT(v1236, ")", 1);
			bool v1237 = false;
			VAL v1238 = MKI64(15LL /* Bool */);
			VAL v1239 = mtw_std_maybe_Maybe_1_Some(v1238);
			TUP* v1240;
			TUP* v1241;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1232, v1233, v1234, v1235, v1236, v1237, v1239, &v1240, &v1241);
			branch_ZPlusC99Branch_8 = v1241;
			branch_ZPlusMirth_7 = v1240;
		} break;
		case 116LL: { // F64Gt
			decref(MKTUP(in_Atom_3, 8));
			STR* v1242;
			STRLIT(v1242, "(", 1);
			VAL v1243 = MKI64(13LL /* F64 */);
			STR* v1244;
			STRLIT(v1244, " > ", 3);
			VAL v1245 = MKI64(13LL /* F64 */);
			STR* v1246;
			STRLIT(v1246, ")", 1);
			bool v1247 = false;
			VAL v1248 = MKI64(15LL /* Bool */);
			VAL v1249 = mtw_std_maybe_Maybe_1_Some(v1248);
			TUP* v1250;
			TUP* v1251;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1242, v1243, v1244, v1245, v1246, v1247, v1249, &v1250, &v1251);
			branch_ZPlusC99Branch_8 = v1251;
			branch_ZPlusMirth_7 = v1250;
		} break;
		case 117LL: { // F64Ge
			decref(MKTUP(in_Atom_3, 8));
			STR* v1252;
			STRLIT(v1252, "(", 1);
			VAL v1253 = MKI64(13LL /* F64 */);
			STR* v1254;
			STRLIT(v1254, " >= ", 4);
			VAL v1255 = MKI64(13LL /* F64 */);
			STR* v1256;
			STRLIT(v1256, ")", 1);
			bool v1257 = false;
			VAL v1258 = MKI64(15LL /* Bool */);
			VAL v1259 = mtw_std_maybe_Maybe_1_Some(v1258);
			TUP* v1260;
			TUP* v1261;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1252, v1253, v1254, v1255, v1256, v1257, v1259, &v1260, &v1261);
			branch_ZPlusC99Branch_8 = v1261;
			branch_ZPlusMirth_7 = v1260;
		} break;
		case 118LL: { // F64Ne
			decref(MKTUP(in_Atom_3, 8));
			STR* v1262;
			STRLIT(v1262, "(", 1);
			VAL v1263 = MKI64(13LL /* F64 */);
			STR* v1264;
			STRLIT(v1264, " != ", 4);
			VAL v1265 = MKI64(13LL /* F64 */);
			STR* v1266;
			STRLIT(v1266, ")", 1);
			bool v1267 = false;
			VAL v1268 = MKI64(15LL /* Bool */);
			VAL v1269 = mtw_std_maybe_Maybe_1_Some(v1268);
			TUP* v1270;
			TUP* v1271;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1262, v1263, v1264, v1265, v1266, v1267, v1269, &v1270, &v1271);
			branch_ZPlusC99Branch_8 = v1271;
			branch_ZPlusMirth_7 = v1270;
		} break;
		case 119LL: { // F64Add
			decref(MKTUP(in_Atom_3, 8));
			STR* v1272;
			STRLIT(v1272, "(", 1);
			VAL v1273 = MKI64(13LL /* F64 */);
			STR* v1274;
			STRLIT(v1274, " + ", 3);
			VAL v1275 = MKI64(13LL /* F64 */);
			STR* v1276;
			STRLIT(v1276, ")", 1);
			bool v1277 = false;
			VAL v1278 = MKI64(13LL /* F64 */);
			VAL v1279 = mtw_std_maybe_Maybe_1_Some(v1278);
			TUP* v1280;
			TUP* v1281;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1272, v1273, v1274, v1275, v1276, v1277, v1279, &v1280, &v1281);
			branch_ZPlusC99Branch_8 = v1281;
			branch_ZPlusMirth_7 = v1280;
		} break;
		case 120LL: { // F64Sub
			decref(MKTUP(in_Atom_3, 8));
			STR* v1282;
			STRLIT(v1282, "(", 1);
			VAL v1283 = MKI64(13LL /* F64 */);
			STR* v1284;
			STRLIT(v1284, " - ", 3);
			VAL v1285 = MKI64(13LL /* F64 */);
			STR* v1286;
			STRLIT(v1286, ")", 1);
			bool v1287 = false;
			VAL v1288 = MKI64(13LL /* F64 */);
			VAL v1289 = mtw_std_maybe_Maybe_1_Some(v1288);
			TUP* v1290;
			TUP* v1291;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1282, v1283, v1284, v1285, v1286, v1287, v1289, &v1290, &v1291);
			branch_ZPlusC99Branch_8 = v1291;
			branch_ZPlusMirth_7 = v1290;
		} break;
		case 121LL: { // F64Mul
			decref(MKTUP(in_Atom_3, 8));
			STR* v1292;
			STRLIT(v1292, "(", 1);
			VAL v1293 = MKI64(13LL /* F64 */);
			STR* v1294;
			STRLIT(v1294, " * ", 3);
			VAL v1295 = MKI64(13LL /* F64 */);
			STR* v1296;
			STRLIT(v1296, ")", 1);
			bool v1297 = false;
			VAL v1298 = MKI64(13LL /* F64 */);
			VAL v1299 = mtw_std_maybe_Maybe_1_Some(v1298);
			TUP* v1300;
			TUP* v1301;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1292, v1293, v1294, v1295, v1296, v1297, v1299, &v1300, &v1301);
			branch_ZPlusC99Branch_8 = v1301;
			branch_ZPlusMirth_7 = v1300;
		} break;
		case 122LL: { // F64Div
			decref(MKTUP(in_Atom_3, 8));
			STR* v1302;
			STRLIT(v1302, "(", 1);
			VAL v1303 = MKI64(13LL /* F64 */);
			STR* v1304;
			STRLIT(v1304, " / ", 3);
			VAL v1305 = MKI64(13LL /* F64 */);
			STR* v1306;
			STRLIT(v1306, ")", 1);
			bool v1307 = false;
			VAL v1308 = MKI64(13LL /* F64 */);
			VAL v1309 = mtw_std_maybe_Maybe_1_Some(v1308);
			TUP* v1310;
			TUP* v1311;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1302, v1303, v1304, v1305, v1306, v1307, v1309, &v1310, &v1311);
			branch_ZPlusC99Branch_8 = v1311;
			branch_ZPlusMirth_7 = v1310;
		} break;
		case 123LL: { // F64ToInt
			decref(MKTUP(in_Atom_3, 8));
			STR* v1312;
			STRLIT(v1312, "f64_to_int(", 11);
			VAL v1313 = MKI64(13LL /* F64 */);
			STR* v1314;
			STRLIT(v1314, ")", 1);
			VAL v1315 = MKI64(4LL /* Int */);
			VAL v1316 = mtw_std_maybe_Maybe_1_Some(v1315);
			TUP* v1317;
			TUP* v1318;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1312, v1313, v1314, v1316, &v1317, &v1318);
			branch_ZPlusC99Branch_8 = v1318;
			branch_ZPlusMirth_7 = v1317;
		} break;
		case 125LL: { // F64ToF32
			decref(MKTUP(in_Atom_3, 8));
			STR* v1319;
			STRLIT(v1319, "(float)", 7);
			VAL v1320 = MKI64(13LL /* F64 */);
			STR* v1321;
			STRLIT(v1321, "", 0);
			VAL v1322 = MKI64(14LL /* F32 */);
			VAL v1323 = mtw_std_maybe_Maybe_1_Some(v1322);
			TUP* v1324;
			TUP* v1325;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1319, v1320, v1321, v1323, &v1324, &v1325);
			branch_ZPlusC99Branch_8 = v1325;
			branch_ZPlusMirth_7 = v1324;
		} break;
		case 124LL: { // F64ToStr
			decref(MKTUP(in_Atom_3, 8));
			STR* v1326;
			STRLIT(v1326, "f64_to_str(", 11);
			VAL v1327 = MKI64(13LL /* F64 */);
			STR* v1328;
			STRLIT(v1328, ")", 1);
			VAL v1329 = MKI64(2LL /* STR */);
			VAL v1330 = mtw_std_maybe_Maybe_1_Some(v1329);
			TUP* v1331;
			TUP* v1332;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1326, v1327, v1328, v1330, &v1331, &v1332);
			branch_ZPlusC99Branch_8 = v1332;
			branch_ZPlusMirth_7 = v1331;
		} break;
		case 126LL: { // F64Get
			decref(MKTUP(in_Atom_3, 8));
			STR* v1333;
			STRLIT(v1333, "*(double*)", 10);
			VAL v1334 = MKI64(16LL /* PTR */);
			STR* v1335;
			STRLIT(v1335, "", 0);
			VAL v1336 = MKI64(13LL /* F64 */);
			VAL v1337 = mtw_std_maybe_Maybe_1_Some(v1336);
			TUP* v1338;
			TUP* v1339;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1333, v1334, v1335, v1337, &v1338, &v1339);
			branch_ZPlusC99Branch_8 = v1339;
			branch_ZPlusMirth_7 = v1338;
		} break;
		case 127LL: { // F64Set
			decref(MKTUP(in_Atom_3, 8));
			STR* v1340;
			STRLIT(v1340, "*(double*)", 10);
			VAL v1341 = MKI64(16LL /* PTR */);
			STR* v1342;
			STRLIT(v1342, " = ", 3);
			VAL v1343 = MKI64(13LL /* F64 */);
			STR* v1344;
			STRLIT(v1344, ";", 1);
			bool v1345 = true;
			VAL v1346 = MKI64(0LL /* None */);
			TUP* v1347;
			TUP* v1348;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1340, v1341, v1342, v1343, v1344, v1345, v1346, &v1347, &v1348);
			branch_ZPlusC99Branch_8 = v1348;
			branch_ZPlusMirth_7 = v1347;
		} break;
		case 128LL: { // BoolTrue
			decref(MKTUP(in_Atom_3, 8));
			VAL v1349 = MKI64(15LL /* Bool */);
			incref(v1349);
			int64_t v1350 = get_data_tag(v1349);
			decref(v1349);
			INT v1351 = WRAP_I63(0LL);
			INT v1352 = i64_to_int(v1350);
			bool v1353 = int_eq(v1352, v1351);
			bool v1354 = !v1353;
			VAL branch_C99ReprType_1355;
			bool branch_Bool_1356;
			TUP* branch_ZPlusMirth_1357;
			STR* branch_Str_1358;
			TUP* branch_ZPlusC99Branch_1359;
			if (v1354) {
				TUP* v1360 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v1361;
				TUP* v1362;
				STR* v1363 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v1360, &v1361, &v1362);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v1362, 6);
				branch_ZPlusC99Branch_1359 = in_ZPlusC99Branch_2;
				branch_Str_1358 = v1363;
				branch_ZPlusMirth_1357 = v1361;
				branch_Bool_1356 = v1354;
				branch_C99ReprType_1355 = v1349;
			} else {
				STR* v1364;
				STRLIT(v1364, "0", 1);
				branch_ZPlusC99Branch_1359 = in_ZPlusC99Branch_2;
				branch_Str_1358 = v1364;
				branch_ZPlusMirth_1357 = in_ZPlusMirth_1;
				branch_Bool_1356 = v1354;
				branch_C99ReprType_1355 = v1349;
			}
			bool v1365 = value_bool(branch_ZPlusC99Branch_1359->cells[3]);
			bool v1366 = (branch_Bool_1356 && v1365);
			TUP* v1367 = value_tup(branch_ZPlusC99Branch_1359->cells[0], 6);
			bool v1368 = value_bool(v1367->cells[3]);
			bool v1369 = (v1366 && v1368);
			v1367->cells[3] = MKBOOL(v1369);
			TUP* v1370;
			TUP* v1371;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1357, v1367, &v1370, &v1371);
			incref(branch_C99ReprType_1355);
			STR* v1372 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1355);
			TUP* v1373;
			TUP* v1374;
			mw_mirth_c99_ZPlusC99_put(v1370, v1371, v1372, &v1373, &v1374);
			STR* v1375;
			STRLIT(v1375, " ", 1);
			TUP* v1376;
			TUP* v1377;
			mw_mirth_c99_ZPlusC99_put(v1373, v1374, v1375, &v1376, &v1377);
			incref(MKSTR(branch_Str_1358));
			TUP* v1378;
			TUP* v1379;
			mw_mirth_c99_ZPlusC99_put(v1376, v1377, branch_Str_1358, &v1378, &v1379);
			STR* v1380;
			STRLIT(v1380, " = ", 3);
			TUP* v1381;
			TUP* v1382;
			mw_mirth_c99_ZPlusC99_put(v1378, v1379, v1380, &v1381, &v1382);
			TUP* v1383;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1355, branch_Str_1358, &v1383);
			STR* v1384;
			STRLIT(v1384, "true", 4);
			TUP* v1385;
			TUP* v1386;
			mw_mirth_c99_ZPlusC99_put(v1381, v1382, v1384, &v1385, &v1386);
			STR* v1387;
			STRLIT(v1387, ";", 1);
			TUP* v1388;
			TUP* v1389;
			mw_mirth_c99_ZPlusC99_put(v1385, v1386, v1387, &v1388, &v1389);
			TUP* v1390;
			TUP* v1391;
			mw_mirth_c99_ZPlusC99_line(v1388, v1389, &v1390, &v1391);
			v1391->cells[3] = MKBOOL(v1368);
			branch_ZPlusC99Branch_1359->cells[0] = MKTUP(v1391, 6);
			TUP* v1392;
			TUP* v1393;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1390, branch_ZPlusC99Branch_1359, v1383, &v1392, &v1393);
			branch_ZPlusC99Branch_8 = v1393;
			branch_ZPlusMirth_7 = v1392;
		} break;
		case 129LL: { // BoolFalse
			decref(MKTUP(in_Atom_3, 8));
			VAL v1394 = MKI64(15LL /* Bool */);
			incref(v1394);
			int64_t v1395 = get_data_tag(v1394);
			decref(v1394);
			INT v1396 = WRAP_I63(0LL);
			INT v1397 = i64_to_int(v1395);
			bool v1398 = int_eq(v1397, v1396);
			bool v1399 = !v1398;
			VAL branch_C99ReprType_1400;
			bool branch_Bool_1401;
			TUP* branch_ZPlusMirth_1402;
			STR* branch_Str_1403;
			TUP* branch_ZPlusC99Branch_1404;
			if (v1399) {
				TUP* v1405 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v1406;
				TUP* v1407;
				STR* v1408 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v1405, &v1406, &v1407);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v1407, 6);
				branch_ZPlusC99Branch_1404 = in_ZPlusC99Branch_2;
				branch_Str_1403 = v1408;
				branch_ZPlusMirth_1402 = v1406;
				branch_Bool_1401 = v1399;
				branch_C99ReprType_1400 = v1394;
			} else {
				STR* v1409;
				STRLIT(v1409, "0", 1);
				branch_ZPlusC99Branch_1404 = in_ZPlusC99Branch_2;
				branch_Str_1403 = v1409;
				branch_ZPlusMirth_1402 = in_ZPlusMirth_1;
				branch_Bool_1401 = v1399;
				branch_C99ReprType_1400 = v1394;
			}
			bool v1410 = value_bool(branch_ZPlusC99Branch_1404->cells[3]);
			bool v1411 = (branch_Bool_1401 && v1410);
			TUP* v1412 = value_tup(branch_ZPlusC99Branch_1404->cells[0], 6);
			bool v1413 = value_bool(v1412->cells[3]);
			bool v1414 = (v1411 && v1413);
			v1412->cells[3] = MKBOOL(v1414);
			TUP* v1415;
			TUP* v1416;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1402, v1412, &v1415, &v1416);
			incref(branch_C99ReprType_1400);
			STR* v1417 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1400);
			TUP* v1418;
			TUP* v1419;
			mw_mirth_c99_ZPlusC99_put(v1415, v1416, v1417, &v1418, &v1419);
			STR* v1420;
			STRLIT(v1420, " ", 1);
			TUP* v1421;
			TUP* v1422;
			mw_mirth_c99_ZPlusC99_put(v1418, v1419, v1420, &v1421, &v1422);
			incref(MKSTR(branch_Str_1403));
			TUP* v1423;
			TUP* v1424;
			mw_mirth_c99_ZPlusC99_put(v1421, v1422, branch_Str_1403, &v1423, &v1424);
			STR* v1425;
			STRLIT(v1425, " = ", 3);
			TUP* v1426;
			TUP* v1427;
			mw_mirth_c99_ZPlusC99_put(v1423, v1424, v1425, &v1426, &v1427);
			TUP* v1428;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1400, branch_Str_1403, &v1428);
			STR* v1429;
			STRLIT(v1429, "false", 5);
			TUP* v1430;
			TUP* v1431;
			mw_mirth_c99_ZPlusC99_put(v1426, v1427, v1429, &v1430, &v1431);
			STR* v1432;
			STRLIT(v1432, ";", 1);
			TUP* v1433;
			TUP* v1434;
			mw_mirth_c99_ZPlusC99_put(v1430, v1431, v1432, &v1433, &v1434);
			TUP* v1435;
			TUP* v1436;
			mw_mirth_c99_ZPlusC99_line(v1433, v1434, &v1435, &v1436);
			v1436->cells[3] = MKBOOL(v1413);
			branch_ZPlusC99Branch_1404->cells[0] = MKTUP(v1436, 6);
			TUP* v1437;
			TUP* v1438;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1435, branch_ZPlusC99Branch_1404, v1428, &v1437, &v1438);
			branch_ZPlusC99Branch_8 = v1438;
			branch_ZPlusMirth_7 = v1437;
		} break;
		case 130LL: { // BoolAnd
			decref(MKTUP(in_Atom_3, 8));
			STR* v1439;
			STRLIT(v1439, "(", 1);
			VAL v1440 = MKI64(15LL /* Bool */);
			STR* v1441;
			STRLIT(v1441, " && ", 4);
			VAL v1442 = MKI64(15LL /* Bool */);
			STR* v1443;
			STRLIT(v1443, ")", 1);
			bool v1444 = false;
			VAL v1445 = MKI64(15LL /* Bool */);
			VAL v1446 = mtw_std_maybe_Maybe_1_Some(v1445);
			TUP* v1447;
			TUP* v1448;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1439, v1440, v1441, v1442, v1443, v1444, v1446, &v1447, &v1448);
			branch_ZPlusC99Branch_8 = v1448;
			branch_ZPlusMirth_7 = v1447;
		} break;
		case 131LL: { // BoolOr
			decref(MKTUP(in_Atom_3, 8));
			STR* v1449;
			STRLIT(v1449, "(", 1);
			VAL v1450 = MKI64(15LL /* Bool */);
			STR* v1451;
			STRLIT(v1451, " || ", 4);
			VAL v1452 = MKI64(15LL /* Bool */);
			STR* v1453;
			STRLIT(v1453, ")", 1);
			bool v1454 = false;
			VAL v1455 = MKI64(15LL /* Bool */);
			VAL v1456 = mtw_std_maybe_Maybe_1_Some(v1455);
			TUP* v1457;
			TUP* v1458;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1449, v1450, v1451, v1452, v1453, v1454, v1456, &v1457, &v1458);
			branch_ZPlusC99Branch_8 = v1458;
			branch_ZPlusMirth_7 = v1457;
		} break;
		case 132LL: { // BoolNot
			decref(MKTUP(in_Atom_3, 8));
			STR* v1459;
			STRLIT(v1459, "!", 1);
			VAL v1460 = MKI64(15LL /* Bool */);
			STR* v1461;
			STRLIT(v1461, "", 0);
			VAL v1462 = MKI64(15LL /* Bool */);
			VAL v1463 = mtw_std_maybe_Maybe_1_Some(v1462);
			TUP* v1464;
			TUP* v1465;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1459, v1460, v1461, v1463, &v1464, &v1465);
			branch_ZPlusC99Branch_8 = v1465;
			branch_ZPlusMirth_7 = v1464;
		} break;
		case 133LL: { // TupPack0
			decref(MKTUP(in_Atom_3, 8));
			INT v1466 = WRAP_I63(0LL);
			VAL v1467 = mtw_mirth_c99_C99ReprType_TUP(v1466);
			incref(v1467);
			int64_t v1468 = get_data_tag(v1467);
			decref(v1467);
			INT v1469 = WRAP_I63(0LL);
			INT v1470 = i64_to_int(v1468);
			bool v1471 = int_eq(v1470, v1469);
			bool v1472 = !v1471;
			VAL branch_C99ReprType_1473;
			bool branch_Bool_1474;
			TUP* branch_ZPlusMirth_1475;
			STR* branch_Str_1476;
			TUP* branch_ZPlusC99Branch_1477;
			if (v1472) {
				TUP* v1478 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v1479;
				TUP* v1480;
				STR* v1481 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v1478, &v1479, &v1480);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v1480, 6);
				branch_ZPlusC99Branch_1477 = in_ZPlusC99Branch_2;
				branch_Str_1476 = v1481;
				branch_ZPlusMirth_1475 = v1479;
				branch_Bool_1474 = v1472;
				branch_C99ReprType_1473 = v1467;
			} else {
				STR* v1482;
				STRLIT(v1482, "0", 1);
				branch_ZPlusC99Branch_1477 = in_ZPlusC99Branch_2;
				branch_Str_1476 = v1482;
				branch_ZPlusMirth_1475 = in_ZPlusMirth_1;
				branch_Bool_1474 = v1472;
				branch_C99ReprType_1473 = v1467;
			}
			bool v1483 = value_bool(branch_ZPlusC99Branch_1477->cells[3]);
			bool v1484 = (branch_Bool_1474 && v1483);
			TUP* v1485 = value_tup(branch_ZPlusC99Branch_1477->cells[0], 6);
			bool v1486 = value_bool(v1485->cells[3]);
			bool v1487 = (v1484 && v1486);
			v1485->cells[3] = MKBOOL(v1487);
			TUP* v1488;
			TUP* v1489;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1475, v1485, &v1488, &v1489);
			incref(branch_C99ReprType_1473);
			STR* v1490 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1473);
			TUP* v1491;
			TUP* v1492;
			mw_mirth_c99_ZPlusC99_put(v1488, v1489, v1490, &v1491, &v1492);
			STR* v1493;
			STRLIT(v1493, " ", 1);
			TUP* v1494;
			TUP* v1495;
			mw_mirth_c99_ZPlusC99_put(v1491, v1492, v1493, &v1494, &v1495);
			incref(MKSTR(branch_Str_1476));
			TUP* v1496;
			TUP* v1497;
			mw_mirth_c99_ZPlusC99_put(v1494, v1495, branch_Str_1476, &v1496, &v1497);
			STR* v1498;
			STRLIT(v1498, " = ", 3);
			TUP* v1499;
			TUP* v1500;
			mw_mirth_c99_ZPlusC99_put(v1496, v1497, v1498, &v1499, &v1500);
			TUP* v1501;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1473, branch_Str_1476, &v1501);
			STR* v1502;
			STRLIT(v1502, "NULL", 4);
			TUP* v1503;
			TUP* v1504;
			mw_mirth_c99_ZPlusC99_put(v1499, v1500, v1502, &v1503, &v1504);
			STR* v1505;
			STRLIT(v1505, ";", 1);
			TUP* v1506;
			TUP* v1507;
			mw_mirth_c99_ZPlusC99_put(v1503, v1504, v1505, &v1506, &v1507);
			TUP* v1508;
			TUP* v1509;
			mw_mirth_c99_ZPlusC99_line(v1506, v1507, &v1508, &v1509);
			v1509->cells[3] = MKBOOL(v1486);
			branch_ZPlusC99Branch_1477->cells[0] = MKTUP(v1509, 6);
			TUP* v1510;
			TUP* v1511;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1508, branch_ZPlusC99Branch_1477, v1501, &v1510, &v1511);
			branch_ZPlusC99Branch_8 = v1511;
			branch_ZPlusMirth_7 = v1510;
		} break;
		case 134LL: { // TupPack1
			decref(MKTUP(in_Atom_3, 8));
			INT v1512 = WRAP_I63(1LL);
			TUP* v1513;
			TUP* v1514;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1512, &v1513, &v1514);
			branch_ZPlusC99Branch_8 = v1514;
			branch_ZPlusMirth_7 = v1513;
		} break;
		case 135LL: { // TupPack2
			decref(MKTUP(in_Atom_3, 8));
			INT v1515 = WRAP_I63(2LL);
			TUP* v1516;
			TUP* v1517;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1515, &v1516, &v1517);
			branch_ZPlusC99Branch_8 = v1517;
			branch_ZPlusMirth_7 = v1516;
		} break;
		case 136LL: { // TupPack3
			decref(MKTUP(in_Atom_3, 8));
			INT v1518 = WRAP_I63(3LL);
			TUP* v1519;
			TUP* v1520;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1518, &v1519, &v1520);
			branch_ZPlusC99Branch_8 = v1520;
			branch_ZPlusMirth_7 = v1519;
		} break;
		case 137LL: { // TupPack4
			decref(MKTUP(in_Atom_3, 8));
			INT v1521 = WRAP_I63(4LL);
			TUP* v1522;
			TUP* v1523;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1521, &v1522, &v1523);
			branch_ZPlusC99Branch_8 = v1523;
			branch_ZPlusMirth_7 = v1522;
		} break;
		case 138LL: { // TupPack5
			decref(MKTUP(in_Atom_3, 8));
			INT v1524 = WRAP_I63(5LL);
			TUP* v1525;
			TUP* v1526;
			mw_mirth_c99_c99Z_tupZ_packZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1524, &v1525, &v1526);
			branch_ZPlusC99Branch_8 = v1526;
			branch_ZPlusMirth_7 = v1525;
		} break;
		case 139LL: { // TupUnpack0
			decref(MKTUP(in_Atom_3, 8));
			INT v1527 = WRAP_I63(0LL);
			VAL v1528 = mtw_mirth_c99_C99ReprType_TUP(v1527);
			TUP* v1529;
			TUP* v1530;
			TUP* v1531;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1528, &v1529, &v1530, &v1531);
			TUP* v1532;
			TUP* v1533;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v1529, v1530, v1531, &v1532, &v1533);
			branch_ZPlusC99Branch_8 = v1533;
			branch_ZPlusMirth_7 = v1532;
		} break;
		case 140LL: { // TupUnpack1
			decref(MKTUP(in_Atom_3, 8));
			INT v1534 = WRAP_I63(1LL);
			TUP* v1535;
			TUP* v1536;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1534, &v1535, &v1536);
			branch_ZPlusC99Branch_8 = v1536;
			branch_ZPlusMirth_7 = v1535;
		} break;
		case 141LL: { // TupUnpack2
			decref(MKTUP(in_Atom_3, 8));
			INT v1537 = WRAP_I63(2LL);
			TUP* v1538;
			TUP* v1539;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1537, &v1538, &v1539);
			branch_ZPlusC99Branch_8 = v1539;
			branch_ZPlusMirth_7 = v1538;
		} break;
		case 142LL: { // TupUnpack3
			decref(MKTUP(in_Atom_3, 8));
			INT v1540 = WRAP_I63(3LL);
			TUP* v1541;
			TUP* v1542;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1540, &v1541, &v1542);
			branch_ZPlusC99Branch_8 = v1542;
			branch_ZPlusMirth_7 = v1541;
		} break;
		case 143LL: { // TupUnpack4
			decref(MKTUP(in_Atom_3, 8));
			INT v1543 = WRAP_I63(4LL);
			TUP* v1544;
			TUP* v1545;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1543, &v1544, &v1545);
			branch_ZPlusC99Branch_8 = v1545;
			branch_ZPlusMirth_7 = v1544;
		} break;
		case 144LL: { // TupUnpack5
			decref(MKTUP(in_Atom_3, 8));
			INT v1546 = WRAP_I63(5LL);
			TUP* v1547;
			TUP* v1548;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1546, &v1547, &v1548);
			branch_ZPlusC99Branch_8 = v1548;
			branch_ZPlusMirth_7 = v1547;
		} break;
		case 145LL: { // MutGet
			decref(MKTUP(in_Atom_3, 8));
			STR* v1549;
			STRLIT(v1549, "mut_get(", 8);
			VAL v1550 = MKI64(16LL /* PTR */);
			STR* v1551;
			STRLIT(v1551, ")", 1);
			VAL v1552 = MKI64(1LL /* VAL */);
			VAL v1553 = mtw_std_maybe_Maybe_1_Some(v1552);
			TUP* v1554;
			TUP* v1555;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1549, v1550, v1551, v1553, &v1554, &v1555);
			branch_ZPlusC99Branch_8 = v1555;
			branch_ZPlusMirth_7 = v1554;
		} break;
		case 146LL: { // MutSet
			decref(MKTUP(in_Atom_3, 8));
			STR* v1556;
			STRLIT(v1556, "mut_set(", 8);
			VAL v1557 = MKI64(1LL /* VAL */);
			STR* v1558;
			STRLIT(v1558, ", ", 2);
			VAL v1559 = MKI64(16LL /* PTR */);
			STR* v1560;
			STRLIT(v1560, ");", 2);
			bool v1561 = false;
			VAL v1562 = MKI64(0LL /* None */);
			TUP* v1563;
			TUP* v1564;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1556, v1557, v1558, v1559, v1560, v1561, v1562, &v1563, &v1564);
			branch_ZPlusC99Branch_8 = v1564;
			branch_ZPlusMirth_7 = v1563;
		} break;
		case 147LL: { // MutIsSet
			decref(MKTUP(in_Atom_3, 8));
			STR* v1565;
			STRLIT(v1565, "mut_is_set(", 11);
			VAL v1566 = MKI64(16LL /* PTR */);
			STR* v1567;
			STRLIT(v1567, ")", 1);
			VAL v1568 = MKI64(15LL /* Bool */);
			VAL v1569 = mtw_std_maybe_Maybe_1_Some(v1568);
			TUP* v1570;
			TUP* v1571;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1565, v1566, v1567, v1569, &v1570, &v1571);
			branch_ZPlusC99Branch_8 = v1571;
			branch_ZPlusMirth_7 = v1570;
		} break;
		case 157LL: { // PtrGet
			decref(MKTUP(in_Atom_3, 8));
			STR* v1572;
			STRLIT(v1572, "*(void**)", 9);
			VAL v1573 = MKI64(16LL /* PTR */);
			STR* v1574;
			STRLIT(v1574, "", 0);
			VAL v1575 = MKI64(16LL /* PTR */);
			VAL v1576 = mtw_std_maybe_Maybe_1_Some(v1575);
			TUP* v1577;
			TUP* v1578;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1572, v1573, v1574, v1576, &v1577, &v1578);
			branch_ZPlusC99Branch_8 = v1578;
			branch_ZPlusMirth_7 = v1577;
		} break;
		case 158LL: { // PtrSet
			decref(MKTUP(in_Atom_3, 8));
			STR* v1579;
			STRLIT(v1579, "*(void**)", 9);
			VAL v1580 = MKI64(16LL /* PTR */);
			STR* v1581;
			STRLIT(v1581, " = ", 3);
			VAL v1582 = MKI64(16LL /* PTR */);
			STR* v1583;
			STRLIT(v1583, ";", 1);
			bool v1584 = true;
			VAL v1585 = MKI64(0LL /* None */);
			TUP* v1586;
			TUP* v1587;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1579, v1580, v1581, v1582, v1583, v1584, v1585, &v1586, &v1587);
			branch_ZPlusC99Branch_8 = v1587;
			branch_ZPlusMirth_7 = v1586;
		} break;
		case 148LL: { // PtrNil
			decref(MKTUP(in_Atom_3, 8));
			VAL v1588 = MKI64(16LL /* PTR */);
			incref(v1588);
			int64_t v1589 = get_data_tag(v1588);
			decref(v1588);
			INT v1590 = WRAP_I63(0LL);
			INT v1591 = i64_to_int(v1589);
			bool v1592 = int_eq(v1591, v1590);
			bool v1593 = !v1592;
			VAL branch_C99ReprType_1594;
			bool branch_Bool_1595;
			TUP* branch_ZPlusMirth_1596;
			STR* branch_Str_1597;
			TUP* branch_ZPlusC99Branch_1598;
			if (v1593) {
				TUP* v1599 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v1600;
				TUP* v1601;
				STR* v1602 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v1599, &v1600, &v1601);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v1601, 6);
				branch_ZPlusC99Branch_1598 = in_ZPlusC99Branch_2;
				branch_Str_1597 = v1602;
				branch_ZPlusMirth_1596 = v1600;
				branch_Bool_1595 = v1593;
				branch_C99ReprType_1594 = v1588;
			} else {
				STR* v1603;
				STRLIT(v1603, "0", 1);
				branch_ZPlusC99Branch_1598 = in_ZPlusC99Branch_2;
				branch_Str_1597 = v1603;
				branch_ZPlusMirth_1596 = in_ZPlusMirth_1;
				branch_Bool_1595 = v1593;
				branch_C99ReprType_1594 = v1588;
			}
			bool v1604 = value_bool(branch_ZPlusC99Branch_1598->cells[3]);
			bool v1605 = (branch_Bool_1595 && v1604);
			TUP* v1606 = value_tup(branch_ZPlusC99Branch_1598->cells[0], 6);
			bool v1607 = value_bool(v1606->cells[3]);
			bool v1608 = (v1605 && v1607);
			v1606->cells[3] = MKBOOL(v1608);
			TUP* v1609;
			TUP* v1610;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1596, v1606, &v1609, &v1610);
			incref(branch_C99ReprType_1594);
			STR* v1611 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1594);
			TUP* v1612;
			TUP* v1613;
			mw_mirth_c99_ZPlusC99_put(v1609, v1610, v1611, &v1612, &v1613);
			STR* v1614;
			STRLIT(v1614, " ", 1);
			TUP* v1615;
			TUP* v1616;
			mw_mirth_c99_ZPlusC99_put(v1612, v1613, v1614, &v1615, &v1616);
			incref(MKSTR(branch_Str_1597));
			TUP* v1617;
			TUP* v1618;
			mw_mirth_c99_ZPlusC99_put(v1615, v1616, branch_Str_1597, &v1617, &v1618);
			STR* v1619;
			STRLIT(v1619, " = ", 3);
			TUP* v1620;
			TUP* v1621;
			mw_mirth_c99_ZPlusC99_put(v1617, v1618, v1619, &v1620, &v1621);
			TUP* v1622;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1594, branch_Str_1597, &v1622);
			STR* v1623;
			STRLIT(v1623, "(void*)0", 8);
			TUP* v1624;
			TUP* v1625;
			mw_mirth_c99_ZPlusC99_put(v1620, v1621, v1623, &v1624, &v1625);
			STR* v1626;
			STRLIT(v1626, ";", 1);
			TUP* v1627;
			TUP* v1628;
			mw_mirth_c99_ZPlusC99_put(v1624, v1625, v1626, &v1627, &v1628);
			TUP* v1629;
			TUP* v1630;
			mw_mirth_c99_ZPlusC99_line(v1627, v1628, &v1629, &v1630);
			v1630->cells[3] = MKBOOL(v1607);
			branch_ZPlusC99Branch_1598->cells[0] = MKTUP(v1630, 6);
			TUP* v1631;
			TUP* v1632;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1629, branch_ZPlusC99Branch_1598, v1622, &v1631, &v1632);
			branch_ZPlusC99Branch_8 = v1632;
			branch_ZPlusMirth_7 = v1631;
		} break;
		case 149LL: { // PtrEq
			decref(MKTUP(in_Atom_3, 8));
			STR* v1633;
			STRLIT(v1633, "(", 1);
			VAL v1634 = MKI64(16LL /* PTR */);
			STR* v1635;
			STRLIT(v1635, " == ", 4);
			VAL v1636 = MKI64(16LL /* PTR */);
			STR* v1637;
			STRLIT(v1637, ")", 1);
			bool v1638 = false;
			VAL v1639 = MKI64(15LL /* Bool */);
			VAL v1640 = mtw_std_maybe_Maybe_1_Some(v1639);
			TUP* v1641;
			TUP* v1642;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1633, v1634, v1635, v1636, v1637, v1638, v1640, &v1641, &v1642);
			branch_ZPlusC99Branch_8 = v1642;
			branch_ZPlusMirth_7 = v1641;
		} break;
		case 150LL: { // PtrAdd
			decref(MKTUP(in_Atom_3, 8));
			STR* v1643;
			STRLIT(v1643, "(void*)(", 8);
			VAL v1644 = MKI64(5LL /* I64 */);
			STR* v1645;
			STRLIT(v1645, " + (char*)", 10);
			VAL v1646 = MKI64(16LL /* PTR */);
			STR* v1647;
			STRLIT(v1647, ")", 1);
			bool v1648 = false;
			VAL v1649 = MKI64(16LL /* PTR */);
			VAL v1650 = mtw_std_maybe_Maybe_1_Some(v1649);
			TUP* v1651;
			TUP* v1652;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1643, v1644, v1645, v1646, v1647, v1648, v1650, &v1651, &v1652);
			branch_ZPlusC99Branch_8 = v1652;
			branch_ZPlusMirth_7 = v1651;
		} break;
		case 151LL: { // PtrSize
			decref(MKTUP(in_Atom_3, 8));
			VAL v1653 = MKI64(9LL /* U64 */);
			incref(v1653);
			int64_t v1654 = get_data_tag(v1653);
			decref(v1653);
			INT v1655 = WRAP_I63(0LL);
			INT v1656 = i64_to_int(v1654);
			bool v1657 = int_eq(v1656, v1655);
			bool v1658 = !v1657;
			VAL branch_C99ReprType_1659;
			bool branch_Bool_1660;
			TUP* branch_ZPlusMirth_1661;
			STR* branch_Str_1662;
			TUP* branch_ZPlusC99Branch_1663;
			if (v1658) {
				TUP* v1664 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v1665;
				TUP* v1666;
				STR* v1667 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v1664, &v1665, &v1666);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v1666, 6);
				branch_ZPlusC99Branch_1663 = in_ZPlusC99Branch_2;
				branch_Str_1662 = v1667;
				branch_ZPlusMirth_1661 = v1665;
				branch_Bool_1660 = v1658;
				branch_C99ReprType_1659 = v1653;
			} else {
				STR* v1668;
				STRLIT(v1668, "0", 1);
				branch_ZPlusC99Branch_1663 = in_ZPlusC99Branch_2;
				branch_Str_1662 = v1668;
				branch_ZPlusMirth_1661 = in_ZPlusMirth_1;
				branch_Bool_1660 = v1658;
				branch_C99ReprType_1659 = v1653;
			}
			bool v1669 = value_bool(branch_ZPlusC99Branch_1663->cells[3]);
			bool v1670 = (branch_Bool_1660 && v1669);
			TUP* v1671 = value_tup(branch_ZPlusC99Branch_1663->cells[0], 6);
			bool v1672 = value_bool(v1671->cells[3]);
			bool v1673 = (v1670 && v1672);
			v1671->cells[3] = MKBOOL(v1673);
			TUP* v1674;
			TUP* v1675;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1661, v1671, &v1674, &v1675);
			incref(branch_C99ReprType_1659);
			STR* v1676 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1659);
			TUP* v1677;
			TUP* v1678;
			mw_mirth_c99_ZPlusC99_put(v1674, v1675, v1676, &v1677, &v1678);
			STR* v1679;
			STRLIT(v1679, " ", 1);
			TUP* v1680;
			TUP* v1681;
			mw_mirth_c99_ZPlusC99_put(v1677, v1678, v1679, &v1680, &v1681);
			incref(MKSTR(branch_Str_1662));
			TUP* v1682;
			TUP* v1683;
			mw_mirth_c99_ZPlusC99_put(v1680, v1681, branch_Str_1662, &v1682, &v1683);
			STR* v1684;
			STRLIT(v1684, " = ", 3);
			TUP* v1685;
			TUP* v1686;
			mw_mirth_c99_ZPlusC99_put(v1682, v1683, v1684, &v1685, &v1686);
			TUP* v1687;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1659, branch_Str_1662, &v1687);
			STR* v1688;
			STRLIT(v1688, "sizeof(void*)", 13);
			TUP* v1689;
			TUP* v1690;
			mw_mirth_c99_ZPlusC99_put(v1685, v1686, v1688, &v1689, &v1690);
			STR* v1691;
			STRLIT(v1691, ";", 1);
			TUP* v1692;
			TUP* v1693;
			mw_mirth_c99_ZPlusC99_put(v1689, v1690, v1691, &v1692, &v1693);
			TUP* v1694;
			TUP* v1695;
			mw_mirth_c99_ZPlusC99_line(v1692, v1693, &v1694, &v1695);
			v1695->cells[3] = MKBOOL(v1672);
			branch_ZPlusC99Branch_1663->cells[0] = MKTUP(v1695, 6);
			TUP* v1696;
			TUP* v1697;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1694, branch_ZPlusC99Branch_1663, v1687, &v1696, &v1697);
			branch_ZPlusC99Branch_8 = v1697;
			branch_ZPlusMirth_7 = v1696;
		} break;
		case 152LL: { // PtrAlloc
			decref(MKTUP(in_Atom_3, 8));
			STR* v1698;
			STRLIT(v1698, "ptr_alloc(", 10);
			VAL v1699 = MKI64(9LL /* U64 */);
			STR* v1700;
			STRLIT(v1700, ");", 2);
			VAL v1701 = MKI64(16LL /* PTR */);
			VAL v1702 = mtw_std_maybe_Maybe_1_Some(v1701);
			TUP* v1703;
			TUP* v1704;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1698, v1699, v1700, v1702, &v1703, &v1704);
			branch_ZPlusC99Branch_8 = v1704;
			branch_ZPlusMirth_7 = v1703;
		} break;
		case 153LL: { // PtrRealloc
			decref(MKTUP(in_Atom_3, 8));
			STR* v1705;
			STRLIT(v1705, "ptr_realloc(", 12);
			VAL v1706 = MKI64(16LL /* PTR */);
			STR* v1707;
			STRLIT(v1707, ",", 1);
			VAL v1708 = MKI64(9LL /* U64 */);
			STR* v1709;
			STRLIT(v1709, ")", 1);
			bool v1710 = false;
			VAL v1711 = MKI64(16LL /* PTR */);
			VAL v1712 = mtw_std_maybe_Maybe_1_Some(v1711);
			TUP* v1713;
			TUP* v1714;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1705, v1706, v1707, v1708, v1709, v1710, v1712, &v1713, &v1714);
			branch_ZPlusC99Branch_8 = v1714;
			branch_ZPlusMirth_7 = v1713;
		} break;
		case 154LL: { // PtrFree
			decref(MKTUP(in_Atom_3, 8));
			STR* v1715;
			STRLIT(v1715, "free(", 5);
			VAL v1716 = MKI64(16LL /* PTR */);
			STR* v1717;
			STRLIT(v1717, ");", 2);
			VAL v1718 = MKI64(0LL /* None */);
			TUP* v1719;
			TUP* v1720;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1715, v1716, v1717, v1718, &v1719, &v1720);
			branch_ZPlusC99Branch_8 = v1720;
			branch_ZPlusMirth_7 = v1719;
		} break;
		case 155LL: { // PtrCopy
			decref(MKTUP(in_Atom_3, 8));
			VAL v1721 = MKI64(16LL /* PTR */);
			TUP* v1722;
			TUP* v1723;
			TUP* v1724;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1721, &v1722, &v1723, &v1724);
			VAL v1725 = MKI64(9LL /* U64 */);
			TUP* v1726;
			TUP* v1727;
			TUP* v1728;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v1722, v1723, v1725, &v1726, &v1727, &v1728);
			VAL v1729 = MKI64(16LL /* PTR */);
			TUP* v1730;
			TUP* v1731;
			TUP* v1732;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v1726, v1727, v1729, &v1730, &v1731, &v1732);
			bool v1733 = value_bool(v1731->cells[3]);
			TUP* v1734 = value_tup(v1731->cells[0], 6);
			bool v1735 = value_bool(v1734->cells[3]);
			bool v1736 = (v1733 && v1735);
			v1734->cells[3] = MKBOOL(v1736);
			TUP* v1737;
			TUP* v1738;
			mw_mirth_c99_ZPlusC99_indent(v1730, v1734, &v1737, &v1738);
			STR* v1739;
			STRLIT(v1739, "ptr_copy(", 9);
			TUP* v1740;
			TUP* v1741;
			mw_mirth_c99_ZPlusC99_put(v1737, v1738, v1739, &v1740, &v1741);
			VAL v1742 = MKI64(16LL /* PTR */);
			STR* v1743 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v1742, v1732);
			TUP* v1744;
			TUP* v1745;
			mw_mirth_c99_ZPlusC99_put(v1740, v1741, v1743, &v1744, &v1745);
			STR* v1746;
			STRLIT(v1746, ", ", 2);
			TUP* v1747;
			TUP* v1748;
			mw_mirth_c99_ZPlusC99_put(v1744, v1745, v1746, &v1747, &v1748);
			VAL v1749 = MKI64(9LL /* U64 */);
			STR* v1750 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v1749, v1728);
			TUP* v1751;
			TUP* v1752;
			mw_mirth_c99_ZPlusC99_put(v1747, v1748, v1750, &v1751, &v1752);
			STR* v1753;
			STRLIT(v1753, ", ", 2);
			TUP* v1754;
			TUP* v1755;
			mw_mirth_c99_ZPlusC99_put(v1751, v1752, v1753, &v1754, &v1755);
			VAL v1756 = MKI64(16LL /* PTR */);
			STR* v1757 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v1756, v1724);
			TUP* v1758;
			TUP* v1759;
			mw_mirth_c99_ZPlusC99_put(v1754, v1755, v1757, &v1758, &v1759);
			STR* v1760;
			STRLIT(v1760, ");", 2);
			TUP* v1761;
			TUP* v1762;
			mw_mirth_c99_ZPlusC99_put(v1758, v1759, v1760, &v1761, &v1762);
			TUP* v1763;
			TUP* v1764;
			mw_mirth_c99_ZPlusC99_line(v1761, v1762, &v1763, &v1764);
			v1764->cells[3] = MKBOOL(v1735);
			v1731->cells[0] = MKTUP(v1764, 6);
			branch_ZPlusC99Branch_8 = v1731;
			branch_ZPlusMirth_7 = v1763;
		} break;
		case 156LL: { // PtrFill
			decref(MKTUP(in_Atom_3, 8));
			VAL v1765 = MKI64(16LL /* PTR */);
			TUP* v1766;
			TUP* v1767;
			TUP* v1768;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1765, &v1766, &v1767, &v1768);
			VAL v1769 = MKI64(9LL /* U64 */);
			TUP* v1770;
			TUP* v1771;
			TUP* v1772;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v1766, v1767, v1769, &v1770, &v1771, &v1772);
			VAL v1773 = MKI64(12LL /* U8 */);
			TUP* v1774;
			TUP* v1775;
			TUP* v1776;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v1770, v1771, v1773, &v1774, &v1775, &v1776);
			bool v1777 = value_bool(v1775->cells[3]);
			TUP* v1778 = value_tup(v1775->cells[0], 6);
			bool v1779 = value_bool(v1778->cells[3]);
			bool v1780 = (v1777 && v1779);
			v1778->cells[3] = MKBOOL(v1780);
			TUP* v1781;
			TUP* v1782;
			mw_mirth_c99_ZPlusC99_indent(v1774, v1778, &v1781, &v1782);
			STR* v1783;
			STRLIT(v1783, "ptr_fill(", 9);
			TUP* v1784;
			TUP* v1785;
			mw_mirth_c99_ZPlusC99_put(v1781, v1782, v1783, &v1784, &v1785);
			VAL v1786 = MKI64(12LL /* U8 */);
			STR* v1787 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v1786, v1776);
			TUP* v1788;
			TUP* v1789;
			mw_mirth_c99_ZPlusC99_put(v1784, v1785, v1787, &v1788, &v1789);
			STR* v1790;
			STRLIT(v1790, ", ", 2);
			TUP* v1791;
			TUP* v1792;
			mw_mirth_c99_ZPlusC99_put(v1788, v1789, v1790, &v1791, &v1792);
			VAL v1793 = MKI64(9LL /* U64 */);
			STR* v1794 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v1793, v1772);
			TUP* v1795;
			TUP* v1796;
			mw_mirth_c99_ZPlusC99_put(v1791, v1792, v1794, &v1795, &v1796);
			STR* v1797;
			STRLIT(v1797, ", ", 2);
			TUP* v1798;
			TUP* v1799;
			mw_mirth_c99_ZPlusC99_put(v1795, v1796, v1797, &v1798, &v1799);
			VAL v1800 = MKI64(16LL /* PTR */);
			STR* v1801 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v1800, v1768);
			TUP* v1802;
			TUP* v1803;
			mw_mirth_c99_ZPlusC99_put(v1798, v1799, v1801, &v1802, &v1803);
			STR* v1804;
			STRLIT(v1804, ");", 2);
			TUP* v1805;
			TUP* v1806;
			mw_mirth_c99_ZPlusC99_put(v1802, v1803, v1804, &v1805, &v1806);
			TUP* v1807;
			TUP* v1808;
			mw_mirth_c99_ZPlusC99_line(v1805, v1806, &v1807, &v1808);
			v1808->cells[3] = MKBOOL(v1779);
			v1775->cells[0] = MKTUP(v1808, 6);
			branch_ZPlusC99Branch_8 = v1775;
			branch_ZPlusMirth_7 = v1807;
		} break;
		case 159LL: { // StrCopy
			decref(MKTUP(in_Atom_3, 8));
			STR* v1809;
			STRLIT(v1809, "str_make(", 9);
			VAL v1810 = MKI64(16LL /* PTR */);
			STR* v1811;
			STRLIT(v1811, ", ", 2);
			VAL v1812 = MKI64(9LL /* U64 */);
			STR* v1813;
			STRLIT(v1813, ")", 1);
			bool v1814 = false;
			VAL v1815 = MKI64(2LL /* STR */);
			VAL v1816 = mtw_std_maybe_Maybe_1_Some(v1815);
			TUP* v1817;
			TUP* v1818;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1809, v1810, v1811, v1812, v1813, v1814, v1816, &v1817, &v1818);
			branch_ZPlusC99Branch_8 = v1818;
			branch_ZPlusMirth_7 = v1817;
		} break;
		case 160LL: { // StrNumBytes
			decref(MKTUP(in_Atom_3, 8));
			STR* v1819;
			STRLIT(v1819, "str_size(", 9);
			VAL v1820 = MKI64(2LL /* STR */);
			STR* v1821;
			STRLIT(v1821, ")", 1);
			VAL v1822 = MKI64(9LL /* U64 */);
			VAL v1823 = mtw_std_maybe_Maybe_1_Some(v1822);
			TUP* v1824;
			TUP* v1825;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1819, v1820, v1821, v1823, &v1824, &v1825);
			branch_ZPlusC99Branch_8 = v1825;
			branch_ZPlusMirth_7 = v1824;
		} break;
		case 161LL: { // StrBase
			decref(MKTUP(in_Atom_3, 8));
			STR* v1826;
			STRLIT(v1826, "str_base(", 9);
			VAL v1827 = MKI64(2LL /* STR */);
			STR* v1828;
			STRLIT(v1828, ")", 1);
			VAL v1829 = MKI64(16LL /* PTR */);
			VAL v1830 = mtw_std_maybe_Maybe_1_Some(v1829);
			TUP* v1831;
			TUP* v1832;
			mw_mirth_c99_c99Z_unopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1826, v1827, v1828, v1830, &v1831, &v1832);
			branch_ZPlusC99Branch_8 = v1832;
			branch_ZPlusMirth_7 = v1831;
		} break;
		case 162LL: { // StrCat
			decref(MKTUP(in_Atom_3, 8));
			STR* v1833;
			STRLIT(v1833, "str_cat(", 8);
			VAL v1834 = MKI64(2LL /* STR */);
			STR* v1835;
			STRLIT(v1835, ", ", 2);
			VAL v1836 = MKI64(2LL /* STR */);
			STR* v1837;
			STRLIT(v1837, ")", 1);
			bool v1838 = false;
			VAL v1839 = MKI64(2LL /* STR */);
			VAL v1840 = mtw_std_maybe_Maybe_1_Some(v1839);
			TUP* v1841;
			TUP* v1842;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1833, v1834, v1835, v1836, v1837, v1838, v1840, &v1841, &v1842);
			branch_ZPlusC99Branch_8 = v1842;
			branch_ZPlusMirth_7 = v1841;
		} break;
		case 163LL: { // StrCmp
			decref(MKTUP(in_Atom_3, 8));
			STR* v1843;
			STRLIT(v1843, "str_cmp(", 8);
			VAL v1844 = MKI64(2LL /* STR */);
			STR* v1845;
			STRLIT(v1845, ", ", 2);
			VAL v1846 = MKI64(2LL /* STR */);
			STR* v1847;
			STRLIT(v1847, ")", 1);
			bool v1848 = false;
			VAL v1849 = MKI64(5LL /* I64 */);
			VAL v1850 = mtw_std_maybe_Maybe_1_Some(v1849);
			TUP* v1851;
			TUP* v1852;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1843, v1844, v1845, v1846, v1847, v1848, v1850, &v1851, &v1852);
			branch_ZPlusC99Branch_8 = v1852;
			branch_ZPlusMirth_7 = v1851;
		} break;
		case 164LL: { // StrEq
			decref(MKTUP(in_Atom_3, 8));
			STR* v1853;
			STRLIT(v1853, "(str_cmp(", 9);
			VAL v1854 = MKI64(2LL /* STR */);
			STR* v1855;
			STRLIT(v1855, ", ", 2);
			VAL v1856 = MKI64(2LL /* STR */);
			STR* v1857;
			STRLIT(v1857, ") == 0)", 7);
			bool v1858 = false;
			VAL v1859 = MKI64(15LL /* Bool */);
			VAL v1860 = mtw_std_maybe_Maybe_1_Some(v1859);
			TUP* v1861;
			TUP* v1862;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1853, v1854, v1855, v1856, v1857, v1858, v1860, &v1861, &v1862);
			branch_ZPlusC99Branch_8 = v1862;
			branch_ZPlusMirth_7 = v1861;
		} break;
		case 165LL: { // StrLt
			decref(MKTUP(in_Atom_3, 8));
			STR* v1863;
			STRLIT(v1863, "(str_cmp(", 9);
			VAL v1864 = MKI64(2LL /* STR */);
			STR* v1865;
			STRLIT(v1865, ", ", 2);
			VAL v1866 = MKI64(2LL /* STR */);
			STR* v1867;
			STRLIT(v1867, ") < 0)", 6);
			bool v1868 = false;
			VAL v1869 = MKI64(15LL /* Bool */);
			VAL v1870 = mtw_std_maybe_Maybe_1_Some(v1869);
			TUP* v1871;
			TUP* v1872;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1863, v1864, v1865, v1866, v1867, v1868, v1870, &v1871, &v1872);
			branch_ZPlusC99Branch_8 = v1872;
			branch_ZPlusMirth_7 = v1871;
		} break;
		case 166LL: { // StrLe
			decref(MKTUP(in_Atom_3, 8));
			STR* v1873;
			STRLIT(v1873, "(str_cmp(", 9);
			VAL v1874 = MKI64(2LL /* STR */);
			STR* v1875;
			STRLIT(v1875, ", ", 2);
			VAL v1876 = MKI64(2LL /* STR */);
			STR* v1877;
			STRLIT(v1877, ") <= 0)", 7);
			bool v1878 = false;
			VAL v1879 = MKI64(15LL /* Bool */);
			VAL v1880 = mtw_std_maybe_Maybe_1_Some(v1879);
			TUP* v1881;
			TUP* v1882;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1873, v1874, v1875, v1876, v1877, v1878, v1880, &v1881, &v1882);
			branch_ZPlusC99Branch_8 = v1882;
			branch_ZPlusMirth_7 = v1881;
		} break;
		case 167LL: { // StrGt
			decref(MKTUP(in_Atom_3, 8));
			STR* v1883;
			STRLIT(v1883, "(str_cmp(", 9);
			VAL v1884 = MKI64(2LL /* STR */);
			STR* v1885;
			STRLIT(v1885, ", ", 2);
			VAL v1886 = MKI64(2LL /* STR */);
			STR* v1887;
			STRLIT(v1887, ") > 0)", 6);
			bool v1888 = false;
			VAL v1889 = MKI64(15LL /* Bool */);
			VAL v1890 = mtw_std_maybe_Maybe_1_Some(v1889);
			TUP* v1891;
			TUP* v1892;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1883, v1884, v1885, v1886, v1887, v1888, v1890, &v1891, &v1892);
			branch_ZPlusC99Branch_8 = v1892;
			branch_ZPlusMirth_7 = v1891;
		} break;
		case 168LL: { // StrGe
			decref(MKTUP(in_Atom_3, 8));
			STR* v1893;
			STRLIT(v1893, "(str_cmp(", 9);
			VAL v1894 = MKI64(2LL /* STR */);
			STR* v1895;
			STRLIT(v1895, ", ", 2);
			VAL v1896 = MKI64(2LL /* STR */);
			STR* v1897;
			STRLIT(v1897, ") >= 0)", 7);
			bool v1898 = false;
			VAL v1899 = MKI64(15LL /* Bool */);
			VAL v1900 = mtw_std_maybe_Maybe_1_Some(v1899);
			TUP* v1901;
			TUP* v1902;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1893, v1894, v1895, v1896, v1897, v1898, v1900, &v1901, &v1902);
			branch_ZPlusC99Branch_8 = v1902;
			branch_ZPlusMirth_7 = v1901;
		} break;
		case 169LL: { // StrNe
			decref(MKTUP(in_Atom_3, 8));
			STR* v1903;
			STRLIT(v1903, "(str_cmp(", 9);
			VAL v1904 = MKI64(2LL /* STR */);
			STR* v1905;
			STRLIT(v1905, ", ", 2);
			VAL v1906 = MKI64(2LL /* STR */);
			STR* v1907;
			STRLIT(v1907, ") != 0)", 7);
			bool v1908 = false;
			VAL v1909 = MKI64(15LL /* Bool */);
			VAL v1910 = mtw_std_maybe_Maybe_1_Some(v1909);
			TUP* v1911;
			TUP* v1912;
			mw_mirth_c99_c99Z_binopZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v1903, v1904, v1905, v1906, v1907, v1908, v1910, &v1911, &v1912);
			branch_ZPlusC99Branch_8 = v1912;
			branch_ZPlusMirth_7 = v1911;
		} break;
		case 171LL: { // StrToF32
			VAL v1913 = in_Atom_3->cells[4];
			incref(v1913);
			decref(MKTUP(in_Atom_3, 8));
			STR* v1914;
			STRLIT(v1914, "str_to_f32", 10);
			int64_t v1915 = 171LL /* StrToF32 */;
			TUP* v1916;
			TUP* v1917 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v1915, &v1916);
			TUP* v1918 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
			TUP* v1919;
			TUP* v1920;
			TUP* v1921 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v1916, v1918, v1914, v1917, &v1919, &v1920);
			in_ZPlusC99Branch_2->cells[0] = MKTUP(v1920, 6);
			TUP* v1922;
			TUP* v1923;
			mw_mirth_c99_c99Z_smartZ_callZBang(v1919, in_ZPlusC99Branch_2, v1913, v1921, &v1922, &v1923);
			branch_ZPlusC99Branch_8 = v1923;
			branch_ZPlusMirth_7 = v1922;
		} break;
		case 170LL: { // StrToF64
			VAL v1924 = in_Atom_3->cells[4];
			incref(v1924);
			decref(MKTUP(in_Atom_3, 8));
			STR* v1925;
			STRLIT(v1925, "str_to_f64", 10);
			int64_t v1926 = 170LL /* StrToF64 */;
			TUP* v1927;
			TUP* v1928 = mw_mirth_prim_Prim_type(in_ZPlusMirth_1, v1926, &v1927);
			TUP* v1929 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
			TUP* v1930;
			TUP* v1931;
			TUP* v1932 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v1927, v1929, v1925, v1928, &v1930, &v1931);
			in_ZPlusC99Branch_2->cells[0] = MKTUP(v1931, 6);
			TUP* v1933;
			TUP* v1934;
			mw_mirth_c99_c99Z_smartZ_callZBang(v1930, in_ZPlusC99Branch_2, v1924, v1932, &v1933, &v1934);
			branch_ZPlusC99Branch_8 = v1934;
			branch_ZPlusMirth_7 = v1933;
		} break;
		case 172LL: { // SysOs
			decref(MKTUP(in_Atom_3, 8));
			VAL v1935 = MKI64(5LL /* I64 */);
			incref(v1935);
			int64_t v1936 = get_data_tag(v1935);
			decref(v1935);
			INT v1937 = WRAP_I63(0LL);
			INT v1938 = i64_to_int(v1936);
			bool v1939 = int_eq(v1938, v1937);
			bool v1940 = !v1939;
			VAL branch_C99ReprType_1941;
			bool branch_Bool_1942;
			TUP* branch_ZPlusMirth_1943;
			STR* branch_Str_1944;
			TUP* branch_ZPlusC99Branch_1945;
			if (v1940) {
				TUP* v1946 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v1947;
				TUP* v1948;
				STR* v1949 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v1946, &v1947, &v1948);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v1948, 6);
				branch_ZPlusC99Branch_1945 = in_ZPlusC99Branch_2;
				branch_Str_1944 = v1949;
				branch_ZPlusMirth_1943 = v1947;
				branch_Bool_1942 = v1940;
				branch_C99ReprType_1941 = v1935;
			} else {
				STR* v1950;
				STRLIT(v1950, "0", 1);
				branch_ZPlusC99Branch_1945 = in_ZPlusC99Branch_2;
				branch_Str_1944 = v1950;
				branch_ZPlusMirth_1943 = in_ZPlusMirth_1;
				branch_Bool_1942 = v1940;
				branch_C99ReprType_1941 = v1935;
			}
			bool v1951 = value_bool(branch_ZPlusC99Branch_1945->cells[3]);
			bool v1952 = (branch_Bool_1942 && v1951);
			TUP* v1953 = value_tup(branch_ZPlusC99Branch_1945->cells[0], 6);
			bool v1954 = value_bool(v1953->cells[3]);
			bool v1955 = (v1952 && v1954);
			v1953->cells[3] = MKBOOL(v1955);
			TUP* v1956;
			TUP* v1957;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1943, v1953, &v1956, &v1957);
			incref(branch_C99ReprType_1941);
			STR* v1958 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1941);
			TUP* v1959;
			TUP* v1960;
			mw_mirth_c99_ZPlusC99_put(v1956, v1957, v1958, &v1959, &v1960);
			STR* v1961;
			STRLIT(v1961, " ", 1);
			TUP* v1962;
			TUP* v1963;
			mw_mirth_c99_ZPlusC99_put(v1959, v1960, v1961, &v1962, &v1963);
			incref(MKSTR(branch_Str_1944));
			TUP* v1964;
			TUP* v1965;
			mw_mirth_c99_ZPlusC99_put(v1962, v1963, branch_Str_1944, &v1964, &v1965);
			STR* v1966;
			STRLIT(v1966, " = ", 3);
			TUP* v1967;
			TUP* v1968;
			mw_mirth_c99_ZPlusC99_put(v1964, v1965, v1966, &v1967, &v1968);
			TUP* v1969;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1941, branch_Str_1944, &v1969);
			STR* v1970;
			STRLIT(v1970, "RUNNING_OS", 10);
			TUP* v1971;
			TUP* v1972;
			mw_mirth_c99_ZPlusC99_put(v1967, v1968, v1970, &v1971, &v1972);
			STR* v1973;
			STRLIT(v1973, ";", 1);
			TUP* v1974;
			TUP* v1975;
			mw_mirth_c99_ZPlusC99_put(v1971, v1972, v1973, &v1974, &v1975);
			TUP* v1976;
			TUP* v1977;
			mw_mirth_c99_ZPlusC99_line(v1974, v1975, &v1976, &v1977);
			v1977->cells[3] = MKBOOL(v1954);
			branch_ZPlusC99Branch_1945->cells[0] = MKTUP(v1977, 6);
			TUP* v1978;
			TUP* v1979;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v1976, branch_ZPlusC99Branch_1945, v1969, &v1978, &v1979);
			branch_ZPlusC99Branch_8 = v1979;
			branch_ZPlusMirth_7 = v1978;
		} break;
		case 173LL: { // SysArch
			decref(MKTUP(in_Atom_3, 8));
			VAL v1980 = MKI64(5LL /* I64 */);
			incref(v1980);
			int64_t v1981 = get_data_tag(v1980);
			decref(v1980);
			INT v1982 = WRAP_I63(0LL);
			INT v1983 = i64_to_int(v1981);
			bool v1984 = int_eq(v1983, v1982);
			bool v1985 = !v1984;
			VAL branch_C99ReprType_1986;
			bool branch_Bool_1987;
			TUP* branch_ZPlusMirth_1988;
			STR* branch_Str_1989;
			TUP* branch_ZPlusC99Branch_1990;
			if (v1985) {
				TUP* v1991 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v1992;
				TUP* v1993;
				STR* v1994 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v1991, &v1992, &v1993);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v1993, 6);
				branch_ZPlusC99Branch_1990 = in_ZPlusC99Branch_2;
				branch_Str_1989 = v1994;
				branch_ZPlusMirth_1988 = v1992;
				branch_Bool_1987 = v1985;
				branch_C99ReprType_1986 = v1980;
			} else {
				STR* v1995;
				STRLIT(v1995, "0", 1);
				branch_ZPlusC99Branch_1990 = in_ZPlusC99Branch_2;
				branch_Str_1989 = v1995;
				branch_ZPlusMirth_1988 = in_ZPlusMirth_1;
				branch_Bool_1987 = v1985;
				branch_C99ReprType_1986 = v1980;
			}
			bool v1996 = value_bool(branch_ZPlusC99Branch_1990->cells[3]);
			bool v1997 = (branch_Bool_1987 && v1996);
			TUP* v1998 = value_tup(branch_ZPlusC99Branch_1990->cells[0], 6);
			bool v1999 = value_bool(v1998->cells[3]);
			bool v2000 = (v1997 && v1999);
			v1998->cells[3] = MKBOOL(v2000);
			TUP* v2001;
			TUP* v2002;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_1988, v1998, &v2001, &v2002);
			incref(branch_C99ReprType_1986);
			STR* v2003 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1986);
			TUP* v2004;
			TUP* v2005;
			mw_mirth_c99_ZPlusC99_put(v2001, v2002, v2003, &v2004, &v2005);
			STR* v2006;
			STRLIT(v2006, " ", 1);
			TUP* v2007;
			TUP* v2008;
			mw_mirth_c99_ZPlusC99_put(v2004, v2005, v2006, &v2007, &v2008);
			incref(MKSTR(branch_Str_1989));
			TUP* v2009;
			TUP* v2010;
			mw_mirth_c99_ZPlusC99_put(v2007, v2008, branch_Str_1989, &v2009, &v2010);
			STR* v2011;
			STRLIT(v2011, " = ", 3);
			TUP* v2012;
			TUP* v2013;
			mw_mirth_c99_ZPlusC99_put(v2009, v2010, v2011, &v2012, &v2013);
			TUP* v2014;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1986, branch_Str_1989, &v2014);
			STR* v2015;
			STRLIT(v2015, "RUNNING_ARCH", 12);
			TUP* v2016;
			TUP* v2017;
			mw_mirth_c99_ZPlusC99_put(v2012, v2013, v2015, &v2016, &v2017);
			STR* v2018;
			STRLIT(v2018, ";", 1);
			TUP* v2019;
			TUP* v2020;
			mw_mirth_c99_ZPlusC99_put(v2016, v2017, v2018, &v2019, &v2020);
			TUP* v2021;
			TUP* v2022;
			mw_mirth_c99_ZPlusC99_line(v2019, v2020, &v2021, &v2022);
			v2022->cells[3] = MKBOOL(v1999);
			branch_ZPlusC99Branch_1990->cells[0] = MKTUP(v2022, 6);
			TUP* v2023;
			TUP* v2024;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v2021, branch_ZPlusC99Branch_1990, v2014, &v2023, &v2024);
			branch_ZPlusC99Branch_8 = v2024;
			branch_ZPlusMirth_7 = v2023;
		} break;
		case 174LL: { // SysArgc
			decref(MKTUP(in_Atom_3, 8));
			VAL v2025 = MKI64(9LL /* U64 */);
			incref(v2025);
			int64_t v2026 = get_data_tag(v2025);
			decref(v2025);
			INT v2027 = WRAP_I63(0LL);
			INT v2028 = i64_to_int(v2026);
			bool v2029 = int_eq(v2028, v2027);
			bool v2030 = !v2029;
			VAL branch_C99ReprType_2031;
			bool branch_Bool_2032;
			TUP* branch_ZPlusMirth_2033;
			STR* branch_Str_2034;
			TUP* branch_ZPlusC99Branch_2035;
			if (v2030) {
				TUP* v2036 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v2037;
				TUP* v2038;
				STR* v2039 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v2036, &v2037, &v2038);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v2038, 6);
				branch_ZPlusC99Branch_2035 = in_ZPlusC99Branch_2;
				branch_Str_2034 = v2039;
				branch_ZPlusMirth_2033 = v2037;
				branch_Bool_2032 = v2030;
				branch_C99ReprType_2031 = v2025;
			} else {
				STR* v2040;
				STRLIT(v2040, "0", 1);
				branch_ZPlusC99Branch_2035 = in_ZPlusC99Branch_2;
				branch_Str_2034 = v2040;
				branch_ZPlusMirth_2033 = in_ZPlusMirth_1;
				branch_Bool_2032 = v2030;
				branch_C99ReprType_2031 = v2025;
			}
			bool v2041 = value_bool(branch_ZPlusC99Branch_2035->cells[3]);
			bool v2042 = (branch_Bool_2032 && v2041);
			TUP* v2043 = value_tup(branch_ZPlusC99Branch_2035->cells[0], 6);
			bool v2044 = value_bool(v2043->cells[3]);
			bool v2045 = (v2042 && v2044);
			v2043->cells[3] = MKBOOL(v2045);
			TUP* v2046;
			TUP* v2047;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_2033, v2043, &v2046, &v2047);
			incref(branch_C99ReprType_2031);
			STR* v2048 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_2031);
			TUP* v2049;
			TUP* v2050;
			mw_mirth_c99_ZPlusC99_put(v2046, v2047, v2048, &v2049, &v2050);
			STR* v2051;
			STRLIT(v2051, " ", 1);
			TUP* v2052;
			TUP* v2053;
			mw_mirth_c99_ZPlusC99_put(v2049, v2050, v2051, &v2052, &v2053);
			incref(MKSTR(branch_Str_2034));
			TUP* v2054;
			TUP* v2055;
			mw_mirth_c99_ZPlusC99_put(v2052, v2053, branch_Str_2034, &v2054, &v2055);
			STR* v2056;
			STRLIT(v2056, " = ", 3);
			TUP* v2057;
			TUP* v2058;
			mw_mirth_c99_ZPlusC99_put(v2054, v2055, v2056, &v2057, &v2058);
			TUP* v2059;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_2031, branch_Str_2034, &v2059);
			STR* v2060;
			STRLIT(v2060, "global_argc", 11);
			TUP* v2061;
			TUP* v2062;
			mw_mirth_c99_ZPlusC99_put(v2057, v2058, v2060, &v2061, &v2062);
			STR* v2063;
			STRLIT(v2063, ";", 1);
			TUP* v2064;
			TUP* v2065;
			mw_mirth_c99_ZPlusC99_put(v2061, v2062, v2063, &v2064, &v2065);
			TUP* v2066;
			TUP* v2067;
			mw_mirth_c99_ZPlusC99_line(v2064, v2065, &v2066, &v2067);
			v2067->cells[3] = MKBOOL(v2044);
			branch_ZPlusC99Branch_2035->cells[0] = MKTUP(v2067, 6);
			TUP* v2068;
			TUP* v2069;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v2066, branch_ZPlusC99Branch_2035, v2059, &v2068, &v2069);
			branch_ZPlusC99Branch_8 = v2069;
			branch_ZPlusMirth_7 = v2068;
		} break;
		case 175LL: { // SysArgv
			decref(MKTUP(in_Atom_3, 8));
			VAL v2070 = MKI64(16LL /* PTR */);
			incref(v2070);
			int64_t v2071 = get_data_tag(v2070);
			decref(v2070);
			INT v2072 = WRAP_I63(0LL);
			INT v2073 = i64_to_int(v2071);
			bool v2074 = int_eq(v2073, v2072);
			bool v2075 = !v2074;
			VAL branch_C99ReprType_2076;
			bool branch_Bool_2077;
			TUP* branch_ZPlusMirth_2078;
			STR* branch_Str_2079;
			TUP* branch_ZPlusC99Branch_2080;
			if (v2075) {
				TUP* v2081 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v2082;
				TUP* v2083;
				STR* v2084 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_1, v2081, &v2082, &v2083);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v2083, 6);
				branch_ZPlusC99Branch_2080 = in_ZPlusC99Branch_2;
				branch_Str_2079 = v2084;
				branch_ZPlusMirth_2078 = v2082;
				branch_Bool_2077 = v2075;
				branch_C99ReprType_2076 = v2070;
			} else {
				STR* v2085;
				STRLIT(v2085, "0", 1);
				branch_ZPlusC99Branch_2080 = in_ZPlusC99Branch_2;
				branch_Str_2079 = v2085;
				branch_ZPlusMirth_2078 = in_ZPlusMirth_1;
				branch_Bool_2077 = v2075;
				branch_C99ReprType_2076 = v2070;
			}
			bool v2086 = value_bool(branch_ZPlusC99Branch_2080->cells[3]);
			bool v2087 = (branch_Bool_2077 && v2086);
			TUP* v2088 = value_tup(branch_ZPlusC99Branch_2080->cells[0], 6);
			bool v2089 = value_bool(v2088->cells[3]);
			bool v2090 = (v2087 && v2089);
			v2088->cells[3] = MKBOOL(v2090);
			TUP* v2091;
			TUP* v2092;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_2078, v2088, &v2091, &v2092);
			incref(branch_C99ReprType_2076);
			STR* v2093 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_2076);
			TUP* v2094;
			TUP* v2095;
			mw_mirth_c99_ZPlusC99_put(v2091, v2092, v2093, &v2094, &v2095);
			STR* v2096;
			STRLIT(v2096, " ", 1);
			TUP* v2097;
			TUP* v2098;
			mw_mirth_c99_ZPlusC99_put(v2094, v2095, v2096, &v2097, &v2098);
			incref(MKSTR(branch_Str_2079));
			TUP* v2099;
			TUP* v2100;
			mw_mirth_c99_ZPlusC99_put(v2097, v2098, branch_Str_2079, &v2099, &v2100);
			STR* v2101;
			STRLIT(v2101, " = ", 3);
			TUP* v2102;
			TUP* v2103;
			mw_mirth_c99_ZPlusC99_put(v2099, v2100, v2101, &v2102, &v2103);
			TUP* v2104;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_2076, branch_Str_2079, &v2104);
			STR* v2105;
			STRLIT(v2105, "global_argv", 11);
			TUP* v2106;
			TUP* v2107;
			mw_mirth_c99_ZPlusC99_put(v2102, v2103, v2105, &v2106, &v2107);
			STR* v2108;
			STRLIT(v2108, ";", 1);
			TUP* v2109;
			TUP* v2110;
			mw_mirth_c99_ZPlusC99_put(v2106, v2107, v2108, &v2109, &v2110);
			TUP* v2111;
			TUP* v2112;
			mw_mirth_c99_ZPlusC99_line(v2109, v2110, &v2111, &v2112);
			v2112->cells[3] = MKBOOL(v2089);
			branch_ZPlusC99Branch_2080->cells[0] = MKTUP(v2112, 6);
			TUP* v2113;
			TUP* v2114;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v2111, branch_ZPlusC99Branch_2080, v2104, &v2113, &v2114);
			branch_ZPlusC99Branch_8 = v2114;
			branch_ZPlusMirth_7 = v2113;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_c99_c99Z_tupZ_packZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, INT in_Nat_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = MKI64(0LL /* None */);
	VAL v7 = mw_std_list_List_1_List_1_sp7(in_Nat_3);
	TUP* v8;
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_c99Z_packZ_tupleZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, v7, &v8, &v9, &v10);
	TUP* v11;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v10, &v11);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v8, v9, v11, &v12, &v13);
	*out_ZPlusC99Branch_5 = v13;
	*out_ZPlusMirth_4 = v12;
}
static void mw_mirth_c99_c99Z_tupZ_unpackZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, INT in_Nat_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = MKI64(0LL /* None */);
	incref(MKINT(in_Nat_3));
	VAL v7 = mw_std_list_List_1_List_1_sp7(in_Nat_3);
	VAL v8 = mtw_mirth_c99_C99ReprType_TUP(in_Nat_3);
	TUP* v9;
	TUP* v10;
	TUP* v11;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v8, &v9, &v10, &v11);
	TUP* v12;
	mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v11, &v12);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_c99Z_unpackZ_tupleZBang(v9, v10, v12, v6, v7, &v13, &v14);
	*out_ZPlusC99Branch_5 = v14;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_ZPlusC99Value_runZ_valueZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_ZPlusC99Value_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	STR* v6 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_3);
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v7, &v8);
	bool v9 = value_bool(v8->cells[3]);
	TUP* v10 = value_tup(v8->cells[0], 6);
	bool v11 = value_bool(v10->cells[3]);
	bool v12 = (v9 && v11);
	v10->cells[3] = MKBOOL(v12);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99_indent(v7, v10, &v13, &v14);
	STR* v15;
	STRLIT(v15, "run_value(", 10);
	TUP* v16;
	TUP* v17;
	mw_mirth_c99_ZPlusC99_put(v13, v14, v15, &v16, &v17);
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99_put(v16, v17, v6, &v18, &v19);
	STR* v20;
	STRLIT(v20, ");", 2);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_put(v18, v19, v20, &v21, &v22);
	TUP* v23;
	TUP* v24;
	mw_mirth_c99_ZPlusC99_line(v21, v22, &v23, &v24);
	v24->cells[3] = MKBOOL(v11);
	v8->cells[0] = MKTUP(v24, 6);
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v23;
}
static void mw_mirth_c99_c99Z_binopZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, VAL in_C99ReprType_4, STR* in_Str_5, VAL in_C99ReprType_6, STR* in_Str_7, bool in_Bool_8, VAL in_Maybe_9, TUP* *out_ZPlusMirth_10, TUP* *out_ZPlusC99Branch_11) {
	VAL branch_Maybe_12;
	STR* branch_Str_13;
	STR* branch_Str_14;
	STR* branch_Str_15;
	STR* branch_Str_16;
	TUP* branch_ZPlusMirth_17;
	TUP* branch_ZPlusC99Branch_18;
	STR* branch_Str_19;
	if (in_Bool_8) {
		incref(in_C99ReprType_4);
		TUP* v20;
		TUP* v21;
		TUP* v22;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_4, &v20, &v21, &v22);
		STR* v23 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_4, v22);
		incref(in_C99ReprType_6);
		TUP* v24;
		TUP* v25;
		TUP* v26;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v20, v21, in_C99ReprType_6, &v24, &v25, &v26);
		STR* v27 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_6, v26);
		branch_Str_19 = v27;
		branch_ZPlusC99Branch_18 = v25;
		branch_ZPlusMirth_17 = v24;
		branch_Str_16 = v23;
		branch_Str_15 = in_Str_3;
		branch_Str_14 = in_Str_5;
		branch_Str_13 = in_Str_7;
		branch_Maybe_12 = in_Maybe_9;
	} else {
		incref(in_C99ReprType_6);
		TUP* v28;
		TUP* v29;
		TUP* v30;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_6, &v28, &v29, &v30);
		STR* v31 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_6, v30);
		incref(in_C99ReprType_4);
		TUP* v32;
		TUP* v33;
		TUP* v34;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v28, v29, in_C99ReprType_4, &v32, &v33, &v34);
		STR* v35 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_4, v34);
		branch_Str_19 = v31;
		branch_ZPlusC99Branch_18 = v33;
		branch_ZPlusMirth_17 = v32;
		branch_Str_16 = v35;
		branch_Str_15 = in_Str_3;
		branch_Str_14 = in_Str_5;
		branch_Str_13 = in_Str_7;
		branch_Maybe_12 = in_Maybe_9;
	}
	TUP* branch_ZPlusMirth_36;
	TUP* branch_ZPlusC99Branch_37;
	switch (get_data_tag(branch_Maybe_12)) {
		case 1LL: { // Some
			VAL v38 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_12);
			incref(v38);
			int64_t v39 = get_data_tag(v38);
			decref(v38);
			INT v40 = WRAP_I63(0LL);
			INT v41 = i64_to_int(v39);
			bool v42 = int_eq(v41, v40);
			bool v43 = !v42;
			STR* branch_Str_44;
			STR* branch_Str_45;
			STR* branch_Str_46;
			STR* branch_Str_47;
			STR* branch_Str_48;
			VAL branch_C99ReprType_49;
			bool branch_Bool_50;
			TUP* branch_ZPlusMirth_51;
			STR* branch_Str_52;
			TUP* branch_ZPlusC99Branch_53;
			if (v43) {
				TUP* v54 = value_tup(branch_ZPlusC99Branch_18->cells[0], 6);
				TUP* v55;
				TUP* v56;
				STR* v57 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(branch_ZPlusMirth_17, v54, &v55, &v56);
				branch_ZPlusC99Branch_18->cells[0] = MKTUP(v56, 6);
				branch_ZPlusC99Branch_53 = branch_ZPlusC99Branch_18;
				branch_Str_52 = v57;
				branch_ZPlusMirth_51 = v55;
				branch_Bool_50 = v43;
				branch_C99ReprType_49 = v38;
				branch_Str_48 = branch_Str_15;
				branch_Str_47 = branch_Str_16;
				branch_Str_46 = branch_Str_14;
				branch_Str_45 = branch_Str_19;
				branch_Str_44 = branch_Str_13;
			} else {
				STR* v58;
				STRLIT(v58, "0", 1);
				branch_ZPlusC99Branch_53 = branch_ZPlusC99Branch_18;
				branch_Str_52 = v58;
				branch_ZPlusMirth_51 = branch_ZPlusMirth_17;
				branch_Bool_50 = v43;
				branch_C99ReprType_49 = v38;
				branch_Str_48 = branch_Str_15;
				branch_Str_47 = branch_Str_16;
				branch_Str_46 = branch_Str_14;
				branch_Str_45 = branch_Str_19;
				branch_Str_44 = branch_Str_13;
			}
			bool v59 = value_bool(branch_ZPlusC99Branch_53->cells[3]);
			bool v60 = (branch_Bool_50 && v59);
			TUP* v61 = value_tup(branch_ZPlusC99Branch_53->cells[0], 6);
			bool v62 = value_bool(v61->cells[3]);
			bool v63 = (v60 && v62);
			v61->cells[3] = MKBOOL(v63);
			TUP* v64;
			TUP* v65;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_51, v61, &v64, &v65);
			incref(branch_C99ReprType_49);
			STR* v66 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_49);
			TUP* v67;
			TUP* v68;
			mw_mirth_c99_ZPlusC99_put(v64, v65, v66, &v67, &v68);
			STR* v69;
			STRLIT(v69, " ", 1);
			TUP* v70;
			TUP* v71;
			mw_mirth_c99_ZPlusC99_put(v67, v68, v69, &v70, &v71);
			incref(MKSTR(branch_Str_52));
			TUP* v72;
			TUP* v73;
			mw_mirth_c99_ZPlusC99_put(v70, v71, branch_Str_52, &v72, &v73);
			STR* v74;
			STRLIT(v74, " = ", 3);
			TUP* v75;
			TUP* v76;
			mw_mirth_c99_ZPlusC99_put(v72, v73, v74, &v75, &v76);
			TUP* v77;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_49, branch_Str_52, &v77);
			TUP* v78;
			TUP* v79;
			mw_mirth_c99_ZPlusC99_put(v75, v76, branch_Str_48, &v78, &v79);
			TUP* v80;
			TUP* v81;
			mw_mirth_c99_ZPlusC99_put(v78, v79, branch_Str_47, &v80, &v81);
			TUP* v82;
			TUP* v83;
			mw_mirth_c99_ZPlusC99_put(v80, v81, branch_Str_46, &v82, &v83);
			TUP* v84;
			TUP* v85;
			mw_mirth_c99_ZPlusC99_put(v82, v83, branch_Str_45, &v84, &v85);
			TUP* v86;
			TUP* v87;
			mw_mirth_c99_ZPlusC99_put(v84, v85, branch_Str_44, &v86, &v87);
			STR* v88;
			STRLIT(v88, ";", 1);
			TUP* v89;
			TUP* v90;
			mw_mirth_c99_ZPlusC99_put(v86, v87, v88, &v89, &v90);
			TUP* v91;
			TUP* v92;
			mw_mirth_c99_ZPlusC99_line(v89, v90, &v91, &v92);
			v92->cells[3] = MKBOOL(v62);
			branch_ZPlusC99Branch_53->cells[0] = MKTUP(v92, 6);
			TUP* v93;
			TUP* v94;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v91, branch_ZPlusC99Branch_53, v77, &v93, &v94);
			branch_ZPlusC99Branch_37 = v94;
			branch_ZPlusMirth_36 = v93;
		} break;
		case 0LL: { // None
			bool v95 = value_bool(branch_ZPlusC99Branch_18->cells[3]);
			TUP* v96 = value_tup(branch_ZPlusC99Branch_18->cells[0], 6);
			bool v97 = value_bool(v96->cells[3]);
			bool v98 = (v95 && v97);
			v96->cells[3] = MKBOOL(v98);
			TUP* v99;
			TUP* v100;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_17, v96, &v99, &v100);
			TUP* v101;
			TUP* v102;
			mw_mirth_c99_ZPlusC99_put(v99, v100, branch_Str_15, &v101, &v102);
			TUP* v103;
			TUP* v104;
			mw_mirth_c99_ZPlusC99_put(v101, v102, branch_Str_16, &v103, &v104);
			TUP* v105;
			TUP* v106;
			mw_mirth_c99_ZPlusC99_put(v103, v104, branch_Str_14, &v105, &v106);
			TUP* v107;
			TUP* v108;
			mw_mirth_c99_ZPlusC99_put(v105, v106, branch_Str_19, &v107, &v108);
			TUP* v109;
			TUP* v110;
			mw_mirth_c99_ZPlusC99_put(v107, v108, branch_Str_13, &v109, &v110);
			TUP* v111;
			TUP* v112;
			mw_mirth_c99_ZPlusC99_line(v109, v110, &v111, &v112);
			v112->cells[3] = MKBOOL(v97);
			branch_ZPlusC99Branch_18->cells[0] = MKTUP(v112, 6);
			branch_ZPlusC99Branch_37 = branch_ZPlusC99Branch_18;
			branch_ZPlusMirth_36 = v111;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_11 = branch_ZPlusC99Branch_37;
	*out_ZPlusMirth_10 = branch_ZPlusMirth_36;
}
static void mw_mirth_c99_c99Z_unopZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, STR* in_Str_3, VAL in_C99ReprType_4, STR* in_Str_5, VAL in_Maybe_6, TUP* *out_ZPlusMirth_7, TUP* *out_ZPlusC99Branch_8) {
	incref(in_C99ReprType_4);
	TUP* v9;
	TUP* v10;
	TUP* v11;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_C99ReprType_4, &v9, &v10, &v11);
	STR* v12 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_4, v11);
	TUP* branch_ZPlusMirth_13;
	TUP* branch_ZPlusC99Branch_14;
	switch (get_data_tag(in_Maybe_6)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(in_Maybe_6);
			incref(v15);
			int64_t v16 = get_data_tag(v15);
			decref(v15);
			INT v17 = WRAP_I63(0LL);
			INT v18 = i64_to_int(v16);
			bool v19 = int_eq(v18, v17);
			bool v20 = !v19;
			STR* branch_Str_21;
			STR* branch_Str_22;
			STR* branch_Str_23;
			VAL branch_C99ReprType_24;
			bool branch_Bool_25;
			TUP* branch_ZPlusMirth_26;
			STR* branch_Str_27;
			TUP* branch_ZPlusC99Branch_28;
			if (v20) {
				TUP* v29 = value_tup(v10->cells[0], 6);
				TUP* v30;
				TUP* v31;
				STR* v32 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v9, v29, &v30, &v31);
				v10->cells[0] = MKTUP(v31, 6);
				branch_ZPlusC99Branch_28 = v10;
				branch_Str_27 = v32;
				branch_ZPlusMirth_26 = v30;
				branch_Bool_25 = v20;
				branch_C99ReprType_24 = v15;
				branch_Str_23 = in_Str_3;
				branch_Str_22 = v12;
				branch_Str_21 = in_Str_5;
			} else {
				STR* v33;
				STRLIT(v33, "0", 1);
				branch_ZPlusC99Branch_28 = v10;
				branch_Str_27 = v33;
				branch_ZPlusMirth_26 = v9;
				branch_Bool_25 = v20;
				branch_C99ReprType_24 = v15;
				branch_Str_23 = in_Str_3;
				branch_Str_22 = v12;
				branch_Str_21 = in_Str_5;
			}
			bool v34 = value_bool(branch_ZPlusC99Branch_28->cells[3]);
			bool v35 = (branch_Bool_25 && v34);
			TUP* v36 = value_tup(branch_ZPlusC99Branch_28->cells[0], 6);
			bool v37 = value_bool(v36->cells[3]);
			bool v38 = (v35 && v37);
			v36->cells[3] = MKBOOL(v38);
			TUP* v39;
			TUP* v40;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_26, v36, &v39, &v40);
			incref(branch_C99ReprType_24);
			STR* v41 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_24);
			TUP* v42;
			TUP* v43;
			mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
			STR* v44;
			STRLIT(v44, " ", 1);
			TUP* v45;
			TUP* v46;
			mw_mirth_c99_ZPlusC99_put(v42, v43, v44, &v45, &v46);
			incref(MKSTR(branch_Str_27));
			TUP* v47;
			TUP* v48;
			mw_mirth_c99_ZPlusC99_put(v45, v46, branch_Str_27, &v47, &v48);
			STR* v49;
			STRLIT(v49, " = ", 3);
			TUP* v50;
			TUP* v51;
			mw_mirth_c99_ZPlusC99_put(v47, v48, v49, &v50, &v51);
			TUP* v52;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_24, branch_Str_27, &v52);
			TUP* v53;
			TUP* v54;
			mw_mirth_c99_ZPlusC99_put(v50, v51, branch_Str_23, &v53, &v54);
			TUP* v55;
			TUP* v56;
			mw_mirth_c99_ZPlusC99_put(v53, v54, branch_Str_22, &v55, &v56);
			TUP* v57;
			TUP* v58;
			mw_mirth_c99_ZPlusC99_put(v55, v56, branch_Str_21, &v57, &v58);
			STR* v59;
			STRLIT(v59, ";", 1);
			TUP* v60;
			TUP* v61;
			mw_mirth_c99_ZPlusC99_put(v57, v58, v59, &v60, &v61);
			TUP* v62;
			TUP* v63;
			mw_mirth_c99_ZPlusC99_line(v60, v61, &v62, &v63);
			v63->cells[3] = MKBOOL(v37);
			branch_ZPlusC99Branch_28->cells[0] = MKTUP(v63, 6);
			TUP* v64;
			TUP* v65;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v62, branch_ZPlusC99Branch_28, v52, &v64, &v65);
			branch_ZPlusC99Branch_14 = v65;
			branch_ZPlusMirth_13 = v64;
		} break;
		case 0LL: { // None
			bool v66 = value_bool(v10->cells[3]);
			TUP* v67 = value_tup(v10->cells[0], 6);
			bool v68 = value_bool(v67->cells[3]);
			bool v69 = (v66 && v68);
			v67->cells[3] = MKBOOL(v69);
			TUP* v70;
			TUP* v71;
			mw_mirth_c99_ZPlusC99_indent(v9, v67, &v70, &v71);
			TUP* v72;
			TUP* v73;
			mw_mirth_c99_ZPlusC99_put(v70, v71, in_Str_3, &v72, &v73);
			TUP* v74;
			TUP* v75;
			mw_mirth_c99_ZPlusC99_put(v72, v73, v12, &v74, &v75);
			TUP* v76;
			TUP* v77;
			mw_mirth_c99_ZPlusC99_put(v74, v75, in_Str_5, &v76, &v77);
			TUP* v78;
			TUP* v79;
			mw_mirth_c99_ZPlusC99_line(v76, v77, &v78, &v79);
			v79->cells[3] = MKBOOL(v68);
			v10->cells[0] = MKTUP(v79, 6);
			branch_ZPlusC99Branch_14 = v10;
			branch_ZPlusMirth_13 = v78;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_8 = branch_ZPlusC99Branch_14;
	*out_ZPlusMirth_7 = branch_ZPlusMirth_13;
}
static void mw_mirth_c99_c99Z_argsZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	bool v6 = true;
	TUP* v7 = in_ZPlusMirth_1;
	TUP* v8 = in_ZPlusC99Branch_2;
	VAL v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		TUP* v12 = v7;
		TUP* v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		TUP* branch_ZPlusMirth_16;
		TUP* branch_ZPlusC99Branch_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				TUP* v22;
				TUP* v23;
				mw_mirth_c99_c99Z_argZ_pushZBang(v12, v13, value_u64(v21), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusC99Branch_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v25 = MKI64(0LL /* Nil */);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusC99Branch_17 = v13;
				branch_ZPlusMirth_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusC99Branch_17;
		v7 = branch_ZPlusMirth_16;
	}
	decref(v9);
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_c99Z_argZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_c99_c99Z_blockZ_pushZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Arg_3, &v6, &v7);
	*out_ZPlusC99Branch_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_c99_c99Z_argZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Arg_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_c99_c99Z_blockZ_runZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Arg_3, &v6, &v7);
	*out_ZPlusC99Branch_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_c99_c99Z_blockZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	TUP* v7 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_3, &v6);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_c99Z_codipZ_arrowZBang(v6, in_ZPlusC99Branch_2, v7, &v8, &v9);
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_c99_c99Z_packZ_closureZ_varsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	VAL v7;
	VAL v8 = mw_std_list_List_1_filter_1_sp1(in_ZPlusMirth_1, MKTUP(in_ZPlusC99Branch_2, 4), in_List_3, &v6, &v7);
	incref(v8);
	bool v9 = mw_std_list_List_1_emptyZAsk(v8);
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusC99Branch_11;
	if (v9) {
		decref(v8);
		branch_ZPlusC99Branch_11 = value_tup(v7, 4);
		branch_ZPlusMirth_10 = v6;
	} else {
		VAL v12 = MKI64(1LL /* Ignore */);
		VAL v13 = mtw_mirth_type_StackTypePart_Cons(v12);
		incref(v8);
		VAL v14 = MKI64(0LL /* Nil */);
		VAL v15;
		mw_std_list_List_1_buildZBang(v14, &v15);
		bool v16 = true;
		TUP* v17 = v6;
		VAL v18 = v7;
		VAL v19 = v15;
		VAL v20 = v8;
		bool v21 = v16;
		bool v22 = v16;
		while (v22) {
			TUP* v23 = v17;
			VAL v24 = v18;
			VAL v25 = v19;
			VAL v26 = v20;
			bool v27 = v21;
			TUP* branch_ZPlusMirth_28;
			VAL branch_z_x1_29;
			VAL branch_ZPlusLister_30;
			VAL branch_List_31;
			bool branch_Bool_32;
			switch (get_data_tag(v26)) {
				case 1LL: { // Cons
					VAL v33;
					VAL v34 = mtp_std_list_List_1_Cons(v26, &v33);
					TUP* v35;
					VAL v36 = mw_mirth_var_Var_type(v23, value_u64(v34), &v35);
					VAL v37 = mtw_mirth_type_StackTypePart_Cons(v36);
					VAL v38;
					mw_std_list_ZPlusLister_1_pushZBang(v37, v25, &v38);
					bool v39 = true;
					branch_Bool_32 = v39;
					branch_List_31 = v33;
					branch_ZPlusLister_30 = v38;
					branch_z_x1_29 = v24;
					branch_ZPlusMirth_28 = v35;
				} break;
				case 0LL: { // Nil
					VAL v40 = MKI64(0LL /* Nil */);
					bool v41 = false;
					branch_Bool_32 = v41;
					branch_List_31 = v40;
					branch_ZPlusLister_30 = v25;
					branch_z_x1_29 = v24;
					branch_ZPlusMirth_28 = v23;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v22 = branch_Bool_32;
			v21 = branch_Bool_32;
			v20 = branch_List_31;
			v19 = branch_ZPlusLister_30;
			v18 = branch_z_x1_29;
			v17 = branch_ZPlusMirth_28;
		}
		decref(v20);
		VAL v42 = mw_std_list_ZPlusLister_1_doneZBang(v19);
		VAL v43 = mw_std_list_List_1_cons(v13, v42);
		VAL v44 = MKI64(0LL /* None */);
		bool v45 = true;
		TUP* v46 = v17;
		VAL v47 = v18;
		VAL v48 = v8;
		bool v49 = v45;
		bool v50 = v45;
		while (v50) {
			TUP* v51 = v46;
			VAL v52 = v47;
			VAL v53 = v48;
			bool v54 = v49;
			TUP* branch_ZPlusMirth_55;
			TUP* branch_ZPlusC99Branch_56;
			VAL branch_List_57;
			bool branch_Bool_58;
			switch (get_data_tag(v53)) {
				case 1LL: { // Cons
					VAL v59;
					VAL v60 = mtp_std_list_List_1_Cons(v53, &v59);
					TUP* v61;
					TUP* v62;
					TUP* v63;
					mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(v51, value_tup(v52, 4), value_u64(v60), &v61, &v62, &v63);
					TUP* v64;
					TUP* v65;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v61, v62, v63, &v64, &v65);
					bool v66 = true;
					branch_Bool_58 = v66;
					branch_List_57 = v59;
					branch_ZPlusC99Branch_56 = v65;
					branch_ZPlusMirth_55 = v64;
				} break;
				case 0LL: { // Nil
					VAL v67 = MKI64(0LL /* Nil */);
					bool v68 = false;
					branch_Bool_58 = v68;
					branch_List_57 = v67;
					branch_ZPlusC99Branch_56 = value_tup(v52, 4);
					branch_ZPlusMirth_55 = v51;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v50 = branch_Bool_58;
			v49 = branch_Bool_58;
			v48 = branch_List_57;
			v47 = MKTUP(branch_ZPlusC99Branch_56, 4);
			v46 = branch_ZPlusMirth_55;
		}
		decref(v48);
		TUP* v69;
		TUP* v70;
		TUP* v71;
		mw_mirth_c99_c99Z_packZ_tupleZBang(v46, value_tup(v47, 4), v44, v43, &v69, &v70, &v71);
		TUP* v72;
		mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v71, &v72);
		TUP* v73;
		TUP* v74;
		mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v69, v70, v72, &v73, &v74);
		branch_ZPlusC99Branch_11 = v74;
		branch_ZPlusMirth_10 = v73;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5, VAL *out_ZPlusMaybe_6) {
	TUP* v7;
	VAL v8;
	VAL v9 = mw_std_list_List_1_filter_1_sp1(in_ZPlusMirth_1, MKTUP(in_ZPlusC99Branch_2, 4), in_List_3, &v7, &v8);
	incref(v9);
	bool v10 = mw_std_list_List_1_emptyZAsk(v9);
	TUP* branch_ZPlusMirth_11;
	TUP* branch_ZPlusC99Branch_12;
	VAL branch_ZPlusMaybe_13;
	if (v10) {
		VAL v14 = MKI64(0LL /* +None */);
		decref(v9);
		branch_ZPlusMaybe_13 = v14;
		branch_ZPlusC99Branch_12 = value_tup(v8, 4);
		branch_ZPlusMirth_11 = v7;
	} else {
		VAL v15 = MKI64(1LL /* VAL */);
		TUP* v16;
		TUP* v17;
		TUP* v18;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v7, value_tup(v8, 4), v15, &v16, &v17, &v18);
		TUP* v19;
		TUP* v20;
		mw_mirth_c99_ZPlusC99Value_rdup(v18, &v19, &v20);
		STR* v21 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_TUP(v19);
		INT v22 = WRAP_I63(1LL);
		bool v23 = true;
		INT v24 = v22;
		STR* v25 = v21;
		TUP* v26 = v16;
		TUP* v27 = v17;
		VAL v28 = v9;
		bool v29 = v23;
		bool v30 = v23;
		while (v30) {
			INT v31 = v24;
			STR* v32 = v25;
			TUP* v33 = v26;
			TUP* v34 = v27;
			VAL v35 = v28;
			bool v36 = v29;
			STR* branch_Str_37;
			TUP* branch_ZPlusMirth_38;
			TUP* branch_ZPlusC99Branch_39;
			INT branch_Int_40;
			VAL branch_List_41;
			bool branch_Bool_42;
			switch (get_data_tag(v35)) {
				case 1LL: { // Cons
					VAL v43;
					VAL v44 = mtp_std_list_List_1_Cons(v35, &v43);
					incref(v44);
					TUP* v45;
					VAL v46 = mw_mirth_var_Var_type(v33, value_u64(v44), &v45);
					TUP* v47;
					TUP* v48;
					VAL v49 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v45, v34, v46, &v47, &v48);
					incref(v49);
					incref(v49);
					int64_t v50 = get_data_tag(v49);
					decref(v49);
					INT v51 = WRAP_I63(0LL);
					INT v52 = i64_to_int(v50);
					bool v53 = int_eq(v52, v51);
					bool v54 = !v53;
					INT branch_Int_55;
					STR* branch_Str_56;
					VAL branch_C99ReprType_57;
					VAL branch_C99ReprType_58;
					bool branch_Bool_59;
					TUP* branch_ZPlusMirth_60;
					STR* branch_Str_61;
					TUP* branch_ZPlusC99Branch_62;
					if (v54) {
						TUP* v63 = value_tup(v48->cells[0], 6);
						TUP* v64;
						TUP* v65;
						STR* v66 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v47, v63, &v64, &v65);
						v48->cells[0] = MKTUP(v65, 6);
						branch_ZPlusC99Branch_62 = v48;
						branch_Str_61 = v66;
						branch_ZPlusMirth_60 = v64;
						branch_Bool_59 = v54;
						branch_C99ReprType_58 = v49;
						branch_C99ReprType_57 = v49;
						branch_Str_56 = v32;
						branch_Int_55 = v31;
					} else {
						STR* v67;
						STRLIT(v67, "0", 1);
						branch_ZPlusC99Branch_62 = v48;
						branch_Str_61 = v67;
						branch_ZPlusMirth_60 = v47;
						branch_Bool_59 = v54;
						branch_C99ReprType_58 = v49;
						branch_C99ReprType_57 = v49;
						branch_Str_56 = v32;
						branch_Int_55 = v31;
					}
					bool v68 = value_bool(branch_ZPlusC99Branch_62->cells[3]);
					bool v69 = (branch_Bool_59 && v68);
					TUP* v70 = value_tup(branch_ZPlusC99Branch_62->cells[0], 6);
					bool v71 = value_bool(v70->cells[3]);
					bool v72 = (v69 && v71);
					v70->cells[3] = MKBOOL(v72);
					TUP* v73;
					TUP* v74;
					mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_60, v70, &v73, &v74);
					incref(branch_C99ReprType_58);
					STR* v75 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_58);
					TUP* v76;
					TUP* v77;
					mw_mirth_c99_ZPlusC99_put(v73, v74, v75, &v76, &v77);
					STR* v78;
					STRLIT(v78, " ", 1);
					TUP* v79;
					TUP* v80;
					mw_mirth_c99_ZPlusC99_put(v76, v77, v78, &v79, &v80);
					incref(MKSTR(branch_Str_61));
					TUP* v81;
					TUP* v82;
					mw_mirth_c99_ZPlusC99_put(v79, v80, branch_Str_61, &v81, &v82);
					STR* v83;
					STRLIT(v83, " = ", 3);
					TUP* v84;
					TUP* v85;
					mw_mirth_c99_ZPlusC99_put(v81, v82, v83, &v84, &v85);
					TUP* v86;
					mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_58, branch_Str_61, &v86);
					STR* v87;
					STR* v88 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(branch_C99ReprType_57, &v87);
					TUP* v89;
					TUP* v90;
					mw_mirth_c99_ZPlusC99_put(v84, v85, v88, &v89, &v90);
					incref(MKSTR(branch_Str_56));
					TUP* v91;
					TUP* v92;
					mw_mirth_c99_ZPlusC99_put(v89, v90, branch_Str_56, &v91, &v92);
					STR* v93;
					STRLIT(v93, "->cells[", 8);
					TUP* v94;
					TUP* v95;
					mw_mirth_c99_ZPlusC99_put(v91, v92, v93, &v94, &v95);
					incref(MKINT(branch_Int_55));
					STR* v96 = int_to_str(branch_Int_55);
					TUP* v97;
					TUP* v98;
					mw_mirth_c99_ZPlusC99_put(v94, v95, v96, &v97, &v98);
					STR* v99;
					STRLIT(v99, "]", 1);
					TUP* v100;
					TUP* v101;
					mw_mirth_c99_ZPlusC99_put(v97, v98, v99, &v100, &v101);
					TUP* v102;
					TUP* v103;
					mw_mirth_c99_ZPlusC99_put(v100, v101, v87, &v102, &v103);
					STR* v104;
					STRLIT(v104, ";", 1);
					TUP* v105;
					TUP* v106;
					mw_mirth_c99_ZPlusC99_put(v102, v103, v104, &v105, &v106);
					TUP* v107;
					TUP* v108;
					mw_mirth_c99_ZPlusC99_line(v105, v106, &v107, &v108);
					v108->cells[3] = MKBOOL(v71);
					branch_ZPlusC99Branch_62->cells[0] = MKTUP(v108, 6);
					TUP* v109;
					TUP* v110;
					mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang(v107, branch_ZPlusC99Branch_62, value_u64(v44), v86, &v109, &v110);
					INT v111 = WRAP_I63(1LL);
					INT v112 = int_add(branch_Int_55, v111);
					bool v113 = true;
					branch_Bool_42 = v113;
					branch_List_41 = v43;
					branch_Int_40 = v112;
					branch_ZPlusC99Branch_39 = v110;
					branch_ZPlusMirth_38 = v109;
					branch_Str_37 = branch_Str_56;
				} break;
				case 0LL: { // Nil
					VAL v114 = MKI64(0LL /* Nil */);
					bool v115 = false;
					branch_Bool_42 = v115;
					branch_List_41 = v114;
					branch_Int_40 = v31;
					branch_ZPlusC99Branch_39 = v34;
					branch_ZPlusMirth_38 = v33;
					branch_Str_37 = v32;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v30 = branch_Bool_42;
			v29 = branch_Bool_42;
			v28 = branch_List_41;
			v27 = branch_ZPlusC99Branch_39;
			v26 = branch_ZPlusMirth_38;
			v25 = branch_Str_37;
			v24 = branch_Int_40;
		}
		decref(v28);
		decref(MKINT(v24));
		decref(MKSTR(v25));
		VAL v116;
		mtw_std_maybe_ZPlusMaybe_1_ZPlusSome(MKTUP(v20, 2), &v116);
		branch_ZPlusMaybe_13 = v116;
		branch_ZPlusC99Branch_12 = v27;
		branch_ZPlusMirth_11 = v26;
	}
	*out_ZPlusMaybe_6 = branch_ZPlusMaybe_13;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_mirth_c99_c99Z_blockZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	VAL v7 = mw_mirth_arrow_Block_toZ_runZ_var(in_ZPlusMirth_1, in_Block_3, &v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			TUP* v11;
			TUP* v12;
			mw_mirth_c99_c99Z_varZ_pushZBang(v6, in_ZPlusC99Branch_2, value_u64(v10), &v11, &v12);
			branch_ZPlusC99Branch_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(17LL /* FNPTR */);
			incref(v13);
			int64_t v14 = get_data_tag(v13);
			decref(v13);
			INT v15 = WRAP_I63(0LL);
			INT v16 = i64_to_int(v14);
			bool v17 = int_eq(v16, v15);
			bool v18 = !v17;
			uint64_t branch_Block_19;
			VAL branch_C99ReprType_20;
			bool branch_Bool_21;
			TUP* branch_ZPlusMirth_22;
			STR* branch_Str_23;
			TUP* branch_ZPlusC99Branch_24;
			if (v18) {
				TUP* v25 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
				TUP* v26;
				TUP* v27;
				STR* v28 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v6, v25, &v26, &v27);
				in_ZPlusC99Branch_2->cells[0] = MKTUP(v27, 6);
				branch_ZPlusC99Branch_24 = in_ZPlusC99Branch_2;
				branch_Str_23 = v28;
				branch_ZPlusMirth_22 = v26;
				branch_Bool_21 = v18;
				branch_C99ReprType_20 = v13;
				branch_Block_19 = in_Block_3;
			} else {
				STR* v29;
				STRLIT(v29, "0", 1);
				branch_ZPlusC99Branch_24 = in_ZPlusC99Branch_2;
				branch_Str_23 = v29;
				branch_ZPlusMirth_22 = v6;
				branch_Bool_21 = v18;
				branch_C99ReprType_20 = v13;
				branch_Block_19 = in_Block_3;
			}
			bool v30 = value_bool(branch_ZPlusC99Branch_24->cells[3]);
			bool v31 = (branch_Bool_21 && v30);
			TUP* v32 = value_tup(branch_ZPlusC99Branch_24->cells[0], 6);
			bool v33 = value_bool(v32->cells[3]);
			bool v34 = (v31 && v33);
			v32->cells[3] = MKBOOL(v34);
			TUP* v35;
			TUP* v36;
			mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_22, v32, &v35, &v36);
			incref(branch_C99ReprType_20);
			STR* v37 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_20);
			TUP* v38;
			TUP* v39;
			mw_mirth_c99_ZPlusC99_put(v35, v36, v37, &v38, &v39);
			STR* v40;
			STRLIT(v40, " ", 1);
			TUP* v41;
			TUP* v42;
			mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
			incref(MKSTR(branch_Str_23));
			TUP* v43;
			TUP* v44;
			mw_mirth_c99_ZPlusC99_put(v41, v42, branch_Str_23, &v43, &v44);
			STR* v45;
			STRLIT(v45, " = ", 3);
			TUP* v46;
			TUP* v47;
			mw_mirth_c99_ZPlusC99_put(v43, v44, v45, &v46, &v47);
			TUP* v48;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_20, branch_Str_23, &v48);
			STR* v49;
			STRLIT(v49, "&", 1);
			TUP* v50;
			TUP* v51;
			mw_mirth_c99_ZPlusC99_put(v46, v47, v49, &v50, &v51);
			TUP* v52;
			STR* v53 = mw_mirth_arrow_Block_cname(v50, branch_Block_19, &v52);
			TUP* v54;
			TUP* v55;
			mw_mirth_c99_ZPlusC99_put(v52, v51, v53, &v54, &v55);
			STR* v56;
			STRLIT(v56, ";", 1);
			TUP* v57;
			TUP* v58;
			mw_mirth_c99_ZPlusC99_put(v54, v55, v56, &v57, &v58);
			TUP* v59;
			TUP* v60;
			mw_mirth_c99_ZPlusC99_line(v57, v58, &v59, &v60);
			v60->cells[3] = MKBOOL(v33);
			branch_ZPlusC99Branch_24->cells[0] = MKTUP(v60, 6);
			TUP* v61;
			TUP* v62;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v59, branch_ZPlusC99Branch_24, v48, &v61, &v62);
			TUP* v63;
			VAL v64 = mw_mirth_arrow_Block_freeZ_vars(v61, branch_Block_19, &v63);
			TUP* v65;
			TUP* v66;
			mw_mirth_c99_c99Z_packZ_closureZ_varsZBang(v63, v62, v64, &v65, &v66);
			branch_ZPlusC99Branch_9 = v66;
			branch_ZPlusMirth_8 = v65;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	VAL v7 = mw_mirth_var_Var_autoZ_runZAsk(in_ZPlusMirth_1, in_Var_3, &v6);
	int64_t v8 = get_data_tag(v7);
	decref(v7);
	INT v9 = WRAP_I63(0LL);
	INT v10 = i64_to_int(v8);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	TUP* branch_ZPlusMirth_13;
	TUP* branch_ZPlusC99Branch_14;
	if (v12) {
		TUP* v15;
		TUP* v16;
		mw_mirth_c99_c99Z_varZ_runZBang(v6, in_ZPlusC99Branch_2, in_Var_3, &v15, &v16);
		branch_ZPlusC99Branch_14 = v16;
		branch_ZPlusMirth_13 = v15;
	} else {
		TUP* v17;
		TUP* v18;
		mw_mirth_c99_c99Z_varZ_pushZBang(v6, in_ZPlusC99Branch_2, in_Var_3, &v17, &v18);
		branch_ZPlusC99Branch_14 = v18;
		branch_ZPlusMirth_13 = v17;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_14;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_13;
}
static void mw_mirth_c99_c99Z_varZ_runZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Var_3, &v6, &v7, &v8);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99Value_runZ_valueZBang(v6, v7, v8, &v9, &v10);
	*out_ZPlusC99Branch_5 = v10;
	*out_ZPlusMirth_4 = v9;
}
static void mw_mirth_c99_c99Z_varZ_pushZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, in_Var_3, &v6, &v7, &v8);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v6, v7, v8, &v9, &v10);
	*out_ZPlusC99Branch_5 = v10;
	*out_ZPlusMirth_4 = v9;
}
static void mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* branch_ZPlusMirth_6;
	TUP* branch_ZPlusC99Branch_7;
	switch (get_data_tag(in_List_3)) {
		case 0LL: { // Nil
			branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Cons
			VAL v8;
			VAL v9 = mtp_std_list_List_1_Cons(in_List_3, &v8);
			incref(v9);
			TUP* v10;
			VAL v11 = mw_mirth_var_Var_type(in_ZPlusMirth_1, value_u64(v9), &v10);
			TUP* v12;
			TUP* v13;
			VAL v14 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v10, in_ZPlusC99Branch_2, v11, &v12, &v13);
			TUP* v15;
			TUP* v16;
			TUP* v17;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v12, v13, v14, &v15, &v16, &v17);
			TUP* v18;
			TUP* v19;
			mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang(v15, v16, v8, &v18, &v19);
			TUP* v20;
			TUP* v21;
			mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang(v18, v19, value_u64(v9), v17, &v20, &v21);
			branch_ZPlusC99Branch_7 = v21;
			branch_ZPlusMirth_6 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_popZ_valuesZ_toZ_envZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = mw_std_list_List_1_reverse(in_List_3);
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8);
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_dropZ_envZ_varZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Var_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	TUP* v7;
	TUP* v8;
	uint64_t v9 = mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, &v6, &v7, &v8);
	uint64_t v10 = mw_mirth_var_Var_index(in_Var_3);
	uint64_t v11 = mw_mirth_var_Var_index(v9);
	bool v12 = (v10 == v11);
	TUP* branch_ZPlusMirth_13;
	VAL branch_z_x1_14;
	VAL branch_z_x2_15;
	if (v12) {
		branch_z_x2_15 = MKTUP(v8, 2);
		branch_z_x1_14 = MKTUP(v7, 4);
		branch_ZPlusMirth_13 = v6;
	} else {
		STR* v16;
		STRLIT(v16, "[c99] unexpected variable in environment when exiting scope", 59);
		mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v6, v16);
	}
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(branch_ZPlusMirth_13, value_tup(branch_z_x1_14, 4), value_tup(branch_z_x2_15, 2), &v18, &v19);
	*out_ZPlusC99Branch_5 = v19;
	*out_ZPlusMirth_4 = v18;
}
static void mw_mirth_c99_dropZ_envZ_varsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = mw_std_list_List_1_reverse(in_List_3);
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusC99Branch_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusC99Branch_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				TUP* v23;
				TUP* v24;
				mw_mirth_c99_dropZ_envZ_varZBang(v13, v14, value_u64(v22), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusC99Branch_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusC99Branch_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusC99Branch_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_c99_c99Z_lambdaZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Lambda_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_Lambda_3, 5));
	VAL v6 = in_Lambda_3->cells[3];
	incref(v6);
	decref(MKTUP(in_Lambda_3, 5));
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_popZ_valuesZ_toZ_envZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8);
	incref(MKTUP(in_Lambda_3, 5));
	TUP* v9 = value_tup(in_Lambda_3->cells[4], 7);
	incref(MKTUP(v9, 7));
	decref(MKTUP(in_Lambda_3, 5));
	TUP* v10;
	TUP* v11;
	mw_mirth_c99_c99Z_arrowZBang(v7, v8, v9, &v10, &v11);
	VAL v12 = in_Lambda_3->cells[3];
	incref(v12);
	decref(MKTUP(in_Lambda_3, 5));
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_dropZ_envZ_varsZBang(v10, v11, v12, &v13, &v14);
	*out_ZPlusC99Branch_5 = v14;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_c99Z_matchZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Match_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_Match_3, 7));
	VAL v6 = in_Match_3->cells[6];
	incref(v6);
	decref(MKTUP(in_Match_3, 7));
	VAL v7 = mw_std_list_List_1_singleZAsk(v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(MKTUP(in_Match_3, 7));
			TUP* v11;
			TUP* v12;
			mw_mirth_c99_c99Z_singleZ_caseZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_tup(v10, 2), &v11, &v12);
			branch_ZPlusC99Branch_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 0LL: { // None
			incref(MKTUP(in_Match_3, 7));
			TUP* v13;
			VAL v14 = mw_mirth_match_Match_scrutineeZ_dataZAsk(in_ZPlusMirth_1, in_Match_3, &v13);
			TUP* branch_ZPlusMirth_15;
			TUP* branch_Match_16;
			VAL branch_z_x1_17;
			switch (get_data_tag(v14)) {
				case 1LL: { // Some
					VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
					branch_z_x1_17 = v18;
					branch_Match_16 = in_Match_3;
					branch_ZPlusMirth_15 = v13;
				} break;
				case 0LL: { // None
					uint64_t v19 = value_u64(in_Match_3->cells[1]);
					decref(MKTUP(in_Match_3, 7));
					STR* v20;
					STRLIT(v20, "non-uniform match, not supported at present", 43);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v13, v19, v20);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			TUP* v24;
			TUP* v25;
			VAL v26;
			mw_mirth_c99_ZPlusC99Branch_popZ_dataZBang(branch_ZPlusMirth_15, in_ZPlusC99Branch_2, value_u64(branch_z_x1_17), &v24, &v25, &v26);
			incref(MKTUP(branch_Match_16, 7));
			VAL v27 = branch_Match_16->cells[5];
			incref(v27);
			decref(MKTUP(branch_Match_16, 7));
			TUP* v28;
			TUP* v29;
			mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang(v24, v27, v25, &v28, &v29);
			bool v30 = value_bool(v29->cells[4]);
			TUP* v31 = value_tup(v29->cells[0], 6);
			bool v32 = value_bool(v31->cells[3]);
			bool v33 = (v30 && v32);
			v31->cells[3] = MKBOOL(v33);
			TUP* v34;
			TUP* v35;
			mw_mirth_c99_ZPlusC99_indent(v28, v31, &v34, &v35);
			STR* v36;
			STRLIT(v36, "switch (", 8);
			TUP* v37;
			TUP* v38;
			mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
			TUP* v39;
			VAL v40;
			STR* v41 = mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag(v37, v26, &v39, &v40);
			TUP* v42;
			TUP* v43;
			mw_mirth_c99_ZPlusC99_put(v39, v38, v41, &v42, &v43);
			STR* v44;
			STRLIT(v44, ") {", 3);
			TUP* v45;
			TUP* v46;
			mw_mirth_c99_ZPlusC99_put(v42, v43, v44, &v45, &v46);
			TUP* v47;
			TUP* v48;
			mw_mirth_c99_ZPlusC99_line(v45, v46, &v47, &v48);
			v48->cells[3] = MKBOOL(v32);
			v29->cells[0] = MKTUP(v48, 6);
			TUP* v49 = value_tup(v29->cells[0], 6);
			INT v50 = value_int(v49->cells[1]);
			incref(MKINT(v50));
			INT v51 = WRAP_I63(1LL);
			INT v52 = int_add(v50, v51);
			INT v53 = value_int(v49->cells[1]);
			decref(MKINT(v53));
			v49->cells[1] = MKINT(v52);
			v29->cells[0] = MKTUP(v49, 6);
			incref(MKTUP(branch_Match_16, 7));
			VAL v54 = branch_Match_16->cells[6];
			incref(v54);
			decref(MKTUP(branch_Match_16, 7));
			bool v55 = true;
			TUP* v56 = v47;
			TUP* v57 = v29;
			VAL v58 = v40;
			VAL v59 = v54;
			bool v60 = v55;
			bool v61 = v55;
			while (v61) {
				TUP* v62 = v56;
				TUP* v63 = v57;
				VAL v64 = v58;
				VAL v65 = v59;
				bool v66 = v60;
				VAL branch_ZPlusC99ValueZDivResource_67;
				TUP* branch_ZPlusMirth_68;
				TUP* branch_ZPlusC99BranchSplit_69;
				VAL branch_List_70;
				bool branch_Bool_71;
				switch (get_data_tag(v65)) {
					case 1LL: { // Cons
						VAL v72;
						VAL v73 = mtp_std_list_List_1_Cons(v65, &v72);
						VAL v74;
						VAL v75;
						mw_mirth_c99_ZPlusC99ValueZDivResource_rdup(v64, &v74, &v75);
						TUP* v76;
						TUP* v77;
						mw_mirth_c99_c99Z_caseZBang(v62, v63, value_tup(v73, 2), v74, &v76, &v77);
						bool v78 = true;
						branch_Bool_71 = v78;
						branch_List_70 = v72;
						branch_ZPlusC99BranchSplit_69 = v77;
						branch_ZPlusMirth_68 = v76;
						branch_ZPlusC99ValueZDivResource_67 = v75;
					} break;
					case 0LL: { // Nil
						VAL v79 = MKI64(0LL /* Nil */);
						bool v80 = false;
						branch_Bool_71 = v80;
						branch_List_70 = v79;
						branch_ZPlusC99BranchSplit_69 = v63;
						branch_ZPlusMirth_68 = v62;
						branch_ZPlusC99ValueZDivResource_67 = v64;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v61 = branch_Bool_71;
				v60 = branch_Bool_71;
				v59 = branch_List_70;
				v58 = branch_ZPlusC99ValueZDivResource_67;
				v57 = branch_ZPlusC99BranchSplit_69;
				v56 = branch_ZPlusMirth_68;
			}
			decref(v59);
			TUP* v81;
			bool v82 = mw_mirth_match_Match_hasZ_defaultZ_caseZAsk(v56, branch_Match_16, &v81);
			TUP* branch_ZPlusC99BranchSplit_83;
			TUP* branch_ZPlusMirth_84;
			if (v82) {
				branch_ZPlusMirth_84 = v81;
				branch_ZPlusC99BranchSplit_83 = v57;
			} else {
				TUP* v85;
				TUP* v86;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3(v81, v57, &v85, &v86);
				TUP* v87 = value_tup(v86->cells[0], 6);
				INT v88 = value_int(v87->cells[1]);
				incref(MKINT(v88));
				INT v89 = WRAP_I63(1LL);
				INT v90 = int_add(v88, v89);
				INT v91 = value_int(v87->cells[1]);
				decref(MKINT(v91));
				v87->cells[1] = MKINT(v90);
				v86->cells[0] = MKTUP(v87, 6);
				bool v92 = value_bool(v86->cells[4]);
				TUP* v93 = value_tup(v86->cells[0], 6);
				bool v94 = value_bool(v93->cells[3]);
				bool v95 = (v92 && v94);
				v93->cells[3] = MKBOOL(v95);
				TUP* v96;
				TUP* v97;
				mw_mirth_c99_ZPlusC99_indent(v85, v93, &v96, &v97);
				STR* v98;
				STRLIT(v98, "do_panic(str_make(\"unexpected fallthrough in match\\n\", 32));", 60);
				TUP* v99;
				TUP* v100;
				mw_mirth_c99_ZPlusC99_put(v96, v97, v98, &v99, &v100);
				TUP* v101;
				TUP* v102;
				mw_mirth_c99_ZPlusC99_line(v99, v100, &v101, &v102);
				v102->cells[3] = MKBOOL(v94);
				v86->cells[0] = MKTUP(v102, 6);
				TUP* v103 = value_tup(v86->cells[0], 6);
				INT v104 = value_int(v103->cells[1]);
				incref(MKINT(v104));
				INT v105 = WRAP_I63(1LL);
				INT v106 = int_sub(v104, v105);
				incref(MKINT(v106));
				INT v107 = WRAP_I63(0LL);
				bool v108 = int_le(v107, v106);
				INT branch_Nat_109;
				if (v108) {
					branch_Nat_109 = v106;
				} else {
					decref(MKINT(v106));
					INT v110 = WRAP_I63(0LL);
					branch_Nat_109 = v110;
				}
				INT v111 = value_int(v103->cells[1]);
				decref(MKINT(v111));
				v103->cells[1] = MKINT(branch_Nat_109);
				v86->cells[0] = MKTUP(v103, 6);
				TUP* v112;
				TUP* v113;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(v101, v86, &v112, &v113);
				branch_ZPlusMirth_84 = v112;
				branch_ZPlusC99BranchSplit_83 = v113;
			}
			mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop(v58);
			TUP* v114 = value_tup(branch_ZPlusC99BranchSplit_83->cells[0], 6);
			INT v115 = value_int(v114->cells[1]);
			incref(MKINT(v115));
			INT v116 = WRAP_I63(1LL);
			INT v117 = int_sub(v115, v116);
			incref(MKINT(v117));
			INT v118 = WRAP_I63(0LL);
			bool v119 = int_le(v118, v117);
			INT branch_Nat_120;
			if (v119) {
				branch_Nat_120 = v117;
			} else {
				decref(MKINT(v117));
				INT v121 = WRAP_I63(0LL);
				branch_Nat_120 = v121;
			}
			INT v122 = value_int(v114->cells[1]);
			decref(MKINT(v122));
			v114->cells[1] = MKINT(branch_Nat_120);
			branch_ZPlusC99BranchSplit_83->cells[0] = MKTUP(v114, 6);
			TUP* v123;
			TUP* v124;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(branch_ZPlusMirth_84, branch_ZPlusC99BranchSplit_83, &v123, &v124);
			TUP* v125;
			TUP* v126;
			mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang(v123, v124, &v125, &v126);
			branch_ZPlusC99Branch_9 = v126;
			branch_ZPlusMirth_8 = v125;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_singleZ_caseZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, TUP* in_Case_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	incref(MKTUP(in_Case_3, 2));
	TUP* v6 = value_tup(in_Case_3->cells[0], 9);
	incref(MKTUP(v6, 9));
	decref(MKTUP(in_Case_3, 2));
	bool v7 = mw_mirth_match_Pattern_isZ_defaultZAsk(v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	if (v7) {
		TUP* v10 = value_tup(in_Case_3->cells[1], 7);
		incref(MKTUP(v10, 7));
		decref(MKTUP(in_Case_3, 2));
		TUP* v11;
		TUP* v12;
		mw_mirth_c99_c99Z_arrowZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v10, &v11, &v12);
		branch_ZPlusC99Branch_9 = v12;
		branch_ZPlusMirth_8 = v11;
	} else {
		incref(MKTUP(in_Case_3, 2));
		TUP* v13 = value_tup(in_Case_3->cells[0], 9);
		incref(MKTUP(v13, 9));
		decref(MKTUP(in_Case_3, 2));
		VAL v14 = mw_mirth_match_Pattern_singleZ_tagZAsk(v13);
		TUP* branch_ZPlusMirth_15;
		TUP* branch_ZPlusC99Branch_16;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v17 = mtp_std_maybe_Maybe_1_Some(v14);
				TUP* v18;
				TUP* v19;
				mw_mirth_c99_c99Z_reverseZ_tagZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, value_u64(v17), &v18, &v19);
				TUP* v20 = value_tup(in_Case_3->cells[1], 7);
				incref(MKTUP(v20, 7));
				decref(MKTUP(in_Case_3, 2));
				TUP* v21;
				TUP* v22;
				mw_mirth_c99_c99Z_arrowZBang(v18, v19, v20, &v21, &v22);
				branch_ZPlusC99Branch_16 = v22;
				branch_ZPlusMirth_15 = v21;
			} break;
			case 0LL: { // None
				TUP* v23 = value_tup(in_Case_3->cells[0], 9);
				incref(MKTUP(v23, 9));
				decref(MKTUP(in_Case_3, 2));
				uint64_t v24 = value_u64(v23->cells[1]);
				decref(MKTUP(v23, 9));
				STR* v25;
				STRLIT(v25, "c99 target -- don't know how to compile this pattern", 52);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v24, v25);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_9 = branch_ZPlusC99Branch_16;
		branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_caseZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* in_Case_3, VAL in_ZPlusC99ValueZDivResource_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99BranchSplit_6) {
	incref(MKTUP(in_Case_3, 2));
	TUP* v7 = value_tup(in_Case_3->cells[0], 9);
	incref(MKTUP(v7, 9));
	decref(MKTUP(in_Case_3, 2));
	bool v8 = mw_mirth_match_Pattern_isZ_defaultZAsk(v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99BranchSplit_10;
	if (v8) {
		TUP* v11;
		TUP* v12;
		mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3(in_ZPlusMirth_1, in_ZPlusC99BranchSplit_2, &v11, &v12);
		TUP* v13 = value_tup(v12->cells[0], 6);
		INT v14 = value_int(v13->cells[1]);
		incref(MKINT(v14));
		INT v15 = WRAP_I63(1LL);
		INT v16 = int_add(v14, v15);
		INT v17 = value_int(v13->cells[1]);
		decref(MKINT(v17));
		v13->cells[1] = MKINT(v16);
		v12->cells[0] = MKTUP(v13, 6);
		VAL v18 = v12->cells[1];
		VAL v19;
		VAL v20;
		mw_mirth_c99_ZPlusC99Stack_rdup(v18, &v19, &v20);
		v12->cells[1] = v19;
		VAL v21 = v12->cells[3];
		incref(v21);
		bool v22 = value_bool(v12->cells[4]);
		VAL v23 = v12->cells[2];
		incref(v23);
		TUP* v24 = value_tup(v12->cells[0], 6);
		TUP* v25;
		mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v24, v20, v23, v22, &v25);
		TUP* v26;
		TUP* v27;
		mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang(v11, v25, in_ZPlusC99ValueZDivResource_4, &v26, &v27);
		TUP* v28 = value_tup(in_Case_3->cells[1], 7);
		incref(MKTUP(v28, 7));
		decref(MKTUP(in_Case_3, 2));
		TUP* v29;
		TUP* v30;
		mw_mirth_c99_c99Z_arrowZBang(v26, v27, v28, &v29, &v30);
		TUP* v31;
		TUP* v32;
		mw_std_list_List_1_reverseZ_for_1_sp5(v29, v30, v21, &v31, &v32);
		TUP* v33;
		TUP* v34;
		bool v35;
		VAL v36;
		mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v31, v32, &v33, &v34, &v35, &v36);
		v12->cells[0] = MKTUP(v34, 6);
		decref(v36);
		bool v37 = value_bool(v12->cells[5]);
		bool v38 = (v35 || v37);
		v12->cells[5] = MKBOOL(v38);
		TUP* v39 = value_tup(v12->cells[0], 6);
		INT v40 = value_int(v39->cells[1]);
		incref(MKINT(v40));
		INT v41 = WRAP_I63(1LL);
		INT v42 = int_sub(v40, v41);
		incref(MKINT(v42));
		INT v43 = WRAP_I63(0LL);
		bool v44 = int_le(v43, v42);
		INT branch_Nat_45;
		if (v44) {
			branch_Nat_45 = v42;
		} else {
			decref(MKINT(v42));
			INT v46 = WRAP_I63(0LL);
			branch_Nat_45 = v46;
		}
		INT v47 = value_int(v39->cells[1]);
		decref(MKINT(v47));
		v39->cells[1] = MKINT(branch_Nat_45);
		v12->cells[0] = MKTUP(v39, 6);
		TUP* v48;
		TUP* v49;
		mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6(v33, v12, &v48, &v49);
		branch_ZPlusC99BranchSplit_10 = v49;
		branch_ZPlusMirth_9 = v48;
	} else {
		incref(MKTUP(in_Case_3, 2));
		TUP* v50 = value_tup(in_Case_3->cells[0], 9);
		incref(MKTUP(v50, 9));
		decref(MKTUP(in_Case_3, 2));
		VAL v51 = mw_mirth_match_Pattern_singleZ_tagZAsk(v50);
		TUP* branch_ZPlusMirth_52;
		TUP* branch_ZPlusC99BranchSplit_53;
		switch (get_data_tag(v51)) {
			case 1LL: { // Some
				VAL v54 = mtp_std_maybe_Maybe_1_Some(v51);
				bool v55 = value_bool(in_ZPlusC99BranchSplit_2->cells[4]);
				TUP* v56 = value_tup(in_ZPlusC99BranchSplit_2->cells[0], 6);
				bool v57 = value_bool(v56->cells[3]);
				bool v58 = (v55 && v57);
				v56->cells[3] = MKBOOL(v58);
				TUP* v59;
				TUP* v60;
				mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v56, &v59, &v60);
				STR* v61;
				STRLIT(v61, "case ", 5);
				TUP* v62;
				TUP* v63;
				mw_mirth_c99_ZPlusC99_put(v59, v60, v61, &v62, &v63);
				incref(v54);
				TUP* v64;
				STR* v65 = mw_mirth_data_Tag_valueZ_show(v62, value_u64(v54), &v64);
				TUP* v66;
				TUP* v67;
				mw_mirth_c99_ZPlusC99_put(v64, v63, v65, &v66, &v67);
				STR* v68;
				STRLIT(v68, "LL: { // ", 9);
				TUP* v69;
				TUP* v70;
				mw_mirth_c99_ZPlusC99_put(v66, v67, v68, &v69, &v70);
				incref(v54);
				TUP* v71;
				uint64_t v72 = mw_mirth_data_Tag_name(v69, value_u64(v54), &v71);
				TUP* v73;
				STR* v74 = mw_mirth_name_Name_ZToStr(v71, v72, &v73);
				TUP* v75;
				TUP* v76;
				mw_mirth_c99_ZPlusC99_put(v73, v70, v74, &v75, &v76);
				TUP* v77;
				TUP* v78;
				mw_mirth_c99_ZPlusC99_line(v75, v76, &v77, &v78);
				v78->cells[3] = MKBOOL(v57);
				in_ZPlusC99BranchSplit_2->cells[0] = MKTUP(v78, 6);
				TUP* v79 = value_tup(in_ZPlusC99BranchSplit_2->cells[0], 6);
				INT v80 = value_int(v79->cells[1]);
				incref(MKINT(v80));
				INT v81 = WRAP_I63(1LL);
				INT v82 = int_add(v80, v81);
				INT v83 = value_int(v79->cells[1]);
				decref(MKINT(v83));
				v79->cells[1] = MKINT(v82);
				in_ZPlusC99BranchSplit_2->cells[0] = MKTUP(v79, 6);
				VAL v84 = in_ZPlusC99BranchSplit_2->cells[1];
				VAL v85;
				VAL v86;
				mw_mirth_c99_ZPlusC99Stack_rdup(v84, &v85, &v86);
				in_ZPlusC99BranchSplit_2->cells[1] = v85;
				VAL v87 = in_ZPlusC99BranchSplit_2->cells[3];
				incref(v87);
				bool v88 = value_bool(in_ZPlusC99BranchSplit_2->cells[4]);
				VAL v89 = in_ZPlusC99BranchSplit_2->cells[2];
				incref(v89);
				TUP* v90 = value_tup(in_ZPlusC99BranchSplit_2->cells[0], 6);
				TUP* v91;
				mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v90, v86, v89, v88, &v91);
				TUP* v92;
				TUP* v93;
				mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZDivresourceZBang(v77, v91, in_ZPlusC99ValueZDivResource_4, &v92, &v93);
				TUP* v94;
				TUP* v95;
				mw_mirth_c99_c99Z_reverseZ_tagZBang(v92, v93, value_u64(v54), &v94, &v95);
				TUP* v96 = value_tup(in_Case_3->cells[1], 7);
				incref(MKTUP(v96, 7));
				decref(MKTUP(in_Case_3, 2));
				TUP* v97;
				TUP* v98;
				mw_mirth_c99_c99Z_arrowZBang(v94, v95, v96, &v97, &v98);
				TUP* v99;
				TUP* v100;
				mw_std_list_List_1_reverseZ_for_1_sp5(v97, v98, v87, &v99, &v100);
				TUP* v101;
				TUP* v102;
				bool v103;
				VAL v104;
				mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v99, v100, &v101, &v102, &v103, &v104);
				in_ZPlusC99BranchSplit_2->cells[0] = MKTUP(v102, 6);
				decref(v104);
				bool v105 = value_bool(in_ZPlusC99BranchSplit_2->cells[5]);
				bool v106 = (v103 || v105);
				in_ZPlusC99BranchSplit_2->cells[5] = MKBOOL(v106);
				TUP* v107 = value_tup(in_ZPlusC99BranchSplit_2->cells[0], 6);
				INT v108 = value_int(v107->cells[1]);
				incref(MKINT(v108));
				INT v109 = WRAP_I63(1LL);
				INT v110 = int_sub(v108, v109);
				incref(MKINT(v110));
				INT v111 = WRAP_I63(0LL);
				bool v112 = int_le(v111, v110);
				INT branch_Nat_113;
				if (v112) {
					branch_Nat_113 = v110;
				} else {
					decref(MKINT(v110));
					INT v114 = WRAP_I63(0LL);
					branch_Nat_113 = v114;
				}
				INT v115 = value_int(v107->cells[1]);
				decref(MKINT(v115));
				v107->cells[1] = MKINT(branch_Nat_113);
				in_ZPlusC99BranchSplit_2->cells[0] = MKTUP(v107, 6);
				TUP* v116;
				TUP* v117;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6(v101, in_ZPlusC99BranchSplit_2, &v116, &v117);
				branch_ZPlusC99BranchSplit_53 = v117;
				branch_ZPlusMirth_52 = v116;
			} break;
			case 0LL: { // None
				TUP* v118 = value_tup(in_Case_3->cells[0], 9);
				incref(MKTUP(v118, 9));
				decref(MKTUP(in_Case_3, 2));
				uint64_t v119 = value_u64(v118->cells[1]);
				decref(MKTUP(v118, 9));
				STR* v120;
				STRLIT(v120, "c99 target -- don't know how to compile this pattern", 52);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, v119, v120);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99BranchSplit_10 = branch_ZPlusC99BranchSplit_53;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_52;
	}
	*out_ZPlusC99BranchSplit_6 = branch_ZPlusC99BranchSplit_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
}
static STR* mw_mirth_data_Tag_wordZ_cnameZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	TUP* v6;
	STR* v7 = mw_mirth_data_Tag_wordZ_cname(in_ZPlusMirth_1, in_Tag_2, &v6);
	TUP* v8;
	TUP* v9 = mw_mirth_data_Tag_type(v6, in_Tag_2, &v8);
	*out_ArrowType_5 = v9;
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static STR* mw_mirth_data_Tag_patZ_cnameZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Tag_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	TUP* v6;
	STR* v7 = mw_mirth_data_Tag_patZ_cname(in_ZPlusMirth_1, in_Tag_2, &v6);
	TUP* v8;
	TUP* v9 = mw_mirth_data_Tag_type(v6, in_Tag_2, &v8);
	TUP* v10 = mw_mirth_type_ArrowType_invert(v9);
	*out_ArrowType_5 = v10;
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static STR* mw_mirth_word_Word_cnameZ_type (TUP* in_ZPlusMirth_1, uint64_t in_Word_2, TUP* *out_ZPlusMirth_3, TUP* *out_ArrowType_5) {
	TUP* v6;
	STR* v7 = mw_mirth_word_Word_cname(in_ZPlusMirth_1, in_Word_2, &v6);
	TUP* v8;
	TUP* v9 = mw_mirth_word_Word_type(v6, in_Word_2, &v8);
	*out_ArrowType_5 = v9;
	*out_ZPlusMirth_3 = v8;
	return v7;
}
static TUP* mw_mirth_data_Tag_wordZ_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	void* v7 = field_mut(&mfld_mirth_data_Tag_ZTildewordZ_c99Z_api, in_Tag_3);
	bool v8 = mut_is_set(v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99_10;
	uint64_t branch_Tag_11;
	TUP* branch_C99API_12;
	if (v8) {
		VAL v13 = mut_get(v7);
		branch_C99API_12 = value_tup(v13, 8);
		branch_Tag_11 = in_Tag_3;
		branch_ZPlusC99_10 = in_ZPlusC99_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		TUP* v14;
		TUP* v15;
		STR* v16 = mw_mirth_data_Tag_wordZ_cnameZ_type(in_ZPlusMirth_1, in_Tag_3, &v14, &v15);
		TUP* v17;
		TUP* v18;
		TUP* v19 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, in_ZPlusC99_2, v16, v15, &v17, &v18);
		incref(MKTUP(v19, 8));
		mut_set(MKTUP(v19, 8), v7);
		branch_C99API_12 = v19;
		branch_Tag_11 = in_Tag_3;
		branch_ZPlusC99_10 = v18;
		branch_ZPlusMirth_9 = v17;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_C99API_12;
}
static TUP* mw_mirth_data_Tag_patZ_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Tag_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	void* v7 = field_mut(&mfld_mirth_data_Tag_ZTildepatZ_c99Z_api, in_Tag_3);
	bool v8 = mut_is_set(v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99_10;
	uint64_t branch_Tag_11;
	TUP* branch_C99API_12;
	if (v8) {
		VAL v13 = mut_get(v7);
		branch_C99API_12 = value_tup(v13, 8);
		branch_Tag_11 = in_Tag_3;
		branch_ZPlusC99_10 = in_ZPlusC99_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		TUP* v14;
		TUP* v15;
		STR* v16 = mw_mirth_data_Tag_patZ_cnameZ_type(in_ZPlusMirth_1, in_Tag_3, &v14, &v15);
		TUP* v17;
		TUP* v18;
		TUP* v19 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, in_ZPlusC99_2, v16, v15, &v17, &v18);
		incref(MKTUP(v19, 8));
		mut_set(MKTUP(v19, 8), v7);
		branch_C99API_12 = v19;
		branch_Tag_11 = in_Tag_3;
		branch_ZPlusC99_10 = v18;
		branch_ZPlusMirth_9 = v17;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_C99API_12;
}
static TUP* mw_mirth_word_Word_c99Z_api (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	void* v7 = field_mut(&mfld_mirth_word_Word_ZTildec99Z_api, in_Word_3);
	bool v8 = mut_is_set(v7);
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99_10;
	uint64_t branch_Word_11;
	TUP* branch_C99API_12;
	if (v8) {
		VAL v13 = mut_get(v7);
		branch_C99API_12 = value_tup(v13, 8);
		branch_Word_11 = in_Word_3;
		branch_ZPlusC99_10 = in_ZPlusC99_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		TUP* v14;
		TUP* v15;
		STR* v16 = mw_mirth_word_Word_cnameZ_type(in_ZPlusMirth_1, in_Word_3, &v14, &v15);
		TUP* v17;
		TUP* v18;
		TUP* v19 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, in_ZPlusC99_2, v16, v15, &v17, &v18);
		incref(MKTUP(v19, 8));
		mut_set(MKTUP(v19, 8), v7);
		branch_C99API_12 = v19;
		branch_Word_11 = in_Word_3;
		branch_ZPlusC99_10 = v18;
		branch_ZPlusMirth_9 = v17;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_C99API_12;
}
static void mw_mirth_c99_c99Z_wordZ_sigsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_word_Word_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16 = value_tup(v14->cells[4], 2);
		TUP* v17;
		bool v18 = mw_mirth_word_Word_neededZAsk(v16, v15, &v17);
		v14->cells[4] = MKTUP(v17, 2);
		TUP* branch_ZPlusMirth_19;
		TUP* branch_ZPlusC99_20;
		if (v18) {
			TUP* v21;
			TUP* v22;
			mw_mirth_c99_c99Z_wordZ_sigZBang(v13, v14, v15, &v21, &v22);
			branch_ZPlusC99_20 = v22;
			branch_ZPlusMirth_19 = v21;
		} else {
			branch_ZPlusC99_20 = v14;
			branch_ZPlusMirth_19 = v13;
		}
		uint64_t v23 = 1ULL;
		uint64_t v24 = (v15 + v23);
		void* v25 = mbuf_mirth_word_Word_NumBuffer;
		uint64_t v26 = *(uint64_t*)v25;
		bool v27 = (v24 <= v26);
		v12 = v27;
		v11 = v24;
		v10 = branch_ZPlusC99_20;
		v9 = branch_ZPlusMirth_19;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_wordZ_sigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7;
	TUP* v8 = mw_mirth_word_Word_c99Z_api(in_ZPlusMirth_1, in_ZPlusC99_2, in_Word_3, &v6, &v7);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_c99Z_smartZ_sigZBang(v6, v7, v8, &v9, &v10);
	*out_ZPlusC99_5 = v10;
	*out_ZPlusMirth_4 = v9;
}
static void mw_mirth_c99_c99Z_blockZ_sigsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_arrow_Block_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16 = value_tup(v14->cells[4], 2);
		TUP* v17;
		bool v18 = mw_mirth_arrow_Block_neededZAsk(v16, v15, &v17);
		v14->cells[4] = MKTUP(v17, 2);
		TUP* branch_ZPlusMirth_19;
		TUP* branch_ZPlusC99_20;
		if (v18) {
			TUP* v21;
			TUP* v22;
			mw_mirth_c99_c99Z_blockZ_sigZBang(v13, v14, v15, &v21, &v22);
			branch_ZPlusC99_20 = v22;
			branch_ZPlusMirth_19 = v21;
		} else {
			branch_ZPlusC99_20 = v14;
			branch_ZPlusMirth_19 = v13;
		}
		uint64_t v23 = 1ULL;
		uint64_t v24 = (v15 + v23);
		void* v25 = mbuf_mirth_arrow_Block_NumBuffer;
		uint64_t v26 = *(uint64_t*)v25;
		bool v27 = (v24 <= v26);
		v12 = v27;
		v11 = v24;
		v10 = branch_ZPlusC99_20;
		v9 = branch_ZPlusMirth_19;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_blockZ_sigZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_c99Z_blockZ_sigZ_put(v6, v7, in_Block_3, &v8, &v9);
	STR* v10;
	STRLIT(v10, ";", 1);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_put(v8, v9, v10, &v11, &v12);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99_line(v11, v12, &v13, &v14);
	*out_ZPlusC99_5 = v14;
	*out_ZPlusMirth_4 = v13;
}
static void mw_mirth_c99_c99Z_blockZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_arrow_Block_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16 = value_tup(v14->cells[4], 2);
		TUP* v17;
		bool v18 = mw_mirth_arrow_Block_neededZAsk(v16, v15, &v17);
		v14->cells[4] = MKTUP(v17, 2);
		TUP* branch_ZPlusMirth_19;
		TUP* branch_ZPlusC99_20;
		if (v18) {
			TUP* v21;
			TUP* v22;
			mw_mirth_c99_c99Z_blockZ_defZBang(v13, v14, v15, &v21, &v22);
			branch_ZPlusC99_20 = v22;
			branch_ZPlusMirth_19 = v21;
		} else {
			branch_ZPlusC99_20 = v14;
			branch_ZPlusMirth_19 = v13;
		}
		uint64_t v23 = 1ULL;
		uint64_t v24 = (v15 + v23);
		void* v25 = mbuf_mirth_arrow_Block_NumBuffer;
		uint64_t v26 = *(uint64_t*)v25;
		bool v27 = (v24 <= v26);
		v12 = v27;
		v11 = v24;
		v10 = branch_ZPlusC99_20;
		v9 = branch_ZPlusMirth_19;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_blockZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_c99Z_blockZ_sigZ_put(v6, v7, in_Block_3, &v8, &v9);
	STR* v10;
	STRLIT(v10, " {", 2);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_put(v8, v9, v10, &v11, &v12);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99_line(v11, v12, &v13, &v14);
	TUP* v15;
	TUP* v16;
	mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang(v13, v14, &v15, &v16);
	INT v17 = value_int(v16->cells[1]);
	incref(MKINT(v17));
	INT v18 = WRAP_I63(1LL);
	INT v19 = int_add(v17, v18);
	INT v20 = value_int(v16->cells[1]);
	decref(MKINT(v20));
	v16->cells[1] = MKINT(v19);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_c99Z_blockZ_enterZBang(v15, in_Block_3, v16, &v21, &v22);
	TUP* v23;
	TUP* v24 = mw_mirth_arrow_Block_arrow(v21, in_Block_3, &v23);
	incref(MKTUP(v24, 7));
	TUP* v25;
	VAL v26 = mw_mirth_arrow_Arrow_freeZ_vars(v23, v24, &v25);
	TUP* v27;
	TUP* v28;
	VAL v29;
	mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang(v25, v22, v26, &v27, &v28, &v29);
	incref(MKTUP(v24, 7));
	TUP* v30 = mw_mirth_arrow_Arrow_type(v24);
	VAL v31 = v30->cells[0];
	incref(v31);
	decref(MKTUP(v30, 2));
	TUP* v32;
	TUP* v33;
	mw_mirth_c99_exposeZ_stackZ_typeZBang(v27, v28, v31, &v32, &v33);
	TUP* v34;
	TUP* v35;
	mw_mirth_c99_c99Z_arrowZBang(v32, v33, v24, &v34, &v35);
	TUP* branch_ZPlusMirth_36;
	TUP* branch_ZPlusC99Branch_37;
	switch (get_data_tag(v29)) {
		case 1LL: { // +Some
			VAL v38;
			mtp_std_maybe_ZPlusMaybe_1_ZPlusSome(v29, &v38);
			TUP* v39;
			TUP* v40;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v34, v35, value_tup(v38, 2), &v39, &v40);
			branch_ZPlusC99Branch_37 = v40;
			branch_ZPlusMirth_36 = v39;
		} break;
		case 0LL: { // +None
			branch_ZPlusC99Branch_37 = v35;
			branch_ZPlusMirth_36 = v34;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v41;
	TUP* v42;
	mw_mirth_c99_c99Z_blockZ_exitZBang(branch_ZPlusMirth_36, in_Block_3, branch_ZPlusC99Branch_37, &v41, &v42);
	INT v43 = value_int(v42->cells[1]);
	incref(MKINT(v43));
	INT v44 = WRAP_I63(1LL);
	INT v45 = int_sub(v43, v44);
	incref(MKINT(v45));
	INT v46 = WRAP_I63(0LL);
	bool v47 = int_le(v46, v45);
	INT branch_Nat_48;
	if (v47) {
		branch_Nat_48 = v45;
	} else {
		decref(MKINT(v45));
		INT v49 = WRAP_I63(0LL);
		branch_Nat_48 = v49;
	}
	INT v50 = value_int(v42->cells[1]);
	decref(MKINT(v50));
	v42->cells[1] = MKINT(branch_Nat_48);
	TUP* v51;
	TUP* v52;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v41, v42, &v51, &v52);
	*out_ZPlusC99_5 = v52;
	*out_ZPlusMirth_4 = v51;
}
static void mw_mirth_c99_c99Z_blockZ_sigZ_put (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Block_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	STR* v6;
	STRLIT(v6, "static void ", 12);
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_1, in_ZPlusC99_2, v6, &v7, &v8);
	TUP* v9;
	STR* v10 = mw_mirth_arrow_Block_cname(v7, in_Block_3, &v9);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_put(v9, v8, v10, &v11, &v12);
	STR* v13;
	STRLIT(v13, " (void)", 7);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	*out_ZPlusC99_5 = v15;
	*out_ZPlusMirth_4 = v14;
}
static void mw_mirth_c99_c99Z_blockZ_enterZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* in_ZPlusC99_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6 = value_tup(in_ZPlusC99_3->cells[0], 2);
	incref(MKTUP(v6, 2));
	bool v7 = value_bool(v6->cells[1]);
	decref(MKTUP(v6, 2));
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99_9;
	if (v7) {
		TUP* v10;
		TUP* v11;
		mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_3, &v10, &v11);
		STR* v12;
		STRLIT(v12, "WORD_ENTER(", 11);
		TUP* v13;
		TUP* v14;
		mw_mirth_c99_ZPlusC99_put(v10, v11, v12, &v13, &v14);
		TUP* v15;
		VAL v16 = mw_mirth_arrow_Block_home(v13, in_Block_2, &v15);
		uint64_t branch_Block_17;
		TUP* branch_ZPlusC99_18;
		TUP* branch_ZPlusMirth_19;
		VAL branch__20;
		switch (get_data_tag(v16)) {
			case 0LL: { // Main
				uint64_t v21 = mtp_mirth_arrow_Home_Main(v16);
				STR* v22;
				STRLIT(v22, "block", 5);
				branch__20 = MKSTR(v22);
				branch_ZPlusMirth_19 = v15;
				branch_ZPlusC99_18 = v14;
				branch_Block_17 = in_Block_2;
			} break;
			case 1LL: { // Word
				uint64_t v23 = mtp_mirth_arrow_Home_Word(v16);
				TUP* v24;
				uint64_t v25 = mw_mirth_word_Word_name(v15, v23, &v24);
				TUP* v26;
				STR* v27 = mw_mirth_name_Name_ZToStr(v24, v25, &v26);
				STR* v28;
				STRLIT(v28, " block", 6);
				STR* v29 = str_cat(v27, v28);
				branch__20 = MKSTR(v29);
				branch_ZPlusMirth_19 = v26;
				branch_ZPlusC99_18 = v14;
				branch_Block_17 = in_Block_2;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		TUP* v30;
		TUP* v31;
		mw_mirth_c99_ZPlusC99_putZ_cstr(branch_ZPlusMirth_19, branch_ZPlusC99_18, value_str(branch__20), &v30, &v31);
		STR* v32;
		STRLIT(v32, ", ", 2);
		TUP* v33;
		TUP* v34;
		mw_mirth_c99_ZPlusC99_put(v30, v31, v32, &v33, &v34);
		TUP* v35;
		uint64_t v36 = mw_mirth_arrow_Block_token(v33, branch_Block_17, &v35);
		TUP* v37;
		uint64_t v38 = mw_mirth_token_Token_module(v35, v36, &v37);
		TUP* v39;
		STR* v40 = mw_mirth_module_Module_sourceZ_path(v37, v38, &v39);
		TUP* v41;
		TUP* v42;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v39, v34, v40, &v41, &v42);
		STR* v43;
		STRLIT(v43, ", ", 2);
		TUP* v44;
		TUP* v45;
		mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
		TUP* v46;
		uint64_t v47 = mw_mirth_arrow_Block_token(v44, branch_Block_17, &v46);
		TUP* v48;
		INT v49 = mw_mirth_token_Token_row(v46, v47, &v48);
		INT v50 = mw_mirth_location_Row_ZToInt(v49);
		STR* v51 = int_to_str(v50);
		TUP* v52;
		TUP* v53;
		mw_mirth_c99_ZPlusC99_put(v48, v45, v51, &v52, &v53);
		STR* v54;
		STRLIT(v54, ", ", 2);
		TUP* v55;
		TUP* v56;
		mw_mirth_c99_ZPlusC99_put(v52, v53, v54, &v55, &v56);
		TUP* v57;
		uint64_t v58 = mw_mirth_arrow_Block_token(v55, branch_Block_17, &v57);
		TUP* v59;
		INT v60 = mw_mirth_token_Token_col(v57, v58, &v59);
		INT v61 = mw_mirth_location_Col_ZToInt(v60);
		STR* v62 = int_to_str(v61);
		TUP* v63;
		TUP* v64;
		mw_mirth_c99_ZPlusC99_put(v59, v56, v62, &v63, &v64);
		STR* v65;
		STRLIT(v65, ");", 2);
		TUP* v66;
		TUP* v67;
		mw_mirth_c99_ZPlusC99_put(v63, v64, v65, &v66, &v67);
		TUP* v68;
		TUP* v69;
		mw_mirth_c99_ZPlusC99_line(v66, v67, &v68, &v69);
		branch_ZPlusC99_9 = v69;
		branch_ZPlusMirth_8 = v68;
	} else {
		branch_ZPlusC99_9 = in_ZPlusC99_3;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	bool v70 = true;
	VAL v71 = MKI64(0LL /* Nil */);
	TUP* v72;
	TUP* v73;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(branch_ZPlusMirth_8, branch_ZPlusC99_9, v70, v71, &v72, &v73);
	*out_ZPlusC99Branch_5 = v73;
	*out_ZPlusMirth_4 = v72;
}
static void mw_mirth_c99_c99Z_blockZ_exitZBang (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* in_ZPlusC99Branch_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7;
	bool v8;
	VAL v9;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_3, &v6, &v7, &v8, &v9);
	decref(v9);
	TUP* v10 = value_tup(v7->cells[0], 2);
	incref(MKTUP(v10, 2));
	bool v11 = value_bool(v10->cells[1]);
	decref(MKTUP(v10, 2));
	TUP* branch_ZPlusMirth_12;
	TUP* branch_ZPlusC99_13;
	if (v11) {
		TUP* v14;
		TUP* v15;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(v6, v7, &v14, &v15);
		branch_ZPlusC99_13 = v15;
		branch_ZPlusMirth_12 = v14;
	} else {
		branch_ZPlusC99_13 = v7;
		branch_ZPlusMirth_12 = v6;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_13;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_12;
}
static void mw_mirth_c99_exposeZ_stackZ_typeZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_StackType_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6;
	VAL v7 = mw_mirth_type_StackType_expand(in_ZPlusMirth_1, in_StackType_3, &v6);
	TUP* branch_ZPlusMirth_8;
	TUP* branch_ZPlusC99Branch_9;
	switch (get_data_tag(v7)) {
		case 5LL: { // Cons
			VAL v10;
			VAL v11 = mtp_mirth_type_StackType_Cons(v7, &v10);
			TUP* v12;
			TUP* v13;
			VAL v14 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v10, &v12, &v13);
			TUP* v15;
			TUP* v16;
			TUP* v17;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v12, v13, v14, &v15, &v16, &v17);
			TUP* v18;
			TUP* v19;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v15, v16, v11, &v18, &v19);
			TUP* v20;
			TUP* v21;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v18, v19, v17, &v20, &v21);
			branch_ZPlusC99Branch_9 = v21;
			branch_ZPlusMirth_8 = v20;
		} break;
		case 7LL: { // With
			VAL v22;
			VAL v23 = mtp_mirth_type_StackType_With(v7, &v22);
			TUP* v24;
			TUP* v25;
			VAL v26 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v22, &v24, &v25);
			TUP* v27;
			TUP* v28;
			TUP* v29;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v24, v25, v26, &v27, &v28, &v29);
			TUP* v30;
			TUP* v31;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v27, v28, v23, &v30, &v31);
			TUP* v32;
			TUP* v33;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v30, v31, v29, &v32, &v33);
			branch_ZPlusC99Branch_9 = v33;
			branch_ZPlusMirth_8 = v32;
		} break;
		case 6LL: { // ConsLabel
			VAL v34;
			uint64_t v35;
			VAL v36 = mtp_mirth_type_StackType_ConsLabel(v7, &v34, &v35);
			TUP* v37;
			TUP* v38;
			VAL v39 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v34, &v37, &v38);
			TUP* v40;
			TUP* v41;
			TUP* v42;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v37, v38, v39, v35, &v40, &v41, &v42);
			TUP* v43;
			TUP* v44;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v40, v41, v36, &v43, &v44);
			TUP* v45;
			TUP* v46;
			mw_mirth_c99_pushZ_valueZ_labelZBang(v43, v44, v35, v42, &v45, &v46);
			branch_ZPlusC99Branch_9 = v46;
			branch_ZPlusMirth_8 = v45;
		} break;
		case 8LL: { // WithLabel
			VAL v47;
			uint64_t v48;
			VAL v49 = mtp_mirth_type_StackType_WithLabel(v7, &v47, &v48);
			TUP* v50;
			TUP* v51;
			VAL v52 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v6, in_ZPlusC99Branch_2, v47, &v50, &v51);
			TUP* v53;
			TUP* v54;
			TUP* v55;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v50, v51, v52, v48, &v53, &v54, &v55);
			TUP* v56;
			TUP* v57;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v53, v54, v49, &v56, &v57);
			TUP* v58;
			TUP* v59;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(v56, v57, v48, v55, &v58, &v59);
			branch_ZPlusC99Branch_9 = v59;
			branch_ZPlusMirth_8 = v58;
		} break;
		default: {
			decref(v7);
			branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_2;
			branch_ZPlusMirth_8 = v6;
		} break;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_c99Z_wordZ_enterZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	TUP* v7 = value_tup(v6->cells[0], 2);
	incref(MKTUP(v7, 2));
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v6, 6);
	bool v8 = value_bool(v7->cells[1]);
	decref(MKTUP(v7, 2));
	uint64_t branch_Word_9;
	TUP* branch_ZPlusMirth_10;
	TUP* branch_ZPlusC99Branch_11;
	if (v8) {
		bool v12 = value_bool(in_ZPlusC99Branch_2->cells[3]);
		TUP* v13 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		bool v14 = value_bool(v13->cells[3]);
		bool v15 = (v12 && v14);
		v13->cells[3] = MKBOOL(v15);
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v13, &v16, &v17);
		STR* v18;
		STRLIT(v18, "WORD_ENTER(", 11);
		TUP* v19;
		TUP* v20;
		mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
		TUP* v21;
		uint64_t v22 = mw_mirth_word_Word_name(v19, in_Word_3, &v21);
		TUP* v23;
		STR* v24 = mw_mirth_name_Name_ZToStr(v21, v22, &v23);
		TUP* v25;
		TUP* v26;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v23, v20, v24, &v25, &v26);
		STR* v27;
		STRLIT(v27, ", ", 2);
		TUP* v28;
		TUP* v29;
		mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
		TUP* v30;
		uint64_t v31 = mw_mirth_word_Word_body(v28, in_Word_3, &v30);
		TUP* v32;
		uint64_t v33 = mw_mirth_token_Token_module(v30, v31, &v32);
		TUP* v34;
		STR* v35 = mw_mirth_module_Module_sourceZ_path(v32, v33, &v34);
		TUP* v36;
		TUP* v37;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v34, v29, v35, &v36, &v37);
		STR* v38;
		STRLIT(v38, ", ", 2);
		TUP* v39;
		TUP* v40;
		mw_mirth_c99_ZPlusC99_put(v36, v37, v38, &v39, &v40);
		TUP* v41;
		uint64_t v42 = mw_mirth_word_Word_body(v39, in_Word_3, &v41);
		TUP* v43;
		INT v44 = mw_mirth_token_Token_row(v41, v42, &v43);
		INT v45 = mw_mirth_location_Row_ZToInt(v44);
		STR* v46 = int_to_str(v45);
		TUP* v47;
		TUP* v48;
		mw_mirth_c99_ZPlusC99_put(v43, v40, v46, &v47, &v48);
		STR* v49;
		STRLIT(v49, ", ", 2);
		TUP* v50;
		TUP* v51;
		mw_mirth_c99_ZPlusC99_put(v47, v48, v49, &v50, &v51);
		TUP* v52;
		uint64_t v53 = mw_mirth_word_Word_body(v50, in_Word_3, &v52);
		TUP* v54;
		INT v55 = mw_mirth_token_Token_col(v52, v53, &v54);
		INT v56 = mw_mirth_location_Col_ZToInt(v55);
		STR* v57 = int_to_str(v56);
		TUP* v58;
		TUP* v59;
		mw_mirth_c99_ZPlusC99_put(v54, v51, v57, &v58, &v59);
		STR* v60;
		STRLIT(v60, ");", 2);
		TUP* v61;
		TUP* v62;
		mw_mirth_c99_ZPlusC99_put(v58, v59, v60, &v61, &v62);
		TUP* v63;
		TUP* v64;
		mw_mirth_c99_ZPlusC99_line(v61, v62, &v63, &v64);
		v64->cells[3] = MKBOOL(v14);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v64, 6);
		branch_ZPlusC99Branch_11 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_10 = v63;
		branch_Word_9 = in_Word_3;
	} else {
		branch_ZPlusC99Branch_11 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		branch_Word_9 = in_Word_3;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static void mw_mirth_c99_c99Z_wordZ_exitZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	TUP* v6 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
	TUP* v7 = value_tup(v6->cells[0], 2);
	incref(MKTUP(v7, 2));
	in_ZPlusC99Branch_2->cells[0] = MKTUP(v6, 6);
	bool v8 = value_bool(v7->cells[1]);
	decref(MKTUP(v7, 2));
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusC99Branch_10;
	if (v8) {
		bool v11 = value_bool(in_ZPlusC99Branch_2->cells[3]);
		TUP* v12 = value_tup(in_ZPlusC99Branch_2->cells[0], 6);
		bool v13 = value_bool(v12->cells[3]);
		bool v14 = (v11 && v13);
		v12->cells[3] = MKBOOL(v14);
		TUP* v15;
		TUP* v16;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(in_ZPlusMirth_1, v12, &v15, &v16);
		v16->cells[3] = MKBOOL(v13);
		in_ZPlusC99Branch_2->cells[0] = MKTUP(v16, 6);
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = v15;
	} else {
		branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_c99_c99Z_wordZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_word_Word_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16 = value_tup(v14->cells[4], 2);
		TUP* v17;
		bool v18 = mw_mirth_word_Word_neededZAsk(v16, v15, &v17);
		v14->cells[4] = MKTUP(v17, 2);
		TUP* branch_ZPlusMirth_19;
		TUP* branch_ZPlusC99_20;
		if (v18) {
			TUP* v21;
			TUP* v22;
			mw_mirth_c99_c99Z_wordZ_defZBang(v13, v14, v15, &v21, &v22);
			branch_ZPlusC99_20 = v22;
			branch_ZPlusMirth_19 = v21;
		} else {
			branch_ZPlusC99_20 = v14;
			branch_ZPlusMirth_19 = v13;
		}
		uint64_t v23 = 1ULL;
		uint64_t v24 = (v15 + v23);
		void* v25 = mbuf_mirth_word_Word_NumBuffer;
		uint64_t v26 = *(uint64_t*)v25;
		bool v27 = (v24 <= v26);
		v12 = v27;
		v11 = v24;
		v10 = branch_ZPlusC99_20;
		v9 = branch_ZPlusMirth_19;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_wordZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Word_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7;
	TUP* v8 = mw_mirth_word_Word_c99Z_api(in_ZPlusMirth_1, in_ZPlusC99_2, in_Word_3, &v6, &v7);
	TUP* v9;
	TUP* v10;
	TUP* v11 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp91(v8, v6, v7, &v9, &v10);
	INT v12 = value_int(v10->cells[1]);
	incref(MKINT(v12));
	INT v13 = WRAP_I63(1LL);
	INT v14 = int_add(v12, v13);
	INT v15 = value_int(v10->cells[1]);
	decref(MKINT(v15));
	v10->cells[1] = MKINT(v14);
	incref(MKTUP(v11, 8));
	TUP* v16;
	TUP* v17;
	mw_mirth_c99_c99Z_apiZ_enterZBang(v9, v10, v11, &v16, &v17);
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_c99Z_wordZ_enterZBang(v16, v17, in_Word_3, &v18, &v19);
	TUP* v20;
	TUP* v21 = mw_mirth_word_Word_arrow(v18, in_Word_3, &v20);
	TUP* v22;
	TUP* v23;
	mw_mirth_c99_c99Z_arrowZBang(v20, v19, v21, &v22, &v23);
	TUP* v24;
	TUP* v25;
	mw_mirth_c99_c99Z_wordZ_exitZBang(v22, v23, in_Word_3, &v24, &v25);
	TUP* v26;
	TUP* v27;
	mw_mirth_c99_c99Z_apiZ_exitZBang(v24, v25, v11, &v26, &v27);
	INT v28 = value_int(v27->cells[1]);
	incref(MKINT(v28));
	INT v29 = WRAP_I63(1LL);
	INT v30 = int_sub(v28, v29);
	incref(MKINT(v30));
	INT v31 = WRAP_I63(0LL);
	bool v32 = int_le(v31, v30);
	INT branch_Nat_33;
	if (v32) {
		branch_Nat_33 = v30;
	} else {
		decref(MKINT(v30));
		INT v34 = WRAP_I63(0LL);
		branch_Nat_33 = v34;
	}
	INT v35 = value_int(v27->cells[1]);
	decref(MKINT(v35));
	v27->cells[1] = MKINT(branch_Nat_33);
	TUP* v36;
	TUP* v37;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v26, v27, &v36, &v37);
	*out_ZPlusC99_5 = v37;
	*out_ZPlusMirth_4 = v36;
}
static void mw_mirth_c99_c99Z_fieldZ_defsZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	uint64_t v5 = 1ULL;
	void* v6 = mbuf_mirth_table_Field_NumBuffer;
	uint64_t v7 = *(uint64_t*)v6;
	bool v8 = (v5 <= v7);
	TUP* v9 = in_ZPlusMirth_1;
	TUP* v10 = in_ZPlusC99_2;
	uint64_t v11 = v5;
	bool v12 = v8;
	while (v12) {
		TUP* v13 = v9;
		TUP* v14 = v10;
		uint64_t v15 = v11;
		TUP* v16;
		TUP* v17;
		mw_mirth_c99_c99Z_fieldZ_defZBang(v13, v14, v15, &v16, &v17);
		uint64_t v18 = 1ULL;
		uint64_t v19 = (v15 + v18);
		void* v20 = mbuf_mirth_table_Field_NumBuffer;
		uint64_t v21 = *(uint64_t*)v20;
		bool v22 = (v19 <= v21);
		v12 = v22;
		v11 = v19;
		v10 = v17;
		v9 = v16;
	}
	*out_ZPlusC99_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_c99_c99Z_fieldZ_defZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, uint64_t in_Field_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	STR* v8;
	STRLIT(v8, "static FIELD ", 13);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99_put(v6, v7, v8, &v9, &v10);
	TUP* v11;
	STR* v12 = mw_mirth_table_Field_cname(v9, in_Field_3, &v11);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99_put(v11, v10, v12, &v13, &v14);
	STR* v15;
	STRLIT(v15, " = {0};", 7);
	TUP* v16;
	TUP* v17;
	mw_mirth_c99_ZPlusC99_put(v13, v14, v15, &v16, &v17);
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99_line(v16, v17, &v18, &v19);
	*out_ZPlusC99_5 = v19;
	*out_ZPlusMirth_4 = v18;
}
static void mw_mirth_c99_c99Z_fieldZ_callZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, uint64_t in_Field_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = MKI64(9LL /* U64 */);
	TUP* v7;
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusMirth_1, in_ZPlusC99Branch_2, v6, &v7, &v8, &v9);
	VAL v10 = MKI64(16LL /* PTR */);
	incref(v10);
	int64_t v11 = get_data_tag(v10);
	decref(v10);
	INT v12 = WRAP_I63(0LL);
	INT v13 = i64_to_int(v11);
	bool v14 = int_eq(v13, v12);
	bool v15 = !v14;
	TUP* branch_ZPlusC99Value_16;
	uint64_t branch_Field_17;
	VAL branch_C99ReprType_18;
	bool branch_Bool_19;
	TUP* branch_ZPlusMirth_20;
	STR* branch_Str_21;
	TUP* branch_ZPlusC99Branch_22;
	if (v15) {
		TUP* v23 = value_tup(v8->cells[0], 6);
		TUP* v24;
		TUP* v25;
		STR* v26 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v7, v23, &v24, &v25);
		v8->cells[0] = MKTUP(v25, 6);
		branch_ZPlusC99Branch_22 = v8;
		branch_Str_21 = v26;
		branch_ZPlusMirth_20 = v24;
		branch_Bool_19 = v15;
		branch_C99ReprType_18 = v10;
		branch_Field_17 = in_Field_3;
		branch_ZPlusC99Value_16 = v9;
	} else {
		STR* v27;
		STRLIT(v27, "0", 1);
		branch_ZPlusC99Branch_22 = v8;
		branch_Str_21 = v27;
		branch_ZPlusMirth_20 = v7;
		branch_Bool_19 = v15;
		branch_C99ReprType_18 = v10;
		branch_Field_17 = in_Field_3;
		branch_ZPlusC99Value_16 = v9;
	}
	bool v28 = value_bool(branch_ZPlusC99Branch_22->cells[3]);
	bool v29 = (branch_Bool_19 && v28);
	TUP* v30 = value_tup(branch_ZPlusC99Branch_22->cells[0], 6);
	bool v31 = value_bool(v30->cells[3]);
	bool v32 = (v29 && v31);
	v30->cells[3] = MKBOOL(v32);
	TUP* v33;
	TUP* v34;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_20, v30, &v33, &v34);
	incref(branch_C99ReprType_18);
	STR* v35 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_18);
	TUP* v36;
	TUP* v37;
	mw_mirth_c99_ZPlusC99_put(v33, v34, v35, &v36, &v37);
	STR* v38;
	STRLIT(v38, " ", 1);
	TUP* v39;
	TUP* v40;
	mw_mirth_c99_ZPlusC99_put(v36, v37, v38, &v39, &v40);
	incref(MKSTR(branch_Str_21));
	TUP* v41;
	TUP* v42;
	mw_mirth_c99_ZPlusC99_put(v39, v40, branch_Str_21, &v41, &v42);
	STR* v43;
	STRLIT(v43, " = ", 3);
	TUP* v44;
	TUP* v45;
	mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
	TUP* v46;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_18, branch_Str_21, &v46);
	STR* v47;
	STRLIT(v47, "field_mut(&", 11);
	TUP* v48;
	TUP* v49;
	mw_mirth_c99_ZPlusC99_put(v44, v45, v47, &v48, &v49);
	TUP* v50;
	STR* v51 = mw_mirth_table_Field_cname(v48, branch_Field_17, &v50);
	TUP* v52;
	TUP* v53;
	mw_mirth_c99_ZPlusC99_put(v50, v49, v51, &v52, &v53);
	STR* v54;
	STRLIT(v54, ", ", 2);
	TUP* v55;
	TUP* v56;
	mw_mirth_c99_ZPlusC99_put(v52, v53, v54, &v55, &v56);
	VAL v57 = MKI64(9LL /* U64 */);
	STR* v58 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v57, branch_ZPlusC99Value_16);
	TUP* v59;
	TUP* v60;
	mw_mirth_c99_ZPlusC99_put(v55, v56, v58, &v59, &v60);
	STR* v61;
	STRLIT(v61, ")", 1);
	TUP* v62;
	TUP* v63;
	mw_mirth_c99_ZPlusC99_put(v59, v60, v61, &v62, &v63);
	STR* v64;
	STRLIT(v64, ";", 1);
	TUP* v65;
	TUP* v66;
	mw_mirth_c99_ZPlusC99_put(v62, v63, v64, &v65, &v66);
	TUP* v67;
	TUP* v68;
	mw_mirth_c99_ZPlusC99_line(v65, v66, &v67, &v68);
	v68->cells[3] = MKBOOL(v31);
	branch_ZPlusC99Branch_22->cells[0] = MKTUP(v68, 6);
	TUP* v69;
	TUP* v70;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v67, branch_ZPlusC99Branch_22, v46, &v69, &v70);
	*out_ZPlusC99Branch_5 = v70;
	*out_ZPlusMirth_4 = v69;
}
static void mw_mirth_c99_c99Z_mainZBang (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* in_Arrow_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	TUP* v6;
	TUP* v7;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v6, &v7);
	STR* v8;
	STRLIT(v8, "int main (int argc, char** argv) {", 34);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99_put(v6, v7, v8, &v9, &v10);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_line(v9, v10, &v11, &v12);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang(v11, v12, &v13, &v14);
	INT v15 = value_int(v14->cells[1]);
	incref(MKINT(v15));
	INT v16 = WRAP_I63(1LL);
	INT v17 = int_add(v15, v16);
	INT v18 = value_int(v14->cells[1]);
	decref(MKINT(v18));
	v14->cells[1] = MKINT(v17);
	TUP* v19;
	TUP* v20;
	mw_mirth_c99_ZPlusC99_indent(v13, v14, &v19, &v20);
	STR* v21;
	STRLIT(v21, "global_argc = argc;", 19);
	TUP* v22;
	TUP* v23;
	mw_mirth_c99_ZPlusC99_put(v19, v20, v21, &v22, &v23);
	TUP* v24;
	TUP* v25;
	mw_mirth_c99_ZPlusC99_line(v22, v23, &v24, &v25);
	TUP* v26;
	TUP* v27;
	mw_mirth_c99_ZPlusC99_indent(v24, v25, &v26, &v27);
	STR* v28;
	STRLIT(v28, "global_argv = argv;", 19);
	TUP* v29;
	TUP* v30;
	mw_mirth_c99_ZPlusC99_put(v26, v27, v28, &v29, &v30);
	TUP* v31;
	TUP* v32;
	mw_mirth_c99_ZPlusC99_line(v29, v30, &v31, &v32);
	TUP* v33 = value_tup(v32->cells[0], 2);
	incref(MKTUP(v33, 2));
	bool v34 = value_bool(v33->cells[1]);
	decref(MKTUP(v33, 2));
	TUP* branch_Arrow_35;
	TUP* branch_ZPlusMirth_36;
	TUP* branch_ZPlusC99_37;
	if (v34) {
		TUP* v38;
		TUP* v39;
		mw_mirth_c99_ZPlusC99_indent(v31, v32, &v38, &v39);
		STR* v40;
		STRLIT(v40, "WORD_ENTER(", 11);
		TUP* v41;
		TUP* v42;
		mw_mirth_c99_ZPlusC99_put(v38, v39, v40, &v41, &v42);
		STR* v43;
		STRLIT(v43, "\"<main>\", ", 10);
		TUP* v44;
		TUP* v45;
		mw_mirth_c99_ZPlusC99_put(v41, v42, v43, &v44, &v45);
		incref(MKTUP(in_Arrow_3, 7));
		uint64_t v46 = value_u64(in_Arrow_3->cells[1]);
		decref(MKTUP(in_Arrow_3, 7));
		TUP* v47;
		uint64_t v48 = mw_mirth_token_Token_module(v44, v46, &v47);
		TUP* v49;
		STR* v50 = mw_mirth_module_Module_sourceZ_path(v47, v48, &v49);
		TUP* v51;
		TUP* v52;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v49, v45, v50, &v51, &v52);
		STR* v53;
		STRLIT(v53, ", ", 2);
		TUP* v54;
		TUP* v55;
		mw_mirth_c99_ZPlusC99_put(v51, v52, v53, &v54, &v55);
		incref(MKTUP(in_Arrow_3, 7));
		uint64_t v56 = value_u64(in_Arrow_3->cells[1]);
		decref(MKTUP(in_Arrow_3, 7));
		TUP* v57;
		INT v58 = mw_mirth_token_Token_row(v54, v56, &v57);
		INT v59 = mw_mirth_location_Row_ZToInt(v58);
		STR* v60 = int_to_str(v59);
		TUP* v61;
		TUP* v62;
		mw_mirth_c99_ZPlusC99_put(v57, v55, v60, &v61, &v62);
		STR* v63;
		STRLIT(v63, ", ", 2);
		TUP* v64;
		TUP* v65;
		mw_mirth_c99_ZPlusC99_put(v61, v62, v63, &v64, &v65);
		incref(MKTUP(in_Arrow_3, 7));
		uint64_t v66 = value_u64(in_Arrow_3->cells[1]);
		decref(MKTUP(in_Arrow_3, 7));
		TUP* v67;
		INT v68 = mw_mirth_token_Token_col(v64, v66, &v67);
		INT v69 = mw_mirth_location_Col_ZToInt(v68);
		STR* v70 = int_to_str(v69);
		TUP* v71;
		TUP* v72;
		mw_mirth_c99_ZPlusC99_put(v67, v65, v70, &v71, &v72);
		STR* v73;
		STRLIT(v73, ");", 2);
		TUP* v74;
		TUP* v75;
		mw_mirth_c99_ZPlusC99_put(v71, v72, v73, &v74, &v75);
		TUP* v76;
		TUP* v77;
		mw_mirth_c99_ZPlusC99_line(v74, v75, &v76, &v77);
		branch_ZPlusC99_37 = v77;
		branch_ZPlusMirth_36 = v76;
		branch_Arrow_35 = in_Arrow_3;
	} else {
		branch_ZPlusC99_37 = v32;
		branch_ZPlusMirth_36 = v31;
		branch_Arrow_35 = in_Arrow_3;
	}
	bool v78 = true;
	VAL v79 = MKI64(0LL /* Nil */);
	TUP* v80;
	TUP* v81;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(branch_ZPlusMirth_36, branch_ZPlusC99_37, v78, v79, &v80, &v81);
	VAL v82 = MKI64(5LL /* I64 */);
	incref(v82);
	int64_t v83 = get_data_tag(v82);
	decref(v82);
	INT v84 = WRAP_I63(0LL);
	INT v85 = i64_to_int(v83);
	bool v86 = int_eq(v85, v84);
	bool v87 = !v86;
	VAL branch_C99ReprType_88;
	bool branch_Bool_89;
	TUP* branch_ZPlusMirth_90;
	STR* branch_Str_91;
	TUP* branch_ZPlusC99Branch_92;
	if (v87) {
		TUP* v93 = value_tup(v81->cells[0], 6);
		TUP* v94;
		TUP* v95;
		STR* v96 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v80, v93, &v94, &v95);
		v81->cells[0] = MKTUP(v95, 6);
		branch_ZPlusC99Branch_92 = v81;
		branch_Str_91 = v96;
		branch_ZPlusMirth_90 = v94;
		branch_Bool_89 = v87;
		branch_C99ReprType_88 = v82;
	} else {
		STR* v97;
		STRLIT(v97, "0", 1);
		branch_ZPlusC99Branch_92 = v81;
		branch_Str_91 = v97;
		branch_ZPlusMirth_90 = v80;
		branch_Bool_89 = v87;
		branch_C99ReprType_88 = v82;
	}
	bool v98 = value_bool(branch_ZPlusC99Branch_92->cells[3]);
	bool v99 = (branch_Bool_89 && v98);
	TUP* v100 = value_tup(branch_ZPlusC99Branch_92->cells[0], 6);
	bool v101 = value_bool(v100->cells[3]);
	bool v102 = (v99 && v101);
	v100->cells[3] = MKBOOL(v102);
	TUP* v103;
	TUP* v104;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_90, v100, &v103, &v104);
	incref(branch_C99ReprType_88);
	STR* v105 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_88);
	TUP* v106;
	TUP* v107;
	mw_mirth_c99_ZPlusC99_put(v103, v104, v105, &v106, &v107);
	STR* v108;
	STRLIT(v108, " ", 1);
	TUP* v109;
	TUP* v110;
	mw_mirth_c99_ZPlusC99_put(v106, v107, v108, &v109, &v110);
	incref(MKSTR(branch_Str_91));
	TUP* v111;
	TUP* v112;
	mw_mirth_c99_ZPlusC99_put(v109, v110, branch_Str_91, &v111, &v112);
	STR* v113;
	STRLIT(v113, " = ", 3);
	TUP* v114;
	TUP* v115;
	mw_mirth_c99_ZPlusC99_put(v111, v112, v113, &v114, &v115);
	TUP* v116;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_88, branch_Str_91, &v116);
	STR* v117;
	STRLIT(v117, "0 /* The World! */", 18);
	TUP* v118;
	TUP* v119;
	mw_mirth_c99_ZPlusC99_put(v114, v115, v117, &v118, &v119);
	STR* v120;
	STRLIT(v120, ";", 1);
	TUP* v121;
	TUP* v122;
	mw_mirth_c99_ZPlusC99_put(v118, v119, v120, &v121, &v122);
	TUP* v123;
	TUP* v124;
	mw_mirth_c99_ZPlusC99_line(v121, v122, &v123, &v124);
	v124->cells[3] = MKBOOL(v101);
	branch_ZPlusC99Branch_92->cells[0] = MKTUP(v124, 6);
	TUP* v125;
	TUP* v126;
	mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v123, branch_ZPlusC99Branch_92, v116, &v125, &v126);
	TUP* v127;
	TUP* v128;
	mw_mirth_c99_c99Z_arrowZBang(v125, v126, branch_Arrow_35, &v127, &v128);
	TUP* v129;
	TUP* v130;
	bool v131;
	VAL v132;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v127, v128, &v129, &v130, &v131, &v132);
	decref(v132);
	TUP* v133 = value_tup(v130->cells[0], 2);
	incref(MKTUP(v133, 2));
	bool v134 = value_bool(v133->cells[1]);
	decref(MKTUP(v133, 2));
	TUP* branch_ZPlusMirth_135;
	TUP* branch_ZPlusC99_136;
	if (v134) {
		TUP* v137;
		TUP* v138;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(v129, v130, &v137, &v138);
		branch_ZPlusC99_136 = v138;
		branch_ZPlusMirth_135 = v137;
	} else {
		branch_ZPlusC99_136 = v130;
		branch_ZPlusMirth_135 = v129;
	}
	TUP* v139;
	TUP* v140;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_135, branch_ZPlusC99_136, &v139, &v140);
	STR* v141;
	STRLIT(v141, "return 0;", 9);
	TUP* v142;
	TUP* v143;
	mw_mirth_c99_ZPlusC99_put(v139, v140, v141, &v142, &v143);
	TUP* v144;
	TUP* v145;
	mw_mirth_c99_ZPlusC99_line(v142, v143, &v144, &v145);
	INT v146 = value_int(v145->cells[1]);
	incref(MKINT(v146));
	INT v147 = WRAP_I63(1LL);
	INT v148 = int_sub(v146, v147);
	incref(MKINT(v148));
	INT v149 = WRAP_I63(0LL);
	bool v150 = int_le(v149, v148);
	INT branch_Nat_151;
	if (v150) {
		branch_Nat_151 = v148;
	} else {
		decref(MKINT(v148));
		INT v152 = WRAP_I63(0LL);
		branch_Nat_151 = v152;
	}
	INT v153 = value_int(v145->cells[1]);
	decref(MKINT(v153));
	v145->cells[1] = MKINT(branch_Nat_151);
	TUP* v154;
	TUP* v155;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v144, v145, &v154, &v155);
	*out_ZPlusC99_5 = v155;
	*out_ZPlusMirth_4 = v154;
}
static void mw_mirth_main_main (void) {
	VAL v3 = mw_mirth_options_parseZ_optionsZBang();
	bool branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Ok
			VAL v5 = mtp_std_result_Result_2_Ok(v3);
			TUP* v6;
			mw_mirth_mirth_ZPlusMirth_InitZBang(&v6);
			TUP* v7;
			mw_mirth_main_compileZBang(v6, value_tup(v5, 6), &v7);
			INT v8 = value_int(v7->cells[0]);
			incref(MKINT(v8));
			INT v9 = WRAP_I63(0LL);
			bool v10 = int_lt(v9, v8);
			mw_mirth_mirth_ZPlusMirth_quitZBang(v7);
			branch_Bool_4 = v10;
		} break;
		case 0LL: { // Err
			VAL v11 = mtp_std_result_Result_2_Err(v3);
			STR* v12;
			STRLIT(v12, "", 0);
			VAL v13 = value_tup(v11, 2)->cells[0];
			VAL v14 = value_tup(v11, 2)->cells[1];
			tup_decref_outer(value_tup(v11, 2),2);
			STR* v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(value_str(v14), v12, &v15);
			STR* v16;
			mw_argZ_parser_types_ArgumentParsingError_emitZThen(v13, v15, &v16);
			STR* v17;
			STRLIT(v17, "\n", 1);
			STR* v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(v17, v16, &v18);
			mw_std_prim_ZPlusWorld_traceZ_(v18);
			bool v19 = true;
			branch_Bool_4 = v19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	if (branch_Bool_4) {
		INT v20 = WRAP_I63(1LL);
		int64_t v21 = int_to_i64(v20);
		mext_std_prim_ZPlusWorld_rawZ_posixZ_exitZBang(v21);
	} else {
	}
}
static void mw_mirth_main_compileZBang (TUP* in_ZPlusMirth_1, TUP* in_Options_2, TUP* *out_ZPlusMirth_3) {
	STR* v6;
	VAL v7;
	VAL v8;
	VAL v9;
	VAL v10;
	bool v11;
	mtp_mirth_options_Options_Options(in_Options_2, &v6, &v7, &v8, &v9, &v10, &v11);
	incref(v10);
	bool v12 = mw_std_list_List_1_emptyZAsk(v10);
	TUP* branch_ZPlusMirth_13;
	VAL branch_List_14;
	if (v12) {
		decref(v10);
		STR* v15;
		STRLIT(v15, "lib", 3);
		TUP* v16;
		VAL v17 = mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path(in_ZPlusMirth_1, &v16);
		VAL v18 = mw_std_maybe_Maybe_1_ZToList(v17);
		VAL v19 = mw_std_list_List_1_cons(MKSTR(v15), v18);
		branch_List_14 = v19;
		branch_ZPlusMirth_13 = v16;
	} else {
		branch_List_14 = v10;
		branch_ZPlusMirth_13 = in_ZPlusMirth_1;
	}
	VAL v20 = branch_ZPlusMirth_13->cells[4];
	decref(v20);
	branch_ZPlusMirth_13->cells[4] = branch_List_14;
	STR* v21;
	STRLIT(v21, "", 0);
	STR* v22;
	STRLIT(v22, "Compiling ", 10);
	STR* v23;
	mw_std_str_ZPlusStr_pushZ_strZBang(v22, v21, &v23);
	incref(MKSTR(v6));
	STR* v24;
	mw_std_path_Path_pathZThen(v6, v23, &v24);
	STR* v25;
	STRLIT(v25, "\n", 1);
	STR* v26;
	mw_std_str_ZPlusStr_pushZ_strZBang(v25, v24, &v26);
	mw_std_prim_ZPlusWorld_traceZ_(v26);
	bool v27 = true;
	TUP* v28 = branch_ZPlusMirth_13;
	VAL v29 = v9;
	bool v30 = v27;
	bool v31 = v27;
	while (v31) {
		TUP* v32 = v28;
		VAL v33 = v29;
		bool v34 = v30;
		TUP* branch_ZPlusMirth_35;
		VAL branch_List_36;
		bool branch_Bool_37;
		switch (get_data_tag(v33)) {
			case 1LL: { // Cons
				VAL v38;
				VAL v39 = mtp_std_list_List_1_Cons(v33, &v38);
				VAL v40 = value_tup(v39, 2)->cells[0];
				VAL v41 = value_tup(v39, 2)->cells[1];
				tup_decref_outer(value_tup(v39, 2),2);
				TUP* v42;
				uint64_t v43 = mw_std_prim_Str_ZToName(v32, value_str(v40), &v42);
				TUP* v44;
				uint64_t v45 = mw_mirth_package_Package_NewZ_OrZ_PathZBang(v42, value_str(v41), v43, &v44);
				bool v46 = true;
				branch_Bool_37 = v46;
				branch_List_36 = v38;
				branch_ZPlusMirth_35 = v44;
			} break;
			case 0LL: { // Nil
				VAL v47 = MKI64(0LL /* Nil */);
				bool v48 = false;
				branch_Bool_37 = v48;
				branch_List_36 = v47;
				branch_ZPlusMirth_35 = v32;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v31 = branch_Bool_37;
		v30 = branch_Bool_37;
		v29 = branch_List_36;
		v28 = branch_ZPlusMirth_35;
	}
	decref(v29);
	TUP* v49;
	uint64_t v50 = mw_mirth_mirth_ZPlusMirth_runZ_lexerZBang(v28, v6, &v49);
	STR* v51;
	STRLIT(v51, "", 0);
	STR* v52;
	STRLIT(v52, "Building.", 9);
	STR* v53;
	mw_std_str_ZPlusStr_pushZ_strZBang(v52, v51, &v53);
	STR* v54;
	STRLIT(v54, "\n", 1);
	STR* v55;
	mw_std_str_ZPlusStr_pushZ_strZBang(v54, v53, &v55);
	mw_std_prim_ZPlusWorld_traceZ_(v55);
	TUP* v56;
	uint64_t v57 = mw_mirth_elab_elabZ_moduleZBang(v49, v50, &v56);
	TUP* v58;
	mw_mirth_elab_typecheckZ_everythingZBang(v56, &v58);
	uint64_t branch_Module_59;
	TUP* branch_ZPlusMirth_60;
	VAL branch_Maybe_61;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v62 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v63 = mtw_mirth_name_Namespace_Module(v57);
			TUP* v64;
			uint64_t v65 = mw_std_prim_Str_ZToName(v58, value_str(v62), &v64);
			INT v66 = WRAP_I63(0LL);
			TUP* v67 = mw_mirth_name_QName_Mk(v63, v65, v66);
			TUP* v68;
			TUP* v69 = mw_mirth_elab_elabZ_entryZ_point(v64, v67, &v68);
			VAL v70 = mtw_std_maybe_Maybe_1_Some(MKTUP(v69, 7));
			branch_Maybe_61 = v70;
			branch_ZPlusMirth_60 = v68;
			branch_Module_59 = v57;
		} break;
		case 0LL: { // None
			VAL v71 = MKI64(0LL /* None */);
			branch_Maybe_61 = v71;
			branch_ZPlusMirth_60 = v58;
			branch_Module_59 = v57;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v72;
	mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang(branch_ZPlusMirth_60, &v72);
	INT v73 = value_int(v72->cells[0]);
	incref(MKINT(v73));
	INT v74 = WRAP_I63(0LL);
	bool v75 = int_lt(v74, v73);
	VAL branch_Maybe_76;
	bool branch_Bool_77;
	TUP* branch_ZPlusMirth_78;
	if (v75) {
		INT v79 = value_int(v72->cells[0]);
		incref(MKINT(v79));
		STR* v80;
		STRLIT(v80, "", 0);
		VAL v81 = MKI64(31LL /* FGRed */);
		STR* v82;
		mw_std_terminal_Sgr_emitZThen(v81, v80, &v82);
		STR* v83 = int_to_str(v79);
		STR* v84;
		mw_std_str_ZPlusStr_pushZ_strZBang(v83, v82, &v84);
		STR* v85;
		STRLIT(v85, " errors.", 8);
		STR* v86;
		mw_std_str_ZPlusStr_pushZ_strZBang(v85, v84, &v86);
		VAL v87 = MKI64(0LL /* Reset */);
		STR* v88;
		mw_std_terminal_Sgr_emitZThen(v87, v86, &v88);
		STR* v89;
		STRLIT(v89, "\n", 1);
		STR* v90;
		mw_std_str_ZPlusStr_pushZ_strZBang(v89, v88, &v90);
		mw_std_prim_ZPlusWorld_traceZ_(v90);
		decref(branch_Maybe_61);
		branch_ZPlusMirth_78 = v72;
		branch_Bool_77 = v11;
		branch_Maybe_76 = v7;
	} else {
		STR* v91;
		STRLIT(v91, "", 0);
		VAL v92 = MKI64(32LL /* FGGreen */);
		STR* v93;
		mw_std_terminal_Sgr_emitZThen(v92, v91, &v93);
		STR* v94;
		STRLIT(v94, "No errors.", 10);
		STR* v95;
		mw_std_str_ZPlusStr_pushZ_strZBang(v94, v93, &v95);
		VAL v96 = MKI64(0LL /* Reset */);
		STR* v97;
		mw_std_terminal_Sgr_emitZThen(v96, v95, &v97);
		STR* v98;
		STRLIT(v98, "\n", 1);
		STR* v99;
		mw_std_str_ZPlusStr_pushZ_strZBang(v98, v97, &v99);
		mw_std_prim_ZPlusWorld_traceZ_(v99);
		VAL branch_Maybe_100;
		bool branch_Bool_101;
		TUP* branch_ZPlusMirth_102;
		switch (get_data_tag(branch_Maybe_61)) {
			case 1LL: { // Some
				VAL v103 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_61);
				STR* v104;
				STRLIT(v104, "Running specializer.", 20);
				mw_std_prim_ZPlusWorld_trace(v104);
				TUP* v105;
				TUP* v106 = mw_mirth_specializzer_runZ_specializzerZBang(v72, value_tup(v103, 7), &v105);
				INT v107 = value_int(v105->cells[0]);
				incref(MKINT(v107));
				INT v108 = WRAP_I63(0LL);
				bool v109 = int_lt(v108, v107);
				VAL branch_Maybe_110;
				bool branch_Bool_111;
				TUP* branch_ZPlusMirth_112;
				if (v109) {
					TUP* v113;
					mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang(v105, &v113);
					INT v114 = value_int(v113->cells[0]);
					incref(MKINT(v114));
					STR* v115;
					STRLIT(v115, "", 0);
					VAL v116 = MKI64(31LL /* FGRed */);
					STR* v117;
					mw_std_terminal_Sgr_emitZThen(v116, v115, &v117);
					STR* v118 = int_to_str(v114);
					STR* v119;
					mw_std_str_ZPlusStr_pushZ_strZBang(v118, v117, &v119);
					STR* v120;
					STRLIT(v120, " errors during specializer.", 27);
					STR* v121;
					mw_std_str_ZPlusStr_pushZ_strZBang(v120, v119, &v121);
					VAL v122 = MKI64(0LL /* Reset */);
					STR* v123;
					mw_std_terminal_Sgr_emitZThen(v122, v121, &v123);
					STR* v124;
					STRLIT(v124, "\n", 1);
					STR* v125;
					mw_std_str_ZPlusStr_pushZ_strZBang(v124, v123, &v125);
					mw_std_prim_ZPlusWorld_traceZ_(v125);
					decref(MKTUP(v106, 7));
					branch_ZPlusMirth_112 = v113;
					branch_Bool_111 = v11;
					branch_Maybe_110 = v7;
				} else {
					incref(v7);
					bool branch_Bool_126;
					TUP* branch_ZPlusMirth_127;
					switch (get_data_tag(v7)) {
						case 1LL: { // Some
							VAL v128 = mtp_std_maybe_Maybe_1_Some(v7);
							STR* v129;
							STRLIT(v129, "Running codegen.", 16);
							mw_std_prim_ZPlusWorld_trace(v129);
							TUP* v130 = mtw_mirth_c99_C99z_Options_C99z_Options(value_str(v128), v11);
							TUP* v131;
							mw_mirth_c99_runZ_outputZ_c99ZBang(v105, v106, v130, &v131);
							branch_ZPlusMirth_127 = v131;
							branch_Bool_126 = v11;
						} break;
						case 0LL: { // None
							decref(MKTUP(v106, 7));
							STR* v132;
							STRLIT(v132, "No output file, skipping codegen.", 33);
							mw_std_prim_ZPlusWorld_trace(v132);
							branch_ZPlusMirth_127 = v105;
							branch_Bool_126 = v11;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusMirth_112 = branch_ZPlusMirth_127;
					branch_Bool_111 = branch_Bool_126;
					branch_Maybe_110 = v7;
				}
				branch_ZPlusMirth_102 = branch_ZPlusMirth_112;
				branch_Bool_101 = branch_Bool_111;
				branch_Maybe_100 = branch_Maybe_110;
			} break;
			case 0LL: { // None
				STR* v133;
				STRLIT(v133, "No entry point, skipping Codegen.", 33);
				mw_std_prim_ZPlusWorld_trace(v133);
				branch_ZPlusMirth_102 = v72;
				branch_Bool_101 = v11;
				branch_Maybe_100 = v7;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusMirth_78 = branch_ZPlusMirth_102;
		branch_Bool_77 = branch_Bool_101;
		branch_Maybe_76 = branch_Maybe_100;
	}
	decref(branch_Maybe_76);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_78;
}
static int64_t mw_std_prelude_unsafe_1_sp1 (void) {
	int64_t v2 = 0LL /* +Unsafe */;
	int64_t v3 = mext_std_prelude_ZPlusUnsafe_posixZ_errnoZBang();
	return v3;
}
static VAL mw_std_prelude_unsafe_1_sp2 (TUP* in_ZPlusFile_1, void* in_Ptr_2, INT in_Sizze_3, TUP* *out_ZPlusFile_4) {
	int64_t v6 = 0LL /* +Unsafe */;
	TUP* v7;
	VAL v8 = mw_std_file_ZPlusFile_writeZ_bytesZBang(in_ZPlusFile_1, in_Ptr_2, in_Sizze_3, &v7);
	*out_ZPlusFile_4 = v7;
	return v8;
}
static STR* mw_std_prelude_unsafe_1_sp3 (void* in_Ptr_1, INT in_Sizze_2) {
	int64_t v4 = 0LL /* +Unsafe */;
	uint64_t v5 = int_to_u64(in_Sizze_2);
	STR* v6 = str_make(in_Ptr_1, v5);
	return v6;
}
static void* mw_std_prelude_unsafe_1_sp5 (INT in_Offset_1, void* in_Ptr_2) {
	int64_t v4 = 0LL /* +Unsafe */;
	int64_t v5 = int_to_i64(in_Offset_1);
	void* v6 = (void*)(v5 + (char*)in_Ptr_2);
	return v6;
}
static VAL mw_std_list_List_1_for_1_sp5 (VAL in_List_1, VAL in_List_2) {
	bool v4 = true;
	VAL v5 = in_List_1;
	VAL v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		VAL v9 = v5;
		VAL v10 = v6;
		bool v11 = v7;
		VAL branch_List_12;
		VAL branch_List_13;
		bool branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17 = mw_std_list_List_1_cons(v16, v9);
				bool v18 = true;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_List_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				bool v20 = false;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_List_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_List_12;
	}
	decref(v6);
	return v5;
}
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	TUP* v5;
	TUP* v6;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v5, &v6);
	STR* v7;
	STRLIT(v7, "}", 1);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99_put(v5, v6, v7, &v8, &v9);
	TUP* v10;
	TUP* v11;
	mw_mirth_c99_ZPlusC99_line(v8, v9, &v10, &v11);
	*out_ZPlusC99_4 = v11;
	*out_ZPlusMirth_3 = v10;
}
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99_4) {
	TUP* v5;
	TUP* v6;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, in_ZPlusC99_2, &v5, &v6);
	STR* v7;
	STRLIT(v7, "WORD_EXIT;", 10);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99_put(v5, v6, v7, &v8, &v9);
	TUP* v10;
	TUP* v11;
	mw_mirth_c99_ZPlusC99_line(v8, v9, &v10, &v11);
	*out_ZPlusC99_4 = v11;
	*out_ZPlusMirth_3 = v10;
}
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1 (STR* in_Str_1, uint64_t in_Label_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6) {
	bool v7 = value_bool(in_ZPlusC99Branch_4->cells[3]);
	TUP* v8 = value_tup(in_ZPlusC99Branch_4->cells[0], 6);
	bool v9 = value_bool(v8->cells[3]);
	bool v10 = (v7 && v9);
	v8->cells[3] = MKBOOL(v10);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_3, v8, &v11, &v12);
	STR* v13;
	STRLIT(v13, "lpush(&lbl_", 11);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v13, &v14, &v15);
	TUP* v16;
	uint64_t v17 = mw_mirth_label_Label_name(v14, in_Label_2, &v16);
	TUP* v18;
	STR* v19 = mw_mirth_name_Name_mangled(v16, v17, &v18);
	TUP* v20;
	TUP* v21;
	mw_mirth_c99_ZPlusC99_put(v18, v15, v19, &v20, &v21);
	STR* v22;
	STRLIT(v22, ", ", 2);
	TUP* v23;
	TUP* v24;
	mw_mirth_c99_ZPlusC99_put(v20, v21, v22, &v23, &v24);
	TUP* v25;
	TUP* v26;
	mw_mirth_c99_ZPlusC99_put(v23, v24, in_Str_1, &v25, &v26);
	STR* v27;
	STRLIT(v27, ");", 2);
	TUP* v28;
	TUP* v29;
	mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
	TUP* v30;
	TUP* v31;
	mw_mirth_c99_ZPlusC99_line(v28, v29, &v30, &v31);
	v31->cells[3] = MKBOOL(v9);
	in_ZPlusC99Branch_4->cells[0] = MKTUP(v31, 6);
	*out_ZPlusC99Branch_6 = in_ZPlusC99Branch_4;
	*out_ZPlusMirth_5 = v30;
}
static int64_t mw_std_prelude_unsafe_1_sp12 (void* in_Ptr_1) {
	int64_t v3 = 0LL /* +Unsafe */;
	uint8_t v4 = *(uint8_t*)in_Ptr_1;
	uint64_t v5 = (uint64_t)(v4);
	INT v6 = u64_to_int(v5);
	int64_t v7 = int_to_i64(v6);
	return v7;
}
static STR* mw_std_prim_Str_Str_1_sp7 (STR* in_Str_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	STR* v4;
	STRLIT(v4, "MKI64(", 6);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, v3, &v5);
	STR* v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v5, &v6);
	STR* v7;
	STRLIT(v7, ")", 1);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, v6, &v8);
	return v8;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp1 (VAL in_Maybe_1) {
	VAL branch_z_x1_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			branch_z_x1_3 = v4;
		} break;
		case 0LL: { // None
			mw_std_prelude_impossibleZBang();
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_z_x1_3;
}
static void mw_std_maybe_Maybe_1_locationZAskZThen_sp1 (TUP* in_ZPlusMirth_1, STR* in_ZPlusStr_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, STR* *out_ZPlusStr_5) {
	TUP* branch_ZPlusMirth_6;
	STR* branch_ZPlusStr_7;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			TUP* v9;
			STR* v10;
			mw_mirth_token_Token_locationZThen(in_ZPlusMirth_1, in_ZPlusStr_2, value_u64(v8), &v9, &v10);
			branch_ZPlusStr_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "???", 3);
			STR* v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v11, in_ZPlusStr_2, &v12);
			branch_ZPlusStr_7 = v12;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp1 (uint64_t in_Label_1, uint64_t in_Tag_2, STR* in_Str_3, TUP* in_ZPlusMirth_4, TUP* in_ZPlusC99_5, VAL in_C99ReprType_6, STR* *out_Str_7, uint64_t *out_Tag_8, uint64_t *out_Label_9, TUP* *out_ZPlusMirth_10, TUP* *out_ZPlusC99_11) {
	STR* v12;
	STR* v13 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_6, &v12);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_4, in_ZPlusC99_5, v13, &v14, &v15);
	incref(MKSTR(in_Str_3));
	TUP* v16;
	TUP* v17;
	mw_mirth_c99_ZPlusC99_put(v14, v15, in_Str_3, &v16, &v17);
	STR* v18;
	STRLIT(v18, "->cells[", 8);
	TUP* v19;
	TUP* v20;
	mw_mirth_c99_ZPlusC99_put(v16, v17, v18, &v19, &v20);
	TUP* v21;
	TUP* v22;
	INT v23 = mw_mirth_c99_c99Z_tagZ_labelZ_index(v19, v20, in_Tag_2, in_Label_1, &v21, &v22);
	STR* v24 = int_to_str(v23);
	TUP* v25;
	TUP* v26;
	mw_mirth_c99_ZPlusC99_put(v21, v22, v24, &v25, &v26);
	STR* v27;
	STRLIT(v27, "]", 1);
	TUP* v28;
	TUP* v29;
	mw_mirth_c99_ZPlusC99_put(v25, v26, v27, &v28, &v29);
	TUP* v30;
	TUP* v31;
	mw_mirth_c99_ZPlusC99_put(v28, v29, v12, &v30, &v31);
	*out_ZPlusC99_11 = v31;
	*out_ZPlusMirth_10 = v30;
	*out_Label_9 = in_Label_1;
	*out_Tag_8 = in_Tag_2;
	*out_Str_7 = in_Str_3;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp3 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_z_x1_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			branch_z_x1_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v8;
			STRLIT(v8, "c99 error: tried to pop from invalid stack type", 47);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v8);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_z_x1_6;
}
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp4 (uint64_t in_Label_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusC99_3, VAL in_C99ReprType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6) {
	STR* v7;
	STR* v8 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_4, &v7);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_2, in_ZPlusC99_3, v8, &v9, &v10);
	STR* v11;
	STRLIT(v11, "lpop(&lbl_", 10);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_ZPlusC99_put(v9, v10, v11, &v12, &v13);
	TUP* v14;
	uint64_t v15 = mw_mirth_label_Label_name(v12, in_Label_1, &v14);
	TUP* v16;
	STR* v17 = mw_mirth_name_Name_mangled(v14, v15, &v16);
	TUP* v18;
	TUP* v19;
	mw_mirth_c99_ZPlusC99_put(v16, v13, v17, &v18, &v19);
	STR* v20;
	STRLIT(v20, ")", 1);
	TUP* v21;
	TUP* v22;
	mw_mirth_c99_ZPlusC99_put(v18, v19, v20, &v21, &v22);
	TUP* v23;
	TUP* v24;
	mw_mirth_c99_ZPlusC99_put(v21, v22, v7, &v23, &v24);
	*out_ZPlusC99_6 = v24;
	*out_ZPlusMirth_5 = v23;
}
static VAL mw_std_maybe_Maybe_1_map_1_sp3 (VAL in_Resource_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Resource_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v8 = value_tup(v7, 2)->cells[0];
			VAL v9 = value_tup(v7, 2)->cells[1];
			tup_decref_outer(value_tup(v7, 2),2);
			incref(in_Resource_1);
			VAL v10 = mtw_mirth_type_StackType_With(v8, in_Resource_1);
			TUP* v11 = tup_new(2);
			v11->size = 2;
			v11->cells[1] = v9;
			v11->cells[0] = v10;
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_6 = v12;
			branch_Resource_5 = in_Resource_1;
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_6 = v13;
			branch_Resource_5 = in_Resource_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Resource_5;
}
static VAL mw_std_maybe_Maybe_1_map_1_sp4 (VAL in_Type_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Type_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v8 = value_tup(v7, 2)->cells[0];
			VAL v9 = value_tup(v7, 2)->cells[1];
			tup_decref_outer(value_tup(v7, 2),2);
			incref(in_Type_1);
			VAL v10 = mtw_mirth_type_StackType_Cons(v8, in_Type_1);
			TUP* v11 = tup_new(2);
			v11->size = 2;
			v11->cells[1] = v9;
			v11->cells[0] = v10;
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_6 = v12;
			branch_Type_5 = in_Type_1;
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_6 = v13;
			branch_Type_5 = in_Type_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Type_5;
}
static VAL mw_std_list_List_1_filter_1_sp1 (TUP* in_ZPlusMirth_1, VAL in_z_x1_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, VAL *out_z_x1_5) {
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	TUP* v10 = in_ZPlusMirth_1;
	VAL v11 = in_z_x1_2;
	VAL v12 = v8;
	VAL v13 = in_List_3;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		TUP* v16 = v10;
		VAL v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		bool v20 = v14;
		TUP* branch_ZPlusMirth_21;
		VAL branch_z_x1_22;
		VAL branch_ZPlusLister_23;
		VAL branch_List_24;
		bool branch_Bool_25;
		switch (get_data_tag(v19)) {
			case 1LL: { // Cons
				VAL v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				incref(v27);
				TUP* v28;
				bool v29 = mw_mirth_var_Var_isZ_physicalZAsk(v16, value_u64(v27), &v28);
				TUP* branch_ZPlusMirth_30;
				VAL branch_z_x1_31;
				VAL branch_ZPlusLister_32;
				if (v29) {
					VAL v33;
					mw_std_list_ZPlusLister_1_pushZBang(v27, v18, &v33);
					branch_ZPlusLister_32 = v33;
					branch_z_x1_31 = v17;
					branch_ZPlusMirth_30 = v28;
				} else {
					decref(v27);
					branch_ZPlusLister_32 = v18;
					branch_z_x1_31 = v17;
					branch_ZPlusMirth_30 = v28;
				}
				bool v34 = true;
				branch_Bool_25 = v34;
				branch_List_24 = v26;
				branch_ZPlusLister_23 = branch_ZPlusLister_32;
				branch_z_x1_22 = branch_z_x1_31;
				branch_ZPlusMirth_21 = branch_ZPlusMirth_30;
			} break;
			case 0LL: { // Nil
				VAL v35 = MKI64(0LL /* Nil */);
				bool v36 = false;
				branch_Bool_25 = v36;
				branch_List_24 = v35;
				branch_ZPlusLister_23 = v18;
				branch_z_x1_22 = v17;
				branch_ZPlusMirth_21 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		v12 = branch_ZPlusLister_23;
		v11 = branch_z_x1_22;
		v10 = branch_ZPlusMirth_21;
	}
	decref(v13);
	VAL v37 = mw_std_list_ZPlusLister_1_doneZBang(v12);
	*out_z_x1_5 = v11;
	*out_ZPlusMirth_4 = v10;
	return v37;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99BranchSplit_4) {
	bool v5 = value_bool(in_ZPlusC99BranchSplit_2->cells[4]);
	TUP* v6 = value_tup(in_ZPlusC99BranchSplit_2->cells[0], 6);
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23(in_ZPlusMirth_1, v5, v6, &v7, &v8);
	in_ZPlusC99BranchSplit_2->cells[0] = MKTUP(v8, 6);
	*out_ZPlusC99BranchSplit_4 = in_ZPlusC99BranchSplit_2;
	*out_ZPlusMirth_3 = v7;
}
static void mw_std_list_List_1_for_1_sp14 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	bool v6 = true;
	TUP* v7 = in_ZPlusMirth_1;
	TUP* v8 = in_ZPlusC99Branch_2;
	VAL v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		TUP* v12 = v7;
		TUP* v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		TUP* branch_ZPlusMirth_16;
		TUP* branch_ZPlusC99Branch_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				TUP* v22;
				TUP* v23;
				mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang(v12, v13, value_tup(v21, 4), &v22, &v23);
				bool v24 = true;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusC99Branch_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v25 = MKI64(0LL /* Nil */);
				bool v26 = false;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusC99Branch_17 = v13;
				branch_ZPlusMirth_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusC99Branch_17;
		v7 = branch_ZPlusMirth_16;
	}
	decref(v9);
	*out_ZPlusC99Branch_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23 (TUP* in_ZPlusMirth_1, bool in_Bool_2, TUP* in_ZPlusC99_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99_5) {
	bool v6 = value_bool(in_ZPlusC99_3->cells[3]);
	bool v7 = (in_Bool_2 && v6);
	in_ZPlusC99_3->cells[3] = MKBOOL(v7);
	TUP* v8;
	TUP* v9;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(in_ZPlusMirth_1, in_ZPlusC99_3, &v8, &v9);
	v9->cells[3] = MKBOOL(v6);
	*out_ZPlusC99_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99BranchSplit_4) {
	bool v5 = value_bool(in_ZPlusC99BranchSplit_2->cells[4]);
	TUP* v6 = value_tup(in_ZPlusC99BranchSplit_2->cells[0], 6);
	bool v7 = value_bool(v6->cells[3]);
	bool v8 = (v5 && v7);
	v6->cells[3] = MKBOOL(v8);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v6, &v9, &v10);
	STR* v11;
	STRLIT(v11, "default: {", 10);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_ZPlusC99_put(v9, v10, v11, &v12, &v13);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_line(v12, v13, &v14, &v15);
	v15->cells[3] = MKBOOL(v7);
	in_ZPlusC99BranchSplit_2->cells[0] = MKTUP(v15, 6);
	*out_ZPlusC99BranchSplit_4 = in_ZPlusC99BranchSplit_2;
	*out_ZPlusMirth_3 = v14;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99BranchSplit_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusC99BranchSplit_4) {
	bool v5 = value_bool(in_ZPlusC99BranchSplit_2->cells[4]);
	TUP* v6 = value_tup(in_ZPlusC99BranchSplit_2->cells[0], 6);
	bool v7 = value_bool(v6->cells[3]);
	bool v8 = (v5 && v7);
	v6->cells[3] = MKBOOL(v8);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_1, v6, &v9, &v10);
	STR* v11;
	STRLIT(v11, "} break;", 8);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_ZPlusC99_put(v9, v10, v11, &v12, &v13);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_line(v12, v13, &v14, &v15);
	v15->cells[3] = MKBOOL(v7);
	in_ZPlusC99BranchSplit_2->cells[0] = MKTUP(v15, 6);
	*out_ZPlusC99BranchSplit_4 = in_ZPlusC99BranchSplit_2;
	*out_ZPlusMirth_3 = v14;
}
static void mw_std_list_List_1_reverseZ_for_1_sp5 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = mw_std_list_List_1_reverse(in_List_3);
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusC99Branch_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusC99Branch_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				TUP* v23;
				TUP* v24;
				mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang(v13, v14, value_tup(v22, 4), &v23, &v24);
				bool v25 = true;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusC99Branch_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				bool v27 = false;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusC99Branch_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusC99Branch_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static VAL mw_std_list_List_1_map_1_sp3 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8;
	mw_std_list_List_1_buildZBang(v7, &v8);
	bool v9 = true;
	TUP* v10 = in_ZPlusMirth_1;
	TUP* v11 = in_ZPlusC99Branch_2;
	VAL v12 = v8;
	VAL v13 = in_List_3;
	bool v14 = v9;
	bool v15 = v9;
	while (v15) {
		TUP* v16 = v10;
		TUP* v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		bool v20 = v14;
		TUP* branch_ZPlusMirth_21;
		TUP* branch_ZPlusC99Branch_22;
		VAL branch_ZPlusLister_23;
		VAL branch_List_24;
		bool branch_Bool_25;
		switch (get_data_tag(v19)) {
			case 1LL: { // Cons
				VAL v26;
				VAL v27 = mtp_std_list_List_1_Cons(v19, &v26);
				TUP* v28;
				TUP* v29;
				TUP* v30 = mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang(v16, v17, value_tup(v27, 4), &v28, &v29);
				VAL v31;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v30, 4), v18, &v31);
				bool v32 = true;
				branch_Bool_25 = v32;
				branch_List_24 = v26;
				branch_ZPlusLister_23 = v31;
				branch_ZPlusC99Branch_22 = v29;
				branch_ZPlusMirth_21 = v28;
			} break;
			case 0LL: { // Nil
				VAL v33 = MKI64(0LL /* Nil */);
				bool v34 = false;
				branch_Bool_25 = v34;
				branch_List_24 = v33;
				branch_ZPlusLister_23 = v18;
				branch_ZPlusC99Branch_22 = v17;
				branch_ZPlusMirth_21 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_25;
		v14 = branch_Bool_25;
		v13 = branch_List_24;
		v12 = branch_ZPlusLister_23;
		v11 = branch_ZPlusC99Branch_22;
		v10 = branch_ZPlusMirth_21;
	}
	decref(v13);
	VAL v35 = mw_std_list_ZPlusLister_1_doneZBang(v12);
	*out_ZPlusC99Branch_5 = v11;
	*out_ZPlusMirth_4 = v10;
	return v35;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp2 (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_5, VAL *out_Maybe_6) {
	VAL branch_Type_7;
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			incref(v10);
			incref(in_Type_2);
			TUP* v11;
			bool v12 = mw_mirth_type_Type_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(v10), in_Type_2, &v11);
			bool v13 = !v12;
			VAL branch_Type_14;
			TUP* branch_ZPlusMirth_15;
			VAL branch_Maybe_16;
			if (v13) {
				VAL v17 = mtw_std_maybe_Maybe_1_Some(v10);
				branch_Maybe_16 = v17;
				branch_ZPlusMirth_15 = v11;
				branch_Type_14 = in_Type_2;
			} else {
				decref(v10);
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_16 = v18;
				branch_ZPlusMirth_15 = v11;
				branch_Type_14 = in_Type_2;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
			branch_Type_7 = branch_Type_14;
		} break;
		case 0LL: { // None
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Type_7 = in_Type_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_6 = branch_Maybe_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Type_7;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp3 (TUP* in_ZPlusMirth_1, VAL in_Resource_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_5, VAL *out_Maybe_6) {
	VAL branch_Resource_7;
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			incref(v10);
			incref(in_Resource_2);
			TUP* v11;
			bool v12 = mw_mirth_type_Resource_hasZ_varZAsk(in_ZPlusMirth_1, value_u64(v10), in_Resource_2, &v11);
			bool v13 = !v12;
			VAL branch_Resource_14;
			TUP* branch_ZPlusMirth_15;
			VAL branch_Maybe_16;
			if (v13) {
				VAL v17 = mtw_std_maybe_Maybe_1_Some(v10);
				branch_Maybe_16 = v17;
				branch_ZPlusMirth_15 = v11;
				branch_Resource_14 = in_Resource_2;
			} else {
				decref(v10);
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_16 = v18;
				branch_ZPlusMirth_15 = v11;
				branch_Resource_14 = in_Resource_2;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
			branch_Resource_7 = branch_Resource_14;
		} break;
		case 0LL: { // None
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Resource_7 = in_Resource_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_6 = branch_Maybe_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Resource_7;
}
static void mw_mirth_c99_C99ReprType_resourceZ_expressionZBang_1_sp5 (STR* in_Str_1, VAL in_C99ReprType_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, VAL in_C99ReprType_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7, TUP* *out_ZPlusC99Resource_8) {
	incref(in_C99ReprType_5);
	int64_t v9 = get_data_tag(in_C99ReprType_5);
	decref(in_C99ReprType_5);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	STR* branch_Str_14;
	VAL branch_C99ReprType_15;
	VAL branch_C99ReprType_16;
	bool branch_Bool_17;
	TUP* branch_ZPlusMirth_18;
	STR* branch_Str_19;
	TUP* branch_ZPlusC99Branch_20;
	if (v13) {
		TUP* v21 = value_tup(in_ZPlusC99Branch_4->cells[0], 6);
		TUP* v22;
		TUP* v23;
		STR* v24 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_3, v21, &v22, &v23);
		in_ZPlusC99Branch_4->cells[0] = MKTUP(v23, 6);
		branch_ZPlusC99Branch_20 = in_ZPlusC99Branch_4;
		branch_Str_19 = v24;
		branch_ZPlusMirth_18 = v22;
		branch_Bool_17 = v13;
		branch_C99ReprType_16 = in_C99ReprType_5;
		branch_C99ReprType_15 = in_C99ReprType_2;
		branch_Str_14 = in_Str_1;
	} else {
		STR* v25;
		STRLIT(v25, "0", 1);
		branch_ZPlusC99Branch_20 = in_ZPlusC99Branch_4;
		branch_Str_19 = v25;
		branch_ZPlusMirth_18 = in_ZPlusMirth_3;
		branch_Bool_17 = v13;
		branch_C99ReprType_16 = in_C99ReprType_5;
		branch_C99ReprType_15 = in_C99ReprType_2;
		branch_Str_14 = in_Str_1;
	}
	bool v26 = value_bool(branch_ZPlusC99Branch_20->cells[3]);
	bool v27 = (branch_Bool_17 && v26);
	TUP* v28 = value_tup(branch_ZPlusC99Branch_20->cells[0], 6);
	bool v29 = value_bool(v28->cells[3]);
	bool v30 = (v27 && v29);
	v28->cells[3] = MKBOOL(v30);
	TUP* v31;
	TUP* v32;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_18, v28, &v31, &v32);
	incref(branch_C99ReprType_16);
	STR* v33 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_16);
	TUP* v34;
	TUP* v35;
	mw_mirth_c99_ZPlusC99_put(v31, v32, v33, &v34, &v35);
	STR* v36;
	STRLIT(v36, " ", 1);
	TUP* v37;
	TUP* v38;
	mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
	incref(MKSTR(branch_Str_19));
	TUP* v39;
	TUP* v40;
	mw_mirth_c99_ZPlusC99_put(v37, v38, branch_Str_19, &v39, &v40);
	STR* v41;
	STRLIT(v41, " = ", 3);
	TUP* v42;
	TUP* v43;
	mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
	TUP* v44;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_16, branch_Str_19, &v44);
	TUP* v45;
	TUP* v46;
	mw_mirth_c99_C99ReprType_vZ_macro_1_sp5(branch_Str_14, v42, v43, branch_C99ReprType_15, &v45, &v46);
	STR* v47;
	STRLIT(v47, ";", 1);
	TUP* v48;
	TUP* v49;
	mw_mirth_c99_ZPlusC99_put(v45, v46, v47, &v48, &v49);
	TUP* v50;
	TUP* v51;
	mw_mirth_c99_ZPlusC99_line(v48, v49, &v50, &v51);
	v51->cells[3] = MKBOOL(v29);
	branch_ZPlusC99Branch_20->cells[0] = MKTUP(v51, 6);
	*out_ZPlusC99Resource_8 = v44;
	*out_ZPlusC99Branch_7 = branch_ZPlusC99Branch_20;
	*out_ZPlusMirth_6 = v50;
}
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp5 (STR* in_Str_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusC99_3, VAL in_C99ReprType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6) {
	STR* v7;
	STR* v8 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_4, &v7);
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99_put(in_ZPlusMirth_2, in_ZPlusC99_3, v8, &v9, &v10);
	TUP* v11;
	TUP* v12;
	mw_mirth_c99_ZPlusC99_put(v9, v10, in_Str_1, &v11, &v12);
	TUP* v13;
	TUP* v14;
	mw_mirth_c99_ZPlusC99_put(v11, v12, v7, &v13, &v14);
	*out_ZPlusC99_6 = v14;
	*out_ZPlusMirth_5 = v13;
}
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp9 (STR* in_Str_1, VAL in_C99ReprType_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, VAL in_C99ReprType_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7, TUP* *out_ZPlusC99Value_8) {
	incref(in_C99ReprType_5);
	int64_t v9 = get_data_tag(in_C99ReprType_5);
	decref(in_C99ReprType_5);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	STR* branch_Str_14;
	VAL branch_C99ReprType_15;
	VAL branch_C99ReprType_16;
	bool branch_Bool_17;
	TUP* branch_ZPlusMirth_18;
	STR* branch_Str_19;
	TUP* branch_ZPlusC99Branch_20;
	if (v13) {
		TUP* v21 = value_tup(in_ZPlusC99Branch_4->cells[0], 6);
		TUP* v22;
		TUP* v23;
		STR* v24 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_3, v21, &v22, &v23);
		in_ZPlusC99Branch_4->cells[0] = MKTUP(v23, 6);
		branch_ZPlusC99Branch_20 = in_ZPlusC99Branch_4;
		branch_Str_19 = v24;
		branch_ZPlusMirth_18 = v22;
		branch_Bool_17 = v13;
		branch_C99ReprType_16 = in_C99ReprType_5;
		branch_C99ReprType_15 = in_C99ReprType_2;
		branch_Str_14 = in_Str_1;
	} else {
		STR* v25;
		STRLIT(v25, "0", 1);
		branch_ZPlusC99Branch_20 = in_ZPlusC99Branch_4;
		branch_Str_19 = v25;
		branch_ZPlusMirth_18 = in_ZPlusMirth_3;
		branch_Bool_17 = v13;
		branch_C99ReprType_16 = in_C99ReprType_5;
		branch_C99ReprType_15 = in_C99ReprType_2;
		branch_Str_14 = in_Str_1;
	}
	bool v26 = value_bool(branch_ZPlusC99Branch_20->cells[3]);
	bool v27 = (branch_Bool_17 && v26);
	TUP* v28 = value_tup(branch_ZPlusC99Branch_20->cells[0], 6);
	bool v29 = value_bool(v28->cells[3]);
	bool v30 = (v27 && v29);
	v28->cells[3] = MKBOOL(v30);
	TUP* v31;
	TUP* v32;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_18, v28, &v31, &v32);
	incref(branch_C99ReprType_16);
	STR* v33 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_16);
	TUP* v34;
	TUP* v35;
	mw_mirth_c99_ZPlusC99_put(v31, v32, v33, &v34, &v35);
	STR* v36;
	STRLIT(v36, " ", 1);
	TUP* v37;
	TUP* v38;
	mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
	incref(MKSTR(branch_Str_19));
	TUP* v39;
	TUP* v40;
	mw_mirth_c99_ZPlusC99_put(v37, v38, branch_Str_19, &v39, &v40);
	STR* v41;
	STRLIT(v41, " = ", 3);
	TUP* v42;
	TUP* v43;
	mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
	TUP* v44;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_16, branch_Str_19, &v44);
	TUP* v45;
	TUP* v46;
	mw_mirth_c99_C99ReprType_vZ_macro_1_sp5(branch_Str_14, v42, v43, branch_C99ReprType_15, &v45, &v46);
	STR* v47;
	STRLIT(v47, ";", 1);
	TUP* v48;
	TUP* v49;
	mw_mirth_c99_ZPlusC99_put(v45, v46, v47, &v48, &v49);
	TUP* v50;
	TUP* v51;
	mw_mirth_c99_ZPlusC99_line(v48, v49, &v50, &v51);
	v51->cells[3] = MKBOOL(v29);
	branch_ZPlusC99Branch_20->cells[0] = MKTUP(v51, 6);
	*out_ZPlusC99Value_8 = v44;
	*out_ZPlusC99Branch_7 = branch_ZPlusC99Branch_20;
	*out_ZPlusMirth_6 = v50;
}
static VAL mw_std_list_List_1_List_1_sp7 (INT in_Nat_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	incref(MKINT(in_Nat_1));
	INT v5 = WRAP_I63(0LL);
	bool v6 = int_lt(v5, in_Nat_1);
	VAL v7 = v4;
	INT v8 = in_Nat_1;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		INT v11 = v8;
		VAL v12 = MKI64(1LL /* Ignore */);
		VAL v13 = mtw_mirth_type_StackTypePart_Cons(v12);
		VAL v14;
		mw_std_list_ZPlusLister_1_pushZBang(v13, v10, &v14);
		INT v15 = WRAP_I63(1LL);
		INT v16 = int_sub(v11, v15);
		incref(MKINT(v16));
		INT v17 = WRAP_I63(0LL);
		bool v18 = int_le(v17, v16);
		INT branch_Nat_19;
		if (v18) {
			branch_Nat_19 = v16;
		} else {
			decref(MKINT(v16));
			INT v20 = WRAP_I63(0LL);
			branch_Nat_19 = v20;
		}
		incref(MKINT(branch_Nat_19));
		INT v21 = WRAP_I63(0LL);
		bool v22 = int_lt(v21, branch_Nat_19);
		v9 = v22;
		v8 = branch_Nat_19;
		v7 = v14;
	}
	decref(MKINT(v8));
	VAL v23 = mw_std_list_ZPlusLister_1_doneZBang(v7);
	return v23;
}
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp22 (TUP* in_ZPlusC99Value_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusC99Branch_3, VAL in_C99ReprType_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99Branch_6, TUP* *out_ZPlusC99Value_7) {
	incref(in_C99ReprType_4);
	int64_t v8 = get_data_tag(in_C99ReprType_4);
	decref(in_C99ReprType_4);
	INT v9 = WRAP_I63(0LL);
	INT v10 = i64_to_int(v8);
	bool v11 = int_eq(v10, v9);
	bool v12 = !v11;
	TUP* branch_ZPlusC99Value_13;
	VAL branch_C99ReprType_14;
	bool branch_Bool_15;
	TUP* branch_ZPlusMirth_16;
	STR* branch_Str_17;
	TUP* branch_ZPlusC99Branch_18;
	if (v12) {
		TUP* v19 = value_tup(in_ZPlusC99Branch_3->cells[0], 6);
		TUP* v20;
		TUP* v21;
		STR* v22 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_2, v19, &v20, &v21);
		in_ZPlusC99Branch_3->cells[0] = MKTUP(v21, 6);
		branch_ZPlusC99Branch_18 = in_ZPlusC99Branch_3;
		branch_Str_17 = v22;
		branch_ZPlusMirth_16 = v20;
		branch_Bool_15 = v12;
		branch_C99ReprType_14 = in_C99ReprType_4;
		branch_ZPlusC99Value_13 = in_ZPlusC99Value_1;
	} else {
		STR* v23;
		STRLIT(v23, "0", 1);
		branch_ZPlusC99Branch_18 = in_ZPlusC99Branch_3;
		branch_Str_17 = v23;
		branch_ZPlusMirth_16 = in_ZPlusMirth_2;
		branch_Bool_15 = v12;
		branch_C99ReprType_14 = in_C99ReprType_4;
		branch_ZPlusC99Value_13 = in_ZPlusC99Value_1;
	}
	bool v24 = value_bool(branch_ZPlusC99Branch_18->cells[3]);
	bool v25 = (branch_Bool_15 && v24);
	TUP* v26 = value_tup(branch_ZPlusC99Branch_18->cells[0], 6);
	bool v27 = value_bool(v26->cells[3]);
	bool v28 = (v25 && v27);
	v26->cells[3] = MKBOOL(v28);
	TUP* v29;
	TUP* v30;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_16, v26, &v29, &v30);
	incref(branch_C99ReprType_14);
	STR* v31 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_14);
	TUP* v32;
	TUP* v33;
	mw_mirth_c99_ZPlusC99_put(v29, v30, v31, &v32, &v33);
	STR* v34;
	STRLIT(v34, " ", 1);
	TUP* v35;
	TUP* v36;
	mw_mirth_c99_ZPlusC99_put(v32, v33, v34, &v35, &v36);
	incref(MKSTR(branch_Str_17));
	TUP* v37;
	TUP* v38;
	mw_mirth_c99_ZPlusC99_put(v35, v36, branch_Str_17, &v37, &v38);
	STR* v39;
	STRLIT(v39, " = ", 3);
	TUP* v40;
	TUP* v41;
	mw_mirth_c99_ZPlusC99_put(v37, v38, v39, &v40, &v41);
	TUP* v42;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_14, branch_Str_17, &v42);
	STR* v43 = mw_mirth_c99_ZPlusC99Value_consume(branch_ZPlusC99Value_13);
	TUP* v44;
	TUP* v45;
	mw_mirth_c99_ZPlusC99_put(v40, v41, v43, &v44, &v45);
	STR* v46;
	STRLIT(v46, ";", 1);
	TUP* v47;
	TUP* v48;
	mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
	TUP* v49;
	TUP* v50;
	mw_mirth_c99_ZPlusC99_line(v47, v48, &v49, &v50);
	v50->cells[3] = MKBOOL(v27);
	branch_ZPlusC99Branch_18->cells[0] = MKTUP(v50, 6);
	*out_ZPlusC99Value_7 = v42;
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_18;
	*out_ZPlusMirth_5 = v49;
}
static bool mw_std_maybe_Maybe_1_unwrap_1_sp11 (VAL in_Maybe_1) {
	bool branch_Bool_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			branch_Bool_3 = value_bool(v4);
		} break;
		case 0LL: { // None
			bool v5 = false;
			branch_Bool_3 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_3;
}
static VAL mw_std_list_List_1_unions_sp1 (VAL in_List_1) {
	VAL v3 = mw_std_list_List_1_ZToNestZAsk(in_List_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6;
			VAL v7 = mw_std_list_Nest_1_uncons(value_tup(v5, 2), &v6);
			bool v8 = true;
			VAL v9 = v7;
			VAL v10 = v6;
			bool v11 = v8;
			bool v12 = v8;
			while (v12) {
				VAL v13 = v9;
				VAL v14 = v10;
				bool v15 = v11;
				VAL branch_List_16;
				VAL branch_List_17;
				bool branch_Bool_18;
				switch (get_data_tag(v14)) {
					case 1LL: { // Cons
						VAL v19;
						VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
						VAL v21 = mw_std_list_List_1_union_sp1(v13, v20);
						bool v22 = true;
						branch_Bool_18 = v22;
						branch_List_17 = v19;
						branch_List_16 = v21;
					} break;
					case 0LL: { // Nil
						VAL v23 = MKI64(0LL /* Nil */);
						bool v24 = false;
						branch_Bool_18 = v24;
						branch_List_17 = v23;
						branch_List_16 = v13;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v12 = branch_Bool_18;
				v11 = branch_Bool_18;
				v10 = branch_List_17;
				v9 = branch_List_16;
			}
			decref(v10);
			VAL v25 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_4 = v25;
		} break;
		case 0LL: { // None
			VAL v26 = MKI64(0LL /* None */);
			branch_Maybe_4 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v27 = mw_std_maybe_Maybe_1_unwrap_1_sp12(branch_Maybe_4);
	return v27;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp12 (VAL in_Maybe_1) {
	VAL branch_List_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			branch_List_3 = v4;
		} break;
		case 0LL: { // None
			VAL v5 = MKI64(0LL /* Nil */);
			branch_List_3 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_3;
}
static VAL mw_std_list_List_1_union_sp1 (VAL in_List_1, VAL in_List_2) {
	incref(in_List_1);
	VAL v4 = mw_std_list_List_1_difference_sp1(in_List_2, in_List_1);
	VAL v5 = mw_std_list_List_1_cat(in_List_1, v4);
	return v5;
}
static VAL mw_std_list_List_1_difference_sp1 (VAL in_List_1, VAL in_List_2) {
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5;
	mw_std_list_List_1_buildZBang(v4, &v5);
	bool v6 = true;
	VAL v7 = in_List_2;
	VAL v8 = v5;
	VAL v9 = in_List_1;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		VAL v12 = v7;
		VAL v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		VAL branch_List_16;
		VAL branch_ZPlusLister_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				incref(v21);
				incref(v12);
				VAL v22 = MKI64(0LL /* None */);
				bool v23 = true;
				VAL v24 = v21;
				VAL v25 = v22;
				VAL v26 = v12;
				bool v27 = v23;
				bool v28 = v23;
				while (v28) {
					VAL v29 = v24;
					VAL v30 = v25;
					VAL v31 = v26;
					bool v32 = v27;
					VAL v33;
					VAL v34 = mw_std_list_List_1_uncons(v31, &v33);
					uint64_t branch_Var_35;
					VAL branch_Maybe_36;
					VAL branch_List_37;
					bool branch_Bool_38;
					switch (get_data_tag(v34)) {
						case 1LL: { // Some
							VAL v39 = mtp_std_maybe_Maybe_1_Some(v34);
							incref(v39);
							incref(v29);
							uint64_t v40 = mw_mirth_var_Var_index(value_u64(v29));
							uint64_t v41 = mw_mirth_var_Var_index(value_u64(v39));
							bool v42 = (v40 == v41);
							uint64_t branch_Var_43;
							VAL branch_Maybe_44;
							if (v42) {
								VAL v45 = mtw_std_maybe_Maybe_1_Some(v39);
								branch_Maybe_44 = v45;
								branch_Var_43 = value_u64(v29);
							} else {
								decref(v39);
								VAL v46 = MKI64(0LL /* None */);
								branch_Maybe_44 = v46;
								branch_Var_43 = value_u64(v29);
							}
							uint64_t branch_Var_47;
							VAL branch_Maybe_48;
							VAL branch_List_49;
							switch (get_data_tag(branch_Maybe_44)) {
								case 0LL: { // None
									branch_List_49 = v33;
									branch_Maybe_48 = v30;
									branch_Var_47 = branch_Var_43;
								} break;
								default: {
									decref(v33);
									decref(v30);
									VAL v50 = MKI64(0LL /* Nil */);
									branch_List_49 = v50;
									branch_Maybe_48 = branch_Maybe_44;
									branch_Var_47 = branch_Var_43;
								} break;
							}
							bool v51 = true;
							branch_Bool_38 = v51;
							branch_List_37 = branch_List_49;
							branch_Maybe_36 = branch_Maybe_48;
							branch_Var_35 = branch_Var_47;
						} break;
						case 0LL: { // None
							bool v52 = false;
							branch_Bool_38 = v52;
							branch_List_37 = v33;
							branch_Maybe_36 = v30;
							branch_Var_35 = value_u64(v29);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v28 = branch_Bool_38;
					v27 = branch_Bool_38;
					v26 = branch_List_37;
					v25 = branch_Maybe_36;
					v24 = MKU64(branch_Var_35);
				}
				decref(v26);
				decref(v24);
				int64_t v53 = get_data_tag(v25);
				decref(v25);
				INT v54 = WRAP_I63(0LL);
				INT v55 = i64_to_int(v53);
				bool v56 = int_eq(v55, v54);
				bool v57 = !v56;
				bool v58 = !v57;
				VAL branch_List_59;
				VAL branch_ZPlusLister_60;
				if (v58) {
					VAL v61;
					mw_std_list_ZPlusLister_1_pushZBang(v21, v13, &v61);
					branch_ZPlusLister_60 = v61;
					branch_List_59 = v12;
				} else {
					decref(v21);
					branch_ZPlusLister_60 = v13;
					branch_List_59 = v12;
				}
				bool v62 = true;
				branch_Bool_19 = v62;
				branch_List_18 = v20;
				branch_ZPlusLister_17 = branch_ZPlusLister_60;
				branch_List_16 = branch_List_59;
			} break;
			case 0LL: { // Nil
				VAL v63 = MKI64(0LL /* Nil */);
				bool v64 = false;
				branch_Bool_19 = v64;
				branch_List_18 = v63;
				branch_ZPlusLister_17 = v13;
				branch_List_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusLister_17;
		v7 = branch_List_16;
	}
	decref(v9);
	VAL v65 = mw_std_list_ZPlusLister_1_doneZBang(v8);
	decref(v7);
	return v65;
}
static TUP* mw_mirth_c99_ZPlusC99_c99Z_line_1_sp91 (TUP* in_C99API_1, TUP* in_ZPlusMirth_2, TUP* in_ZPlusC99_3, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusC99_6) {
	TUP* v7;
	TUP* v8;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusMirth_2, in_ZPlusC99_3, &v7, &v8);
	incref(MKTUP(in_C99API_1, 8));
	TUP* v9;
	TUP* v10;
	mw_mirth_c99_ZPlusC99_smartZ_sigZ_put(v7, v8, in_C99API_1, &v9, &v10);
	STR* v11;
	STRLIT(v11, " {", 2);
	TUP* v12;
	TUP* v13;
	mw_mirth_c99_ZPlusC99_put(v9, v10, v11, &v12, &v13);
	TUP* v14;
	TUP* v15;
	mw_mirth_c99_ZPlusC99_line(v12, v13, &v14, &v15);
	*out_ZPlusC99_6 = v15;
	*out_ZPlusMirth_5 = v14;
	return in_C99API_1;
}
static void mw_std_list_List_1_reverseZ_for_1_sp7 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusC99Branch_2, VAL in_List_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusC99Branch_5) {
	VAL v6 = mw_std_list_List_1_reverse(in_List_3);
	bool v7 = true;
	TUP* v8 = in_ZPlusMirth_1;
	TUP* v9 = in_ZPlusC99Branch_2;
	VAL v10 = v6;
	bool v11 = v7;
	bool v12 = v7;
	while (v12) {
		TUP* v13 = v8;
		TUP* v14 = v9;
		VAL v15 = v10;
		bool v16 = v11;
		TUP* branch_ZPlusMirth_17;
		TUP* branch_ZPlusC99Branch_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				incref(v22);
				TUP* v23;
				TUP* v24;
				VAL v25 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(v13, v14, value_tup(v22, 4), &v23, &v24);
				TUP* branch_ZPlusMirth_26;
				TUP* branch_ZPlusC99Branch_27;
				switch (get_data_tag(v25)) {
					case 1LL: { // Some
						VAL v28 = mtp_std_maybe_Maybe_1_Some(v25);
						STR* v29 = value_str(VTUP(v22)->cells[3]);
						incref(MKSTR(v29));
						decref(v22);
						bool v30 = value_bool(v24->cells[3]);
						TUP* v31 = value_tup(v24->cells[0], 6);
						bool v32 = value_bool(v31->cells[3]);
						bool v33 = (v30 && v32);
						v31->cells[3] = MKBOOL(v33);
						TUP* v34;
						TUP* v35;
						mw_mirth_c99_ZPlusC99_indent(v23, v31, &v34, &v35);
						STR* v36;
						STRLIT(v36, "*", 1);
						TUP* v37;
						TUP* v38;
						mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
						TUP* v39;
						TUP* v40;
						mw_mirth_c99_ZPlusC99_put(v37, v38, v29, &v39, &v40);
						STR* v41;
						STRLIT(v41, " = ", 3);
						TUP* v42;
						TUP* v43;
						mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
						TUP* v44;
						TUP* v45;
						mw_mirth_c99_ZPlusC99_put(v42, v43, value_str(v28), &v44, &v45);
						STR* v46;
						STRLIT(v46, ";", 1);
						TUP* v47;
						TUP* v48;
						mw_mirth_c99_ZPlusC99_put(v44, v45, v46, &v47, &v48);
						TUP* v49;
						TUP* v50;
						mw_mirth_c99_ZPlusC99_line(v47, v48, &v49, &v50);
						v50->cells[3] = MKBOOL(v32);
						v24->cells[0] = MKTUP(v50, 6);
						branch_ZPlusC99Branch_27 = v24;
						branch_ZPlusMirth_26 = v49;
					} break;
					case 0LL: { // None
						decref(v22);
						branch_ZPlusC99Branch_27 = v24;
						branch_ZPlusMirth_26 = v23;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v51 = true;
				branch_Bool_20 = v51;
				branch_List_19 = v21;
				branch_ZPlusC99Branch_18 = branch_ZPlusC99Branch_27;
				branch_ZPlusMirth_17 = branch_ZPlusMirth_26;
			} break;
			case 0LL: { // Nil
				VAL v52 = MKI64(0LL /* Nil */);
				bool v53 = false;
				branch_Bool_20 = v53;
				branch_List_19 = v52;
				branch_ZPlusC99Branch_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusC99Branch_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusC99Branch_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static VAL mw_std_list_List_1_filter_1_sp4 (VAL in_List_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	bool v5 = true;
	VAL v6 = v4;
	VAL v7 = in_List_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		VAL v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		VAL branch_ZPlusLister_13;
		VAL branch_List_14;
		bool branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				incref(v17);
				bool v18 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(value_tup(v17, 4));
				VAL branch_ZPlusLister_19;
				if (v18) {
					VAL v20;
					mw_std_list_ZPlusLister_1_pushZBang(v17, v10, &v20);
					branch_ZPlusLister_19 = v20;
				} else {
					decref(v17);
					branch_ZPlusLister_19 = v10;
				}
				bool v21 = true;
				branch_Bool_15 = v21;
				branch_List_14 = v16;
				branch_ZPlusLister_13 = branch_ZPlusLister_19;
			} break;
			case 0LL: { // Nil
				VAL v22 = MKI64(0LL /* Nil */);
				bool v23 = false;
				branch_Bool_15 = v23;
				branch_List_14 = v22;
				branch_ZPlusLister_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusLister_13;
	}
	decref(v7);
	VAL v24 = mw_std_list_ZPlusLister_1_doneZBang(v6);
	return v24;
}
static void mw_mirth_c99_pushZ_labelZ_expressionZBang_1_sp3 (STR* in_Str_1, VAL in_C99ReprType_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, VAL in_C99ReprType_5, uint64_t in_Label_6, TUP* *out_ZPlusMirth_7, TUP* *out_ZPlusC99Branch_8) {
	TUP* v9;
	TUP* v10;
	TUP* v11;
	mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp38(in_Str_1, in_C99ReprType_2, in_ZPlusMirth_3, in_ZPlusC99Branch_4, in_C99ReprType_5, &v9, &v10, &v11);
	TUP* v12;
	bool v13 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v9, in_Label_6, &v12);
	TUP* branch_ZPlusMirth_14;
	TUP* branch_ZPlusC99Branch_15;
	if (v13) {
		TUP* v16;
		mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v11, &v16);
		TUP* v17;
		TUP* v18;
		mw_mirth_c99_pushZ_resourceZ_labelZBang(v12, v10, in_Label_6, v16, &v17, &v18);
		branch_ZPlusC99Branch_15 = v18;
		branch_ZPlusMirth_14 = v17;
	} else {
		TUP* v19;
		TUP* v20;
		mw_mirth_c99_pushZ_valueZ_labelZBang(v12, v10, in_Label_6, v11, &v19, &v20);
		branch_ZPlusC99Branch_15 = v20;
		branch_ZPlusMirth_14 = v19;
	}
	*out_ZPlusC99Branch_8 = branch_ZPlusC99Branch_15;
	*out_ZPlusMirth_7 = branch_ZPlusMirth_14;
}
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp38 (STR* in_Str_1, VAL in_C99ReprType_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusC99Branch_4, VAL in_C99ReprType_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusC99Branch_7, TUP* *out_ZPlusC99Value_8) {
	incref(in_C99ReprType_5);
	int64_t v9 = get_data_tag(in_C99ReprType_5);
	decref(in_C99ReprType_5);
	INT v10 = WRAP_I63(0LL);
	INT v11 = i64_to_int(v9);
	bool v12 = int_eq(v11, v10);
	bool v13 = !v12;
	STR* branch_Str_14;
	VAL branch_C99ReprType_15;
	VAL branch_C99ReprType_16;
	bool branch_Bool_17;
	TUP* branch_ZPlusMirth_18;
	STR* branch_Str_19;
	TUP* branch_ZPlusC99Branch_20;
	if (v13) {
		TUP* v21 = value_tup(in_ZPlusC99Branch_4->cells[0], 6);
		TUP* v22;
		TUP* v23;
		STR* v24 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(in_ZPlusMirth_3, v21, &v22, &v23);
		in_ZPlusC99Branch_4->cells[0] = MKTUP(v23, 6);
		branch_ZPlusC99Branch_20 = in_ZPlusC99Branch_4;
		branch_Str_19 = v24;
		branch_ZPlusMirth_18 = v22;
		branch_Bool_17 = v13;
		branch_C99ReprType_16 = in_C99ReprType_5;
		branch_C99ReprType_15 = in_C99ReprType_2;
		branch_Str_14 = in_Str_1;
	} else {
		STR* v25;
		STRLIT(v25, "0", 1);
		branch_ZPlusC99Branch_20 = in_ZPlusC99Branch_4;
		branch_Str_19 = v25;
		branch_ZPlusMirth_18 = in_ZPlusMirth_3;
		branch_Bool_17 = v13;
		branch_C99ReprType_16 = in_C99ReprType_5;
		branch_C99ReprType_15 = in_C99ReprType_2;
		branch_Str_14 = in_Str_1;
	}
	bool v26 = value_bool(branch_ZPlusC99Branch_20->cells[3]);
	bool v27 = (branch_Bool_17 && v26);
	TUP* v28 = value_tup(branch_ZPlusC99Branch_20->cells[0], 6);
	bool v29 = value_bool(v28->cells[3]);
	bool v30 = (v27 && v29);
	v28->cells[3] = MKBOOL(v30);
	TUP* v31;
	TUP* v32;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusMirth_18, v28, &v31, &v32);
	incref(branch_C99ReprType_16);
	STR* v33 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_16);
	TUP* v34;
	TUP* v35;
	mw_mirth_c99_ZPlusC99_put(v31, v32, v33, &v34, &v35);
	STR* v36;
	STRLIT(v36, " ", 1);
	TUP* v37;
	TUP* v38;
	mw_mirth_c99_ZPlusC99_put(v34, v35, v36, &v37, &v38);
	incref(MKSTR(branch_Str_19));
	TUP* v39;
	TUP* v40;
	mw_mirth_c99_ZPlusC99_put(v37, v38, branch_Str_19, &v39, &v40);
	STR* v41;
	STRLIT(v41, " = ", 3);
	TUP* v42;
	TUP* v43;
	mw_mirth_c99_ZPlusC99_put(v39, v40, v41, &v42, &v43);
	TUP* v44;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_16, branch_Str_19, &v44);
	STR* v45;
	STRLIT(v45, "(", 1);
	TUP* v46;
	TUP* v47;
	mw_mirth_c99_ZPlusC99_put(v42, v43, v45, &v46, &v47);
	STR* v48 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_15);
	TUP* v49;
	TUP* v50;
	mw_mirth_c99_ZPlusC99_put(v46, v47, v48, &v49, &v50);
	STR* v51;
	STRLIT(v51, ")(", 2);
	TUP* v52;
	TUP* v53;
	mw_mirth_c99_ZPlusC99_put(v49, v50, v51, &v52, &v53);
	TUP* v54;
	TUP* v55;
	mw_mirth_c99_ZPlusC99_put(v52, v53, branch_Str_14, &v54, &v55);
	STR* v56;
	STRLIT(v56, ")", 1);
	TUP* v57;
	TUP* v58;
	mw_mirth_c99_ZPlusC99_put(v54, v55, v56, &v57, &v58);
	STR* v59;
	STRLIT(v59, ";", 1);
	TUP* v60;
	TUP* v61;
	mw_mirth_c99_ZPlusC99_put(v57, v58, v59, &v60, &v61);
	TUP* v62;
	TUP* v63;
	mw_mirth_c99_ZPlusC99_line(v60, v61, &v62, &v63);
	v63->cells[3] = MKBOOL(v29);
	branch_ZPlusC99Branch_20->cells[0] = MKTUP(v63, 6);
	*out_ZPlusC99Value_8 = v44;
	*out_ZPlusC99Branch_7 = branch_ZPlusC99Branch_20;
	*out_ZPlusMirth_6 = v62;
}
static void mw_std_maybe_Maybe_1_for_1_sp9 (VAL in_ZPlusLister_1, VAL in_Maybe_2, VAL *out_ZPlusLister_3) {
	VAL branch_ZPlusLister_4;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v6;
			mw_std_list_ZPlusLister_1_pushZBang(v5, in_ZPlusLister_1, &v6);
			branch_ZPlusLister_4 = v6;
		} break;
		case 0LL: { // None
			branch_ZPlusLister_4 = in_ZPlusLister_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLister_3 = branch_ZPlusLister_4;
}
static uint8_t mw_std_prelude_unsafe_1_sp17 (INT in_Sizze_1, void* in_Ptr_2) {
	int64_t v4 = 0LL /* +Unsafe */;
	int64_t v5 = int_to_i64(in_Sizze_1);
	void* v6 = (void*)(v5 + (char*)in_Ptr_2);
	uint8_t v7 = *(uint8_t*)v6;
	return v7;
}
static void mw_std_maybe_Maybe_1_if_2_sp6 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusNeeds_2, VAL in_List_3, VAL in_Maybe_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusNeeds_6) {
	int64_t v7 = get_data_tag(in_Maybe_4);
	decref(in_Maybe_4);
	INT v8 = WRAP_I63(0LL);
	INT v9 = i64_to_int(v7);
	bool v10 = int_eq(v9, v8);
	bool v11 = !v10;
	TUP* branch_ZPlusMirth_12;
	TUP* branch_ZPlusNeeds_13;
	if (v11) {
		TUP* v14;
		TUP* v15;
		mw_mirth_need_ZPlusNeeds_runZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v14, &v15);
		branch_ZPlusNeeds_13 = v15;
		branch_ZPlusMirth_12 = v14;
	} else {
		TUP* v16;
		TUP* v17;
		mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_ZPlusMirth_1, in_ZPlusNeeds_2, in_List_3, &v16, &v17);
		branch_ZPlusNeeds_13 = v17;
		branch_ZPlusMirth_12 = v16;
	}
	*out_ZPlusNeeds_6 = branch_ZPlusNeeds_13;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_12;
}
static void mw_std_list_List_1_for_1_sp49 (VAL in_ZPlusLister_1, VAL in_List_2, VAL *out_ZPlusLister_3) {
	bool v4 = true;
	VAL v5 = in_ZPlusLister_1;
	VAL v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		VAL v9 = v5;
		VAL v10 = v6;
		bool v11 = v7;
		VAL branch_ZPlusLister_12;
		VAL branch_List_13;
		bool branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17;
				mw_std_list_ZPlusLister_1_pushZBang(v16, v9, &v17);
				bool v18 = true;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_ZPlusLister_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				bool v20 = false;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_ZPlusLister_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_ZPlusLister_12;
	}
	decref(v6);
	*out_ZPlusLister_3 = v5;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp6 (TUP* in_ZPlusMirth_1, VAL in_Type_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_5, VAL *out_Maybe_6) {
	VAL branch_Type_7;
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			incref(v10);
			incref(in_Type_2);
			TUP* v11;
			bool v12 = mw_mirth_type_Type_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(v10), in_Type_2, &v11);
			bool v13 = !v12;
			VAL branch_Type_14;
			TUP* branch_ZPlusMirth_15;
			VAL branch_Maybe_16;
			if (v13) {
				VAL v17 = mtw_std_maybe_Maybe_1_Some(v10);
				branch_Maybe_16 = v17;
				branch_ZPlusMirth_15 = v11;
				branch_Type_14 = in_Type_2;
			} else {
				decref(v10);
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_16 = v18;
				branch_ZPlusMirth_15 = v11;
				branch_Type_14 = in_Type_2;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
			branch_Type_7 = branch_Type_14;
		} break;
		case 0LL: { // None
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Type_7 = in_Type_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_6 = branch_Maybe_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Type_7;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp7 (TUP* in_ZPlusMirth_1, VAL in_Resource_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_5, VAL *out_Maybe_6) {
	VAL branch_Resource_7;
	TUP* branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			incref(v10);
			incref(in_Resource_2);
			TUP* v11;
			bool v12 = mw_mirth_type_Resource_hasZ_metaZAsk(in_ZPlusMirth_1, value_u64(v10), in_Resource_2, &v11);
			bool v13 = !v12;
			VAL branch_Resource_14;
			TUP* branch_ZPlusMirth_15;
			VAL branch_Maybe_16;
			if (v13) {
				VAL v17 = mtw_std_maybe_Maybe_1_Some(v10);
				branch_Maybe_16 = v17;
				branch_ZPlusMirth_15 = v11;
				branch_Resource_14 = in_Resource_2;
			} else {
				decref(v10);
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_16 = v18;
				branch_ZPlusMirth_15 = v11;
				branch_Resource_14 = in_Resource_2;
			}
			branch_Maybe_9 = branch_Maybe_16;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_15;
			branch_Resource_7 = branch_Resource_14;
		} break;
		case 0LL: { // None
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
			branch_Resource_7 = in_Resource_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_6 = branch_Maybe_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Resource_7;
}
static VAL mw_std_maybe_Maybe_1_ifZAsk_2_sp49 (VAL in_Maybe_1) {
	VAL branch_StackType_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = value_tup(v4, 2)->cells[0];
			VAL v6 = value_tup(v4, 2)->cells[1];
			tup_decref_outer(value_tup(v4, 2),2);
			decref(v6);
			branch_StackType_3 = v5;
		} break;
		case 0LL: { // None
			VAL v7 = MKI64(0LL /* Error */);
			branch_StackType_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_StackType_3;
}
static void mw_std_maybe_Maybe_1_ifZAsk_2_sp50 (TUP* in_ZPlusMirth_1, STR* in_Str_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4) {
	TUP* branch_ZPlusMirth_5;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			TUP* v7;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusMirth_1, value_u64(v6), in_Str_2, &v7);
			branch_ZPlusMirth_5 = v7;
		} break;
		case 0LL: { // None
			TUP* v8;
			mw_mirth_mirth_ZPlusMirth_errorZBang(in_ZPlusMirth_1, in_Str_2, &v8);
			branch_ZPlusMirth_5 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_5;
}
static VAL mw_std_map_Map_2_lookup_sp2 (uint64_t in_Var_1, VAL in_Map_2) {
	VAL v4 = MKI64(0LL /* None */);
	bool v5 = true;
	uint64_t v6 = in_Var_1;
	VAL v7 = v4;
	VAL v8 = in_Map_2;
	bool v9 = v5;
	bool v10 = v5;
	while (v10) {
		uint64_t v11 = v6;
		VAL v12 = v7;
		VAL v13 = v8;
		bool v14 = v9;
		VAL v15;
		VAL v16 = mw_std_list_List_1_uncons(v13, &v15);
		uint64_t branch_Var_17;
		VAL branch_Maybe_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v16)) {
			case 1LL: { // Some
				VAL v21 = mtp_std_maybe_Maybe_1_Some(v16);
				incref(v21);
				VAL v22 = VTUP(v21)->cells[0];
				incref(v22);
				decref(v21);
				uint64_t v23 = mw_mirth_var_Var_index(v11);
				uint64_t v24 = mw_mirth_var_Var_index(value_u64(v22));
				bool v25 = (v23 == v24);
				uint64_t branch_Var_26;
				VAL branch_Maybe_27;
				if (v25) {
					VAL v28 = mtw_std_maybe_Maybe_1_Some(v21);
					branch_Maybe_27 = v28;
					branch_Var_26 = v11;
				} else {
					decref(v21);
					VAL v29 = MKI64(0LL /* None */);
					branch_Maybe_27 = v29;
					branch_Var_26 = v11;
				}
				uint64_t branch_Var_30;
				VAL branch_Maybe_31;
				VAL branch_List_32;
				switch (get_data_tag(branch_Maybe_27)) {
					case 0LL: { // None
						branch_List_32 = v15;
						branch_Maybe_31 = v12;
						branch_Var_30 = branch_Var_26;
					} break;
					default: {
						decref(v15);
						decref(v12);
						VAL v33 = MKI64(0LL /* Nil */);
						branch_List_32 = v33;
						branch_Maybe_31 = branch_Maybe_27;
						branch_Var_30 = branch_Var_26;
					} break;
				}
				bool v34 = true;
				branch_Bool_20 = v34;
				branch_List_19 = branch_List_32;
				branch_Maybe_18 = branch_Maybe_31;
				branch_Var_17 = branch_Var_30;
			} break;
			case 0LL: { // None
				bool v35 = false;
				branch_Bool_20 = v35;
				branch_List_19 = v15;
				branch_Maybe_18 = v12;
				branch_Var_17 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_20;
		v9 = branch_Bool_20;
		v8 = branch_List_19;
		v7 = branch_Maybe_18;
		v6 = branch_Var_17;
	}
	decref(v8);
	VAL v36 = mw_std_maybe_Maybe_1_map_1_sp9(v7);
	return v36;
}
static VAL mw_std_maybe_Maybe_1_map_1_sp9 (VAL in_Maybe_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = VTUP(v4)->cells[1];
			incref(v5);
			decref(v4);
			VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_3 = v6;
		} break;
		case 0LL: { // None
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static TUP* mw_mirth_elab_abZ_buildZ_homZBang_1_sp4 (TUP* in_ZPlusMirth_1, uint64_t in_Block_2, TUP* in_SPKey_3, uint64_t in_Word_4, VAL in_Map_5, VAL in_Ctx_6, TUP* in_ArrowType_7, uint64_t in_Token_8, VAL in_Home_9, TUP* *out_SPKey_10, uint64_t *out_Word_11, VAL *out_Map_12, TUP* *out_ZPlusMirth_13) {
	VAL v15;
	VAL v16;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_7, &v15, &v16);
	incref(v15);
	VAL v17 = MKI64(0LL /* Nil */);
	TUP* v18 = mtw_mirth_arrow_Arrow_Arrow(in_Home_9, in_Token_8, in_Token_8, in_Ctx_6, v15, v15, v17);
	TUP* v19;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(in_SPKey_3, in_Word_4, in_Map_5, v18, &v19);
	TUP* v20;
	TUP* v21;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, v19, in_Block_2, &v20, &v21);
	TUP* v22;
	uint64_t v23;
	VAL v24;
	TUP* v25;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSynth(v21, &v22, &v23, &v24, &v25);
	TUP* v26;
	TUP* v27;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v20, v25, v16, &v26, &v27);
	*out_ZPlusMirth_13 = v26;
	*out_Map_12 = v24;
	*out_Word_11 = v23;
	*out_SPKey_10 = v22;
	return v27;
}
static VAL mw_std_list_List_1_reverseZ_for_1_sp10 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, VAL in_Ctx_3, VAL in_StackType_4, VAL in_List_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusAB_7, VAL *out_StackType_9) {
	VAL v10 = mw_std_list_List_1_reverse(in_List_5);
	bool v11 = true;
	TUP* v12 = in_ZPlusMirth_1;
	TUP* v13 = in_ZPlusAB_2;
	VAL v14 = in_Ctx_3;
	VAL v15 = in_StackType_4;
	VAL v16 = v10;
	bool v17 = v11;
	bool v18 = v11;
	while (v18) {
		TUP* v19 = v12;
		TUP* v20 = v13;
		VAL v21 = v14;
		VAL v22 = v15;
		VAL v23 = v16;
		bool v24 = v17;
		VAL branch_Ctx_25;
		VAL branch_StackType_26;
		TUP* branch_ZPlusMirth_27;
		TUP* branch_ZPlusAB_28;
		VAL branch_List_29;
		bool branch_Bool_30;
		switch (get_data_tag(v23)) {
			case 1LL: { // Cons
				VAL v31;
				VAL v32 = mtp_std_list_List_1_Cons(v23, &v31);
				incref(v32);
				VAL v33 = mw_mirth_var_Ctx_new(v21, value_u64(v32));
				TUP* v34;
				uint64_t v35 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v20, &v34);
				TUP* v36;
				VAL v37;
				uint64_t v38;
				VAL v39 = mw_mirth_elab_elabZ_expandZ_tensorZBang(v19, v22, v35, &v36, &v37, &v38);
				TUP* v40;
				VAL v41 = mw_mirth_var_Var_type(v36, value_u64(v32), &v40);
				TUP* v42;
				uint64_t v43;
				VAL v44 = mw_mirth_elab_elabZ_typeZ_unifyZBang(v40, v37, v41, v38, &v42, &v43);
				decref(v44);
				bool v45 = true;
				branch_Bool_30 = v45;
				branch_List_29 = v31;
				branch_ZPlusAB_28 = v34;
				branch_ZPlusMirth_27 = v42;
				branch_StackType_26 = v39;
				branch_Ctx_25 = v33;
			} break;
			case 0LL: { // Nil
				VAL v46 = MKI64(0LL /* Nil */);
				bool v47 = false;
				branch_Bool_30 = v47;
				branch_List_29 = v46;
				branch_ZPlusAB_28 = v20;
				branch_ZPlusMirth_27 = v19;
				branch_StackType_26 = v22;
				branch_Ctx_25 = v21;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_30;
		v17 = branch_Bool_30;
		v16 = branch_List_29;
		v15 = branch_StackType_26;
		v14 = branch_Ctx_25;
		v13 = branch_ZPlusAB_28;
		v12 = branch_ZPlusMirth_27;
	}
	decref(v16);
	*out_StackType_9 = v15;
	*out_ZPlusAB_7 = v13;
	*out_ZPlusMirth_6 = v12;
	return v14;
}
static bool mw_std_maybe_Maybe_1_ifZAsk_2_sp58 (VAL in_ZPlusLister_1, VAL in_Maybe_2, VAL *out_ZPlusLister_3) {
	VAL branch_ZPlusLister_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v8;
			mw_std_list_ZPlusLister_1_pushZBang(v7, in_ZPlusLister_1, &v8);
			bool v9 = true;
			branch_Bool_6 = v9;
			branch_ZPlusLister_5 = v8;
		} break;
		case 0LL: { // None
			bool v10 = false;
			branch_Bool_6 = v10;
			branch_ZPlusLister_5 = in_ZPlusLister_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLister_3 = branch_ZPlusLister_5;
	return branch_Bool_6;
}
static VAL mw_std_maybe_Maybe_1_bind_1_sp6 (VAL in_Maybe_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = mw_mirth_mirth_Prop_1_readyZAsk(value_tup(v4, 2));
			branch_Maybe_3 = v5;
		} break;
		case 0LL: { // None
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static bool mw_std_list_List_1_ZEqual_sp1 (TUP* in_ZPlusMirth_1, VAL in_List_2, VAL in_List_3, TUP* *out_ZPlusMirth_4) {
	bool v6 = true;
	VAL v7;
	VAL v8 = mw_std_list_List_1_uncons(in_List_2, &v7);
	VAL v9;
	VAL v10 = mw_std_list_List_1_uncons(in_List_3, &v9);
	TUP* branch_ZPlusMirth_11;
	bool branch_Bool_12;
	switch (get_data_tag(v10)) {
		case 0LL: { // None
			int64_t v13 = get_data_tag(v8);
			decref(v8);
			INT v14 = WRAP_I63(0LL);
			INT v15 = i64_to_int(v13);
			bool v16 = int_eq(v15, v14);
			branch_Bool_12 = v16;
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v17 = mtp_std_maybe_Maybe_1_Some(v10);
			TUP* branch_ZPlusMirth_18;
			bool branch_Bool_19;
			switch (get_data_tag(v8)) {
				case 1LL: { // Some
					VAL v20 = mtp_std_maybe_Maybe_1_Some(v8);
					TUP* v21;
					bool v22 = mw_mirth_arrow_Arg_similar(in_ZPlusMirth_1, value_u64(v20), value_u64(v17), &v21);
					branch_Bool_19 = v22;
					branch_ZPlusMirth_18 = v21;
				} break;
				case 0LL: { // None
					decref(v17);
					bool v23 = false;
					branch_Bool_19 = v23;
					branch_ZPlusMirth_18 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_12 = branch_Bool_19;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v24 = (branch_Bool_12 && v6);
	incref(v7);
	bool v25 = mw_std_list_List_1_emptyZAsk(v7);
	incref(v9);
	bool v26 = mw_std_list_List_1_emptyZAsk(v9);
	bool v27 = (v25 && v26);
	bool v28 = !v27;
	bool v29 = (v28 && v24);
	TUP* v30 = branch_ZPlusMirth_11;
	VAL v31 = v7;
	VAL v32 = v9;
	bool v33 = v24;
	bool v34 = v29;
	while (v34) {
		TUP* v35 = v30;
		VAL v36 = v31;
		VAL v37 = v32;
		bool v38 = v33;
		VAL v39;
		VAL v40 = mw_std_list_List_1_uncons(v36, &v39);
		VAL v41;
		VAL v42 = mw_std_list_List_1_uncons(v37, &v41);
		TUP* branch_ZPlusMirth_43;
		bool branch_Bool_44;
		switch (get_data_tag(v42)) {
			case 0LL: { // None
				int64_t v45 = get_data_tag(v40);
				decref(v40);
				INT v46 = WRAP_I63(0LL);
				INT v47 = i64_to_int(v45);
				bool v48 = int_eq(v47, v46);
				branch_Bool_44 = v48;
				branch_ZPlusMirth_43 = v35;
			} break;
			case 1LL: { // Some
				VAL v49 = mtp_std_maybe_Maybe_1_Some(v42);
				TUP* branch_ZPlusMirth_50;
				bool branch_Bool_51;
				switch (get_data_tag(v40)) {
					case 1LL: { // Some
						VAL v52 = mtp_std_maybe_Maybe_1_Some(v40);
						TUP* v53;
						bool v54 = mw_mirth_arrow_Arg_similar(v35, value_u64(v52), value_u64(v49), &v53);
						branch_Bool_51 = v54;
						branch_ZPlusMirth_50 = v53;
					} break;
					case 0LL: { // None
						decref(v49);
						bool v55 = false;
						branch_Bool_51 = v55;
						branch_ZPlusMirth_50 = v35;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Bool_44 = branch_Bool_51;
				branch_ZPlusMirth_43 = branch_ZPlusMirth_50;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		bool v56 = (branch_Bool_44 && v38);
		incref(v39);
		bool v57 = mw_std_list_List_1_emptyZAsk(v39);
		incref(v41);
		bool v58 = mw_std_list_List_1_emptyZAsk(v41);
		bool v59 = (v57 && v58);
		bool v60 = !v59;
		bool v61 = (v60 && v56);
		v34 = v61;
		v33 = v56;
		v32 = v41;
		v31 = v39;
		v30 = branch_ZPlusMirth_43;
	}
	decref(v32);
	decref(v31);
	*out_ZPlusMirth_4 = v30;
	return v33;
}
static void mw_std_list_List_1_for_1_sp64 (VAL in_ZPlusSPCheck_1, VAL in_List_2, VAL *out_ZPlusSPCheck_3) {
	bool v4 = true;
	VAL v5 = in_ZPlusSPCheck_1;
	VAL v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		VAL v9 = v5;
		VAL v10 = v6;
		bool v11 = v7;
		VAL branch_ZPlusSPCheck_12;
		VAL branch_List_13;
		bool branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17;
				mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang(v9, value_u64(v16), &v17);
				bool v18 = true;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_ZPlusSPCheck_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				bool v20 = false;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_ZPlusSPCheck_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_ZPlusSPCheck_12;
	}
	decref(v6);
	*out_ZPlusSPCheck_3 = v5;
}
static uint64_t mw_std_maybe_Maybe_1_unwrap_1_sp18 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, VAL *out_z_x1_6) {
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			branch_z_x1_9 = v10;
			branch_Token_8 = in_Token_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "unknown declaration", 19);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_z_x1_6 = branch_z_x1_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static STR* mw_std_maybe_Maybe_1_map_1_sp10 (STR* in_Str_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	STR* branch_Str_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			int64_t v8 = 0LL /* +Unsafe */;
			incref(v7);
			incref(MKSTR(in_Str_1));
			INT v9 = WRAP_I63(1LL);
			INT v10 = int_add(value_int(v7), v9);
			STR* v11 = mw_std_prim_Str_dropZ_slice(v10, in_Str_1);
			STR* v12 = mw_std_prim_Str_takeZ_slice(value_int(v7), in_Str_1);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
			branch_Maybe_6 = v13;
			branch_Str_5 = v12;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_6 = v14;
			branch_Str_5 = in_Str_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Str_5;
}
static VAL mw_std_maybe_Maybe_1_map_1_sp11 (VAL in_Maybe_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = mtw_std_result_Result_2_Ok(v4);
			VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_3 = v6;
		} break;
		case 0LL: { // None
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static STR* mw_std_prelude_unsafe_1_sp21 (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	int64_t v4 = 0LL /* +Unsafe */;
	STR* v5;
	STR* v6 = mw_std_str_ZPlusStr_dropZ_firstZ_byte(in_ZPlusStr_1, &v5);
	*out_ZPlusStr_2 = v5;
	return v6;
}
static STR* mw_std_prelude_unsafe_1_sp22 (STR* in_ZPlusStr_1, STR* *out_ZPlusStr_2) {
	int64_t v4 = 0LL /* +Unsafe */;
	STR* v5;
	STR* v6 = mw_std_str_ZPlusStr_dropZ_lastZ_byte(in_ZPlusStr_1, &v5);
	*out_ZPlusStr_2 = v5;
	return v6;
}
static STR* mw_std_prelude_unsafe_1_sp24 (STR* in_ZPlusStr_1, INT in_Offset_2, INT in_Offset_3, STR* *out_ZPlusStr_4) {
	int64_t v6 = 0LL /* +Unsafe */;
	STR* v7;
	STR* v8 = mw_std_str_ZPlusStr_offsetZ_slice(in_ZPlusStr_1, in_Offset_2, in_Offset_3, &v7);
	*out_ZPlusStr_4 = v7;
	return v8;
}
static void mw_mirth_elab_ZPlusAB_abZ_ldipZBang_1_sp1 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, uint64_t in_Token_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, TUP* *out_ZPlusAB_6) {
	TUP* branch_ZPlusMirth_7;
	TUP* branch_ZPlusAB_8;
	switch (get_data_tag(in_List_4)) {
		case 0LL: { // Nil
			TUP* v9;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(in_ZPlusAB_2, in_Token_3, &v9);
			TUP* v10;
			TUP* v11;
			mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(in_ZPlusMirth_1, v9, &v10, &v11);
			branch_ZPlusAB_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		case 1LL: { // Cons
			VAL v12;
			VAL v13 = mtp_std_list_List_1_Cons(in_List_4, &v12);
			incref(v13);
			TUP* v14;
			bool v15 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_ZPlusMirth_1, value_u64(v13), &v14);
			TUP* branch_ZPlusMirth_16;
			TUP* branch_ZPlusAB_17;
			if (v15) {
				incref(v13);
				TUP* v18;
				TUP* v19;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_popZ_rZBang(v14, in_ZPlusAB_2, value_u64(v13), &v18, &v19);
				TUP* v20;
				VAL v21 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v19, &v20);
				TUP* v22;
				VAL v23 = mw_mirth_type_StackType_forceZ_withZAskZBang(v18, v21, &v22);
				VAL v24 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v23);
				TUP* v25;
				VAL v26 = mw_mirth_type_StackType_FreshZBang(v22, &v25);
				TUP* v27 = mw_mirth_type_TZ_ZTo(v24, v26);
				TUP* v28;
				TUP* v29;
				uint64_t v30 = mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp4(in_Token_3, v12, v25, v27, v20, &v28, &v29);
				VAL v31 = MKI64(0LL /* Nil */);
				VAL v32 = mw_std_list_List_1_cons(MKU64(v30), v31);
				int64_t v33 = 6LL /* RDip */;
				TUP* v34;
				TUP* v35;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v32, v33, &v34, &v35);
				TUP* v36;
				TUP* v37;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZ_rZBang(v34, v35, value_u64(v13), &v36, &v37);
				branch_ZPlusAB_17 = v37;
				branch_ZPlusMirth_16 = v36;
			} else {
				incref(v13);
				TUP* v38;
				TUP* v39;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v14, in_ZPlusAB_2, value_u64(v13), &v38, &v39);
				TUP* v40;
				VAL v41 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v39, &v40);
				TUP* v42;
				VAL v43 = mw_mirth_type_StackType_forceZ_consZAskZBang(v38, v41, &v42);
				VAL v44 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v43);
				TUP* v45;
				VAL v46 = mw_mirth_type_StackType_FreshZBang(v42, &v45);
				TUP* v47 = mw_mirth_type_TZ_ZTo(v44, v46);
				TUP* v48;
				TUP* v49;
				uint64_t v50 = mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp4(in_Token_3, v12, v45, v47, v40, &v48, &v49);
				VAL v51 = MKI64(0LL /* Nil */);
				VAL v52 = mw_std_list_List_1_cons(MKU64(v50), v51);
				int64_t v53 = 5LL /* Dip */;
				TUP* v54;
				TUP* v55;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v48, v49, v52, v53, &v54, &v55);
				TUP* v56;
				TUP* v57;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_pushZBang(v54, v55, value_u64(v13), &v56, &v57);
				branch_ZPlusAB_17 = v57;
				branch_ZPlusMirth_16 = v56;
			}
			branch_ZPlusAB_8 = branch_ZPlusAB_17;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static uint64_t mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp4 (uint64_t in_Token_1, VAL in_List_2, TUP* in_ZPlusMirth_3, TUP* in_ArrowType_4, TUP* in_ZPlusAB_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusAB_7) {
	TUP* v9;
	VAL v10 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_5, &v9);
	TUP* v11;
	uint64_t v12 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v9, &v11);
	TUP* v13;
	VAL v14 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v11, &v13);
	VAL v15;
	VAL v16;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_4, &v15, &v16);
	incref(v15);
	VAL v17 = MKI64(0LL /* Nil */);
	TUP* v18 = mtw_mirth_arrow_Arrow_Arrow(v14, v12, v12, v10, v15, v15, v17);
	TUP* v19;
	TUP* v20;
	mw_mirth_elab_ZPlusAB_abZ_ldipZBang_1_sp1(in_ZPlusMirth_3, v18, in_Token_1, in_List_2, &v19, &v20);
	TUP* v21;
	TUP* v22;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v19, v20, v16, &v21, &v22);
	TUP* v23;
	uint64_t v24 = mw_mirth_arrow_Block_newZBang(v21, v22, &v23);
	*out_ZPlusAB_7 = v13;
	*out_ZPlusMirth_6 = v23;
	return v24;
}
static VAL mw_std_list_List_1_for_1_sp71 (VAL in_StackType_1, VAL in_List_2) {
	bool v4 = true;
	VAL v5 = in_StackType_1;
	VAL v6 = in_List_2;
	bool v7 = v4;
	bool v8 = v4;
	while (v8) {
		VAL v9 = v5;
		VAL v10 = v6;
		bool v11 = v7;
		VAL branch_StackType_12;
		VAL branch_List_13;
		bool branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17 = mw_mirth_type_TZMul(v9, v16);
				bool v18 = true;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_StackType_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				bool v20 = false;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_StackType_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_StackType_12;
	}
	decref(v6);
	return v5;
}
static uint64_t mw_std_either_Either_2_left_1_sp1 (VAL in_Either_1) {
	uint64_t branch_Name_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			branch_Name_3 = value_u64(v4);
		} break;
		case 1LL: { // Right
			VAL v5 = mtp_std_either_Either_2_Right(in_Either_1);
			uint64_t v6 = mw_mirth_name_DName_lastZ_name(value_tup(v5, 2));
			branch_Name_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Name_3;
}
static VAL mw_std_maybe_Maybe_1_ifZAsk_2_sp81 (VAL in_Maybe_1) {
	VAL branch_Type_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = mtw_mirth_type_Type_Var(value_u64(v4));
			branch_Type_3 = v5;
		} break;
		case 0LL: { // None
			VAL v6 = MKI64(0LL /* Error */);
			branch_Type_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Type_3;
}
static STR* mw_std_list_List_1_for_1_sp75 (TUP* in_ZPlusMirth_1, VAL in_z_x1_2, STR* in_ZPlusStr_3, STR* in_Str_4, VAL in_List_5, TUP* *out_ZPlusMirth_6, VAL *out_z_x1_7, STR* *out_ZPlusStr_8) {
	bool v10 = true;
	TUP* v11 = in_ZPlusMirth_1;
	VAL v12 = in_z_x1_2;
	STR* v13 = in_ZPlusStr_3;
	STR* v14 = in_Str_4;
	VAL v15 = in_List_5;
	bool v16 = v10;
	bool v17 = v10;
	while (v17) {
		TUP* v18 = v11;
		VAL v19 = v12;
		STR* v20 = v13;
		STR* v21 = v14;
		VAL v22 = v15;
		bool v23 = v16;
		TUP* branch_ZPlusMirth_24;
		VAL branch_z_x1_25;
		STR* branch_ZPlusStr_26;
		VAL branch__27;
		VAL branch_List_28;
		bool branch_Bool_29;
		switch (get_data_tag(v22)) {
			case 1LL: { // Cons
				VAL v30;
				VAL v31 = mtp_std_list_List_1_Cons(v22, &v30);
				STR* v32;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v32);
				TUP* v33;
				STR* v34;
				mw_mirth_def_Def_qnameZThen(v18, v32, v31, &v33, &v34);
				STR* v35;
				STRLIT(v35, ", ", 2);
				bool v36 = true;
				branch_Bool_29 = v36;
				branch_List_28 = v30;
				branch__27 = MKSTR(v35);
				branch_ZPlusStr_26 = v34;
				branch_z_x1_25 = v19;
				branch_ZPlusMirth_24 = v33;
			} break;
			case 0LL: { // Nil
				VAL v37 = MKI64(0LL /* Nil */);
				bool v38 = false;
				branch_Bool_29 = v38;
				branch_List_28 = v37;
				branch__27 = MKSTR(v21);
				branch_ZPlusStr_26 = v20;
				branch_z_x1_25 = v19;
				branch_ZPlusMirth_24 = v18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v17 = branch_Bool_29;
		v16 = branch_Bool_29;
		v15 = branch_List_28;
		v14 = value_str(branch__27);
		v13 = branch_ZPlusStr_26;
		v12 = branch_z_x1_25;
		v11 = branch_ZPlusMirth_24;
	}
	decref(v15);
	*out_ZPlusStr_8 = v13;
	*out_z_x1_7 = v12;
	*out_ZPlusMirth_6 = v11;
	return v14;
}
static void mw_std_list_List_1_for_2_sp3 (TUP* in_ZPlusMirth_1, VAL in_z_x1_2, STR* in_ZPlusStr_3, VAL in_List_4, TUP* *out_ZPlusMirth_5, VAL *out_z_x1_6, STR* *out_ZPlusStr_7) {
	VAL v8;
	VAL v9 = mw_std_list_List_1_uncons(in_List_4, &v8);
	TUP* branch_ZPlusMirth_10;
	VAL branch_z_x1_11;
	STR* branch_ZPlusStr_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			TUP* v14;
			STR* v15;
			mw_mirth_name_Namespace_nameZThen(in_ZPlusMirth_1, in_ZPlusStr_3, v13, &v14, &v15);
			branch_ZPlusStr_12 = v15;
			branch_z_x1_11 = in_z_x1_2;
			branch_ZPlusMirth_10 = v14;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_12 = in_ZPlusStr_3;
			branch_z_x1_11 = in_z_x1_2;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v16 = true;
	TUP* v17 = branch_ZPlusMirth_10;
	VAL v18 = branch_z_x1_11;
	STR* v19 = branch_ZPlusStr_12;
	VAL v20 = v8;
	bool v21 = v16;
	bool v22 = v16;
	while (v22) {
		TUP* v23 = v17;
		VAL v24 = v18;
		STR* v25 = v19;
		VAL v26 = v20;
		bool v27 = v21;
		TUP* branch_ZPlusMirth_28;
		VAL branch_z_x1_29;
		STR* branch_ZPlusStr_30;
		VAL branch_List_31;
		bool branch_Bool_32;
		switch (get_data_tag(v26)) {
			case 1LL: { // Cons
				VAL v33;
				VAL v34 = mtp_std_list_List_1_Cons(v26, &v33);
				STR* v35;
				STRLIT(v35, " ", 1);
				STR* v36;
				mw_std_str_ZPlusStr_pushZ_strZBang(v35, v25, &v36);
				TUP* v37;
				STR* v38;
				mw_mirth_name_Namespace_nameZThen(v23, v36, v34, &v37, &v38);
				bool v39 = true;
				branch_Bool_32 = v39;
				branch_List_31 = v33;
				branch_ZPlusStr_30 = v38;
				branch_z_x1_29 = v24;
				branch_ZPlusMirth_28 = v37;
			} break;
			case 0LL: { // Nil
				VAL v40 = MKI64(0LL /* Nil */);
				bool v41 = false;
				branch_Bool_32 = v41;
				branch_List_31 = v40;
				branch_ZPlusStr_30 = v25;
				branch_z_x1_29 = v24;
				branch_ZPlusMirth_28 = v23;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v22 = branch_Bool_32;
		v21 = branch_Bool_32;
		v20 = branch_List_31;
		v19 = branch_ZPlusStr_30;
		v18 = branch_z_x1_29;
		v17 = branch_ZPlusMirth_28;
	}
	decref(v20);
	*out_ZPlusStr_7 = v19;
	*out_z_x1_6 = v18;
	*out_ZPlusMirth_5 = v17;
}
static bool mw_std_list_List_1_member_sp5 (VAL in_Namespace_1, VAL in_List_2) {
	VAL v4 = MKI64(0LL /* None */);
	bool v5 = true;
	VAL v6 = in_Namespace_1;
	VAL v7 = v4;
	VAL v8 = in_List_2;
	bool v9 = v5;
	bool v10 = v5;
	while (v10) {
		VAL v11 = v6;
		VAL v12 = v7;
		VAL v13 = v8;
		bool v14 = v9;
		VAL v15;
		VAL v16 = mw_std_list_List_1_uncons(v13, &v15);
		VAL branch_Namespace_17;
		VAL branch_Maybe_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v16)) {
			case 1LL: { // Some
				VAL v21 = mtp_std_maybe_Maybe_1_Some(v16);
				incref(v21);
				incref(v11);
				bool v22 = mw_mirth_name_Namespace_ZEqual(v11, v21);
				VAL branch_Namespace_23;
				VAL branch_Maybe_24;
				if (v22) {
					VAL v25 = mtw_std_maybe_Maybe_1_Some(v21);
					branch_Maybe_24 = v25;
					branch_Namespace_23 = v11;
				} else {
					decref(v21);
					VAL v26 = MKI64(0LL /* None */);
					branch_Maybe_24 = v26;
					branch_Namespace_23 = v11;
				}
				VAL branch_Namespace_27;
				VAL branch_Maybe_28;
				VAL branch_List_29;
				switch (get_data_tag(branch_Maybe_24)) {
					case 0LL: { // None
						branch_List_29 = v15;
						branch_Maybe_28 = v12;
						branch_Namespace_27 = branch_Namespace_23;
					} break;
					default: {
						decref(v15);
						decref(v12);
						VAL v30 = MKI64(0LL /* Nil */);
						branch_List_29 = v30;
						branch_Maybe_28 = branch_Maybe_24;
						branch_Namespace_27 = branch_Namespace_23;
					} break;
				}
				bool v31 = true;
				branch_Bool_20 = v31;
				branch_List_19 = branch_List_29;
				branch_Maybe_18 = branch_Maybe_28;
				branch_Namespace_17 = branch_Namespace_27;
			} break;
			case 0LL: { // None
				bool v32 = false;
				branch_Bool_20 = v32;
				branch_List_19 = v15;
				branch_Maybe_18 = v12;
				branch_Namespace_17 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_20;
		v9 = branch_Bool_20;
		v8 = branch_List_19;
		v7 = branch_Maybe_18;
		v6 = branch_Namespace_17;
	}
	decref(v8);
	decref(v6);
	int64_t v33 = get_data_tag(v7);
	decref(v7);
	INT v34 = WRAP_I63(0LL);
	INT v35 = i64_to_int(v33);
	bool v36 = int_eq(v35, v34);
	bool v37 = !v36;
	return v37;
}
static bool mw_std_list_List_1_member_sp6 (uint64_t in_Label_1, VAL in_List_2) {
	VAL v4 = MKI64(0LL /* None */);
	bool v5 = true;
	uint64_t v6 = in_Label_1;
	VAL v7 = v4;
	VAL v8 = in_List_2;
	bool v9 = v5;
	bool v10 = v5;
	while (v10) {
		uint64_t v11 = v6;
		VAL v12 = v7;
		VAL v13 = v8;
		bool v14 = v9;
		VAL v15;
		VAL v16 = mw_std_list_List_1_uncons(v13, &v15);
		uint64_t branch_Label_17;
		VAL branch_Maybe_18;
		VAL branch_List_19;
		bool branch_Bool_20;
		switch (get_data_tag(v16)) {
			case 1LL: { // Some
				VAL v21 = mtp_std_maybe_Maybe_1_Some(v16);
				incref(v21);
				bool v22 = mw_mirth_label_Label_ZEqual(v11, value_u64(v21));
				uint64_t branch_Label_23;
				VAL branch_Maybe_24;
				if (v22) {
					VAL v25 = mtw_std_maybe_Maybe_1_Some(v21);
					branch_Maybe_24 = v25;
					branch_Label_23 = v11;
				} else {
					decref(v21);
					VAL v26 = MKI64(0LL /* None */);
					branch_Maybe_24 = v26;
					branch_Label_23 = v11;
				}
				uint64_t branch_Label_27;
				VAL branch_Maybe_28;
				VAL branch_List_29;
				switch (get_data_tag(branch_Maybe_24)) {
					case 0LL: { // None
						branch_List_29 = v15;
						branch_Maybe_28 = v12;
						branch_Label_27 = branch_Label_23;
					} break;
					default: {
						decref(v15);
						decref(v12);
						VAL v30 = MKI64(0LL /* Nil */);
						branch_List_29 = v30;
						branch_Maybe_28 = branch_Maybe_24;
						branch_Label_27 = branch_Label_23;
					} break;
				}
				bool v31 = true;
				branch_Bool_20 = v31;
				branch_List_19 = branch_List_29;
				branch_Maybe_18 = branch_Maybe_28;
				branch_Label_17 = branch_Label_27;
			} break;
			case 0LL: { // None
				bool v32 = false;
				branch_Bool_20 = v32;
				branch_List_19 = v15;
				branch_Maybe_18 = v12;
				branch_Label_17 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_20;
		v9 = branch_Bool_20;
		v8 = branch_List_19;
		v7 = branch_Maybe_18;
		v6 = branch_Label_17;
	}
	decref(v8);
	int64_t v33 = get_data_tag(v7);
	decref(v7);
	INT v34 = WRAP_I63(0LL);
	INT v35 = i64_to_int(v33);
	bool v36 = int_eq(v35, v34);
	bool v37 = !v36;
	return v37;
}
static uint64_t mw_std_maybe_Maybe_1_elseZAsk_1_sp7 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, VAL *out_z_x1_6) {
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			branch_z_x1_9 = v10;
			branch_Token_8 = in_Token_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "Expected a revision number.", 27);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_z_x1_6 = branch_z_x1_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static uint64_t mw_std_maybe_Maybe_1_else_1_sp3 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4) {
	int64_t v6 = get_data_tag(in_Maybe_3);
	decref(in_Maybe_3);
	INT v7 = WRAP_I63(0LL);
	INT v8 = i64_to_int(v6);
	bool v9 = int_eq(v8, v7);
	bool v10 = !v9;
	TUP* branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		branch_Token_12 = in_Token_2;
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
	} else {
		STR* v13;
		STRLIT(v13, "Expected { ... }", 16);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v13);
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_Token_12;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp36 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_z_x1_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			branch_z_x1_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_z_x1_6;
}
static VAL mw_std_maybe_Maybe_1_bind_1_sp13 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			TUP* v8;
			VAL v9 = mw_mirth_def_Def_asZ_defZ_namespaceZAsk(in_ZPlusMirth_1, v7, &v8);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static STR* mw_std_prim_Str_Str_1_sp72 (STR* in_Str_1, STR* in_Str_2) {
	STR* v4;
	STRLIT(v4, "", 0);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v4, &v5);
	STR* v6;
	STRLIT(v6, " ", 1);
	STR* v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(v6, v5, &v7);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v7, &v8);
	return v8;
}
static STR* mw_std_prim_Str_Str_1_sp73 (STR* in_Str_1, STR* in_Str_2) {
	STR* v4;
	STRLIT(v4, "", 0);
	STR* v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v4, &v5);
	STR* v6;
	STRLIT(v6, " ", 1);
	STR* v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(v6, v5, &v7);
	STR* v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v7, &v8);
	return v8;
}
static VAL mw_std_list_List_1_map_1_sp16 (VAL in_List_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	bool v5 = true;
	VAL v6 = v4;
	VAL v7 = in_List_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		VAL v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		VAL branch_ZPlusLister_13;
		VAL branch_List_14;
		bool branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				uint64_t v18 = value_u64(VTUP(v17)->cells[0]);
				decref(v17);
				VAL v19;
				mw_std_list_ZPlusLister_1_pushZBang(MKU64(v18), v10, &v19);
				bool v20 = true;
				branch_Bool_15 = v20;
				branch_List_14 = v16;
				branch_ZPlusLister_13 = v19;
			} break;
			case 0LL: { // Nil
				VAL v21 = MKI64(0LL /* Nil */);
				bool v22 = false;
				branch_Bool_15 = v22;
				branch_List_14 = v21;
				branch_ZPlusLister_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusLister_13;
	}
	decref(v7);
	VAL v23 = mw_std_list_ZPlusLister_1_doneZBang(v6);
	return v23;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp43 (TUP* in_ZPlusMirth_1, VAL in_z_x1_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, VAL *out_z_x1_5) {
	TUP* branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	VAL branch_z_x2_9;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			branch_z_x2_9 = v10;
			branch_z_x1_8 = in_z_x1_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "logic error: expected field in tag.", 35);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_z_x1_5 = branch_z_x1_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_z_x2_9;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp44 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_z_x1_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			branch_z_x1_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v8;
			STRLIT(v8, "logic error: expected field in tag.", 35);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_ZPlusMirth_1, v8);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_z_x1_6;
}
static bool mw_std_maybe_Maybe_1_has_1_sp14 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	bool branch_Bool_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			TUP* v8;
			bool v9 = mw_mirth_name_Name_couldZ_beZ_constructor(in_ZPlusMirth_1, value_u64(v7), &v8);
			branch_Bool_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 0LL: { // None
			bool v10 = false;
			branch_Bool_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static uint64_t mw_std_maybe_Maybe_1_else_1_sp6 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4) {
	int64_t v6 = get_data_tag(in_Maybe_3);
	decref(in_Maybe_3);
	INT v7 = WRAP_I63(0LL);
	INT v8 = i64_to_int(v6);
	bool v9 = int_eq(v8, v7);
	bool v10 = !v9;
	TUP* branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		branch_Token_12 = in_Token_2;
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
	} else {
		STR* v13;
		STRLIT(v13, "expected left curly brace '{'", 29);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v13);
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_Token_12;
}
static uint64_t mw_std_maybe_Maybe_1_else_1_sp7 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4) {
	int64_t v6 = get_data_tag(in_Maybe_3);
	decref(in_Maybe_3);
	INT v7 = WRAP_I63(0LL);
	INT v8 = i64_to_int(v6);
	bool v9 = int_eq(v8, v7);
	bool v10 = !v9;
	TUP* branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		branch_Token_12 = in_Token_2;
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
	} else {
		STR* v13;
		STRLIT(v13, "expected right curly brace '}'", 30);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v13);
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
	return branch_Token_12;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp22 (TUP* in_ZPlusMirth_1, VAL in_Maybe_2, TUP* *out_ZPlusMirth_3) {
	TUP* branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			incref(v7);
			TUP* v8;
			bool v9 = mw_mirth_name_Name_couldZ_beZ_constructor(in_ZPlusMirth_1, value_u64(v7), &v8);
			TUP* branch_ZPlusMirth_10;
			VAL branch_Maybe_11;
			if (v9) {
				VAL v12 = mtw_std_maybe_Maybe_1_Some(v7);
				branch_Maybe_11 = v12;
				branch_ZPlusMirth_10 = v8;
			} else {
				decref(v7);
				VAL v13 = MKI64(0LL /* None */);
				branch_Maybe_11 = v13;
				branch_ZPlusMirth_10 = v8;
			}
			branch_Maybe_6 = branch_Maybe_11;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_10;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static TUP* mw_mirth_mirth_PropLabel_prop_1_sp16 (uint64_t in_Token_1, TUP* in_ZPlusMirth_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6 = value_tup(in_ZPlusMirth_2->cells[6], 2);
	incref(MKTUP(v6, 2));
	FNPTR v7 = &mb_mirth_mirth_PropLabel_prop_1_sp16_1;
	VAL v8 = mtw_mirth_mirth_PropState_1_Delay(v6, MKU64(in_Token_1), MKFNPTR(v7));
	TUP* v9 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_3, v8);
	*out_ZPlusMirth_4 = in_ZPlusMirth_2;
	return v9;
}
static TUP* mw_mirth_mirth_PropLabel_prop2_1_sp7 (TUP* in_ZPlusMirth_1, uint64_t in_Field_2, uint64_t in_Word_3, VAL in_PropLabel_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7 = tup_new(2);
	v7->size = 2;
	v7->cells[1] = MKU64(in_Word_3);
	v7->cells[0] = MKU64(in_Field_2);
	TUP* v8 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v8, 2));
	FNPTR v9 = &mb_mirth_mirth_PropLabel_prop_1_sp20_1;
	VAL v10 = mtw_mirth_mirth_PropState_1_Delay(v8, MKTUP(v7, 2), MKFNPTR(v9));
	TUP* v11 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_4, v10);
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
	return v11;
}
static TUP* mw_mirth_mirth_PropLabel_prop2_1_sp8 (TUP* in_ZPlusMirth_1, VAL in_List_2, uint64_t in_Word_3, VAL in_PropLabel_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7 = tup_new(2);
	v7->size = 2;
	v7->cells[1] = MKU64(in_Word_3);
	v7->cells[0] = in_List_2;
	TUP* v8 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v8, 2));
	FNPTR v9 = &mb_mirth_mirth_PropLabel_prop_1_sp19_3;
	VAL v10 = mtw_mirth_mirth_PropState_1_Delay(v8, MKTUP(v7, 2), MKFNPTR(v9));
	TUP* v11 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_4, v10);
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
	return v11;
}
static void mw_std_maybe_Maybe_1_ifZAsk_2_sp124 (uint64_t in_Field_1, TUP* in_ZPlusAB_2, TUP* in_ZPlusMirth_3, VAL in_Maybe_4, uint64_t *out_Field_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusAB_7) {
	uint64_t branch_Field_8;
	TUP* branch_ZPlusMirth_9;
	TUP* branch_ZPlusAB_10;
	switch (get_data_tag(in_Maybe_4)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(in_Maybe_4);
			TUP* v12;
			mw_mirth_elab_ZPlusAB_abZ_tokenZBang(in_ZPlusAB_2, value_u64(v11), &v12);
			VAL v13 = MKI64(0LL /* Nil */);
			int64_t v14 = 1LL /* Dup */;
			TUP* v15;
			TUP* v16;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(in_ZPlusMirth_3, v12, v13, v14, &v15, &v16);
			VAL v17 = MKI64(0LL /* Nil */);
			VAL v18 = mtw_mirth_arrow_Op_Field(in_Field_1);
			TUP* v19;
			TUP* v20;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(v15, v16, v17, v18, &v19, &v20);
			VAL v21 = MKI64(0LL /* Nil */);
			int64_t v22 = 1LL /* Dup */;
			TUP* v23;
			TUP* v24;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v19, v20, v21, v22, &v23, &v24);
			VAL v25 = MKI64(0LL /* Nil */);
			int64_t v26 = 147LL /* MutIsSet */;
			TUP* v27;
			TUP* v28;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v23, v24, v25, v26, &v27, &v28);
			TUP* v29;
			VAL v30 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v28, &v29);
			TUP* v31;
			VAL v32 = mw_mirth_type_StackType_forceZ_consZAskZBang(v27, v30, &v31);
			VAL v33 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v32);
			TUP* v34;
			VAL v35 = mw_mirth_type_StackType_FreshZBang(v31, &v34);
			TUP* v36 = mw_mirth_type_TZ_ZTo(v33, v35);
			incref(MKTUP(v36, 2));
			TUP* v37;
			VAL v38 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v29, &v37);
			TUP* v39;
			uint64_t v40 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v37, &v39);
			TUP* v41;
			VAL v42 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v39, &v41);
			VAL v43;
			VAL v44;
			mtp_mirth_type_ArrowType_ArrowType(v36, &v43, &v44);
			incref(v43);
			VAL v45 = MKI64(0LL /* Nil */);
			TUP* v46 = mtw_mirth_arrow_Arrow_Arrow(v42, v40, v40, v38, v43, v43, v45);
			VAL v47 = MKI64(0LL /* Nil */);
			int64_t v48 = 3LL /* Swap */;
			TUP* v49;
			TUP* v50;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v34, v46, v47, v48, &v49, &v50);
			VAL v51 = MKI64(0LL /* Nil */);
			int64_t v52 = 2LL /* Drop */;
			TUP* v53;
			TUP* v54;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v49, v50, v51, v52, &v53, &v54);
			VAL v55 = MKI64(0LL /* Nil */);
			int64_t v56 = 145LL /* MutGet */;
			TUP* v57;
			TUP* v58;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v53, v54, v55, v56, &v57, &v58);
			TUP* v59;
			TUP* v60;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v57, v58, v44, &v59, &v60);
			TUP* v61;
			uint64_t v62 = mw_mirth_arrow_Block_newZBang(v59, v60, &v61);
			TUP* v63;
			VAL v64 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v41, &v63);
			TUP* v65;
			uint64_t v66 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v63, &v65);
			TUP* v67;
			VAL v68 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v65, &v67);
			VAL v69;
			VAL v70;
			mtp_mirth_type_ArrowType_ArrowType(v36, &v69, &v70);
			incref(v69);
			VAL v71 = MKI64(0LL /* Nil */);
			TUP* v72 = mtw_mirth_arrow_Arrow_Arrow(v68, v66, v66, v64, v69, v69, v71);
			TUP* v73;
			VAL v74 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v72, &v73);
			TUP* v75;
			VAL v76 = mw_mirth_type_StackType_forceZ_consZAskZBang(v61, v74, &v75);
			VAL v77 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v76);
			TUP* v78;
			VAL v79 = mw_mirth_type_StackType_FreshZBang(v75, &v78);
			TUP* v80 = mw_mirth_type_TZ_ZTo(v77, v79);
			TUP* v81;
			VAL v82 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v73, &v81);
			TUP* v83;
			uint64_t v84 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v81, &v83);
			TUP* v85;
			VAL v86 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v83, &v85);
			VAL v87;
			VAL v88;
			mtp_mirth_type_ArrowType_ArrowType(v80, &v87, &v88);
			incref(v87);
			VAL v89 = MKI64(0LL /* Nil */);
			TUP* v90 = mtw_mirth_arrow_Arrow_Arrow(v86, v84, v84, v82, v87, v87, v89);
			TUP* v91;
			TUP* v92;
			mw_mirth_elab_ZPlusAB_elabZ_atomsZBang(v78, v90, &v91, &v92);
			VAL v93 = MKI64(0LL /* Nil */);
			int64_t v94 = 1LL /* Dup */;
			TUP* v95;
			TUP* v96;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v91, v92, v93, v94, &v95, &v96);
			TUP* v97;
			TUP* v98;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v95, v96, v88, &v97, &v98);
			TUP* v99;
			uint64_t v100 = mw_mirth_arrow_Block_newZBang(v97, v98, &v99);
			VAL v101 = MKI64(0LL /* Nil */);
			VAL v102 = mw_std_list_List_1_cons(MKU64(v100), v101);
			int64_t v103 = 5LL /* Dip */;
			TUP* v104;
			TUP* v105;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v99, v85, v102, v103, &v104, &v105);
			VAL v106 = MKI64(0LL /* Nil */);
			int64_t v107 = 146LL /* MutSet */;
			TUP* v108;
			TUP* v109;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v104, v105, v106, v107, &v108, &v109);
			TUP* v110;
			TUP* v111;
			mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v108, v109, v70, &v110, &v111);
			TUP* v112;
			uint64_t v113 = mw_mirth_arrow_Block_newZBang(v110, v111, &v112);
			VAL v114 = MKI64(0LL /* Nil */);
			VAL v115 = mw_std_list_List_1_cons(MKU64(v113), v114);
			VAL v116 = mw_std_list_List_1_cons(MKU64(v62), v115);
			int64_t v117 = 7LL /* If */;
			TUP* v118;
			TUP* v119;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v112, v67, v116, v117, &v118, &v119);
			branch_ZPlusAB_10 = v119;
			branch_ZPlusMirth_9 = v118;
			branch_Field_8 = in_Field_1;
		} break;
		case 0LL: { // None
			VAL v120 = MKI64(0LL /* Nil */);
			VAL v121 = mtw_mirth_arrow_Op_Field(in_Field_1);
			TUP* v122;
			TUP* v123;
			mw_mirth_elab_ZPlusAB_abZ_opZBang(in_ZPlusMirth_3, in_ZPlusAB_2, v120, v121, &v122, &v123);
			VAL v124 = MKI64(0LL /* Nil */);
			int64_t v125 = 145LL /* MutGet */;
			TUP* v126;
			TUP* v127;
			mw_mirth_elab_ZPlusAB_abZ_primZBang(v122, v123, v124, v125, &v126, &v127);
			branch_ZPlusAB_10 = v127;
			branch_ZPlusMirth_9 = v126;
			branch_Field_8 = in_Field_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_7 = branch_ZPlusAB_10;
	*out_ZPlusMirth_6 = branch_ZPlusMirth_9;
	*out_Field_5 = branch_Field_8;
}
static uint64_t mw_mirth_word_Word_BuildZBang_3_sp3 (uint64_t in_Table_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Maybe_4, TUP* in_ZPlusMirth_5, STR* in_Str_6, VAL in_List_7, uint64_t *out_Table_8, TUP* *out_ZPlusMirth_9) {
	incref(in_List_7);
	INT v11 = mw_std_list_List_1_len(in_List_7);
	TUP* v12;
	uint64_t v13 = mw_std_prim_Str_ZToName(in_ZPlusMirth_5, in_Str_6, &v12);
	VAL v14 = MKI64(0LL /* None */);
	TUP* v15;
	uint64_t v16 = mw_mirth_word_Word_NewZBang(v12, in_Token_2, v14, in_Token_3, v13, v11, in_Maybe_4, &v15);
	VAL v17 = mtw_mirth_mirth_PropLabel_WordQName(v16);
	TUP* v18;
	TUP* v19 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v15, in_Table_1, v16, v17, &v18);
	void* v20 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v16);
	mut_set(MKTUP(v19, 2), v20);
	VAL v21 = mtw_mirth_mirth_PropLabel_WordType(v16);
	TUP* v22;
	TUP* v23 = mw_mirth_mirth_PropLabel_prop_1_sp39(in_Table_1, v18, v21, &v22);
	void* v24 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v16);
	mut_set(MKTUP(v23, 2), v24);
	VAL v25 = mtw_mirth_mirth_PropLabel_WordParams(v16);
	TUP* v26;
	TUP* v27 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v22, in_List_7, v16, v25, &v26);
	void* v28 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v16);
	mut_set(MKTUP(v27, 2), v28);
	VAL v29 = mtw_mirth_mirth_PropLabel_WordArrow(v16);
	TUP* v30 = tup_new(2);
	v30->size = 2;
	v30->cells[1] = MKU64(v16);
	v30->cells[0] = MKU64(in_Table_1);
	TUP* v31 = value_tup(v26->cells[6], 2);
	incref(MKTUP(v31, 2));
	FNPTR v32 = &mb_mirth_mirth_PropLabel_prop_1_sp41_13;
	VAL v33 = mtw_mirth_mirth_PropState_1_Delay(v31, MKTUP(v30, 2), MKFNPTR(v32));
	TUP* v34 = mtw_mirth_mirth_Prop_1_Prop(v29, v33);
	void* v35 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v16);
	mut_set(MKTUP(v34, 2), v35);
	*out_ZPlusMirth_9 = v26;
	*out_Table_8 = in_Table_1;
	return v16;
}
static uint64_t mw_mirth_word_Word_BuildZBang_3_sp4 (uint64_t in_Table_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Maybe_4, TUP* in_ZPlusMirth_5, STR* in_Str_6, VAL in_List_7, uint64_t *out_Table_8, TUP* *out_ZPlusMirth_9) {
	incref(in_List_7);
	INT v11 = mw_std_list_List_1_len(in_List_7);
	TUP* v12;
	uint64_t v13 = mw_std_prim_Str_ZToName(in_ZPlusMirth_5, in_Str_6, &v12);
	VAL v14 = MKI64(0LL /* None */);
	TUP* v15;
	uint64_t v16 = mw_mirth_word_Word_NewZBang(v12, in_Token_2, v14, in_Token_3, v13, v11, in_Maybe_4, &v15);
	VAL v17 = mtw_mirth_mirth_PropLabel_WordQName(v16);
	TUP* v18;
	TUP* v19 = mw_mirth_mirth_PropLabel_prop2_1_sp12(v15, in_Table_1, v16, v17, &v18);
	void* v20 = field_mut(&mfld_mirth_word_Word_ZTildeqname, v16);
	mut_set(MKTUP(v19, 2), v20);
	VAL v21 = mtw_mirth_mirth_PropLabel_WordType(v16);
	TUP* v22;
	TUP* v23 = mw_mirth_mirth_PropLabel_prop_1_sp39(in_Table_1, v18, v21, &v22);
	void* v24 = field_mut(&mfld_mirth_word_Word_ZTildectxZ_type, v16);
	mut_set(MKTUP(v23, 2), v24);
	VAL v25 = mtw_mirth_mirth_PropLabel_WordParams(v16);
	TUP* v26;
	TUP* v27 = mw_mirth_mirth_PropLabel_prop2_1_sp8(v22, in_List_7, v16, v25, &v26);
	void* v28 = field_mut(&mfld_mirth_word_Word_ZTildeparams, v16);
	mut_set(MKTUP(v27, 2), v28);
	VAL v29 = mtw_mirth_mirth_PropLabel_WordArrow(v16);
	TUP* v30 = tup_new(2);
	v30->size = 2;
	v30->cells[1] = MKU64(v16);
	v30->cells[0] = MKU64(in_Table_1);
	TUP* v31 = value_tup(v26->cells[6], 2);
	incref(MKTUP(v31, 2));
	FNPTR v32 = &mb_mirth_mirth_PropLabel_prop_1_sp40_29;
	VAL v33 = mtw_mirth_mirth_PropState_1_Delay(v31, MKTUP(v30, 2), MKFNPTR(v32));
	TUP* v34 = mtw_mirth_mirth_Prop_1_Prop(v29, v33);
	void* v35 = field_mut(&mfld_mirth_word_Word_ZTildearrow, v16);
	mut_set(MKTUP(v34, 2), v35);
	*out_ZPlusMirth_9 = v26;
	*out_Table_8 = in_Table_1;
	return v16;
}
static TUP* mw_mirth_mirth_PropLabel_prop2_1_sp12 (TUP* in_ZPlusMirth_1, uint64_t in_Table_2, uint64_t in_Word_3, VAL in_PropLabel_4, TUP* *out_ZPlusMirth_5) {
	TUP* v7 = tup_new(2);
	v7->size = 2;
	v7->cells[1] = MKU64(in_Word_3);
	v7->cells[0] = MKU64(in_Table_2);
	TUP* v8 = value_tup(in_ZPlusMirth_1->cells[6], 2);
	incref(MKTUP(v8, 2));
	FNPTR v9 = &mb_mirth_mirth_PropLabel_prop_1_sp29_1;
	VAL v10 = mtw_mirth_mirth_PropState_1_Delay(v8, MKTUP(v7, 2), MKFNPTR(v9));
	TUP* v11 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_4, v10);
	*out_ZPlusMirth_5 = in_ZPlusMirth_1;
	return v11;
}
static VAL mw_std_maybe_Maybe_1_unwrap_1_sp53 (VAL in_Maybe_1) {
	VAL branch_z_x1_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			branch_z_x1_3 = v4;
		} break;
		case 0LL: { // None
			STR* v5;
			STRLIT(v5, "unexpected number of params", 27);
			do_panic(v5);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_z_x1_3;
}
static void mw_mirth_elab_ZPlusAB_abZ_whileZBang_2_sp1 (uint64_t in_Var_1, uint64_t in_Table_2, TUP* in_ZPlusMirth_3, TUP* in_ZPlusAB_4, uint64_t *out_Table_5, TUP* *out_ZPlusMirth_6, TUP* *out_ZPlusAB_7) {
	TUP* v8;
	VAL v9 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_4, &v8);
	incref(v9);
	incref(v9);
	VAL v10 = mw_mirth_type_Type_Bool();
	VAL v11 = mw_mirth_type_TZMul(v9, v10);
	TUP* v12 = mw_mirth_type_TZ_ZTo(v9, v11);
	TUP* v13;
	VAL v14 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v8, &v13);
	TUP* v15;
	uint64_t v16 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v13, &v15);
	TUP* v17;
	VAL v18 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v15, &v17);
	VAL v19;
	VAL v20;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v19, &v20);
	incref(v19);
	VAL v21 = MKI64(0LL /* Nil */);
	TUP* v22 = mtw_mirth_arrow_Arrow_Arrow(v18, v16, v16, v14, v19, v19, v21);
	VAL v23 = MKI64(0LL /* Nil */);
	int64_t v24 = 1LL /* Dup */;
	TUP* v25;
	TUP* v26;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(in_ZPlusMirth_3, v22, v23, v24, &v25, &v26);
	TUP* v27;
	uint64_t v28 = mw_mirth_table_Table_numZ_buffer(v25, in_Table_2, &v27);
	TUP* v29;
	TUP* v30;
	mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v27, v26, v28, &v29, &v30);
	VAL v31 = MKI64(0LL /* Nil */);
	int64_t v32 = 36LL /* U64Get */;
	TUP* v33;
	TUP* v34;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v29, v30, v31, v32, &v33, &v34);
	VAL v35 = MKI64(0LL /* Nil */);
	int64_t v36 = 40LL /* U64Le */;
	TUP* v37;
	TUP* v38;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v33, v34, v35, v36, &v37, &v38);
	TUP* v39;
	TUP* v40;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v37, v38, v20, &v39, &v40);
	TUP* v41;
	uint64_t v42 = mw_mirth_arrow_Block_newZBang(v39, v40, &v41);
	incref(v9);
	TUP* v43 = mw_mirth_type_TZ_ZTo(v9, v9);
	TUP* v44;
	VAL v45 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v17, &v44);
	TUP* v46;
	uint64_t v47 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v44, &v46);
	TUP* v48;
	VAL v49 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v46, &v48);
	VAL v50;
	VAL v51;
	mtp_mirth_type_ArrowType_ArrowType(v43, &v50, &v51);
	incref(v50);
	VAL v52 = MKI64(0LL /* Nil */);
	TUP* v53 = mtw_mirth_arrow_Arrow_Arrow(v49, v47, v47, v45, v50, v50, v52);
	VAL v54 = MKI64(0LL /* Nil */);
	int64_t v55 = 1LL /* Dup */;
	TUP* v56;
	TUP* v57;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v41, v53, v54, v55, &v56, &v57);
	TUP* v58;
	VAL v59 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v57, &v58);
	TUP* v60;
	VAL v61 = mw_mirth_type_StackType_forceZ_consZAskZBang(v56, v59, &v60);
	VAL v62 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v61);
	TUP* v63;
	VAL v64 = mw_mirth_type_StackType_FreshZBang(v60, &v63);
	TUP* v65 = mw_mirth_type_TZ_ZTo(v62, v64);
	TUP* v66;
	VAL v67 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v58, &v66);
	TUP* v68;
	uint64_t v69 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v66, &v68);
	TUP* v70;
	VAL v71 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v68, &v70);
	VAL v72;
	VAL v73;
	mtp_mirth_type_ArrowType_ArrowType(v65, &v72, &v73);
	incref(v72);
	VAL v74 = MKI64(0LL /* Nil */);
	TUP* v75 = mtw_mirth_arrow_Arrow_Arrow(v71, v69, v69, v67, v72, v72, v74);
	VAL v76 = MKI64(0LL /* Nil */);
	VAL v77 = mtw_mirth_arrow_Op_TableFromIndex(in_Table_2);
	TUP* v78;
	TUP* v79;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v63, v75, v76, v77, &v78, &v79);
	TUP* v80;
	TUP* v81;
	mw_mirth_elab_ZPlusAB_abZ_varZBang(v78, v79, in_Var_1, &v80, &v81);
	TUP* v82;
	TUP* v83;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v80, v81, v73, &v82, &v83);
	TUP* v84;
	uint64_t v85 = mw_mirth_arrow_Block_newZBang(v82, v83, &v84);
	VAL v86 = MKI64(0LL /* Nil */);
	VAL v87 = mw_std_list_List_1_cons(MKU64(v85), v86);
	int64_t v88 = 5LL /* Dip */;
	TUP* v89;
	TUP* v90;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v84, v70, v87, v88, &v89, &v90);
	uint64_t v91 = 1ULL;
	VAL v92 = mtw_mirth_arrow_PushValue_U64(v91);
	TUP* v93;
	TUP* v94;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v89, v90, v92, &v93, &v94);
	VAL v95 = MKI64(0LL /* Nil */);
	int64_t v96 = 44LL /* U64Add */;
	TUP* v97;
	TUP* v98;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v93, v94, v95, v96, &v97, &v98);
	TUP* v99;
	TUP* v100;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v97, v98, v51, &v99, &v100);
	TUP* v101;
	uint64_t v102 = mw_mirth_arrow_Block_newZBang(v99, v100, &v101);
	VAL v103 = MKI64(0LL /* Nil */);
	VAL v104 = mw_std_list_List_1_cons(MKU64(v102), v103);
	VAL v105 = mw_std_list_List_1_cons(MKU64(v42), v104);
	int64_t v106 = 8LL /* While */;
	TUP* v107;
	TUP* v108;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v101, v48, v105, v106, &v107, &v108);
	*out_ZPlusAB_7 = v108;
	*out_ZPlusMirth_6 = v107;
	*out_Table_5 = in_Table_2;
}
static TUP* mw_mirth_mirth_PropLabel_prop_1_sp30 (uint64_t in_Table_1, TUP* in_ZPlusMirth_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6 = value_tup(in_ZPlusMirth_2->cells[6], 2);
	incref(MKTUP(v6, 2));
	FNPTR v7 = &mb_mirth_mirth_PropLabel_prop_1_sp30_0;
	VAL v8 = mtw_mirth_mirth_PropState_1_Delay(v6, MKU64(in_Table_1), MKFNPTR(v7));
	TUP* v9 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_3, v8);
	*out_ZPlusMirth_4 = in_ZPlusMirth_2;
	return v9;
}
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp2 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	VAL v6 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v8);
	TUP* v10;
	VAL v11 = mw_mirth_type_StackType_FreshZBang(v7, &v10);
	TUP* v12 = mw_mirth_type_TZ_ZTo(v9, v11);
	incref(MKTUP(v12, 2));
	TUP* v13;
	TUP* v14;
	uint64_t v15 = mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp14(v10, v12, v5, &v13, &v14);
	TUP* v16;
	VAL v17 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v14, &v16);
	TUP* v18;
	uint64_t v19 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v16, &v18);
	TUP* v20;
	VAL v21 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v18, &v20);
	VAL v22;
	VAL v23;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v22, &v23);
	incref(v22);
	VAL v24 = MKI64(0LL /* Nil */);
	TUP* v25 = mtw_mirth_arrow_Arrow_Arrow(v21, v19, v19, v17, v22, v22, v24);
	uint64_t v26 = 1ULL;
	VAL v27 = mtw_mirth_arrow_PushValue_U64(v26);
	TUP* v28;
	TUP* v29;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v13, v25, v27, &v28, &v29);
	VAL v30 = MKI64(0LL /* Nil */);
	int64_t v31 = 45LL /* U64Sub */;
	TUP* v32;
	TUP* v33;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
	TUP* v34;
	TUP* v35;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v32, v33, v23, &v34, &v35);
	TUP* v36;
	uint64_t v37 = mw_mirth_arrow_Block_newZBang(v34, v35, &v36);
	VAL v38 = MKI64(0LL /* Nil */);
	VAL v39 = mw_std_list_List_1_cons(MKU64(v37), v38);
	VAL v40 = mw_std_list_List_1_cons(MKU64(v15), v39);
	int64_t v41 = 7LL /* If */;
	TUP* v42;
	TUP* v43;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v20, v40, v41, &v42, &v43);
	*out_ZPlusAB_4 = v43;
	*out_ZPlusMirth_3 = v42;
}
static uint64_t mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp14 (TUP* in_ZPlusMirth_1, TUP* in_ArrowType_2, TUP* in_ZPlusAB_3, TUP* *out_ZPlusMirth_4, TUP* *out_ZPlusAB_5) {
	TUP* v7;
	VAL v8 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(in_ZPlusAB_3, &v7);
	TUP* v9;
	uint64_t v10 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v7, &v9);
	TUP* v11;
	VAL v12 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v9, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(in_ArrowType_2, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v12, v10, v10, v8, v13, v13, v15);
	TUP* v17;
	TUP* v18;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(in_ZPlusMirth_1, v16, v14, &v17, &v18);
	TUP* v19;
	uint64_t v20 = mw_mirth_arrow_Block_newZBang(v17, v18, &v19);
	*out_ZPlusAB_5 = v11;
	*out_ZPlusMirth_4 = v19;
	return v20;
}
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp3 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	VAL v6 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v8);
	TUP* v10;
	VAL v11 = mw_mirth_type_StackType_FreshZBang(v7, &v10);
	TUP* v12 = mw_mirth_type_TZ_ZTo(v9, v11);
	incref(MKTUP(v12, 2));
	TUP* v13;
	VAL v14 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v5, &v13);
	TUP* v15;
	uint64_t v16 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v13, &v15);
	TUP* v17;
	VAL v18 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v15, &v17);
	VAL v19;
	VAL v20;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v19, &v20);
	incref(v19);
	VAL v21 = MKI64(0LL /* Nil */);
	TUP* v22 = mtw_mirth_arrow_Arrow_Arrow(v18, v16, v16, v14, v19, v19, v21);
	uint64_t v23 = 1ULL;
	VAL v24 = mtw_mirth_arrow_PushValue_U64(v23);
	TUP* v25;
	TUP* v26;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v10, v22, v24, &v25, &v26);
	VAL v27 = MKI64(0LL /* Nil */);
	int64_t v28 = 44LL /* U64Add */;
	TUP* v29;
	TUP* v30;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v25, v26, v27, v28, &v29, &v30);
	TUP* v31;
	TUP* v32;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v29, v30, v20, &v31, &v32);
	TUP* v33;
	uint64_t v34 = mw_mirth_arrow_Block_newZBang(v31, v32, &v33);
	TUP* v35;
	VAL v36 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v17, &v35);
	TUP* v37;
	uint64_t v38 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v35, &v37);
	TUP* v39;
	VAL v40 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v37, &v39);
	VAL v41;
	VAL v42;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v41, &v42);
	incref(v41);
	VAL v43 = MKI64(0LL /* Nil */);
	TUP* v44 = mtw_mirth_arrow_Arrow_Arrow(v40, v38, v38, v36, v41, v41, v43);
	VAL v45 = MKI64(0LL /* Nil */);
	int64_t v46 = 2LL /* Drop */;
	TUP* v47;
	TUP* v48;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v33, v44, v45, v46, &v47, &v48);
	uint64_t v49 = 0ULL;
	VAL v50 = mtw_mirth_arrow_PushValue_U64(v49);
	TUP* v51;
	TUP* v52;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v47, v48, v50, &v51, &v52);
	TUP* v53;
	TUP* v54;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v51, v52, v42, &v53, &v54);
	TUP* v55;
	uint64_t v56 = mw_mirth_arrow_Block_newZBang(v53, v54, &v55);
	VAL v57 = MKI64(0LL /* Nil */);
	VAL v58 = mw_std_list_List_1_cons(MKU64(v56), v57);
	VAL v59 = mw_std_list_List_1_cons(MKU64(v34), v58);
	int64_t v60 = 7LL /* If */;
	TUP* v61;
	TUP* v62;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v55, v39, v59, v60, &v61, &v62);
	*out_ZPlusAB_4 = v62;
	*out_ZPlusMirth_3 = v61;
}
static void mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp4 (TUP* in_ZPlusMirth_1, TUP* in_ZPlusAB_2, TUP* *out_ZPlusMirth_3, TUP* *out_ZPlusAB_4) {
	TUP* v5;
	VAL v6 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(in_ZPlusAB_2, &v5);
	TUP* v7;
	VAL v8 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_ZPlusMirth_1, v6, &v7);
	VAL v9 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v8);
	TUP* v10;
	VAL v11 = mw_mirth_type_StackType_FreshZBang(v7, &v10);
	TUP* v12 = mw_mirth_type_TZ_ZTo(v9, v11);
	incref(MKTUP(v12, 2));
	TUP* v13;
	TUP* v14;
	uint64_t v15 = mw_mirth_elab_ZPlusAB_abZ_argZ_blockZBang_1_sp14(v10, v12, v5, &v13, &v14);
	TUP* v16;
	VAL v17 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v14, &v16);
	TUP* v18;
	uint64_t v19 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v16, &v18);
	TUP* v20;
	VAL v21 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v18, &v20);
	VAL v22;
	VAL v23;
	mtp_mirth_type_ArrowType_ArrowType(v12, &v22, &v23);
	incref(v22);
	VAL v24 = MKI64(0LL /* Nil */);
	TUP* v25 = mtw_mirth_arrow_Arrow_Arrow(v21, v19, v19, v17, v22, v22, v24);
	VAL v26 = MKI64(0LL /* Nil */);
	int64_t v27 = 2LL /* Drop */;
	TUP* v28;
	TUP* v29;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v13, v25, v26, v27, &v28, &v29);
	uint64_t v30 = 0ULL;
	VAL v31 = mtw_mirth_arrow_PushValue_U64(v30);
	TUP* v32;
	TUP* v33;
	mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v28, v29, v31, &v32, &v33);
	TUP* v34;
	TUP* v35;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v32, v33, v23, &v34, &v35);
	TUP* v36;
	uint64_t v37 = mw_mirth_arrow_Block_newZBang(v34, v35, &v36);
	VAL v38 = MKI64(0LL /* Nil */);
	VAL v39 = mw_std_list_List_1_cons(MKU64(v37), v38);
	VAL v40 = mw_std_list_List_1_cons(MKU64(v15), v39);
	int64_t v41 = 7LL /* If */;
	TUP* v42;
	TUP* v43;
	mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v20, v40, v41, &v42, &v43);
	*out_ZPlusAB_4 = v43;
	*out_ZPlusMirth_3 = v42;
}
static void mw_std_list_List_1_for_1_sp113 (TUP* in_ZPlusAB_1, TUP* in_ZPlusMirth_2, VAL in_List_3, TUP* *out_ZPlusAB_4, TUP* *out_ZPlusMirth_5) {
	bool v6 = true;
	TUP* v7 = in_ZPlusAB_1;
	TUP* v8 = in_ZPlusMirth_2;
	VAL v9 = in_List_3;
	bool v10 = v6;
	bool v11 = v6;
	while (v11) {
		TUP* v12 = v7;
		TUP* v13 = v8;
		VAL v14 = v9;
		bool v15 = v10;
		TUP* branch_ZPlusAB_16;
		TUP* branch_ZPlusMirth_17;
		VAL branch_List_18;
		bool branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				VAL v22 = MKI64(0LL /* Nil */);
				int64_t v23 = 1LL /* Dup */;
				TUP* v24;
				TUP* v25;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v13, v12, v22, v23, &v24, &v25);
				incref(v21);
				TUP* v26;
				uint64_t v27 = mw_mirth_table_Field_name(v24, value_u64(v21), &v26);
				TUP* v28;
				uint64_t v29 = mw_mirth_label_Label_newZBang(v26, v27, &v28);
				TUP* v30;
				TUP* v31;
				mw_mirth_elab_ZPlusAB_abZ_labelZ_popZBang(v28, v25, v29, &v30, &v31);
				VAL v32 = MKI64(0LL /* Nil */);
				int64_t v33 = 3LL /* Swap */;
				TUP* v34;
				TUP* v35;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v30, v31, v32, v33, &v34, &v35);
				TUP* v36;
				TUP* v37;
				mw_mirth_elab_ZPlusAB_abZ_fieldZBang(v34, v35, value_u64(v21), &v36, &v37);
				VAL v38 = MKI64(0LL /* Nil */);
				int64_t v39 = 146LL /* MutSet */;
				TUP* v40;
				TUP* v41;
				mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
				bool v42 = true;
				branch_Bool_19 = v42;
				branch_List_18 = v20;
				branch_ZPlusMirth_17 = v40;
				branch_ZPlusAB_16 = v41;
			} break;
			case 0LL: { // Nil
				VAL v43 = MKI64(0LL /* Nil */);
				bool v44 = false;
				branch_Bool_19 = v44;
				branch_List_18 = v43;
				branch_ZPlusMirth_17 = v13;
				branch_ZPlusAB_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusMirth_17;
		v7 = branch_ZPlusAB_16;
	}
	decref(v9);
	*out_ZPlusMirth_5 = v8;
	*out_ZPlusAB_4 = v7;
}
static TUP* mw_mirth_mirth_PropLabel_prop_1_sp39 (uint64_t in_Table_1, TUP* in_ZPlusMirth_2, VAL in_PropLabel_3, TUP* *out_ZPlusMirth_4) {
	TUP* v6 = value_tup(in_ZPlusMirth_2->cells[6], 2);
	incref(MKTUP(v6, 2));
	FNPTR v7 = &mb_mirth_mirth_PropLabel_prop_1_sp39_0;
	VAL v8 = mtw_mirth_mirth_PropState_1_Delay(v6, MKU64(in_Table_1), MKFNPTR(v7));
	TUP* v9 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_3, v8);
	*out_ZPlusMirth_4 = in_ZPlusMirth_2;
	return v9;
}
static void mw_std_maybe_Maybe_1_else_1_sp13 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Token_5) {
	int64_t v6 = get_data_tag(in_Maybe_3);
	decref(in_Maybe_3);
	INT v7 = WRAP_I63(0LL);
	INT v8 = i64_to_int(v6);
	bool v9 = int_eq(v8, v7);
	bool v10 = !v9;
	TUP* branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		branch_Token_12 = in_Token_2;
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
	} else {
		STR* v13;
		STRLIT(v13, "expected type name", 18);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v13);
	}
	*out_Token_5 = branch_Token_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static void mw_std_maybe_Maybe_1_else_1_sp14 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Token_5) {
	int64_t v6 = get_data_tag(in_Maybe_3);
	decref(in_Maybe_3);
	INT v7 = WRAP_I63(0LL);
	INT v8 = i64_to_int(v6);
	bool v9 = int_eq(v8, v7);
	bool v10 = !v9;
	TUP* branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		branch_Token_12 = in_Token_2;
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
	} else {
		STR* v13;
		STRLIT(v13, "Expected buffer name.", 21);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v13);
	}
	*out_Token_5 = branch_Token_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static VAL mw_std_maybe_Maybe_1_elseZAsk_1_sp8 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Token_5) {
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			branch_z_x1_9 = v10;
			branch_Token_8 = in_Token_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "Expected buffer size.", 21);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Token_5 = branch_Token_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_z_x1_9;
}
static VAL mw_std_list_List_1_filterZ_some_1_sp6 (VAL in_List_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4;
	mw_std_list_List_1_buildZBang(v3, &v4);
	bool v5 = true;
	VAL v6 = v4;
	VAL v7 = in_List_1;
	bool v8 = v5;
	bool v9 = v5;
	while (v9) {
		VAL v10 = v6;
		VAL v11 = v7;
		bool v12 = v8;
		VAL branch_ZPlusLister_13;
		VAL branch_List_14;
		bool branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL v18 = mw_mirth_type_CTypeStackPart_labelZAsk(v17);
				VAL v19;
				mw_std_maybe_Maybe_1_for_1_sp9(v10, v18, &v19);
				bool v20 = true;
				branch_Bool_15 = v20;
				branch_List_14 = v16;
				branch_ZPlusLister_13 = v19;
			} break;
			case 0LL: { // Nil
				VAL v21 = MKI64(0LL /* Nil */);
				bool v22 = false;
				branch_Bool_15 = v22;
				branch_List_14 = v21;
				branch_ZPlusLister_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusLister_13;
	}
	decref(v7);
	VAL v23 = mw_std_list_ZPlusLister_1_doneZBang(v6);
	return v23;
}
static void mw_std_maybe_Maybe_1_else_1_sp17 (TUP* in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, TUP* *out_ZPlusMirth_4, uint64_t *out_Token_5) {
	int64_t v6 = get_data_tag(in_Maybe_3);
	decref(in_Maybe_3);
	INT v7 = WRAP_I63(0LL);
	INT v8 = i64_to_int(v6);
	bool v9 = int_eq(v8, v7);
	bool v10 = !v9;
	TUP* branch_ZPlusMirth_11;
	uint64_t branch_Token_12;
	if (v10) {
		branch_Token_12 = in_Token_2;
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
	} else {
		STR* v13;
		STRLIT(v13, "expected type constructor", 25);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_ZPlusMirth_1, in_Token_2, v13);
	}
	*out_Token_5 = branch_Token_12;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_11;
}
static STR* mw_std_prelude_unsafe_1_sp27 (INT in_Sizze_1, STR* in_Str_2) {
	int64_t v4 = 0LL /* +Unsafe */;
	STR* v5 = mw_std_prim_Str_dropZ_bytes(in_Sizze_1, in_Str_2);
	return v5;
}
static STR* mw_std_prelude_unsafe_1_sp28 (INT in_Int_1) {
	int64_t v3 = 0LL /* +Unsafe */;
	STR* v4 = mw_argZ_parser_parse_readZ_fromZ_argv(in_Int_1);
	return v4;
}
static void mb_mirth_options_parseZ_optionsZBang_1 (void) {
	VAL v0 = pop_value();
	VAL v1 = pop_value();
	TUP* v2 = value_tup(pop_value(), 6);
	TUP* r3 = value_tup(pop_resource(), 2);
	TUP* v4;
	TUP* v5 = mw_mirth_options_compilerZ_parseZ_args(r3, v2, v1, v0, &v4);
	push_resource(MKTUP(v4, 2));
	push_value(MKTUP(v5, 6));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_mirth_ZPlusMirth_moduleZ_statementZ_errorZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_mirth_ZPlusMirth_importZ_statementZ_errorZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_2 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_patchZBang(r1, v0, &v3);
	push_resource(MKI64(0));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_3 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_alias_elabZ_aliasZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_4 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_inlineZBang(r1, v0, &v3);
	push_resource(MKI64(0));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_5 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_defZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_6 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_defZ_missingZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_7 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_defZ_typeZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_8 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_externalZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_9 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_buffer_elabZ_bufferZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_10 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_table_elabZ_tableZBang(r1, v0, &v3);
	push_resource(MKI64(0));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_11 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_table_elabZ_fieldZBang(r1, v0, &v3);
	push_resource(MKI64(r2));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_12 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_dataZBang(r1, v0, &v3);
	push_value(MKU64(v4));
	push_resource(MKI64(0));
	push_resource(MKTUP(v3, 10));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_13 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_structZBang(r1, v0, &v3);
	push_value(MKU64(v4));
	push_resource(MKI64(0));
	push_resource(MKTUP(v3, 10));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_14 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_embedZ_strZBang(r1, v0, &v3);
	push_resource(MKI64(0));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_15 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_maxZ_mirthZ_revisionZBang(r1, v0, &v3);
	push_resource(MKI64(0));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_16 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	int64_t r2 = (pop_resource(), 0);
	TUP* v3;
	uint64_t v4 = mw_mirth_elab_elabZ_minZ_mirthZ_revisionZBang(r1, v0, &v3);
	push_resource(MKI64(0));
	push_resource(MKTUP(v3, 10));
	push_value(MKU64(v4));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_17 (void) {
	TUP* r0 = value_tup(pop_resource(), 7);
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	TUP* v3;
	mw_mirth_elab_ZPlusAB_elabZ_atomZ_matchZBang(r1, r0, &v2, &v3);
	push_resource(MKTUP(v2, 10));
	push_resource(MKTUP(v3, 7));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_18 (void) {
	TUP* r0 = value_tup(pop_resource(), 7);
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	TUP* v3;
	mw_mirth_elab_elabZ_atomZ_lambdaZBang(r1, r0, &v2, &v3);
	push_resource(MKTUP(v2, 10));
	push_resource(MKTUP(v3, 7));
}
static void mb_mirth_mirth_ZPlusMirth_initZ_macrosZBang_19 (void) {
	TUP* r0 = value_tup(pop_resource(), 7);
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	TUP* v3;
	mw_mirth_elab_ZPlusAB_elabZ_ldipZBang(r1, r0, &v2, &v3);
	push_resource(MKTUP(v2, 10));
	push_resource(MKTUP(v3, 7));
}
static void mb_mirth_elab_elabZ_defZ_head_3 (void) {
	TUP* r0 = value_tup(pop_resource(), 10);
	uint64_t v1 = value_u64(pop_value());
	TUP* v2;
	TUP* v3 = mw_mirth_elab_elabZ_defZ_qnameZ_undefined(r0, v1, &v2);
	push_resource(MKTUP(v2, 10));
	push_value(MKTUP(v3, 3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp1_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	TUP* v3 = mw_mirth_word_Word_arrow(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_arrow_Arrow_ctxZ_type(v3, &v4);
	TUP* v6 = tup_new(2);
	v6->size = 2;
	v6->cells[1] = MKTUP(v4, 2);
	v6->cells[0] = v5;
	push_resource(MKTUP(v2, 10));
	push_value(MKTUP(v6, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp2_2 (void) {
	TUP* v0 = value_tup(pop_value(), 3);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	tup_decref_outer(v0,3);
	TUP* v5;
	TUP* v6;
	uint64_t v7;
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	VAL v11;
	VAL v12;
	mtp_mirth_type_ArrowType_ArrowType(v6, &v11, &v12);
	incref(v11);
	VAL v13 = MKI64(0LL /* Nil */);
	TUP* v14 = mtw_mirth_arrow_Arrow_Arrow(v8, v7, v7, v10, v11, v11, v13);
	TUP* v15;
	TUP* v16;
	mw_mirth_specializzer_synthZ_specializzedZ_wordZBang(v5, v14, value_tup(v2, 2), value_u64(v3), &v15, &v16);
	TUP* v17;
	TUP* v18;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v15, v16, v12, &v17, &v18);
	TUP* v19;
	TUP* v20 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v17, v18, v9, &v19);
	push_resource(MKTUP(v19, 10));
	push_value(MKTUP(v20, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp3_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_arrow_Block_ctx(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_arrow_Block_dom(v2, v0, &v4);
	TUP* v6;
	VAL v7 = mw_mirth_arrow_Block_cod(v4, v0, &v6);
	TUP* v8;
	uint64_t v9 = mw_mirth_arrow_Block_token(v6, v0, &v8);
	TUP* v10;
	VAL v11 = mw_mirth_arrow_Block_home(v8, v0, &v10);
	TUP* v12;
	TUP* v13 = mw_mirth_elab_elabZ_arrowZ_homZBang(v10, v3, v5, v7, v9, v11, &v12);
	push_resource(MKTUP(v12, 10));
	push_value(MKTUP(v13, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp4_6 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_data_Data_isZ_unitZAsk(r1, v0, &v2);
	int64_t v4 = get_data_tag(v3);
	decref(v3);
	INT v5 = WRAP_I63(0LL);
	INT v6 = i64_to_int(v4);
	bool v7 = int_eq(v6, v5);
	bool v8 = !v7;
	TUP* branch_ZPlusMirth_9;
	uint64_t branch_Data_10;
	VAL branch_Maybe_11;
	if (v8) {
		STR* v12;
		STRLIT(v12, "void", 4);
		VAL v13 = mtw_mirth_type_CType_Void(v12);
		VAL v14 = mtw_std_maybe_Maybe_1_Some(v13);
		branch_Maybe_11 = v14;
		branch_Data_10 = v0;
		branch_ZPlusMirth_9 = v2;
	} else {
		TUP* v15;
		bool v16 = mw_mirth_data_Data_isZ_enumZAsk(v2, v0, &v15);
		uint64_t branch_Data_17;
		TUP* branch_ZPlusMirth_18;
		VAL branch_Maybe_19;
		if (v16) {
			STR* v20;
			STRLIT(v20, "int", 3);
			VAL v21 = mtw_mirth_type_CType_Int(v20);
			VAL v22 = mtw_std_maybe_Maybe_1_Some(v21);
			branch_Maybe_19 = v22;
			branch_ZPlusMirth_18 = v15;
			branch_Data_17 = v0;
		} else {
			TUP* v23;
			VAL v24 = mw_mirth_data_Data_semiZ_transparentZAsk(v15, v0, &v23);
			TUP* branch_ZPlusMirth_25;
			VAL branch_Maybe_26;
			switch (get_data_tag(v24)) {
				case 1LL: { // Some
					VAL v27 = mtp_std_maybe_Maybe_1_Some(v24);
					VAL v28 = VTUP(v27)->cells[1];
					incref(v28);
					decref(v27);
					TUP* branch_ZPlusMirth_29;
					VAL branch_Maybe_30;
					switch (get_data_tag(v28)) {
						case 0LL: { // Cons
							VAL v31 = mtp_mirth_type_StackTypePart_Cons(v28);
							TUP* v32;
							VAL v33 = mw_mirth_type_Type_ctypeZAsk(v23, v31, &v32);
							branch_Maybe_30 = v33;
							branch_ZPlusMirth_29 = v32;
						} break;
						case 1LL: { // ConsLabel
							uint64_t v34;
							VAL v35 = mtp_mirth_type_StackTypePart_ConsLabel(v28, &v34);
							TUP* v36;
							VAL v37 = mw_mirth_type_Type_ctypeZAsk(v23, v35, &v36);
							branch_Maybe_30 = v37;
							branch_ZPlusMirth_29 = v36;
						} break;
						case 2LL: { // With
							VAL v38 = mtp_mirth_type_StackTypePart_With(v28);
							TUP* v39;
							VAL v40 = mw_mirth_type_Resource_ctypeZAsk(v23, v38, &v39);
							branch_Maybe_30 = v40;
							branch_ZPlusMirth_29 = v39;
						} break;
						case 3LL: { // WithLabel
							uint64_t v41;
							VAL v42 = mtp_mirth_type_StackTypePart_WithLabel(v28, &v41);
							TUP* v43;
							VAL v44 = mw_mirth_type_Resource_ctypeZAsk(v23, v42, &v43);
							branch_Maybe_30 = v44;
							branch_ZPlusMirth_29 = v43;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Maybe_26 = branch_Maybe_30;
					branch_ZPlusMirth_25 = branch_ZPlusMirth_29;
				} break;
				case 0LL: { // None
					VAL v45 = MKI64(0LL /* None */);
					branch_Maybe_26 = v45;
					branch_ZPlusMirth_25 = v23;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_19 = branch_Maybe_26;
			branch_ZPlusMirth_18 = branch_ZPlusMirth_25;
			branch_Data_17 = v0;
		}
		branch_Maybe_11 = branch_Maybe_19;
		branch_Data_10 = branch_Data_17;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_18;
	}
	push_resource(MKTUP(branch_ZPlusMirth_9, 10));
	push_value(branch_Maybe_11);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp5_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	TUP* v3;
	VAL v4 = mw_mirth_data_Tag_ctxZ_type(r1, v0, &v2, &v3);
	TUP* v5 = mw_mirth_type_ArrowType_invert(v3);
	TUP* v6 = tup_new(2);
	v6->size = 2;
	v6->cells[1] = MKTUP(v5, 2);
	v6->cells[0] = v4;
	push_resource(MKTUP(v2, 10));
	push_value(MKTUP(v6, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp6_2 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	TUP* v3 = mw_mirth_word_Word_type(r1, v0, &v2);
	VAL v4 = v3->cells[0];
	incref(v4);
	decref(MKTUP(v3, 2));
	TUP* v5;
	VAL v6 = mw_mirth_type_StackType_topZ_typeZAsk(v2, v4, &v5);
	TUP* branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "logic error: expected parameter", 31);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v5, v10);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v13;
	VAL v14 = mw_mirth_type_Type_arrowZAsk(branch_ZPlusMirth_7, branch_z_x1_8, &v13);
	TUP* branch_ZPlusMirth_15;
	VAL branch_z_x1_16;
	switch (get_data_tag(v14)) {
		case 1LL: { // Some
			VAL v17 = mtp_std_maybe_Maybe_1_Some(v14);
			branch_z_x1_16 = v17;
			branch_ZPlusMirth_15 = v13;
		} break;
		case 0LL: { // None
			STR* v18;
			STRLIT(v18, "logic error: expected arrow", 27);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v13, v18);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v21;
	STRLIT(v21, "f", 1);
	TUP* v22;
	uint64_t v23 = mw_std_prim_Str_ZToName(branch_ZPlusMirth_15, v21, &v22);
	TUP* v24;
	uint64_t v25 = mw_mirth_var_Var_NewAutoRunZBang(v22, value_tup(branch_z_x1_16, 2), v23, &v24);
	VAL v26 = MKI64(0LL /* None */);
	TUP* v27 = mtw_mirth_word_Param_Param(v25, v26);
	VAL v28 = MKI64(0LL /* Nil */);
	VAL v29 = mw_std_list_List_1_cons(MKTUP(v27, 2), v28);
	push_resource(MKTUP(v24, 10));
	push_value(v29);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp7_11 (void) {
	TUP* v0 = value_tup(pop_value(), 4);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	VAL v5 = v0->cells[3];
	tup_decref_outer(v0,4);
	incref(v5);
	TUP* v6;
	TUP* v7;
	uint64_t v8;
	VAL v9;
	uint64_t v10;
	VAL v11 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v5), &v6, &v7, &v8, &v9, &v10);
	VAL v12;
	VAL v13;
	mtp_mirth_type_ArrowType_ArrowType(v7, &v12, &v13);
	incref(v12);
	VAL v14 = MKI64(0LL /* Nil */);
	TUP* v15 = mtw_mirth_arrow_Arrow_Arrow(v9, v8, v8, v11, v12, v12, v14);
	TUP* v16;
	VAL v17 = mw_mirth_word_Word_params(v6, value_u64(v5), &v16);
	VAL v18 = mw_std_list_List_1_map_1_sp16(v17);
	incref(v18);
	incref(v13);
	TUP* v19;
	uint64_t v20 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v15, &v19);
	incref(v18);
	TUP* v21;
	VAL v22 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v19, &v21);
	TUP* v23;
	VAL v24 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v21, &v23);
	TUP* v25;
	TUP* v26;
	VAL v27;
	VAL v28 = mw_std_list_List_1_reverseZ_for_1_sp10(v16, v23, v22, v24, v18, &v25, &v26, &v27);
	TUP* v29 = mw_mirth_type_TZ_ZTo(v27, v13);
	TUP* v30;
	VAL v31 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v26, &v30);
	VAL v32;
	VAL v33;
	mtp_mirth_type_ArrowType_ArrowType(v29, &v32, &v33);
	incref(v32);
	VAL v34 = MKI64(0LL /* Nil */);
	TUP* v35 = mtw_mirth_arrow_Arrow_Arrow(v31, v20, v20, v28, v32, v32, v34);
	VAL v36 = mw_std_list_List_1_singleZAsk(v18);
	TUP* branch_ZPlusMirth_37;
	VAL branch_z_x1_38;
	VAL branch_z_x2_39;
	switch (get_data_tag(v36)) {
		case 1LL: { // Some
			VAL v40 = mtp_std_maybe_Maybe_1_Some(v36);
			branch_z_x2_39 = v40;
			branch_z_x1_38 = MKTUP(v35, 7);
			branch_ZPlusMirth_37 = v25;
		} break;
		case 0LL: { // None
			STR* v41;
			STRLIT(v41, "Expected one parameter.", 23);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v25, v41);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v44;
	bool v45 = mw_mirth_data_Data_isZ_resourceZAsk(branch_ZPlusMirth_37, value_u64(v2), &v44);
	TUP* branch_ZPlusMirth_46;
	TUP* branch_ZPlusAB_47;
	if (v45) {
		VAL v48 = MKI64(0LL /* Nil */);
		TUP* v49;
		TUP* v50;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v44, value_tup(branch_z_x1_38, 7), v48, value_u64(v3), &v49, &v50);
		TUP* v51;
		VAL v52 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v50, &v51);
		TUP* v53;
		VAL v54 = mw_mirth_type_StackType_forceZ_withZAskZBang(v49, v52, &v53);
		VAL v55 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v54);
		TUP* v56;
		VAL v57 = mw_mirth_type_StackType_FreshZBang(v53, &v56);
		TUP* v58 = mw_mirth_type_TZ_ZTo(v55, v57);
		TUP* v59;
		VAL v60 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v51, &v59);
		TUP* v61;
		uint64_t v62 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v59, &v61);
		TUP* v63;
		VAL v64 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v61, &v63);
		VAL v65;
		VAL v66;
		mtp_mirth_type_ArrowType_ArrowType(v58, &v65, &v66);
		incref(v65);
		VAL v67 = MKI64(0LL /* Nil */);
		TUP* v68 = mtw_mirth_arrow_Arrow_Arrow(v64, v62, v62, v60, v65, v65, v67);
		TUP* v69;
		TUP* v70;
		mw_mirth_elab_ZPlusAB_abZ_varZBang(v56, v68, value_u64(branch_z_x2_39), &v69, &v70);
		TUP* v71;
		TUP* v72;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v69, v70, v66, &v71, &v72);
		TUP* v73;
		uint64_t v74 = mw_mirth_arrow_Block_newZBang(v71, v72, &v73);
		VAL v75 = MKI64(0LL /* Nil */);
		VAL v76 = mw_std_list_List_1_cons(MKU64(v74), v75);
		int64_t v77 = 6LL /* RDip */;
		TUP* v78;
		TUP* v79;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v73, v63, v76, v77, &v78, &v79);
		VAL v80 = MKI64(0LL /* Nil */);
		TUP* v81;
		TUP* v82;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v78, v79, v80, value_u64(v4), &v81, &v82);
		branch_ZPlusAB_47 = v82;
		branch_ZPlusMirth_46 = v81;
	} else {
		VAL v83 = MKI64(0LL /* Nil */);
		int64_t v84 = 1LL /* Dup */;
		TUP* v85;
		TUP* v86;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v44, value_tup(branch_z_x1_38, 7), v83, v84, &v85, &v86);
		TUP* v87;
		VAL v88 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v86, &v87);
		TUP* v89;
		VAL v90 = mw_mirth_type_StackType_forceZ_consZAskZBang(v85, v88, &v89);
		VAL v91 = mw_std_maybe_Maybe_1_ifZAsk_2_sp49(v90);
		TUP* v92;
		VAL v93 = mw_mirth_type_StackType_FreshZBang(v89, &v92);
		TUP* v94 = mw_mirth_type_TZ_ZTo(v91, v93);
		TUP* v95;
		VAL v96 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v87, &v95);
		TUP* v97;
		uint64_t v98 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v95, &v97);
		TUP* v99;
		VAL v100 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v97, &v99);
		VAL v101;
		VAL v102;
		mtp_mirth_type_ArrowType_ArrowType(v94, &v101, &v102);
		incref(v101);
		VAL v103 = MKI64(0LL /* Nil */);
		TUP* v104 = mtw_mirth_arrow_Arrow_Arrow(v100, v98, v98, v96, v101, v101, v103);
		VAL v105 = MKI64(0LL /* Nil */);
		TUP* v106;
		TUP* v107;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v92, v104, v105, value_u64(v3), &v106, &v107);
		TUP* v108;
		TUP* v109;
		mw_mirth_elab_ZPlusAB_abZ_varZBang(v106, v107, value_u64(branch_z_x2_39), &v108, &v109);
		TUP* v110;
		TUP* v111;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v108, v109, v102, &v110, &v111);
		TUP* v112;
		uint64_t v113 = mw_mirth_arrow_Block_newZBang(v110, v111, &v112);
		VAL v114 = MKI64(0LL /* Nil */);
		VAL v115 = mw_std_list_List_1_cons(MKU64(v113), v114);
		int64_t v116 = 5LL /* Dip */;
		TUP* v117;
		TUP* v118;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v112, v99, v115, v116, &v117, &v118);
		VAL v119 = MKI64(0LL /* Nil */);
		TUP* v120;
		TUP* v121;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v117, v118, v119, value_u64(v4), &v120, &v121);
		branch_ZPlusAB_47 = v121;
		branch_ZPlusMirth_46 = v120;
	}
	TUP* v122;
	TUP* v123;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_46, branch_ZPlusAB_47, v33, &v122, &v123);
	TUP* v124;
	VAL v125 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v30, &v124);
	TUP* v126;
	VAL v127 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v124, &v126);
	TUP* v128;
	uint64_t v129 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v126, &v128);
	TUP* v130 = mtw_mirth_arrow_Lambda_Lambda(v129, v125, v127, v18, v123);
	VAL v131 = mtw_mirth_arrow_Op_Lambda(v130);
	VAL v132 = MKI64(0LL /* Nil */);
	TUP* v133;
	TUP* v134;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v122, v128, v132, v131, &v133, &v134);
	TUP* v135;
	TUP* v136;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v133, v134, v13, &v135, &v136);
	TUP* v137;
	TUP* v138 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v135, v136, v10, &v137);
	push_resource(MKTUP(v137, 10));
	push_value(MKTUP(v138, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp8_1 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v2);
	TUP* v4;
	VAL v5 = mw_mirth_data_Tag_projectZ_inputZ_label(r1, value_u64(v3), value_u64(v2), &v4);
	TUP* branch_ZPlusMirth_6;
	VAL branch_z_x1_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_z_x1_7 = v8;
			branch_ZPlusMirth_6 = v4;
		} break;
		case 0LL: { // None
			STR* v9;
			STRLIT(v9, "logic error: expeted field in tag.", 34);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v4, v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(v2);
	TUP* v12;
	VAL v13 = mw_mirth_data_Tag_outputZ_type(branch_ZPlusMirth_6, value_u64(v2), &v12);
	incref(v2);
	TUP* v14;
	VAL v15 = mw_mirth_data_Tag_ctx(v12, value_u64(v2), &v14);
	STR* v16;
	STRLIT(v16, "*x", 2);
	TUP* v17;
	VAL v18;
	VAL v19 = mw_mirth_type_StackType_NewInCtx(v14, v15, v16, &v17, &v18);
	STR* v20;
	STRLIT(v20, "*y", 2);
	TUP* v21;
	VAL v22;
	VAL v23 = mw_mirth_type_StackType_NewInCtx(v17, v19, v20, &v21, &v22);
	incref(v18);
	incref(v13);
	VAL v24 = mw_mirth_type_TZMulZPlus(v18, v13);
	incref(v18);
	incref(branch_z_x1_7);
	VAL v25 = mw_mirth_type_TZMulZPlus(v18, branch_z_x1_7);
	incref(v22);
	incref(branch_z_x1_7);
	VAL v26 = mw_mirth_type_TZMulZPlus(v22, branch_z_x1_7);
	TUP* v27 = mw_mirth_type_TZ_ZTo(v25, v26);
	VAL v28 = mtw_mirth_type_Type_Arrow(v27);
	VAL v29 = mw_mirth_type_TZMul(v24, v28);
	incref(v22);
	incref(v13);
	VAL v30 = mw_mirth_type_TZMulZPlus(v22, v13);
	TUP* v31 = mw_mirth_type_TZ_ZTo(v29, v30);
	TUP* v32 = tup_new(2);
	v32->size = 2;
	v32->cells[1] = MKTUP(v31, 2);
	v32->cells[0] = v23;
	decref(v22);
	decref(v18);
	decref(v13);
	decref(branch_z_x1_7);
	decref(v2);
	push_resource(MKTUP(v21, 10));
	push_value(MKTUP(v32, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp9_5 (void) {
	TUP* v0 = value_tup(pop_value(), 3);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	tup_decref_outer(v0,3);
	TUP* v5;
	TUP* v6;
	uint64_t v7;
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	VAL v11;
	VAL v12;
	mtp_mirth_type_ArrowType_ArrowType(v6, &v11, &v12);
	incref(v11);
	VAL v13 = MKI64(0LL /* Nil */);
	TUP* v14 = mtw_mirth_arrow_Arrow_Arrow(v8, v7, v7, v10, v11, v11, v13);
	TUP* v15;
	VAL v16 = mw_mirth_data_Tag_projectZ_tagZ_field(v5, value_u64(v3), value_u64(v2), &v15);
	TUP* v17;
	VAL v18;
	VAL v19 = mw_std_maybe_Maybe_1_unwrap_1_sp43(v15, MKTUP(v14, 7), v16, &v17, &v18);
	VAL v20 = mtw_mirth_arrow_Op_DataSetLabel(value_tup(v19, 3));
	VAL v21 = MKI64(0LL /* Nil */);
	TUP* v22;
	TUP* v23;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, value_tup(v18, 7), v21, v20, &v22, &v23);
	TUP* v24;
	TUP* v25;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v22, v23, v12, &v24, &v25);
	TUP* v26;
	TUP* v27 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v24, v25, v9, &v26);
	push_resource(MKTUP(v26, 10));
	push_value(MKTUP(v27, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp10_3 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v2);
	TUP* v4;
	VAL v5 = mw_mirth_data_Tag_ctx(r1, value_u64(v2), &v4);
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_projectZ_tagZ_field(v4, value_u64(v3), value_u64(v2), &v6);
	TUP* v8;
	VAL v9 = mw_std_maybe_Maybe_1_unwrap_1_sp44(v6, v7, &v8);
	TUP* v10;
	TUP* v11 = mw_mirth_elab_dataZ_setZ_labelZ_type(v8, value_tup(v9, 3), &v10);
	TUP* v12 = tup_new(2);
	v12->size = 2;
	v12->cells[1] = MKTUP(v11, 2);
	v12->cells[0] = v5;
	push_resource(MKTUP(v10, 10));
	push_value(MKTUP(v12, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp11_5 (void) {
	TUP* v0 = value_tup(pop_value(), 3);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	tup_decref_outer(v0,3);
	TUP* v5;
	TUP* v6;
	uint64_t v7;
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	VAL v11;
	VAL v12;
	mtp_mirth_type_ArrowType_ArrowType(v6, &v11, &v12);
	incref(v11);
	VAL v13 = MKI64(0LL /* Nil */);
	TUP* v14 = mtw_mirth_arrow_Arrow_Arrow(v8, v7, v7, v10, v11, v11, v13);
	TUP* v15;
	VAL v16 = mw_mirth_data_Tag_projectZ_tagZ_field(v5, value_u64(v3), value_u64(v2), &v15);
	TUP* v17;
	VAL v18;
	VAL v19 = mw_std_maybe_Maybe_1_unwrap_1_sp43(v15, MKTUP(v14, 7), v16, &v17, &v18);
	VAL v20 = mtw_mirth_arrow_Op_DataGetLabel(value_tup(v19, 3));
	VAL v21 = MKI64(0LL /* Nil */);
	TUP* v22;
	TUP* v23;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, value_tup(v18, 7), v21, v20, &v22, &v23);
	TUP* v24;
	TUP* v25;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v22, v23, v12, &v24, &v25);
	TUP* v26;
	TUP* v27 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v24, v25, v9, &v26);
	push_resource(MKTUP(v26, 10));
	push_value(MKTUP(v27, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp12_3 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v2);
	TUP* v4;
	VAL v5 = mw_mirth_data_Tag_ctx(r1, value_u64(v2), &v4);
	TUP* v6;
	VAL v7 = mw_mirth_data_Tag_projectZ_tagZ_field(v4, value_u64(v3), value_u64(v2), &v6);
	TUP* v8;
	VAL v9 = mw_std_maybe_Maybe_1_unwrap_1_sp44(v6, v7, &v8);
	TUP* v10;
	TUP* v11 = mw_mirth_elab_dataZ_getZ_labelZ_type(v8, value_tup(v9, 3), &v10);
	TUP* v12 = tup_new(2);
	v12->size = 2;
	v12->cells[1] = MKTUP(v11, 2);
	v12->cells[0] = v5;
	push_resource(MKTUP(v10, 10));
	push_value(MKTUP(v12, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp13_9 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	TUP* v4;
	TUP* v5;
	uint64_t v6;
	VAL v7;
	uint64_t v8;
	VAL v9 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v3), &v4, &v5, &v6, &v7, &v8);
	VAL v10;
	VAL v11;
	mtp_mirth_type_ArrowType_ArrowType(v5, &v10, &v11);
	incref(v10);
	VAL v12 = MKI64(0LL /* Nil */);
	TUP* v13 = mtw_mirth_arrow_Arrow_Arrow(v7, v6, v6, v9, v10, v10, v12);
	incref(v2);
	TUP* v14;
	TUP* v15 = mw_mirth_data_Tag_type(v4, value_u64(v2), &v14);
	VAL v16 = v15->cells[0];
	incref(v16);
	decref(MKTUP(v15, 2));
	incref(v2);
	TUP* v17;
	uint64_t v18 = mw_mirth_data_Tag_data(v14, value_u64(v2), &v17);
	TUP* v19;
	VAL v20 = mw_mirth_data_Data_headZAsk(v17, v18, &v19);
	TUP* branch_ZPlusMirth_21;
	VAL branch_z_x1_22;
	VAL branch_z_x2_23;
	switch (get_data_tag(v20)) {
		case 1LL: { // Some
			VAL v24 = mtp_std_maybe_Maybe_1_Some(v20);
			branch_z_x2_23 = v24;
			branch_z_x1_22 = MKTUP(v13, 7);
			branch_ZPlusMirth_21 = v19;
		} break;
		case 0LL: { // None
			STR* v25;
			STRLIT(v25, "Missing data token info", 23);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v19, v25);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x2_23);
	TUP* v28;
	VAL v29 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(value_tup(branch_z_x1_22, 7), &v28);
	TUP* v30;
	VAL v31 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v28, &v30);
	TUP* v32;
	uint64_t v33 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v30, &v32);
	TUP* v34;
	VAL v35 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v32, &v34);
	VAL v36 = MKI64(0LL /* Nil */);
	TUP* v37;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v35, v33, value_u64(branch_z_x2_23), v29, v31, v16, v36, &v37);
	incref(branch_z_x2_23);
	VAL v38 = v37->cells[0];
	incref(v38);
	incref(branch_z_x2_23);
	VAL v39 = v37->cells[3];
	incref(v39);
	incref(v39);
	VAL v40 = MKI64(0LL /* Nil */);
	VAL v41 = v37->cells[4];
	incref(v41);
	incref(v41);
	VAL v42 = MKI64(0LL /* Nil */);
	TUP* v43 = mtw_mirth_match_Pattern_Pattern(v38, value_u64(branch_z_x2_23), value_u64(branch_z_x2_23), v39, v39, v40, v41, v41, v42);
	TUP* v44;
	mw_mirth_match_Pattern_thaw(v43, &v44);
	incref(v2);
	TUP* v45;
	TUP* v46;
	mw_mirth_match_ZPlusPattern_tagZBang(branch_ZPlusMirth_21, v44, value_u64(v2), &v45, &v46);
	TUP* v47 = mw_mirth_match_ZPlusPattern_freezze(v46);
	incref(MKTUP(v47, 9));
	VAL v48 = v47->cells[4];
	incref(v48);
	decref(MKTUP(v47, 9));
	incref(MKTUP(v47, 9));
	VAL v49 = mw_mirth_match_Pattern_dom(v47);
	VAL v50 = v37->cells[5];
	incref(v50);
	TUP* v51 = mw_mirth_type_TZ_ZTo(v49, v50);
	VAL v52 = v37->cells[0];
	incref(v52);
	VAL v53;
	VAL v54;
	mtp_mirth_type_ArrowType_ArrowType(v51, &v53, &v54);
	incref(branch_z_x2_23);
	incref(v53);
	VAL v55 = MKI64(0LL /* Nil */);
	TUP* v56 = mtw_mirth_arrow_Arrow_Arrow(v52, value_u64(branch_z_x2_23), value_u64(branch_z_x2_23), v48, v53, v53, v55);
	TUP* v57;
	TUP* v58;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v45, v56, v54, &v57, &v58);
	TUP* v59 = mtw_mirth_match_Case_Case(v47, v58);
	TUP* v60;
	TUP* v61;
	mw_mirth_match_ZPlusMatch_addZ_case(v57, v37, v59, &v60, &v61);
	TUP* v62 = mw_mirth_match_ZPlusMatch_freezze(v61);
	VAL v63 = mtw_mirth_arrow_Op_Match(v62);
	VAL v64 = MKI64(0LL /* Nil */);
	TUP* v65;
	TUP* v66;
	mw_mirth_elab_ZPlusAB_abZ_opZBang(v60, v34, v64, v63, &v65, &v66);
	TUP* v67;
	TUP* v68;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v65, v66, v11, &v67, &v68);
	TUP* v69;
	TUP* v70 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v67, v68, v8, &v69);
	decref(v2);
	push_resource(MKTUP(v69, 10));
	push_value(MKTUP(v70, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp14_3 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	uint64_t v5 = mw_mirth_data_Tag_data(r1, value_u64(v3), &v4);
	TUP* v6;
	VAL v7 = mw_mirth_data_Data_params(v4, v5, &v6);
	VAL v8 = mw_std_list_List_1_ZToCtx(v7);
	bool v9 = true;
	bool v10 = false;
	TUP* v11;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v8, value_u64(v2), v10, v9, &v11);
	VAL v12 = mw_mirth_type_T0();
	incref(v3);
	TUP* v13;
	uint64_t v14 = mw_mirth_data_Tag_data(v6, value_u64(v3), &v13);
	TUP* v15;
	VAL v16 = mw_mirth_data_Data_fullZ_type(v13, v14, &v15);
	VAL v17 = mw_mirth_type_TZMulZPlus(v12, v16);
	TUP* v18;
	VAL v19 = mw_mirth_data_Tag_sigZAsk(v15, value_u64(v3), &v18);
	VAL branch_StackType_20;
	TUP* branch_ZPlusMirth_21;
	TUP* branch_ZPlusTypeElab_22;
	VAL branch_StackType_23;
	switch (get_data_tag(v19)) {
		case 0LL: { // None
			VAL v24 = mw_mirth_type_T0();
			branch_StackType_23 = v24;
			branch_ZPlusTypeElab_22 = v11;
			branch_ZPlusMirth_21 = v18;
			branch_StackType_20 = v17;
		} break;
		case 1LL: { // Some
			VAL v25 = mtp_std_maybe_Maybe_1_Some(v19);
			v11->cells[1] = v25;
			VAL v26 = mw_mirth_type_T0();
			TUP* v27;
			TUP* v28;
			VAL v29 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang(v18, v11, v26, &v27, &v28);
			branch_StackType_23 = v29;
			branch_ZPlusTypeElab_22 = v28;
			branch_ZPlusMirth_21 = v27;
			branch_StackType_20 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	TUP* v30 = mw_mirth_type_TZ_ZTo(branch_StackType_23, branch_StackType_20);
	VAL v31 = branch_ZPlusTypeElab_22->cells[0];
	incref(v31);
	TUP* v32 = tup_new(2);
	v32->size = 2;
	v32->cells[1] = MKTUP(v30, 2);
	v32->cells[0] = v31;
	mw_mirth_elab_ZPlusTypeElab_rdrop(branch_ZPlusTypeElab_22);
	push_resource(MKTUP(branch_ZPlusMirth_21, 10));
	push_value(MKTUP(v32, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp15_0 (void) {
	VAL v0 = pop_value();
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_elab_elabZ_dataZ_paramsZBang(r1, v0, &v2);
	push_resource(MKTUP(v2, 10));
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp16_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = mw_mirth_var_Ctx_L0();
	TUP* v3;
	VAL v4 = mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang(r1, v2, v0, &v3);
	push_resource(MKTUP(v3, 10));
	push_value(v4);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp17_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Field_owner(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	VAL v6 = mw_mirth_type_T0();
	TUP* v7;
	VAL v8 = mw_mirth_table_Field_owner(v4, v0, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	TUP* v11;
	VAL v12 = mw_mirth_table_Field_valueZ_type(v9, v0, &v11);
	VAL v13 = mw_mirth_type_TZMul(v10, v12);
	TUP* v14;
	VAL v15 = mw_mirth_table_Field_indexZ_type(v11, v0, &v14);
	VAL v16 = mw_mirth_type_TZMul(v13, v15);
	VAL v17 = mw_mirth_type_T0();
	TUP* v18;
	VAL v19 = mw_mirth_table_Field_owner(v14, v0, &v18);
	TUP* v20;
	VAL v21 = mw_mirth_table_StateOwner_push(v18, v17, v19, &v20);
	TUP* v22 = mw_mirth_type_TZ_ZTo(v16, v21);
	TUP* v23 = tup_new(2);
	v23->size = 2;
	v23->cells[1] = MKTUP(v22, 2);
	v23->cells[0] = v5;
	push_resource(MKTUP(v20, 10));
	push_value(MKTUP(v23, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp18_14 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Field_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		VAL v26 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v27 = mtw_mirth_arrow_Op_Field(value_u64(v2));
		TUP* v28;
		TUP* v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		VAL v30 = MKI64(0LL /* Nil */);
		int64_t v31 = 146LL /* MutSet */;
		TUP* v32;
		TUP* v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		branch_ZPlusAB_25 = v33;
		branch_ZPlusMirth_24 = v32;
		branch_Field_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v34;
		TUP* v35 = mw_mirth_word_Word_type(v17, value_u64(v3), &v34);
		VAL v36 = v35->cells[1];
		incref(v36);
		decref(MKTUP(v35, 2));
		TUP* v37;
		uint64_t v38 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v37);
		incref(v6);
		TUP* v39;
		VAL v40 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v37, &v39);
		TUP* v41;
		VAL v42 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v39, &v41);
		TUP* v43;
		TUP* v44;
		VAL v45;
		VAL v46 = mw_std_list_List_1_reverseZ_for_1_sp10(v34, v41, v40, v42, v6, &v43, &v44, &v45);
		TUP* v47 = mw_mirth_type_TZ_ZTo(v45, v36);
		TUP* v48;
		VAL v49 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v44, &v48);
		VAL v50;
		VAL v51;
		mtp_mirth_type_ArrowType_ArrowType(v47, &v50, &v51);
		incref(v50);
		VAL v52 = MKI64(0LL /* Nil */);
		TUP* v53 = mtw_mirth_arrow_Arrow_Arrow(v49, v38, v38, v46, v50, v50, v52);
		VAL v54 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v55 = mtw_mirth_arrow_Op_Field(value_u64(v2));
		TUP* v56;
		TUP* v57;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v43, v53, v54, v55, &v56, &v57);
		VAL v58 = MKI64(0LL /* Nil */);
		int64_t v59 = 146LL /* MutSet */;
		TUP* v60;
		TUP* v61;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v56, v57, v58, v59, &v60, &v61);
		TUP* v62;
		TUP* v63;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v60, v61, v51, &v62, &v63);
		TUP* v64;
		VAL v65 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v48, &v64);
		TUP* v66;
		VAL v67 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v64, &v66);
		TUP* v68;
		uint64_t v69 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v66, &v68);
		TUP* v70 = mtw_mirth_arrow_Lambda_Lambda(v69, v65, v67, v6, v63);
		VAL v71 = mtw_mirth_arrow_Op_Lambda(v70);
		VAL v72 = MKI64(0LL /* Nil */);
		TUP* v73;
		TUP* v74;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v62, v68, v72, v71, &v73, &v74);
		branch_ZPlusAB_25 = v74;
		branch_ZPlusMirth_24 = v73;
		branch_Field_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v75;
	TUP* v76;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v75, &v76);
	TUP* v77;
	TUP* v78 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v75, v76, v11, &v77);
	decref(branch_List_22);
	push_resource(MKTUP(v77, 10));
	push_value(MKTUP(v78, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp19_3 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	TUP* v4;
	TUP* v5 = mw_mirth_word_Word_type(r1, value_u64(v3), &v4);
	VAL v6 = v5->cells[0];
	incref(v6);
	decref(MKTUP(v5, 2));
	VAL v7 = mw_std_list_List_1_reverse(v2);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9;
	mw_std_list_List_1_buildZBang(v8, &v9);
	bool v10 = true;
	TUP* v11 = v4;
	VAL v12 = v6;
	VAL v13 = v9;
	VAL v14 = v7;
	bool v15 = v10;
	bool v16 = v10;
	while (v16) {
		TUP* v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		VAL v20 = v14;
		bool v21 = v15;
		VAL branch_StackType_22;
		TUP* branch_ZPlusMirth_23;
		VAL branch_ZPlusLister_24;
		VAL branch_List_25;
		bool branch_Bool_26;
		switch (get_data_tag(v20)) {
			case 1LL: { // Cons
				VAL v27;
				VAL v28 = mtp_std_list_List_1_Cons(v20, &v27);
				TUP* v29;
				VAL v30 = mw_mirth_type_StackType_forceZ_consZAskZBang(v17, v18, &v29);
				TUP* branch_ZPlusMirth_31;
				VAL branch_z_x1_32;
				switch (get_data_tag(v30)) {
					case 1LL: { // Some
						VAL v33 = mtp_std_maybe_Maybe_1_Some(v30);
						branch_z_x1_32 = v33;
						branch_ZPlusMirth_31 = v29;
					} break;
					case 0LL: { // None
						STR* v34;
						STRLIT(v34, "[compiler bug] word-new! expected word parameter type in domain.", 64);
						mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v29, v34);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v37 = value_tup(branch_z_x1_32, 2)->cells[0];
				VAL v38 = value_tup(branch_z_x1_32, 2)->cells[1];
				tup_decref_outer(value_tup(branch_z_x1_32, 2),2);
				TUP* v39;
				VAL v40 = mw_mirth_type_Type_arrowZAsk(branch_ZPlusMirth_31, v38, &v39);
				TUP* branch_ZPlusMirth_41;
				VAL branch_z_x1_42;
				switch (get_data_tag(v40)) {
					case 1LL: { // Some
						VAL v43 = mtp_std_maybe_Maybe_1_Some(v40);
						branch_z_x1_42 = v43;
						branch_ZPlusMirth_41 = v39;
					} break;
					case 0LL: { // None
						STR* v44;
						STRLIT(v44, "[compiler bug] word-new! expected word parameter type to be an arrow type.", 74);
						mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v39, v44);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				TUP* v47;
				uint64_t v48 = mw_std_prim_Str_ZToName(branch_ZPlusMirth_41, value_str(v28), &v47);
				TUP* v49;
				uint64_t v50 = mw_mirth_var_Var_NewAutoRunZBang(v47, value_tup(branch_z_x1_42, 2), v48, &v49);
				VAL v51 = MKI64(0LL /* None */);
				TUP* v52 = mtw_mirth_word_Param_Param(v50, v51);
				VAL v53;
				mw_std_list_ZPlusLister_1_pushZBang(MKTUP(v52, 2), v19, &v53);
				bool v54 = true;
				branch_Bool_26 = v54;
				branch_List_25 = v27;
				branch_ZPlusLister_24 = v53;
				branch_ZPlusMirth_23 = v49;
				branch_StackType_22 = v37;
			} break;
			case 0LL: { // Nil
				VAL v55 = MKI64(0LL /* Nil */);
				bool v56 = false;
				branch_Bool_26 = v56;
				branch_List_25 = v55;
				branch_ZPlusLister_24 = v19;
				branch_ZPlusMirth_23 = v17;
				branch_StackType_22 = v18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_26;
		v15 = branch_Bool_26;
		v14 = branch_List_25;
		v13 = branch_ZPlusLister_24;
		v12 = branch_StackType_22;
		v11 = branch_ZPlusMirth_23;
	}
	decref(v14);
	VAL v57 = mw_std_list_ZPlusLister_1_doneZBang(v13);
	VAL v58 = mw_std_list_List_1_reverse(v57);
	decref(v12);
	push_resource(MKTUP(v11, 10));
	push_value(v58);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp20_1 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_Field_namespace(r1, value_u64(v2), &v4);
	decref(v2);
	incref(v3);
	TUP* v6;
	INT v7 = mw_mirth_word_Word_arity(v4, value_u64(v3), &v6);
	TUP* v8;
	uint64_t v9 = mw_mirth_word_Word_name(v6, value_u64(v3), &v8);
	TUP* v10 = mtw_mirth_name_QName_QName(v5, v9, v7);
	push_resource(MKTUP(v8, 10));
	push_value(MKTUP(v10, 3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp21_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Field_owner(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	VAL v6 = mw_mirth_type_T0();
	TUP* v7;
	VAL v8 = mw_mirth_table_Field_owner(v4, v0, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	TUP* v11;
	VAL v12 = mw_mirth_table_Field_indexZ_type(v9, v0, &v11);
	VAL v13 = mw_mirth_type_TZMul(v10, v12);
	VAL v14 = mw_mirth_type_T0();
	TUP* v15;
	VAL v16 = mw_mirth_table_Field_owner(v11, v0, &v15);
	TUP* v17;
	VAL v18 = mw_mirth_table_StateOwner_push(v15, v14, v16, &v17);
	TUP* v19;
	VAL v20 = mw_mirth_table_Field_valueZ_type(v17, v0, &v19);
	VAL v21 = mw_mirth_type_TZMul(v18, v20);
	TUP* v22 = mw_mirth_type_TZ_ZTo(v13, v21);
	TUP* v23 = tup_new(2);
	v23->size = 2;
	v23->cells[1] = MKTUP(v22, 2);
	v23->cells[0] = v5;
	push_resource(MKTUP(v19, 10));
	push_value(MKTUP(v23, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp22_36 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Field_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		incref(v2);
		TUP* v26;
		VAL v27 = mw_mirth_table_Field_default(v17, value_u64(v2), &v26);
		uint64_t v28;
		TUP* v29;
		TUP* v30;
		mw_std_maybe_Maybe_1_ifZAsk_2_sp124(value_u64(v2), v19, v26, v27, &v28, &v29, &v30);
		branch_ZPlusAB_25 = v30;
		branch_ZPlusMirth_24 = v29;
		branch_Field_23 = v28;
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v31;
		TUP* v32 = mw_mirth_word_Word_type(v17, value_u64(v3), &v31);
		VAL v33 = v32->cells[1];
		incref(v33);
		decref(MKTUP(v32, 2));
		TUP* v34;
		uint64_t v35 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v34);
		incref(v6);
		TUP* v36;
		VAL v37 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v34, &v36);
		TUP* v38;
		VAL v39 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v36, &v38);
		TUP* v40;
		TUP* v41;
		VAL v42;
		VAL v43 = mw_std_list_List_1_reverseZ_for_1_sp10(v31, v38, v37, v39, v6, &v40, &v41, &v42);
		TUP* v44 = mw_mirth_type_TZ_ZTo(v42, v33);
		TUP* v45;
		VAL v46 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v41, &v45);
		VAL v47;
		VAL v48;
		mtp_mirth_type_ArrowType_ArrowType(v44, &v47, &v48);
		incref(v47);
		VAL v49 = MKI64(0LL /* Nil */);
		TUP* v50 = mtw_mirth_arrow_Arrow_Arrow(v46, v35, v35, v43, v47, v47, v49);
		incref(v2);
		TUP* v51;
		VAL v52 = mw_mirth_table_Field_default(v40, value_u64(v2), &v51);
		uint64_t v53;
		TUP* v54;
		TUP* v55;
		mw_std_maybe_Maybe_1_ifZAsk_2_sp124(value_u64(v2), v50, v51, v52, &v53, &v54, &v55);
		TUP* v56;
		TUP* v57;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v54, v55, v48, &v56, &v57);
		TUP* v58;
		VAL v59 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v45, &v58);
		TUP* v60;
		VAL v61 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v58, &v60);
		TUP* v62;
		uint64_t v63 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v60, &v62);
		TUP* v64 = mtw_mirth_arrow_Lambda_Lambda(v63, v59, v61, v6, v57);
		VAL v65 = mtw_mirth_arrow_Op_Lambda(v64);
		VAL v66 = MKI64(0LL /* Nil */);
		TUP* v67;
		TUP* v68;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v56, v62, v66, v65, &v67, &v68);
		branch_ZPlusAB_25 = v68;
		branch_ZPlusMirth_24 = v67;
		branch_Field_23 = v53;
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v69;
	TUP* v70;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v69, &v70);
	TUP* v71;
	TUP* v72 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v69, v70, v11, &v71);
	decref(branch_List_22);
	push_resource(MKTUP(v71, 10));
	push_value(MKTUP(v72, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp23_4 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	TUP* v4;
	VAL v5 = mw_mirth_mirth_ZPlusMirth_resolveZ_owner(r1, v3, &v4);
	uint64_t branch_Field_6;
	TUP* branch_ZPlusMirth_7;
	VAL branch_StateOwner_8;
	switch (get_data_tag(v5)) {
		case 1LL: { // Default
			incref(v2);
			TUP* v9;
			VAL v10 = mw_mirth_table_Field_indexZ_type(v4, value_u64(v2), &v9);
			TUP* v11;
			VAL v12 = mw_mirth_type_Type_tyconZAsk(v9, v10, &v11);
			VAL branch_Maybe_13;
			switch (get_data_tag(v12)) {
				case 1LL: { // Some
					VAL v14 = mtp_std_maybe_Maybe_1_Some(v12);
					VAL v15 = mw_mirth_tycon_Tycon_tableZAsk(v14);
					branch_Maybe_13 = v15;
				} break;
				case 0LL: { // None
					VAL v16 = MKI64(0LL /* None */);
					branch_Maybe_13 = v16;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			TUP* branch_ZPlusMirth_17;
			VAL branch_StateOwner_18;
			switch (get_data_tag(branch_Maybe_13)) {
				case 1LL: { // Some
					VAL v19 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_13);
					TUP* v20;
					VAL v21 = mw_mirth_table_Table_owner(v11, value_u64(v19), &v20);
					branch_StateOwner_18 = v21;
					branch_ZPlusMirth_17 = v20;
				} break;
				case 0LL: { // None
					VAL v22 = MKI64(1LL /* Default */);
					branch_StateOwner_18 = v22;
					branch_ZPlusMirth_17 = v11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_StateOwner_8 = branch_StateOwner_18;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_17;
			branch_Field_6 = value_u64(v2);
		} break;
		default: {
			branch_StateOwner_8 = v5;
			branch_ZPlusMirth_7 = v4;
			branch_Field_6 = value_u64(v2);
		} break;
	}
	push_resource(MKTUP(branch_ZPlusMirth_7, 10));
	push_value(branch_StateOwner_8);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp24_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	push_resource(MKTUP(v2, 10));
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp25_1 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	TUP* v4;
	VAL v5 = mw_mirth_table_Field_owner(r1, value_u64(v2), &v4);
	TUP* v6;
	VAL v7 = mw_mirth_table_StateOwner_ctx(v4, v5, &v6);
	TUP* v8;
	VAL v9 = mw_mirth_elab_elabZ_simpleZ_typeZ_atomZBang(v6, v7, value_u64(v3), &v8);
	push_resource(MKTUP(v8, 10));
	push_value(v9);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp26_0 (void) {
	VAL v0 = pop_value();
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_mirth_ZPlusMirth_resolveZ_owner(r1, v0, &v2);
	push_resource(MKTUP(v2, 10));
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp27_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	VAL v6 = mw_mirth_type_Type_STACK();
	STR* v7;
	STRLIT(v7, "*a", 2);
	TUP* v8;
	uint64_t v9;
	VAL v10 = mw_mirth_var_Var_NewInCtx(v4, v5, v6, v7, &v8, &v9);
	VAL v11 = mtw_mirth_type_StackType_Var(v9);
	TUP* v12;
	VAL v13 = mw_mirth_table_Table_owner(v8, v0, &v12);
	TUP* v14;
	VAL v15 = mw_mirth_table_StateOwner_push(v12, v11, v13, &v14);
	incref(v15);
	incref(v15);
	VAL v16 = mtw_mirth_type_Type_Table(v0);
	VAL v17 = mw_mirth_type_TZMul(v15, v16);
	incref(v15);
	TUP* v18 = mw_mirth_type_TZ_ZTo(v17, v15);
	VAL v19 = mtw_mirth_type_Type_Arrow(v18);
	VAL v20 = mw_mirth_type_TZMul(v15, v19);
	TUP* v21 = mw_mirth_type_TZ_ZTo(v20, v15);
	TUP* v22 = tup_new(2);
	v22->size = 2;
	v22->cells[1] = MKTUP(v21, 2);
	v22->cells[0] = v10;
	push_resource(MKTUP(v14, 10));
	push_value(MKTUP(v22, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp28_29 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Table_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		incref(v6);
		VAL v26 = mw_std_list_List_1_singleZAsk(v6);
		VAL v27 = mw_std_maybe_Maybe_1_unwrap_1_sp53(v26);
		uint64_t v28 = 1ULL;
		VAL v29 = mtw_mirth_arrow_PushValue_U64(v28);
		TUP* v30;
		TUP* v31;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v17, v19, v29, &v30, &v31);
		uint64_t v32;
		TUP* v33;
		TUP* v34;
		mw_mirth_elab_ZPlusAB_abZ_whileZBang_2_sp1(value_u64(v27), value_u64(v2), v30, v31, &v32, &v33, &v34);
		VAL v35 = MKI64(0LL /* Nil */);
		int64_t v36 = 2LL /* Drop */;
		TUP* v37;
		TUP* v38;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v33, v34, v35, v36, &v37, &v38);
		branch_ZPlusAB_25 = v38;
		branch_ZPlusMirth_24 = v37;
		branch_Table_23 = v32;
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v39;
		TUP* v40 = mw_mirth_word_Word_type(v17, value_u64(v3), &v39);
		VAL v41 = v40->cells[1];
		incref(v41);
		decref(MKTUP(v40, 2));
		TUP* v42;
		uint64_t v43 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v42);
		incref(v6);
		TUP* v44;
		VAL v45 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v42, &v44);
		TUP* v46;
		VAL v47 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v44, &v46);
		TUP* v48;
		TUP* v49;
		VAL v50;
		VAL v51 = mw_std_list_List_1_reverseZ_for_1_sp10(v39, v46, v45, v47, v6, &v48, &v49, &v50);
		TUP* v52 = mw_mirth_type_TZ_ZTo(v50, v41);
		TUP* v53;
		VAL v54 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v49, &v53);
		VAL v55;
		VAL v56;
		mtp_mirth_type_ArrowType_ArrowType(v52, &v55, &v56);
		incref(v55);
		VAL v57 = MKI64(0LL /* Nil */);
		TUP* v58 = mtw_mirth_arrow_Arrow_Arrow(v54, v43, v43, v51, v55, v55, v57);
		incref(v6);
		VAL v59 = mw_std_list_List_1_singleZAsk(v6);
		VAL v60 = mw_std_maybe_Maybe_1_unwrap_1_sp53(v59);
		uint64_t v61 = 1ULL;
		VAL v62 = mtw_mirth_arrow_PushValue_U64(v61);
		TUP* v63;
		TUP* v64;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v48, v58, v62, &v63, &v64);
		uint64_t v65;
		TUP* v66;
		TUP* v67;
		mw_mirth_elab_ZPlusAB_abZ_whileZBang_2_sp1(value_u64(v60), value_u64(v2), v63, v64, &v65, &v66, &v67);
		VAL v68 = MKI64(0LL /* Nil */);
		int64_t v69 = 2LL /* Drop */;
		TUP* v70;
		TUP* v71;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v66, v67, v68, v69, &v70, &v71);
		TUP* v72;
		TUP* v73;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v70, v71, v56, &v72, &v73);
		TUP* v74;
		VAL v75 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v53, &v74);
		TUP* v76;
		VAL v77 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v74, &v76);
		TUP* v78;
		uint64_t v79 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v76, &v78);
		TUP* v80 = mtw_mirth_arrow_Lambda_Lambda(v79, v75, v77, v6, v73);
		VAL v81 = mtw_mirth_arrow_Op_Lambda(v80);
		VAL v82 = MKI64(0LL /* Nil */);
		TUP* v83;
		TUP* v84;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v72, v78, v82, v81, &v83, &v84);
		branch_ZPlusAB_25 = v84;
		branch_ZPlusMirth_24 = v83;
		branch_Table_23 = v65;
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v85;
	TUP* v86;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v85, &v86);
	TUP* v87;
	TUP* v88 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v85, v86, v11, &v87);
	decref(branch_List_22);
	push_resource(MKTUP(v87, 10));
	push_value(MKTUP(v88, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp29_1 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v2);
	VAL v4 = mtw_mirth_tycon_Tycon_Table(value_u64(v2));
	VAL v5 = mtw_mirth_name_Namespace_Tycon(v4);
	decref(v2);
	incref(v3);
	TUP* v6;
	INT v7 = mw_mirth_word_Word_arity(r1, value_u64(v3), &v6);
	TUP* v8;
	uint64_t v9 = mw_mirth_word_Word_name(v6, value_u64(v3), &v8);
	TUP* v10 = mtw_mirth_name_QName_QName(v5, v9, v7);
	push_resource(MKTUP(v8, 10));
	push_value(MKTUP(v10, 3));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp30_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	VAL v6 = mw_mirth_type_T0();
	TUP* v7;
	VAL v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	VAL v11 = mtw_mirth_type_Type_Table(v0);
	VAL v12 = mw_mirth_type_TZMul(v10, v11);
	incref(v12);
	TUP* v13 = mw_mirth_type_TZ_ZTo(v12, v12);
	TUP* v14 = tup_new(2);
	v14->size = 2;
	v14->cells[1] = MKTUP(v13, 2);
	v14->cells[0] = v5;
	push_resource(MKTUP(v9, 10));
	push_value(MKTUP(v14, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp31_17 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Table_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		VAL v26 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v27 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		TUP* v28;
		TUP* v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		VAL v30 = MKI64(0LL /* Nil */);
		int64_t v31 = 1LL /* Dup */;
		TUP* v32;
		TUP* v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		uint64_t v34 = 0ULL;
		VAL v35 = mtw_mirth_arrow_PushValue_U64(v34);
		TUP* v36;
		TUP* v37;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v32, v33, v35, &v36, &v37);
		VAL v38 = MKI64(0LL /* Nil */);
		int64_t v39 = 38LL /* U64Eq */;
		TUP* v40;
		TUP* v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		TUP* v42;
		TUP* v43;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp2(v40, v41, &v42, &v43);
		VAL v44 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v45 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v46;
		TUP* v47;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v42, v43, v44, v45, &v46, &v47);
		branch_ZPlusAB_25 = v47;
		branch_ZPlusMirth_24 = v46;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v48;
		TUP* v49 = mw_mirth_word_Word_type(v17, value_u64(v3), &v48);
		VAL v50 = v49->cells[1];
		incref(v50);
		decref(MKTUP(v49, 2));
		TUP* v51;
		uint64_t v52 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v51);
		incref(v6);
		TUP* v53;
		VAL v54 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v51, &v53);
		TUP* v55;
		VAL v56 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v53, &v55);
		TUP* v57;
		TUP* v58;
		VAL v59;
		VAL v60 = mw_std_list_List_1_reverseZ_for_1_sp10(v48, v55, v54, v56, v6, &v57, &v58, &v59);
		TUP* v61 = mw_mirth_type_TZ_ZTo(v59, v50);
		TUP* v62;
		VAL v63 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v58, &v62);
		VAL v64;
		VAL v65;
		mtp_mirth_type_ArrowType_ArrowType(v61, &v64, &v65);
		incref(v64);
		VAL v66 = MKI64(0LL /* Nil */);
		TUP* v67 = mtw_mirth_arrow_Arrow_Arrow(v63, v52, v52, v60, v64, v64, v66);
		VAL v68 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v69 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		TUP* v70;
		TUP* v71;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v57, v67, v68, v69, &v70, &v71);
		VAL v72 = MKI64(0LL /* Nil */);
		int64_t v73 = 1LL /* Dup */;
		TUP* v74;
		TUP* v75;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v70, v71, v72, v73, &v74, &v75);
		uint64_t v76 = 0ULL;
		VAL v77 = mtw_mirth_arrow_PushValue_U64(v76);
		TUP* v78;
		TUP* v79;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v74, v75, v77, &v78, &v79);
		VAL v80 = MKI64(0LL /* Nil */);
		int64_t v81 = 38LL /* U64Eq */;
		TUP* v82;
		TUP* v83;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v78, v79, v80, v81, &v82, &v83);
		TUP* v84;
		TUP* v85;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp2(v82, v83, &v84, &v85);
		VAL v86 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v87 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v88;
		TUP* v89;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v84, v85, v86, v87, &v88, &v89);
		TUP* v90;
		TUP* v91;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v88, v89, v65, &v90, &v91);
		TUP* v92;
		VAL v93 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v62, &v92);
		TUP* v94;
		VAL v95 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v92, &v94);
		TUP* v96;
		uint64_t v97 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v94, &v96);
		TUP* v98 = mtw_mirth_arrow_Lambda_Lambda(v97, v93, v95, v6, v91);
		VAL v99 = mtw_mirth_arrow_Op_Lambda(v98);
		VAL v100 = MKI64(0LL /* Nil */);
		TUP* v101;
		TUP* v102;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v90, v96, v100, v99, &v101, &v102);
		branch_ZPlusAB_25 = v102;
		branch_ZPlusMirth_24 = v101;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v103;
	TUP* v104;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v103, &v104);
	TUP* v105;
	TUP* v106 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v103, v104, v11, &v105);
	decref(branch_List_22);
	push_resource(MKTUP(v105, 10));
	push_value(MKTUP(v106, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp32_25 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Table_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		VAL v26 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v27 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		TUP* v28;
		TUP* v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		VAL v30 = MKI64(0LL /* Nil */);
		int64_t v31 = 1LL /* Dup */;
		TUP* v32;
		TUP* v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		incref(v2);
		TUP* v34;
		uint64_t v35 = mw_mirth_table_Table_numZ_buffer(v32, value_u64(v2), &v34);
		TUP* v36;
		TUP* v37;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v34, v33, v35, &v36, &v37);
		VAL v38 = MKI64(0LL /* Nil */);
		int64_t v39 = 36LL /* U64Get */;
		TUP* v40;
		TUP* v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		VAL v42 = MKI64(0LL /* Nil */);
		int64_t v43 = 39LL /* U64Lt */;
		TUP* v44;
		TUP* v45;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v40, v41, v42, v43, &v44, &v45);
		TUP* v46;
		TUP* v47;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp3(v44, v45, &v46, &v47);
		VAL v48 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v49 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v50;
		TUP* v51;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v46, v47, v48, v49, &v50, &v51);
		branch_ZPlusAB_25 = v51;
		branch_ZPlusMirth_24 = v50;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v52;
		TUP* v53 = mw_mirth_word_Word_type(v17, value_u64(v3), &v52);
		VAL v54 = v53->cells[1];
		incref(v54);
		decref(MKTUP(v53, 2));
		TUP* v55;
		uint64_t v56 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v55);
		incref(v6);
		TUP* v57;
		VAL v58 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v55, &v57);
		TUP* v59;
		VAL v60 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v57, &v59);
		TUP* v61;
		TUP* v62;
		VAL v63;
		VAL v64 = mw_std_list_List_1_reverseZ_for_1_sp10(v52, v59, v58, v60, v6, &v61, &v62, &v63);
		TUP* v65 = mw_mirth_type_TZ_ZTo(v63, v54);
		TUP* v66;
		VAL v67 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v62, &v66);
		VAL v68;
		VAL v69;
		mtp_mirth_type_ArrowType_ArrowType(v65, &v68, &v69);
		incref(v68);
		VAL v70 = MKI64(0LL /* Nil */);
		TUP* v71 = mtw_mirth_arrow_Arrow_Arrow(v67, v56, v56, v64, v68, v68, v70);
		VAL v72 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v73 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		TUP* v74;
		TUP* v75;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v61, v71, v72, v73, &v74, &v75);
		VAL v76 = MKI64(0LL /* Nil */);
		int64_t v77 = 1LL /* Dup */;
		TUP* v78;
		TUP* v79;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v74, v75, v76, v77, &v78, &v79);
		incref(v2);
		TUP* v80;
		uint64_t v81 = mw_mirth_table_Table_numZ_buffer(v78, value_u64(v2), &v80);
		TUP* v82;
		TUP* v83;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v80, v79, v81, &v82, &v83);
		VAL v84 = MKI64(0LL /* Nil */);
		int64_t v85 = 36LL /* U64Get */;
		TUP* v86;
		TUP* v87;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v82, v83, v84, v85, &v86, &v87);
		VAL v88 = MKI64(0LL /* Nil */);
		int64_t v89 = 39LL /* U64Lt */;
		TUP* v90;
		TUP* v91;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v86, v87, v88, v89, &v90, &v91);
		TUP* v92;
		TUP* v93;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp3(v90, v91, &v92, &v93);
		VAL v94 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v95 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v96;
		TUP* v97;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v92, v93, v94, v95, &v96, &v97);
		TUP* v98;
		TUP* v99;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v96, v97, v69, &v98, &v99);
		TUP* v100;
		VAL v101 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v66, &v100);
		TUP* v102;
		VAL v103 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v100, &v102);
		TUP* v104;
		uint64_t v105 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v102, &v104);
		TUP* v106 = mtw_mirth_arrow_Lambda_Lambda(v105, v101, v103, v6, v99);
		VAL v107 = mtw_mirth_arrow_Op_Lambda(v106);
		VAL v108 = MKI64(0LL /* Nil */);
		TUP* v109;
		TUP* v110;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v98, v104, v108, v107, &v109, &v110);
		branch_ZPlusAB_25 = v110;
		branch_ZPlusMirth_24 = v109;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v111;
	TUP* v112;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v111, &v112);
	TUP* v113;
	TUP* v114 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v111, v112, v11, &v113);
	decref(branch_List_22);
	push_resource(MKTUP(v113, 10));
	push_value(MKTUP(v114, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp33_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	VAL v6 = mw_mirth_type_T0();
	TUP* v7;
	VAL v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	incref(v10);
	VAL v11 = mw_mirth_type_Type_U64();
	VAL v12 = mw_mirth_type_TZMul(v10, v11);
	VAL v13 = mtw_mirth_type_Type_Table(v0);
	VAL v14 = mw_mirth_type_TZMul(v10, v13);
	TUP* v15 = mw_mirth_type_TZ_ZTo(v12, v14);
	TUP* v16 = tup_new(2);
	v16->size = 2;
	v16->cells[1] = MKTUP(v15, 2);
	v16->cells[0] = v5;
	push_resource(MKTUP(v9, 10));
	push_value(MKTUP(v16, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp34_25 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Table_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		VAL v26 = MKI64(0LL /* Nil */);
		int64_t v27 = 1LL /* Dup */;
		TUP* v28;
		TUP* v29;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v17, v19, v26, v27, &v28, &v29);
		incref(v2);
		TUP* v30;
		uint64_t v31 = mw_mirth_table_Table_numZ_buffer(v28, value_u64(v2), &v30);
		TUP* v32;
		TUP* v33;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v30, v29, v31, &v32, &v33);
		VAL v34 = MKI64(0LL /* Nil */);
		int64_t v35 = 36LL /* U64Get */;
		TUP* v36;
		TUP* v37;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v32, v33, v34, v35, &v36, &v37);
		VAL v38 = MKI64(0LL /* Nil */);
		int64_t v39 = 40LL /* U64Le */;
		TUP* v40;
		TUP* v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		TUP* v42;
		TUP* v43;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp4(v40, v41, &v42, &v43);
		VAL v44 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v45 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v46;
		TUP* v47;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v42, v43, v44, v45, &v46, &v47);
		branch_ZPlusAB_25 = v47;
		branch_ZPlusMirth_24 = v46;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v48;
		TUP* v49 = mw_mirth_word_Word_type(v17, value_u64(v3), &v48);
		VAL v50 = v49->cells[1];
		incref(v50);
		decref(MKTUP(v49, 2));
		TUP* v51;
		uint64_t v52 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v51);
		incref(v6);
		TUP* v53;
		VAL v54 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v51, &v53);
		TUP* v55;
		VAL v56 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v53, &v55);
		TUP* v57;
		TUP* v58;
		VAL v59;
		VAL v60 = mw_std_list_List_1_reverseZ_for_1_sp10(v48, v55, v54, v56, v6, &v57, &v58, &v59);
		TUP* v61 = mw_mirth_type_TZ_ZTo(v59, v50);
		TUP* v62;
		VAL v63 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v58, &v62);
		VAL v64;
		VAL v65;
		mtp_mirth_type_ArrowType_ArrowType(v61, &v64, &v65);
		incref(v64);
		VAL v66 = MKI64(0LL /* Nil */);
		TUP* v67 = mtw_mirth_arrow_Arrow_Arrow(v63, v52, v52, v60, v64, v64, v66);
		VAL v68 = MKI64(0LL /* Nil */);
		int64_t v69 = 1LL /* Dup */;
		TUP* v70;
		TUP* v71;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v57, v67, v68, v69, &v70, &v71);
		incref(v2);
		TUP* v72;
		uint64_t v73 = mw_mirth_table_Table_numZ_buffer(v70, value_u64(v2), &v72);
		TUP* v74;
		TUP* v75;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v72, v71, v73, &v74, &v75);
		VAL v76 = MKI64(0LL /* Nil */);
		int64_t v77 = 36LL /* U64Get */;
		TUP* v78;
		TUP* v79;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v74, v75, v76, v77, &v78, &v79);
		VAL v80 = MKI64(0LL /* Nil */);
		int64_t v81 = 40LL /* U64Le */;
		TUP* v82;
		TUP* v83;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v78, v79, v80, v81, &v82, &v83);
		TUP* v84;
		TUP* v85;
		mw_mirth_elab_ZPlusAB_abZ_ifZBang_2_sp4(v82, v83, &v84, &v85);
		VAL v86 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v87 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v88;
		TUP* v89;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v84, v85, v86, v87, &v88, &v89);
		TUP* v90;
		TUP* v91;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v88, v89, v65, &v90, &v91);
		TUP* v92;
		VAL v93 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v62, &v92);
		TUP* v94;
		VAL v95 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v92, &v94);
		TUP* v96;
		uint64_t v97 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v94, &v96);
		TUP* v98 = mtw_mirth_arrow_Lambda_Lambda(v97, v93, v95, v6, v91);
		VAL v99 = mtw_mirth_arrow_Op_Lambda(v98);
		VAL v100 = MKI64(0LL /* Nil */);
		TUP* v101;
		TUP* v102;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v90, v96, v100, v99, &v101, &v102);
		branch_ZPlusAB_25 = v102;
		branch_ZPlusMirth_24 = v101;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v103;
	TUP* v104;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v103, &v104);
	TUP* v105;
	TUP* v106 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v103, v104, v11, &v105);
	decref(branch_List_22);
	push_resource(MKTUP(v105, 10));
	push_value(MKTUP(v106, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp35_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	VAL v6 = mw_mirth_type_T0();
	TUP* v7;
	VAL v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	incref(v10);
	VAL v11 = mtw_mirth_type_Type_Table(v0);
	VAL v12 = mw_mirth_type_TZMul(v10, v11);
	VAL v13 = mw_mirth_type_Type_U64();
	VAL v14 = mw_mirth_type_TZMul(v10, v13);
	TUP* v15 = mw_mirth_type_TZ_ZTo(v12, v14);
	TUP* v16 = tup_new(2);
	v16->size = 2;
	v16->cells[1] = MKTUP(v15, 2);
	v16->cells[0] = v5;
	push_resource(MKTUP(v9, 10));
	push_value(MKTUP(v16, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp36_13 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Table_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		VAL v26 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v27 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		TUP* v28;
		TUP* v29;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v17, v19, v26, v27, &v28, &v29);
		branch_ZPlusAB_25 = v29;
		branch_ZPlusMirth_24 = v28;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v30;
		TUP* v31 = mw_mirth_word_Word_type(v17, value_u64(v3), &v30);
		VAL v32 = v31->cells[1];
		incref(v32);
		decref(MKTUP(v31, 2));
		TUP* v33;
		uint64_t v34 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v33);
		incref(v6);
		TUP* v35;
		VAL v36 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v33, &v35);
		TUP* v37;
		VAL v38 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v35, &v37);
		TUP* v39;
		TUP* v40;
		VAL v41;
		VAL v42 = mw_std_list_List_1_reverseZ_for_1_sp10(v30, v37, v36, v38, v6, &v39, &v40, &v41);
		TUP* v43 = mw_mirth_type_TZ_ZTo(v41, v32);
		TUP* v44;
		VAL v45 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v40, &v44);
		VAL v46;
		VAL v47;
		mtp_mirth_type_ArrowType_ArrowType(v43, &v46, &v47);
		incref(v46);
		VAL v48 = MKI64(0LL /* Nil */);
		TUP* v49 = mtw_mirth_arrow_Arrow_Arrow(v45, v34, v34, v42, v46, v46, v48);
		VAL v50 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v51 = mtw_mirth_arrow_Op_TableToIndex(value_u64(v2));
		TUP* v52;
		TUP* v53;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v39, v49, v50, v51, &v52, &v53);
		TUP* v54;
		TUP* v55;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v52, v53, v47, &v54, &v55);
		TUP* v56;
		VAL v57 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v44, &v56);
		TUP* v58;
		VAL v59 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v56, &v58);
		TUP* v60;
		uint64_t v61 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v58, &v60);
		TUP* v62 = mtw_mirth_arrow_Lambda_Lambda(v61, v57, v59, v6, v55);
		VAL v63 = mtw_mirth_arrow_Op_Lambda(v62);
		VAL v64 = MKI64(0LL /* Nil */);
		TUP* v65;
		TUP* v66;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v54, v60, v64, v63, &v65, &v66);
		branch_ZPlusAB_25 = v66;
		branch_ZPlusMirth_24 = v65;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v67;
	TUP* v68;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v67, &v68);
	TUP* v69;
	TUP* v70 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v67, v68, v11, &v69);
	decref(branch_List_22);
	push_resource(MKTUP(v69, 10));
	push_value(MKTUP(v70, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp37_2 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	VAL v6 = mw_mirth_type_T0();
	TUP* v7;
	VAL v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	incref(v10);
	TUP* v11;
	VAL v12 = mw_mirth_table_Table_constructorZ_fields(v9, v0, &v11);
	bool v13 = true;
	VAL v14 = v10;
	TUP* v15 = v11;
	VAL v16 = v12;
	bool v17 = v13;
	bool v18 = v13;
	while (v18) {
		VAL v19 = v14;
		TUP* v20 = v15;
		VAL v21 = v16;
		bool v22 = v17;
		TUP* branch_ZPlusMirth_23;
		VAL branch_StackType_24;
		VAL branch_List_25;
		bool branch_Bool_26;
		switch (get_data_tag(v21)) {
			case 1LL: { // Cons
				VAL v27;
				VAL v28 = mtp_std_list_List_1_Cons(v21, &v27);
				incref(v28);
				TUP* v29;
				VAL v30 = mw_mirth_table_Field_valueZ_type(v20, value_u64(v28), &v29);
				TUP* v31;
				uint64_t v32 = mw_mirth_table_Field_name(v29, value_u64(v28), &v31);
				TUP* v33;
				uint64_t v34 = mw_mirth_label_Label_newZBang(v31, v32, &v33);
				VAL v35 = mtw_mirth_type_StackType_ConsLabel(v19, v30, v34);
				bool v36 = true;
				branch_Bool_26 = v36;
				branch_List_25 = v27;
				branch_StackType_24 = v35;
				branch_ZPlusMirth_23 = v33;
			} break;
			case 0LL: { // Nil
				VAL v37 = MKI64(0LL /* Nil */);
				bool v38 = false;
				branch_Bool_26 = v38;
				branch_List_25 = v37;
				branch_StackType_24 = v19;
				branch_ZPlusMirth_23 = v20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_26;
		v17 = branch_Bool_26;
		v16 = branch_List_25;
		v15 = branch_ZPlusMirth_23;
		v14 = branch_StackType_24;
	}
	decref(v16);
	VAL v39 = mtw_mirth_type_Type_Table(v0);
	VAL v40 = mw_mirth_type_TZMul(v10, v39);
	TUP* v41 = mw_mirth_type_TZ_ZTo(v14, v40);
	TUP* v42 = tup_new(2);
	v42->size = 2;
	v42->cells[1] = MKTUP(v41, 2);
	v42->cells[0] = v5;
	push_resource(MKTUP(v15, 10));
	push_value(MKTUP(v42, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp38_47 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Table_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		VAL v26 = MKI64(0LL /* Nil */);
		incref(v2);
		TUP* v27;
		uint64_t v28 = mw_mirth_table_Table_allocZ_word(v17, value_u64(v2), &v27);
		TUP* v29;
		TUP* v30;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v27, v19, v26, v28, &v29, &v30);
		incref(v2);
		TUP* v31;
		VAL v32 = mw_mirth_table_Table_constructorZ_fields(v29, value_u64(v2), &v31);
		TUP* v33;
		TUP* v34;
		mw_std_list_List_1_for_1_sp113(v30, v31, v32, &v33, &v34);
		branch_ZPlusAB_25 = v33;
		branch_ZPlusMirth_24 = v34;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v35;
		TUP* v36 = mw_mirth_word_Word_type(v17, value_u64(v3), &v35);
		VAL v37 = v36->cells[1];
		incref(v37);
		decref(MKTUP(v36, 2));
		TUP* v38;
		uint64_t v39 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v38);
		incref(v6);
		TUP* v40;
		VAL v41 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v38, &v40);
		TUP* v42;
		VAL v43 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v40, &v42);
		TUP* v44;
		TUP* v45;
		VAL v46;
		VAL v47 = mw_std_list_List_1_reverseZ_for_1_sp10(v35, v42, v41, v43, v6, &v44, &v45, &v46);
		TUP* v48 = mw_mirth_type_TZ_ZTo(v46, v37);
		TUP* v49;
		VAL v50 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v45, &v49);
		VAL v51;
		VAL v52;
		mtp_mirth_type_ArrowType_ArrowType(v48, &v51, &v52);
		incref(v51);
		VAL v53 = MKI64(0LL /* Nil */);
		TUP* v54 = mtw_mirth_arrow_Arrow_Arrow(v50, v39, v39, v47, v51, v51, v53);
		VAL v55 = MKI64(0LL /* Nil */);
		incref(v2);
		TUP* v56;
		uint64_t v57 = mw_mirth_table_Table_allocZ_word(v44, value_u64(v2), &v56);
		TUP* v58;
		TUP* v59;
		mw_mirth_elab_ZPlusAB_abZ_wordZBang(v56, v54, v55, v57, &v58, &v59);
		incref(v2);
		TUP* v60;
		VAL v61 = mw_mirth_table_Table_constructorZ_fields(v58, value_u64(v2), &v60);
		TUP* v62;
		TUP* v63;
		mw_std_list_List_1_for_1_sp113(v59, v60, v61, &v62, &v63);
		TUP* v64;
		TUP* v65;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v63, v62, v52, &v64, &v65);
		TUP* v66;
		VAL v67 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v49, &v66);
		TUP* v68;
		VAL v69 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v66, &v68);
		TUP* v70;
		uint64_t v71 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v68, &v70);
		TUP* v72 = mtw_mirth_arrow_Lambda_Lambda(v71, v67, v69, v6, v65);
		VAL v73 = mtw_mirth_arrow_Op_Lambda(v72);
		VAL v74 = MKI64(0LL /* Nil */);
		TUP* v75;
		TUP* v76;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v64, v70, v74, v73, &v75, &v76);
		branch_ZPlusAB_25 = v76;
		branch_ZPlusMirth_24 = v75;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v77;
	TUP* v78;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v77, &v78);
	TUP* v79;
	TUP* v80 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v77, v78, v11, &v79);
	decref(branch_List_22);
	push_resource(MKTUP(v79, 10));
	push_value(MKTUP(v80, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp39_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_table_Table_owner(r1, v0, &v2);
	TUP* v4;
	VAL v5 = mw_mirth_table_StateOwner_ctx(v2, v3, &v4);
	VAL v6 = mw_mirth_type_T0();
	TUP* v7;
	VAL v8 = mw_mirth_table_Table_owner(v4, v0, &v7);
	TUP* v9;
	VAL v10 = mw_mirth_table_StateOwner_push(v7, v6, v8, &v9);
	incref(v10);
	VAL v11 = mtw_mirth_type_Type_Table(v0);
	VAL v12 = mw_mirth_type_TZMul(v10, v11);
	TUP* v13 = mw_mirth_type_TZ_ZTo(v10, v12);
	TUP* v14 = tup_new(2);
	v14->size = 2;
	v14->cells[1] = MKTUP(v13, 2);
	v14->cells[0] = v5;
	push_resource(MKTUP(v9, 10));
	push_value(MKTUP(v14, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp40_29 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Table_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		incref(v2);
		TUP* v26;
		uint64_t v27 = mw_mirth_table_Table_numZ_buffer(v17, value_u64(v2), &v26);
		TUP* v28;
		TUP* v29;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v26, v19, v27, &v28, &v29);
		VAL v30 = MKI64(0LL /* Nil */);
		int64_t v31 = 36LL /* U64Get */;
		TUP* v32;
		TUP* v33;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v28, v29, v30, v31, &v32, &v33);
		uint64_t v34 = 1ULL;
		VAL v35 = mtw_mirth_arrow_PushValue_U64(v34);
		TUP* v36;
		TUP* v37;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v32, v33, v35, &v36, &v37);
		VAL v38 = MKI64(0LL /* Nil */);
		int64_t v39 = 44LL /* U64Add */;
		TUP* v40;
		TUP* v41;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v36, v37, v38, v39, &v40, &v41);
		VAL v42 = MKI64(0LL /* Nil */);
		int64_t v43 = 1LL /* Dup */;
		TUP* v44;
		TUP* v45;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v40, v41, v42, v43, &v44, &v45);
		incref(v2);
		TUP* v46;
		uint64_t v47 = mw_mirth_table_Table_numZ_buffer(v44, value_u64(v2), &v46);
		TUP* v48;
		TUP* v49;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v46, v45, v47, &v48, &v49);
		VAL v50 = MKI64(0LL /* Nil */);
		int64_t v51 = 37LL /* U64Set */;
		TUP* v52;
		TUP* v53;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v48, v49, v50, v51, &v52, &v53);
		VAL v54 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v55 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v56;
		TUP* v57;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v52, v53, v54, v55, &v56, &v57);
		branch_ZPlusAB_25 = v57;
		branch_ZPlusMirth_24 = v56;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v58;
		TUP* v59 = mw_mirth_word_Word_type(v17, value_u64(v3), &v58);
		VAL v60 = v59->cells[1];
		incref(v60);
		decref(MKTUP(v59, 2));
		TUP* v61;
		uint64_t v62 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v61);
		incref(v6);
		TUP* v63;
		VAL v64 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v61, &v63);
		TUP* v65;
		VAL v66 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v63, &v65);
		TUP* v67;
		TUP* v68;
		VAL v69;
		VAL v70 = mw_std_list_List_1_reverseZ_for_1_sp10(v58, v65, v64, v66, v6, &v67, &v68, &v69);
		TUP* v71 = mw_mirth_type_TZ_ZTo(v69, v60);
		TUP* v72;
		VAL v73 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v68, &v72);
		VAL v74;
		VAL v75;
		mtp_mirth_type_ArrowType_ArrowType(v71, &v74, &v75);
		incref(v74);
		VAL v76 = MKI64(0LL /* Nil */);
		TUP* v77 = mtw_mirth_arrow_Arrow_Arrow(v73, v62, v62, v70, v74, v74, v76);
		incref(v2);
		TUP* v78;
		uint64_t v79 = mw_mirth_table_Table_numZ_buffer(v67, value_u64(v2), &v78);
		TUP* v80;
		TUP* v81;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v78, v77, v79, &v80, &v81);
		VAL v82 = MKI64(0LL /* Nil */);
		int64_t v83 = 36LL /* U64Get */;
		TUP* v84;
		TUP* v85;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v80, v81, v82, v83, &v84, &v85);
		uint64_t v86 = 1ULL;
		VAL v87 = mtw_mirth_arrow_PushValue_U64(v86);
		TUP* v88;
		TUP* v89;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v84, v85, v87, &v88, &v89);
		VAL v90 = MKI64(0LL /* Nil */);
		int64_t v91 = 44LL /* U64Add */;
		TUP* v92;
		TUP* v93;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v88, v89, v90, v91, &v92, &v93);
		VAL v94 = MKI64(0LL /* Nil */);
		int64_t v95 = 1LL /* Dup */;
		TUP* v96;
		TUP* v97;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v92, v93, v94, v95, &v96, &v97);
		incref(v2);
		TUP* v98;
		uint64_t v99 = mw_mirth_table_Table_numZ_buffer(v96, value_u64(v2), &v98);
		TUP* v100;
		TUP* v101;
		mw_mirth_elab_ZPlusAB_abZ_bufferZBang(v98, v97, v99, &v100, &v101);
		VAL v102 = MKI64(0LL /* Nil */);
		int64_t v103 = 37LL /* U64Set */;
		TUP* v104;
		TUP* v105;
		mw_mirth_elab_ZPlusAB_abZ_primZBang(v100, v101, v102, v103, &v104, &v105);
		VAL v106 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v107 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v108;
		TUP* v109;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v104, v105, v106, v107, &v108, &v109);
		TUP* v110;
		TUP* v111;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v108, v109, v75, &v110, &v111);
		TUP* v112;
		VAL v113 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v72, &v112);
		TUP* v114;
		VAL v115 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v112, &v114);
		TUP* v116;
		uint64_t v117 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v114, &v116);
		TUP* v118 = mtw_mirth_arrow_Lambda_Lambda(v117, v113, v115, v6, v111);
		VAL v119 = mtw_mirth_arrow_Op_Lambda(v118);
		VAL v120 = MKI64(0LL /* Nil */);
		TUP* v121;
		TUP* v122;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v110, v116, v120, v119, &v121, &v122);
		branch_ZPlusAB_25 = v122;
		branch_ZPlusMirth_24 = v121;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v123;
	TUP* v124;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v123, &v124);
	TUP* v125;
	TUP* v126 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v123, v124, v11, &v125);
	decref(branch_List_22);
	push_resource(MKTUP(v125, 10));
	push_value(MKTUP(v126, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp41_13 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	incref(v3);
	TUP* v4;
	VAL v5 = mw_mirth_word_Word_params(r1, value_u64(v3), &v4);
	VAL v6 = mw_std_list_List_1_map_1_sp16(v5);
	incref(v3);
	TUP* v7;
	TUP* v8;
	uint64_t v9;
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v4, value_u64(v3), &v7, &v8, &v9, &v10, &v11);
	VAL v13;
	VAL v14;
	mtp_mirth_type_ArrowType_ArrowType(v8, &v13, &v14);
	incref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	TUP* v16 = mtw_mirth_arrow_Arrow_Arrow(v10, v9, v9, v12, v13, v13, v15);
	incref(v3);
	TUP* v17;
	uint64_t v18 = mw_mirth_word_Word_body(v7, value_u64(v3), &v17);
	TUP* v19;
	mw_mirth_elab_ZPlusAB_abZ_tokenZBang(v16, v18, &v19);
	incref(v6);
	bool v20 = mw_std_list_List_1_emptyZAsk(v6);
	uint64_t branch_Word_21;
	VAL branch_List_22;
	uint64_t branch_Table_23;
	TUP* branch_ZPlusMirth_24;
	TUP* branch_ZPlusAB_25;
	if (v20) {
		uint64_t v26 = 0ULL;
		VAL v27 = mtw_mirth_arrow_PushValue_U64(v26);
		TUP* v28;
		TUP* v29;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v17, v19, v27, &v28, &v29);
		VAL v30 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v31 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v32;
		TUP* v33;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v28, v29, v30, v31, &v32, &v33);
		branch_ZPlusAB_25 = v33;
		branch_ZPlusMirth_24 = v32;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	} else {
		incref(v6);
		incref(v3);
		TUP* v34;
		TUP* v35 = mw_mirth_word_Word_type(v17, value_u64(v3), &v34);
		VAL v36 = v35->cells[1];
		incref(v36);
		decref(MKTUP(v35, 2));
		TUP* v37;
		uint64_t v38 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v19, &v37);
		incref(v6);
		TUP* v39;
		VAL v40 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v37, &v39);
		TUP* v41;
		VAL v42 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v39, &v41);
		TUP* v43;
		TUP* v44;
		VAL v45;
		VAL v46 = mw_std_list_List_1_reverseZ_for_1_sp10(v34, v41, v40, v42, v6, &v43, &v44, &v45);
		TUP* v47 = mw_mirth_type_TZ_ZTo(v45, v36);
		TUP* v48;
		VAL v49 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v44, &v48);
		VAL v50;
		VAL v51;
		mtp_mirth_type_ArrowType_ArrowType(v47, &v50, &v51);
		incref(v50);
		VAL v52 = MKI64(0LL /* Nil */);
		TUP* v53 = mtw_mirth_arrow_Arrow_Arrow(v49, v38, v38, v46, v50, v50, v52);
		uint64_t v54 = 0ULL;
		VAL v55 = mtw_mirth_arrow_PushValue_U64(v54);
		TUP* v56;
		TUP* v57;
		mw_mirth_elab_ZPlusAB_abZ_pushZ_valueZBang(v43, v53, v55, &v56, &v57);
		VAL v58 = MKI64(0LL /* Nil */);
		incref(v2);
		VAL v59 = mtw_mirth_arrow_Op_TableFromIndex(value_u64(v2));
		TUP* v60;
		TUP* v61;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v56, v57, v58, v59, &v60, &v61);
		TUP* v62;
		TUP* v63;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v60, v61, v51, &v62, &v63);
		TUP* v64;
		VAL v65 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v48, &v64);
		TUP* v66;
		VAL v67 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v64, &v66);
		TUP* v68;
		uint64_t v69 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v66, &v68);
		TUP* v70 = mtw_mirth_arrow_Lambda_Lambda(v69, v65, v67, v6, v63);
		VAL v71 = mtw_mirth_arrow_Op_Lambda(v70);
		VAL v72 = MKI64(0LL /* Nil */);
		TUP* v73;
		TUP* v74;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v62, v68, v72, v71, &v73, &v74);
		branch_ZPlusAB_25 = v74;
		branch_ZPlusMirth_24 = v73;
		branch_Table_23 = value_u64(v2);
		branch_List_22 = v6;
		branch_Word_21 = value_u64(v3);
	}
	TUP* v75;
	TUP* v76;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_24, branch_ZPlusAB_25, v14, &v75, &v76);
	TUP* v77;
	TUP* v78 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v75, v76, v11, &v77);
	decref(branch_List_22);
	push_resource(MKTUP(v77, 10));
	push_value(MKTUP(v78, 7));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp42_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	uint64_t v3 = mw_mirth_external_External_sig(r1, v0, &v2);
	TUP* v4;
	mw_mirth_elab_ZPlusTypeElab_StartZBang(v3, &v4);
	VAL v5 = mw_mirth_type_T0();
	TUP* v6;
	TUP* v7;
	TUP* v8 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v2, v4, v5, &v6, &v7);
	VAL v9 = v7->cells[0];
	incref(v9);
	TUP* v10 = tup_new(2);
	v10->size = 2;
	v10->cells[1] = MKTUP(v8, 2);
	v10->cells[0] = v9;
	mw_mirth_elab_ZPlusTypeElab_rdrop(v7);
	push_resource(MKTUP(v6, 10));
	push_value(MKTUP(v10, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp43_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	TUP* v3 = mw_mirth_elab_elabZ_externalZ_ctype(r1, v0, &v2);
	push_resource(MKTUP(v2, 10));
	push_value(MKTUP(v3, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp44_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_elab_elabZ_simpleZ_typeZ_argZBang(r1, v0, &v2);
	push_resource(MKTUP(v2, 10));
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp45_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_word_Word_sigZAsk(r1, v0, &v2);
	TUP* branch_ZPlusMirth_4;
	TUP* branch__5;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v3);
			TUP* v7;
			mw_mirth_elab_ZPlusTypeElab_StartZBang(value_u64(v6), &v7);
			VAL v8 = mw_mirth_type_T0();
			TUP* v9;
			TUP* v10;
			TUP* v11 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v2, v7, v8, &v9, &v10);
			VAL v12 = v10->cells[0];
			incref(v12);
			TUP* v13 = tup_new(2);
			v13->size = 2;
			v13->cells[1] = MKTUP(v11, 2);
			v13->cells[0] = v12;
			mw_mirth_elab_ZPlusTypeElab_rdrop(v10);
			branch__5 = v13;
			branch_ZPlusMirth_4 = v9;
		} break;
		case 0LL: { // None
			TUP* v14;
			TUP* v15 = mw_mirth_word_Word_arrow(v2, v0, &v14);
			TUP* v16;
			VAL v17 = mw_mirth_arrow_Arrow_ctxZ_type(v15, &v16);
			TUP* v18 = tup_new(2);
			v18->size = 2;
			v18->cells[1] = MKTUP(v16, 2);
			v18->cells[0] = v17;
			branch__5 = v18;
			branch_ZPlusMirth_4 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	push_resource(MKTUP(branch_ZPlusMirth_4, 10));
	push_value(MKTUP(branch__5, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp46_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	VAL v3 = mw_mirth_elab_elabZ_defZ_paramsZBang(r1, v0, &v2);
	push_resource(MKTUP(v2, 10));
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp47_6 (void) {
	uint64_t v0 = value_u64(pop_value());
	TUP* r1 = value_tup(pop_resource(), 10);
	TUP* v2;
	TUP* v3;
	uint64_t v4;
	VAL v5;
	uint64_t v6;
	VAL v7 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, v0, &v2, &v3, &v4, &v5, &v6);
	VAL v8;
	VAL v9;
	mtp_mirth_type_ArrowType_ArrowType(v3, &v8, &v9);
	incref(v8);
	VAL v10 = MKI64(0LL /* Nil */);
	TUP* v11 = mtw_mirth_arrow_Arrow_Arrow(v5, v4, v4, v7, v8, v8, v10);
	TUP* v12;
	VAL v13 = mw_mirth_word_Word_params(v2, v0, &v12);
	incref(v13);
	bool v14 = mw_std_list_List_1_emptyZAsk(v13);
	TUP* branch_ZPlusMirth_15;
	TUP* branch_ZPlusAB_16;
	VAL branch_StackType_17;
	if (v14) {
		decref(v13);
		TUP* v18;
		TUP* v19;
		VAL v20 = mw_mirth_elab_elabZ_defZ_bodyZBang(v12, v11, v9, &v18, &v19);
		branch_StackType_17 = v20;
		branch_ZPlusAB_16 = v19;
		branch_ZPlusMirth_15 = v18;
	} else {
		VAL v21 = mw_std_list_List_1_map_1_sp16(v13);
		incref(v9);
		TUP* v22;
		uint64_t v23 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v11, &v22);
		incref(v21);
		TUP* v24;
		VAL v25 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v22, &v24);
		TUP* v26;
		VAL v27 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v24, &v26);
		TUP* v28;
		TUP* v29;
		VAL v30;
		VAL v31 = mw_std_list_List_1_reverseZ_for_1_sp10(v12, v26, v25, v27, v21, &v28, &v29, &v30);
		TUP* v32 = mw_mirth_type_TZ_ZTo(v30, v9);
		TUP* v33;
		VAL v34 = mw_mirth_elab_ZPlusAB_abZ_homeZAt(v29, &v33);
		VAL v35;
		VAL v36;
		mtp_mirth_type_ArrowType_ArrowType(v32, &v35, &v36);
		incref(v35);
		VAL v37 = MKI64(0LL /* Nil */);
		TUP* v38 = mtw_mirth_arrow_Arrow_Arrow(v34, v23, v23, v31, v35, v35, v37);
		TUP* v39;
		TUP* v40;
		VAL v41 = mw_mirth_elab_elabZ_defZ_bodyZBang(v28, v38, v9, &v39, &v40);
		TUP* v42;
		TUP* v43;
		mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(v39, v40, v36, &v42, &v43);
		TUP* v44;
		VAL v45 = mw_mirth_elab_ZPlusAB_abZ_ctxZAt(v33, &v44);
		TUP* v46;
		VAL v47 = mw_mirth_elab_ZPlusAB_abZ_typeZAt(v44, &v46);
		TUP* v48;
		uint64_t v49 = mw_mirth_elab_ZPlusAB_abZ_tokenZAt(v46, &v48);
		TUP* v50 = mtw_mirth_arrow_Lambda_Lambda(v49, v45, v47, v21, v43);
		VAL v51 = mtw_mirth_arrow_Op_Lambda(v50);
		VAL v52 = MKI64(0LL /* Nil */);
		TUP* v53;
		TUP* v54;
		mw_mirth_elab_ZPlusAB_abZ_opZBang(v42, v48, v52, v51, &v53, &v54);
		branch_StackType_17 = v41;
		branch_ZPlusAB_16 = v54;
		branch_ZPlusMirth_15 = v53;
	}
	TUP* v55;
	TUP* v56;
	mw_mirth_elab_ZPlusAB_abZ_unifyZ_typeZBang(branch_ZPlusMirth_15, branch_ZPlusAB_16, branch_StackType_17, &v55, &v56);
	TUP* v57;
	TUP* v58 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v55, v56, v6, &v57);
	incref(MKTUP(v58, 7));
	TUP* v59;
	mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v57, v0, v58, &v59);
	push_value(MKTUP(v58, 7));
	push_resource(MKTUP(v59, 10));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp48_10 (void) {
	TUP* v0 = value_tup(pop_value(), 3);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	tup_decref_outer(v0,3);
	incref(v3);
	STR* v5;
	STRLIT(v5, "target", 6);
	bool v6 = false;
	bool v7 = false;
	TUP* v8;
	TUP* v9;
	mw_mirth_elab_ZPlusResolveDef_BeginZBang(v5, value_u64(v3), v2, v7, v6, r1, &v8, &v9);
	VAL v10 = v9->cells[3];
	incref(v10);
	VAL v11 = MKI64(0LL /* Nil */);
	VAL v12;
	mw_std_list_List_1_buildZBang(v11, &v12);
	bool v13 = true;
	VAL v14 = v4;
	VAL v15 = v12;
	VAL v16 = v10;
	bool v17 = v13;
	bool v18 = v13;
	while (v18) {
		VAL v19 = v14;
		VAL v20 = v15;
		VAL v21 = v16;
		bool v22 = v17;
		uint64_t branch_Alias_23;
		VAL branch_ZPlusLister_24;
		VAL branch_List_25;
		bool branch_Bool_26;
		switch (get_data_tag(v21)) {
			case 1LL: { // Cons
				VAL v27;
				VAL v28 = mtp_std_list_List_1_Cons(v21, &v27);
				incref(v28);
				VAL v29 = mw_mirth_def_Def_aliasZAsk(v28);
				uint64_t branch_Alias_30;
				bool branch_Bool_31;
				switch (get_data_tag(v29)) {
					case 1LL: { // Some
						VAL v32 = mtp_std_maybe_Maybe_1_Some(v29);
						incref(v19);
						bool v33 = mw_mirth_alias_Alias_ZEqual(value_u64(v32), value_u64(v19));
						branch_Bool_31 = v33;
						branch_Alias_30 = value_u64(v19);
					} break;
					case 0LL: { // None
						bool v34 = false;
						branch_Bool_31 = v34;
						branch_Alias_30 = value_u64(v19);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v35 = !branch_Bool_31;
				uint64_t branch_Alias_36;
				VAL branch_ZPlusLister_37;
				if (v35) {
					VAL v38;
					mw_std_list_ZPlusLister_1_pushZBang(v28, v20, &v38);
					branch_ZPlusLister_37 = v38;
					branch_Alias_36 = branch_Alias_30;
				} else {
					decref(v28);
					branch_ZPlusLister_37 = v20;
					branch_Alias_36 = branch_Alias_30;
				}
				bool v39 = true;
				branch_Bool_26 = v39;
				branch_List_25 = v27;
				branch_ZPlusLister_24 = branch_ZPlusLister_37;
				branch_Alias_23 = branch_Alias_36;
			} break;
			case 0LL: { // Nil
				VAL v40 = MKI64(0LL /* Nil */);
				bool v41 = false;
				branch_Bool_26 = v41;
				branch_List_25 = v40;
				branch_ZPlusLister_24 = v20;
				branch_Alias_23 = value_u64(v19);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_26;
		v17 = branch_Bool_26;
		v16 = branch_List_25;
		v15 = branch_ZPlusLister_24;
		v14 = MKU64(branch_Alias_23);
	}
	decref(v16);
	VAL v42 = mw_std_list_ZPlusLister_1_doneZBang(v15);
	VAL v43 = v9->cells[3];
	decref(v43);
	v9->cells[3] = v42;
	TUP* v44;
	INT v45 = mw_mirth_alias_Alias_arity(v8, value_u64(v14), &v44);
	VAL v46 = v9->cells[3];
	incref(v46);
	VAL v47 = MKI64(0LL /* Nil */);
	VAL v48 = MKI64(0LL /* Nil */);
	bool v49 = true;
	TUP* v50 = v44;
	TUP* v51 = v9;
	INT v52 = v45;
	VAL v53 = v47;
	VAL v54 = v48;
	VAL v55 = v46;
	bool v56 = v49;
	bool v57 = v49;
	while (v57) {
		TUP* v58 = v50;
		TUP* v59 = v51;
		INT v60 = v52;
		VAL v61 = v53;
		VAL v62 = v54;
		VAL v63 = v55;
		bool v64 = v56;
		INT branch_Int_65;
		TUP* branch_ZPlusMirth_66;
		VAL branch_z_x1_67;
		VAL branch_List_68;
		VAL branch_List_69;
		VAL branch_List_70;
		bool branch_Bool_71;
		switch (get_data_tag(v63)) {
			case 1LL: { // Cons
				VAL v72;
				VAL v73 = mtp_std_list_List_1_Cons(v63, &v72);
				incref(MKINT(v60));
				incref(v73);
				TUP* v74;
				INT v75 = mw_mirth_def_Def_arity(v58, v73, &v74);
				bool v76 = mw_mirth_elab_arityZ_compatibleZAsk(v60, v75);
				INT branch_Int_77;
				TUP* branch_ZPlusMirth_78;
				VAL branch_z_x1_79;
				VAL branch_Either_80;
				if (v76) {
					VAL v81 = mtw_std_either_Either_2_Right(v73);
					branch_Either_80 = v81;
					branch_z_x1_79 = MKTUP(v59, 7);
					branch_ZPlusMirth_78 = v74;
					branch_Int_77 = v60;
				} else {
					VAL v82 = mtw_mirth_elab_RejectedDef_WrongArity(v73);
					VAL v83 = mtw_std_either_Either_2_Left(v82);
					branch_Either_80 = v83;
					branch_z_x1_79 = MKTUP(v59, 7);
					branch_ZPlusMirth_78 = v74;
					branch_Int_77 = v60;
				}
				INT branch_Int_84;
				TUP* branch_ZPlusMirth_85;
				VAL branch_z_x1_86;
				VAL branch_List_87;
				VAL branch_List_88;
				switch (get_data_tag(branch_Either_80)) {
					case 0LL: { // Left
						VAL v89 = mtp_std_either_Either_2_Left(branch_Either_80);
						VAL v90 = mw_std_list_List_1_cons(v89, v61);
						branch_List_88 = v62;
						branch_List_87 = v90;
						branch_z_x1_86 = branch_z_x1_79;
						branch_ZPlusMirth_85 = branch_ZPlusMirth_78;
						branch_Int_84 = branch_Int_77;
					} break;
					case 1LL: { // Right
						VAL v91 = mtp_std_either_Either_2_Right(branch_Either_80);
						VAL v92 = mw_std_list_List_1_cons(v91, v62);
						branch_List_88 = v92;
						branch_List_87 = v61;
						branch_z_x1_86 = branch_z_x1_79;
						branch_ZPlusMirth_85 = branch_ZPlusMirth_78;
						branch_Int_84 = branch_Int_77;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				bool v93 = true;
				branch_Bool_71 = v93;
				branch_List_70 = v72;
				branch_List_69 = branch_List_88;
				branch_List_68 = branch_List_87;
				branch_z_x1_67 = branch_z_x1_86;
				branch_ZPlusMirth_66 = branch_ZPlusMirth_85;
				branch_Int_65 = branch_Int_84;
			} break;
			case 0LL: { // Nil
				VAL v94 = MKI64(0LL /* Nil */);
				bool v95 = false;
				branch_Bool_71 = v95;
				branch_List_70 = v94;
				branch_List_69 = v62;
				branch_List_68 = v61;
				branch_z_x1_67 = MKTUP(v59, 7);
				branch_ZPlusMirth_66 = v58;
				branch_Int_65 = v60;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v57 = branch_Bool_71;
		v56 = branch_Bool_71;
		v55 = branch_List_70;
		v54 = branch_List_69;
		v53 = branch_List_68;
		v52 = branch_Int_65;
		v51 = value_tup(branch_z_x1_67, 7);
		v50 = branch_ZPlusMirth_66;
	}
	decref(v55);
	VAL v96 = mw_std_list_List_1_reverse(v53);
	VAL v97 = mw_std_list_List_1_reverse(v54);
	VAL v98 = v51->cells[4];
	incref(v98);
	VAL v99 = mw_std_list_List_1_cat(v96, v98);
	VAL v100 = v51->cells[4];
	decref(v100);
	v51->cells[4] = v99;
	VAL v101 = v51->cells[3];
	decref(v101);
	v51->cells[3] = v97;
	decref(MKINT(v52));
	TUP* v102;
	TUP* v103;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v50, v51, &v102, &v103);
	VAL v104 = MKI64(0LL /* Nil */);
	TUP* v105;
	TUP* v106;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v102, v103, v104, &v105, &v106);
	TUP* v107;
	VAL v108 = mw_mirth_elab_ZPlusResolveDef_endZBang(v105, v106, &v107);
	TUP* v109;
	VAL v110 = mw_std_maybe_Maybe_1_unwrap_1_sp36(v107, v108, &v109);
	uint64_t branch_Token_111;
	TUP* branch_ZPlusMirth_112;
	VAL branch_Def_113;
	switch (get_data_tag(v110)) {
		case 0LL: { // Alias
			uint64_t v114 = mtp_mirth_def_Def_Alias(v110);
			void* v115 = field_mut(&mfld_mirth_alias_Alias_ZTildetarget, v114);
			TUP* v116;
			VAL v117 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v109, v115, &v116);
			TUP* branch_ZPlusMirth_118;
			uint64_t branch_Token_119;
			VAL branch_z_x1_120;
			switch (get_data_tag(v117)) {
				case 1LL: { // Some
					VAL v121 = mtp_std_maybe_Maybe_1_Some(v117);
					branch_z_x1_120 = v121;
					branch_Token_119 = value_u64(v3);
					branch_ZPlusMirth_118 = v116;
				} break;
				case 0LL: { // None
					incref(v3);
					STR* v122;
					STRLIT(v122, "Alias points to itself, circular aliases are not allowed.", 57);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v116, value_u64(v3), v122);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Def_113 = branch_z_x1_120;
			branch_ZPlusMirth_112 = branch_ZPlusMirth_118;
			branch_Token_111 = branch_Token_119;
		} break;
		default: {
			branch_Def_113 = v110;
			branch_ZPlusMirth_112 = v109;
			branch_Token_111 = value_u64(v3);
		} break;
	}
	push_resource(MKTUP(branch_ZPlusMirth_112, 10));
	push_value(branch_Def_113);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp49_1 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	TUP* r1 = value_tup(pop_resource(), 10);
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0,2);
	bool v4 = false;
	incref(v2);
	TUP* v5;
	VAL v6 = mw_mirth_elab_resolveZ_defZ_namespace(r1, value_u64(v2), v3, v4, &v5);
	TUP* branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_9 = v10;
			branch_Token_8 = value_u64(v2);
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "Cannot compute patch namespace.", 31);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, value_u64(v2), v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	push_resource(MKTUP(branch_ZPlusMirth_7, 10));
	push_value(branch_z_x1_9);
}
