#define MIRTH_DEBUG 0
/* MIRTH HEADER */
// #line 3 "src/mirth.h"

#if defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__)
#define MIRTH_WINDOWS 1
#elif defined(__linux__)
#define MIRTH_LINUX 1
#elif defined(__APPLE__)
#define MIRTH_MACOS 1
#else
#error "Platform not supported."
#endif

#if defined(__x86_64__) || defined(_M_X64)
#define MIRTH_AMD64
#elif defined(i386) || defined(__i386__) || defined(__i386) || defined(_M_IX86)
#define MIRTH_I386
#elif defined(__aarch64__) || defined(_M_ARM64)
#define MIRTH_ARM64
#else
#error "Architecture not supported."
#endif

#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>
#include <float.h>

extern void* malloc(size_t);
extern void* calloc(size_t, size_t);
extern void* realloc(void*, size_t);
extern void* memset(void*, int, size_t);
extern void* memcpy(void*, const void*, size_t);
extern int memcmp(const void*, const void*, size_t);
extern int strcmp(const char*, const char*);
extern size_t strlen(const char*);
extern void free(void*);
extern int read(int, void*, size_t);
extern int write(int, const char*, size_t);
extern int close(int);
extern int open(const char*, int, ...);
extern void exit(int);
extern int sprintf (char * s, const char * format, ...);

typedef uint64_t TAG;
#define REFS_FLAG 0x0001

typedef uint32_t REFS;
typedef uint64_t USIZE;
typedef void (*FNPTR)(void);

typedef union DATA {
	USIZE usize;
	uint64_t u64;
	uint32_t u32;
	uint16_t u16;
	uint8_t u8;
	int64_t i64;
	int32_t i32;
	int16_t i16;
	int8_t i8;
	float f32;
	double f64;
	void* ptr;
	FNPTR fnptr;
	REFS* refs;
	struct STR* str;
	struct TUP* tup;
} DATA;

typedef struct VAL {
	DATA data;
	TAG tag;
} VAL;

typedef struct TYPE {
	const char* name;
	uint64_t flags;
	void (*free)(VAL v);
	void (*trace_)(VAL v, int fd);
	void (*run)(VAL v);
} TYPE;

static void default_free   (VAL v);
static void default_trace_ (VAL v, int fd);
static void default_run    (VAL v);

static void int_trace_ (VAL v, int fd);
static TYPE TYPE_INT = {
	.name = "Int",
	.flags = 0,
	.free = default_free,
	.trace_ = int_trace_,
	.run = default_run,
};

static void fnptr_run (VAL v);
static TYPE TYPE_FNPTR = {
	.name = "FnPtr",
	.flags = 0,
	.free = default_free,
	.trace_ = default_trace_,
	.run = fnptr_run,
};

static TYPE TYPE_F64 = {
	.name = "F64",
	.flags = 0,
	.free = default_free,
	.trace_ = default_trace_,
	.run = default_run,
};

static TYPE TYPE_F32 = {
	.name = "F32",
	.flags = 0,
	.free = default_free,
	.trace_ = default_trace_,
	.run = default_run,
};

static void str_free (VAL v);
static void str_trace_ (VAL v, int fd);
static TYPE TYPE_STR = {
	.name = "Str",
	.flags = REFS_FLAG,
	.free = str_free,
	.trace_ = str_trace_,
	.run = default_run,
};

static void tup_free (VAL v);
static void tup_trace_ (VAL v, int fd);
static void tup_run (VAL v);
static TYPE TYPE_TUP = {
	.name = "Tup",
	.flags = REFS_FLAG,
	.free = tup_free,
	.trace_ = tup_trace_,
	.run = tup_run,
};

#define TAG_INT ((TAG)&TYPE_INT)
#define TAG_PTR TAG_INT
#define TAG_FNPTR ((TAG)&TYPE_FNPTR)
#define TAG_F64 ((TAG)&TYPE_F64)
#define TAG_F32 ((TAG)&TYPE_F32)
#define TAG_STR (REFS_FLAG | (TAG)&TYPE_STR)
#define TAG_TUP (REFS_FLAG | (TAG)&TYPE_TUP)

#define VALEQ(v1,v2) (((v1).tag == (v2).tag) && ((v1).data.u64 == (v2).data.u64))

#define VTYPE(v)  ((const TYPE*)((v).tag & 0xFFFFFFFFFFFFFFFC))
#define VREFS(v)  (*(v).data.refs)

#define VINT(v)   ((v).data.i64)
#define VI64(v)   ((v).data.i64)
#define VI32(v)   ((v).data.i32)
#define VI16(v)   ((v).data.i16)
#define VI8(v)    ((v).data.i8)
#define VU64(v)   ((v).data.u64)
#define VU32(v)   ((v).data.u32)
#define VU16(v)   ((v).data.u16)
#define VU8(v)    ((v).data.u8)
#define VBOOL(v)  ((_Bool)((v).data.u64))
#define VF32(v)   ((v).data.f32)
#define VF64(v)   ((v).data.f64)
#define VPTR(v)   ((v).data.ptr)
#define VFNPTR(v) ((v).data.fnptr)

#define HAS_REFS(v) (((v).tag & REFS_FLAG) && (v).data.refs)
#define IS_VAL(v)   (1)
#define IS_INT(v)   ((v).tag == TAG_INT)
#define IS_I64(v)   ((v).tag == TAG_INT)
#define IS_U64(v)   ((v).tag == TAG_INT)
#define IS_BOOL(v)  ((v).tag == TAG_INT)
#define IS_F32(v)   ((v).tag == TAG_F32)
#define IS_F64(v)   ((v).tag == TAG_F64)
#define IS_PTR(v)   ((v).tag == TAG_PTR)
#define IS_FNPTR(v) ((v).tag == TAG_FNPTR)
#define IS_STR(v)   ((v).tag == TAG_STR)
#define IS_TUP(v)   ((v).tag == TAG_TUP)
#define IS_NIL(v)   (IS_TUP(v) && (VTUPLEN(v) == 0))

#define MKVAL(x)   (x)
#define MKINT(x)   ((VAL){.tag=TAG_INT, .data={.i64=(x)}})
#define MKI64(x)   ((VAL){.tag=TAG_INT, .data={.i64=(x)}})
#define MKI32(x)   ((VAL){.tag=TAG_INT, .data={.i64=(x)}})
#define MKI16(x)   ((VAL){.tag=TAG_INT, .data={.i64=(x)}})
#define MKI8(x)    ((VAL){.tag=TAG_INT, .data={.i64=(x)}})
#define MKU64(x)   ((VAL){.tag=TAG_INT, .data={.u64=(x)}})
#define MKU32(x)   ((VAL){.tag=TAG_INT, .data={.u64=(x)}})
#define MKU16(x)   ((VAL){.tag=TAG_INT, .data={.u64=(x)}})
#define MKU8(x)    ((VAL){.tag=TAG_INT, .data={.u64=(x)}})
#define MKBOOL(x)  ((VAL){.tag=TAG_INT, .data={.u64=(x)}})
#define MKF32(x)   ((VAL){.tag=TAG_F32, .data={.f32=(x)}})
#define MKF64(x)   ((VAL){.tag=TAG_F64, .data={.f64=(x)}})
#define MKFNPTR(x) ((VAL){.tag=TAG_FNPTR, .data={.fnptr=(x)}})
#define MKPTR(x)   ((VAL){.tag=TAG_PTR, .data={.ptr=(x)}})

#define VSTR(v)    ((v).data.str)
#define MKSTR(x)   ((VAL){.tag=TAG_STR, .data={.str=(x)}})

#define VTUP(v)    ((v).data.tup)
#define VTUPLEN(v) (tup_len_(VTUP(v)))
#define MKTUP(x,n) ((VAL){.tag=TAG_TUP, .data={.tup=(x)}})
#define MKNIL      ((VAL){.tag=TAG_TUP, .data={.tup=NULL}})

#define TUP_LEN_MAX 0x3FFF

#define STRLIT(v,x,n) \
	do { \
		static STR* mval = 0; \
		if (!mval) mval = str_make(x,n); \
		incref(MKSTR(mval)); \
		v = mval; \
	} while(0)

typedef uint16_t TUPLEN;
typedef struct TUP {
	REFS refs;
	TUPLEN cap;
	TUPLEN size;
	VAL cells[];
} TUP;

typedef struct STR {
	REFS refs;
	USIZE cap;
	USIZE size;
	char data[];
} STR;

#define STACK_MAX 0x80000
static USIZE stack_counter = STACK_MAX;
static VAL stack [STACK_MAX] = {0};
static USIZE rstack_counter = STACK_MAX;
static VAL rstack [STACK_MAX] = {0};

static int global_argc;
static char** global_argv;

static void push_value(VAL v);
static void trace_stack(void);
static void trace_rstack(void);

#if MIRTH_DEBUG
	typedef struct LOC {
		const char* word;
		const char* path;
		USIZE line, col;
		const char* atom;
	} LOC;
	static USIZE fstack_counter = 0;
	static LOC fstack [STACK_MAX] = {
		{
			.word="<word>",
			.path="<path>",
			.line=0, .col=0,
			.atom="<atom>"
		},
	};

	#define WORD_ENTER(_w,_p,_l,_c) \
		do { \
			fstack[fstack_counter].word = (_w); \
			fstack[fstack_counter].path = (_p); \
			fstack[fstack_counter].line = (_l); \
			fstack[fstack_counter].col = (_c); \
			fstack[fstack_counter].atom = ""; \
			fstack_counter++; \
		} while(0)

	#define WORD_ATOM(_l,_c,_n) \
		do { \
			if (fstack_counter > 0) { \
				fstack[fstack_counter-1].line = (_l); \
				fstack[fstack_counter-1].col = (_c); \
				fstack[fstack_counter-1].atom = (_n); \
			} \
		} while(0)

	#define WORD_EXIT \
		do { \
			if (fstack_counter == 0) { \
				TRACE("mismatched WORD_EXIT\n"); \
				exit(1); \
			} \
			fstack_counter--; \
		} while(0)
#endif

#define TRACE(x) write(2,x,strlen(x))
#define _STR(x) #x
#define STR(x) _STR(x)

#define EXPECT(test,msg) \
	do { \
		if (!(test)) { \
			TRACE(msg "\n"); \
			trace_stack(); \
			trace_rstack(); \
			exit(1); \
		} \
	} while(0)

#define EXPECT1(test,msg,v1) \
	do { \
		if (!(test)) { \
			TRACE(msg "\n"); \
			push_value(v1); \
			trace_stack(); \
			trace_rstack(); \
			exit(1); \
		} \
	} while(0)

#define EXPECT2(test,msg,v1,v2) \
	do { \
		if (!(test)) { \
			TRACE(msg "\n"); \
			push_value(v1); \
			push_value(v2); \
			trace_stack(); \
			trace_rstack(); \
			exit(1); \
		} \
	} while(0)

#define ASSERT(test) \
	EXPECT(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")")
#define ASSERT1(test,v) \
	EXPECT1(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")", v)
#define ASSERT2(test,v1,v2) \
	EXPECT2(test, __FILE__ ":" STR(__LINE__) ": error: assertion failed (" #test ")", v1, v2)

#define incref(v) do { if (HAS_REFS(v)) VREFS(v)++; } while(0)
#define decref(v) do { if (HAS_REFS(v)) if (!--VREFS(v)) free_value(v); } while(0)
static void free_value(VAL v) {
	ASSERT(VTYPE(v));
	ASSERT(VTYPE(v)->free);
	ASSERT(HAS_REFS(v));
	ASSERT(VREFS(v) == 0);
	VTYPE(v)->free(v);
}

static void default_free (VAL v) {
	TRACE("panic! tried to free ");
	TRACE(VTYPE(v)->name);
	TRACE(" value\n");
	exit(1);
}

static void str_free (VAL v) {
	STR* str = VSTR(v);
	free(str);
}

static void tup_free (VAL v) {
	TUP* tup = VTUP(v);
	if (tup) {
		for (TUPLEN i = 0; i < tup->size; i++) {
			decref(tup->cells[i]);
		}
		free(tup);
	}
}

static void tup_decref_outer(TUP* tup, size_t n) {
	ASSERT(tup);
	ASSERT(tup->size == n);
	if (tup->refs == 1) {
		free(tup);
	} else {
		for (size_t i = 0; i < n; i++) {
			incref(tup->cells[i]);
		}
		if (!--tup->refs) tup_free(MKTUP(tup,n));
	}
}

static TUPLEN tup_len_ (TUP* tup) {
	if (tup) {
		return tup->size;
	} else {
		return 0;
	}
}

static uint64_t value_u64 (VAL v) { ASSERT1(IS_INT(v),v); return VU64(v); }
static uint32_t value_u32 (VAL v) { uint64_t x = value_u64(v); ASSERT1(x <= UINT32_MAX, v); return (uint32_t)x; }
static uint16_t value_u16 (VAL v) { uint64_t x = value_u64(v); ASSERT1(x <= UINT16_MAX, v); return (uint16_t)x; }
static uint8_t value_u8 (VAL v) { uint64_t x = value_u64(v); ASSERT1(x <= UINT8_MAX,  v); return (uint8_t)x; }

static int64_t value_i64 (VAL v) { ASSERT1(IS_INT(v),v); return VI64(v); }
static int32_t value_i32 (VAL v) { int64_t x = value_i64(v); ASSERT1((INT32_MIN <= x) && (x <= INT32_MAX), v); return (int32_t)x; }
static int16_t value_i16 (VAL v) { int64_t x = value_i64(v); ASSERT1((INT16_MIN <= x) && (x <= INT16_MAX), v); return (int16_t)x; }
static int8_t value_i8 (VAL v) { int64_t x = value_i64(v); ASSERT1((INT8_MIN <= x) && (x <= INT8_MAX),  v); return (int8_t)x; }

static double value_f64 (VAL v) { ASSERT1(IS_F64(v), v); return VF64(v); }
static float value_f32 (VAL v) { ASSERT1(IS_F32(v), v); return VF32(v); }

static void* value_ptr (VAL v) { ASSERT1(IS_PTR(v),v); return VPTR(v); }
static FNPTR value_fnptr (VAL v) { ASSERT1(IS_FNPTR(v),v); return VFNPTR(v); }
static STR* value_str (VAL v) { ASSERT1(IS_STR(v),v); return VSTR(v); }
static TUP* value_tup (VAL v, TUPLEN n) { ASSERT1(IS_TUP(v) && (VTUPLEN(v) == n), v); return VTUP(v); }

static void push_value (VAL x) { ASSERT(stack_counter > 0); stack[--stack_counter] = x; }
static void push_resource (VAL x) { ASSERT(rstack_counter > 0); rstack[--rstack_counter] = x; }
static VAL pop_value (void) { ASSERT(stack_counter < STACK_MAX); return stack[stack_counter++]; }
static VAL pop_resource (void) { ASSERT(rstack_counter < STACK_MAX); return rstack[rstack_counter++]; }

// Create a TUP with at least min(cap_hint, TUP_LEN_MAX) capacity.
static TUP* tup_new (TUPLEN cap_hint) {
	if (cap_hint < 3) cap_hint = 3;
	if (cap_hint > TUP_LEN_MAX) cap_hint = TUP_LEN_MAX;
	TUP *new_tup = calloc(1, sizeof(TUP) + sizeof(VAL)*(USIZE)cap_hint);
	ASSERT(new_tup);
	new_tup->refs = 1;
	new_tup->cap = cap_hint;
	return new_tup;
}

static TUP* tup_pack1 (VAL v1) {
	TUP* tup = tup_new(1);
	ASSERT(tup); ASSERT(tup->cap >= 1);
	tup->size = 1;
	tup->cells[0] = v1;
	return tup;
}
static TUP* tup_pack2 (VAL v1, VAL v2) {
	TUP* tup = tup_new(2);
	ASSERT(tup); ASSERT(tup->cap >= 2);
	tup->size = 2;
	tup->cells[0] = v1;
	tup->cells[1] = v2;
	return tup;
}
static TUP* tup_pack3 (VAL v1, VAL v2, VAL v3) {
	TUP* tup = tup_new(3);
	ASSERT(tup); ASSERT(tup->cap >= 3);
	tup->size = 3;
	tup->cells[0] = v1;
	tup->cells[1] = v2;
	tup->cells[2] = v3;
	return tup;
}
static TUP* tup_pack4 (VAL v1, VAL v2, VAL v3, VAL v4) {
	TUP* tup = tup_new(4);
	ASSERT(tup); ASSERT(tup->cap >= 4);
	tup->size = 4;
	tup->cells[0] = v1;
	tup->cells[1] = v2;
	tup->cells[2] = v3;
	tup->cells[3] = v4;
	return tup;
}
static TUP* tup_pack5 (VAL v1, VAL v2, VAL v3, VAL v4, VAL v5) {
	TUP* tup = tup_new(5);
	ASSERT(tup); ASSERT(tup->cap >= 5);
	tup->size = 5;
	tup->cells[0] = v1;
	tup->cells[1] = v2;
	tup->cells[2] = v3;
	tup->cells[3] = v4;
	tup->cells[4] = v5;
	return tup;
}

static VAL tup_replace (VAL tup, TUPLEN i, VAL v) {
	ASSERT(IS_TUP(tup));
	TUPLEN n = VTUPLEN(tup);
	ASSERT(i < n);
	if (VTUP(tup)->refs > 1) {
		TUP* newtup = tup_new(n);
		newtup->size = n;
		memcpy(newtup->cells, VTUP(tup)->cells, n*sizeof(VAL));
		for (TUPLEN j=0; j<n; j++) incref(newtup->cells[j]);
		decref(tup);
		tup = MKTUP(newtup, n);
	}
	VAL u = VTUP(tup)->cells[i];
	VTUP(tup)->cells[i] = v;
	decref(u);
	return tup;
}

typedef struct STACK {
	size_t cap;
	size_t len;
	VAL* val;
} STACK;

static VAL lpop(STACK* stk) {
	ASSERT(stk->len > 0);
	return stk->val[--stk->len];
}
static void lpush(STACK* stk, VAL val) {
	if (stk->len >= stk->cap) {
		stk->cap = stk->cap * 2 + 4;
		VAL* newval = realloc(stk->val, stk->cap * sizeof(VAL));
		ASSERT(newval);
		stk->val = newval;
	}
	stk->val[stk->len++] = val;
}

static STR* str_alloc (USIZE cap) {
	ASSERT(cap <= SIZE_MAX - sizeof(STR) - 4);
	STR* str = calloc(1, (size_t)(cap + sizeof(STR) + 4));
	EXPECT(str, "failed to allocate string");
	str->refs = 1;
	str->cap = cap;
	return str;
}

static STR* str_make (const char* data, USIZE size) {
	ASSERT(data);
	ASSERT(size <= SIZE_MAX - sizeof(STR) - 4);
	STR* str = str_alloc(size);
	str->size = size;
	memcpy(str->data, data, (size_t)size);
	return str;
}
#define mkstr(x,n) MKSTR(str_make((x), (n)))

static STR* str_cat (STR* s1, STR* s2) {
	EXPECT(s1 && s2, "invalid strings in prim-str-cat");
	USIZE m = s1->cap;
	USIZE n1 = s1->size;
	USIZE n2 = s2->size;
	if ((s1->refs == 1) && (n1 + n2 + 4 <= m)) {
		ASSERT(n2 <= SIZE_MAX);
		memcpy(s1->data + n1, s2->data, (size_t)n2);
		s1->size += n2;
		ASSERT(s1->size + 4 <= s1->cap);
		decref(MKSTR(s2));
		return s1;
	} else {
		USIZE m2 = n1 + n2 + 4;
		if ((s1->refs == 1) && (m2 < m*2)) m2 = m*2;
		STR* str = str_alloc(m2);
		str->size = n1+n2;
		ASSERT(n1 <= SIZE_MAX);
		ASSERT(n2 <= SIZE_MAX);
		memcpy(str->data, s1->data, (size_t)n1);
		memcpy(str->data+n1, s2->data, (size_t)n2);
		decref(MKSTR(s1));
		decref(MKSTR(s2));
		return str;
	}
}

static USIZE get_data_tag(VAL v) {
	if (IS_TUP(v)) {
		ASSERT(VTUPLEN(v) > 0);
		return VU64(VTUP(v)->cells[0]);
	} else {
		return VU64(v);
	}
}

static int str_cmp(STR* s1, STR* s2) {
	ASSERT(s1 && s2);
	USIZE n1 = s1->size;
	USIZE n2 = s2->size;
	USIZE n = (n1 < n2 ? n1 : n2);
	ASSERT(n < SIZE_MAX);
	int r = memcmp(s1->data, s2->data, (size_t)n);
	decref(MKSTR(s1));
	decref(MKSTR(s2));
	if (r) return r;
	if (n1 < n2) return -1;
	if (n1 > n2) return 1;
	return 0;
}

static void default_run(VAL v) {
	TRACE("panic! tried to run ");
	TRACE(VTYPE(v)->name);
	TRACE("value\n");
	exit(1);
}

static void tup_run(VAL v) {
	ASSERT(VTUPLEN(v)>0);
	VAL h = VTUP(v)->cells[0];
	ASSERT(IS_FNPTR(h));
	push_value(v);
	VFNPTR(h)();
}

static void fnptr_run(VAL v) {
	VFNPTR(v)();
}

static void run_value(VAL v) {
	ASSERT(VTYPE(v));
	ASSERT(VTYPE(v)->run);
	VTYPE(v)->run(v);
}

static int64_t i64_add (int64_t a, int64_t b) {
	EXPECT(((b >= 0) && (a <= INT64_MAX - b))
		|| ((b <  0) && (a >= INT64_MIN - b)),
		"overflow during integer addition");
	return a + b;
}

static int64_t i64_sub (int64_t a, int64_t b) {
	EXPECT(((b >= 0) && (a >= INT64_MIN + b))
		|| ((b <  0) && (a <= INT64_MAX + b)),
		"overflow during integer subtraction");
	return a - b;
}

static int64_t i64_mul (int64_t a, int64_t b) {
	EXPECT((a == 0) || (b == 0) ||
		((a > 0) && (b > 0) && (a <= INT64_MAX/b)) ||
		((a > 0) && (b < 0) && (a <= INT64_MIN/b)) ||
		((a < 0) && (b > 0) && (a >= INT64_MIN/b)) ||
		((a < 0) && (b < 0) && (a >= INT64_MAX/b)),
		"overflow during integer multiplication"
	);
	return a * b;
}

static int64_t i64_div (int64_t a, int64_t b) {
	EXPECT(b != 0, "divide by zero");
	EXPECT(!((b == -1) && (a == INT64_MIN)), "overflow during integer division");
	int64_t r = a % b;
	int64_t q = a / b;
	if (((a < 0) ^ (b < 0)) && r) q--;
	return q;
}

static int64_t i64_mod (int64_t a, int64_t b) {
	EXPECT(b != 0, "divide by zero");
	EXPECT(!((b == -1) && (a == INT64_MIN)), "overflow during integer division");
	int64_t r = a % b;
	int64_t q = a / b;
	if (((a < 0) ^ (b < 0)) && r) r += b;
	return r;
}

static uint64_t u64_shl (uint64_t a, uint64_t b) {
	if (b >= 64) return 0;
	return (a << b);
}

static uint64_t u64_shr (uint64_t a, uint64_t b) {
	if (b >= 64) return 0;
	return (a >> b);
}

static STR* f32_show (float d) {
 	char result[DBL_DIG+32] = {0};
	int len = sprintf(result, "%.*g", DBL_DIG, d);
	return str_make(result, len);
}

static STR* f64_show (double d) {
 	char result[DBL_DIG+32] = {0};
	int len = sprintf(result, "%.*g", DBL_DIG, d);
	return str_make(result, len);
}

void int_repr(int64_t y, char** out_ptr, size_t *out_size) {
	static char c[32] = {0};
	memset(c, 0, 32);
	char* p = c+30;
	size_t n = 0;
	uint64_t x;
	if (y < 0) {
		if (y == INT64_MIN) {
			x = 1+(uint64_t)INT64_MAX;
		} else {
			x = (uint64_t)-y;
		}
	} else {
		x = (uint64_t)y;
	}
	do {
		*--p = '0' + (x % 10);
		x /= 10;
		n++;
	} while (x);
	if (y < 0) {
		*--p = '-';
		n++;
	}
	*out_ptr = p;
	*out_size = n;
}

void int_trace_(VAL v, int fd) {
	char* p; size_t n;
	int_repr(VINT(v), &p, &n);
	write(fd, p, n);
}

STR* i64_show (int64_t x) {
	bool cache = (0 <= x) && (x <= 255);
	static STR* scache[256] = {0};
	if (cache && scache[x]) {
		STR* s = scache[x];
		incref(MKSTR(s));
		return s;
	} else {
		char* p; size_t n;
		int_repr(x,&p,&n);
		STR* s = str_make(p,n);
		if (cache) {
			scache[x] = s;
			incref(MKSTR(s));
		}
		return s;
	}
}

void str_trace_(VAL v, int fd) {
	STR* str = VSTR(v);
	ASSERT(str->size <= SIZE_MAX);
	write(fd, "\"", 1);
	USIZE i0 = 0;
	char xb[4]={'\\','x'};
	USIZE i;
	for (i = 0; i < str->size; i++) {
		const char* c = NULL; size_t n=0;
		uint8_t v=str->data[i];
		switch(v) {
			case '\n': c="\\n"; n=2; break;
			case '\r': c="\\r"; n=2; break;
			case '\t': c="\\t"; n=2; break;
			case '\\': c="\\\\"; n=2; break;
			case '\"': c="\\\""; n=2; break;
			default:
				if (!((' ' <= v) && (v < 0x7F))) {
					xb[2] = '0' + (v&15) + ('A'-'9'-1)*((v&15) > 9);
					xb[3] = '0' + (v/16) + ('A'-'9'-1)*((v/16) > 9);
					c=xb; n=4;
				}
		}
		if ((n > 0) && (i0 < i)) {
			write(fd, str->data+i0, (size_t)(i-i0));
			i0=i+1;
		}
		write(fd, c, n);
	}
	if (i0 < i) write(fd, str->data+i0, (size_t)(i-i0));
	write(fd, "\"", 1);
}

static void value_trace_(VAL v, int fd) {
	ASSERT(VTYPE(v));
	ASSERT(VTYPE(v)->trace_);
	VTYPE(v)->trace_(v,fd);
}

static void default_trace_(VAL v, int fd) {
	const char* name = VTYPE(v)->name;
	write(fd, "<", 1);
	write(fd, name, strlen(name));
	write(fd, ">", 1);
}

static void tup_trace_(VAL v, int fd) {
	TUPLEN len = VTUPLEN(v);
	TUP* tup = VTUP(v);
	if (len == 0) {
		write(fd, "[]", 2);
	} else {
		write(fd, "[ ", 2);
		for(TUPLEN i = 0; i < len; i++) {
			if (i > 0) write(fd, " ", 1);
			value_trace_(tup->cells[i], fd);
		}
		write(fd, " ]", 2);
	}
}

static void trace_stack (void) {
	TRACE("??");
	for (long i = STACK_MAX-1; i >= (long)stack_counter; i--) {
		TRACE(" ");
		value_trace_(stack[i], 2);
	}
	TRACE("\n");
}

static void trace_rstack (void) {
	#if MIRTH_DEBUG
		TRACE("call stack:\n");
		for (USIZE i = fstack_counter; i --> 1;) {
			TRACE("    ");
			if (fstack[i-1].atom && *fstack[i-1].atom && strcmp(fstack[i-1].atom, fstack[i].word)) {
				TRACE(fstack[i-1].atom);
				TRACE(" -> ");
			}
			TRACE(fstack[i].word);
			TRACE(" at ");
			TRACE(fstack[i-1].path);
			TRACE(":");
			int_trace_(MKI64(fstack[i-1].line), 2);
			TRACE(":");
			int_trace_(MKI64(fstack[i-1].col), 2);
			TRACE("\n");
		}
	#endif
}

static void do_panic(STR* m) {
	if (m) {
		size_t n = (m->size < SIZE_MAX) ? (size_t)(m->size) : SIZE_MAX;
		write(2, m->data, n);
		TRACE("\n");
	} else {
		TRACE("panic!\n");
	}
	trace_stack();
	trace_rstack();
	exit(1);
}

#if defined(MIRTH_WINDOWS)
#define RUNNING_OS 1
#elif defined(MIRTH_LINUX)
#define RUNNING_OS 2
#elif defined(MIRTH_MACOS)
#define RUNNING_OS 3
#else
#define RUNNING_OS 0
#endif

#if defined(MIRTH_I386)
#define RUNNING_ARCH 1
#elif defined(MIRTH_AMD64)
#define RUNNING_ARCH 2
#elif defined(MIRTH_ARM64)
#define RUNNING_ARCH 3
#else
#define RUNNING_ARCH 0
#endif

static void* ptr_alloc (uint64_t n) {
	EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), "invalid size in prim-ptr-alloc");
	void* p = malloc((size_t)n);
	EXPECT(p, "failed to allocate in prim-ptr-alloc");
	return p;
}

static void* ptr_realloc (void* p, uint64_t n) {
	EXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), "invalid size in prim-ptr-realloc");
	void* p2 = realloc(p, (size_t)n);
	EXPECT(p2, "failed to reallocate in prim-ptr-realloc");
	return p2;
}

static void ptr_copy (void* src, uint64_t len, void* dst) {
	if (len > 0) {
		EXPECT(len <= SIZE_MAX, "invalid size in prim-ptr-copy");
		EXPECT(src && dst, "invalid pointer in prim-ptr-copy");
		memcpy(dst, src, (size_t)len);
	}
}

static void ptr_fill (uint8_t val, uint64_t len, void* dst) {
	if (len > 0) {
		EXPECT(len <= SIZE_MAX, "invalid size in prim-ptr-fill");
		EXPECT(dst, "invalid pointer in prim-ptr-fill");
		memset(dst, (int)val, (size_t)len);
	}
}

static void* str_base (STR* s) {
	EXPECT(s && (s->refs > 1), "invalid string for prim-str-base");
	s->refs--;
	return s->data;
}

static uint64_t str_size (STR* s) {
	EXPECT(s, "invalid string for prim-str-size");
	uint64_t n = s->size;
	decref(MKSTR(s));
	return n;
}

static VAL mut_get (void* mut) {
	EXPECT(mut, "invalid pointer in prim-mut-get");
	VAL v = *(VAL*)mut;
	EXPECT(v.tag, "tried to read uninitialized value");
	incref(v);
	return v;
}

static void mut_set (VAL newval, void* mut) {
	EXPECT(mut, "invalid pointer in prim-mut-set");
	VAL oldval = *(VAL*)mut;
	*(VAL*)mut = newval;
	if (oldval.tag) {
		decref(oldval);
	}
}

static bool mut_is_set (void* mut) {
	EXPECT(mut, "invalid pointer in prim-mut-is-set");
	VAL val = *(VAL*)mut;
	return (val.tag != 0);
}

/* GENERATED C99 */

static STACK lbl_emitZ_debugZ_info = {0};
static STACK lbl_inputZ_file = {0};
static STACK lbl_outputZ_file = {0};
static STACK lbl_entryZ_point = {0};
static STACK lbl_packages = {0};
static STACK lbl_packageZ_searchZ_paths = {0};
static STACK lbl_outputZ_path = {0};
static STACK lbl_name = {0};
static STACK lbl_flagZ_type = {0};
static STACK lbl_argZ_doc = {0};
static STACK lbl_doc = {0};
static STACK lbl_group = {0};
static STACK lbl_options = {0};
static STACK lbl_parser = {0};
static STACK lbl_argsZ_doc = {0};
static STACK lbl_x1 = {0};
static STACK lbl_x2 = {0};
static STACK lbl_x3 = {0};
static STACK lbl_x4 = {0};
static STACK lbl_tail = {0};
static STACK lbl_head = {0};
static STACK lbl_x = {0};
static STACK lbl_rest = {0};
static STACK lbl_ok = {0};
static STACK lbl_escapeZ_hex = {0};
static STACK lbl_sizze = {0};
static STACK lbl_base = {0};
static STACK lbl_oldZ_sizze = {0};
static STACK lbl_origZ_sizze = {0};
static STACK lbl_origZ_offset = {0};
static STACK lbl_fileZ_descriptor = {0};
static STACK lbl_owned = {0};
static STACK lbl_sliceZ_sizze = {0};
static STACK lbl_sliceZ_base = {0};
static STACK lbl_success = {0};
static STACK lbl_wroteZ_bytes = {0};
static STACK lbl_length = {0};
static STACK lbl_offset = {0};
static STACK lbl_ZPlusbuffer = {0};
static STACK lbl_ZPlusfile = {0};
static STACK lbl_ZPlusworld = {0};
static STACK lbl_numZ_tests = {0};
static STACK lbl_numZ_failed = {0};
static STACK lbl_testZ_name = {0};
static STACK lbl_testZ_failed = {0};
static STACK lbl_ZPlustests = {0};
static STACK lbl_colZ_offset = {0};
static STACK lbl_argumentZ_parser = {0};
static STACK lbl_state = {0};
static STACK lbl_docZ_length = {0};
static STACK lbl_oo = {0};
static STACK lbl_argv = {0};
static STACK lbl_programZ_name = {0};
static STACK lbl_argvZ_info = {0};
static STACK lbl_parsingZAsk = {0};
static STACK lbl_option = {0};
static STACK lbl_optionZ_option = {0};
static STACK lbl_arg = {0};
static STACK lbl_arguments = {0};
static STACK lbl_positionalZ_index = {0};
static STACK lbl_longestZ_argZ_length = {0};
static STACK lbl_error = {0};
static STACK lbl_namespace = {0};
static STACK lbl_arity = {0};
static STACK lbl_std = {0};
static STACK lbl_prim = {0};
static STACK lbl_bool = {0};
static STACK lbl_true = {0};
static STACK lbl_false = {0};
static STACK lbl_u64 = {0};
static STACK lbl_mkZ_u64 = {0};
static STACK lbl_u32 = {0};
static STACK lbl_mkZ_u32 = {0};
static STACK lbl_u16 = {0};
static STACK lbl_mkZ_u16 = {0};
static STACK lbl_u8 = {0};
static STACK lbl_mkZ_u8 = {0};
static STACK lbl_i64 = {0};
static STACK lbl_mkZ_i64 = {0};
static STACK lbl_i32 = {0};
static STACK lbl_mkZ_i32 = {0};
static STACK lbl_i16 = {0};
static STACK lbl_mkZ_i16 = {0};
static STACK lbl_i8 = {0};
static STACK lbl_mkZ_i8 = {0};
static STACK lbl_cchar = {0};
static STACK lbl_mkZ_cchar = {0};
static STACK lbl_cichar = {0};
static STACK lbl_mkZ_cichar = {0};
static STACK lbl_cshort = {0};
static STACK lbl_mkZ_cshort = {0};
static STACK lbl_cint = {0};
static STACK lbl_mkZ_cint = {0};
static STACK lbl_clong = {0};
static STACK lbl_mkZ_clong = {0};
static STACK lbl_clonglong = {0};
static STACK lbl_mkZ_clonglong = {0};
static STACK lbl_cisizze = {0};
static STACK lbl_mkZ_cisizze = {0};
static STACK lbl_cintptr = {0};
static STACK lbl_mkZ_cintptr = {0};
static STACK lbl_cuchar = {0};
static STACK lbl_mkZ_cuchar = {0};
static STACK lbl_cushort = {0};
static STACK lbl_mkZ_cushort = {0};
static STACK lbl_cuint = {0};
static STACK lbl_mkZ_cuint = {0};
static STACK lbl_culong = {0};
static STACK lbl_mkZ_culong = {0};
static STACK lbl_culonglong = {0};
static STACK lbl_mkZ_culonglong = {0};
static STACK lbl_cusizze = {0};
static STACK lbl_mkZ_cusizze = {0};
static STACK lbl_cuintptr = {0};
static STACK lbl_mkZ_cuintptr = {0};
static STACK lbl_cptr = {0};
static STACK lbl_mkZ_cptr = {0};
static STACK lbl_cconst = {0};
static STACK lbl_mkZ_cconst = {0};
static STACK lbl_crestrict = {0};
static STACK lbl_mkZ_crestrict = {0};
static STACK lbl_cvolatile = {0};
static STACK lbl_mkZ_cvolatile = {0};
static STACK lbl_cvoid = {0};
static STACK lbl_mkZ_cvoid = {0};
static STACK lbl_numZ_errors = {0};
static STACK lbl_numZ_warnings = {0};
static STACK lbl_preferZ_inlineZ_defs = {0};
static STACK lbl_builtin = {0};
static STACK lbl_mirthZ_baseZ_path = {0};
static STACK lbl_ZPlusdiagnostics = {0};
static STACK lbl_ZPluspropstack = {0};
static STACK lbl_errorZ_token = {0};
static STACK lbl_severity = {0};
static STACK lbl_message = {0};
static STACK lbl_location = {0};
static STACK lbl_old = {0};
static STACK lbl_new = {0};
static STACK lbl_module = {0};
static STACK lbl_row = {0};
static STACK lbl_col = {0};
static STACK lbl_label = {0};
static STACK lbl_token = {0};
static STACK lbl_a = {0};
static STACK lbl_b = {0};
static STACK lbl_c = {0};
static STACK lbl_d = {0};
static STACK lbl_e = {0};
static STACK lbl_rr = {0};
static STACK lbl_sr = {0};
static STACK lbl_xs = {0};
static STACK lbl_ys = {0};
static STACK lbl_ta = {0};
static STACK lbl_tb = {0};
static STACK lbl_tc = {0};
static STACK lbl_td = {0};
static STACK lbl_te = {0};
static STACK lbl_trr = {0};
static STACK lbl_tsr = {0};
static STACK lbl_txs = {0};
static STACK lbl_tys = {0};
static STACK lbl_qname = {0};
static STACK lbl_type = {0};
static STACK lbl_data = {0};
static STACK lbl_field = {0};
static STACK lbl_labels = {0};
static STACK lbl_withses = {0};
static STACK lbl_conses = {0};
static STACK lbl_parts = {0};
static STACK lbl_baseZAsk = {0};
static STACK lbl_dom = {0};
static STACK lbl_cod = {0};
static STACK lbl_ctype = {0};
static STACK lbl_tags = {0};
static STACK lbl_params = {0};
static STACK lbl_tag = {0};
static STACK lbl_inputs = {0};
static STACK lbl_value = {0};
static STACK lbl_underlying = {0};
static STACK lbl_tagname = {0};
static STACK lbl_dataname = {0};
static STACK lbl_input = {0};
static STACK lbl_typeZDivresource = {0};
static STACK lbl_body = {0};
static STACK lbl_sigZAsk = {0};
static STACK lbl_pattern = {0};
static STACK lbl_ctx = {0};
static STACK lbl_subst = {0};
static STACK lbl_op = {0};
static STACK lbl_saved = {0};
static STACK lbl_home = {0};
static STACK lbl_cases = {0};
static STACK lbl_tokenZ_start = {0};
static STACK lbl_tokenZ_end = {0};
static STACK lbl_outerZ_ctx = {0};
static STACK lbl_innerZ_ctx = {0};
static STACK lbl_mid = {0};
static STACK lbl_atoms = {0};
static STACK lbl_args = {0};
static STACK lbl_lexerZ_module = {0};
static STACK lbl_ZPlusinput = {0};
static STACK lbl_lexerZ_row = {0};
static STACK lbl_lexerZ_col = {0};
static STACK lbl_lexerZ_stack = {0};
static STACK lbl_lexerZ_lastZ_token = {0};
static STACK lbl_allowZ_typeZ_holes = {0};
static STACK lbl_allowZ_implicitZ_typeZ_vars = {0};
static STACK lbl_ignoreZ_lastZ_name = {0};
static STACK lbl_nameZDivdname = {0};
static STACK lbl_candidates = {0};
static STACK lbl_rejected = {0};
static STACK lbl_sort = {0};
static STACK lbl_reportZ_ambiguousZ_asZ_warning = {0};
static STACK lbl_accum = {0};
static STACK lbl_arrow = {0};
static STACK lbl_word = {0};
static STACK lbl_ZPlusab = {0};
static STACK lbl_ZPluspat = {0};
static STACK lbl_tok = {0};
static STACK lbl_header = {0};
static STACK lbl_valueZAsk = {0};
static STACK lbl_syn = {0};
static STACK lbl_dat = {0};
static STACK lbl_untag = {0};
static STACK lbl_lbl = {0};
static STACK lbl_lblz_get = {0};
static STACK lbl_lblz_set = {0};
static STACK lbl_lblz_lens = {0};
static STACK lbl_sx = {0};
static STACK lbl_sy = {0};
static STACK lbl_lblty = {0};
static STACK lbl_datty = {0};
static STACK lbl_f = {0};
static STACK lbl_hasZ_paren = {0};
static STACK lbl_target = {0};
static STACK lbl_alias = {0};
static STACK lbl_code = {0};
static STACK lbl_symbol = {0};
static STACK lbl_sig = {0};
static STACK lbl_extblock = {0};
static STACK lbl_external = {0};
static STACK lbl_ZPlusmirth = {0};
static STACK lbl_contents = {0};
static STACK lbl_tbl = {0};
static STACK lbl_va = {0};
static STACK lbl_vx = {0};
static STACK lbl_valueZ_type = {0};
static STACK lbl_indexZ_type = {0};
static STACK lbl_fld = {0};
static STACK lbl_checklist = {0};
static STACK lbl_w = {0};
static STACK lbl_key = {0};
static STACK lbl_wordZTick = {0};
static STACK lbl_spword = {0};
static STACK lbl_spkey = {0};
static STACK lbl_spmap = {0};
static STACK lbl_depth = {0};
static STACK lbl_freshZ_counter = {0};
static STACK lbl_putZ_enabled = {0};
static STACK lbl_ZPlusneeds = {0};
static STACK lbl_ZPlusoutput = {0};
static STACK lbl_pfx = {0};
static STACK lbl_sfx = {0};
static STACK lbl_tup = {0};
static STACK lbl_i = {0};
static STACK lbl_fieldty = {0};
static STACK lbl_ZPlustuplevar = {0};
static STACK lbl_fieldrepr = {0};
static STACK lbl_fieldval = {0};
static STACK lbl_tupleval = {0};
static STACK lbl_ext = {0};
static STACK lbl_cty = {0};
static STACK lbl_outty = {0};
static STACK lbl_argZ_index = {0};
static STACK lbl_expr = {0};
static STACK lbl_mode = {0};
static STACK lbl_repr = {0};
static STACK lbl_source = {0};
static STACK lbl_valueZ_name = {0};
static STACK lbl_valueZ_repr = {0};
static STACK lbl_mustZ_flush = {0};
static STACK lbl_cname = {0};
static STACK lbl_inZ_params = {0};
static STACK lbl_outZ_paramsZ_2 = {0};
static STACK lbl_returnZ_param = {0};
static STACK lbl_outZ_paramsZ_1 = {0};
static STACK lbl_doesntZ_return = {0};
static STACK lbl_api = {0};
static STACK lbl_poppedZ_inputs = {0};
static STACK lbl_reservedZ_outputsZ_1 = {0};
static STACK lbl_reservedZ_outputsZ_2 = {0};
static STACK lbl_sep = {0};
static STACK lbl_reservedZ_return = {0};
static STACK lbl_reachable = {0};
static STACK lbl_env = {0};
static STACK lbl_codZ_parts = {0};
static STACK lbl_codZ_base = {0};
static STACK lbl_domZ_parts = {0};
static STACK lbl_domZ_base = {0};
static STACK lbl_ZPlusscrutinee = {0};
static STACK lbl_ZPlusstr = {0};
static STACK lbl_avoidZ_hexdigit = {0};
static STACK lbl_resourceZ_repr = {0};
static STACK lbl_resourceZ_name = {0};
static STACK lbl_ZPlusc99 = {0};
static STACK lbl_ZPlusstack = {0};
static STACK lbl_ZPlusx = {0};
static STACK lbl_branchZ_splitZ_target = {0};
static STACK lbl_reachableZ_in = {0};
static STACK lbl_reachableZ_out = {0};
static STACK lbl_varZ_var = {0};
static STACK lbl_ZPlusb = {0};
static STACK lbl_ZPlusa = {0};
static STACK lbl_ZPlusdipped = {0};
static STACK lbl_ZPluscond = {0};
static STACK lbl_ZPlusknot = {0};
static STACK lbl_ZPlusdst = {0};
static STACK lbl_ZPluslen = {0};
static STACK lbl_ZPlussrc = {0};
static STACK lbl_ZPlusval = {0};
static STACK lbl_outZ_type = {0};
static STACK lbl_argsZ_swapped = {0};
static STACK lbl_arg2Z_type = {0};
static STACK lbl_arg1Z_type = {0};
static STACK lbl_arg1 = {0};
static STACK lbl_arg2 = {0};
static STACK lbl_argZ_type = {0};
static STACK lbl_ZPlusfnptr = {0};
static STACK lbl_ZPlustup = {0};
static STACK lbl_var = {0};
static STACK lbl_ZPlusclosure = {0};
static STACK lbl_ZPlusindex = {0};
static STACK lbl_stack = {0};
static STACK lbl_ZPlusset = {0};
static VAL mtw_std_either_Either_2_Left (VAL in_a_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* Left */);
	v3->cells[1] = in_a_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_std_either_Either_2_Left (VAL in_Either_1) {
	VAL v3 = VTUP(in_Either_1)->cells[1];
	tup_decref_outer(VTUP(in_Either_1),2);
	return v3;
}
static VAL mtw_std_either_Either_2_Right (VAL in_b_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* Right */);
	v3->cells[1] = in_b_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_std_either_Either_2_Right (VAL in_Either_1) {
	VAL v3 = VTUP(in_Either_1)->cells[1];
	tup_decref_outer(VTUP(in_Either_1),2);
	return v3;
}
static void mtw_std_buffer_ZPlusBuffer_ZPlusBuffer (int64_t in_USizze_1, void* in_Ptr_2, VAL *out_ZPlusBuffer_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* +Buffer */);
	v4->cells[2] = MKPTR(in_Ptr_2);
	v4->cells[1] = MKI64(in_USizze_1);
	VAL v5 = MKTUP(v4, 3);
	*out_ZPlusBuffer_3 = v5;
}
static void mtp_std_buffer_ZPlusBuffer_ZPlusBuffer (VAL in_ZPlusBuffer_1, int64_t *out_USizze_2, void* *out_Ptr_3) {
	VAL v4 = VTUP(in_ZPlusBuffer_1)->cells[1];
	VAL v5 = VTUP(in_ZPlusBuffer_1)->cells[2];
	tup_decref_outer(VTUP(in_ZPlusBuffer_1),3);
	*out_Ptr_3 = value_ptr(v5);
	*out_USizze_2 = value_i64(v4);
}
static VAL mtw_std_list_List_1_Cons (VAL in_t_1, VAL in_List_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(1LL /* Cons */);
	v4->cells[2] = in_List_2;
	v4->cells[1] = in_t_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_std_list_List_1_Cons (VAL in_List_1, VAL *out_List_3) {
	VAL v4 = VTUP(in_List_1)->cells[1];
	VAL v5 = VTUP(in_List_1)->cells[2];
	tup_decref_outer(VTUP(in_List_1),3);
	*out_List_3 = v5;
	return v4;
}
static VAL mtw_std_list_ListZPlus_1_ListZPlus (VAL in_t_1, VAL in_List_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* List+ */);
	v4->cells[2] = in_List_2;
	v4->cells[1] = in_t_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static void mtp_std_list_ListZPlus_1_ListZPlus (VAL in_ListZPlus_1, VAL *out_t_2, VAL *out_List_3) {
	VAL v4 = VTUP(in_ListZPlus_1)->cells[1];
	VAL v5 = VTUP(in_ListZPlus_1)->cells[2];
	tup_decref_outer(VTUP(in_ListZPlus_1),3);
	*out_List_3 = v5;
	*out_t_2 = v4;
}
static VAL mtw_std_maybe_Maybe_1_Some (VAL in_t_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* Some */);
	v3->cells[1] = in_t_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_std_maybe_Maybe_1_Some (VAL in_Maybe_1) {
	VAL v3 = VTUP(in_Maybe_1)->cells[1];
	tup_decref_outer(VTUP(in_Maybe_1),2);
	return v3;
}
static void mtw_std_input_ZPlusInputOpenState_ZPlusInputOpenState (int64_t in_USizze_1, int64_t in_UOffset_2, VAL in_ZPlusFile_3, VAL in_ZPlusBuffer_4, VAL *out_ZPlusInputOpenState_5) {
	TUP* v6 = tup_new(5);
	v6->size = 5;
	v6->cells[0] = MKI64(0LL /* +InputOpenState */);
	v6->cells[4] = in_ZPlusBuffer_4;
	v6->cells[3] = in_ZPlusFile_3;
	v6->cells[2] = MKI64(in_UOffset_2);
	v6->cells[1] = MKI64(in_USizze_1);
	VAL v7 = MKTUP(v6, 5);
	*out_ZPlusInputOpenState_5 = v7;
}
static void mtp_std_input_ZPlusInputOpenState_ZPlusInputOpenState (VAL in_ZPlusInputOpenState_1, int64_t *out_USizze_2, int64_t *out_UOffset_3, VAL *out_ZPlusFile_4, VAL *out_ZPlusBuffer_5) {
	VAL v6 = VTUP(in_ZPlusInputOpenState_1)->cells[1];
	VAL v7 = VTUP(in_ZPlusInputOpenState_1)->cells[2];
	VAL v8 = VTUP(in_ZPlusInputOpenState_1)->cells[3];
	VAL v9 = VTUP(in_ZPlusInputOpenState_1)->cells[4];
	tup_decref_outer(VTUP(in_ZPlusInputOpenState_1),5);
	*out_ZPlusBuffer_5 = v9;
	*out_ZPlusFile_4 = v8;
	*out_UOffset_3 = value_i64(v7);
	*out_USizze_2 = value_i64(v6);
}
static void mtw_std_input_ZPlusInput_ZPlusInputOpen (VAL in_ZPlusInputOpenState_1, VAL *out_ZPlusInput_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* +InputOpen */);
	v3->cells[1] = in_ZPlusInputOpenState_1;
	VAL v4 = MKTUP(v3, 2);
	*out_ZPlusInput_2 = v4;
}
static void mtp_std_input_ZPlusInput_ZPlusInputOpen (VAL in_ZPlusInput_1, VAL *out_ZPlusInputOpenState_2) {
	VAL v3 = VTUP(in_ZPlusInput_1)->cells[1];
	tup_decref_outer(VTUP(in_ZPlusInput_1),2);
	*out_ZPlusInputOpenState_2 = v3;
}
static void mtw_std_input_ZPlusInput_ZPlusInputDone (VAL in_ZPlusFile_1, VAL *out_ZPlusInput_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* +InputDone */);
	v3->cells[1] = in_ZPlusFile_1;
	VAL v4 = MKTUP(v3, 2);
	*out_ZPlusInput_2 = v4;
}
static void mtp_std_input_ZPlusInput_ZPlusInputDone (VAL in_ZPlusInput_1, VAL *out_ZPlusFile_2) {
	VAL v3 = VTUP(in_ZPlusInput_1)->cells[1];
	tup_decref_outer(VTUP(in_ZPlusInput_1),2);
	*out_ZPlusFile_2 = v3;
}
static void mtw_std_output_ZPlusOutput_ZPlusOutput (int64_t in_USizze_1, VAL in_ZPlusFile_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusOutput_4) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(0LL /* +Output */);
	v5->cells[3] = in_ZPlusBuffer_3;
	v5->cells[2] = in_ZPlusFile_2;
	v5->cells[1] = MKI64(in_USizze_1);
	VAL v6 = MKTUP(v5, 4);
	*out_ZPlusOutput_4 = v6;
}
static void mtp_std_output_ZPlusOutput_ZPlusOutput (VAL in_ZPlusOutput_1, int64_t *out_USizze_2, VAL *out_ZPlusFile_3, VAL *out_ZPlusBuffer_4) {
	VAL v5 = VTUP(in_ZPlusOutput_1)->cells[1];
	VAL v6 = VTUP(in_ZPlusOutput_1)->cells[2];
	VAL v7 = VTUP(in_ZPlusOutput_1)->cells[3];
	tup_decref_outer(VTUP(in_ZPlusOutput_1),4);
	*out_ZPlusBuffer_4 = v7;
	*out_ZPlusFile_3 = v6;
	*out_USizze_2 = value_i64(v5);
}
static void mtw_std_file_ZPlusFile_ZPlusFile (int64_t in_Int_1, int64_t in_Bool_2, VAL *out_ZPlusFile_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* +File */);
	v4->cells[2] = MKI64(in_Bool_2);
	v4->cells[1] = MKI64(in_Int_1);
	VAL v5 = MKTUP(v4, 3);
	*out_ZPlusFile_3 = v5;
}
static void mtp_std_file_ZPlusFile_ZPlusFile (VAL in_ZPlusFile_1, int64_t *out_Int_2, int64_t *out_Bool_3) {
	VAL v4 = VTUP(in_ZPlusFile_1)->cells[1];
	VAL v5 = VTUP(in_ZPlusFile_1)->cells[2];
	tup_decref_outer(VTUP(in_ZPlusFile_1),3);
	*out_Bool_3 = value_i64(v5);
	*out_Int_2 = value_i64(v4);
}
static void mtw_std_file_ZPlusFileZAsk_ZPlusFileOk (VAL in_ZPlusFile_1, VAL *out_ZPlusFileZAsk_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* +FileOk */);
	v3->cells[1] = in_ZPlusFile_1;
	VAL v4 = MKTUP(v3, 2);
	*out_ZPlusFileZAsk_2 = v4;
}
static void mtp_std_file_ZPlusFileZAsk_ZPlusFileOk (VAL in_ZPlusFileZAsk_1, VAL *out_ZPlusFile_2) {
	VAL v3 = VTUP(in_ZPlusFileZAsk_1)->cells[1];
	tup_decref_outer(VTUP(in_ZPlusFileZAsk_1),2);
	*out_ZPlusFile_2 = v3;
}
static void mtw_std_file_ZPlusFileZAsk_ZPlusFileErr (VAL in_Str_1, VAL *out_ZPlusFileZAsk_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* +FileErr */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	*out_ZPlusFileZAsk_2 = v4;
}
static VAL mtp_std_file_ZPlusFileZAsk_ZPlusFileErr (VAL in_ZPlusFileZAsk_1) {
	VAL v3 = VTUP(in_ZPlusFileZAsk_1)->cells[1];
	tup_decref_outer(VTUP(in_ZPlusFileZAsk_1),2);
	return v3;
}
static VAL mtp_std_terminal_Sgr_FGColor (VAL in_Sgr_1) {
	VAL v3 = VTUP(in_Sgr_1)->cells[1];
	tup_decref_outer(VTUP(in_Sgr_1),2);
	return v3;
}
static VAL mtp_std_terminal_Sgr_BGColor (VAL in_Sgr_1) {
	VAL v3 = VTUP(in_Sgr_1)->cells[1];
	tup_decref_outer(VTUP(in_Sgr_1),2);
	return v3;
}
static int64_t mtp_std_terminal_SGRColor_Numbered (VAL in_SGRColor_1) {
	VAL v3 = VTUP(in_SGRColor_1)->cells[1];
	tup_decref_outer(VTUP(in_SGRColor_1),2);
	return value_i64(v3);
}
static int64_t mtp_std_terminal_SGRColor_RGB (VAL in_SGRColor_1, int64_t *out_Int_3, int64_t *out_Int_4) {
	VAL v5 = VTUP(in_SGRColor_1)->cells[1];
	VAL v6 = VTUP(in_SGRColor_1)->cells[2];
	VAL v7 = VTUP(in_SGRColor_1)->cells[3];
	tup_decref_outer(VTUP(in_SGRColor_1),4);
	*out_Int_4 = value_i64(v7);
	*out_Int_3 = value_i64(v6);
	return value_i64(v5);
}
static VAL mtw_argZ_parser_state_ArgvInfo_ArgvInfo (VAL in_List_1, VAL in_Str_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* ArgvInfo */);
	v4->cells[2] = in_Str_2;
	v4->cells[1] = in_List_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtw_argZ_parser_state_CurrentArg_CurrentArg (int64_t in_Bool_1, VAL in_Maybe_2, VAL in_Maybe_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(0LL /* CurrentArg */);
	v5->cells[3] = in_Maybe_3;
	v5->cells[2] = in_Maybe_2;
	v5->cells[1] = MKI64(in_Bool_1);
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static VAL mtw_argZ_parser_state_State_1_State (VAL in_a_1, VAL in_ArgvInfo_2, VAL in_CurrentArg_3, int64_t in_Int_4, int64_t in_Int_5, VAL in_Maybe_6) {
	TUP* v8 = tup_new(7);
	v8->size = 7;
	v8->cells[0] = MKI64(0LL /* State */);
	v8->cells[6] = in_Maybe_6;
	v8->cells[5] = MKI64(in_Int_5);
	v8->cells[4] = MKI64(in_Int_4);
	v8->cells[3] = in_CurrentArg_3;
	v8->cells[2] = in_ArgvInfo_2;
	v8->cells[1] = in_a_1;
	VAL v9 = MKTUP(v8, 7);
	return v9;
}
static VAL mtw_argZ_parser_types_ArgumentParser_1_ArgumentParser (VAL in_List_1, VAL in__2, VAL in_Maybe_3, VAL in_Str_4) {
	TUP* v6 = tup_new(5);
	v6->size = 5;
	v6->cells[0] = MKI64(0LL /* ArgumentParser */);
	v6->cells[4] = in_Str_4;
	v6->cells[3] = in_Maybe_3;
	v6->cells[2] = in__2;
	v6->cells[1] = in_List_1;
	VAL v7 = MKTUP(v6, 5);
	return v7;
}
static void mtw_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser (VAL in_ArgumentParser_1, VAL in_State_2, VAL *out_ZPlusArgumentParser_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* +ArgumentParser */);
	v4->cells[2] = in_State_2;
	v4->cells[1] = in_ArgumentParser_1;
	VAL v5 = MKTUP(v4, 3);
	*out_ZPlusArgumentParser_3 = v5;
}
static void mtp_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser (VAL in_ZPlusArgumentParser_1, VAL *out_ArgumentParser_2, VAL *out_State_3) {
	VAL v4 = VTUP(in_ZPlusArgumentParser_1)->cells[1];
	VAL v5 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
	tup_decref_outer(VTUP(in_ZPlusArgumentParser_1),3);
	*out_State_3 = v5;
	*out_ArgumentParser_2 = v4;
}
static VAL mtw_argZ_parser_types_ArgpOptionType_Short (int64_t in_Byte_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* Short */);
	v3->cells[1] = MKI64(in_Byte_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_argZ_parser_types_ArgpOptionType_Short (VAL in_ArgpOptionType_1) {
	VAL v3 = VTUP(in_ArgpOptionType_1)->cells[1];
	tup_decref_outer(VTUP(in_ArgpOptionType_1),2);
	return value_i64(v3);
}
static VAL mtw_argZ_parser_types_ArgpOptionType_LongOnly (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* LongOnly */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_argZ_parser_types_ArgpOptionType_LongOnly (VAL in_ArgpOptionType_1) {
	VAL v3 = VTUP(in_ArgpOptionType_1)->cells[1];
	tup_decref_outer(VTUP(in_ArgpOptionType_1),2);
	return v3;
}
static VAL mtw_argZ_parser_types_ArgpOption_ArgpOption (VAL in_Maybe_1, VAL in_ArgpOptionType_2, VAL in_Maybe_3, VAL in_Maybe_4, VAL in_Maybe_5) {
	TUP* v7 = tup_new(6);
	v7->size = 6;
	v7->cells[0] = MKI64(0LL /* ArgpOption */);
	v7->cells[5] = in_Maybe_5;
	v7->cells[4] = in_Maybe_4;
	v7->cells[3] = in_Maybe_3;
	v7->cells[2] = in_ArgpOptionType_2;
	v7->cells[1] = in_Maybe_1;
	VAL v8 = MKTUP(v7, 6);
	return v8;
}
static VAL mtw_argZ_parser_types_ArgumentParsingError_MissingArg (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* MissingArg */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_argZ_parser_types_ArgumentParsingError_MissingArg (VAL in_ArgumentParsingError_1) {
	VAL v3 = VTUP(in_ArgumentParsingError_1)->cells[1];
	tup_decref_outer(VTUP(in_ArgumentParsingError_1),2);
	return v3;
}
static VAL mtw_mirth_tycon_Tycon_TYCONz_DATA (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* TYCON_DATA */);
	v3->cells[1] = MKU64(in_Data_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_tycon_Tycon_TYCONz_DATA (VAL in_Tycon_1) {
	VAL v3 = VTUP(in_Tycon_1)->cells[1];
	tup_decref_outer(VTUP(in_Tycon_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_tycon_Tycon_TYCONz_TABLE (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* TYCON_TABLE */);
	v3->cells[1] = MKU64(in_Table_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_tycon_Tycon_TYCONz_TABLE (VAL in_Tycon_1) {
	VAL v3 = VTUP(in_Tycon_1)->cells[1];
	tup_decref_outer(VTUP(in_Tycon_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_tycon_Tycon_TYCONz_PRIM (int64_t in_PrimType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* TYCON_PRIM */);
	v3->cells[1] = MKI64(in_PrimType_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_mirth_tycon_Tycon_TYCONz_PRIM (VAL in_Tycon_1) {
	VAL v3 = VTUP(in_Tycon_1)->cells[1];
	tup_decref_outer(VTUP(in_Tycon_1),2);
	return value_i64(v3);
}
static VAL mtw_mirth_data_SemiTransparentData_SemiTransparentData (uint64_t in_Tag_1, VAL in_StackTypePart_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* SemiTransparentData */);
	v4->cells[2] = in_StackTypePart_2;
	v4->cells[1] = MKU64(in_Tag_1);
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtw_mirth_data_DataPartial_DataPartial (uint64_t in_Data_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* DataPartial */);
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = MKU64(in_Data_1);
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static void mtp_mirth_data_DataPartial_DataPartial (VAL in_DataPartial_1, uint64_t *out_Data_2, uint64_t *out_Label_3) {
	VAL v4 = VTUP(in_DataPartial_1)->cells[1];
	VAL v5 = VTUP(in_DataPartial_1)->cells[2];
	tup_decref_outer(VTUP(in_DataPartial_1),3);
	*out_Label_3 = value_u64(v5);
	*out_Data_2 = value_u64(v4);
}
static VAL mtw_mirth_data_TagField_TagField (uint64_t in_Tag_1, uint64_t in_Label_2, VAL in_Either_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(0LL /* TagField */);
	v5->cells[3] = in_Either_3;
	v5->cells[2] = MKU64(in_Label_2);
	v5->cells[1] = MKU64(in_Tag_1);
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static void mtp_mirth_data_TagField_TagField (VAL in_TagField_1, uint64_t *out_Tag_2, uint64_t *out_Label_3, VAL *out_Either_4) {
	VAL v5 = VTUP(in_TagField_1)->cells[1];
	VAL v6 = VTUP(in_TagField_1)->cells[2];
	VAL v7 = VTUP(in_TagField_1)->cells[3];
	tup_decref_outer(VTUP(in_TagField_1),4);
	*out_Either_4 = v7;
	*out_Label_3 = value_u64(v6);
	*out_Tag_2 = value_u64(v5);
}
static VAL mtw_mirth_match_Match_Match (VAL in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Ctx_4, VAL in_StackType_5, VAL in_StackType_6, VAL in_List_7) {
	TUP* v9 = tup_new(8);
	v9->size = 8;
	v9->cells[0] = MKI64(0LL /* Match */);
	v9->cells[7] = in_List_7;
	v9->cells[6] = in_StackType_6;
	v9->cells[5] = in_StackType_5;
	v9->cells[4] = in_Ctx_4;
	v9->cells[3] = MKU64(in_Token_3);
	v9->cells[2] = MKU64(in_Token_2);
	v9->cells[1] = in_Home_1;
	VAL v10 = MKTUP(v9, 8);
	return v10;
}
static void mtp_mirth_match_Match_Match (VAL in_Match_1, VAL *out_Home_2, uint64_t *out_Token_3, uint64_t *out_Token_4, VAL *out_Ctx_5, VAL *out_StackType_6, VAL *out_StackType_7, VAL *out_List_8) {
	VAL v9 = VTUP(in_Match_1)->cells[1];
	VAL v10 = VTUP(in_Match_1)->cells[2];
	VAL v11 = VTUP(in_Match_1)->cells[3];
	VAL v12 = VTUP(in_Match_1)->cells[4];
	VAL v13 = VTUP(in_Match_1)->cells[5];
	VAL v14 = VTUP(in_Match_1)->cells[6];
	VAL v15 = VTUP(in_Match_1)->cells[7];
	tup_decref_outer(VTUP(in_Match_1),8);
	*out_List_8 = v15;
	*out_StackType_7 = v14;
	*out_StackType_6 = v13;
	*out_Ctx_5 = v12;
	*out_Token_4 = value_u64(v11);
	*out_Token_3 = value_u64(v10);
	*out_Home_2 = v9;
}
static void mtw_mirth_match_ZPlusMatch_ZPlusMatch (VAL in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Ctx_4, VAL in_StackType_5, VAL in_StackType_6, VAL in_List_7, VAL *out_ZPlusMatch_8) {
	TUP* v9 = tup_new(8);
	v9->size = 8;
	v9->cells[0] = MKI64(0LL /* +Match */);
	v9->cells[7] = in_List_7;
	v9->cells[6] = in_StackType_6;
	v9->cells[5] = in_StackType_5;
	v9->cells[4] = in_Ctx_4;
	v9->cells[3] = MKU64(in_Token_3);
	v9->cells[2] = MKU64(in_Token_2);
	v9->cells[1] = in_Home_1;
	VAL v10 = MKTUP(v9, 8);
	*out_ZPlusMatch_8 = v10;
}
static void mtp_mirth_match_ZPlusMatch_ZPlusMatch (VAL in_ZPlusMatch_1, VAL *out_Home_2, uint64_t *out_Token_3, uint64_t *out_Token_4, VAL *out_Ctx_5, VAL *out_StackType_6, VAL *out_StackType_7, VAL *out_List_8) {
	VAL v9 = VTUP(in_ZPlusMatch_1)->cells[1];
	VAL v10 = VTUP(in_ZPlusMatch_1)->cells[2];
	VAL v11 = VTUP(in_ZPlusMatch_1)->cells[3];
	VAL v12 = VTUP(in_ZPlusMatch_1)->cells[4];
	VAL v13 = VTUP(in_ZPlusMatch_1)->cells[5];
	VAL v14 = VTUP(in_ZPlusMatch_1)->cells[6];
	VAL v15 = VTUP(in_ZPlusMatch_1)->cells[7];
	tup_decref_outer(VTUP(in_ZPlusMatch_1),8);
	*out_List_8 = v15;
	*out_StackType_7 = v14;
	*out_StackType_6 = v13;
	*out_Ctx_5 = v12;
	*out_Token_4 = value_u64(v11);
	*out_Token_3 = value_u64(v10);
	*out_Home_2 = v9;
}
static VAL mtw_mirth_match_Case_CASE (VAL in_Pattern_1, VAL in_Arrow_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* CASE */);
	v4->cells[2] = in_Arrow_2;
	v4->cells[1] = in_Pattern_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtw_mirth_match_Pattern_Pattern (VAL in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Ctx_4, VAL in_Ctx_5, VAL in_List_6, VAL in_StackType_7, VAL in_StackType_8, VAL in_List_9) {
	TUP* v11 = tup_new(10);
	v11->size = 10;
	v11->cells[0] = MKI64(0LL /* Pattern */);
	v11->cells[9] = in_List_9;
	v11->cells[8] = in_StackType_8;
	v11->cells[7] = in_StackType_7;
	v11->cells[6] = in_List_6;
	v11->cells[5] = in_Ctx_5;
	v11->cells[4] = in_Ctx_4;
	v11->cells[3] = MKU64(in_Token_3);
	v11->cells[2] = MKU64(in_Token_2);
	v11->cells[1] = in_Home_1;
	VAL v12 = MKTUP(v11, 10);
	return v12;
}
static VAL mtw_mirth_match_PatternAtom_PATATOM (uint64_t in_Token_1, VAL in_Ctx_2, VAL in_List_3, VAL in_StackType_4, VAL in_StackType_5, VAL in_Subst_6, VAL in_PatternOp_7) {
	TUP* v9 = tup_new(8);
	v9->size = 8;
	v9->cells[0] = MKI64(0LL /* PATATOM */);
	v9->cells[7] = in_PatternOp_7;
	v9->cells[6] = in_Subst_6;
	v9->cells[5] = in_StackType_5;
	v9->cells[4] = in_StackType_4;
	v9->cells[3] = in_List_3;
	v9->cells[2] = in_Ctx_2;
	v9->cells[1] = MKU64(in_Token_1);
	VAL v10 = MKTUP(v9, 8);
	return v10;
}
static VAL mtw_mirth_match_PatternOp_PatOpTag (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* PatOpTag */);
	v3->cells[1] = MKU64(in_Tag_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_match_PatternOp_PatOpTag (VAL in_PatternOp_1) {
	VAL v3 = VTUP(in_PatternOp_1)->cells[1];
	tup_decref_outer(VTUP(in_PatternOp_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_external_ExternalBlockPart_EBPCode (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* EBPCode */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_external_ExternalBlockPart_EBPCode (VAL in_ExternalBlockPart_1) {
	VAL v3 = VTUP(in_ExternalBlockPart_1)->cells[1];
	tup_decref_outer(VTUP(in_ExternalBlockPart_1),2);
	return v3;
}
static VAL mtw_mirth_external_ExternalBlockPart_EBPDef (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* EBPDef */);
	v3->cells[1] = MKU64(in_External_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_external_ExternalBlockPart_EBPDef (VAL in_ExternalBlockPart_1) {
	VAL v3 = VTUP(in_ExternalBlockPart_1)->cells[1];
	tup_decref_outer(VTUP(in_ExternalBlockPart_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpPrim (int64_t in_Prim_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* OpPrim */);
	v3->cells[1] = MKI64(in_Prim_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_mirth_arrow_Op_OpPrim (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_i64(v3);
}
static VAL mtw_mirth_arrow_Op_OpWord (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* OpWord */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpWord (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpExternal (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* OpExternal */);
	v3->cells[1] = MKU64(in_External_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpExternal (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpBuffer (uint64_t in_Buffer_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* OpBuffer */);
	v3->cells[1] = MKU64(in_Buffer_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpBuffer (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpVariable (uint64_t in_Variable_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(5LL /* OpVariable */);
	v3->cells[1] = MKU64(in_Variable_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpVariable (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpField (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(6LL /* OpField */);
	v3->cells[1] = MKU64(in_Field_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpField (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpInt (int64_t in_Int_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(7LL /* OpInt */);
	v3->cells[1] = MKI64(in_Int_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_mirth_arrow_Op_OpInt (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_i64(v3);
}
static VAL mtw_mirth_arrow_Op_OpF64 (double in_F64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(8LL /* OpF64 */);
	v3->cells[1] = MKF64(in_F64_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static double mtp_mirth_arrow_Op_OpF64 (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_f64(v3);
}
static VAL mtw_mirth_arrow_Op_OpStr (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(9LL /* OpStr */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_arrow_Op_OpStr (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_OpTag (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(10LL /* OpTag */);
	v3->cells[1] = MKU64(in_Tag_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpTag (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpMatch (VAL in_Match_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(11LL /* OpMatch */);
	v3->cells[1] = in_Match_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_arrow_Op_OpMatch (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_OpLambda (VAL in_Lambda_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(12LL /* OpLambda */);
	v3->cells[1] = in_Lambda_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_arrow_Op_OpLambda (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_OpVar (uint64_t in_Var_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(13LL /* OpVar */);
	v3->cells[1] = MKU64(in_Var_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpVar (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpBlockPush (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(14LL /* OpBlockPush */);
	v3->cells[1] = MKU64(in_Block_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpBlockPush (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static uint64_t mtp_mirth_arrow_Op_OpBlockRun (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpLabelPush (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(16LL /* OpLabelPush */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpLabelPush (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpLabelPop (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(17LL /* OpLabelPop */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpLabelPop (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpLabelPushR (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(18LL /* OpLabelPushR */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpLabelPushR (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpLabelPopR (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(19LL /* OpLabelPopR */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpLabelPopR (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpDataGetEnumValue (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(20LL /* OpDataGetEnumValue */);
	v3->cells[1] = MKU64(in_Data_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpDataGetEnumValue (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpDataFromEnumValue (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(21LL /* OpDataFromEnumValue */);
	v3->cells[1] = MKU64(in_Data_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpDataFromEnumValue (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpDataGetLabel (VAL in_TagField_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(22LL /* OpDataGetLabel */);
	v3->cells[1] = in_TagField_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_arrow_Op_OpDataGetLabel (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_OpDataSetLabel (VAL in_TagField_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(23LL /* OpDataSetLabel */);
	v3->cells[1] = in_TagField_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_arrow_Op_OpDataSetLabel (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return v3;
}
static VAL mtw_mirth_arrow_Op_OpTableToIndex (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(24LL /* OpTableToIndex */);
	v3->cells[1] = MKU64(in_Table_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpTableToIndex (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Op_OpTableFromIndex (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(25LL /* OpTableFromIndex */);
	v3->cells[1] = MKU64(in_Table_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Op_OpTableFromIndex (VAL in_Op_1) {
	VAL v3 = VTUP(in_Op_1)->cells[1];
	tup_decref_outer(VTUP(in_Op_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Home_HomeMain (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* HomeMain */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Home_HomeMain (VAL in_Home_1) {
	VAL v3 = VTUP(in_Home_1)->cells[1];
	tup_decref_outer(VTUP(in_Home_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Home_HomeWord (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* HomeWord */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_arrow_Home_HomeWord (VAL in_Home_1) {
	VAL v3 = VTUP(in_Home_1)->cells[1];
	tup_decref_outer(VTUP(in_Home_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_arrow_Arrow_Arrow (VAL in_Home_1, uint64_t in_Token_2, uint64_t in_Token_3, VAL in_Ctx_4, VAL in_StackType_5, VAL in_StackType_6, VAL in_List_7) {
	TUP* v9 = tup_new(8);
	v9->size = 8;
	v9->cells[0] = MKI64(0LL /* Arrow */);
	v9->cells[7] = in_List_7;
	v9->cells[6] = in_StackType_6;
	v9->cells[5] = in_StackType_5;
	v9->cells[4] = in_Ctx_4;
	v9->cells[3] = MKU64(in_Token_3);
	v9->cells[2] = MKU64(in_Token_2);
	v9->cells[1] = in_Home_1;
	VAL v10 = MKTUP(v9, 8);
	return v10;
}
static VAL mtw_mirth_arrow_Atom_Atom (VAL in_Home_1, uint64_t in_Token_2, VAL in_Ctx_3, VAL in_Op_4, VAL in_List_5, VAL in_StackType_6, VAL in_StackType_7, VAL in_Subst_8) {
	TUP* v10 = tup_new(9);
	v10->size = 9;
	v10->cells[0] = MKI64(0LL /* Atom */);
	v10->cells[8] = in_Subst_8;
	v10->cells[7] = in_StackType_7;
	v10->cells[6] = in_StackType_6;
	v10->cells[5] = in_List_5;
	v10->cells[4] = in_Op_4;
	v10->cells[3] = in_Ctx_3;
	v10->cells[2] = MKU64(in_Token_2);
	v10->cells[1] = in_Home_1;
	VAL v11 = MKTUP(v10, 9);
	return v11;
}
static void mtp_mirth_arrow_Atom_Atom (VAL in_Atom_1, VAL *out_Home_2, uint64_t *out_Token_3, VAL *out_Ctx_4, VAL *out_Op_5, VAL *out_List_6, VAL *out_StackType_7, VAL *out_StackType_8, VAL *out_Subst_9) {
	VAL v10 = VTUP(in_Atom_1)->cells[1];
	VAL v11 = VTUP(in_Atom_1)->cells[2];
	VAL v12 = VTUP(in_Atom_1)->cells[3];
	VAL v13 = VTUP(in_Atom_1)->cells[4];
	VAL v14 = VTUP(in_Atom_1)->cells[5];
	VAL v15 = VTUP(in_Atom_1)->cells[6];
	VAL v16 = VTUP(in_Atom_1)->cells[7];
	VAL v17 = VTUP(in_Atom_1)->cells[8];
	tup_decref_outer(VTUP(in_Atom_1),9);
	*out_Subst_9 = v17;
	*out_StackType_8 = v16;
	*out_StackType_7 = v15;
	*out_List_6 = v14;
	*out_Op_5 = v13;
	*out_Ctx_4 = v12;
	*out_Token_3 = value_u64(v11);
	*out_Home_2 = v10;
}
static VAL mtw_mirth_arrow_Lambda_Lambda (uint64_t in_Token_1, VAL in_Ctx_2, VAL in_StackType_3, VAL in_List_4, VAL in_Arrow_5) {
	TUP* v7 = tup_new(6);
	v7->size = 6;
	v7->cells[0] = MKI64(0LL /* Lambda */);
	v7->cells[5] = in_Arrow_5;
	v7->cells[4] = in_List_4;
	v7->cells[3] = in_StackType_3;
	v7->cells[2] = in_Ctx_2;
	v7->cells[1] = MKU64(in_Token_1);
	VAL v8 = MKTUP(v7, 6);
	return v8;
}
static VAL mtw_mirth_type_Type_TPrim (int64_t in_PrimType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* TPrim */);
	v3->cells[1] = MKI64(in_PrimType_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_mirth_type_Type_TPrim (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return value_i64(v3);
}
static VAL mtw_mirth_type_Type_TMeta (uint64_t in_MetaVar_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* TMeta */);
	v3->cells[1] = MKU64(in_MetaVar_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_Type_TMeta (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_Type_THole (uint64_t in_Name_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* THole */);
	v3->cells[1] = MKU64(in_Name_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_Type_THole (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_Type_TVar (uint64_t in_Var_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(5LL /* TVar */);
	v3->cells[1] = MKU64(in_Var_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_Type_TVar (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_Type_TTable (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(6LL /* TTable */);
	v3->cells[1] = MKU64(in_Table_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_Type_TTable (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_Type_TData (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(7LL /* TData */);
	v3->cells[1] = MKU64(in_Data_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_Type_TData (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_Type_TDataPartial (VAL in_DataPartial_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(8LL /* TDataPartial */);
	v3->cells[1] = in_DataPartial_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_Type_TDataPartial (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return v3;
}
static VAL mtw_mirth_type_Type_TTensor (VAL in_StackType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(9LL /* TTensor */);
	v3->cells[1] = in_StackType_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_Type_TTensor (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return v3;
}
static VAL mtw_mirth_type_Type_TMorphism (VAL in_ArrowType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(10LL /* TMorphism */);
	v3->cells[1] = in_ArrowType_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_Type_TMorphism (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return v3;
}
static VAL mtw_mirth_type_Type_TApp (VAL in_Type_1, VAL in_Type_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(11LL /* TApp */);
	v4->cells[2] = in_Type_2;
	v4->cells[1] = in_Type_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_type_Type_TApp (VAL in_Type_1, VAL *out_Type_3) {
	VAL v4 = VTUP(in_Type_1)->cells[1];
	VAL v5 = VTUP(in_Type_1)->cells[2];
	tup_decref_outer(VTUP(in_Type_1),3);
	*out_Type_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_Type_TMut (VAL in_Type_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(12LL /* TMut */);
	v3->cells[1] = in_Type_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_Type_TMut (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return v3;
}
static VAL mtw_mirth_type_Type_TValue (VAL in_Value_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(13LL /* TValue */);
	v3->cells[1] = in_Value_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_Type_TValue (VAL in_Type_1) {
	VAL v3 = VTUP(in_Type_1)->cells[1];
	tup_decref_outer(VTUP(in_Type_1),2);
	return v3;
}
static VAL mtw_mirth_type_Value_VALUEz_INT (int64_t in_Int_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* VALUE_INT */);
	v3->cells[1] = MKI64(in_Int_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_mirth_type_Value_VALUEz_INT (VAL in_Value_1) {
	VAL v3 = VTUP(in_Value_1)->cells[1];
	tup_decref_outer(VTUP(in_Value_1),2);
	return value_i64(v3);
}
static VAL mtw_mirth_type_Value_VALUEz_F64 (double in_F64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* VALUE_F64 */);
	v3->cells[1] = MKF64(in_F64_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static double mtp_mirth_type_Value_VALUEz_F64 (VAL in_Value_1) {
	VAL v3 = VTUP(in_Value_1)->cells[1];
	tup_decref_outer(VTUP(in_Value_1),2);
	return value_f64(v3);
}
static VAL mtw_mirth_type_Value_VALUEz_STR (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* VALUE_STR */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_Value_VALUEz_STR (VAL in_Value_1) {
	VAL v3 = VTUP(in_Value_1)->cells[1];
	tup_decref_outer(VTUP(in_Value_1),2);
	return v3;
}
static VAL mtw_mirth_type_Value_VALUEz_BLOCK (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* VALUE_BLOCK */);
	v3->cells[1] = MKU64(in_Block_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_Value_VALUEz_BLOCK (VAL in_Value_1) {
	VAL v3 = VTUP(in_Value_1)->cells[1];
	tup_decref_outer(VTUP(in_Value_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_StackType_STVar (uint64_t in_Var_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* STVar */);
	v3->cells[1] = MKU64(in_Var_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_StackType_STVar (VAL in_StackType_1) {
	VAL v3 = VTUP(in_StackType_1)->cells[1];
	tup_decref_outer(VTUP(in_StackType_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_StackType_STMeta (uint64_t in_MetaVar_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* STMeta */);
	v3->cells[1] = MKU64(in_MetaVar_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_StackType_STMeta (VAL in_StackType_1) {
	VAL v3 = VTUP(in_StackType_1)->cells[1];
	tup_decref_outer(VTUP(in_StackType_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_StackType_STCons (VAL in_StackType_1, VAL in_Type_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(5LL /* STCons */);
	v4->cells[2] = in_Type_2;
	v4->cells[1] = in_StackType_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_type_StackType_STCons (VAL in_StackType_1, VAL *out_Type_3) {
	VAL v4 = VTUP(in_StackType_1)->cells[1];
	VAL v5 = VTUP(in_StackType_1)->cells[2];
	tup_decref_outer(VTUP(in_StackType_1),3);
	*out_Type_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_StackType_STConsLabel (VAL in_StackType_1, VAL in_Type_2, uint64_t in_Label_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(6LL /* STConsLabel */);
	v5->cells[3] = MKU64(in_Label_3);
	v5->cells[2] = in_Type_2;
	v5->cells[1] = in_StackType_1;
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static VAL mtp_mirth_type_StackType_STConsLabel (VAL in_StackType_1, VAL *out_Type_3, uint64_t *out_Label_4) {
	VAL v5 = VTUP(in_StackType_1)->cells[1];
	VAL v6 = VTUP(in_StackType_1)->cells[2];
	VAL v7 = VTUP(in_StackType_1)->cells[3];
	tup_decref_outer(VTUP(in_StackType_1),4);
	*out_Label_4 = value_u64(v7);
	*out_Type_3 = v6;
	return v5;
}
static VAL mtw_mirth_type_StackType_STWith (VAL in_StackType_1, VAL in_Resource_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(7LL /* STWith */);
	v4->cells[2] = in_Resource_2;
	v4->cells[1] = in_StackType_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_type_StackType_STWith (VAL in_StackType_1, VAL *out_Resource_3) {
	VAL v4 = VTUP(in_StackType_1)->cells[1];
	VAL v5 = VTUP(in_StackType_1)->cells[2];
	tup_decref_outer(VTUP(in_StackType_1),3);
	*out_Resource_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_StackType_STWithLabel (VAL in_StackType_1, VAL in_Resource_2, uint64_t in_Label_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(8LL /* STWithLabel */);
	v5->cells[3] = MKU64(in_Label_3);
	v5->cells[2] = in_Resource_2;
	v5->cells[1] = in_StackType_1;
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static VAL mtp_mirth_type_StackType_STWithLabel (VAL in_StackType_1, VAL *out_Resource_3, uint64_t *out_Label_4) {
	VAL v5 = VTUP(in_StackType_1)->cells[1];
	VAL v6 = VTUP(in_StackType_1)->cells[2];
	VAL v7 = VTUP(in_StackType_1)->cells[3];
	tup_decref_outer(VTUP(in_StackType_1),4);
	*out_Label_4 = value_u64(v7);
	*out_Resource_3 = v6;
	return v5;
}
static VAL mtw_mirth_type_ArrowType_ARROWz_TYPE (VAL in_StackType_1, VAL in_StackType_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* ARROW_TYPE */);
	v4->cells[2] = in_StackType_2;
	v4->cells[1] = in_StackType_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_type_ArrowType_ARROWz_TYPE (VAL in_ArrowType_1, VAL *out_StackType_3) {
	VAL v4 = VTUP(in_ArrowType_1)->cells[1];
	VAL v5 = VTUP(in_ArrowType_1)->cells[2];
	tup_decref_outer(VTUP(in_ArrowType_1),3);
	*out_StackType_3 = v5;
	return v4;
}
static VAL mtw_mirth_type_Subst_SUBSTz_CON (VAL in_Subst_1, VAL in_Type_2, uint64_t in_Var_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(1LL /* SUBST_CON */);
	v5->cells[3] = MKU64(in_Var_3);
	v5->cells[2] = in_Type_2;
	v5->cells[1] = in_Subst_1;
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static VAL mtp_mirth_type_Subst_SUBSTz_CON (VAL in_Subst_1, VAL *out_Type_3, uint64_t *out_Var_4) {
	VAL v5 = VTUP(in_Subst_1)->cells[1];
	VAL v6 = VTUP(in_Subst_1)->cells[2];
	VAL v7 = VTUP(in_Subst_1)->cells[3];
	tup_decref_outer(VTUP(in_Subst_1),4);
	*out_Var_4 = value_u64(v7);
	*out_Type_3 = v6;
	return v5;
}
static VAL mtw_mirth_type_StackTypeBase_STBVar (uint64_t in_Var_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* STBVar */);
	v3->cells[1] = MKU64(in_Var_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_StackTypeBase_STBVar (VAL in_StackTypeBase_1) {
	VAL v3 = VTUP(in_StackTypeBase_1)->cells[1];
	tup_decref_outer(VTUP(in_StackTypeBase_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_StackTypeBase_STBMeta (uint64_t in_MetaVar_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* STBMeta */);
	v3->cells[1] = MKU64(in_MetaVar_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_type_StackTypeBase_STBMeta (VAL in_StackTypeBase_1) {
	VAL v3 = VTUP(in_StackTypeBase_1)->cells[1];
	tup_decref_outer(VTUP(in_StackTypeBase_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_type_StackTypePart_STPCons (VAL in_Type_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* STPCons */);
	v3->cells[1] = in_Type_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_StackTypePart_STPCons (VAL in_StackTypePart_1) {
	VAL v3 = VTUP(in_StackTypePart_1)->cells[1];
	tup_decref_outer(VTUP(in_StackTypePart_1),2);
	return v3;
}
static VAL mtw_mirth_type_StackTypePart_STPConsLabel (VAL in_Type_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(1LL /* STPConsLabel */);
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = in_Type_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_type_StackTypePart_STPConsLabel (VAL in_StackTypePart_1, uint64_t *out_Label_3) {
	VAL v4 = VTUP(in_StackTypePart_1)->cells[1];
	VAL v5 = VTUP(in_StackTypePart_1)->cells[2];
	tup_decref_outer(VTUP(in_StackTypePart_1),3);
	*out_Label_3 = value_u64(v5);
	return v4;
}
static VAL mtw_mirth_type_StackTypePart_STPWith (VAL in_Resource_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* STPWith */);
	v3->cells[1] = in_Resource_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_StackTypePart_STPWith (VAL in_StackTypePart_1) {
	VAL v3 = VTUP(in_StackTypePart_1)->cells[1];
	tup_decref_outer(VTUP(in_StackTypePart_1),2);
	return v3;
}
static VAL mtw_mirth_type_StackTypePart_STPWithLabel (VAL in_Resource_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(3LL /* STPWithLabel */);
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = in_Resource_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_type_StackTypePart_STPWithLabel (VAL in_StackTypePart_1, uint64_t *out_Label_3) {
	VAL v4 = VTUP(in_StackTypePart_1)->cells[1];
	VAL v5 = VTUP(in_StackTypePart_1)->cells[2];
	tup_decref_outer(VTUP(in_StackTypePart_1),3);
	*out_Label_3 = value_u64(v5);
	return v4;
}
static VAL mtw_mirth_type_CType_IntLike (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* IntLike */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_CType_IntLike (VAL in_CType_1) {
	VAL v3 = VTUP(in_CType_1)->cells[1];
	tup_decref_outer(VTUP(in_CType_1),2);
	return v3;
}
static VAL mtw_mirth_type_CType_F32Like (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* F32Like */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_CType_F32Like (VAL in_CType_1) {
	VAL v3 = VTUP(in_CType_1)->cells[1];
	tup_decref_outer(VTUP(in_CType_1),2);
	return v3;
}
static VAL mtw_mirth_type_CType_F64Like (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* F64Like */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_CType_F64Like (VAL in_CType_1) {
	VAL v3 = VTUP(in_CType_1)->cells[1];
	tup_decref_outer(VTUP(in_CType_1),2);
	return v3;
}
static VAL mtw_mirth_type_CType_PtrLike (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* PtrLike */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_CType_PtrLike (VAL in_CType_1) {
	VAL v3 = VTUP(in_CType_1)->cells[1];
	tup_decref_outer(VTUP(in_CType_1),2);
	return v3;
}
static VAL mtw_mirth_type_CType_FnPtr (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* FnPtr */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_CType_FnPtr (VAL in_CType_1) {
	VAL v3 = VTUP(in_CType_1)->cells[1];
	tup_decref_outer(VTUP(in_CType_1),2);
	return v3;
}
static VAL mtw_mirth_type_CTypeStackPart_CTSPCons (VAL in_CType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* CTSPCons */);
	v3->cells[1] = in_CType_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_CTypeStackPart_CTSPCons (VAL in_CTypeStackPart_1) {
	VAL v3 = VTUP(in_CTypeStackPart_1)->cells[1];
	tup_decref_outer(VTUP(in_CTypeStackPart_1),2);
	return v3;
}
static VAL mtw_mirth_type_CTypeStackPart_CTSPConsLabel (VAL in_CType_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(1LL /* CTSPConsLabel */);
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = in_CType_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_type_CTypeStackPart_CTSPConsLabel (VAL in_CTypeStackPart_1, uint64_t *out_Label_3) {
	VAL v4 = VTUP(in_CTypeStackPart_1)->cells[1];
	VAL v5 = VTUP(in_CTypeStackPart_1)->cells[2];
	tup_decref_outer(VTUP(in_CTypeStackPart_1),3);
	*out_Label_3 = value_u64(v5);
	return v4;
}
static VAL mtw_mirth_type_CTypeStackPart_CTSPWith (VAL in_CType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* CTSPWith */);
	v3->cells[1] = in_CType_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_type_CTypeStackPart_CTSPWith (VAL in_CTypeStackPart_1) {
	VAL v3 = VTUP(in_CTypeStackPart_1)->cells[1];
	tup_decref_outer(VTUP(in_CTypeStackPart_1),2);
	return v3;
}
static VAL mtw_mirth_type_CTypeStackPart_CTSPWithLabel (VAL in_CType_1, uint64_t in_Label_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(3LL /* CTSPWithLabel */);
	v4->cells[2] = MKU64(in_Label_2);
	v4->cells[1] = in_CType_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_type_CTypeStackPart_CTSPWithLabel (VAL in_CTypeStackPart_1, uint64_t *out_Label_3) {
	VAL v4 = VTUP(in_CTypeStackPart_1)->cells[1];
	VAL v5 = VTUP(in_CTypeStackPart_1)->cells[2];
	tup_decref_outer(VTUP(in_CTypeStackPart_1),3);
	*out_Label_3 = value_u64(v5);
	return v4;
}
static VAL mtw_mirth_type_CTypeStack_CTypeStack (VAL in_Maybe_1, VAL in_List_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* CTypeStack */);
	v4->cells[2] = in_List_2;
	v4->cells[1] = in_Maybe_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtw_mirth_type_CTypeArrow_CTypeArrow (VAL in_CTypeStack_1, VAL in_CTypeStack_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* CTypeArrow */);
	v4->cells[2] = in_CTypeStack_2;
	v4->cells[1] = in_CTypeStack_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtw_mirth_token_TokenValue_TokenLParen (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(6LL /* TokenLParen */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLParen (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenRParen (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(7LL /* TokenRParen */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenRParen (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenLSquare (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(8LL /* TokenLSquare */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLSquare (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenRSquare (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(9LL /* TokenRSquare */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenRSquare (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenLCurly (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(10LL /* TokenLCurly */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLCurly (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenRCurly (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(11LL /* TokenRCurly */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenRCurly (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenLColon (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(12LL /* TokenLColon */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLColon (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenRColon (uint64_t in_Token_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(13LL /* TokenRColon */);
	v3->cells[1] = MKU64(in_Token_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenRColon (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenInt (int64_t in_Int_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(14LL /* TokenInt */);
	v3->cells[1] = MKI64(in_Int_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_mirth_token_TokenValue_TokenInt (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_i64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenF64 (double in_F64_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(15LL /* TokenF64 */);
	v3->cells[1] = MKF64(in_F64_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static double mtp_mirth_token_TokenValue_TokenF64 (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_f64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenStr (VAL in_Str_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(16LL /* TokenStr */);
	v3->cells[1] = in_Str_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_token_TokenValue_TokenStr (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_TokenName (uint64_t in_Name_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(17LL /* TokenName */);
	v3->cells[1] = MKU64(in_Name_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenName (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenDName (VAL in_DName_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(18LL /* TokenDName */);
	v3->cells[1] = in_DName_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_token_TokenValue_TokenDName (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return v3;
}
static VAL mtw_mirth_token_TokenValue_TokenLabelPop (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(19LL /* TokenLabelPop */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLabelPop (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenLabelPush (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(20LL /* TokenLabelPush */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLabelPush (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenLabelPopR (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(21LL /* TokenLabelPopR */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLabelPopR (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenLabelPushR (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(22LL /* TokenLabelPushR */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLabelPushR (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenLabelGet (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(23LL /* TokenLabelGet */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLabelGet (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_token_TokenValue_TokenLabelSet (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(24LL /* TokenLabelSet */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_token_TokenValue_TokenLabelSet (VAL in_TokenValue_1) {
	VAL v3 = VTUP(in_TokenValue_1)->cells[1];
	tup_decref_outer(VTUP(in_TokenValue_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_location_Location_Location (uint64_t in_Module_1, int64_t in_Row_2, int64_t in_Col_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(0LL /* Location */);
	v5->cells[3] = MKI64(in_Col_3);
	v5->cells[2] = MKI64(in_Row_2);
	v5->cells[1] = MKU64(in_Module_1);
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static void mtp_mirth_location_Location_Location (VAL in_Location_1, uint64_t *out_Module_2, int64_t *out_Row_3, int64_t *out_Col_4) {
	VAL v5 = VTUP(in_Location_1)->cells[1];
	VAL v6 = VTUP(in_Location_1)->cells[2];
	VAL v7 = VTUP(in_Location_1)->cells[3];
	tup_decref_outer(VTUP(in_Location_1),4);
	*out_Col_4 = value_i64(v7);
	*out_Row_3 = value_i64(v6);
	*out_Module_2 = value_u64(v5);
}
static VAL mtw_mirth_mirth_Builtin_Builtin (uint64_t in_Package_1, uint64_t in_Module_2, uint64_t in_Data_3, uint64_t in_Tag_4, uint64_t in_Tag_5, uint64_t in_Data_6, uint64_t in_Tag_7, uint64_t in_Data_8, uint64_t in_Tag_9, uint64_t in_Data_10, uint64_t in_Tag_11, uint64_t in_Data_12, uint64_t in_Tag_13, uint64_t in_Data_14, uint64_t in_Tag_15, uint64_t in_Data_16, uint64_t in_Tag_17, uint64_t in_Data_18, uint64_t in_Tag_19, uint64_t in_Data_20, uint64_t in_Tag_21, uint64_t in_Data_22, uint64_t in_Tag_23, uint64_t in_Data_24, uint64_t in_Tag_25, uint64_t in_Data_26, uint64_t in_Tag_27, uint64_t in_Data_28, uint64_t in_Tag_29, uint64_t in_Data_30, uint64_t in_Tag_31, uint64_t in_Data_32, uint64_t in_Tag_33, uint64_t in_Data_34, uint64_t in_Tag_35, uint64_t in_Data_36, uint64_t in_Tag_37, uint64_t in_Data_38, uint64_t in_Tag_39, uint64_t in_Data_40, uint64_t in_Tag_41, uint64_t in_Data_42, uint64_t in_Tag_43, uint64_t in_Data_44, uint64_t in_Tag_45, uint64_t in_Data_46, uint64_t in_Tag_47, uint64_t in_Data_48, uint64_t in_Tag_49, uint64_t in_Data_50, uint64_t in_Tag_51, uint64_t in_Data_52, uint64_t in_Tag_53, uint64_t in_Data_54, uint64_t in_Tag_55, uint64_t in_Data_56, uint64_t in_Tag_57, uint64_t in_Data_58, uint64_t in_Tag_59, uint64_t in_Data_60, uint64_t in_Tag_61) {
	TUP* v63 = tup_new(62);
	v63->size = 62;
	v63->cells[0] = MKI64(0LL /* Builtin */);
	v63->cells[61] = MKU64(in_Tag_61);
	v63->cells[60] = MKU64(in_Data_60);
	v63->cells[59] = MKU64(in_Tag_59);
	v63->cells[58] = MKU64(in_Data_58);
	v63->cells[57] = MKU64(in_Tag_57);
	v63->cells[56] = MKU64(in_Data_56);
	v63->cells[55] = MKU64(in_Tag_55);
	v63->cells[54] = MKU64(in_Data_54);
	v63->cells[53] = MKU64(in_Tag_53);
	v63->cells[52] = MKU64(in_Data_52);
	v63->cells[51] = MKU64(in_Tag_51);
	v63->cells[50] = MKU64(in_Data_50);
	v63->cells[49] = MKU64(in_Tag_49);
	v63->cells[48] = MKU64(in_Data_48);
	v63->cells[47] = MKU64(in_Tag_47);
	v63->cells[46] = MKU64(in_Data_46);
	v63->cells[45] = MKU64(in_Tag_45);
	v63->cells[44] = MKU64(in_Data_44);
	v63->cells[43] = MKU64(in_Tag_43);
	v63->cells[42] = MKU64(in_Data_42);
	v63->cells[41] = MKU64(in_Tag_41);
	v63->cells[40] = MKU64(in_Data_40);
	v63->cells[39] = MKU64(in_Tag_39);
	v63->cells[38] = MKU64(in_Data_38);
	v63->cells[37] = MKU64(in_Tag_37);
	v63->cells[36] = MKU64(in_Data_36);
	v63->cells[35] = MKU64(in_Tag_35);
	v63->cells[34] = MKU64(in_Data_34);
	v63->cells[33] = MKU64(in_Tag_33);
	v63->cells[32] = MKU64(in_Data_32);
	v63->cells[31] = MKU64(in_Tag_31);
	v63->cells[30] = MKU64(in_Data_30);
	v63->cells[29] = MKU64(in_Tag_29);
	v63->cells[28] = MKU64(in_Data_28);
	v63->cells[27] = MKU64(in_Tag_27);
	v63->cells[26] = MKU64(in_Data_26);
	v63->cells[25] = MKU64(in_Tag_25);
	v63->cells[24] = MKU64(in_Data_24);
	v63->cells[23] = MKU64(in_Tag_23);
	v63->cells[22] = MKU64(in_Data_22);
	v63->cells[21] = MKU64(in_Tag_21);
	v63->cells[20] = MKU64(in_Data_20);
	v63->cells[19] = MKU64(in_Tag_19);
	v63->cells[18] = MKU64(in_Data_18);
	v63->cells[17] = MKU64(in_Tag_17);
	v63->cells[16] = MKU64(in_Data_16);
	v63->cells[15] = MKU64(in_Tag_15);
	v63->cells[14] = MKU64(in_Data_14);
	v63->cells[13] = MKU64(in_Tag_13);
	v63->cells[12] = MKU64(in_Data_12);
	v63->cells[11] = MKU64(in_Tag_11);
	v63->cells[10] = MKU64(in_Data_10);
	v63->cells[9] = MKU64(in_Tag_9);
	v63->cells[8] = MKU64(in_Data_8);
	v63->cells[7] = MKU64(in_Tag_7);
	v63->cells[6] = MKU64(in_Data_6);
	v63->cells[5] = MKU64(in_Tag_5);
	v63->cells[4] = MKU64(in_Tag_4);
	v63->cells[3] = MKU64(in_Data_3);
	v63->cells[2] = MKU64(in_Module_2);
	v63->cells[1] = MKU64(in_Package_1);
	VAL v64 = MKTUP(v63, 62);
	return v64;
}
static void mtw_mirth_mirth_ZPlusMirth_ZPlusMirth (int64_t in_Nat_1, int64_t in_Nat_2, int64_t in_Bool_3, VAL in_Builtin_4, VAL in_Maybe_5, VAL in_Maybe_6, VAL in_List_7, VAL in_ZPlusList_8, VAL in_ZPlusList_9, VAL *out_ZPlusMirth_10) {
	TUP* v11 = tup_new(10);
	v11->size = 10;
	v11->cells[0] = MKI64(0LL /* +Mirth */);
	v11->cells[9] = in_ZPlusList_9;
	v11->cells[8] = in_ZPlusList_8;
	v11->cells[7] = in_List_7;
	v11->cells[6] = in_Maybe_6;
	v11->cells[5] = in_Maybe_5;
	v11->cells[4] = in_Builtin_4;
	v11->cells[3] = MKI64(in_Bool_3);
	v11->cells[2] = MKI64(in_Nat_2);
	v11->cells[1] = MKI64(in_Nat_1);
	VAL v12 = MKTUP(v11, 10);
	*out_ZPlusMirth_10 = v12;
}
static void mtp_mirth_mirth_ZPlusMirth_ZPlusMirth (VAL in_ZPlusMirth_1, int64_t *out_Nat_2, int64_t *out_Nat_3, int64_t *out_Bool_4, VAL *out_Builtin_5, VAL *out_Maybe_6, VAL *out_Maybe_7, VAL *out_List_8, VAL *out_ZPlusList_9, VAL *out_ZPlusList_10) {
	VAL v11 = VTUP(in_ZPlusMirth_1)->cells[1];
	VAL v12 = VTUP(in_ZPlusMirth_1)->cells[2];
	VAL v13 = VTUP(in_ZPlusMirth_1)->cells[3];
	VAL v14 = VTUP(in_ZPlusMirth_1)->cells[4];
	VAL v15 = VTUP(in_ZPlusMirth_1)->cells[5];
	VAL v16 = VTUP(in_ZPlusMirth_1)->cells[6];
	VAL v17 = VTUP(in_ZPlusMirth_1)->cells[7];
	VAL v18 = VTUP(in_ZPlusMirth_1)->cells[8];
	VAL v19 = VTUP(in_ZPlusMirth_1)->cells[9];
	tup_decref_outer(VTUP(in_ZPlusMirth_1),10);
	*out_ZPlusList_10 = v19;
	*out_ZPlusList_9 = v18;
	*out_List_8 = v17;
	*out_Maybe_7 = v16;
	*out_Maybe_6 = v15;
	*out_Builtin_5 = v14;
	*out_Bool_4 = value_i64(v13);
	*out_Nat_3 = value_i64(v12);
	*out_Nat_2 = value_i64(v11);
}
static VAL mtw_mirth_mirth_Diagnostic_Diagnostic (int64_t in_Severity_1, VAL in_Location_2, VAL in_Str_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(0LL /* Diagnostic */);
	v5->cells[3] = in_Str_3;
	v5->cells[2] = in_Location_2;
	v5->cells[1] = MKI64(in_Severity_1);
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static void mtp_mirth_mirth_Diagnostic_Diagnostic (VAL in_Diagnostic_1, int64_t *out_Severity_2, VAL *out_Location_3, VAL *out_Str_4) {
	VAL v5 = VTUP(in_Diagnostic_1)->cells[1];
	VAL v6 = VTUP(in_Diagnostic_1)->cells[2];
	VAL v7 = VTUP(in_Diagnostic_1)->cells[3];
	tup_decref_outer(VTUP(in_Diagnostic_1),4);
	*out_Str_4 = v7;
	*out_Location_3 = v6;
	*out_Severity_2 = value_i64(v5);
}
static VAL mtw_mirth_mirth_Prop_1_Prop (VAL in_PropLabel_1, VAL in_PropState_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* Prop */);
	v4->cells[2] = in_PropState_2;
	v4->cells[1] = in_PropLabel_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtw_mirth_mirth_PropState_1_PSReady (VAL in_b_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* PSReady */);
	v3->cells[1] = in_b_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_mirth_PropState_1_PSReady (VAL in_PropState_1) {
	VAL v3 = VTUP(in_PropState_1)->cells[1];
	tup_decref_outer(VTUP(in_PropState_1),2);
	return v3;
}
static VAL mtw_mirth_mirth_PropState_1_PSDelay (VAL in_a_1, VAL in__2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(1LL /* PSDelay */);
	v4->cells[2] = in__2;
	v4->cells[1] = in_a_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_mirth_PropState_1_PSDelay (VAL in_PropState_1, VAL *out__3) {
	VAL v4 = VTUP(in_PropState_1)->cells[1];
	VAL v5 = VTUP(in_PropState_1)->cells[2];
	tup_decref_outer(VTUP(in_PropState_1),3);
	*out__3 = v5;
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_DataQName (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* DataQName */);
	v3->cells[1] = MKU64(in_Data_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_DataParams (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* DataParams */);
	v3->cells[1] = MKU64(in_Data_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_DataCType (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* DataCType */);
	v3->cells[1] = MKU64(in_Data_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_TagType (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* TagType */);
	v3->cells[1] = MKU64(in_Tag_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_TableQName (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* TableQName */);
	v3->cells[1] = MKU64(in_Table_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_TypeDefQName (uint64_t in_TypeDef_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(5LL /* TypeDefQName */);
	v3->cells[1] = MKU64(in_TypeDef_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_TypeDefTarget (uint64_t in_TypeDef_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(6LL /* TypeDefTarget */);
	v3->cells[1] = MKU64(in_TypeDef_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_WordQName (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(7LL /* WordQName */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_WordType (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(8LL /* WordType */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_WordParams (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(9LL /* WordParams */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_WordArrow (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(10LL /* WordArrow */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_BlockArrow (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(11LL /* BlockArrow */);
	v3->cells[1] = MKU64(in_Block_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_AliasQName (uint64_t in_Alias_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(12LL /* AliasQName */);
	v3->cells[1] = MKU64(in_Alias_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_AliasTarget (uint64_t in_Alias_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(13LL /* AliasTarget */);
	v3->cells[1] = MKU64(in_Alias_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_ExternalQName (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(14LL /* ExternalQName */);
	v3->cells[1] = MKU64(in_External_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_ExternalType (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(15LL /* ExternalType */);
	v3->cells[1] = MKU64(in_External_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_ExternalCType (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(16LL /* ExternalCType */);
	v3->cells[1] = MKU64(in_External_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_VariableType (uint64_t in_Variable_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(17LL /* VariableType */);
	v3->cells[1] = MKU64(in_Variable_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_FieldQName (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(18LL /* FieldQName */);
	v3->cells[1] = MKU64(in_Field_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_FieldValueType (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(19LL /* FieldValueType */);
	v3->cells[1] = MKU64(in_Field_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_mirth_PropLabel_FieldIndexType (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(20LL /* FieldIndexType */);
	v3->cells[1] = MKU64(in_Field_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtw_mirth_def_Def_DefAlias (uint64_t in_Alias_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* DefAlias */);
	v3->cells[1] = MKU64(in_Alias_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefAlias (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefModule (uint64_t in_Module_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* DefModule */);
	v3->cells[1] = MKU64(in_Module_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefModule (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefPackage (uint64_t in_Package_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* DefPackage */);
	v3->cells[1] = MKU64(in_Package_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefPackage (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefData (uint64_t in_Data_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* DefData */);
	v3->cells[1] = MKU64(in_Data_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefData (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefTable (uint64_t in_Table_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* DefTable */);
	v3->cells[1] = MKU64(in_Table_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefTable (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefType (uint64_t in_TypeDef_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(5LL /* DefType */);
	v3->cells[1] = MKU64(in_TypeDef_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefType (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefTag (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(6LL /* DefTag */);
	v3->cells[1] = MKU64(in_Tag_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefTag (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefPrim (int64_t in_Prim_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(7LL /* DefPrim */);
	v3->cells[1] = MKI64(in_Prim_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_mirth_def_Def_DefPrim (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_i64(v3);
}
static VAL mtw_mirth_def_Def_DefWord (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(8LL /* DefWord */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefWord (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefBuffer (uint64_t in_Buffer_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(9LL /* DefBuffer */);
	v3->cells[1] = MKU64(in_Buffer_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefBuffer (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefVariable (uint64_t in_Variable_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(10LL /* DefVariable */);
	v3->cells[1] = MKU64(in_Variable_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefVariable (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefExternal (uint64_t in_External_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(11LL /* DefExternal */);
	v3->cells[1] = MKU64(in_External_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefExternal (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_def_Def_DefField (uint64_t in_Field_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(12LL /* DefField */);
	v3->cells[1] = MKU64(in_Field_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_def_Def_DefField (VAL in_Def_1) {
	VAL v3 = VTUP(in_Def_1)->cells[1];
	tup_decref_outer(VTUP(in_Def_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_name_Namespace_NAMESPACEz_PACKAGE (uint64_t in_Package_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* NAMESPACE_PACKAGE */);
	v3->cells[1] = MKU64(in_Package_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE (VAL in_Namespace_1) {
	VAL v3 = VTUP(in_Namespace_1)->cells[1];
	tup_decref_outer(VTUP(in_Namespace_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_name_Namespace_NAMESPACEz_MODULE (uint64_t in_Module_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* NAMESPACE_MODULE */);
	v3->cells[1] = MKU64(in_Module_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_name_Namespace_NAMESPACEz_MODULE (VAL in_Namespace_1) {
	VAL v3 = VTUP(in_Namespace_1)->cells[1];
	tup_decref_outer(VTUP(in_Namespace_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_name_Namespace_NAMESPACEz_TYCON (VAL in_Tycon_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* NAMESPACE_TYCON */);
	v3->cells[1] = in_Tycon_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_name_Namespace_NAMESPACEz_TYCON (VAL in_Namespace_1) {
	VAL v3 = VTUP(in_Namespace_1)->cells[1];
	tup_decref_outer(VTUP(in_Namespace_1),2);
	return v3;
}
static VAL mtw_mirth_name_Namespace_NAMESPACEz_WORD (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* NAMESPACE_WORD */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_name_Namespace_NAMESPACEz_WORD (VAL in_Namespace_1) {
	VAL v3 = VTUP(in_Namespace_1)->cells[1];
	tup_decref_outer(VTUP(in_Namespace_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_name_QName_MKQNAME (VAL in_Namespace_1, uint64_t in_Name_2, int64_t in_Int_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(0LL /* MKQNAME */);
	v5->cells[3] = MKI64(in_Int_3);
	v5->cells[2] = MKU64(in_Name_2);
	v5->cells[1] = in_Namespace_1;
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static void mtp_mirth_name_QName_MKQNAME (VAL in_QName_1, VAL *out_Namespace_2, uint64_t *out_Name_3, int64_t *out_Int_4) {
	VAL v5 = VTUP(in_QName_1)->cells[1];
	VAL v6 = VTUP(in_QName_1)->cells[2];
	VAL v7 = VTUP(in_QName_1)->cells[3];
	tup_decref_outer(VTUP(in_QName_1),4);
	*out_Int_4 = value_i64(v7);
	*out_Name_3 = value_u64(v6);
	*out_Namespace_2 = v5;
}
static VAL mtw_mirth_name_DName_DName (VAL in_Maybe_1, VAL in_ListZPlus_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* DName */);
	v4->cells[2] = in_ListZPlus_2;
	v4->cells[1] = in_Maybe_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtp_mirth_name_DName_DName (VAL in_DName_1, VAL *out_ListZPlus_3) {
	VAL v4 = VTUP(in_DName_1)->cells[1];
	VAL v5 = VTUP(in_DName_1)->cells[2];
	tup_decref_outer(VTUP(in_DName_1),3);
	*out_ListZPlus_3 = v5;
	return v4;
}
static void mtw_mirth_lexer_ZPlusLexer_ZPlusLexer (uint64_t in_Module_1, int64_t in_Row_2, int64_t in_Col_3, VAL in_List_4, uint64_t in_Token_5, VAL in_ZPlusInput_6, VAL *out_ZPlusLexer_7) {
	TUP* v8 = tup_new(7);
	v8->size = 7;
	v8->cells[0] = MKI64(0LL /* +Lexer */);
	v8->cells[6] = in_ZPlusInput_6;
	v8->cells[5] = MKU64(in_Token_5);
	v8->cells[4] = in_List_4;
	v8->cells[3] = MKI64(in_Col_3);
	v8->cells[2] = MKI64(in_Row_2);
	v8->cells[1] = MKU64(in_Module_1);
	VAL v9 = MKTUP(v8, 7);
	*out_ZPlusLexer_7 = v9;
}
static void mtp_mirth_lexer_ZPlusLexer_ZPlusLexer (VAL in_ZPlusLexer_1, uint64_t *out_Module_2, int64_t *out_Row_3, int64_t *out_Col_4, VAL *out_List_5, uint64_t *out_Token_6, VAL *out_ZPlusInput_7) {
	VAL v8 = VTUP(in_ZPlusLexer_1)->cells[1];
	VAL v9 = VTUP(in_ZPlusLexer_1)->cells[2];
	VAL v10 = VTUP(in_ZPlusLexer_1)->cells[3];
	VAL v11 = VTUP(in_ZPlusLexer_1)->cells[4];
	VAL v12 = VTUP(in_ZPlusLexer_1)->cells[5];
	VAL v13 = VTUP(in_ZPlusLexer_1)->cells[6];
	tup_decref_outer(VTUP(in_ZPlusLexer_1),7);
	*out_ZPlusInput_7 = v13;
	*out_Token_6 = value_u64(v12);
	*out_List_5 = v11;
	*out_Col_4 = value_i64(v10);
	*out_Row_3 = value_i64(v9);
	*out_Module_2 = value_u64(v8);
}
static void mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab (VAL in_Ctx_1, uint64_t in_Token_2, int64_t in_Bool_3, int64_t in_Bool_4, VAL *out_ZPlusTypeElab_5) {
	TUP* v6 = tup_new(5);
	v6->size = 5;
	v6->cells[0] = MKI64(0LL /* +TypeElab */);
	v6->cells[4] = MKI64(in_Bool_4);
	v6->cells[3] = MKI64(in_Bool_3);
	v6->cells[2] = MKU64(in_Token_2);
	v6->cells[1] = in_Ctx_1;
	VAL v7 = MKTUP(v6, 5);
	*out_ZPlusTypeElab_5 = v7;
}
static void mtp_mirth_elab_ZPlusTypeElab_ZPlusTypeElab (VAL in_ZPlusTypeElab_1, VAL *out_Ctx_2, uint64_t *out_Token_3, int64_t *out_Bool_4, int64_t *out_Bool_5) {
	VAL v6 = VTUP(in_ZPlusTypeElab_1)->cells[1];
	VAL v7 = VTUP(in_ZPlusTypeElab_1)->cells[2];
	VAL v8 = VTUP(in_ZPlusTypeElab_1)->cells[3];
	VAL v9 = VTUP(in_ZPlusTypeElab_1)->cells[4];
	tup_decref_outer(VTUP(in_ZPlusTypeElab_1),5);
	*out_Bool_5 = value_i64(v9);
	*out_Bool_4 = value_i64(v8);
	*out_Token_3 = value_u64(v7);
	*out_Ctx_2 = v6;
}
static void mtw_mirth_elab_ZPlusResolveDef_ZPlusResolveDef (VAL in_Str_1, uint64_t in_Token_2, VAL in_Either_3, VAL in_List_4, VAL in_List_5, int64_t in_Bool_6, int64_t in_Bool_7, VAL *out_ZPlusResolveDef_8) {
	TUP* v9 = tup_new(8);
	v9->size = 8;
	v9->cells[0] = MKI64(0LL /* +ResolveDef */);
	v9->cells[7] = MKI64(in_Bool_7);
	v9->cells[6] = MKI64(in_Bool_6);
	v9->cells[5] = in_List_5;
	v9->cells[4] = in_List_4;
	v9->cells[3] = in_Either_3;
	v9->cells[2] = MKU64(in_Token_2);
	v9->cells[1] = in_Str_1;
	VAL v10 = MKTUP(v9, 8);
	*out_ZPlusResolveDef_8 = v10;
}
static void mtp_mirth_elab_ZPlusResolveDef_ZPlusResolveDef (VAL in_ZPlusResolveDef_1, VAL *out_Str_2, uint64_t *out_Token_3, VAL *out_Either_4, VAL *out_List_5, VAL *out_List_6, int64_t *out_Bool_7, int64_t *out_Bool_8) {
	VAL v9 = VTUP(in_ZPlusResolveDef_1)->cells[1];
	VAL v10 = VTUP(in_ZPlusResolveDef_1)->cells[2];
	VAL v11 = VTUP(in_ZPlusResolveDef_1)->cells[3];
	VAL v12 = VTUP(in_ZPlusResolveDef_1)->cells[4];
	VAL v13 = VTUP(in_ZPlusResolveDef_1)->cells[5];
	VAL v14 = VTUP(in_ZPlusResolveDef_1)->cells[6];
	VAL v15 = VTUP(in_ZPlusResolveDef_1)->cells[7];
	tup_decref_outer(VTUP(in_ZPlusResolveDef_1),8);
	*out_Bool_8 = value_i64(v15);
	*out_Bool_7 = value_i64(v14);
	*out_List_6 = v13;
	*out_List_5 = v12;
	*out_Either_4 = v11;
	*out_Token_3 = value_u64(v10);
	*out_Str_2 = v9;
}
static VAL mtw_mirth_elab_RejectedDef_RDz_WRONGz_SORT (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* RD_WRONG_SORT */);
	v3->cells[1] = in_Def_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_RejectedDef_RDz_WRONGz_SORT (VAL in_RejectedDef_1) {
	VAL v3 = VTUP(in_RejectedDef_1)->cells[1];
	tup_decref_outer(VTUP(in_RejectedDef_1),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_RDz_WRONGz_ARITY (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* RD_WRONG_ARITY */);
	v3->cells[1] = in_Def_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_RejectedDef_RDz_WRONGz_ARITY (VAL in_RejectedDef_1) {
	VAL v3 = VTUP(in_RejectedDef_1)->cells[1];
	tup_decref_outer(VTUP(in_RejectedDef_1),2);
	return v3;
}
static VAL mtp_mirth_elab_RejectedDef_RDz_NOTz_VISIBLE (VAL in_RejectedDef_1) {
	VAL v3 = VTUP(in_RejectedDef_1)->cells[1];
	tup_decref_outer(VTUP(in_RejectedDef_1),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_RDz_NOTz_IMPORTED (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* RD_NOT_IMPORTED */);
	v3->cells[1] = in_Def_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_RejectedDef_RDz_NOTz_IMPORTED (VAL in_RejectedDef_1) {
	VAL v3 = VTUP(in_RejectedDef_1)->cells[1];
	tup_decref_outer(VTUP(in_RejectedDef_1),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_RDz_WRONGz_QUALIFIER (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(4LL /* RD_WRONG_QUALIFIER */);
	v3->cells[1] = in_Def_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_RejectedDef_RDz_WRONGz_QUALIFIER (VAL in_RejectedDef_1) {
	VAL v3 = VTUP(in_RejectedDef_1)->cells[1];
	tup_decref_outer(VTUP(in_RejectedDef_1),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_RDz_WRONGz_CONSTRUCTOR (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(5LL /* RD_WRONG_CONSTRUCTOR */);
	v3->cells[1] = in_Def_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_RejectedDef_RDz_WRONGz_CONSTRUCTOR (VAL in_RejectedDef_1) {
	VAL v3 = VTUP(in_RejectedDef_1)->cells[1];
	tup_decref_outer(VTUP(in_RejectedDef_1),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_RDz_METHODz_NOTz_AVAILABLE (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(6LL /* RD_METHOD_NOT_AVAILABLE */);
	v3->cells[1] = in_Def_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_RejectedDef_RDz_METHODz_NOTz_AVAILABLE (VAL in_RejectedDef_1) {
	VAL v3 = VTUP(in_RejectedDef_1)->cells[1];
	tup_decref_outer(VTUP(in_RejectedDef_1),2);
	return v3;
}
static VAL mtw_mirth_elab_RejectedDef_RDz_METHODz_WRONGz_TYPE (VAL in_Def_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(7LL /* RD_METHOD_WRONG_TYPE */);
	v3->cells[1] = in_Def_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_RejectedDef_RDz_METHODz_WRONGz_TYPE (VAL in_RejectedDef_1) {
	VAL v3 = VTUP(in_RejectedDef_1)->cells[1];
	tup_decref_outer(VTUP(in_RejectedDef_1),2);
	return v3;
}
static VAL mtw_mirth_elab_OpSig_OPSIGz_PUSH (VAL in_Type_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* OPSIG_PUSH */);
	v3->cells[1] = in_Type_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_OpSig_OPSIGz_PUSH (VAL in_OpSig_1) {
	VAL v3 = VTUP(in_OpSig_1)->cells[1];
	tup_decref_outer(VTUP(in_OpSig_1),2);
	return v3;
}
static VAL mtw_mirth_elab_OpSig_OPSIGz_APPLY (VAL in_ArrowType_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* OPSIG_APPLY */);
	v3->cells[1] = in_ArrowType_1;
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static VAL mtp_mirth_elab_OpSig_OPSIGz_APPLY (VAL in_OpSig_1) {
	VAL v3 = VTUP(in_OpSig_1)->cells[1];
	tup_decref_outer(VTUP(in_OpSig_1),2);
	return v3;
}
static VAL mtw_mirth_elab_SyntaxData_SyntaxData (uint64_t in_SyntaxDataHeader_1, VAL in_List_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* SyntaxData */);
	v4->cells[2] = in_List_2;
	v4->cells[1] = MKU64(in_SyntaxDataHeader_1);
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static void mtp_mirth_elab_SyntaxData_SyntaxData (VAL in_SyntaxData_1, uint64_t *out_SyntaxDataHeader_2, VAL *out_List_3) {
	VAL v4 = VTUP(in_SyntaxData_1)->cells[1];
	VAL v5 = VTUP(in_SyntaxData_1)->cells[2];
	tup_decref_outer(VTUP(in_SyntaxData_1),3);
	*out_List_3 = v5;
	*out_SyntaxDataHeader_2 = value_u64(v4);
}
static VAL mtw_mirth_elab_SyntaxDataTag_SyntaxDataTag (uint64_t in_Token_1, VAL in_Maybe_2, uint64_t in_Name_3, VAL in_Maybe_4) {
	TUP* v6 = tup_new(5);
	v6->size = 5;
	v6->cells[0] = MKI64(0LL /* SyntaxDataTag */);
	v6->cells[4] = in_Maybe_4;
	v6->cells[3] = MKU64(in_Name_3);
	v6->cells[2] = in_Maybe_2;
	v6->cells[1] = MKU64(in_Token_1);
	VAL v7 = MKTUP(v6, 5);
	return v7;
}
static VAL mtw_mirth_elab_SyntaxDef_SyntaxDef (uint64_t in_Token_1, VAL in_Maybe_2, uint64_t in_Token_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(0LL /* SyntaxDef */);
	v5->cells[3] = MKU64(in_Token_3);
	v5->cells[2] = in_Maybe_2;
	v5->cells[1] = MKU64(in_Token_1);
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static void mtp_mirth_elab_SyntaxDef_SyntaxDef (VAL in_SyntaxDef_1, uint64_t *out_Token_2, VAL *out_Maybe_3, uint64_t *out_Token_4) {
	VAL v5 = VTUP(in_SyntaxDef_1)->cells[1];
	VAL v6 = VTUP(in_SyntaxDef_1)->cells[2];
	VAL v7 = VTUP(in_SyntaxDef_1)->cells[3];
	tup_decref_outer(VTUP(in_SyntaxDef_1),4);
	*out_Token_4 = value_u64(v7);
	*out_Maybe_3 = v6;
	*out_Token_2 = value_u64(v5);
}
static VAL mtw_mirth_elab_ExternalDeclPart_EDPCode (uint64_t in_Token_1, VAL in_Str_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* EDPCode */);
	v4->cells[2] = in_Str_2;
	v4->cells[1] = MKU64(in_Token_1);
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static void mtp_mirth_elab_ExternalDeclPart_EDPCode (VAL in_ExternalDeclPart_1, uint64_t *out_Token_2, VAL *out_Str_3) {
	VAL v4 = VTUP(in_ExternalDeclPart_1)->cells[1];
	VAL v5 = VTUP(in_ExternalDeclPart_1)->cells[2];
	tup_decref_outer(VTUP(in_ExternalDeclPart_1),3);
	*out_Str_3 = v5;
	*out_Token_2 = value_u64(v4);
}
static VAL mtw_mirth_elab_ExternalDeclPart_EDPDef (uint64_t in_Token_1, VAL in_Maybe_2, uint64_t in_Token_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(1LL /* EDPDef */);
	v5->cells[3] = MKU64(in_Token_3);
	v5->cells[2] = in_Maybe_2;
	v5->cells[1] = MKU64(in_Token_1);
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static void mtp_mirth_elab_ExternalDeclPart_EDPDef (VAL in_ExternalDeclPart_1, uint64_t *out_Token_2, VAL *out_Maybe_3, uint64_t *out_Token_4) {
	VAL v5 = VTUP(in_ExternalDeclPart_1)->cells[1];
	VAL v6 = VTUP(in_ExternalDeclPart_1)->cells[2];
	VAL v7 = VTUP(in_ExternalDeclPart_1)->cells[3];
	tup_decref_outer(VTUP(in_ExternalDeclPart_1),4);
	*out_Token_4 = value_u64(v7);
	*out_Maybe_3 = v6;
	*out_Token_2 = value_u64(v5);
}
static VAL mtw_std_map_KVPair_2_KVPair (VAL in_k_1, VAL in_v_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* KVPair */);
	v4->cells[2] = in_v_2;
	v4->cells[1] = in_k_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static VAL mtw_mirth_specializzer_SPCheckItem_SPCHECKz_WORD (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* SPCHECK_WORD */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_specializzer_SPCheckItem_SPCHECKz_WORD (VAL in_SPCheckItem_1) {
	VAL v3 = VTUP(in_SPCheckItem_1)->cells[1];
	tup_decref_outer(VTUP(in_SPCheckItem_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_specializzer_SPCheckItem_SPCHECKz_BLOCK (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* SPCHECK_BLOCK */);
	v3->cells[1] = MKU64(in_Block_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_specializzer_SPCheckItem_SPCHECKz_BLOCK (VAL in_SPCheckItem_1) {
	VAL v3 = VTUP(in_SPCheckItem_1)->cells[1];
	tup_decref_outer(VTUP(in_SPCheckItem_1),2);
	return value_u64(v3);
}
static void mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH (VAL in_SPKey_1, uint64_t in_Word_2, VAL in_Map_3, VAL in_ZPlusAB_4, VAL *out_ZPlusSPSynth_5) {
	TUP* v6 = tup_new(5);
	v6->size = 5;
	v6->cells[0] = MKI64(0LL /* +SPSYNTH */);
	v6->cells[4] = in_Map_3;
	v6->cells[3] = MKU64(in_Word_2);
	v6->cells[2] = in_SPKey_1;
	v6->cells[1] = in_ZPlusAB_4;
	VAL v7 = MKTUP(v6, 5);
	*out_ZPlusSPSynth_5 = v7;
}
static void mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH (VAL in_ZPlusSPSynth_1, VAL *out_SPKey_2, uint64_t *out_Word_3, VAL *out_Map_4, VAL *out_ZPlusAB_5) {
	VAL v6 = VTUP(in_ZPlusSPSynth_1)->cells[1];
	VAL v7 = VTUP(in_ZPlusSPSynth_1)->cells[2];
	VAL v8 = VTUP(in_ZPlusSPSynth_1)->cells[3];
	VAL v9 = VTUP(in_ZPlusSPSynth_1)->cells[4];
	tup_decref_outer(VTUP(in_ZPlusSPSynth_1),5);
	*out_ZPlusAB_5 = v6;
	*out_Map_4 = v9;
	*out_Word_3 = value_u64(v8);
	*out_SPKey_2 = v7;
}
static VAL mtw_mirth_need_Need_NEEDz_WORD (uint64_t in_Word_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* NEED_WORD */);
	v3->cells[1] = MKU64(in_Word_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_need_Need_NEEDz_WORD (VAL in_Need_1) {
	VAL v3 = VTUP(in_Need_1)->cells[1];
	tup_decref_outer(VTUP(in_Need_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_need_Need_NEEDz_BLOCK (uint64_t in_Block_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* NEED_BLOCK */);
	v3->cells[1] = MKU64(in_Block_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_need_Need_NEEDz_BLOCK (VAL in_Need_1) {
	VAL v3 = VTUP(in_Need_1)->cells[1];
	tup_decref_outer(VTUP(in_Need_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_need_Need_NEEDz_TAGW (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(2LL /* NEED_TAGW */);
	v3->cells[1] = MKU64(in_Tag_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_need_Need_NEEDz_TAGW (VAL in_Need_1) {
	VAL v3 = VTUP(in_Need_1)->cells[1];
	tup_decref_outer(VTUP(in_Need_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_need_Need_NEEDz_TAGP (uint64_t in_Tag_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* NEED_TAGP */);
	v3->cells[1] = MKU64(in_Tag_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_need_Need_NEEDz_TAGP (VAL in_Need_1) {
	VAL v3 = VTUP(in_Need_1)->cells[1];
	tup_decref_outer(VTUP(in_Need_1),2);
	return value_u64(v3);
}
static void mtw_mirth_need_ZPlusNeeds_ZPlusNeeds (VAL in_List_1, VAL in_ZPlusSet_2, VAL *out_ZPlusNeeds_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* +Needs */);
	v4->cells[2] = in_ZPlusSet_2;
	v4->cells[1] = in_List_1;
	VAL v5 = MKTUP(v4, 3);
	*out_ZPlusNeeds_3 = v5;
}
static void mtp_mirth_need_ZPlusNeeds_ZPlusNeeds (VAL in_ZPlusNeeds_1, VAL *out_List_2, VAL *out_ZPlusSet_3) {
	VAL v4 = VTUP(in_ZPlusNeeds_1)->cells[1];
	VAL v5 = VTUP(in_ZPlusNeeds_1)->cells[2];
	tup_decref_outer(VTUP(in_ZPlusNeeds_1),3);
	*out_ZPlusSet_3 = v5;
	*out_List_2 = v4;
}
static VAL mtw_mirth_c99_C99z_Options_C99z_Options (VAL in_Path_1, int64_t in_Bool_2) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* C99_Options */);
	v4->cells[2] = MKI64(in_Bool_2);
	v4->cells[1] = in_Path_1;
	VAL v5 = MKTUP(v4, 3);
	return v5;
}
static void mtw_mirth_c99_ZPlusC99_ZPlusC99 (VAL in_C99z_Options_1, int64_t in_Nat_2, int64_t in_Nat_3, int64_t in_Bool_4, VAL in_ZPlusNeeds_5, VAL in_ZPlusOutput_6, VAL in_ZPlusMirth_7, VAL *out_ZPlusC99_8) {
	TUP* v9 = tup_new(8);
	v9->size = 8;
	v9->cells[0] = MKI64(0LL /* +C99 */);
	v9->cells[7] = in_ZPlusMirth_7;
	v9->cells[6] = in_ZPlusOutput_6;
	v9->cells[5] = in_ZPlusNeeds_5;
	v9->cells[4] = MKI64(in_Bool_4);
	v9->cells[3] = MKI64(in_Nat_3);
	v9->cells[2] = MKI64(in_Nat_2);
	v9->cells[1] = in_C99z_Options_1;
	VAL v10 = MKTUP(v9, 8);
	*out_ZPlusC99_8 = v10;
}
static void mtp_mirth_c99_ZPlusC99_ZPlusC99 (VAL in_ZPlusC99_1, VAL *out_C99z_Options_2, int64_t *out_Nat_3, int64_t *out_Nat_4, int64_t *out_Bool_5, VAL *out_ZPlusNeeds_6, VAL *out_ZPlusOutput_7, VAL *out_ZPlusMirth_8) {
	VAL v9 = VTUP(in_ZPlusC99_1)->cells[1];
	VAL v10 = VTUP(in_ZPlusC99_1)->cells[2];
	VAL v11 = VTUP(in_ZPlusC99_1)->cells[3];
	VAL v12 = VTUP(in_ZPlusC99_1)->cells[4];
	VAL v13 = VTUP(in_ZPlusC99_1)->cells[5];
	VAL v14 = VTUP(in_ZPlusC99_1)->cells[6];
	VAL v15 = VTUP(in_ZPlusC99_1)->cells[7];
	tup_decref_outer(VTUP(in_ZPlusC99_1),8);
	*out_ZPlusMirth_8 = v15;
	*out_ZPlusOutput_7 = v14;
	*out_ZPlusNeeds_6 = v13;
	*out_Bool_5 = value_i64(v12);
	*out_Nat_4 = value_i64(v11);
	*out_Nat_3 = value_i64(v10);
	*out_C99z_Options_2 = v9;
}
static VAL mtw_mirth_c99_C99APIArgSource_C99AASz_ValueLabel (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* C99AAS_ValueLabel */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_c99_C99APIArgSource_C99AASz_ValueLabel (VAL in_C99APIArgSource_1) {
	VAL v3 = VTUP(in_C99APIArgSource_1)->cells[1];
	tup_decref_outer(VTUP(in_C99APIArgSource_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_c99_C99APIArgSource_C99AASz_ResourceLabel (uint64_t in_Label_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* C99AAS_ResourceLabel */);
	v3->cells[1] = MKU64(in_Label_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static uint64_t mtp_mirth_c99_C99APIArgSource_C99AASz_ResourceLabel (VAL in_C99APIArgSource_1) {
	VAL v3 = VTUP(in_C99APIArgSource_1)->cells[1];
	tup_decref_outer(VTUP(in_C99APIArgSource_1),2);
	return value_u64(v3);
}
static VAL mtw_mirth_c99_C99APIArg_C99APIArg (int64_t in_C99APIArgMode_1, VAL in_C99APIArgSource_2, VAL in_C99ReprType_3, VAL in_Str_4) {
	TUP* v6 = tup_new(5);
	v6->size = 5;
	v6->cells[0] = MKI64(0LL /* C99APIArg */);
	v6->cells[4] = in_Str_4;
	v6->cells[3] = in_C99ReprType_3;
	v6->cells[2] = in_C99APIArgSource_2;
	v6->cells[1] = MKI64(in_C99APIArgMode_1);
	VAL v7 = MKTUP(v6, 5);
	return v7;
}
static void mtp_mirth_c99_C99APIArg_C99APIArg (VAL in_C99APIArg_1, int64_t *out_C99APIArgMode_2, VAL *out_C99APIArgSource_3, VAL *out_C99ReprType_4, VAL *out_Str_5) {
	VAL v6 = VTUP(in_C99APIArg_1)->cells[1];
	VAL v7 = VTUP(in_C99APIArg_1)->cells[2];
	VAL v8 = VTUP(in_C99APIArg_1)->cells[3];
	VAL v9 = VTUP(in_C99APIArg_1)->cells[4];
	tup_decref_outer(VTUP(in_C99APIArg_1),5);
	*out_Str_5 = v9;
	*out_C99ReprType_4 = v8;
	*out_C99APIArgSource_3 = v7;
	*out_C99APIArgMode_2 = value_i64(v6);
}
static VAL mtw_mirth_c99_C99API_C99API (VAL in_Str_1, VAL in_ArrowType_2, VAL in_List_3, VAL in_List_4, VAL in_Maybe_5, VAL in_List_6, int64_t in_Bool_7, int64_t in_Bool_8) {
	TUP* v10 = tup_new(9);
	v10->size = 9;
	v10->cells[0] = MKI64(0LL /* C99API */);
	v10->cells[8] = MKI64(in_Bool_8);
	v10->cells[7] = MKI64(in_Bool_7);
	v10->cells[6] = in_List_6;
	v10->cells[5] = in_Maybe_5;
	v10->cells[4] = in_List_4;
	v10->cells[3] = in_List_3;
	v10->cells[2] = in_ArrowType_2;
	v10->cells[1] = in_Str_1;
	VAL v11 = MKTUP(v10, 9);
	return v11;
}
static VAL mtw_mirth_c99_C99ReprType_C99RTz_TUP (int64_t in_Nat_1) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(3LL /* C99RT_TUP */);
	v3->cells[1] = MKI64(in_Nat_1);
	VAL v4 = MKTUP(v3, 2);
	return v4;
}
static int64_t mtp_mirth_c99_C99ReprType_C99RTz_TUP (VAL in_C99ReprType_1) {
	VAL v3 = VTUP(in_C99ReprType_1)->cells[1];
	tup_decref_outer(VTUP(in_C99ReprType_1),2);
	return value_i64(v3);
}
static void mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value (VAL in_C99ReprType_1, VAL in_Str_2, VAL *out_ZPlusC99Value_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* +C99Value */);
	v4->cells[2] = in_Str_2;
	v4->cells[1] = in_C99ReprType_1;
	VAL v5 = MKTUP(v4, 3);
	*out_ZPlusC99Value_3 = v5;
}
static void mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value (VAL in_ZPlusC99Value_1, VAL *out_C99ReprType_2, VAL *out_Str_3) {
	VAL v4 = VTUP(in_ZPlusC99Value_1)->cells[1];
	VAL v5 = VTUP(in_ZPlusC99Value_1)->cells[2];
	tup_decref_outer(VTUP(in_ZPlusC99Value_1),3);
	*out_Str_3 = v5;
	*out_C99ReprType_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource (VAL in_C99ReprType_1, VAL in_Str_2, VAL *out_ZPlusC99Resource_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(0LL /* +C99Resource */);
	v4->cells[2] = in_Str_2;
	v4->cells[1] = in_C99ReprType_1;
	VAL v5 = MKTUP(v4, 3);
	*out_ZPlusC99Resource_3 = v5;
}
static void mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource (VAL in_ZPlusC99Resource_1, VAL *out_C99ReprType_2, VAL *out_Str_3) {
	VAL v4 = VTUP(in_ZPlusC99Resource_1)->cells[1];
	VAL v5 = VTUP(in_ZPlusC99Resource_1)->cells[2];
	tup_decref_outer(VTUP(in_ZPlusC99Resource_1),3);
	*out_Str_3 = v5;
	*out_C99ReprType_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft (VAL in_ZPlusC99Value_1, VAL *out_ZPlusC99ValueZDivResource_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(0LL /* +Left */);
	v3->cells[1] = in_ZPlusC99Value_1;
	VAL v4 = MKTUP(v3, 2);
	*out_ZPlusC99ValueZDivResource_2 = v4;
}
static void mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft (VAL in_ZPlusC99ValueZDivResource_1, VAL *out_ZPlusC99Value_2) {
	VAL v3 = VTUP(in_ZPlusC99ValueZDivResource_1)->cells[1];
	tup_decref_outer(VTUP(in_ZPlusC99ValueZDivResource_1),2);
	*out_ZPlusC99Value_2 = v3;
}
static void mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight (VAL in_ZPlusC99Resource_1, VAL *out_ZPlusC99ValueZDivResource_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* +Right */);
	v3->cells[1] = in_ZPlusC99Resource_1;
	VAL v4 = MKTUP(v3, 2);
	*out_ZPlusC99ValueZDivResource_2 = v4;
}
static void mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight (VAL in_ZPlusC99ValueZDivResource_1, VAL *out_ZPlusC99Resource_2) {
	VAL v3 = VTUP(in_ZPlusC99ValueZDivResource_1)->cells[1];
	tup_decref_outer(VTUP(in_ZPlusC99ValueZDivResource_1),2);
	*out_ZPlusC99Resource_2 = v3;
}
static void mtw_mirth_c99_ZPlusC99ValueZAsk_ZPlusC99ValueSome (VAL in_ZPlusC99Value_1, VAL *out_ZPlusC99ValueZAsk_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* +C99ValueSome */);
	v3->cells[1] = in_ZPlusC99Value_1;
	VAL v4 = MKTUP(v3, 2);
	*out_ZPlusC99ValueZAsk_2 = v4;
}
static void mtp_mirth_c99_ZPlusC99ValueZAsk_ZPlusC99ValueSome (VAL in_ZPlusC99ValueZAsk_1, VAL *out_ZPlusC99Value_2) {
	VAL v3 = VTUP(in_ZPlusC99ValueZAsk_1)->cells[1];
	tup_decref_outer(VTUP(in_ZPlusC99ValueZAsk_1),2);
	*out_ZPlusC99Value_2 = v3;
}
static void mtw_mirth_c99_ZPlusC99ResourceZAsk_ZPlusC99ResourceSome (VAL in_ZPlusC99Resource_1, VAL *out_ZPlusC99ResourceZAsk_2) {
	TUP* v3 = tup_new(2);
	v3->size = 2;
	v3->cells[0] = MKI64(1LL /* +C99ResourceSome */);
	v3->cells[1] = in_ZPlusC99Resource_1;
	VAL v4 = MKTUP(v3, 2);
	*out_ZPlusC99ResourceZAsk_2 = v4;
}
static void mtp_mirth_c99_ZPlusC99ResourceZAsk_ZPlusC99ResourceSome (VAL in_ZPlusC99ResourceZAsk_1, VAL *out_ZPlusC99Resource_2) {
	VAL v3 = VTUP(in_ZPlusC99ResourceZAsk_1)->cells[1];
	tup_decref_outer(VTUP(in_ZPlusC99ResourceZAsk_1),2);
	*out_ZPlusC99Resource_2 = v3;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons (VAL in_ZPlusC99Stack_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Stack_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(1LL /* +SCons */);
	v4->cells[2] = in_ZPlusC99Value_2;
	v4->cells[1] = in_ZPlusC99Stack_1;
	VAL v5 = MKTUP(v4, 3);
	*out_ZPlusC99Stack_3 = v5;
}
static void mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, VAL *out_ZPlusC99Value_3) {
	VAL v4 = VTUP(in_ZPlusC99Stack_1)->cells[1];
	VAL v5 = VTUP(in_ZPlusC99Stack_1)->cells[2];
	tup_decref_outer(VTUP(in_ZPlusC99Stack_1),3);
	*out_ZPlusC99Value_3 = v5;
	*out_ZPlusC99Stack_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith (VAL in_ZPlusC99Stack_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Stack_3) {
	TUP* v4 = tup_new(3);
	v4->size = 3;
	v4->cells[0] = MKI64(2LL /* +SWith */);
	v4->cells[2] = in_ZPlusC99Resource_2;
	v4->cells[1] = in_ZPlusC99Stack_1;
	VAL v5 = MKTUP(v4, 3);
	*out_ZPlusC99Stack_3 = v5;
}
static void mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, VAL *out_ZPlusC99Resource_3) {
	VAL v4 = VTUP(in_ZPlusC99Stack_1)->cells[1];
	VAL v5 = VTUP(in_ZPlusC99Stack_1)->cells[2];
	tup_decref_outer(VTUP(in_ZPlusC99Stack_1),3);
	*out_ZPlusC99Resource_3 = v5;
	*out_ZPlusC99Stack_2 = v4;
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel (VAL in_ZPlusC99Stack_1, VAL in_ZPlusC99Value_2, uint64_t in_Label_3, VAL *out_ZPlusC99Stack_4) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(3LL /* +SConsLabel */);
	v5->cells[3] = in_ZPlusC99Value_2;
	v5->cells[2] = in_ZPlusC99Stack_1;
	v5->cells[1] = MKU64(in_Label_3);
	VAL v6 = MKTUP(v5, 4);
	*out_ZPlusC99Stack_4 = v6;
}
static uint64_t mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, VAL *out_ZPlusC99Value_3) {
	VAL v5 = VTUP(in_ZPlusC99Stack_1)->cells[1];
	VAL v6 = VTUP(in_ZPlusC99Stack_1)->cells[2];
	VAL v7 = VTUP(in_ZPlusC99Stack_1)->cells[3];
	tup_decref_outer(VTUP(in_ZPlusC99Stack_1),4);
	*out_ZPlusC99Value_3 = v7;
	*out_ZPlusC99Stack_2 = v6;
	return value_u64(v5);
}
static void mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel (VAL in_ZPlusC99Stack_1, VAL in_ZPlusC99Resource_2, uint64_t in_Label_3, VAL *out_ZPlusC99Stack_4) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(4LL /* +SWithLabel */);
	v5->cells[3] = in_ZPlusC99Resource_2;
	v5->cells[2] = in_ZPlusC99Stack_1;
	v5->cells[1] = MKU64(in_Label_3);
	VAL v6 = MKTUP(v5, 4);
	*out_ZPlusC99Stack_4 = v6;
}
static uint64_t mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, VAL *out_ZPlusC99Resource_3) {
	VAL v5 = VTUP(in_ZPlusC99Stack_1)->cells[1];
	VAL v6 = VTUP(in_ZPlusC99Stack_1)->cells[2];
	VAL v7 = VTUP(in_ZPlusC99Stack_1)->cells[3];
	tup_decref_outer(VTUP(in_ZPlusC99Stack_1),4);
	*out_ZPlusC99Resource_3 = v7;
	*out_ZPlusC99Stack_2 = v6;
	return value_u64(v5);
}
static void mtw_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit (VAL in_ZPlusC99_1, VAL in_ZPlusC99Stack_2, VAL in_List_3, VAL in_List_4, int64_t in_Bool_5, int64_t in_Bool_6, VAL *out_ZPlusC99BranchSplit_7) {
	TUP* v8 = tup_new(7);
	v8->size = 7;
	v8->cells[0] = MKI64(0LL /* +C99BranchSplit */);
	v8->cells[6] = MKI64(in_Bool_6);
	v8->cells[5] = MKI64(in_Bool_5);
	v8->cells[4] = in_List_4;
	v8->cells[3] = in_List_3;
	v8->cells[2] = in_ZPlusC99Stack_2;
	v8->cells[1] = in_ZPlusC99_1;
	VAL v9 = MKTUP(v8, 7);
	*out_ZPlusC99BranchSplit_7 = v9;
}
static void mtp_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99_2, VAL *out_ZPlusC99Stack_3, VAL *out_List_4, VAL *out_List_5, int64_t *out_Bool_6, int64_t *out_Bool_7) {
	VAL v8 = VTUP(in_ZPlusC99BranchSplit_1)->cells[1];
	VAL v9 = VTUP(in_ZPlusC99BranchSplit_1)->cells[2];
	VAL v10 = VTUP(in_ZPlusC99BranchSplit_1)->cells[3];
	VAL v11 = VTUP(in_ZPlusC99BranchSplit_1)->cells[4];
	VAL v12 = VTUP(in_ZPlusC99BranchSplit_1)->cells[5];
	VAL v13 = VTUP(in_ZPlusC99BranchSplit_1)->cells[6];
	tup_decref_outer(VTUP(in_ZPlusC99BranchSplit_1),7);
	*out_Bool_7 = value_i64(v13);
	*out_Bool_6 = value_i64(v12);
	*out_List_5 = v11;
	*out_List_4 = v10;
	*out_ZPlusC99Stack_3 = v9;
	*out_ZPlusC99_2 = v8;
}
static VAL mtw_mirth_c99_C99Var_C99Var (uint64_t in_Var_1, VAL in_Str_2, VAL in_C99ReprType_3) {
	TUP* v5 = tup_new(4);
	v5->size = 4;
	v5->cells[0] = MKI64(0LL /* C99Var */);
	v5->cells[3] = in_C99ReprType_3;
	v5->cells[2] = in_Str_2;
	v5->cells[1] = MKU64(in_Var_1);
	VAL v6 = MKTUP(v5, 4);
	return v6;
}
static void mtp_mirth_c99_C99Var_C99Var (VAL in_C99Var_1, uint64_t *out_Var_2, VAL *out_Str_3, VAL *out_C99ReprType_4) {
	VAL v5 = VTUP(in_C99Var_1)->cells[1];
	VAL v6 = VTUP(in_C99Var_1)->cells[2];
	VAL v7 = VTUP(in_C99Var_1)->cells[3];
	tup_decref_outer(VTUP(in_C99Var_1),4);
	*out_C99ReprType_4 = v7;
	*out_Str_3 = v6;
	*out_Var_2 = value_u64(v5);
}
static void mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch (VAL in_ZPlusC99_1, VAL in_ZPlusC99Stack_2, VAL in_List_3, int64_t in_Bool_4, VAL *out_ZPlusC99Branch_5) {
	TUP* v6 = tup_new(5);
	v6->size = 5;
	v6->cells[0] = MKI64(0LL /* +C99Branch */);
	v6->cells[4] = MKI64(in_Bool_4);
	v6->cells[3] = in_List_3;
	v6->cells[2] = in_ZPlusC99Stack_2;
	v6->cells[1] = in_ZPlusC99_1;
	VAL v7 = MKTUP(v6, 5);
	*out_ZPlusC99Branch_5 = v7;
}
static void mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99_2, VAL *out_ZPlusC99Stack_3, VAL *out_List_4, int64_t *out_Bool_5) {
	VAL v6 = VTUP(in_ZPlusC99Branch_1)->cells[1];
	VAL v7 = VTUP(in_ZPlusC99Branch_1)->cells[2];
	VAL v8 = VTUP(in_ZPlusC99Branch_1)->cells[3];
	VAL v9 = VTUP(in_ZPlusC99Branch_1)->cells[4];
	tup_decref_outer(VTUP(in_ZPlusC99Branch_1),5);
	*out_Bool_5 = value_i64(v9);
	*out_List_4 = v8;
	*out_ZPlusC99Stack_3 = v7;
	*out_ZPlusC99_2 = v6;
}
static VAL mtw_mirth_main_Arguments_Arguments (VAL in_Path_1, VAL in_Maybe_2, VAL in_Maybe_3, VAL in_List_4, VAL in_List_5, int64_t in_Bool_6) {
	TUP* v8 = tup_new(7);
	v8->size = 7;
	v8->cells[0] = MKI64(0LL /* Arguments */);
	v8->cells[6] = MKI64(in_Bool_6);
	v8->cells[5] = in_List_5;
	v8->cells[4] = in_List_4;
	v8->cells[3] = in_Maybe_3;
	v8->cells[2] = in_Maybe_2;
	v8->cells[1] = in_Path_1;
	VAL v9 = MKTUP(v8, 7);
	return v9;
}
static void mtp_mirth_main_Arguments_Arguments (VAL in_Arguments_1, VAL *out_Path_2, VAL *out_Maybe_3, VAL *out_Maybe_4, VAL *out_List_5, VAL *out_List_6, int64_t *out_Bool_7) {
	VAL v8 = VTUP(in_Arguments_1)->cells[1];
	VAL v9 = VTUP(in_Arguments_1)->cells[2];
	VAL v10 = VTUP(in_Arguments_1)->cells[3];
	VAL v11 = VTUP(in_Arguments_1)->cells[4];
	VAL v12 = VTUP(in_Arguments_1)->cells[5];
	VAL v13 = VTUP(in_Arguments_1)->cells[6];
	tup_decref_outer(VTUP(in_Arguments_1),7);
	*out_Bool_7 = value_i64(v13);
	*out_List_6 = v12;
	*out_List_5 = v11;
	*out_Maybe_4 = v10;
	*out_Maybe_3 = v9;
	*out_Path_2 = v8;
}
static char mbuf_mirth_label_Label_NUM[8] = {0};
static char mbuf_mirth_var_Var_NUM[8] = {0};
static char mbuf_mirth_buffer_Buffer_NUM[8] = {0};
static char mbuf_mirth_word_Word_NUM[8] = {0};
static char mbuf_mirth_table_Table_NUM[8] = {0};
static char mbuf_mirth_table_Field_NUM[8] = {0};
static char mbuf_mirth_data_Data_NUM[8] = {0};
static char mbuf_mirth_data_Tag_NUM[8] = {0};
static char mbuf_mirth_external_External_NUM[8] = {0};
static char mbuf_mirth_external_ExternalBlock_NUM[8] = {0};
static char mbuf_mirth_variable_Variable_NUM[8] = {0};
static char mbuf_mirth_arrow_Block_NUM[8] = {0};
static char mbuf_mirth_typedef_TypeDef_NUM[8] = {0};
static char mbuf_mirth_type_MetaVar_NUM[8] = {0};
static char mbuf_mirth_token_Token_NUM[8] = {0};
static char mbuf_mirth_module_Module_NUM[8] = {0};
static char mbuf_mirth_alias_Alias_NUM[8] = {0};
static char mbuf_mirth_name_Name_NUM[8] = {0};
static char mbuf_mirth_name_HASHz_BUF[524288] = {0};
static char mbuf_mirth_package_Package_NUM[8] = {0};
size_t strlen (const char *);
static int64_t mext_std_ctypes_CStr_numZ_bytes (void* in_CStr_1) {
	const char * X2 = (const char *)(in_CStr_1);
	size_t Y = strlen(X2);
	int64_t v5 = (int64_t)(0);
	int64_t v6 = (int64_t)(Y);
	return v6;
}
int read (int, void*, size_t);
static int64_t mext_std_posix_externalZ_posixZ_read (int64_t in_CInt_1, void* in_Ptr_2, int64_t in_CUSizze_3) {
	size_t X3 = (size_t)(in_CUSizze_3);
	void* X2 = (void*)(in_Ptr_2);
	int X1 = (int)(in_CInt_1);
	int Y = read(X1, X2, X3);
	int64_t v5 = (int64_t)(Y);
	return v5;
}
int write (int, const char *, size_t);
static int64_t mext_std_posix_externalZ_posixZ_write (int64_t in_CInt_1, void* in_CStr_2, int64_t in_CUSizze_3) {
	size_t X3 = (size_t)(in_CUSizze_3);
	const char * X2 = (const char *)(in_CStr_2);
	int X1 = (int)(in_CInt_1);
	int Y = write(X1, X2, X3);
	int64_t v5 = (int64_t)(Y);
	return v5;
}
int close (int);
static int64_t mext_std_posix_externalZ_posixZ_close (int64_t in_CInt_1) {
	int X1 = (int)(in_CInt_1);
	int Y = close(X1);
	int64_t v3 = (int64_t)(Y);
	return v3;
}
void exit (int);
static void mext_std_posix_externalZ_posixZ_exit (int64_t in_CInt_1) {
	int X1 = (int)(in_CInt_1);
	exit(X1);
}
int open_internal(const char* path, int flags, int mode) { return open(path, flags, mode); }
int open_internal (const char *, int, int);
static int64_t mext_std_posix_internalZ_posixZ_open (void* in_CStr_1, int64_t in_CInt_2, int64_t in_CInt_3) {
	int X3 = (int)(in_CInt_3);
	int X2 = (int)(in_CInt_2);
	const char * X1 = (const char *)(in_CStr_1);
	int Y = open_internal(X1, X2, X3);
	int64_t v5 = (int64_t)(Y);
	return v5;
}
int stat (const char *, void*);
static int64_t mext_std_world_posixZ_stat (void* in_CStr_1, void* in_Ptr_2) {
	void* X3 = (void*)(in_Ptr_2);
	const char * X2 = (const char *)(in_CStr_1);
	int Y = stat(X2, X3);
	int64_t v6 = (int64_t)(0);
	int64_t v7 = (int64_t)(Y);
	return v7;
}
double strtod(const char*, char**);
double string_to_float64(const char* float64_str) {
    return strtod(float64_str, 0);
}
double string_to_float64 (const char *);
static double mext_mirth_lexer_stringz_toz_float64 (void* in_CStr_1) {
	const char * X1 = (const char *)(in_CStr_1);
	double Y = string_to_float64(X1);
	double v3 = (double)(Y);
	return v3;
}
static VAL mw_std_either_Either_2_leftZAsk (VAL in_Either_1);
static VAL mw_std_either_Either_2_rightZAsk (VAL in_Either_1);
static VAL mw_std_byte_Byte_toZ_strZ_unsafe (int64_t in_Byte_1);
static VAL mw_std_byte_Byte_toZ_asciiZ_str (int64_t in_Byte_1);
static int64_t mw_std_byte_Byte_isZ_stringZ_end (int64_t in_Byte_1);
static int64_t mw_std_byte_Byte_toZ_hexdigits (int64_t in_Byte_1, int64_t *out_Byte_3);
static int64_t mw_std_byte_oneZ_hexdigitZ_byte (int64_t in_Int_1);
static int64_t mw_std_byte_Byte_isZ_nameZ_byte (int64_t in_Byte_1);
static VAL mw_std_byte_Byte_zzencode (int64_t in_Byte_1);
static void mw_std_buffer_ZPlusBuffer_new (int64_t in_USizze_1, VAL *out_ZPlusBuffer_2);
static void mw_std_buffer_ZPlusBuffer_resizzeZBang (int64_t in_USizze_1, VAL in_ZPlusBuffer_2, VAL *out_ZPlusBuffer_3);
static void mw_std_buffer_ZPlusBuffer_expandZBang (int64_t in_USizze_1, VAL in_ZPlusBuffer_2, VAL *out_ZPlusBuffer_3);
static void mw_std_buffer_ZPlusBuffer_rdrop (VAL in_ZPlusBuffer_1);
static void mw_std_buffer_ZPlusBuffer_eraseZ_spanZBang (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_4);
static int64_t mw_std_buffer_ZPlusBuffer_clampZ_spanZBang (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusBuffer_3, int64_t *out_USizze_5, VAL *out_ZPlusBuffer_6);
static int64_t mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_5);
static int64_t mw_std_buffer_ZPlusBuffer_ZAtU8 (int64_t in_UOffset_1, VAL in_ZPlusBuffer_2, VAL *out_ZPlusBuffer_4);
static void mw_std_buffer_ZPlusBuffer_ZBangU8 (int64_t in_U8_1, int64_t in_UOffset_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_4);
static void mw_std_buffer_ZPlusBuffer_ZBangByte (int64_t in_Byte_1, int64_t in_UOffset_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_4);
static void mw_std_buffer_ZPlusBuffer_ZBangStr (VAL in_Str_1, int64_t in_UOffset_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_4);
static VAL mw_std_buffer_ZPlusBuffer_ZAtStr (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_5);
static void mw_std_prim_Ptr_ZBangStr (VAL in_Str_1, void* in_Ptr_2);
static int64_t mw_std_prim_Str_lastZ_byte (VAL in_Str_1);
static int64_t mw_std_str_ZPlusStr_lastZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_byteZAt (int64_t in_UOffset_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_4);
static int64_t mw_std_str_offsetZ_inZ_bounds (int64_t in_UOffset_1, int64_t in_USizze_2);
static int64_t mw_std_prim_Str_byteZAt (int64_t in_UOffset_1, VAL in_Str_2);
static void mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang (int64_t in_Byte_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static void mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang (int64_t in_Byte_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static void mw_std_str_ZPlusStr_pushZ_strZBang (VAL in_Str_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static VAL mw_std_prim_Str_dropZ_bytes (int64_t in_USizze_1, VAL in_Str_2);
static VAL mw_std_prim_Str_fromZ_bytesZ_unsafe (VAL in_List_1);
static int64_t mw_std_str_clampZ_sliceZ_offsetZ_sizze (int64_t in_UOffset_1, int64_t in_USizze_2, int64_t in_USizze_3, int64_t *out_USizze_5);
static VAL mw_std_prim_Str_slice (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_Str_3);
static VAL mw_std_prim_Str_dropZ_slice (int64_t in_UOffset_1, VAL in_Str_2);
static VAL mw_std_prim_Str_takeZ_slice (int64_t in_USizze_1, VAL in_Str_2);
static VAL mw_std_str_ZPlusStr_slice (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusStr_3, VAL *out_ZPlusStr_5);
static VAL mw_std_str_ZPlusStr_offsetZ_slice (int64_t in_UOffset_1, int64_t in_UOffset_2, VAL in_ZPlusStr_3, VAL *out_ZPlusStr_5);
static VAL mw_std_str_ZPlusStr_takeZ_slice (int64_t in_USizze_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_4);
static VAL mw_std_str_ZPlusStr_dropZ_slice (int64_t in_UOffset_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_4);
static VAL mw_std_str_ZPlusStr_splitZ_byte (int64_t in_Byte_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_4);
static VAL mw_std_prim_Str_splitZ_byte (int64_t in_Byte_1, VAL in_Str_2);
static void mw_std_str_ZPlusStr_pushZ_showZ_byteZBang (VAL in_ZPlusStr_1, int64_t in_Bool_2, int64_t in_Byte_3, int64_t *out_Bool_4, VAL *out_ZPlusStr_5);
static void mw_std_prim_Str_showZThen (VAL in_Str_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static VAL mw_std_list_L3 (VAL in_t_1, VAL in_t_2, VAL in_t_3);
static VAL mw_std_list_L4 (VAL in_t_1, VAL in_t_2, VAL in_t_3, VAL in_t_4);
static VAL mw_std_list_L5 (VAL in_t_1, VAL in_t_2, VAL in_t_3, VAL in_t_4, VAL in_t_5);
static int64_t mw_std_list_List_1_ZDivL0 (VAL in_List_1);
static VAL mw_std_list_List_1_ZDivL1 (VAL in_List_1);
static VAL mw_std_list_List_1_ZDivL2 (VAL in_List_1);
static int64_t mw_std_list_List_1_emptyZAsk (VAL in_List_1);
static int64_t mw_std_list_List_1_len (VAL in_List_1);
static VAL mw_std_list_ListZPlus_1_ZDivL1ZPlus (VAL in_ListZPlus_1);
static VAL mw_std_list_ListZPlus_1_ZDivL2ZPlus (VAL in_ListZPlus_1);
static VAL mw_std_list_List_1_ZToListZPlus (VAL in_List_1);
static VAL mw_std_list_List_1_uncons (VAL in_List_1, VAL *out_List_3);
static VAL mw_std_list_ListZPlus_1_uncons (VAL in_ListZPlus_1, VAL *out_List_3);
static VAL mw_std_list_List_1_unsnoc (VAL in_List_1, VAL *out_Maybe_3);
static VAL mw_std_list_ListZPlus_1_unsnoc (VAL in_ListZPlus_1, VAL *out_t_3);
static VAL mw_std_list_List_1_cat (VAL in_List_1, VAL in_List_2);
static VAL mw_std_list_List_1_first (VAL in_List_1);
static VAL mw_std_list_List_1_last (VAL in_List_1);
static VAL mw_std_list_ListZPlus_1_first (VAL in_ListZPlus_1);
static VAL mw_std_list_ListZPlus_1_last (VAL in_ListZPlus_1);
static VAL mw_std_list_List_1_reverse (VAL in_List_1);
static VAL mw_std_list_ListZPlus_1_reverse (VAL in_ListZPlus_1);
static VAL mw_std_prim_Int_range (int64_t in_Int_1, int64_t in_Int_2);
static VAL mw_std_maybe_Maybe_1_ZToList (VAL in_Maybe_1);
static VAL mw_std_maybe_Maybe_1_zzip (VAL in_Maybe_1, VAL in_Maybe_2);
static int64_t mw_std_prim_Int_ZToOS (int64_t in_Int_1);
static int64_t mw_std_prim_Int_ZToArch (int64_t in_Int_1);
static int64_t mw_std_prim_Int_max (int64_t in_Int_1, int64_t in_Int_2);
static int64_t mw_std_prim_Int_min (int64_t in_Int_1, int64_t in_Int_2);
static VAL mw_std_prelude_ZAtZAsk (void* in_Mutt_1);
static void mw_std_prelude_impossibleZBang (void);
static VAL mw_std_path_PATHz_SEPARATOR (void);
static VAL mw_std_path_Path_joinZ_with (VAL in_Path_1, VAL in_Str_2, VAL in_Path_3);
static VAL mw_std_path_Path_join (VAL in_Path_1, VAL in_Path_2);
static int64_t mw_std_byte_Byte_isZ_pathZ_separatorZAsk (int64_t in_Byte_1);
static VAL mw_std_path_Path_splitZ_last (VAL in_Path_1, VAL *out_Maybe_3);
static void mw_std_path_Path_pathZThen (VAL in_Path_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static void mw_std_input_ZPlusInputOpenState_endZBang (VAL in_ZPlusInputOpenState_1, VAL *out_ZPlusFile_2);
static int64_t mw_std_input_INPUTz_BUFFERz_SIZZE (void);
static void mw_std_input_ZPlusInput_startZBang (VAL in_ZPlusFile_1, VAL *out_ZPlusInput_2);
static void mw_std_input_ZPlusInput_endZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusFile_2);
static int64_t mw_std_input_ZPlusInput_doneZAsk (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3);
static void mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang (VAL in_ZPlusInputOpenState_1, VAL *out_ZPlusInput_2);
static int64_t mw_std_input_ZPlusInput_peek (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3);
static void mw_std_input_ZPlusInput_moveZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_2);
static void mw_std_input_ZPlusInputOpenState_prepareZ_forZ_moreZBang (VAL in_ZPlusInputOpenState_1, VAL *out_ZPlusInput_2);
static VAL mw_std_input_ZPlusInput_readZ_chunkZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3);
static VAL mw_std_input_ZPlusInput_readZ_fileZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3);
static int64_t mw_std_output_OUTPUTz_BUFFERz_SIZZE (void);
static void mw_std_output_ZPlusOutput_startZBang (VAL in_ZPlusFile_1, VAL *out_ZPlusOutput_2);
static void mw_std_output_ZPlusOutput_endZBang (VAL in_ZPlusOutput_1, VAL *out_ZPlusFile_2);
static void mw_std_output_ZPlusOutput_flushZBang (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_2);
static int64_t mw_std_output_ZPlusOutput_offset (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_2);
static int64_t mw_std_output_ZPlusOutput_capacityZ_total (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_3);
static int64_t mw_std_output_ZPlusOutput_capacityZ_remaining (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_3);
static int64_t mw_std_output_ZPlusOutput_fullZAsk (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_put (VAL in_Str_1, VAL in_ZPlusOutput_2, VAL *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_putZ_byte (int64_t in_Byte_1, VAL in_ZPlusOutput_2, VAL *out_ZPlusOutput_3);
static void mw_std_output_ZPlusOutput_line (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_2);
static int64_t mw_std_posix_posixZ_openZBang (VAL in_Str_1, int64_t in_Int_2, int64_t in_Int_3);
static void mw_std_prim_ZPlusWorld_openZ_fileZBang (VAL in_Path_1, VAL *out_ZPlusFileZAsk_2);
static void mw_std_prim_ZPlusWorld_createZ_fileZBang (VAL in_Path_1, VAL *out_ZPlusFileZAsk_2);
static void mw_std_prim_ZPlusWorld_stderrZ_file (VAL *out_ZPlusFile_1);
static VAL mw_std_file_Oz_WRONLYZPipeOz_CREATZPipeOz_TRUNC (void);
static void mw_std_file_ZPlusFile_closeZ_fileZBang (VAL in_ZPlusFile_1);
static int64_t mw_std_prelude_ZPlusUnsafe_writeZ_bytesZBang (void* in_Ptr_1, int64_t in_USizze_2, VAL in_ZPlusFile_3, int64_t *out_Bool_5, VAL *out_ZPlusFile_6);
static int64_t mw_std_prelude_ZPlusUnsafe_readZ_bytesZBang (void* in_Ptr_1, int64_t in_USizze_2, VAL in_ZPlusFile_3, int64_t *out_Bool_5, VAL *out_ZPlusFile_6);
static VAL mw_std_file_ZPlusFile_readZ_fileZBang (VAL in_ZPlusFile_1, VAL *out_ZPlusFile_3);
static void mw_std_prim_ZPlusWorld_traceZ_ (VAL in_Str_1);
static void mw_std_prim_ZPlusWorld_trace (VAL in_Str_1);
static int64_t mw_std_prim_ZPlusWorld_isZ_directoryZAsk (VAL in_Path_1);
static int64_t mw_std_world_Sz_IFMT (void);
static int64_t mw_std_world_Sz_IFDIR (void);
static int64_t mw_std_world_Sz_ISDIR (int64_t in_U16_1);
static int64_t mw_std_world_stz_modeZAt (void* in_Ptr_1);
static void mw_std_terminal_SGRColor_showZThen (VAL in_SGRColor_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static void mw_std_terminal_Sgr_emitZThen (VAL in_Sgr_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static void mw_std_terminal_csiZThen (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_2);
static VAL mw_argZ_parser_state_State_1_init (VAL in_a_1);
static VAL mw_argZ_parser_state_State_1_argv (VAL in_State_1);
static VAL mw_argZ_parser_state_State_1_programZ_name (VAL in_State_1);
static int64_t mw_argZ_parser_state_State_1_parsingZAsk (VAL in_State_1);
static VAL mw_argZ_parser_state_State_1_parsingZAskZBang (int64_t in_Bool_1, VAL in_State_2);
static VAL mw_argZ_parser_state_State_1_optionZ_option (VAL in_State_1);
static VAL mw_argZ_parser_state_State_1_optionZ_optionZBang (VAL in_Maybe_1, VAL in_State_2);
static void mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop (VAL in_ZPlusArgumentParser_1);
static VAL mw_argZ_parser_types_ZPlusArgumentParser_1_parser (VAL in_ZPlusArgumentParser_1, VAL *out_ZPlusArgumentParser_2);
static int64_t mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk (VAL in_ArgpOptionType_1);
static void mw_argZ_parser_types_ArgumentParsingError_emitZThen (VAL in_ArgumentParsingError_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static VAL mw_argZ_parser_types_ZPlusArgumentParser_1_usage (VAL in_ZPlusArgumentParser_1, VAL *out_ZPlusArgumentParser_2);
static void mw_argZ_parser_types_ArgpOption_usageZThen (VAL in_ZPlusArgumentParser_1, VAL in_ZPlusStr_2, VAL in_ArgpOption_3, VAL *out_ZPlusArgumentParser_4, VAL *out_ZPlusStr_5);
static VAL mw_argZ_parser_parse_checkZ_shortZ_flag (VAL in_ZPlusArgumentParser_1, VAL in_ArgpOption_2, VAL in_Str_3, VAL *out_ZPlusArgumentParser_4, int64_t *out_Bool_6);
static VAL mw_argZ_parser_parse_checkZ_longZ_flag (VAL in_ZPlusArgumentParser_1, VAL in_ArgpOption_2, VAL in_Str_3, VAL *out_ZPlusArgumentParser_4, int64_t *out_Bool_6);
static VAL mw_argZ_parser_parse_parseZ_flags (VAL in_ZPlusArgumentParser_1, VAL in_Str_2, VAL *out_ZPlusArgumentParser_3);
static VAL mw_argZ_parser_parse_doZ_positionalZ_option (VAL in_ZPlusArgumentParser_1, VAL in_Str_2, VAL *out_ZPlusArgumentParser_3);
static VAL mw_argZ_parser_parse_parseZ_args (VAL in_a_1, VAL in_ArgumentParser_2);
static VAL mw_argZ_parser_parse_readZ_fromZ_argv (int64_t in_Int_1);
static VAL mw_argZ_parser_parse_argvZ_toZ_str (void);
static int64_t mw_mirth_label_Label_index (uint64_t in_Label_1);
static uint64_t mw_mirth_label_Label_allocZBang (void);
static uint64_t mw_mirth_label_Label_name (uint64_t in_Label_1);
static VAL mw_mirth_label_Label_ZToStr (uint64_t in_Label_1);
static int64_t mw_mirth_label_Label_ZEqualZEqual (uint64_t in_Label_1, uint64_t in_Label_2);
static uint64_t mw_mirth_label_Label_newZBang (uint64_t in_Name_1);
static int64_t mw_mirth_label_Label_isZ_resourceZ_labelZAsk (uint64_t in_Label_1);
static int64_t mw_mirth_var_Var_index (uint64_t in_Var_1);
static uint64_t mw_mirth_var_Var_allocZBang (void);
static uint64_t mw_mirth_var_Var_name (uint64_t in_Var_1);
static VAL mw_mirth_var_Var_type (uint64_t in_Var_1);
static VAL mw_mirth_var_Var_autoZ_runZAsk (uint64_t in_Var_1);
static void mw_mirth_var_Var_typeZThen (VAL in_ZPlusStr_1, uint64_t in_Var_2, VAL *out_ZPlusStr_3);
static int64_t mw_mirth_var_Var_isZ_stackZAsk (uint64_t in_Var_1);
static int64_t mw_mirth_var_Var_isZ_physicalZAsk (uint64_t in_Var_1);
static uint64_t mw_mirth_var_Var_newZBang (VAL in_Type_1, uint64_t in_Name_2);
static uint64_t mw_mirth_var_Var_newZ_autoZ_runZBang (VAL in_ArrowType_1, uint64_t in_Name_2);
static VAL mw_std_list_List_1_ZToCtx (VAL in_List_1);
static VAL mw_mirth_var_Ctx_ZToList (VAL in_Ctx_1);
static VAL mw_mirth_var_Ctx0 (void);
static VAL mw_mirth_var_Ctx1 (uint64_t in_Var_1);
static VAL mw_mirth_var_Ctx2 (uint64_t in_Var_1, uint64_t in_Var_2);
static VAL mw_mirth_var_Ctx3 (uint64_t in_Var_1, uint64_t in_Var_2, uint64_t in_Var_3);
static VAL mw_mirth_var_Ctx4 (uint64_t in_Var_1, uint64_t in_Var_2, uint64_t in_Var_3, uint64_t in_Var_4);
static VAL mw_mirth_var_Ctx5 (uint64_t in_Var_1, uint64_t in_Var_2, uint64_t in_Var_3, uint64_t in_Var_4, uint64_t in_Var_5);
static VAL mw_mirth_var_Ctx_new (VAL in_Ctx_1, uint64_t in_Var_2);
static VAL mw_mirth_var_Ctx_lookup (uint64_t in_Name_1, VAL in_Ctx_2);
static VAL mw_mirth_var_Ctx_freshZ_nameZBang (VAL in_Ctx_1, uint64_t *out_Name_3);
static VAL mw_mirth_var_Ctx_freshZ_stackZ_typeZ_varZBang (VAL in_Ctx_1, uint64_t *out_Var_3);
static VAL mw_mirth_var_Ctx_freshZ_typeZ_varZBang (VAL in_Ctx_1, uint64_t *out_Var_3);
static VAL mw_mirth_var_Ctx_freshZ_varZBang (VAL in_Type_1, VAL in_Ctx_2, uint64_t *out_Var_4);
static VAL mw_mirth_var_Var_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Var_3, uint64_t in_Var_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_var_Var_freshen (VAL in_Subst_1, uint64_t in_Var_2, VAL *out_Type_4);
static int64_t mw_mirth_buffer_Buffer_index (uint64_t in_Buffer_1);
static uint64_t mw_mirth_buffer_Buffer_allocZBang (void);
static int64_t mw_mirth_buffer_Buffer_sizze (uint64_t in_Buffer_1);
static VAL mw_mirth_buffer_Buffer_qname (uint64_t in_Buffer_1);
static uint64_t mw_mirth_buffer_Buffer_name (uint64_t in_Buffer_1);
static int64_t mw_mirth_buffer_Buffer_ZEqualZEqual (uint64_t in_Buffer_1, uint64_t in_Buffer_2);
static uint64_t mw_mirth_buffer_Buffer_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_QName_3, int64_t in_USizze_4, VAL *out_ZPlusMirth_5);
static int64_t mw_mirth_word_Word_index (uint64_t in_Word_1);
static uint64_t mw_mirth_word_Word_allocZBang (void);
static VAL mw_mirth_word_Word_qnameZ_soft (uint64_t in_Word_1);
static VAL mw_mirth_word_Word_qnameZ_hard (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_word_Word_namespaceZ_hard (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_word_Word_name (uint64_t in_Word_1);
static uint64_t mw_mirth_word_Word_head (uint64_t in_Word_1);
static VAL mw_mirth_word_Word_sigZAsk (uint64_t in_Word_1);
static uint64_t mw_mirth_word_Word_body (uint64_t in_Word_1);
static int64_t mw_mirth_word_Word_arity (uint64_t in_Word_1);
static VAL mw_mirth_word_Word_params (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_word_Word_arrow (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_word_Word_inferringZ_typeZAsk (uint64_t in_Word_1);
static VAL mw_mirth_word_Word_cname (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_word_Word_ctxZ_type (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_word_Word_type (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_word_Word_preferZ_inlineZAsk (uint64_t in_Word_1);
static void mw_mirth_word_Word_makeZ_inlineZBang (uint64_t in_Word_1);
static uint64_t mw_mirth_word_Word_newZBang (uint64_t in_Token_1, VAL in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, int64_t in_Nat_5, VAL in_ZPlusMirth_6, VAL *out_ZPlusMirth_8);
static int64_t mw_mirth_word_Word_ZEqualZEqual (uint64_t in_Word_1, uint64_t in_Word_2);
static int64_t mw_mirth_word_Word_incZ_numZ_blocksZBang (uint64_t in_Word_1);
static int64_t mw_mirth_table_Table_index (uint64_t in_Table_1);
static uint64_t mw_mirth_table_Table_allocZBang (void);
static uint64_t mw_mirth_table_Table_head (uint64_t in_Table_1);
static VAL mw_mirth_table_Table_qnameZ_soft (uint64_t in_Table_1);
static VAL mw_mirth_table_Table_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Table_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_table_Table_name (uint64_t in_Table_1);
static uint64_t mw_mirth_table_Table_numZ_buffer (uint64_t in_Table_1);
static int64_t mw_mirth_table_Table_ZEqualZEqual (uint64_t in_Table_1, uint64_t in_Table_2);
static int64_t mw_mirth_table_Field_index (uint64_t in_Field_1);
static uint64_t mw_mirth_table_Field_allocZBang (void);
static uint64_t mw_mirth_table_Field_head (uint64_t in_Field_1);
static uint64_t mw_mirth_table_Field_name (uint64_t in_Field_1);
static VAL mw_mirth_table_Field_qnameZ_soft (uint64_t in_Field_1);
static VAL mw_mirth_table_Field_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_indexZ_type (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_valueZ_type (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_dom (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_cod (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_type (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_table_Field_ZEqualZEqual (uint64_t in_Field_1, uint64_t in_Field_2);
static VAL mw_mirth_tycon_Tycon_qnameZ_hard (VAL in_ZPlusMirth_1, VAL in_Tycon_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_tycon_Tycon_ZEqualZEqual (VAL in_Tycon_1, VAL in_Tycon_2);
static VAL mw_mirth_tycon_Tycon_fullZ_typeZ_fresh (VAL in_ZPlusMirth_1, VAL in_Tycon_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_data_Data_index (uint64_t in_Data_1);
static uint64_t mw_mirth_data_Data_allocZBang (void);
static VAL mw_mirth_data_Data_headZAsk (uint64_t in_Data_1);
static uint64_t mw_mirth_data_Data_name (uint64_t in_Data_1);
static VAL mw_mirth_data_Data_qnameZ_soft (uint64_t in_Data_1);
static VAL mw_mirth_data_Data_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_data_Data_arity (uint64_t in_Data_1);
static VAL mw_mirth_data_Data_params (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_tags (uint64_t in_Data_1);
static VAL mw_mirth_data_Data_ctypeZAsk (uint64_t in_Data_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_data_TYPEz_BOOL (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_TYPEz_U64 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_TYPEz_U32 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_TYPEz_U16 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_TYPEz_U8 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_TYPEz_I64 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_TYPEz_I32 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_TYPEz_I16 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_TYPEz_I8 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static void mw_mirth_data_makeZ_primZ_dataZBang (VAL in_ZPlusMirth_1, VAL in_Str_2, VAL in_List_3, uint64_t in_Data_4, VAL in_List_5, VAL in_Maybe_6, VAL *out_ZPlusMirth_7);
static void mw_mirth_data_makeZ_primZ_tagZBang (VAL in_ZPlusMirth_1, VAL in_Str_2, int64_t in_Int_3, VAL in_List_4, uint64_t in_Tag_5, VAL *out_ZPlusMirth_6);
static void mw_mirth_data_makeZ_primZ_intlikeZBang (VAL in_Str_1, uint64_t in_Data_2, VAL in_Str_3, uint64_t in_Tag_4, VAL in_Str_5, VAL in_ZPlusMirth_6, VAL *out_ZPlusMirth_7);
static void mw_mirth_data_initZ_dataZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_data_dataZ_qname (uint64_t in_Data_1, uint64_t in_Name_2, int64_t in_Int_3);
static VAL mw_mirth_data_dataZ_wordZ_qname (uint64_t in_Data_1, VAL in_Str_2, int64_t in_Nat_3);
static int64_t mw_mirth_data_Data_ZEqualZEqual (uint64_t in_Data_1, uint64_t in_Data_2);
static int64_t mw_mirth_data_Data_numZ_tags (uint64_t in_Data_1);
static void mw_mirth_data_Data_addZ_tagZBang (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, uint64_t in_Data_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk (uint64_t in_Data_1);
static VAL mw_mirth_data_Data_isZ_unitZAsk (uint64_t in_Data_1);
static int64_t mw_mirth_data_Data_isZ_enumZAsk (uint64_t in_Data_1);
static VAL mw_mirth_data_Data_semiZ_transparentZAsk (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_data_Data_isZ_resourceZAsk (uint64_t in_Data_1);
static int64_t mw_mirth_data_Data_isZ_valueZ_typeZAsk (uint64_t in_Data_1);
static VAL mw_mirth_data_Data_fullZ_type (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_data_Tag_index (uint64_t in_Tag_1);
static uint64_t mw_mirth_data_Tag_allocZBang (void);
static uint64_t mw_mirth_data_Tag_data (uint64_t in_Tag_1);
static VAL mw_mirth_data_Tag_qname (uint64_t in_Tag_1);
static uint64_t mw_mirth_data_Tag_name (uint64_t in_Tag_1);
static int64_t mw_mirth_data_Tag_value (uint64_t in_Tag_1);
static VAL mw_mirth_data_Tag_labelZ_inputs (uint64_t in_Tag_1);
static int64_t mw_mirth_data_Tag_numZ_typeZ_inputs (uint64_t in_Tag_1);
static int64_t mw_mirth_data_Tag_numZ_resourceZ_inputs (uint64_t in_Tag_1);
static VAL mw_mirth_data_Tag_sigZAsk (uint64_t in_Tag_1);
static VAL mw_mirth_data_Tag_ctxZ_type (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3, VAL *out_ArrowType_5);
static VAL mw_mirth_data_Tag_ctx (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_type (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig (uint64_t in_Tag_1);
static int64_t mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig (uint64_t in_Tag_1);
static int64_t mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig (uint64_t in_Tag_1);
static int64_t mw_mirth_data_Tag_numZ_labelZ_inputs (uint64_t in_Tag_1);
static int64_t mw_mirth_data_Tag_numZ_totalZ_inputs (uint64_t in_Tag_1);
static VAL mw_mirth_data_Tag_inputs (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_semiZ_transparentZAsk (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_data_Tag_outputsZ_resourceZAsk (uint64_t in_Tag_1);
static int64_t mw_mirth_data_Tag_ZEqualZEqual (uint64_t in_Tag_1, uint64_t in_Tag_2);
static int64_t mw_mirth_data_Tag_preferZ_inlineZAsk (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_data_DataPartial_ZEqualZEqual (VAL in_DataPartial_1, VAL in_DataPartial_2);
static void mw_mirth_match_Match_thaw (VAL in_Match_1, VAL *out_ZPlusMatch_2);
static VAL mw_mirth_match_ZPlusMatch_freezze (VAL in_ZPlusMatch_1);
static int64_t mw_mirth_match_Match_isZ_exhaustiveZAsk (VAL in_Match_1);
static int64_t mw_mirth_match_Match_hasZ_defaultZ_caseZAsk (VAL in_Match_1);
static VAL mw_mirth_match_Match_scrutineeZ_dataZAsk (VAL in_Match_1);
static void mw_mirth_match_ZPlusMatch_addZ_case (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL in_Case_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusMatch_5);
static int64_t mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk (VAL in_Case_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMatch_4);
static int64_t mw_mirth_match_Case_coversZAsk (VAL in_Case_1, VAL in_Case_2);
static int64_t mw_mirth_match_Case_isZ_defaultZ_caseZAsk (VAL in_Case_1);
static VAL mw_mirth_match_Pattern_dom (VAL in_Pattern_1);
static void mw_mirth_match_Pattern_thaw (VAL in_Pattern_1, VAL *out_ZPlusPattern_2);
static VAL mw_mirth_match_Pattern_singleZ_tagZAsk (VAL in_Pattern_1);
static int64_t mw_mirth_match_Pattern_isZ_defaultZAsk (VAL in_Pattern_1);
static VAL mw_mirth_match_ZPlusPattern_freezze (VAL in_ZPlusPattern_1);
static void mw_mirth_match_ZPlusPattern_opZBang (VAL in_PatternOp_1, VAL in_ZPlusMirth_2, VAL in_ZPlusPattern_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusPattern_5);
static void mw_mirth_match_ZPlusPattern_underscoreZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusPattern_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusPattern_4);
static void mw_mirth_match_ZPlusPattern_tagZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusPattern_2, uint64_t in_Tag_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusPattern_5);
static int64_t mw_mirth_match_Pattern_coversZAsk (VAL in_Pattern_1, VAL in_Pattern_2);
static VAL mw_mirth_match_PatternOp_ZDivPatOpTag (VAL in_PatternOp_1);
static int64_t mw_mirth_match_PatternOp_ZDivPatOpUnderscore (VAL in_PatternOp_1);
static int64_t mw_mirth_external_External_index (uint64_t in_External_1);
static uint64_t mw_mirth_external_External_allocZBang (void);
static VAL mw_mirth_external_External_qnameZ_soft (uint64_t in_External_1);
static VAL mw_mirth_external_External_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_external_External_name (uint64_t in_External_1);
static int64_t mw_mirth_external_External_arity (uint64_t in_External_1);
static VAL mw_mirth_external_External_symbol (uint64_t in_External_1);
static uint64_t mw_mirth_external_External_head (uint64_t in_External_1);
static uint64_t mw_mirth_external_External_sig (uint64_t in_External_1);
static VAL mw_mirth_external_External_ctxZ_type (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3, VAL *out_ArrowType_5);
static VAL mw_mirth_external_External_type (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_external_External_ctype (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_external_External_ZEqualZEqual (uint64_t in_External_1, uint64_t in_External_2);
static uint64_t mw_mirth_external_ExternalBlock_allocZBang (void);
static VAL mw_mirth_external_ExternalBlock_parts (uint64_t in_ExternalBlock_1);
static int64_t mw_mirth_variable_Variable_index (uint64_t in_Variable_1);
static uint64_t mw_mirth_variable_Variable_allocZBang (void);
static VAL mw_mirth_variable_Variable_qname (uint64_t in_Variable_1);
static uint64_t mw_mirth_variable_Variable_name (uint64_t in_Variable_1);
static VAL mw_mirth_variable_Variable_type (VAL in_ZPlusMirth_1, uint64_t in_Variable_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_variable_Variable_ZEqualZEqual (uint64_t in_Variable_1, uint64_t in_Variable_2);
static uint64_t mw_mirth_variable_Variable_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_QName_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_arrow_Block_index (uint64_t in_Block_1);
static uint64_t mw_mirth_arrow_Block_allocZBang (void);
static VAL mw_mirth_arrow_Arrow_ctxZ_type (VAL in_Arrow_1, VAL *out_ArrowType_3);
static VAL mw_mirth_arrow_Arrow_type (VAL in_Arrow_1);
static VAL mw_mirth_arrow_Lambda_cod (VAL in_Lambda_1);
static VAL mw_mirth_arrow_Block_ctx (uint64_t in_Block_1);
static uint64_t mw_mirth_arrow_Block_token (uint64_t in_Block_1);
static VAL mw_mirth_arrow_Block_dom (uint64_t in_Block_1);
static VAL mw_mirth_arrow_Block_cod (uint64_t in_Block_1);
static VAL mw_mirth_arrow_Block_home (uint64_t in_Block_1);
static VAL mw_mirth_arrow_Block_type (uint64_t in_Block_1);
static VAL mw_mirth_arrow_Block_arrow (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_arrow_Block_ZEqualZEqual (uint64_t in_Block_1, uint64_t in_Block_2);
static void mw_mirth_arrow_Block_registerZ_homeZBang (uint64_t in_Block_1);
static VAL mw_mirth_arrow_Block_cname (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_arrow_Block_newZBang (VAL in_ZPlusMirth_1, VAL in_Arrow_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_arrow_Block_typecheckZBang (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_blockZ_unifyZ_typeZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Block_3, VAL in_ArrowType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_arrow_Block_toZ_runZ_var (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Arrow_toZ_runZ_var (VAL in_Arrow_1);
static VAL mw_mirth_arrow_Atom_toZ_runZ_var (VAL in_Atom_1);
static VAL mw_mirth_arrow_Block_freeZ_vars (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Arrow_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Arrow_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Atom_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Atom_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Arg_freeZ_vars (VAL in_ZPlusMirth_1, uint64_t in_Arg_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Op_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Op_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_match_Match_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Match_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_match_Case_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Case_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_arrow_Lambda_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Lambda_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_typedef_TypeDef_index (uint64_t in_TypeDef_1);
static uint64_t mw_mirth_typedef_TypeDef_allocZBang (void);
static VAL mw_mirth_typedef_TypeDef_qnameZ_soft (uint64_t in_TypeDef_1);
static VAL mw_mirth_typedef_TypeDef_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_TypeDef_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_typedef_TypeDef_namespace (VAL in_ZPlusMirth_1, uint64_t in_TypeDef_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_typedef_TypeDef_name (uint64_t in_TypeDef_1);
static VAL mw_mirth_typedef_TypeDef_target (VAL in_ZPlusMirth_1, uint64_t in_TypeDef_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_typedef_TypeDef_ZEqualZEqual (uint64_t in_TypeDef_1, uint64_t in_TypeDef_2);
static uint64_t mw_mirth_typedef_TypeDef_newZBang (VAL in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Name_3, VAL in_PropState_4, VAL *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_defZ_typeZBang (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL in_Type_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_type_PrimType_isZ_resourceZAsk (int64_t in_PrimType_1);
static int64_t mw_mirth_type_PrimType_isZ_physicalZAsk (int64_t in_PrimType_1);
static VAL mw_mirth_type_Type_tyconZAsk (VAL in_Type_1);
static VAL mw_mirth_type_PrimType_tyconZ_qname (VAL in_ZPlusMirth_1, int64_t in_PrimType_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_type_Value_tyconZAsk (VAL in_Value_1);
static int64_t mw_mirth_type_PrimType_ZToInt (int64_t in_PrimType_1);
static int64_t mw_mirth_type_PrimType_ZEqualZEqual (int64_t in_PrimType_1, int64_t in_PrimType_2);
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang (VAL in_ZPlusMirth_1, int64_t in_PrimType_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZ_aliasZBang (VAL in_ZPlusMirth_1, int64_t in_PrimType_2, VAL in_Str_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_initZ_typesZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_type_TZPlus (VAL in_StackType_1, VAL in_Resource_2);
static VAL mw_mirth_type_TZMul (VAL in_StackType_1, VAL in_Type_2);
static VAL mw_mirth_type_TZMulZPlus (VAL in_StackType_1, VAL in_Either_2);
static VAL mw_mirth_type_TZ_ZTo (VAL in_StackType_1, VAL in_StackType_2);
static VAL mw_mirth_type_TT (VAL in_List_1);
static VAL mw_mirth_type_T0 (void);
static VAL mw_mirth_type_T1 (VAL in_Type_1);
static VAL mw_mirth_type_T2 (VAL in_Type_1, VAL in_Type_2);
static VAL mw_mirth_type_T3 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3);
static VAL mw_mirth_type_T4 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4);
static VAL mw_mirth_type_T5 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4, VAL in_Type_5);
static int64_t mw_mirth_type_Type_errorZAsk (VAL in_Type_1);
static VAL mw_mirth_type_Type_morphismZAsk (VAL in_Type_1);
static VAL mw_mirth_type_Type_primZAsk (VAL in_Type_1);
static int64_t mw_mirth_type_Type_metaZEqual (uint64_t in_MetaVar_1, VAL in_Type_2);
static int64_t mw_mirth_type_Type_isZ_physicalZAsk (VAL in_Type_1);
static VAL mw_mirth_type_TYPEz_UNIT (void);
static VAL mw_mirth_type_TYPEz_TYPE (void);
static VAL mw_mirth_type_TYPEz_STACK (void);
static VAL mw_mirth_type_TYPEz_RESOURCE (void);
static VAL mw_mirth_type_TYPEz_INT (void);
static VAL mw_mirth_type_TYPEz_F32 (void);
static VAL mw_mirth_type_TYPEz_F64 (void);
static VAL mw_mirth_type_TYPEz_PTR (void);
static VAL mw_mirth_type_TYPEz_STR (void);
static VAL mw_mirth_type_TYPEz_WORLD (void);
static VAL mw_mirth_type_RESOURCEz_WORLD (void);
static VAL mw_mirth_type_Type_expand (VAL in_Type_1);
static void mw_mirth_type_ZPlusGamma_rdrop (uint64_t in_ZPlusGamma_1);
static VAL mw_mirth_type_Type_unifyZ_failedZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_Type_unifyZ_simpleZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_Type_unifyZ_auxZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_Type_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5);
static VAL mw_mirth_type_Type_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_Value_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Value_3, VAL in_Value_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_Value_unifyZ_typeZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Value_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_Value_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Value_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5);
static VAL mw_mirth_type_Type_unifyZ_blockZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Block_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_Type_unify2ZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL in_Type_5, VAL in_Type_6, VAL *out_ZPlusMirth_7, uint64_t *out_ZPlusGamma_8, VAL *out_Type_10);
static VAL mw_mirth_type_PrimType_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, int64_t in_PrimType_3, int64_t in_PrimType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_data_Data_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Data_3, uint64_t in_Data_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_data_DataPartial_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_DataPartial_3, VAL in_DataPartial_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_table_Table_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Table_3, uint64_t in_Table_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static int64_t mw_mirth_type_Type_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_Type_2);
static int64_t mw_mirth_type_Type_hasZ_meta2ZAsk (uint64_t in_MetaVar_1, VAL in_Type_2, VAL in_Type_3);
static int64_t mw_mirth_type_Value_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_Value_2);
static int64_t mw_mirth_type_Type_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Type_2);
static int64_t mw_mirth_type_Type_hasZ_var2ZAsk (uint64_t in_Var_1, VAL in_Type_2, VAL in_Type_3);
static int64_t mw_mirth_type_Value_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Value_2);
static void mw_mirth_type_Type_typeZThen (VAL in_Type_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3);
static VAL mw_mirth_type_Value_type (VAL in_Value_1);
static void mw_mirth_type_PrimType_typeZThen (VAL in_ZPlusStr_1, int64_t in_PrimType_2, VAL *out_ZPlusStr_3);
static VAL mw_mirth_type_Type_freshen (VAL in_Subst_1, VAL in_Type_2, VAL *out_Type_4);
static VAL mw_mirth_type_Type_freshen2 (VAL in_Subst_1, VAL in_Type_2, VAL in_Type_3, VAL *out_Type_5, VAL *out_Type_6);
static VAL mw_mirth_type_Type_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Type_3, VAL *out_ZPlusMirth_4, VAL *out_Type_6);
static VAL mw_mirth_type_Value_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Value_3, VAL *out_ZPlusMirth_4, VAL *out_Type_6);
static VAL mw_mirth_type_Type_exceptZ_field (uint64_t in_Label_1, uint64_t in_Tag_2, VAL in_Type_3);
static int64_t mw_mirth_type_MetaVar_index (uint64_t in_MetaVar_1);
static uint64_t mw_mirth_type_MetaVar_allocZBang (void);
static VAL mw_mirth_type_MetaVar_typeZAsk (uint64_t in_MetaVar_1);
static int64_t mw_mirth_type_MetaVar_hasZ_metaZAsk (uint64_t in_MetaVar_1, uint64_t in_MetaVar_2);
static int64_t mw_mirth_type_MetaVar_hasZ_varZAsk (uint64_t in_Var_1, uint64_t in_MetaVar_2);
static void mw_mirth_type_MetaVar_typeZThen (VAL in_ZPlusStr_1, uint64_t in_MetaVar_2, VAL *out_ZPlusStr_3);
static uint64_t mw_mirth_type_MetaVar_newZBang (void);
static VAL mw_mirth_type_MetaVar_expand (uint64_t in_MetaVar_1);
static VAL mw_mirth_type_MetaVar_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, uint64_t in_MetaVar_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_MetaVar_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_MetaVar_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5);
static int64_t mw_mirth_type_MetaVar_ZEqualZEqual (uint64_t in_MetaVar_1, uint64_t in_MetaVar_2);
static VAL mw_mirth_type_MetaVar_freshen (VAL in_Subst_1, uint64_t in_MetaVar_2, VAL *out_Type_4);
static VAL mw_mirth_type_typeZ_holeZ_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, uint64_t in_Name_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static void mw_mirth_type_Type_appZ_typeZThenZThen (VAL in_ZPlusStr_1, VAL in_Type_2, VAL in_Type_3, VAL *out_ZPlusStr_4);
static void mw_mirth_type_Type_appZ_typeZ_openZThenZThen (VAL in_ZPlusStr_1, VAL in_Type_2, VAL in_Type_3, VAL *out_ZPlusStr_4);
static VAL mw_mirth_type_Resource_ZToType (VAL in_Resource_1);
static VAL mw_mirth_type_Type_ZToResource (VAL in_Type_1);
static int64_t mw_mirth_type_Resource_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_Resource_2);
static int64_t mw_mirth_type_Resource_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Resource_2);
static VAL mw_mirth_type_Resource_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Resource_3, VAL in_Resource_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_Resource_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Resource_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5);
static void mw_mirth_type_Resource_typeZThen (VAL in_ZPlusStr_1, VAL in_Resource_2, VAL *out_ZPlusStr_3);
static VAL mw_mirth_type_Resource_freshen (VAL in_Subst_1, VAL in_Resource_2, VAL *out_Resource_4);
static VAL mw_mirth_type_Resource_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Resource_3, VAL *out_ZPlusMirth_4, VAL *out_Resource_6);
static VAL mw_mirth_type_Resource_exceptZ_field (uint64_t in_Label_1, uint64_t in_Tag_2, VAL in_Resource_3);
static VAL mw_mirth_type_Type_ZToStackType (VAL in_Type_1);
static VAL mw_mirth_type_StackType_ZToType (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_expand (VAL in_StackType_1);
static int64_t mw_mirth_type_StackType_unitZAsk (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_split4 (VAL in_StackType_1, VAL *out_List_3, VAL *out_List_4, VAL *out_List_5);
static VAL mw_mirth_type_StackType_base (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_labelZ_topZAsk (uint64_t in_Label_1, VAL in_StackType_2);
static VAL mw_mirth_type_StackType_topZ_typeZAsk (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_topZ_tyconZAsk (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_topZ_resourceZAsk (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_topZ_namespaces (VAL in_StackType_1);
static int64_t mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk (VAL in_StackType_1);
static int64_t mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk (VAL in_StackType_1);
static int64_t mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk (VAL in_StackType_1);
static int64_t mw_mirth_type_StackType_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_StackType_2);
static int64_t mw_mirth_type_StackType_hasZ_varZAsk (uint64_t in_Var_1, VAL in_StackType_2);
static VAL mw_mirth_type_StackType_unifyZ_failedZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_StackType_3, VAL in_StackType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_StackType_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_StackType_3, VAL in_StackType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_StackType_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_StackType_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5);
static VAL mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang (uint64_t in_Label_1, VAL in_StackType_2);
static VAL mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang (uint64_t in_Label_1, VAL in_StackType_2);
static VAL mw_mirth_type_StackType_forceZ_consZAskZBang (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_forceZ_withZAskZBang (VAL in_StackType_1);
static void mw_mirth_type_StackType_domZThen (VAL in_ZPlusStr_1, VAL in_StackType_2, VAL *out_ZPlusStr_3);
static void mw_mirth_type_StackType_codZThen (VAL in_ZPlusStr_1, VAL in_StackType_2, VAL *out_ZPlusStr_3);
static int64_t mw_mirth_type_StackType_baseZThen (VAL in_ZPlusStr_1, VAL in_StackType_2, VAL *out_ZPlusStr_3);
static void mw_mirth_type_StackType_stackZThen (VAL in_ZPlusStr_1, VAL in_StackType_2, VAL *out_ZPlusStr_3);
static VAL mw_mirth_type_StackType_semifreshen (VAL in_StackType_1, VAL in_StackType_2, VAL *out_StackType_4);
static VAL mw_mirth_type_StackType_freshen (VAL in_Subst_1, VAL in_StackType_2, VAL *out_StackType_4);
static VAL mw_mirth_type_StackType_freshenZ_aux (VAL in_StackType_1, VAL in_Subst_2, VAL in_StackType_3, VAL *out_Subst_5, VAL *out_StackType_6);
static VAL mw_mirth_type_StackType_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, VAL *out_ZPlusMirth_4, VAL *out_StackType_6);
static VAL mw_mirth_type_StackType_linearZ_baseZ_metaZAsk (VAL in_StackType_1);
static VAL mw_mirth_type_StackType_linearZ_baseZ_varZAsk (VAL in_StackType_1);
static VAL mw_mirth_type_ArrowType_ZToType (VAL in_ArrowType_1);
static VAL mw_mirth_type_ArrowType_invert (VAL in_ArrowType_1);
static VAL mw_mirth_type_ArrowType_unpack (VAL in_ArrowType_1, VAL *out_StackType_3);
static VAL mw_mirth_type_ArrowType_dom (VAL in_ArrowType_1);
static VAL mw_mirth_type_ArrowType_cod (VAL in_ArrowType_1);
static VAL mw_mirth_type_ArrowType_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_ArrowType_3, VAL in_ArrowType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6);
static VAL mw_mirth_type_ArrowType_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_ArrowType_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5);
static int64_t mw_mirth_type_ArrowType_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_ArrowType_2);
static int64_t mw_mirth_type_ArrowType_hasZ_varZAsk (uint64_t in_Var_1, VAL in_ArrowType_2);
static void mw_mirth_type_ArrowType_sigZThen (VAL in_ZPlusStr_1, VAL in_ArrowType_2, VAL *out_ZPlusStr_3);
static VAL mw_mirth_type_ArrowType_semifreshenZ_sig (VAL in_ArrowType_1);
static VAL mw_mirth_type_ArrowType_semifreshenZ_aux (VAL in_ArrowType_1);
static int64_t mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk (VAL in_ArrowType_1);
static VAL mw_mirth_type_ArrowType_freshenZ_sig (VAL in_Subst_1, VAL in_ArrowType_2, VAL *out_ArrowType_4);
static VAL mw_mirth_type_ArrowType_freshenZ_sigZ_aux (VAL in_Subst_1, VAL in_ArrowType_2, VAL *out_ArrowType_4);
static VAL mw_mirth_type_ArrowType_freshen (VAL in_Subst_1, VAL in_ArrowType_2, VAL *out_ArrowType_4);
static VAL mw_mirth_type_ArrowType_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_ArrowType_3, VAL *out_ZPlusMirth_4, VAL *out_ArrowType_6);
static VAL mw_mirth_type_ArrowType_rigidifyZ_sigZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_ArrowType_3, VAL *out_ZPlusMirth_4, VAL *out_ArrowType_6);
static VAL mw_mirth_type_Subst_nil (void);
static VAL mw_mirth_type_Subst_cons (VAL in_Type_1, uint64_t in_Var_2, VAL in_Subst_3);
static int64_t mw_mirth_type_Subst_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Subst_2);
static VAL mw_mirth_type_Subst_getZ_var (uint64_t in_Var_1, VAL in_Subst_2);
static int64_t mw_mirth_type_StackTypeBase_unitZAsk (VAL in_StackTypeBase_1);
static VAL mw_mirth_type_StackTypePart_cons (VAL in_StackType_1, VAL in_StackTypePart_2);
static VAL mw_mirth_type_StackType_splitZ_parts (VAL in_StackType_1, VAL *out_List_3);
static VAL mw_mirth_type_StackTypePart_typeZDivresource (VAL in_StackTypePart_1);
static VAL mw_mirth_type_CType_cname (VAL in_CType_1);
static int64_t mw_mirth_type_CType_phantomZAsk (VAL in_CType_1);
static VAL mw_mirth_type_Resource_ctype (VAL in_ZPlusMirth_1, VAL in_Resource_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_ctype (VAL in_ZPlusMirth_1, VAL in_Type_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_type_Resource_ctypeZAsk (VAL in_ZPlusMirth_1, VAL in_Resource_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_ctypeZAsk (VAL in_ZPlusMirth_1, VAL in_Type_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_type_Type_ctype1ZAsk (VAL in_ZPlusMirth_1, VAL in_CType_2, VAL in_Type_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_type_PrimType_ctypeZAsk (VAL in_ZPlusMirth_1, int64_t in_PrimType_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_data_Data_ctype1ZAsk (VAL in_ZPlusMirth_1, VAL in_CType_2, uint64_t in_Data_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_type_CTypeStackPart_ctype (VAL in_CTypeStackPart_1);
static VAL mw_mirth_type_CTypeStackPart_labelZAsk (VAL in_CTypeStackPart_1);
static VAL mw_mirth_type_StackTypePart_ctype (VAL in_StackTypePart_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackTypeBase_ctypeZAsk (VAL in_StackTypeBase_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackType_ctype (VAL in_StackType_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_type_ArrowType_ctype (VAL in_ArrowType_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_prim_Prim_qname (VAL in_ZPlusMirth_1, int64_t in_Prim_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_prim_Prim_name (int64_t in_Prim_1);
static VAL mw_mirth_prim_Prim_type (int64_t in_Prim_1);
static int64_t mw_mirth_prim_Prim_arity (int64_t in_Prim_1);
static int64_t mw_mirth_prim_Prim_ZToInt (int64_t in_Prim_1);
static int64_t mw_mirth_prim_Prim_ZEqualZEqual (int64_t in_Prim_1, int64_t in_Prim_2);
static void mw_mirth_prim_defZ_primZBang (VAL in_ZPlusMirth_1, int64_t in_Prim_2, VAL in_Str_3, int64_t in_Int_4, VAL *out_ZPlusMirth_5);
static void mw_mirth_prim_Prim_ctxZ_typeZBang (VAL in_Ctx_1, VAL in_ArrowType_2, int64_t in_Prim_3);
static void mw_mirth_prim_initZ_primsZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static int64_t mw_mirth_token_TokenValue_noneZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_commaZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_lparenZ_openZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lparenZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_rparenZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_lsquareZ_openZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lsquareZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_rsquareZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_lcurlyZ_openZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lcurlyZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_rcurlyZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_lcolonZ_openZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lcolonZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_intZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_strZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_nameZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_dnameZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_nameZDivdnameZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_lastZ_nameZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_argZ_endZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_leftZ_enclosureZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_rightZ_enclosureZAsk (VAL in_TokenValue_1);
static uint64_t mw_mirth_token_nameZDivdnameZ_lastZ_name (VAL in_Either_1);
static VAL mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk (VAL in_Either_1);
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk (VAL in_TokenValue_1);
static VAL mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_sigZ_dashesZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_arrowZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_patZ_underscoreZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_TokenValue_moduleZ_headerZAsk (VAL in_TokenValue_1);
static int64_t mw_mirth_token_Token_index (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_succ (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_pred (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_allocZBang (void);
static int64_t mw_mirth_token_Token_ZEqualZEqual (uint64_t in_Token_1, uint64_t in_Token_2);
static VAL mw_mirth_token_Token_value (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_module (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_col (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_row (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_noneZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_commaZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_lparenZ_openZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_lparenZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_rparenZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_lsquareZ_openZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_lsquareZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_rsquareZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_lcurlyZ_openZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_lcurlyZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_rcurlyZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_lcolonZ_openZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_lcolonZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_intZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_strZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_nameZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_dnameZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_nameZDivdnameZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_lastZ_nameZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_argZ_endZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_leftZ_enclosureZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_rightZ_enclosureZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_sigZ_typeZ_conZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_sigZ_typeZ_holeZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_sigZ_typeZ_varZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_sigZ_paramZ_nameZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_sigZ_stackZ_varZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_sigZ_resourceZ_varZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_sigZ_resourceZ_conZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_sigZ_dashesZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_arrowZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_patZ_underscoreZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_moduleZ_headerZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_canZ_takeZ_argsZAsk (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_allocZ_noneZBang (void);
static VAL mw_mirth_token_Token_location (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_next (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_prev (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_nextZ_argZ_end (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_hasZ_argsZAsk (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_argsZ_start (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_sigZ_labelZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_patternZ_varZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk (uint64_t in_Token_1);
static void mw_mirth_token_Token_argsZ_0 (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_token_Token_argsZ_1 (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_token_Token_argsZ_2 (uint64_t in_Token_1, VAL in_ZPlusMirth_2, uint64_t *out_Token_4, VAL *out_ZPlusMirth_5);
static uint64_t mw_mirth_token_Token_argsZ_3 (uint64_t in_Token_1, VAL in_ZPlusMirth_2, uint64_t *out_Token_4, uint64_t *out_Token_5, VAL *out_ZPlusMirth_6);
static int64_t mw_mirth_token_Token_numZ_args (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_args (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_argsZ_endZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_argsZPlus (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_token_Token_moduleZ_endZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_runZ_endZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_runZ_tokens (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_runZ_length (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_runZ_arrowZAsk (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_sigZ_stackZ_endZAsk (uint64_t in_Token_1);
static uint64_t mw_mirth_token_Token_sigZ_nextZ_stackZ_end (uint64_t in_Token_1);
static int64_t mw_mirth_token_Token_sigZ_hasZ_dashesZAsk (uint64_t in_Token_1);
static VAL mw_mirth_token_Token_patZ_tokens (uint64_t in_Token_1);
static int64_t mw_mirth_module_Module_index (uint64_t in_Module_1);
static uint64_t mw_mirth_module_Module_allocZBang (void);
static uint64_t mw_mirth_module_Module_package (uint64_t in_Module_1);
static uint64_t mw_mirth_module_Module_name (uint64_t in_Module_1);
static VAL mw_mirth_module_Module_qname (uint64_t in_Module_1);
static VAL mw_mirth_module_Module_path (uint64_t in_Module_1);
static uint64_t mw_mirth_module_Module_start (uint64_t in_Module_1);
static VAL mw_mirth_module_Module_imports (uint64_t in_Module_1);
static int64_t mw_mirth_module_Module_ZEqualZEqual (uint64_t in_Module_1, uint64_t in_Module_2);
static uint64_t mw_mirth_module_Module_prim (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static void mw_mirth_module_initZ_modulesZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static uint64_t mw_mirth_module_Module_newZBang (VAL in_ZPlusMirth_1, VAL in_Path_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_module_Module_addZ_importZBang (uint64_t in_Module_1, uint64_t in_Module_2);
static VAL mw_mirth_module_Module_sourceZ_path (uint64_t in_Module_1);
static int64_t mw_mirth_module_Module_visible (uint64_t in_Module_1, uint64_t in_Module_2);
static int64_t mw_std_prim_Int_ZToRow (int64_t in_Int_1);
static int64_t mw_mirth_location_Row_ZToInt (int64_t in_Row_1);
static void mw_mirth_location_Row_showZThen (VAL in_ZPlusStr_1, int64_t in_Row_2, VAL *out_ZPlusStr_3);
static int64_t mw_std_prim_Int_ZToCol (int64_t in_Int_1);
static int64_t mw_mirth_location_Col_ZToInt (int64_t in_Col_1);
static void mw_mirth_location_Col_showZThen (VAL in_ZPlusStr_1, int64_t in_Col_2, VAL *out_ZPlusStr_3);
static void mw_mirth_location_Location_emitZThen (VAL in_ZPlusStr_1, VAL in_Location_2, VAL *out_ZPlusStr_3);
static int64_t mw_mirth_alias_Alias_index (uint64_t in_Alias_1);
static uint64_t mw_mirth_alias_Alias_allocZBang (void);
static VAL mw_mirth_alias_Alias_qnameZ_soft (uint64_t in_Alias_1);
static VAL mw_mirth_alias_Alias_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Alias_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_alias_Alias_namespaceZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Alias_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_alias_Alias_name (uint64_t in_Alias_1);
static int64_t mw_mirth_alias_Alias_arity (uint64_t in_Alias_1);
static VAL mw_mirth_alias_Alias_target (VAL in_ZPlusMirth_1, uint64_t in_Alias_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_alias_Alias_ZEqualZEqual (uint64_t in_Alias_1, uint64_t in_Alias_2);
static uint64_t mw_mirth_alias_Alias_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Name_3, int64_t in_Int_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_mirth_Builtin_AllocZBang (void);
static void mw_mirth_mirth_ZPlusMirth_InitZBang (VAL *out_ZPlusMirth_1);
static void mw_mirth_mirth_ZPlusMirth_rdrop (VAL in_ZPlusMirth_1);
static VAL mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_mirth_Severity_ZToStr (int64_t in_Severity_1);
static void mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang (VAL in_Location_1, VAL in_Str_2, int64_t in_Severity_3, VAL in_ZPlusMirth_4, VAL *out_ZPlusMirth_5);
static void mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang (VAL in_Location_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang (VAL in_Location_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang (VAL in_Location_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang (VAL in_Location_1, VAL in_Str_2, VAL in_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_emitZ_infoZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_emitZ_deprecatedZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_Str_3, VAL in_ZPlusMirth_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_mirth_ZPlusMirth_errorZ_location (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_errorZBang (VAL in_Str_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang (VAL in_Str_1, VAL in_ZPlusMirth_2);
static void mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang (VAL in_ZPlusMirth_1);
static void mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_mirth_ZPlusMirth_popZ_diagnostics (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static void mw_mirth_mirth_Diagnostic_diagnosticZThen (VAL in_ZPlusStr_1, VAL in_Diagnostic_2, VAL *out_ZPlusStr_3);
static VAL mw_mirth_mirth_PropLabel_prop (VAL in_b_1, VAL in_PropLabel_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_mirth_PropLabel_prop2 (VAL in_b1_1, VAL in_b2_2, VAL in_PropLabel_3, VAL in_ZPlusMirth_4, VAL *out_ZPlusMirth_6);
static VAL mw_mirth_mirth_Prop_1_readyZAsk (VAL in_Prop_1);
static VAL mw_mirth_mirth_Prop_1_tryZ_forceZBang (void* in_MutProp_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_mirth_Prop_1_forceZBang (void* in_MutProp_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_def_Def_packageZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_moduleZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_aliasZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_dataZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_tableZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_typedefZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_tagZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_primZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_wordZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_bufferZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_variableZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_externalZAsk (VAL in_Def_1);
static VAL mw_mirth_def_Def_fieldZAsk (VAL in_Def_1);
static int64_t mw_mirth_def_Def_ZEqualZEqual (VAL in_Def_1, VAL in_Def_2);
static void mw_mirth_def_Def_typecheckZBang (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_def_Def_callableZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_def_Def_definesZ_aZ_typeZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_def_Def_exposedZ_tyconZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_def_Def_sameZ_resolvedZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL in_Def_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_def_Def_resolve (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_def_Def_name (VAL in_Def_1);
static int64_t mw_mirth_def_Def_arity (VAL in_Def_1);
static VAL mw_mirth_def_Def_qnameZ_soft (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_def_Def_qnameZ_hard (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_def_Def_asZ_namespaceZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_def_Def_register (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_name_Name_index (uint64_t in_Name_1);
static uint64_t mw_mirth_name_Name_fromZ_index (int64_t in_Int_1);
static uint64_t mw_mirth_name_Name_allocZBang (void);
static VAL mw_mirth_name_Name_ZToStr (uint64_t in_Name_1);
static VAL mw_mirth_name_Name_defs (uint64_t in_Name_1);
static VAL mw_mirth_name_Name_mangled (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_ZEqualZEqual (uint64_t in_Name_1, uint64_t in_Name_2);
static int64_t mw_mirth_name_Hash_ZToInt (int64_t in_Hash_1);
static int64_t mw_std_prim_Int_ZToHash (int64_t in_Int_1);
static int64_t mw_mirth_name_Hash_offset (int64_t in_Hash_1);
static int64_t mw_mirth_name_HASHz_MAX (void);
static VAL mw_mirth_name_hashZ_nameZAt (int64_t in_Hash_1);
static void mw_mirth_name_hashZ_nameZBang (uint64_t in_Name_1, int64_t in_Hash_2);
static int64_t mw_std_prim_Str_hash (VAL in_Str_1);
static int64_t mw_mirth_name_Hash_next (int64_t in_Hash_1);
static VAL mw_mirth_name_Hash_keepZ_goingZAsk (VAL in_Str_1, int64_t in_Hash_2, int64_t *out_Hash_4, int64_t *out_Bool_5);
static uint64_t mw_std_prim_Str_ZToName (VAL in_Str_1);
static int64_t mw_mirth_name_Name_head (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_tailZ_head (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_canZ_beZ_relativeZAsk (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_couldZ_beZ_typeZ_var (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_couldZ_beZ_typeZ_con (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_isZ_typeZ_hole (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_isZ_underscore (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_couldZ_beZ_stackZ_var (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_couldZ_beZ_resourceZ_var (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_couldZ_beZ_resourceZ_con (uint64_t in_Name_1);
static int64_t mw_mirth_name_Name_couldZ_beZ_constructor (uint64_t in_Name_1);
static VAL mw_mirth_name_Name_mangleZ_computeZBang (uint64_t in_Name_1);
static int64_t mw_mirth_name_Namespace_ZEqualZEqual (VAL in_Namespace_1, VAL in_Namespace_2);
static VAL mw_mirth_name_Namespace_qname (VAL in_ZPlusMirth_1, VAL in_Namespace_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_name_Namespace_moduleZAsk (VAL in_ZPlusMirth_1, VAL in_Namespace_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_name_Namespace_prim (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_name_Namespace_ZToStr (VAL in_ZPlusMirth_1, VAL in_Namespace_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_name_Namespace_mangled (VAL in_ZPlusMirth_1, VAL in_Namespace_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_name_QNAME0 (VAL in_Namespace_1, uint64_t in_Name_2);
static int64_t mw_mirth_name_QName_ZEqualZEqual (VAL in_QName_1, VAL in_QName_2);
static VAL mw_mirth_name_QName_defZ_hardZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_name_QName_definedZ_hardZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_name_QName_defZ_softZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_name_QName_definedZ_softZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_name_QName_undefinedZ_softZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_name_QName_prim (VAL in_ZPlusMirth_1, VAL in_Str_2, int64_t in_Int_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_name_QName_ZToStr (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_name_QName_toZ_moduleZ_path (VAL in_QName_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_name_QName_mangled (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_name_DName_rootZAsk (VAL in_DName_1);
static VAL mw_mirth_name_DName_parts (VAL in_DName_1);
static uint64_t mw_mirth_name_DName_lastZ_name (VAL in_DName_1);
static VAL mw_mirth_name_DName_penultimateZ_nameZAsk (VAL in_DName_1);
static int64_t mw_mirth_name_DName_isZ_relativeZAsk (VAL in_DName_1);
static int64_t mw_mirth_package_Package_index (uint64_t in_Package_1);
static uint64_t mw_mirth_package_Package_allocZBang (void);
static uint64_t mw_mirth_package_Package_name (uint64_t in_Package_1);
static VAL mw_mirth_package_Package_qname (uint64_t in_Package_1);
static VAL mw_mirth_package_Package_path (uint64_t in_Package_1);
static uint64_t mw_mirth_package_Package_std (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static void mw_mirth_package_initZ_packagesZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static VAL mw_mirth_package_Package_pathZ_orZ_search (VAL in_ZPlusMirth_1, uint64_t in_Package_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_package_Package_pathZBang (VAL in_ZPlusMirth_1, VAL in_Path_2, uint64_t in_Package_3, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_package_Package_newZBang (VAL in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_package_Package_newZ_orZ_pathZBang (VAL in_ZPlusMirth_1, VAL in_Path_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_package_Package_find (VAL in_ZPlusMirth_1, uint64_t in_Name_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_package_Package_findZ_orZ_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Name_2, VAL *out_ZPlusMirth_3);
static int64_t mw_mirth_package_Package_ZEqualZEqual (uint64_t in_Package_1, uint64_t in_Package_2);
static void mw_mirth_lexer_lexerZ_stackZ_pushZBang (uint64_t in_Token_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusLexer_3);
static VAL mw_mirth_lexer_lexerZ_stackZ_popZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3);
static void mw_mirth_lexer_lexerZ_stackZ_drop (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static VAL mw_mirth_lexer_lexerZ_stackZ_peek (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3);
static uint64_t mw_mirth_lexer_runZ_lexerZBang (VAL in_Path_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_lexer_ZPlusLexer_doneZAsk (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3);
static uint64_t mw_mirth_lexer_lexerZ_makeZBang (VAL in_TokenValue_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusLexer_4);
static void mw_mirth_lexer_lexerZ_emitZBang (VAL in_TokenValue_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusLexer_3);
static void mw_mirth_lexer_lexerZ_nextZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4);
static void mw_mirth_lexer_lexerZ_newlineZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_emitZ_lcolonZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_closeZ_colonsZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_prepareZ_forZ_atomZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_prepareZ_forZ_argsZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_emitZ_lparenZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_emitZ_rparenZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4);
static void mw_mirth_lexer_lexerZ_emitZ_lsquareZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_emitZ_rsquareZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4);
static void mw_mirth_lexer_lexerZ_emitZ_lcurlyZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_emitZ_rcurlyZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4);
static void mw_mirth_lexer_lexerZ_emitZ_nameZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static uint64_t mw_std_str_ZPlusStr_nameZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_firstZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_secondZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_thirdZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_firstZ_twoZ_bytes (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_dropZ_firstZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_dropZ_lastZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_labelZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_labelZ_popZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_labelZ_popZ_rZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_labelZ_pushZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_labelZ_pushZ_rZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_labelZ_getZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_labelZ_setZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static VAL mw_std_str_ZPlusStr_dnameZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_isZ_docZ_startZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_isZ_floatZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_floatZ_sign (VAL in_ZPlusStr_1, int64_t *out_UOffset_3, VAL *out_ZPlusStr_4);
static int64_t mw_mirth_lexer_byteZ_signZ_valueZ_indexZ_float (int64_t in_Byte_1, int64_t *out_UOffset_3);
static double mw_std_str_ZPlusStr_floatZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_isZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_isZ_decZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_isZ_hexZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_isZ_octZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_intZ_sign (VAL in_ZPlusStr_1, int64_t *out_Int_3, int64_t *out_UOffset_4, VAL *out_ZPlusStr_5);
static int64_t mw_mirth_lexer_byteZ_signZ_valueZ_index (int64_t in_Byte_1, int64_t *out_Int_3, int64_t *out_UOffset_4);
static int64_t mw_std_str_ZPlusStr_decZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_hexZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_std_str_ZPlusStr_octZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3);
static int64_t mw_mirth_lexer_hexdigitZ_value (int64_t in_Byte_1);
static void mw_mirth_lexer_lexerZ_emitZ_stringZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4);
static void mw_mirth_lexer_lexerZ_pushZ_stringZ_byteZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusStr_2, VAL in_ZPlusLexer_3, int64_t in_Byte_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusStr_6, VAL *out_ZPlusLexer_7);
static void mw_mirth_lexer_lexerZ_pushZ_stringZ_escapeZ_byteZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusStr_2, VAL in_ZPlusLexer_3, int64_t in_Byte_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusStr_6, VAL *out_ZPlusLexer_7);
static void mw_mirth_lexer_lexerZ_skipZ_commentZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static void mw_mirth_lexer_lexerZ_skipZ_docZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static int64_t mw_mirth_lexer_lexerZ_commentZ_endZAsk (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3);
static int64_t mw_mirth_lexer_lexerZ_peek (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3);
static void mw_mirth_lexer_lexerZ_moveZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2);
static VAL mw_mirth_lexer_lexerZ_location (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3);
static void mw_mirth_lexer_lexerZ_emitZ_warningZBang (VAL in_Str_1, VAL in_ZPlusMirth_2, VAL in_ZPlusLexer_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusLexer_5);
static void mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang (VAL in_Str_1, VAL in_ZPlusMirth_2, VAL in_ZPlusLexer_3);
static void mw_mirth_elab_ZPlusTypeElab_typeZ_sigZ_startZBang (uint64_t in_Token_1, VAL *out_ZPlusTypeElab_2);
static void mw_mirth_elab_ZPlusTypeElab_rdrop (VAL in_ZPlusTypeElab_1);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_StackType_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Label_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusTypeElab_6);
static void mw_mirth_elab_resolveZ_defZ_beginZBang (VAL in_Str_1, uint64_t in_Token_2, VAL in_Either_3, int64_t in_Bool_4, int64_t in_Bool_5, VAL in_ZPlusMirth_6, VAL *out_ZPlusMirth_7, VAL *out_ZPlusResolveDef_8);
static VAL mw_mirth_elab_resolveZ_defZ_endZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusResolveDef_rdrop (VAL in_ZPlusResolveDef_1);
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_arity (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusResolveDef_4);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusResolveDef_4);
static void mw_mirth_elab_ZPlusResolveDef_filterZ_roots (VAL in_List_1, VAL in_ZPlusMirth_2, VAL in_ZPlusResolveDef_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusResolveDef_5);
static int64_t mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Def_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk (uint64_t in_Token_1, VAL in_Tycon_2);
static int64_t mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Namespace_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_name_QName_climbZ_upZ_nameZAsk (VAL in_ZPlusMirth_1, uint64_t in_Name_2, VAL in_QName_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_name_QName_climbZ_upZ_dnameZAsk (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL in_DName_3, VAL in_QName_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusResolveDef_6);
static VAL mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_Either_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_Either_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_Either_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_Type_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4);
static VAL mw_mirth_elab_elabZ_typeZ_unifyZBang (VAL in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, uint64_t in_Token_4, VAL *out_ZPlusMirth_5, uint64_t *out_Token_7);
static VAL mw_mirth_elab_elabZ_stackZ_typeZ_unifyZBang (VAL in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, uint64_t in_Token_4, VAL *out_ZPlusMirth_5, uint64_t *out_Token_7);
static VAL mw_mirth_elab_elabZ_simpleZ_typeZ_argZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_abZ_tokenZAt (VAL in_ZPlusAB_1, VAL *out_ZPlusAB_2);
static void mw_mirth_elab_abZ_tokenZBang (VAL in_ZPlusAB_1, uint64_t in_Token_2, VAL *out_ZPlusAB_3);
static VAL mw_mirth_elab_abZ_typeZAt (VAL in_ZPlusAB_1, VAL *out_ZPlusAB_2);
static void mw_mirth_elab_abZ_typeZBang (VAL in_ZPlusAB_1, VAL in_StackType_2, VAL *out_ZPlusAB_3);
static VAL mw_mirth_elab_abZ_ctxZAt (VAL in_ZPlusAB_1, VAL *out_ZPlusAB_2);
static VAL mw_mirth_elab_abZ_homeZAt (VAL in_ZPlusAB_1, VAL *out_ZPlusAB_2);
static VAL mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL *out_ZPlusMirth_3, VAL *out_ArrowType_5, uint64_t *out_Token_6, VAL *out_Home_7, uint64_t *out_Word_8);
static VAL mw_mirth_elab_finalizzeZ_wordZ_arrow (VAL in_ZPlusMirth_1, VAL in_Arrow_2, uint64_t in_Word_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_elab_guessZ_initialZ_ctxZ_type (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL *out_ZPlusMirth_3, VAL *out_ArrowType_5, uint64_t *out_Word_6);
static void mw_mirth_elab_abZ_unifyZ_typeZBang (VAL in_StackType_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_atomZBang (VAL in_Atom_1, VAL in_ZPlusAB_2, VAL *out_ZPlusAB_3);
static VAL mw_mirth_elab_abZ_optimizzedZ_snocZBang (VAL in_List_1, VAL in_Atom_2);
static VAL mw_mirth_elab_atomZ_acceptsZ_argsZAsk (VAL in_Atom_1, int64_t *out_Bool_3);
static int64_t mw_mirth_elab_atomsZ_hasZ_lastZ_blockZAsk (VAL in_List_1);
static VAL mw_mirth_elab_atomsZ_turnZ_lastZ_blockZ_toZ_arg (VAL in_Atom_1, VAL in_List_2, VAL *out_List_4);
static void mw_mirth_elab_abZ_opZBang (VAL in_Op_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static VAL mw_mirth_elab_abZ_expandZ_opsigZBang (VAL in_OpSig_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_StackType_5, VAL *out_ZPlusMirth_6, VAL *out_ZPlusAB_7);
static void mw_mirth_elab_abZ_intZBang (int64_t in_Int_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_f64ZBang (double in_F64_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_strZBang (VAL in_Str_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_bufferZBang (uint64_t in_Buffer_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_variableZBang (uint64_t in_Variable_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_fieldZBang (uint64_t in_Field_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_varZBang (uint64_t in_Var_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_tagZBang (uint64_t in_Tag_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_primZBang (int64_t in_Prim_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_wordZBang (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_externalZBang (uint64_t in_External_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_labelZ_pushZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_labelZ_popZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_labelZ_pushZ_rZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_abZ_labelZ_popZ_rZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static VAL mw_mirth_elab_elabZ_opZ_freshZ_sigZBang (VAL in_ZPlusMirth_1, VAL in_Op_2, VAL *out_ZPlusMirth_3, VAL *out_OpSig_5);
static VAL mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_tableZ_toZ_indexZ_type (VAL in_ZPlusMirth_1, uint64_t in_Table_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_tableZ_fromZ_indexZ_type (VAL in_ZPlusMirth_1, uint64_t in_Table_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_blockZ_sigZBang (uint64_t in_Block_1);
static VAL mw_mirth_elab_elabZ_matchZ_sigZBang (VAL in_Match_1);
static VAL mw_mirth_elab_elabZ_lambdaZ_sigZBang (VAL in_Lambda_1);
static VAL mw_mirth_elab_elabZ_varZ_sigZBang (uint64_t in_Var_1);
static VAL mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang (uint64_t in_Label_1);
static VAL mw_mirth_elab_elabZ_labelZ_popZ_sigZBang (uint64_t in_Label_1);
static VAL mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang (uint64_t in_Label_1);
static VAL mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang (uint64_t in_Label_1);
static VAL mw_mirth_elab_elabZ_arrowZ_homZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, VAL in_StackType_4, uint64_t in_Token_5, VAL in_Home_6, VAL *out_ZPlusMirth_7);
static VAL mw_mirth_elab_elabZ_arrowZ_fwdZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, uint64_t in_Token_4, VAL in_Home_5, VAL *out_ZPlusMirth_6);
static void mw_mirth_elab_elabZ_atomsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_atomZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_labelZ_getZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_elabZ_labelZ_setZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_elabZ_atomZ_blockZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_blockZ_atZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_elabZ_argsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_noZ_argsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static int64_t mw_mirth_elab_arityZ_compatibleZAsk (int64_t in_Int_1, int64_t in_Int_2);
static void mw_mirth_elab_elabZ_atomZ_nameZBang (uint64_t in_Name_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_elabZ_atomZ_dnameZBang (VAL in_DName_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static int64_t mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk (uint64_t in_Token_1);
static void mw_mirth_elab_elabZ_atomZ_resolveZ_defZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL in_Either_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_elabZ_atomZ_failedZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_atomZ_defZBang (VAL in_Def_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_elabZ_atomZ_notZ_aZ_wordZBang (VAL in_QName_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_elabZ_primZBang (int64_t in_Prim_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5);
static void mw_mirth_elab_elabZ_atomZ_assertZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_atomZ_matchZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_matchZ_atZBang (VAL in_StackType_1, uint64_t in_Token_2, VAL in_ZPlusMirth_3, VAL in_ZPlusAB_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusAB_6);
static void mw_mirth_elab_elabZ_matchZ_casesZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusMatch_4);
static void mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusMatch_4);
static void mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusMatch_4);
static uint64_t mw_mirth_elab_elabZ_matchZ_caseZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL in_ZPlusMatch_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusMatch_6);
static void mw_mirth_elab_elabZ_patternZBang (VAL in_List_1, VAL in_ZPlusMirth_2, VAL in_ZPlusPattern_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusPattern_5);
static void mw_mirth_elab_elabZ_patternZ_atomZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL in_ZPlusPattern_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusPattern_5);
static VAL mw_mirth_elab_elabZ_expandZ_tensorZBang (VAL in_ZPlusMirth_1, VAL in_StackType_2, uint64_t in_Token_3, VAL *out_ZPlusMirth_4, VAL *out_Type_6, uint64_t *out_Token_7);
static uint64_t mw_mirth_elab_elabZ_lambdaZ_paramZAsk (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_Maybe_5);
static void mw_mirth_elab_elabZ_atomZ_lambdaZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4);
static void mw_mirth_elab_elabZ_matchZ_exhaustiveZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusMatch_4);
static uint64_t mw_mirth_elab_elabZ_moduleZBang (uint64_t in_Module_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_moduleZ_packageZ_name (uint64_t in_Token_1, VAL in_ZPlusMirth_2, uint64_t *out_Name_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_elab_elabZ_moduleZ_qname (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_moduleZ_headerZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_elab_checkZ_moduleZ_path (uint64_t in_Token_1, uint64_t in_Module_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_moduleZ_declZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_loadZ_module (uint64_t in_Token_1, VAL in_QName_2, VAL in_ZPlusMirth_3, uint64_t *out_Module_5, VAL *out_ZPlusMirth_6);
static uint64_t mw_mirth_elab_elabZ_moduleZ_importZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_parseZ_data (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_SyntaxData_5);
static uint64_t mw_mirth_elab_parseZ_dataZ_header (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, uint64_t *out_SyntaxDataHeader_5);
static uint64_t mw_mirth_elab_parseZ_dataZ_tags (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_List_5);
static uint64_t mw_mirth_elab_parseZ_dataZ_tag (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_SyntaxDataTag_5);
static uint64_t mw_mirth_elab_parseZ_struct (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_SyntaxData_5);
static uint64_t mw_mirth_elab_parseZ_structZ_tag (VAL in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_SyntaxDataHeader_3, VAL *out_ZPlusMirth_4, uint64_t *out_SyntaxDataHeader_6, VAL *out_SyntaxDataTag_7);
static uint64_t mw_mirth_elab_elabZ_dataZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_structZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_4);
static void mw_mirth_elab_elabZ_dataZ_auxZBang (VAL in_SyntaxData_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_dataZ_headerZBang (uint64_t in_Data_1, uint64_t in_SyntaxDataHeader_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_elab_elabZ_dataZ_paramsZBang (VAL in_List_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_dataZ_tagZBang (uint64_t in_Data_1, VAL in_SyntaxDataTag_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_5);
static uint64_t mw_mirth_elab_dataZ_wordZ_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL in_Str_3, int64_t in_Nat_4, VAL *out_ZPlusMirth_5);
static void mw_mirth_elab_elabZ_dataZ_doneZBang (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_outputZ_type (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field (VAL in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_data_Tag_projectZ_inputZ_label (VAL in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_data_Tag_projectZ_tagZ_field (VAL in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_elab_dataZ_getZ_labelZ_type (VAL in_ZPlusMirth_1, VAL in_TagField_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_dataZ_setZ_labelZ_type (VAL in_ZPlusMirth_1, VAL in_TagField_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_elab_createZ_projectorsZBang (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_expectZ_tokenZ_arrow (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_parseZ_alias (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, VAL *out_Either_7);
static uint64_t mw_mirth_elab_elabZ_aliasZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_defZ_missingZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_inlineZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_parseZ_def (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_SyntaxDef_5);
static uint64_t mw_mirth_elab_elabZ_defZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL in_Arrow_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL in_Atom_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, uint64_t in_Arg_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL in_Op_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_defZ_paramsZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_defZ_bodyZBang (VAL in_StackType_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusAB_6);
static uint64_t mw_mirth_elab_parseZ_externalZ_decl (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_List_5);
static uint64_t mw_mirth_elab_parseZ_externalZ_declZ_part (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_ExternalDeclPart_5);
static uint64_t mw_mirth_elab_elabZ_externalZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_externalZ_blockZ_partZBang (VAL in_ZPlusMirth_1, VAL in_ExternalDeclPart_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_externalZ_defZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, uint64_t in_Token_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_elab_elabZ_defZ_externalZ_ctype (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_defZ_typeZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_bufferZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_variableZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static uint64_t mw_mirth_elab_elabZ_tableZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_entryZ_point (VAL in_QName_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static uint64_t mw_mirth_elab_elabZ_embedZ_strZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static void mw_mirth_elab_typecheckZ_everythingZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2);
static int64_t mw_mirth_elab_TABLEz_MAXz_COUNT (void);
static VAL mw_mirth_elab_tableZ_qname (uint64_t in_Table_1, VAL in_Str_2, int64_t in_Int_3);
static uint64_t mw_mirth_elab_tableZ_wordZ_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Table_2, VAL in_Str_3, int64_t in_Nat_4, VAL *out_ZPlusMirth_5);
static uint64_t mw_mirth_elab_tableZ_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Name_3, VAL in_PropState_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_elab_resolveZ_defZ_namespace (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Either_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_DName_3, int64_t in_Int_4, VAL *out_ZPlusMirth_5);
static int64_t mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk (uint64_t in_Token_1, uint64_t in_Module_2);
static VAL mw_mirth_elab_elabZ_defZ_qname (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_elab_elabZ_defZ_qnameZ_undefined (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_elab_elabZ_defZ_head (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, uint64_t *out_Token_4, uint64_t *out_Name_5, int64_t *out_Nat_6, VAL *out_PropState_7);
static uint64_t mw_mirth_elab_parseZ_field (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, uint64_t *out_Token_7);
static uint64_t mw_mirth_elab_elabZ_fieldZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3);
static int64_t mw_std_map_Map_2_len (VAL in_Map_1);
static VAL mw_std_map_Map_2_empty (void);
static VAL mw_std_map_Map_2_insert (VAL in_KVPair_1, VAL in_Map_2);
static VAL mw_mirth_specializzer_runZ_specializzerZBang (VAL in_ZPlusMirth_1, VAL in_Arrow_2, VAL *out_ZPlusMirth_3);
static void mw_mirth_specializzer_ZPlusSPCheck_beginZBang (VAL *out_ZPlusSPCheck_1);
static void mw_mirth_specializzer_ZPlusSPCheck_endZBang (VAL in_ZPlusSPCheck_1);
static void mw_mirth_specializzer_ZPlusSPCheck_loopZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusSPCheck_4);
static void mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang (VAL in_SPCheckItem_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang (VAL in_Arrow_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang (VAL in_Atom_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6);
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang (uint64_t in_Arg_1, VAL in_ZPlusSPCheck_2, VAL *out_ZPlusSPCheck_3);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang (VAL in_Atom_1, int64_t in_Prim_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusSPCheck_5);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, VAL in_Atom_3, uint64_t in_Word_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang (VAL in_Match_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang (VAL in_Case_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6);
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang (VAL in_Lambda_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6);
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang (uint64_t in_Word_1, VAL in_ZPlusSPCheck_2, VAL *out_ZPlusSPCheck_3);
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang (uint64_t in_Block_1, VAL in_ZPlusSPCheck_2, VAL *out_ZPlusSPCheck_3);
static int64_t mw_mirth_arrow_Arg_similar (VAL in_ZPlusMirth_1, uint64_t in_Arg_2, uint64_t in_Arg_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_arrow_Block_similar (VAL in_ZPlusMirth_1, uint64_t in_Block_2, uint64_t in_Block_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_arrow_Arrow_similar (VAL in_ZPlusMirth_1, VAL in_Arrow_2, VAL in_Arrow_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_arrow_Atom_similar (VAL in_ZPlusMirth_1, VAL in_Atom_2, VAL in_Atom_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_arrow_Op_similar (VAL in_ZPlusMirth_1, VAL in_Op_2, VAL in_Op_3, VAL *out_ZPlusMirth_4);
static int64_t mw_mirth_data_TagField_similar (VAL in_TagField_1, VAL in_TagField_2);
static int64_t mw_mirth_specializzer_SPKey_similar (VAL in_ZPlusMirth_1, VAL in_SPKey_2, VAL in_SPKey_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_word_Word_spZ_synthed (uint64_t in_Word_1);
static uint64_t mw_mirth_specializzer_specializzeZ_wordZBang (VAL in_ZPlusMirth_1, VAL in_SPKey_2, uint64_t in_Word_3, VAL *out_ZPlusMirth_4);
static void mw_mirth_specializzer_synthZ_specializzedZ_wordZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL in_SPKey_3, uint64_t in_Word_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusAB_6);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Arrow_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Atom_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, uint64_t in_Arg_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Op_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, uint64_t in_Block_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, uint64_t in_Block_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, uint64_t in_Var_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Match_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Lambda_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5);
static int64_t mw_std_set_SETz_INITIALz_SIZZE (void);
static void mw_std_set_ZPlusSet_new (VAL *out_ZPlusSet_1);
static void mw_std_set_ZPlusSet_rdrop (VAL in_ZPlusSet_1);
static int64_t mw_std_set_ZPlusSet_offsetZ_mask (int64_t in_Nat_1, VAL in_ZPlusSet_2, int64_t *out_U8_4, VAL *out_ZPlusSet_5);
static int64_t mw_std_set_ZPlusSet_memberZAsk (int64_t in_Nat_1, VAL in_ZPlusSet_2, VAL *out_ZPlusSet_4);
static void mw_std_set_ZPlusSet_insertZBang (int64_t in_Nat_1, VAL in_ZPlusSet_2, VAL *out_ZPlusSet_3);
static int64_t mw_mirth_need_Need_ZToNat (VAL in_Need_1);
static void mw_mirth_need_ZPlusNeeds_new (VAL *out_ZPlusNeeds_1);
static void mw_mirth_need_ZPlusNeeds_rdrop (VAL in_ZPlusNeeds_1);
static int64_t mw_mirth_need_Need_neededZAsk (VAL in_Need_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4);
static int64_t mw_mirth_word_Word_neededZAsk (uint64_t in_Word_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4);
static int64_t mw_mirth_arrow_Block_neededZAsk (uint64_t in_Block_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4);
static int64_t mw_mirth_data_Tag_wordZ_neededZAsk (uint64_t in_Tag_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4);
static int64_t mw_mirth_data_Tag_patZ_neededZAsk (uint64_t in_Tag_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4);
static void mw_mirth_need_ZPlusNeeds_needZBang (VAL in_Need_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_wordZBang (uint64_t in_Word_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_blockZBang (uint64_t in_Block_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang (uint64_t in_Tag_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang (uint64_t in_Tag_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3);
static void mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang (VAL in_Arrow_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusNeeds_4);
static void mw_mirth_need_ZPlusNeeds_runZ_needZBang (VAL in_Need_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_argsZBang (VAL in_List_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_argZBang (uint64_t in_Arg_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_blockZBang (uint64_t in_Block_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_wordZBang (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_arrowZBang (VAL in_Arrow_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_atomZBang (VAL in_Atom_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_opZBang (VAL in_List_1, VAL in_Op_2, VAL in_ZPlusMirth_3, VAL in_ZPlusNeeds_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusNeeds_6);
static void mw_mirth_need_ZPlusNeeds_runZ_primZBang (VAL in_List_1, int64_t in_Prim_2, VAL in_ZPlusMirth_3, VAL in_ZPlusNeeds_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusNeeds_6);
static void mw_mirth_need_ZPlusNeeds_runZ_matchZBang (VAL in_Match_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_caseZBang (VAL in_Case_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang (VAL in_Lambda_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_patternZBang (VAL in_Pattern_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_runZ_patatomZBang (VAL in_PatternAtom_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_argsZBang (VAL in_List_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_argZBang (uint64_t in_Arg_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_need_ZPlusNeeds_pushZ_blockZBang (uint64_t in_Block_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5);
static void mw_mirth_c99_ZPlusC99_put (VAL in_Str_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_ZPlusC99_putZ_byte (int64_t in_Byte_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_ZPlusC99_line (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static VAL mw_mirth_c99_c99Z_startZBang (VAL in_Arrow_1, VAL in_C99z_Options_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_endZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusMirth_2);
static void mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static int64_t mw_mirth_c99_ZPlusC99_freshZ_natZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_3);
static VAL mw_mirth_c99_ZPlusC99_freshZ_nameZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_3);
static VAL mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_3);
static VAL mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang (VAL in_Str_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4);
static void mw_mirth_c99_runZ_outputZ_c99ZBang (VAL in_Arrow_1, VAL in_C99z_Options_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_data_Tag_wordZ_cname (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_data_Tag_patZ_cname (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_buffer_Buffer_cname (VAL in_ZPlusMirth_1, uint64_t in_Buffer_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_variable_Variable_cname (VAL in_ZPlusMirth_1, uint64_t in_Variable_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_table_Field_cname (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_external_External_cname (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3);
static VAL mw_mirth_c99_c99Z_headerZ_str (void);
static void mw_mirth_c99_c99Z_headerZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_buffersZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_bufferZBang (uint64_t in_Buffer_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_bufferZ_callZBang (uint64_t in_Buffer_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_variablesZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_variableZBang (uint64_t in_Variable_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_variableZ_callZBang (uint64_t in_Variable_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_tagZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_tagZ_defZBang (uint64_t in_Tag_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_tagZ_bodyZBang (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static int64_t mw_mirth_c99_c99Z_tagZ_labelZ_index (uint64_t in_Tag_1, uint64_t in_Label_2, VAL in_ZPlusC99_3, VAL *out_ZPlusC99_5);
static void mw_mirth_c99_c99Z_tagZ_getZ_labelZBang (VAL in_TagField_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_tagZ_setZ_labelZBang (VAL in_TagField_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_externalZ_blocksZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_externalZ_blockZBang (uint64_t in_ExternalBlock_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static VAL mw_mirth_external_External_cnameZ_type (uint64_t in_External_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_external_External_c99Z_api (uint64_t in_External_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_externalZ_callZBang (VAL in_List_1, uint64_t in_External_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_c99Z_externalZ_defZBang (uint64_t in_External_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static VAL mw_mirth_type_CTypeStackPart_c99Z_argZ_name (int64_t in_Nat_1, VAL in_CTypeStackPart_2, VAL in_ZPlusC99_3, int64_t *out_Nat_4, VAL *out_ZPlusC99_6);
static VAL mw_mirth_type_CType_ZToC99ReprType (VAL in_CType_1);
static VAL mw_mirth_type_CTypeStackPart_c99Z_pop (VAL in_CTypeStackPart_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_type_CTypeStackPart_c99Z_push (VAL in_Str_1, VAL in_CTypeStackPart_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_ZPlusC99_indent (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static VAL mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix (int64_t in_C99APIArgMode_1);
static int64_t mw_mirth_c99_C99APIArg_isZ_physicalZAsk (VAL in_C99APIArg_1);
static int64_t mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk (VAL in_C99APIArg_1);
static VAL mw_mirth_c99_C99APIArg_popZ_consumeZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_mirth_c99_nameZ_argZ_prefix (uint64_t in_Name_1);
static VAL mw_mirth_c99_typeZ_argZ_prefix (VAL in_Type_1);
static VAL mw_mirth_c99_freshZ_argZ_nameZBang (VAL in_ZPlusC99_1, int64_t in_C99APIArgMode_2, VAL in_C99ReprType_3, VAL in_Type_4, VAL *out_ZPlusC99_5, int64_t *out_C99APIArgMode_6, VAL *out_C99ReprType_7);
static VAL mw_mirth_c99_consZ_freshZ_argZBang (VAL in_ZPlusC99_1, VAL in_List_2, VAL in_Type_3, VAL in_C99APIArgSource_4, int64_t in_C99APIArgMode_5, VAL *out_ZPlusC99_6, int64_t *out_C99APIArgMode_8);
static VAL mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux (VAL in_StackType_1, int64_t in_C99APIArgMode_2, VAL in_ZPlusC99_3, int64_t *out_C99APIArgMode_4, int64_t *out_Bool_5, VAL *out_ZPlusC99_7);
static VAL mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params (VAL in_StackType_1, int64_t in_C99APIArgMode_2, VAL in_ZPlusC99_3, int64_t *out_Bool_4, VAL *out_ZPlusC99_6);
static VAL mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api (VAL in_Str_1, VAL in_ArrowType_2, VAL in_ZPlusC99_3, VAL *out_ZPlusC99_5);
static VAL mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang (VAL in_Str_1, VAL in_C99APIArg_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_5);
static void mw_mirth_c99_c99Z_smartZ_callZBang (VAL in_List_1, VAL in_C99API_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_ZPlusC99_smartZ_sigZ_put (VAL in_C99API_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_smartZ_sigZBang (VAL in_C99API_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_apiZ_enterZBang (VAL in_C99API_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_apiZ_exitZBang (VAL in_C99API_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_codipZ_arrowZBang (VAL in_Arrow_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Stack_4);
static void mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZBang (VAL in_StackTypePart_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Stack_5);
static void mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang (VAL in_ZPlusC99Stack_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99Stack_3);
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_arrowZBang (VAL in_Arrow_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_atomZBang (VAL in_Atom_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static int64_t mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk (VAL in_Op_1);
static void mw_mirth_c99_c99Z_atomZ_opZBang (VAL in_Atom_1, VAL in_Op_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_c99Z_getZ_enumZ_valueZBang (uint64_t in_Data_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang (uint64_t in_Data_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_wordZBang (VAL in_List_1, uint64_t in_Word_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static VAL mw_mirth_data_Tag_valueZ_show (uint64_t in_Tag_1);
static void mw_mirth_c99_c99Z_tagZ_callZBang (VAL in_List_1, uint64_t in_Tag_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_c99Z_reverseZ_tagZBang (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_labelZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_labelZ_defZBang (uint64_t in_Label_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_pushZ_valueZ_labelZ_directZBang (uint64_t in_Label_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Value_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_pushZ_valueZ_labelZBang (uint64_t in_Label_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Value_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang (uint64_t in_Label_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Resource_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_pushZ_resourceZ_labelZBang (uint64_t in_Label_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Resource_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_popZ_valueZ_labelZ_directZBang (VAL in_C99ReprType_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Value_5);
static void mw_mirth_c99_popZ_resourceZ_labelZ_directZBang (VAL in_C99ReprType_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Resource_5);
static void mw_mirth_c99_c99Z_labelZ_pushZBang (VAL in_Atom_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_c99Z_labelZ_pushZ_rZBang (VAL in_Atom_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_c99Z_labelZ_popZBang (VAL in_Atom_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_c99Z_labelZ_popZ_rZBang (VAL in_Atom_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_c99Z_intZBang (int64_t in_Int_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_f64ZBang (double in_F64_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_strZBang (VAL in_Str_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99_putZ_cstrZ_long (VAL in_Str_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_ZPlusC99_putZ_cstr (VAL in_Str_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_stringZ_byteZBang (int64_t in_Byte_1, int64_t in_Bool_2, VAL in_ZPlusC99_3, int64_t *out_Bool_4, VAL *out_ZPlusC99_5);
static int64_t mw_mirth_c99_C99ReprType_ZEqualZEqual (VAL in_C99ReprType_1, VAL in_C99ReprType_2);
static int64_t mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk (VAL in_C99ReprType_1);
static int64_t mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk (VAL in_C99ReprType_1);
static VAL mw_mirth_c99_C99ReprType_dummyZ_value (VAL in_C99ReprType_1);
static VAL mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type (VAL in_C99ReprType_1);
static VAL mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix (VAL in_C99ReprType_1, VAL *out_Str_3);
static VAL mw_mirth_c99_C99ReprType_mkZ_macro (VAL in_Str_1, VAL in_C99ReprType_2);
static VAL mw_mirth_type_Resource_c99Z_repr (VAL in_Resource_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_type_Type_c99Z_repr (VAL in_Type_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static VAL mw_mirth_type_StackType_tupleZ_c99Z_repr (VAL in_StackType_1);
static VAL mw_mirth_type_PrimType_c99Z_repr (int64_t in_PrimType_1);
static VAL mw_mirth_data_Data_c99Z_repr (uint64_t in_Data_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4);
static void mw_mirth_c99_ZPlusC99Value_rdup (VAL in_ZPlusC99Value_1, VAL *out_ZPlusC99Value_2, VAL *out_ZPlusC99Value_3);
static void mw_mirth_c99_ZPlusC99Value_rdrop (VAL in_ZPlusC99Value_1);
static void mw_mirth_c99_C99ReprType_newZ_valueZBang (VAL in_C99ReprType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4);
static void mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang (VAL in_C99ReprType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4);
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_mirth_c99_ZPlusC99Value_consume (VAL in_ZPlusC99Value_1);
static VAL mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL (VAL in_ZPlusC99Value_1);
static VAL mw_mirth_c99_ZPlusC99Value_consumeZ_as (VAL in_C99ReprType_1, VAL in_ZPlusC99Value_2);
static void mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4, VAL *out_ZPlusC99Value_5);
static VAL mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag (VAL in_ZPlusC99Value_1, VAL *out_ZPlusC99Value_2);
static void mw_mirth_c99_ZPlusC99Resource_rdup (VAL in_ZPlusC99Resource_1, VAL *out_ZPlusC99Resource_2, VAL *out_ZPlusC99Resource_3);
static void mw_mirth_c99_ZPlusC99Resource_rdrop (VAL in_ZPlusC99Resource_1);
static void mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang (VAL in_ZPlusC99Value_1, VAL *out_ZPlusC99Resource_2);
static void mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang (VAL in_ZPlusC99Resource_1, VAL *out_ZPlusC99Value_2);
static void mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Resource_4, VAL *out_ZPlusC99Value_5);
static VAL mw_mirth_c99_ZPlusC99Resource_consume (VAL in_ZPlusC99Resource_1);
static VAL mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL (VAL in_ZPlusC99Resource_1);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang (VAL in_ZPlusC99Branch_1, VAL in_C99ReprType_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Resource_4);
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag (VAL in_ZPlusC99Resource_1, VAL *out_ZPlusC99Resource_2);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZ_valueZDivresourceZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99ValueZDivResource_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag (VAL in_ZPlusC99ValueZDivResource_1, VAL *out_ZPlusC99ValueZDivResource_2);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdup (VAL in_ZPlusC99ValueZDivResource_1, VAL *out_ZPlusC99ValueZDivResource_2, VAL *out_ZPlusC99ValueZDivResource_3);
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop (VAL in_ZPlusC99ValueZDivResource_1);
static VAL mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_VAL (VAL in_ZPlusC99ValueZDivResource_1);
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_valueZDivresourceZ_dataZBang (uint64_t in_Data_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99ValueZDivResource_4);
static void mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99Branch_2);
static void mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang (VAL in_ZPlusC99_1, VAL in_ZPlusC99Stack_2, int64_t in_Bool_3, VAL in_List_4, VAL *out_ZPlusC99Branch_5);
static void mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99ValueZAsk_2, VAL *out_ZPlusC99Stack_3);
static void mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99ResourceZAsk_2, VAL *out_ZPlusC99Stack_3);
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk (uint64_t in_Label_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99ValueZAsk_4, VAL *out_ZPlusC99Stack_5);
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk (uint64_t in_Label_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99ResourceZAsk_4, VAL *out_ZPlusC99Stack_5);
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99Stack_rdup (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, VAL *out_ZPlusC99Stack_3);
static void mw_mirth_c99_ZPlusC99Stack_rdrop (VAL in_ZPlusC99Stack_1);
static void mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang (VAL in_StackType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99BranchSplit_3);
static void mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99Branch_2);
static VAL mw_mirth_c99_ZPlusC99Branch_varZ_lookup (VAL in_ZPlusC99Branch_1, uint64_t in_Var_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99Branch_varZ_getZBang (VAL in_ZPlusC99Branch_1, uint64_t in_Var_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4);
static void mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang (VAL in_ZPlusC99Branch_1, uint64_t in_Var_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4);
static void mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang (VAL in_ZPlusC99Branch_1, uint64_t in_Var_2, VAL in_ZPlusC99Value_3, VAL *out_ZPlusC99Branch_4);
static uint64_t mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99Branch_2, VAL *out_ZPlusC99Value_4);
static void mw_mirth_c99_ZPlusC99_startZ_branchZBang (VAL in_ZPlusC99_1, int64_t in_Bool_2, VAL in_List_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99_2, int64_t *out_Bool_3, VAL *out_List_4);
static void mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99Branch_2);
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_C99ReprType_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4);
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang (VAL in_C99ReprType_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Value_5);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang (VAL in_ZPlusC99Branch_1, VAL in_C99ReprType_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Resource_4);
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang (VAL in_C99ReprType_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Resource_5);
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr (VAL in_Type_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static VAL mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr (VAL in_Resource_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang (VAL in_StackType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Value_5);
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang (VAL in_StackType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Resource_5);
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang (uint64_t in_Label_1, VAL in_StackType_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_5, VAL *out_ZPlusC99Value_6);
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang (uint64_t in_Label_1, VAL in_StackType_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_5, VAL *out_ZPlusC99Resource_6);
static void mw_mirth_c99_c99Z_primZBang (VAL in_Atom_1, int64_t in_Prim_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_c99Z_tupZ_packZBang (int64_t in_Nat_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_tupZ_unpackZBang (int64_t in_Nat_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99Value_runZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_primZ_syntaxZBang (VAL in_Atom_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_binopZBang (VAL in_Str_1, VAL in_C99ReprType_2, VAL in_Str_3, VAL in_C99ReprType_4, VAL in_Str_5, int64_t in_Bool_6, VAL in_Maybe_7, VAL in_ZPlusC99Branch_8, VAL *out_ZPlusC99Branch_9);
static void mw_mirth_c99_c99Z_unopZBang (VAL in_Str_1, VAL in_C99ReprType_2, VAL in_Str_3, VAL in_Maybe_4, VAL in_ZPlusC99Branch_5, VAL *out_ZPlusC99Branch_6);
static void mw_mirth_c99_c99Z_argsZ_pushZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_argZ_pushZBang (uint64_t in_Arg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_argZ_runZBang (uint64_t in_Arg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_blockZ_runZBang (uint64_t in_Block_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_packZ_closureZ_varsZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99ValueZAsk_4);
static void mw_mirth_c99_c99Z_blockZ_pushZBang (uint64_t in_Block_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_varZBang (uint64_t in_Var_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_varZ_runZBang (uint64_t in_Var_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_varZ_pushZBang (uint64_t in_Var_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_popZ_valuesZ_toZ_envZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_dropZ_envZ_varZBang (uint64_t in_Var_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_dropZ_envZ_varsZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_lambdaZBang (VAL in_Lambda_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_matchZBang (VAL in_Match_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_singleZ_caseZBang (VAL in_Case_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_caseZBang (VAL in_Case_1, VAL in_ZPlusC99BranchSplit_2, VAL in_ZPlusC99ValueZDivResource_3, VAL *out_ZPlusC99BranchSplit_4);
static VAL mw_mirth_data_Tag_wordZ_cnameZ_type (uint64_t in_Tag_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_data_Tag_patZ_cnameZ_type (uint64_t in_Tag_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_word_Word_cnameZ_type (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5);
static VAL mw_mirth_data_Tag_wordZ_c99Z_api (uint64_t in_Tag_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4);
static VAL mw_mirth_data_Tag_patZ_c99Z_api (uint64_t in_Tag_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4);
static VAL mw_mirth_word_Word_c99Z_api (uint64_t in_Word_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4);
static void mw_mirth_c99_c99Z_wordZ_sigsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_wordZ_sigZBang (uint64_t in_Word_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_blockZ_sigsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_blockZ_sigZBang (uint64_t in_Block_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_blockZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_blockZ_defZBang (uint64_t in_Block_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_blockZ_sigZ_put (uint64_t in_Block_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_blockZ_enterZBang (uint64_t in_Block_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_blockZ_exitZBang (uint64_t in_Block_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_exposeZ_stackZ_typeZBang (VAL in_StackType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_wordZ_enterZBang (uint64_t in_Word_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_wordZ_exitZBang (uint64_t in_Word_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_wordZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_wordZ_defZBang (uint64_t in_Word_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_fieldZ_sigZ_put (uint64_t in_Field_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_fieldZ_sigsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_fieldZ_sigZBang (uint64_t in_Field_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_fieldZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_c99Z_fieldZ_defZBang (uint64_t in_Field_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_c99Z_fieldZ_callZBang (uint64_t in_Field_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_c99Z_mainZBang (VAL in_Arrow_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static VAL mw_mirth_main_Arguments_default (void);
static void mw_mirth_main_compileZBang (VAL in_Arguments_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_3);
static TUP* mw_mirth_main_parseZ_packageZ_def (VAL in_Str_1);
static VAL mw_mirth_main_compilerZ_parseZ_args (VAL in_ZPlusArgumentParser_1, VAL in_Arguments_2, VAL in_Maybe_3, VAL in_ArgpOptionType_4, VAL *out_ZPlusArgumentParser_5);
static void mw_mirth_main_main (void);
static VAL mw_std_list_List_1_for_1_sp1 (VAL in_List_1, VAL in_List_2);
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2 (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp1 (uint64_t in_Block_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp3 (VAL in_Arrow_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3 (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2);
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1 (VAL in_Str_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static VAL mw_std_str_Str_1_sp4 (VAL in_Str_1);
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp4 (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp7 (uint64_t in_Data_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp3 (uint64_t in_Label_1, uint64_t in_Tag_2, VAL in_ZPlusC99ValueZDivResource_3, VAL in_ZPlusC99_4, VAL in_C99ReprType_5, VAL *out_ZPlusC99ValueZDivResource_6, uint64_t *out_Tag_7, uint64_t *out_Label_8, VAL *out_ZPlusC99_9);
static void mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8 (VAL in_Str_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp4 (uint64_t in_Label_1, VAL in_ZPlusC99_2, VAL in_C99ReprType_3, VAL *out_ZPlusC99_4);
static VAL mw_std_maybe_Maybe_1_map_1_sp3 (VAL in_Resource_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static VAL mw_std_maybe_Maybe_1_map_1_sp4 (VAL in_Type_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static VAL mw_std_list_List_1_filter_1_sp1 (VAL in_List_1);
static VAL mw_std_list_List_1_unions_1_sp1 (VAL in_List_1);
static VAL mw_std_list_List_1_union_1_sp1 (VAL in_List_1, VAL in_List_2);
static VAL mw_std_list_List_1_difference_1_sp1 (VAL in_List_1, VAL in_List_2);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2 (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99BranchSplit_2);
static void mw_std_list_List_1_for_1_sp16 (VAL in_ZPlusC99Branch_1, VAL in_List_2, VAL *out_ZPlusC99Branch_3);
static void mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23 (int64_t in_Bool_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3 (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99BranchSplit_2);
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6 (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99BranchSplit_2);
static void mw_std_list_List_1_reverseZ_for_1_sp4 (VAL in_ZPlusC99Branch_1, VAL in_List_2, VAL *out_ZPlusC99Branch_3);
static int64_t mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp12 (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static VAL mw_std_list_List_1_map_1_sp5 (VAL in_ZPlusC99Branch_1, VAL in_List_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_std_maybe_Maybe_1_filter_1_sp2 (VAL in_Type_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static VAL mw_std_maybe_Maybe_1_filter_1_sp3 (VAL in_Resource_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp10 (int64_t in_Int_1, VAL in_Str_2, VAL in_ZPlusC99Branch_3, VAL in_C99ReprType_4, VAL *out_Str_5, int64_t *out_Int_6, VAL *out_ZPlusC99Branch_7, VAL *out_ZPlusC99Value_8);
static VAL mw_std_str_Str_1_sp28 (VAL in_Str_1);
static void mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13 (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4);
static void mw_std_list_List_1_for_2_sp1 (VAL in_ZPlusC99_1, VAL in_List_2, VAL *out_ZPlusC99_3);
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp23 (VAL in_ZPlusC99Value_1, VAL in_ZPlusC99Branch_2, VAL in_C99ReprType_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Value_5);
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp30 (VAL in_Str_1, int64_t in_Nat_2, VAL in_Str_3, VAL in_ZPlusC99Branch_4, VAL *out_Str_5, int64_t *out_Nat_6, VAL *out_ZPlusC99Branch_7);
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp15 (uint64_t in_Word_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4);
static VAL mw_mirth_c99_ZPlusC99_c99Z_line_1_sp88 (VAL in_C99API_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4);
static void mw_std_list_List_1_reverseZ_for_1_sp6 (VAL in_ZPlusC99Branch_1, VAL in_List_2, VAL *out_ZPlusC99Branch_3);
static VAL mw_std_list_List_1_filter_1_sp4 (VAL in_List_1);
static void mw_mirth_c99_pushZ_labelZ_expressionZBang_1_sp4 (VAL in_Str_1, VAL in_C99ReprType_2, VAL in_C99ReprType_3, VAL in_ZPlusC99Branch_4, uint64_t in_Label_5, VAL *out_ZPlusC99Branch_6);
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp32 (VAL in_Str_1, VAL in_C99ReprType_2, VAL in_ZPlusC99Branch_3, VAL in_C99ReprType_4, VAL *out_ZPlusC99Branch_5, VAL *out_ZPlusC99Value_6);
static void mw_std_maybe_Maybe_1_for_1_sp7 (VAL in_ZPlusList_1, VAL in_Maybe_2, VAL *out_ZPlusList_3);
static void mw_std_file_ZPlusFileZAsk_unwrapZBang_1_sp1 (VAL in_ZPlusMirth_1, VAL in_ZPlusFileZAsk_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusFile_4);
static void mw_std_list_List_1_for_1_sp46 (VAL in_ZPlusList_1, VAL in_List_2, VAL *out_ZPlusList_3);
static VAL mw_mirth_elab_abZ_buildZ_homZBang_1_sp1 (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL in_Ctx_3, VAL in_ArrowType_4, uint64_t in_Token_5, VAL in_Home_6, VAL *out_ZPlusMirth_7);
static VAL mw_mirth_elab_ZPlusAB_gamma_1_sp1 (VAL in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, VAL in_ZPlusAB_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusAB_7);
static VAL mw_std_maybe_Maybe_1_filter_1_sp4 (VAL in_Type_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static VAL mw_std_maybe_Maybe_1_filter_1_sp5 (VAL in_Resource_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static VAL mw_std_maybe_Maybe_1_map_1_sp10 (VAL in_Maybe_1);
static VAL mw_std_list_List_1_reverseZ_for_1_sp8 (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL in_Ctx_3, VAL in_StackType_4, VAL in_List_5, VAL *out_ZPlusMirth_6, VAL *out_ZPlusAB_7, VAL *out_StackType_9);
static VAL mw_std_maybe_Maybe_1_bind_1_sp5 (VAL in_Maybe_1);
static int64_t mw_std_list_List_1_ZEqualZEqual_1_sp1 (VAL in_ZPlusMirth_1, VAL in_List_2, VAL in_List_3, VAL *out_ZPlusMirth_4);
static void mw_std_list_List_1_for_1_sp60 (VAL in_ZPlusSPCheck_1, VAL in_List_2, VAL *out_ZPlusSPCheck_3);
static VAL mw_std_maybe_Maybe_1_bind_1_sp7 (VAL in_ZPlusMirth_1, VAL in_Maybe_2, VAL *out_ZPlusMirth_3);
static VAL mw_std_list_List_1_for_1_sp63 (VAL in_ZPlusMirth_1, VAL in_z_x1_2, VAL in_ZPlusStr_3, VAL in_Str_4, VAL in_List_5, VAL *out_ZPlusMirth_6, VAL *out_z_x1_7, VAL *out_ZPlusStr_8);
static int64_t mw_std_list_List_1_member_1_sp4 (VAL in_Namespace_1, VAL in_List_2);
static VAL mw_std_list_List_1_for_1_sp80 (VAL in_StackType_1, VAL in_List_2);
static int64_t mw_std_maybe_Maybe_1_has_1_sp7 (VAL in_Maybe_1);
static VAL mw_std_maybe_Maybe_1_filter_1_sp13 (VAL in_Maybe_1);
static VAL mw_mirth_mirth_PropLabel_prop_1_sp15 (uint64_t in_Token_1, VAL in_PropLabel_2);
static VAL mw_std_list_List_1_filterZ_some_1_sp4 (VAL in_List_1);
static VAL mw_mirth_elab_abZ_buildZBang_1_sp33 (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, uint64_t in_Token_4, VAL in_Home_5, VAL *out_ZPlusMirth_6);
static void mw_std_maybe_Maybe_1_for_1_sp19 (VAL in_ZPlusList_1, VAL in_Maybe_2, VAL *out_ZPlusList_3);
static VAL mw_std_maybe_Maybe_1_map_1_sp14 (VAL in_Str_1, VAL in_Maybe_2, VAL *out_Maybe_4);
static void mb_mirth_main_main_1 (void);
static void mb_mirth_elab_elabZ_defZ_head_3 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp1_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp2_2 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp3_6 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp4_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp5_2 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp6_9 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp7_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp8_5 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp9_3 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp10_5 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp11_3 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp12_7 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp13_2 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp14_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp15_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp16_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp17_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp18_1 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp19_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp20_5 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp21_0 (void);
static void mb_mirth_mirth_PropLabel_prop_1_sp22_6 (void);
static void* mfld_mirth_label_Label_ZTildename (uint64_t i);
static void* mfld_mirth_var_Var_ZTildename (uint64_t i);
static void* mfld_mirth_var_Var_ZTildetype (uint64_t i);
static void* mfld_mirth_var_Var_ZTildeautoZ_runZAsk (uint64_t i);
static void* mfld_mirth_buffer_Buffer_ZTildehead (uint64_t i);
static void* mfld_mirth_buffer_Buffer_ZTildesizze (uint64_t i);
static void* mfld_mirth_buffer_Buffer_ZTildeqname (uint64_t i);
static void* mfld_mirth_word_Word_ZTildename (uint64_t i);
static void* mfld_mirth_word_Word_ZTildearity (uint64_t i);
static void* mfld_mirth_word_Word_ZTildeqname (uint64_t i);
static void* mfld_mirth_word_Word_ZTildehead (uint64_t i);
static void* mfld_mirth_word_Word_ZTildesigZAsk (uint64_t i);
static void* mfld_mirth_word_Word_ZTildebody (uint64_t i);
static void* mfld_mirth_word_Word_ZTildectxZ_type (uint64_t i);
static void* mfld_mirth_word_Word_ZTildeparams (uint64_t i);
static void* mfld_mirth_word_Word_ZTildearrow (uint64_t i);
static void* mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk (uint64_t i);
static void* mfld_mirth_word_Word_ZTildecname (uint64_t i);
static void* mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk (uint64_t i);
static void* mfld_mirth_word_Word_ZTildenumZ_blocks (uint64_t i);
static void* mfld_mirth_table_Table_ZTildehead (uint64_t i);
static void* mfld_mirth_table_Table_ZTildename (uint64_t i);
static void* mfld_mirth_table_Table_ZTildeqname (uint64_t i);
static void* mfld_mirth_table_Table_ZTildenumZ_buffer (uint64_t i);
static void* mfld_mirth_table_Table_ZTildemaxZ_count (uint64_t i);
static void* mfld_mirth_table_Field_ZTildehead (uint64_t i);
static void* mfld_mirth_table_Field_ZTildename (uint64_t i);
static void* mfld_mirth_table_Field_ZTildeqname (uint64_t i);
static void* mfld_mirth_table_Field_ZTildeindexZ_type (uint64_t i);
static void* mfld_mirth_table_Field_ZTildevalueZ_type (uint64_t i);
static void* mfld_mirth_data_Data_ZTildeheadZAsk (uint64_t i);
static void* mfld_mirth_data_Data_ZTildeqname (uint64_t i);
static void* mfld_mirth_data_Data_ZTildename (uint64_t i);
static void* mfld_mirth_data_Data_ZTildearity (uint64_t i);
static void* mfld_mirth_data_Data_ZTildeparams (uint64_t i);
static void* mfld_mirth_data_Data_ZTildetags (uint64_t i);
static void* mfld_mirth_data_Data_ZTildectypeZAsk (uint64_t i);
static void* mfld_mirth_data_Data_ZTildelastZ_tagZ_value (uint64_t i);
static void* mfld_mirth_data_Data_ZTildeisZ_unitZAsk (uint64_t i);
static void* mfld_mirth_data_Data_ZTildeisZ_enumZAsk (uint64_t i);
static void* mfld_mirth_data_Data_ZTildeisZ_transparentZAsk (uint64_t i);
static void* mfld_mirth_data_Data_ZTildesemiZ_transparentZAsk (uint64_t i);
static void* mfld_mirth_data_Data_ZTildeisZ_resourceZAsk (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildedata (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildeqname (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildevalue (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildelabelZ_inputs (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildesigZAsk (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildectxZ_type (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildeuntag (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildenumZ_labelZ_inputs (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildeinputs (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildefields (uint64_t i);
static void* mfld_mirth_external_External_ZTildename (uint64_t i);
static void* mfld_mirth_external_External_ZTildearity (uint64_t i);
static void* mfld_mirth_external_External_ZTildeqname (uint64_t i);
static void* mfld_mirth_external_External_ZTildesymbol (uint64_t i);
static void* mfld_mirth_external_External_ZTildehead (uint64_t i);
static void* mfld_mirth_external_External_ZTildesig (uint64_t i);
static void* mfld_mirth_external_External_ZTildectxZ_type (uint64_t i);
static void* mfld_mirth_external_External_ZTildectype (uint64_t i);
static void* mfld_mirth_external_ExternalBlock_ZTildetoken (uint64_t i);
static void* mfld_mirth_external_ExternalBlock_ZTildeparts (uint64_t i);
static void* mfld_mirth_variable_Variable_ZTildehead (uint64_t i);
static void* mfld_mirth_variable_Variable_ZTildeqname (uint64_t i);
static void* mfld_mirth_variable_Variable_ZTildetype (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildectx (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildetoken (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildehome (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildedom (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildecod (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildearrow (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildeqname (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildehomeZ_index (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildecname (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildefreeZ_vars (uint64_t i);
static void* mfld_mirth_typedef_TypeDef_ZTildeheadZAsk (uint64_t i);
static void* mfld_mirth_typedef_TypeDef_ZTildename (uint64_t i);
static void* mfld_mirth_typedef_TypeDef_ZTildeqname (uint64_t i);
static void* mfld_mirth_typedef_TypeDef_ZTildetarget (uint64_t i);
static void* mfld_mirth_type_MetaVar_ZTildetypeZAsk (uint64_t i);
static void* mfld_mirth_prim_Prim_ZTildename (uint64_t i);
static void* mfld_mirth_prim_Prim_ZTildectx (uint64_t i);
static void* mfld_mirth_prim_Prim_ZTildetype (uint64_t i);
static void* mfld_mirth_prim_Prim_ZTildedecl (uint64_t i);
static void* mfld_mirth_prim_Prim_ZTildearity (uint64_t i);
static void* mfld_mirth_token_Token_ZTildevalue (uint64_t i);
static void* mfld_mirth_token_Token_ZTildemodule (uint64_t i);
static void* mfld_mirth_token_Token_ZTilderow (uint64_t i);
static void* mfld_mirth_token_Token_ZTildecol (uint64_t i);
static void* mfld_mirth_module_Module_ZTildepackage (uint64_t i);
static void* mfld_mirth_module_Module_ZTildename (uint64_t i);
static void* mfld_mirth_module_Module_ZTildepath (uint64_t i);
static void* mfld_mirth_module_Module_ZTildestart (uint64_t i);
static void* mfld_mirth_module_Module_ZTildeend (uint64_t i);
static void* mfld_mirth_module_Module_ZTildeimports (uint64_t i);
static void* mfld_mirth_alias_Alias_ZTildehead (uint64_t i);
static void* mfld_mirth_alias_Alias_ZTildename (uint64_t i);
static void* mfld_mirth_alias_Alias_ZTildearity (uint64_t i);
static void* mfld_mirth_alias_Alias_ZTildeqname (uint64_t i);
static void* mfld_mirth_alias_Alias_ZTildetarget (uint64_t i);
static void* mfld_mirth_name_Name_ZTildeStr (uint64_t i);
static void* mfld_mirth_name_Name_ZTildedefs (uint64_t i);
static void* mfld_mirth_name_Name_ZTildemangled (uint64_t i);
static void* mfld_mirth_name_Name_ZTildelabel (uint64_t i);
static void* mfld_mirth_package_Package_ZTildename (uint64_t i);
static void* mfld_mirth_package_Package_ZTildepath (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildeoutputZ_type (uint64_t i);
static void* mfld_mirth_word_Word_ZTildespZ_checked (uint64_t i);
static void* mfld_mirth_arrow_Block_ZTildespZ_checked (uint64_t i);
static void* mfld_mirth_word_Word_ZTildespZ_synthed (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildewordZ_cname (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildepatZ_cname (uint64_t i);
static void* mfld_mirth_buffer_Buffer_ZTildecname (uint64_t i);
static void* mfld_mirth_variable_Variable_ZTildecname (uint64_t i);
static void* mfld_mirth_table_Field_ZTildecname (uint64_t i);
static void* mfld_mirth_external_External_ZTildecname (uint64_t i);
static void* mfld_mirth_prim_Prim_ZTildecname (uint64_t i);
static void* mfld_mirth_external_External_ZTildec99Z_api (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildevalueZ_show (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildewordZ_c99Z_api (uint64_t i);
static void* mfld_mirth_data_Tag_ZTildepatZ_c99Z_api (uint64_t i);
static void* mfld_mirth_word_Word_ZTildec99Z_api (uint64_t i);
int main (int argc, char** argv) {
	global_argc = argc;
	global_argv = argv;
	int64_t v0 = 0 /* The World! */;
	mw_mirth_main_main();
	push_resource(MKI64(0));
	return 0;
}
static void* mfld_mirth_label_Label_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_var_Var_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_var_Var_ZTildetype (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_var_Var_ZTildeautoZ_runZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_buffer_Buffer_ZTildehead (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_buffer_Buffer_ZTildesizze (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_buffer_Buffer_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildearity (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildehead (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildesigZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildebody (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildectxZ_type (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildeparams (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildearrow (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildecname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildenumZ_blocks (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Table_ZTildehead (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Table_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Table_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Table_ZTildenumZ_buffer (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Table_ZTildemaxZ_count (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Field_ZTildehead (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Field_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Field_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Field_ZTildeindexZ_type (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Field_ZTildevalueZ_type (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildeheadZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildearity (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildeparams (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildetags (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildectypeZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildelastZ_tagZ_value (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildeisZ_unitZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildeisZ_enumZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildeisZ_transparentZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildesemiZ_transparentZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Data_ZTildeisZ_resourceZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildedata (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildevalue (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildelabelZ_inputs (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildesigZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildectxZ_type (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildeuntag (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildenumZ_labelZ_inputs (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildeinputs (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildefields (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildearity (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildesymbol (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildehead (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildesig (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildectxZ_type (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildectype (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_ExternalBlock_ZTildetoken (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_ExternalBlock_ZTildeparts (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_variable_Variable_ZTildehead (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_variable_Variable_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_variable_Variable_ZTildetype (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildectx (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildetoken (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildehome (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildedom (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildecod (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildearrow (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildehomeZ_index (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildecname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildefreeZ_vars (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_typedef_TypeDef_ZTildeheadZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_typedef_TypeDef_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_typedef_TypeDef_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_typedef_TypeDef_ZTildetarget (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_type_MetaVar_ZTildetypeZAsk (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_prim_Prim_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_prim_Prim_ZTildectx (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_prim_Prim_ZTildetype (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_prim_Prim_ZTildedecl (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_prim_Prim_ZTildearity (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_token_Token_ZTildevalue (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_token_Token_ZTildemodule (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_token_Token_ZTilderow (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_token_Token_ZTildecol (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_module_Module_ZTildepackage (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_module_Module_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_module_Module_ZTildepath (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_module_Module_ZTildestart (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_module_Module_ZTildeend (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_module_Module_ZTildeimports (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_alias_Alias_ZTildehead (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_alias_Alias_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_alias_Alias_ZTildearity (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_alias_Alias_ZTildeqname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_alias_Alias_ZTildetarget (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_name_Name_ZTildeStr (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_name_Name_ZTildedefs (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_name_Name_ZTildemangled (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_name_Name_ZTildelabel (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_package_Package_ZTildename (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_package_Package_ZTildepath (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildeoutputZ_type (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildespZ_checked (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_arrow_Block_ZTildespZ_checked (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildespZ_synthed (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildewordZ_cname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildepatZ_cname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_buffer_Buffer_ZTildecname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_variable_Variable_ZTildecname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_table_Field_ZTildecname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildecname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_prim_Prim_ZTildecname (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_external_External_ZTildec99Z_api (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildevalueZ_show (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildewordZ_c99Z_api (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_data_Tag_ZTildepatZ_c99Z_api (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static void* mfld_mirth_word_Word_ZTildec99Z_api (uint64_t i) {
	static struct VAL * p = 0;
	size_t m = 524288;
	if (! p) { p = calloc(m, sizeof *p); }
	EXPECT(i<m, "table grew too big");
	return (void*)(p+i);
}

static VAL mw_std_either_Either_2_leftZAsk (VAL in_Either_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			decref(v6);
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_std_either_Either_2_rightZAsk (VAL in_Either_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			decref(v4);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_std_byte_Byte_toZ_strZ_unsafe (int64_t in_Byte_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mtw_std_list_List_1_Cons(MKI64(in_Byte_1), v3);
	VAL v5 = mw_std_prim_Str_fromZ_bytesZ_unsafe(v4);
	return v5;
}
static VAL mw_std_byte_Byte_toZ_asciiZ_str (int64_t in_Byte_1) {
	int64_t v3 = 0LL /* BNUL */;
	int64_t v4 = 127LL /* BDEL */;
	bool v5 = (in_Byte_1 >= v3);
	bool v6 = (in_Byte_1 <= v4);
	bool v7 = (v5 && v6);
	VAL branch_Maybe_8;
	if (v7) {
		VAL v9 = mw_std_byte_Byte_toZ_strZ_unsafe(in_Byte_1);
		VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
		branch_Maybe_8 = v10;
	} else {
		VAL v11 = MKI64(0LL /* None */);
		branch_Maybe_8 = v11;
	}
	return branch_Maybe_8;
}
static int64_t mw_std_byte_Byte_isZ_stringZ_end (int64_t in_Byte_1) {
	int64_t branch_Bool_3;
	switch (in_Byte_1) {
		case 34LL: { // BQUOTE
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		case 10LL: { // BLF
			int64_t v5 = 1LL /* True */;
			branch_Bool_3 = v5;
		} break;
		case 0LL: { // BNUL
			int64_t v6 = 1LL /* True */;
			branch_Bool_3 = v6;
		} break;
		default: {
			int64_t v7 = 0LL /* False */;
			branch_Bool_3 = v7;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_std_byte_Byte_toZ_hexdigits (int64_t in_Byte_1, int64_t *out_Byte_3) {
	int64_t v4 = 4LL;
	uint64_t v5 = u64_shr(((uint64_t)in_Byte_1), ((uint64_t)v4));
	int64_t v6 = mw_std_byte_oneZ_hexdigitZ_byte(((int64_t)v5));
	int64_t v7 = 15LL;
	uint64_t v8 = (((uint64_t)in_Byte_1) & ((uint64_t)v7));
	int64_t v9 = mw_std_byte_oneZ_hexdigitZ_byte(((int64_t)v8));
	*out_Byte_3 = v9;
	return v6;
}
static int64_t mw_std_byte_oneZ_hexdigitZ_byte (int64_t in_Int_1) {
	int64_t v3 = 9LL;
	bool v4 = (in_Int_1 > v3);
	int64_t branch_Int_5;
	VAL branch__6;
	if (v4) {
		int64_t v7 = 55LL;
		branch__6 = MKI64(v7);
		branch_Int_5 = in_Int_1;
	} else {
		int64_t v8 = 48LL;
		branch__6 = MKI64(v8);
		branch_Int_5 = in_Int_1;
	}
	int64_t v9 = i64_add(branch_Int_5, value_i64(branch__6));
	return v9;
}
static int64_t mw_std_byte_Byte_isZ_nameZ_byte (int64_t in_Byte_1) {
	int64_t branch_Bool_3;
	switch (in_Byte_1) {
		case 40LL: { // BLPAREN
			int64_t v4 = 0LL /* False */;
			branch_Bool_3 = v4;
		} break;
		case 41LL: { // BRPAREN
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
		case 91LL: { // BLSQUARE
			int64_t v6 = 0LL /* False */;
			branch_Bool_3 = v6;
		} break;
		case 93LL: { // BRSQUARE
			int64_t v7 = 0LL /* False */;
			branch_Bool_3 = v7;
		} break;
		case 123LL: { // BLCURLY
			int64_t v8 = 0LL /* False */;
			branch_Bool_3 = v8;
		} break;
		case 125LL: { // BRCURLY
			int64_t v9 = 0LL /* False */;
			branch_Bool_3 = v9;
		} break;
		case 44LL: { // BCOMMA
			int64_t v10 = 0LL /* False */;
			branch_Bool_3 = v10;
		} break;
		case 34LL: { // BQUOTE
			int64_t v11 = 0LL /* False */;
			branch_Bool_3 = v11;
		} break;
		case 58LL: { // BCOLON
			int64_t v12 = 0LL /* False */;
			branch_Bool_3 = v12;
		} break;
		case 127LL: { // BDEL
			int64_t v13 = 0LL /* False */;
			branch_Bool_3 = v13;
		} break;
		default: {
			int64_t v14 = 32LL /* BSPACE */;
			bool v15 = (in_Byte_1 > v14);
			branch_Bool_3 = ((int64_t)v15);
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_std_byte_Byte_zzencode (int64_t in_Byte_1) {
	VAL branch_Str_3;
	switch (in_Byte_1) {
		case 38LL: { // B'&'
			STR* v4;
			STRLIT(v4, "ZAmp", 4);
			branch_Str_3 = MKSTR(v4);
		} break;
		case 63LL: { // B'?'
			STR* v5;
			STRLIT(v5, "ZAsk", 4);
			branch_Str_3 = MKSTR(v5);
		} break;
		case 64LL: { // B'@'
			STR* v6;
			STRLIT(v6, "ZAt", 3);
			branch_Str_3 = MKSTR(v6);
		} break;
		case 92LL: { // B'\'
			STR* v7;
			STRLIT(v7, "ZBSlash", 7);
			branch_Str_3 = MKSTR(v7);
		} break;
		case 33LL: { // B'!'
			STR* v8;
			STRLIT(v8, "ZBang", 5);
			branch_Str_3 = MKSTR(v8);
		} break;
		case 94LL: { // B'^'
			STR* v9;
			STRLIT(v9, "ZCaret", 6);
			branch_Str_3 = MKSTR(v9);
		} break;
		case 58LL: { // BCOLON
			STR* v10;
			STRLIT(v10, "ZColon", 6);
			branch_Str_3 = MKSTR(v10);
		} break;
		case 44LL: { // BCOMMA
			STR* v11;
			STRLIT(v11, "ZComma", 6);
			branch_Str_3 = MKSTR(v11);
		} break;
		case 47LL: { // B'/'
			STR* v12;
			STRLIT(v12, "ZDiv", 4);
			branch_Str_3 = MKSTR(v12);
		} break;
		case 36LL: { // B'$'
			STR* v13;
			STRLIT(v13, "ZDollar", 7);
			branch_Str_3 = MKSTR(v13);
		} break;
		case 46LL: { // BDOT
			STR* v14;
			STRLIT(v14, "ZDot", 4);
			branch_Str_3 = MKSTR(v14);
		} break;
		case 61LL: { // B'='
			STR* v15;
			STRLIT(v15, "ZEqual", 6);
			branch_Str_3 = MKSTR(v15);
		} break;
		case 35LL: { // BHASH
			STR* v16;
			STRLIT(v16, "ZHash", 5);
			branch_Str_3 = MKSTR(v16);
		} break;
		case 123LL: { // BLCURLY
			STR* v17;
			STRLIT(v17, "ZLCurly", 7);
			branch_Str_3 = MKSTR(v17);
		} break;
		case 40LL: { // BLPAREN
			STR* v18;
			STRLIT(v18, "ZLParen", 7);
			branch_Str_3 = MKSTR(v18);
		} break;
		case 91LL: { // BLSQUARE
			STR* v19;
			STRLIT(v19, "ZLSquare", 8);
			branch_Str_3 = MKSTR(v19);
		} break;
		case 60LL: { // B'<'
			STR* v20;
			STRLIT(v20, "ZLess", 5);
			branch_Str_3 = MKSTR(v20);
		} break;
		case 37LL: { // B'%'
			STR* v21;
			STRLIT(v21, "ZMod", 4);
			branch_Str_3 = MKSTR(v21);
		} break;
		case 42LL: { // B'*'
			STR* v22;
			STRLIT(v22, "ZMul", 4);
			branch_Str_3 = MKSTR(v22);
		} break;
		case 124LL: { // B'|'
			STR* v23;
			STRLIT(v23, "ZPipe", 5);
			branch_Str_3 = MKSTR(v23);
		} break;
		case 43LL: { // B'+'
			STR* v24;
			STRLIT(v24, "ZPlus", 5);
			branch_Str_3 = MKSTR(v24);
		} break;
		case 34LL: { // BQUOTE
			STR* v25;
			STRLIT(v25, "ZQuote", 6);
			branch_Str_3 = MKSTR(v25);
		} break;
		case 125LL: { // BRCURLY
			STR* v26;
			STRLIT(v26, "ZRCurly", 7);
			branch_Str_3 = MKSTR(v26);
		} break;
		case 41LL: { // BRPAREN
			STR* v27;
			STRLIT(v27, "ZRParen", 7);
			branch_Str_3 = MKSTR(v27);
		} break;
		case 93LL: { // BRSQUARE
			STR* v28;
			STRLIT(v28, "ZRSquare", 8);
			branch_Str_3 = MKSTR(v28);
		} break;
		case 59LL: { // B';'
			STR* v29;
			STRLIT(v29, "ZThen", 5);
			branch_Str_3 = MKSTR(v29);
		} break;
		case 39LL: { // BTICK
			STR* v30;
			STRLIT(v30, "ZTick", 5);
			branch_Str_3 = MKSTR(v30);
		} break;
		case 126LL: { // B'~'
			STR* v31;
			STRLIT(v31, "ZTilde", 6);
			branch_Str_3 = MKSTR(v31);
		} break;
		case 62LL: { // B'>'
			STR* v32;
			STRLIT(v32, "ZTo", 3);
			branch_Str_3 = MKSTR(v32);
		} break;
		case 90LL: { // B'Z'
			STR* v33;
			STRLIT(v33, "ZZ", 2);
			branch_Str_3 = MKSTR(v33);
		} break;
		case 45LL: { // B'-'
			STR* v34;
			STRLIT(v34, "Z_", 2);
			branch_Str_3 = MKSTR(v34);
		} break;
		case 122LL: { // B'z'
			STR* v35;
			STRLIT(v35, "zz", 2);
			branch_Str_3 = MKSTR(v35);
		} break;
		case 95LL: { // B'_'
			STR* v36;
			STRLIT(v36, "z_", 2);
			branch_Str_3 = MKSTR(v36);
		} break;
		default: {
			int64_t v37 = 48LL /* B'0' */;
			int64_t v38 = 57LL /* B'9' */;
			bool v39 = (in_Byte_1 >= v37);
			bool v40 = (in_Byte_1 <= v38);
			bool v41 = (v39 && v40);
			int64_t v42 = 65LL /* B'A' */;
			int64_t v43 = 90LL /* B'Z' */;
			bool v44 = (in_Byte_1 >= v42);
			bool v45 = (in_Byte_1 <= v43);
			bool v46 = (v44 && v45);
			int64_t v47 = 97LL /* B'a' */;
			int64_t v48 = 122LL /* B'z' */;
			bool v49 = (in_Byte_1 >= v47);
			bool v50 = (in_Byte_1 <= v48);
			bool v51 = (v49 && v50);
			bool v52 = (v46 || v51);
			bool v53 = (v41 || v52);
			VAL branch_Str_54;
			if (v53) {
				VAL v55 = mw_std_byte_Byte_toZ_strZ_unsafe(in_Byte_1);
				branch_Str_54 = v55;
			} else {
				STR* v56;
				STRLIT(v56, "", 0);
				STR* v57;
				STRLIT(v57, "Z", 1);
				VAL v58;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v57), MKSTR(v56), &v58);
				STR* v59 = i64_show(in_Byte_1);
				VAL v60;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v59), v58, &v60);
				STR* v61;
				STRLIT(v61, "U", 1);
				VAL v62;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v61), v60, &v62);
				branch_Str_54 = v62;
			}
			branch_Str_3 = branch_Str_54;
		} break;
	}
	return branch_Str_3;
}
static void mw_std_buffer_ZPlusBuffer_new (int64_t in_USizze_1, VAL *out_ZPlusBuffer_2) {
	int64_t v3 = 0LL /* +Unsafe */;
	void* v4 = ptr_alloc(((uint64_t)in_USizze_1));;
	VAL v5;
	mtw_std_buffer_ZPlusBuffer_ZPlusBuffer(in_USizze_1, v4, &v5);
	int64_t v6 = 0LL;
	int64_t v7 = value_i64(VTUP(v5)->cells[1]);
	VAL v8;
	mw_std_buffer_ZPlusBuffer_eraseZ_spanZBang(v6, v7, v5, &v8);
	*out_ZPlusBuffer_2 = v8;
}
static void mw_std_buffer_ZPlusBuffer_resizzeZBang (int64_t in_USizze_1, VAL in_ZPlusBuffer_2, VAL *out_ZPlusBuffer_3) {
	int64_t v4 = value_i64(VTUP(in_ZPlusBuffer_2)->cells[1]);
	VTUP(in_ZPlusBuffer_2)->cells[1] = MKI64(in_USizze_1);
	int64_t v5 = value_i64(VTUP(in_ZPlusBuffer_2)->cells[1]);
	void* v6 = value_ptr(VTUP(in_ZPlusBuffer_2)->cells[2]);
	int64_t v7 = 0LL /* +Unsafe */;
	void* v8 = ptr_realloc(v6,((uint64_t)v5));
	VTUP(in_ZPlusBuffer_2)->cells[2] = MKPTR(v8);
	int64_t v9 = value_i64(VTUP(in_ZPlusBuffer_2)->cells[1]);
	int64_t v10 = i64_sub(v9, v4);
	int64_t v11 = 0LL;
	bool v12 = (v10 < v11);
	VAL branch_ZPlusBuffer_13;
	if (v12) {
		branch_ZPlusBuffer_13 = in_ZPlusBuffer_2;
	} else {
		VAL v14;
		mw_std_buffer_ZPlusBuffer_eraseZ_spanZBang(v4, v10, in_ZPlusBuffer_2, &v14);
		branch_ZPlusBuffer_13 = v14;
	}
	*out_ZPlusBuffer_3 = branch_ZPlusBuffer_13;
}
static void mw_std_buffer_ZPlusBuffer_expandZBang (int64_t in_USizze_1, VAL in_ZPlusBuffer_2, VAL *out_ZPlusBuffer_3) {
	int64_t v4 = value_i64(VTUP(in_ZPlusBuffer_2)->cells[1]);
	bool v5 = (in_USizze_1 > v4);
	VAL branch_ZPlusBuffer_6;
	if (v5) {
		int64_t v7 = value_i64(VTUP(in_ZPlusBuffer_2)->cells[1]);
		int64_t v8 = 2LL;
		int64_t v9 = i64_mul(v7, v8);
		int64_t v10 = mw_std_prim_Int_max(in_USizze_1, v9);
		VAL v11;
		mw_std_buffer_ZPlusBuffer_resizzeZBang(v10, in_ZPlusBuffer_2, &v11);
		branch_ZPlusBuffer_6 = v11;
	} else {
		branch_ZPlusBuffer_6 = in_ZPlusBuffer_2;
	}
	*out_ZPlusBuffer_3 = branch_ZPlusBuffer_6;
}
static void mw_std_buffer_ZPlusBuffer_rdrop (VAL in_ZPlusBuffer_1) {
	int64_t v2;
	void* v3;
	mtp_std_buffer_ZPlusBuffer_ZPlusBuffer(in_ZPlusBuffer_1, &v2, &v3);
	int64_t v4 = 0LL /* +Unsafe */;
	free(v3);
}
static void mw_std_buffer_ZPlusBuffer_eraseZ_spanZBang (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_4) {
	int64_t v5;
	VAL v6;
	int64_t v7 = mw_std_buffer_ZPlusBuffer_clampZ_spanZBang(in_UOffset_1, in_USizze_2, in_ZPlusBuffer_3, &v5, &v6);
	void* v8 = value_ptr(VTUP(v6)->cells[2]);
	int64_t v9 = 0LL /* +Unsafe */;
	void* v10 = (void*)(v7 + (char*)v8);
	int64_t v11 = 0LL;
	ptr_fill(((uint8_t)v11), ((uint64_t)v5), v10);
	*out_ZPlusBuffer_4 = v6;
}
static int64_t mw_std_buffer_ZPlusBuffer_clampZ_spanZBang (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusBuffer_3, int64_t *out_USizze_5, VAL *out_ZPlusBuffer_6) {
	int64_t v7 = value_i64(VTUP(in_ZPlusBuffer_3)->cells[1]);
	int64_t v8 = i64_sub(v7, in_UOffset_1);
	int64_t v9 = 0LL;
	bool v10 = (v8 < v9);
	VAL branch_ZPlusBuffer_11;
	int64_t branch_UOffset_12;
	int64_t branch_USizze_13;
	if (v10) {
		int64_t v14 = value_i64(VTUP(in_ZPlusBuffer_3)->cells[1]);
		int64_t v15 = 0LL;
		branch_USizze_13 = v15;
		branch_UOffset_12 = v14;
		branch_ZPlusBuffer_11 = in_ZPlusBuffer_3;
	} else {
		int64_t v16 = mw_std_prim_Int_min(v8, in_USizze_2);
		branch_USizze_13 = v16;
		branch_UOffset_12 = in_UOffset_1;
		branch_ZPlusBuffer_11 = in_ZPlusBuffer_3;
	}
	*out_ZPlusBuffer_6 = branch_ZPlusBuffer_11;
	*out_USizze_5 = branch_USizze_13;
	return branch_UOffset_12;
}
static int64_t mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_5) {
	int64_t v6 = i64_add(in_USizze_2, in_UOffset_1);
	VAL v7;
	mw_std_buffer_ZPlusBuffer_expandZBang(v6, in_ZPlusBuffer_3, &v7);
	*out_ZPlusBuffer_5 = v7;
	return in_UOffset_1;
}
static int64_t mw_std_buffer_ZPlusBuffer_ZAtU8 (int64_t in_UOffset_1, VAL in_ZPlusBuffer_2, VAL *out_ZPlusBuffer_4) {
	int64_t v5 = 1LL;
	VAL v6;
	int64_t v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_UOffset_1, v5, in_ZPlusBuffer_2, &v6);
	void* v8 = value_ptr(VTUP(v6)->cells[2]);
	int64_t v9 = 0LL /* +Unsafe */;
	void* v10 = (void*)(v7 + (char*)v8);
	uint8_t v11 = *(uint8_t*)v10;
	*out_ZPlusBuffer_4 = v6;
	return ((int64_t)v11);
}
static void mw_std_buffer_ZPlusBuffer_ZBangU8 (int64_t in_U8_1, int64_t in_UOffset_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_4) {
	int64_t v5 = 1LL;
	VAL v6;
	int64_t v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_UOffset_2, v5, in_ZPlusBuffer_3, &v6);
	void* v8 = value_ptr(VTUP(v6)->cells[2]);
	int64_t v9 = 0LL /* +Unsafe */;
	void* v10 = (void*)(v7 + (char*)v8);
	*(uint8_t*)v10 = ((uint8_t)in_U8_1);
	*out_ZPlusBuffer_4 = v6;
}
static void mw_std_buffer_ZPlusBuffer_ZBangByte (int64_t in_Byte_1, int64_t in_UOffset_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_4) {
	VAL v5;
	mw_std_buffer_ZPlusBuffer_ZBangU8(in_Byte_1, in_UOffset_2, in_ZPlusBuffer_3, &v5);
	*out_ZPlusBuffer_4 = v5;
}
static void mw_std_buffer_ZPlusBuffer_ZBangStr (VAL in_Str_1, int64_t in_UOffset_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_4) {
	incref(in_Str_1);
	uint64_t v5 = str_size(value_str(in_Str_1));
	VAL v6;
	int64_t v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_UOffset_2, ((int64_t)v5), in_ZPlusBuffer_3, &v6);
	void* v8 = value_ptr(VTUP(v6)->cells[2]);
	int64_t v9 = 0LL /* +Unsafe */;
	void* v10 = (void*)(v7 + (char*)v8);
	mw_std_prim_Ptr_ZBangStr(in_Str_1, v10);
	*out_ZPlusBuffer_4 = v6;
}
static VAL mw_std_buffer_ZPlusBuffer_ZAtStr (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusBuffer_3, VAL *out_ZPlusBuffer_5) {
	VAL v6;
	int64_t v7 = mw_std_buffer_ZPlusBuffer_prepareZ_spanZBang(in_UOffset_1, in_USizze_2, in_ZPlusBuffer_3, &v6);
	void* v8 = value_ptr(VTUP(v6)->cells[2]);
	int64_t v9 = 0LL /* +Unsafe */;
	void* v10 = (void*)(v7 + (char*)v8);
	STR* v11 = str_make(v10, ((uint64_t)in_USizze_2));
	*out_ZPlusBuffer_5 = v6;
	return MKSTR(v11);
}
static void mw_std_prim_Ptr_ZBangStr (VAL in_Str_1, void* in_Ptr_2) {
	incref(in_Str_1);
	incref(in_Str_1);
	void* v5 = str_base(value_str(in_Str_1));
	uint64_t v6 = str_size(value_str(in_Str_1));
	ptr_copy(v5, v6, in_Ptr_2);
	decref(in_Str_1);
}
static int64_t mw_std_prim_Str_lastZ_byte (VAL in_Str_1) {
	incref(in_Str_1);
	uint64_t v3 = str_size(value_str(in_Str_1));
	int64_t v4 = 1LL;
	int64_t v5 = i64_sub(((int64_t)v3), v4);
	int64_t v6 = 0LL;
	bool v7 = (v5 < v6);
	int64_t branch_Byte_8;
	if (v7) {
		decref(in_Str_1);
		int64_t v9 = 0LL /* BNUL */;
		branch_Byte_8 = v9;
	} else {
		int64_t v10 = mw_std_prim_Str_byteZAt(v5, in_Str_1);
		branch_Byte_8 = v10;
	}
	return branch_Byte_8;
}
static int64_t mw_std_str_ZPlusStr_lastZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	incref(in_ZPlusStr_1);
	int64_t v4 = mw_std_prim_Str_lastZ_byte(in_ZPlusStr_1);
	*out_ZPlusStr_3 = in_ZPlusStr_1;
	return v4;
}
static int64_t mw_std_str_ZPlusStr_byteZAt (int64_t in_UOffset_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_4) {
	incref(in_ZPlusStr_2);
	int64_t v5 = mw_std_prim_Str_byteZAt(in_UOffset_1, in_ZPlusStr_2);
	*out_ZPlusStr_4 = in_ZPlusStr_2;
	return v5;
}
static int64_t mw_std_str_offsetZ_inZ_bounds (int64_t in_UOffset_1, int64_t in_USizze_2) {
	int64_t v4 = 0LL;
	bool v5 = (in_UOffset_1 >= v4);
	bool v6 = (in_UOffset_1 <= in_USizze_2);
	bool v7 = (v5 && v6);
	return ((int64_t)v7);
}
static int64_t mw_std_prim_Str_byteZAt (int64_t in_UOffset_1, VAL in_Str_2) {
	incref(in_Str_2);
	incref(in_Str_2);
	void* v4 = str_base(value_str(in_Str_2));
	uint64_t v5 = str_size(value_str(in_Str_2));
	int64_t v6 = mw_std_str_offsetZ_inZ_bounds(in_UOffset_1, ((int64_t)v5));
	int64_t branch_Byte_7;
	if (((bool)v6)) {
		int64_t v8 = 0LL /* +Unsafe */;
		void* v9 = (void*)(in_UOffset_1 + (char*)v4);
		uint8_t v10 = *(uint8_t*)v9;
		branch_Byte_7 = ((int64_t)v10);
	} else {
		int64_t v11 = 0LL /* BNUL */;
		branch_Byte_7 = v11;
	}
	decref(in_Str_2);
	return branch_Byte_7;
}
static void mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang (int64_t in_Byte_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	VAL v4 = mw_std_byte_Byte_toZ_strZ_unsafe(in_Byte_1);
	VAL v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(v4, in_ZPlusStr_2, &v5);
	*out_ZPlusStr_3 = v5;
}
static void mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang (int64_t in_Byte_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	VAL v4 = mw_std_byte_Byte_toZ_asciiZ_str(in_Byte_1);
	VAL branch_ZPlusStr_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			VAL v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(v6, in_ZPlusStr_2, &v7);
			branch_ZPlusStr_5 = v7;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_5 = in_ZPlusStr_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_5;
}
static void mw_std_str_ZPlusStr_pushZ_strZBang (VAL in_Str_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	STR* v4 = str_cat(value_str(in_ZPlusStr_2), value_str(in_Str_1));
	*out_ZPlusStr_3 = MKSTR(v4);
}
static VAL mw_std_prim_Str_dropZ_bytes (int64_t in_USizze_1, VAL in_Str_2) {
	incref(in_Str_2);
	incref(in_Str_2);
	void* v6 = str_base(value_str(in_Str_2));
	uint64_t v7 = str_size(value_str(in_Str_2));
	int64_t v8 = i64_sub(((int64_t)v7), in_USizze_1);
	int64_t v9 = 0LL;
	bool v10 = (v8 < v9);
	VAL branch__11;
	if (v10) {
		STR* v12;
		STRLIT(v12, "", 0);
		branch__11 = MKSTR(v12);
	} else {
		void* v13 = (void*)(in_USizze_1 + (char*)v6);
		STR* v14 = str_make(v13, ((uint64_t)v8));
		branch__11 = MKSTR(v14);
	}
	decref(in_Str_2);
	return branch__11;
}
static VAL mw_std_prim_Str_fromZ_bytesZ_unsafe (VAL in_List_1) {
	incref(in_List_1);
	int64_t v3 = mw_std_list_List_1_len(in_List_1);
	VAL v4;
	mw_std_buffer_ZPlusBuffer_new(v3, &v4);
	int64_t v5 = 0LL;
	int64_t v6 = 1LL /* True */;
	VAL v7 = v4;
	int64_t v8 = v5;
	VAL v9 = in_List_1;
	int64_t v10 = v6;
	int64_t v11 = v6;
	while (((bool)v11)) {
		VAL v12 = v7;
		int64_t v13 = v8;
		VAL v14 = v9;
		int64_t v15 = v10;
		VAL branch_ZPlusBuffer_16;
		int64_t branch_UOffset_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				VAL v22;
				mw_std_buffer_ZPlusBuffer_ZBangU8(value_i64(v21), v13, v12, &v22);
				int64_t v23 = 1LL;
				int64_t v24 = i64_add(v13, v23);
				int64_t v25 = 1LL /* True */;
				branch_Bool_19 = v25;
				branch_List_18 = v20;
				branch_UOffset_17 = v24;
				branch_ZPlusBuffer_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_19 = v27;
				branch_List_18 = v26;
				branch_UOffset_17 = v13;
				branch_ZPlusBuffer_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_UOffset_17;
		v7 = branch_ZPlusBuffer_16;
	}
	decref(v9);
	void* v28 = value_ptr(VTUP(v7)->cells[2]);
	int64_t v29 = value_i64(VTUP(v7)->cells[1]);
	int64_t v30 = 0LL /* +Unsafe */;
	STR* v31 = str_make(v28, ((uint64_t)v29));
	mw_std_buffer_ZPlusBuffer_rdrop(v7);
	return MKSTR(v31);
}
static int64_t mw_std_str_clampZ_sliceZ_offsetZ_sizze (int64_t in_UOffset_1, int64_t in_USizze_2, int64_t in_USizze_3, int64_t *out_USizze_5) {
	int64_t v6 = mw_std_prim_Int_min(in_UOffset_1, in_USizze_3);
	int64_t v7 = i64_sub(in_USizze_3, v6);
	int64_t v8 = 0LL;
	bool v9 = (v7 < v8);
	int64_t branch_USizze_10;
	if (v9) {
		int64_t v11 = 0LL;
		branch_USizze_10 = v11;
	} else {
		int64_t v12 = mw_std_prim_Int_min(in_USizze_2, v7);
		branch_USizze_10 = v12;
	}
	*out_USizze_5 = branch_USizze_10;
	return v6;
}
static VAL mw_std_prim_Str_slice (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_Str_3) {
	incref(in_Str_3);
	incref(in_Str_3);
	void* v7 = str_base(value_str(in_Str_3));
	uint64_t v8 = str_size(value_str(in_Str_3));
	int64_t v9;
	int64_t v10 = mw_std_str_clampZ_sliceZ_offsetZ_sizze(in_UOffset_1, in_USizze_2, ((int64_t)v8), &v9);
	void* v11 = (void*)(v10 + (char*)v7);
	STR* v12 = str_make(v11, ((uint64_t)v9));
	decref(in_Str_3);
	return MKSTR(v12);
}
static VAL mw_std_prim_Str_dropZ_slice (int64_t in_UOffset_1, VAL in_Str_2) {
	VAL v6;
	VAL v7 = mw_std_str_ZPlusStr_dropZ_slice(in_UOffset_1, in_Str_2, &v6);
	decref(v6);
	return v7;
}
static VAL mw_std_prim_Str_takeZ_slice (int64_t in_USizze_1, VAL in_Str_2) {
	VAL v6;
	VAL v7 = mw_std_str_ZPlusStr_takeZ_slice(in_USizze_1, in_Str_2, &v6);
	decref(v6);
	return v7;
}
static VAL mw_std_str_ZPlusStr_slice (int64_t in_UOffset_1, int64_t in_USizze_2, VAL in_ZPlusStr_3, VAL *out_ZPlusStr_5) {
	incref(in_ZPlusStr_3);
	VAL v8 = mw_std_prim_Str_slice(in_UOffset_1, in_USizze_2, in_ZPlusStr_3);
	*out_ZPlusStr_5 = in_ZPlusStr_3;
	return v8;
}
static VAL mw_std_str_ZPlusStr_offsetZ_slice (int64_t in_UOffset_1, int64_t in_UOffset_2, VAL in_ZPlusStr_3, VAL *out_ZPlusStr_5) {
	int64_t v8 = i64_sub(in_UOffset_2, in_UOffset_1);
	int64_t v9 = 0LL;
	bool v10 = (v8 < v9);
	VAL branch_ZPlusStr_11;
	VAL branch__12;
	if (v10) {
		STR* v13;
		STRLIT(v13, "", 0);
		branch__12 = MKSTR(v13);
		branch_ZPlusStr_11 = in_ZPlusStr_3;
	} else {
		VAL v14;
		VAL v15 = mw_std_str_ZPlusStr_slice(in_UOffset_1, v8, in_ZPlusStr_3, &v14);
		branch__12 = v15;
		branch_ZPlusStr_11 = v14;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_11;
	return branch__12;
}
static VAL mw_std_str_ZPlusStr_takeZ_slice (int64_t in_USizze_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_4) {
	int64_t v7 = 0LL;
	VAL v8;
	VAL v9 = mw_std_str_ZPlusStr_slice(v7, in_USizze_1, in_ZPlusStr_2, &v8);
	*out_ZPlusStr_4 = v8;
	return v9;
}
static VAL mw_std_str_ZPlusStr_dropZ_slice (int64_t in_UOffset_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_4) {
	incref(in_ZPlusStr_2);
	uint64_t v7 = str_size(value_str(in_ZPlusStr_2));
	VAL v8;
	VAL v9 = mw_std_str_ZPlusStr_slice(in_UOffset_1, ((int64_t)v7), in_ZPlusStr_2, &v8);
	*out_ZPlusStr_4 = v8;
	return v9;
}
static VAL mw_std_str_ZPlusStr_splitZ_byte (int64_t in_Byte_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_4) {
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6 = mw_std_list_List_1_reverse(v5);
	int64_t v7 = 0LL;
	incref(in_ZPlusStr_2);
	uint64_t v8 = str_size(value_str(in_ZPlusStr_2));
	bool v9 = (v7 < ((int64_t)v8));
	int64_t v10 = in_Byte_1;
	int64_t v11 = v7;
	int64_t v12 = v7;
	VAL v13 = in_ZPlusStr_2;
	VAL v14 = v6;
	bool v15 = v9;
	while (v15) {
		int64_t v16 = v10;
		int64_t v17 = v11;
		int64_t v18 = v12;
		VAL v19 = v13;
		VAL v20 = v14;
		VAL v21;
		int64_t v22 = mw_std_str_ZPlusStr_byteZAt(v18, v19, &v21);
		bool v23 = (v22 == v16);
		int64_t branch_Byte_24;
		VAL branch_ZPlusStr_25;
		VAL branch_ZPlusList_26;
		int64_t branch_UOffset_27;
		int64_t branch_UOffset_28;
		if (v23) {
			int64_t v29 = 0LL /* +Unsafe */;
			VAL v30;
			VAL v31 = mw_std_str_ZPlusStr_offsetZ_slice(v17, v18, v21, &v30);
			VAL v32 = mtw_std_list_List_1_Cons(v31, v20);
			int64_t v33 = 1LL;
			int64_t v34 = i64_add(v18, v33);
			branch_UOffset_28 = v34;
			branch_UOffset_27 = v34;
			branch_ZPlusList_26 = v32;
			branch_ZPlusStr_25 = v30;
			branch_Byte_24 = v16;
		} else {
			int64_t v35 = 1LL;
			int64_t v36 = i64_add(v18, v35);
			branch_UOffset_28 = v36;
			branch_UOffset_27 = v17;
			branch_ZPlusList_26 = v20;
			branch_ZPlusStr_25 = v21;
			branch_Byte_24 = v16;
		}
		incref(branch_ZPlusStr_25);
		uint64_t v37 = str_size(value_str(branch_ZPlusStr_25));
		bool v38 = (branch_UOffset_28 < ((int64_t)v37));
		v15 = v38;
		v14 = branch_ZPlusList_26;
		v13 = branch_ZPlusStr_25;
		v12 = branch_UOffset_28;
		v11 = branch_UOffset_27;
		v10 = branch_Byte_24;
	}
	int64_t v39 = 0LL /* +Unsafe */;
	VAL v40;
	VAL v41 = mw_std_str_ZPlusStr_offsetZ_slice(v11, v12, v13, &v40);
	VAL v42 = mtw_std_list_ListZPlus_1_ListZPlus(v41, v14);
	VAL v43 = mw_std_list_ListZPlus_1_reverse(v42);
	*out_ZPlusStr_4 = v40;
	return v43;
}
static VAL mw_std_prim_Str_splitZ_byte (int64_t in_Byte_1, VAL in_Str_2) {
	VAL v4;
	VAL v5 = mw_std_str_ZPlusStr_splitZ_byte(in_Byte_1, in_Str_2, &v4);
	decref(v4);
	return v5;
}
static void mw_std_str_ZPlusStr_pushZ_showZ_byteZBang (VAL in_ZPlusStr_1, int64_t in_Bool_2, int64_t in_Byte_3, int64_t *out_Bool_4, VAL *out_ZPlusStr_5) {
	int64_t branch_Bool_6;
	VAL branch_ZPlusStr_7;
	switch (in_Byte_3) {
		case 34LL: { // BQUOTE
			STR* v8;
			STRLIT(v8, "\\\"", 2);
			VAL v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v8), in_ZPlusStr_1, &v9);
			int64_t v10 = 0LL /* False */;
			branch_ZPlusStr_7 = v9;
			branch_Bool_6 = v10;
		} break;
		case 92LL: { // B'\'
			STR* v11;
			STRLIT(v11, "\\\\", 2);
			VAL v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v11), in_ZPlusStr_1, &v12);
			int64_t v13 = 0LL /* False */;
			branch_ZPlusStr_7 = v12;
			branch_Bool_6 = v13;
		} break;
		case 10LL: { // BLF
			STR* v14;
			STRLIT(v14, "\n", 1);
			VAL v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v14), in_ZPlusStr_1, &v15);
			int64_t v16 = 0LL /* False */;
			branch_ZPlusStr_7 = v15;
			branch_Bool_6 = v16;
		} break;
		case 13LL: { // BCR
			STR* v17;
			STRLIT(v17, "\r", 1);
			VAL v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v17), in_ZPlusStr_1, &v18);
			int64_t v19 = 0LL /* False */;
			branch_ZPlusStr_7 = v18;
			branch_Bool_6 = v19;
		} break;
		case 9LL: { // BHT
			STR* v20;
			STRLIT(v20, "\t", 1);
			VAL v21;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v20), in_ZPlusStr_1, &v21);
			int64_t v22 = 0LL /* False */;
			branch_ZPlusStr_7 = v21;
			branch_Bool_6 = v22;
		} break;
		default: {
			int64_t v23 = 32LL /* BSPACE */;
			int64_t v24 = 126LL /* B'~' */;
			bool v25 = (in_Byte_3 >= v23);
			bool v26 = (in_Byte_3 <= v24);
			bool v27 = (v25 && v26);
			int64_t branch_Byte_28;
			int64_t branch_Bool_29;
			int64_t branch_Bool_30;
			if (v27) {
				int64_t branch_Byte_31;
				int64_t branch_Bool_32;
				if (((bool)in_Bool_2)) {
					int64_t v33 = 48LL /* B'0' */;
					int64_t v34 = 57LL /* B'9' */;
					bool v35 = (in_Byte_3 >= v33);
					bool v36 = (in_Byte_3 <= v34);
					bool v37 = (v35 && v36);
					int64_t v38 = 65LL /* B'A' */;
					int64_t v39 = 70LL /* B'F' */;
					bool v40 = (in_Byte_3 >= v38);
					bool v41 = (in_Byte_3 <= v39);
					bool v42 = (v40 && v41);
					int64_t v43 = 97LL /* B'a' */;
					int64_t v44 = 102LL /* B'f' */;
					bool v45 = (in_Byte_3 >= v43);
					bool v46 = (in_Byte_3 <= v44);
					bool v47 = (v45 && v46);
					bool v48 = (v42 || v47);
					bool v49 = (v37 || v48);
					branch_Bool_32 = ((int64_t)v49);
					branch_Byte_31 = in_Byte_3;
				} else {
					int64_t v50 = 0LL /* False */;
					branch_Bool_32 = v50;
					branch_Byte_31 = in_Byte_3;
				}
				bool v51 = !((bool)branch_Bool_32);
				branch_Bool_30 = ((int64_t)v51);
				branch_Bool_29 = in_Bool_2;
				branch_Byte_28 = branch_Byte_31;
			} else {
				int64_t v52 = 0LL /* False */;
				branch_Bool_30 = v52;
				branch_Bool_29 = in_Bool_2;
				branch_Byte_28 = in_Byte_3;
			}
			VAL branch_ZPlusStr_53;
			int64_t branch_Bool_54;
			if (((bool)branch_Bool_30)) {
				VAL v55;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(branch_Byte_28, in_ZPlusStr_1, &v55);
				int64_t v56 = 0LL /* False */;
				branch_Bool_54 = v56;
				branch_ZPlusStr_53 = v55;
			} else {
				STR* v57;
				STRLIT(v57, "\\x", 2);
				VAL v58;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v57), in_ZPlusStr_1, &v58);
				int64_t v59;
				int64_t v60 = mw_std_byte_Byte_toZ_hexdigits(branch_Byte_28, &v59);
				VAL v61;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v60, v58, &v61);
				VAL v62;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v59, v61, &v62);
				int64_t v63 = 1LL /* True */;
				branch_Bool_54 = v63;
				branch_ZPlusStr_53 = v62;
			}
			branch_ZPlusStr_7 = branch_ZPlusStr_53;
			branch_Bool_6 = branch_Bool_54;
		} break;
	}
	*out_ZPlusStr_5 = branch_ZPlusStr_7;
	*out_Bool_4 = branch_Bool_6;
}
static void mw_std_prim_Str_showZThen (VAL in_Str_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	STR* v4;
	STRLIT(v4, "\"", 1);
	VAL v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v4), in_ZPlusStr_2, &v5);
	int64_t v6 = 0LL /* False */;
	incref(in_Str_1);
	incref(in_Str_1);
	void* v7 = str_base(value_str(in_Str_1));
	uint64_t v8 = str_size(value_str(in_Str_1));
	int64_t v9 = 0LL;
	bool v10 = (((int64_t)v8) > v9);
	VAL v11 = v5;
	int64_t v12 = v6;
	void* v13 = v7;
	uint64_t v14 = v8;
	bool v15 = v10;
	while (v15) {
		VAL v16 = v11;
		int64_t v17 = v12;
		void* v18 = v13;
		uint64_t v19 = v14;
		int64_t v20 = 0LL /* +Unsafe */;
		uint8_t v21 = *(uint8_t*)v18;
		int64_t v22;
		VAL v23;
		mw_std_str_ZPlusStr_pushZ_showZ_byteZBang(v16, v17, ((int64_t)v21), &v22, &v23);
		int64_t v24 = 1LL;
		int64_t v25 = 0LL /* +Unsafe */;
		void* v26 = (void*)(v24 + (char*)v18);
		int64_t v27 = 1LL;
		int64_t v28 = i64_sub(((int64_t)v19), v27);
		int64_t v29 = 0LL;
		bool v30 = (v28 < v29);
		int64_t branch_Nat_31;
		if (v30) {
			int64_t v32 = 0LL;
			branch_Nat_31 = v32;
		} else {
			branch_Nat_31 = v28;
		}
		int64_t v33 = 0LL;
		bool v34 = (branch_Nat_31 > v33);
		v15 = v34;
		v14 = ((uint64_t)branch_Nat_31);
		v13 = v26;
		v12 = v22;
		v11 = v23;
	}
	decref(in_Str_1);
	STR* v35;
	STRLIT(v35, "\"", 1);
	VAL v36;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v35), v11, &v36);
	*out_ZPlusStr_3 = v36;
}
static VAL mw_std_list_L3 (VAL in_t_1, VAL in_t_2, VAL in_t_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6 = mtw_std_list_List_1_Cons(in_t_3, v5);
	VAL v7 = mtw_std_list_List_1_Cons(in_t_2, v6);
	VAL v8 = mtw_std_list_List_1_Cons(in_t_1, v7);
	return v8;
}
static VAL mw_std_list_L4 (VAL in_t_1, VAL in_t_2, VAL in_t_3, VAL in_t_4) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mtw_std_list_List_1_Cons(in_t_4, v6);
	VAL v8 = mtw_std_list_List_1_Cons(in_t_3, v7);
	VAL v9 = mtw_std_list_List_1_Cons(in_t_2, v8);
	VAL v10 = mtw_std_list_List_1_Cons(in_t_1, v9);
	return v10;
}
static VAL mw_std_list_L5 (VAL in_t_1, VAL in_t_2, VAL in_t_3, VAL in_t_4, VAL in_t_5) {
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8 = mtw_std_list_List_1_Cons(in_t_5, v7);
	VAL v9 = mtw_std_list_List_1_Cons(in_t_4, v8);
	VAL v10 = mtw_std_list_List_1_Cons(in_t_3, v9);
	VAL v11 = mtw_std_list_List_1_Cons(in_t_2, v10);
	VAL v12 = mtw_std_list_List_1_Cons(in_t_1, v11);
	return v12;
}
static int64_t mw_std_list_List_1_ZDivL0 (VAL in_List_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_List_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_std_list_List_1_ZDivL1 (VAL in_List_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_List_1)) {
		case 1LL: { // Cons
			VAL v4;
			VAL v5 = mtp_std_list_List_1_Cons(in_List_1, &v4);
			VAL branch_Maybe_6;
			switch (get_data_tag(v4)) {
				case 0LL: { // Nil
					VAL v7 = mtw_std_maybe_Maybe_1_Some(v5);
					branch_Maybe_6 = v7;
				} break;
				default: {
					decref(v4);
					decref(v5);
					VAL v8 = MKI64(0LL /* None */);
					branch_Maybe_6 = v8;
				} break;
			}
			branch_Maybe_3 = branch_Maybe_6;
		} break;
		default: {
			decref(in_List_1);
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_3 = v9;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_std_list_List_1_ZDivL2 (VAL in_List_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_List_1)) {
		case 1LL: { // Cons
			VAL v4;
			VAL v5 = mtp_std_list_List_1_Cons(in_List_1, &v4);
			VAL v6 = mw_std_list_List_1_ZDivL1(v4);
			VAL branch_Maybe_7;
			switch (get_data_tag(v6)) {
				case 1LL: { // Some
					VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
					TUP* v9 = tup_pack2(v5, v8);
					VAL v10 = mtw_std_maybe_Maybe_1_Some(MKTUP(v9, 2));
					branch_Maybe_7 = v10;
				} break;
				case 0LL: { // None
					decref(v5);
					VAL v11 = MKI64(0LL /* None */);
					branch_Maybe_7 = v11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_3 = branch_Maybe_7;
		} break;
		default: {
			decref(in_List_1);
			VAL v12 = MKI64(0LL /* None */);
			branch_Maybe_3 = v12;
		} break;
	}
	return branch_Maybe_3;
}
static int64_t mw_std_list_List_1_emptyZAsk (VAL in_List_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_List_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_std_list_List_1_len (VAL in_List_1) {
	int64_t v3 = 0LL;
	int64_t v4 = 1LL /* True */;
	int64_t v5 = v3;
	VAL v6 = in_List_1;
	int64_t v7 = v4;
	int64_t v8 = v4;
	while (((bool)v8)) {
		int64_t v9 = v5;
		VAL v10 = v6;
		int64_t v11 = v7;
		int64_t branch_Nat_12;
		VAL branch_List_13;
		int64_t branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				decref(v16);
				int64_t v17 = 1LL;
				int64_t v18 = i64_add(v9, v17);
				int64_t v19 = 1LL /* True */;
				branch_Bool_14 = v19;
				branch_List_13 = v15;
				branch_Nat_12 = v18;
			} break;
			case 0LL: { // Nil
				VAL v20 = MKI64(0LL /* Nil */);
				int64_t v21 = 0LL /* False */;
				branch_Bool_14 = v21;
				branch_List_13 = v20;
				branch_Nat_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_Nat_12;
	}
	decref(v6);
	return v5;
}
static VAL mw_std_list_ListZPlus_1_ZDivL1ZPlus (VAL in_ListZPlus_1) {
	VAL v3;
	VAL v4;
	mtp_std_list_ListZPlus_1_ListZPlus(in_ListZPlus_1, &v3, &v4);
	int64_t v5 = mw_std_list_List_1_ZDivL0(v4);
	VAL branch_Maybe_6;
	if (((bool)v5)) {
		VAL v7 = mtw_std_maybe_Maybe_1_Some(v3);
		branch_Maybe_6 = v7;
	} else {
		decref(v3);
		VAL v8 = MKI64(0LL /* None */);
		branch_Maybe_6 = v8;
	}
	return branch_Maybe_6;
}
static VAL mw_std_list_ListZPlus_1_ZDivL2ZPlus (VAL in_ListZPlus_1) {
	VAL v3;
	VAL v4;
	mtp_std_list_ListZPlus_1_ListZPlus(in_ListZPlus_1, &v3, &v4);
	VAL v5 = mw_std_list_List_1_ZDivL1(v4);
	VAL branch_z_x1_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v3);
			TUP* v9 = tup_pack2(v3, v8);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(MKTUP(v9, 2));
			branch_Maybe_7 = v10;
			branch_z_x1_6 = v3;
		} break;
		case 0LL: { // None
			VAL v11 = MKI64(0LL /* None */);
			branch_Maybe_7 = v11;
			branch_z_x1_6 = v3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(branch_z_x1_6);
	return branch_Maybe_7;
}
static VAL mw_std_list_List_1_ZToListZPlus (VAL in_List_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			VAL v4 = MKI64(0LL /* None */);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // Cons
			VAL v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			VAL v7 = mtw_std_list_ListZPlus_1_ListZPlus(v6, v5);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(v7);
			branch_Maybe_3 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_std_list_List_1_uncons (VAL in_List_1, VAL *out_List_3) {
	VAL branch_Maybe_4;
	VAL branch_List_5;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			VAL v6 = MKI64(0LL /* None */);
			VAL v7 = MKI64(0LL /* Nil */);
			branch_List_5 = v7;
			branch_Maybe_4 = v6;
		} break;
		case 1LL: { // Cons
			VAL v8;
			VAL v9 = mtp_std_list_List_1_Cons(in_List_1, &v8);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_List_5 = v8;
			branch_Maybe_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_3 = branch_List_5;
	return branch_Maybe_4;
}
static VAL mw_std_list_ListZPlus_1_uncons (VAL in_ListZPlus_1, VAL *out_List_3) {
	VAL v4;
	VAL v5;
	mtp_std_list_ListZPlus_1_ListZPlus(in_ListZPlus_1, &v4, &v5);
	*out_List_3 = v5;
	return v4;
}
static VAL mw_std_list_List_1_unsnoc (VAL in_List_1, VAL *out_Maybe_3) {
	VAL v4 = mw_std_list_List_1_reverse(in_List_1);
	VAL v5;
	VAL v6 = mw_std_list_List_1_uncons(v4, &v5);
	VAL v7 = mw_std_list_List_1_reverse(v5);
	*out_Maybe_3 = v6;
	return v7;
}
static VAL mw_std_list_ListZPlus_1_unsnoc (VAL in_ListZPlus_1, VAL *out_t_3) {
	VAL v4 = mw_std_list_ListZPlus_1_reverse(in_ListZPlus_1);
	VAL v5;
	VAL v6 = mw_std_list_ListZPlus_1_uncons(v4, &v5);
	VAL v7 = mw_std_list_List_1_reverse(v5);
	*out_t_3 = v6;
	return v7;
}
static VAL mw_std_list_List_1_cat (VAL in_List_1, VAL in_List_2) {
	VAL branch_List_4;
	switch (get_data_tag(in_List_2)) {
		case 0LL: { // Nil
			branch_List_4 = in_List_1;
		} break;
		default: {
			VAL v5 = mw_std_list_List_1_reverse(in_List_1);
			VAL v6 = mw_std_list_List_1_for_1_sp1(in_List_2, v5);
			branch_List_4 = v6;
		} break;
	}
	return branch_List_4;
}
static VAL mw_std_list_List_1_first (VAL in_List_1) {
	VAL v3 = mw_std_list_List_1_ZToListZPlus(in_List_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = VTUP(v5)->cells[1];
			incref(v6);
			decref(v5);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_4 = v7;
		} break;
		case 0LL: { // None
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_std_list_List_1_last (VAL in_List_1) {
	VAL v3 = mw_std_list_List_1_ZToListZPlus(in_List_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_std_list_ListZPlus_1_last(v5);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_4 = v7;
		} break;
		case 0LL: { // None
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_std_list_ListZPlus_1_first (VAL in_ListZPlus_1) {
	VAL v3 = VTUP(in_ListZPlus_1)->cells[1];
	incref(v3);
	decref(in_ListZPlus_1);
	return v3;
}
static VAL mw_std_list_ListZPlus_1_last (VAL in_ListZPlus_1) {
	VAL v3;
	VAL v4 = mw_std_list_ListZPlus_1_uncons(in_ListZPlus_1, &v3);
	int64_t v5 = 1LL /* True */;
	VAL v6 = v4;
	VAL v7 = v3;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_z_x1_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				decref(v10);
				int64_t v18 = 1LL /* True */;
				branch_Bool_15 = v18;
				branch_List_14 = v16;
				branch_z_x1_13 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				int64_t v20 = 0LL /* False */;
				branch_Bool_15 = v20;
				branch_List_14 = v19;
				branch_z_x1_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_z_x1_13;
	}
	decref(v7);
	return v6;
}
static VAL mw_std_list_List_1_reverse (VAL in_List_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mw_std_list_List_1_for_1_sp1(v3, in_List_1);
	return v4;
}
static VAL mw_std_list_ListZPlus_1_reverse (VAL in_ListZPlus_1) {
	VAL v3;
	VAL v4 = mw_std_list_ListZPlus_1_uncons(in_ListZPlus_1, &v3);
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6 = mtw_std_list_ListZPlus_1_ListZPlus(v4, v5);
	int64_t v7 = 1LL /* True */;
	VAL v8 = v6;
	VAL v9 = v3;
	int64_t v10 = v7;
	int64_t v11 = v7;
	while (((bool)v11)) {
		VAL v12 = v8;
		VAL v13 = v9;
		int64_t v14 = v10;
		VAL branch_ListZPlus_15;
		VAL branch_List_16;
		int64_t branch_Bool_17;
		switch (get_data_tag(v13)) {
			case 1LL: { // Cons
				VAL v18;
				VAL v19 = mtp_std_list_List_1_Cons(v13, &v18);
				VAL v20;
				VAL v21;
				mtp_std_list_ListZPlus_1_ListZPlus(v12, &v20, &v21);
				VAL v22 = mtw_std_list_List_1_Cons(v20, v21);
				VAL v23 = mtw_std_list_ListZPlus_1_ListZPlus(v19, v22);
				int64_t v24 = 1LL /* True */;
				branch_Bool_17 = v24;
				branch_List_16 = v18;
				branch_ListZPlus_15 = v23;
			} break;
			case 0LL: { // Nil
				VAL v25 = MKI64(0LL /* Nil */);
				int64_t v26 = 0LL /* False */;
				branch_Bool_17 = v26;
				branch_List_16 = v25;
				branch_ListZPlus_15 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_17;
		v10 = branch_Bool_17;
		v9 = branch_List_16;
		v8 = branch_ListZPlus_15;
	}
	decref(v9);
	return v8;
}
static VAL mw_std_prim_Int_range (int64_t in_Int_1, int64_t in_Int_2) {
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5 = mw_std_list_List_1_reverse(v4);
	bool v6 = (in_Int_1 <= in_Int_2);
	int64_t v7 = in_Int_1;
	int64_t v8 = in_Int_2;
	VAL v9 = v5;
	bool v10 = v6;
	while (v10) {
		int64_t v11 = v7;
		int64_t v12 = v8;
		VAL v13 = v9;
		int64_t v14 = 1LL;
		int64_t v15 = i64_add(v11, v14);
		VAL v16 = mtw_std_list_List_1_Cons(MKI64(v11), v13);
		bool v17 = (v15 <= v12);
		v10 = v17;
		v9 = v16;
		v8 = v12;
		v7 = v15;
	}
	VAL v18 = mw_std_list_List_1_reverse(v9);
	return v18;
}
static VAL mw_std_maybe_Maybe_1_ZToList (VAL in_Maybe_1) {
	VAL branch_List_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 0LL: { // None
			VAL v4 = MKI64(0LL /* Nil */);
			branch_List_3 = v4;
		} break;
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v6 = MKI64(0LL /* Nil */);
			VAL v7 = mtw_std_list_List_1_Cons(v5, v6);
			branch_List_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_3;
}
static VAL mw_std_maybe_Maybe_1_zzip (VAL in_Maybe_1, VAL in_Maybe_2) {
	VAL branch_Maybe_4;
	switch (get_data_tag(in_Maybe_2)) {
		case 0LL: { // None
			decref(in_Maybe_1);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_4 = v5;
		} break;
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL branch_Maybe_7;
			switch (get_data_tag(in_Maybe_1)) {
				case 0LL: { // None
					decref(v6);
					VAL v8 = MKI64(0LL /* None */);
					branch_Maybe_7 = v8;
				} break;
				case 1LL: { // Some
					VAL v9 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
					TUP* v10 = tup_pack2(v9, v6);
					VAL v11 = mtw_std_maybe_Maybe_1_Some(MKTUP(v10, 2));
					branch_Maybe_7 = v11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_4 = branch_Maybe_7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static int64_t mw_std_prim_Int_ZToOS (int64_t in_Int_1) {
	int64_t v3 = 1LL;
	int64_t v4 = 3LL;
	bool v5 = (in_Int_1 >= v3);
	bool v6 = (in_Int_1 <= v4);
	bool v7 = (v5 && v6);
	int64_t branch_OS_8;
	if (v7) {
		branch_OS_8 = in_Int_1;
	} else {
		int64_t v9 = 0LL /* OS_UNKNOWN */;
		branch_OS_8 = v9;
	}
	return branch_OS_8;
}
static int64_t mw_std_prim_Int_ZToArch (int64_t in_Int_1) {
	int64_t v3 = 1LL;
	int64_t v4 = 3LL;
	bool v5 = (in_Int_1 >= v3);
	bool v6 = (in_Int_1 <= v4);
	bool v7 = (v5 && v6);
	int64_t branch_Arch_8;
	if (v7) {
		branch_Arch_8 = in_Int_1;
	} else {
		int64_t v9 = 0LL /* ARCH_UNKNOWN */;
		branch_Arch_8 = v9;
	}
	return branch_Arch_8;
}
static int64_t mw_std_prim_Int_max (int64_t in_Int_1, int64_t in_Int_2) {
	bool v4 = (in_Int_1 < in_Int_2);
	int64_t branch_Int_5;
	if (v4) {
		branch_Int_5 = in_Int_2;
	} else {
		branch_Int_5 = in_Int_1;
	}
	return branch_Int_5;
}
static int64_t mw_std_prim_Int_min (int64_t in_Int_1, int64_t in_Int_2) {
	bool v4 = (in_Int_1 < in_Int_2);
	int64_t branch_Int_5;
	if (v4) {
		branch_Int_5 = in_Int_1;
	} else {
		branch_Int_5 = in_Int_2;
	}
	return branch_Int_5;
}
static VAL mw_std_prelude_ZAtZAsk (void* in_Mutt_1) {
	bool v3 = mut_is_set(in_Mutt_1);
	VAL branch_Maybe_4;
	if (v3) {
		VAL v5 = mut_get(in_Mutt_1);
		VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
		branch_Maybe_4 = v6;
	} else {
		VAL v7 = MKI64(0LL /* None */);
		branch_Maybe_4 = v7;
	}
	return branch_Maybe_4;
}
static void mw_std_prelude_impossibleZBang (void) {
	STR* v1;
	STRLIT(v1, "Impossible! The impossible has occured!", 39);
	do_panic(v1);
}
static VAL mw_std_path_PATHz_SEPARATOR (void) {
	int64_t v2 = RUNNING_OS;
	int64_t v3 = mw_std_prim_Int_ZToOS(v2);
	int64_t v4 = 1LL /* OS_WINDOWS */;
	bool v5 = (v3 == v4);
	VAL branch__6;
	if (v5) {
		STR* v7;
		STRLIT(v7, "\\", 1);
		branch__6 = MKSTR(v7);
	} else {
		STR* v8;
		STRLIT(v8, "/", 1);
		branch__6 = MKSTR(v8);
	}
	return branch__6;
}
static VAL mw_std_path_Path_joinZ_with (VAL in_Path_1, VAL in_Str_2, VAL in_Path_3) {
	incref(in_Path_1);
	uint64_t v5 = str_size(value_str(in_Path_1));
	int64_t v6 = 0LL;
	bool v7 = (((int64_t)v5) == v6);
	VAL branch_Path_8;
	if (v7) {
		decref(in_Str_2);
		decref(in_Path_1);
		branch_Path_8 = in_Path_3;
	} else {
		STR* v9 = str_cat(value_str(in_Path_1), value_str(in_Str_2));
		STR* v10 = str_cat(v9, value_str(in_Path_3));
		branch_Path_8 = MKSTR(v10);
	}
	return branch_Path_8;
}
static VAL mw_std_path_Path_join (VAL in_Path_1, VAL in_Path_2) {
	VAL v4 = mw_std_path_PATHz_SEPARATOR();
	VAL v5 = mw_std_path_Path_joinZ_with(in_Path_1, v4, in_Path_2);
	return v5;
}
static int64_t mw_std_byte_Byte_isZ_pathZ_separatorZAsk (int64_t in_Byte_1) {
	int64_t branch_Bool_3;
	switch (in_Byte_1) {
		case 47LL: { // B'/'
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		case 92LL: { // B'\'
			int64_t v5 = RUNNING_OS;
			int64_t v6 = mw_std_prim_Int_ZToOS(v5);
			int64_t v7 = 1LL /* OS_WINDOWS */;
			bool v8 = (v6 == v7);
			branch_Bool_3 = ((int64_t)v8);
		} break;
		default: {
			int64_t v9 = 0LL /* False */;
			branch_Bool_3 = v9;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_std_path_Path_splitZ_last (VAL in_Path_1, VAL *out_Maybe_3) {
	incref(in_Path_1);
	uint64_t v4 = str_size(value_str(in_Path_1));
	VAL v5 = MKI64(0LL /* None */);
	incref(v5);
	int64_t v6 = get_data_tag(v5);
	decref(v5);
	int64_t v7 = 0LL;
	bool v8 = (v6 == v7);
	int64_t branch_UOffset_9;
	VAL branch_z_x1_10;
	int64_t branch_Bool_11;
	if (v8) {
		int64_t v12 = 0LL;
		bool v13 = (((int64_t)v4) > v12);
		branch_Bool_11 = ((int64_t)v13);
		branch_z_x1_10 = v5;
		branch_UOffset_9 = ((int64_t)v4);
	} else {
		int64_t v14 = 0LL /* False */;
		branch_Bool_11 = v14;
		branch_z_x1_10 = v5;
		branch_UOffset_9 = ((int64_t)v4);
	}
	VAL v15 = in_Path_1;
	int64_t v16 = branch_UOffset_9;
	VAL v17 = branch_z_x1_10;
	int64_t v18 = branch_Bool_11;
	while (((bool)v18)) {
		VAL v19 = v15;
		int64_t v20 = v16;
		VAL v21 = v17;
		decref(v21);
		int64_t v22 = 1LL;
		int64_t v23 = i64_sub(v20, v22);
		int64_t v24 = 0LL;
		bool v25 = (v23 < v24);
		int64_t branch_Nat_26;
		if (v25) {
			int64_t v27 = 0LL;
			branch_Nat_26 = v27;
		} else {
			branch_Nat_26 = v23;
		}
		VAL v28;
		int64_t v29 = mw_std_str_ZPlusStr_byteZAt(branch_Nat_26, v19, &v28);
		int64_t v30 = mw_std_byte_Byte_isZ_pathZ_separatorZAsk(v29);
		VAL branch_ZPlusStr_31;
		int64_t branch_UOffset_32;
		VAL branch_Maybe_33;
		if (((bool)v30)) {
			VAL v34 = mtw_std_maybe_Maybe_1_Some(MKI64(branch_Nat_26));
			branch_Maybe_33 = v34;
			branch_UOffset_32 = branch_Nat_26;
			branch_ZPlusStr_31 = v28;
		} else {
			VAL v35 = MKI64(0LL /* None */);
			branch_Maybe_33 = v35;
			branch_UOffset_32 = branch_Nat_26;
			branch_ZPlusStr_31 = v28;
		}
		incref(branch_Maybe_33);
		int64_t v36 = get_data_tag(branch_Maybe_33);
		decref(branch_Maybe_33);
		int64_t v37 = 0LL;
		bool v38 = (v36 == v37);
		int64_t branch_UOffset_39;
		VAL branch_z_x1_40;
		int64_t branch_Bool_41;
		if (v38) {
			int64_t v42 = 0LL;
			bool v43 = (branch_UOffset_32 > v42);
			branch_Bool_41 = ((int64_t)v43);
			branch_z_x1_40 = branch_Maybe_33;
			branch_UOffset_39 = branch_UOffset_32;
		} else {
			int64_t v44 = 0LL /* False */;
			branch_Bool_41 = v44;
			branch_z_x1_40 = branch_Maybe_33;
			branch_UOffset_39 = branch_UOffset_32;
		}
		v18 = branch_Bool_41;
		v17 = branch_z_x1_40;
		v16 = branch_UOffset_39;
		v15 = branch_ZPlusStr_31;
	}
	VAL v45;
	VAL v46 = mw_std_maybe_Maybe_1_map_1_sp14(v15, v17, &v45);
	*out_Maybe_3 = v45;
	return v46;
}
static void mw_std_path_Path_pathZThen (VAL in_Path_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	VAL v4;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Path_1, in_ZPlusStr_2, &v4);
	*out_ZPlusStr_3 = v4;
}
static void mw_std_input_ZPlusInputOpenState_endZBang (VAL in_ZPlusInputOpenState_1, VAL *out_ZPlusFile_2) {
	int64_t v3;
	int64_t v4;
	VAL v5;
	VAL v6;
	mtp_std_input_ZPlusInputOpenState_ZPlusInputOpenState(in_ZPlusInputOpenState_1, &v3, &v4, &v5, &v6);
	mw_std_buffer_ZPlusBuffer_rdrop(v6);
	*out_ZPlusFile_2 = v5;
}
static int64_t mw_std_input_INPUTz_BUFFERz_SIZZE (void) {
	int64_t v2 = 8192LL;
	int64_t v3 = 0LL;
	int64_t v4 = mw_std_prim_Int_max(v2, v3);
	return v4;
}
static void mw_std_input_ZPlusInput_startZBang (VAL in_ZPlusFile_1, VAL *out_ZPlusInput_2) {
	int64_t v3 = mw_std_input_INPUTz_BUFFERz_SIZZE();
	VAL v4;
	mw_std_buffer_ZPlusBuffer_new(v3, &v4);
	int64_t v5 = 0LL;
	int64_t v6 = 0LL;
	VAL v7;
	mtw_std_input_ZPlusInputOpenState_ZPlusInputOpenState(v5, v6, in_ZPlusFile_1, v4, &v7);
	VAL v8;
	mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang(v7, &v8);
	*out_ZPlusInput_2 = v8;
}
static void mw_std_input_ZPlusInput_endZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusFile_2) {
	VAL branch_ZPlusFile_3;
	switch (get_data_tag(in_ZPlusInput_1)) {
		case 0LL: { // +InputOpen
			VAL v4;
			mtp_std_input_ZPlusInput_ZPlusInputOpen(in_ZPlusInput_1, &v4);
			VAL v5;
			mw_std_input_ZPlusInputOpenState_endZBang(v4, &v5);
			branch_ZPlusFile_3 = v5;
		} break;
		case 1LL: { // +InputDone
			VAL v6;
			mtp_std_input_ZPlusInput_ZPlusInputDone(in_ZPlusInput_1, &v6);
			branch_ZPlusFile_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusFile_2 = branch_ZPlusFile_3;
}
static int64_t mw_std_input_ZPlusInput_doneZAsk (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3) {
	int64_t branch_Bool_4;
	VAL branch_ZPlusInput_5;
	switch (get_data_tag(in_ZPlusInput_1)) {
		case 0LL: { // +InputOpen
			VAL v6;
			mtp_std_input_ZPlusInput_ZPlusInputOpen(in_ZPlusInput_1, &v6);
			int64_t v7 = 0LL /* False */;
			VAL v8;
			mtw_std_input_ZPlusInput_ZPlusInputOpen(v6, &v8);
			branch_ZPlusInput_5 = v8;
			branch_Bool_4 = v7;
		} break;
		case 1LL: { // +InputDone
			VAL v9;
			mtp_std_input_ZPlusInput_ZPlusInputDone(in_ZPlusInput_1, &v9);
			int64_t v10 = 1LL /* True */;
			VAL v11;
			mtw_std_input_ZPlusInput_ZPlusInputDone(v9, &v11);
			branch_ZPlusInput_5 = v11;
			branch_Bool_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusInput_3 = branch_ZPlusInput_5;
	return branch_Bool_4;
}
static void mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang (VAL in_ZPlusInputOpenState_1, VAL *out_ZPlusInput_2) {
	VAL v3 = VTUP(in_ZPlusInputOpenState_1)->cells[4];
	void* v4 = value_ptr(VTUP(v3)->cells[2]);
	int64_t v5 = value_i64(VTUP(v3)->cells[1]);
	VTUP(in_ZPlusInputOpenState_1)->cells[4] = v3;
	VAL v6 = VTUP(in_ZPlusInputOpenState_1)->cells[3];
	int64_t v7 = 0LL /* +Unsafe */;
	int64_t v8;
	VAL v9;
	int64_t v10 = mw_std_prelude_ZPlusUnsafe_readZ_bytesZBang(v4, v5, v6, &v8, &v9);
	VTUP(in_ZPlusInputOpenState_1)->cells[3] = v9;
	int64_t v11 = 0LL;
	bool v12 = (v10 > v11);
	bool v13 = (((bool)v8) && v12);
	VAL branch_ZPlusInput_14;
	if (v13) {
		VTUP(in_ZPlusInputOpenState_1)->cells[1] = MKI64(v10);
		int64_t v15 = 0LL;
		VTUP(in_ZPlusInputOpenState_1)->cells[2] = MKI64(v15);
		VAL v16;
		mtw_std_input_ZPlusInput_ZPlusInputOpen(in_ZPlusInputOpenState_1, &v16);
		branch_ZPlusInput_14 = v16;
	} else {
		VAL v17;
		mw_std_input_ZPlusInputOpenState_endZBang(in_ZPlusInputOpenState_1, &v17);
		VAL v18;
		mtw_std_input_ZPlusInput_ZPlusInputDone(v17, &v18);
		branch_ZPlusInput_14 = v18;
	}
	*out_ZPlusInput_2 = branch_ZPlusInput_14;
}
static int64_t mw_std_input_ZPlusInput_peek (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3) {
	int64_t branch_Byte_4;
	VAL branch_ZPlusInput_5;
	switch (get_data_tag(in_ZPlusInput_1)) {
		case 0LL: { // +InputOpen
			VAL v6;
			mtp_std_input_ZPlusInput_ZPlusInputOpen(in_ZPlusInput_1, &v6);
			int64_t v7 = value_i64(VTUP(v6)->cells[2]);
			VAL v8 = VTUP(v6)->cells[4];
			VAL v9;
			int64_t v10 = mw_std_buffer_ZPlusBuffer_ZAtU8(v7, v8, &v9);
			VTUP(v6)->cells[4] = v9;
			VAL v11;
			mtw_std_input_ZPlusInput_ZPlusInputOpen(v6, &v11);
			branch_ZPlusInput_5 = v11;
			branch_Byte_4 = v10;
		} break;
		case 1LL: { // +InputDone
			VAL v12;
			mtp_std_input_ZPlusInput_ZPlusInputDone(in_ZPlusInput_1, &v12);
			int64_t v13 = 0LL /* BNUL */;
			VAL v14;
			mtw_std_input_ZPlusInput_ZPlusInputDone(v12, &v14);
			branch_ZPlusInput_5 = v14;
			branch_Byte_4 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusInput_3 = branch_ZPlusInput_5;
	return branch_Byte_4;
}
static void mw_std_input_ZPlusInput_moveZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_2) {
	VAL branch_ZPlusInput_3;
	switch (get_data_tag(in_ZPlusInput_1)) {
		case 0LL: { // +InputOpen
			VAL v4;
			mtp_std_input_ZPlusInput_ZPlusInputOpen(in_ZPlusInput_1, &v4);
			int64_t v5 = value_i64(VTUP(v4)->cells[1]);
			int64_t v6 = 1LL;
			int64_t v7 = i64_sub(v5, v6);
			int64_t v8 = 0LL;
			bool v9 = (v7 < v8);
			int64_t branch_Nat_10;
			if (v9) {
				int64_t v11 = 0LL;
				branch_Nat_10 = v11;
			} else {
				branch_Nat_10 = v7;
			}
			VTUP(v4)->cells[1] = MKI64(branch_Nat_10);
			int64_t v12 = value_i64(VTUP(v4)->cells[2]);
			int64_t v13 = 1LL;
			int64_t v14 = i64_add(v12, v13);
			VTUP(v4)->cells[2] = MKI64(v14);
			VAL v15;
			mw_std_input_ZPlusInputOpenState_prepareZ_forZ_moreZBang(v4, &v15);
			branch_ZPlusInput_3 = v15;
		} break;
		case 1LL: { // +InputDone
			VAL v16;
			mtp_std_input_ZPlusInput_ZPlusInputDone(in_ZPlusInput_1, &v16);
			VAL v17;
			mtw_std_input_ZPlusInput_ZPlusInputDone(v16, &v17);
			branch_ZPlusInput_3 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusInput_2 = branch_ZPlusInput_3;
}
static void mw_std_input_ZPlusInputOpenState_prepareZ_forZ_moreZBang (VAL in_ZPlusInputOpenState_1, VAL *out_ZPlusInput_2) {
	int64_t v3 = value_i64(VTUP(in_ZPlusInputOpenState_1)->cells[1]);
	int64_t v4 = 0LL;
	bool v5 = (v3 == v4);
	VAL branch_ZPlusInput_6;
	if (v5) {
		VAL v7;
		mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang(in_ZPlusInputOpenState_1, &v7);
		branch_ZPlusInput_6 = v7;
	} else {
		VAL v8;
		mtw_std_input_ZPlusInput_ZPlusInputOpen(in_ZPlusInputOpenState_1, &v8);
		branch_ZPlusInput_6 = v8;
	}
	*out_ZPlusInput_2 = branch_ZPlusInput_6;
}
static VAL mw_std_input_ZPlusInput_readZ_chunkZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3) {
	VAL branch_Maybe_4;
	VAL branch_ZPlusInput_5;
	switch (get_data_tag(in_ZPlusInput_1)) {
		case 0LL: { // +InputOpen
			VAL v6;
			mtp_std_input_ZPlusInput_ZPlusInputOpen(in_ZPlusInput_1, &v6);
			int64_t v7 = value_i64(VTUP(v6)->cells[2]);
			int64_t v8 = value_i64(VTUP(v6)->cells[1]);
			VAL v9 = VTUP(v6)->cells[4];
			VAL v10;
			VAL v11 = mw_std_buffer_ZPlusBuffer_ZAtStr(v7, v8, v9, &v10);
			VTUP(v6)->cells[4] = v10;
			VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
			VAL v13;
			mw_std_input_ZPlusInputOpenState_refillZ_bufferZBang(v6, &v13);
			branch_ZPlusInput_5 = v13;
			branch_Maybe_4 = v12;
		} break;
		case 1LL: { // +InputDone
			VAL v14;
			mtp_std_input_ZPlusInput_ZPlusInputDone(in_ZPlusInput_1, &v14);
			VAL v15 = MKI64(0LL /* None */);
			VAL v16;
			mtw_std_input_ZPlusInput_ZPlusInputDone(v14, &v16);
			branch_ZPlusInput_5 = v16;
			branch_Maybe_4 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusInput_3 = branch_ZPlusInput_5;
	return branch_Maybe_4;
}
static VAL mw_std_input_ZPlusInput_readZ_fileZBang (VAL in_ZPlusInput_1, VAL *out_ZPlusInput_3) {
	STR* v4;
	STRLIT(v4, "", 0);
	int64_t v5 = 1LL /* True */;
	STR* v6 = v4;
	VAL v7 = in_ZPlusInput_1;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		STR* v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL v13;
		VAL v14 = mw_std_input_ZPlusInput_readZ_chunkZBang(v11, &v13);
		VAL branch_Str_15;
		int64_t branch_Bool_16;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v17 = mtp_std_maybe_Maybe_1_Some(v14);
				STR* v18 = str_cat(v10, value_str(v17));
				int64_t v19 = 1LL /* True */;
				branch_Bool_16 = v19;
				branch_Str_15 = MKSTR(v18);
			} break;
			case 0LL: { // None
				int64_t v20 = 0LL /* False */;
				branch_Bool_16 = v20;
				branch_Str_15 = MKSTR(v10);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_16;
		v8 = branch_Bool_16;
		v7 = v13;
		v6 = value_str(branch_Str_15);
	}
	*out_ZPlusInput_3 = v7;
	return MKSTR(v6);
}
static int64_t mw_std_output_OUTPUTz_BUFFERz_SIZZE (void) {
	int64_t v2 = 4096LL;
	int64_t v3 = 0LL;
	int64_t v4 = mw_std_prim_Int_max(v2, v3);
	return v4;
}
static void mw_std_output_ZPlusOutput_startZBang (VAL in_ZPlusFile_1, VAL *out_ZPlusOutput_2) {
	int64_t v3 = 0LL;
	int64_t v4 = mw_std_output_OUTPUTz_BUFFERz_SIZZE();
	VAL v5;
	mw_std_buffer_ZPlusBuffer_new(v4, &v5);
	VAL v6;
	mtw_std_output_ZPlusOutput_ZPlusOutput(v3, in_ZPlusFile_1, v5, &v6);
	*out_ZPlusOutput_2 = v6;
}
static void mw_std_output_ZPlusOutput_endZBang (VAL in_ZPlusOutput_1, VAL *out_ZPlusFile_2) {
	VAL v3;
	mw_std_output_ZPlusOutput_flushZBang(in_ZPlusOutput_1, &v3);
	int64_t v4;
	VAL v5;
	VAL v6;
	mtp_std_output_ZPlusOutput_ZPlusOutput(v3, &v4, &v5, &v6);
	mw_std_buffer_ZPlusBuffer_rdrop(v6);
	*out_ZPlusFile_2 = v5;
}
static void mw_std_output_ZPlusOutput_flushZBang (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_2) {
	VAL v3 = VTUP(in_ZPlusOutput_1)->cells[3];
	void* v4 = value_ptr(VTUP(v3)->cells[2]);
	VTUP(in_ZPlusOutput_1)->cells[3] = v3;
	int64_t v5 = value_i64(VTUP(in_ZPlusOutput_1)->cells[1]);
	VAL v6 = VTUP(in_ZPlusOutput_1)->cells[2];
	int64_t v7 = 0LL /* +Unsafe */;
	int64_t v8;
	VAL v9;
	int64_t v10 = mw_std_prelude_ZPlusUnsafe_writeZ_bytesZBang(v4, v5, v6, &v8, &v9);
	VTUP(in_ZPlusOutput_1)->cells[2] = v9;
	int64_t v11 = 0LL;
	VTUP(in_ZPlusOutput_1)->cells[1] = MKI64(v11);
	*out_ZPlusOutput_2 = in_ZPlusOutput_1;
}
static int64_t mw_std_output_ZPlusOutput_offset (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_2) {
	int64_t v4 = value_i64(VTUP(in_ZPlusOutput_1)->cells[1]);
	*out_ZPlusOutput_2 = in_ZPlusOutput_1;
	return v4;
}
static int64_t mw_std_output_ZPlusOutput_capacityZ_total (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_3) {
	VAL v4 = VTUP(in_ZPlusOutput_1)->cells[3];
	int64_t v5 = value_i64(VTUP(v4)->cells[1]);
	VTUP(in_ZPlusOutput_1)->cells[3] = v4;
	*out_ZPlusOutput_3 = in_ZPlusOutput_1;
	return v5;
}
static int64_t mw_std_output_ZPlusOutput_capacityZ_remaining (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_3) {
	VAL v4;
	int64_t v5 = mw_std_output_ZPlusOutput_capacityZ_total(in_ZPlusOutput_1, &v4);
	int64_t v6 = value_i64(VTUP(v4)->cells[1]);
	int64_t v7 = i64_sub(v5, v6);
	int64_t v8 = 0LL;
	bool v9 = (v7 < v8);
	int64_t branch_USizze_10;
	if (v9) {
		int64_t v11 = 0LL;
		branch_USizze_10 = v11;
	} else {
		branch_USizze_10 = v7;
	}
	*out_ZPlusOutput_3 = v4;
	return branch_USizze_10;
}
static int64_t mw_std_output_ZPlusOutput_fullZAsk (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_3) {
	VAL v4;
	int64_t v5 = mw_std_output_ZPlusOutput_capacityZ_remaining(in_ZPlusOutput_1, &v4);
	int64_t v6 = 0LL;
	bool v7 = (v5 == v6);
	*out_ZPlusOutput_3 = v4;
	return ((int64_t)v7);
}
static void mw_std_output_ZPlusOutput_put (VAL in_Str_1, VAL in_ZPlusOutput_2, VAL *out_ZPlusOutput_3) {
	incref(in_Str_1);
	uint64_t v4 = str_size(value_str(in_Str_1));
	VAL v5;
	int64_t v6 = mw_std_output_ZPlusOutput_capacityZ_remaining(in_ZPlusOutput_2, &v5);
	bool v7 = (((int64_t)v4) > v6);
	VAL branch_ZPlusOutput_8;
	if (v7) {
		VAL v9;
		mw_std_output_ZPlusOutput_flushZBang(v5, &v9);
		incref(in_Str_1);
		uint64_t v10 = str_size(value_str(in_Str_1));
		VAL v11;
		int64_t v12 = mw_std_output_ZPlusOutput_capacityZ_total(v9, &v11);
		bool v13 = (((int64_t)v10) >= v12);
		VAL branch_ZPlusOutput_14;
		if (v13) {
			incref(in_Str_1);
			incref(in_Str_1);
			void* v15 = str_base(value_str(in_Str_1));
			uint64_t v16 = str_size(value_str(in_Str_1));
			VAL v17 = VTUP(v11)->cells[2];
			int64_t v18 = 0LL /* +Unsafe */;
			int64_t v19;
			VAL v20;
			int64_t v21 = mw_std_prelude_ZPlusUnsafe_writeZ_bytesZBang(v15, ((int64_t)v16), v17, &v19, &v20);
			VTUP(v11)->cells[2] = v20;
			decref(in_Str_1);
			branch_ZPlusOutput_14 = v11;
		} else {
			VAL v22;
			mw_std_output_ZPlusOutput_put(in_Str_1, v11, &v22);
			branch_ZPlusOutput_14 = v22;
		}
		branch_ZPlusOutput_8 = branch_ZPlusOutput_14;
	} else {
		incref(in_Str_1);
		VAL v23;
		int64_t v24 = mw_std_output_ZPlusOutput_offset(v5, &v23);
		VAL v25 = VTUP(v23)->cells[3];
		VAL v26;
		mw_std_buffer_ZPlusBuffer_ZBangStr(in_Str_1, v24, v25, &v26);
		VTUP(v23)->cells[3] = v26;
		uint64_t v27 = str_size(value_str(in_Str_1));
		int64_t v28 = value_i64(VTUP(v23)->cells[1]);
		int64_t v29 = i64_add(((int64_t)v27), v28);
		VTUP(v23)->cells[1] = MKI64(v29);
		branch_ZPlusOutput_8 = v23;
	}
	*out_ZPlusOutput_3 = branch_ZPlusOutput_8;
}
static void mw_std_output_ZPlusOutput_putZ_byte (int64_t in_Byte_1, VAL in_ZPlusOutput_2, VAL *out_ZPlusOutput_3) {
	VAL v4;
	int64_t v5 = mw_std_output_ZPlusOutput_fullZAsk(in_ZPlusOutput_2, &v4);
	VAL branch_ZPlusOutput_6;
	if (((bool)v5)) {
		VAL v7;
		mw_std_output_ZPlusOutput_flushZBang(v4, &v7);
		branch_ZPlusOutput_6 = v7;
	} else {
		branch_ZPlusOutput_6 = v4;
	}
	VAL v8;
	int64_t v9 = mw_std_output_ZPlusOutput_offset(branch_ZPlusOutput_6, &v8);
	VAL v10 = VTUP(v8)->cells[3];
	VAL v11;
	mw_std_buffer_ZPlusBuffer_ZBangByte(in_Byte_1, v9, v10, &v11);
	VTUP(v8)->cells[3] = v11;
	int64_t v12 = value_i64(VTUP(v8)->cells[1]);
	int64_t v13 = 1LL;
	int64_t v14 = i64_add(v12, v13);
	VTUP(v8)->cells[1] = MKI64(v14);
	*out_ZPlusOutput_3 = v8;
}
static void mw_std_output_ZPlusOutput_line (VAL in_ZPlusOutput_1, VAL *out_ZPlusOutput_2) {
	int64_t v3 = 10LL /* BLF */;
	VAL v4;
	mw_std_output_ZPlusOutput_putZ_byte(v3, in_ZPlusOutput_1, &v4);
	*out_ZPlusOutput_2 = v4;
}
static int64_t mw_std_posix_posixZ_openZBang (VAL in_Str_1, int64_t in_Int_2, int64_t in_Int_3) {
	incref(in_Str_1);
	void* v5 = str_base(value_str(in_Str_1));
	int64_t v6 = mext_std_posix_internalZ_posixZ_open(v5, in_Int_2, in_Int_3);
	decref(in_Str_1);
	return v6;
}
static void mw_std_prim_ZPlusWorld_openZ_fileZBang (VAL in_Path_1, VAL *out_ZPlusFileZAsk_2) {
	incref(in_Path_1);
	int64_t v5 = 0LL;
	int64_t v6 = 0LL;
	int64_t v7 = mw_std_posix_posixZ_openZBang(in_Path_1, v5, v6);
	int64_t v8 = 0LL;
	bool v9 = (v7 > v8);
	VAL branch_ZPlusFileZAsk_10;
	if (v9) {
		decref(in_Path_1);
		int64_t v11 = 1LL /* True */;
		VAL v12;
		mtw_std_file_ZPlusFile_ZPlusFile(v7, v11, &v12);
		VAL v13;
		mtw_std_file_ZPlusFileZAsk_ZPlusFileOk(v12, &v13);
		branch_ZPlusFileZAsk_10 = v13;
	} else {
		STR* v14;
		STRLIT(v14, "", 0);
		STR* v15;
		STRLIT(v15, "Failed to open file: ", 21);
		VAL v16;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v15), MKSTR(v14), &v16);
		VAL v17;
		mw_std_prim_Str_showZThen(in_Path_1, v16, &v17);
		VAL v18;
		mtw_std_file_ZPlusFileZAsk_ZPlusFileErr(v17, &v18);
		branch_ZPlusFileZAsk_10 = v18;
	}
	*out_ZPlusFileZAsk_2 = branch_ZPlusFileZAsk_10;
}
static void mw_std_prim_ZPlusWorld_createZ_fileZBang (VAL in_Path_1, VAL *out_ZPlusFileZAsk_2) {
	incref(in_Path_1);
	VAL v5 = mw_std_file_Oz_WRONLYZPipeOz_CREATZPipeOz_TRUNC();
	VAL branch_ZPlusFileZAsk_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			int64_t v8 = 438LL;
			int64_t v9 = mw_std_posix_posixZ_openZBang(in_Path_1, value_i64(v7), v8);
			int64_t v10 = 0LL;
			bool v11 = (v9 > v10);
			VAL branch_ZPlusFileZAsk_12;
			if (v11) {
				decref(in_Path_1);
				int64_t v13 = 1LL /* True */;
				VAL v14;
				mtw_std_file_ZPlusFile_ZPlusFile(v9, v13, &v14);
				VAL v15;
				mtw_std_file_ZPlusFileZAsk_ZPlusFileOk(v14, &v15);
				branch_ZPlusFileZAsk_12 = v15;
			} else {
				STR* v16;
				STRLIT(v16, "", 0);
				STR* v17;
				STRLIT(v17, "Failed to create file: ", 23);
				VAL v18;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v17), MKSTR(v16), &v18);
				VAL v19;
				mw_std_prim_Str_showZThen(in_Path_1, v18, &v19);
				VAL v20;
				mtw_std_file_ZPlusFileZAsk_ZPlusFileErr(v19, &v20);
				branch_ZPlusFileZAsk_12 = v20;
			}
			branch_ZPlusFileZAsk_6 = branch_ZPlusFileZAsk_12;
		} break;
		case 0LL: { // None
			decref(in_Path_1);
			decref(in_Path_1);
			STR* v21;
			STRLIT(v21, "Don't know how to create file on unknown OS.", 44);
			VAL v22;
			mtw_std_file_ZPlusFileZAsk_ZPlusFileErr(MKSTR(v21), &v22);
			branch_ZPlusFileZAsk_6 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusFileZAsk_2 = branch_ZPlusFileZAsk_6;
}
static void mw_std_prim_ZPlusWorld_stderrZ_file (VAL *out_ZPlusFile_1) {
	int64_t v4 = 2LL;
	int64_t v5 = 0LL /* False */;
	VAL v6;
	mtw_std_file_ZPlusFile_ZPlusFile(v4, v5, &v6);
	*out_ZPlusFile_1 = v6;
}
static VAL mw_std_file_Oz_WRONLYZPipeOz_CREATZPipeOz_TRUNC (void) {
	int64_t v2 = RUNNING_OS;
	int64_t v3 = mw_std_prim_Int_ZToOS(v2);
	VAL branch_Maybe_4;
	switch (v3) {
		case 3LL: { // OS_MACOS
			int64_t v5 = 1537LL;
			VAL v6 = mtw_std_maybe_Maybe_1_Some(MKI64(v5));
			branch_Maybe_4 = v6;
		} break;
		case 2LL: { // OS_LINUX
			int64_t v7 = 577LL;
			VAL v8 = mtw_std_maybe_Maybe_1_Some(MKI64(v7));
			branch_Maybe_4 = v8;
		} break;
		case 1LL: { // OS_WINDOWS
			int64_t v9 = 769LL;
			VAL v10 = mtw_std_maybe_Maybe_1_Some(MKI64(v9));
			branch_Maybe_4 = v10;
		} break;
		case 0LL: { // OS_UNKNOWN
			VAL v11 = MKI64(0LL /* None */);
			branch_Maybe_4 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static void mw_std_file_ZPlusFile_closeZ_fileZBang (VAL in_ZPlusFile_1) {
	int64_t v4;
	int64_t v5;
	mtp_std_file_ZPlusFile_ZPlusFile(in_ZPlusFile_1, &v4, &v5);
	if (((bool)v5)) {
		int64_t v6 = mext_std_posix_externalZ_posixZ_close(v4);
		int64_t v7 = 0LL;
		bool v8 = (v6 >= v7);
		int64_t branch_Int_9;
		if (v8) {
			branch_Int_9 = v6;
		} else {
			STR* v10;
			STRLIT(v10, "Error while closing file.", 25);
			do_panic(v10);
		}
	} else {
	}
}
static int64_t mw_std_prelude_ZPlusUnsafe_writeZ_bytesZBang (void* in_Ptr_1, int64_t in_USizze_2, VAL in_ZPlusFile_3, int64_t *out_Bool_5, VAL *out_ZPlusFile_6) {
	int64_t v9 = 1LL /* True */;
	int64_t v10 = 0LL;
	int64_t v11 = 0LL;
	bool v12 = (in_USizze_2 > v11);
	bool v13 = (v12 && ((bool)v9));
	VAL v14 = in_ZPlusFile_3;
	void* v15 = in_Ptr_1;
	int64_t v16 = v10;
	int64_t v17 = in_USizze_2;
	int64_t v18 = v9;
	bool v19 = v13;
	while (v19) {
		VAL v20 = v14;
		void* v21 = v15;
		int64_t v22 = v16;
		int64_t v23 = v17;
		int64_t v24 = v18;
		int64_t v25 = value_i64(VTUP(v20)->cells[1]);
		int64_t v26 = mext_std_posix_externalZ_posixZ_write(v25, v21, v23);
		int64_t v27 = 0LL;
		bool v28 = (v26 < v27);
		int64_t branch_USizze_29;
		void* branch_Ptr_30;
		int64_t branch_USizze_31;
		int64_t branch_Bool_32;
		if (v28) {
			int64_t v33 = 0LL /* False */;
			branch_Bool_32 = v33;
			branch_USizze_31 = v22;
			branch_Ptr_30 = v21;
			branch_USizze_29 = v23;
		} else {
			int64_t v34 = i64_add(v26, v22);
			void* v35 = (void*)(v26 + (char*)v21);
			int64_t v36 = i64_sub(v23, v26);
			int64_t v37 = 0LL;
			bool v38 = (v36 < v37);
			int64_t branch_USizze_39;
			if (v38) {
				int64_t v40 = 0LL;
				branch_USizze_39 = v40;
			} else {
				branch_USizze_39 = v36;
			}
			branch_Bool_32 = v24;
			branch_USizze_31 = v34;
			branch_Ptr_30 = v35;
			branch_USizze_29 = branch_USizze_39;
		}
		int64_t v41 = 0LL;
		bool v42 = (branch_USizze_29 > v41);
		bool v43 = (v42 && ((bool)branch_Bool_32));
		v19 = v43;
		v18 = branch_Bool_32;
		v17 = branch_USizze_29;
		v16 = branch_USizze_31;
		v15 = branch_Ptr_30;
		v14 = v20;
	}
	*out_ZPlusFile_6 = v14;
	*out_Bool_5 = v18;
	return v16;
}
static int64_t mw_std_prelude_ZPlusUnsafe_readZ_bytesZBang (void* in_Ptr_1, int64_t in_USizze_2, VAL in_ZPlusFile_3, int64_t *out_Bool_5, VAL *out_ZPlusFile_6) {
	int64_t v9 = value_i64(VTUP(in_ZPlusFile_3)->cells[1]);
	int64_t v10 = mext_std_posix_externalZ_posixZ_read(v9, in_Ptr_1, in_USizze_2);
	int64_t v11 = 0LL;
	bool v12 = (v10 < v11);
	int64_t branch_USizze_13;
	int64_t branch_Bool_14;
	if (v12) {
		int64_t v15 = 0LL;
		int64_t v16 = 0LL /* False */;
		branch_Bool_14 = v16;
		branch_USizze_13 = v15;
	} else {
		int64_t v17 = 1LL /* True */;
		branch_Bool_14 = v17;
		branch_USizze_13 = v10;
	}
	*out_ZPlusFile_6 = in_ZPlusFile_3;
	*out_Bool_5 = branch_Bool_14;
	return branch_USizze_13;
}
static VAL mw_std_file_ZPlusFile_readZ_fileZBang (VAL in_ZPlusFile_1, VAL *out_ZPlusFile_3) {
	VAL v4;
	mw_std_input_ZPlusInput_startZBang(in_ZPlusFile_1, &v4);
	VAL v5;
	VAL v6 = mw_std_input_ZPlusInput_readZ_fileZBang(v4, &v5);
	VAL v7;
	mw_std_input_ZPlusInput_endZBang(v5, &v7);
	*out_ZPlusFile_3 = v7;
	return v6;
}
static void mw_std_prim_ZPlusWorld_traceZ_ (VAL in_Str_1) {
	VAL v4;
	mw_std_prim_ZPlusWorld_stderrZ_file(&v4);
	incref(in_Str_1);
	incref(in_Str_1);
	void* v5 = str_base(value_str(in_Str_1));
	uint64_t v6 = str_size(value_str(in_Str_1));
	int64_t v7 = 0LL /* +Unsafe */;
	int64_t v8;
	VAL v9;
	int64_t v10 = mw_std_prelude_ZPlusUnsafe_writeZ_bytesZBang(v5, ((int64_t)v6), v4, &v8, &v9);
	decref(in_Str_1);
	mw_std_file_ZPlusFile_closeZ_fileZBang(v9);
}
static void mw_std_prim_ZPlusWorld_trace (VAL in_Str_1) {
	STR* v4;
	STRLIT(v4, "\n", 1);
	STR* v5 = str_cat(value_str(in_Str_1), v4);
	mw_std_prim_ZPlusWorld_traceZ_(MKSTR(v5));
}
static int64_t mw_std_prim_ZPlusWorld_isZ_directoryZAsk (VAL in_Path_1) {
	int64_t v5 = 256LL;
	VAL v6;
	mw_std_buffer_ZPlusBuffer_new(v5, &v6);
	incref(in_Path_1);
	incref(in_Path_1);
	void* v7 = str_base(value_str(in_Path_1));
	uint64_t v8 = str_size(value_str(in_Path_1));
	int64_t v9 = 0LL /* +Unsafe */;
	void* v10 = (void*)(((int64_t)v8) + (char*)v7);
	uint8_t v11 = *(uint8_t*)v10;
	int64_t v12 = 0LL;
	bool v13 = (((int64_t)v11) == v12);
	if (v13) {
	} else {
		STR* v14;
		STRLIT(v14, "tried to use Str as CStr, but Str is not zero terminated", 56);
		do_panic(v14);
	}
	void* v15 = value_ptr(VTUP(v6)->cells[2]);
	int64_t v16 = 0LL /* +Unsafe */;
	int64_t v17 = mext_std_world_posixZ_stat(v7, v15);
	int64_t v18 = 0LL;
	bool v19 = (v17 == v18);
	VAL branch_ZPlusBuffer_20;
	int64_t branch_Bool_21;
	if (v19) {
		void* v22 = value_ptr(VTUP(v6)->cells[2]);
		int64_t v23 = 0LL /* +Unsafe */;
		int64_t v24 = mw_std_world_stz_modeZAt(v22);
		int64_t v25 = mw_std_world_Sz_ISDIR(v24);
		branch_Bool_21 = v25;
		branch_ZPlusBuffer_20 = v6;
	} else {
		int64_t v26 = 0LL /* False */;
		branch_Bool_21 = v26;
		branch_ZPlusBuffer_20 = v6;
	}
	decref(in_Path_1);
	mw_std_buffer_ZPlusBuffer_rdrop(branch_ZPlusBuffer_20);
	return branch_Bool_21;
}
static int64_t mw_std_world_Sz_IFMT (void) {
	int64_t v2 = 61440LL;
	return v2;
}
static int64_t mw_std_world_Sz_IFDIR (void) {
	int64_t v2 = 16384LL;
	return v2;
}
static int64_t mw_std_world_Sz_ISDIR (int64_t in_U16_1) {
	int64_t v3 = mw_std_world_Sz_IFMT();
	uint64_t v4 = (((uint64_t)in_U16_1) & ((uint64_t)v3));
	int64_t v5 = mw_std_world_Sz_IFDIR();
	bool v6 = (((int64_t)v4) == v5);
	return ((int64_t)v6);
}
static int64_t mw_std_world_stz_modeZAt (void* in_Ptr_1) {
	int64_t v5 = RUNNING_OS;
	int64_t v6 = mw_std_prim_Int_ZToOS(v5);
	void* branch_Ptr_7;
	int64_t branch_Nat_8;
	switch (v6) {
		case 2LL: { // OS_LINUX
			int64_t v9 = 24LL;
			branch_Nat_8 = v9;
			branch_Ptr_7 = in_Ptr_1;
		} break;
		case 1LL: { // OS_WINDOWS
			int64_t v10 = 6LL;
			branch_Nat_8 = v10;
			branch_Ptr_7 = in_Ptr_1;
		} break;
		case 3LL: { // OS_MACOS
			int64_t v11 = RUNNING_ARCH;
			int64_t v12 = mw_std_prim_Int_ZToArch(v11);
			int64_t v13 = 3LL /* ARCH_ARM64 */;
			bool v14 = (v12 == v13);
			void* branch_Ptr_15;
			int64_t branch_Nat_16;
			if (v14) {
				int64_t v17 = 4LL;
				branch_Nat_16 = v17;
				branch_Ptr_15 = in_Ptr_1;
			} else {
				int64_t v18 = 8LL;
				branch_Nat_16 = v18;
				branch_Ptr_15 = in_Ptr_1;
			}
			branch_Nat_8 = branch_Nat_16;
			branch_Ptr_7 = branch_Ptr_15;
		} break;
		default: {
			int64_t v19 = 8LL;
			branch_Nat_8 = v19;
			branch_Ptr_7 = in_Ptr_1;
		} break;
	}
	void* v20 = (void*)(branch_Nat_8 + (char*)branch_Ptr_7);
	uint16_t v21 = *(uint16_t*)v20;
	return ((int64_t)v21);
}
static void mw_std_terminal_SGRColor_showZThen (VAL in_SGRColor_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	VAL branch_ZPlusStr_4;
	switch (get_data_tag(in_SGRColor_1)) {
		case 0LL: { // Numbered
			int64_t v5 = mtp_std_terminal_SGRColor_Numbered(in_SGRColor_1);
			STR* v6;
			STRLIT(v6, ";5;", 3);
			VAL v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v6), in_ZPlusStr_2, &v7);
			STR* v8 = i64_show(v5);
			VAL v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v8), v7, &v9);
			branch_ZPlusStr_4 = v9;
		} break;
		case 1LL: { // RGB
			int64_t v10;
			int64_t v11;
			int64_t v12 = mtp_std_terminal_SGRColor_RGB(in_SGRColor_1, &v10, &v11);
			STR* v13;
			STRLIT(v13, ";2;", 3);
			VAL v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v13), in_ZPlusStr_2, &v14);
			STR* v15 = i64_show(v11);
			VAL v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v15), v14, &v16);
			STR* v17;
			STRLIT(v17, ";", 1);
			VAL v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v17), v16, &v18);
			STR* v19 = i64_show(v10);
			VAL v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v19), v18, &v20);
			STR* v21;
			STRLIT(v21, ";", 1);
			VAL v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v21), v20, &v22);
			STR* v23 = i64_show(v12);
			VAL v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v23), v22, &v24);
			branch_ZPlusStr_4 = v24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static void mw_std_terminal_Sgr_emitZThen (VAL in_Sgr_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	VAL v4;
	mw_std_terminal_csiZThen(in_ZPlusStr_2, &v4);
	incref(in_Sgr_1);
	int64_t v5 = get_data_tag(in_Sgr_1);
	decref(in_Sgr_1);
	STR* v6 = i64_show(v5);
	VAL v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v6), v4, &v7);
	VAL branch_ZPlusStr_8;
	switch (get_data_tag(in_Sgr_1)) {
		case 38LL: { // FGColor
			VAL v9 = mtp_std_terminal_Sgr_FGColor(in_Sgr_1);
			VAL v10;
			mw_std_terminal_SGRColor_showZThen(v9, v7, &v10);
			branch_ZPlusStr_8 = v10;
		} break;
		case 48LL: { // BGColor
			VAL v11 = mtp_std_terminal_Sgr_BGColor(in_Sgr_1);
			VAL v12;
			mw_std_terminal_SGRColor_showZThen(v11, v7, &v12);
			branch_ZPlusStr_8 = v12;
		} break;
		default: {
			decref(in_Sgr_1);
			branch_ZPlusStr_8 = v7;
		} break;
	}
	STR* v13;
	STRLIT(v13, "m", 1);
	VAL v14;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v13), branch_ZPlusStr_8, &v14);
	*out_ZPlusStr_3 = v14;
}
static void mw_std_terminal_csiZThen (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_2) {
	int64_t v3 = 27LL /* BESC */;
	VAL v4;
	mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v3, in_ZPlusStr_1, &v4);
	int64_t v5 = 91LL /* BLSQUARE */;
	VAL v6;
	mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v5, v4, &v6);
	*out_ZPlusStr_2 = v6;
}
static VAL mw_argZ_parser_state_State_1_init (VAL in_a_1) {
	VAL v3 = mw_argZ_parser_parse_argvZ_toZ_str();
	int64_t v4 = 0LL;
	int64_t v5 = 0LL /* +Unsafe */;
	VAL v6 = mw_argZ_parser_parse_readZ_fromZ_argv(v4);
	VAL v7 = mtw_argZ_parser_state_ArgvInfo_ArgvInfo(v3, v6);
	int64_t v8 = 0LL /* False */;
	VAL v9 = MKI64(0LL /* None */);
	VAL v10 = MKI64(0LL /* None */);
	VAL v11 = mtw_argZ_parser_state_CurrentArg_CurrentArg(v8, v9, v10);
	int64_t v12 = 0LL;
	int64_t v13 = 0LL;
	VAL v14 = MKI64(0LL /* None */);
	VAL v15 = mtw_argZ_parser_state_State_1_State(in_a_1, v7, v11, v12, v13, v14);
	return v15;
}
static VAL mw_argZ_parser_state_State_1_argv (VAL in_State_1) {
	VAL v3 = VTUP(in_State_1)->cells[2];
	incref(v3);
	decref(in_State_1);
	VAL v4 = VTUP(v3)->cells[1];
	incref(v4);
	decref(v3);
	return v4;
}
static VAL mw_argZ_parser_state_State_1_programZ_name (VAL in_State_1) {
	VAL v3 = VTUP(in_State_1)->cells[2];
	incref(v3);
	decref(in_State_1);
	VAL v4 = VTUP(v3)->cells[2];
	incref(v4);
	decref(v3);
	return v4;
}
static int64_t mw_argZ_parser_state_State_1_parsingZAsk (VAL in_State_1) {
	VAL v3 = VTUP(in_State_1)->cells[3];
	incref(v3);
	decref(in_State_1);
	int64_t v4 = value_i64(VTUP(v3)->cells[1]);
	decref(v3);
	return v4;
}
static VAL mw_argZ_parser_state_State_1_parsingZAskZBang (int64_t in_Bool_1, VAL in_State_2) {
	incref(in_State_2);
	VAL v4 = VTUP(in_State_2)->cells[3];
	incref(v4);
	decref(in_State_2);
	VAL v5 = tup_replace(v4, 1, MKI64(in_Bool_1));
	VAL v6 = tup_replace(in_State_2, 3, v5);
	return v6;
}
static VAL mw_argZ_parser_state_State_1_optionZ_option (VAL in_State_1) {
	VAL v3 = VTUP(in_State_1)->cells[3];
	incref(v3);
	decref(in_State_1);
	VAL v4 = VTUP(v3)->cells[3];
	incref(v4);
	decref(v3);
	return v4;
}
static VAL mw_argZ_parser_state_State_1_optionZ_optionZBang (VAL in_Maybe_1, VAL in_State_2) {
	incref(in_State_2);
	VAL v4 = VTUP(in_State_2)->cells[3];
	incref(v4);
	decref(in_State_2);
	VAL v5 = tup_replace(v4, 3, in_Maybe_1);
	VAL v6 = tup_replace(in_State_2, 3, v5);
	return v6;
}
static void mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop (VAL in_ZPlusArgumentParser_1) {
	VAL v2;
	VAL v3;
	mtp_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser(in_ZPlusArgumentParser_1, &v2, &v3);
	decref(v2);
	decref(v3);
}
static VAL mw_argZ_parser_types_ZPlusArgumentParser_1_parser (VAL in_ZPlusArgumentParser_1, VAL *out_ZPlusArgumentParser_2) {
	VAL v4 = VTUP(in_ZPlusArgumentParser_1)->cells[1];
	incref(v4);
	VAL v5 = VTUP(v4)->cells[2];
	incref(v5);
	decref(v4);
	*out_ZPlusArgumentParser_2 = in_ZPlusArgumentParser_1;
	return v5;
}
static int64_t mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk (VAL in_ArgpOptionType_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_ArgpOptionType_1)) {
		case 0LL: { // Short
			int64_t v4 = mtp_argZ_parser_types_ArgpOptionType_Short(in_ArgpOptionType_1);
			int64_t v5 = 1LL /* True */;
			branch_Bool_3 = v5;
		} break;
		default: {
			decref(in_ArgpOptionType_1);
			int64_t v6 = 0LL /* False */;
			branch_Bool_3 = v6;
		} break;
	}
	return branch_Bool_3;
}
static void mw_argZ_parser_types_ArgumentParsingError_emitZThen (VAL in_ArgumentParsingError_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	VAL branch_ZPlusStr_4;
	switch (get_data_tag(in_ArgumentParsingError_1)) {
		case 1LL: { // MissingArg
			VAL v5 = mtp_argZ_parser_types_ArgumentParsingError_MissingArg(in_ArgumentParsingError_1);
			VAL v6 = MKI64(31LL /* FGRed */);
			VAL v7;
			mw_std_terminal_Sgr_emitZThen(v6, in_ZPlusStr_2, &v7);
			STR* v8;
			STRLIT(v8, "Missing argument: ", 18);
			VAL v9;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v8), v7, &v9);
			VAL v10 = MKI64(0LL /* Reset */);
			VAL v11;
			mw_std_terminal_Sgr_emitZThen(v10, v9, &v11);
			VAL v12;
			mw_std_str_ZPlusStr_pushZ_strZBang(v5, v11, &v12);
			branch_ZPlusStr_4 = v12;
		} break;
		case 0LL: { // MissingArgValue
			STR* v13;
			STRLIT(v13, "Missing associated value for flag option", 40);
			VAL v14;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v13), in_ZPlusStr_2, &v14);
			branch_ZPlusStr_4 = v14;
		} break;
		case 2LL: { // TooManyArgs
			STR* v15;
			STRLIT(v15, "Too many positional arguments passed", 36);
			VAL v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v15), in_ZPlusStr_2, &v16);
			branch_ZPlusStr_4 = v16;
		} break;
		case 3LL: { // TooFewArgs
			STR* v17;
			STRLIT(v17, "Too few positional arguments passed", 35);
			VAL v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v17), in_ZPlusStr_2, &v18);
			branch_ZPlusStr_4 = v18;
		} break;
		case 4LL: { // UnknownArg
			STR* v19;
			STRLIT(v19, "Got an unknown option", 21);
			VAL v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v19), in_ZPlusStr_2, &v20);
			branch_ZPlusStr_4 = v20;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static VAL mw_argZ_parser_types_ZPlusArgumentParser_1_usage (VAL in_ZPlusArgumentParser_1, VAL *out_ZPlusArgumentParser_2) {
	STR* v4;
	STRLIT(v4, "", 0);
	VAL v5 = MKI64(1LL /* Bold */);
	VAL v6;
	mw_std_terminal_Sgr_emitZThen(v5, MKSTR(v4), &v6);
	STR* v7;
	STRLIT(v7, "Usage: ", 7);
	VAL v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v7), v6, &v8);
	VAL v9 = MKI64(0LL /* Reset */);
	VAL v10;
	mw_std_terminal_Sgr_emitZThen(v9, v8, &v10);
	STR* v11;
	STRLIT(v11, "  ", 2);
	VAL v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v11), v10, &v12);
	VAL v13 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
	incref(v13);
	VAL v14 = mw_argZ_parser_state_State_1_programZ_name(v13);
	VAL v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(v14, v12, &v15);
	STR* v16;
	STRLIT(v16, " [options] ", 11);
	VAL v17;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v16), v15, &v17);
	VAL v18 = VTUP(in_ZPlusArgumentParser_1)->cells[1];
	incref(v18);
	VAL v19 = VTUP(v18)->cells[3];
	incref(v19);
	decref(v18);
	VAL branch_ZPlusStr_20;
	switch (get_data_tag(v19)) {
		case 1LL: { // Some
			VAL v21 = mtp_std_maybe_Maybe_1_Some(v19);
			VAL v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(v21, v17, &v22);
			branch_ZPlusStr_20 = v22;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_20 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v23;
	STRLIT(v23, "\n\n", 2);
	VAL v24;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v23), branch_ZPlusStr_20, &v24);
	VAL v25 = VTUP(in_ZPlusArgumentParser_1)->cells[1];
	incref(v25);
	VAL v26 = VTUP(v25)->cells[1];
	incref(v26);
	decref(v25);
	int64_t v27 = 1LL /* True */;
	VAL v28 = in_ZPlusArgumentParser_1;
	VAL v29 = v24;
	VAL v30 = v26;
	int64_t v31 = v27;
	int64_t v32 = v27;
	while (((bool)v32)) {
		VAL v33 = v28;
		VAL v34 = v29;
		VAL v35 = v30;
		int64_t v36 = v31;
		VAL branch_ZPlusArgumentParser_37;
		VAL branch_ZPlusStr_38;
		VAL branch_List_39;
		int64_t branch_Bool_40;
		switch (get_data_tag(v35)) {
			case 1LL: { // Cons
				VAL v41;
				VAL v42 = mtp_std_list_List_1_Cons(v35, &v41);
				VAL v43;
				VAL v44;
				mw_argZ_parser_types_ArgpOption_usageZThen(v33, v34, v42, &v43, &v44);
				int64_t v45 = 1LL /* True */;
				branch_Bool_40 = v45;
				branch_List_39 = v41;
				branch_ZPlusStr_38 = v44;
				branch_ZPlusArgumentParser_37 = v43;
			} break;
			case 0LL: { // Nil
				VAL v46 = MKI64(0LL /* Nil */);
				int64_t v47 = 0LL /* False */;
				branch_Bool_40 = v47;
				branch_List_39 = v46;
				branch_ZPlusStr_38 = v34;
				branch_ZPlusArgumentParser_37 = v33;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v32 = branch_Bool_40;
		v31 = branch_Bool_40;
		v30 = branch_List_39;
		v29 = branch_ZPlusStr_38;
		v28 = branch_ZPlusArgumentParser_37;
	}
	decref(v30);
	STR* v48;
	STRLIT(v48, "\n", 1);
	VAL v49;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v48), v29, &v49);
	*out_ZPlusArgumentParser_2 = v28;
	return v49;
}
static void mw_argZ_parser_types_ArgpOption_usageZThen (VAL in_ZPlusArgumentParser_1, VAL in_ZPlusStr_2, VAL in_ArgpOption_3, VAL *out_ZPlusArgumentParser_4, VAL *out_ZPlusStr_5) {
	STR* v6;
	STRLIT(v6, "  ", 2);
	VAL v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v6), in_ZPlusStr_2, &v7);
	int64_t v8 = 0LL;
	incref(in_ArgpOption_3);
	VAL v9 = VTUP(in_ArgpOption_3)->cells[2];
	incref(v9);
	decref(in_ArgpOption_3);
	VAL branch_ZPlusArgumentParser_10;
	VAL branch_ZPlusStr_11;
	int64_t branch_Int_12;
	VAL branch_ArgpOption_13;
	switch (get_data_tag(v9)) {
		case 0LL: { // Short
			int64_t v14 = mtp_argZ_parser_types_ArgpOptionType_Short(v9);
			int64_t v15 = 33LL /* B'!' */;
			int64_t v16 = 126LL /* B'~' */;
			bool v17 = (v14 >= v15);
			bool v18 = (v14 <= v16);
			bool v19 = (v17 && v18);
			int64_t branch_Int_20;
			int64_t branch_Byte_21;
			VAL branch_ZPlusStr_22;
			if (v19) {
				int64_t v23 = 2LL;
				int64_t v24 = i64_add(v8, v23);
				STR* v25;
				STRLIT(v25, "-", 1);
				VAL v26;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v25), v7, &v26);
				VAL v27;
				mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v14, v26, &v27);
				branch_ZPlusStr_22 = v27;
				branch_Byte_21 = v14;
				branch_Int_20 = v24;
			} else {
				branch_ZPlusStr_22 = v7;
				branch_Byte_21 = v14;
				branch_Int_20 = v8;
			}
			branch_ArgpOption_13 = in_ArgpOption_3;
			branch_Int_12 = branch_Int_20;
			branch_ZPlusStr_11 = branch_ZPlusStr_22;
			branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			decref(v9);
			branch_ArgpOption_13 = in_ArgpOption_3;
			branch_Int_12 = v8;
			branch_ZPlusStr_11 = v7;
			branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
		} break;
	}
	incref(branch_ArgpOption_13);
	VAL v28 = VTUP(branch_ArgpOption_13)->cells[2];
	incref(v28);
	decref(branch_ArgpOption_13);
	int64_t v29 = mw_argZ_parser_types_ArgpOptionType_hasZ_shortZAsk(v28);
	VAL branch_ArgpOption_30;
	int64_t branch_Bool_31;
	if (((bool)v29)) {
		incref(branch_ArgpOption_13);
		VAL v32 = VTUP(branch_ArgpOption_13)->cells[1];
		incref(v32);
		decref(branch_ArgpOption_13);
		int64_t v33 = get_data_tag(v32);
		decref(v32);
		int64_t v34 = 1LL;
		bool v35 = (v33 == v34);
		branch_Bool_31 = ((int64_t)v35);
		branch_ArgpOption_30 = branch_ArgpOption_13;
	} else {
		int64_t v36 = 0LL /* False */;
		branch_Bool_31 = v36;
		branch_ArgpOption_30 = branch_ArgpOption_13;
	}
	VAL branch_ZPlusStr_37;
	int64_t branch_Int_38;
	if (((bool)branch_Bool_31)) {
		STR* v39;
		STRLIT(v39, ", ", 2);
		VAL v40;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v39), branch_ZPlusStr_11, &v40);
		int64_t v41 = 2LL;
		int64_t v42 = i64_add(branch_Int_12, v41);
		branch_Int_38 = v42;
		branch_ZPlusStr_37 = v40;
	} else {
		branch_Int_38 = branch_Int_12;
		branch_ZPlusStr_37 = branch_ZPlusStr_11;
	}
	incref(branch_ArgpOption_30);
	VAL v43 = VTUP(branch_ArgpOption_30)->cells[1];
	incref(v43);
	decref(branch_ArgpOption_30);
	int64_t branch_Int_44;
	VAL branch_ZPlusStr_45;
	VAL branch_ArgpOption_46;
	switch (get_data_tag(v43)) {
		case 1LL: { // Some
			VAL v47 = mtp_std_maybe_Maybe_1_Some(v43);
			incref(v47);
			uint64_t v48 = str_size(value_str(v47));
			int64_t v49 = 2LL;
			int64_t v50 = i64_add(branch_Int_38, v49);
			int64_t v51 = i64_add(((int64_t)v48), v50);
			STR* v52;
			STRLIT(v52, "--", 2);
			VAL v53;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v52), branch_ZPlusStr_37, &v53);
			VAL v54;
			mw_std_str_ZPlusStr_pushZ_strZBang(v47, v53, &v54);
			incref(branch_ArgpOption_30);
			VAL v55 = VTUP(branch_ArgpOption_30)->cells[3];
			incref(v55);
			decref(branch_ArgpOption_30);
			int64_t branch_Int_56;
			VAL branch_ZPlusStr_57;
			switch (get_data_tag(v55)) {
				case 1LL: { // Some
					VAL v58 = mtp_std_maybe_Maybe_1_Some(v55);
					incref(v58);
					uint64_t v59 = str_size(value_str(v58));
					int64_t v60 = 1LL;
					int64_t v61 = i64_add(v51, v60);
					int64_t v62 = i64_add(((int64_t)v59), v61);
					STR* v63;
					STRLIT(v63, " ", 1);
					VAL v64;
					mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v63), v54, &v64);
					VAL v65;
					mw_std_str_ZPlusStr_pushZ_strZBang(v58, v64, &v65);
					branch_ZPlusStr_57 = v65;
					branch_Int_56 = v62;
				} break;
				case 0LL: { // None
					branch_ZPlusStr_57 = v54;
					branch_Int_56 = v51;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ArgpOption_46 = branch_ArgpOption_30;
			branch_ZPlusStr_45 = branch_ZPlusStr_57;
			branch_Int_44 = branch_Int_56;
		} break;
		case 0LL: { // None
			branch_ArgpOption_46 = branch_ArgpOption_30;
			branch_ZPlusStr_45 = branch_ZPlusStr_37;
			branch_Int_44 = branch_Int_38;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_ArgpOption_46);
	VAL v66 = VTUP(branch_ArgpOption_46)->cells[4];
	incref(v66);
	decref(branch_ArgpOption_46);
	int64_t branch_Int_67;
	VAL branch_ZPlusArgumentParser_68;
	VAL branch_ZPlusStr_69;
	switch (get_data_tag(v66)) {
		case 1LL: { // Some
			VAL v70 = mtp_std_maybe_Maybe_1_Some(v66);
			VAL v71 = VTUP(branch_ZPlusArgumentParser_10)->cells[2];
			incref(v71);
			int64_t v72 = value_i64(VTUP(v71)->cells[5]);
			decref(v71);
			bool v73 = (branch_Int_44 < v72);
			VAL branch_Str_74;
			int64_t branch_Int_75;
			VAL branch_ZPlusArgumentParser_76;
			VAL branch_ZPlusStr_77;
			if (v73) {
				int64_t v78 = i64_sub(v72, branch_Int_44);
				int64_t v79 = 0LL;
				VAL v80 = mw_std_prim_Int_range(v79, v78);
				int64_t v81 = 1LL /* True */;
				VAL v82 = branch_ZPlusStr_45;
				VAL v83 = v80;
				int64_t v84 = v81;
				int64_t v85 = v81;
				while (((bool)v85)) {
					VAL v86 = v82;
					VAL v87 = v83;
					int64_t v88 = v84;
					VAL branch_ZPlusStr_89;
					VAL branch_List_90;
					int64_t branch_Bool_91;
					switch (get_data_tag(v87)) {
						case 1LL: { // Cons
							VAL v92;
							VAL v93 = mtp_std_list_List_1_Cons(v87, &v92);
							decref(v93);
							STR* v94;
							STRLIT(v94, " ", 1);
							VAL v95;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v94), v86, &v95);
							int64_t v96 = 1LL /* True */;
							branch_Bool_91 = v96;
							branch_List_90 = v92;
							branch_ZPlusStr_89 = v95;
						} break;
						case 0LL: { // Nil
							VAL v97 = MKI64(0LL /* Nil */);
							int64_t v98 = 0LL /* False */;
							branch_Bool_91 = v98;
							branch_List_90 = v97;
							branch_ZPlusStr_89 = v86;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v85 = branch_Bool_91;
					v84 = branch_Bool_91;
					v83 = branch_List_90;
					v82 = branch_ZPlusStr_89;
				}
				decref(v83);
				branch_ZPlusStr_77 = v82;
				branch_ZPlusArgumentParser_76 = branch_ZPlusArgumentParser_10;
				branch_Int_75 = branch_Int_44;
				branch_Str_74 = v70;
			} else {
				branch_ZPlusStr_77 = branch_ZPlusStr_45;
				branch_ZPlusArgumentParser_76 = branch_ZPlusArgumentParser_10;
				branch_Int_75 = branch_Int_44;
				branch_Str_74 = v70;
			}
			STR* v99;
			STRLIT(v99, "    ", 4);
			VAL v100;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v99), branch_ZPlusStr_77, &v100);
			VAL v101;
			mw_std_str_ZPlusStr_pushZ_strZBang(branch_Str_74, v100, &v101);
			branch_ZPlusStr_69 = v101;
			branch_ZPlusArgumentParser_68 = branch_ZPlusArgumentParser_76;
			branch_Int_67 = branch_Int_75;
		} break;
		case 0LL: { // None
			branch_ZPlusStr_69 = branch_ZPlusStr_45;
			branch_ZPlusArgumentParser_68 = branch_ZPlusArgumentParser_10;
			branch_Int_67 = branch_Int_44;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v102;
	STRLIT(v102, "\n", 1);
	VAL v103;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v102), branch_ZPlusStr_69, &v103);
	decref(branch_ArgpOption_46);
	*out_ZPlusStr_5 = v103;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_68;
}
static VAL mw_argZ_parser_parse_checkZ_shortZ_flag (VAL in_ZPlusArgumentParser_1, VAL in_ArgpOption_2, VAL in_Str_3, VAL *out_ZPlusArgumentParser_4, int64_t *out_Bool_6) {
	incref(in_ArgpOption_2);
	VAL v7 = VTUP(in_ArgpOption_2)->cells[2];
	incref(v7);
	decref(in_ArgpOption_2);
	VAL branch_ZPlusArgumentParser_8;
	VAL branch_ArgpOption_9;
	int64_t branch_Bool_10;
	switch (get_data_tag(v7)) {
		case 0LL: { // Short
			int64_t v11 = mtp_argZ_parser_types_ArgpOptionType_Short(v7);
			int64_t v12 = 0LL;
			int64_t v13 = mw_std_prim_Str_byteZAt(v12, in_Str_3);
			bool v14 = (v11 == v13);
			branch_Bool_10 = ((int64_t)v14);
			branch_ArgpOption_9 = in_ArgpOption_2;
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			decref(v7);
			decref(in_Str_3);
			int64_t v15 = 0LL /* False */;
			branch_Bool_10 = v15;
			branch_ArgpOption_9 = in_ArgpOption_2;
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
	}
	*out_Bool_6 = branch_Bool_10;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_8;
	return branch_ArgpOption_9;
}
static VAL mw_argZ_parser_parse_checkZ_longZ_flag (VAL in_ZPlusArgumentParser_1, VAL in_ArgpOption_2, VAL in_Str_3, VAL *out_ZPlusArgumentParser_4, int64_t *out_Bool_6) {
	incref(in_ArgpOption_2);
	VAL v7 = VTUP(in_ArgpOption_2)->cells[1];
	incref(v7);
	decref(in_ArgpOption_2);
	VAL branch_ZPlusArgumentParser_8;
	VAL branch_ArgpOption_9;
	int64_t branch_Bool_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			bool v12 = (str_cmp(value_str(in_Str_3), value_str(v11)) == 0);
			branch_Bool_10 = ((int64_t)v12);
			branch_ArgpOption_9 = in_ArgpOption_2;
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		case 0LL: { // None
			decref(in_Str_3);
			int64_t v13 = 0LL /* False */;
			branch_Bool_10 = v13;
			branch_ArgpOption_9 = in_ArgpOption_2;
			branch_ZPlusArgumentParser_8 = in_ZPlusArgumentParser_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Bool_6 = branch_Bool_10;
	*out_ZPlusArgumentParser_4 = branch_ZPlusArgumentParser_8;
	return branch_ArgpOption_9;
}
static VAL mw_argZ_parser_parse_parseZ_flags (VAL in_ZPlusArgumentParser_1, VAL in_Str_2, VAL *out_ZPlusArgumentParser_3) {
	incref(in_Str_2);
	uint64_t v5 = str_size(value_str(in_Str_2));
	int64_t v6 = 2LL;
	bool v7 = (((int64_t)v5) >= v6);
	VAL branch_Str_8;
	int64_t branch_Bool_9;
	if (v7) {
		int64_t v10 = 1LL;
		incref(in_Str_2);
		int64_t v11 = mw_std_prim_Str_byteZAt(v10, in_Str_2);
		int64_t v12 = 45LL /* B'-' */;
		bool v13 = (v11 == v12);
		branch_Bool_9 = ((int64_t)v13);
		branch_Str_8 = in_Str_2;
	} else {
		int64_t v14 = 0LL /* False */;
		branch_Bool_9 = v14;
		branch_Str_8 = in_Str_2;
	}
	VAL branch_Str_15;
	VAL branch_ZPlusArgumentParser_16;
	VAL branch_Maybe_17;
	if (((bool)branch_Bool_9)) {
		int64_t v18 = 2LL;
		incref(branch_Str_8);
		int64_t v19 = 0LL /* +Unsafe */;
		VAL v20 = mw_std_prim_Str_dropZ_bytes(v18, branch_Str_8);
		VAL v21 = VTUP(in_ZPlusArgumentParser_1)->cells[1];
		incref(v21);
		VAL v22 = VTUP(v21)->cells[1];
		incref(v22);
		decref(v21);
		VAL v23 = MKI64(0LL /* None */);
		int64_t v24 = 1LL /* True */;
		VAL v25 = in_ZPlusArgumentParser_1;
		VAL v26 = v20;
		VAL v27 = v23;
		VAL v28 = v22;
		int64_t v29 = v24;
		int64_t v30 = v24;
		while (((bool)v30)) {
			VAL v31 = v25;
			VAL v32 = v26;
			VAL v33 = v27;
			VAL v34 = v28;
			int64_t v35 = v29;
			VAL v36;
			VAL v37 = mw_std_list_List_1_uncons(v34, &v36);
			VAL branch_Str_38;
			VAL branch_ZPlusArgumentParser_39;
			VAL branch_Maybe_40;
			VAL branch_List_41;
			int64_t branch_Bool_42;
			switch (get_data_tag(v37)) {
				case 1LL: { // Some
					VAL v43 = mtp_std_maybe_Maybe_1_Some(v37);
					incref(v43);
					incref(v32);
					VAL v44;
					int64_t v45;
					VAL v46 = mw_argZ_parser_parse_checkZ_longZ_flag(v31, v43, v32, &v44, &v45);
					decref(v46);
					VAL branch_Str_47;
					VAL branch_ZPlusArgumentParser_48;
					VAL branch_Maybe_49;
					if (((bool)v45)) {
						VAL v50 = mtw_std_maybe_Maybe_1_Some(v43);
						branch_Maybe_49 = v50;
						branch_ZPlusArgumentParser_48 = v44;
						branch_Str_47 = v32;
					} else {
						decref(v43);
						VAL v51 = MKI64(0LL /* None */);
						branch_Maybe_49 = v51;
						branch_ZPlusArgumentParser_48 = v44;
						branch_Str_47 = v32;
					}
					VAL branch_Str_52;
					VAL branch_ZPlusArgumentParser_53;
					VAL branch_Maybe_54;
					VAL branch_List_55;
					switch (get_data_tag(branch_Maybe_49)) {
						case 0LL: { // None
							branch_List_55 = v36;
							branch_Maybe_54 = v33;
							branch_ZPlusArgumentParser_53 = branch_ZPlusArgumentParser_48;
							branch_Str_52 = branch_Str_47;
						} break;
						default: {
							decref(v36);
							decref(v33);
							VAL v56 = MKI64(0LL /* Nil */);
							branch_List_55 = v56;
							branch_Maybe_54 = branch_Maybe_49;
							branch_ZPlusArgumentParser_53 = branch_ZPlusArgumentParser_48;
							branch_Str_52 = branch_Str_47;
						} break;
					}
					int64_t v57 = 1LL /* True */;
					branch_Bool_42 = v57;
					branch_List_41 = branch_List_55;
					branch_Maybe_40 = branch_Maybe_54;
					branch_ZPlusArgumentParser_39 = branch_ZPlusArgumentParser_53;
					branch_Str_38 = branch_Str_52;
				} break;
				case 0LL: { // None
					int64_t v58 = 0LL /* False */;
					branch_Bool_42 = v58;
					branch_List_41 = v36;
					branch_Maybe_40 = v33;
					branch_ZPlusArgumentParser_39 = v31;
					branch_Str_38 = v32;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v30 = branch_Bool_42;
			v29 = branch_Bool_42;
			v28 = branch_List_41;
			v27 = branch_Maybe_40;
			v26 = branch_Str_38;
			v25 = branch_ZPlusArgumentParser_39;
		}
		decref(v28);
		decref(v26);
		VAL branch_ZPlusArgumentParser_59;
		VAL branch_Maybe_60;
		switch (get_data_tag(v27)) {
			case 1LL: { // Some
				VAL v61 = mtp_std_maybe_Maybe_1_Some(v27);
				incref(v61);
				VAL v62 = VTUP(v61)->cells[3];
				incref(v62);
				decref(v61);
				VAL branch_ZPlusArgumentParser_63;
				switch (get_data_tag(v62)) {
					case 1LL: { // Some
						VAL v64 = mtp_std_maybe_Maybe_1_Some(v62);
						int64_t v65 = 1LL /* True */;
						VAL v66 = VTUP(v25)->cells[2];
						incref(v66);
						VAL v67 = mw_argZ_parser_state_State_1_parsingZAskZBang(v65, v66);
						VAL v68 = VTUP(v25)->cells[2];
						decref(v68);
						VTUP(v25)->cells[2] = v67;
						decref(v64);
						VAL v69 = mtw_std_maybe_Maybe_1_Some(v61);
						VAL v70 = VTUP(v25)->cells[2];
						incref(v70);
						VAL v71 = mw_argZ_parser_state_State_1_optionZ_optionZBang(v69, v70);
						VAL v72 = VTUP(v25)->cells[2];
						decref(v72);
						VTUP(v25)->cells[2] = v71;
						branch_ZPlusArgumentParser_63 = v25;
					} break;
					case 0LL: { // None
						VAL v73 = VTUP(v61)->cells[2];
						incref(v73);
						decref(v61);
						VAL v74 = VTUP(v25)->cells[2];
						incref(v74);
						VAL v75 = VTUP(v74)->cells[1];
						incref(v75);
						decref(v74);
						VAL v76 = MKI64(0LL /* None */);
						VAL v77;
						VAL v78 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(v25, &v77);
						push_value(v75);
						push_value(v76);
						push_value(v73);
						push_resource(v77);
						run_value(v78);
						VAL r79 = pop_resource();
						VAL v80 = VTUP(r79)->cells[2];
						incref(v80);
						VAL v81 = pop_value();
						VAL v82 = tup_replace(v80, 1, v81);
						VAL v83 = VTUP(r79)->cells[2];
						decref(v83);
						VTUP(r79)->cells[2] = v82;
						branch_ZPlusArgumentParser_63 = r79;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v84 = MKI64(0LL /* None */);
				branch_Maybe_60 = v84;
				branch_ZPlusArgumentParser_59 = branch_ZPlusArgumentParser_63;
			} break;
			case 0LL: { // None
				VAL v85 = MKI64(4LL /* UnknownArg */);
				VAL v86 = mtw_std_maybe_Maybe_1_Some(v85);
				branch_Maybe_60 = v86;
				branch_ZPlusArgumentParser_59 = v25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Maybe_17 = branch_Maybe_60;
		branch_ZPlusArgumentParser_16 = branch_ZPlusArgumentParser_59;
		branch_Str_15 = branch_Str_8;
	} else {
		int64_t v87 = 1LL;
		incref(branch_Str_8);
		int64_t v88 = 0LL /* +Unsafe */;
		VAL v89 = mw_std_prim_Str_dropZ_bytes(v87, branch_Str_8);
		VAL v90 = VTUP(in_ZPlusArgumentParser_1)->cells[1];
		incref(v90);
		VAL v91 = VTUP(v90)->cells[1];
		incref(v91);
		decref(v90);
		VAL v92 = MKI64(0LL /* None */);
		int64_t v93 = 1LL /* True */;
		VAL v94 = in_ZPlusArgumentParser_1;
		VAL v95 = v89;
		VAL v96 = v92;
		VAL v97 = v91;
		int64_t v98 = v93;
		int64_t v99 = v93;
		while (((bool)v99)) {
			VAL v100 = v94;
			VAL v101 = v95;
			VAL v102 = v96;
			VAL v103 = v97;
			int64_t v104 = v98;
			VAL v105;
			VAL v106 = mw_std_list_List_1_uncons(v103, &v105);
			VAL branch_Str_107;
			VAL branch_ZPlusArgumentParser_108;
			VAL branch_Maybe_109;
			VAL branch_List_110;
			int64_t branch_Bool_111;
			switch (get_data_tag(v106)) {
				case 1LL: { // Some
					VAL v112 = mtp_std_maybe_Maybe_1_Some(v106);
					incref(v112);
					incref(v101);
					VAL v113;
					int64_t v114;
					VAL v115 = mw_argZ_parser_parse_checkZ_shortZ_flag(v100, v112, v101, &v113, &v114);
					decref(v115);
					VAL branch_Str_116;
					VAL branch_ZPlusArgumentParser_117;
					VAL branch_Maybe_118;
					if (((bool)v114)) {
						VAL v119 = mtw_std_maybe_Maybe_1_Some(v112);
						branch_Maybe_118 = v119;
						branch_ZPlusArgumentParser_117 = v113;
						branch_Str_116 = v101;
					} else {
						decref(v112);
						VAL v120 = MKI64(0LL /* None */);
						branch_Maybe_118 = v120;
						branch_ZPlusArgumentParser_117 = v113;
						branch_Str_116 = v101;
					}
					VAL branch_Str_121;
					VAL branch_ZPlusArgumentParser_122;
					VAL branch_Maybe_123;
					VAL branch_List_124;
					switch (get_data_tag(branch_Maybe_118)) {
						case 0LL: { // None
							branch_List_124 = v105;
							branch_Maybe_123 = v102;
							branch_ZPlusArgumentParser_122 = branch_ZPlusArgumentParser_117;
							branch_Str_121 = branch_Str_116;
						} break;
						default: {
							decref(v105);
							decref(v102);
							VAL v125 = MKI64(0LL /* Nil */);
							branch_List_124 = v125;
							branch_Maybe_123 = branch_Maybe_118;
							branch_ZPlusArgumentParser_122 = branch_ZPlusArgumentParser_117;
							branch_Str_121 = branch_Str_116;
						} break;
					}
					int64_t v126 = 1LL /* True */;
					branch_Bool_111 = v126;
					branch_List_110 = branch_List_124;
					branch_Maybe_109 = branch_Maybe_123;
					branch_ZPlusArgumentParser_108 = branch_ZPlusArgumentParser_122;
					branch_Str_107 = branch_Str_121;
				} break;
				case 0LL: { // None
					int64_t v127 = 0LL /* False */;
					branch_Bool_111 = v127;
					branch_List_110 = v105;
					branch_Maybe_109 = v102;
					branch_ZPlusArgumentParser_108 = v100;
					branch_Str_107 = v101;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v99 = branch_Bool_111;
			v98 = branch_Bool_111;
			v97 = branch_List_110;
			v96 = branch_Maybe_109;
			v95 = branch_Str_107;
			v94 = branch_ZPlusArgumentParser_108;
		}
		decref(v97);
		decref(v95);
		VAL branch_ZPlusArgumentParser_128;
		VAL branch_Maybe_129;
		switch (get_data_tag(v96)) {
			case 1LL: { // Some
				VAL v130 = mtp_std_maybe_Maybe_1_Some(v96);
				incref(v130);
				VAL v131 = VTUP(v130)->cells[3];
				incref(v131);
				decref(v130);
				VAL branch_ZPlusArgumentParser_132;
				switch (get_data_tag(v131)) {
					case 1LL: { // Some
						VAL v133 = mtp_std_maybe_Maybe_1_Some(v131);
						int64_t v134 = 1LL /* True */;
						VAL v135 = VTUP(v94)->cells[2];
						incref(v135);
						VAL v136 = mw_argZ_parser_state_State_1_parsingZAskZBang(v134, v135);
						VAL v137 = VTUP(v94)->cells[2];
						decref(v137);
						VTUP(v94)->cells[2] = v136;
						decref(v133);
						VAL v138 = mtw_std_maybe_Maybe_1_Some(v130);
						VAL v139 = VTUP(v94)->cells[2];
						incref(v139);
						VAL v140 = mw_argZ_parser_state_State_1_optionZ_optionZBang(v138, v139);
						VAL v141 = VTUP(v94)->cells[2];
						decref(v141);
						VTUP(v94)->cells[2] = v140;
						branch_ZPlusArgumentParser_132 = v94;
					} break;
					case 0LL: { // None
						VAL v142 = VTUP(v130)->cells[2];
						incref(v142);
						decref(v130);
						VAL v143 = VTUP(v94)->cells[2];
						incref(v143);
						VAL v144 = VTUP(v143)->cells[1];
						incref(v144);
						decref(v143);
						VAL v145 = MKI64(0LL /* None */);
						VAL v146;
						VAL v147 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(v94, &v146);
						push_value(v144);
						push_value(v145);
						push_value(v142);
						push_resource(v146);
						run_value(v147);
						VAL r148 = pop_resource();
						VAL v149 = VTUP(r148)->cells[2];
						incref(v149);
						VAL v150 = pop_value();
						VAL v151 = tup_replace(v149, 1, v150);
						VAL v152 = VTUP(r148)->cells[2];
						decref(v152);
						VTUP(r148)->cells[2] = v151;
						branch_ZPlusArgumentParser_132 = r148;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v153 = MKI64(0LL /* None */);
				branch_Maybe_129 = v153;
				branch_ZPlusArgumentParser_128 = branch_ZPlusArgumentParser_132;
			} break;
			case 0LL: { // None
				VAL v154 = MKI64(4LL /* UnknownArg */);
				VAL v155 = mtw_std_maybe_Maybe_1_Some(v154);
				branch_Maybe_129 = v155;
				branch_ZPlusArgumentParser_128 = v94;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Maybe_17 = branch_Maybe_129;
		branch_ZPlusArgumentParser_16 = branch_ZPlusArgumentParser_128;
		branch_Str_15 = branch_Str_8;
	}
	decref(branch_Str_15);
	*out_ZPlusArgumentParser_3 = branch_ZPlusArgumentParser_16;
	return branch_Maybe_17;
}
static VAL mw_argZ_parser_parse_doZ_positionalZ_option (VAL in_ZPlusArgumentParser_1, VAL in_Str_2, VAL *out_ZPlusArgumentParser_3) {
	VAL v5 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
	incref(v5);
	VAL v6 = VTUP(v5)->cells[1];
	incref(v6);
	decref(v5);
	VAL v7 = mtw_std_maybe_Maybe_1_Some(in_Str_2);
	VAL v8 = MKI64(2LL /* Positional */);
	VAL v9;
	VAL v10 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(in_ZPlusArgumentParser_1, &v9);
	push_value(v6);
	push_value(v7);
	push_value(v8);
	push_resource(v9);
	run_value(v10);
	VAL r11 = pop_resource();
	VAL v12 = VTUP(r11)->cells[2];
	incref(v12);
	VAL v13 = pop_value();
	VAL v14 = tup_replace(v12, 1, v13);
	VAL v15 = VTUP(r11)->cells[2];
	decref(v15);
	VTUP(r11)->cells[2] = v14;
	VAL v16 = MKI64(0LL /* None */);
	VAL v17 = VTUP(r11)->cells[2];
	incref(v17);
	int64_t v18 = value_i64(VTUP(v17)->cells[4]);
	decref(v17);
	int64_t v19 = 1LL;
	int64_t v20 = i64_add(v18, v19);
	VAL v21 = VTUP(r11)->cells[2];
	incref(v21);
	VAL v22 = tup_replace(v21, 4, MKI64(v20));
	VAL v23 = VTUP(r11)->cells[2];
	decref(v23);
	VTUP(r11)->cells[2] = v22;
	*out_ZPlusArgumentParser_3 = r11;
	return v16;
}
static VAL mw_argZ_parser_parse_parseZ_args (VAL in_a_1, VAL in_ArgumentParser_2) {
	VAL v4 = mw_argZ_parser_state_State_1_init(in_a_1);
	VAL v5;
	mtw_argZ_parser_types_ZPlusArgumentParser_1_ZPlusArgumentParser(in_ArgumentParser_2, v4, &v5);
	VAL v6 = VTUP(v5)->cells[1];
	incref(v6);
	VAL v7 = VTUP(v6)->cells[1];
	incref(v7);
	decref(v6);
	int64_t v8 = 1LL /* True */;
	VAL v9 = v5;
	VAL v10 = v7;
	int64_t v11 = v8;
	int64_t v12 = v8;
	while (((bool)v12)) {
		VAL v13 = v9;
		VAL v14 = v10;
		int64_t v15 = v11;
		VAL branch_ZPlusArgumentParser_16;
		VAL branch_List_17;
		int64_t branch_Bool_18;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v19;
				VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
				int64_t v21 = 0LL;
				incref(v20);
				VAL v22 = VTUP(v20)->cells[2];
				incref(v22);
				decref(v20);
				VAL branch_ZPlusArgumentParser_23;
				VAL branch_ArgpOption_24;
				int64_t branch_Int_25;
				switch (get_data_tag(v22)) {
					case 0LL: { // Short
						int64_t v26 = mtp_argZ_parser_types_ArgpOptionType_Short(v22);
						int64_t v27 = 2LL;
						int64_t v28 = i64_add(v21, v27);
						branch_Int_25 = v28;
						branch_ArgpOption_24 = v20;
						branch_ZPlusArgumentParser_23 = v13;
					} break;
					default: {
						decref(v22);
						branch_Int_25 = v21;
						branch_ArgpOption_24 = v20;
						branch_ZPlusArgumentParser_23 = v13;
					} break;
				}
				incref(branch_ArgpOption_24);
				VAL v29 = VTUP(branch_ArgpOption_24)->cells[1];
				incref(v29);
				decref(branch_ArgpOption_24);
				int64_t branch_Int_30;
				switch (get_data_tag(v29)) {
					case 1LL: { // Some
						VAL v31 = mtp_std_maybe_Maybe_1_Some(v29);
						uint64_t v32 = str_size(value_str(v31));
						int64_t v33 = 3LL;
						int64_t v34 = i64_add(branch_Int_25, v33);
						int64_t v35 = i64_add(((int64_t)v32), v34);
						branch_Int_30 = v35;
					} break;
					case 0LL: { // None
						branch_Int_30 = branch_Int_25;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v36 = VTUP(branch_ArgpOption_24)->cells[3];
				incref(v36);
				decref(branch_ArgpOption_24);
				int64_t branch_Int_37;
				switch (get_data_tag(v36)) {
					case 1LL: { // Some
						VAL v38 = mtp_std_maybe_Maybe_1_Some(v36);
						uint64_t v39 = str_size(value_str(v38));
						int64_t v40 = 1LL;
						int64_t v41 = i64_add(branch_Int_30, v40);
						int64_t v42 = i64_add(((int64_t)v39), v41);
						branch_Int_37 = v42;
					} break;
					case 0LL: { // None
						branch_Int_37 = branch_Int_30;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v43 = VTUP(branch_ZPlusArgumentParser_23)->cells[2];
				incref(v43);
				int64_t v44 = value_i64(VTUP(v43)->cells[5]);
				decref(v43);
				bool v45 = (branch_Int_37 > v44);
				VAL branch_ZPlusArgumentParser_46;
				if (v45) {
					VAL v47 = VTUP(branch_ZPlusArgumentParser_23)->cells[2];
					incref(v47);
					VAL v48 = tup_replace(v47, 5, MKI64(branch_Int_37));
					VAL v49 = VTUP(branch_ZPlusArgumentParser_23)->cells[2];
					decref(v49);
					VTUP(branch_ZPlusArgumentParser_23)->cells[2] = v48;
					branch_ZPlusArgumentParser_46 = branch_ZPlusArgumentParser_23;
				} else {
					branch_ZPlusArgumentParser_46 = branch_ZPlusArgumentParser_23;
				}
				int64_t v50 = 1LL /* True */;
				branch_Bool_18 = v50;
				branch_List_17 = v19;
				branch_ZPlusArgumentParser_16 = branch_ZPlusArgumentParser_46;
			} break;
			case 0LL: { // Nil
				VAL v51 = MKI64(0LL /* Nil */);
				int64_t v52 = 0LL /* False */;
				branch_Bool_18 = v52;
				branch_List_17 = v51;
				branch_ZPlusArgumentParser_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_18;
		v11 = branch_Bool_18;
		v10 = branch_List_17;
		v9 = branch_ZPlusArgumentParser_16;
	}
	decref(v10);
	VAL v53 = VTUP(v9)->cells[2];
	incref(v53);
	VAL v54 = mw_argZ_parser_state_State_1_argv(v53);
	int64_t v55 = 1LL /* True */;
	VAL v56 = v9;
	VAL v57 = v54;
	int64_t v58 = v55;
	int64_t v59 = v55;
	while (((bool)v59)) {
		VAL v60 = v56;
		VAL v61 = v57;
		int64_t v62 = v58;
		VAL branch_ZPlusArgumentParser_63;
		VAL branch_List_64;
		int64_t branch_Bool_65;
		switch (get_data_tag(v61)) {
			case 1LL: { // Cons
				VAL v66;
				VAL v67 = mtp_std_list_List_1_Cons(v61, &v66);
				incref(v67);
				uint64_t v68 = str_size(value_str(v67));
				int64_t v69 = 1LL;
				bool v70 = (((int64_t)v68) > v69);
				VAL branch_ZPlusArgumentParser_71;
				VAL branch_Maybe_72;
				if (v70) {
					int64_t v73 = 0LL;
					incref(v67);
					int64_t v74 = mw_std_prim_Str_byteZAt(v73, v67);
					int64_t v75 = 45LL /* B'-' */;
					bool v76 = (v74 == v75);
					VAL branch_ZPlusArgumentParser_77;
					VAL branch_Maybe_78;
					if (v76) {
						VAL v79 = VTUP(v60)->cells[2];
						incref(v79);
						int64_t v80 = mw_argZ_parser_state_State_1_parsingZAsk(v79);
						VAL branch_ZPlusArgumentParser_81;
						VAL branch_Maybe_82;
						if (((bool)v80)) {
							decref(v67);
							VAL v83 = VTUP(v60)->cells[2];
							incref(v83);
							VAL v84 = mw_argZ_parser_state_State_1_optionZ_option(v83);
							VAL branch_ZPlusArgumentParser_85;
							VAL branch_Maybe_86;
							switch (get_data_tag(v84)) {
								case 1LL: { // Some
									VAL v87 = mtp_std_maybe_Maybe_1_Some(v84);
									VAL v88 = VTUP(v87)->cells[3];
									incref(v88);
									decref(v87);
									VAL branch_ZPlusArgumentParser_89;
									VAL branch_Maybe_90;
									switch (get_data_tag(v88)) {
										case 1LL: { // Some
											VAL v91 = mtp_std_maybe_Maybe_1_Some(v88);
											decref(v91);
											VAL v92 = MKI64(0LL /* MissingArgValue */);
											VAL v93 = mtw_std_maybe_Maybe_1_Some(v92);
											branch_Maybe_90 = v93;
											branch_ZPlusArgumentParser_89 = v60;
										} break;
										case 0LL: { // None
											int64_t v94 = 0LL /* False */;
											VAL v95 = VTUP(v60)->cells[2];
											incref(v95);
											VAL v96 = mw_argZ_parser_state_State_1_parsingZAskZBang(v94, v95);
											VAL v97 = VTUP(v60)->cells[2];
											decref(v97);
											VTUP(v60)->cells[2] = v96;
											VAL v98 = MKI64(0LL /* None */);
											branch_Maybe_90 = v98;
											branch_ZPlusArgumentParser_89 = v60;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_Maybe_86 = branch_Maybe_90;
									branch_ZPlusArgumentParser_85 = branch_ZPlusArgumentParser_89;
								} break;
								case 0LL: { // None
									VAL v99 = MKI64(0LL /* MissingArgValue */);
									VAL v100 = mtw_std_maybe_Maybe_1_Some(v99);
									branch_Maybe_86 = v100;
									branch_ZPlusArgumentParser_85 = v60;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							branch_Maybe_82 = branch_Maybe_86;
							branch_ZPlusArgumentParser_81 = branch_ZPlusArgumentParser_85;
						} else {
							VAL v101;
							VAL v102 = mw_argZ_parser_parse_parseZ_flags(v60, v67, &v101);
							branch_Maybe_82 = v102;
							branch_ZPlusArgumentParser_81 = v101;
						}
						branch_Maybe_78 = branch_Maybe_82;
						branch_ZPlusArgumentParser_77 = branch_ZPlusArgumentParser_81;
					} else {
						VAL v103 = VTUP(v60)->cells[2];
						incref(v103);
						int64_t v104 = mw_argZ_parser_state_State_1_parsingZAsk(v103);
						VAL branch_Maybe_105;
						VAL branch_ZPlusArgumentParser_106;
						if (((bool)v104)) {
							VAL v107 = VTUP(v60)->cells[2];
							incref(v107);
							VAL v108 = mw_argZ_parser_state_State_1_optionZ_option(v107);
							VAL branch_ZPlusArgumentParser_109;
							VAL branch_Maybe_110;
							switch (get_data_tag(v108)) {
								case 1LL: { // Some
									VAL v111 = mtp_std_maybe_Maybe_1_Some(v108);
									incref(v111);
									VAL v112 = VTUP(v111)->cells[3];
									incref(v112);
									decref(v111);
									VAL branch_ZPlusArgumentParser_113;
									VAL branch_Maybe_114;
									switch (get_data_tag(v112)) {
										case 1LL: { // Some
											VAL v115 = mtp_std_maybe_Maybe_1_Some(v112);
											decref(v115);
											VAL v116 = VTUP(v60)->cells[2];
											incref(v116);
											VAL v117 = VTUP(v116)->cells[1];
											incref(v117);
											decref(v116);
											VAL v118 = mtw_std_maybe_Maybe_1_Some(v67);
											VAL v119 = VTUP(v111)->cells[2];
											incref(v119);
											decref(v111);
											VAL v120;
											VAL v121 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(v60, &v120);
											push_value(v117);
											push_value(v118);
											push_value(v119);
											push_resource(v120);
											run_value(v121);
											VAL r122 = pop_resource();
											VAL v123 = pop_value();
											VAL v124 = VTUP(r122)->cells[2];
											incref(v124);
											VAL v125 = tup_replace(v124, 1, v123);
											VAL v126 = VTUP(r122)->cells[2];
											decref(v126);
											VTUP(r122)->cells[2] = v125;
											VAL v127 = MKI64(0LL /* None */);
											branch_Maybe_114 = v127;
											branch_ZPlusArgumentParser_113 = r122;
										} break;
										case 0LL: { // None
											decref(v111);
											decref(v67);
											VAL v128 = MKI64(4LL /* UnknownArg */);
											VAL v129 = mtw_std_maybe_Maybe_1_Some(v128);
											branch_Maybe_114 = v129;
											branch_ZPlusArgumentParser_113 = v60;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_Maybe_110 = branch_Maybe_114;
									branch_ZPlusArgumentParser_109 = branch_ZPlusArgumentParser_113;
								} break;
								case 0LL: { // None
									decref(v67);
									VAL v130 = MKI64(4LL /* UnknownArg */);
									VAL v131 = mtw_std_maybe_Maybe_1_Some(v130);
									branch_Maybe_110 = v131;
									branch_ZPlusArgumentParser_109 = v60;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							int64_t v132 = 0LL /* False */;
							VAL v133 = VTUP(branch_ZPlusArgumentParser_109)->cells[2];
							incref(v133);
							VAL v134 = mw_argZ_parser_state_State_1_parsingZAskZBang(v132, v133);
							VAL v135 = VTUP(branch_ZPlusArgumentParser_109)->cells[2];
							decref(v135);
							VTUP(branch_ZPlusArgumentParser_109)->cells[2] = v134;
							branch_ZPlusArgumentParser_106 = branch_ZPlusArgumentParser_109;
							branch_Maybe_105 = branch_Maybe_110;
						} else {
							VAL v136;
							VAL v137 = mw_argZ_parser_parse_doZ_positionalZ_option(v60, v67, &v136);
							branch_ZPlusArgumentParser_106 = v136;
							branch_Maybe_105 = v137;
						}
						branch_Maybe_78 = branch_Maybe_105;
						branch_ZPlusArgumentParser_77 = branch_ZPlusArgumentParser_106;
					}
					branch_Maybe_72 = branch_Maybe_78;
					branch_ZPlusArgumentParser_71 = branch_ZPlusArgumentParser_77;
				} else {
					decref(v67);
					VAL v138 = MKI64(0LL /* None */);
					branch_Maybe_72 = v138;
					branch_ZPlusArgumentParser_71 = v60;
				}
				VAL branch_ZPlusArgumentParser_139;
				switch (get_data_tag(branch_Maybe_72)) {
					case 1LL: { // Some
						VAL v140 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_72);
						VAL v141 = mtw_std_maybe_Maybe_1_Some(v140);
						VAL v142 = VTUP(branch_ZPlusArgumentParser_71)->cells[2];
						incref(v142);
						VAL v143 = tup_replace(v142, 6, v141);
						VAL v144 = VTUP(branch_ZPlusArgumentParser_71)->cells[2];
						decref(v144);
						VTUP(branch_ZPlusArgumentParser_71)->cells[2] = v143;
						branch_ZPlusArgumentParser_139 = branch_ZPlusArgumentParser_71;
					} break;
					case 0LL: { // None
						branch_ZPlusArgumentParser_139 = branch_ZPlusArgumentParser_71;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v145 = 1LL /* True */;
				branch_Bool_65 = v145;
				branch_List_64 = v66;
				branch_ZPlusArgumentParser_63 = branch_ZPlusArgumentParser_139;
			} break;
			case 0LL: { // Nil
				VAL v146 = MKI64(0LL /* Nil */);
				int64_t v147 = 0LL /* False */;
				branch_Bool_65 = v147;
				branch_List_64 = v146;
				branch_ZPlusArgumentParser_63 = v60;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v59 = branch_Bool_65;
		v58 = branch_Bool_65;
		v57 = branch_List_64;
		v56 = branch_ZPlusArgumentParser_63;
	}
	decref(v57);
	VAL v148 = VTUP(v56)->cells[2];
	incref(v148);
	int64_t v149 = mw_argZ_parser_state_State_1_parsingZAsk(v148);
	VAL branch_ZPlusArgumentParser_150;
	if (((bool)v149)) {
		VAL v151 = MKI64(0LL /* MissingArgValue */);
		VAL v152 = mtw_std_maybe_Maybe_1_Some(v151);
		VAL v153 = VTUP(v56)->cells[2];
		incref(v153);
		VAL v154 = tup_replace(v153, 6, v152);
		VAL v155 = VTUP(v56)->cells[2];
		decref(v155);
		VTUP(v56)->cells[2] = v154;
		branch_ZPlusArgumentParser_150 = v56;
	} else {
		branch_ZPlusArgumentParser_150 = v56;
	}
	VAL v156 = VTUP(branch_ZPlusArgumentParser_150)->cells[2];
	incref(v156);
	VAL v157 = VTUP(v156)->cells[1];
	incref(v157);
	decref(v156);
	VAL v158 = MKI64(0LL /* None */);
	VAL v159 = MKI64(3LL /* End */);
	VAL v160;
	VAL v161 = mw_argZ_parser_types_ZPlusArgumentParser_1_parser(branch_ZPlusArgumentParser_150, &v160);
	push_value(v157);
	push_value(v158);
	push_value(v159);
	push_resource(v160);
	run_value(v161);
	VAL r162 = pop_resource();
	VAL v163 = pop_value();
	VAL v164 = VTUP(r162)->cells[2];
	incref(v164);
	VAL v165 = tup_replace(v164, 1, v163);
	VAL v166 = VTUP(r162)->cells[2];
	decref(v166);
	VTUP(r162)->cells[2] = v165;
	VAL v167 = VTUP(r162)->cells[2];
	incref(v167);
	VAL v168 = VTUP(v167)->cells[1];
	incref(v168);
	decref(v167);
	VAL v169 = VTUP(r162)->cells[2];
	incref(v169);
	VAL v170 = VTUP(v169)->cells[6];
	incref(v170);
	decref(v169);
	VAL branch_ZPlusArgumentParser_171;
	VAL branch_Either_172;
	switch (get_data_tag(v170)) {
		case 1LL: { // Some
			VAL v173 = mtp_std_maybe_Maybe_1_Some(v170);
			VAL v174;
			VAL v175 = mw_argZ_parser_types_ZPlusArgumentParser_1_usage(r162, &v174);
			TUP* v176 = tup_pack2(v173, v175);
			VAL v177 = mtw_std_either_Either_2_Left(MKTUP(v176, 2));
			decref(v168);
			branch_Either_172 = v177;
			branch_ZPlusArgumentParser_171 = v174;
		} break;
		case 0LL: { // None
			VAL v178 = mtw_std_either_Either_2_Right(v168);
			branch_Either_172 = v178;
			branch_ZPlusArgumentParser_171 = r162;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	mw_argZ_parser_types_ZPlusArgumentParser_1_rdrop(branch_ZPlusArgumentParser_171);
	return branch_Either_172;
}
static VAL mw_argZ_parser_parse_readZ_fromZ_argv (int64_t in_Int_1) {
	int64_t v5 = 0LL;
	bool v6 = (in_Int_1 < v5);
	VAL branch__7;
	if (v6) {
		STR* v8;
		STRLIT(v8, "", 0);
		branch__7 = MKSTR(v8);
	} else {
		uint64_t v9 = sizeof(void*);
		int64_t v10 = 0LL;
		int64_t v11 = mw_std_prim_Int_max(((int64_t)v9), v10);
		int64_t v12 = i64_mul(in_Int_1, v11);
		void* v13 = global_argv;
		void* v14 = (void*)(v12 + (char*)v13);
		void* v15 = *(void**)v14;
		int64_t v16 = mext_std_ctypes_CStr_numZ_bytes(v15);
		STR* v17 = str_make(v15, ((uint64_t)v16));
		branch__7 = MKSTR(v17);
	}
	return branch__7;
}
static VAL mw_argZ_parser_parse_argvZ_toZ_str (void) {
	int64_t v2 = 1LL;
	int64_t v3 = global_argc;
	int64_t v4 = 1LL;
	int64_t v5 = i64_sub(v3, v4);
	VAL v6 = mw_std_prim_Int_range(v2, v5);
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8 = mw_std_list_List_1_reverse(v7);
	int64_t v9 = 1LL /* True */;
	VAL v10 = v8;
	VAL v11 = v6;
	int64_t v12 = v9;
	int64_t v13 = v9;
	while (((bool)v13)) {
		VAL v14 = v10;
		VAL v15 = v11;
		int64_t v16 = v12;
		VAL branch_ZPlusList_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v15, &v20);
				int64_t v22 = 0LL /* +Unsafe */;
				VAL v23 = mw_argZ_parser_parse_readZ_fromZ_argv(value_i64(v21));
				VAL v24 = mtw_std_list_List_1_Cons(v23, v14);
				int64_t v25 = 1LL /* True */;
				branch_Bool_19 = v25;
				branch_List_18 = v20;
				branch_ZPlusList_17 = v24;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_19 = v27;
				branch_List_18 = v26;
				branch_ZPlusList_17 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_19;
		v12 = branch_Bool_19;
		v11 = branch_List_18;
		v10 = branch_ZPlusList_17;
	}
	decref(v11);
	VAL v28 = mw_std_list_List_1_reverse(v10);
	return v28;
}
static int64_t mw_mirth_label_Label_index (uint64_t in_Label_1) {
	return ((int64_t)in_Label_1);
}
static uint64_t mw_mirth_label_Label_allocZBang (void) {
	void* v2 = mbuf_mirth_label_Label_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_label_Label_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static uint64_t mw_mirth_label_Label_name (uint64_t in_Label_1) {
	void* v3 = mfld_mirth_label_Label_ZTildename(in_Label_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_label_Label_ZToStr (uint64_t in_Label_1) {
	uint64_t v3 = mw_mirth_label_Label_name(in_Label_1);
	VAL v4 = mw_mirth_name_Name_ZToStr(v3);
	return v4;
}
static int64_t mw_mirth_label_Label_ZEqualZEqual (uint64_t in_Label_1, uint64_t in_Label_2) {
	int64_t v4 = mw_mirth_label_Label_index(in_Label_1);
	int64_t v5 = mw_mirth_label_Label_index(in_Label_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static uint64_t mw_mirth_label_Label_newZBang (uint64_t in_Name_1) {
	void* v3 = mfld_mirth_name_Name_ZTildelabel(in_Name_1);
	bool v4 = mut_is_set(v3);
	uint64_t branch_Name_5;
	uint64_t branch_Label_6;
	if (v4) {
		VAL v7 = mut_get(v3);
		branch_Label_6 = value_u64(v7);
		branch_Name_5 = in_Name_1;
	} else {
		uint64_t v8 = mw_mirth_label_Label_allocZBang();
		void* v9 = mfld_mirth_label_Label_ZTildename(v8);
		mut_set(MKU64(in_Name_1), v9);
		mut_set(MKU64(v8), v3);
		branch_Label_6 = v8;
		branch_Name_5 = in_Name_1;
	}
	return branch_Label_6;
}
static int64_t mw_mirth_label_Label_isZ_resourceZ_labelZAsk (uint64_t in_Label_1) {
	uint64_t v3 = mw_mirth_label_Label_name(in_Label_1);
	int64_t v4 = mw_mirth_name_Name_head(v3);
	int64_t v5 = 43LL /* B'+' */;
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static int64_t mw_mirth_var_Var_index (uint64_t in_Var_1) {
	return ((int64_t)in_Var_1);
}
static uint64_t mw_mirth_var_Var_allocZBang (void) {
	void* v2 = mbuf_mirth_var_Var_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_var_Var_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static uint64_t mw_mirth_var_Var_name (uint64_t in_Var_1) {
	void* v3 = mfld_mirth_var_Var_ZTildename(in_Var_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_var_Var_type (uint64_t in_Var_1) {
	void* v3 = mfld_mirth_var_Var_ZTildetype(in_Var_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static VAL mw_mirth_var_Var_autoZ_runZAsk (uint64_t in_Var_1) {
	void* v3 = mfld_mirth_var_Var_ZTildeautoZ_runZAsk(in_Var_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static void mw_mirth_var_Var_typeZThen (VAL in_ZPlusStr_1, uint64_t in_Var_2, VAL *out_ZPlusStr_3) {
	uint64_t v4 = mw_mirth_var_Var_name(in_Var_2);
	VAL v5 = mw_mirth_name_Name_ZToStr(v4);
	VAL v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(v5, in_ZPlusStr_1, &v6);
	*out_ZPlusStr_3 = v6;
}
static int64_t mw_mirth_var_Var_isZ_stackZAsk (uint64_t in_Var_1) {
	VAL v3 = mw_mirth_var_Var_type(in_Var_1);
	VAL v4 = mw_mirth_type_Type_primZAsk(v3);
	int64_t branch_Bool_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			int64_t v7 = 1LL /* PRIM_TYPE_STACK */;
			int64_t v8 = mw_mirth_type_PrimType_ZEqualZEqual(value_i64(v6), v7);
			branch_Bool_5 = v8;
		} break;
		case 0LL: { // None
			int64_t v9 = 0LL /* False */;
			branch_Bool_5 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_5;
}
static int64_t mw_mirth_var_Var_isZ_physicalZAsk (uint64_t in_Var_1) {
	VAL v3 = mw_mirth_var_Var_type(in_Var_1);
	int64_t v4 = mw_mirth_type_Type_isZ_physicalZAsk(v3);
	return v4;
}
static uint64_t mw_mirth_var_Var_newZBang (VAL in_Type_1, uint64_t in_Name_2) {
	uint64_t v4 = mw_mirth_var_Var_allocZBang();
	void* v5 = mfld_mirth_var_Var_ZTildename(v4);
	mut_set(MKU64(in_Name_2), v5);
	void* v6 = mfld_mirth_var_Var_ZTildetype(v4);
	mut_set(in_Type_1, v6);
	VAL v7 = MKI64(0LL /* None */);
	void* v8 = mfld_mirth_var_Var_ZTildeautoZ_runZAsk(v4);
	mut_set(v7, v8);
	return v4;
}
static uint64_t mw_mirth_var_Var_newZ_autoZ_runZBang (VAL in_ArrowType_1, uint64_t in_Name_2) {
	incref(in_ArrowType_1);
	VAL v4 = mtw_mirth_type_Type_TMorphism(in_ArrowType_1);
	uint64_t v5 = mw_mirth_var_Var_newZBang(v4, in_Name_2);
	VAL v6 = mtw_std_maybe_Maybe_1_Some(in_ArrowType_1);
	void* v7 = mfld_mirth_var_Var_ZTildeautoZ_runZAsk(v5);
	mut_set(v6, v7);
	return v5;
}
static VAL mw_std_list_List_1_ZToCtx (VAL in_List_1) {
	return in_List_1;
}
static VAL mw_mirth_var_Ctx_ZToList (VAL in_Ctx_1) {
	return in_Ctx_1;
}
static VAL mw_mirth_var_Ctx0 (void) {
	VAL v2 = MKI64(0LL /* Nil */);
	return v2;
}
static VAL mw_mirth_var_Ctx1 (uint64_t in_Var_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mtw_std_list_List_1_Cons(MKU64(in_Var_1), v3);
	return v4;
}
static VAL mw_mirth_var_Ctx2 (uint64_t in_Var_1, uint64_t in_Var_2) {
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5 = mtw_std_list_List_1_Cons(MKU64(in_Var_2), v4);
	VAL v6 = mtw_std_list_List_1_Cons(MKU64(in_Var_1), v5);
	return v6;
}
static VAL mw_mirth_var_Ctx3 (uint64_t in_Var_1, uint64_t in_Var_2, uint64_t in_Var_3) {
	VAL v5 = mw_std_list_L3(MKU64(in_Var_1), MKU64(in_Var_2), MKU64(in_Var_3));
	return v5;
}
static VAL mw_mirth_var_Ctx4 (uint64_t in_Var_1, uint64_t in_Var_2, uint64_t in_Var_3, uint64_t in_Var_4) {
	VAL v6 = mw_std_list_L4(MKU64(in_Var_1), MKU64(in_Var_2), MKU64(in_Var_3), MKU64(in_Var_4));
	return v6;
}
static VAL mw_mirth_var_Ctx5 (uint64_t in_Var_1, uint64_t in_Var_2, uint64_t in_Var_3, uint64_t in_Var_4, uint64_t in_Var_5) {
	VAL v7 = mw_std_list_L5(MKU64(in_Var_1), MKU64(in_Var_2), MKU64(in_Var_3), MKU64(in_Var_4), MKU64(in_Var_5));
	return v7;
}
static VAL mw_mirth_var_Ctx_new (VAL in_Ctx_1, uint64_t in_Var_2) {
	VAL v4 = mw_mirth_var_Ctx_ZToList(in_Ctx_1);
	VAL v5 = mw_std_list_List_1_reverse(v4);
	VAL v6 = mtw_std_list_List_1_Cons(MKU64(in_Var_2), v5);
	VAL v7 = mw_std_list_List_1_reverse(v6);
	VAL v8 = mw_std_list_List_1_ZToCtx(v7);
	return v8;
}
static VAL mw_mirth_var_Ctx_lookup (uint64_t in_Name_1, VAL in_Ctx_2) {
	VAL v4 = mw_mirth_var_Ctx_ZToList(in_Ctx_2);
	VAL v5 = mw_std_list_List_1_reverse(v4);
	VAL v6 = MKI64(0LL /* None */);
	int64_t v7 = 1LL /* True */;
	uint64_t v8 = in_Name_1;
	VAL v9 = v6;
	VAL v10 = v5;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		uint64_t v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL v17;
		VAL v18 = mw_std_list_List_1_uncons(v15, &v17);
		uint64_t branch_Name_19;
		VAL branch_Maybe_20;
		VAL branch_List_21;
		int64_t branch_Bool_22;
		switch (get_data_tag(v18)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v18);
				incref(v23);
				uint64_t v24 = mw_mirth_var_Var_name(value_u64(v23));
				int64_t v25 = mw_mirth_name_Name_ZEqualZEqual(v13, v24);
				uint64_t branch_Name_26;
				VAL branch_Maybe_27;
				if (((bool)v25)) {
					VAL v28 = mtw_std_maybe_Maybe_1_Some(v23);
					branch_Maybe_27 = v28;
					branch_Name_26 = v13;
				} else {
					decref(v23);
					VAL v29 = MKI64(0LL /* None */);
					branch_Maybe_27 = v29;
					branch_Name_26 = v13;
				}
				uint64_t branch_Name_30;
				VAL branch_Maybe_31;
				VAL branch_List_32;
				switch (get_data_tag(branch_Maybe_27)) {
					case 0LL: { // None
						branch_List_32 = v17;
						branch_Maybe_31 = v14;
						branch_Name_30 = branch_Name_26;
					} break;
					default: {
						decref(v17);
						decref(v14);
						VAL v33 = MKI64(0LL /* Nil */);
						branch_List_32 = v33;
						branch_Maybe_31 = branch_Maybe_27;
						branch_Name_30 = branch_Name_26;
					} break;
				}
				int64_t v34 = 1LL /* True */;
				branch_Bool_22 = v34;
				branch_List_21 = branch_List_32;
				branch_Maybe_20 = branch_Maybe_31;
				branch_Name_19 = branch_Name_30;
			} break;
			case 0LL: { // None
				int64_t v35 = 0LL /* False */;
				branch_Bool_22 = v35;
				branch_List_21 = v17;
				branch_Maybe_20 = v14;
				branch_Name_19 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_22;
		v11 = branch_Bool_22;
		v10 = branch_List_21;
		v9 = branch_Maybe_20;
		v8 = branch_Name_19;
	}
	decref(v10);
	return v9;
}
static VAL mw_mirth_var_Ctx_freshZ_nameZBang (VAL in_Ctx_1, uint64_t *out_Name_3) {
	int64_t v4 = 1LL;
	STR* v5;
	STRLIT(v5, "_x1", 3);
	uint64_t v6 = mw_std_prim_Str_ZToName(MKSTR(v5));
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_Ctx_1;
	int64_t v9 = v4;
	uint64_t v10 = v6;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		int64_t v14 = v9;
		uint64_t v15 = v10;
		int64_t v16 = v11;
		incref(v13);
		VAL v17 = mw_mirth_var_Ctx_lookup(v15, v13);
		int64_t branch_Int_18;
		uint64_t branch_Name_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v17)) {
			case 1LL: { // Some
				VAL v21 = mtp_std_maybe_Maybe_1_Some(v17);
				decref(v21);
				int64_t v22 = 1LL;
				int64_t v23 = i64_add(v14, v22);
				STR* v24;
				STRLIT(v24, "_x", 2);
				STR* v25 = i64_show(v23);
				STR* v26 = str_cat(v24, v25);
				uint64_t v27 = mw_std_prim_Str_ZToName(MKSTR(v26));
				int64_t v28 = 1LL /* True */;
				branch_Bool_20 = v28;
				branch_Name_19 = v27;
				branch_Int_18 = v23;
			} break;
			case 0LL: { // None
				int64_t v29 = 0LL /* False */;
				branch_Bool_20 = v29;
				branch_Name_19 = v15;
				branch_Int_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_Name_19;
		v9 = branch_Int_18;
		v8 = v13;
	}
	*out_Name_3 = v10;
	return v8;
}
static VAL mw_mirth_var_Ctx_freshZ_stackZ_typeZ_varZBang (VAL in_Ctx_1, uint64_t *out_Var_3) {
	int64_t v4 = 1LL /* PRIM_TYPE_STACK */;
	VAL v5 = mtw_mirth_type_Type_TPrim(v4);
	uint64_t v6;
	VAL v7 = mw_mirth_var_Ctx_freshZ_varZBang(v5, in_Ctx_1, &v6);
	*out_Var_3 = v6;
	return v7;
}
static VAL mw_mirth_var_Ctx_freshZ_typeZ_varZBang (VAL in_Ctx_1, uint64_t *out_Var_3) {
	int64_t v4 = 0LL /* PRIM_TYPE_TYPE */;
	VAL v5 = mtw_mirth_type_Type_TPrim(v4);
	uint64_t v6;
	VAL v7 = mw_mirth_var_Ctx_freshZ_varZBang(v5, in_Ctx_1, &v6);
	*out_Var_3 = v6;
	return v7;
}
static VAL mw_mirth_var_Ctx_freshZ_varZBang (VAL in_Type_1, VAL in_Ctx_2, uint64_t *out_Var_4) {
	uint64_t v5;
	VAL v6 = mw_mirth_var_Ctx_freshZ_nameZBang(in_Ctx_2, &v5);
	uint64_t v7 = mw_mirth_var_Var_newZBang(in_Type_1, v5);
	VAL v8 = mw_mirth_var_Ctx_new(v6, v7);
	*out_Var_4 = v7;
	return v8;
}
static VAL mw_mirth_var_Var_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Var_3, uint64_t in_Var_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	int64_t v8 = mw_mirth_var_Var_index(in_Var_3);
	int64_t v9 = mw_mirth_var_Var_index(in_Var_4);
	bool v10 = (v8 == v9);
	VAL branch_ZPlusMirth_11;
	uint64_t branch_ZPlusGamma_12;
	VAL branch_Type_13;
	if (v10) {
		VAL v14 = mtw_mirth_type_Type_TVar(in_Var_3);
		branch_Type_13 = v14;
		branch_ZPlusGamma_12 = in_ZPlusGamma_2;
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
	} else {
		VAL v15 = mtw_mirth_type_Type_TVar(in_Var_3);
		VAL v16 = mtw_mirth_type_Type_TVar(in_Var_4);
		VAL v17;
		uint64_t v18;
		VAL v19 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v15, v16, &v17, &v18);
		branch_Type_13 = v19;
		branch_ZPlusGamma_12 = v18;
		branch_ZPlusMirth_11 = v17;
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_12;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_11;
	return branch_Type_13;
}
static VAL mw_mirth_var_Var_freshen (VAL in_Subst_1, uint64_t in_Var_2, VAL *out_Type_4) {
	incref(in_Subst_1);
	int64_t v5 = mw_mirth_type_Subst_hasZ_varZAsk(in_Var_2, in_Subst_1);
	VAL branch_Subst_6;
	VAL branch_Type_7;
	if (((bool)v5)) {
		incref(in_Subst_1);
		VAL v8 = mw_mirth_type_Subst_getZ_var(in_Var_2, in_Subst_1);
		branch_Type_7 = v8;
		branch_Subst_6 = in_Subst_1;
	} else {
		uint64_t v9 = mw_mirth_type_MetaVar_newZBang();
		VAL v10 = mtw_mirth_type_Type_TMeta(v9);
		incref(v10);
		VAL v11 = mw_mirth_type_Subst_cons(v10, in_Var_2, in_Subst_1);
		branch_Type_7 = v10;
		branch_Subst_6 = v11;
	}
	*out_Type_4 = branch_Type_7;
	return branch_Subst_6;
}
static int64_t mw_mirth_buffer_Buffer_index (uint64_t in_Buffer_1) {
	return ((int64_t)in_Buffer_1);
}
static uint64_t mw_mirth_buffer_Buffer_allocZBang (void) {
	void* v2 = mbuf_mirth_buffer_Buffer_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_buffer_Buffer_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static int64_t mw_mirth_buffer_Buffer_sizze (uint64_t in_Buffer_1) {
	void* v3 = mfld_mirth_buffer_Buffer_ZTildesizze(in_Buffer_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static VAL mw_mirth_buffer_Buffer_qname (uint64_t in_Buffer_1) {
	void* v3 = mfld_mirth_buffer_Buffer_ZTildeqname(in_Buffer_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_buffer_Buffer_name (uint64_t in_Buffer_1) {
	VAL v3 = mw_mirth_buffer_Buffer_qname(in_Buffer_1);
	uint64_t v4 = value_u64(VTUP(v3)->cells[2]);
	decref(v3);
	return v4;
}
static int64_t mw_mirth_buffer_Buffer_ZEqualZEqual (uint64_t in_Buffer_1, uint64_t in_Buffer_2) {
	int64_t v4 = mw_mirth_buffer_Buffer_index(in_Buffer_1);
	int64_t v5 = mw_mirth_buffer_Buffer_index(in_Buffer_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static uint64_t mw_mirth_buffer_Buffer_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_QName_3, int64_t in_USizze_4, VAL *out_ZPlusMirth_5) {
	uint64_t v7 = mw_mirth_buffer_Buffer_allocZBang();
	void* v8 = mfld_mirth_buffer_Buffer_ZTildesizze(v7);
	mut_set(MKI64(in_USizze_4), v8);
	void* v9 = mfld_mirth_buffer_Buffer_ZTildeqname(v7);
	mut_set(in_QName_3, v9);
	void* v10 = mfld_mirth_buffer_Buffer_ZTildehead(v7);
	mut_set(MKU64(in_Token_2), v10);
	VAL v11 = mtw_mirth_def_Def_DefBuffer(v7);
	VAL v12;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v11, &v12);
	*out_ZPlusMirth_5 = v12;
	return v7;
}
static int64_t mw_mirth_word_Word_index (uint64_t in_Word_1) {
	return ((int64_t)in_Word_1);
}
static uint64_t mw_mirth_word_Word_allocZBang (void) {
	void* v2 = mbuf_mirth_word_Word_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_word_Word_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_word_Word_qnameZ_soft (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildeqname(in_Word_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	VAL v5 = mw_std_maybe_Maybe_1_bind_1_sp5(v4);
	return v5;
}
static VAL mw_mirth_word_Word_qnameZ_hard (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	void* v5 = mfld_mirth_word_Word_ZTildeqname(in_Word_1);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_2, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static VAL mw_mirth_word_Word_namespaceZ_hard (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5;
	VAL v6 = mw_mirth_word_Word_qnameZ_hard(in_Word_1, in_ZPlusMirth_2, &v5);
	VAL v7 = VTUP(v6)->cells[1];
	incref(v7);
	decref(v6);
	*out_ZPlusMirth_4 = v5;
	return v7;
}
static uint64_t mw_mirth_word_Word_name (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildename(in_Word_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static uint64_t mw_mirth_word_Word_head (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildehead(in_Word_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_word_Word_sigZAsk (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildesigZAsk(in_Word_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_word_Word_body (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildebody(in_Word_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static int64_t mw_mirth_word_Word_arity (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildearity(in_Word_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static VAL mw_mirth_word_Word_params (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	void* v5 = mfld_mirth_word_Word_ZTildeparams(in_Word_1);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_2, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static VAL mw_mirth_word_Word_arrow (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	void* v5 = mfld_mirth_word_Word_ZTildearrow(in_Word_1);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_2, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static int64_t mw_mirth_word_Word_inferringZ_typeZAsk (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk(in_Word_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	int64_t branch_Bool_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			branch_Bool_5 = value_i64(v6);
		} break;
		case 0LL: { // None
			int64_t v7 = 0LL /* False */;
			branch_Bool_5 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_5;
}
static VAL mw_mirth_word_Word_cname (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	void* v5 = mfld_mirth_word_Word_ZTildecname(in_Word_1);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Word_8;
	VAL branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = v10;
		branch_Word_8 = in_Word_1;
		branch_ZPlusMirth_7 = in_ZPlusMirth_2;
	} else {
		VAL v11;
		VAL v12 = mw_mirth_word_Word_qnameZ_hard(in_Word_1, in_ZPlusMirth_2, &v11);
		VAL v13;
		VAL v14 = mw_mirth_name_QName_mangled(v11, v12, &v13);
		STR* v15;
		STRLIT(v15, "", 0);
		STR* v16;
		STRLIT(v16, "mw_", 3);
		VAL v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v16), MKSTR(v15), &v17);
		VAL v18;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v17, &v18);
		incref(v18);
		mut_set(v18, v5);
		branch_Str_9 = v18;
		branch_Word_8 = in_Word_1;
		branch_ZPlusMirth_7 = v13;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static VAL mw_mirth_word_Word_ctxZ_type (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5) {
	void* v6 = mfld_mirth_word_Word_ZTildectxZ_type(in_Word_1);
	VAL v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(v6, in_ZPlusMirth_2, &v7);
	VAL v9 = value_tup(v8, 2)->cells[0];
	VAL v10 = value_tup(v8, 2)->cells[1];
	tup_decref_outer(value_tup(v8, 2), 2);
	*out_ZPlusMirth_5 = v7;
	*out_ArrowType_4 = v10;
	return v9;
}
static VAL mw_mirth_word_Word_type (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5;
	VAL v6;
	VAL v7 = mw_mirth_word_Word_ctxZ_type(in_Word_1, in_ZPlusMirth_2, &v5, &v6);
	decref(v7);
	*out_ZPlusMirth_4 = v6;
	return v5;
}
static int64_t mw_mirth_word_Word_preferZ_inlineZAsk (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk(in_Word_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	int64_t branch_Bool_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			branch_Bool_5 = value_i64(v6);
		} break;
		case 0LL: { // None
			int64_t v7 = 0LL /* False */;
			branch_Bool_5 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_5;
}
static void mw_mirth_word_Word_makeZ_inlineZBang (uint64_t in_Word_1) {
	int64_t v2 = 1LL /* True */;
	void* v3 = mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk(in_Word_1);
	mut_set(MKI64(v2), v3);
}
static uint64_t mw_mirth_word_Word_newZBang (uint64_t in_Token_1, VAL in_Maybe_2, uint64_t in_Token_3, uint64_t in_Name_4, int64_t in_Nat_5, VAL in_ZPlusMirth_6, VAL *out_ZPlusMirth_8) {
	uint64_t v9 = mw_mirth_word_Word_allocZBang();
	void* v10 = mfld_mirth_word_Word_ZTildename(v9);
	mut_set(MKU64(in_Name_4), v10);
	void* v11 = mfld_mirth_word_Word_ZTildehead(v9);
	mut_set(MKU64(in_Token_1), v11);
	void* v12 = mfld_mirth_word_Word_ZTildebody(v9);
	mut_set(MKU64(in_Token_3), v12);
	void* v13 = mfld_mirth_word_Word_ZTildearity(v9);
	mut_set(MKI64(in_Nat_5), v13);
	void* v14 = mfld_mirth_word_Word_ZTildesigZAsk(v9);
	mut_set(in_Maybe_2, v14);
	VAL v15 = mtw_mirth_def_Def_DefWord(v9);
	VAL v16;
	mw_mirth_def_Def_register(in_ZPlusMirth_6, v15, &v16);
	*out_ZPlusMirth_8 = v16;
	return v9;
}
static int64_t mw_mirth_word_Word_ZEqualZEqual (uint64_t in_Word_1, uint64_t in_Word_2) {
	int64_t v4 = mw_mirth_word_Word_index(in_Word_1);
	int64_t v5 = mw_mirth_word_Word_index(in_Word_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static int64_t mw_mirth_word_Word_incZ_numZ_blocksZBang (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildenumZ_blocks(in_Word_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	int64_t branch_Int_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			incref(v6);
			int64_t v7 = 1LL;
			int64_t v8 = i64_add(value_i64(v6), v7);
			void* v9 = mfld_mirth_word_Word_ZTildenumZ_blocks(in_Word_1);
			mut_set(MKI64(v8), v9);
			branch_Int_5 = value_i64(v6);
		} break;
		case 0LL: { // None
			int64_t v10 = 1LL;
			void* v11 = mfld_mirth_word_Word_ZTildenumZ_blocks(in_Word_1);
			mut_set(MKI64(v10), v11);
			int64_t v12 = 0LL;
			branch_Int_5 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Int_5;
}
static int64_t mw_mirth_table_Table_index (uint64_t in_Table_1) {
	return ((int64_t)in_Table_1);
}
static uint64_t mw_mirth_table_Table_allocZBang (void) {
	void* v2 = mbuf_mirth_table_Table_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_table_Table_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static uint64_t mw_mirth_table_Table_head (uint64_t in_Table_1) {
	void* v3 = mfld_mirth_table_Table_ZTildehead(in_Table_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_table_Table_qnameZ_soft (uint64_t in_Table_1) {
	void* v3 = mfld_mirth_table_Table_ZTildeqname(in_Table_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	VAL v5 = mw_std_maybe_Maybe_1_bind_1_sp5(v4);
	return v5;
}
static VAL mw_mirth_table_Table_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Table_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_table_Table_ZTildeqname(in_Table_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static uint64_t mw_mirth_table_Table_name (uint64_t in_Table_1) {
	void* v3 = mfld_mirth_table_Table_ZTildename(in_Table_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static uint64_t mw_mirth_table_Table_numZ_buffer (uint64_t in_Table_1) {
	void* v3 = mfld_mirth_table_Table_ZTildenumZ_buffer(in_Table_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static int64_t mw_mirth_table_Table_ZEqualZEqual (uint64_t in_Table_1, uint64_t in_Table_2) {
	int64_t v4 = mw_mirth_table_Table_index(in_Table_1);
	int64_t v5 = mw_mirth_table_Table_index(in_Table_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static int64_t mw_mirth_table_Field_index (uint64_t in_Field_1) {
	return ((int64_t)in_Field_1);
}
static uint64_t mw_mirth_table_Field_allocZBang (void) {
	void* v2 = mbuf_mirth_table_Field_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_table_Field_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static uint64_t mw_mirth_table_Field_head (uint64_t in_Field_1) {
	void* v3 = mfld_mirth_table_Field_ZTildehead(in_Field_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static uint64_t mw_mirth_table_Field_name (uint64_t in_Field_1) {
	void* v3 = mfld_mirth_table_Field_ZTildename(in_Field_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_table_Field_qnameZ_soft (uint64_t in_Field_1) {
	void* v3 = mfld_mirth_table_Field_ZTildeqname(in_Field_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	VAL v5 = mw_std_maybe_Maybe_1_bind_1_sp5(v4);
	return v5;
}
static VAL mw_mirth_table_Field_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_table_Field_ZTildeqname(in_Field_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_table_Field_indexZ_type (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_table_Field_ZTildeindexZ_type(in_Field_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_table_Field_valueZ_type (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_table_Field_ZTildevalueZ_type(in_Field_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_table_Field_dom (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_table_Field_indexZ_type(in_ZPlusMirth_1, in_Field_2, &v5);
	VAL v7 = mw_mirth_type_T1(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_table_Field_cod (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_table_Field_valueZ_type(in_ZPlusMirth_1, in_Field_2, &v5);
	VAL v7 = mtw_mirth_type_Type_TMut(v6);
	VAL v8 = mw_mirth_type_T1(v7);
	*out_ZPlusMirth_3 = v5;
	return v8;
}
static VAL mw_mirth_table_Field_type (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_table_Field_dom(in_ZPlusMirth_1, in_Field_2, &v5);
	VAL v7;
	VAL v8 = mw_mirth_table_Field_cod(v5, in_Field_2, &v7);
	VAL v9 = mw_mirth_type_TZ_ZTo(v6, v8);
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static int64_t mw_mirth_table_Field_ZEqualZEqual (uint64_t in_Field_1, uint64_t in_Field_2) {
	int64_t v4 = mw_mirth_table_Field_index(in_Field_1);
	int64_t v5 = mw_mirth_table_Field_index(in_Field_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static VAL mw_mirth_tycon_Tycon_qnameZ_hard (VAL in_ZPlusMirth_1, VAL in_Tycon_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_QName_6;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // TYCON_DATA
			uint64_t v7 = mtp_mirth_tycon_Tycon_TYCONz_DATA(in_Tycon_2);
			VAL v8;
			VAL v9 = mw_mirth_data_Data_qnameZ_hard(in_ZPlusMirth_1, v7, &v8);
			branch_QName_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 1LL: { // TYCON_TABLE
			uint64_t v10 = mtp_mirth_tycon_Tycon_TYCONz_TABLE(in_Tycon_2);
			VAL v11;
			VAL v12 = mw_mirth_table_Table_qnameZ_hard(in_ZPlusMirth_1, v10, &v11);
			branch_QName_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 2LL: { // TYCON_PRIM
			int64_t v13 = mtp_mirth_tycon_Tycon_TYCONz_PRIM(in_Tycon_2);
			VAL v14;
			VAL v15 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, v13, &v14);
			branch_QName_6 = v15;
			branch_ZPlusMirth_5 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static int64_t mw_mirth_tycon_Tycon_ZEqualZEqual (VAL in_Tycon_1, VAL in_Tycon_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // TYCON_DATA
			uint64_t v5 = mtp_mirth_tycon_Tycon_TYCONz_DATA(in_Tycon_2);
			int64_t branch_Bool_6;
			switch (get_data_tag(in_Tycon_1)) {
				case 0LL: { // TYCON_DATA
					uint64_t v7 = mtp_mirth_tycon_Tycon_TYCONz_DATA(in_Tycon_1);
					int64_t v8 = mw_mirth_data_Data_ZEqualZEqual(v5, v7);
					branch_Bool_6 = v8;
				} break;
				default: {
					decref(in_Tycon_1);
					int64_t v9 = 0LL /* False */;
					branch_Bool_6 = v9;
				} break;
			}
			branch_Bool_4 = branch_Bool_6;
		} break;
		case 1LL: { // TYCON_TABLE
			uint64_t v10 = mtp_mirth_tycon_Tycon_TYCONz_TABLE(in_Tycon_2);
			int64_t branch_Bool_11;
			switch (get_data_tag(in_Tycon_1)) {
				case 1LL: { // TYCON_TABLE
					uint64_t v12 = mtp_mirth_tycon_Tycon_TYCONz_TABLE(in_Tycon_1);
					int64_t v13 = mw_mirth_table_Table_ZEqualZEqual(v10, v12);
					branch_Bool_11 = v13;
				} break;
				default: {
					decref(in_Tycon_1);
					int64_t v14 = 0LL /* False */;
					branch_Bool_11 = v14;
				} break;
			}
			branch_Bool_4 = branch_Bool_11;
		} break;
		case 2LL: { // TYCON_PRIM
			int64_t v15 = mtp_mirth_tycon_Tycon_TYCONz_PRIM(in_Tycon_2);
			int64_t branch_Bool_16;
			switch (get_data_tag(in_Tycon_1)) {
				case 2LL: { // TYCON_PRIM
					int64_t v17 = mtp_mirth_tycon_Tycon_TYCONz_PRIM(in_Tycon_1);
					int64_t v18 = mw_mirth_type_PrimType_ZEqualZEqual(v15, v17);
					branch_Bool_16 = v18;
				} break;
				default: {
					decref(in_Tycon_1);
					int64_t v19 = 0LL /* False */;
					branch_Bool_16 = v19;
				} break;
			}
			branch_Bool_4 = branch_Bool_16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static VAL mw_mirth_tycon_Tycon_fullZ_typeZ_fresh (VAL in_ZPlusMirth_1, VAL in_Tycon_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Either_6;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // TYCON_DATA
			uint64_t v7 = mtp_mirth_tycon_Tycon_TYCONz_DATA(in_Tycon_2);
			VAL v8 = MKI64(0LL /* SUBST_NIL */);
			VAL v9;
			VAL v10 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, v7, &v9);
			VAL branch_Subst_11;
			VAL branch_Either_12;
			switch (get_data_tag(v10)) {
				case 0LL: { // Left
					VAL v13 = mtp_std_either_Either_2_Left(v10);
					VAL v14;
					VAL v15 = mw_mirth_type_Type_freshen(v8, v13, &v14);
					VAL v16 = mtw_std_either_Either_2_Left(v14);
					branch_Either_12 = v16;
					branch_Subst_11 = v15;
				} break;
				case 1LL: { // Right
					VAL v17 = mtp_std_either_Either_2_Right(v10);
					VAL v18;
					VAL v19 = mw_mirth_type_Resource_freshen(v8, v17, &v18);
					VAL v20 = mtw_std_either_Either_2_Right(v18);
					branch_Either_12 = v20;
					branch_Subst_11 = v19;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(branch_Subst_11);
			branch_Either_6 = branch_Either_12;
			branch_ZPlusMirth_5 = v9;
		} break;
		case 2LL: { // TYCON_PRIM
			int64_t v21 = mtp_mirth_tycon_Tycon_TYCONz_PRIM(in_Tycon_2);
			int64_t v22 = mw_mirth_type_PrimType_isZ_resourceZAsk(v21);
			VAL branch_ZPlusMirth_23;
			VAL branch_Either_24;
			if (((bool)v22)) {
				VAL v25 = mtw_mirth_type_Type_TPrim(v21);
				VAL v26 = mtw_std_either_Either_2_Right(v25);
				branch_Either_24 = v26;
				branch_ZPlusMirth_23 = in_ZPlusMirth_1;
			} else {
				VAL v27 = mtw_mirth_type_Type_TPrim(v21);
				VAL v28 = mtw_std_either_Either_2_Left(v27);
				branch_Either_24 = v28;
				branch_ZPlusMirth_23 = in_ZPlusMirth_1;
			}
			branch_Either_6 = branch_Either_24;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_23;
		} break;
		case 1LL: { // TYCON_TABLE
			uint64_t v29 = mtp_mirth_tycon_Tycon_TYCONz_TABLE(in_Tycon_2);
			VAL v30 = mtw_mirth_type_Type_TTable(v29);
			VAL v31 = mtw_std_either_Either_2_Left(v30);
			branch_Either_6 = v31;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Either_6;
}
static int64_t mw_mirth_data_Data_index (uint64_t in_Data_1) {
	return ((int64_t)in_Data_1);
}
static uint64_t mw_mirth_data_Data_allocZBang (void) {
	void* v2 = mbuf_mirth_data_Data_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_data_Data_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_data_Data_headZAsk (uint64_t in_Data_1) {
	void* v3 = mfld_mirth_data_Data_ZTildeheadZAsk(in_Data_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_data_Data_name (uint64_t in_Data_1) {
	void* v3 = mfld_mirth_data_Data_ZTildename(in_Data_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_data_Data_qnameZ_soft (uint64_t in_Data_1) {
	void* v3 = mfld_mirth_data_Data_ZTildeqname(in_Data_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	VAL v5 = mw_std_maybe_Maybe_1_bind_1_sp5(v4);
	return v5;
}
static VAL mw_mirth_data_Data_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_data_Data_ZTildeqname(in_Data_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static int64_t mw_mirth_data_Data_arity (uint64_t in_Data_1) {
	void* v3 = mfld_mirth_data_Data_ZTildearity(in_Data_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static VAL mw_mirth_data_Data_params (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_data_Data_ZTildeparams(in_Data_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_data_Data_tags (uint64_t in_Data_1) {
	void* v3 = mfld_mirth_data_Data_ZTildetags(in_Data_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static VAL mw_mirth_data_Data_ctypeZAsk (uint64_t in_Data_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	void* v5 = mfld_mirth_data_Data_ZTildectypeZAsk(in_Data_1);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_2, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static VAL mw_mirth_data_TYPEz_BOOL (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[3]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_TYPEz_U64 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[6]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_TYPEz_U32 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[8]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_TYPEz_U16 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[10]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_TYPEz_U8 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[12]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_TYPEz_I64 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[14]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_TYPEz_I32 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[16]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_TYPEz_I16 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[18]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static VAL mw_mirth_data_TYPEz_I8 (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[20]);
	decref(v4);
	VAL v6 = mtw_mirth_type_Type_TData(v5);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v6;
}
static void mw_mirth_data_makeZ_primZ_dataZBang (VAL in_ZPlusMirth_1, VAL in_Str_2, VAL in_List_3, uint64_t in_Data_4, VAL in_List_5, VAL in_Maybe_6, VAL *out_ZPlusMirth_7) {
	incref(in_List_3);
	int64_t v8 = mw_std_list_List_1_len(in_List_3);
	void* v9 = mfld_mirth_data_Data_ZTildearity(in_Data_4);
	mut_set(MKI64(v8), v9);
	incref(in_Str_2);
	uint64_t v10 = mw_std_prim_Str_ZToName(in_Str_2);
	void* v11 = mfld_mirth_data_Data_ZTildename(in_Data_4);
	mut_set(MKU64(v10), v11);
	VAL v12;
	VAL v13 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, in_Str_2, v8, &v12);
	VAL v14 = mtw_mirth_mirth_PropLabel_DataQName(in_Data_4);
	VAL v15;
	VAL v16 = mw_mirth_mirth_PropLabel_prop(v13, v14, v12, &v15);
	void* v17 = mfld_mirth_data_Data_ZTildeqname(in_Data_4);
	mut_set(v16, v17);
	VAL v18 = mtw_mirth_mirth_PropLabel_DataCType(in_Data_4);
	VAL v19;
	VAL v20 = mw_mirth_mirth_PropLabel_prop(in_Maybe_6, v18, v15, &v19);
	void* v21 = mfld_mirth_data_Data_ZTildectypeZAsk(in_Data_4);
	mut_set(v20, v21);
	incref(in_List_5);
	int64_t v22 = 1LL /* True */;
	uint64_t v23 = in_Data_4;
	VAL v24 = in_List_5;
	int64_t v25 = v22;
	int64_t v26 = v22;
	while (((bool)v26)) {
		uint64_t v27 = v23;
		VAL v28 = v24;
		int64_t v29 = v25;
		uint64_t branch_Data_30;
		VAL branch_List_31;
		int64_t branch_Bool_32;
		switch (get_data_tag(v28)) {
			case 1LL: { // Cons
				VAL v33;
				VAL v34 = mtp_std_list_List_1_Cons(v28, &v33);
				void* v35 = mfld_mirth_data_Tag_ZTildedata(value_u64(v34));
				mut_set(MKU64(v27), v35);
				int64_t v36 = 1LL /* True */;
				branch_Bool_32 = v36;
				branch_List_31 = v33;
				branch_Data_30 = v27;
			} break;
			case 0LL: { // Nil
				VAL v37 = MKI64(0LL /* Nil */);
				int64_t v38 = 0LL /* False */;
				branch_Bool_32 = v38;
				branch_List_31 = v37;
				branch_Data_30 = v27;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v26 = branch_Bool_32;
		v25 = branch_Bool_32;
		v24 = branch_List_31;
		v23 = branch_Data_30;
	}
	decref(v24);
	void* v39 = mfld_mirth_data_Data_ZTildetags(v23);
	mut_set(in_List_5, v39);
	VAL v40 = mtw_mirth_mirth_PropLabel_DataParams(v23);
	VAL v41;
	VAL v42 = mw_mirth_mirth_PropLabel_prop(in_List_3, v40, v19, &v41);
	void* v43 = mfld_mirth_data_Data_ZTildeparams(v23);
	mut_set(v42, v43);
	VAL v44 = MKI64(0LL /* None */);
	void* v45 = mfld_mirth_data_Data_ZTildeheadZAsk(v23);
	mut_set(v44, v45);
	VAL v46 = mtw_mirth_def_Def_DefData(v23);
	VAL v47;
	mw_mirth_def_Def_register(v41, v46, &v47);
	*out_ZPlusMirth_7 = v47;
}
static void mw_mirth_data_makeZ_primZ_tagZBang (VAL in_ZPlusMirth_1, VAL in_Str_2, int64_t in_Int_3, VAL in_List_4, uint64_t in_Tag_5, VAL *out_ZPlusMirth_6) {
	uint64_t v7 = mw_mirth_data_Tag_data(in_Tag_5);
	int64_t v8 = 0LL;
	VAL v9 = mw_mirth_data_dataZ_wordZ_qname(v7, in_Str_2, v8);
	void* v10 = mfld_mirth_data_Tag_ZTildeqname(in_Tag_5);
	mut_set(v9, v10);
	void* v11 = mfld_mirth_data_Tag_ZTildevalue(in_Tag_5);
	mut_set(MKI64(in_Int_3), v11);
	incref(in_List_4);
	int64_t v12 = mw_std_list_List_1_len(in_List_4);
	void* v13 = mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs(in_Tag_5);
	mut_set(MKI64(v12), v13);
	int64_t v14 = 0LL;
	void* v15 = mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs(in_Tag_5);
	mut_set(MKI64(v14), v15);
	VAL v16 = MKI64(0LL /* Nil */);
	void* v17 = mfld_mirth_data_Tag_ZTildelabelZ_inputs(in_Tag_5);
	mut_set(v16, v17);
	uint64_t v18 = mw_mirth_data_Tag_data(in_Tag_5);
	VAL v19;
	VAL v20 = mw_mirth_data_Data_params(in_ZPlusMirth_1, v18, &v19);
	VAL v21 = mw_std_list_List_1_ZToCtx(v20);
	VAL v22 = mw_mirth_type_TT(in_List_4);
	VAL v23 = mw_mirth_type_T0();
	uint64_t v24 = mw_mirth_data_Tag_data(in_Tag_5);
	VAL v25;
	VAL v26 = mw_mirth_data_Data_fullZ_type(v19, v24, &v25);
	VAL v27 = mw_mirth_type_TZMulZPlus(v23, v26);
	VAL v28 = mw_mirth_type_TZ_ZTo(v22, v27);
	VAL v29 = mtw_mirth_mirth_PropLabel_TagType(in_Tag_5);
	VAL v30;
	VAL v31 = mw_mirth_mirth_PropLabel_prop2(v21, v28, v29, v25, &v30);
	void* v32 = mfld_mirth_data_Tag_ZTildectxZ_type(in_Tag_5);
	mut_set(v31, v32);
	VAL v33 = mtw_mirth_def_Def_DefTag(in_Tag_5);
	VAL v34;
	mw_mirth_def_Def_register(v30, v33, &v34);
	*out_ZPlusMirth_6 = v34;
}
static void mw_mirth_data_makeZ_primZ_intlikeZBang (VAL in_Str_1, uint64_t in_Data_2, VAL in_Str_3, uint64_t in_Tag_4, VAL in_Str_5, VAL in_ZPlusMirth_6, VAL *out_ZPlusMirth_7) {
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10 = mtw_std_list_List_1_Cons(MKU64(in_Tag_4), v9);
	VAL v11 = mtw_mirth_type_CType_IntLike(in_Str_5);
	VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
	VAL v13;
	mw_mirth_data_makeZ_primZ_dataZBang(in_ZPlusMirth_6, in_Str_1, v8, in_Data_2, v10, v12, &v13);
	int64_t v14 = 0LL;
	VAL v15 = mw_mirth_type_TYPEz_INT();
	VAL v16 = MKI64(0LL /* Nil */);
	VAL v17 = mtw_std_list_List_1_Cons(v15, v16);
	VAL v18;
	mw_mirth_data_makeZ_primZ_tagZBang(v13, in_Str_3, v14, v17, in_Tag_4, &v18);
	*out_ZPlusMirth_7 = v18;
}
static void mw_mirth_data_initZ_dataZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	STR* v3;
	STRLIT(v3, "Bool", 4);
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v5);
	uint64_t v6 = value_u64(VTUP(v5)->cells[3]);
	decref(v5);
	VAL v7 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v7);
	uint64_t v8 = value_u64(VTUP(v7)->cells[4]);
	decref(v7);
	VAL v9 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v9);
	uint64_t v10 = value_u64(VTUP(v9)->cells[5]);
	decref(v9);
	VAL v11 = MKI64(0LL /* Nil */);
	VAL v12 = mtw_std_list_List_1_Cons(MKU64(v10), v11);
	VAL v13 = mtw_std_list_List_1_Cons(MKU64(v8), v12);
	STR* v14;
	STRLIT(v14, "_Bool", 5);
	VAL v15 = mtw_mirth_type_CType_IntLike(MKSTR(v14));
	VAL v16 = mtw_std_maybe_Maybe_1_Some(v15);
	VAL v17;
	mw_mirth_data_makeZ_primZ_dataZBang(in_ZPlusMirth_1, MKSTR(v3), v4, v6, v13, v16, &v17);
	STR* v18;
	STRLIT(v18, "False", 5);
	int64_t v19 = 0LL;
	VAL v20 = MKI64(0LL /* Nil */);
	VAL v21 = VTUP(v17)->cells[4];
	incref(v21);
	uint64_t v22 = value_u64(VTUP(v21)->cells[5]);
	decref(v21);
	VAL v23;
	mw_mirth_data_makeZ_primZ_tagZBang(v17, MKSTR(v18), v19, v20, v22, &v23);
	STR* v24;
	STRLIT(v24, "True", 4);
	int64_t v25 = 1LL;
	VAL v26 = MKI64(0LL /* Nil */);
	VAL v27 = VTUP(v23)->cells[4];
	incref(v27);
	uint64_t v28 = value_u64(VTUP(v27)->cells[4]);
	decref(v27);
	VAL v29;
	mw_mirth_data_makeZ_primZ_tagZBang(v23, MKSTR(v24), v25, v26, v28, &v29);
	VAL v30 = mw_mirth_type_TYPEz_TYPE();
	STR* v31;
	STRLIT(v31, "a", 1);
	uint64_t v32 = mw_std_prim_Str_ZToName(MKSTR(v31));
	uint64_t v33 = mw_mirth_var_Var_newZBang(v30, v32);
	STR* v34;
	STRLIT(v34, "CPtr", 4);
	VAL v35 = MKI64(0LL /* Nil */);
	VAL v36 = mtw_std_list_List_1_Cons(MKU64(v33), v35);
	VAL v37 = VTUP(v29)->cells[4];
	incref(v37);
	uint64_t v38 = value_u64(VTUP(v37)->cells[52]);
	decref(v37);
	VAL v39 = VTUP(v29)->cells[4];
	incref(v39);
	uint64_t v40 = value_u64(VTUP(v39)->cells[53]);
	decref(v39);
	VAL v41 = MKI64(0LL /* Nil */);
	VAL v42 = mtw_std_list_List_1_Cons(MKU64(v40), v41);
	VAL v43 = MKI64(0LL /* None */);
	VAL v44;
	mw_mirth_data_makeZ_primZ_dataZBang(v29, MKSTR(v34), v36, v38, v42, v43, &v44);
	STR* v45;
	STRLIT(v45, "CPtr", 4);
	int64_t v46 = 0LL;
	VAL v47 = mw_mirth_type_TYPEz_PTR();
	VAL v48 = MKI64(0LL /* Nil */);
	VAL v49 = mtw_std_list_List_1_Cons(v47, v48);
	VAL v50 = VTUP(v44)->cells[4];
	incref(v50);
	uint64_t v51 = value_u64(VTUP(v50)->cells[53]);
	decref(v50);
	VAL v52;
	mw_mirth_data_makeZ_primZ_tagZBang(v44, MKSTR(v45), v46, v49, v51, &v52);
	STR* v53;
	STRLIT(v53, "CConst", 6);
	VAL v54 = MKI64(0LL /* Nil */);
	VAL v55 = mtw_std_list_List_1_Cons(MKU64(v33), v54);
	VAL v56 = VTUP(v52)->cells[4];
	incref(v56);
	uint64_t v57 = value_u64(VTUP(v56)->cells[54]);
	decref(v56);
	VAL v58 = VTUP(v52)->cells[4];
	incref(v58);
	uint64_t v59 = value_u64(VTUP(v58)->cells[55]);
	decref(v58);
	VAL v60 = MKI64(0LL /* Nil */);
	VAL v61 = mtw_std_list_List_1_Cons(MKU64(v59), v60);
	VAL v62 = MKI64(0LL /* None */);
	VAL v63;
	mw_mirth_data_makeZ_primZ_dataZBang(v52, MKSTR(v53), v55, v57, v61, v62, &v63);
	STR* v64;
	STRLIT(v64, "CConst", 6);
	int64_t v65 = 0LL;
	VAL v66 = mtw_mirth_type_Type_TVar(v33);
	VAL v67 = MKI64(0LL /* Nil */);
	VAL v68 = mtw_std_list_List_1_Cons(v66, v67);
	VAL v69 = VTUP(v63)->cells[4];
	incref(v69);
	uint64_t v70 = value_u64(VTUP(v69)->cells[55]);
	decref(v69);
	VAL v71;
	mw_mirth_data_makeZ_primZ_tagZBang(v63, MKSTR(v64), v65, v68, v70, &v71);
	STR* v72;
	STRLIT(v72, "CRestrict", 9);
	VAL v73 = MKI64(0LL /* Nil */);
	VAL v74 = mtw_std_list_List_1_Cons(MKU64(v33), v73);
	VAL v75 = VTUP(v71)->cells[4];
	incref(v75);
	uint64_t v76 = value_u64(VTUP(v75)->cells[56]);
	decref(v75);
	VAL v77 = VTUP(v71)->cells[4];
	incref(v77);
	uint64_t v78 = value_u64(VTUP(v77)->cells[57]);
	decref(v77);
	VAL v79 = MKI64(0LL /* Nil */);
	VAL v80 = mtw_std_list_List_1_Cons(MKU64(v78), v79);
	VAL v81 = MKI64(0LL /* None */);
	VAL v82;
	mw_mirth_data_makeZ_primZ_dataZBang(v71, MKSTR(v72), v74, v76, v80, v81, &v82);
	STR* v83;
	STRLIT(v83, "CRestrict", 9);
	int64_t v84 = 0LL;
	VAL v85 = mtw_mirth_type_Type_TVar(v33);
	VAL v86 = MKI64(0LL /* Nil */);
	VAL v87 = mtw_std_list_List_1_Cons(v85, v86);
	VAL v88 = VTUP(v82)->cells[4];
	incref(v88);
	uint64_t v89 = value_u64(VTUP(v88)->cells[57]);
	decref(v88);
	VAL v90;
	mw_mirth_data_makeZ_primZ_tagZBang(v82, MKSTR(v83), v84, v87, v89, &v90);
	STR* v91;
	STRLIT(v91, "CVolatile", 9);
	VAL v92 = MKI64(0LL /* Nil */);
	VAL v93 = mtw_std_list_List_1_Cons(MKU64(v33), v92);
	VAL v94 = VTUP(v90)->cells[4];
	incref(v94);
	uint64_t v95 = value_u64(VTUP(v94)->cells[58]);
	decref(v94);
	VAL v96 = VTUP(v90)->cells[4];
	incref(v96);
	uint64_t v97 = value_u64(VTUP(v96)->cells[59]);
	decref(v96);
	VAL v98 = MKI64(0LL /* Nil */);
	VAL v99 = mtw_std_list_List_1_Cons(MKU64(v97), v98);
	VAL v100 = MKI64(0LL /* None */);
	VAL v101;
	mw_mirth_data_makeZ_primZ_dataZBang(v90, MKSTR(v91), v93, v95, v99, v100, &v101);
	STR* v102;
	STRLIT(v102, "CVolatile", 9);
	int64_t v103 = 0LL;
	VAL v104 = mtw_mirth_type_Type_TVar(v33);
	VAL v105 = MKI64(0LL /* Nil */);
	VAL v106 = mtw_std_list_List_1_Cons(v104, v105);
	VAL v107 = VTUP(v101)->cells[4];
	incref(v107);
	uint64_t v108 = value_u64(VTUP(v107)->cells[59]);
	decref(v107);
	VAL v109;
	mw_mirth_data_makeZ_primZ_tagZBang(v101, MKSTR(v102), v103, v106, v108, &v109);
	STR* v110;
	STRLIT(v110, "CVoid", 5);
	VAL v111 = MKI64(0LL /* Nil */);
	VAL v112 = VTUP(v109)->cells[4];
	incref(v112);
	uint64_t v113 = value_u64(VTUP(v112)->cells[60]);
	decref(v112);
	VAL v114 = VTUP(v109)->cells[4];
	incref(v114);
	uint64_t v115 = value_u64(VTUP(v114)->cells[61]);
	decref(v114);
	VAL v116 = MKI64(0LL /* Nil */);
	VAL v117 = mtw_std_list_List_1_Cons(MKU64(v115), v116);
	VAL v118 = MKI64(5LL /* Phantom */);
	VAL v119 = mtw_std_maybe_Maybe_1_Some(v118);
	VAL v120;
	mw_mirth_data_makeZ_primZ_dataZBang(v109, MKSTR(v110), v111, v113, v117, v119, &v120);
	STR* v121;
	STRLIT(v121, "CVoid", 5);
	int64_t v122 = 0LL;
	VAL v123 = MKI64(0LL /* Nil */);
	VAL v124 = VTUP(v120)->cells[4];
	incref(v124);
	uint64_t v125 = value_u64(VTUP(v124)->cells[61]);
	decref(v124);
	VAL v126;
	mw_mirth_data_makeZ_primZ_tagZBang(v120, MKSTR(v121), v122, v123, v125, &v126);
	STR* v127;
	STRLIT(v127, "U64", 3);
	VAL v128 = VTUP(v126)->cells[4];
	incref(v128);
	uint64_t v129 = value_u64(VTUP(v128)->cells[6]);
	decref(v128);
	STR* v130;
	STRLIT(v130, "Int>U64-unsafe", 14);
	VAL v131 = VTUP(v126)->cells[4];
	incref(v131);
	uint64_t v132 = value_u64(VTUP(v131)->cells[7]);
	decref(v131);
	STR* v133;
	STRLIT(v133, "uint64_t", 8);
	VAL v134;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v127), v129, MKSTR(v130), v132, MKSTR(v133), v126, &v134);
	STR* v135;
	STRLIT(v135, "U32", 3);
	VAL v136 = VTUP(v134)->cells[4];
	incref(v136);
	uint64_t v137 = value_u64(VTUP(v136)->cells[8]);
	decref(v136);
	STR* v138;
	STRLIT(v138, "Int>U32-unsafe", 14);
	VAL v139 = VTUP(v134)->cells[4];
	incref(v139);
	uint64_t v140 = value_u64(VTUP(v139)->cells[9]);
	decref(v139);
	STR* v141;
	STRLIT(v141, "uint32_t", 8);
	VAL v142;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v135), v137, MKSTR(v138), v140, MKSTR(v141), v134, &v142);
	STR* v143;
	STRLIT(v143, "U16", 3);
	VAL v144 = VTUP(v142)->cells[4];
	incref(v144);
	uint64_t v145 = value_u64(VTUP(v144)->cells[10]);
	decref(v144);
	STR* v146;
	STRLIT(v146, "Int>U16-unsafe", 14);
	VAL v147 = VTUP(v142)->cells[4];
	incref(v147);
	uint64_t v148 = value_u64(VTUP(v147)->cells[11]);
	decref(v147);
	STR* v149;
	STRLIT(v149, "uint16_t", 8);
	VAL v150;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v143), v145, MKSTR(v146), v148, MKSTR(v149), v142, &v150);
	STR* v151;
	STRLIT(v151, "U8", 2);
	VAL v152 = VTUP(v150)->cells[4];
	incref(v152);
	uint64_t v153 = value_u64(VTUP(v152)->cells[12]);
	decref(v152);
	STR* v154;
	STRLIT(v154, "Int>U8-unsafe", 13);
	VAL v155 = VTUP(v150)->cells[4];
	incref(v155);
	uint64_t v156 = value_u64(VTUP(v155)->cells[13]);
	decref(v155);
	STR* v157;
	STRLIT(v157, "uint8_t", 7);
	VAL v158;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v151), v153, MKSTR(v154), v156, MKSTR(v157), v150, &v158);
	STR* v159;
	STRLIT(v159, "I64", 3);
	VAL v160 = VTUP(v158)->cells[4];
	incref(v160);
	uint64_t v161 = value_u64(VTUP(v160)->cells[14]);
	decref(v160);
	STR* v162;
	STRLIT(v162, "Int>I64-unsafe", 14);
	VAL v163 = VTUP(v158)->cells[4];
	incref(v163);
	uint64_t v164 = value_u64(VTUP(v163)->cells[15]);
	decref(v163);
	STR* v165;
	STRLIT(v165, "int64_t", 7);
	VAL v166;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v159), v161, MKSTR(v162), v164, MKSTR(v165), v158, &v166);
	STR* v167;
	STRLIT(v167, "I32", 3);
	VAL v168 = VTUP(v166)->cells[4];
	incref(v168);
	uint64_t v169 = value_u64(VTUP(v168)->cells[16]);
	decref(v168);
	STR* v170;
	STRLIT(v170, "Int>I32-unsafe", 14);
	VAL v171 = VTUP(v166)->cells[4];
	incref(v171);
	uint64_t v172 = value_u64(VTUP(v171)->cells[17]);
	decref(v171);
	STR* v173;
	STRLIT(v173, "int32_t", 7);
	VAL v174;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v167), v169, MKSTR(v170), v172, MKSTR(v173), v166, &v174);
	STR* v175;
	STRLIT(v175, "I16", 3);
	VAL v176 = VTUP(v174)->cells[4];
	incref(v176);
	uint64_t v177 = value_u64(VTUP(v176)->cells[18]);
	decref(v176);
	STR* v178;
	STRLIT(v178, "Int>I16-unsafe", 14);
	VAL v179 = VTUP(v174)->cells[4];
	incref(v179);
	uint64_t v180 = value_u64(VTUP(v179)->cells[19]);
	decref(v179);
	STR* v181;
	STRLIT(v181, "int16_t", 7);
	VAL v182;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v175), v177, MKSTR(v178), v180, MKSTR(v181), v174, &v182);
	STR* v183;
	STRLIT(v183, "I8", 2);
	VAL v184 = VTUP(v182)->cells[4];
	incref(v184);
	uint64_t v185 = value_u64(VTUP(v184)->cells[20]);
	decref(v184);
	STR* v186;
	STRLIT(v186, "Int>I8-unsafe", 13);
	VAL v187 = VTUP(v182)->cells[4];
	incref(v187);
	uint64_t v188 = value_u64(VTUP(v187)->cells[21]);
	decref(v187);
	STR* v189;
	STRLIT(v189, "int8_t", 6);
	VAL v190;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v183), v185, MKSTR(v186), v188, MKSTR(v189), v182, &v190);
	STR* v191;
	STRLIT(v191, "CChar", 5);
	VAL v192 = VTUP(v190)->cells[4];
	incref(v192);
	uint64_t v193 = value_u64(VTUP(v192)->cells[22]);
	decref(v192);
	STR* v194;
	STRLIT(v194, "CChar", 5);
	VAL v195 = VTUP(v190)->cells[4];
	incref(v195);
	uint64_t v196 = value_u64(VTUP(v195)->cells[23]);
	decref(v195);
	STR* v197;
	STRLIT(v197, "char", 4);
	VAL v198;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v191), v193, MKSTR(v194), v196, MKSTR(v197), v190, &v198);
	STR* v199;
	STRLIT(v199, "CIChar", 6);
	VAL v200 = VTUP(v198)->cells[4];
	incref(v200);
	uint64_t v201 = value_u64(VTUP(v200)->cells[24]);
	decref(v200);
	STR* v202;
	STRLIT(v202, "CIChar", 6);
	VAL v203 = VTUP(v198)->cells[4];
	incref(v203);
	uint64_t v204 = value_u64(VTUP(v203)->cells[25]);
	decref(v203);
	STR* v205;
	STRLIT(v205, "signed char", 11);
	VAL v206;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v199), v201, MKSTR(v202), v204, MKSTR(v205), v198, &v206);
	STR* v207;
	STRLIT(v207, "CShort", 6);
	VAL v208 = VTUP(v206)->cells[4];
	incref(v208);
	uint64_t v209 = value_u64(VTUP(v208)->cells[26]);
	decref(v208);
	STR* v210;
	STRLIT(v210, "CShort", 6);
	VAL v211 = VTUP(v206)->cells[4];
	incref(v211);
	uint64_t v212 = value_u64(VTUP(v211)->cells[27]);
	decref(v211);
	STR* v213;
	STRLIT(v213, "short", 5);
	VAL v214;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v207), v209, MKSTR(v210), v212, MKSTR(v213), v206, &v214);
	STR* v215;
	STRLIT(v215, "CInt", 4);
	VAL v216 = VTUP(v214)->cells[4];
	incref(v216);
	uint64_t v217 = value_u64(VTUP(v216)->cells[28]);
	decref(v216);
	STR* v218;
	STRLIT(v218, "CInt", 4);
	VAL v219 = VTUP(v214)->cells[4];
	incref(v219);
	uint64_t v220 = value_u64(VTUP(v219)->cells[29]);
	decref(v219);
	STR* v221;
	STRLIT(v221, "int", 3);
	VAL v222;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v215), v217, MKSTR(v218), v220, MKSTR(v221), v214, &v222);
	STR* v223;
	STRLIT(v223, "CLong", 5);
	VAL v224 = VTUP(v222)->cells[4];
	incref(v224);
	uint64_t v225 = value_u64(VTUP(v224)->cells[30]);
	decref(v224);
	STR* v226;
	STRLIT(v226, "CLong", 5);
	VAL v227 = VTUP(v222)->cells[4];
	incref(v227);
	uint64_t v228 = value_u64(VTUP(v227)->cells[31]);
	decref(v227);
	STR* v229;
	STRLIT(v229, "long", 4);
	VAL v230;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v223), v225, MKSTR(v226), v228, MKSTR(v229), v222, &v230);
	STR* v231;
	STRLIT(v231, "CLongLong", 9);
	VAL v232 = VTUP(v230)->cells[4];
	incref(v232);
	uint64_t v233 = value_u64(VTUP(v232)->cells[32]);
	decref(v232);
	STR* v234;
	STRLIT(v234, "CLongLong", 9);
	VAL v235 = VTUP(v230)->cells[4];
	incref(v235);
	uint64_t v236 = value_u64(VTUP(v235)->cells[33]);
	decref(v235);
	STR* v237;
	STRLIT(v237, "long long", 9);
	VAL v238;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v231), v233, MKSTR(v234), v236, MKSTR(v237), v230, &v238);
	STR* v239;
	STRLIT(v239, "CISize", 6);
	VAL v240 = VTUP(v238)->cells[4];
	incref(v240);
	uint64_t v241 = value_u64(VTUP(v240)->cells[34]);
	decref(v240);
	STR* v242;
	STRLIT(v242, "CISize", 6);
	VAL v243 = VTUP(v238)->cells[4];
	incref(v243);
	uint64_t v244 = value_u64(VTUP(v243)->cells[35]);
	decref(v243);
	STR* v245;
	STRLIT(v245, "ssize_t", 7);
	VAL v246;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v239), v241, MKSTR(v242), v244, MKSTR(v245), v238, &v246);
	STR* v247;
	STRLIT(v247, "CIntPtr", 7);
	VAL v248 = VTUP(v246)->cells[4];
	incref(v248);
	uint64_t v249 = value_u64(VTUP(v248)->cells[36]);
	decref(v248);
	STR* v250;
	STRLIT(v250, "CIntPtr", 7);
	VAL v251 = VTUP(v246)->cells[4];
	incref(v251);
	uint64_t v252 = value_u64(VTUP(v251)->cells[37]);
	decref(v251);
	STR* v253;
	STRLIT(v253, "intptr_t", 8);
	VAL v254;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v247), v249, MKSTR(v250), v252, MKSTR(v253), v246, &v254);
	STR* v255;
	STRLIT(v255, "CUChar", 6);
	VAL v256 = VTUP(v254)->cells[4];
	incref(v256);
	uint64_t v257 = value_u64(VTUP(v256)->cells[38]);
	decref(v256);
	STR* v258;
	STRLIT(v258, "CUChar", 6);
	VAL v259 = VTUP(v254)->cells[4];
	incref(v259);
	uint64_t v260 = value_u64(VTUP(v259)->cells[39]);
	decref(v259);
	STR* v261;
	STRLIT(v261, "unsigned char", 13);
	VAL v262;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v255), v257, MKSTR(v258), v260, MKSTR(v261), v254, &v262);
	STR* v263;
	STRLIT(v263, "CUShort", 7);
	VAL v264 = VTUP(v262)->cells[4];
	incref(v264);
	uint64_t v265 = value_u64(VTUP(v264)->cells[40]);
	decref(v264);
	STR* v266;
	STRLIT(v266, "CUShort", 7);
	VAL v267 = VTUP(v262)->cells[4];
	incref(v267);
	uint64_t v268 = value_u64(VTUP(v267)->cells[41]);
	decref(v267);
	STR* v269;
	STRLIT(v269, "unsigned short", 14);
	VAL v270;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v263), v265, MKSTR(v266), v268, MKSTR(v269), v262, &v270);
	STR* v271;
	STRLIT(v271, "CUInt", 5);
	VAL v272 = VTUP(v270)->cells[4];
	incref(v272);
	uint64_t v273 = value_u64(VTUP(v272)->cells[42]);
	decref(v272);
	STR* v274;
	STRLIT(v274, "CUInt", 5);
	VAL v275 = VTUP(v270)->cells[4];
	incref(v275);
	uint64_t v276 = value_u64(VTUP(v275)->cells[43]);
	decref(v275);
	STR* v277;
	STRLIT(v277, "unsigned int", 12);
	VAL v278;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v271), v273, MKSTR(v274), v276, MKSTR(v277), v270, &v278);
	STR* v279;
	STRLIT(v279, "CULong", 6);
	VAL v280 = VTUP(v278)->cells[4];
	incref(v280);
	uint64_t v281 = value_u64(VTUP(v280)->cells[44]);
	decref(v280);
	STR* v282;
	STRLIT(v282, "CULong", 6);
	VAL v283 = VTUP(v278)->cells[4];
	incref(v283);
	uint64_t v284 = value_u64(VTUP(v283)->cells[45]);
	decref(v283);
	STR* v285;
	STRLIT(v285, "unsigned long", 13);
	VAL v286;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v279), v281, MKSTR(v282), v284, MKSTR(v285), v278, &v286);
	STR* v287;
	STRLIT(v287, "CULongLong", 10);
	VAL v288 = VTUP(v286)->cells[4];
	incref(v288);
	uint64_t v289 = value_u64(VTUP(v288)->cells[46]);
	decref(v288);
	STR* v290;
	STRLIT(v290, "CULongLong", 10);
	VAL v291 = VTUP(v286)->cells[4];
	incref(v291);
	uint64_t v292 = value_u64(VTUP(v291)->cells[47]);
	decref(v291);
	STR* v293;
	STRLIT(v293, "unsigned long long", 18);
	VAL v294;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v287), v289, MKSTR(v290), v292, MKSTR(v293), v286, &v294);
	STR* v295;
	STRLIT(v295, "CUSize", 6);
	VAL v296 = VTUP(v294)->cells[4];
	incref(v296);
	uint64_t v297 = value_u64(VTUP(v296)->cells[48]);
	decref(v296);
	STR* v298;
	STRLIT(v298, "CUSize", 6);
	VAL v299 = VTUP(v294)->cells[4];
	incref(v299);
	uint64_t v300 = value_u64(VTUP(v299)->cells[49]);
	decref(v299);
	STR* v301;
	STRLIT(v301, "size_t", 6);
	VAL v302;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v295), v297, MKSTR(v298), v300, MKSTR(v301), v294, &v302);
	STR* v303;
	STRLIT(v303, "CUIntPtr", 8);
	VAL v304 = VTUP(v302)->cells[4];
	incref(v304);
	uint64_t v305 = value_u64(VTUP(v304)->cells[50]);
	decref(v304);
	STR* v306;
	STRLIT(v306, "CUIntPtr", 8);
	VAL v307 = VTUP(v302)->cells[4];
	incref(v307);
	uint64_t v308 = value_u64(VTUP(v307)->cells[51]);
	decref(v307);
	STR* v309;
	STRLIT(v309, "uintptr_t", 9);
	VAL v310;
	mw_mirth_data_makeZ_primZ_intlikeZBang(MKSTR(v303), v305, MKSTR(v306), v308, MKSTR(v309), v302, &v310);
	*out_ZPlusMirth_2 = v310;
}
static VAL mw_mirth_data_dataZ_qname (uint64_t in_Data_1, uint64_t in_Name_2, int64_t in_Int_3) {
	VAL v5 = mtw_mirth_tycon_Tycon_TYCONz_DATA(in_Data_1);
	VAL v6 = mtw_mirth_name_Namespace_NAMESPACEz_TYCON(v5);
	VAL v7 = mtw_mirth_name_QName_MKQNAME(v6, in_Name_2, in_Int_3);
	return v7;
}
static VAL mw_mirth_data_dataZ_wordZ_qname (uint64_t in_Data_1, VAL in_Str_2, int64_t in_Nat_3) {
	uint64_t v5 = mw_std_prim_Str_ZToName(in_Str_2);
	VAL v6 = mw_mirth_data_dataZ_qname(in_Data_1, v5, in_Nat_3);
	return v6;
}
static int64_t mw_mirth_data_Data_ZEqualZEqual (uint64_t in_Data_1, uint64_t in_Data_2) {
	int64_t v4 = mw_mirth_data_Data_index(in_Data_1);
	int64_t v5 = mw_mirth_data_Data_index(in_Data_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static int64_t mw_mirth_data_Data_numZ_tags (uint64_t in_Data_1) {
	VAL v3 = mw_mirth_data_Data_tags(in_Data_1);
	int64_t v4 = mw_std_list_List_1_len(v3);
	return v4;
}
static void mw_mirth_data_Data_addZ_tagZBang (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, uint64_t in_Data_3, VAL *out_ZPlusMirth_4) {
	void* v5 = mfld_mirth_data_Tag_ZTildevalue(in_Tag_2);
	bool v6 = mut_is_set(v5);
	uint64_t branch_Data_7;
	int64_t branch_Int_8;
	if (v6) {
		VAL v9 = mut_get(v5);
		branch_Int_8 = value_i64(v9);
		branch_Data_7 = in_Data_3;
	} else {
		void* v10 = mfld_mirth_data_Data_ZTildelastZ_tagZ_value(in_Data_3);
		VAL v11 = mw_std_prelude_ZAtZAsk(v10);
		int64_t branch_Int_12;
		switch (get_data_tag(v11)) {
			case 1LL: { // Some
				VAL v13 = mtp_std_maybe_Maybe_1_Some(v11);
				int64_t v14 = 1LL;
				int64_t v15 = i64_add(value_i64(v13), v14);
				branch_Int_12 = v15;
			} break;
			case 0LL: { // None
				int64_t v16 = 0LL;
				branch_Int_12 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		mut_set(MKI64(branch_Int_12), v5);
		branch_Int_8 = branch_Int_12;
		branch_Data_7 = in_Data_3;
	}
	VAL v17 = mw_mirth_data_Data_tags(branch_Data_7);
	VAL v18 = MKI64(0LL /* None */);
	int64_t v19 = 1LL /* True */;
	int64_t v20 = branch_Int_8;
	VAL v21 = v18;
	VAL v22 = v17;
	int64_t v23 = v19;
	int64_t v24 = v19;
	while (((bool)v24)) {
		int64_t v25 = v20;
		VAL v26 = v21;
		VAL v27 = v22;
		int64_t v28 = v23;
		VAL v29;
		VAL v30 = mw_std_list_List_1_uncons(v27, &v29);
		int64_t branch_Int_31;
		VAL branch_Maybe_32;
		VAL branch_List_33;
		int64_t branch_Bool_34;
		switch (get_data_tag(v30)) {
			case 1LL: { // Some
				VAL v35 = mtp_std_maybe_Maybe_1_Some(v30);
				incref(v35);
				int64_t v36 = mw_mirth_data_Tag_value(value_u64(v35));
				bool v37 = (v36 == v25);
				int64_t branch_Int_38;
				VAL branch_Maybe_39;
				if (v37) {
					VAL v40 = mtw_std_maybe_Maybe_1_Some(v35);
					branch_Maybe_39 = v40;
					branch_Int_38 = v25;
				} else {
					decref(v35);
					VAL v41 = MKI64(0LL /* None */);
					branch_Maybe_39 = v41;
					branch_Int_38 = v25;
				}
				int64_t branch_Int_42;
				VAL branch_Maybe_43;
				VAL branch_List_44;
				switch (get_data_tag(branch_Maybe_39)) {
					case 0LL: { // None
						branch_List_44 = v29;
						branch_Maybe_43 = v26;
						branch_Int_42 = branch_Int_38;
					} break;
					default: {
						decref(v29);
						decref(v26);
						VAL v45 = MKI64(0LL /* Nil */);
						branch_List_44 = v45;
						branch_Maybe_43 = branch_Maybe_39;
						branch_Int_42 = branch_Int_38;
					} break;
				}
				int64_t v46 = 1LL /* True */;
				branch_Bool_34 = v46;
				branch_List_33 = branch_List_44;
				branch_Maybe_32 = branch_Maybe_43;
				branch_Int_31 = branch_Int_42;
			} break;
			case 0LL: { // None
				int64_t v47 = 0LL /* False */;
				branch_Bool_34 = v47;
				branch_List_33 = v29;
				branch_Maybe_32 = v26;
				branch_Int_31 = v25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_34;
		v23 = branch_Bool_34;
		v22 = branch_List_33;
		v21 = branch_Maybe_32;
		v20 = branch_Int_31;
	}
	decref(v22);
	uint64_t branch_Tag_48;
	uint64_t branch_Data_49;
	VAL branch_ZPlusMirth_50;
	switch (get_data_tag(v21)) {
		case 1LL: { // Some
			VAL v51 = mtp_std_maybe_Maybe_1_Some(v21);
			STR* v52;
			STRLIT(v52, "", 0);
			STR* v53;
			STRLIT(v53, "Constructors ", 13);
			VAL v54;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v53), MKSTR(v52), &v54);
			uint64_t v55 = mw_mirth_data_Tag_name(value_u64(v51));
			VAL v56 = mw_mirth_name_Name_ZToStr(v55);
			VAL v57;
			mw_std_str_ZPlusStr_pushZ_strZBang(v56, v54, &v57);
			STR* v58;
			STRLIT(v58, " and ", 5);
			VAL v59;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v58), v57, &v59);
			uint64_t v60 = mw_mirth_data_Tag_name(in_Tag_2);
			VAL v61 = mw_mirth_name_Name_ZToStr(v60);
			VAL v62;
			mw_std_str_ZPlusStr_pushZ_strZBang(v61, v59, &v62);
			STR* v63;
			STRLIT(v63, " have the same tag value.", 25);
			VAL v64;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v63), v62, &v64);
			VAL v65 = mw_mirth_data_Data_headZAsk(branch_Data_7);
			VAL branch_ZPlusMirth_66;
			switch (get_data_tag(v65)) {
				case 1LL: { // Some
					VAL v67 = mtp_std_maybe_Maybe_1_Some(v65);
					VAL v68;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(value_u64(v67), v64, in_ZPlusMirth_1, &v68);
					branch_ZPlusMirth_66 = v68;
				} break;
				case 0LL: { // None
					VAL v69;
					mw_mirth_mirth_ZPlusMirth_errorZBang(v64, in_ZPlusMirth_1, &v69);
					branch_ZPlusMirth_66 = v69;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusMirth_50 = branch_ZPlusMirth_66;
			branch_Data_49 = branch_Data_7;
			branch_Tag_48 = in_Tag_2;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_50 = in_ZPlusMirth_1;
			branch_Data_49 = branch_Data_7;
			branch_Tag_48 = in_Tag_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	void* v70 = mfld_mirth_data_Data_ZTildelastZ_tagZ_value(branch_Data_49);
	mut_set(MKI64(v20), v70);
	void* v71 = mfld_mirth_data_Data_ZTildetags(branch_Data_49);
	VAL v72 = mut_get(v71);
	VAL v73 = mw_std_list_List_1_reverse(v72);
	VAL v74 = mtw_std_list_List_1_Cons(MKU64(branch_Tag_48), v73);
	VAL v75 = mw_std_list_List_1_reverse(v74);
	mut_set(v75, v71);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_50;
}
static int64_t mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk (uint64_t in_Data_1) {
	int64_t v3 = mw_mirth_data_Data_isZ_enumZAsk(in_Data_1);
	VAL v4 = mw_mirth_data_Data_isZ_unitZAsk(in_Data_1);
	int64_t v5 = get_data_tag(v4);
	decref(v4);
	int64_t v6 = 1LL;
	bool v7 = (v5 == v6);
	bool v8 = (v7 || ((bool)v3));
	return ((int64_t)v8);
}
static VAL mw_mirth_data_Data_isZ_unitZAsk (uint64_t in_Data_1) {
	void* v3 = mfld_mirth_data_Data_ZTildeisZ_unitZAsk(in_Data_1);
	bool v4 = mut_is_set(v3);
	uint64_t branch_Data_5;
	VAL branch_Maybe_6;
	if (v4) {
		VAL v7 = mut_get(v3);
		branch_Maybe_6 = v7;
		branch_Data_5 = in_Data_1;
	} else {
		VAL v8 = mw_mirth_data_Data_tags(in_Data_1);
		VAL v9 = mw_std_list_List_1_ZDivL1(v8);
		VAL branch_Maybe_10;
		switch (get_data_tag(v9)) {
			case 1LL: { // Some
				VAL v11 = mtp_std_maybe_Maybe_1_Some(v9);
				incref(v11);
				int64_t v12 = mw_mirth_data_Tag_numZ_totalZ_inputs(value_u64(v11));
				int64_t v13 = 0LL;
				bool v14 = (v12 == v13);
				VAL branch_Maybe_15;
				if (v14) {
					VAL v16 = mtw_std_maybe_Maybe_1_Some(v11);
					branch_Maybe_15 = v16;
				} else {
					decref(v11);
					VAL v17 = MKI64(0LL /* None */);
					branch_Maybe_15 = v17;
				}
				branch_Maybe_10 = branch_Maybe_15;
			} break;
			case 0LL: { // None
				VAL v18 = MKI64(0LL /* None */);
				branch_Maybe_10 = v18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(branch_Maybe_10);
		mut_set(branch_Maybe_10, v3);
		branch_Maybe_6 = branch_Maybe_10;
		branch_Data_5 = in_Data_1;
	}
	return branch_Maybe_6;
}
static int64_t mw_mirth_data_Data_isZ_enumZAsk (uint64_t in_Data_1) {
	void* v3 = mfld_mirth_data_Data_ZTildeisZ_enumZAsk(in_Data_1);
	bool v4 = mut_is_set(v3);
	uint64_t branch_Data_5;
	int64_t branch_Bool_6;
	if (v4) {
		VAL v7 = mut_get(v3);
		branch_Bool_6 = value_i64(v7);
		branch_Data_5 = in_Data_1;
	} else {
		VAL v8 = mw_mirth_data_Data_isZ_unitZAsk(in_Data_1);
		int64_t v9 = get_data_tag(v8);
		decref(v8);
		int64_t v10 = 0LL;
		bool v11 = (v9 == v10);
		uint64_t branch_Data_12;
		int64_t branch_Bool_13;
		if (v11) {
			VAL v14 = mw_mirth_data_Data_tags(in_Data_1);
			VAL v15 = MKI64(0LL /* None */);
			int64_t v16 = 1LL /* True */;
			VAL v17 = v15;
			VAL v18 = v14;
			int64_t v19 = v16;
			int64_t v20 = v16;
			while (((bool)v20)) {
				VAL v21 = v17;
				VAL v22 = v18;
				int64_t v23 = v19;
				VAL v24;
				VAL v25 = mw_std_list_List_1_uncons(v22, &v24);
				VAL branch_Maybe_26;
				VAL branch_List_27;
				int64_t branch_Bool_28;
				switch (get_data_tag(v25)) {
					case 1LL: { // Some
						VAL v29 = mtp_std_maybe_Maybe_1_Some(v25);
						incref(v29);
						int64_t v30 = mw_mirth_data_Tag_numZ_totalZ_inputs(value_u64(v29));
						int64_t v31 = 0LL;
						bool v32 = (v30 == v31);
						bool v33 = !v32;
						VAL branch_Maybe_34;
						if (v33) {
							VAL v35 = mtw_std_maybe_Maybe_1_Some(v29);
							branch_Maybe_34 = v35;
						} else {
							decref(v29);
							VAL v36 = MKI64(0LL /* None */);
							branch_Maybe_34 = v36;
						}
						VAL branch_Maybe_37;
						VAL branch_List_38;
						switch (get_data_tag(branch_Maybe_34)) {
							case 0LL: { // None
								branch_List_38 = v24;
								branch_Maybe_37 = v21;
							} break;
							default: {
								decref(v24);
								decref(v21);
								VAL v39 = MKI64(0LL /* Nil */);
								branch_List_38 = v39;
								branch_Maybe_37 = branch_Maybe_34;
							} break;
						}
						int64_t v40 = 1LL /* True */;
						branch_Bool_28 = v40;
						branch_List_27 = branch_List_38;
						branch_Maybe_26 = branch_Maybe_37;
					} break;
					case 0LL: { // None
						int64_t v41 = 0LL /* False */;
						branch_Bool_28 = v41;
						branch_List_27 = v24;
						branch_Maybe_26 = v21;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v20 = branch_Bool_28;
				v19 = branch_Bool_28;
				v18 = branch_List_27;
				v17 = branch_Maybe_26;
			}
			decref(v18);
			int64_t v42 = get_data_tag(v17);
			decref(v17);
			int64_t v43 = 0LL;
			bool v44 = (v42 == v43);
			branch_Bool_13 = ((int64_t)v44);
			branch_Data_12 = in_Data_1;
		} else {
			int64_t v45 = 0LL /* False */;
			branch_Bool_13 = v45;
			branch_Data_12 = in_Data_1;
		}
		mut_set(MKI64(branch_Bool_13), v3);
		branch_Bool_6 = branch_Bool_13;
		branch_Data_5 = branch_Data_12;
	}
	return branch_Bool_6;
}
static VAL mw_mirth_data_Data_semiZ_transparentZAsk (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_data_Data_ZTildesemiZ_transparentZAsk(in_Data_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Data_8;
	VAL branch_Maybe_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Maybe_9 = v10;
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v11 = mw_mirth_data_Data_tags(in_Data_2);
		VAL v12 = mw_std_list_List_1_ZDivL1(v11);
		VAL branch_ZPlusMirth_13;
		VAL branch_Maybe_14;
		switch (get_data_tag(v12)) {
			case 1LL: { // Some
				VAL v15 = mtp_std_maybe_Maybe_1_Some(v12);
				incref(v15);
				VAL v16;
				VAL v17 = mw_mirth_data_Tag_inputs(in_ZPlusMirth_1, value_u64(v15), &v16);
				VAL v18 = mw_std_list_List_1_ZDivL1(v17);
				uint64_t branch_Tag_19;
				VAL branch_Maybe_20;
				switch (get_data_tag(v18)) {
					case 1LL: { // Some
						VAL v21 = mtp_std_maybe_Maybe_1_Some(v18);
						incref(v15);
						VAL v22 = mtw_mirth_data_SemiTransparentData_SemiTransparentData(value_u64(v15), v21);
						VAL v23 = mtw_std_maybe_Maybe_1_Some(v22);
						branch_Maybe_20 = v23;
						branch_Tag_19 = value_u64(v15);
					} break;
					case 0LL: { // None
						VAL v24 = MKI64(0LL /* None */);
						branch_Maybe_20 = v24;
						branch_Tag_19 = value_u64(v15);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_14 = branch_Maybe_20;
				branch_ZPlusMirth_13 = v16;
			} break;
			case 0LL: { // None
				VAL v25 = MKI64(0LL /* None */);
				branch_Maybe_14 = v25;
				branch_ZPlusMirth_13 = in_ZPlusMirth_1;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(branch_Maybe_14);
		mut_set(branch_Maybe_14, v5);
		branch_Maybe_9 = branch_Maybe_14;
		branch_Data_8 = in_Data_2;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Maybe_9;
}
static int64_t mw_mirth_data_Data_isZ_resourceZAsk (uint64_t in_Data_1) {
	void* v3 = mfld_mirth_data_Data_ZTildeisZ_resourceZAsk(in_Data_1);
	bool v4 = mut_is_set(v3);
	uint64_t branch_Data_5;
	int64_t branch_Bool_6;
	if (v4) {
		VAL v7 = mut_get(v3);
		branch_Bool_6 = value_i64(v7);
		branch_Data_5 = in_Data_1;
	} else {
		uint64_t v8 = mw_mirth_data_Data_name(in_Data_1);
		int64_t v9 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(v8);
		mut_set(MKI64(v9), v3);
		branch_Bool_6 = v9;
		branch_Data_5 = in_Data_1;
	}
	return branch_Bool_6;
}
static int64_t mw_mirth_data_Data_isZ_valueZ_typeZAsk (uint64_t in_Data_1) {
	int64_t v3 = mw_mirth_data_Data_isZ_resourceZAsk(in_Data_1);
	bool v4 = !((bool)v3);
	return ((int64_t)v4);
}
static VAL mw_mirth_data_Data_fullZ_type (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = mtw_mirth_type_Type_TData(in_Data_2);
	VAL v6;
	VAL v7 = mw_mirth_data_Data_params(in_ZPlusMirth_1, in_Data_2, &v6);
	int64_t v8 = 1LL /* True */;
	VAL v9 = v5;
	VAL v10 = v7;
	int64_t v11 = v8;
	int64_t v12 = v8;
	while (((bool)v12)) {
		VAL v13 = v9;
		VAL v14 = v10;
		int64_t v15 = v11;
		VAL branch_Type_16;
		VAL branch_List_17;
		int64_t branch_Bool_18;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v19;
				VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
				VAL v21 = mtw_mirth_type_Type_TVar(value_u64(v20));
				VAL v22 = mtw_mirth_type_Type_TApp(v13, v21);
				int64_t v23 = 1LL /* True */;
				branch_Bool_18 = v23;
				branch_List_17 = v19;
				branch_Type_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v24 = MKI64(0LL /* Nil */);
				int64_t v25 = 0LL /* False */;
				branch_Bool_18 = v25;
				branch_List_17 = v24;
				branch_Type_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_18;
		v11 = branch_Bool_18;
		v10 = branch_List_17;
		v9 = branch_Type_16;
	}
	decref(v10);
	int64_t v26 = mw_mirth_data_Data_isZ_valueZ_typeZAsk(in_Data_2);
	VAL branch_ZPlusMirth_27;
	VAL branch_Either_28;
	if (((bool)v26)) {
		VAL v29 = mtw_std_either_Either_2_Left(v9);
		branch_Either_28 = v29;
		branch_ZPlusMirth_27 = v6;
	} else {
		VAL v30 = mtw_std_either_Either_2_Right(v9);
		branch_Either_28 = v30;
		branch_ZPlusMirth_27 = v6;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_27;
	return branch_Either_28;
}
static int64_t mw_mirth_data_Tag_index (uint64_t in_Tag_1) {
	return ((int64_t)in_Tag_1);
}
static uint64_t mw_mirth_data_Tag_allocZBang (void) {
	void* v2 = mbuf_mirth_data_Tag_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_data_Tag_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static uint64_t mw_mirth_data_Tag_data (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildedata(in_Tag_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_data_Tag_qname (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildeqname(in_Tag_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_data_Tag_name (uint64_t in_Tag_1) {
	VAL v3 = mw_mirth_data_Tag_qname(in_Tag_1);
	uint64_t v4 = value_u64(VTUP(v3)->cells[2]);
	decref(v3);
	return v4;
}
static int64_t mw_mirth_data_Tag_value (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildevalue(in_Tag_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static VAL mw_mirth_data_Tag_labelZ_inputs (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildelabelZ_inputs(in_Tag_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static int64_t mw_mirth_data_Tag_numZ_typeZ_inputs (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs(in_Tag_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static int64_t mw_mirth_data_Tag_numZ_resourceZ_inputs (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs(in_Tag_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static VAL mw_mirth_data_Tag_sigZAsk (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildesigZAsk(in_Tag_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static VAL mw_mirth_data_Tag_ctxZ_type (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3, VAL *out_ArrowType_5) {
	void* v6 = mfld_mirth_data_Tag_ZTildectxZ_type(in_Tag_2);
	VAL v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(v6, in_ZPlusMirth_1, &v7);
	VAL v9 = value_tup(v8, 2)->cells[0];
	VAL v10 = value_tup(v8, 2)->cells[1];
	tup_decref_outer(value_tup(v8, 2), 2);
	*out_ArrowType_5 = v10;
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static VAL mw_mirth_data_Tag_ctx (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_ctxZ_type(in_ZPlusMirth_1, in_Tag_2, &v5, &v6);
	decref(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_data_Tag_type (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_ctxZ_type(in_ZPlusMirth_1, in_Tag_2, &v5, &v6);
	decref(v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig (uint64_t in_Tag_1) {
	VAL v3 = mw_mirth_data_Tag_sigZAsk(in_Tag_1);
	VAL branch_List_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_mirth_token_Token_runZ_tokens(value_u64(v5));
			VAL v7 = MKI64(0LL /* Nil */);
			VAL v8 = mw_std_list_List_1_reverse(v7);
			int64_t v9 = 1LL /* True */;
			VAL v10 = v8;
			VAL v11 = v6;
			int64_t v12 = v9;
			int64_t v13 = v9;
			while (((bool)v13)) {
				VAL v14 = v10;
				VAL v15 = v11;
				int64_t v16 = v12;
				VAL branch_ZPlusList_17;
				VAL branch_List_18;
				int64_t branch_Bool_19;
				switch (get_data_tag(v15)) {
					case 1LL: { // Cons
						VAL v20;
						VAL v21 = mtp_std_list_List_1_Cons(v15, &v20);
						VAL v22 = mw_mirth_token_Token_sigZ_labelZAsk(value_u64(v21));
						VAL v23;
						mw_std_maybe_Maybe_1_for_1_sp7(v14, v22, &v23);
						int64_t v24 = 1LL /* True */;
						branch_Bool_19 = v24;
						branch_List_18 = v20;
						branch_ZPlusList_17 = v23;
					} break;
					case 0LL: { // Nil
						VAL v25 = MKI64(0LL /* Nil */);
						int64_t v26 = 0LL /* False */;
						branch_Bool_19 = v26;
						branch_List_18 = v25;
						branch_ZPlusList_17 = v14;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v13 = branch_Bool_19;
				v12 = branch_Bool_19;
				v11 = branch_List_18;
				v10 = branch_ZPlusList_17;
			}
			decref(v11);
			VAL v27 = mw_std_list_List_1_reverse(v10);
			branch_List_4 = v27;
		} break;
		case 0LL: { // None
			VAL v28 = MKI64(0LL /* Nil */);
			branch_List_4 = v28;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_4;
}
static int64_t mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig (uint64_t in_Tag_1) {
	VAL v3 = mw_mirth_data_Tag_sigZAsk(in_Tag_1);
	int64_t branch_Nat_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			int64_t v6 = mw_mirth_token_Token_runZ_length(value_u64(v5));
			int64_t v7 = mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig(in_Tag_1);
			int64_t v8 = i64_sub(v6, v7);
			int64_t v9 = 0LL;
			int64_t v10 = mw_std_prim_Int_max(v8, v9);
			VAL v11 = mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig(in_Tag_1);
			int64_t v12 = mw_std_list_List_1_len(v11);
			int64_t v13 = i64_sub(v10, v12);
			int64_t v14 = 0LL;
			int64_t v15 = mw_std_prim_Int_max(v13, v14);
			branch_Nat_4 = v15;
		} break;
		case 0LL: { // None
			int64_t v16 = 0LL;
			branch_Nat_4 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Nat_4;
}
static int64_t mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig (uint64_t in_Tag_1) {
	VAL v3 = mw_mirth_data_Tag_sigZAsk(in_Tag_1);
	int64_t branch_Nat_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_mirth_token_Token_runZ_tokens(value_u64(v5));
			VAL v7 = MKI64(0LL /* Nil */);
			VAL v8 = mw_std_list_List_1_reverse(v7);
			int64_t v9 = 1LL /* True */;
			VAL v10 = v8;
			VAL v11 = v6;
			int64_t v12 = v9;
			int64_t v13 = v9;
			while (((bool)v13)) {
				VAL v14 = v10;
				VAL v15 = v11;
				int64_t v16 = v12;
				VAL branch_ZPlusList_17;
				VAL branch_List_18;
				int64_t branch_Bool_19;
				switch (get_data_tag(v15)) {
					case 1LL: { // Cons
						VAL v20;
						VAL v21 = mtp_std_list_List_1_Cons(v15, &v20);
						incref(v21);
						int64_t v22 = mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk(value_u64(v21));
						bool v23 = !((bool)v22);
						VAL branch_ZPlusList_24;
						if (v23) {
							VAL v25 = mtw_std_list_List_1_Cons(v21, v14);
							branch_ZPlusList_24 = v25;
						} else {
							decref(v21);
							branch_ZPlusList_24 = v14;
						}
						int64_t v26 = 1LL /* True */;
						branch_Bool_19 = v26;
						branch_List_18 = v20;
						branch_ZPlusList_17 = branch_ZPlusList_24;
					} break;
					case 0LL: { // Nil
						VAL v27 = MKI64(0LL /* Nil */);
						int64_t v28 = 0LL /* False */;
						branch_Bool_19 = v28;
						branch_List_18 = v27;
						branch_ZPlusList_17 = v14;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v13 = branch_Bool_19;
				v12 = branch_Bool_19;
				v11 = branch_List_18;
				v10 = branch_ZPlusList_17;
			}
			decref(v11);
			VAL v29 = mw_std_list_List_1_reverse(v10);
			VAL v30 = MKI64(0LL /* Nil */);
			VAL v31 = mw_std_list_List_1_reverse(v30);
			int64_t v32 = 1LL /* True */;
			VAL v33 = v31;
			VAL v34 = v29;
			int64_t v35 = v32;
			int64_t v36 = v32;
			while (((bool)v36)) {
				VAL v37 = v33;
				VAL v38 = v34;
				int64_t v39 = v35;
				VAL branch_ZPlusList_40;
				VAL branch_List_41;
				int64_t branch_Bool_42;
				switch (get_data_tag(v38)) {
					case 1LL: { // Cons
						VAL v43;
						VAL v44 = mtp_std_list_List_1_Cons(v38, &v43);
						VAL v45 = mw_mirth_token_Token_nameZAsk(value_u64(v44));
						VAL v46;
						mw_std_maybe_Maybe_1_for_1_sp7(v37, v45, &v46);
						int64_t v47 = 1LL /* True */;
						branch_Bool_42 = v47;
						branch_List_41 = v43;
						branch_ZPlusList_40 = v46;
					} break;
					case 0LL: { // Nil
						VAL v48 = MKI64(0LL /* Nil */);
						int64_t v49 = 0LL /* False */;
						branch_Bool_42 = v49;
						branch_List_41 = v48;
						branch_ZPlusList_40 = v37;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v36 = branch_Bool_42;
				v35 = branch_Bool_42;
				v34 = branch_List_41;
				v33 = branch_ZPlusList_40;
			}
			decref(v34);
			VAL v50 = mw_std_list_List_1_reverse(v33);
			VAL v51 = MKI64(0LL /* Nil */);
			VAL v52 = mw_std_list_List_1_reverse(v51);
			int64_t v53 = 1LL /* True */;
			VAL v54 = v52;
			VAL v55 = v50;
			int64_t v56 = v53;
			int64_t v57 = v53;
			while (((bool)v57)) {
				VAL v58 = v54;
				VAL v59 = v55;
				int64_t v60 = v56;
				VAL branch_ZPlusList_61;
				VAL branch_List_62;
				int64_t branch_Bool_63;
				switch (get_data_tag(v59)) {
					case 1LL: { // Cons
						VAL v64;
						VAL v65 = mtp_std_list_List_1_Cons(v59, &v64);
						incref(v65);
						incref(v65);
						int64_t v66 = mw_mirth_name_Name_couldZ_beZ_resourceZ_var(value_u64(v65));
						int64_t branch_Bool_67;
						if (((bool)v66)) {
							decref(v65);
							int64_t v68 = 1LL /* True */;
							branch_Bool_67 = v68;
						} else {
							int64_t v69 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(value_u64(v65));
							branch_Bool_67 = v69;
						}
						VAL branch_ZPlusList_70;
						if (((bool)branch_Bool_67)) {
							VAL v71 = mtw_std_list_List_1_Cons(v65, v58);
							branch_ZPlusList_70 = v71;
						} else {
							decref(v65);
							branch_ZPlusList_70 = v58;
						}
						int64_t v72 = 1LL /* True */;
						branch_Bool_63 = v72;
						branch_List_62 = v64;
						branch_ZPlusList_61 = branch_ZPlusList_70;
					} break;
					case 0LL: { // Nil
						VAL v73 = MKI64(0LL /* Nil */);
						int64_t v74 = 0LL /* False */;
						branch_Bool_63 = v74;
						branch_List_62 = v73;
						branch_ZPlusList_61 = v58;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v57 = branch_Bool_63;
				v56 = branch_Bool_63;
				v55 = branch_List_62;
				v54 = branch_ZPlusList_61;
			}
			decref(v55);
			VAL v75 = mw_std_list_List_1_reverse(v54);
			int64_t v76 = mw_std_list_List_1_len(v75);
			branch_Nat_4 = v76;
		} break;
		case 0LL: { // None
			int64_t v77 = 0LL;
			branch_Nat_4 = v77;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Nat_4;
}
static int64_t mw_mirth_data_Tag_numZ_labelZ_inputs (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildenumZ_labelZ_inputs(in_Tag_1);
	bool v4 = mut_is_set(v3);
	uint64_t branch_Tag_5;
	int64_t branch_Nat_6;
	if (v4) {
		VAL v7 = mut_get(v3);
		branch_Nat_6 = value_i64(v7);
		branch_Tag_5 = in_Tag_1;
	} else {
		VAL v8 = mw_mirth_data_Tag_labelZ_inputs(in_Tag_1);
		int64_t v9 = mw_std_list_List_1_len(v8);
		mut_set(MKI64(v9), v3);
		branch_Nat_6 = v9;
		branch_Tag_5 = in_Tag_1;
	}
	return branch_Nat_6;
}
static int64_t mw_mirth_data_Tag_numZ_totalZ_inputs (uint64_t in_Tag_1) {
	int64_t v3 = mw_mirth_data_Tag_numZ_labelZ_inputs(in_Tag_1);
	int64_t v4 = mw_mirth_data_Tag_numZ_typeZ_inputs(in_Tag_1);
	int64_t v5 = i64_add(v3, v4);
	int64_t v6 = mw_mirth_data_Tag_numZ_resourceZ_inputs(in_Tag_1);
	int64_t v7 = i64_add(v5, v6);
	return v7;
}
static VAL mw_mirth_data_Tag_inputs (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_data_Tag_ZTildeinputs(in_Tag_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	VAL branch_List_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_List_9 = v10;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v11;
		VAL v12 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_2, &v11);
		VAL v13 = mw_mirth_type_ArrowType_dom(v12);
		VAL v14;
		VAL v15 = mw_mirth_type_StackType_splitZ_parts(v13, &v14);
		decref(v15);
		incref(v14);
		mut_set(v14, v5);
		branch_List_9 = v14;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v11;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_9;
}
static VAL mw_mirth_data_Tag_semiZ_transparentZAsk (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_data_Tag_data(in_Tag_2);
	VAL v6;
	VAL v7 = mw_mirth_data_Data_semiZ_transparentZAsk(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static int64_t mw_mirth_data_Tag_outputsZ_resourceZAsk (uint64_t in_Tag_1) {
	uint64_t v3 = mw_mirth_data_Tag_data(in_Tag_1);
	int64_t v4 = mw_mirth_data_Data_isZ_resourceZAsk(v3);
	return v4;
}
static int64_t mw_mirth_data_Tag_ZEqualZEqual (uint64_t in_Tag_1, uint64_t in_Tag_2) {
	int64_t v4 = mw_mirth_data_Tag_index(in_Tag_1);
	int64_t v5 = mw_mirth_data_Tag_index(in_Tag_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static int64_t mw_mirth_data_Tag_preferZ_inlineZAsk (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_data_Tag_data(in_Tag_2);
	VAL v6;
	VAL v7 = mw_mirth_data_Data_semiZ_transparentZAsk(in_ZPlusMirth_1, v5, &v6);
	int64_t v8 = get_data_tag(v7);
	decref(v7);
	int64_t v9 = 1LL;
	bool v10 = (v8 == v9);
	uint64_t branch_Tag_11;
	int64_t branch_Bool_12;
	if (v10) {
		int64_t v13 = 1LL /* True */;
		branch_Bool_12 = v13;
		branch_Tag_11 = in_Tag_2;
	} else {
		int64_t v14 = mw_mirth_data_Tag_numZ_totalZ_inputs(in_Tag_2);
		int64_t v15 = 0LL;
		bool v16 = (v14 == v15);
		branch_Bool_12 = ((int64_t)v16);
		branch_Tag_11 = in_Tag_2;
	}
	*out_ZPlusMirth_3 = v6;
	return branch_Bool_12;
}
static int64_t mw_mirth_data_DataPartial_ZEqualZEqual (VAL in_DataPartial_1, VAL in_DataPartial_2) {
	uint64_t v4;
	uint64_t v5;
	mtp_mirth_data_DataPartial_DataPartial(in_DataPartial_2, &v4, &v5);
	uint64_t v6;
	uint64_t v7;
	mtp_mirth_data_DataPartial_DataPartial(in_DataPartial_1, &v6, &v7);
	int64_t v8 = mw_mirth_data_Data_ZEqualZEqual(v6, v4);
	int64_t v9 = mw_mirth_label_Label_ZEqualZEqual(v7, v5);
	bool v10 = (((bool)v8) && ((bool)v9));
	return ((int64_t)v10);
}
static void mw_mirth_match_Match_thaw (VAL in_Match_1, VAL *out_ZPlusMatch_2) {
	VAL v3;
	uint64_t v4;
	uint64_t v5;
	VAL v6;
	VAL v7;
	VAL v8;
	VAL v9;
	mtp_mirth_match_Match_Match(in_Match_1, &v3, &v4, &v5, &v6, &v7, &v8, &v9);
	VAL v10;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v3, v4, v5, v6, v7, v8, v9, &v10);
	*out_ZPlusMatch_2 = v10;
}
static VAL mw_mirth_match_ZPlusMatch_freezze (VAL in_ZPlusMatch_1) {
	VAL v3;
	uint64_t v4;
	uint64_t v5;
	VAL v6;
	VAL v7;
	VAL v8;
	VAL v9;
	mtp_mirth_match_ZPlusMatch_ZPlusMatch(in_ZPlusMatch_1, &v3, &v4, &v5, &v6, &v7, &v8, &v9);
	VAL v10 = mtw_mirth_match_Match_Match(v3, v4, v5, v6, v7, v8, v9);
	return v10;
}
static int64_t mw_mirth_match_Match_isZ_exhaustiveZAsk (VAL in_Match_1) {
	incref(in_Match_1);
	int64_t v3 = mw_mirth_match_Match_hasZ_defaultZ_caseZAsk(in_Match_1);
	VAL branch_Match_4;
	int64_t branch_Bool_5;
	if (((bool)v3)) {
		int64_t v6 = 1LL /* True */;
		branch_Bool_5 = v6;
		branch_Match_4 = in_Match_1;
	} else {
		incref(in_Match_1);
		VAL v7 = mw_mirth_match_Match_scrutineeZ_dataZAsk(in_Match_1);
		VAL branch_Match_8;
		int64_t branch_Bool_9;
		switch (get_data_tag(v7)) {
			case 1LL: { // Some
				VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
				int64_t v11 = mw_mirth_data_Data_numZ_tags(value_u64(v10));
				incref(in_Match_1);
				VAL v12 = VTUP(in_Match_1)->cells[7];
				incref(v12);
				decref(in_Match_1);
				int64_t v13 = mw_std_list_List_1_len(v12);
				bool v14 = (v11 == v13);
				branch_Bool_9 = ((int64_t)v14);
				branch_Match_8 = in_Match_1;
			} break;
			case 0LL: { // None
				incref(in_Match_1);
				VAL v15 = VTUP(in_Match_1)->cells[7];
				incref(v15);
				decref(in_Match_1);
				int64_t v16 = mw_std_list_List_1_len(v15);
				int64_t v17 = 0LL;
				bool v18 = (v16 > v17);
				branch_Bool_9 = ((int64_t)v18);
				branch_Match_8 = in_Match_1;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Bool_5 = branch_Bool_9;
		branch_Match_4 = branch_Match_8;
	}
	decref(branch_Match_4);
	return branch_Bool_5;
}
static int64_t mw_mirth_match_Match_hasZ_defaultZ_caseZAsk (VAL in_Match_1) {
	VAL v3 = VTUP(in_Match_1)->cells[7];
	incref(v3);
	decref(in_Match_1);
	VAL v4 = MKI64(0LL /* None */);
	int64_t v5 = 1LL /* True */;
	VAL v6 = v4;
	VAL v7 = v3;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL v13;
		VAL v14 = mw_std_list_List_1_uncons(v11, &v13);
		VAL branch_Maybe_15;
		VAL branch_List_16;
		int64_t branch_Bool_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				incref(v18);
				int64_t v19 = mw_mirth_match_Case_isZ_defaultZ_caseZAsk(v18);
				VAL branch_Maybe_20;
				if (((bool)v19)) {
					VAL v21 = mtw_std_maybe_Maybe_1_Some(v18);
					branch_Maybe_20 = v21;
				} else {
					decref(v18);
					VAL v22 = MKI64(0LL /* None */);
					branch_Maybe_20 = v22;
				}
				VAL branch_Maybe_23;
				VAL branch_List_24;
				switch (get_data_tag(branch_Maybe_20)) {
					case 0LL: { // None
						branch_List_24 = v13;
						branch_Maybe_23 = v10;
					} break;
					default: {
						decref(v13);
						decref(v10);
						VAL v25 = MKI64(0LL /* Nil */);
						branch_List_24 = v25;
						branch_Maybe_23 = branch_Maybe_20;
					} break;
				}
				int64_t v26 = 1LL /* True */;
				branch_Bool_17 = v26;
				branch_List_16 = branch_List_24;
				branch_Maybe_15 = branch_Maybe_23;
			} break;
			case 0LL: { // None
				int64_t v27 = 0LL /* False */;
				branch_Bool_17 = v27;
				branch_List_16 = v13;
				branch_Maybe_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_17;
		v8 = branch_Bool_17;
		v7 = branch_List_16;
		v6 = branch_Maybe_15;
	}
	decref(v7);
	int64_t v28 = get_data_tag(v6);
	decref(v6);
	int64_t v29 = 1LL;
	bool v30 = (v28 == v29);
	return ((int64_t)v30);
}
static VAL mw_mirth_match_Match_scrutineeZ_dataZAsk (VAL in_Match_1) {
	VAL v3 = VTUP(in_Match_1)->cells[7];
	incref(v3);
	decref(in_Match_1);
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5 = mw_std_list_List_1_reverse(v4);
	int64_t v6 = 1LL /* True */;
	VAL v7 = v5;
	VAL v8 = v3;
	int64_t v9 = v6;
	int64_t v10 = v6;
	while (((bool)v10)) {
		VAL v11 = v7;
		VAL v12 = v8;
		int64_t v13 = v9;
		VAL branch_ZPlusList_14;
		VAL branch_List_15;
		int64_t branch_Bool_16;
		switch (get_data_tag(v12)) {
			case 1LL: { // Cons
				VAL v17;
				VAL v18 = mtp_std_list_List_1_Cons(v12, &v17);
				incref(v18);
				int64_t v19 = mw_mirth_match_Case_isZ_defaultZ_caseZAsk(v18);
				bool v20 = !((bool)v19);
				VAL branch_ZPlusList_21;
				if (v20) {
					VAL v22 = mtw_std_list_List_1_Cons(v18, v11);
					branch_ZPlusList_21 = v22;
				} else {
					decref(v18);
					branch_ZPlusList_21 = v11;
				}
				int64_t v23 = 1LL /* True */;
				branch_Bool_16 = v23;
				branch_List_15 = v17;
				branch_ZPlusList_14 = branch_ZPlusList_21;
			} break;
			case 0LL: { // Nil
				VAL v24 = MKI64(0LL /* Nil */);
				int64_t v25 = 0LL /* False */;
				branch_Bool_16 = v25;
				branch_List_15 = v24;
				branch_ZPlusList_14 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_16;
		v9 = branch_Bool_16;
		v8 = branch_List_15;
		v7 = branch_ZPlusList_14;
	}
	decref(v8);
	VAL v26 = mw_std_list_List_1_reverse(v7);
	incref(v26);
	VAL v27 = mw_std_list_List_1_first(v26);
	VAL branch_Maybe_28;
	switch (get_data_tag(v27)) {
		case 1LL: { // Some
			VAL v29 = mtp_std_maybe_Maybe_1_Some(v27);
			VAL v30 = VTUP(v29)->cells[1];
			incref(v30);
			decref(v29);
			VAL v31 = mw_mirth_match_Pattern_singleZ_tagZAsk(v30);
			branch_Maybe_28 = v31;
		} break;
		case 0LL: { // None
			VAL v32 = MKI64(0LL /* None */);
			branch_Maybe_28 = v32;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_Maybe_33;
	switch (get_data_tag(branch_Maybe_28)) {
		case 1LL: { // Some
			VAL v34 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_28);
			uint64_t v35 = mw_mirth_data_Tag_data(value_u64(v34));
			VAL v36 = mtw_std_maybe_Maybe_1_Some(MKU64(v35));
			branch_Maybe_33 = v36;
		} break;
		case 0LL: { // None
			VAL v37 = MKI64(0LL /* None */);
			branch_Maybe_33 = v37;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_Maybe_38;
	switch (get_data_tag(branch_Maybe_33)) {
		case 1LL: { // Some
			VAL v39 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_33);
			VAL v40 = MKI64(0LL /* None */);
			int64_t v41 = 1LL /* True */;
			VAL v42 = v39;
			VAL v43 = v40;
			VAL v44 = v26;
			int64_t v45 = v41;
			int64_t v46 = v41;
			while (((bool)v46)) {
				VAL v47 = v42;
				VAL v48 = v43;
				VAL v49 = v44;
				int64_t v50 = v45;
				VAL v51;
				VAL v52 = mw_std_list_List_1_uncons(v49, &v51);
				uint64_t branch_Data_53;
				VAL branch_Maybe_54;
				VAL branch_List_55;
				int64_t branch_Bool_56;
				switch (get_data_tag(v52)) {
					case 1LL: { // Some
						VAL v57 = mtp_std_maybe_Maybe_1_Some(v52);
						incref(v57);
						VAL v58 = VTUP(v57)->cells[1];
						incref(v58);
						decref(v57);
						VAL v59 = mw_mirth_match_Pattern_singleZ_tagZAsk(v58);
						uint64_t branch_Data_60;
						int64_t branch_Bool_61;
						switch (get_data_tag(v59)) {
							case 1LL: { // Some
								VAL v62 = mtp_std_maybe_Maybe_1_Some(v59);
								incref(v47);
								uint64_t v63 = mw_mirth_data_Tag_data(value_u64(v62));
								int64_t v64 = mw_mirth_data_Data_ZEqualZEqual(value_u64(v47), v63);
								branch_Bool_61 = v64;
								branch_Data_60 = value_u64(v47);
							} break;
							case 0LL: { // None
								int64_t v65 = 0LL /* False */;
								branch_Bool_61 = v65;
								branch_Data_60 = value_u64(v47);
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						bool v66 = !((bool)branch_Bool_61);
						uint64_t branch_Data_67;
						VAL branch_Maybe_68;
						if (v66) {
							VAL v69 = mtw_std_maybe_Maybe_1_Some(v57);
							branch_Maybe_68 = v69;
							branch_Data_67 = branch_Data_60;
						} else {
							decref(v57);
							VAL v70 = MKI64(0LL /* None */);
							branch_Maybe_68 = v70;
							branch_Data_67 = branch_Data_60;
						}
						uint64_t branch_Data_71;
						VAL branch_Maybe_72;
						VAL branch_List_73;
						switch (get_data_tag(branch_Maybe_68)) {
							case 0LL: { // None
								branch_List_73 = v51;
								branch_Maybe_72 = v48;
								branch_Data_71 = branch_Data_67;
							} break;
							default: {
								decref(v51);
								decref(v48);
								VAL v74 = MKI64(0LL /* Nil */);
								branch_List_73 = v74;
								branch_Maybe_72 = branch_Maybe_68;
								branch_Data_71 = branch_Data_67;
							} break;
						}
						int64_t v75 = 1LL /* True */;
						branch_Bool_56 = v75;
						branch_List_55 = branch_List_73;
						branch_Maybe_54 = branch_Maybe_72;
						branch_Data_53 = branch_Data_71;
					} break;
					case 0LL: { // None
						int64_t v76 = 0LL /* False */;
						branch_Bool_56 = v76;
						branch_List_55 = v51;
						branch_Maybe_54 = v48;
						branch_Data_53 = value_u64(v47);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v46 = branch_Bool_56;
				v45 = branch_Bool_56;
				v44 = branch_List_55;
				v43 = branch_Maybe_54;
				v42 = MKU64(branch_Data_53);
			}
			decref(v44);
			int64_t v77 = get_data_tag(v43);
			decref(v43);
			int64_t v78 = 0LL;
			bool v79 = (v77 == v78);
			VAL branch_Maybe_80;
			if (v79) {
				VAL v81 = mtw_std_maybe_Maybe_1_Some(v42);
				branch_Maybe_80 = v81;
			} else {
				decref(v42);
				VAL v82 = MKI64(0LL /* None */);
				branch_Maybe_80 = v82;
			}
			branch_Maybe_38 = branch_Maybe_80;
		} break;
		case 0LL: { // None
			decref(v26);
			VAL v83 = MKI64(0LL /* None */);
			branch_Maybe_38 = v83;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_38;
}
static void mw_mirth_match_ZPlusMatch_addZ_case (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL in_Case_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusMatch_5) {
	incref(in_Case_3);
	VAL v6;
	int64_t v7 = mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk(in_Case_3, in_ZPlusMatch_2, &v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusMatch_9;
	if (((bool)v7)) {
		VAL v10 = VTUP(in_Case_3)->cells[1];
		incref(v10);
		decref(in_Case_3);
		uint64_t v11 = value_u64(VTUP(v10)->cells[2]);
		decref(v10);
		STR* v12;
		STRLIT(v12, "Case is unreachable.", 20);
		VAL v13;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v11, MKSTR(v12), in_ZPlusMirth_1, &v13);
		branch_ZPlusMatch_9 = v6;
		branch_ZPlusMirth_8 = v13;
	} else {
		VAL v14 = VTUP(v6)->cells[7];
		incref(v14);
		VAL v15 = mw_std_list_List_1_reverse(v14);
		VAL v16 = mtw_std_list_List_1_Cons(in_Case_3, v15);
		VAL v17 = mw_std_list_List_1_reverse(v16);
		VAL v18 = VTUP(v6)->cells[7];
		decref(v18);
		VTUP(v6)->cells[7] = v17;
		branch_ZPlusMatch_9 = v6;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	*out_ZPlusMatch_5 = branch_ZPlusMatch_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static int64_t mw_mirth_match_ZPlusMatch_caseZ_redundantZAsk (VAL in_Case_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMatch_4) {
	VAL v5 = VTUP(in_ZPlusMatch_2)->cells[7];
	incref(v5);
	VAL v6 = MKI64(0LL /* None */);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_Case_1;
	VAL v9 = v6;
	VAL v10 = v5;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL v17;
		VAL v18 = mw_std_list_List_1_uncons(v15, &v17);
		VAL branch_Case_19;
		VAL branch_Maybe_20;
		VAL branch_List_21;
		int64_t branch_Bool_22;
		switch (get_data_tag(v18)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v18);
				incref(v23);
				incref(v13);
				int64_t v24 = mw_mirth_match_Case_coversZAsk(v13, v23);
				VAL branch_Case_25;
				VAL branch_Maybe_26;
				if (((bool)v24)) {
					VAL v27 = mtw_std_maybe_Maybe_1_Some(v23);
					branch_Maybe_26 = v27;
					branch_Case_25 = v13;
				} else {
					decref(v23);
					VAL v28 = MKI64(0LL /* None */);
					branch_Maybe_26 = v28;
					branch_Case_25 = v13;
				}
				VAL branch_Case_29;
				VAL branch_Maybe_30;
				VAL branch_List_31;
				switch (get_data_tag(branch_Maybe_26)) {
					case 0LL: { // None
						branch_List_31 = v17;
						branch_Maybe_30 = v14;
						branch_Case_29 = branch_Case_25;
					} break;
					default: {
						decref(v17);
						decref(v14);
						VAL v32 = MKI64(0LL /* Nil */);
						branch_List_31 = v32;
						branch_Maybe_30 = branch_Maybe_26;
						branch_Case_29 = branch_Case_25;
					} break;
				}
				int64_t v33 = 1LL /* True */;
				branch_Bool_22 = v33;
				branch_List_21 = branch_List_31;
				branch_Maybe_20 = branch_Maybe_30;
				branch_Case_19 = branch_Case_29;
			} break;
			case 0LL: { // None
				int64_t v34 = 0LL /* False */;
				branch_Bool_22 = v34;
				branch_List_21 = v17;
				branch_Maybe_20 = v14;
				branch_Case_19 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_22;
		v11 = branch_Bool_22;
		v10 = branch_List_21;
		v9 = branch_Maybe_20;
		v8 = branch_Case_19;
	}
	decref(v10);
	decref(v8);
	int64_t v35 = get_data_tag(v9);
	decref(v9);
	int64_t v36 = 1LL;
	bool v37 = (v35 == v36);
	*out_ZPlusMatch_4 = in_ZPlusMatch_2;
	return ((int64_t)v37);
}
static int64_t mw_mirth_match_Case_coversZAsk (VAL in_Case_1, VAL in_Case_2) {
	VAL v4 = VTUP(in_Case_1)->cells[1];
	incref(v4);
	decref(in_Case_1);
	VAL v5 = VTUP(in_Case_2)->cells[1];
	incref(v5);
	decref(in_Case_2);
	int64_t v6 = mw_mirth_match_Pattern_coversZAsk(v4, v5);
	return v6;
}
static int64_t mw_mirth_match_Case_isZ_defaultZ_caseZAsk (VAL in_Case_1) {
	VAL v3 = VTUP(in_Case_1)->cells[1];
	incref(v3);
	decref(in_Case_1);
	int64_t v4 = mw_mirth_match_Pattern_isZ_defaultZAsk(v3);
	return v4;
}
static VAL mw_mirth_match_Pattern_dom (VAL in_Pattern_1) {
	incref(in_Pattern_1);
	VAL v3 = VTUP(in_Pattern_1)->cells[7];
	incref(v3);
	decref(in_Pattern_1);
	VAL v4 = VTUP(in_Pattern_1)->cells[6];
	incref(v4);
	decref(in_Pattern_1);
	int64_t v5 = 1LL /* True */;
	VAL v6 = v3;
	VAL v7 = v4;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_StackType_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL v18 = mtw_mirth_type_StackType_STCons(v10, v17);
				int64_t v19 = 1LL /* True */;
				branch_Bool_15 = v19;
				branch_List_14 = v16;
				branch_StackType_13 = v18;
			} break;
			case 0LL: { // Nil
				VAL v20 = MKI64(0LL /* Nil */);
				int64_t v21 = 0LL /* False */;
				branch_Bool_15 = v21;
				branch_List_14 = v20;
				branch_StackType_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_StackType_13;
	}
	decref(v7);
	return v6;
}
static void mw_mirth_match_Pattern_thaw (VAL in_Pattern_1, VAL *out_ZPlusPattern_2) {
	*out_ZPlusPattern_2 = in_Pattern_1;
}
static VAL mw_mirth_match_Pattern_singleZ_tagZAsk (VAL in_Pattern_1) {
	VAL v3 = VTUP(in_Pattern_1)->cells[9];
	incref(v3);
	decref(in_Pattern_1);
	VAL v4 = mw_std_list_List_1_ZDivL1(v3);
	VAL branch_Maybe_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			VAL v7 = VTUP(v6)->cells[7];
			incref(v7);
			decref(v6);
			VAL v8 = mw_mirth_match_PatternOp_ZDivPatOpTag(v7);
			branch_Maybe_5 = v8;
		} break;
		case 0LL: { // None
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_5 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_5;
}
static int64_t mw_mirth_match_Pattern_isZ_defaultZAsk (VAL in_Pattern_1) {
	VAL v3 = VTUP(in_Pattern_1)->cells[9];
	incref(v3);
	decref(in_Pattern_1);
	VAL v4 = MKI64(0LL /* None */);
	int64_t v5 = 1LL /* True */;
	VAL v6 = v4;
	VAL v7 = v3;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL v13;
		VAL v14 = mw_std_list_List_1_uncons(v11, &v13);
		VAL branch_Maybe_15;
		VAL branch_List_16;
		int64_t branch_Bool_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				incref(v18);
				VAL v19 = VTUP(v18)->cells[7];
				incref(v19);
				decref(v18);
				int64_t v20 = mw_mirth_match_PatternOp_ZDivPatOpUnderscore(v19);
				bool v21 = !((bool)v20);
				VAL branch_Maybe_22;
				if (v21) {
					VAL v23 = mtw_std_maybe_Maybe_1_Some(v18);
					branch_Maybe_22 = v23;
				} else {
					decref(v18);
					VAL v24 = MKI64(0LL /* None */);
					branch_Maybe_22 = v24;
				}
				VAL branch_Maybe_25;
				VAL branch_List_26;
				switch (get_data_tag(branch_Maybe_22)) {
					case 0LL: { // None
						branch_List_26 = v13;
						branch_Maybe_25 = v10;
					} break;
					default: {
						decref(v13);
						decref(v10);
						VAL v27 = MKI64(0LL /* Nil */);
						branch_List_26 = v27;
						branch_Maybe_25 = branch_Maybe_22;
					} break;
				}
				int64_t v28 = 1LL /* True */;
				branch_Bool_17 = v28;
				branch_List_16 = branch_List_26;
				branch_Maybe_15 = branch_Maybe_25;
			} break;
			case 0LL: { // None
				int64_t v29 = 0LL /* False */;
				branch_Bool_17 = v29;
				branch_List_16 = v13;
				branch_Maybe_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_17;
		v8 = branch_Bool_17;
		v7 = branch_List_16;
		v6 = branch_Maybe_15;
	}
	decref(v7);
	int64_t v30 = get_data_tag(v6);
	decref(v6);
	int64_t v31 = 0LL;
	bool v32 = (v30 == v31);
	return ((int64_t)v32);
}
static VAL mw_mirth_match_ZPlusPattern_freezze (VAL in_ZPlusPattern_1) {
	return in_ZPlusPattern_1;
}
static void mw_mirth_match_ZPlusPattern_opZBang (VAL in_PatternOp_1, VAL in_ZPlusMirth_2, VAL in_ZPlusPattern_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusPattern_5) {
	VAL branch_ZPlusMirth_6;
	VAL branch_ZPlusPattern_7;
	switch (get_data_tag(in_PatternOp_1)) {
		case 0LL: { // PatOpUnderscore
			VAL v8;
			VAL v9;
			mw_mirth_match_ZPlusPattern_underscoreZBang(in_ZPlusMirth_2, in_ZPlusPattern_3, &v8, &v9);
			branch_ZPlusPattern_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // PatOpTag
			uint64_t v10 = mtp_mirth_match_PatternOp_PatOpTag(in_PatternOp_1);
			VAL v11;
			VAL v12;
			mw_mirth_match_ZPlusPattern_tagZBang(in_ZPlusMirth_2, in_ZPlusPattern_3, v10, &v11, &v12);
			branch_ZPlusPattern_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusPattern_5 = branch_ZPlusPattern_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_match_ZPlusPattern_underscoreZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusPattern_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusPattern_4) {
	incref(in_ZPlusPattern_2);
	uint64_t v5 = value_u64(VTUP(in_ZPlusPattern_2)->cells[2]);
	decref(in_ZPlusPattern_2);
	incref(in_ZPlusPattern_2);
	VAL v6 = VTUP(in_ZPlusPattern_2)->cells[5];
	incref(v6);
	decref(in_ZPlusPattern_2);
	incref(in_ZPlusPattern_2);
	VAL v7 = VTUP(in_ZPlusPattern_2)->cells[7];
	incref(v7);
	decref(in_ZPlusPattern_2);
	VAL v8 = MKI64(0LL /* SUBST_NIL */);
	VAL v9 = MKI64(0LL /* PatOpUnderscore */);
	incref(in_ZPlusPattern_2);
	VAL v10 = VTUP(in_ZPlusPattern_2)->cells[7];
	incref(v10);
	decref(in_ZPlusPattern_2);
	VAL v11 = mw_mirth_type_StackType_forceZ_consZAskZBang(v10);
	uint64_t branch_Token_12;
	VAL branch_Ctx_13;
	VAL branch_StackType_14;
	VAL branch_Subst_15;
	VAL branch_PatternOp_16;
	VAL branch_ZPlusMirth_17;
	VAL branch_ZPlusPattern_18;
	VAL branch_StackType_19;
	VAL branch_Type_20;
	switch (get_data_tag(v11)) {
		case 0LL: { // None
			incref(in_ZPlusPattern_2);
			uint64_t v21 = value_u64(VTUP(in_ZPlusPattern_2)->cells[2]);
			decref(in_ZPlusPattern_2);
			STR* v22;
			STRLIT(v22, "pattern expects something on stack", 34);
			VAL v23;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v21, MKSTR(v22), in_ZPlusMirth_1, &v23);
			VAL v24 = MKI64(0LL /* STACK_TYPE_ERROR */);
			VAL v25 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_20 = v25;
			branch_StackType_19 = v24;
			branch_ZPlusPattern_18 = in_ZPlusPattern_2;
			branch_ZPlusMirth_17 = v23;
			branch_PatternOp_16 = v9;
			branch_Subst_15 = v8;
			branch_StackType_14 = v7;
			branch_Ctx_13 = v6;
			branch_Token_12 = v5;
		} break;
		case 1LL: { // Some
			VAL v26 = mtp_std_maybe_Maybe_1_Some(v11);
			VAL v27 = value_tup(v26, 2)->cells[0];
			VAL v28 = value_tup(v26, 2)->cells[1];
			tup_decref_outer(value_tup(v26, 2), 2);
			branch_Type_20 = v28;
			branch_StackType_19 = v27;
			branch_ZPlusPattern_18 = in_ZPlusPattern_2;
			branch_ZPlusMirth_17 = in_ZPlusMirth_1;
			branch_PatternOp_16 = v9;
			branch_Subst_15 = v8;
			branch_StackType_14 = v7;
			branch_Ctx_13 = v6;
			branch_Token_12 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_Type_20);
	incref(branch_ZPlusPattern_18);
	incref(branch_ZPlusPattern_18);
	VAL v29 = VTUP(branch_ZPlusPattern_18)->cells[6];
	incref(v29);
	decref(branch_ZPlusPattern_18);
	VAL v30 = mtw_std_list_List_1_Cons(branch_Type_20, v29);
	VAL v31 = tup_replace(branch_ZPlusPattern_18, 6, v30);
	decref(branch_ZPlusPattern_18);
	VAL v32 = MKI64(0LL /* Nil */);
	VAL v33 = mtw_std_list_List_1_Cons(branch_Type_20, v32);
	incref(branch_StackType_19);
	incref(v31);
	VAL v34 = tup_replace(v31, 7, branch_StackType_19);
	decref(v31);
	VAL v35 = mtw_mirth_match_PatternAtom_PATATOM(branch_Token_12, branch_Ctx_13, v33, branch_StackType_19, branch_StackType_14, branch_Subst_15, branch_PatternOp_16);
	incref(v34);
	incref(v34);
	VAL v36 = VTUP(v34)->cells[9];
	incref(v36);
	decref(v34);
	VAL v37 = mtw_std_list_List_1_Cons(v35, v36);
	VAL v38 = tup_replace(v34, 9, v37);
	decref(v34);
	*out_ZPlusPattern_4 = v38;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_17;
}
static void mw_mirth_match_ZPlusPattern_tagZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusPattern_2, uint64_t in_Tag_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusPattern_5) {
	VAL v6 = mtw_mirth_match_PatternOp_PatOpTag(in_Tag_3);
	VAL v7 = MKI64(0LL /* Nil */);
	incref(in_ZPlusPattern_2);
	uint64_t v8 = value_u64(VTUP(in_ZPlusPattern_2)->cells[2]);
	decref(in_ZPlusPattern_2);
	incref(in_ZPlusPattern_2);
	VAL v9 = VTUP(in_ZPlusPattern_2)->cells[5];
	incref(v9);
	decref(in_ZPlusPattern_2);
	VAL v10 = MKI64(0LL /* SUBST_NIL */);
	VAL v11;
	VAL v12 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_3, &v11);
	VAL v13;
	VAL v14 = mw_mirth_type_ArrowType_freshenZ_sig(v10, v12, &v13);
	VAL v15;
	VAL v16 = mw_mirth_type_ArrowType_unpack(v13, &v15);
	incref(in_ZPlusPattern_2);
	VAL v17 = VTUP(in_ZPlusPattern_2)->cells[7];
	incref(v17);
	decref(in_ZPlusPattern_2);
	incref(in_ZPlusPattern_2);
	uint64_t v18 = value_u64(VTUP(in_ZPlusPattern_2)->cells[2]);
	decref(in_ZPlusPattern_2);
	VAL v19;
	uint64_t v20;
	VAL v21 = mw_mirth_type_StackType_unifyZBang(v11, v18, v17, v15, &v19, &v20);
	mw_mirth_type_ZPlusGamma_rdrop(v20);
	incref(v16);
	incref(in_ZPlusPattern_2);
	VAL v22 = tup_replace(in_ZPlusPattern_2, 7, v16);
	decref(in_ZPlusPattern_2);
	VAL v23 = mtw_mirth_match_PatternAtom_PATATOM(v8, v9, v7, v16, v21, v14, v6);
	incref(v22);
	incref(v22);
	VAL v24 = VTUP(v22)->cells[9];
	incref(v24);
	decref(v22);
	VAL v25 = mtw_std_list_List_1_Cons(v23, v24);
	VAL v26 = tup_replace(v22, 9, v25);
	decref(v22);
	*out_ZPlusPattern_5 = v26;
	*out_ZPlusMirth_4 = v19;
}
static int64_t mw_mirth_match_Pattern_coversZAsk (VAL in_Pattern_1, VAL in_Pattern_2) {
	VAL v4 = VTUP(in_Pattern_1)->cells[9];
	incref(v4);
	decref(in_Pattern_1);
	VAL v5 = mw_std_list_List_1_ZDivL1(v4);
	VAL v6 = VTUP(in_Pattern_2)->cells[9];
	incref(v6);
	decref(in_Pattern_2);
	VAL v7 = mw_std_list_List_1_ZDivL1(v6);
	VAL v8 = mw_std_maybe_Maybe_1_zzip(v5, v7);
	int64_t branch_Bool_9;
	switch (get_data_tag(v8)) {
		case 0LL: { // None
			int64_t v10 = 0LL /* False */;
			branch_Bool_9 = v10;
		} break;
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v12 = value_tup(v11, 2)->cells[0];
			VAL v13 = value_tup(v11, 2)->cells[1];
			tup_decref_outer(value_tup(v11, 2), 2);
			VAL v14 = VTUP(v13)->cells[7];
			incref(v14);
			decref(v13);
			int64_t branch_Bool_15;
			switch (get_data_tag(v14)) {
				case 0LL: { // PatOpUnderscore
					decref(v12);
					int64_t v16 = 1LL /* True */;
					branch_Bool_15 = v16;
				} break;
				case 1LL: { // PatOpTag
					uint64_t v17 = mtp_mirth_match_PatternOp_PatOpTag(v14);
					VAL v18 = VTUP(v12)->cells[7];
					incref(v18);
					decref(v12);
					int64_t branch_Bool_19;
					switch (get_data_tag(v18)) {
						case 0LL: { // PatOpUnderscore
							int64_t v20 = 0LL /* False */;
							branch_Bool_19 = v20;
						} break;
						case 1LL: { // PatOpTag
							uint64_t v21 = mtp_mirth_match_PatternOp_PatOpTag(v18);
							int64_t v22 = mw_mirth_data_Tag_ZEqualZEqual(v17, v21);
							branch_Bool_19 = v22;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_15 = branch_Bool_19;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_9 = branch_Bool_15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_9;
}
static VAL mw_mirth_match_PatternOp_ZDivPatOpTag (VAL in_PatternOp_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_PatternOp_1)) {
		case 1LL: { // PatOpTag
			uint64_t v4 = mtp_mirth_match_PatternOp_PatOpTag(in_PatternOp_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_PatternOp_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_match_PatternOp_ZDivPatOpUnderscore (VAL in_PatternOp_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_PatternOp_1)) {
		case 0LL: { // PatOpUnderscore
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_PatternOp_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_mirth_external_External_index (uint64_t in_External_1) {
	return ((int64_t)in_External_1);
}
static uint64_t mw_mirth_external_External_allocZBang (void) {
	void* v2 = mbuf_mirth_external_External_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_external_External_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_external_External_qnameZ_soft (uint64_t in_External_1) {
	void* v3 = mfld_mirth_external_External_ZTildeqname(in_External_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	VAL v5 = mw_std_maybe_Maybe_1_bind_1_sp5(v4);
	return v5;
}
static VAL mw_mirth_external_External_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_external_External_ZTildeqname(in_External_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static uint64_t mw_mirth_external_External_name (uint64_t in_External_1) {
	void* v3 = mfld_mirth_external_External_ZTildename(in_External_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static int64_t mw_mirth_external_External_arity (uint64_t in_External_1) {
	void* v3 = mfld_mirth_external_External_ZTildearity(in_External_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static VAL mw_mirth_external_External_symbol (uint64_t in_External_1) {
	void* v3 = mfld_mirth_external_External_ZTildesymbol(in_External_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_external_External_head (uint64_t in_External_1) {
	void* v3 = mfld_mirth_external_External_ZTildehead(in_External_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static uint64_t mw_mirth_external_External_sig (uint64_t in_External_1) {
	void* v3 = mfld_mirth_external_External_ZTildesig(in_External_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_external_External_ctxZ_type (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3, VAL *out_ArrowType_5) {
	void* v6 = mfld_mirth_external_External_ZTildectxZ_type(in_External_2);
	VAL v7;
	VAL v8 = mw_mirth_mirth_Prop_1_forceZBang(v6, in_ZPlusMirth_1, &v7);
	VAL v9 = value_tup(v8, 2)->cells[0];
	VAL v10 = value_tup(v8, 2)->cells[1];
	tup_decref_outer(value_tup(v8, 2), 2);
	*out_ArrowType_5 = v10;
	*out_ZPlusMirth_3 = v7;
	return v9;
}
static VAL mw_mirth_external_External_type (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6;
	VAL v7 = mw_mirth_external_External_ctxZ_type(in_ZPlusMirth_1, in_External_2, &v5, &v6);
	decref(v7);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_external_External_ctype (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_external_External_ZTildectype(in_External_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static int64_t mw_mirth_external_External_ZEqualZEqual (uint64_t in_External_1, uint64_t in_External_2) {
	int64_t v4 = mw_mirth_external_External_index(in_External_1);
	int64_t v5 = mw_mirth_external_External_index(in_External_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static uint64_t mw_mirth_external_ExternalBlock_allocZBang (void) {
	void* v2 = mbuf_mirth_external_ExternalBlock_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_external_ExternalBlock_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_external_ExternalBlock_parts (uint64_t in_ExternalBlock_1) {
	void* v3 = mfld_mirth_external_ExternalBlock_ZTildeparts(in_ExternalBlock_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static int64_t mw_mirth_variable_Variable_index (uint64_t in_Variable_1) {
	return ((int64_t)in_Variable_1);
}
static uint64_t mw_mirth_variable_Variable_allocZBang (void) {
	void* v2 = mbuf_mirth_variable_Variable_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_variable_Variable_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_variable_Variable_qname (uint64_t in_Variable_1) {
	void* v3 = mfld_mirth_variable_Variable_ZTildeqname(in_Variable_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_variable_Variable_name (uint64_t in_Variable_1) {
	VAL v3 = mw_mirth_variable_Variable_qname(in_Variable_1);
	uint64_t v4 = value_u64(VTUP(v3)->cells[2]);
	decref(v3);
	return v4;
}
static VAL mw_mirth_variable_Variable_type (VAL in_ZPlusMirth_1, uint64_t in_Variable_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_variable_Variable_ZTildetype(in_Variable_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static int64_t mw_mirth_variable_Variable_ZEqualZEqual (uint64_t in_Variable_1, uint64_t in_Variable_2) {
	int64_t v4 = mw_mirth_variable_Variable_index(in_Variable_1);
	int64_t v5 = mw_mirth_variable_Variable_index(in_Variable_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static uint64_t mw_mirth_variable_Variable_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_QName_3, VAL *out_ZPlusMirth_4) {
	uint64_t v6 = mw_mirth_variable_Variable_allocZBang();
	void* v7 = mfld_mirth_variable_Variable_ZTildeqname(v6);
	mut_set(in_QName_3, v7);
	void* v8 = mfld_mirth_variable_Variable_ZTildehead(v6);
	mut_set(MKU64(in_Token_2), v8);
	VAL v9 = mtw_mirth_def_Def_DefVariable(v6);
	VAL v10;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v9, &v10);
	*out_ZPlusMirth_4 = v10;
	return v6;
}
static int64_t mw_mirth_arrow_Block_index (uint64_t in_Block_1) {
	return ((int64_t)in_Block_1);
}
static uint64_t mw_mirth_arrow_Block_allocZBang (void) {
	void* v2 = mbuf_mirth_arrow_Block_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_arrow_Block_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_arrow_Arrow_ctxZ_type (VAL in_Arrow_1, VAL *out_ArrowType_3) {
	incref(in_Arrow_1);
	VAL v4 = VTUP(in_Arrow_1)->cells[4];
	incref(v4);
	decref(in_Arrow_1);
	VAL v5 = mw_mirth_arrow_Arrow_type(in_Arrow_1);
	*out_ArrowType_3 = v5;
	return v4;
}
static VAL mw_mirth_arrow_Arrow_type (VAL in_Arrow_1) {
	incref(in_Arrow_1);
	VAL v3 = VTUP(in_Arrow_1)->cells[5];
	incref(v3);
	decref(in_Arrow_1);
	VAL v4 = VTUP(in_Arrow_1)->cells[6];
	incref(v4);
	decref(in_Arrow_1);
	VAL v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	return v5;
}
static VAL mw_mirth_arrow_Lambda_cod (VAL in_Lambda_1) {
	VAL v3 = VTUP(in_Lambda_1)->cells[5];
	incref(v3);
	decref(in_Lambda_1);
	VAL v4 = VTUP(v3)->cells[6];
	incref(v4);
	decref(v3);
	return v4;
}
static VAL mw_mirth_arrow_Block_ctx (uint64_t in_Block_1) {
	void* v3 = mfld_mirth_arrow_Block_ZTildectx(in_Block_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_arrow_Block_token (uint64_t in_Block_1) {
	void* v3 = mfld_mirth_arrow_Block_ZTildetoken(in_Block_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_arrow_Block_dom (uint64_t in_Block_1) {
	void* v3 = mfld_mirth_arrow_Block_ZTildedom(in_Block_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static VAL mw_mirth_arrow_Block_cod (uint64_t in_Block_1) {
	void* v3 = mfld_mirth_arrow_Block_ZTildecod(in_Block_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static VAL mw_mirth_arrow_Block_home (uint64_t in_Block_1) {
	void* v3 = mfld_mirth_arrow_Block_ZTildehome(in_Block_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static VAL mw_mirth_arrow_Block_type (uint64_t in_Block_1) {
	VAL v3 = mw_mirth_arrow_Block_dom(in_Block_1);
	VAL v4 = mw_mirth_arrow_Block_cod(in_Block_1);
	VAL v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	return v5;
}
static VAL mw_mirth_arrow_Block_arrow (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_arrow_Block_ZTildearrow(in_Block_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static int64_t mw_mirth_arrow_Block_ZEqualZEqual (uint64_t in_Block_1, uint64_t in_Block_2) {
	int64_t v4 = mw_mirth_arrow_Block_index(in_Block_1);
	int64_t v5 = mw_mirth_arrow_Block_index(in_Block_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static void mw_mirth_arrow_Block_registerZ_homeZBang (uint64_t in_Block_1) {
	VAL v2 = mw_mirth_arrow_Block_home(in_Block_1);
	switch (get_data_tag(v2)) {
		case 1LL: { // HomeWord
			uint64_t v3 = mtp_mirth_arrow_Home_HomeWord(v2);
			int64_t v4 = mw_mirth_word_Word_incZ_numZ_blocksZBang(v3);
			void* v5 = mfld_mirth_arrow_Block_ZTildehomeZ_index(in_Block_1);
			mut_set(MKI64(v4), v5);
		} break;
		case 0LL: { // HomeMain
			uint64_t v6 = mtp_mirth_arrow_Home_HomeMain(v2);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
}
static VAL mw_mirth_arrow_Block_cname (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_arrow_Block_ZTildecname(in_Block_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Block_8;
	VAL branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = v10;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v11 = mw_mirth_arrow_Block_home(in_Block_2);
		VAL branch_ZPlusMirth_12;
		uint64_t branch_Block_13;
		VAL branch_Str_14;
		switch (get_data_tag(v11)) {
			case 1LL: { // HomeWord
				uint64_t v15 = mtp_mirth_arrow_Home_HomeWord(v11);
				VAL v16;
				VAL v17 = mw_mirth_word_Word_qnameZ_hard(v15, in_ZPlusMirth_1, &v16);
				VAL v18;
				VAL v19 = mw_mirth_name_QName_mangled(v16, v17, &v18);
				STR* v20;
				STRLIT(v20, "", 0);
				STR* v21;
				STRLIT(v21, "mb_", 3);
				VAL v22;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v21), MKSTR(v20), &v22);
				VAL v23;
				mw_std_str_ZPlusStr_pushZ_strZBang(v19, v22, &v23);
				STR* v24;
				STRLIT(v24, "_", 1);
				VAL v25;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v24), v23, &v25);
				void* v26 = mfld_mirth_arrow_Block_ZTildehomeZ_index(in_Block_2);
				VAL v27 = mut_get(v26);
				STR* v28 = i64_show(value_i64(v27));
				VAL v29;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v28), v25, &v29);
				branch_Str_14 = v29;
				branch_Block_13 = in_Block_2;
				branch_ZPlusMirth_12 = v18;
			} break;
			case 0LL: { // HomeMain
				uint64_t v30 = mtp_mirth_arrow_Home_HomeMain(v11);
				STR* v31;
				STRLIT(v31, "", 0);
				STR* v32;
				STRLIT(v32, "mb_", 3);
				VAL v33;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v32), MKSTR(v31), &v33);
				int64_t v34 = mw_mirth_arrow_Block_index(in_Block_2);
				STR* v35 = i64_show(v34);
				VAL v36;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v35), v33, &v36);
				branch_Str_14 = v36;
				branch_Block_13 = in_Block_2;
				branch_ZPlusMirth_12 = in_ZPlusMirth_1;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(branch_Str_14);
		mut_set(branch_Str_14, v5);
		branch_Str_9 = branch_Str_14;
		branch_Block_8 = branch_Block_13;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_12;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static uint64_t mw_mirth_arrow_Block_newZBang (VAL in_ZPlusMirth_1, VAL in_Arrow_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_arrow_Block_allocZBang();
	incref(in_Arrow_2);
	VAL v6 = VTUP(in_Arrow_2)->cells[1];
	incref(v6);
	decref(in_Arrow_2);
	void* v7 = mfld_mirth_arrow_Block_ZTildehome(v5);
	mut_set(v6, v7);
	mw_mirth_arrow_Block_registerZ_homeZBang(v5);
	incref(in_Arrow_2);
	VAL v8 = VTUP(in_Arrow_2)->cells[4];
	incref(v8);
	decref(in_Arrow_2);
	void* v9 = mfld_mirth_arrow_Block_ZTildectx(v5);
	mut_set(v8, v9);
	incref(in_Arrow_2);
	uint64_t v10 = value_u64(VTUP(in_Arrow_2)->cells[2]);
	decref(in_Arrow_2);
	void* v11 = mfld_mirth_arrow_Block_ZTildetoken(v5);
	mut_set(MKU64(v10), v11);
	incref(in_Arrow_2);
	VAL v12 = VTUP(in_Arrow_2)->cells[5];
	incref(v12);
	decref(in_Arrow_2);
	void* v13 = mfld_mirth_arrow_Block_ZTildedom(v5);
	mut_set(v12, v13);
	incref(in_Arrow_2);
	VAL v14 = VTUP(in_Arrow_2)->cells[6];
	incref(v14);
	decref(in_Arrow_2);
	void* v15 = mfld_mirth_arrow_Block_ZTildecod(v5);
	mut_set(v14, v15);
	VAL v16 = mtw_mirth_mirth_PropLabel_BlockArrow(v5);
	VAL v17;
	VAL v18 = mw_mirth_mirth_PropLabel_prop(in_Arrow_2, v16, in_ZPlusMirth_1, &v17);
	void* v19 = mfld_mirth_arrow_Block_ZTildearrow(v5);
	mut_set(v18, v19);
	*out_ZPlusMirth_3 = v17;
	return v5;
}
static void mw_mirth_arrow_Block_typecheckZBang (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3) {
	VAL v4;
	VAL v5 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v4);
	decref(v5);
	*out_ZPlusMirth_3 = v4;
}
static VAL mw_mirth_arrow_blockZ_unifyZ_typeZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Block_3, VAL in_ArrowType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL v8 = mw_mirth_arrow_Block_type(in_Block_3);
	VAL v9;
	uint64_t v10;
	VAL v11 = mw_mirth_type_ArrowType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v8, in_ArrowType_4, &v9, &v10);
	decref(v11);
	VAL v12;
	VAL v13 = mw_mirth_arrow_Block_arrow(v9, in_Block_3, &v12);
	VAL v14 = mw_mirth_arrow_Arrow_type(v13);
	*out_ZPlusGamma_6 = v10;
	*out_ZPlusMirth_5 = v12;
	return v14;
}
static VAL mw_mirth_arrow_Block_toZ_runZ_var (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v5);
	VAL v7 = mw_mirth_arrow_Arrow_toZ_runZ_var(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static VAL mw_mirth_arrow_Arrow_toZ_runZ_var (VAL in_Arrow_1) {
	VAL v3 = VTUP(in_Arrow_1)->cells[7];
	incref(v3);
	decref(in_Arrow_1);
	VAL v4 = mw_std_list_List_1_ZDivL1(v3);
	VAL branch_Maybe_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			VAL v7 = mw_mirth_arrow_Atom_toZ_runZ_var(v6);
			branch_Maybe_5 = v7;
		} break;
		case 0LL: { // None
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_5 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_5;
}
static VAL mw_mirth_arrow_Atom_toZ_runZ_var (VAL in_Atom_1) {
	VAL v3 = VTUP(in_Atom_1)->cells[4];
	incref(v3);
	decref(in_Atom_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 13LL: { // OpVar
			uint64_t v5 = mtp_mirth_arrow_Op_OpVar(v3);
			VAL v6 = mw_mirth_var_Var_autoZ_runZAsk(v5);
			int64_t v7 = get_data_tag(v6);
			decref(v6);
			int64_t v8 = 1LL;
			bool v9 = (v7 == v8);
			VAL branch_Maybe_10;
			if (v9) {
				VAL v11 = mtw_std_maybe_Maybe_1_Some(MKU64(v5));
				branch_Maybe_10 = v11;
			} else {
				VAL v12 = MKI64(0LL /* None */);
				branch_Maybe_10 = v12;
			}
			branch_Maybe_4 = branch_Maybe_10;
		} break;
		default: {
			decref(v3);
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_4 = v13;
		} break;
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_arrow_Block_freeZ_vars (VAL in_ZPlusMirth_1, uint64_t in_Block_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_arrow_Block_ZTildefreeZ_vars(in_Block_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Block_8;
	VAL branch_List_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_List_9 = v10;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v11;
		VAL v12 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v11);
		VAL v13;
		VAL v14 = mw_mirth_arrow_Arrow_freeZ_vars(v11, v12, &v13);
		incref(v14);
		mut_set(v14, v5);
		branch_List_9 = v14;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = v13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_List_9;
}
static VAL mw_mirth_arrow_Arrow_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Arrow_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = VTUP(in_Arrow_2)->cells[7];
	incref(v5);
	decref(in_Arrow_2);
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mw_std_list_List_1_reverse(v6);
	int64_t v8 = 1LL /* True */;
	VAL v9 = in_ZPlusMirth_1;
	VAL v10 = v7;
	VAL v11 = v5;
	int64_t v12 = v8;
	int64_t v13 = v8;
	while (((bool)v13)) {
		VAL v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		int64_t v17 = v12;
		VAL branch_ZPlusMirth_18;
		VAL branch_ZPlusList_19;
		VAL branch_List_20;
		int64_t branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				VAL v24;
				VAL v25 = mw_mirth_arrow_Atom_freeZ_vars(v14, v23, &v24);
				VAL v26 = mtw_std_list_List_1_Cons(v25, v15);
				int64_t v27 = 1LL /* True */;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusList_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				VAL v28 = MKI64(0LL /* Nil */);
				int64_t v29 = 0LL /* False */;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusList_19 = v15;
				branch_ZPlusMirth_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusList_19;
		v9 = branch_ZPlusMirth_18;
	}
	decref(v11);
	VAL v30 = mw_std_list_List_1_reverse(v10);
	VAL v31 = mw_std_list_List_1_unions_1_sp1(v30);
	*out_ZPlusMirth_3 = v9;
	return v31;
}
static VAL mw_mirth_arrow_Atom_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Atom_2, VAL *out_ZPlusMirth_3) {
	incref(in_Atom_2);
	VAL v5 = VTUP(in_Atom_2)->cells[5];
	incref(v5);
	decref(in_Atom_2);
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mw_std_list_List_1_reverse(v6);
	int64_t v8 = 1LL /* True */;
	VAL v9 = in_ZPlusMirth_1;
	VAL v10 = v7;
	VAL v11 = v5;
	int64_t v12 = v8;
	int64_t v13 = v8;
	while (((bool)v13)) {
		VAL v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		int64_t v17 = v12;
		VAL branch_ZPlusMirth_18;
		VAL branch_ZPlusList_19;
		VAL branch_List_20;
		int64_t branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				VAL v24;
				VAL v25 = mw_mirth_arrow_Arg_freeZ_vars(v14, value_u64(v23), &v24);
				VAL v26 = mtw_std_list_List_1_Cons(v25, v15);
				int64_t v27 = 1LL /* True */;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusList_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				VAL v28 = MKI64(0LL /* Nil */);
				int64_t v29 = 0LL /* False */;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusList_19 = v15;
				branch_ZPlusMirth_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusList_19;
		v9 = branch_ZPlusMirth_18;
	}
	decref(v11);
	VAL v30 = mw_std_list_List_1_reverse(v10);
	VAL v31 = mw_std_list_List_1_unions_1_sp1(v30);
	VAL v32 = VTUP(in_Atom_2)->cells[4];
	incref(v32);
	decref(in_Atom_2);
	VAL v33;
	VAL v34 = mw_mirth_arrow_Op_freeZ_vars(v9, v32, &v33);
	VAL v35 = mw_std_list_List_1_union_1_sp1(v31, v34);
	*out_ZPlusMirth_3 = v33;
	return v35;
}
static VAL mw_mirth_arrow_Arg_freeZ_vars (VAL in_ZPlusMirth_1, uint64_t in_Arg_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, in_Arg_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_arrow_Op_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Op_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_List_6;
	switch (get_data_tag(in_Op_2)) {
		case 0LL: { // OpNone
			VAL v7 = MKI64(0LL /* Nil */);
			branch_List_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // OpPrim
			int64_t v8 = mtp_mirth_arrow_Op_OpPrim(in_Op_2);
			VAL v9 = MKI64(0LL /* Nil */);
			branch_List_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // OpWord
			uint64_t v10 = mtp_mirth_arrow_Op_OpWord(in_Op_2);
			VAL v11 = MKI64(0LL /* Nil */);
			branch_List_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // OpExternal
			uint64_t v12 = mtp_mirth_arrow_Op_OpExternal(in_Op_2);
			VAL v13 = MKI64(0LL /* Nil */);
			branch_List_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // OpBuffer
			uint64_t v14 = mtp_mirth_arrow_Op_OpBuffer(in_Op_2);
			VAL v15 = MKI64(0LL /* Nil */);
			branch_List_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // OpVariable
			uint64_t v16 = mtp_mirth_arrow_Op_OpVariable(in_Op_2);
			VAL v17 = MKI64(0LL /* Nil */);
			branch_List_6 = v17;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // OpField
			uint64_t v18 = mtp_mirth_arrow_Op_OpField(in_Op_2);
			VAL v19 = MKI64(0LL /* Nil */);
			branch_List_6 = v19;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // OpInt
			int64_t v20 = mtp_mirth_arrow_Op_OpInt(in_Op_2);
			VAL v21 = MKI64(0LL /* Nil */);
			branch_List_6 = v21;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // OpF64
			double v22 = mtp_mirth_arrow_Op_OpF64(in_Op_2);
			VAL v23 = MKI64(0LL /* Nil */);
			branch_List_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // OpStr
			VAL v24 = mtp_mirth_arrow_Op_OpStr(in_Op_2);
			decref(v24);
			VAL v25 = MKI64(0LL /* Nil */);
			branch_List_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // OpTag
			uint64_t v26 = mtp_mirth_arrow_Op_OpTag(in_Op_2);
			VAL v27 = MKI64(0LL /* Nil */);
			branch_List_6 = v27;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // OpMatch
			VAL v28 = mtp_mirth_arrow_Op_OpMatch(in_Op_2);
			VAL v29;
			VAL v30 = mw_mirth_match_Match_freeZ_vars(in_ZPlusMirth_1, v28, &v29);
			branch_List_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 12LL: { // OpLambda
			VAL v31 = mtp_mirth_arrow_Op_OpLambda(in_Op_2);
			VAL v32;
			VAL v33 = mw_mirth_arrow_Lambda_freeZ_vars(in_ZPlusMirth_1, v31, &v32);
			branch_List_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		case 13LL: { // OpVar
			uint64_t v34 = mtp_mirth_arrow_Op_OpVar(in_Op_2);
			VAL v35 = MKI64(0LL /* Nil */);
			VAL v36 = mtw_std_list_List_1_Cons(MKU64(v34), v35);
			branch_List_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // OpBlockPush
			uint64_t v37 = mtp_mirth_arrow_Op_OpBlockPush(in_Op_2);
			VAL v38;
			VAL v39 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, v37, &v38);
			branch_List_6 = v39;
			branch_ZPlusMirth_5 = v38;
		} break;
		case 15LL: { // OpBlockRun
			uint64_t v40 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_2);
			VAL v41;
			VAL v42 = mw_mirth_arrow_Block_freeZ_vars(in_ZPlusMirth_1, v40, &v41);
			branch_List_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		case 16LL: { // OpLabelPush
			uint64_t v43 = mtp_mirth_arrow_Op_OpLabelPush(in_Op_2);
			VAL v44 = MKI64(0LL /* Nil */);
			branch_List_6 = v44;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // OpLabelPop
			uint64_t v45 = mtp_mirth_arrow_Op_OpLabelPop(in_Op_2);
			VAL v46 = MKI64(0LL /* Nil */);
			branch_List_6 = v46;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // OpLabelPushR
			uint64_t v47 = mtp_mirth_arrow_Op_OpLabelPushR(in_Op_2);
			VAL v48 = MKI64(0LL /* Nil */);
			branch_List_6 = v48;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // OpLabelPopR
			uint64_t v49 = mtp_mirth_arrow_Op_OpLabelPopR(in_Op_2);
			VAL v50 = MKI64(0LL /* Nil */);
			branch_List_6 = v50;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // OpDataGetEnumValue
			uint64_t v51 = mtp_mirth_arrow_Op_OpDataGetEnumValue(in_Op_2);
			VAL v52 = MKI64(0LL /* Nil */);
			branch_List_6 = v52;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 21LL: { // OpDataFromEnumValue
			uint64_t v53 = mtp_mirth_arrow_Op_OpDataFromEnumValue(in_Op_2);
			VAL v54 = MKI64(0LL /* Nil */);
			branch_List_6 = v54;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 22LL: { // OpDataGetLabel
			VAL v55 = mtp_mirth_arrow_Op_OpDataGetLabel(in_Op_2);
			decref(v55);
			VAL v56 = MKI64(0LL /* Nil */);
			branch_List_6 = v56;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 23LL: { // OpDataSetLabel
			VAL v57 = mtp_mirth_arrow_Op_OpDataSetLabel(in_Op_2);
			decref(v57);
			VAL v58 = MKI64(0LL /* Nil */);
			branch_List_6 = v58;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 24LL: { // OpTableToIndex
			uint64_t v59 = mtp_mirth_arrow_Op_OpTableToIndex(in_Op_2);
			VAL v60 = MKI64(0LL /* Nil */);
			branch_List_6 = v60;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 25LL: { // OpTableFromIndex
			uint64_t v61 = mtp_mirth_arrow_Op_OpTableFromIndex(in_Op_2);
			VAL v62 = MKI64(0LL /* Nil */);
			branch_List_6 = v62;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_List_6;
}
static VAL mw_mirth_match_Match_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Match_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = VTUP(in_Match_2)->cells[7];
	incref(v5);
	decref(in_Match_2);
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mw_std_list_List_1_reverse(v6);
	int64_t v8 = 1LL /* True */;
	VAL v9 = in_ZPlusMirth_1;
	VAL v10 = v7;
	VAL v11 = v5;
	int64_t v12 = v8;
	int64_t v13 = v8;
	while (((bool)v13)) {
		VAL v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		int64_t v17 = v12;
		VAL branch_ZPlusMirth_18;
		VAL branch_ZPlusList_19;
		VAL branch_List_20;
		int64_t branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				VAL v24;
				VAL v25 = mw_mirth_match_Case_freeZ_vars(v14, v23, &v24);
				VAL v26 = mtw_std_list_List_1_Cons(v25, v15);
				int64_t v27 = 1LL /* True */;
				branch_Bool_21 = v27;
				branch_List_20 = v22;
				branch_ZPlusList_19 = v26;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				VAL v28 = MKI64(0LL /* Nil */);
				int64_t v29 = 0LL /* False */;
				branch_Bool_21 = v29;
				branch_List_20 = v28;
				branch_ZPlusList_19 = v15;
				branch_ZPlusMirth_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusList_19;
		v9 = branch_ZPlusMirth_18;
	}
	decref(v11);
	VAL v30 = mw_std_list_List_1_reverse(v10);
	VAL v31 = mw_std_list_List_1_unions_1_sp1(v30);
	*out_ZPlusMirth_3 = v9;
	return v31;
}
static VAL mw_mirth_match_Case_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Case_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = VTUP(in_Case_2)->cells[2];
	incref(v5);
	decref(in_Case_2);
	VAL v6;
	VAL v7 = mw_mirth_arrow_Arrow_freeZ_vars(in_ZPlusMirth_1, v5, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_arrow_Lambda_freeZ_vars (VAL in_ZPlusMirth_1, VAL in_Lambda_2, VAL *out_ZPlusMirth_3) {
	incref(in_Lambda_2);
	VAL v5 = VTUP(in_Lambda_2)->cells[5];
	incref(v5);
	decref(in_Lambda_2);
	VAL v6;
	VAL v7 = mw_mirth_arrow_Arrow_freeZ_vars(in_ZPlusMirth_1, v5, &v6);
	VAL v8 = VTUP(in_Lambda_2)->cells[4];
	incref(v8);
	decref(in_Lambda_2);
	VAL v9 = mw_std_list_List_1_difference_1_sp1(v7, v8);
	*out_ZPlusMirth_3 = v6;
	return v9;
}
static int64_t mw_mirth_typedef_TypeDef_index (uint64_t in_TypeDef_1) {
	return ((int64_t)in_TypeDef_1);
}
static uint64_t mw_mirth_typedef_TypeDef_allocZBang (void) {
	void* v2 = mbuf_mirth_typedef_TypeDef_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_typedef_TypeDef_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_typedef_TypeDef_qnameZ_soft (uint64_t in_TypeDef_1) {
	void* v3 = mfld_mirth_typedef_TypeDef_ZTildeqname(in_TypeDef_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	VAL v5 = mw_std_maybe_Maybe_1_bind_1_sp5(v4);
	return v5;
}
static VAL mw_mirth_typedef_TypeDef_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_TypeDef_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_typedef_TypeDef_ZTildeqname(in_TypeDef_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_typedef_TypeDef_namespace (VAL in_ZPlusMirth_1, uint64_t in_TypeDef_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_typedef_TypeDef_qnameZ_hard(in_ZPlusMirth_1, in_TypeDef_2, &v5);
	VAL v7 = VTUP(v6)->cells[1];
	incref(v7);
	decref(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static uint64_t mw_mirth_typedef_TypeDef_name (uint64_t in_TypeDef_1) {
	void* v3 = mfld_mirth_typedef_TypeDef_ZTildename(in_TypeDef_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_typedef_TypeDef_target (VAL in_ZPlusMirth_1, uint64_t in_TypeDef_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_typedef_TypeDef_ZTildetarget(in_TypeDef_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static int64_t mw_mirth_typedef_TypeDef_ZEqualZEqual (uint64_t in_TypeDef_1, uint64_t in_TypeDef_2) {
	int64_t v4 = mw_mirth_typedef_TypeDef_index(in_TypeDef_1);
	int64_t v5 = mw_mirth_typedef_TypeDef_index(in_TypeDef_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static uint64_t mw_mirth_typedef_TypeDef_newZBang (VAL in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Name_3, VAL in_PropState_4, VAL *out_ZPlusMirth_5) {
	uint64_t v7 = mw_mirth_typedef_TypeDef_allocZBang();
	void* v8 = mfld_mirth_typedef_TypeDef_ZTildeheadZAsk(v7);
	mut_set(in_Maybe_2, v8);
	void* v9 = mfld_mirth_typedef_TypeDef_ZTildename(v7);
	mut_set(MKU64(in_Name_3), v9);
	VAL v10 = mtw_mirth_mirth_PropLabel_TypeDefQName(v7);
	VAL v11 = mtw_mirth_mirth_Prop_1_Prop(v10, in_PropState_4);
	void* v12 = mfld_mirth_typedef_TypeDef_ZTildeqname(v7);
	mut_set(v11, v12);
	VAL v13 = mtw_mirth_def_Def_DefType(v7);
	VAL v14;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v13, &v14);
	*out_ZPlusMirth_5 = v14;
	return v7;
}
static void mw_mirth_mirth_ZPlusMirth_defZ_typeZBang (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL in_Type_3, VAL *out_ZPlusMirth_4) {
	VAL v5 = MKI64(0LL /* None */);
	incref(in_QName_2);
	uint64_t v6 = value_u64(VTUP(in_QName_2)->cells[2]);
	decref(in_QName_2);
	VAL v7 = mtw_mirth_mirth_PropState_1_PSReady(in_QName_2);
	VAL v8;
	uint64_t v9 = mw_mirth_typedef_TypeDef_newZBang(in_ZPlusMirth_1, v5, v6, v7, &v8);
	VAL v10 = mtw_mirth_mirth_PropLabel_TypeDefTarget(v9);
	VAL v11;
	VAL v12 = mw_mirth_mirth_PropLabel_prop(in_Type_3, v10, v8, &v11);
	void* v13 = mfld_mirth_typedef_TypeDef_ZTildetarget(v9);
	mut_set(v12, v13);
	*out_ZPlusMirth_4 = v11;
}
static int64_t mw_mirth_type_PrimType_isZ_resourceZAsk (int64_t in_PrimType_1) {
	int64_t branch_Bool_3;
	switch (in_PrimType_1) {
		case 8LL: { // PRIM_TYPE_WORLD
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_mirth_type_PrimType_isZ_physicalZAsk (int64_t in_PrimType_1) {
	int64_t branch_Bool_3;
	switch (in_PrimType_1) {
		case 0LL: { // PRIM_TYPE_TYPE
			int64_t v4 = 0LL /* False */;
			branch_Bool_3 = v4;
		} break;
		case 1LL: { // PRIM_TYPE_STACK
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
		case 2LL: { // PRIM_TYPE_RESOURCE
			int64_t v6 = 0LL /* False */;
			branch_Bool_3 = v6;
		} break;
		default: {
			int64_t v7 = 1LL /* True */;
			branch_Bool_3 = v7;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_type_Type_tyconZAsk (VAL in_Type_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Type_1)) {
		case 0LL: { // TYPE_ERROR
			VAL v4 = MKI64(0LL /* None */);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 2LL: { // TPrim
			int64_t v6 = mtp_mirth_type_Type_TPrim(in_Type_1);
			VAL v7 = mtw_mirth_tycon_Tycon_TYCONz_PRIM(v6);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(v7);
			branch_Maybe_3 = v8;
		} break;
		case 3LL: { // TMeta
			uint64_t v9 = mtp_mirth_type_Type_TMeta(in_Type_1);
			VAL v10 = mw_mirth_type_MetaVar_typeZAsk(v9);
			VAL branch_Maybe_11;
			switch (get_data_tag(v10)) {
				case 0LL: { // None
					VAL v12 = MKI64(0LL /* None */);
					branch_Maybe_11 = v12;
				} break;
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					VAL v14 = mw_mirth_type_Type_expand(v13);
					incref(v14);
					VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
					void* v16 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v9);
					mut_set(v15, v16);
					VAL v17 = mw_mirth_type_Type_tyconZAsk(v14);
					branch_Maybe_11 = v17;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_3 = branch_Maybe_11;
		} break;
		case 4LL: { // THole
			uint64_t v18 = mtp_mirth_type_Type_THole(in_Type_1);
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_3 = v19;
		} break;
		case 5LL: { // TVar
			uint64_t v20 = mtp_mirth_type_Type_TVar(in_Type_1);
			VAL v21 = MKI64(0LL /* None */);
			branch_Maybe_3 = v21;
		} break;
		case 6LL: { // TTable
			uint64_t v22 = mtp_mirth_type_Type_TTable(in_Type_1);
			VAL v23 = mtw_mirth_tycon_Tycon_TYCONz_TABLE(v22);
			VAL v24 = mtw_std_maybe_Maybe_1_Some(v23);
			branch_Maybe_3 = v24;
		} break;
		case 7LL: { // TData
			uint64_t v25 = mtp_mirth_type_Type_TData(in_Type_1);
			VAL v26 = mtw_mirth_tycon_Tycon_TYCONz_DATA(v25);
			VAL v27 = mtw_std_maybe_Maybe_1_Some(v26);
			branch_Maybe_3 = v27;
		} break;
		case 8LL: { // TDataPartial
			VAL v28 = mtp_mirth_type_Type_TDataPartial(in_Type_1);
			uint64_t v29 = value_u64(VTUP(v28)->cells[1]);
			decref(v28);
			VAL v30 = mtw_mirth_tycon_Tycon_TYCONz_DATA(v29);
			VAL v31 = mtw_std_maybe_Maybe_1_Some(v30);
			branch_Maybe_3 = v31;
		} break;
		case 10LL: { // TMorphism
			VAL v32 = mtp_mirth_type_Type_TMorphism(in_Type_1);
			decref(v32);
			VAL v33 = MKI64(0LL /* None */);
			branch_Maybe_3 = v33;
		} break;
		case 9LL: { // TTensor
			VAL v34 = mtp_mirth_type_Type_TTensor(in_Type_1);
			decref(v34);
			VAL v35 = MKI64(0LL /* None */);
			branch_Maybe_3 = v35;
		} break;
		case 11LL: { // TApp
			VAL v36;
			VAL v37 = mtp_mirth_type_Type_TApp(in_Type_1, &v36);
			decref(v36);
			VAL v38 = mw_mirth_type_Type_tyconZAsk(v37);
			branch_Maybe_3 = v38;
		} break;
		case 12LL: { // TMut
			VAL v39 = mtp_mirth_type_Type_TMut(in_Type_1);
			VAL v40 = mw_mirth_type_Type_tyconZAsk(v39);
			branch_Maybe_3 = v40;
		} break;
		case 13LL: { // TValue
			VAL v41 = mtp_mirth_type_Type_TValue(in_Type_1);
			VAL v42 = mw_mirth_type_Value_tyconZAsk(v41);
			branch_Maybe_3 = v42;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_type_PrimType_tyconZ_qname (VAL in_ZPlusMirth_1, int64_t in_PrimType_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_QName_6;
	switch (in_PrimType_2) {
		case 0LL: { // PRIM_TYPE_TYPE
			STR* v7;
			STRLIT(v7, "TYPE", 4);
			int64_t v8 = 0LL;
			VAL v9;
			VAL v10 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v7), v8, &v9);
			branch_QName_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		case 1LL: { // PRIM_TYPE_STACK
			STR* v11;
			STRLIT(v11, "STACK", 5);
			int64_t v12 = 0LL;
			VAL v13;
			VAL v14 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v11), v12, &v13);
			branch_QName_6 = v14;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 2LL: { // PRIM_TYPE_RESOURCE
			STR* v15;
			STRLIT(v15, "Resource", 8);
			int64_t v16 = 0LL;
			VAL v17;
			VAL v18 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v15), v16, &v17);
			branch_QName_6 = v18;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 3LL: { // PRIM_TYPE_INT
			STR* v19;
			STRLIT(v19, "Int", 3);
			int64_t v20 = 0LL;
			VAL v21;
			VAL v22 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v19), v20, &v21);
			branch_QName_6 = v22;
			branch_ZPlusMirth_5 = v21;
		} break;
		case 4LL: { // PRIM_TYPE_F32
			STR* v23;
			STRLIT(v23, "F32", 3);
			int64_t v24 = 0LL;
			VAL v25;
			VAL v26 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v23), v24, &v25);
			branch_QName_6 = v26;
			branch_ZPlusMirth_5 = v25;
		} break;
		case 5LL: { // PRIM_TYPE_F64
			STR* v27;
			STRLIT(v27, "F64", 3);
			int64_t v28 = 0LL;
			VAL v29;
			VAL v30 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v27), v28, &v29);
			branch_QName_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 7LL: { // PRIM_TYPE_STR
			STR* v31;
			STRLIT(v31, "Str", 3);
			int64_t v32 = 0LL;
			VAL v33;
			VAL v34 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v31), v32, &v33);
			branch_QName_6 = v34;
			branch_ZPlusMirth_5 = v33;
		} break;
		case 6LL: { // PRIM_TYPE_PTR
			STR* v35;
			STRLIT(v35, "Ptr", 3);
			int64_t v36 = 0LL;
			VAL v37;
			VAL v38 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v35), v36, &v37);
			branch_QName_6 = v38;
			branch_ZPlusMirth_5 = v37;
		} break;
		case 8LL: { // PRIM_TYPE_WORLD
			STR* v39;
			STRLIT(v39, "+World", 6);
			int64_t v40 = 0LL;
			VAL v41;
			VAL v42 = mw_mirth_name_QName_prim(in_ZPlusMirth_1, MKSTR(v39), v40, &v41);
			branch_QName_6 = v42;
			branch_ZPlusMirth_5 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static VAL mw_mirth_type_Value_tyconZAsk (VAL in_Value_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Value_1)) {
		case 0LL: { // VALUE_INT
			int64_t v4 = mtp_mirth_type_Value_VALUEz_INT(in_Value_1);
			int64_t v5 = 3LL /* PRIM_TYPE_INT */;
			VAL v6 = mtw_mirth_tycon_Tycon_TYCONz_PRIM(v5);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v6);
			branch_Maybe_3 = v7;
		} break;
		case 1LL: { // VALUE_F64
			double v8 = mtp_mirth_type_Value_VALUEz_F64(in_Value_1);
			int64_t v9 = 5LL /* PRIM_TYPE_F64 */;
			VAL v10 = mtw_mirth_tycon_Tycon_TYCONz_PRIM(v9);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(v10);
			branch_Maybe_3 = v11;
		} break;
		case 2LL: { // VALUE_STR
			VAL v12 = mtp_mirth_type_Value_VALUEz_STR(in_Value_1);
			decref(v12);
			int64_t v13 = 7LL /* PRIM_TYPE_STR */;
			VAL v14 = mtw_mirth_tycon_Tycon_TYCONz_PRIM(v13);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
			branch_Maybe_3 = v15;
		} break;
		case 3LL: { // VALUE_BLOCK
			uint64_t v16 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_1);
			VAL v17 = MKI64(0LL /* None */);
			branch_Maybe_3 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_type_PrimType_ZToInt (int64_t in_PrimType_1) {
	return in_PrimType_1;
}
static int64_t mw_mirth_type_PrimType_ZEqualZEqual (int64_t in_PrimType_1, int64_t in_PrimType_2) {
	int64_t v4 = mw_mirth_type_PrimType_ZToInt(in_PrimType_1);
	int64_t v5 = mw_mirth_type_PrimType_ZToInt(in_PrimType_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang (VAL in_ZPlusMirth_1, int64_t in_PrimType_2, VAL *out_ZPlusMirth_3) {
	VAL v4;
	VAL v5 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, in_PrimType_2, &v4);
	VAL v6 = mtw_mirth_type_Type_TPrim(in_PrimType_2);
	VAL v7;
	mw_mirth_mirth_ZPlusMirth_defZ_typeZBang(v4, v5, v6, &v7);
	*out_ZPlusMirth_3 = v7;
}
static void mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZ_aliasZBang (VAL in_ZPlusMirth_1, int64_t in_PrimType_2, VAL in_Str_3, VAL *out_ZPlusMirth_4) {
	uint64_t v5 = mw_std_prim_Str_ZToName(in_Str_3);
	VAL v6;
	VAL v7 = mw_mirth_type_PrimType_tyconZ_qname(in_ZPlusMirth_1, in_PrimType_2, &v6);
	VAL v8 = tup_replace(v7, 2, MKU64(v5));
	VAL v9 = mtw_mirth_type_Type_TPrim(in_PrimType_2);
	VAL v10;
	mw_mirth_mirth_ZPlusMirth_defZ_typeZBang(v6, v8, v9, &v10);
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_mirth_ZPlusMirth_initZ_typesZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	int64_t v3 = 3LL /* PRIM_TYPE_INT */;
	VAL v4;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(in_ZPlusMirth_1, v3, &v4);
	int64_t v5 = 4LL /* PRIM_TYPE_F32 */;
	VAL v6;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v4, v5, &v6);
	int64_t v7 = 4LL /* PRIM_TYPE_F32 */;
	STR* v8;
	STRLIT(v8, "Float32", 7);
	VAL v9;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZ_aliasZBang(v6, v7, MKSTR(v8), &v9);
	int64_t v10 = 5LL /* PRIM_TYPE_F64 */;
	VAL v11;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v9, v10, &v11);
	int64_t v12 = 5LL /* PRIM_TYPE_F64 */;
	STR* v13;
	STRLIT(v13, "Float64", 7);
	VAL v14;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZ_aliasZBang(v11, v12, MKSTR(v13), &v14);
	int64_t v15 = 6LL /* PRIM_TYPE_PTR */;
	VAL v16;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v14, v15, &v16);
	int64_t v17 = 7LL /* PRIM_TYPE_STR */;
	VAL v18;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v16, v17, &v18);
	int64_t v19 = 8LL /* PRIM_TYPE_WORLD */;
	VAL v20;
	mw_mirth_mirth_ZPlusMirth_defZ_primZ_typeZBang(v18, v19, &v20);
	VAL v21;
	mw_mirth_data_initZ_dataZBang(v20, &v21);
	*out_ZPlusMirth_2 = v21;
}
static VAL mw_mirth_type_TZPlus (VAL in_StackType_1, VAL in_Resource_2) {
	VAL v4 = mtw_mirth_type_StackType_STWith(in_StackType_1, in_Resource_2);
	return v4;
}
static VAL mw_mirth_type_TZMul (VAL in_StackType_1, VAL in_Type_2) {
	VAL v4 = mtw_mirth_type_StackType_STCons(in_StackType_1, in_Type_2);
	return v4;
}
static VAL mw_mirth_type_TZMulZPlus (VAL in_StackType_1, VAL in_Either_2) {
	VAL branch_StackType_4;
	switch (get_data_tag(in_Either_2)) {
		case 0LL: { // Left
			VAL v5 = mtp_std_either_Either_2_Left(in_Either_2);
			VAL v6 = mw_mirth_type_TZMul(in_StackType_1, v5);
			branch_StackType_4 = v6;
		} break;
		case 1LL: { // Right
			VAL v7 = mtp_std_either_Either_2_Right(in_Either_2);
			VAL v8 = mw_mirth_type_TZPlus(in_StackType_1, v7);
			branch_StackType_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_StackType_4;
}
static VAL mw_mirth_type_TZ_ZTo (VAL in_StackType_1, VAL in_StackType_2) {
	VAL v4 = mtw_mirth_type_ArrowType_ARROWz_TYPE(in_StackType_1, in_StackType_2);
	return v4;
}
static VAL mw_mirth_type_TT (VAL in_List_1) {
	VAL v3 = mw_mirth_type_T0();
	VAL v4 = mw_std_list_List_1_for_1_sp80(v3, in_List_1);
	return v4;
}
static VAL mw_mirth_type_T0 (void) {
	VAL v2 = MKI64(2LL /* STACK_TYPE_UNIT */);
	return v2;
}
static VAL mw_mirth_type_T1 (VAL in_Type_1) {
	VAL v3 = mw_mirth_type_T0();
	VAL v4 = mw_mirth_type_TZMul(v3, in_Type_1);
	return v4;
}
static VAL mw_mirth_type_T2 (VAL in_Type_1, VAL in_Type_2) {
	VAL v4 = mw_mirth_type_T1(in_Type_1);
	VAL v5 = mw_mirth_type_TZMul(v4, in_Type_2);
	return v5;
}
static VAL mw_mirth_type_T3 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3) {
	VAL v5 = mw_mirth_type_T2(in_Type_1, in_Type_2);
	VAL v6 = mw_mirth_type_TZMul(v5, in_Type_3);
	return v6;
}
static VAL mw_mirth_type_T4 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4) {
	VAL v6 = mw_mirth_type_T3(in_Type_1, in_Type_2, in_Type_3);
	VAL v7 = mw_mirth_type_TZMul(v6, in_Type_4);
	return v7;
}
static VAL mw_mirth_type_T5 (VAL in_Type_1, VAL in_Type_2, VAL in_Type_3, VAL in_Type_4, VAL in_Type_5) {
	VAL v7 = mw_mirth_type_T4(in_Type_1, in_Type_2, in_Type_3, in_Type_4);
	VAL v8 = mw_mirth_type_TZMul(v7, in_Type_5);
	return v8;
}
static int64_t mw_mirth_type_Type_errorZAsk (VAL in_Type_1) {
	VAL v3 = mw_mirth_type_Type_expand(in_Type_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 0LL: { // TYPE_ERROR
			int64_t v5 = 1LL /* True */;
			branch_Bool_4 = v5;
		} break;
		default: {
			decref(v3);
			int64_t v6 = 0LL /* False */;
			branch_Bool_4 = v6;
		} break;
	}
	return branch_Bool_4;
}
static VAL mw_mirth_type_Type_morphismZAsk (VAL in_Type_1) {
	VAL v3 = mw_mirth_type_Type_expand(in_Type_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 10LL: { // TMorphism
			VAL v5 = mtp_mirth_type_Type_TMorphism(v3);
			VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_4 = v6;
		} break;
		default: {
			decref(v3);
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_4 = v7;
		} break;
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_type_Type_primZAsk (VAL in_Type_1) {
	VAL v3 = mw_mirth_type_Type_expand(in_Type_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 2LL: { // TPrim
			int64_t v5 = mtp_mirth_type_Type_TPrim(v3);
			VAL v6 = mtw_std_maybe_Maybe_1_Some(MKI64(v5));
			branch_Maybe_4 = v6;
		} break;
		default: {
			decref(v3);
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_4 = v7;
		} break;
	}
	return branch_Maybe_4;
}
static int64_t mw_mirth_type_Type_metaZEqual (uint64_t in_MetaVar_1, VAL in_Type_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_Type_2)) {
		case 3LL: { // TMeta
			uint64_t v5 = mtp_mirth_type_Type_TMeta(in_Type_2);
			int64_t v6 = mw_mirth_type_MetaVar_ZEqualZEqual(in_MetaVar_1, v5);
			branch_Bool_4 = v6;
		} break;
		default: {
			decref(in_Type_2);
			int64_t v7 = 0LL /* False */;
			branch_Bool_4 = v7;
		} break;
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_type_Type_isZ_physicalZAsk (VAL in_Type_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_Type_1)) {
		case 3LL: { // TMeta
			uint64_t v4 = mtp_mirth_type_Type_TMeta(in_Type_1);
			VAL v5 = mw_mirth_type_MetaVar_typeZAsk(v4);
			int64_t branch_Bool_6;
			switch (get_data_tag(v5)) {
				case 0LL: { // None
					STR* v7;
					STRLIT(v7, "unbound meta at Type.is-physical?", 33);
					do_panic(v7);
				} break;
				case 1LL: { // Some
					VAL v9 = mtp_std_maybe_Maybe_1_Some(v5);
					VAL v10 = mw_mirth_type_Type_expand(v9);
					incref(v10);
					VAL v11 = mtw_std_maybe_Maybe_1_Some(v10);
					void* v12 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v4);
					mut_set(v11, v12);
					int64_t v13 = mw_mirth_type_Type_isZ_physicalZAsk(v10);
					branch_Bool_6 = v13;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_3 = branch_Bool_6;
		} break;
		case 2LL: { // TPrim
			int64_t v14 = mtp_mirth_type_Type_TPrim(in_Type_1);
			int64_t v15 = mw_mirth_type_PrimType_isZ_physicalZAsk(v14);
			branch_Bool_3 = v15;
		} break;
		default: {
			decref(in_Type_1);
			int64_t v16 = 1LL /* True */;
			branch_Bool_3 = v16;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_type_TYPEz_UNIT (void) {
	VAL v2 = MKI64(2LL /* STACK_TYPE_UNIT */);
	VAL v3 = mtw_mirth_type_Type_TTensor(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_TYPE (void) {
	int64_t v2 = 0LL /* PRIM_TYPE_TYPE */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_STACK (void) {
	int64_t v2 = 1LL /* PRIM_TYPE_STACK */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_RESOURCE (void) {
	int64_t v2 = 2LL /* PRIM_TYPE_RESOURCE */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_INT (void) {
	int64_t v2 = 3LL /* PRIM_TYPE_INT */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_F32 (void) {
	int64_t v2 = 4LL /* PRIM_TYPE_F32 */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_F64 (void) {
	int64_t v2 = 5LL /* PRIM_TYPE_F64 */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_PTR (void) {
	int64_t v2 = 6LL /* PRIM_TYPE_PTR */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_STR (void) {
	int64_t v2 = 7LL /* PRIM_TYPE_STR */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_TYPEz_WORLD (void) {
	int64_t v2 = 8LL /* PRIM_TYPE_WORLD */;
	VAL v3 = mtw_mirth_type_Type_TPrim(v2);
	return v3;
}
static VAL mw_mirth_type_RESOURCEz_WORLD (void) {
	VAL v2 = mw_mirth_type_TYPEz_WORLD();
	return v2;
}
static VAL mw_mirth_type_Type_expand (VAL in_Type_1) {
	VAL branch_Type_3;
	switch (get_data_tag(in_Type_1)) {
		case 3LL: { // TMeta
			uint64_t v4 = mtp_mirth_type_Type_TMeta(in_Type_1);
			VAL v5 = mw_mirth_type_MetaVar_expand(v4);
			branch_Type_3 = v5;
		} break;
		default: {
			branch_Type_3 = in_Type_1;
		} break;
	}
	return branch_Type_3;
}
static void mw_mirth_type_ZPlusGamma_rdrop (uint64_t in_ZPlusGamma_1) {
}
static VAL mw_mirth_type_Type_unifyZ_failedZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	STR* v8;
	STRLIT(v8, "", 0);
	STR* v9;
	STRLIT(v9, "Failed to unify ", 16);
	VAL v10;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v9), MKSTR(v8), &v10);
	VAL v11;
	mw_mirth_type_Type_typeZThen(in_Type_3, v10, &v11);
	STR* v12;
	STRLIT(v12, " with ", 6);
	VAL v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), v11, &v13);
	VAL v14;
	mw_mirth_type_Type_typeZThen(in_Type_4, v13, &v14);
	VAL v15;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, v14, in_ZPlusMirth_1, &v15);
	VAL v16 = MKI64(0LL /* TYPE_ERROR */);
	*out_ZPlusGamma_6 = in_ZPlusGamma_2;
	*out_ZPlusMirth_5 = v15;
	return v16;
}
static VAL mw_mirth_type_Type_unifyZ_simpleZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL branch_ZPlusMirth_8;
	uint64_t branch_ZPlusGamma_9;
	VAL branch_Type_10;
	switch (get_data_tag(in_Type_4)) {
		case 5LL: { // TVar
			uint64_t v11 = mtp_mirth_type_Type_TVar(in_Type_4);
			VAL branch_ZPlusMirth_12;
			uint64_t branch_ZPlusGamma_13;
			VAL branch_Type_14;
			switch (get_data_tag(in_Type_3)) {
				case 5LL: { // TVar
					uint64_t v15 = mtp_mirth_type_Type_TVar(in_Type_3);
					VAL v16;
					uint64_t v17;
					VAL v18 = mw_mirth_var_Var_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v11, v15, &v16, &v17);
					branch_Type_14 = v18;
					branch_ZPlusGamma_13 = v17;
					branch_ZPlusMirth_12 = v16;
				} break;
				default: {
					VAL v19 = mtw_mirth_type_Type_TVar(v11);
					VAL v20;
					uint64_t v21;
					VAL v22 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v19, in_Type_3, &v20, &v21);
					branch_Type_14 = v22;
					branch_ZPlusGamma_13 = v21;
					branch_ZPlusMirth_12 = v20;
				} break;
			}
			branch_Type_10 = branch_Type_14;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_13;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_12;
		} break;
		case 2LL: { // TPrim
			int64_t v23 = mtp_mirth_type_Type_TPrim(in_Type_4);
			VAL branch_ZPlusMirth_24;
			uint64_t branch_ZPlusGamma_25;
			VAL branch_Type_26;
			switch (get_data_tag(in_Type_3)) {
				case 2LL: { // TPrim
					int64_t v27 = mtp_mirth_type_Type_TPrim(in_Type_3);
					VAL v28;
					uint64_t v29;
					VAL v30 = mw_mirth_type_PrimType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v23, v27, &v28, &v29);
					branch_Type_26 = v30;
					branch_ZPlusGamma_25 = v29;
					branch_ZPlusMirth_24 = v28;
				} break;
				default: {
					VAL v31 = mtw_mirth_type_Type_TPrim(v23);
					VAL v32;
					uint64_t v33;
					VAL v34 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v31, in_Type_3, &v32, &v33);
					branch_Type_26 = v34;
					branch_ZPlusGamma_25 = v33;
					branch_ZPlusMirth_24 = v32;
				} break;
			}
			branch_Type_10 = branch_Type_26;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_25;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_24;
		} break;
		case 7LL: { // TData
			uint64_t v35 = mtp_mirth_type_Type_TData(in_Type_4);
			VAL branch_ZPlusMirth_36;
			uint64_t branch_ZPlusGamma_37;
			VAL branch_Type_38;
			switch (get_data_tag(in_Type_3)) {
				case 7LL: { // TData
					uint64_t v39 = mtp_mirth_type_Type_TData(in_Type_3);
					VAL v40;
					uint64_t v41;
					VAL v42 = mw_mirth_data_Data_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v35, v39, &v40, &v41);
					branch_Type_38 = v42;
					branch_ZPlusGamma_37 = v41;
					branch_ZPlusMirth_36 = v40;
				} break;
				default: {
					VAL v43 = mtw_mirth_type_Type_TData(v35);
					VAL v44;
					uint64_t v45;
					VAL v46 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v43, in_Type_3, &v44, &v45);
					branch_Type_38 = v46;
					branch_ZPlusGamma_37 = v45;
					branch_ZPlusMirth_36 = v44;
				} break;
			}
			branch_Type_10 = branch_Type_38;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_37;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_36;
		} break;
		case 8LL: { // TDataPartial
			VAL v47 = mtp_mirth_type_Type_TDataPartial(in_Type_4);
			VAL branch_ZPlusMirth_48;
			uint64_t branch_ZPlusGamma_49;
			VAL branch_Type_50;
			switch (get_data_tag(in_Type_3)) {
				case 8LL: { // TDataPartial
					VAL v51 = mtp_mirth_type_Type_TDataPartial(in_Type_3);
					VAL v52;
					uint64_t v53;
					VAL v54 = mw_mirth_data_DataPartial_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v47, v51, &v52, &v53);
					branch_Type_50 = v54;
					branch_ZPlusGamma_49 = v53;
					branch_ZPlusMirth_48 = v52;
				} break;
				default: {
					VAL v55 = mtw_mirth_type_Type_TDataPartial(v47);
					VAL v56;
					uint64_t v57;
					VAL v58 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v55, in_Type_3, &v56, &v57);
					branch_Type_50 = v58;
					branch_ZPlusGamma_49 = v57;
					branch_ZPlusMirth_48 = v56;
				} break;
			}
			branch_Type_10 = branch_Type_50;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_49;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_48;
		} break;
		case 6LL: { // TTable
			uint64_t v59 = mtp_mirth_type_Type_TTable(in_Type_4);
			VAL branch_ZPlusMirth_60;
			uint64_t branch_ZPlusGamma_61;
			VAL branch_Type_62;
			switch (get_data_tag(in_Type_3)) {
				case 6LL: { // TTable
					uint64_t v63 = mtp_mirth_type_Type_TTable(in_Type_3);
					VAL v64;
					uint64_t v65;
					VAL v66 = mw_mirth_table_Table_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v59, v63, &v64, &v65);
					branch_Type_62 = v66;
					branch_ZPlusGamma_61 = v65;
					branch_ZPlusMirth_60 = v64;
				} break;
				default: {
					VAL v67 = mtw_mirth_type_Type_TTable(v59);
					VAL v68;
					uint64_t v69;
					VAL v70 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v67, in_Type_3, &v68, &v69);
					branch_Type_62 = v70;
					branch_ZPlusGamma_61 = v69;
					branch_ZPlusMirth_60 = v68;
				} break;
			}
			branch_Type_10 = branch_Type_62;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_61;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_60;
		} break;
		case 9LL: { // TTensor
			VAL v71 = mtp_mirth_type_Type_TTensor(in_Type_4);
			VAL branch_ZPlusMirth_72;
			uint64_t branch_ZPlusGamma_73;
			VAL branch_Type_74;
			switch (get_data_tag(in_Type_3)) {
				case 9LL: { // TTensor
					VAL v75 = mtp_mirth_type_Type_TTensor(in_Type_3);
					VAL v76;
					uint64_t v77;
					VAL v78 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v71, v75, &v76, &v77);
					VAL v79 = mw_mirth_type_StackType_ZToType(v78);
					branch_Type_74 = v79;
					branch_ZPlusGamma_73 = v77;
					branch_ZPlusMirth_72 = v76;
				} break;
				default: {
					VAL v80 = mtw_mirth_type_Type_TTensor(v71);
					VAL v81;
					uint64_t v82;
					VAL v83 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v80, in_Type_3, &v81, &v82);
					branch_Type_74 = v83;
					branch_ZPlusGamma_73 = v82;
					branch_ZPlusMirth_72 = v81;
				} break;
			}
			branch_Type_10 = branch_Type_74;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_73;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_72;
		} break;
		case 10LL: { // TMorphism
			VAL v84 = mtp_mirth_type_Type_TMorphism(in_Type_4);
			VAL branch_ZPlusMirth_85;
			uint64_t branch_ZPlusGamma_86;
			VAL branch_Type_87;
			switch (get_data_tag(in_Type_3)) {
				case 10LL: { // TMorphism
					VAL v88 = mtp_mirth_type_Type_TMorphism(in_Type_3);
					VAL v89;
					uint64_t v90;
					VAL v91 = mw_mirth_type_ArrowType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v84, v88, &v89, &v90);
					VAL v92 = mtw_mirth_type_Type_TMorphism(v91);
					branch_Type_87 = v92;
					branch_ZPlusGamma_86 = v90;
					branch_ZPlusMirth_85 = v89;
				} break;
				default: {
					VAL v93 = mtw_mirth_type_Type_TMorphism(v84);
					VAL v94;
					uint64_t v95;
					VAL v96 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v93, in_Type_3, &v94, &v95);
					branch_Type_87 = v96;
					branch_ZPlusGamma_86 = v95;
					branch_ZPlusMirth_85 = v94;
				} break;
			}
			branch_Type_10 = branch_Type_87;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_86;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_85;
		} break;
		case 11LL: { // TApp
			VAL v97;
			VAL v98 = mtp_mirth_type_Type_TApp(in_Type_4, &v97);
			VAL branch_ZPlusMirth_99;
			uint64_t branch_ZPlusGamma_100;
			VAL branch_Type_101;
			switch (get_data_tag(in_Type_3)) {
				case 11LL: { // TApp
					VAL v102;
					VAL v103 = mtp_mirth_type_Type_TApp(in_Type_3, &v102);
					VAL v104;
					uint64_t v105;
					VAL v106;
					VAL v107 = mw_mirth_type_Type_unify2ZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v98, v97, v103, v102, &v104, &v105, &v106);
					VAL v108 = mtw_mirth_type_Type_TApp(v107, v106);
					branch_Type_101 = v108;
					branch_ZPlusGamma_100 = v105;
					branch_ZPlusMirth_99 = v104;
				} break;
				default: {
					VAL v109 = mtw_mirth_type_Type_TApp(v98, v97);
					VAL v110;
					uint64_t v111;
					VAL v112 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v109, in_Type_3, &v110, &v111);
					branch_Type_101 = v112;
					branch_ZPlusGamma_100 = v111;
					branch_ZPlusMirth_99 = v110;
				} break;
			}
			branch_Type_10 = branch_Type_101;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_100;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_99;
		} break;
		case 12LL: { // TMut
			VAL v113 = mtp_mirth_type_Type_TMut(in_Type_4);
			VAL branch_ZPlusMirth_114;
			uint64_t branch_ZPlusGamma_115;
			VAL branch_Type_116;
			switch (get_data_tag(in_Type_3)) {
				case 12LL: { // TMut
					VAL v117 = mtp_mirth_type_Type_TMut(in_Type_3);
					VAL v118;
					uint64_t v119;
					VAL v120 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v113, v117, &v118, &v119);
					VAL v121 = mtw_mirth_type_Type_TMut(v120);
					branch_Type_116 = v121;
					branch_ZPlusGamma_115 = v119;
					branch_ZPlusMirth_114 = v118;
				} break;
				default: {
					VAL v122 = mtw_mirth_type_Type_TMut(v113);
					VAL v123;
					uint64_t v124;
					VAL v125 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v122, in_Type_3, &v123, &v124);
					branch_Type_116 = v125;
					branch_ZPlusGamma_115 = v124;
					branch_ZPlusMirth_114 = v123;
				} break;
			}
			branch_Type_10 = branch_Type_116;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_115;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_114;
		} break;
		default: {
			VAL v126;
			uint64_t v127;
			VAL v128 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, in_Type_4, &v126, &v127);
			branch_Type_10 = v128;
			branch_ZPlusGamma_9 = v127;
			branch_ZPlusMirth_8 = v126;
		} break;
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Type_10;
}
static VAL mw_mirth_type_Type_unifyZ_auxZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL branch_ZPlusMirth_8;
	uint64_t branch_ZPlusGamma_9;
	VAL branch_Type_10;
	switch (get_data_tag(in_Type_4)) {
		case 0LL: { // TYPE_ERROR
			VAL v11;
			uint64_t v12;
			VAL v13 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, &v11, &v12);
			branch_Type_10 = v13;
			branch_ZPlusGamma_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			branch_Type_10 = in_Type_3;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // THole
			uint64_t v14 = mtp_mirth_type_Type_THole(in_Type_4);
			VAL v15;
			uint64_t v16;
			VAL v17 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, v14, &v15, &v16);
			branch_Type_10 = v17;
			branch_ZPlusGamma_9 = v16;
			branch_ZPlusMirth_8 = v15;
		} break;
		case 3LL: { // TMeta
			uint64_t v18 = mtp_mirth_type_Type_TMeta(in_Type_4);
			VAL branch_ZPlusMirth_19;
			uint64_t branch_ZPlusGamma_20;
			VAL branch_Type_21;
			switch (get_data_tag(in_Type_3)) {
				case 0LL: { // TYPE_ERROR
					VAL v22;
					uint64_t v23;
					VAL v24 = mw_mirth_type_MetaVar_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v18, &v22, &v23);
					branch_Type_21 = v24;
					branch_ZPlusGamma_20 = v23;
					branch_ZPlusMirth_19 = v22;
				} break;
				case 1LL: { // TYPE_DONT_CARE
					VAL v25 = mtw_mirth_type_Type_TMeta(v18);
					branch_Type_21 = v25;
					branch_ZPlusGamma_20 = in_ZPlusGamma_2;
					branch_ZPlusMirth_19 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // THole
					uint64_t v26 = mtp_mirth_type_Type_THole(in_Type_3);
					VAL v27 = mtw_mirth_type_Type_TMeta(v18);
					VAL v28;
					uint64_t v29;
					VAL v30 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v27, v26, &v28, &v29);
					branch_Type_21 = v30;
					branch_ZPlusGamma_20 = v29;
					branch_ZPlusMirth_19 = v28;
				} break;
				case 3LL: { // TMeta
					uint64_t v31 = mtp_mirth_type_Type_TMeta(in_Type_3);
					VAL v32 = mtw_mirth_type_Type_TMeta(v18);
					VAL v33;
					uint64_t v34;
					VAL v35 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v32, v31, &v33, &v34);
					branch_Type_21 = v35;
					branch_ZPlusGamma_20 = v34;
					branch_ZPlusMirth_19 = v33;
				} break;
				case 13LL: { // TValue
					VAL v36 = mtp_mirth_type_Type_TValue(in_Type_3);
					VAL v37 = mtw_mirth_type_Type_TMeta(v18);
					VAL v38;
					uint64_t v39;
					VAL v40 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v37, v36, &v38, &v39);
					branch_Type_21 = v40;
					branch_ZPlusGamma_20 = v39;
					branch_ZPlusMirth_19 = v38;
				} break;
				default: {
					VAL v41;
					uint64_t v42;
					VAL v43 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, v18, &v41, &v42);
					branch_Type_21 = v43;
					branch_ZPlusGamma_20 = v42;
					branch_ZPlusMirth_19 = v41;
				} break;
			}
			branch_Type_10 = branch_Type_21;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_20;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_19;
		} break;
		case 13LL: { // TValue
			VAL v44 = mtp_mirth_type_Type_TValue(in_Type_4);
			VAL branch_ZPlusMirth_45;
			uint64_t branch_ZPlusGamma_46;
			VAL branch_Type_47;
			switch (get_data_tag(in_Type_3)) {
				case 0LL: { // TYPE_ERROR
					VAL v48;
					uint64_t v49;
					VAL v50 = mw_mirth_type_Value_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v44, &v48, &v49);
					branch_Type_47 = v50;
					branch_ZPlusGamma_46 = v49;
					branch_ZPlusMirth_45 = v48;
				} break;
				case 1LL: { // TYPE_DONT_CARE
					VAL v51 = mtw_mirth_type_Type_TValue(v44);
					branch_Type_47 = v51;
					branch_ZPlusGamma_46 = in_ZPlusGamma_2;
					branch_ZPlusMirth_45 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // THole
					uint64_t v52 = mtp_mirth_type_Type_THole(in_Type_3);
					VAL v53 = mtw_mirth_type_Type_TValue(v44);
					VAL v54;
					uint64_t v55;
					VAL v56 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v53, v52, &v54, &v55);
					branch_Type_47 = v56;
					branch_ZPlusGamma_46 = v55;
					branch_ZPlusMirth_45 = v54;
				} break;
				case 3LL: { // TMeta
					uint64_t v57 = mtp_mirth_type_Type_TMeta(in_Type_3);
					VAL v58 = mtw_mirth_type_Type_TValue(v44);
					VAL v59;
					uint64_t v60;
					VAL v61 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v58, v57, &v59, &v60);
					branch_Type_47 = v61;
					branch_ZPlusGamma_46 = v60;
					branch_ZPlusMirth_45 = v59;
				} break;
				case 13LL: { // TValue
					VAL v62 = mtp_mirth_type_Type_TValue(in_Type_3);
					VAL v63;
					uint64_t v64;
					VAL v65 = mw_mirth_type_Value_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v44, v62, &v63, &v64);
					branch_Type_47 = v65;
					branch_ZPlusGamma_46 = v64;
					branch_ZPlusMirth_45 = v63;
				} break;
				default: {
					VAL v66;
					uint64_t v67;
					VAL v68 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, v44, &v66, &v67);
					branch_Type_47 = v68;
					branch_ZPlusGamma_46 = v67;
					branch_ZPlusMirth_45 = v66;
				} break;
			}
			branch_Type_10 = branch_Type_47;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_46;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_45;
		} break;
		default: {
			VAL branch_ZPlusMirth_69;
			uint64_t branch_ZPlusGamma_70;
			VAL branch_Type_71;
			switch (get_data_tag(in_Type_3)) {
				case 0LL: { // TYPE_ERROR
					VAL v72;
					uint64_t v73;
					VAL v74 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_4, &v72, &v73);
					branch_Type_71 = v74;
					branch_ZPlusGamma_70 = v73;
					branch_ZPlusMirth_69 = v72;
				} break;
				case 1LL: { // TYPE_DONT_CARE
					branch_Type_71 = in_Type_4;
					branch_ZPlusGamma_70 = in_ZPlusGamma_2;
					branch_ZPlusMirth_69 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // THole
					uint64_t v75 = mtp_mirth_type_Type_THole(in_Type_3);
					VAL v76;
					uint64_t v77;
					VAL v78 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_4, v75, &v76, &v77);
					branch_Type_71 = v78;
					branch_ZPlusGamma_70 = v77;
					branch_ZPlusMirth_69 = v76;
				} break;
				case 3LL: { // TMeta
					uint64_t v79 = mtp_mirth_type_Type_TMeta(in_Type_3);
					VAL v80;
					uint64_t v81;
					VAL v82 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_4, v79, &v80, &v81);
					branch_Type_71 = v82;
					branch_ZPlusGamma_70 = v81;
					branch_ZPlusMirth_69 = v80;
				} break;
				case 13LL: { // TValue
					VAL v83 = mtp_mirth_type_Type_TValue(in_Type_3);
					VAL v84;
					uint64_t v85;
					VAL v86 = mw_mirth_type_Value_unifyZ_typeZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_4, v83, &v84, &v85);
					branch_Type_71 = v86;
					branch_ZPlusGamma_70 = v85;
					branch_ZPlusMirth_69 = v84;
				} break;
				default: {
					VAL v87;
					uint64_t v88;
					VAL v89 = mw_mirth_type_Type_unifyZ_simpleZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_4, in_Type_3, &v87, &v88);
					branch_Type_71 = v89;
					branch_ZPlusGamma_70 = v88;
					branch_ZPlusMirth_69 = v87;
				} break;
			}
			branch_Type_10 = branch_Type_71;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_70;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_69;
		} break;
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Type_10;
}
static VAL mw_mirth_type_Type_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5) {
	VAL v7 = mw_mirth_type_Type_expand(in_Type_3);
	VAL branch_ZPlusMirth_8;
	uint64_t branch_ZPlusGamma_9;
	VAL branch_Type_10;
	switch (get_data_tag(v7)) {
		case 0LL: { // TYPE_ERROR
			VAL v11 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v11;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			VAL v12 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v12;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // THole
			uint64_t v13 = mtp_mirth_type_Type_THole(v7);
			VAL v14 = MKI64(0LL /* TYPE_ERROR */);
			VAL v15;
			uint64_t v16;
			VAL v17 = mw_mirth_type_typeZ_holeZ_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v14, v13, &v15, &v16);
			branch_Type_10 = v17;
			branch_ZPlusGamma_9 = v16;
			branch_ZPlusMirth_8 = v15;
		} break;
		case 3LL: { // TMeta
			uint64_t v18 = mtp_mirth_type_Type_TMeta(v7);
			VAL v19;
			uint64_t v20;
			VAL v21 = mw_mirth_type_MetaVar_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v18, &v19, &v20);
			branch_Type_10 = v21;
			branch_ZPlusGamma_9 = v20;
			branch_ZPlusMirth_8 = v19;
		} break;
		case 13LL: { // TValue
			VAL v22 = mtp_mirth_type_Type_TValue(v7);
			VAL v23;
			uint64_t v24;
			VAL v25 = mw_mirth_type_Value_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v22, &v23, &v24);
			branch_Type_10 = v25;
			branch_ZPlusGamma_9 = v24;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 5LL: { // TVar
			uint64_t v26 = mtp_mirth_type_Type_TVar(v7);
			VAL v27 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v27;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // TPrim
			int64_t v28 = mtp_mirth_type_Type_TPrim(v7);
			VAL v29 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v29;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // TData
			uint64_t v30 = mtp_mirth_type_Type_TData(v7);
			VAL v31 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v31;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // TDataPartial
			VAL v32 = mtp_mirth_type_Type_TDataPartial(v7);
			decref(v32);
			VAL v33 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v33;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // TTable
			uint64_t v34 = mtp_mirth_type_Type_TTable(v7);
			VAL v35 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v35;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // TTensor
			VAL v36 = mtp_mirth_type_Type_TTensor(v7);
			VAL v37;
			uint64_t v38;
			VAL v39 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v36, &v37, &v38);
			decref(v39);
			VAL v40 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v40;
			branch_ZPlusGamma_9 = v38;
			branch_ZPlusMirth_8 = v37;
		} break;
		case 10LL: { // TMorphism
			VAL v41 = mtp_mirth_type_Type_TMorphism(v7);
			VAL v42;
			uint64_t v43;
			VAL v44 = mw_mirth_type_ArrowType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v41, &v42, &v43);
			decref(v44);
			VAL v45 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v45;
			branch_ZPlusGamma_9 = v43;
			branch_ZPlusMirth_8 = v42;
		} break;
		case 11LL: { // TApp
			VAL v46;
			VAL v47 = mtp_mirth_type_Type_TApp(v7, &v46);
			VAL v48;
			uint64_t v49;
			VAL v50 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v47, &v48, &v49);
			decref(v50);
			VAL v51;
			uint64_t v52;
			VAL v53 = mw_mirth_type_Type_unifyZ_errorZBang(v48, v49, v46, &v51, &v52);
			decref(v53);
			VAL v54 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v54;
			branch_ZPlusGamma_9 = v52;
			branch_ZPlusMirth_8 = v51;
		} break;
		case 12LL: { // TMut
			VAL v55 = mtp_mirth_type_Type_TMut(v7);
			VAL v56;
			uint64_t v57;
			VAL v58 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v55, &v56, &v57);
			decref(v58);
			VAL v59 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v59;
			branch_ZPlusGamma_9 = v57;
			branch_ZPlusMirth_8 = v56;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusGamma_5 = branch_ZPlusGamma_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Type_10;
}
static VAL mw_mirth_type_Type_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL v8 = mw_mirth_type_Type_expand(in_Type_3);
	VAL v9 = mw_mirth_type_Type_expand(in_Type_4);
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_type_Type_unifyZ_auxZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v8, v9, &v10, &v11);
	*out_ZPlusGamma_6 = v11;
	*out_ZPlusMirth_5 = v10;
	return v12;
}
static VAL mw_mirth_type_Value_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Value_3, VAL in_Value_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL branch_ZPlusMirth_8;
	uint64_t branch_ZPlusGamma_9;
	VAL branch_Type_10;
	switch (get_data_tag(in_Value_3)) {
		case 0LL: { // VALUE_INT
			int64_t v11 = mtp_mirth_type_Value_VALUEz_INT(in_Value_3);
			VAL branch_ZPlusMirth_12;
			uint64_t branch_ZPlusGamma_13;
			VAL branch_Type_14;
			switch (get_data_tag(in_Value_4)) {
				case 0LL: { // VALUE_INT
					int64_t v15 = mtp_mirth_type_Value_VALUEz_INT(in_Value_4);
					bool v16 = (v11 == v15);
					VAL branch_ZPlusMirth_17;
					uint64_t branch_ZPlusGamma_18;
					VAL branch_Type_19;
					if (v16) {
						VAL v20 = mtw_mirth_type_Value_VALUEz_INT(v11);
						VAL v21 = mtw_mirth_type_Type_TValue(v20);
						branch_Type_19 = v21;
						branch_ZPlusGamma_18 = in_ZPlusGamma_2;
						branch_ZPlusMirth_17 = in_ZPlusMirth_1;
					} else {
						VAL v22 = mw_mirth_type_TYPEz_INT();
						branch_Type_19 = v22;
						branch_ZPlusGamma_18 = in_ZPlusGamma_2;
						branch_ZPlusMirth_17 = in_ZPlusMirth_1;
					}
					branch_Type_14 = branch_Type_19;
					branch_ZPlusGamma_13 = branch_ZPlusGamma_18;
					branch_ZPlusMirth_12 = branch_ZPlusMirth_17;
				} break;
				case 2LL: { // VALUE_STR
					VAL v23 = mtp_mirth_type_Value_VALUEz_STR(in_Value_4);
					decref(v23);
					STR* v24;
					STRLIT(v24, "Can't unify int value with string value.", 40);
					VAL v25;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v24), in_ZPlusMirth_1, &v25);
					VAL v26 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_14 = v26;
					branch_ZPlusGamma_13 = in_ZPlusGamma_2;
					branch_ZPlusMirth_12 = v25;
				} break;
				case 1LL: { // VALUE_F64
					double v27 = mtp_mirth_type_Value_VALUEz_F64(in_Value_4);
					STR* v28;
					STRLIT(v28, "Can't unify int value with float value.", 39);
					VAL v29;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v28), in_ZPlusMirth_1, &v29);
					VAL v30 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_14 = v30;
					branch_ZPlusGamma_13 = in_ZPlusGamma_2;
					branch_ZPlusMirth_12 = v29;
				} break;
				case 3LL: { // VALUE_BLOCK
					uint64_t v31 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_4);
					STR* v32;
					STRLIT(v32, "Can't unify int value with block.", 33);
					VAL v33;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v32), in_ZPlusMirth_1, &v33);
					VAL v34 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_14 = v34;
					branch_ZPlusGamma_13 = in_ZPlusGamma_2;
					branch_ZPlusMirth_12 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_10 = branch_Type_14;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_13;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_12;
		} break;
		case 2LL: { // VALUE_STR
			VAL v35 = mtp_mirth_type_Value_VALUEz_STR(in_Value_3);
			VAL branch_ZPlusMirth_36;
			uint64_t branch_ZPlusGamma_37;
			VAL branch_Type_38;
			switch (get_data_tag(in_Value_4)) {
				case 2LL: { // VALUE_STR
					VAL v39 = mtp_mirth_type_Value_VALUEz_STR(in_Value_4);
					incref(v35);
					incref(v39);
					bool v40 = (str_cmp(value_str(v35), value_str(v39)) == 0);
					VAL branch_ZPlusMirth_41;
					uint64_t branch_ZPlusGamma_42;
					VAL branch_Type_43;
					if (v40) {
						decref(v39);
						VAL v44 = mtw_mirth_type_Value_VALUEz_STR(v35);
						VAL v45 = mtw_mirth_type_Type_TValue(v44);
						branch_Type_43 = v45;
						branch_ZPlusGamma_42 = in_ZPlusGamma_2;
						branch_ZPlusMirth_41 = in_ZPlusMirth_1;
					} else {
						decref(v39);
						decref(v35);
						VAL v46 = mw_mirth_type_TYPEz_STR();
						branch_Type_43 = v46;
						branch_ZPlusGamma_42 = in_ZPlusGamma_2;
						branch_ZPlusMirth_41 = in_ZPlusMirth_1;
					}
					branch_Type_38 = branch_Type_43;
					branch_ZPlusGamma_37 = branch_ZPlusGamma_42;
					branch_ZPlusMirth_36 = branch_ZPlusMirth_41;
				} break;
				case 0LL: { // VALUE_INT
					int64_t v47 = mtp_mirth_type_Value_VALUEz_INT(in_Value_4);
					decref(v35);
					STR* v48;
					STRLIT(v48, "Can't unify string value with int value.", 40);
					VAL v49;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v48), in_ZPlusMirth_1, &v49);
					VAL v50 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_38 = v50;
					branch_ZPlusGamma_37 = in_ZPlusGamma_2;
					branch_ZPlusMirth_36 = v49;
				} break;
				case 1LL: { // VALUE_F64
					double v51 = mtp_mirth_type_Value_VALUEz_F64(in_Value_4);
					decref(v35);
					STR* v52;
					STRLIT(v52, "Can't unify string value with float value.", 42);
					VAL v53;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v52), in_ZPlusMirth_1, &v53);
					VAL v54 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_38 = v54;
					branch_ZPlusGamma_37 = in_ZPlusGamma_2;
					branch_ZPlusMirth_36 = v53;
				} break;
				case 3LL: { // VALUE_BLOCK
					uint64_t v55 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_4);
					decref(v35);
					STR* v56;
					STRLIT(v56, "Can't unify string value with block.", 36);
					VAL v57;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v56), in_ZPlusMirth_1, &v57);
					VAL v58 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_38 = v58;
					branch_ZPlusGamma_37 = in_ZPlusGamma_2;
					branch_ZPlusMirth_36 = v57;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_10 = branch_Type_38;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_37;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_36;
		} break;
		case 3LL: { // VALUE_BLOCK
			uint64_t v59 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_3);
			VAL branch_ZPlusMirth_60;
			uint64_t branch_ZPlusGamma_61;
			VAL branch_Type_62;
			switch (get_data_tag(in_Value_4)) {
				case 3LL: { // VALUE_BLOCK
					uint64_t v63 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_4);
					int64_t v64 = mw_mirth_arrow_Block_ZEqualZEqual(v59, v63);
					VAL branch_ZPlusMirth_65;
					uint64_t branch_ZPlusGamma_66;
					VAL branch_Type_67;
					if (((bool)v64)) {
						VAL v68 = mtw_mirth_type_Value_VALUEz_BLOCK(v59);
						VAL v69 = mtw_mirth_type_Type_TValue(v68);
						branch_Type_67 = v69;
						branch_ZPlusGamma_66 = in_ZPlusGamma_2;
						branch_ZPlusMirth_65 = in_ZPlusMirth_1;
					} else {
						VAL v70;
						VAL v71 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v63, &v70);
						VAL v72 = mw_mirth_arrow_Arrow_type(v71);
						VAL v73;
						uint64_t v74;
						VAL v75 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(v70, in_ZPlusGamma_2, v59, v72, &v73, &v74);
						VAL v76 = mw_mirth_type_ArrowType_ZToType(v75);
						branch_Type_67 = v76;
						branch_ZPlusGamma_66 = v74;
						branch_ZPlusMirth_65 = v73;
					}
					branch_Type_62 = branch_Type_67;
					branch_ZPlusGamma_61 = branch_ZPlusGamma_66;
					branch_ZPlusMirth_60 = branch_ZPlusMirth_65;
				} break;
				case 0LL: { // VALUE_INT
					int64_t v77 = mtp_mirth_type_Value_VALUEz_INT(in_Value_4);
					STR* v78;
					STRLIT(v78, "Can't unify block with int value.", 33);
					VAL v79;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v78), in_ZPlusMirth_1, &v79);
					VAL v80 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_62 = v80;
					branch_ZPlusGamma_61 = in_ZPlusGamma_2;
					branch_ZPlusMirth_60 = v79;
				} break;
				case 1LL: { // VALUE_F64
					double v81 = mtp_mirth_type_Value_VALUEz_F64(in_Value_4);
					STR* v82;
					STRLIT(v82, "Can't unify block with float value.", 35);
					VAL v83;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v82), in_ZPlusMirth_1, &v83);
					VAL v84 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_62 = v84;
					branch_ZPlusGamma_61 = in_ZPlusGamma_2;
					branch_ZPlusMirth_60 = v83;
				} break;
				case 2LL: { // VALUE_STR
					VAL v85 = mtp_mirth_type_Value_VALUEz_STR(in_Value_4);
					decref(v85);
					STR* v86;
					STRLIT(v86, "Can't unify block with string value.", 36);
					VAL v87;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v86), in_ZPlusMirth_1, &v87);
					VAL v88 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_62 = v88;
					branch_ZPlusGamma_61 = in_ZPlusGamma_2;
					branch_ZPlusMirth_60 = v87;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_10 = branch_Type_62;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_61;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_60;
		} break;
		case 1LL: { // VALUE_F64
			double v89 = mtp_mirth_type_Value_VALUEz_F64(in_Value_3);
			VAL branch_ZPlusMirth_90;
			uint64_t branch_ZPlusGamma_91;
			VAL branch_Type_92;
			switch (get_data_tag(in_Value_4)) {
				case 1LL: { // VALUE_F64
					double v93 = mtp_mirth_type_Value_VALUEz_F64(in_Value_4);
					bool v94 = (v89 == v93);
					VAL branch_ZPlusMirth_95;
					uint64_t branch_ZPlusGamma_96;
					VAL branch_Type_97;
					if (v94) {
						VAL v98 = mtw_mirth_type_Value_VALUEz_F64(v89);
						VAL v99 = mtw_mirth_type_Type_TValue(v98);
						branch_Type_97 = v99;
						branch_ZPlusGamma_96 = in_ZPlusGamma_2;
						branch_ZPlusMirth_95 = in_ZPlusMirth_1;
					} else {
						VAL v100 = mw_mirth_type_TYPEz_F64();
						branch_Type_97 = v100;
						branch_ZPlusGamma_96 = in_ZPlusGamma_2;
						branch_ZPlusMirth_95 = in_ZPlusMirth_1;
					}
					branch_Type_92 = branch_Type_97;
					branch_ZPlusGamma_91 = branch_ZPlusGamma_96;
					branch_ZPlusMirth_90 = branch_ZPlusMirth_95;
				} break;
				case 0LL: { // VALUE_INT
					int64_t v101 = mtp_mirth_type_Value_VALUEz_INT(in_Value_4);
					STR* v102;
					STRLIT(v102, "Can't unify float value with int value.", 39);
					VAL v103;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v102), in_ZPlusMirth_1, &v103);
					VAL v104 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_92 = v104;
					branch_ZPlusGamma_91 = in_ZPlusGamma_2;
					branch_ZPlusMirth_90 = v103;
				} break;
				case 3LL: { // VALUE_BLOCK
					uint64_t v105 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_4);
					STR* v106;
					STRLIT(v106, "Can't unify float value with block.", 35);
					VAL v107;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v106), in_ZPlusMirth_1, &v107);
					VAL v108 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_92 = v108;
					branch_ZPlusGamma_91 = in_ZPlusGamma_2;
					branch_ZPlusMirth_90 = v107;
				} break;
				case 2LL: { // VALUE_STR
					VAL v109 = mtp_mirth_type_Value_VALUEz_STR(in_Value_4);
					decref(v109);
					STR* v110;
					STRLIT(v110, "Can't unify float value with string value.", 42);
					VAL v111;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_ZPlusGamma_2, MKSTR(v110), in_ZPlusMirth_1, &v111);
					VAL v112 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_92 = v112;
					branch_ZPlusGamma_91 = in_ZPlusGamma_2;
					branch_ZPlusMirth_90 = v111;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_10 = branch_Type_92;
			branch_ZPlusGamma_9 = branch_ZPlusGamma_91;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_90;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Type_10;
}
static VAL mw_mirth_type_Value_unifyZ_typeZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Value_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL branch_ZPlusMirth_8;
	uint64_t branch_ZPlusGamma_9;
	VAL branch_Type_10;
	switch (get_data_tag(in_Value_4)) {
		case 0LL: { // VALUE_INT
			int64_t v11 = mtp_mirth_type_Value_VALUEz_INT(in_Value_4);
			VAL v12 = mw_mirth_type_TYPEz_INT();
			VAL v13;
			uint64_t v14;
			VAL v15 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, v12, &v13, &v14);
			branch_Type_10 = v15;
			branch_ZPlusGamma_9 = v14;
			branch_ZPlusMirth_8 = v13;
		} break;
		case 2LL: { // VALUE_STR
			VAL v16 = mtp_mirth_type_Value_VALUEz_STR(in_Value_4);
			decref(v16);
			VAL v17 = mw_mirth_type_TYPEz_STR();
			VAL v18;
			uint64_t v19;
			VAL v20 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, v17, &v18, &v19);
			branch_Type_10 = v20;
			branch_ZPlusGamma_9 = v19;
			branch_ZPlusMirth_8 = v18;
		} break;
		case 1LL: { // VALUE_F64
			double v21 = mtp_mirth_type_Value_VALUEz_F64(in_Value_4);
			VAL v22 = mw_mirth_type_TYPEz_F64();
			VAL v23;
			uint64_t v24;
			VAL v25 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, v22, &v23, &v24);
			branch_Type_10 = v25;
			branch_ZPlusGamma_9 = v24;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 3LL: { // VALUE_BLOCK
			uint64_t v26 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_4);
			VAL v27;
			uint64_t v28;
			VAL v29 = mw_mirth_type_Type_unifyZ_blockZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v26, in_Type_3, &v27, &v28);
			branch_Type_10 = v29;
			branch_ZPlusGamma_9 = v28;
			branch_ZPlusMirth_8 = v27;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_Type_10;
}
static VAL mw_mirth_type_Value_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Value_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5) {
	VAL branch_ZPlusMirth_7;
	uint64_t branch_ZPlusGamma_8;
	VAL branch_Type_9;
	switch (get_data_tag(in_Value_3)) {
		case 0LL: { // VALUE_INT
			int64_t v10 = mtp_mirth_type_Value_VALUEz_INT(in_Value_3);
			VAL v11 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_9 = v11;
			branch_ZPlusGamma_8 = in_ZPlusGamma_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // VALUE_STR
			VAL v12 = mtp_mirth_type_Value_VALUEz_STR(in_Value_3);
			decref(v12);
			VAL v13 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_9 = v13;
			branch_ZPlusGamma_8 = in_ZPlusGamma_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // VALUE_F64
			double v14 = mtp_mirth_type_Value_VALUEz_F64(in_Value_3);
			VAL v15 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_9 = v15;
			branch_ZPlusGamma_8 = in_ZPlusGamma_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // VALUE_BLOCK
			uint64_t v16 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_3);
			VAL v17 = MKI64(0LL /* TYPE_ERROR */);
			VAL v18;
			uint64_t v19;
			VAL v20 = mw_mirth_type_Type_unifyZ_blockZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v16, v17, &v18, &v19);
			branch_Type_9 = v20;
			branch_ZPlusGamma_8 = v19;
			branch_ZPlusMirth_7 = v18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusGamma_5 = branch_ZPlusGamma_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Type_9;
}
static VAL mw_mirth_type_Type_unifyZ_blockZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Block_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL v8 = mw_mirth_type_Type_expand(in_Type_4);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_ZPlusGamma_10;
	VAL branch_Type_11;
	switch (get_data_tag(v8)) {
		case 0LL: { // TYPE_ERROR
			VAL v12 = MKI64(0LL /* STACK_TYPE_ERROR */);
			VAL v13 = MKI64(0LL /* STACK_TYPE_ERROR */);
			VAL v14 = mw_mirth_type_TZ_ZTo(v12, v13);
			VAL v15;
			uint64_t v16;
			VAL v17 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Block_3, v14, &v15, &v16);
			decref(v17);
			VAL v18 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_11 = v18;
			branch_ZPlusGamma_10 = v16;
			branch_ZPlusMirth_9 = v15;
		} break;
		case 3LL: { // TMeta
			uint64_t v19 = mtp_mirth_type_Type_TMeta(v8);
			VAL v20 = mw_mirth_arrow_Block_type(in_Block_3);
			VAL v21 = mw_mirth_type_ArrowType_ZToType(v20);
			VAL v22;
			uint64_t v23;
			VAL v24 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v21, v19, &v22, &v23);
			decref(v24);
			VAL v25;
			VAL v26 = mw_mirth_arrow_Block_arrow(v22, in_Block_3, &v25);
			VAL v27 = mw_mirth_arrow_Arrow_type(v26);
			VAL v28 = mw_mirth_type_ArrowType_ZToType(v27);
			branch_Type_11 = v28;
			branch_ZPlusGamma_10 = v23;
			branch_ZPlusMirth_9 = v25;
		} break;
		case 10LL: { // TMorphism
			VAL v29 = mtp_mirth_type_Type_TMorphism(v8);
			VAL v30;
			uint64_t v31;
			VAL v32 = mw_mirth_arrow_blockZ_unifyZ_typeZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Block_3, v29, &v30, &v31);
			VAL v33 = mw_mirth_type_ArrowType_ZToType(v32);
			branch_Type_11 = v33;
			branch_ZPlusGamma_10 = v31;
			branch_ZPlusMirth_9 = v30;
		} break;
		default: {
			VAL v34 = mw_mirth_arrow_Block_type(in_Block_3);
			VAL v35 = mw_mirth_type_ArrowType_ZToType(v34);
			VAL v36;
			uint64_t v37;
			VAL v38 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v35, v8, &v36, &v37);
			branch_Type_11 = v38;
			branch_ZPlusGamma_10 = v37;
			branch_ZPlusMirth_9 = v36;
		} break;
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Type_11;
}
static VAL mw_mirth_type_Type_unify2ZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, VAL in_Type_4, VAL in_Type_5, VAL in_Type_6, VAL *out_ZPlusMirth_7, uint64_t *out_ZPlusGamma_8, VAL *out_Type_10) {
	VAL v11;
	uint64_t v12;
	VAL v13 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, in_Type_5, &v11, &v12);
	VAL v14;
	uint64_t v15;
	VAL v16 = mw_mirth_type_Type_unifyZBang(v11, v12, in_Type_4, in_Type_6, &v14, &v15);
	*out_Type_10 = v16;
	*out_ZPlusGamma_8 = v15;
	*out_ZPlusMirth_7 = v14;
	return v13;
}
static VAL mw_mirth_type_PrimType_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, int64_t in_PrimType_3, int64_t in_PrimType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	int64_t v8 = mw_mirth_type_PrimType_ZEqualZEqual(in_PrimType_3, in_PrimType_4);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_ZPlusGamma_10;
	VAL branch_Type_11;
	if (((bool)v8)) {
		VAL v12 = mtw_mirth_type_Type_TPrim(in_PrimType_3);
		branch_Type_11 = v12;
		branch_ZPlusGamma_10 = in_ZPlusGamma_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		VAL v13 = mtw_mirth_type_Type_TPrim(in_PrimType_3);
		VAL v14 = mtw_mirth_type_Type_TPrim(in_PrimType_4);
		VAL v15;
		uint64_t v16;
		VAL v17 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v13, v14, &v15, &v16);
		branch_Type_11 = v17;
		branch_ZPlusGamma_10 = v16;
		branch_ZPlusMirth_9 = v15;
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Type_11;
}
static VAL mw_mirth_data_Data_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Data_3, uint64_t in_Data_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	int64_t v8 = mw_mirth_data_Data_ZEqualZEqual(in_Data_3, in_Data_4);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_ZPlusGamma_10;
	VAL branch_Type_11;
	if (((bool)v8)) {
		VAL v12 = mtw_mirth_type_Type_TData(in_Data_3);
		branch_Type_11 = v12;
		branch_ZPlusGamma_10 = in_ZPlusGamma_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		VAL v13 = mtw_mirth_type_Type_TData(in_Data_3);
		VAL v14 = mtw_mirth_type_Type_TData(in_Data_4);
		VAL v15;
		uint64_t v16;
		VAL v17 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v13, v14, &v15, &v16);
		branch_Type_11 = v17;
		branch_ZPlusGamma_10 = v16;
		branch_ZPlusMirth_9 = v15;
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Type_11;
}
static VAL mw_mirth_data_DataPartial_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_DataPartial_3, VAL in_DataPartial_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	incref(in_DataPartial_3);
	incref(in_DataPartial_4);
	int64_t v8 = mw_mirth_data_DataPartial_ZEqualZEqual(in_DataPartial_3, in_DataPartial_4);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_ZPlusGamma_10;
	VAL branch_Type_11;
	if (((bool)v8)) {
		decref(in_DataPartial_4);
		VAL v12 = mtw_mirth_type_Type_TDataPartial(in_DataPartial_3);
		branch_Type_11 = v12;
		branch_ZPlusGamma_10 = in_ZPlusGamma_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		VAL v13 = mtw_mirth_type_Type_TDataPartial(in_DataPartial_3);
		VAL v14 = mtw_mirth_type_Type_TDataPartial(in_DataPartial_4);
		VAL v15;
		uint64_t v16;
		VAL v17 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v13, v14, &v15, &v16);
		branch_Type_11 = v17;
		branch_ZPlusGamma_10 = v16;
		branch_ZPlusMirth_9 = v15;
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Type_11;
}
static VAL mw_mirth_table_Table_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_Table_3, uint64_t in_Table_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	int64_t v8 = mw_mirth_table_Table_ZEqualZEqual(in_Table_3, in_Table_4);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_ZPlusGamma_10;
	VAL branch_Type_11;
	if (((bool)v8)) {
		VAL v12 = mtw_mirth_type_Type_TTable(in_Table_3);
		branch_Type_11 = v12;
		branch_ZPlusGamma_10 = in_ZPlusGamma_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		VAL v13 = mtw_mirth_type_Type_TTable(in_Table_3);
		VAL v14 = mtw_mirth_type_Type_TTable(in_Table_4);
		VAL v15;
		uint64_t v16;
		VAL v17 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v13, v14, &v15, &v16);
		branch_Type_11 = v17;
		branch_ZPlusGamma_10 = v16;
		branch_ZPlusMirth_9 = v15;
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Type_11;
}
static int64_t mw_mirth_type_Type_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_Type_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_Type_2)) {
		case 3LL: { // TMeta
			uint64_t v5 = mtp_mirth_type_Type_TMeta(in_Type_2);
			int64_t v6 = mw_mirth_type_MetaVar_hasZ_metaZAsk(in_MetaVar_1, v5);
			branch_Bool_4 = v6;
		} break;
		case 0LL: { // TYPE_ERROR
			int64_t v7 = 0LL /* False */;
			branch_Bool_4 = v7;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			int64_t v8 = 0LL /* False */;
			branch_Bool_4 = v8;
		} break;
		case 2LL: { // TPrim
			int64_t v9 = mtp_mirth_type_Type_TPrim(in_Type_2);
			int64_t v10 = 0LL /* False */;
			branch_Bool_4 = v10;
		} break;
		case 5LL: { // TVar
			uint64_t v11 = mtp_mirth_type_Type_TVar(in_Type_2);
			int64_t v12 = 0LL /* False */;
			branch_Bool_4 = v12;
		} break;
		case 4LL: { // THole
			uint64_t v13 = mtp_mirth_type_Type_THole(in_Type_2);
			int64_t v14 = 0LL /* False */;
			branch_Bool_4 = v14;
		} break;
		case 9LL: { // TTensor
			VAL v15 = mtp_mirth_type_Type_TTensor(in_Type_2);
			int64_t v16 = mw_mirth_type_StackType_hasZ_metaZAsk(in_MetaVar_1, v15);
			branch_Bool_4 = v16;
		} break;
		case 10LL: { // TMorphism
			VAL v17 = mtp_mirth_type_Type_TMorphism(in_Type_2);
			int64_t v18 = mw_mirth_type_ArrowType_hasZ_metaZAsk(in_MetaVar_1, v17);
			branch_Bool_4 = v18;
		} break;
		case 11LL: { // TApp
			VAL v19;
			VAL v20 = mtp_mirth_type_Type_TApp(in_Type_2, &v19);
			int64_t v21 = mw_mirth_type_Type_hasZ_meta2ZAsk(in_MetaVar_1, v20, v19);
			branch_Bool_4 = v21;
		} break;
		case 7LL: { // TData
			uint64_t v22 = mtp_mirth_type_Type_TData(in_Type_2);
			int64_t v23 = 0LL /* False */;
			branch_Bool_4 = v23;
		} break;
		case 8LL: { // TDataPartial
			VAL v24 = mtp_mirth_type_Type_TDataPartial(in_Type_2);
			decref(v24);
			int64_t v25 = 0LL /* False */;
			branch_Bool_4 = v25;
		} break;
		case 6LL: { // TTable
			uint64_t v26 = mtp_mirth_type_Type_TTable(in_Type_2);
			int64_t v27 = 0LL /* False */;
			branch_Bool_4 = v27;
		} break;
		case 13LL: { // TValue
			VAL v28 = mtp_mirth_type_Type_TValue(in_Type_2);
			int64_t v29 = mw_mirth_type_Value_hasZ_metaZAsk(in_MetaVar_1, v28);
			branch_Bool_4 = v29;
		} break;
		case 12LL: { // TMut
			VAL v30 = mtp_mirth_type_Type_TMut(in_Type_2);
			int64_t v31 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_1, v30);
			branch_Bool_4 = v31;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_type_Type_hasZ_meta2ZAsk (uint64_t in_MetaVar_1, VAL in_Type_2, VAL in_Type_3) {
	int64_t v5 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_1, in_Type_3);
	int64_t branch_Bool_6;
	if (((bool)v5)) {
		decref(in_Type_2);
		int64_t v7 = 1LL /* True */;
		branch_Bool_6 = v7;
	} else {
		int64_t v8 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_1, in_Type_2);
		branch_Bool_6 = v8;
	}
	return branch_Bool_6;
}
static int64_t mw_mirth_type_Value_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_Value_2) {
	VAL v4 = mw_mirth_type_Value_type(in_Value_2);
	int64_t v5 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_1, v4);
	return v5;
}
static int64_t mw_mirth_type_Type_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Type_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_Type_2)) {
		case 0LL: { // TYPE_ERROR
			int64_t v5 = 1LL /* True */;
			branch_Bool_4 = v5;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			int64_t v6 = 1LL /* True */;
			branch_Bool_4 = v6;
		} break;
		case 5LL: { // TVar
			uint64_t v7 = mtp_mirth_type_Type_TVar(in_Type_2);
			int64_t v8 = mw_mirth_var_Var_index(in_Var_1);
			int64_t v9 = mw_mirth_var_Var_index(v7);
			bool v10 = (v8 == v9);
			branch_Bool_4 = ((int64_t)v10);
		} break;
		case 3LL: { // TMeta
			uint64_t v11 = mtp_mirth_type_Type_TMeta(in_Type_2);
			int64_t v12 = mw_mirth_type_MetaVar_hasZ_varZAsk(in_Var_1, v11);
			branch_Bool_4 = v12;
		} break;
		case 2LL: { // TPrim
			int64_t v13 = mtp_mirth_type_Type_TPrim(in_Type_2);
			int64_t v14 = 0LL /* False */;
			branch_Bool_4 = v14;
		} break;
		case 4LL: { // THole
			uint64_t v15 = mtp_mirth_type_Type_THole(in_Type_2);
			int64_t v16 = 0LL /* False */;
			branch_Bool_4 = v16;
		} break;
		case 9LL: { // TTensor
			VAL v17 = mtp_mirth_type_Type_TTensor(in_Type_2);
			int64_t v18 = mw_mirth_type_StackType_hasZ_varZAsk(in_Var_1, v17);
			branch_Bool_4 = v18;
		} break;
		case 10LL: { // TMorphism
			VAL v19 = mtp_mirth_type_Type_TMorphism(in_Type_2);
			int64_t v20 = mw_mirth_type_ArrowType_hasZ_varZAsk(in_Var_1, v19);
			branch_Bool_4 = v20;
		} break;
		case 11LL: { // TApp
			VAL v21;
			VAL v22 = mtp_mirth_type_Type_TApp(in_Type_2, &v21);
			int64_t v23 = mw_mirth_type_Type_hasZ_var2ZAsk(in_Var_1, v22, v21);
			branch_Bool_4 = v23;
		} break;
		case 7LL: { // TData
			uint64_t v24 = mtp_mirth_type_Type_TData(in_Type_2);
			int64_t v25 = 0LL /* False */;
			branch_Bool_4 = v25;
		} break;
		case 8LL: { // TDataPartial
			VAL v26 = mtp_mirth_type_Type_TDataPartial(in_Type_2);
			decref(v26);
			int64_t v27 = 0LL /* False */;
			branch_Bool_4 = v27;
		} break;
		case 6LL: { // TTable
			uint64_t v28 = mtp_mirth_type_Type_TTable(in_Type_2);
			int64_t v29 = 0LL /* False */;
			branch_Bool_4 = v29;
		} break;
		case 13LL: { // TValue
			VAL v30 = mtp_mirth_type_Type_TValue(in_Type_2);
			int64_t v31 = mw_mirth_type_Value_hasZ_varZAsk(in_Var_1, v30);
			branch_Bool_4 = v31;
		} break;
		case 12LL: { // TMut
			VAL v32 = mtp_mirth_type_Type_TMut(in_Type_2);
			int64_t v33 = mw_mirth_type_Type_hasZ_varZAsk(in_Var_1, v32);
			branch_Bool_4 = v33;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_type_Type_hasZ_var2ZAsk (uint64_t in_Var_1, VAL in_Type_2, VAL in_Type_3) {
	int64_t v5 = mw_mirth_type_Type_hasZ_varZAsk(in_Var_1, in_Type_3);
	int64_t branch_Bool_6;
	if (((bool)v5)) {
		decref(in_Type_2);
		int64_t v7 = 1LL /* True */;
		branch_Bool_6 = v7;
	} else {
		int64_t v8 = mw_mirth_type_Type_hasZ_varZAsk(in_Var_1, in_Type_2);
		branch_Bool_6 = v8;
	}
	return branch_Bool_6;
}
static int64_t mw_mirth_type_Value_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Value_2) {
	VAL v4 = mw_mirth_type_Value_type(in_Value_2);
	int64_t v5 = mw_mirth_type_Type_hasZ_varZAsk(in_Var_1, v4);
	return v5;
}
static void mw_mirth_type_Type_typeZThen (VAL in_Type_1, VAL in_ZPlusStr_2, VAL *out_ZPlusStr_3) {
	VAL branch_ZPlusStr_4;
	switch (get_data_tag(in_Type_1)) {
		case 0LL: { // TYPE_ERROR
			STR* v5;
			STRLIT(v5, "<ERROR>", 7);
			VAL v6;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v5), in_ZPlusStr_2, &v6);
			branch_ZPlusStr_4 = v6;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			STR* v7;
			STRLIT(v7, "_", 1);
			VAL v8;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v7), in_ZPlusStr_2, &v8);
			branch_ZPlusStr_4 = v8;
		} break;
		case 2LL: { // TPrim
			int64_t v9 = mtp_mirth_type_Type_TPrim(in_Type_1);
			VAL v10;
			mw_mirth_type_PrimType_typeZThen(in_ZPlusStr_2, v9, &v10);
			branch_ZPlusStr_4 = v10;
		} break;
		case 5LL: { // TVar
			uint64_t v11 = mtp_mirth_type_Type_TVar(in_Type_1);
			VAL v12;
			mw_mirth_var_Var_typeZThen(in_ZPlusStr_2, v11, &v12);
			branch_ZPlusStr_4 = v12;
		} break;
		case 3LL: { // TMeta
			uint64_t v13 = mtp_mirth_type_Type_TMeta(in_Type_1);
			VAL v14;
			mw_mirth_type_MetaVar_typeZThen(in_ZPlusStr_2, v13, &v14);
			branch_ZPlusStr_4 = v14;
		} break;
		case 9LL: { // TTensor
			VAL v15 = mtp_mirth_type_Type_TTensor(in_Type_1);
			STR* v16;
			STRLIT(v16, "[", 1);
			VAL v17;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v16), in_ZPlusStr_2, &v17);
			VAL v18;
			mw_mirth_type_StackType_stackZThen(v17, v15, &v18);
			STR* v19;
			STRLIT(v19, "]", 1);
			VAL v20;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v19), v18, &v20);
			branch_ZPlusStr_4 = v20;
		} break;
		case 10LL: { // TMorphism
			VAL v21 = mtp_mirth_type_Type_TMorphism(in_Type_1);
			STR* v22;
			STRLIT(v22, "[", 1);
			VAL v23;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v22), in_ZPlusStr_2, &v23);
			VAL v24;
			mw_mirth_type_ArrowType_sigZThen(v23, v21, &v24);
			STR* v25;
			STRLIT(v25, "]", 1);
			VAL v26;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v25), v24, &v26);
			branch_ZPlusStr_4 = v26;
		} break;
		case 7LL: { // TData
			uint64_t v27 = mtp_mirth_type_Type_TData(in_Type_1);
			uint64_t v28 = mw_mirth_data_Data_name(v27);
			VAL v29 = mw_mirth_name_Name_ZToStr(v28);
			VAL v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(v29, in_ZPlusStr_2, &v30);
			branch_ZPlusStr_4 = v30;
		} break;
		case 8LL: { // TDataPartial
			VAL v31 = mtp_mirth_type_Type_TDataPartial(in_Type_1);
			incref(v31);
			uint64_t v32 = value_u64(VTUP(v31)->cells[1]);
			decref(v31);
			uint64_t v33 = mw_mirth_data_Data_name(v32);
			VAL v34 = mw_mirth_name_Name_ZToStr(v33);
			VAL v35;
			mw_std_str_ZPlusStr_pushZ_strZBang(v34, in_ZPlusStr_2, &v35);
			STR* v36;
			STRLIT(v36, "/", 1);
			VAL v37;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v36), v35, &v37);
			uint64_t v38 = value_u64(VTUP(v31)->cells[2]);
			decref(v31);
			uint64_t v39 = mw_mirth_label_Label_name(v38);
			VAL v40 = mw_mirth_name_Name_ZToStr(v39);
			VAL v41;
			mw_std_str_ZPlusStr_pushZ_strZBang(v40, v37, &v41);
			branch_ZPlusStr_4 = v41;
		} break;
		case 6LL: { // TTable
			uint64_t v42 = mtp_mirth_type_Type_TTable(in_Type_1);
			uint64_t v43 = mw_mirth_table_Table_name(v42);
			VAL v44 = mw_mirth_name_Name_ZToStr(v43);
			VAL v45;
			mw_std_str_ZPlusStr_pushZ_strZBang(v44, in_ZPlusStr_2, &v45);
			branch_ZPlusStr_4 = v45;
		} break;
		case 4LL: { // THole
			uint64_t v46 = mtp_mirth_type_Type_THole(in_Type_1);
			VAL v47 = mw_mirth_name_Name_ZToStr(v46);
			VAL v48;
			mw_std_str_ZPlusStr_pushZ_strZBang(v47, in_ZPlusStr_2, &v48);
			branch_ZPlusStr_4 = v48;
		} break;
		case 11LL: { // TApp
			VAL v49;
			VAL v50 = mtp_mirth_type_Type_TApp(in_Type_1, &v49);
			VAL v51;
			mw_mirth_type_Type_appZ_typeZThenZThen(in_ZPlusStr_2, v50, v49, &v51);
			branch_ZPlusStr_4 = v51;
		} break;
		case 13LL: { // TValue
			VAL v52 = mtp_mirth_type_Type_TValue(in_Type_1);
			VAL v53 = mw_mirth_type_Value_type(v52);
			VAL v54;
			mw_mirth_type_Type_typeZThen(v53, in_ZPlusStr_2, &v54);
			branch_ZPlusStr_4 = v54;
		} break;
		case 12LL: { // TMut
			VAL v55 = mtp_mirth_type_Type_TMut(in_Type_1);
			STR* v56;
			STRLIT(v56, "Mut(", 4);
			VAL v57;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v56), in_ZPlusStr_2, &v57);
			VAL v58;
			mw_mirth_type_Type_typeZThen(v55, v57, &v58);
			STR* v59;
			STRLIT(v59, ")", 1);
			VAL v60;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v59), v58, &v60);
			branch_ZPlusStr_4 = v60;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_4;
}
static VAL mw_mirth_type_Value_type (VAL in_Value_1) {
	VAL branch_Type_3;
	switch (get_data_tag(in_Value_1)) {
		case 0LL: { // VALUE_INT
			int64_t v4 = mtp_mirth_type_Value_VALUEz_INT(in_Value_1);
			int64_t v5 = 3LL /* PRIM_TYPE_INT */;
			VAL v6 = mtw_mirth_type_Type_TPrim(v5);
			branch_Type_3 = v6;
		} break;
		case 1LL: { // VALUE_F64
			double v7 = mtp_mirth_type_Value_VALUEz_F64(in_Value_1);
			int64_t v8 = 5LL /* PRIM_TYPE_F64 */;
			VAL v9 = mtw_mirth_type_Type_TPrim(v8);
			branch_Type_3 = v9;
		} break;
		case 2LL: { // VALUE_STR
			VAL v10 = mtp_mirth_type_Value_VALUEz_STR(in_Value_1);
			decref(v10);
			int64_t v11 = 7LL /* PRIM_TYPE_STR */;
			VAL v12 = mtw_mirth_type_Type_TPrim(v11);
			branch_Type_3 = v12;
		} break;
		case 3LL: { // VALUE_BLOCK
			uint64_t v13 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_1);
			VAL v14 = mw_mirth_arrow_Block_type(v13);
			VAL v15 = mw_mirth_type_ArrowType_ZToType(v14);
			branch_Type_3 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Type_3;
}
static void mw_mirth_type_PrimType_typeZThen (VAL in_ZPlusStr_1, int64_t in_PrimType_2, VAL *out_ZPlusStr_3) {
	VAL branch_ZPlusStr_4;
	VAL branch__5;
	switch (in_PrimType_2) {
		case 0LL: { // PRIM_TYPE_TYPE
			STR* v6;
			STRLIT(v6, "<TYPE>", 6);
			branch__5 = MKSTR(v6);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		case 1LL: { // PRIM_TYPE_STACK
			STR* v7;
			STRLIT(v7, "<STACK>", 7);
			branch__5 = MKSTR(v7);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		case 2LL: { // PRIM_TYPE_RESOURCE
			STR* v8;
			STRLIT(v8, "<Resource>", 10);
			branch__5 = MKSTR(v8);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		case 3LL: { // PRIM_TYPE_INT
			STR* v9;
			STRLIT(v9, "Int", 3);
			branch__5 = MKSTR(v9);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		case 4LL: { // PRIM_TYPE_F32
			STR* v10;
			STRLIT(v10, "F32", 3);
			branch__5 = MKSTR(v10);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		case 5LL: { // PRIM_TYPE_F64
			STR* v11;
			STRLIT(v11, "F64", 3);
			branch__5 = MKSTR(v11);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		case 6LL: { // PRIM_TYPE_PTR
			STR* v12;
			STRLIT(v12, "Ptr", 3);
			branch__5 = MKSTR(v12);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		case 7LL: { // PRIM_TYPE_STR
			STR* v13;
			STRLIT(v13, "Str", 3);
			branch__5 = MKSTR(v13);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		case 8LL: { // PRIM_TYPE_WORLD
			STR* v14;
			STRLIT(v14, "+World", 6);
			branch__5 = MKSTR(v14);
			branch_ZPlusStr_4 = in_ZPlusStr_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(branch__5, branch_ZPlusStr_4, &v15);
	*out_ZPlusStr_3 = v15;
}
static VAL mw_mirth_type_Type_freshen (VAL in_Subst_1, VAL in_Type_2, VAL *out_Type_4) {
	VAL branch_Subst_5;
	VAL branch_Type_6;
	switch (get_data_tag(in_Type_2)) {
		case 0LL: { // TYPE_ERROR
			VAL v7 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_6 = v7;
			branch_Subst_5 = in_Subst_1;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			VAL v8 = MKI64(1LL /* TYPE_DONT_CARE */);
			branch_Type_6 = v8;
			branch_Subst_5 = in_Subst_1;
		} break;
		case 2LL: { // TPrim
			int64_t v9 = mtp_mirth_type_Type_TPrim(in_Type_2);
			VAL v10 = mtw_mirth_type_Type_TPrim(v9);
			branch_Type_6 = v10;
			branch_Subst_5 = in_Subst_1;
		} break;
		case 4LL: { // THole
			uint64_t v11 = mtp_mirth_type_Type_THole(in_Type_2);
			VAL v12 = mtw_mirth_type_Type_THole(v11);
			branch_Type_6 = v12;
			branch_Subst_5 = in_Subst_1;
		} break;
		case 7LL: { // TData
			uint64_t v13 = mtp_mirth_type_Type_TData(in_Type_2);
			VAL v14 = mtw_mirth_type_Type_TData(v13);
			branch_Type_6 = v14;
			branch_Subst_5 = in_Subst_1;
		} break;
		case 8LL: { // TDataPartial
			VAL v15 = mtp_mirth_type_Type_TDataPartial(in_Type_2);
			VAL v16 = mtw_mirth_type_Type_TDataPartial(v15);
			branch_Type_6 = v16;
			branch_Subst_5 = in_Subst_1;
		} break;
		case 6LL: { // TTable
			uint64_t v17 = mtp_mirth_type_Type_TTable(in_Type_2);
			VAL v18 = mtw_mirth_type_Type_TTable(v17);
			branch_Type_6 = v18;
			branch_Subst_5 = in_Subst_1;
		} break;
		case 13LL: { // TValue
			VAL v19 = mtp_mirth_type_Type_TValue(in_Type_2);
			VAL v20 = mtw_mirth_type_Type_TValue(v19);
			branch_Type_6 = v20;
			branch_Subst_5 = in_Subst_1;
		} break;
		case 5LL: { // TVar
			uint64_t v21 = mtp_mirth_type_Type_TVar(in_Type_2);
			VAL v22;
			VAL v23 = mw_mirth_var_Var_freshen(in_Subst_1, v21, &v22);
			branch_Type_6 = v22;
			branch_Subst_5 = v23;
		} break;
		case 3LL: { // TMeta
			uint64_t v24 = mtp_mirth_type_Type_TMeta(in_Type_2);
			VAL v25;
			VAL v26 = mw_mirth_type_MetaVar_freshen(in_Subst_1, v24, &v25);
			branch_Type_6 = v25;
			branch_Subst_5 = v26;
		} break;
		case 9LL: { // TTensor
			VAL v27 = mtp_mirth_type_Type_TTensor(in_Type_2);
			VAL v28;
			VAL v29 = mw_mirth_type_StackType_freshen(in_Subst_1, v27, &v28);
			VAL v30 = mtw_mirth_type_Type_TTensor(v28);
			branch_Type_6 = v30;
			branch_Subst_5 = v29;
		} break;
		case 10LL: { // TMorphism
			VAL v31 = mtp_mirth_type_Type_TMorphism(in_Type_2);
			VAL v32;
			VAL v33 = mw_mirth_type_ArrowType_freshen(in_Subst_1, v31, &v32);
			VAL v34 = mtw_mirth_type_Type_TMorphism(v32);
			branch_Type_6 = v34;
			branch_Subst_5 = v33;
		} break;
		case 11LL: { // TApp
			VAL v35;
			VAL v36 = mtp_mirth_type_Type_TApp(in_Type_2, &v35);
			VAL v37;
			VAL v38;
			VAL v39 = mw_mirth_type_Type_freshen2(in_Subst_1, v36, v35, &v37, &v38);
			VAL v40 = mtw_mirth_type_Type_TApp(v37, v38);
			branch_Type_6 = v40;
			branch_Subst_5 = v39;
		} break;
		case 12LL: { // TMut
			VAL v41 = mtp_mirth_type_Type_TMut(in_Type_2);
			VAL v42;
			VAL v43 = mw_mirth_type_Type_freshen(in_Subst_1, v41, &v42);
			VAL v44 = mtw_mirth_type_Type_TMut(v42);
			branch_Type_6 = v44;
			branch_Subst_5 = v43;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_4 = branch_Type_6;
	return branch_Subst_5;
}
static VAL mw_mirth_type_Type_freshen2 (VAL in_Subst_1, VAL in_Type_2, VAL in_Type_3, VAL *out_Type_5, VAL *out_Type_6) {
	VAL v7;
	VAL v8 = mw_mirth_type_Type_freshen(in_Subst_1, in_Type_2, &v7);
	VAL v9;
	VAL v10 = mw_mirth_type_Type_freshen(v8, in_Type_3, &v9);
	*out_Type_6 = v9;
	*out_Type_5 = v7;
	return v10;
}
static VAL mw_mirth_type_Type_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Type_3, VAL *out_ZPlusMirth_4, VAL *out_Type_6) {
	VAL branch_ZPlusMirth_7;
	VAL branch_Ctx_8;
	VAL branch_Type_9;
	switch (get_data_tag(in_Type_3)) {
		case 3LL: { // TMeta
			uint64_t v10 = mtp_mirth_type_Type_TMeta(in_Type_3);
			VAL v11 = mw_mirth_type_MetaVar_typeZAsk(v10);
			VAL branch_Ctx_12;
			VAL branch_Type_13;
			switch (get_data_tag(v11)) {
				case 0LL: { // None
					uint64_t v14;
					VAL v15 = mw_mirth_var_Ctx_freshZ_typeZ_varZBang(in_Ctx_2, &v14);
					VAL v16 = mtw_mirth_type_Type_TVar(v14);
					incref(v16);
					VAL v17 = mtw_std_maybe_Maybe_1_Some(v16);
					void* v18 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v10);
					mut_set(v17, v18);
					branch_Type_13 = v16;
					branch_Ctx_12 = v15;
				} break;
				case 1LL: { // Some
					VAL v19 = mtp_std_maybe_Maybe_1_Some(v11);
					branch_Type_13 = v19;
					branch_Ctx_12 = in_Ctx_2;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v20;
			VAL v21;
			VAL v22 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, branch_Ctx_12, branch_Type_13, &v20, &v21);
			branch_Type_9 = v21;
			branch_Ctx_8 = v22;
			branch_ZPlusMirth_7 = v20;
		} break;
		case 0LL: { // TYPE_ERROR
			VAL v23 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_9 = v23;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			VAL v24 = MKI64(1LL /* TYPE_DONT_CARE */);
			branch_Type_9 = v24;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // TPrim
			int64_t v25 = mtp_mirth_type_Type_TPrim(in_Type_3);
			VAL v26 = mtw_mirth_type_Type_TPrim(v25);
			branch_Type_9 = v26;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // THole
			uint64_t v27 = mtp_mirth_type_Type_THole(in_Type_3);
			VAL v28 = mtw_mirth_type_Type_THole(v27);
			branch_Type_9 = v28;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // TVar
			uint64_t v29 = mtp_mirth_type_Type_TVar(in_Type_3);
			VAL v30 = mtw_mirth_type_Type_TVar(v29);
			branch_Type_9 = v30;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // TTable
			uint64_t v31 = mtp_mirth_type_Type_TTable(in_Type_3);
			VAL v32 = mtw_mirth_type_Type_TTable(v31);
			branch_Type_9 = v32;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // TData
			uint64_t v33 = mtp_mirth_type_Type_TData(in_Type_3);
			VAL v34 = mtw_mirth_type_Type_TData(v33);
			branch_Type_9 = v34;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // TDataPartial
			VAL v35 = mtp_mirth_type_Type_TDataPartial(in_Type_3);
			VAL v36 = mtw_mirth_type_Type_TDataPartial(v35);
			branch_Type_9 = v36;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // TApp
			VAL v37;
			VAL v38 = mtp_mirth_type_Type_TApp(in_Type_3, &v37);
			VAL v39;
			VAL v40;
			VAL v41 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v38, &v39, &v40);
			VAL v42;
			VAL v43;
			VAL v44 = mw_mirth_type_Type_rigidifyZBang(v39, v41, v37, &v42, &v43);
			VAL v45 = mtw_mirth_type_Type_TApp(v40, v43);
			branch_Type_9 = v45;
			branch_Ctx_8 = v44;
			branch_ZPlusMirth_7 = v42;
		} break;
		case 9LL: { // TTensor
			VAL v46 = mtp_mirth_type_Type_TTensor(in_Type_3);
			VAL v47;
			VAL v48;
			VAL v49 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v46, &v47, &v48);
			VAL v50 = mtw_mirth_type_Type_TTensor(v48);
			branch_Type_9 = v50;
			branch_Ctx_8 = v49;
			branch_ZPlusMirth_7 = v47;
		} break;
		case 10LL: { // TMorphism
			VAL v51 = mtp_mirth_type_Type_TMorphism(in_Type_3);
			VAL v52;
			VAL v53;
			VAL v54 = mw_mirth_type_ArrowType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v51, &v52, &v53);
			VAL v55 = mtw_mirth_type_Type_TMorphism(v53);
			branch_Type_9 = v55;
			branch_Ctx_8 = v54;
			branch_ZPlusMirth_7 = v52;
		} break;
		case 13LL: { // TValue
			VAL v56 = mtp_mirth_type_Type_TValue(in_Type_3);
			VAL v57;
			VAL v58;
			VAL v59 = mw_mirth_type_Value_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v56, &v57, &v58);
			branch_Type_9 = v58;
			branch_Ctx_8 = v59;
			branch_ZPlusMirth_7 = v57;
		} break;
		case 12LL: { // TMut
			VAL v60 = mtp_mirth_type_Type_TMut(in_Type_3);
			VAL v61;
			VAL v62;
			VAL v63 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v60, &v61, &v62);
			VAL v64 = mtw_mirth_type_Type_TMut(v62);
			branch_Type_9 = v64;
			branch_Ctx_8 = v63;
			branch_ZPlusMirth_7 = v61;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static VAL mw_mirth_type_Value_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Value_3, VAL *out_ZPlusMirth_4, VAL *out_Type_6) {
	VAL branch_ZPlusMirth_7;
	VAL branch_Ctx_8;
	VAL branch_Type_9;
	switch (get_data_tag(in_Value_3)) {
		case 0LL: { // VALUE_INT
			int64_t v10 = mtp_mirth_type_Value_VALUEz_INT(in_Value_3);
			VAL v11 = mtw_mirth_type_Value_VALUEz_INT(v10);
			VAL v12 = mtw_mirth_type_Type_TValue(v11);
			branch_Type_9 = v12;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // VALUE_STR
			VAL v13 = mtp_mirth_type_Value_VALUEz_STR(in_Value_3);
			VAL v14 = mtw_mirth_type_Value_VALUEz_STR(v13);
			VAL v15 = mtw_mirth_type_Type_TValue(v14);
			branch_Type_9 = v15;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // VALUE_F64
			double v16 = mtp_mirth_type_Value_VALUEz_F64(in_Value_3);
			VAL v17 = mtw_mirth_type_Value_VALUEz_F64(v16);
			VAL v18 = mtw_mirth_type_Type_TValue(v17);
			branch_Type_9 = v18;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // VALUE_BLOCK
			uint64_t v19 = mtp_mirth_type_Value_VALUEz_BLOCK(in_Value_3);
			VAL v20;
			VAL v21 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v19, &v20);
			VAL v22 = mw_mirth_arrow_Arrow_type(v21);
			VAL v23;
			VAL v24;
			VAL v25 = mw_mirth_type_ArrowType_rigidifyZBang(v20, in_Ctx_2, v22, &v23, &v24);
			VAL v26 = mw_mirth_type_ArrowType_ZToType(v24);
			branch_Type_9 = v26;
			branch_Ctx_8 = v25;
			branch_ZPlusMirth_7 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_6 = branch_Type_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static VAL mw_mirth_type_Type_exceptZ_field (uint64_t in_Label_1, uint64_t in_Tag_2, VAL in_Type_3) {
	VAL branch_Type_5;
	switch (get_data_tag(in_Type_3)) {
		case 3LL: { // TMeta
			uint64_t v6 = mtp_mirth_type_Type_TMeta(in_Type_3);
			VAL v7 = mw_mirth_type_MetaVar_typeZAsk(v6);
			VAL branch_Type_8;
			switch (get_data_tag(v7)) {
				case 0LL: { // None
					STR* v9;
					STRLIT(v9, "Type.except-field on metavar", 28);
					do_panic(v9);
				} break;
				case 1LL: { // Some
					VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
					VAL v12 = mw_mirth_type_Type_expand(v11);
					incref(v12);
					VAL v13 = mtw_std_maybe_Maybe_1_Some(v12);
					void* v14 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v6);
					mut_set(v13, v14);
					VAL v15 = mw_mirth_type_Type_exceptZ_field(in_Label_1, in_Tag_2, v12);
					branch_Type_8 = v15;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Type_5 = branch_Type_8;
		} break;
		case 7LL: { // TData
			uint64_t v16 = mtp_mirth_type_Type_TData(in_Type_3);
			VAL v17 = mtw_mirth_data_DataPartial_DataPartial(v16, in_Label_1);
			VAL v18 = mtw_mirth_type_Type_TDataPartial(v17);
			branch_Type_5 = v18;
		} break;
		case 11LL: { // TApp
			VAL v19;
			VAL v20 = mtp_mirth_type_Type_TApp(in_Type_3, &v19);
			VAL v21 = mw_mirth_type_Type_exceptZ_field(in_Label_1, in_Tag_2, v20);
			VAL v22 = mtw_mirth_type_Type_TApp(v21, v19);
			branch_Type_5 = v22;
		} break;
		default: {
			STR* v23;
			STRLIT(v23, "Type.except-field on unexpected type", 36);
			do_panic(v23);
		} break;
	}
	return branch_Type_5;
}
static int64_t mw_mirth_type_MetaVar_index (uint64_t in_MetaVar_1) {
	return ((int64_t)in_MetaVar_1);
}
static uint64_t mw_mirth_type_MetaVar_allocZBang (void) {
	void* v2 = mbuf_mirth_type_MetaVar_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_type_MetaVar_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_type_MetaVar_typeZAsk (uint64_t in_MetaVar_1) {
	void* v3 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(in_MetaVar_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static int64_t mw_mirth_type_MetaVar_hasZ_metaZAsk (uint64_t in_MetaVar_1, uint64_t in_MetaVar_2) {
	VAL v4 = mw_mirth_type_MetaVar_typeZAsk(in_MetaVar_2);
	int64_t branch_Bool_5;
	switch (get_data_tag(v4)) {
		case 0LL: { // None
			int64_t v6 = mw_mirth_type_MetaVar_ZEqualZEqual(in_MetaVar_1, in_MetaVar_2);
			branch_Bool_5 = v6;
		} break;
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v4);
			int64_t v8 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_1, v7);
			branch_Bool_5 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_5;
}
static int64_t mw_mirth_type_MetaVar_hasZ_varZAsk (uint64_t in_Var_1, uint64_t in_MetaVar_2) {
	VAL v4 = mw_mirth_type_MetaVar_typeZAsk(in_MetaVar_2);
	int64_t branch_Bool_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			int64_t v7 = mw_mirth_type_Type_hasZ_varZAsk(in_Var_1, v6);
			branch_Bool_5 = v7;
		} break;
		case 0LL: { // None
			int64_t v8 = 0LL /* False */;
			branch_Bool_5 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_5;
}
static void mw_mirth_type_MetaVar_typeZThen (VAL in_ZPlusStr_1, uint64_t in_MetaVar_2, VAL *out_ZPlusStr_3) {
	VAL v4 = mw_mirth_type_MetaVar_typeZAsk(in_MetaVar_2);
	VAL branch_ZPlusStr_5;
	switch (get_data_tag(v4)) {
		case 0LL: { // None
			STR* v6;
			STRLIT(v6, "?", 1);
			VAL v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v6), in_ZPlusStr_1, &v7);
			int64_t v8 = mw_mirth_type_MetaVar_index(in_MetaVar_2);
			STR* v9 = i64_show(v8);
			VAL v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v9), v7, &v10);
			branch_ZPlusStr_5 = v10;
		} break;
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v4);
			VAL v12;
			mw_mirth_type_Type_typeZThen(v11, in_ZPlusStr_1, &v12);
			branch_ZPlusStr_5 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_5;
}
static uint64_t mw_mirth_type_MetaVar_newZBang (void) {
	uint64_t v2 = mw_mirth_type_MetaVar_allocZBang();
	VAL v3 = MKI64(0LL /* None */);
	void* v4 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v2);
	mut_set(v3, v4);
	return v2;
}
static VAL mw_mirth_type_MetaVar_expand (uint64_t in_MetaVar_1) {
	VAL v3 = mw_mirth_type_MetaVar_typeZAsk(in_MetaVar_1);
	VAL branch_Type_4;
	switch (get_data_tag(v3)) {
		case 0LL: { // None
			VAL v5 = mtw_mirth_type_Type_TMeta(in_MetaVar_1);
			branch_Type_4 = v5;
		} break;
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v7 = mw_mirth_type_Type_expand(v6);
			incref(v7);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(v7);
			void* v9 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(in_MetaVar_1);
			mut_set(v8, v9);
			branch_Type_4 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Type_4;
}
static VAL mw_mirth_type_MetaVar_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, uint64_t in_MetaVar_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL v8 = mw_mirth_type_MetaVar_typeZAsk(in_MetaVar_4);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_ZPlusGamma_10;
	VAL branch_Type_11;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v13;
			uint64_t v14;
			VAL v15 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, v12, &v13, &v14);
			branch_Type_11 = v15;
			branch_ZPlusGamma_10 = v14;
			branch_ZPlusMirth_9 = v13;
		} break;
		case 0LL: { // None
			incref(in_Type_3);
			int64_t v16 = mw_mirth_type_Type_metaZEqual(in_MetaVar_4, in_Type_3);
			VAL branch_ZPlusMirth_17;
			uint64_t branch_ZPlusGamma_18;
			VAL branch_Type_19;
			if (((bool)v16)) {
				branch_Type_19 = in_Type_3;
				branch_ZPlusGamma_18 = in_ZPlusGamma_2;
				branch_ZPlusMirth_17 = in_ZPlusMirth_1;
			} else {
				incref(in_Type_3);
				int64_t v20 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_4, in_Type_3);
				VAL branch_ZPlusMirth_21;
				uint64_t branch_ZPlusGamma_22;
				VAL branch_Type_23;
				if (((bool)v20)) {
					VAL v24 = mtw_mirth_type_Type_TMeta(in_MetaVar_4);
					VAL v25;
					uint64_t v26;
					VAL v27 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_Type_3, v24, &v25, &v26);
					branch_Type_23 = v27;
					branch_ZPlusGamma_22 = v26;
					branch_ZPlusMirth_21 = v25;
				} else {
					incref(in_Type_3);
					VAL v28 = mtw_std_maybe_Maybe_1_Some(in_Type_3);
					void* v29 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(in_MetaVar_4);
					mut_set(v28, v29);
					branch_Type_23 = in_Type_3;
					branch_ZPlusGamma_22 = in_ZPlusGamma_2;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				}
				branch_Type_19 = branch_Type_23;
				branch_ZPlusGamma_18 = branch_ZPlusGamma_22;
				branch_ZPlusMirth_17 = branch_ZPlusMirth_21;
			}
			branch_Type_11 = branch_Type_19;
			branch_ZPlusGamma_10 = branch_ZPlusGamma_18;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_Type_11;
}
static VAL mw_mirth_type_MetaVar_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, uint64_t in_MetaVar_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5) {
	VAL v7 = mw_mirth_type_MetaVar_typeZAsk(in_MetaVar_3);
	VAL branch_ZPlusMirth_8;
	uint64_t branch_ZPlusGamma_9;
	VAL branch_Type_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v12;
			uint64_t v13;
			VAL v14 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v11, &v12, &v13);
			branch_Type_10 = v14;
			branch_ZPlusGamma_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 0LL: { // None
			VAL v15 = MKI64(0LL /* TYPE_ERROR */);
			VAL v16 = mtw_std_maybe_Maybe_1_Some(v15);
			void* v17 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(in_MetaVar_3);
			mut_set(v16, v17);
			VAL v18 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_10 = v18;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusGamma_5 = branch_ZPlusGamma_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Type_10;
}
static int64_t mw_mirth_type_MetaVar_ZEqualZEqual (uint64_t in_MetaVar_1, uint64_t in_MetaVar_2) {
	int64_t v4 = mw_mirth_type_MetaVar_index(in_MetaVar_1);
	int64_t v5 = mw_mirth_type_MetaVar_index(in_MetaVar_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static VAL mw_mirth_type_MetaVar_freshen (VAL in_Subst_1, uint64_t in_MetaVar_2, VAL *out_Type_4) {
	VAL v5 = mw_mirth_type_MetaVar_typeZAsk(in_MetaVar_2);
	VAL branch_Subst_6;
	VAL branch_Type_7;
	switch (get_data_tag(v5)) {
		case 0LL: { // None
			uint64_t v8 = mw_mirth_type_MetaVar_newZBang();
			VAL v9 = mtw_mirth_type_Type_TMeta(v8);
			branch_Type_7 = v9;
			branch_Subst_6 = in_Subst_1;
		} break;
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v5);
			VAL v11 = mw_mirth_type_Type_expand(v10);
			incref(v11);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
			void* v13 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(in_MetaVar_2);
			mut_set(v12, v13);
			VAL v14;
			VAL v15 = mw_mirth_type_Type_freshen(in_Subst_1, v11, &v14);
			branch_Type_7 = v14;
			branch_Subst_6 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Type_4 = branch_Type_7;
	return branch_Subst_6;
}
static VAL mw_mirth_type_typeZ_holeZ_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Type_3, uint64_t in_Name_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	STR* v8;
	STRLIT(v8, "", 0);
	VAL v9 = mtw_mirth_type_Type_THole(in_Name_4);
	VAL v10;
	mw_mirth_type_Type_typeZThen(v9, MKSTR(v8), &v10);
	STR* v11;
	STRLIT(v11, " ~ ", 3);
	VAL v12;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v11), v10, &v12);
	incref(in_Type_3);
	VAL v13;
	mw_mirth_type_Type_typeZThen(in_Type_3, v12, &v13);
	STR* v14;
	STRLIT(v14, "\n", 1);
	VAL v15;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v14), v13, &v15);
	VAL v16;
	mw_mirth_mirth_ZPlusMirth_emitZ_infoZBang(in_ZPlusGamma_2, v15, in_ZPlusMirth_1, &v16);
	*out_ZPlusGamma_6 = in_ZPlusGamma_2;
	*out_ZPlusMirth_5 = v16;
	return in_Type_3;
}
static void mw_mirth_type_Type_appZ_typeZThenZThen (VAL in_ZPlusStr_1, VAL in_Type_2, VAL in_Type_3, VAL *out_ZPlusStr_4) {
	VAL v5;
	mw_mirth_type_Type_appZ_typeZ_openZThenZThen(in_ZPlusStr_1, in_Type_2, in_Type_3, &v5);
	STR* v6;
	STRLIT(v6, ")", 1);
	VAL v7;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v6), v5, &v7);
	*out_ZPlusStr_4 = v7;
}
static void mw_mirth_type_Type_appZ_typeZ_openZThenZThen (VAL in_ZPlusStr_1, VAL in_Type_2, VAL in_Type_3, VAL *out_ZPlusStr_4) {
	VAL v5 = mw_mirth_type_Type_expand(in_Type_2);
	VAL branch_ZPlusStr_6;
	switch (get_data_tag(v5)) {
		case 11LL: { // TApp
			VAL v7;
			VAL v8 = mtp_mirth_type_Type_TApp(v5, &v7);
			VAL v9;
			mw_mirth_type_Type_appZ_typeZ_openZThenZThen(in_ZPlusStr_1, v8, v7, &v9);
			STR* v10;
			STRLIT(v10, ", ", 2);
			VAL v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v10), v9, &v11);
			VAL v12;
			mw_mirth_type_Type_typeZThen(in_Type_3, v11, &v12);
			branch_ZPlusStr_6 = v12;
		} break;
		default: {
			VAL v13;
			mw_mirth_type_Type_typeZThen(v5, in_ZPlusStr_1, &v13);
			STR* v14;
			STRLIT(v14, "(", 1);
			VAL v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v14), v13, &v15);
			VAL v16;
			mw_mirth_type_Type_typeZThen(in_Type_3, v15, &v16);
			branch_ZPlusStr_6 = v16;
		} break;
	}
	*out_ZPlusStr_4 = branch_ZPlusStr_6;
}
static VAL mw_mirth_type_Resource_ZToType (VAL in_Resource_1) {
	return in_Resource_1;
}
static VAL mw_mirth_type_Type_ZToResource (VAL in_Type_1) {
	return in_Type_1;
}
static int64_t mw_mirth_type_Resource_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_Resource_2) {
	VAL v4 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	int64_t v5 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_1, v4);
	return v5;
}
static int64_t mw_mirth_type_Resource_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Resource_2) {
	VAL v4 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	int64_t v5 = mw_mirth_type_Type_hasZ_varZAsk(in_Var_1, v4);
	return v5;
}
static VAL mw_mirth_type_Resource_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Resource_3, VAL in_Resource_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL v8 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	VAL v9 = mw_mirth_type_Resource_ZToType(in_Resource_4);
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v8, v9, &v10, &v11);
	VAL v13 = mw_mirth_type_Type_ZToResource(v12);
	*out_ZPlusGamma_6 = v11;
	*out_ZPlusMirth_5 = v10;
	return v13;
}
static VAL mw_mirth_type_Resource_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_Resource_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5) {
	VAL v7 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_type_Type_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v7, &v8, &v9);
	VAL v11 = mw_mirth_type_Type_ZToResource(v10);
	*out_ZPlusGamma_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return v11;
}
static void mw_mirth_type_Resource_typeZThen (VAL in_ZPlusStr_1, VAL in_Resource_2, VAL *out_ZPlusStr_3) {
	VAL v4 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	VAL v5;
	mw_mirth_type_Type_typeZThen(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_3 = v5;
}
static VAL mw_mirth_type_Resource_freshen (VAL in_Subst_1, VAL in_Resource_2, VAL *out_Resource_4) {
	VAL v5 = mw_mirth_type_Resource_ZToType(in_Resource_2);
	VAL v6;
	VAL v7 = mw_mirth_type_Type_freshen(in_Subst_1, v5, &v6);
	VAL v8 = mw_mirth_type_Type_ZToResource(v6);
	*out_Resource_4 = v8;
	return v7;
}
static VAL mw_mirth_type_Resource_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_Resource_3, VAL *out_ZPlusMirth_4, VAL *out_Resource_6) {
	VAL v7 = mw_mirth_type_Resource_ZToType(in_Resource_3);
	VAL v8;
	VAL v9;
	VAL v10 = mw_mirth_type_Type_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v7, &v8, &v9);
	VAL v11 = mw_mirth_type_Type_ZToResource(v9);
	*out_Resource_6 = v11;
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_type_Resource_exceptZ_field (uint64_t in_Label_1, uint64_t in_Tag_2, VAL in_Resource_3) {
	VAL v5 = mw_mirth_type_Type_exceptZ_field(in_Label_1, in_Tag_2, in_Resource_3);
	return v5;
}
static VAL mw_mirth_type_Type_ZToStackType (VAL in_Type_1) {
	VAL branch_StackType_3;
	switch (get_data_tag(in_Type_1)) {
		case 0LL: { // TYPE_ERROR
			VAL v4 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_3 = v4;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			VAL v5 = MKI64(1LL /* STACK_TYPE_DONT_CARE */);
			branch_StackType_3 = v5;
		} break;
		case 5LL: { // TVar
			uint64_t v6 = mtp_mirth_type_Type_TVar(in_Type_1);
			VAL v7 = mtw_mirth_type_StackType_STVar(v6);
			branch_StackType_3 = v7;
		} break;
		case 3LL: { // TMeta
			uint64_t v8 = mtp_mirth_type_Type_TMeta(in_Type_1);
			VAL v9 = mtw_mirth_type_StackType_STMeta(v8);
			branch_StackType_3 = v9;
		} break;
		case 9LL: { // TTensor
			VAL v10 = mtp_mirth_type_Type_TTensor(in_Type_1);
			branch_StackType_3 = v10;
		} break;
		default: {
			STR* v11;
			STRLIT(v11, "kind error! expected stack type, got regular type.", 50);
			do_panic(v11);
		} break;
	}
	return branch_StackType_3;
}
static VAL mw_mirth_type_StackType_ZToType (VAL in_StackType_1) {
	VAL branch_Type_3;
	switch (get_data_tag(in_StackType_1)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v4 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_3 = v4;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v5 = MKI64(1LL /* TYPE_DONT_CARE */);
			branch_Type_3 = v5;
		} break;
		case 3LL: { // STVar
			uint64_t v6 = mtp_mirth_type_StackType_STVar(in_StackType_1);
			VAL v7 = mtw_mirth_type_Type_TVar(v6);
			branch_Type_3 = v7;
		} break;
		case 4LL: { // STMeta
			uint64_t v8 = mtp_mirth_type_StackType_STMeta(in_StackType_1);
			VAL v9 = mtw_mirth_type_Type_TMeta(v8);
			branch_Type_3 = v9;
		} break;
		default: {
			VAL v10 = mtw_mirth_type_Type_TTensor(in_StackType_1);
			branch_Type_3 = v10;
		} break;
	}
	return branch_Type_3;
}
static VAL mw_mirth_type_StackType_expand (VAL in_StackType_1) {
	VAL branch_StackType_3;
	switch (get_data_tag(in_StackType_1)) {
		case 4LL: { // STMeta
			uint64_t v4 = mtp_mirth_type_StackType_STMeta(in_StackType_1);
			VAL v5 = mw_mirth_type_MetaVar_expand(v4);
			VAL v6 = mw_mirth_type_Type_ZToStackType(v5);
			branch_StackType_3 = v6;
		} break;
		default: {
			branch_StackType_3 = in_StackType_1;
		} break;
	}
	return branch_StackType_3;
}
static int64_t mw_mirth_type_StackType_unitZAsk (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_expand(in_StackType_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 2LL: { // STACK_TYPE_UNIT
			int64_t v5 = 1LL /* True */;
			branch_Bool_4 = v5;
		} break;
		default: {
			decref(v3);
			int64_t v6 = 0LL /* False */;
			branch_Bool_4 = v6;
		} break;
	}
	return branch_Bool_4;
}
static VAL mw_mirth_type_StackType_split4 (VAL in_StackType_1, VAL *out_List_3, VAL *out_List_4, VAL *out_List_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mw_mirth_type_StackType_expand(in_StackType_1);
	VAL branch_List_10;
	VAL branch_List_11;
	VAL branch_StackType_12;
	VAL branch_List_13;
	int64_t branch_Bool_14;
	switch (get_data_tag(v9)) {
		case 5LL: { // STCons
			VAL v15;
			VAL v16 = mtp_mirth_type_StackType_STCons(v9, &v15);
			VAL v17 = mtw_std_list_List_1_Cons(v15, v6);
			int64_t v18 = 1LL /* True */;
			branch_Bool_14 = v18;
			branch_List_13 = v17;
			branch_StackType_12 = v16;
			branch_List_11 = v7;
			branch_List_10 = v8;
		} break;
		case 7LL: { // STWith
			VAL v19;
			VAL v20 = mtp_mirth_type_StackType_STWith(v9, &v19);
			VAL v21 = mtw_std_list_List_1_Cons(v19, v7);
			int64_t v22 = 1LL /* True */;
			branch_Bool_14 = v22;
			branch_List_13 = v6;
			branch_StackType_12 = v20;
			branch_List_11 = v21;
			branch_List_10 = v8;
		} break;
		case 6LL: { // STConsLabel
			VAL v23;
			uint64_t v24;
			VAL v25 = mtp_mirth_type_StackType_STConsLabel(v9, &v23, &v24);
			VAL v26 = mtw_std_either_Either_2_Left(v23);
			TUP* v27 = tup_pack2(v26, MKU64(v24));
			VAL v28 = mtw_std_list_List_1_Cons(MKTUP(v27, 2), v8);
			int64_t v29 = 1LL /* True */;
			branch_Bool_14 = v29;
			branch_List_13 = v6;
			branch_StackType_12 = v25;
			branch_List_11 = v7;
			branch_List_10 = v28;
		} break;
		case 8LL: { // STWithLabel
			VAL v30;
			uint64_t v31;
			VAL v32 = mtp_mirth_type_StackType_STWithLabel(v9, &v30, &v31);
			VAL v33 = mtw_std_either_Either_2_Right(v30);
			TUP* v34 = tup_pack2(v33, MKU64(v31));
			VAL v35 = mtw_std_list_List_1_Cons(MKTUP(v34, 2), v8);
			int64_t v36 = 1LL /* True */;
			branch_Bool_14 = v36;
			branch_List_13 = v6;
			branch_StackType_12 = v32;
			branch_List_11 = v7;
			branch_List_10 = v35;
		} break;
		default: {
			int64_t v37 = 0LL /* False */;
			branch_Bool_14 = v37;
			branch_List_13 = v6;
			branch_StackType_12 = v9;
			branch_List_11 = v7;
			branch_List_10 = v8;
		} break;
	}
	VAL v38 = branch_List_10;
	VAL v39 = branch_List_11;
	VAL v40 = branch_StackType_12;
	VAL v41 = branch_List_13;
	int64_t v42 = branch_Bool_14;
	while (((bool)v42)) {
		VAL v43 = v38;
		VAL v44 = v39;
		VAL v45 = v40;
		VAL v46 = v41;
		VAL v47 = mw_mirth_type_StackType_expand(v45);
		VAL branch_List_48;
		VAL branch_List_49;
		VAL branch_StackType_50;
		VAL branch_List_51;
		int64_t branch_Bool_52;
		switch (get_data_tag(v47)) {
			case 5LL: { // STCons
				VAL v53;
				VAL v54 = mtp_mirth_type_StackType_STCons(v47, &v53);
				VAL v55 = mtw_std_list_List_1_Cons(v53, v46);
				int64_t v56 = 1LL /* True */;
				branch_Bool_52 = v56;
				branch_List_51 = v55;
				branch_StackType_50 = v54;
				branch_List_49 = v44;
				branch_List_48 = v43;
			} break;
			case 7LL: { // STWith
				VAL v57;
				VAL v58 = mtp_mirth_type_StackType_STWith(v47, &v57);
				VAL v59 = mtw_std_list_List_1_Cons(v57, v44);
				int64_t v60 = 1LL /* True */;
				branch_Bool_52 = v60;
				branch_List_51 = v46;
				branch_StackType_50 = v58;
				branch_List_49 = v59;
				branch_List_48 = v43;
			} break;
			case 6LL: { // STConsLabel
				VAL v61;
				uint64_t v62;
				VAL v63 = mtp_mirth_type_StackType_STConsLabel(v47, &v61, &v62);
				VAL v64 = mtw_std_either_Either_2_Left(v61);
				TUP* v65 = tup_pack2(v64, MKU64(v62));
				VAL v66 = mtw_std_list_List_1_Cons(MKTUP(v65, 2), v43);
				int64_t v67 = 1LL /* True */;
				branch_Bool_52 = v67;
				branch_List_51 = v46;
				branch_StackType_50 = v63;
				branch_List_49 = v44;
				branch_List_48 = v66;
			} break;
			case 8LL: { // STWithLabel
				VAL v68;
				uint64_t v69;
				VAL v70 = mtp_mirth_type_StackType_STWithLabel(v47, &v68, &v69);
				VAL v71 = mtw_std_either_Either_2_Right(v68);
				TUP* v72 = tup_pack2(v71, MKU64(v69));
				VAL v73 = mtw_std_list_List_1_Cons(MKTUP(v72, 2), v43);
				int64_t v74 = 1LL /* True */;
				branch_Bool_52 = v74;
				branch_List_51 = v46;
				branch_StackType_50 = v70;
				branch_List_49 = v44;
				branch_List_48 = v73;
			} break;
			default: {
				int64_t v75 = 0LL /* False */;
				branch_Bool_52 = v75;
				branch_List_51 = v46;
				branch_StackType_50 = v47;
				branch_List_49 = v44;
				branch_List_48 = v43;
			} break;
		}
		v42 = branch_Bool_52;
		v41 = branch_List_51;
		v40 = branch_StackType_50;
		v39 = branch_List_49;
		v38 = branch_List_48;
	}
	*out_List_5 = v39;
	*out_List_4 = v41;
	*out_List_3 = v38;
	return v40;
}
static VAL mw_mirth_type_StackType_base (VAL in_StackType_1) {
	VAL v3;
	VAL v4;
	VAL v5;
	VAL v6 = mw_mirth_type_StackType_split4(in_StackType_1, &v3, &v4, &v5);
	decref(v5);
	decref(v4);
	decref(v3);
	return v6;
}
static VAL mw_mirth_type_StackType_labelZ_topZAsk (uint64_t in_Label_1, VAL in_StackType_2) {
	VAL v4 = mw_mirth_type_StackType_expand(in_StackType_2);
	VAL branch_Maybe_5;
	switch (get_data_tag(v4)) {
		case 5LL: { // STCons
			VAL v6;
			VAL v7 = mtp_mirth_type_StackType_STCons(v4, &v6);
			decref(v6);
			VAL v8 = mw_mirth_type_StackType_labelZ_topZAsk(in_Label_1, v7);
			branch_Maybe_5 = v8;
		} break;
		case 7LL: { // STWith
			VAL v9;
			VAL v10 = mtp_mirth_type_StackType_STWith(v4, &v9);
			decref(v9);
			VAL v11 = mw_mirth_type_StackType_labelZ_topZAsk(in_Label_1, v10);
			branch_Maybe_5 = v11;
		} break;
		case 6LL: { // STConsLabel
			VAL v12;
			uint64_t v13;
			VAL v14 = mtp_mirth_type_StackType_STConsLabel(v4, &v12, &v13);
			int64_t v15 = mw_mirth_label_Label_ZEqualZEqual(in_Label_1, v13);
			VAL branch_Maybe_16;
			if (((bool)v15)) {
				decref(v14);
				VAL v17 = mtw_std_either_Either_2_Left(v12);
				VAL v18 = mtw_std_maybe_Maybe_1_Some(v17);
				branch_Maybe_16 = v18;
			} else {
				decref(v12);
				VAL v19 = mw_mirth_type_StackType_labelZ_topZAsk(in_Label_1, v14);
				branch_Maybe_16 = v19;
			}
			branch_Maybe_5 = branch_Maybe_16;
		} break;
		case 8LL: { // STWithLabel
			VAL v20;
			uint64_t v21;
			VAL v22 = mtp_mirth_type_StackType_STWithLabel(v4, &v20, &v21);
			int64_t v23 = mw_mirth_label_Label_ZEqualZEqual(in_Label_1, v21);
			VAL branch_Maybe_24;
			if (((bool)v23)) {
				decref(v22);
				VAL v25 = mtw_std_either_Either_2_Right(v20);
				VAL v26 = mtw_std_maybe_Maybe_1_Some(v25);
				branch_Maybe_24 = v26;
			} else {
				decref(v20);
				VAL v27 = mw_mirth_type_StackType_labelZ_topZAsk(in_Label_1, v22);
				branch_Maybe_24 = v27;
			}
			branch_Maybe_5 = branch_Maybe_24;
		} break;
		default: {
			decref(v4);
			VAL v28 = MKI64(0LL /* None */);
			branch_Maybe_5 = v28;
		} break;
	}
	return branch_Maybe_5;
}
static VAL mw_mirth_type_StackType_topZ_typeZAsk (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_expand(in_StackType_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 7LL: { // STWith
			VAL v5;
			VAL v6 = mtp_mirth_type_StackType_STWith(v3, &v5);
			decref(v5);
			VAL v7 = mw_mirth_type_StackType_topZ_typeZAsk(v6);
			branch_Maybe_4 = v7;
		} break;
		case 5LL: { // STCons
			VAL v8;
			VAL v9 = mtp_mirth_type_StackType_STCons(v3, &v8);
			decref(v9);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v8);
			branch_Maybe_4 = v10;
		} break;
		case 6LL: { // STConsLabel
			VAL v11;
			uint64_t v12;
			VAL v13 = mtp_mirth_type_StackType_STConsLabel(v3, &v11, &v12);
			decref(v11);
			VAL v14 = mw_mirth_type_StackType_topZ_typeZAsk(v13);
			branch_Maybe_4 = v14;
		} break;
		case 8LL: { // STWithLabel
			VAL v15;
			uint64_t v16;
			VAL v17 = mtp_mirth_type_StackType_STWithLabel(v3, &v15, &v16);
			decref(v15);
			VAL v18 = mw_mirth_type_StackType_topZ_typeZAsk(v17);
			branch_Maybe_4 = v18;
		} break;
		default: {
			decref(v3);
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_4 = v19;
		} break;
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_type_StackType_topZ_tyconZAsk (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_topZ_typeZAsk(in_StackType_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_mirth_type_Type_tyconZAsk(v5);
			branch_Maybe_4 = v6;
		} break;
		case 0LL: { // None
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_4 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_type_StackType_topZ_resourceZAsk (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_expand(in_StackType_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 7LL: { // STWith
			VAL v5;
			VAL v6 = mtp_mirth_type_StackType_STWith(v3, &v5);
			decref(v6);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_4 = v7;
		} break;
		case 5LL: { // STCons
			VAL v8;
			VAL v9 = mtp_mirth_type_StackType_STCons(v3, &v8);
			decref(v8);
			VAL v10 = mw_mirth_type_StackType_topZ_resourceZAsk(v9);
			branch_Maybe_4 = v10;
		} break;
		case 6LL: { // STConsLabel
			VAL v11;
			uint64_t v12;
			VAL v13 = mtp_mirth_type_StackType_STConsLabel(v3, &v11, &v12);
			decref(v11);
			VAL v14 = mw_mirth_type_StackType_topZ_resourceZAsk(v13);
			branch_Maybe_4 = v14;
		} break;
		case 8LL: { // STWithLabel
			VAL v15;
			uint64_t v16;
			VAL v17 = mtp_mirth_type_StackType_STWithLabel(v3, &v15, &v16);
			decref(v15);
			VAL v18 = mw_mirth_type_StackType_topZ_resourceZAsk(v17);
			branch_Maybe_4 = v18;
		} break;
		default: {
			decref(v3);
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_4 = v19;
		} break;
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_topZ_resourceZAsk(in_StackType_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_mirth_type_Resource_ZToType(v5);
			VAL v7 = mw_mirth_type_Type_tyconZAsk(v6);
			branch_Maybe_4 = v7;
		} break;
		case 0LL: { // None
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_type_StackType_topZ_namespaces (VAL in_StackType_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mw_std_list_List_1_reverse(v3);
	incref(in_StackType_1);
	VAL v5 = mw_mirth_type_StackType_topZ_tyconZAsk(in_StackType_1);
	VAL v6;
	mw_std_maybe_Maybe_1_for_1_sp19(v4, v5, &v6);
	VAL v7 = mw_mirth_type_StackType_topZ_resourceZ_tyconZAsk(in_StackType_1);
	VAL v8;
	mw_std_maybe_Maybe_1_for_1_sp19(v6, v7, &v8);
	VAL v9 = mw_std_list_List_1_reverse(v8);
	return v9;
}
static int64_t mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk (VAL in_StackType_1) {
	incref(in_StackType_1);
	int64_t v3 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(in_StackType_1);
	VAL branch_StackType_4;
	int64_t branch_Bool_5;
	if (((bool)v3)) {
		incref(in_StackType_1);
		int64_t v6 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(in_StackType_1);
		branch_Bool_5 = v6;
		branch_StackType_4 = in_StackType_1;
	} else {
		int64_t v7 = 0LL /* False */;
		branch_Bool_5 = v7;
		branch_StackType_4 = in_StackType_1;
	}
	decref(branch_StackType_4);
	return branch_Bool_5;
}
static int64_t mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_expand(in_StackType_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 5LL: { // STCons
			VAL v5;
			VAL v6 = mtp_mirth_type_StackType_STCons(v3, &v5);
			decref(v6);
			int64_t v7 = mw_mirth_type_Type_errorZAsk(v5);
			bool v8 = !((bool)v7);
			branch_Bool_4 = ((int64_t)v8);
		} break;
		case 6LL: { // STConsLabel
			VAL v9;
			uint64_t v10;
			VAL v11 = mtp_mirth_type_StackType_STConsLabel(v3, &v9, &v10);
			decref(v9);
			int64_t v12 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v11);
			branch_Bool_4 = v12;
		} break;
		case 7LL: { // STWith
			VAL v13;
			VAL v14 = mtp_mirth_type_StackType_STWith(v3, &v13);
			decref(v13);
			int64_t v15 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v14);
			branch_Bool_4 = v15;
		} break;
		case 8LL: { // STWithLabel
			VAL v16;
			uint64_t v17;
			VAL v18 = mtp_mirth_type_StackType_STWithLabel(v3, &v16, &v17);
			decref(v16);
			int64_t v19 = mw_mirth_type_StackType_topZ_valueZ_isZ_fineZAsk(v18);
			branch_Bool_4 = v19;
		} break;
		case 4LL: { // STMeta
			uint64_t v20 = mtp_mirth_type_StackType_STMeta(v3);
			int64_t v21 = 1LL /* True */;
			branch_Bool_4 = v21;
		} break;
		case 3LL: { // STVar
			uint64_t v22 = mtp_mirth_type_StackType_STVar(v3);
			int64_t v23 = 1LL /* True */;
			branch_Bool_4 = v23;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			int64_t v24 = 1LL /* True */;
			branch_Bool_4 = v24;
		} break;
		case 0LL: { // STACK_TYPE_ERROR
			int64_t v25 = 0LL /* False */;
			branch_Bool_4 = v25;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			int64_t v26 = 0LL /* False */;
			branch_Bool_4 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_expand(in_StackType_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 5LL: { // STCons
			VAL v5;
			VAL v6 = mtp_mirth_type_StackType_STCons(v3, &v5);
			decref(v5);
			int64_t v7 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v6);
			branch_Bool_4 = v7;
		} break;
		case 6LL: { // STConsLabel
			VAL v8;
			uint64_t v9;
			VAL v10 = mtp_mirth_type_StackType_STConsLabel(v3, &v8, &v9);
			decref(v8);
			int64_t v11 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v10);
			branch_Bool_4 = v11;
		} break;
		case 7LL: { // STWith
			VAL v12;
			VAL v13 = mtp_mirth_type_StackType_STWith(v3, &v12);
			decref(v13);
			int64_t v14 = mw_mirth_type_Type_errorZAsk(v12);
			bool v15 = !((bool)v14);
			branch_Bool_4 = ((int64_t)v15);
		} break;
		case 8LL: { // STWithLabel
			VAL v16;
			uint64_t v17;
			VAL v18 = mtp_mirth_type_StackType_STWithLabel(v3, &v16, &v17);
			decref(v16);
			int64_t v19 = mw_mirth_type_StackType_topZ_resourceZ_isZ_fineZAsk(v18);
			branch_Bool_4 = v19;
		} break;
		case 4LL: { // STMeta
			uint64_t v20 = mtp_mirth_type_StackType_STMeta(v3);
			int64_t v21 = 1LL /* True */;
			branch_Bool_4 = v21;
		} break;
		case 3LL: { // STVar
			uint64_t v22 = mtp_mirth_type_StackType_STVar(v3);
			int64_t v23 = 1LL /* True */;
			branch_Bool_4 = v23;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			int64_t v24 = 1LL /* True */;
			branch_Bool_4 = v24;
		} break;
		case 0LL: { // STACK_TYPE_ERROR
			int64_t v25 = 0LL /* False */;
			branch_Bool_4 = v25;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			int64_t v26 = 0LL /* False */;
			branch_Bool_4 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_type_StackType_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_StackType_2) {
	VAL v4 = mw_mirth_type_StackType_expand(in_StackType_2);
	int64_t branch_Bool_5;
	switch (get_data_tag(v4)) {
		case 4LL: { // STMeta
			uint64_t v6 = mtp_mirth_type_StackType_STMeta(v4);
			int64_t v7 = mw_mirth_type_MetaVar_ZEqualZEqual(in_MetaVar_1, v6);
			branch_Bool_5 = v7;
		} break;
		case 0LL: { // STACK_TYPE_ERROR
			int64_t v8 = 0LL /* False */;
			branch_Bool_5 = v8;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			int64_t v9 = 0LL /* False */;
			branch_Bool_5 = v9;
		} break;
		case 3LL: { // STVar
			uint64_t v10 = mtp_mirth_type_StackType_STVar(v4);
			int64_t v11 = 0LL /* False */;
			branch_Bool_5 = v11;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			int64_t v12 = 0LL /* False */;
			branch_Bool_5 = v12;
		} break;
		case 5LL: { // STCons
			VAL v13;
			VAL v14 = mtp_mirth_type_StackType_STCons(v4, &v13);
			int64_t v15 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_1, v13);
			int64_t branch_Bool_16;
			if (((bool)v15)) {
				decref(v14);
				int64_t v17 = 1LL /* True */;
				branch_Bool_16 = v17;
			} else {
				int64_t v18 = mw_mirth_type_StackType_hasZ_metaZAsk(in_MetaVar_1, v14);
				branch_Bool_16 = v18;
			}
			branch_Bool_5 = branch_Bool_16;
		} break;
		case 6LL: { // STConsLabel
			VAL v19;
			uint64_t v20;
			VAL v21 = mtp_mirth_type_StackType_STConsLabel(v4, &v19, &v20);
			int64_t v22 = mw_mirth_type_Type_hasZ_metaZAsk(in_MetaVar_1, v19);
			int64_t branch_Bool_23;
			if (((bool)v22)) {
				decref(v21);
				int64_t v24 = 1LL /* True */;
				branch_Bool_23 = v24;
			} else {
				int64_t v25 = mw_mirth_type_StackType_hasZ_metaZAsk(in_MetaVar_1, v21);
				branch_Bool_23 = v25;
			}
			branch_Bool_5 = branch_Bool_23;
		} break;
		case 7LL: { // STWith
			VAL v26;
			VAL v27 = mtp_mirth_type_StackType_STWith(v4, &v26);
			int64_t v28 = mw_mirth_type_Resource_hasZ_metaZAsk(in_MetaVar_1, v26);
			int64_t branch_Bool_29;
			if (((bool)v28)) {
				decref(v27);
				int64_t v30 = 1LL /* True */;
				branch_Bool_29 = v30;
			} else {
				int64_t v31 = mw_mirth_type_StackType_hasZ_metaZAsk(in_MetaVar_1, v27);
				branch_Bool_29 = v31;
			}
			branch_Bool_5 = branch_Bool_29;
		} break;
		case 8LL: { // STWithLabel
			VAL v32;
			uint64_t v33;
			VAL v34 = mtp_mirth_type_StackType_STWithLabel(v4, &v32, &v33);
			int64_t v35 = mw_mirth_type_Resource_hasZ_metaZAsk(in_MetaVar_1, v32);
			int64_t branch_Bool_36;
			if (((bool)v35)) {
				decref(v34);
				int64_t v37 = 1LL /* True */;
				branch_Bool_36 = v37;
			} else {
				int64_t v38 = mw_mirth_type_StackType_hasZ_metaZAsk(in_MetaVar_1, v34);
				branch_Bool_36 = v38;
			}
			branch_Bool_5 = branch_Bool_36;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_5;
}
static int64_t mw_mirth_type_StackType_hasZ_varZAsk (uint64_t in_Var_1, VAL in_StackType_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_StackType_2)) {
		case 0LL: { // STACK_TYPE_ERROR
			int64_t v5 = 0LL /* False */;
			branch_Bool_4 = v5;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			int64_t v6 = 0LL /* False */;
			branch_Bool_4 = v6;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			int64_t v7 = 0LL /* False */;
			branch_Bool_4 = v7;
		} break;
		case 4LL: { // STMeta
			uint64_t v8 = mtp_mirth_type_StackType_STMeta(in_StackType_2);
			int64_t v9 = mw_mirth_type_MetaVar_hasZ_varZAsk(in_Var_1, v8);
			branch_Bool_4 = v9;
		} break;
		case 3LL: { // STVar
			uint64_t v10 = mtp_mirth_type_StackType_STVar(in_StackType_2);
			int64_t v11 = mw_mirth_var_Var_index(in_Var_1);
			int64_t v12 = mw_mirth_var_Var_index(v10);
			bool v13 = (v11 == v12);
			branch_Bool_4 = ((int64_t)v13);
		} break;
		case 5LL: { // STCons
			VAL v14;
			VAL v15 = mtp_mirth_type_StackType_STCons(in_StackType_2, &v14);
			int64_t v16 = mw_mirth_type_Type_hasZ_varZAsk(in_Var_1, v14);
			int64_t branch_Bool_17;
			if (((bool)v16)) {
				decref(v15);
				int64_t v18 = 1LL /* True */;
				branch_Bool_17 = v18;
			} else {
				int64_t v19 = mw_mirth_type_StackType_hasZ_varZAsk(in_Var_1, v15);
				branch_Bool_17 = v19;
			}
			branch_Bool_4 = branch_Bool_17;
		} break;
		case 7LL: { // STWith
			VAL v20;
			VAL v21 = mtp_mirth_type_StackType_STWith(in_StackType_2, &v20);
			int64_t v22 = mw_mirth_type_Resource_hasZ_varZAsk(in_Var_1, v20);
			int64_t branch_Bool_23;
			if (((bool)v22)) {
				decref(v21);
				int64_t v24 = 1LL /* True */;
				branch_Bool_23 = v24;
			} else {
				int64_t v25 = mw_mirth_type_StackType_hasZ_varZAsk(in_Var_1, v21);
				branch_Bool_23 = v25;
			}
			branch_Bool_4 = branch_Bool_23;
		} break;
		case 6LL: { // STConsLabel
			VAL v26;
			uint64_t v27;
			VAL v28 = mtp_mirth_type_StackType_STConsLabel(in_StackType_2, &v26, &v27);
			int64_t v29 = mw_mirth_type_Type_hasZ_varZAsk(in_Var_1, v26);
			int64_t branch_Bool_30;
			if (((bool)v29)) {
				decref(v28);
				int64_t v31 = 1LL /* True */;
				branch_Bool_30 = v31;
			} else {
				int64_t v32 = mw_mirth_type_StackType_hasZ_varZAsk(in_Var_1, v28);
				branch_Bool_30 = v32;
			}
			branch_Bool_4 = branch_Bool_30;
		} break;
		case 8LL: { // STWithLabel
			VAL v33;
			uint64_t v34;
			VAL v35 = mtp_mirth_type_StackType_STWithLabel(in_StackType_2, &v33, &v34);
			int64_t v36 = mw_mirth_type_Resource_hasZ_varZAsk(in_Var_1, v33);
			int64_t branch_Bool_37;
			if (((bool)v36)) {
				decref(v35);
				int64_t v38 = 1LL /* True */;
				branch_Bool_37 = v38;
			} else {
				int64_t v39 = mw_mirth_type_StackType_hasZ_varZAsk(in_Var_1, v35);
				branch_Bool_37 = v39;
			}
			branch_Bool_4 = branch_Bool_37;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static VAL mw_mirth_type_StackType_unifyZ_failedZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_StackType_3, VAL in_StackType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL v8 = mw_mirth_type_StackType_ZToType(in_StackType_3);
	VAL v9 = mw_mirth_type_StackType_ZToType(in_StackType_4);
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_type_Type_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v8, v9, &v10, &v11);
	VAL v13 = mw_mirth_type_Type_ZToStackType(v12);
	*out_ZPlusGamma_6 = v11;
	*out_ZPlusMirth_5 = v10;
	return v13;
}
static VAL mw_mirth_type_StackType_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_StackType_3, VAL in_StackType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL v8 = mw_mirth_type_StackType_expand(in_StackType_3);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_ZPlusGamma_10;
	VAL branch_StackType_11;
	switch (get_data_tag(v8)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v12;
			uint64_t v13;
			VAL v14 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, in_StackType_4, &v12, &v13);
			branch_StackType_11 = v14;
			branch_ZPlusGamma_10 = v13;
			branch_ZPlusMirth_9 = v12;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			branch_StackType_11 = in_StackType_4;
			branch_ZPlusGamma_10 = in_ZPlusGamma_2;
			branch_ZPlusMirth_9 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // STMeta
			uint64_t v15 = mtp_mirth_type_StackType_STMeta(v8);
			VAL v16 = mw_mirth_type_StackType_expand(in_StackType_4);
			VAL branch_ZPlusMirth_17;
			uint64_t branch_ZPlusGamma_18;
			VAL branch_StackType_19;
			switch (get_data_tag(v16)) {
				case 0LL: { // STACK_TYPE_ERROR
					VAL v20 = mtw_mirth_type_StackType_STMeta(v15);
					VAL v21;
					uint64_t v22;
					VAL v23 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v20, &v21, &v22);
					branch_StackType_19 = v23;
					branch_ZPlusGamma_18 = v22;
					branch_ZPlusMirth_17 = v21;
				} break;
				case 1LL: { // STACK_TYPE_DONT_CARE
					VAL v24 = mtw_mirth_type_StackType_STMeta(v15);
					branch_StackType_19 = v24;
					branch_ZPlusGamma_18 = in_ZPlusGamma_2;
					branch_ZPlusMirth_17 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // STMeta
					uint64_t v25 = mtp_mirth_type_StackType_STMeta(v16);
					VAL v26 = mtw_mirth_type_Type_TMeta(v15);
					VAL v27;
					uint64_t v28;
					VAL v29 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v26, v25, &v27, &v28);
					VAL v30 = mw_mirth_type_Type_ZToStackType(v29);
					branch_StackType_19 = v30;
					branch_ZPlusGamma_18 = v28;
					branch_ZPlusMirth_17 = v27;
				} break;
				default: {
					VAL v31 = mw_mirth_type_StackType_ZToType(v16);
					VAL v32;
					uint64_t v33;
					VAL v34 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v31, v15, &v32, &v33);
					VAL v35 = mw_mirth_type_Type_ZToStackType(v34);
					branch_StackType_19 = v35;
					branch_ZPlusGamma_18 = v33;
					branch_ZPlusMirth_17 = v32;
				} break;
			}
			branch_StackType_11 = branch_StackType_19;
			branch_ZPlusGamma_10 = branch_ZPlusGamma_18;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_17;
		} break;
		case 3LL: { // STVar
			uint64_t v36 = mtp_mirth_type_StackType_STVar(v8);
			VAL v37 = mw_mirth_type_StackType_expand(in_StackType_4);
			VAL branch_ZPlusMirth_38;
			uint64_t branch_ZPlusGamma_39;
			VAL branch_StackType_40;
			switch (get_data_tag(v37)) {
				case 0LL: { // STACK_TYPE_ERROR
					VAL v41 = MKI64(0LL /* STACK_TYPE_ERROR */);
					branch_StackType_40 = v41;
					branch_ZPlusGamma_39 = in_ZPlusGamma_2;
					branch_ZPlusMirth_38 = in_ZPlusMirth_1;
				} break;
				case 1LL: { // STACK_TYPE_DONT_CARE
					VAL v42 = mtw_mirth_type_StackType_STVar(v36);
					branch_StackType_40 = v42;
					branch_ZPlusGamma_39 = in_ZPlusGamma_2;
					branch_ZPlusMirth_38 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // STMeta
					uint64_t v43 = mtp_mirth_type_StackType_STMeta(v37);
					VAL v44 = mtw_mirth_type_Type_TVar(v36);
					VAL v45;
					uint64_t v46;
					VAL v47 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v44, v43, &v45, &v46);
					VAL v48 = mw_mirth_type_Type_ZToStackType(v47);
					branch_StackType_40 = v48;
					branch_ZPlusGamma_39 = v46;
					branch_ZPlusMirth_38 = v45;
				} break;
				case 3LL: { // STVar
					uint64_t v49 = mtp_mirth_type_StackType_STVar(v37);
					VAL v50;
					uint64_t v51;
					VAL v52 = mw_mirth_var_Var_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v36, v49, &v50, &v51);
					VAL v53 = mw_mirth_type_Type_ZToStackType(v52);
					branch_StackType_40 = v53;
					branch_ZPlusGamma_39 = v51;
					branch_ZPlusMirth_38 = v50;
				} break;
				default: {
					VAL v54 = mtw_mirth_type_StackType_STVar(v36);
					VAL v55;
					uint64_t v56;
					VAL v57 = mw_mirth_type_StackType_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v54, v37, &v55, &v56);
					branch_StackType_40 = v57;
					branch_ZPlusGamma_39 = v56;
					branch_ZPlusMirth_38 = v55;
				} break;
			}
			branch_StackType_11 = branch_StackType_40;
			branch_ZPlusGamma_10 = branch_ZPlusGamma_39;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_38;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v58 = mw_mirth_type_StackType_expand(in_StackType_4);
			VAL branch_ZPlusMirth_59;
			uint64_t branch_ZPlusGamma_60;
			VAL branch_StackType_61;
			switch (get_data_tag(v58)) {
				case 0LL: { // STACK_TYPE_ERROR
					VAL v62 = MKI64(0LL /* STACK_TYPE_ERROR */);
					branch_StackType_61 = v62;
					branch_ZPlusGamma_60 = in_ZPlusGamma_2;
					branch_ZPlusMirth_59 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // STMeta
					uint64_t v63 = mtp_mirth_type_StackType_STMeta(v58);
					VAL v64 = MKI64(2LL /* STACK_TYPE_UNIT */);
					VAL v65 = mw_mirth_type_StackType_ZToType(v64);
					VAL v66;
					uint64_t v67;
					VAL v68 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v65, v63, &v66, &v67);
					VAL v69 = mw_mirth_type_Type_ZToStackType(v68);
					branch_StackType_61 = v69;
					branch_ZPlusGamma_60 = v67;
					branch_ZPlusMirth_59 = v66;
				} break;
				case 1LL: { // STACK_TYPE_DONT_CARE
					VAL v70 = MKI64(2LL /* STACK_TYPE_UNIT */);
					branch_StackType_61 = v70;
					branch_ZPlusGamma_60 = in_ZPlusGamma_2;
					branch_ZPlusMirth_59 = in_ZPlusMirth_1;
				} break;
				case 2LL: { // STACK_TYPE_UNIT
					VAL v71 = MKI64(2LL /* STACK_TYPE_UNIT */);
					branch_StackType_61 = v71;
					branch_ZPlusGamma_60 = in_ZPlusGamma_2;
					branch_ZPlusMirth_59 = in_ZPlusMirth_1;
				} break;
				default: {
					VAL v72 = MKI64(2LL /* STACK_TYPE_UNIT */);
					VAL v73;
					uint64_t v74;
					VAL v75 = mw_mirth_type_StackType_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v58, v72, &v73, &v74);
					branch_StackType_61 = v75;
					branch_ZPlusGamma_60 = v74;
					branch_ZPlusMirth_59 = v73;
				} break;
			}
			branch_StackType_11 = branch_StackType_61;
			branch_ZPlusGamma_10 = branch_ZPlusGamma_60;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_59;
		} break;
		case 5LL: { // STCons
			VAL v76;
			VAL v77 = mtp_mirth_type_StackType_STCons(v8, &v76);
			VAL v78 = mw_mirth_type_StackType_expand(in_StackType_4);
			VAL branch_ZPlusMirth_79;
			uint64_t branch_ZPlusGamma_80;
			VAL branch_StackType_81;
			switch (get_data_tag(v78)) {
				case 0LL: { // STACK_TYPE_ERROR
					VAL v82 = mtw_mirth_type_StackType_STCons(v77, v76);
					VAL v83;
					uint64_t v84;
					VAL v85 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v82, &v83, &v84);
					branch_StackType_81 = v85;
					branch_ZPlusGamma_80 = v84;
					branch_ZPlusMirth_79 = v83;
				} break;
				case 4LL: { // STMeta
					uint64_t v86 = mtp_mirth_type_StackType_STMeta(v78);
					VAL v87 = mtw_mirth_type_StackType_STCons(v77, v76);
					VAL v88 = mw_mirth_type_StackType_ZToType(v87);
					VAL v89;
					uint64_t v90;
					VAL v91 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v88, v86, &v89, &v90);
					VAL v92 = mw_mirth_type_Type_ZToStackType(v91);
					branch_StackType_81 = v92;
					branch_ZPlusGamma_80 = v90;
					branch_ZPlusMirth_79 = v89;
				} break;
				case 1LL: { // STACK_TYPE_DONT_CARE
					VAL v93 = mtw_mirth_type_StackType_STCons(v77, v76);
					branch_StackType_81 = v93;
					branch_ZPlusGamma_80 = in_ZPlusGamma_2;
					branch_ZPlusMirth_79 = in_ZPlusMirth_1;
				} break;
				default: {
					incref(v78);
					VAL v94 = mw_mirth_type_StackType_forceZ_consZAskZBang(v78);
					VAL branch_ZPlusMirth_95;
					uint64_t branch_ZPlusGamma_96;
					VAL branch_StackType_97;
					switch (get_data_tag(v94)) {
						case 1LL: { // Some
							VAL v98 = mtp_std_maybe_Maybe_1_Some(v94);
							decref(v78);
							VAL v99 = value_tup(v98, 2)->cells[0];
							VAL v100 = value_tup(v98, 2)->cells[1];
							tup_decref_outer(value_tup(v98, 2), 2);
							VAL v101;
							uint64_t v102;
							VAL v103 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v77, v99, &v101, &v102);
							VAL v104;
							uint64_t v105;
							VAL v106 = mw_mirth_type_Type_unifyZBang(v101, v102, v76, v100, &v104, &v105);
							VAL v107 = mtw_mirth_type_StackType_STCons(v103, v106);
							branch_StackType_97 = v107;
							branch_ZPlusGamma_96 = v105;
							branch_ZPlusMirth_95 = v104;
						} break;
						case 0LL: { // None
							VAL v108 = mtw_mirth_type_StackType_STCons(v77, v76);
							VAL v109;
							uint64_t v110;
							VAL v111 = mw_mirth_type_StackType_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v108, v78, &v109, &v110);
							branch_StackType_97 = v111;
							branch_ZPlusGamma_96 = v110;
							branch_ZPlusMirth_95 = v109;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_81 = branch_StackType_97;
					branch_ZPlusGamma_80 = branch_ZPlusGamma_96;
					branch_ZPlusMirth_79 = branch_ZPlusMirth_95;
				} break;
			}
			branch_StackType_11 = branch_StackType_81;
			branch_ZPlusGamma_10 = branch_ZPlusGamma_80;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_79;
		} break;
		case 7LL: { // STWith
			VAL v112;
			VAL v113 = mtp_mirth_type_StackType_STWith(v8, &v112);
			VAL v114 = mw_mirth_type_StackType_expand(in_StackType_4);
			VAL branch_ZPlusMirth_115;
			uint64_t branch_ZPlusGamma_116;
			VAL branch_StackType_117;
			switch (get_data_tag(v114)) {
				case 0LL: { // STACK_TYPE_ERROR
					VAL v118 = mtw_mirth_type_StackType_STWith(v113, v112);
					VAL v119;
					uint64_t v120;
					VAL v121 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v118, &v119, &v120);
					branch_StackType_117 = v121;
					branch_ZPlusGamma_116 = v120;
					branch_ZPlusMirth_115 = v119;
				} break;
				case 4LL: { // STMeta
					uint64_t v122 = mtp_mirth_type_StackType_STMeta(v114);
					VAL v123 = mtw_mirth_type_StackType_STWith(v113, v112);
					VAL v124 = mw_mirth_type_StackType_ZToType(v123);
					VAL v125;
					uint64_t v126;
					VAL v127 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v124, v122, &v125, &v126);
					VAL v128 = mw_mirth_type_Type_ZToStackType(v127);
					branch_StackType_117 = v128;
					branch_ZPlusGamma_116 = v126;
					branch_ZPlusMirth_115 = v125;
				} break;
				case 1LL: { // STACK_TYPE_DONT_CARE
					VAL v129 = mtw_mirth_type_StackType_STWith(v113, v112);
					branch_StackType_117 = v129;
					branch_ZPlusGamma_116 = in_ZPlusGamma_2;
					branch_ZPlusMirth_115 = in_ZPlusMirth_1;
				} break;
				default: {
					incref(v114);
					VAL v130 = mw_mirth_type_StackType_forceZ_withZAskZBang(v114);
					VAL branch_ZPlusMirth_131;
					uint64_t branch_ZPlusGamma_132;
					VAL branch_StackType_133;
					switch (get_data_tag(v130)) {
						case 1LL: { // Some
							VAL v134 = mtp_std_maybe_Maybe_1_Some(v130);
							decref(v114);
							VAL v135 = value_tup(v134, 2)->cells[0];
							VAL v136 = value_tup(v134, 2)->cells[1];
							tup_decref_outer(value_tup(v134, 2), 2);
							VAL v137;
							uint64_t v138;
							VAL v139 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v113, v135, &v137, &v138);
							VAL v140;
							uint64_t v141;
							VAL v142 = mw_mirth_type_Resource_unifyZBang(v137, v138, v112, v136, &v140, &v141);
							VAL v143 = mtw_mirth_type_StackType_STWith(v139, v142);
							branch_StackType_133 = v143;
							branch_ZPlusGamma_132 = v141;
							branch_ZPlusMirth_131 = v140;
						} break;
						case 0LL: { // None
							VAL v144 = mtw_mirth_type_StackType_STWith(v113, v112);
							VAL v145;
							uint64_t v146;
							VAL v147 = mw_mirth_type_StackType_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v144, v114, &v145, &v146);
							branch_StackType_133 = v147;
							branch_ZPlusGamma_132 = v146;
							branch_ZPlusMirth_131 = v145;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_117 = branch_StackType_133;
					branch_ZPlusGamma_116 = branch_ZPlusGamma_132;
					branch_ZPlusMirth_115 = branch_ZPlusMirth_131;
				} break;
			}
			branch_StackType_11 = branch_StackType_117;
			branch_ZPlusGamma_10 = branch_ZPlusGamma_116;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_115;
		} break;
		case 6LL: { // STConsLabel
			VAL v148;
			uint64_t v149;
			VAL v150 = mtp_mirth_type_StackType_STConsLabel(v8, &v148, &v149);
			VAL v151 = mw_mirth_type_StackType_expand(in_StackType_4);
			VAL branch_ZPlusMirth_152;
			uint64_t branch_ZPlusGamma_153;
			VAL branch_StackType_154;
			switch (get_data_tag(v151)) {
				case 0LL: { // STACK_TYPE_ERROR
					VAL v155 = mtw_mirth_type_StackType_STConsLabel(v150, v148, v149);
					VAL v156;
					uint64_t v157;
					VAL v158 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v155, &v156, &v157);
					branch_StackType_154 = v158;
					branch_ZPlusGamma_153 = v157;
					branch_ZPlusMirth_152 = v156;
				} break;
				case 4LL: { // STMeta
					uint64_t v159 = mtp_mirth_type_StackType_STMeta(v151);
					VAL v160 = mtw_mirth_type_StackType_STConsLabel(v150, v148, v149);
					VAL v161 = mw_mirth_type_StackType_ZToType(v160);
					VAL v162;
					uint64_t v163;
					VAL v164 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v161, v159, &v162, &v163);
					VAL v165 = mw_mirth_type_Type_ZToStackType(v164);
					branch_StackType_154 = v165;
					branch_ZPlusGamma_153 = v163;
					branch_ZPlusMirth_152 = v162;
				} break;
				case 1LL: { // STACK_TYPE_DONT_CARE
					VAL v166 = mtw_mirth_type_StackType_STConsLabel(v150, v148, v149);
					branch_StackType_154 = v166;
					branch_ZPlusGamma_153 = in_ZPlusGamma_2;
					branch_ZPlusMirth_152 = in_ZPlusMirth_1;
				} break;
				default: {
					incref(v151);
					VAL v167 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(v149, v151);
					VAL branch_ZPlusMirth_168;
					uint64_t branch_ZPlusGamma_169;
					VAL branch_StackType_170;
					switch (get_data_tag(v167)) {
						case 1LL: { // Some
							VAL v171 = mtp_std_maybe_Maybe_1_Some(v167);
							decref(v151);
							VAL v172 = value_tup(v171, 2)->cells[0];
							VAL v173 = value_tup(v171, 2)->cells[1];
							tup_decref_outer(value_tup(v171, 2), 2);
							VAL v174;
							uint64_t v175;
							VAL v176 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v150, v172, &v174, &v175);
							VAL v177;
							uint64_t v178;
							VAL v179 = mw_mirth_type_Type_unifyZBang(v174, v175, v148, v173, &v177, &v178);
							VAL v180 = mtw_mirth_type_StackType_STConsLabel(v176, v179, v149);
							branch_StackType_170 = v180;
							branch_ZPlusGamma_169 = v178;
							branch_ZPlusMirth_168 = v177;
						} break;
						case 0LL: { // None
							VAL v181 = mtw_mirth_type_StackType_STConsLabel(v150, v148, v149);
							VAL v182;
							uint64_t v183;
							VAL v184 = mw_mirth_type_StackType_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v181, v151, &v182, &v183);
							branch_StackType_170 = v184;
							branch_ZPlusGamma_169 = v183;
							branch_ZPlusMirth_168 = v182;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_154 = branch_StackType_170;
					branch_ZPlusGamma_153 = branch_ZPlusGamma_169;
					branch_ZPlusMirth_152 = branch_ZPlusMirth_168;
				} break;
			}
			branch_StackType_11 = branch_StackType_154;
			branch_ZPlusGamma_10 = branch_ZPlusGamma_153;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_152;
		} break;
		case 8LL: { // STWithLabel
			VAL v185;
			uint64_t v186;
			VAL v187 = mtp_mirth_type_StackType_STWithLabel(v8, &v185, &v186);
			VAL v188 = mw_mirth_type_StackType_expand(in_StackType_4);
			VAL branch_ZPlusMirth_189;
			uint64_t branch_ZPlusGamma_190;
			VAL branch_StackType_191;
			switch (get_data_tag(v188)) {
				case 0LL: { // STACK_TYPE_ERROR
					VAL v192 = mtw_mirth_type_StackType_STWithLabel(v187, v185, v186);
					VAL v193;
					uint64_t v194;
					VAL v195 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v192, &v193, &v194);
					branch_StackType_191 = v195;
					branch_ZPlusGamma_190 = v194;
					branch_ZPlusMirth_189 = v193;
				} break;
				case 4LL: { // STMeta
					uint64_t v196 = mtp_mirth_type_StackType_STMeta(v188);
					VAL v197 = mtw_mirth_type_StackType_STWithLabel(v187, v185, v186);
					VAL v198 = mw_mirth_type_StackType_ZToType(v197);
					VAL v199;
					uint64_t v200;
					VAL v201 = mw_mirth_type_MetaVar_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v198, v196, &v199, &v200);
					VAL v202 = mw_mirth_type_Type_ZToStackType(v201);
					branch_StackType_191 = v202;
					branch_ZPlusGamma_190 = v200;
					branch_ZPlusMirth_189 = v199;
				} break;
				case 1LL: { // STACK_TYPE_DONT_CARE
					VAL v203 = mtw_mirth_type_StackType_STWithLabel(v187, v185, v186);
					branch_StackType_191 = v203;
					branch_ZPlusGamma_190 = in_ZPlusGamma_2;
					branch_ZPlusMirth_189 = in_ZPlusMirth_1;
				} break;
				default: {
					incref(v188);
					VAL v204 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(v186, v188);
					VAL branch_ZPlusMirth_205;
					uint64_t branch_ZPlusGamma_206;
					VAL branch_StackType_207;
					switch (get_data_tag(v204)) {
						case 1LL: { // Some
							VAL v208 = mtp_std_maybe_Maybe_1_Some(v204);
							decref(v188);
							VAL v209 = value_tup(v208, 2)->cells[0];
							VAL v210 = value_tup(v208, 2)->cells[1];
							tup_decref_outer(value_tup(v208, 2), 2);
							VAL v211;
							uint64_t v212;
							VAL v213 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v187, v209, &v211, &v212);
							VAL v214;
							uint64_t v215;
							VAL v216 = mw_mirth_type_Resource_unifyZBang(v211, v212, v185, v210, &v214, &v215);
							VAL v217 = mtw_mirth_type_StackType_STWithLabel(v213, v216, v186);
							branch_StackType_207 = v217;
							branch_ZPlusGamma_206 = v215;
							branch_ZPlusMirth_205 = v214;
						} break;
						case 0LL: { // None
							VAL v218 = mtw_mirth_type_StackType_STWithLabel(v187, v185, v186);
							VAL v219;
							uint64_t v220;
							VAL v221 = mw_mirth_type_StackType_unifyZ_failedZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v218, v188, &v219, &v220);
							branch_StackType_207 = v221;
							branch_ZPlusGamma_206 = v220;
							branch_ZPlusMirth_205 = v219;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackType_191 = branch_StackType_207;
					branch_ZPlusGamma_190 = branch_ZPlusGamma_206;
					branch_ZPlusMirth_189 = branch_ZPlusMirth_205;
				} break;
			}
			branch_StackType_11 = branch_StackType_191;
			branch_ZPlusGamma_10 = branch_ZPlusGamma_190;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_189;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusGamma_6 = branch_ZPlusGamma_10;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	return branch_StackType_11;
}
static VAL mw_mirth_type_StackType_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_StackType_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5) {
	VAL v7 = mw_mirth_type_StackType_expand(in_StackType_3);
	VAL branch_ZPlusMirth_8;
	uint64_t branch_ZPlusGamma_9;
	VAL branch_StackType_10;
	switch (get_data_tag(v7)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v11 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_10 = v11;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v12 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_10 = v12;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v13 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_10 = v13;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // STMeta
			uint64_t v14 = mtp_mirth_type_StackType_STMeta(v7);
			VAL v15;
			uint64_t v16;
			VAL v17 = mw_mirth_type_MetaVar_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v14, &v15, &v16);
			VAL v18 = mw_mirth_type_Type_ZToStackType(v17);
			branch_StackType_10 = v18;
			branch_ZPlusGamma_9 = v16;
			branch_ZPlusMirth_8 = v15;
		} break;
		case 3LL: { // STVar
			uint64_t v19 = mtp_mirth_type_StackType_STVar(v7);
			VAL v20 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_10 = v20;
			branch_ZPlusGamma_9 = in_ZPlusGamma_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // STCons
			VAL v21;
			VAL v22 = mtp_mirth_type_StackType_STCons(v7, &v21);
			VAL v23;
			uint64_t v24;
			VAL v25 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v22, &v23, &v24);
			decref(v25);
			VAL v26;
			uint64_t v27;
			VAL v28 = mw_mirth_type_Type_unifyZ_errorZBang(v23, v24, v21, &v26, &v27);
			decref(v28);
			VAL v29 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_10 = v29;
			branch_ZPlusGamma_9 = v27;
			branch_ZPlusMirth_8 = v26;
		} break;
		case 7LL: { // STWith
			VAL v30;
			VAL v31 = mtp_mirth_type_StackType_STWith(v7, &v30);
			VAL v32;
			uint64_t v33;
			VAL v34 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v31, &v32, &v33);
			decref(v34);
			VAL v35;
			uint64_t v36;
			VAL v37 = mw_mirth_type_Resource_unifyZ_errorZBang(v32, v33, v30, &v35, &v36);
			decref(v37);
			VAL v38 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_10 = v38;
			branch_ZPlusGamma_9 = v36;
			branch_ZPlusMirth_8 = v35;
		} break;
		case 6LL: { // STConsLabel
			VAL v39;
			uint64_t v40;
			VAL v41 = mtp_mirth_type_StackType_STConsLabel(v7, &v39, &v40);
			VAL v42;
			uint64_t v43;
			VAL v44 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v41, &v42, &v43);
			decref(v44);
			VAL v45;
			uint64_t v46;
			VAL v47 = mw_mirth_type_Type_unifyZ_errorZBang(v42, v43, v39, &v45, &v46);
			decref(v47);
			VAL v48 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_10 = v48;
			branch_ZPlusGamma_9 = v46;
			branch_ZPlusMirth_8 = v45;
		} break;
		case 8LL: { // STWithLabel
			VAL v49;
			uint64_t v50;
			VAL v51 = mtp_mirth_type_StackType_STWithLabel(v7, &v49, &v50);
			VAL v52;
			uint64_t v53;
			VAL v54 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v51, &v52, &v53);
			decref(v54);
			VAL v55;
			uint64_t v56;
			VAL v57 = mw_mirth_type_Resource_unifyZ_errorZBang(v52, v53, v49, &v55, &v56);
			decref(v57);
			VAL v58 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_10 = v58;
			branch_ZPlusGamma_9 = v56;
			branch_ZPlusMirth_8 = v55;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusGamma_5 = branch_ZPlusGamma_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_StackType_10;
}
static VAL mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang (uint64_t in_Label_1, VAL in_StackType_2) {
	VAL v4 = mw_mirth_type_StackType_expand(in_StackType_2);
	VAL branch_Maybe_5;
	switch (get_data_tag(v4)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v6 = MKI64(0LL /* STACK_TYPE_ERROR */);
			VAL v7 = MKI64(0LL /* TYPE_ERROR */);
			TUP* v8 = tup_pack2(v6, v7);
			VAL v9 = mtw_std_maybe_Maybe_1_Some(MKTUP(v8, 2));
			branch_Maybe_5 = v9;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v10 = MKI64(1LL /* STACK_TYPE_DONT_CARE */);
			VAL v11 = MKI64(1LL /* TYPE_DONT_CARE */);
			TUP* v12 = tup_pack2(v10, v11);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12, 2));
			branch_Maybe_5 = v13;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_5 = v14;
		} break;
		case 3LL: { // STVar
			uint64_t v15 = mtp_mirth_type_StackType_STVar(v4);
			VAL v16 = MKI64(0LL /* None */);
			branch_Maybe_5 = v16;
		} break;
		case 7LL: { // STWith
			VAL v17;
			VAL v18 = mtp_mirth_type_StackType_STWith(v4, &v17);
			VAL v19 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(in_Label_1, v18);
			VAL v20;
			VAL v21 = mw_std_maybe_Maybe_1_map_1_sp3(v17, v19, &v20);
			decref(v21);
			branch_Maybe_5 = v20;
		} break;
		case 5LL: { // STCons
			VAL v22;
			VAL v23 = mtp_mirth_type_StackType_STCons(v4, &v22);
			VAL v24 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(in_Label_1, v23);
			VAL v25;
			VAL v26 = mw_std_maybe_Maybe_1_map_1_sp4(v22, v24, &v25);
			decref(v26);
			branch_Maybe_5 = v25;
		} break;
		case 6LL: { // STConsLabel
			VAL v27;
			uint64_t v28;
			VAL v29 = mtp_mirth_type_StackType_STConsLabel(v4, &v27, &v28);
			int64_t v30 = mw_mirth_label_Label_ZEqualZEqual(in_Label_1, v28);
			VAL branch_Maybe_31;
			if (((bool)v30)) {
				TUP* v32 = tup_pack2(v29, v27);
				VAL v33 = mtw_std_maybe_Maybe_1_Some(MKTUP(v32, 2));
				branch_Maybe_31 = v33;
			} else {
				VAL v34 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(in_Label_1, v29);
				VAL branch_Maybe_35;
				switch (get_data_tag(v34)) {
					case 1LL: { // Some
						VAL v36 = mtp_std_maybe_Maybe_1_Some(v34);
						VAL v37 = value_tup(v36, 2)->cells[0];
						VAL v38 = value_tup(v36, 2)->cells[1];
						tup_decref_outer(value_tup(v36, 2), 2);
						VAL v39 = mtw_mirth_type_StackType_STConsLabel(v37, v27, v28);
						TUP* v40 = tup_pack2(v39, v38);
						VAL v41 = mtw_std_maybe_Maybe_1_Some(MKTUP(v40, 2));
						branch_Maybe_35 = v41;
					} break;
					case 0LL: { // None
						decref(v27);
						VAL v42 = MKI64(0LL /* None */);
						branch_Maybe_35 = v42;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_31 = branch_Maybe_35;
			}
			branch_Maybe_5 = branch_Maybe_31;
		} break;
		case 8LL: { // STWithLabel
			VAL v43;
			uint64_t v44;
			VAL v45 = mtp_mirth_type_StackType_STWithLabel(v4, &v43, &v44);
			int64_t v46 = mw_mirth_label_Label_ZEqualZEqual(in_Label_1, v44);
			VAL branch_Maybe_47;
			if (((bool)v46)) {
				decref(v43);
				decref(v45);
				VAL v48 = MKI64(0LL /* None */);
				branch_Maybe_47 = v48;
			} else {
				VAL v49 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(in_Label_1, v45);
				VAL branch_Maybe_50;
				switch (get_data_tag(v49)) {
					case 1LL: { // Some
						VAL v51 = mtp_std_maybe_Maybe_1_Some(v49);
						VAL v52 = value_tup(v51, 2)->cells[0];
						VAL v53 = value_tup(v51, 2)->cells[1];
						tup_decref_outer(value_tup(v51, 2), 2);
						VAL v54 = mtw_mirth_type_StackType_STWithLabel(v52, v43, v44);
						TUP* v55 = tup_pack2(v54, v53);
						VAL v56 = mtw_std_maybe_Maybe_1_Some(MKTUP(v55, 2));
						branch_Maybe_50 = v56;
					} break;
					case 0LL: { // None
						decref(v43);
						VAL v57 = MKI64(0LL /* None */);
						branch_Maybe_50 = v57;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_47 = branch_Maybe_50;
			}
			branch_Maybe_5 = branch_Maybe_47;
		} break;
		case 4LL: { // STMeta
			uint64_t v58 = mtp_mirth_type_StackType_STMeta(v4);
			uint64_t v59 = mw_mirth_type_MetaVar_newZBang();
			VAL v60 = mtw_mirth_type_StackType_STMeta(v59);
			uint64_t v61 = mw_mirth_type_MetaVar_newZBang();
			VAL v62 = mtw_mirth_type_Type_TMeta(v61);
			incref(v60);
			incref(v62);
			VAL v63 = mtw_mirth_type_StackType_STConsLabel(v60, v62, in_Label_1);
			VAL v64 = mw_mirth_type_StackType_ZToType(v63);
			VAL v65 = mtw_std_maybe_Maybe_1_Some(v64);
			void* v66 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v58);
			mut_set(v65, v66);
			TUP* v67 = tup_pack2(v60, v62);
			VAL v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(v67, 2));
			branch_Maybe_5 = v68;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_5;
}
static VAL mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang (uint64_t in_Label_1, VAL in_StackType_2) {
	VAL v4 = mw_mirth_type_StackType_expand(in_StackType_2);
	VAL branch_Maybe_5;
	switch (get_data_tag(v4)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v6 = MKI64(0LL /* STACK_TYPE_ERROR */);
			VAL v7 = MKI64(0LL /* TYPE_ERROR */);
			TUP* v8 = tup_pack2(v6, v7);
			VAL v9 = mtw_std_maybe_Maybe_1_Some(MKTUP(v8, 2));
			branch_Maybe_5 = v9;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v10 = MKI64(1LL /* STACK_TYPE_DONT_CARE */);
			VAL v11 = MKI64(1LL /* TYPE_DONT_CARE */);
			TUP* v12 = tup_pack2(v10, v11);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKTUP(v12, 2));
			branch_Maybe_5 = v13;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_5 = v14;
		} break;
		case 3LL: { // STVar
			uint64_t v15 = mtp_mirth_type_StackType_STVar(v4);
			VAL v16 = MKI64(0LL /* None */);
			branch_Maybe_5 = v16;
		} break;
		case 7LL: { // STWith
			VAL v17;
			VAL v18 = mtp_mirth_type_StackType_STWith(v4, &v17);
			VAL v19 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(in_Label_1, v18);
			VAL v20;
			VAL v21 = mw_std_maybe_Maybe_1_map_1_sp3(v17, v19, &v20);
			decref(v21);
			branch_Maybe_5 = v20;
		} break;
		case 5LL: { // STCons
			VAL v22;
			VAL v23 = mtp_mirth_type_StackType_STCons(v4, &v22);
			VAL v24 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(in_Label_1, v23);
			VAL v25;
			VAL v26 = mw_std_maybe_Maybe_1_map_1_sp4(v22, v24, &v25);
			decref(v26);
			branch_Maybe_5 = v25;
		} break;
		case 6LL: { // STConsLabel
			VAL v27;
			uint64_t v28;
			VAL v29 = mtp_mirth_type_StackType_STConsLabel(v4, &v27, &v28);
			int64_t v30 = mw_mirth_label_Label_ZEqualZEqual(in_Label_1, v28);
			VAL branch_Maybe_31;
			if (((bool)v30)) {
				decref(v27);
				decref(v29);
				VAL v32 = MKI64(0LL /* None */);
				branch_Maybe_31 = v32;
			} else {
				VAL v33 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(in_Label_1, v29);
				VAL branch_Maybe_34;
				switch (get_data_tag(v33)) {
					case 1LL: { // Some
						VAL v35 = mtp_std_maybe_Maybe_1_Some(v33);
						VAL v36 = value_tup(v35, 2)->cells[0];
						VAL v37 = value_tup(v35, 2)->cells[1];
						tup_decref_outer(value_tup(v35, 2), 2);
						VAL v38 = mtw_mirth_type_StackType_STConsLabel(v36, v27, v28);
						TUP* v39 = tup_pack2(v38, v37);
						VAL v40 = mtw_std_maybe_Maybe_1_Some(MKTUP(v39, 2));
						branch_Maybe_34 = v40;
					} break;
					case 0LL: { // None
						decref(v27);
						VAL v41 = MKI64(0LL /* None */);
						branch_Maybe_34 = v41;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_31 = branch_Maybe_34;
			}
			branch_Maybe_5 = branch_Maybe_31;
		} break;
		case 8LL: { // STWithLabel
			VAL v42;
			uint64_t v43;
			VAL v44 = mtp_mirth_type_StackType_STWithLabel(v4, &v42, &v43);
			int64_t v45 = mw_mirth_label_Label_ZEqualZEqual(in_Label_1, v43);
			VAL branch_Maybe_46;
			if (((bool)v45)) {
				TUP* v47 = tup_pack2(v44, v42);
				VAL v48 = mtw_std_maybe_Maybe_1_Some(MKTUP(v47, 2));
				branch_Maybe_46 = v48;
			} else {
				VAL v49 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(in_Label_1, v44);
				VAL branch_Maybe_50;
				switch (get_data_tag(v49)) {
					case 1LL: { // Some
						VAL v51 = mtp_std_maybe_Maybe_1_Some(v49);
						VAL v52 = value_tup(v51, 2)->cells[0];
						VAL v53 = value_tup(v51, 2)->cells[1];
						tup_decref_outer(value_tup(v51, 2), 2);
						VAL v54 = mtw_mirth_type_StackType_STWithLabel(v52, v42, v43);
						TUP* v55 = tup_pack2(v54, v53);
						VAL v56 = mtw_std_maybe_Maybe_1_Some(MKTUP(v55, 2));
						branch_Maybe_50 = v56;
					} break;
					case 0LL: { // None
						decref(v42);
						VAL v57 = MKI64(0LL /* None */);
						branch_Maybe_50 = v57;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_46 = branch_Maybe_50;
			}
			branch_Maybe_5 = branch_Maybe_46;
		} break;
		case 4LL: { // STMeta
			uint64_t v58 = mtp_mirth_type_StackType_STMeta(v4);
			uint64_t v59 = mw_mirth_type_MetaVar_newZBang();
			VAL v60 = mtw_mirth_type_StackType_STMeta(v59);
			uint64_t v61 = mw_mirth_type_MetaVar_newZBang();
			VAL v62 = mtw_mirth_type_Type_TMeta(v61);
			incref(v60);
			incref(v62);
			VAL v63 = mtw_mirth_type_StackType_STWithLabel(v60, v62, in_Label_1);
			VAL v64 = mw_mirth_type_StackType_ZToType(v63);
			VAL v65 = mtw_std_maybe_Maybe_1_Some(v64);
			void* v66 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v58);
			mut_set(v65, v66);
			TUP* v67 = tup_pack2(v60, v62);
			VAL v68 = mtw_std_maybe_Maybe_1_Some(MKTUP(v67, 2));
			branch_Maybe_5 = v68;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_5;
}
static VAL mw_mirth_type_StackType_forceZ_consZAskZBang (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_expand(in_StackType_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v5 = MKI64(0LL /* STACK_TYPE_ERROR */);
			VAL v6 = MKI64(0LL /* TYPE_ERROR */);
			TUP* v7 = tup_pack2(v5, v6);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(MKTUP(v7, 2));
			branch_Maybe_4 = v8;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v9 = MKI64(1LL /* STACK_TYPE_DONT_CARE */);
			VAL v10 = MKI64(1LL /* TYPE_DONT_CARE */);
			TUP* v11 = tup_pack2(v9, v10);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_4 = v12;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_4 = v13;
		} break;
		case 3LL: { // STVar
			uint64_t v14 = mtp_mirth_type_StackType_STVar(v3);
			VAL v15 = MKI64(0LL /* None */);
			branch_Maybe_4 = v15;
		} break;
		case 5LL: { // STCons
			VAL v16;
			VAL v17 = mtp_mirth_type_StackType_STCons(v3, &v16);
			TUP* v18 = tup_pack2(v17, v16);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18, 2));
			branch_Maybe_4 = v19;
		} break;
		case 7LL: { // STWith
			VAL v20;
			VAL v21 = mtp_mirth_type_StackType_STWith(v3, &v20);
			VAL v22 = mw_mirth_type_StackType_forceZ_consZAskZBang(v21);
			VAL v23;
			VAL v24 = mw_std_maybe_Maybe_1_map_1_sp3(v20, v22, &v23);
			decref(v24);
			branch_Maybe_4 = v23;
		} break;
		case 6LL: { // STConsLabel
			VAL v25;
			uint64_t v26;
			VAL v27 = mtp_mirth_type_StackType_STConsLabel(v3, &v25, &v26);
			VAL v28 = mw_mirth_type_StackType_forceZ_consZAskZBang(v27);
			VAL branch_Maybe_29;
			switch (get_data_tag(v28)) {
				case 1LL: { // Some
					VAL v30 = mtp_std_maybe_Maybe_1_Some(v28);
					VAL v31 = value_tup(v30, 2)->cells[0];
					VAL v32 = value_tup(v30, 2)->cells[1];
					tup_decref_outer(value_tup(v30, 2), 2);
					VAL v33 = mtw_mirth_type_StackType_STConsLabel(v31, v25, v26);
					TUP* v34 = tup_pack2(v33, v32);
					VAL v35 = mtw_std_maybe_Maybe_1_Some(MKTUP(v34, 2));
					branch_Maybe_29 = v35;
				} break;
				case 0LL: { // None
					decref(v25);
					VAL v36 = MKI64(0LL /* None */);
					branch_Maybe_29 = v36;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_4 = branch_Maybe_29;
		} break;
		case 8LL: { // STWithLabel
			VAL v37;
			uint64_t v38;
			VAL v39 = mtp_mirth_type_StackType_STWithLabel(v3, &v37, &v38);
			VAL v40 = mw_mirth_type_StackType_forceZ_consZAskZBang(v39);
			VAL branch_Maybe_41;
			switch (get_data_tag(v40)) {
				case 1LL: { // Some
					VAL v42 = mtp_std_maybe_Maybe_1_Some(v40);
					VAL v43 = value_tup(v42, 2)->cells[0];
					VAL v44 = value_tup(v42, 2)->cells[1];
					tup_decref_outer(value_tup(v42, 2), 2);
					VAL v45 = mtw_mirth_type_StackType_STWithLabel(v43, v37, v38);
					TUP* v46 = tup_pack2(v45, v44);
					VAL v47 = mtw_std_maybe_Maybe_1_Some(MKTUP(v46, 2));
					branch_Maybe_41 = v47;
				} break;
				case 0LL: { // None
					decref(v37);
					VAL v48 = MKI64(0LL /* None */);
					branch_Maybe_41 = v48;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_4 = branch_Maybe_41;
		} break;
		case 4LL: { // STMeta
			uint64_t v49 = mtp_mirth_type_StackType_STMeta(v3);
			uint64_t v50 = mw_mirth_type_MetaVar_newZBang();
			VAL v51 = mtw_mirth_type_StackType_STMeta(v50);
			uint64_t v52 = mw_mirth_type_MetaVar_newZBang();
			VAL v53 = mtw_mirth_type_Type_TMeta(v52);
			incref(v51);
			incref(v53);
			VAL v54 = mtw_mirth_type_StackType_STCons(v51, v53);
			VAL v55 = mw_mirth_type_StackType_ZToType(v54);
			VAL v56 = mtw_std_maybe_Maybe_1_Some(v55);
			void* v57 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v49);
			mut_set(v56, v57);
			TUP* v58 = tup_pack2(v51, v53);
			VAL v59 = mtw_std_maybe_Maybe_1_Some(MKTUP(v58, 2));
			branch_Maybe_4 = v59;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_type_StackType_forceZ_withZAskZBang (VAL in_StackType_1) {
	VAL v3 = mw_mirth_type_StackType_expand(in_StackType_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v5 = MKI64(0LL /* STACK_TYPE_ERROR */);
			VAL v6 = MKI64(0LL /* TYPE_ERROR */);
			TUP* v7 = tup_pack2(v5, v6);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(MKTUP(v7, 2));
			branch_Maybe_4 = v8;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v9 = MKI64(1LL /* STACK_TYPE_DONT_CARE */);
			VAL v10 = MKI64(1LL /* TYPE_DONT_CARE */);
			TUP* v11 = tup_pack2(v9, v10);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_4 = v12;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_4 = v13;
		} break;
		case 3LL: { // STVar
			uint64_t v14 = mtp_mirth_type_StackType_STVar(v3);
			VAL v15 = MKI64(0LL /* None */);
			branch_Maybe_4 = v15;
		} break;
		case 7LL: { // STWith
			VAL v16;
			VAL v17 = mtp_mirth_type_StackType_STWith(v3, &v16);
			TUP* v18 = tup_pack2(v17, v16);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(MKTUP(v18, 2));
			branch_Maybe_4 = v19;
		} break;
		case 5LL: { // STCons
			VAL v20;
			VAL v21 = mtp_mirth_type_StackType_STCons(v3, &v20);
			VAL v22 = mw_mirth_type_StackType_forceZ_withZAskZBang(v21);
			VAL v23;
			VAL v24 = mw_std_maybe_Maybe_1_map_1_sp4(v20, v22, &v23);
			decref(v24);
			branch_Maybe_4 = v23;
		} break;
		case 6LL: { // STConsLabel
			VAL v25;
			uint64_t v26;
			VAL v27 = mtp_mirth_type_StackType_STConsLabel(v3, &v25, &v26);
			VAL v28 = mw_mirth_type_StackType_forceZ_withZAskZBang(v27);
			VAL branch_Maybe_29;
			switch (get_data_tag(v28)) {
				case 1LL: { // Some
					VAL v30 = mtp_std_maybe_Maybe_1_Some(v28);
					VAL v31 = value_tup(v30, 2)->cells[0];
					VAL v32 = value_tup(v30, 2)->cells[1];
					tup_decref_outer(value_tup(v30, 2), 2);
					VAL v33 = mtw_mirth_type_StackType_STConsLabel(v31, v25, v26);
					TUP* v34 = tup_pack2(v33, v32);
					VAL v35 = mtw_std_maybe_Maybe_1_Some(MKTUP(v34, 2));
					branch_Maybe_29 = v35;
				} break;
				case 0LL: { // None
					decref(v25);
					VAL v36 = MKI64(0LL /* None */);
					branch_Maybe_29 = v36;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_4 = branch_Maybe_29;
		} break;
		case 8LL: { // STWithLabel
			VAL v37;
			uint64_t v38;
			VAL v39 = mtp_mirth_type_StackType_STWithLabel(v3, &v37, &v38);
			VAL v40 = mw_mirth_type_StackType_forceZ_withZAskZBang(v39);
			VAL branch_Maybe_41;
			switch (get_data_tag(v40)) {
				case 1LL: { // Some
					VAL v42 = mtp_std_maybe_Maybe_1_Some(v40);
					VAL v43 = value_tup(v42, 2)->cells[0];
					VAL v44 = value_tup(v42, 2)->cells[1];
					tup_decref_outer(value_tup(v42, 2), 2);
					VAL v45 = mtw_mirth_type_StackType_STWithLabel(v43, v37, v38);
					TUP* v46 = tup_pack2(v45, v44);
					VAL v47 = mtw_std_maybe_Maybe_1_Some(MKTUP(v46, 2));
					branch_Maybe_41 = v47;
				} break;
				case 0LL: { // None
					decref(v37);
					VAL v48 = MKI64(0LL /* None */);
					branch_Maybe_41 = v48;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_4 = branch_Maybe_41;
		} break;
		case 4LL: { // STMeta
			uint64_t v49 = mtp_mirth_type_StackType_STMeta(v3);
			uint64_t v50 = mw_mirth_type_MetaVar_newZBang();
			VAL v51 = mtw_mirth_type_StackType_STMeta(v50);
			uint64_t v52 = mw_mirth_type_MetaVar_newZBang();
			VAL v53 = mtw_mirth_type_Type_TMeta(v52);
			incref(v51);
			incref(v53);
			VAL v54 = mtw_mirth_type_StackType_STWith(v51, v53);
			VAL v55 = mw_mirth_type_StackType_ZToType(v54);
			VAL v56 = mtw_std_maybe_Maybe_1_Some(v55);
			void* v57 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v49);
			mut_set(v56, v57);
			TUP* v58 = tup_pack2(v51, v53);
			VAL v59 = mtw_std_maybe_Maybe_1_Some(MKTUP(v58, 2));
			branch_Maybe_4 = v59;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static void mw_mirth_type_StackType_domZThen (VAL in_ZPlusStr_1, VAL in_StackType_2, VAL *out_ZPlusStr_3) {
	VAL v4 = mw_mirth_type_StackType_expand(in_StackType_2);
	incref(v4);
	int64_t v5 = mw_mirth_type_StackType_unitZAsk(v4);
	VAL branch_ZPlusStr_6;
	if (((bool)v5)) {
		decref(v4);
		branch_ZPlusStr_6 = in_ZPlusStr_1;
	} else {
		VAL v7;
		mw_mirth_type_StackType_stackZThen(in_ZPlusStr_1, v4, &v7);
		STR* v8;
		STRLIT(v8, " ", 1);
		VAL v9;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v8), v7, &v9);
		branch_ZPlusStr_6 = v9;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_6;
}
static void mw_mirth_type_StackType_codZThen (VAL in_ZPlusStr_1, VAL in_StackType_2, VAL *out_ZPlusStr_3) {
	VAL v4 = mw_mirth_type_StackType_expand(in_StackType_2);
	incref(v4);
	int64_t v5 = mw_mirth_type_StackType_unitZAsk(v4);
	VAL branch_ZPlusStr_6;
	if (((bool)v5)) {
		decref(v4);
		branch_ZPlusStr_6 = in_ZPlusStr_1;
	} else {
		STR* v7;
		STRLIT(v7, " ", 1);
		VAL v8;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v7), in_ZPlusStr_1, &v8);
		VAL v9;
		mw_mirth_type_StackType_stackZThen(v8, v4, &v9);
		branch_ZPlusStr_6 = v9;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_6;
}
static int64_t mw_mirth_type_StackType_baseZThen (VAL in_ZPlusStr_1, VAL in_StackType_2, VAL *out_ZPlusStr_3) {
	VAL branch_ZPlusStr_5;
	int64_t branch_Bool_6;
	switch (get_data_tag(in_StackType_2)) {
		case 2LL: { // STACK_TYPE_UNIT
			int64_t v7 = 0LL /* False */;
			branch_Bool_6 = v7;
			branch_ZPlusStr_5 = in_ZPlusStr_1;
		} break;
		case 4LL: { // STMeta
			uint64_t v8 = mtp_mirth_type_StackType_STMeta(in_StackType_2);
			STR* v9;
			STRLIT(v9, "*", 1);
			VAL v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v9), in_ZPlusStr_1, &v10);
			VAL v11;
			mw_mirth_type_MetaVar_typeZThen(v10, v8, &v11);
			int64_t v12 = 1LL /* True */;
			branch_Bool_6 = v12;
			branch_ZPlusStr_5 = v11;
		} break;
		case 3LL: { // STVar
			uint64_t v13 = mtp_mirth_type_StackType_STVar(in_StackType_2);
			int64_t v14 = mw_mirth_var_Var_isZ_stackZAsk(v13);
			VAL branch_ZPlusStr_15;
			if (((bool)v14)) {
				branch_ZPlusStr_15 = in_ZPlusStr_1;
			} else {
				STR* v16;
				STRLIT(v16, "* ", 2);
				VAL v17;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v16), in_ZPlusStr_1, &v17);
				branch_ZPlusStr_15 = v17;
			}
			VAL v18;
			mw_mirth_var_Var_typeZThen(branch_ZPlusStr_15, v13, &v18);
			int64_t v19 = 1LL /* True */;
			branch_Bool_6 = v19;
			branch_ZPlusStr_5 = v18;
		} break;
		default: {
			VAL v20 = mw_mirth_type_StackType_ZToType(in_StackType_2);
			STR* v21;
			STRLIT(v21, "* ", 2);
			VAL v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v21), in_ZPlusStr_1, &v22);
			VAL v23;
			mw_mirth_type_Type_typeZThen(v20, v22, &v23);
			int64_t v24 = 1LL /* True */;
			branch_Bool_6 = v24;
			branch_ZPlusStr_5 = v23;
		} break;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_5;
	return branch_Bool_6;
}
static void mw_mirth_type_StackType_stackZThen (VAL in_ZPlusStr_1, VAL in_StackType_2, VAL *out_ZPlusStr_3) {
	VAL v4;
	VAL v5;
	VAL v6;
	VAL v7 = mw_mirth_type_StackType_split4(in_StackType_2, &v4, &v5, &v6);
	VAL v8;
	int64_t v9 = mw_mirth_type_StackType_baseZThen(in_ZPlusStr_1, v7, &v8);
	int64_t v10 = 1LL /* True */;
	VAL v11 = v8;
	int64_t v12 = v9;
	VAL v13 = v4;
	int64_t v14 = v10;
	int64_t v15 = v10;
	while (((bool)v15)) {
		VAL v16 = v11;
		int64_t v17 = v12;
		VAL v18 = v13;
		int64_t v19 = v14;
		VAL branch_ZPlusStr_20;
		int64_t branch_Bool_21;
		VAL branch_List_22;
		int64_t branch_Bool_23;
		switch (get_data_tag(v18)) {
			case 1LL: { // Cons
				VAL v24;
				VAL v25 = mtp_std_list_List_1_Cons(v18, &v24);
				VAL branch_ZPlusStr_26;
				if (((bool)v17)) {
					STR* v27;
					STRLIT(v27, " ", 1);
					VAL v28;
					mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v27), v16, &v28);
					branch_ZPlusStr_26 = v28;
				} else {
					branch_ZPlusStr_26 = v16;
				}
				VAL v29 = value_tup(v25, 2)->cells[0];
				VAL v30 = value_tup(v25, 2)->cells[1];
				tup_decref_outer(value_tup(v25, 2), 2);
				VAL v31 = mw_mirth_label_Label_ZToStr(value_u64(v30));
				VAL v32;
				mw_std_str_ZPlusStr_pushZ_strZBang(v31, branch_ZPlusStr_26, &v32);
				STR* v33;
				STRLIT(v33, ":", 1);
				VAL v34;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v33), v32, &v34);
				VAL branch_ZPlusStr_35;
				switch (get_data_tag(v29)) {
					case 0LL: { // Left
						VAL v36 = mtp_std_either_Either_2_Left(v29);
						VAL v37;
						mw_mirth_type_Type_typeZThen(v36, v34, &v37);
						branch_ZPlusStr_35 = v37;
					} break;
					case 1LL: { // Right
						VAL v38 = mtp_std_either_Either_2_Right(v29);
						VAL v39;
						mw_mirth_type_Resource_typeZThen(v34, v38, &v39);
						branch_ZPlusStr_35 = v39;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v40 = 1LL /* True */;
				int64_t v41 = 1LL /* True */;
				branch_Bool_23 = v41;
				branch_List_22 = v24;
				branch_Bool_21 = v40;
				branch_ZPlusStr_20 = branch_ZPlusStr_35;
			} break;
			case 0LL: { // Nil
				VAL v42 = MKI64(0LL /* Nil */);
				int64_t v43 = 0LL /* False */;
				branch_Bool_23 = v43;
				branch_List_22 = v42;
				branch_Bool_21 = v17;
				branch_ZPlusStr_20 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_23;
		v14 = branch_Bool_23;
		v13 = branch_List_22;
		v12 = branch_Bool_21;
		v11 = branch_ZPlusStr_20;
	}
	decref(v13);
	int64_t v44 = 1LL /* True */;
	VAL v45 = v11;
	int64_t v46 = v12;
	VAL v47 = v5;
	int64_t v48 = v44;
	int64_t v49 = v44;
	while (((bool)v49)) {
		VAL v50 = v45;
		int64_t v51 = v46;
		VAL v52 = v47;
		int64_t v53 = v48;
		VAL branch_ZPlusStr_54;
		int64_t branch_Bool_55;
		VAL branch_List_56;
		int64_t branch_Bool_57;
		switch (get_data_tag(v52)) {
			case 1LL: { // Cons
				VAL v58;
				VAL v59 = mtp_std_list_List_1_Cons(v52, &v58);
				VAL branch_ZPlusStr_60;
				if (((bool)v51)) {
					STR* v61;
					STRLIT(v61, " ", 1);
					VAL v62;
					mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v61), v50, &v62);
					branch_ZPlusStr_60 = v62;
				} else {
					branch_ZPlusStr_60 = v50;
				}
				VAL v63;
				mw_mirth_type_Type_typeZThen(v59, branch_ZPlusStr_60, &v63);
				int64_t v64 = 1LL /* True */;
				int64_t v65 = 1LL /* True */;
				branch_Bool_57 = v65;
				branch_List_56 = v58;
				branch_Bool_55 = v64;
				branch_ZPlusStr_54 = v63;
			} break;
			case 0LL: { // Nil
				VAL v66 = MKI64(0LL /* Nil */);
				int64_t v67 = 0LL /* False */;
				branch_Bool_57 = v67;
				branch_List_56 = v66;
				branch_Bool_55 = v51;
				branch_ZPlusStr_54 = v50;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v49 = branch_Bool_57;
		v48 = branch_Bool_57;
		v47 = branch_List_56;
		v46 = branch_Bool_55;
		v45 = branch_ZPlusStr_54;
	}
	decref(v47);
	int64_t v68 = 1LL /* True */;
	VAL v69 = v45;
	int64_t v70 = v46;
	VAL v71 = v6;
	int64_t v72 = v68;
	int64_t v73 = v68;
	while (((bool)v73)) {
		VAL v74 = v69;
		int64_t v75 = v70;
		VAL v76 = v71;
		int64_t v77 = v72;
		VAL branch_ZPlusStr_78;
		int64_t branch_Bool_79;
		VAL branch_List_80;
		int64_t branch_Bool_81;
		switch (get_data_tag(v76)) {
			case 1LL: { // Cons
				VAL v82;
				VAL v83 = mtp_std_list_List_1_Cons(v76, &v82);
				VAL branch_ZPlusStr_84;
				if (((bool)v75)) {
					STR* v85;
					STRLIT(v85, " ", 1);
					VAL v86;
					mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v85), v74, &v86);
					branch_ZPlusStr_84 = v86;
				} else {
					branch_ZPlusStr_84 = v74;
				}
				VAL v87;
				mw_mirth_type_Resource_typeZThen(branch_ZPlusStr_84, v83, &v87);
				int64_t v88 = 1LL /* True */;
				int64_t v89 = 1LL /* True */;
				branch_Bool_81 = v89;
				branch_List_80 = v82;
				branch_Bool_79 = v88;
				branch_ZPlusStr_78 = v87;
			} break;
			case 0LL: { // Nil
				VAL v90 = MKI64(0LL /* Nil */);
				int64_t v91 = 0LL /* False */;
				branch_Bool_81 = v91;
				branch_List_80 = v90;
				branch_Bool_79 = v75;
				branch_ZPlusStr_78 = v74;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v73 = branch_Bool_81;
		v72 = branch_Bool_81;
		v71 = branch_List_80;
		v70 = branch_Bool_79;
		v69 = branch_ZPlusStr_78;
	}
	decref(v71);
	*out_ZPlusStr_3 = v69;
}
static VAL mw_mirth_type_StackType_semifreshen (VAL in_StackType_1, VAL in_StackType_2, VAL *out_StackType_4) {
	VAL v5 = mw_mirth_type_StackType_expand(in_StackType_2);
	VAL branch_StackType_6;
	VAL branch_StackType_7;
	switch (get_data_tag(v5)) {
		case 2LL: { // STACK_TYPE_UNIT
			incref(in_StackType_1);
			branch_StackType_7 = in_StackType_1;
			branch_StackType_6 = in_StackType_1;
		} break;
		case 5LL: { // STCons
			VAL v8;
			VAL v9 = mtp_mirth_type_StackType_STCons(v5, &v8);
			VAL v10;
			VAL v11 = mw_mirth_type_StackType_semifreshen(in_StackType_1, v9, &v10);
			VAL v12 = mtw_mirth_type_StackType_STCons(v10, v8);
			branch_StackType_7 = v12;
			branch_StackType_6 = v11;
		} break;
		case 7LL: { // STWith
			VAL v13;
			VAL v14 = mtp_mirth_type_StackType_STWith(v5, &v13);
			VAL v15;
			VAL v16 = mw_mirth_type_StackType_semifreshen(in_StackType_1, v14, &v15);
			VAL v17 = mtw_mirth_type_StackType_STWith(v15, v13);
			branch_StackType_7 = v17;
			branch_StackType_6 = v16;
		} break;
		case 6LL: { // STConsLabel
			VAL v18;
			uint64_t v19;
			VAL v20 = mtp_mirth_type_StackType_STConsLabel(v5, &v18, &v19);
			VAL v21;
			VAL v22 = mw_mirth_type_StackType_semifreshen(in_StackType_1, v20, &v21);
			VAL v23 = mtw_mirth_type_StackType_STConsLabel(v21, v18, v19);
			branch_StackType_7 = v23;
			branch_StackType_6 = v22;
		} break;
		case 8LL: { // STWithLabel
			VAL v24;
			uint64_t v25;
			VAL v26 = mtp_mirth_type_StackType_STWithLabel(v5, &v24, &v25);
			VAL v27;
			VAL v28 = mw_mirth_type_StackType_semifreshen(in_StackType_1, v26, &v27);
			VAL v29 = mtw_mirth_type_StackType_STWithLabel(v27, v24, v25);
			branch_StackType_7 = v29;
			branch_StackType_6 = v28;
		} break;
		default: {
			STR* v30;
			STRLIT(v30, "expected unit-based stack in semifreshen!", 41);
			do_panic(v30);
		} break;
	}
	*out_StackType_4 = branch_StackType_7;
	return branch_StackType_6;
}
static VAL mw_mirth_type_StackType_freshen (VAL in_Subst_1, VAL in_StackType_2, VAL *out_StackType_4) {
	VAL v5 = mw_mirth_type_StackType_expand(in_StackType_2);
	VAL branch_Subst_6;
	VAL branch_StackType_7;
	switch (get_data_tag(v5)) {
		case 2LL: { // STACK_TYPE_UNIT
			VAL v8 = MKI64(2LL /* STACK_TYPE_UNIT */);
			branch_StackType_7 = v8;
			branch_Subst_6 = in_Subst_1;
		} break;
		case 5LL: { // STCons
			VAL v9;
			VAL v10 = mtp_mirth_type_StackType_STCons(v5, &v9);
			VAL v11;
			VAL v12 = mw_mirth_type_StackType_freshen(in_Subst_1, v10, &v11);
			VAL v13;
			VAL v14 = mw_mirth_type_Type_freshen(v12, v9, &v13);
			VAL v15 = mtw_mirth_type_StackType_STCons(v11, v13);
			branch_StackType_7 = v15;
			branch_Subst_6 = v14;
		} break;
		case 7LL: { // STWith
			VAL v16;
			VAL v17 = mtp_mirth_type_StackType_STWith(v5, &v16);
			VAL v18;
			VAL v19 = mw_mirth_type_StackType_freshen(in_Subst_1, v17, &v18);
			VAL v20;
			VAL v21 = mw_mirth_type_Resource_freshen(v19, v16, &v20);
			VAL v22 = mtw_mirth_type_StackType_STWith(v18, v20);
			branch_StackType_7 = v22;
			branch_Subst_6 = v21;
		} break;
		case 6LL: { // STConsLabel
			VAL v23;
			uint64_t v24;
			VAL v25 = mtp_mirth_type_StackType_STConsLabel(v5, &v23, &v24);
			VAL v26;
			VAL v27 = mw_mirth_type_StackType_freshen(in_Subst_1, v25, &v26);
			VAL v28;
			VAL v29 = mw_mirth_type_Type_freshen(v27, v23, &v28);
			VAL v30 = mtw_mirth_type_StackType_STConsLabel(v26, v28, v24);
			branch_StackType_7 = v30;
			branch_Subst_6 = v29;
		} break;
		case 8LL: { // STWithLabel
			VAL v31;
			uint64_t v32;
			VAL v33 = mtp_mirth_type_StackType_STWithLabel(v5, &v31, &v32);
			VAL v34;
			VAL v35 = mw_mirth_type_StackType_freshen(in_Subst_1, v33, &v34);
			VAL v36;
			VAL v37 = mw_mirth_type_Resource_freshen(v35, v31, &v36);
			VAL v38 = mtw_mirth_type_StackType_STWithLabel(v34, v36, v32);
			branch_StackType_7 = v38;
			branch_Subst_6 = v37;
		} break;
		default: {
			VAL v39 = mw_mirth_type_StackType_ZToType(v5);
			VAL v40;
			VAL v41 = mw_mirth_type_Type_freshen(in_Subst_1, v39, &v40);
			VAL v42 = mw_mirth_type_Type_ZToStackType(v40);
			branch_StackType_7 = v42;
			branch_Subst_6 = v41;
		} break;
	}
	*out_StackType_4 = branch_StackType_7;
	return branch_Subst_6;
}
static VAL mw_mirth_type_StackType_freshenZ_aux (VAL in_StackType_1, VAL in_Subst_2, VAL in_StackType_3, VAL *out_Subst_5, VAL *out_StackType_6) {
	VAL v7 = mw_mirth_type_StackType_expand(in_StackType_3);
	VAL branch_StackType_8;
	VAL branch_Subst_9;
	VAL branch_StackType_10;
	switch (get_data_tag(v7)) {
		case 2LL: { // STACK_TYPE_UNIT
			incref(in_StackType_1);
			branch_StackType_10 = in_StackType_1;
			branch_Subst_9 = in_Subst_2;
			branch_StackType_8 = in_StackType_1;
		} break;
		case 5LL: { // STCons
			VAL v11;
			VAL v12 = mtp_mirth_type_StackType_STCons(v7, &v11);
			VAL v13;
			VAL v14;
			VAL v15 = mw_mirth_type_StackType_freshenZ_aux(in_StackType_1, in_Subst_2, v12, &v13, &v14);
			VAL v16;
			VAL v17 = mw_mirth_type_Type_freshen(v13, v11, &v16);
			VAL v18 = mtw_mirth_type_StackType_STCons(v14, v16);
			branch_StackType_10 = v18;
			branch_Subst_9 = v17;
			branch_StackType_8 = v15;
		} break;
		case 7LL: { // STWith
			VAL v19;
			VAL v20 = mtp_mirth_type_StackType_STWith(v7, &v19);
			VAL v21;
			VAL v22;
			VAL v23 = mw_mirth_type_StackType_freshenZ_aux(in_StackType_1, in_Subst_2, v20, &v21, &v22);
			VAL v24;
			VAL v25 = mw_mirth_type_Resource_freshen(v21, v19, &v24);
			VAL v26 = mtw_mirth_type_StackType_STWith(v22, v24);
			branch_StackType_10 = v26;
			branch_Subst_9 = v25;
			branch_StackType_8 = v23;
		} break;
		case 6LL: { // STConsLabel
			VAL v27;
			uint64_t v28;
			VAL v29 = mtp_mirth_type_StackType_STConsLabel(v7, &v27, &v28);
			VAL v30;
			VAL v31;
			VAL v32 = mw_mirth_type_StackType_freshenZ_aux(in_StackType_1, in_Subst_2, v29, &v30, &v31);
			VAL v33;
			VAL v34 = mw_mirth_type_Type_freshen(v30, v27, &v33);
			VAL v35 = mtw_mirth_type_StackType_STConsLabel(v31, v33, v28);
			branch_StackType_10 = v35;
			branch_Subst_9 = v34;
			branch_StackType_8 = v32;
		} break;
		case 8LL: { // STWithLabel
			VAL v36;
			uint64_t v37;
			VAL v38 = mtp_mirth_type_StackType_STWithLabel(v7, &v36, &v37);
			VAL v39;
			VAL v40;
			VAL v41 = mw_mirth_type_StackType_freshenZ_aux(in_StackType_1, in_Subst_2, v38, &v39, &v40);
			VAL v42;
			VAL v43 = mw_mirth_type_Resource_freshen(v39, v36, &v42);
			VAL v44 = mtw_mirth_type_StackType_STWithLabel(v40, v42, v37);
			branch_StackType_10 = v44;
			branch_Subst_9 = v43;
			branch_StackType_8 = v41;
		} break;
		default: {
			VAL v45 = mw_mirth_type_StackType_ZToType(v7);
			VAL v46;
			VAL v47 = mw_mirth_type_Type_freshen(in_Subst_2, v45, &v46);
			VAL v48 = mw_mirth_type_Type_ZToStackType(v46);
			branch_StackType_10 = v48;
			branch_Subst_9 = v47;
			branch_StackType_8 = in_StackType_1;
		} break;
	}
	*out_StackType_6 = branch_StackType_10;
	*out_Subst_5 = branch_Subst_9;
	return branch_StackType_8;
}
static VAL mw_mirth_type_StackType_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, VAL *out_ZPlusMirth_4, VAL *out_StackType_6) {
	VAL branch_ZPlusMirth_7;
	VAL branch_Ctx_8;
	VAL branch_StackType_9;
	switch (get_data_tag(in_StackType_3)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v10 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_9 = v10;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v11 = MKI64(1LL /* STACK_TYPE_DONT_CARE */);
			branch_StackType_9 = v11;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v12 = MKI64(2LL /* STACK_TYPE_UNIT */);
			branch_StackType_9 = v12;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // STMeta
			uint64_t v13 = mtp_mirth_type_StackType_STMeta(in_StackType_3);
			VAL v14 = mw_mirth_type_MetaVar_typeZAsk(v13);
			VAL branch_Ctx_15;
			VAL branch_Type_16;
			switch (get_data_tag(v14)) {
				case 0LL: { // None
					uint64_t v17;
					VAL v18 = mw_mirth_var_Ctx_freshZ_stackZ_typeZ_varZBang(in_Ctx_2, &v17);
					VAL v19 = mtw_mirth_type_Type_TVar(v17);
					incref(v19);
					VAL v20 = mtw_std_maybe_Maybe_1_Some(v19);
					void* v21 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v13);
					mut_set(v20, v21);
					branch_Type_16 = v19;
					branch_Ctx_15 = v18;
				} break;
				case 1LL: { // Some
					VAL v22 = mtp_std_maybe_Maybe_1_Some(v14);
					branch_Type_16 = v22;
					branch_Ctx_15 = in_Ctx_2;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v23 = mw_mirth_type_Type_ZToStackType(branch_Type_16);
			VAL v24;
			VAL v25;
			VAL v26 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, branch_Ctx_15, v23, &v24, &v25);
			branch_StackType_9 = v25;
			branch_Ctx_8 = v26;
			branch_ZPlusMirth_7 = v24;
		} break;
		case 3LL: { // STVar
			uint64_t v27 = mtp_mirth_type_StackType_STVar(in_StackType_3);
			VAL v28 = mtw_mirth_type_StackType_STVar(v27);
			branch_StackType_9 = v28;
			branch_Ctx_8 = in_Ctx_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // STCons
			VAL v29;
			VAL v30 = mtp_mirth_type_StackType_STCons(in_StackType_3, &v29);
			VAL v31;
			VAL v32;
			VAL v33 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v30, &v31, &v32);
			VAL v34;
			VAL v35;
			VAL v36 = mw_mirth_type_Type_rigidifyZBang(v31, v33, v29, &v34, &v35);
			VAL v37 = mtw_mirth_type_StackType_STCons(v32, v35);
			branch_StackType_9 = v37;
			branch_Ctx_8 = v36;
			branch_ZPlusMirth_7 = v34;
		} break;
		case 6LL: { // STConsLabel
			VAL v38;
			uint64_t v39;
			VAL v40 = mtp_mirth_type_StackType_STConsLabel(in_StackType_3, &v38, &v39);
			VAL v41;
			VAL v42;
			VAL v43 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v40, &v41, &v42);
			VAL v44;
			VAL v45;
			VAL v46 = mw_mirth_type_Type_rigidifyZBang(v41, v43, v38, &v44, &v45);
			VAL v47 = mtw_mirth_type_StackType_STConsLabel(v42, v45, v39);
			branch_StackType_9 = v47;
			branch_Ctx_8 = v46;
			branch_ZPlusMirth_7 = v44;
		} break;
		case 7LL: { // STWith
			VAL v48;
			VAL v49 = mtp_mirth_type_StackType_STWith(in_StackType_3, &v48);
			VAL v50;
			VAL v51;
			VAL v52 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v49, &v50, &v51);
			VAL v53;
			VAL v54;
			VAL v55 = mw_mirth_type_Resource_rigidifyZBang(v50, v52, v48, &v53, &v54);
			VAL v56 = mtw_mirth_type_StackType_STWith(v51, v54);
			branch_StackType_9 = v56;
			branch_Ctx_8 = v55;
			branch_ZPlusMirth_7 = v53;
		} break;
		case 8LL: { // STWithLabel
			VAL v57;
			uint64_t v58;
			VAL v59 = mtp_mirth_type_StackType_STWithLabel(in_StackType_3, &v57, &v58);
			VAL v60;
			VAL v61;
			VAL v62 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v59, &v60, &v61);
			VAL v63;
			VAL v64;
			VAL v65 = mw_mirth_type_Resource_rigidifyZBang(v60, v62, v57, &v63, &v64);
			VAL v66 = mtw_mirth_type_StackType_STWithLabel(v61, v64, v58);
			branch_StackType_9 = v66;
			branch_Ctx_8 = v65;
			branch_ZPlusMirth_7 = v63;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_StackType_6 = branch_StackType_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Ctx_8;
}
static VAL mw_mirth_type_StackType_linearZ_baseZ_metaZAsk (VAL in_StackType_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_StackType_1)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v4 = MKI64(0LL /* None */);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
		case 4LL: { // STMeta
			uint64_t v7 = mtp_mirth_type_StackType_STMeta(in_StackType_1);
			VAL v8 = mw_mirth_type_MetaVar_typeZAsk(v7);
			VAL branch_Maybe_9;
			switch (get_data_tag(v8)) {
				case 0LL: { // None
					VAL v10 = mtw_std_maybe_Maybe_1_Some(MKU64(v7));
					branch_Maybe_9 = v10;
				} break;
				case 1LL: { // Some
					VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
					VAL v12 = mw_mirth_type_Type_expand(v11);
					incref(v12);
					VAL v13 = mtw_std_maybe_Maybe_1_Some(v12);
					void* v14 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v7);
					mut_set(v13, v14);
					VAL v15 = mw_mirth_type_Type_ZToStackType(v12);
					VAL v16 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v15);
					branch_Maybe_9 = v16;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_3 = branch_Maybe_9;
		} break;
		case 3LL: { // STVar
			uint64_t v17 = mtp_mirth_type_StackType_STVar(in_StackType_1);
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_3 = v18;
		} break;
		case 5LL: { // STCons
			VAL v19;
			VAL v20 = mtp_mirth_type_StackType_STCons(in_StackType_1, &v19);
			VAL v21 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v20);
			VAL v22;
			VAL v23 = mw_std_maybe_Maybe_1_filter_1_sp4(v19, v21, &v22);
			decref(v23);
			branch_Maybe_3 = v22;
		} break;
		case 7LL: { // STWith
			VAL v24;
			VAL v25 = mtp_mirth_type_StackType_STWith(in_StackType_1, &v24);
			VAL v26 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v25);
			VAL v27;
			VAL v28 = mw_std_maybe_Maybe_1_filter_1_sp5(v24, v26, &v27);
			decref(v28);
			branch_Maybe_3 = v27;
		} break;
		case 6LL: { // STConsLabel
			VAL v29;
			uint64_t v30;
			VAL v31 = mtp_mirth_type_StackType_STConsLabel(in_StackType_1, &v29, &v30);
			VAL v32 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v31);
			VAL v33;
			VAL v34 = mw_std_maybe_Maybe_1_filter_1_sp4(v29, v32, &v33);
			decref(v34);
			branch_Maybe_3 = v33;
		} break;
		case 8LL: { // STWithLabel
			VAL v35;
			uint64_t v36;
			VAL v37 = mtp_mirth_type_StackType_STWithLabel(in_StackType_1, &v35, &v36);
			VAL v38 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v37);
			VAL v39;
			VAL v40 = mw_std_maybe_Maybe_1_filter_1_sp5(v35, v38, &v39);
			decref(v40);
			branch_Maybe_3 = v39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_type_StackType_linearZ_baseZ_varZAsk (VAL in_StackType_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_StackType_1)) {
		case 0LL: { // STACK_TYPE_ERROR
			VAL v4 = MKI64(0LL /* None */);
			branch_Maybe_3 = v4;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 2LL: { // STACK_TYPE_UNIT
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
		case 4LL: { // STMeta
			uint64_t v7 = mtp_mirth_type_StackType_STMeta(in_StackType_1);
			VAL v8 = mw_mirth_type_MetaVar_typeZAsk(v7);
			VAL branch_Maybe_9;
			switch (get_data_tag(v8)) {
				case 0LL: { // None
					VAL v10 = MKI64(0LL /* None */);
					branch_Maybe_9 = v10;
				} break;
				case 1LL: { // Some
					VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
					VAL v12 = mw_mirth_type_Type_expand(v11);
					incref(v12);
					VAL v13 = mtw_std_maybe_Maybe_1_Some(v12);
					void* v14 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v7);
					mut_set(v13, v14);
					VAL v15 = mw_mirth_type_Type_ZToStackType(v12);
					VAL v16 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v15);
					branch_Maybe_9 = v16;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_3 = branch_Maybe_9;
		} break;
		case 3LL: { // STVar
			uint64_t v17 = mtp_mirth_type_StackType_STVar(in_StackType_1);
			VAL v18 = mtw_std_maybe_Maybe_1_Some(MKU64(v17));
			branch_Maybe_3 = v18;
		} break;
		case 5LL: { // STCons
			VAL v19;
			VAL v20 = mtp_mirth_type_StackType_STCons(in_StackType_1, &v19);
			VAL v21 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v20);
			VAL v22;
			VAL v23 = mw_std_maybe_Maybe_1_filter_1_sp2(v19, v21, &v22);
			decref(v23);
			branch_Maybe_3 = v22;
		} break;
		case 7LL: { // STWith
			VAL v24;
			VAL v25 = mtp_mirth_type_StackType_STWith(in_StackType_1, &v24);
			VAL v26 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v25);
			VAL v27;
			VAL v28 = mw_std_maybe_Maybe_1_filter_1_sp3(v24, v26, &v27);
			decref(v28);
			branch_Maybe_3 = v27;
		} break;
		case 6LL: { // STConsLabel
			VAL v29;
			uint64_t v30;
			VAL v31 = mtp_mirth_type_StackType_STConsLabel(in_StackType_1, &v29, &v30);
			VAL v32 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v31);
			VAL v33;
			VAL v34 = mw_std_maybe_Maybe_1_filter_1_sp2(v29, v32, &v33);
			decref(v34);
			branch_Maybe_3 = v33;
		} break;
		case 8LL: { // STWithLabel
			VAL v35;
			uint64_t v36;
			VAL v37 = mtp_mirth_type_StackType_STWithLabel(in_StackType_1, &v35, &v36);
			VAL v38 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v37);
			VAL v39;
			VAL v40 = mw_std_maybe_Maybe_1_filter_1_sp3(v35, v38, &v39);
			decref(v40);
			branch_Maybe_3 = v39;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_type_ArrowType_ZToType (VAL in_ArrowType_1) {
	VAL v3 = mtw_mirth_type_Type_TMorphism(in_ArrowType_1);
	return v3;
}
static VAL mw_mirth_type_ArrowType_invert (VAL in_ArrowType_1) {
	VAL v3;
	VAL v4 = mtp_mirth_type_ArrowType_ARROWz_TYPE(in_ArrowType_1, &v3);
	VAL v5 = mtw_mirth_type_ArrowType_ARROWz_TYPE(v3, v4);
	return v5;
}
static VAL mw_mirth_type_ArrowType_unpack (VAL in_ArrowType_1, VAL *out_StackType_3) {
	VAL v4;
	VAL v5 = mtp_mirth_type_ArrowType_ARROWz_TYPE(in_ArrowType_1, &v4);
	*out_StackType_3 = v4;
	return v5;
}
static VAL mw_mirth_type_ArrowType_dom (VAL in_ArrowType_1) {
	VAL v3;
	VAL v4 = mw_mirth_type_ArrowType_unpack(in_ArrowType_1, &v3);
	decref(v3);
	return v4;
}
static VAL mw_mirth_type_ArrowType_cod (VAL in_ArrowType_1) {
	VAL v3;
	VAL v4 = mw_mirth_type_ArrowType_unpack(in_ArrowType_1, &v3);
	decref(v4);
	return v3;
}
static VAL mw_mirth_type_ArrowType_unifyZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_ArrowType_3, VAL in_ArrowType_4, VAL *out_ZPlusMirth_5, uint64_t *out_ZPlusGamma_6) {
	VAL v8;
	VAL v9 = mw_mirth_type_ArrowType_unpack(in_ArrowType_3, &v8);
	VAL v10;
	VAL v11 = mw_mirth_type_ArrowType_unpack(in_ArrowType_4, &v10);
	VAL v12;
	uint64_t v13;
	VAL v14 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v9, v11, &v12, &v13);
	VAL v15;
	uint64_t v16;
	VAL v17 = mw_mirth_type_StackType_unifyZBang(v12, v13, v8, v10, &v15, &v16);
	VAL v18 = mtw_mirth_type_ArrowType_ARROWz_TYPE(v14, v17);
	*out_ZPlusGamma_6 = v16;
	*out_ZPlusMirth_5 = v15;
	return v18;
}
static VAL mw_mirth_type_ArrowType_unifyZ_errorZBang (VAL in_ZPlusMirth_1, uint64_t in_ZPlusGamma_2, VAL in_ArrowType_3, VAL *out_ZPlusMirth_4, uint64_t *out_ZPlusGamma_5) {
	VAL v7;
	VAL v8 = mw_mirth_type_ArrowType_unpack(in_ArrowType_3, &v7);
	VAL v9;
	uint64_t v10;
	VAL v11 = mw_mirth_type_StackType_unifyZ_errorZBang(in_ZPlusMirth_1, in_ZPlusGamma_2, v8, &v9, &v10);
	VAL v12;
	uint64_t v13;
	VAL v14 = mw_mirth_type_StackType_unifyZ_errorZBang(v9, v10, v7, &v12, &v13);
	VAL v15 = mtw_mirth_type_ArrowType_ARROWz_TYPE(v11, v14);
	*out_ZPlusGamma_5 = v13;
	*out_ZPlusMirth_4 = v12;
	return v15;
}
static int64_t mw_mirth_type_ArrowType_hasZ_metaZAsk (uint64_t in_MetaVar_1, VAL in_ArrowType_2) {
	VAL v4;
	VAL v5 = mw_mirth_type_ArrowType_unpack(in_ArrowType_2, &v4);
	int64_t v6 = mw_mirth_type_StackType_hasZ_metaZAsk(in_MetaVar_1, v4);
	int64_t branch_Bool_7;
	if (((bool)v6)) {
		decref(v5);
		int64_t v8 = 1LL /* True */;
		branch_Bool_7 = v8;
	} else {
		int64_t v9 = mw_mirth_type_StackType_hasZ_metaZAsk(in_MetaVar_1, v5);
		branch_Bool_7 = v9;
	}
	return branch_Bool_7;
}
static int64_t mw_mirth_type_ArrowType_hasZ_varZAsk (uint64_t in_Var_1, VAL in_ArrowType_2) {
	VAL v4;
	VAL v5 = mw_mirth_type_ArrowType_unpack(in_ArrowType_2, &v4);
	int64_t v6 = mw_mirth_type_StackType_hasZ_varZAsk(in_Var_1, v4);
	int64_t branch_Bool_7;
	if (((bool)v6)) {
		decref(v5);
		int64_t v8 = 1LL /* True */;
		branch_Bool_7 = v8;
	} else {
		int64_t v9 = mw_mirth_type_StackType_hasZ_varZAsk(in_Var_1, v5);
		branch_Bool_7 = v9;
	}
	return branch_Bool_7;
}
static void mw_mirth_type_ArrowType_sigZThen (VAL in_ZPlusStr_1, VAL in_ArrowType_2, VAL *out_ZPlusStr_3) {
	VAL v4;
	VAL v5 = mw_mirth_type_ArrowType_unpack(in_ArrowType_2, &v4);
	VAL v6;
	mw_mirth_type_StackType_domZThen(in_ZPlusStr_1, v5, &v6);
	STR* v7;
	STRLIT(v7, "--", 2);
	VAL v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v7), v6, &v8);
	VAL v9;
	mw_mirth_type_StackType_codZThen(v8, v4, &v9);
	*out_ZPlusStr_3 = v9;
}
static VAL mw_mirth_type_ArrowType_semifreshenZ_sig (VAL in_ArrowType_1) {
	incref(in_ArrowType_1);
	int64_t v3 = mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk(in_ArrowType_1);
	VAL branch_ArrowType_4;
	if (((bool)v3)) {
		VAL v5 = mw_mirth_type_ArrowType_semifreshenZ_aux(in_ArrowType_1);
		branch_ArrowType_4 = v5;
	} else {
		branch_ArrowType_4 = in_ArrowType_1;
	}
	return branch_ArrowType_4;
}
static VAL mw_mirth_type_ArrowType_semifreshenZ_aux (VAL in_ArrowType_1) {
	uint64_t v3 = mw_mirth_type_MetaVar_newZBang();
	VAL v4 = mtw_mirth_type_StackType_STMeta(v3);
	VAL v5;
	VAL v6 = mw_mirth_type_ArrowType_unpack(in_ArrowType_1, &v5);
	VAL v7;
	VAL v8 = mw_mirth_type_StackType_semifreshen(v4, v6, &v7);
	VAL v9;
	VAL v10 = mw_mirth_type_StackType_semifreshen(v8, v5, &v9);
	VAL v11 = mtw_mirth_type_ArrowType_ARROWz_TYPE(v7, v9);
	decref(v10);
	return v11;
}
static int64_t mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk (VAL in_ArrowType_1) {
	VAL v3;
	VAL v4 = mw_mirth_type_ArrowType_unpack(in_ArrowType_1, &v3);
	VAL v5 = mw_mirth_type_StackType_base(v3);
	int64_t v6 = mw_mirth_type_StackType_unitZAsk(v5);
	int64_t branch_Bool_7;
	if (((bool)v6)) {
		VAL v8 = mw_mirth_type_StackType_base(v4);
		int64_t v9 = mw_mirth_type_StackType_unitZAsk(v8);
		branch_Bool_7 = v9;
	} else {
		decref(v4);
		int64_t v10 = 0LL /* False */;
		branch_Bool_7 = v10;
	}
	return branch_Bool_7;
}
static VAL mw_mirth_type_ArrowType_freshenZ_sig (VAL in_Subst_1, VAL in_ArrowType_2, VAL *out_ArrowType_4) {
	incref(in_ArrowType_2);
	int64_t v5 = mw_mirth_type_ArrowType_needsZ_freshZ_stackZ_restZAsk(in_ArrowType_2);
	VAL branch_Subst_6;
	VAL branch_ArrowType_7;
	if (((bool)v5)) {
		VAL v8;
		VAL v9 = mw_mirth_type_ArrowType_freshenZ_sigZ_aux(in_Subst_1, in_ArrowType_2, &v8);
		branch_ArrowType_7 = v8;
		branch_Subst_6 = v9;
	} else {
		VAL v10;
		VAL v11 = mw_mirth_type_ArrowType_freshen(in_Subst_1, in_ArrowType_2, &v10);
		branch_ArrowType_7 = v10;
		branch_Subst_6 = v11;
	}
	*out_ArrowType_4 = branch_ArrowType_7;
	return branch_Subst_6;
}
static VAL mw_mirth_type_ArrowType_freshenZ_sigZ_aux (VAL in_Subst_1, VAL in_ArrowType_2, VAL *out_ArrowType_4) {
	uint64_t v5 = mw_mirth_type_MetaVar_newZBang();
	VAL v6 = mtw_mirth_type_StackType_STMeta(v5);
	VAL v7;
	VAL v8 = mw_mirth_type_ArrowType_unpack(in_ArrowType_2, &v7);
	VAL v9;
	VAL v10;
	VAL v11 = mw_mirth_type_StackType_freshenZ_aux(v6, in_Subst_1, v8, &v9, &v10);
	VAL v12;
	VAL v13;
	VAL v14 = mw_mirth_type_StackType_freshenZ_aux(v11, v9, v7, &v12, &v13);
	VAL v15 = mtw_mirth_type_ArrowType_ARROWz_TYPE(v10, v13);
	decref(v14);
	*out_ArrowType_4 = v15;
	return v12;
}
static VAL mw_mirth_type_ArrowType_freshen (VAL in_Subst_1, VAL in_ArrowType_2, VAL *out_ArrowType_4) {
	VAL v5;
	VAL v6 = mw_mirth_type_ArrowType_unpack(in_ArrowType_2, &v5);
	VAL v7;
	VAL v8 = mw_mirth_type_StackType_freshen(in_Subst_1, v6, &v7);
	VAL v9;
	VAL v10 = mw_mirth_type_StackType_freshen(v8, v5, &v9);
	VAL v11 = mtw_mirth_type_ArrowType_ARROWz_TYPE(v7, v9);
	*out_ArrowType_4 = v11;
	return v10;
}
static VAL mw_mirth_type_ArrowType_rigidifyZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_ArrowType_3, VAL *out_ZPlusMirth_4, VAL *out_ArrowType_6) {
	VAL v7;
	VAL v8 = mw_mirth_type_ArrowType_unpack(in_ArrowType_3, &v7);
	VAL v9;
	VAL v10;
	VAL v11 = mw_mirth_type_StackType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, v8, &v9, &v10);
	VAL v12;
	VAL v13;
	VAL v14 = mw_mirth_type_StackType_rigidifyZBang(v9, v11, v7, &v12, &v13);
	VAL v15 = mtw_mirth_type_ArrowType_ARROWz_TYPE(v10, v13);
	*out_ArrowType_6 = v15;
	*out_ZPlusMirth_4 = v12;
	return v14;
}
static VAL mw_mirth_type_ArrowType_rigidifyZ_sigZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_ArrowType_3, VAL *out_ZPlusMirth_4, VAL *out_ArrowType_6) {
	incref(in_ArrowType_3);
	VAL v7;
	VAL v8 = mw_mirth_type_ArrowType_unpack(in_ArrowType_3, &v7);
	VAL v9 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v7);
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v9);
			VAL v11 = mw_mirth_type_StackType_linearZ_baseZ_metaZAsk(v8);
			switch (get_data_tag(v11)) {
				case 1LL: { // Some
					VAL v12 = mtp_std_maybe_Maybe_1_Some(v11);
					incref(v10);
					int64_t v13 = mw_mirth_type_MetaVar_ZEqualZEqual(value_u64(v12), value_u64(v10));
					if (((bool)v13)) {
						VAL v14 = mw_mirth_type_TYPEz_UNIT();
						VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
						void* v16 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(value_u64(v10));
						mut_set(v15, v16);
					} else {
						decref(v10);
					}
				} break;
				case 0LL: { // None
					decref(v10);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
		} break;
		case 0LL: { // None
			decref(v8);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v17;
	VAL v18;
	VAL v19 = mw_mirth_type_ArrowType_rigidifyZBang(in_ZPlusMirth_1, in_Ctx_2, in_ArrowType_3, &v17, &v18);
	*out_ArrowType_6 = v18;
	*out_ZPlusMirth_4 = v17;
	return v19;
}
static VAL mw_mirth_type_Subst_nil (void) {
	VAL v2 = MKI64(0LL /* SUBST_NIL */);
	return v2;
}
static VAL mw_mirth_type_Subst_cons (VAL in_Type_1, uint64_t in_Var_2, VAL in_Subst_3) {
	VAL v5 = mtw_mirth_type_Subst_SUBSTz_CON(in_Subst_3, in_Type_1, in_Var_2);
	return v5;
}
static int64_t mw_mirth_type_Subst_hasZ_varZAsk (uint64_t in_Var_1, VAL in_Subst_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_Subst_2)) {
		case 0LL: { // SUBST_NIL
			int64_t v5 = 0LL /* False */;
			branch_Bool_4 = v5;
		} break;
		case 1LL: { // SUBST_CON
			VAL v6;
			uint64_t v7;
			VAL v8 = mtp_mirth_type_Subst_SUBSTz_CON(in_Subst_2, &v6, &v7);
			decref(v6);
			int64_t v9 = mw_mirth_var_Var_index(v7);
			int64_t v10 = mw_mirth_var_Var_index(in_Var_1);
			bool v11 = (v9 == v10);
			int64_t branch_Bool_12;
			if (v11) {
				decref(v8);
				int64_t v13 = 1LL /* True */;
				branch_Bool_12 = v13;
			} else {
				int64_t v14 = mw_mirth_type_Subst_hasZ_varZAsk(in_Var_1, v8);
				branch_Bool_12 = v14;
			}
			branch_Bool_4 = branch_Bool_12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static VAL mw_mirth_type_Subst_getZ_var (uint64_t in_Var_1, VAL in_Subst_2) {
	VAL branch_Type_4;
	switch (get_data_tag(in_Subst_2)) {
		case 0LL: { // SUBST_NIL
			VAL v5 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_4 = v5;
		} break;
		case 1LL: { // SUBST_CON
			VAL v6;
			uint64_t v7;
			VAL v8 = mtp_mirth_type_Subst_SUBSTz_CON(in_Subst_2, &v6, &v7);
			int64_t v9 = mw_mirth_var_Var_index(v7);
			int64_t v10 = mw_mirth_var_Var_index(in_Var_1);
			bool v11 = (v9 == v10);
			VAL branch_Type_12;
			if (v11) {
				decref(v8);
				branch_Type_12 = v6;
			} else {
				decref(v6);
				VAL v13 = mw_mirth_type_Subst_getZ_var(in_Var_1, v8);
				branch_Type_12 = v13;
			}
			branch_Type_4 = branch_Type_12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Type_4;
}
static int64_t mw_mirth_type_StackTypeBase_unitZAsk (VAL in_StackTypeBase_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_StackTypeBase_1)) {
		case 2LL: { // STB_UNIT
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_StackTypeBase_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_type_StackTypePart_cons (VAL in_StackType_1, VAL in_StackTypePart_2) {
	VAL branch_StackType_4;
	switch (get_data_tag(in_StackTypePart_2)) {
		case 0LL: { // STPCons
			VAL v5 = mtp_mirth_type_StackTypePart_STPCons(in_StackTypePart_2);
			VAL v6 = mtw_mirth_type_StackType_STCons(in_StackType_1, v5);
			branch_StackType_4 = v6;
		} break;
		case 1LL: { // STPConsLabel
			uint64_t v7;
			VAL v8 = mtp_mirth_type_StackTypePart_STPConsLabel(in_StackTypePart_2, &v7);
			VAL v9 = mtw_mirth_type_StackType_STConsLabel(in_StackType_1, v8, v7);
			branch_StackType_4 = v9;
		} break;
		case 2LL: { // STPWith
			VAL v10 = mtp_mirth_type_StackTypePart_STPWith(in_StackTypePart_2);
			VAL v11 = mtw_mirth_type_StackType_STWith(in_StackType_1, v10);
			branch_StackType_4 = v11;
		} break;
		case 3LL: { // STPWithLabel
			uint64_t v12;
			VAL v13 = mtp_mirth_type_StackTypePart_STPWithLabel(in_StackTypePart_2, &v12);
			VAL v14 = mtw_mirth_type_StackType_STWithLabel(in_StackType_1, v13, v12);
			branch_StackType_4 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_StackType_4;
}
static VAL mw_mirth_type_StackType_splitZ_parts (VAL in_StackType_1, VAL *out_List_3) {
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5 = mtw_std_either_Either_2_Right(in_StackType_1);
	int64_t v6 = 1LL /* True */;
	VAL v7 = v4;
	VAL v8 = v5;
	int64_t v9 = v6;
	int64_t v10 = v6;
	while (((bool)v10)) {
		VAL v11 = v7;
		VAL v12 = v8;
		int64_t v13 = v9;
		incref(v12);
		VAL v14 = mw_std_either_Either_2_rightZAsk(v12);
		VAL branch_List_15;
		VAL branch_Either_16;
		int64_t branch_Bool_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				decref(v12);
				VAL branch_List_19;
				VAL branch_Either_20;
				switch (get_data_tag(v18)) {
					case 0LL: { // STACK_TYPE_ERROR
						VAL v21 = MKI64(0LL /* STB_ERROR */);
						VAL v22 = mtw_std_either_Either_2_Left(v21);
						branch_Either_20 = v22;
						branch_List_19 = v11;
					} break;
					case 1LL: { // STACK_TYPE_DONT_CARE
						VAL v23 = MKI64(1LL /* STB_DONT_CARE */);
						VAL v24 = mtw_std_either_Either_2_Left(v23);
						branch_Either_20 = v24;
						branch_List_19 = v11;
					} break;
					case 2LL: { // STACK_TYPE_UNIT
						VAL v25 = MKI64(2LL /* STB_UNIT */);
						VAL v26 = mtw_std_either_Either_2_Left(v25);
						branch_Either_20 = v26;
						branch_List_19 = v11;
					} break;
					case 3LL: { // STVar
						uint64_t v27 = mtp_mirth_type_StackType_STVar(v18);
						VAL v28 = mtw_mirth_type_StackTypeBase_STBVar(v27);
						VAL v29 = mtw_std_either_Either_2_Left(v28);
						branch_Either_20 = v29;
						branch_List_19 = v11;
					} break;
					case 4LL: { // STMeta
						uint64_t v30 = mtp_mirth_type_StackType_STMeta(v18);
						VAL v31 = mw_mirth_type_MetaVar_typeZAsk(v30);
						VAL branch_Either_32;
						switch (get_data_tag(v31)) {
							case 0LL: { // None
								VAL v33 = mtw_mirth_type_StackTypeBase_STBMeta(v30);
								VAL v34 = mtw_std_either_Either_2_Left(v33);
								branch_Either_32 = v34;
							} break;
							case 1LL: { // Some
								VAL v35 = mtp_std_maybe_Maybe_1_Some(v31);
								VAL v36 = mw_mirth_type_Type_expand(v35);
								incref(v36);
								VAL v37 = mtw_std_maybe_Maybe_1_Some(v36);
								void* v38 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v30);
								mut_set(v37, v38);
								VAL v39 = mw_mirth_type_Type_ZToStackType(v36);
								VAL v40 = mtw_std_either_Either_2_Right(v39);
								branch_Either_32 = v40;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Either_20 = branch_Either_32;
						branch_List_19 = v11;
					} break;
					case 5LL: { // STCons
						VAL v41;
						VAL v42 = mtp_mirth_type_StackType_STCons(v18, &v41);
						VAL v43 = mtw_mirth_type_StackTypePart_STPCons(v41);
						VAL v44 = mtw_std_list_List_1_Cons(v43, v11);
						VAL v45 = mtw_std_either_Either_2_Right(v42);
						branch_Either_20 = v45;
						branch_List_19 = v44;
					} break;
					case 6LL: { // STConsLabel
						VAL v46;
						uint64_t v47;
						VAL v48 = mtp_mirth_type_StackType_STConsLabel(v18, &v46, &v47);
						VAL v49 = mtw_mirth_type_StackTypePart_STPConsLabel(v46, v47);
						VAL v50 = mtw_std_list_List_1_Cons(v49, v11);
						VAL v51 = mtw_std_either_Either_2_Right(v48);
						branch_Either_20 = v51;
						branch_List_19 = v50;
					} break;
					case 7LL: { // STWith
						VAL v52;
						VAL v53 = mtp_mirth_type_StackType_STWith(v18, &v52);
						VAL v54 = mtw_mirth_type_StackTypePart_STPWith(v52);
						VAL v55 = mtw_std_list_List_1_Cons(v54, v11);
						VAL v56 = mtw_std_either_Either_2_Right(v53);
						branch_Either_20 = v56;
						branch_List_19 = v55;
					} break;
					case 8LL: { // STWithLabel
						VAL v57;
						uint64_t v58;
						VAL v59 = mtp_mirth_type_StackType_STWithLabel(v18, &v57, &v58);
						VAL v60 = mtw_mirth_type_StackTypePart_STPWithLabel(v57, v58);
						VAL v61 = mtw_std_list_List_1_Cons(v60, v11);
						VAL v62 = mtw_std_either_Either_2_Right(v59);
						branch_Either_20 = v62;
						branch_List_19 = v61;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v63 = 1LL /* True */;
				branch_Bool_17 = v63;
				branch_Either_16 = branch_Either_20;
				branch_List_15 = branch_List_19;
			} break;
			case 0LL: { // None
				int64_t v64 = 0LL /* False */;
				branch_Bool_17 = v64;
				branch_Either_16 = v12;
				branch_List_15 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_17;
		v9 = branch_Bool_17;
		v8 = branch_Either_16;
		v7 = branch_List_15;
	}
	VAL v65 = mw_std_either_Either_2_leftZAsk(v8);
	VAL branch_z_x1_66;
	switch (get_data_tag(v65)) {
		case 1LL: { // Some
			VAL v67 = mtp_std_maybe_Maybe_1_Some(v65);
			branch_z_x1_66 = v67;
		} break;
		case 0LL: { // None
			mw_std_prelude_impossibleZBang();
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_3 = v7;
	return branch_z_x1_66;
}
static VAL mw_mirth_type_StackTypePart_typeZDivresource (VAL in_StackTypePart_1) {
	VAL branch_Either_3;
	switch (get_data_tag(in_StackTypePart_1)) {
		case 0LL: { // STPCons
			VAL v4 = mtp_mirth_type_StackTypePart_STPCons(in_StackTypePart_1);
			VAL v5 = mtw_std_either_Either_2_Left(v4);
			branch_Either_3 = v5;
		} break;
		case 2LL: { // STPWith
			VAL v6 = mtp_mirth_type_StackTypePart_STPWith(in_StackTypePart_1);
			VAL v7 = mtw_std_either_Either_2_Right(v6);
			branch_Either_3 = v7;
		} break;
		case 1LL: { // STPConsLabel
			uint64_t v8;
			VAL v9 = mtp_mirth_type_StackTypePart_STPConsLabel(in_StackTypePart_1, &v8);
			VAL v10 = mtw_std_either_Either_2_Left(v9);
			branch_Either_3 = v10;
		} break;
		case 3LL: { // STPWithLabel
			uint64_t v11;
			VAL v12 = mtp_mirth_type_StackTypePart_STPWithLabel(in_StackTypePart_1, &v11);
			VAL v13 = mtw_std_either_Either_2_Right(v12);
			branch_Either_3 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Either_3;
}
static VAL mw_mirth_type_CType_cname (VAL in_CType_1) {
	VAL branch_Str_3;
	switch (get_data_tag(in_CType_1)) {
		case 0LL: { // IntLike
			VAL v4 = mtp_mirth_type_CType_IntLike(in_CType_1);
			branch_Str_3 = v4;
		} break;
		case 1LL: { // F32Like
			VAL v5 = mtp_mirth_type_CType_F32Like(in_CType_1);
			branch_Str_3 = v5;
		} break;
		case 2LL: { // F64Like
			VAL v6 = mtp_mirth_type_CType_F64Like(in_CType_1);
			branch_Str_3 = v6;
		} break;
		case 3LL: { // PtrLike
			VAL v7 = mtp_mirth_type_CType_PtrLike(in_CType_1);
			branch_Str_3 = v7;
		} break;
		case 4LL: { // FnPtr
			VAL v8 = mtp_mirth_type_CType_FnPtr(in_CType_1);
			branch_Str_3 = v8;
		} break;
		case 5LL: { // Phantom
			STR* v9;
			STRLIT(v9, "void", 4);
			branch_Str_3 = MKSTR(v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static int64_t mw_mirth_type_CType_phantomZAsk (VAL in_CType_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_CType_1)) {
		case 5LL: { // Phantom
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_CType_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_type_Resource_ctype (VAL in_ZPlusMirth_1, VAL in_Resource_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_type_Type_ctype(in_ZPlusMirth_1, in_Resource_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_type_Type_ctype (VAL in_ZPlusMirth_1, VAL in_Type_2, VAL *out_ZPlusMirth_3) {
	incref(in_Type_2);
	VAL v5;
	VAL v6 = mw_mirth_type_Type_ctypeZAsk(in_ZPlusMirth_1, in_Type_2, &v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_CType_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			decref(in_Type_2);
			branch_CType_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "", 0);
			VAL v11;
			mw_mirth_type_Type_typeZThen(in_Type_2, MKSTR(v10), &v11);
			STR* v12;
			STRLIT(v12, " doesn't have a C representation.", 33);
			VAL v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), v11, &v13);
			VAL v14;
			mw_mirth_mirth_ZPlusMirth_errorZBang(v13, v5, &v14);
			VAL v15 = MKI64(5LL /* Phantom */);
			branch_CType_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_CType_8;
}
static VAL mw_mirth_type_Resource_ctypeZAsk (VAL in_ZPlusMirth_1, VAL in_Resource_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_type_Type_ctypeZAsk(in_ZPlusMirth_1, in_Resource_2, &v5);
	*out_ZPlusMirth_3 = v5;
	return v6;
}
static VAL mw_mirth_type_Type_ctypeZAsk (VAL in_ZPlusMirth_1, VAL in_Type_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_type_Type_expand(in_Type_2);
	VAL branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 2LL: { // TPrim
			int64_t v8 = mtp_mirth_type_Type_TPrim(v5);
			VAL v9;
			VAL v10 = mw_mirth_type_PrimType_ctypeZAsk(in_ZPlusMirth_1, v8, &v9);
			branch_Maybe_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 7LL: { // TData
			uint64_t v11 = mtp_mirth_type_Type_TData(v5);
			VAL v12;
			VAL v13 = mw_mirth_data_Data_ctypeZAsk(v11, in_ZPlusMirth_1, &v12);
			branch_Maybe_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 10LL: { // TMorphism
			VAL v14 = mtp_mirth_type_Type_TMorphism(v5);
			decref(v14);
			STR* v15;
			STRLIT(v15, "FNPTR", 5);
			VAL v16 = mtw_mirth_type_CType_FnPtr(MKSTR(v15));
			VAL v17 = mtw_std_maybe_Maybe_1_Some(v16);
			branch_Maybe_7 = v17;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // TApp
			VAL v18;
			VAL v19 = mtp_mirth_type_Type_TApp(v5, &v18);
			VAL v20;
			VAL v21 = mw_mirth_type_Type_ctypeZAsk(in_ZPlusMirth_1, v18, &v20);
			VAL branch_Type_22;
			VAL branch_ZPlusMirth_23;
			VAL branch_Maybe_24;
			switch (get_data_tag(v21)) {
				case 1LL: { // Some
					VAL v25 = mtp_std_maybe_Maybe_1_Some(v21);
					incref(v19);
					VAL v26;
					VAL v27 = mw_mirth_type_Type_ctype1ZAsk(v20, v25, v19, &v26);
					branch_Maybe_24 = v27;
					branch_ZPlusMirth_23 = v26;
					branch_Type_22 = v19;
				} break;
				case 0LL: { // None
					VAL v28 = MKI64(0LL /* None */);
					branch_Maybe_24 = v28;
					branch_ZPlusMirth_23 = v20;
					branch_Type_22 = v19;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(branch_Type_22);
			branch_Maybe_7 = branch_Maybe_24;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_23;
		} break;
		default: {
			decref(v5);
			VAL v29 = MKI64(0LL /* None */);
			branch_Maybe_7 = v29;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static VAL mw_mirth_type_Type_ctype1ZAsk (VAL in_ZPlusMirth_1, VAL in_CType_2, VAL in_Type_3, VAL *out_ZPlusMirth_4) {
	VAL v6 = mw_mirth_type_Type_expand(in_Type_3);
	VAL branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 7LL: { // TData
			uint64_t v9 = mtp_mirth_type_Type_TData(v6);
			VAL v10;
			VAL v11 = mw_mirth_data_Data_ctype1ZAsk(in_ZPlusMirth_1, in_CType_2, v9, &v10);
			branch_Maybe_8 = v11;
			branch_ZPlusMirth_7 = v10;
		} break;
		default: {
			decref(v6);
			decref(in_CType_2);
			VAL v12 = MKI64(0LL /* None */);
			branch_Maybe_8 = v12;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_type_PrimType_ctypeZAsk (VAL in_ZPlusMirth_1, int64_t in_PrimType_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (in_PrimType_2) {
		case 6LL: { // PRIM_TYPE_PTR
			STR* v7;
			STRLIT(v7, "void*", 5);
			VAL v8 = mtw_mirth_type_CType_PtrLike(MKSTR(v7));
			VAL v9 = mtw_std_maybe_Maybe_1_Some(v8);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // PRIM_TYPE_WORLD
			VAL v10 = MKI64(5LL /* Phantom */);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(v10);
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // PRIM_TYPE_F32
			STR* v12;
			STRLIT(v12, "float", 5);
			VAL v13 = mtw_mirth_type_CType_F32Like(MKSTR(v12));
			VAL v14 = mtw_std_maybe_Maybe_1_Some(v13);
			branch_Maybe_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // PRIM_TYPE_F64
			STR* v15;
			STRLIT(v15, "double", 6);
			VAL v16 = mtw_mirth_type_CType_F64Like(MKSTR(v15));
			VAL v17 = mtw_std_maybe_Maybe_1_Some(v16);
			branch_Maybe_6 = v17;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_data_Data_ctype1ZAsk (VAL in_ZPlusMirth_1, VAL in_CType_2, uint64_t in_Data_3, VAL *out_ZPlusMirth_4) {
	VAL v6 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v6);
	uint64_t v7 = value_u64(VTUP(v6)->cells[52]);
	decref(v6);
	int64_t v8 = mw_mirth_data_Data_ZEqualZEqual(in_Data_3, v7);
	VAL branch_ZPlusMirth_9;
	VAL branch_Maybe_10;
	if (((bool)v8)) {
		VAL v11 = mw_mirth_type_CType_cname(in_CType_2);
		STR* v12;
		STRLIT(v12, " *", 2);
		STR* v13 = str_cat(value_str(v11), v12);
		VAL v14 = mtw_mirth_type_CType_PtrLike(MKSTR(v13));
		VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
		branch_Maybe_10 = v15;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		VAL v16 = VTUP(in_ZPlusMirth_1)->cells[4];
		incref(v16);
		uint64_t v17 = value_u64(VTUP(v16)->cells[54]);
		decref(v16);
		int64_t v18 = mw_mirth_data_Data_ZEqualZEqual(in_Data_3, v17);
		VAL branch_ZPlusMirth_19;
		VAL branch_Maybe_20;
		if (((bool)v18)) {
			VAL branch_ZPlusMirth_21;
			VAL branch_Maybe_22;
			switch (get_data_tag(in_CType_2)) {
				case 0LL: { // IntLike
					VAL v23 = mtp_mirth_type_CType_IntLike(in_CType_2);
					STR* v24;
					STRLIT(v24, "const ", 6);
					STR* v25 = str_cat(v24, value_str(v23));
					VAL v26 = mtw_mirth_type_CType_IntLike(MKSTR(v25));
					VAL v27 = mtw_std_maybe_Maybe_1_Some(v26);
					branch_Maybe_22 = v27;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				case 1LL: { // F32Like
					VAL v28 = mtp_mirth_type_CType_F32Like(in_CType_2);
					STR* v29;
					STRLIT(v29, "const ", 6);
					STR* v30 = str_cat(v29, value_str(v28));
					VAL v31 = mtw_mirth_type_CType_F32Like(MKSTR(v30));
					VAL v32 = mtw_std_maybe_Maybe_1_Some(v31);
					branch_Maybe_22 = v32;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				case 2LL: { // F64Like
					VAL v33 = mtp_mirth_type_CType_F64Like(in_CType_2);
					STR* v34;
					STRLIT(v34, "const ", 6);
					STR* v35 = str_cat(v34, value_str(v33));
					VAL v36 = mtw_mirth_type_CType_F64Like(MKSTR(v35));
					VAL v37 = mtw_std_maybe_Maybe_1_Some(v36);
					branch_Maybe_22 = v37;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				case 4LL: { // FnPtr
					VAL v38 = mtp_mirth_type_CType_FnPtr(in_CType_2);
					STR* v39;
					STRLIT(v39, "const ", 6);
					STR* v40 = str_cat(v39, value_str(v38));
					VAL v41 = mtw_mirth_type_CType_FnPtr(MKSTR(v40));
					VAL v42 = mtw_std_maybe_Maybe_1_Some(v41);
					branch_Maybe_22 = v42;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				case 3LL: { // PtrLike
					VAL v43 = mtp_mirth_type_CType_PtrLike(in_CType_2);
					STR* v44;
					STRLIT(v44, " const", 6);
					STR* v45 = str_cat(value_str(v43), v44);
					VAL v46 = mtw_mirth_type_CType_PtrLike(MKSTR(v45));
					VAL v47 = mtw_std_maybe_Maybe_1_Some(v46);
					branch_Maybe_22 = v47;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				case 5LL: { // Phantom
					VAL v48 = MKI64(5LL /* Phantom */);
					VAL v49 = mtw_std_maybe_Maybe_1_Some(v48);
					branch_Maybe_22 = v49;
					branch_ZPlusMirth_21 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_20 = branch_Maybe_22;
			branch_ZPlusMirth_19 = branch_ZPlusMirth_21;
		} else {
			VAL v50 = VTUP(in_ZPlusMirth_1)->cells[4];
			incref(v50);
			uint64_t v51 = value_u64(VTUP(v50)->cells[56]);
			decref(v50);
			int64_t v52 = mw_mirth_data_Data_ZEqualZEqual(in_Data_3, v51);
			VAL branch_ZPlusMirth_53;
			VAL branch_Maybe_54;
			if (((bool)v52)) {
				VAL branch_ZPlusMirth_55;
				VAL branch_Maybe_56;
				switch (get_data_tag(in_CType_2)) {
					case 0LL: { // IntLike
						VAL v57 = mtp_mirth_type_CType_IntLike(in_CType_2);
						STR* v58;
						STRLIT(v58, "restrict ", 9);
						STR* v59 = str_cat(v58, value_str(v57));
						VAL v60 = mtw_mirth_type_CType_IntLike(MKSTR(v59));
						VAL v61 = mtw_std_maybe_Maybe_1_Some(v60);
						branch_Maybe_56 = v61;
						branch_ZPlusMirth_55 = in_ZPlusMirth_1;
					} break;
					case 1LL: { // F32Like
						VAL v62 = mtp_mirth_type_CType_F32Like(in_CType_2);
						STR* v63;
						STRLIT(v63, "restrict ", 9);
						STR* v64 = str_cat(v63, value_str(v62));
						VAL v65 = mtw_mirth_type_CType_F32Like(MKSTR(v64));
						VAL v66 = mtw_std_maybe_Maybe_1_Some(v65);
						branch_Maybe_56 = v66;
						branch_ZPlusMirth_55 = in_ZPlusMirth_1;
					} break;
					case 2LL: { // F64Like
						VAL v67 = mtp_mirth_type_CType_F64Like(in_CType_2);
						STR* v68;
						STRLIT(v68, "restrict ", 9);
						STR* v69 = str_cat(v68, value_str(v67));
						VAL v70 = mtw_mirth_type_CType_F64Like(MKSTR(v69));
						VAL v71 = mtw_std_maybe_Maybe_1_Some(v70);
						branch_Maybe_56 = v71;
						branch_ZPlusMirth_55 = in_ZPlusMirth_1;
					} break;
					case 4LL: { // FnPtr
						VAL v72 = mtp_mirth_type_CType_FnPtr(in_CType_2);
						STR* v73;
						STRLIT(v73, "restrict ", 9);
						STR* v74 = str_cat(v73, value_str(v72));
						VAL v75 = mtw_mirth_type_CType_FnPtr(MKSTR(v74));
						VAL v76 = mtw_std_maybe_Maybe_1_Some(v75);
						branch_Maybe_56 = v76;
						branch_ZPlusMirth_55 = in_ZPlusMirth_1;
					} break;
					case 3LL: { // PtrLike
						VAL v77 = mtp_mirth_type_CType_PtrLike(in_CType_2);
						STR* v78;
						STRLIT(v78, " restrict", 9);
						STR* v79 = str_cat(value_str(v77), v78);
						VAL v80 = mtw_mirth_type_CType_PtrLike(MKSTR(v79));
						VAL v81 = mtw_std_maybe_Maybe_1_Some(v80);
						branch_Maybe_56 = v81;
						branch_ZPlusMirth_55 = in_ZPlusMirth_1;
					} break;
					case 5LL: { // Phantom
						VAL v82 = MKI64(5LL /* Phantom */);
						VAL v83 = mtw_std_maybe_Maybe_1_Some(v82);
						branch_Maybe_56 = v83;
						branch_ZPlusMirth_55 = in_ZPlusMirth_1;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Maybe_54 = branch_Maybe_56;
				branch_ZPlusMirth_53 = branch_ZPlusMirth_55;
			} else {
				VAL v84 = VTUP(in_ZPlusMirth_1)->cells[4];
				incref(v84);
				uint64_t v85 = value_u64(VTUP(v84)->cells[58]);
				decref(v84);
				int64_t v86 = mw_mirth_data_Data_ZEqualZEqual(in_Data_3, v85);
				VAL branch_ZPlusMirth_87;
				VAL branch_Maybe_88;
				if (((bool)v86)) {
					VAL branch_ZPlusMirth_89;
					VAL branch_Maybe_90;
					switch (get_data_tag(in_CType_2)) {
						case 0LL: { // IntLike
							VAL v91 = mtp_mirth_type_CType_IntLike(in_CType_2);
							STR* v92;
							STRLIT(v92, "volatile ", 9);
							STR* v93 = str_cat(v92, value_str(v91));
							VAL v94 = mtw_mirth_type_CType_IntLike(MKSTR(v93));
							VAL v95 = mtw_std_maybe_Maybe_1_Some(v94);
							branch_Maybe_90 = v95;
							branch_ZPlusMirth_89 = in_ZPlusMirth_1;
						} break;
						case 1LL: { // F32Like
							VAL v96 = mtp_mirth_type_CType_F32Like(in_CType_2);
							STR* v97;
							STRLIT(v97, "volatile ", 9);
							STR* v98 = str_cat(v97, value_str(v96));
							VAL v99 = mtw_mirth_type_CType_F32Like(MKSTR(v98));
							VAL v100 = mtw_std_maybe_Maybe_1_Some(v99);
							branch_Maybe_90 = v100;
							branch_ZPlusMirth_89 = in_ZPlusMirth_1;
						} break;
						case 2LL: { // F64Like
							VAL v101 = mtp_mirth_type_CType_F64Like(in_CType_2);
							STR* v102;
							STRLIT(v102, "volatile ", 9);
							STR* v103 = str_cat(v102, value_str(v101));
							VAL v104 = mtw_mirth_type_CType_F64Like(MKSTR(v103));
							VAL v105 = mtw_std_maybe_Maybe_1_Some(v104);
							branch_Maybe_90 = v105;
							branch_ZPlusMirth_89 = in_ZPlusMirth_1;
						} break;
						case 4LL: { // FnPtr
							VAL v106 = mtp_mirth_type_CType_FnPtr(in_CType_2);
							STR* v107;
							STRLIT(v107, "volatile ", 9);
							STR* v108 = str_cat(v107, value_str(v106));
							VAL v109 = mtw_mirth_type_CType_FnPtr(MKSTR(v108));
							VAL v110 = mtw_std_maybe_Maybe_1_Some(v109);
							branch_Maybe_90 = v110;
							branch_ZPlusMirth_89 = in_ZPlusMirth_1;
						} break;
						case 3LL: { // PtrLike
							VAL v111 = mtp_mirth_type_CType_PtrLike(in_CType_2);
							STR* v112;
							STRLIT(v112, " volatile", 9);
							STR* v113 = str_cat(value_str(v111), v112);
							VAL v114 = mtw_mirth_type_CType_PtrLike(MKSTR(v113));
							VAL v115 = mtw_std_maybe_Maybe_1_Some(v114);
							branch_Maybe_90 = v115;
							branch_ZPlusMirth_89 = in_ZPlusMirth_1;
						} break;
						case 5LL: { // Phantom
							VAL v116 = MKI64(5LL /* Phantom */);
							VAL v117 = mtw_std_maybe_Maybe_1_Some(v116);
							branch_Maybe_90 = v117;
							branch_ZPlusMirth_89 = in_ZPlusMirth_1;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Maybe_88 = branch_Maybe_90;
					branch_ZPlusMirth_87 = branch_ZPlusMirth_89;
				} else {
					decref(in_CType_2);
					VAL v118 = MKI64(0LL /* None */);
					branch_Maybe_88 = v118;
					branch_ZPlusMirth_87 = in_ZPlusMirth_1;
				}
				branch_Maybe_54 = branch_Maybe_88;
				branch_ZPlusMirth_53 = branch_ZPlusMirth_87;
			}
			branch_Maybe_20 = branch_Maybe_54;
			branch_ZPlusMirth_19 = branch_ZPlusMirth_53;
		}
		branch_Maybe_10 = branch_Maybe_20;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_19;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Maybe_10;
}
static VAL mw_mirth_type_CTypeStackPart_ctype (VAL in_CTypeStackPart_1) {
	VAL branch_CType_3;
	switch (get_data_tag(in_CTypeStackPart_1)) {
		case 0LL: { // CTSPCons
			VAL v4 = mtp_mirth_type_CTypeStackPart_CTSPCons(in_CTypeStackPart_1);
			branch_CType_3 = v4;
		} break;
		case 1LL: { // CTSPConsLabel
			uint64_t v5;
			VAL v6 = mtp_mirth_type_CTypeStackPart_CTSPConsLabel(in_CTypeStackPart_1, &v5);
			branch_CType_3 = v6;
		} break;
		case 2LL: { // CTSPWith
			VAL v7 = mtp_mirth_type_CTypeStackPart_CTSPWith(in_CTypeStackPart_1);
			branch_CType_3 = v7;
		} break;
		case 3LL: { // CTSPWithLabel
			uint64_t v8;
			VAL v9 = mtp_mirth_type_CTypeStackPart_CTSPWithLabel(in_CTypeStackPart_1, &v8);
			branch_CType_3 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_CType_3;
}
static VAL mw_mirth_type_CTypeStackPart_labelZAsk (VAL in_CTypeStackPart_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_CTypeStackPart_1)) {
		case 0LL: { // CTSPCons
			VAL v4 = mtp_mirth_type_CTypeStackPart_CTSPCons(in_CTypeStackPart_1);
			decref(v4);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // CTSPConsLabel
			uint64_t v6;
			VAL v7 = mtp_mirth_type_CTypeStackPart_CTSPConsLabel(in_CTypeStackPart_1, &v6);
			decref(v7);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(MKU64(v6));
			branch_Maybe_3 = v8;
		} break;
		case 2LL: { // CTSPWith
			VAL v9 = mtp_mirth_type_CTypeStackPart_CTSPWith(in_CTypeStackPart_1);
			decref(v9);
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_3 = v10;
		} break;
		case 3LL: { // CTSPWithLabel
			uint64_t v11;
			VAL v12 = mtp_mirth_type_CTypeStackPart_CTSPWithLabel(in_CTypeStackPart_1, &v11);
			decref(v12);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v11));
			branch_Maybe_3 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_type_StackTypePart_ctype (VAL in_StackTypePart_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL branch_CTypeStackPart_5;
	VAL branch_ZPlusMirth_6;
	switch (get_data_tag(in_StackTypePart_1)) {
		case 0LL: { // STPCons
			VAL v7 = mtp_mirth_type_StackTypePart_STPCons(in_StackTypePart_1);
			VAL v8;
			VAL v9 = mw_mirth_type_Type_ctype(in_ZPlusMirth_2, v7, &v8);
			VAL v10 = mtw_mirth_type_CTypeStackPart_CTSPCons(v9);
			branch_ZPlusMirth_6 = v8;
			branch_CTypeStackPart_5 = v10;
		} break;
		case 1LL: { // STPConsLabel
			uint64_t v11;
			VAL v12 = mtp_mirth_type_StackTypePart_STPConsLabel(in_StackTypePart_1, &v11);
			VAL v13;
			VAL v14 = mw_mirth_type_Type_ctype(in_ZPlusMirth_2, v12, &v13);
			VAL v15 = mtw_mirth_type_CTypeStackPart_CTSPConsLabel(v14, v11);
			branch_ZPlusMirth_6 = v13;
			branch_CTypeStackPart_5 = v15;
		} break;
		case 2LL: { // STPWith
			VAL v16 = mtp_mirth_type_StackTypePart_STPWith(in_StackTypePart_1);
			VAL v17;
			VAL v18 = mw_mirth_type_Resource_ctype(in_ZPlusMirth_2, v16, &v17);
			VAL v19 = mtw_mirth_type_CTypeStackPart_CTSPWith(v18);
			branch_ZPlusMirth_6 = v17;
			branch_CTypeStackPart_5 = v19;
		} break;
		case 3LL: { // STPWithLabel
			uint64_t v20;
			VAL v21 = mtp_mirth_type_StackTypePart_STPWithLabel(in_StackTypePart_1, &v20);
			VAL v22;
			VAL v23 = mw_mirth_type_Resource_ctype(in_ZPlusMirth_2, v21, &v22);
			VAL v24 = mtw_mirth_type_CTypeStackPart_CTSPWithLabel(v23, v20);
			branch_ZPlusMirth_6 = v22;
			branch_CTypeStackPart_5 = v24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_CTypeStackPart_5;
}
static VAL mw_mirth_type_StackTypeBase_ctypeZAsk (VAL in_StackTypeBase_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL branch_Maybe_5;
	VAL branch_ZPlusMirth_6;
	switch (get_data_tag(in_StackTypeBase_1)) {
		case 0LL: { // STB_ERROR
			VAL v7 = MKI64(0LL /* None */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_Maybe_5 = v7;
		} break;
		case 1LL: { // STB_DONT_CARE
			VAL v8 = MKI64(0LL /* None */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_Maybe_5 = v8;
		} break;
		case 2LL: { // STB_UNIT
			VAL v9 = MKI64(0LL /* None */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_Maybe_5 = v9;
		} break;
		case 4LL: { // STBMeta
			uint64_t v10 = mtp_mirth_type_StackTypeBase_STBMeta(in_StackTypeBase_1);
			VAL v11 = MKI64(0LL /* None */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_Maybe_5 = v11;
		} break;
		case 3LL: { // STBVar
			uint64_t v12 = mtp_mirth_type_StackTypeBase_STBVar(in_StackTypeBase_1);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v12));
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_Maybe_5 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Maybe_5;
}
static VAL mw_mirth_type_StackType_ctype (VAL in_StackType_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5;
	VAL v6 = mw_mirth_type_StackType_splitZ_parts(in_StackType_1, &v5);
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8 = mw_std_list_List_1_reverse(v7);
	int64_t v9 = 1LL /* True */;
	VAL v10 = in_ZPlusMirth_2;
	VAL v11 = v8;
	VAL v12 = v5;
	int64_t v13 = v9;
	int64_t v14 = v9;
	while (((bool)v14)) {
		VAL v15 = v10;
		VAL v16 = v11;
		VAL v17 = v12;
		int64_t v18 = v13;
		VAL branch_ZPlusMirth_19;
		VAL branch_ZPlusList_20;
		VAL branch_List_21;
		int64_t branch_Bool_22;
		switch (get_data_tag(v17)) {
			case 1LL: { // Cons
				VAL v23;
				VAL v24 = mtp_std_list_List_1_Cons(v17, &v23);
				VAL v25;
				VAL v26 = mw_mirth_type_StackTypePart_ctype(v24, v15, &v25);
				VAL v27 = mtw_std_list_List_1_Cons(v26, v16);
				int64_t v28 = 1LL /* True */;
				branch_Bool_22 = v28;
				branch_List_21 = v23;
				branch_ZPlusList_20 = v27;
				branch_ZPlusMirth_19 = v25;
			} break;
			case 0LL: { // Nil
				VAL v29 = MKI64(0LL /* Nil */);
				int64_t v30 = 0LL /* False */;
				branch_Bool_22 = v30;
				branch_List_21 = v29;
				branch_ZPlusList_20 = v16;
				branch_ZPlusMirth_19 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_22;
		v13 = branch_Bool_22;
		v12 = branch_List_21;
		v11 = branch_ZPlusList_20;
		v10 = branch_ZPlusMirth_19;
	}
	decref(v12);
	VAL v31 = mw_std_list_List_1_reverse(v11);
	VAL v32;
	VAL v33 = mw_mirth_type_StackTypeBase_ctypeZAsk(v6, v10, &v32);
	VAL v34 = mtw_mirth_type_CTypeStack_CTypeStack(v33, v31);
	*out_ZPlusMirth_4 = v32;
	return v34;
}
static VAL mw_mirth_type_ArrowType_ctype (VAL in_ArrowType_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5;
	VAL v6 = mw_mirth_type_ArrowType_unpack(in_ArrowType_1, &v5);
	VAL v7;
	VAL v8 = mw_mirth_type_StackType_ctype(v6, in_ZPlusMirth_2, &v7);
	VAL v9;
	VAL v10 = mw_mirth_type_StackType_ctype(v5, v7, &v9);
	VAL v11 = mtw_mirth_type_CTypeArrow_CTypeArrow(v8, v10);
	*out_ZPlusMirth_4 = v9;
	return v11;
}
static VAL mw_mirth_prim_Prim_qname (VAL in_ZPlusMirth_1, int64_t in_Prim_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_name_Namespace_prim(in_ZPlusMirth_1, &v5);
	uint64_t v7 = mw_mirth_prim_Prim_name(in_Prim_2);
	int64_t v8 = mw_mirth_prim_Prim_arity(in_Prim_2);
	VAL v9 = mtw_mirth_name_QName_MKQNAME(v6, v7, v8);
	*out_ZPlusMirth_3 = v5;
	return v9;
}
static uint64_t mw_mirth_prim_Prim_name (int64_t in_Prim_1) {
	void* v3 = mfld_mirth_prim_Prim_ZTildename(((uint64_t)in_Prim_1));
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_prim_Prim_type (int64_t in_Prim_1) {
	void* v3 = mfld_mirth_prim_Prim_ZTildetype(((uint64_t)in_Prim_1));
	VAL v4 = mut_get(v3);
	return v4;
}
static int64_t mw_mirth_prim_Prim_arity (int64_t in_Prim_1) {
	void* v3 = mfld_mirth_prim_Prim_ZTildearity(((uint64_t)in_Prim_1));
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static int64_t mw_mirth_prim_Prim_ZToInt (int64_t in_Prim_1) {
	return in_Prim_1;
}
static int64_t mw_mirth_prim_Prim_ZEqualZEqual (int64_t in_Prim_1, int64_t in_Prim_2) {
	int64_t v4 = mw_mirth_prim_Prim_ZToInt(in_Prim_1);
	int64_t v5 = mw_mirth_prim_Prim_ZToInt(in_Prim_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static void mw_mirth_prim_defZ_primZBang (VAL in_ZPlusMirth_1, int64_t in_Prim_2, VAL in_Str_3, int64_t in_Int_4, VAL *out_ZPlusMirth_5) {
	uint64_t v6 = mw_std_prim_Str_ZToName(in_Str_3);
	void* v7 = mfld_mirth_prim_Prim_ZTildename(((uint64_t)in_Prim_2));
	mut_set(MKU64(v6), v7);
	void* v8 = mfld_mirth_prim_Prim_ZTildearity(((uint64_t)in_Prim_2));
	mut_set(MKI64(in_Int_4), v8);
	VAL v9 = mtw_mirth_def_Def_DefPrim(in_Prim_2);
	VAL v10;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v9, &v10);
	*out_ZPlusMirth_5 = v10;
}
static void mw_mirth_prim_Prim_ctxZ_typeZBang (VAL in_Ctx_1, VAL in_ArrowType_2, int64_t in_Prim_3) {
	void* v4 = mfld_mirth_prim_Prim_ZTildetype(((uint64_t)in_Prim_3));
	mut_set(in_ArrowType_2, v4);
	void* v5 = mfld_mirth_prim_Prim_ZTildectx(((uint64_t)in_Prim_3));
	mut_set(in_Ctx_1, v5);
}
static void mw_mirth_prim_initZ_primsZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	int64_t v3 = 113LL /* PRIM_SYNTAX_MODULE */;
	STR* v4;
	STRLIT(v4, "module", 6);
	int64_t v5 = -1LL;
	VAL v6;
	mw_mirth_prim_defZ_primZBang(in_ZPlusMirth_1, v3, MKSTR(v4), v5, &v6);
	int64_t v7 = 114LL /* PRIM_SYNTAX_IMPORT */;
	STR* v8;
	STRLIT(v8, "import", 6);
	int64_t v9 = -1LL;
	VAL v10;
	mw_mirth_prim_defZ_primZBang(v6, v7, MKSTR(v8), v9, &v10);
	int64_t v11 = 116LL /* PRIM_SYNTAX_INLINE */;
	STR* v12;
	STRLIT(v12, "inline", 6);
	int64_t v13 = -1LL;
	VAL v14;
	mw_mirth_prim_defZ_primZBang(v10, v11, MKSTR(v12), v13, &v14);
	int64_t v15 = 115LL /* PRIM_SYNTAX_ALIAS */;
	STR* v16;
	STRLIT(v16, "alias", 5);
	int64_t v17 = -1LL;
	VAL v18;
	mw_mirth_prim_defZ_primZBang(v14, v15, MKSTR(v16), v17, &v18);
	int64_t v19 = 117LL /* PRIM_SYNTAX_DEF */;
	STR* v20;
	STRLIT(v20, "def", 3);
	int64_t v21 = -1LL;
	VAL v22;
	mw_mirth_prim_defZ_primZBang(v18, v19, MKSTR(v20), v21, &v22);
	int64_t v23 = 119LL /* PRIM_SYNTAX_DEF_TYPE */;
	STR* v24;
	STRLIT(v24, "def-type", 8);
	int64_t v25 = -1LL;
	VAL v26;
	mw_mirth_prim_defZ_primZBang(v22, v23, MKSTR(v24), v25, &v26);
	int64_t v27 = 118LL /* PRIM_SYNTAX_DEF_MISSING */;
	STR* v28;
	STRLIT(v28, "def-missing", 11);
	int64_t v29 = -1LL;
	VAL v30;
	mw_mirth_prim_defZ_primZBang(v26, v27, MKSTR(v28), v29, &v30);
	int64_t v31 = 120LL /* PRIM_SYNTAX_BUFFER */;
	STR* v32;
	STRLIT(v32, "buffer", 6);
	int64_t v33 = -1LL;
	VAL v34;
	mw_mirth_prim_defZ_primZBang(v30, v31, MKSTR(v32), v33, &v34);
	int64_t v35 = 123LL /* PRIM_SYNTAX_DEF_EXTERNAL */;
	STR* v36;
	STRLIT(v36, "def-external", 12);
	int64_t v37 = -1LL;
	VAL v38;
	mw_mirth_prim_defZ_primZBang(v34, v35, MKSTR(v36), v37, &v38);
	int64_t v39 = 122LL /* PRIM_SYNTAX_EXTERNAL */;
	STR* v40;
	STRLIT(v40, "external", 8);
	int64_t v41 = -1LL;
	VAL v42;
	mw_mirth_prim_defZ_primZBang(v38, v39, MKSTR(v40), v41, &v42);
	int64_t v43 = 125LL /* PRIM_SYNTAX_TABLE */;
	STR* v44;
	STRLIT(v44, "table", 5);
	int64_t v45 = -1LL;
	VAL v46;
	mw_mirth_prim_defZ_primZBang(v42, v43, MKSTR(v44), v45, &v46);
	int64_t v47 = 126LL /* PRIM_SYNTAX_FIELD */;
	STR* v48;
	STRLIT(v48, "field", 5);
	int64_t v49 = -1LL;
	VAL v50;
	mw_mirth_prim_defZ_primZBang(v46, v47, MKSTR(v48), v49, &v50);
	int64_t v51 = 124LL /* PRIM_SYNTAX_EMBED_STR */;
	STR* v52;
	STRLIT(v52, "embed-str", 9);
	int64_t v53 = -1LL;
	VAL v54;
	mw_mirth_prim_defZ_primZBang(v50, v51, MKSTR(v52), v53, &v54);
	int64_t v55 = 127LL /* PRIM_SYNTAX_DATA */;
	STR* v56;
	STRLIT(v56, "data", 4);
	int64_t v57 = -1LL;
	VAL v58;
	mw_mirth_prim_defZ_primZBang(v54, v55, MKSTR(v56), v57, &v58);
	int64_t v59 = 128LL /* PRIM_SYNTAX_STRUCT */;
	STR* v60;
	STRLIT(v60, "struct", 6);
	int64_t v61 = -1LL;
	VAL v62;
	mw_mirth_prim_defZ_primZBang(v58, v59, MKSTR(v60), v61, &v62);
	int64_t v63 = 121LL /* PRIM_SYNTAX_VARIABLE */;
	STR* v64;
	STRLIT(v64, "var", 3);
	int64_t v65 = -1LL;
	VAL v66;
	mw_mirth_prim_defZ_primZBang(v62, v63, MKSTR(v64), v65, &v66);
	int64_t v67 = 130LL /* PRIM_SYNTAX_ARROW */;
	STR* v68;
	STRLIT(v68, "->", 2);
	int64_t v69 = -1LL;
	VAL v70;
	mw_mirth_prim_defZ_primZBang(v66, v67, MKSTR(v68), v69, &v70);
	int64_t v71 = 129LL /* PRIM_SYNTAX_DASHES */;
	STR* v72;
	STRLIT(v72, "--", 2);
	int64_t v73 = -1LL;
	VAL v74;
	mw_mirth_prim_defZ_primZBang(v70, v71, MKSTR(v72), v73, &v74);
	int64_t v75 = 5LL /* PRIM_CORE_DIP */;
	STR* v76;
	STRLIT(v76, "dip", 3);
	int64_t v77 = 1LL;
	VAL v78;
	mw_mirth_prim_defZ_primZBang(v74, v75, MKSTR(v76), v77, &v78);
	int64_t v79 = 8LL /* PRIM_CORE_WHILE */;
	STR* v80;
	STRLIT(v80, "while", 5);
	int64_t v81 = 2LL;
	VAL v82;
	mw_mirth_prim_defZ_primZBang(v78, v79, MKSTR(v80), v81, &v82);
	int64_t v83 = 12LL /* PRIM_CORE_MATCH */;
	STR* v84;
	STRLIT(v84, "match", 5);
	int64_t v85 = -1LL;
	VAL v86;
	mw_mirth_prim_defZ_primZBang(v82, v83, MKSTR(v84), v85, &v86);
	int64_t v87 = 13LL /* PRIM_CORE_LAMBDA */;
	STR* v88;
	STRLIT(v88, "\\", 1);
	int64_t v89 = -1LL;
	VAL v90;
	mw_mirth_prim_defZ_primZBang(v86, v87, MKSTR(v88), v89, &v90);
	int64_t v91 = 0LL /* PRIM_CORE_ID */;
	STR* v92;
	STRLIT(v92, "prim-id", 7);
	int64_t v93 = 0LL;
	VAL v94;
	mw_mirth_prim_defZ_primZBang(v90, v91, MKSTR(v92), v93, &v94);
	int64_t v95 = 1LL /* PRIM_CORE_DUP */;
	STR* v96;
	STRLIT(v96, "prim-dup", 8);
	int64_t v97 = 0LL;
	VAL v98;
	mw_mirth_prim_defZ_primZBang(v94, v95, MKSTR(v96), v97, &v98);
	int64_t v99 = 2LL /* PRIM_CORE_DROP */;
	STR* v100;
	STRLIT(v100, "prim-drop", 9);
	int64_t v101 = 0LL;
	VAL v102;
	mw_mirth_prim_defZ_primZBang(v98, v99, MKSTR(v100), v101, &v102);
	int64_t v103 = 3LL /* PRIM_CORE_SWAP */;
	STR* v104;
	STRLIT(v104, "prim-swap", 9);
	int64_t v105 = 0LL;
	VAL v106;
	mw_mirth_prim_defZ_primZBang(v102, v103, MKSTR(v104), v105, &v106);
	int64_t v107 = 5LL /* PRIM_CORE_DIP */;
	STR* v108;
	STRLIT(v108, "prim-dip", 8);
	int64_t v109 = 1LL;
	VAL v110;
	mw_mirth_prim_defZ_primZBang(v106, v107, MKSTR(v108), v109, &v110);
	int64_t v111 = 7LL /* PRIM_CORE_IF */;
	STR* v112;
	STRLIT(v112, "prim-if", 7);
	int64_t v113 = 2LL;
	VAL v114;
	mw_mirth_prim_defZ_primZBang(v110, v111, MKSTR(v112), v113, &v114);
	int64_t v115 = 8LL /* PRIM_CORE_WHILE */;
	STR* v116;
	STRLIT(v116, "prim-while", 10);
	int64_t v117 = 2LL;
	VAL v118;
	mw_mirth_prim_defZ_primZBang(v114, v115, MKSTR(v116), v117, &v118);
	int64_t v119 = 9LL /* PRIM_CORE_DEBUG */;
	STR* v120;
	STRLIT(v120, "prim-debug", 10);
	int64_t v121 = 0LL;
	VAL v122;
	mw_mirth_prim_defZ_primZBang(v118, v119, MKSTR(v120), v121, &v122);
	int64_t v123 = 10LL /* PRIM_CORE_PANIC */;
	STR* v124;
	STRLIT(v124, "prim-panic", 10);
	int64_t v125 = 0LL;
	VAL v126;
	mw_mirth_prim_defZ_primZBang(v122, v123, MKSTR(v124), v125, &v126);
	int64_t v127 = 11LL /* PRIM_CORE_RUN */;
	STR* v128;
	STRLIT(v128, "prim-run", 8);
	int64_t v129 = 0LL;
	VAL v130;
	mw_mirth_prim_defZ_primZBang(v126, v127, MKSTR(v128), v129, &v130);
	int64_t v131 = 12LL /* PRIM_CORE_MATCH */;
	STR* v132;
	STRLIT(v132, "prim-match", 10);
	int64_t v133 = -1LL;
	VAL v134;
	mw_mirth_prim_defZ_primZBang(v130, v131, MKSTR(v132), v133, &v134);
	int64_t v135 = 13LL /* PRIM_CORE_LAMBDA */;
	STR* v136;
	STRLIT(v136, "prim-lambda", 11);
	int64_t v137 = -1LL;
	VAL v138;
	mw_mirth_prim_defZ_primZBang(v134, v135, MKSTR(v136), v137, &v138);
	int64_t v139 = 4LL /* PRIM_CORE_RSWAP */;
	STR* v140;
	STRLIT(v140, "prim-rswap", 10);
	int64_t v141 = 0LL;
	VAL v142;
	mw_mirth_prim_defZ_primZBang(v138, v139, MKSTR(v140), v141, &v142);
	int64_t v143 = 6LL /* PRIM_CORE_RDIP */;
	STR* v144;
	STRLIT(v144, "prim-rdip", 9);
	int64_t v145 = 1LL;
	VAL v146;
	mw_mirth_prim_defZ_primZBang(v142, v143, MKSTR(v144), v145, &v146);
	int64_t v147 = 20LL /* PRIM_INT_ADD */;
	STR* v148;
	STRLIT(v148, "prim-int-add", 12);
	int64_t v149 = 0LL;
	VAL v150;
	mw_mirth_prim_defZ_primZBang(v146, v147, MKSTR(v148), v149, &v150);
	int64_t v151 = 21LL /* PRIM_INT_SUB */;
	STR* v152;
	STRLIT(v152, "prim-int-sub", 12);
	int64_t v153 = 0LL;
	VAL v154;
	mw_mirth_prim_defZ_primZBang(v150, v151, MKSTR(v152), v153, &v154);
	int64_t v155 = 22LL /* PRIM_INT_MUL */;
	STR* v156;
	STRLIT(v156, "prim-int-mul", 12);
	int64_t v157 = 0LL;
	VAL v158;
	mw_mirth_prim_defZ_primZBang(v154, v155, MKSTR(v156), v157, &v158);
	int64_t v159 = 23LL /* PRIM_INT_DIV */;
	STR* v160;
	STRLIT(v160, "prim-int-div", 12);
	int64_t v161 = 0LL;
	VAL v162;
	mw_mirth_prim_defZ_primZBang(v158, v159, MKSTR(v160), v161, &v162);
	int64_t v163 = 24LL /* PRIM_INT_MOD */;
	STR* v164;
	STRLIT(v164, "prim-int-mod", 12);
	int64_t v165 = 0LL;
	VAL v166;
	mw_mirth_prim_defZ_primZBang(v162, v163, MKSTR(v164), v165, &v166);
	int64_t v167 = 25LL /* PRIM_INT_AND */;
	STR* v168;
	STRLIT(v168, "prim-int-and", 12);
	int64_t v169 = 0LL;
	VAL v170;
	mw_mirth_prim_defZ_primZBang(v166, v167, MKSTR(v168), v169, &v170);
	int64_t v171 = 26LL /* PRIM_INT_OR */;
	STR* v172;
	STRLIT(v172, "prim-int-or", 11);
	int64_t v173 = 0LL;
	VAL v174;
	mw_mirth_prim_defZ_primZBang(v170, v171, MKSTR(v172), v173, &v174);
	int64_t v175 = 27LL /* PRIM_INT_XOR */;
	STR* v176;
	STRLIT(v176, "prim-int-xor", 12);
	int64_t v177 = 0LL;
	VAL v178;
	mw_mirth_prim_defZ_primZBang(v174, v175, MKSTR(v176), v177, &v178);
	int64_t v179 = 28LL /* PRIM_INT_SHL */;
	STR* v180;
	STRLIT(v180, "prim-int-shl", 12);
	int64_t v181 = 0LL;
	VAL v182;
	mw_mirth_prim_defZ_primZBang(v178, v179, MKSTR(v180), v181, &v182);
	int64_t v183 = 29LL /* PRIM_INT_SHR */;
	STR* v184;
	STRLIT(v184, "prim-int-shr", 12);
	int64_t v185 = 0LL;
	VAL v186;
	mw_mirth_prim_defZ_primZBang(v182, v183, MKSTR(v184), v185, &v186);
	int64_t v187 = 14LL /* PRIM_INT_EQ */;
	STR* v188;
	STRLIT(v188, "prim-int-eq", 11);
	int64_t v189 = 0LL;
	VAL v190;
	mw_mirth_prim_defZ_primZBang(v186, v187, MKSTR(v188), v189, &v190);
	int64_t v191 = 15LL /* PRIM_INT_LT */;
	STR* v192;
	STRLIT(v192, "prim-int-lt", 11);
	int64_t v193 = 0LL;
	VAL v194;
	mw_mirth_prim_defZ_primZBang(v190, v191, MKSTR(v192), v193, &v194);
	int64_t v195 = 16LL /* PRIM_INT_LE */;
	STR* v196;
	STRLIT(v196, "prim-int-le", 11);
	int64_t v197 = 0LL;
	VAL v198;
	mw_mirth_prim_defZ_primZBang(v194, v195, MKSTR(v196), v197, &v198);
	int64_t v199 = 17LL /* PRIM_INT_GT */;
	STR* v200;
	STRLIT(v200, "prim-int-gt", 11);
	int64_t v201 = 0LL;
	VAL v202;
	mw_mirth_prim_defZ_primZBang(v198, v199, MKSTR(v200), v201, &v202);
	int64_t v203 = 18LL /* PRIM_INT_GE */;
	STR* v204;
	STRLIT(v204, "prim-int-ge", 11);
	int64_t v205 = 0LL;
	VAL v206;
	mw_mirth_prim_defZ_primZBang(v202, v203, MKSTR(v204), v205, &v206);
	int64_t v207 = 19LL /* PRIM_INT_NE */;
	STR* v208;
	STRLIT(v208, "prim-int-ne", 11);
	int64_t v209 = 0LL;
	VAL v210;
	mw_mirth_prim_defZ_primZBang(v206, v207, MKSTR(v208), v209, &v210);
	int64_t v211 = 30LL /* PRIM_INT_TO_STR */;
	STR* v212;
	STRLIT(v212, "prim-int-to-str", 15);
	int64_t v213 = 0LL;
	VAL v214;
	mw_mirth_prim_defZ_primZBang(v210, v211, MKSTR(v212), v213, &v214);
	int64_t v215 = 32LL /* PRIM_INT_TO_F32 */;
	STR* v216;
	STRLIT(v216, "prim-int-to-float32", 19);
	int64_t v217 = 0LL;
	VAL v218;
	mw_mirth_prim_defZ_primZBang(v214, v215, MKSTR(v216), v217, &v218);
	int64_t v219 = 33LL /* PRIM_INT_TO_F64 */;
	STR* v220;
	STRLIT(v220, "prim-int-to-float64", 19);
	int64_t v221 = 0LL;
	VAL v222;
	mw_mirth_prim_defZ_primZBang(v218, v219, MKSTR(v220), v221, &v222);
	int64_t v223 = 32LL /* PRIM_INT_TO_F32 */;
	STR* v224;
	STRLIT(v224, "prim-int-to-f32", 15);
	int64_t v225 = 0LL;
	VAL v226;
	mw_mirth_prim_defZ_primZBang(v222, v223, MKSTR(v224), v225, &v226);
	int64_t v227 = 33LL /* PRIM_INT_TO_F64 */;
	STR* v228;
	STRLIT(v228, "prim-int-to-f64", 15);
	int64_t v229 = 0LL;
	VAL v230;
	mw_mirth_prim_defZ_primZBang(v226, v227, MKSTR(v228), v229, &v230);
	int64_t v231 = 31LL /* PRIM_INT_TO_I64 */;
	STR* v232;
	STRLIT(v232, "prim-int-to-i64", 15);
	int64_t v233 = 0LL;
	VAL v234;
	mw_mirth_prim_defZ_primZBang(v230, v231, MKSTR(v232), v233, &v234);
	int64_t v235 = 34LL /* PRIM_U8_GET */;
	STR* v236;
	STRLIT(v236, "prim-u8-get", 11);
	int64_t v237 = 0LL;
	VAL v238;
	mw_mirth_prim_defZ_primZBang(v234, v235, MKSTR(v236), v237, &v238);
	int64_t v239 = 35LL /* PRIM_U8_SET */;
	STR* v240;
	STRLIT(v240, "prim-u8-set", 11);
	int64_t v241 = 0LL;
	VAL v242;
	mw_mirth_prim_defZ_primZBang(v238, v239, MKSTR(v240), v241, &v242);
	int64_t v243 = 36LL /* PRIM_U16_GET */;
	STR* v244;
	STRLIT(v244, "prim-u16-get", 12);
	int64_t v245 = 0LL;
	VAL v246;
	mw_mirth_prim_defZ_primZBang(v242, v243, MKSTR(v244), v245, &v246);
	int64_t v247 = 37LL /* PRIM_U16_SET */;
	STR* v248;
	STRLIT(v248, "prim-u16-set", 12);
	int64_t v249 = 0LL;
	VAL v250;
	mw_mirth_prim_defZ_primZBang(v246, v247, MKSTR(v248), v249, &v250);
	int64_t v251 = 38LL /* PRIM_U32_GET */;
	STR* v252;
	STRLIT(v252, "prim-u32-get", 12);
	int64_t v253 = 0LL;
	VAL v254;
	mw_mirth_prim_defZ_primZBang(v250, v251, MKSTR(v252), v253, &v254);
	int64_t v255 = 39LL /* PRIM_U32_SET */;
	STR* v256;
	STRLIT(v256, "prim-u32-set", 12);
	int64_t v257 = 0LL;
	VAL v258;
	mw_mirth_prim_defZ_primZBang(v254, v255, MKSTR(v256), v257, &v258);
	int64_t v259 = 40LL /* PRIM_U64_GET */;
	STR* v260;
	STRLIT(v260, "prim-u64-get", 12);
	int64_t v261 = 0LL;
	VAL v262;
	mw_mirth_prim_defZ_primZBang(v258, v259, MKSTR(v260), v261, &v262);
	int64_t v263 = 41LL /* PRIM_U64_SET */;
	STR* v264;
	STRLIT(v264, "prim-u64-set", 12);
	int64_t v265 = 0LL;
	VAL v266;
	mw_mirth_prim_defZ_primZBang(v262, v263, MKSTR(v264), v265, &v266);
	int64_t v267 = 42LL /* PRIM_I8_GET */;
	STR* v268;
	STRLIT(v268, "prim-i8-get", 11);
	int64_t v269 = 0LL;
	VAL v270;
	mw_mirth_prim_defZ_primZBang(v266, v267, MKSTR(v268), v269, &v270);
	int64_t v271 = 43LL /* PRIM_I8_SET */;
	STR* v272;
	STRLIT(v272, "prim-i8-set", 11);
	int64_t v273 = 0LL;
	VAL v274;
	mw_mirth_prim_defZ_primZBang(v270, v271, MKSTR(v272), v273, &v274);
	int64_t v275 = 44LL /* PRIM_I16_GET */;
	STR* v276;
	STRLIT(v276, "prim-i16-get", 12);
	int64_t v277 = 0LL;
	VAL v278;
	mw_mirth_prim_defZ_primZBang(v274, v275, MKSTR(v276), v277, &v278);
	int64_t v279 = 45LL /* PRIM_I16_SET */;
	STR* v280;
	STRLIT(v280, "prim-i16-set", 12);
	int64_t v281 = 0LL;
	VAL v282;
	mw_mirth_prim_defZ_primZBang(v278, v279, MKSTR(v280), v281, &v282);
	int64_t v283 = 46LL /* PRIM_I32_GET */;
	STR* v284;
	STRLIT(v284, "prim-i32-get", 12);
	int64_t v285 = 0LL;
	VAL v286;
	mw_mirth_prim_defZ_primZBang(v282, v283, MKSTR(v284), v285, &v286);
	int64_t v287 = 47LL /* PRIM_I32_SET */;
	STR* v288;
	STRLIT(v288, "prim-i32-set", 12);
	int64_t v289 = 0LL;
	VAL v290;
	mw_mirth_prim_defZ_primZBang(v286, v287, MKSTR(v288), v289, &v290);
	int64_t v291 = 48LL /* PRIM_I64_GET */;
	STR* v292;
	STRLIT(v292, "prim-i64-get", 12);
	int64_t v293 = 0LL;
	VAL v294;
	mw_mirth_prim_defZ_primZBang(v290, v291, MKSTR(v292), v293, &v294);
	int64_t v295 = 49LL /* PRIM_I64_SET */;
	STR* v296;
	STRLIT(v296, "prim-i64-set", 12);
	int64_t v297 = 0LL;
	VAL v298;
	mw_mirth_prim_defZ_primZBang(v294, v295, MKSTR(v296), v297, &v298);
	int64_t v299 = 50LL /* PRIM_I64_TO_INT */;
	STR* v300;
	STRLIT(v300, "prim-i64-to-int", 15);
	int64_t v301 = 0LL;
	VAL v302;
	mw_mirth_prim_defZ_primZBang(v298, v299, MKSTR(v300), v301, &v302);
	int64_t v303 = 51LL /* PRIM_F32_EQ */;
	STR* v304;
	STRLIT(v304, "prim-f32-eq", 11);
	int64_t v305 = 0LL;
	VAL v306;
	mw_mirth_prim_defZ_primZBang(v302, v303, MKSTR(v304), v305, &v306);
	int64_t v307 = 52LL /* PRIM_F32_LT */;
	STR* v308;
	STRLIT(v308, "prim-f32-lt", 11);
	int64_t v309 = 0LL;
	VAL v310;
	mw_mirth_prim_defZ_primZBang(v306, v307, MKSTR(v308), v309, &v310);
	int64_t v311 = 53LL /* PRIM_F32_ADD */;
	STR* v312;
	STRLIT(v312, "prim-f32-add", 12);
	int64_t v313 = 0LL;
	VAL v314;
	mw_mirth_prim_defZ_primZBang(v310, v311, MKSTR(v312), v313, &v314);
	int64_t v315 = 54LL /* PRIM_F32_SUB */;
	STR* v316;
	STRLIT(v316, "prim-f32-sub", 12);
	int64_t v317 = 0LL;
	VAL v318;
	mw_mirth_prim_defZ_primZBang(v314, v315, MKSTR(v316), v317, &v318);
	int64_t v319 = 55LL /* PRIM_F32_MUL */;
	STR* v320;
	STRLIT(v320, "prim-f32-mul", 12);
	int64_t v321 = 0LL;
	VAL v322;
	mw_mirth_prim_defZ_primZBang(v318, v319, MKSTR(v320), v321, &v322);
	int64_t v323 = 56LL /* PRIM_F32_DIV */;
	STR* v324;
	STRLIT(v324, "prim-f32-div", 12);
	int64_t v325 = 0LL;
	VAL v326;
	mw_mirth_prim_defZ_primZBang(v322, v323, MKSTR(v324), v325, &v326);
	int64_t v327 = 57LL /* PRIM_F32_TO_INT */;
	STR* v328;
	STRLIT(v328, "prim-f32-to-int", 15);
	int64_t v329 = 0LL;
	VAL v330;
	mw_mirth_prim_defZ_primZBang(v326, v327, MKSTR(v328), v329, &v330);
	int64_t v331 = 58LL /* PRIM_F32_TO_STR */;
	STR* v332;
	STRLIT(v332, "prim-f32-to-str", 15);
	int64_t v333 = 0LL;
	VAL v334;
	mw_mirth_prim_defZ_primZBang(v330, v331, MKSTR(v332), v333, &v334);
	int64_t v335 = 59LL /* PRIM_F32_TO_F64 */;
	STR* v336;
	STRLIT(v336, "prim-f32-to-f64", 15);
	int64_t v337 = 0LL;
	VAL v338;
	mw_mirth_prim_defZ_primZBang(v334, v335, MKSTR(v336), v337, &v338);
	int64_t v339 = 60LL /* PRIM_F64_EQ */;
	STR* v340;
	STRLIT(v340, "prim-f64-eq", 11);
	int64_t v341 = 0LL;
	VAL v342;
	mw_mirth_prim_defZ_primZBang(v338, v339, MKSTR(v340), v341, &v342);
	int64_t v343 = 61LL /* PRIM_F64_LT */;
	STR* v344;
	STRLIT(v344, "prim-f64-lt", 11);
	int64_t v345 = 0LL;
	VAL v346;
	mw_mirth_prim_defZ_primZBang(v342, v343, MKSTR(v344), v345, &v346);
	int64_t v347 = 62LL /* PRIM_F64_ADD */;
	STR* v348;
	STRLIT(v348, "prim-f64-add", 12);
	int64_t v349 = 0LL;
	VAL v350;
	mw_mirth_prim_defZ_primZBang(v346, v347, MKSTR(v348), v349, &v350);
	int64_t v351 = 63LL /* PRIM_F64_SUB */;
	STR* v352;
	STRLIT(v352, "prim-f64-sub", 12);
	int64_t v353 = 0LL;
	VAL v354;
	mw_mirth_prim_defZ_primZBang(v350, v351, MKSTR(v352), v353, &v354);
	int64_t v355 = 64LL /* PRIM_F64_MUL */;
	STR* v356;
	STRLIT(v356, "prim-f64-mul", 12);
	int64_t v357 = 0LL;
	VAL v358;
	mw_mirth_prim_defZ_primZBang(v354, v355, MKSTR(v356), v357, &v358);
	int64_t v359 = 65LL /* PRIM_F64_DIV */;
	STR* v360;
	STRLIT(v360, "prim-f64-div", 12);
	int64_t v361 = 0LL;
	VAL v362;
	mw_mirth_prim_defZ_primZBang(v358, v359, MKSTR(v360), v361, &v362);
	int64_t v363 = 66LL /* PRIM_F64_TO_INT */;
	STR* v364;
	STRLIT(v364, "prim-f64-to-int", 15);
	int64_t v365 = 0LL;
	VAL v366;
	mw_mirth_prim_defZ_primZBang(v362, v363, MKSTR(v364), v365, &v366);
	int64_t v367 = 67LL /* PRIM_F64_TO_STR */;
	STR* v368;
	STRLIT(v368, "prim-f64-to-str", 15);
	int64_t v369 = 0LL;
	VAL v370;
	mw_mirth_prim_defZ_primZBang(v366, v367, MKSTR(v368), v369, &v370);
	int64_t v371 = 68LL /* PRIM_F64_TO_F32 */;
	STR* v372;
	STRLIT(v372, "prim-f64-to-f32", 15);
	int64_t v373 = 0LL;
	VAL v374;
	mw_mirth_prim_defZ_primZBang(v370, v371, MKSTR(v372), v373, &v374);
	int64_t v375 = 69LL /* PRIM_BOOL_AND */;
	STR* v376;
	STRLIT(v376, "prim-bool-and", 13);
	int64_t v377 = 0LL;
	VAL v378;
	mw_mirth_prim_defZ_primZBang(v374, v375, MKSTR(v376), v377, &v378);
	int64_t v379 = 70LL /* PRIM_BOOL_OR */;
	STR* v380;
	STRLIT(v380, "prim-bool-or", 12);
	int64_t v381 = 0LL;
	VAL v382;
	mw_mirth_prim_defZ_primZBang(v378, v379, MKSTR(v380), v381, &v382);
	int64_t v383 = 71LL /* PRIM_BOOL_NOT */;
	STR* v384;
	STRLIT(v384, "prim-bool-not", 13);
	int64_t v385 = 0LL;
	VAL v386;
	mw_mirth_prim_defZ_primZBang(v382, v383, MKSTR(v384), v385, &v386);
	int64_t v387 = 72LL /* PRIM_TUP_PACK0 */;
	STR* v388;
	STRLIT(v388, "prim-tup-pack0", 14);
	int64_t v389 = 0LL;
	VAL v390;
	mw_mirth_prim_defZ_primZBang(v386, v387, MKSTR(v388), v389, &v390);
	int64_t v391 = 73LL /* PRIM_TUP_PACK1 */;
	STR* v392;
	STRLIT(v392, "prim-tup-pack1", 14);
	int64_t v393 = 0LL;
	VAL v394;
	mw_mirth_prim_defZ_primZBang(v390, v391, MKSTR(v392), v393, &v394);
	int64_t v395 = 74LL /* PRIM_TUP_PACK2 */;
	STR* v396;
	STRLIT(v396, "prim-tup-pack2", 14);
	int64_t v397 = 0LL;
	VAL v398;
	mw_mirth_prim_defZ_primZBang(v394, v395, MKSTR(v396), v397, &v398);
	int64_t v399 = 75LL /* PRIM_TUP_PACK3 */;
	STR* v400;
	STRLIT(v400, "prim-tup-pack3", 14);
	int64_t v401 = 0LL;
	VAL v402;
	mw_mirth_prim_defZ_primZBang(v398, v399, MKSTR(v400), v401, &v402);
	int64_t v403 = 76LL /* PRIM_TUP_PACK4 */;
	STR* v404;
	STRLIT(v404, "prim-tup-pack4", 14);
	int64_t v405 = 0LL;
	VAL v406;
	mw_mirth_prim_defZ_primZBang(v402, v403, MKSTR(v404), v405, &v406);
	int64_t v407 = 77LL /* PRIM_TUP_PACK5 */;
	STR* v408;
	STRLIT(v408, "prim-tup-pack5", 14);
	int64_t v409 = 0LL;
	VAL v410;
	mw_mirth_prim_defZ_primZBang(v406, v407, MKSTR(v408), v409, &v410);
	int64_t v411 = 78LL /* PRIM_TUP_UNPACK0 */;
	STR* v412;
	STRLIT(v412, "prim-tup-unpack0", 16);
	int64_t v413 = 0LL;
	VAL v414;
	mw_mirth_prim_defZ_primZBang(v410, v411, MKSTR(v412), v413, &v414);
	int64_t v415 = 79LL /* PRIM_TUP_UNPACK1 */;
	STR* v416;
	STRLIT(v416, "prim-tup-unpack1", 16);
	int64_t v417 = 0LL;
	VAL v418;
	mw_mirth_prim_defZ_primZBang(v414, v415, MKSTR(v416), v417, &v418);
	int64_t v419 = 80LL /* PRIM_TUP_UNPACK2 */;
	STR* v420;
	STRLIT(v420, "prim-tup-unpack2", 16);
	int64_t v421 = 0LL;
	VAL v422;
	mw_mirth_prim_defZ_primZBang(v418, v419, MKSTR(v420), v421, &v422);
	int64_t v423 = 81LL /* PRIM_TUP_UNPACK3 */;
	STR* v424;
	STRLIT(v424, "prim-tup-unpack3", 16);
	int64_t v425 = 0LL;
	VAL v426;
	mw_mirth_prim_defZ_primZBang(v422, v423, MKSTR(v424), v425, &v426);
	int64_t v427 = 82LL /* PRIM_TUP_UNPACK4 */;
	STR* v428;
	STRLIT(v428, "prim-tup-unpack4", 16);
	int64_t v429 = 0LL;
	VAL v430;
	mw_mirth_prim_defZ_primZBang(v426, v427, MKSTR(v428), v429, &v430);
	int64_t v431 = 83LL /* PRIM_TUP_UNPACK5 */;
	STR* v432;
	STRLIT(v432, "prim-tup-unpack5", 16);
	int64_t v433 = 0LL;
	VAL v434;
	mw_mirth_prim_defZ_primZBang(v430, v431, MKSTR(v432), v433, &v434);
	int64_t v435 = 84LL /* PRIM_MUT_GET */;
	STR* v436;
	STRLIT(v436, "prim-mut-get", 12);
	int64_t v437 = 0LL;
	VAL v438;
	mw_mirth_prim_defZ_primZBang(v434, v435, MKSTR(v436), v437, &v438);
	int64_t v439 = 85LL /* PRIM_MUT_SET */;
	STR* v440;
	STRLIT(v440, "prim-mut-set", 12);
	int64_t v441 = 0LL;
	VAL v442;
	mw_mirth_prim_defZ_primZBang(v438, v439, MKSTR(v440), v441, &v442);
	int64_t v443 = 86LL /* PRIM_MUT_IS_SET */;
	STR* v444;
	STRLIT(v444, "prim-mut-is-set", 15);
	int64_t v445 = 0LL;
	VAL v446;
	mw_mirth_prim_defZ_primZBang(v442, v443, MKSTR(v444), v445, &v446);
	int64_t v447 = 87LL /* PRIM_PTR_NIL */;
	STR* v448;
	STRLIT(v448, "prim-ptr-nil", 12);
	int64_t v449 = 0LL;
	VAL v450;
	mw_mirth_prim_defZ_primZBang(v446, v447, MKSTR(v448), v449, &v450);
	int64_t v451 = 88LL /* PRIM_PTR_EQ */;
	STR* v452;
	STRLIT(v452, "prim-ptr-eq", 11);
	int64_t v453 = 0LL;
	VAL v454;
	mw_mirth_prim_defZ_primZBang(v450, v451, MKSTR(v452), v453, &v454);
	int64_t v455 = 89LL /* PRIM_PTR_ADD */;
	STR* v456;
	STRLIT(v456, "prim-ptr-add", 12);
	int64_t v457 = 0LL;
	VAL v458;
	mw_mirth_prim_defZ_primZBang(v454, v455, MKSTR(v456), v457, &v458);
	int64_t v459 = 90LL /* PRIM_PTR_SIZE */;
	STR* v460;
	STRLIT(v460, "prim-ptr-size", 13);
	int64_t v461 = 0LL;
	VAL v462;
	mw_mirth_prim_defZ_primZBang(v458, v459, MKSTR(v460), v461, &v462);
	int64_t v463 = 96LL /* PRIM_PTR_GET */;
	STR* v464;
	STRLIT(v464, "prim-ptr-get", 12);
	int64_t v465 = 0LL;
	VAL v466;
	mw_mirth_prim_defZ_primZBang(v462, v463, MKSTR(v464), v465, &v466);
	int64_t v467 = 97LL /* PRIM_PTR_SET */;
	STR* v468;
	STRLIT(v468, "prim-ptr-set", 12);
	int64_t v469 = 0LL;
	VAL v470;
	mw_mirth_prim_defZ_primZBang(v466, v467, MKSTR(v468), v469, &v470);
	int64_t v471 = 91LL /* PRIM_PTR_ALLOC */;
	STR* v472;
	STRLIT(v472, "prim-ptr-alloc", 14);
	int64_t v473 = 0LL;
	VAL v474;
	mw_mirth_prim_defZ_primZBang(v470, v471, MKSTR(v472), v473, &v474);
	int64_t v475 = 92LL /* PRIM_PTR_REALLOC */;
	STR* v476;
	STRLIT(v476, "prim-ptr-realloc", 16);
	int64_t v477 = 0LL;
	VAL v478;
	mw_mirth_prim_defZ_primZBang(v474, v475, MKSTR(v476), v477, &v478);
	int64_t v479 = 93LL /* PRIM_PTR_FREE */;
	STR* v480;
	STRLIT(v480, "prim-ptr-free", 13);
	int64_t v481 = 0LL;
	VAL v482;
	mw_mirth_prim_defZ_primZBang(v478, v479, MKSTR(v480), v481, &v482);
	int64_t v483 = 95LL /* PRIM_PTR_FILL */;
	STR* v484;
	STRLIT(v484, "prim-ptr-fill", 13);
	int64_t v485 = 0LL;
	VAL v486;
	mw_mirth_prim_defZ_primZBang(v482, v483, MKSTR(v484), v485, &v486);
	int64_t v487 = 94LL /* PRIM_PTR_COPY */;
	STR* v488;
	STRLIT(v488, "prim-ptr-copy", 13);
	int64_t v489 = 0LL;
	VAL v490;
	mw_mirth_prim_defZ_primZBang(v486, v487, MKSTR(v488), v489, &v490);
	int64_t v491 = 98LL /* PRIM_STR_COPY */;
	STR* v492;
	STRLIT(v492, "prim-str-copy", 13);
	int64_t v493 = 0LL;
	VAL v494;
	mw_mirth_prim_defZ_primZBang(v490, v491, MKSTR(v492), v493, &v494);
	int64_t v495 = 99LL /* PRIM_STR_NUM_BYTES */;
	STR* v496;
	STRLIT(v496, "prim-str-num-bytes", 18);
	int64_t v497 = 0LL;
	VAL v498;
	mw_mirth_prim_defZ_primZBang(v494, v495, MKSTR(v496), v497, &v498);
	int64_t v499 = 100LL /* PRIM_STR_BASE */;
	STR* v500;
	STRLIT(v500, "prim-str-base", 13);
	int64_t v501 = 0LL;
	VAL v502;
	mw_mirth_prim_defZ_primZBang(v498, v499, MKSTR(v500), v501, &v502);
	int64_t v503 = 101LL /* PRIM_STR_CAT */;
	STR* v504;
	STRLIT(v504, "prim-str-cat", 12);
	int64_t v505 = 0LL;
	VAL v506;
	mw_mirth_prim_defZ_primZBang(v502, v503, MKSTR(v504), v505, &v506);
	int64_t v507 = 102LL /* PRIM_STR_CMP */;
	STR* v508;
	STRLIT(v508, "prim-str-cmp", 12);
	int64_t v509 = 0LL;
	VAL v510;
	mw_mirth_prim_defZ_primZBang(v506, v507, MKSTR(v508), v509, &v510);
	int64_t v511 = 103LL /* PRIM_STR_EQ */;
	STR* v512;
	STRLIT(v512, "prim-str-eq", 11);
	int64_t v513 = 0LL;
	VAL v514;
	mw_mirth_prim_defZ_primZBang(v510, v511, MKSTR(v512), v513, &v514);
	int64_t v515 = 104LL /* PRIM_STR_LT */;
	STR* v516;
	STRLIT(v516, "prim-str-lt", 11);
	int64_t v517 = 0LL;
	VAL v518;
	mw_mirth_prim_defZ_primZBang(v514, v515, MKSTR(v516), v517, &v518);
	int64_t v519 = 105LL /* PRIM_STR_LE */;
	STR* v520;
	STRLIT(v520, "prim-str-le", 11);
	int64_t v521 = 0LL;
	VAL v522;
	mw_mirth_prim_defZ_primZBang(v518, v519, MKSTR(v520), v521, &v522);
	int64_t v523 = 106LL /* PRIM_STR_GT */;
	STR* v524;
	STRLIT(v524, "prim-str-gt", 11);
	int64_t v525 = 0LL;
	VAL v526;
	mw_mirth_prim_defZ_primZBang(v522, v523, MKSTR(v524), v525, &v526);
	int64_t v527 = 107LL /* PRIM_STR_GE */;
	STR* v528;
	STRLIT(v528, "prim-str-ge", 11);
	int64_t v529 = 0LL;
	VAL v530;
	mw_mirth_prim_defZ_primZBang(v526, v527, MKSTR(v528), v529, &v530);
	int64_t v531 = 108LL /* PRIM_STR_NE */;
	STR* v532;
	STRLIT(v532, "prim-str-ne", 11);
	int64_t v533 = 0LL;
	VAL v534;
	mw_mirth_prim_defZ_primZBang(v530, v531, MKSTR(v532), v533, &v534);
	int64_t v535 = 109LL /* PRIM_SYS_OS */;
	STR* v536;
	STRLIT(v536, "prim-sys-os", 11);
	int64_t v537 = 0LL;
	VAL v538;
	mw_mirth_prim_defZ_primZBang(v534, v535, MKSTR(v536), v537, &v538);
	int64_t v539 = 110LL /* PRIM_SYS_ARCH */;
	STR* v540;
	STRLIT(v540, "prim-sys-arch", 13);
	int64_t v541 = 0LL;
	VAL v542;
	mw_mirth_prim_defZ_primZBang(v538, v539, MKSTR(v540), v541, &v542);
	int64_t v543 = 111LL /* PRIM_SYS_ARGC */;
	STR* v544;
	STRLIT(v544, "prim-sys-argc", 13);
	int64_t v545 = 0LL;
	VAL v546;
	mw_mirth_prim_defZ_primZBang(v542, v543, MKSTR(v544), v545, &v546);
	int64_t v547 = 112LL /* PRIM_SYS_ARGV */;
	STR* v548;
	STRLIT(v548, "prim-sys-argv", 13);
	int64_t v549 = 0LL;
	VAL v550;
	mw_mirth_prim_defZ_primZBang(v546, v547, MKSTR(v548), v549, &v550);
	VAL v551 = mw_mirth_var_Ctx0();
	VAL v552 = mw_mirth_type_T0();
	VAL v553 = mw_mirth_type_T0();
	VAL v554 = mw_mirth_type_TZ_ZTo(v552, v553);
	incref(v551);
	incref(v554);
	int64_t v555 = 0LL /* PRIM_CORE_ID */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v551, v554, v555);
	incref(v551);
	incref(v554);
	int64_t v556 = 9LL /* PRIM_CORE_DEBUG */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v551, v554, v556);
	decref(v554);
	decref(v551);
	VAL v557 = mw_mirth_var_Ctx0();
	VAL v558 = mw_mirth_type_TYPEz_INT();
	VAL v559 = mw_mirth_type_TYPEz_INT();
	VAL v560 = mw_mirth_type_T2(v558, v559);
	VAL v561 = mw_mirth_type_TYPEz_INT();
	VAL v562 = mw_mirth_type_T1(v561);
	VAL v563 = mw_mirth_type_TZ_ZTo(v560, v562);
	incref(v557);
	incref(v563);
	int64_t v564 = 20LL /* PRIM_INT_ADD */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v564);
	incref(v557);
	incref(v563);
	int64_t v565 = 21LL /* PRIM_INT_SUB */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v565);
	incref(v557);
	incref(v563);
	int64_t v566 = 22LL /* PRIM_INT_MUL */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v566);
	incref(v557);
	incref(v563);
	int64_t v567 = 23LL /* PRIM_INT_DIV */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v567);
	incref(v557);
	incref(v563);
	int64_t v568 = 24LL /* PRIM_INT_MOD */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v568);
	incref(v557);
	incref(v563);
	int64_t v569 = 25LL /* PRIM_INT_AND */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v569);
	incref(v557);
	incref(v563);
	int64_t v570 = 26LL /* PRIM_INT_OR */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v570);
	incref(v557);
	incref(v563);
	int64_t v571 = 27LL /* PRIM_INT_XOR */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v571);
	incref(v557);
	incref(v563);
	int64_t v572 = 28LL /* PRIM_INT_SHL */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v572);
	incref(v557);
	incref(v563);
	int64_t v573 = 29LL /* PRIM_INT_SHR */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v557, v563, v573);
	decref(v563);
	decref(v557);
	VAL v574 = mw_mirth_var_Ctx0();
	VAL v575 = mw_mirth_type_TYPEz_INT();
	VAL v576 = mw_mirth_type_TYPEz_INT();
	VAL v577 = mw_mirth_type_T2(v575, v576);
	VAL v578;
	VAL v579 = mw_mirth_data_TYPEz_BOOL(v550, &v578);
	VAL v580 = mw_mirth_type_T1(v579);
	VAL v581 = mw_mirth_type_TZ_ZTo(v577, v580);
	incref(v574);
	incref(v581);
	int64_t v582 = 14LL /* PRIM_INT_EQ */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v574, v581, v582);
	incref(v574);
	incref(v581);
	int64_t v583 = 15LL /* PRIM_INT_LT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v574, v581, v583);
	incref(v574);
	incref(v581);
	int64_t v584 = 16LL /* PRIM_INT_LE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v574, v581, v584);
	incref(v574);
	incref(v581);
	int64_t v585 = 17LL /* PRIM_INT_GT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v574, v581, v585);
	incref(v574);
	incref(v581);
	int64_t v586 = 18LL /* PRIM_INT_GE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v574, v581, v586);
	incref(v574);
	incref(v581);
	int64_t v587 = 19LL /* PRIM_INT_NE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v574, v581, v587);
	decref(v581);
	decref(v574);
	VAL v588 = mw_mirth_var_Ctx0();
	VAL v589 = mw_mirth_type_TYPEz_INT();
	VAL v590 = mw_mirth_type_T1(v589);
	VAL v591 = mw_mirth_type_TYPEz_STR();
	VAL v592 = mw_mirth_type_T1(v591);
	VAL v593 = mw_mirth_type_TZ_ZTo(v590, v592);
	int64_t v594 = 30LL /* PRIM_INT_TO_STR */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v588, v593, v594);
	VAL v595 = mw_mirth_var_Ctx0();
	VAL v596 = mw_mirth_type_TYPEz_INT();
	VAL v597 = mw_mirth_type_T1(v596);
	VAL v598 = mw_mirth_type_TYPEz_F32();
	VAL v599 = mw_mirth_type_T1(v598);
	VAL v600 = mw_mirth_type_TZ_ZTo(v597, v599);
	int64_t v601 = 32LL /* PRIM_INT_TO_F32 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v595, v600, v601);
	VAL v602 = mw_mirth_var_Ctx0();
	VAL v603 = mw_mirth_type_TYPEz_INT();
	VAL v604 = mw_mirth_type_T1(v603);
	VAL v605 = mw_mirth_type_TYPEz_F64();
	VAL v606 = mw_mirth_type_T1(v605);
	VAL v607 = mw_mirth_type_TZ_ZTo(v604, v606);
	int64_t v608 = 33LL /* PRIM_INT_TO_F64 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v602, v607, v608);
	VAL v609 = mw_mirth_var_Ctx0();
	VAL v610 = mw_mirth_type_TYPEz_INT();
	VAL v611 = mw_mirth_type_T1(v610);
	VAL v612;
	VAL v613 = mw_mirth_data_TYPEz_I64(v578, &v612);
	VAL v614 = mw_mirth_type_T1(v613);
	VAL v615 = mw_mirth_type_TZ_ZTo(v611, v614);
	int64_t v616 = 31LL /* PRIM_INT_TO_I64 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v609, v615, v616);
	VAL v617 = mw_mirth_var_Ctx0();
	VAL v618 = mw_mirth_type_TYPEz_PTR();
	VAL v619 = mw_mirth_type_T1(v618);
	VAL v620;
	VAL v621 = mw_mirth_data_TYPEz_U8(v612, &v620);
	VAL v622 = mw_mirth_type_T1(v621);
	VAL v623 = mw_mirth_type_TZ_ZTo(v619, v622);
	int64_t v624 = 34LL /* PRIM_U8_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v617, v623, v624);
	VAL v625 = mw_mirth_var_Ctx0();
	VAL v626;
	VAL v627 = mw_mirth_data_TYPEz_U8(v620, &v626);
	VAL v628 = mw_mirth_type_TYPEz_PTR();
	VAL v629 = mw_mirth_type_T2(v627, v628);
	VAL v630 = mw_mirth_type_T0();
	VAL v631 = mw_mirth_type_TZ_ZTo(v629, v630);
	int64_t v632 = 35LL /* PRIM_U8_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v625, v631, v632);
	VAL v633 = mw_mirth_var_Ctx0();
	VAL v634 = mw_mirth_type_TYPEz_PTR();
	VAL v635 = mw_mirth_type_T1(v634);
	VAL v636;
	VAL v637 = mw_mirth_data_TYPEz_U16(v626, &v636);
	VAL v638 = mw_mirth_type_T1(v637);
	VAL v639 = mw_mirth_type_TZ_ZTo(v635, v638);
	int64_t v640 = 36LL /* PRIM_U16_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v633, v639, v640);
	VAL v641 = mw_mirth_var_Ctx0();
	VAL v642;
	VAL v643 = mw_mirth_data_TYPEz_U16(v636, &v642);
	VAL v644 = mw_mirth_type_TYPEz_PTR();
	VAL v645 = mw_mirth_type_T2(v643, v644);
	VAL v646 = mw_mirth_type_T0();
	VAL v647 = mw_mirth_type_TZ_ZTo(v645, v646);
	int64_t v648 = 37LL /* PRIM_U16_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v641, v647, v648);
	VAL v649 = mw_mirth_var_Ctx0();
	VAL v650 = mw_mirth_type_TYPEz_PTR();
	VAL v651 = mw_mirth_type_T1(v650);
	VAL v652;
	VAL v653 = mw_mirth_data_TYPEz_U32(v642, &v652);
	VAL v654 = mw_mirth_type_T1(v653);
	VAL v655 = mw_mirth_type_TZ_ZTo(v651, v654);
	int64_t v656 = 38LL /* PRIM_U32_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v649, v655, v656);
	VAL v657 = mw_mirth_var_Ctx0();
	VAL v658;
	VAL v659 = mw_mirth_data_TYPEz_U32(v652, &v658);
	VAL v660 = mw_mirth_type_TYPEz_PTR();
	VAL v661 = mw_mirth_type_T2(v659, v660);
	VAL v662 = mw_mirth_type_T0();
	VAL v663 = mw_mirth_type_TZ_ZTo(v661, v662);
	int64_t v664 = 39LL /* PRIM_U32_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v657, v663, v664);
	VAL v665 = mw_mirth_var_Ctx0();
	VAL v666 = mw_mirth_type_TYPEz_PTR();
	VAL v667 = mw_mirth_type_T1(v666);
	VAL v668;
	VAL v669 = mw_mirth_data_TYPEz_U64(v658, &v668);
	VAL v670 = mw_mirth_type_T1(v669);
	VAL v671 = mw_mirth_type_TZ_ZTo(v667, v670);
	int64_t v672 = 40LL /* PRIM_U64_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v665, v671, v672);
	VAL v673 = mw_mirth_var_Ctx0();
	VAL v674;
	VAL v675 = mw_mirth_data_TYPEz_U64(v668, &v674);
	VAL v676 = mw_mirth_type_TYPEz_PTR();
	VAL v677 = mw_mirth_type_T2(v675, v676);
	VAL v678 = mw_mirth_type_T0();
	VAL v679 = mw_mirth_type_TZ_ZTo(v677, v678);
	int64_t v680 = 41LL /* PRIM_U64_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v673, v679, v680);
	VAL v681 = mw_mirth_var_Ctx0();
	VAL v682 = mw_mirth_type_TYPEz_PTR();
	VAL v683 = mw_mirth_type_T1(v682);
	VAL v684;
	VAL v685 = mw_mirth_data_TYPEz_I8(v674, &v684);
	VAL v686 = mw_mirth_type_T1(v685);
	VAL v687 = mw_mirth_type_TZ_ZTo(v683, v686);
	int64_t v688 = 42LL /* PRIM_I8_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v681, v687, v688);
	VAL v689 = mw_mirth_var_Ctx0();
	VAL v690;
	VAL v691 = mw_mirth_data_TYPEz_I8(v684, &v690);
	VAL v692 = mw_mirth_type_TYPEz_PTR();
	VAL v693 = mw_mirth_type_T2(v691, v692);
	VAL v694 = mw_mirth_type_T0();
	VAL v695 = mw_mirth_type_TZ_ZTo(v693, v694);
	int64_t v696 = 43LL /* PRIM_I8_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v689, v695, v696);
	VAL v697 = mw_mirth_var_Ctx0();
	VAL v698 = mw_mirth_type_TYPEz_PTR();
	VAL v699 = mw_mirth_type_T1(v698);
	VAL v700;
	VAL v701 = mw_mirth_data_TYPEz_I16(v690, &v700);
	VAL v702 = mw_mirth_type_T1(v701);
	VAL v703 = mw_mirth_type_TZ_ZTo(v699, v702);
	int64_t v704 = 44LL /* PRIM_I16_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v697, v703, v704);
	VAL v705 = mw_mirth_var_Ctx0();
	VAL v706;
	VAL v707 = mw_mirth_data_TYPEz_I16(v700, &v706);
	VAL v708 = mw_mirth_type_TYPEz_PTR();
	VAL v709 = mw_mirth_type_T2(v707, v708);
	VAL v710 = mw_mirth_type_T0();
	VAL v711 = mw_mirth_type_TZ_ZTo(v709, v710);
	int64_t v712 = 45LL /* PRIM_I16_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v705, v711, v712);
	VAL v713 = mw_mirth_var_Ctx0();
	VAL v714 = mw_mirth_type_TYPEz_PTR();
	VAL v715 = mw_mirth_type_T1(v714);
	VAL v716;
	VAL v717 = mw_mirth_data_TYPEz_I32(v706, &v716);
	VAL v718 = mw_mirth_type_T1(v717);
	VAL v719 = mw_mirth_type_TZ_ZTo(v715, v718);
	int64_t v720 = 46LL /* PRIM_I32_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v713, v719, v720);
	VAL v721 = mw_mirth_var_Ctx0();
	VAL v722;
	VAL v723 = mw_mirth_data_TYPEz_I32(v716, &v722);
	VAL v724 = mw_mirth_type_TYPEz_PTR();
	VAL v725 = mw_mirth_type_T2(v723, v724);
	VAL v726 = mw_mirth_type_T0();
	VAL v727 = mw_mirth_type_TZ_ZTo(v725, v726);
	int64_t v728 = 47LL /* PRIM_I32_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v721, v727, v728);
	VAL v729 = mw_mirth_var_Ctx0();
	VAL v730 = mw_mirth_type_TYPEz_PTR();
	VAL v731 = mw_mirth_type_T1(v730);
	VAL v732;
	VAL v733 = mw_mirth_data_TYPEz_I64(v722, &v732);
	VAL v734 = mw_mirth_type_T1(v733);
	VAL v735 = mw_mirth_type_TZ_ZTo(v731, v734);
	int64_t v736 = 48LL /* PRIM_I64_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v729, v735, v736);
	VAL v737 = mw_mirth_var_Ctx0();
	VAL v738;
	VAL v739 = mw_mirth_data_TYPEz_I64(v732, &v738);
	VAL v740 = mw_mirth_type_TYPEz_PTR();
	VAL v741 = mw_mirth_type_T2(v739, v740);
	VAL v742 = mw_mirth_type_T0();
	VAL v743 = mw_mirth_type_TZ_ZTo(v741, v742);
	int64_t v744 = 49LL /* PRIM_I64_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v737, v743, v744);
	VAL v745 = mw_mirth_var_Ctx0();
	VAL v746;
	VAL v747 = mw_mirth_data_TYPEz_I64(v738, &v746);
	VAL v748 = mw_mirth_type_T1(v747);
	VAL v749 = mw_mirth_type_TYPEz_INT();
	VAL v750 = mw_mirth_type_T1(v749);
	VAL v751 = mw_mirth_type_TZ_ZTo(v748, v750);
	int64_t v752 = 50LL /* PRIM_I64_TO_INT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v745, v751, v752);
	VAL v753 = mw_mirth_var_Ctx0();
	VAL v754 = mw_mirth_type_TYPEz_F32();
	VAL v755 = mw_mirth_type_TYPEz_F32();
	VAL v756 = mw_mirth_type_T2(v754, v755);
	VAL v757;
	VAL v758 = mw_mirth_data_TYPEz_BOOL(v746, &v757);
	VAL v759 = mw_mirth_type_T1(v758);
	VAL v760 = mw_mirth_type_TZ_ZTo(v756, v759);
	incref(v753);
	incref(v760);
	int64_t v761 = 51LL /* PRIM_F32_EQ */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v753, v760, v761);
	incref(v753);
	incref(v760);
	int64_t v762 = 52LL /* PRIM_F32_LT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v753, v760, v762);
	decref(v760);
	decref(v753);
	VAL v763 = mw_mirth_var_Ctx0();
	VAL v764 = mw_mirth_type_TYPEz_F32();
	VAL v765 = mw_mirth_type_TYPEz_F32();
	VAL v766 = mw_mirth_type_T2(v764, v765);
	VAL v767 = mw_mirth_type_TYPEz_F32();
	VAL v768 = mw_mirth_type_T1(v767);
	VAL v769 = mw_mirth_type_TZ_ZTo(v766, v768);
	incref(v763);
	incref(v769);
	int64_t v770 = 53LL /* PRIM_F32_ADD */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v763, v769, v770);
	incref(v763);
	incref(v769);
	int64_t v771 = 54LL /* PRIM_F32_SUB */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v763, v769, v771);
	incref(v763);
	incref(v769);
	int64_t v772 = 55LL /* PRIM_F32_MUL */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v763, v769, v772);
	incref(v763);
	incref(v769);
	int64_t v773 = 56LL /* PRIM_F32_DIV */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v763, v769, v773);
	decref(v769);
	decref(v763);
	VAL v774 = mw_mirth_var_Ctx0();
	VAL v775 = mw_mirth_type_TYPEz_F32();
	VAL v776 = mw_mirth_type_T1(v775);
	VAL v777 = mw_mirth_type_TYPEz_STR();
	VAL v778 = mw_mirth_type_T1(v777);
	VAL v779 = mw_mirth_type_TZ_ZTo(v776, v778);
	int64_t v780 = 58LL /* PRIM_F32_TO_STR */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v774, v779, v780);
	VAL v781 = mw_mirth_var_Ctx0();
	VAL v782 = mw_mirth_type_TYPEz_F32();
	VAL v783 = mw_mirth_type_T1(v782);
	VAL v784 = mw_mirth_type_TYPEz_INT();
	VAL v785 = mw_mirth_type_T1(v784);
	VAL v786 = mw_mirth_type_TZ_ZTo(v783, v785);
	int64_t v787 = 57LL /* PRIM_F32_TO_INT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v781, v786, v787);
	VAL v788 = mw_mirth_var_Ctx0();
	VAL v789 = mw_mirth_type_TYPEz_F64();
	VAL v790 = mw_mirth_type_TYPEz_F64();
	VAL v791 = mw_mirth_type_T2(v789, v790);
	VAL v792;
	VAL v793 = mw_mirth_data_TYPEz_BOOL(v757, &v792);
	VAL v794 = mw_mirth_type_T1(v793);
	VAL v795 = mw_mirth_type_TZ_ZTo(v791, v794);
	incref(v788);
	incref(v795);
	int64_t v796 = 60LL /* PRIM_F64_EQ */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v788, v795, v796);
	incref(v788);
	incref(v795);
	int64_t v797 = 61LL /* PRIM_F64_LT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v788, v795, v797);
	decref(v795);
	decref(v788);
	VAL v798 = mw_mirth_var_Ctx0();
	VAL v799 = mw_mirth_type_TYPEz_F64();
	VAL v800 = mw_mirth_type_TYPEz_F64();
	VAL v801 = mw_mirth_type_T2(v799, v800);
	VAL v802 = mw_mirth_type_TYPEz_F64();
	VAL v803 = mw_mirth_type_T1(v802);
	VAL v804 = mw_mirth_type_TZ_ZTo(v801, v803);
	incref(v798);
	incref(v804);
	int64_t v805 = 62LL /* PRIM_F64_ADD */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v798, v804, v805);
	incref(v798);
	incref(v804);
	int64_t v806 = 63LL /* PRIM_F64_SUB */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v798, v804, v806);
	incref(v798);
	incref(v804);
	int64_t v807 = 64LL /* PRIM_F64_MUL */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v798, v804, v807);
	incref(v798);
	incref(v804);
	int64_t v808 = 65LL /* PRIM_F64_DIV */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v798, v804, v808);
	decref(v804);
	decref(v798);
	VAL v809 = mw_mirth_var_Ctx0();
	VAL v810 = mw_mirth_type_TYPEz_F64();
	VAL v811 = mw_mirth_type_T1(v810);
	VAL v812 = mw_mirth_type_TYPEz_STR();
	VAL v813 = mw_mirth_type_T1(v812);
	VAL v814 = mw_mirth_type_TZ_ZTo(v811, v813);
	int64_t v815 = 67LL /* PRIM_F64_TO_STR */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v809, v814, v815);
	VAL v816 = mw_mirth_var_Ctx0();
	VAL v817 = mw_mirth_type_TYPEz_F64();
	VAL v818 = mw_mirth_type_T1(v817);
	VAL v819 = mw_mirth_type_TYPEz_INT();
	VAL v820 = mw_mirth_type_T1(v819);
	VAL v821 = mw_mirth_type_TZ_ZTo(v818, v820);
	int64_t v822 = 66LL /* PRIM_F64_TO_INT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v816, v821, v822);
	VAL v823 = mw_mirth_var_Ctx0();
	VAL v824;
	VAL v825 = mw_mirth_data_TYPEz_BOOL(v792, &v824);
	VAL v826;
	VAL v827 = mw_mirth_data_TYPEz_BOOL(v824, &v826);
	VAL v828 = mw_mirth_type_T2(v825, v827);
	VAL v829;
	VAL v830 = mw_mirth_data_TYPEz_BOOL(v826, &v829);
	VAL v831 = mw_mirth_type_T1(v830);
	VAL v832 = mw_mirth_type_TZ_ZTo(v828, v831);
	incref(v823);
	incref(v832);
	int64_t v833 = 69LL /* PRIM_BOOL_AND */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v823, v832, v833);
	incref(v823);
	incref(v832);
	int64_t v834 = 70LL /* PRIM_BOOL_OR */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v823, v832, v834);
	decref(v832);
	decref(v823);
	VAL v835 = mw_mirth_var_Ctx0();
	VAL v836;
	VAL v837 = mw_mirth_data_TYPEz_BOOL(v829, &v836);
	VAL v838 = mw_mirth_type_T1(v837);
	VAL v839;
	VAL v840 = mw_mirth_data_TYPEz_BOOL(v836, &v839);
	VAL v841 = mw_mirth_type_T1(v840);
	VAL v842 = mw_mirth_type_TZ_ZTo(v838, v841);
	int64_t v843 = 71LL /* PRIM_BOOL_NOT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v835, v842, v843);
	VAL v844 = mw_mirth_var_Ctx0();
	VAL v845 = mw_mirth_type_TYPEz_PTR();
	VAL v846 = mw_mirth_type_T1(v845);
	VAL v847 = mw_mirth_type_TYPEz_PTR();
	VAL v848 = mw_mirth_type_T1(v847);
	VAL v849 = mw_mirth_type_TZ_ZTo(v846, v848);
	int64_t v850 = 96LL /* PRIM_PTR_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v844, v849, v850);
	VAL v851 = mw_mirth_var_Ctx0();
	VAL v852 = mw_mirth_type_TYPEz_PTR();
	VAL v853 = mw_mirth_type_TYPEz_PTR();
	VAL v854 = mw_mirth_type_T2(v852, v853);
	VAL v855 = mw_mirth_type_T0();
	VAL v856 = mw_mirth_type_TZ_ZTo(v854, v855);
	int64_t v857 = 97LL /* PRIM_PTR_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v851, v856, v857);
	VAL v858 = mw_mirth_var_Ctx0();
	VAL v859 = mw_mirth_type_T0();
	VAL v860 = mw_mirth_type_TYPEz_PTR();
	VAL v861 = mw_mirth_type_T1(v860);
	VAL v862 = mw_mirth_type_TZ_ZTo(v859, v861);
	int64_t v863 = 87LL /* PRIM_PTR_NIL */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v858, v862, v863);
	VAL v864 = mw_mirth_var_Ctx0();
	VAL v865 = mw_mirth_type_TYPEz_PTR();
	VAL v866 = mw_mirth_type_TYPEz_PTR();
	VAL v867 = mw_mirth_type_T2(v865, v866);
	VAL v868;
	VAL v869 = mw_mirth_data_TYPEz_BOOL(v839, &v868);
	VAL v870 = mw_mirth_type_T1(v869);
	VAL v871 = mw_mirth_type_TZ_ZTo(v867, v870);
	int64_t v872 = 88LL /* PRIM_PTR_EQ */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v864, v871, v872);
	VAL v873 = mw_mirth_var_Ctx0();
	VAL v874 = mw_mirth_type_TYPEz_INT();
	VAL v875 = mw_mirth_type_TYPEz_PTR();
	VAL v876 = mw_mirth_type_T2(v874, v875);
	VAL v877 = mw_mirth_type_TYPEz_PTR();
	VAL v878 = mw_mirth_type_T1(v877);
	VAL v879 = mw_mirth_type_TZ_ZTo(v876, v878);
	int64_t v880 = 89LL /* PRIM_PTR_ADD */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v873, v879, v880);
	VAL v881 = mw_mirth_var_Ctx0();
	VAL v882 = mw_mirth_type_T0();
	VAL v883 = mw_mirth_type_TYPEz_INT();
	VAL v884 = mw_mirth_type_T1(v883);
	VAL v885 = mw_mirth_type_TZ_ZTo(v882, v884);
	int64_t v886 = 90LL /* PRIM_PTR_SIZE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v881, v885, v886);
	VAL v887 = mw_mirth_var_Ctx0();
	VAL v888 = mw_mirth_type_TYPEz_INT();
	VAL v889 = mw_mirth_type_T1(v888);
	VAL v890 = mw_mirth_type_TYPEz_PTR();
	VAL v891 = mw_mirth_type_T1(v890);
	VAL v892 = mw_mirth_type_TZ_ZTo(v889, v891);
	int64_t v893 = 91LL /* PRIM_PTR_ALLOC */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v887, v892, v893);
	VAL v894 = mw_mirth_var_Ctx0();
	VAL v895 = mw_mirth_type_TYPEz_PTR();
	VAL v896 = mw_mirth_type_TYPEz_INT();
	VAL v897 = mw_mirth_type_T2(v895, v896);
	VAL v898 = mw_mirth_type_TYPEz_PTR();
	VAL v899 = mw_mirth_type_T1(v898);
	VAL v900 = mw_mirth_type_TZ_ZTo(v897, v899);
	int64_t v901 = 92LL /* PRIM_PTR_REALLOC */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v894, v900, v901);
	VAL v902 = mw_mirth_var_Ctx0();
	VAL v903 = mw_mirth_type_TYPEz_PTR();
	VAL v904 = mw_mirth_type_T1(v903);
	VAL v905 = mw_mirth_type_T0();
	VAL v906 = mw_mirth_type_TZ_ZTo(v904, v905);
	int64_t v907 = 93LL /* PRIM_PTR_FREE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v902, v906, v907);
	VAL v908 = mw_mirth_var_Ctx0();
	VAL v909 = mw_mirth_type_TYPEz_PTR();
	VAL v910 = mw_mirth_type_TYPEz_INT();
	VAL v911 = mw_mirth_type_TYPEz_PTR();
	VAL v912 = mw_mirth_type_T3(v909, v910, v911);
	VAL v913 = mw_mirth_type_T0();
	VAL v914 = mw_mirth_type_TZ_ZTo(v912, v913);
	int64_t v915 = 94LL /* PRIM_PTR_COPY */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v908, v914, v915);
	VAL v916 = mw_mirth_var_Ctx0();
	VAL v917 = mw_mirth_type_TYPEz_INT();
	VAL v918 = mw_mirth_type_TYPEz_INT();
	VAL v919 = mw_mirth_type_TYPEz_PTR();
	VAL v920 = mw_mirth_type_T3(v917, v918, v919);
	VAL v921 = mw_mirth_type_T0();
	VAL v922 = mw_mirth_type_TZ_ZTo(v920, v921);
	int64_t v923 = 95LL /* PRIM_PTR_FILL */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v916, v922, v923);
	VAL v924 = mw_mirth_var_Ctx0();
	VAL v925 = mw_mirth_type_TYPEz_PTR();
	VAL v926 = mw_mirth_type_TYPEz_INT();
	VAL v927 = mw_mirth_type_T2(v925, v926);
	VAL v928 = mw_mirth_type_TYPEz_STR();
	VAL v929 = mw_mirth_type_T1(v928);
	VAL v930 = mw_mirth_type_TZ_ZTo(v927, v929);
	int64_t v931 = 98LL /* PRIM_STR_COPY */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v924, v930, v931);
	VAL v932 = mw_mirth_var_Ctx0();
	VAL v933 = mw_mirth_type_TYPEz_STR();
	VAL v934 = mw_mirth_type_T1(v933);
	VAL v935 = mw_mirth_type_TYPEz_INT();
	VAL v936 = mw_mirth_type_T1(v935);
	VAL v937 = mw_mirth_type_TZ_ZTo(v934, v936);
	int64_t v938 = 99LL /* PRIM_STR_NUM_BYTES */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v932, v937, v938);
	VAL v939 = mw_mirth_var_Ctx0();
	VAL v940 = mw_mirth_type_TYPEz_STR();
	VAL v941 = mw_mirth_type_T1(v940);
	VAL v942 = mw_mirth_type_TYPEz_PTR();
	VAL v943 = mw_mirth_type_T1(v942);
	VAL v944 = mw_mirth_type_TZ_ZTo(v941, v943);
	int64_t v945 = 100LL /* PRIM_STR_BASE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v939, v944, v945);
	VAL v946 = mw_mirth_var_Ctx0();
	VAL v947 = mw_mirth_type_TYPEz_STR();
	VAL v948 = mw_mirth_type_TYPEz_STR();
	VAL v949 = mw_mirth_type_T2(v947, v948);
	VAL v950 = mw_mirth_type_TYPEz_STR();
	VAL v951 = mw_mirth_type_T1(v950);
	VAL v952 = mw_mirth_type_TZ_ZTo(v949, v951);
	int64_t v953 = 101LL /* PRIM_STR_CAT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v946, v952, v953);
	VAL v954 = mw_mirth_var_Ctx0();
	VAL v955 = mw_mirth_type_TYPEz_STR();
	VAL v956 = mw_mirth_type_TYPEz_STR();
	VAL v957 = mw_mirth_type_T2(v955, v956);
	VAL v958 = mw_mirth_type_TYPEz_INT();
	VAL v959 = mw_mirth_type_T1(v958);
	VAL v960 = mw_mirth_type_TZ_ZTo(v957, v959);
	int64_t v961 = 102LL /* PRIM_STR_CMP */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v954, v960, v961);
	VAL v962 = mw_mirth_var_Ctx0();
	VAL v963 = mw_mirth_type_TYPEz_STR();
	VAL v964 = mw_mirth_type_TYPEz_STR();
	VAL v965 = mw_mirth_type_T2(v963, v964);
	VAL v966;
	VAL v967 = mw_mirth_data_TYPEz_BOOL(v868, &v966);
	VAL v968 = mw_mirth_type_T1(v967);
	VAL v969 = mw_mirth_type_TZ_ZTo(v965, v968);
	incref(v962);
	incref(v969);
	int64_t v970 = 103LL /* PRIM_STR_EQ */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v962, v969, v970);
	incref(v962);
	incref(v969);
	int64_t v971 = 104LL /* PRIM_STR_LT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v962, v969, v971);
	incref(v962);
	incref(v969);
	int64_t v972 = 105LL /* PRIM_STR_LE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v962, v969, v972);
	incref(v962);
	incref(v969);
	int64_t v973 = 106LL /* PRIM_STR_GT */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v962, v969, v973);
	incref(v962);
	incref(v969);
	int64_t v974 = 107LL /* PRIM_STR_GE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v962, v969, v974);
	incref(v962);
	incref(v969);
	int64_t v975 = 108LL /* PRIM_STR_NE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v962, v969, v975);
	decref(v969);
	decref(v962);
	VAL v976 = mw_mirth_var_Ctx0();
	VAL v977 = mw_mirth_type_T0();
	VAL v978 = mw_mirth_type_TYPEz_INT();
	VAL v979 = mw_mirth_type_T1(v978);
	VAL v980 = mw_mirth_type_TZ_ZTo(v977, v979);
	int64_t v981 = 109LL /* PRIM_SYS_OS */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v976, v980, v981);
	VAL v982 = mw_mirth_var_Ctx0();
	VAL v983 = mw_mirth_type_T0();
	VAL v984 = mw_mirth_type_TYPEz_INT();
	VAL v985 = mw_mirth_type_T1(v984);
	VAL v986 = mw_mirth_type_TZ_ZTo(v983, v985);
	int64_t v987 = 110LL /* PRIM_SYS_ARCH */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v982, v986, v987);
	VAL v988 = mw_mirth_var_Ctx0();
	VAL v989 = mw_mirth_type_T0();
	VAL v990 = mw_mirth_type_TYPEz_INT();
	VAL v991 = mw_mirth_type_T1(v990);
	VAL v992 = mw_mirth_type_TZ_ZTo(v989, v991);
	int64_t v993 = 111LL /* PRIM_SYS_ARGC */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v988, v992, v993);
	VAL v994 = mw_mirth_var_Ctx0();
	VAL v995 = mw_mirth_type_T0();
	VAL v996 = mw_mirth_type_TYPEz_PTR();
	VAL v997 = mw_mirth_type_T1(v996);
	VAL v998 = mw_mirth_type_TZ_ZTo(v995, v997);
	int64_t v999 = 112LL /* PRIM_SYS_ARGV */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v994, v998, v999);
	VAL v1000 = mw_mirth_type_TYPEz_TYPE();
	STR* v1001;
	STRLIT(v1001, "a", 1);
	uint64_t v1002 = mw_std_prim_Str_ZToName(MKSTR(v1001));
	uint64_t v1003 = mw_mirth_var_Var_newZBang(v1000, v1002);
	VAL v1004 = mw_mirth_type_TYPEz_TYPE();
	STR* v1005;
	STRLIT(v1005, "b", 1);
	uint64_t v1006 = mw_std_prim_Str_ZToName(MKSTR(v1005));
	uint64_t v1007 = mw_mirth_var_Var_newZBang(v1004, v1006);
	VAL v1008 = mw_mirth_type_TYPEz_TYPE();
	STR* v1009;
	STRLIT(v1009, "c", 1);
	uint64_t v1010 = mw_std_prim_Str_ZToName(MKSTR(v1009));
	uint64_t v1011 = mw_mirth_var_Var_newZBang(v1008, v1010);
	VAL v1012 = mw_mirth_type_TYPEz_TYPE();
	STR* v1013;
	STRLIT(v1013, "d", 1);
	uint64_t v1014 = mw_std_prim_Str_ZToName(MKSTR(v1013));
	uint64_t v1015 = mw_mirth_var_Var_newZBang(v1012, v1014);
	VAL v1016 = mw_mirth_type_TYPEz_TYPE();
	STR* v1017;
	STRLIT(v1017, "e", 1);
	uint64_t v1018 = mw_std_prim_Str_ZToName(MKSTR(v1017));
	uint64_t v1019 = mw_mirth_var_Var_newZBang(v1016, v1018);
	VAL v1020 = mw_mirth_type_TYPEz_RESOURCE();
	STR* v1021;
	STRLIT(v1021, "+r", 2);
	uint64_t v1022 = mw_std_prim_Str_ZToName(MKSTR(v1021));
	uint64_t v1023 = mw_mirth_var_Var_newZBang(v1020, v1022);
	VAL v1024 = mw_mirth_type_TYPEz_RESOURCE();
	STR* v1025;
	STRLIT(v1025, "+s", 2);
	uint64_t v1026 = mw_std_prim_Str_ZToName(MKSTR(v1025));
	uint64_t v1027 = mw_mirth_var_Var_newZBang(v1024, v1026);
	VAL v1028 = mw_mirth_type_TYPEz_STACK();
	STR* v1029;
	STRLIT(v1029, "*x", 2);
	uint64_t v1030 = mw_std_prim_Str_ZToName(MKSTR(v1029));
	uint64_t v1031 = mw_mirth_var_Var_newZBang(v1028, v1030);
	VAL v1032 = mw_mirth_type_TYPEz_STACK();
	STR* v1033;
	STRLIT(v1033, "*y", 2);
	uint64_t v1034 = mw_std_prim_Str_ZToName(MKSTR(v1033));
	uint64_t v1035 = mw_mirth_var_Var_newZBang(v1032, v1034);
	VAL v1036 = mtw_mirth_type_Type_TVar(v1003);
	VAL v1037 = mtw_mirth_type_Type_TVar(v1007);
	VAL v1038 = mtw_mirth_type_Type_TVar(v1011);
	VAL v1039 = mtw_mirth_type_Type_TVar(v1015);
	VAL v1040 = mtw_mirth_type_Type_TVar(v1019);
	VAL v1041 = mtw_mirth_type_Type_TVar(v1023);
	VAL v1042 = mtw_mirth_type_Type_TVar(v1027);
	VAL v1043 = mtw_mirth_type_StackType_STVar(v1031);
	VAL v1044 = mtw_mirth_type_StackType_STVar(v1035);
	VAL v1045 = mw_mirth_var_Ctx1(v1003);
	incref(v1036);
	VAL v1046 = mw_mirth_type_T1(v1036);
	VAL v1047 = mw_mirth_type_T0();
	VAL v1048 = mw_mirth_type_TZ_ZTo(v1046, v1047);
	int64_t v1049 = 2LL /* PRIM_CORE_DROP */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1045, v1048, v1049);
	VAL v1050 = mw_mirth_var_Ctx1(v1003);
	incref(v1036);
	VAL v1051 = mw_mirth_type_T1(v1036);
	incref(v1036);
	incref(v1036);
	VAL v1052 = mw_mirth_type_T2(v1036, v1036);
	VAL v1053 = mw_mirth_type_TZ_ZTo(v1051, v1052);
	int64_t v1054 = 1LL /* PRIM_CORE_DUP */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1050, v1053, v1054);
	VAL v1055 = mw_mirth_var_Ctx2(v1003, v1007);
	incref(v1036);
	incref(v1037);
	VAL v1056 = mw_mirth_type_T2(v1036, v1037);
	incref(v1037);
	incref(v1036);
	VAL v1057 = mw_mirth_type_T2(v1037, v1036);
	VAL v1058 = mw_mirth_type_TZ_ZTo(v1056, v1057);
	int64_t v1059 = 3LL /* PRIM_CORE_SWAP */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1055, v1058, v1059);
	VAL v1060 = mw_mirth_var_Ctx2(v1031, v1035);
	incref(v1043);
	incref(v1043);
	incref(v1044);
	VAL v1061 = mw_mirth_type_TZ_ZTo(v1043, v1044);
	VAL v1062 = mtw_mirth_type_Type_TMorphism(v1061);
	VAL v1063 = mw_mirth_type_TZMul(v1043, v1062);
	incref(v1044);
	VAL v1064 = mw_mirth_type_TZ_ZTo(v1063, v1044);
	int64_t v1065 = 11LL /* PRIM_CORE_RUN */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1060, v1064, v1065);
	VAL v1066 = mw_mirth_var_Ctx2(v1031, v1035);
	incref(v1043);
	VAL v1067 = mw_mirth_type_TYPEz_STR();
	VAL v1068 = mw_mirth_type_TZMul(v1043, v1067);
	incref(v1044);
	VAL v1069 = mw_mirth_type_TZ_ZTo(v1068, v1044);
	int64_t v1070 = 10LL /* PRIM_CORE_PANIC */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1066, v1069, v1070);
	VAL v1071 = mw_mirth_var_Ctx3(v1031, v1035, v1011);
	incref(v1043);
	incref(v1038);
	VAL v1072 = mw_mirth_type_TZMul(v1043, v1038);
	incref(v1043);
	incref(v1044);
	VAL v1073 = mw_mirth_type_TZ_ZTo(v1043, v1044);
	VAL v1074 = mtw_mirth_type_Type_TMorphism(v1073);
	VAL v1075 = mw_mirth_type_TZMul(v1072, v1074);
	incref(v1044);
	incref(v1038);
	VAL v1076 = mw_mirth_type_TZMul(v1044, v1038);
	VAL v1077 = mw_mirth_type_TZ_ZTo(v1075, v1076);
	int64_t v1078 = 5LL /* PRIM_CORE_DIP */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1071, v1077, v1078);
	VAL v1079 = mw_mirth_var_Ctx2(v1031, v1035);
	incref(v1043);
	VAL v1080;
	VAL v1081 = mw_mirth_data_TYPEz_BOOL(v966, &v1080);
	VAL v1082 = mw_mirth_type_TZMul(v1043, v1081);
	incref(v1043);
	incref(v1044);
	VAL v1083 = mw_mirth_type_TZ_ZTo(v1043, v1044);
	VAL v1084 = mtw_mirth_type_Type_TMorphism(v1083);
	incref(v1084);
	VAL v1085 = mw_mirth_type_TZMul(v1082, v1084);
	VAL v1086 = mw_mirth_type_TZMul(v1085, v1084);
	incref(v1044);
	VAL v1087 = mw_mirth_type_TZ_ZTo(v1086, v1044);
	int64_t v1088 = 7LL /* PRIM_CORE_IF */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1079, v1087, v1088);
	VAL v1089 = mw_mirth_var_Ctx1(v1031);
	incref(v1043);
	incref(v1043);
	incref(v1043);
	VAL v1090;
	VAL v1091 = mw_mirth_data_TYPEz_BOOL(v1080, &v1090);
	VAL v1092 = mw_mirth_type_TZMul(v1043, v1091);
	VAL v1093 = mw_mirth_type_TZ_ZTo(v1043, v1092);
	VAL v1094 = mtw_mirth_type_Type_TMorphism(v1093);
	VAL v1095 = mw_mirth_type_TZMul(v1043, v1094);
	incref(v1043);
	incref(v1043);
	VAL v1096 = mw_mirth_type_TZ_ZTo(v1043, v1043);
	VAL v1097 = mtw_mirth_type_Type_TMorphism(v1096);
	VAL v1098 = mw_mirth_type_TZMul(v1095, v1097);
	incref(v1043);
	VAL v1099 = mw_mirth_type_TZ_ZTo(v1098, v1043);
	int64_t v1100 = 8LL /* PRIM_CORE_WHILE */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1089, v1099, v1100);
	VAL v1101 = mw_mirth_var_Ctx2(v1023, v1027);
	VAL v1102 = mw_mirth_type_T0();
	incref(v1041);
	VAL v1103 = mw_mirth_type_TZPlus(v1102, v1041);
	incref(v1042);
	VAL v1104 = mw_mirth_type_TZPlus(v1103, v1042);
	VAL v1105 = mw_mirth_type_T0();
	incref(v1042);
	VAL v1106 = mw_mirth_type_TZPlus(v1105, v1042);
	incref(v1041);
	VAL v1107 = mw_mirth_type_TZPlus(v1106, v1041);
	VAL v1108 = mw_mirth_type_TZ_ZTo(v1104, v1107);
	int64_t v1109 = 4LL /* PRIM_CORE_RSWAP */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1101, v1108, v1109);
	VAL v1110 = mw_mirth_var_Ctx3(v1031, v1035, v1023);
	incref(v1043);
	incref(v1041);
	VAL v1111 = mw_mirth_type_TZPlus(v1043, v1041);
	incref(v1043);
	incref(v1044);
	VAL v1112 = mw_mirth_type_TZ_ZTo(v1043, v1044);
	VAL v1113 = mtw_mirth_type_Type_TMorphism(v1112);
	VAL v1114 = mw_mirth_type_TZMul(v1111, v1113);
	incref(v1044);
	incref(v1041);
	VAL v1115 = mw_mirth_type_TZPlus(v1044, v1041);
	VAL v1116 = mw_mirth_type_TZ_ZTo(v1114, v1115);
	int64_t v1117 = 6LL /* PRIM_CORE_RDIP */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1110, v1116, v1117);
	VAL v1118 = mw_mirth_var_Ctx0();
	VAL v1119 = mw_mirth_type_T0();
	incref(v1119);
	VAL v1120 = mw_mirth_type_StackType_ZToType(v1119);
	VAL v1121 = mw_mirth_type_T1(v1120);
	incref(v1121);
	incref(v1118);
	incref(v1119);
	VAL v1122 = mw_mirth_type_TZ_ZTo(v1119, v1121);
	int64_t v1123 = 72LL /* PRIM_TUP_PACK0 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1118, v1122, v1123);
	VAL v1124 = mw_mirth_type_TZ_ZTo(v1121, v1119);
	int64_t v1125 = 78LL /* PRIM_TUP_UNPACK0 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1118, v1124, v1125);
	VAL v1126 = mw_mirth_var_Ctx1(v1003);
	incref(v1036);
	VAL v1127 = mw_mirth_type_T1(v1036);
	incref(v1127);
	VAL v1128 = mw_mirth_type_StackType_ZToType(v1127);
	VAL v1129 = mw_mirth_type_T1(v1128);
	incref(v1129);
	incref(v1126);
	incref(v1127);
	VAL v1130 = mw_mirth_type_TZ_ZTo(v1127, v1129);
	int64_t v1131 = 73LL /* PRIM_TUP_PACK1 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1126, v1130, v1131);
	VAL v1132 = mw_mirth_type_TZ_ZTo(v1129, v1127);
	int64_t v1133 = 79LL /* PRIM_TUP_UNPACK1 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1126, v1132, v1133);
	VAL v1134 = mw_mirth_var_Ctx2(v1003, v1007);
	incref(v1036);
	incref(v1037);
	VAL v1135 = mw_mirth_type_T2(v1036, v1037);
	incref(v1135);
	VAL v1136 = mw_mirth_type_StackType_ZToType(v1135);
	VAL v1137 = mw_mirth_type_T1(v1136);
	incref(v1137);
	incref(v1134);
	incref(v1135);
	VAL v1138 = mw_mirth_type_TZ_ZTo(v1135, v1137);
	int64_t v1139 = 74LL /* PRIM_TUP_PACK2 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1134, v1138, v1139);
	VAL v1140 = mw_mirth_type_TZ_ZTo(v1137, v1135);
	int64_t v1141 = 80LL /* PRIM_TUP_UNPACK2 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1134, v1140, v1141);
	VAL v1142 = mw_mirth_var_Ctx3(v1003, v1007, v1011);
	incref(v1036);
	incref(v1037);
	incref(v1038);
	VAL v1143 = mw_mirth_type_T3(v1036, v1037, v1038);
	incref(v1143);
	VAL v1144 = mw_mirth_type_StackType_ZToType(v1143);
	VAL v1145 = mw_mirth_type_T1(v1144);
	incref(v1145);
	incref(v1142);
	incref(v1143);
	VAL v1146 = mw_mirth_type_TZ_ZTo(v1143, v1145);
	int64_t v1147 = 75LL /* PRIM_TUP_PACK3 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1142, v1146, v1147);
	VAL v1148 = mw_mirth_type_TZ_ZTo(v1145, v1143);
	int64_t v1149 = 81LL /* PRIM_TUP_UNPACK3 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1142, v1148, v1149);
	VAL v1150 = mw_mirth_var_Ctx4(v1003, v1007, v1011, v1015);
	incref(v1036);
	incref(v1037);
	incref(v1038);
	incref(v1039);
	VAL v1151 = mw_mirth_type_T4(v1036, v1037, v1038, v1039);
	incref(v1151);
	VAL v1152 = mw_mirth_type_StackType_ZToType(v1151);
	VAL v1153 = mw_mirth_type_T1(v1152);
	incref(v1153);
	incref(v1150);
	incref(v1151);
	VAL v1154 = mw_mirth_type_TZ_ZTo(v1151, v1153);
	int64_t v1155 = 76LL /* PRIM_TUP_PACK4 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1150, v1154, v1155);
	VAL v1156 = mw_mirth_type_TZ_ZTo(v1153, v1151);
	int64_t v1157 = 82LL /* PRIM_TUP_UNPACK4 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1150, v1156, v1157);
	VAL v1158 = mw_mirth_var_Ctx5(v1003, v1007, v1011, v1015, v1019);
	incref(v1036);
	incref(v1037);
	incref(v1038);
	incref(v1039);
	incref(v1040);
	VAL v1159 = mw_mirth_type_T5(v1036, v1037, v1038, v1039, v1040);
	incref(v1159);
	VAL v1160 = mw_mirth_type_StackType_ZToType(v1159);
	VAL v1161 = mw_mirth_type_T1(v1160);
	incref(v1161);
	incref(v1158);
	incref(v1159);
	VAL v1162 = mw_mirth_type_TZ_ZTo(v1159, v1161);
	int64_t v1163 = 77LL /* PRIM_TUP_PACK5 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1158, v1162, v1163);
	VAL v1164 = mw_mirth_type_TZ_ZTo(v1161, v1159);
	int64_t v1165 = 83LL /* PRIM_TUP_UNPACK5 */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1158, v1164, v1165);
	VAL v1166 = mw_mirth_var_Ctx1(v1003);
	incref(v1036);
	VAL v1167 = mtw_mirth_type_Type_TMut(v1036);
	VAL v1168 = mw_mirth_type_T1(v1167);
	incref(v1036);
	VAL v1169 = mw_mirth_type_T1(v1036);
	VAL v1170 = mw_mirth_type_TZ_ZTo(v1168, v1169);
	int64_t v1171 = 84LL /* PRIM_MUT_GET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1166, v1170, v1171);
	VAL v1172 = mw_mirth_var_Ctx1(v1003);
	incref(v1036);
	incref(v1036);
	VAL v1173 = mtw_mirth_type_Type_TMut(v1036);
	VAL v1174 = mw_mirth_type_T2(v1036, v1173);
	VAL v1175 = mw_mirth_type_T0();
	VAL v1176 = mw_mirth_type_TZ_ZTo(v1174, v1175);
	int64_t v1177 = 85LL /* PRIM_MUT_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1172, v1176, v1177);
	VAL v1178 = mw_mirth_var_Ctx1(v1003);
	incref(v1036);
	VAL v1179 = mtw_mirth_type_Type_TMut(v1036);
	VAL v1180 = mw_mirth_type_T1(v1179);
	VAL v1181;
	VAL v1182 = mw_mirth_data_TYPEz_BOOL(v1090, &v1181);
	VAL v1183 = mw_mirth_type_T1(v1182);
	VAL v1184 = mw_mirth_type_TZ_ZTo(v1180, v1183);
	int64_t v1185 = 86LL /* PRIM_MUT_IS_SET */;
	mw_mirth_prim_Prim_ctxZ_typeZBang(v1178, v1184, v1185);
	decref(v1040);
	decref(v1039);
	decref(v1038);
	decref(v1037);
	decref(v1036);
	decref(v1042);
	decref(v1041);
	decref(v1044);
	decref(v1043);
	*out_ZPlusMirth_2 = v1181;
}
static int64_t mw_mirth_token_TokenValue_noneZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 0LL: { // TokenNone
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_mirth_token_TokenValue_commaZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 1LL: { // TokenComma
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_mirth_token_TokenValue_lparenZ_openZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 2LL: { // TokenLParenOpen
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_token_TokenValue_lparenZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 6LL: { // TokenLParen
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenLParen(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_rparenZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 7LL: { // TokenRParen
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenRParen(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_token_TokenValue_lsquareZ_openZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 3LL: { // TokenLSquareOpen
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_token_TokenValue_lsquareZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 8LL: { // TokenLSquare
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenLSquare(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_rsquareZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 9LL: { // TokenRSquare
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenRSquare(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_token_TokenValue_lcurlyZ_openZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 4LL: { // TokenLCurlyOpen
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_token_TokenValue_lcurlyZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 10LL: { // TokenLCurly
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenLCurly(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_rcurlyZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 11LL: { // TokenRCurly
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenRCurly(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_token_TokenValue_lcolonZ_openZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 5LL: { // TokenLColonOpen
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v5 = 0LL /* False */;
			branch_Bool_3 = v5;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_token_TokenValue_lcolonZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 12LL: { // TokenLColon
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenLColon(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 6LL: { // TokenLParen
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenLParen(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		case 12LL: { // TokenLColon
			uint64_t v6 = mtp_mirth_token_TokenValue_TokenLColon(in_TokenValue_1);
			VAL v7 = mtw_std_maybe_Maybe_1_Some(MKU64(v6));
			branch_Maybe_3 = v7;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v8 = MKI64(0LL /* None */);
			branch_Maybe_3 = v8;
		} break;
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 17LL: { // TokenName
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenName(in_TokenValue_1);
			int64_t v5 = 1LL /* True */;
			branch_Bool_3 = v5;
		} break;
		case 18LL: { // TokenDName
			VAL v6 = mtp_mirth_token_TokenValue_TokenDName(in_TokenValue_1);
			decref(v6);
			int64_t v7 = 1LL /* True */;
			branch_Bool_3 = v7;
		} break;
		case 23LL: { // TokenLabelGet
			uint64_t v8 = mtp_mirth_token_TokenValue_TokenLabelGet(in_TokenValue_1);
			int64_t v9 = 1LL /* True */;
			branch_Bool_3 = v9;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v10 = 0LL /* False */;
			branch_Bool_3 = v10;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_token_TokenValue_intZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 14LL: { // TokenInt
			int64_t v4 = mtp_mirth_token_TokenValue_TokenInt(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKI64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_strZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 16LL: { // TokenStr
			VAL v4 = mtp_mirth_token_TokenValue_TokenStr(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_nameZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 17LL: { // TokenName
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenName(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_dnameZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 18LL: { // TokenDName
			VAL v4 = mtp_mirth_token_TokenValue_TokenDName(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(v4);
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_nameZDivdnameZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 17LL: { // TokenName
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenName(in_TokenValue_1);
			VAL v5 = mtw_std_either_Either_2_Left(MKU64(v4));
			VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_3 = v6;
		} break;
		case 18LL: { // TokenDName
			VAL v7 = mtp_mirth_token_TokenValue_TokenDName(in_TokenValue_1);
			VAL v8 = mtw_std_either_Either_2_Right(v7);
			VAL v9 = mtw_std_maybe_Maybe_1_Some(v8);
			branch_Maybe_3 = v9;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_3 = v10;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_lastZ_nameZAsk (VAL in_TokenValue_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 17LL: { // TokenName
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenName(in_TokenValue_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		case 18LL: { // TokenDName
			VAL v6 = mtp_mirth_token_TokenValue_TokenDName(in_TokenValue_1);
			uint64_t v7 = mw_mirth_name_DName_lastZ_name(v6);
			VAL v8 = mtw_std_maybe_Maybe_1_Some(MKU64(v7));
			branch_Maybe_3 = v8;
		} break;
		default: {
			decref(in_TokenValue_1);
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_3 = v9;
		} break;
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_token_TokenValue_argZ_endZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 1LL: { // TokenComma
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		case 7LL: { // TokenRParen
			uint64_t v5 = mtp_mirth_token_TokenValue_TokenRParen(in_TokenValue_1);
			int64_t v6 = 1LL /* True */;
			branch_Bool_3 = v6;
		} break;
		case 11LL: { // TokenRCurly
			uint64_t v7 = mtp_mirth_token_TokenValue_TokenRCurly(in_TokenValue_1);
			int64_t v8 = 1LL /* True */;
			branch_Bool_3 = v8;
		} break;
		case 9LL: { // TokenRSquare
			uint64_t v9 = mtp_mirth_token_TokenValue_TokenRSquare(in_TokenValue_1);
			int64_t v10 = 1LL /* True */;
			branch_Bool_3 = v10;
		} break;
		case 13LL: { // TokenRColon
			uint64_t v11 = mtp_mirth_token_TokenValue_TokenRColon(in_TokenValue_1);
			int64_t v12 = 1LL /* True */;
			branch_Bool_3 = v12;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v13 = 0LL /* False */;
			branch_Bool_3 = v13;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_mirth_token_TokenValue_leftZ_enclosureZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 6LL: { // TokenLParen
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenLParen(in_TokenValue_1);
			int64_t v5 = 1LL /* True */;
			branch_Bool_3 = v5;
		} break;
		case 8LL: { // TokenLSquare
			uint64_t v6 = mtp_mirth_token_TokenValue_TokenLSquare(in_TokenValue_1);
			int64_t v7 = 1LL /* True */;
			branch_Bool_3 = v7;
		} break;
		case 10LL: { // TokenLCurly
			uint64_t v8 = mtp_mirth_token_TokenValue_TokenLCurly(in_TokenValue_1);
			int64_t v9 = 1LL /* True */;
			branch_Bool_3 = v9;
		} break;
		case 12LL: { // TokenLColon
			uint64_t v10 = mtp_mirth_token_TokenValue_TokenLColon(in_TokenValue_1);
			int64_t v11 = 1LL /* True */;
			branch_Bool_3 = v11;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v12 = 0LL /* False */;
			branch_Bool_3 = v12;
		} break;
	}
	return branch_Bool_3;
}
static int64_t mw_mirth_token_TokenValue_rightZ_enclosureZAsk (VAL in_TokenValue_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_TokenValue_1)) {
		case 7LL: { // TokenRParen
			uint64_t v4 = mtp_mirth_token_TokenValue_TokenRParen(in_TokenValue_1);
			int64_t v5 = 1LL /* True */;
			branch_Bool_3 = v5;
		} break;
		case 9LL: { // TokenRSquare
			uint64_t v6 = mtp_mirth_token_TokenValue_TokenRSquare(in_TokenValue_1);
			int64_t v7 = 1LL /* True */;
			branch_Bool_3 = v7;
		} break;
		case 11LL: { // TokenRCurly
			uint64_t v8 = mtp_mirth_token_TokenValue_TokenRCurly(in_TokenValue_1);
			int64_t v9 = 1LL /* True */;
			branch_Bool_3 = v9;
		} break;
		case 13LL: { // TokenRColon
			uint64_t v10 = mtp_mirth_token_TokenValue_TokenRColon(in_TokenValue_1);
			int64_t v11 = 1LL /* True */;
			branch_Bool_3 = v11;
		} break;
		default: {
			decref(in_TokenValue_1);
			int64_t v12 = 0LL /* False */;
			branch_Bool_3 = v12;
		} break;
	}
	return branch_Bool_3;
}
static uint64_t mw_mirth_token_nameZDivdnameZ_lastZ_name (VAL in_Either_1) {
	uint64_t branch_Name_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			branch_Name_3 = value_u64(v4);
		} break;
		case 1LL: { // Right
			VAL v5 = mtp_std_either_Either_2_Right(in_Either_1);
			uint64_t v6 = mw_mirth_name_DName_lastZ_name(v5);
			branch_Name_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Name_3;
}
static VAL mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk (VAL in_Either_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Either_1)) {
		case 0LL: { // Left
			VAL v4 = mtp_std_either_Either_2_Left(in_Either_1);
			decref(v4);
			VAL v5 = MKI64(0LL /* None */);
			branch_Maybe_3 = v5;
		} break;
		case 1LL: { // Right
			VAL v6 = mtp_std_either_Either_2_Right(in_Either_1);
			VAL v7 = mw_mirth_name_DName_penultimateZ_nameZAsk(v6);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(in_TokenValue_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			incref(v5);
			uint64_t v6 = mw_mirth_token_nameZDivdnameZ_lastZ_name(v5);
			int64_t v7 = mw_mirth_name_Name_couldZ_beZ_typeZ_con(v6);
			VAL branch_Maybe_8;
			if (((bool)v7)) {
				VAL v9 = mtw_std_maybe_Maybe_1_Some(v5);
				branch_Maybe_8 = v9;
			} else {
				decref(v5);
				VAL v10 = MKI64(0LL /* None */);
				branch_Maybe_8 = v10;
			}
			branch_Maybe_4 = branch_Maybe_8;
		} break;
		case 0LL: { // None
			VAL v11 = MKI64(0LL /* None */);
			branch_Maybe_4 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			incref(v5);
			int64_t v6 = mw_mirth_name_Name_isZ_typeZ_hole(value_u64(v5));
			VAL branch_Maybe_7;
			if (((bool)v6)) {
				VAL v8 = mtw_std_maybe_Maybe_1_Some(v5);
				branch_Maybe_7 = v8;
			} else {
				decref(v5);
				VAL v9 = MKI64(0LL /* None */);
				branch_Maybe_7 = v9;
			}
			branch_Maybe_4 = branch_Maybe_7;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			incref(v5);
			int64_t v6 = mw_mirth_name_Name_couldZ_beZ_typeZ_var(value_u64(v5));
			VAL branch_Maybe_7;
			if (((bool)v6)) {
				VAL v8 = mtw_std_maybe_Maybe_1_Some(v5);
				branch_Maybe_7 = v8;
			} else {
				decref(v5);
				VAL v9 = MKI64(0LL /* None */);
				branch_Maybe_7 = v9;
			}
			branch_Maybe_4 = branch_Maybe_7;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk(in_TokenValue_1);
	return v3;
}
static VAL mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			incref(v5);
			int64_t v6 = mw_mirth_name_Name_couldZ_beZ_stackZ_var(value_u64(v5));
			VAL branch_Maybe_7;
			if (((bool)v6)) {
				VAL v8 = mtw_std_maybe_Maybe_1_Some(v5);
				branch_Maybe_7 = v8;
			} else {
				decref(v5);
				VAL v9 = MKI64(0LL /* None */);
				branch_Maybe_7 = v9;
			}
			branch_Maybe_4 = branch_Maybe_7;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			incref(v5);
			int64_t v6 = mw_mirth_name_Name_couldZ_beZ_resourceZ_var(value_u64(v5));
			VAL branch_Maybe_7;
			if (((bool)v6)) {
				VAL v8 = mtw_std_maybe_Maybe_1_Some(v5);
				branch_Maybe_7 = v8;
			} else {
				decref(v5);
				VAL v9 = MKI64(0LL /* None */);
				branch_Maybe_7 = v9;
			}
			branch_Maybe_4 = branch_Maybe_7;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(in_TokenValue_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			incref(v5);
			uint64_t v6 = mw_mirth_token_nameZDivdnameZ_lastZ_name(v5);
			int64_t v7 = mw_mirth_name_Name_couldZ_beZ_resourceZ_con(v6);
			VAL branch_Maybe_8;
			if (((bool)v7)) {
				VAL v9 = mtw_std_maybe_Maybe_1_Some(v5);
				branch_Maybe_8 = v9;
			} else {
				decref(v5);
				VAL v10 = MKI64(0LL /* None */);
				branch_Maybe_8 = v10;
			}
			branch_Maybe_4 = branch_Maybe_8;
		} break;
		case 0LL: { // None
			VAL v11 = MKI64(0LL /* None */);
			branch_Maybe_4 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static int64_t mw_mirth_token_TokenValue_sigZ_dashesZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			int64_t v6 = 129LL /* PRIM_SYNTAX_DASHES */;
			uint64_t v7 = mw_mirth_prim_Prim_name(v6);
			int64_t v8 = mw_mirth_name_Name_ZEqualZEqual(value_u64(v5), v7);
			branch_Bool_4 = v8;
		} break;
		case 0LL: { // None
			int64_t v9 = 0LL /* False */;
			branch_Bool_4 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_token_TokenValue_arrowZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			int64_t v6 = 130LL /* PRIM_SYNTAX_ARROW */;
			uint64_t v7 = mw_mirth_prim_Prim_name(v6);
			int64_t v8 = mw_mirth_name_Name_ZEqualZEqual(value_u64(v5), v7);
			branch_Bool_4 = v8;
		} break;
		case 0LL: { // None
			int64_t v9 = 0LL /* False */;
			branch_Bool_4 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_token_TokenValue_patZ_underscoreZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			int64_t v6 = mw_mirth_name_Name_isZ_underscore(value_u64(v5));
			branch_Bool_4 = v6;
		} break;
		case 0LL: { // None
			int64_t v7 = 0LL /* False */;
			branch_Bool_4 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_token_TokenValue_moduleZ_headerZAsk (VAL in_TokenValue_1) {
	VAL v3 = mw_mirth_token_TokenValue_nameZAsk(in_TokenValue_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_mirth_name_Name_ZToStr(value_u64(v5));
			STR* v7;
			STRLIT(v7, "module", 6);
			bool v8 = (str_cmp(value_str(v6), v7) == 0);
			branch_Bool_4 = ((int64_t)v8);
		} break;
		case 0LL: { // None
			int64_t v9 = 0LL /* False */;
			branch_Bool_4 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_token_Token_index (uint64_t in_Token_1) {
	return ((int64_t)in_Token_1);
}
static uint64_t mw_mirth_token_Token_succ (uint64_t in_Token_1) {
	int64_t v3 = 1LL;
	int64_t v4 = i64_add(((int64_t)in_Token_1), v3);
	return ((uint64_t)v4);
}
static uint64_t mw_mirth_token_Token_pred (uint64_t in_Token_1) {
	int64_t v3 = 0LL;
	bool v4 = (((int64_t)in_Token_1) == v3);
	int64_t branch_Int_5;
	if (v4) {
		branch_Int_5 = ((int64_t)in_Token_1);
	} else {
		int64_t v6 = 1LL;
		int64_t v7 = i64_sub(((int64_t)in_Token_1), v6);
		branch_Int_5 = v7;
	}
	return ((uint64_t)branch_Int_5);
}
static uint64_t mw_mirth_token_Token_allocZBang (void) {
	void* v2 = mbuf_mirth_token_Token_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_token_Token_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static int64_t mw_mirth_token_Token_ZEqualZEqual (uint64_t in_Token_1, uint64_t in_Token_2) {
	int64_t v4 = mw_mirth_token_Token_index(in_Token_1);
	int64_t v5 = mw_mirth_token_Token_index(in_Token_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static VAL mw_mirth_token_Token_value (uint64_t in_Token_1) {
	void* v3 = mfld_mirth_token_Token_ZTildevalue(in_Token_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_token_Token_module (uint64_t in_Token_1) {
	void* v3 = mfld_mirth_token_Token_ZTildemodule(in_Token_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static int64_t mw_mirth_token_Token_col (uint64_t in_Token_1) {
	void* v3 = mfld_mirth_token_Token_ZTildecol(in_Token_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static int64_t mw_mirth_token_Token_row (uint64_t in_Token_1) {
	void* v3 = mfld_mirth_token_Token_ZTilderow(in_Token_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static int64_t mw_mirth_token_Token_noneZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_noneZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_commaZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_commaZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_lparenZ_openZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_lparenZ_openZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_lparenZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_lparenZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_rparenZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_rparenZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_lsquareZ_openZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_lsquareZ_openZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_lsquareZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_lsquareZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_rsquareZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_rsquareZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_lcurlyZ_openZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_lcurlyZ_openZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_lcurlyZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_lcurlyZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_rcurlyZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_rcurlyZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_lcolonZ_openZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_lcolonZ_openZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_lcolonZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_lcolonZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_lparenZ_orZ_lcolonZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_intZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_intZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_strZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_strZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_nameZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_nameZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_dnameZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_dnameZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_nameZDivdnameZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_nameZDivdnameZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_lastZ_nameZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_lastZ_nameZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_argZ_endZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_argZ_endZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_leftZ_enclosureZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_leftZ_enclosureZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_rightZ_enclosureZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_rightZ_enclosureZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_sigZ_typeZ_conZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_sigZ_typeZ_conZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_sigZ_typeZ_holeZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_sigZ_typeZ_holeZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_sigZ_typeZ_varZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_sigZ_typeZ_varZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_sigZ_paramZ_nameZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_sigZ_paramZ_nameZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_sigZ_stackZ_varZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_sigZ_stackZ_varZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_sigZ_resourceZ_varZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_sigZ_resourceZ_varZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_sigZ_resourceZ_conZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	VAL v4 = mw_mirth_token_TokenValue_sigZ_resourceZ_conZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_sigZ_dashesZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_sigZ_dashesZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_arrowZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_arrowZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_patZ_underscoreZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_patZ_underscoreZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_moduleZ_headerZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_moduleZ_headerZAsk(v3);
	return v4;
}
static int64_t mw_mirth_token_Token_canZ_takeZ_argsZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t v4 = mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk(v3);
	return v4;
}
static uint64_t mw_mirth_token_Token_allocZ_noneZBang (void) {
	uint64_t v2 = mw_mirth_token_Token_allocZBang();
	VAL v3 = MKI64(0LL /* TokenNone */);
	void* v4 = mfld_mirth_token_Token_ZTildevalue(v2);
	mut_set(v3, v4);
	return v2;
}
static VAL mw_mirth_token_Token_location (uint64_t in_Token_1) {
	uint64_t v3 = mw_mirth_token_Token_module(in_Token_1);
	int64_t v4 = mw_mirth_token_Token_row(in_Token_1);
	int64_t v5 = mw_mirth_token_Token_col(in_Token_1);
	VAL v6 = mtw_mirth_location_Location_Location(v3, v4, v5);
	return v6;
}
static uint64_t mw_mirth_token_Token_next (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	uint64_t branch_Token_4;
	switch (get_data_tag(v3)) {
		case 6LL: { // TokenLParen
			uint64_t v5 = mtp_mirth_token_TokenValue_TokenLParen(v3);
			uint64_t v6 = mw_mirth_token_Token_succ(v5);
			branch_Token_4 = v6;
		} break;
		case 8LL: { // TokenLSquare
			uint64_t v7 = mtp_mirth_token_TokenValue_TokenLSquare(v3);
			uint64_t v8 = mw_mirth_token_Token_succ(v7);
			branch_Token_4 = v8;
		} break;
		case 10LL: { // TokenLCurly
			uint64_t v9 = mtp_mirth_token_TokenValue_TokenLCurly(v3);
			uint64_t v10 = mw_mirth_token_Token_succ(v9);
			branch_Token_4 = v10;
		} break;
		case 12LL: { // TokenLColon
			uint64_t v11 = mtp_mirth_token_TokenValue_TokenLColon(v3);
			uint64_t v12 = mw_mirth_token_Token_succ(v11);
			branch_Token_4 = v12;
		} break;
		default: {
			int64_t v13 = mw_mirth_token_TokenValue_canZ_takeZ_argsZAsk(v3);
			uint64_t branch_Token_14;
			if (((bool)v13)) {
				uint64_t v15 = mw_mirth_token_Token_succ(in_Token_1);
				VAL v16 = mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk(v15);
				uint64_t branch_Token_17;
				switch (get_data_tag(v16)) {
					case 1LL: { // Some
						VAL v18 = mtp_std_maybe_Maybe_1_Some(v16);
						uint64_t v19 = mw_mirth_token_Token_succ(value_u64(v18));
						branch_Token_17 = v19;
					} break;
					case 0LL: { // None
						branch_Token_17 = v15;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Token_14 = branch_Token_17;
			} else {
				uint64_t v20 = mw_mirth_token_Token_succ(in_Token_1);
				branch_Token_14 = v20;
			}
			branch_Token_4 = branch_Token_14;
		} break;
	}
	return branch_Token_4;
}
static uint64_t mw_mirth_token_Token_prev (uint64_t in_Token_1) {
	uint64_t v3 = mw_mirth_token_Token_pred(in_Token_1);
	VAL v4 = mw_mirth_token_Token_value(v3);
	uint64_t branch_Token_5;
	switch (get_data_tag(v4)) {
		case 9LL: { // TokenRSquare
			uint64_t v6 = mtp_mirth_token_TokenValue_TokenRSquare(v4);
			branch_Token_5 = v6;
		} break;
		case 11LL: { // TokenRCurly
			uint64_t v7 = mtp_mirth_token_TokenValue_TokenRCurly(v4);
			branch_Token_5 = v7;
		} break;
		case 7LL: { // TokenRParen
			uint64_t v8 = mtp_mirth_token_TokenValue_TokenRParen(v4);
			uint64_t v9 = mw_mirth_token_Token_pred(v8);
			int64_t v10 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(v9);
			uint64_t branch_Token_11;
			if (((bool)v10)) {
				uint64_t v12 = mw_mirth_token_Token_pred(v8);
				branch_Token_11 = v12;
			} else {
				branch_Token_11 = v8;
			}
			branch_Token_5 = branch_Token_11;
		} break;
		case 13LL: { // TokenRColon
			uint64_t v13 = mtp_mirth_token_TokenValue_TokenRColon(v4);
			uint64_t v14 = mw_mirth_token_Token_pred(v13);
			int64_t v15 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(v14);
			uint64_t branch_Token_16;
			if (((bool)v15)) {
				uint64_t v17 = mw_mirth_token_Token_pred(v13);
				branch_Token_16 = v17;
			} else {
				branch_Token_16 = v13;
			}
			branch_Token_5 = branch_Token_16;
		} break;
		default: {
			decref(v4);
			branch_Token_5 = v3;
		} break;
	}
	return branch_Token_5;
}
static uint64_t mw_mirth_token_Token_nextZ_argZ_end (uint64_t in_Token_1) {
	int64_t v3 = mw_mirth_token_Token_argZ_endZAsk(in_Token_1);
	bool v4 = !((bool)v3);
	uint64_t v5 = in_Token_1;
	bool v6 = v4;
	while (v6) {
		uint64_t v7 = v5;
		uint64_t v8 = mw_mirth_token_Token_next(v7);
		int64_t v9 = mw_mirth_token_Token_argZ_endZAsk(v8);
		bool v10 = !((bool)v9);
		v6 = v10;
		v5 = v8;
	}
	return v5;
}
static int64_t mw_mirth_token_Token_hasZ_argsZAsk (uint64_t in_Token_1) {
	int64_t v3 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(in_Token_1);
	uint64_t branch_Token_4;
	if (((bool)v3)) {
		uint64_t v5 = mw_mirth_token_Token_succ(in_Token_1);
		branch_Token_4 = v5;
	} else {
		branch_Token_4 = in_Token_1;
	}
	VAL v6 = mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk(branch_Token_4);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	int64_t v8 = 1LL;
	bool v9 = (v7 == v8);
	return ((int64_t)v9);
}
static uint64_t mw_mirth_token_Token_argsZ_start (uint64_t in_Token_1) {
	int64_t v3 = mw_mirth_token_Token_canZ_takeZ_argsZAsk(in_Token_1);
	uint64_t branch_Token_4;
	int64_t branch_Bool_5;
	if (((bool)v3)) {
		uint64_t v6 = mw_mirth_token_Token_succ(in_Token_1);
		VAL v7 = mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk(v6);
		int64_t v8 = get_data_tag(v7);
		decref(v7);
		int64_t v9 = 1LL;
		bool v10 = (v8 == v9);
		branch_Bool_5 = ((int64_t)v10);
		branch_Token_4 = in_Token_1;
	} else {
		int64_t v11 = 0LL /* False */;
		branch_Bool_5 = v11;
		branch_Token_4 = in_Token_1;
	}
	uint64_t branch_Token_12;
	if (((bool)branch_Bool_5)) {
		uint64_t v13 = mw_mirth_token_Token_succ(branch_Token_4);
		branch_Token_12 = v13;
	} else {
		branch_Token_12 = branch_Token_4;
	}
	return branch_Token_12;
}
static int64_t mw_mirth_token_Token_couldZ_beZ_sigZ_labelZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_nameZAsk(in_Token_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			int64_t v6 = mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk(value_u64(v5));
			branch_Bool_4 = v6;
		} break;
		case 0LL: { // None
			int64_t v7 = 0LL /* False */;
			branch_Bool_4 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t branch_Token_8;
	int64_t branch_Bool_9;
	if (((bool)branch_Bool_4)) {
		uint64_t v10 = mw_mirth_token_Token_succ(in_Token_1);
		VAL v11 = mw_mirth_token_Token_lcolonZAsk(v10);
		int64_t v12 = get_data_tag(v11);
		decref(v11);
		int64_t v13 = 1LL;
		bool v14 = (v12 == v13);
		branch_Bool_9 = ((int64_t)v14);
		branch_Token_8 = in_Token_1;
	} else {
		int64_t v15 = 0LL /* False */;
		branch_Bool_9 = v15;
		branch_Token_8 = in_Token_1;
	}
	return branch_Bool_9;
}
static VAL mw_mirth_token_Token_sigZ_labelZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_nameZAsk(in_Token_1);
	uint64_t branch_Token_4;
	VAL branch_Maybe_5;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v3);
			incref(v6);
			int64_t v7 = mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk(value_u64(v6));
			uint64_t branch_Token_8;
			int64_t branch_Bool_9;
			if (((bool)v7)) {
				uint64_t v10 = mw_mirth_token_Token_succ(in_Token_1);
				VAL v11 = mw_mirth_token_Token_lcolonZAsk(v10);
				int64_t v12 = get_data_tag(v11);
				decref(v11);
				int64_t v13 = 1LL;
				bool v14 = (v12 == v13);
				branch_Bool_9 = ((int64_t)v14);
				branch_Token_8 = in_Token_1;
			} else {
				int64_t v15 = 0LL /* False */;
				branch_Bool_9 = v15;
				branch_Token_8 = in_Token_1;
			}
			uint64_t branch_Token_16;
			VAL branch_Maybe_17;
			if (((bool)branch_Bool_9)) {
				VAL v18 = mtw_std_maybe_Maybe_1_Some(v6);
				branch_Maybe_17 = v18;
				branch_Token_16 = branch_Token_8;
			} else {
				decref(v6);
				VAL v19 = MKI64(0LL /* None */);
				branch_Maybe_17 = v19;
				branch_Token_16 = branch_Token_8;
			}
			branch_Maybe_5 = branch_Maybe_17;
			branch_Token_4 = branch_Token_16;
		} break;
		case 0LL: { // None
			VAL v20 = MKI64(0LL /* None */);
			branch_Maybe_5 = v20;
			branch_Token_4 = in_Token_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_Maybe_21;
	switch (get_data_tag(branch_Maybe_5)) {
		case 1LL: { // Some
			VAL v22 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_5);
			uint64_t v23 = mw_mirth_label_Label_newZBang(value_u64(v22));
			VAL v24 = mtw_std_maybe_Maybe_1_Some(MKU64(v23));
			branch_Maybe_21 = v24;
		} break;
		case 0LL: { // None
			VAL v25 = MKI64(0LL /* None */);
			branch_Maybe_21 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_21;
}
static VAL mw_mirth_token_Token_patternZ_varZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_nameZAsk(in_Token_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			incref(v5);
			int64_t v6 = mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk(value_u64(v5));
			VAL branch_Maybe_7;
			if (((bool)v6)) {
				VAL v8 = mtw_std_maybe_Maybe_1_Some(v5);
				branch_Maybe_7 = v8;
			} else {
				decref(v5);
				VAL v9 = MKI64(0LL /* None */);
				branch_Maybe_7 = v9;
			}
			branch_Maybe_4 = branch_Maybe_7;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_4 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_lsquareZAsk(in_Token_1);
	int64_t v4 = get_data_tag(v3);
	decref(v3);
	int64_t v5 = 1LL;
	bool v6 = (v4 == v5);
	uint64_t v7 = mw_mirth_token_Token_succ(in_Token_1);
	uint64_t v8 = mw_mirth_token_Token_succ(v7);
	VAL v9 = mw_mirth_token_Token_rsquareZAsk(v8);
	int64_t v10 = get_data_tag(v9);
	decref(v9);
	int64_t v11 = 1LL;
	bool v12 = (v10 == v11);
	bool v13 = (v6 && v12);
	VAL branch_Maybe_14;
	if (v13) {
		uint64_t v15 = mw_mirth_token_Token_succ(in_Token_1);
		VAL v16 = mw_mirth_token_Token_patternZ_varZAsk(v15);
		branch_Maybe_14 = v16;
	} else {
		VAL v17 = MKI64(0LL /* None */);
		branch_Maybe_14 = v17;
	}
	return branch_Maybe_14;
}
static void mw_mirth_token_Token_argsZ_0 (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_3) {
	int64_t v4 = mw_mirth_token_Token_numZ_args(in_Token_1);
	int64_t v5 = 0LL;
	bool v6 = (v4 == v5);
	VAL branch_ZPlusMirth_7;
	if (v6) {
		branch_ZPlusMirth_7 = in_ZPlusMirth_2;
	} else {
		STR* v8;
		STRLIT(v8, "expected no args", 16);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v8), in_ZPlusMirth_2);
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static uint64_t mw_mirth_token_Token_argsZ_1 (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	int64_t v5 = mw_mirth_token_Token_numZ_args(in_Token_1);
	int64_t v6 = 1LL;
	bool v7 = (v5 == v6);
	VAL branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	if (v7) {
		uint64_t v10 = mw_mirth_token_Token_argsZ_start(in_Token_1);
		uint64_t v11 = mw_mirth_token_Token_succ(v10);
		branch_Token_9 = v11;
		branch_ZPlusMirth_8 = in_ZPlusMirth_2;
	} else {
		int64_t v12 = mw_mirth_token_Token_numZ_args(in_Token_1);
		int64_t v13 = 1LL;
		bool v14 = (v12 < v13);
		VAL branch_ZPlusMirth_15;
		uint64_t branch_Token_16;
		if (v14) {
			STR* v17;
			STRLIT(v17, "expected 1 arg, got none", 24);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v17), in_ZPlusMirth_2);
		} else {
			STR* v20;
			STRLIT(v20, "expected 1 arg, got too many", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v20), in_ZPlusMirth_2);
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Token_9;
}
static uint64_t mw_mirth_token_Token_argsZ_2 (uint64_t in_Token_1, VAL in_ZPlusMirth_2, uint64_t *out_Token_4, VAL *out_ZPlusMirth_5) {
	int64_t v6 = mw_mirth_token_Token_numZ_args(in_Token_1);
	int64_t v7 = 2LL;
	bool v8 = (v6 == v7);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	uint64_t branch_Token_11;
	if (v8) {
		uint64_t v12 = mw_mirth_token_Token_argsZ_start(in_Token_1);
		uint64_t v13 = mw_mirth_token_Token_succ(v12);
		uint64_t v14 = mw_mirth_token_Token_nextZ_argZ_end(v13);
		uint64_t v15 = mw_mirth_token_Token_succ(v14);
		branch_Token_11 = v15;
		branch_Token_10 = v13;
		branch_ZPlusMirth_9 = in_ZPlusMirth_2;
	} else {
		int64_t v16 = mw_mirth_token_Token_numZ_args(in_Token_1);
		int64_t v17 = 2LL;
		bool v18 = (v16 < v17);
		VAL branch_ZPlusMirth_19;
		uint64_t branch_Token_20;
		uint64_t branch_Token_21;
		if (v18) {
			STR* v22;
			STRLIT(v22, "expected 2 args, got too few", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v22), in_ZPlusMirth_2);
		} else {
			STR* v26;
			STRLIT(v26, "expected 2 args, got too many", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v26), in_ZPlusMirth_2);
		}
	}
	*out_ZPlusMirth_5 = branch_ZPlusMirth_9;
	*out_Token_4 = branch_Token_11;
	return branch_Token_10;
}
static uint64_t mw_mirth_token_Token_argsZ_3 (uint64_t in_Token_1, VAL in_ZPlusMirth_2, uint64_t *out_Token_4, uint64_t *out_Token_5, VAL *out_ZPlusMirth_6) {
	int64_t v7 = mw_mirth_token_Token_numZ_args(in_Token_1);
	int64_t v8 = 3LL;
	bool v9 = (v7 == v8);
	VAL branch_ZPlusMirth_10;
	uint64_t branch_Token_11;
	uint64_t branch_Token_12;
	uint64_t branch_Token_13;
	if (v9) {
		uint64_t v14 = mw_mirth_token_Token_argsZ_start(in_Token_1);
		uint64_t v15 = mw_mirth_token_Token_succ(v14);
		uint64_t v16 = mw_mirth_token_Token_nextZ_argZ_end(v15);
		uint64_t v17 = mw_mirth_token_Token_succ(v16);
		uint64_t v18 = mw_mirth_token_Token_nextZ_argZ_end(v17);
		uint64_t v19 = mw_mirth_token_Token_succ(v18);
		branch_Token_13 = v19;
		branch_Token_12 = v17;
		branch_Token_11 = v15;
		branch_ZPlusMirth_10 = in_ZPlusMirth_2;
	} else {
		int64_t v20 = mw_mirth_token_Token_numZ_args(in_Token_1);
		int64_t v21 = 3LL;
		bool v22 = (v20 < v21);
		VAL branch_ZPlusMirth_23;
		uint64_t branch_Token_24;
		uint64_t branch_Token_25;
		uint64_t branch_Token_26;
		if (v22) {
			STR* v27;
			STRLIT(v27, "expected 3 args, got too few", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v27), in_ZPlusMirth_2);
		} else {
			STR* v32;
			STRLIT(v32, "expected 3 args, got too many", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v32), in_ZPlusMirth_2);
		}
	}
	*out_ZPlusMirth_6 = branch_ZPlusMirth_10;
	*out_Token_5 = branch_Token_13;
	*out_Token_4 = branch_Token_12;
	return branch_Token_11;
}
static int64_t mw_mirth_token_Token_numZ_args (uint64_t in_Token_1) {
	uint64_t v3 = mw_mirth_token_Token_argsZ_start(in_Token_1);
	int64_t v4 = mw_mirth_token_Token_leftZ_enclosureZAsk(v3);
	int64_t branch_Nat_5;
	if (((bool)v4)) {
		int64_t v6 = 0LL;
		int64_t v7 = mw_mirth_token_Token_argsZ_endZAsk(v3);
		bool v8 = !((bool)v7);
		int64_t v9 = v6;
		uint64_t v10 = v3;
		bool v11 = v8;
		while (v11) {
			int64_t v12 = v9;
			uint64_t v13 = v10;
			int64_t v14 = 1LL;
			int64_t v15 = i64_add(v12, v14);
			uint64_t v16 = mw_mirth_token_Token_succ(v13);
			uint64_t v17 = mw_mirth_token_Token_nextZ_argZ_end(v16);
			int64_t v18 = mw_mirth_token_Token_argsZ_endZAsk(v17);
			bool v19 = !((bool)v18);
			v11 = v19;
			v10 = v17;
			v9 = v15;
		}
		branch_Nat_5 = v9;
	} else {
		int64_t v20 = 0LL;
		branch_Nat_5 = v20;
	}
	return branch_Nat_5;
}
static VAL mw_mirth_token_Token_args (uint64_t in_Token_1) {
	uint64_t v3 = mw_mirth_token_Token_argsZ_start(in_Token_1);
	int64_t v4 = mw_mirth_token_Token_leftZ_enclosureZAsk(v3);
	VAL branch_List_5;
	if (((bool)v4)) {
		VAL v6 = MKI64(0LL /* Nil */);
		VAL v7 = mw_std_list_List_1_reverse(v6);
		int64_t v8 = mw_mirth_token_Token_argsZ_endZAsk(v3);
		bool v9 = !((bool)v8);
		uint64_t v10 = v3;
		VAL v11 = v7;
		bool v12 = v9;
		while (v12) {
			uint64_t v13 = v10;
			VAL v14 = v11;
			uint64_t v15 = mw_mirth_token_Token_succ(v13);
			uint64_t v16 = mw_mirth_token_Token_nextZ_argZ_end(v15);
			VAL v17 = mtw_std_list_List_1_Cons(MKU64(v15), v14);
			int64_t v18 = mw_mirth_token_Token_argsZ_endZAsk(v16);
			bool v19 = !((bool)v18);
			v12 = v19;
			v11 = v17;
			v10 = v16;
		}
		VAL v20 = mw_std_list_List_1_reverse(v11);
		branch_List_5 = v20;
	} else {
		VAL v21 = MKI64(0LL /* Nil */);
		branch_List_5 = v21;
	}
	return branch_List_5;
}
static int64_t mw_mirth_token_Token_argsZ_endZAsk (uint64_t in_Token_1) {
	int64_t v3 = mw_mirth_token_Token_commaZAsk(in_Token_1);
	uint64_t branch_Token_4;
	if (((bool)v3)) {
		uint64_t v5 = mw_mirth_token_Token_succ(in_Token_1);
		branch_Token_4 = v5;
	} else {
		branch_Token_4 = in_Token_1;
	}
	int64_t v6 = mw_mirth_token_Token_rightZ_enclosureZAsk(branch_Token_4);
	return v6;
}
static VAL mw_mirth_token_Token_argsZPlus (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5 = mw_mirth_token_Token_args(in_Token_1);
	VAL v6 = mw_std_list_List_1_ZToListZPlus(v5);
	uint64_t branch_Token_7;
	VAL branch_ZPlusMirth_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_9 = v10;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
			branch_Token_7 = in_Token_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "expected 1 or more args, got none", 33);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v11), in_ZPlusMirth_2);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_z_x1_9;
}
static int64_t mw_mirth_token_Token_moduleZ_endZAsk (uint64_t in_Token_1) {
	int64_t v3 = mw_mirth_token_Token_noneZAsk(in_Token_1);
	return v3;
}
static int64_t mw_mirth_token_Token_runZ_endZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 0LL: { // TokenNone
			int64_t v5 = 1LL /* True */;
			branch_Bool_4 = v5;
		} break;
		case 1LL: { // TokenComma
			int64_t v6 = 1LL /* True */;
			branch_Bool_4 = v6;
		} break;
		case 7LL: { // TokenRParen
			uint64_t v7 = mtp_mirth_token_TokenValue_TokenRParen(v3);
			int64_t v8 = 1LL /* True */;
			branch_Bool_4 = v8;
		} break;
		case 9LL: { // TokenRSquare
			uint64_t v9 = mtp_mirth_token_TokenValue_TokenRSquare(v3);
			int64_t v10 = 1LL /* True */;
			branch_Bool_4 = v10;
		} break;
		case 11LL: { // TokenRCurly
			uint64_t v11 = mtp_mirth_token_TokenValue_TokenRCurly(v3);
			int64_t v12 = 1LL /* True */;
			branch_Bool_4 = v12;
		} break;
		case 13LL: { // TokenRColon
			uint64_t v13 = mtp_mirth_token_TokenValue_TokenRColon(v3);
			int64_t v14 = 1LL /* True */;
			branch_Bool_4 = v14;
		} break;
		default: {
			decref(v3);
			int64_t v15 = 0LL /* False */;
			branch_Bool_4 = v15;
		} break;
	}
	return branch_Bool_4;
}
static VAL mw_mirth_token_Token_runZ_tokens (uint64_t in_Token_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mw_std_list_List_1_reverse(v3);
	int64_t v5 = mw_mirth_token_Token_runZ_endZAsk(in_Token_1);
	bool v6 = !((bool)v5);
	uint64_t v7 = in_Token_1;
	VAL v8 = v4;
	bool v9 = v6;
	while (v9) {
		uint64_t v10 = v7;
		VAL v11 = v8;
		uint64_t v12 = mw_mirth_token_Token_next(v10);
		VAL v13 = mtw_std_list_List_1_Cons(MKU64(v10), v11);
		int64_t v14 = mw_mirth_token_Token_runZ_endZAsk(v12);
		bool v15 = !((bool)v14);
		v9 = v15;
		v8 = v13;
		v7 = v12;
	}
	VAL v16 = mw_std_list_List_1_reverse(v8);
	return v16;
}
static int64_t mw_mirth_token_Token_runZ_length (uint64_t in_Token_1) {
	int64_t v3 = 0LL;
	int64_t v4 = mw_mirth_token_Token_runZ_endZAsk(in_Token_1);
	bool v5 = !((bool)v4);
	int64_t v6 = v3;
	uint64_t v7 = in_Token_1;
	bool v8 = v5;
	while (v8) {
		int64_t v9 = v6;
		uint64_t v10 = v7;
		uint64_t v11 = mw_mirth_token_Token_next(v10);
		int64_t v12 = 1LL;
		int64_t v13 = i64_add(v9, v12);
		int64_t v14 = mw_mirth_token_Token_runZ_endZAsk(v11);
		bool v15 = !((bool)v14);
		v8 = v15;
		v7 = v11;
		v6 = v13;
	}
	return v6;
}
static VAL mw_mirth_token_Token_runZ_arrowZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_runZ_tokens(in_Token_1);
	VAL v4 = MKI64(0LL /* None */);
	int64_t v5 = 1LL /* True */;
	VAL v6 = v4;
	VAL v7 = v3;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL v13;
		VAL v14 = mw_std_list_List_1_uncons(v11, &v13);
		VAL branch_Maybe_15;
		VAL branch_List_16;
		int64_t branch_Bool_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				incref(v18);
				int64_t v19 = mw_mirth_token_Token_arrowZAsk(value_u64(v18));
				VAL branch_Maybe_20;
				if (((bool)v19)) {
					VAL v21 = mtw_std_maybe_Maybe_1_Some(v18);
					branch_Maybe_20 = v21;
				} else {
					decref(v18);
					VAL v22 = MKI64(0LL /* None */);
					branch_Maybe_20 = v22;
				}
				VAL branch_Maybe_23;
				VAL branch_List_24;
				switch (get_data_tag(branch_Maybe_20)) {
					case 0LL: { // None
						branch_List_24 = v13;
						branch_Maybe_23 = v10;
					} break;
					default: {
						decref(v13);
						decref(v10);
						VAL v25 = MKI64(0LL /* Nil */);
						branch_List_24 = v25;
						branch_Maybe_23 = branch_Maybe_20;
					} break;
				}
				int64_t v26 = 1LL /* True */;
				branch_Bool_17 = v26;
				branch_List_16 = branch_List_24;
				branch_Maybe_15 = branch_Maybe_23;
			} break;
			case 0LL: { // None
				int64_t v27 = 0LL /* False */;
				branch_Bool_17 = v27;
				branch_List_16 = v13;
				branch_Maybe_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_17;
		v8 = branch_Bool_17;
		v7 = branch_List_16;
		v6 = branch_Maybe_15;
	}
	decref(v7);
	return v6;
}
static int64_t mw_mirth_token_Token_sigZ_stackZ_endZAsk (uint64_t in_Token_1) {
	int64_t v3 = mw_mirth_token_Token_sigZ_dashesZAsk(in_Token_1);
	uint64_t branch_Token_4;
	int64_t branch_Bool_5;
	if (((bool)v3)) {
		int64_t v6 = 1LL /* True */;
		branch_Bool_5 = v6;
		branch_Token_4 = in_Token_1;
	} else {
		int64_t v7 = mw_mirth_token_Token_runZ_endZAsk(in_Token_1);
		branch_Bool_5 = v7;
		branch_Token_4 = in_Token_1;
	}
	return branch_Bool_5;
}
static uint64_t mw_mirth_token_Token_sigZ_nextZ_stackZ_end (uint64_t in_Token_1) {
	int64_t v3 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(in_Token_1);
	bool v4 = !((bool)v3);
	uint64_t v5 = in_Token_1;
	bool v6 = v4;
	while (v6) {
		uint64_t v7 = v5;
		uint64_t v8 = mw_mirth_token_Token_next(v7);
		int64_t v9 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v8);
		bool v10 = !((bool)v9);
		v6 = v10;
		v5 = v8;
	}
	return v5;
}
static int64_t mw_mirth_token_Token_sigZ_hasZ_dashesZAsk (uint64_t in_Token_1) {
	uint64_t v3 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(in_Token_1);
	int64_t v4 = mw_mirth_token_Token_sigZ_dashesZAsk(v3);
	return v4;
}
static VAL mw_mirth_token_Token_patZ_tokens (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_runZ_tokens(in_Token_1);
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5 = mw_std_list_List_1_reverse(v4);
	int64_t v6 = 1LL /* True */;
	VAL v7 = v3;
	VAL v8 = v5;
	int64_t v9 = v6;
	int64_t v10 = v6;
	while (((bool)v10)) {
		VAL v11 = v7;
		VAL v12 = v8;
		int64_t v13 = v9;
		VAL v14;
		VAL v15 = mw_std_list_List_1_uncons(v11, &v14);
		VAL branch_Maybe_16;
		switch (get_data_tag(v15)) {
			case 1LL: { // Some
				VAL v17 = mtp_std_maybe_Maybe_1_Some(v15);
				incref(v17);
				int64_t v18 = mw_mirth_token_Token_arrowZAsk(value_u64(v17));
				bool v19 = !((bool)v18);
				VAL branch_Maybe_20;
				if (v19) {
					VAL v21 = mtw_std_maybe_Maybe_1_Some(v17);
					branch_Maybe_20 = v21;
				} else {
					decref(v17);
					VAL v22 = MKI64(0LL /* None */);
					branch_Maybe_20 = v22;
				}
				branch_Maybe_16 = branch_Maybe_20;
			} break;
			case 0LL: { // None
				VAL v23 = MKI64(0LL /* None */);
				branch_Maybe_16 = v23;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL branch_ZPlusList_24;
		int64_t branch_Bool_25;
		switch (get_data_tag(branch_Maybe_16)) {
			case 1LL: { // Some
				VAL v26 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_16);
				VAL v27 = mtw_std_list_List_1_Cons(v26, v12);
				int64_t v28 = 1LL /* True */;
				branch_Bool_25 = v28;
				branch_ZPlusList_24 = v27;
			} break;
			case 0LL: { // None
				int64_t v29 = 0LL /* False */;
				branch_Bool_25 = v29;
				branch_ZPlusList_24 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_25;
		v9 = branch_Bool_25;
		v8 = branch_ZPlusList_24;
		v7 = v14;
	}
	VAL v30 = mw_std_list_List_1_reverse(v8);
	decref(v7);
	return v30;
}
static int64_t mw_mirth_module_Module_index (uint64_t in_Module_1) {
	return ((int64_t)in_Module_1);
}
static uint64_t mw_mirth_module_Module_allocZBang (void) {
	void* v2 = mbuf_mirth_module_Module_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_module_Module_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static uint64_t mw_mirth_module_Module_package (uint64_t in_Module_1) {
	void* v3 = mfld_mirth_module_Module_ZTildepackage(in_Module_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static uint64_t mw_mirth_module_Module_name (uint64_t in_Module_1) {
	void* v3 = mfld_mirth_module_Module_ZTildename(in_Module_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_module_Module_qname (uint64_t in_Module_1) {
	uint64_t v3 = mw_mirth_module_Module_package(in_Module_1);
	VAL v4 = mtw_mirth_name_Namespace_NAMESPACEz_PACKAGE(v3);
	uint64_t v5 = mw_mirth_module_Module_name(in_Module_1);
	VAL v6 = mw_mirth_name_QNAME0(v4, v5);
	return v6;
}
static VAL mw_mirth_module_Module_path (uint64_t in_Module_1) {
	void* v3 = mfld_mirth_module_Module_ZTildepath(in_Module_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_module_Module_start (uint64_t in_Module_1) {
	void* v3 = mfld_mirth_module_Module_ZTildestart(in_Module_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_module_Module_imports (uint64_t in_Module_1) {
	void* v3 = mfld_mirth_module_Module_ZTildeimports(in_Module_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static int64_t mw_mirth_module_Module_ZEqualZEqual (uint64_t in_Module_1, uint64_t in_Module_2) {
	int64_t v4 = mw_mirth_module_Module_index(in_Module_1);
	int64_t v5 = mw_mirth_module_Module_index(in_Module_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static uint64_t mw_mirth_module_Module_prim (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[2]);
	decref(v4);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v5;
}
static void mw_mirth_module_initZ_modulesZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v3 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v3);
	uint64_t v4 = value_u64(VTUP(v3)->cells[2]);
	decref(v3);
	VAL v5 = MKI64(0LL /* Nil */);
	void* v6 = mfld_mirth_module_Module_ZTildeimports(v4);
	mut_set(v5, v6);
	STR* v7;
	STRLIT(v7, "<prim>", 6);
	void* v8 = mfld_mirth_module_Module_ZTildepath(v4);
	mut_set(MKSTR(v7), v8);
	VAL v9;
	uint64_t v10 = mw_mirth_package_Package_std(in_ZPlusMirth_1, &v9);
	void* v11 = mfld_mirth_module_Module_ZTildepackage(v4);
	mut_set(MKU64(v10), v11);
	STR* v12;
	STRLIT(v12, "prim", 4);
	uint64_t v13 = mw_std_prim_Str_ZToName(MKSTR(v12));
	void* v14 = mfld_mirth_module_Module_ZTildename(v4);
	mut_set(MKU64(v13), v14);
	*out_ZPlusMirth_2 = v9;
}
static uint64_t mw_mirth_module_Module_newZBang (VAL in_ZPlusMirth_1, VAL in_Path_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_module_Module_allocZBang();
	VAL v6;
	uint64_t v7 = mw_mirth_module_Module_prim(in_ZPlusMirth_1, &v6);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mtw_std_list_List_1_Cons(MKU64(v7), v8);
	void* v10 = mfld_mirth_module_Module_ZTildeimports(v5);
	mut_set(v9, v10);
	void* v11 = mfld_mirth_module_Module_ZTildepath(v5);
	mut_set(in_Path_2, v11);
	*out_ZPlusMirth_3 = v6;
	return v5;
}
static void mw_mirth_module_Module_addZ_importZBang (uint64_t in_Module_1, uint64_t in_Module_2) {
	void* v3 = mfld_mirth_module_Module_ZTildeimports(in_Module_1);
	VAL v4 = mut_get(v3);
	VAL v5 = mtw_std_list_List_1_Cons(MKU64(in_Module_2), v4);
	mut_set(v5, v3);
}
static VAL mw_mirth_module_Module_sourceZ_path (uint64_t in_Module_1) {
	VAL v3 = mw_mirth_module_Module_path(in_Module_1);
	return v3;
}
static int64_t mw_mirth_module_Module_visible (uint64_t in_Module_1, uint64_t in_Module_2) {
	int64_t v4 = mw_mirth_module_Module_ZEqualZEqual(in_Module_1, in_Module_2);
	int64_t branch_Bool_5;
	if (((bool)v4)) {
		int64_t v6 = 1LL /* True */;
		branch_Bool_5 = v6;
	} else {
		VAL v7 = mw_mirth_module_Module_imports(in_Module_2);
		VAL v8 = MKI64(0LL /* None */);
		int64_t v9 = 1LL /* True */;
		uint64_t v10 = in_Module_1;
		VAL v11 = v8;
		VAL v12 = v7;
		int64_t v13 = v9;
		int64_t v14 = v9;
		while (((bool)v14)) {
			uint64_t v15 = v10;
			VAL v16 = v11;
			VAL v17 = v12;
			int64_t v18 = v13;
			VAL v19;
			VAL v20 = mw_std_list_List_1_uncons(v17, &v19);
			uint64_t branch_Module_21;
			VAL branch_Maybe_22;
			VAL branch_List_23;
			int64_t branch_Bool_24;
			switch (get_data_tag(v20)) {
				case 1LL: { // Some
					VAL v25 = mtp_std_maybe_Maybe_1_Some(v20);
					incref(v25);
					int64_t v26 = mw_mirth_module_Module_ZEqualZEqual(v15, value_u64(v25));
					uint64_t branch_Module_27;
					VAL branch_Maybe_28;
					if (((bool)v26)) {
						VAL v29 = mtw_std_maybe_Maybe_1_Some(v25);
						branch_Maybe_28 = v29;
						branch_Module_27 = v15;
					} else {
						decref(v25);
						VAL v30 = MKI64(0LL /* None */);
						branch_Maybe_28 = v30;
						branch_Module_27 = v15;
					}
					uint64_t branch_Module_31;
					VAL branch_Maybe_32;
					VAL branch_List_33;
					switch (get_data_tag(branch_Maybe_28)) {
						case 0LL: { // None
							branch_List_33 = v19;
							branch_Maybe_32 = v16;
							branch_Module_31 = branch_Module_27;
						} break;
						default: {
							decref(v19);
							decref(v16);
							VAL v34 = MKI64(0LL /* Nil */);
							branch_List_33 = v34;
							branch_Maybe_32 = branch_Maybe_28;
							branch_Module_31 = branch_Module_27;
						} break;
					}
					int64_t v35 = 1LL /* True */;
					branch_Bool_24 = v35;
					branch_List_23 = branch_List_33;
					branch_Maybe_22 = branch_Maybe_32;
					branch_Module_21 = branch_Module_31;
				} break;
				case 0LL: { // None
					int64_t v36 = 0LL /* False */;
					branch_Bool_24 = v36;
					branch_List_23 = v19;
					branch_Maybe_22 = v16;
					branch_Module_21 = v15;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v14 = branch_Bool_24;
			v13 = branch_Bool_24;
			v12 = branch_List_23;
			v11 = branch_Maybe_22;
			v10 = branch_Module_21;
		}
		decref(v12);
		int64_t v37 = get_data_tag(v11);
		decref(v11);
		int64_t v38 = 1LL;
		bool v39 = (v37 == v38);
		branch_Bool_5 = ((int64_t)v39);
	}
	return branch_Bool_5;
}
static int64_t mw_std_prim_Int_ZToRow (int64_t in_Int_1) {
	return in_Int_1;
}
static int64_t mw_mirth_location_Row_ZToInt (int64_t in_Row_1) {
	return in_Row_1;
}
static void mw_mirth_location_Row_showZThen (VAL in_ZPlusStr_1, int64_t in_Row_2, VAL *out_ZPlusStr_3) {
	STR* v4 = i64_show(in_Row_2);
	VAL v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v4), in_ZPlusStr_1, &v5);
	*out_ZPlusStr_3 = v5;
}
static int64_t mw_std_prim_Int_ZToCol (int64_t in_Int_1) {
	return in_Int_1;
}
static int64_t mw_mirth_location_Col_ZToInt (int64_t in_Col_1) {
	return in_Col_1;
}
static void mw_mirth_location_Col_showZThen (VAL in_ZPlusStr_1, int64_t in_Col_2, VAL *out_ZPlusStr_3) {
	STR* v4 = i64_show(in_Col_2);
	VAL v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v4), in_ZPlusStr_1, &v5);
	*out_ZPlusStr_3 = v5;
}
static void mw_mirth_location_Location_emitZThen (VAL in_ZPlusStr_1, VAL in_Location_2, VAL *out_ZPlusStr_3) {
	uint64_t v4;
	int64_t v5;
	int64_t v6;
	mtp_mirth_location_Location_Location(in_Location_2, &v4, &v5, &v6);
	VAL v7 = mw_mirth_module_Module_sourceZ_path(v4);
	VAL v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(v7, in_ZPlusStr_1, &v8);
	STR* v9;
	STRLIT(v9, ":", 1);
	VAL v10;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v9), v8, &v10);
	VAL v11;
	mw_mirth_location_Row_showZThen(v10, v5, &v11);
	STR* v12;
	STRLIT(v12, ":", 1);
	VAL v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), v11, &v13);
	VAL v14;
	mw_mirth_location_Col_showZThen(v13, v6, &v14);
	*out_ZPlusStr_3 = v14;
}
static int64_t mw_mirth_alias_Alias_index (uint64_t in_Alias_1) {
	return ((int64_t)in_Alias_1);
}
static uint64_t mw_mirth_alias_Alias_allocZBang (void) {
	void* v2 = mbuf_mirth_alias_Alias_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_alias_Alias_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_alias_Alias_qnameZ_soft (uint64_t in_Alias_1) {
	void* v3 = mfld_mirth_alias_Alias_ZTildeqname(in_Alias_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	VAL v5 = mw_std_maybe_Maybe_1_bind_1_sp5(v4);
	return v5;
}
static VAL mw_mirth_alias_Alias_qnameZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Alias_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_alias_Alias_ZTildeqname(in_Alias_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static VAL mw_mirth_alias_Alias_namespaceZ_hard (VAL in_ZPlusMirth_1, uint64_t in_Alias_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_alias_Alias_qnameZ_hard(in_ZPlusMirth_1, in_Alias_2, &v5);
	VAL v7 = VTUP(v6)->cells[1];
	incref(v7);
	decref(v6);
	*out_ZPlusMirth_3 = v5;
	return v7;
}
static uint64_t mw_mirth_alias_Alias_name (uint64_t in_Alias_1) {
	void* v3 = mfld_mirth_alias_Alias_ZTildename(in_Alias_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static int64_t mw_mirth_alias_Alias_arity (uint64_t in_Alias_1) {
	void* v3 = mfld_mirth_alias_Alias_ZTildearity(in_Alias_1);
	VAL v4 = mut_get(v3);
	return value_i64(v4);
}
static VAL mw_mirth_alias_Alias_target (VAL in_ZPlusMirth_1, uint64_t in_Alias_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_alias_Alias_ZTildetarget(in_Alias_2);
	VAL v6;
	VAL v7 = mw_mirth_mirth_Prop_1_forceZBang(v5, in_ZPlusMirth_1, &v6);
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static int64_t mw_mirth_alias_Alias_ZEqualZEqual (uint64_t in_Alias_1, uint64_t in_Alias_2) {
	int64_t v4 = mw_mirth_alias_Alias_index(in_Alias_1);
	int64_t v5 = mw_mirth_alias_Alias_index(in_Alias_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static uint64_t mw_mirth_alias_Alias_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Name_3, int64_t in_Int_4, VAL *out_ZPlusMirth_5) {
	uint64_t v7 = mw_mirth_alias_Alias_allocZBang();
	void* v8 = mfld_mirth_alias_Alias_ZTildename(v7);
	mut_set(MKU64(in_Name_3), v8);
	void* v9 = mfld_mirth_alias_Alias_ZTildehead(v7);
	mut_set(MKU64(in_Token_2), v9);
	void* v10 = mfld_mirth_alias_Alias_ZTildearity(v7);
	mut_set(MKI64(in_Int_4), v10);
	VAL v11 = mtw_mirth_def_Def_DefAlias(v7);
	VAL v12;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v11, &v12);
	*out_ZPlusMirth_5 = v12;
	return v7;
}
static VAL mw_mirth_mirth_Builtin_AllocZBang (void) {
	uint64_t v2 = mw_mirth_package_Package_allocZBang();
	uint64_t v3 = mw_mirth_module_Module_allocZBang();
	uint64_t v4 = mw_mirth_data_Data_allocZBang();
	uint64_t v5 = mw_mirth_data_Tag_allocZBang();
	uint64_t v6 = mw_mirth_data_Tag_allocZBang();
	uint64_t v7 = mw_mirth_data_Data_allocZBang();
	uint64_t v8 = mw_mirth_data_Tag_allocZBang();
	uint64_t v9 = mw_mirth_data_Data_allocZBang();
	uint64_t v10 = mw_mirth_data_Tag_allocZBang();
	uint64_t v11 = mw_mirth_data_Data_allocZBang();
	uint64_t v12 = mw_mirth_data_Tag_allocZBang();
	uint64_t v13 = mw_mirth_data_Data_allocZBang();
	uint64_t v14 = mw_mirth_data_Tag_allocZBang();
	uint64_t v15 = mw_mirth_data_Data_allocZBang();
	uint64_t v16 = mw_mirth_data_Tag_allocZBang();
	uint64_t v17 = mw_mirth_data_Data_allocZBang();
	uint64_t v18 = mw_mirth_data_Tag_allocZBang();
	uint64_t v19 = mw_mirth_data_Data_allocZBang();
	uint64_t v20 = mw_mirth_data_Tag_allocZBang();
	uint64_t v21 = mw_mirth_data_Data_allocZBang();
	uint64_t v22 = mw_mirth_data_Tag_allocZBang();
	uint64_t v23 = mw_mirth_data_Data_allocZBang();
	uint64_t v24 = mw_mirth_data_Tag_allocZBang();
	uint64_t v25 = mw_mirth_data_Data_allocZBang();
	uint64_t v26 = mw_mirth_data_Tag_allocZBang();
	uint64_t v27 = mw_mirth_data_Data_allocZBang();
	uint64_t v28 = mw_mirth_data_Tag_allocZBang();
	uint64_t v29 = mw_mirth_data_Data_allocZBang();
	uint64_t v30 = mw_mirth_data_Tag_allocZBang();
	uint64_t v31 = mw_mirth_data_Data_allocZBang();
	uint64_t v32 = mw_mirth_data_Tag_allocZBang();
	uint64_t v33 = mw_mirth_data_Data_allocZBang();
	uint64_t v34 = mw_mirth_data_Tag_allocZBang();
	uint64_t v35 = mw_mirth_data_Data_allocZBang();
	uint64_t v36 = mw_mirth_data_Tag_allocZBang();
	uint64_t v37 = mw_mirth_data_Data_allocZBang();
	uint64_t v38 = mw_mirth_data_Tag_allocZBang();
	uint64_t v39 = mw_mirth_data_Data_allocZBang();
	uint64_t v40 = mw_mirth_data_Tag_allocZBang();
	uint64_t v41 = mw_mirth_data_Data_allocZBang();
	uint64_t v42 = mw_mirth_data_Tag_allocZBang();
	uint64_t v43 = mw_mirth_data_Data_allocZBang();
	uint64_t v44 = mw_mirth_data_Tag_allocZBang();
	uint64_t v45 = mw_mirth_data_Data_allocZBang();
	uint64_t v46 = mw_mirth_data_Tag_allocZBang();
	uint64_t v47 = mw_mirth_data_Data_allocZBang();
	uint64_t v48 = mw_mirth_data_Tag_allocZBang();
	uint64_t v49 = mw_mirth_data_Data_allocZBang();
	uint64_t v50 = mw_mirth_data_Tag_allocZBang();
	uint64_t v51 = mw_mirth_data_Data_allocZBang();
	uint64_t v52 = mw_mirth_data_Tag_allocZBang();
	uint64_t v53 = mw_mirth_data_Data_allocZBang();
	uint64_t v54 = mw_mirth_data_Tag_allocZBang();
	uint64_t v55 = mw_mirth_data_Data_allocZBang();
	uint64_t v56 = mw_mirth_data_Tag_allocZBang();
	uint64_t v57 = mw_mirth_data_Data_allocZBang();
	uint64_t v58 = mw_mirth_data_Tag_allocZBang();
	uint64_t v59 = mw_mirth_data_Data_allocZBang();
	uint64_t v60 = mw_mirth_data_Tag_allocZBang();
	uint64_t v61 = mw_mirth_data_Data_allocZBang();
	uint64_t v62 = mw_mirth_data_Tag_allocZBang();
	VAL v63 = mtw_mirth_mirth_Builtin_Builtin(v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20, v21, v22, v23, v24, v25, v26, v27, v28, v29, v30, v31, v32, v33, v34, v35, v36, v37, v38, v39, v40, v41, v42, v43, v44, v45, v46, v47, v48, v49, v50, v51, v52, v53, v54, v55, v56, v57, v58, v59, v60, v61, v62);
	return v63;
}
static void mw_mirth_mirth_ZPlusMirth_InitZBang (VAL *out_ZPlusMirth_1) {
	int64_t v2 = 0LL;
	int64_t v3 = 0LL;
	int64_t v4 = 0LL /* False */;
	VAL v5 = mw_mirth_mirth_Builtin_AllocZBang();
	VAL v6 = MKI64(0LL /* None */);
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10 = MKI64(0LL /* None */);
	VAL v11;
	mtw_mirth_mirth_ZPlusMirth_ZPlusMirth(v2, v3, v4, v5, v10, v6, v7, v8, v9, &v11);
	VAL v12;
	mw_mirth_package_initZ_packagesZBang(v11, &v12);
	VAL v13;
	mw_mirth_module_initZ_modulesZBang(v12, &v13);
	VAL v14;
	mw_mirth_mirth_ZPlusMirth_initZ_typesZBang(v13, &v14);
	VAL v15;
	mw_mirth_prim_initZ_primsZBang(v14, &v15);
	*out_ZPlusMirth_1 = v15;
}
static void mw_mirth_mirth_ZPlusMirth_rdrop (VAL in_ZPlusMirth_1) {
	int64_t v2;
	int64_t v3;
	int64_t v4;
	VAL v5;
	VAL v6;
	VAL v7;
	VAL v8;
	VAL v9;
	VAL v10;
	mtp_mirth_mirth_ZPlusMirth_ZPlusMirth(in_ZPlusMirth_1, &v2, &v3, &v4, &v5, &v6, &v7, &v8, &v9, &v10);
	decref(v5);
	decref(v6);
	decref(v7);
	decref(v8);
	VAL v11 = mw_std_list_List_1_reverse(v9);
	decref(v11);
	VAL v12 = mw_std_list_List_1_reverse(v10);
	decref(v12);
}
static VAL mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[6];
	incref(v4);
	VAL branch_Maybe_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			STR* v7;
			STRLIT(v7, "lib", 3);
			VAL v8 = mw_std_path_Path_join(v6, MKSTR(v7));
			VAL v9 = mtw_std_maybe_Maybe_1_Some(v8);
			branch_Maybe_5 = v9;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_5 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return branch_Maybe_5;
}
static VAL mw_mirth_mirth_Severity_ZToStr (int64_t in_Severity_1) {
	VAL branch__3;
	switch (in_Severity_1) {
		case 0LL: { // Info
			STR* v4;
			STRLIT(v4, "info", 4);
			branch__3 = MKSTR(v4);
		} break;
		case 1LL: { // Warning
			STR* v5;
			STRLIT(v5, "warning", 7);
			branch__3 = MKSTR(v5);
		} break;
		case 2LL: { // Error
			STR* v6;
			STRLIT(v6, "error", 5);
			branch__3 = MKSTR(v6);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch__3;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang (VAL in_Location_1, VAL in_Str_2, int64_t in_Severity_3, VAL in_ZPlusMirth_4, VAL *out_ZPlusMirth_5) {
	VAL branch_ZPlusMirth_6;
	VAL branch_Str_7;
	VAL branch_Location_8;
	int64_t branch_Severity_9;
	switch (in_Severity_3) {
		case 0LL: { // Info
			branch_Severity_9 = in_Severity_3;
			branch_Location_8 = in_Location_1;
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_4;
		} break;
		case 1LL: { // Warning
			int64_t v10 = value_i64(VTUP(in_ZPlusMirth_4)->cells[2]);
			int64_t v11 = 1LL;
			int64_t v12 = i64_add(v10, v11);
			VTUP(in_ZPlusMirth_4)->cells[2] = MKI64(v12);
			branch_Severity_9 = in_Severity_3;
			branch_Location_8 = in_Location_1;
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_4;
		} break;
		case 2LL: { // Error
			int64_t v13 = value_i64(VTUP(in_ZPlusMirth_4)->cells[1]);
			int64_t v14 = 1LL;
			int64_t v15 = i64_add(v13, v14);
			VTUP(in_ZPlusMirth_4)->cells[1] = MKI64(v15);
			branch_Severity_9 = in_Severity_3;
			branch_Location_8 = in_Location_1;
			branch_Str_7 = in_Str_2;
			branch_ZPlusMirth_6 = in_ZPlusMirth_4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v16 = mtw_mirth_mirth_Diagnostic_Diagnostic(branch_Severity_9, branch_Location_8, branch_Str_7);
	VAL v17 = VTUP(branch_ZPlusMirth_6)->cells[8];
	VAL v18 = mtw_std_list_List_1_Cons(v16, v17);
	VTUP(branch_ZPlusMirth_6)->cells[8] = v18;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang (VAL in_Location_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4) {
	int64_t v5 = 0LL /* Info */;
	VAL v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_Location_1, in_Str_2, v5, in_ZPlusMirth_3, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang (VAL in_Location_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4) {
	int64_t v5 = 1LL /* Warning */;
	VAL v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_Location_1, in_Str_2, v5, in_ZPlusMirth_3, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang (VAL in_Location_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4) {
	int64_t v5 = 2LL /* Error */;
	VAL v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_diagnosticZ_atZBang(in_Location_1, in_Str_2, v5, in_ZPlusMirth_3, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang (VAL in_Location_1, VAL in_Str_2, VAL in_ZPlusMirth_3) {
	VAL v4;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(in_Location_1, in_Str_2, in_ZPlusMirth_3, &v4);
	mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(v4);
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_infoZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4) {
	VAL v5 = mw_mirth_token_Token_location(in_Token_1);
	VAL v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_infoZ_atZBang(v5, in_Str_2, in_ZPlusMirth_3, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4) {
	VAL v5 = mw_mirth_token_Token_location(in_Token_1);
	VAL v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang(v5, in_Str_2, in_ZPlusMirth_3, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4) {
	VAL v5 = mw_mirth_token_Token_location(in_Token_1);
	VAL v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(v5, in_Str_2, in_ZPlusMirth_3, &v6);
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusMirth_3) {
	VAL v4 = mw_mirth_token_Token_location(in_Token_1);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(v4, in_Str_2, in_ZPlusMirth_3);
}
static void mw_mirth_mirth_ZPlusMirth_emitZ_deprecatedZBang (uint64_t in_Token_1, VAL in_Str_2, VAL in_Str_3, VAL in_ZPlusMirth_4, VAL *out_ZPlusMirth_5) {
	STR* v6;
	STRLIT(v6, "", 0);
	VAL v7 = MKI64(36LL /* FGCyan */);
	VAL v8;
	mw_std_terminal_Sgr_emitZThen(v7, MKSTR(v6), &v8);
	VAL v9;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_2, v8, &v9);
	VAL v10 = MKI64(0LL /* Reset */);
	VAL v11;
	mw_std_terminal_Sgr_emitZThen(v10, v9, &v11);
	STR* v12;
	STRLIT(v12, " is deprecated, please use ", 27);
	VAL v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), v11, &v13);
	VAL v14 = MKI64(36LL /* FGCyan */);
	VAL v15;
	mw_std_terminal_Sgr_emitZThen(v14, v13, &v15);
	VAL v16;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_3, v15, &v16);
	VAL v17 = MKI64(0LL /* Reset */);
	VAL v18;
	mw_std_terminal_Sgr_emitZThen(v17, v16, &v18);
	STR* v19;
	STRLIT(v19, " instead.", 9);
	VAL v20;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v19), v18, &v20);
	VAL v21;
	mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(in_Token_1, v20, in_ZPlusMirth_4, &v21);
	*out_ZPlusMirth_5 = v21;
}
static VAL mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[2]);
	decref(v4);
	int64_t v6 = 0LL;
	int64_t v7 = 0LL;
	VAL v8 = mtw_mirth_location_Location_Location(v5, v6, v7);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v8;
}
static VAL mw_mirth_mirth_ZPlusMirth_errorZ_location (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[5];
	incref(v4);
	VAL branch_ZPlusMirth_5;
	VAL branch_Location_6;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v4);
			VAL v8 = mw_mirth_token_Token_location(value_u64(v7));
			branch_Location_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			VAL v9;
			VAL v10 = mw_mirth_mirth_ZPlusMirth_defaultZ_errorZ_location(in_ZPlusMirth_1, &v9);
			branch_Location_6 = v10;
			branch_ZPlusMirth_5 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_2 = branch_ZPlusMirth_5;
	return branch_Location_6;
}
static void mw_mirth_mirth_ZPlusMirth_errorZBang (VAL in_Str_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_3) {
	VAL v4;
	VAL v5 = mw_mirth_mirth_ZPlusMirth_errorZ_location(in_ZPlusMirth_2, &v4);
	VAL v6;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZ_atZBang(v5, in_Str_1, v4, &v6);
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang (VAL in_Str_1, VAL in_ZPlusMirth_2) {
	VAL v3;
	VAL v4 = mw_mirth_mirth_ZPlusMirth_errorZ_location(in_ZPlusMirth_2, &v3);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(v4, in_Str_1, v3);
}
static void mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang (VAL in_ZPlusMirth_1) {
	VAL v2;
	VAL v3 = mw_mirth_mirth_ZPlusMirth_popZ_diagnostics(in_ZPlusMirth_1, &v2);
	STR* v4;
	STRLIT(v4, "", 0);
	int64_t v5 = 1LL /* True */;
	STR* v6 = v4;
	VAL v7 = v3;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		STR* v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusStr_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL v18;
				mw_mirth_mirth_Diagnostic_diagnosticZThen(MKSTR(v10), v17, &v18);
				STR* v19;
				STRLIT(v19, "\n", 1);
				VAL v20;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v19), v18, &v20);
				int64_t v21 = 1LL /* True */;
				branch_Bool_15 = v21;
				branch_List_14 = v16;
				branch_ZPlusStr_13 = v20;
			} break;
			case 0LL: { // Nil
				VAL v22 = MKI64(0LL /* Nil */);
				int64_t v23 = 0LL /* False */;
				branch_Bool_15 = v23;
				branch_List_14 = v22;
				branch_ZPlusStr_13 = MKSTR(v10);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = value_str(branch_ZPlusStr_13);
	}
	decref(v7);
	VAL v24 = MKI64(31LL /* FGRed */);
	VAL v25;
	mw_std_terminal_Sgr_emitZThen(v24, MKSTR(v6), &v25);
	STR* v26;
	STRLIT(v26, "Fatal error. Stopping early.", 28);
	VAL v27;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v26), v25, &v27);
	VAL v28 = MKI64(0LL /* Reset */);
	VAL v29;
	mw_std_terminal_Sgr_emitZThen(v28, v27, &v29);
	do_panic(value_str(v29));
}
static void mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v5;
	VAL v6 = mw_mirth_mirth_ZPlusMirth_popZ_diagnostics(in_ZPlusMirth_1, &v5);
	int64_t v7 = 1LL /* True */;
	VAL v8 = v5;
	VAL v9 = v6;
	int64_t v10 = v7;
	int64_t v11 = v7;
	while (((bool)v11)) {
		VAL v12 = v8;
		VAL v13 = v9;
		int64_t v14 = v10;
		VAL branch_z_x1_15;
		VAL branch_List_16;
		int64_t branch_Bool_17;
		switch (get_data_tag(v13)) {
			case 1LL: { // Cons
				VAL v18;
				VAL v19 = mtp_std_list_List_1_Cons(v13, &v18);
				STR* v20;
				STRLIT(v20, "", 0);
				VAL v21;
				mw_mirth_mirth_Diagnostic_diagnosticZThen(MKSTR(v20), v19, &v21);
				mw_std_prim_ZPlusWorld_trace(v21);
				int64_t v22 = 1LL /* True */;
				branch_Bool_17 = v22;
				branch_List_16 = v18;
				branch_z_x1_15 = v12;
			} break;
			case 0LL: { // Nil
				VAL v23 = MKI64(0LL /* Nil */);
				int64_t v24 = 0LL /* False */;
				branch_Bool_17 = v24;
				branch_List_16 = v23;
				branch_z_x1_15 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_17;
		v10 = branch_Bool_17;
		v9 = branch_List_16;
		v8 = branch_z_x1_15;
	}
	decref(v9);
	*out_ZPlusMirth_2 = v8;
}
static VAL mw_mirth_mirth_ZPlusMirth_popZ_diagnostics (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[8];
	VAL v5 = mw_std_list_List_1_reverse(v4);
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mw_std_list_List_1_reverse(v6);
	VTUP(in_ZPlusMirth_1)->cells[8] = v7;
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v5;
}
static void mw_mirth_mirth_Diagnostic_diagnosticZThen (VAL in_ZPlusStr_1, VAL in_Diagnostic_2, VAL *out_ZPlusStr_3) {
	int64_t v4;
	VAL v5;
	VAL v6;
	mtp_mirth_mirth_Diagnostic_Diagnostic(in_Diagnostic_2, &v4, &v5, &v6);
	VAL v7;
	mw_mirth_location_Location_emitZThen(in_ZPlusStr_1, v5, &v7);
	STR* v8;
	STRLIT(v8, ": ", 2);
	VAL v9;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v8), v7, &v9);
	VAL v10 = mw_mirth_mirth_Severity_ZToStr(v4);
	VAL v11;
	mw_std_str_ZPlusStr_pushZ_strZBang(v10, v9, &v11);
	STR* v12;
	STRLIT(v12, ": ", 2);
	VAL v13;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), v11, &v13);
	VAL v14;
	mw_std_str_ZPlusStr_pushZ_strZBang(v6, v13, &v14);
	*out_ZPlusStr_3 = v14;
}
static VAL mw_mirth_mirth_PropLabel_prop (VAL in_b_1, VAL in_PropLabel_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_5) {
	VAL v6 = mtw_mirth_mirth_PropState_1_PSReady(in_b_1);
	VAL v7 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_2, v6);
	*out_ZPlusMirth_5 = in_ZPlusMirth_3;
	return v7;
}
static VAL mw_mirth_mirth_PropLabel_prop2 (VAL in_b1_1, VAL in_b2_2, VAL in_PropLabel_3, VAL in_ZPlusMirth_4, VAL *out_ZPlusMirth_6) {
	TUP* v7 = tup_pack2(in_b1_1, in_b2_2);
	VAL v8;
	VAL v9 = mw_mirth_mirth_PropLabel_prop(MKTUP(v7, 2), in_PropLabel_3, in_ZPlusMirth_4, &v8);
	*out_ZPlusMirth_6 = v8;
	return v9;
}
static VAL mw_mirth_mirth_Prop_1_readyZAsk (VAL in_Prop_1) {
	VAL v3 = VTUP(in_Prop_1)->cells[2];
	incref(v3);
	decref(in_Prop_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 0LL: { // PSReady
			VAL v5 = mtp_mirth_mirth_PropState_1_PSReady(v3);
			VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_4 = v6;
		} break;
		default: {
			decref(v3);
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_4 = v7;
		} break;
	}
	return branch_Maybe_4;
}
static VAL mw_mirth_mirth_Prop_1_tryZ_forceZBang (void* in_MutProp_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5 = mut_get(in_MutProp_1);
	VAL v6 = VTUP(v5)->cells[2];
	incref(v6);
	decref(v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // PSReady
			VAL v9 = mtp_mirth_mirth_PropState_1_PSReady(v6);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_8 = v10;
			branch_ZPlusMirth_7 = in_ZPlusMirth_2;
		} break;
		case 1LL: { // PSDelay
			VAL v11;
			VAL v12 = mtp_mirth_mirth_PropState_1_PSDelay(v6, &v11);
			VAL v13 = MKI64(2LL /* PSComputing */);
			VAL v14 = mut_get(in_MutProp_1);
			VAL v15 = tup_replace(v14, 2, v13);
			mut_set(v15, in_MutProp_1);
			push_resource(in_ZPlusMirth_2);
			push_value(v12);
			run_value(v11);
			VAL v16 = pop_value();
			incref(v16);
			VAL v17 = mtw_mirth_mirth_PropState_1_PSReady(v16);
			VAL r18 = pop_resource();
			VAL v19 = mut_get(in_MutProp_1);
			VAL v20 = tup_replace(v19, 2, v17);
			mut_set(v20, in_MutProp_1);
			VAL v21 = mtw_std_maybe_Maybe_1_Some(v16);
			branch_Maybe_8 = v21;
			branch_ZPlusMirth_7 = r18;
		} break;
		case 2LL: { // PSComputing
			VAL v22 = MKI64(0LL /* None */);
			branch_Maybe_8 = v22;
			branch_ZPlusMirth_7 = in_ZPlusMirth_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Maybe_8;
}
static VAL mw_mirth_mirth_Prop_1_forceZBang (void* in_MutProp_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5;
	VAL v6 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(in_MutProp_1, in_ZPlusMirth_2, &v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_8 = v9;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "Recursive prop detected!", 24);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v10), v5);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_z_x1_8;
}
static VAL mw_mirth_def_Def_packageZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 2LL: { // DefPackage
			uint64_t v4 = mtp_mirth_def_Def_DefPackage(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_moduleZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 1LL: { // DefModule
			uint64_t v4 = mtp_mirth_def_Def_DefModule(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_aliasZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 0LL: { // DefAlias
			uint64_t v4 = mtp_mirth_def_Def_DefAlias(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_dataZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 3LL: { // DefData
			uint64_t v4 = mtp_mirth_def_Def_DefData(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_tableZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 4LL: { // DefTable
			uint64_t v4 = mtp_mirth_def_Def_DefTable(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_typedefZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 5LL: { // DefType
			uint64_t v4 = mtp_mirth_def_Def_DefType(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_tagZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 6LL: { // DefTag
			uint64_t v4 = mtp_mirth_def_Def_DefTag(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_primZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 7LL: { // DefPrim
			int64_t v4 = mtp_mirth_def_Def_DefPrim(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKI64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_wordZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 8LL: { // DefWord
			uint64_t v4 = mtp_mirth_def_Def_DefWord(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_bufferZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 9LL: { // DefBuffer
			uint64_t v4 = mtp_mirth_def_Def_DefBuffer(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_variableZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 10LL: { // DefVariable
			uint64_t v4 = mtp_mirth_def_Def_DefVariable(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_externalZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 11LL: { // DefExternal
			uint64_t v4 = mtp_mirth_def_Def_DefExternal(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_def_Def_fieldZAsk (VAL in_Def_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Def_1)) {
		case 12LL: { // DefField
			uint64_t v4 = mtp_mirth_def_Def_DefField(in_Def_1);
			VAL v5 = mtw_std_maybe_Maybe_1_Some(MKU64(v4));
			branch_Maybe_3 = v5;
		} break;
		default: {
			decref(in_Def_1);
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
	}
	return branch_Maybe_3;
}
static int64_t mw_mirth_def_Def_ZEqualZEqual (VAL in_Def_1, VAL in_Def_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // DefAlias
			uint64_t v5 = mtp_mirth_def_Def_DefAlias(in_Def_2);
			VAL v6 = mtw_std_maybe_Maybe_1_Some(MKU64(v5));
			VAL v7 = mw_mirth_def_Def_aliasZAsk(in_Def_1);
			int64_t branch_Bool_8;
			switch (get_data_tag(v7)) {
				case 0LL: { // None
					int64_t v9 = get_data_tag(v6);
					decref(v6);
					int64_t v10 = 0LL;
					bool v11 = (v9 == v10);
					branch_Bool_8 = ((int64_t)v11);
				} break;
				case 1LL: { // Some
					VAL v12 = mtp_std_maybe_Maybe_1_Some(v7);
					int64_t branch_Bool_13;
					switch (get_data_tag(v6)) {
						case 1LL: { // Some
							VAL v14 = mtp_std_maybe_Maybe_1_Some(v6);
							int64_t v15 = mw_mirth_alias_Alias_ZEqualZEqual(value_u64(v14), value_u64(v12));
							branch_Bool_13 = v15;
						} break;
						case 0LL: { // None
							decref(v12);
							int64_t v16 = 0LL /* False */;
							branch_Bool_13 = v16;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_8 = branch_Bool_13;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_8;
		} break;
		case 2LL: { // DefPackage
			uint64_t v17 = mtp_mirth_def_Def_DefPackage(in_Def_2);
			VAL v18 = mtw_std_maybe_Maybe_1_Some(MKU64(v17));
			VAL v19 = mw_mirth_def_Def_packageZAsk(in_Def_1);
			int64_t branch_Bool_20;
			switch (get_data_tag(v19)) {
				case 0LL: { // None
					int64_t v21 = get_data_tag(v18);
					decref(v18);
					int64_t v22 = 0LL;
					bool v23 = (v21 == v22);
					branch_Bool_20 = ((int64_t)v23);
				} break;
				case 1LL: { // Some
					VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
					int64_t branch_Bool_25;
					switch (get_data_tag(v18)) {
						case 1LL: { // Some
							VAL v26 = mtp_std_maybe_Maybe_1_Some(v18);
							int64_t v27 = mw_mirth_package_Package_ZEqualZEqual(value_u64(v26), value_u64(v24));
							branch_Bool_25 = v27;
						} break;
						case 0LL: { // None
							decref(v24);
							int64_t v28 = 0LL /* False */;
							branch_Bool_25 = v28;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_20 = branch_Bool_25;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_20;
		} break;
		case 1LL: { // DefModule
			uint64_t v29 = mtp_mirth_def_Def_DefModule(in_Def_2);
			VAL v30 = mtw_std_maybe_Maybe_1_Some(MKU64(v29));
			VAL v31 = mw_mirth_def_Def_moduleZAsk(in_Def_1);
			int64_t branch_Bool_32;
			switch (get_data_tag(v31)) {
				case 0LL: { // None
					int64_t v33 = get_data_tag(v30);
					decref(v30);
					int64_t v34 = 0LL;
					bool v35 = (v33 == v34);
					branch_Bool_32 = ((int64_t)v35);
				} break;
				case 1LL: { // Some
					VAL v36 = mtp_std_maybe_Maybe_1_Some(v31);
					int64_t branch_Bool_37;
					switch (get_data_tag(v30)) {
						case 1LL: { // Some
							VAL v38 = mtp_std_maybe_Maybe_1_Some(v30);
							int64_t v39 = mw_mirth_module_Module_ZEqualZEqual(value_u64(v38), value_u64(v36));
							branch_Bool_37 = v39;
						} break;
						case 0LL: { // None
							decref(v36);
							int64_t v40 = 0LL /* False */;
							branch_Bool_37 = v40;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_32 = branch_Bool_37;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_32;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v41 = mtp_mirth_def_Def_DefBuffer(in_Def_2);
			VAL v42 = mtw_std_maybe_Maybe_1_Some(MKU64(v41));
			VAL v43 = mw_mirth_def_Def_bufferZAsk(in_Def_1);
			int64_t branch_Bool_44;
			switch (get_data_tag(v43)) {
				case 0LL: { // None
					int64_t v45 = get_data_tag(v42);
					decref(v42);
					int64_t v46 = 0LL;
					bool v47 = (v45 == v46);
					branch_Bool_44 = ((int64_t)v47);
				} break;
				case 1LL: { // Some
					VAL v48 = mtp_std_maybe_Maybe_1_Some(v43);
					int64_t branch_Bool_49;
					switch (get_data_tag(v42)) {
						case 1LL: { // Some
							VAL v50 = mtp_std_maybe_Maybe_1_Some(v42);
							int64_t v51 = mw_mirth_buffer_Buffer_ZEqualZEqual(value_u64(v50), value_u64(v48));
							branch_Bool_49 = v51;
						} break;
						case 0LL: { // None
							decref(v48);
							int64_t v52 = 0LL /* False */;
							branch_Bool_49 = v52;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_44 = branch_Bool_49;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_44;
		} break;
		case 7LL: { // DefPrim
			int64_t v53 = mtp_mirth_def_Def_DefPrim(in_Def_2);
			VAL v54 = mtw_std_maybe_Maybe_1_Some(MKI64(v53));
			VAL v55 = mw_mirth_def_Def_primZAsk(in_Def_1);
			int64_t branch_Bool_56;
			switch (get_data_tag(v55)) {
				case 0LL: { // None
					int64_t v57 = get_data_tag(v54);
					decref(v54);
					int64_t v58 = 0LL;
					bool v59 = (v57 == v58);
					branch_Bool_56 = ((int64_t)v59);
				} break;
				case 1LL: { // Some
					VAL v60 = mtp_std_maybe_Maybe_1_Some(v55);
					int64_t branch_Bool_61;
					switch (get_data_tag(v54)) {
						case 1LL: { // Some
							VAL v62 = mtp_std_maybe_Maybe_1_Some(v54);
							int64_t v63 = mw_mirth_prim_Prim_ZEqualZEqual(value_i64(v62), value_i64(v60));
							branch_Bool_61 = v63;
						} break;
						case 0LL: { // None
							decref(v60);
							int64_t v64 = 0LL /* False */;
							branch_Bool_61 = v64;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_56 = branch_Bool_61;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_56;
		} break;
		case 3LL: { // DefData
			uint64_t v65 = mtp_mirth_def_Def_DefData(in_Def_2);
			VAL v66 = mtw_std_maybe_Maybe_1_Some(MKU64(v65));
			VAL v67 = mw_mirth_def_Def_dataZAsk(in_Def_1);
			int64_t branch_Bool_68;
			switch (get_data_tag(v67)) {
				case 0LL: { // None
					int64_t v69 = get_data_tag(v66);
					decref(v66);
					int64_t v70 = 0LL;
					bool v71 = (v69 == v70);
					branch_Bool_68 = ((int64_t)v71);
				} break;
				case 1LL: { // Some
					VAL v72 = mtp_std_maybe_Maybe_1_Some(v67);
					int64_t branch_Bool_73;
					switch (get_data_tag(v66)) {
						case 1LL: { // Some
							VAL v74 = mtp_std_maybe_Maybe_1_Some(v66);
							int64_t v75 = mw_mirth_data_Data_ZEqualZEqual(value_u64(v74), value_u64(v72));
							branch_Bool_73 = v75;
						} break;
						case 0LL: { // None
							decref(v72);
							int64_t v76 = 0LL /* False */;
							branch_Bool_73 = v76;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_68 = branch_Bool_73;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_68;
		} break;
		case 4LL: { // DefTable
			uint64_t v77 = mtp_mirth_def_Def_DefTable(in_Def_2);
			VAL v78 = mtw_std_maybe_Maybe_1_Some(MKU64(v77));
			VAL v79 = mw_mirth_def_Def_tableZAsk(in_Def_1);
			int64_t branch_Bool_80;
			switch (get_data_tag(v79)) {
				case 0LL: { // None
					int64_t v81 = get_data_tag(v78);
					decref(v78);
					int64_t v82 = 0LL;
					bool v83 = (v81 == v82);
					branch_Bool_80 = ((int64_t)v83);
				} break;
				case 1LL: { // Some
					VAL v84 = mtp_std_maybe_Maybe_1_Some(v79);
					int64_t branch_Bool_85;
					switch (get_data_tag(v78)) {
						case 1LL: { // Some
							VAL v86 = mtp_std_maybe_Maybe_1_Some(v78);
							int64_t v87 = mw_mirth_table_Table_ZEqualZEqual(value_u64(v86), value_u64(v84));
							branch_Bool_85 = v87;
						} break;
						case 0LL: { // None
							decref(v84);
							int64_t v88 = 0LL /* False */;
							branch_Bool_85 = v88;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_80 = branch_Bool_85;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_80;
		} break;
		case 5LL: { // DefType
			uint64_t v89 = mtp_mirth_def_Def_DefType(in_Def_2);
			VAL v90 = mtw_std_maybe_Maybe_1_Some(MKU64(v89));
			VAL v91 = mw_mirth_def_Def_typedefZAsk(in_Def_1);
			int64_t branch_Bool_92;
			switch (get_data_tag(v91)) {
				case 0LL: { // None
					int64_t v93 = get_data_tag(v90);
					decref(v90);
					int64_t v94 = 0LL;
					bool v95 = (v93 == v94);
					branch_Bool_92 = ((int64_t)v95);
				} break;
				case 1LL: { // Some
					VAL v96 = mtp_std_maybe_Maybe_1_Some(v91);
					int64_t branch_Bool_97;
					switch (get_data_tag(v90)) {
						case 1LL: { // Some
							VAL v98 = mtp_std_maybe_Maybe_1_Some(v90);
							int64_t v99 = mw_mirth_typedef_TypeDef_ZEqualZEqual(value_u64(v98), value_u64(v96));
							branch_Bool_97 = v99;
						} break;
						case 0LL: { // None
							decref(v96);
							int64_t v100 = 0LL /* False */;
							branch_Bool_97 = v100;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_92 = branch_Bool_97;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_92;
		} break;
		case 11LL: { // DefExternal
			uint64_t v101 = mtp_mirth_def_Def_DefExternal(in_Def_2);
			VAL v102 = mtw_std_maybe_Maybe_1_Some(MKU64(v101));
			VAL v103 = mw_mirth_def_Def_externalZAsk(in_Def_1);
			int64_t branch_Bool_104;
			switch (get_data_tag(v103)) {
				case 0LL: { // None
					int64_t v105 = get_data_tag(v102);
					decref(v102);
					int64_t v106 = 0LL;
					bool v107 = (v105 == v106);
					branch_Bool_104 = ((int64_t)v107);
				} break;
				case 1LL: { // Some
					VAL v108 = mtp_std_maybe_Maybe_1_Some(v103);
					int64_t branch_Bool_109;
					switch (get_data_tag(v102)) {
						case 1LL: { // Some
							VAL v110 = mtp_std_maybe_Maybe_1_Some(v102);
							int64_t v111 = mw_mirth_external_External_ZEqualZEqual(value_u64(v110), value_u64(v108));
							branch_Bool_109 = v111;
						} break;
						case 0LL: { // None
							decref(v108);
							int64_t v112 = 0LL /* False */;
							branch_Bool_109 = v112;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_104 = branch_Bool_109;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_104;
		} break;
		case 8LL: { // DefWord
			uint64_t v113 = mtp_mirth_def_Def_DefWord(in_Def_2);
			VAL v114 = mtw_std_maybe_Maybe_1_Some(MKU64(v113));
			VAL v115 = mw_mirth_def_Def_wordZAsk(in_Def_1);
			int64_t branch_Bool_116;
			switch (get_data_tag(v115)) {
				case 0LL: { // None
					int64_t v117 = get_data_tag(v114);
					decref(v114);
					int64_t v118 = 0LL;
					bool v119 = (v117 == v118);
					branch_Bool_116 = ((int64_t)v119);
				} break;
				case 1LL: { // Some
					VAL v120 = mtp_std_maybe_Maybe_1_Some(v115);
					int64_t branch_Bool_121;
					switch (get_data_tag(v114)) {
						case 1LL: { // Some
							VAL v122 = mtp_std_maybe_Maybe_1_Some(v114);
							int64_t v123 = mw_mirth_word_Word_ZEqualZEqual(value_u64(v122), value_u64(v120));
							branch_Bool_121 = v123;
						} break;
						case 0LL: { // None
							decref(v120);
							int64_t v124 = 0LL /* False */;
							branch_Bool_121 = v124;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_116 = branch_Bool_121;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_116;
		} break;
		case 12LL: { // DefField
			uint64_t v125 = mtp_mirth_def_Def_DefField(in_Def_2);
			VAL v126 = mtw_std_maybe_Maybe_1_Some(MKU64(v125));
			VAL v127 = mw_mirth_def_Def_fieldZAsk(in_Def_1);
			int64_t branch_Bool_128;
			switch (get_data_tag(v127)) {
				case 0LL: { // None
					int64_t v129 = get_data_tag(v126);
					decref(v126);
					int64_t v130 = 0LL;
					bool v131 = (v129 == v130);
					branch_Bool_128 = ((int64_t)v131);
				} break;
				case 1LL: { // Some
					VAL v132 = mtp_std_maybe_Maybe_1_Some(v127);
					int64_t branch_Bool_133;
					switch (get_data_tag(v126)) {
						case 1LL: { // Some
							VAL v134 = mtp_std_maybe_Maybe_1_Some(v126);
							int64_t v135 = mw_mirth_table_Field_ZEqualZEqual(value_u64(v134), value_u64(v132));
							branch_Bool_133 = v135;
						} break;
						case 0LL: { // None
							decref(v132);
							int64_t v136 = 0LL /* False */;
							branch_Bool_133 = v136;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_128 = branch_Bool_133;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_128;
		} break;
		case 6LL: { // DefTag
			uint64_t v137 = mtp_mirth_def_Def_DefTag(in_Def_2);
			VAL v138 = mtw_std_maybe_Maybe_1_Some(MKU64(v137));
			VAL v139 = mw_mirth_def_Def_tagZAsk(in_Def_1);
			int64_t branch_Bool_140;
			switch (get_data_tag(v139)) {
				case 0LL: { // None
					int64_t v141 = get_data_tag(v138);
					decref(v138);
					int64_t v142 = 0LL;
					bool v143 = (v141 == v142);
					branch_Bool_140 = ((int64_t)v143);
				} break;
				case 1LL: { // Some
					VAL v144 = mtp_std_maybe_Maybe_1_Some(v139);
					int64_t branch_Bool_145;
					switch (get_data_tag(v138)) {
						case 1LL: { // Some
							VAL v146 = mtp_std_maybe_Maybe_1_Some(v138);
							int64_t v147 = mw_mirth_data_Tag_ZEqualZEqual(value_u64(v146), value_u64(v144));
							branch_Bool_145 = v147;
						} break;
						case 0LL: { // None
							decref(v144);
							int64_t v148 = 0LL /* False */;
							branch_Bool_145 = v148;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_140 = branch_Bool_145;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_140;
		} break;
		case 10LL: { // DefVariable
			uint64_t v149 = mtp_mirth_def_Def_DefVariable(in_Def_2);
			VAL v150 = mtw_std_maybe_Maybe_1_Some(MKU64(v149));
			VAL v151 = mw_mirth_def_Def_variableZAsk(in_Def_1);
			int64_t branch_Bool_152;
			switch (get_data_tag(v151)) {
				case 0LL: { // None
					int64_t v153 = get_data_tag(v150);
					decref(v150);
					int64_t v154 = 0LL;
					bool v155 = (v153 == v154);
					branch_Bool_152 = ((int64_t)v155);
				} break;
				case 1LL: { // Some
					VAL v156 = mtp_std_maybe_Maybe_1_Some(v151);
					int64_t branch_Bool_157;
					switch (get_data_tag(v150)) {
						case 1LL: { // Some
							VAL v158 = mtp_std_maybe_Maybe_1_Some(v150);
							int64_t v159 = mw_mirth_variable_Variable_ZEqualZEqual(value_u64(v158), value_u64(v156));
							branch_Bool_157 = v159;
						} break;
						case 0LL: { // None
							decref(v156);
							int64_t v160 = 0LL /* False */;
							branch_Bool_157 = v160;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_152 = branch_Bool_157;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_152;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static void mw_mirth_def_Def_typecheckZBang (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_4;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // DefAlias
			uint64_t v5 = mtp_mirth_def_Def_DefAlias(in_Def_2);
			VAL v6;
			VAL v7 = mw_mirth_alias_Alias_target(in_ZPlusMirth_1, v5, &v6);
			VAL v8;
			mw_mirth_def_Def_typecheckZBang(v6, v7, &v8);
			branch_ZPlusMirth_4 = v8;
		} break;
		case 2LL: { // DefPackage
			uint64_t v9 = mtp_mirth_def_Def_DefPackage(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DefModule
			uint64_t v10 = mtp_mirth_def_Def_DefModule(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v11 = mtp_mirth_def_Def_DefBuffer(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // DefPrim
			int64_t v12 = mtp_mirth_def_Def_DefPrim(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // DefData
			uint64_t v13 = mtp_mirth_def_Def_DefData(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // DefTable
			uint64_t v14 = mtp_mirth_def_Def_DefTable(in_Def_2);
			branch_ZPlusMirth_4 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // DefType
			uint64_t v15 = mtp_mirth_def_Def_DefType(in_Def_2);
			VAL v16;
			VAL v17 = mw_mirth_typedef_TypeDef_target(in_ZPlusMirth_1, v15, &v16);
			decref(v17);
			branch_ZPlusMirth_4 = v16;
		} break;
		case 11LL: { // DefExternal
			uint64_t v18 = mtp_mirth_def_Def_DefExternal(in_Def_2);
			VAL v19;
			VAL v20 = mw_mirth_external_External_type(in_ZPlusMirth_1, v18, &v19);
			decref(v20);
			branch_ZPlusMirth_4 = v19;
		} break;
		case 8LL: { // DefWord
			uint64_t v21 = mtp_mirth_def_Def_DefWord(in_Def_2);
			VAL v22;
			VAL v23 = mw_mirth_word_Word_type(v21, in_ZPlusMirth_1, &v22);
			decref(v23);
			VAL v24;
			VAL v25 = mw_mirth_word_Word_arrow(v21, v22, &v24);
			decref(v25);
			branch_ZPlusMirth_4 = v24;
		} break;
		case 12LL: { // DefField
			uint64_t v26 = mtp_mirth_def_Def_DefField(in_Def_2);
			VAL v27;
			VAL v28 = mw_mirth_table_Field_type(in_ZPlusMirth_1, v26, &v27);
			decref(v28);
			branch_ZPlusMirth_4 = v27;
		} break;
		case 6LL: { // DefTag
			uint64_t v29 = mtp_mirth_def_Def_DefTag(in_Def_2);
			VAL v30;
			VAL v31 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, v29, &v30);
			decref(v31);
			branch_ZPlusMirth_4 = v30;
		} break;
		case 10LL: { // DefVariable
			uint64_t v32 = mtp_mirth_def_Def_DefVariable(in_Def_2);
			VAL v33;
			VAL v34 = mw_mirth_variable_Variable_type(in_ZPlusMirth_1, v32, &v33);
			decref(v34);
			branch_ZPlusMirth_4 = v33;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_4;
}
static int64_t mw_mirth_def_Def_callableZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	int64_t branch_Bool_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // DefAlias
			uint64_t v7 = mtp_mirth_def_Def_DefAlias(in_Def_2);
			void* v8 = mfld_mirth_alias_Alias_ZTildetarget(v7);
			VAL v9;
			VAL v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v8, in_ZPlusMirth_1, &v9);
			VAL branch_ZPlusMirth_11;
			int64_t branch_Bool_12;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					VAL v14;
					int64_t v15 = mw_mirth_def_Def_callableZAsk(v9, v13, &v14);
					branch_Bool_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					int64_t v16 = 0LL /* False */;
					branch_Bool_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_6 = branch_Bool_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // DefPackage
			uint64_t v17 = mtp_mirth_def_Def_DefPackage(in_Def_2);
			int64_t v18 = 0LL /* False */;
			branch_Bool_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DefModule
			uint64_t v19 = mtp_mirth_def_Def_DefModule(in_Def_2);
			int64_t v20 = 0LL /* False */;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v21 = mtp_mirth_def_Def_DefBuffer(in_Def_2);
			int64_t v22 = 1LL /* True */;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // DefPrim
			int64_t v23 = mtp_mirth_def_Def_DefPrim(in_Def_2);
			int64_t v24 = 1LL /* True */;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // DefData
			uint64_t v25 = mtp_mirth_def_Def_DefData(in_Def_2);
			int64_t v26 = 0LL /* False */;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // DefTable
			uint64_t v27 = mtp_mirth_def_Def_DefTable(in_Def_2);
			int64_t v28 = 0LL /* False */;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // DefType
			uint64_t v29 = mtp_mirth_def_Def_DefType(in_Def_2);
			int64_t v30 = 0LL /* False */;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // DefExternal
			uint64_t v31 = mtp_mirth_def_Def_DefExternal(in_Def_2);
			int64_t v32 = 1LL /* True */;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DefWord
			uint64_t v33 = mtp_mirth_def_Def_DefWord(in_Def_2);
			int64_t v34 = 1LL /* True */;
			branch_Bool_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // DefField
			uint64_t v35 = mtp_mirth_def_Def_DefField(in_Def_2);
			int64_t v36 = 1LL /* True */;
			branch_Bool_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // DefTag
			uint64_t v37 = mtp_mirth_def_Def_DefTag(in_Def_2);
			int64_t v38 = 1LL /* True */;
			branch_Bool_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // DefVariable
			uint64_t v39 = mtp_mirth_def_Def_DefVariable(in_Def_2);
			int64_t v40 = 1LL /* True */;
			branch_Bool_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static int64_t mw_mirth_def_Def_definesZ_aZ_typeZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	int64_t branch_Bool_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // DefAlias
			uint64_t v7 = mtp_mirth_def_Def_DefAlias(in_Def_2);
			void* v8 = mfld_mirth_alias_Alias_ZTildetarget(v7);
			VAL v9;
			VAL v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v8, in_ZPlusMirth_1, &v9);
			VAL branch_ZPlusMirth_11;
			int64_t branch_Bool_12;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					VAL v14;
					int64_t v15 = mw_mirth_def_Def_definesZ_aZ_typeZAsk(v9, v13, &v14);
					branch_Bool_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					int64_t v16 = 0LL /* False */;
					branch_Bool_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_6 = branch_Bool_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // DefPackage
			uint64_t v17 = mtp_mirth_def_Def_DefPackage(in_Def_2);
			int64_t v18 = 0LL /* False */;
			branch_Bool_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DefModule
			uint64_t v19 = mtp_mirth_def_Def_DefModule(in_Def_2);
			int64_t v20 = 0LL /* False */;
			branch_Bool_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v21 = mtp_mirth_def_Def_DefBuffer(in_Def_2);
			int64_t v22 = 0LL /* False */;
			branch_Bool_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // DefPrim
			int64_t v23 = mtp_mirth_def_Def_DefPrim(in_Def_2);
			int64_t v24 = 0LL /* False */;
			branch_Bool_6 = v24;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // DefData
			uint64_t v25 = mtp_mirth_def_Def_DefData(in_Def_2);
			int64_t v26 = 1LL /* True */;
			branch_Bool_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // DefTable
			uint64_t v27 = mtp_mirth_def_Def_DefTable(in_Def_2);
			int64_t v28 = 1LL /* True */;
			branch_Bool_6 = v28;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // DefType
			uint64_t v29 = mtp_mirth_def_Def_DefType(in_Def_2);
			int64_t v30 = 1LL /* True */;
			branch_Bool_6 = v30;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // DefExternal
			uint64_t v31 = mtp_mirth_def_Def_DefExternal(in_Def_2);
			int64_t v32 = 0LL /* False */;
			branch_Bool_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DefWord
			uint64_t v33 = mtp_mirth_def_Def_DefWord(in_Def_2);
			int64_t v34 = 0LL /* False */;
			branch_Bool_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // DefField
			uint64_t v35 = mtp_mirth_def_Def_DefField(in_Def_2);
			int64_t v36 = 0LL /* False */;
			branch_Bool_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // DefTag
			uint64_t v37 = mtp_mirth_def_Def_DefTag(in_Def_2);
			int64_t v38 = 0LL /* False */;
			branch_Bool_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // DefVariable
			uint64_t v39 = mtp_mirth_def_Def_DefVariable(in_Def_2);
			int64_t v40 = 0LL /* False */;
			branch_Bool_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Bool_6;
}
static VAL mw_mirth_def_Def_exposedZ_tyconZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // DefAlias
			uint64_t v7 = mtp_mirth_def_Def_DefAlias(in_Def_2);
			void* v8 = mfld_mirth_alias_Alias_ZTildetarget(v7);
			VAL v9;
			VAL v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v8, in_ZPlusMirth_1, &v9);
			VAL branch_ZPlusMirth_11;
			VAL branch_Maybe_12;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v10);
					VAL v14;
					VAL v15 = mw_mirth_def_Def_exposedZ_tyconZAsk(v9, v13, &v14);
					branch_Maybe_12 = v15;
					branch_ZPlusMirth_11 = v14;
				} break;
				case 0LL: { // None
					VAL v16 = MKI64(0LL /* None */);
					branch_Maybe_12 = v16;
					branch_ZPlusMirth_11 = v9;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_12;
			branch_ZPlusMirth_5 = branch_ZPlusMirth_11;
		} break;
		case 2LL: { // DefPackage
			uint64_t v17 = mtp_mirth_def_Def_DefPackage(in_Def_2);
			VAL v18 = MKI64(0LL /* None */);
			branch_Maybe_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DefModule
			uint64_t v19 = mtp_mirth_def_Def_DefModule(in_Def_2);
			VAL v20 = MKI64(0LL /* None */);
			branch_Maybe_6 = v20;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // DefData
			uint64_t v21 = mtp_mirth_def_Def_DefData(in_Def_2);
			VAL v22 = mtw_mirth_tycon_Tycon_TYCONz_DATA(v21);
			VAL v23 = mtw_std_maybe_Maybe_1_Some(v22);
			branch_Maybe_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // DefTable
			uint64_t v24 = mtp_mirth_def_Def_DefTable(in_Def_2);
			VAL v25 = mtw_mirth_tycon_Tycon_TYCONz_TABLE(v24);
			VAL v26 = mtw_std_maybe_Maybe_1_Some(v25);
			branch_Maybe_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // DefType
			uint64_t v27 = mtp_mirth_def_Def_DefType(in_Def_2);
			VAL v28;
			VAL v29 = mw_mirth_typedef_TypeDef_target(in_ZPlusMirth_1, v27, &v28);
			VAL v30 = mw_mirth_type_Type_tyconZAsk(v29);
			branch_Maybe_6 = v30;
			branch_ZPlusMirth_5 = v28;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v31 = mtp_mirth_def_Def_DefBuffer(in_Def_2);
			VAL v32 = MKI64(0LL /* None */);
			branch_Maybe_6 = v32;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // DefPrim
			int64_t v33 = mtp_mirth_def_Def_DefPrim(in_Def_2);
			VAL v34 = MKI64(0LL /* None */);
			branch_Maybe_6 = v34;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // DefExternal
			uint64_t v35 = mtp_mirth_def_Def_DefExternal(in_Def_2);
			VAL v36 = MKI64(0LL /* None */);
			branch_Maybe_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DefWord
			uint64_t v37 = mtp_mirth_def_Def_DefWord(in_Def_2);
			VAL v38 = MKI64(0LL /* None */);
			branch_Maybe_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // DefField
			uint64_t v39 = mtp_mirth_def_Def_DefField(in_Def_2);
			VAL v40 = MKI64(0LL /* None */);
			branch_Maybe_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // DefTag
			uint64_t v41 = mtp_mirth_def_Def_DefTag(in_Def_2);
			VAL v42 = MKI64(0LL /* None */);
			branch_Maybe_6 = v42;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // DefVariable
			uint64_t v43 = mtp_mirth_def_Def_DefVariable(in_Def_2);
			VAL v44 = MKI64(0LL /* None */);
			branch_Maybe_6 = v44;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static int64_t mw_mirth_def_Def_sameZ_resolvedZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL in_Def_3, VAL *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7 = mw_mirth_def_Def_resolve(in_ZPlusMirth_1, in_Def_2, &v6);
	VAL v8;
	VAL v9 = mw_mirth_def_Def_resolve(v6, in_Def_3, &v8);
	int64_t v10 = mw_mirth_def_Def_ZEqualZEqual(v7, v9);
	*out_ZPlusMirth_4 = v8;
	return v10;
}
static VAL mw_mirth_def_Def_resolve (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_ZPlusMirth_1;
	VAL v7 = in_Def_2;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		incref(v11);
		VAL v13 = mw_mirth_def_Def_aliasZAsk(v11);
		VAL branch_ZPlusMirth_14;
		VAL branch_Def_15;
		int64_t branch_Bool_16;
		switch (get_data_tag(v13)) {
			case 1LL: { // Some
				VAL v17 = mtp_std_maybe_Maybe_1_Some(v13);
				decref(v11);
				VAL v18;
				VAL v19 = mw_mirth_alias_Alias_target(v10, value_u64(v17), &v18);
				int64_t v20 = 1LL /* True */;
				branch_Bool_16 = v20;
				branch_Def_15 = v19;
				branch_ZPlusMirth_14 = v18;
			} break;
			case 0LL: { // None
				int64_t v21 = 0LL /* False */;
				branch_Bool_16 = v21;
				branch_Def_15 = v11;
				branch_ZPlusMirth_14 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_16;
		v8 = branch_Bool_16;
		v7 = branch_Def_15;
		v6 = branch_ZPlusMirth_14;
	}
	*out_ZPlusMirth_3 = v6;
	return v7;
}
static uint64_t mw_mirth_def_Def_name (VAL in_Def_1) {
	uint64_t branch_Name_3;
	switch (get_data_tag(in_Def_1)) {
		case 0LL: { // DefAlias
			uint64_t v4 = mtp_mirth_def_Def_DefAlias(in_Def_1);
			uint64_t v5 = mw_mirth_alias_Alias_name(v4);
			branch_Name_3 = v5;
		} break;
		case 2LL: { // DefPackage
			uint64_t v6 = mtp_mirth_def_Def_DefPackage(in_Def_1);
			uint64_t v7 = mw_mirth_package_Package_name(v6);
			branch_Name_3 = v7;
		} break;
		case 1LL: { // DefModule
			uint64_t v8 = mtp_mirth_def_Def_DefModule(in_Def_1);
			uint64_t v9 = mw_mirth_module_Module_name(v8);
			branch_Name_3 = v9;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v10 = mtp_mirth_def_Def_DefBuffer(in_Def_1);
			uint64_t v11 = mw_mirth_buffer_Buffer_name(v10);
			branch_Name_3 = v11;
		} break;
		case 7LL: { // DefPrim
			int64_t v12 = mtp_mirth_def_Def_DefPrim(in_Def_1);
			uint64_t v13 = mw_mirth_prim_Prim_name(v12);
			branch_Name_3 = v13;
		} break;
		case 3LL: { // DefData
			uint64_t v14 = mtp_mirth_def_Def_DefData(in_Def_1);
			uint64_t v15 = mw_mirth_data_Data_name(v14);
			branch_Name_3 = v15;
		} break;
		case 4LL: { // DefTable
			uint64_t v16 = mtp_mirth_def_Def_DefTable(in_Def_1);
			uint64_t v17 = mw_mirth_table_Table_name(v16);
			branch_Name_3 = v17;
		} break;
		case 5LL: { // DefType
			uint64_t v18 = mtp_mirth_def_Def_DefType(in_Def_1);
			uint64_t v19 = mw_mirth_typedef_TypeDef_name(v18);
			branch_Name_3 = v19;
		} break;
		case 11LL: { // DefExternal
			uint64_t v20 = mtp_mirth_def_Def_DefExternal(in_Def_1);
			uint64_t v21 = mw_mirth_external_External_name(v20);
			branch_Name_3 = v21;
		} break;
		case 8LL: { // DefWord
			uint64_t v22 = mtp_mirth_def_Def_DefWord(in_Def_1);
			uint64_t v23 = mw_mirth_word_Word_name(v22);
			branch_Name_3 = v23;
		} break;
		case 12LL: { // DefField
			uint64_t v24 = mtp_mirth_def_Def_DefField(in_Def_1);
			uint64_t v25 = mw_mirth_table_Field_name(v24);
			branch_Name_3 = v25;
		} break;
		case 6LL: { // DefTag
			uint64_t v26 = mtp_mirth_def_Def_DefTag(in_Def_1);
			uint64_t v27 = mw_mirth_data_Tag_name(v26);
			branch_Name_3 = v27;
		} break;
		case 10LL: { // DefVariable
			uint64_t v28 = mtp_mirth_def_Def_DefVariable(in_Def_1);
			uint64_t v29 = mw_mirth_variable_Variable_name(v28);
			branch_Name_3 = v29;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Name_3;
}
static int64_t mw_mirth_def_Def_arity (VAL in_Def_1) {
	int64_t branch_Int_3;
	switch (get_data_tag(in_Def_1)) {
		case 0LL: { // DefAlias
			uint64_t v4 = mtp_mirth_def_Def_DefAlias(in_Def_1);
			int64_t v5 = mw_mirth_alias_Alias_arity(v4);
			branch_Int_3 = v5;
		} break;
		case 2LL: { // DefPackage
			uint64_t v6 = mtp_mirth_def_Def_DefPackage(in_Def_1);
			int64_t v7 = 0LL;
			branch_Int_3 = v7;
		} break;
		case 1LL: { // DefModule
			uint64_t v8 = mtp_mirth_def_Def_DefModule(in_Def_1);
			int64_t v9 = 0LL;
			branch_Int_3 = v9;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v10 = mtp_mirth_def_Def_DefBuffer(in_Def_1);
			int64_t v11 = 0LL;
			branch_Int_3 = v11;
		} break;
		case 7LL: { // DefPrim
			int64_t v12 = mtp_mirth_def_Def_DefPrim(in_Def_1);
			int64_t v13 = mw_mirth_prim_Prim_arity(v12);
			branch_Int_3 = v13;
		} break;
		case 3LL: { // DefData
			uint64_t v14 = mtp_mirth_def_Def_DefData(in_Def_1);
			int64_t v15 = mw_mirth_data_Data_arity(v14);
			branch_Int_3 = v15;
		} break;
		case 4LL: { // DefTable
			uint64_t v16 = mtp_mirth_def_Def_DefTable(in_Def_1);
			int64_t v17 = 0LL;
			branch_Int_3 = v17;
		} break;
		case 5LL: { // DefType
			uint64_t v18 = mtp_mirth_def_Def_DefType(in_Def_1);
			int64_t v19 = 0LL;
			branch_Int_3 = v19;
		} break;
		case 11LL: { // DefExternal
			uint64_t v20 = mtp_mirth_def_Def_DefExternal(in_Def_1);
			int64_t v21 = mw_mirth_external_External_arity(v20);
			branch_Int_3 = v21;
		} break;
		case 8LL: { // DefWord
			uint64_t v22 = mtp_mirth_def_Def_DefWord(in_Def_1);
			int64_t v23 = mw_mirth_word_Word_arity(v22);
			branch_Int_3 = v23;
		} break;
		case 12LL: { // DefField
			uint64_t v24 = mtp_mirth_def_Def_DefField(in_Def_1);
			int64_t v25 = 0LL;
			branch_Int_3 = v25;
		} break;
		case 6LL: { // DefTag
			uint64_t v26 = mtp_mirth_def_Def_DefTag(in_Def_1);
			int64_t v27 = 0LL;
			branch_Int_3 = v27;
		} break;
		case 10LL: { // DefVariable
			uint64_t v28 = mtp_mirth_def_Def_DefVariable(in_Def_1);
			int64_t v29 = 0LL;
			branch_Int_3 = v29;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Int_3;
}
static VAL mw_mirth_def_Def_qnameZ_soft (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // DefAlias
			uint64_t v7 = mtp_mirth_def_Def_DefAlias(in_Def_2);
			VAL v8 = mw_mirth_alias_Alias_qnameZ_soft(v7);
			branch_Maybe_6 = v8;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // DefPackage
			uint64_t v9 = mtp_mirth_def_Def_DefPackage(in_Def_2);
			VAL v10 = mw_mirth_package_Package_qname(v9);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(v10);
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DefModule
			uint64_t v12 = mtp_mirth_def_Def_DefModule(in_Def_2);
			VAL v13 = mw_mirth_module_Module_qname(v12);
			VAL v14 = mtw_std_maybe_Maybe_1_Some(v13);
			branch_Maybe_6 = v14;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v15 = mtp_mirth_def_Def_DefBuffer(in_Def_2);
			VAL v16 = mw_mirth_buffer_Buffer_qname(v15);
			VAL v17 = mtw_std_maybe_Maybe_1_Some(v16);
			branch_Maybe_6 = v17;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // DefPrim
			int64_t v18 = mtp_mirth_def_Def_DefPrim(in_Def_2);
			VAL v19;
			VAL v20 = mw_mirth_prim_Prim_qname(in_ZPlusMirth_1, v18, &v19);
			VAL v21 = mtw_std_maybe_Maybe_1_Some(v20);
			branch_Maybe_6 = v21;
			branch_ZPlusMirth_5 = v19;
		} break;
		case 3LL: { // DefData
			uint64_t v22 = mtp_mirth_def_Def_DefData(in_Def_2);
			VAL v23 = mw_mirth_data_Data_qnameZ_soft(v22);
			branch_Maybe_6 = v23;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // DefTable
			uint64_t v24 = mtp_mirth_def_Def_DefTable(in_Def_2);
			VAL v25 = mw_mirth_table_Table_qnameZ_soft(v24);
			branch_Maybe_6 = v25;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // DefType
			uint64_t v26 = mtp_mirth_def_Def_DefType(in_Def_2);
			VAL v27 = mw_mirth_typedef_TypeDef_qnameZ_soft(v26);
			branch_Maybe_6 = v27;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // DefExternal
			uint64_t v28 = mtp_mirth_def_Def_DefExternal(in_Def_2);
			VAL v29 = mw_mirth_external_External_qnameZ_soft(v28);
			branch_Maybe_6 = v29;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // DefWord
			uint64_t v30 = mtp_mirth_def_Def_DefWord(in_Def_2);
			VAL v31 = mw_mirth_word_Word_qnameZ_soft(v30);
			branch_Maybe_6 = v31;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // DefField
			uint64_t v32 = mtp_mirth_def_Def_DefField(in_Def_2);
			VAL v33 = mw_mirth_table_Field_qnameZ_soft(v32);
			branch_Maybe_6 = v33;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 6LL: { // DefTag
			uint64_t v34 = mtp_mirth_def_Def_DefTag(in_Def_2);
			VAL v35 = mw_mirth_data_Tag_qname(v34);
			VAL v36 = mtw_std_maybe_Maybe_1_Some(v35);
			branch_Maybe_6 = v36;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // DefVariable
			uint64_t v37 = mtp_mirth_def_Def_DefVariable(in_Def_2);
			VAL v38 = mw_mirth_variable_Variable_qname(v37);
			VAL v39 = mtw_std_maybe_Maybe_1_Some(v38);
			branch_Maybe_6 = v39;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_def_Def_qnameZ_hard (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_QName_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // DefAlias
			uint64_t v7 = mtp_mirth_def_Def_DefAlias(in_Def_2);
			VAL v8;
			VAL v9 = mw_mirth_alias_Alias_qnameZ_hard(in_ZPlusMirth_1, v7, &v8);
			branch_QName_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 2LL: { // DefPackage
			uint64_t v10 = mtp_mirth_def_Def_DefPackage(in_Def_2);
			VAL v11 = mw_mirth_package_Package_qname(v10);
			branch_QName_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DefModule
			uint64_t v12 = mtp_mirth_def_Def_DefModule(in_Def_2);
			VAL v13 = mw_mirth_module_Module_qname(v12);
			branch_QName_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v14 = mtp_mirth_def_Def_DefBuffer(in_Def_2);
			VAL v15 = mw_mirth_buffer_Buffer_qname(v14);
			branch_QName_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // DefPrim
			int64_t v16 = mtp_mirth_def_Def_DefPrim(in_Def_2);
			VAL v17;
			VAL v18 = mw_mirth_prim_Prim_qname(in_ZPlusMirth_1, v16, &v17);
			branch_QName_6 = v18;
			branch_ZPlusMirth_5 = v17;
		} break;
		case 3LL: { // DefData
			uint64_t v19 = mtp_mirth_def_Def_DefData(in_Def_2);
			VAL v20;
			VAL v21 = mw_mirth_data_Data_qnameZ_hard(in_ZPlusMirth_1, v19, &v20);
			branch_QName_6 = v21;
			branch_ZPlusMirth_5 = v20;
		} break;
		case 4LL: { // DefTable
			uint64_t v22 = mtp_mirth_def_Def_DefTable(in_Def_2);
			VAL v23;
			VAL v24 = mw_mirth_table_Table_qnameZ_hard(in_ZPlusMirth_1, v22, &v23);
			branch_QName_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		case 5LL: { // DefType
			uint64_t v25 = mtp_mirth_def_Def_DefType(in_Def_2);
			VAL v26;
			VAL v27 = mw_mirth_typedef_TypeDef_qnameZ_hard(in_ZPlusMirth_1, v25, &v26);
			branch_QName_6 = v27;
			branch_ZPlusMirth_5 = v26;
		} break;
		case 11LL: { // DefExternal
			uint64_t v28 = mtp_mirth_def_Def_DefExternal(in_Def_2);
			VAL v29;
			VAL v30 = mw_mirth_external_External_qnameZ_hard(in_ZPlusMirth_1, v28, &v29);
			branch_QName_6 = v30;
			branch_ZPlusMirth_5 = v29;
		} break;
		case 8LL: { // DefWord
			uint64_t v31 = mtp_mirth_def_Def_DefWord(in_Def_2);
			VAL v32;
			VAL v33 = mw_mirth_word_Word_qnameZ_hard(v31, in_ZPlusMirth_1, &v32);
			branch_QName_6 = v33;
			branch_ZPlusMirth_5 = v32;
		} break;
		case 12LL: { // DefField
			uint64_t v34 = mtp_mirth_def_Def_DefField(in_Def_2);
			VAL v35;
			VAL v36 = mw_mirth_table_Field_qnameZ_hard(in_ZPlusMirth_1, v34, &v35);
			branch_QName_6 = v36;
			branch_ZPlusMirth_5 = v35;
		} break;
		case 6LL: { // DefTag
			uint64_t v37 = mtp_mirth_def_Def_DefTag(in_Def_2);
			VAL v38 = mw_mirth_data_Tag_qname(v37);
			branch_QName_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 10LL: { // DefVariable
			uint64_t v39 = mtp_mirth_def_Def_DefVariable(in_Def_2);
			VAL v40 = mw_mirth_variable_Variable_qname(v39);
			branch_QName_6 = v40;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_QName_6;
}
static VAL mw_mirth_def_Def_asZ_namespaceZAsk (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Def_2)) {
		case 0LL: { // DefAlias
			uint64_t v7 = mtp_mirth_def_Def_DefAlias(in_Def_2);
			void* v8 = mfld_mirth_alias_Alias_ZTildetarget(v7);
			VAL v9;
			VAL v10 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v8, in_ZPlusMirth_1, &v9);
			VAL v11;
			VAL v12 = mw_std_maybe_Maybe_1_bind_1_sp7(v9, v10, &v11);
			branch_Maybe_6 = v12;
			branch_ZPlusMirth_5 = v11;
		} break;
		case 2LL: { // DefPackage
			uint64_t v13 = mtp_mirth_def_Def_DefPackage(in_Def_2);
			VAL v14 = mtw_mirth_name_Namespace_NAMESPACEz_PACKAGE(v13);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
			branch_Maybe_6 = v15;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // DefModule
			uint64_t v16 = mtp_mirth_def_Def_DefModule(in_Def_2);
			VAL v17 = mtw_mirth_name_Namespace_NAMESPACEz_MODULE(v16);
			VAL v18 = mtw_std_maybe_Maybe_1_Some(v17);
			branch_Maybe_6 = v18;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // DefData
			uint64_t v19 = mtp_mirth_def_Def_DefData(in_Def_2);
			VAL v20 = mtw_mirth_tycon_Tycon_TYCONz_DATA(v19);
			VAL v21 = mtw_mirth_name_Namespace_NAMESPACEz_TYCON(v20);
			VAL v22 = mtw_std_maybe_Maybe_1_Some(v21);
			branch_Maybe_6 = v22;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // DefTable
			uint64_t v23 = mtp_mirth_def_Def_DefTable(in_Def_2);
			VAL v24 = mtw_mirth_tycon_Tycon_TYCONz_TABLE(v23);
			VAL v25 = mtw_mirth_name_Namespace_NAMESPACEz_TYCON(v24);
			VAL v26 = mtw_std_maybe_Maybe_1_Some(v25);
			branch_Maybe_6 = v26;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // DefType
			uint64_t v27 = mtp_mirth_def_Def_DefType(in_Def_2);
			VAL v28;
			VAL v29 = mw_mirth_typedef_TypeDef_target(in_ZPlusMirth_1, v27, &v28);
			VAL v30 = mw_mirth_type_Type_tyconZAsk(v29);
			VAL branch_Maybe_31;
			switch (get_data_tag(v30)) {
				case 1LL: { // Some
					VAL v32 = mtp_std_maybe_Maybe_1_Some(v30);
					VAL v33 = mtw_mirth_name_Namespace_NAMESPACEz_TYCON(v32);
					VAL v34 = mtw_std_maybe_Maybe_1_Some(v33);
					branch_Maybe_31 = v34;
				} break;
				case 0LL: { // None
					VAL v35 = MKI64(0LL /* None */);
					branch_Maybe_31 = v35;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_6 = branch_Maybe_31;
			branch_ZPlusMirth_5 = v28;
		} break;
		case 8LL: { // DefWord
			uint64_t v36 = mtp_mirth_def_Def_DefWord(in_Def_2);
			VAL v37 = mtw_mirth_name_Namespace_NAMESPACEz_WORD(v36);
			VAL v38 = mtw_std_maybe_Maybe_1_Some(v37);
			branch_Maybe_6 = v38;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			decref(in_Def_2);
			VAL v39 = MKI64(0LL /* None */);
			branch_Maybe_6 = v39;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static void mw_mirth_def_Def_register (VAL in_ZPlusMirth_1, VAL in_Def_2, VAL *out_ZPlusMirth_3) {
	incref(in_Def_2);
	VAL v4;
	VAL v5 = mw_mirth_def_Def_qnameZ_soft(in_ZPlusMirth_1, in_Def_2, &v4);
	VAL branch_ZPlusMirth_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(v7);
			VAL v8;
			int64_t v9 = mw_mirth_name_QName_undefinedZ_softZAsk(v4, v7, &v8);
			VAL branch_ZPlusMirth_10;
			VAL branch_QName_11;
			if (((bool)v9)) {
				branch_QName_11 = v7;
				branch_ZPlusMirth_10 = v8;
			} else {
				VAL v12;
				VAL v13 = mw_mirth_name_QName_ZToStr(v8, v7, &v12);
				STR* v14;
				STRLIT(v14, "qualified name already has definition: ", 39);
				STR* v15 = str_cat(v14, value_str(v13));
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v15), v12);
			}
			decref(branch_QName_11);
			branch_ZPlusMirth_6 = branch_ZPlusMirth_10;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_6 = v4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(in_Def_2);
	uint64_t v18 = mw_mirth_def_Def_name(in_Def_2);
	void* v19 = mfld_mirth_name_Name_ZTildedefs(v18);
	VAL v20 = mut_get(v19);
	VAL v21 = mtw_std_list_List_1_Cons(in_Def_2, v20);
	mut_set(v21, v19);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
}
static int64_t mw_mirth_name_Name_index (uint64_t in_Name_1) {
	return ((int64_t)in_Name_1);
}
static uint64_t mw_mirth_name_Name_fromZ_index (int64_t in_Int_1) {
	return ((uint64_t)in_Int_1);
}
static uint64_t mw_mirth_name_Name_allocZBang (void) {
	void* v2 = mbuf_mirth_name_Name_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_name_Name_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static VAL mw_mirth_name_Name_ZToStr (uint64_t in_Name_1) {
	void* v3 = mfld_mirth_name_Name_ZTildeStr(in_Name_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static VAL mw_mirth_name_Name_defs (uint64_t in_Name_1) {
	void* v3 = mfld_mirth_name_Name_ZTildedefs(in_Name_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static VAL mw_mirth_name_Name_mangled (uint64_t in_Name_1) {
	void* v3 = mfld_mirth_name_Name_ZTildemangled(in_Name_1);
	bool v4 = mut_is_set(v3);
	uint64_t branch_Name_5;
	VAL branch_Str_6;
	if (v4) {
		VAL v7 = mut_get(v3);
		branch_Str_6 = v7;
		branch_Name_5 = in_Name_1;
	} else {
		VAL v8 = mw_mirth_name_Name_mangleZ_computeZBang(in_Name_1);
		incref(v8);
		mut_set(v8, v3);
		branch_Str_6 = v8;
		branch_Name_5 = in_Name_1;
	}
	return branch_Str_6;
}
static int64_t mw_mirth_name_Name_ZEqualZEqual (uint64_t in_Name_1, uint64_t in_Name_2) {
	int64_t v4 = mw_mirth_name_Name_index(in_Name_1);
	int64_t v5 = mw_mirth_name_Name_index(in_Name_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static int64_t mw_mirth_name_Hash_ZToInt (int64_t in_Hash_1) {
	return in_Hash_1;
}
static int64_t mw_std_prim_Int_ZToHash (int64_t in_Int_1) {
	int64_t v3 = mw_mirth_name_HASHz_MAX();
	uint64_t v4 = (((uint64_t)in_Int_1) & ((uint64_t)v3));
	int64_t v5 = 0LL;
	int64_t v6 = mw_std_prim_Int_max(((int64_t)v4), v5);
	return v6;
}
static int64_t mw_mirth_name_Hash_offset (int64_t in_Hash_1) {
	int64_t v3 = 8LL;
	int64_t v4 = i64_mul(in_Hash_1, v3);
	return v4;
}
static int64_t mw_mirth_name_HASHz_MAX (void) {
	int64_t v2 = 65535LL;
	return v2;
}
static VAL mw_mirth_name_hashZ_nameZAt (int64_t in_Hash_1) {
	int64_t v3 = mw_mirth_name_Hash_offset(in_Hash_1);
	void* v4 = mbuf_mirth_name_HASHz_BUF;
	int64_t v5 = 0LL /* +Unsafe */;
	void* v6 = (void*)(v3 + (char*)v4);
	int64_t v7 = *(int64_t*)v6;
	int64_t v8 = 0LL;
	bool v9 = (v7 == v8);
	VAL branch_Maybe_10;
	if (v9) {
		VAL v11 = MKI64(0LL /* None */);
		branch_Maybe_10 = v11;
	} else {
		uint64_t v12 = mw_mirth_name_Name_fromZ_index(v7);
		VAL v13 = mtw_std_maybe_Maybe_1_Some(MKU64(v12));
		branch_Maybe_10 = v13;
	}
	return branch_Maybe_10;
}
static void mw_mirth_name_hashZ_nameZBang (uint64_t in_Name_1, int64_t in_Hash_2) {
	int64_t v3 = mw_mirth_name_Name_index(in_Name_1);
	int64_t v4 = mw_mirth_name_Hash_offset(in_Hash_2);
	void* v5 = mbuf_mirth_name_HASHz_BUF;
	int64_t v6 = 0LL /* +Unsafe */;
	void* v7 = (void*)(v4 + (char*)v5);
	*(int64_t*)v7 = v3;
}
static int64_t mw_std_prim_Str_hash (VAL in_Str_1) {
	int64_t v3 = 0LL;
	incref(in_Str_1);
	incref(in_Str_1);
	void* v4 = str_base(value_str(in_Str_1));
	uint64_t v5 = str_size(value_str(in_Str_1));
	int64_t v6 = 0LL;
	bool v7 = (((int64_t)v5) > v6);
	int64_t v8 = v3;
	void* v9 = v4;
	uint64_t v10 = v5;
	bool v11 = v7;
	while (v11) {
		int64_t v12 = v8;
		void* v13 = v9;
		uint64_t v14 = v10;
		int64_t v15 = 0LL /* +Unsafe */;
		uint8_t v16 = *(uint8_t*)v13;
		int64_t v17 = 17LL;
		int64_t v18 = i64_mul(((int64_t)v16), v17);
		int64_t v19 = 7LL;
		uint64_t v20 = u64_shl(((uint64_t)v12), ((uint64_t)v19));
		uint64_t v21 = (((uint64_t)v18) ^ v20);
		int64_t v22 = 27LL;
		uint64_t v23 = u64_shr(((uint64_t)v12), ((uint64_t)v22));
		uint64_t v24 = (v21 ^ v23);
		int64_t v25 = 1LL;
		int64_t v26 = 0LL /* +Unsafe */;
		void* v27 = (void*)(v25 + (char*)v13);
		int64_t v28 = 1LL;
		int64_t v29 = i64_sub(((int64_t)v14), v28);
		int64_t v30 = 0LL;
		bool v31 = (v29 < v30);
		int64_t branch_Nat_32;
		if (v31) {
			int64_t v33 = 0LL;
			branch_Nat_32 = v33;
		} else {
			branch_Nat_32 = v29;
		}
		int64_t v34 = 0LL;
		bool v35 = (branch_Nat_32 > v34);
		v11 = v35;
		v10 = ((uint64_t)branch_Nat_32);
		v9 = v27;
		v8 = ((int64_t)v24);
	}
	decref(in_Str_1);
	int64_t v36 = mw_std_prim_Int_ZToHash(v8);
	return v36;
}
static int64_t mw_mirth_name_Hash_next (int64_t in_Hash_1) {
	int64_t v3 = mw_mirth_name_Hash_ZToInt(in_Hash_1);
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	int64_t v6 = mw_std_prim_Int_ZToHash(v5);
	return v6;
}
static VAL mw_mirth_name_Hash_keepZ_goingZAsk (VAL in_Str_1, int64_t in_Hash_2, int64_t *out_Hash_4, int64_t *out_Bool_5) {
	VAL v6 = mw_mirth_name_hashZ_nameZAt(in_Hash_2);
	VAL branch_Str_7;
	int64_t branch_Hash_8;
	int64_t branch_Bool_9;
	switch (get_data_tag(v6)) {
		case 0LL: { // None
			int64_t v10 = 0LL /* False */;
			branch_Bool_9 = v10;
			branch_Hash_8 = in_Hash_2;
			branch_Str_7 = in_Str_1;
		} break;
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v6);
			VAL v12 = mw_mirth_name_Name_ZToStr(value_u64(v11));
			incref(in_Str_1);
			bool v13 = (str_cmp(value_str(v12), value_str(in_Str_1)) != 0);
			branch_Bool_9 = ((int64_t)v13);
			branch_Hash_8 = in_Hash_2;
			branch_Str_7 = in_Str_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Bool_5 = branch_Bool_9;
	*out_Hash_4 = branch_Hash_8;
	return branch_Str_7;
}
static uint64_t mw_std_prim_Str_ZToName (VAL in_Str_1) {
	incref(in_Str_1);
	int64_t v3 = mw_std_prim_Str_hash(in_Str_1);
	int64_t v4;
	int64_t v5;
	VAL v6 = mw_mirth_name_Hash_keepZ_goingZAsk(in_Str_1, v3, &v4, &v5);
	VAL v7 = v6;
	int64_t v8 = v4;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v7;
		int64_t v11 = v8;
		int64_t v12 = mw_mirth_name_Hash_next(v11);
		int64_t v13;
		int64_t v14;
		VAL v15 = mw_mirth_name_Hash_keepZ_goingZAsk(v10, v12, &v13, &v14);
		v9 = v14;
		v8 = v13;
		v7 = v15;
	}
	VAL v16 = mw_mirth_name_hashZ_nameZAt(v8);
	uint64_t branch_Name_17;
	switch (get_data_tag(v16)) {
		case 0LL: { // None
			uint64_t v18 = mw_mirth_name_Name_allocZBang();
			mw_mirth_name_hashZ_nameZBang(v18, v8);
			void* v19 = mfld_mirth_name_Name_ZTildeStr(v18);
			mut_set(v7, v19);
			VAL v20 = MKI64(0LL /* Nil */);
			void* v21 = mfld_mirth_name_Name_ZTildedefs(v18);
			mut_set(v20, v21);
			branch_Name_17 = v18;
		} break;
		case 1LL: { // Some
			VAL v22 = mtp_std_maybe_Maybe_1_Some(v16);
			decref(v7);
			branch_Name_17 = value_u64(v22);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Name_17;
}
static int64_t mw_mirth_name_Name_head (uint64_t in_Name_1) {
	VAL v3 = mw_mirth_name_Name_ZToStr(in_Name_1);
	int64_t v4 = 0LL;
	int64_t v5 = mw_std_prim_Str_byteZAt(v4, v3);
	return v5;
}
static int64_t mw_mirth_name_Name_tailZ_head (uint64_t in_Name_1) {
	VAL v3 = mw_mirth_name_Name_ZToStr(in_Name_1);
	int64_t v4 = 1LL;
	int64_t v5 = mw_std_prim_Str_byteZAt(v4, v3);
	return v5;
}
static int64_t mw_mirth_name_Name_canZ_beZ_relativeZAsk (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 65LL /* B'A' */;
	int64_t v5 = 90LL /* B'Z' */;
	bool v6 = (v3 >= v4);
	bool v7 = (v3 <= v5);
	bool v8 = (v6 && v7);
	bool v9 = !v8;
	return ((int64_t)v9);
}
static int64_t mw_mirth_name_Name_couldZ_beZ_labelZ_nameZAsk (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 97LL /* B'a' */;
	int64_t v5 = 122LL /* B'z' */;
	bool v6 = (v3 >= v4);
	bool v7 = (v3 <= v5);
	bool v8 = (v6 && v7);
	uint64_t branch_Name_9;
	int64_t branch_Bool_10;
	if (v8) {
		int64_t v11 = 1LL /* True */;
		branch_Bool_10 = v11;
		branch_Name_9 = in_Name_1;
	} else {
		int64_t v12 = mw_mirth_name_Name_head(in_Name_1);
		int64_t v13 = 43LL /* B'+' */;
		bool v14 = (v12 == v13);
		uint64_t branch_Name_15;
		int64_t branch_Bool_16;
		if (v14) {
			int64_t v17 = mw_mirth_name_Name_tailZ_head(in_Name_1);
			int64_t v18 = 97LL /* B'a' */;
			int64_t v19 = 122LL /* B'z' */;
			bool v20 = (v17 >= v18);
			bool v21 = (v17 <= v19);
			bool v22 = (v20 && v21);
			branch_Bool_16 = ((int64_t)v22);
			branch_Name_15 = in_Name_1;
		} else {
			int64_t v23 = 0LL /* False */;
			branch_Bool_16 = v23;
			branch_Name_15 = in_Name_1;
		}
		branch_Bool_10 = branch_Bool_16;
		branch_Name_9 = branch_Name_15;
	}
	return branch_Bool_10;
}
static int64_t mw_mirth_name_Name_couldZ_beZ_patternZ_varZAsk (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 97LL /* B'a' */;
	int64_t v5 = 122LL /* B'z' */;
	bool v6 = (v3 >= v4);
	bool v7 = (v3 <= v5);
	bool v8 = (v6 && v7);
	return ((int64_t)v8);
}
static int64_t mw_mirth_name_Name_couldZ_beZ_typeZ_var (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 97LL /* B'a' */;
	int64_t v5 = 122LL /* B'z' */;
	bool v6 = (v3 >= v4);
	bool v7 = (v3 <= v5);
	bool v8 = (v6 && v7);
	return ((int64_t)v8);
}
static int64_t mw_mirth_name_Name_couldZ_beZ_typeZ_con (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 65LL /* B'A' */;
	int64_t v5 = 90LL /* B'Z' */;
	bool v6 = (v3 >= v4);
	bool v7 = (v3 <= v5);
	bool v8 = (v6 && v7);
	return ((int64_t)v8);
}
static int64_t mw_mirth_name_Name_isZ_typeZ_hole (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 63LL /* B'?' */;
	bool v5 = (v3 == v4);
	int64_t v6 = mw_mirth_name_Name_tailZ_head(in_Name_1);
	int64_t v7 = 0LL /* BNUL */;
	bool v8 = (v6 == v7);
	int64_t v9 = 97LL /* B'a' */;
	int64_t v10 = 122LL /* B'z' */;
	bool v11 = (v6 >= v9);
	bool v12 = (v6 <= v10);
	bool v13 = (v11 && v12);
	bool v14 = (v8 || v13);
	bool v15 = (v5 && v14);
	return ((int64_t)v15);
}
static int64_t mw_mirth_name_Name_isZ_underscore (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 95LL /* B'_' */;
	bool v5 = (v3 == v4);
	int64_t v6 = mw_mirth_name_Name_tailZ_head(in_Name_1);
	int64_t v7 = 0LL /* BNUL */;
	bool v8 = (v6 == v7);
	bool v9 = (v5 && v8);
	return ((int64_t)v9);
}
static int64_t mw_mirth_name_Name_couldZ_beZ_stackZ_var (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 42LL /* B'*' */;
	bool v5 = (v3 == v4);
	int64_t v6 = mw_mirth_name_Name_tailZ_head(in_Name_1);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	bool v9 = (v6 >= v7);
	bool v10 = (v6 <= v8);
	bool v11 = (v9 && v10);
	bool v12 = (v5 && v11);
	return ((int64_t)v12);
}
static int64_t mw_mirth_name_Name_couldZ_beZ_resourceZ_var (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 43LL /* B'+' */;
	bool v5 = (v3 == v4);
	int64_t v6 = mw_mirth_name_Name_tailZ_head(in_Name_1);
	int64_t v7 = 97LL /* B'a' */;
	int64_t v8 = 122LL /* B'z' */;
	bool v9 = (v6 >= v7);
	bool v10 = (v6 <= v8);
	bool v11 = (v9 && v10);
	bool v12 = (v5 && v11);
	return ((int64_t)v12);
}
static int64_t mw_mirth_name_Name_couldZ_beZ_resourceZ_con (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t v4 = 43LL /* B'+' */;
	bool v5 = (v3 == v4);
	int64_t v6 = mw_mirth_name_Name_tailZ_head(in_Name_1);
	int64_t v7 = 65LL /* B'A' */;
	int64_t v8 = 90LL /* B'Z' */;
	bool v9 = (v6 >= v7);
	bool v10 = (v6 <= v8);
	bool v11 = (v9 && v10);
	bool v12 = (v5 && v11);
	return ((int64_t)v12);
}
static int64_t mw_mirth_name_Name_couldZ_beZ_constructor (uint64_t in_Name_1) {
	int64_t v3 = mw_mirth_name_Name_head(in_Name_1);
	int64_t branch_Bool_4;
	switch (v3) {
		case 43LL: { // B'+'
			int64_t v5 = mw_mirth_name_Name_tailZ_head(in_Name_1);
			int64_t v6 = 65LL /* B'A' */;
			int64_t v7 = 90LL /* B'Z' */;
			bool v8 = (v5 >= v6);
			bool v9 = (v5 <= v7);
			bool v10 = (v8 && v9);
			branch_Bool_4 = ((int64_t)v10);
		} break;
		default: {
			int64_t v11 = 65LL /* B'A' */;
			int64_t v12 = 90LL /* B'Z' */;
			bool v13 = (v3 >= v11);
			bool v14 = (v3 <= v12);
			bool v15 = (v13 && v14);
			branch_Bool_4 = ((int64_t)v15);
		} break;
	}
	return branch_Bool_4;
}
static VAL mw_mirth_name_Name_mangleZ_computeZBang (uint64_t in_Name_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	VAL v4 = mw_mirth_name_Name_ZToStr(in_Name_1);
	incref(v4);
	incref(v4);
	void* v5 = str_base(value_str(v4));
	uint64_t v6 = str_size(value_str(v4));
	int64_t v7 = 0LL;
	bool v8 = (((int64_t)v6) > v7);
	STR* v9 = v3;
	void* v10 = v5;
	uint64_t v11 = v6;
	bool v12 = v8;
	while (v12) {
		STR* v13 = v9;
		void* v14 = v10;
		uint64_t v15 = v11;
		int64_t v16 = 0LL /* +Unsafe */;
		uint8_t v17 = *(uint8_t*)v14;
		VAL v18 = mw_std_byte_Byte_zzencode(((int64_t)v17));
		VAL v19;
		mw_std_str_ZPlusStr_pushZ_strZBang(v18, MKSTR(v13), &v19);
		int64_t v20 = 1LL;
		int64_t v21 = 0LL /* +Unsafe */;
		void* v22 = (void*)(v20 + (char*)v14);
		int64_t v23 = 1LL;
		int64_t v24 = i64_sub(((int64_t)v15), v23);
		int64_t v25 = 0LL;
		bool v26 = (v24 < v25);
		int64_t branch_Nat_27;
		if (v26) {
			int64_t v28 = 0LL;
			branch_Nat_27 = v28;
		} else {
			branch_Nat_27 = v24;
		}
		int64_t v29 = 0LL;
		bool v30 = (branch_Nat_27 > v29);
		v12 = v30;
		v11 = ((uint64_t)branch_Nat_27);
		v10 = v22;
		v9 = value_str(v19);
	}
	decref(v4);
	return MKSTR(v9);
}
static int64_t mw_mirth_name_Namespace_ZEqualZEqual (VAL in_Namespace_1, VAL in_Namespace_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_Namespace_2)) {
		case 0LL: { // NAMESPACE_ROOT
			int64_t branch_Bool_5;
			switch (get_data_tag(in_Namespace_1)) {
				case 0LL: { // NAMESPACE_ROOT
					int64_t v6 = 1LL /* True */;
					branch_Bool_5 = v6;
				} break;
				default: {
					decref(in_Namespace_1);
					int64_t v7 = 0LL /* False */;
					branch_Bool_5 = v7;
				} break;
			}
			branch_Bool_4 = branch_Bool_5;
		} break;
		case 1LL: { // NAMESPACE_PACKAGE
			uint64_t v8 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(in_Namespace_2);
			int64_t branch_Bool_9;
			switch (get_data_tag(in_Namespace_1)) {
				case 1LL: { // NAMESPACE_PACKAGE
					uint64_t v10 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(in_Namespace_1);
					int64_t v11 = mw_mirth_package_Package_ZEqualZEqual(v10, v8);
					branch_Bool_9 = v11;
				} break;
				default: {
					decref(in_Namespace_1);
					int64_t v12 = 0LL /* False */;
					branch_Bool_9 = v12;
				} break;
			}
			branch_Bool_4 = branch_Bool_9;
		} break;
		case 2LL: { // NAMESPACE_MODULE
			uint64_t v13 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(in_Namespace_2);
			int64_t branch_Bool_14;
			switch (get_data_tag(in_Namespace_1)) {
				case 2LL: { // NAMESPACE_MODULE
					uint64_t v15 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(in_Namespace_1);
					int64_t v16 = mw_mirth_module_Module_ZEqualZEqual(v15, v13);
					branch_Bool_14 = v16;
				} break;
				default: {
					decref(in_Namespace_1);
					int64_t v17 = 0LL /* False */;
					branch_Bool_14 = v17;
				} break;
			}
			branch_Bool_4 = branch_Bool_14;
		} break;
		case 3LL: { // NAMESPACE_TYCON
			VAL v18 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(in_Namespace_2);
			int64_t branch_Bool_19;
			switch (get_data_tag(in_Namespace_1)) {
				case 3LL: { // NAMESPACE_TYCON
					VAL v20 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(in_Namespace_1);
					int64_t v21 = mw_mirth_tycon_Tycon_ZEqualZEqual(v20, v18);
					branch_Bool_19 = v21;
				} break;
				default: {
					decref(in_Namespace_1);
					decref(v18);
					int64_t v22 = 0LL /* False */;
					branch_Bool_19 = v22;
				} break;
			}
			branch_Bool_4 = branch_Bool_19;
		} break;
		case 4LL: { // NAMESPACE_WORD
			uint64_t v23 = mtp_mirth_name_Namespace_NAMESPACEz_WORD(in_Namespace_2);
			int64_t branch_Bool_24;
			switch (get_data_tag(in_Namespace_1)) {
				case 4LL: { // NAMESPACE_WORD
					uint64_t v25 = mtp_mirth_name_Namespace_NAMESPACEz_WORD(in_Namespace_1);
					int64_t v26 = mw_mirth_word_Word_ZEqualZEqual(v25, v23);
					branch_Bool_24 = v26;
				} break;
				default: {
					decref(in_Namespace_1);
					int64_t v27 = 0LL /* False */;
					branch_Bool_24 = v27;
				} break;
			}
			branch_Bool_4 = branch_Bool_24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static VAL mw_mirth_name_Namespace_qname (VAL in_ZPlusMirth_1, VAL in_Namespace_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Namespace_2)) {
		case 0LL: { // NAMESPACE_ROOT
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // NAMESPACE_PACKAGE
			uint64_t v8 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(in_Namespace_2);
			VAL v9 = mw_mirth_package_Package_qname(v8);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // NAMESPACE_MODULE
			uint64_t v11 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(in_Namespace_2);
			VAL v12 = mw_mirth_module_Module_qname(v11);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(v12);
			branch_Maybe_6 = v13;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // NAMESPACE_TYCON
			VAL v14 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(in_Namespace_2);
			VAL v15;
			VAL v16 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v14, &v15);
			VAL v17 = mtw_std_maybe_Maybe_1_Some(v16);
			branch_Maybe_6 = v17;
			branch_ZPlusMirth_5 = v15;
		} break;
		case 4LL: { // NAMESPACE_WORD
			uint64_t v18 = mtp_mirth_name_Namespace_NAMESPACEz_WORD(in_Namespace_2);
			VAL v19;
			VAL v20 = mw_mirth_word_Word_qnameZ_hard(v18, in_ZPlusMirth_1, &v19);
			VAL v21 = mtw_std_maybe_Maybe_1_Some(v20);
			branch_Maybe_6 = v21;
			branch_ZPlusMirth_5 = v19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_name_Namespace_moduleZAsk (VAL in_ZPlusMirth_1, VAL in_Namespace_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Namespace_2)) {
		case 0LL: { // NAMESPACE_ROOT
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // NAMESPACE_PACKAGE
			uint64_t v8 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(in_Namespace_2);
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // NAMESPACE_MODULE
			uint64_t v10 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(in_Namespace_2);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(MKU64(v10));
			branch_Maybe_6 = v11;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // NAMESPACE_TYCON
			VAL v12 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(in_Namespace_2);
			VAL v13;
			VAL v14 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v12, &v13);
			VAL v15 = VTUP(v14)->cells[1];
			incref(v15);
			decref(v14);
			VAL v16;
			VAL v17 = mw_mirth_name_Namespace_moduleZAsk(v13, v15, &v16);
			branch_Maybe_6 = v17;
			branch_ZPlusMirth_5 = v16;
		} break;
		case 4LL: { // NAMESPACE_WORD
			uint64_t v18 = mtp_mirth_name_Namespace_NAMESPACEz_WORD(in_Namespace_2);
			VAL v19 = MKI64(0LL /* None */);
			branch_Maybe_6 = v19;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_mirth_name_Namespace_prim (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4;
	uint64_t v5 = mw_mirth_module_Module_prim(in_ZPlusMirth_1, &v4);
	VAL v6 = mtw_mirth_name_Namespace_NAMESPACEz_MODULE(v5);
	*out_ZPlusMirth_2 = v4;
	return v6;
}
static VAL mw_mirth_name_Namespace_ZToStr (VAL in_ZPlusMirth_1, VAL in_Namespace_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Str_6;
	switch (get_data_tag(in_Namespace_2)) {
		case 0LL: { // NAMESPACE_ROOT
			STR* v7;
			STRLIT(v7, "<root>", 6);
			branch_Str_6 = MKSTR(v7);
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // NAMESPACE_PACKAGE
			uint64_t v8 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(in_Namespace_2);
			uint64_t v9 = mw_mirth_package_Package_name(v8);
			VAL v10 = mw_mirth_name_Name_ZToStr(v9);
			branch_Str_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // NAMESPACE_MODULE
			uint64_t v11 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(in_Namespace_2);
			VAL v12 = mw_mirth_module_Module_qname(v11);
			VAL v13;
			VAL v14 = mw_mirth_name_QName_ZToStr(in_ZPlusMirth_1, v12, &v13);
			branch_Str_6 = v14;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 3LL: { // NAMESPACE_TYCON
			VAL v15 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(in_Namespace_2);
			VAL v16;
			VAL v17 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v15, &v16);
			VAL v18;
			VAL v19 = mw_mirth_name_QName_ZToStr(v16, v17, &v18);
			branch_Str_6 = v19;
			branch_ZPlusMirth_5 = v18;
		} break;
		case 4LL: { // NAMESPACE_WORD
			uint64_t v20 = mtp_mirth_name_Namespace_NAMESPACEz_WORD(in_Namespace_2);
			VAL v21;
			VAL v22 = mw_mirth_word_Word_qnameZ_hard(v20, in_ZPlusMirth_1, &v21);
			VAL v23;
			VAL v24 = mw_mirth_name_QName_ZToStr(v21, v22, &v23);
			branch_Str_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Str_6;
}
static VAL mw_mirth_name_Namespace_mangled (VAL in_ZPlusMirth_1, VAL in_Namespace_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Str_6;
	switch (get_data_tag(in_Namespace_2)) {
		case 0LL: { // NAMESPACE_ROOT
			STR* v7;
			STRLIT(v7, "__root__", 8);
			branch_Str_6 = MKSTR(v7);
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // NAMESPACE_PACKAGE
			uint64_t v8 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(in_Namespace_2);
			uint64_t v9 = mw_mirth_package_Package_name(v8);
			VAL v10 = mw_mirth_name_Name_mangled(v9);
			branch_Str_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // NAMESPACE_MODULE
			uint64_t v11 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(in_Namespace_2);
			VAL v12 = mw_mirth_module_Module_qname(v11);
			VAL v13;
			VAL v14 = mw_mirth_name_QName_mangled(in_ZPlusMirth_1, v12, &v13);
			branch_Str_6 = v14;
			branch_ZPlusMirth_5 = v13;
		} break;
		case 3LL: { // NAMESPACE_TYCON
			VAL v15 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(in_Namespace_2);
			VAL v16;
			VAL v17 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v15, &v16);
			VAL v18;
			VAL v19 = mw_mirth_name_QName_mangled(v16, v17, &v18);
			branch_Str_6 = v19;
			branch_ZPlusMirth_5 = v18;
		} break;
		case 4LL: { // NAMESPACE_WORD
			uint64_t v20 = mtp_mirth_name_Namespace_NAMESPACEz_WORD(in_Namespace_2);
			VAL v21;
			VAL v22 = mw_mirth_word_Word_qnameZ_hard(v20, in_ZPlusMirth_1, &v21);
			VAL v23;
			VAL v24 = mw_mirth_name_QName_mangled(v21, v22, &v23);
			branch_Str_6 = v24;
			branch_ZPlusMirth_5 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Str_6;
}
static VAL mw_mirth_name_QNAME0 (VAL in_Namespace_1, uint64_t in_Name_2) {
	int64_t v4 = 0LL;
	VAL v5 = mtw_mirth_name_QName_MKQNAME(in_Namespace_1, in_Name_2, v4);
	return v5;
}
static int64_t mw_mirth_name_QName_ZEqualZEqual (VAL in_QName_1, VAL in_QName_2) {
	VAL v4;
	uint64_t v5;
	int64_t v6;
	mtp_mirth_name_QName_MKQNAME(in_QName_2, &v4, &v5, &v6);
	VAL v7;
	uint64_t v8;
	int64_t v9;
	mtp_mirth_name_QName_MKQNAME(in_QName_1, &v7, &v8, &v9);
	int64_t v10 = mw_mirth_name_Name_ZEqualZEqual(v8, v5);
	bool v11 = (v9 == v6);
	bool v12 = (((bool)v10) && v11);
	int64_t v13 = mw_mirth_name_Namespace_ZEqualZEqual(v7, v4);
	bool v14 = (v12 && ((bool)v13));
	return ((int64_t)v14);
}
static VAL mw_mirth_name_QName_defZ_hardZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3) {
	incref(in_QName_2);
	uint64_t v5 = value_u64(VTUP(in_QName_2)->cells[2]);
	decref(in_QName_2);
	VAL v6 = mw_mirth_name_Name_defs(v5);
	VAL v7 = MKI64(0LL /* None */);
	int64_t v8 = 1LL /* True */;
	VAL v9 = in_ZPlusMirth_1;
	VAL v10 = in_QName_2;
	VAL v11 = v7;
	VAL v12 = v6;
	int64_t v13 = v8;
	int64_t v14 = v8;
	while (((bool)v14)) {
		VAL v15 = v9;
		VAL v16 = v10;
		VAL v17 = v11;
		VAL v18 = v12;
		int64_t v19 = v13;
		VAL v20;
		VAL v21 = mw_std_list_List_1_uncons(v18, &v20);
		VAL branch_ZPlusMirth_22;
		VAL branch_QName_23;
		VAL branch_Maybe_24;
		VAL branch_List_25;
		int64_t branch_Bool_26;
		switch (get_data_tag(v21)) {
			case 1LL: { // Some
				VAL v27 = mtp_std_maybe_Maybe_1_Some(v21);
				incref(v27);
				incref(v16);
				VAL v28;
				VAL v29 = mw_mirth_def_Def_qnameZ_hard(v15, v27, &v28);
				int64_t v30 = mw_mirth_name_QName_ZEqualZEqual(v16, v29);
				VAL branch_ZPlusMirth_31;
				VAL branch_QName_32;
				VAL branch_Maybe_33;
				if (((bool)v30)) {
					VAL v34 = mtw_std_maybe_Maybe_1_Some(v27);
					branch_Maybe_33 = v34;
					branch_QName_32 = v16;
					branch_ZPlusMirth_31 = v28;
				} else {
					decref(v27);
					VAL v35 = MKI64(0LL /* None */);
					branch_Maybe_33 = v35;
					branch_QName_32 = v16;
					branch_ZPlusMirth_31 = v28;
				}
				VAL branch_ZPlusMirth_36;
				VAL branch_QName_37;
				VAL branch_Maybe_38;
				VAL branch_List_39;
				switch (get_data_tag(branch_Maybe_33)) {
					case 0LL: { // None
						branch_List_39 = v20;
						branch_Maybe_38 = v17;
						branch_QName_37 = branch_QName_32;
						branch_ZPlusMirth_36 = branch_ZPlusMirth_31;
					} break;
					default: {
						decref(v20);
						decref(v17);
						VAL v40 = MKI64(0LL /* Nil */);
						branch_List_39 = v40;
						branch_Maybe_38 = branch_Maybe_33;
						branch_QName_37 = branch_QName_32;
						branch_ZPlusMirth_36 = branch_ZPlusMirth_31;
					} break;
				}
				int64_t v41 = 1LL /* True */;
				branch_Bool_26 = v41;
				branch_List_25 = branch_List_39;
				branch_Maybe_24 = branch_Maybe_38;
				branch_QName_23 = branch_QName_37;
				branch_ZPlusMirth_22 = branch_ZPlusMirth_36;
			} break;
			case 0LL: { // None
				int64_t v42 = 0LL /* False */;
				branch_Bool_26 = v42;
				branch_List_25 = v20;
				branch_Maybe_24 = v17;
				branch_QName_23 = v16;
				branch_ZPlusMirth_22 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_26;
		v13 = branch_Bool_26;
		v12 = branch_List_25;
		v11 = branch_Maybe_24;
		v10 = branch_QName_23;
		v9 = branch_ZPlusMirth_22;
	}
	decref(v12);
	decref(v10);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static int64_t mw_mirth_name_QName_definedZ_hardZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_name_QName_defZ_hardZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	int64_t v8 = 1LL;
	bool v9 = (v7 == v8);
	*out_ZPlusMirth_3 = v5;
	return ((int64_t)v9);
}
static VAL mw_mirth_name_QName_defZ_softZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3) {
	incref(in_QName_2);
	uint64_t v5 = value_u64(VTUP(in_QName_2)->cells[2]);
	decref(in_QName_2);
	VAL v6 = mw_mirth_name_Name_defs(v5);
	VAL v7 = mtw_std_maybe_Maybe_1_Some(in_QName_2);
	VAL v8 = MKI64(0LL /* None */);
	int64_t v9 = 1LL /* True */;
	VAL v10 = in_ZPlusMirth_1;
	VAL v11 = v7;
	VAL v12 = v8;
	VAL v13 = v6;
	int64_t v14 = v9;
	int64_t v15 = v9;
	while (((bool)v15)) {
		VAL v16 = v10;
		VAL v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		int64_t v20 = v14;
		VAL v21;
		VAL v22 = mw_std_list_List_1_uncons(v19, &v21);
		VAL branch_ZPlusMirth_23;
		VAL branch_Maybe_24;
		VAL branch_Maybe_25;
		VAL branch_List_26;
		int64_t branch_Bool_27;
		switch (get_data_tag(v22)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v22);
				incref(v28);
				incref(v17);
				VAL v29;
				VAL v30 = mw_mirth_def_Def_qnameZ_soft(v16, v28, &v29);
				int64_t branch_Bool_31;
				switch (get_data_tag(v30)) {
					case 0LL: { // None
						int64_t v32 = get_data_tag(v17);
						decref(v17);
						int64_t v33 = 0LL;
						bool v34 = (v32 == v33);
						branch_Bool_31 = ((int64_t)v34);
					} break;
					case 1LL: { // Some
						VAL v35 = mtp_std_maybe_Maybe_1_Some(v30);
						int64_t branch_Bool_36;
						switch (get_data_tag(v17)) {
							case 1LL: { // Some
								VAL v37 = mtp_std_maybe_Maybe_1_Some(v17);
								int64_t v38 = mw_mirth_name_QName_ZEqualZEqual(v37, v35);
								branch_Bool_36 = v38;
							} break;
							case 0LL: { // None
								decref(v35);
								int64_t v39 = 0LL /* False */;
								branch_Bool_36 = v39;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Bool_31 = branch_Bool_36;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL branch_ZPlusMirth_40;
				VAL branch_Maybe_41;
				VAL branch_Maybe_42;
				if (((bool)branch_Bool_31)) {
					VAL v43 = mtw_std_maybe_Maybe_1_Some(v28);
					branch_Maybe_42 = v43;
					branch_Maybe_41 = v17;
					branch_ZPlusMirth_40 = v29;
				} else {
					decref(v28);
					VAL v44 = MKI64(0LL /* None */);
					branch_Maybe_42 = v44;
					branch_Maybe_41 = v17;
					branch_ZPlusMirth_40 = v29;
				}
				VAL branch_ZPlusMirth_45;
				VAL branch_Maybe_46;
				VAL branch_Maybe_47;
				VAL branch_List_48;
				switch (get_data_tag(branch_Maybe_42)) {
					case 0LL: { // None
						branch_List_48 = v21;
						branch_Maybe_47 = v18;
						branch_Maybe_46 = branch_Maybe_41;
						branch_ZPlusMirth_45 = branch_ZPlusMirth_40;
					} break;
					default: {
						decref(v21);
						decref(v18);
						VAL v49 = MKI64(0LL /* Nil */);
						branch_List_48 = v49;
						branch_Maybe_47 = branch_Maybe_42;
						branch_Maybe_46 = branch_Maybe_41;
						branch_ZPlusMirth_45 = branch_ZPlusMirth_40;
					} break;
				}
				int64_t v50 = 1LL /* True */;
				branch_Bool_27 = v50;
				branch_List_26 = branch_List_48;
				branch_Maybe_25 = branch_Maybe_47;
				branch_Maybe_24 = branch_Maybe_46;
				branch_ZPlusMirth_23 = branch_ZPlusMirth_45;
			} break;
			case 0LL: { // None
				int64_t v51 = 0LL /* False */;
				branch_Bool_27 = v51;
				branch_List_26 = v21;
				branch_Maybe_25 = v18;
				branch_Maybe_24 = v17;
				branch_ZPlusMirth_23 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_27;
		v14 = branch_Bool_27;
		v13 = branch_List_26;
		v12 = branch_Maybe_25;
		v11 = branch_Maybe_24;
		v10 = branch_ZPlusMirth_23;
	}
	decref(v13);
	decref(v11);
	*out_ZPlusMirth_3 = v10;
	return v12;
}
static int64_t mw_mirth_name_QName_definedZ_softZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	int64_t v8 = 1LL;
	bool v9 = (v7 == v8);
	*out_ZPlusMirth_3 = v5;
	return ((int64_t)v9);
}
static int64_t mw_mirth_name_QName_undefinedZ_softZAsk (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, in_QName_2, &v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	int64_t v8 = 0LL;
	bool v9 = (v7 == v8);
	*out_ZPlusMirth_3 = v5;
	return ((int64_t)v9);
}
static VAL mw_mirth_name_QName_prim (VAL in_ZPlusMirth_1, VAL in_Str_2, int64_t in_Int_3, VAL *out_ZPlusMirth_4) {
	uint64_t v6 = mw_std_prim_Str_ZToName(in_Str_2);
	VAL v7;
	VAL v8 = mw_mirth_name_Namespace_prim(in_ZPlusMirth_1, &v7);
	VAL v9 = mtw_mirth_name_QName_MKQNAME(v8, v6, in_Int_3);
	*out_ZPlusMirth_4 = v7;
	return v9;
}
static VAL mw_mirth_name_QName_ZToStr (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	uint64_t v6;
	int64_t v7;
	mtp_mirth_name_QName_MKQNAME(in_QName_2, &v5, &v6, &v7);
	VAL v8;
	VAL v9 = mw_mirth_name_Namespace_ZToStr(in_ZPlusMirth_1, v5, &v8);
	STR* v10;
	STRLIT(v10, ".", 1);
	STR* v11 = str_cat(value_str(v9), v10);
	VAL v12 = mw_mirth_name_Name_ZToStr(v6);
	STR* v13 = str_cat(v11, value_str(v12));
	int64_t v14 = 0LL;
	bool v15 = (v7 == v14);
	VAL branch_ZPlusMirth_16;
	VAL branch_Str_17;
	if (v15) {
		branch_Str_17 = MKSTR(v13);
		branch_ZPlusMirth_16 = v8;
	} else {
		STR* v18;
		STRLIT(v18, "/", 1);
		STR* v19 = i64_show(v7);
		STR* v20 = str_cat(v18, v19);
		STR* v21 = str_cat(v13, v20);
		branch_Str_17 = MKSTR(v21);
		branch_ZPlusMirth_16 = v8;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_16;
	return branch_Str_17;
}
static VAL mw_mirth_name_QName_toZ_moduleZ_path (VAL in_QName_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	incref(in_QName_1);
	VAL v7 = VTUP(in_QName_1)->cells[1];
	incref(v7);
	decref(in_QName_1);
	VAL branch_ZPlusMirth_8;
	VAL branch_Path_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // NAMESPACE_PACKAGE
			uint64_t v10 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(v7);
			VAL v11;
			VAL v12 = mw_mirth_package_Package_pathZ_orZ_search(in_ZPlusMirth_2, v10, &v11);
			VAL branch_ZPlusMirth_13;
			uint64_t branch_Package_14;
			VAL branch_z_x1_15;
			switch (get_data_tag(v12)) {
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					branch_z_x1_15 = v16;
					branch_Package_14 = v10;
					branch_ZPlusMirth_13 = v11;
				} break;
				case 0LL: { // None
					STR* v17;
					STRLIT(v17, "No path defined for package ", 28);
					uint64_t v18 = mw_mirth_package_Package_name(v10);
					VAL v19 = mw_mirth_name_Name_ZToStr(v18);
					mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v19, v11);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			uint64_t v22 = value_u64(VTUP(in_QName_1)->cells[2]);
			decref(in_QName_1);
			VAL v23 = mw_mirth_name_Name_ZToStr(v22);
			STR* v24;
			STRLIT(v24, ".mth", 4);
			STR* v25 = str_cat(value_str(v23), v24);
			VAL v26 = mw_std_path_Path_join(branch_z_x1_15, MKSTR(v25));
			branch_Path_9 = v26;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_13;
		} break;
		default: {
			decref(v7);
			STR* v27;
			STRLIT(v27, "expected module name in QName.to-module-path", 44);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v27), in_ZPlusMirth_2);
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Path_9;
}
static VAL mw_mirth_name_QName_mangled (VAL in_ZPlusMirth_1, VAL in_QName_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	uint64_t v6;
	int64_t v7;
	mtp_mirth_name_QName_MKQNAME(in_QName_2, &v5, &v6, &v7);
	VAL v8;
	VAL v9 = mw_mirth_name_Namespace_mangled(in_ZPlusMirth_1, v5, &v8);
	STR* v10;
	STRLIT(v10, "_", 1);
	STR* v11 = str_cat(value_str(v9), v10);
	VAL v12 = mw_mirth_name_Name_mangled(v6);
	STR* v13 = str_cat(v11, value_str(v12));
	int64_t v14 = 0LL;
	bool v15 = (v7 > v14);
	VAL branch_ZPlusMirth_16;
	VAL branch_Str_17;
	if (v15) {
		STR* v18;
		STRLIT(v18, "_", 1);
		STR* v19 = i64_show(v7);
		STR* v20 = str_cat(v18, v19);
		STR* v21 = str_cat(v13, v20);
		branch_Str_17 = MKSTR(v21);
		branch_ZPlusMirth_16 = v8;
	} else {
		branch_Str_17 = MKSTR(v13);
		branch_ZPlusMirth_16 = v8;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_16;
	return branch_Str_17;
}
static VAL mw_mirth_name_DName_rootZAsk (VAL in_DName_1) {
	VAL v3;
	VAL v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	decref(v3);
	return v4;
}
static VAL mw_mirth_name_DName_parts (VAL in_DName_1) {
	VAL v3;
	VAL v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	decref(v4);
	return v3;
}
static uint64_t mw_mirth_name_DName_lastZ_name (VAL in_DName_1) {
	VAL v3 = mw_mirth_name_DName_parts(in_DName_1);
	VAL v4 = mw_std_list_ListZPlus_1_last(v3);
	return value_u64(v4);
}
static VAL mw_mirth_name_DName_penultimateZ_nameZAsk (VAL in_DName_1) {
	VAL v3;
	VAL v4 = mtp_mirth_name_DName_DName(in_DName_1, &v3);
	VAL v5;
	VAL v6 = mw_std_list_ListZPlus_1_unsnoc(v3, &v5);
	decref(v5);
	VAL v7 = mw_std_list_List_1_last(v6);
	VAL branch_Maybe_8;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(v4);
			VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_8 = v10;
		} break;
		case 0LL: { // None
			branch_Maybe_8 = v4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_8;
}
static int64_t mw_mirth_name_DName_isZ_relativeZAsk (VAL in_DName_1) {
	VAL v3 = mw_mirth_name_DName_rootZAsk(in_DName_1);
	int64_t v4 = get_data_tag(v3);
	decref(v3);
	int64_t v5 = 0LL;
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static int64_t mw_mirth_package_Package_index (uint64_t in_Package_1) {
	return ((int64_t)in_Package_1);
}
static uint64_t mw_mirth_package_Package_allocZBang (void) {
	void* v2 = mbuf_mirth_package_Package_NUM;
	int64_t v3 = *(int64_t*)v2;
	int64_t v4 = 1LL;
	int64_t v5 = i64_add(v3, v4);
	void* v6 = mbuf_mirth_package_Package_NUM;
	*(int64_t*)v6 = v5;
	return ((uint64_t)v5);
}
static uint64_t mw_mirth_package_Package_name (uint64_t in_Package_1) {
	void* v3 = mfld_mirth_package_Package_ZTildename(in_Package_1);
	VAL v4 = mut_get(v3);
	return value_u64(v4);
}
static VAL mw_mirth_package_Package_qname (uint64_t in_Package_1) {
	VAL v3 = MKI64(0LL /* NAMESPACE_ROOT */);
	uint64_t v4 = mw_mirth_package_Package_name(in_Package_1);
	VAL v5 = mw_mirth_name_QNAME0(v3, v4);
	return v5;
}
static VAL mw_mirth_package_Package_path (uint64_t in_Package_1) {
	void* v3 = mfld_mirth_package_Package_ZTildepath(in_Package_1);
	VAL v4 = mut_get(v3);
	return v4;
}
static uint64_t mw_mirth_package_Package_std (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v4 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v4);
	uint64_t v5 = value_u64(VTUP(v4)->cells[1]);
	decref(v4);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
	return v5;
}
static void mw_mirth_package_initZ_packagesZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	VAL v3 = VTUP(in_ZPlusMirth_1)->cells[4];
	incref(v3);
	uint64_t v4 = value_u64(VTUP(v3)->cells[1]);
	decref(v3);
	STR* v5;
	STRLIT(v5, "std", 3);
	uint64_t v6 = mw_std_prim_Str_ZToName(MKSTR(v5));
	void* v7 = mfld_mirth_package_Package_ZTildename(v4);
	mut_set(MKU64(v6), v7);
	VAL v8 = MKI64(0LL /* None */);
	void* v9 = mfld_mirth_package_Package_ZTildepath(v4);
	mut_set(v8, v9);
	*out_ZPlusMirth_2 = in_ZPlusMirth_1;
}
static VAL mw_mirth_package_Package_pathZ_orZ_search (VAL in_ZPlusMirth_1, uint64_t in_Package_2, VAL *out_ZPlusMirth_3) {
	VAL v7 = mw_mirth_package_Package_path(in_Package_2);
	VAL branch_ZPlusMirth_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(v10);
			branch_Maybe_9 = v11;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			VAL v12 = VTUP(in_ZPlusMirth_1)->cells[7];
			incref(v12);
			VAL v13 = MKI64(0LL /* Nil */);
			VAL v14 = mw_std_list_List_1_reverse(v13);
			int64_t v15 = 1LL /* True */;
			uint64_t v16 = in_Package_2;
			VAL v17 = v14;
			VAL v18 = v12;
			int64_t v19 = v15;
			int64_t v20 = v15;
			while (((bool)v20)) {
				uint64_t v21 = v16;
				VAL v22 = v17;
				VAL v23 = v18;
				int64_t v24 = v19;
				uint64_t branch_Package_25;
				VAL branch_ZPlusList_26;
				VAL branch_List_27;
				int64_t branch_Bool_28;
				switch (get_data_tag(v23)) {
					case 1LL: { // Cons
						VAL v29;
						VAL v30 = mtp_std_list_List_1_Cons(v23, &v29);
						uint64_t v31 = mw_mirth_package_Package_name(v21);
						VAL v32 = mw_mirth_name_Name_ZToStr(v31);
						VAL v33 = mw_std_path_Path_join(v30, v32);
						VAL v34 = mtw_std_list_List_1_Cons(v33, v22);
						int64_t v35 = 1LL /* True */;
						branch_Bool_28 = v35;
						branch_List_27 = v29;
						branch_ZPlusList_26 = v34;
						branch_Package_25 = v21;
					} break;
					case 0LL: { // Nil
						VAL v36 = MKI64(0LL /* Nil */);
						int64_t v37 = 0LL /* False */;
						branch_Bool_28 = v37;
						branch_List_27 = v36;
						branch_ZPlusList_26 = v22;
						branch_Package_25 = v21;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v20 = branch_Bool_28;
				v19 = branch_Bool_28;
				v18 = branch_List_27;
				v17 = branch_ZPlusList_26;
				v16 = branch_Package_25;
			}
			decref(v18);
			VAL v38 = mw_std_list_List_1_reverse(v17);
			VAL v39 = MKI64(0LL /* None */);
			int64_t v40 = 1LL /* True */;
			VAL v41 = in_ZPlusMirth_1;
			VAL v42 = v39;
			VAL v43 = v38;
			int64_t v44 = v40;
			int64_t v45 = v40;
			while (((bool)v45)) {
				VAL v46 = v41;
				VAL v47 = v42;
				VAL v48 = v43;
				int64_t v49 = v44;
				VAL v50;
				VAL v51 = mw_std_list_List_1_uncons(v48, &v50);
				VAL branch_z_x1_52;
				VAL branch_Maybe_53;
				VAL branch_List_54;
				int64_t branch_Bool_55;
				switch (get_data_tag(v51)) {
					case 1LL: { // Some
						VAL v56 = mtp_std_maybe_Maybe_1_Some(v51);
						incref(v56);
						int64_t v57 = mw_std_prim_ZPlusWorld_isZ_directoryZAsk(v56);
						VAL branch_z_x1_58;
						VAL branch_Maybe_59;
						if (((bool)v57)) {
							VAL v60 = mtw_std_maybe_Maybe_1_Some(v56);
							branch_Maybe_59 = v60;
							branch_z_x1_58 = v46;
						} else {
							decref(v56);
							VAL v61 = MKI64(0LL /* None */);
							branch_Maybe_59 = v61;
							branch_z_x1_58 = v46;
						}
						VAL branch_z_x1_62;
						VAL branch_Maybe_63;
						VAL branch_List_64;
						switch (get_data_tag(branch_Maybe_59)) {
							case 0LL: { // None
								branch_List_64 = v50;
								branch_Maybe_63 = v47;
								branch_z_x1_62 = branch_z_x1_58;
							} break;
							default: {
								decref(v50);
								decref(v47);
								VAL v65 = MKI64(0LL /* Nil */);
								branch_List_64 = v65;
								branch_Maybe_63 = branch_Maybe_59;
								branch_z_x1_62 = branch_z_x1_58;
							} break;
						}
						int64_t v66 = 1LL /* True */;
						branch_Bool_55 = v66;
						branch_List_54 = branch_List_64;
						branch_Maybe_53 = branch_Maybe_63;
						branch_z_x1_52 = branch_z_x1_62;
					} break;
					case 0LL: { // None
						int64_t v67 = 0LL /* False */;
						branch_Bool_55 = v67;
						branch_List_54 = v50;
						branch_Maybe_53 = v47;
						branch_z_x1_52 = v46;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v45 = branch_Bool_55;
				v44 = branch_Bool_55;
				v43 = branch_List_54;
				v42 = branch_Maybe_53;
				v41 = branch_z_x1_52;
			}
			decref(v43);
			incref(v42);
			void* v68 = mfld_mirth_package_Package_ZTildepath(v16);
			mut_set(v42, v68);
			branch_Maybe_9 = v42;
			branch_ZPlusMirth_8 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_Maybe_9;
}
static void mw_mirth_package_Package_pathZBang (VAL in_ZPlusMirth_1, VAL in_Path_2, uint64_t in_Package_3, VAL *out_ZPlusMirth_4) {
	VAL v5 = mw_mirth_package_Package_path(in_Package_3);
	VAL branch_ZPlusMirth_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			incref(in_Path_2);
			incref(v7);
			bool v8 = (str_cmp(value_str(in_Path_2), value_str(v7)) == 0);
			VAL branch_ZPlusMirth_9;
			if (v8) {
				decref(v7);
				decref(in_Path_2);
				branch_ZPlusMirth_9 = in_ZPlusMirth_1;
			} else {
				STR* v10;
				STRLIT(v10, "", 0);
				STR* v11;
				STRLIT(v11, "Tried to set different path for the same package ", 49);
				VAL v12;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v11), MKSTR(v10), &v12);
				STR* v13;
				STRLIT(v13, "(package = ", 11);
				VAL v14;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v13), v12, &v14);
				uint64_t v15 = mw_mirth_package_Package_name(in_Package_3);
				VAL v16 = mw_mirth_name_Name_ZToStr(v15);
				VAL v17;
				mw_std_str_ZPlusStr_pushZ_strZBang(v16, v14, &v17);
				STR* v18;
				STRLIT(v18, ", path 1 = ", 11);
				VAL v19;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v18), v17, &v19);
				VAL v20;
				mw_std_prim_Str_showZThen(in_Path_2, v19, &v20);
				STR* v21;
				STRLIT(v21, ", path 2 = ", 11);
				VAL v22;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v21), v20, &v22);
				VAL v23;
				mw_std_prim_Str_showZThen(v7, v22, &v23);
				STR* v24;
				STRLIT(v24, ").", 2);
				VAL v25;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v24), v23, &v25);
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v25, in_ZPlusMirth_1);
			}
			branch_ZPlusMirth_6 = branch_ZPlusMirth_9;
		} break;
		case 0LL: { // None
			VAL v27 = mtw_std_maybe_Maybe_1_Some(in_Path_2);
			void* v28 = mfld_mirth_package_Package_ZTildepath(in_Package_3);
			mut_set(v27, v28);
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static uint64_t mw_mirth_package_Package_newZBang (VAL in_ZPlusMirth_1, VAL in_Maybe_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4) {
	uint64_t v6 = mw_mirth_package_Package_allocZBang();
	void* v7 = mfld_mirth_package_Package_ZTildename(v6);
	mut_set(MKU64(in_Name_3), v7);
	void* v8 = mfld_mirth_package_Package_ZTildepath(v6);
	mut_set(in_Maybe_2, v8);
	VAL v9 = mtw_mirth_def_Def_DefPackage(v6);
	VAL v10;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v9, &v10);
	*out_ZPlusMirth_4 = v10;
	return v6;
}
static uint64_t mw_mirth_package_Package_newZ_orZ_pathZBang (VAL in_ZPlusMirth_1, VAL in_Path_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7 = mw_mirth_package_Package_find(in_ZPlusMirth_1, in_Name_3, &v6);
	uint64_t branch_Package_8;
	VAL branch_ZPlusMirth_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			incref(v10);
			VAL v11;
			mw_mirth_package_Package_pathZBang(v6, in_Path_2, value_u64(v10), &v11);
			branch_ZPlusMirth_9 = v11;
			branch_Package_8 = value_u64(v10);
		} break;
		case 0LL: { // None
			VAL v12 = mtw_std_maybe_Maybe_1_Some(in_Path_2);
			VAL v13;
			uint64_t v14 = mw_mirth_package_Package_newZBang(v6, v12, in_Name_3, &v13);
			branch_ZPlusMirth_9 = v13;
			branch_Package_8 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Package_8;
}
static VAL mw_mirth_package_Package_find (VAL in_ZPlusMirth_1, uint64_t in_Name_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* NAMESPACE_ROOT */);
	VAL v6 = mw_mirth_name_QNAME0(v5, in_Name_2);
	VAL v7;
	VAL v8 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_1, v6, &v7);
	VAL branch_Maybe_9;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v11 = mw_mirth_def_Def_packageZAsk(v10);
			branch_Maybe_9 = v11;
		} break;
		case 0LL: { // None
			VAL v12 = MKI64(0LL /* None */);
			branch_Maybe_9 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = v7;
	return branch_Maybe_9;
}
static uint64_t mw_mirth_package_Package_findZ_orZ_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Name_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_package_Package_find(in_ZPlusMirth_1, in_Name_2, &v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Name_8;
	uint64_t branch_Package_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_Package_9 = value_u64(v10);
			branch_Name_8 = in_Name_2;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 0LL: { // None
			VAL v11 = MKI64(0LL /* None */);
			VAL v12;
			uint64_t v13 = mw_mirth_package_Package_newZBang(v5, v11, in_Name_2, &v12);
			branch_Package_9 = v13;
			branch_Name_8 = in_Name_2;
			branch_ZPlusMirth_7 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Package_9;
}
static int64_t mw_mirth_package_Package_ZEqualZEqual (uint64_t in_Package_1, uint64_t in_Package_2) {
	int64_t v4 = mw_mirth_package_Package_index(in_Package_1);
	int64_t v5 = mw_mirth_package_Package_index(in_Package_2);
	bool v6 = (v4 == v5);
	return ((int64_t)v6);
}
static void mw_mirth_lexer_lexerZ_stackZ_pushZBang (uint64_t in_Token_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusLexer_3) {
	VAL v4 = VTUP(in_ZPlusLexer_2)->cells[4];
	incref(v4);
	VAL v5 = mtw_std_list_List_1_Cons(MKU64(in_Token_1), v4);
	VAL v6 = VTUP(in_ZPlusLexer_2)->cells[4];
	decref(v6);
	VTUP(in_ZPlusLexer_2)->cells[4] = v5;
	*out_ZPlusLexer_3 = in_ZPlusLexer_2;
}
static VAL mw_mirth_lexer_lexerZ_stackZ_popZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3) {
	VAL v4 = VTUP(in_ZPlusLexer_1)->cells[4];
	incref(v4);
	VAL v5;
	VAL v6 = mw_std_list_List_1_uncons(v4, &v5);
	VAL v7 = VTUP(in_ZPlusLexer_1)->cells[4];
	decref(v7);
	VTUP(in_ZPlusLexer_1)->cells[4] = v5;
	*out_ZPlusLexer_3 = in_ZPlusLexer_1;
	return v6;
}
static void mw_mirth_lexer_lexerZ_stackZ_drop (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	VAL v3;
	VAL v4 = mw_mirth_lexer_lexerZ_stackZ_popZBang(in_ZPlusLexer_1, &v3);
	decref(v4);
	*out_ZPlusLexer_2 = v3;
}
static VAL mw_mirth_lexer_lexerZ_stackZ_peek (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3) {
	VAL v4 = VTUP(in_ZPlusLexer_1)->cells[4];
	incref(v4);
	VAL v5 = mw_std_list_List_1_first(v4);
	*out_ZPlusLexer_3 = in_ZPlusLexer_1;
	return v5;
}
static uint64_t mw_mirth_lexer_runZ_lexerZBang (VAL in_Path_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v7;
	uint64_t v8 = mw_mirth_module_Module_newZBang(in_ZPlusMirth_2, in_Path_1, &v7);
	VAL v9 = mw_mirth_module_Module_sourceZ_path(v8);
	VAL v10;
	mw_std_prim_ZPlusWorld_openZ_fileZBang(v9, &v10);
	VAL branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	VAL branch_ZPlusFile_13;
	switch (get_data_tag(v10)) {
		case 0LL: { // +FileOk
			VAL v14;
			mtp_std_file_ZPlusFileZAsk_ZPlusFileOk(v10, &v14);
			branch_ZPlusFile_13 = v14;
			branch_z_x1_12 = MKI64(0);
			branch_ZPlusMirth_11 = v7;
		} break;
		case 1LL: { // +FileErr
			VAL v15 = mtp_std_file_ZPlusFileZAsk_ZPlusFileErr(v10);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v15, v7);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v18;
	mw_std_input_ZPlusInput_startZBang(branch_ZPlusFile_13, &v18);
	int64_t v19 = 1LL;
	int64_t v20 = mw_std_prim_Int_ZToRow(v19);
	int64_t v21 = 1LL;
	int64_t v22 = mw_std_prim_Int_ZToCol(v21);
	VAL v23 = MKI64(0LL /* Nil */);
	uint64_t v24 = mw_mirth_token_Token_allocZ_noneZBang();
	VAL v25;
	mtw_mirth_lexer_ZPlusLexer_ZPlusLexer(v8, v20, v22, v23, v24, v18, &v25);
	VAL v26;
	int64_t v27 = mw_mirth_lexer_ZPlusLexer_doneZAsk(v25, &v26);
	bool v28 = !((bool)v27);
	VAL v29 = branch_z_x1_12;
	VAL v30 = branch_ZPlusMirth_11;
	uint64_t v31 = v24;
	VAL v32 = v26;
	bool v33 = v28;
	while (v33) {
		VAL v34 = v29;
		VAL v35 = v30;
		uint64_t v36 = v31;
		VAL v37 = v32;
		VAL v38;
		VAL v39;
		mw_mirth_lexer_lexerZ_nextZBang(v35, v37, &v38, &v39);
		VAL v40;
		int64_t v41 = mw_mirth_lexer_ZPlusLexer_doneZAsk(v39, &v40);
		bool v42 = !((bool)v41);
		v33 = v42;
		v32 = v40;
		v31 = v36;
		v30 = v38;
		v29 = v34;
	}
	VAL v43 = MKI64(0LL /* TokenNone */);
	VAL v44;
	mw_mirth_lexer_lexerZ_emitZBang(v43, v32, &v44);
	uint64_t v45;
	int64_t v46;
	int64_t v47;
	VAL v48;
	uint64_t v49;
	VAL v50;
	mtp_mirth_lexer_ZPlusLexer_ZPlusLexer(v44, &v45, &v46, &v47, &v48, &v49, &v50);
	VAL v51;
	mw_std_input_ZPlusInput_endZBang(v50, &v51);
	mw_std_file_ZPlusFile_closeZ_fileZBang(v51);
	VAL v52;
	VAL v53 = mw_std_list_List_1_uncons(v48, &v52);
	decref(v52);
	VAL branch_ZPlusMirth_54;
	switch (get_data_tag(v53)) {
		case 1LL: { // Some
			VAL v55 = mtp_std_maybe_Maybe_1_Some(v53);
			STR* v56;
			STRLIT(v56, "Mismatched left parenthesis.", 28);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(value_u64(v55), MKSTR(v56), v30);
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_54 = v30;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v58 = mw_mirth_token_Token_allocZ_noneZBang();
	void* v59 = mfld_mirth_module_Module_ZTildeend(v45);
	mut_set(MKU64(v58), v59);
	uint64_t v60 = mw_mirth_token_Token_succ(v31);
	void* v61 = mfld_mirth_module_Module_ZTildestart(v45);
	mut_set(MKU64(v60), v61);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_54;
	return v45;
}
static int64_t mw_mirth_lexer_ZPlusLexer_doneZAsk (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3) {
	VAL v4 = VTUP(in_ZPlusLexer_1)->cells[6];
	VAL v5;
	int64_t v6 = mw_std_input_ZPlusInput_doneZAsk(v4, &v5);
	VTUP(in_ZPlusLexer_1)->cells[6] = v5;
	*out_ZPlusLexer_3 = in_ZPlusLexer_1;
	return v6;
}
static uint64_t mw_mirth_lexer_lexerZ_makeZBang (VAL in_TokenValue_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusLexer_4) {
	uint64_t v5 = mw_mirth_token_Token_allocZBang();
	void* v6 = mfld_mirth_token_Token_ZTildevalue(v5);
	mut_set(in_TokenValue_1, v6);
	uint64_t v7 = value_u64(VTUP(in_ZPlusLexer_2)->cells[1]);
	void* v8 = mfld_mirth_token_Token_ZTildemodule(v5);
	mut_set(MKU64(v7), v8);
	int64_t v9 = value_i64(VTUP(in_ZPlusLexer_2)->cells[2]);
	void* v10 = mfld_mirth_token_Token_ZTilderow(v5);
	mut_set(MKI64(v9), v10);
	int64_t v11 = value_i64(VTUP(in_ZPlusLexer_2)->cells[3]);
	void* v12 = mfld_mirth_token_Token_ZTildecol(v5);
	mut_set(MKI64(v11), v12);
	VTUP(in_ZPlusLexer_2)->cells[5] = MKU64(v5);
	*out_ZPlusLexer_4 = in_ZPlusLexer_2;
	return v5;
}
static void mw_mirth_lexer_lexerZ_emitZBang (VAL in_TokenValue_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusLexer_3) {
	VAL v4;
	uint64_t v5 = mw_mirth_lexer_lexerZ_makeZBang(in_TokenValue_1, in_ZPlusLexer_2, &v4);
	*out_ZPlusLexer_3 = v4;
}
static void mw_mirth_lexer_lexerZ_nextZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4) {
	VAL v5;
	int64_t v6 = mw_mirth_lexer_lexerZ_peek(in_ZPlusLexer_2, &v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusLexer_8;
	switch (v6) {
		case 10LL: { // BLF
			VAL v9;
			mw_mirth_lexer_lexerZ_newlineZBang(v5, &v9);
			VAL v10;
			mw_mirth_lexer_lexerZ_moveZBang(v9, &v10);
			branch_ZPlusLexer_8 = v10;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 32LL: { // BSPACE
			VAL v11;
			mw_mirth_lexer_lexerZ_moveZBang(v5, &v11);
			branch_ZPlusLexer_8 = v11;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // BHT
			VAL v12;
			mw_mirth_lexer_lexerZ_moveZBang(v5, &v12);
			branch_ZPlusLexer_8 = v12;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // BVT
			VAL v13;
			mw_mirth_lexer_lexerZ_moveZBang(v5, &v13);
			branch_ZPlusLexer_8 = v13;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // BCR
			VAL v14;
			mw_mirth_lexer_lexerZ_moveZBang(v5, &v14);
			branch_ZPlusLexer_8 = v14;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 35LL: { // BHASH
			VAL v15;
			mw_mirth_lexer_lexerZ_skipZ_commentZBang(v5, &v15);
			VAL v16;
			mw_mirth_lexer_lexerZ_moveZBang(v15, &v16);
			branch_ZPlusLexer_8 = v16;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 44LL: { // BCOMMA
			VAL v17;
			mw_mirth_lexer_lexerZ_closeZ_colonsZBang(v5, &v17);
			VAL v18 = MKI64(1LL /* TokenComma */);
			VAL v19;
			mw_mirth_lexer_lexerZ_emitZBang(v18, v17, &v19);
			VAL v20;
			mw_mirth_lexer_lexerZ_moveZBang(v19, &v20);
			branch_ZPlusLexer_8 = v20;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 41LL: { // BRPAREN
			VAL v21;
			mw_mirth_lexer_lexerZ_closeZ_colonsZBang(v5, &v21);
			VAL v22;
			VAL v23;
			mw_mirth_lexer_lexerZ_emitZ_rparenZBang(in_ZPlusMirth_1, v21, &v22, &v23);
			VAL v24;
			mw_mirth_lexer_lexerZ_moveZBang(v23, &v24);
			branch_ZPlusLexer_8 = v24;
			branch_ZPlusMirth_7 = v22;
		} break;
		case 93LL: { // BRSQUARE
			VAL v25;
			mw_mirth_lexer_lexerZ_closeZ_colonsZBang(v5, &v25);
			VAL v26;
			VAL v27;
			mw_mirth_lexer_lexerZ_emitZ_rsquareZBang(in_ZPlusMirth_1, v25, &v26, &v27);
			VAL v28;
			mw_mirth_lexer_lexerZ_moveZBang(v27, &v28);
			branch_ZPlusLexer_8 = v28;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 125LL: { // BRCURLY
			VAL v29;
			mw_mirth_lexer_lexerZ_closeZ_colonsZBang(v5, &v29);
			VAL v30;
			VAL v31;
			mw_mirth_lexer_lexerZ_emitZ_rcurlyZBang(in_ZPlusMirth_1, v29, &v30, &v31);
			VAL v32;
			mw_mirth_lexer_lexerZ_moveZBang(v31, &v32);
			branch_ZPlusLexer_8 = v32;
			branch_ZPlusMirth_7 = v30;
		} break;
		case 58LL: { // BCOLON
			VAL v33;
			mw_mirth_lexer_lexerZ_prepareZ_forZ_argsZBang(v5, &v33);
			VAL v34;
			mw_mirth_lexer_lexerZ_emitZ_lcolonZBang(v33, &v34);
			VAL v35;
			mw_mirth_lexer_lexerZ_moveZBang(v34, &v35);
			branch_ZPlusLexer_8 = v35;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 40LL: { // BLPAREN
			VAL v36;
			mw_mirth_lexer_lexerZ_prepareZ_forZ_argsZBang(v5, &v36);
			VAL v37;
			mw_mirth_lexer_lexerZ_emitZ_lparenZBang(v36, &v37);
			VAL v38;
			mw_mirth_lexer_lexerZ_moveZBang(v37, &v38);
			branch_ZPlusLexer_8 = v38;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 91LL: { // BLSQUARE
			VAL v39;
			mw_mirth_lexer_lexerZ_prepareZ_forZ_atomZBang(v5, &v39);
			VAL v40;
			mw_mirth_lexer_lexerZ_emitZ_lsquareZBang(v39, &v40);
			VAL v41;
			mw_mirth_lexer_lexerZ_moveZBang(v40, &v41);
			branch_ZPlusLexer_8 = v41;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 123LL: { // BLCURLY
			VAL v42;
			mw_mirth_lexer_lexerZ_prepareZ_forZ_atomZBang(v5, &v42);
			VAL v43;
			mw_mirth_lexer_lexerZ_emitZ_lcurlyZBang(v42, &v43);
			VAL v44;
			mw_mirth_lexer_lexerZ_moveZBang(v43, &v44);
			branch_ZPlusLexer_8 = v44;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 34LL: { // BQUOTE
			VAL v45;
			mw_mirth_lexer_lexerZ_prepareZ_forZ_atomZBang(v5, &v45);
			VAL v46;
			VAL v47;
			mw_mirth_lexer_lexerZ_emitZ_stringZBang(in_ZPlusMirth_1, v45, &v46, &v47);
			VAL v48;
			mw_mirth_lexer_lexerZ_moveZBang(v47, &v48);
			branch_ZPlusLexer_8 = v48;
			branch_ZPlusMirth_7 = v46;
		} break;
		default: {
			int64_t v49 = mw_std_byte_Byte_isZ_nameZ_byte(v6);
			VAL branch_ZPlusMirth_50;
			VAL branch_ZPlusLexer_51;
			if (((bool)v49)) {
				VAL v52;
				mw_mirth_lexer_lexerZ_prepareZ_forZ_atomZBang(v5, &v52);
				VAL v53;
				mw_mirth_lexer_lexerZ_emitZ_nameZBang(v52, &v53);
				branch_ZPlusLexer_51 = v53;
				branch_ZPlusMirth_50 = in_ZPlusMirth_1;
			} else {
				STR* v54;
				STRLIT(v54, "Unrecognized byte.", 18);
				mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang(MKSTR(v54), in_ZPlusMirth_1, v5);
			}
			branch_ZPlusLexer_8 = branch_ZPlusLexer_51;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_50;
		} break;
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static void mw_mirth_lexer_lexerZ_newlineZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	int64_t v3 = value_i64(VTUP(in_ZPlusLexer_1)->cells[2]);
	int64_t v4 = mw_mirth_location_Row_ZToInt(v3);
	int64_t v5 = 1LL;
	int64_t v6 = i64_add(v4, v5);
	int64_t v7 = mw_std_prim_Int_ZToRow(v6);
	VTUP(in_ZPlusLexer_1)->cells[2] = MKI64(v7);
	int64_t v8 = 0LL;
	int64_t v9 = mw_std_prim_Int_ZToCol(v8);
	VTUP(in_ZPlusLexer_1)->cells[3] = MKI64(v9);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
}
static void mw_mirth_lexer_lexerZ_emitZ_lcolonZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	VAL v3 = MKI64(5LL /* TokenLColonOpen */);
	VAL v4;
	uint64_t v5 = mw_mirth_lexer_lexerZ_makeZBang(v3, in_ZPlusLexer_1, &v4);
	VAL v6;
	mw_mirth_lexer_lexerZ_stackZ_pushZBang(v5, v4, &v6);
	*out_ZPlusLexer_2 = v6;
}
static void mw_mirth_lexer_lexerZ_closeZ_colonsZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	int64_t v3 = 1LL /* True */;
	VAL v4 = in_ZPlusLexer_1;
	int64_t v5 = v3;
	int64_t v6 = v3;
	while (((bool)v6)) {
		VAL v7 = v4;
		int64_t v8 = v5;
		VAL v9;
		VAL v10 = mw_mirth_lexer_lexerZ_stackZ_peek(v7, &v9);
		VAL branch_Maybe_11;
		switch (get_data_tag(v10)) {
			case 1LL: { // Some
				VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
				incref(v12);
				int64_t v13 = mw_mirth_token_Token_lcolonZ_openZAsk(value_u64(v12));
				VAL branch_Maybe_14;
				if (((bool)v13)) {
					VAL v15 = mtw_std_maybe_Maybe_1_Some(v12);
					branch_Maybe_14 = v15;
				} else {
					decref(v12);
					VAL v16 = MKI64(0LL /* None */);
					branch_Maybe_14 = v16;
				}
				branch_Maybe_11 = branch_Maybe_14;
			} break;
			case 0LL: { // None
				VAL v17 = MKI64(0LL /* None */);
				branch_Maybe_11 = v17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL branch_ZPlusLexer_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(branch_Maybe_11)) {
			case 1LL: { // Some
				VAL v20 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_11);
				VAL v21;
				mw_mirth_lexer_lexerZ_stackZ_drop(v9, &v21);
				incref(v20);
				VAL v22 = mtw_mirth_token_TokenValue_TokenRColon(value_u64(v20));
				VAL v23;
				uint64_t v24 = mw_mirth_lexer_lexerZ_makeZBang(v22, v21, &v23);
				VAL v25 = mtw_mirth_token_TokenValue_TokenLColon(v24);
				void* v26 = mfld_mirth_token_Token_ZTildevalue(value_u64(v20));
				mut_set(v25, v26);
				int64_t v27 = 1LL /* True */;
				branch_Bool_19 = v27;
				branch_ZPlusLexer_18 = v23;
			} break;
			case 0LL: { // None
				int64_t v28 = 0LL /* False */;
				branch_Bool_19 = v28;
				branch_ZPlusLexer_18 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v6 = branch_Bool_19;
		v5 = branch_Bool_19;
		v4 = branch_ZPlusLexer_18;
	}
	*out_ZPlusLexer_2 = v4;
}
static void mw_mirth_lexer_lexerZ_prepareZ_forZ_atomZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	uint64_t v3 = value_u64(VTUP(in_ZPlusLexer_1)->cells[5]);
	int64_t v4 = mw_mirth_token_Token_lcolonZ_openZAsk(v3);
	VAL branch_ZPlusLexer_5;
	if (((bool)v4)) {
		branch_ZPlusLexer_5 = in_ZPlusLexer_1;
	} else {
		VAL v6;
		mw_mirth_lexer_lexerZ_closeZ_colonsZBang(in_ZPlusLexer_1, &v6);
		branch_ZPlusLexer_5 = v6;
	}
	*out_ZPlusLexer_2 = branch_ZPlusLexer_5;
}
static void mw_mirth_lexer_lexerZ_prepareZ_forZ_argsZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	uint64_t v3 = value_u64(VTUP(in_ZPlusLexer_1)->cells[5]);
	VAL v4 = mw_mirth_token_Token_nameZDivdnameZAsk(v3);
	int64_t v5 = get_data_tag(v4);
	decref(v4);
	int64_t v6 = 0LL;
	bool v7 = (v5 == v6);
	VAL branch_ZPlusLexer_8;
	if (v7) {
		VAL v9;
		mw_mirth_lexer_lexerZ_closeZ_colonsZBang(in_ZPlusLexer_1, &v9);
		branch_ZPlusLexer_8 = v9;
	} else {
		branch_ZPlusLexer_8 = in_ZPlusLexer_1;
	}
	*out_ZPlusLexer_2 = branch_ZPlusLexer_8;
}
static void mw_mirth_lexer_lexerZ_emitZ_lparenZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	VAL v3 = MKI64(2LL /* TokenLParenOpen */);
	VAL v4;
	uint64_t v5 = mw_mirth_lexer_lexerZ_makeZBang(v3, in_ZPlusLexer_1, &v4);
	VAL v6;
	mw_mirth_lexer_lexerZ_stackZ_pushZBang(v5, v4, &v6);
	*out_ZPlusLexer_2 = v6;
}
static void mw_mirth_lexer_lexerZ_emitZ_rparenZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4) {
	VAL v5;
	VAL v6 = mw_mirth_lexer_lexerZ_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusLexer_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // None
			STR* v9;
			STRLIT(v9, "Mismatched right parenthesis.", 29);
			mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang(MKSTR(v9), in_ZPlusMirth_1, v5);
		} break;
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v12);
			int64_t v13 = mw_mirth_token_Token_lparenZ_openZAsk(value_u64(v12));
			VAL branch_ZPlusMirth_14;
			VAL branch_ZPlusLexer_15;
			if (((bool)v13)) {
				incref(v12);
				VAL v16 = mtw_mirth_token_TokenValue_TokenRParen(value_u64(v12));
				VAL v17;
				uint64_t v18 = mw_mirth_lexer_lexerZ_makeZBang(v16, v5, &v17);
				VAL v19 = mtw_mirth_token_TokenValue_TokenLParen(v18);
				void* v20 = mfld_mirth_token_Token_ZTildevalue(value_u64(v12));
				mut_set(v19, v20);
				branch_ZPlusLexer_15 = v17;
				branch_ZPlusMirth_14 = in_ZPlusMirth_1;
			} else {
				STR* v21;
				STRLIT(v21, "Mismatched right parenthesis.", 29);
				mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang(MKSTR(v21), in_ZPlusMirth_1, v5);
			}
			branch_ZPlusLexer_8 = branch_ZPlusLexer_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static void mw_mirth_lexer_lexerZ_emitZ_lsquareZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	VAL v3 = MKI64(3LL /* TokenLSquareOpen */);
	VAL v4;
	uint64_t v5 = mw_mirth_lexer_lexerZ_makeZBang(v3, in_ZPlusLexer_1, &v4);
	VAL v6;
	mw_mirth_lexer_lexerZ_stackZ_pushZBang(v5, v4, &v6);
	*out_ZPlusLexer_2 = v6;
}
static void mw_mirth_lexer_lexerZ_emitZ_rsquareZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4) {
	VAL v5;
	VAL v6 = mw_mirth_lexer_lexerZ_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusLexer_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // None
			STR* v9;
			STRLIT(v9, "Mismatched right square bracket.", 32);
			mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang(MKSTR(v9), in_ZPlusMirth_1, v5);
		} break;
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v12);
			int64_t v13 = mw_mirth_token_Token_lsquareZ_openZAsk(value_u64(v12));
			VAL branch_ZPlusMirth_14;
			VAL branch_ZPlusLexer_15;
			if (((bool)v13)) {
				incref(v12);
				VAL v16 = mtw_mirth_token_TokenValue_TokenRSquare(value_u64(v12));
				VAL v17;
				uint64_t v18 = mw_mirth_lexer_lexerZ_makeZBang(v16, v5, &v17);
				VAL v19 = mtw_mirth_token_TokenValue_TokenLSquare(v18);
				void* v20 = mfld_mirth_token_Token_ZTildevalue(value_u64(v12));
				mut_set(v19, v20);
				branch_ZPlusLexer_15 = v17;
				branch_ZPlusMirth_14 = in_ZPlusMirth_1;
			} else {
				STR* v21;
				STRLIT(v21, "Mismatched right square bracket.", 32);
				mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang(MKSTR(v21), in_ZPlusMirth_1, v5);
			}
			branch_ZPlusLexer_8 = branch_ZPlusLexer_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static void mw_mirth_lexer_lexerZ_emitZ_lcurlyZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	VAL v3 = MKI64(4LL /* TokenLCurlyOpen */);
	VAL v4;
	uint64_t v5 = mw_mirth_lexer_lexerZ_makeZBang(v3, in_ZPlusLexer_1, &v4);
	VAL v6;
	mw_mirth_lexer_lexerZ_stackZ_pushZBang(v5, v4, &v6);
	*out_ZPlusLexer_2 = v6;
}
static void mw_mirth_lexer_lexerZ_emitZ_rcurlyZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4) {
	VAL v5;
	VAL v6 = mw_mirth_lexer_lexerZ_stackZ_popZBang(in_ZPlusLexer_2, &v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusLexer_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // None
			STR* v9;
			STRLIT(v9, "Mismatched right curly brace.", 29);
			mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang(MKSTR(v9), in_ZPlusMirth_1, v5);
		} break;
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v6);
			incref(v12);
			int64_t v13 = mw_mirth_token_Token_lcurlyZ_openZAsk(value_u64(v12));
			VAL branch_ZPlusMirth_14;
			VAL branch_ZPlusLexer_15;
			if (((bool)v13)) {
				incref(v12);
				VAL v16 = mtw_mirth_token_TokenValue_TokenRCurly(value_u64(v12));
				VAL v17;
				uint64_t v18 = mw_mirth_lexer_lexerZ_makeZBang(v16, v5, &v17);
				VAL v19 = mtw_mirth_token_TokenValue_TokenLCurly(v18);
				void* v20 = mfld_mirth_token_Token_ZTildevalue(value_u64(v12));
				mut_set(v19, v20);
				branch_ZPlusLexer_15 = v17;
				branch_ZPlusMirth_14 = in_ZPlusMirth_1;
			} else {
				STR* v21;
				STRLIT(v21, "Mismatched right curly brace.", 29);
				mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang(MKSTR(v21), in_ZPlusMirth_1, v5);
			}
			branch_ZPlusLexer_8 = branch_ZPlusLexer_15;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusLexer_4 = branch_ZPlusLexer_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static void mw_mirth_lexer_lexerZ_emitZ_nameZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	STR* v3;
	STRLIT(v3, "", 0);
	uint64_t v4 = value_u64(VTUP(in_ZPlusLexer_1)->cells[1]);
	int64_t v5 = value_i64(VTUP(in_ZPlusLexer_1)->cells[2]);
	int64_t v6 = value_i64(VTUP(in_ZPlusLexer_1)->cells[3]);
	VAL v7;
	int64_t v8 = mw_mirth_lexer_lexerZ_peek(in_ZPlusLexer_1, &v7);
	int64_t v9 = mw_std_byte_Byte_isZ_nameZ_byte(v8);
	STR* v10 = v3;
	uint64_t v11 = v4;
	int64_t v12 = v5;
	int64_t v13 = v6;
	VAL v14 = v7;
	int64_t v15 = v8;
	int64_t v16 = v9;
	while (((bool)v16)) {
		STR* v17 = v10;
		uint64_t v18 = v11;
		int64_t v19 = v12;
		int64_t v20 = v13;
		VAL v21 = v14;
		int64_t v22 = v15;
		VAL v23;
		mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(v22, MKSTR(v17), &v23);
		VAL v24;
		mw_mirth_lexer_lexerZ_moveZBang(v21, &v24);
		VAL v25;
		int64_t v26 = mw_mirth_lexer_lexerZ_peek(v24, &v25);
		int64_t v27 = mw_std_byte_Byte_isZ_nameZ_byte(v26);
		v16 = v27;
		v15 = v26;
		v14 = v25;
		v13 = v20;
		v12 = v19;
		v11 = v18;
		v10 = value_str(v23);
	}
	VAL v28;
	int64_t v29 = mw_std_str_ZPlusStr_isZ_docZ_startZAsk(MKSTR(v10), &v28);
	VAL branch_ZPlusStr_30;
	VAL branch_ZPlusLexer_31;
	if (((bool)v29)) {
		VAL v32;
		mw_mirth_lexer_lexerZ_skipZ_docZBang(v14, &v32);
		branch_ZPlusLexer_31 = v32;
		branch_ZPlusStr_30 = v28;
	} else {
		VAL v33;
		int64_t v34 = mw_std_str_ZPlusStr_isZ_floatZAsk(v28, &v33);
		uint64_t branch_Module_35;
		int64_t branch_Row_36;
		int64_t branch_Col_37;
		VAL branch_ZPlusStr_38;
		VAL branch_TokenValue_39;
		if (((bool)v34)) {
			VAL v40;
			double v41 = mw_std_str_ZPlusStr_floatZAsk(v33, &v40);
			VAL v42 = mtw_mirth_token_TokenValue_TokenF64(v41);
			branch_TokenValue_39 = v42;
			branch_ZPlusStr_38 = v40;
			branch_Col_37 = v13;
			branch_Row_36 = v12;
			branch_Module_35 = v11;
		} else {
			VAL v43;
			int64_t v44 = mw_std_str_ZPlusStr_isZ_intZAsk(v33, &v43);
			uint64_t branch_Module_45;
			int64_t branch_Row_46;
			int64_t branch_Col_47;
			VAL branch_ZPlusStr_48;
			VAL branch_TokenValue_49;
			if (((bool)v44)) {
				VAL v50;
				int64_t v51 = mw_std_str_ZPlusStr_intZAsk(v43, &v50);
				VAL v52 = mtw_mirth_token_TokenValue_TokenInt(v51);
				branch_TokenValue_49 = v52;
				branch_ZPlusStr_48 = v50;
				branch_Col_47 = v13;
				branch_Row_46 = v12;
				branch_Module_45 = v11;
			} else {
				VAL v53;
				VAL v54 = mw_std_str_ZPlusStr_dnameZAsk(v43, &v53);
				uint64_t branch_Module_55;
				int64_t branch_Row_56;
				int64_t branch_Col_57;
				VAL branch_ZPlusStr_58;
				VAL branch_TokenValue_59;
				switch (get_data_tag(v54)) {
					case 1LL: { // Some
						VAL v60 = mtp_std_maybe_Maybe_1_Some(v54);
						VAL v61 = mtw_mirth_token_TokenValue_TokenDName(v60);
						branch_TokenValue_59 = v61;
						branch_ZPlusStr_58 = v53;
						branch_Col_57 = v13;
						branch_Row_56 = v12;
						branch_Module_55 = v11;
					} break;
					case 0LL: { // None
						VAL v62;
						VAL v63 = mw_std_str_ZPlusStr_labelZ_tokenZAsk(v53, &v62);
						uint64_t branch_Module_64;
						int64_t branch_Row_65;
						int64_t branch_Col_66;
						VAL branch_ZPlusStr_67;
						VAL branch_TokenValue_68;
						switch (get_data_tag(v63)) {
							case 1LL: { // Some
								VAL v69 = mtp_std_maybe_Maybe_1_Some(v63);
								branch_TokenValue_68 = v69;
								branch_ZPlusStr_67 = v62;
								branch_Col_66 = v13;
								branch_Row_65 = v12;
								branch_Module_64 = v11;
							} break;
							case 0LL: { // None
								VAL v70;
								uint64_t v71 = mw_std_str_ZPlusStr_nameZAsk(v62, &v70);
								VAL v72 = mtw_mirth_token_TokenValue_TokenName(v71);
								branch_TokenValue_68 = v72;
								branch_ZPlusStr_67 = v70;
								branch_Col_66 = v13;
								branch_Row_65 = v12;
								branch_Module_64 = v11;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_TokenValue_59 = branch_TokenValue_68;
						branch_ZPlusStr_58 = branch_ZPlusStr_67;
						branch_Col_57 = branch_Col_66;
						branch_Row_56 = branch_Row_65;
						branch_Module_55 = branch_Module_64;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_TokenValue_49 = branch_TokenValue_59;
				branch_ZPlusStr_48 = branch_ZPlusStr_58;
				branch_Col_47 = branch_Col_57;
				branch_Row_46 = branch_Row_56;
				branch_Module_45 = branch_Module_55;
			}
			branch_TokenValue_39 = branch_TokenValue_49;
			branch_ZPlusStr_38 = branch_ZPlusStr_48;
			branch_Col_37 = branch_Col_47;
			branch_Row_36 = branch_Row_46;
			branch_Module_35 = branch_Module_45;
		}
		uint64_t v73 = mw_mirth_token_Token_allocZBang();
		void* v74 = mfld_mirth_token_Token_ZTildevalue(v73);
		mut_set(branch_TokenValue_39, v74);
		void* v75 = mfld_mirth_token_Token_ZTildecol(v73);
		mut_set(MKI64(branch_Col_37), v75);
		void* v76 = mfld_mirth_token_Token_ZTilderow(v73);
		mut_set(MKI64(branch_Row_36), v76);
		void* v77 = mfld_mirth_token_Token_ZTildemodule(v73);
		mut_set(MKU64(branch_Module_35), v77);
		VTUP(v14)->cells[5] = MKU64(v73);
		branch_ZPlusLexer_31 = v14;
		branch_ZPlusStr_30 = branch_ZPlusStr_38;
	}
	decref(branch_ZPlusStr_30);
	*out_ZPlusLexer_2 = branch_ZPlusLexer_31;
}
static uint64_t mw_std_str_ZPlusStr_nameZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	incref(in_ZPlusStr_1);
	uint64_t v4 = mw_std_prim_Str_ZToName(in_ZPlusStr_1);
	*out_ZPlusStr_3 = in_ZPlusStr_1;
	return v4;
}
static int64_t mw_std_str_ZPlusStr_firstZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 0LL;
	VAL v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_3 = v5;
	return v6;
}
static int64_t mw_std_str_ZPlusStr_secondZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 1LL;
	VAL v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_3 = v5;
	return v6;
}
static int64_t mw_std_str_ZPlusStr_thirdZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 2LL;
	VAL v5;
	int64_t v6 = mw_std_str_ZPlusStr_byteZAt(v4, in_ZPlusStr_1, &v5);
	*out_ZPlusStr_3 = v5;
	return v6;
}
static VAL mw_std_str_ZPlusStr_firstZ_twoZ_bytes (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v6 = 2LL;
	VAL v7;
	VAL v8 = mw_std_str_ZPlusStr_takeZ_slice(v6, in_ZPlusStr_1, &v7);
	*out_ZPlusStr_3 = v7;
	return v8;
}
static VAL mw_std_str_ZPlusStr_dropZ_firstZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v6 = 1LL;
	VAL v7;
	VAL v8 = mw_std_str_ZPlusStr_dropZ_slice(v6, in_ZPlusStr_1, &v7);
	*out_ZPlusStr_3 = v7;
	return v8;
}
static VAL mw_std_str_ZPlusStr_dropZ_lastZ_byte (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	incref(in_ZPlusStr_1);
	uint64_t v6 = str_size(value_str(in_ZPlusStr_1));
	int64_t v7 = 1LL;
	int64_t v8 = i64_sub(((int64_t)v6), v7);
	int64_t v9 = 0LL;
	bool v10 = (v8 < v9);
	int64_t branch_Nat_11;
	if (v10) {
		int64_t v12 = 0LL;
		branch_Nat_11 = v12;
	} else {
		branch_Nat_11 = v8;
	}
	VAL v13;
	VAL v14 = mw_std_str_ZPlusStr_takeZ_slice(branch_Nat_11, in_ZPlusStr_1, &v13);
	*out_ZPlusStr_3 = v13;
	return v14;
}
static VAL mw_std_str_ZPlusStr_labelZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	VAL v4;
	VAL v5 = mw_std_str_ZPlusStr_labelZ_pushZ_tokenZAsk(in_ZPlusStr_1, &v4);
	VAL branch_ZPlusStr_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			VAL v9 = mtw_std_maybe_Maybe_1_Some(v8);
			branch_Maybe_7 = v9;
			branch_ZPlusStr_6 = v4;
		} break;
		case 0LL: { // None
			VAL v10;
			VAL v11 = mw_std_str_ZPlusStr_labelZ_pushZ_rZ_tokenZAsk(v4, &v10);
			branch_Maybe_7 = v11;
			branch_ZPlusStr_6 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusStr_12;
	VAL branch_Maybe_13;
	switch (get_data_tag(branch_Maybe_7)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_7);
			VAL v15 = mtw_std_maybe_Maybe_1_Some(v14);
			branch_Maybe_13 = v15;
			branch_ZPlusStr_12 = branch_ZPlusStr_6;
		} break;
		case 0LL: { // None
			VAL v16;
			VAL v17 = mw_std_str_ZPlusStr_labelZ_popZ_tokenZAsk(branch_ZPlusStr_6, &v16);
			branch_Maybe_13 = v17;
			branch_ZPlusStr_12 = v16;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusStr_18;
	VAL branch_Maybe_19;
	switch (get_data_tag(branch_Maybe_13)) {
		case 1LL: { // Some
			VAL v20 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_13);
			VAL v21 = mtw_std_maybe_Maybe_1_Some(v20);
			branch_Maybe_19 = v21;
			branch_ZPlusStr_18 = branch_ZPlusStr_12;
		} break;
		case 0LL: { // None
			VAL v22;
			VAL v23 = mw_std_str_ZPlusStr_labelZ_popZ_rZ_tokenZAsk(branch_ZPlusStr_12, &v22);
			branch_Maybe_19 = v23;
			branch_ZPlusStr_18 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusStr_24;
	VAL branch_Maybe_25;
	switch (get_data_tag(branch_Maybe_19)) {
		case 1LL: { // Some
			VAL v26 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_19);
			VAL v27 = mtw_std_maybe_Maybe_1_Some(v26);
			branch_Maybe_25 = v27;
			branch_ZPlusStr_24 = branch_ZPlusStr_18;
		} break;
		case 0LL: { // None
			VAL v28;
			VAL v29 = mw_std_str_ZPlusStr_labelZ_getZ_tokenZAsk(branch_ZPlusStr_18, &v28);
			branch_Maybe_25 = v29;
			branch_ZPlusStr_24 = v28;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusStr_30;
	VAL branch_Maybe_31;
	switch (get_data_tag(branch_Maybe_25)) {
		case 1LL: { // Some
			VAL v32 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_25);
			VAL v33 = mtw_std_maybe_Maybe_1_Some(v32);
			branch_Maybe_31 = v33;
			branch_ZPlusStr_30 = branch_ZPlusStr_24;
		} break;
		case 0LL: { // None
			VAL v34;
			VAL v35 = mw_std_str_ZPlusStr_labelZ_setZ_tokenZAsk(branch_ZPlusStr_24, &v34);
			branch_Maybe_31 = v35;
			branch_ZPlusStr_30 = v34;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_30;
	return branch_Maybe_31;
}
static VAL mw_std_str_ZPlusStr_labelZ_popZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	VAL v4;
	int64_t v5 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_1, &v4);
	int64_t v6 = 97LL /* B'a' */;
	int64_t v7 = 122LL /* B'z' */;
	bool v8 = (v5 >= v6);
	bool v9 = (v5 <= v7);
	bool v10 = (v8 && v9);
	VAL branch_ZPlusStr_11;
	int64_t branch_Bool_12;
	if (v10) {
		VAL v13;
		int64_t v14 = mw_std_str_ZPlusStr_lastZ_byte(v4, &v13);
		int64_t v15 = 62LL /* B'>' */;
		bool v16 = (v14 == v15);
		branch_Bool_12 = ((int64_t)v16);
		branch_ZPlusStr_11 = v13;
	} else {
		int64_t v17 = 0LL /* False */;
		branch_Bool_12 = v17;
		branch_ZPlusStr_11 = v4;
	}
	VAL branch_ZPlusStr_18;
	VAL branch_Maybe_19;
	if (((bool)branch_Bool_12)) {
		int64_t v20 = 0LL /* +Unsafe */;
		VAL v21;
		VAL v22 = mw_std_str_ZPlusStr_dropZ_lastZ_byte(branch_ZPlusStr_11, &v21);
		uint64_t v23 = mw_std_prim_Str_ZToName(v22);
		uint64_t v24 = mw_mirth_label_Label_newZBang(v23);
		VAL v25 = mtw_mirth_token_TokenValue_TokenLabelPop(v24);
		VAL v26 = mtw_std_maybe_Maybe_1_Some(v25);
		branch_Maybe_19 = v26;
		branch_ZPlusStr_18 = v21;
	} else {
		VAL v27 = MKI64(0LL /* None */);
		branch_Maybe_19 = v27;
		branch_ZPlusStr_18 = branch_ZPlusStr_11;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_18;
	return branch_Maybe_19;
}
static VAL mw_std_str_ZPlusStr_labelZ_popZ_rZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	VAL v4;
	int64_t v5 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_1, &v4);
	int64_t v6 = 43LL /* B'+' */;
	bool v7 = (v5 == v6);
	VAL branch_ZPlusStr_8;
	int64_t branch_Bool_9;
	if (v7) {
		VAL v10;
		int64_t v11 = mw_std_str_ZPlusStr_secondZ_byte(v4, &v10);
		int64_t v12 = 97LL /* B'a' */;
		int64_t v13 = 122LL /* B'z' */;
		bool v14 = (v11 >= v12);
		bool v15 = (v11 <= v13);
		bool v16 = (v14 && v15);
		VAL branch_ZPlusStr_17;
		int64_t branch_Bool_18;
		if (v16) {
			VAL v19;
			int64_t v20 = mw_std_str_ZPlusStr_lastZ_byte(v10, &v19);
			int64_t v21 = 62LL /* B'>' */;
			bool v22 = (v20 == v21);
			branch_Bool_18 = ((int64_t)v22);
			branch_ZPlusStr_17 = v19;
		} else {
			int64_t v23 = 0LL /* False */;
			branch_Bool_18 = v23;
			branch_ZPlusStr_17 = v10;
		}
		branch_Bool_9 = branch_Bool_18;
		branch_ZPlusStr_8 = branch_ZPlusStr_17;
	} else {
		int64_t v24 = 0LL /* False */;
		branch_Bool_9 = v24;
		branch_ZPlusStr_8 = v4;
	}
	VAL branch_ZPlusStr_25;
	VAL branch_Maybe_26;
	if (((bool)branch_Bool_9)) {
		int64_t v27 = 0LL /* +Unsafe */;
		VAL v28;
		VAL v29 = mw_std_str_ZPlusStr_dropZ_lastZ_byte(branch_ZPlusStr_8, &v28);
		uint64_t v30 = mw_std_prim_Str_ZToName(v29);
		uint64_t v31 = mw_mirth_label_Label_newZBang(v30);
		VAL v32 = mtw_mirth_token_TokenValue_TokenLabelPopR(v31);
		VAL v33 = mtw_std_maybe_Maybe_1_Some(v32);
		branch_Maybe_26 = v33;
		branch_ZPlusStr_25 = v28;
	} else {
		VAL v34 = MKI64(0LL /* None */);
		branch_Maybe_26 = v34;
		branch_ZPlusStr_25 = branch_ZPlusStr_8;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_25;
	return branch_Maybe_26;
}
static VAL mw_std_str_ZPlusStr_labelZ_pushZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	VAL v4;
	int64_t v5 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_1, &v4);
	int64_t v6 = 62LL /* B'>' */;
	bool v7 = (v5 == v6);
	VAL branch_ZPlusStr_8;
	int64_t branch_Bool_9;
	if (v7) {
		VAL v10;
		int64_t v11 = mw_std_str_ZPlusStr_secondZ_byte(v4, &v10);
		int64_t v12 = 97LL /* B'a' */;
		int64_t v13 = 122LL /* B'z' */;
		bool v14 = (v11 >= v12);
		bool v15 = (v11 <= v13);
		bool v16 = (v14 && v15);
		branch_Bool_9 = ((int64_t)v16);
		branch_ZPlusStr_8 = v10;
	} else {
		int64_t v17 = 0LL /* False */;
		branch_Bool_9 = v17;
		branch_ZPlusStr_8 = v4;
	}
	VAL branch_ZPlusStr_18;
	VAL branch_Maybe_19;
	if (((bool)branch_Bool_9)) {
		int64_t v20 = 0LL /* +Unsafe */;
		VAL v21;
		VAL v22 = mw_std_str_ZPlusStr_dropZ_firstZ_byte(branch_ZPlusStr_8, &v21);
		uint64_t v23 = mw_std_prim_Str_ZToName(v22);
		uint64_t v24 = mw_mirth_label_Label_newZBang(v23);
		VAL v25 = mtw_mirth_token_TokenValue_TokenLabelPush(v24);
		VAL v26 = mtw_std_maybe_Maybe_1_Some(v25);
		branch_Maybe_19 = v26;
		branch_ZPlusStr_18 = v21;
	} else {
		VAL v27 = MKI64(0LL /* None */);
		branch_Maybe_19 = v27;
		branch_ZPlusStr_18 = branch_ZPlusStr_8;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_18;
	return branch_Maybe_19;
}
static VAL mw_std_str_ZPlusStr_labelZ_pushZ_rZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 0LL /* +Unsafe */;
	VAL v5;
	VAL v6 = mw_std_str_ZPlusStr_firstZ_twoZ_bytes(in_ZPlusStr_1, &v5);
	STR* v7;
	STRLIT(v7, ">+", 2);
	bool v8 = (str_cmp(value_str(v6), v7) == 0);
	VAL branch_ZPlusStr_9;
	int64_t branch_Bool_10;
	if (v8) {
		VAL v11;
		int64_t v12 = mw_std_str_ZPlusStr_thirdZ_byte(v5, &v11);
		int64_t v13 = 97LL /* B'a' */;
		int64_t v14 = 122LL /* B'z' */;
		bool v15 = (v12 >= v13);
		bool v16 = (v12 <= v14);
		bool v17 = (v15 && v16);
		branch_Bool_10 = ((int64_t)v17);
		branch_ZPlusStr_9 = v11;
	} else {
		int64_t v18 = 0LL /* False */;
		branch_Bool_10 = v18;
		branch_ZPlusStr_9 = v5;
	}
	VAL branch_ZPlusStr_19;
	VAL branch_Maybe_20;
	if (((bool)branch_Bool_10)) {
		int64_t v21 = 0LL /* +Unsafe */;
		VAL v22;
		VAL v23 = mw_std_str_ZPlusStr_dropZ_firstZ_byte(branch_ZPlusStr_9, &v22);
		uint64_t v24 = mw_std_prim_Str_ZToName(v23);
		uint64_t v25 = mw_mirth_label_Label_newZBang(v24);
		VAL v26 = mtw_mirth_token_TokenValue_TokenLabelPushR(v25);
		VAL v27 = mtw_std_maybe_Maybe_1_Some(v26);
		branch_Maybe_20 = v27;
		branch_ZPlusStr_19 = v22;
	} else {
		VAL v28 = MKI64(0LL /* None */);
		branch_Maybe_20 = v28;
		branch_ZPlusStr_19 = branch_ZPlusStr_9;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_19;
	return branch_Maybe_20;
}
static VAL mw_std_str_ZPlusStr_labelZ_getZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	VAL v4;
	int64_t v5 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_1, &v4);
	int64_t v6 = 64LL /* B'@' */;
	bool v7 = (v5 == v6);
	VAL branch_ZPlusStr_8;
	int64_t branch_Bool_9;
	if (v7) {
		VAL v10;
		int64_t v11 = mw_std_str_ZPlusStr_secondZ_byte(v4, &v10);
		int64_t v12 = 97LL /* B'a' */;
		int64_t v13 = 122LL /* B'z' */;
		bool v14 = (v11 >= v12);
		bool v15 = (v11 <= v13);
		bool v16 = (v14 && v15);
		VAL branch_ZPlusStr_17;
		int64_t branch_Bool_18;
		if (v16) {
			int64_t v19 = 1LL /* True */;
			branch_Bool_18 = v19;
			branch_ZPlusStr_17 = v10;
		} else {
			VAL v20;
			int64_t v21 = mw_std_str_ZPlusStr_secondZ_byte(v10, &v20);
			int64_t v22 = 43LL /* B'+' */;
			bool v23 = (v21 == v22);
			VAL branch_ZPlusStr_24;
			int64_t branch_Bool_25;
			if (v23) {
				VAL v26;
				int64_t v27 = mw_std_str_ZPlusStr_thirdZ_byte(v20, &v26);
				int64_t v28 = 97LL /* B'a' */;
				int64_t v29 = 122LL /* B'z' */;
				bool v30 = (v27 >= v28);
				bool v31 = (v27 <= v29);
				bool v32 = (v30 && v31);
				branch_Bool_25 = ((int64_t)v32);
				branch_ZPlusStr_24 = v26;
			} else {
				int64_t v33 = 0LL /* False */;
				branch_Bool_25 = v33;
				branch_ZPlusStr_24 = v20;
			}
			branch_Bool_18 = branch_Bool_25;
			branch_ZPlusStr_17 = branch_ZPlusStr_24;
		}
		branch_Bool_9 = branch_Bool_18;
		branch_ZPlusStr_8 = branch_ZPlusStr_17;
	} else {
		int64_t v34 = 0LL /* False */;
		branch_Bool_9 = v34;
		branch_ZPlusStr_8 = v4;
	}
	VAL branch_ZPlusStr_35;
	VAL branch_Maybe_36;
	if (((bool)branch_Bool_9)) {
		int64_t v37 = 0LL /* +Unsafe */;
		VAL v38;
		VAL v39 = mw_std_str_ZPlusStr_dropZ_firstZ_byte(branch_ZPlusStr_8, &v38);
		uint64_t v40 = mw_std_prim_Str_ZToName(v39);
		uint64_t v41 = mw_mirth_label_Label_newZBang(v40);
		VAL v42 = mtw_mirth_token_TokenValue_TokenLabelGet(v41);
		VAL v43 = mtw_std_maybe_Maybe_1_Some(v42);
		branch_Maybe_36 = v43;
		branch_ZPlusStr_35 = v38;
	} else {
		VAL v44 = MKI64(0LL /* None */);
		branch_Maybe_36 = v44;
		branch_ZPlusStr_35 = branch_ZPlusStr_8;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_35;
	return branch_Maybe_36;
}
static VAL mw_std_str_ZPlusStr_labelZ_setZ_tokenZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	VAL v4;
	int64_t v5 = mw_std_str_ZPlusStr_firstZ_byte(in_ZPlusStr_1, &v4);
	int64_t v6 = 33LL /* B'!' */;
	bool v7 = (v5 == v6);
	VAL branch_ZPlusStr_8;
	int64_t branch_Bool_9;
	if (v7) {
		VAL v10;
		int64_t v11 = mw_std_str_ZPlusStr_secondZ_byte(v4, &v10);
		int64_t v12 = 97LL /* B'a' */;
		int64_t v13 = 122LL /* B'z' */;
		bool v14 = (v11 >= v12);
		bool v15 = (v11 <= v13);
		bool v16 = (v14 && v15);
		branch_Bool_9 = ((int64_t)v16);
		branch_ZPlusStr_8 = v10;
	} else {
		int64_t v17 = 0LL /* False */;
		branch_Bool_9 = v17;
		branch_ZPlusStr_8 = v4;
	}
	VAL branch_ZPlusStr_18;
	VAL branch_Maybe_19;
	if (((bool)branch_Bool_9)) {
		int64_t v20 = 0LL /* +Unsafe */;
		VAL v21;
		VAL v22 = mw_std_str_ZPlusStr_dropZ_firstZ_byte(branch_ZPlusStr_8, &v21);
		uint64_t v23 = mw_std_prim_Str_ZToName(v22);
		uint64_t v24 = mw_mirth_label_Label_newZBang(v23);
		VAL v25 = mtw_mirth_token_TokenValue_TokenLabelSet(v24);
		VAL v26 = mtw_std_maybe_Maybe_1_Some(v25);
		branch_Maybe_19 = v26;
		branch_ZPlusStr_18 = v21;
	} else {
		VAL v27 = MKI64(0LL /* None */);
		branch_Maybe_19 = v27;
		branch_ZPlusStr_18 = branch_ZPlusStr_8;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_18;
	return branch_Maybe_19;
}
static VAL mw_std_str_ZPlusStr_dnameZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 46LL /* BDOT */;
	VAL v5;
	VAL v6 = mw_std_str_ZPlusStr_splitZ_byte(v4, in_ZPlusStr_1, &v5);
	VAL v7;
	VAL v8 = mw_std_list_ListZPlus_1_uncons(v6, &v7);
	VAL v9 = mw_std_list_List_1_ZToListZPlus(v7);
	VAL branch_ZPlusStr_10;
	VAL branch_Maybe_11;
	switch (get_data_tag(v9)) {
		case 0LL: { // None
			decref(v8);
			VAL v12 = MKI64(0LL /* None */);
			branch_Maybe_11 = v12;
			branch_ZPlusStr_10 = v5;
		} break;
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			incref(v8);
			uint64_t v14 = str_size(value_str(v8));
			int64_t v15 = 0LL;
			bool v16 = (((int64_t)v14) == v15);
			VAL branch_ZPlusStr_17;
			VAL branch_Maybe_18;
			if (v16) {
				decref(v8);
				VAL v19 = MKI64(0LL /* None */);
				branch_Maybe_18 = v19;
				branch_ZPlusStr_17 = v5;
			} else {
				uint64_t v20 = mw_std_prim_Str_ZToName(v8);
				VAL v21 = mtw_std_maybe_Maybe_1_Some(MKU64(v20));
				branch_Maybe_18 = v21;
				branch_ZPlusStr_17 = v5;
			}
			VAL v22;
			VAL v23 = mw_std_list_ListZPlus_1_uncons(v13, &v22);
			uint64_t v24 = mw_std_prim_Str_ZToName(v23);
			VAL v25 = MKI64(0LL /* Nil */);
			VAL v26 = mw_std_list_List_1_reverse(v25);
			int64_t v27 = 1LL /* True */;
			VAL v28 = v26;
			VAL v29 = v22;
			int64_t v30 = v27;
			int64_t v31 = v27;
			while (((bool)v31)) {
				VAL v32 = v28;
				VAL v33 = v29;
				int64_t v34 = v30;
				VAL branch_ZPlusList_35;
				VAL branch_List_36;
				int64_t branch_Bool_37;
				switch (get_data_tag(v33)) {
					case 1LL: { // Cons
						VAL v38;
						VAL v39 = mtp_std_list_List_1_Cons(v33, &v38);
						uint64_t v40 = mw_std_prim_Str_ZToName(v39);
						VAL v41 = mtw_std_list_List_1_Cons(MKU64(v40), v32);
						int64_t v42 = 1LL /* True */;
						branch_Bool_37 = v42;
						branch_List_36 = v38;
						branch_ZPlusList_35 = v41;
					} break;
					case 0LL: { // Nil
						VAL v43 = MKI64(0LL /* Nil */);
						int64_t v44 = 0LL /* False */;
						branch_Bool_37 = v44;
						branch_List_36 = v43;
						branch_ZPlusList_35 = v32;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v31 = branch_Bool_37;
				v30 = branch_Bool_37;
				v29 = branch_List_36;
				v28 = branch_ZPlusList_35;
			}
			decref(v29);
			VAL v45 = mw_std_list_List_1_reverse(v28);
			VAL v46 = mtw_std_list_ListZPlus_1_ListZPlus(MKU64(v24), v45);
			VAL v47 = mtw_mirth_name_DName_DName(branch_Maybe_18, v46);
			VAL v48 = mtw_std_maybe_Maybe_1_Some(v47);
			branch_Maybe_11 = v48;
			branch_ZPlusStr_10 = branch_ZPlusStr_17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_10;
	return branch_Maybe_11;
}
static int64_t mw_std_str_ZPlusStr_isZ_docZ_startZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	incref(in_ZPlusStr_1);
	STR* v4;
	STRLIT(v4, "|||", 3);
	bool v5 = (str_cmp(value_str(in_ZPlusStr_1), v4) == 0);
	*out_ZPlusStr_3 = in_ZPlusStr_1;
	return ((int64_t)v5);
}
static int64_t mw_std_str_ZPlusStr_isZ_floatZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 0LL;
	int64_t v5 = 0LL;
	VAL v6;
	int64_t v7 = mw_std_str_ZPlusStr_byteZAt(v5, in_ZPlusStr_1, &v6);
	int64_t v8 = 45LL /* B'-' */;
	bool v9 = (v7 == v8);
	int64_t v10 = 43LL /* B'+' */;
	bool v11 = (v7 == v10);
	bool v12 = (v9 || v11);
	int64_t branch_USizze_13;
	VAL branch_ZPlusStr_14;
	int64_t branch_UOffset_15;
	if (v12) {
		int64_t v16 = 1LL;
		int64_t v17 = i64_add(v5, v16);
		branch_UOffset_15 = v17;
		branch_ZPlusStr_14 = v6;
		branch_USizze_13 = v4;
	} else {
		branch_UOffset_15 = v5;
		branch_ZPlusStr_14 = v6;
		branch_USizze_13 = v4;
	}
	VAL v18;
	int64_t v19 = mw_std_str_ZPlusStr_byteZAt(branch_UOffset_15, branch_ZPlusStr_14, &v18);
	int64_t v20 = 48LL /* B'0' */;
	int64_t v21 = 57LL /* B'9' */;
	bool v22 = (v19 >= v20);
	bool v23 = (v19 <= v21);
	bool v24 = (v22 && v23);
	int64_t v25 = branch_USizze_13;
	int64_t v26 = branch_UOffset_15;
	VAL v27 = v18;
	bool v28 = v24;
	while (v28) {
		int64_t v29 = v25;
		int64_t v30 = v26;
		VAL v31 = v27;
		int64_t v32 = 1LL;
		int64_t v33 = i64_add(v29, v32);
		int64_t v34 = 1LL;
		int64_t v35 = i64_add(v30, v34);
		VAL v36;
		int64_t v37 = mw_std_str_ZPlusStr_byteZAt(v35, v31, &v36);
		int64_t v38 = 48LL /* B'0' */;
		int64_t v39 = 57LL /* B'9' */;
		bool v40 = (v37 >= v38);
		bool v41 = (v37 <= v39);
		bool v42 = (v40 && v41);
		v28 = v42;
		v27 = v36;
		v26 = v35;
		v25 = v33;
	}
	VAL v43;
	int64_t v44 = mw_std_str_ZPlusStr_byteZAt(v26, v27, &v43);
	int64_t v45 = 46LL /* BDOT */;
	bool v46 = (v44 == v45);
	VAL branch_ZPlusStr_47;
	int64_t branch_Bool_48;
	if (v46) {
		int64_t v49 = 1LL;
		int64_t v50 = i64_add(v25, v49);
		int64_t v51 = 1LL;
		int64_t v52 = i64_add(v26, v51);
		VAL v53;
		int64_t v54 = mw_std_str_ZPlusStr_byteZAt(v52, v43, &v53);
		int64_t v55 = 48LL /* B'0' */;
		int64_t v56 = 57LL /* B'9' */;
		bool v57 = (v54 >= v55);
		bool v58 = (v54 <= v56);
		bool v59 = (v57 && v58);
		int64_t v60 = v50;
		int64_t v61 = v52;
		VAL v62 = v53;
		bool v63 = v59;
		while (v63) {
			int64_t v64 = v60;
			int64_t v65 = v61;
			VAL v66 = v62;
			int64_t v67 = 1LL;
			int64_t v68 = i64_add(v64, v67);
			int64_t v69 = 1LL;
			int64_t v70 = i64_add(v65, v69);
			VAL v71;
			int64_t v72 = mw_std_str_ZPlusStr_byteZAt(v70, v66, &v71);
			int64_t v73 = 48LL /* B'0' */;
			int64_t v74 = 57LL /* B'9' */;
			bool v75 = (v72 >= v73);
			bool v76 = (v72 <= v74);
			bool v77 = (v75 && v76);
			v63 = v77;
			v62 = v71;
			v61 = v70;
			v60 = v68;
		}
		int64_t v78 = 3LL;
		bool v79 = (v60 >= v78);
		VAL branch_ZPlusStr_80;
		int64_t branch_Bool_81;
		if (v79) {
			incref(v62);
			uint64_t v82 = str_size(value_str(v62));
			bool v83 = (v61 == ((int64_t)v82));
			branch_Bool_81 = ((int64_t)v83);
			branch_ZPlusStr_80 = v62;
		} else {
			int64_t v84 = 0LL /* False */;
			branch_Bool_81 = v84;
			branch_ZPlusStr_80 = v62;
		}
		branch_Bool_48 = branch_Bool_81;
		branch_ZPlusStr_47 = branch_ZPlusStr_80;
	} else {
		int64_t v85 = 0LL /* False */;
		branch_Bool_48 = v85;
		branch_ZPlusStr_47 = v43;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_47;
	return branch_Bool_48;
}
static int64_t mw_std_str_ZPlusStr_floatZ_sign (VAL in_ZPlusStr_1, int64_t *out_UOffset_3, VAL *out_ZPlusStr_4) {
	int64_t v5 = 0LL;
	VAL v6;
	int64_t v7 = mw_std_str_ZPlusStr_byteZAt(v5, in_ZPlusStr_1, &v6);
	int64_t v8;
	int64_t v9 = mw_mirth_lexer_byteZ_signZ_valueZ_indexZ_float(v7, &v8);
	*out_ZPlusStr_4 = v6;
	*out_UOffset_3 = v8;
	return v9;
}
static int64_t mw_mirth_lexer_byteZ_signZ_valueZ_indexZ_float (int64_t in_Byte_1, int64_t *out_UOffset_3) {
	int64_t branch_Byte_4;
	int64_t branch_UOffset_5;
	switch (in_Byte_1) {
		case 45LL: { // B'-'
			int64_t v6 = 45LL /* B'-' */;
			int64_t v7 = 1LL;
			branch_UOffset_5 = v7;
			branch_Byte_4 = v6;
		} break;
		case 43LL: { // B'+'
			int64_t v8 = 43LL /* B'+' */;
			int64_t v9 = 1LL;
			branch_UOffset_5 = v9;
			branch_Byte_4 = v8;
		} break;
		default: {
			int64_t v10 = 43LL /* B'+' */;
			int64_t v11 = 0LL;
			branch_UOffset_5 = v11;
			branch_Byte_4 = v10;
		} break;
	}
	*out_UOffset_3 = branch_UOffset_5;
	return branch_Byte_4;
}
static double mw_std_str_ZPlusStr_floatZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	STR* v4;
	STRLIT(v4, "", 0);
	int64_t v5 = 0LL;
	int64_t v6;
	VAL v7;
	int64_t v8 = mw_std_str_ZPlusStr_floatZ_sign(in_ZPlusStr_1, &v6, &v7);
	VAL v9;
	mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v8, MKSTR(v4), &v9);
	int64_t v10 = i64_add(v5, v6);
	incref(v7);
	uint64_t v11 = str_size(value_str(v7));
	bool v12 = (v10 < ((int64_t)v11));
	VAL v13 = v9;
	int64_t v14 = v10;
	VAL v15 = v7;
	bool v16 = v12;
	while (v16) {
		VAL v17 = v13;
		int64_t v18 = v14;
		VAL v19 = v15;
		VAL v20;
		int64_t v21 = mw_std_str_ZPlusStr_byteZAt(v18, v19, &v20);
		VAL v22;
		mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v21, v17, &v22);
		int64_t v23 = 1LL;
		int64_t v24 = i64_add(v18, v23);
		incref(v20);
		uint64_t v25 = str_size(value_str(v20));
		bool v26 = (v24 < ((int64_t)v25));
		v16 = v26;
		v15 = v20;
		v14 = v24;
		v13 = v22;
	}
	incref(v13);
	incref(v13);
	void* v27 = str_base(value_str(v13));
	uint64_t v28 = str_size(value_str(v13));
	int64_t v29 = 0LL /* +Unsafe */;
	void* v30 = (void*)(((int64_t)v28) + (char*)v27);
	uint8_t v31 = *(uint8_t*)v30;
	int64_t v32 = 0LL;
	bool v33 = (((int64_t)v31) == v32);
	if (v33) {
	} else {
		STR* v34;
		STRLIT(v34, "tried to use Str as CStr, but Str is not zero terminated", 56);
		do_panic(v34);
	}
	double v35 = mext_mirth_lexer_stringz_toz_float64(v27);
	decref(v13);
	*out_ZPlusStr_3 = v15;
	return v35;
}
static int64_t mw_std_str_ZPlusStr_isZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	VAL v4;
	int64_t v5 = mw_std_str_ZPlusStr_isZ_decZ_intZAsk(in_ZPlusStr_1, &v4);
	VAL branch_ZPlusStr_6;
	int64_t branch_Bool_7;
	if (((bool)v5)) {
		int64_t v8 = 1LL /* True */;
		branch_Bool_7 = v8;
		branch_ZPlusStr_6 = v4;
	} else {
		VAL v9;
		int64_t v10 = mw_std_str_ZPlusStr_isZ_hexZ_intZAsk(v4, &v9);
		branch_Bool_7 = v10;
		branch_ZPlusStr_6 = v9;
	}
	VAL branch_ZPlusStr_11;
	int64_t branch_Bool_12;
	if (((bool)branch_Bool_7)) {
		int64_t v13 = 1LL /* True */;
		branch_Bool_12 = v13;
		branch_ZPlusStr_11 = branch_ZPlusStr_6;
	} else {
		VAL v14;
		int64_t v15 = mw_std_str_ZPlusStr_isZ_octZ_intZAsk(branch_ZPlusStr_6, &v14);
		branch_Bool_12 = v15;
		branch_ZPlusStr_11 = v14;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_11;
	return branch_Bool_12;
}
static int64_t mw_std_str_ZPlusStr_isZ_decZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 0LL;
	int64_t v5 = 0LL;
	VAL v6;
	int64_t v7 = mw_std_str_ZPlusStr_byteZAt(v5, in_ZPlusStr_1, &v6);
	int64_t v8 = 45LL /* B'-' */;
	bool v9 = (v7 == v8);
	int64_t v10 = 43LL /* B'+' */;
	bool v11 = (v7 == v10);
	bool v12 = (v9 || v11);
	int64_t branch_USizze_13;
	VAL branch_ZPlusStr_14;
	int64_t branch_UOffset_15;
	if (v12) {
		int64_t v16 = 1LL;
		int64_t v17 = i64_add(v5, v16);
		branch_UOffset_15 = v17;
		branch_ZPlusStr_14 = v6;
		branch_USizze_13 = v4;
	} else {
		branch_UOffset_15 = v5;
		branch_ZPlusStr_14 = v6;
		branch_USizze_13 = v4;
	}
	VAL v18;
	int64_t v19 = mw_std_str_ZPlusStr_byteZAt(branch_UOffset_15, branch_ZPlusStr_14, &v18);
	int64_t v20 = 48LL /* B'0' */;
	int64_t v21 = 57LL /* B'9' */;
	bool v22 = (v19 >= v20);
	bool v23 = (v19 <= v21);
	bool v24 = (v22 && v23);
	int64_t v25 = branch_USizze_13;
	int64_t v26 = branch_UOffset_15;
	VAL v27 = v18;
	bool v28 = v24;
	while (v28) {
		int64_t v29 = v25;
		int64_t v30 = v26;
		VAL v31 = v27;
		int64_t v32 = 1LL;
		int64_t v33 = i64_add(v29, v32);
		int64_t v34 = 1LL;
		int64_t v35 = i64_add(v30, v34);
		VAL v36;
		int64_t v37 = mw_std_str_ZPlusStr_byteZAt(v35, v31, &v36);
		int64_t v38 = 48LL /* B'0' */;
		int64_t v39 = 57LL /* B'9' */;
		bool v40 = (v37 >= v38);
		bool v41 = (v37 <= v39);
		bool v42 = (v40 && v41);
		v28 = v42;
		v27 = v36;
		v26 = v35;
		v25 = v33;
	}
	int64_t v43 = 0LL;
	bool v44 = (v25 > v43);
	VAL branch_ZPlusStr_45;
	int64_t branch_Bool_46;
	if (v44) {
		incref(v27);
		uint64_t v47 = str_size(value_str(v27));
		bool v48 = (v26 == ((int64_t)v47));
		branch_Bool_46 = ((int64_t)v48);
		branch_ZPlusStr_45 = v27;
	} else {
		int64_t v49 = 0LL /* False */;
		branch_Bool_46 = v49;
		branch_ZPlusStr_45 = v27;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_45;
	return branch_Bool_46;
}
static int64_t mw_std_str_ZPlusStr_isZ_hexZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 0LL;
	int64_t v5 = 0LL;
	VAL v6;
	int64_t v7 = mw_std_str_ZPlusStr_byteZAt(v5, in_ZPlusStr_1, &v6);
	int64_t v8 = 45LL /* B'-' */;
	bool v9 = (v7 == v8);
	int64_t v10 = 43LL /* B'+' */;
	bool v11 = (v7 == v10);
	bool v12 = (v9 || v11);
	int64_t branch_USizze_13;
	VAL branch_ZPlusStr_14;
	int64_t branch_UOffset_15;
	if (v12) {
		int64_t v16 = 1LL;
		int64_t v17 = i64_add(v5, v16);
		branch_UOffset_15 = v17;
		branch_ZPlusStr_14 = v6;
		branch_USizze_13 = v4;
	} else {
		branch_UOffset_15 = v5;
		branch_ZPlusStr_14 = v6;
		branch_USizze_13 = v4;
	}
	VAL v18;
	int64_t v19 = mw_std_str_ZPlusStr_byteZAt(branch_UOffset_15, branch_ZPlusStr_14, &v18);
	int64_t v20 = 48LL /* B'0' */;
	bool v21 = (v19 == v20);
	VAL branch_ZPlusStr_22;
	int64_t branch_Bool_23;
	if (v21) {
		int64_t v24 = 1LL;
		int64_t v25 = i64_add(branch_UOffset_15, v24);
		VAL v26;
		int64_t v27 = mw_std_str_ZPlusStr_byteZAt(v25, v18, &v26);
		int64_t v28 = 120LL /* B'x' */;
		bool v29 = (v27 == v28);
		VAL branch_ZPlusStr_30;
		int64_t branch_Bool_31;
		if (v29) {
			int64_t v32 = 1LL;
			int64_t v33 = i64_add(v25, v32);
			VAL v34;
			int64_t v35 = mw_std_str_ZPlusStr_byteZAt(v33, v26, &v34);
			int64_t v36 = 48LL /* B'0' */;
			int64_t v37 = 57LL /* B'9' */;
			bool v38 = (v35 >= v36);
			bool v39 = (v35 <= v37);
			bool v40 = (v38 && v39);
			int64_t v41 = 65LL /* B'A' */;
			int64_t v42 = 70LL /* B'F' */;
			bool v43 = (v35 >= v41);
			bool v44 = (v35 <= v42);
			bool v45 = (v43 && v44);
			int64_t v46 = 97LL /* B'a' */;
			int64_t v47 = 102LL /* B'f' */;
			bool v48 = (v35 >= v46);
			bool v49 = (v35 <= v47);
			bool v50 = (v48 && v49);
			bool v51 = (v45 || v50);
			bool v52 = (v40 || v51);
			int64_t v53 = branch_USizze_13;
			int64_t v54 = v33;
			VAL v55 = v34;
			bool v56 = v52;
			while (v56) {
				int64_t v57 = v53;
				int64_t v58 = v54;
				VAL v59 = v55;
				int64_t v60 = 1LL;
				int64_t v61 = i64_add(v57, v60);
				int64_t v62 = 1LL;
				int64_t v63 = i64_add(v58, v62);
				VAL v64;
				int64_t v65 = mw_std_str_ZPlusStr_byteZAt(v63, v59, &v64);
				int64_t v66 = 48LL /* B'0' */;
				int64_t v67 = 57LL /* B'9' */;
				bool v68 = (v65 >= v66);
				bool v69 = (v65 <= v67);
				bool v70 = (v68 && v69);
				int64_t v71 = 65LL /* B'A' */;
				int64_t v72 = 70LL /* B'F' */;
				bool v73 = (v65 >= v71);
				bool v74 = (v65 <= v72);
				bool v75 = (v73 && v74);
				int64_t v76 = 97LL /* B'a' */;
				int64_t v77 = 102LL /* B'f' */;
				bool v78 = (v65 >= v76);
				bool v79 = (v65 <= v77);
				bool v80 = (v78 && v79);
				bool v81 = (v75 || v80);
				bool v82 = (v70 || v81);
				v56 = v82;
				v55 = v64;
				v54 = v63;
				v53 = v61;
			}
			int64_t v83 = 0LL;
			bool v84 = (v53 > v83);
			VAL branch_ZPlusStr_85;
			int64_t branch_Bool_86;
			if (v84) {
				incref(v55);
				uint64_t v87 = str_size(value_str(v55));
				bool v88 = (v54 == ((int64_t)v87));
				branch_Bool_86 = ((int64_t)v88);
				branch_ZPlusStr_85 = v55;
			} else {
				int64_t v89 = 0LL /* False */;
				branch_Bool_86 = v89;
				branch_ZPlusStr_85 = v55;
			}
			branch_Bool_31 = branch_Bool_86;
			branch_ZPlusStr_30 = branch_ZPlusStr_85;
		} else {
			int64_t v90 = 0LL /* False */;
			branch_Bool_31 = v90;
			branch_ZPlusStr_30 = v26;
		}
		branch_Bool_23 = branch_Bool_31;
		branch_ZPlusStr_22 = branch_ZPlusStr_30;
	} else {
		int64_t v91 = 0LL /* False */;
		branch_Bool_23 = v91;
		branch_ZPlusStr_22 = v18;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_22;
	return branch_Bool_23;
}
static int64_t mw_std_str_ZPlusStr_isZ_octZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4 = 0LL;
	int64_t v5 = 0LL;
	VAL v6;
	int64_t v7 = mw_std_str_ZPlusStr_byteZAt(v5, in_ZPlusStr_1, &v6);
	int64_t v8 = 45LL /* B'-' */;
	bool v9 = (v7 == v8);
	int64_t v10 = 43LL /* B'+' */;
	bool v11 = (v7 == v10);
	bool v12 = (v9 || v11);
	int64_t branch_USizze_13;
	VAL branch_ZPlusStr_14;
	int64_t branch_UOffset_15;
	if (v12) {
		int64_t v16 = 1LL;
		int64_t v17 = i64_add(v5, v16);
		branch_UOffset_15 = v17;
		branch_ZPlusStr_14 = v6;
		branch_USizze_13 = v4;
	} else {
		branch_UOffset_15 = v5;
		branch_ZPlusStr_14 = v6;
		branch_USizze_13 = v4;
	}
	VAL v18;
	int64_t v19 = mw_std_str_ZPlusStr_byteZAt(branch_UOffset_15, branch_ZPlusStr_14, &v18);
	int64_t v20 = 48LL /* B'0' */;
	bool v21 = (v19 == v20);
	VAL branch_ZPlusStr_22;
	int64_t branch_Bool_23;
	if (v21) {
		int64_t v24 = 1LL;
		int64_t v25 = i64_add(branch_UOffset_15, v24);
		VAL v26;
		int64_t v27 = mw_std_str_ZPlusStr_byteZAt(v25, v18, &v26);
		int64_t v28 = 111LL /* B'o' */;
		bool v29 = (v27 == v28);
		VAL branch_ZPlusStr_30;
		int64_t branch_Bool_31;
		if (v29) {
			int64_t v32 = 1LL;
			int64_t v33 = i64_add(v25, v32);
			VAL v34;
			int64_t v35 = mw_std_str_ZPlusStr_byteZAt(v33, v26, &v34);
			int64_t v36 = 48LL /* B'0' */;
			int64_t v37 = 55LL /* B'7' */;
			bool v38 = (v35 >= v36);
			bool v39 = (v35 <= v37);
			bool v40 = (v38 && v39);
			int64_t v41 = branch_USizze_13;
			int64_t v42 = v33;
			VAL v43 = v34;
			bool v44 = v40;
			while (v44) {
				int64_t v45 = v41;
				int64_t v46 = v42;
				VAL v47 = v43;
				int64_t v48 = 1LL;
				int64_t v49 = i64_add(v45, v48);
				int64_t v50 = 1LL;
				int64_t v51 = i64_add(v46, v50);
				VAL v52;
				int64_t v53 = mw_std_str_ZPlusStr_byteZAt(v51, v47, &v52);
				int64_t v54 = 48LL /* B'0' */;
				int64_t v55 = 55LL /* B'7' */;
				bool v56 = (v53 >= v54);
				bool v57 = (v53 <= v55);
				bool v58 = (v56 && v57);
				v44 = v58;
				v43 = v52;
				v42 = v51;
				v41 = v49;
			}
			int64_t v59 = 0LL;
			bool v60 = (v41 > v59);
			VAL branch_ZPlusStr_61;
			int64_t branch_Bool_62;
			if (v60) {
				incref(v43);
				uint64_t v63 = str_size(value_str(v43));
				bool v64 = (v42 == ((int64_t)v63));
				branch_Bool_62 = ((int64_t)v64);
				branch_ZPlusStr_61 = v43;
			} else {
				int64_t v65 = 0LL /* False */;
				branch_Bool_62 = v65;
				branch_ZPlusStr_61 = v43;
			}
			branch_Bool_31 = branch_Bool_62;
			branch_ZPlusStr_30 = branch_ZPlusStr_61;
		} else {
			int64_t v66 = 0LL /* False */;
			branch_Bool_31 = v66;
			branch_ZPlusStr_30 = v26;
		}
		branch_Bool_23 = branch_Bool_31;
		branch_ZPlusStr_22 = branch_ZPlusStr_30;
	} else {
		int64_t v67 = 0LL /* False */;
		branch_Bool_23 = v67;
		branch_ZPlusStr_22 = v18;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_22;
	return branch_Bool_23;
}
static int64_t mw_std_str_ZPlusStr_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	VAL v4;
	int64_t v5 = mw_std_str_ZPlusStr_isZ_decZ_intZAsk(in_ZPlusStr_1, &v4);
	int64_t branch_Int_6;
	VAL branch_ZPlusStr_7;
	if (((bool)v5)) {
		VAL v8;
		int64_t v9 = mw_std_str_ZPlusStr_decZ_intZAsk(v4, &v8);
		branch_ZPlusStr_7 = v8;
		branch_Int_6 = v9;
	} else {
		VAL v10;
		int64_t v11 = mw_std_str_ZPlusStr_isZ_hexZ_intZAsk(v4, &v10);
		int64_t branch_Int_12;
		VAL branch_ZPlusStr_13;
		if (((bool)v11)) {
			VAL v14;
			int64_t v15 = mw_std_str_ZPlusStr_hexZ_intZAsk(v10, &v14);
			branch_ZPlusStr_13 = v14;
			branch_Int_12 = v15;
		} else {
			VAL v16;
			int64_t v17 = mw_std_str_ZPlusStr_octZ_intZAsk(v10, &v16);
			branch_ZPlusStr_13 = v16;
			branch_Int_12 = v17;
		}
		branch_ZPlusStr_7 = branch_ZPlusStr_13;
		branch_Int_6 = branch_Int_12;
	}
	*out_ZPlusStr_3 = branch_ZPlusStr_7;
	return branch_Int_6;
}
static int64_t mw_std_str_ZPlusStr_intZ_sign (VAL in_ZPlusStr_1, int64_t *out_Int_3, int64_t *out_UOffset_4, VAL *out_ZPlusStr_5) {
	int64_t v6 = 0LL;
	VAL v7;
	int64_t v8 = mw_std_str_ZPlusStr_byteZAt(v6, in_ZPlusStr_1, &v7);
	int64_t v9;
	int64_t v10;
	int64_t v11 = mw_mirth_lexer_byteZ_signZ_valueZ_index(v8, &v9, &v10);
	*out_ZPlusStr_5 = v7;
	*out_UOffset_4 = v10;
	*out_Int_3 = v9;
	return v11;
}
static int64_t mw_mirth_lexer_byteZ_signZ_valueZ_index (int64_t in_Byte_1, int64_t *out_Int_3, int64_t *out_UOffset_4) {
	int64_t branch_Int_5;
	int64_t branch_Int_6;
	int64_t branch_UOffset_7;
	switch (in_Byte_1) {
		case 45LL: { // B'-'
			int64_t v8 = -1LL;
			int64_t v9 = 0LL;
			int64_t v10 = 1LL;
			branch_UOffset_7 = v10;
			branch_Int_6 = v9;
			branch_Int_5 = v8;
		} break;
		case 43LL: { // B'+'
			int64_t v11 = 1LL;
			int64_t v12 = 0LL;
			int64_t v13 = 1LL;
			branch_UOffset_7 = v13;
			branch_Int_6 = v12;
			branch_Int_5 = v11;
		} break;
		default: {
			int64_t v14 = 1LL;
			int64_t v15 = 0LL;
			int64_t v16 = 0LL;
			branch_UOffset_7 = v16;
			branch_Int_6 = v15;
			branch_Int_5 = v14;
		} break;
	}
	*out_UOffset_4 = branch_UOffset_7;
	*out_Int_3 = branch_Int_6;
	return branch_Int_5;
}
static int64_t mw_std_str_ZPlusStr_decZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4;
	int64_t v5;
	VAL v6;
	int64_t v7 = mw_std_str_ZPlusStr_intZ_sign(in_ZPlusStr_1, &v4, &v5, &v6);
	incref(v6);
	uint64_t v8 = str_size(value_str(v6));
	bool v9 = (v5 < ((int64_t)v8));
	int64_t v10 = v7;
	int64_t v11 = v4;
	int64_t v12 = v5;
	VAL v13 = v6;
	bool v14 = v9;
	while (v14) {
		int64_t v15 = v10;
		int64_t v16 = v11;
		int64_t v17 = v12;
		VAL v18 = v13;
		VAL v19;
		int64_t v20 = mw_std_str_ZPlusStr_byteZAt(v17, v18, &v19);
		int64_t v21 = 10LL;
		int64_t v22 = i64_mul(v16, v21);
		int64_t v23 = 48LL;
		int64_t v24 = i64_sub(v20, v23);
		int64_t v25 = i64_add(v22, v24);
		int64_t v26 = 1LL;
		int64_t v27 = i64_add(v17, v26);
		incref(v19);
		uint64_t v28 = str_size(value_str(v19));
		bool v29 = (v27 < ((int64_t)v28));
		v14 = v29;
		v13 = v19;
		v12 = v27;
		v11 = v25;
		v10 = v15;
	}
	int64_t v30 = i64_mul(v10, v11);
	*out_ZPlusStr_3 = v13;
	return v30;
}
static int64_t mw_std_str_ZPlusStr_hexZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4;
	int64_t v5;
	VAL v6;
	int64_t v7 = mw_std_str_ZPlusStr_intZ_sign(in_ZPlusStr_1, &v4, &v5, &v6);
	int64_t v8 = 1LL;
	int64_t v9 = i64_add(v5, v8);
	int64_t v10 = 1LL;
	int64_t v11 = i64_add(v9, v10);
	incref(v6);
	uint64_t v12 = str_size(value_str(v6));
	bool v13 = (v11 < ((int64_t)v12));
	int64_t v14 = v7;
	int64_t v15 = v4;
	int64_t v16 = v11;
	VAL v17 = v6;
	bool v18 = v13;
	while (v18) {
		int64_t v19 = v14;
		int64_t v20 = v15;
		int64_t v21 = v16;
		VAL v22 = v17;
		VAL v23;
		int64_t v24 = mw_std_str_ZPlusStr_byteZAt(v21, v22, &v23);
		int64_t v25 = 16LL;
		int64_t v26 = i64_mul(v20, v25);
		int64_t v27 = mw_mirth_lexer_hexdigitZ_value(v24);
		int64_t v28 = i64_add(v26, v27);
		int64_t v29 = 1LL;
		int64_t v30 = i64_add(v21, v29);
		incref(v23);
		uint64_t v31 = str_size(value_str(v23));
		bool v32 = (v30 < ((int64_t)v31));
		v18 = v32;
		v17 = v23;
		v16 = v30;
		v15 = v28;
		v14 = v19;
	}
	int64_t v33 = i64_mul(v14, v15);
	*out_ZPlusStr_3 = v17;
	return v33;
}
static int64_t mw_std_str_ZPlusStr_octZ_intZAsk (VAL in_ZPlusStr_1, VAL *out_ZPlusStr_3) {
	int64_t v4;
	int64_t v5;
	VAL v6;
	int64_t v7 = mw_std_str_ZPlusStr_intZ_sign(in_ZPlusStr_1, &v4, &v5, &v6);
	int64_t v8 = 1LL;
	int64_t v9 = i64_add(v5, v8);
	int64_t v10 = 1LL;
	int64_t v11 = i64_add(v9, v10);
	incref(v6);
	uint64_t v12 = str_size(value_str(v6));
	bool v13 = (v11 < ((int64_t)v12));
	int64_t v14 = v7;
	int64_t v15 = v4;
	int64_t v16 = v11;
	VAL v17 = v6;
	bool v18 = v13;
	while (v18) {
		int64_t v19 = v14;
		int64_t v20 = v15;
		int64_t v21 = v16;
		VAL v22 = v17;
		VAL v23;
		int64_t v24 = mw_std_str_ZPlusStr_byteZAt(v21, v22, &v23);
		int64_t v25 = 8LL;
		int64_t v26 = i64_mul(v20, v25);
		int64_t v27 = 48LL;
		int64_t v28 = i64_sub(v24, v27);
		int64_t v29 = i64_add(v26, v28);
		int64_t v30 = 1LL;
		int64_t v31 = i64_add(v21, v30);
		incref(v23);
		uint64_t v32 = str_size(value_str(v23));
		bool v33 = (v31 < ((int64_t)v32));
		v18 = v33;
		v17 = v23;
		v16 = v31;
		v15 = v29;
		v14 = v19;
	}
	int64_t v34 = i64_mul(v14, v15);
	*out_ZPlusStr_3 = v17;
	return v34;
}
static int64_t mw_mirth_lexer_hexdigitZ_value (int64_t in_Byte_1) {
	int64_t v3 = 48LL /* B'0' */;
	int64_t v4 = 57LL /* B'9' */;
	bool v5 = (in_Byte_1 >= v3);
	bool v6 = (in_Byte_1 <= v4);
	bool v7 = (v5 && v6);
	int64_t branch_Int_8;
	if (v7) {
		int64_t v9 = 48LL;
		int64_t v10 = i64_sub(in_Byte_1, v9);
		branch_Int_8 = v10;
	} else {
		int64_t v11 = 55LL;
		int64_t v12 = i64_sub(in_Byte_1, v11);
		branch_Int_8 = v12;
	}
	return branch_Int_8;
}
static void mw_mirth_lexer_lexerZ_emitZ_stringZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusLexer_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusLexer_4) {
	STR* v5;
	STRLIT(v5, "", 0);
	VAL v6 = MKI64(0LL /* TokenNone */);
	VAL v7;
	uint64_t v8 = mw_mirth_lexer_lexerZ_makeZBang(v6, in_ZPlusLexer_2, &v7);
	VAL v9;
	mw_mirth_lexer_lexerZ_moveZBang(v7, &v9);
	VAL v10;
	int64_t v11 = mw_mirth_lexer_lexerZ_peek(v9, &v10);
	int64_t v12 = mw_std_byte_Byte_isZ_stringZ_end(v11);
	bool v13 = !((bool)v12);
	VAL v14 = in_ZPlusMirth_1;
	STR* v15 = v5;
	uint64_t v16 = v8;
	VAL v17 = v10;
	int64_t v18 = v11;
	bool v19 = v13;
	while (v19) {
		VAL v20 = v14;
		STR* v21 = v15;
		uint64_t v22 = v16;
		VAL v23 = v17;
		int64_t v24 = v18;
		VAL v25;
		VAL v26;
		VAL v27;
		mw_mirth_lexer_lexerZ_pushZ_stringZ_byteZBang(v20, MKSTR(v21), v23, v24, &v25, &v26, &v27);
		VAL v28;
		mw_mirth_lexer_lexerZ_moveZBang(v27, &v28);
		VAL v29;
		int64_t v30 = mw_mirth_lexer_lexerZ_peek(v28, &v29);
		int64_t v31 = mw_std_byte_Byte_isZ_stringZ_end(v30);
		bool v32 = !((bool)v31);
		v19 = v32;
		v18 = v30;
		v17 = v29;
		v16 = v22;
		v15 = value_str(v26);
		v14 = v25;
	}
	int64_t v33 = 34LL /* BQUOTE */;
	bool v34 = (v18 == v33);
	VAL branch_ZPlusMirth_35;
	VAL branch_z_x1_36;
	VAL branch_ZPlusLexer_37;
	if (v34) {
		branch_ZPlusLexer_37 = v17;
		branch_z_x1_36 = MKSTR(v15);
		branch_ZPlusMirth_35 = v14;
	} else {
		STR* v38;
		STRLIT(v38, "String literal is missing end quote (\").", 40);
		mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang(MKSTR(v38), v14, v17);
	}
	VAL v41 = mtw_mirth_token_TokenValue_TokenStr(branch_z_x1_36);
	void* v42 = mfld_mirth_token_Token_ZTildevalue(v16);
	mut_set(v41, v42);
	*out_ZPlusLexer_4 = branch_ZPlusLexer_37;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_35;
}
static void mw_mirth_lexer_lexerZ_pushZ_stringZ_byteZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusStr_2, VAL in_ZPlusLexer_3, int64_t in_Byte_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusStr_6, VAL *out_ZPlusLexer_7) {
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusStr_9;
	VAL branch_ZPlusLexer_10;
	switch (in_Byte_4) {
		case 92LL: { // B'\'
			VAL v11;
			mw_mirth_lexer_lexerZ_moveZBang(in_ZPlusLexer_3, &v11);
			VAL v12;
			int64_t v13 = mw_mirth_lexer_lexerZ_peek(v11, &v12);
			VAL v14;
			VAL v15;
			VAL v16;
			mw_mirth_lexer_lexerZ_pushZ_stringZ_escapeZ_byteZBang(in_ZPlusMirth_1, in_ZPlusStr_2, v12, v13, &v14, &v15, &v16);
			branch_ZPlusLexer_10 = v16;
			branch_ZPlusStr_9 = v15;
			branch_ZPlusMirth_8 = v14;
		} break;
		default: {
			VAL v17;
			mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(in_Byte_4, in_ZPlusStr_2, &v17);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v17;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusLexer_7 = branch_ZPlusLexer_10;
	*out_ZPlusStr_6 = branch_ZPlusStr_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_lexer_lexerZ_pushZ_stringZ_escapeZ_byteZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusStr_2, VAL in_ZPlusLexer_3, int64_t in_Byte_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusStr_6, VAL *out_ZPlusLexer_7) {
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusStr_9;
	VAL branch_ZPlusLexer_10;
	switch (in_Byte_4) {
		case 10LL: { // BLF
			VAL v11;
			mw_mirth_lexer_lexerZ_newlineZBang(in_ZPlusLexer_3, &v11);
			branch_ZPlusLexer_10 = v11;
			branch_ZPlusStr_9 = in_ZPlusStr_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 110LL: { // B'n'
			int64_t v12 = 10LL /* BLF */;
			VAL v13;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v12, in_ZPlusStr_2, &v13);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v13;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 114LL: { // B'r'
			int64_t v14 = 13LL /* BCR */;
			VAL v15;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v14, in_ZPlusStr_2, &v15);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v15;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 116LL: { // B't'
			int64_t v16 = 9LL /* BHT */;
			VAL v17;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v16, in_ZPlusStr_2, &v17);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v17;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 92LL: { // B'\'
			int64_t v18 = 92LL /* B'\' */;
			VAL v19;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v18, in_ZPlusStr_2, &v19);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v19;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		case 34LL: { // BQUOTE
			int64_t v20 = 34LL /* BQUOTE */;
			VAL v21;
			mw_std_str_ZPlusStr_pushZ_byteZ_asciiZBang(v20, in_ZPlusStr_2, &v21);
			branch_ZPlusLexer_10 = in_ZPlusLexer_3;
			branch_ZPlusStr_9 = v21;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			VAL v22;
			mw_std_str_ZPlusStr_pushZ_byteZ_unsafeZBang(in_Byte_4, in_ZPlusStr_2, &v22);
			STR* v23;
			STRLIT(v23, "Unknown character escape sequence.", 34);
			VAL v24;
			VAL v25;
			mw_mirth_lexer_lexerZ_emitZ_warningZBang(MKSTR(v23), in_ZPlusMirth_1, in_ZPlusLexer_3, &v24, &v25);
			branch_ZPlusLexer_10 = v25;
			branch_ZPlusStr_9 = v22;
			branch_ZPlusMirth_8 = v24;
		} break;
	}
	*out_ZPlusLexer_7 = branch_ZPlusLexer_10;
	*out_ZPlusStr_6 = branch_ZPlusStr_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
}
static void mw_mirth_lexer_lexerZ_skipZ_commentZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	VAL v3;
	int64_t v4 = mw_mirth_lexer_lexerZ_commentZ_endZAsk(in_ZPlusLexer_1, &v3);
	bool v5 = !((bool)v4);
	VAL v6 = v3;
	bool v7 = v5;
	while (v7) {
		VAL v8 = v6;
		VAL v9;
		mw_mirth_lexer_lexerZ_moveZBang(v8, &v9);
		VAL v10;
		int64_t v11 = mw_mirth_lexer_lexerZ_commentZ_endZAsk(v9, &v10);
		bool v12 = !((bool)v11);
		v7 = v12;
		v6 = v10;
	}
	VAL v13;
	int64_t v14 = mw_mirth_lexer_lexerZ_peek(v6, &v13);
	int64_t v15 = 10LL /* BLF */;
	bool v16 = (v14 == v15);
	VAL branch_ZPlusLexer_17;
	if (v16) {
		VAL v18;
		mw_mirth_lexer_lexerZ_newlineZBang(v13, &v18);
		branch_ZPlusLexer_17 = v18;
	} else {
		branch_ZPlusLexer_17 = v13;
	}
	*out_ZPlusLexer_2 = branch_ZPlusLexer_17;
}
static void mw_mirth_lexer_lexerZ_skipZ_docZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	VAL v3;
	int64_t v4 = mw_mirth_lexer_lexerZ_commentZ_endZAsk(in_ZPlusLexer_1, &v3);
	bool v5 = !((bool)v4);
	VAL v6 = v3;
	bool v7 = v5;
	while (v7) {
		VAL v8 = v6;
		VAL v9;
		mw_mirth_lexer_lexerZ_moveZBang(v8, &v9);
		VAL v10;
		int64_t v11 = mw_mirth_lexer_lexerZ_commentZ_endZAsk(v9, &v10);
		bool v12 = !((bool)v11);
		v7 = v12;
		v6 = v10;
	}
	*out_ZPlusLexer_2 = v6;
}
static int64_t mw_mirth_lexer_lexerZ_commentZ_endZAsk (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3) {
	VAL v4;
	int64_t v5 = mw_mirth_lexer_ZPlusLexer_doneZAsk(in_ZPlusLexer_1, &v4);
	VAL branch_ZPlusLexer_6;
	int64_t branch_Bool_7;
	if (((bool)v5)) {
		int64_t v8 = 1LL /* True */;
		branch_Bool_7 = v8;
		branch_ZPlusLexer_6 = v4;
	} else {
		VAL v9;
		int64_t v10 = mw_mirth_lexer_lexerZ_peek(v4, &v9);
		int64_t v11 = 10LL /* BLF */;
		bool v12 = (v10 == v11);
		branch_Bool_7 = ((int64_t)v12);
		branch_ZPlusLexer_6 = v9;
	}
	*out_ZPlusLexer_3 = branch_ZPlusLexer_6;
	return branch_Bool_7;
}
static int64_t mw_mirth_lexer_lexerZ_peek (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3) {
	VAL v4 = VTUP(in_ZPlusLexer_1)->cells[6];
	VAL v5;
	int64_t v6 = mw_std_input_ZPlusInput_peek(v4, &v5);
	VTUP(in_ZPlusLexer_1)->cells[6] = v5;
	*out_ZPlusLexer_3 = in_ZPlusLexer_1;
	return v6;
}
static void mw_mirth_lexer_lexerZ_moveZBang (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_2) {
	VAL v3 = VTUP(in_ZPlusLexer_1)->cells[6];
	VAL v4;
	mw_std_input_ZPlusInput_moveZBang(v3, &v4);
	VTUP(in_ZPlusLexer_1)->cells[6] = v4;
	int64_t v5 = value_i64(VTUP(in_ZPlusLexer_1)->cells[3]);
	int64_t v6 = mw_mirth_location_Col_ZToInt(v5);
	int64_t v7 = 1LL;
	int64_t v8 = i64_add(v6, v7);
	int64_t v9 = mw_std_prim_Int_ZToCol(v8);
	VTUP(in_ZPlusLexer_1)->cells[3] = MKI64(v9);
	*out_ZPlusLexer_2 = in_ZPlusLexer_1;
}
static VAL mw_mirth_lexer_lexerZ_location (VAL in_ZPlusLexer_1, VAL *out_ZPlusLexer_3) {
	uint64_t v4 = value_u64(VTUP(in_ZPlusLexer_1)->cells[1]);
	int64_t v5 = value_i64(VTUP(in_ZPlusLexer_1)->cells[2]);
	int64_t v6 = value_i64(VTUP(in_ZPlusLexer_1)->cells[3]);
	VAL v7 = mtw_mirth_location_Location_Location(v4, v5, v6);
	*out_ZPlusLexer_3 = in_ZPlusLexer_1;
	return v7;
}
static void mw_mirth_lexer_lexerZ_emitZ_warningZBang (VAL in_Str_1, VAL in_ZPlusMirth_2, VAL in_ZPlusLexer_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusLexer_5) {
	VAL v6;
	VAL v7 = mw_mirth_lexer_lexerZ_location(in_ZPlusLexer_3, &v6);
	VAL v8;
	mw_mirth_mirth_ZPlusMirth_emitZ_warningZ_atZBang(v7, in_Str_1, in_ZPlusMirth_2, &v8);
	*out_ZPlusLexer_5 = v6;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_lexer_lexerZ_emitZ_fatalZ_errorZBang (VAL in_Str_1, VAL in_ZPlusMirth_2, VAL in_ZPlusLexer_3) {
	VAL v4;
	VAL v5 = mw_mirth_lexer_lexerZ_location(in_ZPlusLexer_3, &v4);
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZ_atZBang(v5, in_Str_1, in_ZPlusMirth_2);
}
static void mw_mirth_elab_ZPlusTypeElab_typeZ_sigZ_startZBang (uint64_t in_Token_1, VAL *out_ZPlusTypeElab_2) {
	VAL v3 = mw_mirth_var_Ctx0();
	int64_t v4 = 0LL /* False */;
	int64_t v5 = 1LL /* True */;
	VAL v6;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v3, in_Token_1, v4, v5, &v6);
	*out_ZPlusTypeElab_2 = v6;
}
static void mw_mirth_elab_ZPlusTypeElab_rdrop (VAL in_ZPlusTypeElab_1) {
	VAL v2;
	uint64_t v3;
	int64_t v4;
	int64_t v5;
	mtp_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(in_ZPlusTypeElab_1, &v2, &v3, &v4, &v5);
	decref(v2);
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	int64_t v7 = mw_mirth_token_Token_runZ_endZAsk(v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusTypeElab_9;
	if (((bool)v7)) {
		uint64_t v10 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		STR* v11;
		STRLIT(v11, "expected type signature", 23);
		VAL v12;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v10, MKSTR(v11), in_ZPlusMirth_1, &v12);
		branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_8 = v12;
	} else {
		branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	VAL v13;
	VAL v14;
	VAL v15 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang(branch_ZPlusMirth_8, branch_ZPlusTypeElab_9, &v13, &v14);
	VAL v16;
	VAL v17;
	VAL v18 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v13, v14, &v16, &v17);
	uint64_t v19 = value_u64(VTUP(v17)->cells[2]);
	int64_t v20 = mw_mirth_token_Token_sigZ_dashesZAsk(v19);
	VAL branch_List_21;
	VAL branch_StackType_22;
	VAL branch_ZPlusMirth_23;
	VAL branch_ZPlusTypeElab_24;
	VAL branch_StackType_25;
	if (((bool)v20)) {
		uint64_t v26 = value_u64(VTUP(v17)->cells[2]);
		uint64_t v27 = mw_mirth_token_Token_succ(v26);
		VTUP(v17)->cells[2] = MKU64(v27);
		VAL v28;
		VAL v29;
		VAL v30 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v16, v17, &v28, &v29);
		branch_StackType_25 = v30;
		branch_ZPlusTypeElab_24 = v29;
		branch_ZPlusMirth_23 = v28;
		branch_StackType_22 = v18;
		branch_List_21 = v15;
	} else {
		VAL v31 = mw_mirth_type_T0();
		branch_StackType_25 = v18;
		branch_ZPlusTypeElab_24 = v17;
		branch_ZPlusMirth_23 = v16;
		branch_StackType_22 = v31;
		branch_List_21 = v15;
	}
	uint64_t v32 = value_u64(VTUP(branch_ZPlusTypeElab_24)->cells[2]);
	int64_t v33 = mw_mirth_token_Token_runZ_endZAsk(v32);
	VAL branch_ZPlusMirth_34;
	VAL branch_ZPlusTypeElab_35;
	if (((bool)v33)) {
		branch_ZPlusTypeElab_35 = branch_ZPlusTypeElab_24;
		branch_ZPlusMirth_34 = branch_ZPlusMirth_23;
	} else {
		uint64_t v36 = value_u64(VTUP(branch_ZPlusTypeElab_24)->cells[2]);
		STR* v37;
		STRLIT(v37, "expected right paren or comma", 29);
		VAL v38;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v36, MKSTR(v37), branch_ZPlusMirth_23, &v38);
		branch_ZPlusTypeElab_35 = branch_ZPlusTypeElab_24;
		branch_ZPlusMirth_34 = v38;
	}
	VAL v39 = mw_std_list_List_1_for_1_sp80(branch_StackType_22, branch_List_21);
	VAL v40 = mw_mirth_type_TZ_ZTo(v39, branch_StackType_25);
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_35;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_34;
	return v40;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZ_paramsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	VAL v7 = mw_mirth_token_Token_lparenZAsk(v6);
	int64_t v8 = get_data_tag(v7);
	decref(v7);
	int64_t v9 = 1LL;
	bool v10 = (v8 == v9);
	VAL branch_ZPlusMirth_11;
	VAL branch_ZPlusTypeElab_12;
	VAL branch_List_13;
	if (v10) {
		uint64_t v14 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		uint64_t v15 = mw_mirth_token_Token_next(v14);
		uint64_t v16 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		VAL v17 = mw_mirth_token_Token_args(v16);
		VAL v18 = MKI64(0LL /* Nil */);
		VAL v19 = mw_std_list_List_1_reverse(v18);
		int64_t v20 = 1LL /* True */;
		VAL v21 = in_ZPlusMirth_1;
		VAL v22 = in_ZPlusTypeElab_2;
		VAL v23 = v19;
		VAL v24 = v17;
		int64_t v25 = v20;
		int64_t v26 = v20;
		while (((bool)v26)) {
			VAL v27 = v21;
			VAL v28 = v22;
			VAL v29 = v23;
			VAL v30 = v24;
			int64_t v31 = v25;
			VAL branch_ZPlusMirth_32;
			VAL branch_ZPlusTypeElab_33;
			VAL branch_ZPlusList_34;
			VAL branch_List_35;
			int64_t branch_Bool_36;
			switch (get_data_tag(v30)) {
				case 1LL: { // Cons
					VAL v37;
					VAL v38 = mtp_std_list_List_1_Cons(v30, &v37);
					VTUP(v28)->cells[2] = v38;
					VAL v39;
					VAL v40;
					VAL v41 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v27, v28, &v39, &v40);
					VAL v42 = mtw_mirth_type_Type_TMorphism(v41);
					VAL v43 = mtw_std_list_List_1_Cons(v42, v29);
					int64_t v44 = 1LL /* True */;
					branch_Bool_36 = v44;
					branch_List_35 = v37;
					branch_ZPlusList_34 = v43;
					branch_ZPlusTypeElab_33 = v40;
					branch_ZPlusMirth_32 = v39;
				} break;
				case 0LL: { // Nil
					VAL v45 = MKI64(0LL /* Nil */);
					int64_t v46 = 0LL /* False */;
					branch_Bool_36 = v46;
					branch_List_35 = v45;
					branch_ZPlusList_34 = v29;
					branch_ZPlusTypeElab_33 = v28;
					branch_ZPlusMirth_32 = v27;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v26 = branch_Bool_36;
			v25 = branch_Bool_36;
			v24 = branch_List_35;
			v23 = branch_ZPlusList_34;
			v22 = branch_ZPlusTypeElab_33;
			v21 = branch_ZPlusMirth_32;
		}
		decref(v24);
		VAL v47 = mw_std_list_List_1_reverse(v23);
		VTUP(v22)->cells[2] = MKU64(v15);
		branch_List_13 = v47;
		branch_ZPlusTypeElab_12 = v22;
		branch_ZPlusMirth_11 = v21;
	} else {
		VAL v48 = MKI64(0LL /* Nil */);
		branch_List_13 = v48;
		branch_ZPlusTypeElab_12 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_11 = in_ZPlusMirth_1;
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_12;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_11;
	return branch_List_13;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	VAL v7 = mw_mirth_token_Token_sigZ_stackZ_varZAsk(v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusTypeElab_9;
	VAL branch_StackType_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v12;
			VAL v13;
			VAL v14 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, value_u64(v11), &v12, &v13);
			branch_StackType_10 = v14;
			branch_ZPlusTypeElab_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 0LL: { // None
			VAL v15 = mw_mirth_type_T0();
			branch_StackType_10 = v15;
			branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
			branch_ZPlusMirth_8 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v16;
	VAL v17;
	VAL v18 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang(branch_ZPlusMirth_8, branch_ZPlusTypeElab_9, branch_StackType_10, &v16, &v17);
	*out_ZPlusTypeElab_4 = v17;
	*out_ZPlusMirth_3 = v16;
	return v18;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_StackType_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	int64_t v8 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v7);
	bool v9 = !((bool)v8);
	VAL v10 = in_ZPlusMirth_1;
	VAL v11 = in_StackType_3;
	VAL v12 = in_ZPlusTypeElab_2;
	bool v13 = v9;
	while (v13) {
		VAL v14 = v10;
		VAL v15 = v11;
		VAL v16 = v12;
		VAL v17;
		VAL v18;
		VAL v19 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(v14, v16, &v17, &v18);
		VAL v20 = mw_mirth_type_StackTypePart_cons(v15, v19);
		uint64_t v21 = value_u64(VTUP(v18)->cells[2]);
		int64_t v22 = mw_mirth_token_Token_sigZ_stackZ_endZAsk(v21);
		bool v23 = !((bool)v22);
		v13 = v23;
		v12 = v18;
		v11 = v20;
		v10 = v17;
	}
	*out_ZPlusTypeElab_5 = v12;
	*out_ZPlusMirth_4 = v10;
	return v11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	VAL v7;
	VAL v8;
	VAL v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v7, &v8);
	VAL branch_ZPlusMirth_10;
	VAL branch_ZPlusTypeElab_11;
	VAL branch_Type_12;
	switch (get_data_tag(v9)) {
		case 0LL: { // STPCons
			VAL v13 = mtp_mirth_type_StackTypePart_STPCons(v9);
			branch_Type_12 = v13;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v7;
		} break;
		case 1LL: { // STPConsLabel
			uint64_t v14;
			VAL v15 = mtp_mirth_type_StackTypePart_STPConsLabel(v9, &v14);
			decref(v15);
			STR* v16;
			STRLIT(v16, "Expected type, not label.", 25);
			VAL v17;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, MKSTR(v16), v7, &v17);
			VAL v18 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_12 = v18;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v17;
		} break;
		case 2LL: { // STPWith
			VAL v19 = mtp_mirth_type_StackTypePart_STPWith(v9);
			decref(v19);
			STR* v20;
			STRLIT(v20, "Expected type, not resource.", 28);
			VAL v21;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, MKSTR(v20), v7, &v21);
			VAL v22 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_12 = v22;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v21;
		} break;
		case 3LL: { // STPWithLabel
			uint64_t v23;
			VAL v24 = mtp_mirth_type_StackTypePart_STPWithLabel(v9, &v23);
			decref(v24);
			STR* v25;
			STRLIT(v25, "Expected type, not labelled resource.", 37);
			VAL v26;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, MKSTR(v25), v7, &v26);
			VAL v27 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_12 = v27;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v28 = value_u64(VTUP(branch_ZPlusTypeElab_11)->cells[2]);
	int64_t v29 = mw_mirth_token_Token_argZ_endZAsk(v28);
	VAL branch_ZPlusMirth_30;
	VAL branch_ZPlusTypeElab_31;
	if (((bool)v29)) {
		branch_ZPlusTypeElab_31 = branch_ZPlusTypeElab_11;
		branch_ZPlusMirth_30 = branch_ZPlusMirth_10;
	} else {
		uint64_t v32 = value_u64(VTUP(branch_ZPlusTypeElab_11)->cells[2]);
		STR* v33;
		STRLIT(v33, "Unexpected token after type.", 28);
		VAL v34;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v32, MKSTR(v33), branch_ZPlusMirth_10, &v34);
		branch_ZPlusTypeElab_31 = branch_ZPlusTypeElab_11;
		branch_ZPlusMirth_30 = v34;
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_31;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_30;
	return branch_Type_12;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	VAL v7;
	VAL v8;
	VAL v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v7, &v8);
	VAL branch_ZPlusMirth_10;
	VAL branch_ZPlusTypeElab_11;
	VAL branch_Resource_12;
	switch (get_data_tag(v9)) {
		case 0LL: { // STPCons
			VAL v13 = mtp_mirth_type_StackTypePart_STPCons(v9);
			decref(v13);
			STR* v14;
			STRLIT(v14, "Expected resource, not type.", 28);
			VAL v15;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, MKSTR(v14), v7, &v15);
			VAL v16 = MKI64(0LL /* TYPE_ERROR */);
			branch_Resource_12 = v16;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v15;
		} break;
		case 1LL: { // STPConsLabel
			uint64_t v17;
			VAL v18 = mtp_mirth_type_StackTypePart_STPConsLabel(v9, &v17);
			decref(v18);
			STR* v19;
			STRLIT(v19, "Expected resource, not label.", 29);
			VAL v20;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, MKSTR(v19), v7, &v20);
			VAL v21 = MKI64(0LL /* TYPE_ERROR */);
			branch_Resource_12 = v21;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v20;
		} break;
		case 2LL: { // STPWith
			VAL v22 = mtp_mirth_type_StackTypePart_STPWith(v9);
			branch_Resource_12 = v22;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v7;
		} break;
		case 3LL: { // STPWithLabel
			uint64_t v23;
			VAL v24 = mtp_mirth_type_StackTypePart_STPWithLabel(v9, &v23);
			decref(v24);
			STR* v25;
			STRLIT(v25, "Expected resource, not label.", 29);
			VAL v26;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v6, MKSTR(v25), v7, &v26);
			VAL v27 = MKI64(0LL /* TYPE_ERROR */);
			branch_Resource_12 = v27;
			branch_ZPlusTypeElab_11 = v8;
			branch_ZPlusMirth_10 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v28 = value_u64(VTUP(branch_ZPlusTypeElab_11)->cells[2]);
	int64_t v29 = mw_mirth_token_Token_argZ_endZAsk(v28);
	VAL branch_ZPlusMirth_30;
	VAL branch_ZPlusTypeElab_31;
	if (((bool)v29)) {
		branch_ZPlusTypeElab_31 = branch_ZPlusTypeElab_11;
		branch_ZPlusMirth_30 = branch_ZPlusMirth_10;
	} else {
		uint64_t v32 = value_u64(VTUP(branch_ZPlusTypeElab_11)->cells[2]);
		STR* v33;
		STRLIT(v33, "Unexpected token after resource.", 32);
		VAL v34;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v32, MKSTR(v33), branch_ZPlusMirth_10, &v34);
		branch_ZPlusTypeElab_31 = branch_ZPlusTypeElab_11;
		branch_ZPlusMirth_30 = v34;
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_31;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_30;
	return branch_Resource_12;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	VAL v7 = mw_mirth_token_Token_sigZ_labelZAsk(v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusTypeElab_9;
	VAL branch_StackTypePart_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v12;
			VAL v13;
			VAL v14 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, value_u64(v11), &v12, &v13);
			branch_StackTypePart_10 = v14;
			branch_ZPlusTypeElab_9 = v13;
			branch_ZPlusMirth_8 = v12;
		} break;
		case 0LL: { // None
			uint64_t v15 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
			VAL v16 = mw_mirth_token_Token_sigZ_typeZ_varZAsk(v15);
			VAL branch_ZPlusMirth_17;
			VAL branch_ZPlusTypeElab_18;
			VAL branch_StackTypePart_19;
			switch (get_data_tag(v16)) {
				case 1LL: { // Some
					VAL v20 = mtp_std_maybe_Maybe_1_Some(v16);
					VAL v21;
					VAL v22;
					VAL v23 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, value_u64(v20), &v21, &v22);
					VAL v24 = mtw_mirth_type_StackTypePart_STPCons(v23);
					branch_StackTypePart_19 = v24;
					branch_ZPlusTypeElab_18 = v22;
					branch_ZPlusMirth_17 = v21;
				} break;
				case 0LL: { // None
					uint64_t v25 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
					VAL v26 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v25);
					VAL branch_ZPlusMirth_27;
					VAL branch_ZPlusTypeElab_28;
					VAL branch_StackTypePart_29;
					switch (get_data_tag(v26)) {
						case 1LL: { // Some
							VAL v30 = mtp_std_maybe_Maybe_1_Some(v26);
							VAL v31;
							VAL v32;
							VAL v33 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, v30, &v31, &v32);
							VAL v34 = mtw_mirth_type_StackTypePart_STPCons(v33);
							branch_StackTypePart_29 = v34;
							branch_ZPlusTypeElab_28 = v32;
							branch_ZPlusMirth_27 = v31;
						} break;
						case 0LL: { // None
							uint64_t v35 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
							VAL v36 = mw_mirth_token_Token_sigZ_resourceZ_varZAsk(v35);
							VAL branch_ZPlusMirth_37;
							VAL branch_ZPlusTypeElab_38;
							VAL branch_StackTypePart_39;
							switch (get_data_tag(v36)) {
								case 1LL: { // Some
									VAL v40 = mtp_std_maybe_Maybe_1_Some(v36);
									VAL v41;
									VAL v42;
									VAL v43 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, value_u64(v40), &v41, &v42);
									VAL v44 = mtw_mirth_type_StackTypePart_STPWith(v43);
									branch_StackTypePart_39 = v44;
									branch_ZPlusTypeElab_38 = v42;
									branch_ZPlusMirth_37 = v41;
								} break;
								case 0LL: { // None
									uint64_t v45 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
									VAL v46 = mw_mirth_token_Token_sigZ_resourceZ_conZAsk(v45);
									VAL branch_ZPlusMirth_47;
									VAL branch_ZPlusTypeElab_48;
									VAL branch_StackTypePart_49;
									switch (get_data_tag(v46)) {
										case 1LL: { // Some
											VAL v50 = mtp_std_maybe_Maybe_1_Some(v46);
											VAL v51;
											VAL v52;
											VAL v53 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, v50, &v51, &v52);
											VAL v54 = mtw_mirth_type_StackTypePart_STPWith(v53);
											branch_StackTypePart_49 = v54;
											branch_ZPlusTypeElab_48 = v52;
											branch_ZPlusMirth_47 = v51;
										} break;
										case 0LL: { // None
											uint64_t v55 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
											int64_t v56 = mw_mirth_token_Token_patZ_underscoreZAsk(v55);
											VAL branch_ZPlusMirth_57;
											VAL branch_ZPlusTypeElab_58;
											VAL branch_StackTypePart_59;
											if (((bool)v56)) {
												VAL v60;
												VAL v61;
												VAL v62 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v60, &v61);
												VAL v63 = mtw_mirth_type_StackTypePart_STPCons(v62);
												branch_StackTypePart_59 = v63;
												branch_ZPlusTypeElab_58 = v61;
												branch_ZPlusMirth_57 = v60;
											} else {
												uint64_t v64 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
												VAL v65 = mw_mirth_token_Token_sigZ_typeZ_holeZAsk(v64);
												VAL branch_ZPlusMirth_66;
												VAL branch_ZPlusTypeElab_67;
												VAL branch_StackTypePart_68;
												switch (get_data_tag(v65)) {
													case 1LL: { // Some
														VAL v69 = mtp_std_maybe_Maybe_1_Some(v65);
														VAL v70;
														VAL v71;
														VAL v72 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, value_u64(v69), &v70, &v71);
														VAL v73 = mtw_mirth_type_StackTypePart_STPCons(v72);
														branch_StackTypePart_68 = v73;
														branch_ZPlusTypeElab_67 = v71;
														branch_ZPlusMirth_66 = v70;
													} break;
													case 0LL: { // None
														uint64_t v74 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
														VAL v75 = mw_mirth_token_Token_lsquareZAsk(v74);
														int64_t v76 = get_data_tag(v75);
														decref(v75);
														int64_t v77 = 1LL;
														bool v78 = (v76 == v77);
														VAL branch_ZPlusMirth_79;
														VAL branch_ZPlusTypeElab_80;
														VAL branch_StackTypePart_81;
														if (v78) {
															VAL v82;
															VAL v83;
															VAL v84 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, &v82, &v83);
															VAL v85 = mtw_mirth_type_StackTypePart_STPCons(v84);
															branch_StackTypePart_81 = v85;
															branch_ZPlusTypeElab_80 = v83;
															branch_ZPlusMirth_79 = v82;
														} else {
															uint64_t v86 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
															STR* v87;
															STRLIT(v87, "Expected type, got unknown token.", 33);
															VAL v88;
															mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v86, MKSTR(v87), in_ZPlusMirth_1, &v88);
															uint64_t v89 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
															uint64_t v90 = mw_mirth_token_Token_next(v89);
															VTUP(in_ZPlusTypeElab_2)->cells[2] = MKU64(v90);
															VAL v91 = MKI64(0LL /* TYPE_ERROR */);
															VAL v92 = mtw_mirth_type_StackTypePart_STPCons(v91);
															branch_StackTypePart_81 = v92;
															branch_ZPlusTypeElab_80 = in_ZPlusTypeElab_2;
															branch_ZPlusMirth_79 = v88;
														}
														branch_StackTypePart_68 = branch_StackTypePart_81;
														branch_ZPlusTypeElab_67 = branch_ZPlusTypeElab_80;
														branch_ZPlusMirth_66 = branch_ZPlusMirth_79;
													} break;
													default: {
														do_panic(str_make("unexpected fallthrough in match\n", 32));
													}
												}
												branch_StackTypePart_59 = branch_StackTypePart_68;
												branch_ZPlusTypeElab_58 = branch_ZPlusTypeElab_67;
												branch_ZPlusMirth_57 = branch_ZPlusMirth_66;
											}
											branch_StackTypePart_49 = branch_StackTypePart_59;
											branch_ZPlusTypeElab_48 = branch_ZPlusTypeElab_58;
											branch_ZPlusMirth_47 = branch_ZPlusMirth_57;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									branch_StackTypePart_39 = branch_StackTypePart_49;
									branch_ZPlusTypeElab_38 = branch_ZPlusTypeElab_48;
									branch_ZPlusMirth_37 = branch_ZPlusMirth_47;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							branch_StackTypePart_29 = branch_StackTypePart_39;
							branch_ZPlusTypeElab_28 = branch_ZPlusTypeElab_38;
							branch_ZPlusMirth_27 = branch_ZPlusMirth_37;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_StackTypePart_19 = branch_StackTypePart_29;
					branch_ZPlusTypeElab_18 = branch_ZPlusTypeElab_28;
					branch_ZPlusMirth_17 = branch_ZPlusMirth_27;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_StackTypePart_10 = branch_StackTypePart_19;
			branch_ZPlusTypeElab_9 = branch_ZPlusTypeElab_18;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
	return branch_StackTypePart_10;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_labelZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Label_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	uint64_t v8 = mw_mirth_token_Token_next(v7);
	uint64_t v9 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	VAL v10;
	uint64_t v11 = mw_mirth_token_Token_argsZ_1(v9, in_ZPlusMirth_1, &v10);
	VTUP(in_ZPlusTypeElab_2)->cells[2] = MKU64(v11);
	int64_t v12 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_Label_3);
	VAL branch_ZPlusMirth_13;
	VAL branch_ZPlusTypeElab_14;
	VAL branch_StackTypePart_15;
	if (((bool)v12)) {
		VAL v16;
		VAL v17;
		VAL v18 = mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_argZBang(v10, in_ZPlusTypeElab_2, &v16, &v17);
		VAL v19 = mtw_mirth_type_StackTypePart_STPWithLabel(v18, in_Label_3);
		branch_StackTypePart_15 = v19;
		branch_ZPlusTypeElab_14 = v17;
		branch_ZPlusMirth_13 = v16;
	} else {
		VAL v20;
		VAL v21;
		VAL v22 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(v10, in_ZPlusTypeElab_2, &v20, &v21);
		VAL v23 = mtw_mirth_type_StackTypePart_STPConsLabel(v22, in_Label_3);
		branch_StackTypePart_15 = v23;
		branch_ZPlusTypeElab_14 = v21;
		branch_ZPlusMirth_13 = v20;
	}
	VTUP(branch_ZPlusTypeElab_14)->cells[2] = MKU64(v8);
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_14;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_13;
	return branch_StackTypePart_15;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	VAL v7 = mw_mirth_type_TYPEz_STACK();
	VAL v8;
	VAL v9;
	VAL v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	VAL branch_StackType_11;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
			VAL v13 = mtw_mirth_type_StackType_STVar(value_u64(v12));
			branch_StackType_11 = v13;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* STACK_TYPE_ERROR */);
			branch_StackType_11 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return branch_StackType_11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	VAL v7 = mw_mirth_type_TYPEz_TYPE();
	VAL v8;
	VAL v9;
	VAL v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	VAL branch_Type_11;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
			VAL v13 = mtw_mirth_type_Type_TVar(value_u64(v12));
			branch_Type_11 = v13;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_11 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return branch_Type_11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	VAL v7 = mw_mirth_type_TYPEz_RESOURCE();
	VAL v8;
	VAL v9;
	VAL v10 = mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Name_3, v7, &v8, &v9);
	VAL branch_Type_11;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
			VAL v13 = mtw_mirth_type_Type_TVar(value_u64(v12));
			branch_Type_11 = v13;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_11 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_5 = v9;
	*out_ZPlusMirth_4 = v8;
	return branch_Type_11;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_implicitZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL in_Type_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusTypeElab_6) {
	VAL v8 = VTUP(in_ZPlusTypeElab_2)->cells[1];
	incref(v8);
	VAL v9 = mw_mirth_var_Ctx_lookup(in_Name_3, v8);
	VAL branch_ZPlusMirth_10;
	VAL branch_ZPlusTypeElab_11;
	VAL branch_Maybe_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			incref(v13);
			VAL v14 = mw_mirth_var_Var_type(value_u64(v13));
			uint64_t v15 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
			VAL v16;
			uint64_t v17;
			VAL v18 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, v15, in_Type_4, v14, &v16, &v17);
			mw_mirth_type_ZPlusGamma_rdrop(v17);
			decref(v18);
			VAL v19 = mtw_std_maybe_Maybe_1_Some(v13);
			branch_Maybe_12 = v19;
			branch_ZPlusTypeElab_11 = in_ZPlusTypeElab_2;
			branch_ZPlusMirth_10 = v16;
		} break;
		case 0LL: { // None
			int64_t v20 = value_i64(VTUP(in_ZPlusTypeElab_2)->cells[4]);
			VAL branch_ZPlusMirth_21;
			VAL branch_ZPlusTypeElab_22;
			VAL branch_Maybe_23;
			if (((bool)v20)) {
				uint64_t v24 = mw_mirth_var_Var_newZBang(in_Type_4, in_Name_3);
				VAL v25 = VTUP(in_ZPlusTypeElab_2)->cells[1];
				incref(v25);
				VAL v26 = mw_mirth_var_Ctx_new(v25, v24);
				VAL v27 = VTUP(in_ZPlusTypeElab_2)->cells[1];
				decref(v27);
				VTUP(in_ZPlusTypeElab_2)->cells[1] = v26;
				VAL v28 = mtw_std_maybe_Maybe_1_Some(MKU64(v24));
				branch_Maybe_23 = v28;
				branch_ZPlusTypeElab_22 = in_ZPlusTypeElab_2;
				branch_ZPlusMirth_21 = in_ZPlusMirth_1;
			} else {
				uint64_t v29 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
				STR* v30;
				STRLIT(v30, "Implicit type variable not allowed here.", 40);
				VAL v31;
				mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v29, MKSTR(v30), in_ZPlusMirth_1, &v31);
				decref(in_Type_4);
				VAL v32 = MKI64(0LL /* None */);
				branch_Maybe_23 = v32;
				branch_ZPlusTypeElab_22 = in_ZPlusTypeElab_2;
				branch_ZPlusMirth_21 = v31;
			}
			branch_Maybe_12 = branch_Maybe_23;
			branch_ZPlusTypeElab_11 = branch_ZPlusTypeElab_22;
			branch_ZPlusMirth_10 = branch_ZPlusMirth_21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v33 = value_u64(VTUP(branch_ZPlusTypeElab_11)->cells[2]);
	VAL v34;
	mw_mirth_token_Token_argsZ_0(v33, branch_ZPlusMirth_10, &v34);
	uint64_t v35 = value_u64(VTUP(branch_ZPlusTypeElab_11)->cells[2]);
	uint64_t v36 = mw_mirth_token_Token_succ(v35);
	VTUP(branch_ZPlusTypeElab_11)->cells[2] = MKU64(v36);
	*out_ZPlusTypeElab_6 = branch_ZPlusTypeElab_11;
	*out_ZPlusMirth_5 = v34;
	return branch_Maybe_12;
}
static void mw_mirth_elab_resolveZ_defZ_beginZBang (VAL in_Str_1, uint64_t in_Token_2, VAL in_Either_3, int64_t in_Bool_4, int64_t in_Bool_5, VAL in_ZPlusMirth_6, VAL *out_ZPlusMirth_7, VAL *out_ZPlusResolveDef_8) {
	VAL branch_Str_9;
	uint64_t branch_Token_10;
	int64_t branch_Bool_11;
	VAL branch_ZPlusMirth_12;
	int64_t branch_Bool_13;
	VAL branch_Either_14;
	uint64_t branch_Name_15;
	if (((bool)in_Bool_4)) {
		incref(in_Either_3);
		VAL v16 = mw_mirth_token_nameZDivdnameZ_penultimateZ_nameZAsk(in_Either_3);
		VAL branch_ZPlusMirth_17;
		uint64_t branch_Token_18;
		VAL branch_z_x1_19;
		switch (get_data_tag(v16)) {
			case 1LL: { // Some
				VAL v20 = mtp_std_maybe_Maybe_1_Some(v16);
				branch_z_x1_19 = v20;
				branch_Token_18 = in_Token_2;
				branch_ZPlusMirth_17 = in_ZPlusMirth_6;
			} break;
			case 0LL: { // None
				STR* v21;
				STRLIT(v21, "Expected a namespace.", 21);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v21), in_ZPlusMirth_6);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Name_15 = value_u64(branch_z_x1_19);
		branch_Either_14 = in_Either_3;
		branch_Bool_13 = in_Bool_4;
		branch_ZPlusMirth_12 = branch_ZPlusMirth_17;
		branch_Bool_11 = in_Bool_5;
		branch_Token_10 = branch_Token_18;
		branch_Str_9 = in_Str_1;
	} else {
		incref(in_Either_3);
		uint64_t v24 = mw_mirth_token_nameZDivdnameZ_lastZ_name(in_Either_3);
		branch_Name_15 = v24;
		branch_Either_14 = in_Either_3;
		branch_Bool_13 = in_Bool_4;
		branch_ZPlusMirth_12 = in_ZPlusMirth_6;
		branch_Bool_11 = in_Bool_5;
		branch_Token_10 = in_Token_2;
		branch_Str_9 = in_Str_1;
	}
	VAL v25 = mw_mirth_name_Name_defs(branch_Name_15);
	VAL v26 = MKI64(0LL /* Nil */);
	VAL v27;
	mtw_mirth_elab_ZPlusResolveDef_ZPlusResolveDef(branch_Str_9, branch_Token_10, branch_Either_14, v25, v26, branch_Bool_13, branch_Bool_11, &v27);
	*out_ZPlusResolveDef_8 = v27;
	*out_ZPlusMirth_7 = branch_ZPlusMirth_12;
}
static VAL mw_mirth_elab_resolveZ_defZ_endZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = VTUP(in_ZPlusResolveDef_2)->cells[4];
	incref(v5);
	VAL branch_ZPlusMirth_6;
	VAL branch_Maybe_7;
	switch (get_data_tag(v5)) {
		case 0LL: { // Nil
			VAL v8;
			mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown(in_ZPlusMirth_1, in_ZPlusResolveDef_2, &v8);
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 1LL: { // Cons
			VAL v10;
			VAL v11 = mtp_std_list_List_1_Cons(v5, &v10);
			VAL branch_ZPlusMirth_12;
			VAL branch_Maybe_13;
			switch (get_data_tag(v10)) {
				case 0LL: { // Nil
					mw_mirth_elab_ZPlusResolveDef_rdrop(in_ZPlusResolveDef_2);
					VAL v14 = mtw_std_maybe_Maybe_1_Some(v11);
					branch_Maybe_13 = v14;
					branch_ZPlusMirth_12 = in_ZPlusMirth_1;
				} break;
				default: {
					VAL v15 = MKI64(0LL /* Nil */);
					VAL v16 = mw_std_list_List_1_reverse(v15);
					int64_t v17 = 1LL /* True */;
					VAL v18 = in_ZPlusMirth_1;
					VAL v19 = in_ZPlusResolveDef_2;
					VAL v20 = v11;
					VAL v21 = v16;
					VAL v22 = v10;
					int64_t v23 = v17;
					int64_t v24 = v17;
					while (((bool)v24)) {
						VAL v25 = v18;
						VAL v26 = v19;
						VAL v27 = v20;
						VAL v28 = v21;
						VAL v29 = v22;
						int64_t v30 = v23;
						VAL branch_Def_31;
						VAL branch_ZPlusMirth_32;
						VAL branch_z_x1_33;
						VAL branch_ZPlusList_34;
						VAL branch_List_35;
						int64_t branch_Bool_36;
						switch (get_data_tag(v29)) {
							case 1LL: { // Cons
								VAL v37;
								VAL v38 = mtp_std_list_List_1_Cons(v29, &v37);
								incref(v38);
								incref(v27);
								VAL v39;
								int64_t v40 = mw_mirth_def_Def_sameZ_resolvedZAsk(v25, v38, v27, &v39);
								bool v41 = !((bool)v40);
								VAL branch_Def_42;
								VAL branch_ZPlusMirth_43;
								VAL branch_z_x1_44;
								VAL branch_ZPlusList_45;
								if (v41) {
									VAL v46 = mtw_std_list_List_1_Cons(v38, v28);
									branch_ZPlusList_45 = v46;
									branch_z_x1_44 = v26;
									branch_ZPlusMirth_43 = v39;
									branch_Def_42 = v27;
								} else {
									decref(v38);
									branch_ZPlusList_45 = v28;
									branch_z_x1_44 = v26;
									branch_ZPlusMirth_43 = v39;
									branch_Def_42 = v27;
								}
								int64_t v47 = 1LL /* True */;
								branch_Bool_36 = v47;
								branch_List_35 = v37;
								branch_ZPlusList_34 = branch_ZPlusList_45;
								branch_z_x1_33 = branch_z_x1_44;
								branch_ZPlusMirth_32 = branch_ZPlusMirth_43;
								branch_Def_31 = branch_Def_42;
							} break;
							case 0LL: { // Nil
								VAL v48 = MKI64(0LL /* Nil */);
								int64_t v49 = 0LL /* False */;
								branch_Bool_36 = v49;
								branch_List_35 = v48;
								branch_ZPlusList_34 = v28;
								branch_z_x1_33 = v26;
								branch_ZPlusMirth_32 = v25;
								branch_Def_31 = v27;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v24 = branch_Bool_36;
						v23 = branch_Bool_36;
						v22 = branch_List_35;
						v21 = branch_ZPlusList_34;
						v20 = branch_Def_31;
						v19 = branch_z_x1_33;
						v18 = branch_ZPlusMirth_32;
					}
					decref(v22);
					VAL v50 = mw_std_list_List_1_reverse(v21);
					VAL branch_ZPlusMirth_51;
					VAL branch_Maybe_52;
					switch (get_data_tag(v50)) {
						case 0LL: { // Nil
							mw_mirth_elab_ZPlusResolveDef_rdrop(v19);
							VAL v53 = mtw_std_maybe_Maybe_1_Some(v20);
							branch_Maybe_52 = v53;
							branch_ZPlusMirth_51 = v18;
						} break;
						default: {
							decref(v50);
							decref(v20);
							VAL v54;
							mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous(v18, v19, &v54);
							VAL v55 = MKI64(0LL /* None */);
							branch_Maybe_52 = v55;
							branch_ZPlusMirth_51 = v54;
						} break;
					}
					branch_Maybe_13 = branch_Maybe_52;
					branch_ZPlusMirth_12 = branch_ZPlusMirth_51;
				} break;
			}
			branch_Maybe_7 = branch_Maybe_13;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_6;
	return branch_Maybe_7;
}
static void mw_mirth_elab_ZPlusResolveDef_rdrop (VAL in_ZPlusResolveDef_1) {
	VAL v2;
	uint64_t v3;
	VAL v4;
	VAL v5;
	VAL v6;
	int64_t v7;
	int64_t v8;
	mtp_mirth_elab_ZPlusResolveDef_ZPlusResolveDef(in_ZPlusResolveDef_1, &v2, &v3, &v4, &v5, &v6, &v7, &v8);
	decref(v4);
	decref(v2);
	decref(v6);
	decref(v5);
}
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_ambiguous (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3) {
	int64_t v4 = value_i64(VTUP(in_ZPlusResolveDef_2)->cells[7]);
	VAL branch_ZPlusMirth_5;
	VAL branch_ZPlusResolveDef_6;
	if (((bool)v4)) {
		uint64_t v7 = value_u64(VTUP(in_ZPlusResolveDef_2)->cells[2]);
		STR* v8;
		STRLIT(v8, "", 0);
		STR* v9;
		STRLIT(v9, "Can't resolve ", 14);
		VAL v10;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v9), MKSTR(v8), &v10);
		VAL v11 = VTUP(in_ZPlusResolveDef_2)->cells[1];
		incref(v11);
		VAL v12;
		mw_std_str_ZPlusStr_pushZ_strZBang(v11, v10, &v12);
		STR* v13;
		STRLIT(v13, " due to previous errors. Candidates are:", 40);
		VAL v14;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v13), v12, &v14);
		STR* v15;
		STRLIT(v15, " ", 1);
		VAL v16 = VTUP(in_ZPlusResolveDef_2)->cells[4];
		incref(v16);
		VAL v17;
		VAL v18;
		VAL v19;
		VAL v20 = mw_std_list_List_1_for_1_sp63(in_ZPlusMirth_1, in_ZPlusResolveDef_2, v14, MKSTR(v15), v16, &v17, &v18, &v19);
		decref(v20);
		VAL v21;
		mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(v7, v19, v17, &v21);
		branch_ZPlusResolveDef_6 = v18;
		branch_ZPlusMirth_5 = v21;
	} else {
		uint64_t v22 = value_u64(VTUP(in_ZPlusResolveDef_2)->cells[2]);
		STR* v23;
		STRLIT(v23, "", 0);
		STR* v24;
		STRLIT(v24, "Ambiguous ", 10);
		VAL v25;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v24), MKSTR(v23), &v25);
		VAL v26 = VTUP(in_ZPlusResolveDef_2)->cells[1];
		incref(v26);
		VAL v27;
		mw_std_str_ZPlusStr_pushZ_strZBang(v26, v25, &v27);
		STR* v28;
		STRLIT(v28, ". Can't decide between:", 23);
		VAL v29;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v28), v27, &v29);
		STR* v30;
		STRLIT(v30, " ", 1);
		VAL v31 = VTUP(in_ZPlusResolveDef_2)->cells[4];
		incref(v31);
		VAL v32;
		VAL v33;
		VAL v34;
		VAL v35 = mw_std_list_List_1_for_1_sp63(in_ZPlusMirth_1, in_ZPlusResolveDef_2, v29, MKSTR(v30), v31, &v32, &v33, &v34);
		decref(v35);
		VAL v36;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v22, v34, v32, &v36);
		branch_ZPlusResolveDef_6 = v33;
		branch_ZPlusMirth_5 = v36;
	}
	mw_mirth_elab_ZPlusResolveDef_rdrop(branch_ZPlusResolveDef_6);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
}
static void mw_mirth_elab_ZPlusResolveDef_resolveZ_defZ_unknown (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3) {
	uint64_t v4 = value_u64(VTUP(in_ZPlusResolveDef_2)->cells[2]);
	STR* v5;
	STRLIT(v5, "", 0);
	VAL v6 = VTUP(in_ZPlusResolveDef_2)->cells[5];
	incref(v6);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusResolveDef_8;
	VAL branch_ZPlusStr_9;
	switch (get_data_tag(v6)) {
		case 0LL: { // Nil
			STR* v10;
			STRLIT(v10, "Unknown ", 8);
			VAL v11;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v10), MKSTR(v5), &v11);
			VAL v12 = VTUP(in_ZPlusResolveDef_2)->cells[1];
			incref(v12);
			VAL v13;
			mw_std_str_ZPlusStr_pushZ_strZBang(v12, v11, &v13);
			STR* v14;
			STRLIT(v14, " name, possibly a misspelling.", 30);
			VAL v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v14), v13, &v15);
			branch_ZPlusStr_9 = v15;
			branch_ZPlusResolveDef_8 = in_ZPlusResolveDef_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Cons
			VAL v16;
			VAL v17 = mtp_std_list_List_1_Cons(v6, &v16);
			VAL branch_ZPlusMirth_18;
			VAL branch_ZPlusResolveDef_19;
			VAL branch_ZPlusStr_20;
			switch (get_data_tag(v16)) {
				case 0LL: { // Nil
					VAL branch_ZPlusMirth_21;
					VAL branch_ZPlusResolveDef_22;
					VAL branch_ZPlusStr_23;
					switch (get_data_tag(v17)) {
						case 0LL: { // RD_WRONG_SORT
							VAL v24 = mtp_mirth_elab_RejectedDef_RDz_WRONGz_SORT(v17);
							STR* v25;
							STRLIT(v25, "Expected a ", 11);
							VAL v26;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v25), MKSTR(v5), &v26);
							VAL v27 = VTUP(in_ZPlusResolveDef_2)->cells[1];
							incref(v27);
							VAL v28;
							mw_std_str_ZPlusStr_pushZ_strZBang(v27, v26, &v28);
							STR* v29;
							STRLIT(v29, ", but ", 6);
							VAL v30;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v29), v28, &v30);
							VAL v31;
							VAL v32 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v24, &v31);
							VAL v33;
							VAL v34 = mw_mirth_name_QName_ZToStr(v31, v32, &v33);
							VAL v35;
							mw_std_str_ZPlusStr_pushZ_strZBang(v34, v30, &v35);
							STR* v36;
							STRLIT(v36, " is not a ", 10);
							VAL v37;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v36), v35, &v37);
							VAL v38 = VTUP(in_ZPlusResolveDef_2)->cells[1];
							incref(v38);
							VAL v39;
							mw_std_str_ZPlusStr_pushZ_strZBang(v38, v37, &v39);
							STR* v40;
							STRLIT(v40, ".", 1);
							VAL v41;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v40), v39, &v41);
							branch_ZPlusStr_23 = v41;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v33;
						} break;
						case 2LL: { // RD_NOT_VISIBLE
							VAL v42 = mtp_mirth_elab_RejectedDef_RDz_NOTz_VISIBLE(v17);
							STR* v43;
							STRLIT(v43, "Not visible in current scope: ", 30);
							VAL v44;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v43), MKSTR(v5), &v44);
							VAL v45;
							VAL v46 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v42, &v45);
							VAL v47;
							VAL v48 = mw_mirth_name_QName_ZToStr(v45, v46, &v47);
							VAL v49;
							mw_std_str_ZPlusStr_pushZ_strZBang(v48, v44, &v49);
							branch_ZPlusStr_23 = v49;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v47;
						} break;
						case 3LL: { // RD_NOT_IMPORTED
							VAL v50 = mtp_mirth_elab_RejectedDef_RDz_NOTz_IMPORTED(v17);
							STR* v51;
							STRLIT(v51, "Not imported in current scope: ", 31);
							VAL v52;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v51), MKSTR(v5), &v52);
							VAL v53;
							VAL v54 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v50, &v53);
							VAL v55;
							VAL v56 = mw_mirth_name_QName_ZToStr(v53, v54, &v55);
							VAL v57;
							mw_std_str_ZPlusStr_pushZ_strZBang(v56, v52, &v57);
							branch_ZPlusStr_23 = v57;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v55;
						} break;
						case 1LL: { // RD_WRONG_ARITY
							VAL v58 = mtp_mirth_elab_RejectedDef_RDz_WRONGz_ARITY(v17);
							VAL v59;
							VAL v60 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v58, &v59);
							incref(v60);
							VAL v61;
							VAL v62 = mw_mirth_name_QName_ZToStr(v59, v60, &v61);
							VAL v63;
							mw_std_str_ZPlusStr_pushZ_strZBang(v62, MKSTR(v5), &v63);
							STR* v64;
							STRLIT(v64, " expects ", 9);
							VAL v65;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v64), v63, &v65);
							int64_t v66 = value_i64(VTUP(v60)->cells[3]);
							decref(v60);
							STR* v67 = i64_show(v66);
							VAL v68;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v67), v65, &v68);
							STR* v69;
							STRLIT(v69, " arguments, but got ", 20);
							VAL v70;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v69), v68, &v70);
							uint64_t v71 = value_u64(VTUP(in_ZPlusResolveDef_2)->cells[2]);
							int64_t v72 = mw_mirth_token_Token_numZ_args(v71);
							STR* v73 = i64_show(v72);
							VAL v74;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v73), v70, &v74);
							STR* v75;
							STRLIT(v75, ".", 1);
							VAL v76;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v75), v74, &v76);
							branch_ZPlusStr_23 = v76;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v61;
						} break;
						case 4LL: { // RD_WRONG_QUALIFIER
							VAL v77 = mtp_mirth_elab_RejectedDef_RDz_WRONGz_QUALIFIER(v17);
							STR* v78;
							STRLIT(v78, "Qualified name not found. Perhaps you meant: ", 45);
							VAL v79;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v78), MKSTR(v5), &v79);
							VAL v80;
							VAL v81 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v77, &v80);
							VAL v82;
							VAL v83 = mw_mirth_name_QName_ZToStr(v80, v81, &v82);
							VAL v84;
							mw_std_str_ZPlusStr_pushZ_strZBang(v83, v79, &v84);
							branch_ZPlusStr_23 = v84;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v82;
						} break;
						case 5LL: { // RD_WRONG_CONSTRUCTOR
							VAL v85 = mtp_mirth_elab_RejectedDef_RDz_WRONGz_CONSTRUCTOR(v17);
							STR* v86;
							STRLIT(v86, "Constructor is for a different type: ", 37);
							VAL v87;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v86), MKSTR(v5), &v87);
							VAL v88;
							VAL v89 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v85, &v88);
							VAL v90;
							VAL v91 = mw_mirth_name_QName_ZToStr(v88, v89, &v90);
							VAL v92;
							mw_std_str_ZPlusStr_pushZ_strZBang(v91, v87, &v92);
							branch_ZPlusStr_23 = v92;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v90;
						} break;
						case 7LL: { // RD_METHOD_WRONG_TYPE
							VAL v93 = mtp_mirth_elab_RejectedDef_RDz_METHODz_WRONGz_TYPE(v17);
							STR* v94;
							STRLIT(v94, "Method is for a different type: ", 32);
							VAL v95;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v94), MKSTR(v5), &v95);
							VAL v96;
							VAL v97 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v93, &v96);
							VAL v98;
							VAL v99 = mw_mirth_name_QName_ZToStr(v96, v97, &v98);
							VAL v100;
							mw_std_str_ZPlusStr_pushZ_strZBang(v99, v95, &v100);
							branch_ZPlusStr_23 = v100;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v98;
						} break;
						case 6LL: { // RD_METHOD_NOT_AVAILABLE
							VAL v101 = mtp_mirth_elab_RejectedDef_RDz_METHODz_NOTz_AVAILABLE(v17);
							STR* v102;
							STRLIT(v102, "Method is not available for current stack: ", 43);
							VAL v103;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v102), MKSTR(v5), &v103);
							VAL v104;
							VAL v105 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, v101, &v104);
							VAL v106;
							VAL v107 = mw_mirth_name_QName_ZToStr(v104, v105, &v106);
							VAL v108;
							mw_std_str_ZPlusStr_pushZ_strZBang(v107, v103, &v108);
							branch_ZPlusStr_23 = v108;
							branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
							branch_ZPlusMirth_21 = v106;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusStr_20 = branch_ZPlusStr_23;
					branch_ZPlusResolveDef_19 = branch_ZPlusResolveDef_22;
					branch_ZPlusMirth_18 = branch_ZPlusMirth_21;
				} break;
				default: {
					VAL v109 = mtw_std_list_List_1_Cons(v17, v16);
					STR* v110;
					STRLIT(v110, "Multiple definitions for name, but none are suitable:", 53);
					VAL v111;
					mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v110), MKSTR(v5), &v111);
					STR* v112;
					STRLIT(v112, " ", 1);
					int64_t v113 = 1LL /* True */;
					VAL v114 = in_ZPlusMirth_1;
					VAL v115 = in_ZPlusResolveDef_2;
					VAL v116 = v111;
					STR* v117 = v112;
					VAL v118 = v109;
					int64_t v119 = v113;
					int64_t v120 = v113;
					while (((bool)v120)) {
						VAL v121 = v114;
						VAL v122 = v115;
						VAL v123 = v116;
						STR* v124 = v117;
						VAL v125 = v118;
						int64_t v126 = v119;
						VAL branch_ZPlusMirth_127;
						VAL branch_ZPlusResolveDef_128;
						VAL branch_ZPlusStr_129;
						VAL branch__130;
						VAL branch_List_131;
						int64_t branch_Bool_132;
						switch (get_data_tag(v125)) {
							case 1LL: { // Cons
								VAL v133;
								VAL v134 = mtp_std_list_List_1_Cons(v125, &v133);
								VAL v135;
								mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v124), v123, &v135);
								VAL branch_ZPlusMirth_136;
								VAL branch_ZPlusResolveDef_137;
								VAL branch_ZPlusStr_138;
								switch (get_data_tag(v134)) {
									case 0LL: { // RD_WRONG_SORT
										VAL v139 = mtp_mirth_elab_RejectedDef_RDz_WRONGz_SORT(v134);
										VAL v140;
										VAL v141 = mw_mirth_def_Def_qnameZ_hard(v121, v139, &v140);
										VAL v142;
										VAL v143 = mw_mirth_name_QName_ZToStr(v140, v141, &v142);
										VAL v144;
										mw_std_str_ZPlusStr_pushZ_strZBang(v143, v135, &v144);
										STR* v145;
										STRLIT(v145, " is not a ", 10);
										VAL v146;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v145), v144, &v146);
										VAL v147 = VTUP(v122)->cells[1];
										incref(v147);
										VAL v148;
										mw_std_str_ZPlusStr_pushZ_strZBang(v147, v146, &v148);
										branch_ZPlusStr_138 = v148;
										branch_ZPlusResolveDef_137 = v122;
										branch_ZPlusMirth_136 = v142;
									} break;
									case 2LL: { // RD_NOT_VISIBLE
										VAL v149 = mtp_mirth_elab_RejectedDef_RDz_NOTz_VISIBLE(v134);
										VAL v150;
										VAL v151 = mw_mirth_def_Def_qnameZ_hard(v121, v149, &v150);
										VAL v152;
										VAL v153 = mw_mirth_name_QName_ZToStr(v150, v151, &v152);
										VAL v154;
										mw_std_str_ZPlusStr_pushZ_strZBang(v153, v135, &v154);
										STR* v155;
										STRLIT(v155, " is not visible in current scope", 32);
										VAL v156;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v155), v154, &v156);
										branch_ZPlusStr_138 = v156;
										branch_ZPlusResolveDef_137 = v122;
										branch_ZPlusMirth_136 = v152;
									} break;
									case 3LL: { // RD_NOT_IMPORTED
										VAL v157 = mtp_mirth_elab_RejectedDef_RDz_NOTz_IMPORTED(v134);
										VAL v158;
										VAL v159 = mw_mirth_def_Def_qnameZ_hard(v121, v157, &v158);
										VAL v160;
										VAL v161 = mw_mirth_name_QName_ZToStr(v158, v159, &v160);
										VAL v162;
										mw_std_str_ZPlusStr_pushZ_strZBang(v161, v135, &v162);
										STR* v163;
										STRLIT(v163, " is not imported in current scope", 33);
										VAL v164;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v163), v162, &v164);
										branch_ZPlusStr_138 = v164;
										branch_ZPlusResolveDef_137 = v122;
										branch_ZPlusMirth_136 = v160;
									} break;
									case 1LL: { // RD_WRONG_ARITY
										VAL v165 = mtp_mirth_elab_RejectedDef_RDz_WRONGz_ARITY(v134);
										VAL v166;
										VAL v167 = mw_mirth_def_Def_qnameZ_hard(v121, v165, &v166);
										incref(v167);
										VAL v168;
										VAL v169 = mw_mirth_name_QName_ZToStr(v166, v167, &v168);
										VAL v170;
										mw_std_str_ZPlusStr_pushZ_strZBang(v169, v135, &v170);
										STR* v171;
										STRLIT(v171, " expects ", 9);
										VAL v172;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v171), v170, &v172);
										int64_t v173 = value_i64(VTUP(v167)->cells[3]);
										decref(v167);
										STR* v174 = i64_show(v173);
										VAL v175;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v174), v172, &v175);
										STR* v176;
										STRLIT(v176, " arguments", 10);
										VAL v177;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v176), v175, &v177);
										branch_ZPlusStr_138 = v177;
										branch_ZPlusResolveDef_137 = v122;
										branch_ZPlusMirth_136 = v168;
									} break;
									case 4LL: { // RD_WRONG_QUALIFIER
										VAL v178 = mtp_mirth_elab_RejectedDef_RDz_WRONGz_QUALIFIER(v134);
										VAL v179;
										VAL v180 = mw_mirth_def_Def_qnameZ_hard(v121, v178, &v179);
										VAL v181;
										VAL v182 = mw_mirth_name_QName_ZToStr(v179, v180, &v181);
										VAL v183;
										mw_std_str_ZPlusStr_pushZ_strZBang(v182, v135, &v183);
										STR* v184;
										STRLIT(v184, " doesn't match the given qualified name", 39);
										VAL v185;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v184), v183, &v185);
										branch_ZPlusStr_138 = v185;
										branch_ZPlusResolveDef_137 = v122;
										branch_ZPlusMirth_136 = v181;
									} break;
									case 5LL: { // RD_WRONG_CONSTRUCTOR
										VAL v186 = mtp_mirth_elab_RejectedDef_RDz_WRONGz_CONSTRUCTOR(v134);
										VAL v187;
										VAL v188 = mw_mirth_def_Def_qnameZ_hard(v121, v186, &v187);
										VAL v189;
										VAL v190 = mw_mirth_name_QName_ZToStr(v187, v188, &v189);
										VAL v191;
										mw_std_str_ZPlusStr_pushZ_strZBang(v190, v135, &v191);
										STR* v192;
										STRLIT(v192, " is constructor for a different type", 36);
										VAL v193;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v192), v191, &v193);
										branch_ZPlusStr_138 = v193;
										branch_ZPlusResolveDef_137 = v122;
										branch_ZPlusMirth_136 = v189;
									} break;
									case 7LL: { // RD_METHOD_WRONG_TYPE
										VAL v194 = mtp_mirth_elab_RejectedDef_RDz_METHODz_WRONGz_TYPE(v134);
										VAL v195;
										VAL v196 = mw_mirth_def_Def_qnameZ_hard(v121, v194, &v195);
										VAL v197;
										VAL v198 = mw_mirth_name_QName_ZToStr(v195, v196, &v197);
										VAL v199;
										mw_std_str_ZPlusStr_pushZ_strZBang(v198, v135, &v199);
										STR* v200;
										STRLIT(v200, " is method for a different type", 31);
										VAL v201;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v200), v199, &v201);
										branch_ZPlusStr_138 = v201;
										branch_ZPlusResolveDef_137 = v122;
										branch_ZPlusMirth_136 = v197;
									} break;
									case 6LL: { // RD_METHOD_NOT_AVAILABLE
										VAL v202 = mtp_mirth_elab_RejectedDef_RDz_METHODz_NOTz_AVAILABLE(v134);
										VAL v203;
										VAL v204 = mw_mirth_def_Def_qnameZ_hard(v121, v202, &v203);
										VAL v205;
										VAL v206 = mw_mirth_name_QName_ZToStr(v203, v204, &v205);
										VAL v207;
										mw_std_str_ZPlusStr_pushZ_strZBang(v206, v135, &v207);
										STR* v208;
										STRLIT(v208, " is not avaliable for current stack", 35);
										VAL v209;
										mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v208), v207, &v209);
										branch_ZPlusStr_138 = v209;
										branch_ZPlusResolveDef_137 = v122;
										branch_ZPlusMirth_136 = v205;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								STR* v210;
								STRLIT(v210, ", ", 2);
								int64_t v211 = 1LL /* True */;
								branch_Bool_132 = v211;
								branch_List_131 = v133;
								branch__130 = MKSTR(v210);
								branch_ZPlusStr_129 = branch_ZPlusStr_138;
								branch_ZPlusResolveDef_128 = branch_ZPlusResolveDef_137;
								branch_ZPlusMirth_127 = branch_ZPlusMirth_136;
							} break;
							case 0LL: { // Nil
								VAL v212 = MKI64(0LL /* Nil */);
								int64_t v213 = 0LL /* False */;
								branch_Bool_132 = v213;
								branch_List_131 = v212;
								branch__130 = MKSTR(v124);
								branch_ZPlusStr_129 = v123;
								branch_ZPlusResolveDef_128 = v122;
								branch_ZPlusMirth_127 = v121;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						v120 = branch_Bool_132;
						v119 = branch_Bool_132;
						v118 = branch_List_131;
						v117 = value_str(branch__130);
						v116 = branch_ZPlusStr_129;
						v115 = branch_ZPlusResolveDef_128;
						v114 = branch_ZPlusMirth_127;
					}
					decref(v118);
					decref(MKSTR(v117));
					branch_ZPlusStr_20 = v116;
					branch_ZPlusResolveDef_19 = v115;
					branch_ZPlusMirth_18 = v114;
				} break;
			}
			branch_ZPlusStr_9 = branch_ZPlusStr_20;
			branch_ZPlusResolveDef_8 = branch_ZPlusResolveDef_19;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v214;
	mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v4, branch_ZPlusStr_9, branch_ZPlusMirth_7, &v214);
	mw_mirth_elab_ZPlusResolveDef_rdrop(branch_ZPlusResolveDef_8);
	*out_ZPlusMirth_3 = v214;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_arity (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusResolveDef_4) {
	uint64_t v5 = value_u64(VTUP(in_ZPlusResolveDef_2)->cells[2]);
	int64_t v6 = mw_mirth_token_Token_numZ_args(v5);
	VAL v7 = VTUP(in_ZPlusResolveDef_2)->cells[4];
	incref(v7);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = MKI64(0LL /* Nil */);
	int64_t v10 = 1LL /* True */;
	VAL v11 = in_ZPlusResolveDef_2;
	int64_t v12 = v6;
	VAL v13 = v8;
	VAL v14 = v9;
	VAL v15 = v7;
	int64_t v16 = v10;
	int64_t v17 = v10;
	while (((bool)v17)) {
		VAL v18 = v11;
		int64_t v19 = v12;
		VAL v20 = v13;
		VAL v21 = v14;
		VAL v22 = v15;
		int64_t v23 = v16;
		int64_t branch_Nat_24;
		VAL branch_z_x1_25;
		VAL branch_List_26;
		VAL branch_List_27;
		VAL branch_List_28;
		int64_t branch_Bool_29;
		switch (get_data_tag(v22)) {
			case 1LL: { // Cons
				VAL v30;
				VAL v31 = mtp_std_list_List_1_Cons(v22, &v30);
				incref(v31);
				int64_t v32 = mw_mirth_def_Def_arity(v31);
				int64_t v33 = mw_mirth_elab_arityZ_compatibleZAsk(v19, v32);
				int64_t branch_Nat_34;
				VAL branch_z_x1_35;
				VAL branch_Either_36;
				if (((bool)v33)) {
					VAL v37 = mtw_std_either_Either_2_Right(v31);
					branch_Either_36 = v37;
					branch_z_x1_35 = v18;
					branch_Nat_34 = v19;
				} else {
					VAL v38 = mtw_mirth_elab_RejectedDef_RDz_WRONGz_ARITY(v31);
					VAL v39 = mtw_std_either_Either_2_Left(v38);
					branch_Either_36 = v39;
					branch_z_x1_35 = v18;
					branch_Nat_34 = v19;
				}
				int64_t branch_Nat_40;
				VAL branch_z_x1_41;
				VAL branch_List_42;
				VAL branch_List_43;
				switch (get_data_tag(branch_Either_36)) {
					case 0LL: { // Left
						VAL v44 = mtp_std_either_Either_2_Left(branch_Either_36);
						VAL v45 = mtw_std_list_List_1_Cons(v44, v20);
						branch_List_43 = v21;
						branch_List_42 = v45;
						branch_z_x1_41 = branch_z_x1_35;
						branch_Nat_40 = branch_Nat_34;
					} break;
					case 1LL: { // Right
						VAL v46 = mtp_std_either_Either_2_Right(branch_Either_36);
						VAL v47 = mtw_std_list_List_1_Cons(v46, v21);
						branch_List_43 = v47;
						branch_List_42 = v20;
						branch_z_x1_41 = branch_z_x1_35;
						branch_Nat_40 = branch_Nat_34;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v48 = 1LL /* True */;
				branch_Bool_29 = v48;
				branch_List_28 = v30;
				branch_List_27 = branch_List_43;
				branch_List_26 = branch_List_42;
				branch_z_x1_25 = branch_z_x1_41;
				branch_Nat_24 = branch_Nat_40;
			} break;
			case 0LL: { // Nil
				VAL v49 = MKI64(0LL /* Nil */);
				int64_t v50 = 0LL /* False */;
				branch_Bool_29 = v50;
				branch_List_28 = v49;
				branch_List_27 = v21;
				branch_List_26 = v20;
				branch_z_x1_25 = v18;
				branch_Nat_24 = v19;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v17 = branch_Bool_29;
		v16 = branch_Bool_29;
		v15 = branch_List_28;
		v14 = branch_List_27;
		v13 = branch_List_26;
		v12 = branch_Nat_24;
		v11 = branch_z_x1_25;
	}
	decref(v15);
	VAL v51 = mw_std_list_List_1_reverse(v13);
	VAL v52 = mw_std_list_List_1_reverse(v14);
	VAL v53 = VTUP(v11)->cells[5];
	incref(v53);
	VAL v54 = mw_std_list_List_1_cat(v51, v53);
	VAL v55 = VTUP(v11)->cells[5];
	decref(v55);
	VTUP(v11)->cells[5] = v54;
	VAL v56 = VTUP(v11)->cells[4];
	decref(v56);
	VTUP(v11)->cells[4] = v52;
	*out_ZPlusResolveDef_4 = v11;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusResolveDef_4) {
	uint64_t v5 = value_u64(VTUP(in_ZPlusResolveDef_2)->cells[2]);
	VAL v6 = mw_mirth_token_Token_dnameZAsk(v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusResolveDef_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			VAL v10 = VTUP(in_ZPlusResolveDef_2)->cells[4];
			incref(v10);
			VAL v11 = MKI64(0LL /* Nil */);
			VAL v12 = MKI64(0LL /* Nil */);
			int64_t v13 = 1LL /* True */;
			VAL v14 = in_ZPlusMirth_1;
			VAL v15 = in_ZPlusResolveDef_2;
			VAL v16 = v9;
			VAL v17 = v11;
			VAL v18 = v12;
			VAL v19 = v10;
			int64_t v20 = v13;
			int64_t v21 = v13;
			while (((bool)v21)) {
				VAL v22 = v14;
				VAL v23 = v15;
				VAL v24 = v16;
				VAL v25 = v17;
				VAL v26 = v18;
				VAL v27 = v19;
				int64_t v28 = v20;
				VAL branch_DName_29;
				VAL branch_ZPlusMirth_30;
				VAL branch_ZPlusResolveDef_31;
				VAL branch_List_32;
				VAL branch_List_33;
				VAL branch_List_34;
				int64_t branch_Bool_35;
				switch (get_data_tag(v27)) {
					case 1LL: { // Cons
						VAL v36;
						VAL v37 = mtp_std_list_List_1_Cons(v27, &v36);
						incref(v24);
						incref(v37);
						VAL v38;
						VAL v39 = mw_mirth_def_Def_qnameZ_hard(v22, v37, &v38);
						VAL v40;
						VAL v41;
						VAL v42 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v38, v23, v24, v39, &v40, &v41);
						int64_t v43 = mw_std_list_List_1_emptyZAsk(v42);
						bool v44 = !((bool)v43);
						VAL branch_DName_45;
						VAL branch_ZPlusMirth_46;
						VAL branch_ZPlusResolveDef_47;
						VAL branch_Either_48;
						if (v44) {
							VAL v49 = mtw_std_either_Either_2_Right(v37);
							branch_Either_48 = v49;
							branch_ZPlusResolveDef_47 = v41;
							branch_ZPlusMirth_46 = v40;
							branch_DName_45 = v24;
						} else {
							VAL v50 = mtw_mirth_elab_RejectedDef_RDz_WRONGz_QUALIFIER(v37);
							VAL v51 = mtw_std_either_Either_2_Left(v50);
							branch_Either_48 = v51;
							branch_ZPlusResolveDef_47 = v41;
							branch_ZPlusMirth_46 = v40;
							branch_DName_45 = v24;
						}
						VAL branch_DName_52;
						VAL branch_ZPlusMirth_53;
						VAL branch_ZPlusResolveDef_54;
						VAL branch_List_55;
						VAL branch_List_56;
						switch (get_data_tag(branch_Either_48)) {
							case 0LL: { // Left
								VAL v57 = mtp_std_either_Either_2_Left(branch_Either_48);
								VAL v58 = mtw_std_list_List_1_Cons(v57, v25);
								branch_List_56 = v26;
								branch_List_55 = v58;
								branch_ZPlusResolveDef_54 = branch_ZPlusResolveDef_47;
								branch_ZPlusMirth_53 = branch_ZPlusMirth_46;
								branch_DName_52 = branch_DName_45;
							} break;
							case 1LL: { // Right
								VAL v59 = mtp_std_either_Either_2_Right(branch_Either_48);
								VAL v60 = mtw_std_list_List_1_Cons(v59, v26);
								branch_List_56 = v60;
								branch_List_55 = v25;
								branch_ZPlusResolveDef_54 = branch_ZPlusResolveDef_47;
								branch_ZPlusMirth_53 = branch_ZPlusMirth_46;
								branch_DName_52 = branch_DName_45;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						int64_t v61 = 1LL /* True */;
						branch_Bool_35 = v61;
						branch_List_34 = v36;
						branch_List_33 = branch_List_56;
						branch_List_32 = branch_List_55;
						branch_ZPlusResolveDef_31 = branch_ZPlusResolveDef_54;
						branch_ZPlusMirth_30 = branch_ZPlusMirth_53;
						branch_DName_29 = branch_DName_52;
					} break;
					case 0LL: { // Nil
						VAL v62 = MKI64(0LL /* Nil */);
						int64_t v63 = 0LL /* False */;
						branch_Bool_35 = v63;
						branch_List_34 = v62;
						branch_List_33 = v26;
						branch_List_32 = v25;
						branch_ZPlusResolveDef_31 = v23;
						branch_ZPlusMirth_30 = v22;
						branch_DName_29 = v24;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v21 = branch_Bool_35;
				v20 = branch_Bool_35;
				v19 = branch_List_34;
				v18 = branch_List_33;
				v17 = branch_List_32;
				v16 = branch_DName_29;
				v15 = branch_ZPlusResolveDef_31;
				v14 = branch_ZPlusMirth_30;
			}
			decref(v19);
			VAL v64 = mw_std_list_List_1_reverse(v17);
			VAL v65 = mw_std_list_List_1_reverse(v18);
			VAL v66 = VTUP(v15)->cells[5];
			incref(v66);
			VAL v67 = mw_std_list_List_1_cat(v64, v66);
			VAL v68 = VTUP(v15)->cells[5];
			decref(v68);
			VTUP(v15)->cells[5] = v67;
			VAL v69 = VTUP(v15)->cells[4];
			decref(v69);
			VTUP(v15)->cells[4] = v65;
			decref(v16);
			branch_ZPlusResolveDef_8 = v15;
			branch_ZPlusMirth_7 = v14;
		} break;
		case 0LL: { // None
			branch_ZPlusResolveDef_8 = in_ZPlusResolveDef_2;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusResolveDef_4 = branch_ZPlusResolveDef_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static void mw_mirth_elab_ZPlusResolveDef_filterZ_roots (VAL in_List_1, VAL in_ZPlusMirth_2, VAL in_ZPlusResolveDef_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusResolveDef_5) {
	VAL v6 = VTUP(in_ZPlusResolveDef_3)->cells[3];
	incref(v6);
	VAL branch_List_7;
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusResolveDef_9;
	switch (get_data_tag(v6)) {
		case 0LL: { // Left
			VAL v10 = mtp_std_either_Either_2_Left(v6);
			VAL v11 = VTUP(in_ZPlusResolveDef_3)->cells[4];
			incref(v11);
			VAL v12 = MKI64(0LL /* Nil */);
			VAL v13 = MKI64(0LL /* Nil */);
			int64_t v14 = 1LL /* True */;
			VAL v15 = v10;
			VAL v16 = in_ZPlusMirth_2;
			VAL v17 = in_ZPlusResolveDef_3;
			VAL v18 = in_List_1;
			VAL v19 = v12;
			VAL v20 = v13;
			VAL v21 = v11;
			int64_t v22 = v14;
			int64_t v23 = v14;
			while (((bool)v23)) {
				VAL v24 = v15;
				VAL v25 = v16;
				VAL v26 = v17;
				VAL v27 = v18;
				VAL v28 = v19;
				VAL v29 = v20;
				VAL v30 = v21;
				int64_t v31 = v22;
				uint64_t branch_Name_32;
				VAL branch_List_33;
				VAL branch_ZPlusMirth_34;
				VAL branch_ZPlusResolveDef_35;
				VAL branch_List_36;
				VAL branch_List_37;
				VAL branch_List_38;
				int64_t branch_Bool_39;
				switch (get_data_tag(v30)) {
					case 1LL: { // Cons
						VAL v40;
						VAL v41 = mtp_std_list_List_1_Cons(v30, &v40);
						incref(v27);
						incref(v41);
						VAL v42;
						VAL v43 = mw_mirth_def_Def_qnameZ_hard(v25, v41, &v42);
						VAL v44 = VTUP(v43)->cells[1];
						incref(v44);
						decref(v43);
						int64_t v45 = mw_std_list_List_1_member_1_sp4(v44, v27);
						VAL branch_ZPlusMirth_46;
						VAL branch_Def_47;
						VAL branch_ZPlusResolveDef_48;
						int64_t branch_Bool_49;
						if (((bool)v45)) {
							int64_t v50 = 1LL /* True */;
							branch_Bool_49 = v50;
							branch_ZPlusResolveDef_48 = v26;
							branch_Def_47 = v41;
							branch_ZPlusMirth_46 = v42;
						} else {
							uint64_t v51 = value_u64(VTUP(v26)->cells[2]);
							incref(v41);
							VAL v52;
							int64_t v53 = mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk(v42, v51, v41, &v52);
							branch_Bool_49 = v53;
							branch_ZPlusResolveDef_48 = v26;
							branch_Def_47 = v41;
							branch_ZPlusMirth_46 = v52;
						}
						uint64_t branch_Name_54;
						VAL branch_List_55;
						VAL branch_ZPlusMirth_56;
						VAL branch_ZPlusResolveDef_57;
						VAL branch_Either_58;
						if (((bool)branch_Bool_49)) {
							VAL v59 = mtw_std_either_Either_2_Right(branch_Def_47);
							branch_Either_58 = v59;
							branch_ZPlusResolveDef_57 = branch_ZPlusResolveDef_48;
							branch_ZPlusMirth_56 = branch_ZPlusMirth_46;
							branch_List_55 = v27;
							branch_Name_54 = value_u64(v24);
						} else {
							incref(branch_Def_47);
							VAL v60;
							VAL v61 = mw_mirth_def_Def_qnameZ_hard(branch_ZPlusMirth_46, branch_Def_47, &v60);
							VAL v62 = VTUP(v61)->cells[1];
							incref(v62);
							decref(v61);
							VAL branch_ZPlusMirth_63;
							VAL branch_ZPlusResolveDef_64;
							uint64_t branch_Name_65;
							VAL branch_List_66;
							VAL branch_RejectedDef_67;
							switch (get_data_tag(v62)) {
								case 3LL: { // NAMESPACE_TYCON
									VAL v68 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(v62);
									decref(v68);
									incref(v24);
									int64_t v69 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(value_u64(v24));
									VAL branch_ZPlusMirth_70;
									VAL branch_ZPlusResolveDef_71;
									uint64_t branch_Name_72;
									VAL branch_List_73;
									VAL branch_RejectedDef_74;
									if (((bool)v69)) {
										incref(v27);
										int64_t v75 = mw_std_list_List_1_emptyZAsk(v27);
										VAL branch_ZPlusMirth_76;
										VAL branch_ZPlusResolveDef_77;
										uint64_t branch_Name_78;
										VAL branch_List_79;
										VAL branch_RejectedDef_80;
										if (((bool)v75)) {
											VAL v81 = mtw_mirth_elab_RejectedDef_RDz_METHODz_NOTz_AVAILABLE(branch_Def_47);
											branch_RejectedDef_80 = v81;
											branch_List_79 = v27;
											branch_Name_78 = value_u64(v24);
											branch_ZPlusResolveDef_77 = branch_ZPlusResolveDef_48;
											branch_ZPlusMirth_76 = v60;
										} else {
											VAL v82 = mtw_mirth_elab_RejectedDef_RDz_METHODz_WRONGz_TYPE(branch_Def_47);
											branch_RejectedDef_80 = v82;
											branch_List_79 = v27;
											branch_Name_78 = value_u64(v24);
											branch_ZPlusResolveDef_77 = branch_ZPlusResolveDef_48;
											branch_ZPlusMirth_76 = v60;
										}
										branch_RejectedDef_74 = branch_RejectedDef_80;
										branch_List_73 = branch_List_79;
										branch_Name_72 = branch_Name_78;
										branch_ZPlusResolveDef_71 = branch_ZPlusResolveDef_77;
										branch_ZPlusMirth_70 = branch_ZPlusMirth_76;
									} else {
										VAL v83 = mtw_mirth_elab_RejectedDef_RDz_NOTz_IMPORTED(branch_Def_47);
										branch_RejectedDef_74 = v83;
										branch_List_73 = v27;
										branch_Name_72 = value_u64(v24);
										branch_ZPlusResolveDef_71 = branch_ZPlusResolveDef_48;
										branch_ZPlusMirth_70 = v60;
									}
									branch_RejectedDef_67 = branch_RejectedDef_74;
									branch_List_66 = branch_List_73;
									branch_Name_65 = branch_Name_72;
									branch_ZPlusResolveDef_64 = branch_ZPlusResolveDef_71;
									branch_ZPlusMirth_63 = branch_ZPlusMirth_70;
								} break;
								default: {
									decref(v62);
									VAL v84 = mtw_mirth_elab_RejectedDef_RDz_NOTz_IMPORTED(branch_Def_47);
									branch_RejectedDef_67 = v84;
									branch_List_66 = v27;
									branch_Name_65 = value_u64(v24);
									branch_ZPlusResolveDef_64 = branch_ZPlusResolveDef_48;
									branch_ZPlusMirth_63 = v60;
								} break;
							}
							VAL v85 = mtw_std_either_Either_2_Left(branch_RejectedDef_67);
							branch_Either_58 = v85;
							branch_ZPlusResolveDef_57 = branch_ZPlusResolveDef_64;
							branch_ZPlusMirth_56 = branch_ZPlusMirth_63;
							branch_List_55 = branch_List_66;
							branch_Name_54 = branch_Name_65;
						}
						uint64_t branch_Name_86;
						VAL branch_List_87;
						VAL branch_ZPlusMirth_88;
						VAL branch_ZPlusResolveDef_89;
						VAL branch_List_90;
						VAL branch_List_91;
						switch (get_data_tag(branch_Either_58)) {
							case 0LL: { // Left
								VAL v92 = mtp_std_either_Either_2_Left(branch_Either_58);
								VAL v93 = mtw_std_list_List_1_Cons(v92, v28);
								branch_List_91 = v29;
								branch_List_90 = v93;
								branch_ZPlusResolveDef_89 = branch_ZPlusResolveDef_57;
								branch_ZPlusMirth_88 = branch_ZPlusMirth_56;
								branch_List_87 = branch_List_55;
								branch_Name_86 = branch_Name_54;
							} break;
							case 1LL: { // Right
								VAL v94 = mtp_std_either_Either_2_Right(branch_Either_58);
								VAL v95 = mtw_std_list_List_1_Cons(v94, v29);
								branch_List_91 = v95;
								branch_List_90 = v28;
								branch_ZPlusResolveDef_89 = branch_ZPlusResolveDef_57;
								branch_ZPlusMirth_88 = branch_ZPlusMirth_56;
								branch_List_87 = branch_List_55;
								branch_Name_86 = branch_Name_54;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						int64_t v96 = 1LL /* True */;
						branch_Bool_39 = v96;
						branch_List_38 = v40;
						branch_List_37 = branch_List_91;
						branch_List_36 = branch_List_90;
						branch_ZPlusResolveDef_35 = branch_ZPlusResolveDef_89;
						branch_ZPlusMirth_34 = branch_ZPlusMirth_88;
						branch_List_33 = branch_List_87;
						branch_Name_32 = branch_Name_86;
					} break;
					case 0LL: { // Nil
						VAL v97 = MKI64(0LL /* Nil */);
						int64_t v98 = 0LL /* False */;
						branch_Bool_39 = v98;
						branch_List_38 = v97;
						branch_List_37 = v29;
						branch_List_36 = v28;
						branch_ZPlusResolveDef_35 = v26;
						branch_ZPlusMirth_34 = v25;
						branch_List_33 = v27;
						branch_Name_32 = value_u64(v24);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v23 = branch_Bool_39;
				v22 = branch_Bool_39;
				v21 = branch_List_38;
				v20 = branch_List_37;
				v19 = branch_List_36;
				v18 = branch_List_33;
				v17 = branch_ZPlusResolveDef_35;
				v16 = branch_ZPlusMirth_34;
				v15 = MKU64(branch_Name_32);
			}
			decref(v21);
			VAL v99 = mw_std_list_List_1_reverse(v19);
			VAL v100 = mw_std_list_List_1_reverse(v20);
			VAL v101 = VTUP(v17)->cells[5];
			incref(v101);
			VAL v102 = mw_std_list_List_1_cat(v99, v101);
			VAL v103 = VTUP(v17)->cells[5];
			decref(v103);
			VTUP(v17)->cells[5] = v102;
			VAL v104 = VTUP(v17)->cells[4];
			decref(v104);
			VTUP(v17)->cells[4] = v100;
			decref(v15);
			branch_ZPlusResolveDef_9 = v17;
			branch_ZPlusMirth_8 = v16;
			branch_List_7 = v18;
		} break;
		case 1LL: { // Right
			VAL v105 = mtp_std_either_Either_2_Right(v6);
			incref(v105);
			int64_t v106 = mw_mirth_name_DName_isZ_relativeZAsk(v105);
			VAL branch_ZPlusResolveDef_107;
			int64_t branch_Bool_108;
			if (((bool)v106)) {
				int64_t v109 = value_i64(VTUP(in_ZPlusResolveDef_3)->cells[6]);
				bool v110 = !((bool)v109);
				branch_Bool_108 = ((int64_t)v110);
				branch_ZPlusResolveDef_107 = in_ZPlusResolveDef_3;
			} else {
				int64_t v111 = 0LL /* False */;
				branch_Bool_108 = v111;
				branch_ZPlusResolveDef_107 = in_ZPlusResolveDef_3;
			}
			VAL branch_List_112;
			VAL branch_ZPlusMirth_113;
			VAL branch_DName_114;
			VAL branch_ZPlusResolveDef_115;
			if (((bool)branch_Bool_108)) {
				VAL v116 = VTUP(branch_ZPlusResolveDef_107)->cells[4];
				incref(v116);
				VAL v117 = MKI64(0LL /* Nil */);
				VAL v118 = MKI64(0LL /* Nil */);
				int64_t v119 = 1LL /* True */;
				VAL v120 = in_List_1;
				VAL v121 = in_ZPlusMirth_2;
				VAL v122 = branch_ZPlusResolveDef_107;
				VAL v123 = v105;
				VAL v124 = v117;
				VAL v125 = v118;
				VAL v126 = v116;
				int64_t v127 = v119;
				int64_t v128 = v119;
				while (((bool)v128)) {
					VAL v129 = v120;
					VAL v130 = v121;
					VAL v131 = v122;
					VAL v132 = v123;
					VAL v133 = v124;
					VAL v134 = v125;
					VAL v135 = v126;
					int64_t v136 = v127;
					VAL branch_List_137;
					VAL branch_DName_138;
					VAL branch_ZPlusMirth_139;
					VAL branch_ZPlusResolveDef_140;
					VAL branch_List_141;
					VAL branch_List_142;
					VAL branch_List_143;
					int64_t branch_Bool_144;
					switch (get_data_tag(v135)) {
						case 1LL: { // Cons
							VAL v145;
							VAL v146 = mtp_std_list_List_1_Cons(v135, &v145);
							incref(v132);
							incref(v146);
							VAL v147;
							VAL v148 = mw_mirth_def_Def_qnameZ_hard(v130, v146, &v147);
							VAL v149;
							VAL v150;
							VAL v151 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v147, v131, v132, v148, &v149, &v150);
							VAL v152 = MKI64(0LL /* None */);
							int64_t v153 = 1LL /* True */;
							VAL v154 = v129;
							VAL v155 = v132;
							VAL v156 = v146;
							VAL v157 = v152;
							VAL v158 = v151;
							int64_t v159 = v153;
							int64_t v160 = v153;
							while (((bool)v160)) {
								VAL v161 = v154;
								VAL v162 = v155;
								VAL v163 = v156;
								VAL v164 = v157;
								VAL v165 = v158;
								int64_t v166 = v159;
								VAL v167;
								VAL v168 = mw_std_list_List_1_uncons(v165, &v167);
								VAL branch_List_169;
								VAL branch_z_x1_170;
								VAL branch_z_x2_171;
								VAL branch_Maybe_172;
								VAL branch_List_173;
								int64_t branch_Bool_174;
								switch (get_data_tag(v168)) {
									case 1LL: { // Some
										VAL v175 = mtp_std_maybe_Maybe_1_Some(v168);
										incref(v175);
										incref(v161);
										int64_t v176 = mw_std_list_List_1_member_1_sp4(v175, v161);
										VAL branch_List_177;
										VAL branch_z_x1_178;
										VAL branch_z_x2_179;
										VAL branch_Maybe_180;
										if (((bool)v176)) {
											VAL v181 = mtw_std_maybe_Maybe_1_Some(v175);
											branch_Maybe_180 = v181;
											branch_z_x2_179 = v163;
											branch_z_x1_178 = v162;
											branch_List_177 = v161;
										} else {
											decref(v175);
											VAL v182 = MKI64(0LL /* None */);
											branch_Maybe_180 = v182;
											branch_z_x2_179 = v163;
											branch_z_x1_178 = v162;
											branch_List_177 = v161;
										}
										VAL branch_List_183;
										VAL branch_z_x1_184;
										VAL branch_z_x2_185;
										VAL branch_Maybe_186;
										VAL branch_List_187;
										switch (get_data_tag(branch_Maybe_180)) {
											case 0LL: { // None
												branch_List_187 = v167;
												branch_Maybe_186 = v164;
												branch_z_x2_185 = branch_z_x2_179;
												branch_z_x1_184 = branch_z_x1_178;
												branch_List_183 = branch_List_177;
											} break;
											default: {
												decref(v167);
												decref(v164);
												VAL v188 = MKI64(0LL /* Nil */);
												branch_List_187 = v188;
												branch_Maybe_186 = branch_Maybe_180;
												branch_z_x2_185 = branch_z_x2_179;
												branch_z_x1_184 = branch_z_x1_178;
												branch_List_183 = branch_List_177;
											} break;
										}
										int64_t v189 = 1LL /* True */;
										branch_Bool_174 = v189;
										branch_List_173 = branch_List_187;
										branch_Maybe_172 = branch_Maybe_186;
										branch_z_x2_171 = branch_z_x2_185;
										branch_z_x1_170 = branch_z_x1_184;
										branch_List_169 = branch_List_183;
									} break;
									case 0LL: { // None
										int64_t v190 = 0LL /* False */;
										branch_Bool_174 = v190;
										branch_List_173 = v167;
										branch_Maybe_172 = v164;
										branch_z_x2_171 = v163;
										branch_z_x1_170 = v162;
										branch_List_169 = v161;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								v160 = branch_Bool_174;
								v159 = branch_Bool_174;
								v158 = branch_List_173;
								v157 = branch_Maybe_172;
								v156 = branch_z_x2_171;
								v155 = branch_z_x1_170;
								v154 = branch_List_169;
							}
							decref(v158);
							int64_t v191 = get_data_tag(v157);
							decref(v157);
							int64_t v192 = 1LL;
							bool v193 = (v191 == v192);
							VAL branch_List_194;
							VAL branch_DName_195;
							VAL branch_ZPlusMirth_196;
							VAL branch_ZPlusResolveDef_197;
							VAL branch_Either_198;
							if (v193) {
								VAL v199 = mtw_std_either_Either_2_Right(v156);
								branch_Either_198 = v199;
								branch_ZPlusResolveDef_197 = v150;
								branch_ZPlusMirth_196 = v149;
								branch_DName_195 = v155;
								branch_List_194 = v154;
							} else {
								incref(v154);
								int64_t v200 = mw_std_list_List_1_emptyZAsk(v154);
								VAL branch_ZPlusMirth_201;
								VAL branch_ZPlusResolveDef_202;
								VAL branch_List_203;
								VAL branch_DName_204;
								VAL branch_RejectedDef_205;
								if (((bool)v200)) {
									VAL v206 = mtw_mirth_elab_RejectedDef_RDz_METHODz_NOTz_AVAILABLE(v156);
									branch_RejectedDef_205 = v206;
									branch_DName_204 = v155;
									branch_List_203 = v154;
									branch_ZPlusResolveDef_202 = v150;
									branch_ZPlusMirth_201 = v149;
								} else {
									VAL v207 = mtw_mirth_elab_RejectedDef_RDz_METHODz_WRONGz_TYPE(v156);
									branch_RejectedDef_205 = v207;
									branch_DName_204 = v155;
									branch_List_203 = v154;
									branch_ZPlusResolveDef_202 = v150;
									branch_ZPlusMirth_201 = v149;
								}
								VAL v208 = mtw_std_either_Either_2_Left(branch_RejectedDef_205);
								branch_Either_198 = v208;
								branch_ZPlusResolveDef_197 = branch_ZPlusResolveDef_202;
								branch_ZPlusMirth_196 = branch_ZPlusMirth_201;
								branch_DName_195 = branch_DName_204;
								branch_List_194 = branch_List_203;
							}
							VAL branch_List_209;
							VAL branch_DName_210;
							VAL branch_ZPlusMirth_211;
							VAL branch_ZPlusResolveDef_212;
							VAL branch_List_213;
							VAL branch_List_214;
							switch (get_data_tag(branch_Either_198)) {
								case 0LL: { // Left
									VAL v215 = mtp_std_either_Either_2_Left(branch_Either_198);
									VAL v216 = mtw_std_list_List_1_Cons(v215, v133);
									branch_List_214 = v134;
									branch_List_213 = v216;
									branch_ZPlusResolveDef_212 = branch_ZPlusResolveDef_197;
									branch_ZPlusMirth_211 = branch_ZPlusMirth_196;
									branch_DName_210 = branch_DName_195;
									branch_List_209 = branch_List_194;
								} break;
								case 1LL: { // Right
									VAL v217 = mtp_std_either_Either_2_Right(branch_Either_198);
									VAL v218 = mtw_std_list_List_1_Cons(v217, v134);
									branch_List_214 = v218;
									branch_List_213 = v133;
									branch_ZPlusResolveDef_212 = branch_ZPlusResolveDef_197;
									branch_ZPlusMirth_211 = branch_ZPlusMirth_196;
									branch_DName_210 = branch_DName_195;
									branch_List_209 = branch_List_194;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							int64_t v219 = 1LL /* True */;
							branch_Bool_144 = v219;
							branch_List_143 = v145;
							branch_List_142 = branch_List_214;
							branch_List_141 = branch_List_213;
							branch_ZPlusResolveDef_140 = branch_ZPlusResolveDef_212;
							branch_ZPlusMirth_139 = branch_ZPlusMirth_211;
							branch_DName_138 = branch_DName_210;
							branch_List_137 = branch_List_209;
						} break;
						case 0LL: { // Nil
							VAL v220 = MKI64(0LL /* Nil */);
							int64_t v221 = 0LL /* False */;
							branch_Bool_144 = v221;
							branch_List_143 = v220;
							branch_List_142 = v134;
							branch_List_141 = v133;
							branch_ZPlusResolveDef_140 = v131;
							branch_ZPlusMirth_139 = v130;
							branch_DName_138 = v132;
							branch_List_137 = v129;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v128 = branch_Bool_144;
					v127 = branch_Bool_144;
					v126 = branch_List_143;
					v125 = branch_List_142;
					v124 = branch_List_141;
					v123 = branch_DName_138;
					v122 = branch_ZPlusResolveDef_140;
					v121 = branch_ZPlusMirth_139;
					v120 = branch_List_137;
				}
				decref(v126);
				VAL v222 = mw_std_list_List_1_reverse(v124);
				VAL v223 = mw_std_list_List_1_reverse(v125);
				VAL v224 = VTUP(v122)->cells[5];
				incref(v224);
				VAL v225 = mw_std_list_List_1_cat(v222, v224);
				VAL v226 = VTUP(v122)->cells[5];
				decref(v226);
				VTUP(v122)->cells[5] = v225;
				VAL v227 = VTUP(v122)->cells[4];
				decref(v227);
				VTUP(v122)->cells[4] = v223;
				branch_ZPlusResolveDef_115 = v122;
				branch_DName_114 = v123;
				branch_ZPlusMirth_113 = v121;
				branch_List_112 = v120;
			} else {
				VAL v228 = VTUP(branch_ZPlusResolveDef_107)->cells[4];
				incref(v228);
				VAL v229 = MKI64(0LL /* Nil */);
				VAL v230 = MKI64(0LL /* Nil */);
				int64_t v231 = 1LL /* True */;
				VAL v232 = in_ZPlusMirth_2;
				VAL v233 = branch_ZPlusResolveDef_107;
				VAL v234 = v105;
				VAL v235 = v229;
				VAL v236 = v230;
				VAL v237 = v228;
				int64_t v238 = v231;
				int64_t v239 = v231;
				while (((bool)v239)) {
					VAL v240 = v232;
					VAL v241 = v233;
					VAL v242 = v234;
					VAL v243 = v235;
					VAL v244 = v236;
					VAL v245 = v237;
					int64_t v246 = v238;
					VAL branch_DName_247;
					VAL branch_ZPlusMirth_248;
					VAL branch_ZPlusResolveDef_249;
					VAL branch_List_250;
					VAL branch_List_251;
					VAL branch_List_252;
					int64_t branch_Bool_253;
					switch (get_data_tag(v245)) {
						case 1LL: { // Cons
							VAL v254;
							VAL v255 = mtp_std_list_List_1_Cons(v245, &v254);
							incref(v242);
							incref(v255);
							VAL v256;
							VAL v257 = mw_mirth_def_Def_qnameZ_hard(v240, v255, &v256);
							VAL v258;
							VAL v259;
							VAL v260 = mw_mirth_name_QName_climbZ_upZ_dnameZAsk(v256, v241, v242, v257, &v258, &v259);
							VAL v261 = MKI64(0LL /* None */);
							int64_t v262 = 1LL /* True */;
							VAL v263 = v258;
							VAL v264 = v259;
							VAL v265 = v261;
							VAL v266 = v260;
							int64_t v267 = v262;
							int64_t v268 = v262;
							while (((bool)v268)) {
								VAL v269 = v263;
								VAL v270 = v264;
								VAL v271 = v265;
								VAL v272 = v266;
								int64_t v273 = v267;
								VAL v274;
								VAL v275 = mw_std_list_List_1_uncons(v272, &v274);
								VAL branch_ZPlusMirth_276;
								VAL branch_ZPlusResolveDef_277;
								VAL branch_Maybe_278;
								VAL branch_List_279;
								int64_t branch_Bool_280;
								switch (get_data_tag(v275)) {
									case 1LL: { // Some
										VAL v281 = mtp_std_maybe_Maybe_1_Some(v275);
										incref(v281);
										uint64_t v282 = value_u64(VTUP(v270)->cells[2]);
										VAL v283;
										int64_t v284 = mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk(v269, v282, v281, &v283);
										VAL branch_ZPlusMirth_285;
										VAL branch_ZPlusResolveDef_286;
										VAL branch_Maybe_287;
										if (((bool)v284)) {
											VAL v288 = mtw_std_maybe_Maybe_1_Some(v281);
											branch_Maybe_287 = v288;
											branch_ZPlusResolveDef_286 = v270;
											branch_ZPlusMirth_285 = v283;
										} else {
											decref(v281);
											VAL v289 = MKI64(0LL /* None */);
											branch_Maybe_287 = v289;
											branch_ZPlusResolveDef_286 = v270;
											branch_ZPlusMirth_285 = v283;
										}
										VAL branch_ZPlusMirth_290;
										VAL branch_ZPlusResolveDef_291;
										VAL branch_Maybe_292;
										VAL branch_List_293;
										switch (get_data_tag(branch_Maybe_287)) {
											case 0LL: { // None
												branch_List_293 = v274;
												branch_Maybe_292 = v271;
												branch_ZPlusResolveDef_291 = branch_ZPlusResolveDef_286;
												branch_ZPlusMirth_290 = branch_ZPlusMirth_285;
											} break;
											default: {
												decref(v274);
												decref(v271);
												VAL v294 = MKI64(0LL /* Nil */);
												branch_List_293 = v294;
												branch_Maybe_292 = branch_Maybe_287;
												branch_ZPlusResolveDef_291 = branch_ZPlusResolveDef_286;
												branch_ZPlusMirth_290 = branch_ZPlusMirth_285;
											} break;
										}
										int64_t v295 = 1LL /* True */;
										branch_Bool_280 = v295;
										branch_List_279 = branch_List_293;
										branch_Maybe_278 = branch_Maybe_292;
										branch_ZPlusResolveDef_277 = branch_ZPlusResolveDef_291;
										branch_ZPlusMirth_276 = branch_ZPlusMirth_290;
									} break;
									case 0LL: { // None
										int64_t v296 = 0LL /* False */;
										branch_Bool_280 = v296;
										branch_List_279 = v274;
										branch_Maybe_278 = v271;
										branch_ZPlusResolveDef_277 = v270;
										branch_ZPlusMirth_276 = v269;
									} break;
									default: {
										do_panic(str_make("unexpected fallthrough in match\n", 32));
									}
								}
								v268 = branch_Bool_280;
								v267 = branch_Bool_280;
								v266 = branch_List_279;
								v265 = branch_Maybe_278;
								v264 = branch_ZPlusResolveDef_277;
								v263 = branch_ZPlusMirth_276;
							}
							decref(v266);
							int64_t v297 = get_data_tag(v265);
							decref(v265);
							int64_t v298 = 1LL;
							bool v299 = (v297 == v298);
							VAL branch_DName_300;
							VAL branch_ZPlusMirth_301;
							VAL branch_ZPlusResolveDef_302;
							VAL branch_Either_303;
							if (v299) {
								VAL v304 = mtw_std_either_Either_2_Right(v255);
								branch_Either_303 = v304;
								branch_ZPlusResolveDef_302 = v264;
								branch_ZPlusMirth_301 = v263;
								branch_DName_300 = v242;
							} else {
								VAL v305 = mtw_mirth_elab_RejectedDef_RDz_NOTz_IMPORTED(v255);
								VAL v306 = mtw_std_either_Either_2_Left(v305);
								branch_Either_303 = v306;
								branch_ZPlusResolveDef_302 = v264;
								branch_ZPlusMirth_301 = v263;
								branch_DName_300 = v242;
							}
							VAL branch_DName_307;
							VAL branch_ZPlusMirth_308;
							VAL branch_ZPlusResolveDef_309;
							VAL branch_List_310;
							VAL branch_List_311;
							switch (get_data_tag(branch_Either_303)) {
								case 0LL: { // Left
									VAL v312 = mtp_std_either_Either_2_Left(branch_Either_303);
									VAL v313 = mtw_std_list_List_1_Cons(v312, v243);
									branch_List_311 = v244;
									branch_List_310 = v313;
									branch_ZPlusResolveDef_309 = branch_ZPlusResolveDef_302;
									branch_ZPlusMirth_308 = branch_ZPlusMirth_301;
									branch_DName_307 = branch_DName_300;
								} break;
								case 1LL: { // Right
									VAL v314 = mtp_std_either_Either_2_Right(branch_Either_303);
									VAL v315 = mtw_std_list_List_1_Cons(v314, v244);
									branch_List_311 = v315;
									branch_List_310 = v243;
									branch_ZPlusResolveDef_309 = branch_ZPlusResolveDef_302;
									branch_ZPlusMirth_308 = branch_ZPlusMirth_301;
									branch_DName_307 = branch_DName_300;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							int64_t v316 = 1LL /* True */;
							branch_Bool_253 = v316;
							branch_List_252 = v254;
							branch_List_251 = branch_List_311;
							branch_List_250 = branch_List_310;
							branch_ZPlusResolveDef_249 = branch_ZPlusResolveDef_309;
							branch_ZPlusMirth_248 = branch_ZPlusMirth_308;
							branch_DName_247 = branch_DName_307;
						} break;
						case 0LL: { // Nil
							VAL v317 = MKI64(0LL /* Nil */);
							int64_t v318 = 0LL /* False */;
							branch_Bool_253 = v318;
							branch_List_252 = v317;
							branch_List_251 = v244;
							branch_List_250 = v243;
							branch_ZPlusResolveDef_249 = v241;
							branch_ZPlusMirth_248 = v240;
							branch_DName_247 = v242;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v239 = branch_Bool_253;
					v238 = branch_Bool_253;
					v237 = branch_List_252;
					v236 = branch_List_251;
					v235 = branch_List_250;
					v234 = branch_DName_247;
					v233 = branch_ZPlusResolveDef_249;
					v232 = branch_ZPlusMirth_248;
				}
				decref(v237);
				VAL v319 = mw_std_list_List_1_reverse(v235);
				VAL v320 = mw_std_list_List_1_reverse(v236);
				VAL v321 = VTUP(v233)->cells[5];
				incref(v321);
				VAL v322 = mw_std_list_List_1_cat(v319, v321);
				VAL v323 = VTUP(v233)->cells[5];
				decref(v323);
				VTUP(v233)->cells[5] = v322;
				VAL v324 = VTUP(v233)->cells[4];
				decref(v324);
				VTUP(v233)->cells[4] = v320;
				branch_ZPlusResolveDef_115 = v233;
				branch_DName_114 = v234;
				branch_ZPlusMirth_113 = v232;
				branch_List_112 = in_List_1;
			}
			decref(branch_DName_114);
			branch_ZPlusResolveDef_9 = branch_ZPlusResolveDef_115;
			branch_ZPlusMirth_8 = branch_ZPlusMirth_113;
			branch_List_7 = branch_List_112;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(branch_List_7);
	*out_ZPlusResolveDef_5 = branch_ZPlusResolveDef_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static int64_t mw_mirth_elab_defZ_isZ_importedZ_atZ_tokenZAsk (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Def_3, VAL *out_ZPlusMirth_4) {
	incref(in_Def_3);
	VAL v6;
	VAL v7 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_1, in_Def_3, &v6);
	VAL v8 = VTUP(v7)->cells[1];
	incref(v8);
	decref(v7);
	VAL branch_ZPlusMirth_9;
	int64_t branch_Bool_10;
	switch (get_data_tag(v8)) {
		case 0LL: { // NAMESPACE_ROOT
			decref(in_Def_3);
			int64_t v11 = 1LL /* True */;
			branch_Bool_10 = v11;
			branch_ZPlusMirth_9 = v6;
		} break;
		case 1LL: { // NAMESPACE_PACKAGE
			uint64_t v12 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(v8);
			decref(in_Def_3);
			int64_t v13 = 1LL /* True */;
			branch_Bool_10 = v13;
			branch_ZPlusMirth_9 = v6;
		} break;
		case 2LL: { // NAMESPACE_MODULE
			uint64_t v14 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(v8);
			decref(in_Def_3);
			int64_t v15 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(in_Token_2, v14);
			branch_Bool_10 = v15;
			branch_ZPlusMirth_9 = v6;
		} break;
		case 3LL: { // NAMESPACE_TYCON
			VAL v16 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(v8);
			int64_t v17 = mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk(in_Token_2, v16);
			VAL branch_ZPlusMirth_18;
			int64_t branch_Bool_19;
			if (((bool)v17)) {
				VAL v20 = mw_mirth_def_Def_tagZAsk(in_Def_3);
				int64_t v21 = get_data_tag(v20);
				decref(v20);
				int64_t v22 = 1LL;
				bool v23 = (v21 == v22);
				branch_Bool_19 = ((int64_t)v23);
				branch_ZPlusMirth_18 = v6;
			} else {
				decref(in_Def_3);
				int64_t v24 = 0LL /* False */;
				branch_Bool_19 = v24;
				branch_ZPlusMirth_18 = v6;
			}
			branch_Bool_10 = branch_Bool_19;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_18;
		} break;
		case 4LL: { // NAMESPACE_WORD
			uint64_t v25 = mtp_mirth_name_Namespace_NAMESPACEz_WORD(v8);
			decref(in_Def_3);
			int64_t v26 = 0LL /* False */;
			branch_Bool_10 = v26;
			branch_ZPlusMirth_9 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_Bool_10;
}
static int64_t mw_mirth_elab_tyconZ_isZ_visibleZ_atZ_tokenZAsk (uint64_t in_Token_1, VAL in_Tycon_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_Tycon_2)) {
		case 0LL: { // TYCON_DATA
			uint64_t v5 = mtp_mirth_tycon_Tycon_TYCONz_DATA(in_Tycon_2);
			VAL v6 = mw_mirth_data_Data_headZAsk(v5);
			int64_t branch_Bool_7;
			switch (get_data_tag(v6)) {
				case 1LL: { // Some
					VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
					uint64_t v9 = mw_mirth_token_Token_module(value_u64(v8));
					int64_t v10 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(in_Token_1, v9);
					branch_Bool_7 = v10;
				} break;
				case 0LL: { // None
					int64_t v11 = 1LL /* True */;
					branch_Bool_7 = v11;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_4 = branch_Bool_7;
		} break;
		case 1LL: { // TYCON_TABLE
			uint64_t v12 = mtp_mirth_tycon_Tycon_TYCONz_TABLE(in_Tycon_2);
			uint64_t v13 = mw_mirth_table_Table_head(v12);
			uint64_t v14 = mw_mirth_token_Token_module(v13);
			int64_t v15 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(in_Token_1, v14);
			branch_Bool_4 = v15;
		} break;
		case 2LL: { // TYCON_PRIM
			int64_t v16 = mtp_mirth_tycon_Tycon_TYCONz_PRIM(in_Tycon_2);
			int64_t v17 = 1LL /* True */;
			branch_Bool_4 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Namespace_3, VAL *out_ZPlusMirth_4) {
	VAL branch_ZPlusMirth_6;
	int64_t branch_Bool_7;
	switch (get_data_tag(in_Namespace_3)) {
		case 0LL: { // NAMESPACE_ROOT
			int64_t v8 = 1LL /* True */;
			branch_Bool_7 = v8;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // NAMESPACE_PACKAGE
			uint64_t v9 = mtp_mirth_name_Namespace_NAMESPACEz_PACKAGE(in_Namespace_3);
			int64_t v10 = 1LL /* True */;
			branch_Bool_7 = v10;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 2LL: { // NAMESPACE_MODULE
			uint64_t v11 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(in_Namespace_3);
			int64_t v12 = mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk(in_Token_2, v11);
			branch_Bool_7 = v12;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // NAMESPACE_TYCON
			VAL v13 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(in_Namespace_3);
			VAL v14;
			VAL v15 = mw_mirth_tycon_Tycon_qnameZ_hard(in_ZPlusMirth_1, v13, &v14);
			VAL v16 = VTUP(v15)->cells[1];
			incref(v16);
			decref(v15);
			VAL v17;
			int64_t v18 = mw_mirth_elab_namespaceZ_isZ_importedZ_atZ_tokenZAsk(v14, in_Token_2, v16, &v17);
			branch_Bool_7 = v18;
			branch_ZPlusMirth_6 = v17;
		} break;
		case 4LL: { // NAMESPACE_WORD
			uint64_t v19 = mtp_mirth_name_Namespace_NAMESPACEz_WORD(in_Namespace_3);
			int64_t v20 = 0LL /* False */;
			branch_Bool_7 = v20;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static VAL mw_mirth_name_QName_climbZ_upZ_nameZAsk (VAL in_ZPlusMirth_1, uint64_t in_Name_2, VAL in_QName_3, VAL *out_ZPlusMirth_4) {
	incref(in_QName_3);
	uint64_t v6 = value_u64(VTUP(in_QName_3)->cells[2]);
	decref(in_QName_3);
	int64_t v7 = mw_mirth_name_Name_ZEqualZEqual(v6, in_Name_2);
	VAL branch_ZPlusMirth_8;
	uint64_t branch_Name_9;
	VAL branch_QName_10;
	VAL branch_List_11;
	if (((bool)v7)) {
		incref(in_QName_3);
		VAL v12 = VTUP(in_QName_3)->cells[1];
		incref(v12);
		decref(in_QName_3);
		VAL v13 = MKI64(0LL /* Nil */);
		VAL v14 = mtw_std_list_List_1_Cons(v12, v13);
		branch_List_11 = v14;
		branch_QName_10 = in_QName_3;
		branch_Name_9 = in_Name_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	} else {
		VAL v15 = MKI64(0LL /* Nil */);
		branch_List_11 = v15;
		branch_QName_10 = in_QName_3;
		branch_Name_9 = in_Name_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_1;
	}
	VAL v16 = mw_mirth_name_Name_defs(branch_Name_9);
	int64_t v17 = 1LL /* True */;
	VAL v18 = branch_List_11;
	VAL v19 = branch_QName_10;
	VAL v20 = branch_ZPlusMirth_8;
	VAL v21 = v16;
	int64_t v22 = v17;
	int64_t v23 = v17;
	while (((bool)v23)) {
		VAL v24 = v18;
		VAL v25 = v19;
		VAL v26 = v20;
		VAL v27 = v21;
		int64_t v28 = v22;
		VAL branch_QName_29;
		VAL branch_ZPlusMirth_30;
		VAL branch_List_31;
		VAL branch_List_32;
		int64_t branch_Bool_33;
		switch (get_data_tag(v27)) {
			case 1LL: { // Cons
				VAL v34;
				VAL v35 = mtp_std_list_List_1_Cons(v27, &v34);
				VAL branch_QName_36;
				VAL branch_ZPlusMirth_37;
				VAL branch_List_38;
				switch (get_data_tag(v35)) {
					case 0LL: { // DefAlias
						uint64_t v39 = mtp_mirth_def_Def_DefAlias(v35);
						VAL v40;
						VAL v41 = mw_mirth_alias_Alias_target(v26, v39, &v40);
						VAL v42;
						VAL v43 = mw_mirth_def_Def_qnameZ_hard(v40, v41, &v42);
						incref(v25);
						int64_t v44 = mw_mirth_name_QName_ZEqualZEqual(v43, v25);
						VAL branch_QName_45;
						VAL branch_ZPlusMirth_46;
						VAL branch_List_47;
						if (((bool)v44)) {
							VAL v48;
							VAL v49 = mw_mirth_alias_Alias_namespaceZ_hard(v42, v39, &v48);
							VAL v50 = mtw_std_list_List_1_Cons(v49, v24);
							branch_List_47 = v50;
							branch_ZPlusMirth_46 = v48;
							branch_QName_45 = v25;
						} else {
							branch_List_47 = v24;
							branch_ZPlusMirth_46 = v42;
							branch_QName_45 = v25;
						}
						branch_List_38 = branch_List_47;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_46;
						branch_QName_36 = branch_QName_45;
					} break;
					case 5LL: { // DefType
						uint64_t v51 = mtp_mirth_def_Def_DefType(v35);
						VAL v52;
						VAL v53 = mw_mirth_typedef_TypeDef_target(v26, v51, &v52);
						VAL v54 = mw_mirth_type_Type_tyconZAsk(v53);
						VAL branch_ZPlusMirth_55;
						VAL branch_QName_56;
						int64_t branch_Bool_57;
						switch (get_data_tag(v54)) {
							case 1LL: { // Some
								VAL v58 = mtp_std_maybe_Maybe_1_Some(v54);
								VAL v59;
								VAL v60 = mw_mirth_tycon_Tycon_qnameZ_hard(v52, v58, &v59);
								incref(v25);
								int64_t v61 = mw_mirth_name_QName_ZEqualZEqual(v60, v25);
								branch_Bool_57 = v61;
								branch_QName_56 = v25;
								branch_ZPlusMirth_55 = v59;
							} break;
							case 0LL: { // None
								int64_t v62 = 0LL /* False */;
								branch_Bool_57 = v62;
								branch_QName_56 = v25;
								branch_ZPlusMirth_55 = v52;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						VAL branch_QName_63;
						VAL branch_ZPlusMirth_64;
						VAL branch_List_65;
						if (((bool)branch_Bool_57)) {
							VAL v66;
							VAL v67 = mw_mirth_typedef_TypeDef_namespace(branch_ZPlusMirth_55, v51, &v66);
							VAL v68 = mtw_std_list_List_1_Cons(v67, v24);
							branch_List_65 = v68;
							branch_ZPlusMirth_64 = v66;
							branch_QName_63 = branch_QName_56;
						} else {
							branch_List_65 = v24;
							branch_ZPlusMirth_64 = branch_ZPlusMirth_55;
							branch_QName_63 = branch_QName_56;
						}
						branch_List_38 = branch_List_65;
						branch_ZPlusMirth_37 = branch_ZPlusMirth_64;
						branch_QName_36 = branch_QName_63;
					} break;
					default: {
						decref(v35);
						branch_List_38 = v24;
						branch_ZPlusMirth_37 = v26;
						branch_QName_36 = v25;
					} break;
				}
				int64_t v69 = 1LL /* True */;
				branch_Bool_33 = v69;
				branch_List_32 = v34;
				branch_List_31 = branch_List_38;
				branch_ZPlusMirth_30 = branch_ZPlusMirth_37;
				branch_QName_29 = branch_QName_36;
			} break;
			case 0LL: { // Nil
				VAL v70 = MKI64(0LL /* Nil */);
				int64_t v71 = 0LL /* False */;
				branch_Bool_33 = v71;
				branch_List_32 = v70;
				branch_List_31 = v24;
				branch_ZPlusMirth_30 = v26;
				branch_QName_29 = v25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v23 = branch_Bool_33;
		v22 = branch_Bool_33;
		v21 = branch_List_32;
		v20 = branch_ZPlusMirth_30;
		v19 = branch_QName_29;
		v18 = branch_List_31;
	}
	decref(v21);
	decref(v19);
	*out_ZPlusMirth_4 = v20;
	return v18;
}
static VAL mw_mirth_name_QName_climbZ_upZ_dnameZAsk (VAL in_ZPlusMirth_1, VAL in_ZPlusResolveDef_2, VAL in_DName_3, VAL in_QName_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusResolveDef_6) {
	incref(in_DName_3);
	VAL v8 = mw_mirth_name_DName_rootZAsk(in_DName_3);
	VAL v9 = mw_std_maybe_Maybe_1_ZToList(v8);
	VAL v10 = mw_mirth_name_DName_parts(in_DName_3);
	VAL v11;
	VAL v12 = mw_std_list_ListZPlus_1_unsnoc(v10, &v11);
	VAL v13 = mw_std_list_List_1_cat(v9, v12);
	int64_t v14 = value_i64(VTUP(in_ZPlusResolveDef_2)->cells[6]);
	VAL branch_ZPlusMirth_15;
	VAL branch_ZPlusResolveDef_16;
	VAL branch_List_17;
	VAL branch_z_x1_18;
	if (((bool)v14)) {
		decref(v11);
		VAL v19;
		VAL v20 = mw_std_list_List_1_unsnoc(v13, &v19);
		VAL branch_ZPlusMirth_21;
		VAL branch_ZPlusResolveDef_22;
		VAL branch_z_x1_23;
		switch (get_data_tag(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				branch_z_x1_23 = v24;
				branch_ZPlusResolveDef_22 = in_ZPlusResolveDef_2;
				branch_ZPlusMirth_21 = in_ZPlusMirth_1;
			} break;
			case 0LL: { // None
				uint64_t v25 = value_u64(VTUP(in_ZPlusResolveDef_2)->cells[2]);
				STR* v26;
				STRLIT(v26, "Error, expected a namespace in QName.climb-up-dname?", 52);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v25, MKSTR(v26), in_ZPlusMirth_1);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_z_x1_18 = branch_z_x1_23;
		branch_List_17 = v20;
		branch_ZPlusResolveDef_16 = branch_ZPlusResolveDef_22;
		branch_ZPlusMirth_15 = branch_ZPlusMirth_21;
	} else {
		branch_z_x1_18 = v11;
		branch_List_17 = v13;
		branch_ZPlusResolveDef_16 = in_ZPlusResolveDef_2;
		branch_ZPlusMirth_15 = in_ZPlusMirth_1;
	}
	VAL v29;
	VAL v30 = mw_mirth_name_QName_climbZ_upZ_nameZAsk(branch_ZPlusMirth_15, value_u64(branch_z_x1_18), in_QName_4, &v29);
	VAL v31 = mw_std_list_List_1_reverse(branch_List_17);
	int64_t v32 = 1LL /* True */;
	VAL v33 = v29;
	VAL v34 = branch_ZPlusResolveDef_16;
	VAL v35 = v30;
	VAL v36 = v31;
	int64_t v37 = v32;
	int64_t v38 = v32;
	while (((bool)v38)) {
		VAL v39 = v33;
		VAL v40 = v34;
		VAL v41 = v35;
		VAL v42 = v36;
		int64_t v43 = v37;
		VAL branch_ZPlusMirth_44;
		VAL branch_z_x1_45;
		VAL branch_List_46;
		VAL branch_List_47;
		int64_t branch_Bool_48;
		switch (get_data_tag(v42)) {
			case 1LL: { // Cons
				VAL v49;
				VAL v50 = mtp_std_list_List_1_Cons(v42, &v49);
				VAL v51 = MKI64(0LL /* Nil */);
				VAL v52 = mw_std_list_List_1_reverse(v51);
				int64_t v53 = 1LL /* True */;
				VAL v54 = v50;
				VAL v55 = v39;
				VAL v56 = v40;
				VAL v57 = v52;
				VAL v58 = v41;
				int64_t v59 = v53;
				int64_t v60 = v53;
				while (((bool)v60)) {
					VAL v61 = v54;
					VAL v62 = v55;
					VAL v63 = v56;
					VAL v64 = v57;
					VAL v65 = v58;
					int64_t v66 = v59;
					uint64_t branch_Name_67;
					VAL branch_ZPlusMirth_68;
					VAL branch_z_x1_69;
					VAL branch_ZPlusList_70;
					VAL branch_List_71;
					int64_t branch_Bool_72;
					switch (get_data_tag(v65)) {
						case 1LL: { // Cons
							VAL v73;
							VAL v74 = mtp_std_list_List_1_Cons(v65, &v73);
							VAL v75;
							VAL v76 = mw_mirth_name_Namespace_qname(v62, v74, &v75);
							uint64_t branch_Name_77;
							VAL branch_ZPlusMirth_78;
							VAL branch_List_79;
							VAL branch_z_x1_80;
							switch (get_data_tag(v76)) {
								case 1LL: { // Some
									VAL v81 = mtp_std_maybe_Maybe_1_Some(v76);
									incref(v61);
									VAL v82;
									VAL v83 = mw_mirth_name_QName_climbZ_upZ_nameZAsk(v75, value_u64(v61), v81, &v82);
									branch_z_x1_80 = v63;
									branch_List_79 = v83;
									branch_ZPlusMirth_78 = v82;
									branch_Name_77 = value_u64(v61);
								} break;
								case 0LL: { // None
									VAL v84 = MKI64(0LL /* Nil */);
									branch_z_x1_80 = v63;
									branch_List_79 = v84;
									branch_ZPlusMirth_78 = v75;
									branch_Name_77 = value_u64(v61);
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							VAL v85;
							mw_std_list_List_1_for_1_sp46(v64, branch_List_79, &v85);
							int64_t v86 = 1LL /* True */;
							branch_Bool_72 = v86;
							branch_List_71 = v73;
							branch_ZPlusList_70 = v85;
							branch_z_x1_69 = branch_z_x1_80;
							branch_ZPlusMirth_68 = branch_ZPlusMirth_78;
							branch_Name_67 = branch_Name_77;
						} break;
						case 0LL: { // Nil
							VAL v87 = MKI64(0LL /* Nil */);
							int64_t v88 = 0LL /* False */;
							branch_Bool_72 = v88;
							branch_List_71 = v87;
							branch_ZPlusList_70 = v64;
							branch_z_x1_69 = v63;
							branch_ZPlusMirth_68 = v62;
							branch_Name_67 = value_u64(v61);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v60 = branch_Bool_72;
					v59 = branch_Bool_72;
					v58 = branch_List_71;
					v57 = branch_ZPlusList_70;
					v56 = branch_z_x1_69;
					v55 = branch_ZPlusMirth_68;
					v54 = MKU64(branch_Name_67);
				}
				decref(v58);
				VAL v89 = mw_std_list_List_1_reverse(v57);
				decref(v54);
				int64_t v90 = 1LL /* True */;
				branch_Bool_48 = v90;
				branch_List_47 = v49;
				branch_List_46 = v89;
				branch_z_x1_45 = v56;
				branch_ZPlusMirth_44 = v55;
			} break;
			case 0LL: { // Nil
				VAL v91 = MKI64(0LL /* Nil */);
				int64_t v92 = 0LL /* False */;
				branch_Bool_48 = v92;
				branch_List_47 = v91;
				branch_List_46 = v41;
				branch_z_x1_45 = v40;
				branch_ZPlusMirth_44 = v39;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v38 = branch_Bool_48;
		v37 = branch_Bool_48;
		v36 = branch_List_47;
		v35 = branch_List_46;
		v34 = branch_z_x1_45;
		v33 = branch_ZPlusMirth_44;
	}
	decref(v36);
	*out_ZPlusResolveDef_6 = v34;
	*out_ZPlusMirth_5 = v33;
	return v35;
}
static VAL mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_Either_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	int64_t v7 = 0LL /* False */;
	int64_t v8 = 0LL /* False */;
	uint64_t v9 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	STR* v10;
	STRLIT(v10, "type", 4);
	VAL v11;
	VAL v12;
	mw_mirth_elab_resolveZ_defZ_beginZBang(MKSTR(v10), v9, in_Either_3, v8, v7, in_ZPlusMirth_1, &v11, &v12);
	VAL v13 = VTUP(v12)->cells[4];
	incref(v13);
	VAL v14 = MKI64(0LL /* Nil */);
	VAL v15 = MKI64(0LL /* Nil */);
	int64_t v16 = 1LL /* True */;
	VAL v17 = v11;
	VAL v18 = v12;
	VAL v19 = v14;
	VAL v20 = v15;
	VAL v21 = v13;
	int64_t v22 = v16;
	int64_t v23 = v16;
	while (((bool)v23)) {
		VAL v24 = v17;
		VAL v25 = v18;
		VAL v26 = v19;
		VAL v27 = v20;
		VAL v28 = v21;
		int64_t v29 = v22;
		VAL branch_ZPlusMirth_30;
		VAL branch_z_x1_31;
		VAL branch_List_32;
		VAL branch_List_33;
		VAL branch_List_34;
		int64_t branch_Bool_35;
		switch (get_data_tag(v28)) {
			case 1LL: { // Cons
				VAL v36;
				VAL v37 = mtp_std_list_List_1_Cons(v28, &v36);
				incref(v37);
				VAL v38;
				int64_t v39 = mw_mirth_def_Def_definesZ_aZ_typeZAsk(v24, v37, &v38);
				VAL branch_ZPlusMirth_40;
				VAL branch_z_x1_41;
				VAL branch_Either_42;
				if (((bool)v39)) {
					VAL v43 = mtw_std_either_Either_2_Right(v37);
					branch_Either_42 = v43;
					branch_z_x1_41 = v25;
					branch_ZPlusMirth_40 = v38;
				} else {
					VAL v44 = mtw_mirth_elab_RejectedDef_RDz_WRONGz_SORT(v37);
					VAL v45 = mtw_std_either_Either_2_Left(v44);
					branch_Either_42 = v45;
					branch_z_x1_41 = v25;
					branch_ZPlusMirth_40 = v38;
				}
				VAL branch_ZPlusMirth_46;
				VAL branch_z_x1_47;
				VAL branch_List_48;
				VAL branch_List_49;
				switch (get_data_tag(branch_Either_42)) {
					case 0LL: { // Left
						VAL v50 = mtp_std_either_Either_2_Left(branch_Either_42);
						VAL v51 = mtw_std_list_List_1_Cons(v50, v26);
						branch_List_49 = v27;
						branch_List_48 = v51;
						branch_z_x1_47 = branch_z_x1_41;
						branch_ZPlusMirth_46 = branch_ZPlusMirth_40;
					} break;
					case 1LL: { // Right
						VAL v52 = mtp_std_either_Either_2_Right(branch_Either_42);
						VAL v53 = mtw_std_list_List_1_Cons(v52, v27);
						branch_List_49 = v53;
						branch_List_48 = v26;
						branch_z_x1_47 = branch_z_x1_41;
						branch_ZPlusMirth_46 = branch_ZPlusMirth_40;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v54 = 1LL /* True */;
				branch_Bool_35 = v54;
				branch_List_34 = v36;
				branch_List_33 = branch_List_49;
				branch_List_32 = branch_List_48;
				branch_z_x1_31 = branch_z_x1_47;
				branch_ZPlusMirth_30 = branch_ZPlusMirth_46;
			} break;
			case 0LL: { // Nil
				VAL v55 = MKI64(0LL /* Nil */);
				int64_t v56 = 0LL /* False */;
				branch_Bool_35 = v56;
				branch_List_34 = v55;
				branch_List_33 = v27;
				branch_List_32 = v26;
				branch_z_x1_31 = v25;
				branch_ZPlusMirth_30 = v24;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v23 = branch_Bool_35;
		v22 = branch_Bool_35;
		v21 = branch_List_34;
		v20 = branch_List_33;
		v19 = branch_List_32;
		v18 = branch_z_x1_31;
		v17 = branch_ZPlusMirth_30;
	}
	decref(v21);
	VAL v57 = mw_std_list_List_1_reverse(v19);
	VAL v58 = mw_std_list_List_1_reverse(v20);
	VAL v59 = VTUP(v18)->cells[5];
	incref(v59);
	VAL v60 = mw_std_list_List_1_cat(v57, v59);
	VAL v61 = VTUP(v18)->cells[5];
	decref(v61);
	VTUP(v18)->cells[5] = v60;
	VAL v62 = VTUP(v18)->cells[4];
	decref(v62);
	VTUP(v18)->cells[4] = v58;
	VAL v63;
	VAL v64;
	mw_mirth_elab_ZPlusResolveDef_filterZ_arity(v17, v18, &v63, &v64);
	VAL v65;
	VAL v66;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v63, v64, &v65, &v66);
	VAL v67 = MKI64(0LL /* Nil */);
	VAL v68;
	VAL v69;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v67, v65, v66, &v68, &v69);
	VAL v70;
	VAL v71 = mw_mirth_elab_resolveZ_defZ_endZBang(v68, v69, &v70);
	VAL branch_ZPlusMirth_72;
	VAL branch_ZPlusTypeElab_73;
	VAL branch_Maybe_74;
	switch (get_data_tag(v71)) {
		case 1LL: { // Some
			VAL v75 = mtp_std_maybe_Maybe_1_Some(v71);
			VAL branch_ZPlusMirth_76;
			VAL branch_ZPlusTypeElab_77;
			VAL branch_Type_78;
			switch (get_data_tag(v75)) {
				case 3LL: { // DefData
					uint64_t v79 = mtp_mirth_def_Def_DefData(v75);
					VAL v80 = mtw_mirth_type_Type_TData(v79);
					branch_Type_78 = v80;
					branch_ZPlusTypeElab_77 = in_ZPlusTypeElab_2;
					branch_ZPlusMirth_76 = v70;
				} break;
				case 4LL: { // DefTable
					uint64_t v81 = mtp_mirth_def_Def_DefTable(v75);
					VAL v82 = mtw_mirth_type_Type_TTable(v81);
					branch_Type_78 = v82;
					branch_ZPlusTypeElab_77 = in_ZPlusTypeElab_2;
					branch_ZPlusMirth_76 = v70;
				} break;
				case 5LL: { // DefType
					uint64_t v83 = mtp_mirth_def_Def_DefType(v75);
					VAL v84;
					VAL v85 = mw_mirth_typedef_TypeDef_target(v70, v83, &v84);
					branch_Type_78 = v85;
					branch_ZPlusTypeElab_77 = in_ZPlusTypeElab_2;
					branch_ZPlusMirth_76 = v84;
				} break;
				default: {
					decref(v75);
					uint64_t v86 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
					STR* v87;
					STRLIT(v87, "compiler bug: resolve-type-con-name! doesn't understand type", 60);
					VAL v88;
					mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v86, MKSTR(v87), v70, &v88);
					VAL v89 = MKI64(0LL /* TYPE_ERROR */);
					branch_Type_78 = v89;
					branch_ZPlusTypeElab_77 = in_ZPlusTypeElab_2;
					branch_ZPlusMirth_76 = v88;
				} break;
			}
			VAL v90 = mtw_std_maybe_Maybe_1_Some(branch_Type_78);
			branch_Maybe_74 = v90;
			branch_ZPlusTypeElab_73 = branch_ZPlusTypeElab_77;
			branch_ZPlusMirth_72 = branch_ZPlusMirth_76;
		} break;
		case 0LL: { // None
			VAL v91 = MKI64(0LL /* None */);
			branch_Maybe_74 = v91;
			branch_ZPlusTypeElab_73 = in_ZPlusTypeElab_2;
			branch_ZPlusMirth_72 = v70;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_Type_92;
	switch (get_data_tag(branch_Maybe_74)) {
		case 1LL: { // Some
			VAL v93 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_74);
			branch_Type_92 = v93;
		} break;
		case 0LL: { // None
			VAL v94 = MKI64(0LL /* TYPE_ERROR */);
			branch_Type_92 = v94;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_73;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_72;
	return branch_Type_92;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_Either_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	incref(in_Either_3);
	VAL v7 = mw_std_either_Either_2_leftZAsk(in_Either_3);
	int64_t branch_Bool_8;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v10 = mw_mirth_name_Name_ZToStr(value_u64(v9));
			STR* v11;
			STRLIT(v11, "Mut", 3);
			bool v12 = (str_cmp(value_str(v10), v11) == 0);
			branch_Bool_8 = ((int64_t)v12);
		} break;
		case 0LL: { // None
			int64_t v13 = 0LL /* False */;
			branch_Bool_8 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusMirth_14;
	VAL branch_Type_15;
	VAL branch_ZPlusTypeElab_16;
	if (((bool)branch_Bool_8)) {
		decref(in_Either_3);
		uint64_t v17 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		uint64_t v18 = mw_mirth_token_Token_next(v17);
		uint64_t v19 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		VAL v20;
		uint64_t v21 = mw_mirth_token_Token_argsZ_1(v19, in_ZPlusMirth_1, &v20);
		VTUP(in_ZPlusTypeElab_2)->cells[2] = MKU64(v21);
		VAL v22;
		VAL v23;
		VAL v24 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(v20, in_ZPlusTypeElab_2, &v22, &v23);
		VAL v25 = mtw_mirth_type_Type_TMut(v24);
		VTUP(v23)->cells[2] = MKU64(v18);
		branch_ZPlusTypeElab_16 = v23;
		branch_Type_15 = v25;
		branch_ZPlusMirth_14 = v22;
	} else {
		VAL v26;
		VAL v27;
		VAL v28 = mw_mirth_elab_ZPlusTypeElab_resolveZ_typeZ_conZ_nameZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Either_3, &v26, &v27);
		VAL v29;
		VAL v30;
		VAL v31 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang(v26, v27, v28, &v29, &v30);
		uint64_t v32 = value_u64(VTUP(v30)->cells[2]);
		uint64_t v33 = mw_mirth_token_Token_next(v32);
		VTUP(v30)->cells[2] = MKU64(v33);
		branch_ZPlusTypeElab_16 = v30;
		branch_Type_15 = v31;
		branch_ZPlusMirth_14 = v29;
	}
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_16;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_14;
	return branch_Type_15;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_resourceZ_conZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_Either_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	VAL v7;
	VAL v8;
	VAL v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_conZBang(in_ZPlusMirth_1, in_ZPlusTypeElab_2, in_Either_3, &v7, &v8);
	*out_ZPlusTypeElab_5 = v8;
	*out_ZPlusMirth_4 = v7;
	return v9;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL in_Type_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	uint64_t v7 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	int64_t v8 = mw_mirth_token_Token_hasZ_argsZAsk(v7);
	VAL branch_Type_9;
	VAL branch_ZPlusMirth_10;
	VAL branch_ZPlusTypeElab_11;
	if (((bool)v8)) {
		uint64_t v12 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		uint64_t v13 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		VAL v14 = mw_mirth_token_Token_args(v13);
		int64_t v15 = 1LL /* True */;
		VAL v16 = in_Type_3;
		VAL v17 = in_ZPlusMirth_1;
		VAL v18 = in_ZPlusTypeElab_2;
		VAL v19 = v14;
		int64_t v20 = v15;
		int64_t v21 = v15;
		while (((bool)v21)) {
			VAL v22 = v16;
			VAL v23 = v17;
			VAL v24 = v18;
			VAL v25 = v19;
			int64_t v26 = v20;
			VAL branch_ZPlusMirth_27;
			VAL branch_ZPlusTypeElab_28;
			VAL branch_Type_29;
			VAL branch_List_30;
			int64_t branch_Bool_31;
			switch (get_data_tag(v25)) {
				case 1LL: { // Cons
					VAL v32;
					VAL v33 = mtp_std_list_List_1_Cons(v25, &v32);
					VTUP(v24)->cells[2] = v33;
					VAL v34;
					VAL v35;
					VAL v36 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(v23, v24, &v34, &v35);
					VAL v37 = mtw_mirth_type_Type_TApp(v22, v36);
					int64_t v38 = 1LL /* True */;
					branch_Bool_31 = v38;
					branch_List_30 = v32;
					branch_Type_29 = v37;
					branch_ZPlusTypeElab_28 = v35;
					branch_ZPlusMirth_27 = v34;
				} break;
				case 0LL: { // Nil
					VAL v39 = MKI64(0LL /* Nil */);
					int64_t v40 = 0LL /* False */;
					branch_Bool_31 = v40;
					branch_List_30 = v39;
					branch_Type_29 = v22;
					branch_ZPlusTypeElab_28 = v24;
					branch_ZPlusMirth_27 = v23;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v21 = branch_Bool_31;
			v20 = branch_Bool_31;
			v19 = branch_List_30;
			v18 = branch_ZPlusTypeElab_28;
			v17 = branch_ZPlusMirth_27;
			v16 = branch_Type_29;
		}
		decref(v19);
		VTUP(v18)->cells[2] = MKU64(v12);
		branch_ZPlusTypeElab_11 = v18;
		branch_ZPlusMirth_10 = v17;
		branch_Type_9 = v16;
	} else {
		branch_ZPlusTypeElab_11 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		branch_Type_9 = in_Type_3;
	}
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Type_9;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_holeZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, uint64_t in_Name_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusTypeElab_5) {
	int64_t v7 = value_i64(VTUP(in_ZPlusTypeElab_2)->cells[3]);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusTypeElab_9;
	VAL branch_Type_10;
	if (((bool)v7)) {
		uint64_t v11 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		VAL v12;
		mw_mirth_token_Token_argsZ_0(v11, in_ZPlusMirth_1, &v12);
		VAL v13 = mtw_mirth_type_Type_THole(in_Name_3);
		branch_Type_10 = v13;
		branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_8 = v12;
	} else {
		uint64_t v14 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		STR* v15;
		STRLIT(v15, "type holes are not allowed here", 31);
		VAL v16;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v14, MKSTR(v15), in_ZPlusMirth_1, &v16);
		VAL v17 = MKI64(0LL /* TYPE_ERROR */);
		branch_Type_10 = v17;
		branch_ZPlusTypeElab_9 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_8 = v16;
	}
	uint64_t v18 = value_u64(VTUP(branch_ZPlusTypeElab_9)->cells[2]);
	uint64_t v19 = mw_mirth_token_Token_next(v18);
	VTUP(branch_ZPlusTypeElab_9)->cells[2] = MKU64(v19);
	*out_ZPlusTypeElab_5 = branch_ZPlusTypeElab_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
	return branch_Type_10;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_dontZ_careZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4) {
	int64_t v6 = value_i64(VTUP(in_ZPlusTypeElab_2)->cells[3]);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusTypeElab_8;
	VAL branch_Type_9;
	if (((bool)v6)) {
		uint64_t v10 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		VAL v11;
		mw_mirth_token_Token_argsZ_0(v10, in_ZPlusMirth_1, &v11);
		VAL v12 = MKI64(1LL /* TYPE_DONT_CARE */);
		branch_Type_9 = v12;
		branch_ZPlusTypeElab_8 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_7 = v11;
	} else {
		uint64_t v13 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
		STR* v14;
		STRLIT(v14, "underscore is not allowed here", 30);
		VAL v15;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v13, MKSTR(v14), in_ZPlusMirth_1, &v15);
		VAL v16 = MKI64(0LL /* TYPE_ERROR */);
		branch_Type_9 = v16;
		branch_ZPlusTypeElab_8 = in_ZPlusTypeElab_2;
		branch_ZPlusMirth_7 = v15;
	}
	uint64_t v17 = value_u64(VTUP(branch_ZPlusTypeElab_8)->cells[2]);
	uint64_t v18 = mw_mirth_token_Token_next(v17);
	VTUP(branch_ZPlusTypeElab_8)->cells[2] = MKU64(v18);
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_8;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Type_9;
}
static VAL mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_quoteZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusTypeElab_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusTypeElab_4) {
	uint64_t v6 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	uint64_t v7 = mw_mirth_token_Token_next(v6);
	uint64_t v8 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	VAL v9;
	uint64_t v10 = mw_mirth_token_Token_argsZ_1(v8, in_ZPlusMirth_1, &v9);
	VTUP(in_ZPlusTypeElab_2)->cells[2] = MKU64(v10);
	uint64_t v11 = value_u64(VTUP(in_ZPlusTypeElab_2)->cells[2]);
	int64_t v12 = mw_mirth_token_Token_sigZ_hasZ_dashesZAsk(v11);
	VAL branch_ZPlusMirth_13;
	VAL branch_ZPlusTypeElab_14;
	VAL branch_Type_15;
	if (((bool)v12)) {
		VAL v16;
		VAL v17;
		VAL v18 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(v9, in_ZPlusTypeElab_2, &v16, &v17);
		VAL v19 = mw_mirth_type_ArrowType_ZToType(v18);
		branch_Type_15 = v19;
		branch_ZPlusTypeElab_14 = v17;
		branch_ZPlusMirth_13 = v16;
	} else {
		VAL v20;
		VAL v21;
		VAL v22 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v9, in_ZPlusTypeElab_2, &v20, &v21);
		VAL v23 = mw_mirth_type_StackType_ZToType(v22);
		branch_Type_15 = v23;
		branch_ZPlusTypeElab_14 = v21;
		branch_ZPlusMirth_13 = v20;
	}
	VTUP(branch_ZPlusTypeElab_14)->cells[2] = MKU64(v7);
	*out_ZPlusTypeElab_4 = branch_ZPlusTypeElab_14;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_13;
	return branch_Type_15;
}
static VAL mw_mirth_elab_elabZ_typeZ_unifyZBang (VAL in_ZPlusMirth_1, VAL in_Type_2, VAL in_Type_3, uint64_t in_Token_4, VAL *out_ZPlusMirth_5, uint64_t *out_Token_7) {
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_type_Type_unifyZBang(in_ZPlusMirth_1, in_Token_4, in_Type_2, in_Type_3, &v8, &v9);
	*out_Token_7 = v9;
	*out_ZPlusMirth_5 = v8;
	return v10;
}
static VAL mw_mirth_elab_elabZ_stackZ_typeZ_unifyZBang (VAL in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, uint64_t in_Token_4, VAL *out_ZPlusMirth_5, uint64_t *out_Token_7) {
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, in_Token_4, in_StackType_2, in_StackType_3, &v8, &v9);
	*out_Token_7 = v9;
	*out_ZPlusMirth_5 = v8;
	return v10;
}
static VAL mw_mirth_elab_elabZ_simpleZ_typeZ_argZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_var_Ctx0();
	int64_t v6 = 0LL /* False */;
	int64_t v7 = 0LL /* False */;
	VAL v8;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v5, in_Token_2, v6, v7, &v8);
	VAL v9;
	VAL v10;
	VAL v11 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_argZBang(in_ZPlusMirth_1, v8, &v9, &v10);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v10);
	*out_ZPlusMirth_3 = v9;
	return v11;
}
static uint64_t mw_mirth_elab_abZ_tokenZAt (VAL in_ZPlusAB_1, VAL *out_ZPlusAB_2) {
	incref(in_ZPlusAB_1);
	uint64_t v4 = value_u64(VTUP(in_ZPlusAB_1)->cells[3]);
	decref(in_ZPlusAB_1);
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static void mw_mirth_elab_abZ_tokenZBang (VAL in_ZPlusAB_1, uint64_t in_Token_2, VAL *out_ZPlusAB_3) {
	incref(in_ZPlusAB_1);
	VAL v4 = tup_replace(in_ZPlusAB_1, 3, MKU64(in_Token_2));
	decref(in_ZPlusAB_1);
	*out_ZPlusAB_3 = v4;
}
static VAL mw_mirth_elab_abZ_typeZAt (VAL in_ZPlusAB_1, VAL *out_ZPlusAB_2) {
	incref(in_ZPlusAB_1);
	VAL v4 = VTUP(in_ZPlusAB_1)->cells[6];
	incref(v4);
	decref(in_ZPlusAB_1);
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static void mw_mirth_elab_abZ_typeZBang (VAL in_ZPlusAB_1, VAL in_StackType_2, VAL *out_ZPlusAB_3) {
	incref(in_ZPlusAB_1);
	VAL v4 = tup_replace(in_ZPlusAB_1, 6, in_StackType_2);
	decref(in_ZPlusAB_1);
	*out_ZPlusAB_3 = v4;
}
static VAL mw_mirth_elab_abZ_ctxZAt (VAL in_ZPlusAB_1, VAL *out_ZPlusAB_2) {
	incref(in_ZPlusAB_1);
	VAL v4 = VTUP(in_ZPlusAB_1)->cells[4];
	incref(v4);
	decref(in_ZPlusAB_1);
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static VAL mw_mirth_elab_abZ_homeZAt (VAL in_ZPlusAB_1, VAL *out_ZPlusAB_2) {
	incref(in_ZPlusAB_1);
	VAL v4 = VTUP(in_ZPlusAB_1)->cells[1];
	incref(v4);
	decref(in_ZPlusAB_1);
	*out_ZPlusAB_2 = in_ZPlusAB_1;
	return v4;
}
static VAL mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL *out_ZPlusMirth_3, VAL *out_ArrowType_5, uint64_t *out_Token_6, VAL *out_Home_7, uint64_t *out_Word_8) {
	void* v9 = mfld_mirth_word_Word_ZTildectxZ_type(in_Word_2);
	VAL v10;
	VAL v11 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v9, in_ZPlusMirth_1, &v10);
	uint64_t branch_Word_12;
	VAL branch_ZPlusMirth_13;
	VAL branch_Ctx_14;
	VAL branch_ArrowType_15;
	switch (get_data_tag(v11)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v11);
			VAL v17 = value_tup(v16, 2)->cells[0];
			VAL v18 = value_tup(v16, 2)->cells[1];
			tup_decref_outer(value_tup(v16, 2), 2);
			branch_ArrowType_15 = v18;
			branch_Ctx_14 = v17;
			branch_ZPlusMirth_13 = v10;
			branch_Word_12 = in_Word_2;
		} break;
		case 0LL: { // None
			VAL v19;
			VAL v20;
			uint64_t v21;
			VAL v22 = mw_mirth_elab_guessZ_initialZ_ctxZ_type(v10, in_Word_2, &v19, &v20, &v21);
			branch_ArrowType_15 = v20;
			branch_Ctx_14 = v22;
			branch_ZPlusMirth_13 = v19;
			branch_Word_12 = v21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v23 = mw_mirth_word_Word_body(branch_Word_12);
	VAL v24 = mtw_mirth_arrow_Home_HomeWord(branch_Word_12);
	*out_Word_8 = branch_Word_12;
	*out_Home_7 = v24;
	*out_Token_6 = v23;
	*out_ArrowType_5 = branch_ArrowType_15;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_13;
	return branch_Ctx_14;
}
static VAL mw_mirth_elab_finalizzeZ_wordZ_arrow (VAL in_ZPlusMirth_1, VAL in_Arrow_2, uint64_t in_Word_3, VAL *out_ZPlusMirth_4) {
	int64_t v6 = mw_mirth_word_Word_inferringZ_typeZAsk(in_Word_3);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Word_8;
	VAL branch_Arrow_9;
	if (((bool)v6)) {
		incref(in_Arrow_2);
		VAL v10;
		VAL v11 = mw_mirth_arrow_Arrow_ctxZ_type(in_Arrow_2, &v10);
		VAL v12;
		VAL v13;
		VAL v14 = mw_mirth_type_ArrowType_rigidifyZ_sigZBang(in_ZPlusMirth_1, v11, v10, &v12, &v13);
		incref(v14);
		incref(v13);
		TUP* v15 = tup_pack2(v14, v13);
		VAL v16 = mtw_mirth_mirth_PropLabel_WordType(in_Word_3);
		VAL v17;
		VAL v18 = mw_mirth_mirth_PropLabel_prop(MKTUP(v15, 2), v16, v12, &v17);
		void* v19 = mfld_mirth_word_Word_ZTildectxZ_type(in_Word_3);
		mut_set(v18, v19);
		int64_t v20 = 0LL /* False */;
		void* v21 = mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk(in_Word_3);
		mut_set(MKI64(v20), v21);
		VAL v22;
		VAL v23 = mw_mirth_type_ArrowType_unpack(v13, &v22);
		VAL v24 = tup_replace(in_Arrow_2, 6, v22);
		VAL v25 = tup_replace(v24, 5, v23);
		VAL v26 = tup_replace(v25, 4, v14);
		branch_Arrow_9 = v26;
		branch_Word_8 = in_Word_3;
		branch_ZPlusMirth_7 = v17;
	} else {
		branch_Arrow_9 = in_Arrow_2;
		branch_Word_8 = in_Word_3;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Arrow_9;
}
static VAL mw_mirth_elab_guessZ_initialZ_ctxZ_type (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL *out_ZPlusMirth_3, VAL *out_ArrowType_5, uint64_t *out_Word_6) {
	VAL v7 = mw_mirth_var_Ctx0();
	uint64_t v8 = mw_mirth_type_MetaVar_newZBang();
	VAL v9 = mtw_mirth_type_StackType_STMeta(v8);
	uint64_t v10 = mw_mirth_type_MetaVar_newZBang();
	VAL v11 = mtw_mirth_type_StackType_STMeta(v10);
	VAL v12;
	VAL v13 = mw_mirth_word_Word_namespaceZ_hard(in_Word_2, in_ZPlusMirth_1, &v12);
	VAL branch_Ctx_14;
	VAL branch_StackType_15;
	VAL branch_ZPlusMirth_16;
	uint64_t branch_Word_17;
	VAL branch_StackType_18;
	switch (get_data_tag(v13)) {
		case 3LL: { // NAMESPACE_TYCON
			VAL v19 = mtp_mirth_name_Namespace_NAMESPACEz_TYCON(v13);
			VAL v20;
			VAL v21 = mw_mirth_tycon_Tycon_fullZ_typeZ_fresh(v12, v19, &v20);
			uint64_t v22 = mw_mirth_word_Word_name(in_Word_2);
			int64_t v23 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(v22);
			VAL branch_Ctx_24;
			VAL branch_StackType_25;
			VAL branch_ZPlusMirth_26;
			uint64_t branch_Word_27;
			VAL branch_StackType_28;
			if (((bool)v23)) {
				VAL v29 = mw_mirth_type_TZMulZPlus(v9, v21);
				branch_StackType_28 = v29;
				branch_Word_27 = in_Word_2;
				branch_ZPlusMirth_26 = v20;
				branch_StackType_25 = v11;
				branch_Ctx_24 = v7;
			} else {
				VAL v30 = mw_mirth_type_TZMulZPlus(v11, v21);
				branch_StackType_28 = v9;
				branch_Word_27 = in_Word_2;
				branch_ZPlusMirth_26 = v20;
				branch_StackType_25 = v30;
				branch_Ctx_24 = v7;
			}
			branch_StackType_18 = branch_StackType_28;
			branch_Word_17 = branch_Word_27;
			branch_ZPlusMirth_16 = branch_ZPlusMirth_26;
			branch_StackType_15 = branch_StackType_25;
			branch_Ctx_14 = branch_Ctx_24;
		} break;
		case 2LL: { // NAMESPACE_MODULE
			uint64_t v31 = mtp_mirth_name_Namespace_NAMESPACEz_MODULE(v13);
			uint64_t v32 = mw_mirth_word_Word_name(in_Word_2);
			VAL v33 = mw_mirth_name_Name_ZToStr(v32);
			STR* v34;
			STRLIT(v34, "main", 4);
			bool v35 = (str_cmp(value_str(v33), v34) == 0);
			VAL branch_StackType_36;
			VAL branch_StackType_37;
			if (v35) {
				VAL v38 = mw_mirth_type_T0();
				VAL v39 = mw_mirth_type_RESOURCEz_WORLD();
				VAL v40 = mw_mirth_type_TZPlus(v38, v39);
				decref(v9);
				VAL v41 = mw_mirth_type_T0();
				VAL v42 = mw_mirth_type_RESOURCEz_WORLD();
				VAL v43 = mw_mirth_type_TZPlus(v41, v42);
				decref(v11);
				branch_StackType_37 = v43;
				branch_StackType_36 = v40;
			} else {
				branch_StackType_37 = v11;
				branch_StackType_36 = v9;
			}
			branch_StackType_18 = branch_StackType_36;
			branch_Word_17 = in_Word_2;
			branch_ZPlusMirth_16 = v12;
			branch_StackType_15 = branch_StackType_37;
			branch_Ctx_14 = v7;
		} break;
		default: {
			decref(v13);
			branch_StackType_18 = v9;
			branch_Word_17 = in_Word_2;
			branch_ZPlusMirth_16 = v12;
			branch_StackType_15 = v11;
			branch_Ctx_14 = v7;
		} break;
	}
	int64_t v44 = mw_mirth_word_Word_arity(branch_Word_17);
	int64_t v45 = 0LL;
	bool v46 = (v44 > v45);
	VAL v47 = branch_StackType_18;
	int64_t v48 = v44;
	bool v49 = v46;
	while (v49) {
		VAL v50 = v47;
		int64_t v51 = v48;
		uint64_t v52 = mw_mirth_type_MetaVar_newZBang();
		VAL v53 = mtw_mirth_type_StackType_STMeta(v52);
		uint64_t v54 = mw_mirth_type_MetaVar_newZBang();
		VAL v55 = mtw_mirth_type_StackType_STMeta(v54);
		VAL v56 = mw_mirth_type_TZ_ZTo(v53, v55);
		VAL v57 = mw_mirth_type_ArrowType_ZToType(v56);
		VAL v58 = mw_mirth_type_TZMul(v50, v57);
		int64_t v59 = 1LL;
		int64_t v60 = i64_sub(v51, v59);
		int64_t v61 = 0LL;
		bool v62 = (v60 < v61);
		int64_t branch_Nat_63;
		if (v62) {
			int64_t v64 = 0LL;
			branch_Nat_63 = v64;
		} else {
			branch_Nat_63 = v60;
		}
		int64_t v65 = 0LL;
		bool v66 = (branch_Nat_63 > v65);
		v49 = v66;
		v48 = branch_Nat_63;
		v47 = v58;
	}
	VAL v67 = mw_mirth_type_TZ_ZTo(v47, branch_StackType_15);
	incref(branch_Ctx_14);
	incref(v67);
	TUP* v68 = tup_pack2(branch_Ctx_14, v67);
	VAL v69 = mtw_mirth_mirth_PropLabel_WordType(branch_Word_17);
	VAL v70;
	VAL v71 = mw_mirth_mirth_PropLabel_prop(MKTUP(v68, 2), v69, branch_ZPlusMirth_16, &v70);
	void* v72 = mfld_mirth_word_Word_ZTildectxZ_type(branch_Word_17);
	mut_set(v71, v72);
	int64_t v73 = 1LL /* True */;
	void* v74 = mfld_mirth_word_Word_ZTildeinferringZ_typeZAsk(branch_Word_17);
	mut_set(MKI64(v73), v74);
	*out_Word_6 = branch_Word_17;
	*out_ArrowType_5 = v67;
	*out_ZPlusMirth_3 = v70;
	return branch_Ctx_14;
}
static void mw_mirth_elab_abZ_unifyZ_typeZBang (VAL in_StackType_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6;
	VAL v7 = mw_mirth_elab_abZ_typeZAt(in_ZPlusAB_3, &v6);
	VAL v8;
	VAL v9;
	VAL v10 = mw_mirth_elab_ZPlusAB_gamma_1_sp1(in_ZPlusMirth_2, v7, in_StackType_1, v6, &v8, &v9);
	VAL v11;
	mw_mirth_elab_abZ_typeZBang(v9, v10, &v11);
	*out_ZPlusAB_5 = v11;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_abZ_atomZBang (VAL in_Atom_1, VAL in_ZPlusAB_2, VAL *out_ZPlusAB_3) {
	incref(in_Atom_1);
	uint64_t v4 = value_u64(VTUP(in_Atom_1)->cells[2]);
	decref(in_Atom_1);
	VAL v5;
	mw_mirth_elab_abZ_tokenZBang(in_ZPlusAB_2, v4, &v5);
	incref(in_Atom_1);
	VAL v6 = VTUP(in_Atom_1)->cells[7];
	incref(v6);
	decref(in_Atom_1);
	VAL v7;
	mw_mirth_elab_abZ_typeZBang(v5, v6, &v7);
	incref(v7);
	incref(v7);
	VAL v8 = VTUP(v7)->cells[7];
	incref(v8);
	decref(v7);
	VAL v9 = mw_mirth_elab_abZ_optimizzedZ_snocZBang(v8, in_Atom_1);
	VAL v10 = tup_replace(v7, 7, v9);
	decref(v7);
	*out_ZPlusAB_3 = v10;
}
static VAL mw_mirth_elab_abZ_optimizzedZ_snocZBang (VAL in_List_1, VAL in_Atom_2) {
	incref(in_List_1);
	int64_t v4 = mw_mirth_elab_atomsZ_hasZ_lastZ_blockZAsk(in_List_1);
	VAL branch_Atom_5;
	int64_t branch_Bool_6;
	if (((bool)v4)) {
		int64_t v7;
		VAL v8 = mw_mirth_elab_atomZ_acceptsZ_argsZAsk(in_Atom_2, &v7);
		branch_Bool_6 = v7;
		branch_Atom_5 = v8;
	} else {
		int64_t v9 = 0LL /* False */;
		branch_Bool_6 = v9;
		branch_Atom_5 = in_Atom_2;
	}
	VAL v10 = in_List_1;
	VAL v11 = branch_Atom_5;
	int64_t v12 = branch_Bool_6;
	while (((bool)v12)) {
		VAL v13 = v10;
		VAL v14 = v11;
		VAL v15;
		VAL v16 = mw_mirth_elab_atomsZ_turnZ_lastZ_blockZ_toZ_arg(v14, v13, &v15);
		incref(v15);
		int64_t v17 = mw_mirth_elab_atomsZ_hasZ_lastZ_blockZAsk(v15);
		VAL branch_Atom_18;
		int64_t branch_Bool_19;
		if (((bool)v17)) {
			int64_t v20;
			VAL v21 = mw_mirth_elab_atomZ_acceptsZ_argsZAsk(v16, &v20);
			branch_Bool_19 = v20;
			branch_Atom_18 = v21;
		} else {
			int64_t v22 = 0LL /* False */;
			branch_Bool_19 = v22;
			branch_Atom_18 = v16;
		}
		v12 = branch_Bool_19;
		v11 = branch_Atom_18;
		v10 = v15;
	}
	VAL v23 = mw_std_list_List_1_reverse(v10);
	VAL v24 = mtw_std_list_List_1_Cons(v11, v23);
	VAL v25 = mw_std_list_List_1_reverse(v24);
	return v25;
}
static VAL mw_mirth_elab_atomZ_acceptsZ_argsZAsk (VAL in_Atom_1, int64_t *out_Bool_3) {
	incref(in_Atom_1);
	VAL v4 = VTUP(in_Atom_1)->cells[4];
	incref(v4);
	decref(in_Atom_1);
	VAL branch_Atom_5;
	int64_t branch_Bool_6;
	switch (get_data_tag(v4)) {
		case 2LL: { // OpWord
			uint64_t v7 = mtp_mirth_arrow_Op_OpWord(v4);
			incref(in_Atom_1);
			VAL v8 = VTUP(in_Atom_1)->cells[5];
			incref(v8);
			decref(in_Atom_1);
			int64_t v9 = mw_std_list_List_1_len(v8);
			int64_t v10 = mw_mirth_word_Word_arity(v7);
			bool v11 = (v9 < v10);
			branch_Bool_6 = ((int64_t)v11);
			branch_Atom_5 = in_Atom_1;
		} break;
		case 1LL: { // OpPrim
			int64_t v12 = mtp_mirth_arrow_Op_OpPrim(v4);
			VAL branch_Atom_13;
			int64_t branch_Bool_14;
			switch (v12) {
				case 5LL: { // PRIM_CORE_DIP
					incref(in_Atom_1);
					VAL v15 = VTUP(in_Atom_1)->cells[5];
					incref(v15);
					decref(in_Atom_1);
					int64_t v16 = mw_std_list_List_1_len(v15);
					int64_t v17 = 1LL;
					bool v18 = (v16 < v17);
					branch_Bool_14 = ((int64_t)v18);
					branch_Atom_13 = in_Atom_1;
				} break;
				case 6LL: { // PRIM_CORE_RDIP
					incref(in_Atom_1);
					VAL v19 = VTUP(in_Atom_1)->cells[5];
					incref(v19);
					decref(in_Atom_1);
					int64_t v20 = mw_std_list_List_1_len(v19);
					int64_t v21 = 1LL;
					bool v22 = (v20 < v21);
					branch_Bool_14 = ((int64_t)v22);
					branch_Atom_13 = in_Atom_1;
				} break;
				case 7LL: { // PRIM_CORE_IF
					incref(in_Atom_1);
					VAL v23 = VTUP(in_Atom_1)->cells[5];
					incref(v23);
					decref(in_Atom_1);
					int64_t v24 = mw_std_list_List_1_len(v23);
					int64_t v25 = 2LL;
					bool v26 = (v24 < v25);
					branch_Bool_14 = ((int64_t)v26);
					branch_Atom_13 = in_Atom_1;
				} break;
				case 8LL: { // PRIM_CORE_WHILE
					incref(in_Atom_1);
					VAL v27 = VTUP(in_Atom_1)->cells[5];
					incref(v27);
					decref(in_Atom_1);
					int64_t v28 = mw_std_list_List_1_len(v27);
					int64_t v29 = 2LL;
					bool v30 = (v28 < v29);
					branch_Bool_14 = ((int64_t)v30);
					branch_Atom_13 = in_Atom_1;
				} break;
				default: {
					int64_t v31 = 0LL /* False */;
					branch_Bool_14 = v31;
					branch_Atom_13 = in_Atom_1;
				} break;
			}
			branch_Bool_6 = branch_Bool_14;
			branch_Atom_5 = branch_Atom_13;
		} break;
		default: {
			decref(v4);
			int64_t v32 = 0LL /* False */;
			branch_Bool_6 = v32;
			branch_Atom_5 = in_Atom_1;
		} break;
	}
	*out_Bool_3 = branch_Bool_6;
	return branch_Atom_5;
}
static int64_t mw_mirth_elab_atomsZ_hasZ_lastZ_blockZAsk (VAL in_List_1) {
	VAL v3 = mw_std_list_List_1_last(in_List_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 0LL: { // None
			int64_t v5 = 0LL /* False */;
			branch_Bool_4 = v5;
		} break;
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v7 = VTUP(v6)->cells[4];
			incref(v7);
			decref(v6);
			int64_t branch_Bool_8;
			switch (get_data_tag(v7)) {
				case 14LL: { // OpBlockPush
					uint64_t v9 = mtp_mirth_arrow_Op_OpBlockPush(v7);
					int64_t v10 = 1LL /* True */;
					branch_Bool_8 = v10;
				} break;
				default: {
					decref(v7);
					int64_t v11 = 0LL /* False */;
					branch_Bool_8 = v11;
				} break;
			}
			branch_Bool_4 = branch_Bool_8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_4;
}
static VAL mw_mirth_elab_atomsZ_turnZ_lastZ_blockZ_toZ_arg (VAL in_Atom_1, VAL in_List_2, VAL *out_List_4) {
	VAL v5 = mw_std_list_List_1_ZToListZPlus(in_List_2);
	VAL branch_Atom_6;
	VAL branch_List_7;
	switch (get_data_tag(v5)) {
		case 0LL: { // None
			VAL v8 = MKI64(0LL /* Nil */);
			branch_List_7 = v8;
			branch_Atom_6 = in_Atom_1;
		} break;
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v5);
			VAL v10;
			VAL v11 = mw_std_list_ListZPlus_1_unsnoc(v9, &v10);
			incref(v10);
			VAL v12 = VTUP(v10)->cells[4];
			incref(v12);
			decref(v10);
			VAL branch_Atom_13;
			VAL branch_List_14;
			switch (get_data_tag(v12)) {
				case 14LL: { // OpBlockPush
					uint64_t v15 = mtp_mirth_arrow_Op_OpBlockPush(v12);
					VAL v16 = VTUP(v10)->cells[6];
					incref(v16);
					decref(v10);
					VAL v17 = tup_replace(in_Atom_1, 6, v16);
					incref(v17);
					VAL v18 = VTUP(v17)->cells[5];
					incref(v18);
					decref(v17);
					VAL v19 = mtw_std_list_List_1_Cons(MKU64(v15), v18);
					VAL v20 = tup_replace(v17, 5, v19);
					branch_List_14 = v11;
					branch_Atom_13 = v20;
				} break;
				default: {
					decref(v12);
					VAL v21 = mw_std_list_List_1_reverse(v11);
					VAL v22 = mtw_std_list_List_1_Cons(v10, v21);
					VAL v23 = mw_std_list_List_1_reverse(v22);
					branch_List_14 = v23;
					branch_Atom_13 = in_Atom_1;
				} break;
			}
			branch_List_7 = branch_List_14;
			branch_Atom_6 = branch_Atom_13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_List_4 = branch_List_7;
	return branch_Atom_6;
}
static void mw_mirth_elab_abZ_opZBang (VAL in_Op_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6;
	VAL v7 = mw_mirth_elab_abZ_ctxZAt(in_ZPlusAB_3, &v6);
	VAL v8;
	uint64_t v9 = mw_mirth_elab_abZ_tokenZAt(v6, &v8);
	VAL v10;
	VAL v11 = mw_mirth_elab_abZ_homeZAt(v8, &v10);
	incref(in_Op_1);
	VAL v12;
	VAL v13;
	VAL v14 = mw_mirth_elab_elabZ_opZ_freshZ_sigZBang(in_ZPlusMirth_2, in_Op_1, &v12, &v13);
	VAL v15;
	VAL v16;
	VAL v17;
	VAL v18 = mw_mirth_elab_abZ_expandZ_opsigZBang(v13, v12, v10, &v15, &v16, &v17);
	VAL v19 = MKI64(0LL /* Nil */);
	VAL v20 = mtw_mirth_arrow_Atom_Atom(v11, v9, v7, in_Op_1, v19, v18, v15, v14);
	VAL v21;
	mw_mirth_elab_abZ_atomZBang(v20, v17, &v21);
	*out_ZPlusAB_5 = v21;
	*out_ZPlusMirth_4 = v16;
}
static VAL mw_mirth_elab_abZ_expandZ_opsigZBang (VAL in_OpSig_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_StackType_5, VAL *out_ZPlusMirth_6, VAL *out_ZPlusAB_7) {
	VAL branch_StackType_8;
	VAL branch_StackType_9;
	VAL branch_ZPlusMirth_10;
	VAL branch_ZPlusAB_11;
	switch (get_data_tag(in_OpSig_1)) {
		case 0LL: { // OPSIG_ID
			VAL v12;
			VAL v13 = mw_mirth_elab_abZ_typeZAt(in_ZPlusAB_3, &v12);
			incref(v13);
			branch_ZPlusAB_11 = v12;
			branch_ZPlusMirth_10 = in_ZPlusMirth_2;
			branch_StackType_9 = v13;
			branch_StackType_8 = v13;
		} break;
		case 1LL: { // OPSIG_PUSH
			VAL v14 = mtp_mirth_elab_OpSig_OPSIGz_PUSH(in_OpSig_1);
			VAL v15;
			VAL v16 = mw_mirth_elab_abZ_typeZAt(in_ZPlusAB_3, &v15);
			incref(v16);
			VAL v17 = mtw_mirth_type_StackType_STCons(v16, v14);
			branch_ZPlusAB_11 = v15;
			branch_ZPlusMirth_10 = in_ZPlusMirth_2;
			branch_StackType_9 = v17;
			branch_StackType_8 = v16;
		} break;
		case 2LL: { // OPSIG_APPLY
			VAL v18 = mtp_mirth_elab_OpSig_OPSIGz_APPLY(in_OpSig_1);
			VAL v19;
			VAL v20 = mw_mirth_elab_abZ_typeZAt(in_ZPlusAB_3, &v19);
			VAL v21;
			VAL v22 = mw_mirth_type_ArrowType_unpack(v18, &v21);
			VAL v23;
			uint64_t v24 = mw_mirth_elab_abZ_tokenZAt(v19, &v23);
			VAL v25;
			uint64_t v26;
			VAL v27 = mw_mirth_elab_elabZ_stackZ_typeZ_unifyZBang(in_ZPlusMirth_2, v20, v22, v24, &v25, &v26);
			branch_ZPlusAB_11 = v23;
			branch_ZPlusMirth_10 = v25;
			branch_StackType_9 = v21;
			branch_StackType_8 = v27;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_7 = branch_ZPlusAB_11;
	*out_ZPlusMirth_6 = branch_ZPlusMirth_10;
	*out_StackType_5 = branch_StackType_9;
	return branch_StackType_8;
}
static void mw_mirth_elab_abZ_intZBang (int64_t in_Int_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpInt(in_Int_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_f64ZBang (double in_F64_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpF64(in_F64_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_strZBang (VAL in_Str_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpStr(in_Str_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_bufferZBang (uint64_t in_Buffer_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpBuffer(in_Buffer_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_variableZBang (uint64_t in_Variable_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpVariable(in_Variable_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_fieldZBang (uint64_t in_Field_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpField(in_Field_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_varZBang (uint64_t in_Var_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpVar(in_Var_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_tagZBang (uint64_t in_Tag_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpTag(in_Tag_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_primZBang (int64_t in_Prim_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	void* v6 = mfld_mirth_prim_Prim_ZTildetype(((uint64_t)in_Prim_1));
	bool v7 = mut_is_set(v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusAB_9;
	if (v7) {
		VAL v10 = mtw_mirth_arrow_Op_OpPrim(in_Prim_1);
		VAL v11;
		VAL v12;
		mw_mirth_elab_abZ_opZBang(v10, in_ZPlusMirth_2, in_ZPlusAB_3, &v11, &v12);
		branch_ZPlusAB_9 = v12;
		branch_ZPlusMirth_8 = v11;
	} else {
		VAL v13;
		uint64_t v14 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_3, &v13);
		STR* v15;
		STRLIT(v15, "prim does not have type", 23);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, MKSTR(v15), in_ZPlusMirth_2);
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_elab_abZ_wordZBang (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpWord(in_Word_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_externalZBang (uint64_t in_External_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpExternal(in_External_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_labelZ_pushZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpLabelPush(in_Label_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_labelZ_popZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpLabelPop(in_Label_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_labelZ_pushZ_rZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpLabelPushR(in_Label_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_abZ_labelZ_popZ_rZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_mirth_arrow_Op_OpLabelPopR(in_Label_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_abZ_opZBang(v6, in_ZPlusMirth_2, in_ZPlusAB_3, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static VAL mw_mirth_elab_elabZ_opZ_freshZ_sigZBang (VAL in_ZPlusMirth_1, VAL in_Op_2, VAL *out_ZPlusMirth_3, VAL *out_OpSig_5) {
	VAL v6 = mw_mirth_type_Subst_nil();
	VAL branch_ZPlusMirth_7;
	VAL branch_Subst_8;
	VAL branch_OpSig_9;
	switch (get_data_tag(in_Op_2)) {
		case 0LL: { // OpNone
			VAL v10 = MKI64(0LL /* OPSIG_ID */);
			branch_OpSig_9 = v10;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 7LL: { // OpInt
			int64_t v11 = mtp_mirth_arrow_Op_OpInt(in_Op_2);
			VAL v12 = mtw_mirth_type_Value_VALUEz_INT(v11);
			VAL v13 = mtw_mirth_type_Type_TValue(v12);
			VAL v14 = mtw_mirth_elab_OpSig_OPSIGz_PUSH(v13);
			branch_OpSig_9 = v14;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 8LL: { // OpF64
			double v15 = mtp_mirth_arrow_Op_OpF64(in_Op_2);
			VAL v16 = mtw_mirth_type_Value_VALUEz_F64(v15);
			VAL v17 = mtw_mirth_type_Type_TValue(v16);
			VAL v18 = mtw_mirth_elab_OpSig_OPSIGz_PUSH(v17);
			branch_OpSig_9 = v18;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 9LL: { // OpStr
			VAL v19 = mtp_mirth_arrow_Op_OpStr(in_Op_2);
			VAL v20 = mtw_mirth_type_Value_VALUEz_STR(v19);
			VAL v21 = mtw_mirth_type_Type_TValue(v20);
			VAL v22 = mtw_mirth_elab_OpSig_OPSIGz_PUSH(v21);
			branch_OpSig_9 = v22;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 4LL: { // OpBuffer
			uint64_t v23 = mtp_mirth_arrow_Op_OpBuffer(in_Op_2);
			VAL v24 = mw_mirth_type_TYPEz_PTR();
			VAL v25 = mtw_mirth_elab_OpSig_OPSIGz_PUSH(v24);
			branch_OpSig_9 = v25;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 5LL: { // OpVariable
			uint64_t v26 = mtp_mirth_arrow_Op_OpVariable(in_Op_2);
			VAL v27;
			VAL v28 = mw_mirth_variable_Variable_type(in_ZPlusMirth_1, v26, &v27);
			VAL v29 = mtw_mirth_type_Type_TMut(v28);
			VAL v30 = mtw_mirth_elab_OpSig_OPSIGz_PUSH(v29);
			branch_OpSig_9 = v30;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = v27;
		} break;
		case 10LL: { // OpTag
			uint64_t v31 = mtp_mirth_arrow_Op_OpTag(in_Op_2);
			VAL v32;
			VAL v33 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, v31, &v32);
			VAL v34;
			VAL v35 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v33, &v34);
			VAL v36 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v34);
			branch_OpSig_9 = v36;
			branch_Subst_8 = v35;
			branch_ZPlusMirth_7 = v32;
		} break;
		case 2LL: { // OpWord
			uint64_t v37 = mtp_mirth_arrow_Op_OpWord(in_Op_2);
			int64_t v38 = mw_mirth_word_Word_inferringZ_typeZAsk(v37);
			VAL branch_Subst_39;
			VAL branch_ArrowType_40;
			VAL branch_ZPlusMirth_41;
			if (((bool)v38)) {
				VAL v42;
				VAL v43 = mw_mirth_word_Word_type(v37, in_ZPlusMirth_1, &v42);
				branch_ZPlusMirth_41 = v42;
				branch_ArrowType_40 = v43;
				branch_Subst_39 = v6;
			} else {
				VAL v44;
				VAL v45 = mw_mirth_word_Word_type(v37, in_ZPlusMirth_1, &v44);
				VAL v46;
				VAL v47 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v45, &v46);
				branch_ZPlusMirth_41 = v44;
				branch_ArrowType_40 = v46;
				branch_Subst_39 = v47;
			}
			VAL v48 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(branch_ArrowType_40);
			branch_OpSig_9 = v48;
			branch_Subst_8 = branch_Subst_39;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_41;
		} break;
		case 1LL: { // OpPrim
			int64_t v49 = mtp_mirth_arrow_Op_OpPrim(in_Op_2);
			VAL v50 = mw_mirth_prim_Prim_type(v49);
			VAL v51;
			VAL v52 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v50, &v51);
			VAL v53 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v51);
			branch_OpSig_9 = v53;
			branch_Subst_8 = v52;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 3LL: { // OpExternal
			uint64_t v54 = mtp_mirth_arrow_Op_OpExternal(in_Op_2);
			VAL v55;
			VAL v56 = mw_mirth_external_External_type(in_ZPlusMirth_1, v54, &v55);
			VAL v57;
			VAL v58 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v56, &v57);
			VAL v59 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v57);
			branch_OpSig_9 = v59;
			branch_Subst_8 = v58;
			branch_ZPlusMirth_7 = v55;
		} break;
		case 6LL: { // OpField
			uint64_t v60 = mtp_mirth_arrow_Op_OpField(in_Op_2);
			VAL v61;
			VAL v62 = mw_mirth_table_Field_type(in_ZPlusMirth_1, v60, &v61);
			VAL v63;
			VAL v64 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v62, &v63);
			VAL v65 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v63);
			branch_OpSig_9 = v65;
			branch_Subst_8 = v64;
			branch_ZPlusMirth_7 = v61;
		} break;
		case 14LL: { // OpBlockPush
			uint64_t v66 = mtp_mirth_arrow_Op_OpBlockPush(in_Op_2);
			VAL v67 = mw_mirth_elab_elabZ_blockZ_sigZBang(v66);
			branch_OpSig_9 = v67;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 15LL: { // OpBlockRun
			uint64_t v68 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_2);
			VAL v69 = mw_mirth_arrow_Block_type(v68);
			VAL v70 = mw_mirth_type_ArrowType_semifreshenZ_sig(v69);
			VAL v71 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v70);
			branch_OpSig_9 = v71;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // OpVar
			uint64_t v72 = mtp_mirth_arrow_Op_OpVar(in_Op_2);
			VAL v73 = mw_mirth_elab_elabZ_varZ_sigZBang(v72);
			branch_OpSig_9 = v73;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 11LL: { // OpMatch
			VAL v74 = mtp_mirth_arrow_Op_OpMatch(in_Op_2);
			VAL v75 = mw_mirth_elab_elabZ_matchZ_sigZBang(v74);
			branch_OpSig_9 = v75;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // OpLambda
			VAL v76 = mtp_mirth_arrow_Op_OpLambda(in_Op_2);
			VAL v77 = mw_mirth_elab_elabZ_lambdaZ_sigZBang(v76);
			branch_OpSig_9 = v77;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 16LL: { // OpLabelPush
			uint64_t v78 = mtp_mirth_arrow_Op_OpLabelPush(in_Op_2);
			VAL v79 = mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang(v78);
			branch_OpSig_9 = v79;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 17LL: { // OpLabelPop
			uint64_t v80 = mtp_mirth_arrow_Op_OpLabelPop(in_Op_2);
			VAL v81 = mw_mirth_elab_elabZ_labelZ_popZ_sigZBang(v80);
			branch_OpSig_9 = v81;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 18LL: { // OpLabelPushR
			uint64_t v82 = mtp_mirth_arrow_Op_OpLabelPushR(in_Op_2);
			VAL v83 = mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang(v82);
			branch_OpSig_9 = v83;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 19LL: { // OpLabelPopR
			uint64_t v84 = mtp_mirth_arrow_Op_OpLabelPopR(in_Op_2);
			VAL v85 = mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang(v84);
			branch_OpSig_9 = v85;
			branch_Subst_8 = v6;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 20LL: { // OpDataGetEnumValue
			uint64_t v86 = mtp_mirth_arrow_Op_OpDataGetEnumValue(in_Op_2);
			VAL v87;
			VAL v88 = mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type(in_ZPlusMirth_1, v86, &v87);
			VAL v89;
			VAL v90 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v88, &v89);
			VAL v91 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v89);
			branch_OpSig_9 = v91;
			branch_Subst_8 = v90;
			branch_ZPlusMirth_7 = v87;
		} break;
		case 21LL: { // OpDataFromEnumValue
			uint64_t v92 = mtp_mirth_arrow_Op_OpDataFromEnumValue(in_Op_2);
			VAL v93;
			VAL v94 = mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type(in_ZPlusMirth_1, v92, &v93);
			VAL v95;
			VAL v96 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v94, &v95);
			VAL v97 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v95);
			branch_OpSig_9 = v97;
			branch_Subst_8 = v96;
			branch_ZPlusMirth_7 = v93;
		} break;
		case 22LL: { // OpDataGetLabel
			VAL v98 = mtp_mirth_arrow_Op_OpDataGetLabel(in_Op_2);
			VAL v99;
			VAL v100 = mw_mirth_elab_dataZ_getZ_labelZ_type(in_ZPlusMirth_1, v98, &v99);
			VAL v101;
			VAL v102 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v100, &v101);
			VAL v103 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v101);
			branch_OpSig_9 = v103;
			branch_Subst_8 = v102;
			branch_ZPlusMirth_7 = v99;
		} break;
		case 23LL: { // OpDataSetLabel
			VAL v104 = mtp_mirth_arrow_Op_OpDataSetLabel(in_Op_2);
			VAL v105;
			VAL v106 = mw_mirth_elab_dataZ_setZ_labelZ_type(in_ZPlusMirth_1, v104, &v105);
			VAL v107;
			VAL v108 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v106, &v107);
			VAL v109 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v107);
			branch_OpSig_9 = v109;
			branch_Subst_8 = v108;
			branch_ZPlusMirth_7 = v105;
		} break;
		case 24LL: { // OpTableToIndex
			uint64_t v110 = mtp_mirth_arrow_Op_OpTableToIndex(in_Op_2);
			VAL v111;
			VAL v112 = mw_mirth_elab_tableZ_toZ_indexZ_type(in_ZPlusMirth_1, v110, &v111);
			VAL v113;
			VAL v114 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v112, &v113);
			VAL v115 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v113);
			branch_OpSig_9 = v115;
			branch_Subst_8 = v114;
			branch_ZPlusMirth_7 = v111;
		} break;
		case 25LL: { // OpTableFromIndex
			uint64_t v116 = mtp_mirth_arrow_Op_OpTableFromIndex(in_Op_2);
			VAL v117;
			VAL v118 = mw_mirth_elab_tableZ_fromZ_indexZ_type(in_ZPlusMirth_1, v116, &v117);
			VAL v119;
			VAL v120 = mw_mirth_type_ArrowType_freshenZ_sig(v6, v118, &v119);
			VAL v121 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v119);
			branch_OpSig_9 = v121;
			branch_Subst_8 = v120;
			branch_ZPlusMirth_7 = v117;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_OpSig_5 = branch_OpSig_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Subst_8;
}
static VAL mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, in_Data_2, &v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_ArrowType_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // Left
			VAL v9 = mtp_std_either_Either_2_Left(v6);
			VAL v10 = mw_mirth_type_T1(v9);
			VAL v11 = mw_mirth_type_TYPEz_INT();
			VAL v12 = mw_mirth_type_T1(v11);
			VAL v13 = mw_mirth_type_TZ_ZTo(v10, v12);
			branch_ArrowType_8 = v13;
			branch_ZPlusMirth_7 = v5;
		} break;
		case 1LL: { // Right
			VAL v14 = mtp_std_either_Either_2_Right(v6);
			VAL v15 = mw_mirth_type_T0();
			incref(v14);
			VAL v16 = mw_mirth_type_TZPlus(v15, v14);
			VAL v17 = mw_mirth_type_TYPEz_INT();
			VAL v18 = mw_mirth_type_T1(v17);
			VAL v19 = mw_mirth_type_TZPlus(v18, v14);
			VAL v20 = mw_mirth_type_TZ_ZTo(v16, v19);
			branch_ArrowType_8 = v20;
			branch_ZPlusMirth_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_ArrowType_8;
}
static VAL mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_type_TYPEz_INT();
	VAL v6 = mw_mirth_type_T1(v5);
	VAL v7 = mw_mirth_type_T0();
	VAL v8;
	VAL v9 = mw_mirth_data_Data_fullZ_type(in_ZPlusMirth_1, in_Data_2, &v8);
	VAL v10 = mw_mirth_type_TZMulZPlus(v7, v9);
	VAL v11 = mw_mirth_type_TZ_ZTo(v6, v10);
	*out_ZPlusMirth_3 = v8;
	return v11;
}
static VAL mw_mirth_elab_tableZ_toZ_indexZ_type (VAL in_ZPlusMirth_1, uint64_t in_Table_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = mtw_mirth_type_Type_TTable(in_Table_2);
	VAL v6 = mw_mirth_type_T1(v5);
	VAL v7 = mw_mirth_type_TYPEz_INT();
	VAL v8 = mw_mirth_type_T1(v7);
	VAL v9 = mw_mirth_type_TZ_ZTo(v6, v8);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v9;
}
static VAL mw_mirth_elab_tableZ_fromZ_indexZ_type (VAL in_ZPlusMirth_1, uint64_t in_Table_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = mtw_mirth_type_Type_TTable(in_Table_2);
	VAL v6 = mw_mirth_type_T1(v5);
	VAL v7 = mw_mirth_type_TYPEz_INT();
	VAL v8 = mw_mirth_type_T1(v7);
	VAL v9 = mw_mirth_type_TZ_ZTo(v8, v6);
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
	return v9;
}
static VAL mw_mirth_elab_elabZ_blockZ_sigZBang (uint64_t in_Block_1) {
	VAL v3 = mtw_mirth_type_Value_VALUEz_BLOCK(in_Block_1);
	VAL v4 = mtw_mirth_type_Type_TValue(v3);
	VAL v5 = mtw_mirth_elab_OpSig_OPSIGz_PUSH(v4);
	return v5;
}
static VAL mw_mirth_elab_elabZ_matchZ_sigZBang (VAL in_Match_1) {
	incref(in_Match_1);
	VAL v3 = VTUP(in_Match_1)->cells[5];
	incref(v3);
	decref(in_Match_1);
	VAL v4 = VTUP(in_Match_1)->cells[6];
	incref(v4);
	decref(in_Match_1);
	VAL v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	VAL v6 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v5);
	return v6;
}
static VAL mw_mirth_elab_elabZ_lambdaZ_sigZBang (VAL in_Lambda_1) {
	incref(in_Lambda_1);
	VAL v3 = VTUP(in_Lambda_1)->cells[3];
	incref(v3);
	decref(in_Lambda_1);
	VAL v4 = mw_mirth_arrow_Lambda_cod(in_Lambda_1);
	VAL v5 = mw_mirth_type_TZ_ZTo(v3, v4);
	VAL v6 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v5);
	return v6;
}
static VAL mw_mirth_elab_elabZ_varZ_sigZBang (uint64_t in_Var_1) {
	VAL v3 = mw_mirth_var_Var_autoZ_runZAsk(in_Var_1);
	VAL branch_OpSig_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6 = mw_mirth_type_ArrowType_semifreshenZ_sig(v5);
			VAL v7 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v6);
			branch_OpSig_4 = v7;
		} break;
		case 0LL: { // None
			VAL v8 = mw_mirth_var_Var_type(in_Var_1);
			VAL v9 = mtw_mirth_elab_OpSig_OPSIGz_PUSH(v8);
			branch_OpSig_4 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_OpSig_4;
}
static VAL mw_mirth_elab_elabZ_labelZ_pushZ_sigZBang (uint64_t in_Label_1) {
	uint64_t v3 = mw_mirth_type_MetaVar_newZBang();
	VAL v4 = mtw_mirth_type_StackType_STMeta(v3);
	uint64_t v5 = mw_mirth_type_MetaVar_newZBang();
	VAL v6 = mtw_mirth_type_Type_TMeta(v5);
	incref(v4);
	incref(v6);
	VAL v7 = mtw_mirth_type_StackType_STConsLabel(v4, v6, in_Label_1);
	VAL v8 = mtw_mirth_type_StackType_STCons(v4, v6);
	VAL v9 = mw_mirth_type_TZ_ZTo(v8, v7);
	VAL v10 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v9);
	return v10;
}
static VAL mw_mirth_elab_elabZ_labelZ_popZ_sigZBang (uint64_t in_Label_1) {
	uint64_t v3 = mw_mirth_type_MetaVar_newZBang();
	VAL v4 = mtw_mirth_type_StackType_STMeta(v3);
	uint64_t v5 = mw_mirth_type_MetaVar_newZBang();
	VAL v6 = mtw_mirth_type_Type_TMeta(v5);
	incref(v4);
	incref(v6);
	VAL v7 = mtw_mirth_type_StackType_STConsLabel(v4, v6, in_Label_1);
	VAL v8 = mtw_mirth_type_StackType_STCons(v4, v6);
	VAL v9 = mw_mirth_type_TZ_ZTo(v7, v8);
	VAL v10 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v9);
	return v10;
}
static VAL mw_mirth_elab_elabZ_labelZ_pushZ_rZ_sigZBang (uint64_t in_Label_1) {
	uint64_t v3 = mw_mirth_type_MetaVar_newZBang();
	VAL v4 = mtw_mirth_type_StackType_STMeta(v3);
	uint64_t v5 = mw_mirth_type_MetaVar_newZBang();
	VAL v6 = mtw_mirth_type_Type_TMeta(v5);
	incref(v4);
	incref(v6);
	VAL v7 = mtw_mirth_type_StackType_STWithLabel(v4, v6, in_Label_1);
	VAL v8 = mtw_mirth_type_StackType_STWith(v4, v6);
	VAL v9 = mw_mirth_type_TZ_ZTo(v8, v7);
	VAL v10 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v9);
	return v10;
}
static VAL mw_mirth_elab_elabZ_labelZ_popZ_rZ_sigZBang (uint64_t in_Label_1) {
	uint64_t v3 = mw_mirth_type_MetaVar_newZBang();
	VAL v4 = mtw_mirth_type_StackType_STMeta(v3);
	uint64_t v5 = mw_mirth_type_MetaVar_newZBang();
	VAL v6 = mtw_mirth_type_Type_TMeta(v5);
	incref(v4);
	incref(v6);
	VAL v7 = mtw_mirth_type_StackType_STWithLabel(v4, v6, in_Label_1);
	VAL v8 = mtw_mirth_type_StackType_STWith(v4, v6);
	VAL v9 = mw_mirth_type_TZ_ZTo(v7, v8);
	VAL v10 = mtw_mirth_elab_OpSig_OPSIGz_APPLY(v9);
	return v10;
}
static VAL mw_mirth_elab_elabZ_arrowZ_homZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, VAL in_StackType_4, uint64_t in_Token_5, VAL in_Home_6, VAL *out_ZPlusMirth_7) {
	VAL v9;
	VAL v10 = mw_mirth_elab_elabZ_arrowZ_fwdZBang(in_ZPlusMirth_1, in_Ctx_2, in_StackType_3, in_Token_5, in_Home_6, &v9);
	incref(v10);
	uint64_t v11 = value_u64(VTUP(v10)->cells[3]);
	decref(v10);
	incref(v10);
	VAL v12 = VTUP(v10)->cells[6];
	incref(v12);
	decref(v10);
	VAL v13;
	uint64_t v14;
	VAL v15 = mw_mirth_type_StackType_unifyZBang(v9, v11, v12, in_StackType_4, &v13, &v14);
	mw_mirth_type_ZPlusGamma_rdrop(v14);
	decref(v15);
	*out_ZPlusMirth_7 = v13;
	return v10;
}
static VAL mw_mirth_elab_elabZ_arrowZ_fwdZBang (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, uint64_t in_Token_4, VAL in_Home_5, VAL *out_ZPlusMirth_6) {
	VAL v8;
	VAL v9 = mw_mirth_elab_abZ_buildZBang_1_sp33(in_ZPlusMirth_1, in_Ctx_2, in_StackType_3, in_Token_4, in_Home_5, &v8);
	*out_ZPlusMirth_6 = v8;
	return v9;
}
static void mw_mirth_elab_elabZ_atomsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	VAL v5;
	uint64_t v6 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	int64_t v7 = mw_mirth_token_Token_runZ_endZAsk(v6);
	bool v8 = !((bool)v7);
	VAL v9 = in_ZPlusMirth_1;
	VAL v10 = v5;
	bool v11 = v8;
	while (v11) {
		VAL v12 = v9;
		VAL v13 = v10;
		VAL v14;
		VAL v15;
		mw_mirth_elab_elabZ_atomZBang(v12, v13, &v14, &v15);
		VAL v16;
		uint64_t v17 = mw_mirth_elab_abZ_tokenZAt(v15, &v16);
		uint64_t v18 = mw_mirth_token_Token_next(v17);
		VAL v19;
		mw_mirth_elab_abZ_tokenZBang(v16, v18, &v19);
		VAL v20;
		uint64_t v21 = mw_mirth_elab_abZ_tokenZAt(v19, &v20);
		int64_t v22 = mw_mirth_token_Token_runZ_endZAsk(v21);
		bool v23 = !((bool)v22);
		v11 = v23;
		v10 = v20;
		v9 = v14;
	}
	*out_ZPlusAB_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_elab_elabZ_atomZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	VAL v5;
	uint64_t v6 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	VAL v7 = mw_mirth_token_Token_value(v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusAB_9;
	switch (get_data_tag(v7)) {
		case 17LL: { // TokenName
			uint64_t v10 = mtp_mirth_token_TokenValue_TokenName(v7);
			VAL v11;
			VAL v12;
			mw_mirth_elab_elabZ_atomZ_nameZBang(v10, in_ZPlusMirth_1, v5, &v11, &v12);
			branch_ZPlusAB_9 = v12;
			branch_ZPlusMirth_8 = v11;
		} break;
		case 18LL: { // TokenDName
			VAL v13 = mtp_mirth_token_TokenValue_TokenDName(v7);
			VAL v14;
			VAL v15;
			mw_mirth_elab_elabZ_atomZ_dnameZBang(v13, in_ZPlusMirth_1, v5, &v14, &v15);
			branch_ZPlusAB_9 = v15;
			branch_ZPlusMirth_8 = v14;
		} break;
		case 14LL: { // TokenInt
			int64_t v16 = mtp_mirth_token_TokenValue_TokenInt(v7);
			VAL v17;
			VAL v18;
			mw_mirth_elab_abZ_intZBang(v16, in_ZPlusMirth_1, v5, &v17, &v18);
			branch_ZPlusAB_9 = v18;
			branch_ZPlusMirth_8 = v17;
		} break;
		case 16LL: { // TokenStr
			VAL v19 = mtp_mirth_token_TokenValue_TokenStr(v7);
			VAL v20;
			VAL v21;
			mw_mirth_elab_abZ_strZBang(v19, in_ZPlusMirth_1, v5, &v20, &v21);
			branch_ZPlusAB_9 = v21;
			branch_ZPlusMirth_8 = v20;
		} break;
		case 15LL: { // TokenF64
			double v22 = mtp_mirth_token_TokenValue_TokenF64(v7);
			VAL v23;
			VAL v24;
			mw_mirth_elab_abZ_f64ZBang(v22, in_ZPlusMirth_1, v5, &v23, &v24);
			branch_ZPlusAB_9 = v24;
			branch_ZPlusMirth_8 = v23;
		} break;
		case 8LL: { // TokenLSquare
			uint64_t v25 = mtp_mirth_token_TokenValue_TokenLSquare(v7);
			VAL v26;
			VAL v27;
			mw_mirth_elab_elabZ_atomZ_blockZBang(in_ZPlusMirth_1, v5, &v26, &v27);
			branch_ZPlusAB_9 = v27;
			branch_ZPlusMirth_8 = v26;
		} break;
		case 10LL: { // TokenLCurly
			uint64_t v28 = mtp_mirth_token_TokenValue_TokenLCurly(v7);
			VAL v29;
			VAL v30;
			mw_mirth_elab_elabZ_atomZ_assertZBang(in_ZPlusMirth_1, v5, &v29, &v30);
			branch_ZPlusAB_9 = v30;
			branch_ZPlusMirth_8 = v29;
		} break;
		case 20LL: { // TokenLabelPush
			uint64_t v31 = mtp_mirth_token_TokenValue_TokenLabelPush(v7);
			VAL v32;
			uint64_t v33 = mw_mirth_elab_abZ_tokenZAt(v5, &v32);
			VAL v34;
			mw_mirth_token_Token_argsZ_0(v33, in_ZPlusMirth_1, &v34);
			VAL v35;
			VAL v36;
			mw_mirth_elab_abZ_labelZ_pushZBang(v31, v34, v32, &v35, &v36);
			branch_ZPlusAB_9 = v36;
			branch_ZPlusMirth_8 = v35;
		} break;
		case 19LL: { // TokenLabelPop
			uint64_t v37 = mtp_mirth_token_TokenValue_TokenLabelPop(v7);
			VAL v38;
			uint64_t v39 = mw_mirth_elab_abZ_tokenZAt(v5, &v38);
			VAL v40;
			mw_mirth_token_Token_argsZ_0(v39, in_ZPlusMirth_1, &v40);
			VAL v41;
			VAL v42;
			mw_mirth_elab_abZ_labelZ_popZBang(v37, v40, v38, &v41, &v42);
			branch_ZPlusAB_9 = v42;
			branch_ZPlusMirth_8 = v41;
		} break;
		case 22LL: { // TokenLabelPushR
			uint64_t v43 = mtp_mirth_token_TokenValue_TokenLabelPushR(v7);
			VAL v44;
			uint64_t v45 = mw_mirth_elab_abZ_tokenZAt(v5, &v44);
			VAL v46;
			mw_mirth_token_Token_argsZ_0(v45, in_ZPlusMirth_1, &v46);
			VAL v47;
			VAL v48;
			mw_mirth_elab_abZ_labelZ_pushZ_rZBang(v43, v46, v44, &v47, &v48);
			branch_ZPlusAB_9 = v48;
			branch_ZPlusMirth_8 = v47;
		} break;
		case 21LL: { // TokenLabelPopR
			uint64_t v49 = mtp_mirth_token_TokenValue_TokenLabelPopR(v7);
			VAL v50;
			uint64_t v51 = mw_mirth_elab_abZ_tokenZAt(v5, &v50);
			VAL v52;
			mw_mirth_token_Token_argsZ_0(v51, in_ZPlusMirth_1, &v52);
			VAL v53;
			VAL v54;
			mw_mirth_elab_abZ_labelZ_popZ_rZBang(v49, v52, v50, &v53, &v54);
			branch_ZPlusAB_9 = v54;
			branch_ZPlusMirth_8 = v53;
		} break;
		case 23LL: { // TokenLabelGet
			uint64_t v55 = mtp_mirth_token_TokenValue_TokenLabelGet(v7);
			VAL v56;
			VAL v57;
			mw_mirth_elab_elabZ_labelZ_getZBang(v55, in_ZPlusMirth_1, v5, &v56, &v57);
			branch_ZPlusAB_9 = v57;
			branch_ZPlusMirth_8 = v56;
		} break;
		case 24LL: { // TokenLabelSet
			uint64_t v58 = mtp_mirth_token_TokenValue_TokenLabelSet(v7);
			VAL v59;
			VAL v60;
			mw_mirth_elab_elabZ_labelZ_setZBang(v58, in_ZPlusMirth_1, v5, &v59, &v60);
			branch_ZPlusAB_9 = v60;
			branch_ZPlusMirth_8 = v59;
		} break;
		default: {
			VAL v61;
			uint64_t v62 = mw_mirth_elab_abZ_tokenZAt(v5, &v61);
			STR* v63;
			STRLIT(v63, "Unexpected token in elab-atom!", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v62, MKSTR(v63), in_ZPlusMirth_1);
		} break;
	}
	*out_ZPlusAB_4 = branch_ZPlusAB_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_8;
}
static void mw_mirth_elab_elabZ_labelZ_getZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	int64_t v6 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_Label_1);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusAB_8;
	if (((bool)v6)) {
		VAL v9;
		VAL v10;
		mw_mirth_elab_abZ_labelZ_popZ_rZBang(in_Label_1, in_ZPlusMirth_2, in_ZPlusAB_3, &v9, &v10);
		VAL v11;
		uint64_t v12 = mw_mirth_elab_abZ_tokenZAt(v10, &v11);
		VAL v13;
		uint64_t v14 = mw_mirth_token_Token_argsZ_1(v12, v9, &v13);
		VAL v15;
		mw_mirth_elab_abZ_tokenZBang(v11, v14, &v15);
		VAL v16;
		VAL v17;
		mw_mirth_elab_elabZ_atomsZBang(v13, v15, &v16, &v17);
		VAL v18;
		mw_mirth_elab_abZ_tokenZBang(v17, v12, &v18);
		VAL v19;
		VAL v20;
		mw_mirth_elab_abZ_labelZ_pushZ_rZBang(in_Label_1, v16, v18, &v19, &v20);
		branch_ZPlusAB_8 = v20;
		branch_ZPlusMirth_7 = v19;
	} else {
		VAL v21;
		VAL v22;
		mw_mirth_elab_abZ_labelZ_popZBang(in_Label_1, in_ZPlusMirth_2, in_ZPlusAB_3, &v21, &v22);
		VAL v23;
		uint64_t v24 = mw_mirth_elab_abZ_tokenZAt(v22, &v23);
		int64_t v25 = mw_mirth_token_Token_numZ_args(v24);
		int64_t v26 = 0LL;
		bool v27 = (v25 == v26);
		uint64_t branch_Label_28;
		VAL branch_ZPlusMirth_29;
		VAL branch_ZPlusAB_30;
		if (v27) {
			int64_t v31 = 1LL /* PRIM_CORE_DUP */;
			VAL v32;
			VAL v33;
			mw_mirth_elab_abZ_primZBang(v31, v21, v23, &v32, &v33);
			branch_ZPlusAB_30 = v33;
			branch_ZPlusMirth_29 = v32;
			branch_Label_28 = in_Label_1;
		} else {
			VAL v34;
			uint64_t v35 = mw_mirth_elab_abZ_tokenZAt(v23, &v34);
			VAL v36;
			uint64_t v37 = mw_mirth_token_Token_argsZ_1(v35, v21, &v36);
			VAL v38;
			mw_mirth_elab_abZ_tokenZBang(v34, v37, &v38);
			VAL v39;
			VAL v40;
			mw_mirth_elab_elabZ_atomsZBang(v36, v38, &v39, &v40);
			VAL v41;
			mw_mirth_elab_abZ_tokenZBang(v40, v35, &v41);
			branch_ZPlusAB_30 = v41;
			branch_ZPlusMirth_29 = v39;
			branch_Label_28 = in_Label_1;
		}
		VAL v42;
		VAL v43;
		mw_mirth_elab_abZ_labelZ_pushZBang(branch_Label_28, branch_ZPlusMirth_29, branch_ZPlusAB_30, &v42, &v43);
		branch_ZPlusAB_8 = v43;
		branch_ZPlusMirth_7 = v42;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_elab_elabZ_labelZ_setZBang (uint64_t in_Label_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6;
	uint64_t v7 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_3, &v6);
	VAL v8;
	mw_mirth_token_Token_argsZ_0(v7, in_ZPlusMirth_2, &v8);
	VAL v9;
	VAL v10;
	mw_mirth_elab_abZ_labelZ_popZBang(in_Label_1, v8, v6, &v9, &v10);
	int64_t v11 = 2LL /* PRIM_CORE_DROP */;
	VAL v12;
	VAL v13;
	mw_mirth_elab_abZ_primZBang(v11, v9, v10, &v12, &v13);
	VAL v14;
	VAL v15;
	mw_mirth_elab_abZ_labelZ_pushZBang(in_Label_1, v12, v13, &v14, &v15);
	*out_ZPlusAB_5 = v15;
	*out_ZPlusMirth_4 = v14;
}
static void mw_mirth_elab_elabZ_atomZ_blockZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	VAL v5;
	uint64_t v6 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	VAL v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(v6, in_ZPlusMirth_1, &v7);
	VAL v9;
	VAL v10;
	mw_mirth_elab_elabZ_blockZ_atZBang(v8, v7, v5, &v9, &v10);
	*out_ZPlusAB_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_elab_elabZ_blockZ_atZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6;
	VAL v7 = mw_mirth_elab_abZ_ctxZAt(in_ZPlusAB_3, &v6);
	VAL v8;
	VAL v9 = mw_mirth_elab_abZ_homeZAt(v6, &v8);
	uint64_t v10 = mw_mirth_arrow_Block_allocZBang();
	void* v11 = mfld_mirth_arrow_Block_ZTildehome(v10);
	mut_set(v9, v11);
	mw_mirth_arrow_Block_registerZ_homeZBang(v10);
	void* v12 = mfld_mirth_arrow_Block_ZTildetoken(v10);
	mut_set(MKU64(in_Token_1), v12);
	void* v13 = mfld_mirth_arrow_Block_ZTildectx(v10);
	mut_set(v7, v13);
	uint64_t v14 = mw_mirth_type_MetaVar_newZBang();
	VAL v15 = mtw_mirth_type_StackType_STMeta(v14);
	void* v16 = mfld_mirth_arrow_Block_ZTildedom(v10);
	mut_set(v15, v16);
	uint64_t v17 = mw_mirth_type_MetaVar_newZBang();
	VAL v18 = mtw_mirth_type_StackType_STMeta(v17);
	void* v19 = mfld_mirth_arrow_Block_ZTildecod(v10);
	mut_set(v18, v19);
	VAL v20 = mtw_mirth_mirth_PropLabel_BlockArrow(v10);
	FNPTR v21 = &mb_mirth_mirth_PropLabel_prop_1_sp21_0;
	VAL v22 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(v10), MKFNPTR(v21));
	VAL v23 = mtw_mirth_mirth_Prop_1_Prop(v20, v22);
	void* v24 = mfld_mirth_arrow_Block_ZTildearrow(v10);
	mut_set(v23, v24);
	VAL v25 = mtw_mirth_arrow_Op_OpBlockPush(v10);
	VAL v26;
	VAL v27;
	mw_mirth_elab_abZ_opZBang(v25, in_ZPlusMirth_2, v8, &v26, &v27);
	*out_ZPlusAB_5 = v27;
	*out_ZPlusMirth_4 = v26;
}
static void mw_mirth_elab_elabZ_argsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	VAL v5;
	uint64_t v6 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	VAL v7 = mw_mirth_token_Token_args(v6);
	int64_t v8 = 1LL /* True */;
	VAL v9 = in_ZPlusMirth_1;
	VAL v10 = v5;
	VAL v11 = v7;
	int64_t v12 = v8;
	int64_t v13 = v8;
	while (((bool)v13)) {
		VAL v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		int64_t v17 = v12;
		VAL branch_ZPlusMirth_18;
		VAL branch_ZPlusAB_19;
		VAL branch_List_20;
		int64_t branch_Bool_21;
		switch (get_data_tag(v16)) {
			case 1LL: { // Cons
				VAL v22;
				VAL v23 = mtp_std_list_List_1_Cons(v16, &v22);
				VAL v24;
				VAL v25;
				mw_mirth_elab_elabZ_blockZ_atZBang(value_u64(v23), v14, v15, &v24, &v25);
				int64_t v26 = 1LL /* True */;
				branch_Bool_21 = v26;
				branch_List_20 = v22;
				branch_ZPlusAB_19 = v25;
				branch_ZPlusMirth_18 = v24;
			} break;
			case 0LL: { // Nil
				VAL v27 = MKI64(0LL /* Nil */);
				int64_t v28 = 0LL /* False */;
				branch_Bool_21 = v28;
				branch_List_20 = v27;
				branch_ZPlusAB_19 = v15;
				branch_ZPlusMirth_18 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_21;
		v12 = branch_Bool_21;
		v11 = branch_List_20;
		v10 = branch_ZPlusAB_19;
		v9 = branch_ZPlusMirth_18;
	}
	decref(v11);
	*out_ZPlusAB_4 = v10;
	*out_ZPlusMirth_3 = v9;
}
static void mw_mirth_elab_elabZ_noZ_argsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	VAL v5;
	uint64_t v6 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	VAL v7;
	mw_mirth_token_Token_argsZ_0(v6, in_ZPlusMirth_1, &v7);
	*out_ZPlusAB_4 = v5;
	*out_ZPlusMirth_3 = v7;
}
static int64_t mw_mirth_elab_arityZ_compatibleZAsk (int64_t in_Int_1, int64_t in_Int_2) {
	int64_t v4 = -1LL;
	bool v5 = (in_Int_2 == v4);
	bool v6 = (in_Int_1 == in_Int_2);
	bool v7 = (v6 || v5);
	return ((int64_t)v7);
}
static void mw_mirth_elab_elabZ_atomZ_nameZBang (uint64_t in_Name_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6;
	VAL v7 = mw_mirth_elab_abZ_ctxZAt(in_ZPlusAB_3, &v6);
	VAL v8 = mw_mirth_var_Ctx_lookup(in_Name_1, v7);
	VAL branch_ZPlusMirth_9;
	VAL branch_ZPlusAB_10;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v12;
			VAL v13;
			mw_mirth_elab_elabZ_argsZBang(in_ZPlusMirth_2, v6, &v12, &v13);
			VAL v14;
			VAL v15;
			mw_mirth_elab_abZ_varZBang(value_u64(v11), v12, v13, &v14, &v15);
			branch_ZPlusAB_10 = v15;
			branch_ZPlusMirth_9 = v14;
		} break;
		case 0LL: { // None
			VAL v16 = mtw_std_either_Either_2_Left(MKU64(in_Name_1));
			VAL v17;
			VAL v18;
			mw_mirth_elab_elabZ_atomZ_resolveZ_defZBang(in_ZPlusMirth_2, v6, v16, &v17, &v18);
			branch_ZPlusAB_10 = v18;
			branch_ZPlusMirth_9 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_10;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
}
static void mw_mirth_elab_elabZ_atomZ_dnameZBang (VAL in_DName_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6 = mtw_std_either_Either_2_Right(in_DName_1);
	VAL v7;
	VAL v8;
	mw_mirth_elab_elabZ_atomZ_resolveZ_defZBang(in_ZPlusMirth_2, in_ZPlusAB_3, v6, &v7, &v8);
	*out_ZPlusAB_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static int64_t mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk (uint64_t in_Token_1) {
	VAL v3 = mw_mirth_token_Token_value(in_Token_1);
	int64_t branch_Bool_4;
	switch (get_data_tag(v3)) {
		case 17LL: { // TokenName
			uint64_t v5 = mtp_mirth_token_TokenValue_TokenName(v3);
			int64_t v6 = mw_mirth_name_Name_canZ_beZ_relativeZAsk(v5);
			branch_Bool_4 = v6;
		} break;
		case 18LL: { // TokenDName
			VAL v7 = mtp_mirth_token_TokenValue_TokenDName(v3);
			int64_t v8 = mw_mirth_name_DName_isZ_relativeZAsk(v7);
			branch_Bool_4 = v8;
		} break;
		default: {
			decref(v3);
			int64_t v9 = 0LL /* False */;
			branch_Bool_4 = v9;
		} break;
	}
	return branch_Bool_4;
}
static void mw_mirth_elab_elabZ_atomZ_resolveZ_defZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL in_Either_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6;
	VAL v7 = mw_mirth_elab_abZ_typeZAt(in_ZPlusAB_2, &v6);
	int64_t v8 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v7);
	bool v9 = !((bool)v8);
	VAL v10;
	uint64_t v11 = mw_mirth_elab_abZ_tokenZAt(v6, &v10);
	STR* v12;
	STRLIT(v12, "word", 4);
	int64_t v13 = 0LL /* False */;
	VAL v14;
	VAL v15;
	mw_mirth_elab_resolveZ_defZ_beginZBang(MKSTR(v12), v11, in_Either_3, v13, ((int64_t)v9), in_ZPlusMirth_1, &v14, &v15);
	VAL v16 = VTUP(v15)->cells[4];
	incref(v16);
	VAL v17 = MKI64(0LL /* Nil */);
	VAL v18 = MKI64(0LL /* Nil */);
	int64_t v19 = 1LL /* True */;
	VAL v20 = v14;
	VAL v21 = v15;
	VAL v22 = v17;
	VAL v23 = v18;
	VAL v24 = v16;
	int64_t v25 = v19;
	int64_t v26 = v19;
	while (((bool)v26)) {
		VAL v27 = v20;
		VAL v28 = v21;
		VAL v29 = v22;
		VAL v30 = v23;
		VAL v31 = v24;
		int64_t v32 = v25;
		VAL branch_ZPlusMirth_33;
		VAL branch_z_x1_34;
		VAL branch_List_35;
		VAL branch_List_36;
		VAL branch_List_37;
		int64_t branch_Bool_38;
		switch (get_data_tag(v31)) {
			case 1LL: { // Cons
				VAL v39;
				VAL v40 = mtp_std_list_List_1_Cons(v31, &v39);
				incref(v40);
				VAL v41;
				int64_t v42 = mw_mirth_def_Def_callableZAsk(v27, v40, &v41);
				VAL branch_ZPlusMirth_43;
				VAL branch_z_x1_44;
				VAL branch_Either_45;
				if (((bool)v42)) {
					VAL v46 = mtw_std_either_Either_2_Right(v40);
					branch_Either_45 = v46;
					branch_z_x1_44 = v28;
					branch_ZPlusMirth_43 = v41;
				} else {
					VAL v47 = mtw_mirth_elab_RejectedDef_RDz_WRONGz_SORT(v40);
					VAL v48 = mtw_std_either_Either_2_Left(v47);
					branch_Either_45 = v48;
					branch_z_x1_44 = v28;
					branch_ZPlusMirth_43 = v41;
				}
				VAL branch_ZPlusMirth_49;
				VAL branch_z_x1_50;
				VAL branch_List_51;
				VAL branch_List_52;
				switch (get_data_tag(branch_Either_45)) {
					case 0LL: { // Left
						VAL v53 = mtp_std_either_Either_2_Left(branch_Either_45);
						VAL v54 = mtw_std_list_List_1_Cons(v53, v29);
						branch_List_52 = v30;
						branch_List_51 = v54;
						branch_z_x1_50 = branch_z_x1_44;
						branch_ZPlusMirth_49 = branch_ZPlusMirth_43;
					} break;
					case 1LL: { // Right
						VAL v55 = mtp_std_either_Either_2_Right(branch_Either_45);
						VAL v56 = mtw_std_list_List_1_Cons(v55, v30);
						branch_List_52 = v56;
						branch_List_51 = v29;
						branch_z_x1_50 = branch_z_x1_44;
						branch_ZPlusMirth_49 = branch_ZPlusMirth_43;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v57 = 1LL /* True */;
				branch_Bool_38 = v57;
				branch_List_37 = v39;
				branch_List_36 = branch_List_52;
				branch_List_35 = branch_List_51;
				branch_z_x1_34 = branch_z_x1_50;
				branch_ZPlusMirth_33 = branch_ZPlusMirth_49;
			} break;
			case 0LL: { // Nil
				VAL v58 = MKI64(0LL /* Nil */);
				int64_t v59 = 0LL /* False */;
				branch_Bool_38 = v59;
				branch_List_37 = v58;
				branch_List_36 = v30;
				branch_List_35 = v29;
				branch_z_x1_34 = v28;
				branch_ZPlusMirth_33 = v27;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v26 = branch_Bool_38;
		v25 = branch_Bool_38;
		v24 = branch_List_37;
		v23 = branch_List_36;
		v22 = branch_List_35;
		v21 = branch_z_x1_34;
		v20 = branch_ZPlusMirth_33;
	}
	decref(v24);
	VAL v60 = mw_std_list_List_1_reverse(v22);
	VAL v61 = mw_std_list_List_1_reverse(v23);
	VAL v62 = VTUP(v21)->cells[5];
	incref(v62);
	VAL v63 = mw_std_list_List_1_cat(v60, v62);
	VAL v64 = VTUP(v21)->cells[5];
	decref(v64);
	VTUP(v21)->cells[5] = v63;
	VAL v65 = VTUP(v21)->cells[4];
	decref(v65);
	VTUP(v21)->cells[4] = v61;
	VAL v66;
	VAL v67;
	mw_mirth_elab_ZPlusResolveDef_filterZ_arity(v20, v21, &v66, &v67);
	VAL v68;
	VAL v69;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v66, v67, &v68, &v69);
	uint64_t v70 = value_u64(VTUP(v69)->cells[2]);
	int64_t v71 = mw_mirth_token_Token_canZ_beZ_relativeZ_nameZ_orZ_dnameZAsk(v70);
	VAL branch_ZPlusMirth_72;
	VAL branch_ZPlusResolveDef_73;
	VAL branch_ZPlusAB_74;
	if (((bool)v71)) {
		VAL v75;
		VAL v76 = mw_mirth_elab_abZ_typeZAt(v10, &v75);
		int64_t v77 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v76);
		VAL branch_ZPlusAB_78;
		VAL branch_ZPlusMirth_79;
		VAL branch_ZPlusResolveDef_80;
		if (((bool)v77)) {
			VAL v81;
			VAL v82 = mw_mirth_elab_abZ_typeZAt(v75, &v81);
			VAL v83 = mw_mirth_type_StackType_topZ_namespaces(v82);
			VAL v84;
			VAL v85;
			mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v83, v68, v69, &v84, &v85);
			branch_ZPlusResolveDef_80 = v85;
			branch_ZPlusMirth_79 = v84;
			branch_ZPlusAB_78 = v81;
		} else {
			branch_ZPlusResolveDef_80 = v69;
			branch_ZPlusMirth_79 = v68;
			branch_ZPlusAB_78 = v75;
		}
		branch_ZPlusAB_74 = branch_ZPlusAB_78;
		branch_ZPlusResolveDef_73 = branch_ZPlusResolveDef_80;
		branch_ZPlusMirth_72 = branch_ZPlusMirth_79;
	} else {
		VAL v86 = MKI64(0LL /* Nil */);
		VAL v87;
		VAL v88;
		mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v86, v68, v69, &v87, &v88);
		branch_ZPlusAB_74 = v10;
		branch_ZPlusResolveDef_73 = v88;
		branch_ZPlusMirth_72 = v87;
	}
	VAL v89;
	VAL v90 = mw_mirth_elab_resolveZ_defZ_endZBang(branch_ZPlusMirth_72, branch_ZPlusResolveDef_73, &v89);
	VAL branch_ZPlusMirth_91;
	VAL branch_ZPlusAB_92;
	switch (get_data_tag(v90)) {
		case 0LL: { // None
			VAL v93;
			VAL v94;
			mw_mirth_elab_elabZ_atomZ_failedZBang(v89, branch_ZPlusAB_74, &v93, &v94);
			branch_ZPlusAB_92 = v94;
			branch_ZPlusMirth_91 = v93;
		} break;
		case 1LL: { // Some
			VAL v95 = mtp_std_maybe_Maybe_1_Some(v90);
			VAL v96;
			VAL v97;
			mw_mirth_elab_elabZ_atomZ_defZBang(v95, v89, branch_ZPlusAB_74, &v96, &v97);
			branch_ZPlusAB_92 = v97;
			branch_ZPlusMirth_91 = v96;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_92;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_91;
}
static void mw_mirth_elab_elabZ_atomZ_failedZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	VAL v5 = MKI64(0LL /* STACK_TYPE_ERROR */);
	VAL v6;
	mw_mirth_elab_abZ_typeZBang(in_ZPlusAB_2, v5, &v6);
	*out_ZPlusAB_4 = v6;
	*out_ZPlusMirth_3 = in_ZPlusMirth_1;
}
static void mw_mirth_elab_elabZ_atomZ_defZBang (VAL in_Def_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL branch_ZPlusMirth_6;
	VAL branch_ZPlusAB_7;
	switch (get_data_tag(in_Def_1)) {
		case 0LL: { // DefAlias
			uint64_t v8 = mtp_mirth_def_Def_DefAlias(in_Def_1);
			VAL v9;
			VAL v10 = mw_mirth_alias_Alias_target(in_ZPlusMirth_2, v8, &v9);
			VAL v11;
			VAL v12;
			mw_mirth_elab_elabZ_atomZ_defZBang(v10, v9, in_ZPlusAB_3, &v11, &v12);
			branch_ZPlusAB_7 = v12;
			branch_ZPlusMirth_6 = v11;
		} break;
		case 9LL: { // DefBuffer
			uint64_t v13 = mtp_mirth_def_Def_DefBuffer(in_Def_1);
			VAL v14;
			VAL v15;
			mw_mirth_elab_elabZ_noZ_argsZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v14, &v15);
			VAL v16;
			VAL v17;
			mw_mirth_elab_abZ_bufferZBang(v13, v14, v15, &v16, &v17);
			branch_ZPlusAB_7 = v17;
			branch_ZPlusMirth_6 = v16;
		} break;
		case 10LL: { // DefVariable
			uint64_t v18 = mtp_mirth_def_Def_DefVariable(in_Def_1);
			VAL v19;
			VAL v20;
			mw_mirth_elab_elabZ_noZ_argsZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v19, &v20);
			VAL v21;
			VAL v22;
			mw_mirth_elab_abZ_variableZBang(v18, v19, v20, &v21, &v22);
			branch_ZPlusAB_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		case 11LL: { // DefExternal
			uint64_t v23 = mtp_mirth_def_Def_DefExternal(in_Def_1);
			VAL v24;
			VAL v25;
			mw_mirth_elab_elabZ_noZ_argsZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v24, &v25);
			VAL v26;
			VAL v27;
			mw_mirth_elab_abZ_externalZBang(v23, v24, v25, &v26, &v27);
			branch_ZPlusAB_7 = v27;
			branch_ZPlusMirth_6 = v26;
		} break;
		case 12LL: { // DefField
			uint64_t v28 = mtp_mirth_def_Def_DefField(in_Def_1);
			VAL v29;
			VAL v30;
			mw_mirth_elab_elabZ_noZ_argsZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v29, &v30);
			VAL v31;
			VAL v32;
			mw_mirth_elab_abZ_fieldZBang(v28, v29, v30, &v31, &v32);
			branch_ZPlusAB_7 = v32;
			branch_ZPlusMirth_6 = v31;
		} break;
		case 8LL: { // DefWord
			uint64_t v33 = mtp_mirth_def_Def_DefWord(in_Def_1);
			VAL v34;
			VAL v35;
			mw_mirth_elab_elabZ_argsZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v34, &v35);
			VAL v36;
			VAL v37;
			mw_mirth_elab_abZ_wordZBang(v33, v34, v35, &v36, &v37);
			branch_ZPlusAB_7 = v37;
			branch_ZPlusMirth_6 = v36;
		} break;
		case 6LL: { // DefTag
			uint64_t v38 = mtp_mirth_def_Def_DefTag(in_Def_1);
			VAL v39;
			VAL v40;
			mw_mirth_elab_elabZ_argsZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v39, &v40);
			VAL v41;
			VAL v42;
			mw_mirth_elab_abZ_tagZBang(v38, v39, v40, &v41, &v42);
			branch_ZPlusAB_7 = v42;
			branch_ZPlusMirth_6 = v41;
		} break;
		case 7LL: { // DefPrim
			int64_t v43 = mtp_mirth_def_Def_DefPrim(in_Def_1);
			VAL v44;
			VAL v45;
			mw_mirth_elab_elabZ_primZBang(v43, in_ZPlusMirth_2, in_ZPlusAB_3, &v44, &v45);
			branch_ZPlusAB_7 = v45;
			branch_ZPlusMirth_6 = v44;
		} break;
		default: {
			VAL v46;
			VAL v47 = mw_mirth_def_Def_qnameZ_hard(in_ZPlusMirth_2, in_Def_1, &v46);
			VAL v48;
			VAL v49;
			mw_mirth_elab_elabZ_atomZ_notZ_aZ_wordZBang(v47, v46, in_ZPlusAB_3, &v48, &v49);
			branch_ZPlusAB_7 = v49;
			branch_ZPlusMirth_6 = v48;
		} break;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_elab_elabZ_atomZ_notZ_aZ_wordZBang (VAL in_QName_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL v6;
	VAL v7 = mw_mirth_elab_abZ_typeZAt(in_ZPlusAB_3, &v6);
	int64_t v8 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v7);
	VAL branch_ZPlusMirth_9;
	VAL branch_ZPlusAB_10;
	if (((bool)v8)) {
		VAL v11;
		uint64_t v12 = mw_mirth_elab_abZ_tokenZAt(v6, &v11);
		STR* v13;
		STRLIT(v13, "Not a word: ", 12);
		VAL v14;
		VAL v15 = mw_mirth_name_QName_ZToStr(in_ZPlusMirth_2, in_QName_1, &v14);
		STR* v16 = str_cat(v13, value_str(v15));
		VAL v17;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v12, MKSTR(v16), v14, &v17);
		branch_ZPlusAB_10 = v11;
		branch_ZPlusMirth_9 = v17;
	} else {
		decref(in_QName_1);
		branch_ZPlusAB_10 = v6;
		branch_ZPlusMirth_9 = in_ZPlusMirth_2;
	}
	VAL v18;
	VAL v19;
	mw_mirth_elab_elabZ_atomZ_failedZBang(branch_ZPlusMirth_9, branch_ZPlusAB_10, &v18, &v19);
	*out_ZPlusAB_5 = v19;
	*out_ZPlusMirth_4 = v18;
}
static void mw_mirth_elab_elabZ_primZBang (int64_t in_Prim_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusAB_5) {
	VAL branch_ZPlusMirth_6;
	VAL branch_ZPlusAB_7;
	switch (in_Prim_1) {
		case 12LL: { // PRIM_CORE_MATCH
			VAL v8;
			VAL v9;
			mw_mirth_elab_elabZ_atomZ_matchZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v8, &v9);
			branch_ZPlusAB_7 = v9;
			branch_ZPlusMirth_6 = v8;
		} break;
		case 13LL: { // PRIM_CORE_LAMBDA
			VAL v10;
			VAL v11;
			mw_mirth_elab_elabZ_atomZ_lambdaZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v10, &v11);
			branch_ZPlusAB_7 = v11;
			branch_ZPlusMirth_6 = v10;
		} break;
		default: {
			VAL v12;
			VAL v13;
			mw_mirth_elab_elabZ_argsZBang(in_ZPlusMirth_2, in_ZPlusAB_3, &v12, &v13);
			VAL v14;
			VAL v15;
			mw_mirth_elab_abZ_primZBang(in_Prim_1, v12, v13, &v14, &v15);
			branch_ZPlusAB_7 = v15;
			branch_ZPlusMirth_6 = v14;
		} break;
	}
	*out_ZPlusAB_5 = branch_ZPlusAB_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_elab_elabZ_atomZ_assertZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	VAL v5;
	uint64_t v6 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	VAL v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(v6, in_ZPlusMirth_1, &v7);
	VAL v9;
	VAL v10 = mw_mirth_elab_abZ_ctxZAt(v5, &v9);
	int64_t v11 = 1LL /* True */;
	int64_t v12 = 0LL /* False */;
	VAL v13;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v10, v8, v11, v12, &v13);
	VAL v14;
	VAL v15;
	VAL v16 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZBang(v7, v13, &v14, &v15);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v15);
	VAL v17;
	VAL v18 = mw_mirth_elab_abZ_typeZAt(v9, &v17);
	VAL v19;
	VAL v20;
	VAL v21 = mw_mirth_elab_ZPlusAB_gamma_1_sp1(v14, v18, v16, v17, &v19, &v20);
	decref(v21);
	*out_ZPlusAB_4 = v20;
	*out_ZPlusMirth_3 = v19;
}
static void mw_mirth_elab_elabZ_atomZ_matchZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	uint64_t v5 = mw_mirth_type_MetaVar_newZBang();
	VAL v6 = mtw_mirth_type_StackType_STMeta(v5);
	VAL v7;
	uint64_t v8 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_2, &v7);
	uint64_t v9 = mw_mirth_token_Token_succ(v8);
	VAL v10 = mw_mirth_token_Token_lcurlyZAsk(v9);
	int64_t v11 = get_data_tag(v10);
	decref(v10);
	int64_t v12 = 1LL;
	bool v13 = (v11 == v12);
	VAL branch_ZPlusMirth_14;
	uint64_t branch_Token_15;
	VAL branch_ZPlusAB_16;
	if (v13) {
		VAL v17;
		uint64_t v18 = mw_mirth_elab_abZ_tokenZAt(v7, &v17);
		uint64_t v19 = mw_mirth_token_Token_succ(v18);
		uint64_t v20 = mw_mirth_token_Token_succ(v19);
		VAL v21;
		uint64_t v22 = mw_mirth_elab_abZ_tokenZAt(v17, &v21);
		uint64_t v23 = mw_mirth_token_Token_succ(v22);
		VAL v24;
		mw_mirth_elab_abZ_tokenZBang(v21, v23, &v24);
		branch_ZPlusAB_16 = v24;
		branch_Token_15 = v20;
		branch_ZPlusMirth_14 = in_ZPlusMirth_1;
	} else {
		VAL v25;
		uint64_t v26 = mw_mirth_elab_abZ_tokenZAt(v7, &v25);
		VAL v27;
		VAL v28 = mw_mirth_token_Token_argsZPlus(v26, in_ZPlusMirth_1, &v27);
		VAL v29 = mw_std_list_ListZPlus_1_first(v28);
		branch_ZPlusAB_16 = v25;
		branch_Token_15 = value_u64(v29);
		branch_ZPlusMirth_14 = v27;
	}
	VAL v30;
	VAL v31;
	mw_mirth_elab_elabZ_matchZ_atZBang(v6, branch_Token_15, branch_ZPlusMirth_14, branch_ZPlusAB_16, &v30, &v31);
	*out_ZPlusAB_4 = v31;
	*out_ZPlusMirth_3 = v30;
}
static void mw_mirth_elab_elabZ_matchZ_atZBang (VAL in_StackType_1, uint64_t in_Token_2, VAL in_ZPlusMirth_3, VAL in_ZPlusAB_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusAB_6) {
	VAL v7;
	VAL v8 = mw_mirth_elab_abZ_ctxZAt(in_ZPlusAB_4, &v7);
	VAL v9;
	VAL v10 = mw_mirth_elab_abZ_typeZAt(v7, &v9);
	VAL v11;
	uint64_t v12 = mw_mirth_elab_abZ_tokenZAt(v9, &v11);
	VAL v13;
	VAL v14 = mw_mirth_elab_abZ_homeZAt(v11, &v13);
	VAL v15 = MKI64(0LL /* Nil */);
	VAL v16;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v14, v12, in_Token_2, v8, v10, in_StackType_1, v15, &v16);
	VAL v17;
	VAL v18;
	mw_mirth_elab_elabZ_matchZ_casesZBang(in_ZPlusMirth_3, v16, &v17, &v18);
	VAL v19;
	VAL v20;
	mw_mirth_elab_elabZ_matchZ_exhaustiveZBang(v17, v18, &v19, &v20);
	VAL v21 = mw_mirth_match_ZPlusMatch_freezze(v20);
	VAL v22 = mtw_mirth_arrow_Op_OpMatch(v21);
	VAL v23;
	VAL v24;
	mw_mirth_elab_abZ_opZBang(v22, v19, v13, &v23, &v24);
	*out_ZPlusAB_6 = v24;
	*out_ZPlusMirth_5 = v23;
}
static void mw_mirth_elab_elabZ_matchZ_casesZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(VTUP(in_ZPlusMatch_2)->cells[3]);
	VAL v6 = mw_mirth_token_Token_lcurlyZAsk(v5);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	int64_t v8 = 1LL;
	bool v9 = (v7 == v8);
	VAL branch_ZPlusMirth_10;
	VAL branch_ZPlusMatch_11;
	if (v9) {
		VAL v12;
		VAL v13;
		mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang(in_ZPlusMirth_1, in_ZPlusMatch_2, &v12, &v13);
		branch_ZPlusMatch_11 = v13;
		branch_ZPlusMirth_10 = v12;
	} else {
		VAL v14;
		VAL v15;
		mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang(in_ZPlusMirth_1, in_ZPlusMatch_2, &v14, &v15);
		branch_ZPlusMatch_11 = v15;
		branch_ZPlusMirth_10 = v14;
	}
	*out_ZPlusMatch_4 = branch_ZPlusMatch_11;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
}
static void mw_mirth_elab_elabZ_matchZ_casesZ_curlyZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(VTUP(in_ZPlusMatch_2)->cells[3]);
	VAL v6 = mw_mirth_token_Token_runZ_tokens(v5);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_ZPlusMirth_1;
	VAL v9 = in_ZPlusMatch_2;
	VAL v10 = v6;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL branch_ZPlusMirth_17;
		VAL branch_ZPlusMatch_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				incref(v22);
				VAL v23 = mw_mirth_token_Token_lcurlyZAsk(value_u64(v22));
				int64_t v24 = get_data_tag(v23);
				decref(v23);
				int64_t v25 = 0LL;
				bool v26 = (v24 == v25);
				uint64_t branch_Token_27;
				VAL branch_ZPlusMirth_28;
				VAL branch_z_x1_29;
				if (v26) {
					STR* v30;
					STRLIT(v30, "Expected a pattern match case of the form { ... -> ... }", 56);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(value_u64(v22), MKSTR(v30), v13);
				} else {
					branch_z_x1_29 = v14;
					branch_ZPlusMirth_28 = v13;
					branch_Token_27 = value_u64(v22);
				}
				VAL v33;
				uint64_t v34 = mw_mirth_token_Token_argsZ_1(branch_Token_27, branch_ZPlusMirth_28, &v33);
				VAL v35;
				VAL v36;
				uint64_t v37 = mw_mirth_elab_elabZ_matchZ_caseZBang(v34, v33, branch_z_x1_29, &v35, &v36);
				int64_t v38 = 1LL /* True */;
				branch_Bool_20 = v38;
				branch_List_19 = v21;
				branch_ZPlusMatch_18 = v36;
				branch_ZPlusMirth_17 = v35;
			} break;
			case 0LL: { // Nil
				VAL v39 = MKI64(0LL /* Nil */);
				int64_t v40 = 0LL /* False */;
				branch_Bool_20 = v40;
				branch_List_19 = v39;
				branch_ZPlusMatch_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusMatch_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusMatch_4 = v9;
	*out_ZPlusMirth_3 = v8;
}
static void mw_mirth_elab_elabZ_matchZ_casesZ_argsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusMatch_4) {
	uint64_t v5 = value_u64(VTUP(in_ZPlusMatch_2)->cells[3]);
	int64_t v6 = mw_mirth_token_Token_argsZ_endZAsk(v5);
	bool v7 = !((bool)v6);
	VAL v8 = in_ZPlusMirth_1;
	VAL v9 = in_ZPlusMatch_2;
	uint64_t v10 = v5;
	bool v11 = v7;
	while (v11) {
		VAL v12 = v8;
		VAL v13 = v9;
		uint64_t v14 = v10;
		VAL v15;
		VAL v16;
		uint64_t v17 = mw_mirth_elab_elabZ_matchZ_caseZBang(v14, v12, v13, &v15, &v16);
		int64_t v18 = mw_mirth_token_Token_argsZ_endZAsk(v17);
		bool v19 = !((bool)v18);
		v11 = v19;
		v10 = v17;
		v9 = v16;
		v8 = v15;
	}
	*out_ZPlusMatch_4 = v9;
	*out_ZPlusMirth_3 = v8;
}
static uint64_t mw_mirth_elab_elabZ_matchZ_caseZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL in_ZPlusMatch_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusMatch_6) {
	VAL v7 = mw_mirth_token_Token_runZ_arrowZAsk(in_Token_1);
	uint64_t branch_Token_8;
	VAL branch_ZPlusMirth_9;
	VAL branch_z_x1_10;
	VAL branch_z_x2_11;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_z_x2_11 = v12;
			branch_z_x1_10 = in_ZPlusMatch_3;
			branch_ZPlusMirth_9 = in_ZPlusMirth_2;
			branch_Token_8 = in_Token_1;
		} break;
		case 0LL: { // None
			STR* v13;
			STRLIT(v13, "Expected pattern match case ... -> ...", 38);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v13), in_ZPlusMirth_2);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x2_11);
	int64_t v17 = mw_mirth_token_Token_ZEqualZEqual(branch_Token_8, value_u64(branch_z_x2_11));
	uint64_t branch_Token_18;
	VAL branch_ZPlusMirth_19;
	VAL branch_z_x1_20;
	if (((bool)v17)) {
		STR* v21;
		STRLIT(v21, "expected pattern", 16);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(value_u64(branch_z_x2_11), MKSTR(v21), branch_ZPlusMirth_9);
	} else {
		branch_z_x1_20 = branch_z_x1_10;
		branch_ZPlusMirth_19 = branch_ZPlusMirth_9;
		branch_Token_18 = value_u64(branch_z_x2_11);
	}
	uint64_t v24 = mw_mirth_token_Token_prev(branch_Token_18);
	int64_t v25 = mw_mirth_token_Token_ZEqualZEqual(branch_Token_8, v24);
	uint64_t branch_Token_26;
	VAL branch_ZPlusMirth_27;
	VAL branch_z_x1_28;
	if (((bool)v25)) {
		branch_z_x1_28 = branch_z_x1_20;
		branch_ZPlusMirth_27 = branch_ZPlusMirth_19;
		branch_Token_26 = branch_Token_18;
	} else {
		STR* v29;
		STRLIT(v29, "multi-part pattern not supported", 32);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_18, MKSTR(v29), branch_ZPlusMirth_19);
	}
	VAL v32 = mw_mirth_token_Token_patZ_tokens(branch_Token_8);
	uint64_t v33 = mw_mirth_token_Token_prev(branch_Token_26);
	uint64_t v34 = mw_mirth_token_Token_succ(branch_Token_26);
	VAL v35 = VTUP(branch_z_x1_28)->cells[1];
	incref(v35);
	VAL v36 = VTUP(branch_z_x1_28)->cells[4];
	incref(v36);
	incref(v36);
	VAL v37 = MKI64(0LL /* Nil */);
	VAL v38 = VTUP(branch_z_x1_28)->cells[5];
	incref(v38);
	incref(v38);
	VAL v39 = MKI64(0LL /* Nil */);
	VAL v40 = mtw_mirth_match_Pattern_Pattern(v35, v33, v33, v36, v36, v37, v38, v38, v39);
	VAL v41;
	mw_mirth_match_Pattern_thaw(v40, &v41);
	VAL v42;
	VAL v43;
	mw_mirth_elab_elabZ_patternZBang(v32, branch_ZPlusMirth_27, v41, &v42, &v43);
	VAL v44 = mw_mirth_match_ZPlusPattern_freezze(v43);
	incref(v44);
	VAL v45 = VTUP(v44)->cells[5];
	incref(v45);
	decref(v44);
	incref(v44);
	VAL v46 = mw_mirth_match_Pattern_dom(v44);
	VAL v47 = VTUP(branch_z_x1_28)->cells[6];
	incref(v47);
	VAL v48 = mw_mirth_type_TZ_ZTo(v46, v47);
	VAL v49 = VTUP(branch_z_x1_28)->cells[1];
	incref(v49);
	VAL v50;
	VAL v51 = mw_mirth_type_ArrowType_unpack(v48, &v50);
	incref(v51);
	VAL v52 = MKI64(0LL /* Nil */);
	VAL v53 = mtw_mirth_arrow_Arrow_Arrow(v49, v34, v34, v45, v51, v51, v52);
	VAL v54;
	VAL v55;
	mw_mirth_elab_elabZ_atomsZBang(v42, v53, &v54, &v55);
	VAL v56;
	uint64_t v57 = mw_mirth_elab_abZ_tokenZAt(v55, &v56);
	int64_t v58 = mw_mirth_token_Token_commaZAsk(v57);
	uint64_t branch_Token_59;
	if (((bool)v58)) {
		uint64_t v60 = mw_mirth_token_Token_succ(v57);
		branch_Token_59 = v60;
	} else {
		branch_Token_59 = v57;
	}
	VAL v61;
	VAL v62;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v50, v54, v56, &v61, &v62);
	VAL v63 = mtw_mirth_match_Case_CASE(v44, v62);
	VAL v64;
	VAL v65;
	mw_mirth_match_ZPlusMatch_addZ_case(v61, branch_z_x1_28, v63, &v64, &v65);
	*out_ZPlusMatch_6 = v65;
	*out_ZPlusMirth_5 = v64;
	return branch_Token_59;
}
static void mw_mirth_elab_elabZ_patternZBang (VAL in_List_1, VAL in_ZPlusMirth_2, VAL in_ZPlusPattern_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusPattern_5) {
	VAL v6 = mw_std_list_List_1_reverse(in_List_1);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_ZPlusMirth_2;
	VAL v9 = in_ZPlusPattern_3;
	VAL v10 = v6;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL branch_ZPlusMirth_17;
		VAL branch_ZPlusPattern_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				VAL v23;
				VAL v24;
				mw_mirth_elab_elabZ_patternZ_atomZBang(value_u64(v22), v13, v14, &v23, &v24);
				int64_t v25 = 1LL /* True */;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusPattern_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusPattern_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusPattern_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusPattern_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_elab_elabZ_patternZ_atomZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL in_ZPlusPattern_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusPattern_5) {
	incref(in_ZPlusPattern_3);
	VAL v6 = tup_replace(in_ZPlusPattern_3, 2, MKU64(in_Token_1));
	decref(in_ZPlusPattern_3);
	int64_t v7 = mw_mirth_token_Token_patZ_underscoreZAsk(in_Token_1);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusPattern_9;
	if (((bool)v7)) {
		VAL v10;
		VAL v11;
		mw_mirth_match_ZPlusPattern_underscoreZBang(in_ZPlusMirth_2, v6, &v10, &v11);
		branch_ZPlusPattern_9 = v11;
		branch_ZPlusMirth_8 = v10;
	} else {
		VAL v12 = mw_mirth_token_Token_nameZDivdnameZAsk(in_Token_1);
		VAL branch_ZPlusMirth_13;
		VAL branch_ZPlusPattern_14;
		switch (get_data_tag(v12)) {
			case 1LL: { // Some
				VAL v15 = mtp_std_maybe_Maybe_1_Some(v12);
				STR* v16;
				STRLIT(v16, "constructor", 11);
				incref(v6);
				VAL v17 = VTUP(v6)->cells[7];
				incref(v17);
				decref(v6);
				int64_t v18 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v17);
				bool v19 = !((bool)v18);
				int64_t v20 = 0LL /* False */;
				VAL v21;
				VAL v22;
				mw_mirth_elab_resolveZ_defZ_beginZBang(MKSTR(v16), in_Token_1, v15, v20, ((int64_t)v19), in_ZPlusMirth_2, &v21, &v22);
				VAL v23 = VTUP(v22)->cells[4];
				incref(v23);
				VAL v24 = MKI64(0LL /* Nil */);
				VAL v25 = MKI64(0LL /* Nil */);
				int64_t v26 = 1LL /* True */;
				VAL v27 = v24;
				VAL v28 = v25;
				VAL v29 = v23;
				int64_t v30 = v26;
				int64_t v31 = v26;
				while (((bool)v31)) {
					VAL v32 = v27;
					VAL v33 = v28;
					VAL v34 = v29;
					int64_t v35 = v30;
					VAL branch_List_36;
					VAL branch_List_37;
					VAL branch_List_38;
					int64_t branch_Bool_39;
					switch (get_data_tag(v34)) {
						case 1LL: { // Cons
							VAL v40;
							VAL v41 = mtp_std_list_List_1_Cons(v34, &v40);
							incref(v41);
							VAL v42 = mw_mirth_def_Def_tagZAsk(v41);
							int64_t v43 = get_data_tag(v42);
							decref(v42);
							int64_t v44 = 1LL;
							bool v45 = (v43 == v44);
							VAL branch_Either_46;
							if (v45) {
								VAL v47 = mtw_std_either_Either_2_Right(v41);
								branch_Either_46 = v47;
							} else {
								VAL v48 = mtw_mirth_elab_RejectedDef_RDz_WRONGz_SORT(v41);
								VAL v49 = mtw_std_either_Either_2_Left(v48);
								branch_Either_46 = v49;
							}
							VAL branch_List_50;
							VAL branch_List_51;
							switch (get_data_tag(branch_Either_46)) {
								case 0LL: { // Left
									VAL v52 = mtp_std_either_Either_2_Left(branch_Either_46);
									VAL v53 = mtw_std_list_List_1_Cons(v52, v32);
									branch_List_51 = v33;
									branch_List_50 = v53;
								} break;
								case 1LL: { // Right
									VAL v54 = mtp_std_either_Either_2_Right(branch_Either_46);
									VAL v55 = mtw_std_list_List_1_Cons(v54, v33);
									branch_List_51 = v55;
									branch_List_50 = v32;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							int64_t v56 = 1LL /* True */;
							branch_Bool_39 = v56;
							branch_List_38 = v40;
							branch_List_37 = branch_List_51;
							branch_List_36 = branch_List_50;
						} break;
						case 0LL: { // Nil
							VAL v57 = MKI64(0LL /* Nil */);
							int64_t v58 = 0LL /* False */;
							branch_Bool_39 = v58;
							branch_List_38 = v57;
							branch_List_37 = v33;
							branch_List_36 = v32;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v31 = branch_Bool_39;
					v30 = branch_Bool_39;
					v29 = branch_List_38;
					v28 = branch_List_37;
					v27 = branch_List_36;
				}
				decref(v29);
				VAL v59 = mw_std_list_List_1_reverse(v27);
				VAL v60 = mw_std_list_List_1_reverse(v28);
				VAL v61 = VTUP(v22)->cells[5];
				incref(v61);
				VAL v62 = mw_std_list_List_1_cat(v59, v61);
				VAL v63 = VTUP(v22)->cells[5];
				decref(v63);
				VTUP(v22)->cells[5] = v62;
				VAL v64 = VTUP(v22)->cells[4];
				decref(v64);
				VTUP(v22)->cells[4] = v60;
				VAL v65;
				VAL v66;
				mw_mirth_elab_ZPlusResolveDef_filterZ_arity(v21, v22, &v65, &v66);
				VAL v67;
				VAL v68;
				mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v65, v66, &v67, &v68);
				incref(v6);
				VAL v69 = VTUP(v6)->cells[7];
				incref(v69);
				decref(v6);
				int64_t v70 = mw_mirth_type_StackType_topZ_typesZ_areZ_fineZAsk(v69);
				VAL branch_ZPlusPattern_71;
				VAL branch_ZPlusMirth_72;
				VAL branch_ZPlusResolveDef_73;
				if (((bool)v70)) {
					incref(v6);
					VAL v74 = VTUP(v6)->cells[7];
					incref(v74);
					decref(v6);
					VAL v75 = mw_mirth_type_StackType_topZ_namespaces(v74);
					uint64_t v76 = value_u64(VTUP(v68)->cells[2]);
					VAL v77 = mw_mirth_token_Token_nameZAsk(v76);
					int64_t v78 = get_data_tag(v77);
					decref(v77);
					int64_t v79 = 1LL;
					bool v80 = (v78 == v79);
					VAL branch_ZPlusMirth_81;
					VAL branch_ZPlusResolveDef_82;
					if (v80) {
						VAL v83 = VTUP(v68)->cells[4];
						incref(v83);
						VAL v84 = MKI64(0LL /* Nil */);
						VAL v85 = MKI64(0LL /* Nil */);
						int64_t v86 = 1LL /* True */;
						VAL v87 = v67;
						VAL v88 = v68;
						VAL v89 = v75;
						VAL v90 = v84;
						VAL v91 = v85;
						VAL v92 = v83;
						int64_t v93 = v86;
						int64_t v94 = v86;
						while (((bool)v94)) {
							VAL v95 = v87;
							VAL v96 = v88;
							VAL v97 = v89;
							VAL v98 = v90;
							VAL v99 = v91;
							VAL v100 = v92;
							int64_t v101 = v93;
							VAL branch_List_102;
							VAL branch_ZPlusMirth_103;
							VAL branch_z_x1_104;
							VAL branch_List_105;
							VAL branch_List_106;
							VAL branch_List_107;
							int64_t branch_Bool_108;
							switch (get_data_tag(v100)) {
								case 1LL: { // Cons
									VAL v109;
									VAL v110 = mtp_std_list_List_1_Cons(v100, &v109);
									incref(v97);
									incref(v110);
									VAL v111;
									VAL v112 = mw_mirth_def_Def_qnameZ_hard(v95, v110, &v111);
									VAL v113 = VTUP(v112)->cells[1];
									incref(v113);
									decref(v112);
									int64_t v114 = mw_std_list_List_1_member_1_sp4(v113, v97);
									VAL branch_List_115;
									VAL branch_ZPlusMirth_116;
									VAL branch_z_x1_117;
									VAL branch_Either_118;
									if (((bool)v114)) {
										VAL v119 = mtw_std_either_Either_2_Right(v110);
										branch_Either_118 = v119;
										branch_z_x1_117 = v96;
										branch_ZPlusMirth_116 = v111;
										branch_List_115 = v97;
									} else {
										VAL v120 = mtw_mirth_elab_RejectedDef_RDz_WRONGz_CONSTRUCTOR(v110);
										VAL v121 = mtw_std_either_Either_2_Left(v120);
										branch_Either_118 = v121;
										branch_z_x1_117 = v96;
										branch_ZPlusMirth_116 = v111;
										branch_List_115 = v97;
									}
									VAL branch_List_122;
									VAL branch_ZPlusMirth_123;
									VAL branch_z_x1_124;
									VAL branch_List_125;
									VAL branch_List_126;
									switch (get_data_tag(branch_Either_118)) {
										case 0LL: { // Left
											VAL v127 = mtp_std_either_Either_2_Left(branch_Either_118);
											VAL v128 = mtw_std_list_List_1_Cons(v127, v98);
											branch_List_126 = v99;
											branch_List_125 = v128;
											branch_z_x1_124 = branch_z_x1_117;
											branch_ZPlusMirth_123 = branch_ZPlusMirth_116;
											branch_List_122 = branch_List_115;
										} break;
										case 1LL: { // Right
											VAL v129 = mtp_std_either_Either_2_Right(branch_Either_118);
											VAL v130 = mtw_std_list_List_1_Cons(v129, v99);
											branch_List_126 = v130;
											branch_List_125 = v98;
											branch_z_x1_124 = branch_z_x1_117;
											branch_ZPlusMirth_123 = branch_ZPlusMirth_116;
											branch_List_122 = branch_List_115;
										} break;
										default: {
											do_panic(str_make("unexpected fallthrough in match\n", 32));
										}
									}
									int64_t v131 = 1LL /* True */;
									branch_Bool_108 = v131;
									branch_List_107 = v109;
									branch_List_106 = branch_List_126;
									branch_List_105 = branch_List_125;
									branch_z_x1_104 = branch_z_x1_124;
									branch_ZPlusMirth_103 = branch_ZPlusMirth_123;
									branch_List_102 = branch_List_122;
								} break;
								case 0LL: { // Nil
									VAL v132 = MKI64(0LL /* Nil */);
									int64_t v133 = 0LL /* False */;
									branch_Bool_108 = v133;
									branch_List_107 = v132;
									branch_List_106 = v99;
									branch_List_105 = v98;
									branch_z_x1_104 = v96;
									branch_ZPlusMirth_103 = v95;
									branch_List_102 = v97;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							v94 = branch_Bool_108;
							v93 = branch_Bool_108;
							v92 = branch_List_107;
							v91 = branch_List_106;
							v90 = branch_List_105;
							v89 = branch_List_102;
							v88 = branch_z_x1_104;
							v87 = branch_ZPlusMirth_103;
						}
						decref(v92);
						VAL v134 = mw_std_list_List_1_reverse(v90);
						VAL v135 = mw_std_list_List_1_reverse(v91);
						VAL v136 = VTUP(v88)->cells[5];
						incref(v136);
						VAL v137 = mw_std_list_List_1_cat(v134, v136);
						VAL v138 = VTUP(v88)->cells[5];
						decref(v138);
						VTUP(v88)->cells[5] = v137;
						VAL v139 = VTUP(v88)->cells[4];
						decref(v139);
						VTUP(v88)->cells[4] = v135;
						decref(v89);
						branch_ZPlusResolveDef_82 = v88;
						branch_ZPlusMirth_81 = v87;
					} else {
						VAL v140;
						VAL v141;
						mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v75, v67, v68, &v140, &v141);
						branch_ZPlusResolveDef_82 = v141;
						branch_ZPlusMirth_81 = v140;
					}
					branch_ZPlusResolveDef_73 = branch_ZPlusResolveDef_82;
					branch_ZPlusMirth_72 = branch_ZPlusMirth_81;
					branch_ZPlusPattern_71 = v6;
				} else {
					branch_ZPlusResolveDef_73 = v68;
					branch_ZPlusMirth_72 = v67;
					branch_ZPlusPattern_71 = v6;
				}
				VAL v142;
				VAL v143 = mw_mirth_elab_resolveZ_defZ_endZBang(branch_ZPlusMirth_72, branch_ZPlusResolveDef_73, &v142);
				VAL branch_Maybe_144;
				switch (get_data_tag(v143)) {
					case 1LL: { // Some
						VAL v145 = mtp_std_maybe_Maybe_1_Some(v143);
						VAL v146 = mw_mirth_def_Def_tagZAsk(v145);
						branch_Maybe_144 = v146;
					} break;
					case 0LL: { // None
						VAL v147 = MKI64(0LL /* None */);
						branch_Maybe_144 = v147;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL branch_ZPlusMirth_148;
				VAL branch_ZPlusPattern_149;
				switch (get_data_tag(branch_Maybe_144)) {
					case 1LL: { // Some
						VAL v150 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_144);
						VAL v151;
						VAL v152;
						mw_mirth_match_ZPlusPattern_tagZBang(v142, branch_ZPlusPattern_71, value_u64(v150), &v151, &v152);
						branch_ZPlusPattern_149 = v152;
						branch_ZPlusMirth_148 = v151;
					} break;
					case 0LL: { // None
						VAL v153 = MKI64(0LL /* STACK_TYPE_ERROR */);
						incref(branch_ZPlusPattern_71);
						VAL v154 = tup_replace(branch_ZPlusPattern_71, 7, v153);
						decref(branch_ZPlusPattern_71);
						branch_ZPlusPattern_149 = v154;
						branch_ZPlusMirth_148 = v142;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusPattern_14 = branch_ZPlusPattern_149;
				branch_ZPlusMirth_13 = branch_ZPlusMirth_148;
			} break;
			case 0LL: { // None
				STR* v155;
				STRLIT(v155, "Expected constructor name.", 26);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v155), in_ZPlusMirth_2);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusPattern_9 = branch_ZPlusPattern_14;
		branch_ZPlusMirth_8 = branch_ZPlusMirth_13;
	}
	*out_ZPlusPattern_5 = branch_ZPlusPattern_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static VAL mw_mirth_elab_elabZ_expandZ_tensorZBang (VAL in_ZPlusMirth_1, VAL in_StackType_2, uint64_t in_Token_3, VAL *out_ZPlusMirth_4, VAL *out_Type_6, uint64_t *out_Token_7) {
	VAL v8 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_StackType_2);
	VAL branch_ZPlusMirth_9;
	VAL branch_StackType_10;
	VAL branch_Type_11;
	uint64_t branch_Token_12;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v14 = value_tup(v13, 2)->cells[0];
			VAL v15 = value_tup(v13, 2)->cells[1];
			tup_decref_outer(value_tup(v13, 2), 2);
			branch_Token_12 = in_Token_3;
			branch_Type_11 = v15;
			branch_StackType_10 = v14;
			branch_ZPlusMirth_9 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			VAL v16 = MKI64(0LL /* STACK_TYPE_ERROR */);
			VAL v17 = MKI64(0LL /* TYPE_ERROR */);
			STR* v18;
			STRLIT(v18, "expected tuple type", 19);
			VAL v19;
			mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(in_Token_3, MKSTR(v18), in_ZPlusMirth_1, &v19);
			branch_Token_12 = in_Token_3;
			branch_Type_11 = v17;
			branch_StackType_10 = v16;
			branch_ZPlusMirth_9 = v19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Token_7 = branch_Token_12;
	*out_Type_6 = branch_Type_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_StackType_10;
}
static uint64_t mw_mirth_elab_elabZ_lambdaZ_paramZAsk (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_Maybe_5) {
	VAL v6 = mw_mirth_token_Token_patternZ_varZAsk(in_Token_2);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_Maybe_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			VAL v11;
			mw_mirth_token_Token_argsZ_0(in_Token_2, in_ZPlusMirth_1, &v11);
			uint64_t v12 = mw_mirth_token_Token_next(in_Token_2);
			uint64_t v13 = mw_mirth_type_MetaVar_newZBang();
			VAL v14 = mtw_mirth_type_Type_TMeta(v13);
			uint64_t v15 = mw_mirth_var_Var_newZBang(v14, value_u64(v10));
			VAL v16 = mtw_std_maybe_Maybe_1_Some(MKU64(v15));
			branch_Maybe_9 = v16;
			branch_Token_8 = v12;
			branch_ZPlusMirth_7 = v11;
		} break;
		case 0LL: { // None
			VAL v17 = mw_mirth_token_Token_patternZ_autoZ_runZ_varZAsk(in_Token_2);
			VAL branch_ZPlusMirth_18;
			uint64_t branch_Token_19;
			VAL branch_Maybe_20;
			switch (get_data_tag(v17)) {
				case 1LL: { // Some
					VAL v21 = mtp_std_maybe_Maybe_1_Some(v17);
					uint64_t v22 = mw_mirth_token_Token_succ(in_Token_2);
					VAL v23;
					mw_mirth_token_Token_argsZ_0(v22, in_ZPlusMirth_1, &v23);
					uint64_t v24 = mw_mirth_token_Token_next(in_Token_2);
					uint64_t v25 = mw_mirth_type_MetaVar_newZBang();
					VAL v26 = mtw_mirth_type_StackType_STMeta(v25);
					uint64_t v27 = mw_mirth_type_MetaVar_newZBang();
					VAL v28 = mtw_mirth_type_StackType_STMeta(v27);
					VAL v29 = mw_mirth_type_TZ_ZTo(v26, v28);
					uint64_t v30 = mw_mirth_var_Var_newZ_autoZ_runZBang(v29, value_u64(v21));
					VAL v31 = mtw_std_maybe_Maybe_1_Some(MKU64(v30));
					branch_Maybe_20 = v31;
					branch_Token_19 = v24;
					branch_ZPlusMirth_18 = v23;
				} break;
				case 0LL: { // None
					VAL v32 = MKI64(0LL /* None */);
					branch_Maybe_20 = v32;
					branch_Token_19 = in_Token_2;
					branch_ZPlusMirth_18 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_9 = branch_Maybe_20;
			branch_Token_8 = branch_Token_19;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_18;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_5 = branch_Maybe_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Token_8;
}
static void mw_mirth_elab_elabZ_atomZ_lambdaZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusAB_4) {
	VAL v5;
	uint64_t v6 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_2, &v5);
	VAL v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_1(v6, in_ZPlusMirth_1, &v7);
	VAL v9 = MKI64(0LL /* Nil */);
	VAL v10 = mw_std_list_List_1_reverse(v9);
	int64_t v11 = 1LL /* True */;
	VAL v12 = v7;
	uint64_t v13 = v8;
	VAL v14 = v5;
	VAL v15 = v10;
	int64_t v16 = v11;
	int64_t v17 = v11;
	while (((bool)v17)) {
		VAL v18 = v12;
		uint64_t v19 = v13;
		VAL v20 = v14;
		VAL v21 = v15;
		int64_t v22 = v16;
		VAL v23;
		VAL v24;
		uint64_t v25 = mw_mirth_elab_elabZ_lambdaZ_paramZAsk(v18, v19, &v23, &v24);
		VAL branch_ZPlusList_26;
		int64_t branch_Bool_27;
		switch (get_data_tag(v24)) {
			case 1LL: { // Some
				VAL v28 = mtp_std_maybe_Maybe_1_Some(v24);
				VAL v29 = mtw_std_list_List_1_Cons(v28, v21);
				int64_t v30 = 1LL /* True */;
				branch_Bool_27 = v30;
				branch_ZPlusList_26 = v29;
			} break;
			case 0LL: { // None
				int64_t v31 = 0LL /* False */;
				branch_Bool_27 = v31;
				branch_ZPlusList_26 = v21;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v17 = branch_Bool_27;
		v16 = branch_Bool_27;
		v15 = branch_ZPlusList_26;
		v14 = v20;
		v13 = v25;
		v12 = v23;
	}
	VAL v32 = mw_std_list_List_1_reverse(v15);
	VAL v33;
	uint64_t v34 = mw_mirth_elab_expectZ_tokenZ_arrow(v12, v13, &v33);
	uint64_t v35 = mw_mirth_token_Token_succ(v34);
	incref(v32);
	VAL v36;
	VAL v37 = mw_mirth_elab_abZ_ctxZAt(v14, &v36);
	VAL v38;
	VAL v39 = mw_mirth_elab_abZ_typeZAt(v36, &v38);
	VAL v40;
	VAL v41;
	VAL v42;
	VAL v43 = mw_std_list_List_1_reverseZ_for_1_sp8(v33, v38, v37, v39, v32, &v40, &v41, &v42);
	VAL v44;
	VAL v45 = mw_mirth_elab_abZ_homeZAt(v41, &v44);
	VAL v46;
	VAL v47 = mw_mirth_elab_abZ_buildZBang_1_sp33(v40, v43, v42, v35, v45, &v46);
	VAL v48;
	VAL v49 = mw_mirth_elab_abZ_ctxZAt(v44, &v48);
	VAL v50;
	VAL v51 = mw_mirth_elab_abZ_typeZAt(v48, &v50);
	VAL v52;
	uint64_t v53 = mw_mirth_elab_abZ_tokenZAt(v50, &v52);
	VAL v54 = mtw_mirth_arrow_Lambda_Lambda(v53, v49, v51, v32, v47);
	VAL v55 = mtw_mirth_arrow_Op_OpLambda(v54);
	VAL v56;
	VAL v57;
	mw_mirth_elab_abZ_opZBang(v55, v46, v52, &v56, &v57);
	*out_ZPlusAB_4 = v57;
	*out_ZPlusMirth_3 = v56;
}
static void mw_mirth_elab_elabZ_matchZ_exhaustiveZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusMatch_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusMatch_4) {
	VAL v5 = mw_mirth_match_ZPlusMatch_freezze(in_ZPlusMatch_2);
	incref(v5);
	int64_t v6 = mw_mirth_match_Match_isZ_exhaustiveZAsk(v5);
	VAL branch_ZPlusMirth_7;
	VAL branch_Match_8;
	if (((bool)v6)) {
		branch_Match_8 = v5;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		incref(v5);
		uint64_t v9 = value_u64(VTUP(v5)->cells[2]);
		decref(v5);
		STR* v10;
		STRLIT(v10, "Pattern match not exhaustive.", 29);
		VAL v11;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v9, MKSTR(v10), in_ZPlusMirth_1, &v11);
		branch_Match_8 = v5;
		branch_ZPlusMirth_7 = v11;
	}
	VAL v12;
	mw_mirth_match_Match_thaw(branch_Match_8, &v12);
	*out_ZPlusMatch_4 = v12;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
}
static uint64_t mw_mirth_elab_elabZ_moduleZBang (uint64_t in_Module_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	uint64_t v7 = mw_mirth_module_Module_start(in_Module_1);
	VAL v8;
	uint64_t v9 = mw_mirth_elab_elabZ_moduleZ_headerZBang(in_ZPlusMirth_2, v7, &v8);
	int64_t v10 = mw_mirth_token_Token_moduleZ_endZAsk(v9);
	bool v11 = !((bool)v10);
	uint64_t v12 = in_Module_1;
	VAL v13 = v8;
	uint64_t v14 = v9;
	bool v15 = v11;
	while (v15) {
		uint64_t v16 = v12;
		VAL v17 = v13;
		uint64_t v18 = v14;
		VAL v19;
		uint64_t v20 = mw_mirth_elab_elabZ_moduleZ_declZBang(v18, v17, &v19);
		int64_t v21 = mw_mirth_token_Token_moduleZ_endZAsk(v20);
		bool v22 = !((bool)v21);
		v15 = v22;
		v14 = v20;
		v13 = v19;
		v12 = v16;
	}
	*out_ZPlusMirth_4 = v13;
	return v12;
}
static uint64_t mw_mirth_elab_elabZ_moduleZ_packageZ_name (uint64_t in_Token_1, VAL in_ZPlusMirth_2, uint64_t *out_Name_4, VAL *out_ZPlusMirth_5) {
	VAL v6 = mw_mirth_token_Token_dnameZAsk(in_Token_1);
	uint64_t branch_Token_7;
	VAL branch_ZPlusMirth_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_9 = v10;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
			branch_Token_7 = in_Token_1;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "Expected module name. (1)", 25);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v11), in_ZPlusMirth_2);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v15;
	mw_mirth_token_Token_argsZ_0(branch_Token_7, branch_ZPlusMirth_8, &v15);
	incref(branch_z_x1_9);
	VAL v16 = mw_mirth_name_DName_rootZAsk(branch_z_x1_9);
	uint64_t branch_Token_17;
	VAL branch_ZPlusMirth_18;
	VAL branch_z_x1_19;
	VAL branch_z_x2_20;
	switch (get_data_tag(v16)) {
		case 1LL: { // Some
			VAL v21 = mtp_std_maybe_Maybe_1_Some(v16);
			branch_z_x2_20 = v21;
			branch_z_x1_19 = branch_z_x1_9;
			branch_ZPlusMirth_18 = v15;
			branch_Token_17 = branch_Token_7;
		} break;
		case 0LL: { // None
			decref(branch_z_x1_9);
			STR* v22;
			STRLIT(v22, "Expected module name. (2)", 25);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_7, MKSTR(v22), v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v27 = mw_mirth_name_DName_parts(branch_z_x1_19);
	VAL v28 = mw_std_list_ListZPlus_1_ZDivL1ZPlus(v27);
	uint64_t branch_Token_29;
	VAL branch_ZPlusMirth_30;
	VAL branch_z_x1_31;
	VAL branch_z_x2_32;
	switch (get_data_tag(v28)) {
		case 1LL: { // Some
			VAL v33 = mtp_std_maybe_Maybe_1_Some(v28);
			branch_z_x2_32 = v33;
			branch_z_x1_31 = branch_z_x2_20;
			branch_ZPlusMirth_30 = branch_ZPlusMirth_18;
			branch_Token_29 = branch_Token_17;
		} break;
		case 0LL: { // None
			decref(branch_z_x2_20);
			STR* v34;
			STRLIT(v34, "Expected module name. (3)", 25);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_17, MKSTR(v34), branch_ZPlusMirth_18);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v39;
	uint64_t v40 = mw_mirth_package_Package_findZ_orZ_newZBang(branch_ZPlusMirth_30, value_u64(branch_z_x1_31), &v39);
	*out_ZPlusMirth_5 = v39;
	*out_Name_4 = value_u64(branch_z_x2_32);
	return v40;
}
static VAL mw_mirth_elab_elabZ_moduleZ_qname (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5;
	VAL v6;
	uint64_t v7 = mw_mirth_elab_elabZ_moduleZ_packageZ_name(in_Token_2, in_ZPlusMirth_1, &v5, &v6);
	VAL v8 = mtw_mirth_name_Namespace_NAMESPACEz_PACKAGE(v7);
	VAL v9 = mw_mirth_name_QNAME0(v8, v5);
	*out_ZPlusMirth_3 = v6;
	return v9;
}
static uint64_t mw_mirth_elab_elabZ_moduleZ_headerZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v7 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_2));
	VAL v8 = VTUP(in_ZPlusMirth_1)->cells[5];
	decref(v8);
	VTUP(in_ZPlusMirth_1)->cells[5] = v7;
	int64_t v9 = mw_mirth_token_Token_moduleZ_headerZAsk(in_Token_2);
	uint64_t branch_Token_10;
	VAL branch_ZPlusMirth_11;
	if (((bool)v9)) {
		uint64_t v12 = mw_mirth_token_Token_next(in_Token_2);
		VAL v13;
		uint64_t v14 = mw_mirth_token_Token_argsZ_1(in_Token_2, in_ZPlusMirth_1, &v13);
		uint64_t v15;
		VAL v16;
		uint64_t v17 = mw_mirth_elab_elabZ_moduleZ_packageZ_name(v14, v13, &v15, &v16);
		uint64_t v18 = mw_mirth_token_Token_module(v14);
		void* v19 = mfld_mirth_module_Module_ZTildename(v18);
		mut_set(MKU64(v15), v19);
		void* v20 = mfld_mirth_module_Module_ZTildepackage(v18);
		mut_set(MKU64(v17), v20);
		VAL v21 = mw_mirth_module_Module_qname(v18);
		VAL v22;
		int64_t v23 = mw_mirth_name_QName_definedZ_softZAsk(v16, v21, &v22);
		uint64_t branch_Token_24;
		VAL branch_ZPlusMirth_25;
		VAL branch_z_x1_26;
		if (((bool)v23)) {
			STR* v27;
			STRLIT(v27, "Module name already taken.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, MKSTR(v27), v22);
		} else {
			branch_z_x1_26 = MKU64(v18);
			branch_ZPlusMirth_25 = v22;
			branch_Token_24 = v14;
		}
		incref(branch_z_x1_26);
		VAL v31 = mtw_mirth_def_Def_DefModule(value_u64(branch_z_x1_26));
		VAL v32;
		mw_mirth_def_Def_register(branch_ZPlusMirth_25, v31, &v32);
		VAL v33;
		mw_mirth_elab_checkZ_moduleZ_path(branch_Token_24, value_u64(branch_z_x1_26), v32, &v33);
		branch_ZPlusMirth_11 = v33;
		branch_Token_10 = v12;
	} else {
		STR* v34;
		STRLIT(v34, "Expected module header.", 23);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v34), in_ZPlusMirth_1);
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_11;
	return branch_Token_10;
}
static void mw_mirth_elab_checkZ_moduleZ_path (uint64_t in_Token_1, uint64_t in_Module_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4) {
	VAL v7 = mw_mirth_module_Module_path(in_Module_2);
	VAL v8;
	VAL v9 = mw_std_path_Path_splitZ_last(v7, &v8);
	VAL branch_ZPlusMirth_10;
	switch (get_data_tag(v8)) {
		case 0LL: { // None
			VAL v11 = mw_mirth_module_Module_qname(in_Module_2);
			VAL v12;
			VAL v13 = mw_mirth_name_QName_toZ_moduleZ_path(v11, in_ZPlusMirth_3, &v12);
			incref(v9);
			incref(v13);
			bool v14 = (str_cmp(value_str(v9), value_str(v13)) == 0);
			uint64_t branch_Token_15;
			VAL branch_ZPlusMirth_16;
			VAL branch_Path_17;
			VAL branch_Path_18;
			if (v14) {
				branch_Path_18 = v13;
				branch_Path_17 = v9;
				branch_ZPlusMirth_16 = v12;
				branch_Token_15 = in_Token_1;
			} else {
				STR* v19;
				STRLIT(v19, "expected module name to match path\n", 35);
				STR* v20 = str_cat(v19, value_str(v13));
				STR* v21;
				STRLIT(v21, "\n", 1);
				STR* v22 = str_cat(v20, v21);
				STR* v23 = str_cat(v22, value_str(v9));
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v23), v12);
			}
			decref(branch_Path_18);
			decref(branch_Path_17);
			branch_ZPlusMirth_10 = branch_ZPlusMirth_16;
		} break;
		case 1LL: { // Some
			VAL v28 = mtp_std_maybe_Maybe_1_Some(v8);
			incref(v28);
			uint64_t v29 = str_size(value_str(v28));
			VAL v30 = MKI64(0LL /* None */);
			incref(v30);
			int64_t v31 = get_data_tag(v30);
			decref(v30);
			int64_t v32 = 0LL;
			bool v33 = (v31 == v32);
			int64_t branch_UOffset_34;
			VAL branch_z_x1_35;
			int64_t branch_Bool_36;
			if (v33) {
				int64_t v37 = 0LL;
				bool v38 = (((int64_t)v29) > v37);
				branch_Bool_36 = ((int64_t)v38);
				branch_z_x1_35 = v30;
				branch_UOffset_34 = ((int64_t)v29);
			} else {
				int64_t v39 = 0LL /* False */;
				branch_Bool_36 = v39;
				branch_z_x1_35 = v30;
				branch_UOffset_34 = ((int64_t)v29);
			}
			VAL v40 = v28;
			int64_t v41 = branch_UOffset_34;
			VAL v42 = branch_z_x1_35;
			int64_t v43 = branch_Bool_36;
			while (((bool)v43)) {
				VAL v44 = v40;
				int64_t v45 = v41;
				VAL v46 = v42;
				decref(v46);
				int64_t v47 = 1LL;
				int64_t v48 = i64_sub(v45, v47);
				int64_t v49 = 0LL;
				bool v50 = (v48 < v49);
				int64_t branch_Nat_51;
				if (v50) {
					int64_t v52 = 0LL;
					branch_Nat_51 = v52;
				} else {
					branch_Nat_51 = v48;
				}
				VAL v53;
				int64_t v54 = mw_std_str_ZPlusStr_byteZAt(branch_Nat_51, v44, &v53);
				int64_t v55 = 46LL /* BDOT */;
				bool v56 = (v54 == v55);
				VAL branch_ZPlusStr_57;
				int64_t branch_UOffset_58;
				VAL branch_Maybe_59;
				if (v56) {
					VAL v60 = mtw_std_maybe_Maybe_1_Some(MKI64(branch_Nat_51));
					branch_Maybe_59 = v60;
					branch_UOffset_58 = branch_Nat_51;
					branch_ZPlusStr_57 = v53;
				} else {
					VAL v61 = MKI64(0LL /* None */);
					branch_Maybe_59 = v61;
					branch_UOffset_58 = branch_Nat_51;
					branch_ZPlusStr_57 = v53;
				}
				incref(branch_Maybe_59);
				int64_t v62 = get_data_tag(branch_Maybe_59);
				decref(branch_Maybe_59);
				int64_t v63 = 0LL;
				bool v64 = (v62 == v63);
				int64_t branch_UOffset_65;
				VAL branch_z_x1_66;
				int64_t branch_Bool_67;
				if (v64) {
					int64_t v68 = 0LL;
					bool v69 = (branch_UOffset_58 > v68);
					branch_Bool_67 = ((int64_t)v69);
					branch_z_x1_66 = branch_Maybe_59;
					branch_UOffset_65 = branch_UOffset_58;
				} else {
					int64_t v70 = 0LL /* False */;
					branch_Bool_67 = v70;
					branch_z_x1_66 = branch_Maybe_59;
					branch_UOffset_65 = branch_UOffset_58;
				}
				v43 = branch_Bool_67;
				v42 = branch_z_x1_66;
				v41 = branch_UOffset_65;
				v40 = branch_ZPlusStr_57;
			}
			VAL v71;
			VAL v72 = mw_std_maybe_Maybe_1_map_1_sp14(v40, v42, &v71);
			STR* v73;
			STRLIT(v73, "mth", 3);
			VAL v74 = mtw_std_maybe_Maybe_1_Some(MKSTR(v73));
			int64_t branch_Bool_75;
			switch (get_data_tag(v74)) {
				case 0LL: { // None
					int64_t v76 = get_data_tag(v71);
					decref(v71);
					int64_t v77 = 0LL;
					bool v78 = (v76 == v77);
					branch_Bool_75 = ((int64_t)v78);
				} break;
				case 1LL: { // Some
					VAL v79 = mtp_std_maybe_Maybe_1_Some(v74);
					int64_t branch_Bool_80;
					switch (get_data_tag(v71)) {
						case 1LL: { // Some
							VAL v81 = mtp_std_maybe_Maybe_1_Some(v71);
							bool v82 = (str_cmp(value_str(v81), value_str(v79)) == 0);
							branch_Bool_80 = ((int64_t)v82);
						} break;
						case 0LL: { // None
							decref(v79);
							int64_t v83 = 0LL /* False */;
							branch_Bool_80 = v83;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Bool_75 = branch_Bool_80;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL branch_ZPlusMirth_84;
			uint64_t branch_Token_85;
			VAL branch_z_x1_86;
			VAL branch_z_x2_87;
			VAL branch_z_x3_88;
			if (((bool)branch_Bool_75)) {
				branch_z_x3_88 = v72;
				branch_z_x2_87 = v9;
				branch_z_x1_86 = MKU64(in_Module_2);
				branch_Token_85 = in_Token_1;
				branch_ZPlusMirth_84 = in_ZPlusMirth_3;
			} else {
				STR* v89;
				STRLIT(v89, "expected .mth extension for mirth file", 38);
				VAL v90;
				mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(in_Token_1, MKSTR(v89), in_ZPlusMirth_3, &v90);
				branch_z_x3_88 = v72;
				branch_z_x2_87 = v9;
				branch_z_x1_86 = MKU64(in_Module_2);
				branch_Token_85 = in_Token_1;
				branch_ZPlusMirth_84 = v90;
			}
			incref(branch_z_x1_86);
			uint64_t v91 = mw_mirth_module_Module_name(value_u64(branch_z_x1_86));
			VAL v92 = mw_mirth_name_Name_ZToStr(v91);
			bool v93 = (str_cmp(value_str(branch_z_x3_88), value_str(v92)) == 0);
			VAL branch_ZPlusMirth_94;
			uint64_t branch_Token_95;
			VAL branch_z_x1_96;
			VAL branch_z_x2_97;
			if (v93) {
				branch_z_x2_97 = branch_z_x2_87;
				branch_z_x1_96 = branch_z_x1_86;
				branch_Token_95 = branch_Token_85;
				branch_ZPlusMirth_94 = branch_ZPlusMirth_84;
			} else {
				STR* v98;
				STRLIT(v98, "expected module name to match file name", 39);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_85, MKSTR(v98), branch_ZPlusMirth_84);
			}
			incref(branch_z_x1_96);
			uint64_t v100 = mw_mirth_module_Module_package(value_u64(branch_z_x1_96));
			VAL v101;
			mw_mirth_package_Package_pathZBang(branch_ZPlusMirth_94, branch_z_x2_97, v100, &v101);
			decref(branch_z_x1_96);
			branch_ZPlusMirth_10 = v101;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static uint64_t mw_mirth_elab_elabZ_moduleZ_declZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v7 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_1));
	VAL v8 = VTUP(in_ZPlusMirth_2)->cells[5];
	decref(v8);
	VTUP(in_ZPlusMirth_2)->cells[5] = v7;
	VAL v9 = mw_mirth_token_Token_nameZAsk(in_Token_1);
	uint64_t branch_Token_10;
	VAL branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x1_12 = v13;
			branch_ZPlusMirth_11 = in_ZPlusMirth_2;
			branch_Token_10 = in_Token_1;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "unknown declaration", 19);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v14), in_ZPlusMirth_2);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v18 = mw_mirth_name_Name_defs(value_u64(branch_z_x1_12));
	VAL v19 = MKI64(0LL /* None */);
	int64_t v20 = 1LL /* True */;
	VAL v21 = v19;
	VAL v22 = v18;
	int64_t v23 = v20;
	int64_t v24 = v20;
	while (((bool)v24)) {
		VAL v25 = v21;
		VAL v26 = v22;
		int64_t v27 = v23;
		VAL v28;
		VAL v29 = mw_std_list_List_1_uncons(v26, &v28);
		VAL branch_Maybe_30;
		VAL branch_List_31;
		int64_t branch_Bool_32;
		switch (get_data_tag(v29)) {
			case 1LL: { // Some
				VAL v33 = mtp_std_maybe_Maybe_1_Some(v29);
				VAL v34 = mw_mirth_def_Def_primZAsk(v33);
				VAL branch_Maybe_35;
				VAL branch_List_36;
				switch (get_data_tag(v34)) {
					case 0LL: { // None
						branch_List_36 = v28;
						branch_Maybe_35 = v25;
					} break;
					default: {
						decref(v28);
						decref(v25);
						VAL v37 = MKI64(0LL /* Nil */);
						branch_List_36 = v37;
						branch_Maybe_35 = v34;
					} break;
				}
				int64_t v38 = 1LL /* True */;
				branch_Bool_32 = v38;
				branch_List_31 = branch_List_36;
				branch_Maybe_30 = branch_Maybe_35;
			} break;
			case 0LL: { // None
				int64_t v39 = 0LL /* False */;
				branch_Bool_32 = v39;
				branch_List_31 = v28;
				branch_Maybe_30 = v25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_32;
		v23 = branch_Bool_32;
		v22 = branch_List_31;
		v21 = branch_Maybe_30;
	}
	decref(v22);
	uint64_t branch_Token_40;
	VAL branch_ZPlusMirth_41;
	VAL branch_z_x1_42;
	switch (get_data_tag(v21)) {
		case 1LL: { // Some
			VAL v43 = mtp_std_maybe_Maybe_1_Some(v21);
			branch_z_x1_42 = v43;
			branch_ZPlusMirth_41 = branch_ZPlusMirth_11;
			branch_Token_40 = branch_Token_10;
		} break;
		case 0LL: { // None
			STR* v44;
			STRLIT(v44, "unknown declaration", 19);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_10, MKSTR(v44), branch_ZPlusMirth_11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t branch_Token_48;
	VAL branch_ZPlusMirth_49;
	switch (get_data_tag(branch_z_x1_42)) {
		case 114LL: { // PRIM_SYNTAX_IMPORT
			VAL v50;
			uint64_t v51 = mw_mirth_elab_elabZ_moduleZ_importZBang(branch_Token_40, branch_ZPlusMirth_41, &v50);
			branch_ZPlusMirth_49 = v50;
			branch_Token_48 = v51;
		} break;
		case 115LL: { // PRIM_SYNTAX_ALIAS
			VAL v52;
			uint64_t v53 = mw_mirth_elab_elabZ_aliasZBang(branch_ZPlusMirth_41, branch_Token_40, &v52);
			branch_ZPlusMirth_49 = v52;
			branch_Token_48 = v53;
		} break;
		case 116LL: { // PRIM_SYNTAX_INLINE
			VAL v54;
			uint64_t v55 = mw_mirth_elab_elabZ_inlineZBang(branch_Token_40, branch_ZPlusMirth_41, &v54);
			branch_ZPlusMirth_49 = v54;
			branch_Token_48 = v55;
		} break;
		case 117LL: { // PRIM_SYNTAX_DEF
			VAL v56;
			uint64_t v57 = mw_mirth_elab_elabZ_defZBang(branch_ZPlusMirth_41, branch_Token_40, &v56);
			branch_ZPlusMirth_49 = v56;
			branch_Token_48 = v57;
		} break;
		case 118LL: { // PRIM_SYNTAX_DEF_MISSING
			VAL v58;
			uint64_t v59 = mw_mirth_elab_elabZ_defZ_missingZBang(branch_ZPlusMirth_41, branch_Token_40, &v58);
			branch_ZPlusMirth_49 = v58;
			branch_Token_48 = v59;
		} break;
		case 119LL: { // PRIM_SYNTAX_DEF_TYPE
			VAL v60;
			uint64_t v61 = mw_mirth_elab_elabZ_defZ_typeZBang(branch_ZPlusMirth_41, branch_Token_40, &v60);
			branch_ZPlusMirth_49 = v60;
			branch_Token_48 = v61;
		} break;
		case 123LL: { // PRIM_SYNTAX_DEF_EXTERNAL
			STR* v62;
			STRLIT(v62, "def-external", 12);
			STR* v63;
			STRLIT(v63, "external", 8);
			VAL v64;
			mw_mirth_mirth_ZPlusMirth_emitZ_deprecatedZBang(branch_Token_40, MKSTR(v62), MKSTR(v63), branch_ZPlusMirth_41, &v64);
			VAL v65;
			uint64_t v66 = mw_mirth_elab_elabZ_externalZBang(v64, branch_Token_40, &v65);
			branch_ZPlusMirth_49 = v65;
			branch_Token_48 = v66;
		} break;
		case 122LL: { // PRIM_SYNTAX_EXTERNAL
			VAL v67;
			uint64_t v68 = mw_mirth_elab_elabZ_externalZBang(branch_ZPlusMirth_41, branch_Token_40, &v67);
			branch_ZPlusMirth_49 = v67;
			branch_Token_48 = v68;
		} break;
		case 120LL: { // PRIM_SYNTAX_BUFFER
			VAL v69;
			uint64_t v70 = mw_mirth_elab_elabZ_bufferZBang(branch_ZPlusMirth_41, branch_Token_40, &v69);
			branch_ZPlusMirth_49 = v69;
			branch_Token_48 = v70;
		} break;
		case 121LL: { // PRIM_SYNTAX_VARIABLE
			VAL v71;
			uint64_t v72 = mw_mirth_elab_elabZ_variableZBang(branch_ZPlusMirth_41, branch_Token_40, &v71);
			branch_ZPlusMirth_49 = v71;
			branch_Token_48 = v72;
		} break;
		case 125LL: { // PRIM_SYNTAX_TABLE
			VAL v73;
			uint64_t v74 = mw_mirth_elab_elabZ_tableZBang(branch_ZPlusMirth_41, branch_Token_40, &v73);
			branch_ZPlusMirth_49 = v73;
			branch_Token_48 = v74;
		} break;
		case 126LL: { // PRIM_SYNTAX_FIELD
			VAL v75;
			uint64_t v76 = mw_mirth_elab_elabZ_fieldZBang(branch_ZPlusMirth_41, branch_Token_40, &v75);
			branch_ZPlusMirth_49 = v75;
			branch_Token_48 = v76;
		} break;
		case 127LL: { // PRIM_SYNTAX_DATA
			VAL v77;
			uint64_t v78 = mw_mirth_elab_elabZ_dataZBang(branch_ZPlusMirth_41, branch_Token_40, &v77);
			branch_ZPlusMirth_49 = v77;
			branch_Token_48 = v78;
		} break;
		case 128LL: { // PRIM_SYNTAX_STRUCT
			VAL v79;
			uint64_t v80 = mw_mirth_elab_elabZ_structZBang(branch_ZPlusMirth_41, branch_Token_40, &v79);
			branch_ZPlusMirth_49 = v79;
			branch_Token_48 = v80;
		} break;
		case 124LL: { // PRIM_SYNTAX_EMBED_STR
			VAL v81;
			uint64_t v82 = mw_mirth_elab_elabZ_embedZ_strZBang(branch_Token_40, branch_ZPlusMirth_41, &v81);
			branch_ZPlusMirth_49 = v81;
			branch_Token_48 = v82;
		} break;
		default: {
			decref(branch_z_x1_42);
			STR* v83;
			STRLIT(v83, "unknown declaration", 19);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_40, MKSTR(v83), branch_ZPlusMirth_41);
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_49;
	return branch_Token_48;
}
static uint64_t mw_mirth_elab_loadZ_module (uint64_t in_Token_1, VAL in_QName_2, VAL in_ZPlusMirth_3, uint64_t *out_Module_5, VAL *out_ZPlusMirth_6) {
	incref(in_QName_2);
	VAL v9;
	VAL v10 = mw_mirth_name_QName_defZ_softZAsk(in_ZPlusMirth_3, in_QName_2, &v9);
	uint64_t branch_Token_11;
	VAL branch_ZPlusMirth_12;
	uint64_t branch_Module_13;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			VAL v15 = mw_mirth_def_Def_moduleZAsk(v14);
			uint64_t branch_Token_16;
			VAL branch_ZPlusMirth_17;
			VAL branch_z_x1_18;
			VAL branch_z_x2_19;
			switch (get_data_tag(v15)) {
				case 1LL: { // Some
					VAL v20 = mtp_std_maybe_Maybe_1_Some(v15);
					branch_z_x2_19 = v20;
					branch_z_x1_18 = in_QName_2;
					branch_ZPlusMirth_17 = v9;
					branch_Token_16 = in_Token_1;
				} break;
				case 0LL: { // None
					decref(in_QName_2);
					STR* v21;
					STRLIT(v21, "module name already taken", 25);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, MKSTR(v21), v9);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(branch_z_x1_18);
			branch_Module_13 = value_u64(branch_z_x2_19);
			branch_ZPlusMirth_12 = branch_ZPlusMirth_17;
			branch_Token_11 = branch_Token_16;
		} break;
		case 0LL: { // None
			VAL v26;
			VAL v27 = mw_mirth_name_QName_toZ_moduleZ_path(in_QName_2, v9, &v26);
			VAL v28;
			uint64_t v29 = mw_mirth_lexer_runZ_lexerZBang(v27, v26, &v28);
			VAL v30;
			uint64_t v31 = mw_mirth_elab_elabZ_moduleZBang(v29, v28, &v30);
			branch_Module_13 = v31;
			branch_ZPlusMirth_12 = v30;
			branch_Token_11 = in_Token_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_6 = branch_ZPlusMirth_12;
	*out_Module_5 = branch_Module_13;
	return branch_Token_11;
}
static uint64_t mw_mirth_elab_elabZ_moduleZ_importZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	uint64_t v7 = mw_mirth_token_Token_next(in_Token_1);
	VAL v8;
	uint64_t v9 = mw_mirth_token_Token_argsZ_1(in_Token_1, in_ZPlusMirth_2, &v8);
	VAL v10;
	VAL v11 = mw_mirth_elab_elabZ_moduleZ_qname(v8, v9, &v10);
	uint64_t v12;
	VAL v13;
	uint64_t v14 = mw_mirth_elab_loadZ_module(v9, v11, v10, &v12, &v13);
	uint64_t v15 = mw_mirth_token_Token_module(v14);
	mw_mirth_module_Module_addZ_importZBang(v15, v12);
	*out_ZPlusMirth_4 = v13;
	return v7;
}
static uint64_t mw_mirth_elab_parseZ_data (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_SyntaxData_5) {
	int64_t v6 = mw_mirth_token_Token_numZ_args(in_Token_2);
	int64_t v7 = 0LL;
	bool v8 = (v6 > v7);
	uint64_t branch_SyntaxDataHeader_9;
	VAL branch_ZPlusMirth_10;
	VAL branch_List_11;
	uint64_t branch_Token_12;
	if (v8) {
		uint64_t v13 = mw_mirth_token_Token_succ(in_Token_2);
		VAL v14 = mw_mirth_token_Token_lparenZAsk(v13);
		int64_t v15 = get_data_tag(v14);
		decref(v14);
		int64_t v16 = 0LL;
		bool v17 = (v15 == v16);
		uint64_t branch_Token_18;
		VAL branch_ZPlusMirth_19;
		if (v17) {
			STR* v20;
			STRLIT(v20, "expected left parenthesis '('", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v13, MKSTR(v20), in_ZPlusMirth_1);
		} else {
			branch_ZPlusMirth_19 = in_ZPlusMirth_1;
			branch_Token_18 = v13;
		}
		uint64_t v23 = mw_mirth_token_Token_succ(branch_Token_18);
		VAL v24;
		uint64_t v25;
		uint64_t v26 = mw_mirth_elab_parseZ_dataZ_header(branch_ZPlusMirth_19, v23, &v24, &v25);
		int64_t v27 = mw_mirth_token_Token_commaZAsk(v26);
		uint64_t branch_Token_28;
		if (((bool)v27)) {
			uint64_t v29 = mw_mirth_token_Token_succ(v26);
			branch_Token_28 = v29;
		} else {
			branch_Token_28 = v26;
		}
		VAL v30;
		VAL v31;
		uint64_t v32 = mw_mirth_elab_parseZ_dataZ_tags(v24, branch_Token_28, &v30, &v31);
		VAL v33 = mw_mirth_token_Token_rparenZAsk(v32);
		int64_t v34 = get_data_tag(v33);
		decref(v33);
		int64_t v35 = 0LL;
		bool v36 = (v34 == v35);
		uint64_t branch_Token_37;
		VAL branch_ZPlusMirth_38;
		if (v36) {
			STR* v39;
			STRLIT(v39, "expected right parenthesis ')'", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v32, MKSTR(v39), v30);
		} else {
			branch_ZPlusMirth_38 = v30;
			branch_Token_37 = v32;
		}
		uint64_t v42 = mw_mirth_token_Token_succ(branch_Token_37);
		branch_Token_12 = v42;
		branch_List_11 = v31;
		branch_ZPlusMirth_10 = branch_ZPlusMirth_38;
		branch_SyntaxDataHeader_9 = v25;
	} else {
		uint64_t v43 = mw_mirth_token_Token_succ(in_Token_2);
		VAL v44;
		uint64_t v45;
		uint64_t v46 = mw_mirth_elab_parseZ_dataZ_header(in_ZPlusMirth_1, v43, &v44, &v45);
		VAL v47 = mw_mirth_token_Token_lcurlyZAsk(v46);
		int64_t v48 = get_data_tag(v47);
		decref(v47);
		int64_t v49 = 0LL;
		bool v50 = (v48 == v49);
		uint64_t branch_Token_51;
		VAL branch_ZPlusMirth_52;
		if (v50) {
			STR* v53;
			STRLIT(v53, "expected left curly brace '{'", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v46, MKSTR(v53), v44);
		} else {
			branch_ZPlusMirth_52 = v44;
			branch_Token_51 = v46;
		}
		uint64_t v56 = mw_mirth_token_Token_succ(branch_Token_51);
		VAL v57;
		VAL v58;
		uint64_t v59 = mw_mirth_elab_parseZ_dataZ_tags(branch_ZPlusMirth_52, v56, &v57, &v58);
		VAL v60 = mw_mirth_token_Token_rcurlyZAsk(v59);
		int64_t v61 = get_data_tag(v60);
		decref(v60);
		int64_t v62 = 0LL;
		bool v63 = (v61 == v62);
		uint64_t branch_Token_64;
		VAL branch_ZPlusMirth_65;
		if (v63) {
			STR* v66;
			STRLIT(v66, "expected right curly brace '}'", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v59, MKSTR(v66), v57);
		} else {
			branch_ZPlusMirth_65 = v57;
			branch_Token_64 = v59;
		}
		uint64_t v69 = mw_mirth_token_Token_succ(branch_Token_64);
		branch_Token_12 = v69;
		branch_List_11 = v58;
		branch_ZPlusMirth_10 = branch_ZPlusMirth_65;
		branch_SyntaxDataHeader_9 = v45;
	}
	VAL v70 = mtw_mirth_elab_SyntaxData_SyntaxData(branch_SyntaxDataHeader_9, branch_List_11);
	*out_SyntaxData_5 = v70;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_Token_12;
}
static uint64_t mw_mirth_elab_parseZ_dataZ_header (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, uint64_t *out_SyntaxDataHeader_5) {
	uint64_t v6 = mw_mirth_token_Token_next(in_Token_2);
	VAL v7 = mw_mirth_token_Token_lastZ_nameZAsk(in_Token_2);
	int64_t v8 = mw_std_maybe_Maybe_1_has_1_sp7(v7);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	if (((bool)v8)) {
		branch_Token_10 = in_Token_2;
		branch_ZPlusMirth_9 = in_ZPlusMirth_1;
	} else {
		STR* v11;
		STRLIT(v11, "Expected type name.", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v11), in_ZPlusMirth_1);
	}
	*out_SyntaxDataHeader_5 = branch_Token_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return v6;
}
static uint64_t mw_mirth_elab_parseZ_dataZ_tags (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_List_5) {
	VAL v6 = MKI64(0LL /* Nil */);
	VAL v7 = mw_std_list_List_1_reverse(v6);
	int64_t v8 = mw_mirth_token_Token_argZ_endZAsk(in_Token_2);
	bool v9 = !((bool)v8);
	VAL v10 = in_ZPlusMirth_1;
	uint64_t v11 = in_Token_2;
	VAL v12 = v7;
	bool v13 = v9;
	while (v13) {
		VAL v14 = v10;
		uint64_t v15 = v11;
		VAL v16 = v12;
		VAL v17;
		VAL v18;
		uint64_t v19 = mw_mirth_elab_parseZ_dataZ_tag(v14, v15, &v17, &v18);
		VAL v20 = mtw_std_list_List_1_Cons(v18, v16);
		int64_t v21 = mw_mirth_token_Token_argZ_endZAsk(v19);
		bool v22 = !((bool)v21);
		v13 = v22;
		v12 = v20;
		v11 = v19;
		v10 = v17;
	}
	VAL v23 = mw_std_list_List_1_reverse(v12);
	*out_List_5 = v23;
	*out_ZPlusMirth_3 = v10;
	return v11;
}
static uint64_t mw_mirth_elab_parseZ_dataZ_tag (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_SyntaxDataTag_5) {
	VAL v6 = mw_mirth_token_Token_intZAsk(in_Token_2);
	incref(v6);
	int64_t v7 = get_data_tag(v6);
	decref(v6);
	int64_t v8 = 1LL;
	bool v9 = (v7 == v8);
	uint64_t branch_Token_10;
	if (v9) {
		uint64_t v11 = mw_mirth_token_Token_succ(in_Token_2);
		branch_Token_10 = v11;
	} else {
		branch_Token_10 = in_Token_2;
	}
	VAL v12 = mw_mirth_token_Token_nameZAsk(branch_Token_10);
	VAL v13 = mw_std_maybe_Maybe_1_filter_1_sp13(v12);
	uint64_t branch_Token_14;
	VAL branch_ZPlusMirth_15;
	VAL branch_z_x1_16;
	switch (get_data_tag(v13)) {
		case 1LL: { // Some
			VAL v17 = mtp_std_maybe_Maybe_1_Some(v13);
			branch_z_x1_16 = v17;
			branch_ZPlusMirth_15 = in_ZPlusMirth_1;
			branch_Token_14 = branch_Token_10;
		} break;
		case 0LL: { // None
			STR* v18;
			STRLIT(v18, "Expected constructor name.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_10, MKSTR(v18), in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v22 = mw_mirth_token_Token_succ(branch_Token_14);
	int64_t v23 = mw_mirth_token_Token_arrowZAsk(v22);
	VAL branch_ZPlusMirth_24;
	uint64_t branch_Token_25;
	VAL branch_Maybe_26;
	uint64_t branch_Name_27;
	VAL branch_Maybe_28;
	uint64_t branch_Token_29;
	if (((bool)v23)) {
		uint64_t v30 = mw_mirth_token_Token_succ(v22);
		VAL v31 = mtw_std_maybe_Maybe_1_Some(MKU64(v30));
		uint64_t v32 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(v30);
		int64_t v33 = mw_mirth_token_Token_argZ_endZAsk(v32);
		uint64_t branch_Token_34;
		VAL branch_ZPlusMirth_35;
		if (((bool)v33)) {
			branch_ZPlusMirth_35 = branch_ZPlusMirth_15;
			branch_Token_34 = v32;
		} else {
			STR* v36;
			STRLIT(v36, "Expected comma.", 15);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v32, MKSTR(v36), branch_ZPlusMirth_15);
		}
		branch_Token_29 = branch_Token_34;
		branch_Maybe_28 = v31;
		branch_Name_27 = value_u64(branch_z_x1_16);
		branch_Maybe_26 = v6;
		branch_Token_25 = in_Token_2;
		branch_ZPlusMirth_24 = branch_ZPlusMirth_35;
	} else {
		VAL v39 = mw_mirth_token_Token_lsquareZAsk(v22);
		int64_t v40 = get_data_tag(v39);
		decref(v39);
		int64_t v41 = 1LL;
		bool v42 = (v40 == v41);
		VAL branch_ZPlusMirth_43;
		VAL branch_Maybe_44;
		uint64_t branch_Token_45;
		if (v42) {
			uint64_t v46 = mw_mirth_token_Token_succ(v22);
			VAL v47 = mtw_std_maybe_Maybe_1_Some(MKU64(v46));
			uint64_t v48 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(v46);
			VAL v49 = mw_mirth_token_Token_rsquareZAsk(v48);
			int64_t v50 = get_data_tag(v49);
			decref(v49);
			int64_t v51 = 0LL;
			bool v52 = (v50 == v51);
			uint64_t branch_Token_53;
			VAL branch_ZPlusMirth_54;
			if (v52) {
				STR* v55;
				STRLIT(v55, "Expected right square bracket ']'", 33);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v48, MKSTR(v55), branch_ZPlusMirth_15);
			} else {
				branch_ZPlusMirth_54 = branch_ZPlusMirth_15;
				branch_Token_53 = v48;
			}
			uint64_t v58 = mw_mirth_token_Token_succ(branch_Token_53);
			branch_Token_45 = v58;
			branch_Maybe_44 = v47;
			branch_ZPlusMirth_43 = branch_ZPlusMirth_54;
		} else {
			VAL v59 = MKI64(0LL /* None */);
			branch_Token_45 = v22;
			branch_Maybe_44 = v59;
			branch_ZPlusMirth_43 = branch_ZPlusMirth_15;
		}
		branch_Token_29 = branch_Token_45;
		branch_Maybe_28 = branch_Maybe_44;
		branch_Name_27 = value_u64(branch_z_x1_16);
		branch_Maybe_26 = v6;
		branch_Token_25 = in_Token_2;
		branch_ZPlusMirth_24 = branch_ZPlusMirth_43;
	}
	int64_t v60 = mw_mirth_token_Token_commaZAsk(branch_Token_29);
	uint64_t branch_Token_61;
	if (((bool)v60)) {
		uint64_t v62 = mw_mirth_token_Token_succ(branch_Token_29);
		branch_Token_61 = v62;
	} else {
		branch_Token_61 = branch_Token_29;
	}
	VAL v63 = mtw_mirth_elab_SyntaxDataTag_SyntaxDataTag(branch_Token_25, branch_Maybe_26, branch_Name_27, branch_Maybe_28);
	*out_SyntaxDataTag_5 = v63;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_24;
	return branch_Token_61;
}
static uint64_t mw_mirth_elab_parseZ_struct (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_SyntaxData_5) {
	int64_t v6 = mw_mirth_token_Token_numZ_args(in_Token_2);
	int64_t v7 = 0LL;
	bool v8 = (v6 > v7);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_SyntaxDataHeader_10;
	VAL branch_List_11;
	uint64_t branch_Token_12;
	if (v8) {
		uint64_t v13 = mw_mirth_token_Token_succ(in_Token_2);
		VAL v14 = mw_mirth_token_Token_lparenZAsk(v13);
		int64_t v15 = get_data_tag(v14);
		decref(v14);
		int64_t v16 = 1LL;
		bool v17 = (v15 == v16);
		uint64_t branch_Token_18;
		VAL branch_ZPlusMirth_19;
		if (v17) {
			STR* v20;
			STRLIT(v20, "Expected left parenthesis '('", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v13, MKSTR(v20), in_ZPlusMirth_1);
		} else {
			branch_ZPlusMirth_19 = in_ZPlusMirth_1;
			branch_Token_18 = v13;
		}
		uint64_t v23 = mw_mirth_token_Token_succ(branch_Token_18);
		VAL v24;
		uint64_t v25;
		uint64_t v26 = mw_mirth_elab_parseZ_dataZ_header(branch_ZPlusMirth_19, v23, &v24, &v25);
		int64_t v27 = mw_mirth_token_Token_commaZAsk(v26);
		uint64_t branch_Token_28;
		if (((bool)v27)) {
			uint64_t v29 = mw_mirth_token_Token_succ(v26);
			branch_Token_28 = v29;
		} else {
			branch_Token_28 = v26;
		}
		VAL v30;
		uint64_t v31;
		VAL v32;
		uint64_t v33 = mw_mirth_elab_parseZ_structZ_tag(v24, branch_Token_28, v25, &v30, &v31, &v32);
		VAL v34 = MKI64(0LL /* Nil */);
		VAL v35 = mtw_std_list_List_1_Cons(v32, v34);
		VAL v36 = mw_mirth_token_Token_rparenZAsk(v33);
		int64_t v37 = get_data_tag(v36);
		decref(v36);
		int64_t v38 = 1LL;
		bool v39 = (v37 == v38);
		uint64_t branch_Token_40;
		VAL branch_ZPlusMirth_41;
		if (v39) {
			STR* v42;
			STRLIT(v42, "Expected right parenthesis ')'", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v33, MKSTR(v42), v30);
		} else {
			branch_ZPlusMirth_41 = v30;
			branch_Token_40 = v33;
		}
		uint64_t v45 = mw_mirth_token_Token_succ(branch_Token_40);
		branch_Token_12 = v45;
		branch_List_11 = v35;
		branch_SyntaxDataHeader_10 = v31;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_41;
	} else {
		uint64_t v46 = mw_mirth_token_Token_succ(in_Token_2);
		VAL v47;
		uint64_t v48;
		uint64_t v49 = mw_mirth_elab_parseZ_dataZ_header(in_ZPlusMirth_1, v46, &v47, &v48);
		VAL v50 = mw_mirth_token_Token_lcurlyZAsk(v49);
		int64_t v51 = get_data_tag(v50);
		decref(v50);
		int64_t v52 = 0LL;
		bool v53 = (v51 == v52);
		uint64_t branch_Token_54;
		VAL branch_ZPlusMirth_55;
		if (v53) {
			STR* v56;
			STRLIT(v56, "expected left curly brace '{'", 29);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v49, MKSTR(v56), v47);
		} else {
			branch_ZPlusMirth_55 = v47;
			branch_Token_54 = v49;
		}
		uint64_t v59 = mw_mirth_token_Token_succ(branch_Token_54);
		VAL v60;
		uint64_t v61;
		VAL v62;
		uint64_t v63 = mw_mirth_elab_parseZ_structZ_tag(branch_ZPlusMirth_55, v59, v48, &v60, &v61, &v62);
		VAL v64 = MKI64(0LL /* Nil */);
		VAL v65 = mtw_std_list_List_1_Cons(v62, v64);
		VAL v66 = mw_mirth_token_Token_rcurlyZAsk(v63);
		int64_t v67 = get_data_tag(v66);
		decref(v66);
		int64_t v68 = 0LL;
		bool v69 = (v67 == v68);
		uint64_t branch_Token_70;
		VAL branch_ZPlusMirth_71;
		if (v69) {
			STR* v72;
			STRLIT(v72, "expected right curly brace '}'", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v63, MKSTR(v72), v60);
		} else {
			branch_ZPlusMirth_71 = v60;
			branch_Token_70 = v63;
		}
		uint64_t v75 = mw_mirth_token_Token_succ(branch_Token_70);
		branch_Token_12 = v75;
		branch_List_11 = v65;
		branch_SyntaxDataHeader_10 = v61;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_71;
	}
	VAL v76 = mtw_mirth_elab_SyntaxData_SyntaxData(branch_SyntaxDataHeader_10, branch_List_11);
	*out_SyntaxData_5 = v76;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_Token_12;
}
static uint64_t mw_mirth_elab_parseZ_structZ_tag (VAL in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_SyntaxDataHeader_3, VAL *out_ZPlusMirth_4, uint64_t *out_SyntaxDataHeader_6, VAL *out_SyntaxDataTag_7) {
	VAL v8 = mw_mirth_token_Token_lastZ_nameZAsk(in_SyntaxDataHeader_3);
	VAL v9 = mw_std_maybe_Maybe_1_filter_1_sp13(v8);
	VAL branch_ZPlusMirth_10;
	uint64_t branch_SyntaxDataHeader_11;
	VAL branch_z_x1_12;
	switch (get_data_tag(v9)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
			branch_z_x1_12 = v13;
			branch_SyntaxDataHeader_11 = in_SyntaxDataHeader_3;
			branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v14;
			STRLIT(v14, "Expected constructor name.", 26);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_SyntaxDataHeader_3, MKSTR(v14), in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v17 = MKI64(0LL /* None */);
	VAL v18 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_2));
	uint64_t v19 = mw_mirth_token_Token_sigZ_nextZ_stackZ_end(in_Token_2);
	VAL v20 = mtw_mirth_elab_SyntaxDataTag_SyntaxDataTag(in_SyntaxDataHeader_3, v17, value_u64(branch_z_x1_12), v18);
	*out_SyntaxDataTag_7 = v20;
	*out_SyntaxDataHeader_6 = branch_SyntaxDataHeader_11;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return v19;
}
static uint64_t mw_mirth_elab_elabZ_dataZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_4) {
	VAL v5;
	VAL v6;
	uint64_t v7 = mw_mirth_elab_parseZ_data(in_ZPlusMirth_1, in_Token_2, &v5, &v6);
	VAL v8;
	mw_mirth_elab_elabZ_dataZ_auxZBang(v6, v5, &v8);
	*out_ZPlusMirth_4 = v8;
	return v7;
}
static uint64_t mw_mirth_elab_elabZ_structZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_4) {
	VAL v5;
	VAL v6;
	uint64_t v7 = mw_mirth_elab_parseZ_struct(in_ZPlusMirth_1, in_Token_2, &v5, &v6);
	VAL v8;
	mw_mirth_elab_elabZ_dataZ_auxZBang(v6, v5, &v8);
	*out_ZPlusMirth_4 = v8;
	return v7;
}
static void mw_mirth_elab_elabZ_dataZ_auxZBang (VAL in_SyntaxData_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_3) {
	uint64_t v4;
	VAL v5;
	mtp_mirth_elab_SyntaxData_SyntaxData(in_SyntaxData_1, &v4, &v5);
	uint64_t v6 = mw_mirth_data_Data_allocZBang();
	VAL v7 = MKI64(0LL /* Nil */);
	void* v8 = mfld_mirth_data_Data_ZTildetags(v6);
	mut_set(v7, v8);
	VAL v9;
	uint64_t v10 = mw_mirth_elab_elabZ_dataZ_headerZBang(v6, v4, in_ZPlusMirth_2, &v9);
	int64_t v11 = 1LL /* True */;
	uint64_t v12 = v10;
	VAL v13 = v9;
	VAL v14 = v5;
	int64_t v15 = v11;
	int64_t v16 = v11;
	while (((bool)v16)) {
		uint64_t v17 = v12;
		VAL v18 = v13;
		VAL v19 = v14;
		int64_t v20 = v15;
		uint64_t branch_Data_21;
		VAL branch_ZPlusMirth_22;
		VAL branch_List_23;
		int64_t branch_Bool_24;
		switch (get_data_tag(v19)) {
			case 1LL: { // Cons
				VAL v25;
				VAL v26 = mtp_std_list_List_1_Cons(v19, &v25);
				VAL v27;
				uint64_t v28 = mw_mirth_elab_elabZ_dataZ_tagZBang(v17, v26, v18, &v27);
				int64_t v29 = 1LL /* True */;
				branch_Bool_24 = v29;
				branch_List_23 = v25;
				branch_ZPlusMirth_22 = v27;
				branch_Data_21 = v28;
			} break;
			case 0LL: { // Nil
				VAL v30 = MKI64(0LL /* Nil */);
				int64_t v31 = 0LL /* False */;
				branch_Bool_24 = v31;
				branch_List_23 = v30;
				branch_ZPlusMirth_22 = v18;
				branch_Data_21 = v17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_24;
		v15 = branch_Bool_24;
		v14 = branch_List_23;
		v13 = branch_ZPlusMirth_22;
		v12 = branch_Data_21;
	}
	decref(v14);
	VAL v32;
	mw_mirth_elab_elabZ_dataZ_doneZBang(v13, v12, &v32);
	*out_ZPlusMirth_3 = v32;
}
static uint64_t mw_mirth_elab_elabZ_dataZ_headerZBang (uint64_t in_Data_1, uint64_t in_SyntaxDataHeader_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_5) {
	VAL v6 = mw_mirth_token_Token_lastZ_nameZAsk(in_SyntaxDataHeader_2);
	int64_t v7 = mw_std_maybe_Maybe_1_has_1_sp7(v6);
	VAL branch_ZPlusMirth_8;
	uint64_t branch_Token_9;
	if (((bool)v7)) {
		branch_Token_9 = in_SyntaxDataHeader_2;
		branch_ZPlusMirth_8 = in_ZPlusMirth_3;
	} else {
		STR* v10;
		STRLIT(v10, "Expected type name.", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_SyntaxDataHeader_2, MKSTR(v10), in_ZPlusMirth_3);
	}
	VAL v12;
	uint64_t v13;
	uint64_t v14;
	int64_t v15;
	VAL v16;
	mw_mirth_elab_elabZ_defZ_head(branch_ZPlusMirth_8, branch_Token_9, &v12, &v13, &v14, &v15, &v16);
	VAL v17 = mtw_std_maybe_Maybe_1_Some(MKU64(v13));
	void* v18 = mfld_mirth_data_Data_ZTildeheadZAsk(in_Data_1);
	mut_set(v17, v18);
	void* v19 = mfld_mirth_data_Data_ZTildearity(in_Data_1);
	mut_set(MKI64(v15), v19);
	void* v20 = mfld_mirth_data_Data_ZTildename(in_Data_1);
	mut_set(MKU64(v14), v20);
	VAL v21 = mtw_mirth_mirth_PropLabel_DataQName(in_Data_1);
	VAL v22 = mtw_mirth_mirth_Prop_1_Prop(v21, v16);
	void* v23 = mfld_mirth_data_Data_ZTildeqname(in_Data_1);
	mut_set(v22, v23);
	VAL v24 = mw_mirth_token_Token_args(v13);
	VAL v25 = mtw_mirth_mirth_PropLabel_DataParams(in_Data_1);
	FNPTR v26 = &mb_mirth_mirth_PropLabel_prop_1_sp14_0;
	VAL v27 = mtw_mirth_mirth_PropState_1_PSDelay(v24, MKFNPTR(v26));
	VAL v28 = mtw_mirth_mirth_Prop_1_Prop(v25, v27);
	void* v29 = mfld_mirth_data_Data_ZTildeparams(in_Data_1);
	mut_set(v28, v29);
	VAL v30 = mtw_mirth_def_Def_DefData(in_Data_1);
	VAL v31;
	mw_mirth_def_Def_register(v12, v30, &v31);
	*out_ZPlusMirth_5 = v31;
	return in_Data_1;
}
static VAL mw_mirth_elab_elabZ_dataZ_paramsZBang (VAL in_List_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5 = mw_mirth_var_Ctx0();
	int64_t v6 = 1LL /* True */;
	VAL v7 = v5;
	VAL v8 = in_ZPlusMirth_2;
	VAL v9 = in_List_1;
	int64_t v10 = v6;
	int64_t v11 = v6;
	while (((bool)v11)) {
		VAL v12 = v7;
		VAL v13 = v8;
		VAL v14 = v9;
		int64_t v15 = v10;
		VAL branch_ZPlusMirth_16;
		VAL branch_Ctx_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				incref(v21);
				VAL v22 = mw_mirth_token_Token_sigZ_typeZ_varZAsk(value_u64(v21));
				uint64_t branch_Token_23;
				VAL branch_ZPlusMirth_24;
				VAL branch_z_x1_25;
				switch (get_data_tag(v22)) {
					case 1LL: { // Some
						VAL v26 = mtp_std_maybe_Maybe_1_Some(v22);
						branch_z_x1_25 = v26;
						branch_ZPlusMirth_24 = v13;
						branch_Token_23 = value_u64(v21);
					} break;
					case 0LL: { // None
						STR* v27;
						STRLIT(v27, "Expected a type variable.", 25);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(value_u64(v21), MKSTR(v27), v13);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				incref(branch_z_x1_25);
				incref(v12);
				VAL v31 = mw_mirth_var_Ctx_lookup(value_u64(branch_z_x1_25), v12);
				int64_t v32 = get_data_tag(v31);
				decref(v31);
				int64_t v33 = 1LL;
				bool v34 = (v32 == v33);
				VAL branch_ZPlusMirth_35;
				uint64_t branch_Token_36;
				VAL branch_z_x1_37;
				if (v34) {
					STR* v38;
					STRLIT(v38, "Duplicate parameter name.", 25);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_23, MKSTR(v38), branch_ZPlusMirth_24);
				} else {
					branch_z_x1_37 = branch_z_x1_25;
					branch_Token_36 = branch_Token_23;
					branch_ZPlusMirth_35 = branch_ZPlusMirth_24;
				}
				VAL v41 = mw_mirth_type_TYPEz_TYPE();
				uint64_t v42 = mw_mirth_var_Var_newZBang(v41, value_u64(branch_z_x1_37));
				VAL v43 = mw_mirth_var_Ctx_new(v12, v42);
				int64_t v44 = 1LL /* True */;
				branch_Bool_19 = v44;
				branch_List_18 = v20;
				branch_Ctx_17 = v43;
				branch_ZPlusMirth_16 = branch_ZPlusMirth_35;
			} break;
			case 0LL: { // Nil
				VAL v45 = MKI64(0LL /* Nil */);
				int64_t v46 = 0LL /* False */;
				branch_Bool_19 = v46;
				branch_List_18 = v45;
				branch_Ctx_17 = v12;
				branch_ZPlusMirth_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusMirth_16;
		v7 = branch_Ctx_17;
	}
	decref(v9);
	VAL v47 = mw_mirth_var_Ctx_ZToList(v7);
	*out_ZPlusMirth_4 = v8;
	return v47;
}
static uint64_t mw_mirth_elab_elabZ_dataZ_tagZBang (uint64_t in_Data_1, VAL in_SyntaxDataTag_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_5) {
	uint64_t v6 = mw_mirth_data_Tag_allocZBang();
	incref(in_SyntaxDataTag_2);
	uint64_t v7 = value_u64(VTUP(in_SyntaxDataTag_2)->cells[3]);
	decref(in_SyntaxDataTag_2);
	int64_t v8 = 0LL;
	VAL v9 = mw_mirth_data_dataZ_qname(in_Data_1, v7, v8);
	void* v10 = mfld_mirth_data_Tag_ZTildeqname(v6);
	mut_set(v9, v10);
	incref(in_SyntaxDataTag_2);
	VAL v11 = VTUP(in_SyntaxDataTag_2)->cells[4];
	incref(v11);
	decref(in_SyntaxDataTag_2);
	void* v12 = mfld_mirth_data_Tag_ZTildesigZAsk(v6);
	mut_set(v11, v12);
	incref(in_SyntaxDataTag_2);
	VAL v13 = VTUP(in_SyntaxDataTag_2)->cells[2];
	incref(v13);
	decref(in_SyntaxDataTag_2);
	uint64_t branch_Tag_14;
	switch (get_data_tag(v13)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(v13);
			void* v16 = mfld_mirth_data_Tag_ZTildevalue(v6);
			mut_set(v15, v16);
			branch_Tag_14 = v6;
		} break;
		case 0LL: { // None
			branch_Tag_14 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	void* v17 = mfld_mirth_data_Tag_ZTildedata(branch_Tag_14);
	mut_set(MKU64(in_Data_1), v17);
	VAL v18;
	mw_mirth_data_Data_addZ_tagZBang(in_ZPlusMirth_3, branch_Tag_14, in_Data_1, &v18);
	VAL v19 = mtw_mirth_def_Def_DefTag(branch_Tag_14);
	VAL v20;
	mw_mirth_def_Def_register(v18, v19, &v20);
	incref(in_SyntaxDataTag_2);
	uint64_t v21 = value_u64(VTUP(in_SyntaxDataTag_2)->cells[1]);
	decref(in_SyntaxDataTag_2);
	VAL v22 = mtw_mirth_mirth_PropLabel_TagType(branch_Tag_14);
	TUP* v23 = tup_pack2(MKU64(v21), MKU64(branch_Tag_14));
	FNPTR v24 = &mb_mirth_mirth_PropLabel_prop_1_sp13_2;
	VAL v25 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v23, 2), MKFNPTR(v24));
	VAL v26 = mtw_mirth_mirth_Prop_1_Prop(v22, v25);
	void* v27 = mfld_mirth_data_Tag_ZTildectxZ_type(branch_Tag_14);
	mut_set(v26, v27);
	int64_t v28 = mw_mirth_data_Tag_numZ_typeZ_inputsZ_fromZ_sig(branch_Tag_14);
	void* v29 = mfld_mirth_data_Tag_ZTildenumZ_typeZ_inputs(branch_Tag_14);
	mut_set(MKI64(v28), v29);
	int64_t v30 = mw_mirth_data_Tag_numZ_resourceZ_inputsZ_fromZ_sig(branch_Tag_14);
	void* v31 = mfld_mirth_data_Tag_ZTildenumZ_resourceZ_inputs(branch_Tag_14);
	mut_set(MKI64(v30), v31);
	VAL v32 = mw_mirth_data_Tag_labelZ_inputsZ_fromZ_sig(branch_Tag_14);
	void* v33 = mfld_mirth_data_Tag_ZTildelabelZ_inputs(branch_Tag_14);
	mut_set(v32, v33);
	int64_t v34 = mw_mirth_data_Tag_outputsZ_resourceZAsk(branch_Tag_14);
	bool v35 = !((bool)v34);
	VAL branch_ZPlusMirth_36;
	uint64_t branch_Tag_37;
	if (v35) {
		VAL v38 = mw_mirth_data_Tag_sigZAsk(branch_Tag_14);
		VAL branch_ZPlusMirth_39;
		switch (get_data_tag(v38)) {
			case 1LL: { // Some
				VAL v40 = mtp_std_maybe_Maybe_1_Some(v38);
				VAL v41 = mw_mirth_token_Token_runZ_tokens(value_u64(v40));
				VAL v42 = MKI64(0LL /* None */);
				int64_t v43 = 1LL /* True */;
				VAL v44 = v42;
				VAL v45 = v41;
				int64_t v46 = v43;
				int64_t v47 = v43;
				while (((bool)v47)) {
					VAL v48 = v44;
					VAL v49 = v45;
					int64_t v50 = v46;
					VAL v51;
					VAL v52 = mw_std_list_List_1_uncons(v49, &v51);
					VAL branch_Maybe_53;
					VAL branch_List_54;
					int64_t branch_Bool_55;
					switch (get_data_tag(v52)) {
						case 1LL: { // Some
							VAL v56 = mtp_std_maybe_Maybe_1_Some(v52);
							incref(v56);
							incref(v56);
							VAL v57 = mw_mirth_token_Token_sigZ_resourceZ_conZAsk(value_u64(v56));
							int64_t v58 = get_data_tag(v57);
							decref(v57);
							int64_t v59 = 1LL;
							bool v60 = (v58 == v59);
							int64_t branch_Bool_61;
							if (v60) {
								decref(v56);
								int64_t v62 = 1LL /* True */;
								branch_Bool_61 = v62;
							} else {
								VAL v63 = mw_mirth_token_Token_sigZ_resourceZ_varZAsk(value_u64(v56));
								int64_t v64 = get_data_tag(v63);
								decref(v63);
								int64_t v65 = 1LL;
								bool v66 = (v64 == v65);
								branch_Bool_61 = ((int64_t)v66);
							}
							VAL branch_Maybe_67;
							if (((bool)branch_Bool_61)) {
								VAL v68 = mtw_std_maybe_Maybe_1_Some(v56);
								branch_Maybe_67 = v68;
							} else {
								decref(v56);
								VAL v69 = MKI64(0LL /* None */);
								branch_Maybe_67 = v69;
							}
							VAL branch_Maybe_70;
							VAL branch_List_71;
							switch (get_data_tag(branch_Maybe_67)) {
								case 0LL: { // None
									branch_List_71 = v51;
									branch_Maybe_70 = v48;
								} break;
								default: {
									decref(v51);
									decref(v48);
									VAL v72 = MKI64(0LL /* Nil */);
									branch_List_71 = v72;
									branch_Maybe_70 = branch_Maybe_67;
								} break;
							}
							int64_t v73 = 1LL /* True */;
							branch_Bool_55 = v73;
							branch_List_54 = branch_List_71;
							branch_Maybe_53 = branch_Maybe_70;
						} break;
						case 0LL: { // None
							int64_t v74 = 0LL /* False */;
							branch_Bool_55 = v74;
							branch_List_54 = v51;
							branch_Maybe_53 = v48;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v47 = branch_Bool_55;
					v46 = branch_Bool_55;
					v45 = branch_List_54;
					v44 = branch_Maybe_53;
				}
				decref(v45);
				VAL branch_ZPlusMirth_75;
				switch (get_data_tag(v44)) {
					case 1LL: { // Some
						VAL v76 = mtp_std_maybe_Maybe_1_Some(v44);
						STR* v77;
						STRLIT(v77, "Value type cannot contain resource.", 35);
						VAL v78;
						mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(value_u64(v76), MKSTR(v77), v20, &v78);
						branch_ZPlusMirth_75 = v78;
					} break;
					case 0LL: { // None
						branch_ZPlusMirth_75 = v20;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusMirth_39 = branch_ZPlusMirth_75;
			} break;
			case 0LL: { // None
				branch_ZPlusMirth_39 = v20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_Tag_37 = branch_Tag_14;
		branch_ZPlusMirth_36 = branch_ZPlusMirth_39;
	} else {
		branch_Tag_37 = branch_Tag_14;
		branch_ZPlusMirth_36 = v20;
	}
	decref(in_SyntaxDataTag_2);
	*out_ZPlusMirth_5 = branch_ZPlusMirth_36;
	return in_Data_1;
}
static uint64_t mw_mirth_elab_dataZ_wordZ_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL in_Str_3, int64_t in_Nat_4, VAL *out_ZPlusMirth_5) {
	incref(in_Str_3);
	uint64_t v7 = mw_std_prim_Str_ZToName(in_Str_3);
	VAL v8 = mw_mirth_data_Data_headZAsk(in_Data_2);
	VAL branch_ZPlusMirth_9;
	VAL branch_z_x1_10;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v8);
			branch_z_x1_10 = v11;
			branch_ZPlusMirth_9 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v12;
			STRLIT(v12, "Missing data token information.", 31);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v12), in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x1_10);
	VAL v15 = mw_mirth_data_dataZ_wordZ_qname(in_Data_2, in_Str_3, in_Nat_4);
	VAL v16 = MKI64(0LL /* None */);
	VAL v17;
	uint64_t v18 = mw_mirth_word_Word_newZBang(value_u64(branch_z_x1_10), v16, value_u64(branch_z_x1_10), v7, in_Nat_4, branch_ZPlusMirth_9, &v17);
	VAL v19 = mtw_mirth_mirth_PropLabel_WordQName(v18);
	VAL v20;
	VAL v21 = mw_mirth_mirth_PropLabel_prop(v15, v19, v17, &v20);
	void* v22 = mfld_mirth_word_Word_ZTildeqname(v18);
	mut_set(v21, v22);
	*out_ZPlusMirth_5 = v20;
	return v18;
}
static void mw_mirth_elab_elabZ_dataZ_doneZBang (VAL in_ZPlusMirth_1, uint64_t in_Data_2, VAL *out_ZPlusMirth_3) {
	int64_t v4 = mw_mirth_data_Data_isZ_valueZ_typeZAsk(in_Data_2);
	uint64_t branch_Data_5;
	VAL branch_ZPlusMirth_6;
	if (((bool)v4)) {
		STR* v7;
		STRLIT(v7, "cons-value", 10);
		int64_t v8 = 0LL;
		VAL v9;
		uint64_t v10 = mw_mirth_elab_dataZ_wordZ_newZBang(in_ZPlusMirth_1, in_Data_2, MKSTR(v7), v8, &v9);
		VAL v11;
		VAL v12 = mw_mirth_data_Data_params(v9, in_Data_2, &v11);
		VAL v13 = mw_std_list_List_1_ZToCtx(v12);
		VAL v14;
		VAL v15 = mw_mirth_elab_dataZ_getZ_enumZ_valueZ_type(v11, in_Data_2, &v14);
		VAL v16 = mtw_mirth_mirth_PropLabel_WordType(v10);
		VAL v17;
		VAL v18 = mw_mirth_mirth_PropLabel_prop2(v13, v15, v16, v14, &v17);
		void* v19 = mfld_mirth_word_Word_ZTildectxZ_type(v10);
		mut_set(v18, v19);
		VAL v20;
		VAL v21;
		uint64_t v22;
		VAL v23;
		uint64_t v24;
		VAL v25 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v17, v10, &v20, &v21, &v22, &v23, &v24);
		VAL v26;
		VAL v27 = mw_mirth_type_ArrowType_unpack(v21, &v26);
		incref(v27);
		VAL v28 = MKI64(0LL /* Nil */);
		VAL v29 = mtw_mirth_arrow_Arrow_Arrow(v23, v22, v22, v25, v27, v27, v28);
		VAL v30 = mtw_mirth_arrow_Op_OpDataGetEnumValue(in_Data_2);
		VAL v31;
		VAL v32;
		mw_mirth_elab_abZ_opZBang(v30, v20, v29, &v31, &v32);
		VAL v33;
		VAL v34;
		mw_mirth_elab_abZ_unifyZ_typeZBang(v26, v31, v32, &v33, &v34);
		VAL v35;
		VAL v36 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v33, v34, v24, &v35);
		VAL v37 = mtw_mirth_mirth_PropLabel_WordArrow(v10);
		VAL v38;
		VAL v39 = mw_mirth_mirth_PropLabel_prop(v36, v37, v35, &v38);
		void* v40 = mfld_mirth_word_Word_ZTildearrow(v10);
		mut_set(v39, v40);
		mw_mirth_word_Word_makeZ_inlineZBang(v10);
		branch_ZPlusMirth_6 = v38;
		branch_Data_5 = in_Data_2;
	} else {
		branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		branch_Data_5 = in_Data_2;
	}
	int64_t v41 = mw_mirth_data_Data_isZ_enumZAsk(branch_Data_5);
	uint64_t branch_Data_42;
	VAL branch_ZPlusMirth_43;
	if (((bool)v41)) {
		STR* v44;
		STRLIT(v44, "from-cons-value-unsafe", 22);
		int64_t v45 = 0LL;
		VAL v46;
		uint64_t v47 = mw_mirth_elab_dataZ_wordZ_newZBang(branch_ZPlusMirth_6, branch_Data_5, MKSTR(v44), v45, &v46);
		VAL v48;
		VAL v49 = mw_mirth_data_Data_params(v46, branch_Data_5, &v48);
		VAL v50 = mw_std_list_List_1_ZToCtx(v49);
		VAL v51;
		VAL v52 = mw_mirth_elab_dataZ_fromZ_enumZ_valueZ_type(v48, branch_Data_5, &v51);
		VAL v53 = mtw_mirth_mirth_PropLabel_WordType(v47);
		VAL v54;
		VAL v55 = mw_mirth_mirth_PropLabel_prop2(v50, v52, v53, v51, &v54);
		void* v56 = mfld_mirth_word_Word_ZTildectxZ_type(v47);
		mut_set(v55, v56);
		VAL v57;
		VAL v58;
		uint64_t v59;
		VAL v60;
		uint64_t v61;
		VAL v62 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v54, v47, &v57, &v58, &v59, &v60, &v61);
		VAL v63;
		VAL v64 = mw_mirth_type_ArrowType_unpack(v58, &v63);
		incref(v64);
		VAL v65 = MKI64(0LL /* Nil */);
		VAL v66 = mtw_mirth_arrow_Arrow_Arrow(v60, v59, v59, v62, v64, v64, v65);
		VAL v67 = mtw_mirth_arrow_Op_OpDataFromEnumValue(branch_Data_5);
		VAL v68;
		VAL v69;
		mw_mirth_elab_abZ_opZBang(v67, v57, v66, &v68, &v69);
		VAL v70;
		VAL v71;
		mw_mirth_elab_abZ_unifyZ_typeZBang(v63, v68, v69, &v70, &v71);
		VAL v72;
		VAL v73 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v70, v71, v61, &v72);
		VAL v74 = mtw_mirth_mirth_PropLabel_WordArrow(v47);
		VAL v75;
		VAL v76 = mw_mirth_mirth_PropLabel_prop(v73, v74, v72, &v75);
		void* v77 = mfld_mirth_word_Word_ZTildearrow(v47);
		mut_set(v76, v77);
		mw_mirth_word_Word_makeZ_inlineZBang(v47);
		branch_ZPlusMirth_43 = v75;
		branch_Data_42 = branch_Data_5;
	} else {
		branch_ZPlusMirth_43 = branch_ZPlusMirth_6;
		branch_Data_42 = branch_Data_5;
	}
	VAL v78 = mw_mirth_data_Data_tags(branch_Data_42);
	VAL v79 = mw_std_list_List_1_ZDivL1(v78);
	uint64_t branch_Data_80;
	VAL branch_ZPlusMirth_81;
	switch (get_data_tag(v79)) {
		case 1LL: { // Some
			VAL v82 = mtp_std_maybe_Maybe_1_Some(v79);
			STR* v83;
			STRLIT(v83, "/", 1);
			incref(v82);
			uint64_t v84 = mw_mirth_data_Tag_name(value_u64(v82));
			VAL v85 = mw_mirth_name_Name_ZToStr(v84);
			STR* v86 = str_cat(v83, value_str(v85));
			int64_t v87 = 0LL;
			VAL v88;
			uint64_t v89 = mw_mirth_elab_dataZ_wordZ_newZBang(branch_ZPlusMirth_43, branch_Data_42, MKSTR(v86), v87, &v88);
			VAL v90 = mtw_std_maybe_Maybe_1_Some(MKU64(v89));
			incref(v82);
			void* v91 = mfld_mirth_data_Tag_ZTildeuntag(value_u64(v82));
			mut_set(v90, v91);
			incref(v82);
			VAL v92 = mtw_mirth_mirth_PropLabel_WordType(v89);
			FNPTR v93 = &mb_mirth_mirth_PropLabel_prop_1_sp4_0;
			VAL v94 = mtw_mirth_mirth_PropState_1_PSDelay(v82, MKFNPTR(v93));
			VAL v95 = mtw_mirth_mirth_Prop_1_Prop(v92, v94);
			void* v96 = mfld_mirth_word_Word_ZTildectxZ_type(v89);
			mut_set(v95, v96);
			incref(v82);
			VAL v97 = mtw_mirth_mirth_PropLabel_WordArrow(v89);
			TUP* v98 = tup_pack2(v82, MKU64(v89));
			FNPTR v99 = &mb_mirth_mirth_PropLabel_prop_1_sp12_7;
			VAL v100 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v98, 2), MKFNPTR(v99));
			VAL v101 = mtw_mirth_mirth_Prop_1_Prop(v97, v100);
			void* v102 = mfld_mirth_word_Word_ZTildearrow(v89);
			mut_set(v101, v102);
			mw_mirth_word_Word_makeZ_inlineZBang(v89);
			incref(v82);
			VAL v103;
			mw_mirth_elab_createZ_projectorsZBang(v88, value_u64(v82), &v103);
			decref(v82);
			branch_ZPlusMirth_81 = v103;
			branch_Data_80 = branch_Data_42;
		} break;
		case 0LL: { // None
			branch_ZPlusMirth_81 = branch_ZPlusMirth_43;
			branch_Data_80 = branch_Data_42;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v104 = mtw_mirth_mirth_PropLabel_DataCType(branch_Data_80);
	FNPTR v105 = &mb_mirth_mirth_PropLabel_prop_1_sp3_6;
	VAL v106 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(branch_Data_80), MKFNPTR(v105));
	VAL v107 = mtw_mirth_mirth_Prop_1_Prop(v104, v106);
	void* v108 = mfld_mirth_data_Data_ZTildectypeZAsk(branch_Data_80);
	mut_set(v107, v108);
	*out_ZPlusMirth_3 = branch_ZPlusMirth_81;
}
static VAL mw_mirth_data_Tag_outputZ_type (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_data_Tag_ZTildeoutputZ_type(in_Tag_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	VAL branch_Either_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Either_9 = v10;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v11;
		VAL v12 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_2, &v11);
		VAL v13 = mw_mirth_type_ArrowType_cod(v12);
		VAL v14 = mw_mirth_type_StackType_expand(v13);
		uint64_t branch_Tag_15;
		VAL branch_ZPlusMirth_16;
		VAL branch_Either_17;
		switch (get_data_tag(v14)) {
			case 5LL: { // STCons
				VAL v18;
				VAL v19 = mtp_mirth_type_StackType_STCons(v14, &v18);
				decref(v19);
				VAL v20 = mtw_std_either_Either_2_Left(v18);
				branch_Either_17 = v20;
				branch_ZPlusMirth_16 = v11;
				branch_Tag_15 = in_Tag_2;
			} break;
			case 7LL: { // STWith
				VAL v21;
				VAL v22 = mtp_mirth_type_StackType_STWith(v14, &v21);
				decref(v22);
				VAL v23 = mtw_std_either_Either_2_Right(v21);
				branch_Either_17 = v23;
				branch_ZPlusMirth_16 = v11;
				branch_Tag_15 = in_Tag_2;
			} break;
			default: {
				decref(v14);
				STR* v24;
				STRLIT(v24, "Unexpected output type for constructor ", 39);
				VAL v25 = mw_mirth_data_Tag_qname(in_Tag_2);
				VAL v26;
				VAL v27 = mw_mirth_name_QName_ZToStr(v11, v25, &v26);
				STR* v28 = str_cat(v24, value_str(v27));
				uint64_t v29 = mw_mirth_data_Tag_data(in_Tag_2);
				VAL v30 = mw_mirth_data_Data_headZAsk(v29);
				VAL branch_ZPlusMirth_31;
				switch (get_data_tag(v30)) {
					case 1LL: { // Some
						VAL v32 = mtp_std_maybe_Maybe_1_Some(v30);
						VAL v33;
						mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(value_u64(v32), MKSTR(v28), v26, &v33);
						branch_ZPlusMirth_31 = v33;
					} break;
					case 0LL: { // None
						VAL v34;
						mw_mirth_mirth_ZPlusMirth_errorZBang(MKSTR(v28), v26, &v34);
						branch_ZPlusMirth_31 = v34;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL v35 = MKI64(0LL /* TYPE_ERROR */);
				uint64_t v36 = mw_mirth_data_Tag_data(in_Tag_2);
				int64_t v37 = mw_mirth_data_Data_isZ_resourceZAsk(v36);
				VAL branch_ZPlusMirth_38;
				uint64_t branch_Tag_39;
				VAL branch_Either_40;
				if (((bool)v37)) {
					VAL v41 = mtw_std_either_Either_2_Right(v35);
					branch_Either_40 = v41;
					branch_Tag_39 = in_Tag_2;
					branch_ZPlusMirth_38 = branch_ZPlusMirth_31;
				} else {
					VAL v42 = mtw_std_either_Either_2_Left(v35);
					branch_Either_40 = v42;
					branch_Tag_39 = in_Tag_2;
					branch_ZPlusMirth_38 = branch_ZPlusMirth_31;
				}
				branch_Either_17 = branch_Either_40;
				branch_ZPlusMirth_16 = branch_ZPlusMirth_38;
				branch_Tag_15 = branch_Tag_39;
			} break;
		}
		incref(branch_Either_17);
		mut_set(branch_Either_17, v5);
		branch_Either_9 = branch_Either_17;
		branch_Tag_8 = branch_Tag_15;
		branch_ZPlusMirth_7 = branch_ZPlusMirth_16;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Either_9;
}
static VAL mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field (VAL in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, in_Tag_3, &v6);
	VAL branch_Either_8;
	switch (get_data_tag(v7)) {
		case 0LL: { // Left
			VAL v9 = mtp_std_either_Either_2_Left(v7);
			VAL v10 = mw_mirth_type_Type_exceptZ_field(in_Label_2, in_Tag_3, v9);
			VAL v11 = mtw_std_either_Either_2_Left(v10);
			branch_Either_8 = v11;
		} break;
		case 1LL: { // Right
			VAL v12 = mtp_std_either_Either_2_Right(v7);
			VAL v13 = mw_mirth_type_Resource_exceptZ_field(in_Label_2, in_Tag_3, v12);
			VAL v14 = mtw_std_either_Either_2_Right(v13);
			branch_Either_8 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = v6;
	return branch_Either_8;
}
static VAL mw_mirth_data_Tag_projectZ_inputZ_label (VAL in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_type(in_ZPlusMirth_1, in_Tag_3, &v6);
	VAL v8 = mw_mirth_type_ArrowType_dom(v7);
	VAL v9 = mw_mirth_type_StackType_labelZ_topZAsk(in_Label_2, v8);
	*out_ZPlusMirth_4 = v6;
	return v9;
}
static VAL mw_mirth_data_Tag_projectZ_tagZ_field (VAL in_ZPlusMirth_1, uint64_t in_Label_2, uint64_t in_Tag_3, VAL *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_projectZ_inputZ_label(in_ZPlusMirth_1, in_Label_2, in_Tag_3, &v6);
	VAL branch_Maybe_8;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v10 = mtw_mirth_data_TagField_TagField(in_Tag_3, in_Label_2, v9);
			VAL v11 = mtw_std_maybe_Maybe_1_Some(v10);
			branch_Maybe_8 = v11;
		} break;
		case 0LL: { // None
			VAL v12 = MKI64(0LL /* None */);
			branch_Maybe_8 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = v6;
	return branch_Maybe_8;
}
static VAL mw_mirth_elab_dataZ_getZ_labelZ_type (VAL in_ZPlusMirth_1, VAL in_TagField_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5;
	uint64_t v6;
	VAL v7;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v5, &v6, &v7);
	uint64_t branch_Label_8;
	VAL branch_ZPlusMirth_9;
	uint64_t branch_Tag_10;
	VAL branch_ArrowType_11;
	switch (get_data_tag(v7)) {
		case 0LL: { // Left
			VAL v12 = mtp_std_either_Either_2_Left(v7);
			VAL v13 = mw_mirth_type_T0();
			VAL v14;
			VAL v15 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v14);
			VAL v16 = mw_mirth_type_TZMulZPlus(v13, v15);
			VAL v17 = mw_mirth_type_T1(v12);
			uint64_t v18 = mw_mirth_data_Tag_data(v5);
			int64_t v19 = mw_mirth_data_Data_isZ_resourceZAsk(v18);
			uint64_t branch_Tag_20;
			VAL branch_ZPlusMirth_21;
			VAL branch_StackType_22;
			if (((bool)v19)) {
				VAL v23;
				VAL v24 = mw_mirth_data_Tag_outputZ_type(v14, v5, &v23);
				VAL v25 = mw_mirth_type_TZMulZPlus(v17, v24);
				branch_StackType_22 = v25;
				branch_ZPlusMirth_21 = v23;
				branch_Tag_20 = v5;
			} else {
				branch_StackType_22 = v17;
				branch_ZPlusMirth_21 = v14;
				branch_Tag_20 = v5;
			}
			VAL v26 = mw_mirth_type_TZ_ZTo(v16, branch_StackType_22);
			branch_ArrowType_11 = v26;
			branch_Tag_10 = branch_Tag_20;
			branch_ZPlusMirth_9 = branch_ZPlusMirth_21;
			branch_Label_8 = v6;
		} break;
		case 1LL: { // Right
			VAL v27 = mtp_std_either_Either_2_Right(v7);
			VAL v28 = mw_mirth_type_T0();
			VAL v29;
			VAL v30 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v29);
			VAL v31 = mw_mirth_type_TZMulZPlus(v28, v30);
			VAL v32 = mw_mirth_type_T0();
			VAL v33 = mw_mirth_type_TZPlus(v32, v27);
			VAL v34;
			VAL v35 = mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field(v29, v6, v5, &v34);
			VAL v36 = mw_mirth_type_TZMulZPlus(v33, v35);
			VAL v37 = mw_mirth_type_TZ_ZTo(v31, v36);
			branch_ArrowType_11 = v37;
			branch_Tag_10 = v5;
			branch_ZPlusMirth_9 = v34;
			branch_Label_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
	return branch_ArrowType_11;
}
static VAL mw_mirth_elab_dataZ_setZ_labelZ_type (VAL in_ZPlusMirth_1, VAL in_TagField_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5;
	uint64_t v6;
	VAL v7;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v5, &v6, &v7);
	uint64_t branch_Label_8;
	uint64_t branch_Tag_9;
	VAL branch_ZPlusMirth_10;
	VAL branch_ArrowType_11;
	switch (get_data_tag(v7)) {
		case 0LL: { // Left
			VAL v12 = mtp_std_either_Either_2_Left(v7);
			VAL v13 = mw_mirth_type_T1(v12);
			VAL v14;
			VAL v15 = mw_mirth_data_Tag_outputZ_type(in_ZPlusMirth_1, v5, &v14);
			VAL v16 = mw_mirth_type_TZMulZPlus(v13, v15);
			VAL v17 = mw_mirth_type_T0();
			VAL v18;
			VAL v19 = mw_mirth_data_Tag_outputZ_type(v14, v5, &v18);
			VAL v20 = mw_mirth_type_TZMulZPlus(v17, v19);
			VAL v21 = mw_mirth_type_TZ_ZTo(v16, v20);
			branch_ArrowType_11 = v21;
			branch_ZPlusMirth_10 = v18;
			branch_Tag_9 = v5;
			branch_Label_8 = v6;
		} break;
		case 1LL: { // Right
			VAL v22 = mtp_std_either_Either_2_Right(v7);
			VAL v23 = mw_mirth_type_T0();
			VAL v24 = mw_mirth_type_TZPlus(v23, v22);
			VAL v25;
			VAL v26 = mw_mirth_data_Tag_outputZ_typeZ_exceptZ_field(in_ZPlusMirth_1, v6, v5, &v25);
			VAL v27 = mw_mirth_type_TZMulZPlus(v24, v26);
			VAL v28 = mw_mirth_type_T0();
			VAL v29;
			VAL v30 = mw_mirth_data_Tag_outputZ_type(v25, v5, &v29);
			VAL v31 = mw_mirth_type_TZMulZPlus(v28, v30);
			VAL v32 = mw_mirth_type_TZ_ZTo(v27, v31);
			branch_ArrowType_11 = v32;
			branch_ZPlusMirth_10 = v29;
			branch_Tag_9 = v5;
			branch_Label_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_ArrowType_11;
}
static void mw_mirth_elab_createZ_projectorsZBang (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	uint64_t v4 = mw_mirth_data_Tag_data(in_Tag_2);
	VAL v5 = mw_mirth_data_Tag_labelZ_inputs(in_Tag_2);
	VAL v6 = mw_std_list_List_1_reverse(v5);
	int64_t v7 = 1LL /* True */;
	uint64_t v8 = in_Tag_2;
	VAL v9 = in_ZPlusMirth_1;
	uint64_t v10 = v4;
	VAL v11 = v6;
	int64_t v12 = v7;
	int64_t v13 = v7;
	while (((bool)v13)) {
		uint64_t v14 = v8;
		VAL v15 = v9;
		uint64_t v16 = v10;
		VAL v17 = v11;
		int64_t v18 = v12;
		uint64_t branch_Tag_19;
		uint64_t branch_Data_20;
		VAL branch_ZPlusMirth_21;
		VAL branch_List_22;
		int64_t branch_Bool_23;
		switch (get_data_tag(v17)) {
			case 1LL: { // Cons
				VAL v24;
				VAL v25 = mtp_std_list_List_1_Cons(v17, &v24);
				incref(v25);
				uint64_t v26 = mw_mirth_label_Label_name(value_u64(v25));
				int64_t v27 = 0LL;
				VAL v28 = mw_mirth_data_dataZ_qname(v16, v26, v27);
				VAL v29;
				int64_t v30 = mw_mirth_name_QName_undefinedZ_softZAsk(v15, v28, &v29);
				uint64_t branch_Tag_31;
				uint64_t branch_Label_32;
				uint64_t branch_Data_33;
				VAL branch_ZPlusMirth_34;
				if (((bool)v30)) {
					incref(v25);
					VAL v35 = mw_mirth_label_Label_ZToStr(value_u64(v25));
					int64_t v36 = 0LL;
					VAL v37;
					uint64_t v38 = mw_mirth_elab_dataZ_wordZ_newZBang(v29, v16, v35, v36, &v37);
					incref(v25);
					VAL v39 = mw_mirth_label_Label_ZToStr(value_u64(v25));
					STR* v40;
					STRLIT(v40, "!", 1);
					STR* v41 = str_cat(value_str(v39), v40);
					int64_t v42 = 0LL;
					VAL v43;
					uint64_t v44 = mw_mirth_elab_dataZ_wordZ_newZBang(v37, v16, MKSTR(v41), v42, &v43);
					incref(v25);
					VAL v45 = mw_mirth_label_Label_ZToStr(value_u64(v25));
					int64_t v46 = 1LL;
					VAL v47;
					uint64_t v48 = mw_mirth_elab_dataZ_wordZ_newZBang(v43, v16, v45, v46, &v47);
					mw_mirth_word_Word_makeZ_inlineZBang(v38);
					incref(v25);
					VAL v49 = mtw_mirth_mirth_PropLabel_WordType(v38);
					TUP* v50 = tup_pack2(MKU64(v14), v25);
					FNPTR v51 = &mb_mirth_mirth_PropLabel_prop_1_sp11_3;
					VAL v52 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v50, 2), MKFNPTR(v51));
					VAL v53 = mtw_mirth_mirth_Prop_1_Prop(v49, v52);
					void* v54 = mfld_mirth_word_Word_ZTildectxZ_type(v38);
					mut_set(v53, v54);
					incref(v25);
					VAL v55 = mtw_mirth_mirth_PropLabel_WordArrow(v38);
					TUP* v56 = tup_pack3(MKU64(v14), v25, MKU64(v38));
					FNPTR v57 = &mb_mirth_mirth_PropLabel_prop_1_sp10_5;
					VAL v58 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v56, 3), MKFNPTR(v57));
					VAL v59 = mtw_mirth_mirth_Prop_1_Prop(v55, v58);
					void* v60 = mfld_mirth_word_Word_ZTildearrow(v38);
					mut_set(v59, v60);
					mw_mirth_word_Word_makeZ_inlineZBang(v44);
					incref(v25);
					VAL v61 = mtw_mirth_mirth_PropLabel_WordType(v44);
					TUP* v62 = tup_pack2(MKU64(v14), v25);
					FNPTR v63 = &mb_mirth_mirth_PropLabel_prop_1_sp9_3;
					VAL v64 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v62, 2), MKFNPTR(v63));
					VAL v65 = mtw_mirth_mirth_Prop_1_Prop(v61, v64);
					void* v66 = mfld_mirth_word_Word_ZTildectxZ_type(v44);
					mut_set(v65, v66);
					incref(v25);
					VAL v67 = mtw_mirth_mirth_PropLabel_WordArrow(v44);
					TUP* v68 = tup_pack3(MKU64(v14), v25, MKU64(v44));
					FNPTR v69 = &mb_mirth_mirth_PropLabel_prop_1_sp8_5;
					VAL v70 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v68, 3), MKFNPTR(v69));
					VAL v71 = mtw_mirth_mirth_Prop_1_Prop(v67, v70);
					void* v72 = mfld_mirth_word_Word_ZTildearrow(v44);
					mut_set(v71, v72);
					mw_mirth_word_Word_makeZ_inlineZBang(v48);
					incref(v25);
					VAL v73 = mtw_mirth_mirth_PropLabel_WordType(v48);
					TUP* v74 = tup_pack2(MKU64(v14), v25);
					FNPTR v75 = &mb_mirth_mirth_PropLabel_prop_1_sp7_1;
					VAL v76 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v74, 2), MKFNPTR(v75));
					VAL v77 = mtw_mirth_mirth_Prop_1_Prop(v73, v76);
					void* v78 = mfld_mirth_word_Word_ZTildectxZ_type(v48);
					mut_set(v77, v78);
					VAL v79 = mtw_mirth_mirth_PropLabel_WordParams(v48);
					FNPTR v80 = &mb_mirth_mirth_PropLabel_prop_1_sp5_2;
					VAL v81 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(v48), MKFNPTR(v80));
					VAL v82 = mtw_mirth_mirth_Prop_1_Prop(v79, v81);
					void* v83 = mfld_mirth_word_Word_ZTildeparams(v48);
					mut_set(v82, v83);
					VAL v84 = mtw_mirth_mirth_PropLabel_WordArrow(v48);
					TUP* v85 = tup_pack4(MKU64(v16), MKU64(v38), MKU64(v44), MKU64(v48));
					FNPTR v86 = &mb_mirth_mirth_PropLabel_prop_1_sp6_9;
					VAL v87 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v85, 4), MKFNPTR(v86));
					VAL v88 = mtw_mirth_mirth_Prop_1_Prop(v84, v87);
					void* v89 = mfld_mirth_word_Word_ZTildearrow(v48);
					mut_set(v88, v89);
					branch_ZPlusMirth_34 = v47;
					branch_Data_33 = v16;
					branch_Label_32 = value_u64(v25);
					branch_Tag_31 = v14;
				} else {
					branch_ZPlusMirth_34 = v29;
					branch_Data_33 = v16;
					branch_Label_32 = value_u64(v25);
					branch_Tag_31 = v14;
				}
				int64_t v90 = 1LL /* True */;
				branch_Bool_23 = v90;
				branch_List_22 = v24;
				branch_ZPlusMirth_21 = branch_ZPlusMirth_34;
				branch_Data_20 = branch_Data_33;
				branch_Tag_19 = branch_Tag_31;
			} break;
			case 0LL: { // Nil
				VAL v91 = MKI64(0LL /* Nil */);
				int64_t v92 = 0LL /* False */;
				branch_Bool_23 = v92;
				branch_List_22 = v91;
				branch_ZPlusMirth_21 = v15;
				branch_Data_20 = v16;
				branch_Tag_19 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_23;
		v12 = branch_Bool_23;
		v11 = branch_List_22;
		v10 = branch_Data_20;
		v9 = branch_ZPlusMirth_21;
		v8 = branch_Tag_19;
	}
	decref(v11);
	*out_ZPlusMirth_3 = v9;
}
static uint64_t mw_mirth_elab_expectZ_tokenZ_arrow (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	int64_t v5 = mw_mirth_token_Token_arrowZAsk(in_Token_2);
	uint64_t branch_Token_6;
	VAL branch_ZPlusMirth_7;
	if (((bool)v5)) {
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		branch_Token_6 = in_Token_2;
	} else {
		STR* v8;
		STRLIT(v8, "Expected arrow.", 15);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v8), in_ZPlusMirth_1);
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Token_6;
}
static uint64_t mw_mirth_elab_parseZ_alias (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, VAL *out_Either_7) {
	uint64_t v8 = mw_mirth_token_Token_succ(in_Token_2);
	VAL v9 = mw_mirth_token_Token_lparenZAsk(v8);
	int64_t v10 = get_data_tag(v9);
	decref(v9);
	int64_t v11 = 1LL;
	bool v12 = (v10 == v11);
	int64_t branch_Bool_13;
	uint64_t branch_Token_14;
	VAL branch_ZPlusMirth_15;
	uint64_t branch_Token_16;
	uint64_t branch_Token_17;
	if (v12) {
		uint64_t v18 = mw_mirth_token_Token_next(in_Token_2);
		uint64_t v19;
		VAL v20;
		uint64_t v21 = mw_mirth_token_Token_argsZ_2(in_Token_2, in_ZPlusMirth_1, &v19, &v20);
		branch_Token_17 = v21;
		branch_Token_16 = v19;
		branch_ZPlusMirth_15 = v20;
		branch_Token_14 = v18;
		branch_Bool_13 = ((int64_t)v12);
	} else {
		uint64_t v22 = mw_mirth_token_Token_next(in_Token_2);
		uint64_t v23 = mw_mirth_token_Token_next(v22);
		uint64_t v24 = mw_mirth_token_Token_next(v23);
		branch_Token_17 = v22;
		branch_Token_16 = v23;
		branch_ZPlusMirth_15 = in_ZPlusMirth_1;
		branch_Token_14 = v24;
		branch_Bool_13 = ((int64_t)v12);
	}
	VAL v25 = mw_mirth_token_Token_nameZDivdnameZAsk(branch_Token_17);
	int64_t v26 = get_data_tag(v25);
	decref(v25);
	int64_t v27 = 0LL;
	bool v28 = (v26 == v27);
	VAL branch_ZPlusMirth_29;
	uint64_t branch_Token_30;
	if (v28) {
		STR* v31;
		STRLIT(v31, "expected alias name", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_17, MKSTR(v31), branch_ZPlusMirth_15);
	} else {
		branch_Token_30 = branch_Token_17;
		branch_ZPlusMirth_29 = branch_ZPlusMirth_15;
	}
	VAL v33 = mw_mirth_token_Token_nameZDivdnameZAsk(branch_Token_16);
	VAL branch_ZPlusMirth_34;
	uint64_t branch_Token_35;
	VAL branch_z_x1_36;
	switch (get_data_tag(v33)) {
		case 1LL: { // Some
			VAL v37 = mtp_std_maybe_Maybe_1_Some(v33);
			branch_z_x1_36 = v37;
			branch_Token_35 = branch_Token_16;
			branch_ZPlusMirth_34 = branch_ZPlusMirth_29;
		} break;
		case 0LL: { // None
			STR* v38;
			STRLIT(v38, "expected alias target, which must be a name", 43);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_16, MKSTR(v38), branch_ZPlusMirth_29);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v41;
	mw_mirth_token_Token_argsZ_0(branch_Token_35, branch_ZPlusMirth_34, &v41);
	VAL branch_ZPlusMirth_42;
	uint64_t branch_Token_43;
	uint64_t branch_Token_44;
	if (((bool)branch_Bool_13)) {
		uint64_t v45 = mw_mirth_token_Token_next(branch_Token_30);
		int64_t v46 = mw_mirth_token_Token_argZ_endZAsk(v45);
		VAL branch_ZPlusMirth_47;
		uint64_t branch_Token_48;
		if (((bool)v46)) {
			branch_Token_48 = branch_Token_30;
			branch_ZPlusMirth_47 = v41;
		} else {
			STR* v49;
			STRLIT(v49, "expected comma after alias name", 31);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_30, MKSTR(v49), v41);
		}
		uint64_t v51 = mw_mirth_token_Token_succ(branch_Token_35);
		int64_t v52 = mw_mirth_token_Token_argZ_endZAsk(v51);
		VAL branch_ZPlusMirth_53;
		uint64_t branch_Token_54;
		if (((bool)v52)) {
			branch_Token_54 = branch_Token_48;
			branch_ZPlusMirth_53 = branch_ZPlusMirth_47;
		} else {
			STR* v55;
			STRLIT(v55, "expected end of arguments after alias target", 44);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_48, MKSTR(v55), branch_ZPlusMirth_47);
		}
		branch_Token_44 = branch_Token_35;
		branch_Token_43 = branch_Token_54;
		branch_ZPlusMirth_42 = branch_ZPlusMirth_53;
	} else {
		branch_Token_44 = branch_Token_35;
		branch_Token_43 = branch_Token_30;
		branch_ZPlusMirth_42 = v41;
	}
	*out_Either_7 = branch_z_x1_36;
	*out_Token_6 = branch_Token_44;
	*out_Token_5 = branch_Token_43;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_42;
	return branch_Token_14;
}
static uint64_t mw_mirth_elab_elabZ_aliasZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	uint64_t v6;
	uint64_t v7;
	VAL v8;
	uint64_t v9 = mw_mirth_elab_parseZ_alias(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8);
	VAL v10;
	uint64_t v11;
	uint64_t v12;
	int64_t v13;
	VAL v14;
	mw_mirth_elab_elabZ_defZ_head(v5, v6, &v10, &v11, &v12, &v13, &v14);
	VAL v15;
	uint64_t v16 = mw_mirth_alias_Alias_newZBang(v10, v11, v12, v13, &v15);
	VAL v17 = mtw_mirth_mirth_PropLabel_AliasQName(v16);
	VAL v18 = mtw_mirth_mirth_Prop_1_Prop(v17, v14);
	void* v19 = mfld_mirth_alias_Alias_ZTildeqname(v16);
	mut_set(v18, v19);
	VAL v20 = mtw_mirth_mirth_PropLabel_AliasTarget(v16);
	TUP* v21 = tup_pack3(v8, MKU64(v7), MKU64(v16));
	FNPTR v22 = &mb_mirth_mirth_PropLabel_prop_1_sp22_6;
	VAL v23 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v21, 3), MKFNPTR(v22));
	VAL v24 = mtw_mirth_mirth_Prop_1_Prop(v20, v23);
	void* v25 = mfld_mirth_alias_Alias_ZTildetarget(v16);
	mut_set(v24, v25);
	*out_ZPlusMirth_3 = v15;
	return v9;
}
static uint64_t mw_mirth_elab_elabZ_defZ_missingZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_Token_args(in_Token_2);
	int64_t v6 = mw_std_list_List_1_len(v5);
	int64_t v7 = 3LL;
	bool v8 = (v6 < v7);
	uint64_t branch_Token_9;
	VAL branch_ZPlusMirth_10;
	if (v8) {
		STR* v11;
		STRLIT(v11, "def-missing expects at least three arguments", 44);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v11), in_ZPlusMirth_1);
	} else {
		branch_ZPlusMirth_10 = in_ZPlusMirth_1;
		branch_Token_9 = in_Token_2;
	}
	uint64_t v14 = mw_mirth_token_Token_succ(branch_Token_9);
	uint64_t v15 = mw_mirth_token_Token_succ(v14);
	VAL v16;
	VAL v17 = mw_mirth_elab_elabZ_defZ_qname(branch_ZPlusMirth_10, v15, &v16);
	VAL v18;
	int64_t v19 = mw_mirth_name_QName_definedZ_hardZAsk(v16, v17, &v18);
	VAL branch_ZPlusMirth_20;
	uint64_t branch_Token_21;
	if (((bool)v19)) {
		uint64_t v22 = mw_mirth_token_Token_next(branch_Token_9);
		branch_Token_21 = v22;
		branch_ZPlusMirth_20 = v18;
	} else {
		VAL v23;
		uint64_t v24 = mw_mirth_elab_elabZ_defZBang(v18, branch_Token_9, &v23);
		branch_Token_21 = v24;
		branch_ZPlusMirth_20 = v23;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_20;
	return branch_Token_21;
}
static uint64_t mw_mirth_elab_elabZ_inlineZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	uint64_t v7 = mw_mirth_token_Token_next(in_Token_1);
	VAL v8;
	uint64_t v9 = mw_mirth_token_Token_argsZ_1(in_Token_1, in_ZPlusMirth_2, &v8);
	int64_t v10 = value_i64(VTUP(v8)->cells[3]);
	int64_t v11 = 1LL /* True */;
	VTUP(v8)->cells[3] = MKI64(v11);
	int64_t v12 = mw_mirth_token_Token_argZ_endZAsk(v9);
	bool v13 = !((bool)v12);
	uint64_t v14 = v7;
	int64_t v15 = v10;
	VAL v16 = v8;
	uint64_t v17 = v9;
	bool v18 = v13;
	while (v18) {
		uint64_t v19 = v14;
		int64_t v20 = v15;
		VAL v21 = v16;
		uint64_t v22 = v17;
		VAL v23;
		uint64_t v24 = mw_mirth_elab_elabZ_moduleZ_declZBang(v22, v21, &v23);
		int64_t v25 = mw_mirth_token_Token_argZ_endZAsk(v24);
		bool v26 = !((bool)v25);
		v18 = v26;
		v17 = v24;
		v16 = v23;
		v15 = v20;
		v14 = v19;
	}
	VTUP(v16)->cells[3] = MKI64(v15);
	*out_ZPlusMirth_4 = v16;
	return v14;
}
static uint64_t mw_mirth_elab_parseZ_def (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_SyntaxDef_5) {
	VAL v6 = mtw_std_maybe_Maybe_1_Some(MKU64(in_Token_2));
	VAL v7 = VTUP(in_ZPlusMirth_1)->cells[5];
	decref(v7);
	VTUP(in_ZPlusMirth_1)->cells[5] = v6;
	VAL v8 = mw_mirth_token_Token_args(in_Token_2);
	int64_t v9 = mw_std_list_List_1_emptyZAsk(v8);
	uint64_t branch_Token_10;
	VAL branch_Maybe_11;
	VAL branch_ZPlusMirth_12;
	VAL branch_ListZPlus_13;
	uint64_t branch_Token_14;
	if (((bool)v9)) {
		uint64_t v15 = mw_mirth_token_Token_next(in_Token_2);
		uint64_t v16 = mw_mirth_token_Token_next(v15);
		VAL v17 = mw_mirth_token_Token_lsquareZAsk(v16);
		int64_t v18 = get_data_tag(v17);
		decref(v17);
		int64_t v19 = 1LL;
		bool v20 = (v18 == v19);
		VAL branch_ZPlusMirth_21;
		VAL branch_Maybe_22;
		uint64_t branch_Token_23;
		if (v20) {
			VAL v24;
			uint64_t v25 = mw_mirth_token_Token_argsZ_1(v16, in_ZPlusMirth_1, &v24);
			VAL v26 = mtw_std_maybe_Maybe_1_Some(MKU64(v25));
			uint64_t v27 = mw_mirth_token_Token_next(v16);
			branch_Token_23 = v27;
			branch_Maybe_22 = v26;
			branch_ZPlusMirth_21 = v24;
		} else {
			VAL v28 = MKI64(0LL /* None */);
			branch_Token_23 = v16;
			branch_Maybe_22 = v28;
			branch_ZPlusMirth_21 = in_ZPlusMirth_1;
		}
		VAL v29 = mw_mirth_token_Token_lcurlyZAsk(branch_Token_23);
		int64_t v30 = get_data_tag(v29);
		decref(v29);
		int64_t v31 = 0LL;
		bool v32 = (v30 == v31);
		uint64_t branch_Token_33;
		VAL branch_ZPlusMirth_34;
		if (v32) {
			STR* v35;
			STRLIT(v35, "expected { ... }", 16);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_23, MKSTR(v35), branch_ZPlusMirth_21);
		} else {
			branch_ZPlusMirth_34 = branch_ZPlusMirth_21;
			branch_Token_33 = branch_Token_23;
		}
		VAL v38;
		VAL v39 = mw_mirth_token_Token_argsZPlus(branch_Token_33, branch_ZPlusMirth_34, &v38);
		uint64_t v40 = mw_mirth_token_Token_next(branch_Token_33);
		branch_Token_14 = v40;
		branch_ListZPlus_13 = v39;
		branch_ZPlusMirth_12 = v38;
		branch_Maybe_11 = branch_Maybe_22;
		branch_Token_10 = v15;
	} else {
		uint64_t v41 = mw_mirth_token_Token_next(in_Token_2);
		VAL v42 = mw_mirth_token_Token_args(in_Token_2);
		incref(v42);
		int64_t v43 = mw_std_list_List_1_len(v42);
		int64_t v44 = 3LL;
		bool v45 = (v43 < v44);
		uint64_t branch_Token_46;
		VAL branch_ZPlusMirth_47;
		VAL branch_z_x1_48;
		if (v45) {
			decref(v42);
			STR* v49;
			STRLIT(v49, "def(...) expects at least three arguments", 41);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v49), in_ZPlusMirth_1);
		} else {
			branch_z_x1_48 = v42;
			branch_ZPlusMirth_47 = in_ZPlusMirth_1;
			branch_Token_46 = in_Token_2;
		}
		VAL v53 = mw_std_list_List_1_ZToListZPlus(branch_z_x1_48);
		VAL branch_z_x1_54;
		switch (get_data_tag(v53)) {
			case 1LL: { // Some
				VAL v55 = mtp_std_maybe_Maybe_1_Some(v53);
				branch_z_x1_54 = v55;
			} break;
			case 0LL: { // None
				mw_std_prelude_impossibleZBang();
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL v57;
		VAL v58 = mw_std_list_ListZPlus_1_uncons(branch_z_x1_54, &v57);
		VAL v59 = mw_std_list_List_1_ZToListZPlus(v57);
		VAL branch_z_x1_60;
		switch (get_data_tag(v59)) {
			case 1LL: { // Some
				VAL v61 = mtp_std_maybe_Maybe_1_Some(v59);
				branch_z_x1_60 = v61;
			} break;
			case 0LL: { // None
				mw_std_prelude_impossibleZBang();
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL v63;
		VAL v64 = mw_std_list_ListZPlus_1_uncons(branch_z_x1_60, &v63);
		VAL v65 = mtw_std_maybe_Maybe_1_Some(v64);
		VAL v66 = mw_std_list_List_1_ZToListZPlus(v63);
		VAL branch_z_x1_67;
		switch (get_data_tag(v66)) {
			case 1LL: { // Some
				VAL v68 = mtp_std_maybe_Maybe_1_Some(v66);
				branch_z_x1_67 = v68;
			} break;
			case 0LL: { // None
				mw_std_prelude_impossibleZBang();
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		incref(v58);
		uint64_t v70 = mw_mirth_token_Token_next(value_u64(v58));
		int64_t v71 = mw_mirth_token_Token_argZ_endZAsk(v70);
		VAL branch_ZPlusMirth_72;
		uint64_t branch_Token_73;
		if (((bool)v71)) {
			branch_Token_73 = value_u64(v58);
			branch_ZPlusMirth_72 = branch_ZPlusMirth_47;
		} else {
			incref(v58);
			uint64_t v74 = mw_mirth_token_Token_next(value_u64(v58));
			STR* v75;
			STRLIT(v75, "expected comma after word name", 30);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v74, MKSTR(v75), branch_ZPlusMirth_47);
		}
		branch_Token_14 = v41;
		branch_ListZPlus_13 = branch_z_x1_67;
		branch_ZPlusMirth_12 = branch_ZPlusMirth_72;
		branch_Maybe_11 = v65;
		branch_Token_10 = branch_Token_73;
	}
	VAL v77;
	VAL v78 = mw_std_list_ListZPlus_1_uncons(branch_ListZPlus_13, &v77);
	int64_t v79 = mw_std_list_List_1_emptyZAsk(v77);
	uint64_t branch_Token_80;
	int64_t branch_Bool_81;
	if (((bool)v79)) {
		int64_t v82 = 1LL /* True */;
		branch_Bool_81 = v82;
		branch_Token_80 = value_u64(v78);
	} else {
		incref(v78);
		VAL v83 = mw_mirth_token_Token_runZ_arrowZAsk(value_u64(v78));
		int64_t v84 = get_data_tag(v83);
		decref(v83);
		int64_t v85 = 1LL;
		bool v86 = (v84 == v85);
		branch_Bool_81 = ((int64_t)v86);
		branch_Token_80 = value_u64(v78);
	}
	uint64_t branch_Token_87;
	VAL branch_ZPlusMirth_88;
	if (((bool)branch_Bool_81)) {
		branch_ZPlusMirth_88 = branch_ZPlusMirth_12;
		branch_Token_87 = branch_Token_80;
	} else {
		STR* v89;
		STRLIT(v89, "expected match case", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_80, MKSTR(v89), branch_ZPlusMirth_12);
	}
	VAL v92 = mtw_mirth_elab_SyntaxDef_SyntaxDef(branch_Token_10, branch_Maybe_11, branch_Token_87);
	*out_SyntaxDef_5 = v92;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_88;
	return branch_Token_14;
}
static uint64_t mw_mirth_elab_elabZ_defZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6;
	uint64_t v7 = mw_mirth_elab_parseZ_def(in_ZPlusMirth_1, in_Token_2, &v5, &v6);
	uint64_t v8;
	VAL v9;
	uint64_t v10;
	mtp_mirth_elab_SyntaxDef_SyntaxDef(v6, &v8, &v9, &v10);
	VAL v11;
	uint64_t v12;
	uint64_t v13;
	int64_t v14;
	VAL v15;
	mw_mirth_elab_elabZ_defZ_head(v5, v8, &v11, &v12, &v13, &v14, &v15);
	VAL v16;
	uint64_t v17 = mw_mirth_word_Word_newZBang(v12, v9, v10, v13, v14, v11, &v16);
	VAL v18 = mtw_mirth_mirth_PropLabel_WordQName(v17);
	VAL v19 = mtw_mirth_mirth_Prop_1_Prop(v18, v15);
	void* v20 = mfld_mirth_word_Word_ZTildeqname(v17);
	mut_set(v19, v20);
	int64_t v21 = value_i64(VTUP(v16)->cells[3]);
	void* v22 = mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk(v17);
	mut_set(MKI64(v21), v22);
	VAL v23 = mtw_mirth_mirth_PropLabel_WordType(v17);
	FNPTR v24 = &mb_mirth_mirth_PropLabel_prop_1_sp18_1;
	VAL v25 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(v17), MKFNPTR(v24));
	VAL v26 = mtw_mirth_mirth_Prop_1_Prop(v23, v25);
	void* v27 = mfld_mirth_word_Word_ZTildectxZ_type(v17);
	mut_set(v26, v27);
	VAL v28 = mtw_mirth_mirth_PropLabel_WordParams(v17);
	FNPTR v29 = &mb_mirth_mirth_PropLabel_prop_1_sp19_0;
	VAL v30 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(v17), MKFNPTR(v29));
	VAL v31 = mtw_mirth_mirth_Prop_1_Prop(v28, v30);
	void* v32 = mfld_mirth_word_Word_ZTildeparams(v17);
	mut_set(v31, v32);
	VAL v33 = mtw_mirth_mirth_PropLabel_WordArrow(v17);
	FNPTR v34 = &mb_mirth_mirth_PropLabel_prop_1_sp20_5;
	VAL v35 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(v17), MKFNPTR(v34));
	VAL v36 = mtw_mirth_mirth_Prop_1_Prop(v33, v35);
	void* v37 = mfld_mirth_word_Word_ZTildearrow(v17);
	mut_set(v36, v37);
	*out_ZPlusMirth_3 = v16;
	return v7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL in_Arrow_3, VAL *out_ZPlusMirth_4) {
	VAL v5 = VTUP(in_Arrow_3)->cells[7];
	incref(v5);
	decref(in_Arrow_3);
	int64_t v6 = 1LL /* True */;
	VAL v7 = in_ZPlusMirth_1;
	uint64_t v8 = in_Word_2;
	VAL v9 = v5;
	int64_t v10 = v6;
	int64_t v11 = v6;
	while (((bool)v11)) {
		VAL v12 = v7;
		uint64_t v13 = v8;
		VAL v14 = v9;
		int64_t v15 = v10;
		uint64_t branch_Word_16;
		VAL branch_ZPlusMirth_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				VAL v22;
				mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang(v12, v13, v21, &v22);
				int64_t v23 = 1LL /* True */;
				branch_Bool_19 = v23;
				branch_List_18 = v20;
				branch_ZPlusMirth_17 = v22;
				branch_Word_16 = v13;
			} break;
			case 0LL: { // Nil
				VAL v24 = MKI64(0LL /* Nil */);
				int64_t v25 = 0LL /* False */;
				branch_Bool_19 = v25;
				branch_List_18 = v24;
				branch_ZPlusMirth_17 = v12;
				branch_Word_16 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_Word_16;
		v7 = branch_ZPlusMirth_17;
	}
	decref(v9);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_atomZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL in_Atom_3, VAL *out_ZPlusMirth_4) {
	int64_t v5 = mw_mirth_word_Word_preferZ_inlineZAsk(in_Word_2);
	VAL branch_ZPlusMirth_6;
	if (((bool)v5)) {
		incref(in_Atom_3);
		VAL v7 = VTUP(in_Atom_3)->cells[4];
		incref(v7);
		decref(in_Atom_3);
		VAL v8;
		mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang(in_ZPlusMirth_1, in_Word_2, v7, &v8);
		VAL v9 = VTUP(in_Atom_3)->cells[5];
		incref(v9);
		decref(in_Atom_3);
		int64_t v10 = 1LL /* True */;
		VAL v11 = v8;
		uint64_t v12 = in_Word_2;
		VAL v13 = v9;
		int64_t v14 = v10;
		int64_t v15 = v10;
		while (((bool)v15)) {
			VAL v16 = v11;
			uint64_t v17 = v12;
			VAL v18 = v13;
			int64_t v19 = v14;
			uint64_t branch_Word_20;
			VAL branch_ZPlusMirth_21;
			VAL branch_List_22;
			int64_t branch_Bool_23;
			switch (get_data_tag(v18)) {
				case 1LL: { // Cons
					VAL v24;
					VAL v25 = mtp_std_list_List_1_Cons(v18, &v24);
					VAL v26;
					mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang(v16, v17, value_u64(v25), &v26);
					int64_t v27 = 1LL /* True */;
					branch_Bool_23 = v27;
					branch_List_22 = v24;
					branch_ZPlusMirth_21 = v26;
					branch_Word_20 = v17;
				} break;
				case 0LL: { // Nil
					VAL v28 = MKI64(0LL /* Nil */);
					int64_t v29 = 0LL /* False */;
					branch_Bool_23 = v29;
					branch_List_22 = v28;
					branch_ZPlusMirth_21 = v16;
					branch_Word_20 = v17;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v15 = branch_Bool_23;
			v14 = branch_Bool_23;
			v13 = branch_List_22;
			v12 = branch_Word_20;
			v11 = branch_ZPlusMirth_21;
		}
		decref(v13);
		branch_ZPlusMirth_6 = v11;
	} else {
		decref(in_Atom_3);
		branch_ZPlusMirth_6 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_argZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, uint64_t in_Arg_3, VAL *out_ZPlusMirth_4) {
	VAL v5;
	VAL v6 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Arg_3, &v5);
	VAL v7;
	mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v5, in_Word_2, v6, &v7);
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_opZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL in_Op_3, VAL *out_ZPlusMirth_4) {
	VAL branch_ZPlusMirth_5;
	switch (get_data_tag(in_Op_3)) {
		case 15LL: { // OpBlockRun
			uint64_t v6 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_3);
			VAL v7;
			VAL v8 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, v6, &v7);
			VAL v9;
			mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v7, in_Word_2, v8, &v9);
			branch_ZPlusMirth_5 = v9;
		} break;
		case 2LL: { // OpWord
			uint64_t v10 = mtp_mirth_arrow_Op_OpWord(in_Op_3);
			int64_t v11 = mw_mirth_word_Word_ZEqualZEqual(in_Word_2, v10);
			VAL branch_ZPlusMirth_12;
			if (((bool)v11)) {
				VAL v13;
				mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang(in_ZPlusMirth_1, in_Word_2, &v13);
				branch_ZPlusMirth_12 = v13;
			} else {
				int64_t v14 = mw_mirth_word_Word_preferZ_inlineZAsk(v10);
				VAL branch_ZPlusMirth_15;
				if (((bool)v14)) {
					void* v16 = mfld_mirth_word_Word_ZTildearrow(v10);
					VAL v17;
					VAL v18 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v16, in_ZPlusMirth_1, &v17);
					VAL branch_ZPlusMirth_19;
					switch (get_data_tag(v18)) {
						case 1LL: { // Some
							VAL v20 = mtp_std_maybe_Maybe_1_Some(v18);
							VAL v21;
							mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v17, in_Word_2, v20, &v21);
							branch_ZPlusMirth_19 = v21;
						} break;
						case 0LL: { // None
							VAL v22;
							mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang(v17, in_Word_2, &v22);
							branch_ZPlusMirth_19 = v22;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusMirth_15 = branch_ZPlusMirth_19;
				} else {
					branch_ZPlusMirth_15 = in_ZPlusMirth_1;
				}
				branch_ZPlusMirth_12 = branch_ZPlusMirth_15;
			}
			branch_ZPlusMirth_5 = branch_ZPlusMirth_12;
		} break;
		case 11LL: { // OpMatch
			VAL v23 = mtp_mirth_arrow_Op_OpMatch(in_Op_3);
			VAL v24 = VTUP(v23)->cells[7];
			incref(v24);
			decref(v23);
			int64_t v25 = 1LL /* True */;
			VAL v26 = in_ZPlusMirth_1;
			uint64_t v27 = in_Word_2;
			VAL v28 = v24;
			int64_t v29 = v25;
			int64_t v30 = v25;
			while (((bool)v30)) {
				VAL v31 = v26;
				uint64_t v32 = v27;
				VAL v33 = v28;
				int64_t v34 = v29;
				uint64_t branch_Word_35;
				VAL branch_ZPlusMirth_36;
				VAL branch_List_37;
				int64_t branch_Bool_38;
				switch (get_data_tag(v33)) {
					case 1LL: { // Cons
						VAL v39;
						VAL v40 = mtp_std_list_List_1_Cons(v33, &v39);
						VAL v41 = VTUP(v40)->cells[2];
						incref(v41);
						decref(v40);
						VAL v42;
						mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v31, v32, v41, &v42);
						int64_t v43 = 1LL /* True */;
						branch_Bool_38 = v43;
						branch_List_37 = v39;
						branch_ZPlusMirth_36 = v42;
						branch_Word_35 = v32;
					} break;
					case 0LL: { // Nil
						VAL v44 = MKI64(0LL /* Nil */);
						int64_t v45 = 0LL /* False */;
						branch_Bool_38 = v45;
						branch_List_37 = v44;
						branch_ZPlusMirth_36 = v31;
						branch_Word_35 = v32;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v30 = branch_Bool_38;
				v29 = branch_Bool_38;
				v28 = branch_List_37;
				v27 = branch_Word_35;
				v26 = branch_ZPlusMirth_36;
			}
			decref(v28);
			branch_ZPlusMirth_5 = v26;
		} break;
		case 12LL: { // OpLambda
			VAL v46 = mtp_mirth_arrow_Op_OpLambda(in_Op_3);
			VAL v47 = VTUP(v46)->cells[5];
			incref(v47);
			decref(v46);
			VAL v48;
			mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(in_ZPlusMirth_1, in_Word_2, v47, &v48);
			branch_ZPlusMirth_5 = v48;
		} break;
		default: {
			decref(in_Op_3);
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_5;
}
static void mw_mirth_elab_checkZ_inlineZ_recursionZ_failedZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL *out_ZPlusMirth_3) {
	int64_t v4 = mw_mirth_word_Word_preferZ_inlineZAsk(in_Word_2);
	VAL branch_ZPlusMirth_5;
	if (((bool)v4)) {
		int64_t v6 = 0LL /* False */;
		void* v7 = mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk(in_Word_2);
		mut_set(MKI64(v6), v7);
		uint64_t v8 = mw_mirth_word_Word_head(in_Word_2);
		STR* v9;
		STRLIT(v9, "recursive word cannot be inlined", 32);
		VAL v10;
		mw_mirth_mirth_ZPlusMirth_emitZ_warningZBang(v8, MKSTR(v9), in_ZPlusMirth_1, &v10);
		branch_ZPlusMirth_5 = v10;
	} else {
		branch_ZPlusMirth_5 = in_ZPlusMirth_1;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
}
static VAL mw_mirth_elab_elabZ_defZ_paramsZBang (VAL in_ZPlusMirth_1, uint64_t in_Word_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6;
	VAL v7 = mw_mirth_word_Word_type(in_Word_2, in_ZPlusMirth_1, &v6);
	uint64_t v8 = mw_mirth_word_Word_head(in_Word_2);
	VAL v9;
	VAL v10 = mw_mirth_type_ArrowType_unpack(v7, &v9);
	decref(v9);
	VAL v11 = mw_mirth_token_Token_args(v8);
	VAL v12 = mw_std_list_List_1_reverse(v11);
	int64_t v13 = 1LL /* True */;
	VAL v14 = v5;
	VAL v15 = v10;
	VAL v16 = v6;
	VAL v17 = v12;
	int64_t v18 = v13;
	int64_t v19 = v13;
	while (((bool)v19)) {
		VAL v20 = v14;
		VAL v21 = v15;
		VAL v22 = v16;
		VAL v23 = v17;
		int64_t v24 = v18;
		VAL branch_ZPlusMirth_25;
		VAL branch_List_26;
		VAL branch_StackType_27;
		VAL branch_List_28;
		int64_t branch_Bool_29;
		switch (get_data_tag(v23)) {
			case 1LL: { // Cons
				VAL v30;
				VAL v31 = mtp_std_list_List_1_Cons(v23, &v30);
				incref(v31);
				VAL v32 = mw_mirth_token_Token_sigZ_paramZ_nameZAsk(value_u64(v31));
				uint64_t branch_Token_33;
				VAL branch_ZPlusMirth_34;
				VAL branch_z_x1_35;
				switch (get_data_tag(v32)) {
					case 1LL: { // Some
						VAL v36 = mtp_std_maybe_Maybe_1_Some(v32);
						branch_z_x1_35 = v36;
						branch_ZPlusMirth_34 = v22;
						branch_Token_33 = value_u64(v31);
					} break;
					case 0LL: { // None
						STR* v37;
						STRLIT(v37, "expected parameter name", 23);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(value_u64(v31), MKSTR(v37), v22);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				uint64_t v41 = mw_mirth_token_Token_succ(branch_Token_33);
				int64_t v42 = mw_mirth_token_Token_runZ_endZAsk(v41);
				VAL branch_List_43;
				VAL branch_StackType_44;
				VAL branch_ZPlusMirth_45;
				uint64_t branch_Name_46;
				uint64_t branch_Token_47;
				if (((bool)v42)) {
					branch_Token_47 = branch_Token_33;
					branch_Name_46 = value_u64(branch_z_x1_35);
					branch_ZPlusMirth_45 = branch_ZPlusMirth_34;
					branch_StackType_44 = v21;
					branch_List_43 = v20;
				} else {
					STR* v48;
					STRLIT(v48, "expected right paren or comma", 29);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v41, MKSTR(v48), branch_ZPlusMirth_34);
				}
				VAL v50;
				VAL v51;
				uint64_t v52;
				VAL v53 = mw_mirth_elab_elabZ_expandZ_tensorZBang(branch_ZPlusMirth_45, branch_StackType_44, branch_Token_47, &v50, &v51, &v52);
				VAL v54 = mw_mirth_type_Type_morphismZAsk(v51);
				uint64_t branch_Token_55;
				VAL branch_ZPlusMirth_56;
				VAL branch_z_x1_57;
				switch (get_data_tag(v54)) {
					case 1LL: { // Some
						VAL v58 = mtp_std_maybe_Maybe_1_Some(v54);
						branch_z_x1_57 = v58;
						branch_ZPlusMirth_56 = v50;
						branch_Token_55 = v52;
					} break;
					case 0LL: { // None
						STR* v59;
						STRLIT(v59, "need function type for param", 28);
						mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v52, MKSTR(v59), v50);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				uint64_t v63 = mw_mirth_var_Var_newZ_autoZ_runZBang(branch_z_x1_57, branch_Name_46);
				VAL v64 = mtw_std_list_List_1_Cons(MKU64(v63), branch_List_43);
				int64_t v65 = 1LL /* True */;
				branch_Bool_29 = v65;
				branch_List_28 = v30;
				branch_StackType_27 = v53;
				branch_List_26 = v64;
				branch_ZPlusMirth_25 = branch_ZPlusMirth_56;
			} break;
			case 0LL: { // Nil
				VAL v66 = MKI64(0LL /* Nil */);
				int64_t v67 = 0LL /* False */;
				branch_Bool_29 = v67;
				branch_List_28 = v66;
				branch_StackType_27 = v21;
				branch_List_26 = v20;
				branch_ZPlusMirth_25 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_29;
		v18 = branch_Bool_29;
		v17 = branch_List_28;
		v16 = branch_ZPlusMirth_25;
		v15 = branch_StackType_27;
		v14 = branch_List_26;
	}
	decref(v17);
	decref(v15);
	*out_ZPlusMirth_3 = v16;
	return v14;
}
static VAL mw_mirth_elab_elabZ_defZ_bodyZBang (VAL in_StackType_1, VAL in_ZPlusMirth_2, VAL in_ZPlusAB_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusAB_6) {
	VAL v7;
	uint64_t v8 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_3, &v7);
	VAL v9 = mw_mirth_token_Token_runZ_arrowZAsk(v8);
	int64_t v10 = get_data_tag(v9);
	decref(v9);
	int64_t v11 = 1LL;
	bool v12 = (v10 == v11);
	VAL branch_ZPlusAB_13;
	int64_t branch_Bool_14;
	if (v12) {
		int64_t v15 = 1LL /* True */;
		branch_Bool_14 = v15;
		branch_ZPlusAB_13 = v7;
	} else {
		VAL v16;
		uint64_t v17 = mw_mirth_elab_abZ_tokenZAt(v7, &v16);
		VAL v18 = mw_mirth_token_Token_lcurlyZAsk(v17);
		int64_t v19 = get_data_tag(v18);
		decref(v18);
		int64_t v20 = 1LL;
		bool v21 = (v19 == v20);
		branch_Bool_14 = ((int64_t)v21);
		branch_ZPlusAB_13 = v16;
	}
	VAL branch_StackType_22;
	VAL branch_ZPlusMirth_23;
	VAL branch_ZPlusAB_24;
	if (((bool)branch_Bool_14)) {
		incref(in_StackType_1);
		VAL v25;
		uint64_t v26 = mw_mirth_elab_abZ_tokenZAt(branch_ZPlusAB_13, &v25);
		VAL v27;
		VAL v28;
		mw_mirth_elab_elabZ_matchZ_atZBang(in_StackType_1, v26, in_ZPlusMirth_2, v25, &v27, &v28);
		branch_ZPlusAB_24 = v28;
		branch_ZPlusMirth_23 = v27;
		branch_StackType_22 = in_StackType_1;
	} else {
		VAL v29;
		VAL v30;
		mw_mirth_elab_elabZ_atomsZBang(in_ZPlusMirth_2, branch_ZPlusAB_13, &v29, &v30);
		branch_ZPlusAB_24 = v30;
		branch_ZPlusMirth_23 = v29;
		branch_StackType_22 = in_StackType_1;
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_24;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_23;
	return branch_StackType_22;
}
static uint64_t mw_mirth_elab_parseZ_externalZ_decl (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_List_5) {
	uint64_t v6 = mw_mirth_token_Token_next(in_Token_2);
	uint64_t v7 = mw_mirth_token_Token_succ(in_Token_2);
	VAL v8 = mw_mirth_token_Token_lparenZ_orZ_lcolonZAsk(v7);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	int64_t v10 = 0LL;
	bool v11 = (v9 == v10);
	VAL branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		uint64_t v14 = mw_mirth_token_Token_pred(v7);
		STR* v15;
		STRLIT(v15, "", 0);
		VAL v16 = MKI64(36LL /* FGCyan */);
		VAL v17;
		mw_std_terminal_Sgr_emitZThen(v16, MKSTR(v15), &v17);
		STR* v18;
		STRLIT(v18, "external", 8);
		VAL v19;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v18), v17, &v19);
		VAL v20 = MKI64(0LL /* Reset */);
		VAL v21;
		mw_std_terminal_Sgr_emitZThen(v20, v19, &v21);
		STR* v22;
		STRLIT(v22, " requires arguments", 19);
		VAL v23;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v22), v21, &v23);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v14, v23, in_ZPlusMirth_1);
	} else {
		branch_Token_13 = v7;
		branch_ZPlusMirth_12 = in_ZPlusMirth_1;
	}
	VAL v26 = MKI64(0LL /* Nil */);
	VAL v27 = mw_std_list_List_1_reverse(v26);
	uint64_t v28 = mw_mirth_token_Token_succ(branch_Token_13);
	int64_t v29 = mw_mirth_token_Token_argsZ_endZAsk(v28);
	bool v30 = !((bool)v29);
	VAL v31 = branch_ZPlusMirth_12;
	VAL v32 = v27;
	uint64_t v33 = v28;
	bool v34 = v30;
	while (v34) {
		VAL v35 = v31;
		VAL v36 = v32;
		uint64_t v37 = v33;
		VAL v38;
		VAL v39;
		uint64_t v40 = mw_mirth_elab_parseZ_externalZ_declZ_part(v35, v37, &v38, &v39);
		VAL v41 = mtw_std_list_List_1_Cons(v39, v36);
		int64_t v42 = mw_mirth_token_Token_argsZ_endZAsk(v40);
		bool v43 = !((bool)v42);
		v34 = v43;
		v33 = v40;
		v32 = v41;
		v31 = v38;
	}
	VAL v44 = mw_std_list_List_1_reverse(v32);
	*out_List_5 = v44;
	*out_ZPlusMirth_3 = v31;
	return v6;
}
static uint64_t mw_mirth_elab_parseZ_externalZ_declZ_part (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, VAL *out_ExternalDeclPart_5) {
	VAL v6 = mw_mirth_token_Token_strZAsk(in_Token_2);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Token_8;
	VAL branch_ExternalDeclPart_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v6);
			uint64_t v11 = mw_mirth_token_Token_succ(in_Token_2);
			VAL v12 = mtw_mirth_elab_ExternalDeclPart_EDPCode(in_Token_2, v10);
			branch_ExternalDeclPart_9 = v12;
			branch_Token_8 = v11;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			VAL v13 = mw_mirth_token_Token_nameZDivdnameZAsk(in_Token_2);
			int64_t v14 = get_data_tag(v13);
			decref(v13);
			int64_t v15 = 0LL;
			bool v16 = (v14 == v15);
			uint64_t branch_Token_17;
			VAL branch_ZPlusMirth_18;
			if (v16) {
				STR* v19;
				STRLIT(v19, "expected external word name", 27);
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v19), in_ZPlusMirth_1);
			} else {
				branch_ZPlusMirth_18 = in_ZPlusMirth_1;
				branch_Token_17 = in_Token_2;
			}
			uint64_t v22 = mw_mirth_token_Token_succ(branch_Token_17);
			int64_t v23 = mw_mirth_token_Token_arrowZAsk(v22);
			uint64_t branch_Token_24;
			VAL branch_ZPlusMirth_25;
			VAL branch_Maybe_26;
			uint64_t branch_Token_27;
			if (((bool)v23)) {
				uint64_t v28 = mw_mirth_token_Token_succ(v22);
				VAL v29 = mw_mirth_token_Token_nameZAsk(v28);
				int64_t v30 = get_data_tag(v29);
				decref(v29);
				int64_t v31 = 0LL;
				bool v32 = (v30 == v31);
				uint64_t branch_Token_33;
				VAL branch_ZPlusMirth_34;
				if (v32) {
					STR* v35;
					STRLIT(v35, "expected external symbol name", 29);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v28, MKSTR(v35), branch_ZPlusMirth_18);
				} else {
					branch_ZPlusMirth_34 = branch_ZPlusMirth_18;
					branch_Token_33 = v28;
				}
				VAL v38 = mtw_std_maybe_Maybe_1_Some(MKU64(branch_Token_33));
				uint64_t v39 = mw_mirth_token_Token_succ(branch_Token_33);
				branch_Token_27 = v39;
				branch_Maybe_26 = v38;
				branch_ZPlusMirth_25 = branch_ZPlusMirth_34;
				branch_Token_24 = in_Token_2;
			} else {
				VAL v40 = MKI64(0LL /* None */);
				branch_Token_27 = v22;
				branch_Maybe_26 = v40;
				branch_ZPlusMirth_25 = branch_ZPlusMirth_18;
				branch_Token_24 = in_Token_2;
			}
			VAL v41 = mw_mirth_token_Token_lsquareZAsk(branch_Token_27);
			int64_t v42 = get_data_tag(v41);
			decref(v41);
			int64_t v43 = 1LL;
			bool v44 = (v42 == v43);
			VAL branch_ZPlusMirth_45;
			uint64_t branch_Token_46;
			uint64_t branch_Token_47;
			if (v44) {
				VAL v48;
				uint64_t v49 = mw_mirth_token_Token_argsZ_1(branch_Token_27, branch_ZPlusMirth_25, &v48);
				uint64_t v50 = mw_mirth_token_Token_next(branch_Token_27);
				branch_Token_47 = v50;
				branch_Token_46 = v49;
				branch_ZPlusMirth_45 = v48;
			} else {
				int64_t v51 = mw_mirth_token_Token_commaZAsk(branch_Token_27);
				uint64_t branch_Token_52;
				VAL branch_ZPlusMirth_53;
				if (((bool)v51)) {
					branch_ZPlusMirth_53 = branch_ZPlusMirth_25;
					branch_Token_52 = branch_Token_27;
				} else {
					STR* v54;
					STRLIT(v54, "expected type signature", 23);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(branch_Token_27, MKSTR(v54), branch_ZPlusMirth_25);
				}
				uint64_t v57 = mw_mirth_token_Token_succ(branch_Token_52);
				int64_t v58 = mw_mirth_token_Token_argZ_endZAsk(v57);
				uint64_t branch_Token_59;
				VAL branch_ZPlusMirth_60;
				if (((bool)v58)) {
					STR* v61;
					STRLIT(v61, "expected type signature", 23);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v57, MKSTR(v61), branch_ZPlusMirth_53);
				} else {
					branch_ZPlusMirth_60 = branch_ZPlusMirth_53;
					branch_Token_59 = v57;
				}
				uint64_t v64 = mw_mirth_token_Token_nextZ_argZ_end(branch_Token_59);
				branch_Token_47 = v64;
				branch_Token_46 = branch_Token_59;
				branch_ZPlusMirth_45 = branch_ZPlusMirth_60;
			}
			VAL v65 = mtw_mirth_elab_ExternalDeclPart_EDPDef(branch_Token_24, branch_Maybe_26, branch_Token_46);
			branch_ExternalDeclPart_9 = v65;
			branch_Token_8 = branch_Token_47;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_45;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	int64_t v66 = mw_mirth_token_Token_commaZAsk(branch_Token_8);
	uint64_t branch_Token_67;
	if (((bool)v66)) {
		uint64_t v68 = mw_mirth_token_Token_succ(branch_Token_8);
		branch_Token_67 = v68;
	} else {
		branch_Token_67 = branch_Token_8;
	}
	*out_ExternalDeclPart_5 = branch_ExternalDeclPart_9;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Token_67;
}
static uint64_t mw_mirth_elab_elabZ_externalZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6;
	uint64_t v7 = mw_mirth_elab_parseZ_externalZ_decl(in_ZPlusMirth_1, in_Token_2, &v5, &v6);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mw_std_list_List_1_reverse(v8);
	int64_t v10 = 1LL /* True */;
	VAL v11 = v5;
	VAL v12 = v9;
	VAL v13 = v6;
	int64_t v14 = v10;
	int64_t v15 = v10;
	while (((bool)v15)) {
		VAL v16 = v11;
		VAL v17 = v12;
		VAL v18 = v13;
		int64_t v19 = v14;
		VAL branch_ZPlusMirth_20;
		VAL branch_ZPlusList_21;
		VAL branch_List_22;
		int64_t branch_Bool_23;
		switch (get_data_tag(v18)) {
			case 1LL: { // Cons
				VAL v24;
				VAL v25 = mtp_std_list_List_1_Cons(v18, &v24);
				VAL v26;
				VAL v27 = mw_mirth_elab_elabZ_externalZ_blockZ_partZBang(v16, v25, &v26);
				VAL v28 = mtw_std_list_List_1_Cons(v27, v17);
				int64_t v29 = 1LL /* True */;
				branch_Bool_23 = v29;
				branch_List_22 = v24;
				branch_ZPlusList_21 = v28;
				branch_ZPlusMirth_20 = v26;
			} break;
			case 0LL: { // Nil
				VAL v30 = MKI64(0LL /* Nil */);
				int64_t v31 = 0LL /* False */;
				branch_Bool_23 = v31;
				branch_List_22 = v30;
				branch_ZPlusList_21 = v17;
				branch_ZPlusMirth_20 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_23;
		v14 = branch_Bool_23;
		v13 = branch_List_22;
		v12 = branch_ZPlusList_21;
		v11 = branch_ZPlusMirth_20;
	}
	decref(v13);
	VAL v32 = mw_std_list_List_1_reverse(v12);
	uint64_t v33 = mw_mirth_external_ExternalBlock_allocZBang();
	void* v34 = mfld_mirth_external_ExternalBlock_ZTildetoken(v33);
	mut_set(MKU64(in_Token_2), v34);
	void* v35 = mfld_mirth_external_ExternalBlock_ZTildeparts(v33);
	mut_set(v32, v35);
	*out_ZPlusMirth_3 = v11;
	return v7;
}
static VAL mw_mirth_elab_elabZ_externalZ_blockZ_partZBang (VAL in_ZPlusMirth_1, VAL in_ExternalDeclPart_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_ExternalBlockPart_6;
	switch (get_data_tag(in_ExternalDeclPart_2)) {
		case 0LL: { // EDPCode
			uint64_t v7;
			VAL v8;
			mtp_mirth_elab_ExternalDeclPart_EDPCode(in_ExternalDeclPart_2, &v7, &v8);
			VAL v9 = mtw_mirth_external_ExternalBlockPart_EBPCode(v8);
			branch_ExternalBlockPart_6 = v9;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // EDPDef
			uint64_t v10;
			VAL v11;
			uint64_t v12;
			mtp_mirth_elab_ExternalDeclPart_EDPDef(in_ExternalDeclPart_2, &v10, &v11, &v12);
			VAL v13;
			uint64_t v14 = mw_mirth_elab_elabZ_externalZ_defZBang(in_ZPlusMirth_1, v10, v11, v12, &v13);
			VAL v15 = mtw_mirth_external_ExternalBlockPart_EBPDef(v14);
			branch_ExternalBlockPart_6 = v15;
			branch_ZPlusMirth_5 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_ExternalBlockPart_6;
}
static uint64_t mw_mirth_elab_elabZ_externalZ_defZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Maybe_3, uint64_t in_Token_4, VAL *out_ZPlusMirth_5) {
	VAL v7;
	uint64_t v8;
	uint64_t v9;
	int64_t v10;
	VAL v11;
	mw_mirth_elab_elabZ_defZ_head(in_ZPlusMirth_1, in_Token_2, &v7, &v8, &v9, &v10, &v11);
	VAL branch_Maybe_12;
	switch (get_data_tag(in_Maybe_3)) {
		case 1LL: { // Some
			VAL v13 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
			VAL v14 = mw_mirth_token_Token_nameZAsk(value_u64(v13));
			branch_Maybe_12 = v14;
		} break;
		case 0LL: { // None
			VAL v15 = MKI64(0LL /* None */);
			branch_Maybe_12 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_z_x1_16;
	VAL branch_z_x1_17;
	switch (get_data_tag(branch_Maybe_12)) {
		case 1LL: { // Some
			VAL v18 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_12);
			branch_z_x1_17 = v18;
			branch_z_x1_16 = MKU64(v9);
		} break;
		case 0LL: { // None
			branch_z_x1_17 = MKU64(v9);
			branch_z_x1_16 = MKU64(v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v19 = mw_mirth_name_Name_ZToStr(value_u64(branch_z_x1_17));
	uint64_t v20 = mw_mirth_external_External_allocZBang();
	void* v21 = mfld_mirth_external_External_ZTildename(v20);
	mut_set(branch_z_x1_16, v21);
	void* v22 = mfld_mirth_external_External_ZTildearity(v20);
	mut_set(MKI64(v10), v22);
	VAL v23 = mtw_mirth_mirth_PropLabel_ExternalQName(v20);
	VAL v24 = mtw_mirth_mirth_Prop_1_Prop(v23, v11);
	void* v25 = mfld_mirth_external_External_ZTildeqname(v20);
	mut_set(v24, v25);
	void* v26 = mfld_mirth_external_External_ZTildesymbol(v20);
	mut_set(v19, v26);
	void* v27 = mfld_mirth_external_External_ZTildesig(v20);
	mut_set(MKU64(in_Token_4), v27);
	void* v28 = mfld_mirth_external_External_ZTildehead(v20);
	mut_set(MKU64(v8), v28);
	VAL v29 = mtw_mirth_mirth_PropLabel_ExternalType(v20);
	FNPTR v30 = &mb_mirth_mirth_PropLabel_prop_1_sp16_1;
	VAL v31 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(v20), MKFNPTR(v30));
	VAL v32 = mtw_mirth_mirth_Prop_1_Prop(v29, v31);
	void* v33 = mfld_mirth_external_External_ZTildectxZ_type(v20);
	mut_set(v32, v33);
	VAL v34 = mtw_mirth_mirth_PropLabel_ExternalCType(v20);
	FNPTR v35 = &mb_mirth_mirth_PropLabel_prop_1_sp17_0;
	VAL v36 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(v20), MKFNPTR(v35));
	VAL v37 = mtw_mirth_mirth_Prop_1_Prop(v34, v36);
	void* v38 = mfld_mirth_external_External_ZTildectype(v20);
	mut_set(v37, v38);
	VAL v39 = mtw_mirth_def_Def_DefExternal(v20);
	VAL v40;
	mw_mirth_def_Def_register(v7, v39, &v40);
	*out_ZPlusMirth_5 = v40;
	return v20;
}
static VAL mw_mirth_elab_elabZ_defZ_externalZ_ctype (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_external_External_head(in_External_2);
	VAL v6 = VTUP(in_ZPlusMirth_1)->cells[5];
	incref(v6);
	VAL v7 = mtw_std_maybe_Maybe_1_Some(MKU64(v5));
	VAL v8 = VTUP(in_ZPlusMirth_1)->cells[5];
	decref(v8);
	VTUP(in_ZPlusMirth_1)->cells[5] = v7;
	VAL v9;
	VAL v10 = mw_mirth_external_External_type(in_ZPlusMirth_1, in_External_2, &v9);
	VAL v11;
	VAL v12 = mw_mirth_type_ArrowType_ctype(v10, v9, &v11);
	incref(v12);
	VAL v13 = VTUP(v12)->cells[2];
	incref(v13);
	decref(v12);
	VAL v14 = VTUP(v13)->cells[2];
	incref(v14);
	decref(v13);
	VAL v15 = MKI64(0LL /* Nil */);
	VAL v16 = mw_std_list_List_1_reverse(v15);
	int64_t v17 = 1LL /* True */;
	VAL v18 = v16;
	VAL v19 = v14;
	int64_t v20 = v17;
	int64_t v21 = v17;
	while (((bool)v21)) {
		VAL v22 = v18;
		VAL v23 = v19;
		int64_t v24 = v20;
		VAL branch_ZPlusList_25;
		VAL branch_List_26;
		int64_t branch_Bool_27;
		switch (get_data_tag(v23)) {
			case 1LL: { // Cons
				VAL v28;
				VAL v29 = mtp_std_list_List_1_Cons(v23, &v28);
				incref(v29);
				incref(v29);
				VAL v30 = mw_mirth_type_CTypeStackPart_labelZAsk(v29);
				int64_t v31 = get_data_tag(v30);
				decref(v30);
				int64_t v32 = 0LL;
				bool v33 = (v31 == v32);
				VAL v34 = mw_mirth_type_CTypeStackPart_ctype(v29);
				int64_t v35 = mw_mirth_type_CType_phantomZAsk(v34);
				bool v36 = !((bool)v35);
				bool v37 = (v33 && v36);
				VAL branch_ZPlusList_38;
				if (v37) {
					VAL v39 = mtw_std_list_List_1_Cons(v29, v22);
					branch_ZPlusList_38 = v39;
				} else {
					decref(v29);
					branch_ZPlusList_38 = v22;
				}
				int64_t v40 = 1LL /* True */;
				branch_Bool_27 = v40;
				branch_List_26 = v28;
				branch_ZPlusList_25 = branch_ZPlusList_38;
			} break;
			case 0LL: { // Nil
				VAL v41 = MKI64(0LL /* Nil */);
				int64_t v42 = 0LL /* False */;
				branch_Bool_27 = v42;
				branch_List_26 = v41;
				branch_ZPlusList_25 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_27;
		v20 = branch_Bool_27;
		v19 = branch_List_26;
		v18 = branch_ZPlusList_25;
	}
	decref(v19);
	VAL v43 = mw_std_list_List_1_reverse(v18);
	int64_t v44 = mw_std_list_List_1_len(v43);
	int64_t v45 = 1LL;
	bool v46 = (v44 > v45);
	VAL branch_ZPlusMirth_47;
	if (v46) {
		STR* v48;
		STRLIT(v48, "External has too many outputs.", 30);
		VAL v49;
		mw_mirth_mirth_ZPlusMirth_errorZBang(MKSTR(v48), v11, &v49);
		branch_ZPlusMirth_47 = v49;
	} else {
		branch_ZPlusMirth_47 = v11;
	}
	incref(v12);
	VAL v50 = VTUP(v12)->cells[1];
	incref(v50);
	decref(v12);
	VAL v51 = VTUP(v50)->cells[2];
	incref(v51);
	decref(v50);
	VAL v52 = mw_std_list_List_1_filterZ_some_1_sp4(v51);
	incref(v12);
	VAL v53 = VTUP(v12)->cells[2];
	incref(v53);
	decref(v12);
	VAL v54 = VTUP(v53)->cells[2];
	incref(v54);
	decref(v53);
	VAL v55 = mw_std_list_List_1_filterZ_some_1_sp4(v54);
	VAL v56 = MKI64(0LL /* Nil */);
	VAL v57 = mw_std_list_List_1_reverse(v56);
	int64_t v58 = 1LL /* True */;
	VAL v59 = v52;
	VAL v60 = v57;
	VAL v61 = v55;
	int64_t v62 = v58;
	int64_t v63 = v58;
	while (((bool)v63)) {
		VAL v64 = v59;
		VAL v65 = v60;
		VAL v66 = v61;
		int64_t v67 = v62;
		VAL branch_List_68;
		VAL branch_ZPlusList_69;
		VAL branch_List_70;
		int64_t branch_Bool_71;
		switch (get_data_tag(v66)) {
			case 1LL: { // Cons
				VAL v72;
				VAL v73 = mtp_std_list_List_1_Cons(v66, &v72);
				incref(v73);
				incref(v64);
				VAL v74 = MKI64(0LL /* None */);
				int64_t v75 = 1LL /* True */;
				VAL v76 = v73;
				VAL v77 = v74;
				VAL v78 = v64;
				int64_t v79 = v75;
				int64_t v80 = v75;
				while (((bool)v80)) {
					VAL v81 = v76;
					VAL v82 = v77;
					VAL v83 = v78;
					int64_t v84 = v79;
					VAL v85;
					VAL v86 = mw_std_list_List_1_uncons(v83, &v85);
					uint64_t branch_Label_87;
					VAL branch_Maybe_88;
					VAL branch_List_89;
					int64_t branch_Bool_90;
					switch (get_data_tag(v86)) {
						case 1LL: { // Some
							VAL v91 = mtp_std_maybe_Maybe_1_Some(v86);
							incref(v91);
							incref(v81);
							int64_t v92 = mw_mirth_label_Label_ZEqualZEqual(value_u64(v81), value_u64(v91));
							uint64_t branch_Label_93;
							VAL branch_Maybe_94;
							if (((bool)v92)) {
								VAL v95 = mtw_std_maybe_Maybe_1_Some(v91);
								branch_Maybe_94 = v95;
								branch_Label_93 = value_u64(v81);
							} else {
								decref(v91);
								VAL v96 = MKI64(0LL /* None */);
								branch_Maybe_94 = v96;
								branch_Label_93 = value_u64(v81);
							}
							uint64_t branch_Label_97;
							VAL branch_Maybe_98;
							VAL branch_List_99;
							switch (get_data_tag(branch_Maybe_94)) {
								case 0LL: { // None
									branch_List_99 = v85;
									branch_Maybe_98 = v82;
									branch_Label_97 = branch_Label_93;
								} break;
								default: {
									decref(v85);
									decref(v82);
									VAL v100 = MKI64(0LL /* Nil */);
									branch_List_99 = v100;
									branch_Maybe_98 = branch_Maybe_94;
									branch_Label_97 = branch_Label_93;
								} break;
							}
							int64_t v101 = 1LL /* True */;
							branch_Bool_90 = v101;
							branch_List_89 = branch_List_99;
							branch_Maybe_88 = branch_Maybe_98;
							branch_Label_87 = branch_Label_97;
						} break;
						case 0LL: { // None
							int64_t v102 = 0LL /* False */;
							branch_Bool_90 = v102;
							branch_List_89 = v85;
							branch_Maybe_88 = v82;
							branch_Label_87 = value_u64(v81);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v80 = branch_Bool_90;
					v79 = branch_Bool_90;
					v78 = branch_List_89;
					v77 = branch_Maybe_88;
					v76 = MKU64(branch_Label_87);
				}
				decref(v78);
				decref(v76);
				int64_t v103 = get_data_tag(v77);
				decref(v77);
				int64_t v104 = 1LL;
				bool v105 = (v103 == v104);
				bool v106 = !v105;
				VAL branch_List_107;
				VAL branch_ZPlusList_108;
				if (v106) {
					VAL v109 = mtw_std_list_List_1_Cons(v73, v65);
					branch_ZPlusList_108 = v109;
					branch_List_107 = v64;
				} else {
					decref(v73);
					branch_ZPlusList_108 = v65;
					branch_List_107 = v64;
				}
				int64_t v110 = 1LL /* True */;
				branch_Bool_71 = v110;
				branch_List_70 = v72;
				branch_ZPlusList_69 = branch_ZPlusList_108;
				branch_List_68 = branch_List_107;
			} break;
			case 0LL: { // Nil
				VAL v111 = MKI64(0LL /* Nil */);
				int64_t v112 = 0LL /* False */;
				branch_Bool_71 = v112;
				branch_List_70 = v111;
				branch_ZPlusList_69 = v65;
				branch_List_68 = v64;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v63 = branch_Bool_71;
		v62 = branch_Bool_71;
		v61 = branch_List_70;
		v60 = branch_ZPlusList_69;
		v59 = branch_List_68;
	}
	decref(v61);
	VAL v113 = mw_std_list_List_1_reverse(v60);
	decref(v59);
	int64_t v114 = 1LL /* True */;
	VAL v115 = branch_ZPlusMirth_47;
	VAL v116 = v113;
	int64_t v117 = v114;
	int64_t v118 = v114;
	while (((bool)v118)) {
		VAL v119 = v115;
		VAL v120 = v116;
		int64_t v121 = v117;
		VAL branch_ZPlusMirth_122;
		VAL branch_List_123;
		int64_t branch_Bool_124;
		switch (get_data_tag(v120)) {
			case 1LL: { // Cons
				VAL v125;
				VAL v126 = mtp_std_list_List_1_Cons(v120, &v125);
				STR* v127;
				STRLIT(v127, "", 0);
				STR* v128;
				STRLIT(v128, "Output label ", 13);
				VAL v129;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v128), MKSTR(v127), &v129);
				uint64_t v130 = mw_mirth_label_Label_name(value_u64(v126));
				VAL v131 = mw_mirth_name_Name_ZToStr(v130);
				VAL v132;
				mw_std_str_ZPlusStr_pushZ_strZBang(v131, v129, &v132);
				STR* v133;
				STRLIT(v133, " not present in input", 21);
				VAL v134;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v133), v132, &v134);
				VAL v135;
				mw_mirth_mirth_ZPlusMirth_errorZBang(v134, v119, &v135);
				int64_t v136 = 1LL /* True */;
				branch_Bool_124 = v136;
				branch_List_123 = v125;
				branch_ZPlusMirth_122 = v135;
			} break;
			case 0LL: { // Nil
				VAL v137 = MKI64(0LL /* Nil */);
				int64_t v138 = 0LL /* False */;
				branch_Bool_124 = v138;
				branch_List_123 = v137;
				branch_ZPlusMirth_122 = v119;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v118 = branch_Bool_124;
		v117 = branch_Bool_124;
		v116 = branch_List_123;
		v115 = branch_ZPlusMirth_122;
	}
	decref(v116);
	VAL v139 = VTUP(v115)->cells[5];
	decref(v139);
	VTUP(v115)->cells[5] = v6;
	*out_ZPlusMirth_3 = v115;
	return v12;
}
static uint64_t mw_mirth_elab_elabZ_defZ_typeZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_token_Token_next(in_Token_2);
	uint64_t v6;
	VAL v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_2(in_Token_2, in_ZPlusMirth_1, &v6, &v7);
	VAL v9;
	mw_mirth_token_Token_argsZ_0(v8, v7, &v9);
	VAL v10 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v8);
	int64_t v11 = get_data_tag(v10);
	decref(v10);
	int64_t v12 = 0LL;
	bool v13 = (v11 == v12);
	uint64_t branch_Token_14;
	VAL branch_ZPlusMirth_15;
	if (v13) {
		STR* v16;
		STRLIT(v16, "expected type constructor", 25);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v5, MKSTR(v16), v9);
	} else {
		branch_ZPlusMirth_15 = v9;
		branch_Token_14 = v5;
	}
	VAL v19;
	uint64_t v20;
	uint64_t v21;
	int64_t v22;
	VAL v23;
	mw_mirth_elab_elabZ_defZ_head(branch_ZPlusMirth_15, v8, &v19, &v20, &v21, &v22, &v23);
	VAL v24 = mtw_std_maybe_Maybe_1_Some(MKU64(v20));
	VAL v25;
	uint64_t v26 = mw_mirth_typedef_TypeDef_newZBang(v19, v24, v21, v23, &v25);
	VAL v27 = mtw_mirth_mirth_PropLabel_TypeDefTarget(v26);
	VAL v28 = mw_mirth_mirth_PropLabel_prop_1_sp15(v6, v27);
	void* v29 = mfld_mirth_typedef_TypeDef_ZTildetarget(v26);
	mut_set(v28, v29);
	*out_ZPlusMirth_3 = v25;
	return branch_Token_14;
}
static uint64_t mw_mirth_elab_elabZ_bufferZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_token_Token_next(in_Token_2);
	uint64_t v6;
	VAL v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_2(in_Token_2, in_ZPlusMirth_1, &v6, &v7);
	VAL v9;
	VAL v10 = mw_mirth_elab_elabZ_defZ_qnameZ_undefined(v7, v8, &v9);
	VAL v11 = mw_mirth_token_Token_intZAsk(v6);
	uint64_t branch_Token_12;
	VAL branch_ZPlusMirth_13;
	VAL branch_z_x1_14;
	switch (get_data_tag(v11)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(v11);
			branch_z_x1_14 = v15;
			branch_ZPlusMirth_13 = v9;
			branch_Token_12 = v6;
		} break;
		case 0LL: { // None
			STR* v16;
			STRLIT(v16, "expected buffer size", 20);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v6, MKSTR(v16), v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x1_14);
	int64_t v20 = 0LL;
	bool v21 = (value_i64(branch_z_x1_14) < v20);
	VAL branch_ZPlusMirth_22;
	int64_t branch_USizze_23;
	if (v21) {
		decref(branch_z_x1_14);
		STR* v24;
		STRLIT(v24, "buffer size must not be negative", 32);
		VAL v25;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(branch_Token_12, MKSTR(v24), branch_ZPlusMirth_13, &v25);
		int64_t v26 = 0LL;
		branch_USizze_23 = v26;
		branch_ZPlusMirth_22 = v25;
	} else {
		branch_USizze_23 = value_i64(branch_z_x1_14);
		branch_ZPlusMirth_22 = branch_ZPlusMirth_13;
	}
	VAL v27;
	uint64_t v28 = mw_mirth_buffer_Buffer_newZBang(branch_ZPlusMirth_22, v8, v10, branch_USizze_23, &v27);
	*out_ZPlusMirth_3 = v27;
	return v5;
}
static uint64_t mw_mirth_elab_elabZ_variableZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_token_Token_next(in_Token_2);
	uint64_t v6;
	VAL v7;
	uint64_t v8 = mw_mirth_token_Token_argsZ_2(in_Token_2, in_ZPlusMirth_1, &v6, &v7);
	VAL v9;
	VAL v10 = mw_mirth_elab_elabZ_defZ_qnameZ_undefined(v7, v8, &v9);
	VAL v11;
	uint64_t v12 = mw_mirth_variable_Variable_newZBang(v9, v8, v10, &v11);
	VAL v13 = mtw_mirth_mirth_PropLabel_VariableType(v12);
	VAL v14 = mw_mirth_mirth_PropLabel_prop_1_sp15(v6, v13);
	void* v15 = mfld_mirth_variable_Variable_ZTildetype(v12);
	mut_set(v14, v15);
	*out_ZPlusMirth_3 = v11;
	return v5;
}
static uint64_t mw_mirth_elab_elabZ_tableZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	uint64_t v5 = mw_mirth_token_Token_next(in_Token_2);
	VAL v6;
	uint64_t v7 = mw_mirth_token_Token_argsZ_1(in_Token_2, in_ZPlusMirth_1, &v6);
	VAL v8 = mw_mirth_token_Token_sigZ_typeZ_conZAsk(v7);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	int64_t v10 = 0LL;
	bool v11 = (v9 == v10);
	VAL branch_ZPlusMirth_12;
	uint64_t branch_Token_13;
	if (v11) {
		STR* v14;
		STRLIT(v14, "expected type name", 18);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v7, MKSTR(v14), v6);
	} else {
		branch_Token_13 = v7;
		branch_ZPlusMirth_12 = v6;
	}
	VAL v16;
	mw_mirth_token_Token_argsZ_0(branch_Token_13, branch_ZPlusMirth_12, &v16);
	uint64_t v17 = mw_mirth_token_Token_succ(branch_Token_13);
	int64_t v18 = mw_mirth_token_Token_argZ_endZAsk(v17);
	VAL branch_ZPlusMirth_19;
	uint64_t branch_Token_20;
	if (((bool)v18)) {
		branch_Token_20 = branch_Token_13;
		branch_ZPlusMirth_19 = v16;
	} else {
		uint64_t v21 = mw_mirth_token_Token_succ(branch_Token_13);
		STR* v22;
		STRLIT(v22, "expected end of argument after table name", 41);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v21, MKSTR(v22), v16);
	}
	VAL v24;
	uint64_t v25;
	uint64_t v26;
	int64_t v27;
	VAL v28;
	mw_mirth_elab_elabZ_defZ_head(branch_ZPlusMirth_19, branch_Token_20, &v24, &v25, &v26, &v27, &v28);
	VAL v29;
	uint64_t v30 = mw_mirth_elab_tableZ_newZBang(v24, v25, v26, v28, &v29);
	*out_ZPlusMirth_3 = v29;
	return v5;
}
static VAL mw_mirth_elab_elabZ_entryZ_point (VAL in_QName_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	incref(in_QName_1);
	VAL v5;
	VAL v6 = mw_mirth_name_QName_defZ_hardZAsk(in_ZPlusMirth_2, in_QName_1, &v5);
	VAL branch_Maybe_7;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
			VAL v9 = mw_mirth_def_Def_wordZAsk(v8);
			branch_Maybe_7 = v9;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_7 = v10;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusMirth_11;
	VAL branch_QName_12;
	VAL branch_z_x1_13;
	switch (get_data_tag(branch_Maybe_7)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_7);
			branch_z_x1_13 = v14;
			branch_QName_12 = in_QName_1;
			branch_ZPlusMirth_11 = v5;
		} break;
		case 0LL: { // None
			incref(in_QName_1);
			VAL v15 = VTUP(in_QName_1)->cells[1];
			incref(v15);
			decref(in_QName_1);
			VAL v16;
			VAL v17 = mw_mirth_name_Namespace_moduleZAsk(v5, v15, &v16);
			VAL branch_ZPlusMirth_18;
			switch (get_data_tag(v17)) {
				case 1LL: { // Some
					VAL v19 = mtp_std_maybe_Maybe_1_Some(v17);
					uint64_t v20 = mw_mirth_module_Module_start(value_u64(v19));
					VAL v21 = mtw_std_maybe_Maybe_1_Some(MKU64(v20));
					VAL v22 = VTUP(v16)->cells[5];
					decref(v22);
					VTUP(v16)->cells[5] = v21;
					branch_ZPlusMirth_18 = v16;
				} break;
				case 0LL: { // None
					branch_ZPlusMirth_18 = v16;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			STR* v23;
			STRLIT(v23, "can't find entry point ", 23);
			VAL v24;
			VAL v25 = mw_mirth_name_QName_ZToStr(branch_ZPlusMirth_18, in_QName_1, &v24);
			STR* v26 = str_cat(v23, value_str(v25));
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v26), v24);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(branch_QName_12);
	incref(branch_z_x1_13);
	VAL v30 = mw_mirth_var_Ctx0();
	VAL v31 = mw_mirth_type_T0();
	VAL v32 = mw_mirth_type_RESOURCEz_WORLD();
	VAL v33 = mw_mirth_type_TZPlus(v31, v32);
	VAL v34 = mw_mirth_type_T0();
	VAL v35 = mw_mirth_type_RESOURCEz_WORLD();
	VAL v36 = mw_mirth_type_TZPlus(v34, v35);
	VAL v37 = mw_mirth_type_TZ_ZTo(v33, v36);
	uint64_t v38 = mw_mirth_word_Word_head(value_u64(branch_z_x1_13));
	VAL v39 = mtw_mirth_arrow_Home_HomeMain(v38);
	VAL v40;
	VAL v41 = mw_mirth_elab_abZ_buildZ_homZBang_1_sp1(value_u64(branch_z_x1_13), branch_ZPlusMirth_11, v30, v37, v38, v39, &v40);
	*out_ZPlusMirth_4 = v40;
	return v41;
}
static uint64_t mw_mirth_elab_elabZ_embedZ_strZBang (uint64_t in_Token_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	uint64_t v7 = mw_mirth_token_Token_next(in_Token_1);
	uint64_t v8;
	VAL v9;
	uint64_t v10 = mw_mirth_token_Token_argsZ_2(in_Token_1, in_ZPlusMirth_2, &v8, &v9);
	VAL v11;
	uint64_t v12;
	uint64_t v13;
	int64_t v14;
	VAL v15;
	mw_mirth_elab_elabZ_defZ_head(v9, v10, &v11, &v12, &v13, &v14, &v15);
	int64_t v16 = 0LL;
	bool v17 = (v14 == v16);
	VAL branch_ZPlusMirth_18;
	uint64_t branch_Token_19;
	if (v17) {
		branch_Token_19 = v12;
		branch_ZPlusMirth_18 = v11;
	} else {
		STR* v20;
		STRLIT(v20, "expected no arguments", 21);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v12, MKSTR(v20), v11);
	}
	VAL v22 = MKI64(0LL /* None */);
	VAL v23 = mw_mirth_token_Token_strZAsk(v8);
	uint64_t branch_Token_24;
	VAL branch_ZPlusMirth_25;
	VAL branch_z_x1_26;
	switch (get_data_tag(v23)) {
		case 1LL: { // Some
			VAL v27 = mtp_std_maybe_Maybe_1_Some(v23);
			branch_z_x1_26 = v27;
			branch_ZPlusMirth_25 = branch_ZPlusMirth_18;
			branch_Token_24 = v8;
		} break;
		case 0LL: { // None
			STR* v28;
			STRLIT(v28, "expected source path", 20);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v8, MKSTR(v28), branch_ZPlusMirth_18);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v32;
	mw_std_prim_ZPlusWorld_openZ_fileZBang(branch_z_x1_26, &v32);
	VAL v33;
	VAL v34;
	mw_std_file_ZPlusFileZAsk_unwrapZBang_1_sp1(branch_ZPlusMirth_25, v32, &v33, &v34);
	VAL v35;
	VAL v36 = mw_std_file_ZPlusFile_readZ_fileZBang(v34, &v35);
	mw_std_file_ZPlusFile_closeZ_fileZBang(v35);
	VAL v37;
	uint64_t v38 = mw_mirth_word_Word_newZBang(branch_Token_19, v22, v8, v13, v14, v33, &v37);
	VAL v39 = mtw_mirth_mirth_PropLabel_WordQName(v38);
	VAL v40 = mtw_mirth_mirth_Prop_1_Prop(v39, v15);
	void* v41 = mfld_mirth_word_Word_ZTildeqname(v38);
	mut_set(v40, v41);
	VAL v42 = mw_mirth_var_Ctx0();
	VAL v43 = mw_mirth_type_T0();
	VAL v44 = mw_mirth_type_TYPEz_STR();
	VAL v45 = mw_mirth_type_T1(v44);
	VAL v46 = mw_mirth_type_TZ_ZTo(v43, v45);
	VAL v47 = mtw_mirth_mirth_PropLabel_WordType(v38);
	VAL v48;
	VAL v49 = mw_mirth_mirth_PropLabel_prop2(v42, v46, v47, v37, &v48);
	void* v50 = mfld_mirth_word_Word_ZTildectxZ_type(v38);
	mut_set(v49, v50);
	VAL v51;
	VAL v52;
	uint64_t v53;
	VAL v54;
	uint64_t v55;
	VAL v56 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v48, v38, &v51, &v52, &v53, &v54, &v55);
	VAL v57;
	VAL v58 = mw_mirth_type_ArrowType_unpack(v52, &v57);
	incref(v58);
	VAL v59 = MKI64(0LL /* Nil */);
	VAL v60 = mtw_mirth_arrow_Arrow_Arrow(v54, v53, v53, v56, v58, v58, v59);
	VAL v61;
	VAL v62;
	mw_mirth_elab_abZ_strZBang(v36, v51, v60, &v61, &v62);
	VAL v63;
	VAL v64;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v57, v61, v62, &v63, &v64);
	VAL v65;
	VAL v66 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v63, v64, v55, &v65);
	VAL v67 = mtw_mirth_mirth_PropLabel_WordArrow(v38);
	VAL v68;
	VAL v69 = mw_mirth_mirth_PropLabel_prop(v66, v67, v65, &v68);
	void* v70 = mfld_mirth_word_Word_ZTildearrow(v38);
	mut_set(v69, v70);
	*out_ZPlusMirth_4 = v68;
	return v7;
}
static void mw_mirth_elab_typecheckZ_everythingZBang (VAL in_ZPlusMirth_1, VAL *out_ZPlusMirth_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_name_Name_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusMirth_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12 = mw_mirth_name_Name_defs(((uint64_t)v11));
		int64_t v13 = 1LL /* True */;
		VAL v14 = v10;
		VAL v15 = v12;
		int64_t v16 = v13;
		int64_t v17 = v13;
		while (((bool)v17)) {
			VAL v18 = v14;
			VAL v19 = v15;
			int64_t v20 = v16;
			VAL branch_ZPlusMirth_21;
			VAL branch_List_22;
			int64_t branch_Bool_23;
			switch (get_data_tag(v19)) {
				case 1LL: { // Cons
					VAL v24;
					VAL v25 = mtp_std_list_List_1_Cons(v19, &v24);
					incref(v25);
					VAL v26;
					VAL v27 = mw_mirth_def_Def_qnameZ_hard(v18, v25, &v26);
					decref(v27);
					VAL v28;
					mw_mirth_def_Def_typecheckZBang(v26, v25, &v28);
					int64_t v29 = 1LL /* True */;
					branch_Bool_23 = v29;
					branch_List_22 = v24;
					branch_ZPlusMirth_21 = v28;
				} break;
				case 0LL: { // Nil
					VAL v30 = MKI64(0LL /* Nil */);
					int64_t v31 = 0LL /* False */;
					branch_Bool_23 = v31;
					branch_List_22 = v30;
					branch_ZPlusMirth_21 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v17 = branch_Bool_23;
			v16 = branch_Bool_23;
			v15 = branch_List_22;
			v14 = branch_ZPlusMirth_21;
		}
		decref(v15);
		int64_t v32 = 1LL;
		int64_t v33 = i64_add(v11, v32);
		void* v34 = mbuf_mirth_name_Name_NUM;
		int64_t v35 = *(int64_t*)v34;
		bool v36 = (v33 <= v35);
		v9 = v36;
		v8 = v33;
		v7 = v14;
	}
	int64_t v37 = 1LL;
	void* v38 = mbuf_mirth_arrow_Block_NUM;
	int64_t v39 = *(int64_t*)v38;
	bool v40 = (v37 <= v39);
	VAL v41 = v7;
	int64_t v42 = v37;
	bool v43 = v40;
	while (v43) {
		VAL v44 = v41;
		int64_t v45 = v42;
		VAL v46;
		mw_mirth_arrow_Block_typecheckZBang(v44, ((uint64_t)v45), &v46);
		int64_t v47 = 1LL;
		int64_t v48 = i64_add(v45, v47);
		void* v49 = mbuf_mirth_arrow_Block_NUM;
		int64_t v50 = *(int64_t*)v49;
		bool v51 = (v48 <= v50);
		v43 = v51;
		v42 = v48;
		v41 = v46;
	}
	int64_t v52 = 1LL;
	void* v53 = mbuf_mirth_external_External_NUM;
	int64_t v54 = *(int64_t*)v53;
	bool v55 = (v52 <= v54);
	VAL v56 = v41;
	int64_t v57 = v52;
	bool v58 = v55;
	while (v58) {
		VAL v59 = v56;
		int64_t v60 = v57;
		VAL v61;
		VAL v62 = mw_mirth_external_External_ctype(v59, ((uint64_t)v60), &v61);
		decref(v62);
		int64_t v63 = 1LL;
		int64_t v64 = i64_add(v60, v63);
		void* v65 = mbuf_mirth_external_External_NUM;
		int64_t v66 = *(int64_t*)v65;
		bool v67 = (v64 <= v66);
		v58 = v67;
		v57 = v64;
		v56 = v61;
	}
	*out_ZPlusMirth_2 = v56;
}
static int64_t mw_mirth_elab_TABLEz_MAXz_COUNT (void) {
	int64_t v2 = 524288LL;
	int64_t v3 = 0LL;
	int64_t v4 = mw_std_prim_Int_max(v2, v3);
	return v4;
}
static VAL mw_mirth_elab_tableZ_qname (uint64_t in_Table_1, VAL in_Str_2, int64_t in_Int_3) {
	uint64_t v5 = mw_std_prim_Str_ZToName(in_Str_2);
	VAL v6 = mtw_mirth_tycon_Tycon_TYCONz_TABLE(in_Table_1);
	VAL v7 = mtw_mirth_name_Namespace_NAMESPACEz_TYCON(v6);
	VAL v8 = mtw_mirth_name_QName_MKQNAME(v7, v5, in_Int_3);
	return v8;
}
static uint64_t mw_mirth_elab_tableZ_wordZ_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Table_2, VAL in_Str_3, int64_t in_Nat_4, VAL *out_ZPlusMirth_5) {
	uint64_t v7 = mw_mirth_table_Table_head(in_Table_2);
	VAL v8 = MKI64(0LL /* None */);
	incref(in_Str_3);
	uint64_t v9 = mw_std_prim_Str_ZToName(in_Str_3);
	VAL v10 = mw_mirth_elab_tableZ_qname(in_Table_2, in_Str_3, in_Nat_4);
	VAL v11;
	uint64_t v12 = mw_mirth_word_Word_newZBang(v7, v8, v7, v9, in_Nat_4, in_ZPlusMirth_1, &v11);
	VAL v13 = mtw_mirth_mirth_PropLabel_WordQName(v12);
	VAL v14;
	VAL v15 = mw_mirth_mirth_PropLabel_prop(v10, v13, v11, &v14);
	void* v16 = mfld_mirth_word_Word_ZTildeqname(v12);
	mut_set(v15, v16);
	*out_ZPlusMirth_5 = v14;
	return v12;
}
static uint64_t mw_mirth_elab_tableZ_newZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, uint64_t in_Name_3, VAL in_PropState_4, VAL *out_ZPlusMirth_5) {
	uint64_t v7 = mw_mirth_table_Table_allocZBang();
	VAL v8 = mtw_mirth_mirth_PropLabel_TableQName(v7);
	VAL v9 = mtw_mirth_mirth_Prop_1_Prop(v8, in_PropState_4);
	void* v10 = mfld_mirth_table_Table_ZTildeqname(v7);
	mut_set(v9, v10);
	void* v11 = mfld_mirth_table_Table_ZTildehead(v7);
	mut_set(MKU64(in_Token_2), v11);
	void* v12 = mfld_mirth_table_Table_ZTildename(v7);
	mut_set(MKU64(in_Name_3), v12);
	int64_t v13 = mw_mirth_elab_TABLEz_MAXz_COUNT();
	void* v14 = mfld_mirth_table_Table_ZTildemaxZ_count(v7);
	mut_set(MKI64(v13), v14);
	VAL v15 = mtw_mirth_def_Def_DefTable(v7);
	VAL v16;
	mw_mirth_def_Def_register(in_ZPlusMirth_1, v15, &v16);
	STR* v17;
	STRLIT(v17, "MAX", 3);
	int64_t v18 = 0LL;
	VAL v19;
	uint64_t v20 = mw_mirth_elab_tableZ_wordZ_newZBang(v16, v7, MKSTR(v17), v18, &v19);
	VAL v21 = MKI64(0LL /* Nil */);
	VAL v22 = mw_mirth_type_T0();
	VAL v23 = mw_mirth_type_TYPEz_INT();
	VAL v24 = mw_mirth_type_T1(v23);
	VAL v25 = mw_mirth_type_TZ_ZTo(v22, v24);
	VAL v26 = mtw_mirth_mirth_PropLabel_WordType(v20);
	VAL v27;
	VAL v28 = mw_mirth_mirth_PropLabel_prop2(v21, v25, v26, v19, &v27);
	void* v29 = mfld_mirth_word_Word_ZTildectxZ_type(v20);
	mut_set(v28, v29);
	VAL v30;
	VAL v31;
	uint64_t v32;
	VAL v33;
	uint64_t v34;
	VAL v35 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v27, v20, &v30, &v31, &v32, &v33, &v34);
	VAL v36;
	VAL v37 = mw_mirth_type_ArrowType_unpack(v31, &v36);
	incref(v37);
	VAL v38 = MKI64(0LL /* Nil */);
	VAL v39 = mtw_mirth_arrow_Arrow_Arrow(v33, v32, v32, v35, v37, v37, v38);
	uint64_t v40 = mw_mirth_table_Table_head(v7);
	VAL v41;
	mw_mirth_elab_abZ_tokenZBang(v39, v40, &v41);
	int64_t v42 = mw_mirth_elab_TABLEz_MAXz_COUNT();
	VAL v43;
	VAL v44;
	mw_mirth_elab_abZ_intZBang(v42, v30, v41, &v43, &v44);
	VAL v45;
	VAL v46;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v36, v43, v44, &v45, &v46);
	VAL v47;
	VAL v48 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v45, v46, v34, &v47);
	VAL v49 = mtw_mirth_mirth_PropLabel_WordArrow(v20);
	VAL v50;
	VAL v51 = mw_mirth_mirth_PropLabel_prop(v48, v49, v47, &v50);
	void* v52 = mfld_mirth_word_Word_ZTildearrow(v20);
	mut_set(v51, v52);
	STR* v53;
	STRLIT(v53, "nil", 3);
	int64_t v54 = 0LL;
	VAL v55;
	uint64_t v56 = mw_mirth_elab_tableZ_wordZ_newZBang(v50, v7, MKSTR(v53), v54, &v55);
	VAL v57 = MKI64(0LL /* Nil */);
	VAL v58 = mw_mirth_type_T0();
	VAL v59 = mtw_mirth_type_Type_TTable(v7);
	VAL v60 = mw_mirth_type_T1(v59);
	VAL v61 = mw_mirth_type_TZ_ZTo(v58, v60);
	VAL v62 = mtw_mirth_mirth_PropLabel_WordType(v56);
	VAL v63;
	VAL v64 = mw_mirth_mirth_PropLabel_prop2(v57, v61, v62, v55, &v63);
	void* v65 = mfld_mirth_word_Word_ZTildectxZ_type(v56);
	mut_set(v64, v65);
	VAL v66;
	VAL v67;
	uint64_t v68;
	VAL v69;
	uint64_t v70;
	VAL v71 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v63, v56, &v66, &v67, &v68, &v69, &v70);
	VAL v72;
	VAL v73 = mw_mirth_type_ArrowType_unpack(v67, &v72);
	incref(v73);
	VAL v74 = MKI64(0LL /* Nil */);
	VAL v75 = mtw_mirth_arrow_Arrow_Arrow(v69, v68, v68, v71, v73, v73, v74);
	uint64_t v76 = mw_mirth_table_Table_head(v7);
	VAL v77;
	mw_mirth_elab_abZ_tokenZBang(v75, v76, &v77);
	int64_t v78 = 0LL;
	VAL v79;
	VAL v80;
	mw_mirth_elab_abZ_intZBang(v78, v66, v77, &v79, &v80);
	VAL v81 = mtw_mirth_arrow_Op_OpTableFromIndex(v7);
	VAL v82;
	VAL v83;
	mw_mirth_elab_abZ_opZBang(v81, v79, v80, &v82, &v83);
	VAL v84;
	VAL v85;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v72, v82, v83, &v84, &v85);
	VAL v86;
	VAL v87 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v84, v85, v70, &v86);
	VAL v88 = mtw_mirth_mirth_PropLabel_WordArrow(v56);
	VAL v89;
	VAL v90 = mw_mirth_mirth_PropLabel_prop(v87, v88, v86, &v89);
	void* v91 = mfld_mirth_word_Word_ZTildearrow(v56);
	mut_set(v90, v91);
	uint64_t v92 = mw_mirth_table_Table_head(v7);
	STR* v93;
	STRLIT(v93, "NUM", 3);
	int64_t v94 = 0LL;
	VAL v95 = mw_mirth_elab_tableZ_qname(v7, MKSTR(v93), v94);
	int64_t v96 = 8LL;
	VAL v97;
	uint64_t v98 = mw_mirth_buffer_Buffer_newZBang(v89, v92, v95, v96, &v97);
	void* v99 = mfld_mirth_table_Table_ZTildenumZ_buffer(v7);
	mut_set(MKU64(v98), v99);
	STR* v100;
	STRLIT(v100, "index", 5);
	int64_t v101 = 0LL;
	VAL v102;
	uint64_t v103 = mw_mirth_elab_tableZ_wordZ_newZBang(v97, v7, MKSTR(v100), v101, &v102);
	VAL v104 = MKI64(0LL /* Nil */);
	VAL v105 = mtw_mirth_type_Type_TTable(v7);
	VAL v106 = mw_mirth_type_T1(v105);
	VAL v107 = mw_mirth_type_TYPEz_INT();
	VAL v108 = mw_mirth_type_T1(v107);
	VAL v109 = mw_mirth_type_TZ_ZTo(v106, v108);
	VAL v110 = mtw_mirth_mirth_PropLabel_WordType(v103);
	VAL v111;
	VAL v112 = mw_mirth_mirth_PropLabel_prop2(v104, v109, v110, v102, &v111);
	void* v113 = mfld_mirth_word_Word_ZTildectxZ_type(v103);
	mut_set(v112, v113);
	VAL v114;
	VAL v115;
	uint64_t v116;
	VAL v117;
	uint64_t v118;
	VAL v119 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v111, v103, &v114, &v115, &v116, &v117, &v118);
	VAL v120;
	VAL v121 = mw_mirth_type_ArrowType_unpack(v115, &v120);
	incref(v121);
	VAL v122 = MKI64(0LL /* Nil */);
	VAL v123 = mtw_mirth_arrow_Arrow_Arrow(v117, v116, v116, v119, v121, v121, v122);
	uint64_t v124 = mw_mirth_table_Table_head(v7);
	VAL v125;
	mw_mirth_elab_abZ_tokenZBang(v123, v124, &v125);
	VAL v126 = mtw_mirth_arrow_Op_OpTableToIndex(v7);
	VAL v127;
	VAL v128;
	mw_mirth_elab_abZ_opZBang(v126, v114, v125, &v127, &v128);
	VAL v129;
	VAL v130;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v120, v127, v128, &v129, &v130);
	VAL v131;
	VAL v132 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v129, v130, v118, &v131);
	VAL v133 = mtw_mirth_mirth_PropLabel_WordArrow(v103);
	VAL v134;
	VAL v135 = mw_mirth_mirth_PropLabel_prop(v132, v133, v131, &v134);
	void* v136 = mfld_mirth_word_Word_ZTildearrow(v103);
	mut_set(v135, v136);
	STR* v137;
	STRLIT(v137, "from-index", 10);
	int64_t v138 = 0LL;
	VAL v139;
	uint64_t v140 = mw_mirth_elab_tableZ_wordZ_newZBang(v134, v7, MKSTR(v137), v138, &v139);
	VAL v141 = MKI64(0LL /* Nil */);
	VAL v142 = mtw_mirth_type_Type_TTable(v7);
	VAL v143 = mw_mirth_type_T1(v142);
	VAL v144 = mw_mirth_type_TYPEz_INT();
	VAL v145 = mw_mirth_type_T1(v144);
	VAL v146 = mw_mirth_type_TZ_ZTo(v145, v143);
	VAL v147 = mtw_mirth_mirth_PropLabel_WordType(v140);
	VAL v148;
	VAL v149 = mw_mirth_mirth_PropLabel_prop2(v141, v146, v147, v139, &v148);
	void* v150 = mfld_mirth_word_Word_ZTildectxZ_type(v140);
	mut_set(v149, v150);
	VAL v151;
	VAL v152;
	uint64_t v153;
	VAL v154;
	uint64_t v155;
	VAL v156 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v148, v140, &v151, &v152, &v153, &v154, &v155);
	VAL v157;
	VAL v158 = mw_mirth_type_ArrowType_unpack(v152, &v157);
	incref(v158);
	VAL v159 = MKI64(0LL /* Nil */);
	VAL v160 = mtw_mirth_arrow_Arrow_Arrow(v154, v153, v153, v156, v158, v158, v159);
	uint64_t v161 = mw_mirth_table_Table_head(v7);
	VAL v162;
	mw_mirth_elab_abZ_tokenZBang(v160, v161, &v162);
	VAL v163 = mtw_mirth_arrow_Op_OpTableFromIndex(v7);
	VAL v164;
	VAL v165;
	mw_mirth_elab_abZ_opZBang(v163, v151, v162, &v164, &v165);
	VAL v166;
	VAL v167;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v157, v164, v165, &v166, &v167);
	VAL v168;
	VAL v169 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v166, v167, v155, &v168);
	VAL v170 = mtw_mirth_mirth_PropLabel_WordArrow(v140);
	VAL v171;
	VAL v172 = mw_mirth_mirth_PropLabel_prop(v169, v170, v168, &v171);
	void* v173 = mfld_mirth_word_Word_ZTildearrow(v140);
	mut_set(v172, v173);
	STR* v174;
	STRLIT(v174, "succ", 4);
	int64_t v175 = 0LL;
	VAL v176;
	uint64_t v177 = mw_mirth_elab_tableZ_wordZ_newZBang(v171, v7, MKSTR(v174), v175, &v176);
	VAL v178 = MKI64(0LL /* Nil */);
	VAL v179 = mtw_mirth_type_Type_TTable(v7);
	VAL v180 = mw_mirth_type_T1(v179);
	incref(v180);
	VAL v181 = mw_mirth_type_TZ_ZTo(v180, v180);
	VAL v182 = mtw_mirth_mirth_PropLabel_WordType(v177);
	VAL v183;
	VAL v184 = mw_mirth_mirth_PropLabel_prop2(v178, v181, v182, v176, &v183);
	void* v185 = mfld_mirth_word_Word_ZTildectxZ_type(v177);
	mut_set(v184, v185);
	VAL v186;
	VAL v187;
	uint64_t v188;
	VAL v189;
	uint64_t v190;
	VAL v191 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v183, v177, &v186, &v187, &v188, &v189, &v190);
	VAL v192;
	VAL v193 = mw_mirth_type_ArrowType_unpack(v187, &v192);
	incref(v193);
	VAL v194 = MKI64(0LL /* Nil */);
	VAL v195 = mtw_mirth_arrow_Arrow_Arrow(v189, v188, v188, v191, v193, v193, v194);
	uint64_t v196 = mw_mirth_table_Table_head(v7);
	VAL v197;
	mw_mirth_elab_abZ_tokenZBang(v195, v196, &v197);
	VAL v198 = mtw_mirth_arrow_Op_OpTableToIndex(v7);
	VAL v199;
	VAL v200;
	mw_mirth_elab_abZ_opZBang(v198, v186, v197, &v199, &v200);
	int64_t v201 = 1LL;
	VAL v202;
	VAL v203;
	mw_mirth_elab_abZ_intZBang(v201, v199, v200, &v202, &v203);
	int64_t v204 = 20LL /* PRIM_INT_ADD */;
	VAL v205;
	VAL v206;
	mw_mirth_elab_abZ_primZBang(v204, v202, v203, &v205, &v206);
	VAL v207 = mtw_mirth_arrow_Op_OpTableFromIndex(v7);
	VAL v208;
	VAL v209;
	mw_mirth_elab_abZ_opZBang(v207, v205, v206, &v208, &v209);
	VAL v210;
	VAL v211;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v192, v208, v209, &v210, &v211);
	VAL v212;
	VAL v213 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v210, v211, v190, &v212);
	VAL v214 = mtw_mirth_mirth_PropLabel_WordArrow(v177);
	VAL v215;
	VAL v216 = mw_mirth_mirth_PropLabel_prop(v213, v214, v212, &v215);
	void* v217 = mfld_mirth_word_Word_ZTildearrow(v177);
	mut_set(v216, v217);
	STR* v218;
	STRLIT(v218, "pred", 4);
	int64_t v219 = 0LL;
	VAL v220;
	uint64_t v221 = mw_mirth_elab_tableZ_wordZ_newZBang(v215, v7, MKSTR(v218), v219, &v220);
	VAL v222 = MKI64(0LL /* Nil */);
	VAL v223 = mtw_mirth_type_Type_TTable(v7);
	VAL v224 = mw_mirth_type_T1(v223);
	incref(v224);
	VAL v225 = mw_mirth_type_TZ_ZTo(v224, v224);
	VAL v226 = mtw_mirth_mirth_PropLabel_WordType(v221);
	VAL v227;
	VAL v228 = mw_mirth_mirth_PropLabel_prop2(v222, v225, v226, v220, &v227);
	void* v229 = mfld_mirth_word_Word_ZTildectxZ_type(v221);
	mut_set(v228, v229);
	VAL v230;
	VAL v231;
	uint64_t v232;
	VAL v233;
	uint64_t v234;
	VAL v235 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v227, v221, &v230, &v231, &v232, &v233, &v234);
	VAL v236;
	VAL v237 = mw_mirth_type_ArrowType_unpack(v231, &v236);
	incref(v237);
	VAL v238 = MKI64(0LL /* Nil */);
	VAL v239 = mtw_mirth_arrow_Arrow_Arrow(v233, v232, v232, v235, v237, v237, v238);
	uint64_t v240 = mw_mirth_table_Table_head(v7);
	VAL v241;
	mw_mirth_elab_abZ_tokenZBang(v239, v240, &v241);
	VAL v242 = mtw_mirth_arrow_Op_OpTableToIndex(v7);
	VAL v243;
	VAL v244;
	mw_mirth_elab_abZ_opZBang(v242, v230, v241, &v243, &v244);
	int64_t v245 = 1LL /* PRIM_CORE_DUP */;
	VAL v246;
	VAL v247;
	mw_mirth_elab_abZ_primZBang(v245, v243, v244, &v246, &v247);
	int64_t v248 = 0LL;
	VAL v249;
	VAL v250;
	mw_mirth_elab_abZ_intZBang(v248, v246, v247, &v249, &v250);
	int64_t v251 = 14LL /* PRIM_INT_EQ */;
	VAL v252;
	VAL v253;
	mw_mirth_elab_abZ_primZBang(v251, v249, v250, &v252, &v253);
	VAL v254;
	uint64_t v255 = mw_mirth_elab_abZ_tokenZAt(v253, &v254);
	VAL v256;
	VAL v257 = mw_mirth_elab_abZ_ctxZAt(v254, &v256);
	uint64_t v258 = mw_mirth_type_MetaVar_newZBang();
	VAL v259 = mtw_mirth_type_StackType_STMeta(v258);
	VAL v260;
	VAL v261 = mw_mirth_elab_abZ_homeZAt(v256, &v260);
	incref(v259);
	VAL v262 = MKI64(0LL /* Nil */);
	VAL v263 = mtw_mirth_arrow_Arrow_Arrow(v261, v255, v255, v257, v259, v259, v262);
	VAL v264;
	uint64_t v265 = mw_mirth_arrow_Block_newZBang(v252, v263, &v264);
	VAL v266 = mtw_mirth_arrow_Op_OpBlockPush(v265);
	VAL v267;
	VAL v268;
	mw_mirth_elab_abZ_opZBang(v266, v264, v260, &v267, &v268);
	VAL v269;
	uint64_t v270 = mw_mirth_elab_abZ_tokenZAt(v268, &v269);
	VAL v271;
	VAL v272 = mw_mirth_elab_abZ_ctxZAt(v269, &v271);
	uint64_t v273 = mw_mirth_type_MetaVar_newZBang();
	VAL v274 = mtw_mirth_type_StackType_STMeta(v273);
	VAL v275;
	VAL v276 = mw_mirth_elab_abZ_homeZAt(v271, &v275);
	incref(v274);
	VAL v277 = MKI64(0LL /* Nil */);
	VAL v278 = mtw_mirth_arrow_Arrow_Arrow(v276, v270, v270, v272, v274, v274, v277);
	int64_t v279 = 1LL;
	VAL v280;
	VAL v281;
	mw_mirth_elab_abZ_intZBang(v279, v267, v278, &v280, &v281);
	int64_t v282 = 21LL /* PRIM_INT_SUB */;
	VAL v283;
	VAL v284;
	mw_mirth_elab_abZ_primZBang(v282, v280, v281, &v283, &v284);
	VAL v285;
	uint64_t v286 = mw_mirth_arrow_Block_newZBang(v283, v284, &v285);
	VAL v287 = mtw_mirth_arrow_Op_OpBlockPush(v286);
	VAL v288;
	VAL v289;
	mw_mirth_elab_abZ_opZBang(v287, v285, v275, &v288, &v289);
	int64_t v290 = 7LL /* PRIM_CORE_IF */;
	VAL v291;
	VAL v292;
	mw_mirth_elab_abZ_primZBang(v290, v288, v289, &v291, &v292);
	VAL v293 = mtw_mirth_arrow_Op_OpTableFromIndex(v7);
	VAL v294;
	VAL v295;
	mw_mirth_elab_abZ_opZBang(v293, v291, v292, &v294, &v295);
	VAL v296;
	VAL v297;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v236, v294, v295, &v296, &v297);
	VAL v298;
	VAL v299 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v296, v297, v234, &v298);
	VAL v300 = mtw_mirth_mirth_PropLabel_WordArrow(v221);
	VAL v301;
	VAL v302 = mw_mirth_mirth_PropLabel_prop(v299, v300, v298, &v301);
	void* v303 = mfld_mirth_word_Word_ZTildearrow(v221);
	mut_set(v302, v303);
	STR* v304;
	STRLIT(v304, "for", 3);
	int64_t v305 = 1LL;
	VAL v306;
	uint64_t v307 = mw_mirth_elab_tableZ_wordZ_newZBang(v301, v7, MKSTR(v304), v305, &v306);
	VAL v308 = mw_mirth_type_TYPEz_STACK();
	STR* v309;
	STRLIT(v309, "*a", 2);
	uint64_t v310 = mw_std_prim_Str_ZToName(MKSTR(v309));
	uint64_t v311 = mw_mirth_var_Var_newZBang(v308, v310);
	VAL v312 = mtw_mirth_type_StackType_STVar(v311);
	VAL v313 = mtw_mirth_type_Type_TTable(v7);
	VAL v314 = mw_mirth_type_TZMul(v312, v313);
	VAL v315 = mtw_mirth_type_StackType_STVar(v311);
	VAL v316 = mw_mirth_type_TZ_ZTo(v314, v315);
	STR* v317;
	STRLIT(v317, "f", 1);
	uint64_t v318 = mw_std_prim_Str_ZToName(MKSTR(v317));
	uint64_t v319 = mw_mirth_var_Var_newZ_autoZ_runZBang(v316, v318);
	VAL v320 = mw_mirth_var_Ctx1(v311);
	VAL v321 = mtw_mirth_type_StackType_STVar(v311);
	VAL v322 = mw_mirth_var_Var_type(v319);
	VAL v323 = mw_mirth_type_TZMul(v321, v322);
	VAL v324 = mtw_mirth_type_StackType_STVar(v311);
	VAL v325 = mw_mirth_type_TZ_ZTo(v323, v324);
	VAL v326 = mtw_mirth_mirth_PropLabel_WordType(v307);
	VAL v327;
	VAL v328 = mw_mirth_mirth_PropLabel_prop2(v320, v325, v326, v306, &v327);
	void* v329 = mfld_mirth_word_Word_ZTildectxZ_type(v307);
	mut_set(v328, v329);
	VAL v330 = MKI64(0LL /* Nil */);
	VAL v331 = mtw_std_list_List_1_Cons(MKU64(v319), v330);
	VAL v332 = mtw_mirth_mirth_PropLabel_WordParams(v307);
	VAL v333;
	VAL v334 = mw_mirth_mirth_PropLabel_prop(v331, v332, v327, &v333);
	void* v335 = mfld_mirth_word_Word_ZTildeparams(v307);
	mut_set(v334, v335);
	mw_mirth_word_Word_makeZ_inlineZBang(v307);
	VAL v336;
	VAL v337;
	uint64_t v338;
	VAL v339;
	uint64_t v340;
	VAL v341 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v333, v307, &v336, &v337, &v338, &v339, &v340);
	VAL v342;
	VAL v343 = mw_mirth_type_ArrowType_unpack(v337, &v342);
	incref(v343);
	VAL v344 = MKI64(0LL /* Nil */);
	VAL v345 = mtw_mirth_arrow_Arrow_Arrow(v339, v338, v338, v341, v343, v343, v344);
	uint64_t v346 = mw_mirth_table_Table_head(v7);
	VAL v347;
	mw_mirth_elab_abZ_tokenZBang(v345, v346, &v347);
	VAL v348 = MKI64(0LL /* Nil */);
	VAL v349 = mtw_std_list_List_1_Cons(MKU64(v319), v348);
	VAL v350;
	uint64_t v351 = mw_mirth_elab_abZ_tokenZAt(v347, &v350);
	incref(v349);
	VAL v352;
	VAL v353 = mw_mirth_elab_abZ_ctxZAt(v350, &v352);
	VAL v354;
	VAL v355 = mw_mirth_elab_abZ_typeZAt(v352, &v354);
	VAL v356;
	VAL v357;
	VAL v358;
	VAL v359 = mw_std_list_List_1_reverseZ_for_1_sp8(v336, v354, v353, v355, v349, &v356, &v357, &v358);
	VAL v360;
	VAL v361 = mw_mirth_elab_abZ_homeZAt(v357, &v360);
	incref(v358);
	VAL v362 = MKI64(0LL /* Nil */);
	VAL v363 = mtw_mirth_arrow_Arrow_Arrow(v361, v351, v351, v359, v358, v358, v362);
	int64_t v364 = 1LL;
	VAL v365;
	VAL v366;
	mw_mirth_elab_abZ_intZBang(v364, v356, v363, &v365, &v366);
	VAL v367;
	uint64_t v368 = mw_mirth_elab_abZ_tokenZAt(v366, &v367);
	VAL v369;
	VAL v370 = mw_mirth_elab_abZ_ctxZAt(v367, &v369);
	uint64_t v371 = mw_mirth_type_MetaVar_newZBang();
	VAL v372 = mtw_mirth_type_StackType_STMeta(v371);
	VAL v373;
	VAL v374 = mw_mirth_elab_abZ_homeZAt(v369, &v373);
	incref(v372);
	VAL v375 = MKI64(0LL /* Nil */);
	VAL v376 = mtw_mirth_arrow_Arrow_Arrow(v374, v368, v368, v370, v372, v372, v375);
	int64_t v377 = 1LL /* PRIM_CORE_DUP */;
	VAL v378;
	VAL v379;
	mw_mirth_elab_abZ_primZBang(v377, v365, v376, &v378, &v379);
	uint64_t v380 = mw_mirth_table_Table_numZ_buffer(v7);
	VAL v381;
	VAL v382;
	mw_mirth_elab_abZ_bufferZBang(v380, v378, v379, &v381, &v382);
	int64_t v383 = 48LL /* PRIM_I64_GET */;
	VAL v384;
	VAL v385;
	mw_mirth_elab_abZ_primZBang(v383, v381, v382, &v384, &v385);
	int64_t v386 = 50LL /* PRIM_I64_TO_INT */;
	VAL v387;
	VAL v388;
	mw_mirth_elab_abZ_primZBang(v386, v384, v385, &v387, &v388);
	int64_t v389 = 16LL /* PRIM_INT_LE */;
	VAL v390;
	VAL v391;
	mw_mirth_elab_abZ_primZBang(v389, v387, v388, &v390, &v391);
	VAL v392;
	uint64_t v393 = mw_mirth_arrow_Block_newZBang(v390, v391, &v392);
	VAL v394 = mtw_mirth_arrow_Op_OpBlockPush(v393);
	VAL v395;
	VAL v396;
	mw_mirth_elab_abZ_opZBang(v394, v392, v373, &v395, &v396);
	VAL v397;
	uint64_t v398 = mw_mirth_elab_abZ_tokenZAt(v396, &v397);
	VAL v399;
	VAL v400 = mw_mirth_elab_abZ_ctxZAt(v397, &v399);
	uint64_t v401 = mw_mirth_type_MetaVar_newZBang();
	VAL v402 = mtw_mirth_type_StackType_STMeta(v401);
	VAL v403;
	VAL v404 = mw_mirth_elab_abZ_homeZAt(v399, &v403);
	incref(v402);
	VAL v405 = MKI64(0LL /* Nil */);
	VAL v406 = mtw_mirth_arrow_Arrow_Arrow(v404, v398, v398, v400, v402, v402, v405);
	int64_t v407 = 1LL /* PRIM_CORE_DUP */;
	VAL v408;
	VAL v409;
	mw_mirth_elab_abZ_primZBang(v407, v395, v406, &v408, &v409);
	VAL v410;
	uint64_t v411 = mw_mirth_elab_abZ_tokenZAt(v409, &v410);
	VAL v412;
	VAL v413 = mw_mirth_elab_abZ_ctxZAt(v410, &v412);
	uint64_t v414 = mw_mirth_type_MetaVar_newZBang();
	VAL v415 = mtw_mirth_type_StackType_STMeta(v414);
	VAL v416;
	VAL v417 = mw_mirth_elab_abZ_homeZAt(v412, &v416);
	incref(v415);
	VAL v418 = MKI64(0LL /* Nil */);
	VAL v419 = mtw_mirth_arrow_Arrow_Arrow(v417, v411, v411, v413, v415, v415, v418);
	VAL v420 = mtw_mirth_arrow_Op_OpTableFromIndex(v7);
	VAL v421;
	VAL v422;
	mw_mirth_elab_abZ_opZBang(v420, v408, v419, &v421, &v422);
	VAL v423;
	VAL v424;
	mw_mirth_elab_abZ_varZBang(v319, v421, v422, &v423, &v424);
	VAL v425;
	uint64_t v426 = mw_mirth_arrow_Block_newZBang(v423, v424, &v425);
	VAL v427 = mtw_mirth_arrow_Op_OpBlockPush(v426);
	VAL v428;
	VAL v429;
	mw_mirth_elab_abZ_opZBang(v427, v425, v416, &v428, &v429);
	int64_t v430 = 5LL /* PRIM_CORE_DIP */;
	VAL v431;
	VAL v432;
	mw_mirth_elab_abZ_primZBang(v430, v428, v429, &v431, &v432);
	int64_t v433 = 1LL;
	VAL v434;
	VAL v435;
	mw_mirth_elab_abZ_intZBang(v433, v431, v432, &v434, &v435);
	int64_t v436 = 20LL /* PRIM_INT_ADD */;
	VAL v437;
	VAL v438;
	mw_mirth_elab_abZ_primZBang(v436, v434, v435, &v437, &v438);
	VAL v439;
	uint64_t v440 = mw_mirth_arrow_Block_newZBang(v437, v438, &v439);
	VAL v441 = mtw_mirth_arrow_Op_OpBlockPush(v440);
	VAL v442;
	VAL v443;
	mw_mirth_elab_abZ_opZBang(v441, v439, v403, &v442, &v443);
	int64_t v444 = 8LL /* PRIM_CORE_WHILE */;
	VAL v445;
	VAL v446;
	mw_mirth_elab_abZ_primZBang(v444, v442, v443, &v445, &v446);
	int64_t v447 = 2LL /* PRIM_CORE_DROP */;
	VAL v448;
	VAL v449;
	mw_mirth_elab_abZ_primZBang(v447, v445, v446, &v448, &v449);
	VAL v450;
	VAL v451 = mw_mirth_elab_abZ_ctxZAt(v360, &v450);
	VAL v452;
	VAL v453 = mw_mirth_elab_abZ_typeZAt(v450, &v452);
	VAL v454;
	uint64_t v455 = mw_mirth_elab_abZ_tokenZAt(v452, &v454);
	VAL v456 = mtw_mirth_arrow_Lambda_Lambda(v455, v451, v453, v349, v449);
	VAL v457 = mtw_mirth_arrow_Op_OpLambda(v456);
	VAL v458;
	VAL v459;
	mw_mirth_elab_abZ_opZBang(v457, v448, v454, &v458, &v459);
	VAL v460;
	VAL v461;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v342, v458, v459, &v460, &v461);
	VAL v462;
	VAL v463 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v460, v461, v340, &v462);
	VAL v464 = mtw_mirth_mirth_PropLabel_WordArrow(v307);
	VAL v465;
	VAL v466 = mw_mirth_mirth_PropLabel_prop(v463, v464, v462, &v465);
	void* v467 = mfld_mirth_word_Word_ZTildearrow(v307);
	mut_set(v466, v467);
	STR* v468;
	STRLIT(v468, "alloc!", 6);
	int64_t v469 = 0LL;
	VAL v470;
	uint64_t v471 = mw_mirth_elab_tableZ_wordZ_newZBang(v465, v7, MKSTR(v468), v469, &v470);
	VAL v472 = MKI64(0LL /* Nil */);
	VAL v473 = mw_mirth_type_T0();
	VAL v474 = mtw_mirth_type_Type_TTable(v7);
	VAL v475 = mw_mirth_type_T1(v474);
	VAL v476 = mw_mirth_type_TZ_ZTo(v473, v475);
	VAL v477 = mtw_mirth_mirth_PropLabel_WordType(v471);
	VAL v478;
	VAL v479 = mw_mirth_mirth_PropLabel_prop2(v472, v476, v477, v470, &v478);
	void* v480 = mfld_mirth_word_Word_ZTildectxZ_type(v471);
	mut_set(v479, v480);
	VAL v481;
	VAL v482;
	uint64_t v483;
	VAL v484;
	uint64_t v485;
	VAL v486 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(v478, v471, &v481, &v482, &v483, &v484, &v485);
	VAL v487;
	VAL v488 = mw_mirth_type_ArrowType_unpack(v482, &v487);
	incref(v488);
	VAL v489 = MKI64(0LL /* Nil */);
	VAL v490 = mtw_mirth_arrow_Arrow_Arrow(v484, v483, v483, v486, v488, v488, v489);
	uint64_t v491 = mw_mirth_table_Table_head(v7);
	VAL v492;
	mw_mirth_elab_abZ_tokenZBang(v490, v491, &v492);
	uint64_t v493 = mw_mirth_table_Table_numZ_buffer(v7);
	VAL v494;
	VAL v495;
	mw_mirth_elab_abZ_bufferZBang(v493, v481, v492, &v494, &v495);
	int64_t v496 = 48LL /* PRIM_I64_GET */;
	VAL v497;
	VAL v498;
	mw_mirth_elab_abZ_primZBang(v496, v494, v495, &v497, &v498);
	int64_t v499 = 50LL /* PRIM_I64_TO_INT */;
	VAL v500;
	VAL v501;
	mw_mirth_elab_abZ_primZBang(v499, v497, v498, &v500, &v501);
	int64_t v502 = 1LL;
	VAL v503;
	VAL v504;
	mw_mirth_elab_abZ_intZBang(v502, v500, v501, &v503, &v504);
	int64_t v505 = 20LL /* PRIM_INT_ADD */;
	VAL v506;
	VAL v507;
	mw_mirth_elab_abZ_primZBang(v505, v503, v504, &v506, &v507);
	int64_t v508 = 1LL /* PRIM_CORE_DUP */;
	VAL v509;
	VAL v510;
	mw_mirth_elab_abZ_primZBang(v508, v506, v507, &v509, &v510);
	int64_t v511 = 31LL /* PRIM_INT_TO_I64 */;
	VAL v512;
	VAL v513;
	mw_mirth_elab_abZ_primZBang(v511, v509, v510, &v512, &v513);
	uint64_t v514 = mw_mirth_table_Table_numZ_buffer(v7);
	VAL v515;
	VAL v516;
	mw_mirth_elab_abZ_bufferZBang(v514, v512, v513, &v515, &v516);
	int64_t v517 = 49LL /* PRIM_I64_SET */;
	VAL v518;
	VAL v519;
	mw_mirth_elab_abZ_primZBang(v517, v515, v516, &v518, &v519);
	VAL v520 = mtw_mirth_arrow_Op_OpTableFromIndex(v7);
	VAL v521;
	VAL v522;
	mw_mirth_elab_abZ_opZBang(v520, v518, v519, &v521, &v522);
	VAL v523;
	VAL v524;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v487, v521, v522, &v523, &v524);
	VAL v525;
	VAL v526 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v523, v524, v485, &v525);
	VAL v527 = mtw_mirth_mirth_PropLabel_WordArrow(v471);
	VAL v528;
	VAL v529 = mw_mirth_mirth_PropLabel_prop(v526, v527, v525, &v528);
	void* v530 = mfld_mirth_word_Word_ZTildearrow(v471);
	mut_set(v529, v530);
	*out_ZPlusMirth_5 = v528;
	return v7;
}
static VAL mw_mirth_elab_resolveZ_defZ_namespace (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_Either_3, VAL *out_ZPlusMirth_4) {
	STR* v6;
	STRLIT(v6, "namespace", 9);
	int64_t v7 = 1LL /* True */;
	int64_t v8 = 0LL /* False */;
	VAL v9;
	VAL v10;
	mw_mirth_elab_resolveZ_defZ_beginZBang(MKSTR(v6), in_Token_2, in_Either_3, v7, v8, in_ZPlusMirth_1, &v9, &v10);
	VAL v11 = VTUP(v10)->cells[4];
	incref(v11);
	VAL v12 = MKI64(0LL /* Nil */);
	VAL v13 = MKI64(0LL /* Nil */);
	int64_t v14 = 1LL /* True */;
	VAL v15 = v9;
	VAL v16 = v10;
	VAL v17 = v12;
	VAL v18 = v13;
	VAL v19 = v11;
	int64_t v20 = v14;
	int64_t v21 = v14;
	while (((bool)v21)) {
		VAL v22 = v15;
		VAL v23 = v16;
		VAL v24 = v17;
		VAL v25 = v18;
		VAL v26 = v19;
		int64_t v27 = v20;
		VAL branch_ZPlusMirth_28;
		VAL branch_z_x1_29;
		VAL branch_List_30;
		VAL branch_List_31;
		VAL branch_List_32;
		int64_t branch_Bool_33;
		switch (get_data_tag(v26)) {
			case 1LL: { // Cons
				VAL v34;
				VAL v35 = mtp_std_list_List_1_Cons(v26, &v34);
				incref(v35);
				VAL v36;
				VAL v37 = mw_mirth_def_Def_exposedZ_tyconZAsk(v22, v35, &v36);
				int64_t v38 = get_data_tag(v37);
				decref(v37);
				int64_t v39 = 1LL;
				bool v40 = (v38 == v39);
				VAL branch_ZPlusMirth_41;
				VAL branch_z_x1_42;
				VAL branch_Either_43;
				if (v40) {
					VAL v44 = mtw_std_either_Either_2_Right(v35);
					branch_Either_43 = v44;
					branch_z_x1_42 = v23;
					branch_ZPlusMirth_41 = v36;
				} else {
					VAL v45 = mtw_mirth_elab_RejectedDef_RDz_WRONGz_SORT(v35);
					VAL v46 = mtw_std_either_Either_2_Left(v45);
					branch_Either_43 = v46;
					branch_z_x1_42 = v23;
					branch_ZPlusMirth_41 = v36;
				}
				VAL branch_ZPlusMirth_47;
				VAL branch_z_x1_48;
				VAL branch_List_49;
				VAL branch_List_50;
				switch (get_data_tag(branch_Either_43)) {
					case 0LL: { // Left
						VAL v51 = mtp_std_either_Either_2_Left(branch_Either_43);
						VAL v52 = mtw_std_list_List_1_Cons(v51, v24);
						branch_List_50 = v25;
						branch_List_49 = v52;
						branch_z_x1_48 = branch_z_x1_42;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_41;
					} break;
					case 1LL: { // Right
						VAL v53 = mtp_std_either_Either_2_Right(branch_Either_43);
						VAL v54 = mtw_std_list_List_1_Cons(v53, v25);
						branch_List_50 = v54;
						branch_List_49 = v24;
						branch_z_x1_48 = branch_z_x1_42;
						branch_ZPlusMirth_47 = branch_ZPlusMirth_41;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v55 = 1LL /* True */;
				branch_Bool_33 = v55;
				branch_List_32 = v34;
				branch_List_31 = branch_List_50;
				branch_List_30 = branch_List_49;
				branch_z_x1_29 = branch_z_x1_48;
				branch_ZPlusMirth_28 = branch_ZPlusMirth_47;
			} break;
			case 0LL: { // Nil
				VAL v56 = MKI64(0LL /* Nil */);
				int64_t v57 = 0LL /* False */;
				branch_Bool_33 = v57;
				branch_List_32 = v56;
				branch_List_31 = v25;
				branch_List_30 = v24;
				branch_z_x1_29 = v23;
				branch_ZPlusMirth_28 = v22;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_33;
		v20 = branch_Bool_33;
		v19 = branch_List_32;
		v18 = branch_List_31;
		v17 = branch_List_30;
		v16 = branch_z_x1_29;
		v15 = branch_ZPlusMirth_28;
	}
	decref(v19);
	VAL v58 = mw_std_list_List_1_reverse(v17);
	VAL v59 = mw_std_list_List_1_reverse(v18);
	VAL v60 = VTUP(v16)->cells[5];
	incref(v60);
	VAL v61 = mw_std_list_List_1_cat(v58, v60);
	VAL v62 = VTUP(v16)->cells[5];
	decref(v62);
	VTUP(v16)->cells[5] = v61;
	VAL v63 = VTUP(v16)->cells[4];
	decref(v63);
	VTUP(v16)->cells[4] = v59;
	VAL v64;
	VAL v65;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v15, v16, &v64, &v65);
	VAL v66 = MKI64(0LL /* Nil */);
	VAL v67;
	VAL v68;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v66, v64, v65, &v67, &v68);
	VAL v69;
	VAL v70 = mw_mirth_elab_resolveZ_defZ_endZBang(v67, v68, &v69);
	VAL v71;
	VAL v72 = mw_std_maybe_Maybe_1_bind_1_sp7(v69, v70, &v71);
	*out_ZPlusMirth_4 = v71;
	return v72;
}
static VAL mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL in_DName_3, int64_t in_Int_4, VAL *out_ZPlusMirth_5) {
	incref(in_DName_3);
	VAL v7 = mtw_std_either_Either_2_Right(in_DName_3);
	incref(in_DName_3);
	VAL v8 = mw_mirth_name_DName_rootZAsk(in_DName_3);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	int64_t v10 = 0LL;
	bool v11 = (v9 == v10);
	uint64_t branch_Token_12;
	VAL branch_ZPlusMirth_13;
	VAL branch_z_x1_14;
	if (v11) {
		decref(in_DName_3);
		STR* v15;
		STRLIT(v15, "relative name not allowed", 25);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v15), in_ZPlusMirth_1);
	} else {
		branch_z_x1_14 = in_DName_3;
		branch_ZPlusMirth_13 = in_ZPlusMirth_1;
		branch_Token_12 = in_Token_2;
	}
	uint64_t v19 = mw_mirth_name_DName_lastZ_name(branch_z_x1_14);
	VAL v20;
	VAL v21 = mw_mirth_elab_resolveZ_defZ_namespace(branch_ZPlusMirth_13, branch_Token_12, v7, &v20);
	VAL branch_ZPlusMirth_22;
	VAL branch_z_x1_23;
	switch (get_data_tag(v21)) {
		case 1LL: { // Some
			VAL v24 = mtp_std_maybe_Maybe_1_Some(v21);
			branch_z_x1_23 = v24;
			branch_ZPlusMirth_22 = v20;
		} break;
		case 0LL: { // None
			mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(v20);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v27 = mtw_mirth_name_QName_MKQNAME(branch_z_x1_23, v19, in_Int_4);
	*out_ZPlusMirth_5 = branch_ZPlusMirth_22;
	return v27;
}
static int64_t mw_mirth_elab_moduleZ_visibleZ_fromZ_tokenZAsk (uint64_t in_Token_1, uint64_t in_Module_2) {
	uint64_t v4 = mw_mirth_token_Token_module(in_Token_1);
	int64_t v5 = mw_mirth_module_Module_visible(in_Module_2, v4);
	return v5;
}
static VAL mw_mirth_elab_elabZ_defZ_qname (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v5 = mw_mirth_token_Token_nameZDivdnameZAsk(in_Token_2);
	uint64_t branch_Token_6;
	VAL branch_ZPlusMirth_7;
	VAL branch_z_x1_8;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_z_x1_8 = v9;
			branch_ZPlusMirth_7 = in_ZPlusMirth_1;
			branch_Token_6 = in_Token_2;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "expected name", 13);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v10), in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusMirth_14;
	VAL branch_QName_15;
	switch (get_data_tag(branch_z_x1_8)) {
		case 0LL: { // Left
			VAL v16 = mtp_std_either_Either_2_Left(branch_z_x1_8);
			uint64_t v17 = mw_mirth_token_Token_module(branch_Token_6);
			VAL v18 = mtw_mirth_name_Namespace_NAMESPACEz_MODULE(v17);
			int64_t v19 = mw_mirth_token_Token_numZ_args(branch_Token_6);
			VAL v20 = mtw_mirth_name_QName_MKQNAME(v18, value_u64(v16), v19);
			branch_QName_15 = v20;
			branch_ZPlusMirth_14 = branch_ZPlusMirth_7;
		} break;
		case 1LL: { // Right
			VAL v21 = mtp_std_either_Either_2_Right(branch_z_x1_8);
			int64_t v22 = mw_mirth_token_Token_numZ_args(branch_Token_6);
			VAL v23;
			VAL v24 = mw_mirth_elab_elabZ_qnameZ_fromZ_nonrelativeZ_dname(branch_ZPlusMirth_7, branch_Token_6, v21, v22, &v23);
			branch_QName_15 = v24;
			branch_ZPlusMirth_14 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_14;
	return branch_QName_15;
}
static VAL mw_mirth_elab_elabZ_defZ_qnameZ_undefined (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	VAL v6 = mw_mirth_elab_elabZ_defZ_qname(in_ZPlusMirth_1, in_Token_2, &v5);
	incref(v6);
	VAL v7;
	int64_t v8 = mw_mirth_name_QName_definedZ_softZAsk(v5, v6, &v7);
	uint64_t branch_Token_9;
	VAL branch_ZPlusMirth_10;
	VAL branch_z_x1_11;
	if (((bool)v8)) {
		decref(v6);
		STR* v12;
		STRLIT(v12, "name already defined", 20);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v12), v7);
	} else {
		branch_z_x1_11 = v6;
		branch_ZPlusMirth_10 = v7;
		branch_Token_9 = in_Token_2;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_10;
	return branch_z_x1_11;
}
static void mw_mirth_elab_elabZ_defZ_head (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, uint64_t *out_Token_4, uint64_t *out_Name_5, int64_t *out_Nat_6, VAL *out_PropState_7) {
	VAL v8 = mw_mirth_token_Token_nameZDivdnameZAsk(in_Token_2);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_Token_10;
	VAL branch_z_x1_11;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v12 = mtp_std_maybe_Maybe_1_Some(v8);
			branch_z_x1_11 = v12;
			branch_Token_10 = in_Token_2;
			branch_ZPlusMirth_9 = in_ZPlusMirth_1;
		} break;
		case 0LL: { // None
			STR* v13;
			STRLIT(v13, "expected name", 13);
			mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_2, MKSTR(v13), in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t branch_Name_16;
	switch (get_data_tag(branch_z_x1_11)) {
		case 0LL: { // Left
			VAL v17 = mtp_std_either_Either_2_Left(branch_z_x1_11);
			branch_Name_16 = value_u64(v17);
		} break;
		case 1LL: { // Right
			VAL v18 = mtp_std_either_Either_2_Right(branch_z_x1_11);
			VAL v19 = mw_mirth_name_DName_parts(v18);
			VAL v20 = mw_std_list_ListZPlus_1_last(v19);
			branch_Name_16 = value_u64(v20);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	int64_t v21 = mw_mirth_token_Token_numZ_args(branch_Token_10);
	FNPTR v22 = &mb_mirth_elab_elabZ_defZ_head_3;
	VAL v23 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(branch_Token_10), MKFNPTR(v22));
	*out_PropState_7 = v23;
	*out_Nat_6 = v21;
	*out_Name_5 = branch_Name_16;
	*out_Token_4 = branch_Token_10;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_9;
}
static uint64_t mw_mirth_elab_parseZ_field (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3, uint64_t *out_Token_5, uint64_t *out_Token_6, uint64_t *out_Token_7) {
	uint64_t v8 = mw_mirth_token_Token_next(in_Token_2);
	uint64_t v9;
	uint64_t v10;
	VAL v11;
	uint64_t v12 = mw_mirth_token_Token_argsZ_3(in_Token_2, in_ZPlusMirth_1, &v9, &v10, &v11);
	VAL v13 = mw_mirth_token_Token_nameZDivdnameZAsk(v12);
	int64_t v14 = get_data_tag(v13);
	decref(v13);
	int64_t v15 = 0LL;
	bool v16 = (v14 == v15);
	VAL branch_ZPlusMirth_17;
	uint64_t branch_Token_18;
	if (v16) {
		STR* v19;
		STRLIT(v19, "expected field name", 19);
		mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v12, MKSTR(v19), v11);
	} else {
		branch_Token_18 = v12;
		branch_ZPlusMirth_17 = v11;
	}
	VAL v21;
	mw_mirth_token_Token_argsZ_0(branch_Token_18, branch_ZPlusMirth_17, &v21);
	*out_Token_7 = v10;
	*out_Token_6 = v9;
	*out_Token_5 = branch_Token_18;
	*out_ZPlusMirth_3 = v21;
	return v8;
}
static uint64_t mw_mirth_elab_elabZ_fieldZBang (VAL in_ZPlusMirth_1, uint64_t in_Token_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	uint64_t v6;
	uint64_t v7;
	uint64_t v8;
	uint64_t v9 = mw_mirth_elab_parseZ_field(in_ZPlusMirth_1, in_Token_2, &v5, &v6, &v7, &v8);
	VAL v10;
	uint64_t v11;
	uint64_t v12;
	int64_t v13;
	VAL v14;
	mw_mirth_elab_elabZ_defZ_head(v5, v6, &v10, &v11, &v12, &v13, &v14);
	uint64_t v15 = mw_mirth_table_Field_allocZBang();
	void* v16 = mfld_mirth_table_Field_ZTildename(v15);
	mut_set(MKU64(v12), v16);
	void* v17 = mfld_mirth_table_Field_ZTildehead(v15);
	mut_set(MKU64(v11), v17);
	int64_t v18 = 0LL;
	bool v19 = (v13 == v18);
	VAL branch_ZPlusMirth_20;
	uint64_t branch_Field_21;
	if (v19) {
		branch_Field_21 = v15;
		branch_ZPlusMirth_20 = v10;
	} else {
		uint64_t v22 = mw_mirth_table_Field_head(v15);
		STR* v23;
		STRLIT(v23, "Field cannot take arguments.", 28);
		VAL v24;
		mw_mirth_mirth_ZPlusMirth_emitZ_errorZBang(v22, MKSTR(v23), v10, &v24);
		branch_Field_21 = v15;
		branch_ZPlusMirth_20 = v24;
	}
	VAL v25 = mtw_mirth_mirth_PropLabel_FieldQName(branch_Field_21);
	VAL v26 = mtw_mirth_mirth_Prop_1_Prop(v25, v14);
	void* v27 = mfld_mirth_table_Field_ZTildeqname(branch_Field_21);
	mut_set(v26, v27);
	VAL v28 = mtw_mirth_mirth_PropLabel_FieldIndexType(branch_Field_21);
	VAL v29 = mw_mirth_mirth_PropLabel_prop_1_sp15(v7, v28);
	void* v30 = mfld_mirth_table_Field_ZTildeindexZ_type(branch_Field_21);
	mut_set(v29, v30);
	VAL v31 = mtw_mirth_mirth_PropLabel_FieldValueType(branch_Field_21);
	VAL v32 = mw_mirth_mirth_PropLabel_prop_1_sp15(v8, v31);
	void* v33 = mfld_mirth_table_Field_ZTildevalueZ_type(branch_Field_21);
	mut_set(v32, v33);
	VAL v34 = mtw_mirth_def_Def_DefField(branch_Field_21);
	VAL v35;
	mw_mirth_def_Def_register(branch_ZPlusMirth_20, v34, &v35);
	*out_ZPlusMirth_3 = v35;
	return v9;
}
static int64_t mw_std_map_Map_2_len (VAL in_Map_1) {
	int64_t v3 = mw_std_list_List_1_len(in_Map_1);
	return v3;
}
static VAL mw_std_map_Map_2_empty (void) {
	VAL v2 = MKI64(0LL /* Nil */);
	return v2;
}
static VAL mw_std_map_Map_2_insert (VAL in_KVPair_1, VAL in_Map_2) {
	VAL v4 = mtw_std_list_List_1_Cons(in_KVPair_1, in_Map_2);
	return v4;
}
static VAL mw_mirth_specializzer_runZ_specializzerZBang (VAL in_ZPlusMirth_1, VAL in_Arrow_2, VAL *out_ZPlusMirth_3) {
	VAL v5;
	mw_mirth_specializzer_ZPlusSPCheck_beginZBang(&v5);
	VAL v6;
	VAL v7;
	VAL v8 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(in_Arrow_2, in_ZPlusMirth_1, v5, &v6, &v7);
	VAL v9;
	VAL v10;
	mw_mirth_specializzer_ZPlusSPCheck_loopZBang(v6, v7, &v9, &v10);
	mw_mirth_specializzer_ZPlusSPCheck_endZBang(v10);
	*out_ZPlusMirth_3 = v9;
	return v8;
}
static void mw_mirth_specializzer_ZPlusSPCheck_beginZBang (VAL *out_ZPlusSPCheck_1) {
	VAL v2 = MKI64(0LL /* Nil */);
	*out_ZPlusSPCheck_1 = v2;
}
static void mw_mirth_specializzer_ZPlusSPCheck_endZBang (VAL in_ZPlusSPCheck_1) {
	decref(in_ZPlusSPCheck_1);
}
static void mw_mirth_specializzer_ZPlusSPCheck_loopZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusSPCheck_4) {
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_ZPlusMirth_1;
	VAL v7 = in_ZPlusSPCheck_2;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		incref(v11);
		VAL v13;
		VAL v14 = mw_std_list_List_1_uncons(v11, &v13);
		decref(v11);
		VAL branch_ZPlusMirth_15;
		VAL branch_ZPlusSPCheck_16;
		int64_t branch_Bool_17;
		switch (get_data_tag(v14)) {
			case 1LL: { // Some
				VAL v18 = mtp_std_maybe_Maybe_1_Some(v14);
				VAL v19;
				VAL v20;
				mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang(v18, v10, v13, &v19, &v20);
				int64_t v21 = 1LL /* True */;
				branch_Bool_17 = v21;
				branch_ZPlusSPCheck_16 = v20;
				branch_ZPlusMirth_15 = v19;
			} break;
			case 0LL: { // None
				int64_t v22 = 0LL /* False */;
				branch_Bool_17 = v22;
				branch_ZPlusSPCheck_16 = v13;
				branch_ZPlusMirth_15 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_17;
		v8 = branch_Bool_17;
		v7 = branch_ZPlusSPCheck_16;
		v6 = branch_ZPlusMirth_15;
	}
	*out_ZPlusSPCheck_4 = v7;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_specializzer_ZPlusSPCheck_doZ_itemZ_checkZBang (VAL in_SPCheckItem_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPCheck_5) {
	VAL branch_ZPlusMirth_6;
	VAL branch_ZPlusSPCheck_7;
	switch (get_data_tag(in_SPCheckItem_1)) {
		case 0LL: { // SPCHECK_WORD
			uint64_t v8 = mtp_mirth_specializzer_SPCheckItem_SPCHECKz_WORD(in_SPCheckItem_1);
			VAL v9;
			VAL v10 = mw_mirth_word_Word_arrow(v8, in_ZPlusMirth_2, &v9);
			VAL v11;
			VAL v12;
			VAL v13 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(v10, v9, in_ZPlusSPCheck_3, &v11, &v12);
			VAL v14 = mtw_mirth_mirth_PropLabel_WordArrow(v8);
			VAL v15;
			VAL v16 = mw_mirth_mirth_PropLabel_prop(v13, v14, v11, &v15);
			void* v17 = mfld_mirth_word_Word_ZTildearrow(v8);
			mut_set(v16, v17);
			branch_ZPlusSPCheck_7 = v12;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 1LL: { // SPCHECK_BLOCK
			uint64_t v18 = mtp_mirth_specializzer_SPCheckItem_SPCHECKz_BLOCK(in_SPCheckItem_1);
			VAL v19;
			VAL v20 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_2, v18, &v19);
			VAL v21;
			VAL v22;
			VAL v23 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(v20, v19, in_ZPlusSPCheck_3, &v21, &v22);
			VAL v24 = mtw_mirth_mirth_PropLabel_BlockArrow(v18);
			VAL v25;
			VAL v26 = mw_mirth_mirth_PropLabel_prop(v23, v24, v21, &v25);
			void* v27 = mfld_mirth_arrow_Block_ZTildearrow(v18);
			mut_set(v26, v27);
			branch_ZPlusSPCheck_7 = v22;
			branch_ZPlusMirth_6 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_5 = branch_ZPlusSPCheck_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang (VAL in_Arrow_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6) {
	incref(in_Arrow_1);
	VAL v7 = VTUP(in_Arrow_1)->cells[7];
	incref(v7);
	decref(in_Arrow_1);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mw_std_list_List_1_reverse(v8);
	int64_t v10 = 1LL /* True */;
	VAL v11 = in_ZPlusMirth_2;
	VAL v12 = in_ZPlusSPCheck_3;
	VAL v13 = v9;
	VAL v14 = v7;
	int64_t v15 = v10;
	int64_t v16 = v10;
	while (((bool)v16)) {
		VAL v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		VAL v20 = v14;
		int64_t v21 = v15;
		VAL branch_ZPlusMirth_22;
		VAL branch_ZPlusSPCheck_23;
		VAL branch_ZPlusList_24;
		VAL branch_List_25;
		int64_t branch_Bool_26;
		switch (get_data_tag(v20)) {
			case 1LL: { // Cons
				VAL v27;
				VAL v28 = mtp_std_list_List_1_Cons(v20, &v27);
				VAL v29;
				VAL v30;
				VAL v31 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang(v28, v17, v18, &v29, &v30);
				VAL v32;
				mw_std_list_List_1_for_1_sp46(v19, v31, &v32);
				int64_t v33 = 1LL /* True */;
				branch_Bool_26 = v33;
				branch_List_25 = v27;
				branch_ZPlusList_24 = v32;
				branch_ZPlusSPCheck_23 = v30;
				branch_ZPlusMirth_22 = v29;
			} break;
			case 0LL: { // Nil
				VAL v34 = MKI64(0LL /* Nil */);
				int64_t v35 = 0LL /* False */;
				branch_Bool_26 = v35;
				branch_List_25 = v34;
				branch_ZPlusList_24 = v19;
				branch_ZPlusSPCheck_23 = v18;
				branch_ZPlusMirth_22 = v17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_26;
		v15 = branch_Bool_26;
		v14 = branch_List_25;
		v13 = branch_ZPlusList_24;
		v12 = branch_ZPlusSPCheck_23;
		v11 = branch_ZPlusMirth_22;
	}
	decref(v14);
	VAL v36 = mw_std_list_List_1_reverse(v13);
	VAL v37 = tup_replace(in_Arrow_1, 7, v36);
	*out_ZPlusSPCheck_6 = v12;
	*out_ZPlusMirth_5 = v11;
	return v37;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_atomZBang (VAL in_Atom_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6) {
	incref(in_Atom_1);
	VAL v7 = VTUP(in_Atom_1)->cells[4];
	incref(v7);
	decref(in_Atom_1);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusSPCheck_9;
	VAL branch_List_10;
	switch (get_data_tag(v7)) {
		case 0LL: { // OpNone
			VAL v11 = MKI64(0LL /* Nil */);
			VAL v12 = mtw_std_list_List_1_Cons(in_Atom_1, v11);
			branch_List_10 = v12;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 1LL: { // OpPrim
			int64_t v13 = mtp_mirth_arrow_Op_OpPrim(v7);
			VAL v14;
			VAL v15 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang(in_Atom_1, v13, in_ZPlusSPCheck_3, &v14);
			branch_List_10 = v15;
			branch_ZPlusSPCheck_9 = v14;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 2LL: { // OpWord
			uint64_t v16 = mtp_mirth_arrow_Op_OpWord(v7);
			VAL v17;
			VAL v18;
			VAL v19 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang(in_ZPlusMirth_2, in_ZPlusSPCheck_3, in_Atom_1, v16, &v17, &v18);
			branch_List_10 = v19;
			branch_ZPlusSPCheck_9 = v18;
			branch_ZPlusMirth_8 = v17;
		} break;
		case 3LL: { // OpExternal
			uint64_t v20 = mtp_mirth_arrow_Op_OpExternal(v7);
			VAL v21 = MKI64(0LL /* Nil */);
			VAL v22 = mtw_std_list_List_1_Cons(in_Atom_1, v21);
			branch_List_10 = v22;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 4LL: { // OpBuffer
			uint64_t v23 = mtp_mirth_arrow_Op_OpBuffer(v7);
			VAL v24 = MKI64(0LL /* Nil */);
			VAL v25 = mtw_std_list_List_1_Cons(in_Atom_1, v24);
			branch_List_10 = v25;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 5LL: { // OpVariable
			uint64_t v26 = mtp_mirth_arrow_Op_OpVariable(v7);
			VAL v27 = MKI64(0LL /* Nil */);
			VAL v28 = mtw_std_list_List_1_Cons(in_Atom_1, v27);
			branch_List_10 = v28;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 6LL: { // OpField
			uint64_t v29 = mtp_mirth_arrow_Op_OpField(v7);
			VAL v30 = MKI64(0LL /* Nil */);
			VAL v31 = mtw_std_list_List_1_Cons(in_Atom_1, v30);
			branch_List_10 = v31;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 7LL: { // OpInt
			int64_t v32 = mtp_mirth_arrow_Op_OpInt(v7);
			VAL v33 = MKI64(0LL /* Nil */);
			VAL v34 = mtw_std_list_List_1_Cons(in_Atom_1, v33);
			branch_List_10 = v34;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 8LL: { // OpF64
			double v35 = mtp_mirth_arrow_Op_OpF64(v7);
			VAL v36 = MKI64(0LL /* Nil */);
			VAL v37 = mtw_std_list_List_1_Cons(in_Atom_1, v36);
			branch_List_10 = v37;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 9LL: { // OpStr
			VAL v38 = mtp_mirth_arrow_Op_OpStr(v7);
			decref(v38);
			VAL v39 = MKI64(0LL /* Nil */);
			VAL v40 = mtw_std_list_List_1_Cons(in_Atom_1, v39);
			branch_List_10 = v40;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 10LL: { // OpTag
			uint64_t v41 = mtp_mirth_arrow_Op_OpTag(v7);
			VAL v42 = MKI64(0LL /* Nil */);
			VAL v43 = mtw_std_list_List_1_Cons(in_Atom_1, v42);
			branch_List_10 = v43;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 11LL: { // OpMatch
			VAL v44 = mtp_mirth_arrow_Op_OpMatch(v7);
			VAL v45;
			VAL v46;
			VAL v47 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang(v44, in_ZPlusMirth_2, in_ZPlusSPCheck_3, &v45, &v46);
			VAL v48 = mtw_mirth_arrow_Op_OpMatch(v47);
			VAL v49 = tup_replace(in_Atom_1, 4, v48);
			VAL v50 = MKI64(0LL /* Nil */);
			VAL v51 = mtw_std_list_List_1_Cons(v49, v50);
			branch_List_10 = v51;
			branch_ZPlusSPCheck_9 = v46;
			branch_ZPlusMirth_8 = v45;
		} break;
		case 12LL: { // OpLambda
			VAL v52 = mtp_mirth_arrow_Op_OpLambda(v7);
			VAL v53;
			VAL v54;
			VAL v55 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang(v52, in_ZPlusMirth_2, in_ZPlusSPCheck_3, &v53, &v54);
			VAL v56 = mtw_mirth_arrow_Op_OpLambda(v55);
			VAL v57 = tup_replace(in_Atom_1, 4, v56);
			VAL v58 = MKI64(0LL /* Nil */);
			VAL v59 = mtw_std_list_List_1_Cons(v57, v58);
			branch_List_10 = v59;
			branch_ZPlusSPCheck_9 = v54;
			branch_ZPlusMirth_8 = v53;
		} break;
		case 13LL: { // OpVar
			uint64_t v60 = mtp_mirth_arrow_Op_OpVar(v7);
			VAL v61 = MKI64(0LL /* Nil */);
			VAL v62 = mtw_std_list_List_1_Cons(in_Atom_1, v61);
			branch_List_10 = v62;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 14LL: { // OpBlockPush
			uint64_t v63 = mtp_mirth_arrow_Op_OpBlockPush(v7);
			VAL v64;
			mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(v63, in_ZPlusSPCheck_3, &v64);
			VAL v65 = MKI64(0LL /* Nil */);
			VAL v66 = mtw_std_list_List_1_Cons(in_Atom_1, v65);
			branch_List_10 = v66;
			branch_ZPlusSPCheck_9 = v64;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 15LL: { // OpBlockRun
			uint64_t v67 = mtp_mirth_arrow_Op_OpBlockRun(v7);
			VAL v68;
			mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(v67, in_ZPlusSPCheck_3, &v68);
			VAL v69 = MKI64(0LL /* Nil */);
			VAL v70 = mtw_std_list_List_1_Cons(in_Atom_1, v69);
			branch_List_10 = v70;
			branch_ZPlusSPCheck_9 = v68;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 16LL: { // OpLabelPush
			uint64_t v71 = mtp_mirth_arrow_Op_OpLabelPush(v7);
			VAL v72 = MKI64(0LL /* Nil */);
			VAL v73 = mtw_std_list_List_1_Cons(in_Atom_1, v72);
			branch_List_10 = v73;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 17LL: { // OpLabelPop
			uint64_t v74 = mtp_mirth_arrow_Op_OpLabelPop(v7);
			VAL v75 = MKI64(0LL /* Nil */);
			VAL v76 = mtw_std_list_List_1_Cons(in_Atom_1, v75);
			branch_List_10 = v76;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 18LL: { // OpLabelPushR
			uint64_t v77 = mtp_mirth_arrow_Op_OpLabelPushR(v7);
			VAL v78 = MKI64(0LL /* Nil */);
			VAL v79 = mtw_std_list_List_1_Cons(in_Atom_1, v78);
			branch_List_10 = v79;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 19LL: { // OpLabelPopR
			uint64_t v80 = mtp_mirth_arrow_Op_OpLabelPopR(v7);
			VAL v81 = MKI64(0LL /* Nil */);
			VAL v82 = mtw_std_list_List_1_Cons(in_Atom_1, v81);
			branch_List_10 = v82;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 20LL: { // OpDataGetEnumValue
			uint64_t v83 = mtp_mirth_arrow_Op_OpDataGetEnumValue(v7);
			VAL v84 = MKI64(0LL /* Nil */);
			VAL v85 = mtw_std_list_List_1_Cons(in_Atom_1, v84);
			branch_List_10 = v85;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 21LL: { // OpDataFromEnumValue
			uint64_t v86 = mtp_mirth_arrow_Op_OpDataFromEnumValue(v7);
			VAL v87 = MKI64(0LL /* Nil */);
			VAL v88 = mtw_std_list_List_1_Cons(in_Atom_1, v87);
			branch_List_10 = v88;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 22LL: { // OpDataGetLabel
			VAL v89 = mtp_mirth_arrow_Op_OpDataGetLabel(v7);
			decref(v89);
			VAL v90 = MKI64(0LL /* Nil */);
			VAL v91 = mtw_std_list_List_1_Cons(in_Atom_1, v90);
			branch_List_10 = v91;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 23LL: { // OpDataSetLabel
			VAL v92 = mtp_mirth_arrow_Op_OpDataSetLabel(v7);
			decref(v92);
			VAL v93 = MKI64(0LL /* Nil */);
			VAL v94 = mtw_std_list_List_1_Cons(in_Atom_1, v93);
			branch_List_10 = v94;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 24LL: { // OpTableToIndex
			uint64_t v95 = mtp_mirth_arrow_Op_OpTableToIndex(v7);
			VAL v96 = MKI64(0LL /* Nil */);
			VAL v97 = mtw_std_list_List_1_Cons(in_Atom_1, v96);
			branch_List_10 = v97;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		case 25LL: { // OpTableFromIndex
			uint64_t v98 = mtp_mirth_arrow_Op_OpTableFromIndex(v7);
			VAL v99 = MKI64(0LL /* Nil */);
			VAL v100 = mtw_std_list_List_1_Cons(in_Atom_1, v99);
			branch_List_10 = v100;
			branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_3;
			branch_ZPlusMirth_8 = in_ZPlusMirth_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_6 = branch_ZPlusSPCheck_9;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_8;
	return branch_List_10;
}
static void mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang (uint64_t in_Arg_1, VAL in_ZPlusSPCheck_2, VAL *out_ZPlusSPCheck_3) {
	VAL v4;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang(in_Arg_1, in_ZPlusSPCheck_2, &v4);
	*out_ZPlusSPCheck_3 = v4;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_primZ_atomZBang (VAL in_Atom_1, int64_t in_Prim_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusSPCheck_5) {
	incref(in_Atom_1);
	VAL v6 = VTUP(in_Atom_1)->cells[5];
	incref(v6);
	decref(in_Atom_1);
	VAL v7;
	mw_std_list_List_1_for_1_sp60(in_ZPlusSPCheck_3, v6, &v7);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mtw_std_list_List_1_Cons(in_Atom_1, v8);
	*out_ZPlusSPCheck_5 = v7;
	return v9;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_wordZ_atomZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPCheck_2, VAL in_Atom_3, uint64_t in_Word_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6) {
	VAL v8;
	mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang(in_Word_4, in_ZPlusSPCheck_2, &v8);
	incref(in_Atom_3);
	VAL v9 = VTUP(in_Atom_3)->cells[5];
	incref(v9);
	decref(in_Atom_3);
	VAL v10 = mw_std_list_List_1_ZToListZPlus(v9);
	VAL branch_ZPlusMirth_11;
	VAL branch_ZPlusSPCheck_12;
	VAL branch_List_13;
	switch (get_data_tag(v10)) {
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* Nil */);
			VAL v15 = mtw_std_list_List_1_Cons(in_Atom_3, v14);
			branch_List_13 = v15;
			branch_ZPlusSPCheck_12 = v8;
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v10);
			incref(v16);
			VAL v17;
			VAL v18;
			mtp_std_list_ListZPlus_1_ListZPlus(v16, &v17, &v18);
			VAL v19 = mtw_std_list_List_1_Cons(v17, v18);
			VAL v20 = MKI64(0LL /* None */);
			int64_t v21 = 1LL /* True */;
			VAL v22 = in_ZPlusMirth_1;
			VAL v23 = v8;
			VAL v24 = v20;
			VAL v25 = v19;
			int64_t v26 = v21;
			int64_t v27 = v21;
			while (((bool)v27)) {
				VAL v28 = v22;
				VAL v29 = v23;
				VAL v30 = v24;
				VAL v31 = v25;
				int64_t v32 = v26;
				VAL v33;
				VAL v34 = mw_std_list_List_1_uncons(v31, &v33);
				VAL branch_ZPlusMirth_35;
				VAL branch_z_x1_36;
				VAL branch_Maybe_37;
				VAL branch_List_38;
				int64_t branch_Bool_39;
				switch (get_data_tag(v34)) {
					case 1LL: { // Some
						VAL v40 = mtp_std_maybe_Maybe_1_Some(v34);
						incref(v40);
						VAL v41;
						VAL v42 = mw_mirth_arrow_Arg_freeZ_vars(v28, value_u64(v40), &v41);
						VAL v43 = MKI64(0LL /* None */);
						int64_t v44 = 1LL /* True */;
						VAL v45 = v43;
						VAL v46 = v42;
						int64_t v47 = v44;
						int64_t v48 = v44;
						while (((bool)v48)) {
							VAL v49 = v45;
							VAL v50 = v46;
							int64_t v51 = v47;
							VAL v52;
							VAL v53 = mw_std_list_List_1_uncons(v50, &v52);
							VAL branch_Maybe_54;
							VAL branch_List_55;
							int64_t branch_Bool_56;
							switch (get_data_tag(v53)) {
								case 1LL: { // Some
									VAL v57 = mtp_std_maybe_Maybe_1_Some(v53);
									incref(v57);
									int64_t v58 = mw_mirth_var_Var_isZ_physicalZAsk(value_u64(v57));
									VAL branch_Maybe_59;
									if (((bool)v58)) {
										VAL v60 = mtw_std_maybe_Maybe_1_Some(v57);
										branch_Maybe_59 = v60;
									} else {
										decref(v57);
										VAL v61 = MKI64(0LL /* None */);
										branch_Maybe_59 = v61;
									}
									VAL branch_Maybe_62;
									VAL branch_List_63;
									switch (get_data_tag(branch_Maybe_59)) {
										case 0LL: { // None
											branch_List_63 = v52;
											branch_Maybe_62 = v49;
										} break;
										default: {
											decref(v52);
											decref(v49);
											VAL v64 = MKI64(0LL /* Nil */);
											branch_List_63 = v64;
											branch_Maybe_62 = branch_Maybe_59;
										} break;
									}
									int64_t v65 = 1LL /* True */;
									branch_Bool_56 = v65;
									branch_List_55 = branch_List_63;
									branch_Maybe_54 = branch_Maybe_62;
								} break;
								case 0LL: { // None
									int64_t v66 = 0LL /* False */;
									branch_Bool_56 = v66;
									branch_List_55 = v52;
									branch_Maybe_54 = v49;
								} break;
								default: {
									do_panic(str_make("unexpected fallthrough in match\n", 32));
								}
							}
							v48 = branch_Bool_56;
							v47 = branch_Bool_56;
							v46 = branch_List_55;
							v45 = branch_Maybe_54;
						}
						decref(v46);
						int64_t v67 = get_data_tag(v45);
						decref(v45);
						int64_t v68 = 1LL;
						bool v69 = (v67 == v68);
						VAL branch_ZPlusMirth_70;
						VAL branch_z_x1_71;
						VAL branch_Maybe_72;
						if (v69) {
							VAL v73 = mtw_std_maybe_Maybe_1_Some(v40);
							branch_Maybe_72 = v73;
							branch_z_x1_71 = v29;
							branch_ZPlusMirth_70 = v41;
						} else {
							decref(v40);
							VAL v74 = MKI64(0LL /* None */);
							branch_Maybe_72 = v74;
							branch_z_x1_71 = v29;
							branch_ZPlusMirth_70 = v41;
						}
						VAL branch_ZPlusMirth_75;
						VAL branch_z_x1_76;
						VAL branch_Maybe_77;
						VAL branch_List_78;
						switch (get_data_tag(branch_Maybe_72)) {
							case 0LL: { // None
								branch_List_78 = v33;
								branch_Maybe_77 = v30;
								branch_z_x1_76 = branch_z_x1_71;
								branch_ZPlusMirth_75 = branch_ZPlusMirth_70;
							} break;
							default: {
								decref(v33);
								decref(v30);
								VAL v79 = MKI64(0LL /* Nil */);
								branch_List_78 = v79;
								branch_Maybe_77 = branch_Maybe_72;
								branch_z_x1_76 = branch_z_x1_71;
								branch_ZPlusMirth_75 = branch_ZPlusMirth_70;
							} break;
						}
						int64_t v80 = 1LL /* True */;
						branch_Bool_39 = v80;
						branch_List_38 = branch_List_78;
						branch_Maybe_37 = branch_Maybe_77;
						branch_z_x1_36 = branch_z_x1_76;
						branch_ZPlusMirth_35 = branch_ZPlusMirth_75;
					} break;
					case 0LL: { // None
						int64_t v81 = 0LL /* False */;
						branch_Bool_39 = v81;
						branch_List_38 = v33;
						branch_Maybe_37 = v30;
						branch_z_x1_36 = v29;
						branch_ZPlusMirth_35 = v28;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v27 = branch_Bool_39;
				v26 = branch_Bool_39;
				v25 = branch_List_38;
				v24 = branch_Maybe_37;
				v23 = branch_z_x1_36;
				v22 = branch_ZPlusMirth_35;
			}
			decref(v25);
			int64_t v82 = get_data_tag(v24);
			decref(v24);
			int64_t v83 = 1LL;
			bool v84 = (v82 == v83);
			VAL branch_ZPlusMirth_85;
			VAL branch_ZPlusSPCheck_86;
			VAL branch_List_87;
			if (v84) {
				incref(v16);
				VAL v88;
				VAL v89 = mw_std_list_ListZPlus_1_uncons(v16, &v88);
				VAL v90;
				mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang(value_u64(v89), v23, &v90);
				VAL v91;
				mw_std_list_List_1_for_1_sp60(v90, v88, &v91);
				decref(v16);
				VAL v92 = MKI64(0LL /* Nil */);
				VAL v93 = mtw_std_list_List_1_Cons(in_Atom_3, v92);
				branch_List_87 = v93;
				branch_ZPlusSPCheck_86 = v91;
				branch_ZPlusMirth_85 = v22;
			} else {
				VAL v94;
				uint64_t v95 = mw_mirth_specializzer_specializzeZ_wordZBang(v22, v16, in_Word_4, &v94);
				VAL v96;
				mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang(v95, v23, &v96);
				VAL v97;
				uint64_t v98;
				VAL v99;
				VAL v100;
				VAL v101;
				VAL v102;
				VAL v103;
				VAL v104;
				mtp_mirth_arrow_Atom_Atom(in_Atom_3, &v97, &v98, &v99, &v100, &v101, &v102, &v103, &v104);
				VAL v105 = mw_mirth_type_TZ_ZTo(v102, v103);
				decref(v101);
				decref(v100);
				decref(v104);
				VAL v106;
				VAL v107 = mw_mirth_elab_abZ_buildZ_homZBang_1_sp1(v95, v94, v99, v105, v98, v97, &v106);
				VAL v108 = VTUP(v107)->cells[7];
				incref(v108);
				decref(v107);
				branch_List_87 = v108;
				branch_ZPlusSPCheck_86 = v96;
				branch_ZPlusMirth_85 = v106;
			}
			branch_List_13 = branch_List_87;
			branch_ZPlusSPCheck_12 = branch_ZPlusSPCheck_86;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_85;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPCheck_6 = branch_ZPlusSPCheck_12;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_11;
	return branch_List_13;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_matchZBang (VAL in_Match_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6) {
	incref(in_Match_1);
	VAL v7 = VTUP(in_Match_1)->cells[7];
	incref(v7);
	decref(in_Match_1);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mw_std_list_List_1_reverse(v8);
	int64_t v10 = 1LL /* True */;
	VAL v11 = in_ZPlusMirth_2;
	VAL v12 = in_ZPlusSPCheck_3;
	VAL v13 = v9;
	VAL v14 = v7;
	int64_t v15 = v10;
	int64_t v16 = v10;
	while (((bool)v16)) {
		VAL v17 = v11;
		VAL v18 = v12;
		VAL v19 = v13;
		VAL v20 = v14;
		int64_t v21 = v15;
		VAL branch_ZPlusMirth_22;
		VAL branch_ZPlusSPCheck_23;
		VAL branch_ZPlusList_24;
		VAL branch_List_25;
		int64_t branch_Bool_26;
		switch (get_data_tag(v20)) {
			case 1LL: { // Cons
				VAL v27;
				VAL v28 = mtp_std_list_List_1_Cons(v20, &v27);
				VAL v29;
				VAL v30;
				VAL v31 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang(v28, v17, v18, &v29, &v30);
				VAL v32 = mtw_std_list_List_1_Cons(v31, v19);
				int64_t v33 = 1LL /* True */;
				branch_Bool_26 = v33;
				branch_List_25 = v27;
				branch_ZPlusList_24 = v32;
				branch_ZPlusSPCheck_23 = v30;
				branch_ZPlusMirth_22 = v29;
			} break;
			case 0LL: { // Nil
				VAL v34 = MKI64(0LL /* Nil */);
				int64_t v35 = 0LL /* False */;
				branch_Bool_26 = v35;
				branch_List_25 = v34;
				branch_ZPlusList_24 = v19;
				branch_ZPlusSPCheck_23 = v18;
				branch_ZPlusMirth_22 = v17;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v16 = branch_Bool_26;
		v15 = branch_Bool_26;
		v14 = branch_List_25;
		v13 = branch_ZPlusList_24;
		v12 = branch_ZPlusSPCheck_23;
		v11 = branch_ZPlusMirth_22;
	}
	decref(v14);
	VAL v36 = mw_std_list_List_1_reverse(v13);
	VAL v37 = tup_replace(in_Match_1, 7, v36);
	*out_ZPlusSPCheck_6 = v12;
	*out_ZPlusMirth_5 = v11;
	return v37;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_caseZBang (VAL in_Case_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6) {
	incref(in_Case_1);
	VAL v7 = VTUP(in_Case_1)->cells[2];
	incref(v7);
	decref(in_Case_1);
	VAL v8;
	VAL v9;
	VAL v10 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(v7, in_ZPlusMirth_2, in_ZPlusSPCheck_3, &v8, &v9);
	VAL v11 = tup_replace(in_Case_1, 2, v10);
	*out_ZPlusSPCheck_6 = v9;
	*out_ZPlusMirth_5 = v8;
	return v11;
}
static VAL mw_mirth_specializzer_ZPlusSPCheck_checkZ_lambdaZBang (VAL in_Lambda_1, VAL in_ZPlusMirth_2, VAL in_ZPlusSPCheck_3, VAL *out_ZPlusMirth_5, VAL *out_ZPlusSPCheck_6) {
	incref(in_Lambda_1);
	VAL v7 = VTUP(in_Lambda_1)->cells[5];
	incref(v7);
	decref(in_Lambda_1);
	VAL v8;
	VAL v9;
	VAL v10 = mw_mirth_specializzer_ZPlusSPCheck_checkZ_arrowZBang(v7, in_ZPlusMirth_2, in_ZPlusSPCheck_3, &v8, &v9);
	VAL v11 = tup_replace(in_Lambda_1, 5, v10);
	*out_ZPlusSPCheck_6 = v9;
	*out_ZPlusMirth_5 = v8;
	return v11;
}
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_wordZBang (uint64_t in_Word_1, VAL in_ZPlusSPCheck_2, VAL *out_ZPlusSPCheck_3) {
	void* v4 = mfld_mirth_word_Word_ZTildespZ_checked(in_Word_1);
	VAL v5 = mw_std_prelude_ZAtZAsk(v4);
	int64_t branch_Bool_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_Bool_6 = value_i64(v7);
		} break;
		case 0LL: { // None
			int64_t v8 = 0LL /* False */;
			branch_Bool_6 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusSPCheck_9;
	if (((bool)branch_Bool_6)) {
		branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
	} else {
		int64_t v10 = 1LL /* True */;
		void* v11 = mfld_mirth_word_Word_ZTildespZ_checked(in_Word_1);
		mut_set(MKI64(v10), v11);
		VAL v12 = mtw_mirth_specializzer_SPCheckItem_SPCHECKz_WORD(in_Word_1);
		incref(in_ZPlusSPCheck_2);
		VAL v13 = mtw_std_list_List_1_Cons(v12, in_ZPlusSPCheck_2);
		decref(in_ZPlusSPCheck_2);
		branch_ZPlusSPCheck_9 = v13;
	}
	*out_ZPlusSPCheck_3 = branch_ZPlusSPCheck_9;
}
static void mw_mirth_specializzer_ZPlusSPCheck_pushZ_checkZ_blockZBang (uint64_t in_Block_1, VAL in_ZPlusSPCheck_2, VAL *out_ZPlusSPCheck_3) {
	void* v4 = mfld_mirth_arrow_Block_ZTildespZ_checked(in_Block_1);
	VAL v5 = mw_std_prelude_ZAtZAsk(v4);
	int64_t branch_Bool_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_Bool_6 = value_i64(v7);
		} break;
		case 0LL: { // None
			int64_t v8 = 0LL /* False */;
			branch_Bool_6 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_ZPlusSPCheck_9;
	if (((bool)branch_Bool_6)) {
		branch_ZPlusSPCheck_9 = in_ZPlusSPCheck_2;
	} else {
		int64_t v10 = 1LL /* True */;
		void* v11 = mfld_mirth_arrow_Block_ZTildespZ_checked(in_Block_1);
		mut_set(MKI64(v10), v11);
		VAL v12 = mtw_mirth_specializzer_SPCheckItem_SPCHECKz_BLOCK(in_Block_1);
		incref(in_ZPlusSPCheck_2);
		VAL v13 = mtw_std_list_List_1_Cons(v12, in_ZPlusSPCheck_2);
		decref(in_ZPlusSPCheck_2);
		branch_ZPlusSPCheck_9 = v13;
	}
	*out_ZPlusSPCheck_3 = branch_ZPlusSPCheck_9;
}
static int64_t mw_mirth_arrow_Arg_similar (VAL in_ZPlusMirth_1, uint64_t in_Arg_2, uint64_t in_Arg_3, VAL *out_ZPlusMirth_4) {
	VAL v6;
	int64_t v7 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, in_Arg_2, in_Arg_3, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static int64_t mw_mirth_arrow_Block_similar (VAL in_ZPlusMirth_1, uint64_t in_Block_2, uint64_t in_Block_3, VAL *out_ZPlusMirth_4) {
	int64_t v6 = mw_mirth_arrow_Block_ZEqualZEqual(in_Block_2, in_Block_3);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Block_8;
	uint64_t branch_Block_9;
	int64_t branch_Bool_10;
	if (((bool)v6)) {
		int64_t v11 = 1LL /* True */;
		branch_Bool_10 = v11;
		branch_Block_9 = in_Block_3;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v12;
		VAL v13 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_2, &v12);
		VAL v14;
		VAL v15 = mw_mirth_arrow_Block_arrow(v12, in_Block_3, &v14);
		VAL v16;
		int64_t v17 = mw_mirth_arrow_Arrow_similar(v14, v13, v15, &v16);
		branch_Bool_10 = v17;
		branch_Block_9 = in_Block_3;
		branch_Block_8 = in_Block_2;
		branch_ZPlusMirth_7 = v16;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
	return branch_Bool_10;
}
static int64_t mw_mirth_arrow_Arrow_similar (VAL in_ZPlusMirth_1, VAL in_Arrow_2, VAL in_Arrow_3, VAL *out_ZPlusMirth_4) {
	VAL v6 = VTUP(in_Arrow_2)->cells[7];
	incref(v6);
	decref(in_Arrow_2);
	VAL v7 = VTUP(in_Arrow_3)->cells[7];
	incref(v7);
	decref(in_Arrow_3);
	int64_t v8 = 1LL /* True */;
	VAL v9;
	VAL v10 = mw_std_list_List_1_uncons(v6, &v9);
	VAL v11;
	VAL v12 = mw_std_list_List_1_uncons(v7, &v11);
	VAL branch_ZPlusMirth_13;
	int64_t branch_Bool_14;
	switch (get_data_tag(v12)) {
		case 0LL: { // None
			int64_t v15 = get_data_tag(v10);
			decref(v10);
			int64_t v16 = 0LL;
			bool v17 = (v15 == v16);
			branch_Bool_14 = ((int64_t)v17);
			branch_ZPlusMirth_13 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v18 = mtp_std_maybe_Maybe_1_Some(v12);
			VAL branch_ZPlusMirth_19;
			int64_t branch_Bool_20;
			switch (get_data_tag(v10)) {
				case 1LL: { // Some
					VAL v21 = mtp_std_maybe_Maybe_1_Some(v10);
					VAL v22;
					int64_t v23 = mw_mirth_arrow_Atom_similar(in_ZPlusMirth_1, v21, v18, &v22);
					branch_Bool_20 = v23;
					branch_ZPlusMirth_19 = v22;
				} break;
				case 0LL: { // None
					decref(v18);
					int64_t v24 = 0LL /* False */;
					branch_Bool_20 = v24;
					branch_ZPlusMirth_19 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_14 = branch_Bool_20;
			branch_ZPlusMirth_13 = branch_ZPlusMirth_19;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v25 = (((bool)branch_Bool_14) && ((bool)v8));
	incref(v9);
	int64_t v26 = mw_std_list_List_1_emptyZAsk(v9);
	incref(v11);
	int64_t v27 = mw_std_list_List_1_emptyZAsk(v11);
	bool v28 = (((bool)v26) && ((bool)v27));
	bool v29 = !v28;
	bool v30 = (v29 && v25);
	VAL v31 = branch_ZPlusMirth_13;
	VAL v32 = v9;
	VAL v33 = v11;
	bool v34 = v25;
	bool v35 = v30;
	while (v35) {
		VAL v36 = v31;
		VAL v37 = v32;
		VAL v38 = v33;
		bool v39 = v34;
		VAL v40;
		VAL v41 = mw_std_list_List_1_uncons(v37, &v40);
		VAL v42;
		VAL v43 = mw_std_list_List_1_uncons(v38, &v42);
		VAL branch_ZPlusMirth_44;
		int64_t branch_Bool_45;
		switch (get_data_tag(v43)) {
			case 0LL: { // None
				int64_t v46 = get_data_tag(v41);
				decref(v41);
				int64_t v47 = 0LL;
				bool v48 = (v46 == v47);
				branch_Bool_45 = ((int64_t)v48);
				branch_ZPlusMirth_44 = v36;
			} break;
			case 1LL: { // Some
				VAL v49 = mtp_std_maybe_Maybe_1_Some(v43);
				VAL branch_ZPlusMirth_50;
				int64_t branch_Bool_51;
				switch (get_data_tag(v41)) {
					case 1LL: { // Some
						VAL v52 = mtp_std_maybe_Maybe_1_Some(v41);
						VAL v53;
						int64_t v54 = mw_mirth_arrow_Atom_similar(v36, v52, v49, &v53);
						branch_Bool_51 = v54;
						branch_ZPlusMirth_50 = v53;
					} break;
					case 0LL: { // None
						decref(v49);
						int64_t v55 = 0LL /* False */;
						branch_Bool_51 = v55;
						branch_ZPlusMirth_50 = v36;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Bool_45 = branch_Bool_51;
				branch_ZPlusMirth_44 = branch_ZPlusMirth_50;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		bool v56 = (((bool)branch_Bool_45) && v39);
		incref(v40);
		int64_t v57 = mw_std_list_List_1_emptyZAsk(v40);
		incref(v42);
		int64_t v58 = mw_std_list_List_1_emptyZAsk(v42);
		bool v59 = (((bool)v57) && ((bool)v58));
		bool v60 = !v59;
		bool v61 = (v60 && v56);
		v35 = v61;
		v34 = v56;
		v33 = v42;
		v32 = v40;
		v31 = branch_ZPlusMirth_44;
	}
	decref(v33);
	decref(v32);
	*out_ZPlusMirth_4 = v31;
	return ((int64_t)v34);
}
static int64_t mw_mirth_arrow_Atom_similar (VAL in_ZPlusMirth_1, VAL in_Atom_2, VAL in_Atom_3, VAL *out_ZPlusMirth_4) {
	incref(in_Atom_2);
	incref(in_Atom_3);
	VAL v6 = VTUP(in_Atom_2)->cells[4];
	incref(v6);
	decref(in_Atom_2);
	VAL v7 = VTUP(in_Atom_3)->cells[4];
	incref(v7);
	decref(in_Atom_3);
	VAL v8;
	int64_t v9 = mw_mirth_arrow_Op_similar(in_ZPlusMirth_1, v6, v7, &v8);
	VAL branch_ZPlusMirth_10;
	VAL branch_Atom_11;
	VAL branch_Atom_12;
	int64_t branch_Bool_13;
	if (((bool)v9)) {
		incref(in_Atom_2);
		incref(in_Atom_3);
		VAL v14 = VTUP(in_Atom_2)->cells[5];
		incref(v14);
		decref(in_Atom_2);
		VAL v15 = VTUP(in_Atom_3)->cells[5];
		incref(v15);
		decref(in_Atom_3);
		VAL v16;
		int64_t v17 = mw_std_list_List_1_ZEqualZEqual_1_sp1(v8, v14, v15, &v16);
		branch_Bool_13 = v17;
		branch_Atom_12 = in_Atom_3;
		branch_Atom_11 = in_Atom_2;
		branch_ZPlusMirth_10 = v16;
	} else {
		int64_t v18 = 0LL /* False */;
		branch_Bool_13 = v18;
		branch_Atom_12 = in_Atom_3;
		branch_Atom_11 = in_Atom_2;
		branch_ZPlusMirth_10 = v8;
	}
	decref(branch_Atom_12);
	decref(branch_Atom_11);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
	return branch_Bool_13;
}
static int64_t mw_mirth_arrow_Op_similar (VAL in_ZPlusMirth_1, VAL in_Op_2, VAL in_Op_3, VAL *out_ZPlusMirth_4) {
	VAL branch_ZPlusMirth_6;
	int64_t branch_Bool_7;
	switch (get_data_tag(in_Op_3)) {
		case 0LL: { // OpNone
			VAL branch_ZPlusMirth_8;
			int64_t branch_Bool_9;
			switch (get_data_tag(in_Op_2)) {
				case 0LL: { // OpNone
					int64_t v10 = 1LL /* True */;
					branch_Bool_9 = v10;
					branch_ZPlusMirth_8 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v11 = 0LL /* False */;
					branch_Bool_9 = v11;
					branch_ZPlusMirth_8 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_9;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_8;
		} break;
		case 1LL: { // OpPrim
			int64_t v12 = mtp_mirth_arrow_Op_OpPrim(in_Op_3);
			VAL branch_ZPlusMirth_13;
			int64_t branch_Bool_14;
			switch (get_data_tag(in_Op_2)) {
				case 1LL: { // OpPrim
					int64_t v15 = mtp_mirth_arrow_Op_OpPrim(in_Op_2);
					int64_t v16 = mw_mirth_prim_Prim_ZEqualZEqual(v12, v15);
					branch_Bool_14 = v16;
					branch_ZPlusMirth_13 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v17 = 0LL /* False */;
					branch_Bool_14 = v17;
					branch_ZPlusMirth_13 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_14;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_13;
		} break;
		case 2LL: { // OpWord
			uint64_t v18 = mtp_mirth_arrow_Op_OpWord(in_Op_3);
			VAL branch_ZPlusMirth_19;
			int64_t branch_Bool_20;
			switch (get_data_tag(in_Op_2)) {
				case 2LL: { // OpWord
					uint64_t v21 = mtp_mirth_arrow_Op_OpWord(in_Op_2);
					int64_t v22 = mw_mirth_word_Word_ZEqualZEqual(v18, v21);
					branch_Bool_20 = v22;
					branch_ZPlusMirth_19 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v23 = 0LL /* False */;
					branch_Bool_20 = v23;
					branch_ZPlusMirth_19 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_20;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_19;
		} break;
		case 3LL: { // OpExternal
			uint64_t v24 = mtp_mirth_arrow_Op_OpExternal(in_Op_3);
			VAL branch_ZPlusMirth_25;
			int64_t branch_Bool_26;
			switch (get_data_tag(in_Op_2)) {
				case 3LL: { // OpExternal
					uint64_t v27 = mtp_mirth_arrow_Op_OpExternal(in_Op_2);
					int64_t v28 = mw_mirth_external_External_ZEqualZEqual(v24, v27);
					branch_Bool_26 = v28;
					branch_ZPlusMirth_25 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v29 = 0LL /* False */;
					branch_Bool_26 = v29;
					branch_ZPlusMirth_25 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_26;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_25;
		} break;
		case 4LL: { // OpBuffer
			uint64_t v30 = mtp_mirth_arrow_Op_OpBuffer(in_Op_3);
			VAL branch_ZPlusMirth_31;
			int64_t branch_Bool_32;
			switch (get_data_tag(in_Op_2)) {
				case 4LL: { // OpBuffer
					uint64_t v33 = mtp_mirth_arrow_Op_OpBuffer(in_Op_2);
					int64_t v34 = mw_mirth_buffer_Buffer_ZEqualZEqual(v30, v33);
					branch_Bool_32 = v34;
					branch_ZPlusMirth_31 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v35 = 0LL /* False */;
					branch_Bool_32 = v35;
					branch_ZPlusMirth_31 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_32;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_31;
		} break;
		case 5LL: { // OpVariable
			uint64_t v36 = mtp_mirth_arrow_Op_OpVariable(in_Op_3);
			VAL branch_ZPlusMirth_37;
			int64_t branch_Bool_38;
			switch (get_data_tag(in_Op_2)) {
				case 5LL: { // OpVariable
					uint64_t v39 = mtp_mirth_arrow_Op_OpVariable(in_Op_2);
					int64_t v40 = mw_mirth_variable_Variable_ZEqualZEqual(v36, v39);
					branch_Bool_38 = v40;
					branch_ZPlusMirth_37 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v41 = 0LL /* False */;
					branch_Bool_38 = v41;
					branch_ZPlusMirth_37 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_38;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_37;
		} break;
		case 6LL: { // OpField
			uint64_t v42 = mtp_mirth_arrow_Op_OpField(in_Op_3);
			VAL branch_ZPlusMirth_43;
			int64_t branch_Bool_44;
			switch (get_data_tag(in_Op_2)) {
				case 6LL: { // OpField
					uint64_t v45 = mtp_mirth_arrow_Op_OpField(in_Op_2);
					int64_t v46 = mw_mirth_table_Field_ZEqualZEqual(v42, v45);
					branch_Bool_44 = v46;
					branch_ZPlusMirth_43 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v47 = 0LL /* False */;
					branch_Bool_44 = v47;
					branch_ZPlusMirth_43 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_44;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_43;
		} break;
		case 7LL: { // OpInt
			int64_t v48 = mtp_mirth_arrow_Op_OpInt(in_Op_3);
			VAL branch_ZPlusMirth_49;
			int64_t branch_Bool_50;
			switch (get_data_tag(in_Op_2)) {
				case 7LL: { // OpInt
					int64_t v51 = mtp_mirth_arrow_Op_OpInt(in_Op_2);
					bool v52 = (v48 == v51);
					branch_Bool_50 = ((int64_t)v52);
					branch_ZPlusMirth_49 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v53 = 0LL /* False */;
					branch_Bool_50 = v53;
					branch_ZPlusMirth_49 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_50;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_49;
		} break;
		case 8LL: { // OpF64
			double v54 = mtp_mirth_arrow_Op_OpF64(in_Op_3);
			VAL branch_ZPlusMirth_55;
			int64_t branch_Bool_56;
			switch (get_data_tag(in_Op_2)) {
				case 8LL: { // OpF64
					double v57 = mtp_mirth_arrow_Op_OpF64(in_Op_2);
					bool v58 = (v54 == v57);
					branch_Bool_56 = ((int64_t)v58);
					branch_ZPlusMirth_55 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v59 = 0LL /* False */;
					branch_Bool_56 = v59;
					branch_ZPlusMirth_55 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_56;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_55;
		} break;
		case 9LL: { // OpStr
			VAL v60 = mtp_mirth_arrow_Op_OpStr(in_Op_3);
			VAL branch_ZPlusMirth_61;
			int64_t branch_Bool_62;
			switch (get_data_tag(in_Op_2)) {
				case 9LL: { // OpStr
					VAL v63 = mtp_mirth_arrow_Op_OpStr(in_Op_2);
					bool v64 = (str_cmp(value_str(v60), value_str(v63)) == 0);
					branch_Bool_62 = ((int64_t)v64);
					branch_ZPlusMirth_61 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					decref(v60);
					int64_t v65 = 0LL /* False */;
					branch_Bool_62 = v65;
					branch_ZPlusMirth_61 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_62;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_61;
		} break;
		case 10LL: { // OpTag
			uint64_t v66 = mtp_mirth_arrow_Op_OpTag(in_Op_3);
			VAL branch_ZPlusMirth_67;
			int64_t branch_Bool_68;
			switch (get_data_tag(in_Op_2)) {
				case 10LL: { // OpTag
					uint64_t v69 = mtp_mirth_arrow_Op_OpTag(in_Op_2);
					int64_t v70 = mw_mirth_data_Tag_ZEqualZEqual(v66, v69);
					branch_Bool_68 = v70;
					branch_ZPlusMirth_67 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v71 = 0LL /* False */;
					branch_Bool_68 = v71;
					branch_ZPlusMirth_67 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_68;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_67;
		} break;
		case 11LL: { // OpMatch
			VAL v72 = mtp_mirth_arrow_Op_OpMatch(in_Op_3);
			decref(v72);
			decref(in_Op_2);
			int64_t v73 = 0LL /* False */;
			branch_Bool_7 = v73;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 12LL: { // OpLambda
			VAL v74 = mtp_mirth_arrow_Op_OpLambda(in_Op_3);
			decref(v74);
			decref(in_Op_2);
			int64_t v75 = 0LL /* False */;
			branch_Bool_7 = v75;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 13LL: { // OpVar
			uint64_t v76 = mtp_mirth_arrow_Op_OpVar(in_Op_3);
			decref(in_Op_2);
			int64_t v77 = 0LL /* False */;
			branch_Bool_7 = v77;
			branch_ZPlusMirth_6 = in_ZPlusMirth_1;
		} break;
		case 14LL: { // OpBlockPush
			uint64_t v78 = mtp_mirth_arrow_Op_OpBlockPush(in_Op_3);
			VAL branch_ZPlusMirth_79;
			int64_t branch_Bool_80;
			switch (get_data_tag(in_Op_2)) {
				case 14LL: { // OpBlockPush
					uint64_t v81 = mtp_mirth_arrow_Op_OpBlockPush(in_Op_2);
					VAL v82;
					int64_t v83 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, v78, v81, &v82);
					branch_Bool_80 = v83;
					branch_ZPlusMirth_79 = v82;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v84 = 0LL /* False */;
					branch_Bool_80 = v84;
					branch_ZPlusMirth_79 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_80;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_79;
		} break;
		case 15LL: { // OpBlockRun
			uint64_t v85 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_3);
			VAL branch_ZPlusMirth_86;
			int64_t branch_Bool_87;
			switch (get_data_tag(in_Op_2)) {
				case 15LL: { // OpBlockRun
					uint64_t v88 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_2);
					VAL v89;
					int64_t v90 = mw_mirth_arrow_Block_similar(in_ZPlusMirth_1, v85, v88, &v89);
					branch_Bool_87 = v90;
					branch_ZPlusMirth_86 = v89;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v91 = 0LL /* False */;
					branch_Bool_87 = v91;
					branch_ZPlusMirth_86 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_87;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_86;
		} break;
		case 16LL: { // OpLabelPush
			uint64_t v92 = mtp_mirth_arrow_Op_OpLabelPush(in_Op_3);
			VAL branch_ZPlusMirth_93;
			int64_t branch_Bool_94;
			switch (get_data_tag(in_Op_2)) {
				case 16LL: { // OpLabelPush
					uint64_t v95 = mtp_mirth_arrow_Op_OpLabelPush(in_Op_2);
					int64_t v96 = mw_mirth_label_Label_ZEqualZEqual(v92, v95);
					branch_Bool_94 = v96;
					branch_ZPlusMirth_93 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v97 = 0LL /* False */;
					branch_Bool_94 = v97;
					branch_ZPlusMirth_93 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_94;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_93;
		} break;
		case 17LL: { // OpLabelPop
			uint64_t v98 = mtp_mirth_arrow_Op_OpLabelPop(in_Op_3);
			VAL branch_ZPlusMirth_99;
			int64_t branch_Bool_100;
			switch (get_data_tag(in_Op_2)) {
				case 17LL: { // OpLabelPop
					uint64_t v101 = mtp_mirth_arrow_Op_OpLabelPop(in_Op_2);
					int64_t v102 = mw_mirth_label_Label_ZEqualZEqual(v98, v101);
					branch_Bool_100 = v102;
					branch_ZPlusMirth_99 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v103 = 0LL /* False */;
					branch_Bool_100 = v103;
					branch_ZPlusMirth_99 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_100;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_99;
		} break;
		case 18LL: { // OpLabelPushR
			uint64_t v104 = mtp_mirth_arrow_Op_OpLabelPushR(in_Op_3);
			VAL branch_ZPlusMirth_105;
			int64_t branch_Bool_106;
			switch (get_data_tag(in_Op_2)) {
				case 18LL: { // OpLabelPushR
					uint64_t v107 = mtp_mirth_arrow_Op_OpLabelPushR(in_Op_2);
					int64_t v108 = mw_mirth_label_Label_ZEqualZEqual(v104, v107);
					branch_Bool_106 = v108;
					branch_ZPlusMirth_105 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v109 = 0LL /* False */;
					branch_Bool_106 = v109;
					branch_ZPlusMirth_105 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_106;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_105;
		} break;
		case 19LL: { // OpLabelPopR
			uint64_t v110 = mtp_mirth_arrow_Op_OpLabelPopR(in_Op_3);
			VAL branch_ZPlusMirth_111;
			int64_t branch_Bool_112;
			switch (get_data_tag(in_Op_2)) {
				case 19LL: { // OpLabelPopR
					uint64_t v113 = mtp_mirth_arrow_Op_OpLabelPopR(in_Op_2);
					int64_t v114 = mw_mirth_label_Label_ZEqualZEqual(v110, v113);
					branch_Bool_112 = v114;
					branch_ZPlusMirth_111 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v115 = 0LL /* False */;
					branch_Bool_112 = v115;
					branch_ZPlusMirth_111 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_112;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_111;
		} break;
		case 20LL: { // OpDataGetEnumValue
			uint64_t v116 = mtp_mirth_arrow_Op_OpDataGetEnumValue(in_Op_3);
			VAL branch_ZPlusMirth_117;
			int64_t branch_Bool_118;
			switch (get_data_tag(in_Op_2)) {
				case 20LL: { // OpDataGetEnumValue
					uint64_t v119 = mtp_mirth_arrow_Op_OpDataGetEnumValue(in_Op_2);
					int64_t v120 = mw_mirth_data_Data_ZEqualZEqual(v116, v119);
					branch_Bool_118 = v120;
					branch_ZPlusMirth_117 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v121 = 0LL /* False */;
					branch_Bool_118 = v121;
					branch_ZPlusMirth_117 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_118;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_117;
		} break;
		case 21LL: { // OpDataFromEnumValue
			uint64_t v122 = mtp_mirth_arrow_Op_OpDataFromEnumValue(in_Op_3);
			VAL branch_ZPlusMirth_123;
			int64_t branch_Bool_124;
			switch (get_data_tag(in_Op_2)) {
				case 21LL: { // OpDataFromEnumValue
					uint64_t v125 = mtp_mirth_arrow_Op_OpDataFromEnumValue(in_Op_2);
					int64_t v126 = mw_mirth_data_Data_ZEqualZEqual(v122, v125);
					branch_Bool_124 = v126;
					branch_ZPlusMirth_123 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v127 = 0LL /* False */;
					branch_Bool_124 = v127;
					branch_ZPlusMirth_123 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_124;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_123;
		} break;
		case 22LL: { // OpDataGetLabel
			VAL v128 = mtp_mirth_arrow_Op_OpDataGetLabel(in_Op_3);
			VAL branch_ZPlusMirth_129;
			int64_t branch_Bool_130;
			switch (get_data_tag(in_Op_2)) {
				case 22LL: { // OpDataGetLabel
					VAL v131 = mtp_mirth_arrow_Op_OpDataGetLabel(in_Op_2);
					int64_t v132 = mw_mirth_data_TagField_similar(v128, v131);
					branch_Bool_130 = v132;
					branch_ZPlusMirth_129 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					decref(v128);
					int64_t v133 = 0LL /* False */;
					branch_Bool_130 = v133;
					branch_ZPlusMirth_129 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_130;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_129;
		} break;
		case 23LL: { // OpDataSetLabel
			VAL v134 = mtp_mirth_arrow_Op_OpDataSetLabel(in_Op_3);
			VAL branch_ZPlusMirth_135;
			int64_t branch_Bool_136;
			switch (get_data_tag(in_Op_2)) {
				case 23LL: { // OpDataSetLabel
					VAL v137 = mtp_mirth_arrow_Op_OpDataSetLabel(in_Op_2);
					int64_t v138 = mw_mirth_data_TagField_similar(v134, v137);
					branch_Bool_136 = v138;
					branch_ZPlusMirth_135 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					decref(v134);
					int64_t v139 = 0LL /* False */;
					branch_Bool_136 = v139;
					branch_ZPlusMirth_135 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_136;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_135;
		} break;
		case 24LL: { // OpTableToIndex
			uint64_t v140 = mtp_mirth_arrow_Op_OpTableToIndex(in_Op_3);
			VAL branch_ZPlusMirth_141;
			int64_t branch_Bool_142;
			switch (get_data_tag(in_Op_2)) {
				case 24LL: { // OpTableToIndex
					uint64_t v143 = mtp_mirth_arrow_Op_OpTableToIndex(in_Op_2);
					int64_t v144 = mw_mirth_table_Table_ZEqualZEqual(v140, v143);
					branch_Bool_142 = v144;
					branch_ZPlusMirth_141 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v145 = 0LL /* False */;
					branch_Bool_142 = v145;
					branch_ZPlusMirth_141 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_142;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_141;
		} break;
		case 25LL: { // OpTableFromIndex
			uint64_t v146 = mtp_mirth_arrow_Op_OpTableFromIndex(in_Op_3);
			VAL branch_ZPlusMirth_147;
			int64_t branch_Bool_148;
			switch (get_data_tag(in_Op_2)) {
				case 25LL: { // OpTableFromIndex
					uint64_t v149 = mtp_mirth_arrow_Op_OpTableFromIndex(in_Op_2);
					int64_t v150 = mw_mirth_table_Table_ZEqualZEqual(v146, v149);
					branch_Bool_148 = v150;
					branch_ZPlusMirth_147 = in_ZPlusMirth_1;
				} break;
				default: {
					decref(in_Op_2);
					int64_t v151 = 0LL /* False */;
					branch_Bool_148 = v151;
					branch_ZPlusMirth_147 = in_ZPlusMirth_1;
				} break;
			}
			branch_Bool_7 = branch_Bool_148;
			branch_ZPlusMirth_6 = branch_ZPlusMirth_147;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_Bool_7;
}
static int64_t mw_mirth_data_TagField_similar (VAL in_TagField_1, VAL in_TagField_2) {
	uint64_t v4;
	uint64_t v5;
	VAL v6;
	mtp_mirth_data_TagField_TagField(in_TagField_2, &v4, &v5, &v6);
	uint64_t v7;
	uint64_t v8;
	VAL v9;
	mtp_mirth_data_TagField_TagField(in_TagField_1, &v7, &v8, &v9);
	int64_t v10 = mw_mirth_label_Label_ZEqualZEqual(v8, v5);
	int64_t v11 = mw_mirth_data_Tag_ZEqualZEqual(v7, v4);
	bool v12 = (((bool)v10) && ((bool)v11));
	decref(v6);
	decref(v9);
	return ((int64_t)v12);
}
static int64_t mw_mirth_specializzer_SPKey_similar (VAL in_ZPlusMirth_1, VAL in_SPKey_2, VAL in_SPKey_3, VAL *out_ZPlusMirth_4) {
	VAL v6;
	VAL v7;
	mtp_std_list_ListZPlus_1_ListZPlus(in_SPKey_2, &v6, &v7);
	VAL v8 = mtw_std_list_List_1_Cons(v6, v7);
	VAL v9;
	VAL v10;
	mtp_std_list_ListZPlus_1_ListZPlus(in_SPKey_3, &v9, &v10);
	VAL v11 = mtw_std_list_List_1_Cons(v9, v10);
	VAL v12;
	int64_t v13 = mw_std_list_List_1_ZEqualZEqual_1_sp1(in_ZPlusMirth_1, v8, v11, &v12);
	*out_ZPlusMirth_4 = v12;
	return v13;
}
static VAL mw_mirth_word_Word_spZ_synthed (uint64_t in_Word_1) {
	void* v3 = mfld_mirth_word_Word_ZTildespZ_synthed(in_Word_1);
	VAL v4 = mw_std_prelude_ZAtZAsk(v3);
	VAL branch_Map_5;
	switch (get_data_tag(v4)) {
		case 1LL: { // Some
			VAL v6 = mtp_std_maybe_Maybe_1_Some(v4);
			branch_Map_5 = v6;
		} break;
		case 0LL: { // None
			VAL v7 = mw_std_map_Map_2_empty();
			branch_Map_5 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Map_5;
}
static uint64_t mw_mirth_specializzer_specializzeZ_wordZBang (VAL in_ZPlusMirth_1, VAL in_SPKey_2, uint64_t in_Word_3, VAL *out_ZPlusMirth_4) {
	incref(in_SPKey_2);
	VAL v6 = mw_mirth_word_Word_spZ_synthed(in_Word_3);
	VAL v7 = MKI64(0LL /* None */);
	int64_t v8 = 1LL /* True */;
	VAL v9 = in_ZPlusMirth_1;
	VAL v10 = in_SPKey_2;
	VAL v11 = v7;
	VAL v12 = v6;
	int64_t v13 = v8;
	int64_t v14 = v8;
	while (((bool)v14)) {
		VAL v15 = v9;
		VAL v16 = v10;
		VAL v17 = v11;
		VAL v18 = v12;
		int64_t v19 = v13;
		VAL v20;
		VAL v21 = mw_std_list_List_1_uncons(v18, &v20);
		VAL branch_ZPlusMirth_22;
		VAL branch_SPKey_23;
		VAL branch_Maybe_24;
		VAL branch_List_25;
		int64_t branch_Bool_26;
		switch (get_data_tag(v21)) {
			case 1LL: { // Some
				VAL v27 = mtp_std_maybe_Maybe_1_Some(v21);
				incref(v27);
				incref(v16);
				VAL v28 = VTUP(v27)->cells[1];
				incref(v28);
				decref(v27);
				VAL v29;
				int64_t v30 = mw_mirth_specializzer_SPKey_similar(v15, v16, v28, &v29);
				VAL branch_ZPlusMirth_31;
				VAL branch_SPKey_32;
				VAL branch_Maybe_33;
				if (((bool)v30)) {
					VAL v34 = mtw_std_maybe_Maybe_1_Some(v27);
					branch_Maybe_33 = v34;
					branch_SPKey_32 = v16;
					branch_ZPlusMirth_31 = v29;
				} else {
					decref(v27);
					VAL v35 = MKI64(0LL /* None */);
					branch_Maybe_33 = v35;
					branch_SPKey_32 = v16;
					branch_ZPlusMirth_31 = v29;
				}
				VAL branch_ZPlusMirth_36;
				VAL branch_SPKey_37;
				VAL branch_Maybe_38;
				VAL branch_List_39;
				switch (get_data_tag(branch_Maybe_33)) {
					case 0LL: { // None
						branch_List_39 = v20;
						branch_Maybe_38 = v17;
						branch_SPKey_37 = branch_SPKey_32;
						branch_ZPlusMirth_36 = branch_ZPlusMirth_31;
					} break;
					default: {
						decref(v20);
						decref(v17);
						VAL v40 = MKI64(0LL /* Nil */);
						branch_List_39 = v40;
						branch_Maybe_38 = branch_Maybe_33;
						branch_SPKey_37 = branch_SPKey_32;
						branch_ZPlusMirth_36 = branch_ZPlusMirth_31;
					} break;
				}
				int64_t v41 = 1LL /* True */;
				branch_Bool_26 = v41;
				branch_List_25 = branch_List_39;
				branch_Maybe_24 = branch_Maybe_38;
				branch_SPKey_23 = branch_SPKey_37;
				branch_ZPlusMirth_22 = branch_ZPlusMirth_36;
			} break;
			case 0LL: { // None
				int64_t v42 = 0LL /* False */;
				branch_Bool_26 = v42;
				branch_List_25 = v20;
				branch_Maybe_24 = v17;
				branch_SPKey_23 = v16;
				branch_ZPlusMirth_22 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_26;
		v13 = branch_Bool_26;
		v12 = branch_List_25;
		v11 = branch_Maybe_24;
		v10 = branch_SPKey_23;
		v9 = branch_ZPlusMirth_22;
	}
	decref(v12);
	decref(v10);
	VAL v43 = mw_std_maybe_Maybe_1_map_1_sp10(v11);
	VAL branch_ZPlusMirth_44;
	VAL branch_SPKey_45;
	uint64_t branch_Word_46;
	uint64_t branch_Word_47;
	switch (get_data_tag(v43)) {
		case 1LL: { // Some
			VAL v48 = mtp_std_maybe_Maybe_1_Some(v43);
			int64_t v49 = mw_mirth_word_Word_preferZ_inlineZAsk(in_Word_3);
			incref(v48);
			void* v50 = mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk(value_u64(v48));
			mut_set(MKI64(v49), v50);
			branch_Word_47 = value_u64(v48);
			branch_Word_46 = in_Word_3;
			branch_SPKey_45 = in_SPKey_2;
			branch_ZPlusMirth_44 = v9;
		} break;
		case 0LL: { // None
			uint64_t v51 = mw_mirth_word_Word_head(in_Word_3);
			VAL v52 = MKI64(0LL /* None */);
			uint64_t v53 = mw_mirth_word_Word_body(in_Word_3);
			STR* v54;
			STRLIT(v54, "", 0);
			STR* v55;
			STRLIT(v55, "sp", 2);
			VAL v56;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v55), MKSTR(v54), &v56);
			VAL v57 = mw_mirth_word_Word_spZ_synthed(in_Word_3);
			int64_t v58 = mw_std_map_Map_2_len(v57);
			int64_t v59 = 1LL;
			int64_t v60 = i64_add(v58, v59);
			STR* v61 = i64_show(v60);
			VAL v62;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v61), v56, &v62);
			uint64_t v63 = mw_std_prim_Str_ZToName(v62);
			int64_t v64 = 0LL;
			VAL v65;
			uint64_t v66 = mw_mirth_word_Word_newZBang(v51, v52, v53, v63, v64, v9, &v65);
			VAL v67 = mtw_mirth_name_Namespace_NAMESPACEz_WORD(in_Word_3);
			uint64_t v68 = mw_mirth_word_Word_name(v66);
			VAL v69 = mw_mirth_name_QNAME0(v67, v68);
			VAL v70 = mtw_mirth_mirth_PropLabel_WordQName(v66);
			VAL v71;
			VAL v72 = mw_mirth_mirth_PropLabel_prop(v69, v70, v65, &v71);
			void* v73 = mfld_mirth_word_Word_ZTildeqname(v66);
			mut_set(v72, v73);
			incref(in_SPKey_2);
			VAL v74 = mtw_std_map_KVPair_2_KVPair(in_SPKey_2, MKU64(v66));
			VAL v75 = mw_mirth_word_Word_spZ_synthed(in_Word_3);
			VAL v76 = mw_std_map_Map_2_insert(v74, v75);
			void* v77 = mfld_mirth_word_Word_ZTildespZ_synthed(in_Word_3);
			mut_set(v76, v77);
			VAL v78 = mtw_mirth_mirth_PropLabel_WordType(v66);
			FNPTR v79 = &mb_mirth_mirth_PropLabel_prop_1_sp1_0;
			VAL v80 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(v66), MKFNPTR(v79));
			VAL v81 = mtw_mirth_mirth_Prop_1_Prop(v78, v80);
			void* v82 = mfld_mirth_word_Word_ZTildectxZ_type(v66);
			mut_set(v81, v82);
			int64_t v83 = 1LL /* True */;
			void* v84 = mfld_mirth_word_Word_ZTildepreferZ_inlineZAsk(v66);
			mut_set(MKI64(v83), v84);
			incref(in_SPKey_2);
			VAL v85 = mtw_mirth_mirth_PropLabel_WordArrow(v66);
			TUP* v86 = tup_pack3(in_SPKey_2, MKU64(in_Word_3), MKU64(v66));
			FNPTR v87 = &mb_mirth_mirth_PropLabel_prop_1_sp2_2;
			VAL v88 = mtw_mirth_mirth_PropState_1_PSDelay(MKTUP(v86, 3), MKFNPTR(v87));
			VAL v89 = mtw_mirth_mirth_Prop_1_Prop(v85, v88);
			void* v90 = mfld_mirth_word_Word_ZTildearrow(v66);
			mut_set(v89, v90);
			VAL v91;
			VAL v92 = mw_mirth_word_Word_type(v66, v71, &v91);
			decref(v92);
			branch_Word_47 = v66;
			branch_Word_46 = in_Word_3;
			branch_SPKey_45 = in_SPKey_2;
			branch_ZPlusMirth_44 = v91;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	decref(branch_SPKey_45);
	*out_ZPlusMirth_4 = branch_ZPlusMirth_44;
	return branch_Word_47;
}
static void mw_mirth_specializzer_synthZ_specializzedZ_wordZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL in_SPKey_3, uint64_t in_Word_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusAB_6) {
	VAL v7;
	VAL v8 = mw_mirth_word_Word_arrow(in_Word_4, in_ZPlusMirth_1, &v7);
	VAL v9 = VTUP(v8)->cells[7];
	incref(v9);
	decref(v8);
	VAL v10 = mw_std_list_List_1_ZDivL1(v9);
	VAL branch_ZPlusMirth_11;
	VAL branch_z_x1_12;
	VAL branch_z_x2_13;
	switch (get_data_tag(v10)) {
		case 1LL: { // Some
			VAL v14 = mtp_std_maybe_Maybe_1_Some(v10);
			branch_z_x2_13 = v14;
			branch_z_x1_12 = in_ZPlusAB_2;
			branch_ZPlusMirth_11 = v7;
		} break;
		case 0LL: { // None
			STR* v15;
			STRLIT(v15, "unexpected shape for synth-specialized-word!", 44);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v15), v7);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v18 = VTUP(branch_z_x2_13)->cells[4];
	incref(v18);
	decref(branch_z_x2_13);
	VAL branch_ZPlusMirth_19;
	VAL branch_ZPlusAB_20;
	switch (get_data_tag(v18)) {
		case 12LL: { // OpLambda
			VAL v21 = mtp_mirth_arrow_Op_OpLambda(v18);
			incref(v21);
			VAL v22 = VTUP(v21)->cells[4];
			incref(v22);
			decref(v21);
			incref(in_SPKey_3);
			VAL v23;
			VAL v24;
			mtp_std_list_ListZPlus_1_ListZPlus(in_SPKey_3, &v23, &v24);
			VAL v25 = mtw_std_list_List_1_Cons(v23, v24);
			incref(v22);
			incref(v25);
			int64_t v26 = mw_std_list_List_1_len(v22);
			int64_t v27 = mw_std_list_List_1_len(v25);
			bool v28 = (v26 == v27);
			VAL branch_ZPlusMirth_29;
			VAL branch_z_x1_30;
			if (v28) {
				branch_z_x1_30 = branch_z_x1_12;
				branch_ZPlusMirth_29 = branch_ZPlusMirth_11;
			} else {
				STR* v31;
				STRLIT(v31, "wrong number of lambda params in synth-specialized-word!", 56);
				mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v31), branch_ZPlusMirth_11);
			}
			VAL v33 = MKI64(0LL /* Nil */);
			VAL v34 = mw_std_list_List_1_reverse(v33);
			int64_t v35 = 1LL /* True */;
			VAL v36 = v22;
			VAL v37 = v25;
			VAL v38 = v34;
			int64_t v39 = v35;
			int64_t v40 = v35;
			while (((bool)v40)) {
				VAL v41 = v36;
				VAL v42 = v37;
				VAL v43 = v38;
				int64_t v44 = v39;
				VAL v45;
				VAL v46 = mw_std_list_List_1_uncons(v42, &v45);
				VAL v47;
				VAL v48 = mw_std_list_List_1_uncons(v41, &v47);
				VAL branch_Maybe_49;
				switch (get_data_tag(v46)) {
					case 0LL: { // None
						decref(v48);
						VAL v50 = MKI64(0LL /* None */);
						branch_Maybe_49 = v50;
					} break;
					case 1LL: { // Some
						VAL v51 = mtp_std_maybe_Maybe_1_Some(v46);
						VAL branch_Maybe_52;
						switch (get_data_tag(v48)) {
							case 0LL: { // None
								decref(v51);
								VAL v53 = MKI64(0LL /* None */);
								branch_Maybe_52 = v53;
							} break;
							case 1LL: { // Some
								VAL v54 = mtp_std_maybe_Maybe_1_Some(v48);
								VAL v55 = mtw_std_map_KVPair_2_KVPair(v54, v51);
								VAL v56 = mtw_std_maybe_Maybe_1_Some(v55);
								branch_Maybe_52 = v56;
							} break;
							default: {
								do_panic(str_make("unexpected fallthrough in match\n", 32));
							}
						}
						branch_Maybe_49 = branch_Maybe_52;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				VAL branch_ZPlusList_57;
				int64_t branch_Bool_58;
				switch (get_data_tag(branch_Maybe_49)) {
					case 1LL: { // Some
						VAL v59 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_49);
						VAL v60 = mtw_std_list_List_1_Cons(v59, v43);
						int64_t v61 = 1LL /* True */;
						branch_Bool_58 = v61;
						branch_ZPlusList_57 = v60;
					} break;
					case 0LL: { // None
						int64_t v62 = 0LL /* False */;
						branch_Bool_58 = v62;
						branch_ZPlusList_57 = v43;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v40 = branch_Bool_58;
				v39 = branch_Bool_58;
				v38 = branch_ZPlusList_57;
				v37 = v45;
				v36 = v47;
			}
			VAL v63 = mw_std_list_List_1_reverse(v38);
			decref(v37);
			decref(v36);
			VAL v64;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(in_SPKey_3, in_Word_4, v63, branch_z_x1_30, &v64);
			VAL v65 = VTUP(v21)->cells[5];
			incref(v65);
			decref(v21);
			VAL v66;
			VAL v67;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(branch_ZPlusMirth_29, v64, v65, &v66, &v67);
			VAL v68;
			uint64_t v69;
			VAL v70;
			VAL v71;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v67, &v68, &v69, &v70, &v71);
			decref(v70);
			decref(v68);
			branch_ZPlusAB_20 = v71;
			branch_ZPlusMirth_19 = v66;
		} break;
		default: {
			STR* v72;
			STRLIT(v72, "unexpected shape", 16);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v72), branch_ZPlusMirth_11);
		} break;
	}
	*out_ZPlusAB_6 = branch_ZPlusAB_20;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_19;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Arrow_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	VAL v6 = VTUP(in_Arrow_3)->cells[7];
	incref(v6);
	decref(in_Arrow_3);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_ZPlusMirth_1;
	VAL v9 = in_ZPlusSPSynth_2;
	VAL v10 = v6;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL branch_ZPlusMirth_17;
		VAL branch_ZPlusSPSynth_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				VAL v23;
				VAL v24;
				mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang(v13, v14, v22, &v23, &v24);
				int64_t v25 = 1LL /* True */;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusSPSynth_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusSPSynth_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusSPSynth_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusSPSynth_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_atomZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Atom_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	incref(in_Atom_3);
	uint64_t v6 = value_u64(VTUP(in_Atom_3)->cells[2]);
	decref(in_Atom_3);
	VAL v7;
	uint64_t v8;
	VAL v9;
	VAL v10;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(in_ZPlusSPSynth_2, &v7, &v8, &v9, &v10);
	VAL v11;
	mw_mirth_elab_abZ_tokenZBang(v10, v6, &v11);
	VAL v12;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v7, v8, v9, v11, &v12);
	incref(in_Atom_3);
	VAL v13 = VTUP(in_Atom_3)->cells[5];
	incref(v13);
	decref(in_Atom_3);
	int64_t v14 = 1LL /* True */;
	VAL v15 = in_ZPlusMirth_1;
	VAL v16 = v12;
	VAL v17 = v13;
	int64_t v18 = v14;
	int64_t v19 = v14;
	while (((bool)v19)) {
		VAL v20 = v15;
		VAL v21 = v16;
		VAL v22 = v17;
		int64_t v23 = v18;
		VAL branch_ZPlusMirth_24;
		VAL branch_ZPlusSPSynth_25;
		VAL branch_List_26;
		int64_t branch_Bool_27;
		switch (get_data_tag(v22)) {
			case 1LL: { // Cons
				VAL v28;
				VAL v29 = mtp_std_list_List_1_Cons(v22, &v28);
				VAL v30;
				VAL v31;
				mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang(v20, v21, value_u64(v29), &v30, &v31);
				int64_t v32 = 1LL /* True */;
				branch_Bool_27 = v32;
				branch_List_26 = v28;
				branch_ZPlusSPSynth_25 = v31;
				branch_ZPlusMirth_24 = v30;
			} break;
			case 0LL: { // Nil
				VAL v33 = MKI64(0LL /* Nil */);
				int64_t v34 = 0LL /* False */;
				branch_Bool_27 = v34;
				branch_List_26 = v33;
				branch_ZPlusSPSynth_25 = v21;
				branch_ZPlusMirth_24 = v20;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v19 = branch_Bool_27;
		v18 = branch_Bool_27;
		v17 = branch_List_26;
		v16 = branch_ZPlusSPSynth_25;
		v15 = branch_ZPlusMirth_24;
	}
	decref(v17);
	VAL v35 = VTUP(in_Atom_3)->cells[4];
	incref(v35);
	decref(in_Atom_3);
	VAL v36;
	VAL v37;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang(v15, v16, v35, &v36, &v37);
	*out_ZPlusSPSynth_5 = v37;
	*out_ZPlusMirth_4 = v36;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_argZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, uint64_t in_Arg_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	VAL v6;
	VAL v7;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, in_Arg_3, &v6, &v7);
	*out_ZPlusSPSynth_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_opZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Op_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	VAL branch_ZPlusMirth_6;
	VAL branch_ZPlusSPSynth_7;
	switch (get_data_tag(in_Op_3)) {
		case 11LL: { // OpMatch
			VAL v8 = mtp_mirth_arrow_Op_OpMatch(in_Op_3);
			VAL v9;
			VAL v10;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v8, &v9, &v10);
			branch_ZPlusSPSynth_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 12LL: { // OpLambda
			VAL v11 = mtp_mirth_arrow_Op_OpLambda(in_Op_3);
			VAL v12;
			VAL v13;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v11, &v12, &v13);
			branch_ZPlusSPSynth_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 14LL: { // OpBlockPush
			uint64_t v14 = mtp_mirth_arrow_Op_OpBlockPush(in_Op_3);
			VAL v15;
			VAL v16;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v14, &v15, &v16);
			branch_ZPlusSPSynth_7 = v16;
			branch_ZPlusMirth_6 = v15;
		} break;
		case 15LL: { // OpBlockRun
			uint64_t v17 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_3);
			VAL v18;
			VAL v19;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v17, &v18, &v19);
			branch_ZPlusSPSynth_7 = v19;
			branch_ZPlusMirth_6 = v18;
		} break;
		case 13LL: { // OpVar
			uint64_t v20 = mtp_mirth_arrow_Op_OpVar(in_Op_3);
			VAL v21;
			VAL v22;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, v20, &v21, &v22);
			branch_ZPlusSPSynth_7 = v22;
			branch_ZPlusMirth_6 = v21;
		} break;
		default: {
			VAL v23;
			uint64_t v24;
			VAL v25;
			VAL v26;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(in_ZPlusSPSynth_2, &v23, &v24, &v25, &v26);
			VAL v27;
			VAL v28;
			mw_mirth_elab_abZ_opZBang(in_Op_3, in_ZPlusMirth_1, v26, &v27, &v28);
			VAL v29;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v23, v24, v25, v28, &v29);
			branch_ZPlusSPSynth_7 = v29;
			branch_ZPlusMirth_6 = v27;
		} break;
	}
	*out_ZPlusSPSynth_5 = branch_ZPlusSPSynth_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_blockZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, uint64_t in_Block_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	VAL v6;
	uint64_t v7;
	VAL v8;
	VAL v9;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(in_ZPlusSPSynth_2, &v6, &v7, &v8, &v9);
	VAL v10;
	uint64_t v11 = mw_mirth_elab_abZ_tokenZAt(v9, &v10);
	VAL v12;
	VAL v13 = mw_mirth_elab_abZ_ctxZAt(v10, &v12);
	uint64_t v14 = mw_mirth_type_MetaVar_newZBang();
	VAL v15 = mtw_mirth_type_StackType_STMeta(v14);
	VAL v16;
	VAL v17 = mw_mirth_elab_abZ_homeZAt(v12, &v16);
	incref(v15);
	VAL v18 = MKI64(0LL /* Nil */);
	VAL v19 = mtw_mirth_arrow_Arrow_Arrow(v17, v11, v11, v13, v15, v15, v18);
	VAL v20;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v6, v7, v8, v19, &v20);
	VAL v21;
	VAL v22;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, v20, in_Block_3, &v21, &v22);
	VAL v23;
	uint64_t v24;
	VAL v25;
	VAL v26;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v22, &v23, &v24, &v25, &v26);
	VAL v27;
	uint64_t v28 = mw_mirth_arrow_Block_newZBang(v21, v26, &v27);
	VAL v29 = mtw_mirth_arrow_Op_OpBlockPush(v28);
	VAL v30;
	VAL v31;
	mw_mirth_elab_abZ_opZBang(v29, v27, v16, &v30, &v31);
	VAL v32;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v23, v24, v25, v31, &v32);
	*out_ZPlusSPSynth_5 = v32;
	*out_ZPlusMirth_4 = v30;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, uint64_t in_Block_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	VAL v6;
	VAL v7 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_1, in_Block_3, &v6);
	VAL v8;
	VAL v9;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(v6, in_ZPlusSPSynth_2, v7, &v8, &v9);
	*out_ZPlusSPSynth_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_varZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, uint64_t in_Var_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	VAL v6 = VTUP(in_ZPlusSPSynth_2)->cells[4];
	incref(v6);
	VAL v7 = MKI64(0LL /* None */);
	int64_t v8 = 1LL /* True */;
	uint64_t v9 = in_Var_3;
	VAL v10 = v7;
	VAL v11 = v6;
	int64_t v12 = v8;
	int64_t v13 = v8;
	while (((bool)v13)) {
		uint64_t v14 = v9;
		VAL v15 = v10;
		VAL v16 = v11;
		int64_t v17 = v12;
		VAL v18;
		VAL v19 = mw_std_list_List_1_uncons(v16, &v18);
		uint64_t branch_Var_20;
		VAL branch_Maybe_21;
		VAL branch_List_22;
		int64_t branch_Bool_23;
		switch (get_data_tag(v19)) {
			case 1LL: { // Some
				VAL v24 = mtp_std_maybe_Maybe_1_Some(v19);
				incref(v24);
				VAL v25 = VTUP(v24)->cells[1];
				incref(v25);
				decref(v24);
				int64_t v26 = mw_mirth_var_Var_index(v14);
				int64_t v27 = mw_mirth_var_Var_index(value_u64(v25));
				bool v28 = (v26 == v27);
				uint64_t branch_Var_29;
				VAL branch_Maybe_30;
				if (v28) {
					VAL v31 = mtw_std_maybe_Maybe_1_Some(v24);
					branch_Maybe_30 = v31;
					branch_Var_29 = v14;
				} else {
					decref(v24);
					VAL v32 = MKI64(0LL /* None */);
					branch_Maybe_30 = v32;
					branch_Var_29 = v14;
				}
				uint64_t branch_Var_33;
				VAL branch_Maybe_34;
				VAL branch_List_35;
				switch (get_data_tag(branch_Maybe_30)) {
					case 0LL: { // None
						branch_List_35 = v18;
						branch_Maybe_34 = v15;
						branch_Var_33 = branch_Var_29;
					} break;
					default: {
						decref(v18);
						decref(v15);
						VAL v36 = MKI64(0LL /* Nil */);
						branch_List_35 = v36;
						branch_Maybe_34 = branch_Maybe_30;
						branch_Var_33 = branch_Var_29;
					} break;
				}
				int64_t v37 = 1LL /* True */;
				branch_Bool_23 = v37;
				branch_List_22 = branch_List_35;
				branch_Maybe_21 = branch_Maybe_34;
				branch_Var_20 = branch_Var_33;
			} break;
			case 0LL: { // None
				int64_t v38 = 0LL /* False */;
				branch_Bool_23 = v38;
				branch_List_22 = v18;
				branch_Maybe_21 = v15;
				branch_Var_20 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_23;
		v12 = branch_Bool_23;
		v11 = branch_List_22;
		v10 = branch_Maybe_21;
		v9 = branch_Var_20;
	}
	decref(v11);
	VAL v39 = mw_std_maybe_Maybe_1_map_1_sp10(v10);
	VAL branch_ZPlusMirth_40;
	VAL branch_ZPlusSPSynth_41;
	switch (get_data_tag(v39)) {
		case 1LL: { // Some
			VAL v42 = mtp_std_maybe_Maybe_1_Some(v39);
			VAL v43;
			VAL v44;
			mw_mirth_specializzer_ZPlusSPSynth_synthZ_runZBang(in_ZPlusMirth_1, in_ZPlusSPSynth_2, value_u64(v42), &v43, &v44);
			branch_ZPlusSPSynth_41 = v44;
			branch_ZPlusMirth_40 = v43;
		} break;
		case 0LL: { // None
			VAL v45;
			uint64_t v46;
			VAL v47;
			VAL v48;
			mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(in_ZPlusSPSynth_2, &v45, &v46, &v47, &v48);
			VAL v49;
			VAL v50;
			mw_mirth_elab_abZ_varZBang(in_Var_3, in_ZPlusMirth_1, v48, &v49, &v50);
			VAL v51;
			mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v45, v46, v47, v50, &v51);
			branch_ZPlusSPSynth_41 = v51;
			branch_ZPlusMirth_40 = v49;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusSPSynth_5 = branch_ZPlusSPSynth_41;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_40;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_matchZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Match_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	uint64_t v6 = mw_mirth_type_MetaVar_newZBang();
	VAL v7 = mtw_mirth_type_StackType_STMeta(v6);
	incref(in_Match_3);
	uint64_t v8 = value_u64(VTUP(in_Match_3)->cells[3]);
	decref(in_Match_3);
	VAL v9 = VTUP(in_Match_3)->cells[7];
	incref(v9);
	decref(in_Match_3);
	VAL v10;
	uint64_t v11;
	VAL v12;
	VAL v13;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(in_ZPlusSPSynth_2, &v10, &v11, &v12, &v13);
	VAL v14;
	VAL v15 = mw_mirth_elab_abZ_ctxZAt(v13, &v14);
	VAL v16;
	VAL v17 = mw_mirth_elab_abZ_typeZAt(v14, &v16);
	VAL v18;
	uint64_t v19 = mw_mirth_elab_abZ_tokenZAt(v16, &v18);
	VAL v20;
	VAL v21 = mw_mirth_elab_abZ_homeZAt(v18, &v20);
	VAL v22 = MKI64(0LL /* Nil */);
	VAL v23;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v21, v19, v8, v15, v17, v7, v22, &v23);
	int64_t v24 = 1LL /* True */;
	VAL v25 = v10;
	uint64_t v26 = v11;
	VAL v27 = v12;
	VAL v28 = in_ZPlusMirth_1;
	VAL v29 = v23;
	VAL v30 = v9;
	int64_t v31 = v24;
	int64_t v32 = v24;
	while (((bool)v32)) {
		VAL v33 = v25;
		uint64_t v34 = v26;
		VAL v35 = v27;
		VAL v36 = v28;
		VAL v37 = v29;
		VAL v38 = v30;
		int64_t v39 = v31;
		VAL branch_SPKey_40;
		uint64_t branch_Word_41;
		VAL branch_Map_42;
		VAL branch_ZPlusMirth_43;
		VAL branch_ZPlusMatch_44;
		VAL branch_List_45;
		int64_t branch_Bool_46;
		switch (get_data_tag(v38)) {
			case 1LL: { // Cons
				VAL v47;
				VAL v48 = mtp_std_list_List_1_Cons(v38, &v47);
				incref(v48);
				VAL v49 = VTUP(v48)->cells[1];
				incref(v49);
				decref(v48);
				uint64_t v50 = value_u64(VTUP(v49)->cells[2]);
				decref(v49);
				incref(v48);
				VAL v51 = VTUP(v48)->cells[2];
				incref(v51);
				decref(v48);
				uint64_t v52 = value_u64(VTUP(v51)->cells[2]);
				decref(v51);
				VAL v53 = VTUP(v37)->cells[1];
				incref(v53);
				VAL v54 = VTUP(v37)->cells[4];
				incref(v54);
				incref(v54);
				VAL v55 = MKI64(0LL /* Nil */);
				VAL v56 = VTUP(v37)->cells[5];
				incref(v56);
				incref(v56);
				VAL v57 = MKI64(0LL /* Nil */);
				VAL v58 = mtw_mirth_match_Pattern_Pattern(v53, v50, v50, v54, v54, v55, v56, v56, v57);
				VAL v59;
				mw_mirth_match_Pattern_thaw(v58, &v59);
				incref(v48);
				VAL v60 = VTUP(v48)->cells[1];
				incref(v60);
				decref(v48);
				VAL v61 = VTUP(v60)->cells[9];
				incref(v61);
				decref(v60);
				VAL v62 = mw_std_list_List_1_reverse(v61);
				int64_t v63 = 1LL /* True */;
				VAL v64 = v36;
				VAL v65 = v59;
				VAL v66 = v62;
				int64_t v67 = v63;
				int64_t v68 = v63;
				while (((bool)v68)) {
					VAL v69 = v64;
					VAL v70 = v65;
					VAL v71 = v66;
					int64_t v72 = v67;
					VAL branch_ZPlusMirth_73;
					VAL branch_ZPlusPattern_74;
					VAL branch_List_75;
					int64_t branch_Bool_76;
					switch (get_data_tag(v71)) {
						case 1LL: { // Cons
							VAL v77;
							VAL v78 = mtp_std_list_List_1_Cons(v71, &v77);
							VAL v79 = VTUP(v78)->cells[7];
							incref(v79);
							decref(v78);
							VAL v80;
							VAL v81;
							mw_mirth_match_ZPlusPattern_opZBang(v79, v69, v70, &v80, &v81);
							int64_t v82 = 1LL /* True */;
							branch_Bool_76 = v82;
							branch_List_75 = v77;
							branch_ZPlusPattern_74 = v81;
							branch_ZPlusMirth_73 = v80;
						} break;
						case 0LL: { // Nil
							VAL v83 = MKI64(0LL /* Nil */);
							int64_t v84 = 0LL /* False */;
							branch_Bool_76 = v84;
							branch_List_75 = v83;
							branch_ZPlusPattern_74 = v70;
							branch_ZPlusMirth_73 = v69;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v68 = branch_Bool_76;
					v67 = branch_Bool_76;
					v66 = branch_List_75;
					v65 = branch_ZPlusPattern_74;
					v64 = branch_ZPlusMirth_73;
				}
				decref(v66);
				VAL v85 = mw_mirth_match_ZPlusPattern_freezze(v65);
				incref(v85);
				VAL v86 = VTUP(v85)->cells[5];
				incref(v86);
				decref(v85);
				incref(v85);
				VAL v87 = mw_mirth_match_Pattern_dom(v85);
				VAL v88 = VTUP(v37)->cells[6];
				incref(v88);
				VAL v89 = mw_mirth_type_TZ_ZTo(v87, v88);
				VAL v90 = VTUP(v37)->cells[1];
				incref(v90);
				VAL v91;
				VAL v92 = mw_mirth_type_ArrowType_unpack(v89, &v91);
				incref(v92);
				VAL v93 = MKI64(0LL /* Nil */);
				VAL v94 = mtw_mirth_arrow_Arrow_Arrow(v90, v52, v52, v86, v92, v92, v93);
				VAL v95;
				mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v33, v34, v35, v94, &v95);
				VAL v96 = VTUP(v48)->cells[2];
				incref(v96);
				decref(v48);
				VAL v97;
				VAL v98;
				mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(v64, v95, v96, &v97, &v98);
				VAL v99;
				uint64_t v100;
				VAL v101;
				VAL v102;
				mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v98, &v99, &v100, &v101, &v102);
				VAL v103;
				VAL v104;
				mw_mirth_elab_abZ_unifyZ_typeZBang(v91, v97, v102, &v103, &v104);
				VAL v105 = mtw_mirth_match_Case_CASE(v85, v104);
				VAL v106;
				VAL v107;
				mw_mirth_match_ZPlusMatch_addZ_case(v103, v37, v105, &v106, &v107);
				int64_t v108 = 1LL /* True */;
				branch_Bool_46 = v108;
				branch_List_45 = v47;
				branch_ZPlusMatch_44 = v107;
				branch_ZPlusMirth_43 = v106;
				branch_Map_42 = v101;
				branch_Word_41 = v100;
				branch_SPKey_40 = v99;
			} break;
			case 0LL: { // Nil
				VAL v109 = MKI64(0LL /* Nil */);
				int64_t v110 = 0LL /* False */;
				branch_Bool_46 = v110;
				branch_List_45 = v109;
				branch_ZPlusMatch_44 = v37;
				branch_ZPlusMirth_43 = v36;
				branch_Map_42 = v35;
				branch_Word_41 = v34;
				branch_SPKey_40 = v33;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v32 = branch_Bool_46;
		v31 = branch_Bool_46;
		v30 = branch_List_45;
		v29 = branch_ZPlusMatch_44;
		v28 = branch_ZPlusMirth_43;
		v27 = branch_Map_42;
		v26 = branch_Word_41;
		v25 = branch_SPKey_40;
	}
	decref(v30);
	VAL v111 = mw_mirth_match_ZPlusMatch_freezze(v29);
	VAL v112 = mtw_mirth_arrow_Op_OpMatch(v111);
	VAL v113;
	VAL v114;
	mw_mirth_elab_abZ_opZBang(v112, v28, v20, &v113, &v114);
	VAL v115;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v25, v26, v27, v114, &v115);
	*out_ZPlusSPSynth_5 = v115;
	*out_ZPlusMirth_4 = v113;
}
static void mw_mirth_specializzer_ZPlusSPSynth_synthZ_lambdaZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusSPSynth_2, VAL in_Lambda_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusSPSynth_5) {
	incref(in_Lambda_3);
	VAL v6 = VTUP(in_Lambda_3)->cells[4];
	incref(v6);
	decref(in_Lambda_3);
	VAL v7;
	uint64_t v8;
	VAL v9;
	VAL v10;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(in_ZPlusSPSynth_2, &v7, &v8, &v9, &v10);
	VAL v11;
	uint64_t v12 = mw_mirth_elab_abZ_tokenZAt(v10, &v11);
	incref(v6);
	VAL v13;
	VAL v14 = mw_mirth_elab_abZ_ctxZAt(v11, &v13);
	VAL v15;
	VAL v16 = mw_mirth_elab_abZ_typeZAt(v13, &v15);
	VAL v17;
	VAL v18;
	VAL v19;
	VAL v20 = mw_std_list_List_1_reverseZ_for_1_sp8(in_ZPlusMirth_1, v15, v14, v16, v6, &v17, &v18, &v19);
	VAL v21;
	VAL v22 = mw_mirth_elab_abZ_homeZAt(v18, &v21);
	incref(v19);
	VAL v23 = MKI64(0LL /* Nil */);
	VAL v24 = mtw_mirth_arrow_Arrow_Arrow(v22, v12, v12, v20, v19, v19, v23);
	VAL v25;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v7, v8, v9, v24, &v25);
	VAL v26 = VTUP(in_Lambda_3)->cells[5];
	incref(v26);
	decref(in_Lambda_3);
	VAL v27;
	VAL v28;
	mw_mirth_specializzer_ZPlusSPSynth_synthZ_arrowZBang(v17, v25, v26, &v27, &v28);
	VAL v29;
	uint64_t v30;
	VAL v31;
	VAL v32;
	mtp_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v28, &v29, &v30, &v31, &v32);
	VAL v33;
	VAL v34 = mw_mirth_elab_abZ_ctxZAt(v21, &v33);
	VAL v35;
	VAL v36 = mw_mirth_elab_abZ_typeZAt(v33, &v35);
	VAL v37;
	uint64_t v38 = mw_mirth_elab_abZ_tokenZAt(v35, &v37);
	VAL v39 = mtw_mirth_arrow_Lambda_Lambda(v38, v34, v36, v6, v32);
	VAL v40 = mtw_mirth_arrow_Op_OpLambda(v39);
	VAL v41;
	VAL v42;
	mw_mirth_elab_abZ_opZBang(v40, v27, v37, &v41, &v42);
	VAL v43;
	mtw_mirth_specializzer_ZPlusSPSynth_ZPlusSPSYNTH(v29, v30, v31, v42, &v43);
	*out_ZPlusSPSynth_5 = v43;
	*out_ZPlusMirth_4 = v41;
}
static int64_t mw_std_set_SETz_INITIALz_SIZZE (void) {
	int64_t v2 = 256LL;
	return v2;
}
static void mw_std_set_ZPlusSet_new (VAL *out_ZPlusSet_1) {
	int64_t v2 = mw_std_set_SETz_INITIALz_SIZZE();
	VAL v3;
	mw_std_buffer_ZPlusBuffer_new(v2, &v3);
	*out_ZPlusSet_1 = v3;
}
static void mw_std_set_ZPlusSet_rdrop (VAL in_ZPlusSet_1) {
	mw_std_buffer_ZPlusBuffer_rdrop(in_ZPlusSet_1);
}
static int64_t mw_std_set_ZPlusSet_offsetZ_mask (int64_t in_Nat_1, VAL in_ZPlusSet_2, int64_t *out_U8_4, VAL *out_ZPlusSet_5) {
	int64_t v6 = 8LL;
	int64_t v7 = i64_mod(in_Nat_1, v6);
	int64_t v8 = i64_div(in_Nat_1, v6);
	int64_t v9 = 1LL;
	uint64_t v10 = u64_shl(((uint64_t)v9), ((uint64_t)v7));
	int64_t v11 = 255LL;
	uint64_t v12 = (v10 & ((uint64_t)v11));
	*out_ZPlusSet_5 = in_ZPlusSet_2;
	*out_U8_4 = ((int64_t)v12);
	return v8;
}
static int64_t mw_std_set_ZPlusSet_memberZAsk (int64_t in_Nat_1, VAL in_ZPlusSet_2, VAL *out_ZPlusSet_4) {
	int64_t v5;
	VAL v6;
	int64_t v7 = mw_std_set_ZPlusSet_offsetZ_mask(in_Nat_1, in_ZPlusSet_2, &v5, &v6);
	int64_t v8 = 0;
	VAL v9;
	int64_t v10 = mw_std_buffer_ZPlusBuffer_ZAtU8(v7, v6, &v9);
	uint64_t v11 = (((uint64_t)v5) & ((uint64_t)v10));
	int64_t v12 = 0LL;
	bool v13 = (((int64_t)v11) != v12);
	*out_ZPlusSet_4 = v9;
	return ((int64_t)v13);
}
static void mw_std_set_ZPlusSet_insertZBang (int64_t in_Nat_1, VAL in_ZPlusSet_2, VAL *out_ZPlusSet_3) {
	int64_t v4;
	VAL v5;
	int64_t v6 = mw_std_set_ZPlusSet_offsetZ_mask(in_Nat_1, in_ZPlusSet_2, &v4, &v5);
	int64_t v7 = 0;
	VAL v8;
	int64_t v9 = mw_std_buffer_ZPlusBuffer_ZAtU8(v6, v5, &v8);
	uint64_t v10 = (((uint64_t)v4) | ((uint64_t)v9));
	VAL v11;
	mw_std_buffer_ZPlusBuffer_ZBangU8(((int64_t)v10), v6, v8, &v11);
	*out_ZPlusSet_3 = v11;
}
static int64_t mw_mirth_need_Need_ZToNat (VAL in_Need_1) {
	int64_t branch_Nat_3;
	switch (get_data_tag(in_Need_1)) {
		case 0LL: { // NEED_WORD
			uint64_t v4 = mtp_mirth_need_Need_NEEDz_WORD(in_Need_1);
			int64_t v5 = mw_mirth_word_Word_index(v4);
			int64_t v6 = 0LL;
			int64_t v7 = mw_std_prim_Int_max(v5, v6);
			int64_t v8 = 4LL;
			int64_t v9 = i64_mul(v7, v8);
			branch_Nat_3 = v9;
		} break;
		case 1LL: { // NEED_BLOCK
			uint64_t v10 = mtp_mirth_need_Need_NEEDz_BLOCK(in_Need_1);
			int64_t v11 = mw_mirth_arrow_Block_index(v10);
			int64_t v12 = 0LL;
			int64_t v13 = mw_std_prim_Int_max(v11, v12);
			int64_t v14 = 4LL;
			int64_t v15 = i64_mul(v13, v14);
			int64_t v16 = 1LL;
			int64_t v17 = i64_add(v15, v16);
			branch_Nat_3 = v17;
		} break;
		case 2LL: { // NEED_TAGW
			uint64_t v18 = mtp_mirth_need_Need_NEEDz_TAGW(in_Need_1);
			int64_t v19 = mw_mirth_data_Tag_index(v18);
			int64_t v20 = 0LL;
			int64_t v21 = mw_std_prim_Int_max(v19, v20);
			int64_t v22 = 4LL;
			int64_t v23 = i64_mul(v21, v22);
			int64_t v24 = 2LL;
			int64_t v25 = i64_add(v23, v24);
			branch_Nat_3 = v25;
		} break;
		case 3LL: { // NEED_TAGP
			uint64_t v26 = mtp_mirth_need_Need_NEEDz_TAGP(in_Need_1);
			int64_t v27 = mw_mirth_data_Tag_index(v26);
			int64_t v28 = 0LL;
			int64_t v29 = mw_std_prim_Int_max(v27, v28);
			int64_t v30 = 4LL;
			int64_t v31 = i64_mul(v29, v30);
			int64_t v32 = 3LL;
			int64_t v33 = i64_add(v31, v32);
			branch_Nat_3 = v33;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Nat_3;
}
static void mw_mirth_need_ZPlusNeeds_new (VAL *out_ZPlusNeeds_1) {
	VAL v2 = MKI64(0LL /* Nil */);
	VAL v3;
	mw_std_set_ZPlusSet_new(&v3);
	VAL v4;
	mtw_mirth_need_ZPlusNeeds_ZPlusNeeds(v2, v3, &v4);
	*out_ZPlusNeeds_1 = v4;
}
static void mw_mirth_need_ZPlusNeeds_rdrop (VAL in_ZPlusNeeds_1) {
	VAL v2;
	VAL v3;
	mtp_mirth_need_ZPlusNeeds_ZPlusNeeds(in_ZPlusNeeds_1, &v2, &v3);
	mw_std_set_ZPlusSet_rdrop(v3);
	decref(v2);
}
static int64_t mw_mirth_need_Need_neededZAsk (VAL in_Need_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4) {
	int64_t v5 = mw_mirth_need_Need_ZToNat(in_Need_1);
	VAL v6 = VTUP(in_ZPlusNeeds_2)->cells[2];
	VAL v7;
	int64_t v8 = mw_std_set_ZPlusSet_memberZAsk(v5, v6, &v7);
	VTUP(in_ZPlusNeeds_2)->cells[2] = v7;
	*out_ZPlusNeeds_4 = in_ZPlusNeeds_2;
	return v8;
}
static int64_t mw_mirth_word_Word_neededZAsk (uint64_t in_Word_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4) {
	VAL v5 = mtw_mirth_need_Need_NEEDz_WORD(in_Word_1);
	VAL v6;
	int64_t v7 = mw_mirth_need_Need_neededZAsk(v5, in_ZPlusNeeds_2, &v6);
	*out_ZPlusNeeds_4 = v6;
	return v7;
}
static int64_t mw_mirth_arrow_Block_neededZAsk (uint64_t in_Block_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4) {
	VAL v5 = mtw_mirth_need_Need_NEEDz_BLOCK(in_Block_1);
	VAL v6;
	int64_t v7 = mw_mirth_need_Need_neededZAsk(v5, in_ZPlusNeeds_2, &v6);
	*out_ZPlusNeeds_4 = v6;
	return v7;
}
static int64_t mw_mirth_data_Tag_wordZ_neededZAsk (uint64_t in_Tag_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4) {
	VAL v5 = mtw_mirth_need_Need_NEEDz_TAGW(in_Tag_1);
	VAL v6;
	int64_t v7 = mw_mirth_need_Need_neededZAsk(v5, in_ZPlusNeeds_2, &v6);
	*out_ZPlusNeeds_4 = v6;
	return v7;
}
static int64_t mw_mirth_data_Tag_patZ_neededZAsk (uint64_t in_Tag_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_4) {
	VAL v5 = mtw_mirth_need_Need_NEEDz_TAGP(in_Tag_1);
	VAL v6;
	int64_t v7 = mw_mirth_need_Need_neededZAsk(v5, in_ZPlusNeeds_2, &v6);
	*out_ZPlusNeeds_4 = v6;
	return v7;
}
static void mw_mirth_need_ZPlusNeeds_needZBang (VAL in_Need_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3) {
	incref(in_Need_1);
	VAL v4;
	int64_t v5 = mw_mirth_need_Need_neededZAsk(in_Need_1, in_ZPlusNeeds_2, &v4);
	VAL branch_ZPlusNeeds_6;
	if (((bool)v5)) {
		decref(in_Need_1);
		branch_ZPlusNeeds_6 = v4;
	} else {
		incref(in_Need_1);
		int64_t v7 = mw_mirth_need_Need_ZToNat(in_Need_1);
		VAL v8 = VTUP(v4)->cells[2];
		VAL v9;
		mw_std_set_ZPlusSet_insertZBang(v7, v8, &v9);
		VTUP(v4)->cells[2] = v9;
		VAL v10 = VTUP(v4)->cells[1];
		incref(v10);
		VAL v11 = mtw_std_list_List_1_Cons(in_Need_1, v10);
		VAL v12 = VTUP(v4)->cells[1];
		decref(v12);
		VTUP(v4)->cells[1] = v11;
		branch_ZPlusNeeds_6 = v4;
	}
	*out_ZPlusNeeds_3 = branch_ZPlusNeeds_6;
}
static void mw_mirth_need_ZPlusNeeds_needZ_wordZBang (uint64_t in_Word_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_NEEDz_WORD(in_Word_1);
	VAL v5;
	mw_mirth_need_ZPlusNeeds_needZBang(v4, in_ZPlusNeeds_2, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_needZ_blockZBang (uint64_t in_Block_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_NEEDz_BLOCK(in_Block_1);
	VAL v5;
	mw_mirth_need_ZPlusNeeds_needZBang(v4, in_ZPlusNeeds_2, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang (uint64_t in_Tag_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_NEEDz_TAGW(in_Tag_1);
	VAL v5;
	mw_mirth_need_ZPlusNeeds_needZBang(v4, in_ZPlusNeeds_2, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang (uint64_t in_Tag_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusNeeds_3) {
	VAL v4 = mtw_mirth_need_Need_NEEDz_TAGP(in_Tag_1);
	VAL v5;
	mw_mirth_need_ZPlusNeeds_needZBang(v4, in_ZPlusNeeds_2, &v5);
	*out_ZPlusNeeds_3 = v5;
}
static void mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang (VAL in_Arrow_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6;
	VAL v7;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(in_Arrow_1, in_ZPlusMirth_2, in_ZPlusNeeds_3, &v6, &v7);
	VAL v8;
	VAL v9;
	mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang(v6, v7, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_determineZ_transitiveZ_needsZBang (VAL in_ZPlusMirth_1, VAL in_ZPlusNeeds_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusNeeds_4) {
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_ZPlusMirth_1;
	VAL v7 = in_ZPlusNeeds_2;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL v13 = VTUP(v11)->cells[1];
		incref(v13);
		VAL v14;
		VAL v15 = mw_std_list_List_1_uncons(v13, &v14);
		VAL v16 = VTUP(v11)->cells[1];
		decref(v16);
		VTUP(v11)->cells[1] = v14;
		VAL branch_ZPlusMirth_17;
		VAL branch_ZPlusNeeds_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v15)) {
			case 1LL: { // Some
				VAL v20 = mtp_std_maybe_Maybe_1_Some(v15);
				VAL v21;
				VAL v22;
				mw_mirth_need_ZPlusNeeds_runZ_needZBang(v20, v10, v11, &v21, &v22);
				int64_t v23 = 1LL /* True */;
				branch_Bool_19 = v23;
				branch_ZPlusNeeds_18 = v22;
				branch_ZPlusMirth_17 = v21;
			} break;
			case 0LL: { // None
				int64_t v24 = 0LL /* False */;
				branch_Bool_19 = v24;
				branch_ZPlusNeeds_18 = v11;
				branch_ZPlusMirth_17 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_19;
		v8 = branch_Bool_19;
		v7 = branch_ZPlusNeeds_18;
		v6 = branch_ZPlusMirth_17;
	}
	*out_ZPlusNeeds_4 = v7;
	*out_ZPlusMirth_3 = v6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_needZBang (VAL in_Need_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL branch_ZPlusMirth_6;
	VAL branch_ZPlusNeeds_7;
	switch (get_data_tag(in_Need_1)) {
		case 1LL: { // NEED_BLOCK
			uint64_t v8 = mtp_mirth_need_Need_NEEDz_BLOCK(in_Need_1);
			VAL v9;
			VAL v10;
			mw_mirth_need_ZPlusNeeds_runZ_blockZBang(v8, in_ZPlusMirth_2, in_ZPlusNeeds_3, &v9, &v10);
			branch_ZPlusNeeds_7 = v10;
			branch_ZPlusMirth_6 = v9;
		} break;
		case 0LL: { // NEED_WORD
			uint64_t v11 = mtp_mirth_need_Need_NEEDz_WORD(in_Need_1);
			VAL v12;
			VAL v13;
			mw_mirth_need_ZPlusNeeds_runZ_wordZBang(v11, in_ZPlusMirth_2, in_ZPlusNeeds_3, &v12, &v13);
			branch_ZPlusNeeds_7 = v13;
			branch_ZPlusMirth_6 = v12;
		} break;
		case 2LL: { // NEED_TAGW
			uint64_t v14 = mtp_mirth_need_Need_NEEDz_TAGW(in_Need_1);
			branch_ZPlusNeeds_7 = in_ZPlusNeeds_3;
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
		} break;
		case 3LL: { // NEED_TAGP
			uint64_t v15 = mtp_mirth_need_Need_NEEDz_TAGP(in_Need_1);
			branch_ZPlusNeeds_7 = in_ZPlusNeeds_3;
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_7;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_argsZBang (VAL in_List_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	int64_t v6 = 1LL /* True */;
	VAL v7 = in_ZPlusMirth_2;
	VAL v8 = in_ZPlusNeeds_3;
	VAL v9 = in_List_1;
	int64_t v10 = v6;
	int64_t v11 = v6;
	while (((bool)v11)) {
		VAL v12 = v7;
		VAL v13 = v8;
		VAL v14 = v9;
		int64_t v15 = v10;
		VAL branch_ZPlusMirth_16;
		VAL branch_ZPlusNeeds_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				VAL v22;
				VAL v23;
				mw_mirth_need_ZPlusNeeds_runZ_argZBang(value_u64(v21), v12, v13, &v22, &v23);
				int64_t v24 = 1LL /* True */;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusNeeds_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v25 = MKI64(0LL /* Nil */);
				int64_t v26 = 0LL /* False */;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusNeeds_17 = v13;
				branch_ZPlusMirth_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusNeeds_17;
		v7 = branch_ZPlusMirth_16;
	}
	decref(v9);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_argZBang (uint64_t in_Arg_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6;
	VAL v7;
	mw_mirth_need_ZPlusNeeds_runZ_blockZBang(in_Arg_1, in_ZPlusMirth_2, in_ZPlusNeeds_3, &v6, &v7);
	*out_ZPlusNeeds_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_need_ZPlusNeeds_runZ_blockZBang (uint64_t in_Block_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6;
	VAL v7 = mw_mirth_arrow_Block_arrow(in_ZPlusMirth_2, in_Block_1, &v6);
	VAL v8;
	VAL v9;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v7, v6, in_ZPlusNeeds_3, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_wordZBang (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6;
	VAL v7 = mw_mirth_word_Word_arrow(in_Word_1, in_ZPlusMirth_2, &v6);
	VAL v8;
	VAL v9;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v7, v6, in_ZPlusNeeds_3, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_arrowZBang (VAL in_Arrow_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6 = VTUP(in_Arrow_1)->cells[7];
	incref(v6);
	decref(in_Arrow_1);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_ZPlusMirth_2;
	VAL v9 = in_ZPlusNeeds_3;
	VAL v10 = v6;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL branch_ZPlusMirth_17;
		VAL branch_ZPlusNeeds_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				VAL v23;
				VAL v24;
				mw_mirth_need_ZPlusNeeds_runZ_atomZBang(v22, v13, v14, &v23, &v24);
				int64_t v25 = 1LL /* True */;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusNeeds_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_atomZBang (VAL in_Atom_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	incref(in_Atom_1);
	VAL v6 = VTUP(in_Atom_1)->cells[5];
	incref(v6);
	decref(in_Atom_1);
	VAL v7 = VTUP(in_Atom_1)->cells[4];
	incref(v7);
	decref(in_Atom_1);
	VAL v8;
	VAL v9;
	mw_mirth_need_ZPlusNeeds_runZ_opZBang(v6, v7, in_ZPlusMirth_2, in_ZPlusNeeds_3, &v8, &v9);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_opZBang (VAL in_List_1, VAL in_Op_2, VAL in_ZPlusMirth_3, VAL in_ZPlusNeeds_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusNeeds_6) {
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusNeeds_8;
	switch (get_data_tag(in_Op_2)) {
		case 0LL: { // OpNone
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 7LL: { // OpInt
			int64_t v9 = mtp_mirth_arrow_Op_OpInt(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 8LL: { // OpF64
			double v10 = mtp_mirth_arrow_Op_OpF64(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 9LL: { // OpStr
			VAL v11 = mtp_mirth_arrow_Op_OpStr(in_Op_2);
			decref(v11);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 2LL: { // OpWord
			uint64_t v12 = mtp_mirth_arrow_Op_OpWord(in_Op_2);
			int64_t v13 = mw_mirth_word_Word_preferZ_inlineZAsk(v12);
			VAL branch_List_14;
			VAL branch_ZPlusMirth_15;
			VAL branch_ZPlusNeeds_16;
			if (((bool)v13)) {
				VAL v17;
				VAL v18;
				mw_mirth_need_ZPlusNeeds_runZ_wordZBang(v12, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v17, &v18);
				branch_ZPlusNeeds_16 = v18;
				branch_ZPlusMirth_15 = v17;
				branch_List_14 = in_List_1;
			} else {
				VAL v19;
				mw_mirth_need_ZPlusNeeds_needZ_wordZBang(v12, in_ZPlusNeeds_4, &v19);
				branch_ZPlusNeeds_16 = v19;
				branch_ZPlusMirth_15 = in_ZPlusMirth_3;
				branch_List_14 = in_List_1;
			}
			VAL v20;
			VAL v21;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(branch_List_14, branch_ZPlusMirth_15, branch_ZPlusNeeds_16, &v20, &v21);
			branch_ZPlusNeeds_8 = v21;
			branch_ZPlusMirth_7 = v20;
		} break;
		case 3LL: { // OpExternal
			uint64_t v22 = mtp_mirth_arrow_Op_OpExternal(in_Op_2);
			VAL v23;
			VAL v24;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v23, &v24);
			branch_ZPlusNeeds_8 = v24;
			branch_ZPlusMirth_7 = v23;
		} break;
		case 4LL: { // OpBuffer
			uint64_t v25 = mtp_mirth_arrow_Op_OpBuffer(in_Op_2);
			VAL v26;
			VAL v27;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v26, &v27);
			branch_ZPlusNeeds_8 = v27;
			branch_ZPlusMirth_7 = v26;
		} break;
		case 5LL: { // OpVariable
			uint64_t v28 = mtp_mirth_arrow_Op_OpVariable(in_Op_2);
			VAL v29;
			VAL v30;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v29, &v30);
			branch_ZPlusNeeds_8 = v30;
			branch_ZPlusMirth_7 = v29;
		} break;
		case 6LL: { // OpField
			uint64_t v31 = mtp_mirth_arrow_Op_OpField(in_Op_2);
			VAL v32;
			VAL v33;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v32, &v33);
			branch_ZPlusNeeds_8 = v33;
			branch_ZPlusMirth_7 = v32;
		} break;
		case 10LL: { // OpTag
			uint64_t v34 = mtp_mirth_arrow_Op_OpTag(in_Op_2);
			VAL v35;
			mw_mirth_need_ZPlusNeeds_needZ_tagZ_wordZBang(v34, in_ZPlusNeeds_4, &v35);
			VAL v36;
			VAL v37;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, v35, &v36, &v37);
			branch_ZPlusNeeds_8 = v37;
			branch_ZPlusMirth_7 = v36;
		} break;
		case 1LL: { // OpPrim
			int64_t v38 = mtp_mirth_arrow_Op_OpPrim(in_Op_2);
			VAL v39;
			VAL v40;
			mw_mirth_need_ZPlusNeeds_runZ_primZBang(in_List_1, v38, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v39, &v40);
			branch_ZPlusNeeds_8 = v40;
			branch_ZPlusMirth_7 = v39;
		} break;
		case 11LL: { // OpMatch
			VAL v41 = mtp_mirth_arrow_Op_OpMatch(in_Op_2);
			decref(in_List_1);
			VAL v42;
			VAL v43;
			mw_mirth_need_ZPlusNeeds_runZ_matchZBang(v41, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v42, &v43);
			branch_ZPlusNeeds_8 = v43;
			branch_ZPlusMirth_7 = v42;
		} break;
		case 12LL: { // OpLambda
			VAL v44 = mtp_mirth_arrow_Op_OpLambda(in_Op_2);
			decref(in_List_1);
			VAL v45;
			VAL v46;
			mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang(v44, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v45, &v46);
			branch_ZPlusNeeds_8 = v46;
			branch_ZPlusMirth_7 = v45;
		} break;
		case 13LL: { // OpVar
			uint64_t v47 = mtp_mirth_arrow_Op_OpVar(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 14LL: { // OpBlockPush
			uint64_t v48 = mtp_mirth_arrow_Op_OpBlockPush(in_Op_2);
			decref(in_List_1);
			VAL v49;
			VAL v50;
			mw_mirth_need_ZPlusNeeds_pushZ_blockZBang(v48, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v49, &v50);
			branch_ZPlusNeeds_8 = v50;
			branch_ZPlusMirth_7 = v49;
		} break;
		case 15LL: { // OpBlockRun
			uint64_t v51 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_2);
			decref(in_List_1);
			VAL v52;
			VAL v53;
			mw_mirth_need_ZPlusNeeds_runZ_blockZBang(v51, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v52, &v53);
			branch_ZPlusNeeds_8 = v53;
			branch_ZPlusMirth_7 = v52;
		} break;
		case 16LL: { // OpLabelPush
			uint64_t v54 = mtp_mirth_arrow_Op_OpLabelPush(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 17LL: { // OpLabelPop
			uint64_t v55 = mtp_mirth_arrow_Op_OpLabelPop(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 18LL: { // OpLabelPushR
			uint64_t v56 = mtp_mirth_arrow_Op_OpLabelPushR(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 19LL: { // OpLabelPopR
			uint64_t v57 = mtp_mirth_arrow_Op_OpLabelPopR(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 20LL: { // OpDataGetEnumValue
			uint64_t v58 = mtp_mirth_arrow_Op_OpDataGetEnumValue(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 21LL: { // OpDataFromEnumValue
			uint64_t v59 = mtp_mirth_arrow_Op_OpDataFromEnumValue(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 22LL: { // OpDataGetLabel
			VAL v60 = mtp_mirth_arrow_Op_OpDataGetLabel(in_Op_2);
			decref(v60);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 23LL: { // OpDataSetLabel
			VAL v61 = mtp_mirth_arrow_Op_OpDataSetLabel(in_Op_2);
			decref(v61);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 24LL: { // OpTableToIndex
			uint64_t v62 = mtp_mirth_arrow_Op_OpTableToIndex(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		case 25LL: { // OpTableFromIndex
			uint64_t v63 = mtp_mirth_arrow_Op_OpTableFromIndex(in_Op_2);
			decref(in_List_1);
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_4;
			branch_ZPlusMirth_7 = in_ZPlusMirth_3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_6 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_primZBang (VAL in_List_1, int64_t in_Prim_2, VAL in_ZPlusMirth_3, VAL in_ZPlusNeeds_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusNeeds_6) {
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusNeeds_8;
	switch (in_Prim_2) {
		case 5LL: { // PRIM_CORE_DIP
			incref(in_List_1);
			VAL v9 = mw_std_list_List_1_ZDivL1(in_List_1);
			int64_t v10 = get_data_tag(v9);
			decref(v9);
			int64_t v11 = 1LL;
			bool v12 = (v10 == v11);
			VAL branch_ZPlusMirth_13;
			VAL branch_ZPlusNeeds_14;
			if (v12) {
				VAL v15;
				VAL v16;
				mw_mirth_need_ZPlusNeeds_runZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v15, &v16);
				branch_ZPlusNeeds_14 = v16;
				branch_ZPlusMirth_13 = v15;
			} else {
				VAL v17;
				VAL v18;
				mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v17, &v18);
				branch_ZPlusNeeds_14 = v18;
				branch_ZPlusMirth_13 = v17;
			}
			branch_ZPlusNeeds_8 = branch_ZPlusNeeds_14;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_13;
		} break;
		case 6LL: { // PRIM_CORE_RDIP
			incref(in_List_1);
			VAL v19 = mw_std_list_List_1_ZDivL1(in_List_1);
			int64_t v20 = get_data_tag(v19);
			decref(v19);
			int64_t v21 = 1LL;
			bool v22 = (v20 == v21);
			VAL branch_ZPlusMirth_23;
			VAL branch_ZPlusNeeds_24;
			if (v22) {
				VAL v25;
				VAL v26;
				mw_mirth_need_ZPlusNeeds_runZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v25, &v26);
				branch_ZPlusNeeds_24 = v26;
				branch_ZPlusMirth_23 = v25;
			} else {
				VAL v27;
				VAL v28;
				mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v27, &v28);
				branch_ZPlusNeeds_24 = v28;
				branch_ZPlusMirth_23 = v27;
			}
			branch_ZPlusNeeds_8 = branch_ZPlusNeeds_24;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_23;
		} break;
		case 7LL: { // PRIM_CORE_IF
			incref(in_List_1);
			VAL v29 = mw_std_list_List_1_ZDivL2(in_List_1);
			int64_t v30 = get_data_tag(v29);
			decref(v29);
			int64_t v31 = 1LL;
			bool v32 = (v30 == v31);
			VAL branch_ZPlusMirth_33;
			VAL branch_ZPlusNeeds_34;
			if (v32) {
				VAL v35;
				VAL v36;
				mw_mirth_need_ZPlusNeeds_runZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v35, &v36);
				branch_ZPlusNeeds_34 = v36;
				branch_ZPlusMirth_33 = v35;
			} else {
				VAL v37;
				VAL v38;
				mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v37, &v38);
				branch_ZPlusNeeds_34 = v38;
				branch_ZPlusMirth_33 = v37;
			}
			branch_ZPlusNeeds_8 = branch_ZPlusNeeds_34;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_33;
		} break;
		case 8LL: { // PRIM_CORE_WHILE
			incref(in_List_1);
			VAL v39 = mw_std_list_List_1_ZDivL2(in_List_1);
			int64_t v40 = get_data_tag(v39);
			decref(v39);
			int64_t v41 = 1LL;
			bool v42 = (v40 == v41);
			VAL branch_ZPlusMirth_43;
			VAL branch_ZPlusNeeds_44;
			if (v42) {
				VAL v45;
				VAL v46;
				mw_mirth_need_ZPlusNeeds_runZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v45, &v46);
				branch_ZPlusNeeds_44 = v46;
				branch_ZPlusMirth_43 = v45;
			} else {
				VAL v47;
				VAL v48;
				mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v47, &v48);
				branch_ZPlusNeeds_44 = v48;
				branch_ZPlusMirth_43 = v47;
			}
			branch_ZPlusNeeds_8 = branch_ZPlusNeeds_44;
			branch_ZPlusMirth_7 = branch_ZPlusMirth_43;
		} break;
		default: {
			VAL v49;
			VAL v50;
			mw_mirth_need_ZPlusNeeds_pushZ_argsZBang(in_List_1, in_ZPlusMirth_3, in_ZPlusNeeds_4, &v49, &v50);
			branch_ZPlusNeeds_8 = v50;
			branch_ZPlusMirth_7 = v49;
		} break;
	}
	*out_ZPlusNeeds_6 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_5 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_matchZBang (VAL in_Match_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6 = VTUP(in_Match_1)->cells[7];
	incref(v6);
	decref(in_Match_1);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_ZPlusMirth_2;
	VAL v9 = in_ZPlusNeeds_3;
	VAL v10 = v6;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL branch_ZPlusMirth_17;
		VAL branch_ZPlusNeeds_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				VAL v23;
				VAL v24;
				mw_mirth_need_ZPlusNeeds_runZ_caseZBang(v22, v13, v14, &v23, &v24);
				int64_t v25 = 1LL /* True */;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusNeeds_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_caseZBang (VAL in_Case_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	incref(in_Case_1);
	VAL v6 = VTUP(in_Case_1)->cells[1];
	incref(v6);
	decref(in_Case_1);
	VAL v7;
	VAL v8;
	mw_mirth_need_ZPlusNeeds_runZ_patternZBang(v6, in_ZPlusMirth_2, in_ZPlusNeeds_3, &v7, &v8);
	VAL v9 = VTUP(in_Case_1)->cells[2];
	incref(v9);
	decref(in_Case_1);
	VAL v10;
	VAL v11;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v9, v7, v8, &v10, &v11);
	*out_ZPlusNeeds_5 = v11;
	*out_ZPlusMirth_4 = v10;
}
static void mw_mirth_need_ZPlusNeeds_runZ_lambdaZBang (VAL in_Lambda_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6 = VTUP(in_Lambda_1)->cells[5];
	incref(v6);
	decref(in_Lambda_1);
	VAL v7;
	VAL v8;
	mw_mirth_need_ZPlusNeeds_runZ_arrowZBang(v6, in_ZPlusMirth_2, in_ZPlusNeeds_3, &v7, &v8);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_runZ_patternZBang (VAL in_Pattern_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6 = VTUP(in_Pattern_1)->cells[9];
	incref(v6);
	decref(in_Pattern_1);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_ZPlusMirth_2;
	VAL v9 = in_ZPlusNeeds_3;
	VAL v10 = v6;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL branch_ZPlusMirth_17;
		VAL branch_ZPlusNeeds_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				VAL v23;
				VAL v24;
				mw_mirth_need_ZPlusNeeds_runZ_patatomZBang(v22, v13, v14, &v23, &v24);
				int64_t v25 = 1LL /* True */;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusNeeds_18 = v24;
				branch_ZPlusMirth_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusNeeds_18 = v14;
				branch_ZPlusMirth_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusNeeds_18;
		v8 = branch_ZPlusMirth_17;
	}
	decref(v10);
	*out_ZPlusNeeds_5 = v9;
	*out_ZPlusMirth_4 = v8;
}
static void mw_mirth_need_ZPlusNeeds_runZ_patatomZBang (VAL in_PatternAtom_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6 = VTUP(in_PatternAtom_1)->cells[7];
	incref(v6);
	decref(in_PatternAtom_1);
	VAL branch_ZPlusMirth_7;
	VAL branch_ZPlusNeeds_8;
	switch (get_data_tag(v6)) {
		case 0LL: { // PatOpUnderscore
			branch_ZPlusNeeds_8 = in_ZPlusNeeds_3;
			branch_ZPlusMirth_7 = in_ZPlusMirth_2;
		} break;
		case 1LL: { // PatOpTag
			uint64_t v9 = mtp_mirth_match_PatternOp_PatOpTag(v6);
			VAL v10;
			mw_mirth_need_ZPlusNeeds_needZ_tagZ_patZBang(v9, in_ZPlusNeeds_3, &v10);
			branch_ZPlusNeeds_8 = v10;
			branch_ZPlusMirth_7 = in_ZPlusMirth_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_8;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_7;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_argsZBang (VAL in_List_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	int64_t v6 = 1LL /* True */;
	VAL v7 = in_ZPlusMirth_2;
	VAL v8 = in_ZPlusNeeds_3;
	VAL v9 = in_List_1;
	int64_t v10 = v6;
	int64_t v11 = v6;
	while (((bool)v11)) {
		VAL v12 = v7;
		VAL v13 = v8;
		VAL v14 = v9;
		int64_t v15 = v10;
		VAL branch_ZPlusMirth_16;
		VAL branch_ZPlusNeeds_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				VAL v22;
				VAL v23;
				mw_mirth_need_ZPlusNeeds_pushZ_argZBang(value_u64(v21), v12, v13, &v22, &v23);
				int64_t v24 = 1LL /* True */;
				branch_Bool_19 = v24;
				branch_List_18 = v20;
				branch_ZPlusNeeds_17 = v23;
				branch_ZPlusMirth_16 = v22;
			} break;
			case 0LL: { // Nil
				VAL v25 = MKI64(0LL /* Nil */);
				int64_t v26 = 0LL /* False */;
				branch_Bool_19 = v26;
				branch_List_18 = v25;
				branch_ZPlusNeeds_17 = v13;
				branch_ZPlusMirth_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusNeeds_17;
		v7 = branch_ZPlusMirth_16;
	}
	decref(v9);
	*out_ZPlusNeeds_5 = v8;
	*out_ZPlusMirth_4 = v7;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_argZBang (uint64_t in_Arg_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6;
	VAL v7;
	mw_mirth_need_ZPlusNeeds_pushZ_blockZBang(in_Arg_1, in_ZPlusMirth_2, in_ZPlusNeeds_3, &v6, &v7);
	*out_ZPlusNeeds_5 = v7;
	*out_ZPlusMirth_4 = v6;
}
static void mw_mirth_need_ZPlusNeeds_pushZ_blockZBang (uint64_t in_Block_1, VAL in_ZPlusMirth_2, VAL in_ZPlusNeeds_3, VAL *out_ZPlusMirth_4, VAL *out_ZPlusNeeds_5) {
	VAL v6;
	VAL v7 = mw_mirth_arrow_Block_toZ_runZ_var(in_ZPlusMirth_2, in_Block_1, &v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_ZPlusNeeds_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			decref(v10);
			branch_ZPlusNeeds_9 = in_ZPlusNeeds_3;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 0LL: { // None
			VAL v11;
			mw_mirth_need_ZPlusNeeds_needZ_blockZBang(in_Block_1, in_ZPlusNeeds_3, &v11);
			branch_ZPlusNeeds_9 = v11;
			branch_ZPlusMirth_8 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusNeeds_5 = branch_ZPlusNeeds_9;
	*out_ZPlusMirth_4 = branch_ZPlusMirth_8;
}
static void mw_mirth_c99_ZPlusC99_put (VAL in_Str_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	int64_t v4 = value_i64(VTUP(in_ZPlusC99_2)->cells[4]);
	VAL branch_ZPlusC99_5;
	if (((bool)v4)) {
		VAL v6 = VTUP(in_ZPlusC99_2)->cells[6];
		VAL v7;
		mw_std_output_ZPlusOutput_put(in_Str_1, v6, &v7);
		VTUP(in_ZPlusC99_2)->cells[6] = v7;
		branch_ZPlusC99_5 = in_ZPlusC99_2;
	} else {
		decref(in_Str_1);
		branch_ZPlusC99_5 = in_ZPlusC99_2;
	}
	*out_ZPlusC99_3 = branch_ZPlusC99_5;
}
static void mw_mirth_c99_ZPlusC99_putZ_byte (int64_t in_Byte_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	int64_t v4 = value_i64(VTUP(in_ZPlusC99_2)->cells[4]);
	VAL branch_ZPlusC99_5;
	if (((bool)v4)) {
		VAL v6 = VTUP(in_ZPlusC99_2)->cells[6];
		VAL v7;
		mw_std_output_ZPlusOutput_putZ_byte(in_Byte_1, v6, &v7);
		VTUP(in_ZPlusC99_2)->cells[6] = v7;
		branch_ZPlusC99_5 = in_ZPlusC99_2;
	} else {
		branch_ZPlusC99_5 = in_ZPlusC99_2;
	}
	*out_ZPlusC99_3 = branch_ZPlusC99_5;
}
static void mw_mirth_c99_ZPlusC99_line (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = value_i64(VTUP(in_ZPlusC99_1)->cells[4]);
	VAL branch_ZPlusC99_4;
	if (((bool)v3)) {
		VAL v5 = VTUP(in_ZPlusC99_1)->cells[6];
		VAL v6;
		mw_std_output_ZPlusOutput_line(v5, &v6);
		VTUP(in_ZPlusC99_1)->cells[6] = v6;
		branch_ZPlusC99_4 = in_ZPlusC99_1;
	} else {
		branch_ZPlusC99_4 = in_ZPlusC99_1;
	}
	*out_ZPlusC99_2 = branch_ZPlusC99_4;
}
static VAL mw_mirth_c99_c99Z_startZBang (VAL in_Arrow_1, VAL in_C99z_Options_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusC99_5) {
	int64_t v8 = 0LL;
	int64_t v9 = 0LL;
	int64_t v10 = 1LL /* True */;
	VAL v11;
	mw_mirth_need_ZPlusNeeds_new(&v11);
	incref(in_Arrow_1);
	VAL v12;
	VAL v13;
	mw_mirth_need_ZPlusNeeds_determineZ_arrowZ_needsZBang(in_Arrow_1, in_ZPlusMirth_3, v11, &v12, &v13);
	incref(in_C99z_Options_2);
	VAL v14 = VTUP(in_C99z_Options_2)->cells[1];
	incref(v14);
	decref(in_C99z_Options_2);
	VAL v15;
	mw_std_prim_ZPlusWorld_createZ_fileZBang(v14, &v15);
	VAL v16;
	VAL v17;
	mw_std_file_ZPlusFileZAsk_unwrapZBang_1_sp1(v12, v15, &v16, &v17);
	VAL v18;
	mw_std_output_ZPlusOutput_startZBang(v17, &v18);
	VAL v19;
	mtw_mirth_c99_ZPlusC99_ZPlusC99(in_C99z_Options_2, v8, v9, v10, v13, v18, v16, &v19);
	*out_ZPlusC99_5 = v19;
	return in_Arrow_1;
}
static void mw_mirth_c99_c99Z_endZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusMirth_2) {
	VAL v5;
	int64_t v6;
	int64_t v7;
	int64_t v8;
	VAL v9;
	VAL v10;
	VAL v11;
	mtp_mirth_c99_ZPlusC99_ZPlusC99(in_ZPlusC99_1, &v5, &v6, &v7, &v8, &v9, &v10, &v11);
	decref(v5);
	mw_mirth_need_ZPlusNeeds_rdrop(v9);
	VAL v12;
	mw_std_output_ZPlusOutput_endZBang(v10, &v12);
	mw_std_file_ZPlusFile_closeZ_fileZBang(v12);
	*out_ZPlusMirth_2 = v11;
}
static void mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 0LL;
	VTUP(in_ZPlusC99_1)->cells[3] = MKI64(v3);
	*out_ZPlusC99_2 = in_ZPlusC99_1;
}
static int64_t mw_mirth_c99_ZPlusC99_freshZ_natZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_3) {
	int64_t v4 = value_i64(VTUP(in_ZPlusC99_1)->cells[3]);
	int64_t v5 = 1LL;
	int64_t v6 = i64_add(v4, v5);
	VTUP(in_ZPlusC99_1)->cells[3] = MKI64(v6);
	*out_ZPlusC99_3 = in_ZPlusC99_1;
	return v4;
}
static VAL mw_mirth_c99_ZPlusC99_freshZ_nameZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_3) {
	STR* v4;
	STRLIT(v4, "v", 1);
	VAL v5;
	VAL v6 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(MKSTR(v4), in_ZPlusC99_1, &v5);
	*out_ZPlusC99_3 = v5;
	return v6;
}
static VAL mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_3) {
	STR* v4;
	STRLIT(v4, "r", 1);
	VAL v5;
	VAL v6 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(MKSTR(v4), in_ZPlusC99_1, &v5);
	*out_ZPlusC99_3 = v5;
	return v6;
}
static VAL mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang (VAL in_Str_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4) {
	VAL v5;
	int64_t v6 = mw_mirth_c99_ZPlusC99_freshZ_natZBang(in_ZPlusC99_2, &v5);
	STR* v7 = i64_show(v6);
	STR* v8 = str_cat(value_str(in_Str_1), v7);
	*out_ZPlusC99_4 = v5;
	return MKSTR(v8);
}
static void mw_mirth_c99_runZ_outputZ_c99ZBang (VAL in_Arrow_1, VAL in_C99z_Options_2, VAL in_ZPlusMirth_3, VAL *out_ZPlusMirth_4) {
	int64_t v7 = value_i64(VTUP(in_ZPlusMirth_3)->cells[1]);
	int64_t v8 = 0LL;
	bool v9 = (v7 > v8);
	VAL branch_ZPlusMirth_10;
	if (v9) {
		STR* v11;
		STRLIT(v11, "There were errors, so codegen stopped.", 38);
		mw_std_prim_ZPlusWorld_trace(MKSTR(v11));
		mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(in_ZPlusMirth_3);
		decref(in_C99z_Options_2);
		decref(in_Arrow_1);
	} else {
		VAL v13;
		VAL v14 = mw_mirth_c99_c99Z_startZBang(in_Arrow_1, in_C99z_Options_2, in_ZPlusMirth_3, &v13);
		VAL v15;
		mw_mirth_c99_c99Z_headerZBang(v13, &v15);
		VAL v16;
		mw_mirth_c99_c99Z_labelZ_defsZBang(v15, &v16);
		VAL v17;
		mw_mirth_c99_c99Z_tagZ_defsZBang(v16, &v17);
		VAL v18;
		mw_mirth_c99_c99Z_buffersZBang(v17, &v18);
		VAL v19;
		mw_mirth_c99_c99Z_variablesZBang(v18, &v19);
		VAL v20;
		mw_mirth_c99_c99Z_externalZ_blocksZBang(v19, &v20);
		VAL v21;
		mw_mirth_c99_c99Z_wordZ_sigsZBang(v20, &v21);
		VAL v22;
		mw_mirth_c99_c99Z_blockZ_sigsZBang(v21, &v22);
		VAL v23;
		mw_mirth_c99_c99Z_fieldZ_sigsZBang(v22, &v23);
		VAL v24;
		mw_mirth_c99_c99Z_mainZBang(v14, v23, &v24);
		VAL v25;
		mw_mirth_c99_c99Z_fieldZ_defsZBang(v24, &v25);
		VAL v26;
		mw_mirth_c99_c99Z_wordZ_defsZBang(v25, &v26);
		VAL v27;
		mw_mirth_c99_c99Z_blockZ_defsZBang(v26, &v27);
		VAL v28;
		mw_mirth_c99_c99Z_endZBang(v27, &v28);
		branch_ZPlusMirth_10 = v28;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_10;
}
static VAL mw_mirth_data_Tag_wordZ_cname (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_data_Tag_ZTildewordZ_cname(in_Tag_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	VAL branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = v10;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		STR* v11;
		STRLIT(v11, "", 0);
		STR* v12;
		STRLIT(v12, "mtw_", 4);
		VAL v13;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), MKSTR(v11), &v13);
		VAL v14 = mw_mirth_data_Tag_qname(in_Tag_2);
		VAL v15;
		VAL v16 = mw_mirth_name_QName_mangled(in_ZPlusMirth_1, v14, &v15);
		VAL v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(v16, v13, &v17);
		incref(v17);
		mut_set(v17, v5);
		branch_Str_9 = v17;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v15;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static VAL mw_mirth_data_Tag_patZ_cname (VAL in_ZPlusMirth_1, uint64_t in_Tag_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_data_Tag_ZTildepatZ_cname(in_Tag_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Tag_8;
	VAL branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = v10;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		STR* v11;
		STRLIT(v11, "", 0);
		STR* v12;
		STRLIT(v12, "mtp_", 4);
		VAL v13;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), MKSTR(v11), &v13);
		VAL v14 = mw_mirth_data_Tag_qname(in_Tag_2);
		VAL v15;
		VAL v16 = mw_mirth_name_QName_mangled(in_ZPlusMirth_1, v14, &v15);
		VAL v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(v16, v13, &v17);
		incref(v17);
		mut_set(v17, v5);
		branch_Str_9 = v17;
		branch_Tag_8 = in_Tag_2;
		branch_ZPlusMirth_7 = v15;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static VAL mw_mirth_buffer_Buffer_cname (VAL in_ZPlusMirth_1, uint64_t in_Buffer_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_buffer_Buffer_ZTildecname(in_Buffer_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Buffer_8;
	VAL branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = v10;
		branch_Buffer_8 = in_Buffer_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		STR* v11;
		STRLIT(v11, "", 0);
		STR* v12;
		STRLIT(v12, "mbuf_", 5);
		VAL v13;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), MKSTR(v11), &v13);
		VAL v14 = mw_mirth_buffer_Buffer_qname(in_Buffer_2);
		VAL v15;
		VAL v16 = mw_mirth_name_QName_mangled(in_ZPlusMirth_1, v14, &v15);
		VAL v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(v16, v13, &v17);
		incref(v17);
		mut_set(v17, v5);
		branch_Str_9 = v17;
		branch_Buffer_8 = in_Buffer_2;
		branch_ZPlusMirth_7 = v15;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static VAL mw_mirth_variable_Variable_cname (VAL in_ZPlusMirth_1, uint64_t in_Variable_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_variable_Variable_ZTildecname(in_Variable_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Variable_8;
	VAL branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = v10;
		branch_Variable_8 = in_Variable_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		STR* v11;
		STRLIT(v11, "", 0);
		STR* v12;
		STRLIT(v12, "mvar_", 5);
		VAL v13;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v12), MKSTR(v11), &v13);
		VAL v14 = mw_mirth_variable_Variable_qname(in_Variable_2);
		VAL v15;
		VAL v16 = mw_mirth_name_QName_mangled(in_ZPlusMirth_1, v14, &v15);
		VAL v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(v16, v13, &v17);
		incref(v17);
		mut_set(v17, v5);
		branch_Str_9 = v17;
		branch_Variable_8 = in_Variable_2;
		branch_ZPlusMirth_7 = v15;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static VAL mw_mirth_table_Field_cname (VAL in_ZPlusMirth_1, uint64_t in_Field_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_table_Field_ZTildecname(in_Field_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_Field_8;
	VAL branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = v10;
		branch_Field_8 = in_Field_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v11;
		VAL v12 = mw_mirth_table_Field_qnameZ_hard(in_ZPlusMirth_1, in_Field_2, &v11);
		VAL v13;
		VAL v14 = mw_mirth_name_QName_mangled(v11, v12, &v13);
		STR* v15;
		STRLIT(v15, "", 0);
		STR* v16;
		STRLIT(v16, "mfld_", 5);
		VAL v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v16), MKSTR(v15), &v17);
		VAL v18;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v17, &v18);
		incref(v18);
		mut_set(v18, v5);
		branch_Str_9 = v18;
		branch_Field_8 = in_Field_2;
		branch_ZPlusMirth_7 = v13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static VAL mw_mirth_external_External_cname (VAL in_ZPlusMirth_1, uint64_t in_External_2, VAL *out_ZPlusMirth_3) {
	void* v5 = mfld_mirth_external_External_ZTildecname(in_External_2);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusMirth_7;
	uint64_t branch_External_8;
	VAL branch_Str_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_Str_9 = v10;
		branch_External_8 = in_External_2;
		branch_ZPlusMirth_7 = in_ZPlusMirth_1;
	} else {
		VAL v11;
		VAL v12 = mw_mirth_external_External_qnameZ_hard(in_ZPlusMirth_1, in_External_2, &v11);
		VAL v13;
		VAL v14 = mw_mirth_name_QName_mangled(v11, v12, &v13);
		STR* v15;
		STRLIT(v15, "", 0);
		STR* v16;
		STRLIT(v16, "mext_", 5);
		VAL v17;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v16), MKSTR(v15), &v17);
		VAL v18;
		mw_std_str_ZPlusStr_pushZ_strZBang(v14, v17, &v18);
		incref(v18);
		mut_set(v18, v5);
		branch_Str_9 = v18;
		branch_External_8 = in_External_2;
		branch_ZPlusMirth_7 = v13;
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_7;
	return branch_Str_9;
}
static VAL mw_mirth_c99_c99Z_headerZ_str (void) {
	STR* v2;
	STRLIT(v2,
		"/* MIRTH HEADER */\n"
		"// #line 3 \"src/mirth.h\"\n"
		"\n"
		"#if defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__)\n"
		"#define MIRTH_WINDOWS 1\n"
		"#elif defined(__linux__)\n"
		"#define MIRTH_LINUX 1\n"
		"#elif defined(__APPLE__)\n"
		"#define MIRTH_MACOS 1\n"
		"#else\n"
		"#error \"Platform not supported.\"\n"
		"#endif\n"
		"\n"
		"#if defined(__x86_64__) || defined(_M_X64)\n"
		"#define MIRTH_AMD64\n"
		"#elif defined(i386) || defined(__i386__) || defined(__i386) || defined(_M_IX86)\n"
		"#define MIRTH_I386\n"
		"#elif defined(__aarch64__) || defined(_M_ARM64)\n"
		"#define MIRTH_ARM64\n"
		"#else\n"
		"#error \"Architecture not supported.\"\n"
		"#endif\n"
		"\n"
		"#include <stdint.h>\n"
		"#include <stdbool.h>\n"
		"#include <stddef.h>\n"
		"#include <float.h>\n"
		"\n"
		"extern void* malloc(size_t);\n"
		"extern void* calloc(size_t, size_t);\n"
		"extern void* realloc(void*, size_t);\n"
		"extern void* memset(void*, int, size_t);\n"
		"extern void* memcpy(void*, const void*, size_t);\n"
		"extern int memcmp(const void*, const void*, size_t);\n"
		"extern int strcmp(const char*, const char*);\n"
		"extern size_t strlen(const char*);\n"
		"extern void free(void*);\n"
		"extern int read(int, void*, size_t);\n"
		"extern int write(int, const char*, size_t);\n"
		"extern int close(int);\n"
		"extern int open(const char*, int, ...);\n"
		"extern void exit(int);\n"
		"extern int sprintf (char * s, const char * format, ...);\n"
		"\n"
		"typedef uint64_t TAG;\n"
		"#define REFS_FLAG 0x0001\n"
		"\n"
		"typedef uint32_t REFS;\n"
		"typedef uint64_t USIZE;\n"
		"typedef void (*FNPTR)(void);\n"
		"\n"
		"typedef union DATA {\n"
		"\tUSIZE usize;\n"
		"\tuint64_t u64;\n"
		"\tuint32_t u32;\n"
		"\tuint16_t u16;\n"
		"\tuint8_t u8;\n"
		"\tint64_t i64;\n"
		"\tint32_t i32;\n"
		"\tint16_t i16;\n"
		"\tint8_t i8;\n"
		"\tfloat f32;\n"
		"\tdouble f64;\n"
		"\tvoid* ptr;\n"
		"\tFNPTR fnptr;\n"
		"\tREFS* refs;\n"
		"\tstruct STR* str;\n"
		"\tstruct TUP* tup;\n"
		"} DATA;\n"
		"\n"
		"typedef struct VAL {\n"
		"\tDATA data;\n"
		"\tTAG tag;\n"
		"} VAL;\n"
		"\n"
		"typedef struct TYPE {\n"
		"\tconst char* name;\n"
		"\tuint64_t flags;\n"
		"\tvoid (*free)(VAL v);\n"
		"\tvoid (*trace_)(VAL v, int fd);\n"
		"\tvoid (*run)(VAL v);\n"
		"} TYPE;\n"
		"\n"
		"static void default_free   (VAL v);\n"
		"static void default_trace_ (VAL v, int fd);\n"
		"static void default_run    (VAL v);\n"
		"\n"
		"static void int_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_INT = {\n"
		"\t.name = \"Int\",\n"
		"\t.flags = 0,\n"
		"\t.free = default_free,\n"
		"\t.trace_ = int_trace_,\n"
		"\t.run = default_run,\n"
		"};\n"
		"\n"
		"static void fnptr_run (VAL v);\n"
		"static TYPE TYPE_FNPTR = {\n"
		"\t.name = \"FnPtr\",\n"
		"\t.flags = 0,\n"
		"\t.free = default_free,\n"
		"\t.trace_ = default_trace_,\n"
		"\t.run = fnptr_run,\n"
		"};\n"
		"\n"
		"static TYPE TYPE_F64 = {\n"
		"\t.name = \"F64\",\n"
		"\t.flags = 0,\n"
		"\t.free = default_free,\n"
		"\t.trace_ = default_trace_,\n"
		"\t.run = default_run,\n"
		"};\n"
		"\n"
		"static TYPE TYPE_F32 = {\n"
		"\t.name = \"F32\",\n"
		"\t.flags = 0,\n"
		"\t.free = default_free,\n"
		"\t.trace_ = default_trace_,\n"
		"\t.run = default_run,\n"
		"};\n"
		"\n"
		"static void str_free (VAL v);\n"
		"static void str_trace_ (VAL v, int fd);\n"
		"static TYPE TYPE_STR = {\n"
		"\t.name = \"Str\",\n"
		"\t.flags = REFS_FLAG,\n"
		"\t.free = str_free,\n"
		"\t.trace_ = str_trace_,\n"
		"\t.run = default_run,\n"
		"};\n"
		"\n"
		"static void tup_free (VAL v);\n"
		"static void tup_trace_ (VAL v, int fd);\n"
		"static void tup_run (VAL v);\n"
		"static TYPE TYPE_TUP = {\n"
		"\t.name = \"Tup\",\n"
		"\t.flags = REFS_FLAG,\n"
		"\t.free = tup_free,\n"
		"\t.trace_ = tup_trace_,\n"
		"\t.run = tup_run,\n"
		"};\n"
		"\n"
		"#define TAG_INT ((TAG)&TYPE_INT)\n"
		"#define TAG_PTR TAG_INT\n"
		"#define TAG_FNPTR ((TAG)&TYPE_FNPTR)\n"
		"#define TAG_F64 ((TAG)&TYPE_F64)\n"
		"#define TAG_F32 ((TAG)&TYPE_F32)\n"
		"#define TAG_STR (REFS_FLAG | (TAG)&TYPE_STR)\n"
		"#define TAG_TUP (REFS_FLAG | (TAG)&TYPE_TUP)\n"
		"\n"
		"#define VALEQ(v1,v2) (((v1).tag == (v2).tag) && ((v1).data.u64 == (v2).data.u64))\n"
		"\n"
		"#define VTYPE(v)  ((const TYPE*)((v).tag & 0xFFFFFFFFFFFFFFFC))\n"
		"#define VREFS(v)  (*(v).data.refs)\n"
		"\n"
		"#define VINT(v)   ((v).data.i64)\n"
		"#define VI64(v)   ((v).data.i64)\n"
		"#define VI32(v)   ((v).data.i32)\n"
		"#define VI16(v)   ((v).data.i16)\n"
		"#define VI8(v)    ((v).data.i8)\n"
		"#define VU64(v)   ((v).data.u64)\n"
		"#define VU32(v)   ((v).data.u32)\n"
		"#define VU16(v)   ((v).data.u16)\n"
		"#define VU8(v)    ((v).data.u8)\n"
		"#define VBOOL(v)  ((_Bool)((v).data.u64))\n"
		"#define VF32(v)   ((v).data.f32)\n"
		"#define VF64(v)   ((v).data.f64)\n"
		"#define VPTR(v)   ((v).data.ptr)\n"
		"#define VFNPTR(v) ((v).data.fnptr)\n"
		"\n"
		"#define HAS_REFS(v) (((v).tag & REFS_FLAG) && (v).data.refs)\n"
		"#define IS_VAL(v)   (1)\n"
		"#define IS_INT(v)   ((v).tag == TAG_INT)\n"
		"#define IS_I64(v)   ((v).tag == TAG_INT)\n"
		"#define IS_U64(v)   ((v).tag == TAG_INT)\n"
		"#define IS_BOOL(v)  ((v).tag == TAG_INT)\n"
		"#define IS_F32(v)   ((v).tag == TAG_F32)\n"
		"#define IS_F64(v)   ((v).tag == TAG_F64)\n"
		"#define IS_PTR(v)   ((v).tag == TAG_PTR)\n"
		"#define IS_FNPTR(v) ((v).tag == TAG_FNPTR)\n"
		"#define IS_STR(v)   ((v).tag == TAG_STR)\n"
		"#define IS_TUP(v)   ((v).tag == TAG_TUP)\n"
		"#define IS_NIL(v)   (IS_TUP(v) && (VTUPLEN(v) == 0))\n"
		"\n"
		"#define MKVAL(x)   (x)\n"
		"#define MKINT(x)   ((VAL){.tag=TAG_INT, .data={.i64=(x)}})\n"
		"#define MKI64(x)   ((VAL){.tag=TAG_INT, .data={.i64=(x)}})\n"
		"#define MKI32(x)   ((VAL){.tag=TAG_INT, .data={.i64=(x)}})\n"
		"#define MKI16(x)   ((VAL){.tag=TAG_INT, .data={.i64=(x)}})\n"
		"#define MKI8(x)    ((VAL){.tag=TAG_INT, .data={.i64=(x)}})\n"
		"#define MKU64(x)   ((VAL){.tag=TAG_INT, .data={.u64=(x)}})\n"
		"#define MKU32(x)   ((VAL){.tag=TAG_INT, .data={.u64=(x)}})\n"
		"#define MKU16(x)   ((VAL){.tag=TAG_INT, .data={.u64=(x)}})\n"
		"#define MKU8(x)    ((VAL){.tag=TAG_INT, .data={.u64=(x)}})\n"
		"#define MKBOOL(x)  ((VAL){.tag=TAG_INT, .data={.u64=(x)}})\n"
		"#define MKF32(x)   ((VAL){.tag=TAG_F32, .data={.f32=(x)}})\n"
		"#define MKF64(x)   ((VAL){.tag=TAG_F64, .data={.f64=(x)}})\n"
		"#define MKFNPTR(x) ((VAL){.tag=TAG_FNPTR, .data={.fnptr=(x)}})\n"
		"#define MKPTR(x)   ((VAL){.tag=TAG_PTR, .data={.ptr=(x)}})\n"
		"\n"
		"#define VSTR(v)    ((v).data.str)\n"
		"#define MKSTR(x)   ((VAL){.tag=TAG_STR, .data={.str=(x)}})\n"
		"\n"
		"#define VTUP(v)    ((v).data.tup)\n"
		"#define VTUPLEN(v) (tup_len_(VTUP(v)))\n"
		"#define MKTUP(x,n) ((VAL){.tag=TAG_TUP, .data={.tup=(x)}})\n"
		"#define MKNIL      ((VAL){.tag=TAG_TUP, .data={.tup=NULL}})\n"
		"\n"
		"#define TUP_LEN_MAX 0x3FFF\n"
		"\n"
		"#define STRLIT(v,x,n) \\\n"
		"\tdo { \\\n"
		"\t\tstatic STR* mval = 0; \\\n"
		"\t\tif (!mval) mval = str_make(x,n); \\\n"
		"\t\tincref(MKSTR(mval)); \\\n"
		"\t\tv = mval; \\\n"
		"\t} while(0)\n"
		"\n"
		"typedef uint16_t TUPLEN;\n"
		"typedef struct TUP {\n"
		"\tREFS refs;\n"
		"\tTUPLEN cap;\n"
		"\tTUPLEN size;\n"
		"\tVAL cells[];\n"
		"} TUP;\n"
		"\n"
		"typedef struct STR {\n"
		"\tREFS refs;\n"
		"\tUSIZE cap;\n"
		"\tUSIZE size;\n"
		"\tchar data[];\n"
		"} STR;\n"
		"\n"
		"#define STACK_MAX 0x80000\n"
		"static USIZE stack_counter = STACK_MAX;\n"
		"static VAL stack [STACK_MAX] = {0};\n"
		"static USIZE rstack_counter = STACK_MAX;\n"
		"static VAL rstack [STACK_MAX] = {0};\n"
		"\n"
		"static int global_argc;\n"
		"static char** global_argv;\n"
		"\n"
		"static void push_value(VAL v);\n"
		"static void trace_stack(void);\n"
		"static void trace_rstack(void);\n"
		"\n"
		"#if MIRTH_DEBUG\n"
		"\ttypedef struct LOC {\n"
		"\t\tconst char* word;\n"
		"\t\tconst char* path;\n"
		"\t\tUSIZE line, col;\n"
		"\t\tconst char* atom;\n"
		"\t} LOC;\n"
		"\tstatic USIZE fstack_counter = 0;\n"
		"\tstatic LOC fstack [STACK_MAX] = {\n"
		"\t\t{\n"
		"\t\t\t.word=\"<word>\",\n"
		"\t\t\t.path=\"<path>\",\n"
		"\t\t\t.line=0, .col=0,\n"
		"\t\t\t.atom=\"<atom>\"\n"
		"\t\t},\n"
		"\t};\n"
		"\n"
		"\t#define WORD_ENTER(_w,_p,_l,_c) \\\n"
		"\t\tdo { \\\n"
		"\t\t\tfstack[fstack_counter].word = (_w); \\\n"
		"\t\t\tfstack[fstack_counter].path = (_p); \\\n"
		"\t\t\tfstack[fstack_counter].line = (_l); \\\n"
		"\t\t\tfstack[fstack_counter].col = (_c); \\\n"
		"\t\t\tfstack[fstack_counter].atom = \"\"; \\\n"
		"\t\t\tfstack_counter++; \\\n"
		"\t\t} while(0)\n"
		"\n"
		"\t#define WORD_ATOM(_l,_c,_n) \\\n"
		"\t\tdo { \\\n"
		"\t\t\tif (fstack_counter > 0) { \\\n"
		"\t\t\t\tfstack[fstack_counter-1].line = (_l); \\\n"
		"\t\t\t\tfstack[fstack_counter-1].col = (_c); \\\n"
		"\t\t\t\tfstack[fstack_counter-1].atom = (_n); \\\n"
		"\t\t\t} \\\n"
		"\t\t} while(0)\n"
		"\n"
		"\t#define WORD_EXIT \\\n"
		"\t\tdo { \\\n"
		"\t\t\tif (fstack_counter == 0) { \\\n"
		"\t\t\t\tTRACE(\"mismatched WORD_EXIT\\n\"); \\\n"
		"\t\t\t\texit(1); \\\n"
		"\t\t\t} \\\n"
		"\t\t\tfstack_counter--; \\\n"
		"\t\t} while(0)\n"
		"#endif\n"
		"\n"
		"#define TRACE(x) write(2,x,strlen(x))\n"
		"#define _STR(x) #x\n"
		"#define STR(x) _STR(x)\n"
		"\n"
		"#define EXPECT(test,msg) \\\n"
		"\tdo { \\\n"
		"\t\tif (!(test)) { \\\n"
		"\t\t\tTRACE(msg \"\\n\"); \\\n"
		"\t\t\ttrace_stack(); \\\n"
		"\t\t\ttrace_rstack(); \\\n"
		"\t\t\texit(1); \\\n"
		"\t\t} \\\n"
		"\t} while(0)\n"
		"\n"
		"#define EXPECT1(test,msg,v1) \\\n"
		"\tdo { \\\n"
		"\t\tif (!(test)) { \\\n"
		"\t\t\tTRACE(msg \"\\n\"); \\\n"
		"\t\t\tpush_value(v1); \\\n"
		"\t\t\ttrace_stack(); \\\n"
		"\t\t\ttrace_rstack(); \\\n"
		"\t\t\texit(1); \\\n"
		"\t\t} \\\n"
		"\t} while(0)\n"
		"\n"
		"#define EXPECT2(test,msg,v1,v2) \\\n"
		"\tdo { \\\n"
		"\t\tif (!(test)) { \\\n"
		"\t\t\tTRACE(msg \"\\n\"); \\\n"
		"\t\t\tpush_value(v1); \\\n"
		"\t\t\tpush_value(v2); \\\n"
		"\t\t\ttrace_stack(); \\\n"
		"\t\t\ttrace_rstack(); \\\n"
		"\t\t\texit(1); \\\n"
		"\t\t} \\\n"
		"\t} while(0)\n"
		"\n"
		"#define ASSERT(test) \\\n"
		"\tEXPECT(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\")\n"
		"#define ASSERT1(test,v) \\\n"
		"\tEXPECT1(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\", v)\n"
		"#define ASSERT2(test,v1,v2) \\\n"
		"\tEXPECT2(test, __FILE__ \":\" STR(__LINE__) \": error: assertion failed (\" #test \")\", v1, v2)\n"
		"\n"
		"#define incref(v) do { if (HAS_REFS(v)) VREFS(v)++; } while(0)\n"
		"#define decref(v) do { if (HAS_REFS(v)) if (!--VREFS(v)) free_value(v); } while(0)\n"
		"static void free_value(VAL v) {\n"
		"\tASSERT(VTYPE(v));\n"
		"\tASSERT(VTYPE(v)->free);\n"
		"\tASSERT(HAS_REFS(v));\n"
		"\tASSERT(VREFS(v) == 0);\n"
		"\tVTYPE(v)->free(v);\n"
		"}\n"
		"\n"
		"static void default_free (VAL v) {\n"
		"\tTRACE(\"panic! tried to free \");\n"
		"\tTRACE(VTYPE(v)->name);\n"
		"\tTRACE(\" value\\n\");\n"
		"\texit(1);\n"
		"}\n"
		"\n"
		"static void str_free (VAL v) {\n"
		"\tSTR* str = VSTR(v);\n"
		"\tfree(str);\n"
		"}\n"
		"\n"
		"static void tup_free (VAL v) {\n"
		"\tTUP* tup = VTUP(v);\n"
		"\tif (tup) {\n"
		"\t\tfor (TUPLEN i = 0; i < tup->size; i++) {\n"
		"\t\t\tdecref(tup->cells[i]);\n"
		"\t\t}\n"
		"\t\tfree(tup);\n"
		"\t}\n"
		"}\n"
		"\n"
		"static void tup_decref_outer(TUP* tup, size_t n) {\n"
		"\tASSERT(tup);\n"
		"\tASSERT(tup->size == n);\n"
		"\tif (tup->refs == 1) {\n"
		"\t\tfree(tup);\n"
		"\t} else {\n"
		"\t\tfor (size_t i = 0; i < n; i++) {\n"
		"\t\t\tincref(tup->cells[i]);\n"
		"\t\t}\n"
		"\t\tif (!--tup->refs) tup_free(MKTUP(tup,n));\n"
		"\t}\n"
		"}\n"
		"\n"
		"static TUPLEN tup_len_ (TUP* tup) {\n"
		"\tif (tup) {\n"
		"\t\treturn tup->size;\n"
		"\t} else {\n"
		"\t\treturn 0;\n"
		"\t}\n"
		"}\n"
		"\n"
		"static uint64_t value_u64 (VAL v) { ASSERT1(IS_INT(v),v); return VU64(v); }\n"
		"static uint32_t value_u32 (VAL v) { uint64_t x = value_u64(v); ASSERT1(x <= UINT32_MAX, v); return (uint32_t)x; }\n"
		"static uint16_t value_u16 (VAL v) { uint64_t x = value_u64(v); ASSERT1(x <= UINT16_MAX, v); return (uint16_t)x; }\n"
		"static uint8_t value_u8 (VAL v) { uint64_t x = value_u64(v); ASSERT1(x <= UINT8_MAX,  v); return (uint8_t)x; }\n"
		"\n"
		"static int64_t value_i64 (VAL v) { ASSERT1(IS_INT(v),v); return VI64(v); }\n"
		"static int32_t value_i32 (VAL v) { int64_t x = value_i64(v); ASSERT1((INT32_MIN <= x) && (x <= INT32_MAX), v); return (int32_t)x; }\n"
		"static int16_t value_i16 (VAL v) { int64_t x = value_i64(v); ASSERT1((INT16_MIN <= x) && (x <= INT16_MAX), v); return (int16_t)x; }\n"
		"static int8_t value_i8 (VAL v) { int64_t x = value_i64(v); ASSERT1((INT8_MIN <= x) && (x <= INT8_MAX),  v); return (int8_t)x; }\n"
		"\n"
		"static double value_f64 (VAL v) { ASSERT1(IS_F64(v), v); return VF64(v); }\n"
		"static float value_f32 (VAL v) { ASSERT1(IS_F32(v), v); return VF32(v); }\n"
		"\n"
		"static void* value_ptr (VAL v) { ASSERT1(IS_PTR(v),v); return VPTR(v); }\n"
		"static FNPTR value_fnptr (VAL v) { ASSERT1(IS_FNPTR(v),v); return VFNPTR(v); }\n"
		"static STR* value_str (VAL v) { ASSERT1(IS_STR(v),v); return VSTR(v); }\n"
		"static TUP* value_tup (VAL v, TUPLEN n) { ASSERT1(IS_TUP(v) && (VTUPLEN(v) == n), v); return VTUP(v); }\n"
		"\n"
		"static void push_value (VAL x) { ASSERT(stack_counter > 0); stack[--stack_counter] = x; }\n"
		"static void push_resource (VAL x) { ASSERT(rstack_counter > 0); rstack[--rstack_counter] = x; }\n"
		"static VAL pop_value (void) { ASSERT(stack_counter < STACK_MAX); return stack[stack_counter++]; }\n"
		"static VAL pop_resource (void) { ASSERT(rstack_counter < STACK_MAX); return rstack[rstack_counter++]; }\n"
		"\n"
		"// Create a TUP with at least min(cap_hint, TUP_LEN_MAX) capacity.\n"
		"static TUP* tup_new (TUPLEN cap_hint) {\n"
		"\tif (cap_hint < 3) cap_hint = 3;\n"
		"\tif (cap_hint > TUP_LEN_MAX) cap_hint = TUP_LEN_MAX;\n"
		"\tTUP *new_tup = calloc(1, sizeof(TUP) + sizeof(VAL)*(USIZE)cap_hint);\n"
		"\tASSERT(new_tup);\n"
		"\tnew_tup->refs = 1;\n"
		"\tnew_tup->cap = cap_hint;\n"
		"\treturn new_tup;\n"
		"}\n"
		"\n"
		"static TUP* tup_pack1 (VAL v1) {\n"
		"\tTUP* tup = tup_new(1);\n"
		"\tASSERT(tup); ASSERT(tup->cap >= 1);\n"
		"\ttup->size = 1;\n"
		"\ttup->cells[0] = v1;\n"
		"\treturn tup;\n"
		"}\n"
		"static TUP* tup_pack2 (VAL v1, VAL v2) {\n"
		"\tTUP* tup = tup_new(2);\n"
		"\tASSERT(tup); ASSERT(tup->cap >= 2);\n"
		"\ttup->size = 2;\n"
		"\ttup->cells[0] = v1;\n"
		"\ttup->cells[1] = v2;\n"
		"\treturn tup;\n"
		"}\n"
		"static TUP* tup_pack3 (VAL v1, VAL v2, VAL v3) {\n"
		"\tTUP* tup = tup_new(3);\n"
		"\tASSERT(tup); ASSERT(tup->cap >= 3);\n"
		"\ttup->size = 3;\n"
		"\ttup->cells[0] = v1;\n"
		"\ttup->cells[1] = v2;\n"
		"\ttup->cells[2] = v3;\n"
		"\treturn tup;\n"
		"}\n"
		"static TUP* tup_pack4 (VAL v1, VAL v2, VAL v3, VAL v4) {\n"
		"\tTUP* tup = tup_new(4);\n"
		"\tASSERT(tup); ASSERT(tup->cap >= 4);\n"
		"\ttup->size = 4;\n"
		"\ttup->cells[0] = v1;\n"
		"\ttup->cells[1] = v2;\n"
		"\ttup->cells[2] = v3;\n"
		"\ttup->cells[3] = v4;\n"
		"\treturn tup;\n"
		"}\n"
		"static TUP* tup_pack5 (VAL v1, VAL v2, VAL v3, VAL v4, VAL v5) {\n"
		"\tTUP* tup = tup_new(5);\n"
		"\tASSERT(tup); ASSERT(tup->cap >= 5);\n"
		"\ttup->size = 5;\n"
		"\ttup->cells[0] = v1;\n"
		"\ttup->cells[1] = v2;\n"
		"\ttup->cells[2] = v3;\n"
		"\ttup->cells[3] = v4;\n"
		"\ttup->cells[4] = v5;\n"
		"\treturn tup;\n"
		"}\n"
		"\n"
		"static VAL tup_replace (VAL tup, TUPLEN i, VAL v) {\n"
		"\tASSERT(IS_TUP(tup));\n"
		"\tTUPLEN n = VTUPLEN(tup);\n"
		"\tASSERT(i < n);\n"
		"\tif (VTUP(tup)->refs > 1) {\n"
		"\t\tTUP* newtup = tup_new(n);\n"
		"\t\tnewtup->size = n;\n"
		"\t\tmemcpy(newtup->cells, VTUP(tup)->cells, n*sizeof(VAL));\n"
		"\t\tfor (TUPLEN j=0; j<n; j++) incref(newtup->cells[j]);\n"
		"\t\tdecref(tup);\n"
		"\t\ttup = MKTUP(newtup, n);\n"
		"\t}\n"
		"\tVAL u = VTUP(tup)->cells[i];\n"
		"\tVTUP(tup)->cells[i] = v;\n"
		"\tdecref(u);\n"
		"\treturn tup;\n"
		"}\n"
		"\n"
		"typedef struct STACK {\n"
		"\tsize_t cap;\n"
		"\tsize_t len;\n"
		"\tVAL* val;\n"
		"} STACK;\n"
		"\n"
		"static VAL lpop(STACK* stk) {\n"
		"\tASSERT(stk->len > 0);\n"
		"\treturn stk->val[--stk->len];\n"
		"}\n"
		"static void lpush(STACK* stk, VAL val) {\n"
		"\tif (stk->len >= stk->cap) {\n"
		"\t\tstk->cap = stk->cap * 2 + 4;\n"
		"\t\tVAL* newval = realloc(stk->val, stk->cap * sizeof(VAL));\n"
		"\t\tASSERT(newval);\n"
		"\t\tstk->val = newval;\n"
		"\t}\n"
		"\tstk->val[stk->len++] = val;\n"
		"}\n"
		"\n"
		"static STR* str_alloc (USIZE cap) {\n"
		"\tASSERT(cap <= SIZE_MAX - sizeof(STR) - 4);\n"
		"\tSTR* str = calloc(1, (size_t)(cap + sizeof(STR) + 4));\n"
		"\tEXPECT(str, \"failed to allocate string\");\n"
		"\tstr->refs = 1;\n"
		"\tstr->cap = cap;\n"
		"\treturn str;\n"
		"}\n"
		"\n"
		"static STR* str_make (const char* data, USIZE size) {\n"
		"\tASSERT(data);\n"
		"\tASSERT(size <= SIZE_MAX - sizeof(STR) - 4);\n"
		"\tSTR* str = str_alloc(size);\n"
		"\tstr->size = size;\n"
		"\tmemcpy(str->data, data, (size_t)size);\n"
		"\treturn str;\n"
		"}\n"
		"#define mkstr(x,n) MKSTR(str_make((x), (n)))\n"
		"\n"
		"static STR* str_cat (STR* s1, STR* s2) {\n"
		"\tEXPECT(s1 && s2, \"invalid strings in prim-str-cat\");\n"
		"\tUSIZE m = s1->cap;\n"
		"\tUSIZE n1 = s1->size;\n"
		"\tUSIZE n2 = s2->size;\n"
		"\tif ((s1->refs == 1) && (n1 + n2 + 4 <= m)) {\n"
		"\t\tASSERT(n2 <= SIZE_MAX);\n"
		"\t\tmemcpy(s1->data + n1, s2->data, (size_t)n2);\n"
		"\t\ts1->size += n2;\n"
		"\t\tASSERT(s1->size + 4 <= s1->cap);\n"
		"\t\tdecref(MKSTR(s2));\n"
		"\t\treturn s1;\n"
		"\t} else {\n"
		"\t\tUSIZE m2 = n1 + n2 + 4;\n"
		"\t\tif ((s1->refs == 1) && (m2 < m*2)) m2 = m*2;\n"
		"\t\tSTR* str = str_alloc(m2);\n"
		"\t\tstr->size = n1+n2;\n"
		"\t\tASSERT(n1 <= SIZE_MAX);\n"
		"\t\tASSERT(n2 <= SIZE_MAX);\n"
		"\t\tmemcpy(str->data, s1->data, (size_t)n1);\n"
		"\t\tmemcpy(str->data+n1, s2->data, (size_t)n2);\n"
		"\t\tdecref(MKSTR(s1));\n"
		"\t\tdecref(MKSTR(s2));\n"
		"\t\treturn str;\n"
		"\t}\n"
		"}\n"
		"\n"
		"static USIZE get_data_tag(VAL v) {\n"
		"\tif (IS_TUP(v)) {\n"
		"\t\tASSERT(VTUPLEN(v) > 0);\n"
		"\t\treturn VU64(VTUP(v)->cells[0]);\n"
		"\t} else {\n"
		"\t\treturn VU64(v);\n"
		"\t}\n"
		"}\n"
		"\n"
		"static int str_cmp(STR* s1, STR* s2) {\n"
		"\tASSERT(s1 && s2);\n"
		"\tUSIZE n1 = s1->size;\n"
		"\tUSIZE n2 = s2->size;\n"
		"\tUSIZE n = (n1 < n2 ? n1 : n2);\n"
		"\tASSERT(n < SIZE_MAX);\n"
		"\tint r = memcmp(s1->data, s2->data, (size_t)n);\n"
		"\tdecref(MKSTR(s1));\n"
		"\tdecref(MKSTR(s2));\n"
		"\tif (r) return r;\n"
		"\tif (n1 < n2) return -1;\n"
		"\tif (n1 > n2) return 1;\n"
		"\treturn 0;\n"
		"}\n"
		"\n"
		"static void default_run(VAL v) {\n"
		"\tTRACE(\"panic! tried to run \");\n"
		"\tTRACE(VTYPE(v)->name);\n"
		"\tTRACE(\"value\\n\");\n"
		"\texit(1);\n"
		"}\n"
		"\n"
		"static void tup_run(VAL v) {\n"
		"\tASSERT(VTUPLEN(v)>0);\n"
		"\tVAL h = VTUP(v)->cells[0];\n"
		"\tASSERT(IS_FNPTR(h));\n"
		"\tpush_value(v);\n"
		"\tVFNPTR(h)();\n"
		"}\n"
		"\n"
		"static void fnptr_run(VAL v) {\n"
		"\tVFNPTR(v)();\n"
		"}\n"
		"\n"
		"static void run_value(VAL v) {\n"
		"\tASSERT(VTYPE(v));\n"
		"\tASSERT(VTYPE(v)->run);\n"
		"\tVTYPE(v)->run(v);\n"
		"}\n"
		"\n"
		"static int64_t i64_add (int64_t a, int64_t b) {\n"
		"\tEXPECT(((b >= 0) && (a <= INT64_MAX - b))\n"
		"\t\t|| ((b <  0) && (a >= INT64_MIN - b)),\n"
		"\t\t\"overflow during integer addition\");\n"
		"\treturn a + b;\n"
		"}\n"
		"\n"
		"static int64_t i64_sub (int64_t a, int64_t b) {\n"
		"\tEXPECT(((b >= 0) && (a >= INT64_MIN + b))\n"
		"\t\t|| ((b <  0) && (a <= INT64_MAX + b)),\n"
		"\t\t\"overflow during integer subtraction\");\n"
		"\treturn a - b;\n"
		"}\n"
		"\n"
		"static int64_t i64_mul (int64_t a, int64_t b) {\n"
		"\tEXPECT((a == 0) || (b == 0) ||\n"
		"\t\t((a > 0) && (b > 0) && (a <= INT64_MAX/b)) ||\n"
		"\t\t((a > 0) && (b < 0) && (a <= INT64_MIN/b)) ||\n"
		"\t\t((a < 0) && (b > 0) && (a >= INT64_MIN/b)) ||\n"
		"\t\t((a < 0) && (b < 0) && (a >= INT64_MAX/b)),\n"
		"\t\t\"overflow during integer multiplication\"\n"
		"\t);\n"
		"\treturn a * b;\n"
		"}\n"
		"\n"
		"static int64_t i64_div (int64_t a, int64_t b) {\n"
		"\tEXPECT(b != 0, \"divide by zero\");\n"
		"\tEXPECT(!((b == -1) && (a == INT64_MIN)), \"overflow during integer division\");\n"
		"\tint64_t r = a % b;\n"
		"\tint64_t q = a / b;\n"
		"\tif (((a < 0) ^ (b < 0)) && r) q--;\n"
		"\treturn q;\n"
		"}\n"
		"\n"
		"static int64_t i64_mod (int64_t a, int64_t b) {\n"
		"\tEXPECT(b != 0, \"divide by zero\");\n"
		"\tEXPECT(!((b == -1) && (a == INT64_MIN)), \"overflow during integer division\");\n"
		"\tint64_t r = a % b;\n"
		"\tint64_t q = a / b;\n"
		"\tif (((a < 0) ^ (b < 0)) && r) r += b;\n"
		"\treturn r;\n"
		"}\n"
		"\n"
		"static uint64_t u64_shl (uint64_t a, uint64_t b) {\n"
		"\tif (b >= 64) return 0;\n"
		"\treturn (a << b);\n"
		"}\n"
		"\n"
		"static uint64_t u64_shr (uint64_t a, uint64_t b) {\n"
		"\tif (b >= 64) return 0;\n"
		"\treturn (a >> b);\n"
		"}\n"
		"\n"
		"static STR* f32_show (float d) {\n"
		" \tchar result[DBL_DIG+32] = {0};\n"
		"\tint len = sprintf(result, \"%.*g\", DBL_DIG, d);\n"
		"\treturn str_make(result, len);\n"
		"}\n"
		"\n"
		"static STR* f64_show (double d) {\n"
		" \tchar result[DBL_DIG+32] = {0};\n"
		"\tint len = sprintf(result, \"%.*g\", DBL_DIG, d);\n"
		"\treturn str_make(result, len);\n"
		"}\n"
		"\n"
		"void int_repr(int64_t y, char** out_ptr, size_t *out_size) {\n"
		"\tstatic char c[32] = {0};\n"
		"\tmemset(c, 0, 32);\n"
		"\tchar* p = c+30;\n"
		"\tsize_t n = 0;\n"
		"\tuint64_t x;\n"
		"\tif (y < 0) {\n"
		"\t\tif (y == INT64_MIN) {\n"
		"\t\t\tx = 1+(uint64_t)INT64_MAX;\n"
		"\t\t} else {\n"
		"\t\t\tx = (uint64_t)-y;\n"
		"\t\t}\n"
		"\t} else {\n"
		"\t\tx = (uint64_t)y;\n"
		"\t}\n"
		"\tdo {\n"
		"\t\t*--p = '0' + (x % 10);\n"
		"\t\tx /= 10;\n"
		"\t\tn++;\n"
		"\t} while (x);\n"
		"\tif (y < 0) {\n"
		"\t\t*--p = '-';\n"
		"\t\tn++;\n"
		"\t}\n"
		"\t*out_ptr = p;\n"
		"\t*out_size = n;\n"
		"}\n"
		"\n"
		"void int_trace_(VAL v, int fd) {\n"
		"\tchar* p; size_t n;\n"
		"\tint_repr(VINT(v), &p, &n);\n"
		"\twrite(fd, p, n);\n"
		"}\n"
		"\n"
		"STR* i64_show (int64_t x) {\n"
		"\tbool cache = (0 <= x) && (x <= 255);\n"
		"\tstatic STR* scache[256] = {0};\n"
		"\tif (cache && scache[x]) {\n"
		"\t\tSTR* s = scache[x];\n"
		"\t\tincref(MKSTR(s));\n"
		"\t\treturn s;\n"
		"\t} else {\n"
		"\t\tchar* p; size_t n;\n"
		"\t\tint_repr(x,&p,&n);\n"
		"\t\tSTR* s = str_make(p,n);\n"
		"\t\tif (cache) {\n"
		"\t\t\tscache[x] = s;\n"
		"\t\t\tincref(MKSTR(s));\n"
		"\t\t}\n"
		"\t\treturn s;\n"
		"\t}\n"
		"}\n"
		"\n"
		"void str_trace_(VAL v, int fd) {\n"
		"\tSTR* str = VSTR(v);\n"
		"\tASSERT(str->size <= SIZE_MAX);\n"
		"\twrite(fd, \"\\\"\", 1);\n"
		"\tUSIZE i0 = 0;\n"
		"\tchar xb[4]={'\\\\','x'};\n"
		"\tUSIZE i;\n"
		"\tfor (i = 0; i < str->size; i++) {\n"
		"\t\tconst char* c = NULL; size_t n=0;\n"
		"\t\tuint8_t v=str->data[i];\n"
		"\t\tswitch(v) {\n"
		"\t\t\tcase '\\n': c=\"\\\\n\"; n=2; break;\n"
		"\t\t\tcase '\\r': c=\"\\\\r\"; n=2; break;\n"
		"\t\t\tcase '\\t': c=\"\\\\t\"; n=2; break;\n"
		"\t\t\tcase '\\\\': c=\"\\\\\\\\\"; n=2; break;\n"
		"\t\t\tcase '\\\"': c=\"\\\\\\\"\"; n=2; break;\n"
		"\t\t\tdefault:\n"
		"\t\t\t\tif (!((' ' <= v) && (v < 0x7F))) {\n"
		"\t\t\t\t\txb[2] = '0' + (v&15) + ('A'-'9'-1)*((v&15) > 9);\n"
		"\t\t\t\t\txb[3] = '0' + (v/16) + ('A'-'9'-1)*((v/16) > 9);\n"
		"\t\t\t\t\tc=xb; n=4;\n"
		"\t\t\t\t}\n"
		"\t\t}\n"
		"\t\tif ((n > 0) && (i0 < i)) {\n"
		"\t\t\twrite(fd, str->data+i0, (size_t)(i-i0));\n"
		"\t\t\ti0=i+1;\n"
		"\t\t}\n"
		"\t\twrite(fd, c, n);\n"
		"\t}\n"
		"\tif (i0 < i) write(fd, str->data+i0, (size_t)(i-i0));\n"
		"\twrite(fd, \"\\\"\", 1);\n"
		"}\n"
		"\n"
		"static void value_trace_(VAL v, int fd) {\n"
		"\tASSERT(VTYPE(v));\n"
		"\tASSERT(VTYPE(v)->trace_);\n"
		"\tVTYPE(v)->trace_(v,fd);\n"
		"}\n"
		"\n"
		"static void default_trace_(VAL v, int fd) {\n"
		"\tconst char* name = VTYPE(v)->name;\n"
		"\twrite(fd, \"<\", 1);\n"
		"\twrite(fd, name, strlen(name));\n"
		"\twrite(fd, \">\", 1);\n"
		"}\n"
		"\n"
		"static void tup_trace_(VAL v, int fd) {\n"
		"\tTUPLEN len = VTUPLEN(v);\n"
		"\tTUP* tup = VTUP(v);\n"
		"\tif (len == 0) {\n"
		"\t\twrite(fd, \"[]\", 2);\n"
		"\t} else {\n"
		"\t\twrite(fd, \"[ \", 2);\n"
		"\t\tfor(TUPLEN i = 0; i < len; i++) {\n"
		"\t\t\tif (i > 0) write(fd, \" \", 1);\n"
		"\t\t\tvalue_trace_(tup->cells[i], fd);\n"
		"\t\t}\n"
		"\t\twrite(fd, \" ]\", 2);\n"
		"\t}\n"
		"}\n"
		"\n"
		"static void trace_stack (void) {\n"
		"\tTRACE(\"??\");\n"
		"\tfor (long i = STACK_MAX-1; i >= (long)stack_counter; i--) {\n"
		"\t\tTRACE(\" \");\n"
		"\t\tvalue_trace_(stack[i], 2);\n"
		"\t}\n"
		"\tTRACE(\"\\n\");\n"
		"}\n"
		"\n"
		"static void trace_rstack (void) {\n"
		"\t#if MIRTH_DEBUG\n"
		"\t\tTRACE(\"call stack:\\n\");\n"
		"\t\tfor (USIZE i = fstack_counter; i --> 1;) {\n"
		"\t\t\tTRACE(\"    \");\n"
		"\t\t\tif (fstack[i-1].atom && *fstack[i-1].atom && strcmp(fstack[i-1].atom, fstack[i].word)) {\n"
		"\t\t\t\tTRACE(fstack[i-1].atom);\n"
		"\t\t\t\tTRACE(\" -> \");\n"
		"\t\t\t}\n"
		"\t\t\tTRACE(fstack[i].word);\n"
		"\t\t\tTRACE(\" at \");\n"
		"\t\t\tTRACE(fstack[i-1].path);\n"
		"\t\t\tTRACE(\":\");\n"
		"\t\t\tint_trace_(MKI64(fstack[i-1].line), 2);\n"
		"\t\t\tTRACE(\":\");\n"
		"\t\t\tint_trace_(MKI64(fstack[i-1].col), 2);\n"
		"\t\t\tTRACE(\"\\n\");\n"
		"\t\t}\n"
		"\t#endif\n"
		"}\n"
		"\n"
		"static void do_panic(STR* m) {\n"
		"\tif (m) {\n"
		"\t\tsize_t n = (m->size < SIZE_MAX) ? (size_t)(m->size) : SIZE_MAX;\n"
		"\t\twrite(2, m->data, n);\n"
		"\t\tTRACE(\"\\n\");\n"
		"\t} else {\n"
		"\t\tTRACE(\"panic!\\n\");\n"
		"\t}\n"
		"\ttrace_stack();\n"
		"\ttrace_rstack();\n"
		"\texit(1);\n"
		"}\n"
		"\n"
		"#if defined(MIRTH_WINDOWS)\n"
		"#define RUNNING_OS 1\n"
		"#elif defined(MIRTH_LINUX)\n"
		"#define RUNNING_OS 2\n"
		"#elif defined(MIRTH_MACOS)\n"
		"#define RUNNING_OS 3\n"
		"#else\n"
		"#define RUNNING_OS 0\n"
		"#endif\n"
		"\n"
		"#if defined(MIRTH_I386)\n"
		"#define RUNNING_ARCH 1\n"
		"#elif defined(MIRTH_AMD64)\n"
		"#define RUNNING_ARCH 2\n"
		"#elif defined(MIRTH_ARM64)\n"
		"#define RUNNING_ARCH 3\n"
		"#else\n"
		"#define RUNNING_ARCH 0\n"
		"#endif\n"
		"\n"
		"static void* ptr_alloc (uint64_t n) {\n"
		"\tEXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), \"invalid size in prim-ptr-alloc\");\n"
		"\tvoid* p = malloc((size_t)n);\n"
		"\tEXPECT(p, \"failed to allocate in prim-ptr-alloc\");\n"
		"\treturn p;\n"
		"}\n"
		"\n"
		"static void* ptr_realloc (void* p, uint64_t n) {\n"
		"\tEXPECT((n > 0) && ((uint64_t)n <= SIZE_MAX), \"invalid size in prim-ptr-realloc\");\n"
		"\tvoid* p2 = realloc(p, (size_t)n);\n"
		"\tEXPECT(p2, \"failed to reallocate in prim-ptr-realloc\");\n"
		"\treturn p2;\n"
		"}\n"
		"\n"
		"static void ptr_copy (void* src, uint64_t len, void* dst) {\n"
		"\tif (len > 0) {\n"
		"\t\tEXPECT(len <= SIZE_MAX, \"invalid size in prim-ptr-copy\");\n"
		"\t\tEXPECT(src && dst, \"invalid pointer in prim-ptr-copy\");\n"
		"\t\tmemcpy(dst, src, (size_t)len);\n"
		"\t}\n"
		"}\n"
		"\n"
		"static void ptr_fill (uint8_t val, uint64_t len, void* dst) {\n"
		"\tif (len > 0) {\n"
		"\t\tEXPECT(len <= SIZE_MAX, \"invalid size in prim-ptr-fill\");\n"
		"\t\tEXPECT(dst, \"invalid pointer in prim-ptr-fill\");\n"
		"\t\tmemset(dst, (int)val, (size_t)len);\n"
		"\t}\n"
		"}\n"
		"\n"
		"static void* str_base (STR* s) {\n"
		"\tEXPECT(s && (s->refs > 1), \"invalid string for prim-str-base\");\n"
		"\ts->refs--;\n"
		"\treturn s->data;\n"
		"}\n"
		"\n"
		"static uint64_t str_size (STR* s) {\n"
		"\tEXPECT(s, \"invalid string for prim-str-size\");\n"
		"\tuint64_t n = s->size;\n"
		"\tdecref(MKSTR(s));\n"
		"\treturn n;\n"
		"}\n"
		"\n"
		"static VAL mut_get (void* mut) {\n"
		"\tEXPECT(mut, \"invalid pointer in prim-mut-get\");\n"
		"\tVAL v = *(VAL*)mut;\n"
		"\tEXPECT(v.tag, \"tried to read uninitialized value\");\n"
		"\tincref(v);\n"
		"\treturn v;\n"
		"}\n"
		"\n"
		"static void mut_set (VAL newval, void* mut) {\n"
		"\tEXPECT(mut, \"invalid pointer in prim-mut-set\");\n"
		"\tVAL oldval = *(VAL*)mut;\n"
		"\t*(VAL*)mut = newval;\n"
		"\tif (oldval.tag) {\n"
		"\t\tdecref(oldval);\n"
		"\t}\n"
		"}\n"
		"\n"
		"static bool mut_is_set (void* mut) {\n"
		"\tEXPECT(mut, \"invalid pointer in prim-mut-is-set\");\n"
		"\tVAL val = *(VAL*)mut;\n"
		"\treturn (val.tag != 0);\n"
		"}\n"
		"\n"
		"/* GENERATED C99 */\n",
		22039
	);
	return MKSTR(v2);
}
static void mw_mirth_c99_c99Z_headerZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	STR* v3;
	STRLIT(v3, "#define MIRTH_DEBUG ", 20);
	VAL v4;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v3), in_ZPlusC99_1, &v4);
	VAL v5 = VTUP(v4)->cells[1];
	incref(v5);
	int64_t v6 = value_i64(VTUP(v5)->cells[2]);
	decref(v5);
	VAL branch_ZPlusC99_7;
	VAL branch__8;
	if (((bool)v6)) {
		STR* v9;
		STRLIT(v9, "1", 1);
		branch__8 = MKSTR(v9);
		branch_ZPlusC99_7 = v4;
	} else {
		STR* v10;
		STRLIT(v10, "0", 1);
		branch__8 = MKSTR(v10);
		branch_ZPlusC99_7 = v4;
	}
	VAL v11;
	mw_mirth_c99_ZPlusC99_put(branch__8, branch_ZPlusC99_7, &v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_line(v11, &v12);
	VAL v13 = mw_mirth_c99_c99Z_headerZ_str();
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(v13, v12, &v14);
	VAL v15;
	mw_mirth_c99_ZPlusC99_line(v14, &v15);
	*out_ZPlusC99_2 = v15;
}
static void mw_mirth_c99_c99Z_buffersZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_buffer_Buffer_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12;
		mw_mirth_c99_c99Z_bufferZBang(((uint64_t)v11), v10, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = i64_add(v11, v13);
		void* v15 = mbuf_mirth_buffer_Buffer_NUM;
		int64_t v16 = *(int64_t*)v15;
		bool v17 = (v14 <= v16);
		v9 = v17;
		v8 = v14;
		v7 = v12;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_bufferZBang (uint64_t in_Buffer_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	STR* v4;
	STRLIT(v4, "static char ", 12);
	VAL v5;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v4), in_ZPlusC99_2, &v5);
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_buffer_Buffer_cname(v6, in_Buffer_1, &v7);
	VTUP(v5)->cells[7] = v7;
	VAL v9;
	mw_mirth_c99_ZPlusC99_put(v8, v5, &v9);
	STR* v10;
	STRLIT(v10, "[", 1);
	VAL v11;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v10), v9, &v11);
	int64_t v12 = mw_mirth_buffer_Buffer_sizze(in_Buffer_1);
	STR* v13 = i64_show(v12);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v13), v11, &v14);
	STR* v15;
	STRLIT(v15, "] = {0};", 8);
	VAL v16;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v15), v14, &v16);
	VAL v17;
	mw_mirth_c99_ZPlusC99_line(v16, &v17);
	*out_ZPlusC99_3 = v17;
}
static void mw_mirth_c99_c99Z_bufferZ_callZBang (uint64_t in_Buffer_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = MKI64(15LL /* C99RT_PTR */);
	incref(v4);
	int64_t v5 = get_data_tag(v4);
	decref(v4);
	int64_t v6 = 0LL;
	bool v7 = (v5 != v6);
	uint64_t branch_Buffer_8;
	VAL branch_C99ReprType_9;
	int64_t branch_Bool_10;
	VAL branch_Str_11;
	VAL branch_ZPlusC99Branch_12;
	if (v7) {
		VAL v13 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		VAL v14;
		VAL v15 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v13, &v14);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v14;
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = v15;
		branch_Bool_10 = ((int64_t)v7);
		branch_C99ReprType_9 = v4;
		branch_Buffer_8 = in_Buffer_1;
	} else {
		STR* v16;
		STRLIT(v16, "0", 1);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = MKSTR(v16);
		branch_Bool_10 = ((int64_t)v7);
		branch_C99ReprType_9 = v4;
		branch_Buffer_8 = in_Buffer_1;
	}
	int64_t v17 = value_i64(VTUP(branch_ZPlusC99Branch_12)->cells[4]);
	bool v18 = (((bool)branch_Bool_10) && ((bool)v17));
	VAL v19 = VTUP(branch_ZPlusC99Branch_12)->cells[1];
	int64_t v20 = value_i64(VTUP(v19)->cells[4]);
	bool v21 = (v18 && ((bool)v20));
	VTUP(v19)->cells[4] = MKBOOL(v21);
	VAL v22;
	mw_mirth_c99_ZPlusC99_indent(v19, &v22);
	incref(branch_C99ReprType_9);
	VAL v23 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_9);
	VAL v24;
	mw_mirth_c99_ZPlusC99_put(v23, v22, &v24);
	STR* v25;
	STRLIT(v25, " ", 1);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
	incref(branch_Str_11);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(branch_Str_11, v26, &v27);
	STR* v28;
	STRLIT(v28, " = ", 3);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
	VAL v30;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_9, branch_Str_11, &v30);
	VAL v31 = VTUP(v29)->cells[7];
	VAL v32;
	VAL v33 = mw_mirth_buffer_Buffer_cname(v31, branch_Buffer_8, &v32);
	VTUP(v29)->cells[7] = v32;
	VAL v34;
	mw_mirth_c99_ZPlusC99_put(v33, v29, &v34);
	STR* v35;
	STRLIT(v35, ";", 1);
	VAL v36;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v35), v34, &v36);
	VAL v37;
	mw_mirth_c99_ZPlusC99_line(v36, &v37);
	VTUP(v37)->cells[4] = MKI64(v20);
	VTUP(branch_ZPlusC99Branch_12)->cells[1] = v37;
	VAL v38;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_12, v30, &v38);
	*out_ZPlusC99Branch_3 = v38;
}
static void mw_mirth_c99_c99Z_variablesZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_variable_Variable_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12;
		mw_mirth_c99_c99Z_variableZBang(((uint64_t)v11), v10, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = i64_add(v11, v13);
		void* v15 = mbuf_mirth_variable_Variable_NUM;
		int64_t v16 = *(int64_t*)v15;
		bool v17 = (v14 <= v16);
		v9 = v17;
		v8 = v14;
		v7 = v12;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_variableZBang (uint64_t in_Variable_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	STR* v4;
	STRLIT(v4, "static VAL ", 11);
	VAL v5;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v4), in_ZPlusC99_2, &v5);
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_variable_Variable_cname(v6, in_Variable_1, &v7);
	VTUP(v5)->cells[7] = v7;
	VAL v9;
	mw_mirth_c99_ZPlusC99_put(v8, v5, &v9);
	STR* v10;
	STRLIT(v10, " = {0};", 7);
	VAL v11;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v10), v9, &v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_line(v11, &v12);
	*out_ZPlusC99_3 = v12;
}
static void mw_mirth_c99_c99Z_variableZ_callZBang (uint64_t in_Variable_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = MKI64(15LL /* C99RT_PTR */);
	incref(v4);
	int64_t v5 = get_data_tag(v4);
	decref(v4);
	int64_t v6 = 0LL;
	bool v7 = (v5 != v6);
	uint64_t branch_Variable_8;
	VAL branch_C99ReprType_9;
	int64_t branch_Bool_10;
	VAL branch_Str_11;
	VAL branch_ZPlusC99Branch_12;
	if (v7) {
		VAL v13 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		VAL v14;
		VAL v15 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v13, &v14);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v14;
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = v15;
		branch_Bool_10 = ((int64_t)v7);
		branch_C99ReprType_9 = v4;
		branch_Variable_8 = in_Variable_1;
	} else {
		STR* v16;
		STRLIT(v16, "0", 1);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = MKSTR(v16);
		branch_Bool_10 = ((int64_t)v7);
		branch_C99ReprType_9 = v4;
		branch_Variable_8 = in_Variable_1;
	}
	int64_t v17 = value_i64(VTUP(branch_ZPlusC99Branch_12)->cells[4]);
	bool v18 = (((bool)branch_Bool_10) && ((bool)v17));
	VAL v19 = VTUP(branch_ZPlusC99Branch_12)->cells[1];
	int64_t v20 = value_i64(VTUP(v19)->cells[4]);
	bool v21 = (v18 && ((bool)v20));
	VTUP(v19)->cells[4] = MKBOOL(v21);
	VAL v22;
	mw_mirth_c99_ZPlusC99_indent(v19, &v22);
	incref(branch_C99ReprType_9);
	VAL v23 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_9);
	VAL v24;
	mw_mirth_c99_ZPlusC99_put(v23, v22, &v24);
	STR* v25;
	STRLIT(v25, " ", 1);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
	incref(branch_Str_11);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(branch_Str_11, v26, &v27);
	STR* v28;
	STRLIT(v28, " = ", 3);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
	VAL v30;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_9, branch_Str_11, &v30);
	STR* v31;
	STRLIT(v31, "&", 1);
	VAL v32;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v31), v29, &v32);
	VAL v33 = VTUP(v32)->cells[7];
	VAL v34;
	VAL v35 = mw_mirth_variable_Variable_cname(v33, branch_Variable_8, &v34);
	VTUP(v32)->cells[7] = v34;
	VAL v36;
	mw_mirth_c99_ZPlusC99_put(v35, v32, &v36);
	STR* v37;
	STRLIT(v37, ";", 1);
	VAL v38;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v37), v36, &v38);
	VAL v39;
	mw_mirth_c99_ZPlusC99_line(v38, &v39);
	VTUP(v39)->cells[4] = MKI64(v20);
	VTUP(branch_ZPlusC99Branch_12)->cells[1] = v39;
	VAL v40;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_12, v30, &v40);
	*out_ZPlusC99Branch_3 = v40;
}
static void mw_mirth_c99_c99Z_tagZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_data_Tag_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12;
		mw_mirth_c99_c99Z_tagZ_defZBang(((uint64_t)v11), v10, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = i64_add(v11, v13);
		void* v15 = mbuf_mirth_data_Tag_NUM;
		int64_t v16 = *(int64_t*)v15;
		bool v17 = (v14 <= v16);
		v9 = v17;
		v8 = v14;
		v7 = v12;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_tagZ_defZBang (uint64_t in_Tag_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4 = VTUP(in_ZPlusC99_2)->cells[7];
	VAL v5;
	int64_t v6 = mw_mirth_data_Tag_preferZ_inlineZAsk(v4, in_Tag_1, &v5);
	VTUP(in_ZPlusC99_2)->cells[7] = v5;
	VAL branch_ZPlusC99_7;
	uint64_t branch_Tag_8;
	if (((bool)v6)) {
		branch_Tag_8 = in_Tag_1;
		branch_ZPlusC99_7 = in_ZPlusC99_2;
	} else {
		VAL v9 = VTUP(in_ZPlusC99_2)->cells[5];
		VAL v10;
		int64_t v11 = mw_mirth_data_Tag_wordZ_neededZAsk(in_Tag_1, v9, &v10);
		VTUP(in_ZPlusC99_2)->cells[5] = v10;
		uint64_t branch_Tag_12;
		VAL branch_ZPlusC99_13;
		if (((bool)v11)) {
			VAL v14;
			VAL v15 = mw_mirth_data_Tag_wordZ_c99Z_api(in_Tag_1, in_ZPlusC99_2, &v14);
			VAL v16;
			VAL v17 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp88(v15, v14, &v16);
			int64_t v18 = value_i64(VTUP(v16)->cells[2]);
			int64_t v19 = 1LL;
			int64_t v20 = i64_add(v18, v19);
			VTUP(v16)->cells[2] = MKI64(v20);
			incref(v17);
			VAL v21;
			mw_mirth_c99_c99Z_apiZ_enterZBang(v17, v16, &v21);
			VAL v22;
			mw_mirth_c99_c99Z_tagZ_bodyZBang(in_Tag_1, v21, &v22);
			VAL v23;
			mw_mirth_c99_c99Z_apiZ_exitZBang(v17, v22, &v23);
			int64_t v24 = value_i64(VTUP(v23)->cells[2]);
			int64_t v25 = 1LL;
			int64_t v26 = i64_sub(v24, v25);
			int64_t v27 = 0LL;
			bool v28 = (v26 < v27);
			int64_t branch_Nat_29;
			if (v28) {
				int64_t v30 = 0LL;
				branch_Nat_29 = v30;
			} else {
				branch_Nat_29 = v26;
			}
			VTUP(v23)->cells[2] = MKI64(branch_Nat_29);
			VAL v31;
			mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v23, &v31);
			branch_ZPlusC99_13 = v31;
			branch_Tag_12 = in_Tag_1;
		} else {
			branch_ZPlusC99_13 = in_ZPlusC99_2;
			branch_Tag_12 = in_Tag_1;
		}
		VAL v32 = VTUP(branch_ZPlusC99_13)->cells[5];
		VAL v33;
		int64_t v34 = mw_mirth_data_Tag_patZ_neededZAsk(branch_Tag_12, v32, &v33);
		VTUP(branch_ZPlusC99_13)->cells[5] = v33;
		uint64_t branch_Tag_35;
		VAL branch_ZPlusC99_36;
		if (((bool)v34)) {
			VAL v37;
			VAL v38 = mw_mirth_data_Tag_patZ_c99Z_api(branch_Tag_12, branch_ZPlusC99_13, &v37);
			VAL v39;
			VAL v40 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp88(v38, v37, &v39);
			int64_t v41 = value_i64(VTUP(v39)->cells[2]);
			int64_t v42 = 1LL;
			int64_t v43 = i64_add(v41, v42);
			VTUP(v39)->cells[2] = MKI64(v43);
			incref(v40);
			VAL v44;
			mw_mirth_c99_c99Z_apiZ_enterZBang(v40, v39, &v44);
			VAL v45;
			mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang(branch_Tag_12, v44, &v45);
			VAL v46;
			mw_mirth_c99_c99Z_apiZ_exitZBang(v40, v45, &v46);
			int64_t v47 = value_i64(VTUP(v46)->cells[2]);
			int64_t v48 = 1LL;
			int64_t v49 = i64_sub(v47, v48);
			int64_t v50 = 0LL;
			bool v51 = (v49 < v50);
			int64_t branch_Nat_52;
			if (v51) {
				int64_t v53 = 0LL;
				branch_Nat_52 = v53;
			} else {
				branch_Nat_52 = v49;
			}
			VTUP(v46)->cells[2] = MKI64(branch_Nat_52);
			VAL v54;
			mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v46, &v54);
			branch_ZPlusC99_36 = v54;
			branch_Tag_35 = branch_Tag_12;
		} else {
			branch_ZPlusC99_36 = branch_ZPlusC99_13;
			branch_Tag_35 = branch_Tag_12;
		}
		branch_Tag_8 = branch_Tag_35;
		branch_ZPlusC99_7 = branch_ZPlusC99_36;
	}
	*out_ZPlusC99_3 = branch_ZPlusC99_7;
}
static void mw_mirth_c99_c99Z_tagZ_bodyZBang (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	VAL v5 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp4(in_Tag_1, in_ZPlusC99Branch_2, &v4);
	uint64_t branch_Tag_6;
	VAL branch_ZPlusC99Branch_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			VAL v9 = VTUP(v8)->cells[2];
			incref(v9);
			decref(v8);
			uint64_t branch_Tag_10;
			VAL branch_ZPlusC99Branch_11;
			switch (get_data_tag(v9)) {
				case 1LL: { // STPConsLabel
					uint64_t v12;
					VAL v13 = mtp_mirth_type_StackTypePart_STPConsLabel(v9, &v12);
					VAL v14;
					VAL v15 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v13, v4, &v14);
					VAL v16;
					VAL v17;
					mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v15, v12, v14, &v16, &v17);
					int64_t v18 = mw_mirth_data_Tag_outputsZ_resourceZAsk(in_Tag_1);
					uint64_t branch_Tag_19;
					VAL branch_ZPlusC99Branch_20;
					if (((bool)v18)) {
						VAL v21;
						mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v17, &v21);
						VAL v22;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v16, v21, &v22);
						branch_ZPlusC99Branch_20 = v22;
						branch_Tag_19 = in_Tag_1;
					} else {
						VAL v23;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v16, v17, &v23);
						branch_ZPlusC99Branch_20 = v23;
						branch_Tag_19 = in_Tag_1;
					}
					branch_ZPlusC99Branch_11 = branch_ZPlusC99Branch_20;
					branch_Tag_10 = branch_Tag_19;
				} break;
				case 3LL: { // STPWithLabel
					uint64_t v24;
					VAL v25 = mtp_mirth_type_StackTypePart_STPWithLabel(v9, &v24);
					VAL v26;
					VAL v27 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v25, v4, &v26);
					VAL v28;
					VAL v29;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v27, v24, v26, &v28, &v29);
					VAL v30;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v28, v29, &v30);
					branch_ZPlusC99Branch_11 = v30;
					branch_Tag_10 = in_Tag_1;
				} break;
				case 0LL: { // STPCons
					VAL v31 = mtp_mirth_type_StackTypePart_STPCons(v9);
					VAL v32;
					VAL v33 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v31, v4, &v32);
					VAL v34;
					VAL v35;
					mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v32, v33, &v34, &v35);
					int64_t v36 = mw_mirth_data_Tag_outputsZ_resourceZAsk(in_Tag_1);
					uint64_t branch_Tag_37;
					VAL branch_ZPlusC99Branch_38;
					if (((bool)v36)) {
						VAL v39;
						mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v35, &v39);
						VAL v40;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v34, v39, &v40);
						branch_ZPlusC99Branch_38 = v40;
						branch_Tag_37 = in_Tag_1;
					} else {
						VAL v41;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v34, v35, &v41);
						branch_ZPlusC99Branch_38 = v41;
						branch_Tag_37 = in_Tag_1;
					}
					branch_ZPlusC99Branch_11 = branch_ZPlusC99Branch_38;
					branch_Tag_10 = branch_Tag_37;
				} break;
				case 2LL: { // STPWith
					VAL v42 = mtp_mirth_type_StackTypePart_STPWith(v9);
					VAL v43;
					VAL v44 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v42, v4, &v43);
					VAL v45;
					VAL v46;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v43, v44, &v45, &v46);
					VAL v47;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v45, v46, &v47);
					branch_ZPlusC99Branch_11 = v47;
					branch_Tag_10 = in_Tag_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusC99Branch_7 = branch_ZPlusC99Branch_11;
			branch_Tag_6 = branch_Tag_10;
		} break;
		case 0LL: { // None
			int64_t v48 = mw_mirth_data_Tag_numZ_totalZ_inputs(in_Tag_1);
			int64_t v49 = 0LL;
			bool v50 = (v48 == v49);
			uint64_t branch_Tag_51;
			VAL branch_ZPlusC99Branch_52;
			if (v50) {
				uint64_t v53 = mw_mirth_data_Tag_data(in_Tag_1);
				int64_t v54 = mw_mirth_data_Data_isZ_enumZ_orZ_unitZAsk(v53);
				VAL branch_ZPlusC99Branch_55;
				uint64_t branch_Tag_56;
				VAL branch_C99ReprType_57;
				VAL branch_Str_58;
				VAL branch_Str_59;
				if (((bool)v54)) {
					VAL v60 = MKI64(4LL /* C99RT_I64 */);
					STR* v61;
					STRLIT(v61, "", 0);
					STR* v62;
					STRLIT(v62, "", 0);
					branch_Str_59 = MKSTR(v62);
					branch_Str_58 = MKSTR(v61);
					branch_C99ReprType_57 = v60;
					branch_Tag_56 = in_Tag_1;
					branch_ZPlusC99Branch_55 = v4;
				} else {
					VAL v63 = MKI64(1LL /* C99RT_VAL */);
					STR* v64;
					STRLIT(v64, "MKI64(", 6);
					STR* v65;
					STRLIT(v65, ")", 1);
					branch_Str_59 = MKSTR(v65);
					branch_Str_58 = MKSTR(v64);
					branch_C99ReprType_57 = v63;
					branch_Tag_56 = in_Tag_1;
					branch_ZPlusC99Branch_55 = v4;
				}
				int64_t v66 = mw_mirth_data_Tag_outputsZ_resourceZAsk(branch_Tag_56);
				uint64_t branch_Tag_67;
				VAL branch_ZPlusC99Branch_68;
				if (((bool)v66)) {
					incref(branch_C99ReprType_57);
					int64_t v69 = get_data_tag(branch_C99ReprType_57);
					decref(branch_C99ReprType_57);
					int64_t v70 = 0LL;
					bool v71 = (v69 != v70);
					VAL branch_Str_72;
					uint64_t branch_Tag_73;
					VAL branch_Str_74;
					VAL branch_C99ReprType_75;
					int64_t branch_Bool_76;
					VAL branch_Str_77;
					VAL branch_ZPlusC99Branch_78;
					if (v71) {
						VAL v79 = VTUP(branch_ZPlusC99Branch_55)->cells[1];
						VAL v80;
						VAL v81 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v79, &v80);
						VTUP(branch_ZPlusC99Branch_55)->cells[1] = v80;
						branch_ZPlusC99Branch_78 = branch_ZPlusC99Branch_55;
						branch_Str_77 = v81;
						branch_Bool_76 = ((int64_t)v71);
						branch_C99ReprType_75 = branch_C99ReprType_57;
						branch_Str_74 = branch_Str_58;
						branch_Tag_73 = branch_Tag_56;
						branch_Str_72 = branch_Str_59;
					} else {
						STR* v82;
						STRLIT(v82, "0", 1);
						branch_ZPlusC99Branch_78 = branch_ZPlusC99Branch_55;
						branch_Str_77 = MKSTR(v82);
						branch_Bool_76 = ((int64_t)v71);
						branch_C99ReprType_75 = branch_C99ReprType_57;
						branch_Str_74 = branch_Str_58;
						branch_Tag_73 = branch_Tag_56;
						branch_Str_72 = branch_Str_59;
					}
					int64_t v83 = value_i64(VTUP(branch_ZPlusC99Branch_78)->cells[4]);
					bool v84 = (((bool)branch_Bool_76) && ((bool)v83));
					VAL v85 = VTUP(branch_ZPlusC99Branch_78)->cells[1];
					int64_t v86 = value_i64(VTUP(v85)->cells[4]);
					bool v87 = (v84 && ((bool)v86));
					VTUP(v85)->cells[4] = MKBOOL(v87);
					VAL v88;
					mw_mirth_c99_ZPlusC99_indent(v85, &v88);
					incref(branch_C99ReprType_75);
					VAL v89 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_75);
					VAL v90;
					mw_mirth_c99_ZPlusC99_put(v89, v88, &v90);
					STR* v91;
					STRLIT(v91, " ", 1);
					VAL v92;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v91), v90, &v92);
					incref(branch_Str_77);
					VAL v93;
					mw_mirth_c99_ZPlusC99_put(branch_Str_77, v92, &v93);
					STR* v94;
					STRLIT(v94, " = ", 3);
					VAL v95;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v94), v93, &v95);
					VAL v96;
					mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_75, branch_Str_77, &v96);
					VAL v97;
					mw_mirth_c99_ZPlusC99_put(branch_Str_74, v95, &v97);
					VAL v98 = mw_mirth_data_Tag_valueZ_show(branch_Tag_73);
					VAL v99;
					mw_mirth_c99_ZPlusC99_put(v98, v97, &v99);
					STR* v100;
					STRLIT(v100, "LL /* ", 6);
					VAL v101;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v100), v99, &v101);
					uint64_t v102 = mw_mirth_data_Tag_name(branch_Tag_73);
					VAL v103 = mw_mirth_name_Name_ZToStr(v102);
					VAL v104;
					mw_mirth_c99_ZPlusC99_put(v103, v101, &v104);
					STR* v105;
					STRLIT(v105, " */", 3);
					VAL v106;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v105), v104, &v106);
					VAL v107;
					mw_mirth_c99_ZPlusC99_put(branch_Str_72, v106, &v107);
					STR* v108;
					STRLIT(v108, ";", 1);
					VAL v109;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v108), v107, &v109);
					VAL v110;
					mw_mirth_c99_ZPlusC99_line(v109, &v110);
					VTUP(v110)->cells[4] = MKI64(v86);
					VTUP(branch_ZPlusC99Branch_78)->cells[1] = v110;
					VAL v111;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_78, v96, &v111);
					branch_ZPlusC99Branch_68 = v111;
					branch_Tag_67 = branch_Tag_73;
				} else {
					incref(branch_C99ReprType_57);
					int64_t v112 = get_data_tag(branch_C99ReprType_57);
					decref(branch_C99ReprType_57);
					int64_t v113 = 0LL;
					bool v114 = (v112 != v113);
					VAL branch_Str_115;
					uint64_t branch_Tag_116;
					VAL branch_Str_117;
					VAL branch_C99ReprType_118;
					int64_t branch_Bool_119;
					VAL branch_Str_120;
					VAL branch_ZPlusC99Branch_121;
					if (v114) {
						VAL v122 = VTUP(branch_ZPlusC99Branch_55)->cells[1];
						VAL v123;
						VAL v124 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v122, &v123);
						VTUP(branch_ZPlusC99Branch_55)->cells[1] = v123;
						branch_ZPlusC99Branch_121 = branch_ZPlusC99Branch_55;
						branch_Str_120 = v124;
						branch_Bool_119 = ((int64_t)v114);
						branch_C99ReprType_118 = branch_C99ReprType_57;
						branch_Str_117 = branch_Str_58;
						branch_Tag_116 = branch_Tag_56;
						branch_Str_115 = branch_Str_59;
					} else {
						STR* v125;
						STRLIT(v125, "0", 1);
						branch_ZPlusC99Branch_121 = branch_ZPlusC99Branch_55;
						branch_Str_120 = MKSTR(v125);
						branch_Bool_119 = ((int64_t)v114);
						branch_C99ReprType_118 = branch_C99ReprType_57;
						branch_Str_117 = branch_Str_58;
						branch_Tag_116 = branch_Tag_56;
						branch_Str_115 = branch_Str_59;
					}
					int64_t v126 = value_i64(VTUP(branch_ZPlusC99Branch_121)->cells[4]);
					bool v127 = (((bool)branch_Bool_119) && ((bool)v126));
					VAL v128 = VTUP(branch_ZPlusC99Branch_121)->cells[1];
					int64_t v129 = value_i64(VTUP(v128)->cells[4]);
					bool v130 = (v127 && ((bool)v129));
					VTUP(v128)->cells[4] = MKBOOL(v130);
					VAL v131;
					mw_mirth_c99_ZPlusC99_indent(v128, &v131);
					incref(branch_C99ReprType_118);
					VAL v132 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_118);
					VAL v133;
					mw_mirth_c99_ZPlusC99_put(v132, v131, &v133);
					STR* v134;
					STRLIT(v134, " ", 1);
					VAL v135;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v134), v133, &v135);
					incref(branch_Str_120);
					VAL v136;
					mw_mirth_c99_ZPlusC99_put(branch_Str_120, v135, &v136);
					STR* v137;
					STRLIT(v137, " = ", 3);
					VAL v138;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v137), v136, &v138);
					VAL v139;
					mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_118, branch_Str_120, &v139);
					VAL v140;
					mw_mirth_c99_ZPlusC99_put(branch_Str_117, v138, &v140);
					VAL v141 = mw_mirth_data_Tag_valueZ_show(branch_Tag_116);
					VAL v142;
					mw_mirth_c99_ZPlusC99_put(v141, v140, &v142);
					STR* v143;
					STRLIT(v143, "LL /* ", 6);
					VAL v144;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v143), v142, &v144);
					uint64_t v145 = mw_mirth_data_Tag_name(branch_Tag_116);
					VAL v146 = mw_mirth_name_Name_ZToStr(v145);
					VAL v147;
					mw_mirth_c99_ZPlusC99_put(v146, v144, &v147);
					STR* v148;
					STRLIT(v148, " */", 3);
					VAL v149;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v148), v147, &v149);
					VAL v150;
					mw_mirth_c99_ZPlusC99_put(branch_Str_115, v149, &v150);
					STR* v151;
					STRLIT(v151, ";", 1);
					VAL v152;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v151), v150, &v152);
					VAL v153;
					mw_mirth_c99_ZPlusC99_line(v152, &v153);
					VTUP(v153)->cells[4] = MKI64(v129);
					VTUP(branch_ZPlusC99Branch_121)->cells[1] = v153;
					VAL v154;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_121, v139, &v154);
					branch_ZPlusC99Branch_68 = v154;
					branch_Tag_67 = branch_Tag_116;
				}
				branch_ZPlusC99Branch_52 = branch_ZPlusC99Branch_68;
				branch_Tag_51 = branch_Tag_67;
			} else {
				int64_t v155 = value_i64(VTUP(v4)->cells[4]);
				VAL v156 = VTUP(v4)->cells[1];
				int64_t v157 = value_i64(VTUP(v156)->cells[4]);
				bool v158 = (((bool)v155) && ((bool)v157));
				VTUP(v156)->cells[4] = MKBOOL(v158);
				VAL v159;
				mw_mirth_c99_ZPlusC99_indent(v156, &v159);
				VAL v160;
				VAL v161 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v159, &v160);
				STR* v162;
				STRLIT(v162, "TUP* ", 5);
				VAL v163;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v162), v160, &v163);
				incref(v161);
				VAL v164;
				mw_mirth_c99_ZPlusC99_put(v161, v163, &v164);
				STR* v165;
				STRLIT(v165, " = tup_new(", 11);
				VAL v166;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v165), v164, &v166);
				int64_t v167 = mw_mirth_data_Tag_numZ_totalZ_inputs(in_Tag_1);
				int64_t v168 = 1LL;
				int64_t v169 = i64_add(v167, v168);
				STR* v170 = i64_show(v169);
				VAL v171;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v170), v166, &v171);
				STR* v172;
				STRLIT(v172, ");", 2);
				VAL v173;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v172), v171, &v173);
				VAL v174;
				mw_mirth_c99_ZPlusC99_line(v173, &v174);
				VTUP(v174)->cells[4] = MKI64(v157);
				VTUP(v4)->cells[1] = v174;
				int64_t v175 = value_i64(VTUP(v4)->cells[4]);
				VAL v176 = VTUP(v4)->cells[1];
				int64_t v177 = value_i64(VTUP(v176)->cells[4]);
				bool v178 = (((bool)v175) && ((bool)v177));
				VTUP(v176)->cells[4] = MKBOOL(v178);
				VAL v179;
				mw_mirth_c99_ZPlusC99_indent(v176, &v179);
				incref(v161);
				VAL v180;
				mw_mirth_c99_ZPlusC99_put(v161, v179, &v180);
				STR* v181;
				STRLIT(v181, "->size = ", 9);
				VAL v182;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v181), v180, &v182);
				int64_t v183 = mw_mirth_data_Tag_numZ_totalZ_inputs(in_Tag_1);
				int64_t v184 = 1LL;
				int64_t v185 = i64_add(v183, v184);
				STR* v186 = i64_show(v185);
				VAL v187;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v186), v182, &v187);
				STR* v188;
				STRLIT(v188, ";", 1);
				VAL v189;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v188), v187, &v189);
				VAL v190;
				mw_mirth_c99_ZPlusC99_line(v189, &v190);
				VTUP(v190)->cells[4] = MKI64(v177);
				VTUP(v4)->cells[1] = v190;
				int64_t v191 = value_i64(VTUP(v4)->cells[4]);
				VAL v192 = VTUP(v4)->cells[1];
				int64_t v193 = value_i64(VTUP(v192)->cells[4]);
				bool v194 = (((bool)v191) && ((bool)v193));
				VTUP(v192)->cells[4] = MKBOOL(v194);
				VAL v195;
				mw_mirth_c99_ZPlusC99_indent(v192, &v195);
				incref(v161);
				VAL v196;
				mw_mirth_c99_ZPlusC99_put(v161, v195, &v196);
				STR* v197;
				STRLIT(v197, "->cells[0] = MKI64(", 19);
				VAL v198;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v197), v196, &v198);
				VAL v199 = mw_mirth_data_Tag_valueZ_show(in_Tag_1);
				VAL v200;
				mw_mirth_c99_ZPlusC99_put(v199, v198, &v200);
				STR* v201;
				STRLIT(v201, "LL /* ", 6);
				VAL v202;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v201), v200, &v202);
				uint64_t v203 = mw_mirth_data_Tag_name(in_Tag_1);
				VAL v204 = mw_mirth_name_Name_ZToStr(v203);
				VAL v205;
				mw_mirth_c99_ZPlusC99_put(v204, v202, &v205);
				STR* v206;
				STRLIT(v206, " */);", 5);
				VAL v207;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v206), v205, &v207);
				VAL v208;
				mw_mirth_c99_ZPlusC99_line(v207, &v208);
				VTUP(v208)->cells[4] = MKI64(v193);
				VTUP(v4)->cells[1] = v208;
				int64_t v209 = mw_mirth_data_Tag_numZ_totalZ_inputs(in_Tag_1);
				VAL v210 = mw_mirth_data_Tag_labelZ_inputs(in_Tag_1);
				VAL v211 = mw_std_list_List_1_reverse(v210);
				int64_t v212 = 1LL /* True */;
				int64_t v213 = v209;
				VAL v214 = v161;
				VAL v215 = v4;
				VAL v216 = v211;
				int64_t v217 = v212;
				int64_t v218 = v212;
				while (((bool)v218)) {
					int64_t v219 = v213;
					VAL v220 = v214;
					VAL v221 = v215;
					VAL v222 = v216;
					int64_t v223 = v217;
					VAL branch_Str_224;
					VAL branch_ZPlusC99Branch_225;
					int64_t branch_Nat_226;
					VAL branch_List_227;
					int64_t branch_Bool_228;
					switch (get_data_tag(v222)) {
						case 1LL: { // Cons
							VAL v229;
							VAL v230 = mtp_std_list_List_1_Cons(v222, &v229);
							incref(v230);
							int64_t v231 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(value_u64(v230));
							int64_t branch_Nat_232;
							VAL branch_Str_233;
							VAL branch_ZPlusC99Branch_234;
							VAL branch_Str_235;
							if (((bool)v231)) {
								VAL v236 = MKI64(1LL /* C99RT_VAL */);
								VAL v237;
								VAL v238;
								mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v236, value_u64(v230), v221, &v237, &v238);
								VAL v239 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v238);
								branch_Str_235 = v239;
								branch_ZPlusC99Branch_234 = v237;
								branch_Str_233 = v220;
								branch_Nat_232 = v219;
							} else {
								VAL v240 = MKI64(1LL /* C99RT_VAL */);
								VAL v241;
								VAL v242;
								mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v240, value_u64(v230), v221, &v241, &v242);
								VAL v243 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v242);
								branch_Str_235 = v243;
								branch_ZPlusC99Branch_234 = v241;
								branch_Str_233 = v220;
								branch_Nat_232 = v219;
							}
							VAL v244;
							int64_t v245;
							VAL v246;
							mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp30(branch_Str_235, branch_Nat_232, branch_Str_233, branch_ZPlusC99Branch_234, &v244, &v245, &v246);
							int64_t v247 = 1LL;
							int64_t v248 = i64_sub(v245, v247);
							int64_t v249 = 0LL;
							bool v250 = (v248 < v249);
							int64_t branch_Nat_251;
							if (v250) {
								int64_t v252 = 0LL;
								branch_Nat_251 = v252;
							} else {
								branch_Nat_251 = v248;
							}
							int64_t v253 = 1LL /* True */;
							branch_Bool_228 = v253;
							branch_List_227 = v229;
							branch_Nat_226 = branch_Nat_251;
							branch_ZPlusC99Branch_225 = v246;
							branch_Str_224 = v244;
						} break;
						case 0LL: { // Nil
							VAL v254 = MKI64(0LL /* Nil */);
							int64_t v255 = 0LL /* False */;
							branch_Bool_228 = v255;
							branch_List_227 = v254;
							branch_Nat_226 = v219;
							branch_ZPlusC99Branch_225 = v221;
							branch_Str_224 = v220;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v218 = branch_Bool_228;
					v217 = branch_Bool_228;
					v216 = branch_List_227;
					v215 = branch_ZPlusC99Branch_225;
					v214 = branch_Str_224;
					v213 = branch_Nat_226;
				}
				decref(v216);
				int64_t v256 = mw_mirth_data_Tag_numZ_resourceZ_inputs(in_Tag_1);
				int64_t v257 = 0LL;
				bool v258 = (v256 > v257);
				int64_t v259 = v213;
				VAL v260 = v214;
				VAL v261 = v215;
				int64_t v262 = v256;
				bool v263 = v258;
				while (v263) {
					int64_t v264 = v259;
					VAL v265 = v260;
					VAL v266 = v261;
					int64_t v267 = v262;
					VAL v268 = MKI64(1LL /* C99RT_VAL */);
					VAL v269;
					VAL v270;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v266, v268, &v269, &v270);
					VAL v271 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v270);
					VAL v272;
					int64_t v273;
					VAL v274;
					mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp30(v271, v264, v265, v269, &v272, &v273, &v274);
					int64_t v275 = 1LL;
					int64_t v276 = i64_sub(v273, v275);
					int64_t v277 = 0LL;
					bool v278 = (v276 < v277);
					int64_t branch_Nat_279;
					if (v278) {
						int64_t v280 = 0LL;
						branch_Nat_279 = v280;
					} else {
						branch_Nat_279 = v276;
					}
					int64_t v281 = 1LL;
					int64_t v282 = i64_sub(v267, v281);
					int64_t v283 = 0LL;
					bool v284 = (v282 < v283);
					int64_t branch_Nat_285;
					if (v284) {
						int64_t v286 = 0LL;
						branch_Nat_285 = v286;
					} else {
						branch_Nat_285 = v282;
					}
					int64_t v287 = 0LL;
					bool v288 = (branch_Nat_285 > v287);
					v263 = v288;
					v262 = branch_Nat_285;
					v261 = v274;
					v260 = v272;
					v259 = branch_Nat_279;
				}
				int64_t v289 = mw_mirth_data_Tag_numZ_typeZ_inputs(in_Tag_1);
				int64_t v290 = 0LL;
				bool v291 = (v289 > v290);
				int64_t v292 = v259;
				VAL v293 = v260;
				VAL v294 = v261;
				int64_t v295 = v289;
				bool v296 = v291;
				while (v296) {
					int64_t v297 = v292;
					VAL v298 = v293;
					VAL v299 = v294;
					int64_t v300 = v295;
					VAL v301 = MKI64(1LL /* C99RT_VAL */);
					VAL v302;
					VAL v303;
					mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v299, v301, &v302, &v303);
					VAL v304 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v303);
					VAL v305;
					int64_t v306;
					VAL v307;
					mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp30(v304, v297, v298, v302, &v305, &v306, &v307);
					int64_t v308 = 1LL;
					int64_t v309 = i64_sub(v306, v308);
					int64_t v310 = 0LL;
					bool v311 = (v309 < v310);
					int64_t branch_Nat_312;
					if (v311) {
						int64_t v313 = 0LL;
						branch_Nat_312 = v313;
					} else {
						branch_Nat_312 = v309;
					}
					int64_t v314 = 1LL;
					int64_t v315 = i64_sub(v300, v314);
					int64_t v316 = 0LL;
					bool v317 = (v315 < v316);
					int64_t branch_Nat_318;
					if (v317) {
						int64_t v319 = 0LL;
						branch_Nat_318 = v319;
					} else {
						branch_Nat_318 = v315;
					}
					int64_t v320 = 0LL;
					bool v321 = (branch_Nat_318 > v320);
					v296 = v321;
					v295 = branch_Nat_318;
					v294 = v307;
					v293 = v305;
					v292 = branch_Nat_312;
				}
				int64_t v322 = mw_mirth_data_Tag_outputsZ_resourceZAsk(in_Tag_1);
				uint64_t branch_Tag_323;
				VAL branch_ZPlusC99Branch_324;
				if (((bool)v322)) {
					VAL v325 = MKI64(1LL /* C99RT_VAL */);
					incref(v325);
					int64_t v326 = get_data_tag(v325);
					decref(v325);
					int64_t v327 = 0LL;
					bool v328 = (v326 != v327);
					uint64_t branch_Tag_329;
					VAL branch_Str_330;
					VAL branch_C99ReprType_331;
					int64_t branch_Bool_332;
					VAL branch_Str_333;
					VAL branch_ZPlusC99Branch_334;
					if (v328) {
						VAL v335 = VTUP(v294)->cells[1];
						VAL v336;
						VAL v337 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v335, &v336);
						VTUP(v294)->cells[1] = v336;
						branch_ZPlusC99Branch_334 = v294;
						branch_Str_333 = v337;
						branch_Bool_332 = ((int64_t)v328);
						branch_C99ReprType_331 = v325;
						branch_Str_330 = v293;
						branch_Tag_329 = in_Tag_1;
					} else {
						STR* v338;
						STRLIT(v338, "0", 1);
						branch_ZPlusC99Branch_334 = v294;
						branch_Str_333 = MKSTR(v338);
						branch_Bool_332 = ((int64_t)v328);
						branch_C99ReprType_331 = v325;
						branch_Str_330 = v293;
						branch_Tag_329 = in_Tag_1;
					}
					int64_t v339 = value_i64(VTUP(branch_ZPlusC99Branch_334)->cells[4]);
					bool v340 = (((bool)branch_Bool_332) && ((bool)v339));
					VAL v341 = VTUP(branch_ZPlusC99Branch_334)->cells[1];
					int64_t v342 = value_i64(VTUP(v341)->cells[4]);
					bool v343 = (v340 && ((bool)v342));
					VTUP(v341)->cells[4] = MKBOOL(v343);
					VAL v344;
					mw_mirth_c99_ZPlusC99_indent(v341, &v344);
					incref(branch_C99ReprType_331);
					VAL v345 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_331);
					VAL v346;
					mw_mirth_c99_ZPlusC99_put(v345, v344, &v346);
					STR* v347;
					STRLIT(v347, " ", 1);
					VAL v348;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v347), v346, &v348);
					incref(branch_Str_333);
					VAL v349;
					mw_mirth_c99_ZPlusC99_put(branch_Str_333, v348, &v349);
					STR* v350;
					STRLIT(v350, " = ", 3);
					VAL v351;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v350), v349, &v351);
					VAL v352;
					mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_331, branch_Str_333, &v352);
					STR* v353;
					STRLIT(v353, "MKTUP(", 6);
					VAL v354;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v353), v351, &v354);
					VAL v355;
					mw_mirth_c99_ZPlusC99_put(branch_Str_330, v354, &v355);
					STR* v356;
					STRLIT(v356, ", ", 2);
					VAL v357;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v356), v355, &v357);
					int64_t v358 = mw_mirth_data_Tag_numZ_totalZ_inputs(branch_Tag_329);
					int64_t v359 = 1LL;
					int64_t v360 = i64_add(v358, v359);
					STR* v361 = i64_show(v360);
					VAL v362;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v361), v357, &v362);
					STR* v363;
					STRLIT(v363, ")", 1);
					VAL v364;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v363), v362, &v364);
					STR* v365;
					STRLIT(v365, ";", 1);
					VAL v366;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v365), v364, &v366);
					VAL v367;
					mw_mirth_c99_ZPlusC99_line(v366, &v367);
					VTUP(v367)->cells[4] = MKI64(v342);
					VTUP(branch_ZPlusC99Branch_334)->cells[1] = v367;
					VAL v368;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_334, v352, &v368);
					branch_ZPlusC99Branch_324 = v368;
					branch_Tag_323 = branch_Tag_329;
				} else {
					VAL v369 = MKI64(1LL /* C99RT_VAL */);
					incref(v369);
					int64_t v370 = get_data_tag(v369);
					decref(v369);
					int64_t v371 = 0LL;
					bool v372 = (v370 != v371);
					uint64_t branch_Tag_373;
					VAL branch_Str_374;
					VAL branch_C99ReprType_375;
					int64_t branch_Bool_376;
					VAL branch_Str_377;
					VAL branch_ZPlusC99Branch_378;
					if (v372) {
						VAL v379 = VTUP(v294)->cells[1];
						VAL v380;
						VAL v381 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v379, &v380);
						VTUP(v294)->cells[1] = v380;
						branch_ZPlusC99Branch_378 = v294;
						branch_Str_377 = v381;
						branch_Bool_376 = ((int64_t)v372);
						branch_C99ReprType_375 = v369;
						branch_Str_374 = v293;
						branch_Tag_373 = in_Tag_1;
					} else {
						STR* v382;
						STRLIT(v382, "0", 1);
						branch_ZPlusC99Branch_378 = v294;
						branch_Str_377 = MKSTR(v382);
						branch_Bool_376 = ((int64_t)v372);
						branch_C99ReprType_375 = v369;
						branch_Str_374 = v293;
						branch_Tag_373 = in_Tag_1;
					}
					int64_t v383 = value_i64(VTUP(branch_ZPlusC99Branch_378)->cells[4]);
					bool v384 = (((bool)branch_Bool_376) && ((bool)v383));
					VAL v385 = VTUP(branch_ZPlusC99Branch_378)->cells[1];
					int64_t v386 = value_i64(VTUP(v385)->cells[4]);
					bool v387 = (v384 && ((bool)v386));
					VTUP(v385)->cells[4] = MKBOOL(v387);
					VAL v388;
					mw_mirth_c99_ZPlusC99_indent(v385, &v388);
					incref(branch_C99ReprType_375);
					VAL v389 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_375);
					VAL v390;
					mw_mirth_c99_ZPlusC99_put(v389, v388, &v390);
					STR* v391;
					STRLIT(v391, " ", 1);
					VAL v392;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v391), v390, &v392);
					incref(branch_Str_377);
					VAL v393;
					mw_mirth_c99_ZPlusC99_put(branch_Str_377, v392, &v393);
					STR* v394;
					STRLIT(v394, " = ", 3);
					VAL v395;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v394), v393, &v395);
					VAL v396;
					mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_375, branch_Str_377, &v396);
					STR* v397;
					STRLIT(v397, "MKTUP(", 6);
					VAL v398;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v397), v395, &v398);
					VAL v399;
					mw_mirth_c99_ZPlusC99_put(branch_Str_374, v398, &v399);
					STR* v400;
					STRLIT(v400, ", ", 2);
					VAL v401;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v400), v399, &v401);
					int64_t v402 = mw_mirth_data_Tag_numZ_totalZ_inputs(branch_Tag_373);
					int64_t v403 = 1LL;
					int64_t v404 = i64_add(v402, v403);
					STR* v405 = i64_show(v404);
					VAL v406;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v405), v401, &v406);
					STR* v407;
					STRLIT(v407, ")", 1);
					VAL v408;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v407), v406, &v408);
					STR* v409;
					STRLIT(v409, ";", 1);
					VAL v410;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v409), v408, &v410);
					VAL v411;
					mw_mirth_c99_ZPlusC99_line(v410, &v411);
					VTUP(v411)->cells[4] = MKI64(v386);
					VTUP(branch_ZPlusC99Branch_378)->cells[1] = v411;
					VAL v412;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_378, v396, &v412);
					branch_ZPlusC99Branch_324 = v412;
					branch_Tag_323 = branch_Tag_373;
				}
				branch_ZPlusC99Branch_52 = branch_ZPlusC99Branch_324;
				branch_Tag_51 = branch_Tag_323;
			}
			branch_ZPlusC99Branch_7 = branch_ZPlusC99Branch_52;
			branch_Tag_6 = branch_Tag_51;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_7;
}
static void mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	VAL v5 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp4(in_Tag_1, in_ZPlusC99Branch_2, &v4);
	uint64_t branch_Tag_6;
	VAL branch_ZPlusC99Branch_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			VAL v9 = VTUP(v8)->cells[2];
			incref(v9);
			decref(v8);
			uint64_t branch_Tag_10;
			VAL branch_ZPlusC99Branch_11;
			switch (get_data_tag(v9)) {
				case 1LL: { // STPConsLabel
					uint64_t v12;
					VAL v13 = mtp_mirth_type_StackTypePart_STPConsLabel(v9, &v12);
					VAL v14;
					VAL v15 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v13, v4, &v14);
					int64_t v16 = mw_mirth_data_Tag_outputsZ_resourceZAsk(in_Tag_1);
					uint64_t branch_Label_17;
					uint64_t branch_Tag_18;
					VAL branch_ZPlusC99Branch_19;
					VAL branch_ZPlusC99Value_20;
					if (((bool)v16)) {
						VAL v21;
						VAL v22;
						mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v14, v15, &v21, &v22);
						VAL v23;
						mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v22, &v23);
						branch_ZPlusC99Value_20 = v23;
						branch_ZPlusC99Branch_19 = v21;
						branch_Tag_18 = in_Tag_1;
						branch_Label_17 = v12;
					} else {
						VAL v24;
						VAL v25;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v14, v15, &v24, &v25);
						branch_ZPlusC99Value_20 = v25;
						branch_ZPlusC99Branch_19 = v24;
						branch_Tag_18 = in_Tag_1;
						branch_Label_17 = v12;
					}
					VAL v26;
					mw_mirth_c99_pushZ_valueZ_labelZBang(branch_Label_17, branch_ZPlusC99Branch_19, branch_ZPlusC99Value_20, &v26);
					branch_ZPlusC99Branch_11 = v26;
					branch_Tag_10 = branch_Tag_18;
				} break;
				case 3LL: { // STPWithLabel
					uint64_t v27;
					VAL v28 = mtp_mirth_type_StackTypePart_STPWithLabel(v9, &v27);
					VAL v29;
					VAL v30 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v28, v4, &v29);
					VAL v31;
					VAL v32;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v29, v30, &v31, &v32);
					VAL v33;
					mw_mirth_c99_pushZ_resourceZ_labelZBang(v27, v31, v32, &v33);
					branch_ZPlusC99Branch_11 = v33;
					branch_Tag_10 = in_Tag_1;
				} break;
				case 0LL: { // STPCons
					VAL v34 = mtp_mirth_type_StackTypePart_STPCons(v9);
					VAL v35;
					VAL v36 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v34, v4, &v35);
					int64_t v37 = mw_mirth_data_Tag_outputsZ_resourceZAsk(in_Tag_1);
					uint64_t branch_Tag_38;
					VAL branch_ZPlusC99Branch_39;
					VAL branch_ZPlusC99Value_40;
					if (((bool)v37)) {
						VAL v41;
						VAL v42;
						mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v35, v36, &v41, &v42);
						VAL v43;
						mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v42, &v43);
						branch_ZPlusC99Value_40 = v43;
						branch_ZPlusC99Branch_39 = v41;
						branch_Tag_38 = in_Tag_1;
					} else {
						VAL v44;
						VAL v45;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v35, v36, &v44, &v45);
						branch_ZPlusC99Value_40 = v45;
						branch_ZPlusC99Branch_39 = v44;
						branch_Tag_38 = in_Tag_1;
					}
					VAL v46;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_39, branch_ZPlusC99Value_40, &v46);
					branch_ZPlusC99Branch_11 = v46;
					branch_Tag_10 = branch_Tag_38;
				} break;
				case 2LL: { // STPWith
					VAL v47 = mtp_mirth_type_StackTypePart_STPWith(v9);
					VAL v48;
					VAL v49 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v47, v4, &v48);
					VAL v50;
					VAL v51;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v48, v49, &v50, &v51);
					VAL v52;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v50, v51, &v52);
					branch_ZPlusC99Branch_11 = v52;
					branch_Tag_10 = in_Tag_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusC99Branch_7 = branch_ZPlusC99Branch_11;
			branch_Tag_6 = branch_Tag_10;
		} break;
		case 0LL: { // None
			int64_t v53 = mw_mirth_data_Tag_numZ_totalZ_inputs(in_Tag_1);
			int64_t v54 = 0LL;
			bool v55 = (v53 == v54);
			uint64_t branch_Tag_56;
			VAL branch_ZPlusC99Branch_57;
			if (v55) {
				uint64_t v58 = mw_mirth_data_Tag_data(in_Tag_1);
				VAL v59;
				VAL v60;
				mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_valueZDivresourceZ_dataZBang(v58, v4, &v59, &v60);
				mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop(v60);
				branch_ZPlusC99Branch_57 = v59;
				branch_Tag_56 = in_Tag_1;
			} else {
				uint64_t v61 = mw_mirth_data_Tag_data(in_Tag_1);
				VAL v62;
				VAL v63;
				mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_valueZDivresourceZ_dataZBang(v61, v4, &v62, &v63);
				VAL v64 = mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_VAL(v63);
				STR* v65;
				STRLIT(v65, "", 0);
				STR* v66;
				STRLIT(v66, "VTUP(", 5);
				VAL v67;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v66), MKSTR(v65), &v67);
				VAL v68;
				mw_std_str_ZPlusStr_pushZ_strZBang(v64, v67, &v68);
				STR* v69;
				STRLIT(v69, ")", 1);
				VAL v70;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v69), v68, &v70);
				int64_t v71 = 1LL;
				int64_t v72 = mw_mirth_data_Tag_numZ_typeZ_inputs(in_Tag_1);
				int64_t v73 = 0LL;
				bool v74 = (v72 > v73);
				int64_t v75 = v71;
				VAL v76 = v70;
				VAL v77 = v62;
				int64_t v78 = v72;
				bool v79 = v74;
				while (v79) {
					int64_t v80 = v75;
					VAL v81 = v76;
					VAL v82 = v77;
					int64_t v83 = v78;
					VAL v84 = MKI64(1LL /* C99RT_VAL */);
					VAL v85;
					int64_t v86;
					VAL v87;
					VAL v88;
					mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp10(v80, v81, v82, v84, &v85, &v86, &v87, &v88);
					VAL v89;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v87, v88, &v89);
					int64_t v90 = 1LL;
					int64_t v91 = i64_add(v86, v90);
					int64_t v92 = 1LL;
					int64_t v93 = i64_sub(v83, v92);
					int64_t v94 = 0LL;
					bool v95 = (v93 < v94);
					int64_t branch_Nat_96;
					if (v95) {
						int64_t v97 = 0LL;
						branch_Nat_96 = v97;
					} else {
						branch_Nat_96 = v93;
					}
					int64_t v98 = 0LL;
					bool v99 = (branch_Nat_96 > v98);
					v79 = v99;
					v78 = branch_Nat_96;
					v77 = v89;
					v76 = v85;
					v75 = v91;
				}
				int64_t v100 = mw_mirth_data_Tag_numZ_resourceZ_inputs(in_Tag_1);
				int64_t v101 = 0LL;
				bool v102 = (v100 > v101);
				int64_t v103 = v75;
				VAL v104 = v76;
				VAL v105 = v77;
				int64_t v106 = v100;
				bool v107 = v102;
				while (v107) {
					int64_t v108 = v103;
					VAL v109 = v104;
					VAL v110 = v105;
					int64_t v111 = v106;
					VAL v112 = MKI64(1LL /* C99RT_VAL */);
					incref(v112);
					int64_t v113 = get_data_tag(v112);
					decref(v112);
					int64_t v114 = 0LL;
					bool v115 = (v113 != v114);
					int64_t branch_Int_116;
					VAL branch_Str_117;
					VAL branch_C99ReprType_118;
					int64_t branch_Bool_119;
					VAL branch_Str_120;
					VAL branch_ZPlusC99Branch_121;
					if (v115) {
						VAL v122 = VTUP(v110)->cells[1];
						VAL v123;
						VAL v124 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v122, &v123);
						VTUP(v110)->cells[1] = v123;
						branch_ZPlusC99Branch_121 = v110;
						branch_Str_120 = v124;
						branch_Bool_119 = ((int64_t)v115);
						branch_C99ReprType_118 = v112;
						branch_Str_117 = v109;
						branch_Int_116 = v108;
					} else {
						STR* v125;
						STRLIT(v125, "0", 1);
						branch_ZPlusC99Branch_121 = v110;
						branch_Str_120 = MKSTR(v125);
						branch_Bool_119 = ((int64_t)v115);
						branch_C99ReprType_118 = v112;
						branch_Str_117 = v109;
						branch_Int_116 = v108;
					}
					int64_t v126 = value_i64(VTUP(branch_ZPlusC99Branch_121)->cells[4]);
					bool v127 = (((bool)branch_Bool_119) && ((bool)v126));
					VAL v128 = VTUP(branch_ZPlusC99Branch_121)->cells[1];
					int64_t v129 = value_i64(VTUP(v128)->cells[4]);
					bool v130 = (v127 && ((bool)v129));
					VTUP(v128)->cells[4] = MKBOOL(v130);
					VAL v131;
					mw_mirth_c99_ZPlusC99_indent(v128, &v131);
					incref(branch_C99ReprType_118);
					VAL v132 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_118);
					VAL v133;
					mw_mirth_c99_ZPlusC99_put(v132, v131, &v133);
					STR* v134;
					STRLIT(v134, " ", 1);
					VAL v135;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v134), v133, &v135);
					incref(branch_Str_120);
					VAL v136;
					mw_mirth_c99_ZPlusC99_put(branch_Str_120, v135, &v136);
					STR* v137;
					STRLIT(v137, " = ", 3);
					VAL v138;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v137), v136, &v138);
					VAL v139;
					mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_118, branch_Str_120, &v139);
					incref(branch_Str_117);
					VAL v140;
					mw_mirth_c99_ZPlusC99_put(branch_Str_117, v138, &v140);
					STR* v141;
					STRLIT(v141, "->cells[", 8);
					VAL v142;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v141), v140, &v142);
					STR* v143 = i64_show(branch_Int_116);
					VAL v144;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v143), v142, &v144);
					STR* v145;
					STRLIT(v145, "]", 1);
					VAL v146;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v145), v144, &v146);
					STR* v147;
					STRLIT(v147, ";", 1);
					VAL v148;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v147), v146, &v148);
					VAL v149;
					mw_mirth_c99_ZPlusC99_line(v148, &v149);
					VTUP(v149)->cells[4] = MKI64(v129);
					VTUP(branch_ZPlusC99Branch_121)->cells[1] = v149;
					VAL v150;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_121, v139, &v150);
					int64_t v151 = 1LL;
					int64_t v152 = i64_add(branch_Int_116, v151);
					int64_t v153 = 1LL;
					int64_t v154 = i64_sub(v111, v153);
					int64_t v155 = 0LL;
					bool v156 = (v154 < v155);
					int64_t branch_Nat_157;
					if (v156) {
						int64_t v158 = 0LL;
						branch_Nat_157 = v158;
					} else {
						branch_Nat_157 = v154;
					}
					int64_t v159 = 0LL;
					bool v160 = (branch_Nat_157 > v159);
					v107 = v160;
					v106 = branch_Nat_157;
					v105 = v150;
					v104 = branch_Str_117;
					v103 = v152;
				}
				VAL v161 = mw_mirth_data_Tag_labelZ_inputs(in_Tag_1);
				int64_t v162 = 1LL /* True */;
				int64_t v163 = v103;
				VAL v164 = v104;
				VAL v165 = v105;
				VAL v166 = v161;
				int64_t v167 = v162;
				int64_t v168 = v162;
				while (((bool)v168)) {
					int64_t v169 = v163;
					VAL v170 = v164;
					VAL v171 = v165;
					VAL v172 = v166;
					int64_t v173 = v167;
					VAL branch_Str_174;
					VAL branch_ZPlusC99Branch_175;
					int64_t branch_Int_176;
					VAL branch_List_177;
					int64_t branch_Bool_178;
					switch (get_data_tag(v172)) {
						case 1LL: { // Cons
							VAL v179;
							VAL v180 = mtp_std_list_List_1_Cons(v172, &v179);
							VAL v181 = MKI64(1LL /* C99RT_VAL */);
							VAL v182;
							int64_t v183;
							VAL v184;
							VAL v185;
							mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp10(v169, v170, v171, v181, &v182, &v183, &v184, &v185);
							incref(v180);
							int64_t v186 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(value_u64(v180));
							VAL branch_Str_187;
							int64_t branch_Int_188;
							VAL branch_ZPlusC99Branch_189;
							if (((bool)v186)) {
								VAL v190;
								mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v185, &v190);
								VAL v191;
								mw_mirth_c99_pushZ_resourceZ_labelZBang(value_u64(v180), v184, v190, &v191);
								branch_ZPlusC99Branch_189 = v191;
								branch_Int_188 = v183;
								branch_Str_187 = v182;
							} else {
								VAL v192;
								mw_mirth_c99_pushZ_valueZ_labelZBang(value_u64(v180), v184, v185, &v192);
								branch_ZPlusC99Branch_189 = v192;
								branch_Int_188 = v183;
								branch_Str_187 = v182;
							}
							int64_t v193 = 1LL;
							int64_t v194 = i64_add(branch_Int_188, v193);
							int64_t v195 = 1LL /* True */;
							branch_Bool_178 = v195;
							branch_List_177 = v179;
							branch_Int_176 = v194;
							branch_ZPlusC99Branch_175 = branch_ZPlusC99Branch_189;
							branch_Str_174 = branch_Str_187;
						} break;
						case 0LL: { // Nil
							VAL v196 = MKI64(0LL /* Nil */);
							int64_t v197 = 0LL /* False */;
							branch_Bool_178 = v197;
							branch_List_177 = v196;
							branch_Int_176 = v169;
							branch_ZPlusC99Branch_175 = v171;
							branch_Str_174 = v170;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v168 = branch_Bool_178;
					v167 = branch_Bool_178;
					v166 = branch_List_177;
					v165 = branch_ZPlusC99Branch_175;
					v164 = branch_Str_174;
					v163 = branch_Int_176;
				}
				decref(v166);
				int64_t v198 = value_i64(VTUP(v165)->cells[4]);
				VAL v199 = VTUP(v165)->cells[1];
				int64_t v200 = value_i64(VTUP(v199)->cells[4]);
				bool v201 = (((bool)v198) && ((bool)v200));
				VTUP(v199)->cells[4] = MKBOOL(v201);
				VAL v202;
				mw_mirth_c99_ZPlusC99_indent(v199, &v202);
				STR* v203;
				STRLIT(v203, "tup_decref_outer(", 17);
				VAL v204;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v203), v202, &v204);
				VAL v205;
				mw_mirth_c99_ZPlusC99_put(v164, v204, &v205);
				STR* v206;
				STRLIT(v206, ",", 1);
				VAL v207;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v206), v205, &v207);
				STR* v208 = i64_show(v163);
				VAL v209;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v208), v207, &v209);
				STR* v210;
				STRLIT(v210, ");", 2);
				VAL v211;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v210), v209, &v211);
				VAL v212;
				mw_mirth_c99_ZPlusC99_line(v211, &v212);
				VTUP(v212)->cells[4] = MKI64(v200);
				VTUP(v165)->cells[1] = v212;
				branch_ZPlusC99Branch_57 = v165;
				branch_Tag_56 = in_Tag_1;
			}
			branch_ZPlusC99Branch_7 = branch_ZPlusC99Branch_57;
			branch_Tag_6 = branch_Tag_56;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_7;
}
static int64_t mw_mirth_c99_c99Z_tagZ_labelZ_index (uint64_t in_Tag_1, uint64_t in_Label_2, VAL in_ZPlusC99_3, VAL *out_ZPlusC99_5) {
	int64_t v6 = mw_mirth_data_Tag_numZ_totalZ_inputs(in_Tag_1);
	int64_t v7 = 1LL;
	int64_t v8 = i64_add(v6, v7);
	VAL v9 = mw_mirth_data_Tag_labelZ_inputs(in_Tag_1);
	VAL v10 = mw_std_list_List_1_reverse(v9);
	VAL v11 = MKI64(0LL /* None */);
	int64_t v12 = 1LL /* True */;
	uint64_t v13 = in_Label_2;
	int64_t v14 = v8;
	VAL v15 = v11;
	VAL v16 = v10;
	int64_t v17 = v12;
	int64_t v18 = v12;
	while (((bool)v18)) {
		uint64_t v19 = v13;
		int64_t v20 = v14;
		VAL v21 = v15;
		VAL v22 = v16;
		int64_t v23 = v17;
		VAL v24;
		VAL v25 = mw_std_list_List_1_uncons(v22, &v24);
		uint64_t branch_Label_26;
		int64_t branch_Nat_27;
		VAL branch_Maybe_28;
		VAL branch_List_29;
		int64_t branch_Bool_30;
		switch (get_data_tag(v25)) {
			case 1LL: { // Some
				VAL v31 = mtp_std_maybe_Maybe_1_Some(v25);
				incref(v31);
				int64_t v32 = 1LL;
				int64_t v33 = i64_sub(v20, v32);
				int64_t v34 = 0LL;
				bool v35 = (v33 < v34);
				int64_t branch_Nat_36;
				if (v35) {
					int64_t v37 = 0LL;
					branch_Nat_36 = v37;
				} else {
					branch_Nat_36 = v33;
				}
				int64_t v38 = mw_mirth_label_Label_ZEqualZEqual(v19, value_u64(v31));
				uint64_t branch_Label_39;
				int64_t branch_Nat_40;
				VAL branch_Maybe_41;
				if (((bool)v38)) {
					VAL v42 = mtw_std_maybe_Maybe_1_Some(v31);
					branch_Maybe_41 = v42;
					branch_Nat_40 = branch_Nat_36;
					branch_Label_39 = v19;
				} else {
					decref(v31);
					VAL v43 = MKI64(0LL /* None */);
					branch_Maybe_41 = v43;
					branch_Nat_40 = branch_Nat_36;
					branch_Label_39 = v19;
				}
				uint64_t branch_Label_44;
				int64_t branch_Nat_45;
				VAL branch_Maybe_46;
				VAL branch_List_47;
				switch (get_data_tag(branch_Maybe_41)) {
					case 0LL: { // None
						branch_List_47 = v24;
						branch_Maybe_46 = v21;
						branch_Nat_45 = branch_Nat_40;
						branch_Label_44 = branch_Label_39;
					} break;
					default: {
						decref(v24);
						decref(v21);
						VAL v48 = MKI64(0LL /* Nil */);
						branch_List_47 = v48;
						branch_Maybe_46 = branch_Maybe_41;
						branch_Nat_45 = branch_Nat_40;
						branch_Label_44 = branch_Label_39;
					} break;
				}
				int64_t v49 = 1LL /* True */;
				branch_Bool_30 = v49;
				branch_List_29 = branch_List_47;
				branch_Maybe_28 = branch_Maybe_46;
				branch_Nat_27 = branch_Nat_45;
				branch_Label_26 = branch_Label_44;
			} break;
			case 0LL: { // None
				int64_t v50 = 0LL /* False */;
				branch_Bool_30 = v50;
				branch_List_29 = v24;
				branch_Maybe_28 = v21;
				branch_Nat_27 = v20;
				branch_Label_26 = v19;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_30;
		v17 = branch_Bool_30;
		v16 = branch_List_29;
		v15 = branch_Maybe_28;
		v14 = branch_Nat_27;
		v13 = branch_Label_26;
	}
	decref(v16);
	decref(v15);
	*out_ZPlusC99_5 = in_ZPlusC99_3;
	return v14;
}
static void mw_mirth_c99_c99Z_tagZ_getZ_labelZBang (VAL in_TagField_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	uint64_t v4;
	uint64_t v5;
	VAL v6;
	mtp_mirth_data_TagField_TagField(in_TagField_1, &v4, &v5, &v6);
	VAL v7;
	VAL v8 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp4(v4, in_ZPlusC99Branch_2, &v7);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	int64_t v10 = 1LL;
	bool v11 = (v9 == v10);
	uint64_t branch_Label_12;
	uint64_t branch_Tag_13;
	VAL branch_ZPlusC99Branch_14;
	if (v11) {
		uint64_t branch_Label_15;
		uint64_t branch_Tag_16;
		VAL branch_ZPlusC99Branch_17;
		switch (get_data_tag(v6)) {
			case 0LL: { // Left
				VAL v18 = mtp_std_either_Either_2_Left(v6);
				int64_t v19 = mw_mirth_data_Tag_outputsZ_resourceZAsk(v4);
				uint64_t branch_Label_20;
				uint64_t branch_Tag_21;
				VAL branch_ZPlusC99Branch_22;
				if (((bool)v19)) {
					VAL v23;
					VAL v24 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v18, v7, &v23);
					VAL v25;
					VAL v26;
					mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v23, v24, &v25, &v26);
					VAL v27;
					VAL v28;
					VAL v29;
					mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang(v25, v26, &v27, &v28, &v29);
					VAL v30;
					mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v27, v28, &v30);
					VAL v31;
					mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v30, v29, &v31);
					branch_ZPlusC99Branch_22 = v31;
					branch_Tag_21 = v4;
					branch_Label_20 = v5;
				} else {
					decref(v18);
					branch_ZPlusC99Branch_22 = v7;
					branch_Tag_21 = v4;
					branch_Label_20 = v5;
				}
				branch_ZPlusC99Branch_17 = branch_ZPlusC99Branch_22;
				branch_Tag_16 = branch_Tag_21;
				branch_Label_15 = branch_Label_20;
			} break;
			case 1LL: { // Right
				VAL v32 = mtp_std_either_Either_2_Right(v6);
				decref(v32);
				VAL v33 = MKI64(4LL /* C99RT_I64 */);
				incref(v33);
				int64_t v34 = get_data_tag(v33);
				decref(v33);
				int64_t v35 = 0LL;
				bool v36 = (v34 != v35);
				VAL branch_C99ReprType_37;
				int64_t branch_Bool_38;
				VAL branch_Str_39;
				VAL branch_ZPlusC99Branch_40;
				if (v36) {
					VAL v41 = VTUP(v7)->cells[1];
					VAL v42;
					VAL v43 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v41, &v42);
					VTUP(v7)->cells[1] = v42;
					branch_ZPlusC99Branch_40 = v7;
					branch_Str_39 = v43;
					branch_Bool_38 = ((int64_t)v36);
					branch_C99ReprType_37 = v33;
				} else {
					STR* v44;
					STRLIT(v44, "0", 1);
					branch_ZPlusC99Branch_40 = v7;
					branch_Str_39 = MKSTR(v44);
					branch_Bool_38 = ((int64_t)v36);
					branch_C99ReprType_37 = v33;
				}
				int64_t v45 = value_i64(VTUP(branch_ZPlusC99Branch_40)->cells[4]);
				bool v46 = (((bool)branch_Bool_38) && ((bool)v45));
				VAL v47 = VTUP(branch_ZPlusC99Branch_40)->cells[1];
				int64_t v48 = value_i64(VTUP(v47)->cells[4]);
				bool v49 = (v46 && ((bool)v48));
				VTUP(v47)->cells[4] = MKBOOL(v49);
				VAL v50;
				mw_mirth_c99_ZPlusC99_indent(v47, &v50);
				incref(branch_C99ReprType_37);
				VAL v51 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_37);
				VAL v52;
				mw_mirth_c99_ZPlusC99_put(v51, v50, &v52);
				STR* v53;
				STRLIT(v53, " ", 1);
				VAL v54;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v53), v52, &v54);
				incref(branch_Str_39);
				VAL v55;
				mw_mirth_c99_ZPlusC99_put(branch_Str_39, v54, &v55);
				STR* v56;
				STRLIT(v56, " = ", 3);
				VAL v57;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v56), v55, &v57);
				VAL v58;
				mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_37, branch_Str_39, &v58);
				STR* v59;
				STRLIT(v59, "0", 1);
				VAL v60;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v59), v57, &v60);
				STR* v61;
				STRLIT(v61, ";", 1);
				VAL v62;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v61), v60, &v62);
				VAL v63;
				mw_mirth_c99_ZPlusC99_line(v62, &v63);
				VTUP(v63)->cells[4] = MKI64(v48);
				VTUP(branch_ZPlusC99Branch_40)->cells[1] = v63;
				VAL v64;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_40, v58, &v64);
				branch_ZPlusC99Branch_17 = v64;
				branch_Tag_16 = v4;
				branch_Label_15 = v5;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_14 = branch_ZPlusC99Branch_17;
		branch_Tag_13 = branch_Tag_16;
		branch_Label_12 = branch_Label_15;
	} else {
		uint64_t v65 = mw_mirth_data_Tag_data(v4);
		VAL v66;
		VAL v67;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_valueZDivresourceZ_dataZBang(v65, v7, &v66, &v67);
		uint64_t branch_Tag_68;
		uint64_t branch_Label_69;
		VAL branch_ZPlusC99Branch_70;
		switch (get_data_tag(v6)) {
			case 0LL: { // Left
				VAL v71 = mtp_std_either_Either_2_Left(v6);
				VAL v72;
				VAL v73 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v71, v66, &v72);
				incref(v73);
				incref(v73);
				int64_t v74 = get_data_tag(v73);
				decref(v73);
				int64_t v75 = 0LL;
				bool v76 = (v74 != v75);
				uint64_t branch_Label_77;
				uint64_t branch_Tag_78;
				VAL branch_ZPlusC99ValueZDivResource_79;
				VAL branch_C99ReprType_80;
				VAL branch_C99ReprType_81;
				int64_t branch_Bool_82;
				VAL branch_Str_83;
				VAL branch_ZPlusC99Branch_84;
				if (v76) {
					VAL v85 = VTUP(v72)->cells[1];
					VAL v86;
					VAL v87 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v85, &v86);
					VTUP(v72)->cells[1] = v86;
					branch_ZPlusC99Branch_84 = v72;
					branch_Str_83 = v87;
					branch_Bool_82 = ((int64_t)v76);
					branch_C99ReprType_81 = v73;
					branch_C99ReprType_80 = v73;
					branch_ZPlusC99ValueZDivResource_79 = v67;
					branch_Tag_78 = v4;
					branch_Label_77 = v5;
				} else {
					STR* v88;
					STRLIT(v88, "0", 1);
					branch_ZPlusC99Branch_84 = v72;
					branch_Str_83 = MKSTR(v88);
					branch_Bool_82 = ((int64_t)v76);
					branch_C99ReprType_81 = v73;
					branch_C99ReprType_80 = v73;
					branch_ZPlusC99ValueZDivResource_79 = v67;
					branch_Tag_78 = v4;
					branch_Label_77 = v5;
				}
				int64_t v89 = value_i64(VTUP(branch_ZPlusC99Branch_84)->cells[4]);
				bool v90 = (((bool)branch_Bool_82) && ((bool)v89));
				VAL v91 = VTUP(branch_ZPlusC99Branch_84)->cells[1];
				int64_t v92 = value_i64(VTUP(v91)->cells[4]);
				bool v93 = (v90 && ((bool)v92));
				VTUP(v91)->cells[4] = MKBOOL(v93);
				VAL v94;
				mw_mirth_c99_ZPlusC99_indent(v91, &v94);
				incref(branch_C99ReprType_81);
				VAL v95 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_81);
				VAL v96;
				mw_mirth_c99_ZPlusC99_put(v95, v94, &v96);
				STR* v97;
				STRLIT(v97, " ", 1);
				VAL v98;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v97), v96, &v98);
				incref(branch_Str_83);
				VAL v99;
				mw_mirth_c99_ZPlusC99_put(branch_Str_83, v98, &v99);
				STR* v100;
				STRLIT(v100, " = ", 3);
				VAL v101;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v100), v99, &v101);
				VAL v102;
				mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_81, branch_Str_83, &v102);
				VAL v103;
				uint64_t v104;
				uint64_t v105;
				VAL v106;
				mw_mirth_c99_C99ReprType_vZ_macro_1_sp3(branch_Label_77, branch_Tag_78, branch_ZPlusC99ValueZDivResource_79, v101, branch_C99ReprType_80, &v103, &v104, &v105, &v106);
				STR* v107;
				STRLIT(v107, ";", 1);
				VAL v108;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v107), v106, &v108);
				VAL v109;
				mw_mirth_c99_ZPlusC99_line(v108, &v109);
				VTUP(v109)->cells[4] = MKI64(v92);
				VTUP(branch_ZPlusC99Branch_84)->cells[1] = v109;
				VAL v110;
				VAL v111;
				VAL v112;
				mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(branch_ZPlusC99Branch_84, v102, &v110, &v111, &v112);
				mw_mirth_c99_ZPlusC99Value_rdrop(v112);
				VAL v113;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v110, v111, &v113);
				uint64_t branch_Tag_114;
				uint64_t branch_Label_115;
				VAL branch_ZPlusC99Branch_116;
				switch (get_data_tag(v103)) {
					case 0LL: { // +Left
						VAL v117;
						mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v103, &v117);
						VAL v118;
						mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v113, v117, &v118);
						branch_ZPlusC99Branch_116 = v118;
						branch_Label_115 = v105;
						branch_Tag_114 = v104;
					} break;
					case 1LL: { // +Right
						VAL v119;
						mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v103, &v119);
						VAL v120;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v113, v119, &v120);
						branch_ZPlusC99Branch_116 = v120;
						branch_Label_115 = v105;
						branch_Tag_114 = v104;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusC99Branch_70 = branch_ZPlusC99Branch_116;
				branch_Label_69 = branch_Label_115;
				branch_Tag_68 = branch_Tag_114;
			} break;
			case 1LL: { // Right
				VAL v121 = mtp_std_either_Either_2_Right(v6);
				VAL v122;
				VAL v123 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v121, v66, &v122);
				incref(v123);
				incref(v123);
				int64_t v124 = get_data_tag(v123);
				decref(v123);
				int64_t v125 = 0LL;
				bool v126 = (v124 != v125);
				uint64_t branch_Label_127;
				uint64_t branch_Tag_128;
				VAL branch_ZPlusC99ValueZDivResource_129;
				VAL branch_C99ReprType_130;
				VAL branch_C99ReprType_131;
				int64_t branch_Bool_132;
				VAL branch_Str_133;
				VAL branch_ZPlusC99Branch_134;
				if (v126) {
					VAL v135 = VTUP(v122)->cells[1];
					VAL v136;
					VAL v137 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v135, &v136);
					VTUP(v122)->cells[1] = v136;
					branch_ZPlusC99Branch_134 = v122;
					branch_Str_133 = v137;
					branch_Bool_132 = ((int64_t)v126);
					branch_C99ReprType_131 = v123;
					branch_C99ReprType_130 = v123;
					branch_ZPlusC99ValueZDivResource_129 = v67;
					branch_Tag_128 = v4;
					branch_Label_127 = v5;
				} else {
					STR* v138;
					STRLIT(v138, "0", 1);
					branch_ZPlusC99Branch_134 = v122;
					branch_Str_133 = MKSTR(v138);
					branch_Bool_132 = ((int64_t)v126);
					branch_C99ReprType_131 = v123;
					branch_C99ReprType_130 = v123;
					branch_ZPlusC99ValueZDivResource_129 = v67;
					branch_Tag_128 = v4;
					branch_Label_127 = v5;
				}
				int64_t v139 = value_i64(VTUP(branch_ZPlusC99Branch_134)->cells[4]);
				bool v140 = (((bool)branch_Bool_132) && ((bool)v139));
				VAL v141 = VTUP(branch_ZPlusC99Branch_134)->cells[1];
				int64_t v142 = value_i64(VTUP(v141)->cells[4]);
				bool v143 = (v140 && ((bool)v142));
				VTUP(v141)->cells[4] = MKBOOL(v143);
				VAL v144;
				mw_mirth_c99_ZPlusC99_indent(v141, &v144);
				incref(branch_C99ReprType_131);
				VAL v145 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_131);
				VAL v146;
				mw_mirth_c99_ZPlusC99_put(v145, v144, &v146);
				STR* v147;
				STRLIT(v147, " ", 1);
				VAL v148;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v147), v146, &v148);
				incref(branch_Str_133);
				VAL v149;
				mw_mirth_c99_ZPlusC99_put(branch_Str_133, v148, &v149);
				STR* v150;
				STRLIT(v150, " = ", 3);
				VAL v151;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v150), v149, &v151);
				VAL v152;
				mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_131, branch_Str_133, &v152);
				VAL v153;
				uint64_t v154;
				uint64_t v155;
				VAL v156;
				mw_mirth_c99_C99ReprType_vZ_macro_1_sp3(branch_Label_127, branch_Tag_128, branch_ZPlusC99ValueZDivResource_129, v151, branch_C99ReprType_130, &v153, &v154, &v155, &v156);
				STR* v157;
				STRLIT(v157, ";", 1);
				VAL v158;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v157), v156, &v158);
				VAL v159;
				mw_mirth_c99_ZPlusC99_line(v158, &v159);
				VTUP(v159)->cells[4] = MKI64(v142);
				VTUP(branch_ZPlusC99Branch_134)->cells[1] = v159;
				VAL v160;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_134, v152, &v160);
				VAL v161;
				mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZ_valueZDivresourceZBang(v160, v153, &v161);
				branch_ZPlusC99Branch_70 = v161;
				branch_Label_69 = v155;
				branch_Tag_68 = v154;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_14 = branch_ZPlusC99Branch_70;
		branch_Tag_13 = branch_Tag_68;
		branch_Label_12 = branch_Label_69;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_14;
}
static void mw_mirth_c99_c99Z_tagZ_setZ_labelZBang (VAL in_TagField_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	uint64_t v4;
	uint64_t v5;
	VAL v6;
	mtp_mirth_data_TagField_TagField(in_TagField_1, &v4, &v5, &v6);
	VAL v7;
	VAL v8 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp4(v4, in_ZPlusC99Branch_2, &v7);
	int64_t v9 = get_data_tag(v8);
	decref(v8);
	int64_t v10 = 1LL;
	bool v11 = (v9 == v10);
	uint64_t branch_Label_12;
	uint64_t branch_Tag_13;
	VAL branch_ZPlusC99Branch_14;
	if (v11) {
		uint64_t branch_Label_15;
		uint64_t branch_Tag_16;
		VAL branch_ZPlusC99Branch_17;
		switch (get_data_tag(v6)) {
			case 0LL: { // Left
				VAL v18 = mtp_std_either_Either_2_Left(v6);
				uint64_t v19 = mw_mirth_data_Tag_data(v4);
				VAL v20;
				VAL v21;
				mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_valueZDivresourceZ_dataZBang(v19, v7, &v20, &v21);
				uint64_t branch_Label_22;
				uint64_t branch_Tag_23;
				VAL branch_ZPlusC99Branch_24;
				switch (get_data_tag(v21)) {
					case 1LL: { // +Right
						VAL v25;
						mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v21, &v25);
						VAL v26;
						mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang(v20, v25, &v26);
						VAL v27;
						VAL v28 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v18, v26, &v27);
						VAL v29;
						VAL v30;
						mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v27, v28, &v29, &v30);
						VAL v31;
						mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v30, &v31);
						VAL v32;
						mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v29, v31, &v32);
						branch_ZPlusC99Branch_24 = v32;
						branch_Tag_23 = v4;
						branch_Label_22 = v5;
					} break;
					case 0LL: { // +Left
						VAL v33;
						mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v21, &v33);
						decref(v18);
						VAL v34;
						mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v20, v33, &v34);
						branch_ZPlusC99Branch_24 = v34;
						branch_Tag_23 = v4;
						branch_Label_22 = v5;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusC99Branch_17 = branch_ZPlusC99Branch_24;
				branch_Tag_16 = branch_Tag_23;
				branch_Label_15 = branch_Label_22;
			} break;
			case 1LL: { // Right
				VAL v35 = mtp_std_either_Either_2_Right(v6);
				VAL v36 = MKI64(4LL /* C99RT_I64 */);
				VAL v37;
				VAL v38;
				mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v7, v36, &v37, &v38);
				mw_mirth_c99_ZPlusC99Resource_rdrop(v38);
				decref(v35);
				branch_ZPlusC99Branch_17 = v37;
				branch_Tag_16 = v4;
				branch_Label_15 = v5;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_14 = branch_ZPlusC99Branch_17;
		branch_Tag_13 = branch_Tag_16;
		branch_Label_12 = branch_Label_15;
	} else {
		uint64_t v39 = mw_mirth_data_Tag_data(v4);
		VAL v40;
		VAL v41;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_valueZDivresourceZ_dataZBang(v39, v7, &v40, &v41);
		incref(v6);
		uint64_t branch_Label_42;
		uint64_t branch_Tag_43;
		VAL branch_ZPlusC99ValueZDivResource_44;
		VAL branch_Either_45;
		VAL branch_ZPlusC99Branch_46;
		VAL branch_Str_47;
		switch (get_data_tag(v6)) {
			case 0LL: { // Left
				VAL v48 = mtp_std_either_Either_2_Left(v6);
				VAL v49;
				VAL v50 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v48, v40, &v49);
				VAL v51;
				VAL v52;
				mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v49, v50, &v51, &v52);
				VAL v53 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v52);
				branch_Str_47 = v53;
				branch_ZPlusC99Branch_46 = v51;
				branch_Either_45 = v6;
				branch_ZPlusC99ValueZDivResource_44 = v41;
				branch_Tag_43 = v4;
				branch_Label_42 = v5;
			} break;
			case 1LL: { // Right
				VAL v54 = mtp_std_either_Either_2_Right(v6);
				VAL v55;
				VAL v56 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v54, v40, &v55);
				VAL v57;
				VAL v58;
				mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v55, v56, &v57, &v58);
				VAL v59 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v58);
				branch_Str_47 = v59;
				branch_ZPlusC99Branch_46 = v57;
				branch_Either_45 = v6;
				branch_ZPlusC99ValueZDivResource_44 = v41;
				branch_Tag_43 = v4;
				branch_Label_42 = v5;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		uint64_t branch_Tag_60;
		uint64_t branch_Label_61;
		VAL branch_ZPlusC99Branch_62;
		switch (get_data_tag(branch_ZPlusC99ValueZDivResource_44)) {
			case 0LL: { // +Left
				VAL v63;
				mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(branch_ZPlusC99ValueZDivResource_44, &v63);
				VAL v64 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v63);
				VAL v65 = MKI64(1LL /* C99RT_VAL */);
				incref(v65);
				int64_t v66 = get_data_tag(v65);
				decref(v65);
				int64_t v67 = 0LL;
				bool v68 = (v66 != v67);
				VAL branch_Str_69;
				uint64_t branch_Label_70;
				uint64_t branch_Tag_71;
				VAL branch_Str_72;
				VAL branch_C99ReprType_73;
				int64_t branch_Bool_74;
				VAL branch_Str_75;
				VAL branch_ZPlusC99Branch_76;
				if (v68) {
					VAL v77 = VTUP(branch_ZPlusC99Branch_46)->cells[1];
					VAL v78;
					VAL v79 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v77, &v78);
					VTUP(branch_ZPlusC99Branch_46)->cells[1] = v78;
					branch_ZPlusC99Branch_76 = branch_ZPlusC99Branch_46;
					branch_Str_75 = v79;
					branch_Bool_74 = ((int64_t)v68);
					branch_C99ReprType_73 = v65;
					branch_Str_72 = v64;
					branch_Tag_71 = branch_Tag_43;
					branch_Label_70 = branch_Label_42;
					branch_Str_69 = branch_Str_47;
				} else {
					STR* v80;
					STRLIT(v80, "0", 1);
					branch_ZPlusC99Branch_76 = branch_ZPlusC99Branch_46;
					branch_Str_75 = MKSTR(v80);
					branch_Bool_74 = ((int64_t)v68);
					branch_C99ReprType_73 = v65;
					branch_Str_72 = v64;
					branch_Tag_71 = branch_Tag_43;
					branch_Label_70 = branch_Label_42;
					branch_Str_69 = branch_Str_47;
				}
				int64_t v81 = value_i64(VTUP(branch_ZPlusC99Branch_76)->cells[4]);
				bool v82 = (((bool)branch_Bool_74) && ((bool)v81));
				VAL v83 = VTUP(branch_ZPlusC99Branch_76)->cells[1];
				int64_t v84 = value_i64(VTUP(v83)->cells[4]);
				bool v85 = (v82 && ((bool)v84));
				VTUP(v83)->cells[4] = MKBOOL(v85);
				VAL v86;
				mw_mirth_c99_ZPlusC99_indent(v83, &v86);
				incref(branch_C99ReprType_73);
				VAL v87 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_73);
				VAL v88;
				mw_mirth_c99_ZPlusC99_put(v87, v86, &v88);
				STR* v89;
				STRLIT(v89, " ", 1);
				VAL v90;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v89), v88, &v90);
				incref(branch_Str_75);
				VAL v91;
				mw_mirth_c99_ZPlusC99_put(branch_Str_75, v90, &v91);
				STR* v92;
				STRLIT(v92, " = ", 3);
				VAL v93;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v92), v91, &v93);
				VAL v94;
				mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_73, branch_Str_75, &v94);
				STR* v95;
				STRLIT(v95, "tup_replace(", 12);
				VAL v96;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v95), v93, &v96);
				VAL v97;
				mw_mirth_c99_ZPlusC99_put(branch_Str_72, v96, &v97);
				STR* v98;
				STRLIT(v98, ", ", 2);
				VAL v99;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v98), v97, &v99);
				VAL v100;
				int64_t v101 = mw_mirth_c99_c99Z_tagZ_labelZ_index(branch_Tag_71, branch_Label_70, v99, &v100);
				STR* v102 = i64_show(v101);
				VAL v103;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v102), v100, &v103);
				STR* v104;
				STRLIT(v104, ", ", 2);
				VAL v105;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v104), v103, &v105);
				VAL v106;
				mw_mirth_c99_ZPlusC99_put(branch_Str_69, v105, &v106);
				STR* v107;
				STRLIT(v107, ")", 1);
				VAL v108;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v107), v106, &v108);
				STR* v109;
				STRLIT(v109, ";", 1);
				VAL v110;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v109), v108, &v110);
				VAL v111;
				mw_mirth_c99_ZPlusC99_line(v110, &v111);
				VTUP(v111)->cells[4] = MKI64(v84);
				VTUP(branch_ZPlusC99Branch_76)->cells[1] = v111;
				VAL v112;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_76, v94, &v112);
				decref(branch_Either_45);
				branch_ZPlusC99Branch_62 = v112;
				branch_Label_61 = branch_Label_70;
				branch_Tag_60 = branch_Tag_71;
			} break;
			case 1LL: { // +Right
				VAL v113;
				mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(branch_ZPlusC99ValueZDivResource_44, &v113);
				uint64_t branch_Label_114;
				uint64_t branch_Tag_115;
				VAL branch_Str_116;
				VAL branch_ZPlusC99Resource_117;
				VAL branch_ZPlusC99Branch_118;
				switch (get_data_tag(branch_Either_45)) {
					case 0LL: { // Left
						VAL v119 = mtp_std_either_Either_2_Left(branch_Either_45);
						VAL v120;
						VAL v121 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v119, branch_ZPlusC99Branch_46, &v120);
						incref(v121);
						int64_t v122 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(v121);
						VAL branch_C99ReprType_123;
						VAL branch_ZPlusC99Resource_124;
						uint64_t branch_Tag_125;
						uint64_t branch_Label_126;
						VAL branch_ZPlusC99Branch_127;
						if (((bool)v122)) {
							incref(v121);
							incref(v121);
							int64_t v128 = get_data_tag(v121);
							decref(v121);
							int64_t v129 = 0LL;
							bool v130 = (v128 != v129);
							uint64_t branch_Label_131;
							uint64_t branch_Tag_132;
							VAL branch_ZPlusC99Resource_133;
							VAL branch_C99ReprType_134;
							int64_t branch_Bool_135;
							VAL branch_Str_136;
							VAL branch_ZPlusC99Branch_137;
							if (v130) {
								VAL v138 = VTUP(v120)->cells[1];
								VAL v139;
								VAL v140 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v138, &v139);
								VTUP(v120)->cells[1] = v139;
								branch_ZPlusC99Branch_137 = v120;
								branch_Str_136 = v140;
								branch_Bool_135 = ((int64_t)v130);
								branch_C99ReprType_134 = v121;
								branch_ZPlusC99Resource_133 = v113;
								branch_Tag_132 = branch_Tag_43;
								branch_Label_131 = branch_Label_42;
							} else {
								STR* v141;
								STRLIT(v141, "0", 1);
								branch_ZPlusC99Branch_137 = v120;
								branch_Str_136 = MKSTR(v141);
								branch_Bool_135 = ((int64_t)v130);
								branch_C99ReprType_134 = v121;
								branch_ZPlusC99Resource_133 = v113;
								branch_Tag_132 = branch_Tag_43;
								branch_Label_131 = branch_Label_42;
							}
							int64_t v142 = value_i64(VTUP(branch_ZPlusC99Branch_137)->cells[4]);
							bool v143 = (((bool)branch_Bool_135) && ((bool)v142));
							VAL v144 = VTUP(branch_ZPlusC99Branch_137)->cells[1];
							int64_t v145 = value_i64(VTUP(v144)->cells[4]);
							bool v146 = (v143 && ((bool)v145));
							VTUP(v144)->cells[4] = MKBOOL(v146);
							VAL v147;
							mw_mirth_c99_ZPlusC99_indent(v144, &v147);
							incref(branch_C99ReprType_134);
							VAL v148 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_134);
							VAL v149;
							mw_mirth_c99_ZPlusC99_put(v148, v147, &v149);
							STR* v150;
							STRLIT(v150, " ", 1);
							VAL v151;
							mw_mirth_c99_ZPlusC99_put(MKSTR(v150), v149, &v151);
							incref(branch_Str_136);
							VAL v152;
							mw_mirth_c99_ZPlusC99_put(branch_Str_136, v151, &v152);
							STR* v153;
							STRLIT(v153, " = ", 3);
							VAL v154;
							mw_mirth_c99_ZPlusC99_put(MKSTR(v153), v152, &v154);
							VAL v155;
							mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_134, branch_Str_136, &v155);
							STR* v156;
							STRLIT(v156, "VTUP(", 5);
							VAL v157;
							mw_mirth_c99_ZPlusC99_put(MKSTR(v156), v154, &v157);
							VAL v158;
							VAL v159;
							mw_mirth_c99_ZPlusC99Resource_rdup(branch_ZPlusC99Resource_133, &v158, &v159);
							VAL v160 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v158);
							VAL v161;
							mw_mirth_c99_ZPlusC99_put(v160, v157, &v161);
							STR* v162;
							STRLIT(v162, ")->cells[", 9);
							VAL v163;
							mw_mirth_c99_ZPlusC99_put(MKSTR(v162), v161, &v163);
							VAL v164;
							int64_t v165 = mw_mirth_c99_c99Z_tagZ_labelZ_index(branch_Tag_132, branch_Label_131, v163, &v164);
							STR* v166 = i64_show(v165);
							VAL v167;
							mw_mirth_c99_ZPlusC99_put(MKSTR(v166), v164, &v167);
							STR* v168;
							STRLIT(v168, "]", 1);
							VAL v169;
							mw_mirth_c99_ZPlusC99_put(MKSTR(v168), v167, &v169);
							STR* v170;
							STRLIT(v170, ";", 1);
							VAL v171;
							mw_mirth_c99_ZPlusC99_put(MKSTR(v170), v169, &v171);
							VAL v172;
							mw_mirth_c99_ZPlusC99_line(v171, &v172);
							VTUP(v172)->cells[4] = MKI64(v145);
							VTUP(branch_ZPlusC99Branch_137)->cells[1] = v172;
							VAL v173;
							mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(branch_ZPlusC99Branch_137, v155, &v173);
							branch_ZPlusC99Branch_127 = v173;
							branch_Label_126 = branch_Label_131;
							branch_Tag_125 = branch_Tag_132;
							branch_ZPlusC99Resource_124 = v159;
							branch_C99ReprType_123 = v121;
						} else {
							branch_ZPlusC99Branch_127 = v120;
							branch_Label_126 = branch_Label_42;
							branch_Tag_125 = branch_Tag_43;
							branch_ZPlusC99Resource_124 = v113;
							branch_C99ReprType_123 = v121;
						}
						decref(branch_C99ReprType_123);
						branch_ZPlusC99Branch_118 = branch_ZPlusC99Branch_127;
						branch_ZPlusC99Resource_117 = branch_ZPlusC99Resource_124;
						branch_Str_116 = branch_Str_47;
						branch_Tag_115 = branch_Tag_125;
						branch_Label_114 = branch_Label_126;
					} break;
					case 1LL: { // Right
						VAL v174 = mtp_std_either_Either_2_Right(branch_Either_45);
						decref(v174);
						branch_ZPlusC99Branch_118 = branch_ZPlusC99Branch_46;
						branch_ZPlusC99Resource_117 = v113;
						branch_Str_116 = branch_Str_47;
						branch_Tag_115 = branch_Tag_43;
						branch_Label_114 = branch_Label_42;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v175 = value_i64(VTUP(branch_ZPlusC99Branch_118)->cells[4]);
				VAL v176 = VTUP(branch_ZPlusC99Branch_118)->cells[1];
				int64_t v177 = value_i64(VTUP(v176)->cells[4]);
				bool v178 = (((bool)v175) && ((bool)v177));
				VTUP(v176)->cells[4] = MKBOOL(v178);
				VAL v179;
				mw_mirth_c99_ZPlusC99_indent(v176, &v179);
				STR* v180;
				STRLIT(v180, "VTUP(", 5);
				VAL v181;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v180), v179, &v181);
				VAL v182;
				VAL v183;
				mw_mirth_c99_ZPlusC99Resource_rdup(branch_ZPlusC99Resource_117, &v182, &v183);
				VAL v184 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v182);
				VAL v185;
				mw_mirth_c99_ZPlusC99_put(v184, v181, &v185);
				STR* v186;
				STRLIT(v186, ")->cells[", 9);
				VAL v187;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v186), v185, &v187);
				VAL v188;
				int64_t v189 = mw_mirth_c99_c99Z_tagZ_labelZ_index(branch_Tag_115, branch_Label_114, v187, &v188);
				STR* v190 = i64_show(v189);
				VAL v191;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v190), v188, &v191);
				STR* v192;
				STRLIT(v192, "] = ", 4);
				VAL v193;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v192), v191, &v193);
				VAL v194;
				mw_mirth_c99_ZPlusC99_put(branch_Str_116, v193, &v194);
				STR* v195;
				STRLIT(v195, ";", 1);
				VAL v196;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v195), v194, &v196);
				VAL v197;
				mw_mirth_c99_ZPlusC99_line(v196, &v197);
				VTUP(v197)->cells[4] = MKI64(v177);
				VTUP(branch_ZPlusC99Branch_118)->cells[1] = v197;
				VAL v198;
				mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_118, v183, &v198);
				branch_ZPlusC99Branch_62 = v198;
				branch_Label_61 = branch_Label_114;
				branch_Tag_60 = branch_Tag_115;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_14 = branch_ZPlusC99Branch_62;
		branch_Tag_13 = branch_Tag_60;
		branch_Label_12 = branch_Label_61;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_14;
}
static void mw_mirth_c99_c99Z_externalZ_blocksZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_external_ExternalBlock_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12;
		mw_mirth_c99_c99Z_externalZ_blockZBang(((uint64_t)v11), v10, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = i64_add(v11, v13);
		void* v15 = mbuf_mirth_external_ExternalBlock_NUM;
		int64_t v16 = *(int64_t*)v15;
		bool v17 = (v14 <= v16);
		v9 = v17;
		v8 = v14;
		v7 = v12;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_externalZ_blockZBang (uint64_t in_ExternalBlock_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4 = mw_mirth_external_ExternalBlock_parts(in_ExternalBlock_1);
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_ZPlusC99_2;
	VAL v7 = v4;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusC99_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL branch_ZPlusC99_18;
				switch (get_data_tag(v17)) {
					case 0LL: { // EBPCode
						VAL v19 = mtp_mirth_external_ExternalBlockPart_EBPCode(v17);
						VAL v20;
						mw_mirth_c99_ZPlusC99_put(v19, v10, &v20);
						VAL v21;
						mw_mirth_c99_ZPlusC99_line(v20, &v21);
						branch_ZPlusC99_18 = v21;
					} break;
					case 1LL: { // EBPDef
						uint64_t v22 = mtp_mirth_external_ExternalBlockPart_EBPDef(v17);
						VAL v23;
						mw_mirth_c99_c99Z_externalZ_defZBang(v22, v10, &v23);
						branch_ZPlusC99_18 = v23;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v24 = 1LL /* True */;
				branch_Bool_15 = v24;
				branch_List_14 = v16;
				branch_ZPlusC99_13 = branch_ZPlusC99_18;
			} break;
			case 0LL: { // Nil
				VAL v25 = MKI64(0LL /* Nil */);
				int64_t v26 = 0LL /* False */;
				branch_Bool_15 = v26;
				branch_List_14 = v25;
				branch_ZPlusC99_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusC99_13;
	}
	decref(v7);
	*out_ZPlusC99_3 = v6;
}
static VAL mw_mirth_external_External_cnameZ_type (uint64_t in_External_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5) {
	VAL v6;
	VAL v7 = mw_mirth_external_External_cname(in_ZPlusMirth_2, in_External_1, &v6);
	VAL v8;
	VAL v9 = mw_mirth_external_External_type(v6, in_External_1, &v8);
	*out_ZPlusMirth_5 = v8;
	*out_ArrowType_4 = v9;
	return v7;
}
static VAL mw_mirth_external_External_c99Z_api (uint64_t in_External_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4) {
	void* v5 = mfld_mirth_external_External_ZTildec99Z_api(in_External_1);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusC99_7;
	uint64_t branch_External_8;
	VAL branch_C99API_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_C99API_9 = v10;
		branch_External_8 = in_External_1;
		branch_ZPlusC99_7 = in_ZPlusC99_2;
	} else {
		VAL v11 = VTUP(in_ZPlusC99_2)->cells[7];
		VAL v12;
		VAL v13;
		VAL v14 = mw_mirth_external_External_cnameZ_type(in_External_1, v11, &v12, &v13);
		VTUP(in_ZPlusC99_2)->cells[7] = v13;
		VAL v15;
		VAL v16 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, v12, in_ZPlusC99_2, &v15);
		incref(v16);
		mut_set(v16, v5);
		branch_C99API_9 = v16;
		branch_External_8 = in_External_1;
		branch_ZPlusC99_7 = v15;
	}
	*out_ZPlusC99_4 = branch_ZPlusC99_7;
	return branch_C99API_9;
}
static void mw_mirth_c99_c99Z_externalZ_callZBang (VAL in_List_1, uint64_t in_External_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_3)->cells[1];
	VAL v6;
	VAL v7 = mw_mirth_external_External_c99Z_api(in_External_2, v5, &v6);
	VTUP(in_ZPlusC99Branch_3)->cells[1] = v6;
	VAL v8;
	mw_mirth_c99_c99Z_smartZ_callZBang(in_List_1, v7, in_ZPlusC99Branch_3, &v8);
	*out_ZPlusC99Branch_4 = v8;
}
static void mw_mirth_c99_c99Z_externalZ_defZBang (uint64_t in_External_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4 = VTUP(in_ZPlusC99_2)->cells[7];
	VAL v5;
	VAL v6 = mw_mirth_external_External_ctype(v4, in_External_1, &v5);
	VTUP(in_ZPlusC99_2)->cells[7] = v5;
	incref(v6);
	VAL v7 = VTUP(v6)->cells[2];
	incref(v7);
	decref(v6);
	VAL v8 = VTUP(v7)->cells[2];
	incref(v8);
	decref(v7);
	VAL v9 = MKI64(0LL /* None */);
	int64_t v10 = 1LL /* True */;
	VAL v11 = v9;
	VAL v12 = v8;
	int64_t v13 = v10;
	int64_t v14 = v10;
	while (((bool)v14)) {
		VAL v15 = v11;
		VAL v16 = v12;
		int64_t v17 = v13;
		VAL v18;
		VAL v19 = mw_std_list_List_1_uncons(v16, &v18);
		VAL branch_Maybe_20;
		VAL branch_List_21;
		int64_t branch_Bool_22;
		switch (get_data_tag(v19)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v19);
				incref(v23);
				incref(v23);
				VAL v24 = mw_mirth_type_CTypeStackPart_labelZAsk(v23);
				int64_t v25 = get_data_tag(v24);
				decref(v24);
				int64_t v26 = 0LL;
				bool v27 = (v25 == v26);
				int64_t branch_Bool_28;
				if (v27) {
					VAL v29 = mw_mirth_type_CTypeStackPart_ctype(v23);
					int64_t v30 = mw_mirth_type_CType_phantomZAsk(v29);
					bool v31 = !((bool)v30);
					branch_Bool_28 = ((int64_t)v31);
				} else {
					decref(v23);
					int64_t v32 = 0LL /* False */;
					branch_Bool_28 = v32;
				}
				VAL branch_Maybe_33;
				if (((bool)branch_Bool_28)) {
					VAL v34 = mtw_std_maybe_Maybe_1_Some(v23);
					branch_Maybe_33 = v34;
				} else {
					decref(v23);
					VAL v35 = MKI64(0LL /* None */);
					branch_Maybe_33 = v35;
				}
				VAL branch_Maybe_36;
				VAL branch_List_37;
				switch (get_data_tag(branch_Maybe_33)) {
					case 0LL: { // None
						branch_List_37 = v18;
						branch_Maybe_36 = v15;
					} break;
					default: {
						decref(v18);
						decref(v15);
						VAL v38 = MKI64(0LL /* Nil */);
						branch_List_37 = v38;
						branch_Maybe_36 = branch_Maybe_33;
					} break;
				}
				int64_t v39 = 1LL /* True */;
				branch_Bool_22 = v39;
				branch_List_21 = branch_List_37;
				branch_Maybe_20 = branch_Maybe_36;
			} break;
			case 0LL: { // None
				int64_t v40 = 0LL /* False */;
				branch_Bool_22 = v40;
				branch_List_21 = v18;
				branch_Maybe_20 = v15;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v14 = branch_Bool_22;
		v13 = branch_Bool_22;
		v12 = branch_List_21;
		v11 = branch_Maybe_20;
	}
	decref(v12);
	incref(v11);
	VAL branch_CType_41;
	switch (get_data_tag(v11)) {
		case 1LL: { // Some
			VAL v42 = mtp_std_maybe_Maybe_1_Some(v11);
			VAL v43 = mw_mirth_type_CTypeStackPart_ctype(v42);
			branch_CType_41 = v43;
		} break;
		case 0LL: { // None
			VAL v44 = MKI64(5LL /* Phantom */);
			branch_CType_41 = v44;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v45 = mw_mirth_type_CType_cname(branch_CType_41);
	VAL v46;
	mw_mirth_c99_ZPlusC99_put(v45, in_ZPlusC99_2, &v46);
	STR* v47;
	STRLIT(v47, " ", 1);
	VAL v48;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v47), v46, &v48);
	VAL v49 = mw_mirth_external_External_symbol(in_External_1);
	VAL v50;
	mw_mirth_c99_ZPlusC99_put(v49, v48, &v50);
	STR* v51;
	STRLIT(v51, " (", 2);
	VAL v52;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v51), v50, &v52);
	incref(v6);
	VAL v53 = VTUP(v6)->cells[1];
	incref(v53);
	decref(v6);
	VAL v54 = VTUP(v53)->cells[2];
	incref(v54);
	decref(v53);
	VAL v55 = MKI64(0LL /* Nil */);
	VAL v56 = mw_std_list_List_1_reverse(v55);
	int64_t v57 = 1LL /* True */;
	VAL v58 = v56;
	VAL v59 = v54;
	int64_t v60 = v57;
	int64_t v61 = v57;
	while (((bool)v61)) {
		VAL v62 = v58;
		VAL v63 = v59;
		int64_t v64 = v60;
		VAL branch_ZPlusList_65;
		VAL branch_List_66;
		int64_t branch_Bool_67;
		switch (get_data_tag(v63)) {
			case 1LL: { // Cons
				VAL v68;
				VAL v69 = mtp_std_list_List_1_Cons(v63, &v68);
				incref(v69);
				VAL v70 = mw_mirth_type_CTypeStackPart_ctype(v69);
				int64_t v71 = mw_mirth_type_CType_phantomZAsk(v70);
				bool v72 = !((bool)v71);
				VAL branch_ZPlusList_73;
				if (v72) {
					VAL v74 = mtw_std_list_List_1_Cons(v69, v62);
					branch_ZPlusList_73 = v74;
				} else {
					decref(v69);
					branch_ZPlusList_73 = v62;
				}
				int64_t v75 = 1LL /* True */;
				branch_Bool_67 = v75;
				branch_List_66 = v68;
				branch_ZPlusList_65 = branch_ZPlusList_73;
			} break;
			case 0LL: { // Nil
				VAL v76 = MKI64(0LL /* Nil */);
				int64_t v77 = 0LL /* False */;
				branch_Bool_67 = v77;
				branch_List_66 = v76;
				branch_ZPlusList_65 = v62;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v61 = branch_Bool_67;
		v60 = branch_Bool_67;
		v59 = branch_List_66;
		v58 = branch_ZPlusList_65;
	}
	decref(v59);
	VAL v78 = mw_std_list_List_1_reverse(v58);
	VAL branch_Maybe_79;
	uint64_t branch_External_80;
	VAL branch_CTypeArrow_81;
	VAL branch_ZPlusC99_82;
	switch (get_data_tag(v78)) {
		case 0LL: { // Nil
			STR* v83;
			STRLIT(v83, "void", 4);
			VAL v84;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v83), v52, &v84);
			branch_ZPlusC99_82 = v84;
			branch_CTypeArrow_81 = v6;
			branch_External_80 = in_External_1;
			branch_Maybe_79 = v11;
		} break;
		default: {
			VAL v85;
			VAL v86 = mw_std_list_List_1_uncons(v78, &v85);
			VAL branch_ZPlusC99_87;
			switch (get_data_tag(v86)) {
				case 1LL: { // Some
					VAL v88 = mtp_std_maybe_Maybe_1_Some(v86);
					VAL v89 = mw_mirth_type_CTypeStackPart_ctype(v88);
					VAL v90 = mw_mirth_type_CType_cname(v89);
					VAL v91;
					mw_mirth_c99_ZPlusC99_put(v90, v52, &v91);
					branch_ZPlusC99_87 = v91;
				} break;
				case 0LL: { // None
					branch_ZPlusC99_87 = v52;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			int64_t v92 = 1LL /* True */;
			VAL v93 = branch_ZPlusC99_87;
			VAL v94 = v85;
			int64_t v95 = v92;
			int64_t v96 = v92;
			while (((bool)v96)) {
				VAL v97 = v93;
				VAL v98 = v94;
				int64_t v99 = v95;
				VAL branch_ZPlusC99_100;
				VAL branch_List_101;
				int64_t branch_Bool_102;
				switch (get_data_tag(v98)) {
					case 1LL: { // Cons
						VAL v103;
						VAL v104 = mtp_std_list_List_1_Cons(v98, &v103);
						STR* v105;
						STRLIT(v105, ", ", 2);
						VAL v106;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v105), v97, &v106);
						VAL v107 = mw_mirth_type_CTypeStackPart_ctype(v104);
						VAL v108 = mw_mirth_type_CType_cname(v107);
						VAL v109;
						mw_mirth_c99_ZPlusC99_put(v108, v106, &v109);
						int64_t v110 = 1LL /* True */;
						branch_Bool_102 = v110;
						branch_List_101 = v103;
						branch_ZPlusC99_100 = v109;
					} break;
					case 0LL: { // Nil
						VAL v111 = MKI64(0LL /* Nil */);
						int64_t v112 = 0LL /* False */;
						branch_Bool_102 = v112;
						branch_List_101 = v111;
						branch_ZPlusC99_100 = v97;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v96 = branch_Bool_102;
				v95 = branch_Bool_102;
				v94 = branch_List_101;
				v93 = branch_ZPlusC99_100;
			}
			decref(v94);
			branch_ZPlusC99_82 = v93;
			branch_CTypeArrow_81 = v6;
			branch_External_80 = in_External_1;
			branch_Maybe_79 = v11;
		} break;
	}
	STR* v113;
	STRLIT(v113, ");", 2);
	VAL v114;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v113), branch_ZPlusC99_82, &v114);
	VAL v115;
	mw_mirth_c99_ZPlusC99_line(v114, &v115);
	VAL v116;
	VAL v117 = mw_mirth_external_External_c99Z_api(branch_External_80, v115, &v116);
	VAL v118;
	VAL v119 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp88(v117, v116, &v118);
	int64_t v120 = value_i64(VTUP(v118)->cells[2]);
	int64_t v121 = 1LL;
	int64_t v122 = i64_add(v120, v121);
	VTUP(v118)->cells[2] = MKI64(v122);
	incref(v119);
	VAL v123;
	mw_mirth_c99_c99Z_apiZ_enterZBang(v119, v118, &v123);
	incref(branch_CTypeArrow_81);
	VAL v124 = VTUP(branch_CTypeArrow_81)->cells[1];
	incref(v124);
	decref(branch_CTypeArrow_81);
	VAL v125 = VTUP(v124)->cells[2];
	incref(v125);
	decref(v124);
	incref(v125);
	int64_t v126 = mw_std_list_List_1_len(v125);
	VAL v127 = mw_std_list_List_1_reverse(v125);
	int64_t v128 = 1LL /* True */;
	int64_t v129 = v126;
	VAL v130 = v123;
	VAL v131 = v127;
	int64_t v132 = v128;
	int64_t v133 = v128;
	while (((bool)v133)) {
		int64_t v134 = v129;
		VAL v135 = v130;
		VAL v136 = v131;
		int64_t v137 = v132;
		VAL branch_ZPlusC99Branch_138;
		int64_t branch_Nat_139;
		VAL branch_List_140;
		int64_t branch_Bool_141;
		switch (get_data_tag(v136)) {
			case 1LL: { // Cons
				VAL v142;
				VAL v143 = mtp_std_list_List_1_Cons(v136, &v142);
				incref(v143);
				VAL v144;
				VAL v145 = mw_mirth_type_CTypeStackPart_c99Z_pop(v143, v135, &v144);
				incref(v143);
				VAL v146 = mw_mirth_type_CTypeStackPart_ctype(v143);
				int64_t v147 = mw_mirth_type_CType_phantomZAsk(v146);
				int64_t branch_Nat_148;
				VAL branch_ZPlusC99Branch_149;
				VAL branch_CTypeStackPart_150;
				if (((bool)v147)) {
					decref(v145);
					branch_CTypeStackPart_150 = v143;
					branch_ZPlusC99Branch_149 = v144;
					branch_Nat_148 = v134;
				} else {
					int64_t v151 = value_i64(VTUP(v144)->cells[4]);
					VAL v152 = VTUP(v144)->cells[1];
					int64_t v153 = value_i64(VTUP(v152)->cells[4]);
					bool v154 = (((bool)v151) && ((bool)v153));
					VTUP(v152)->cells[4] = MKBOOL(v154);
					VAL v155;
					mw_mirth_c99_ZPlusC99_indent(v152, &v155);
					incref(v143);
					VAL v156 = mw_mirth_type_CTypeStackPart_ctype(v143);
					VAL v157 = mw_mirth_type_CType_cname(v156);
					VAL v158;
					mw_mirth_c99_ZPlusC99_put(v157, v155, &v158);
					STR* v159;
					STRLIT(v159, " ", 1);
					VAL v160;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v159), v158, &v160);
					incref(v143);
					int64_t v161;
					VAL v162;
					VAL v163 = mw_mirth_type_CTypeStackPart_c99Z_argZ_name(v134, v143, v160, &v161, &v162);
					VAL v164;
					mw_mirth_c99_ZPlusC99_put(v163, v162, &v164);
					STR* v165;
					STRLIT(v165, " = (", 4);
					VAL v166;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v165), v164, &v166);
					incref(v143);
					VAL v167 = mw_mirth_type_CTypeStackPart_ctype(v143);
					VAL v168 = mw_mirth_type_CType_cname(v167);
					VAL v169;
					mw_mirth_c99_ZPlusC99_put(v168, v166, &v169);
					STR* v170;
					STRLIT(v170, ")(", 2);
					VAL v171;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v170), v169, &v171);
					VAL v172;
					mw_mirth_c99_ZPlusC99_put(v145, v171, &v172);
					STR* v173;
					STRLIT(v173, ");", 2);
					VAL v174;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v173), v172, &v174);
					VAL v175;
					mw_mirth_c99_ZPlusC99_line(v174, &v175);
					VTUP(v175)->cells[4] = MKI64(v153);
					VTUP(v144)->cells[1] = v175;
					branch_CTypeStackPart_150 = v143;
					branch_ZPlusC99Branch_149 = v144;
					branch_Nat_148 = v161;
				}
				decref(branch_CTypeStackPart_150);
				int64_t v176 = 1LL;
				int64_t v177 = i64_sub(branch_Nat_148, v176);
				int64_t v178 = 0LL;
				bool v179 = (v177 < v178);
				int64_t branch_Nat_180;
				if (v179) {
					int64_t v181 = 0LL;
					branch_Nat_180 = v181;
				} else {
					branch_Nat_180 = v177;
				}
				int64_t v182 = 1LL /* True */;
				branch_Bool_141 = v182;
				branch_List_140 = v142;
				branch_Nat_139 = branch_Nat_180;
				branch_ZPlusC99Branch_138 = branch_ZPlusC99Branch_149;
			} break;
			case 0LL: { // Nil
				VAL v183 = MKI64(0LL /* Nil */);
				int64_t v184 = 0LL /* False */;
				branch_Bool_141 = v184;
				branch_List_140 = v183;
				branch_Nat_139 = v134;
				branch_ZPlusC99Branch_138 = v135;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v133 = branch_Bool_141;
		v132 = branch_Bool_141;
		v131 = branch_List_140;
		v130 = branch_ZPlusC99Branch_138;
		v129 = branch_Nat_139;
	}
	decref(v131);
	int64_t v185 = value_i64(VTUP(v130)->cells[4]);
	VAL v186 = VTUP(v130)->cells[1];
	int64_t v187 = value_i64(VTUP(v186)->cells[4]);
	bool v188 = (((bool)v185) && ((bool)v187));
	VTUP(v186)->cells[4] = MKBOOL(v188);
	VAL v189;
	mw_mirth_c99_ZPlusC99_indent(v186, &v189);
	incref(branch_Maybe_79);
	VAL branch_ZPlusC99_190;
	switch (get_data_tag(branch_Maybe_79)) {
		case 1LL: { // Some
			VAL v191 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_79);
			VAL v192 = mw_mirth_type_CTypeStackPart_ctype(v191);
			VAL v193 = mw_mirth_type_CType_cname(v192);
			VAL v194;
			mw_mirth_c99_ZPlusC99_put(v193, v189, &v194);
			STR* v195;
			STRLIT(v195, " Y = ", 5);
			VAL v196;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v195), v194, &v196);
			branch_ZPlusC99_190 = v196;
		} break;
		case 0LL: { // None
			branch_ZPlusC99_190 = v189;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v197 = mw_mirth_external_External_symbol(branch_External_80);
	VAL v198;
	mw_mirth_c99_ZPlusC99_put(v197, branch_ZPlusC99_190, &v198);
	STR* v199;
	STRLIT(v199, "(", 1);
	VAL v200;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v199), v198, &v200);
	int64_t v201 = 1LL;
	incref(branch_CTypeArrow_81);
	VAL v202 = VTUP(branch_CTypeArrow_81)->cells[1];
	incref(v202);
	decref(branch_CTypeArrow_81);
	VAL v203 = VTUP(v202)->cells[2];
	incref(v203);
	decref(v202);
	VAL v204 = MKI64(0LL /* Nil */);
	VAL v205 = mw_std_list_List_1_reverse(v204);
	int64_t v206 = 1LL /* True */;
	int64_t v207 = v201;
	VAL v208 = v200;
	VAL v209 = v205;
	VAL v210 = v203;
	int64_t v211 = v206;
	int64_t v212 = v206;
	while (((bool)v212)) {
		int64_t v213 = v207;
		VAL v214 = v208;
		VAL v215 = v209;
		VAL v216 = v210;
		int64_t v217 = v211;
		VAL branch_ZPlusC99_218;
		int64_t branch_Nat_219;
		VAL branch_ZPlusList_220;
		VAL branch_List_221;
		int64_t branch_Bool_222;
		switch (get_data_tag(v216)) {
			case 1LL: { // Cons
				VAL v223;
				VAL v224 = mtp_std_list_List_1_Cons(v216, &v223);
				incref(v224);
				VAL v225 = mw_mirth_type_CTypeStackPart_ctype(v224);
				int64_t v226 = mw_mirth_type_CType_phantomZAsk(v225);
				int64_t branch_Nat_227;
				VAL branch_ZPlusC99_228;
				VAL branch_Maybe_229;
				if (((bool)v226)) {
					decref(v224);
					VAL v230 = MKI64(0LL /* None */);
					branch_Maybe_229 = v230;
					branch_ZPlusC99_228 = v214;
					branch_Nat_227 = v213;
				} else {
					int64_t v231;
					VAL v232;
					VAL v233 = mw_mirth_type_CTypeStackPart_c99Z_argZ_name(v213, v224, v214, &v231, &v232);
					VAL v234 = mtw_std_maybe_Maybe_1_Some(v233);
					branch_Maybe_229 = v234;
					branch_ZPlusC99_228 = v232;
					branch_Nat_227 = v231;
				}
				int64_t v235 = 1LL;
				int64_t v236 = i64_add(branch_Nat_227, v235);
				VAL v237;
				mw_std_maybe_Maybe_1_for_1_sp7(v215, branch_Maybe_229, &v237);
				int64_t v238 = 1LL /* True */;
				branch_Bool_222 = v238;
				branch_List_221 = v223;
				branch_ZPlusList_220 = v237;
				branch_Nat_219 = v236;
				branch_ZPlusC99_218 = branch_ZPlusC99_228;
			} break;
			case 0LL: { // Nil
				VAL v239 = MKI64(0LL /* Nil */);
				int64_t v240 = 0LL /* False */;
				branch_Bool_222 = v240;
				branch_List_221 = v239;
				branch_ZPlusList_220 = v215;
				branch_Nat_219 = v213;
				branch_ZPlusC99_218 = v214;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v212 = branch_Bool_222;
		v211 = branch_Bool_222;
		v210 = branch_List_221;
		v209 = branch_ZPlusList_220;
		v208 = branch_ZPlusC99_218;
		v207 = branch_Nat_219;
	}
	decref(v210);
	VAL v241 = mw_std_list_List_1_reverse(v209);
	VAL v242;
	mw_std_list_List_1_for_2_sp1(v208, v241, &v242);
	STR* v243;
	STRLIT(v243, ");", 2);
	VAL v244;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v243), v242, &v244);
	VAL v245;
	mw_mirth_c99_ZPlusC99_line(v244, &v245);
	VTUP(v245)->cells[4] = MKI64(v187);
	VTUP(v130)->cells[1] = v245;
	incref(branch_CTypeArrow_81);
	VAL v246 = VTUP(branch_CTypeArrow_81)->cells[2];
	incref(v246);
	decref(branch_CTypeArrow_81);
	VAL v247 = VTUP(v246)->cells[2];
	incref(v247);
	decref(v246);
	int64_t v248 = 1LL /* True */;
	VAL v249 = v130;
	VAL v250 = v247;
	int64_t v251 = v248;
	int64_t v252 = v248;
	while (((bool)v252)) {
		VAL v253 = v249;
		VAL v254 = v250;
		int64_t v255 = v251;
		VAL branch_ZPlusC99Branch_256;
		VAL branch_List_257;
		int64_t branch_Bool_258;
		switch (get_data_tag(v254)) {
			case 1LL: { // Cons
				VAL v259;
				VAL v260 = mtp_std_list_List_1_Cons(v254, &v259);
				incref(v260);
				incref(v260);
				VAL v261 = mw_mirth_type_CTypeStackPart_ctype(v260);
				int64_t v262 = mw_mirth_type_CType_phantomZAsk(v261);
				VAL branch__263;
				if (((bool)v262)) {
					decref(v260);
					STR* v264;
					STRLIT(v264, "0", 1);
					branch__263 = MKSTR(v264);
				} else {
					VAL v265 = mw_mirth_type_CTypeStackPart_labelZAsk(v260);
					VAL branch_Str_266;
					switch (get_data_tag(v265)) {
						case 1LL: { // Some
							VAL v267 = mtp_std_maybe_Maybe_1_Some(v265);
							uint64_t v268 = mw_mirth_label_Label_name(value_u64(v267));
							VAL v269 = mw_mirth_name_Name_mangled(v268);
							branch_Str_266 = v269;
						} break;
						case 0LL: { // None
							STR* v270;
							STRLIT(v270, "Y", 1);
							branch_Str_266 = MKSTR(v270);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch__263 = branch_Str_266;
				}
				VAL v271;
				mw_mirth_type_CTypeStackPart_c99Z_push(branch__263, v260, v253, &v271);
				int64_t v272 = 1LL /* True */;
				branch_Bool_258 = v272;
				branch_List_257 = v259;
				branch_ZPlusC99Branch_256 = v271;
			} break;
			case 0LL: { // Nil
				VAL v273 = MKI64(0LL /* Nil */);
				int64_t v274 = 0LL /* False */;
				branch_Bool_258 = v274;
				branch_List_257 = v273;
				branch_ZPlusC99Branch_256 = v253;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v252 = branch_Bool_258;
		v251 = branch_Bool_258;
		v250 = branch_List_257;
		v249 = branch_ZPlusC99Branch_256;
	}
	decref(v250);
	VAL v275;
	mw_mirth_c99_c99Z_apiZ_exitZBang(v119, v249, &v275);
	int64_t v276 = value_i64(VTUP(v275)->cells[2]);
	int64_t v277 = 1LL;
	int64_t v278 = i64_sub(v276, v277);
	int64_t v279 = 0LL;
	bool v280 = (v278 < v279);
	int64_t branch_Nat_281;
	if (v280) {
		int64_t v282 = 0LL;
		branch_Nat_281 = v282;
	} else {
		branch_Nat_281 = v278;
	}
	VTUP(v275)->cells[2] = MKI64(branch_Nat_281);
	VAL v283;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v275, &v283);
	decref(branch_Maybe_79);
	decref(branch_CTypeArrow_81);
	*out_ZPlusC99_3 = v283;
}
static VAL mw_mirth_type_CTypeStackPart_c99Z_argZ_name (int64_t in_Nat_1, VAL in_CTypeStackPart_2, VAL in_ZPlusC99_3, int64_t *out_Nat_4, VAL *out_ZPlusC99_6) {
	VAL v7 = mw_mirth_type_CTypeStackPart_labelZAsk(in_CTypeStackPart_2);
	int64_t branch_Nat_8;
	VAL branch_Str_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			uint64_t v11 = mw_mirth_label_Label_name(value_u64(v10));
			VAL v12 = mw_mirth_name_Name_mangled(v11);
			branch_Str_9 = v12;
			branch_Nat_8 = in_Nat_1;
		} break;
		case 0LL: { // None
			STR* v13;
			STRLIT(v13, "", 0);
			STR* v14;
			STRLIT(v14, "X", 1);
			VAL v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v14), MKSTR(v13), &v15);
			STR* v16 = i64_show(in_Nat_1);
			VAL v17;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v16), v15, &v17);
			branch_Str_9 = v17;
			branch_Nat_8 = in_Nat_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99_6 = in_ZPlusC99_3;
	*out_Nat_4 = branch_Nat_8;
	return branch_Str_9;
}
static VAL mw_mirth_type_CType_ZToC99ReprType (VAL in_CType_1) {
	VAL branch_C99ReprType_3;
	switch (get_data_tag(in_CType_1)) {
		case 0LL: { // IntLike
			VAL v4 = mtp_mirth_type_CType_IntLike(in_CType_1);
			decref(v4);
			VAL v5 = MKI64(4LL /* C99RT_I64 */);
			branch_C99ReprType_3 = v5;
		} break;
		case 1LL: { // F32Like
			VAL v6 = mtp_mirth_type_CType_F32Like(in_CType_1);
			decref(v6);
			VAL v7 = MKI64(13LL /* C99RT_F32 */);
			branch_C99ReprType_3 = v7;
		} break;
		case 2LL: { // F64Like
			VAL v8 = mtp_mirth_type_CType_F64Like(in_CType_1);
			decref(v8);
			VAL v9 = MKI64(12LL /* C99RT_F64 */);
			branch_C99ReprType_3 = v9;
		} break;
		case 3LL: { // PtrLike
			VAL v10 = mtp_mirth_type_CType_PtrLike(in_CType_1);
			decref(v10);
			VAL v11 = MKI64(15LL /* C99RT_PTR */);
			branch_C99ReprType_3 = v11;
		} break;
		case 4LL: { // FnPtr
			VAL v12 = mtp_mirth_type_CType_FnPtr(in_CType_1);
			decref(v12);
			VAL v13 = MKI64(16LL /* C99RT_FNPTR */);
			branch_C99ReprType_3 = v13;
		} break;
		case 5LL: { // Phantom
			VAL v14 = MKI64(4LL /* C99RT_I64 */);
			branch_C99ReprType_3 = v14;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_C99ReprType_3;
}
static VAL mw_mirth_type_CTypeStackPart_c99Z_pop (VAL in_CTypeStackPart_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL branch_Str_5;
	VAL branch_ZPlusC99Branch_6;
	switch (get_data_tag(in_CTypeStackPart_1)) {
		case 0LL: { // CTSPCons
			VAL v7 = mtp_mirth_type_CTypeStackPart_CTSPCons(in_CTypeStackPart_1);
			VAL v8 = mw_mirth_type_CType_ZToC99ReprType(v7);
			incref(v8);
			VAL v9;
			VAL v10;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_2, v8, &v9, &v10);
			VAL v11 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v8, v10);
			branch_ZPlusC99Branch_6 = v9;
			branch_Str_5 = v11;
		} break;
		case 2LL: { // CTSPWith
			VAL v12 = mtp_mirth_type_CTypeStackPart_CTSPWith(in_CTypeStackPart_1);
			VAL v13 = mw_mirth_type_CType_ZToC99ReprType(v12);
			incref(v13);
			VAL v14;
			VAL v15;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusC99Branch_2, v13, &v14, &v15);
			VAL v16;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v15, &v16);
			VAL v17 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v13, v16);
			branch_ZPlusC99Branch_6 = v14;
			branch_Str_5 = v17;
		} break;
		case 1LL: { // CTSPConsLabel
			uint64_t v18;
			VAL v19 = mtp_mirth_type_CTypeStackPart_CTSPConsLabel(in_CTypeStackPart_1, &v18);
			VAL v20 = mw_mirth_type_CType_ZToC99ReprType(v19);
			incref(v20);
			VAL v21;
			VAL v22;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v20, v18, in_ZPlusC99Branch_2, &v21, &v22);
			VAL v23 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v20, v22);
			branch_ZPlusC99Branch_6 = v21;
			branch_Str_5 = v23;
		} break;
		case 3LL: { // CTSPWithLabel
			uint64_t v24;
			VAL v25 = mtp_mirth_type_CTypeStackPart_CTSPWithLabel(in_CTypeStackPart_1, &v24);
			VAL v26 = mw_mirth_type_CType_ZToC99ReprType(v25);
			incref(v26);
			VAL v27;
			VAL v28;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v26, v24, in_ZPlusC99Branch_2, &v27, &v28);
			VAL v29;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v28, &v29);
			VAL v30 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v26, v29);
			branch_ZPlusC99Branch_6 = v27;
			branch_Str_5 = v30;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_6;
	return branch_Str_5;
}
static void mw_mirth_type_CTypeStackPart_c99Z_push (VAL in_Str_1, VAL in_CTypeStackPart_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL branch_ZPlusC99Branch_5;
	switch (get_data_tag(in_CTypeStackPart_2)) {
		case 0LL: { // CTSPCons
			VAL v6 = mtp_mirth_type_CTypeStackPart_CTSPCons(in_CTypeStackPart_2);
			VAL v7 = mw_mirth_type_CType_ZToC99ReprType(v6);
			incref(v7);
			VAL v8;
			VAL v9;
			mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp32(in_Str_1, v7, in_ZPlusC99Branch_3, v7, &v8, &v9);
			VAL v10;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v8, v9, &v10);
			branch_ZPlusC99Branch_5 = v10;
		} break;
		case 2LL: { // CTSPWith
			VAL v11 = mtp_mirth_type_CTypeStackPart_CTSPWith(in_CTypeStackPart_2);
			VAL v12 = mw_mirth_type_CType_ZToC99ReprType(v11);
			incref(v12);
			incref(v12);
			int64_t v13 = get_data_tag(v12);
			decref(v12);
			int64_t v14 = 0LL;
			bool v15 = (v13 != v14);
			VAL branch_Str_16;
			VAL branch_C99ReprType_17;
			VAL branch_C99ReprType_18;
			int64_t branch_Bool_19;
			VAL branch_Str_20;
			VAL branch_ZPlusC99Branch_21;
			if (v15) {
				VAL v22 = VTUP(in_ZPlusC99Branch_3)->cells[1];
				VAL v23;
				VAL v24 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v22, &v23);
				VTUP(in_ZPlusC99Branch_3)->cells[1] = v23;
				branch_ZPlusC99Branch_21 = in_ZPlusC99Branch_3;
				branch_Str_20 = v24;
				branch_Bool_19 = ((int64_t)v15);
				branch_C99ReprType_18 = v12;
				branch_C99ReprType_17 = v12;
				branch_Str_16 = in_Str_1;
			} else {
				STR* v25;
				STRLIT(v25, "0", 1);
				branch_ZPlusC99Branch_21 = in_ZPlusC99Branch_3;
				branch_Str_20 = MKSTR(v25);
				branch_Bool_19 = ((int64_t)v15);
				branch_C99ReprType_18 = v12;
				branch_C99ReprType_17 = v12;
				branch_Str_16 = in_Str_1;
			}
			int64_t v26 = value_i64(VTUP(branch_ZPlusC99Branch_21)->cells[4]);
			bool v27 = (((bool)branch_Bool_19) && ((bool)v26));
			VAL v28 = VTUP(branch_ZPlusC99Branch_21)->cells[1];
			int64_t v29 = value_i64(VTUP(v28)->cells[4]);
			bool v30 = (v27 && ((bool)v29));
			VTUP(v28)->cells[4] = MKBOOL(v30);
			VAL v31;
			mw_mirth_c99_ZPlusC99_indent(v28, &v31);
			incref(branch_C99ReprType_18);
			VAL v32 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_18);
			VAL v33;
			mw_mirth_c99_ZPlusC99_put(v32, v31, &v33);
			STR* v34;
			STRLIT(v34, " ", 1);
			VAL v35;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v34), v33, &v35);
			incref(branch_Str_20);
			VAL v36;
			mw_mirth_c99_ZPlusC99_put(branch_Str_20, v35, &v36);
			STR* v37;
			STRLIT(v37, " = ", 3);
			VAL v38;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v37), v36, &v38);
			VAL v39;
			mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_18, branch_Str_20, &v39);
			STR* v40;
			STRLIT(v40, "(", 1);
			VAL v41;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v40), v38, &v41);
			VAL v42 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_17);
			VAL v43;
			mw_mirth_c99_ZPlusC99_put(v42, v41, &v43);
			STR* v44;
			STRLIT(v44, ")(", 2);
			VAL v45;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v44), v43, &v45);
			VAL v46;
			mw_mirth_c99_ZPlusC99_put(branch_Str_16, v45, &v46);
			STR* v47;
			STRLIT(v47, ")", 1);
			VAL v48;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v47), v46, &v48);
			STR* v49;
			STRLIT(v49, ";", 1);
			VAL v50;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v49), v48, &v50);
			VAL v51;
			mw_mirth_c99_ZPlusC99_line(v50, &v51);
			VTUP(v51)->cells[4] = MKI64(v29);
			VTUP(branch_ZPlusC99Branch_21)->cells[1] = v51;
			VAL v52;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_21, v39, &v52);
			branch_ZPlusC99Branch_5 = v52;
		} break;
		case 1LL: { // CTSPConsLabel
			uint64_t v53;
			VAL v54 = mtp_mirth_type_CTypeStackPart_CTSPConsLabel(in_CTypeStackPart_2, &v53);
			VAL v55 = mw_mirth_type_CType_ZToC99ReprType(v54);
			incref(v55);
			VAL v56;
			mw_mirth_c99_pushZ_labelZ_expressionZBang_1_sp4(in_Str_1, v55, v55, in_ZPlusC99Branch_3, v53, &v56);
			branch_ZPlusC99Branch_5 = v56;
		} break;
		case 3LL: { // CTSPWithLabel
			uint64_t v57;
			VAL v58 = mtp_mirth_type_CTypeStackPart_CTSPWithLabel(in_CTypeStackPart_2, &v57);
			VAL v59 = mw_mirth_type_CType_ZToC99ReprType(v58);
			incref(v59);
			VAL v60;
			mw_mirth_c99_pushZ_labelZ_expressionZBang_1_sp4(in_Str_1, v59, v59, in_ZPlusC99Branch_3, v57, &v60);
			branch_ZPlusC99Branch_5 = v60;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_5;
}
static void mw_mirth_c99_ZPlusC99_indent (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = value_i64(VTUP(in_ZPlusC99_1)->cells[2]);
	int64_t v4 = 0LL;
	bool v5 = (v3 > v4);
	VAL v6 = in_ZPlusC99_1;
	int64_t v7 = v3;
	bool v8 = v5;
	while (v8) {
		VAL v9 = v6;
		int64_t v10 = v7;
		STR* v11;
		STRLIT(v11, "\t", 1);
		VAL v12;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v11), v9, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = i64_sub(v10, v13);
		int64_t v15 = 0LL;
		bool v16 = (v14 < v15);
		int64_t branch_Nat_17;
		if (v16) {
			int64_t v18 = 0LL;
			branch_Nat_17 = v18;
		} else {
			branch_Nat_17 = v14;
		}
		int64_t v19 = 0LL;
		bool v20 = (branch_Nat_17 > v19);
		v8 = v20;
		v7 = branch_Nat_17;
		v6 = v12;
	}
	*out_ZPlusC99_2 = v6;
}
static VAL mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix (int64_t in_C99APIArgMode_1) {
	VAL branch__3;
	switch (in_C99APIArgMode_1) {
		case 0LL: { // In
			STR* v4;
			STRLIT(v4, "in_", 3);
			branch__3 = MKSTR(v4);
		} break;
		case 1LL: { // Out
			STR* v5;
			STRLIT(v5, "out_", 4);
			branch__3 = MKSTR(v5);
		} break;
		case 2LL: { // InOut
			STR* v6;
			STRLIT(v6, "inout_", 6);
			branch__3 = MKSTR(v6);
		} break;
		case 3LL: { // Branch
			STR* v7;
			STRLIT(v7, "branch_", 7);
			branch__3 = MKSTR(v7);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch__3;
}
static int64_t mw_mirth_c99_C99APIArg_isZ_physicalZAsk (VAL in_C99APIArg_1) {
	VAL v3 = VTUP(in_C99APIArg_1)->cells[3];
	incref(v3);
	decref(in_C99APIArg_1);
	int64_t v4 = get_data_tag(v3);
	decref(v3);
	int64_t v5 = 0LL;
	bool v6 = (v4 != v5);
	return ((int64_t)v6);
}
static int64_t mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk (VAL in_C99APIArg_1) {
	incref(in_C99APIArg_1);
	int64_t v3 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_C99APIArg_1);
	int64_t branch_Bool_4;
	if (((bool)v3)) {
		VAL v5 = VTUP(in_C99APIArg_1)->cells[2];
		incref(v5);
		decref(in_C99APIArg_1);
		int64_t branch_Bool_6;
		switch (get_data_tag(v5)) {
			case 0LL: { // C99AAS_Value
				int64_t v7 = 1LL /* True */;
				branch_Bool_6 = v7;
			} break;
			case 1LL: { // C99AAS_ValueLabel
				uint64_t v8 = mtp_mirth_c99_C99APIArgSource_C99AASz_ValueLabel(v5);
				int64_t v9 = 0LL /* False */;
				branch_Bool_6 = v9;
			} break;
			default: {
				decref(v5);
				int64_t v10 = 0LL /* False */;
				branch_Bool_6 = v10;
			} break;
		}
		branch_Bool_4 = branch_Bool_6;
	} else {
		decref(in_C99APIArg_1);
		int64_t v11 = 0LL /* False */;
		branch_Bool_4 = v11;
	}
	return branch_Bool_4;
}
static VAL mw_mirth_c99_C99APIArg_popZ_consumeZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	int64_t v5;
	VAL v6;
	VAL v7;
	VAL v8;
	mtp_mirth_c99_C99APIArg_C99APIArg(in_C99APIArg_1, &v5, &v6, &v7, &v8);
	decref(v8);
	incref(v7);
	VAL branch_ZPlusC99Branch_9;
	VAL branch_Str_10;
	switch (get_data_tag(v6)) {
		case 0LL: { // C99AAS_Value
			VAL v11;
			VAL v12;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_2, v7, &v11, &v12);
			VAL v13 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v7, v12);
			branch_Str_10 = v13;
			branch_ZPlusC99Branch_9 = v11;
		} break;
		case 2LL: { // C99AAS_Resource
			VAL v14;
			VAL v15;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusC99Branch_2, v7, &v14, &v15);
			VAL v16;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v15, &v16);
			VAL v17 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v7, v16);
			branch_Str_10 = v17;
			branch_ZPlusC99Branch_9 = v14;
		} break;
		case 1LL: { // C99AAS_ValueLabel
			uint64_t v18 = mtp_mirth_c99_C99APIArgSource_C99AASz_ValueLabel(v6);
			VAL v19;
			VAL v20;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v7, v18, in_ZPlusC99Branch_2, &v19, &v20);
			VAL v21 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v7, v20);
			branch_Str_10 = v21;
			branch_ZPlusC99Branch_9 = v19;
		} break;
		case 3LL: { // C99AAS_ResourceLabel
			uint64_t v22 = mtp_mirth_c99_C99APIArgSource_C99AASz_ResourceLabel(v6);
			VAL v23;
			VAL v24;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v7, v22, in_ZPlusC99Branch_2, &v23, &v24);
			VAL v25;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v24, &v25);
			VAL v26 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v7, v25);
			branch_Str_10 = v26;
			branch_ZPlusC99Branch_9 = v23;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_9;
	return branch_Str_10;
}
static VAL mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	incref(in_C99APIArg_1);
	VAL v5;
	VAL v6 = mw_mirth_c99_C99APIArg_popZ_consumeZBang(in_C99APIArg_1, in_ZPlusC99Branch_2, &v5);
	VAL v7 = VTUP(in_C99APIArg_1)->cells[3];
	incref(v7);
	decref(in_C99APIArg_1);
	int64_t v8 = get_data_tag(v7);
	decref(v7);
	int64_t v9 = 0LL;
	bool v10 = (v8 != v9);
	VAL branch_ZPlusC99Branch_11;
	VAL branch_Maybe_12;
	if (v10) {
		VAL v13 = mtw_std_maybe_Maybe_1_Some(v6);
		branch_Maybe_12 = v13;
		branch_ZPlusC99Branch_11 = v5;
	} else {
		decref(v6);
		VAL v14 = MKI64(0LL /* None */);
		branch_Maybe_12 = v14;
		branch_ZPlusC99Branch_11 = v5;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_11;
	return branch_Maybe_12;
}
static void mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	incref(in_C99APIArg_1);
	VAL v4;
	VAL v5 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(in_C99APIArg_1, in_ZPlusC99Branch_2, &v4);
	VAL branch_ZPlusC99Branch_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			int64_t v8 = value_i64(VTUP(v4)->cells[4]);
			VAL v9 = VTUP(v4)->cells[1];
			int64_t v10 = value_i64(VTUP(v9)->cells[4]);
			bool v11 = (((bool)v8) && ((bool)v10));
			VTUP(v9)->cells[4] = MKBOOL(v11);
			VAL v12;
			mw_mirth_c99_ZPlusC99_indent(v9, &v12);
			VAL v13 = VTUP(in_C99APIArg_1)->cells[4];
			incref(v13);
			decref(in_C99APIArg_1);
			VAL v14;
			mw_mirth_c99_ZPlusC99_put(v13, v12, &v14);
			STR* v15;
			STRLIT(v15, " = ", 3);
			VAL v16;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v15), v14, &v16);
			VAL v17;
			mw_mirth_c99_ZPlusC99_put(v7, v16, &v17);
			STR* v18;
			STRLIT(v18, ";", 1);
			VAL v19;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
			VAL v20;
			mw_mirth_c99_ZPlusC99_line(v19, &v20);
			VTUP(v20)->cells[4] = MKI64(v10);
			VTUP(v4)->cells[1] = v20;
			branch_ZPlusC99Branch_6 = v4;
		} break;
		case 0LL: { // None
			decref(in_C99APIArg_1);
			branch_ZPlusC99Branch_6 = v4;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	int64_t v4;
	VAL v5;
	VAL v6;
	VAL v7;
	mtp_mirth_c99_C99APIArg_C99APIArg(in_C99APIArg_1, &v4, &v5, &v6, &v7);
	VAL v8;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v6, v7, &v8);
	VAL branch_ZPlusC99Branch_9;
	switch (get_data_tag(v5)) {
		case 0LL: { // C99AAS_Value
			VAL v10;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(in_ZPlusC99Branch_2, v8, &v10);
			branch_ZPlusC99Branch_9 = v10;
		} break;
		case 1LL: { // C99AAS_ValueLabel
			uint64_t v11 = mtp_mirth_c99_C99APIArgSource_C99AASz_ValueLabel(v5);
			VAL v12;
			mw_mirth_c99_pushZ_valueZ_labelZBang(v11, in_ZPlusC99Branch_2, v8, &v12);
			branch_ZPlusC99Branch_9 = v12;
		} break;
		case 2LL: { // C99AAS_Resource
			VAL v13;
			mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v8, &v13);
			VAL v14;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(in_ZPlusC99Branch_2, v13, &v14);
			branch_ZPlusC99Branch_9 = v14;
		} break;
		case 3LL: { // C99AAS_ResourceLabel
			uint64_t v15 = mtp_mirth_c99_C99APIArgSource_C99AASz_ResourceLabel(v5);
			VAL v16;
			mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v8, &v16);
			VAL v17;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(v15, in_ZPlusC99Branch_2, v16, &v17);
			branch_ZPlusC99Branch_9 = v17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_9;
}
static VAL mw_mirth_c99_nameZ_argZ_prefix (uint64_t in_Name_1) {
	VAL v3 = mw_mirth_name_Name_mangled(in_Name_1);
	STR* v4;
	STRLIT(v4, "_", 1);
	STR* v5 = str_cat(value_str(v3), v4);
	return MKSTR(v5);
}
static VAL mw_mirth_c99_typeZ_argZ_prefix (VAL in_Type_1) {
	VAL branch_Str_3;
	switch (get_data_tag(in_Type_1)) {
		case 3LL: { // TMeta
			uint64_t v4 = mtp_mirth_type_Type_TMeta(in_Type_1);
			VAL v5 = mw_mirth_type_MetaVar_typeZAsk(v4);
			VAL branch__6;
			switch (get_data_tag(v5)) {
				case 0LL: { // None
					STR* v7;
					STRLIT(v7, "", 0);
					branch__6 = MKSTR(v7);
				} break;
				case 1LL: { // Some
					VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
					VAL v9 = mw_mirth_type_Type_expand(v8);
					incref(v9);
					VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
					void* v11 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v4);
					mut_set(v10, v11);
					VAL v12 = mw_mirth_c99_typeZ_argZ_prefix(v9);
					branch__6 = v12;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Str_3 = branch__6;
		} break;
		case 5LL: { // TVar
			uint64_t v13 = mtp_mirth_type_Type_TVar(in_Type_1);
			uint64_t v14 = mw_mirth_var_Var_name(v13);
			VAL v15 = mw_mirth_c99_nameZ_argZ_prefix(v14);
			branch_Str_3 = v15;
		} break;
		case 6LL: { // TTable
			uint64_t v16 = mtp_mirth_type_Type_TTable(in_Type_1);
			uint64_t v17 = mw_mirth_table_Table_name(v16);
			VAL v18 = mw_mirth_c99_nameZ_argZ_prefix(v17);
			branch_Str_3 = v18;
		} break;
		case 7LL: { // TData
			uint64_t v19 = mtp_mirth_type_Type_TData(in_Type_1);
			uint64_t v20 = mw_mirth_data_Data_name(v19);
			VAL v21 = mw_mirth_c99_nameZ_argZ_prefix(v20);
			branch_Str_3 = v21;
		} break;
		case 8LL: { // TDataPartial
			VAL v22 = mtp_mirth_type_Type_TDataPartial(in_Type_1);
			uint64_t v23 = value_u64(VTUP(v22)->cells[1]);
			decref(v22);
			uint64_t v24 = mw_mirth_data_Data_name(v23);
			VAL v25 = mw_mirth_c99_nameZ_argZ_prefix(v24);
			branch_Str_3 = v25;
		} break;
		case 11LL: { // TApp
			VAL v26;
			VAL v27 = mtp_mirth_type_Type_TApp(in_Type_1, &v26);
			decref(v26);
			VAL v28 = mw_mirth_c99_typeZ_argZ_prefix(v27);
			branch_Str_3 = v28;
		} break;
		case 12LL: { // TMut
			VAL v29 = mtp_mirth_type_Type_TMut(in_Type_1);
			STR* v30;
			STRLIT(v30, "Mut", 3);
			VAL v31 = mw_mirth_c99_typeZ_argZ_prefix(v29);
			STR* v32 = str_cat(v30, value_str(v31));
			branch_Str_3 = MKSTR(v32);
		} break;
		case 2LL: { // TPrim
			int64_t v33 = mtp_mirth_type_Type_TPrim(in_Type_1);
			VAL branch__34;
			switch (v33) {
				case 0LL: { // PRIM_TYPE_TYPE
					STR* v35;
					STRLIT(v35, "TYPE_", 5);
					branch__34 = MKSTR(v35);
				} break;
				case 1LL: { // PRIM_TYPE_STACK
					STR* v36;
					STRLIT(v36, "STACK_", 6);
					branch__34 = MKSTR(v36);
				} break;
				case 2LL: { // PRIM_TYPE_RESOURCE
					STR* v37;
					STRLIT(v37, "RESOURCE_", 9);
					branch__34 = MKSTR(v37);
				} break;
				case 3LL: { // PRIM_TYPE_INT
					STR* v38;
					STRLIT(v38, "Int_", 4);
					branch__34 = MKSTR(v38);
				} break;
				case 4LL: { // PRIM_TYPE_F32
					STR* v39;
					STRLIT(v39, "F32_", 4);
					branch__34 = MKSTR(v39);
				} break;
				case 5LL: { // PRIM_TYPE_F64
					STR* v40;
					STRLIT(v40, "F64_", 4);
					branch__34 = MKSTR(v40);
				} break;
				case 6LL: { // PRIM_TYPE_PTR
					STR* v41;
					STRLIT(v41, "Ptr_", 4);
					branch__34 = MKSTR(v41);
				} break;
				case 7LL: { // PRIM_TYPE_STR
					STR* v42;
					STRLIT(v42, "Str_", 4);
					branch__34 = MKSTR(v42);
				} break;
				case 8LL: { // PRIM_TYPE_WORLD
					STR* v43;
					STRLIT(v43, "World_", 6);
					branch__34 = MKSTR(v43);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Str_3 = branch__34;
		} break;
		default: {
			decref(in_Type_1);
			STR* v44;
			STRLIT(v44, "_", 1);
			branch_Str_3 = MKSTR(v44);
		} break;
	}
	return branch_Str_3;
}
static VAL mw_mirth_c99_freshZ_argZ_nameZBang (VAL in_ZPlusC99_1, int64_t in_C99APIArgMode_2, VAL in_C99ReprType_3, VAL in_Type_4, VAL *out_ZPlusC99_5, int64_t *out_C99APIArgMode_6, VAL *out_C99ReprType_7) {
	incref(in_C99ReprType_3);
	int64_t v9 = get_data_tag(in_C99ReprType_3);
	decref(in_C99ReprType_3);
	int64_t v10 = 0LL;
	bool v11 = (v9 != v10);
	VAL branch_C99ReprType_12;
	int64_t branch_C99APIArgMode_13;
	VAL branch_Str_14;
	VAL branch_ZPlusC99_15;
	if (v11) {
		VAL v16 = mw_mirth_c99_C99APIArgMode_modeZ_argZ_prefix(in_C99APIArgMode_2);
		VAL v17 = mw_mirth_c99_typeZ_argZ_prefix(in_Type_4);
		STR* v18 = str_cat(value_str(v16), value_str(v17));
		VAL v19;
		VAL v20 = mw_mirth_c99_ZPlusC99_freshZ_nameZ_onZBang(MKSTR(v18), in_ZPlusC99_1, &v19);
		branch_ZPlusC99_15 = v19;
		branch_Str_14 = v20;
		branch_C99APIArgMode_13 = in_C99APIArgMode_2;
		branch_C99ReprType_12 = in_C99ReprType_3;
	} else {
		decref(in_Type_4);
		STR* v21;
		STRLIT(v21, "0", 1);
		branch_ZPlusC99_15 = in_ZPlusC99_1;
		branch_Str_14 = MKSTR(v21);
		branch_C99APIArgMode_13 = in_C99APIArgMode_2;
		branch_C99ReprType_12 = in_C99ReprType_3;
	}
	*out_C99ReprType_7 = branch_C99ReprType_12;
	*out_C99APIArgMode_6 = branch_C99APIArgMode_13;
	*out_ZPlusC99_5 = branch_ZPlusC99_15;
	return branch_Str_14;
}
static VAL mw_mirth_c99_consZ_freshZ_argZBang (VAL in_ZPlusC99_1, VAL in_List_2, VAL in_Type_3, VAL in_C99APIArgSource_4, int64_t in_C99APIArgMode_5, VAL *out_ZPlusC99_6, int64_t *out_C99APIArgMode_8) {
	incref(in_Type_3);
	VAL v9 = VTUP(in_ZPlusC99_1)->cells[7];
	VAL v10;
	VAL v11 = mw_mirth_type_Type_c99Z_repr(in_Type_3, v9, &v10);
	VTUP(in_ZPlusC99_1)->cells[7] = v10;
	VAL v12;
	int64_t v13;
	VAL v14;
	VAL v15 = mw_mirth_c99_freshZ_argZ_nameZBang(in_ZPlusC99_1, in_C99APIArgMode_5, v11, in_Type_3, &v12, &v13, &v14);
	VAL v16 = mtw_mirth_c99_C99APIArg_C99APIArg(v13, in_C99APIArgSource_4, v14, v15);
	VAL v17 = mtw_std_list_List_1_Cons(v16, in_List_2);
	*out_C99APIArgMode_8 = v13;
	*out_ZPlusC99_6 = v12;
	return v17;
}
static VAL mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux (VAL in_StackType_1, int64_t in_C99APIArgMode_2, VAL in_ZPlusC99_3, int64_t *out_C99APIArgMode_4, int64_t *out_Bool_5, VAL *out_ZPlusC99_7) {
	int64_t branch_C99APIArgMode_8;
	int64_t branch_Bool_9;
	VAL branch_List_10;
	VAL branch_ZPlusC99_11;
	switch (get_data_tag(in_StackType_1)) {
		case 2LL: { // STACK_TYPE_UNIT
			int64_t v12 = 0LL /* False */;
			VAL v13 = MKI64(0LL /* Nil */);
			branch_ZPlusC99_11 = in_ZPlusC99_3;
			branch_List_10 = v13;
			branch_Bool_9 = v12;
			branch_C99APIArgMode_8 = in_C99APIArgMode_2;
		} break;
		case 0LL: { // STACK_TYPE_ERROR
			int64_t v14 = 1LL /* True */;
			VAL v15 = MKI64(0LL /* Nil */);
			branch_ZPlusC99_11 = in_ZPlusC99_3;
			branch_List_10 = v15;
			branch_Bool_9 = v14;
			branch_C99APIArgMode_8 = in_C99APIArgMode_2;
		} break;
		case 1LL: { // STACK_TYPE_DONT_CARE
			int64_t v16 = 1LL /* True */;
			VAL v17 = MKI64(0LL /* Nil */);
			branch_ZPlusC99_11 = in_ZPlusC99_3;
			branch_List_10 = v17;
			branch_Bool_9 = v16;
			branch_C99APIArgMode_8 = in_C99APIArgMode_2;
		} break;
		case 4LL: { // STMeta
			uint64_t v18 = mtp_mirth_type_StackType_STMeta(in_StackType_1);
			VAL v19 = mw_mirth_type_MetaVar_typeZAsk(v18);
			int64_t branch_C99APIArgMode_20;
			VAL branch_ZPlusC99_21;
			int64_t branch_Bool_22;
			VAL branch_List_23;
			switch (get_data_tag(v19)) {
				case 0LL: { // None
					int64_t v24 = 1LL /* True */;
					VAL v25 = MKI64(0LL /* Nil */);
					branch_List_23 = v25;
					branch_Bool_22 = v24;
					branch_ZPlusC99_21 = in_ZPlusC99_3;
					branch_C99APIArgMode_20 = in_C99APIArgMode_2;
				} break;
				case 1LL: { // Some
					VAL v26 = mtp_std_maybe_Maybe_1_Some(v19);
					VAL v27 = mw_mirth_type_Type_expand(v26);
					incref(v27);
					VAL v28 = mtw_std_maybe_Maybe_1_Some(v27);
					void* v29 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v18);
					mut_set(v28, v29);
					VAL v30 = mw_mirth_type_Type_ZToStackType(v27);
					int64_t v31;
					int64_t v32;
					VAL v33;
					VAL v34 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(v30, in_C99APIArgMode_2, in_ZPlusC99_3, &v31, &v32, &v33);
					branch_List_23 = v34;
					branch_Bool_22 = v32;
					branch_ZPlusC99_21 = v33;
					branch_C99APIArgMode_20 = v31;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusC99_11 = branch_ZPlusC99_21;
			branch_List_10 = branch_List_23;
			branch_Bool_9 = branch_Bool_22;
			branch_C99APIArgMode_8 = branch_C99APIArgMode_20;
		} break;
		case 3LL: { // STVar
			uint64_t v35 = mtp_mirth_type_StackType_STVar(in_StackType_1);
			int64_t v36 = 1LL /* True */;
			VAL v37 = MKI64(0LL /* Nil */);
			branch_ZPlusC99_11 = in_ZPlusC99_3;
			branch_List_10 = v37;
			branch_Bool_9 = v36;
			branch_C99APIArgMode_8 = in_C99APIArgMode_2;
		} break;
		case 5LL: { // STCons
			VAL v38;
			VAL v39 = mtp_mirth_type_StackType_STCons(in_StackType_1, &v38);
			VAL v40 = MKI64(0LL /* C99AAS_Value */);
			int64_t v41;
			int64_t v42;
			VAL v43;
			VAL v44 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(v39, in_C99APIArgMode_2, in_ZPlusC99_3, &v41, &v42, &v43);
			VAL v45;
			int64_t v46;
			VAL v47 = mw_mirth_c99_consZ_freshZ_argZBang(v43, v44, v38, v40, v41, &v45, &v46);
			branch_ZPlusC99_11 = v45;
			branch_List_10 = v47;
			branch_Bool_9 = v42;
			branch_C99APIArgMode_8 = v46;
		} break;
		case 7LL: { // STWith
			VAL v48;
			VAL v49 = mtp_mirth_type_StackType_STWith(in_StackType_1, &v48);
			VAL v50 = MKI64(2LL /* C99AAS_Resource */);
			VAL v51 = mw_mirth_type_Resource_ZToType(v48);
			int64_t v52;
			int64_t v53;
			VAL v54;
			VAL v55 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(v49, in_C99APIArgMode_2, in_ZPlusC99_3, &v52, &v53, &v54);
			VAL v56;
			int64_t v57;
			VAL v58 = mw_mirth_c99_consZ_freshZ_argZBang(v54, v55, v51, v50, v52, &v56, &v57);
			branch_ZPlusC99_11 = v56;
			branch_List_10 = v58;
			branch_Bool_9 = v53;
			branch_C99APIArgMode_8 = v57;
		} break;
		case 6LL: { // STConsLabel
			VAL v59;
			uint64_t v60;
			VAL v61 = mtp_mirth_type_StackType_STConsLabel(in_StackType_1, &v59, &v60);
			VAL v62 = mtw_mirth_c99_C99APIArgSource_C99AASz_ValueLabel(v60);
			int64_t v63;
			int64_t v64;
			VAL v65;
			VAL v66 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(v61, in_C99APIArgMode_2, in_ZPlusC99_3, &v63, &v64, &v65);
			VAL v67;
			int64_t v68;
			VAL v69 = mw_mirth_c99_consZ_freshZ_argZBang(v65, v66, v59, v62, v63, &v67, &v68);
			branch_ZPlusC99_11 = v67;
			branch_List_10 = v69;
			branch_Bool_9 = v64;
			branch_C99APIArgMode_8 = v68;
		} break;
		case 8LL: { // STWithLabel
			VAL v70;
			uint64_t v71;
			VAL v72 = mtp_mirth_type_StackType_STWithLabel(in_StackType_1, &v70, &v71);
			VAL v73 = mtw_mirth_c99_C99APIArgSource_C99AASz_ResourceLabel(v71);
			VAL v74 = mw_mirth_type_Resource_ZToType(v70);
			int64_t v75;
			int64_t v76;
			VAL v77;
			VAL v78 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(v72, in_C99APIArgMode_2, in_ZPlusC99_3, &v75, &v76, &v77);
			VAL v79;
			int64_t v80;
			VAL v81 = mw_mirth_c99_consZ_freshZ_argZBang(v77, v78, v74, v73, v75, &v79, &v80);
			branch_ZPlusC99_11 = v79;
			branch_List_10 = v81;
			branch_Bool_9 = v76;
			branch_C99APIArgMode_8 = v80;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99_7 = branch_ZPlusC99_11;
	*out_Bool_5 = branch_Bool_9;
	*out_C99APIArgMode_4 = branch_C99APIArgMode_8;
	return branch_List_10;
}
static VAL mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params (VAL in_StackType_1, int64_t in_C99APIArgMode_2, VAL in_ZPlusC99_3, int64_t *out_Bool_4, VAL *out_ZPlusC99_6) {
	int64_t v7;
	int64_t v8;
	VAL v9;
	VAL v10 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_paramsZ_aux(in_StackType_1, in_C99APIArgMode_2, in_ZPlusC99_3, &v7, &v8, &v9);
	VAL v11 = mw_std_list_List_1_reverse(v10);
	*out_ZPlusC99_6 = v9;
	*out_Bool_4 = v8;
	return v11;
}
static VAL mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api (VAL in_Str_1, VAL in_ArrowType_2, VAL in_ZPlusC99_3, VAL *out_ZPlusC99_5) {
	int64_t v6 = 1LL;
	int64_t v7 = value_i64(VTUP(in_ZPlusC99_3)->cells[3]);
	VTUP(in_ZPlusC99_3)->cells[3] = MKI64(v6);
	incref(in_ArrowType_2);
	VAL v8 = mw_mirth_type_ArrowType_dom(in_ArrowType_2);
	int64_t v9 = 0LL /* In */;
	int64_t v10;
	VAL v11;
	VAL v12 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(v8, v9, in_ZPlusC99_3, &v10, &v11);
	incref(in_ArrowType_2);
	VAL v13 = mw_mirth_type_ArrowType_cod(in_ArrowType_2);
	int64_t v14 = 1LL /* Out */;
	int64_t v15;
	VAL v16;
	VAL v17 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(v13, v14, v11, &v15, &v16);
	VAL v18 = MKI64(0LL /* Nil */);
	VAL v19 = mw_std_list_List_1_reverse(v18);
	int64_t v20 = 1LL /* True */;
	VAL v21 = v19;
	VAL v22 = v17;
	int64_t v23 = v20;
	int64_t v24 = v20;
	while (((bool)v24)) {
		VAL v25 = v21;
		VAL v26 = v22;
		int64_t v27 = v23;
		VAL branch_ZPlusList_28;
		VAL branch_List_29;
		int64_t branch_Bool_30;
		switch (get_data_tag(v26)) {
			case 1LL: { // Cons
				VAL v31;
				VAL v32 = mtp_std_list_List_1_Cons(v26, &v31);
				incref(v32);
				int64_t v33 = mw_mirth_c99_C99APIArg_isZ_physicalZ_valueZAsk(v32);
				VAL branch_ZPlusList_34;
				VAL branch_List_35;
				int64_t branch_Bool_36;
				if (((bool)v33)) {
					VAL v37 = mtw_std_list_List_1_Cons(v32, v31);
					int64_t v38 = 0LL /* False */;
					branch_Bool_36 = v38;
					branch_List_35 = v37;
					branch_ZPlusList_34 = v25;
				} else {
					VAL v39 = mtw_std_list_List_1_Cons(v32, v25);
					int64_t v40 = 1LL /* True */;
					branch_Bool_36 = v40;
					branch_List_35 = v31;
					branch_ZPlusList_34 = v39;
				}
				branch_Bool_30 = branch_Bool_36;
				branch_List_29 = branch_List_35;
				branch_ZPlusList_28 = branch_ZPlusList_34;
			} break;
			case 0LL: { // Nil
				VAL v41 = MKI64(0LL /* Nil */);
				int64_t v42 = 0LL /* False */;
				branch_Bool_30 = v42;
				branch_List_29 = v41;
				branch_ZPlusList_28 = v25;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v24 = branch_Bool_30;
		v23 = branch_Bool_30;
		v22 = branch_List_29;
		v21 = branch_ZPlusList_28;
	}
	VAL v43 = mw_std_list_List_1_reverse(v21);
	VAL v44;
	VAL v45 = mw_std_list_List_1_uncons(v22, &v44);
	int64_t v46 = value_i64(VTUP(v16)->cells[3]);
	VTUP(v16)->cells[3] = MKI64(v7);
	bool v47 = (((bool)v15) || ((bool)v10));
	incref(in_ArrowType_2);
	VAL v48 = mw_mirth_type_ArrowType_cod(in_ArrowType_2);
	VAL v49 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v48);
	VAL branch_ArrowType_50;
	int64_t branch_Bool_51;
	switch (get_data_tag(v49)) {
		case 1LL: { // Some
			VAL v52 = mtp_std_maybe_Maybe_1_Some(v49);
			incref(in_ArrowType_2);
			VAL v53 = mw_mirth_type_ArrowType_dom(in_ArrowType_2);
			VAL v54 = mw_mirth_type_StackType_linearZ_baseZ_varZAsk(v53);
			int64_t branch_Bool_55;
			switch (get_data_tag(v54)) {
				case 1LL: { // Some
					VAL v56 = mtp_std_maybe_Maybe_1_Some(v54);
					int64_t v57 = mw_mirth_var_Var_index(value_u64(v52));
					int64_t v58 = mw_mirth_var_Var_index(value_u64(v56));
					bool v59 = (v57 == v58);
					bool v60 = !v59;
					branch_Bool_55 = ((int64_t)v60);
				} break;
				case 0LL: { // None
					decref(v52);
					int64_t v61 = 0LL /* False */;
					branch_Bool_55 = v61;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_51 = branch_Bool_55;
			branch_ArrowType_50 = in_ArrowType_2;
		} break;
		case 0LL: { // None
			int64_t v62 = 0LL /* False */;
			branch_Bool_51 = v62;
			branch_ArrowType_50 = in_ArrowType_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v63 = !((bool)branch_Bool_51);
	bool v64 = (v63 && v47);
	VAL v65 = mtw_mirth_c99_C99API_C99API(in_Str_1, branch_ArrowType_50, v12, v43, v45, v44, ((int64_t)v64), branch_Bool_51);
	*out_ZPlusC99_5 = v16;
	return v65;
}
static VAL mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	incref(in_C99APIArg_1);
	int64_t v5 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_C99APIArg_1);
	VAL branch_ZPlusC99Branch_6;
	VAL branch_C99APIArg_7;
	if (((bool)v5)) {
		incref(in_C99APIArg_1);
		VAL v8 = VTUP(in_C99APIArg_1)->cells[3];
		incref(v8);
		decref(in_C99APIArg_1);
		VAL v9;
		VAL v10;
		mw_mirth_c99_C99ReprType_newZ_valueZBang(v8, in_ZPlusC99Branch_2, &v9, &v10);
		VAL v11 = mw_mirth_c99_ZPlusC99Value_consume(v10);
		VAL v12 = tup_replace(in_C99APIArg_1, 4, v11);
		branch_C99APIArg_7 = v12;
		branch_ZPlusC99Branch_6 = v9;
	} else {
		STR* v13;
		STRLIT(v13, "0", 1);
		VAL v14 = tup_replace(in_C99APIArg_1, 4, MKSTR(v13));
		branch_C99APIArg_7 = v14;
		branch_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	}
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_6;
	return branch_C99APIArg_7;
}
static void mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang (VAL in_C99APIArg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	incref(in_C99APIArg_1);
	int64_t v4 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(in_C99APIArg_1);
	VAL branch_ZPlusC99Branch_5;
	if (((bool)v4)) {
		int64_t v6;
		VAL v7;
		VAL v8;
		VAL v9;
		mtp_mirth_c99_C99APIArg_C99APIArg(in_C99APIArg_1, &v6, &v7, &v8, &v9);
		int64_t v10 = value_i64(VTUP(in_ZPlusC99Branch_2)->cells[4]);
		VAL v11 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		int64_t v12 = value_i64(VTUP(v11)->cells[4]);
		bool v13 = (((bool)v10) && ((bool)v12));
		VTUP(v11)->cells[4] = MKBOOL(v13);
		VAL v14;
		mw_mirth_c99_ZPlusC99_indent(v11, &v14);
		VAL v15 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v8);
		VAL v16;
		mw_mirth_c99_ZPlusC99_put(v15, v14, &v16);
		STR* v17;
		STRLIT(v17, " ", 1);
		VAL v18;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v17), v16, &v18);
		VAL v19;
		mw_mirth_c99_ZPlusC99_put(v9, v18, &v19);
		STR* v20;
		STRLIT(v20, ";", 1);
		VAL v21;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v20), v19, &v21);
		VAL v22;
		mw_mirth_c99_ZPlusC99_line(v21, &v22);
		VTUP(v22)->cells[4] = MKI64(v12);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v22;
		decref(v7);
		branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	} else {
		decref(in_C99APIArg_1);
		branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_5;
}
static VAL mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang (VAL in_Str_1, VAL in_C99APIArg_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_5) {
	VAL v6 = VTUP(in_ZPlusC99Branch_3)->cells[1];
	VAL v7;
	VAL v8 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v6, &v7);
	VTUP(in_ZPlusC99Branch_3)->cells[1] = v7;
	VAL v9 = tup_replace(in_C99APIArg_2, 4, v8);
	int64_t v10 = value_i64(VTUP(in_ZPlusC99Branch_3)->cells[4]);
	VAL v11 = VTUP(in_ZPlusC99Branch_3)->cells[1];
	int64_t v12 = value_i64(VTUP(v11)->cells[4]);
	bool v13 = (((bool)v10) && ((bool)v12));
	VTUP(v11)->cells[4] = MKBOOL(v13);
	VAL v14;
	mw_mirth_c99_ZPlusC99_indent(v11, &v14);
	incref(v9);
	VAL v15 = VTUP(v9)->cells[3];
	incref(v15);
	decref(v9);
	VAL v16 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v15);
	VAL v17;
	mw_mirth_c99_ZPlusC99_put(v16, v14, &v17);
	STR* v18;
	STRLIT(v18, " ", 1);
	VAL v19;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
	incref(v9);
	VAL v20 = VTUP(v9)->cells[4];
	incref(v20);
	decref(v9);
	VAL v21;
	mw_mirth_c99_ZPlusC99_put(v20, v19, &v21);
	STR* v22;
	STRLIT(v22, " = ", 3);
	VAL v23;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v22), v21, &v23);
	VAL v24;
	mw_mirth_c99_ZPlusC99_put(in_Str_1, v23, &v24);
	STR* v25;
	STRLIT(v25, ";", 1);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
	VAL v27;
	mw_mirth_c99_ZPlusC99_line(v26, &v27);
	VTUP(v27)->cells[4] = MKI64(v12);
	VTUP(in_ZPlusC99Branch_3)->cells[1] = v27;
	*out_ZPlusC99Branch_5 = in_ZPlusC99Branch_3;
	return v9;
}
static void mw_mirth_c99_c99Z_smartZ_callZBang (VAL in_List_1, VAL in_C99API_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5;
	mw_mirth_c99_c99Z_argsZ_pushZBang(in_List_1, in_ZPlusC99Branch_3, &v5);
	incref(in_C99API_2);
	VAL v6 = VTUP(in_C99API_2)->cells[3];
	incref(v6);
	decref(in_C99API_2);
	VAL v7 = mw_std_list_List_1_reverse(v6);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mw_std_list_List_1_reverse(v8);
	int64_t v10 = 1LL /* True */;
	VAL v11 = v5;
	VAL v12 = v9;
	VAL v13 = v7;
	int64_t v14 = v10;
	int64_t v15 = v10;
	while (((bool)v15)) {
		VAL v16 = v11;
		VAL v17 = v12;
		VAL v18 = v13;
		int64_t v19 = v14;
		VAL branch_ZPlusC99Branch_20;
		VAL branch_ZPlusList_21;
		VAL branch_List_22;
		int64_t branch_Bool_23;
		switch (get_data_tag(v18)) {
			case 1LL: { // Cons
				VAL v24;
				VAL v25 = mtp_std_list_List_1_Cons(v18, &v24);
				VAL v26;
				VAL v27 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(v25, v16, &v26);
				VAL v28 = mtw_std_list_List_1_Cons(v27, v17);
				int64_t v29 = 1LL /* True */;
				branch_Bool_23 = v29;
				branch_List_22 = v24;
				branch_ZPlusList_21 = v28;
				branch_ZPlusC99Branch_20 = v26;
			} break;
			case 0LL: { // Nil
				VAL v30 = MKI64(0LL /* Nil */);
				int64_t v31 = 0LL /* False */;
				branch_Bool_23 = v31;
				branch_List_22 = v30;
				branch_ZPlusList_21 = v17;
				branch_ZPlusC99Branch_20 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v15 = branch_Bool_23;
		v14 = branch_Bool_23;
		v13 = branch_List_22;
		v12 = branch_ZPlusList_21;
		v11 = branch_ZPlusC99Branch_20;
	}
	decref(v13);
	VAL v32 = mw_std_list_List_1_reverse(v12);
	VAL v33 = mw_std_list_List_1_reverse(v32);
	incref(in_C99API_2);
	int64_t v34 = value_i64(VTUP(in_C99API_2)->cells[7]);
	decref(in_C99API_2);
	VAL branch_ZPlusC99Branch_35;
	if (((bool)v34)) {
		VAL v36;
		mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(v11, &v36);
		branch_ZPlusC99Branch_35 = v36;
	} else {
		branch_ZPlusC99Branch_35 = v11;
	}
	incref(in_C99API_2);
	VAL v37 = VTUP(in_C99API_2)->cells[4];
	incref(v37);
	decref(in_C99API_2);
	VAL v38;
	VAL v39 = mw_std_list_List_1_map_1_sp5(branch_ZPlusC99Branch_35, v37, &v38);
	incref(in_C99API_2);
	VAL v40 = VTUP(in_C99API_2)->cells[6];
	incref(v40);
	decref(in_C99API_2);
	VAL v41;
	VAL v42 = mw_std_list_List_1_map_1_sp5(v38, v40, &v41);
	STR* v43;
	STRLIT(v43, "", 0);
	incref(in_C99API_2);
	VAL v44 = VTUP(in_C99API_2)->cells[1];
	incref(v44);
	decref(in_C99API_2);
	VAL v45;
	mw_std_str_ZPlusStr_pushZ_strZBang(v44, MKSTR(v43), &v45);
	STR* v46;
	STRLIT(v46, "(", 1);
	VAL v47;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v46), v45, &v47);
	STR* v48;
	STRLIT(v48, "", 0);
	int64_t v49 = 1LL /* True */;
	VAL v50 = v47;
	STR* v51 = v48;
	VAL v52 = v33;
	int64_t v53 = v49;
	int64_t v54 = v49;
	while (((bool)v54)) {
		VAL v55 = v50;
		STR* v56 = v51;
		VAL v57 = v52;
		int64_t v58 = v53;
		VAL branch_ZPlusStr_59;
		VAL branch_Str_60;
		VAL branch_List_61;
		int64_t branch_Bool_62;
		switch (get_data_tag(v57)) {
			case 1LL: { // Cons
				VAL v63;
				VAL v64 = mtp_std_list_List_1_Cons(v57, &v63);
				VAL branch_Str_65;
				VAL branch_ZPlusStr_66;
				switch (get_data_tag(v64)) {
					case 1LL: { // Some
						VAL v67 = mtp_std_maybe_Maybe_1_Some(v64);
						VAL v68;
						mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v56), v55, &v68);
						STR* v69;
						STRLIT(v69, ", ", 2);
						VAL v70;
						mw_std_str_ZPlusStr_pushZ_strZBang(v67, v68, &v70);
						branch_ZPlusStr_66 = v70;
						branch_Str_65 = MKSTR(v69);
					} break;
					case 0LL: { // None
						branch_ZPlusStr_66 = v55;
						branch_Str_65 = MKSTR(v56);
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v71 = 1LL /* True */;
				branch_Bool_62 = v71;
				branch_List_61 = v63;
				branch_Str_60 = branch_Str_65;
				branch_ZPlusStr_59 = branch_ZPlusStr_66;
			} break;
			case 0LL: { // Nil
				VAL v72 = MKI64(0LL /* Nil */);
				int64_t v73 = 0LL /* False */;
				branch_Bool_62 = v73;
				branch_List_61 = v72;
				branch_Str_60 = MKSTR(v56);
				branch_ZPlusStr_59 = v55;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v54 = branch_Bool_62;
		v53 = branch_Bool_62;
		v52 = branch_List_61;
		v51 = value_str(branch_Str_60);
		v50 = branch_ZPlusStr_59;
	}
	decref(v52);
	incref(v39);
	incref(v42);
	VAL v74 = mw_std_list_List_1_cat(v39, v42);
	int64_t v75 = 1LL /* True */;
	VAL v76 = v50;
	STR* v77 = v51;
	VAL v78 = v74;
	int64_t v79 = v75;
	int64_t v80 = v75;
	while (((bool)v80)) {
		VAL v81 = v76;
		STR* v82 = v77;
		VAL v83 = v78;
		int64_t v84 = v79;
		VAL branch_Str_85;
		VAL branch_ZPlusStr_86;
		VAL branch_List_87;
		int64_t branch_Bool_88;
		switch (get_data_tag(v83)) {
			case 1LL: { // Cons
				VAL v89;
				VAL v90 = mtp_std_list_List_1_Cons(v83, &v89);
				incref(v90);
				int64_t v91 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(v90);
				VAL branch_Str_92;
				VAL branch_ZPlusStr_93;
				if (((bool)v91)) {
					VAL v94;
					mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v82), v81, &v94);
					STR* v95;
					STRLIT(v95, ", ", 2);
					STR* v96;
					STRLIT(v96, "&", 1);
					VAL v97;
					mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v96), v94, &v97);
					VAL v98 = VTUP(v90)->cells[4];
					incref(v98);
					decref(v90);
					VAL v99;
					mw_std_str_ZPlusStr_pushZ_strZBang(v98, v97, &v99);
					branch_ZPlusStr_93 = v99;
					branch_Str_92 = MKSTR(v95);
				} else {
					decref(v90);
					branch_ZPlusStr_93 = v81;
					branch_Str_92 = MKSTR(v82);
				}
				int64_t v100 = 1LL /* True */;
				branch_Bool_88 = v100;
				branch_List_87 = v89;
				branch_ZPlusStr_86 = branch_ZPlusStr_93;
				branch_Str_85 = branch_Str_92;
			} break;
			case 0LL: { // Nil
				VAL v101 = MKI64(0LL /* Nil */);
				int64_t v102 = 0LL /* False */;
				branch_Bool_88 = v102;
				branch_List_87 = v101;
				branch_ZPlusStr_86 = v81;
				branch_Str_85 = MKSTR(v82);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v80 = branch_Bool_88;
		v79 = branch_Bool_88;
		v78 = branch_List_87;
		v77 = value_str(branch_Str_85);
		v76 = branch_ZPlusStr_86;
	}
	decref(v78);
	decref(MKSTR(v77));
	STR* v103;
	STRLIT(v103, ")", 1);
	VAL v104;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v103), v76, &v104);
	incref(in_C99API_2);
	VAL v105 = VTUP(in_C99API_2)->cells[5];
	incref(v105);
	decref(in_C99API_2);
	VAL branch_C99API_106;
	VAL branch_ZPlusC99Branch_107;
	VAL branch_Maybe_108;
	switch (get_data_tag(v105)) {
		case 1LL: { // Some
			VAL v109 = mtp_std_maybe_Maybe_1_Some(v105);
			incref(in_C99API_2);
			int64_t v110 = value_i64(VTUP(in_C99API_2)->cells[8]);
			decref(in_C99API_2);
			VAL branch_C99API_111;
			VAL branch_ZPlusC99Branch_112;
			VAL branch_Maybe_113;
			if (((bool)v110)) {
				int64_t v114 = value_i64(VTUP(v41)->cells[4]);
				VAL v115 = VTUP(v41)->cells[1];
				int64_t v116 = value_i64(VTUP(v115)->cells[4]);
				bool v117 = (((bool)v114) && ((bool)v116));
				VTUP(v115)->cells[4] = MKBOOL(v117);
				VAL v118;
				mw_mirth_c99_ZPlusC99_indent(v115, &v118);
				STR* v119;
				STRLIT(v119, "(void)", 6);
				VAL v120;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v119), v118, &v120);
				VAL v121;
				mw_mirth_c99_ZPlusC99_put(v104, v120, &v121);
				STR* v122;
				STRLIT(v122, ";", 1);
				VAL v123;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v122), v121, &v123);
				VAL v124;
				mw_mirth_c99_ZPlusC99_line(v123, &v124);
				VTUP(v124)->cells[4] = MKI64(v116);
				VTUP(v41)->cells[1] = v124;
				VAL v125 = mtw_std_maybe_Maybe_1_Some(v109);
				branch_Maybe_113 = v125;
				branch_ZPlusC99Branch_112 = v41;
				branch_C99API_111 = in_C99API_2;
			} else {
				VAL v126;
				VAL v127 = mw_mirth_c99_C99APIArg_reserveZ_newZ_expressionZBang(v104, v109, v41, &v126);
				VAL v128 = mtw_std_maybe_Maybe_1_Some(v127);
				branch_Maybe_113 = v128;
				branch_ZPlusC99Branch_112 = v126;
				branch_C99API_111 = in_C99API_2;
			}
			branch_Maybe_108 = branch_Maybe_113;
			branch_ZPlusC99Branch_107 = branch_ZPlusC99Branch_112;
			branch_C99API_106 = branch_C99API_111;
		} break;
		case 0LL: { // None
			int64_t v129 = value_i64(VTUP(v41)->cells[4]);
			VAL v130 = VTUP(v41)->cells[1];
			int64_t v131 = value_i64(VTUP(v130)->cells[4]);
			bool v132 = (((bool)v129) && ((bool)v131));
			VTUP(v130)->cells[4] = MKBOOL(v132);
			VAL v133;
			mw_mirth_c99_ZPlusC99_indent(v130, &v133);
			VAL v134;
			mw_mirth_c99_ZPlusC99_put(v104, v133, &v134);
			STR* v135;
			STRLIT(v135, ";", 1);
			VAL v136;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v135), v134, &v136);
			VAL v137;
			mw_mirth_c99_ZPlusC99_line(v136, &v137);
			VTUP(v137)->cells[4] = MKI64(v131);
			VTUP(v41)->cells[1] = v137;
			VAL v138 = MKI64(0LL /* None */);
			branch_Maybe_108 = v138;
			branch_ZPlusC99Branch_107 = v41;
			branch_C99API_106 = in_C99API_2;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	int64_t v139 = value_i64(VTUP(branch_C99API_106)->cells[8]);
	decref(branch_C99API_106);
	bool v140 = !((bool)v139);
	int64_t v141 = value_i64(VTUP(branch_ZPlusC99Branch_107)->cells[4]);
	bool v142 = (v140 && ((bool)v141));
	VTUP(branch_ZPlusC99Branch_107)->cells[4] = MKBOOL(v142);
	VAL v143;
	mw_std_list_List_1_for_1_sp16(branch_ZPlusC99Branch_107, v39, &v143);
	VAL branch_ZPlusC99Branch_144;
	switch (get_data_tag(branch_Maybe_108)) {
		case 1LL: { // Some
			VAL v145 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_108);
			VAL v146;
			mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang(v145, v143, &v146);
			branch_ZPlusC99Branch_144 = v146;
		} break;
		case 0LL: { // None
			branch_ZPlusC99Branch_144 = v143;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v147;
	mw_std_list_List_1_for_1_sp16(branch_ZPlusC99Branch_144, v42, &v147);
	*out_ZPlusC99Branch_4 = v147;
}
static void mw_mirth_c99_ZPlusC99_smartZ_sigZ_put (VAL in_C99API_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	STR* v4;
	STRLIT(v4, "static ", 7);
	VAL v5;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v4), in_ZPlusC99_2, &v5);
	incref(in_C99API_1);
	VAL v6 = VTUP(in_C99API_1)->cells[5];
	incref(v6);
	decref(in_C99API_1);
	VAL branch_ZPlusC99_7;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
			VAL v9 = VTUP(v8)->cells[3];
			incref(v9);
			decref(v8);
			VAL v10 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v9);
			VAL v11;
			mw_mirth_c99_ZPlusC99_put(v10, v5, &v11);
			branch_ZPlusC99_7 = v11;
		} break;
		case 0LL: { // None
			STR* v12;
			STRLIT(v12, "void", 4);
			VAL v13;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v12), v5, &v13);
			branch_ZPlusC99_7 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v14;
	STRLIT(v14, " ", 1);
	VAL v15;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v14), branch_ZPlusC99_7, &v15);
	incref(in_C99API_1);
	VAL v16 = VTUP(in_C99API_1)->cells[1];
	incref(v16);
	decref(in_C99API_1);
	VAL v17;
	mw_mirth_c99_ZPlusC99_put(v16, v15, &v17);
	STR* v18;
	STRLIT(v18, " (", 2);
	VAL v19;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
	STR* v20;
	STRLIT(v20, "", 0);
	incref(in_C99API_1);
	VAL v21 = VTUP(in_C99API_1)->cells[3];
	incref(v21);
	decref(in_C99API_1);
	VAL v22 = mw_std_list_List_1_filter_1_sp4(v21);
	int64_t v23 = 1LL /* True */;
	VAL v24 = v19;
	STR* v25 = v20;
	VAL v26 = v22;
	int64_t v27 = v23;
	int64_t v28 = v23;
	while (((bool)v28)) {
		VAL v29 = v24;
		STR* v30 = v25;
		VAL v31 = v26;
		int64_t v32 = v27;
		VAL branch_Str_33;
		VAL branch_ZPlusC99_34;
		VAL branch_List_35;
		int64_t branch_Bool_36;
		switch (get_data_tag(v31)) {
			case 1LL: { // Cons
				VAL v37;
				VAL v38 = mtp_std_list_List_1_Cons(v31, &v37);
				VAL v39;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v30), v29, &v39);
				STR* v40;
				STRLIT(v40, ", ", 2);
				incref(v38);
				VAL v41 = VTUP(v38)->cells[3];
				incref(v41);
				decref(v38);
				VAL v42 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v41);
				VAL v43;
				mw_mirth_c99_ZPlusC99_put(v42, v39, &v43);
				STR* v44;
				STRLIT(v44, " ", 1);
				VAL v45;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v44), v43, &v45);
				VAL v46 = VTUP(v38)->cells[4];
				incref(v46);
				decref(v38);
				VAL v47;
				mw_mirth_c99_ZPlusC99_put(v46, v45, &v47);
				int64_t v48 = 1LL /* True */;
				branch_Bool_36 = v48;
				branch_List_35 = v37;
				branch_ZPlusC99_34 = v47;
				branch_Str_33 = MKSTR(v40);
			} break;
			case 0LL: { // Nil
				VAL v49 = MKI64(0LL /* Nil */);
				int64_t v50 = 0LL /* False */;
				branch_Bool_36 = v50;
				branch_List_35 = v49;
				branch_ZPlusC99_34 = v29;
				branch_Str_33 = MKSTR(v30);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v28 = branch_Bool_36;
		v27 = branch_Bool_36;
		v26 = branch_List_35;
		v25 = value_str(branch_Str_33);
		v24 = branch_ZPlusC99_34;
	}
	decref(v26);
	incref(in_C99API_1);
	VAL v51 = VTUP(in_C99API_1)->cells[4];
	incref(v51);
	decref(in_C99API_1);
	incref(in_C99API_1);
	VAL v52 = VTUP(in_C99API_1)->cells[6];
	incref(v52);
	decref(in_C99API_1);
	VAL v53 = mw_std_list_List_1_cat(v51, v52);
	VAL v54 = mw_std_list_List_1_filter_1_sp4(v53);
	int64_t v55 = 1LL /* True */;
	VAL v56 = v24;
	STR* v57 = v25;
	VAL v58 = v54;
	int64_t v59 = v55;
	int64_t v60 = v55;
	while (((bool)v60)) {
		VAL v61 = v56;
		STR* v62 = v57;
		VAL v63 = v58;
		int64_t v64 = v59;
		VAL branch_Str_65;
		VAL branch_ZPlusC99_66;
		VAL branch_List_67;
		int64_t branch_Bool_68;
		switch (get_data_tag(v63)) {
			case 1LL: { // Cons
				VAL v69;
				VAL v70 = mtp_std_list_List_1_Cons(v63, &v69);
				VAL v71;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v62), v61, &v71);
				STR* v72;
				STRLIT(v72, ", ", 2);
				incref(v70);
				VAL v73 = VTUP(v70)->cells[3];
				incref(v73);
				decref(v70);
				VAL v74 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(v73);
				VAL v75;
				mw_mirth_c99_ZPlusC99_put(v74, v71, &v75);
				STR* v76;
				STRLIT(v76, " *", 2);
				VAL v77;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v76), v75, &v77);
				VAL v78 = VTUP(v70)->cells[4];
				incref(v78);
				decref(v70);
				VAL v79;
				mw_mirth_c99_ZPlusC99_put(v78, v77, &v79);
				int64_t v80 = 1LL /* True */;
				branch_Bool_68 = v80;
				branch_List_67 = v69;
				branch_ZPlusC99_66 = v79;
				branch_Str_65 = MKSTR(v72);
			} break;
			case 0LL: { // Nil
				VAL v81 = MKI64(0LL /* Nil */);
				int64_t v82 = 0LL /* False */;
				branch_Bool_68 = v82;
				branch_List_67 = v81;
				branch_ZPlusC99_66 = v61;
				branch_Str_65 = MKSTR(v62);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v60 = branch_Bool_68;
		v59 = branch_Bool_68;
		v58 = branch_List_67;
		v57 = value_str(branch_Str_65);
		v56 = branch_ZPlusC99_66;
	}
	decref(v58);
	uint64_t v83 = str_size(v57);
	int64_t v84 = 0LL;
	bool v85 = (((int64_t)v83) == v84);
	VAL branch_ZPlusC99_86;
	if (v85) {
		STR* v87;
		STRLIT(v87, "void", 4);
		VAL v88;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v87), v56, &v88);
		branch_ZPlusC99_86 = v88;
	} else {
		branch_ZPlusC99_86 = v56;
	}
	STR* v89;
	STRLIT(v89, ")", 1);
	VAL v90;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v89), branch_ZPlusC99_86, &v90);
	decref(in_C99API_1);
	*out_ZPlusC99_3 = v90;
}
static void mw_mirth_c99_c99Z_smartZ_sigZBang (VAL in_C99API_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_2, &v4);
	VAL v5;
	mw_mirth_c99_ZPlusC99_smartZ_sigZ_put(in_C99API_1, v4, &v5);
	STR* v6;
	STRLIT(v6, ";", 1);
	VAL v7;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v6), v5, &v7);
	VAL v8;
	mw_mirth_c99_ZPlusC99_line(v7, &v8);
	*out_ZPlusC99_3 = v8;
}
static void mw_mirth_c99_c99Z_apiZ_enterZBang (VAL in_C99API_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99Branch_3) {
	incref(in_C99API_1);
	VAL v4 = VTUP(in_C99API_1)->cells[3];
	incref(v4);
	decref(in_C99API_1);
	int64_t v5 = mw_std_list_List_1_len(v4);
	incref(in_C99API_1);
	VAL v6 = VTUP(in_C99API_1)->cells[4];
	incref(v6);
	decref(in_C99API_1);
	int64_t v7 = mw_std_list_List_1_len(v6);
	int64_t v8 = i64_add(v5, v7);
	incref(in_C99API_1);
	VAL v9 = VTUP(in_C99API_1)->cells[6];
	incref(v9);
	decref(in_C99API_1);
	int64_t v10 = mw_std_list_List_1_len(v9);
	int64_t v11 = i64_add(v8, v10);
	incref(in_C99API_1);
	VAL v12 = VTUP(in_C99API_1)->cells[5];
	incref(v12);
	decref(in_C99API_1);
	int64_t v13 = get_data_tag(v12);
	decref(v12);
	int64_t v14 = 1LL;
	bool v15 = (v13 == v14);
	int64_t branch_Nat_16;
	if (v15) {
		int64_t v17 = 1LL;
		int64_t v18 = i64_add(v11, v17);
		branch_Nat_16 = v18;
	} else {
		branch_Nat_16 = v11;
	}
	int64_t v19 = 1LL;
	int64_t v20 = i64_add(branch_Nat_16, v19);
	VTUP(in_ZPlusC99_2)->cells[3] = MKI64(v20);
	int64_t v21 = 1LL /* True */;
	VAL v22 = MKI64(0LL /* Nil */);
	VAL v23;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(in_ZPlusC99_2, v21, v22, &v23);
	incref(in_C99API_1);
	VAL v24 = VTUP(in_C99API_1)->cells[3];
	incref(v24);
	decref(in_C99API_1);
	VAL v25;
	mw_std_list_List_1_for_1_sp16(v23, v24, &v25);
	decref(in_C99API_1);
	*out_ZPlusC99Branch_3 = v25;
}
static void mw_mirth_c99_c99Z_apiZ_exitZBang (VAL in_C99API_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99_3) {
	incref(in_C99API_1);
	VAL v4 = VTUP(in_C99API_1)->cells[6];
	incref(v4);
	decref(in_C99API_1);
	VAL v5;
	mw_std_list_List_1_reverseZ_for_1_sp6(in_ZPlusC99Branch_2, v4, &v5);
	incref(in_C99API_1);
	VAL v6 = VTUP(in_C99API_1)->cells[5];
	incref(v6);
	decref(in_C99API_1);
	VAL branch_ZPlusC99Branch_7;
	VAL branch_Maybe_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			VAL v10;
			VAL v11 = mw_mirth_c99_C99APIArg_popZ_consumeZBang(v9, v5, &v10);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(v11);
			branch_Maybe_8 = v12;
			branch_ZPlusC99Branch_7 = v10;
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_8 = v13;
			branch_ZPlusC99Branch_7 = v5;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(in_C99API_1);
	VAL v14 = VTUP(in_C99API_1)->cells[4];
	incref(v14);
	decref(in_C99API_1);
	VAL v15;
	mw_std_list_List_1_reverseZ_for_1_sp6(branch_ZPlusC99Branch_7, v14, &v15);
	VAL v16;
	int64_t v17;
	VAL v18;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v15, &v16, &v17, &v18);
	VAL branch_C99API_19;
	VAL branch_ZPlusC99_20;
	VAL branch_List_21;
	if (((bool)v17)) {
		VAL branch_ZPlusC99_22;
		switch (get_data_tag(branch_Maybe_8)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_8);
				VAL v24;
				mw_mirth_c99_ZPlusC99_indent(v16, &v24);
				STR* v25;
				STRLIT(v25, "return ", 7);
				VAL v26;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
				VAL v27;
				mw_mirth_c99_ZPlusC99_put(v23, v26, &v27);
				STR* v28;
				STRLIT(v28, ";", 1);
				VAL v29;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
				VAL v30;
				mw_mirth_c99_ZPlusC99_line(v29, &v30);
				branch_ZPlusC99_22 = v30;
			} break;
			case 0LL: { // None
				branch_ZPlusC99_22 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_List_21 = v18;
		branch_ZPlusC99_20 = branch_ZPlusC99_22;
		branch_C99API_19 = in_C99API_1;
	} else {
		decref(branch_Maybe_8);
		incref(in_C99API_1);
		VAL v31 = VTUP(in_C99API_1)->cells[5];
		incref(v31);
		decref(in_C99API_1);
		VAL branch_ZPlusC99_32;
		switch (get_data_tag(v31)) {
			case 1LL: { // Some
				VAL v33 = mtp_std_maybe_Maybe_1_Some(v31);
				VAL v34 = VTUP(v33)->cells[3];
				incref(v34);
				decref(v33);
				VAL v35 = mw_mirth_c99_C99ReprType_dummyZ_value(v34);
				VAL v36;
				mw_mirth_c99_ZPlusC99_indent(v16, &v36);
				STR* v37;
				STRLIT(v37, "return ", 7);
				VAL v38;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v37), v36, &v38);
				VAL v39;
				mw_mirth_c99_ZPlusC99_put(v35, v38, &v39);
				STR* v40;
				STRLIT(v40, "; /* unreachable */", 19);
				VAL v41;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v40), v39, &v41);
				VAL v42;
				mw_mirth_c99_ZPlusC99_line(v41, &v42);
				branch_ZPlusC99_32 = v42;
			} break;
			case 0LL: { // None
				branch_ZPlusC99_32 = v16;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_List_21 = v18;
		branch_ZPlusC99_20 = branch_ZPlusC99_32;
		branch_C99API_19 = in_C99API_1;
	}
	decref(branch_C99API_19);
	decref(branch_List_21);
	*out_ZPlusC99_3 = branch_ZPlusC99_20;
}
static void mw_mirth_c99_c99Z_codipZ_arrowZBang (VAL in_Arrow_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	incref(in_Arrow_1);
	VAL v4;
	VAL v5 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp3(in_Arrow_1, in_ZPlusC99Branch_2, &v4);
	VAL v6;
	VAL v7 = mw_mirth_type_ArrowType_unpack(v5, &v6);
	VAL v8;
	VAL v9 = mw_mirth_type_StackType_splitZ_parts(v6, &v8);
	VAL v10;
	VAL v11 = mw_mirth_type_StackType_splitZ_parts(v7, &v10);
	int64_t v12 = mw_mirth_type_StackTypeBase_unitZAsk(v9);
	int64_t v13 = mw_mirth_type_StackTypeBase_unitZAsk(v11);
	bool v14 = (((bool)v12) && ((bool)v13));
	VAL branch_ZPlusC99Branch_15;
	if (v14) {
		VAL v16;
		VAL v17;
		mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang(v10, v4, &v16, &v17);
		VAL v18 = VTUP(v16)->cells[2];
		VAL v19 = MKI64(0LL /* +SNil */);
		VTUP(v16)->cells[2] = v19;
		VAL v20;
		mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang(v16, v17, &v20);
		VAL v21;
		mw_mirth_c99_c99Z_arrowZBang(in_Arrow_1, v20, &v21);
		VAL v22;
		VAL v23;
		mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang(v8, v21, &v22, &v23);
		VAL v24 = VTUP(v22)->cells[2];
		mw_mirth_c99_ZPlusC99Stack_rdrop(v24);
		VTUP(v22)->cells[2] = v18;
		VAL v25;
		mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang(v22, v23, &v25);
		branch_ZPlusC99Branch_15 = v25;
	} else {
		decref(v10);
		decref(v8);
		VAL v26;
		mw_mirth_c99_c99Z_arrowZBang(in_Arrow_1, v4, &v26);
		branch_ZPlusC99Branch_15 = v26;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_15;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_stackZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Stack_4) {
	VAL v5 = MKI64(0LL /* +SNil */);
	VAL v6 = mw_std_list_List_1_reverse(in_List_1);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_ZPlusC99Branch_2;
	VAL v9 = v5;
	VAL v10 = v6;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL branch_ZPlusC99Branch_17;
		VAL branch_ZPlusC99Stack_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				VAL v23;
				VAL v24;
				mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZBang(v22, v13, v14, &v23, &v24);
				int64_t v25 = 1LL /* True */;
				branch_Bool_20 = v25;
				branch_List_19 = v21;
				branch_ZPlusC99Stack_18 = v24;
				branch_ZPlusC99Branch_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_20 = v27;
				branch_List_19 = v26;
				branch_ZPlusC99Stack_18 = v14;
				branch_ZPlusC99Branch_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusC99Stack_18;
		v8 = branch_ZPlusC99Branch_17;
	}
	decref(v10);
	*out_ZPlusC99Stack_4 = v9;
	*out_ZPlusC99Branch_3 = v8;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_stackZ_partZBang (VAL in_StackTypePart_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Stack_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Stack_5) {
	VAL branch_ZPlusC99Branch_6;
	VAL branch_ZPlusC99Stack_7;
	switch (get_data_tag(in_StackTypePart_1)) {
		case 0LL: { // STPCons
			VAL v8 = mtp_mirth_type_StackTypePart_STPCons(in_StackTypePart_1);
			VAL v9;
			VAL v10 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v8, in_ZPlusC99Branch_2, &v9);
			VAL v11;
			VAL v12;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v9, v10, &v11, &v12);
			VAL v13;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_3, v12, &v13);
			branch_ZPlusC99Stack_7 = v13;
			branch_ZPlusC99Branch_6 = v11;
		} break;
		case 2LL: { // STPWith
			VAL v14 = mtp_mirth_type_StackTypePart_STPWith(in_StackTypePart_1);
			VAL v15;
			VAL v16 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v14, in_ZPlusC99Branch_2, &v15);
			VAL v17;
			VAL v18;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v15, v16, &v17, &v18);
			VAL v19;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_3, v18, &v19);
			branch_ZPlusC99Stack_7 = v19;
			branch_ZPlusC99Branch_6 = v17;
		} break;
		case 1LL: { // STPConsLabel
			uint64_t v20;
			VAL v21 = mtp_mirth_type_StackTypePart_STPConsLabel(in_StackTypePart_1, &v20);
			VAL v22;
			VAL v23 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v21, in_ZPlusC99Branch_2, &v22);
			VAL v24;
			VAL v25;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v23, v20, v22, &v24, &v25);
			VAL v26;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_3, v25, v20, &v26);
			branch_ZPlusC99Stack_7 = v26;
			branch_ZPlusC99Branch_6 = v24;
		} break;
		case 3LL: { // STPWithLabel
			uint64_t v27;
			VAL v28 = mtp_mirth_type_StackTypePart_STPWithLabel(in_StackTypePart_1, &v27);
			VAL v29;
			VAL v30 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v28, in_ZPlusC99Branch_2, &v29);
			VAL v31;
			VAL v32;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v30, v27, v29, &v31, &v32);
			VAL v33;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_3, v32, v27, &v33);
			branch_ZPlusC99Stack_7 = v33;
			branch_ZPlusC99Branch_6 = v31;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_5 = branch_ZPlusC99Stack_7;
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang (VAL in_ZPlusC99Stack_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99Stack_3) {
	int64_t v4 = 1LL /* True */;
	VAL v5 = in_ZPlusC99Stack_1;
	VAL v6 = in_ZPlusC99Stack_2;
	int64_t v7 = v4;
	int64_t v8 = v4;
	while (((bool)v8)) {
		VAL v9 = v5;
		VAL v10 = v6;
		int64_t v11 = v7;
		VAL branch_ZPlusC99Stack_12;
		VAL branch_ZPlusC99Stack_13;
		int64_t branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 0LL: { // +SNil
				VAL v15 = MKI64(0LL /* +SNil */);
				int64_t v16 = 0LL /* False */;
				branch_Bool_14 = v16;
				branch_ZPlusC99Stack_13 = v15;
				branch_ZPlusC99Stack_12 = v9;
			} break;
			case 1LL: { // +SCons
				VAL v17;
				VAL v18;
				mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(v10, &v17, &v18);
				VAL v19;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons(v9, v18, &v19);
				int64_t v20 = 1LL /* True */;
				branch_Bool_14 = v20;
				branch_ZPlusC99Stack_13 = v17;
				branch_ZPlusC99Stack_12 = v19;
			} break;
			case 2LL: { // +SWith
				VAL v21;
				VAL v22;
				mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(v10, &v21, &v22);
				VAL v23;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith(v9, v22, &v23);
				int64_t v24 = 1LL /* True */;
				branch_Bool_14 = v24;
				branch_ZPlusC99Stack_13 = v21;
				branch_ZPlusC99Stack_12 = v23;
			} break;
			case 3LL: { // +SConsLabel
				VAL v25;
				VAL v26;
				uint64_t v27 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v10, &v25, &v26);
				VAL v28;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v9, v26, v27, &v28);
				int64_t v29 = 1LL /* True */;
				branch_Bool_14 = v29;
				branch_ZPlusC99Stack_13 = v25;
				branch_ZPlusC99Stack_12 = v28;
			} break;
			case 4LL: { // +SWithLabel
				VAL v30;
				VAL v31;
				uint64_t v32 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v10, &v30, &v31);
				VAL v33;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v9, v31, v32, &v33);
				int64_t v34 = 1LL /* True */;
				branch_Bool_14 = v34;
				branch_ZPlusC99Stack_13 = v30;
				branch_ZPlusC99Stack_12 = v33;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_ZPlusC99Stack_13;
		v5 = branch_ZPlusC99Stack_12;
	}
	mw_mirth_c99_ZPlusC99Stack_rdrop(v6);
	*out_ZPlusC99Stack_3 = v5;
}
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Branch_1)->cells[2];
	VAL v5;
	mw_mirth_c99_ZPlusC99Stack_reverseZ_catZBang(v4, in_ZPlusC99Stack_2, &v5);
	VTUP(in_ZPlusC99Branch_1)->cells[2] = v5;
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_1;
}
static void mw_mirth_c99_c99Z_arrowZBang (VAL in_Arrow_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_Arrow_1)->cells[7];
	incref(v4);
	decref(in_Arrow_1);
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_ZPlusC99Branch_2;
	VAL v7 = v4;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusC99Branch_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL v18;
				mw_mirth_c99_c99Z_atomZBang(v17, v10, &v18);
				int64_t v19 = 1LL /* True */;
				branch_Bool_15 = v19;
				branch_List_14 = v16;
				branch_ZPlusC99Branch_13 = v18;
			} break;
			case 0LL: { // Nil
				VAL v20 = MKI64(0LL /* Nil */);
				int64_t v21 = 0LL /* False */;
				branch_Bool_15 = v21;
				branch_List_14 = v20;
				branch_ZPlusC99Branch_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusC99Branch_13;
	}
	decref(v7);
	*out_ZPlusC99Branch_3 = v6;
}
static void mw_mirth_c99_c99Z_atomZBang (VAL in_Atom_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v5 = VTUP(v4)->cells[1];
	incref(v5);
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v4;
	int64_t v6 = value_i64(VTUP(v5)->cells[2]);
	decref(v5);
	VAL branch_Atom_7;
	int64_t branch_Bool_8;
	if (((bool)v6)) {
		incref(in_Atom_1);
		VAL v9 = VTUP(in_Atom_1)->cells[4];
		incref(v9);
		decref(in_Atom_1);
		int64_t v10 = mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk(v9);
		branch_Bool_8 = v10;
		branch_Atom_7 = in_Atom_1;
	} else {
		int64_t v11 = 0LL /* False */;
		branch_Bool_8 = v11;
		branch_Atom_7 = in_Atom_1;
	}
	VAL branch_Atom_12;
	VAL branch_ZPlusC99Branch_13;
	if (((bool)branch_Bool_8)) {
		VAL v14 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		VAL v15;
		mw_mirth_c99_ZPlusC99_indent(v14, &v15);
		STR* v16;
		STRLIT(v16, "WORD_ATOM(", 10);
		VAL v17;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v16), v15, &v17);
		incref(branch_Atom_7);
		uint64_t v18 = value_u64(VTUP(branch_Atom_7)->cells[2]);
		decref(branch_Atom_7);
		int64_t v19 = mw_mirth_token_Token_row(v18);
		int64_t v20 = mw_mirth_location_Row_ZToInt(v19);
		STR* v21 = i64_show(v20);
		VAL v22;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v21), v17, &v22);
		STR* v23;
		STRLIT(v23, ", ", 2);
		VAL v24;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v23), v22, &v24);
		incref(branch_Atom_7);
		uint64_t v25 = value_u64(VTUP(branch_Atom_7)->cells[2]);
		decref(branch_Atom_7);
		int64_t v26 = mw_mirth_token_Token_col(v25);
		int64_t v27 = mw_mirth_location_Col_ZToInt(v26);
		STR* v28 = i64_show(v27);
		VAL v29;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v24, &v29);
		STR* v30;
		STRLIT(v30, ", ", 2);
		VAL v31;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v30), v29, &v31);
		incref(branch_Atom_7);
		uint64_t v32 = value_u64(VTUP(branch_Atom_7)->cells[2]);
		decref(branch_Atom_7);
		VAL v33 = mw_mirth_token_Token_nameZAsk(v32);
		VAL branch_Str_34;
		switch (get_data_tag(v33)) {
			case 1LL: { // Some
				VAL v35 = mtp_std_maybe_Maybe_1_Some(v33);
				VAL v36 = mw_mirth_name_Name_ZToStr(value_u64(v35));
				branch_Str_34 = v36;
			} break;
			case 0LL: { // None
				STR* v37;
				STRLIT(v37, "", 0);
				branch_Str_34 = MKSTR(v37);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL v38;
		mw_mirth_c99_ZPlusC99_putZ_cstr(branch_Str_34, v31, &v38);
		STR* v39;
		STRLIT(v39, ");", 2);
		VAL v40;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v39), v38, &v40);
		VAL v41;
		mw_mirth_c99_ZPlusC99_line(v40, &v41);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v41;
		branch_ZPlusC99Branch_13 = in_ZPlusC99Branch_2;
		branch_Atom_12 = branch_Atom_7;
	} else {
		branch_ZPlusC99Branch_13 = in_ZPlusC99Branch_2;
		branch_Atom_12 = branch_Atom_7;
	}
	incref(branch_Atom_12);
	VAL v42 = VTUP(branch_Atom_12)->cells[4];
	incref(v42);
	decref(branch_Atom_12);
	VAL v43;
	mw_mirth_c99_c99Z_atomZ_opZBang(branch_Atom_12, v42, branch_ZPlusC99Branch_13, &v43);
	*out_ZPlusC99Branch_3 = v43;
}
static int64_t mw_mirth_arrow_Op_showZ_inZ_stackZ_traceZAsk (VAL in_Op_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_Op_1)) {
		case 0LL: { // OpNone
			int64_t v4 = 0LL /* False */;
			branch_Bool_3 = v4;
		} break;
		case 7LL: { // OpInt
			int64_t v5 = mtp_mirth_arrow_Op_OpInt(in_Op_1);
			int64_t v6 = 0LL /* False */;
			branch_Bool_3 = v6;
		} break;
		case 8LL: { // OpF64
			double v7 = mtp_mirth_arrow_Op_OpF64(in_Op_1);
			int64_t v8 = 0LL /* False */;
			branch_Bool_3 = v8;
		} break;
		case 9LL: { // OpStr
			VAL v9 = mtp_mirth_arrow_Op_OpStr(in_Op_1);
			decref(v9);
			int64_t v10 = 0LL /* False */;
			branch_Bool_3 = v10;
		} break;
		case 2LL: { // OpWord
			uint64_t v11 = mtp_mirth_arrow_Op_OpWord(in_Op_1);
			int64_t v12 = mw_mirth_word_Word_preferZ_inlineZAsk(v11);
			bool v13 = !((bool)v12);
			branch_Bool_3 = ((int64_t)v13);
		} break;
		case 3LL: { // OpExternal
			uint64_t v14 = mtp_mirth_arrow_Op_OpExternal(in_Op_1);
			int64_t v15 = 1LL /* True */;
			branch_Bool_3 = v15;
		} break;
		case 4LL: { // OpBuffer
			uint64_t v16 = mtp_mirth_arrow_Op_OpBuffer(in_Op_1);
			int64_t v17 = 0LL /* False */;
			branch_Bool_3 = v17;
		} break;
		case 5LL: { // OpVariable
			uint64_t v18 = mtp_mirth_arrow_Op_OpVariable(in_Op_1);
			int64_t v19 = 0LL /* False */;
			branch_Bool_3 = v19;
		} break;
		case 6LL: { // OpField
			uint64_t v20 = mtp_mirth_arrow_Op_OpField(in_Op_1);
			int64_t v21 = 0LL /* False */;
			branch_Bool_3 = v21;
		} break;
		case 10LL: { // OpTag
			uint64_t v22 = mtp_mirth_arrow_Op_OpTag(in_Op_1);
			int64_t v23 = 0LL /* False */;
			branch_Bool_3 = v23;
		} break;
		case 1LL: { // OpPrim
			int64_t v24 = mtp_mirth_arrow_Op_OpPrim(in_Op_1);
			int64_t v25 = 1LL /* True */;
			branch_Bool_3 = v25;
		} break;
		case 11LL: { // OpMatch
			VAL v26 = mtp_mirth_arrow_Op_OpMatch(in_Op_1);
			decref(v26);
			int64_t v27 = 0LL /* False */;
			branch_Bool_3 = v27;
		} break;
		case 12LL: { // OpLambda
			VAL v28 = mtp_mirth_arrow_Op_OpLambda(in_Op_1);
			decref(v28);
			int64_t v29 = 0LL /* False */;
			branch_Bool_3 = v29;
		} break;
		case 13LL: { // OpVar
			uint64_t v30 = mtp_mirth_arrow_Op_OpVar(in_Op_1);
			int64_t v31 = 0LL /* False */;
			branch_Bool_3 = v31;
		} break;
		case 14LL: { // OpBlockPush
			uint64_t v32 = mtp_mirth_arrow_Op_OpBlockPush(in_Op_1);
			int64_t v33 = 0LL /* False */;
			branch_Bool_3 = v33;
		} break;
		case 15LL: { // OpBlockRun
			uint64_t v34 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_1);
			int64_t v35 = 0LL /* False */;
			branch_Bool_3 = v35;
		} break;
		case 16LL: { // OpLabelPush
			uint64_t v36 = mtp_mirth_arrow_Op_OpLabelPush(in_Op_1);
			int64_t v37 = 0LL /* False */;
			branch_Bool_3 = v37;
		} break;
		case 17LL: { // OpLabelPop
			uint64_t v38 = mtp_mirth_arrow_Op_OpLabelPop(in_Op_1);
			int64_t v39 = 0LL /* False */;
			branch_Bool_3 = v39;
		} break;
		case 18LL: { // OpLabelPushR
			uint64_t v40 = mtp_mirth_arrow_Op_OpLabelPushR(in_Op_1);
			int64_t v41 = 0LL /* False */;
			branch_Bool_3 = v41;
		} break;
		case 19LL: { // OpLabelPopR
			uint64_t v42 = mtp_mirth_arrow_Op_OpLabelPopR(in_Op_1);
			int64_t v43 = 0LL /* False */;
			branch_Bool_3 = v43;
		} break;
		case 20LL: { // OpDataGetEnumValue
			uint64_t v44 = mtp_mirth_arrow_Op_OpDataGetEnumValue(in_Op_1);
			int64_t v45 = 0LL /* False */;
			branch_Bool_3 = v45;
		} break;
		case 21LL: { // OpDataFromEnumValue
			uint64_t v46 = mtp_mirth_arrow_Op_OpDataFromEnumValue(in_Op_1);
			int64_t v47 = 0LL /* False */;
			branch_Bool_3 = v47;
		} break;
		case 22LL: { // OpDataGetLabel
			VAL v48 = mtp_mirth_arrow_Op_OpDataGetLabel(in_Op_1);
			decref(v48);
			int64_t v49 = 0LL /* False */;
			branch_Bool_3 = v49;
		} break;
		case 23LL: { // OpDataSetLabel
			VAL v50 = mtp_mirth_arrow_Op_OpDataSetLabel(in_Op_1);
			decref(v50);
			int64_t v51 = 0LL /* False */;
			branch_Bool_3 = v51;
		} break;
		case 24LL: { // OpTableToIndex
			uint64_t v52 = mtp_mirth_arrow_Op_OpTableToIndex(in_Op_1);
			int64_t v53 = 0LL /* False */;
			branch_Bool_3 = v53;
		} break;
		case 25LL: { // OpTableFromIndex
			uint64_t v54 = mtp_mirth_arrow_Op_OpTableFromIndex(in_Op_1);
			int64_t v55 = 0LL /* False */;
			branch_Bool_3 = v55;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_3;
}
static void mw_mirth_c99_c99Z_atomZ_opZBang (VAL in_Atom_1, VAL in_Op_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL branch_ZPlusC99Branch_5;
	switch (get_data_tag(in_Op_2)) {
		case 0LL: { // OpNone
			decref(in_Atom_1);
			branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_3;
		} break;
		case 7LL: { // OpInt
			int64_t v6 = mtp_mirth_arrow_Op_OpInt(in_Op_2);
			decref(in_Atom_1);
			VAL v7;
			mw_mirth_c99_c99Z_intZBang(v6, in_ZPlusC99Branch_3, &v7);
			branch_ZPlusC99Branch_5 = v7;
		} break;
		case 8LL: { // OpF64
			double v8 = mtp_mirth_arrow_Op_OpF64(in_Op_2);
			decref(in_Atom_1);
			VAL v9;
			mw_mirth_c99_c99Z_f64ZBang(v8, in_ZPlusC99Branch_3, &v9);
			branch_ZPlusC99Branch_5 = v9;
		} break;
		case 9LL: { // OpStr
			VAL v10 = mtp_mirth_arrow_Op_OpStr(in_Op_2);
			decref(in_Atom_1);
			VAL v11;
			mw_mirth_c99_c99Z_strZBang(v10, in_ZPlusC99Branch_3, &v11);
			branch_ZPlusC99Branch_5 = v11;
		} break;
		case 2LL: { // OpWord
			uint64_t v12 = mtp_mirth_arrow_Op_OpWord(in_Op_2);
			VAL v13 = VTUP(in_Atom_1)->cells[5];
			incref(v13);
			decref(in_Atom_1);
			VAL v14;
			mw_mirth_c99_c99Z_wordZBang(v13, v12, in_ZPlusC99Branch_3, &v14);
			branch_ZPlusC99Branch_5 = v14;
		} break;
		case 3LL: { // OpExternal
			uint64_t v15 = mtp_mirth_arrow_Op_OpExternal(in_Op_2);
			VAL v16 = VTUP(in_Atom_1)->cells[5];
			incref(v16);
			decref(in_Atom_1);
			VAL v17;
			mw_mirth_c99_c99Z_externalZ_callZBang(v16, v15, in_ZPlusC99Branch_3, &v17);
			branch_ZPlusC99Branch_5 = v17;
		} break;
		case 4LL: { // OpBuffer
			uint64_t v18 = mtp_mirth_arrow_Op_OpBuffer(in_Op_2);
			decref(in_Atom_1);
			VAL v19;
			mw_mirth_c99_c99Z_bufferZ_callZBang(v18, in_ZPlusC99Branch_3, &v19);
			branch_ZPlusC99Branch_5 = v19;
		} break;
		case 5LL: { // OpVariable
			uint64_t v20 = mtp_mirth_arrow_Op_OpVariable(in_Op_2);
			decref(in_Atom_1);
			VAL v21;
			mw_mirth_c99_c99Z_variableZ_callZBang(v20, in_ZPlusC99Branch_3, &v21);
			branch_ZPlusC99Branch_5 = v21;
		} break;
		case 6LL: { // OpField
			uint64_t v22 = mtp_mirth_arrow_Op_OpField(in_Op_2);
			decref(in_Atom_1);
			VAL v23;
			mw_mirth_c99_c99Z_fieldZ_callZBang(v22, in_ZPlusC99Branch_3, &v23);
			branch_ZPlusC99Branch_5 = v23;
		} break;
		case 10LL: { // OpTag
			uint64_t v24 = mtp_mirth_arrow_Op_OpTag(in_Op_2);
			VAL v25 = VTUP(in_Atom_1)->cells[5];
			incref(v25);
			decref(in_Atom_1);
			VAL v26;
			mw_mirth_c99_c99Z_tagZ_callZBang(v25, v24, in_ZPlusC99Branch_3, &v26);
			branch_ZPlusC99Branch_5 = v26;
		} break;
		case 1LL: { // OpPrim
			int64_t v27 = mtp_mirth_arrow_Op_OpPrim(in_Op_2);
			VAL v28;
			mw_mirth_c99_c99Z_primZBang(in_Atom_1, v27, in_ZPlusC99Branch_3, &v28);
			branch_ZPlusC99Branch_5 = v28;
		} break;
		case 11LL: { // OpMatch
			VAL v29 = mtp_mirth_arrow_Op_OpMatch(in_Op_2);
			decref(in_Atom_1);
			VAL v30;
			mw_mirth_c99_c99Z_matchZBang(v29, in_ZPlusC99Branch_3, &v30);
			branch_ZPlusC99Branch_5 = v30;
		} break;
		case 12LL: { // OpLambda
			VAL v31 = mtp_mirth_arrow_Op_OpLambda(in_Op_2);
			decref(in_Atom_1);
			VAL v32;
			mw_mirth_c99_c99Z_lambdaZBang(v31, in_ZPlusC99Branch_3, &v32);
			branch_ZPlusC99Branch_5 = v32;
		} break;
		case 13LL: { // OpVar
			uint64_t v33 = mtp_mirth_arrow_Op_OpVar(in_Op_2);
			decref(in_Atom_1);
			VAL v34;
			mw_mirth_c99_c99Z_varZBang(v33, in_ZPlusC99Branch_3, &v34);
			branch_ZPlusC99Branch_5 = v34;
		} break;
		case 14LL: { // OpBlockPush
			uint64_t v35 = mtp_mirth_arrow_Op_OpBlockPush(in_Op_2);
			decref(in_Atom_1);
			VAL v36;
			mw_mirth_c99_c99Z_blockZ_pushZBang(v35, in_ZPlusC99Branch_3, &v36);
			branch_ZPlusC99Branch_5 = v36;
		} break;
		case 15LL: { // OpBlockRun
			uint64_t v37 = mtp_mirth_arrow_Op_OpBlockRun(in_Op_2);
			decref(in_Atom_1);
			VAL v38;
			mw_mirth_c99_c99Z_blockZ_runZBang(v37, in_ZPlusC99Branch_3, &v38);
			branch_ZPlusC99Branch_5 = v38;
		} break;
		case 16LL: { // OpLabelPush
			uint64_t v39 = mtp_mirth_arrow_Op_OpLabelPush(in_Op_2);
			VAL v40;
			mw_mirth_c99_c99Z_labelZ_pushZBang(in_Atom_1, v39, in_ZPlusC99Branch_3, &v40);
			branch_ZPlusC99Branch_5 = v40;
		} break;
		case 17LL: { // OpLabelPop
			uint64_t v41 = mtp_mirth_arrow_Op_OpLabelPop(in_Op_2);
			VAL v42;
			mw_mirth_c99_c99Z_labelZ_popZBang(in_Atom_1, v41, in_ZPlusC99Branch_3, &v42);
			branch_ZPlusC99Branch_5 = v42;
		} break;
		case 18LL: { // OpLabelPushR
			uint64_t v43 = mtp_mirth_arrow_Op_OpLabelPushR(in_Op_2);
			VAL v44;
			mw_mirth_c99_c99Z_labelZ_pushZ_rZBang(in_Atom_1, v43, in_ZPlusC99Branch_3, &v44);
			branch_ZPlusC99Branch_5 = v44;
		} break;
		case 19LL: { // OpLabelPopR
			uint64_t v45 = mtp_mirth_arrow_Op_OpLabelPopR(in_Op_2);
			VAL v46;
			mw_mirth_c99_c99Z_labelZ_popZ_rZBang(in_Atom_1, v45, in_ZPlusC99Branch_3, &v46);
			branch_ZPlusC99Branch_5 = v46;
		} break;
		case 20LL: { // OpDataGetEnumValue
			uint64_t v47 = mtp_mirth_arrow_Op_OpDataGetEnumValue(in_Op_2);
			decref(in_Atom_1);
			VAL v48;
			mw_mirth_c99_c99Z_getZ_enumZ_valueZBang(v47, in_ZPlusC99Branch_3, &v48);
			branch_ZPlusC99Branch_5 = v48;
		} break;
		case 21LL: { // OpDataFromEnumValue
			uint64_t v49 = mtp_mirth_arrow_Op_OpDataFromEnumValue(in_Op_2);
			decref(in_Atom_1);
			VAL v50;
			mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang(v49, in_ZPlusC99Branch_3, &v50);
			branch_ZPlusC99Branch_5 = v50;
		} break;
		case 22LL: { // OpDataGetLabel
			VAL v51 = mtp_mirth_arrow_Op_OpDataGetLabel(in_Op_2);
			VAL v52;
			mw_mirth_c99_c99Z_tagZ_getZ_labelZBang(v51, in_ZPlusC99Branch_3, &v52);
			decref(in_Atom_1);
			branch_ZPlusC99Branch_5 = v52;
		} break;
		case 23LL: { // OpDataSetLabel
			VAL v53 = mtp_mirth_arrow_Op_OpDataSetLabel(in_Op_2);
			VAL v54;
			mw_mirth_c99_c99Z_tagZ_setZ_labelZBang(v53, in_ZPlusC99Branch_3, &v54);
			decref(in_Atom_1);
			branch_ZPlusC99Branch_5 = v54;
		} break;
		case 24LL: { // OpTableToIndex
			uint64_t v55 = mtp_mirth_arrow_Op_OpTableToIndex(in_Op_2);
			decref(in_Atom_1);
			branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_3;
		} break;
		case 25LL: { // OpTableFromIndex
			uint64_t v56 = mtp_mirth_arrow_Op_OpTableFromIndex(in_Op_2);
			decref(in_Atom_1);
			branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_3;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_5;
}
static void mw_mirth_c99_c99Z_getZ_enumZ_valueZBang (uint64_t in_Data_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	int64_t v4 = mw_mirth_data_Data_isZ_enumZAsk(in_Data_1);
	VAL branch_ZPlusC99Branch_5;
	uint64_t branch_Data_6;
	if (((bool)v4)) {
		branch_Data_6 = in_Data_1;
		branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	} else {
		VAL v7 = mtw_mirth_type_Type_TData(in_Data_1);
		VAL v8;
		VAL v9 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v7, in_ZPlusC99Branch_2, &v8);
		VAL v10;
		VAL v11;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v8, v9, &v10, &v11);
		VAL v12 = mw_mirth_data_Data_isZ_unitZAsk(in_Data_1);
		VAL branch_ZPlusC99Value_13;
		uint64_t branch_Data_14;
		VAL branch_ZPlusC99Branch_15;
		switch (get_data_tag(v12)) {
			case 1LL: { // Some
				VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
				VAL v17 = MKI64(4LL /* C99RT_I64 */);
				incref(v17);
				int64_t v18 = get_data_tag(v17);
				decref(v17);
				int64_t v19 = 0LL;
				bool v20 = (v18 != v19);
				uint64_t branch_Tag_21;
				VAL branch_C99ReprType_22;
				int64_t branch_Bool_23;
				VAL branch_Str_24;
				VAL branch_ZPlusC99Branch_25;
				if (v20) {
					VAL v26 = VTUP(v10)->cells[1];
					VAL v27;
					VAL v28 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v26, &v27);
					VTUP(v10)->cells[1] = v27;
					branch_ZPlusC99Branch_25 = v10;
					branch_Str_24 = v28;
					branch_Bool_23 = ((int64_t)v20);
					branch_C99ReprType_22 = v17;
					branch_Tag_21 = value_u64(v16);
				} else {
					STR* v29;
					STRLIT(v29, "0", 1);
					branch_ZPlusC99Branch_25 = v10;
					branch_Str_24 = MKSTR(v29);
					branch_Bool_23 = ((int64_t)v20);
					branch_C99ReprType_22 = v17;
					branch_Tag_21 = value_u64(v16);
				}
				int64_t v30 = value_i64(VTUP(branch_ZPlusC99Branch_25)->cells[4]);
				bool v31 = (((bool)branch_Bool_23) && ((bool)v30));
				VAL v32 = VTUP(branch_ZPlusC99Branch_25)->cells[1];
				int64_t v33 = value_i64(VTUP(v32)->cells[4]);
				bool v34 = (v31 && ((bool)v33));
				VTUP(v32)->cells[4] = MKBOOL(v34);
				VAL v35;
				mw_mirth_c99_ZPlusC99_indent(v32, &v35);
				incref(branch_C99ReprType_22);
				VAL v36 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_22);
				VAL v37;
				mw_mirth_c99_ZPlusC99_put(v36, v35, &v37);
				STR* v38;
				STRLIT(v38, " ", 1);
				VAL v39;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v38), v37, &v39);
				incref(branch_Str_24);
				VAL v40;
				mw_mirth_c99_ZPlusC99_put(branch_Str_24, v39, &v40);
				STR* v41;
				STRLIT(v41, " = ", 3);
				VAL v42;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v41), v40, &v42);
				VAL v43;
				mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_22, branch_Str_24, &v43);
				int64_t v44 = mw_mirth_data_Tag_value(branch_Tag_21);
				STR* v45 = i64_show(v44);
				VAL v46;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v45), v42, &v46);
				STR* v47;
				STRLIT(v47, "LL", 2);
				VAL v48;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v47), v46, &v48);
				STR* v49;
				STRLIT(v49, ";", 1);
				VAL v50;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v49), v48, &v50);
				VAL v51;
				mw_mirth_c99_ZPlusC99_line(v50, &v51);
				VTUP(v51)->cells[4] = MKI64(v33);
				VTUP(branch_ZPlusC99Branch_25)->cells[1] = v51;
				VAL v52;
				mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_25, v43, &v52);
				branch_ZPlusC99Branch_15 = v52;
				branch_Data_14 = in_Data_1;
				branch_ZPlusC99Value_13 = v11;
			} break;
			case 0LL: { // None
				VAL v53 = VTUP(v10)->cells[1];
				VAL v54 = VTUP(v53)->cells[7];
				VAL v55;
				VAL v56 = mw_mirth_data_Data_semiZ_transparentZAsk(v54, in_Data_1, &v55);
				VTUP(v53)->cells[7] = v55;
				VTUP(v10)->cells[1] = v53;
				VAL branch_ZPlusC99Value_57;
				VAL branch_ZPlusC99Branch_58;
				switch (get_data_tag(v56)) {
					case 1LL: { // Some
						VAL v59 = mtp_std_maybe_Maybe_1_Some(v56);
						VAL v60 = MKI64(4LL /* C99RT_I64 */);
						incref(v60);
						int64_t v61 = get_data_tag(v60);
						decref(v60);
						int64_t v62 = 0LL;
						bool v63 = (v61 != v62);
						VAL branch_SemiTransparentData_64;
						VAL branch_C99ReprType_65;
						int64_t branch_Bool_66;
						VAL branch_Str_67;
						VAL branch_ZPlusC99Branch_68;
						if (v63) {
							VAL v69 = VTUP(v10)->cells[1];
							VAL v70;
							VAL v71 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v69, &v70);
							VTUP(v10)->cells[1] = v70;
							branch_ZPlusC99Branch_68 = v10;
							branch_Str_67 = v71;
							branch_Bool_66 = ((int64_t)v63);
							branch_C99ReprType_65 = v60;
							branch_SemiTransparentData_64 = v59;
						} else {
							STR* v72;
							STRLIT(v72, "0", 1);
							branch_ZPlusC99Branch_68 = v10;
							branch_Str_67 = MKSTR(v72);
							branch_Bool_66 = ((int64_t)v63);
							branch_C99ReprType_65 = v60;
							branch_SemiTransparentData_64 = v59;
						}
						int64_t v73 = value_i64(VTUP(branch_ZPlusC99Branch_68)->cells[4]);
						bool v74 = (((bool)branch_Bool_66) && ((bool)v73));
						VAL v75 = VTUP(branch_ZPlusC99Branch_68)->cells[1];
						int64_t v76 = value_i64(VTUP(v75)->cells[4]);
						bool v77 = (v74 && ((bool)v76));
						VTUP(v75)->cells[4] = MKBOOL(v77);
						VAL v78;
						mw_mirth_c99_ZPlusC99_indent(v75, &v78);
						incref(branch_C99ReprType_65);
						VAL v79 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_65);
						VAL v80;
						mw_mirth_c99_ZPlusC99_put(v79, v78, &v80);
						STR* v81;
						STRLIT(v81, " ", 1);
						VAL v82;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v81), v80, &v82);
						incref(branch_Str_67);
						VAL v83;
						mw_mirth_c99_ZPlusC99_put(branch_Str_67, v82, &v83);
						STR* v84;
						STRLIT(v84, " = ", 3);
						VAL v85;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v84), v83, &v85);
						VAL v86;
						mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_65, branch_Str_67, &v86);
						uint64_t v87 = value_u64(VTUP(branch_SemiTransparentData_64)->cells[1]);
						decref(branch_SemiTransparentData_64);
						int64_t v88 = mw_mirth_data_Tag_value(v87);
						STR* v89 = i64_show(v88);
						VAL v90;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v89), v85, &v90);
						STR* v91;
						STRLIT(v91, "LL", 2);
						VAL v92;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v91), v90, &v92);
						STR* v93;
						STRLIT(v93, ";", 1);
						VAL v94;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v93), v92, &v94);
						VAL v95;
						mw_mirth_c99_ZPlusC99_line(v94, &v95);
						VTUP(v95)->cells[4] = MKI64(v76);
						VTUP(branch_ZPlusC99Branch_68)->cells[1] = v95;
						VAL v96;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_68, v86, &v96);
						branch_ZPlusC99Branch_58 = v96;
						branch_ZPlusC99Value_57 = v11;
					} break;
					case 0LL: { // None
						VAL v97 = MKI64(4LL /* C99RT_I64 */);
						incref(v97);
						int64_t v98 = get_data_tag(v97);
						decref(v97);
						int64_t v99 = 0LL;
						bool v100 = (v98 != v99);
						VAL branch_ZPlusC99Value_101;
						VAL branch_C99ReprType_102;
						int64_t branch_Bool_103;
						VAL branch_Str_104;
						VAL branch_ZPlusC99Branch_105;
						if (v100) {
							VAL v106 = VTUP(v10)->cells[1];
							VAL v107;
							VAL v108 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v106, &v107);
							VTUP(v10)->cells[1] = v107;
							branch_ZPlusC99Branch_105 = v10;
							branch_Str_104 = v108;
							branch_Bool_103 = ((int64_t)v100);
							branch_C99ReprType_102 = v97;
							branch_ZPlusC99Value_101 = v11;
						} else {
							STR* v109;
							STRLIT(v109, "0", 1);
							branch_ZPlusC99Branch_105 = v10;
							branch_Str_104 = MKSTR(v109);
							branch_Bool_103 = ((int64_t)v100);
							branch_C99ReprType_102 = v97;
							branch_ZPlusC99Value_101 = v11;
						}
						int64_t v110 = value_i64(VTUP(branch_ZPlusC99Branch_105)->cells[4]);
						bool v111 = (((bool)branch_Bool_103) && ((bool)v110));
						VAL v112 = VTUP(branch_ZPlusC99Branch_105)->cells[1];
						int64_t v113 = value_i64(VTUP(v112)->cells[4]);
						bool v114 = (v111 && ((bool)v113));
						VTUP(v112)->cells[4] = MKBOOL(v114);
						VAL v115;
						mw_mirth_c99_ZPlusC99_indent(v112, &v115);
						incref(branch_C99ReprType_102);
						VAL v116 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_102);
						VAL v117;
						mw_mirth_c99_ZPlusC99_put(v116, v115, &v117);
						STR* v118;
						STRLIT(v118, " ", 1);
						VAL v119;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v118), v117, &v119);
						incref(branch_Str_104);
						VAL v120;
						mw_mirth_c99_ZPlusC99_put(branch_Str_104, v119, &v120);
						STR* v121;
						STRLIT(v121, " = ", 3);
						VAL v122;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v121), v120, &v122);
						VAL v123;
						mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_102, branch_Str_104, &v123);
						STR* v124;
						STRLIT(v124, "get_data_tag(", 13);
						VAL v125;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v124), v122, &v125);
						VAL v126;
						VAL v127;
						mw_mirth_c99_ZPlusC99Value_rdup(branch_ZPlusC99Value_101, &v126, &v127);
						VAL v128 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v126);
						VAL v129;
						mw_mirth_c99_ZPlusC99_put(v128, v125, &v129);
						STR* v130;
						STRLIT(v130, ")", 1);
						VAL v131;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v130), v129, &v131);
						STR* v132;
						STRLIT(v132, ";", 1);
						VAL v133;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v132), v131, &v133);
						VAL v134;
						mw_mirth_c99_ZPlusC99_line(v133, &v134);
						VTUP(v134)->cells[4] = MKI64(v113);
						VTUP(branch_ZPlusC99Branch_105)->cells[1] = v134;
						VAL v135;
						mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_105, v123, &v135);
						branch_ZPlusC99Branch_58 = v135;
						branch_ZPlusC99Value_57 = v127;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusC99Branch_15 = branch_ZPlusC99Branch_58;
				branch_Data_14 = in_Data_1;
				branch_ZPlusC99Value_13 = branch_ZPlusC99Value_57;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL v136;
		mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(branch_ZPlusC99Branch_15, branch_ZPlusC99Value_13, &v136);
		branch_Data_6 = branch_Data_14;
		branch_ZPlusC99Branch_5 = v136;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_5;
}
static void mw_mirth_c99_c99Z_fromZ_enumZ_valueZBang (uint64_t in_Data_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	int64_t v4 = mw_mirth_data_Data_isZ_enumZAsk(in_Data_1);
	VAL branch_ZPlusC99Branch_5;
	if (((bool)v4)) {
		branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_2;
	} else {
		STR* v6;
		STRLIT(v6, "_.from-enum-value-unsafe on non-enum", 36);
		VAL v7;
		mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v6), in_ZPlusC99Branch_2, &v7);
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_5;
}
static void mw_mirth_c99_c99Z_wordZBang (VAL in_List_1, uint64_t in_Word_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	int64_t v5 = mw_mirth_word_Word_preferZ_inlineZAsk(in_Word_2);
	VAL branch_ZPlusC99Branch_6;
	if (((bool)v5)) {
		VAL v7;
		mw_mirth_c99_c99Z_argsZ_pushZBang(in_List_1, in_ZPlusC99Branch_3, &v7);
		VAL v8;
		VAL v9 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp15(in_Word_2, v7, &v8);
		VAL v10;
		mw_mirth_c99_c99Z_codipZ_arrowZBang(v9, v8, &v10);
		branch_ZPlusC99Branch_6 = v10;
	} else {
		VAL v11 = VTUP(in_ZPlusC99Branch_3)->cells[1];
		VAL v12;
		VAL v13 = mw_mirth_word_Word_c99Z_api(in_Word_2, v11, &v12);
		VTUP(in_ZPlusC99Branch_3)->cells[1] = v12;
		VAL v14;
		mw_mirth_c99_c99Z_smartZ_callZBang(in_List_1, v13, in_ZPlusC99Branch_3, &v14);
		branch_ZPlusC99Branch_6 = v14;
	}
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_6;
}
static VAL mw_mirth_data_Tag_valueZ_show (uint64_t in_Tag_1) {
	void* v3 = mfld_mirth_data_Tag_ZTildevalueZ_show(in_Tag_1);
	bool v4 = mut_is_set(v3);
	uint64_t branch_Tag_5;
	VAL branch_Str_6;
	if (v4) {
		VAL v7 = mut_get(v3);
		branch_Str_6 = v7;
		branch_Tag_5 = in_Tag_1;
	} else {
		int64_t v8 = mw_mirth_data_Tag_value(in_Tag_1);
		STR* v9 = i64_show(v8);
		incref(MKSTR(v9));
		mut_set(MKSTR(v9), v3);
		branch_Str_6 = MKSTR(v9);
		branch_Tag_5 = in_Tag_1;
	}
	return branch_Str_6;
}
static void mw_mirth_c99_c99Z_tagZ_callZBang (VAL in_List_1, uint64_t in_Tag_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5;
	int64_t v6 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp12(in_Tag_2, in_ZPlusC99Branch_3, &v5);
	VAL branch_ZPlusC99Branch_7;
	if (((bool)v6)) {
		decref(in_List_1);
		VAL v8;
		mw_mirth_c99_c99Z_tagZ_bodyZBang(in_Tag_2, v5, &v8);
		branch_ZPlusC99Branch_7 = v8;
	} else {
		VAL v9 = VTUP(v5)->cells[1];
		VAL v10;
		VAL v11 = mw_mirth_data_Tag_wordZ_c99Z_api(in_Tag_2, v9, &v10);
		VTUP(v5)->cells[1] = v10;
		VAL v12;
		mw_mirth_c99_c99Z_smartZ_callZBang(in_List_1, v11, v5, &v12);
		branch_ZPlusC99Branch_7 = v12;
	}
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_7;
}
static void mw_mirth_c99_c99Z_reverseZ_tagZBang (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	int64_t v5 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp12(in_Tag_1, in_ZPlusC99Branch_2, &v4);
	VAL branch_ZPlusC99Branch_6;
	if (((bool)v5)) {
		VAL v7;
		mw_mirth_c99_c99Z_reverseZ_tagZ_bodyZBang(in_Tag_1, v4, &v7);
		branch_ZPlusC99Branch_6 = v7;
	} else {
		VAL v8 = MKI64(0LL /* Nil */);
		VAL v9 = VTUP(v4)->cells[1];
		VAL v10;
		VAL v11 = mw_mirth_data_Tag_patZ_c99Z_api(in_Tag_1, v9, &v10);
		VTUP(v4)->cells[1] = v10;
		VAL v12;
		mw_mirth_c99_c99Z_smartZ_callZBang(v8, v11, v4, &v12);
		branch_ZPlusC99Branch_6 = v12;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_c99Z_labelZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_label_Label_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12;
		mw_mirth_c99_c99Z_labelZ_defZBang(((uint64_t)v11), v10, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = i64_add(v11, v13);
		void* v15 = mbuf_mirth_label_Label_NUM;
		int64_t v16 = *(int64_t*)v15;
		bool v17 = (v14 <= v16);
		v9 = v17;
		v8 = v14;
		v7 = v12;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_labelZ_defZBang (uint64_t in_Label_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	STR* v4;
	STRLIT(v4, "static STACK lbl_", 17);
	VAL v5;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v4), in_ZPlusC99_2, &v5);
	uint64_t v6 = mw_mirth_label_Label_name(in_Label_1);
	VAL v7 = mw_mirth_name_Name_mangled(v6);
	VAL v8;
	mw_mirth_c99_ZPlusC99_put(v7, v5, &v8);
	STR* v9;
	STRLIT(v9, " = {0};", 7);
	VAL v10;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v9), v8, &v10);
	VAL v11;
	mw_mirth_c99_ZPlusC99_line(v10, &v11);
	*out_ZPlusC99_3 = v11;
}
static void mw_mirth_c99_pushZ_valueZ_labelZ_directZBang (uint64_t in_Label_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Value_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_3);
	VAL v6;
	mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1(v5, in_Label_1, in_ZPlusC99Branch_2, &v6);
	*out_ZPlusC99Branch_4 = v6;
}
static void mw_mirth_c99_pushZ_valueZ_labelZBang (uint64_t in_Label_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Value_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[2];
	VAL v6;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v5, in_ZPlusC99Value_3, in_Label_1, &v6);
	VTUP(in_ZPlusC99Branch_2)->cells[2] = v6;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
}
static void mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang (uint64_t in_Label_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Resource_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(in_ZPlusC99Resource_3);
	VAL v6;
	mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1(v5, in_Label_1, in_ZPlusC99Branch_2, &v6);
	*out_ZPlusC99Branch_4 = v6;
}
static void mw_mirth_c99_pushZ_resourceZ_labelZBang (uint64_t in_Label_1, VAL in_ZPlusC99Branch_2, VAL in_ZPlusC99Resource_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[2];
	VAL v6;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v5, in_ZPlusC99Resource_3, in_Label_1, &v6);
	VTUP(in_ZPlusC99Branch_2)->cells[2] = v6;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
}
static void mw_mirth_c99_popZ_valueZ_labelZ_directZBang (VAL in_C99ReprType_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Value_5) {
	incref(in_C99ReprType_1);
	incref(in_C99ReprType_1);
	int64_t v6 = get_data_tag(in_C99ReprType_1);
	decref(in_C99ReprType_1);
	int64_t v7 = 0LL;
	bool v8 = (v6 != v7);
	uint64_t branch_Label_9;
	VAL branch_C99ReprType_10;
	VAL branch_C99ReprType_11;
	int64_t branch_Bool_12;
	VAL branch_Str_13;
	VAL branch_ZPlusC99Branch_14;
	if (v8) {
		VAL v15 = VTUP(in_ZPlusC99Branch_3)->cells[1];
		VAL v16;
		VAL v17 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v15, &v16);
		VTUP(in_ZPlusC99Branch_3)->cells[1] = v16;
		branch_ZPlusC99Branch_14 = in_ZPlusC99Branch_3;
		branch_Str_13 = v17;
		branch_Bool_12 = ((int64_t)v8);
		branch_C99ReprType_11 = in_C99ReprType_1;
		branch_C99ReprType_10 = in_C99ReprType_1;
		branch_Label_9 = in_Label_2;
	} else {
		STR* v18;
		STRLIT(v18, "0", 1);
		branch_ZPlusC99Branch_14 = in_ZPlusC99Branch_3;
		branch_Str_13 = MKSTR(v18);
		branch_Bool_12 = ((int64_t)v8);
		branch_C99ReprType_11 = in_C99ReprType_1;
		branch_C99ReprType_10 = in_C99ReprType_1;
		branch_Label_9 = in_Label_2;
	}
	int64_t v19 = value_i64(VTUP(branch_ZPlusC99Branch_14)->cells[4]);
	bool v20 = (((bool)branch_Bool_12) && ((bool)v19));
	VAL v21 = VTUP(branch_ZPlusC99Branch_14)->cells[1];
	int64_t v22 = value_i64(VTUP(v21)->cells[4]);
	bool v23 = (v20 && ((bool)v22));
	VTUP(v21)->cells[4] = MKBOOL(v23);
	VAL v24;
	mw_mirth_c99_ZPlusC99_indent(v21, &v24);
	incref(branch_C99ReprType_11);
	VAL v25 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_11);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(v25, v24, &v26);
	STR* v27;
	STRLIT(v27, " ", 1);
	VAL v28;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v27), v26, &v28);
	incref(branch_Str_13);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(branch_Str_13, v28, &v29);
	STR* v30;
	STRLIT(v30, " = ", 3);
	VAL v31;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v30), v29, &v31);
	VAL v32;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_11, branch_Str_13, &v32);
	VAL v33;
	mw_mirth_c99_C99ReprType_vZ_macro_1_sp4(branch_Label_9, v31, branch_C99ReprType_10, &v33);
	STR* v34;
	STRLIT(v34, ";", 1);
	VAL v35;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v34), v33, &v35);
	VAL v36;
	mw_mirth_c99_ZPlusC99_line(v35, &v36);
	VTUP(v36)->cells[4] = MKI64(v22);
	VTUP(branch_ZPlusC99Branch_14)->cells[1] = v36;
	*out_ZPlusC99Value_5 = v32;
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_14;
}
static void mw_mirth_c99_popZ_resourceZ_labelZ_directZBang (VAL in_C99ReprType_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Resource_5) {
	incref(in_C99ReprType_1);
	incref(in_C99ReprType_1);
	int64_t v6 = get_data_tag(in_C99ReprType_1);
	decref(in_C99ReprType_1);
	int64_t v7 = 0LL;
	bool v8 = (v6 != v7);
	uint64_t branch_Label_9;
	VAL branch_C99ReprType_10;
	VAL branch_C99ReprType_11;
	int64_t branch_Bool_12;
	VAL branch_Str_13;
	VAL branch_ZPlusC99Branch_14;
	if (v8) {
		VAL v15 = VTUP(in_ZPlusC99Branch_3)->cells[1];
		VAL v16;
		VAL v17 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v15, &v16);
		VTUP(in_ZPlusC99Branch_3)->cells[1] = v16;
		branch_ZPlusC99Branch_14 = in_ZPlusC99Branch_3;
		branch_Str_13 = v17;
		branch_Bool_12 = ((int64_t)v8);
		branch_C99ReprType_11 = in_C99ReprType_1;
		branch_C99ReprType_10 = in_C99ReprType_1;
		branch_Label_9 = in_Label_2;
	} else {
		STR* v18;
		STRLIT(v18, "0", 1);
		branch_ZPlusC99Branch_14 = in_ZPlusC99Branch_3;
		branch_Str_13 = MKSTR(v18);
		branch_Bool_12 = ((int64_t)v8);
		branch_C99ReprType_11 = in_C99ReprType_1;
		branch_C99ReprType_10 = in_C99ReprType_1;
		branch_Label_9 = in_Label_2;
	}
	int64_t v19 = value_i64(VTUP(branch_ZPlusC99Branch_14)->cells[4]);
	bool v20 = (((bool)branch_Bool_12) && ((bool)v19));
	VAL v21 = VTUP(branch_ZPlusC99Branch_14)->cells[1];
	int64_t v22 = value_i64(VTUP(v21)->cells[4]);
	bool v23 = (v20 && ((bool)v22));
	VTUP(v21)->cells[4] = MKBOOL(v23);
	VAL v24;
	mw_mirth_c99_ZPlusC99_indent(v21, &v24);
	incref(branch_C99ReprType_11);
	VAL v25 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_11);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(v25, v24, &v26);
	STR* v27;
	STRLIT(v27, " ", 1);
	VAL v28;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v27), v26, &v28);
	incref(branch_Str_13);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(branch_Str_13, v28, &v29);
	STR* v30;
	STRLIT(v30, " = ", 3);
	VAL v31;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v30), v29, &v31);
	VAL v32;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_11, branch_Str_13, &v32);
	VAL v33;
	mw_mirth_c99_C99ReprType_vZ_macro_1_sp4(branch_Label_9, v31, branch_C99ReprType_10, &v33);
	STR* v34;
	STRLIT(v34, ";", 1);
	VAL v35;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v34), v33, &v35);
	VAL v36;
	mw_mirth_c99_ZPlusC99_line(v35, &v36);
	VTUP(v36)->cells[4] = MKI64(v22);
	VTUP(branch_ZPlusC99Branch_14)->cells[1] = v36;
	*out_ZPlusC99Resource_5 = v32;
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_14;
}
static void mw_mirth_c99_c99Z_labelZ_pushZBang (VAL in_Atom_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_Atom_1)->cells[6];
	incref(v5);
	decref(in_Atom_1);
	VAL v6;
	VAL v7;
	VAL v8 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(v5, in_ZPlusC99Branch_3, &v6, &v7);
	decref(v8);
	VAL v9;
	mw_mirth_c99_pushZ_valueZ_labelZBang(in_Label_2, v6, v7, &v9);
	*out_ZPlusC99Branch_4 = v9;
}
static void mw_mirth_c99_c99Z_labelZ_pushZ_rZBang (VAL in_Atom_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_Atom_1)->cells[6];
	incref(v5);
	decref(in_Atom_1);
	VAL v6;
	VAL v7;
	VAL v8 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(v5, in_ZPlusC99Branch_3, &v6, &v7);
	decref(v8);
	VAL v9;
	mw_mirth_c99_pushZ_resourceZ_labelZBang(in_Label_2, v6, v7, &v9);
	*out_ZPlusC99Branch_4 = v9;
}
static void mw_mirth_c99_c99Z_labelZ_popZBang (VAL in_Atom_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_Atom_1)->cells[6];
	incref(v5);
	decref(in_Atom_1);
	VAL v6;
	VAL v7;
	VAL v8 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang(in_Label_2, v5, in_ZPlusC99Branch_3, &v6, &v7);
	decref(v8);
	VAL v9;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v6, v7, &v9);
	*out_ZPlusC99Branch_4 = v9;
}
static void mw_mirth_c99_c99Z_labelZ_popZ_rZBang (VAL in_Atom_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_Atom_1)->cells[6];
	incref(v5);
	decref(in_Atom_1);
	VAL v6;
	VAL v7;
	VAL v8 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang(in_Label_2, v5, in_ZPlusC99Branch_3, &v6, &v7);
	decref(v8);
	VAL v9;
	mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v6, v7, &v9);
	*out_ZPlusC99Branch_4 = v9;
}
static void mw_mirth_c99_c99Z_intZBang (int64_t in_Int_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = MKI64(4LL /* C99RT_I64 */);
	incref(v4);
	int64_t v5 = get_data_tag(v4);
	decref(v4);
	int64_t v6 = 0LL;
	bool v7 = (v5 != v6);
	int64_t branch_Int_8;
	VAL branch_C99ReprType_9;
	int64_t branch_Bool_10;
	VAL branch_Str_11;
	VAL branch_ZPlusC99Branch_12;
	if (v7) {
		VAL v13 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		VAL v14;
		VAL v15 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v13, &v14);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v14;
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = v15;
		branch_Bool_10 = ((int64_t)v7);
		branch_C99ReprType_9 = v4;
		branch_Int_8 = in_Int_1;
	} else {
		STR* v16;
		STRLIT(v16, "0", 1);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = MKSTR(v16);
		branch_Bool_10 = ((int64_t)v7);
		branch_C99ReprType_9 = v4;
		branch_Int_8 = in_Int_1;
	}
	int64_t v17 = value_i64(VTUP(branch_ZPlusC99Branch_12)->cells[4]);
	bool v18 = (((bool)branch_Bool_10) && ((bool)v17));
	VAL v19 = VTUP(branch_ZPlusC99Branch_12)->cells[1];
	int64_t v20 = value_i64(VTUP(v19)->cells[4]);
	bool v21 = (v18 && ((bool)v20));
	VTUP(v19)->cells[4] = MKBOOL(v21);
	VAL v22;
	mw_mirth_c99_ZPlusC99_indent(v19, &v22);
	incref(branch_C99ReprType_9);
	VAL v23 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_9);
	VAL v24;
	mw_mirth_c99_ZPlusC99_put(v23, v22, &v24);
	STR* v25;
	STRLIT(v25, " ", 1);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
	incref(branch_Str_11);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(branch_Str_11, v26, &v27);
	STR* v28;
	STRLIT(v28, " = ", 3);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
	VAL v30;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_9, branch_Str_11, &v30);
	STR* v31 = i64_show(branch_Int_8);
	VAL v32;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v31), v29, &v32);
	STR* v33;
	STRLIT(v33, "LL", 2);
	VAL v34;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v33), v32, &v34);
	STR* v35;
	STRLIT(v35, ";", 1);
	VAL v36;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v35), v34, &v36);
	VAL v37;
	mw_mirth_c99_ZPlusC99_line(v36, &v37);
	VTUP(v37)->cells[4] = MKI64(v20);
	VTUP(branch_ZPlusC99Branch_12)->cells[1] = v37;
	VAL v38;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_12, v30, &v38);
	*out_ZPlusC99Branch_3 = v38;
}
static void mw_mirth_c99_c99Z_f64ZBang (double in_F64_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = MKI64(12LL /* C99RT_F64 */);
	incref(v4);
	int64_t v5 = get_data_tag(v4);
	decref(v4);
	int64_t v6 = 0LL;
	bool v7 = (v5 != v6);
	double branch_F64_8;
	VAL branch_C99ReprType_9;
	int64_t branch_Bool_10;
	VAL branch_Str_11;
	VAL branch_ZPlusC99Branch_12;
	if (v7) {
		VAL v13 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		VAL v14;
		VAL v15 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v13, &v14);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v14;
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = v15;
		branch_Bool_10 = ((int64_t)v7);
		branch_C99ReprType_9 = v4;
		branch_F64_8 = in_F64_1;
	} else {
		STR* v16;
		STRLIT(v16, "0", 1);
		branch_ZPlusC99Branch_12 = in_ZPlusC99Branch_2;
		branch_Str_11 = MKSTR(v16);
		branch_Bool_10 = ((int64_t)v7);
		branch_C99ReprType_9 = v4;
		branch_F64_8 = in_F64_1;
	}
	int64_t v17 = value_i64(VTUP(branch_ZPlusC99Branch_12)->cells[4]);
	bool v18 = (((bool)branch_Bool_10) && ((bool)v17));
	VAL v19 = VTUP(branch_ZPlusC99Branch_12)->cells[1];
	int64_t v20 = value_i64(VTUP(v19)->cells[4]);
	bool v21 = (v18 && ((bool)v20));
	VTUP(v19)->cells[4] = MKBOOL(v21);
	VAL v22;
	mw_mirth_c99_ZPlusC99_indent(v19, &v22);
	incref(branch_C99ReprType_9);
	VAL v23 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_9);
	VAL v24;
	mw_mirth_c99_ZPlusC99_put(v23, v22, &v24);
	STR* v25;
	STRLIT(v25, " ", 1);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
	incref(branch_Str_11);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(branch_Str_11, v26, &v27);
	STR* v28;
	STRLIT(v28, " = ", 3);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
	VAL v30;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_9, branch_Str_11, &v30);
	STR* v31 = f64_show(branch_F64_8);
	VAL v32;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v31), v29, &v32);
	STR* v33;
	STRLIT(v33, ";", 1);
	VAL v34;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v33), v32, &v34);
	VAL v35;
	mw_mirth_c99_ZPlusC99_line(v34, &v35);
	VTUP(v35)->cells[4] = MKI64(v20);
	VTUP(branch_ZPlusC99Branch_12)->cells[1] = v35;
	VAL v36;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_12, v30, &v36);
	*out_ZPlusC99Branch_3 = v36;
}
static void mw_mirth_c99_c99Z_strZBang (VAL in_Str_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = MKI64(2LL /* C99RT_STR */);
	VAL v5;
	VAL v6;
	mw_mirth_c99_C99ReprType_newZ_valueZBang(v4, in_ZPlusC99Branch_2, &v5, &v6);
	incref(in_Str_1);
	uint64_t v7 = str_size(value_str(in_Str_1));
	int64_t v8 = 4090LL;
	int64_t v9 = 0LL;
	int64_t v10 = mw_std_prim_Int_max(v8, v9);
	bool v11 = (((int64_t)v7) > v10);
	VAL branch_ZPlusC99Value_12;
	VAL branch_Str_13;
	VAL branch_ZPlusC99Branch_14;
	if (v11) {
		int64_t v15 = value_i64(VTUP(v5)->cells[4]);
		VAL v16 = VTUP(v5)->cells[1];
		int64_t v17 = value_i64(VTUP(v16)->cells[4]);
		bool v18 = (((bool)v15) && ((bool)v17));
		VTUP(v16)->cells[4] = MKBOOL(v18);
		VAL v19;
		mw_mirth_c99_ZPlusC99_indent(v16, &v19);
		STR* v20;
		STRLIT(v20, "STRLIT(", 7);
		VAL v21;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v20), v19, &v21);
		VAL v22;
		VAL v23;
		mw_mirth_c99_ZPlusC99Value_rdup(v6, &v22, &v23);
		VAL v24 = mw_mirth_c99_ZPlusC99Value_consume(v22);
		VAL v25;
		mw_mirth_c99_ZPlusC99_put(v24, v21, &v25);
		STR* v26;
		STRLIT(v26, ",", 1);
		VAL v27;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v26), v25, &v27);
		VAL v28;
		mw_mirth_c99_ZPlusC99_line(v27, &v28);
		VTUP(v28)->cells[4] = MKI64(v17);
		VTUP(v5)->cells[1] = v28;
		VAL v29 = VTUP(v5)->cells[1];
		int64_t v30 = value_i64(VTUP(v29)->cells[2]);
		int64_t v31 = 1LL;
		int64_t v32 = i64_add(v30, v31);
		VTUP(v29)->cells[2] = MKI64(v32);
		VTUP(v5)->cells[1] = v29;
		int64_t v33 = value_i64(VTUP(v5)->cells[4]);
		VAL v34 = VTUP(v5)->cells[1];
		int64_t v35 = value_i64(VTUP(v34)->cells[4]);
		bool v36 = (((bool)v33) && ((bool)v35));
		VTUP(v34)->cells[4] = MKBOOL(v36);
		VAL v37;
		mw_mirth_c99_ZPlusC99_indent(v34, &v37);
		incref(in_Str_1);
		VAL v38;
		mw_mirth_c99_ZPlusC99_putZ_cstrZ_long(in_Str_1, v37, &v38);
		STR* v39;
		STRLIT(v39, ",", 1);
		VAL v40;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v39), v38, &v40);
		VAL v41;
		mw_mirth_c99_ZPlusC99_line(v40, &v41);
		VTUP(v41)->cells[4] = MKI64(v35);
		VTUP(v5)->cells[1] = v41;
		int64_t v42 = value_i64(VTUP(v5)->cells[4]);
		VAL v43 = VTUP(v5)->cells[1];
		int64_t v44 = value_i64(VTUP(v43)->cells[4]);
		bool v45 = (((bool)v42) && ((bool)v44));
		VTUP(v43)->cells[4] = MKBOOL(v45);
		VAL v46;
		mw_mirth_c99_ZPlusC99_indent(v43, &v46);
		incref(in_Str_1);
		uint64_t v47 = str_size(value_str(in_Str_1));
		STR* v48 = i64_show(((int64_t)v47));
		VAL v49;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v48), v46, &v49);
		VAL v50;
		mw_mirth_c99_ZPlusC99_line(v49, &v50);
		VTUP(v50)->cells[4] = MKI64(v44);
		VTUP(v5)->cells[1] = v50;
		VAL v51 = VTUP(v5)->cells[1];
		int64_t v52 = value_i64(VTUP(v51)->cells[2]);
		int64_t v53 = 1LL;
		int64_t v54 = i64_sub(v52, v53);
		int64_t v55 = 0LL;
		bool v56 = (v54 < v55);
		int64_t branch_Nat_57;
		if (v56) {
			int64_t v58 = 0LL;
			branch_Nat_57 = v58;
		} else {
			branch_Nat_57 = v54;
		}
		VTUP(v51)->cells[2] = MKI64(branch_Nat_57);
		VTUP(v5)->cells[1] = v51;
		int64_t v59 = value_i64(VTUP(v5)->cells[4]);
		VAL v60 = VTUP(v5)->cells[1];
		int64_t v61 = value_i64(VTUP(v60)->cells[4]);
		bool v62 = (((bool)v59) && ((bool)v61));
		VTUP(v60)->cells[4] = MKBOOL(v62);
		VAL v63;
		mw_mirth_c99_ZPlusC99_indent(v60, &v63);
		STR* v64;
		STRLIT(v64, ");", 2);
		VAL v65;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v64), v63, &v65);
		VAL v66;
		mw_mirth_c99_ZPlusC99_line(v65, &v66);
		VTUP(v66)->cells[4] = MKI64(v61);
		VTUP(v5)->cells[1] = v66;
		branch_ZPlusC99Branch_14 = v5;
		branch_Str_13 = in_Str_1;
		branch_ZPlusC99Value_12 = v23;
	} else {
		int64_t v67 = value_i64(VTUP(v5)->cells[4]);
		VAL v68 = VTUP(v5)->cells[1];
		int64_t v69 = value_i64(VTUP(v68)->cells[4]);
		bool v70 = (((bool)v67) && ((bool)v69));
		VTUP(v68)->cells[4] = MKBOOL(v70);
		VAL v71;
		mw_mirth_c99_ZPlusC99_indent(v68, &v71);
		STR* v72;
		STRLIT(v72, "STRLIT(", 7);
		VAL v73;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v72), v71, &v73);
		VAL v74;
		VAL v75;
		mw_mirth_c99_ZPlusC99Value_rdup(v6, &v74, &v75);
		VAL v76 = mw_mirth_c99_ZPlusC99Value_consume(v74);
		VAL v77;
		mw_mirth_c99_ZPlusC99_put(v76, v73, &v77);
		STR* v78;
		STRLIT(v78, ", ", 2);
		VAL v79;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v78), v77, &v79);
		incref(in_Str_1);
		VAL v80;
		mw_mirth_c99_ZPlusC99_putZ_cstr(in_Str_1, v79, &v80);
		STR* v81;
		STRLIT(v81, ", ", 2);
		VAL v82;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v81), v80, &v82);
		incref(in_Str_1);
		uint64_t v83 = str_size(value_str(in_Str_1));
		STR* v84 = i64_show(((int64_t)v83));
		VAL v85;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v84), v82, &v85);
		STR* v86;
		STRLIT(v86, ");", 2);
		VAL v87;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v86), v85, &v87);
		VAL v88;
		mw_mirth_c99_ZPlusC99_line(v87, &v88);
		VTUP(v88)->cells[4] = MKI64(v69);
		VTUP(v5)->cells[1] = v88;
		branch_ZPlusC99Branch_14 = v5;
		branch_Str_13 = in_Str_1;
		branch_ZPlusC99Value_12 = v75;
	}
	decref(branch_Str_13);
	VAL v89;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_14, branch_ZPlusC99Value_12, &v89);
	*out_ZPlusC99Branch_3 = v89;
}
static void mw_mirth_c99_ZPlusC99_putZ_cstrZ_long (VAL in_Str_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	int64_t v4 = 0LL /* False */;
	int64_t v5 = 34LL /* BQUOTE */;
	VAL v6;
	mw_mirth_c99_ZPlusC99_putZ_byte(v5, in_ZPlusC99_2, &v6);
	int64_t v7 = 0LL /* BNUL */;
	incref(in_Str_1);
	incref(in_Str_1);
	void* v8 = str_base(value_str(in_Str_1));
	uint64_t v9 = str_size(value_str(in_Str_1));
	int64_t v10 = 0LL;
	bool v11 = (((int64_t)v9) > v10);
	int64_t v12 = v4;
	VAL v13 = v6;
	int64_t v14 = v7;
	void* v15 = v8;
	uint64_t v16 = v9;
	bool v17 = v11;
	while (v17) {
		int64_t v18 = v12;
		VAL v19 = v13;
		int64_t v20 = v14;
		void* v21 = v15;
		uint64_t v22 = v16;
		int64_t v23 = 0LL /* +Unsafe */;
		uint8_t v24 = *(uint8_t*)v21;
		int64_t v25 = 10LL /* BLF */;
		bool v26 = (v20 == v25);
		VAL branch_ZPlusC99_27;
		if (v26) {
			int64_t v28 = 34LL /* BQUOTE */;
			VAL v29;
			mw_mirth_c99_ZPlusC99_putZ_byte(v28, v19, &v29);
			VAL v30;
			mw_mirth_c99_ZPlusC99_line(v29, &v30);
			VAL v31;
			mw_mirth_c99_ZPlusC99_indent(v30, &v31);
			int64_t v32 = 34LL /* BQUOTE */;
			VAL v33;
			mw_mirth_c99_ZPlusC99_putZ_byte(v32, v31, &v33);
			branch_ZPlusC99_27 = v33;
		} else {
			branch_ZPlusC99_27 = v19;
		}
		int64_t v34;
		VAL v35;
		mw_mirth_c99_c99Z_stringZ_byteZBang(((int64_t)v24), v18, branch_ZPlusC99_27, &v34, &v35);
		int64_t v36 = 1LL;
		int64_t v37 = 0LL /* +Unsafe */;
		void* v38 = (void*)(v36 + (char*)v21);
		int64_t v39 = 1LL;
		int64_t v40 = i64_sub(((int64_t)v22), v39);
		int64_t v41 = 0LL;
		bool v42 = (v40 < v41);
		int64_t branch_Nat_43;
		if (v42) {
			int64_t v44 = 0LL;
			branch_Nat_43 = v44;
		} else {
			branch_Nat_43 = v40;
		}
		int64_t v45 = 0LL;
		bool v46 = (branch_Nat_43 > v45);
		v17 = v46;
		v16 = ((uint64_t)branch_Nat_43);
		v15 = v38;
		v14 = ((int64_t)v24);
		v13 = v35;
		v12 = v34;
	}
	decref(in_Str_1);
	int64_t v47 = 34LL /* BQUOTE */;
	VAL v48;
	mw_mirth_c99_ZPlusC99_putZ_byte(v47, v13, &v48);
	*out_ZPlusC99_3 = v48;
}
static void mw_mirth_c99_ZPlusC99_putZ_cstr (VAL in_Str_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	int64_t v4 = 0LL /* False */;
	int64_t v5 = 34LL /* BQUOTE */;
	VAL v6;
	mw_mirth_c99_ZPlusC99_putZ_byte(v5, in_ZPlusC99_2, &v6);
	incref(in_Str_1);
	incref(in_Str_1);
	void* v7 = str_base(value_str(in_Str_1));
	uint64_t v8 = str_size(value_str(in_Str_1));
	int64_t v9 = 0LL;
	bool v10 = (((int64_t)v8) > v9);
	int64_t v11 = v4;
	VAL v12 = v6;
	void* v13 = v7;
	uint64_t v14 = v8;
	bool v15 = v10;
	while (v15) {
		int64_t v16 = v11;
		VAL v17 = v12;
		void* v18 = v13;
		uint64_t v19 = v14;
		int64_t v20 = 0LL /* +Unsafe */;
		uint8_t v21 = *(uint8_t*)v18;
		int64_t v22;
		VAL v23;
		mw_mirth_c99_c99Z_stringZ_byteZBang(((int64_t)v21), v16, v17, &v22, &v23);
		int64_t v24 = 1LL;
		int64_t v25 = 0LL /* +Unsafe */;
		void* v26 = (void*)(v24 + (char*)v18);
		int64_t v27 = 1LL;
		int64_t v28 = i64_sub(((int64_t)v19), v27);
		int64_t v29 = 0LL;
		bool v30 = (v28 < v29);
		int64_t branch_Nat_31;
		if (v30) {
			int64_t v32 = 0LL;
			branch_Nat_31 = v32;
		} else {
			branch_Nat_31 = v28;
		}
		int64_t v33 = 0LL;
		bool v34 = (branch_Nat_31 > v33);
		v15 = v34;
		v14 = ((uint64_t)branch_Nat_31);
		v13 = v26;
		v12 = v23;
		v11 = v22;
	}
	decref(in_Str_1);
	int64_t v35 = 34LL /* BQUOTE */;
	VAL v36;
	mw_mirth_c99_ZPlusC99_putZ_byte(v35, v12, &v36);
	*out_ZPlusC99_3 = v36;
}
static void mw_mirth_c99_c99Z_stringZ_byteZBang (int64_t in_Byte_1, int64_t in_Bool_2, VAL in_ZPlusC99_3, int64_t *out_Bool_4, VAL *out_ZPlusC99_5) {
	int64_t branch_Bool_6;
	VAL branch_ZPlusC99_7;
	switch (in_Byte_1) {
		case 92LL: { // B'\'
			STR* v8;
			STRLIT(v8, "\\\\", 2);
			VAL v9;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v8), in_ZPlusC99_3, &v9);
			int64_t v10 = 0LL /* False */;
			branch_ZPlusC99_7 = v9;
			branch_Bool_6 = v10;
		} break;
		case 34LL: { // BQUOTE
			STR* v11;
			STRLIT(v11, "\\\"", 2);
			VAL v12;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v11), in_ZPlusC99_3, &v12);
			int64_t v13 = 0LL /* False */;
			branch_ZPlusC99_7 = v12;
			branch_Bool_6 = v13;
		} break;
		case 9LL: { // BHT
			STR* v14;
			STRLIT(v14, "\\t", 2);
			VAL v15;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v14), in_ZPlusC99_3, &v15);
			int64_t v16 = 0LL /* False */;
			branch_ZPlusC99_7 = v15;
			branch_Bool_6 = v16;
		} break;
		case 10LL: { // BLF
			STR* v17;
			STRLIT(v17, "\\n", 2);
			VAL v18;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v17), in_ZPlusC99_3, &v18);
			int64_t v19 = 0LL /* False */;
			branch_ZPlusC99_7 = v18;
			branch_Bool_6 = v19;
		} break;
		case 13LL: { // BCR
			STR* v20;
			STRLIT(v20, "\\r", 2);
			VAL v21;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v20), in_ZPlusC99_3, &v21);
			int64_t v22 = 0LL /* False */;
			branch_ZPlusC99_7 = v21;
			branch_Bool_6 = v22;
		} break;
		default: {
			int64_t v23 = 32LL /* BSPACE */;
			int64_t v24 = 126LL /* B'~' */;
			bool v25 = (in_Byte_1 >= v23);
			bool v26 = (in_Byte_1 <= v24);
			bool v27 = (v25 && v26);
			int64_t branch_Byte_28;
			int64_t branch_Bool_29;
			int64_t branch_Bool_30;
			if (v27) {
				int64_t v31 = 48LL /* B'0' */;
				int64_t v32 = 57LL /* B'9' */;
				bool v33 = (in_Byte_1 >= v31);
				bool v34 = (in_Byte_1 <= v32);
				bool v35 = (v33 && v34);
				int64_t v36 = 65LL /* B'A' */;
				int64_t v37 = 70LL /* B'F' */;
				bool v38 = (in_Byte_1 >= v36);
				bool v39 = (in_Byte_1 <= v37);
				bool v40 = (v38 && v39);
				int64_t v41 = 97LL /* B'a' */;
				int64_t v42 = 102LL /* B'f' */;
				bool v43 = (in_Byte_1 >= v41);
				bool v44 = (in_Byte_1 <= v42);
				bool v45 = (v43 && v44);
				bool v46 = (v40 || v45);
				bool v47 = (v35 || v46);
				bool v48 = (v47 && ((bool)in_Bool_2));
				bool v49 = !v48;
				branch_Bool_30 = ((int64_t)v49);
				branch_Bool_29 = in_Bool_2;
				branch_Byte_28 = in_Byte_1;
			} else {
				int64_t v50 = 0LL /* False */;
				branch_Bool_30 = v50;
				branch_Bool_29 = in_Bool_2;
				branch_Byte_28 = in_Byte_1;
			}
			VAL branch_ZPlusC99_51;
			int64_t branch_Bool_52;
			if (((bool)branch_Bool_30)) {
				VAL v53;
				mw_mirth_c99_ZPlusC99_putZ_byte(branch_Byte_28, in_ZPlusC99_3, &v53);
				int64_t v54 = 0LL /* False */;
				branch_Bool_52 = v54;
				branch_ZPlusC99_51 = v53;
			} else {
				STR* v55;
				STRLIT(v55, "\\x", 2);
				VAL v56;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v55), in_ZPlusC99_3, &v56);
				int64_t v57;
				int64_t v58 = mw_std_byte_Byte_toZ_hexdigits(branch_Byte_28, &v57);
				VAL v59;
				mw_mirth_c99_ZPlusC99_putZ_byte(v58, v56, &v59);
				VAL v60;
				mw_mirth_c99_ZPlusC99_putZ_byte(v57, v59, &v60);
				int64_t v61 = 1LL /* True */;
				branch_Bool_52 = v61;
				branch_ZPlusC99_51 = v60;
			}
			branch_ZPlusC99_7 = branch_ZPlusC99_51;
			branch_Bool_6 = branch_Bool_52;
		} break;
	}
	*out_ZPlusC99_5 = branch_ZPlusC99_7;
	*out_Bool_4 = branch_Bool_6;
}
static int64_t mw_mirth_c99_C99ReprType_ZEqualZEqual (VAL in_C99ReprType_1, VAL in_C99ReprType_2) {
	int64_t branch_Bool_4;
	switch (get_data_tag(in_C99ReprType_2)) {
		case 3LL: { // C99RT_TUP
			int64_t v5 = mtp_mirth_c99_C99ReprType_C99RTz_TUP(in_C99ReprType_2);
			int64_t branch_Bool_6;
			switch (get_data_tag(in_C99ReprType_1)) {
				case 3LL: { // C99RT_TUP
					int64_t v7 = mtp_mirth_c99_C99ReprType_C99RTz_TUP(in_C99ReprType_1);
					bool v8 = (v5 == v7);
					branch_Bool_6 = ((int64_t)v8);
				} break;
				default: {
					decref(in_C99ReprType_1);
					int64_t v9 = 0LL /* False */;
					branch_Bool_6 = v9;
				} break;
			}
			branch_Bool_4 = branch_Bool_6;
		} break;
		default: {
			int64_t v10 = get_data_tag(in_C99ReprType_1);
			decref(in_C99ReprType_1);
			int64_t v11 = get_data_tag(in_C99ReprType_2);
			decref(in_C99ReprType_2);
			bool v12 = (v10 == v11);
			branch_Bool_4 = ((int64_t)v12);
		} break;
	}
	return branch_Bool_4;
}
static int64_t mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk (VAL in_C99ReprType_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // C99RT_VAL
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		case 2LL: { // C99RT_STR
			int64_t v5 = 1LL /* True */;
			branch_Bool_3 = v5;
		} break;
		case 3LL: { // C99RT_TUP
			int64_t v6 = mtp_mirth_c99_C99ReprType_C99RTz_TUP(in_C99ReprType_1);
			int64_t v7 = 1LL /* True */;
			branch_Bool_3 = v7;
		} break;
		case 0LL: { // C99RT_UNIT
			int64_t v8 = 0LL /* False */;
			branch_Bool_3 = v8;
		} break;
		case 4LL: { // C99RT_I64
			int64_t v9 = 0LL /* False */;
			branch_Bool_3 = v9;
		} break;
		case 5LL: { // C99RT_I32
			int64_t v10 = 0LL /* False */;
			branch_Bool_3 = v10;
		} break;
		case 6LL: { // C99RT_I16
			int64_t v11 = 0LL /* False */;
			branch_Bool_3 = v11;
		} break;
		case 7LL: { // C99RT_I8
			int64_t v12 = 0LL /* False */;
			branch_Bool_3 = v12;
		} break;
		case 8LL: { // C99RT_U64
			int64_t v13 = 0LL /* False */;
			branch_Bool_3 = v13;
		} break;
		case 9LL: { // C99RT_U32
			int64_t v14 = 0LL /* False */;
			branch_Bool_3 = v14;
		} break;
		case 10LL: { // C99RT_U16
			int64_t v15 = 0LL /* False */;
			branch_Bool_3 = v15;
		} break;
		case 11LL: { // C99RT_U8
			int64_t v16 = 0LL /* False */;
			branch_Bool_3 = v16;
		} break;
		case 12LL: { // C99RT_F64
			int64_t v17 = 0LL /* False */;
			branch_Bool_3 = v17;
		} break;
		case 13LL: { // C99RT_F32
			int64_t v18 = 0LL /* False */;
			branch_Bool_3 = v18;
		} break;
		case 14LL: { // C99RT_BOOL
			int64_t v19 = 0LL /* False */;
			branch_Bool_3 = v19;
		} break;
		case 15LL: { // C99RT_PTR
			int64_t v20 = 0LL /* False */;
			branch_Bool_3 = v20;
		} break;
		case 16LL: { // C99RT_FNPTR
			int64_t v21 = 0LL /* False */;
			branch_Bool_3 = v21;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_3;
}
static int64_t mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk (VAL in_C99ReprType_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 4LL: { // C99RT_I64
			int64_t v4 = 1LL /* True */;
			branch_Bool_3 = v4;
		} break;
		case 5LL: { // C99RT_I32
			int64_t v5 = 1LL /* True */;
			branch_Bool_3 = v5;
		} break;
		case 6LL: { // C99RT_I16
			int64_t v6 = 1LL /* True */;
			branch_Bool_3 = v6;
		} break;
		case 7LL: { // C99RT_I8
			int64_t v7 = 1LL /* True */;
			branch_Bool_3 = v7;
		} break;
		case 8LL: { // C99RT_U64
			int64_t v8 = 1LL /* True */;
			branch_Bool_3 = v8;
		} break;
		case 9LL: { // C99RT_U32
			int64_t v9 = 1LL /* True */;
			branch_Bool_3 = v9;
		} break;
		case 10LL: { // C99RT_U16
			int64_t v10 = 1LL /* True */;
			branch_Bool_3 = v10;
		} break;
		case 11LL: { // C99RT_U8
			int64_t v11 = 1LL /* True */;
			branch_Bool_3 = v11;
		} break;
		case 14LL: { // C99RT_BOOL
			int64_t v12 = 1LL /* True */;
			branch_Bool_3 = v12;
		} break;
		default: {
			decref(in_C99ReprType_1);
			int64_t v13 = 0LL /* False */;
			branch_Bool_3 = v13;
		} break;
	}
	return branch_Bool_3;
}
static VAL mw_mirth_c99_C99ReprType_dummyZ_value (VAL in_C99ReprType_1) {
	VAL branch_Str_3;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // C99RT_VAL
			STR* v4;
			STRLIT(v4, "(VAL){0}", 8);
			branch_Str_3 = MKSTR(v4);
		} break;
		case 2LL: { // C99RT_STR
			STR* v5;
			STRLIT(v5, "NULL", 4);
			branch_Str_3 = MKSTR(v5);
		} break;
		case 0LL: { // C99RT_UNIT
			STR* v6;
			STRLIT(v6, "0", 1);
			branch_Str_3 = MKSTR(v6);
		} break;
		case 4LL: { // C99RT_I64
			STR* v7;
			STRLIT(v7, "0", 1);
			branch_Str_3 = MKSTR(v7);
		} break;
		case 5LL: { // C99RT_I32
			STR* v8;
			STRLIT(v8, "0", 1);
			branch_Str_3 = MKSTR(v8);
		} break;
		case 6LL: { // C99RT_I16
			STR* v9;
			STRLIT(v9, "0", 1);
			branch_Str_3 = MKSTR(v9);
		} break;
		case 7LL: { // C99RT_I8
			STR* v10;
			STRLIT(v10, "0", 1);
			branch_Str_3 = MKSTR(v10);
		} break;
		case 8LL: { // C99RT_U64
			STR* v11;
			STRLIT(v11, "0", 1);
			branch_Str_3 = MKSTR(v11);
		} break;
		case 9LL: { // C99RT_U32
			STR* v12;
			STRLIT(v12, "0", 1);
			branch_Str_3 = MKSTR(v12);
		} break;
		case 10LL: { // C99RT_U16
			STR* v13;
			STRLIT(v13, "0", 1);
			branch_Str_3 = MKSTR(v13);
		} break;
		case 11LL: { // C99RT_U8
			STR* v14;
			STRLIT(v14, "0", 1);
			branch_Str_3 = MKSTR(v14);
		} break;
		case 12LL: { // C99RT_F64
			STR* v15;
			STRLIT(v15, "0.0", 3);
			branch_Str_3 = MKSTR(v15);
		} break;
		case 13LL: { // C99RT_F32
			STR* v16;
			STRLIT(v16, "0.0", 3);
			branch_Str_3 = MKSTR(v16);
		} break;
		case 14LL: { // C99RT_BOOL
			STR* v17;
			STRLIT(v17, "0", 1);
			branch_Str_3 = MKSTR(v17);
		} break;
		case 15LL: { // C99RT_PTR
			STR* v18;
			STRLIT(v18, "NULL", 4);
			branch_Str_3 = MKSTR(v18);
		} break;
		case 16LL: { // C99RT_FNPTR
			STR* v19;
			STRLIT(v19, "NULL", 4);
			branch_Str_3 = MKSTR(v19);
		} break;
		case 3LL: { // C99RT_TUP
			int64_t v20 = mtp_mirth_c99_C99ReprType_C99RTz_TUP(in_C99ReprType_1);
			STR* v21;
			STRLIT(v21, "NULL", 4);
			branch_Str_3 = MKSTR(v21);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static VAL mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type (VAL in_C99ReprType_1) {
	VAL branch_Str_3;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // C99RT_VAL
			STR* v4;
			STRLIT(v4, "VAL", 3);
			branch_Str_3 = MKSTR(v4);
		} break;
		case 2LL: { // C99RT_STR
			STR* v5;
			STRLIT(v5, "STR*", 4);
			branch_Str_3 = MKSTR(v5);
		} break;
		case 0LL: { // C99RT_UNIT
			STR* v6;
			STRLIT(v6, "int64_t", 7);
			branch_Str_3 = MKSTR(v6);
		} break;
		case 4LL: { // C99RT_I64
			STR* v7;
			STRLIT(v7, "int64_t", 7);
			branch_Str_3 = MKSTR(v7);
		} break;
		case 5LL: { // C99RT_I32
			STR* v8;
			STRLIT(v8, "int32_t", 7);
			branch_Str_3 = MKSTR(v8);
		} break;
		case 6LL: { // C99RT_I16
			STR* v9;
			STRLIT(v9, "int16_t", 7);
			branch_Str_3 = MKSTR(v9);
		} break;
		case 7LL: { // C99RT_I8
			STR* v10;
			STRLIT(v10, "int8_t", 6);
			branch_Str_3 = MKSTR(v10);
		} break;
		case 8LL: { // C99RT_U64
			STR* v11;
			STRLIT(v11, "uint64_t", 8);
			branch_Str_3 = MKSTR(v11);
		} break;
		case 9LL: { // C99RT_U32
			STR* v12;
			STRLIT(v12, "uint32_t", 8);
			branch_Str_3 = MKSTR(v12);
		} break;
		case 10LL: { // C99RT_U16
			STR* v13;
			STRLIT(v13, "uint16_t", 8);
			branch_Str_3 = MKSTR(v13);
		} break;
		case 11LL: { // C99RT_U8
			STR* v14;
			STRLIT(v14, "uint8_t", 7);
			branch_Str_3 = MKSTR(v14);
		} break;
		case 12LL: { // C99RT_F64
			STR* v15;
			STRLIT(v15, "double", 6);
			branch_Str_3 = MKSTR(v15);
		} break;
		case 13LL: { // C99RT_F32
			STR* v16;
			STRLIT(v16, "float", 5);
			branch_Str_3 = MKSTR(v16);
		} break;
		case 14LL: { // C99RT_BOOL
			STR* v17;
			STRLIT(v17, "bool", 4);
			branch_Str_3 = MKSTR(v17);
		} break;
		case 15LL: { // C99RT_PTR
			STR* v18;
			STRLIT(v18, "void*", 5);
			branch_Str_3 = MKSTR(v18);
		} break;
		case 16LL: { // C99RT_FNPTR
			STR* v19;
			STRLIT(v19, "FNPTR", 5);
			branch_Str_3 = MKSTR(v19);
		} break;
		case 3LL: { // C99RT_TUP
			int64_t v20 = mtp_mirth_c99_C99ReprType_C99RTz_TUP(in_C99ReprType_1);
			STR* v21;
			STRLIT(v21, "TUP*", 4);
			branch_Str_3 = MKSTR(v21);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static VAL mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix (VAL in_C99ReprType_1, VAL *out_Str_3) {
	VAL branch_Str_4;
	VAL branch_Str_5;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // C99RT_VAL
			STR* v6;
			STRLIT(v6, "", 0);
			STR* v7;
			STRLIT(v7, "", 0);
			branch_Str_5 = MKSTR(v7);
			branch_Str_4 = MKSTR(v6);
		} break;
		case 2LL: { // C99RT_STR
			STR* v8;
			STRLIT(v8, "value_str(", 10);
			STR* v9;
			STRLIT(v9, ")", 1);
			branch_Str_5 = MKSTR(v9);
			branch_Str_4 = MKSTR(v8);
		} break;
		case 0LL: { // C99RT_UNIT
			STR* v10;
			STRLIT(v10, "(", 1);
			STR* v11;
			STRLIT(v11, ", 0)", 4);
			branch_Str_5 = MKSTR(v11);
			branch_Str_4 = MKSTR(v10);
		} break;
		case 4LL: { // C99RT_I64
			STR* v12;
			STRLIT(v12, "value_i64(", 10);
			STR* v13;
			STRLIT(v13, ")", 1);
			branch_Str_5 = MKSTR(v13);
			branch_Str_4 = MKSTR(v12);
		} break;
		case 5LL: { // C99RT_I32
			STR* v14;
			STRLIT(v14, "value_i32(", 10);
			STR* v15;
			STRLIT(v15, ")", 1);
			branch_Str_5 = MKSTR(v15);
			branch_Str_4 = MKSTR(v14);
		} break;
		case 6LL: { // C99RT_I16
			STR* v16;
			STRLIT(v16, "value_i16(", 10);
			STR* v17;
			STRLIT(v17, ")", 1);
			branch_Str_5 = MKSTR(v17);
			branch_Str_4 = MKSTR(v16);
		} break;
		case 7LL: { // C99RT_I8
			STR* v18;
			STRLIT(v18, "value_i8(", 9);
			STR* v19;
			STRLIT(v19, ")", 1);
			branch_Str_5 = MKSTR(v19);
			branch_Str_4 = MKSTR(v18);
		} break;
		case 8LL: { // C99RT_U64
			STR* v20;
			STRLIT(v20, "value_u64(", 10);
			STR* v21;
			STRLIT(v21, ")", 1);
			branch_Str_5 = MKSTR(v21);
			branch_Str_4 = MKSTR(v20);
		} break;
		case 9LL: { // C99RT_U32
			STR* v22;
			STRLIT(v22, "value_u32(", 10);
			STR* v23;
			STRLIT(v23, ")", 1);
			branch_Str_5 = MKSTR(v23);
			branch_Str_4 = MKSTR(v22);
		} break;
		case 10LL: { // C99RT_U16
			STR* v24;
			STRLIT(v24, "value_u16(", 10);
			STR* v25;
			STRLIT(v25, ")", 1);
			branch_Str_5 = MKSTR(v25);
			branch_Str_4 = MKSTR(v24);
		} break;
		case 11LL: { // C99RT_U8
			STR* v26;
			STRLIT(v26, "value_u8(", 9);
			STR* v27;
			STRLIT(v27, ")", 1);
			branch_Str_5 = MKSTR(v27);
			branch_Str_4 = MKSTR(v26);
		} break;
		case 12LL: { // C99RT_F64
			STR* v28;
			STRLIT(v28, "value_f64(", 10);
			STR* v29;
			STRLIT(v29, ")", 1);
			branch_Str_5 = MKSTR(v29);
			branch_Str_4 = MKSTR(v28);
		} break;
		case 13LL: { // C99RT_F32
			STR* v30;
			STRLIT(v30, "value_f32(", 10);
			STR* v31;
			STRLIT(v31, ")", 1);
			branch_Str_5 = MKSTR(v31);
			branch_Str_4 = MKSTR(v30);
		} break;
		case 14LL: { // C99RT_BOOL
			STR* v32;
			STRLIT(v32, "value_bool(", 11);
			STR* v33;
			STRLIT(v33, ")", 1);
			branch_Str_5 = MKSTR(v33);
			branch_Str_4 = MKSTR(v32);
		} break;
		case 15LL: { // C99RT_PTR
			STR* v34;
			STRLIT(v34, "value_ptr(", 10);
			STR* v35;
			STRLIT(v35, ")", 1);
			branch_Str_5 = MKSTR(v35);
			branch_Str_4 = MKSTR(v34);
		} break;
		case 16LL: { // C99RT_FNPTR
			STR* v36;
			STRLIT(v36, "value_fnptr(", 12);
			STR* v37;
			STRLIT(v37, ")", 1);
			branch_Str_5 = MKSTR(v37);
			branch_Str_4 = MKSTR(v36);
		} break;
		case 3LL: { // C99RT_TUP
			int64_t v38 = mtp_mirth_c99_C99ReprType_C99RTz_TUP(in_C99ReprType_1);
			STR* v39;
			STRLIT(v39, "value_tup(", 10);
			STR* v40;
			STRLIT(v40, "", 0);
			STR* v41;
			STRLIT(v41, ", ", 2);
			VAL v42;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v41), MKSTR(v40), &v42);
			STR* v43 = i64_show(v38);
			VAL v44;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v43), v42, &v44);
			STR* v45;
			STRLIT(v45, ")", 1);
			VAL v46;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v45), v44, &v46);
			branch_Str_5 = v46;
			branch_Str_4 = MKSTR(v39);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Str_3 = branch_Str_5;
	return branch_Str_4;
}
static VAL mw_mirth_c99_C99ReprType_mkZ_macro (VAL in_Str_1, VAL in_C99ReprType_2) {
	VAL branch_Str_4;
	switch (get_data_tag(in_C99ReprType_2)) {
		case 1LL: { // C99RT_VAL
			branch_Str_4 = in_Str_1;
		} break;
		case 2LL: { // C99RT_STR
			STR* v5;
			STRLIT(v5, "", 0);
			STR* v6;
			STRLIT(v6, "MKSTR(", 6);
			VAL v7;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v6), MKSTR(v5), &v7);
			VAL v8;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v7, &v8);
			STR* v9;
			STRLIT(v9, ")", 1);
			VAL v10;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v9), v8, &v10);
			branch_Str_4 = v10;
		} break;
		case 0LL: { // C99RT_UNIT
			VAL v11 = mw_std_str_Str_1_sp4(in_Str_1);
			branch_Str_4 = v11;
		} break;
		case 4LL: { // C99RT_I64
			VAL v12 = mw_std_str_Str_1_sp4(in_Str_1);
			branch_Str_4 = v12;
		} break;
		case 5LL: { // C99RT_I32
			STR* v13;
			STRLIT(v13, "", 0);
			STR* v14;
			STRLIT(v14, "MKI32(", 6);
			VAL v15;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v14), MKSTR(v13), &v15);
			VAL v16;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v15, &v16);
			STR* v17;
			STRLIT(v17, ")", 1);
			VAL v18;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v17), v16, &v18);
			branch_Str_4 = v18;
		} break;
		case 6LL: { // C99RT_I16
			STR* v19;
			STRLIT(v19, "", 0);
			STR* v20;
			STRLIT(v20, "MKI16(", 6);
			VAL v21;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v20), MKSTR(v19), &v21);
			VAL v22;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v21, &v22);
			STR* v23;
			STRLIT(v23, ")", 1);
			VAL v24;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v23), v22, &v24);
			branch_Str_4 = v24;
		} break;
		case 7LL: { // C99RT_I8
			STR* v25;
			STRLIT(v25, "", 0);
			STR* v26;
			STRLIT(v26, "MKI8(", 5);
			VAL v27;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v26), MKSTR(v25), &v27);
			VAL v28;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v27, &v28);
			STR* v29;
			STRLIT(v29, ")", 1);
			VAL v30;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v29), v28, &v30);
			branch_Str_4 = v30;
		} break;
		case 8LL: { // C99RT_U64
			STR* v31;
			STRLIT(v31, "", 0);
			STR* v32;
			STRLIT(v32, "MKU64(", 6);
			VAL v33;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v32), MKSTR(v31), &v33);
			VAL v34;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v33, &v34);
			STR* v35;
			STRLIT(v35, ")", 1);
			VAL v36;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v35), v34, &v36);
			branch_Str_4 = v36;
		} break;
		case 9LL: { // C99RT_U32
			STR* v37;
			STRLIT(v37, "", 0);
			STR* v38;
			STRLIT(v38, "MKU32(", 6);
			VAL v39;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v38), MKSTR(v37), &v39);
			VAL v40;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v39, &v40);
			STR* v41;
			STRLIT(v41, ")", 1);
			VAL v42;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v41), v40, &v42);
			branch_Str_4 = v42;
		} break;
		case 10LL: { // C99RT_U16
			STR* v43;
			STRLIT(v43, "", 0);
			STR* v44;
			STRLIT(v44, "MKU16(", 6);
			VAL v45;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v44), MKSTR(v43), &v45);
			VAL v46;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v45, &v46);
			STR* v47;
			STRLIT(v47, ")", 1);
			VAL v48;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v47), v46, &v48);
			branch_Str_4 = v48;
		} break;
		case 11LL: { // C99RT_U8
			STR* v49;
			STRLIT(v49, "", 0);
			STR* v50;
			STRLIT(v50, "MKU8(", 5);
			VAL v51;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v50), MKSTR(v49), &v51);
			VAL v52;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v51, &v52);
			STR* v53;
			STRLIT(v53, ")", 1);
			VAL v54;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v53), v52, &v54);
			branch_Str_4 = v54;
		} break;
		case 12LL: { // C99RT_F64
			STR* v55;
			STRLIT(v55, "", 0);
			STR* v56;
			STRLIT(v56, "MKF64(", 6);
			VAL v57;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v56), MKSTR(v55), &v57);
			VAL v58;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v57, &v58);
			STR* v59;
			STRLIT(v59, ")", 1);
			VAL v60;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v59), v58, &v60);
			branch_Str_4 = v60;
		} break;
		case 13LL: { // C99RT_F32
			STR* v61;
			STRLIT(v61, "", 0);
			STR* v62;
			STRLIT(v62, "MKF32(", 6);
			VAL v63;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v62), MKSTR(v61), &v63);
			VAL v64;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v63, &v64);
			STR* v65;
			STRLIT(v65, ")", 1);
			VAL v66;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v65), v64, &v66);
			branch_Str_4 = v66;
		} break;
		case 14LL: { // C99RT_BOOL
			STR* v67;
			STRLIT(v67, "", 0);
			STR* v68;
			STRLIT(v68, "MKBOOL(", 7);
			VAL v69;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v68), MKSTR(v67), &v69);
			VAL v70;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v69, &v70);
			STR* v71;
			STRLIT(v71, ")", 1);
			VAL v72;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v71), v70, &v72);
			branch_Str_4 = v72;
		} break;
		case 15LL: { // C99RT_PTR
			STR* v73;
			STRLIT(v73, "", 0);
			STR* v74;
			STRLIT(v74, "MKPTR(", 6);
			VAL v75;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v74), MKSTR(v73), &v75);
			VAL v76;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v75, &v76);
			STR* v77;
			STRLIT(v77, ")", 1);
			VAL v78;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v77), v76, &v78);
			branch_Str_4 = v78;
		} break;
		case 16LL: { // C99RT_FNPTR
			STR* v79;
			STRLIT(v79, "", 0);
			STR* v80;
			STRLIT(v80, "MKFNPTR(", 8);
			VAL v81;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v80), MKSTR(v79), &v81);
			VAL v82;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v81, &v82);
			STR* v83;
			STRLIT(v83, ")", 1);
			VAL v84;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v83), v82, &v84);
			branch_Str_4 = v84;
		} break;
		case 3LL: { // C99RT_TUP
			int64_t v85 = mtp_mirth_c99_C99ReprType_C99RTz_TUP(in_C99ReprType_2);
			STR* v86;
			STRLIT(v86, "", 0);
			STR* v87;
			STRLIT(v87, "MKTUP(", 6);
			VAL v88;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v87), MKSTR(v86), &v88);
			VAL v89;
			mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v88, &v89);
			STR* v90;
			STRLIT(v90, ", ", 2);
			VAL v91;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v90), v89, &v91);
			STR* v92 = i64_show(v85);
			VAL v93;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v92), v91, &v93);
			STR* v94;
			STRLIT(v94, ")", 1);
			VAL v95;
			mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v94), v93, &v95);
			branch_Str_4 = v95;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_4;
}
static VAL mw_mirth_type_Resource_c99Z_repr (VAL in_Resource_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5 = mw_mirth_type_Resource_ZToType(in_Resource_1);
	VAL v6;
	VAL v7 = mw_mirth_type_Type_c99Z_repr(v5, in_ZPlusMirth_2, &v6);
	*out_ZPlusMirth_4 = v6;
	return v7;
}
static VAL mw_mirth_type_Type_c99Z_repr (VAL in_Type_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL branch_C99ReprType_5;
	VAL branch_ZPlusMirth_6;
	switch (get_data_tag(in_Type_1)) {
		case 0LL: { // TYPE_ERROR
			VAL v7 = MKI64(1LL /* C99RT_VAL */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v7;
		} break;
		case 1LL: { // TYPE_DONT_CARE
			VAL v8 = MKI64(1LL /* C99RT_VAL */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v8;
		} break;
		case 2LL: { // TPrim
			int64_t v9 = mtp_mirth_type_Type_TPrim(in_Type_1);
			VAL v10 = mw_mirth_type_PrimType_c99Z_repr(v9);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v10;
		} break;
		case 3LL: { // TMeta
			uint64_t v11 = mtp_mirth_type_Type_TMeta(in_Type_1);
			VAL v12 = mw_mirth_type_MetaVar_typeZAsk(v11);
			VAL branch_ZPlusMirth_13;
			VAL branch_C99ReprType_14;
			switch (get_data_tag(v12)) {
				case 0LL: { // None
					VAL v15 = MKI64(1LL /* C99RT_VAL */);
					branch_C99ReprType_14 = v15;
					branch_ZPlusMirth_13 = in_ZPlusMirth_2;
				} break;
				case 1LL: { // Some
					VAL v16 = mtp_std_maybe_Maybe_1_Some(v12);
					VAL v17 = mw_mirth_type_Type_expand(v16);
					incref(v17);
					VAL v18 = mtw_std_maybe_Maybe_1_Some(v17);
					void* v19 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v11);
					mut_set(v18, v19);
					VAL v20;
					VAL v21 = mw_mirth_type_Type_c99Z_repr(v17, in_ZPlusMirth_2, &v20);
					branch_C99ReprType_14 = v21;
					branch_ZPlusMirth_13 = v20;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusMirth_6 = branch_ZPlusMirth_13;
			branch_C99ReprType_5 = branch_C99ReprType_14;
		} break;
		case 4LL: { // THole
			uint64_t v22 = mtp_mirth_type_Type_THole(in_Type_1);
			VAL v23 = MKI64(1LL /* C99RT_VAL */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v23;
		} break;
		case 5LL: { // TVar
			uint64_t v24 = mtp_mirth_type_Type_TVar(in_Type_1);
			VAL v25 = MKI64(1LL /* C99RT_VAL */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v25;
		} break;
		case 6LL: { // TTable
			uint64_t v26 = mtp_mirth_type_Type_TTable(in_Type_1);
			VAL v27 = MKI64(8LL /* C99RT_U64 */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v27;
		} break;
		case 7LL: { // TData
			uint64_t v28 = mtp_mirth_type_Type_TData(in_Type_1);
			VAL v29;
			VAL v30 = mw_mirth_data_Data_c99Z_repr(v28, in_ZPlusMirth_2, &v29);
			branch_ZPlusMirth_6 = v29;
			branch_C99ReprType_5 = v30;
		} break;
		case 8LL: { // TDataPartial
			VAL v31 = mtp_mirth_type_Type_TDataPartial(in_Type_1);
			uint64_t v32 = value_u64(VTUP(v31)->cells[1]);
			decref(v31);
			VAL v33;
			VAL v34 = mw_mirth_data_Data_c99Z_repr(v32, in_ZPlusMirth_2, &v33);
			branch_ZPlusMirth_6 = v33;
			branch_C99ReprType_5 = v34;
		} break;
		case 10LL: { // TMorphism
			VAL v35 = mtp_mirth_type_Type_TMorphism(in_Type_1);
			decref(v35);
			VAL v36 = MKI64(1LL /* C99RT_VAL */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v36;
		} break;
		case 9LL: { // TTensor
			VAL v37 = mtp_mirth_type_Type_TTensor(in_Type_1);
			VAL v38 = mw_mirth_type_StackType_tupleZ_c99Z_repr(v37);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v38;
		} break;
		case 11LL: { // TApp
			VAL v39;
			VAL v40 = mtp_mirth_type_Type_TApp(in_Type_1, &v39);
			decref(v39);
			VAL v41;
			VAL v42 = mw_mirth_type_Type_c99Z_repr(v40, in_ZPlusMirth_2, &v41);
			branch_ZPlusMirth_6 = v41;
			branch_C99ReprType_5 = v42;
		} break;
		case 12LL: { // TMut
			VAL v43 = mtp_mirth_type_Type_TMut(in_Type_1);
			decref(v43);
			VAL v44 = MKI64(15LL /* C99RT_PTR */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v44;
		} break;
		case 13LL: { // TValue
			VAL v45 = mtp_mirth_type_Type_TValue(in_Type_1);
			decref(v45);
			VAL v46 = MKI64(1LL /* C99RT_VAL */);
			branch_ZPlusMirth_6 = in_ZPlusMirth_2;
			branch_C99ReprType_5 = v46;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_6;
	return branch_C99ReprType_5;
}
static VAL mw_mirth_type_StackType_tupleZ_c99Z_repr (VAL in_StackType_1) {
	VAL v3;
	VAL v4 = mw_mirth_type_StackType_splitZ_parts(in_StackType_1, &v3);
	VAL branch_C99ReprType_5;
	switch (get_data_tag(v4)) {
		case 2LL: { // STB_UNIT
			int64_t v6 = mw_std_list_List_1_len(v3);
			int64_t v7 = 0LL;
			bool v8 = (v6 == v7);
			VAL branch_C99ReprType_9;
			if (v8) {
				VAL v10 = MKI64(0LL /* C99RT_UNIT */);
				branch_C99ReprType_9 = v10;
			} else {
				VAL v11 = mtw_mirth_c99_C99ReprType_C99RTz_TUP(v6);
				branch_C99ReprType_9 = v11;
			}
			branch_C99ReprType_5 = branch_C99ReprType_9;
		} break;
		default: {
			decref(v4);
			decref(v3);
			VAL v12 = MKI64(1LL /* C99RT_VAL */);
			branch_C99ReprType_5 = v12;
		} break;
	}
	return branch_C99ReprType_5;
}
static VAL mw_mirth_type_PrimType_c99Z_repr (int64_t in_PrimType_1) {
	VAL branch_C99ReprType_3;
	switch (in_PrimType_1) {
		case 0LL: { // PRIM_TYPE_TYPE
			VAL v4 = MKI64(1LL /* C99RT_VAL */);
			branch_C99ReprType_3 = v4;
		} break;
		case 1LL: { // PRIM_TYPE_STACK
			VAL v5 = MKI64(1LL /* C99RT_VAL */);
			branch_C99ReprType_3 = v5;
		} break;
		case 2LL: { // PRIM_TYPE_RESOURCE
			VAL v6 = MKI64(1LL /* C99RT_VAL */);
			branch_C99ReprType_3 = v6;
		} break;
		case 3LL: { // PRIM_TYPE_INT
			VAL v7 = MKI64(4LL /* C99RT_I64 */);
			branch_C99ReprType_3 = v7;
		} break;
		case 4LL: { // PRIM_TYPE_F32
			VAL v8 = MKI64(13LL /* C99RT_F32 */);
			branch_C99ReprType_3 = v8;
		} break;
		case 5LL: { // PRIM_TYPE_F64
			VAL v9 = MKI64(12LL /* C99RT_F64 */);
			branch_C99ReprType_3 = v9;
		} break;
		case 7LL: { // PRIM_TYPE_STR
			VAL v10 = MKI64(1LL /* C99RT_VAL */);
			branch_C99ReprType_3 = v10;
		} break;
		case 6LL: { // PRIM_TYPE_PTR
			VAL v11 = MKI64(15LL /* C99RT_PTR */);
			branch_C99ReprType_3 = v11;
		} break;
		case 8LL: { // PRIM_TYPE_WORLD
			VAL v12 = MKI64(0LL /* C99RT_UNIT */);
			branch_C99ReprType_3 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_C99ReprType_3;
}
static VAL mw_mirth_data_Data_c99Z_repr (uint64_t in_Data_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_4) {
	VAL v5 = mw_mirth_data_Data_isZ_unitZAsk(in_Data_1);
	int64_t v6 = get_data_tag(v5);
	decref(v5);
	int64_t v7 = 1LL;
	bool v8 = (v6 == v7);
	VAL branch_ZPlusMirth_9;
	uint64_t branch_Data_10;
	VAL branch_C99ReprType_11;
	if (v8) {
		VAL v12 = MKI64(0LL /* C99RT_UNIT */);
		branch_C99ReprType_11 = v12;
		branch_Data_10 = in_Data_1;
		branch_ZPlusMirth_9 = in_ZPlusMirth_2;
	} else {
		int64_t v13 = mw_mirth_data_Data_isZ_enumZAsk(in_Data_1);
		VAL branch_ZPlusMirth_14;
		uint64_t branch_Data_15;
		VAL branch_C99ReprType_16;
		if (((bool)v13)) {
			VAL v17 = MKI64(4LL /* C99RT_I64 */);
			branch_C99ReprType_16 = v17;
			branch_Data_15 = in_Data_1;
			branch_ZPlusMirth_14 = in_ZPlusMirth_2;
		} else {
			VAL v18;
			VAL v19 = mw_mirth_data_Data_semiZ_transparentZAsk(in_ZPlusMirth_2, in_Data_1, &v18);
			VAL branch_C99ReprType_20;
			VAL branch_ZPlusMirth_21;
			switch (get_data_tag(v19)) {
				case 1LL: { // Some
					VAL v22 = mtp_std_maybe_Maybe_1_Some(v19);
					VAL v23 = VTUP(v22)->cells[2];
					incref(v23);
					decref(v22);
					VAL v24 = mw_mirth_type_StackTypePart_typeZDivresource(v23);
					VAL branch_C99ReprType_25;
					VAL branch_ZPlusMirth_26;
					switch (get_data_tag(v24)) {
						case 0LL: { // Left
							VAL v27 = mtp_std_either_Either_2_Left(v24);
							VAL v28;
							VAL v29 = mw_mirth_type_Type_c99Z_repr(v27, v18, &v28);
							branch_ZPlusMirth_26 = v28;
							branch_C99ReprType_25 = v29;
						} break;
						case 1LL: { // Right
							VAL v30 = mtp_std_either_Either_2_Right(v24);
							VAL v31;
							VAL v32 = mw_mirth_type_Resource_c99Z_repr(v30, v18, &v31);
							branch_ZPlusMirth_26 = v31;
							branch_C99ReprType_25 = v32;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_ZPlusMirth_21 = branch_ZPlusMirth_26;
					branch_C99ReprType_20 = branch_C99ReprType_25;
				} break;
				case 0LL: { // None
					VAL v33 = MKI64(1LL /* C99RT_VAL */);
					branch_ZPlusMirth_21 = v18;
					branch_C99ReprType_20 = v33;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_C99ReprType_16 = branch_C99ReprType_20;
			branch_Data_15 = in_Data_1;
			branch_ZPlusMirth_14 = branch_ZPlusMirth_21;
		}
		branch_C99ReprType_11 = branch_C99ReprType_16;
		branch_Data_10 = branch_Data_15;
		branch_ZPlusMirth_9 = branch_ZPlusMirth_14;
	}
	*out_ZPlusMirth_4 = branch_ZPlusMirth_9;
	return branch_C99ReprType_11;
}
static void mw_mirth_c99_ZPlusC99Value_rdup (VAL in_ZPlusC99Value_1, VAL *out_ZPlusC99Value_2, VAL *out_ZPlusC99Value_3) {
	VAL v4 = VTUP(in_ZPlusC99Value_1)->cells[1];
	incref(v4);
	VAL v5 = VTUP(in_ZPlusC99Value_1)->cells[2];
	incref(v5);
	VAL v6;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v4, v5, &v6);
	*out_ZPlusC99Value_3 = v6;
	*out_ZPlusC99Value_2 = in_ZPlusC99Value_1;
}
static void mw_mirth_c99_ZPlusC99Value_rdrop (VAL in_ZPlusC99Value_1) {
	VAL v2;
	VAL v3;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v2, &v3);
	decref(v2);
	decref(v3);
}
static void mw_mirth_c99_C99ReprType_newZ_valueZBang (VAL in_C99ReprType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6;
	VAL v7 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v5, &v6);
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v6;
	int64_t v8 = value_i64(VTUP(in_ZPlusC99Branch_2)->cells[4]);
	VAL v9 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	int64_t v10 = value_i64(VTUP(v9)->cells[4]);
	bool v11 = (((bool)v8) && ((bool)v10));
	VTUP(v9)->cells[4] = MKBOOL(v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_indent(v9, &v12);
	incref(in_C99ReprType_1);
	VAL v13 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_1);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(v13, v12, &v14);
	STR* v15;
	STRLIT(v15, " ", 1);
	VAL v16;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v15), v14, &v16);
	incref(v7);
	VAL v17;
	mw_mirth_c99_ZPlusC99_put(v7, v16, &v17);
	STR* v18;
	STRLIT(v18, ";", 1);
	VAL v19;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
	VAL v20;
	mw_mirth_c99_ZPlusC99_line(v19, &v20);
	VTUP(v20)->cells[4] = MKI64(v10);
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v20;
	VAL v21;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_C99ReprType_1, v7, &v21);
	*out_ZPlusC99Value_4 = v21;
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_2;
}
static void mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang (VAL in_C99ReprType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6;
	VAL v7 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v5, &v6);
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v6;
	int64_t v8 = value_i64(VTUP(in_ZPlusC99Branch_2)->cells[4]);
	VAL v9 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	int64_t v10 = value_i64(VTUP(v9)->cells[4]);
	bool v11 = (((bool)v8) && ((bool)v10));
	VTUP(v9)->cells[4] = MKBOOL(v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_indent(v9, &v12);
	incref(in_C99ReprType_1);
	VAL v13 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_1);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(v13, v12, &v14);
	STR* v15;
	STRLIT(v15, " ", 1);
	VAL v16;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v15), v14, &v16);
	incref(v7);
	VAL v17;
	mw_mirth_c99_ZPlusC99_put(v7, v16, &v17);
	STR* v18;
	STRLIT(v18, " = ", 3);
	VAL v19;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
	incref(in_C99ReprType_1);
	VAL v20;
	VAL v21 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_1, &v20);
	VAL v22;
	mw_mirth_c99_ZPlusC99_put(v21, v19, &v22);
	STR* v23;
	STRLIT(v23, "pop_value()", 11);
	VAL v24;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v23), v22, &v24);
	VAL v25;
	mw_mirth_c99_ZPlusC99_put(v20, v24, &v25);
	STR* v26;
	STRLIT(v26, ";", 1);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v26), v25, &v27);
	VAL v28;
	mw_mirth_c99_ZPlusC99_line(v27, &v28);
	VTUP(v28)->cells[4] = MKI64(v10);
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v28;
	VAL v29;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_C99ReprType_1, v7, &v29);
	*out_ZPlusC99Value_4 = v29;
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_2;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_2);
	int64_t v5 = value_i64(VTUP(in_ZPlusC99Branch_1)->cells[4]);
	VAL v6 = VTUP(in_ZPlusC99Branch_1)->cells[1];
	int64_t v7 = value_i64(VTUP(v6)->cells[4]);
	bool v8 = (((bool)v5) && ((bool)v7));
	VTUP(v6)->cells[4] = MKBOOL(v8);
	VAL v9;
	mw_mirth_c99_ZPlusC99_indent(v6, &v9);
	STR* v10;
	STRLIT(v10, "push_value(", 11);
	VAL v11;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v10), v9, &v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_put(v4, v11, &v12);
	STR* v13;
	STRLIT(v13, ");", 2);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v13), v12, &v14);
	VAL v15;
	mw_mirth_c99_ZPlusC99_line(v14, &v15);
	VTUP(v15)->cells[4] = MKI64(v7);
	VTUP(in_ZPlusC99Branch_1)->cells[1] = v15;
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_1;
}
static VAL mw_mirth_c99_ZPlusC99Value_consume (VAL in_ZPlusC99Value_1) {
	VAL v3;
	VAL v4;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v3, &v4);
	decref(v3);
	return v4;
}
static VAL mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL (VAL in_ZPlusC99Value_1) {
	VAL v3;
	VAL v4;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v3, &v4);
	VAL v5 = mw_mirth_c99_C99ReprType_mkZ_macro(v4, v3);
	return v5;
}
static VAL mw_mirth_c99_ZPlusC99Value_consumeZ_as (VAL in_C99ReprType_1, VAL in_ZPlusC99Value_2) {
	VAL branch_Str_4;
	switch (get_data_tag(in_C99ReprType_1)) {
		case 1LL: { // C99RT_VAL
			VAL v5 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_2);
			branch_Str_4 = v5;
		} break;
		case 0LL: { // C99RT_UNIT
			mw_mirth_c99_ZPlusC99Value_rdrop(in_ZPlusC99Value_2);
			STR* v6;
			STRLIT(v6, "0", 1);
			branch_Str_4 = MKSTR(v6);
		} break;
		default: {
			VAL v7;
			VAL v8;
			mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_2, &v7, &v8);
			incref(v7);
			VAL branch_C99ReprType_9;
			VAL branch_Str_10;
			switch (get_data_tag(v7)) {
				case 1LL: { // C99RT_VAL
					STR* v11;
					STRLIT(v11, "", 0);
					VAL v12;
					VAL v13 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_1, &v12);
					VAL v14;
					mw_std_str_ZPlusStr_pushZ_strZBang(v13, MKSTR(v11), &v14);
					VAL v15;
					mw_std_str_ZPlusStr_pushZ_strZBang(v8, v14, &v15);
					VAL v16;
					mw_std_str_ZPlusStr_pushZ_strZBang(v12, v15, &v16);
					branch_Str_10 = v16;
					branch_C99ReprType_9 = v7;
				} break;
				default: {
					incref(in_C99ReprType_1);
					int64_t v17 = mw_mirth_c99_C99ReprType_ZEqualZEqual(v7, in_C99ReprType_1);
					VAL branch_C99ReprType_18;
					VAL branch_Str_19;
					if (((bool)v17)) {
						decref(in_C99ReprType_1);
						branch_Str_19 = v8;
						branch_C99ReprType_18 = v7;
					} else {
						incref(in_C99ReprType_1);
						int64_t v20 = mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk(in_C99ReprType_1);
						incref(v7);
						int64_t v21 = mw_mirth_c99_C99ReprType_isZ_intZ_likeZAsk(v7);
						bool v22 = (((bool)v20) && ((bool)v21));
						VAL branch_C99ReprType_23;
						VAL branch_Str_24;
						if (v22) {
							STR* v25;
							STRLIT(v25, "", 0);
							STR* v26;
							STRLIT(v26, "((", 2);
							VAL v27;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v26), MKSTR(v25), &v27);
							VAL v28 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_1);
							VAL v29;
							mw_std_str_ZPlusStr_pushZ_strZBang(v28, v27, &v29);
							STR* v30;
							STRLIT(v30, ")", 1);
							VAL v31;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v30), v29, &v31);
							VAL v32;
							mw_std_str_ZPlusStr_pushZ_strZBang(v8, v31, &v32);
							STR* v33;
							STRLIT(v33, ")", 1);
							VAL v34;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v33), v32, &v34);
							branch_Str_24 = v34;
							branch_C99ReprType_23 = v7;
						} else {
							STR* v35;
							STRLIT(v35, "", 0);
							STR* v36;
							STRLIT(v36, "(\n#error \"attempted to cast ", 28);
							VAL v37;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v36), MKSTR(v35), &v37);
							VAL v38;
							mw_std_str_ZPlusStr_pushZ_strZBang(v8, v37, &v38);
							STR* v39;
							STRLIT(v39, " to incompatible C99 repr type ", 31);
							VAL v40;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v39), v38, &v40);
							VAL v41 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_1);
							VAL v42;
							mw_std_str_ZPlusStr_pushZ_strZBang(v41, v40, &v42);
							STR* v43;
							STRLIT(v43, "\"\n", 2);
							VAL v44;
							mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v43), v42, &v44);
							branch_Str_24 = v44;
							branch_C99ReprType_23 = v7;
						}
						branch_Str_19 = branch_Str_24;
						branch_C99ReprType_18 = branch_C99ReprType_23;
					}
					branch_Str_10 = branch_Str_19;
					branch_C99ReprType_9 = branch_C99ReprType_18;
				} break;
			}
			decref(branch_C99ReprType_9);
			branch_Str_4 = branch_Str_10;
		} break;
	}
	return branch_Str_4;
}
static void mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Value_2)->cells[1];
	incref(v4);
	int64_t v5 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(v4);
	VAL branch_ZPlusC99Branch_6;
	if (((bool)v5)) {
		VAL v7 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_2);
		VAL v8 = VTUP(in_ZPlusC99Branch_1)->cells[1];
		VAL v9;
		mw_mirth_c99_ZPlusC99_indent(v8, &v9);
		STR* v10;
		STRLIT(v10, "decref(", 7);
		VAL v11;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v10), v9, &v11);
		VAL v12;
		mw_mirth_c99_ZPlusC99_put(v7, v11, &v12);
		STR* v13;
		STRLIT(v13, ");", 2);
		VAL v14;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v13), v12, &v14);
		VAL v15;
		mw_mirth_c99_ZPlusC99_line(v14, &v15);
		VTUP(in_ZPlusC99Branch_1)->cells[1] = v15;
		branch_ZPlusC99Branch_6 = in_ZPlusC99Branch_1;
	} else {
		mw_mirth_c99_ZPlusC99Value_rdrop(in_ZPlusC99Value_2);
		branch_ZPlusC99Branch_6 = in_ZPlusC99Branch_1;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4, VAL *out_ZPlusC99Value_5) {
	VAL v6 = VTUP(in_ZPlusC99Value_2)->cells[1];
	incref(v6);
	int64_t v7 = mw_mirth_c99_C99ReprType_needsZ_refcountingZAsk(v6);
	VAL branch_ZPlusC99Branch_8;
	VAL branch_ZPlusC99Value_9;
	if (((bool)v7)) {
		VAL v10;
		VAL v11;
		mw_mirth_c99_ZPlusC99Value_rdup(in_ZPlusC99Value_2, &v10, &v11);
		VAL v12 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v11);
		VAL v13 = VTUP(in_ZPlusC99Branch_1)->cells[1];
		VAL v14;
		mw_mirth_c99_ZPlusC99_indent(v13, &v14);
		STR* v15;
		STRLIT(v15, "incref(", 7);
		VAL v16;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v15), v14, &v16);
		VAL v17;
		mw_mirth_c99_ZPlusC99_put(v12, v16, &v17);
		STR* v18;
		STRLIT(v18, ");", 2);
		VAL v19;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
		VAL v20;
		mw_mirth_c99_ZPlusC99_line(v19, &v20);
		VTUP(in_ZPlusC99Branch_1)->cells[1] = v20;
		branch_ZPlusC99Value_9 = v10;
		branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_1;
	} else {
		branch_ZPlusC99Value_9 = in_ZPlusC99Value_2;
		branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_1;
	}
	VAL v21;
	VAL v22;
	mw_mirth_c99_ZPlusC99Value_rdup(branch_ZPlusC99Value_9, &v21, &v22);
	*out_ZPlusC99Value_5 = v22;
	*out_ZPlusC99Value_4 = v21;
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_8;
}
static VAL mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag (VAL in_ZPlusC99Value_1, VAL *out_ZPlusC99Value_2) {
	VAL v4 = VTUP(in_ZPlusC99Value_1)->cells[1];
	incref(v4);
	VAL branch_ZPlusC99Value_5;
	VAL branch_Str_6;
	switch (get_data_tag(v4)) {
		case 1LL: { // C99RT_VAL
			VAL v7 = VTUP(in_ZPlusC99Value_1)->cells[2];
			incref(v7);
			VAL v8 = mw_std_str_Str_1_sp28(v7);
			branch_Str_6 = v8;
			branch_ZPlusC99Value_5 = in_ZPlusC99Value_1;
		} break;
		default: {
			decref(v4);
			VAL v9 = VTUP(in_ZPlusC99Value_1)->cells[2];
			incref(v9);
			branch_Str_6 = v9;
			branch_ZPlusC99Value_5 = in_ZPlusC99Value_1;
		} break;
	}
	*out_ZPlusC99Value_2 = branch_ZPlusC99Value_5;
	return branch_Str_6;
}
static void mw_mirth_c99_ZPlusC99Resource_rdup (VAL in_ZPlusC99Resource_1, VAL *out_ZPlusC99Resource_2, VAL *out_ZPlusC99Resource_3) {
	VAL v4 = VTUP(in_ZPlusC99Resource_1)->cells[1];
	incref(v4);
	VAL v5 = VTUP(in_ZPlusC99Resource_1)->cells[2];
	incref(v5);
	VAL v6;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(v4, v5, &v6);
	*out_ZPlusC99Resource_3 = v6;
	*out_ZPlusC99Resource_2 = in_ZPlusC99Resource_1;
}
static void mw_mirth_c99_ZPlusC99Resource_rdrop (VAL in_ZPlusC99Resource_1) {
	VAL v2 = mw_mirth_c99_ZPlusC99Resource_consume(in_ZPlusC99Resource_1);
	decref(v2);
}
static void mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang (VAL in_ZPlusC99Value_1, VAL *out_ZPlusC99Resource_2) {
	VAL v3;
	VAL v4;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_1, &v3, &v4);
	VAL v5;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(v3, v4, &v5);
	*out_ZPlusC99Resource_2 = v5;
}
static void mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang (VAL in_ZPlusC99Resource_1, VAL *out_ZPlusC99Value_2) {
	VAL v3;
	VAL v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	VAL v5;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v3, v4, &v5);
	*out_ZPlusC99Value_2 = v5;
}
static void mw_mirth_c99_ZPlusC99Resource_dropZ_resourceZ_asZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(in_ZPlusC99Resource_2, &v4);
	VAL v5;
	mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(in_ZPlusC99Branch_1, v4, &v5);
	*out_ZPlusC99Branch_3 = v5;
}
static void mw_mirth_c99_ZPlusC99Resource_dupZ_resourceZ_asZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Resource_4, VAL *out_ZPlusC99Value_5) {
	VAL v6;
	VAL v7;
	mw_mirth_c99_ZPlusC99Resource_rdup(in_ZPlusC99Resource_2, &v6, &v7);
	VAL v8;
	mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v7, &v8);
	VAL v9;
	VAL v10;
	VAL v11;
	mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(in_ZPlusC99Branch_1, v8, &v9, &v10, &v11);
	mw_mirth_c99_ZPlusC99Value_rdrop(v11);
	*out_ZPlusC99Value_5 = v10;
	*out_ZPlusC99Resource_4 = v6;
	*out_ZPlusC99Branch_3 = v9;
}
static VAL mw_mirth_c99_ZPlusC99Resource_consume (VAL in_ZPlusC99Resource_1) {
	VAL v3;
	VAL v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	decref(v3);
	return v4;
}
static VAL mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL (VAL in_ZPlusC99Resource_1) {
	VAL v3;
	VAL v4;
	mtp_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_ZPlusC99Resource_1, &v3, &v4);
	VAL v5 = mw_mirth_c99_C99ReprType_mkZ_macro(v4, v3);
	return v5;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang (VAL in_ZPlusC99Branch_1, VAL in_C99ReprType_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Resource_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_1)->cells[1];
	VAL v6;
	VAL v7 = mw_mirth_c99_ZPlusC99_freshZ_resourceZ_nameZBang(v5, &v6);
	VTUP(in_ZPlusC99Branch_1)->cells[1] = v6;
	int64_t v8 = value_i64(VTUP(in_ZPlusC99Branch_1)->cells[4]);
	VAL v9 = VTUP(in_ZPlusC99Branch_1)->cells[1];
	int64_t v10 = value_i64(VTUP(v9)->cells[4]);
	bool v11 = (((bool)v8) && ((bool)v10));
	VTUP(v9)->cells[4] = MKBOOL(v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_indent(v9, &v12);
	incref(in_C99ReprType_2);
	VAL v13 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(in_C99ReprType_2);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(v13, v12, &v14);
	STR* v15;
	STRLIT(v15, " ", 1);
	VAL v16;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v15), v14, &v16);
	incref(v7);
	VAL v17;
	mw_mirth_c99_ZPlusC99_put(v7, v16, &v17);
	STR* v18;
	STRLIT(v18, " = ", 3);
	VAL v19;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
	incref(in_C99ReprType_2);
	VAL v20;
	VAL v21 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_2, &v20);
	VAL v22;
	mw_mirth_c99_ZPlusC99_put(v21, v19, &v22);
	STR* v23;
	STRLIT(v23, "pop_resource()", 14);
	VAL v24;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v23), v22, &v24);
	VAL v25;
	mw_mirth_c99_ZPlusC99_put(v20, v24, &v25);
	STR* v26;
	STRLIT(v26, ";", 1);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v26), v25, &v27);
	VAL v28;
	mw_mirth_c99_ZPlusC99_line(v27, &v28);
	VTUP(v28)->cells[4] = MKI64(v10);
	VTUP(in_ZPlusC99Branch_1)->cells[1] = v28;
	VAL v29;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(in_C99ReprType_2, v7, &v29);
	*out_ZPlusC99Resource_4 = v29;
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_1;
}
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(in_ZPlusC99Resource_2);
	int64_t v5 = value_i64(VTUP(in_ZPlusC99Branch_1)->cells[4]);
	VAL v6 = VTUP(in_ZPlusC99Branch_1)->cells[1];
	int64_t v7 = value_i64(VTUP(v6)->cells[4]);
	bool v8 = (((bool)v5) && ((bool)v7));
	VTUP(v6)->cells[4] = MKBOOL(v8);
	VAL v9;
	mw_mirth_c99_ZPlusC99_indent(v6, &v9);
	STR* v10;
	STRLIT(v10, "push_resource(", 14);
	VAL v11;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v10), v9, &v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_put(v4, v11, &v12);
	STR* v13;
	STRLIT(v13, ");", 2);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v13), v12, &v14);
	VAL v15;
	mw_mirth_c99_ZPlusC99_line(v14, &v15);
	VTUP(v15)->cells[4] = MKI64(v7);
	VTUP(in_ZPlusC99Branch_1)->cells[1] = v15;
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_1;
}
static VAL mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag (VAL in_ZPlusC99Resource_1, VAL *out_ZPlusC99Resource_2) {
	VAL v4 = VTUP(in_ZPlusC99Resource_1)->cells[1];
	incref(v4);
	VAL branch_ZPlusC99Resource_5;
	VAL branch_Str_6;
	switch (get_data_tag(v4)) {
		case 1LL: { // C99RT_VAL
			VAL v7 = VTUP(in_ZPlusC99Resource_1)->cells[2];
			incref(v7);
			VAL v8 = mw_std_str_Str_1_sp28(v7);
			branch_Str_6 = v8;
			branch_ZPlusC99Resource_5 = in_ZPlusC99Resource_1;
		} break;
		default: {
			decref(v4);
			VAL v9 = VTUP(in_ZPlusC99Resource_1)->cells[2];
			incref(v9);
			branch_Str_6 = v9;
			branch_ZPlusC99Resource_5 = in_ZPlusC99Resource_1;
		} break;
	}
	*out_ZPlusC99Resource_2 = branch_ZPlusC99Resource_5;
	return branch_Str_6;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZ_valueZDivresourceZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99ValueZDivResource_2, VAL *out_ZPlusC99Branch_3) {
	VAL branch_ZPlusC99Branch_4;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_2)) {
		case 0LL: { // +Left
			VAL v5;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(in_ZPlusC99ValueZDivResource_2, &v5);
			VAL v6;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(in_ZPlusC99Branch_1, v5, &v6);
			branch_ZPlusC99Branch_4 = v6;
		} break;
		case 1LL: { // +Right
			VAL v7;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(in_ZPlusC99ValueZDivResource_2, &v7);
			VAL v8;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(in_ZPlusC99Branch_1, v7, &v8);
			branch_ZPlusC99Branch_4 = v8;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_4;
}
static VAL mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag (VAL in_ZPlusC99ValueZDivResource_1, VAL *out_ZPlusC99ValueZDivResource_2) {
	VAL branch_ZPlusC99ValueZDivResource_4;
	VAL branch_Str_5;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v6;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v6);
			VAL v7;
			VAL v8 = mw_mirth_c99_ZPlusC99Value_peekZ_dataZ_tag(v6, &v7);
			VAL v9;
			mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v7, &v9);
			branch_Str_5 = v8;
			branch_ZPlusC99ValueZDivResource_4 = v9;
		} break;
		case 1LL: { // +Right
			VAL v10;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v10);
			VAL v11;
			VAL v12 = mw_mirth_c99_ZPlusC99Resource_peekZ_dataZ_tag(v10, &v11);
			VAL v13;
			mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v11, &v13);
			branch_Str_5 = v12;
			branch_ZPlusC99ValueZDivResource_4 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99ValueZDivResource_2 = branch_ZPlusC99ValueZDivResource_4;
	return branch_Str_5;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdup (VAL in_ZPlusC99ValueZDivResource_1, VAL *out_ZPlusC99ValueZDivResource_2, VAL *out_ZPlusC99ValueZDivResource_3) {
	VAL branch_ZPlusC99ValueZDivResource_4;
	VAL branch_ZPlusC99ValueZDivResource_5;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v6;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v6);
			VAL v7;
			VAL v8;
			mw_mirth_c99_ZPlusC99Value_rdup(v6, &v7, &v8);
			VAL v9;
			mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v8, &v9);
			VAL v10;
			mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v7, &v10);
			branch_ZPlusC99ValueZDivResource_5 = v9;
			branch_ZPlusC99ValueZDivResource_4 = v10;
		} break;
		case 1LL: { // +Right
			VAL v11;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v11);
			VAL v12;
			VAL v13;
			mw_mirth_c99_ZPlusC99Resource_rdup(v11, &v12, &v13);
			VAL v14;
			mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v13, &v14);
			VAL v15;
			mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v12, &v15);
			branch_ZPlusC99ValueZDivResource_5 = v14;
			branch_ZPlusC99ValueZDivResource_4 = v15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99ValueZDivResource_3 = branch_ZPlusC99ValueZDivResource_5;
	*out_ZPlusC99ValueZDivResource_2 = branch_ZPlusC99ValueZDivResource_4;
}
static void mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop (VAL in_ZPlusC99ValueZDivResource_1) {
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v2;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v2);
			mw_mirth_c99_ZPlusC99Value_rdrop(v2);
		} break;
		case 1LL: { // +Right
			VAL v3;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v3);
			mw_mirth_c99_ZPlusC99Resource_rdrop(v3);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
}
static VAL mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_VAL (VAL in_ZPlusC99ValueZDivResource_1) {
	VAL branch_Str_3;
	switch (get_data_tag(in_ZPlusC99ValueZDivResource_1)) {
		case 0LL: { // +Left
			VAL v4;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(in_ZPlusC99ValueZDivResource_1, &v4);
			VAL v5 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v4);
			branch_Str_3 = v5;
		} break;
		case 1LL: { // +Right
			VAL v6;
			mtp_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(in_ZPlusC99ValueZDivResource_1, &v6);
			VAL v7 = mw_mirth_c99_ZPlusC99Resource_consumeZ_asZ_VAL(v6);
			branch_Str_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Str_3;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_valueZDivresourceZ_dataZBang (uint64_t in_Data_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99ValueZDivResource_4) {
	int64_t v5 = mw_mirth_data_Data_isZ_resourceZAsk(in_Data_1);
	VAL branch_ZPlusC99Branch_6;
	VAL branch_ZPlusC99ValueZDivResource_7;
	if (((bool)v5)) {
		VAL v8;
		VAL v9 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp7(in_Data_1, in_ZPlusC99Branch_2, &v8);
		VAL v10;
		VAL v11;
		mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v8, v9, &v10, &v11);
		VAL v12;
		mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusRight(v11, &v12);
		branch_ZPlusC99ValueZDivResource_7 = v12;
		branch_ZPlusC99Branch_6 = v10;
	} else {
		VAL v13;
		VAL v14 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp7(in_Data_1, in_ZPlusC99Branch_2, &v13);
		VAL v15;
		VAL v16;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v13, v14, &v15, &v16);
		VAL v17;
		mtw_mirth_c99_ZPlusC99ValueZDivResource_ZPlusLeft(v16, &v17);
		branch_ZPlusC99ValueZDivResource_7 = v17;
		branch_ZPlusC99Branch_6 = v15;
	}
	*out_ZPlusC99ValueZDivResource_4 = branch_ZPlusC99ValueZDivResource_7;
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99Branch_2) {
	VAL v3;
	VAL v4;
	VAL v5;
	int64_t v6;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(in_ZPlusC99Branch_1, &v3, &v4, &v5, &v6);
	VAL v7;
	mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(v3, v4, v6, v5, &v7);
	*out_ZPlusC99Branch_2 = v7;
}
static void mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang (VAL in_ZPlusC99_1, VAL in_ZPlusC99Stack_2, int64_t in_Bool_3, VAL in_List_4, VAL *out_ZPlusC99Branch_5) {
	VAL branch_ZPlusC99Branch_6;
	switch (get_data_tag(in_ZPlusC99Stack_2)) {
		case 0LL: { // +SNil
			VAL v7;
			mw_mirth_c99_ZPlusC99_startZ_branchZBang(in_ZPlusC99_1, in_Bool_3, in_List_4, &v7);
			branch_ZPlusC99Branch_6 = v7;
		} break;
		case 1LL: { // +SCons
			VAL v8;
			VAL v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_2, &v8, &v9);
			VAL v10;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusC99_1, v8, in_Bool_3, in_List_4, &v10);
			VAL v11 = VTUP(v9)->cells[1];
			incref(v11);
			VAL v12;
			VAL v13;
			mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp23(v9, v10, v11, &v12, &v13);
			VAL v14;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v12, v13, &v14);
			branch_ZPlusC99Branch_6 = v14;
		} break;
		case 2LL: { // +SWith
			VAL v15;
			VAL v16;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_2, &v15, &v16);
			VAL v17;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusC99_1, v15, in_Bool_3, in_List_4, &v17);
			VAL v18 = VTUP(v16)->cells[1];
			incref(v18);
			incref(v18);
			int64_t v19 = get_data_tag(v18);
			decref(v18);
			int64_t v20 = 0LL;
			bool v21 = (v19 != v20);
			VAL branch_ZPlusC99Resource_22;
			VAL branch_C99ReprType_23;
			int64_t branch_Bool_24;
			VAL branch_Str_25;
			VAL branch_ZPlusC99Branch_26;
			if (v21) {
				VAL v27 = VTUP(v17)->cells[1];
				VAL v28;
				VAL v29 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v27, &v28);
				VTUP(v17)->cells[1] = v28;
				branch_ZPlusC99Branch_26 = v17;
				branch_Str_25 = v29;
				branch_Bool_24 = ((int64_t)v21);
				branch_C99ReprType_23 = v18;
				branch_ZPlusC99Resource_22 = v16;
			} else {
				STR* v30;
				STRLIT(v30, "0", 1);
				branch_ZPlusC99Branch_26 = v17;
				branch_Str_25 = MKSTR(v30);
				branch_Bool_24 = ((int64_t)v21);
				branch_C99ReprType_23 = v18;
				branch_ZPlusC99Resource_22 = v16;
			}
			int64_t v31 = value_i64(VTUP(branch_ZPlusC99Branch_26)->cells[4]);
			bool v32 = (((bool)branch_Bool_24) && ((bool)v31));
			VAL v33 = VTUP(branch_ZPlusC99Branch_26)->cells[1];
			int64_t v34 = value_i64(VTUP(v33)->cells[4]);
			bool v35 = (v32 && ((bool)v34));
			VTUP(v33)->cells[4] = MKBOOL(v35);
			VAL v36;
			mw_mirth_c99_ZPlusC99_indent(v33, &v36);
			incref(branch_C99ReprType_23);
			VAL v37 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_23);
			VAL v38;
			mw_mirth_c99_ZPlusC99_put(v37, v36, &v38);
			STR* v39;
			STRLIT(v39, " ", 1);
			VAL v40;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v39), v38, &v40);
			incref(branch_Str_25);
			VAL v41;
			mw_mirth_c99_ZPlusC99_put(branch_Str_25, v40, &v41);
			STR* v42;
			STRLIT(v42, " = ", 3);
			VAL v43;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v42), v41, &v43);
			VAL v44;
			mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_23, branch_Str_25, &v44);
			VAL v45 = mw_mirth_c99_ZPlusC99Resource_consume(branch_ZPlusC99Resource_22);
			VAL v46;
			mw_mirth_c99_ZPlusC99_put(v45, v43, &v46);
			STR* v47;
			STRLIT(v47, ";", 1);
			VAL v48;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v47), v46, &v48);
			VAL v49;
			mw_mirth_c99_ZPlusC99_line(v48, &v49);
			VTUP(v49)->cells[4] = MKI64(v34);
			VTUP(branch_ZPlusC99Branch_26)->cells[1] = v49;
			VAL v50;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_26, v44, &v50);
			branch_ZPlusC99Branch_6 = v50;
		} break;
		case 3LL: { // +SConsLabel
			VAL v51;
			VAL v52;
			uint64_t v53 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_2, &v51, &v52);
			VAL v54;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusC99_1, v51, in_Bool_3, in_List_4, &v54);
			VAL v55 = VTUP(v52)->cells[1];
			incref(v55);
			VAL v56;
			VAL v57;
			mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp23(v52, v54, v55, &v56, &v57);
			int64_t v58 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v53);
			VAL branch_ZPlusC99Branch_59;
			if (((bool)v58)) {
				VAL v60;
				mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v57, &v60);
				VAL v61;
				mw_mirth_c99_pushZ_resourceZ_labelZBang(v53, v56, v60, &v61);
				branch_ZPlusC99Branch_59 = v61;
			} else {
				VAL v62;
				mw_mirth_c99_pushZ_valueZ_labelZBang(v53, v56, v57, &v62);
				branch_ZPlusC99Branch_59 = v62;
			}
			branch_ZPlusC99Branch_6 = branch_ZPlusC99Branch_59;
		} break;
		case 4LL: { // +SWithLabel
			VAL v63;
			VAL v64;
			uint64_t v65 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_2, &v63, &v64);
			VAL v66;
			mw_mirth_c99_ZPlusC99Stack_refreshZ_allZBang(in_ZPlusC99_1, v63, in_Bool_3, in_List_4, &v66);
			VAL v67 = VTUP(v64)->cells[1];
			incref(v67);
			incref(v67);
			int64_t v68 = get_data_tag(v67);
			decref(v67);
			int64_t v69 = 0LL;
			bool v70 = (v68 != v69);
			VAL branch_ZPlusC99Resource_71;
			VAL branch_C99ReprType_72;
			int64_t branch_Bool_73;
			VAL branch_Str_74;
			VAL branch_ZPlusC99Branch_75;
			if (v70) {
				VAL v76 = VTUP(v66)->cells[1];
				VAL v77;
				VAL v78 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v76, &v77);
				VTUP(v66)->cells[1] = v77;
				branch_ZPlusC99Branch_75 = v66;
				branch_Str_74 = v78;
				branch_Bool_73 = ((int64_t)v70);
				branch_C99ReprType_72 = v67;
				branch_ZPlusC99Resource_71 = v64;
			} else {
				STR* v79;
				STRLIT(v79, "0", 1);
				branch_ZPlusC99Branch_75 = v66;
				branch_Str_74 = MKSTR(v79);
				branch_Bool_73 = ((int64_t)v70);
				branch_C99ReprType_72 = v67;
				branch_ZPlusC99Resource_71 = v64;
			}
			int64_t v80 = value_i64(VTUP(branch_ZPlusC99Branch_75)->cells[4]);
			bool v81 = (((bool)branch_Bool_73) && ((bool)v80));
			VAL v82 = VTUP(branch_ZPlusC99Branch_75)->cells[1];
			int64_t v83 = value_i64(VTUP(v82)->cells[4]);
			bool v84 = (v81 && ((bool)v83));
			VTUP(v82)->cells[4] = MKBOOL(v84);
			VAL v85;
			mw_mirth_c99_ZPlusC99_indent(v82, &v85);
			incref(branch_C99ReprType_72);
			VAL v86 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_72);
			VAL v87;
			mw_mirth_c99_ZPlusC99_put(v86, v85, &v87);
			STR* v88;
			STRLIT(v88, " ", 1);
			VAL v89;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v88), v87, &v89);
			incref(branch_Str_74);
			VAL v90;
			mw_mirth_c99_ZPlusC99_put(branch_Str_74, v89, &v90);
			STR* v91;
			STRLIT(v91, " = ", 3);
			VAL v92;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v91), v90, &v92);
			VAL v93;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_72, branch_Str_74, &v93);
			VAL v94 = mw_mirth_c99_ZPlusC99Resource_consume(branch_ZPlusC99Resource_71);
			VAL v95;
			mw_mirth_c99_ZPlusC99_put(v94, v92, &v95);
			STR* v96;
			STRLIT(v96, ";", 1);
			VAL v97;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v96), v95, &v97);
			VAL v98;
			mw_mirth_c99_ZPlusC99_line(v97, &v98);
			VTUP(v98)->cells[4] = MKI64(v83);
			VTUP(branch_ZPlusC99Branch_75)->cells[1] = v98;
			int64_t v99 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(v65);
			VAL branch_ZPlusC99Branch_100;
			if (((bool)v99)) {
				VAL v101;
				mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v93, &v101);
				VAL v102;
				mw_mirth_c99_pushZ_resourceZ_labelZBang(v65, branch_ZPlusC99Branch_75, v101, &v102);
				branch_ZPlusC99Branch_100 = v102;
			} else {
				VAL v103;
				mw_mirth_c99_pushZ_valueZ_labelZBang(v65, branch_ZPlusC99Branch_75, v93, &v103);
				branch_ZPlusC99Branch_100 = v103;
			}
			branch_ZPlusC99Branch_6 = branch_ZPlusC99Branch_100;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99Branch_3) {
	VAL branch_ZPlusC99Branch_4;
	switch (get_data_tag(in_ZPlusC99Stack_2)) {
		case 0LL: { // +SNil
			VAL v5;
			mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(in_ZPlusC99Branch_1, &v5);
			branch_ZPlusC99Branch_4 = v5;
		} break;
		case 1LL: { // +SCons
			VAL v6;
			VAL v7;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_2, &v6, &v7);
			VAL v8 = VTUP(v7)->cells[1];
			incref(v8);
			incref(v8);
			VAL v9;
			VAL v10;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_1, v8, &v9, &v10);
			VAL v11 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v8, v10);
			VAL v12 = VTUP(v7)->cells[2];
			incref(v12);
			VAL v13 = VTUP(v7)->cells[1];
			incref(v13);
			int64_t v14 = get_data_tag(v13);
			decref(v13);
			int64_t v15 = 0LL;
			bool v16 = (v14 != v15);
			int64_t v17 = value_i64(VTUP(v9)->cells[4]);
			bool v18 = (v16 && ((bool)v17));
			VAL v19 = VTUP(v9)->cells[1];
			int64_t v20 = value_i64(VTUP(v19)->cells[4]);
			bool v21 = (v18 && ((bool)v20));
			VTUP(v19)->cells[4] = MKBOOL(v21);
			VAL v22;
			mw_mirth_c99_ZPlusC99_indent(v19, &v22);
			VAL v23;
			mw_mirth_c99_ZPlusC99_put(v12, v22, &v23);
			STR* v24;
			STRLIT(v24, " = ", 3);
			VAL v25;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v24), v23, &v25);
			VAL v26;
			mw_mirth_c99_ZPlusC99_put(v11, v25, &v26);
			STR* v27;
			STRLIT(v27, ";", 1);
			VAL v28;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v27), v26, &v28);
			VAL v29;
			mw_mirth_c99_ZPlusC99_line(v28, &v29);
			VTUP(v29)->cells[4] = MKI64(v20);
			VTUP(v9)->cells[1] = v29;
			VAL v30;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v9, v6, &v30);
			VAL v31;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v30, v7, &v31);
			branch_ZPlusC99Branch_4 = v31;
		} break;
		case 2LL: { // +SWith
			VAL v32;
			VAL v33;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_2, &v32, &v33);
			VAL v34 = VTUP(v33)->cells[1];
			incref(v34);
			incref(v34);
			VAL v35;
			VAL v36;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(in_ZPlusC99Branch_1, v34, &v35, &v36);
			VAL v37;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v36, &v37);
			VAL v38 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v34, v37);
			VAL v39 = VTUP(v33)->cells[2];
			incref(v39);
			VAL v40 = VTUP(v33)->cells[1];
			incref(v40);
			int64_t v41 = get_data_tag(v40);
			decref(v40);
			int64_t v42 = 0LL;
			bool v43 = (v41 != v42);
			int64_t v44 = value_i64(VTUP(v35)->cells[4]);
			bool v45 = (v43 && ((bool)v44));
			VAL v46 = VTUP(v35)->cells[1];
			int64_t v47 = value_i64(VTUP(v46)->cells[4]);
			bool v48 = (v45 && ((bool)v47));
			VTUP(v46)->cells[4] = MKBOOL(v48);
			VAL v49;
			mw_mirth_c99_ZPlusC99_indent(v46, &v49);
			VAL v50;
			mw_mirth_c99_ZPlusC99_put(v39, v49, &v50);
			STR* v51;
			STRLIT(v51, " = ", 3);
			VAL v52;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v51), v50, &v52);
			VAL v53;
			mw_mirth_c99_ZPlusC99_put(v38, v52, &v53);
			STR* v54;
			STRLIT(v54, ";", 1);
			VAL v55;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v54), v53, &v55);
			VAL v56;
			mw_mirth_c99_ZPlusC99_line(v55, &v56);
			VTUP(v56)->cells[4] = MKI64(v47);
			VTUP(v35)->cells[1] = v56;
			VAL v57;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v35, v32, &v57);
			VAL v58;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v57, v33, &v58);
			branch_ZPlusC99Branch_4 = v58;
		} break;
		case 3LL: { // +SConsLabel
			VAL v59;
			VAL v60;
			uint64_t v61 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_2, &v59, &v60);
			VAL v62 = VTUP(v60)->cells[1];
			incref(v62);
			incref(v62);
			VAL v63;
			VAL v64;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v62, v61, in_ZPlusC99Branch_1, &v63, &v64);
			VAL v65 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v62, v64);
			VAL v66 = VTUP(v60)->cells[2];
			incref(v66);
			VAL v67 = VTUP(v60)->cells[1];
			incref(v67);
			int64_t v68 = get_data_tag(v67);
			decref(v67);
			int64_t v69 = 0LL;
			bool v70 = (v68 != v69);
			int64_t v71 = value_i64(VTUP(v63)->cells[4]);
			bool v72 = (v70 && ((bool)v71));
			VAL v73 = VTUP(v63)->cells[1];
			int64_t v74 = value_i64(VTUP(v73)->cells[4]);
			bool v75 = (v72 && ((bool)v74));
			VTUP(v73)->cells[4] = MKBOOL(v75);
			VAL v76;
			mw_mirth_c99_ZPlusC99_indent(v73, &v76);
			VAL v77;
			mw_mirth_c99_ZPlusC99_put(v66, v76, &v77);
			STR* v78;
			STRLIT(v78, " = ", 3);
			VAL v79;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v78), v77, &v79);
			VAL v80;
			mw_mirth_c99_ZPlusC99_put(v65, v79, &v80);
			STR* v81;
			STRLIT(v81, ";", 1);
			VAL v82;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v81), v80, &v82);
			VAL v83;
			mw_mirth_c99_ZPlusC99_line(v82, &v83);
			VTUP(v83)->cells[4] = MKI64(v74);
			VTUP(v63)->cells[1] = v83;
			VAL v84;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v63, v59, &v84);
			VAL v85;
			mw_mirth_c99_pushZ_valueZ_labelZBang(v61, v84, v60, &v85);
			branch_ZPlusC99Branch_4 = v85;
		} break;
		case 4LL: { // +SWithLabel
			VAL v86;
			VAL v87;
			uint64_t v88 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_2, &v86, &v87);
			VAL v89 = VTUP(v87)->cells[1];
			incref(v89);
			incref(v89);
			VAL v90;
			VAL v91;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v89, v88, in_ZPlusC99Branch_1, &v90, &v91);
			VAL v92;
			mw_mirth_c99_ZPlusC99Resource_turnZ_intoZ_valueZBang(v91, &v92);
			VAL v93 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v89, v92);
			VAL v94 = VTUP(v87)->cells[2];
			incref(v94);
			VAL v95 = VTUP(v87)->cells[1];
			incref(v95);
			int64_t v96 = get_data_tag(v95);
			decref(v95);
			int64_t v97 = 0LL;
			bool v98 = (v96 != v97);
			int64_t v99 = value_i64(VTUP(v90)->cells[4]);
			bool v100 = (v98 && ((bool)v99));
			VAL v101 = VTUP(v90)->cells[1];
			int64_t v102 = value_i64(VTUP(v101)->cells[4]);
			bool v103 = (v100 && ((bool)v102));
			VTUP(v101)->cells[4] = MKBOOL(v103);
			VAL v104;
			mw_mirth_c99_ZPlusC99_indent(v101, &v104);
			VAL v105;
			mw_mirth_c99_ZPlusC99_put(v94, v104, &v105);
			STR* v106;
			STRLIT(v106, " = ", 3);
			VAL v107;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v106), v105, &v107);
			VAL v108;
			mw_mirth_c99_ZPlusC99_put(v93, v107, &v108);
			STR* v109;
			STRLIT(v109, ";", 1);
			VAL v110;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v109), v108, &v110);
			VAL v111;
			mw_mirth_c99_ZPlusC99_line(v110, &v111);
			VTUP(v111)->cells[4] = MKI64(v102);
			VTUP(v90)->cells[1] = v111;
			VAL v112;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v90, v86, &v112);
			VAL v113;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(v88, v112, v87, &v113);
			branch_ZPlusC99Branch_4 = v113;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_4;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99ValueZAsk_2, VAL *out_ZPlusC99Stack_3) {
	VAL branch_ZPlusC99ValueZAsk_4;
	VAL branch_ZPlusC99Stack_5;
	switch (get_data_tag(in_ZPlusC99Stack_1)) {
		case 0LL: { // +SNil
			VAL v6 = MKI64(0LL /* +C99ValueNone */);
			VAL v7 = MKI64(0LL /* +SNil */);
			branch_ZPlusC99Stack_5 = v7;
			branch_ZPlusC99ValueZAsk_4 = v6;
		} break;
		case 1LL: { // +SCons
			VAL v8;
			VAL v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_1, &v8, &v9);
			VAL v10;
			mtw_mirth_c99_ZPlusC99ValueZAsk_ZPlusC99ValueSome(v9, &v10);
			branch_ZPlusC99Stack_5 = v8;
			branch_ZPlusC99ValueZAsk_4 = v10;
		} break;
		case 2LL: { // +SWith
			VAL v11;
			VAL v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_1, &v11, &v12);
			VAL v13;
			VAL v14;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v11, &v13, &v14);
			VAL v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith(v14, v12, &v15);
			branch_ZPlusC99Stack_5 = v15;
			branch_ZPlusC99ValueZAsk_4 = v13;
		} break;
		case 3LL: { // +SConsLabel
			VAL v16;
			VAL v17;
			uint64_t v18 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_1, &v16, &v17);
			VAL v19;
			VAL v20;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v16, &v19, &v20);
			VAL v21;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v20, v17, v18, &v21);
			branch_ZPlusC99Stack_5 = v21;
			branch_ZPlusC99ValueZAsk_4 = v19;
		} break;
		case 4LL: { // +SWithLabel
			VAL v22;
			VAL v23;
			uint64_t v24 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_1, &v22, &v23);
			VAL v25;
			VAL v26;
			mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v22, &v25, &v26);
			VAL v27;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v26, v23, v24, &v27);
			branch_ZPlusC99Stack_5 = v27;
			branch_ZPlusC99ValueZAsk_4 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusC99ValueZAsk_2 = branch_ZPlusC99ValueZAsk_4;
}
static void mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99ResourceZAsk_2, VAL *out_ZPlusC99Stack_3) {
	VAL branch_ZPlusC99ResourceZAsk_4;
	VAL branch_ZPlusC99Stack_5;
	switch (get_data_tag(in_ZPlusC99Stack_1)) {
		case 0LL: { // +SNil
			VAL v6 = MKI64(0LL /* +C99ResourceNone */);
			VAL v7 = MKI64(0LL /* +SNil */);
			branch_ZPlusC99Stack_5 = v7;
			branch_ZPlusC99ResourceZAsk_4 = v6;
		} break;
		case 2LL: { // +SWith
			VAL v8;
			VAL v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_1, &v8, &v9);
			VAL v10;
			mtw_mirth_c99_ZPlusC99ResourceZAsk_ZPlusC99ResourceSome(v9, &v10);
			branch_ZPlusC99Stack_5 = v8;
			branch_ZPlusC99ResourceZAsk_4 = v10;
		} break;
		case 1LL: { // +SCons
			VAL v11;
			VAL v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_1, &v11, &v12);
			VAL v13;
			VAL v14;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v11, &v13, &v14);
			VAL v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons(v14, v12, &v15);
			branch_ZPlusC99Stack_5 = v15;
			branch_ZPlusC99ResourceZAsk_4 = v13;
		} break;
		case 3LL: { // +SConsLabel
			VAL v16;
			VAL v17;
			uint64_t v18 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_1, &v16, &v17);
			VAL v19;
			VAL v20;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v16, &v19, &v20);
			VAL v21;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v20, v17, v18, &v21);
			branch_ZPlusC99Stack_5 = v21;
			branch_ZPlusC99ResourceZAsk_4 = v19;
		} break;
		case 4LL: { // +SWithLabel
			VAL v22;
			VAL v23;
			uint64_t v24 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_1, &v22, &v23);
			VAL v25;
			VAL v26;
			mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v22, &v25, &v26);
			VAL v27;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v26, v23, v24, &v27);
			branch_ZPlusC99Stack_5 = v27;
			branch_ZPlusC99ResourceZAsk_4 = v25;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusC99ResourceZAsk_2 = branch_ZPlusC99ResourceZAsk_4;
}
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk (uint64_t in_Label_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99ValueZAsk_4, VAL *out_ZPlusC99Stack_5) {
	uint64_t branch_Label_6;
	VAL branch_ZPlusC99ValueZAsk_7;
	VAL branch_ZPlusC99Stack_8;
	switch (get_data_tag(in_ZPlusC99Stack_2)) {
		case 0LL: { // +SNil
			VAL v9 = MKI64(0LL /* +C99ValueNone */);
			VAL v10 = MKI64(0LL /* +SNil */);
			branch_ZPlusC99Stack_8 = v10;
			branch_ZPlusC99ValueZAsk_7 = v9;
			branch_Label_6 = in_Label_1;
		} break;
		case 1LL: { // +SCons
			VAL v11;
			VAL v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_2, &v11, &v12);
			VAL v13;
			VAL v14;
			uint64_t v15 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_1, v11, &v13, &v14);
			VAL v16;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons(v14, v12, &v16);
			branch_ZPlusC99Stack_8 = v16;
			branch_ZPlusC99ValueZAsk_7 = v13;
			branch_Label_6 = v15;
		} break;
		case 2LL: { // +SWith
			VAL v17;
			VAL v18;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_2, &v17, &v18);
			VAL v19;
			VAL v20;
			uint64_t v21 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_1, v17, &v19, &v20);
			VAL v22;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith(v20, v18, &v22);
			branch_ZPlusC99Stack_8 = v22;
			branch_ZPlusC99ValueZAsk_7 = v19;
			branch_Label_6 = v21;
		} break;
		case 4LL: { // +SWithLabel
			VAL v23;
			VAL v24;
			uint64_t v25 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_2, &v23, &v24);
			VAL v26;
			VAL v27;
			uint64_t v28 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_1, v23, &v26, &v27);
			VAL v29;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v27, v24, v25, &v29);
			branch_ZPlusC99Stack_8 = v29;
			branch_ZPlusC99ValueZAsk_7 = v26;
			branch_Label_6 = v28;
		} break;
		case 3LL: { // +SConsLabel
			VAL v30;
			VAL v31;
			uint64_t v32 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_2, &v30, &v31);
			int64_t v33 = mw_mirth_label_Label_ZEqualZEqual(in_Label_1, v32);
			uint64_t branch_Label_34;
			VAL branch_ZPlusC99ValueZAsk_35;
			VAL branch_ZPlusC99Stack_36;
			if (((bool)v33)) {
				VAL v37;
				mtw_mirth_c99_ZPlusC99ValueZAsk_ZPlusC99ValueSome(v31, &v37);
				branch_ZPlusC99Stack_36 = v30;
				branch_ZPlusC99ValueZAsk_35 = v37;
				branch_Label_34 = in_Label_1;
			} else {
				VAL v38;
				VAL v39;
				uint64_t v40 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_1, v30, &v38, &v39);
				VAL v41;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v39, v31, v32, &v41);
				branch_ZPlusC99Stack_36 = v41;
				branch_ZPlusC99ValueZAsk_35 = v38;
				branch_Label_34 = v40;
			}
			branch_ZPlusC99Stack_8 = branch_ZPlusC99Stack_36;
			branch_ZPlusC99ValueZAsk_7 = branch_ZPlusC99ValueZAsk_35;
			branch_Label_6 = branch_Label_34;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_5 = branch_ZPlusC99Stack_8;
	*out_ZPlusC99ValueZAsk_4 = branch_ZPlusC99ValueZAsk_7;
	return branch_Label_6;
}
static uint64_t mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk (uint64_t in_Label_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99ResourceZAsk_4, VAL *out_ZPlusC99Stack_5) {
	uint64_t branch_Label_6;
	VAL branch_ZPlusC99ResourceZAsk_7;
	VAL branch_ZPlusC99Stack_8;
	switch (get_data_tag(in_ZPlusC99Stack_2)) {
		case 0LL: { // +SNil
			VAL v9 = MKI64(0LL /* +C99ResourceNone */);
			VAL v10 = MKI64(0LL /* +SNil */);
			branch_ZPlusC99Stack_8 = v10;
			branch_ZPlusC99ResourceZAsk_7 = v9;
			branch_Label_6 = in_Label_1;
		} break;
		case 1LL: { // +SCons
			VAL v11;
			VAL v12;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_2, &v11, &v12);
			VAL v13;
			VAL v14;
			uint64_t v15 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_1, v11, &v13, &v14);
			VAL v16;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons(v14, v12, &v16);
			branch_ZPlusC99Stack_8 = v16;
			branch_ZPlusC99ResourceZAsk_7 = v13;
			branch_Label_6 = v15;
		} break;
		case 2LL: { // +SWith
			VAL v17;
			VAL v18;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_2, &v17, &v18);
			VAL v19;
			VAL v20;
			uint64_t v21 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_1, v17, &v19, &v20);
			VAL v22;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith(v20, v18, &v22);
			branch_ZPlusC99Stack_8 = v22;
			branch_ZPlusC99ResourceZAsk_7 = v19;
			branch_Label_6 = v21;
		} break;
		case 3LL: { // +SConsLabel
			VAL v23;
			VAL v24;
			uint64_t v25 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_2, &v23, &v24);
			VAL v26;
			VAL v27;
			uint64_t v28 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_1, v23, &v26, &v27);
			VAL v29;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v27, v24, v25, &v29);
			branch_ZPlusC99Stack_8 = v29;
			branch_ZPlusC99ResourceZAsk_7 = v26;
			branch_Label_6 = v28;
		} break;
		case 4LL: { // +SWithLabel
			VAL v30;
			VAL v31;
			uint64_t v32 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_2, &v30, &v31);
			int64_t v33 = mw_mirth_label_Label_ZEqualZEqual(in_Label_1, v32);
			uint64_t branch_Label_34;
			VAL branch_ZPlusC99ResourceZAsk_35;
			VAL branch_ZPlusC99Stack_36;
			if (((bool)v33)) {
				VAL v37;
				mtw_mirth_c99_ZPlusC99ResourceZAsk_ZPlusC99ResourceSome(v31, &v37);
				branch_ZPlusC99Stack_36 = v30;
				branch_ZPlusC99ResourceZAsk_35 = v37;
				branch_Label_34 = in_Label_1;
			} else {
				VAL v38;
				VAL v39;
				uint64_t v40 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_1, v30, &v38, &v39);
				VAL v41;
				mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v39, v31, v32, &v41);
				branch_ZPlusC99Stack_36 = v41;
				branch_ZPlusC99ResourceZAsk_35 = v38;
				branch_Label_34 = v40;
			}
			branch_ZPlusC99Stack_8 = branch_ZPlusC99Stack_36;
			branch_ZPlusC99ResourceZAsk_7 = branch_ZPlusC99ResourceZAsk_35;
			branch_Label_6 = branch_Label_34;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_5 = branch_ZPlusC99Stack_8;
	*out_ZPlusC99ResourceZAsk_4 = branch_ZPlusC99ResourceZAsk_7;
	return branch_Label_6;
}
static void mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Stack_2, VAL *out_ZPlusC99Branch_3) {
	VAL branch_ZPlusC99Branch_4;
	switch (get_data_tag(in_ZPlusC99Stack_2)) {
		case 0LL: { // +SNil
			branch_ZPlusC99Branch_4 = in_ZPlusC99Branch_1;
		} break;
		case 1LL: { // +SCons
			VAL v5;
			VAL v6;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_2, &v5, &v6);
			VAL v7;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusC99Branch_1, v5, &v7);
			VAL v8;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZ_directZBang(v7, v6, &v8);
			branch_ZPlusC99Branch_4 = v8;
		} break;
		case 2LL: { // +SWith
			VAL v9;
			VAL v10;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_2, &v9, &v10);
			VAL v11;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusC99Branch_1, v9, &v11);
			VAL v12;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZ_directZBang(v11, v10, &v12);
			branch_ZPlusC99Branch_4 = v12;
		} break;
		case 3LL: { // +SConsLabel
			VAL v13;
			VAL v14;
			uint64_t v15 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_2, &v13, &v14);
			VAL v16;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusC99Branch_1, v13, &v16);
			VAL v17;
			mw_mirth_c99_pushZ_valueZ_labelZ_directZBang(v15, v16, v14, &v17);
			branch_ZPlusC99Branch_4 = v17;
		} break;
		case 4LL: { // +SWithLabel
			VAL v18;
			VAL v19;
			uint64_t v20 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_2, &v18, &v19);
			VAL v21;
			mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusC99Branch_1, v18, &v21);
			VAL v22;
			mw_mirth_c99_pushZ_resourceZ_labelZ_directZBang(v20, v21, v19, &v22);
			branch_ZPlusC99Branch_4 = v22;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_4;
}
static void mw_mirth_c99_ZPlusC99Stack_rdup (VAL in_ZPlusC99Stack_1, VAL *out_ZPlusC99Stack_2, VAL *out_ZPlusC99Stack_3) {
	VAL branch_ZPlusC99Stack_4;
	VAL branch_ZPlusC99Stack_5;
	switch (get_data_tag(in_ZPlusC99Stack_1)) {
		case 0LL: { // +SNil
			VAL v6 = MKI64(0LL /* +SNil */);
			VAL v7 = MKI64(0LL /* +SNil */);
			branch_ZPlusC99Stack_5 = v7;
			branch_ZPlusC99Stack_4 = v6;
		} break;
		case 1LL: { // +SCons
			VAL v8;
			VAL v9;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_1, &v8, &v9);
			VAL v10;
			VAL v11;
			mw_mirth_c99_ZPlusC99Stack_rdup(v8, &v10, &v11);
			VAL v12;
			VAL v13;
			mw_mirth_c99_ZPlusC99Value_rdup(v9, &v12, &v13);
			VAL v14;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons(v11, v13, &v14);
			VAL v15;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons(v10, v12, &v15);
			branch_ZPlusC99Stack_5 = v14;
			branch_ZPlusC99Stack_4 = v15;
		} break;
		case 2LL: { // +SWith
			VAL v16;
			VAL v17;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_1, &v16, &v17);
			VAL v18;
			VAL v19;
			mw_mirth_c99_ZPlusC99Stack_rdup(v16, &v18, &v19);
			VAL v20;
			VAL v21;
			mw_mirth_c99_ZPlusC99Resource_rdup(v17, &v20, &v21);
			VAL v22;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith(v19, v21, &v22);
			VAL v23;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith(v18, v20, &v23);
			branch_ZPlusC99Stack_5 = v22;
			branch_ZPlusC99Stack_4 = v23;
		} break;
		case 3LL: { // +SConsLabel
			VAL v24;
			VAL v25;
			uint64_t v26 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_1, &v24, &v25);
			VAL v27;
			VAL v28;
			mw_mirth_c99_ZPlusC99Stack_rdup(v24, &v27, &v28);
			VAL v29;
			VAL v30;
			mw_mirth_c99_ZPlusC99Value_rdup(v25, &v29, &v30);
			VAL v31;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v28, v30, v26, &v31);
			VAL v32;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(v27, v29, v26, &v32);
			branch_ZPlusC99Stack_5 = v31;
			branch_ZPlusC99Stack_4 = v32;
		} break;
		case 4LL: { // +SWithLabel
			VAL v33;
			VAL v34;
			uint64_t v35 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_1, &v33, &v34);
			VAL v36;
			VAL v37;
			mw_mirth_c99_ZPlusC99Stack_rdup(v33, &v36, &v37);
			VAL v38;
			VAL v39;
			mw_mirth_c99_ZPlusC99Resource_rdup(v34, &v38, &v39);
			VAL v40;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v37, v39, v35, &v40);
			VAL v41;
			mtw_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(v36, v38, v35, &v41);
			branch_ZPlusC99Stack_5 = v40;
			branch_ZPlusC99Stack_4 = v41;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Stack_3 = branch_ZPlusC99Stack_5;
	*out_ZPlusC99Stack_2 = branch_ZPlusC99Stack_4;
}
static void mw_mirth_c99_ZPlusC99Stack_rdrop (VAL in_ZPlusC99Stack_1) {
	switch (get_data_tag(in_ZPlusC99Stack_1)) {
		case 0LL: { // +SNil
		} break;
		case 1LL: { // +SCons
			VAL v2;
			VAL v3;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSCons(in_ZPlusC99Stack_1, &v2, &v3);
			mw_mirth_c99_ZPlusC99Value_rdrop(v3);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v2);
		} break;
		case 2LL: { // +SWith
			VAL v4;
			VAL v5;
			mtp_mirth_c99_ZPlusC99Stack_ZPlusSWith(in_ZPlusC99Stack_1, &v4, &v5);
			mw_mirth_c99_ZPlusC99Resource_rdrop(v5);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v4);
		} break;
		case 3LL: { // +SConsLabel
			VAL v6;
			VAL v7;
			uint64_t v8 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSConsLabel(in_ZPlusC99Stack_1, &v6, &v7);
			mw_mirth_c99_ZPlusC99Value_rdrop(v7);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v6);
		} break;
		case 4LL: { // +SWithLabel
			VAL v9;
			VAL v10;
			uint64_t v11 = mtp_mirth_c99_ZPlusC99Stack_ZPlusSWithLabel(in_ZPlusC99Stack_1, &v9, &v10);
			mw_mirth_c99_ZPlusC99Resource_rdrop(v10);
			mw_mirth_c99_ZPlusC99Stack_rdrop(v9);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
}
static void mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang (VAL in_StackType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99BranchSplit_3) {
	int64_t v4 = 3LL /* Branch */;
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	int64_t v6;
	VAL v7;
	VAL v8 = mw_mirth_c99_ZPlusC99_stackZ_typeZ_toZ_c99Z_apiZ_params(in_StackType_1, v4, v5, &v6, &v7);
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v7;
	incref(v8);
	int64_t v9 = 1LL /* True */;
	VAL v10 = in_ZPlusC99Branch_2;
	VAL v11 = v8;
	int64_t v12 = v9;
	int64_t v13 = v9;
	while (((bool)v13)) {
		VAL v14 = v10;
		VAL v15 = v11;
		int64_t v16 = v12;
		VAL branch_ZPlusC99Branch_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v15, &v20);
				VAL v22;
				mw_mirth_c99_C99APIArg_reserveZ_asZ_isZBang(v21, v14, &v22);
				int64_t v23 = 1LL /* True */;
				branch_Bool_19 = v23;
				branch_List_18 = v20;
				branch_ZPlusC99Branch_17 = v22;
			} break;
			case 0LL: { // Nil
				VAL v24 = MKI64(0LL /* Nil */);
				int64_t v25 = 0LL /* False */;
				branch_Bool_19 = v25;
				branch_List_18 = v24;
				branch_ZPlusC99Branch_17 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_19;
		v12 = branch_Bool_19;
		v11 = branch_List_18;
		v10 = branch_ZPlusC99Branch_17;
	}
	decref(v11);
	VAL v26;
	VAL v27;
	VAL v28;
	int64_t v29;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v10, &v26, &v27, &v28, &v29);
	int64_t v30 = 0LL /* False */;
	VAL v31;
	mtw_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit(v26, v27, v28, v8, v29, v30, &v31);
	*out_ZPlusC99BranchSplit_3 = v31;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99Branch_2) {
	VAL v3;
	VAL v4;
	VAL v5;
	VAL v6;
	int64_t v7;
	int64_t v8;
	mtp_mirth_c99_ZPlusC99BranchSplit_ZPlusC99BranchSplit(in_ZPlusC99BranchSplit_1, &v3, &v4, &v5, &v6, &v7, &v8);
	mw_mirth_c99_ZPlusC99Stack_rdrop(v4);
	VAL v9;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(v3, v8, v5, &v9);
	VAL v10;
	mw_std_list_List_1_for_1_sp16(v9, v6, &v10);
	*out_ZPlusC99Branch_2 = v10;
}
static VAL mw_mirth_c99_ZPlusC99Branch_varZ_lookup (VAL in_ZPlusC99Branch_1, uint64_t in_Var_2, VAL *out_ZPlusC99Branch_3) {
	VAL v5 = VTUP(in_ZPlusC99Branch_1)->cells[3];
	incref(v5);
	VAL v6 = MKI64(0LL /* None */);
	int64_t v7 = 1LL /* True */;
	uint64_t v8 = in_Var_2;
	VAL v9 = v6;
	VAL v10 = v5;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		uint64_t v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL v17;
		VAL v18 = mw_std_list_List_1_uncons(v15, &v17);
		uint64_t branch_Var_19;
		VAL branch_Maybe_20;
		VAL branch_List_21;
		int64_t branch_Bool_22;
		switch (get_data_tag(v18)) {
			case 1LL: { // Some
				VAL v23 = mtp_std_maybe_Maybe_1_Some(v18);
				incref(v23);
				uint64_t v24 = value_u64(VTUP(v23)->cells[1]);
				decref(v23);
				int64_t v25 = mw_mirth_var_Var_index(v13);
				int64_t v26 = mw_mirth_var_Var_index(v24);
				bool v27 = (v25 == v26);
				uint64_t branch_Var_28;
				VAL branch_Maybe_29;
				if (v27) {
					VAL v30 = mtw_std_maybe_Maybe_1_Some(v23);
					branch_Maybe_29 = v30;
					branch_Var_28 = v13;
				} else {
					decref(v23);
					VAL v31 = MKI64(0LL /* None */);
					branch_Maybe_29 = v31;
					branch_Var_28 = v13;
				}
				uint64_t branch_Var_32;
				VAL branch_Maybe_33;
				VAL branch_List_34;
				switch (get_data_tag(branch_Maybe_29)) {
					case 0LL: { // None
						branch_List_34 = v17;
						branch_Maybe_33 = v14;
						branch_Var_32 = branch_Var_28;
					} break;
					default: {
						decref(v17);
						decref(v14);
						VAL v35 = MKI64(0LL /* Nil */);
						branch_List_34 = v35;
						branch_Maybe_33 = branch_Maybe_29;
						branch_Var_32 = branch_Var_28;
					} break;
				}
				int64_t v36 = 1LL /* True */;
				branch_Bool_22 = v36;
				branch_List_21 = branch_List_34;
				branch_Maybe_20 = branch_Maybe_33;
				branch_Var_19 = branch_Var_32;
			} break;
			case 0LL: { // None
				int64_t v37 = 0LL /* False */;
				branch_Bool_22 = v37;
				branch_List_21 = v17;
				branch_Maybe_20 = v14;
				branch_Var_19 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_22;
		v11 = branch_Bool_22;
		v10 = branch_List_21;
		v9 = branch_Maybe_20;
		v8 = branch_Var_19;
	}
	decref(v10);
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_1;
	return v9;
}
static void mw_mirth_c99_ZPlusC99Branch_varZ_getZBang (VAL in_ZPlusC99Branch_1, uint64_t in_Var_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4) {
	VAL v5;
	VAL v6 = mw_mirth_c99_ZPlusC99Branch_varZ_lookup(in_ZPlusC99Branch_1, in_Var_2, &v5);
	VAL branch_ZPlusC99Branch_7;
	VAL branch_z_x1_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_8 = v9;
			branch_ZPlusC99Branch_7 = v5;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "[c99] variable unexpectedly missing from environment", 52);
			VAL v11;
			mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v10), v5, &v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v13;
	VAL v14;
	VAL v15;
	mtp_mirth_c99_C99Var_C99Var(branch_z_x1_8, &v13, &v14, &v15);
	VAL v16;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v15, v14, &v16);
	*out_ZPlusC99Value_4 = v16;
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_7;
}
static void mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang (VAL in_ZPlusC99Branch_1, uint64_t in_Var_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4) {
	VAL v5;
	VAL v6;
	mw_mirth_c99_ZPlusC99Branch_varZ_getZBang(in_ZPlusC99Branch_1, in_Var_2, &v5, &v6);
	VAL v7;
	VAL v8;
	VAL v9;
	mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(v5, v6, &v7, &v8, &v9);
	mw_mirth_c99_ZPlusC99Value_rdrop(v9);
	*out_ZPlusC99Value_4 = v8;
	*out_ZPlusC99Branch_3 = v7;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang (VAL in_ZPlusC99Branch_1, uint64_t in_Var_2, VAL in_ZPlusC99Value_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5;
	VAL v6;
	mtp_mirth_c99_ZPlusC99Value_ZPlusC99Value(in_ZPlusC99Value_3, &v5, &v6);
	VAL v7 = mtw_mirth_c99_C99Var_C99Var(in_Var_2, v6, v5);
	VAL v8 = VTUP(in_ZPlusC99Branch_1)->cells[3];
	incref(v8);
	VAL v9 = mtw_std_list_List_1_Cons(v7, v8);
	VAL v10 = VTUP(in_ZPlusC99Branch_1)->cells[3];
	decref(v10);
	VTUP(in_ZPlusC99Branch_1)->cells[3] = v9;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_1;
}
static uint64_t mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99Branch_2, VAL *out_ZPlusC99Value_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_1)->cells[3];
	incref(v5);
	VAL v6;
	VAL v7 = mw_std_list_List_1_uncons(v5, &v6);
	VAL v8 = VTUP(in_ZPlusC99Branch_1)->cells[3];
	decref(v8);
	VTUP(in_ZPlusC99Branch_1)->cells[3] = v6;
	VAL branch_ZPlusC99Branch_9;
	VAL branch_z_x1_10;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_z_x1_10 = v11;
			branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_1;
		} break;
		case 0LL: { // None
			STR* v12;
			STRLIT(v12, "[c99] variable environment unexpectedly empty", 45);
			VAL v13;
			mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v12), in_ZPlusC99Branch_1, &v13);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t v15;
	VAL v16;
	VAL v17;
	mtp_mirth_c99_C99Var_C99Var(branch_z_x1_10, &v15, &v16, &v17);
	VAL v18;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(v17, v16, &v18);
	*out_ZPlusC99Value_4 = v18;
	*out_ZPlusC99Branch_2 = branch_ZPlusC99Branch_9;
	return v15;
}
static void mw_mirth_c99_ZPlusC99_startZ_branchZBang (VAL in_ZPlusC99_1, int64_t in_Bool_2, VAL in_List_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = MKI64(0LL /* +SNil */);
	VAL v6;
	mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(in_ZPlusC99_1, v5, in_List_3, in_Bool_2, &v6);
	*out_ZPlusC99Branch_4 = v6;
}
static void mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99_2, int64_t *out_Bool_3, VAL *out_List_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_1)->cells[2];
	VAL v6 = MKI64(0LL /* +SNil */);
	VTUP(in_ZPlusC99Branch_1)->cells[2] = v6;
	VAL v7;
	mw_mirth_c99_ZPlusC99Stack_pushZ_stackZ_directZBang(in_ZPlusC99Branch_1, v5, &v7);
	VAL v8;
	VAL v9;
	VAL v10;
	int64_t v11;
	mtp_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v7, &v8, &v9, &v10, &v11);
	mw_mirth_c99_ZPlusC99Stack_rdrop(v9);
	*out_List_4 = v10;
	*out_Bool_3 = v11;
	*out_ZPlusC99_2 = v8;
}
static void mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang (VAL in_ZPlusC99Branch_1, VAL *out_ZPlusC99Branch_2) {
	VAL v3;
	int64_t v4;
	VAL v5;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(in_ZPlusC99Branch_1, &v3, &v4, &v5);
	VAL v6;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(v3, v4, v5, &v6);
	*out_ZPlusC99Branch_2 = v6;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_C99ReprType_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Value_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_1)->cells[2];
	VAL v6;
	VAL v7;
	mw_mirth_c99_ZPlusC99Stack_popZ_valueZAsk(v5, &v6, &v7);
	VTUP(in_ZPlusC99Branch_1)->cells[2] = v7;
	VAL branch_ZPlusC99Branch_8;
	VAL branch_ZPlusC99Value_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // +C99ValueSome
			VAL v10;
			mtp_mirth_c99_ZPlusC99ValueZAsk_ZPlusC99ValueSome(v6, &v10);
			decref(in_C99ReprType_2);
			branch_ZPlusC99Value_9 = v10;
			branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_1;
		} break;
		case 0LL: { // +C99ValueNone
			VAL v11;
			VAL v12;
			mw_mirth_c99_C99ReprType_popZ_valueZ_directZBang(in_C99ReprType_2, in_ZPlusC99Branch_1, &v11, &v12);
			branch_ZPlusC99Value_9 = v12;
			branch_ZPlusC99Branch_8 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Value_4 = branch_ZPlusC99Value_9;
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_8;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang (VAL in_C99ReprType_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Value_5) {
	VAL v6 = VTUP(in_ZPlusC99Branch_3)->cells[2];
	VAL v7;
	VAL v8;
	uint64_t v9 = mw_mirth_c99_ZPlusC99Stack_popZ_valueZ_labelZAsk(in_Label_2, v6, &v7, &v8);
	VTUP(in_ZPlusC99Branch_3)->cells[2] = v8;
	VAL branch_ZPlusC99Branch_10;
	VAL branch_ZPlusC99Value_11;
	switch (get_data_tag(v7)) {
		case 1LL: { // +C99ValueSome
			VAL v12;
			mtp_mirth_c99_ZPlusC99ValueZAsk_ZPlusC99ValueSome(v7, &v12);
			decref(in_C99ReprType_1);
			branch_ZPlusC99Value_11 = v12;
			branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_3;
		} break;
		case 0LL: { // +C99ValueNone
			VAL v13;
			VAL v14;
			mw_mirth_c99_popZ_valueZ_labelZ_directZBang(in_C99ReprType_1, v9, in_ZPlusC99Branch_3, &v13, &v14);
			branch_ZPlusC99Value_11 = v14;
			branch_ZPlusC99Branch_10 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Value_5 = branch_ZPlusC99Value_11;
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_10;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang (VAL in_ZPlusC99Branch_1, VAL in_C99ReprType_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99Resource_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_1)->cells[2];
	VAL v6;
	VAL v7;
	mw_mirth_c99_ZPlusC99Stack_popZ_resourceZAsk(v5, &v6, &v7);
	VTUP(in_ZPlusC99Branch_1)->cells[2] = v7;
	VAL branch_ZPlusC99Branch_8;
	VAL branch_ZPlusC99Resource_9;
	switch (get_data_tag(v6)) {
		case 1LL: { // +C99ResourceSome
			VAL v10;
			mtp_mirth_c99_ZPlusC99ResourceZAsk_ZPlusC99ResourceSome(v6, &v10);
			decref(in_C99ReprType_2);
			branch_ZPlusC99Resource_9 = v10;
			branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_1;
		} break;
		case 0LL: { // +C99ResourceNone
			VAL v11;
			VAL v12;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_directZBang(in_ZPlusC99Branch_1, in_C99ReprType_2, &v11, &v12);
			branch_ZPlusC99Resource_9 = v12;
			branch_ZPlusC99Branch_8 = v11;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Resource_4 = branch_ZPlusC99Resource_9;
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_8;
}
static void mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang (VAL in_C99ReprType_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Resource_5) {
	VAL v6 = VTUP(in_ZPlusC99Branch_3)->cells[2];
	VAL v7;
	VAL v8;
	uint64_t v9 = mw_mirth_c99_ZPlusC99Stack_popZ_resourceZ_labelZAsk(in_Label_2, v6, &v7, &v8);
	VTUP(in_ZPlusC99Branch_3)->cells[2] = v8;
	VAL branch_ZPlusC99Branch_10;
	VAL branch_ZPlusC99Resource_11;
	switch (get_data_tag(v7)) {
		case 1LL: { // +C99ResourceSome
			VAL v12;
			mtp_mirth_c99_ZPlusC99ResourceZAsk_ZPlusC99ResourceSome(v7, &v12);
			decref(in_C99ReprType_1);
			branch_ZPlusC99Resource_11 = v12;
			branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_3;
		} break;
		case 0LL: { // +C99ResourceNone
			VAL v13;
			VAL v14;
			mw_mirth_c99_popZ_resourceZ_labelZ_directZBang(in_C99ReprType_1, v9, in_ZPlusC99Branch_3, &v13, &v14);
			branch_ZPlusC99Resource_11 = v14;
			branch_ZPlusC99Branch_10 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Resource_5 = branch_ZPlusC99Resource_11;
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_10;
}
static void mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Branch_1)->cells[2];
	VAL v5;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusSCons(v4, in_ZPlusC99Value_2, &v5);
	VTUP(in_ZPlusC99Branch_1)->cells[2] = v5;
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_1;
}
static void mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Resource_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Branch_1)->cells[2];
	VAL v5;
	mtw_mirth_c99_ZPlusC99Stack_ZPlusSWith(v4, in_ZPlusC99Resource_2, &v5);
	VTUP(in_ZPlusC99Branch_1)->cells[2] = v5;
	*out_ZPlusC99Branch_3 = in_ZPlusC99Branch_1;
}
static VAL mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr (VAL in_Type_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_type_Type_c99Z_repr(in_Type_1, v6, &v7);
	VTUP(v5)->cells[7] = v7;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v5;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
	return v8;
}
static VAL mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr (VAL in_Resource_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_type_Resource_c99Z_repr(in_Resource_1, v6, &v7);
	VTUP(v5)->cells[7] = v7;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v5;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
	return v8;
}
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang (VAL in_StackType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Value_5) {
	VAL v6 = mw_mirth_type_StackType_forceZ_consZAskZBang(in_StackType_1);
	VAL branch_ZPlusC99Branch_7;
	VAL branch_z_x1_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_8 = v9;
			branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "c99 error: tried to pop from invalid stack type", 47);
			VAL v11;
			mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v10), in_ZPlusC99Branch_2, &v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v13 = value_tup(branch_z_x1_8, 2)->cells[0];
	VAL v14 = value_tup(branch_z_x1_8, 2)->cells[1];
	tup_decref_outer(value_tup(branch_z_x1_8, 2), 2);
	VAL v15;
	VAL v16 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v14, branch_ZPlusC99Branch_7, &v15);
	VAL v17;
	VAL v18;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v15, v16, &v17, &v18);
	*out_ZPlusC99Value_5 = v18;
	*out_ZPlusC99Branch_4 = v17;
	return v13;
}
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang (VAL in_StackType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Resource_5) {
	VAL v6 = mw_mirth_type_StackType_forceZ_withZAskZBang(in_StackType_1);
	VAL branch_ZPlusC99Branch_7;
	VAL branch_z_x1_8;
	switch (get_data_tag(v6)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v6);
			branch_z_x1_8 = v9;
			branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
		} break;
		case 0LL: { // None
			STR* v10;
			STRLIT(v10, "c99 error: tried to pop from invalid stack type", 47);
			VAL v11;
			mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v10), in_ZPlusC99Branch_2, &v11);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v13 = value_tup(branch_z_x1_8, 2)->cells[0];
	VAL v14 = value_tup(branch_z_x1_8, 2)->cells[1];
	tup_decref_outer(value_tup(branch_z_x1_8, 2), 2);
	VAL v15;
	VAL v16 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v14, branch_ZPlusC99Branch_7, &v15);
	VAL v17;
	VAL v18;
	mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v15, v16, &v17, &v18);
	*out_ZPlusC99Resource_5 = v18;
	*out_ZPlusC99Branch_4 = v17;
	return v13;
}
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZ_fromZ_stackZ_typeZBang (uint64_t in_Label_1, VAL in_StackType_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_5, VAL *out_ZPlusC99Value_6) {
	VAL v7 = mw_mirth_type_StackType_forceZ_consZ_labelZAskZBang(in_Label_1, in_StackType_2);
	VAL branch_ZPlusC99Branch_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_z_x1_9 = v10;
			branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_3;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "c99 error: tried to pop from invalid stack type", 47);
			VAL v12;
			mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v11), in_ZPlusC99Branch_3, &v12);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v14 = value_tup(branch_z_x1_9, 2)->cells[0];
	VAL v15 = value_tup(branch_z_x1_9, 2)->cells[1];
	tup_decref_outer(value_tup(branch_z_x1_9, 2), 2);
	VAL v16;
	VAL v17 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v15, branch_ZPlusC99Branch_8, &v16);
	VAL v18;
	VAL v19;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v17, in_Label_1, v16, &v18, &v19);
	*out_ZPlusC99Value_6 = v19;
	*out_ZPlusC99Branch_5 = v18;
	return v14;
}
static VAL mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZ_fromZ_stackZ_typeZBang (uint64_t in_Label_1, VAL in_StackType_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_5, VAL *out_ZPlusC99Resource_6) {
	VAL v7 = mw_mirth_type_StackType_forceZ_withZ_labelZAskZBang(in_Label_1, in_StackType_2);
	VAL branch_ZPlusC99Branch_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_z_x1_9 = v10;
			branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_3;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "c99 error: tried to pop from invalid stack type", 47);
			VAL v12;
			mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v11), in_ZPlusC99Branch_3, &v12);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v14 = value_tup(branch_z_x1_9, 2)->cells[0];
	VAL v15 = value_tup(branch_z_x1_9, 2)->cells[1];
	tup_decref_outer(value_tup(branch_z_x1_9, 2), 2);
	VAL v16;
	VAL v17 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v15, branch_ZPlusC99Branch_8, &v16);
	VAL v18;
	VAL v19;
	mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v17, in_Label_1, v16, &v18, &v19);
	*out_ZPlusC99Resource_6 = v19;
	*out_ZPlusC99Branch_5 = v18;
	return v14;
}
static void mw_mirth_c99_c99Z_primZBang (VAL in_Atom_1, int64_t in_Prim_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL branch_ZPlusC99Branch_5;
	switch (in_Prim_2) {
		case 0LL: { // PRIM_CORE_ID
			decref(in_Atom_1);
			branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_3;
		} break;
		case 2LL: { // PRIM_CORE_DROP
			VAL v6 = VTUP(in_Atom_1)->cells[6];
			incref(v6);
			decref(in_Atom_1);
			VAL v7;
			VAL v8;
			VAL v9 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(v6, in_ZPlusC99Branch_3, &v7, &v8);
			decref(v9);
			VAL v10;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v7, v8, &v10);
			branch_ZPlusC99Branch_5 = v10;
		} break;
		case 1LL: { // PRIM_CORE_DUP
			VAL v11 = VTUP(in_Atom_1)->cells[6];
			incref(v11);
			decref(in_Atom_1);
			VAL v12;
			VAL v13;
			VAL v14 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(v11, in_ZPlusC99Branch_3, &v12, &v13);
			decref(v14);
			VAL v15;
			VAL v16;
			VAL v17;
			mw_mirth_c99_ZPlusC99Value_dupZ_valueZBang(v12, v13, &v15, &v16, &v17);
			VAL v18;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v15, v16, &v18);
			VAL v19;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v18, v17, &v19);
			branch_ZPlusC99Branch_5 = v19;
		} break;
		case 3LL: { // PRIM_CORE_SWAP
			VAL v20 = VTUP(in_Atom_1)->cells[6];
			incref(v20);
			decref(in_Atom_1);
			VAL v21;
			VAL v22;
			VAL v23 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(v20, in_ZPlusC99Branch_3, &v21, &v22);
			VAL v24;
			VAL v25;
			VAL v26 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(v23, v21, &v24, &v25);
			decref(v26);
			VAL v27;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v24, v22, &v27);
			VAL v28;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v27, v25, &v28);
			branch_ZPlusC99Branch_5 = v28;
		} break;
		case 4LL: { // PRIM_CORE_RSWAP
			VAL v29 = VTUP(in_Atom_1)->cells[6];
			incref(v29);
			decref(in_Atom_1);
			VAL v30;
			VAL v31;
			VAL v32 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(v29, in_ZPlusC99Branch_3, &v30, &v31);
			VAL v33;
			VAL v34;
			VAL v35 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(v32, v30, &v33, &v34);
			decref(v35);
			VAL v36;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v33, v31, &v36);
			VAL v37;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v36, v34, &v37);
			branch_ZPlusC99Branch_5 = v37;
		} break;
		case 5LL: { // PRIM_CORE_DIP
			incref(in_Atom_1);
			VAL v38 = VTUP(in_Atom_1)->cells[5];
			incref(v38);
			decref(in_Atom_1);
			VAL v39 = mw_std_list_List_1_ZDivL1(v38);
			VAL branch_ZPlusC99Branch_40;
			VAL branch_Atom_41;
			VAL branch_z_x1_42;
			switch (get_data_tag(v39)) {
				case 1LL: { // Some
					VAL v43 = mtp_std_maybe_Maybe_1_Some(v39);
					branch_z_x1_42 = v43;
					branch_Atom_41 = in_Atom_1;
					branch_ZPlusC99Branch_40 = in_ZPlusC99Branch_3;
				} break;
				case 0LL: { // None
					uint64_t v44 = value_u64(VTUP(in_Atom_1)->cells[2]);
					decref(in_Atom_1);
					STR* v45;
					STRLIT(v45, "unexpected number of arguments to PRIM_CORE_DIP", 47);
					VAL v46;
					mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13(v44, MKSTR(v45), in_ZPlusC99Branch_3, &v46);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v49 = VTUP(branch_Atom_41)->cells[6];
			incref(v49);
			decref(branch_Atom_41);
			VAL v50;
			VAL v51;
			VAL v52 = mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_fromZ_stackZ_typeZBang(v49, branch_ZPlusC99Branch_40, &v50, &v51);
			decref(v52);
			VAL v53;
			mw_mirth_c99_c99Z_argZ_runZBang(value_u64(branch_z_x1_42), v50, &v53);
			VAL v54;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v53, v51, &v54);
			branch_ZPlusC99Branch_5 = v54;
		} break;
		case 6LL: { // PRIM_CORE_RDIP
			incref(in_Atom_1);
			VAL v55 = VTUP(in_Atom_1)->cells[5];
			incref(v55);
			decref(in_Atom_1);
			VAL v56 = mw_std_list_List_1_ZDivL1(v55);
			VAL branch_ZPlusC99Branch_57;
			VAL branch_Atom_58;
			VAL branch_z_x1_59;
			switch (get_data_tag(v56)) {
				case 1LL: { // Some
					VAL v60 = mtp_std_maybe_Maybe_1_Some(v56);
					branch_z_x1_59 = v60;
					branch_Atom_58 = in_Atom_1;
					branch_ZPlusC99Branch_57 = in_ZPlusC99Branch_3;
				} break;
				case 0LL: { // None
					uint64_t v61 = value_u64(VTUP(in_Atom_1)->cells[2]);
					decref(in_Atom_1);
					STR* v62;
					STRLIT(v62, "unexpected number of arguments to PRIM_CORE_RDIP", 48);
					VAL v63;
					mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13(v61, MKSTR(v62), in_ZPlusC99Branch_3, &v63);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v66 = VTUP(branch_Atom_58)->cells[6];
			incref(v66);
			decref(branch_Atom_58);
			VAL v67;
			VAL v68;
			VAL v69 = mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_fromZ_stackZ_typeZBang(v66, branch_ZPlusC99Branch_57, &v67, &v68);
			decref(v69);
			VAL v70;
			mw_mirth_c99_c99Z_argZ_runZBang(value_u64(branch_z_x1_59), v67, &v70);
			VAL v71;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v70, v68, &v71);
			branch_ZPlusC99Branch_5 = v71;
		} break;
		case 7LL: { // PRIM_CORE_IF
			incref(in_Atom_1);
			VAL v72 = VTUP(in_Atom_1)->cells[5];
			incref(v72);
			decref(in_Atom_1);
			VAL v73 = mw_std_list_List_1_ZDivL2(v72);
			VAL branch_ZPlusC99Branch_74;
			VAL branch_Atom_75;
			VAL branch_z_x1_76;
			switch (get_data_tag(v73)) {
				case 1LL: { // Some
					VAL v77 = mtp_std_maybe_Maybe_1_Some(v73);
					branch_z_x1_76 = v77;
					branch_Atom_75 = in_Atom_1;
					branch_ZPlusC99Branch_74 = in_ZPlusC99Branch_3;
				} break;
				case 0LL: { // None
					uint64_t v78 = value_u64(VTUP(in_Atom_1)->cells[2]);
					decref(in_Atom_1);
					STR* v79;
					STRLIT(v79, "unexpected number of arguments to PRIM_CORE_IF", 46);
					VAL v80;
					mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13(v78, MKSTR(v79), in_ZPlusC99Branch_3, &v80);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v83 = value_tup(branch_z_x1_76, 2)->cells[0];
			VAL v84 = value_tup(branch_z_x1_76, 2)->cells[1];
			tup_decref_outer(value_tup(branch_z_x1_76, 2), 2);
			VAL v85 = MKI64(14LL /* C99RT_BOOL */);
			VAL v86;
			VAL v87;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(branch_ZPlusC99Branch_74, v85, &v86, &v87);
			VAL v88 = VTUP(v86)->cells[1];
			VAL v89 = VTUP(v88)->cells[7];
			VAL v90 = VTUP(branch_Atom_75)->cells[7];
			incref(v90);
			decref(branch_Atom_75);
			VTUP(v88)->cells[7] = v89;
			VTUP(v86)->cells[1] = v88;
			VAL v91;
			mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang(v90, v86, &v91);
			int64_t v92 = value_i64(VTUP(v91)->cells[5]);
			VAL v93 = VTUP(v91)->cells[1];
			int64_t v94 = value_i64(VTUP(v93)->cells[4]);
			bool v95 = (((bool)v92) && ((bool)v94));
			VTUP(v93)->cells[4] = MKBOOL(v95);
			VAL v96;
			mw_mirth_c99_ZPlusC99_indent(v93, &v96);
			STR* v97;
			STRLIT(v97, "if (", 4);
			VAL v98;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v97), v96, &v98);
			VAL v99 = MKI64(14LL /* C99RT_BOOL */);
			VAL v100 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v99, v87);
			VAL v101;
			mw_mirth_c99_ZPlusC99_put(v100, v98, &v101);
			STR* v102;
			STRLIT(v102, ") {", 3);
			VAL v103;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v102), v101, &v103);
			VAL v104;
			mw_mirth_c99_ZPlusC99_line(v103, &v104);
			VTUP(v104)->cells[4] = MKI64(v94);
			VTUP(v91)->cells[1] = v104;
			VAL v105 = VTUP(v91)->cells[1];
			int64_t v106 = value_i64(VTUP(v105)->cells[2]);
			int64_t v107 = 1LL;
			int64_t v108 = i64_add(v106, v107);
			VTUP(v105)->cells[2] = MKI64(v108);
			VTUP(v91)->cells[1] = v105;
			VAL v109 = VTUP(v91)->cells[2];
			VAL v110;
			VAL v111;
			mw_mirth_c99_ZPlusC99Stack_rdup(v109, &v110, &v111);
			VTUP(v91)->cells[2] = v110;
			VAL v112 = VTUP(v91)->cells[4];
			incref(v112);
			int64_t v113 = value_i64(VTUP(v91)->cells[5]);
			VAL v114 = VTUP(v91)->cells[3];
			incref(v114);
			VAL v115 = VTUP(v91)->cells[1];
			VAL v116;
			mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v115, v111, v114, v113, &v116);
			VAL v117;
			mw_mirth_c99_c99Z_argZ_runZBang(value_u64(v83), v116, &v117);
			VAL v118;
			mw_std_list_List_1_reverseZ_for_1_sp4(v117, v112, &v118);
			VAL v119;
			int64_t v120;
			VAL v121;
			mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v118, &v119, &v120, &v121);
			VTUP(v91)->cells[1] = v119;
			decref(v121);
			int64_t v122 = value_i64(VTUP(v91)->cells[6]);
			bool v123 = (((bool)v120) || ((bool)v122));
			VTUP(v91)->cells[6] = MKBOOL(v123);
			VAL v124 = VTUP(v91)->cells[1];
			int64_t v125 = value_i64(VTUP(v124)->cells[2]);
			int64_t v126 = 1LL;
			int64_t v127 = i64_sub(v125, v126);
			int64_t v128 = 0LL;
			bool v129 = (v127 < v128);
			int64_t branch_Nat_130;
			if (v129) {
				int64_t v131 = 0LL;
				branch_Nat_130 = v131;
			} else {
				branch_Nat_130 = v127;
			}
			VTUP(v124)->cells[2] = MKI64(branch_Nat_130);
			VTUP(v91)->cells[1] = v124;
			int64_t v132 = value_i64(VTUP(v91)->cells[5]);
			VAL v133 = VTUP(v91)->cells[1];
			int64_t v134 = value_i64(VTUP(v133)->cells[4]);
			bool v135 = (((bool)v132) && ((bool)v134));
			VTUP(v133)->cells[4] = MKBOOL(v135);
			VAL v136;
			mw_mirth_c99_ZPlusC99_indent(v133, &v136);
			STR* v137;
			STRLIT(v137, "} else {", 8);
			VAL v138;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v137), v136, &v138);
			VAL v139;
			mw_mirth_c99_ZPlusC99_line(v138, &v139);
			VTUP(v139)->cells[4] = MKI64(v134);
			VTUP(v91)->cells[1] = v139;
			VAL v140 = VTUP(v91)->cells[1];
			int64_t v141 = value_i64(VTUP(v140)->cells[2]);
			int64_t v142 = 1LL;
			int64_t v143 = i64_add(v141, v142);
			VTUP(v140)->cells[2] = MKI64(v143);
			VTUP(v91)->cells[1] = v140;
			VAL v144 = VTUP(v91)->cells[2];
			VAL v145;
			VAL v146;
			mw_mirth_c99_ZPlusC99Stack_rdup(v144, &v145, &v146);
			VTUP(v91)->cells[2] = v145;
			VAL v147 = VTUP(v91)->cells[4];
			incref(v147);
			int64_t v148 = value_i64(VTUP(v91)->cells[5]);
			VAL v149 = VTUP(v91)->cells[3];
			incref(v149);
			VAL v150 = VTUP(v91)->cells[1];
			VAL v151;
			mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v150, v146, v149, v148, &v151);
			VAL v152;
			mw_mirth_c99_c99Z_argZ_runZBang(value_u64(v84), v151, &v152);
			VAL v153;
			mw_std_list_List_1_reverseZ_for_1_sp4(v152, v147, &v153);
			VAL v154;
			int64_t v155;
			VAL v156;
			mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v153, &v154, &v155, &v156);
			VTUP(v91)->cells[1] = v154;
			decref(v156);
			int64_t v157 = value_i64(VTUP(v91)->cells[6]);
			bool v158 = (((bool)v155) || ((bool)v157));
			VTUP(v91)->cells[6] = MKBOOL(v158);
			VAL v159 = VTUP(v91)->cells[1];
			int64_t v160 = value_i64(VTUP(v159)->cells[2]);
			int64_t v161 = 1LL;
			int64_t v162 = i64_sub(v160, v161);
			int64_t v163 = 0LL;
			bool v164 = (v162 < v163);
			int64_t branch_Nat_165;
			if (v164) {
				int64_t v166 = 0LL;
				branch_Nat_165 = v166;
			} else {
				branch_Nat_165 = v162;
			}
			VTUP(v159)->cells[2] = MKI64(branch_Nat_165);
			VTUP(v91)->cells[1] = v159;
			VAL v167;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(v91, &v167);
			VAL v168;
			mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang(v167, &v168);
			branch_ZPlusC99Branch_5 = v168;
		} break;
		case 8LL: { // PRIM_CORE_WHILE
			incref(in_Atom_1);
			VAL v169 = VTUP(in_Atom_1)->cells[5];
			incref(v169);
			decref(in_Atom_1);
			VAL v170 = mw_std_list_List_1_ZDivL2(v169);
			VAL branch_ZPlusC99Branch_171;
			VAL branch_Atom_172;
			VAL branch_z_x1_173;
			switch (get_data_tag(v170)) {
				case 1LL: { // Some
					VAL v174 = mtp_std_maybe_Maybe_1_Some(v170);
					branch_z_x1_173 = v174;
					branch_Atom_172 = in_Atom_1;
					branch_ZPlusC99Branch_171 = in_ZPlusC99Branch_3;
				} break;
				case 0LL: { // None
					uint64_t v175 = value_u64(VTUP(in_Atom_1)->cells[2]);
					decref(in_Atom_1);
					STR* v176;
					STRLIT(v176, "unexpected number of arguments to PRIM_CORE_WHILE", 49);
					VAL v177;
					mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13(v175, MKSTR(v176), in_ZPlusC99Branch_3, &v177);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			decref(branch_Atom_172);
			VAL v180 = value_tup(branch_z_x1_173, 2)->cells[0];
			VAL v181 = value_tup(branch_z_x1_173, 2)->cells[1];
			tup_decref_outer(value_tup(branch_z_x1_173, 2), 2);
			incref(v180);
			VAL v182;
			mw_mirth_c99_c99Z_argZ_runZBang(value_u64(v180), branch_ZPlusC99Branch_171, &v182);
			VAL v183 = MKI64(14LL /* C99RT_BOOL */);
			VAL v184;
			VAL v185;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v182, v183, &v184, &v185);
			VAL v186;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v184, v185, &v186);
			VAL v187;
			mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang(v186, &v187);
			VAL v188 = VTUP(v187)->cells[2];
			VAL v189;
			VAL v190;
			mw_mirth_c99_ZPlusC99Stack_rdup(v188, &v189, &v190);
			VTUP(v187)->cells[2] = v189;
			VAL v191 = MKI64(14LL /* C99RT_BOOL */);
			incref(v191);
			VAL v192;
			VAL v193;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v187, v191, &v192, &v193);
			VAL v194 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v191, v193);
			int64_t v195 = value_i64(VTUP(v192)->cells[4]);
			VAL v196 = VTUP(v192)->cells[1];
			int64_t v197 = value_i64(VTUP(v196)->cells[4]);
			bool v198 = (((bool)v195) && ((bool)v197));
			VTUP(v196)->cells[4] = MKBOOL(v198);
			VAL v199;
			mw_mirth_c99_ZPlusC99_indent(v196, &v199);
			STR* v200;
			STRLIT(v200, "while (", 7);
			VAL v201;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v200), v199, &v201);
			VAL v202;
			mw_mirth_c99_ZPlusC99_put(v194, v201, &v202);
			STR* v203;
			STRLIT(v203, ") {", 3);
			VAL v204;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v203), v202, &v204);
			VAL v205;
			mw_mirth_c99_ZPlusC99_line(v204, &v205);
			VTUP(v205)->cells[4] = MKI64(v197);
			VTUP(v192)->cells[1] = v205;
			VAL v206 = VTUP(v192)->cells[1];
			int64_t v207 = value_i64(VTUP(v206)->cells[2]);
			int64_t v208 = 1LL;
			int64_t v209 = i64_add(v207, v208);
			VTUP(v206)->cells[2] = MKI64(v209);
			VTUP(v192)->cells[1] = v206;
			VAL v210;
			mw_mirth_c99_ZPlusC99Branch_refreshZ_branchZBang(v192, &v210);
			VAL v211;
			mw_mirth_c99_c99Z_argZ_runZBang(value_u64(v181), v210, &v211);
			VAL v212;
			mw_mirth_c99_c99Z_argZ_runZBang(value_u64(v180), v211, &v212);
			VAL v213;
			mw_mirth_c99_ZPlusC99Stack_tieZ_knotZBang(v212, v190, &v213);
			VAL v214 = VTUP(v213)->cells[1];
			int64_t v215 = value_i64(VTUP(v214)->cells[2]);
			int64_t v216 = 1LL;
			int64_t v217 = i64_sub(v215, v216);
			int64_t v218 = 0LL;
			bool v219 = (v217 < v218);
			int64_t branch_Nat_220;
			if (v219) {
				int64_t v221 = 0LL;
				branch_Nat_220 = v221;
			} else {
				branch_Nat_220 = v217;
			}
			VTUP(v214)->cells[2] = MKI64(branch_Nat_220);
			VTUP(v213)->cells[1] = v214;
			int64_t v222 = value_i64(VTUP(v213)->cells[4]);
			VAL v223 = VTUP(v213)->cells[1];
			VAL v224;
			mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23(v222, v223, &v224);
			VTUP(v213)->cells[1] = v224;
			VAL v225 = MKI64(14LL /* C99RT_BOOL */);
			VAL v226;
			VAL v227;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v213, v225, &v226, &v227);
			mw_mirth_c99_ZPlusC99Value_rdrop(v227);
			branch_ZPlusC99Branch_5 = v226;
		} break;
		case 9LL: { // PRIM_CORE_DEBUG
			decref(in_Atom_1);
			VAL v228;
			mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(in_ZPlusC99Branch_3, &v228);
			int64_t v229 = value_i64(VTUP(v228)->cells[4]);
			VAL v230 = VTUP(v228)->cells[1];
			int64_t v231 = value_i64(VTUP(v230)->cells[4]);
			bool v232 = (((bool)v229) && ((bool)v231));
			VTUP(v230)->cells[4] = MKBOOL(v232);
			VAL v233;
			mw_mirth_c99_ZPlusC99_indent(v230, &v233);
			STR* v234;
			STRLIT(v234, "trace_stack();", 14);
			VAL v235;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v234), v233, &v235);
			VAL v236;
			mw_mirth_c99_ZPlusC99_line(v235, &v236);
			VTUP(v236)->cells[4] = MKI64(v231);
			VTUP(v228)->cells[1] = v236;
			branch_ZPlusC99Branch_5 = v228;
		} break;
		case 10LL: { // PRIM_CORE_PANIC
			decref(in_Atom_1);
			VAL v237 = MKI64(2LL /* C99RT_STR */);
			incref(v237);
			VAL v238;
			VAL v239;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_3, v237, &v238, &v239);
			VAL v240 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v237, v239);
			int64_t v241 = value_i64(VTUP(v238)->cells[4]);
			VAL v242 = VTUP(v238)->cells[1];
			int64_t v243 = value_i64(VTUP(v242)->cells[4]);
			bool v244 = (((bool)v241) && ((bool)v243));
			VTUP(v242)->cells[4] = MKBOOL(v244);
			VAL v245;
			mw_mirth_c99_ZPlusC99_indent(v242, &v245);
			STR* v246;
			STRLIT(v246, "do_panic(", 9);
			VAL v247;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v246), v245, &v247);
			VAL v248;
			mw_mirth_c99_ZPlusC99_put(v240, v247, &v248);
			STR* v249;
			STRLIT(v249, ");", 2);
			VAL v250;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v249), v248, &v250);
			VAL v251;
			mw_mirth_c99_ZPlusC99_line(v250, &v251);
			VTUP(v251)->cells[4] = MKI64(v243);
			VTUP(v238)->cells[1] = v251;
			VAL v252 = VTUP(v238)->cells[2];
			mw_mirth_c99_ZPlusC99Stack_rdrop(v252);
			VAL v253 = MKI64(0LL /* +SNil */);
			VTUP(v238)->cells[2] = v253;
			int64_t v254 = 0LL /* False */;
			VTUP(v238)->cells[4] = MKI64(v254);
			branch_ZPlusC99Branch_5 = v238;
		} break;
		case 11LL: { // PRIM_CORE_RUN
			incref(in_Atom_1);
			VAL v255 = VTUP(in_Atom_1)->cells[5];
			incref(v255);
			decref(in_Atom_1);
			int64_t v256 = mw_std_list_List_1_emptyZAsk(v255);
			VAL branch_ZPlusC99Branch_257;
			VAL branch_Atom_258;
			if (((bool)v256)) {
				branch_Atom_258 = in_Atom_1;
				branch_ZPlusC99Branch_257 = in_ZPlusC99Branch_3;
			} else {
				uint64_t v259 = value_u64(VTUP(in_Atom_1)->cells[2]);
				decref(in_Atom_1);
				STR* v260;
				STRLIT(v260, "expected no arguments to prim-core-run", 38);
				VAL v261;
				mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13(v259, MKSTR(v260), in_ZPlusC99Branch_3, &v261);
			}
			decref(branch_Atom_258);
			VAL v263 = MKI64(1LL /* C99RT_VAL */);
			VAL v264;
			VAL v265;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(branch_ZPlusC99Branch_257, v263, &v264, &v265);
			VAL v266;
			mw_mirth_c99_ZPlusC99Value_runZ_valueZBang(v264, v265, &v266);
			branch_ZPlusC99Branch_5 = v266;
		} break;
		case 14LL: { // PRIM_INT_EQ
			decref(in_Atom_1);
			STR* v267;
			STRLIT(v267, "(", 1);
			VAL v268 = MKI64(4LL /* C99RT_I64 */);
			STR* v269;
			STRLIT(v269, " == ", 4);
			VAL v270 = MKI64(4LL /* C99RT_I64 */);
			STR* v271;
			STRLIT(v271, ")", 1);
			int64_t v272 = 0LL /* False */;
			VAL v273 = MKI64(14LL /* C99RT_BOOL */);
			VAL v274 = mtw_std_maybe_Maybe_1_Some(v273);
			VAL v275;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v267), v268, MKSTR(v269), v270, MKSTR(v271), v272, v274, in_ZPlusC99Branch_3, &v275);
			branch_ZPlusC99Branch_5 = v275;
		} break;
		case 15LL: { // PRIM_INT_LT
			decref(in_Atom_1);
			STR* v276;
			STRLIT(v276, "(", 1);
			VAL v277 = MKI64(4LL /* C99RT_I64 */);
			STR* v278;
			STRLIT(v278, " < ", 3);
			VAL v279 = MKI64(4LL /* C99RT_I64 */);
			STR* v280;
			STRLIT(v280, ")", 1);
			int64_t v281 = 0LL /* False */;
			VAL v282 = MKI64(14LL /* C99RT_BOOL */);
			VAL v283 = mtw_std_maybe_Maybe_1_Some(v282);
			VAL v284;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v276), v277, MKSTR(v278), v279, MKSTR(v280), v281, v283, in_ZPlusC99Branch_3, &v284);
			branch_ZPlusC99Branch_5 = v284;
		} break;
		case 16LL: { // PRIM_INT_LE
			decref(in_Atom_1);
			STR* v285;
			STRLIT(v285, "(", 1);
			VAL v286 = MKI64(4LL /* C99RT_I64 */);
			STR* v287;
			STRLIT(v287, " <= ", 4);
			VAL v288 = MKI64(4LL /* C99RT_I64 */);
			STR* v289;
			STRLIT(v289, ")", 1);
			int64_t v290 = 0LL /* False */;
			VAL v291 = MKI64(14LL /* C99RT_BOOL */);
			VAL v292 = mtw_std_maybe_Maybe_1_Some(v291);
			VAL v293;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v285), v286, MKSTR(v287), v288, MKSTR(v289), v290, v292, in_ZPlusC99Branch_3, &v293);
			branch_ZPlusC99Branch_5 = v293;
		} break;
		case 17LL: { // PRIM_INT_GT
			decref(in_Atom_1);
			STR* v294;
			STRLIT(v294, "(", 1);
			VAL v295 = MKI64(4LL /* C99RT_I64 */);
			STR* v296;
			STRLIT(v296, " > ", 3);
			VAL v297 = MKI64(4LL /* C99RT_I64 */);
			STR* v298;
			STRLIT(v298, ")", 1);
			int64_t v299 = 0LL /* False */;
			VAL v300 = MKI64(14LL /* C99RT_BOOL */);
			VAL v301 = mtw_std_maybe_Maybe_1_Some(v300);
			VAL v302;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v294), v295, MKSTR(v296), v297, MKSTR(v298), v299, v301, in_ZPlusC99Branch_3, &v302);
			branch_ZPlusC99Branch_5 = v302;
		} break;
		case 18LL: { // PRIM_INT_GE
			decref(in_Atom_1);
			STR* v303;
			STRLIT(v303, "(", 1);
			VAL v304 = MKI64(4LL /* C99RT_I64 */);
			STR* v305;
			STRLIT(v305, " >= ", 4);
			VAL v306 = MKI64(4LL /* C99RT_I64 */);
			STR* v307;
			STRLIT(v307, ")", 1);
			int64_t v308 = 0LL /* False */;
			VAL v309 = MKI64(14LL /* C99RT_BOOL */);
			VAL v310 = mtw_std_maybe_Maybe_1_Some(v309);
			VAL v311;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v303), v304, MKSTR(v305), v306, MKSTR(v307), v308, v310, in_ZPlusC99Branch_3, &v311);
			branch_ZPlusC99Branch_5 = v311;
		} break;
		case 19LL: { // PRIM_INT_NE
			decref(in_Atom_1);
			STR* v312;
			STRLIT(v312, "(", 1);
			VAL v313 = MKI64(4LL /* C99RT_I64 */);
			STR* v314;
			STRLIT(v314, " != ", 4);
			VAL v315 = MKI64(4LL /* C99RT_I64 */);
			STR* v316;
			STRLIT(v316, ")", 1);
			int64_t v317 = 0LL /* False */;
			VAL v318 = MKI64(14LL /* C99RT_BOOL */);
			VAL v319 = mtw_std_maybe_Maybe_1_Some(v318);
			VAL v320;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v312), v313, MKSTR(v314), v315, MKSTR(v316), v317, v319, in_ZPlusC99Branch_3, &v320);
			branch_ZPlusC99Branch_5 = v320;
		} break;
		case 20LL: { // PRIM_INT_ADD
			decref(in_Atom_1);
			STR* v321;
			STRLIT(v321, "i64_add(", 8);
			VAL v322 = MKI64(4LL /* C99RT_I64 */);
			STR* v323;
			STRLIT(v323, ", ", 2);
			VAL v324 = MKI64(4LL /* C99RT_I64 */);
			STR* v325;
			STRLIT(v325, ")", 1);
			int64_t v326 = 0LL /* False */;
			VAL v327 = MKI64(4LL /* C99RT_I64 */);
			VAL v328 = mtw_std_maybe_Maybe_1_Some(v327);
			VAL v329;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v321), v322, MKSTR(v323), v324, MKSTR(v325), v326, v328, in_ZPlusC99Branch_3, &v329);
			branch_ZPlusC99Branch_5 = v329;
		} break;
		case 21LL: { // PRIM_INT_SUB
			decref(in_Atom_1);
			STR* v330;
			STRLIT(v330, "i64_sub(", 8);
			VAL v331 = MKI64(4LL /* C99RT_I64 */);
			STR* v332;
			STRLIT(v332, ", ", 2);
			VAL v333 = MKI64(4LL /* C99RT_I64 */);
			STR* v334;
			STRLIT(v334, ")", 1);
			int64_t v335 = 0LL /* False */;
			VAL v336 = MKI64(4LL /* C99RT_I64 */);
			VAL v337 = mtw_std_maybe_Maybe_1_Some(v336);
			VAL v338;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v330), v331, MKSTR(v332), v333, MKSTR(v334), v335, v337, in_ZPlusC99Branch_3, &v338);
			branch_ZPlusC99Branch_5 = v338;
		} break;
		case 22LL: { // PRIM_INT_MUL
			decref(in_Atom_1);
			STR* v339;
			STRLIT(v339, "i64_mul(", 8);
			VAL v340 = MKI64(4LL /* C99RT_I64 */);
			STR* v341;
			STRLIT(v341, ", ", 2);
			VAL v342 = MKI64(4LL /* C99RT_I64 */);
			STR* v343;
			STRLIT(v343, ")", 1);
			int64_t v344 = 0LL /* False */;
			VAL v345 = MKI64(4LL /* C99RT_I64 */);
			VAL v346 = mtw_std_maybe_Maybe_1_Some(v345);
			VAL v347;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v339), v340, MKSTR(v341), v342, MKSTR(v343), v344, v346, in_ZPlusC99Branch_3, &v347);
			branch_ZPlusC99Branch_5 = v347;
		} break;
		case 23LL: { // PRIM_INT_DIV
			decref(in_Atom_1);
			STR* v348;
			STRLIT(v348, "i64_div(", 8);
			VAL v349 = MKI64(4LL /* C99RT_I64 */);
			STR* v350;
			STRLIT(v350, ", ", 2);
			VAL v351 = MKI64(4LL /* C99RT_I64 */);
			STR* v352;
			STRLIT(v352, ")", 1);
			int64_t v353 = 0LL /* False */;
			VAL v354 = MKI64(4LL /* C99RT_I64 */);
			VAL v355 = mtw_std_maybe_Maybe_1_Some(v354);
			VAL v356;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v348), v349, MKSTR(v350), v351, MKSTR(v352), v353, v355, in_ZPlusC99Branch_3, &v356);
			branch_ZPlusC99Branch_5 = v356;
		} break;
		case 24LL: { // PRIM_INT_MOD
			decref(in_Atom_1);
			STR* v357;
			STRLIT(v357, "i64_mod(", 8);
			VAL v358 = MKI64(4LL /* C99RT_I64 */);
			STR* v359;
			STRLIT(v359, ", ", 2);
			VAL v360 = MKI64(4LL /* C99RT_I64 */);
			STR* v361;
			STRLIT(v361, ")", 1);
			int64_t v362 = 0LL /* False */;
			VAL v363 = MKI64(4LL /* C99RT_I64 */);
			VAL v364 = mtw_std_maybe_Maybe_1_Some(v363);
			VAL v365;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v357), v358, MKSTR(v359), v360, MKSTR(v361), v362, v364, in_ZPlusC99Branch_3, &v365);
			branch_ZPlusC99Branch_5 = v365;
		} break;
		case 25LL: { // PRIM_INT_AND
			decref(in_Atom_1);
			STR* v366;
			STRLIT(v366, "(", 1);
			VAL v367 = MKI64(8LL /* C99RT_U64 */);
			STR* v368;
			STRLIT(v368, " & ", 3);
			VAL v369 = MKI64(8LL /* C99RT_U64 */);
			STR* v370;
			STRLIT(v370, ")", 1);
			int64_t v371 = 0LL /* False */;
			VAL v372 = MKI64(8LL /* C99RT_U64 */);
			VAL v373 = mtw_std_maybe_Maybe_1_Some(v372);
			VAL v374;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v366), v367, MKSTR(v368), v369, MKSTR(v370), v371, v373, in_ZPlusC99Branch_3, &v374);
			branch_ZPlusC99Branch_5 = v374;
		} break;
		case 27LL: { // PRIM_INT_XOR
			decref(in_Atom_1);
			STR* v375;
			STRLIT(v375, "(", 1);
			VAL v376 = MKI64(8LL /* C99RT_U64 */);
			STR* v377;
			STRLIT(v377, " ^ ", 3);
			VAL v378 = MKI64(8LL /* C99RT_U64 */);
			STR* v379;
			STRLIT(v379, ")", 1);
			int64_t v380 = 0LL /* False */;
			VAL v381 = MKI64(8LL /* C99RT_U64 */);
			VAL v382 = mtw_std_maybe_Maybe_1_Some(v381);
			VAL v383;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v375), v376, MKSTR(v377), v378, MKSTR(v379), v380, v382, in_ZPlusC99Branch_3, &v383);
			branch_ZPlusC99Branch_5 = v383;
		} break;
		case 26LL: { // PRIM_INT_OR
			decref(in_Atom_1);
			STR* v384;
			STRLIT(v384, "(", 1);
			VAL v385 = MKI64(8LL /* C99RT_U64 */);
			STR* v386;
			STRLIT(v386, " | ", 3);
			VAL v387 = MKI64(8LL /* C99RT_U64 */);
			STR* v388;
			STRLIT(v388, ")", 1);
			int64_t v389 = 0LL /* False */;
			VAL v390 = MKI64(8LL /* C99RT_U64 */);
			VAL v391 = mtw_std_maybe_Maybe_1_Some(v390);
			VAL v392;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v384), v385, MKSTR(v386), v387, MKSTR(v388), v389, v391, in_ZPlusC99Branch_3, &v392);
			branch_ZPlusC99Branch_5 = v392;
		} break;
		case 28LL: { // PRIM_INT_SHL
			decref(in_Atom_1);
			STR* v393;
			STRLIT(v393, "u64_shl(", 8);
			VAL v394 = MKI64(8LL /* C99RT_U64 */);
			STR* v395;
			STRLIT(v395, ", ", 2);
			VAL v396 = MKI64(8LL /* C99RT_U64 */);
			STR* v397;
			STRLIT(v397, ")", 1);
			int64_t v398 = 0LL /* False */;
			VAL v399 = MKI64(8LL /* C99RT_U64 */);
			VAL v400 = mtw_std_maybe_Maybe_1_Some(v399);
			VAL v401;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v393), v394, MKSTR(v395), v396, MKSTR(v397), v398, v400, in_ZPlusC99Branch_3, &v401);
			branch_ZPlusC99Branch_5 = v401;
		} break;
		case 29LL: { // PRIM_INT_SHR
			decref(in_Atom_1);
			STR* v402;
			STRLIT(v402, "u64_shr(", 8);
			VAL v403 = MKI64(8LL /* C99RT_U64 */);
			STR* v404;
			STRLIT(v404, ", ", 2);
			VAL v405 = MKI64(8LL /* C99RT_U64 */);
			STR* v406;
			STRLIT(v406, ")", 1);
			int64_t v407 = 0LL /* False */;
			VAL v408 = MKI64(8LL /* C99RT_U64 */);
			VAL v409 = mtw_std_maybe_Maybe_1_Some(v408);
			VAL v410;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v402), v403, MKSTR(v404), v405, MKSTR(v406), v407, v409, in_ZPlusC99Branch_3, &v410);
			branch_ZPlusC99Branch_5 = v410;
		} break;
		case 31LL: { // PRIM_INT_TO_I64
			decref(in_Atom_1);
			branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_3;
		} break;
		case 32LL: { // PRIM_INT_TO_F32
			decref(in_Atom_1);
			STR* v411;
			STRLIT(v411, "(float)", 7);
			VAL v412 = MKI64(4LL /* C99RT_I64 */);
			STR* v413;
			STRLIT(v413, "", 0);
			VAL v414 = MKI64(13LL /* C99RT_F32 */);
			VAL v415 = mtw_std_maybe_Maybe_1_Some(v414);
			VAL v416;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v411), v412, MKSTR(v413), v415, in_ZPlusC99Branch_3, &v416);
			branch_ZPlusC99Branch_5 = v416;
		} break;
		case 33LL: { // PRIM_INT_TO_F64
			decref(in_Atom_1);
			STR* v417;
			STRLIT(v417, "(double)", 8);
			VAL v418 = MKI64(4LL /* C99RT_I64 */);
			STR* v419;
			STRLIT(v419, "", 0);
			VAL v420 = MKI64(12LL /* C99RT_F64 */);
			VAL v421 = mtw_std_maybe_Maybe_1_Some(v420);
			VAL v422;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v417), v418, MKSTR(v419), v421, in_ZPlusC99Branch_3, &v422);
			branch_ZPlusC99Branch_5 = v422;
		} break;
		case 30LL: { // PRIM_INT_TO_STR
			decref(in_Atom_1);
			STR* v423;
			STRLIT(v423, "i64_show(", 9);
			VAL v424 = MKI64(4LL /* C99RT_I64 */);
			STR* v425;
			STRLIT(v425, ")", 1);
			VAL v426 = MKI64(2LL /* C99RT_STR */);
			VAL v427 = mtw_std_maybe_Maybe_1_Some(v426);
			VAL v428;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v423), v424, MKSTR(v425), v427, in_ZPlusC99Branch_3, &v428);
			branch_ZPlusC99Branch_5 = v428;
		} break;
		case 34LL: { // PRIM_U8_GET
			decref(in_Atom_1);
			STR* v429;
			STRLIT(v429, "*(uint8_t*)", 11);
			VAL v430 = MKI64(15LL /* C99RT_PTR */);
			STR* v431;
			STRLIT(v431, "", 0);
			VAL v432 = MKI64(11LL /* C99RT_U8 */);
			VAL v433 = mtw_std_maybe_Maybe_1_Some(v432);
			VAL v434;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v429), v430, MKSTR(v431), v433, in_ZPlusC99Branch_3, &v434);
			branch_ZPlusC99Branch_5 = v434;
		} break;
		case 35LL: { // PRIM_U8_SET
			decref(in_Atom_1);
			STR* v435;
			STRLIT(v435, "*(uint8_t*)", 11);
			VAL v436 = MKI64(15LL /* C99RT_PTR */);
			STR* v437;
			STRLIT(v437, " = ", 3);
			VAL v438 = MKI64(11LL /* C99RT_U8 */);
			STR* v439;
			STRLIT(v439, ";", 1);
			int64_t v440 = 1LL /* True */;
			VAL v441 = MKI64(0LL /* None */);
			VAL v442;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v435), v436, MKSTR(v437), v438, MKSTR(v439), v440, v441, in_ZPlusC99Branch_3, &v442);
			branch_ZPlusC99Branch_5 = v442;
		} break;
		case 36LL: { // PRIM_U16_GET
			decref(in_Atom_1);
			STR* v443;
			STRLIT(v443, "*(uint16_t*)", 12);
			VAL v444 = MKI64(15LL /* C99RT_PTR */);
			STR* v445;
			STRLIT(v445, "", 0);
			VAL v446 = MKI64(10LL /* C99RT_U16 */);
			VAL v447 = mtw_std_maybe_Maybe_1_Some(v446);
			VAL v448;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v443), v444, MKSTR(v445), v447, in_ZPlusC99Branch_3, &v448);
			branch_ZPlusC99Branch_5 = v448;
		} break;
		case 37LL: { // PRIM_U16_SET
			decref(in_Atom_1);
			STR* v449;
			STRLIT(v449, "*(uint16_t*)", 12);
			VAL v450 = MKI64(15LL /* C99RT_PTR */);
			STR* v451;
			STRLIT(v451, " = ", 3);
			VAL v452 = MKI64(10LL /* C99RT_U16 */);
			STR* v453;
			STRLIT(v453, ";", 1);
			int64_t v454 = 1LL /* True */;
			VAL v455 = MKI64(0LL /* None */);
			VAL v456;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v449), v450, MKSTR(v451), v452, MKSTR(v453), v454, v455, in_ZPlusC99Branch_3, &v456);
			branch_ZPlusC99Branch_5 = v456;
		} break;
		case 38LL: { // PRIM_U32_GET
			decref(in_Atom_1);
			STR* v457;
			STRLIT(v457, "*(uint32_t*)", 12);
			VAL v458 = MKI64(15LL /* C99RT_PTR */);
			STR* v459;
			STRLIT(v459, "", 0);
			VAL v460 = MKI64(9LL /* C99RT_U32 */);
			VAL v461 = mtw_std_maybe_Maybe_1_Some(v460);
			VAL v462;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v457), v458, MKSTR(v459), v461, in_ZPlusC99Branch_3, &v462);
			branch_ZPlusC99Branch_5 = v462;
		} break;
		case 39LL: { // PRIM_U32_SET
			decref(in_Atom_1);
			STR* v463;
			STRLIT(v463, "*(uint32_t*)", 12);
			VAL v464 = MKI64(15LL /* C99RT_PTR */);
			STR* v465;
			STRLIT(v465, " = ", 3);
			VAL v466 = MKI64(9LL /* C99RT_U32 */);
			STR* v467;
			STRLIT(v467, ";", 1);
			int64_t v468 = 1LL /* True */;
			VAL v469 = MKI64(0LL /* None */);
			VAL v470;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v463), v464, MKSTR(v465), v466, MKSTR(v467), v468, v469, in_ZPlusC99Branch_3, &v470);
			branch_ZPlusC99Branch_5 = v470;
		} break;
		case 40LL: { // PRIM_U64_GET
			decref(in_Atom_1);
			STR* v471;
			STRLIT(v471, "*(uint64_t*)", 12);
			VAL v472 = MKI64(15LL /* C99RT_PTR */);
			STR* v473;
			STRLIT(v473, "", 0);
			VAL v474 = MKI64(8LL /* C99RT_U64 */);
			VAL v475 = mtw_std_maybe_Maybe_1_Some(v474);
			VAL v476;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v471), v472, MKSTR(v473), v475, in_ZPlusC99Branch_3, &v476);
			branch_ZPlusC99Branch_5 = v476;
		} break;
		case 41LL: { // PRIM_U64_SET
			decref(in_Atom_1);
			STR* v477;
			STRLIT(v477, "*(uint64_t*)", 12);
			VAL v478 = MKI64(15LL /* C99RT_PTR */);
			STR* v479;
			STRLIT(v479, " = ", 3);
			VAL v480 = MKI64(8LL /* C99RT_U64 */);
			STR* v481;
			STRLIT(v481, ";", 1);
			int64_t v482 = 1LL /* True */;
			VAL v483 = MKI64(0LL /* None */);
			VAL v484;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v477), v478, MKSTR(v479), v480, MKSTR(v481), v482, v483, in_ZPlusC99Branch_3, &v484);
			branch_ZPlusC99Branch_5 = v484;
		} break;
		case 42LL: { // PRIM_I8_GET
			decref(in_Atom_1);
			STR* v485;
			STRLIT(v485, "*(int8_t*)", 10);
			VAL v486 = MKI64(15LL /* C99RT_PTR */);
			STR* v487;
			STRLIT(v487, "", 0);
			VAL v488 = MKI64(7LL /* C99RT_I8 */);
			VAL v489 = mtw_std_maybe_Maybe_1_Some(v488);
			VAL v490;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v485), v486, MKSTR(v487), v489, in_ZPlusC99Branch_3, &v490);
			branch_ZPlusC99Branch_5 = v490;
		} break;
		case 43LL: { // PRIM_I8_SET
			decref(in_Atom_1);
			STR* v491;
			STRLIT(v491, "*(int8_t*)", 10);
			VAL v492 = MKI64(15LL /* C99RT_PTR */);
			STR* v493;
			STRLIT(v493, " = ", 3);
			VAL v494 = MKI64(7LL /* C99RT_I8 */);
			STR* v495;
			STRLIT(v495, ";", 1);
			int64_t v496 = 1LL /* True */;
			VAL v497 = MKI64(0LL /* None */);
			VAL v498;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v491), v492, MKSTR(v493), v494, MKSTR(v495), v496, v497, in_ZPlusC99Branch_3, &v498);
			branch_ZPlusC99Branch_5 = v498;
		} break;
		case 44LL: { // PRIM_I16_GET
			decref(in_Atom_1);
			STR* v499;
			STRLIT(v499, "*(int16_t*)", 11);
			VAL v500 = MKI64(15LL /* C99RT_PTR */);
			STR* v501;
			STRLIT(v501, "", 0);
			VAL v502 = MKI64(6LL /* C99RT_I16 */);
			VAL v503 = mtw_std_maybe_Maybe_1_Some(v502);
			VAL v504;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v499), v500, MKSTR(v501), v503, in_ZPlusC99Branch_3, &v504);
			branch_ZPlusC99Branch_5 = v504;
		} break;
		case 45LL: { // PRIM_I16_SET
			decref(in_Atom_1);
			STR* v505;
			STRLIT(v505, "*(int16_t*)", 11);
			VAL v506 = MKI64(15LL /* C99RT_PTR */);
			STR* v507;
			STRLIT(v507, " = ", 3);
			VAL v508 = MKI64(6LL /* C99RT_I16 */);
			STR* v509;
			STRLIT(v509, ";", 1);
			int64_t v510 = 1LL /* True */;
			VAL v511 = MKI64(0LL /* None */);
			VAL v512;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v505), v506, MKSTR(v507), v508, MKSTR(v509), v510, v511, in_ZPlusC99Branch_3, &v512);
			branch_ZPlusC99Branch_5 = v512;
		} break;
		case 46LL: { // PRIM_I32_GET
			decref(in_Atom_1);
			STR* v513;
			STRLIT(v513, "*(int32_t*)", 11);
			VAL v514 = MKI64(15LL /* C99RT_PTR */);
			STR* v515;
			STRLIT(v515, "", 0);
			VAL v516 = MKI64(5LL /* C99RT_I32 */);
			VAL v517 = mtw_std_maybe_Maybe_1_Some(v516);
			VAL v518;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v513), v514, MKSTR(v515), v517, in_ZPlusC99Branch_3, &v518);
			branch_ZPlusC99Branch_5 = v518;
		} break;
		case 47LL: { // PRIM_I32_SET
			decref(in_Atom_1);
			STR* v519;
			STRLIT(v519, "*(int32_t*)", 11);
			VAL v520 = MKI64(15LL /* C99RT_PTR */);
			STR* v521;
			STRLIT(v521, " = ", 3);
			VAL v522 = MKI64(5LL /* C99RT_I32 */);
			STR* v523;
			STRLIT(v523, ";", 1);
			int64_t v524 = 1LL /* True */;
			VAL v525 = MKI64(0LL /* None */);
			VAL v526;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v519), v520, MKSTR(v521), v522, MKSTR(v523), v524, v525, in_ZPlusC99Branch_3, &v526);
			branch_ZPlusC99Branch_5 = v526;
		} break;
		case 48LL: { // PRIM_I64_GET
			decref(in_Atom_1);
			STR* v527;
			STRLIT(v527, "*(int64_t*)", 11);
			VAL v528 = MKI64(15LL /* C99RT_PTR */);
			STR* v529;
			STRLIT(v529, "", 0);
			VAL v530 = MKI64(4LL /* C99RT_I64 */);
			VAL v531 = mtw_std_maybe_Maybe_1_Some(v530);
			VAL v532;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v527), v528, MKSTR(v529), v531, in_ZPlusC99Branch_3, &v532);
			branch_ZPlusC99Branch_5 = v532;
		} break;
		case 49LL: { // PRIM_I64_SET
			decref(in_Atom_1);
			STR* v533;
			STRLIT(v533, "*(int64_t*)", 11);
			VAL v534 = MKI64(15LL /* C99RT_PTR */);
			STR* v535;
			STRLIT(v535, " = ", 3);
			VAL v536 = MKI64(4LL /* C99RT_I64 */);
			STR* v537;
			STRLIT(v537, ";", 1);
			int64_t v538 = 1LL /* True */;
			VAL v539 = MKI64(0LL /* None */);
			VAL v540;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v533), v534, MKSTR(v535), v536, MKSTR(v537), v538, v539, in_ZPlusC99Branch_3, &v540);
			branch_ZPlusC99Branch_5 = v540;
		} break;
		case 50LL: { // PRIM_I64_TO_INT
			decref(in_Atom_1);
			branch_ZPlusC99Branch_5 = in_ZPlusC99Branch_3;
		} break;
		case 52LL: { // PRIM_F32_LT
			decref(in_Atom_1);
			STR* v541;
			STRLIT(v541, "(", 1);
			VAL v542 = MKI64(13LL /* C99RT_F32 */);
			STR* v543;
			STRLIT(v543, " < ", 3);
			VAL v544 = MKI64(13LL /* C99RT_F32 */);
			STR* v545;
			STRLIT(v545, ")", 1);
			int64_t v546 = 0LL /* False */;
			VAL v547 = MKI64(14LL /* C99RT_BOOL */);
			VAL v548 = mtw_std_maybe_Maybe_1_Some(v547);
			VAL v549;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v541), v542, MKSTR(v543), v544, MKSTR(v545), v546, v548, in_ZPlusC99Branch_3, &v549);
			branch_ZPlusC99Branch_5 = v549;
		} break;
		case 51LL: { // PRIM_F32_EQ
			decref(in_Atom_1);
			STR* v550;
			STRLIT(v550, "(", 1);
			VAL v551 = MKI64(13LL /* C99RT_F32 */);
			STR* v552;
			STRLIT(v552, " == ", 4);
			VAL v553 = MKI64(13LL /* C99RT_F32 */);
			STR* v554;
			STRLIT(v554, ")", 1);
			int64_t v555 = 0LL /* False */;
			VAL v556 = MKI64(14LL /* C99RT_BOOL */);
			VAL v557 = mtw_std_maybe_Maybe_1_Some(v556);
			VAL v558;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v550), v551, MKSTR(v552), v553, MKSTR(v554), v555, v557, in_ZPlusC99Branch_3, &v558);
			branch_ZPlusC99Branch_5 = v558;
		} break;
		case 53LL: { // PRIM_F32_ADD
			decref(in_Atom_1);
			STR* v559;
			STRLIT(v559, "(", 1);
			VAL v560 = MKI64(13LL /* C99RT_F32 */);
			STR* v561;
			STRLIT(v561, " + ", 3);
			VAL v562 = MKI64(13LL /* C99RT_F32 */);
			STR* v563;
			STRLIT(v563, ")", 1);
			int64_t v564 = 0LL /* False */;
			VAL v565 = MKI64(13LL /* C99RT_F32 */);
			VAL v566 = mtw_std_maybe_Maybe_1_Some(v565);
			VAL v567;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v559), v560, MKSTR(v561), v562, MKSTR(v563), v564, v566, in_ZPlusC99Branch_3, &v567);
			branch_ZPlusC99Branch_5 = v567;
		} break;
		case 54LL: { // PRIM_F32_SUB
			decref(in_Atom_1);
			STR* v568;
			STRLIT(v568, "(", 1);
			VAL v569 = MKI64(13LL /* C99RT_F32 */);
			STR* v570;
			STRLIT(v570, " - ", 3);
			VAL v571 = MKI64(13LL /* C99RT_F32 */);
			STR* v572;
			STRLIT(v572, ")", 1);
			int64_t v573 = 0LL /* False */;
			VAL v574 = MKI64(13LL /* C99RT_F32 */);
			VAL v575 = mtw_std_maybe_Maybe_1_Some(v574);
			VAL v576;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v568), v569, MKSTR(v570), v571, MKSTR(v572), v573, v575, in_ZPlusC99Branch_3, &v576);
			branch_ZPlusC99Branch_5 = v576;
		} break;
		case 55LL: { // PRIM_F32_MUL
			decref(in_Atom_1);
			STR* v577;
			STRLIT(v577, "(", 1);
			VAL v578 = MKI64(13LL /* C99RT_F32 */);
			STR* v579;
			STRLIT(v579, " * ", 3);
			VAL v580 = MKI64(13LL /* C99RT_F32 */);
			STR* v581;
			STRLIT(v581, ")", 1);
			int64_t v582 = 0LL /* False */;
			VAL v583 = MKI64(13LL /* C99RT_F32 */);
			VAL v584 = mtw_std_maybe_Maybe_1_Some(v583);
			VAL v585;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v577), v578, MKSTR(v579), v580, MKSTR(v581), v582, v584, in_ZPlusC99Branch_3, &v585);
			branch_ZPlusC99Branch_5 = v585;
		} break;
		case 56LL: { // PRIM_F32_DIV
			decref(in_Atom_1);
			STR* v586;
			STRLIT(v586, "(", 1);
			VAL v587 = MKI64(13LL /* C99RT_F32 */);
			STR* v588;
			STRLIT(v588, " / ", 3);
			VAL v589 = MKI64(13LL /* C99RT_F32 */);
			STR* v590;
			STRLIT(v590, ")", 1);
			int64_t v591 = 0LL /* False */;
			VAL v592 = MKI64(13LL /* C99RT_F32 */);
			VAL v593 = mtw_std_maybe_Maybe_1_Some(v592);
			VAL v594;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v586), v587, MKSTR(v588), v589, MKSTR(v590), v591, v593, in_ZPlusC99Branch_3, &v594);
			branch_ZPlusC99Branch_5 = v594;
		} break;
		case 57LL: { // PRIM_F32_TO_INT
			decref(in_Atom_1);
			STR* v595;
			STRLIT(v595, "(int64_t)", 9);
			VAL v596 = MKI64(13LL /* C99RT_F32 */);
			STR* v597;
			STRLIT(v597, "", 0);
			VAL v598 = MKI64(4LL /* C99RT_I64 */);
			VAL v599 = mtw_std_maybe_Maybe_1_Some(v598);
			VAL v600;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v595), v596, MKSTR(v597), v599, in_ZPlusC99Branch_3, &v600);
			branch_ZPlusC99Branch_5 = v600;
		} break;
		case 59LL: { // PRIM_F32_TO_F64
			decref(in_Atom_1);
			STR* v601;
			STRLIT(v601, "(double)", 8);
			VAL v602 = MKI64(13LL /* C99RT_F32 */);
			STR* v603;
			STRLIT(v603, "", 0);
			VAL v604 = MKI64(12LL /* C99RT_F64 */);
			VAL v605 = mtw_std_maybe_Maybe_1_Some(v604);
			VAL v606;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v601), v602, MKSTR(v603), v605, in_ZPlusC99Branch_3, &v606);
			branch_ZPlusC99Branch_5 = v606;
		} break;
		case 58LL: { // PRIM_F32_TO_STR
			decref(in_Atom_1);
			STR* v607;
			STRLIT(v607, "f32_show(", 9);
			VAL v608 = MKI64(13LL /* C99RT_F32 */);
			STR* v609;
			STRLIT(v609, ")", 1);
			VAL v610 = MKI64(2LL /* C99RT_STR */);
			VAL v611 = mtw_std_maybe_Maybe_1_Some(v610);
			VAL v612;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v607), v608, MKSTR(v609), v611, in_ZPlusC99Branch_3, &v612);
			branch_ZPlusC99Branch_5 = v612;
		} break;
		case 60LL: { // PRIM_F64_EQ
			decref(in_Atom_1);
			STR* v613;
			STRLIT(v613, "(", 1);
			VAL v614 = MKI64(12LL /* C99RT_F64 */);
			STR* v615;
			STRLIT(v615, " == ", 4);
			VAL v616 = MKI64(12LL /* C99RT_F64 */);
			STR* v617;
			STRLIT(v617, ")", 1);
			int64_t v618 = 0LL /* False */;
			VAL v619 = MKI64(14LL /* C99RT_BOOL */);
			VAL v620 = mtw_std_maybe_Maybe_1_Some(v619);
			VAL v621;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v613), v614, MKSTR(v615), v616, MKSTR(v617), v618, v620, in_ZPlusC99Branch_3, &v621);
			branch_ZPlusC99Branch_5 = v621;
		} break;
		case 61LL: { // PRIM_F64_LT
			decref(in_Atom_1);
			STR* v622;
			STRLIT(v622, "(", 1);
			VAL v623 = MKI64(12LL /* C99RT_F64 */);
			STR* v624;
			STRLIT(v624, " < ", 3);
			VAL v625 = MKI64(12LL /* C99RT_F64 */);
			STR* v626;
			STRLIT(v626, ")", 1);
			int64_t v627 = 0LL /* False */;
			VAL v628 = MKI64(14LL /* C99RT_BOOL */);
			VAL v629 = mtw_std_maybe_Maybe_1_Some(v628);
			VAL v630;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v622), v623, MKSTR(v624), v625, MKSTR(v626), v627, v629, in_ZPlusC99Branch_3, &v630);
			branch_ZPlusC99Branch_5 = v630;
		} break;
		case 62LL: { // PRIM_F64_ADD
			decref(in_Atom_1);
			STR* v631;
			STRLIT(v631, "(", 1);
			VAL v632 = MKI64(12LL /* C99RT_F64 */);
			STR* v633;
			STRLIT(v633, " + ", 3);
			VAL v634 = MKI64(12LL /* C99RT_F64 */);
			STR* v635;
			STRLIT(v635, ")", 1);
			int64_t v636 = 0LL /* False */;
			VAL v637 = MKI64(12LL /* C99RT_F64 */);
			VAL v638 = mtw_std_maybe_Maybe_1_Some(v637);
			VAL v639;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v631), v632, MKSTR(v633), v634, MKSTR(v635), v636, v638, in_ZPlusC99Branch_3, &v639);
			branch_ZPlusC99Branch_5 = v639;
		} break;
		case 63LL: { // PRIM_F64_SUB
			decref(in_Atom_1);
			STR* v640;
			STRLIT(v640, "(", 1);
			VAL v641 = MKI64(12LL /* C99RT_F64 */);
			STR* v642;
			STRLIT(v642, " - ", 3);
			VAL v643 = MKI64(12LL /* C99RT_F64 */);
			STR* v644;
			STRLIT(v644, ")", 1);
			int64_t v645 = 0LL /* False */;
			VAL v646 = MKI64(12LL /* C99RT_F64 */);
			VAL v647 = mtw_std_maybe_Maybe_1_Some(v646);
			VAL v648;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v640), v641, MKSTR(v642), v643, MKSTR(v644), v645, v647, in_ZPlusC99Branch_3, &v648);
			branch_ZPlusC99Branch_5 = v648;
		} break;
		case 64LL: { // PRIM_F64_MUL
			decref(in_Atom_1);
			STR* v649;
			STRLIT(v649, "(", 1);
			VAL v650 = MKI64(12LL /* C99RT_F64 */);
			STR* v651;
			STRLIT(v651, " * ", 3);
			VAL v652 = MKI64(12LL /* C99RT_F64 */);
			STR* v653;
			STRLIT(v653, ")", 1);
			int64_t v654 = 0LL /* False */;
			VAL v655 = MKI64(12LL /* C99RT_F64 */);
			VAL v656 = mtw_std_maybe_Maybe_1_Some(v655);
			VAL v657;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v649), v650, MKSTR(v651), v652, MKSTR(v653), v654, v656, in_ZPlusC99Branch_3, &v657);
			branch_ZPlusC99Branch_5 = v657;
		} break;
		case 65LL: { // PRIM_F64_DIV
			decref(in_Atom_1);
			STR* v658;
			STRLIT(v658, "(", 1);
			VAL v659 = MKI64(12LL /* C99RT_F64 */);
			STR* v660;
			STRLIT(v660, " / ", 3);
			VAL v661 = MKI64(12LL /* C99RT_F64 */);
			STR* v662;
			STRLIT(v662, ")", 1);
			int64_t v663 = 0LL /* False */;
			VAL v664 = MKI64(12LL /* C99RT_F64 */);
			VAL v665 = mtw_std_maybe_Maybe_1_Some(v664);
			VAL v666;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v658), v659, MKSTR(v660), v661, MKSTR(v662), v663, v665, in_ZPlusC99Branch_3, &v666);
			branch_ZPlusC99Branch_5 = v666;
		} break;
		case 66LL: { // PRIM_F64_TO_INT
			decref(in_Atom_1);
			STR* v667;
			STRLIT(v667, "(int64_t)", 9);
			VAL v668 = MKI64(12LL /* C99RT_F64 */);
			STR* v669;
			STRLIT(v669, "", 0);
			VAL v670 = MKI64(4LL /* C99RT_I64 */);
			VAL v671 = mtw_std_maybe_Maybe_1_Some(v670);
			VAL v672;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v667), v668, MKSTR(v669), v671, in_ZPlusC99Branch_3, &v672);
			branch_ZPlusC99Branch_5 = v672;
		} break;
		case 68LL: { // PRIM_F64_TO_F32
			decref(in_Atom_1);
			STR* v673;
			STRLIT(v673, "(float)", 7);
			VAL v674 = MKI64(12LL /* C99RT_F64 */);
			STR* v675;
			STRLIT(v675, "", 0);
			VAL v676 = MKI64(13LL /* C99RT_F32 */);
			VAL v677 = mtw_std_maybe_Maybe_1_Some(v676);
			VAL v678;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v673), v674, MKSTR(v675), v677, in_ZPlusC99Branch_3, &v678);
			branch_ZPlusC99Branch_5 = v678;
		} break;
		case 67LL: { // PRIM_F64_TO_STR
			decref(in_Atom_1);
			STR* v679;
			STRLIT(v679, "f64_show(", 9);
			VAL v680 = MKI64(12LL /* C99RT_F64 */);
			STR* v681;
			STRLIT(v681, ")", 1);
			VAL v682 = MKI64(2LL /* C99RT_STR */);
			VAL v683 = mtw_std_maybe_Maybe_1_Some(v682);
			VAL v684;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v679), v680, MKSTR(v681), v683, in_ZPlusC99Branch_3, &v684);
			branch_ZPlusC99Branch_5 = v684;
		} break;
		case 69LL: { // PRIM_BOOL_AND
			decref(in_Atom_1);
			STR* v685;
			STRLIT(v685, "(", 1);
			VAL v686 = MKI64(14LL /* C99RT_BOOL */);
			STR* v687;
			STRLIT(v687, " && ", 4);
			VAL v688 = MKI64(14LL /* C99RT_BOOL */);
			STR* v689;
			STRLIT(v689, ")", 1);
			int64_t v690 = 0LL /* False */;
			VAL v691 = MKI64(14LL /* C99RT_BOOL */);
			VAL v692 = mtw_std_maybe_Maybe_1_Some(v691);
			VAL v693;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v685), v686, MKSTR(v687), v688, MKSTR(v689), v690, v692, in_ZPlusC99Branch_3, &v693);
			branch_ZPlusC99Branch_5 = v693;
		} break;
		case 70LL: { // PRIM_BOOL_OR
			decref(in_Atom_1);
			STR* v694;
			STRLIT(v694, "(", 1);
			VAL v695 = MKI64(14LL /* C99RT_BOOL */);
			STR* v696;
			STRLIT(v696, " || ", 4);
			VAL v697 = MKI64(14LL /* C99RT_BOOL */);
			STR* v698;
			STRLIT(v698, ")", 1);
			int64_t v699 = 0LL /* False */;
			VAL v700 = MKI64(14LL /* C99RT_BOOL */);
			VAL v701 = mtw_std_maybe_Maybe_1_Some(v700);
			VAL v702;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v694), v695, MKSTR(v696), v697, MKSTR(v698), v699, v701, in_ZPlusC99Branch_3, &v702);
			branch_ZPlusC99Branch_5 = v702;
		} break;
		case 71LL: { // PRIM_BOOL_NOT
			decref(in_Atom_1);
			STR* v703;
			STRLIT(v703, "!", 1);
			VAL v704 = MKI64(14LL /* C99RT_BOOL */);
			STR* v705;
			STRLIT(v705, "", 0);
			VAL v706 = MKI64(14LL /* C99RT_BOOL */);
			VAL v707 = mtw_std_maybe_Maybe_1_Some(v706);
			VAL v708;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v703), v704, MKSTR(v705), v707, in_ZPlusC99Branch_3, &v708);
			branch_ZPlusC99Branch_5 = v708;
		} break;
		case 72LL: { // PRIM_TUP_PACK0
			decref(in_Atom_1);
			int64_t v709 = 0LL;
			VAL v710 = mtw_mirth_c99_C99ReprType_C99RTz_TUP(v709);
			incref(v710);
			int64_t v711 = get_data_tag(v710);
			decref(v710);
			int64_t v712 = 0LL;
			bool v713 = (v711 != v712);
			VAL branch_C99ReprType_714;
			int64_t branch_Bool_715;
			VAL branch_Str_716;
			VAL branch_ZPlusC99Branch_717;
			if (v713) {
				VAL v718 = VTUP(in_ZPlusC99Branch_3)->cells[1];
				VAL v719;
				VAL v720 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v718, &v719);
				VTUP(in_ZPlusC99Branch_3)->cells[1] = v719;
				branch_ZPlusC99Branch_717 = in_ZPlusC99Branch_3;
				branch_Str_716 = v720;
				branch_Bool_715 = ((int64_t)v713);
				branch_C99ReprType_714 = v710;
			} else {
				STR* v721;
				STRLIT(v721, "0", 1);
				branch_ZPlusC99Branch_717 = in_ZPlusC99Branch_3;
				branch_Str_716 = MKSTR(v721);
				branch_Bool_715 = ((int64_t)v713);
				branch_C99ReprType_714 = v710;
			}
			int64_t v722 = value_i64(VTUP(branch_ZPlusC99Branch_717)->cells[4]);
			bool v723 = (((bool)branch_Bool_715) && ((bool)v722));
			VAL v724 = VTUP(branch_ZPlusC99Branch_717)->cells[1];
			int64_t v725 = value_i64(VTUP(v724)->cells[4]);
			bool v726 = (v723 && ((bool)v725));
			VTUP(v724)->cells[4] = MKBOOL(v726);
			VAL v727;
			mw_mirth_c99_ZPlusC99_indent(v724, &v727);
			incref(branch_C99ReprType_714);
			VAL v728 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_714);
			VAL v729;
			mw_mirth_c99_ZPlusC99_put(v728, v727, &v729);
			STR* v730;
			STRLIT(v730, " ", 1);
			VAL v731;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v730), v729, &v731);
			incref(branch_Str_716);
			VAL v732;
			mw_mirth_c99_ZPlusC99_put(branch_Str_716, v731, &v732);
			STR* v733;
			STRLIT(v733, " = ", 3);
			VAL v734;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v733), v732, &v734);
			VAL v735;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_714, branch_Str_716, &v735);
			STR* v736;
			STRLIT(v736, "NULL", 4);
			VAL v737;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v736), v734, &v737);
			STR* v738;
			STRLIT(v738, ";", 1);
			VAL v739;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v738), v737, &v739);
			VAL v740;
			mw_mirth_c99_ZPlusC99_line(v739, &v740);
			VTUP(v740)->cells[4] = MKI64(v725);
			VTUP(branch_ZPlusC99Branch_717)->cells[1] = v740;
			VAL v741;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_717, v735, &v741);
			branch_ZPlusC99Branch_5 = v741;
		} break;
		case 73LL: { // PRIM_TUP_PACK1
			decref(in_Atom_1);
			int64_t v742 = 1LL;
			VAL v743;
			mw_mirth_c99_c99Z_tupZ_packZBang(v742, in_ZPlusC99Branch_3, &v743);
			branch_ZPlusC99Branch_5 = v743;
		} break;
		case 74LL: { // PRIM_TUP_PACK2
			decref(in_Atom_1);
			int64_t v744 = 2LL;
			VAL v745;
			mw_mirth_c99_c99Z_tupZ_packZBang(v744, in_ZPlusC99Branch_3, &v745);
			branch_ZPlusC99Branch_5 = v745;
		} break;
		case 75LL: { // PRIM_TUP_PACK3
			decref(in_Atom_1);
			int64_t v746 = 3LL;
			VAL v747;
			mw_mirth_c99_c99Z_tupZ_packZBang(v746, in_ZPlusC99Branch_3, &v747);
			branch_ZPlusC99Branch_5 = v747;
		} break;
		case 76LL: { // PRIM_TUP_PACK4
			decref(in_Atom_1);
			int64_t v748 = 4LL;
			VAL v749;
			mw_mirth_c99_c99Z_tupZ_packZBang(v748, in_ZPlusC99Branch_3, &v749);
			branch_ZPlusC99Branch_5 = v749;
		} break;
		case 77LL: { // PRIM_TUP_PACK5
			decref(in_Atom_1);
			int64_t v750 = 5LL;
			VAL v751;
			mw_mirth_c99_c99Z_tupZ_packZBang(v750, in_ZPlusC99Branch_3, &v751);
			branch_ZPlusC99Branch_5 = v751;
		} break;
		case 78LL: { // PRIM_TUP_UNPACK0
			decref(in_Atom_1);
			int64_t v752 = 0LL;
			VAL v753 = mtw_mirth_c99_C99ReprType_C99RTz_TUP(v752);
			VAL v754;
			VAL v755;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_3, v753, &v754, &v755);
			VAL v756;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v754, v755, &v756);
			branch_ZPlusC99Branch_5 = v756;
		} break;
		case 79LL: { // PRIM_TUP_UNPACK1
			decref(in_Atom_1);
			int64_t v757 = 1LL;
			VAL v758;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(v757, in_ZPlusC99Branch_3, &v758);
			branch_ZPlusC99Branch_5 = v758;
		} break;
		case 80LL: { // PRIM_TUP_UNPACK2
			decref(in_Atom_1);
			int64_t v759 = 2LL;
			VAL v760;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(v759, in_ZPlusC99Branch_3, &v760);
			branch_ZPlusC99Branch_5 = v760;
		} break;
		case 81LL: { // PRIM_TUP_UNPACK3
			decref(in_Atom_1);
			int64_t v761 = 3LL;
			VAL v762;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(v761, in_ZPlusC99Branch_3, &v762);
			branch_ZPlusC99Branch_5 = v762;
		} break;
		case 82LL: { // PRIM_TUP_UNPACK4
			decref(in_Atom_1);
			int64_t v763 = 4LL;
			VAL v764;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(v763, in_ZPlusC99Branch_3, &v764);
			branch_ZPlusC99Branch_5 = v764;
		} break;
		case 83LL: { // PRIM_TUP_UNPACK5
			decref(in_Atom_1);
			int64_t v765 = 5LL;
			VAL v766;
			mw_mirth_c99_c99Z_tupZ_unpackZBang(v765, in_ZPlusC99Branch_3, &v766);
			branch_ZPlusC99Branch_5 = v766;
		} break;
		case 84LL: { // PRIM_MUT_GET
			decref(in_Atom_1);
			STR* v767;
			STRLIT(v767, "mut_get(", 8);
			VAL v768 = MKI64(15LL /* C99RT_PTR */);
			STR* v769;
			STRLIT(v769, ")", 1);
			VAL v770 = MKI64(1LL /* C99RT_VAL */);
			VAL v771 = mtw_std_maybe_Maybe_1_Some(v770);
			VAL v772;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v767), v768, MKSTR(v769), v771, in_ZPlusC99Branch_3, &v772);
			branch_ZPlusC99Branch_5 = v772;
		} break;
		case 85LL: { // PRIM_MUT_SET
			decref(in_Atom_1);
			STR* v773;
			STRLIT(v773, "mut_set(", 8);
			VAL v774 = MKI64(1LL /* C99RT_VAL */);
			STR* v775;
			STRLIT(v775, ", ", 2);
			VAL v776 = MKI64(15LL /* C99RT_PTR */);
			STR* v777;
			STRLIT(v777, ");", 2);
			int64_t v778 = 0LL /* False */;
			VAL v779 = MKI64(0LL /* None */);
			VAL v780;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v773), v774, MKSTR(v775), v776, MKSTR(v777), v778, v779, in_ZPlusC99Branch_3, &v780);
			branch_ZPlusC99Branch_5 = v780;
		} break;
		case 86LL: { // PRIM_MUT_IS_SET
			decref(in_Atom_1);
			STR* v781;
			STRLIT(v781, "mut_is_set(", 11);
			VAL v782 = MKI64(15LL /* C99RT_PTR */);
			STR* v783;
			STRLIT(v783, ")", 1);
			VAL v784 = MKI64(14LL /* C99RT_BOOL */);
			VAL v785 = mtw_std_maybe_Maybe_1_Some(v784);
			VAL v786;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v781), v782, MKSTR(v783), v785, in_ZPlusC99Branch_3, &v786);
			branch_ZPlusC99Branch_5 = v786;
		} break;
		case 96LL: { // PRIM_PTR_GET
			decref(in_Atom_1);
			STR* v787;
			STRLIT(v787, "*(void**)", 9);
			VAL v788 = MKI64(15LL /* C99RT_PTR */);
			STR* v789;
			STRLIT(v789, "", 0);
			VAL v790 = MKI64(15LL /* C99RT_PTR */);
			VAL v791 = mtw_std_maybe_Maybe_1_Some(v790);
			VAL v792;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v787), v788, MKSTR(v789), v791, in_ZPlusC99Branch_3, &v792);
			branch_ZPlusC99Branch_5 = v792;
		} break;
		case 97LL: { // PRIM_PTR_SET
			decref(in_Atom_1);
			STR* v793;
			STRLIT(v793, "*(void**)", 9);
			VAL v794 = MKI64(15LL /* C99RT_PTR */);
			STR* v795;
			STRLIT(v795, " = ", 3);
			VAL v796 = MKI64(15LL /* C99RT_PTR */);
			STR* v797;
			STRLIT(v797, ";", 1);
			int64_t v798 = 1LL /* True */;
			VAL v799 = MKI64(0LL /* None */);
			VAL v800;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v793), v794, MKSTR(v795), v796, MKSTR(v797), v798, v799, in_ZPlusC99Branch_3, &v800);
			branch_ZPlusC99Branch_5 = v800;
		} break;
		case 87LL: { // PRIM_PTR_NIL
			decref(in_Atom_1);
			VAL v801 = MKI64(15LL /* C99RT_PTR */);
			incref(v801);
			int64_t v802 = get_data_tag(v801);
			decref(v801);
			int64_t v803 = 0LL;
			bool v804 = (v802 != v803);
			VAL branch_C99ReprType_805;
			int64_t branch_Bool_806;
			VAL branch_Str_807;
			VAL branch_ZPlusC99Branch_808;
			if (v804) {
				VAL v809 = VTUP(in_ZPlusC99Branch_3)->cells[1];
				VAL v810;
				VAL v811 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v809, &v810);
				VTUP(in_ZPlusC99Branch_3)->cells[1] = v810;
				branch_ZPlusC99Branch_808 = in_ZPlusC99Branch_3;
				branch_Str_807 = v811;
				branch_Bool_806 = ((int64_t)v804);
				branch_C99ReprType_805 = v801;
			} else {
				STR* v812;
				STRLIT(v812, "0", 1);
				branch_ZPlusC99Branch_808 = in_ZPlusC99Branch_3;
				branch_Str_807 = MKSTR(v812);
				branch_Bool_806 = ((int64_t)v804);
				branch_C99ReprType_805 = v801;
			}
			int64_t v813 = value_i64(VTUP(branch_ZPlusC99Branch_808)->cells[4]);
			bool v814 = (((bool)branch_Bool_806) && ((bool)v813));
			VAL v815 = VTUP(branch_ZPlusC99Branch_808)->cells[1];
			int64_t v816 = value_i64(VTUP(v815)->cells[4]);
			bool v817 = (v814 && ((bool)v816));
			VTUP(v815)->cells[4] = MKBOOL(v817);
			VAL v818;
			mw_mirth_c99_ZPlusC99_indent(v815, &v818);
			incref(branch_C99ReprType_805);
			VAL v819 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_805);
			VAL v820;
			mw_mirth_c99_ZPlusC99_put(v819, v818, &v820);
			STR* v821;
			STRLIT(v821, " ", 1);
			VAL v822;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v821), v820, &v822);
			incref(branch_Str_807);
			VAL v823;
			mw_mirth_c99_ZPlusC99_put(branch_Str_807, v822, &v823);
			STR* v824;
			STRLIT(v824, " = ", 3);
			VAL v825;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v824), v823, &v825);
			VAL v826;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_805, branch_Str_807, &v826);
			STR* v827;
			STRLIT(v827, "(void*)0", 8);
			VAL v828;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v827), v825, &v828);
			STR* v829;
			STRLIT(v829, ";", 1);
			VAL v830;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v829), v828, &v830);
			VAL v831;
			mw_mirth_c99_ZPlusC99_line(v830, &v831);
			VTUP(v831)->cells[4] = MKI64(v816);
			VTUP(branch_ZPlusC99Branch_808)->cells[1] = v831;
			VAL v832;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_808, v826, &v832);
			branch_ZPlusC99Branch_5 = v832;
		} break;
		case 88LL: { // PRIM_PTR_EQ
			decref(in_Atom_1);
			STR* v833;
			STRLIT(v833, "(", 1);
			VAL v834 = MKI64(15LL /* C99RT_PTR */);
			STR* v835;
			STRLIT(v835, " == ", 4);
			VAL v836 = MKI64(15LL /* C99RT_PTR */);
			STR* v837;
			STRLIT(v837, ")", 1);
			int64_t v838 = 0LL /* False */;
			VAL v839 = MKI64(14LL /* C99RT_BOOL */);
			VAL v840 = mtw_std_maybe_Maybe_1_Some(v839);
			VAL v841;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v833), v834, MKSTR(v835), v836, MKSTR(v837), v838, v840, in_ZPlusC99Branch_3, &v841);
			branch_ZPlusC99Branch_5 = v841;
		} break;
		case 89LL: { // PRIM_PTR_ADD
			decref(in_Atom_1);
			STR* v842;
			STRLIT(v842, "(void*)(", 8);
			VAL v843 = MKI64(4LL /* C99RT_I64 */);
			STR* v844;
			STRLIT(v844, " + (char*)", 10);
			VAL v845 = MKI64(15LL /* C99RT_PTR */);
			STR* v846;
			STRLIT(v846, ")", 1);
			int64_t v847 = 0LL /* False */;
			VAL v848 = MKI64(15LL /* C99RT_PTR */);
			VAL v849 = mtw_std_maybe_Maybe_1_Some(v848);
			VAL v850;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v842), v843, MKSTR(v844), v845, MKSTR(v846), v847, v849, in_ZPlusC99Branch_3, &v850);
			branch_ZPlusC99Branch_5 = v850;
		} break;
		case 90LL: { // PRIM_PTR_SIZE
			decref(in_Atom_1);
			VAL v851 = MKI64(8LL /* C99RT_U64 */);
			incref(v851);
			int64_t v852 = get_data_tag(v851);
			decref(v851);
			int64_t v853 = 0LL;
			bool v854 = (v852 != v853);
			VAL branch_C99ReprType_855;
			int64_t branch_Bool_856;
			VAL branch_Str_857;
			VAL branch_ZPlusC99Branch_858;
			if (v854) {
				VAL v859 = VTUP(in_ZPlusC99Branch_3)->cells[1];
				VAL v860;
				VAL v861 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v859, &v860);
				VTUP(in_ZPlusC99Branch_3)->cells[1] = v860;
				branch_ZPlusC99Branch_858 = in_ZPlusC99Branch_3;
				branch_Str_857 = v861;
				branch_Bool_856 = ((int64_t)v854);
				branch_C99ReprType_855 = v851;
			} else {
				STR* v862;
				STRLIT(v862, "0", 1);
				branch_ZPlusC99Branch_858 = in_ZPlusC99Branch_3;
				branch_Str_857 = MKSTR(v862);
				branch_Bool_856 = ((int64_t)v854);
				branch_C99ReprType_855 = v851;
			}
			int64_t v863 = value_i64(VTUP(branch_ZPlusC99Branch_858)->cells[4]);
			bool v864 = (((bool)branch_Bool_856) && ((bool)v863));
			VAL v865 = VTUP(branch_ZPlusC99Branch_858)->cells[1];
			int64_t v866 = value_i64(VTUP(v865)->cells[4]);
			bool v867 = (v864 && ((bool)v866));
			VTUP(v865)->cells[4] = MKBOOL(v867);
			VAL v868;
			mw_mirth_c99_ZPlusC99_indent(v865, &v868);
			incref(branch_C99ReprType_855);
			VAL v869 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_855);
			VAL v870;
			mw_mirth_c99_ZPlusC99_put(v869, v868, &v870);
			STR* v871;
			STRLIT(v871, " ", 1);
			VAL v872;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v871), v870, &v872);
			incref(branch_Str_857);
			VAL v873;
			mw_mirth_c99_ZPlusC99_put(branch_Str_857, v872, &v873);
			STR* v874;
			STRLIT(v874, " = ", 3);
			VAL v875;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v874), v873, &v875);
			VAL v876;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_855, branch_Str_857, &v876);
			STR* v877;
			STRLIT(v877, "sizeof(void*)", 13);
			VAL v878;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v877), v875, &v878);
			STR* v879;
			STRLIT(v879, ";", 1);
			VAL v880;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v879), v878, &v880);
			VAL v881;
			mw_mirth_c99_ZPlusC99_line(v880, &v881);
			VTUP(v881)->cells[4] = MKI64(v866);
			VTUP(branch_ZPlusC99Branch_858)->cells[1] = v881;
			VAL v882;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_858, v876, &v882);
			branch_ZPlusC99Branch_5 = v882;
		} break;
		case 91LL: { // PRIM_PTR_ALLOC
			decref(in_Atom_1);
			STR* v883;
			STRLIT(v883, "ptr_alloc(", 10);
			VAL v884 = MKI64(8LL /* C99RT_U64 */);
			STR* v885;
			STRLIT(v885, ");", 2);
			VAL v886 = MKI64(15LL /* C99RT_PTR */);
			VAL v887 = mtw_std_maybe_Maybe_1_Some(v886);
			VAL v888;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v883), v884, MKSTR(v885), v887, in_ZPlusC99Branch_3, &v888);
			branch_ZPlusC99Branch_5 = v888;
		} break;
		case 92LL: { // PRIM_PTR_REALLOC
			decref(in_Atom_1);
			STR* v889;
			STRLIT(v889, "ptr_realloc(", 12);
			VAL v890 = MKI64(15LL /* C99RT_PTR */);
			STR* v891;
			STRLIT(v891, ",", 1);
			VAL v892 = MKI64(8LL /* C99RT_U64 */);
			STR* v893;
			STRLIT(v893, ")", 1);
			int64_t v894 = 0LL /* False */;
			VAL v895 = MKI64(15LL /* C99RT_PTR */);
			VAL v896 = mtw_std_maybe_Maybe_1_Some(v895);
			VAL v897;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v889), v890, MKSTR(v891), v892, MKSTR(v893), v894, v896, in_ZPlusC99Branch_3, &v897);
			branch_ZPlusC99Branch_5 = v897;
		} break;
		case 93LL: { // PRIM_PTR_FREE
			decref(in_Atom_1);
			STR* v898;
			STRLIT(v898, "free(", 5);
			VAL v899 = MKI64(15LL /* C99RT_PTR */);
			STR* v900;
			STRLIT(v900, ");", 2);
			VAL v901 = MKI64(0LL /* None */);
			VAL v902;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v898), v899, MKSTR(v900), v901, in_ZPlusC99Branch_3, &v902);
			branch_ZPlusC99Branch_5 = v902;
		} break;
		case 94LL: { // PRIM_PTR_COPY
			decref(in_Atom_1);
			VAL v903 = MKI64(15LL /* C99RT_PTR */);
			VAL v904;
			VAL v905;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_3, v903, &v904, &v905);
			VAL v906 = MKI64(8LL /* C99RT_U64 */);
			VAL v907;
			VAL v908;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v904, v906, &v907, &v908);
			VAL v909 = MKI64(15LL /* C99RT_PTR */);
			VAL v910;
			VAL v911;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v907, v909, &v910, &v911);
			int64_t v912 = value_i64(VTUP(v910)->cells[4]);
			VAL v913 = VTUP(v910)->cells[1];
			int64_t v914 = value_i64(VTUP(v913)->cells[4]);
			bool v915 = (((bool)v912) && ((bool)v914));
			VTUP(v913)->cells[4] = MKBOOL(v915);
			VAL v916;
			mw_mirth_c99_ZPlusC99_indent(v913, &v916);
			STR* v917;
			STRLIT(v917, "ptr_copy(", 9);
			VAL v918;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v917), v916, &v918);
			VAL v919 = MKI64(15LL /* C99RT_PTR */);
			VAL v920 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v919, v911);
			VAL v921;
			mw_mirth_c99_ZPlusC99_put(v920, v918, &v921);
			STR* v922;
			STRLIT(v922, ", ", 2);
			VAL v923;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v922), v921, &v923);
			VAL v924 = MKI64(8LL /* C99RT_U64 */);
			VAL v925 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v924, v908);
			VAL v926;
			mw_mirth_c99_ZPlusC99_put(v925, v923, &v926);
			STR* v927;
			STRLIT(v927, ", ", 2);
			VAL v928;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v927), v926, &v928);
			VAL v929 = MKI64(15LL /* C99RT_PTR */);
			VAL v930 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v929, v905);
			VAL v931;
			mw_mirth_c99_ZPlusC99_put(v930, v928, &v931);
			STR* v932;
			STRLIT(v932, ");", 2);
			VAL v933;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v932), v931, &v933);
			VAL v934;
			mw_mirth_c99_ZPlusC99_line(v933, &v934);
			VTUP(v934)->cells[4] = MKI64(v914);
			VTUP(v910)->cells[1] = v934;
			branch_ZPlusC99Branch_5 = v910;
		} break;
		case 95LL: { // PRIM_PTR_FILL
			decref(in_Atom_1);
			VAL v935 = MKI64(15LL /* C99RT_PTR */);
			VAL v936;
			VAL v937;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_3, v935, &v936, &v937);
			VAL v938 = MKI64(8LL /* C99RT_U64 */);
			VAL v939;
			VAL v940;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v936, v938, &v939, &v940);
			VAL v941 = MKI64(11LL /* C99RT_U8 */);
			VAL v942;
			VAL v943;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v939, v941, &v942, &v943);
			int64_t v944 = value_i64(VTUP(v942)->cells[4]);
			VAL v945 = VTUP(v942)->cells[1];
			int64_t v946 = value_i64(VTUP(v945)->cells[4]);
			bool v947 = (((bool)v944) && ((bool)v946));
			VTUP(v945)->cells[4] = MKBOOL(v947);
			VAL v948;
			mw_mirth_c99_ZPlusC99_indent(v945, &v948);
			STR* v949;
			STRLIT(v949, "ptr_fill(", 9);
			VAL v950;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v949), v948, &v950);
			VAL v951 = MKI64(11LL /* C99RT_U8 */);
			VAL v952 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v951, v943);
			VAL v953;
			mw_mirth_c99_ZPlusC99_put(v952, v950, &v953);
			STR* v954;
			STRLIT(v954, ", ", 2);
			VAL v955;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v954), v953, &v955);
			VAL v956 = MKI64(8LL /* C99RT_U64 */);
			VAL v957 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v956, v940);
			VAL v958;
			mw_mirth_c99_ZPlusC99_put(v957, v955, &v958);
			STR* v959;
			STRLIT(v959, ", ", 2);
			VAL v960;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v959), v958, &v960);
			VAL v961 = MKI64(15LL /* C99RT_PTR */);
			VAL v962 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v961, v937);
			VAL v963;
			mw_mirth_c99_ZPlusC99_put(v962, v960, &v963);
			STR* v964;
			STRLIT(v964, ");", 2);
			VAL v965;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v964), v963, &v965);
			VAL v966;
			mw_mirth_c99_ZPlusC99_line(v965, &v966);
			VTUP(v966)->cells[4] = MKI64(v946);
			VTUP(v942)->cells[1] = v966;
			branch_ZPlusC99Branch_5 = v942;
		} break;
		case 98LL: { // PRIM_STR_COPY
			decref(in_Atom_1);
			STR* v967;
			STRLIT(v967, "str_make(", 9);
			VAL v968 = MKI64(15LL /* C99RT_PTR */);
			STR* v969;
			STRLIT(v969, ", ", 2);
			VAL v970 = MKI64(8LL /* C99RT_U64 */);
			STR* v971;
			STRLIT(v971, ")", 1);
			int64_t v972 = 0LL /* False */;
			VAL v973 = MKI64(2LL /* C99RT_STR */);
			VAL v974 = mtw_std_maybe_Maybe_1_Some(v973);
			VAL v975;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v967), v968, MKSTR(v969), v970, MKSTR(v971), v972, v974, in_ZPlusC99Branch_3, &v975);
			branch_ZPlusC99Branch_5 = v975;
		} break;
		case 99LL: { // PRIM_STR_NUM_BYTES
			decref(in_Atom_1);
			STR* v976;
			STRLIT(v976, "str_size(", 9);
			VAL v977 = MKI64(2LL /* C99RT_STR */);
			STR* v978;
			STRLIT(v978, ")", 1);
			VAL v979 = MKI64(8LL /* C99RT_U64 */);
			VAL v980 = mtw_std_maybe_Maybe_1_Some(v979);
			VAL v981;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v976), v977, MKSTR(v978), v980, in_ZPlusC99Branch_3, &v981);
			branch_ZPlusC99Branch_5 = v981;
		} break;
		case 100LL: { // PRIM_STR_BASE
			decref(in_Atom_1);
			STR* v982;
			STRLIT(v982, "str_base(", 9);
			VAL v983 = MKI64(2LL /* C99RT_STR */);
			STR* v984;
			STRLIT(v984, ")", 1);
			VAL v985 = MKI64(15LL /* C99RT_PTR */);
			VAL v986 = mtw_std_maybe_Maybe_1_Some(v985);
			VAL v987;
			mw_mirth_c99_c99Z_unopZBang(MKSTR(v982), v983, MKSTR(v984), v986, in_ZPlusC99Branch_3, &v987);
			branch_ZPlusC99Branch_5 = v987;
		} break;
		case 101LL: { // PRIM_STR_CAT
			decref(in_Atom_1);
			STR* v988;
			STRLIT(v988, "str_cat(", 8);
			VAL v989 = MKI64(2LL /* C99RT_STR */);
			STR* v990;
			STRLIT(v990, ", ", 2);
			VAL v991 = MKI64(2LL /* C99RT_STR */);
			STR* v992;
			STRLIT(v992, ")", 1);
			int64_t v993 = 0LL /* False */;
			VAL v994 = MKI64(2LL /* C99RT_STR */);
			VAL v995 = mtw_std_maybe_Maybe_1_Some(v994);
			VAL v996;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v988), v989, MKSTR(v990), v991, MKSTR(v992), v993, v995, in_ZPlusC99Branch_3, &v996);
			branch_ZPlusC99Branch_5 = v996;
		} break;
		case 102LL: { // PRIM_STR_CMP
			decref(in_Atom_1);
			STR* v997;
			STRLIT(v997, "str_cmp(", 8);
			VAL v998 = MKI64(2LL /* C99RT_STR */);
			STR* v999;
			STRLIT(v999, ", ", 2);
			VAL v1000 = MKI64(2LL /* C99RT_STR */);
			STR* v1001;
			STRLIT(v1001, ")", 1);
			int64_t v1002 = 0LL /* False */;
			VAL v1003 = MKI64(4LL /* C99RT_I64 */);
			VAL v1004 = mtw_std_maybe_Maybe_1_Some(v1003);
			VAL v1005;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v997), v998, MKSTR(v999), v1000, MKSTR(v1001), v1002, v1004, in_ZPlusC99Branch_3, &v1005);
			branch_ZPlusC99Branch_5 = v1005;
		} break;
		case 103LL: { // PRIM_STR_EQ
			decref(in_Atom_1);
			STR* v1006;
			STRLIT(v1006, "(str_cmp(", 9);
			VAL v1007 = MKI64(2LL /* C99RT_STR */);
			STR* v1008;
			STRLIT(v1008, ", ", 2);
			VAL v1009 = MKI64(2LL /* C99RT_STR */);
			STR* v1010;
			STRLIT(v1010, ") == 0)", 7);
			int64_t v1011 = 0LL /* False */;
			VAL v1012 = MKI64(14LL /* C99RT_BOOL */);
			VAL v1013 = mtw_std_maybe_Maybe_1_Some(v1012);
			VAL v1014;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v1006), v1007, MKSTR(v1008), v1009, MKSTR(v1010), v1011, v1013, in_ZPlusC99Branch_3, &v1014);
			branch_ZPlusC99Branch_5 = v1014;
		} break;
		case 104LL: { // PRIM_STR_LT
			decref(in_Atom_1);
			STR* v1015;
			STRLIT(v1015, "(str_cmp(", 9);
			VAL v1016 = MKI64(2LL /* C99RT_STR */);
			STR* v1017;
			STRLIT(v1017, ", ", 2);
			VAL v1018 = MKI64(2LL /* C99RT_STR */);
			STR* v1019;
			STRLIT(v1019, ") < 0)", 6);
			int64_t v1020 = 0LL /* False */;
			VAL v1021 = MKI64(14LL /* C99RT_BOOL */);
			VAL v1022 = mtw_std_maybe_Maybe_1_Some(v1021);
			VAL v1023;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v1015), v1016, MKSTR(v1017), v1018, MKSTR(v1019), v1020, v1022, in_ZPlusC99Branch_3, &v1023);
			branch_ZPlusC99Branch_5 = v1023;
		} break;
		case 105LL: { // PRIM_STR_LE
			decref(in_Atom_1);
			STR* v1024;
			STRLIT(v1024, "(str_cmp(", 9);
			VAL v1025 = MKI64(2LL /* C99RT_STR */);
			STR* v1026;
			STRLIT(v1026, ", ", 2);
			VAL v1027 = MKI64(2LL /* C99RT_STR */);
			STR* v1028;
			STRLIT(v1028, ") <= 0)", 7);
			int64_t v1029 = 0LL /* False */;
			VAL v1030 = MKI64(14LL /* C99RT_BOOL */);
			VAL v1031 = mtw_std_maybe_Maybe_1_Some(v1030);
			VAL v1032;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v1024), v1025, MKSTR(v1026), v1027, MKSTR(v1028), v1029, v1031, in_ZPlusC99Branch_3, &v1032);
			branch_ZPlusC99Branch_5 = v1032;
		} break;
		case 106LL: { // PRIM_STR_GT
			decref(in_Atom_1);
			STR* v1033;
			STRLIT(v1033, "(str_cmp(", 9);
			VAL v1034 = MKI64(2LL /* C99RT_STR */);
			STR* v1035;
			STRLIT(v1035, ", ", 2);
			VAL v1036 = MKI64(2LL /* C99RT_STR */);
			STR* v1037;
			STRLIT(v1037, ") > 0)", 6);
			int64_t v1038 = 0LL /* False */;
			VAL v1039 = MKI64(14LL /* C99RT_BOOL */);
			VAL v1040 = mtw_std_maybe_Maybe_1_Some(v1039);
			VAL v1041;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v1033), v1034, MKSTR(v1035), v1036, MKSTR(v1037), v1038, v1040, in_ZPlusC99Branch_3, &v1041);
			branch_ZPlusC99Branch_5 = v1041;
		} break;
		case 107LL: { // PRIM_STR_GE
			decref(in_Atom_1);
			STR* v1042;
			STRLIT(v1042, "(str_cmp(", 9);
			VAL v1043 = MKI64(2LL /* C99RT_STR */);
			STR* v1044;
			STRLIT(v1044, ", ", 2);
			VAL v1045 = MKI64(2LL /* C99RT_STR */);
			STR* v1046;
			STRLIT(v1046, ") >= 0)", 7);
			int64_t v1047 = 0LL /* False */;
			VAL v1048 = MKI64(14LL /* C99RT_BOOL */);
			VAL v1049 = mtw_std_maybe_Maybe_1_Some(v1048);
			VAL v1050;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v1042), v1043, MKSTR(v1044), v1045, MKSTR(v1046), v1047, v1049, in_ZPlusC99Branch_3, &v1050);
			branch_ZPlusC99Branch_5 = v1050;
		} break;
		case 108LL: { // PRIM_STR_NE
			decref(in_Atom_1);
			STR* v1051;
			STRLIT(v1051, "(str_cmp(", 9);
			VAL v1052 = MKI64(2LL /* C99RT_STR */);
			STR* v1053;
			STRLIT(v1053, ", ", 2);
			VAL v1054 = MKI64(2LL /* C99RT_STR */);
			STR* v1055;
			STRLIT(v1055, ") != 0)", 7);
			int64_t v1056 = 0LL /* False */;
			VAL v1057 = MKI64(14LL /* C99RT_BOOL */);
			VAL v1058 = mtw_std_maybe_Maybe_1_Some(v1057);
			VAL v1059;
			mw_mirth_c99_c99Z_binopZBang(MKSTR(v1051), v1052, MKSTR(v1053), v1054, MKSTR(v1055), v1056, v1058, in_ZPlusC99Branch_3, &v1059);
			branch_ZPlusC99Branch_5 = v1059;
		} break;
		case 109LL: { // PRIM_SYS_OS
			decref(in_Atom_1);
			VAL v1060 = MKI64(4LL /* C99RT_I64 */);
			incref(v1060);
			int64_t v1061 = get_data_tag(v1060);
			decref(v1060);
			int64_t v1062 = 0LL;
			bool v1063 = (v1061 != v1062);
			VAL branch_C99ReprType_1064;
			int64_t branch_Bool_1065;
			VAL branch_Str_1066;
			VAL branch_ZPlusC99Branch_1067;
			if (v1063) {
				VAL v1068 = VTUP(in_ZPlusC99Branch_3)->cells[1];
				VAL v1069;
				VAL v1070 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v1068, &v1069);
				VTUP(in_ZPlusC99Branch_3)->cells[1] = v1069;
				branch_ZPlusC99Branch_1067 = in_ZPlusC99Branch_3;
				branch_Str_1066 = v1070;
				branch_Bool_1065 = ((int64_t)v1063);
				branch_C99ReprType_1064 = v1060;
			} else {
				STR* v1071;
				STRLIT(v1071, "0", 1);
				branch_ZPlusC99Branch_1067 = in_ZPlusC99Branch_3;
				branch_Str_1066 = MKSTR(v1071);
				branch_Bool_1065 = ((int64_t)v1063);
				branch_C99ReprType_1064 = v1060;
			}
			int64_t v1072 = value_i64(VTUP(branch_ZPlusC99Branch_1067)->cells[4]);
			bool v1073 = (((bool)branch_Bool_1065) && ((bool)v1072));
			VAL v1074 = VTUP(branch_ZPlusC99Branch_1067)->cells[1];
			int64_t v1075 = value_i64(VTUP(v1074)->cells[4]);
			bool v1076 = (v1073 && ((bool)v1075));
			VTUP(v1074)->cells[4] = MKBOOL(v1076);
			VAL v1077;
			mw_mirth_c99_ZPlusC99_indent(v1074, &v1077);
			incref(branch_C99ReprType_1064);
			VAL v1078 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1064);
			VAL v1079;
			mw_mirth_c99_ZPlusC99_put(v1078, v1077, &v1079);
			STR* v1080;
			STRLIT(v1080, " ", 1);
			VAL v1081;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1080), v1079, &v1081);
			incref(branch_Str_1066);
			VAL v1082;
			mw_mirth_c99_ZPlusC99_put(branch_Str_1066, v1081, &v1082);
			STR* v1083;
			STRLIT(v1083, " = ", 3);
			VAL v1084;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1083), v1082, &v1084);
			VAL v1085;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1064, branch_Str_1066, &v1085);
			STR* v1086;
			STRLIT(v1086, "RUNNING_OS", 10);
			VAL v1087;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1086), v1084, &v1087);
			STR* v1088;
			STRLIT(v1088, ";", 1);
			VAL v1089;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1088), v1087, &v1089);
			VAL v1090;
			mw_mirth_c99_ZPlusC99_line(v1089, &v1090);
			VTUP(v1090)->cells[4] = MKI64(v1075);
			VTUP(branch_ZPlusC99Branch_1067)->cells[1] = v1090;
			VAL v1091;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_1067, v1085, &v1091);
			branch_ZPlusC99Branch_5 = v1091;
		} break;
		case 110LL: { // PRIM_SYS_ARCH
			decref(in_Atom_1);
			VAL v1092 = MKI64(4LL /* C99RT_I64 */);
			incref(v1092);
			int64_t v1093 = get_data_tag(v1092);
			decref(v1092);
			int64_t v1094 = 0LL;
			bool v1095 = (v1093 != v1094);
			VAL branch_C99ReprType_1096;
			int64_t branch_Bool_1097;
			VAL branch_Str_1098;
			VAL branch_ZPlusC99Branch_1099;
			if (v1095) {
				VAL v1100 = VTUP(in_ZPlusC99Branch_3)->cells[1];
				VAL v1101;
				VAL v1102 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v1100, &v1101);
				VTUP(in_ZPlusC99Branch_3)->cells[1] = v1101;
				branch_ZPlusC99Branch_1099 = in_ZPlusC99Branch_3;
				branch_Str_1098 = v1102;
				branch_Bool_1097 = ((int64_t)v1095);
				branch_C99ReprType_1096 = v1092;
			} else {
				STR* v1103;
				STRLIT(v1103, "0", 1);
				branch_ZPlusC99Branch_1099 = in_ZPlusC99Branch_3;
				branch_Str_1098 = MKSTR(v1103);
				branch_Bool_1097 = ((int64_t)v1095);
				branch_C99ReprType_1096 = v1092;
			}
			int64_t v1104 = value_i64(VTUP(branch_ZPlusC99Branch_1099)->cells[4]);
			bool v1105 = (((bool)branch_Bool_1097) && ((bool)v1104));
			VAL v1106 = VTUP(branch_ZPlusC99Branch_1099)->cells[1];
			int64_t v1107 = value_i64(VTUP(v1106)->cells[4]);
			bool v1108 = (v1105 && ((bool)v1107));
			VTUP(v1106)->cells[4] = MKBOOL(v1108);
			VAL v1109;
			mw_mirth_c99_ZPlusC99_indent(v1106, &v1109);
			incref(branch_C99ReprType_1096);
			VAL v1110 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1096);
			VAL v1111;
			mw_mirth_c99_ZPlusC99_put(v1110, v1109, &v1111);
			STR* v1112;
			STRLIT(v1112, " ", 1);
			VAL v1113;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1112), v1111, &v1113);
			incref(branch_Str_1098);
			VAL v1114;
			mw_mirth_c99_ZPlusC99_put(branch_Str_1098, v1113, &v1114);
			STR* v1115;
			STRLIT(v1115, " = ", 3);
			VAL v1116;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1115), v1114, &v1116);
			VAL v1117;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1096, branch_Str_1098, &v1117);
			STR* v1118;
			STRLIT(v1118, "RUNNING_ARCH", 12);
			VAL v1119;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1118), v1116, &v1119);
			STR* v1120;
			STRLIT(v1120, ";", 1);
			VAL v1121;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1120), v1119, &v1121);
			VAL v1122;
			mw_mirth_c99_ZPlusC99_line(v1121, &v1122);
			VTUP(v1122)->cells[4] = MKI64(v1107);
			VTUP(branch_ZPlusC99Branch_1099)->cells[1] = v1122;
			VAL v1123;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_1099, v1117, &v1123);
			branch_ZPlusC99Branch_5 = v1123;
		} break;
		case 111LL: { // PRIM_SYS_ARGC
			decref(in_Atom_1);
			VAL v1124 = MKI64(4LL /* C99RT_I64 */);
			incref(v1124);
			int64_t v1125 = get_data_tag(v1124);
			decref(v1124);
			int64_t v1126 = 0LL;
			bool v1127 = (v1125 != v1126);
			VAL branch_C99ReprType_1128;
			int64_t branch_Bool_1129;
			VAL branch_Str_1130;
			VAL branch_ZPlusC99Branch_1131;
			if (v1127) {
				VAL v1132 = VTUP(in_ZPlusC99Branch_3)->cells[1];
				VAL v1133;
				VAL v1134 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v1132, &v1133);
				VTUP(in_ZPlusC99Branch_3)->cells[1] = v1133;
				branch_ZPlusC99Branch_1131 = in_ZPlusC99Branch_3;
				branch_Str_1130 = v1134;
				branch_Bool_1129 = ((int64_t)v1127);
				branch_C99ReprType_1128 = v1124;
			} else {
				STR* v1135;
				STRLIT(v1135, "0", 1);
				branch_ZPlusC99Branch_1131 = in_ZPlusC99Branch_3;
				branch_Str_1130 = MKSTR(v1135);
				branch_Bool_1129 = ((int64_t)v1127);
				branch_C99ReprType_1128 = v1124;
			}
			int64_t v1136 = value_i64(VTUP(branch_ZPlusC99Branch_1131)->cells[4]);
			bool v1137 = (((bool)branch_Bool_1129) && ((bool)v1136));
			VAL v1138 = VTUP(branch_ZPlusC99Branch_1131)->cells[1];
			int64_t v1139 = value_i64(VTUP(v1138)->cells[4]);
			bool v1140 = (v1137 && ((bool)v1139));
			VTUP(v1138)->cells[4] = MKBOOL(v1140);
			VAL v1141;
			mw_mirth_c99_ZPlusC99_indent(v1138, &v1141);
			incref(branch_C99ReprType_1128);
			VAL v1142 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1128);
			VAL v1143;
			mw_mirth_c99_ZPlusC99_put(v1142, v1141, &v1143);
			STR* v1144;
			STRLIT(v1144, " ", 1);
			VAL v1145;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1144), v1143, &v1145);
			incref(branch_Str_1130);
			VAL v1146;
			mw_mirth_c99_ZPlusC99_put(branch_Str_1130, v1145, &v1146);
			STR* v1147;
			STRLIT(v1147, " = ", 3);
			VAL v1148;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1147), v1146, &v1148);
			VAL v1149;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1128, branch_Str_1130, &v1149);
			STR* v1150;
			STRLIT(v1150, "global_argc", 11);
			VAL v1151;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1150), v1148, &v1151);
			STR* v1152;
			STRLIT(v1152, ";", 1);
			VAL v1153;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1152), v1151, &v1153);
			VAL v1154;
			mw_mirth_c99_ZPlusC99_line(v1153, &v1154);
			VTUP(v1154)->cells[4] = MKI64(v1139);
			VTUP(branch_ZPlusC99Branch_1131)->cells[1] = v1154;
			VAL v1155;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_1131, v1149, &v1155);
			branch_ZPlusC99Branch_5 = v1155;
		} break;
		case 112LL: { // PRIM_SYS_ARGV
			decref(in_Atom_1);
			VAL v1156 = MKI64(15LL /* C99RT_PTR */);
			incref(v1156);
			int64_t v1157 = get_data_tag(v1156);
			decref(v1156);
			int64_t v1158 = 0LL;
			bool v1159 = (v1157 != v1158);
			VAL branch_C99ReprType_1160;
			int64_t branch_Bool_1161;
			VAL branch_Str_1162;
			VAL branch_ZPlusC99Branch_1163;
			if (v1159) {
				VAL v1164 = VTUP(in_ZPlusC99Branch_3)->cells[1];
				VAL v1165;
				VAL v1166 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v1164, &v1165);
				VTUP(in_ZPlusC99Branch_3)->cells[1] = v1165;
				branch_ZPlusC99Branch_1163 = in_ZPlusC99Branch_3;
				branch_Str_1162 = v1166;
				branch_Bool_1161 = ((int64_t)v1159);
				branch_C99ReprType_1160 = v1156;
			} else {
				STR* v1167;
				STRLIT(v1167, "0", 1);
				branch_ZPlusC99Branch_1163 = in_ZPlusC99Branch_3;
				branch_Str_1162 = MKSTR(v1167);
				branch_Bool_1161 = ((int64_t)v1159);
				branch_C99ReprType_1160 = v1156;
			}
			int64_t v1168 = value_i64(VTUP(branch_ZPlusC99Branch_1163)->cells[4]);
			bool v1169 = (((bool)branch_Bool_1161) && ((bool)v1168));
			VAL v1170 = VTUP(branch_ZPlusC99Branch_1163)->cells[1];
			int64_t v1171 = value_i64(VTUP(v1170)->cells[4]);
			bool v1172 = (v1169 && ((bool)v1171));
			VTUP(v1170)->cells[4] = MKBOOL(v1172);
			VAL v1173;
			mw_mirth_c99_ZPlusC99_indent(v1170, &v1173);
			incref(branch_C99ReprType_1160);
			VAL v1174 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_1160);
			VAL v1175;
			mw_mirth_c99_ZPlusC99_put(v1174, v1173, &v1175);
			STR* v1176;
			STRLIT(v1176, " ", 1);
			VAL v1177;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1176), v1175, &v1177);
			incref(branch_Str_1162);
			VAL v1178;
			mw_mirth_c99_ZPlusC99_put(branch_Str_1162, v1177, &v1178);
			STR* v1179;
			STRLIT(v1179, " = ", 3);
			VAL v1180;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1179), v1178, &v1180);
			VAL v1181;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_1160, branch_Str_1162, &v1181);
			STR* v1182;
			STRLIT(v1182, "global_argv", 11);
			VAL v1183;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1182), v1180, &v1183);
			STR* v1184;
			STRLIT(v1184, ";", 1);
			VAL v1185;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v1184), v1183, &v1185);
			VAL v1186;
			mw_mirth_c99_ZPlusC99_line(v1185, &v1186);
			VTUP(v1186)->cells[4] = MKI64(v1171);
			VTUP(branch_ZPlusC99Branch_1163)->cells[1] = v1186;
			VAL v1187;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_1163, v1181, &v1187);
			branch_ZPlusC99Branch_5 = v1187;
		} break;
		case 12LL: { // PRIM_CORE_MATCH
			VAL v1188;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1188);
			branch_ZPlusC99Branch_5 = v1188;
		} break;
		case 13LL: { // PRIM_CORE_LAMBDA
			VAL v1189;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1189);
			branch_ZPlusC99Branch_5 = v1189;
		} break;
		case 113LL: { // PRIM_SYNTAX_MODULE
			VAL v1190;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1190);
			branch_ZPlusC99Branch_5 = v1190;
		} break;
		case 114LL: { // PRIM_SYNTAX_IMPORT
			VAL v1191;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1191);
			branch_ZPlusC99Branch_5 = v1191;
		} break;
		case 115LL: { // PRIM_SYNTAX_ALIAS
			VAL v1192;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1192);
			branch_ZPlusC99Branch_5 = v1192;
		} break;
		case 116LL: { // PRIM_SYNTAX_INLINE
			VAL v1193;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1193);
			branch_ZPlusC99Branch_5 = v1193;
		} break;
		case 117LL: { // PRIM_SYNTAX_DEF
			VAL v1194;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1194);
			branch_ZPlusC99Branch_5 = v1194;
		} break;
		case 118LL: { // PRIM_SYNTAX_DEF_MISSING
			VAL v1195;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1195);
			branch_ZPlusC99Branch_5 = v1195;
		} break;
		case 119LL: { // PRIM_SYNTAX_DEF_TYPE
			VAL v1196;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1196);
			branch_ZPlusC99Branch_5 = v1196;
		} break;
		case 120LL: { // PRIM_SYNTAX_BUFFER
			VAL v1197;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1197);
			branch_ZPlusC99Branch_5 = v1197;
		} break;
		case 121LL: { // PRIM_SYNTAX_VARIABLE
			VAL v1198;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1198);
			branch_ZPlusC99Branch_5 = v1198;
		} break;
		case 122LL: { // PRIM_SYNTAX_EXTERNAL
			VAL v1199;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1199);
			branch_ZPlusC99Branch_5 = v1199;
		} break;
		case 123LL: { // PRIM_SYNTAX_DEF_EXTERNAL
			VAL v1200;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1200);
			branch_ZPlusC99Branch_5 = v1200;
		} break;
		case 124LL: { // PRIM_SYNTAX_EMBED_STR
			VAL v1201;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1201);
			branch_ZPlusC99Branch_5 = v1201;
		} break;
		case 125LL: { // PRIM_SYNTAX_TABLE
			VAL v1202;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1202);
			branch_ZPlusC99Branch_5 = v1202;
		} break;
		case 126LL: { // PRIM_SYNTAX_FIELD
			VAL v1203;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1203);
			branch_ZPlusC99Branch_5 = v1203;
		} break;
		case 127LL: { // PRIM_SYNTAX_DATA
			VAL v1204;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1204);
			branch_ZPlusC99Branch_5 = v1204;
		} break;
		case 128LL: { // PRIM_SYNTAX_STRUCT
			VAL v1205;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1205);
			branch_ZPlusC99Branch_5 = v1205;
		} break;
		case 129LL: { // PRIM_SYNTAX_DASHES
			VAL v1206;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1206);
			branch_ZPlusC99Branch_5 = v1206;
		} break;
		case 130LL: { // PRIM_SYNTAX_ARROW
			VAL v1207;
			mw_mirth_c99_c99Z_primZ_syntaxZBang(in_Atom_1, in_ZPlusC99Branch_3, &v1207);
			branch_ZPlusC99Branch_5 = v1207;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_5;
}
static void mw_mirth_c99_c99Z_tupZ_packZBang (int64_t in_Nat_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	int64_t v4 = 1LL;
	bool v5 = (in_Nat_1 >= v4);
	int64_t v6 = 5LL;
	bool v7 = (in_Nat_1 <= v6);
	bool v8 = (v5 && v7);
	VAL branch_ZPlusC99Branch_9;
	if (v8) {
		branch_ZPlusC99Branch_9 = in_ZPlusC99Branch_2;
	} else {
		STR* v10;
		STRLIT(v10, "c99-tup-pack! called with unsupported arity", 43);
		VAL v11;
		mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v10), in_ZPlusC99Branch_2, &v11);
	}
	VAL v12 = MKI64(0LL /* Nil */);
	int64_t v13 = 0LL;
	bool v14 = (in_Nat_1 > v13);
	VAL v15 = v12;
	VAL v16 = branch_ZPlusC99Branch_9;
	int64_t v17 = in_Nat_1;
	bool v18 = v14;
	while (v18) {
		VAL v19 = v15;
		VAL v20 = v16;
		int64_t v21 = v17;
		VAL v22 = MKI64(1LL /* C99RT_VAL */);
		VAL v23;
		VAL v24;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v20, v22, &v23, &v24);
		VAL v25 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v24);
		VAL v26 = mtw_std_list_List_1_Cons(v25, v19);
		int64_t v27 = 1LL;
		int64_t v28 = i64_sub(v21, v27);
		int64_t v29 = 0LL;
		bool v30 = (v28 < v29);
		int64_t branch_Nat_31;
		if (v30) {
			int64_t v32 = 0LL;
			branch_Nat_31 = v32;
		} else {
			branch_Nat_31 = v28;
		}
		int64_t v33 = 0LL;
		bool v34 = (branch_Nat_31 > v33);
		v18 = v34;
		v17 = branch_Nat_31;
		v16 = v23;
		v15 = v26;
	}
	VAL v35 = mtw_mirth_c99_C99ReprType_C99RTz_TUP(in_Nat_1);
	incref(v35);
	int64_t v36 = get_data_tag(v35);
	decref(v35);
	int64_t v37 = 0LL;
	bool v38 = (v36 != v37);
	VAL branch_List_39;
	int64_t branch_Nat_40;
	VAL branch_C99ReprType_41;
	int64_t branch_Bool_42;
	VAL branch_Str_43;
	VAL branch_ZPlusC99Branch_44;
	if (v38) {
		VAL v45 = VTUP(v16)->cells[1];
		VAL v46;
		VAL v47 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v45, &v46);
		VTUP(v16)->cells[1] = v46;
		branch_ZPlusC99Branch_44 = v16;
		branch_Str_43 = v47;
		branch_Bool_42 = ((int64_t)v38);
		branch_C99ReprType_41 = v35;
		branch_Nat_40 = in_Nat_1;
		branch_List_39 = v15;
	} else {
		STR* v48;
		STRLIT(v48, "0", 1);
		branch_ZPlusC99Branch_44 = v16;
		branch_Str_43 = MKSTR(v48);
		branch_Bool_42 = ((int64_t)v38);
		branch_C99ReprType_41 = v35;
		branch_Nat_40 = in_Nat_1;
		branch_List_39 = v15;
	}
	int64_t v49 = value_i64(VTUP(branch_ZPlusC99Branch_44)->cells[4]);
	bool v50 = (((bool)branch_Bool_42) && ((bool)v49));
	VAL v51 = VTUP(branch_ZPlusC99Branch_44)->cells[1];
	int64_t v52 = value_i64(VTUP(v51)->cells[4]);
	bool v53 = (v50 && ((bool)v52));
	VTUP(v51)->cells[4] = MKBOOL(v53);
	VAL v54;
	mw_mirth_c99_ZPlusC99_indent(v51, &v54);
	incref(branch_C99ReprType_41);
	VAL v55 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_41);
	VAL v56;
	mw_mirth_c99_ZPlusC99_put(v55, v54, &v56);
	STR* v57;
	STRLIT(v57, " ", 1);
	VAL v58;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v57), v56, &v58);
	incref(branch_Str_43);
	VAL v59;
	mw_mirth_c99_ZPlusC99_put(branch_Str_43, v58, &v59);
	STR* v60;
	STRLIT(v60, " = ", 3);
	VAL v61;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v60), v59, &v61);
	VAL v62;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_41, branch_Str_43, &v62);
	STR* v63;
	STRLIT(v63, "tup_pack", 8);
	VAL v64;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v63), v61, &v64);
	STR* v65 = i64_show(branch_Nat_40);
	VAL v66;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v65), v64, &v66);
	STR* v67;
	STRLIT(v67, "(", 1);
	VAL v68;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v67), v66, &v68);
	VAL v69;
	mw_std_list_List_1_for_2_sp1(v68, branch_List_39, &v69);
	STR* v70;
	STRLIT(v70, ")", 1);
	VAL v71;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v70), v69, &v71);
	STR* v72;
	STRLIT(v72, ";", 1);
	VAL v73;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v72), v71, &v73);
	VAL v74;
	mw_mirth_c99_ZPlusC99_line(v73, &v74);
	VTUP(v74)->cells[4] = MKI64(v52);
	VTUP(branch_ZPlusC99Branch_44)->cells[1] = v74;
	VAL v75;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_44, v62, &v75);
	*out_ZPlusC99Branch_3 = v75;
}
static void mw_mirth_c99_c99Z_tupZ_unpackZBang (int64_t in_Nat_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mtw_mirth_c99_C99ReprType_C99RTz_TUP(in_Nat_1);
	incref(v4);
	VAL v5;
	VAL v6;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_2, v4, &v5, &v6);
	VAL v7 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v4, v6);
	int64_t v8 = 0LL;
	int64_t v9 = 0LL;
	bool v10 = (in_Nat_1 > v9);
	VAL v11 = v7;
	VAL v12 = v5;
	int64_t v13 = v8;
	int64_t v14 = in_Nat_1;
	bool v15 = v10;
	while (v15) {
		VAL v16 = v11;
		VAL v17 = v12;
		int64_t v18 = v13;
		int64_t v19 = v14;
		VAL v20 = MKI64(1LL /* C99RT_VAL */);
		incref(v20);
		int64_t v21 = get_data_tag(v20);
		decref(v20);
		int64_t v22 = 0LL;
		bool v23 = (v21 != v22);
		int64_t branch_Nat_24;
		VAL branch_Str_25;
		VAL branch_C99ReprType_26;
		int64_t branch_Bool_27;
		VAL branch_Str_28;
		VAL branch_ZPlusC99Branch_29;
		if (v23) {
			VAL v30 = VTUP(v17)->cells[1];
			VAL v31;
			VAL v32 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v30, &v31);
			VTUP(v17)->cells[1] = v31;
			branch_ZPlusC99Branch_29 = v17;
			branch_Str_28 = v32;
			branch_Bool_27 = ((int64_t)v23);
			branch_C99ReprType_26 = v20;
			branch_Str_25 = v16;
			branch_Nat_24 = v18;
		} else {
			STR* v33;
			STRLIT(v33, "0", 1);
			branch_ZPlusC99Branch_29 = v17;
			branch_Str_28 = MKSTR(v33);
			branch_Bool_27 = ((int64_t)v23);
			branch_C99ReprType_26 = v20;
			branch_Str_25 = v16;
			branch_Nat_24 = v18;
		}
		int64_t v34 = value_i64(VTUP(branch_ZPlusC99Branch_29)->cells[4]);
		bool v35 = (((bool)branch_Bool_27) && ((bool)v34));
		VAL v36 = VTUP(branch_ZPlusC99Branch_29)->cells[1];
		int64_t v37 = value_i64(VTUP(v36)->cells[4]);
		bool v38 = (v35 && ((bool)v37));
		VTUP(v36)->cells[4] = MKBOOL(v38);
		VAL v39;
		mw_mirth_c99_ZPlusC99_indent(v36, &v39);
		incref(branch_C99ReprType_26);
		VAL v40 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_26);
		VAL v41;
		mw_mirth_c99_ZPlusC99_put(v40, v39, &v41);
		STR* v42;
		STRLIT(v42, " ", 1);
		VAL v43;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v42), v41, &v43);
		incref(branch_Str_28);
		VAL v44;
		mw_mirth_c99_ZPlusC99_put(branch_Str_28, v43, &v44);
		STR* v45;
		STRLIT(v45, " = ", 3);
		VAL v46;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v45), v44, &v46);
		VAL v47;
		mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_26, branch_Str_28, &v47);
		incref(branch_Str_25);
		VAL v48;
		mw_mirth_c99_ZPlusC99_put(branch_Str_25, v46, &v48);
		STR* v49;
		STRLIT(v49, "->cells[", 8);
		VAL v50;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v49), v48, &v50);
		STR* v51 = i64_show(branch_Nat_24);
		VAL v52;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v51), v50, &v52);
		STR* v53;
		STRLIT(v53, "]", 1);
		VAL v54;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v53), v52, &v54);
		STR* v55;
		STRLIT(v55, ";", 1);
		VAL v56;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v55), v54, &v56);
		VAL v57;
		mw_mirth_c99_ZPlusC99_line(v56, &v57);
		VTUP(v57)->cells[4] = MKI64(v37);
		VTUP(branch_ZPlusC99Branch_29)->cells[1] = v57;
		VAL v58;
		mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_29, v47, &v58);
		int64_t v59 = 1LL;
		int64_t v60 = i64_add(v18, v59);
		int64_t v61 = 1LL;
		int64_t v62 = i64_sub(v19, v61);
		int64_t v63 = 0LL;
		bool v64 = (v62 < v63);
		int64_t branch_Nat_65;
		if (v64) {
			int64_t v66 = 0LL;
			branch_Nat_65 = v66;
		} else {
			branch_Nat_65 = v62;
		}
		int64_t v67 = 0LL;
		bool v68 = (branch_Nat_65 > v67);
		v15 = v68;
		v14 = branch_Nat_65;
		v13 = v60;
		v12 = v58;
		v11 = branch_Str_25;
	}
	int64_t v69 = value_i64(VTUP(v12)->cells[4]);
	VAL v70 = VTUP(v12)->cells[1];
	int64_t v71 = value_i64(VTUP(v70)->cells[4]);
	bool v72 = (((bool)v69) && ((bool)v71));
	VTUP(v70)->cells[4] = MKBOOL(v72);
	VAL v73;
	mw_mirth_c99_ZPlusC99_indent(v70, &v73);
	STR* v74;
	STRLIT(v74, "tup_decref_outer(", 17);
	VAL v75;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v74), v73, &v75);
	VAL v76;
	mw_mirth_c99_ZPlusC99_put(v11, v75, &v76);
	STR* v77;
	STRLIT(v77, ", ", 2);
	VAL v78;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v77), v76, &v78);
	STR* v79 = i64_show(in_Nat_1);
	VAL v80;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v79), v78, &v80);
	STR* v81;
	STRLIT(v81, ");", 2);
	VAL v82;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v81), v80, &v82);
	VAL v83;
	mw_mirth_c99_ZPlusC99_line(v82, &v83);
	VTUP(v83)->cells[4] = MKI64(v71);
	VTUP(v12)->cells[1] = v83;
	*out_ZPlusC99Branch_3 = v12;
}
static void mw_mirth_c99_ZPlusC99Value_runZ_valueZBang (VAL in_ZPlusC99Branch_1, VAL in_ZPlusC99Value_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(in_ZPlusC99Value_2);
	VAL v5;
	mw_mirth_c99_ZPlusC99Branch_flushZ_cacheZBang(in_ZPlusC99Branch_1, &v5);
	int64_t v6 = value_i64(VTUP(v5)->cells[4]);
	VAL v7 = VTUP(v5)->cells[1];
	int64_t v8 = value_i64(VTUP(v7)->cells[4]);
	bool v9 = (((bool)v6) && ((bool)v8));
	VTUP(v7)->cells[4] = MKBOOL(v9);
	VAL v10;
	mw_mirth_c99_ZPlusC99_indent(v7, &v10);
	STR* v11;
	STRLIT(v11, "run_value(", 10);
	VAL v12;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v11), v10, &v12);
	VAL v13;
	mw_mirth_c99_ZPlusC99_put(v4, v12, &v13);
	STR* v14;
	STRLIT(v14, ");", 2);
	VAL v15;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v14), v13, &v15);
	VAL v16;
	mw_mirth_c99_ZPlusC99_line(v15, &v16);
	VTUP(v16)->cells[4] = MKI64(v8);
	VTUP(v5)->cells[1] = v16;
	*out_ZPlusC99Branch_3 = v5;
}
static void mw_mirth_c99_c99Z_primZ_syntaxZBang (VAL in_Atom_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	uint64_t v4 = value_u64(VTUP(in_Atom_1)->cells[2]);
	decref(in_Atom_1);
	STR* v5;
	STRLIT(v5, "unexpected syntax primitive", 27);
	VAL v6;
	mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13(v4, MKSTR(v5), in_ZPlusC99Branch_2, &v6);
}
static void mw_mirth_c99_c99Z_binopZBang (VAL in_Str_1, VAL in_C99ReprType_2, VAL in_Str_3, VAL in_C99ReprType_4, VAL in_Str_5, int64_t in_Bool_6, VAL in_Maybe_7, VAL in_ZPlusC99Branch_8, VAL *out_ZPlusC99Branch_9) {
	VAL branch_Maybe_10;
	VAL branch_Str_11;
	VAL branch_Str_12;
	VAL branch_Str_13;
	VAL branch_Str_14;
	VAL branch_ZPlusC99Branch_15;
	VAL branch_Str_16;
	if (((bool)in_Bool_6)) {
		incref(in_C99ReprType_2);
		VAL v17;
		VAL v18;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_8, in_C99ReprType_2, &v17, &v18);
		VAL v19 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_2, v18);
		incref(in_C99ReprType_4);
		VAL v20;
		VAL v21;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v17, in_C99ReprType_4, &v20, &v21);
		VAL v22 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_4, v21);
		branch_Str_16 = v22;
		branch_ZPlusC99Branch_15 = v20;
		branch_Str_14 = v19;
		branch_Str_13 = in_Str_1;
		branch_Str_12 = in_Str_3;
		branch_Str_11 = in_Str_5;
		branch_Maybe_10 = in_Maybe_7;
	} else {
		incref(in_C99ReprType_4);
		VAL v23;
		VAL v24;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_8, in_C99ReprType_4, &v23, &v24);
		VAL v25 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_4, v24);
		incref(in_C99ReprType_2);
		VAL v26;
		VAL v27;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v23, in_C99ReprType_2, &v26, &v27);
		VAL v28 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_2, v27);
		branch_Str_16 = v25;
		branch_ZPlusC99Branch_15 = v26;
		branch_Str_14 = v28;
		branch_Str_13 = in_Str_1;
		branch_Str_12 = in_Str_3;
		branch_Str_11 = in_Str_5;
		branch_Maybe_10 = in_Maybe_7;
	}
	VAL branch_ZPlusC99Branch_29;
	switch (get_data_tag(branch_Maybe_10)) {
		case 1LL: { // Some
			VAL v30 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_10);
			incref(v30);
			int64_t v31 = get_data_tag(v30);
			decref(v30);
			int64_t v32 = 0LL;
			bool v33 = (v31 != v32);
			VAL branch_Str_34;
			VAL branch_Str_35;
			VAL branch_Str_36;
			VAL branch_Str_37;
			VAL branch_Str_38;
			VAL branch_C99ReprType_39;
			int64_t branch_Bool_40;
			VAL branch_Str_41;
			VAL branch_ZPlusC99Branch_42;
			if (v33) {
				VAL v43 = VTUP(branch_ZPlusC99Branch_15)->cells[1];
				VAL v44;
				VAL v45 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v43, &v44);
				VTUP(branch_ZPlusC99Branch_15)->cells[1] = v44;
				branch_ZPlusC99Branch_42 = branch_ZPlusC99Branch_15;
				branch_Str_41 = v45;
				branch_Bool_40 = ((int64_t)v33);
				branch_C99ReprType_39 = v30;
				branch_Str_38 = branch_Str_13;
				branch_Str_37 = branch_Str_14;
				branch_Str_36 = branch_Str_12;
				branch_Str_35 = branch_Str_16;
				branch_Str_34 = branch_Str_11;
			} else {
				STR* v46;
				STRLIT(v46, "0", 1);
				branch_ZPlusC99Branch_42 = branch_ZPlusC99Branch_15;
				branch_Str_41 = MKSTR(v46);
				branch_Bool_40 = ((int64_t)v33);
				branch_C99ReprType_39 = v30;
				branch_Str_38 = branch_Str_13;
				branch_Str_37 = branch_Str_14;
				branch_Str_36 = branch_Str_12;
				branch_Str_35 = branch_Str_16;
				branch_Str_34 = branch_Str_11;
			}
			int64_t v47 = value_i64(VTUP(branch_ZPlusC99Branch_42)->cells[4]);
			bool v48 = (((bool)branch_Bool_40) && ((bool)v47));
			VAL v49 = VTUP(branch_ZPlusC99Branch_42)->cells[1];
			int64_t v50 = value_i64(VTUP(v49)->cells[4]);
			bool v51 = (v48 && ((bool)v50));
			VTUP(v49)->cells[4] = MKBOOL(v51);
			VAL v52;
			mw_mirth_c99_ZPlusC99_indent(v49, &v52);
			incref(branch_C99ReprType_39);
			VAL v53 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_39);
			VAL v54;
			mw_mirth_c99_ZPlusC99_put(v53, v52, &v54);
			STR* v55;
			STRLIT(v55, " ", 1);
			VAL v56;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v55), v54, &v56);
			incref(branch_Str_41);
			VAL v57;
			mw_mirth_c99_ZPlusC99_put(branch_Str_41, v56, &v57);
			STR* v58;
			STRLIT(v58, " = ", 3);
			VAL v59;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v58), v57, &v59);
			VAL v60;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_39, branch_Str_41, &v60);
			VAL v61;
			mw_mirth_c99_ZPlusC99_put(branch_Str_38, v59, &v61);
			VAL v62;
			mw_mirth_c99_ZPlusC99_put(branch_Str_37, v61, &v62);
			VAL v63;
			mw_mirth_c99_ZPlusC99_put(branch_Str_36, v62, &v63);
			VAL v64;
			mw_mirth_c99_ZPlusC99_put(branch_Str_35, v63, &v64);
			VAL v65;
			mw_mirth_c99_ZPlusC99_put(branch_Str_34, v64, &v65);
			STR* v66;
			STRLIT(v66, ";", 1);
			VAL v67;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v66), v65, &v67);
			VAL v68;
			mw_mirth_c99_ZPlusC99_line(v67, &v68);
			VTUP(v68)->cells[4] = MKI64(v50);
			VTUP(branch_ZPlusC99Branch_42)->cells[1] = v68;
			VAL v69;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_42, v60, &v69);
			branch_ZPlusC99Branch_29 = v69;
		} break;
		case 0LL: { // None
			int64_t v70 = value_i64(VTUP(branch_ZPlusC99Branch_15)->cells[4]);
			VAL v71 = VTUP(branch_ZPlusC99Branch_15)->cells[1];
			int64_t v72 = value_i64(VTUP(v71)->cells[4]);
			bool v73 = (((bool)v70) && ((bool)v72));
			VTUP(v71)->cells[4] = MKBOOL(v73);
			VAL v74;
			mw_mirth_c99_ZPlusC99_indent(v71, &v74);
			VAL v75;
			mw_mirth_c99_ZPlusC99_put(branch_Str_13, v74, &v75);
			VAL v76;
			mw_mirth_c99_ZPlusC99_put(branch_Str_14, v75, &v76);
			VAL v77;
			mw_mirth_c99_ZPlusC99_put(branch_Str_12, v76, &v77);
			VAL v78;
			mw_mirth_c99_ZPlusC99_put(branch_Str_16, v77, &v78);
			VAL v79;
			mw_mirth_c99_ZPlusC99_put(branch_Str_11, v78, &v79);
			VAL v80;
			mw_mirth_c99_ZPlusC99_line(v79, &v80);
			VTUP(v80)->cells[4] = MKI64(v72);
			VTUP(branch_ZPlusC99Branch_15)->cells[1] = v80;
			branch_ZPlusC99Branch_29 = branch_ZPlusC99Branch_15;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_9 = branch_ZPlusC99Branch_29;
}
static void mw_mirth_c99_c99Z_unopZBang (VAL in_Str_1, VAL in_C99ReprType_2, VAL in_Str_3, VAL in_Maybe_4, VAL in_ZPlusC99Branch_5, VAL *out_ZPlusC99Branch_6) {
	incref(in_C99ReprType_2);
	VAL v7;
	VAL v8;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_5, in_C99ReprType_2, &v7, &v8);
	VAL v9 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(in_C99ReprType_2, v8);
	VAL branch_ZPlusC99Branch_10;
	switch (get_data_tag(in_Maybe_4)) {
		case 1LL: { // Some
			VAL v11 = mtp_std_maybe_Maybe_1_Some(in_Maybe_4);
			incref(v11);
			int64_t v12 = get_data_tag(v11);
			decref(v11);
			int64_t v13 = 0LL;
			bool v14 = (v12 != v13);
			VAL branch_Str_15;
			VAL branch_Str_16;
			VAL branch_Str_17;
			VAL branch_C99ReprType_18;
			int64_t branch_Bool_19;
			VAL branch_Str_20;
			VAL branch_ZPlusC99Branch_21;
			if (v14) {
				VAL v22 = VTUP(v7)->cells[1];
				VAL v23;
				VAL v24 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v22, &v23);
				VTUP(v7)->cells[1] = v23;
				branch_ZPlusC99Branch_21 = v7;
				branch_Str_20 = v24;
				branch_Bool_19 = ((int64_t)v14);
				branch_C99ReprType_18 = v11;
				branch_Str_17 = in_Str_1;
				branch_Str_16 = v9;
				branch_Str_15 = in_Str_3;
			} else {
				STR* v25;
				STRLIT(v25, "0", 1);
				branch_ZPlusC99Branch_21 = v7;
				branch_Str_20 = MKSTR(v25);
				branch_Bool_19 = ((int64_t)v14);
				branch_C99ReprType_18 = v11;
				branch_Str_17 = in_Str_1;
				branch_Str_16 = v9;
				branch_Str_15 = in_Str_3;
			}
			int64_t v26 = value_i64(VTUP(branch_ZPlusC99Branch_21)->cells[4]);
			bool v27 = (((bool)branch_Bool_19) && ((bool)v26));
			VAL v28 = VTUP(branch_ZPlusC99Branch_21)->cells[1];
			int64_t v29 = value_i64(VTUP(v28)->cells[4]);
			bool v30 = (v27 && ((bool)v29));
			VTUP(v28)->cells[4] = MKBOOL(v30);
			VAL v31;
			mw_mirth_c99_ZPlusC99_indent(v28, &v31);
			incref(branch_C99ReprType_18);
			VAL v32 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_18);
			VAL v33;
			mw_mirth_c99_ZPlusC99_put(v32, v31, &v33);
			STR* v34;
			STRLIT(v34, " ", 1);
			VAL v35;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v34), v33, &v35);
			incref(branch_Str_20);
			VAL v36;
			mw_mirth_c99_ZPlusC99_put(branch_Str_20, v35, &v36);
			STR* v37;
			STRLIT(v37, " = ", 3);
			VAL v38;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v37), v36, &v38);
			VAL v39;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_18, branch_Str_20, &v39);
			VAL v40;
			mw_mirth_c99_ZPlusC99_put(branch_Str_17, v38, &v40);
			VAL v41;
			mw_mirth_c99_ZPlusC99_put(branch_Str_16, v40, &v41);
			VAL v42;
			mw_mirth_c99_ZPlusC99_put(branch_Str_15, v41, &v42);
			STR* v43;
			STRLIT(v43, ";", 1);
			VAL v44;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v43), v42, &v44);
			VAL v45;
			mw_mirth_c99_ZPlusC99_line(v44, &v45);
			VTUP(v45)->cells[4] = MKI64(v29);
			VTUP(branch_ZPlusC99Branch_21)->cells[1] = v45;
			VAL v46;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_21, v39, &v46);
			branch_ZPlusC99Branch_10 = v46;
		} break;
		case 0LL: { // None
			int64_t v47 = value_i64(VTUP(v7)->cells[4]);
			VAL v48 = VTUP(v7)->cells[1];
			int64_t v49 = value_i64(VTUP(v48)->cells[4]);
			bool v50 = (((bool)v47) && ((bool)v49));
			VTUP(v48)->cells[4] = MKBOOL(v50);
			VAL v51;
			mw_mirth_c99_ZPlusC99_indent(v48, &v51);
			VAL v52;
			mw_mirth_c99_ZPlusC99_put(in_Str_1, v51, &v52);
			VAL v53;
			mw_mirth_c99_ZPlusC99_put(v9, v52, &v53);
			VAL v54;
			mw_mirth_c99_ZPlusC99_put(in_Str_3, v53, &v54);
			VAL v55;
			mw_mirth_c99_ZPlusC99_line(v54, &v55);
			VTUP(v55)->cells[4] = MKI64(v49);
			VTUP(v7)->cells[1] = v55;
			branch_ZPlusC99Branch_10 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_10;
}
static void mw_mirth_c99_c99Z_argsZ_pushZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	int64_t v4 = 1LL /* True */;
	VAL v5 = in_ZPlusC99Branch_2;
	VAL v6 = in_List_1;
	int64_t v7 = v4;
	int64_t v8 = v4;
	while (((bool)v8)) {
		VAL v9 = v5;
		VAL v10 = v6;
		int64_t v11 = v7;
		VAL branch_ZPlusC99Branch_12;
		VAL branch_List_13;
		int64_t branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17;
				mw_mirth_c99_c99Z_argZ_pushZBang(value_u64(v16), v9, &v17);
				int64_t v18 = 1LL /* True */;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_ZPlusC99Branch_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				int64_t v20 = 0LL /* False */;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_ZPlusC99Branch_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_ZPlusC99Branch_12;
	}
	decref(v6);
	*out_ZPlusC99Branch_3 = v5;
}
static void mw_mirth_c99_c99Z_argZ_pushZBang (uint64_t in_Arg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	mw_mirth_c99_c99Z_blockZ_pushZBang(in_Arg_1, in_ZPlusC99Branch_2, &v4);
	*out_ZPlusC99Branch_3 = v4;
}
static void mw_mirth_c99_c99Z_argZ_runZBang (uint64_t in_Arg_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	mw_mirth_c99_c99Z_blockZ_runZBang(in_Arg_1, in_ZPlusC99Branch_2, &v4);
	*out_ZPlusC99Branch_3 = v4;
}
static void mw_mirth_c99_c99Z_blockZ_runZBang (uint64_t in_Block_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	VAL v5 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp1(in_Block_1, in_ZPlusC99Branch_2, &v4);
	VAL v6;
	mw_mirth_c99_c99Z_codipZ_arrowZBang(v5, v4, &v6);
	*out_ZPlusC99Branch_3 = v6;
}
static void mw_mirth_c99_c99Z_packZ_closureZ_varsZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_std_list_List_1_filter_1_sp1(in_List_1);
	incref(v4);
	int64_t v5 = mw_std_list_List_1_emptyZAsk(v4);
	VAL branch_ZPlusC99Branch_6;
	if (((bool)v5)) {
		decref(v4);
		branch_ZPlusC99Branch_6 = in_ZPlusC99Branch_2;
	} else {
		incref(v4);
		int64_t v7 = mw_std_list_List_1_len(v4);
		int64_t v8 = 1LL;
		int64_t v9 = i64_add(v7, v8);
		STR* v10 = i64_show(v9);
		VAL v11 = MKI64(16LL /* C99RT_FNPTR */);
		VAL v12;
		VAL v13;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_2, v11, &v12, &v13);
		VAL v14 = MKI64(1LL /* C99RT_VAL */);
		incref(v14);
		int64_t v15 = get_data_tag(v14);
		decref(v14);
		int64_t v16 = 0LL;
		bool v17 = (v15 != v16);
		VAL branch_Str_18;
		VAL branch_C99ReprType_19;
		int64_t branch_Bool_20;
		VAL branch_Str_21;
		VAL branch_ZPlusC99Branch_22;
		if (v17) {
			VAL v23 = VTUP(v12)->cells[1];
			VAL v24;
			VAL v25 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v23, &v24);
			VTUP(v12)->cells[1] = v24;
			branch_ZPlusC99Branch_22 = v12;
			branch_Str_21 = v25;
			branch_Bool_20 = ((int64_t)v17);
			branch_C99ReprType_19 = v14;
			branch_Str_18 = MKSTR(v10);
		} else {
			STR* v26;
			STRLIT(v26, "0", 1);
			branch_ZPlusC99Branch_22 = v12;
			branch_Str_21 = MKSTR(v26);
			branch_Bool_20 = ((int64_t)v17);
			branch_C99ReprType_19 = v14;
			branch_Str_18 = MKSTR(v10);
		}
		int64_t v27 = value_i64(VTUP(branch_ZPlusC99Branch_22)->cells[4]);
		bool v28 = (((bool)branch_Bool_20) && ((bool)v27));
		VAL v29 = VTUP(branch_ZPlusC99Branch_22)->cells[1];
		int64_t v30 = value_i64(VTUP(v29)->cells[4]);
		bool v31 = (v28 && ((bool)v30));
		VTUP(v29)->cells[4] = MKBOOL(v31);
		VAL v32;
		mw_mirth_c99_ZPlusC99_indent(v29, &v32);
		incref(branch_C99ReprType_19);
		VAL v33 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_19);
		VAL v34;
		mw_mirth_c99_ZPlusC99_put(v33, v32, &v34);
		STR* v35;
		STRLIT(v35, " ", 1);
		VAL v36;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v35), v34, &v36);
		incref(branch_Str_21);
		VAL v37;
		mw_mirth_c99_ZPlusC99_put(branch_Str_21, v36, &v37);
		STR* v38;
		STRLIT(v38, " = ", 3);
		VAL v39;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v38), v37, &v39);
		VAL v40;
		mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_19, branch_Str_21, &v40);
		STR* v41;
		STRLIT(v41, "MKTUP(tup_new(", 14);
		VAL v42;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v41), v39, &v42);
		incref(branch_Str_18);
		VAL v43;
		mw_mirth_c99_ZPlusC99_put(branch_Str_18, v42, &v43);
		STR* v44;
		STRLIT(v44, "), ", 3);
		VAL v45;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v44), v43, &v45);
		incref(branch_Str_18);
		VAL v46;
		mw_mirth_c99_ZPlusC99_put(branch_Str_18, v45, &v46);
		STR* v47;
		STRLIT(v47, ")", 1);
		VAL v48;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v47), v46, &v48);
		STR* v49;
		STRLIT(v49, ";", 1);
		VAL v50;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v49), v48, &v50);
		VAL v51;
		mw_mirth_c99_ZPlusC99_line(v50, &v51);
		VTUP(v51)->cells[4] = MKI64(v30);
		VTUP(branch_ZPlusC99Branch_22)->cells[1] = v51;
		int64_t v52 = value_i64(VTUP(branch_ZPlusC99Branch_22)->cells[4]);
		VAL v53 = VTUP(branch_ZPlusC99Branch_22)->cells[1];
		int64_t v54 = value_i64(VTUP(v53)->cells[4]);
		bool v55 = (((bool)v52) && ((bool)v54));
		VTUP(v53)->cells[4] = MKBOOL(v55);
		VAL v56;
		mw_mirth_c99_ZPlusC99_indent(v53, &v56);
		STR* v57;
		STRLIT(v57, "VTUP(", 5);
		VAL v58;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v57), v56, &v58);
		VAL v59;
		VAL v60;
		mw_mirth_c99_ZPlusC99Value_rdup(v40, &v59, &v60);
		VAL v61 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v59);
		VAL v62;
		mw_mirth_c99_ZPlusC99_put(v61, v58, &v62);
		STR* v63;
		STRLIT(v63, " )->size = ", 11);
		VAL v64;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v63), v62, &v64);
		VAL v65;
		mw_mirth_c99_ZPlusC99_put(branch_Str_18, v64, &v65);
		STR* v66;
		STRLIT(v66, ";", 1);
		VAL v67;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v66), v65, &v67);
		VAL v68;
		mw_mirth_c99_ZPlusC99_line(v67, &v68);
		VTUP(v68)->cells[4] = MKI64(v54);
		VTUP(branch_ZPlusC99Branch_22)->cells[1] = v68;
		int64_t v69 = value_i64(VTUP(branch_ZPlusC99Branch_22)->cells[4]);
		VAL v70 = VTUP(branch_ZPlusC99Branch_22)->cells[1];
		int64_t v71 = value_i64(VTUP(v70)->cells[4]);
		bool v72 = (((bool)v69) && ((bool)v71));
		VTUP(v70)->cells[4] = MKBOOL(v72);
		VAL v73;
		mw_mirth_c99_ZPlusC99_indent(v70, &v73);
		STR* v74;
		STRLIT(v74, "VTUP(", 5);
		VAL v75;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v74), v73, &v75);
		VAL v76;
		VAL v77;
		mw_mirth_c99_ZPlusC99Value_rdup(v60, &v76, &v77);
		VAL v78 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v76);
		VAL v79;
		mw_mirth_c99_ZPlusC99_put(v78, v75, &v79);
		STR* v80;
		STRLIT(v80, ")->cells[0] = ", 14);
		VAL v81;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v80), v79, &v81);
		VAL v82 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v13);
		VAL v83;
		mw_mirth_c99_ZPlusC99_put(v82, v81, &v83);
		STR* v84;
		STRLIT(v84, ";", 1);
		VAL v85;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v84), v83, &v85);
		VAL v86;
		mw_mirth_c99_ZPlusC99_line(v85, &v86);
		VTUP(v86)->cells[4] = MKI64(v71);
		VTUP(branch_ZPlusC99Branch_22)->cells[1] = v86;
		int64_t v87 = 1LL;
		int64_t v88 = 1LL /* True */;
		int64_t v89 = v87;
		VAL v90 = v77;
		VAL v91 = branch_ZPlusC99Branch_22;
		VAL v92 = v4;
		int64_t v93 = v88;
		int64_t v94 = v88;
		while (((bool)v94)) {
			int64_t v95 = v89;
			VAL v96 = v90;
			VAL v97 = v91;
			VAL v98 = v92;
			int64_t v99 = v93;
			VAL branch_ZPlusC99Value_100;
			VAL branch_ZPlusC99Branch_101;
			int64_t branch_Int_102;
			VAL branch_List_103;
			int64_t branch_Bool_104;
			switch (get_data_tag(v98)) {
				case 1LL: { // Cons
					VAL v105;
					VAL v106 = mtp_std_list_List_1_Cons(v98, &v105);
					VAL v107;
					VAL v108;
					mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(v97, value_u64(v106), &v107, &v108);
					VAL v109 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v108);
					int64_t v110 = value_i64(VTUP(v107)->cells[4]);
					VAL v111 = VTUP(v107)->cells[1];
					int64_t v112 = value_i64(VTUP(v111)->cells[4]);
					bool v113 = (((bool)v110) && ((bool)v112));
					VTUP(v111)->cells[4] = MKBOOL(v113);
					VAL v114;
					mw_mirth_c99_ZPlusC99_indent(v111, &v114);
					STR* v115;
					STRLIT(v115, "VTUP(", 5);
					VAL v116;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v115), v114, &v116);
					VAL v117;
					VAL v118;
					mw_mirth_c99_ZPlusC99Value_rdup(v96, &v117, &v118);
					VAL v119 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v117);
					VAL v120;
					mw_mirth_c99_ZPlusC99_put(v119, v116, &v120);
					STR* v121;
					STRLIT(v121, ")->cells[", 9);
					VAL v122;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v121), v120, &v122);
					STR* v123 = i64_show(v95);
					VAL v124;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v123), v122, &v124);
					STR* v125;
					STRLIT(v125, "] = ", 4);
					VAL v126;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v125), v124, &v126);
					VAL v127;
					mw_mirth_c99_ZPlusC99_put(v109, v126, &v127);
					STR* v128;
					STRLIT(v128, ";", 1);
					VAL v129;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v128), v127, &v129);
					VAL v130;
					mw_mirth_c99_ZPlusC99_line(v129, &v130);
					VTUP(v130)->cells[4] = MKI64(v112);
					VTUP(v107)->cells[1] = v130;
					int64_t v131 = 1LL;
					int64_t v132 = i64_add(v95, v131);
					int64_t v133 = 1LL /* True */;
					branch_Bool_104 = v133;
					branch_List_103 = v105;
					branch_Int_102 = v132;
					branch_ZPlusC99Branch_101 = v107;
					branch_ZPlusC99Value_100 = v118;
				} break;
				case 0LL: { // Nil
					VAL v134 = MKI64(0LL /* Nil */);
					int64_t v135 = 0LL /* False */;
					branch_Bool_104 = v135;
					branch_List_103 = v134;
					branch_Int_102 = v95;
					branch_ZPlusC99Branch_101 = v97;
					branch_ZPlusC99Value_100 = v96;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v94 = branch_Bool_104;
			v93 = branch_Bool_104;
			v92 = branch_List_103;
			v91 = branch_ZPlusC99Branch_101;
			v90 = branch_ZPlusC99Value_100;
			v89 = branch_Int_102;
		}
		decref(v92);
		VAL v136;
		mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v91, v90, &v136);
		branch_ZPlusC99Branch_6 = v136;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3, VAL *out_ZPlusC99ValueZAsk_4) {
	VAL v5 = mw_std_list_List_1_filter_1_sp1(in_List_1);
	incref(v5);
	int64_t v6 = mw_std_list_List_1_emptyZAsk(v5);
	VAL branch_ZPlusC99Branch_7;
	VAL branch_ZPlusC99ValueZAsk_8;
	if (((bool)v6)) {
		VAL v9 = MKI64(0LL /* +C99ValueNone */);
		decref(v5);
		branch_ZPlusC99ValueZAsk_8 = v9;
		branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
	} else {
		VAL v10 = MKI64(1LL /* C99RT_VAL */);
		VAL v11;
		VAL v12;
		mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_2, v10, &v11, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = 1LL /* True */;
		int64_t v15 = v13;
		VAL v16 = v12;
		VAL v17 = v11;
		VAL v18 = v5;
		int64_t v19 = v14;
		int64_t v20 = v14;
		while (((bool)v20)) {
			int64_t v21 = v15;
			VAL v22 = v16;
			VAL v23 = v17;
			VAL v24 = v18;
			int64_t v25 = v19;
			VAL branch_ZPlusC99Value_26;
			VAL branch_ZPlusC99Branch_27;
			int64_t branch_Int_28;
			VAL branch_List_29;
			int64_t branch_Bool_30;
			switch (get_data_tag(v24)) {
				case 1LL: { // Cons
					VAL v31;
					VAL v32 = mtp_std_list_List_1_Cons(v24, &v31);
					incref(v32);
					VAL v33 = mw_mirth_var_Var_type(value_u64(v32));
					VAL v34;
					VAL v35 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v33, v23, &v34);
					incref(v35);
					incref(v35);
					int64_t v36 = get_data_tag(v35);
					decref(v35);
					int64_t v37 = 0LL;
					bool v38 = (v36 != v37);
					int64_t branch_Int_39;
					VAL branch_ZPlusC99Value_40;
					VAL branch_C99ReprType_41;
					VAL branch_C99ReprType_42;
					int64_t branch_Bool_43;
					VAL branch_Str_44;
					VAL branch_ZPlusC99Branch_45;
					if (v38) {
						VAL v46 = VTUP(v34)->cells[1];
						VAL v47;
						VAL v48 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v46, &v47);
						VTUP(v34)->cells[1] = v47;
						branch_ZPlusC99Branch_45 = v34;
						branch_Str_44 = v48;
						branch_Bool_43 = ((int64_t)v38);
						branch_C99ReprType_42 = v35;
						branch_C99ReprType_41 = v35;
						branch_ZPlusC99Value_40 = v22;
						branch_Int_39 = v21;
					} else {
						STR* v49;
						STRLIT(v49, "0", 1);
						branch_ZPlusC99Branch_45 = v34;
						branch_Str_44 = MKSTR(v49);
						branch_Bool_43 = ((int64_t)v38);
						branch_C99ReprType_42 = v35;
						branch_C99ReprType_41 = v35;
						branch_ZPlusC99Value_40 = v22;
						branch_Int_39 = v21;
					}
					int64_t v50 = value_i64(VTUP(branch_ZPlusC99Branch_45)->cells[4]);
					bool v51 = (((bool)branch_Bool_43) && ((bool)v50));
					VAL v52 = VTUP(branch_ZPlusC99Branch_45)->cells[1];
					int64_t v53 = value_i64(VTUP(v52)->cells[4]);
					bool v54 = (v51 && ((bool)v53));
					VTUP(v52)->cells[4] = MKBOOL(v54);
					VAL v55;
					mw_mirth_c99_ZPlusC99_indent(v52, &v55);
					incref(branch_C99ReprType_42);
					VAL v56 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_42);
					VAL v57;
					mw_mirth_c99_ZPlusC99_put(v56, v55, &v57);
					STR* v58;
					STRLIT(v58, " ", 1);
					VAL v59;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v58), v57, &v59);
					incref(branch_Str_44);
					VAL v60;
					mw_mirth_c99_ZPlusC99_put(branch_Str_44, v59, &v60);
					STR* v61;
					STRLIT(v61, " = ", 3);
					VAL v62;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v61), v60, &v62);
					VAL v63;
					mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_42, branch_Str_44, &v63);
					VAL v64;
					VAL v65 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(branch_C99ReprType_41, &v64);
					VAL v66;
					mw_mirth_c99_ZPlusC99_put(v65, v62, &v66);
					STR* v67;
					STRLIT(v67, "VTUP(", 5);
					VAL v68;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v67), v66, &v68);
					VAL v69;
					VAL v70;
					mw_mirth_c99_ZPlusC99Value_rdup(branch_ZPlusC99Value_40, &v69, &v70);
					VAL v71 = mw_mirth_c99_ZPlusC99Value_consumeZ_asZ_VAL(v69);
					VAL v72;
					mw_mirth_c99_ZPlusC99_put(v71, v68, &v72);
					STR* v73;
					STRLIT(v73, ")->cells[", 9);
					VAL v74;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v73), v72, &v74);
					STR* v75 = i64_show(branch_Int_39);
					VAL v76;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v75), v74, &v76);
					STR* v77;
					STRLIT(v77, "]", 1);
					VAL v78;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v77), v76, &v78);
					VAL v79;
					mw_mirth_c99_ZPlusC99_put(v64, v78, &v79);
					STR* v80;
					STRLIT(v80, ";", 1);
					VAL v81;
					mw_mirth_c99_ZPlusC99_put(MKSTR(v80), v79, &v81);
					VAL v82;
					mw_mirth_c99_ZPlusC99_line(v81, &v82);
					VTUP(v82)->cells[4] = MKI64(v53);
					VTUP(branch_ZPlusC99Branch_45)->cells[1] = v82;
					VAL v83;
					mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang(branch_ZPlusC99Branch_45, value_u64(v32), v63, &v83);
					int64_t v84 = 1LL;
					int64_t v85 = i64_add(branch_Int_39, v84);
					int64_t v86 = 1LL /* True */;
					branch_Bool_30 = v86;
					branch_List_29 = v31;
					branch_Int_28 = v85;
					branch_ZPlusC99Branch_27 = v83;
					branch_ZPlusC99Value_26 = v70;
				} break;
				case 0LL: { // Nil
					VAL v87 = MKI64(0LL /* Nil */);
					int64_t v88 = 0LL /* False */;
					branch_Bool_30 = v88;
					branch_List_29 = v87;
					branch_Int_28 = v21;
					branch_ZPlusC99Branch_27 = v23;
					branch_ZPlusC99Value_26 = v22;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			v20 = branch_Bool_30;
			v19 = branch_Bool_30;
			v18 = branch_List_29;
			v17 = branch_ZPlusC99Branch_27;
			v16 = branch_ZPlusC99Value_26;
			v15 = branch_Int_28;
		}
		decref(v18);
		VAL v89;
		mtw_mirth_c99_ZPlusC99ValueZAsk_ZPlusC99ValueSome(v16, &v89);
		branch_ZPlusC99ValueZAsk_8 = v89;
		branch_ZPlusC99Branch_7 = v17;
	}
	*out_ZPlusC99ValueZAsk_4 = branch_ZPlusC99ValueZAsk_8;
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_7;
}
static void mw_mirth_c99_c99Z_blockZ_pushZBang (uint64_t in_Block_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v5 = VTUP(v4)->cells[7];
	VAL v6;
	VAL v7 = mw_mirth_arrow_Block_toZ_runZ_var(v5, in_Block_1, &v6);
	VTUP(v4)->cells[7] = v6;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v4;
	VAL branch_ZPlusC99Branch_8;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v9 = mtp_std_maybe_Maybe_1_Some(v7);
			VAL v10;
			mw_mirth_c99_c99Z_varZ_pushZBang(value_u64(v9), in_ZPlusC99Branch_2, &v10);
			branch_ZPlusC99Branch_8 = v10;
		} break;
		case 0LL: { // None
			VAL v11 = MKI64(16LL /* C99RT_FNPTR */);
			incref(v11);
			int64_t v12 = get_data_tag(v11);
			decref(v11);
			int64_t v13 = 0LL;
			bool v14 = (v12 != v13);
			uint64_t branch_Block_15;
			VAL branch_C99ReprType_16;
			int64_t branch_Bool_17;
			VAL branch_Str_18;
			VAL branch_ZPlusC99Branch_19;
			if (v14) {
				VAL v20 = VTUP(in_ZPlusC99Branch_2)->cells[1];
				VAL v21;
				VAL v22 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v20, &v21);
				VTUP(in_ZPlusC99Branch_2)->cells[1] = v21;
				branch_ZPlusC99Branch_19 = in_ZPlusC99Branch_2;
				branch_Str_18 = v22;
				branch_Bool_17 = ((int64_t)v14);
				branch_C99ReprType_16 = v11;
				branch_Block_15 = in_Block_1;
			} else {
				STR* v23;
				STRLIT(v23, "0", 1);
				branch_ZPlusC99Branch_19 = in_ZPlusC99Branch_2;
				branch_Str_18 = MKSTR(v23);
				branch_Bool_17 = ((int64_t)v14);
				branch_C99ReprType_16 = v11;
				branch_Block_15 = in_Block_1;
			}
			int64_t v24 = value_i64(VTUP(branch_ZPlusC99Branch_19)->cells[4]);
			bool v25 = (((bool)branch_Bool_17) && ((bool)v24));
			VAL v26 = VTUP(branch_ZPlusC99Branch_19)->cells[1];
			int64_t v27 = value_i64(VTUP(v26)->cells[4]);
			bool v28 = (v25 && ((bool)v27));
			VTUP(v26)->cells[4] = MKBOOL(v28);
			VAL v29;
			mw_mirth_c99_ZPlusC99_indent(v26, &v29);
			incref(branch_C99ReprType_16);
			VAL v30 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_16);
			VAL v31;
			mw_mirth_c99_ZPlusC99_put(v30, v29, &v31);
			STR* v32;
			STRLIT(v32, " ", 1);
			VAL v33;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v32), v31, &v33);
			incref(branch_Str_18);
			VAL v34;
			mw_mirth_c99_ZPlusC99_put(branch_Str_18, v33, &v34);
			STR* v35;
			STRLIT(v35, " = ", 3);
			VAL v36;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v35), v34, &v36);
			VAL v37;
			mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_16, branch_Str_18, &v37);
			STR* v38;
			STRLIT(v38, "&", 1);
			VAL v39;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v38), v36, &v39);
			VAL v40 = VTUP(v39)->cells[7];
			VAL v41;
			VAL v42 = mw_mirth_arrow_Block_cname(v40, branch_Block_15, &v41);
			VTUP(v39)->cells[7] = v41;
			VAL v43;
			mw_mirth_c99_ZPlusC99_put(v42, v39, &v43);
			STR* v44;
			STRLIT(v44, ";", 1);
			VAL v45;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v44), v43, &v45);
			VAL v46;
			mw_mirth_c99_ZPlusC99_line(v45, &v46);
			VTUP(v46)->cells[4] = MKI64(v27);
			VTUP(branch_ZPlusC99Branch_19)->cells[1] = v46;
			VAL v47;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_19, v37, &v47);
			VAL v48 = VTUP(v47)->cells[1];
			VAL v49 = VTUP(v48)->cells[7];
			VAL v50;
			VAL v51 = mw_mirth_arrow_Block_freeZ_vars(v49, branch_Block_15, &v50);
			VTUP(v48)->cells[7] = v50;
			VTUP(v47)->cells[1] = v48;
			VAL v52;
			mw_mirth_c99_c99Z_packZ_closureZ_varsZBang(v51, v47, &v52);
			branch_ZPlusC99Branch_8 = v52;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_8;
}
static void mw_mirth_c99_c99Z_varZBang (uint64_t in_Var_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_mirth_var_Var_autoZ_runZAsk(in_Var_1);
	int64_t v5 = get_data_tag(v4);
	decref(v4);
	int64_t v6 = 1LL;
	bool v7 = (v5 == v6);
	VAL branch_ZPlusC99Branch_8;
	if (v7) {
		VAL v9;
		mw_mirth_c99_c99Z_varZ_runZBang(in_Var_1, in_ZPlusC99Branch_2, &v9);
		branch_ZPlusC99Branch_8 = v9;
	} else {
		VAL v10;
		mw_mirth_c99_c99Z_varZ_pushZBang(in_Var_1, in_ZPlusC99Branch_2, &v10);
		branch_ZPlusC99Branch_8 = v10;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_8;
}
static void mw_mirth_c99_c99Z_varZ_runZBang (uint64_t in_Var_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	VAL v5;
	mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(in_ZPlusC99Branch_2, in_Var_1, &v4, &v5);
	VAL v6;
	mw_mirth_c99_ZPlusC99Value_runZ_valueZBang(v4, v5, &v6);
	*out_ZPlusC99Branch_3 = v6;
}
static void mw_mirth_c99_c99Z_varZ_pushZBang (uint64_t in_Var_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	VAL v5;
	mw_mirth_c99_ZPlusC99Branch_varZ_dupZBang(in_ZPlusC99Branch_2, in_Var_1, &v4, &v5);
	VAL v6;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v4, v5, &v6);
	*out_ZPlusC99Branch_3 = v6;
}
static void mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL branch_ZPlusC99Branch_4;
	switch (get_data_tag(in_List_1)) {
		case 0LL: { // Nil
			branch_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
		} break;
		case 1LL: { // Cons
			VAL v5;
			VAL v6 = mtp_std_list_List_1_Cons(in_List_1, &v5);
			incref(v6);
			VAL v7 = mw_mirth_var_Var_type(value_u64(v6));
			VAL v8;
			VAL v9 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v7, in_ZPlusC99Branch_2, &v8);
			VAL v10;
			VAL v11;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v8, v9, &v10, &v11);
			VAL v12;
			mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang(v5, v10, &v12);
			VAL v13;
			mw_mirth_c99_ZPlusC99Value_pushZ_toZ_envZBang(v12, value_u64(v6), v11, &v13);
			branch_ZPlusC99Branch_4 = v13;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_4;
}
static void mw_mirth_c99_popZ_valuesZ_toZ_envZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_std_list_List_1_reverse(in_List_1);
	VAL v5;
	mw_mirth_c99_reverseZ_popZ_valuesZ_toZ_envZBang(v4, in_ZPlusC99Branch_2, &v5);
	*out_ZPlusC99Branch_3 = v5;
}
static void mw_mirth_c99_dropZ_envZ_varZBang (uint64_t in_Var_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4;
	VAL v5;
	uint64_t v6 = mw_mirth_c99_ZPlusC99Branch_popZ_fromZ_envZBang(in_ZPlusC99Branch_2, &v4, &v5);
	int64_t v7 = mw_mirth_var_Var_index(in_Var_1);
	int64_t v8 = mw_mirth_var_Var_index(v6);
	bool v9 = (v7 == v8);
	VAL branch_ZPlusC99Branch_10;
	VAL branch_z_x1_11;
	if (v9) {
		branch_z_x1_11 = v5;
		branch_ZPlusC99Branch_10 = v4;
	} else {
		STR* v12;
		STRLIT(v12, "[c99] unexpected variable in environment when exiting scope", 59);
		VAL v13;
		mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8(MKSTR(v12), v4, &v13);
	}
	VAL v14;
	mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(branch_ZPlusC99Branch_10, branch_z_x1_11, &v14);
	*out_ZPlusC99Branch_3 = v14;
}
static void mw_mirth_c99_dropZ_envZ_varsZBang (VAL in_List_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_std_list_List_1_reverse(in_List_1);
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_ZPlusC99Branch_2;
	VAL v7 = v4;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusC99Branch_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL v18;
				mw_mirth_c99_dropZ_envZ_varZBang(value_u64(v17), v10, &v18);
				int64_t v19 = 1LL /* True */;
				branch_Bool_15 = v19;
				branch_List_14 = v16;
				branch_ZPlusC99Branch_13 = v18;
			} break;
			case 0LL: { // Nil
				VAL v20 = MKI64(0LL /* Nil */);
				int64_t v21 = 0LL /* False */;
				branch_Bool_15 = v21;
				branch_List_14 = v20;
				branch_ZPlusC99Branch_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusC99Branch_13;
	}
	decref(v7);
	*out_ZPlusC99Branch_3 = v6;
}
static void mw_mirth_c99_c99Z_lambdaZBang (VAL in_Lambda_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	incref(in_Lambda_1);
	VAL v4 = VTUP(in_Lambda_1)->cells[4];
	incref(v4);
	decref(in_Lambda_1);
	VAL v5;
	mw_mirth_c99_popZ_valuesZ_toZ_envZBang(v4, in_ZPlusC99Branch_2, &v5);
	incref(in_Lambda_1);
	VAL v6 = VTUP(in_Lambda_1)->cells[5];
	incref(v6);
	decref(in_Lambda_1);
	VAL v7;
	mw_mirth_c99_c99Z_arrowZBang(v6, v5, &v7);
	VAL v8 = VTUP(in_Lambda_1)->cells[4];
	incref(v8);
	decref(in_Lambda_1);
	VAL v9;
	mw_mirth_c99_dropZ_envZ_varsZBang(v8, v7, &v9);
	*out_ZPlusC99Branch_3 = v9;
}
static void mw_mirth_c99_c99Z_matchZBang (VAL in_Match_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	incref(in_Match_1);
	VAL v4 = VTUP(in_Match_1)->cells[7];
	incref(v4);
	decref(in_Match_1);
	VAL v5 = mw_std_list_List_1_ZDivL1(v4);
	VAL branch_ZPlusC99Branch_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			decref(in_Match_1);
			VAL v8;
			mw_mirth_c99_c99Z_singleZ_caseZBang(v7, in_ZPlusC99Branch_2, &v8);
			branch_ZPlusC99Branch_6 = v8;
		} break;
		case 0LL: { // None
			incref(in_Match_1);
			VAL v9 = mw_mirth_match_Match_scrutineeZ_dataZAsk(in_Match_1);
			VAL branch_ZPlusC99Branch_10;
			VAL branch_Match_11;
			VAL branch_z_x1_12;
			switch (get_data_tag(v9)) {
				case 1LL: { // Some
					VAL v13 = mtp_std_maybe_Maybe_1_Some(v9);
					branch_z_x1_12 = v13;
					branch_Match_11 = in_Match_1;
					branch_ZPlusC99Branch_10 = in_ZPlusC99Branch_2;
				} break;
				case 0LL: { // None
					uint64_t v14 = value_u64(VTUP(in_Match_1)->cells[2]);
					decref(in_Match_1);
					STR* v15;
					STRLIT(v15, "non-uniform match, not supported at present", 43);
					VAL v16;
					mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13(v14, MKSTR(v15), in_ZPlusC99Branch_2, &v16);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			VAL v19;
			VAL v20;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_valueZDivresourceZ_dataZBang(value_u64(branch_z_x1_12), branch_ZPlusC99Branch_10, &v19, &v20);
			incref(branch_Match_11);
			VAL v21 = VTUP(branch_Match_11)->cells[6];
			incref(v21);
			decref(branch_Match_11);
			VAL v22;
			mw_mirth_c99_ZPlusC99Branch_beginZ_branchZ_splitZBang(v21, v19, &v22);
			int64_t v23 = value_i64(VTUP(v22)->cells[5]);
			VAL v24 = VTUP(v22)->cells[1];
			int64_t v25 = value_i64(VTUP(v24)->cells[4]);
			bool v26 = (((bool)v23) && ((bool)v25));
			VTUP(v24)->cells[4] = MKBOOL(v26);
			VAL v27;
			mw_mirth_c99_ZPlusC99_indent(v24, &v27);
			STR* v28;
			STRLIT(v28, "switch (", 8);
			VAL v29;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
			VAL v30;
			VAL v31 = mw_mirth_c99_ZPlusC99ValueZDivResource_peekZ_dataZ_tag(v20, &v30);
			VAL v32;
			mw_mirth_c99_ZPlusC99_put(v31, v29, &v32);
			STR* v33;
			STRLIT(v33, ") {", 3);
			VAL v34;
			mw_mirth_c99_ZPlusC99_put(MKSTR(v33), v32, &v34);
			VAL v35;
			mw_mirth_c99_ZPlusC99_line(v34, &v35);
			VTUP(v35)->cells[4] = MKI64(v25);
			VTUP(v22)->cells[1] = v35;
			VAL v36 = VTUP(v22)->cells[1];
			int64_t v37 = value_i64(VTUP(v36)->cells[2]);
			int64_t v38 = 1LL;
			int64_t v39 = i64_add(v37, v38);
			VTUP(v36)->cells[2] = MKI64(v39);
			VTUP(v22)->cells[1] = v36;
			incref(branch_Match_11);
			VAL v40 = VTUP(branch_Match_11)->cells[7];
			incref(v40);
			decref(branch_Match_11);
			int64_t v41 = 1LL /* True */;
			VAL v42 = v22;
			VAL v43 = v30;
			VAL v44 = v40;
			int64_t v45 = v41;
			int64_t v46 = v41;
			while (((bool)v46)) {
				VAL v47 = v42;
				VAL v48 = v43;
				VAL v49 = v44;
				int64_t v50 = v45;
				VAL branch_ZPlusC99ValueZDivResource_51;
				VAL branch_ZPlusC99BranchSplit_52;
				VAL branch_List_53;
				int64_t branch_Bool_54;
				switch (get_data_tag(v49)) {
					case 1LL: { // Cons
						VAL v55;
						VAL v56 = mtp_std_list_List_1_Cons(v49, &v55);
						VAL v57;
						VAL v58;
						mw_mirth_c99_ZPlusC99ValueZDivResource_rdup(v48, &v57, &v58);
						VAL v59;
						mw_mirth_c99_c99Z_caseZBang(v56, v47, v57, &v59);
						int64_t v60 = 1LL /* True */;
						branch_Bool_54 = v60;
						branch_List_53 = v55;
						branch_ZPlusC99BranchSplit_52 = v59;
						branch_ZPlusC99ValueZDivResource_51 = v58;
					} break;
					case 0LL: { // Nil
						VAL v61 = MKI64(0LL /* Nil */);
						int64_t v62 = 0LL /* False */;
						branch_Bool_54 = v62;
						branch_List_53 = v61;
						branch_ZPlusC99BranchSplit_52 = v47;
						branch_ZPlusC99ValueZDivResource_51 = v48;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v46 = branch_Bool_54;
				v45 = branch_Bool_54;
				v44 = branch_List_53;
				v43 = branch_ZPlusC99ValueZDivResource_51;
				v42 = branch_ZPlusC99BranchSplit_52;
			}
			decref(v44);
			int64_t v63 = mw_mirth_match_Match_hasZ_defaultZ_caseZAsk(branch_Match_11);
			VAL branch_ZPlusC99BranchSplit_64;
			if (((bool)v63)) {
				branch_ZPlusC99BranchSplit_64 = v42;
			} else {
				VAL v65;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3(v42, &v65);
				VAL v66 = VTUP(v65)->cells[1];
				int64_t v67 = value_i64(VTUP(v66)->cells[2]);
				int64_t v68 = 1LL;
				int64_t v69 = i64_add(v67, v68);
				VTUP(v66)->cells[2] = MKI64(v69);
				VTUP(v65)->cells[1] = v66;
				int64_t v70 = value_i64(VTUP(v65)->cells[5]);
				VAL v71 = VTUP(v65)->cells[1];
				int64_t v72 = value_i64(VTUP(v71)->cells[4]);
				bool v73 = (((bool)v70) && ((bool)v72));
				VTUP(v71)->cells[4] = MKBOOL(v73);
				VAL v74;
				mw_mirth_c99_ZPlusC99_indent(v71, &v74);
				STR* v75;
				STRLIT(v75, "do_panic(str_make(\"unexpected fallthrough in match\\n\", 32));", 60);
				VAL v76;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v75), v74, &v76);
				VAL v77;
				mw_mirth_c99_ZPlusC99_line(v76, &v77);
				VTUP(v77)->cells[4] = MKI64(v72);
				VTUP(v65)->cells[1] = v77;
				VAL v78 = VTUP(v65)->cells[1];
				int64_t v79 = value_i64(VTUP(v78)->cells[2]);
				int64_t v80 = 1LL;
				int64_t v81 = i64_sub(v79, v80);
				int64_t v82 = 0LL;
				bool v83 = (v81 < v82);
				int64_t branch_Nat_84;
				if (v83) {
					int64_t v85 = 0LL;
					branch_Nat_84 = v85;
				} else {
					branch_Nat_84 = v81;
				}
				VTUP(v78)->cells[2] = MKI64(branch_Nat_84);
				VTUP(v65)->cells[1] = v78;
				VAL v86;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(v65, &v86);
				branch_ZPlusC99BranchSplit_64 = v86;
			}
			mw_mirth_c99_ZPlusC99ValueZDivResource_rdrop(v43);
			VAL v87 = VTUP(branch_ZPlusC99BranchSplit_64)->cells[1];
			int64_t v88 = value_i64(VTUP(v87)->cells[2]);
			int64_t v89 = 1LL;
			int64_t v90 = i64_sub(v88, v89);
			int64_t v91 = 0LL;
			bool v92 = (v90 < v91);
			int64_t branch_Nat_93;
			if (v92) {
				int64_t v94 = 0LL;
				branch_Nat_93 = v94;
			} else {
				branch_Nat_93 = v90;
			}
			VTUP(v87)->cells[2] = MKI64(branch_Nat_93);
			VTUP(branch_ZPlusC99BranchSplit_64)->cells[1] = v87;
			VAL v95;
			mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2(branch_ZPlusC99BranchSplit_64, &v95);
			VAL v96;
			mw_mirth_c99_ZPlusC99BranchSplit_endZ_branchZ_splitZBang(v95, &v96);
			branch_ZPlusC99Branch_6 = v96;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_c99Z_singleZ_caseZBang (VAL in_Case_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	incref(in_Case_1);
	VAL v4 = VTUP(in_Case_1)->cells[1];
	incref(v4);
	decref(in_Case_1);
	int64_t v5 = mw_mirth_match_Pattern_isZ_defaultZAsk(v4);
	VAL branch_ZPlusC99Branch_6;
	if (((bool)v5)) {
		VAL v7 = VTUP(in_Case_1)->cells[2];
		incref(v7);
		decref(in_Case_1);
		VAL v8;
		mw_mirth_c99_c99Z_arrowZBang(v7, in_ZPlusC99Branch_2, &v8);
		branch_ZPlusC99Branch_6 = v8;
	} else {
		incref(in_Case_1);
		VAL v9 = VTUP(in_Case_1)->cells[1];
		incref(v9);
		decref(in_Case_1);
		VAL v10 = mw_mirth_match_Pattern_singleZ_tagZAsk(v9);
		VAL branch_ZPlusC99Branch_11;
		switch (get_data_tag(v10)) {
			case 1LL: { // Some
				VAL v12 = mtp_std_maybe_Maybe_1_Some(v10);
				VAL v13;
				mw_mirth_c99_c99Z_reverseZ_tagZBang(value_u64(v12), in_ZPlusC99Branch_2, &v13);
				VAL v14 = VTUP(in_Case_1)->cells[2];
				incref(v14);
				decref(in_Case_1);
				VAL v15;
				mw_mirth_c99_c99Z_arrowZBang(v14, v13, &v15);
				branch_ZPlusC99Branch_11 = v15;
			} break;
			case 0LL: { // None
				VAL v16 = VTUP(in_Case_1)->cells[1];
				incref(v16);
				decref(in_Case_1);
				uint64_t v17 = value_u64(VTUP(v16)->cells[2]);
				decref(v16);
				STR* v18;
				STRLIT(v18, "c99 target -- don't know how to compile this pattern", 52);
				VAL v19;
				mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13(v17, MKSTR(v18), in_ZPlusC99Branch_2, &v19);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99Branch_6 = branch_ZPlusC99Branch_11;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_6;
}
static void mw_mirth_c99_c99Z_caseZBang (VAL in_Case_1, VAL in_ZPlusC99BranchSplit_2, VAL in_ZPlusC99ValueZDivResource_3, VAL *out_ZPlusC99BranchSplit_4) {
	incref(in_Case_1);
	VAL v5 = VTUP(in_Case_1)->cells[1];
	incref(v5);
	decref(in_Case_1);
	int64_t v6 = mw_mirth_match_Pattern_isZ_defaultZAsk(v5);
	VAL branch_ZPlusC99BranchSplit_7;
	if (((bool)v6)) {
		VAL v8;
		mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3(in_ZPlusC99BranchSplit_2, &v8);
		VAL v9 = VTUP(v8)->cells[1];
		int64_t v10 = value_i64(VTUP(v9)->cells[2]);
		int64_t v11 = 1LL;
		int64_t v12 = i64_add(v10, v11);
		VTUP(v9)->cells[2] = MKI64(v12);
		VTUP(v8)->cells[1] = v9;
		VAL v13 = VTUP(v8)->cells[2];
		VAL v14;
		VAL v15;
		mw_mirth_c99_ZPlusC99Stack_rdup(v13, &v14, &v15);
		VTUP(v8)->cells[2] = v14;
		VAL v16 = VTUP(v8)->cells[4];
		incref(v16);
		int64_t v17 = value_i64(VTUP(v8)->cells[5]);
		VAL v18 = VTUP(v8)->cells[3];
		incref(v18);
		VAL v19 = VTUP(v8)->cells[1];
		VAL v20;
		mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v19, v15, v18, v17, &v20);
		VAL v21;
		mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZ_valueZDivresourceZBang(v20, in_ZPlusC99ValueZDivResource_3, &v21);
		VAL v22 = VTUP(in_Case_1)->cells[2];
		incref(v22);
		decref(in_Case_1);
		VAL v23;
		mw_mirth_c99_c99Z_arrowZBang(v22, v21, &v23);
		VAL v24;
		mw_std_list_List_1_reverseZ_for_1_sp4(v23, v16, &v24);
		VAL v25;
		int64_t v26;
		VAL v27;
		mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v24, &v25, &v26, &v27);
		VTUP(v8)->cells[1] = v25;
		decref(v27);
		int64_t v28 = value_i64(VTUP(v8)->cells[6]);
		bool v29 = (((bool)v26) || ((bool)v28));
		VTUP(v8)->cells[6] = MKBOOL(v29);
		VAL v30 = VTUP(v8)->cells[1];
		int64_t v31 = value_i64(VTUP(v30)->cells[2]);
		int64_t v32 = 1LL;
		int64_t v33 = i64_sub(v31, v32);
		int64_t v34 = 0LL;
		bool v35 = (v33 < v34);
		int64_t branch_Nat_36;
		if (v35) {
			int64_t v37 = 0LL;
			branch_Nat_36 = v37;
		} else {
			branch_Nat_36 = v33;
		}
		VTUP(v30)->cells[2] = MKI64(branch_Nat_36);
		VTUP(v8)->cells[1] = v30;
		VAL v38;
		mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6(v8, &v38);
		branch_ZPlusC99BranchSplit_7 = v38;
	} else {
		incref(in_Case_1);
		VAL v39 = VTUP(in_Case_1)->cells[1];
		incref(v39);
		decref(in_Case_1);
		VAL v40 = mw_mirth_match_Pattern_singleZ_tagZAsk(v39);
		VAL branch_ZPlusC99BranchSplit_41;
		switch (get_data_tag(v40)) {
			case 1LL: { // Some
				VAL v42 = mtp_std_maybe_Maybe_1_Some(v40);
				int64_t v43 = value_i64(VTUP(in_ZPlusC99BranchSplit_2)->cells[5]);
				VAL v44 = VTUP(in_ZPlusC99BranchSplit_2)->cells[1];
				int64_t v45 = value_i64(VTUP(v44)->cells[4]);
				bool v46 = (((bool)v43) && ((bool)v45));
				VTUP(v44)->cells[4] = MKBOOL(v46);
				VAL v47;
				mw_mirth_c99_ZPlusC99_indent(v44, &v47);
				STR* v48;
				STRLIT(v48, "case ", 5);
				VAL v49;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v48), v47, &v49);
				incref(v42);
				VAL v50 = mw_mirth_data_Tag_valueZ_show(value_u64(v42));
				VAL v51;
				mw_mirth_c99_ZPlusC99_put(v50, v49, &v51);
				STR* v52;
				STRLIT(v52, "LL: { // ", 9);
				VAL v53;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v52), v51, &v53);
				incref(v42);
				uint64_t v54 = mw_mirth_data_Tag_name(value_u64(v42));
				VAL v55 = mw_mirth_name_Name_ZToStr(v54);
				VAL v56;
				mw_mirth_c99_ZPlusC99_put(v55, v53, &v56);
				VAL v57;
				mw_mirth_c99_ZPlusC99_line(v56, &v57);
				VTUP(v57)->cells[4] = MKI64(v45);
				VTUP(in_ZPlusC99BranchSplit_2)->cells[1] = v57;
				VAL v58 = VTUP(in_ZPlusC99BranchSplit_2)->cells[1];
				int64_t v59 = value_i64(VTUP(v58)->cells[2]);
				int64_t v60 = 1LL;
				int64_t v61 = i64_add(v59, v60);
				VTUP(v58)->cells[2] = MKI64(v61);
				VTUP(in_ZPlusC99BranchSplit_2)->cells[1] = v58;
				VAL v62 = VTUP(in_ZPlusC99BranchSplit_2)->cells[2];
				VAL v63;
				VAL v64;
				mw_mirth_c99_ZPlusC99Stack_rdup(v62, &v63, &v64);
				VTUP(in_ZPlusC99BranchSplit_2)->cells[2] = v63;
				VAL v65 = VTUP(in_ZPlusC99BranchSplit_2)->cells[4];
				incref(v65);
				int64_t v66 = value_i64(VTUP(in_ZPlusC99BranchSplit_2)->cells[5]);
				VAL v67 = VTUP(in_ZPlusC99BranchSplit_2)->cells[3];
				incref(v67);
				VAL v68 = VTUP(in_ZPlusC99BranchSplit_2)->cells[1];
				VAL v69;
				mtw_mirth_c99_ZPlusC99Branch_ZPlusC99Branch(v68, v64, v67, v66, &v69);
				VAL v70;
				mw_mirth_c99_ZPlusC99ValueZDivResource_pushZ_valueZ_valueZDivresourceZBang(v69, in_ZPlusC99ValueZDivResource_3, &v70);
				VAL v71;
				mw_mirth_c99_c99Z_reverseZ_tagZBang(value_u64(v42), v70, &v71);
				VAL v72 = VTUP(in_Case_1)->cells[2];
				incref(v72);
				decref(in_Case_1);
				VAL v73;
				mw_mirth_c99_c99Z_arrowZBang(v72, v71, &v73);
				VAL v74;
				mw_std_list_List_1_reverseZ_for_1_sp4(v73, v65, &v74);
				VAL v75;
				int64_t v76;
				VAL v77;
				mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v74, &v75, &v76, &v77);
				VTUP(in_ZPlusC99BranchSplit_2)->cells[1] = v75;
				decref(v77);
				int64_t v78 = value_i64(VTUP(in_ZPlusC99BranchSplit_2)->cells[6]);
				bool v79 = (((bool)v76) || ((bool)v78));
				VTUP(in_ZPlusC99BranchSplit_2)->cells[6] = MKBOOL(v79);
				VAL v80 = VTUP(in_ZPlusC99BranchSplit_2)->cells[1];
				int64_t v81 = value_i64(VTUP(v80)->cells[2]);
				int64_t v82 = 1LL;
				int64_t v83 = i64_sub(v81, v82);
				int64_t v84 = 0LL;
				bool v85 = (v83 < v84);
				int64_t branch_Nat_86;
				if (v85) {
					int64_t v87 = 0LL;
					branch_Nat_86 = v87;
				} else {
					branch_Nat_86 = v83;
				}
				VTUP(v80)->cells[2] = MKI64(branch_Nat_86);
				VTUP(in_ZPlusC99BranchSplit_2)->cells[1] = v80;
				VAL v88;
				mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6(in_ZPlusC99BranchSplit_2, &v88);
				branch_ZPlusC99BranchSplit_41 = v88;
			} break;
			case 0LL: { // None
				VAL v89 = VTUP(in_Case_1)->cells[1];
				incref(v89);
				decref(in_Case_1);
				uint64_t v90 = value_u64(VTUP(v89)->cells[2]);
				decref(v89);
				STR* v91;
				STRLIT(v91, "c99 target -- don't know how to compile this pattern", 52);
				VAL v92 = VTUP(in_ZPlusC99BranchSplit_2)->cells[1];
				VAL v93 = VTUP(v92)->cells[7];
				mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(v90, MKSTR(v91), v93);
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		branch_ZPlusC99BranchSplit_7 = branch_ZPlusC99BranchSplit_41;
	}
	*out_ZPlusC99BranchSplit_4 = branch_ZPlusC99BranchSplit_7;
}
static VAL mw_mirth_data_Tag_wordZ_cnameZ_type (uint64_t in_Tag_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5) {
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_wordZ_cname(in_ZPlusMirth_2, in_Tag_1, &v6);
	VAL v8;
	VAL v9 = mw_mirth_data_Tag_type(v6, in_Tag_1, &v8);
	*out_ZPlusMirth_5 = v8;
	*out_ArrowType_4 = v9;
	return v7;
}
static VAL mw_mirth_data_Tag_patZ_cnameZ_type (uint64_t in_Tag_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5) {
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_patZ_cname(in_ZPlusMirth_2, in_Tag_1, &v6);
	VAL v8;
	VAL v9 = mw_mirth_data_Tag_type(v6, in_Tag_1, &v8);
	VAL v10 = mw_mirth_type_ArrowType_invert(v9);
	*out_ZPlusMirth_5 = v8;
	*out_ArrowType_4 = v10;
	return v7;
}
static VAL mw_mirth_word_Word_cnameZ_type (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL *out_ArrowType_4, VAL *out_ZPlusMirth_5) {
	VAL v6;
	VAL v7 = mw_mirth_word_Word_cname(in_Word_1, in_ZPlusMirth_2, &v6);
	VAL v8;
	VAL v9 = mw_mirth_word_Word_type(in_Word_1, v6, &v8);
	*out_ZPlusMirth_5 = v8;
	*out_ArrowType_4 = v9;
	return v7;
}
static VAL mw_mirth_data_Tag_wordZ_c99Z_api (uint64_t in_Tag_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4) {
	void* v5 = mfld_mirth_data_Tag_ZTildewordZ_c99Z_api(in_Tag_1);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusC99_7;
	uint64_t branch_Tag_8;
	VAL branch_C99API_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_C99API_9 = v10;
		branch_Tag_8 = in_Tag_1;
		branch_ZPlusC99_7 = in_ZPlusC99_2;
	} else {
		VAL v11 = VTUP(in_ZPlusC99_2)->cells[7];
		VAL v12;
		VAL v13;
		VAL v14 = mw_mirth_data_Tag_wordZ_cnameZ_type(in_Tag_1, v11, &v12, &v13);
		VTUP(in_ZPlusC99_2)->cells[7] = v13;
		VAL v15;
		VAL v16 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, v12, in_ZPlusC99_2, &v15);
		incref(v16);
		mut_set(v16, v5);
		branch_C99API_9 = v16;
		branch_Tag_8 = in_Tag_1;
		branch_ZPlusC99_7 = v15;
	}
	*out_ZPlusC99_4 = branch_ZPlusC99_7;
	return branch_C99API_9;
}
static VAL mw_mirth_data_Tag_patZ_c99Z_api (uint64_t in_Tag_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4) {
	void* v5 = mfld_mirth_data_Tag_ZTildepatZ_c99Z_api(in_Tag_1);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusC99_7;
	uint64_t branch_Tag_8;
	VAL branch_C99API_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_C99API_9 = v10;
		branch_Tag_8 = in_Tag_1;
		branch_ZPlusC99_7 = in_ZPlusC99_2;
	} else {
		VAL v11 = VTUP(in_ZPlusC99_2)->cells[7];
		VAL v12;
		VAL v13;
		VAL v14 = mw_mirth_data_Tag_patZ_cnameZ_type(in_Tag_1, v11, &v12, &v13);
		VTUP(in_ZPlusC99_2)->cells[7] = v13;
		VAL v15;
		VAL v16 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, v12, in_ZPlusC99_2, &v15);
		incref(v16);
		mut_set(v16, v5);
		branch_C99API_9 = v16;
		branch_Tag_8 = in_Tag_1;
		branch_ZPlusC99_7 = v15;
	}
	*out_ZPlusC99_4 = branch_ZPlusC99_7;
	return branch_C99API_9;
}
static VAL mw_mirth_word_Word_c99Z_api (uint64_t in_Word_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4) {
	void* v5 = mfld_mirth_word_Word_ZTildec99Z_api(in_Word_1);
	bool v6 = mut_is_set(v5);
	VAL branch_ZPlusC99_7;
	uint64_t branch_Word_8;
	VAL branch_C99API_9;
	if (v6) {
		VAL v10 = mut_get(v5);
		branch_C99API_9 = v10;
		branch_Word_8 = in_Word_1;
		branch_ZPlusC99_7 = in_ZPlusC99_2;
	} else {
		VAL v11 = VTUP(in_ZPlusC99_2)->cells[7];
		VAL v12;
		VAL v13;
		VAL v14 = mw_mirth_word_Word_cnameZ_type(in_Word_1, v11, &v12, &v13);
		VTUP(in_ZPlusC99_2)->cells[7] = v13;
		VAL v15;
		VAL v16 = mw_mirth_c99_ZPlusC99_cnameZ_typeZ_toZ_c99Z_api(v14, v12, in_ZPlusC99_2, &v15);
		incref(v16);
		mut_set(v16, v5);
		branch_C99API_9 = v16;
		branch_Word_8 = in_Word_1;
		branch_ZPlusC99_7 = v15;
	}
	*out_ZPlusC99_4 = branch_ZPlusC99_7;
	return branch_C99API_9;
}
static void mw_mirth_c99_c99Z_wordZ_sigsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_word_Word_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12 = VTUP(v10)->cells[5];
		VAL v13;
		int64_t v14 = mw_mirth_word_Word_neededZAsk(((uint64_t)v11), v12, &v13);
		VTUP(v10)->cells[5] = v13;
		VAL branch_ZPlusC99_15;
		if (((bool)v14)) {
			VAL v16;
			mw_mirth_c99_c99Z_wordZ_sigZBang(((uint64_t)v11), v10, &v16);
			branch_ZPlusC99_15 = v16;
		} else {
			branch_ZPlusC99_15 = v10;
		}
		int64_t v17 = 1LL;
		int64_t v18 = i64_add(v11, v17);
		void* v19 = mbuf_mirth_word_Word_NUM;
		int64_t v20 = *(int64_t*)v19;
		bool v21 = (v18 <= v20);
		v9 = v21;
		v8 = v18;
		v7 = branch_ZPlusC99_15;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_wordZ_sigZBang (uint64_t in_Word_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	VAL v5 = mw_mirth_word_Word_c99Z_api(in_Word_1, in_ZPlusC99_2, &v4);
	VAL v6;
	mw_mirth_c99_c99Z_smartZ_sigZBang(v5, v4, &v6);
	*out_ZPlusC99_3 = v6;
}
static void mw_mirth_c99_c99Z_blockZ_sigsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_arrow_Block_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12 = VTUP(v10)->cells[5];
		VAL v13;
		int64_t v14 = mw_mirth_arrow_Block_neededZAsk(((uint64_t)v11), v12, &v13);
		VTUP(v10)->cells[5] = v13;
		VAL branch_ZPlusC99_15;
		if (((bool)v14)) {
			VAL v16;
			mw_mirth_c99_c99Z_blockZ_sigZBang(((uint64_t)v11), v10, &v16);
			branch_ZPlusC99_15 = v16;
		} else {
			branch_ZPlusC99_15 = v10;
		}
		int64_t v17 = 1LL;
		int64_t v18 = i64_add(v11, v17);
		void* v19 = mbuf_mirth_arrow_Block_NUM;
		int64_t v20 = *(int64_t*)v19;
		bool v21 = (v18 <= v20);
		v9 = v21;
		v8 = v18;
		v7 = branch_ZPlusC99_15;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_blockZ_sigZBang (uint64_t in_Block_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_2, &v4);
	VAL v5;
	mw_mirth_c99_c99Z_blockZ_sigZ_put(in_Block_1, v4, &v5);
	STR* v6;
	STRLIT(v6, ";", 1);
	VAL v7;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v6), v5, &v7);
	VAL v8;
	mw_mirth_c99_ZPlusC99_line(v7, &v8);
	*out_ZPlusC99_3 = v8;
}
static void mw_mirth_c99_c99Z_blockZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_arrow_Block_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12 = VTUP(v10)->cells[5];
		VAL v13;
		int64_t v14 = mw_mirth_arrow_Block_neededZAsk(((uint64_t)v11), v12, &v13);
		VTUP(v10)->cells[5] = v13;
		VAL branch_ZPlusC99_15;
		if (((bool)v14)) {
			VAL v16;
			mw_mirth_c99_c99Z_blockZ_defZBang(((uint64_t)v11), v10, &v16);
			branch_ZPlusC99_15 = v16;
		} else {
			branch_ZPlusC99_15 = v10;
		}
		int64_t v17 = 1LL;
		int64_t v18 = i64_add(v11, v17);
		void* v19 = mbuf_mirth_arrow_Block_NUM;
		int64_t v20 = *(int64_t*)v19;
		bool v21 = (v18 <= v20);
		v9 = v21;
		v8 = v18;
		v7 = branch_ZPlusC99_15;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_blockZ_defZBang (uint64_t in_Block_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_2, &v4);
	VAL v5;
	mw_mirth_c99_c99Z_blockZ_sigZ_put(in_Block_1, v4, &v5);
	STR* v6;
	STRLIT(v6, " {", 2);
	VAL v7;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v6), v5, &v7);
	VAL v8;
	mw_mirth_c99_ZPlusC99_line(v7, &v8);
	VAL v9;
	mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang(v8, &v9);
	int64_t v10 = value_i64(VTUP(v9)->cells[2]);
	int64_t v11 = 1LL;
	int64_t v12 = i64_add(v10, v11);
	VTUP(v9)->cells[2] = MKI64(v12);
	VAL v13;
	mw_mirth_c99_c99Z_blockZ_enterZBang(in_Block_1, v9, &v13);
	VAL v14;
	VAL v15 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp1(in_Block_1, v13, &v14);
	incref(v15);
	VAL v16 = VTUP(v14)->cells[1];
	VAL v17 = VTUP(v16)->cells[7];
	VAL v18;
	VAL v19 = mw_mirth_arrow_Arrow_freeZ_vars(v17, v15, &v18);
	VTUP(v16)->cells[7] = v18;
	VTUP(v14)->cells[1] = v16;
	VAL v20;
	VAL v21;
	mw_mirth_c99_c99Z_unpackZ_closureZ_varsZBang(v19, v14, &v20, &v21);
	incref(v15);
	VAL v22;
	VAL v23 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp3(v15, v20, &v22);
	VAL v24 = mw_mirth_type_ArrowType_dom(v23);
	VAL v25;
	mw_mirth_c99_exposeZ_stackZ_typeZBang(v24, v22, &v25);
	VAL v26;
	mw_mirth_c99_c99Z_arrowZBang(v15, v25, &v26);
	VAL branch_ZPlusC99Branch_27;
	switch (get_data_tag(v21)) {
		case 1LL: { // +C99ValueSome
			VAL v28;
			mtp_mirth_c99_ZPlusC99ValueZAsk_ZPlusC99ValueSome(v21, &v28);
			VAL v29;
			mw_mirth_c99_ZPlusC99Value_dropZ_valueZBang(v26, v28, &v29);
			branch_ZPlusC99Branch_27 = v29;
		} break;
		case 0LL: { // +C99ValueNone
			branch_ZPlusC99Branch_27 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v30;
	mw_mirth_c99_c99Z_blockZ_exitZBang(in_Block_1, branch_ZPlusC99Branch_27, &v30);
	int64_t v31 = value_i64(VTUP(v30)->cells[2]);
	int64_t v32 = 1LL;
	int64_t v33 = i64_sub(v31, v32);
	int64_t v34 = 0LL;
	bool v35 = (v33 < v34);
	int64_t branch_Nat_36;
	if (v35) {
		int64_t v37 = 0LL;
		branch_Nat_36 = v37;
	} else {
		branch_Nat_36 = v33;
	}
	VTUP(v30)->cells[2] = MKI64(branch_Nat_36);
	VAL v38;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v30, &v38);
	*out_ZPlusC99_3 = v38;
}
static void mw_mirth_c99_c99Z_blockZ_sigZ_put (uint64_t in_Block_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	STR* v4;
	STRLIT(v4, "static void ", 12);
	VAL v5;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v4), in_ZPlusC99_2, &v5);
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_arrow_Block_cname(v6, in_Block_1, &v7);
	VTUP(v5)->cells[7] = v7;
	VAL v9;
	mw_mirth_c99_ZPlusC99_put(v8, v5, &v9);
	STR* v10;
	STRLIT(v10, " (void)", 7);
	VAL v11;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v10), v9, &v11);
	*out_ZPlusC99_3 = v11;
}
static void mw_mirth_c99_c99Z_blockZ_enterZBang (uint64_t in_Block_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99_2)->cells[1];
	incref(v4);
	int64_t v5 = value_i64(VTUP(v4)->cells[2]);
	decref(v4);
	VAL branch_ZPlusC99_6;
	if (((bool)v5)) {
		VAL v7;
		mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_2, &v7);
		STR* v8;
		STRLIT(v8, "WORD_ENTER(", 11);
		VAL v9;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v8), v7, &v9);
		VAL v10 = mw_mirth_arrow_Block_home(in_Block_1);
		VAL branch_ZPlusC99_11;
		uint64_t branch_Block_12;
		VAL branch__13;
		switch (get_data_tag(v10)) {
			case 0LL: { // HomeMain
				uint64_t v14 = mtp_mirth_arrow_Home_HomeMain(v10);
				STR* v15;
				STRLIT(v15, "block", 5);
				branch__13 = MKSTR(v15);
				branch_Block_12 = in_Block_1;
				branch_ZPlusC99_11 = v9;
			} break;
			case 1LL: { // HomeWord
				uint64_t v16 = mtp_mirth_arrow_Home_HomeWord(v10);
				uint64_t v17 = mw_mirth_word_Word_name(v16);
				VAL v18 = mw_mirth_name_Name_ZToStr(v17);
				STR* v19;
				STRLIT(v19, " block", 6);
				STR* v20 = str_cat(value_str(v18), v19);
				branch__13 = MKSTR(v20);
				branch_Block_12 = in_Block_1;
				branch_ZPlusC99_11 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		VAL v21;
		mw_mirth_c99_ZPlusC99_putZ_cstr(branch__13, branch_ZPlusC99_11, &v21);
		STR* v22;
		STRLIT(v22, ", ", 2);
		VAL v23;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v22), v21, &v23);
		uint64_t v24 = mw_mirth_arrow_Block_token(branch_Block_12);
		uint64_t v25 = mw_mirth_token_Token_module(v24);
		VAL v26 = mw_mirth_module_Module_sourceZ_path(v25);
		VAL v27;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v26, v23, &v27);
		STR* v28;
		STRLIT(v28, ", ", 2);
		VAL v29;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
		uint64_t v30 = mw_mirth_arrow_Block_token(branch_Block_12);
		int64_t v31 = mw_mirth_token_Token_row(v30);
		int64_t v32 = mw_mirth_location_Row_ZToInt(v31);
		STR* v33 = i64_show(v32);
		VAL v34;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v33), v29, &v34);
		STR* v35;
		STRLIT(v35, ", ", 2);
		VAL v36;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v35), v34, &v36);
		uint64_t v37 = mw_mirth_arrow_Block_token(branch_Block_12);
		int64_t v38 = mw_mirth_token_Token_col(v37);
		int64_t v39 = mw_mirth_location_Col_ZToInt(v38);
		STR* v40 = i64_show(v39);
		VAL v41;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v40), v36, &v41);
		STR* v42;
		STRLIT(v42, ");", 2);
		VAL v43;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v42), v41, &v43);
		VAL v44;
		mw_mirth_c99_ZPlusC99_line(v43, &v44);
		branch_ZPlusC99_6 = v44;
	} else {
		branch_ZPlusC99_6 = in_ZPlusC99_2;
	}
	int64_t v45 = 1LL /* True */;
	VAL v46 = MKI64(0LL /* Nil */);
	VAL v47;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(branch_ZPlusC99_6, v45, v46, &v47);
	*out_ZPlusC99Branch_3 = v47;
}
static void mw_mirth_c99_c99Z_blockZ_exitZBang (uint64_t in_Block_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	int64_t v5;
	VAL v6;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(in_ZPlusC99Branch_2, &v4, &v5, &v6);
	decref(v6);
	VAL v7 = VTUP(v4)->cells[1];
	incref(v7);
	int64_t v8 = value_i64(VTUP(v7)->cells[2]);
	decref(v7);
	VAL branch_ZPlusC99_9;
	if (((bool)v8)) {
		VAL v10;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(v4, &v10);
		branch_ZPlusC99_9 = v10;
	} else {
		branch_ZPlusC99_9 = v4;
	}
	*out_ZPlusC99_3 = branch_ZPlusC99_9;
}
static void mw_mirth_c99_exposeZ_stackZ_typeZBang (VAL in_StackType_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL branch_ZPlusC99Branch_4;
	switch (get_data_tag(in_StackType_1)) {
		case 4LL: { // STMeta
			uint64_t v5 = mtp_mirth_type_StackType_STMeta(in_StackType_1);
			VAL v6 = mw_mirth_type_MetaVar_typeZAsk(v5);
			VAL branch_ZPlusC99Branch_7;
			switch (get_data_tag(v6)) {
				case 0LL: { // None
					branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
				} break;
				case 1LL: { // Some
					VAL v8 = mtp_std_maybe_Maybe_1_Some(v6);
					VAL v9 = mw_mirth_type_Type_expand(v8);
					incref(v9);
					VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
					void* v11 = mfld_mirth_type_MetaVar_ZTildetypeZAsk(v5);
					mut_set(v10, v11);
					VAL v12 = mw_mirth_type_Type_ZToStackType(v9);
					VAL v13;
					mw_mirth_c99_exposeZ_stackZ_typeZBang(v12, in_ZPlusC99Branch_2, &v13);
					branch_ZPlusC99Branch_7 = v13;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusC99Branch_4 = branch_ZPlusC99Branch_7;
		} break;
		case 5LL: { // STCons
			VAL v14;
			VAL v15 = mtp_mirth_type_StackType_STCons(in_StackType_1, &v14);
			VAL v16;
			VAL v17 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v14, in_ZPlusC99Branch_2, &v16);
			VAL v18;
			VAL v19;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(v16, v17, &v18, &v19);
			VAL v20;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v15, v18, &v20);
			VAL v21;
			mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(v20, v19, &v21);
			branch_ZPlusC99Branch_4 = v21;
		} break;
		case 7LL: { // STWith
			VAL v22;
			VAL v23 = mtp_mirth_type_StackType_STWith(in_StackType_1, &v22);
			VAL v24;
			VAL v25 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v22, in_ZPlusC99Branch_2, &v24);
			VAL v26;
			VAL v27;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZBang(v24, v25, &v26, &v27);
			VAL v28;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v23, v26, &v28);
			VAL v29;
			mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(v28, v27, &v29);
			branch_ZPlusC99Branch_4 = v29;
		} break;
		case 6LL: { // STConsLabel
			VAL v30;
			uint64_t v31;
			VAL v32 = mtp_mirth_type_StackType_STConsLabel(in_StackType_1, &v30, &v31);
			VAL v33;
			VAL v34 = mw_mirth_c99_ZPlusC99Branch_typeZ_toZ_c99Z_repr(v30, in_ZPlusC99Branch_2, &v33);
			VAL v35;
			VAL v36;
			mw_mirth_c99_ZPlusC99Branch_popZ_valueZ_labelZBang(v34, v31, v33, &v35, &v36);
			VAL v37;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v32, v35, &v37);
			VAL v38;
			mw_mirth_c99_pushZ_valueZ_labelZBang(v31, v37, v36, &v38);
			branch_ZPlusC99Branch_4 = v38;
		} break;
		case 8LL: { // STWithLabel
			VAL v39;
			uint64_t v40;
			VAL v41 = mtp_mirth_type_StackType_STWithLabel(in_StackType_1, &v39, &v40);
			VAL v42;
			VAL v43 = mw_mirth_c99_ZPlusC99Branch_resourceZ_toZ_c99Z_repr(v39, in_ZPlusC99Branch_2, &v42);
			VAL v44;
			VAL v45;
			mw_mirth_c99_ZPlusC99Branch_popZ_resourceZ_labelZBang(v43, v40, v42, &v44, &v45);
			VAL v46;
			mw_mirth_c99_exposeZ_stackZ_typeZBang(v41, v44, &v46);
			VAL v47;
			mw_mirth_c99_pushZ_resourceZ_labelZBang(v40, v46, v45, &v47);
			branch_ZPlusC99Branch_4 = v47;
		} break;
		default: {
			decref(in_StackType_1);
			branch_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
		} break;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_4;
}
static void mw_mirth_c99_c99Z_wordZ_enterZBang (uint64_t in_Word_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v5 = VTUP(v4)->cells[1];
	incref(v5);
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v4;
	int64_t v6 = value_i64(VTUP(v5)->cells[2]);
	decref(v5);
	uint64_t branch_Word_7;
	VAL branch_ZPlusC99Branch_8;
	if (((bool)v6)) {
		int64_t v9 = value_i64(VTUP(in_ZPlusC99Branch_2)->cells[4]);
		VAL v10 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		int64_t v11 = value_i64(VTUP(v10)->cells[4]);
		bool v12 = (((bool)v9) && ((bool)v11));
		VTUP(v10)->cells[4] = MKBOOL(v12);
		VAL v13;
		mw_mirth_c99_ZPlusC99_indent(v10, &v13);
		STR* v14;
		STRLIT(v14, "WORD_ENTER(", 11);
		VAL v15;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v14), v13, &v15);
		uint64_t v16 = mw_mirth_word_Word_name(in_Word_1);
		VAL v17 = mw_mirth_name_Name_ZToStr(v16);
		VAL v18;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v17, v15, &v18);
		STR* v19;
		STRLIT(v19, ", ", 2);
		VAL v20;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v19), v18, &v20);
		uint64_t v21 = mw_mirth_word_Word_body(in_Word_1);
		uint64_t v22 = mw_mirth_token_Token_module(v21);
		VAL v23 = mw_mirth_module_Module_sourceZ_path(v22);
		VAL v24;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v23, v20, &v24);
		STR* v25;
		STRLIT(v25, ", ", 2);
		VAL v26;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
		uint64_t v27 = mw_mirth_word_Word_body(in_Word_1);
		int64_t v28 = mw_mirth_token_Token_row(v27);
		int64_t v29 = mw_mirth_location_Row_ZToInt(v28);
		STR* v30 = i64_show(v29);
		VAL v31;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v30), v26, &v31);
		STR* v32;
		STRLIT(v32, ", ", 2);
		VAL v33;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v32), v31, &v33);
		uint64_t v34 = mw_mirth_word_Word_body(in_Word_1);
		int64_t v35 = mw_mirth_token_Token_col(v34);
		int64_t v36 = mw_mirth_location_Col_ZToInt(v35);
		STR* v37 = i64_show(v36);
		VAL v38;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v37), v33, &v38);
		STR* v39;
		STRLIT(v39, ");", 2);
		VAL v40;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v39), v38, &v40);
		VAL v41;
		mw_mirth_c99_ZPlusC99_line(v40, &v41);
		VTUP(v41)->cells[4] = MKI64(v11);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v41;
		branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
		branch_Word_7 = in_Word_1;
	} else {
		branch_ZPlusC99Branch_8 = in_ZPlusC99Branch_2;
		branch_Word_7 = in_Word_1;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_8;
}
static void mw_mirth_c99_c99Z_wordZ_exitZBang (uint64_t in_Word_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v5 = VTUP(v4)->cells[1];
	incref(v5);
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v4;
	int64_t v6 = value_i64(VTUP(v5)->cells[2]);
	decref(v5);
	VAL branch_ZPlusC99Branch_7;
	if (((bool)v6)) {
		int64_t v8 = value_i64(VTUP(in_ZPlusC99Branch_2)->cells[4]);
		VAL v9 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		int64_t v10 = value_i64(VTUP(v9)->cells[4]);
		bool v11 = (((bool)v8) && ((bool)v10));
		VTUP(v9)->cells[4] = MKBOOL(v11);
		VAL v12;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(v9, &v12);
		VTUP(v12)->cells[4] = MKI64(v10);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v12;
		branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
	} else {
		branch_ZPlusC99Branch_7 = in_ZPlusC99Branch_2;
	}
	*out_ZPlusC99Branch_3 = branch_ZPlusC99Branch_7;
}
static void mw_mirth_c99_c99Z_wordZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_word_Word_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12 = VTUP(v10)->cells[5];
		VAL v13;
		int64_t v14 = mw_mirth_word_Word_neededZAsk(((uint64_t)v11), v12, &v13);
		VTUP(v10)->cells[5] = v13;
		VAL branch_ZPlusC99_15;
		if (((bool)v14)) {
			VAL v16;
			mw_mirth_c99_c99Z_wordZ_defZBang(((uint64_t)v11), v10, &v16);
			branch_ZPlusC99_15 = v16;
		} else {
			branch_ZPlusC99_15 = v10;
		}
		int64_t v17 = 1LL;
		int64_t v18 = i64_add(v11, v17);
		void* v19 = mbuf_mirth_word_Word_NUM;
		int64_t v20 = *(int64_t*)v19;
		bool v21 = (v18 <= v20);
		v9 = v21;
		v8 = v18;
		v7 = branch_ZPlusC99_15;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_wordZ_defZBang (uint64_t in_Word_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	VAL v5 = mw_mirth_word_Word_c99Z_api(in_Word_1, in_ZPlusC99_2, &v4);
	VAL v6;
	VAL v7 = mw_mirth_c99_ZPlusC99_c99Z_line_1_sp88(v5, v4, &v6);
	int64_t v8 = value_i64(VTUP(v6)->cells[2]);
	int64_t v9 = 1LL;
	int64_t v10 = i64_add(v8, v9);
	VTUP(v6)->cells[2] = MKI64(v10);
	incref(v7);
	VAL v11;
	mw_mirth_c99_c99Z_apiZ_enterZBang(v7, v6, &v11);
	VAL v12;
	mw_mirth_c99_c99Z_wordZ_enterZBang(in_Word_1, v11, &v12);
	VAL v13;
	VAL v14 = mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp15(in_Word_1, v12, &v13);
	VAL v15;
	mw_mirth_c99_c99Z_arrowZBang(v14, v13, &v15);
	VAL v16;
	mw_mirth_c99_c99Z_wordZ_exitZBang(in_Word_1, v15, &v16);
	VAL v17;
	mw_mirth_c99_c99Z_apiZ_exitZBang(v7, v16, &v17);
	int64_t v18 = value_i64(VTUP(v17)->cells[2]);
	int64_t v19 = 1LL;
	int64_t v20 = i64_sub(v18, v19);
	int64_t v21 = 0LL;
	bool v22 = (v20 < v21);
	int64_t branch_Nat_23;
	if (v22) {
		int64_t v24 = 0LL;
		branch_Nat_23 = v24;
	} else {
		branch_Nat_23 = v20;
	}
	VTUP(v17)->cells[2] = MKI64(branch_Nat_23);
	VAL v25;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v17, &v25);
	*out_ZPlusC99_3 = v25;
}
static void mw_mirth_c99_fieldZ_sigZ_put (uint64_t in_Field_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	STR* v4;
	STRLIT(v4, "static void* ", 13);
	VAL v5;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v4), in_ZPlusC99_2, &v5);
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_table_Field_cname(v6, in_Field_1, &v7);
	VTUP(v5)->cells[7] = v7;
	VAL v9;
	mw_mirth_c99_ZPlusC99_put(v8, v5, &v9);
	STR* v10;
	STRLIT(v10, " (uint64_t i)", 13);
	VAL v11;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v10), v9, &v11);
	*out_ZPlusC99_3 = v11;
}
static void mw_mirth_c99_c99Z_fieldZ_sigsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_table_Field_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12;
		mw_mirth_c99_c99Z_fieldZ_sigZBang(((uint64_t)v11), v10, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = i64_add(v11, v13);
		void* v15 = mbuf_mirth_table_Field_NUM;
		int64_t v16 = *(int64_t*)v15;
		bool v17 = (v14 <= v16);
		v9 = v17;
		v8 = v14;
		v7 = v12;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_fieldZ_sigZBang (uint64_t in_Field_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_2, &v4);
	VAL v5;
	mw_mirth_c99_fieldZ_sigZ_put(in_Field_1, v4, &v5);
	STR* v6;
	STRLIT(v6, ";", 1);
	VAL v7;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v6), v5, &v7);
	VAL v8;
	mw_mirth_c99_ZPlusC99_line(v7, &v8);
	*out_ZPlusC99_3 = v8;
}
static void mw_mirth_c99_c99Z_fieldZ_defsZBang (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	int64_t v3 = 1LL;
	void* v4 = mbuf_mirth_table_Field_NUM;
	int64_t v5 = *(int64_t*)v4;
	bool v6 = (v3 <= v5);
	VAL v7 = in_ZPlusC99_1;
	int64_t v8 = v3;
	bool v9 = v6;
	while (v9) {
		VAL v10 = v7;
		int64_t v11 = v8;
		VAL v12;
		mw_mirth_c99_c99Z_fieldZ_defZBang(((uint64_t)v11), v10, &v12);
		int64_t v13 = 1LL;
		int64_t v14 = i64_add(v11, v13);
		void* v15 = mbuf_mirth_table_Field_NUM;
		int64_t v16 = *(int64_t*)v15;
		bool v17 = (v14 <= v16);
		v9 = v17;
		v8 = v14;
		v7 = v12;
	}
	*out_ZPlusC99_2 = v7;
}
static void mw_mirth_c99_c99Z_fieldZ_defZBang (uint64_t in_Field_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	mw_mirth_c99_fieldZ_sigZ_put(in_Field_1, in_ZPlusC99_2, &v4);
	STR* v5;
	STRLIT(v5, " {", 2);
	VAL v6;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v5), v4, &v6);
	VAL v7;
	mw_mirth_c99_ZPlusC99_line(v6, &v7);
	STR* v8;
	STRLIT(v8, "\tstatic struct VAL * p = 0;", 27);
	VAL v9;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v8), v7, &v9);
	VAL v10;
	mw_mirth_c99_ZPlusC99_line(v9, &v10);
	STR* v11;
	STRLIT(v11, "\tsize_t m = ", 12);
	VAL v12;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v11), v10, &v12);
	int64_t v13 = mw_mirth_elab_TABLEz_MAXz_COUNT();
	STR* v14 = i64_show(v13);
	VAL v15;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v14), v12, &v15);
	STR* v16;
	STRLIT(v16, ";", 1);
	VAL v17;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v16), v15, &v17);
	VAL v18;
	mw_mirth_c99_ZPlusC99_line(v17, &v18);
	STR* v19;
	STRLIT(v19, "\tif (! p) { p = calloc(m, sizeof *p); }", 39);
	VAL v20;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v19), v18, &v20);
	VAL v21;
	mw_mirth_c99_ZPlusC99_line(v20, &v21);
	STR* v22;
	STRLIT(v22, "\tEXPECT(i<m, \"table grew too big\");", 35);
	VAL v23;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v22), v21, &v23);
	VAL v24;
	mw_mirth_c99_ZPlusC99_line(v23, &v24);
	STR* v25;
	STRLIT(v25, "\treturn (void*)(p+i);", 21);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
	VAL v27;
	mw_mirth_c99_ZPlusC99_line(v26, &v27);
	STR* v28;
	STRLIT(v28, "}", 1);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
	VAL v30;
	mw_mirth_c99_ZPlusC99_line(v29, &v30);
	VAL v31;
	mw_mirth_c99_ZPlusC99_line(v30, &v31);
	*out_ZPlusC99_3 = v31;
}
static void mw_mirth_c99_c99Z_fieldZ_callZBang (uint64_t in_Field_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = MKI64(8LL /* C99RT_U64 */);
	VAL v5;
	VAL v6;
	mw_mirth_c99_ZPlusC99Branch_popZ_valueZBang(in_ZPlusC99Branch_2, v4, &v5, &v6);
	VAL v7 = MKI64(15LL /* C99RT_PTR */);
	incref(v7);
	int64_t v8 = get_data_tag(v7);
	decref(v7);
	int64_t v9 = 0LL;
	bool v10 = (v8 != v9);
	VAL branch_ZPlusC99Value_11;
	uint64_t branch_Field_12;
	VAL branch_C99ReprType_13;
	int64_t branch_Bool_14;
	VAL branch_Str_15;
	VAL branch_ZPlusC99Branch_16;
	if (v10) {
		VAL v17 = VTUP(v5)->cells[1];
		VAL v18;
		VAL v19 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v17, &v18);
		VTUP(v5)->cells[1] = v18;
		branch_ZPlusC99Branch_16 = v5;
		branch_Str_15 = v19;
		branch_Bool_14 = ((int64_t)v10);
		branch_C99ReprType_13 = v7;
		branch_Field_12 = in_Field_1;
		branch_ZPlusC99Value_11 = v6;
	} else {
		STR* v20;
		STRLIT(v20, "0", 1);
		branch_ZPlusC99Branch_16 = v5;
		branch_Str_15 = MKSTR(v20);
		branch_Bool_14 = ((int64_t)v10);
		branch_C99ReprType_13 = v7;
		branch_Field_12 = in_Field_1;
		branch_ZPlusC99Value_11 = v6;
	}
	int64_t v21 = value_i64(VTUP(branch_ZPlusC99Branch_16)->cells[4]);
	bool v22 = (((bool)branch_Bool_14) && ((bool)v21));
	VAL v23 = VTUP(branch_ZPlusC99Branch_16)->cells[1];
	int64_t v24 = value_i64(VTUP(v23)->cells[4]);
	bool v25 = (v22 && ((bool)v24));
	VTUP(v23)->cells[4] = MKBOOL(v25);
	VAL v26;
	mw_mirth_c99_ZPlusC99_indent(v23, &v26);
	incref(branch_C99ReprType_13);
	VAL v27 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_13);
	VAL v28;
	mw_mirth_c99_ZPlusC99_put(v27, v26, &v28);
	STR* v29;
	STRLIT(v29, " ", 1);
	VAL v30;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v29), v28, &v30);
	incref(branch_Str_15);
	VAL v31;
	mw_mirth_c99_ZPlusC99_put(branch_Str_15, v30, &v31);
	STR* v32;
	STRLIT(v32, " = ", 3);
	VAL v33;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v32), v31, &v33);
	VAL v34;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_13, branch_Str_15, &v34);
	VAL v35 = VTUP(v33)->cells[7];
	VAL v36;
	VAL v37 = mw_mirth_table_Field_cname(v35, branch_Field_12, &v36);
	VTUP(v33)->cells[7] = v36;
	VAL v38;
	mw_mirth_c99_ZPlusC99_put(v37, v33, &v38);
	STR* v39;
	STRLIT(v39, "(", 1);
	VAL v40;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v39), v38, &v40);
	VAL v41 = MKI64(8LL /* C99RT_U64 */);
	VAL v42 = mw_mirth_c99_ZPlusC99Value_consumeZ_as(v41, branch_ZPlusC99Value_11);
	VAL v43;
	mw_mirth_c99_ZPlusC99_put(v42, v40, &v43);
	STR* v44;
	STRLIT(v44, ")", 1);
	VAL v45;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v44), v43, &v45);
	STR* v46;
	STRLIT(v46, ";", 1);
	VAL v47;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v46), v45, &v47);
	VAL v48;
	mw_mirth_c99_ZPlusC99_line(v47, &v48);
	VTUP(v48)->cells[4] = MKI64(v24);
	VTUP(branch_ZPlusC99Branch_16)->cells[1] = v48;
	VAL v49;
	mw_mirth_c99_ZPlusC99Value_pushZ_valueZBang(branch_ZPlusC99Branch_16, v34, &v49);
	*out_ZPlusC99Branch_3 = v49;
}
static void mw_mirth_c99_c99Z_mainZBang (VAL in_Arrow_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_2, &v4);
	STR* v5;
	STRLIT(v5, "int main (int argc, char** argv) {", 34);
	VAL v6;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v5), v4, &v6);
	VAL v7;
	mw_mirth_c99_ZPlusC99_line(v6, &v7);
	VAL v8;
	mw_mirth_c99_ZPlusC99_resetZ_freshZ_counterZBang(v7, &v8);
	int64_t v9 = value_i64(VTUP(v8)->cells[2]);
	int64_t v10 = 1LL;
	int64_t v11 = i64_add(v9, v10);
	VTUP(v8)->cells[2] = MKI64(v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_indent(v8, &v12);
	STR* v13;
	STRLIT(v13, "global_argc = argc;", 19);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v13), v12, &v14);
	VAL v15;
	mw_mirth_c99_ZPlusC99_line(v14, &v15);
	VAL v16;
	mw_mirth_c99_ZPlusC99_indent(v15, &v16);
	STR* v17;
	STRLIT(v17, "global_argv = argv;", 19);
	VAL v18;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v17), v16, &v18);
	VAL v19;
	mw_mirth_c99_ZPlusC99_line(v18, &v19);
	VAL v20 = VTUP(v19)->cells[1];
	incref(v20);
	int64_t v21 = value_i64(VTUP(v20)->cells[2]);
	decref(v20);
	VAL branch_Arrow_22;
	VAL branch_ZPlusC99_23;
	if (((bool)v21)) {
		VAL v24;
		mw_mirth_c99_ZPlusC99_indent(v19, &v24);
		STR* v25;
		STRLIT(v25, "WORD_ENTER(", 11);
		VAL v26;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
		STR* v27;
		STRLIT(v27, "\"<main>\", ", 10);
		VAL v28;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v27), v26, &v28);
		incref(in_Arrow_1);
		uint64_t v29 = value_u64(VTUP(in_Arrow_1)->cells[2]);
		decref(in_Arrow_1);
		uint64_t v30 = mw_mirth_token_Token_module(v29);
		VAL v31 = mw_mirth_module_Module_sourceZ_path(v30);
		VAL v32;
		mw_mirth_c99_ZPlusC99_putZ_cstr(v31, v28, &v32);
		STR* v33;
		STRLIT(v33, ", ", 2);
		VAL v34;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v33), v32, &v34);
		incref(in_Arrow_1);
		uint64_t v35 = value_u64(VTUP(in_Arrow_1)->cells[2]);
		decref(in_Arrow_1);
		int64_t v36 = mw_mirth_token_Token_row(v35);
		int64_t v37 = mw_mirth_location_Row_ZToInt(v36);
		STR* v38 = i64_show(v37);
		VAL v39;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v38), v34, &v39);
		STR* v40;
		STRLIT(v40, ", ", 2);
		VAL v41;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v40), v39, &v41);
		incref(in_Arrow_1);
		uint64_t v42 = value_u64(VTUP(in_Arrow_1)->cells[2]);
		decref(in_Arrow_1);
		int64_t v43 = mw_mirth_token_Token_col(v42);
		int64_t v44 = mw_mirth_location_Col_ZToInt(v43);
		STR* v45 = i64_show(v44);
		VAL v46;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v45), v41, &v46);
		STR* v47;
		STRLIT(v47, ");", 2);
		VAL v48;
		mw_mirth_c99_ZPlusC99_put(MKSTR(v47), v46, &v48);
		VAL v49;
		mw_mirth_c99_ZPlusC99_line(v48, &v49);
		branch_ZPlusC99_23 = v49;
		branch_Arrow_22 = in_Arrow_1;
	} else {
		branch_ZPlusC99_23 = v19;
		branch_Arrow_22 = in_Arrow_1;
	}
	int64_t v50 = 1LL /* True */;
	VAL v51 = MKI64(0LL /* Nil */);
	VAL v52;
	mw_mirth_c99_ZPlusC99_startZ_branchZBang(branch_ZPlusC99_23, v50, v51, &v52);
	VAL v53 = MKI64(4LL /* C99RT_I64 */);
	incref(v53);
	int64_t v54 = get_data_tag(v53);
	decref(v53);
	int64_t v55 = 0LL;
	bool v56 = (v54 != v55);
	VAL branch_C99ReprType_57;
	int64_t branch_Bool_58;
	VAL branch_Str_59;
	VAL branch_ZPlusC99Branch_60;
	if (v56) {
		VAL v61 = VTUP(v52)->cells[1];
		VAL v62;
		VAL v63 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v61, &v62);
		VTUP(v52)->cells[1] = v62;
		branch_ZPlusC99Branch_60 = v52;
		branch_Str_59 = v63;
		branch_Bool_58 = ((int64_t)v56);
		branch_C99ReprType_57 = v53;
	} else {
		STR* v64;
		STRLIT(v64, "0", 1);
		branch_ZPlusC99Branch_60 = v52;
		branch_Str_59 = MKSTR(v64);
		branch_Bool_58 = ((int64_t)v56);
		branch_C99ReprType_57 = v53;
	}
	int64_t v65 = value_i64(VTUP(branch_ZPlusC99Branch_60)->cells[4]);
	bool v66 = (((bool)branch_Bool_58) && ((bool)v65));
	VAL v67 = VTUP(branch_ZPlusC99Branch_60)->cells[1];
	int64_t v68 = value_i64(VTUP(v67)->cells[4]);
	bool v69 = (v66 && ((bool)v68));
	VTUP(v67)->cells[4] = MKBOOL(v69);
	VAL v70;
	mw_mirth_c99_ZPlusC99_indent(v67, &v70);
	incref(branch_C99ReprType_57);
	VAL v71 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_57);
	VAL v72;
	mw_mirth_c99_ZPlusC99_put(v71, v70, &v72);
	STR* v73;
	STRLIT(v73, " ", 1);
	VAL v74;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v73), v72, &v74);
	incref(branch_Str_59);
	VAL v75;
	mw_mirth_c99_ZPlusC99_put(branch_Str_59, v74, &v75);
	STR* v76;
	STRLIT(v76, " = ", 3);
	VAL v77;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v76), v75, &v77);
	VAL v78;
	mtw_mirth_c99_ZPlusC99Resource_ZPlusC99Resource(branch_C99ReprType_57, branch_Str_59, &v78);
	STR* v79;
	STRLIT(v79, "0 /* The World! */", 18);
	VAL v80;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v79), v77, &v80);
	STR* v81;
	STRLIT(v81, ";", 1);
	VAL v82;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v81), v80, &v82);
	VAL v83;
	mw_mirth_c99_ZPlusC99_line(v82, &v83);
	VTUP(v83)->cells[4] = MKI64(v68);
	VTUP(branch_ZPlusC99Branch_60)->cells[1] = v83;
	VAL v84;
	mw_mirth_c99_ZPlusC99Resource_pushZ_resourceZBang(branch_ZPlusC99Branch_60, v78, &v84);
	VAL v85;
	mw_mirth_c99_c99Z_arrowZBang(branch_Arrow_22, v84, &v85);
	VAL v86;
	int64_t v87;
	VAL v88;
	mw_mirth_c99_ZPlusC99Branch_endZ_branchZBang(v85, &v86, &v87, &v88);
	decref(v88);
	VAL v89 = VTUP(v86)->cells[1];
	incref(v89);
	int64_t v90 = value_i64(VTUP(v89)->cells[2]);
	decref(v89);
	VAL branch_ZPlusC99_91;
	if (((bool)v90)) {
		VAL v92;
		mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3(v86, &v92);
		branch_ZPlusC99_91 = v92;
	} else {
		branch_ZPlusC99_91 = v86;
	}
	VAL v93;
	mw_mirth_c99_ZPlusC99_indent(branch_ZPlusC99_91, &v93);
	STR* v94;
	STRLIT(v94, "return 0;", 9);
	VAL v95;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v94), v93, &v95);
	VAL v96;
	mw_mirth_c99_ZPlusC99_line(v95, &v96);
	int64_t v97 = value_i64(VTUP(v96)->cells[2]);
	int64_t v98 = 1LL;
	int64_t v99 = i64_sub(v97, v98);
	int64_t v100 = 0LL;
	bool v101 = (v99 < v100);
	int64_t branch_Nat_102;
	if (v101) {
		int64_t v103 = 0LL;
		branch_Nat_102 = v103;
	} else {
		branch_Nat_102 = v99;
	}
	VTUP(v96)->cells[2] = MKI64(branch_Nat_102);
	VAL v104;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(v96, &v104);
	*out_ZPlusC99_3 = v104;
}
static VAL mw_mirth_main_Arguments_default (void) {
	int64_t v2 = 0LL /* False */;
	STR* v3;
	STRLIT(v3, "mirth.mth", 9);
	VAL v4 = MKI64(0LL /* None */);
	STR* v5;
	STRLIT(v5, "main", 4);
	VAL v6 = mtw_std_maybe_Maybe_1_Some(MKSTR(v5));
	VAL v7 = MKI64(0LL /* Nil */);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mtw_mirth_main_Arguments_Arguments(MKSTR(v3), v4, v6, v7, v8, v2);
	return v9;
}
static void mw_mirth_main_compileZBang (VAL in_Arguments_1, VAL in_ZPlusMirth_2, VAL *out_ZPlusMirth_3) {
	VAL v6;
	VAL v7;
	VAL v8;
	VAL v9;
	VAL v10;
	int64_t v11;
	mtp_mirth_main_Arguments_Arguments(in_Arguments_1, &v6, &v7, &v8, &v9, &v10, &v11);
	VAL v12 = VTUP(in_ZPlusMirth_2)->cells[7];
	incref(v12);
	decref(v12);
	VAL v13 = VTUP(in_ZPlusMirth_2)->cells[7];
	decref(v13);
	VTUP(in_ZPlusMirth_2)->cells[7] = v10;
	STR* v14;
	STRLIT(v14, "", 0);
	STR* v15;
	STRLIT(v15, "Compiling ", 10);
	VAL v16;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v15), MKSTR(v14), &v16);
	incref(v6);
	VAL v17;
	mw_std_path_Path_pathZThen(v6, v16, &v17);
	mw_std_prim_ZPlusWorld_trace(v17);
	int64_t v18 = 1LL /* True */;
	VAL v19 = in_ZPlusMirth_2;
	VAL v20 = v9;
	int64_t v21 = v18;
	int64_t v22 = v18;
	while (((bool)v22)) {
		VAL v23 = v19;
		VAL v24 = v20;
		int64_t v25 = v21;
		VAL branch_ZPlusMirth_26;
		VAL branch_List_27;
		int64_t branch_Bool_28;
		switch (get_data_tag(v24)) {
			case 1LL: { // Cons
				VAL v29;
				VAL v30 = mtp_std_list_List_1_Cons(v24, &v29);
				VAL v31 = value_tup(v30, 2)->cells[0];
				VAL v32 = value_tup(v30, 2)->cells[1];
				tup_decref_outer(value_tup(v30, 2), 2);
				uint64_t v33 = mw_std_prim_Str_ZToName(v31);
				VAL v34;
				uint64_t v35 = mw_mirth_package_Package_newZ_orZ_pathZBang(v23, v32, v33, &v34);
				int64_t v36 = 1LL /* True */;
				branch_Bool_28 = v36;
				branch_List_27 = v29;
				branch_ZPlusMirth_26 = v34;
			} break;
			case 0LL: { // Nil
				VAL v37 = MKI64(0LL /* Nil */);
				int64_t v38 = 0LL /* False */;
				branch_Bool_28 = v38;
				branch_List_27 = v37;
				branch_ZPlusMirth_26 = v23;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v22 = branch_Bool_28;
		v21 = branch_Bool_28;
		v20 = branch_List_27;
		v19 = branch_ZPlusMirth_26;
	}
	decref(v20);
	VAL v39;
	uint64_t v40 = mw_mirth_lexer_runZ_lexerZBang(v6, v19, &v39);
	STR* v41;
	STRLIT(v41, "", 0);
	STR* v42;
	STRLIT(v42, "Building.", 9);
	VAL v43;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v42), MKSTR(v41), &v43);
	mw_std_prim_ZPlusWorld_trace(v43);
	VAL v44;
	uint64_t v45 = mw_mirth_elab_elabZ_moduleZBang(v40, v39, &v44);
	VAL v46;
	mw_mirth_elab_typecheckZ_everythingZBang(v44, &v46);
	uint64_t branch_Module_47;
	VAL branch_ZPlusMirth_48;
	VAL branch_Maybe_49;
	switch (get_data_tag(v8)) {
		case 1LL: { // Some
			VAL v50 = mtp_std_maybe_Maybe_1_Some(v8);
			VAL v51 = mtw_mirth_name_Namespace_NAMESPACEz_MODULE(v45);
			uint64_t v52 = mw_std_prim_Str_ZToName(v50);
			VAL v53 = mw_mirth_name_QNAME0(v51, v52);
			VAL v54;
			VAL v55 = mw_mirth_elab_elabZ_entryZ_point(v53, v46, &v54);
			VAL v56 = mtw_std_maybe_Maybe_1_Some(v55);
			branch_Maybe_49 = v56;
			branch_ZPlusMirth_48 = v54;
			branch_Module_47 = v45;
		} break;
		case 0LL: { // None
			VAL v57 = MKI64(0LL /* None */);
			branch_Maybe_49 = v57;
			branch_ZPlusMirth_48 = v46;
			branch_Module_47 = v45;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v58;
	mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang(branch_ZPlusMirth_48, &v58);
	int64_t v59 = value_i64(VTUP(v58)->cells[1]);
	int64_t v60 = 0LL;
	bool v61 = (v59 > v60);
	VAL branch_Maybe_62;
	int64_t branch_Bool_63;
	VAL branch_Maybe_64;
	VAL branch_ZPlusMirth_65;
	if (v61) {
		int64_t v66 = value_i64(VTUP(v58)->cells[1]);
		STR* v67;
		STRLIT(v67, "", 0);
		VAL v68 = MKI64(31LL /* FGRed */);
		VAL v69;
		mw_std_terminal_Sgr_emitZThen(v68, MKSTR(v67), &v69);
		STR* v70 = i64_show(v66);
		VAL v71;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v70), v69, &v71);
		STR* v72;
		STRLIT(v72, " errors.", 8);
		VAL v73;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v72), v71, &v73);
		VAL v74 = MKI64(0LL /* Reset */);
		VAL v75;
		mw_std_terminal_Sgr_emitZThen(v74, v73, &v75);
		mw_std_prim_ZPlusWorld_trace(v75);
		int64_t v76 = 1LL;
		mext_std_posix_externalZ_posixZ_exit(v76);
	} else {
		STR* v77;
		STRLIT(v77, "", 0);
		VAL v78 = MKI64(32LL /* FGGreen */);
		VAL v79;
		mw_std_terminal_Sgr_emitZThen(v78, MKSTR(v77), &v79);
		STR* v80;
		STRLIT(v80, "No errors.", 10);
		VAL v81;
		mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v80), v79, &v81);
		VAL v82 = MKI64(0LL /* Reset */);
		VAL v83;
		mw_std_terminal_Sgr_emitZThen(v82, v81, &v83);
		mw_std_prim_ZPlusWorld_trace(v83);
		branch_ZPlusMirth_65 = v58;
		branch_Maybe_64 = branch_Maybe_49;
		branch_Bool_63 = v11;
		branch_Maybe_62 = v7;
	}
	VAL branch_ZPlusMirth_84;
	switch (get_data_tag(branch_Maybe_64)) {
		case 1LL: { // Some
			VAL v85 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_64);
			STR* v86;
			STRLIT(v86, "Specializer.", 12);
			mw_std_prim_ZPlusWorld_trace(MKSTR(v86));
			VAL v87;
			VAL v88 = mw_mirth_specializzer_runZ_specializzerZBang(branch_ZPlusMirth_65, v85, &v87);
			int64_t v89 = value_i64(VTUP(v87)->cells[1]);
			int64_t v90 = 0LL;
			bool v91 = (v89 > v90);
			VAL branch_ZPlusMirth_92;
			if (v91) {
				VAL v93;
				mw_mirth_mirth_ZPlusMirth_traceZ_diagnosticsZBang(v87, &v93);
				int64_t v94 = value_i64(VTUP(v93)->cells[1]);
				STR* v95;
				STRLIT(v95, "", 0);
				VAL v96 = MKI64(31LL /* FGRed */);
				VAL v97;
				mw_std_terminal_Sgr_emitZThen(v96, MKSTR(v95), &v97);
				STR* v98 = i64_show(v94);
				VAL v99;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v98), v97, &v99);
				STR* v100;
				STRLIT(v100, " errors during specializer.", 27);
				VAL v101;
				mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v100), v99, &v101);
				VAL v102 = MKI64(0LL /* Reset */);
				VAL v103;
				mw_std_terminal_Sgr_emitZThen(v102, v101, &v103);
				mw_std_prim_ZPlusWorld_trace(v103);
				int64_t v104 = 1LL;
				mext_std_posix_externalZ_posixZ_exit(v104);
			} else {
				STR* v105;
				STRLIT(v105, "Codegen.", 8);
				mw_std_prim_ZPlusWorld_trace(MKSTR(v105));
				VAL branch_ZPlusMirth_106;
				switch (get_data_tag(branch_Maybe_62)) {
					case 1LL: { // Some
						VAL v107 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_62);
						VAL v108 = mtw_mirth_c99_C99z_Options_C99z_Options(v107, branch_Bool_63);
						VAL v109;
						mw_mirth_c99_runZ_outputZ_c99ZBang(v88, v108, v87, &v109);
						branch_ZPlusMirth_106 = v109;
					} break;
					case 0LL: { // None
						decref(v88);
						branch_ZPlusMirth_106 = v87;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_ZPlusMirth_92 = branch_ZPlusMirth_106;
			}
			branch_ZPlusMirth_84 = branch_ZPlusMirth_92;
		} break;
		case 0LL: { // None
			STR* v110;
			STRLIT(v110, "Skipping Codegen.", 17);
			mw_std_prim_ZPlusWorld_trace(MKSTR(v110));
			decref(branch_Maybe_62);
			branch_ZPlusMirth_84 = branch_ZPlusMirth_65;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_84;
}
static TUP* mw_mirth_main_parseZ_packageZ_def (VAL in_Str_1) {
	int64_t v3 = 58LL /* BCOLON */;
	VAL v4 = mw_std_prim_Str_splitZ_byte(v3, in_Str_1);
	VAL v5 = mw_std_list_ListZPlus_1_ZDivL2ZPlus(v4);
	VAL branch_z_x1_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_z_x1_6 = v7;
		} break;
		case 0LL: { // None
			STR* v8;
			STRLIT(v8, "Invalid package path definition", 31);
			do_panic(v8);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v10 = value_tup(branch_z_x1_6, 2)->cells[0];
	VAL v11 = value_tup(branch_z_x1_6, 2)->cells[1];
	tup_decref_outer(value_tup(branch_z_x1_6, 2), 2);
	TUP* v12 = tup_pack2(v10, v11);
	return v12;
}
static VAL mw_mirth_main_compilerZ_parseZ_args (VAL in_ZPlusArgumentParser_1, VAL in_Arguments_2, VAL in_Maybe_3, VAL in_ArgpOptionType_4, VAL *out_ZPlusArgumentParser_5) {
	VAL branch_ZPlusArgumentParser_7;
	VAL branch_Arguments_8;
	switch (get_data_tag(in_ArgpOptionType_4)) {
		case 0LL: { // Short
			int64_t v9 = mtp_argZ_parser_types_ArgpOptionType_Short(in_ArgpOptionType_4);
			VAL branch_ZPlusArgumentParser_10;
			VAL branch_Arguments_11;
			switch (v9) {
				case 111LL: { // B'o'
					VAL branch_Maybe_12;
					switch (get_data_tag(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v13 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							VAL v14 = mtw_std_maybe_Maybe_1_Some(v13);
							branch_Maybe_12 = v14;
						} break;
						case 0LL: { // None
							VAL v15 = MKI64(0LL /* None */);
							branch_Maybe_12 = v15;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					VAL v16 = tup_replace(in_Arguments_2, 2, branch_Maybe_12);
					branch_Arguments_11 = v16;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 101LL: { // B'e'
					VAL v17 = tup_replace(in_Arguments_2, 3, in_Maybe_3);
					branch_Arguments_11 = v17;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 99LL: { // B'c'
					decref(in_Maybe_3);
					VAL v18 = MKI64(0LL /* None */);
					VAL v19 = tup_replace(in_Arguments_2, 3, v18);
					branch_Arguments_11 = v19;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 112LL: { // B'p'
					VAL branch_Arguments_20;
					switch (get_data_tag(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v21 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							TUP* v22 = mw_mirth_main_parseZ_packageZ_def(v21);
							incref(in_Arguments_2);
							VAL v23 = VTUP(in_Arguments_2)->cells[4];
							incref(v23);
							decref(in_Arguments_2);
							VAL v24 = mtw_std_list_List_1_Cons(MKTUP(v22, 2), v23);
							VAL v25 = tup_replace(in_Arguments_2, 4, v24);
							branch_Arguments_20 = v25;
						} break;
						case 0LL: { // None
							branch_Arguments_20 = in_Arguments_2;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Arguments_11 = branch_Arguments_20;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				case 80LL: { // B'P'
					VAL branch_Arguments_26;
					switch (get_data_tag(in_Maybe_3)) {
						case 1LL: { // Some
							VAL v27 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
							incref(in_Arguments_2);
							VAL v28 = VTUP(in_Arguments_2)->cells[5];
							incref(v28);
							decref(in_Arguments_2);
							VAL v29 = mtw_std_list_List_1_Cons(v27, v28);
							VAL v30 = tup_replace(in_Arguments_2, 5, v29);
							branch_Arguments_26 = v30;
						} break;
						case 0LL: { // None
							branch_Arguments_26 = in_Arguments_2;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Arguments_11 = branch_Arguments_26;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
				default: {
					decref(in_Maybe_3);
					VAL v31 = MKI64(4LL /* UnknownArg */);
					VAL v32 = mtw_std_maybe_Maybe_1_Some(v31);
					VAL v33 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
					incref(v33);
					VAL v34 = tup_replace(v33, 6, v32);
					VAL v35 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
					decref(v35);
					VTUP(in_ZPlusArgumentParser_1)->cells[2] = v34;
					branch_Arguments_11 = in_Arguments_2;
					branch_ZPlusArgumentParser_10 = in_ZPlusArgumentParser_1;
				} break;
			}
			branch_Arguments_8 = branch_Arguments_11;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_10;
		} break;
		case 2LL: { // Positional
			VAL v36 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
			incref(v36);
			int64_t v37 = value_i64(VTUP(v36)->cells[4]);
			decref(v36);
			int64_t v38 = 0LL;
			bool v39 = (v37 == v38);
			VAL branch_ZPlusArgumentParser_40;
			VAL branch_Arguments_41;
			if (v39) {
				VAL branch_Arguments_42;
				switch (get_data_tag(in_Maybe_3)) {
					case 1LL: { // Some
						VAL v43 = mtp_std_maybe_Maybe_1_Some(in_Maybe_3);
						VAL v44 = tup_replace(in_Arguments_2, 1, v43);
						branch_Arguments_42 = v44;
					} break;
					case 0LL: { // None
						branch_Arguments_42 = in_Arguments_2;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Arguments_41 = branch_Arguments_42;
				branch_ZPlusArgumentParser_40 = in_ZPlusArgumentParser_1;
			} else {
				decref(in_Maybe_3);
				VAL v45 = MKI64(2LL /* TooManyArgs */);
				VAL v46 = mtw_std_maybe_Maybe_1_Some(v45);
				VAL v47 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
				incref(v47);
				VAL v48 = tup_replace(v47, 6, v46);
				VAL v49 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
				decref(v49);
				VTUP(in_ZPlusArgumentParser_1)->cells[2] = v48;
				branch_Arguments_41 = in_Arguments_2;
				branch_ZPlusArgumentParser_40 = in_ZPlusArgumentParser_1;
			}
			branch_Arguments_8 = branch_Arguments_41;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_40;
		} break;
		case 1LL: { // LongOnly
			VAL v50 = mtp_argZ_parser_types_ArgpOptionType_LongOnly(in_ArgpOptionType_4);
			incref(v50);
			STR* v51;
			STRLIT(v51, "debug", 5);
			bool v52 = (str_cmp(value_str(v50), v51) == 0);
			VAL branch_ZPlusArgumentParser_53;
			VAL branch_Arguments_54;
			if (v52) {
				decref(v50);
				decref(in_Maybe_3);
				int64_t v55 = 1LL /* True */;
				VAL v56 = tup_replace(in_Arguments_2, 6, MKI64(v55));
				branch_Arguments_54 = v56;
				branch_ZPlusArgumentParser_53 = in_ZPlusArgumentParser_1;
			} else {
				decref(v50);
				decref(in_Maybe_3);
				VAL v57 = MKI64(4LL /* UnknownArg */);
				VAL v58 = mtw_std_maybe_Maybe_1_Some(v57);
				VAL v59 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
				incref(v59);
				VAL v60 = tup_replace(v59, 6, v58);
				VAL v61 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
				decref(v61);
				VTUP(in_ZPlusArgumentParser_1)->cells[2] = v60;
				branch_Arguments_54 = in_Arguments_2;
				branch_ZPlusArgumentParser_53 = in_ZPlusArgumentParser_1;
			}
			branch_Arguments_8 = branch_Arguments_54;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_53;
		} break;
		case 3LL: { // End
			VAL v62 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
			incref(v62);
			int64_t v63 = value_i64(VTUP(v62)->cells[4]);
			decref(v62);
			int64_t v64 = 1LL;
			bool v65 = (v63 < v64);
			VAL branch_ZPlusArgumentParser_66;
			if (v65) {
				VAL v67 = MKI64(3LL /* TooFewArgs */);
				VAL v68 = mtw_std_maybe_Maybe_1_Some(v67);
				VAL v69 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
				incref(v69);
				VAL v70 = tup_replace(v69, 6, v68);
				VAL v71 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
				decref(v71);
				VTUP(in_ZPlusArgumentParser_1)->cells[2] = v70;
				branch_ZPlusArgumentParser_66 = in_ZPlusArgumentParser_1;
			} else {
				branch_ZPlusArgumentParser_66 = in_ZPlusArgumentParser_1;
			}
			VAL v72 = VTUP(branch_ZPlusArgumentParser_66)->cells[2];
			incref(v72);
			VAL v73 = VTUP(v72)->cells[1];
			incref(v73);
			decref(v72);
			VAL v74 = VTUP(v73)->cells[2];
			incref(v74);
			decref(v73);
			int64_t v75 = get_data_tag(v74);
			decref(v74);
			int64_t v76 = 0LL;
			bool v77 = (v75 == v76);
			VAL branch_ZPlusArgumentParser_78;
			if (v77) {
				VAL v79 = VTUP(branch_ZPlusArgumentParser_66)->cells[2];
				incref(v79);
				VAL v80 = VTUP(v79)->cells[1];
				incref(v80);
				decref(v79);
				VAL v81 = VTUP(v80)->cells[3];
				incref(v81);
				decref(v80);
				int64_t v82 = get_data_tag(v81);
				decref(v81);
				int64_t v83 = 1LL;
				bool v84 = (v82 == v83);
				VAL branch_ZPlusArgumentParser_85;
				if (v84) {
					STR* v86;
					STRLIT(v86, "output-file", 11);
					VAL v87 = mtw_argZ_parser_types_ArgumentParsingError_MissingArg(MKSTR(v86));
					VAL v88 = mtw_std_maybe_Maybe_1_Some(v87);
					VAL v89 = VTUP(branch_ZPlusArgumentParser_66)->cells[2];
					incref(v89);
					VAL v90 = tup_replace(v89, 6, v88);
					VAL v91 = VTUP(branch_ZPlusArgumentParser_66)->cells[2];
					decref(v91);
					VTUP(branch_ZPlusArgumentParser_66)->cells[2] = v90;
					branch_ZPlusArgumentParser_85 = branch_ZPlusArgumentParser_66;
				} else {
					branch_ZPlusArgumentParser_85 = branch_ZPlusArgumentParser_66;
				}
				branch_ZPlusArgumentParser_78 = branch_ZPlusArgumentParser_85;
			} else {
				branch_ZPlusArgumentParser_78 = branch_ZPlusArgumentParser_66;
			}
			decref(in_Maybe_3);
			branch_Arguments_8 = in_Arguments_2;
			branch_ZPlusArgumentParser_7 = branch_ZPlusArgumentParser_78;
		} break;
		default: {
			decref(in_ArgpOptionType_4);
			decref(in_Maybe_3);
			VAL v92 = MKI64(4LL /* UnknownArg */);
			VAL v93 = mtw_std_maybe_Maybe_1_Some(v92);
			VAL v94 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
			incref(v94);
			VAL v95 = tup_replace(v94, 6, v93);
			VAL v96 = VTUP(in_ZPlusArgumentParser_1)->cells[2];
			decref(v96);
			VTUP(in_ZPlusArgumentParser_1)->cells[2] = v95;
			branch_Arguments_8 = in_Arguments_2;
			branch_ZPlusArgumentParser_7 = in_ZPlusArgumentParser_1;
		} break;
	}
	*out_ZPlusArgumentParser_5 = branch_ZPlusArgumentParser_7;
	return branch_Arguments_8;
}
static void mw_mirth_main_main (void) {
	VAL v3;
	mw_mirth_mirth_ZPlusMirth_InitZBang(&v3);
	VAL v4 = mw_mirth_main_Arguments_default();
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6 = mw_std_list_List_1_reverse(v5);
	STR* v7;
	STRLIT(v7, "output-file", 11);
	VAL v8 = mtw_std_maybe_Maybe_1_Some(MKSTR(v7));
	int64_t v9 = 111LL /* B'o' */;
	VAL v10 = mtw_argZ_parser_types_ArgpOptionType_Short(v9);
	STR* v11;
	STRLIT(v11, "OUTPUT_FILE", 11);
	VAL v12 = mtw_std_maybe_Maybe_1_Some(MKSTR(v11));
	STR* v13;
	STRLIT(v13, "Test argument", 13);
	VAL v14 = mtw_std_maybe_Maybe_1_Some(MKSTR(v13));
	VAL v15 = MKI64(0LL /* None */);
	VAL v16 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v8, v10, v12, v14, v15);
	VAL v17 = mtw_std_list_List_1_Cons(v16, v6);
	STR* v18;
	STRLIT(v18, "compile-only", 12);
	VAL v19 = mtw_std_maybe_Maybe_1_Some(MKSTR(v18));
	int64_t v20 = 99LL /* B'c' */;
	VAL v21 = mtw_argZ_parser_types_ArgpOptionType_Short(v20);
	VAL v22 = MKI64(0LL /* None */);
	STR* v23;
	STRLIT(v23, "Compile code without running codegen step", 41);
	VAL v24 = mtw_std_maybe_Maybe_1_Some(MKSTR(v23));
	VAL v25 = MKI64(0LL /* None */);
	VAL v26 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v19, v21, v22, v24, v25);
	VAL v27 = mtw_std_list_List_1_Cons(v26, v17);
	STR* v28;
	STRLIT(v28, "entry-point", 11);
	VAL v29 = mtw_std_maybe_Maybe_1_Some(MKSTR(v28));
	int64_t v30 = 101LL /* B'e' */;
	VAL v31 = mtw_argZ_parser_types_ArgpOptionType_Short(v30);
	STR* v32;
	STRLIT(v32, "ENTRY_POINT", 11);
	VAL v33 = mtw_std_maybe_Maybe_1_Some(MKSTR(v32));
	STR* v34;
	STRLIT(v34, "Custom entry point word for compilation", 39);
	VAL v35 = mtw_std_maybe_Maybe_1_Some(MKSTR(v34));
	VAL v36 = MKI64(0LL /* None */);
	VAL v37 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v29, v31, v33, v35, v36);
	VAL v38 = mtw_std_list_List_1_Cons(v37, v27);
	STR* v39;
	STRLIT(v39, "package", 7);
	VAL v40 = mtw_std_maybe_Maybe_1_Some(MKSTR(v39));
	int64_t v41 = 112LL /* B'p' */;
	VAL v42 = mtw_argZ_parser_types_ArgpOptionType_Short(v41);
	STR* v43;
	STRLIT(v43, "(PACKAGE:PATH)*", 15);
	VAL v44 = mtw_std_maybe_Maybe_1_Some(MKSTR(v43));
	STR* v45;
	STRLIT(v45, "Package locations", 17);
	VAL v46 = mtw_std_maybe_Maybe_1_Some(MKSTR(v45));
	VAL v47 = MKI64(0LL /* None */);
	VAL v48 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v40, v42, v44, v46, v47);
	VAL v49 = mtw_std_list_List_1_Cons(v48, v38);
	STR* v50;
	STRLIT(v50, "package-search-path", 19);
	VAL v51 = mtw_std_maybe_Maybe_1_Some(MKSTR(v50));
	int64_t v52 = 80LL /* B'P' */;
	VAL v53 = mtw_argZ_parser_types_ArgpOptionType_Short(v52);
	STR* v54;
	STRLIT(v54, "SEARCH_PATH*", 12);
	VAL v55 = mtw_std_maybe_Maybe_1_Some(MKSTR(v54));
	STR* v56;
	STRLIT(v56, "Package search paths", 20);
	VAL v57 = mtw_std_maybe_Maybe_1_Some(MKSTR(v56));
	VAL v58 = MKI64(0LL /* None */);
	VAL v59 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v51, v53, v55, v57, v58);
	VAL v60 = mtw_std_list_List_1_Cons(v59, v49);
	STR* v61;
	STRLIT(v61, "debug", 5);
	VAL v62 = mtw_std_maybe_Maybe_1_Some(MKSTR(v61));
	STR* v63;
	STRLIT(v63, "debug", 5);
	VAL v64 = mtw_argZ_parser_types_ArgpOptionType_LongOnly(MKSTR(v63));
	VAL v65 = MKI64(0LL /* None */);
	STR* v66;
	STRLIT(v66, "Emit debugging information during codegen", 41);
	VAL v67 = mtw_std_maybe_Maybe_1_Some(MKSTR(v66));
	VAL v68 = MKI64(0LL /* None */);
	VAL v69 = mtw_argZ_parser_types_ArgpOption_ArgpOption(v62, v64, v65, v67, v68);
	VAL v70 = mtw_std_list_List_1_Cons(v69, v60);
	VAL v71 = mw_std_list_List_1_reverse(v70);
	FNPTR v72 = &mb_mirth_main_main_1;
	STR* v73;
	STRLIT(v73, "input-file", 10);
	VAL v74 = mtw_std_maybe_Maybe_1_Some(MKSTR(v73));
	STR* v75;
	STRLIT(v75, "Mirth Compiler", 14);
	VAL v76 = mtw_argZ_parser_types_ArgumentParser_1_ArgumentParser(v71, MKFNPTR(v72), v74, MKSTR(v75));
	VAL v77 = mw_argZ_parser_parse_parseZ_args(v4, v76);
	VAL branch_ZPlusMirth_78;
	VAL branch_Arguments_79;
	switch (get_data_tag(v77)) {
		case 1LL: { // Right
			VAL v80 = mtp_std_either_Either_2_Right(v77);
			branch_Arguments_79 = v80;
			branch_ZPlusMirth_78 = v3;
		} break;
		case 0LL: { // Left
			VAL v81 = mtp_std_either_Either_2_Left(v77);
			STR* v82;
			STRLIT(v82, "", 0);
			VAL v83 = value_tup(v81, 2)->cells[0];
			VAL v84 = value_tup(v81, 2)->cells[1];
			tup_decref_outer(value_tup(v81, 2), 2);
			VAL v85;
			mw_std_str_ZPlusStr_pushZ_strZBang(v84, MKSTR(v82), &v85);
			VAL v86;
			mw_argZ_parser_types_ArgumentParsingError_emitZThen(v83, v85, &v86);
			mw_std_prim_ZPlusWorld_trace(v86);
			int64_t v87 = 1LL;
			mext_std_posix_externalZ_posixZ_exit(v87);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_Arguments_79);
	VAL v89 = VTUP(branch_Arguments_79)->cells[5];
	incref(v89);
	decref(branch_Arguments_79);
	int64_t v90 = mw_std_list_List_1_emptyZAsk(v89);
	VAL branch_ZPlusMirth_91;
	VAL branch_Arguments_92;
	if (((bool)v90)) {
		VAL v93 = MKI64(0LL /* Nil */);
		VAL v94 = mw_std_list_List_1_reverse(v93);
		STR* v95;
		STRLIT(v95, "lib", 3);
		VAL v96 = mtw_std_list_List_1_Cons(MKSTR(v95), v94);
		VAL v97;
		VAL v98 = mw_mirth_mirth_ZPlusMirth_mirthZ_baseZ_libZ_path(branch_ZPlusMirth_78, &v97);
		VAL v99;
		mw_std_maybe_Maybe_1_for_1_sp7(v96, v98, &v99);
		VAL v100 = mw_std_list_List_1_reverse(v99);
		VAL v101 = tup_replace(branch_Arguments_79, 5, v100);
		branch_Arguments_92 = v101;
		branch_ZPlusMirth_91 = v97;
	} else {
		branch_Arguments_92 = branch_Arguments_79;
		branch_ZPlusMirth_91 = branch_ZPlusMirth_78;
	}
	VAL v102;
	mw_mirth_main_compileZBang(branch_Arguments_92, branch_ZPlusMirth_91, &v102);
	mw_mirth_mirth_ZPlusMirth_rdrop(v102);
}
static VAL mw_std_list_List_1_for_1_sp1 (VAL in_List_1, VAL in_List_2) {
	int64_t v4 = 1LL /* True */;
	VAL v5 = in_List_1;
	VAL v6 = in_List_2;
	int64_t v7 = v4;
	int64_t v8 = v4;
	while (((bool)v8)) {
		VAL v9 = v5;
		VAL v10 = v6;
		int64_t v11 = v7;
		VAL branch_List_12;
		VAL branch_List_13;
		int64_t branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17 = mtw_std_list_List_1_Cons(v16, v9);
				int64_t v18 = 1LL /* True */;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_List_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				int64_t v20 = 0LL /* False */;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_List_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_List_12;
	}
	decref(v6);
	return v5;
}
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2 (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	VAL v3;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_1, &v3);
	STR* v4;
	STRLIT(v4, "}", 1);
	VAL v5;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v4), v3, &v5);
	VAL v6;
	mw_mirth_c99_ZPlusC99_line(v5, &v6);
	*out_ZPlusC99_2 = v6;
}
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp1 (uint64_t in_Block_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_arrow_Block_arrow(v6, in_Block_1, &v7);
	VTUP(v5)->cells[7] = v7;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v5;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
	return v8;
}
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp3 (VAL in_Arrow_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7 = mw_mirth_arrow_Arrow_type(in_Arrow_1);
	VTUP(v5)->cells[7] = v6;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v5;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
	return v7;
}
static void mw_mirth_c99_ZPlusC99_c99Z_line_1_sp3 (VAL in_ZPlusC99_1, VAL *out_ZPlusC99_2) {
	VAL v3;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_1, &v3);
	STR* v4;
	STRLIT(v4, "WORD_EXIT;", 10);
	VAL v5;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v4), v3, &v5);
	VAL v6;
	mw_mirth_c99_ZPlusC99_line(v5, &v6);
	*out_ZPlusC99_2 = v6;
}
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp1 (VAL in_Str_1, uint64_t in_Label_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	int64_t v5 = value_i64(VTUP(in_ZPlusC99Branch_3)->cells[4]);
	VAL v6 = VTUP(in_ZPlusC99Branch_3)->cells[1];
	int64_t v7 = value_i64(VTUP(v6)->cells[4]);
	bool v8 = (((bool)v5) && ((bool)v7));
	VTUP(v6)->cells[4] = MKBOOL(v8);
	VAL v9;
	mw_mirth_c99_ZPlusC99_indent(v6, &v9);
	STR* v10;
	STRLIT(v10, "lpush(&lbl_", 11);
	VAL v11;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v10), v9, &v11);
	uint64_t v12 = mw_mirth_label_Label_name(in_Label_2);
	VAL v13 = mw_mirth_name_Name_mangled(v12);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(v13, v11, &v14);
	STR* v15;
	STRLIT(v15, ", ", 2);
	VAL v16;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v15), v14, &v16);
	VAL v17;
	mw_mirth_c99_ZPlusC99_put(in_Str_1, v16, &v17);
	STR* v18;
	STRLIT(v18, ");", 2);
	VAL v19;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
	VAL v20;
	mw_mirth_c99_ZPlusC99_line(v19, &v20);
	VTUP(v20)->cells[4] = MKI64(v7);
	VTUP(in_ZPlusC99Branch_3)->cells[1] = v20;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_3;
}
static VAL mw_std_str_Str_1_sp4 (VAL in_Str_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	STR* v4;
	STRLIT(v4, "MKI64(", 6);
	VAL v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v4), MKSTR(v3), &v5);
	VAL v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v5, &v6);
	STR* v7;
	STRLIT(v7, ")", 1);
	VAL v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v7), v6, &v8);
	return v8;
}
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp4 (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_data_Tag_semiZ_transparentZAsk(v6, in_Tag_1, &v7);
	VTUP(v5)->cells[7] = v7;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v5;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
	return v8;
}
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp7 (uint64_t in_Data_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_data_Data_c99Z_repr(in_Data_1, v6, &v7);
	VTUP(v5)->cells[7] = v7;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v5;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
	return v8;
}
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp3 (uint64_t in_Label_1, uint64_t in_Tag_2, VAL in_ZPlusC99ValueZDivResource_3, VAL in_ZPlusC99_4, VAL in_C99ReprType_5, VAL *out_ZPlusC99ValueZDivResource_6, uint64_t *out_Tag_7, uint64_t *out_Label_8, VAL *out_ZPlusC99_9) {
	VAL v10;
	VAL v11 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_5, &v10);
	VAL v12;
	mw_mirth_c99_ZPlusC99_put(v11, in_ZPlusC99_4, &v12);
	STR* v13;
	STRLIT(v13, "VTUP(", 5);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v13), v12, &v14);
	VAL v15;
	VAL v16;
	mw_mirth_c99_ZPlusC99ValueZDivResource_rdup(in_ZPlusC99ValueZDivResource_3, &v15, &v16);
	VAL v17 = mw_mirth_c99_ZPlusC99ValueZDivResource_consumeZ_asZ_VAL(v15);
	VAL v18;
	mw_mirth_c99_ZPlusC99_put(v17, v14, &v18);
	STR* v19;
	STRLIT(v19, ")->cells[", 9);
	VAL v20;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v19), v18, &v20);
	VAL v21;
	int64_t v22 = mw_mirth_c99_c99Z_tagZ_labelZ_index(in_Tag_2, in_Label_1, v20, &v21);
	STR* v23 = i64_show(v22);
	VAL v24;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v23), v21, &v24);
	STR* v25;
	STRLIT(v25, "]", 1);
	VAL v26;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v25), v24, &v26);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(v10, v26, &v27);
	*out_ZPlusC99_9 = v27;
	*out_Label_8 = in_Label_1;
	*out_Tag_7 = in_Tag_2;
	*out_ZPlusC99ValueZDivResource_6 = v16;
}
static void mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp8 (VAL in_Str_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v5 = VTUP(v4)->cells[7];
	mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(in_Str_1, v5);
}
static void mw_mirth_c99_C99ReprType_vZ_macro_1_sp4 (uint64_t in_Label_1, VAL in_ZPlusC99_2, VAL in_C99ReprType_3, VAL *out_ZPlusC99_4) {
	VAL v5;
	VAL v6 = mw_mirth_c99_C99ReprType_vZ_macroZ_prefixZ_suffix(in_C99ReprType_3, &v5);
	VAL v7;
	mw_mirth_c99_ZPlusC99_put(v6, in_ZPlusC99_2, &v7);
	STR* v8;
	STRLIT(v8, "lpop(&lbl_", 10);
	VAL v9;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v8), v7, &v9);
	uint64_t v10 = mw_mirth_label_Label_name(in_Label_1);
	VAL v11 = mw_mirth_name_Name_mangled(v10);
	VAL v12;
	mw_mirth_c99_ZPlusC99_put(v11, v9, &v12);
	STR* v13;
	STRLIT(v13, ")", 1);
	VAL v14;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v13), v12, &v14);
	VAL v15;
	mw_mirth_c99_ZPlusC99_put(v5, v14, &v15);
	*out_ZPlusC99_4 = v15;
}
static VAL mw_std_maybe_Maybe_1_map_1_sp3 (VAL in_Resource_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Resource_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v8 = value_tup(v7, 2)->cells[0];
			VAL v9 = value_tup(v7, 2)->cells[1];
			tup_decref_outer(value_tup(v7, 2), 2);
			incref(in_Resource_1);
			VAL v10 = mtw_mirth_type_StackType_STWith(v8, in_Resource_1);
			TUP* v11 = tup_pack2(v10, v9);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_6 = v12;
			branch_Resource_5 = in_Resource_1;
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_6 = v13;
			branch_Resource_5 = in_Resource_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Resource_5;
}
static VAL mw_std_maybe_Maybe_1_map_1_sp4 (VAL in_Type_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Type_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v8 = value_tup(v7, 2)->cells[0];
			VAL v9 = value_tup(v7, 2)->cells[1];
			tup_decref_outer(value_tup(v7, 2), 2);
			incref(in_Type_1);
			VAL v10 = mtw_mirth_type_StackType_STCons(v8, in_Type_1);
			TUP* v11 = tup_pack2(v10, v9);
			VAL v12 = mtw_std_maybe_Maybe_1_Some(MKTUP(v11, 2));
			branch_Maybe_6 = v12;
			branch_Type_5 = in_Type_1;
		} break;
		case 0LL: { // None
			VAL v13 = MKI64(0LL /* None */);
			branch_Maybe_6 = v13;
			branch_Type_5 = in_Type_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Type_5;
}
static VAL mw_std_list_List_1_filter_1_sp1 (VAL in_List_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mw_std_list_List_1_reverse(v3);
	int64_t v5 = 1LL /* True */;
	VAL v6 = v4;
	VAL v7 = in_List_1;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusList_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				incref(v17);
				int64_t v18 = mw_mirth_var_Var_isZ_physicalZAsk(value_u64(v17));
				VAL branch_ZPlusList_19;
				if (((bool)v18)) {
					VAL v20 = mtw_std_list_List_1_Cons(v17, v10);
					branch_ZPlusList_19 = v20;
				} else {
					decref(v17);
					branch_ZPlusList_19 = v10;
				}
				int64_t v21 = 1LL /* True */;
				branch_Bool_15 = v21;
				branch_List_14 = v16;
				branch_ZPlusList_13 = branch_ZPlusList_19;
			} break;
			case 0LL: { // Nil
				VAL v22 = MKI64(0LL /* Nil */);
				int64_t v23 = 0LL /* False */;
				branch_Bool_15 = v23;
				branch_List_14 = v22;
				branch_ZPlusList_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusList_13;
	}
	decref(v7);
	VAL v24 = mw_std_list_List_1_reverse(v6);
	return v24;
}
static VAL mw_std_list_List_1_unions_1_sp1 (VAL in_List_1) {
	VAL v3 = mw_std_list_List_1_ZToListZPlus(in_List_1);
	VAL branch_Maybe_4;
	switch (get_data_tag(v3)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v3);
			VAL v6;
			VAL v7 = mw_std_list_ListZPlus_1_uncons(v5, &v6);
			int64_t v8 = 1LL /* True */;
			VAL v9 = v7;
			VAL v10 = v6;
			int64_t v11 = v8;
			int64_t v12 = v8;
			while (((bool)v12)) {
				VAL v13 = v9;
				VAL v14 = v10;
				int64_t v15 = v11;
				VAL branch_List_16;
				VAL branch_List_17;
				int64_t branch_Bool_18;
				switch (get_data_tag(v14)) {
					case 1LL: { // Cons
						VAL v19;
						VAL v20 = mtp_std_list_List_1_Cons(v14, &v19);
						VAL v21 = mw_std_list_List_1_union_1_sp1(v13, v20);
						int64_t v22 = 1LL /* True */;
						branch_Bool_18 = v22;
						branch_List_17 = v19;
						branch_List_16 = v21;
					} break;
					case 0LL: { // Nil
						VAL v23 = MKI64(0LL /* Nil */);
						int64_t v24 = 0LL /* False */;
						branch_Bool_18 = v24;
						branch_List_17 = v23;
						branch_List_16 = v13;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				v12 = branch_Bool_18;
				v11 = branch_Bool_18;
				v10 = branch_List_17;
				v9 = branch_List_16;
			}
			decref(v10);
			VAL v25 = mtw_std_maybe_Maybe_1_Some(v9);
			branch_Maybe_4 = v25;
		} break;
		case 0LL: { // None
			VAL v26 = MKI64(0LL /* None */);
			branch_Maybe_4 = v26;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL branch_List_27;
	switch (get_data_tag(branch_Maybe_4)) {
		case 1LL: { // Some
			VAL v28 = mtp_std_maybe_Maybe_1_Some(branch_Maybe_4);
			branch_List_27 = v28;
		} break;
		case 0LL: { // None
			VAL v29 = MKI64(0LL /* Nil */);
			branch_List_27 = v29;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_List_27;
}
static VAL mw_std_list_List_1_union_1_sp1 (VAL in_List_1, VAL in_List_2) {
	incref(in_List_1);
	VAL v4 = mw_std_list_List_1_difference_1_sp1(in_List_2, in_List_1);
	VAL v5 = mw_std_list_List_1_cat(in_List_1, v4);
	return v5;
}
static VAL mw_std_list_List_1_difference_1_sp1 (VAL in_List_1, VAL in_List_2) {
	VAL v4 = MKI64(0LL /* Nil */);
	VAL v5 = mw_std_list_List_1_reverse(v4);
	int64_t v6 = 1LL /* True */;
	VAL v7 = in_List_2;
	VAL v8 = v5;
	VAL v9 = in_List_1;
	int64_t v10 = v6;
	int64_t v11 = v6;
	while (((bool)v11)) {
		VAL v12 = v7;
		VAL v13 = v8;
		VAL v14 = v9;
		int64_t v15 = v10;
		VAL branch_List_16;
		VAL branch_ZPlusList_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v14)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v14, &v20);
				incref(v21);
				incref(v12);
				VAL v22 = MKI64(0LL /* None */);
				int64_t v23 = 1LL /* True */;
				VAL v24 = v21;
				VAL v25 = v22;
				VAL v26 = v12;
				int64_t v27 = v23;
				int64_t v28 = v23;
				while (((bool)v28)) {
					VAL v29 = v24;
					VAL v30 = v25;
					VAL v31 = v26;
					int64_t v32 = v27;
					VAL v33;
					VAL v34 = mw_std_list_List_1_uncons(v31, &v33);
					uint64_t branch_Var_35;
					VAL branch_Maybe_36;
					VAL branch_List_37;
					int64_t branch_Bool_38;
					switch (get_data_tag(v34)) {
						case 1LL: { // Some
							VAL v39 = mtp_std_maybe_Maybe_1_Some(v34);
							incref(v39);
							incref(v29);
							int64_t v40 = mw_mirth_var_Var_index(value_u64(v29));
							int64_t v41 = mw_mirth_var_Var_index(value_u64(v39));
							bool v42 = (v40 == v41);
							uint64_t branch_Var_43;
							VAL branch_Maybe_44;
							if (v42) {
								VAL v45 = mtw_std_maybe_Maybe_1_Some(v39);
								branch_Maybe_44 = v45;
								branch_Var_43 = value_u64(v29);
							} else {
								decref(v39);
								VAL v46 = MKI64(0LL /* None */);
								branch_Maybe_44 = v46;
								branch_Var_43 = value_u64(v29);
							}
							uint64_t branch_Var_47;
							VAL branch_Maybe_48;
							VAL branch_List_49;
							switch (get_data_tag(branch_Maybe_44)) {
								case 0LL: { // None
									branch_List_49 = v33;
									branch_Maybe_48 = v30;
									branch_Var_47 = branch_Var_43;
								} break;
								default: {
									decref(v33);
									decref(v30);
									VAL v50 = MKI64(0LL /* Nil */);
									branch_List_49 = v50;
									branch_Maybe_48 = branch_Maybe_44;
									branch_Var_47 = branch_Var_43;
								} break;
							}
							int64_t v51 = 1LL /* True */;
							branch_Bool_38 = v51;
							branch_List_37 = branch_List_49;
							branch_Maybe_36 = branch_Maybe_48;
							branch_Var_35 = branch_Var_47;
						} break;
						case 0LL: { // None
							int64_t v52 = 0LL /* False */;
							branch_Bool_38 = v52;
							branch_List_37 = v33;
							branch_Maybe_36 = v30;
							branch_Var_35 = value_u64(v29);
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					v28 = branch_Bool_38;
					v27 = branch_Bool_38;
					v26 = branch_List_37;
					v25 = branch_Maybe_36;
					v24 = MKU64(branch_Var_35);
				}
				decref(v26);
				decref(v24);
				int64_t v53 = get_data_tag(v25);
				decref(v25);
				int64_t v54 = 1LL;
				bool v55 = (v53 == v54);
				bool v56 = !v55;
				VAL branch_List_57;
				VAL branch_ZPlusList_58;
				if (v56) {
					VAL v59 = mtw_std_list_List_1_Cons(v21, v13);
					branch_ZPlusList_58 = v59;
					branch_List_57 = v12;
				} else {
					decref(v21);
					branch_ZPlusList_58 = v13;
					branch_List_57 = v12;
				}
				int64_t v60 = 1LL /* True */;
				branch_Bool_19 = v60;
				branch_List_18 = v20;
				branch_ZPlusList_17 = branch_ZPlusList_58;
				branch_List_16 = branch_List_57;
			} break;
			case 0LL: { // Nil
				VAL v61 = MKI64(0LL /* Nil */);
				int64_t v62 = 0LL /* False */;
				branch_Bool_19 = v62;
				branch_List_18 = v61;
				branch_ZPlusList_17 = v13;
				branch_List_16 = v12;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v11 = branch_Bool_19;
		v10 = branch_Bool_19;
		v9 = branch_List_18;
		v8 = branch_ZPlusList_17;
		v7 = branch_List_16;
	}
	decref(v9);
	VAL v63 = mw_std_list_List_1_reverse(v8);
	decref(v7);
	return v63;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp2 (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99BranchSplit_2) {
	int64_t v3 = value_i64(VTUP(in_ZPlusC99BranchSplit_1)->cells[5]);
	VAL v4 = VTUP(in_ZPlusC99BranchSplit_1)->cells[1];
	VAL v5;
	mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23(v3, v4, &v5);
	VTUP(in_ZPlusC99BranchSplit_1)->cells[1] = v5;
	*out_ZPlusC99BranchSplit_2 = in_ZPlusC99BranchSplit_1;
}
static void mw_std_list_List_1_for_1_sp16 (VAL in_ZPlusC99Branch_1, VAL in_List_2, VAL *out_ZPlusC99Branch_3) {
	int64_t v4 = 1LL /* True */;
	VAL v5 = in_ZPlusC99Branch_1;
	VAL v6 = in_List_2;
	int64_t v7 = v4;
	int64_t v8 = v4;
	while (((bool)v8)) {
		VAL v9 = v5;
		VAL v10 = v6;
		int64_t v11 = v7;
		VAL branch_ZPlusC99Branch_12;
		VAL branch_List_13;
		int64_t branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17;
				mw_mirth_c99_C99APIArg_pushZ_apiZ_argZBang(v16, v9, &v17);
				int64_t v18 = 1LL /* True */;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_ZPlusC99Branch_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				int64_t v20 = 0LL /* False */;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_ZPlusC99Branch_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_ZPlusC99Branch_12;
	}
	decref(v6);
	*out_ZPlusC99Branch_3 = v5;
}
static void mw_mirth_c99_ZPlusC99_c99Z_lineZ_if_1_sp23 (int64_t in_Bool_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_3) {
	int64_t v4 = value_i64(VTUP(in_ZPlusC99_2)->cells[4]);
	bool v5 = (((bool)in_Bool_1) && ((bool)v4));
	VTUP(in_ZPlusC99_2)->cells[4] = MKBOOL(v5);
	VAL v6;
	mw_mirth_c99_ZPlusC99_c99Z_line_1_sp2(in_ZPlusC99_2, &v6);
	VTUP(v6)->cells[4] = MKI64(v4);
	*out_ZPlusC99_3 = v6;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp3 (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99BranchSplit_2) {
	int64_t v3 = value_i64(VTUP(in_ZPlusC99BranchSplit_1)->cells[5]);
	VAL v4 = VTUP(in_ZPlusC99BranchSplit_1)->cells[1];
	int64_t v5 = value_i64(VTUP(v4)->cells[4]);
	bool v6 = (((bool)v3) && ((bool)v5));
	VTUP(v4)->cells[4] = MKBOOL(v6);
	VAL v7;
	mw_mirth_c99_ZPlusC99_indent(v4, &v7);
	STR* v8;
	STRLIT(v8, "default: {", 10);
	VAL v9;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v8), v7, &v9);
	VAL v10;
	mw_mirth_c99_ZPlusC99_line(v9, &v10);
	VTUP(v10)->cells[4] = MKI64(v5);
	VTUP(in_ZPlusC99BranchSplit_1)->cells[1] = v10;
	*out_ZPlusC99BranchSplit_2 = in_ZPlusC99BranchSplit_1;
}
static void mw_mirth_c99_ZPlusC99BranchSplit_c99Z_line_1_sp6 (VAL in_ZPlusC99BranchSplit_1, VAL *out_ZPlusC99BranchSplit_2) {
	int64_t v3 = value_i64(VTUP(in_ZPlusC99BranchSplit_1)->cells[5]);
	VAL v4 = VTUP(in_ZPlusC99BranchSplit_1)->cells[1];
	int64_t v5 = value_i64(VTUP(v4)->cells[4]);
	bool v6 = (((bool)v3) && ((bool)v5));
	VTUP(v4)->cells[4] = MKBOOL(v6);
	VAL v7;
	mw_mirth_c99_ZPlusC99_indent(v4, &v7);
	STR* v8;
	STRLIT(v8, "} break;", 8);
	VAL v9;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v8), v7, &v9);
	VAL v10;
	mw_mirth_c99_ZPlusC99_line(v9, &v10);
	VTUP(v10)->cells[4] = MKI64(v5);
	VTUP(in_ZPlusC99BranchSplit_1)->cells[1] = v10;
	*out_ZPlusC99BranchSplit_2 = in_ZPlusC99BranchSplit_1;
}
static void mw_std_list_List_1_reverseZ_for_1_sp4 (VAL in_ZPlusC99Branch_1, VAL in_List_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_std_list_List_1_reverse(in_List_2);
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_ZPlusC99Branch_1;
	VAL v7 = v4;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusC99Branch_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL v18;
				mw_mirth_c99_C99APIArg_popZ_toZ_reservedZBang(v17, v10, &v18);
				int64_t v19 = 1LL /* True */;
				branch_Bool_15 = v19;
				branch_List_14 = v16;
				branch_ZPlusC99Branch_13 = v18;
			} break;
			case 0LL: { // Nil
				VAL v20 = MKI64(0LL /* Nil */);
				int64_t v21 = 0LL /* False */;
				branch_Bool_15 = v21;
				branch_List_14 = v20;
				branch_ZPlusC99Branch_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusC99Branch_13;
	}
	decref(v7);
	*out_ZPlusC99Branch_3 = v6;
}
static int64_t mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp12 (uint64_t in_Tag_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	int64_t v8 = mw_mirth_data_Tag_preferZ_inlineZAsk(v6, in_Tag_1, &v7);
	VTUP(v5)->cells[7] = v7;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v5;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
	return v8;
}
static VAL mw_std_list_List_1_map_1_sp5 (VAL in_ZPlusC99Branch_1, VAL in_List_2, VAL *out_ZPlusC99Branch_3) {
	VAL v5 = MKI64(0LL /* Nil */);
	VAL v6 = mw_std_list_List_1_reverse(v5);
	int64_t v7 = 1LL /* True */;
	VAL v8 = in_ZPlusC99Branch_1;
	VAL v9 = v6;
	VAL v10 = in_List_2;
	int64_t v11 = v7;
	int64_t v12 = v7;
	while (((bool)v12)) {
		VAL v13 = v8;
		VAL v14 = v9;
		VAL v15 = v10;
		int64_t v16 = v11;
		VAL branch_ZPlusC99Branch_17;
		VAL branch_ZPlusList_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v21;
				VAL v22 = mtp_std_list_List_1_Cons(v15, &v21);
				VAL v23;
				VAL v24 = mw_mirth_c99_C99APIArg_reserveZ_asZ_newZ_valueZBang(v22, v13, &v23);
				VAL v25 = mtw_std_list_List_1_Cons(v24, v14);
				int64_t v26 = 1LL /* True */;
				branch_Bool_20 = v26;
				branch_List_19 = v21;
				branch_ZPlusList_18 = v25;
				branch_ZPlusC99Branch_17 = v23;
			} break;
			case 0LL: { // Nil
				VAL v27 = MKI64(0LL /* Nil */);
				int64_t v28 = 0LL /* False */;
				branch_Bool_20 = v28;
				branch_List_19 = v27;
				branch_ZPlusList_18 = v14;
				branch_ZPlusC99Branch_17 = v13;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v12 = branch_Bool_20;
		v11 = branch_Bool_20;
		v10 = branch_List_19;
		v9 = branch_ZPlusList_18;
		v8 = branch_ZPlusC99Branch_17;
	}
	decref(v10);
	VAL v29 = mw_std_list_List_1_reverse(v9);
	*out_ZPlusC99Branch_3 = v8;
	return v29;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp2 (VAL in_Type_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Type_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			incref(v7);
			incref(in_Type_1);
			int64_t v8 = mw_mirth_type_Type_hasZ_varZAsk(value_u64(v7), in_Type_1);
			bool v9 = !((bool)v8);
			VAL branch_Type_10;
			VAL branch_Maybe_11;
			if (v9) {
				VAL v12 = mtw_std_maybe_Maybe_1_Some(v7);
				branch_Maybe_11 = v12;
				branch_Type_10 = in_Type_1;
			} else {
				decref(v7);
				VAL v13 = MKI64(0LL /* None */);
				branch_Maybe_11 = v13;
				branch_Type_10 = in_Type_1;
			}
			branch_Maybe_6 = branch_Maybe_11;
			branch_Type_5 = branch_Type_10;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_6 = v14;
			branch_Type_5 = in_Type_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Type_5;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp3 (VAL in_Resource_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Resource_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			incref(v7);
			incref(in_Resource_1);
			int64_t v8 = mw_mirth_type_Resource_hasZ_varZAsk(value_u64(v7), in_Resource_1);
			bool v9 = !((bool)v8);
			VAL branch_Resource_10;
			VAL branch_Maybe_11;
			if (v9) {
				VAL v12 = mtw_std_maybe_Maybe_1_Some(v7);
				branch_Maybe_11 = v12;
				branch_Resource_10 = in_Resource_1;
			} else {
				decref(v7);
				VAL v13 = MKI64(0LL /* None */);
				branch_Maybe_11 = v13;
				branch_Resource_10 = in_Resource_1;
			}
			branch_Maybe_6 = branch_Maybe_11;
			branch_Resource_5 = branch_Resource_10;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_6 = v14;
			branch_Resource_5 = in_Resource_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Resource_5;
}
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp10 (int64_t in_Int_1, VAL in_Str_2, VAL in_ZPlusC99Branch_3, VAL in_C99ReprType_4, VAL *out_Str_5, int64_t *out_Int_6, VAL *out_ZPlusC99Branch_7, VAL *out_ZPlusC99Value_8) {
	incref(in_C99ReprType_4);
	int64_t v9 = get_data_tag(in_C99ReprType_4);
	decref(in_C99ReprType_4);
	int64_t v10 = 0LL;
	bool v11 = (v9 != v10);
	int64_t branch_Int_12;
	VAL branch_Str_13;
	VAL branch_C99ReprType_14;
	int64_t branch_Bool_15;
	VAL branch_Str_16;
	VAL branch_ZPlusC99Branch_17;
	if (v11) {
		VAL v18 = VTUP(in_ZPlusC99Branch_3)->cells[1];
		VAL v19;
		VAL v20 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v18, &v19);
		VTUP(in_ZPlusC99Branch_3)->cells[1] = v19;
		branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_3;
		branch_Str_16 = v20;
		branch_Bool_15 = ((int64_t)v11);
		branch_C99ReprType_14 = in_C99ReprType_4;
		branch_Str_13 = in_Str_2;
		branch_Int_12 = in_Int_1;
	} else {
		STR* v21;
		STRLIT(v21, "0", 1);
		branch_ZPlusC99Branch_17 = in_ZPlusC99Branch_3;
		branch_Str_16 = MKSTR(v21);
		branch_Bool_15 = ((int64_t)v11);
		branch_C99ReprType_14 = in_C99ReprType_4;
		branch_Str_13 = in_Str_2;
		branch_Int_12 = in_Int_1;
	}
	int64_t v22 = value_i64(VTUP(branch_ZPlusC99Branch_17)->cells[4]);
	bool v23 = (((bool)branch_Bool_15) && ((bool)v22));
	VAL v24 = VTUP(branch_ZPlusC99Branch_17)->cells[1];
	int64_t v25 = value_i64(VTUP(v24)->cells[4]);
	bool v26 = (v23 && ((bool)v25));
	VTUP(v24)->cells[4] = MKBOOL(v26);
	VAL v27;
	mw_mirth_c99_ZPlusC99_indent(v24, &v27);
	incref(branch_C99ReprType_14);
	VAL v28 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_14);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(v28, v27, &v29);
	STR* v30;
	STRLIT(v30, " ", 1);
	VAL v31;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v30), v29, &v31);
	incref(branch_Str_16);
	VAL v32;
	mw_mirth_c99_ZPlusC99_put(branch_Str_16, v31, &v32);
	STR* v33;
	STRLIT(v33, " = ", 3);
	VAL v34;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v33), v32, &v34);
	VAL v35;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_14, branch_Str_16, &v35);
	incref(branch_Str_13);
	VAL v36;
	mw_mirth_c99_ZPlusC99_put(branch_Str_13, v34, &v36);
	STR* v37;
	STRLIT(v37, "->cells[", 8);
	VAL v38;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v37), v36, &v38);
	STR* v39 = i64_show(branch_Int_12);
	VAL v40;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v39), v38, &v40);
	STR* v41;
	STRLIT(v41, "]", 1);
	VAL v42;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v41), v40, &v42);
	STR* v43;
	STRLIT(v43, ";", 1);
	VAL v44;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v43), v42, &v44);
	VAL v45;
	mw_mirth_c99_ZPlusC99_line(v44, &v45);
	VTUP(v45)->cells[4] = MKI64(v25);
	VTUP(branch_ZPlusC99Branch_17)->cells[1] = v45;
	*out_ZPlusC99Value_8 = v35;
	*out_ZPlusC99Branch_7 = branch_ZPlusC99Branch_17;
	*out_Int_6 = branch_Int_12;
	*out_Str_5 = branch_Str_13;
}
static VAL mw_std_str_Str_1_sp28 (VAL in_Str_1) {
	STR* v3;
	STRLIT(v3, "", 0);
	STR* v4;
	STRLIT(v4, "get_data_tag(", 13);
	VAL v5;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v4), MKSTR(v3), &v5);
	VAL v6;
	mw_std_str_ZPlusStr_pushZ_strZBang(in_Str_1, v5, &v6);
	STR* v7;
	STRLIT(v7, ")", 1);
	VAL v8;
	mw_std_str_ZPlusStr_pushZ_strZBang(MKSTR(v7), v6, &v8);
	return v8;
}
static void mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp13 (uint64_t in_Token_1, VAL in_Str_2, VAL in_ZPlusC99Branch_3, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_3)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(in_Token_1, in_Str_2, v6);
}
static void mw_std_list_List_1_for_2_sp1 (VAL in_ZPlusC99_1, VAL in_List_2, VAL *out_ZPlusC99_3) {
	VAL v4;
	VAL v5 = mw_std_list_List_1_uncons(in_List_2, &v4);
	VAL branch_ZPlusC99_6;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(v5);
			VAL v8;
			mw_mirth_c99_ZPlusC99_put(v7, in_ZPlusC99_1, &v8);
			branch_ZPlusC99_6 = v8;
		} break;
		case 0LL: { // None
			branch_ZPlusC99_6 = in_ZPlusC99_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	int64_t v9 = 1LL /* True */;
	VAL v10 = branch_ZPlusC99_6;
	VAL v11 = v4;
	int64_t v12 = v9;
	int64_t v13 = v9;
	while (((bool)v13)) {
		VAL v14 = v10;
		VAL v15 = v11;
		int64_t v16 = v12;
		VAL branch_ZPlusC99_17;
		VAL branch_List_18;
		int64_t branch_Bool_19;
		switch (get_data_tag(v15)) {
			case 1LL: { // Cons
				VAL v20;
				VAL v21 = mtp_std_list_List_1_Cons(v15, &v20);
				STR* v22;
				STRLIT(v22, ", ", 2);
				VAL v23;
				mw_mirth_c99_ZPlusC99_put(MKSTR(v22), v14, &v23);
				VAL v24;
				mw_mirth_c99_ZPlusC99_put(v21, v23, &v24);
				int64_t v25 = 1LL /* True */;
				branch_Bool_19 = v25;
				branch_List_18 = v20;
				branch_ZPlusC99_17 = v24;
			} break;
			case 0LL: { // Nil
				VAL v26 = MKI64(0LL /* Nil */);
				int64_t v27 = 0LL /* False */;
				branch_Bool_19 = v27;
				branch_List_18 = v26;
				branch_ZPlusC99_17 = v14;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v13 = branch_Bool_19;
		v12 = branch_Bool_19;
		v11 = branch_List_18;
		v10 = branch_ZPlusC99_17;
	}
	decref(v11);
	*out_ZPlusC99_3 = v10;
}
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp23 (VAL in_ZPlusC99Value_1, VAL in_ZPlusC99Branch_2, VAL in_C99ReprType_3, VAL *out_ZPlusC99Branch_4, VAL *out_ZPlusC99Value_5) {
	incref(in_C99ReprType_3);
	int64_t v6 = get_data_tag(in_C99ReprType_3);
	decref(in_C99ReprType_3);
	int64_t v7 = 0LL;
	bool v8 = (v6 != v7);
	VAL branch_ZPlusC99Value_9;
	VAL branch_C99ReprType_10;
	int64_t branch_Bool_11;
	VAL branch_Str_12;
	VAL branch_ZPlusC99Branch_13;
	if (v8) {
		VAL v14 = VTUP(in_ZPlusC99Branch_2)->cells[1];
		VAL v15;
		VAL v16 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v14, &v15);
		VTUP(in_ZPlusC99Branch_2)->cells[1] = v15;
		branch_ZPlusC99Branch_13 = in_ZPlusC99Branch_2;
		branch_Str_12 = v16;
		branch_Bool_11 = ((int64_t)v8);
		branch_C99ReprType_10 = in_C99ReprType_3;
		branch_ZPlusC99Value_9 = in_ZPlusC99Value_1;
	} else {
		STR* v17;
		STRLIT(v17, "0", 1);
		branch_ZPlusC99Branch_13 = in_ZPlusC99Branch_2;
		branch_Str_12 = MKSTR(v17);
		branch_Bool_11 = ((int64_t)v8);
		branch_C99ReprType_10 = in_C99ReprType_3;
		branch_ZPlusC99Value_9 = in_ZPlusC99Value_1;
	}
	int64_t v18 = value_i64(VTUP(branch_ZPlusC99Branch_13)->cells[4]);
	bool v19 = (((bool)branch_Bool_11) && ((bool)v18));
	VAL v20 = VTUP(branch_ZPlusC99Branch_13)->cells[1];
	int64_t v21 = value_i64(VTUP(v20)->cells[4]);
	bool v22 = (v19 && ((bool)v21));
	VTUP(v20)->cells[4] = MKBOOL(v22);
	VAL v23;
	mw_mirth_c99_ZPlusC99_indent(v20, &v23);
	incref(branch_C99ReprType_10);
	VAL v24 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_10);
	VAL v25;
	mw_mirth_c99_ZPlusC99_put(v24, v23, &v25);
	STR* v26;
	STRLIT(v26, " ", 1);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v26), v25, &v27);
	incref(branch_Str_12);
	VAL v28;
	mw_mirth_c99_ZPlusC99_put(branch_Str_12, v27, &v28);
	STR* v29;
	STRLIT(v29, " = ", 3);
	VAL v30;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v29), v28, &v30);
	VAL v31;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_10, branch_Str_12, &v31);
	VAL v32 = mw_mirth_c99_ZPlusC99Value_consume(branch_ZPlusC99Value_9);
	VAL v33;
	mw_mirth_c99_ZPlusC99_put(v32, v30, &v33);
	STR* v34;
	STRLIT(v34, ";", 1);
	VAL v35;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v34), v33, &v35);
	VAL v36;
	mw_mirth_c99_ZPlusC99_line(v35, &v36);
	VTUP(v36)->cells[4] = MKI64(v21);
	VTUP(branch_ZPlusC99Branch_13)->cells[1] = v36;
	*out_ZPlusC99Value_5 = v31;
	*out_ZPlusC99Branch_4 = branch_ZPlusC99Branch_13;
}
static void mw_mirth_c99_ZPlusC99Branch_c99Z_line_1_sp30 (VAL in_Str_1, int64_t in_Nat_2, VAL in_Str_3, VAL in_ZPlusC99Branch_4, VAL *out_Str_5, int64_t *out_Nat_6, VAL *out_ZPlusC99Branch_7) {
	int64_t v8 = value_i64(VTUP(in_ZPlusC99Branch_4)->cells[4]);
	VAL v9 = VTUP(in_ZPlusC99Branch_4)->cells[1];
	int64_t v10 = value_i64(VTUP(v9)->cells[4]);
	bool v11 = (((bool)v8) && ((bool)v10));
	VTUP(v9)->cells[4] = MKBOOL(v11);
	VAL v12;
	mw_mirth_c99_ZPlusC99_indent(v9, &v12);
	incref(in_Str_3);
	VAL v13;
	mw_mirth_c99_ZPlusC99_put(in_Str_3, v12, &v13);
	STR* v14;
	STRLIT(v14, "->cells[", 8);
	VAL v15;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v14), v13, &v15);
	STR* v16 = i64_show(in_Nat_2);
	VAL v17;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v16), v15, &v17);
	STR* v18;
	STRLIT(v18, "] = ", 4);
	VAL v19;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v18), v17, &v19);
	VAL v20;
	mw_mirth_c99_ZPlusC99_put(in_Str_1, v19, &v20);
	STR* v21;
	STRLIT(v21, ";", 1);
	VAL v22;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v21), v20, &v22);
	VAL v23;
	mw_mirth_c99_ZPlusC99_line(v22, &v23);
	VTUP(v23)->cells[4] = MKI64(v10);
	VTUP(in_ZPlusC99Branch_4)->cells[1] = v23;
	*out_ZPlusC99Branch_7 = in_ZPlusC99Branch_4;
	*out_Nat_6 = in_Nat_2;
	*out_Str_5 = in_Str_3;
}
static VAL mw_mirth_c99_ZPlusC99Branch_ZPlusmirth_1_sp15 (uint64_t in_Word_1, VAL in_ZPlusC99Branch_2, VAL *out_ZPlusC99Branch_4) {
	VAL v5 = VTUP(in_ZPlusC99Branch_2)->cells[1];
	VAL v6 = VTUP(v5)->cells[7];
	VAL v7;
	VAL v8 = mw_mirth_word_Word_arrow(in_Word_1, v6, &v7);
	VTUP(v5)->cells[7] = v7;
	VTUP(in_ZPlusC99Branch_2)->cells[1] = v5;
	*out_ZPlusC99Branch_4 = in_ZPlusC99Branch_2;
	return v8;
}
static VAL mw_mirth_c99_ZPlusC99_c99Z_line_1_sp88 (VAL in_C99API_1, VAL in_ZPlusC99_2, VAL *out_ZPlusC99_4) {
	VAL v5;
	mw_mirth_c99_ZPlusC99_indent(in_ZPlusC99_2, &v5);
	incref(in_C99API_1);
	VAL v6;
	mw_mirth_c99_ZPlusC99_smartZ_sigZ_put(in_C99API_1, v5, &v6);
	STR* v7;
	STRLIT(v7, " {", 2);
	VAL v8;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v7), v6, &v8);
	VAL v9;
	mw_mirth_c99_ZPlusC99_line(v8, &v9);
	*out_ZPlusC99_4 = v9;
	return in_C99API_1;
}
static void mw_std_list_List_1_reverseZ_for_1_sp6 (VAL in_ZPlusC99Branch_1, VAL in_List_2, VAL *out_ZPlusC99Branch_3) {
	VAL v4 = mw_std_list_List_1_reverse(in_List_2);
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_ZPlusC99Branch_1;
	VAL v7 = v4;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusC99Branch_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				incref(v17);
				VAL v18;
				VAL v19 = mw_mirth_c99_C99APIArg_popZ_consumeZ_physicalZBang(v17, v10, &v18);
				VAL branch_ZPlusC99Branch_20;
				switch (get_data_tag(v19)) {
					case 1LL: { // Some
						VAL v21 = mtp_std_maybe_Maybe_1_Some(v19);
						VAL v22 = VTUP(v17)->cells[4];
						incref(v22);
						decref(v17);
						int64_t v23 = value_i64(VTUP(v18)->cells[4]);
						VAL v24 = VTUP(v18)->cells[1];
						int64_t v25 = value_i64(VTUP(v24)->cells[4]);
						bool v26 = (((bool)v23) && ((bool)v25));
						VTUP(v24)->cells[4] = MKBOOL(v26);
						VAL v27;
						mw_mirth_c99_ZPlusC99_indent(v24, &v27);
						STR* v28;
						STRLIT(v28, "*", 1);
						VAL v29;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
						VAL v30;
						mw_mirth_c99_ZPlusC99_put(v22, v29, &v30);
						STR* v31;
						STRLIT(v31, " = ", 3);
						VAL v32;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v31), v30, &v32);
						VAL v33;
						mw_mirth_c99_ZPlusC99_put(v21, v32, &v33);
						STR* v34;
						STRLIT(v34, ";", 1);
						VAL v35;
						mw_mirth_c99_ZPlusC99_put(MKSTR(v34), v33, &v35);
						VAL v36;
						mw_mirth_c99_ZPlusC99_line(v35, &v36);
						VTUP(v36)->cells[4] = MKI64(v25);
						VTUP(v18)->cells[1] = v36;
						branch_ZPlusC99Branch_20 = v18;
					} break;
					case 0LL: { // None
						decref(v17);
						branch_ZPlusC99Branch_20 = v18;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v37 = 1LL /* True */;
				branch_Bool_15 = v37;
				branch_List_14 = v16;
				branch_ZPlusC99Branch_13 = branch_ZPlusC99Branch_20;
			} break;
			case 0LL: { // Nil
				VAL v38 = MKI64(0LL /* Nil */);
				int64_t v39 = 0LL /* False */;
				branch_Bool_15 = v39;
				branch_List_14 = v38;
				branch_ZPlusC99Branch_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusC99Branch_13;
	}
	decref(v7);
	*out_ZPlusC99Branch_3 = v6;
}
static VAL mw_std_list_List_1_filter_1_sp4 (VAL in_List_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mw_std_list_List_1_reverse(v3);
	int64_t v5 = 1LL /* True */;
	VAL v6 = v4;
	VAL v7 = in_List_1;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusList_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				incref(v17);
				int64_t v18 = mw_mirth_c99_C99APIArg_isZ_physicalZAsk(v17);
				VAL branch_ZPlusList_19;
				if (((bool)v18)) {
					VAL v20 = mtw_std_list_List_1_Cons(v17, v10);
					branch_ZPlusList_19 = v20;
				} else {
					decref(v17);
					branch_ZPlusList_19 = v10;
				}
				int64_t v21 = 1LL /* True */;
				branch_Bool_15 = v21;
				branch_List_14 = v16;
				branch_ZPlusList_13 = branch_ZPlusList_19;
			} break;
			case 0LL: { // Nil
				VAL v22 = MKI64(0LL /* Nil */);
				int64_t v23 = 0LL /* False */;
				branch_Bool_15 = v23;
				branch_List_14 = v22;
				branch_ZPlusList_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusList_13;
	}
	decref(v7);
	VAL v24 = mw_std_list_List_1_reverse(v6);
	return v24;
}
static void mw_mirth_c99_pushZ_labelZ_expressionZBang_1_sp4 (VAL in_Str_1, VAL in_C99ReprType_2, VAL in_C99ReprType_3, VAL in_ZPlusC99Branch_4, uint64_t in_Label_5, VAL *out_ZPlusC99Branch_6) {
	VAL v7;
	VAL v8;
	mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp32(in_Str_1, in_C99ReprType_2, in_ZPlusC99Branch_4, in_C99ReprType_3, &v7, &v8);
	int64_t v9 = mw_mirth_label_Label_isZ_resourceZ_labelZAsk(in_Label_5);
	VAL branch_ZPlusC99Branch_10;
	if (((bool)v9)) {
		VAL v11;
		mw_mirth_c99_ZPlusC99Value_turnZ_intoZ_resourceZBang(v8, &v11);
		VAL v12;
		mw_mirth_c99_pushZ_resourceZ_labelZBang(in_Label_5, v7, v11, &v12);
		branch_ZPlusC99Branch_10 = v12;
	} else {
		VAL v13;
		mw_mirth_c99_pushZ_valueZ_labelZBang(in_Label_5, v7, v8, &v13);
		branch_ZPlusC99Branch_10 = v13;
	}
	*out_ZPlusC99Branch_6 = branch_ZPlusC99Branch_10;
}
static void mw_mirth_c99_C99ReprType_valueZ_expressionZBang_1_sp32 (VAL in_Str_1, VAL in_C99ReprType_2, VAL in_ZPlusC99Branch_3, VAL in_C99ReprType_4, VAL *out_ZPlusC99Branch_5, VAL *out_ZPlusC99Value_6) {
	incref(in_C99ReprType_4);
	int64_t v7 = get_data_tag(in_C99ReprType_4);
	decref(in_C99ReprType_4);
	int64_t v8 = 0LL;
	bool v9 = (v7 != v8);
	VAL branch_Str_10;
	VAL branch_C99ReprType_11;
	VAL branch_C99ReprType_12;
	int64_t branch_Bool_13;
	VAL branch_Str_14;
	VAL branch_ZPlusC99Branch_15;
	if (v9) {
		VAL v16 = VTUP(in_ZPlusC99Branch_3)->cells[1];
		VAL v17;
		VAL v18 = mw_mirth_c99_ZPlusC99_freshZ_nameZBang(v16, &v17);
		VTUP(in_ZPlusC99Branch_3)->cells[1] = v17;
		branch_ZPlusC99Branch_15 = in_ZPlusC99Branch_3;
		branch_Str_14 = v18;
		branch_Bool_13 = ((int64_t)v9);
		branch_C99ReprType_12 = in_C99ReprType_4;
		branch_C99ReprType_11 = in_C99ReprType_2;
		branch_Str_10 = in_Str_1;
	} else {
		STR* v19;
		STRLIT(v19, "0", 1);
		branch_ZPlusC99Branch_15 = in_ZPlusC99Branch_3;
		branch_Str_14 = MKSTR(v19);
		branch_Bool_13 = ((int64_t)v9);
		branch_C99ReprType_12 = in_C99ReprType_4;
		branch_C99ReprType_11 = in_C99ReprType_2;
		branch_Str_10 = in_Str_1;
	}
	int64_t v20 = value_i64(VTUP(branch_ZPlusC99Branch_15)->cells[4]);
	bool v21 = (((bool)branch_Bool_13) && ((bool)v20));
	VAL v22 = VTUP(branch_ZPlusC99Branch_15)->cells[1];
	int64_t v23 = value_i64(VTUP(v22)->cells[4]);
	bool v24 = (v21 && ((bool)v23));
	VTUP(v22)->cells[4] = MKBOOL(v24);
	VAL v25;
	mw_mirth_c99_ZPlusC99_indent(v22, &v25);
	incref(branch_C99ReprType_12);
	VAL v26 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_12);
	VAL v27;
	mw_mirth_c99_ZPlusC99_put(v26, v25, &v27);
	STR* v28;
	STRLIT(v28, " ", 1);
	VAL v29;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v28), v27, &v29);
	incref(branch_Str_14);
	VAL v30;
	mw_mirth_c99_ZPlusC99_put(branch_Str_14, v29, &v30);
	STR* v31;
	STRLIT(v31, " = ", 3);
	VAL v32;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v31), v30, &v32);
	VAL v33;
	mtw_mirth_c99_ZPlusC99Value_ZPlusC99Value(branch_C99ReprType_12, branch_Str_14, &v33);
	STR* v34;
	STRLIT(v34, "(", 1);
	VAL v35;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v34), v32, &v35);
	VAL v36 = mw_mirth_c99_C99ReprType_underlyingZ_c99Z_type(branch_C99ReprType_11);
	VAL v37;
	mw_mirth_c99_ZPlusC99_put(v36, v35, &v37);
	STR* v38;
	STRLIT(v38, ")(", 2);
	VAL v39;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v38), v37, &v39);
	VAL v40;
	mw_mirth_c99_ZPlusC99_put(branch_Str_10, v39, &v40);
	STR* v41;
	STRLIT(v41, ")", 1);
	VAL v42;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v41), v40, &v42);
	STR* v43;
	STRLIT(v43, ";", 1);
	VAL v44;
	mw_mirth_c99_ZPlusC99_put(MKSTR(v43), v42, &v44);
	VAL v45;
	mw_mirth_c99_ZPlusC99_line(v44, &v45);
	VTUP(v45)->cells[4] = MKI64(v23);
	VTUP(branch_ZPlusC99Branch_15)->cells[1] = v45;
	*out_ZPlusC99Value_6 = v33;
	*out_ZPlusC99Branch_5 = branch_ZPlusC99Branch_15;
}
static void mw_std_maybe_Maybe_1_for_1_sp7 (VAL in_ZPlusList_1, VAL in_Maybe_2, VAL *out_ZPlusList_3) {
	VAL branch_ZPlusList_4;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v6 = mtw_std_list_List_1_Cons(v5, in_ZPlusList_1);
			branch_ZPlusList_4 = v6;
		} break;
		case 0LL: { // None
			branch_ZPlusList_4 = in_ZPlusList_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusList_3 = branch_ZPlusList_4;
}
static void mw_std_file_ZPlusFileZAsk_unwrapZBang_1_sp1 (VAL in_ZPlusMirth_1, VAL in_ZPlusFileZAsk_2, VAL *out_ZPlusMirth_3, VAL *out_ZPlusFile_4) {
	VAL branch_ZPlusMirth_5;
	VAL branch_ZPlusFile_6;
	switch (get_data_tag(in_ZPlusFileZAsk_2)) {
		case 0LL: { // +FileOk
			VAL v7;
			mtp_std_file_ZPlusFileZAsk_ZPlusFileOk(in_ZPlusFileZAsk_2, &v7);
			branch_ZPlusFile_6 = v7;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // +FileErr
			VAL v8 = mtp_std_file_ZPlusFileZAsk_ZPlusFileErr(in_ZPlusFileZAsk_2);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(v8, in_ZPlusMirth_1);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusFile_4 = branch_ZPlusFile_6;
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
}
static void mw_std_list_List_1_for_1_sp46 (VAL in_ZPlusList_1, VAL in_List_2, VAL *out_ZPlusList_3) {
	int64_t v4 = 1LL /* True */;
	VAL v5 = in_ZPlusList_1;
	VAL v6 = in_List_2;
	int64_t v7 = v4;
	int64_t v8 = v4;
	while (((bool)v8)) {
		VAL v9 = v5;
		VAL v10 = v6;
		int64_t v11 = v7;
		VAL branch_ZPlusList_12;
		VAL branch_List_13;
		int64_t branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17 = mtw_std_list_List_1_Cons(v16, v9);
				int64_t v18 = 1LL /* True */;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_ZPlusList_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				int64_t v20 = 0LL /* False */;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_ZPlusList_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_ZPlusList_12;
	}
	decref(v6);
	*out_ZPlusList_3 = v5;
}
static VAL mw_mirth_elab_abZ_buildZ_homZBang_1_sp1 (uint64_t in_Word_1, VAL in_ZPlusMirth_2, VAL in_Ctx_3, VAL in_ArrowType_4, uint64_t in_Token_5, VAL in_Home_6, VAL *out_ZPlusMirth_7) {
	VAL v9;
	VAL v10 = mw_mirth_type_ArrowType_unpack(in_ArrowType_4, &v9);
	incref(v10);
	VAL v11 = MKI64(0LL /* Nil */);
	VAL v12 = mtw_mirth_arrow_Arrow_Arrow(in_Home_6, in_Token_5, in_Token_5, in_Ctx_3, v10, v10, v11);
	VAL v13;
	VAL v14;
	mw_mirth_elab_abZ_wordZBang(in_Word_1, in_ZPlusMirth_2, v12, &v13, &v14);
	VAL v15;
	VAL v16;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v9, v13, v14, &v15, &v16);
	*out_ZPlusMirth_7 = v15;
	return v16;
}
static VAL mw_mirth_elab_ZPlusAB_gamma_1_sp1 (VAL in_ZPlusMirth_1, VAL in_StackType_2, VAL in_StackType_3, VAL in_ZPlusAB_4, VAL *out_ZPlusMirth_5, VAL *out_ZPlusAB_7) {
	VAL v8;
	uint64_t v9 = mw_mirth_elab_abZ_tokenZAt(in_ZPlusAB_4, &v8);
	VAL v10;
	uint64_t v11;
	VAL v12 = mw_mirth_type_StackType_unifyZBang(in_ZPlusMirth_1, v9, in_StackType_2, in_StackType_3, &v10, &v11);
	mw_mirth_type_ZPlusGamma_rdrop(v11);
	*out_ZPlusAB_7 = v8;
	*out_ZPlusMirth_5 = v10;
	return v12;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp4 (VAL in_Type_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Type_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			incref(v7);
			incref(in_Type_1);
			int64_t v8 = mw_mirth_type_Type_hasZ_metaZAsk(value_u64(v7), in_Type_1);
			bool v9 = !((bool)v8);
			VAL branch_Type_10;
			VAL branch_Maybe_11;
			if (v9) {
				VAL v12 = mtw_std_maybe_Maybe_1_Some(v7);
				branch_Maybe_11 = v12;
				branch_Type_10 = in_Type_1;
			} else {
				decref(v7);
				VAL v13 = MKI64(0LL /* None */);
				branch_Maybe_11 = v13;
				branch_Type_10 = in_Type_1;
			}
			branch_Maybe_6 = branch_Maybe_11;
			branch_Type_5 = branch_Type_10;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_6 = v14;
			branch_Type_5 = in_Type_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Type_5;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp5 (VAL in_Resource_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Resource_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			incref(v7);
			incref(in_Resource_1);
			int64_t v8 = mw_mirth_type_Resource_hasZ_metaZAsk(value_u64(v7), in_Resource_1);
			bool v9 = !((bool)v8);
			VAL branch_Resource_10;
			VAL branch_Maybe_11;
			if (v9) {
				VAL v12 = mtw_std_maybe_Maybe_1_Some(v7);
				branch_Maybe_11 = v12;
				branch_Resource_10 = in_Resource_1;
			} else {
				decref(v7);
				VAL v13 = MKI64(0LL /* None */);
				branch_Maybe_11 = v13;
				branch_Resource_10 = in_Resource_1;
			}
			branch_Maybe_6 = branch_Maybe_11;
			branch_Resource_5 = branch_Resource_10;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_6 = v14;
			branch_Resource_5 = in_Resource_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Resource_5;
}
static VAL mw_std_maybe_Maybe_1_map_1_sp10 (VAL in_Maybe_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = VTUP(v4)->cells[2];
			incref(v5);
			decref(v4);
			VAL v6 = mtw_std_maybe_Maybe_1_Some(v5);
			branch_Maybe_3 = v6;
		} break;
		case 0LL: { // None
			VAL v7 = MKI64(0LL /* None */);
			branch_Maybe_3 = v7;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_std_list_List_1_reverseZ_for_1_sp8 (VAL in_ZPlusMirth_1, VAL in_ZPlusAB_2, VAL in_Ctx_3, VAL in_StackType_4, VAL in_List_5, VAL *out_ZPlusMirth_6, VAL *out_ZPlusAB_7, VAL *out_StackType_9) {
	VAL v10 = mw_std_list_List_1_reverse(in_List_5);
	int64_t v11 = 1LL /* True */;
	VAL v12 = in_ZPlusMirth_1;
	VAL v13 = in_ZPlusAB_2;
	VAL v14 = in_Ctx_3;
	VAL v15 = in_StackType_4;
	VAL v16 = v10;
	int64_t v17 = v11;
	int64_t v18 = v11;
	while (((bool)v18)) {
		VAL v19 = v12;
		VAL v20 = v13;
		VAL v21 = v14;
		VAL v22 = v15;
		VAL v23 = v16;
		int64_t v24 = v17;
		VAL branch_Ctx_25;
		VAL branch_StackType_26;
		VAL branch_ZPlusMirth_27;
		VAL branch_ZPlusAB_28;
		VAL branch_List_29;
		int64_t branch_Bool_30;
		switch (get_data_tag(v23)) {
			case 1LL: { // Cons
				VAL v31;
				VAL v32 = mtp_std_list_List_1_Cons(v23, &v31);
				incref(v32);
				VAL v33 = mw_mirth_var_Ctx_new(v21, value_u64(v32));
				VAL v34;
				uint64_t v35 = mw_mirth_elab_abZ_tokenZAt(v20, &v34);
				VAL v36;
				VAL v37;
				uint64_t v38;
				VAL v39 = mw_mirth_elab_elabZ_expandZ_tensorZBang(v19, v22, v35, &v36, &v37, &v38);
				VAL v40 = mw_mirth_var_Var_type(value_u64(v32));
				VAL v41;
				uint64_t v42;
				VAL v43 = mw_mirth_elab_elabZ_typeZ_unifyZBang(v36, v37, v40, v38, &v41, &v42);
				decref(v43);
				int64_t v44 = 1LL /* True */;
				branch_Bool_30 = v44;
				branch_List_29 = v31;
				branch_ZPlusAB_28 = v34;
				branch_ZPlusMirth_27 = v41;
				branch_StackType_26 = v39;
				branch_Ctx_25 = v33;
			} break;
			case 0LL: { // Nil
				VAL v45 = MKI64(0LL /* Nil */);
				int64_t v46 = 0LL /* False */;
				branch_Bool_30 = v46;
				branch_List_29 = v45;
				branch_ZPlusAB_28 = v20;
				branch_ZPlusMirth_27 = v19;
				branch_StackType_26 = v22;
				branch_Ctx_25 = v21;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v18 = branch_Bool_30;
		v17 = branch_Bool_30;
		v16 = branch_List_29;
		v15 = branch_StackType_26;
		v14 = branch_Ctx_25;
		v13 = branch_ZPlusAB_28;
		v12 = branch_ZPlusMirth_27;
	}
	decref(v16);
	*out_StackType_9 = v15;
	*out_ZPlusAB_7 = v13;
	*out_ZPlusMirth_6 = v12;
	return v14;
}
static VAL mw_std_maybe_Maybe_1_bind_1_sp5 (VAL in_Maybe_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			VAL v5 = mw_mirth_mirth_Prop_1_readyZAsk(v4);
			branch_Maybe_3 = v5;
		} break;
		case 0LL: { // None
			VAL v6 = MKI64(0LL /* None */);
			branch_Maybe_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static int64_t mw_std_list_List_1_ZEqualZEqual_1_sp1 (VAL in_ZPlusMirth_1, VAL in_List_2, VAL in_List_3, VAL *out_ZPlusMirth_4) {
	int64_t v6 = 1LL /* True */;
	VAL v7;
	VAL v8 = mw_std_list_List_1_uncons(in_List_2, &v7);
	VAL v9;
	VAL v10 = mw_std_list_List_1_uncons(in_List_3, &v9);
	VAL branch_ZPlusMirth_11;
	int64_t branch_Bool_12;
	switch (get_data_tag(v10)) {
		case 0LL: { // None
			int64_t v13 = get_data_tag(v8);
			decref(v8);
			int64_t v14 = 0LL;
			bool v15 = (v13 == v14);
			branch_Bool_12 = ((int64_t)v15);
			branch_ZPlusMirth_11 = in_ZPlusMirth_1;
		} break;
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v10);
			VAL branch_ZPlusMirth_17;
			int64_t branch_Bool_18;
			switch (get_data_tag(v8)) {
				case 1LL: { // Some
					VAL v19 = mtp_std_maybe_Maybe_1_Some(v8);
					VAL v20;
					int64_t v21 = mw_mirth_arrow_Arg_similar(in_ZPlusMirth_1, value_u64(v19), value_u64(v16), &v20);
					branch_Bool_18 = v21;
					branch_ZPlusMirth_17 = v20;
				} break;
				case 0LL: { // None
					decref(v16);
					int64_t v22 = 0LL /* False */;
					branch_Bool_18 = v22;
					branch_ZPlusMirth_17 = in_ZPlusMirth_1;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Bool_12 = branch_Bool_18;
			branch_ZPlusMirth_11 = branch_ZPlusMirth_17;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	bool v23 = (((bool)branch_Bool_12) && ((bool)v6));
	incref(v7);
	int64_t v24 = mw_std_list_List_1_emptyZAsk(v7);
	incref(v9);
	int64_t v25 = mw_std_list_List_1_emptyZAsk(v9);
	bool v26 = (((bool)v24) && ((bool)v25));
	bool v27 = !v26;
	bool v28 = (v27 && v23);
	VAL v29 = branch_ZPlusMirth_11;
	VAL v30 = v7;
	VAL v31 = v9;
	bool v32 = v23;
	bool v33 = v28;
	while (v33) {
		VAL v34 = v29;
		VAL v35 = v30;
		VAL v36 = v31;
		bool v37 = v32;
		VAL v38;
		VAL v39 = mw_std_list_List_1_uncons(v35, &v38);
		VAL v40;
		VAL v41 = mw_std_list_List_1_uncons(v36, &v40);
		VAL branch_ZPlusMirth_42;
		int64_t branch_Bool_43;
		switch (get_data_tag(v41)) {
			case 0LL: { // None
				int64_t v44 = get_data_tag(v39);
				decref(v39);
				int64_t v45 = 0LL;
				bool v46 = (v44 == v45);
				branch_Bool_43 = ((int64_t)v46);
				branch_ZPlusMirth_42 = v34;
			} break;
			case 1LL: { // Some
				VAL v47 = mtp_std_maybe_Maybe_1_Some(v41);
				VAL branch_ZPlusMirth_48;
				int64_t branch_Bool_49;
				switch (get_data_tag(v39)) {
					case 1LL: { // Some
						VAL v50 = mtp_std_maybe_Maybe_1_Some(v39);
						VAL v51;
						int64_t v52 = mw_mirth_arrow_Arg_similar(v34, value_u64(v50), value_u64(v47), &v51);
						branch_Bool_49 = v52;
						branch_ZPlusMirth_48 = v51;
					} break;
					case 0LL: { // None
						decref(v47);
						int64_t v53 = 0LL /* False */;
						branch_Bool_49 = v53;
						branch_ZPlusMirth_48 = v34;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				branch_Bool_43 = branch_Bool_49;
				branch_ZPlusMirth_42 = branch_ZPlusMirth_48;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		bool v54 = (((bool)branch_Bool_43) && v37);
		incref(v38);
		int64_t v55 = mw_std_list_List_1_emptyZAsk(v38);
		incref(v40);
		int64_t v56 = mw_std_list_List_1_emptyZAsk(v40);
		bool v57 = (((bool)v55) && ((bool)v56));
		bool v58 = !v57;
		bool v59 = (v58 && v54);
		v33 = v59;
		v32 = v54;
		v31 = v40;
		v30 = v38;
		v29 = branch_ZPlusMirth_42;
	}
	decref(v31);
	decref(v30);
	*out_ZPlusMirth_4 = v29;
	return ((int64_t)v32);
}
static void mw_std_list_List_1_for_1_sp60 (VAL in_ZPlusSPCheck_1, VAL in_List_2, VAL *out_ZPlusSPCheck_3) {
	int64_t v4 = 1LL /* True */;
	VAL v5 = in_ZPlusSPCheck_1;
	VAL v6 = in_List_2;
	int64_t v7 = v4;
	int64_t v8 = v4;
	while (((bool)v8)) {
		VAL v9 = v5;
		VAL v10 = v6;
		int64_t v11 = v7;
		VAL branch_ZPlusSPCheck_12;
		VAL branch_List_13;
		int64_t branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17;
				mw_mirth_specializzer_ZPlusSPCheck_checkZ_argZBang(value_u64(v16), v9, &v17);
				int64_t v18 = 1LL /* True */;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_ZPlusSPCheck_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				int64_t v20 = 0LL /* False */;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_ZPlusSPCheck_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_ZPlusSPCheck_12;
	}
	decref(v6);
	*out_ZPlusSPCheck_3 = v5;
}
static VAL mw_std_maybe_Maybe_1_bind_1_sp7 (VAL in_ZPlusMirth_1, VAL in_Maybe_2, VAL *out_ZPlusMirth_3) {
	VAL branch_ZPlusMirth_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v8;
			VAL v9 = mw_mirth_def_Def_asZ_namespaceZAsk(in_ZPlusMirth_1, v7, &v8);
			branch_Maybe_6 = v9;
			branch_ZPlusMirth_5 = v8;
		} break;
		case 0LL: { // None
			VAL v10 = MKI64(0LL /* None */);
			branch_Maybe_6 = v10;
			branch_ZPlusMirth_5 = in_ZPlusMirth_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusMirth_3 = branch_ZPlusMirth_5;
	return branch_Maybe_6;
}
static VAL mw_std_list_List_1_for_1_sp63 (VAL in_ZPlusMirth_1, VAL in_z_x1_2, VAL in_ZPlusStr_3, VAL in_Str_4, VAL in_List_5, VAL *out_ZPlusMirth_6, VAL *out_z_x1_7, VAL *out_ZPlusStr_8) {
	int64_t v10 = 1LL /* True */;
	VAL v11 = in_ZPlusMirth_1;
	VAL v12 = in_z_x1_2;
	VAL v13 = in_ZPlusStr_3;
	VAL v14 = in_Str_4;
	VAL v15 = in_List_5;
	int64_t v16 = v10;
	int64_t v17 = v10;
	while (((bool)v17)) {
		VAL v18 = v11;
		VAL v19 = v12;
		VAL v20 = v13;
		VAL v21 = v14;
		VAL v22 = v15;
		int64_t v23 = v16;
		VAL branch_ZPlusMirth_24;
		VAL branch_z_x1_25;
		VAL branch_ZPlusStr_26;
		VAL branch__27;
		VAL branch_List_28;
		int64_t branch_Bool_29;
		switch (get_data_tag(v22)) {
			case 1LL: { // Cons
				VAL v30;
				VAL v31 = mtp_std_list_List_1_Cons(v22, &v30);
				VAL v32;
				mw_std_str_ZPlusStr_pushZ_strZBang(v21, v20, &v32);
				VAL v33;
				VAL v34 = mw_mirth_def_Def_qnameZ_hard(v18, v31, &v33);
				VAL v35;
				VAL v36 = mw_mirth_name_QName_ZToStr(v33, v34, &v35);
				VAL v37;
				mw_std_str_ZPlusStr_pushZ_strZBang(v36, v32, &v37);
				STR* v38;
				STRLIT(v38, ", ", 2);
				int64_t v39 = 1LL /* True */;
				branch_Bool_29 = v39;
				branch_List_28 = v30;
				branch__27 = MKSTR(v38);
				branch_ZPlusStr_26 = v37;
				branch_z_x1_25 = v19;
				branch_ZPlusMirth_24 = v35;
			} break;
			case 0LL: { // Nil
				VAL v40 = MKI64(0LL /* Nil */);
				int64_t v41 = 0LL /* False */;
				branch_Bool_29 = v41;
				branch_List_28 = v40;
				branch__27 = v21;
				branch_ZPlusStr_26 = v20;
				branch_z_x1_25 = v19;
				branch_ZPlusMirth_24 = v18;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v17 = branch_Bool_29;
		v16 = branch_Bool_29;
		v15 = branch_List_28;
		v14 = branch__27;
		v13 = branch_ZPlusStr_26;
		v12 = branch_z_x1_25;
		v11 = branch_ZPlusMirth_24;
	}
	decref(v15);
	*out_ZPlusStr_8 = v13;
	*out_z_x1_7 = v12;
	*out_ZPlusMirth_6 = v11;
	return v14;
}
static int64_t mw_std_list_List_1_member_1_sp4 (VAL in_Namespace_1, VAL in_List_2) {
	VAL v4 = MKI64(0LL /* None */);
	int64_t v5 = 1LL /* True */;
	VAL v6 = in_Namespace_1;
	VAL v7 = v4;
	VAL v8 = in_List_2;
	int64_t v9 = v5;
	int64_t v10 = v5;
	while (((bool)v10)) {
		VAL v11 = v6;
		VAL v12 = v7;
		VAL v13 = v8;
		int64_t v14 = v9;
		VAL v15;
		VAL v16 = mw_std_list_List_1_uncons(v13, &v15);
		VAL branch_Namespace_17;
		VAL branch_Maybe_18;
		VAL branch_List_19;
		int64_t branch_Bool_20;
		switch (get_data_tag(v16)) {
			case 1LL: { // Some
				VAL v21 = mtp_std_maybe_Maybe_1_Some(v16);
				incref(v21);
				incref(v11);
				int64_t v22 = mw_mirth_name_Namespace_ZEqualZEqual(v11, v21);
				VAL branch_Namespace_23;
				VAL branch_Maybe_24;
				if (((bool)v22)) {
					VAL v25 = mtw_std_maybe_Maybe_1_Some(v21);
					branch_Maybe_24 = v25;
					branch_Namespace_23 = v11;
				} else {
					decref(v21);
					VAL v26 = MKI64(0LL /* None */);
					branch_Maybe_24 = v26;
					branch_Namespace_23 = v11;
				}
				VAL branch_Namespace_27;
				VAL branch_Maybe_28;
				VAL branch_List_29;
				switch (get_data_tag(branch_Maybe_24)) {
					case 0LL: { // None
						branch_List_29 = v15;
						branch_Maybe_28 = v12;
						branch_Namespace_27 = branch_Namespace_23;
					} break;
					default: {
						decref(v15);
						decref(v12);
						VAL v30 = MKI64(0LL /* Nil */);
						branch_List_29 = v30;
						branch_Maybe_28 = branch_Maybe_24;
						branch_Namespace_27 = branch_Namespace_23;
					} break;
				}
				int64_t v31 = 1LL /* True */;
				branch_Bool_20 = v31;
				branch_List_19 = branch_List_29;
				branch_Maybe_18 = branch_Maybe_28;
				branch_Namespace_17 = branch_Namespace_27;
			} break;
			case 0LL: { // None
				int64_t v32 = 0LL /* False */;
				branch_Bool_20 = v32;
				branch_List_19 = v15;
				branch_Maybe_18 = v12;
				branch_Namespace_17 = v11;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v10 = branch_Bool_20;
		v9 = branch_Bool_20;
		v8 = branch_List_19;
		v7 = branch_Maybe_18;
		v6 = branch_Namespace_17;
	}
	decref(v8);
	decref(v6);
	int64_t v33 = get_data_tag(v7);
	decref(v7);
	int64_t v34 = 1LL;
	bool v35 = (v33 == v34);
	return ((int64_t)v35);
}
static VAL mw_std_list_List_1_for_1_sp80 (VAL in_StackType_1, VAL in_List_2) {
	int64_t v4 = 1LL /* True */;
	VAL v5 = in_StackType_1;
	VAL v6 = in_List_2;
	int64_t v7 = v4;
	int64_t v8 = v4;
	while (((bool)v8)) {
		VAL v9 = v5;
		VAL v10 = v6;
		int64_t v11 = v7;
		VAL branch_StackType_12;
		VAL branch_List_13;
		int64_t branch_Bool_14;
		switch (get_data_tag(v10)) {
			case 1LL: { // Cons
				VAL v15;
				VAL v16 = mtp_std_list_List_1_Cons(v10, &v15);
				VAL v17 = mw_mirth_type_TZMul(v9, v16);
				int64_t v18 = 1LL /* True */;
				branch_Bool_14 = v18;
				branch_List_13 = v15;
				branch_StackType_12 = v17;
			} break;
			case 0LL: { // Nil
				VAL v19 = MKI64(0LL /* Nil */);
				int64_t v20 = 0LL /* False */;
				branch_Bool_14 = v20;
				branch_List_13 = v19;
				branch_StackType_12 = v9;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v8 = branch_Bool_14;
		v7 = branch_Bool_14;
		v6 = branch_List_13;
		v5 = branch_StackType_12;
	}
	decref(v6);
	return v5;
}
static int64_t mw_std_maybe_Maybe_1_has_1_sp7 (VAL in_Maybe_1) {
	int64_t branch_Bool_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			int64_t v5 = mw_mirth_name_Name_couldZ_beZ_constructor(value_u64(v4));
			branch_Bool_3 = v5;
		} break;
		case 0LL: { // None
			int64_t v6 = 0LL /* False */;
			branch_Bool_3 = v6;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Bool_3;
}
static VAL mw_std_maybe_Maybe_1_filter_1_sp13 (VAL in_Maybe_1) {
	VAL branch_Maybe_3;
	switch (get_data_tag(in_Maybe_1)) {
		case 1LL: { // Some
			VAL v4 = mtp_std_maybe_Maybe_1_Some(in_Maybe_1);
			incref(v4);
			int64_t v5 = mw_mirth_name_Name_couldZ_beZ_constructor(value_u64(v4));
			VAL branch_Maybe_6;
			if (((bool)v5)) {
				VAL v7 = mtw_std_maybe_Maybe_1_Some(v4);
				branch_Maybe_6 = v7;
			} else {
				decref(v4);
				VAL v8 = MKI64(0LL /* None */);
				branch_Maybe_6 = v8;
			}
			branch_Maybe_3 = branch_Maybe_6;
		} break;
		case 0LL: { // None
			VAL v9 = MKI64(0LL /* None */);
			branch_Maybe_3 = v9;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	return branch_Maybe_3;
}
static VAL mw_mirth_mirth_PropLabel_prop_1_sp15 (uint64_t in_Token_1, VAL in_PropLabel_2) {
	FNPTR v4 = &mb_mirth_mirth_PropLabel_prop_1_sp15_0;
	VAL v5 = mtw_mirth_mirth_PropState_1_PSDelay(MKU64(in_Token_1), MKFNPTR(v4));
	VAL v6 = mtw_mirth_mirth_Prop_1_Prop(in_PropLabel_2, v5);
	return v6;
}
static VAL mw_std_list_List_1_filterZ_some_1_sp4 (VAL in_List_1) {
	VAL v3 = MKI64(0LL /* Nil */);
	VAL v4 = mw_std_list_List_1_reverse(v3);
	int64_t v5 = 1LL /* True */;
	VAL v6 = v4;
	VAL v7 = in_List_1;
	int64_t v8 = v5;
	int64_t v9 = v5;
	while (((bool)v9)) {
		VAL v10 = v6;
		VAL v11 = v7;
		int64_t v12 = v8;
		VAL branch_ZPlusList_13;
		VAL branch_List_14;
		int64_t branch_Bool_15;
		switch (get_data_tag(v11)) {
			case 1LL: { // Cons
				VAL v16;
				VAL v17 = mtp_std_list_List_1_Cons(v11, &v16);
				VAL v18 = mw_mirth_type_CTypeStackPart_labelZAsk(v17);
				VAL v19;
				mw_std_maybe_Maybe_1_for_1_sp7(v10, v18, &v19);
				int64_t v20 = 1LL /* True */;
				branch_Bool_15 = v20;
				branch_List_14 = v16;
				branch_ZPlusList_13 = v19;
			} break;
			case 0LL: { // Nil
				VAL v21 = MKI64(0LL /* Nil */);
				int64_t v22 = 0LL /* False */;
				branch_Bool_15 = v22;
				branch_List_14 = v21;
				branch_ZPlusList_13 = v10;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v9 = branch_Bool_15;
		v8 = branch_Bool_15;
		v7 = branch_List_14;
		v6 = branch_ZPlusList_13;
	}
	decref(v7);
	VAL v23 = mw_std_list_List_1_reverse(v6);
	return v23;
}
static VAL mw_mirth_elab_abZ_buildZBang_1_sp33 (VAL in_ZPlusMirth_1, VAL in_Ctx_2, VAL in_StackType_3, uint64_t in_Token_4, VAL in_Home_5, VAL *out_ZPlusMirth_6) {
	incref(in_StackType_3);
	VAL v8 = MKI64(0LL /* Nil */);
	VAL v9 = mtw_mirth_arrow_Arrow_Arrow(in_Home_5, in_Token_4, in_Token_4, in_Ctx_2, in_StackType_3, in_StackType_3, v8);
	VAL v10;
	VAL v11;
	mw_mirth_elab_elabZ_atomsZBang(in_ZPlusMirth_1, v9, &v10, &v11);
	*out_ZPlusMirth_6 = v10;
	return v11;
}
static void mw_std_maybe_Maybe_1_for_1_sp19 (VAL in_ZPlusList_1, VAL in_Maybe_2, VAL *out_ZPlusList_3) {
	VAL branch_ZPlusList_4;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			VAL v6 = mtw_mirth_name_Namespace_NAMESPACEz_TYCON(v5);
			VAL v7 = mtw_std_list_List_1_Cons(v6, in_ZPlusList_1);
			branch_ZPlusList_4 = v7;
		} break;
		case 0LL: { // None
			branch_ZPlusList_4 = in_ZPlusList_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_ZPlusList_3 = branch_ZPlusList_4;
}
static VAL mw_std_maybe_Maybe_1_map_1_sp14 (VAL in_Str_1, VAL in_Maybe_2, VAL *out_Maybe_4) {
	VAL branch_Str_5;
	VAL branch_Maybe_6;
	switch (get_data_tag(in_Maybe_2)) {
		case 1LL: { // Some
			VAL v7 = mtp_std_maybe_Maybe_1_Some(in_Maybe_2);
			int64_t v8 = 0LL /* +Unsafe */;
			incref(v7);
			incref(in_Str_1);
			int64_t v9 = 1LL;
			int64_t v10 = i64_add(value_i64(v7), v9);
			VAL v11 = mw_std_prim_Str_dropZ_slice(v10, in_Str_1);
			VAL v12 = mw_std_prim_Str_takeZ_slice(value_i64(v7), in_Str_1);
			VAL v13 = mtw_std_maybe_Maybe_1_Some(v11);
			branch_Maybe_6 = v13;
			branch_Str_5 = v12;
		} break;
		case 0LL: { // None
			VAL v14 = MKI64(0LL /* None */);
			branch_Maybe_6 = v14;
			branch_Str_5 = in_Str_1;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	*out_Maybe_4 = branch_Maybe_6;
	return branch_Str_5;
}
static void mb_mirth_main_main_1 (void) {
	VAL v0 = pop_value();
	VAL v1 = pop_value();
	VAL v2 = pop_value();
	VAL r3 = pop_resource();
	VAL v4;
	VAL v5 = mw_mirth_main_compilerZ_parseZ_args(r3, v2, v1, v0, &v4);
	push_resource(v4);
	push_value(v5);
}
static void mb_mirth_elab_elabZ_defZ_head_3 (void) {
	VAL r0 = pop_resource();
	uint64_t v1 = value_u64(pop_value());
	VAL v2;
	VAL v3 = mw_mirth_elab_elabZ_defZ_qnameZ_undefined(r0, v1, &v2);
	push_resource(v2);
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp1_0 (void) {
	VAL r0 = pop_resource();
	uint64_t v1 = value_u64(pop_value());
	VAL v2;
	VAL v3 = mw_mirth_word_Word_arrow(v1, r0, &v2);
	VAL v4;
	VAL v5 = mw_mirth_arrow_Arrow_ctxZ_type(v3, &v4);
	TUP* v6 = tup_pack2(v5, v4);
	push_resource(v2);
	push_value(MKTUP(v6, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp2_2 (void) {
	TUP* v0 = value_tup(pop_value(), 3);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	tup_decref_outer(v0, 3);
	VAL v5;
	VAL v6;
	uint64_t v7;
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	VAL v11;
	VAL v12 = mw_mirth_type_ArrowType_unpack(v6, &v11);
	incref(v12);
	VAL v13 = MKI64(0LL /* Nil */);
	VAL v14 = mtw_mirth_arrow_Arrow_Arrow(v8, v7, v7, v10, v12, v12, v13);
	VAL v15;
	VAL v16;
	mw_mirth_specializzer_synthZ_specializzedZ_wordZBang(v5, v14, v2, value_u64(v3), &v15, &v16);
	VAL v17;
	VAL v18;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v11, v15, v16, &v17, &v18);
	VAL v19;
	VAL v20 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v17, v18, v9, &v19);
	push_resource(v19);
	push_value(v20);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp3_6 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	VAL v2 = mw_mirth_data_Data_isZ_unitZAsk(v0);
	int64_t v3 = get_data_tag(v2);
	decref(v2);
	int64_t v4 = 1LL;
	bool v5 = (v3 == v4);
	VAL branch_ZPlusMirth_6;
	uint64_t branch_Data_7;
	VAL branch_Maybe_8;
	if (v5) {
		VAL v9 = MKI64(5LL /* Phantom */);
		VAL v10 = mtw_std_maybe_Maybe_1_Some(v9);
		branch_Maybe_8 = v10;
		branch_Data_7 = v0;
		branch_ZPlusMirth_6 = r1;
	} else {
		int64_t v11 = mw_mirth_data_Data_isZ_enumZAsk(v0);
		VAL branch_ZPlusMirth_12;
		uint64_t branch_Data_13;
		VAL branch_Maybe_14;
		if (((bool)v11)) {
			STR* v15;
			STRLIT(v15, "int", 3);
			VAL v16 = mtw_mirth_type_CType_IntLike(MKSTR(v15));
			VAL v17 = mtw_std_maybe_Maybe_1_Some(v16);
			branch_Maybe_14 = v17;
			branch_Data_13 = v0;
			branch_ZPlusMirth_12 = r1;
		} else {
			VAL v18;
			VAL v19 = mw_mirth_data_Data_semiZ_transparentZAsk(r1, v0, &v18);
			VAL branch_ZPlusMirth_20;
			VAL branch_Maybe_21;
			switch (get_data_tag(v19)) {
				case 1LL: { // Some
					VAL v22 = mtp_std_maybe_Maybe_1_Some(v19);
					VAL v23 = VTUP(v22)->cells[2];
					incref(v23);
					decref(v22);
					VAL branch_ZPlusMirth_24;
					VAL branch_Maybe_25;
					switch (get_data_tag(v23)) {
						case 0LL: { // STPCons
							VAL v26 = mtp_mirth_type_StackTypePart_STPCons(v23);
							VAL v27;
							VAL v28 = mw_mirth_type_Type_ctypeZAsk(v18, v26, &v27);
							branch_Maybe_25 = v28;
							branch_ZPlusMirth_24 = v27;
						} break;
						case 1LL: { // STPConsLabel
							uint64_t v29;
							VAL v30 = mtp_mirth_type_StackTypePart_STPConsLabel(v23, &v29);
							VAL v31;
							VAL v32 = mw_mirth_type_Type_ctypeZAsk(v18, v30, &v31);
							branch_Maybe_25 = v32;
							branch_ZPlusMirth_24 = v31;
						} break;
						case 2LL: { // STPWith
							VAL v33 = mtp_mirth_type_StackTypePart_STPWith(v23);
							VAL v34;
							VAL v35 = mw_mirth_type_Resource_ctypeZAsk(v18, v33, &v34);
							branch_Maybe_25 = v35;
							branch_ZPlusMirth_24 = v34;
						} break;
						case 3LL: { // STPWithLabel
							uint64_t v36;
							VAL v37 = mtp_mirth_type_StackTypePart_STPWithLabel(v23, &v36);
							VAL v38;
							VAL v39 = mw_mirth_type_Resource_ctypeZAsk(v18, v37, &v38);
							branch_Maybe_25 = v39;
							branch_ZPlusMirth_24 = v38;
						} break;
						default: {
							do_panic(str_make("unexpected fallthrough in match\n", 32));
						}
					}
					branch_Maybe_21 = branch_Maybe_25;
					branch_ZPlusMirth_20 = branch_ZPlusMirth_24;
				} break;
				case 0LL: { // None
					VAL v40 = MKI64(0LL /* None */);
					branch_Maybe_21 = v40;
					branch_ZPlusMirth_20 = v18;
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_Maybe_14 = branch_Maybe_21;
			branch_Data_13 = v0;
			branch_ZPlusMirth_12 = branch_ZPlusMirth_20;
		}
		branch_Maybe_8 = branch_Maybe_14;
		branch_Data_7 = branch_Data_13;
		branch_ZPlusMirth_6 = branch_ZPlusMirth_12;
	}
	push_resource(branch_ZPlusMirth_6);
	push_value(branch_Maybe_8);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp4_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	VAL v2;
	VAL v3;
	VAL v4 = mw_mirth_data_Tag_ctxZ_type(r1, v0, &v2, &v3);
	VAL v5;
	VAL v6 = mw_mirth_type_ArrowType_unpack(v3, &v5);
	VAL v7 = mw_mirth_type_TZ_ZTo(v5, v6);
	TUP* v8 = tup_pack2(v4, v7);
	push_resource(v2);
	push_value(MKTUP(v8, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp5_2 (void) {
	VAL r0 = pop_resource();
	uint64_t v1 = value_u64(pop_value());
	VAL v2;
	VAL v3 = mw_mirth_word_Word_type(v1, r0, &v2);
	VAL v4 = mw_mirth_type_ArrowType_dom(v3);
	VAL v5 = mw_mirth_type_StackType_topZ_typeZAsk(v4);
	VAL branch_ZPlusMirth_6;
	VAL branch_z_x1_7;
	switch (get_data_tag(v5)) {
		case 1LL: { // Some
			VAL v8 = mtp_std_maybe_Maybe_1_Some(v5);
			branch_z_x1_7 = v8;
			branch_ZPlusMirth_6 = v2;
		} break;
		case 0LL: { // None
			STR* v9;
			STRLIT(v9, "logic error: expected parameter", 31);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v9), v2);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v12 = mw_mirth_type_Type_morphismZAsk(branch_z_x1_7);
	VAL branch_ZPlusMirth_13;
	VAL branch_z_x1_14;
	switch (get_data_tag(v12)) {
		case 1LL: { // Some
			VAL v15 = mtp_std_maybe_Maybe_1_Some(v12);
			branch_z_x1_14 = v15;
			branch_ZPlusMirth_13 = branch_ZPlusMirth_6;
		} break;
		case 0LL: { // None
			STR* v16;
			STRLIT(v16, "logic error: expected morphism", 30);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v16), branch_ZPlusMirth_6);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	STR* v19;
	STRLIT(v19, "f", 1);
	uint64_t v20 = mw_std_prim_Str_ZToName(MKSTR(v19));
	uint64_t v21 = mw_mirth_var_Var_newZ_autoZ_runZBang(branch_z_x1_14, v20);
	VAL v22 = MKI64(0LL /* Nil */);
	VAL v23 = mtw_std_list_List_1_Cons(MKU64(v21), v22);
	push_resource(branch_ZPlusMirth_13);
	push_value(v23);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp6_9 (void) {
	TUP* v0 = value_tup(pop_value(), 4);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	VAL v5 = v0->cells[3];
	tup_decref_outer(v0, 4);
	incref(v5);
	VAL v6;
	VAL v7;
	uint64_t v8;
	VAL v9;
	uint64_t v10;
	VAL v11 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v5), &v6, &v7, &v8, &v9, &v10);
	VAL v12;
	VAL v13 = mw_mirth_type_ArrowType_unpack(v7, &v12);
	incref(v13);
	VAL v14 = MKI64(0LL /* Nil */);
	VAL v15 = mtw_mirth_arrow_Arrow_Arrow(v9, v8, v8, v11, v13, v13, v14);
	VAL v16;
	VAL v17 = mw_mirth_word_Word_params(value_u64(v5), v6, &v16);
	incref(v17);
	VAL v18;
	uint64_t v19 = mw_mirth_elab_abZ_tokenZAt(v15, &v18);
	incref(v17);
	VAL v20;
	VAL v21 = mw_mirth_elab_abZ_ctxZAt(v18, &v20);
	VAL v22;
	VAL v23 = mw_mirth_elab_abZ_typeZAt(v20, &v22);
	VAL v24;
	VAL v25;
	VAL v26;
	VAL v27 = mw_std_list_List_1_reverseZ_for_1_sp8(v16, v22, v21, v23, v17, &v24, &v25, &v26);
	VAL v28;
	VAL v29 = mw_mirth_elab_abZ_homeZAt(v25, &v28);
	incref(v26);
	VAL v30 = MKI64(0LL /* Nil */);
	VAL v31 = mtw_mirth_arrow_Arrow_Arrow(v29, v19, v19, v27, v26, v26, v30);
	VAL v32 = mw_std_list_List_1_ZDivL1(v17);
	VAL branch_ZPlusMirth_33;
	VAL branch_z_x1_34;
	VAL branch_z_x2_35;
	switch (get_data_tag(v32)) {
		case 1LL: { // Some
			VAL v36 = mtp_std_maybe_Maybe_1_Some(v32);
			branch_z_x2_35 = v36;
			branch_z_x1_34 = v31;
			branch_ZPlusMirth_33 = v24;
		} break;
		case 0LL: { // None
			STR* v37;
			STRLIT(v37, "Expected one parameter.", 23);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v37), v24);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	int64_t v40 = mw_mirth_data_Data_isZ_resourceZAsk(value_u64(v2));
	VAL branch_ZPlusMirth_41;
	VAL branch_ZPlusAB_42;
	if (((bool)v40)) {
		VAL v43;
		VAL v44;
		mw_mirth_elab_abZ_wordZBang(value_u64(v3), branch_ZPlusMirth_33, branch_z_x1_34, &v43, &v44);
		VAL v45;
		uint64_t v46 = mw_mirth_elab_abZ_tokenZAt(v44, &v45);
		VAL v47;
		VAL v48 = mw_mirth_elab_abZ_ctxZAt(v45, &v47);
		uint64_t v49 = mw_mirth_type_MetaVar_newZBang();
		VAL v50 = mtw_mirth_type_StackType_STMeta(v49);
		VAL v51;
		VAL v52 = mw_mirth_elab_abZ_homeZAt(v47, &v51);
		incref(v50);
		VAL v53 = MKI64(0LL /* Nil */);
		VAL v54 = mtw_mirth_arrow_Arrow_Arrow(v52, v46, v46, v48, v50, v50, v53);
		VAL v55;
		VAL v56;
		mw_mirth_elab_abZ_varZBang(value_u64(branch_z_x2_35), v43, v54, &v55, &v56);
		VAL v57;
		uint64_t v58 = mw_mirth_arrow_Block_newZBang(v55, v56, &v57);
		VAL v59 = mtw_mirth_arrow_Op_OpBlockPush(v58);
		VAL v60;
		VAL v61;
		mw_mirth_elab_abZ_opZBang(v59, v57, v51, &v60, &v61);
		int64_t v62 = 6LL /* PRIM_CORE_RDIP */;
		VAL v63;
		VAL v64;
		mw_mirth_elab_abZ_primZBang(v62, v60, v61, &v63, &v64);
		VAL v65;
		VAL v66;
		mw_mirth_elab_abZ_wordZBang(value_u64(v4), v63, v64, &v65, &v66);
		branch_ZPlusAB_42 = v66;
		branch_ZPlusMirth_41 = v65;
	} else {
		int64_t v67 = 1LL /* PRIM_CORE_DUP */;
		VAL v68;
		VAL v69;
		mw_mirth_elab_abZ_primZBang(v67, branch_ZPlusMirth_33, branch_z_x1_34, &v68, &v69);
		VAL v70;
		uint64_t v71 = mw_mirth_elab_abZ_tokenZAt(v69, &v70);
		VAL v72;
		VAL v73 = mw_mirth_elab_abZ_ctxZAt(v70, &v72);
		uint64_t v74 = mw_mirth_type_MetaVar_newZBang();
		VAL v75 = mtw_mirth_type_StackType_STMeta(v74);
		VAL v76;
		VAL v77 = mw_mirth_elab_abZ_homeZAt(v72, &v76);
		incref(v75);
		VAL v78 = MKI64(0LL /* Nil */);
		VAL v79 = mtw_mirth_arrow_Arrow_Arrow(v77, v71, v71, v73, v75, v75, v78);
		VAL v80;
		VAL v81;
		mw_mirth_elab_abZ_wordZBang(value_u64(v3), v68, v79, &v80, &v81);
		VAL v82;
		VAL v83;
		mw_mirth_elab_abZ_varZBang(value_u64(branch_z_x2_35), v80, v81, &v82, &v83);
		VAL v84;
		uint64_t v85 = mw_mirth_arrow_Block_newZBang(v82, v83, &v84);
		VAL v86 = mtw_mirth_arrow_Op_OpBlockPush(v85);
		VAL v87;
		VAL v88;
		mw_mirth_elab_abZ_opZBang(v86, v84, v76, &v87, &v88);
		int64_t v89 = 5LL /* PRIM_CORE_DIP */;
		VAL v90;
		VAL v91;
		mw_mirth_elab_abZ_primZBang(v89, v87, v88, &v90, &v91);
		VAL v92;
		VAL v93;
		mw_mirth_elab_abZ_wordZBang(value_u64(v4), v90, v91, &v92, &v93);
		branch_ZPlusAB_42 = v93;
		branch_ZPlusMirth_41 = v92;
	}
	VAL v94;
	VAL v95 = mw_mirth_elab_abZ_ctxZAt(v28, &v94);
	VAL v96;
	VAL v97 = mw_mirth_elab_abZ_typeZAt(v94, &v96);
	VAL v98;
	uint64_t v99 = mw_mirth_elab_abZ_tokenZAt(v96, &v98);
	VAL v100 = mtw_mirth_arrow_Lambda_Lambda(v99, v95, v97, v17, branch_ZPlusAB_42);
	VAL v101 = mtw_mirth_arrow_Op_OpLambda(v100);
	VAL v102;
	VAL v103;
	mw_mirth_elab_abZ_opZBang(v101, branch_ZPlusMirth_41, v98, &v102, &v103);
	VAL v104;
	VAL v105;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v12, v102, v103, &v104, &v105);
	VAL v106;
	VAL v107 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v104, v105, v10, &v106);
	push_resource(v106);
	push_value(v107);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp7_1 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0, 2);
	VAL v4 = mw_mirth_type_TYPEz_STACK();
	STR* v5;
	STRLIT(v5, "*x", 2);
	uint64_t v6 = mw_std_prim_Str_ZToName(MKSTR(v5));
	uint64_t v7 = mw_mirth_var_Var_newZBang(v4, v6);
	VAL v8 = mw_mirth_type_TYPEz_STACK();
	STR* v9;
	STRLIT(v9, "*y", 2);
	uint64_t v10 = mw_std_prim_Str_ZToName(MKSTR(v9));
	uint64_t v11 = mw_mirth_var_Var_newZBang(v8, v10);
	incref(v2);
	VAL v12;
	VAL v13 = mw_mirth_data_Tag_projectZ_inputZ_label(r1, value_u64(v3), value_u64(v2), &v12);
	VAL branch_ZPlusMirth_14;
	VAL branch_z_x1_15;
	switch (get_data_tag(v13)) {
		case 1LL: { // Some
			VAL v16 = mtp_std_maybe_Maybe_1_Some(v13);
			branch_z_x1_15 = v16;
			branch_ZPlusMirth_14 = v12;
		} break;
		case 0LL: { // None
			STR* v17;
			STRLIT(v17, "logic error: expeted field in tag.", 34);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v17), v12);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(v2);
	VAL v20;
	VAL v21 = mw_mirth_data_Tag_outputZ_type(branch_ZPlusMirth_14, value_u64(v2), &v20);
	incref(v2);
	VAL v22;
	VAL v23 = mw_mirth_data_Tag_ctx(v20, value_u64(v2), &v22);
	VAL v24 = MKI64(0LL /* Nil */);
	VAL v25 = mtw_std_list_List_1_Cons(MKU64(v11), v24);
	VAL v26 = mtw_std_list_List_1_Cons(MKU64(v7), v25);
	VAL v27 = mw_std_list_List_1_cat(v23, v26);
	VAL v28 = mtw_mirth_type_StackType_STVar(v7);
	incref(v21);
	VAL v29 = mw_mirth_type_TZMulZPlus(v28, v21);
	VAL v30 = mtw_mirth_type_StackType_STVar(v7);
	incref(branch_z_x1_15);
	VAL v31 = mw_mirth_type_TZMulZPlus(v30, branch_z_x1_15);
	VAL v32 = mtw_mirth_type_StackType_STVar(v11);
	incref(branch_z_x1_15);
	VAL v33 = mw_mirth_type_TZMulZPlus(v32, branch_z_x1_15);
	VAL v34 = mw_mirth_type_TZ_ZTo(v31, v33);
	VAL v35 = mtw_mirth_type_Type_TMorphism(v34);
	VAL v36 = mw_mirth_type_TZMul(v29, v35);
	VAL v37 = mtw_mirth_type_StackType_STVar(v11);
	incref(v21);
	VAL v38 = mw_mirth_type_TZMulZPlus(v37, v21);
	VAL v39 = mw_mirth_type_TZ_ZTo(v36, v38);
	TUP* v40 = tup_pack2(v27, v39);
	decref(v21);
	decref(branch_z_x1_15);
	decref(v2);
	push_resource(v22);
	push_value(MKTUP(v40, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp8_5 (void) {
	TUP* v0 = value_tup(pop_value(), 3);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	tup_decref_outer(v0, 3);
	VAL v5;
	VAL v6;
	uint64_t v7;
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	VAL v11;
	VAL v12 = mw_mirth_type_ArrowType_unpack(v6, &v11);
	incref(v12);
	VAL v13 = MKI64(0LL /* Nil */);
	VAL v14 = mtw_mirth_arrow_Arrow_Arrow(v8, v7, v7, v10, v12, v12, v13);
	VAL v15;
	VAL v16 = mw_mirth_data_Tag_projectZ_tagZ_field(v5, value_u64(v3), value_u64(v2), &v15);
	VAL branch_ZPlusMirth_17;
	VAL branch_z_x1_18;
	VAL branch_z_x2_19;
	switch (get_data_tag(v16)) {
		case 1LL: { // Some
			VAL v20 = mtp_std_maybe_Maybe_1_Some(v16);
			branch_z_x2_19 = v20;
			branch_z_x1_18 = v14;
			branch_ZPlusMirth_17 = v15;
		} break;
		case 0LL: { // None
			STR* v21;
			STRLIT(v21, "logic error: expected field in tag.", 35);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v21), v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v24 = mtw_mirth_arrow_Op_OpDataSetLabel(branch_z_x2_19);
	VAL v25;
	VAL v26;
	mw_mirth_elab_abZ_opZBang(v24, branch_ZPlusMirth_17, branch_z_x1_18, &v25, &v26);
	VAL v27;
	VAL v28;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v11, v25, v26, &v27, &v28);
	VAL v29;
	VAL v30 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v27, v28, v9, &v29);
	push_resource(v29);
	push_value(v30);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp9_3 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0, 2);
	incref(v2);
	VAL v4;
	VAL v5 = mw_mirth_data_Tag_ctx(r1, value_u64(v2), &v4);
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_projectZ_tagZ_field(v4, value_u64(v3), value_u64(v2), &v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_z_x1_9 = v10;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "logic error: expected field in tag.", 35);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v11), v6);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v14;
	VAL v15 = mw_mirth_elab_dataZ_setZ_labelZ_type(branch_ZPlusMirth_8, branch_z_x1_9, &v14);
	TUP* v16 = tup_pack2(v5, v15);
	push_resource(v14);
	push_value(MKTUP(v16, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp10_5 (void) {
	TUP* v0 = value_tup(pop_value(), 3);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	tup_decref_outer(v0, 3);
	VAL v5;
	VAL v6;
	uint64_t v7;
	VAL v8;
	uint64_t v9;
	VAL v10 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v4), &v5, &v6, &v7, &v8, &v9);
	VAL v11;
	VAL v12 = mw_mirth_type_ArrowType_unpack(v6, &v11);
	incref(v12);
	VAL v13 = MKI64(0LL /* Nil */);
	VAL v14 = mtw_mirth_arrow_Arrow_Arrow(v8, v7, v7, v10, v12, v12, v13);
	VAL v15;
	VAL v16 = mw_mirth_data_Tag_projectZ_tagZ_field(v5, value_u64(v3), value_u64(v2), &v15);
	VAL branch_ZPlusMirth_17;
	VAL branch_z_x1_18;
	VAL branch_z_x2_19;
	switch (get_data_tag(v16)) {
		case 1LL: { // Some
			VAL v20 = mtp_std_maybe_Maybe_1_Some(v16);
			branch_z_x2_19 = v20;
			branch_z_x1_18 = v14;
			branch_ZPlusMirth_17 = v15;
		} break;
		case 0LL: { // None
			STR* v21;
			STRLIT(v21, "logic error: expected field in tag.", 35);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v21), v15);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v24 = mtw_mirth_arrow_Op_OpDataGetLabel(branch_z_x2_19);
	VAL v25;
	VAL v26;
	mw_mirth_elab_abZ_opZBang(v24, branch_ZPlusMirth_17, branch_z_x1_18, &v25, &v26);
	VAL v27;
	VAL v28;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v11, v25, v26, &v27, &v28);
	VAL v29;
	VAL v30 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v27, v28, v9, &v29);
	push_resource(v29);
	push_value(v30);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp11_3 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0, 2);
	incref(v2);
	VAL v4;
	VAL v5 = mw_mirth_data_Tag_ctx(r1, value_u64(v2), &v4);
	VAL v6;
	VAL v7 = mw_mirth_data_Tag_projectZ_tagZ_field(v4, value_u64(v3), value_u64(v2), &v6);
	VAL branch_ZPlusMirth_8;
	VAL branch_z_x1_9;
	switch (get_data_tag(v7)) {
		case 1LL: { // Some
			VAL v10 = mtp_std_maybe_Maybe_1_Some(v7);
			branch_z_x1_9 = v10;
			branch_ZPlusMirth_8 = v6;
		} break;
		case 0LL: { // None
			STR* v11;
			STRLIT(v11, "logic error: expected field in tag.", 35);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v11), v6);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v14;
	VAL v15 = mw_mirth_elab_dataZ_getZ_labelZ_type(branch_ZPlusMirth_8, branch_z_x1_9, &v14);
	TUP* v16 = tup_pack2(v5, v15);
	push_resource(v14);
	push_value(MKTUP(v16, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp12_7 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0, 2);
	VAL v4;
	VAL v5;
	uint64_t v6;
	VAL v7;
	uint64_t v8;
	VAL v9 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, value_u64(v3), &v4, &v5, &v6, &v7, &v8);
	VAL v10;
	VAL v11 = mw_mirth_type_ArrowType_unpack(v5, &v10);
	incref(v11);
	VAL v12 = MKI64(0LL /* Nil */);
	VAL v13 = mtw_mirth_arrow_Arrow_Arrow(v7, v6, v6, v9, v11, v11, v12);
	incref(v2);
	VAL v14;
	VAL v15 = mw_mirth_data_Tag_type(v4, value_u64(v2), &v14);
	VAL v16 = mw_mirth_type_ArrowType_dom(v15);
	incref(v2);
	uint64_t v17 = mw_mirth_data_Tag_data(value_u64(v2));
	VAL v18 = mw_mirth_data_Data_headZAsk(v17);
	VAL branch_ZPlusMirth_19;
	VAL branch_z_x1_20;
	VAL branch_z_x2_21;
	switch (get_data_tag(v18)) {
		case 1LL: { // Some
			VAL v22 = mtp_std_maybe_Maybe_1_Some(v18);
			branch_z_x2_21 = v22;
			branch_z_x1_20 = v13;
			branch_ZPlusMirth_19 = v14;
		} break;
		case 0LL: { // None
			STR* v23;
			STRLIT(v23, "Missing data token info", 23);
			mw_mirth_mirth_ZPlusMirth_fatalZ_errorZBang(MKSTR(v23), v14);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	incref(branch_z_x2_21);
	VAL v26;
	VAL v27 = mw_mirth_elab_abZ_ctxZAt(branch_z_x1_20, &v26);
	VAL v28;
	VAL v29 = mw_mirth_elab_abZ_typeZAt(v26, &v28);
	VAL v30;
	uint64_t v31 = mw_mirth_elab_abZ_tokenZAt(v28, &v30);
	VAL v32;
	VAL v33 = mw_mirth_elab_abZ_homeZAt(v30, &v32);
	VAL v34 = MKI64(0LL /* Nil */);
	VAL v35;
	mtw_mirth_match_ZPlusMatch_ZPlusMatch(v33, v31, value_u64(branch_z_x2_21), v27, v29, v16, v34, &v35);
	incref(branch_z_x2_21);
	VAL v36 = VTUP(v35)->cells[1];
	incref(v36);
	incref(branch_z_x2_21);
	VAL v37 = VTUP(v35)->cells[4];
	incref(v37);
	incref(v37);
	VAL v38 = MKI64(0LL /* Nil */);
	VAL v39 = VTUP(v35)->cells[5];
	incref(v39);
	incref(v39);
	VAL v40 = MKI64(0LL /* Nil */);
	VAL v41 = mtw_mirth_match_Pattern_Pattern(v36, value_u64(branch_z_x2_21), value_u64(branch_z_x2_21), v37, v37, v38, v39, v39, v40);
	VAL v42;
	mw_mirth_match_Pattern_thaw(v41, &v42);
	incref(v2);
	VAL v43;
	VAL v44;
	mw_mirth_match_ZPlusPattern_tagZBang(branch_ZPlusMirth_19, v42, value_u64(v2), &v43, &v44);
	VAL v45 = mw_mirth_match_ZPlusPattern_freezze(v44);
	incref(v45);
	VAL v46 = VTUP(v45)->cells[5];
	incref(v46);
	decref(v45);
	incref(v45);
	VAL v47 = mw_mirth_match_Pattern_dom(v45);
	VAL v48 = VTUP(v35)->cells[6];
	incref(v48);
	VAL v49 = mw_mirth_type_TZ_ZTo(v47, v48);
	VAL v50 = VTUP(v35)->cells[1];
	incref(v50);
	VAL v51;
	VAL v52 = mw_mirth_type_ArrowType_unpack(v49, &v51);
	incref(branch_z_x2_21);
	incref(v52);
	VAL v53 = MKI64(0LL /* Nil */);
	VAL v54 = mtw_mirth_arrow_Arrow_Arrow(v50, value_u64(branch_z_x2_21), value_u64(branch_z_x2_21), v46, v52, v52, v53);
	VAL v55;
	VAL v56;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v51, v43, v54, &v55, &v56);
	VAL v57 = mtw_mirth_match_Case_CASE(v45, v56);
	VAL v58;
	VAL v59;
	mw_mirth_match_ZPlusMatch_addZ_case(v55, v35, v57, &v58, &v59);
	VAL v60 = mw_mirth_match_ZPlusMatch_freezze(v59);
	VAL v61 = mtw_mirth_arrow_Op_OpMatch(v60);
	VAL v62;
	VAL v63;
	mw_mirth_elab_abZ_opZBang(v61, v58, v32, &v62, &v63);
	VAL v64;
	VAL v65;
	mw_mirth_elab_abZ_unifyZ_typeZBang(v10, v62, v63, &v64, &v65);
	VAL v66;
	VAL v67 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v64, v65, v8, &v66);
	decref(v2);
	push_resource(v66);
	push_value(v67);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp13_2 (void) {
	TUP* v0 = value_tup(pop_value(), 2);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	tup_decref_outer(v0, 2);
	incref(v3);
	uint64_t v4 = mw_mirth_data_Tag_data(value_u64(v3));
	VAL v5;
	VAL v6 = mw_mirth_data_Data_params(r1, v4, &v5);
	VAL v7 = mw_std_list_List_1_ZToCtx(v6);
	int64_t v8 = 1LL /* True */;
	int64_t v9 = 0LL /* False */;
	VAL v10;
	mtw_mirth_elab_ZPlusTypeElab_ZPlusTypeElab(v7, value_u64(v2), v9, v8, &v10);
	VAL v11 = mw_mirth_type_T0();
	incref(v3);
	uint64_t v12 = mw_mirth_data_Tag_data(value_u64(v3));
	VAL v13;
	VAL v14 = mw_mirth_data_Data_fullZ_type(v5, v12, &v13);
	VAL v15 = mw_mirth_type_TZMulZPlus(v11, v14);
	VAL v16 = mw_mirth_data_Tag_sigZAsk(value_u64(v3));
	VAL branch_ZPlusMirth_17;
	VAL branch_ZPlusTypeElab_18;
	VAL branch_StackType_19;
	VAL branch_StackType_20;
	switch (get_data_tag(v16)) {
		case 0LL: { // None
			VAL v21 = mw_mirth_type_T0();
			branch_StackType_20 = v21;
			branch_StackType_19 = v15;
			branch_ZPlusTypeElab_18 = v10;
			branch_ZPlusMirth_17 = v13;
		} break;
		case 1LL: { // Some
			VAL v22 = mtp_std_maybe_Maybe_1_Some(v16);
			VTUP(v10)->cells[2] = v22;
			VAL v23 = mw_mirth_type_T0();
			VAL v24;
			VAL v25;
			VAL v26 = mw_mirth_elab_ZPlusTypeElab_elabZ_stackZ_typeZ_partsZBang(v13, v10, v23, &v24, &v25);
			branch_StackType_20 = v26;
			branch_StackType_19 = v15;
			branch_ZPlusTypeElab_18 = v25;
			branch_ZPlusMirth_17 = v24;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	VAL v27 = mw_mirth_type_TZ_ZTo(branch_StackType_20, branch_StackType_19);
	VAL v28 = VTUP(branch_ZPlusTypeElab_18)->cells[1];
	incref(v28);
	TUP* v29 = tup_pack2(v28, v27);
	mw_mirth_elab_ZPlusTypeElab_rdrop(branch_ZPlusTypeElab_18);
	push_resource(branch_ZPlusMirth_17);
	push_value(MKTUP(v29, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp14_0 (void) {
	VAL r0 = pop_resource();
	VAL v1 = pop_value();
	VAL v2;
	VAL v3 = mw_mirth_elab_elabZ_dataZ_paramsZBang(v1, r0, &v2);
	push_value(v3);
	push_resource(v2);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp15_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	VAL v2;
	VAL v3 = mw_mirth_elab_elabZ_simpleZ_typeZ_argZBang(r1, v0, &v2);
	push_resource(v2);
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp16_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	uint64_t v2 = mw_mirth_external_External_sig(v0);
	VAL v3;
	mw_mirth_elab_ZPlusTypeElab_typeZ_sigZ_startZBang(v2, &v3);
	VAL v4;
	VAL v5;
	VAL v6 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(r1, v3, &v4, &v5);
	VAL v7 = VTUP(v5)->cells[1];
	incref(v7);
	TUP* v8 = tup_pack2(v7, v6);
	mw_mirth_elab_ZPlusTypeElab_rdrop(v5);
	push_resource(v4);
	push_value(MKTUP(v8, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp17_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	VAL v2;
	VAL v3 = mw_mirth_elab_elabZ_defZ_externalZ_ctype(r1, v0, &v2);
	push_resource(v2);
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp18_1 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	VAL v2 = mw_mirth_word_Word_sigZAsk(v0);
	VAL branch_ZPlusMirth_3;
	TUP* branch__4;
	switch (get_data_tag(v2)) {
		case 1LL: { // Some
			VAL v5 = mtp_std_maybe_Maybe_1_Some(v2);
			VAL v6;
			mw_mirth_elab_ZPlusTypeElab_typeZ_sigZ_startZBang(value_u64(v5), &v6);
			VAL v7;
			VAL v8;
			VAL v9 = mw_mirth_elab_ZPlusTypeElab_elabZ_typeZ_sigZBang(r1, v6, &v7, &v8);
			VAL v10 = VTUP(v8)->cells[1];
			incref(v10);
			TUP* v11 = tup_pack2(v10, v9);
			mw_mirth_elab_ZPlusTypeElab_rdrop(v8);
			branch__4 = v11;
			branch_ZPlusMirth_3 = v7;
		} break;
		case 0LL: { // None
			VAL v12;
			VAL v13 = mw_mirth_word_Word_arrow(v0, r1, &v12);
			VAL v14;
			VAL v15 = mw_mirth_arrow_Arrow_ctxZ_type(v13, &v14);
			TUP* v16 = tup_pack2(v15, v14);
			branch__4 = v16;
			branch_ZPlusMirth_3 = v12;
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	push_resource(branch_ZPlusMirth_3);
	push_value(MKTUP(branch__4, 2));
}
static void mb_mirth_mirth_PropLabel_prop_1_sp19_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	VAL v2;
	VAL v3 = mw_mirth_elab_elabZ_defZ_paramsZBang(r1, v0, &v2);
	push_resource(v2);
	push_value(v3);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp20_5 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	VAL v2;
	VAL v3;
	uint64_t v4;
	VAL v5;
	uint64_t v6;
	VAL v7 = mw_mirth_elab_initialZ_ctxZ_typeZ_bodyZ_home(r1, v0, &v2, &v3, &v4, &v5, &v6);
	VAL v8;
	VAL v9 = mw_mirth_type_ArrowType_unpack(v3, &v8);
	incref(v9);
	VAL v10 = MKI64(0LL /* Nil */);
	VAL v11 = mtw_mirth_arrow_Arrow_Arrow(v5, v4, v4, v7, v9, v9, v10);
	VAL v12;
	VAL v13 = mw_mirth_word_Word_params(v0, v2, &v12);
	incref(v13);
	int64_t v14 = mw_std_list_List_1_emptyZAsk(v13);
	VAL branch_StackType_15;
	VAL branch_ZPlusMirth_16;
	VAL branch_ZPlusAB_17;
	if (((bool)v14)) {
		decref(v13);
		VAL v18;
		VAL v19;
		VAL v20 = mw_mirth_elab_elabZ_defZ_bodyZBang(v8, v12, v11, &v18, &v19);
		branch_ZPlusAB_17 = v19;
		branch_ZPlusMirth_16 = v18;
		branch_StackType_15 = v20;
	} else {
		VAL v21;
		uint64_t v22 = mw_mirth_elab_abZ_tokenZAt(v11, &v21);
		incref(v13);
		VAL v23;
		VAL v24 = mw_mirth_elab_abZ_ctxZAt(v21, &v23);
		VAL v25;
		VAL v26 = mw_mirth_elab_abZ_typeZAt(v23, &v25);
		VAL v27;
		VAL v28;
		VAL v29;
		VAL v30 = mw_std_list_List_1_reverseZ_for_1_sp8(v12, v25, v24, v26, v13, &v27, &v28, &v29);
		VAL v31;
		VAL v32 = mw_mirth_elab_abZ_homeZAt(v28, &v31);
		incref(v29);
		VAL v33 = MKI64(0LL /* Nil */);
		VAL v34 = mtw_mirth_arrow_Arrow_Arrow(v32, v22, v22, v30, v29, v29, v33);
		VAL v35;
		VAL v36;
		VAL v37 = mw_mirth_elab_elabZ_defZ_bodyZBang(v8, v27, v34, &v35, &v36);
		VAL v38;
		VAL v39 = mw_mirth_elab_abZ_ctxZAt(v31, &v38);
		VAL v40;
		VAL v41 = mw_mirth_elab_abZ_typeZAt(v38, &v40);
		VAL v42;
		uint64_t v43 = mw_mirth_elab_abZ_tokenZAt(v40, &v42);
		VAL v44 = mtw_mirth_arrow_Lambda_Lambda(v43, v39, v41, v13, v36);
		VAL v45 = mtw_mirth_arrow_Op_OpLambda(v44);
		VAL v46;
		VAL v47;
		mw_mirth_elab_abZ_opZBang(v45, v35, v42, &v46, &v47);
		branch_ZPlusAB_17 = v47;
		branch_ZPlusMirth_16 = v46;
		branch_StackType_15 = v37;
	}
	VAL v48;
	VAL v49;
	mw_mirth_elab_abZ_unifyZ_typeZBang(branch_StackType_15, branch_ZPlusMirth_16, branch_ZPlusAB_17, &v48, &v49);
	VAL v50;
	VAL v51 = mw_mirth_elab_finalizzeZ_wordZ_arrow(v48, v49, v6, &v50);
	incref(v51);
	VAL v52;
	mw_mirth_elab_checkZ_inlineZ_recursionZ_arrowZBang(v50, v0, v51, &v52);
	push_value(v51);
	push_resource(v52);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp21_0 (void) {
	uint64_t v0 = value_u64(pop_value());
	VAL r1 = pop_resource();
	VAL v2 = mw_mirth_arrow_Block_ctx(v0);
	VAL v3 = mw_mirth_arrow_Block_dom(v0);
	VAL v4 = mw_mirth_arrow_Block_cod(v0);
	uint64_t v5 = mw_mirth_arrow_Block_token(v0);
	VAL v6 = mw_mirth_arrow_Block_home(v0);
	VAL v7;
	VAL v8 = mw_mirth_elab_elabZ_arrowZ_homZBang(r1, v2, v3, v4, v5, v6, &v7);
	push_resource(v7);
	push_value(v8);
}
static void mb_mirth_mirth_PropLabel_prop_1_sp22_6 (void) {
	TUP* v0 = value_tup(pop_value(), 3);
	VAL r1 = pop_resource();
	VAL v2 = v0->cells[0];
	VAL v3 = v0->cells[1];
	VAL v4 = v0->cells[2];
	tup_decref_outer(v0, 3);
	incref(v3);
	STR* v5;
	STRLIT(v5, "target", 6);
	int64_t v6 = 0LL /* False */;
	int64_t v7 = 0LL /* False */;
	VAL v8;
	VAL v9;
	mw_mirth_elab_resolveZ_defZ_beginZBang(MKSTR(v5), value_u64(v3), v2, v7, v6, r1, &v8, &v9);
	int64_t v10 = mw_mirth_alias_Alias_arity(value_u64(v4));
	VAL v11 = VTUP(v9)->cells[4];
	incref(v11);
	VAL v12 = MKI64(0LL /* Nil */);
	VAL v13 = MKI64(0LL /* Nil */);
	int64_t v14 = 1LL /* True */;
	VAL v15 = v9;
	int64_t v16 = v10;
	VAL v17 = v12;
	VAL v18 = v13;
	VAL v19 = v11;
	int64_t v20 = v14;
	int64_t v21 = v14;
	while (((bool)v21)) {
		VAL v22 = v15;
		int64_t v23 = v16;
		VAL v24 = v17;
		VAL v25 = v18;
		VAL v26 = v19;
		int64_t v27 = v20;
		int64_t branch_Int_28;
		VAL branch_z_x1_29;
		VAL branch_List_30;
		VAL branch_List_31;
		VAL branch_List_32;
		int64_t branch_Bool_33;
		switch (get_data_tag(v26)) {
			case 1LL: { // Cons
				VAL v34;
				VAL v35 = mtp_std_list_List_1_Cons(v26, &v34);
				incref(v35);
				int64_t v36 = mw_mirth_def_Def_arity(v35);
				int64_t v37 = mw_mirth_elab_arityZ_compatibleZAsk(v23, v36);
				int64_t branch_Int_38;
				VAL branch_z_x1_39;
				VAL branch_Either_40;
				if (((bool)v37)) {
					VAL v41 = mtw_std_either_Either_2_Right(v35);
					branch_Either_40 = v41;
					branch_z_x1_39 = v22;
					branch_Int_38 = v23;
				} else {
					VAL v42 = mtw_mirth_elab_RejectedDef_RDz_WRONGz_ARITY(v35);
					VAL v43 = mtw_std_either_Either_2_Left(v42);
					branch_Either_40 = v43;
					branch_z_x1_39 = v22;
					branch_Int_38 = v23;
				}
				int64_t branch_Int_44;
				VAL branch_z_x1_45;
				VAL branch_List_46;
				VAL branch_List_47;
				switch (get_data_tag(branch_Either_40)) {
					case 0LL: { // Left
						VAL v48 = mtp_std_either_Either_2_Left(branch_Either_40);
						VAL v49 = mtw_std_list_List_1_Cons(v48, v24);
						branch_List_47 = v25;
						branch_List_46 = v49;
						branch_z_x1_45 = branch_z_x1_39;
						branch_Int_44 = branch_Int_38;
					} break;
					case 1LL: { // Right
						VAL v50 = mtp_std_either_Either_2_Right(branch_Either_40);
						VAL v51 = mtw_std_list_List_1_Cons(v50, v25);
						branch_List_47 = v51;
						branch_List_46 = v24;
						branch_z_x1_45 = branch_z_x1_39;
						branch_Int_44 = branch_Int_38;
					} break;
					default: {
						do_panic(str_make("unexpected fallthrough in match\n", 32));
					}
				}
				int64_t v52 = 1LL /* True */;
				branch_Bool_33 = v52;
				branch_List_32 = v34;
				branch_List_31 = branch_List_47;
				branch_List_30 = branch_List_46;
				branch_z_x1_29 = branch_z_x1_45;
				branch_Int_28 = branch_Int_44;
			} break;
			case 0LL: { // Nil
				VAL v53 = MKI64(0LL /* Nil */);
				int64_t v54 = 0LL /* False */;
				branch_Bool_33 = v54;
				branch_List_32 = v53;
				branch_List_31 = v25;
				branch_List_30 = v24;
				branch_z_x1_29 = v22;
				branch_Int_28 = v23;
			} break;
			default: {
				do_panic(str_make("unexpected fallthrough in match\n", 32));
			}
		}
		v21 = branch_Bool_33;
		v20 = branch_Bool_33;
		v19 = branch_List_32;
		v18 = branch_List_31;
		v17 = branch_List_30;
		v16 = branch_Int_28;
		v15 = branch_z_x1_29;
	}
	decref(v19);
	VAL v55 = mw_std_list_List_1_reverse(v17);
	VAL v56 = mw_std_list_List_1_reverse(v18);
	VAL v57 = VTUP(v15)->cells[5];
	incref(v57);
	VAL v58 = mw_std_list_List_1_cat(v55, v57);
	VAL v59 = VTUP(v15)->cells[5];
	decref(v59);
	VTUP(v15)->cells[5] = v58;
	VAL v60 = VTUP(v15)->cells[4];
	decref(v60);
	VTUP(v15)->cells[4] = v56;
	VAL v61;
	VAL v62;
	mw_mirth_elab_ZPlusResolveDef_filterZ_qualifiers(v8, v15, &v61, &v62);
	VAL v63 = MKI64(0LL /* Nil */);
	VAL v64;
	VAL v65;
	mw_mirth_elab_ZPlusResolveDef_filterZ_roots(v63, v61, v62, &v64, &v65);
	VAL v66;
	VAL v67 = mw_mirth_elab_resolveZ_defZ_endZBang(v64, v65, &v66);
	VAL branch_ZPlusMirth_68;
	VAL branch_z_x1_69;
	switch (get_data_tag(v67)) {
		case 1LL: { // Some
			VAL v70 = mtp_std_maybe_Maybe_1_Some(v67);
			branch_z_x1_69 = v70;
			branch_ZPlusMirth_68 = v66;
		} break;
		case 0LL: { // None
			mw_mirth_mirth_ZPlusMirth_panicZ_diagnosticsZBang(v66);
		} break;
		default: {
			do_panic(str_make("unexpected fallthrough in match\n", 32));
		}
	}
	uint64_t branch_Token_73;
	VAL branch_Def_74;
	VAL branch_ZPlusMirth_75;
	switch (get_data_tag(branch_z_x1_69)) {
		case 0LL: { // DefAlias
			uint64_t v76 = mtp_mirth_def_Def_DefAlias(branch_z_x1_69);
			void* v77 = mfld_mirth_alias_Alias_ZTildetarget(v76);
			VAL v78;
			VAL v79 = mw_mirth_mirth_Prop_1_tryZ_forceZBang(v77, branch_ZPlusMirth_68, &v78);
			VAL branch_ZPlusMirth_80;
			uint64_t branch_Token_81;
			VAL branch_z_x1_82;
			switch (get_data_tag(v79)) {
				case 1LL: { // Some
					VAL v83 = mtp_std_maybe_Maybe_1_Some(v79);
					branch_z_x1_82 = v83;
					branch_Token_81 = value_u64(v3);
					branch_ZPlusMirth_80 = v78;
				} break;
				case 0LL: { // None
					incref(v3);
					STR* v84;
					STRLIT(v84, "Alias points to itself, circular aliases are not allowed.", 57);
					mw_mirth_mirth_ZPlusMirth_emitZ_fatalZ_errorZBang(value_u64(v3), MKSTR(v84), v78);
				} break;
				default: {
					do_panic(str_make("unexpected fallthrough in match\n", 32));
				}
			}
			branch_ZPlusMirth_75 = branch_ZPlusMirth_80;
			branch_Def_74 = branch_z_x1_82;
			branch_Token_73 = branch_Token_81;
		} break;
		default: {
			branch_ZPlusMirth_75 = branch_ZPlusMirth_68;
			branch_Def_74 = branch_z_x1_69;
			branch_Token_73 = value_u64(v3);
		} break;
	}
	push_value(branch_Def_74);
	push_resource(branch_ZPlusMirth_75);
}
